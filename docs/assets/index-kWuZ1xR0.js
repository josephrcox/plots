var pd=Object.defineProperty;var hd=(t,e,n)=>e in t?pd(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var nn=(t,e,n)=>(hd(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();function _d(t){const e=pako.gzip(JSON.stringify(t));return btoa(String.fromCharCode.apply(null,e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function gd(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=atob(e),o=new Uint8Array(n.length);for(let r=0;r<n.length;r++)o[r]=n.charCodeAt(r);const i=pako.ungzip(o,{to:"string"});return JSON.parse(i)}async function bd(){let t=localStorage.getItem("plots_active_game_db");const e=await _d(t);console.log("http://localhost:5173/plots/?shareId="+e)}const ar=window.location.search.substring(1).split("&").reduce((t,e)=>{const[n,o]=e.split("=");return t[n]=o,t},{});if(ar.shareId!=null||ar.shareId!=null){console.log("DECRYPING FROM shareId");const t=JSON.parse(gd(ar.shareId));let e=localStorage.getItem("plots_active_game_db");(e==""||e==null)&&localStorage.setItem("plots_active_game_db",JSON.stringify(t))}else console.log("COMPRESSING GAME TO SHARE"),bd();function Me(){}const Wi=t=>t;function Q(t,e){for(const n in e)t[n]=e[n];return t}function Nf(t){return t()}function Ll(){return Object.create(null)}function je(t){t.forEach(Nf)}function Gt(t){return typeof t=="function"}function me(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function vd(t){return Object.keys(t).length===0}function nl(t,...e){if(t==null){for(const o of e)o(void 0);return Me}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Pf(t){let e;return nl(t,n=>e=n)(),e}function ue(t,e,n){t.$$.on_destroy.push(nl(e,n))}function _e(t,e,n,o){if(t){const i=Ef(t,e,n,o);return t[0](i)}}function Ef(t,e,n,o){return t[1]&&o?Q(n.ctx.slice(),t[1](o(e))):n.ctx}function ge(t,e,n,o){if(t[2]&&o){const i=t[2](o(n));if(e.dirty===void 0)return i;if(typeof i=="object"){const r=[],l=Math.max(e.dirty.length,i.length);for(let a=0;a<l;a+=1)r[a]=e.dirty[a]|i[a];return r}return e.dirty|i}return e.dirty}function be(t,e,n,o,i,r){if(i){const l=Ef(e,n,o,r);t.p(l,i)}}function ve(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let o=0;o<n;o++)e[o]=-1;return e}return-1}function $e(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function se(t,e){const n={};e=new Set(e);for(const o in t)!e.has(o)&&o[0]!=="$"&&(n[o]=t[o]);return n}function Re(t,e,n){return t.set(n),e}function We(t){return t&&Gt(t.destroy)?t.destroy:Me}const Rf=typeof window<"u";let ol=Rf?()=>window.performance.now():()=>Date.now(),il=Rf?t=>requestAnimationFrame(t):Me;const Jn=new Set;function Lf(t){Jn.forEach(e=>{e.c(t)||(Jn.delete(e),e.f())}),Jn.size!==0&&il(Lf)}function rl(t){let e;return Jn.size===0&&il(Lf),{promise:new Promise(n=>{Jn.add(e={c:t,f:n})}),abort(){Jn.delete(e)}}}function v(t,e){t.appendChild(e)}function $f(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function yd(t){const e=I("style");return e.textContent="/* empty */",wd($f(t),e),e.sheet}function wd(t,e){return v(t.head||t,e),e.sheet}function O(t,e,n){t.insertBefore(e,n||null)}function M(t){t.parentNode&&t.parentNode.removeChild(t)}function at(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function I(t){return document.createElement(t)}function Yi(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function G(t){return document.createTextNode(t)}function B(){return G(" ")}function De(){return G("")}function ee(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function P(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}const kd=["width","height"];function fe(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const o in e)e[o]==null?t.removeAttribute(o):o==="style"?t.style.cssText=e[o]:o==="__value"?t.value=t[o]=e[o]:n[o]&&n[o].set&&kd.indexOf(o)===-1?t[o]=e[o]:P(t,o,e[o])}function mi(t,e){for(const n in e)P(t,n,e[n])}function Cd(t,e){Object.keys(e).forEach(n=>{Ad(t,n,e[n])})}function Ad(t,e,n){const o=e.toLowerCase();o in t?t[o]=typeof t[o]=="boolean"&&n===""?!0:n:e in t?t[e]=typeof t[e]=="boolean"&&n===""?!0:n:P(t,e,n)}function un(t){return/-/.test(t)?Cd:fe}function Sd(t){return Array.from(t.childNodes)}function ae(t,e){e=""+e,t.data!==e&&(t.data=e)}function pi(t,e){t.value=e??""}function ze(t,e,n,o){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,"")}function $l(t,e,n){for(let o=0;o<t.options.length;o+=1){const i=t.options[o];if(i.__value===e){i.selected=!0;return}}t.selectedIndex=-1}function on(t,e,n){t.classList.toggle(e,!!n)}function Df(t,e,{bubbles:n=!1,cancelable:o=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:o})}class Xt{constructor(e=!1){nn(this,"is_svg",!1);nn(this,"e");nn(this,"n");nn(this,"t");nn(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,n,o=null){this.e||(this.is_svg?this.e=Yi(n.nodeName):this.e=I(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(e)),this.i(o)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)O(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(M)}}const hi=new Map;let _i=0;function Td(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function Md(t,e){const n={stylesheet:yd(e),rules:{}};return hi.set(t,n),n}function gi(t,e,n,o,i,r,l,a=0){const s=16.666/o;let u=`{
`;for(let g=0;g<=1;g+=s){const A=e+(n-e)*r(g);u+=g*100+`%{${l(A,1-A)}}
`}const f=u+`100% {${l(n,1-n)}}
}`,c=`__svelte_${Td(f)}_${a}`,d=$f(t),{stylesheet:h,rules:m}=hi.get(d)||Md(d,t);m[c]||(m[c]=!0,h.insertRule(`@keyframes ${c} ${f}`,h.cssRules.length));const p=t.style.animation||"";return t.style.animation=`${p?`${p}, `:""}${c} ${o}ms linear ${i}ms 1 both`,_i+=1,c}function bi(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?r=>r.indexOf(e)<0:r=>r.indexOf("__svelte")===-1),i=n.length-o.length;i&&(t.style.animation=o.join(", "),_i-=i,_i||Od())}function Od(){il(()=>{_i||(hi.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&M(e)}),hi.clear())})}let Do;function No(t){Do=t}function Vo(){if(!Do)throw new Error("Function called outside component initialization");return Do}function Ui(t){Vo().$$.on_mount.push(t)}function Id(t){Vo().$$.on_destroy.push(t)}function Nd(){const t=Vo();return(e,n,{cancelable:o=!1}={})=>{const i=t.$$.callbacks[e];if(i){const r=Df(e,n,{cancelable:o});return i.slice().forEach(l=>{l.call(t,r)}),!r.defaultPrevented}return!0}}function Ki(t,e){return Vo().$$.context.set(t,e),e}function Xi(t){return Vo().$$.context.get(t)}function ie(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(o=>o.call(this,e))}const Un=[],Le=[];let xn=[];const Ir=[],qf=Promise.resolve();let Nr=!1;function Ff(){Nr||(Nr=!0,qf.then(Bf))}function ll(){return Ff(),qf}function lt(t){xn.push(t)}function pn(t){Ir.push(t)}const ur=new Set;let Hn=0;function Bf(){if(Hn!==0)return;const t=Do;do{try{for(;Hn<Un.length;){const e=Un[Hn];Hn++,No(e),Pd(e.$$)}}catch(e){throw Un.length=0,Hn=0,e}for(No(null),Un.length=0,Hn=0;Le.length;)Le.pop()();for(let e=0;e<xn.length;e+=1){const n=xn[e];ur.has(n)||(ur.add(n),n())}xn.length=0}while(Un.length);for(;Ir.length;)Ir.pop()();Nr=!1,ur.clear(),No(t)}function Pd(t){if(t.fragment!==null){t.update(),je(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(lt)}}function Ed(t){const e=[],n=[];xn.forEach(o=>t.indexOf(o)===-1?e.push(o):n.push(o)),n.forEach(o=>o()),xn=e}let go;function sl(){return go||(go=Promise.resolve(),go.then(()=>{go=null})),go}function wn(t,e,n){t.dispatchEvent(Df(`${e?"intro":"outro"}${n}`))}const li=new Set;let qt;function Oe(){qt={r:0,c:[],p:qt}}function Ie(){qt.r||je(qt.c),qt=qt.p}function C(t,e){t&&t.i&&(li.delete(t),t.i(e))}function S(t,e,n,o){if(t&&t.o){if(li.has(t))return;li.add(t),qt.c.push(()=>{li.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}else o&&o()}const al={duration:0};function Vt(t,e,n){const o={direction:"in"};let i=e(t,n,o),r=!1,l,a,s=0;function u(){l&&bi(t,l)}function f(){const{delay:d=0,duration:h=300,easing:m=Wi,tick:p=Me,css:g}=i||al;g&&(l=gi(t,0,1,h,d,m,g,s++)),p(0,1);const A=ol()+d,b=A+h;a&&a.abort(),r=!0,lt(()=>wn(t,!0,"start")),a=rl(w=>{if(r){if(w>=b)return p(1,0),wn(t,!0,"end"),u(),r=!1;if(w>=A){const E=m((w-A)/h);p(E,1-E)}}return r})}let c=!1;return{start(){c||(c=!0,bi(t),Gt(i)?(i=i(o),sl().then(f)):f())},invalidate(){c=!1},end(){r&&(u(),r=!1)}}}function Wt(t,e,n){const o={direction:"out"};let i=e(t,n,o),r=!0,l;const a=qt;a.r+=1;let s;function u(){const{delay:f=0,duration:c=300,easing:d=Wi,tick:h=Me,css:m}=i||al;m&&(l=gi(t,1,0,c,f,d,m));const p=ol()+f,g=p+c;lt(()=>wn(t,!1,"start")),"inert"in t&&(s=t.inert,t.inert=!0),rl(A=>{if(r){if(A>=g)return h(0,1),wn(t,!1,"end"),--a.r||je(a.c),!1;if(A>=p){const b=d((A-p)/c);h(1-b,b)}}return r})}return Gt(i)?sl().then(()=>{i=i(o),u()}):u(),{end(f){f&&"inert"in t&&(t.inert=s),f&&i.tick&&i.tick(1,0),r&&(l&&bi(t,l),r=!1)}}}function jt(t,e,n,o){let r=e(t,n,{direction:"both"}),l=o?0:1,a=null,s=null,u=null,f;function c(){u&&bi(t,u)}function d(m,p){const g=m.b-l;return p*=Math.abs(g),{a:l,b:m.b,d:g,duration:p,start:m.start,end:m.start+p,group:m.group}}function h(m){const{delay:p=0,duration:g=300,easing:A=Wi,tick:b=Me,css:w}=r||al,E={start:ol()+p,b:m};m||(E.group=qt,qt.r+=1),"inert"in t&&(m?f!==void 0&&(t.inert=f):(f=t.inert,t.inert=!0)),a||s?s=E:(w&&(c(),u=gi(t,l,m,g,p,A,w)),m&&b(0,1),a=d(E,g),lt(()=>wn(t,m,"start")),rl(D=>{if(s&&D>s.start&&(a=d(s,g),s=null,wn(t,a.b,"start"),w&&(c(),u=gi(t,l,a.b,a.duration,0,A,r.css))),a){if(D>=a.end)b(l=a.b,1-l),wn(t,a.b,"end"),s||(a.b?c():--a.group.r||je(a.group.c)),a=null;else if(D>=a.start){const $=D-a.start;l=a.a+a.d*A($/a.duration),b(l,1-l)}}return!!(a||s)}))}return{run(m){Gt(r)?sl().then(()=>{r=r({direction:m?"in":"out"}),h(m)}):h(m)},end(){c(),a=s=null}}}function Ue(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Rd(t,e){S(t,1,1,()=>{e.delete(t.key)})}function Ld(t,e,n,o,i,r,l,a,s,u,f,c){let d=t.length,h=r.length,m=d;const p={};for(;m--;)p[t[m].key]=m;const g=[],A=new Map,b=new Map,w=[];for(m=h;m--;){const R=c(i,r,m),j=n(R);let F=l.get(j);F?w.push(()=>F.p(R,e)):(F=u(j,R),F.c()),A.set(j,g[m]=F),j in p&&b.set(j,Math.abs(m-p[j]))}const E=new Set,D=new Set;function $(R){C(R,1),R.m(a,f),l.set(R.key,R),f=R.first,h--}for(;d&&h;){const R=g[h-1],j=t[d-1],F=R.key,N=j.key;R===j?(f=R.first,d--,h--):A.has(N)?!l.has(F)||E.has(F)?$(R):D.has(N)?d--:b.get(F)>b.get(N)?(D.add(F),$(R)):(E.add(N),d--):(s(j,l),d--)}for(;d--;){const R=t[d];A.has(R.key)||s(R,l)}for(;h;)$(g[h-1]);return je(w),g}function Te(t,e){const n={},o={},i={$$scope:1};let r=t.length;for(;r--;){const l=t[r],a=e[r];if(a){for(const s in l)s in a||(o[s]=1);for(const s in a)i[s]||(n[s]=a[s],i[s]=1);t[r]=a}else for(const s in l)i[s]=1}for(const l in o)l in n||(n[l]=void 0);return n}function ut(t){return typeof t=="object"&&t!==null?t:{}}function hn(t,e,n){const o=t.$$.props[e];o!==void 0&&(t.$$.bound[o]=n,n(t.$$.ctx[o]))}function X(t){t&&t.c()}function U(t,e,n){const{fragment:o,after_update:i}=t.$$;o&&o.m(e,n),lt(()=>{const r=t.$$.on_mount.map(Nf).filter(Gt);t.$$.on_destroy?t.$$.on_destroy.push(...r):je(r),t.$$.on_mount=[]}),i.forEach(lt)}function K(t,e){const n=t.$$;n.fragment!==null&&(Ed(n.after_update),je(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function $d(t,e){t.$$.dirty[0]===-1&&(Un.push(t),Ff(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function pe(t,e,n,o,i,r,l=null,a=[-1]){const s=Do;No(t);const u=t.$$={fragment:null,ctx:[],props:r,update:Me,not_equal:i,bound:Ll(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(s?s.$$.context:[])),callbacks:Ll(),dirty:a,skip_bound:!1,root:e.target||s.$$.root};l&&l(u.root);let f=!1;if(u.ctx=n?n(t,e.props||{},(c,d,...h)=>{const m=h.length?h[0]:d;return u.ctx&&i(u.ctx[c],u.ctx[c]=m)&&(!u.skip_bound&&u.bound[c]&&u.bound[c](m),f&&$d(t,c)),d}):[],u.update(),f=!0,je(u.before_update),u.fragment=o?o(u.ctx):!1,e.target){if(e.hydrate){const c=Sd(e.target);u.fragment&&u.fragment.l(c),c.forEach(M)}else u.fragment&&u.fragment.c();e.intro&&C(t.$$.fragment),U(t,e.target,e.anchor),Bf()}No(s)}class he{constructor(){nn(this,"$$");nn(this,"$$set")}$destroy(){K(this,1),this.$destroy=Me}$on(e,n){if(!Gt(n))return Me;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const i=o.indexOf(n);i!==-1&&o.splice(i,1)}}$set(e){this.$$set&&!vd(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Dd="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Dd);const Gn=[];function kn(t,e){return{subscribe:Xe(t,e).subscribe}}function Xe(t,e=Me){let n;const o=new Set;function i(a){if(me(t,a)&&(t=a,n)){const s=!Gn.length;for(const u of o)u[1](),Gn.push(u,t);if(s){for(let u=0;u<Gn.length;u+=2)Gn[u][0](Gn[u+1]);Gn.length=0}}}function r(a){i(a(t))}function l(a,s=Me){const u=[a,s];return o.add(u),o.size===1&&(n=e(i,r)||Me),a(t),()=>{o.delete(u),o.size===0&&n&&(n(),n=null)}}return{set:i,update:r,subscribe:l}}function en(t,e,n){const o=!Array.isArray(t),i=o?[t]:t;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const r=e.length<2;return kn(n,(l,a)=>{let s=!1;const u=[];let f=0,c=Me;const d=()=>{if(f)return;c();const m=e(o?u[0]:u,l,a);r?l(m):c=Gt(m)?m:Me},h=i.map((m,p)=>nl(m,g=>{u[p]=g,f&=~(1<<p),s&&d()},()=>{f|=1<<p}));return s=!0,d(),function(){je(h),c(),s=!1}})}function Dl(t){return{subscribe:t.subscribe.bind(t)}}const qd={plots:[],timeSpent:0,lastChangeDay:0,townLog:[],currentTutorialStep:0,gameSettings:[],resource_capacity:1e3,townInfo:{name:"Your town",gold:150,population_count:0,population_max:0,employees:0,guardians:0,happiness:150,health:150,recreation:0,community:150,knowledge_points:0,productivity:100},kingdom_expansions:0,resources:{food:150,wood:750,stone:750,metal:0,power:0,bureaucracy:0},resource_rate:{food:0,wood:0,stone:0,metal:0,bureaucracy:0,knowledge:0},hasCityHall:!1,hasBank:!1,hasHospital:!1,hasLab:!1,modifiers:{happiness:1,health:1,community:1},economyAndLaws:{tax_rate:.1,max_tax_rate:1,weeklyProfit:0,knowledge_gold_market_rates:[],enacted:[]},plotCounts:[],environment:{day:0,year:1},maximums:{health:300,happiness:300,community:300},difficulty:0,endGoal:"land",endGameDetails:{msg:"",win:!1,still_playing:!0},tick:0,overtime:!1,last_warning_happiness:0,last_warning_health:0,lab:{active_experiment:null,past_experiments:[],xp:0},liege_location:null},Fd={username:"",stats:{games_played:0,wins:0,losses:0},achievements:[]},ul={0:"Easy",1:"Normal",2:"Hard"},Bd={0:Math.random()*(.5-.3)+.3,1:Math.random()*(.4-.2)+.2,2:Math.random()*(.4-.2)+.2},oe=[{id:"small_homes",title:"🏠 Homes",type:"residential",description:"+16 people",revenue_per_week:0,requirements:{gold:150,plots:[],employees:0,knowledge:0,size:1,xp:0,resources:{food:0,wood:50,stone:10,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:16,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:2,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"Listen to the townspeople."},{id:"large_homes",title:"🏡 Large Homes",type:"residential",description:"+32 people",revenue_per_week:0,requirements:{gold:1800,plots:[],employees:0,knowledge:0,size:1,xp:0,resources:{food:0,wood:350,stone:100,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.01,health:1,community:1},immediate_variable_changes:{happiness:10,health:0,population:32,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:40,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"Listen to the townspeople."},{id:"farm",title:"🥕 Farm",type:"farm",description:"Produces veggies, grains, fruit",revenue_per_week:6,requirements:{gold:80,plots:[],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:10,stone:10,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.03,health:1.03,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:5,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},check_for_variety:!1,liege_on_plot_hint:"Your presence on the farm is encouraging the farmers to work harder!"},{id:"tree_farm",title:"🌲 Tree Farm",type:"lumber",description:"Produces some wood",revenue_per_week:8,requirements:{gold:300,plots:[],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},check_for_variety:!0,styling:"",affordable:null,selected:null,knowledge_points_per_month:0,generated_resources:{food:0,wood:10,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"Your presence on the farm is encouraging the farmers to work harder!"},{id:"quarry",title:"⛏️ Quarry",type:"quarry",description:"Produces stone, small amounts of metal. Isn't great for health. ",revenue_per_week:0,requirements:{gold:800,plots:[],employees:6,knowledge:0,size:1,xp:0,resources:{food:0,wood:50,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:.98,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:18,metal:1,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"The workers at the quarry are working harder with the presence of their liege."},{id:"Apothecary",title:"🌿 Apothecary",type:"medical",description:"Produces medicine from herbs and plants found in the forest. Increases health overall for a short bit. Fine until you can build a Healing House.",revenue_per_week:0,requirements:{gold:600,plots:[],employees:2,knowledge:0,size:1,xp:0,resources:{food:0,wood:250,stone:250,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.01,health:1.06,community:1},immediate_variable_changes:{happiness:25,health:70,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"livestock_farm",title:"🐄 Livestock",type:"farm",description:"Makes more money and food than a regular farm, but doesn't bonus from water.",revenue_per_week:60,requirements:{gold:600,plots:[],employees:8,knowledge:0,size:1,xp:0,resources:{food:0,wood:20,stone:20,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.1,health:1.05,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:14,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},check_for_variety:!1,liege_on_plot_hint:"The cows are producing more milk and cheese when you are hanging out on the farm."},{id:"stockpile",title:"📦 Stockpile",type:"stockpile",description:"Enables you to store more resources. Costs gold weekly.",revenue_per_week:0,requirements:{gold:600,plots:[],employees:2,knowledge:0,size:1,xp:0,resources:{food:0,wood:220,stone:60,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:30,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},check_for_variety:!1,liege_on_plot_hint:null},{id:"adv_stockpile",title:"📦 Adv. Stockpile",type:"stockpile",description:"Stores more than a normal Stockpile. Costs more to build & operate.",revenue_per_week:0,requirements:{gold:3e3,plots:[],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:2e3,stone:2e3,metal:200,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:100,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},check_for_variety:!1,liege_on_plot_hint:null},{id:"bakery",title:"🥖 Bakery",type:"business",description:"Converts food into some extra cash. Make sure you have enough food.",revenue_per_week:80,requirements:{gold:1800,plots:[],employees:3,knowledge:0,size:1,xp:0,resources:{food:0,wood:300,stone:300,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.11,health:.95,community:1},immediate_variable_changes:{happiness:25,health:0,population:0,community:0,bureaucracy:0},check_for_variety:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:15},liege_on_plot_hint:null},{id:"stables",title:"🐴 Stables",type:"recreation",description:"Improves the health of the town and provides recreation.",revenue_per_week:24,requirements:{gold:1700,plots:[],employees:2,knowledge:0,size:1,xp:0,resources:{food:0,wood:280,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.2,health:1.2,community:1},immediate_variable_changes:{happiness:5,health:10,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"church",title:"⛪️ Church",type:"recreation",description:"Makes people VERY happy for a short period.",revenue_per_week:0,requirements:{gold:900,plots:[],employees:1,knowledge:0,size:1,xp:0,resources:{food:0,wood:1250,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:2,health:1,community:1.3},immediate_variable_changes:{happiness:25,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"pub",title:"🍻 Pub",type:"recreation",description:"Generates knowledge, happiness, community. Isn't great for health.",revenue_per_week:100,knowledge_points_per_month:1,requirements:{gold:2e3,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:1200,stone:250,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.2,health:.97,community:1.1},immediate_variable_changes:{happiness:10,health:-15,population:0,community:0,bureaucracy:0},check_for_variety:!0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"village_market",title:"🛒 Market",type:"shop",description:"Turns food into money. Sells goods and employs many. Makes significantly more money from tourism if you have a Village Inn.",revenue_per_week:150,requirements:{gold:3e3,plots:[],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:1600,stone:600,metal:5,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.05,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:35},liege_on_plot_hint:"Your presence is helping the market make more money."},{id:"fishery",title:"🐠 Fishery",type:"business",description:"Requires metal but generates a lot of food. Must be near water.",revenue_per_week:35,requirements:{gold:3500,plots:[],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:2500,stone:0,metal:100,power:0,bureaucracy:0},adjacent_plots:["water"]},effect_modifiers:{happiness:1.05,health:1,community:1},immediate_variable_changes:{happiness:15,health:8,population:0,community:0,bureaucracy:0},check_for_variety:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:130,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"Your expertise in fishing is helping the town reel in far more fish!"},{id:"vineyard",title:"🍇 Vineyard",type:"recreation",description:"Makes fair money, lowers health. Generates knowledge too similar to a pub.",revenue_per_week:60,requirements:{gold:1800,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:1200,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.2,health:.9,community:1},immediate_variable_changes:{happiness:0,health:-10,population:0,community:0,bureaucracy:0},knowledge_points_per_month:3,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"water_wheel",title:"💧 Water Wheel",type:"industrial",description:"Produces small amount of power",revenue_per_week:0,requirements:{gold:1600,plots:[],employees:15,knowledge:0,size:1,xp:0,resources:{food:0,wood:2e3,stone:25,metal:0,power:0,bureaucracy:0},adjacent_plots:["water"]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:35,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"You are trying to improve the efficiency of the water wheel, but you aren't making a difference."},{id:"adv_water_wheel",title:"💧 Adv. Water Wheel",type:"industrial",description:"Produces a large amount of power",revenue_per_week:0,requirements:{gold:3e3,plots:["blacksmith"],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:1200,stone:150,metal:500,power:0,bureaucracy:0},adjacent_plots:["water"]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:250,bureaucracy:0},level:4,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"You are trying to improve the efficiency of the water wheel, but you aren't making a difference."},{id:"adv_farm",title:"🌾 Adv. Farm",type:"farm",description:"Uses knowledge and technology to produce more food, with only 1 employee.",revenue_per_week:60,requirements:{gold:750,plots:[],employees:1,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:300,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:15,health:15,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:180,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:100,wood:0,stone:0,metal:3,bureaucracy:0,food:0},check_for_variety:!1,liege_on_plot_hint:"Your presence on the farm is encouraging the farmer to work harder!"},{id:"park",title:"🎪 Park",type:"recreation",description:"Makes people extremely happy & healthy for a period. Improves community.",revenue_per_week:0,requirements:{gold:600,plots:[],employees:3,knowledge:0,size:1,xp:0,resources:{food:0,wood:100,stone:100,metal:10,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.5,health:1.5,community:1.3},immediate_variable_changes:{happiness:40,health:40,population:0,community:40,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"village_inn",title:"🛌 Village Inn",type:"tourism",description:"Each inn brings more visitors to your town, increasing profits for the Market and other stores.",revenue_per_week:40,requirements:{gold:5500,plots:[],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:3e3,stone:100,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1.02},immediate_variable_changes:{happiness:10,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:20,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"schoolhouse",title:"🏫 Schoolhouse",type:"education",description:"Produces knowledge, costs money to run.",revenue_per_week:0,knowledge_points_per_month:75,requirements:{gold:15e3,plots:["lumber_mill"],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:3e3,stone:600,metal:100,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.1,health:1.1,community:1.2},immediate_variable_changes:{happiness:15,health:3,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:50,power:20,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"The children seem to be learning worse when you are around, maybe you are a distraction from the teachers."},{id:"blacksmith",title:"⚒️ Blacksmith",type:"business",description:"Converts metal into tools for money. Make sure you have enough metal!",revenue_per_week:300,requirements:{gold:12500,plots:[],employees:24,knowledge:0,size:1,xp:0,resources:{food:0,wood:250,stone:4e3,metal:500,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:.95},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:30,wood:0,stone:0,metal:5,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"library",title:"📕 Library",type:"recreation",description:"Produces knowledge and happiness",revenue_per_week:0,knowledge_points_per_month:10,requirements:{gold:2e3,plots:["lumber_mill"],employees:6,knowledge:0,size:1,xp:0,resources:{food:0,wood:2025,stone:500,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.3,health:1,community:1.1},immediate_variable_changes:{happiness:15,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"lumber_mill",title:"🏭 Lumber Mill",type:"industrial",description:"Increases wood production by 50%, has to be next to a tree farm, but increases production at all.",revenue_per_week:0,requirements:{gold:12e3,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:100,stone:100,metal:300,power:0,bureaucracy:0},adjacent_plots:["tree_farm"]},effect_modifiers:{happiness:1.2,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:50,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:40,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"solar_farm",title:"☀️ Solar farm",type:"industrial",description:"Produces a lot of power without the need of water. Requires a lot of metal every week.",revenue_per_week:0,requirements:{gold:15e3,plots:["blacksmith"],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:500,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:1e3,bureaucracy:0},level:4,active_costs:{gold:0,power:0,wood:0,stone:0,metal:25,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"general_store",title:"🛒 General Store",type:"shop",description:"Makes the most money of any plot, requires power. Makes significantly more from tourism if you have a Village Inn.",revenue_per_week:750,requirements:{gold:27500,plots:[],employees:32,knowledge:0,size:1,xp:0,resources:{food:0,wood:3e4,stone:5e3,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:2,health:2,community:1.1},immediate_variable_changes:{happiness:50,health:50,population:0,community:50,bureaucracy:0},check_for_variety:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:160,wood:0,stone:0,metal:0,bureaucracy:0,food:100},liege_on_plot_hint:"Your experience managing towns is increasing the profits at the general store!"},{id:"healing_house",title:"🏥 Healing House",type:"medical",description:"Treats the sick and continuously improves health.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:3e4,plots:["mine"],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:1e3,stone:2e3,metal:500,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.25,health:1.5,community:1.1},immediate_variable_changes:{happiness:5,health:75,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:30,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"community_center",title:"🫶 Community Center",type:"recreation",description:"Improves community, makes people happier, costs money",revenue_per_week:0,requirements:{gold:16e3,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:7500,stone:700,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.09,health:1,community:2},immediate_variable_changes:{happiness:50,health:15,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:10,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"city_hall",title:"🗳️ City Hall",type:"federal",description:"Generates bureaucracy that can be used to pass laws to impact the city and expand. Costs a LOT of gold every week.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:125e3,plots:[],employees:32,knowledge:1e4,size:1,xp:0,resources:{food:0,wood:3250,stone:2e3,metal:200,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1.3},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:10},level:5,active_costs:{gold:600,power:20,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"mine",title:"⛏️ Mine",type:"mine",description:"Produces a significant amount of metal and stone.",revenue_per_week:0,requirements:{gold:3e4,plots:["blacksmith"],employees:48,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:110,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:.95,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:10,metal:60,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:80,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"academy",title:"🏫 Academy",type:"education",description:"Produces a lot of knowledge, more than a schoolhouse or library. But freakishly expensive.",revenue_per_week:0,knowledge_points_per_month:400,requirements:{gold:99e3,plots:["lumber_mill","schoolhouse"],employees:24,knowledge:3e3,size:1,xp:0,resources:{food:0,wood:3e3,stone:1600,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:5,active_costs:{gold:300,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"bank",title:"🏦 Bank",type:"bank",description:"Enables the conversion of knowledge to gold, and increases maximum tax rate so you can make more money.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:1e5,plots:[],employees:32,knowledge:25e3,size:1,xp:0,resources:{food:0,wood:1e3,stone:1e4,metal:1e3,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:.8,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:5,active_costs:{gold:0,power:100,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"lab",title:"🧪 Laboratory",type:"science",description:"Designs things to help the city grow",revenue_per_week:0,knowledge_points_per_month:300,requirements:{gold:1e5,plots:[],employees:48,knowledge:15e3,size:1,xp:0,resources:{food:0,wood:0,stone:1e4,metal:5e3,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:.98,health:.99,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:5,active_costs:{gold:0,power:300,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null}],Vn={empty_unusable:"rgba(255,255,255,0.50)",empty_buildable:"#EFEA5A",residential:"#de7633",farm:"#6b8f49",lumber:"#8E805C",business:"#9273a5",recreation:"#5277b1",shop:"#5277b1",tourism:"#d896d8",education:"#9997DF",medical:"#4a5ba3",bank:"#8477be",federal:"#8477be",science:"#4a5ba3",mine:"#d9874a",quarry:"#868685",industrial:"#868615",stockpile:"#868685"};function vi(t,e=!1){if(t<0)return t==-1?e?Vn.empty_buildable:Vn.empty_unusable:t==-2?Vn.recreation:Vn.empty_unusable;const n=oe[t];return Vn[n.type],Vn[n.type]}const ql={lab:1,city_hall:1,bank:1,community_center:1,inn:1},$t="plots_active_game_db",zn="plots_user_db";function jd(){const t=["York","London","Paris","Madrid","Rome","Berlin","Vienna","Prague","Warsaw","Oslo","Lisbon","Dublin","Brussels","Amsterdam","Stockholm","Copenhagen","Edinburgh","Moscow","Beijing","Tokyo","Seoul","Bangkok","Delhi","Mumbai","Shanghai","Sydney","Melbourne","Cairo","Dubai","Istanbul","Athens","Budapest","Reykjavik","Helsinki","Tallinn","Riga","Vilnius","Sofia","Bucharest","Belgrade","Zagreb","Sarajevo","Ljubljana","Skopje","Tirana","Podgorica","Thessaloniki","Barcelona","Valencia","Seville","Granada","Malaga","Lyon","Marseille","Toulouse","Nice","Nantes","Strasbourg","Bordeaux","Lille","Venice","Milan","Florence","Naples","Turin","Bologna","Perugia","Genoa","Pisa","Verona","Palermo","Catania","Bari","Padua","Cagliari","Krakow","Gdansk","Poznan","Wroclaw","Lodz","Katowice","Bialystok","Gdynia","Sopot","Bydgoszcz","Lublin","Szczecin","Gorzow","Zakopane","Olsztyn","Torun","Rzeszow","Kielce","Radom","Siedlce","Los","Angeles","Chicago","Houston","Phoenix","San","Antonio","San","Diego","Dallas","San","Jose","Austin","Jacksonville","Fort","Worth","Columbus","Charlotte","Liverpool","Manchester","Glasgow","Birmingham","Leeds","Sheffield","Newcastle","upon","Tyne","Bristol","Nottingham","Leicester","Coventry","Belfast","Reading","Cardiff","Southampton","Aberdeen","Plymouth","Stoke","Trent","Wolverhampton","Swansea","Sunderland","Portsmouth","Yorkshire","Hull","Blackpool","Bradford","Derby","Middlesbrough","Peterborough","Stockton","on","Tees","Brighton","Poole","Bournemouth","Huddersfield","Luton","Oxford","Norwich","Oldham","Cambridge","Exeter","Walsall","Colchester","Watford","Rotherham","Newport","Gateshead","Dundee","Gloucester","Solihull","High","Wycombe","Maidstone","Slough","Basildon","Chelmsford","Salford","Bedford","Stevenage","Woking","Grimsby","Birkenhead","Halifax","Warrington","Gillingham","Wigan","Worcester","Wakefield","Lincoln","Chester","Rochdale","Dagenham","Widnes","St","Albans","Mansfield","Sutton","Coldfield","Crawley","Wokingham","Barnsley","St","Helens","Harrogate","Redditch","Scunthorpe","Nuneaton","Chesterfield","Hemel","Hempstead","Bury","Guildford","Ashford","Telford","Newcastle","under","Lyme","Aylesbury","Halesowen","Shrewsbury","Lowestoft","Loughborough","Cheltenham","Kidderminster","Basingstoke","Rugby","Stourbridge","Southport","Kettering","Royal","Leamington","Spa","Beeston","Farnborough","Wrexham","Banbury","Weymouth","Wallsend","Dartford","Grays","Tamworth","Ashford","Esher","Folkestone","Tonbridge","Taunton","Runcorn","Macclesfield","Keighley","Bridgend","Barnstaple","Letchworth","Garden","City","Worthing","Gosport","Eastleigh","Staines","upon","Thames","Lisburn","Livingston","Bognor","Regis","Scarborough","Cannock","Margate","Chippenham","Rhondda","Maidenhead","Wellingborough","Washington","Camberley","Bootle","Lancaster","Llanelli","Chatham","Cheshunt","Bishop","Auckland","Nelson","Belper","Pontefract","Barry","Braintree","Crosby","Bury","St","Edmunds","Bexhill","Margate","Aldershot","Rowley","Regis","Hoddesdon","Sittingbourne","Rugby","Newquay","Falmouth","Stretford","Camberley","Beverley","Windsor","Rochester","Wickford","Diss","Farnham","Andover","Camberwell","Bermondsey","Lewisham","Wembley","Hayes","Harrow","Ilford","Enfield","Twickenham","Richmond","Brentwood","Edgware","Ealing","Greenwich","Bromley","Hounslow","Romford","Hillingdon","Uxbridge","Wandsworth","Sutton","Kingston","upon","Thames","Bexley","Havering","Barking"],e=["ia","ville","ton","land","field","burgh","ford","wood","port","bay","beach","peak","valley","ridge","hill","dale","island","cape","spring","grove","polis","side","view","shore","haven","place","gardens","plaza","square"],n=["New","Old","North","South","East","West","Upper","Lower","Little","Great","Saint","Fort","Mount","Lake","River","The Village of","The City of","The Town of","The Borough of","The County of","The State of","The Kingdom of","The Empire of","The Republic of","The Commonwealth of","The Union of","The Federation of","Rainy","Sunny","Windy","Frosty","Snowy"];function o(s){return s[Math.floor(Math.random()*s.length)]}let i=o(n),r=o(t),l=o(e),a="";return Math.random()>.5?a=i+" "+r+l:a=r+l,a}let Fe=Xe(JSON.parse(localStorage.getItem($t)||"null")),Zt=Xe(JSON.parse(localStorage.getItem(zn)||"null"));Vd();function Hd(t,e,n,o){let i={...qd};i.gameSettings=o,i.economyAndLaws.max_tax_rate=Bd[t],i.endGoal=e;let r=[];n=n.replace(/[^a-zA-Z0-9 ]/g,"").trim(),i.townInfo.name=n!=""?n:jd(),i.difficulty=parseInt(t);let l=JSON.parse(localStorage.getItem(zn)||"null");(o.includes("devMode")||l.username=="dev")&&(i.townInfo.gold=1e8,i.townInfo.happiness=1e7,i.townInfo.health=1e6,i.townInfo.knowledge_points=1e5,i.modifiers.happiness=1e4,i.modifiers.health=1e4,i.resources.food=1e6,i.resources.wood=1e6,i.resources.stone=1e6,i.resources.metal=1e6);const a=12,s=Math.floor(Math.random()*a/2)+1,u=Math.floor(Math.random()*a/2)+1;for(let f=0;f<a;f++){r.push([]);for(let c=0;c<a;c++){const d=f==s&&c==u?!1:Gd(f,c,a);r[f][c]={id:Math.random().toString(36).substring(2,9),active:!1,x:f,y:c,type:d?-9:-1,typeId:"",mineralSource:d?!1:s===f&&u===c,water:s===f&&u===c?!1:d}}}i.plots=r,localStorage.setItem($t,JSON.stringify(i)),Fe.set(i),localStorage.reset=!1,location.reload()}function Gd(t,e,n){let o=.08;return t>0&&e>0&&t<n-1&&e<n-1&&(o*=2),(e==Math.round(n/2)||e==Math.round(n/2)-1)&&(o*=3),t==0&&e==0&&(o=0),Math.random()<o}function Vd(){if(localStorage.getItem(zn)===null){let t=Fd;t.username="my_username_click_to_change",localStorage.setItem(zn,JSON.stringify(t)),Zt.set(t)}}function yi(t,e,n){let o=n.plots[t][e].type;if(n.plots[t][e].type=-1,n.plots[t][e].active=!1,o>-1&&(n.townInfo.population_count-=oe[o].immediate_variable_changes.population,n.townInfo.population_max-=oe[o].immediate_variable_changes.population,n.townInfo.employees-=oe[o].requirements.employees,(n.plotCounts[o]===void 0||n.plotCounts[o]===null)&&(n.plotCounts[o]=0),n.plotCounts[o]--,(oe[o].requirements.size??1)>1))for(let r=0;r<n.plots.length;r++)for(let l=0;l<n.plots[t].length;l++)n.plots[r][l].referencePlot!=null&&n.plots[r][l].referencePlot[0]===t&&n.plots[r][l].referencePlot[1]===e&&yi(r,l,n);n.lastChangeDay=n.environment.day,Fe.set(n),localStorage.setItem($t,JSON.stringify(n))}function Be(t,e){let n=[];for(let o=0;o<e.plots.length;o++)for(let i=0;i<e.plots[o].length;i++)e.plots[o][i].active==!1||e.plots[o][i]==null||e.plots[o][i].type===null||e.plots[o][i].type<0||(oe[e.plots[o][i].type].id===t||oe[e.plots[o][i].type].type===t)&&n.push(e.plots[o][i]);return n}function Kn(t,e,n){return n.liege_location!=null&&n.liege_location[0]===t&&n.liege_location[1]===e}function Wd(t,e){const n=t.plots.length,o=n>0?t.plots[0].length:0,i=e=="east"?5:0,r=e=="south"?5:0,l=Math.round(Math.pow(1.5,t.kingdom_expansions+5));if(t.townInfo.guardians<l)return`You need ${l-t.townInfo.guardians} more Guardians to expand the kingdom. See the City mgmt menu.`;for(let a=0;a<n;a++)for(let s=o;s<o+i;s++)t.plots[a].push({id:Math.random().toString(36).substring(2,9),active:!1,x:a,y:s,type:-1,typeId:"",mineralSource:!1,water:!1,disabled:!1});for(let a=n;a<n+r;a++){const s=[];for(let u=0;u<o+i;u++)s.push({id:Math.random().toString(36).substring(2,9),active:!1,x:a,y:u,type:-1,typeId:"",mineralSource:!1,water:!1});t.plots.push(s)}t.kingdom_expansions++,Fe.set(t)}function wi(t=null){localStorage.removeItem($t),Fe.set(null),t&&(localStorage.setItem($t,JSON.stringify(t)),Fe.set(t))}function Yd(){fl.update(t=>!t),localStorage.setItem("showOnlyAffordable",localStorage.getItem("showOnlyAffordable")==="true"?"false":"true")}function Fl(t,e,n){n.liege_location=[t,e],to.set(!1),document.querySelectorAll(".plot_container").forEach(i=>{i.style.cursor=""}),Fe.set(n)}let et=Xe({visible:!1,x:0,y:0,isMineralSource:!1}),Po=Xe({visible:!1});function Ud(t){Zt.set(t),localStorage.setItem(zn,JSON.stringify(t))}let eo=Xe({}),Eo=Xe(!1),kt=Xe(!1),Pr=Xe(!0),Bl=Xe(!1),ki=Xe(!1),Ci=Xe(!1),si=Xe(!1),to=Xe(!1),Ai=Xe(!1),bt=Xe(""),Si=localStorage.getItem("showCompletedAchievements")==="true"?Xe(!0):Xe(!1),fl=localStorage.getItem("showOnlyAffordable")==="true"?Xe(!0):Xe(!1),jf=localStorage.getItem("pauseMenuTab")==="game"?Xe("game"):Xe("achievements"),Ao=Xe(750);const Et={unemployment_num:" people can't find jobs.",bored:"People are bored. Try making some new buildings.",vairety:"People don't like going to the same places over and over again. Try making some new buildings.",nobody_home:"Build some homes!",leave_town_num:" people left town because they were unhappy.",new_people_num:" new people moved to town.",people_want_to_move_in:"People want to move in. Build more homes.",high_tax_rate:"People are unhappy with the high tax rate.",very_high_tax_rate:"People are extremely unhappy with the high tax rate.",sickAndDying:"People are sick and dying.",sickAndLeaving:"People are sick and leaving town.",happiness_zero:"The town has fallen into chaos due to extreme unhappiness.",health_zero:"The town has fallen into chaos due to extreme sickness.",population_zero:"The town has been condemned due to lack of population.",win:{land:"You have filled the grid with buildings. You win!"},hospital_advantage:"Because you have a hospital, the town is staying healthier for longer!",notEnoughVariety:"People are sick of going to the same places over and over, add some variety!"},it=[{id:"happiness_at_300",title:"Happy Town",description:"One of your towns wins Happiest Town Award!",requirements:"Happiness reaches 300",icon:"😍",check:t=>t.townInfo.happiness>=300,prize:1e3},{id:"get_educated",title:"Get Educated",description:"The kids are finally able to learn!",requirements:"Build a school or library",icon:"📌",check:t=>Be("small_school",t).length!==0||Be("large_school",t).length!==0||Be("library",t).length!==0,prize:1850},{id:"10k",title:"$10,000",description:"",requirements:"Gold reaches $10,000",icon:"﹩",check:t=>t.townInfo.gold>=1e4,prize:2500},{id:"25k",title:"$25,000",description:"",requirements:"Gold reaches $25,000",icon:"💵",check:t=>t.townInfo.gold>=25e3,prize:7500},{id:"stayin_frugal",title:"Stayin' Frugal!",description:"",requirements:"Gold under $50 with >=300 population",icon:"🚲",check:t=>t.townInfo.gold<=50&&t.townInfo.population_count>=300,prize:1e4},{id:"profits_to_the_moon",title:"Profits to the moon!",description:"Now you're making dough!",requirements:"Last month profit is over $10,000",icon:"🌛",check:t=>t.economyAndLaws.weeklyProfit>=1e4,prize:15e3},{id:"happily_dying",title:"Happily Dying!",description:"Not something to be proud of...",requirements:"Happiness > 275, health < 25",icon:"🌛",check:t=>t.townInfo.happiness>275&&t.townInfo.health<25,prize:2e4},{id:"long_game",title:"The Long Game",description:"So are you gonna win anytime soon?",requirements:"Still playing after 10,000 days, without winning. ",icon:"🐌",check:t=>t.endGameDetails.win===!1&&t.environment.day>1e4&&t.endGameDetails.msg==="",prize:25e3},{id:"tax_man",title:"Tax man",description:"Set the tax rate to the absolute max that the town will tolerate.",requirements:"",icon:"🙃",check:t=>{let e=Math.floor(t.economyAndLaws.max_tax_rate*20)/20;return t.economyAndLaws.tax_rate===e},prize:1500},{id:"good_job",title:"Good job",description:"Beat 'Fill the grid' with Normal difficulty in under 3,000 days.",requirements:"",icon:"👍",check:t=>t.endGameDetails.win===!0&&t.environment.day<=3e3&&t.difficulty===1&&t.endGoal==="land",prize:1e4},{id:"great_job",title:"Great job",description:"Beat 'Fill the grid' with Normal difficulty in under 2,000 days.",requirements:"",icon:"👏",check:t=>t.endGameDetails.win===!0&&t.environment.day<=2e3&&t.difficulty===1&&t.endGoal==="land",prize:45e3},{id:"superb_job",title:"SUPERB job",description:"Beat 'Fill the grid' with Normal difficulty in under 500 days.",requirements:"",icon:"👌",check:t=>t.endGameDetails.win===!0&&t.environment.day<=500&&t.difficulty===1&&t.endGoal==="land",prize:1e5},{id:"250k",title:"$250,000",description:"",requirements:"Gold reaches $250,000",icon:"💸",check:t=>t.townInfo.gold>=25e4,prize:5e4},{id:"banker",title:"Banker",description:"",requirements:"Build your first bank. ",icon:"🏦",check:t=>Be("bank",t).length!==0,prize:5e3},{id:"community",title:"Community Center",description:"",requirements:"Build your first community center. ",icon:"❤️",check:t=>Be("community_center",t).length!==0,prize:1e4},{id:"1m",title:"MILLIONAIRE!",description:"",requirements:"Gold reaches $1,000,000",icon:"💰",check:t=>t.townInfo.gold>=1e6,prize:15e4}],Ro=[{message:"Build homes to start growing our village.",isComplete:t=>t.townInfo.population_max>0,goldReward:750},{message:"Start producing food and wood to keep the town running.",isComplete:t=>Be("farm",t).length>=1&&Be("tree_farm",t).length>=1,goldReward:500},{message:"We need stone and metals. Build a quarry.",isComplete:t=>Be("quarry",t).length>0,goldReward:700},{message:"Increase our weekly revenue to at least 200 gold.",isComplete:t=>t.economyAndLaws.weeklyProfit>=200,goldReward:3e3},{message:"Boost our Knowledge to 250 by building educational plots.",isComplete:t=>t.townInfo.knowledge_points>=250,goldReward:5e3},{message:"Grow our population to 100.",isComplete:t=>t.townInfo.population_count>=100,goldReward:8e3},{message:"Start generating power. Build a water wheel or solar farm.",isComplete:t=>t.resources.power>0,goldReward:8e3},{message:"Grow our population to 200.",isComplete:t=>t.townInfo.population_count>=200,goldReward:15e3},{message:"Build a mine to boost our metal supply.",isComplete:t=>Be("mine",t).length>0,goldReward:15e3},{message:"Mining has impacted health. Build a Healing House.",isComplete:t=>Be("healing_house",t).length>0,goldReward:15e3},{message:"Establish a City Hall to advance our town.",isComplete:t=>Be("city_hall",t).length>0,goldReward:25e3}];function Hf(t){var e,n,o="";if(typeof t=="string"||typeof t=="number")o+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Hf(t[e]))&&(o&&(o+=" "),o+=n)}else for(n in t)t[n]&&(o&&(o+=" "),o+=n);return o}function Kd(){for(var t,e,n=0,o="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Hf(t))&&(o&&(o+=" "),o+=e);return o}const cl="-";function Xd(t){const e=xd(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:o}=t;function i(l){const a=l.split(cl);return a[0]===""&&a.length!==1&&a.shift(),Gf(a,e)||Jd(l)}function r(l,a){const s=n[l]||[];return a&&o[l]?[...s,...o[l]]:s}return{getClassGroupId:i,getConflictingClassGroupIds:r}}function Gf(t,e){var l;if(t.length===0)return e.classGroupId;const n=t[0],o=e.nextPart.get(n),i=o?Gf(t.slice(1),o):void 0;if(i)return i;if(e.validators.length===0)return;const r=t.join(cl);return(l=e.validators.find(({validator:a})=>a(r)))==null?void 0:l.classGroupId}const jl=/^\[(.+)\]$/;function Jd(t){if(jl.test(t)){const e=jl.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function xd(t){const{theme:e,prefix:n}=t,o={nextPart:new Map,validators:[]};return Qd(Object.entries(t.classGroups),n).forEach(([r,l])=>{Er(l,o,r,e)}),o}function Er(t,e,n,o){t.forEach(i=>{if(typeof i=="string"){const r=i===""?e:Hl(e,i);r.classGroupId=n;return}if(typeof i=="function"){if(Zd(i)){Er(i(o),e,n,o);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([r,l])=>{Er(l,Hl(e,r),n,o)})})}function Hl(t,e){let n=t;return e.split(cl).forEach(o=>{n.nextPart.has(o)||n.nextPart.set(o,{nextPart:new Map,validators:[]}),n=n.nextPart.get(o)}),n}function Zd(t){return t.isThemeGetter}function Qd(t,e){return e?t.map(([n,o])=>{const i=o.map(r=>typeof r=="string"?e+r:typeof r=="object"?Object.fromEntries(Object.entries(r).map(([l,a])=>[e+l,a])):r);return[n,i]}):t}function zd(t){if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,o=new Map;function i(r,l){n.set(r,l),e++,e>t&&(e=0,o=n,n=new Map)}return{get(r){let l=n.get(r);if(l!==void 0)return l;if((l=o.get(r))!==void 0)return i(r,l),l},set(r,l){n.has(r)?n.set(r,l):i(r,l)}}}const Vf="!";function em(t){const e=t.separator,n=e.length===1,o=e[0],i=e.length;return function(l){const a=[];let s=0,u=0,f;for(let p=0;p<l.length;p++){let g=l[p];if(s===0){if(g===o&&(n||l.slice(p,p+i)===e)){a.push(l.slice(u,p)),u=p+i;continue}if(g==="/"){f=p;continue}}g==="["?s++:g==="]"&&s--}const c=a.length===0?l:l.substring(u),d=c.startsWith(Vf),h=d?c.substring(1):c,m=f&&f>u?f-u:void 0;return{modifiers:a,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:m}}}function tm(t){if(t.length<=1)return t;const e=[];let n=[];return t.forEach(o=>{o[0]==="["?(e.push(...n.sort(),o),n=[]):n.push(o)}),e.push(...n.sort()),e}function nm(t){return{cache:zd(t.cacheSize),splitModifiers:em(t),...Xd(t)}}const om=/\s+/;function im(t,e){const{splitModifiers:n,getClassGroupId:o,getConflictingClassGroupIds:i}=e,r=new Set;return t.trim().split(om).map(l=>{const{modifiers:a,hasImportantModifier:s,baseClassName:u,maybePostfixModifierPosition:f}=n(l);let c=o(f?u.substring(0,f):u),d=!!f;if(!c){if(!f)return{isTailwindClass:!1,originalClassName:l};if(c=o(u),!c)return{isTailwindClass:!1,originalClassName:l};d=!1}const h=tm(a).join(":");return{isTailwindClass:!0,modifierId:s?h+Vf:h,classGroupId:c,originalClassName:l,hasPostfixModifier:d}}).reverse().filter(l=>{if(!l.isTailwindClass)return!0;const{modifierId:a,classGroupId:s,hasPostfixModifier:u}=l,f=a+s;return r.has(f)?!1:(r.add(f),i(s,u).forEach(c=>r.add(a+c)),!0)}).reverse().map(l=>l.originalClassName).join(" ")}function rm(){let t=0,e,n,o="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Wf(e))&&(o&&(o+=" "),o+=n);return o}function Wf(t){if(typeof t=="string")return t;let e,n="";for(let o=0;o<t.length;o++)t[o]&&(e=Wf(t[o]))&&(n&&(n+=" "),n+=e);return n}function Rr(t,...e){let n,o,i,r=l;function l(s){const u=e.reduce((f,c)=>c(f),t());return n=nm(u),o=n.cache.get,i=n.cache.set,r=a,a(s)}function a(s){const u=o(s);if(u)return u;const f=im(s,n);return i(s,f),f}return function(){return r(rm.apply(null,arguments))}}function tt(t){const e=n=>n[t]||[];return e.isThemeGetter=!0,e}const Yf=/^\[(?:([a-z-]+):)?(.+)\]$/i,lm=/^\d+\/\d+$/,sm=new Set(["px","full","screen"]),am=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,um=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,fm=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,cm=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,dm=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function Ut(t){return vn(t)||sm.has(t)||lm.test(t)}function rn(t){return so(t,"length",ym)}function vn(t){return!!t&&!Number.isNaN(Number(t))}function Jo(t){return so(t,"number",vn)}function bo(t){return!!t&&Number.isInteger(Number(t))}function mm(t){return t.endsWith("%")&&vn(t.slice(0,-1))}function Ye(t){return Yf.test(t)}function ln(t){return am.test(t)}const pm=new Set(["length","size","percentage"]);function hm(t){return so(t,pm,Uf)}function _m(t){return so(t,"position",Uf)}const gm=new Set(["image","url"]);function bm(t){return so(t,gm,km)}function vm(t){return so(t,"",wm)}function vo(){return!0}function so(t,e,n){const o=Yf.exec(t);return o?o[1]?typeof e=="string"?o[1]===e:e.has(o[1]):n(o[2]):!1}function ym(t){return um.test(t)&&!fm.test(t)}function Uf(){return!1}function wm(t){return cm.test(t)}function km(t){return dm.test(t)}function Lr(){const t=tt("colors"),e=tt("spacing"),n=tt("blur"),o=tt("brightness"),i=tt("borderColor"),r=tt("borderRadius"),l=tt("borderSpacing"),a=tt("borderWidth"),s=tt("contrast"),u=tt("grayscale"),f=tt("hueRotate"),c=tt("invert"),d=tt("gap"),h=tt("gradientColorStops"),m=tt("gradientColorStopPositions"),p=tt("inset"),g=tt("margin"),A=tt("opacity"),b=tt("padding"),w=tt("saturate"),E=tt("scale"),D=tt("sepia"),$=tt("skew"),R=tt("space"),j=tt("translate"),F=()=>["auto","contain","none"],N=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto",Ye,e],k=()=>[Ye,e],y=()=>["",Ut,rn],L=()=>["auto",vn,Ye],V=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],q=()=>["solid","dashed","dotted","double","none"],x=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"],W=()=>["start","end","center","between","around","evenly","stretch"],Y=()=>["","0",Ye],te=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>[vn,Jo],ne=()=>[vn,Ye];return{cacheSize:500,separator:":",theme:{colors:[vo],spacing:[Ut,rn],blur:["none","",ln,Ye],brightness:z(),borderColor:[t],borderRadius:["none","","full",ln,Ye],borderSpacing:k(),borderWidth:y(),contrast:z(),grayscale:Y(),hueRotate:ne(),invert:Y(),gap:k(),gradientColorStops:[t],gradientColorStopPositions:[mm,rn],inset:T(),margin:T(),opacity:z(),padding:k(),saturate:z(),scale:z(),sepia:Y(),skew:ne(),space:k(),translate:k()},classGroups:{aspect:[{aspect:["auto","square","video",Ye]}],container:["container"],columns:[{columns:[ln]}],"break-after":[{"break-after":te()}],"break-before":[{"break-before":te()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...V(),Ye]}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:F()}],"overscroll-x":[{"overscroll-x":F()}],"overscroll-y":[{"overscroll-y":F()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",bo,Ye]}],basis:[{basis:T()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ye]}],grow:[{grow:Y()}],shrink:[{shrink:Y()}],order:[{order:["first","last","none",bo,Ye]}],"grid-cols":[{"grid-cols":[vo]}],"col-start-end":[{col:["auto",{span:["full",bo,Ye]},Ye]}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":[vo]}],"row-start-end":[{row:["auto",{span:[bo,Ye]},Ye]}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ye]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ye]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal",...W()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...W(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...W(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[R]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[R]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ye,e]}],"min-w":[{"min-w":[Ye,e,"min","max","fit"]}],"max-w":[{"max-w":[Ye,e,"none","full","min","max","fit","prose",{screen:[ln]},ln]}],h:[{h:[Ye,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ye,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ye,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ye,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ln,rn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Jo]}],"font-family":[{font:[vo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ye]}],"line-clamp":[{"line-clamp":["none",vn,Jo]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ut,Ye]}],"list-image":[{"list-image":["none",Ye]}],"list-style-type":[{list:["none","disc","decimal",Ye]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[A]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[A]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ut,rn]}],"underline-offset":[{"underline-offset":["auto",Ut,Ye]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ye]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ye]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[A]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...V(),_m]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",hm]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},bm]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[r]}],"rounded-s":[{"rounded-s":[r]}],"rounded-e":[{"rounded-e":[r]}],"rounded-t":[{"rounded-t":[r]}],"rounded-r":[{"rounded-r":[r]}],"rounded-b":[{"rounded-b":[r]}],"rounded-l":[{"rounded-l":[r]}],"rounded-ss":[{"rounded-ss":[r]}],"rounded-se":[{"rounded-se":[r]}],"rounded-ee":[{"rounded-ee":[r]}],"rounded-es":[{"rounded-es":[r]}],"rounded-tl":[{"rounded-tl":[r]}],"rounded-tr":[{"rounded-tr":[r]}],"rounded-br":[{"rounded-br":[r]}],"rounded-bl":[{"rounded-bl":[r]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[A]}],"border-style":[{border:[...q(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[A]}],"divide-style":[{divide:q()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...q()]}],"outline-offset":[{"outline-offset":[Ut,Ye]}],"outline-w":[{outline:[Ut,rn]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:y()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[A]}],"ring-offset-w":[{"ring-offset":[Ut,rn]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ln,vm]}],"shadow-color":[{shadow:[vo]}],opacity:[{opacity:[A]}],"mix-blend":[{"mix-blend":x()}],"bg-blend":[{"bg-blend":x()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[o]}],contrast:[{contrast:[s]}],"drop-shadow":[{"drop-shadow":["","none",ln,Ye]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[c]}],saturate:[{saturate:[w]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[o]}],"backdrop-contrast":[{"backdrop-contrast":[s]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[c]}],"backdrop-opacity":[{"backdrop-opacity":[A]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ye]}],duration:[{duration:ne()}],ease:[{ease:["linear","in","out","in-out",Ye]}],delay:[{delay:ne()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ye]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[E]}],"scale-x":[{"scale-x":[E]}],"scale-y":[{"scale-y":[E]}],rotate:[{rotate:[bo,Ye]}],"translate-x":[{"translate-x":[j]}],"translate-y":[{"translate-y":[j]}],"skew-x":[{"skew-x":[$]}],"skew-y":[{"skew-y":[$]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ye]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ye]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ye]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Ut,rn,Jo]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}function Cm(t,{cacheSize:e,prefix:n,separator:o,extend:i={},override:r={}}){ai(t,"cacheSize",e),ai(t,"prefix",n),ai(t,"separator",o);for(const l in r)Am(t[l],r[l]);for(const l in i)Sm(t[l],i[l]);return t}function ai(t,e,n){n!==void 0&&(t[e]=n)}function Am(t,e){if(e)for(const n in e)ai(t,n,e[n])}function Sm(t,e){if(e)for(const n in e){const o=e[n];o!==void 0&&(t[n]=(t[n]||[]).concat(o))}}function Tm(t,...e){return typeof t=="function"?Rr(Lr,t,...e):Rr(()=>Cm(Lr(),t),...e)}const Kf=Rr(Lr);function Mm(t){const e=t-1;return e*e*e+1}function Ve(...t){return Kf(Kd(t))}const Ji=(t,e={y:-8,x:0,start:.95,duration:150})=>{const n=getComputedStyle(t),o=n.transform==="none"?"":n.transform,i=(l,a,s)=>{const[u,f]=a,[c,d]=s;return(l-u)/(f-u)*(d-c)+c},r=l=>Object.keys(l).reduce((a,s)=>l[s]===void 0?a:a+`${s}:${l[s]};`,"");return{duration:e.duration??200,delay:0,css:l=>{const a=i(l,[0,1],[e.y??5,0]),s=i(l,[0,1],[e.x??0,0]),u=i(l,[0,1],[e.start??.95,1]);return r({transform:`${o} translate3d(${s}px, ${a}px, 0) scale(${u})`,opacity:l})},easing:Mm}};function It(t,e){if(e===void 0&&(e=0),t==null||t==null)return 0;t=parseFloat((t*Math.pow(10,e)).toFixed(11));var n=Math.round(t)/Math.pow(10,e);return+n.toFixed(e)}function fr(t){return t<10?"0"+t:t}function Om(t){let e=Math.floor(t/1e3),n=Math.floor(e/60);e=e%60;let o=Math.floor(n/60);return n=n%60,`${fr(o)}:${fr(n)}:${fr(e)}`}function Se(t){return oe.findIndex(e=>e.id===t)}function Gl(t){return oe.find(e=>e.id===t)}function Vl(t){const n=new RegExp("\\p{Emoji}","u").exec(t);return n?n[0]:null}function Nt(t,e=!0){let n=t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,");return e||(n=n.split(".")[0]),n}function An(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Wl(t,e=!0){return t=It(t/(e?3:1),2),t<0?`${t}`:`+${t}`}function Sn(t,e,n,o=!1){if(t<0||t>=n.plots.length||e<0||e>=n.plots[0].length)return!1;let i=[[t-1,e],[t+1,e],[t,e-1],[t,e+1],[t-1,e-1],[t-1,e+1],[t+1,e-1],[t+1,e+1]];for(let r=0;r<i.length;r++){let l=i[r][0],a=i[r][1];if(l>=0&&l<n.plots.length&&a>=0&&a<n.plots[0].length&&n.plots[l][a].water&&(o||n.plots[t][e].active==!0&&n.plots[t][e].type>0&&oe[n.plots[t][e].type].id=="farm"))return!0}return!1}function Im(t,e,n,o){if(t<0||t>=n.plots.length||e<0||e>=n.plots[0].length)return!1;let i=[[t-1,e],[t+1,e],[t,e-1],[t,e+1],[t-1,e-1],[t-1,e+1],[t+1,e-1],[t+1,e+1]],r=!0;for(let l=0;l<o.length;l++){let a=!1;if(o[l]=="water"&&Sn(t,e,n,!0)){a=!0;break}for(let s=0;s<i.length;s++){let u=i[s][0],f=i[s][1];if(u>=0&&u<n.plots.length&&f>=0&&f<n.plots[0].length&&n.plots[u][f].active==!0&&n.plots[u][f].type>0&&oe[n.plots[u][f].type].id==o[l]){a=!0;break}}if(!a){r=!1;break}}return r}function Nm(t,e=0){let n=t*.95,o=t*1.05;return It(Math.random()*(o-n)+n,e)}let yo=function(t){return t.gameSettings.includes("casual")?3:1};const $r=[{id:"organic_farming",description:"Organic Farming. Make townspeople healthier and happier, while decreasing overall food production.",cost:150,weekly_effect:t=>(t.modifiers.happiness*=1.01,t.modifiers.health*=1.01,t.resources.food-=2*yo(t)*Be("farm",t).length,t)},{id:"tax_free",description:"Tax-Free Month. For 1 month, the town loses all revenue from taxes, but happiness and health increase quite a lot. Automatically ends after 4 weeks.",cost:250,weekly_effect:t=>(localStorage.getItem("tax_free")===null?(localStorage.setItem("tax_free","0"),t.economyAndLaws.weeklyProfit=-1*t.economyAndLaws.weeklyProfit):localStorage.setItem("tax_free",(parseInt(localStorage.getItem("tax_free"))+1).toString()),parseInt(localStorage.getItem("tax_free"))>=4?(t.modifiers.happiness*=1,t.modifiers.health*=1,localStorage.removeItem("tax_free"),t.economyAndLaws.enacted=t.economyAndLaws.enacted.filter(e=>e!=="tax_free")):(t.modifiers.happiness*=1.02,t.modifiers.health*=1.01),t)},{id:"healthy_mining",description:"Healthy mining. Miners must mine with proper ventilation, but they move like molasses.",cost:250,weekly_effect:t=>(oe.find(e=>e.id==="mine"),t.modifiers.health*=1.1,t.resources.stone-=5*yo(t)*Be("quarry",t).length,t.resources.stone-=7*yo(t)*Be("mine",t).length,t.resources.metal-=15*yo(t)*Be("mine",t).length,t)},{id:"complicated_tax_forms",description:"Complicated Tax Forms. You sneak in a clause to charge 5% more in taxes. Now, if you adjust your tax rate 5% higher, they won't be upset. This can be enacted multiple times to stack.",cost:500,weekly_effect:t=>(t.economyAndLaws.max_tax_rate+=.05,t.economyAndLaws.enacted=t.economyAndLaws.enacted.filter(e=>e!=="complicated_tax_forms"),t)},{id:"legalize_it",description:"Legalize it. You legalize a substance that makes people happy, but it also gives them 'the munchies'. Food consumption and happiness go up.",cost:350,weekly_effect:t=>(t.resources.food-=Math.round(.2*yo(t)*t.townInfo.population_count),t.modifiers.happiness*=1.1,t)},{id:"park_upgrade",description:"Park upgrade. You hold a community forum and add the top 5 things that the people want in their parks. This increases happiness for each park.",cost:350,weekly_effect:t=>(t.townInfo.happiness+=2*Be("park",t).length,t)},{id:"career_politician",description:"Career Politician. You hire a career politician to help you with your town. They cost the town $100 per week, but they earn bureaucracy points faster.",cost:200,weekly_effect:t=>(t.townInfo.gold-=100,t.resources.bureaucracy+=25,t)},{id:"the_big_wood_deal",description:"The Big Wood Deal. This law allows you to sell all of the wood in your town for $2/wood at once. This won't make the town happy, but may be necessary in a pinch. Can be enacted multiple times to sell to other buyers.",cost:200,weekly_effect:t=>(t.townInfo.gold+=2*t.resources.wood,t.resources.wood=0,t.resource_rate.wood=0,t.townInfo.happiness*=.8,t.economyAndLaws.enacted=t.economyAndLaws.enacted.filter(e=>e!=="the_big_wood_deal"),t)},{id:"picky_eating_liege",description:"Picky Eater Liege. There is some food that the town makes that you just really hate. By passing this law, you insist that they sell off that gross food for $1/food every week. You won't make as much food, but you won't have to eat it either.",cost:200,weekly_effect:t=>{const e=Be("farm",t).length*2,n=Math.floor(Math.random()*(.15*e-.05*e)+.05*e);return t.resources.food-=n,t.townInfo.gold+=n,t.townInfo.happiness=.95*t.townInfo.happiness,t}},{id:"stone_statue",description:"Stone Statue. You insist that we use ALL of our stone to build a massive statue. We lose all of our stone, but for some reason, the town has perfect health for a while, I guess.",cost:1e3,weekly_effect:t=>(t.resources.stone=0,t.modifiers.health=3,t)},{id:"out_of_town",description:"Out of town. Everyone needs a vacation, right? When this is enacted, EVERYONE must leave the town for 10 days. During this time, no resources are produced, no taxes are collected, and you must take a break from the game.",cost:1e3,weekly_effect:t=>(alert("TODO: Implement out_of_town law"),t)}];var ot=(t=>(t[t.GOOD=0]="GOOD",t[t.BAD=1]="BAD",t[t.NORMAL=2]="NORMAL",t))(ot||{});const Yl=30;function Pm(t){return t=Dm(t),t=t,t}function Em(t){const e=[()=>t.townInfo.happiness<100?"I heard that the town is unhappy. We miss our churches and parks...":"",()=>t.townInfo.health<100?"My kids keep getting sick, probably not enough farms around here!":"",()=>t.townInfo.happiness<50?"I'm thinking of moving out if things don't improve soon!":"",()=>t.townInfo.employees<t.townInfo.population_count?"I am unemployed and I hate it here":"",()=>t.townInfo.knowledge_points<100?"I wish we had more schools!":"",()=>t.economyAndLaws.tax_rate>t.economyAndLaws.max_tax_rate?"I wish the taxes were lower, I could use a break!":"",()=>t.townInfo.productivity>100?"I think we should take a day or two to just be chill, we've been working hard!":"",()=>t.economyAndLaws.tax_rate<t.economyAndLaws.max_tax_rate?"We would probably be ok chipping in more gold for village improvements.":""],n=Math.floor(Math.random()*e.length);return e[n]()}function Rm(t,e,n){return t.resource_rate.food=dt(n.food-e.food,2),t.resource_rate.wood=dt(n.wood-e.wood,2),t.resource_rate.stone=dt(n.stone-e.stone,2),t.resource_rate.metal=dt(n.metal-e.metal,2),t.resource_rate.bureaucracy=dt(n.bureaucracy-e.bureaucracy,2),t}function Lm(t){return t.hasBank,t}function $m(t){let e=t.economyAndLaws.knowledge_gold_market_rates[t.economyAndLaws.knowledge_gold_market_rates.length-1]||1;const n=-100,o=8,i=3;let r=Math.random(),l=Math.random()*i;if(r<.4){let a=Math.random()*o;Math.random()<.5?e+=a:e-=a}else Math.random()>.5?e+=l:e-=l;return e<n&&(e+=Math.random()*l/5),e=Math.round(e),t.economyAndLaws.knowledge_gold_market_rates=[...t.economyAndLaws.knowledge_gold_market_rates,e],t}function Dm(t){if(t.townInfo.population_count<t.townInfo.population_max&&t.townInfo.happiness>50){let e=t.townInfo.population_max-t.townInfo.population_count,n=Math.round(t.townInfo.happiness/100*e);t.townInfo.population_count+=n,t.townInfo.population_count>t.townInfo.population_max&&(t.townInfo.population_count=t.townInfo.population_max),t.townInfo.employees+=n,t.townInfo.employees>t.townInfo.population_count&&(t.townInfo.employees=t.townInfo.population_count)}if(t.townInfo.happiness<50&&t.townInfo.population_count>0){let e=Math.round((150-t.townInfo.happiness)/5);t.townInfo.population_count-=e,t.townInfo.employees>0&&(t.townInfo.employees-=e)}else t.townInfo.population_count==t.townInfo.population_max;return t}function Dr(t){return t.lab.active_experiment==null||t.lab.active_experiment.duration>0&&(t.lab.active_experiment.duration-=1),t}function qr(t){return t.townInfo.happiness<0&&(t.townInfo.happiness=0),t.townInfo.health<0&&(t.townInfo.health=0),t.townInfo.community<0&&(t.townInfo.community=0),t.townInfo.gold<0&&(t.townInfo.gold=0),t.townInfo.employees<0&&(t.townInfo.employees=0),t.townInfo.knowledge_points<0&&(t.townInfo.knowledge_points=0),t.townInfo.population_count<0&&(t.townInfo.population_count=0),t.economyAndLaws.weeklyProfit=dt(t.economyAndLaws.weeklyProfit,0),t.townInfo.employees>t.townInfo.population_count&&(t.townInfo.employees=t.townInfo.population_count),t.townInfo.gold=dt(t.townInfo.gold,0),t.townInfo.population_count=dt(t.townInfo.population_count,0),t.townInfo.employees=dt(t.townInfo.employees,0),t.townInfo.population_max=dt(t.townInfo.population_max,0),t.townInfo.happiness=dt(t.townInfo.happiness,2),t.townInfo.health=dt(t.townInfo.health,2),t.townInfo.knowledge_points=dt(t.townInfo.knowledge_points,0),t.townInfo.happiness>t.maximums.happiness&&(t.townInfo.happiness=t.maximums.happiness),t.townInfo.health>t.maximums.health&&(t.townInfo.health=t.maximums.health),t.townInfo.community>300&&(t.townInfo.community=300),t.modifiers.happiness<.5&&(t.modifiers.happiness=.5),t.modifiers.health<.5&&(t.modifiers.health=.5),t.modifiers.community<.5&&(t.modifiers.community=.5),t.modifiers.happiness>2&&(t.modifiers.happiness=2),t.modifiers.health>2&&(t.modifiers.health=2),t.modifiers.community>2&&(t.modifiers.community=2),t}function Fr(t){if(t.townInfo.happiness>150){let n=t.townInfo.happiness-150;t.townInfo.happiness-=n*.08,t.townInfo.happiness<150&&(t.townInfo.happiness=150)}if(t.townInfo.health>150){let n=t.townInfo.health-150;t.townInfo.health-=n*.08,t.townInfo.health<150&&(t.townInfo.health=150)}if(t.townInfo.community>150){let n=t.townInfo.community-150;t.townInfo.community-=n*.08,t.townInfo.community<150&&(t.townInfo.community=150)}return t}function qm(t){return t.townInfo.happiness*=t.modifiers.happiness,t.townInfo.health*=t.modifiers.health,t.townInfo.community*=t.modifiers.community,t}function ct(t,e,n){let o=e.townLog||[];return o.filter(i=>i.message==t).length>0||o.unshift({message:t,day:e.environment.day,vibe:n}),e}function dt(t,e){e===void 0&&(e=0);let n=Math.pow(10,e);return t=parseFloat((t*n).toFixed(11)),+(Math.round(t)/n).toFixed(e)}function Fm(t,e,n){let o,i,r,l,a;ue(t,Ao,_=>n(7,o=_)),ue(t,Eo,_=>n(8,i=_)),ue(t,Ci,_=>n(9,r=_)),ue(t,kt,_=>n(10,l=_)),ue(t,Zt,_=>n(11,a=_)),ue(t,Fe,_=>n(12,_));function s(_){_=Y(_),_=W(_),_=h(_),_=$m(_),_=te(_),_=A(_);const J={food:_.resources.food,wood:_.resources.wood,stone:_.resources.stone,metal:_.resources.metal,bureaucracy:_.resources.bureaucracy,power:_.resources.power};_=j(_),_=x(_),_=N(_),_=T(_),_=re(_),_=R(_);const Z={food:_.resources.food,wood:_.resources.wood,stone:_.resources.stone,metal:_.resources.metal,bureaucracy:_.resources.bureaucracy,power:_.resources.power};return _.environment.day%14===0&&(_=qm(_)),_=Rm(_,J,Z),_}function u(_){return _=Lm(_),_=g(_),_=ne(_),_=Fr(_),_=q(_),_=D(_),_=m(_),_}function f(_){return _=z(_),_=qr(_),_=Dr(_),_=$(_),_=E(_),_=d(_),_.overtime==!1&&(_=V(_),_=_),_=L(_),_=k(_),_=p(_),_}function c(){Fe.update(_=>{if(_==null||(_.tick++,_.tick%Yl!==0))return _;if(l||!_||_.endGameDetails.msg!==""&&_.overtime==!1||_.townInfo.population_count<=0)return console.info("The game is over, or paused. Not running the game loop."),_;try{return _.environment.day+=1,_.environment.day%7===0&&(_=s(_)),_.environment.day%30===0&&(_=u(_)),_.environment.day%90===0&&(_=Pm(_)),window.location.search.includes("debug=true")&&console.log(_),_=f(_),_}catch(J){return window.location.hostname==="localhost"&&alert("Error in game loop: "+J),console.error("Error in game loop:",J),_}})}Fe.subscribe(_=>{_&&localStorage.setItem($t,JSON.stringify(_))}),Zt.subscribe(_=>{_&&localStorage.setItem(zn,JSON.stringify(_))});function d(_){let J=_.townInfo.population_count-_.townInfo.employees,Z=`${J} people can't find jobs!`;return _.townLog=_.townLog.filter(ce=>!ce.message.includes("people can't find jobs")),J>0&&(_=ct(Z,_,ot.BAD)),_}function h(_){let J=!1,Z=!1,ce=!1,ye=!1;for(let Ce=0;Ce<_.plots.length;Ce++)for(let qe=0;qe<_.plots[Ce].length;qe++)if(_.plots[Ce][qe].active==!0&&_.plots[Ce][qe].type>-1){let Pe=oe[_.plots[Ce][qe].type].id;Pe=="bank"&&(J=!0),Pe=="city_hall"&&(ce=!0),(Pe=="small_hospital"||Pe=="large_hospital")&&(Z=!0),Pe=="lab"&&(ye=!0)}return _.hasBank=J,_.hasHospital=Z,_.hasCityHall=ce,_.hasLab=ye,_}function m(_){let J=0,Z=0;for(let ce=0;ce<_.plots.length;ce++)for(let ye=0;ye<_.plots[ce].length;ye++)if(_.plots[ce][ye].active==!0&&_.plots[ce][ye].type>-1){let Ce=oe[_.plots[ce][ye].type].type;Z++,(Ce=="recreation"||Ce=="shop")&&J++}return _.townInfo.recreation=J,Z>40&&(J/Z<.2?(_.modifiers.happiness*.95,_=ct("The city is growing and citizens are demanding more recreation, look for plots with 🛝 icons.",_,ot.BAD)):(_.modifiers.happiness*1.01,_=ct("The city is growing and citizens are happy with the amount of recreation available.",_,ot.GOOD))),_}function p(_){for(let J=0;J<_.plots.length;J++)for(let Z=0;Z<_.plots[J].length;Z++)_.plots[J][Z].active==!0&&(_.plots[J][Z].type=Se(_.plots[J][Z].typeId));return _}function g(_){const J=_.townInfo.productivity;let Z=1;if(J>50&&J<100)Z=1.05;else{if(J==100)return _;J<50?Z=1.3:J>100&&J<125?Z=.95:J>125&&J<150?Z=.9:J>150&&J<175?Z=.85:J>175&&J<200&&(Z=.75)}const ce=_.townInfo.happiness;return _.townInfo.happiness*=Z,Z>1?_=ct(`Happiness has gone up by ${Math.round(_.townInfo.happiness/ce*100)}% due to productivity.`,_,ot.GOOD):_=ct(`Happiness has gone down by ${100-Math.round(_.townInfo.happiness/ce*100)}% due to productivity.`,_,ot.BAD),_}function A(_){return _.endGameDetails!=null||(_.townInfo.happiness<70&&_.last_warning_happiness+365<_.environment.day&&(bt.set("Your citizens are very unhappy. You should do something about it."),_.last_warning_happiness=_.environment.day),_.townInfo.health<70&&_.last_warning_health+365<_.environment.day&&(bt.set("Your citizens are very unhealthy. You should do something about it."),_.last_warning_health=_.environment.day)),_}const b=["Abigail","Elijah","Mabel","Silas","Beatrice","Clarence","Dorothy","Edgar","Florence","George","Harriet","Isaac","Josephine","Levi","Matilda","Nathaniel","Olive","Percy","Quincy","Rose","Samuel","Theodore","Ursula","Vincent","Winifred","Xavier","Yvette","Zachary","Amos","Betsy","Cecil","Delia","Emmett","Fanny","Gideon","Hazel","Irving","Jeannette","Karl","Lucinda","Mortimer","Nettie","Otis","Prudence","Rufus","Sophronia","Titus","Ulysses","Vera","Winston","Xenia","Yolanda","Zeke","Ada","Bernard","Cornelia","Duncan","Esther","Fletcher","Genevieve"],w=["Farmer","Blacksmith","Biscuit Sculptor","Baker","Carpenter","Chicken Whisperer","Fisher","Herbalist","Miner","Mason","Mustache Twirler","Brewer","Butcher","Candlemaker","Cloud Watcher","Dressmaker","Gardener","Hunter","Innkeeper","Jeweler","Locksmith","Miller","Painter","Potter","Quilter","Rancher","Saddler","Tanner","Upholsterer","Vintner","Watchmaker","Wheelwright","Wooly Sock Knitter","Yarn Spinner","Zodiac Interpreter","Archivist","Bookbinder","Cobbler","Dyer","Engraver","Fletcher","Glassblower","Haberdasher","Illuminator","Joiner","Knitter","Lace Maker","Mapmaker","Navigator","Orchardist","Potion Tester","Quarryman","Roofer","Soapmaker","Tobacconist","Undertaker","Victualler","Wainwright","Xylographer","Yeoman","Pumpkin Carver","Mud Pie Maker","Folk Tale Teller","Leaf Collector","Sunset Chaser","Dream Interpreter","Star Gazer"];function E(_){if(_.gameSettings.includes("bagOfHolding"))return _.resource_capacity=972024,_;let J=Be("stockpile",_).length,Z=Be("adv_stockpile",_).length,ce=1e3+J*2e3+Z*12e3;return _.resource_capacity=ce,Object.keys(_.resources).forEach(ye=>{_.resources[ye]>ce&&(_.resources[ye]=ce)}),_}function D(_){for(let J=0;J<_.plots.length;J++)for(let Z=0;Z<_.plots[J].length;Z++)if(Kn(J,Z,_)&&_.plots[J][Z].active==!0&&oe[_.plots[J][Z].type].type=="residential"&&Math.random()<.99){let ce=`👑🏠 ${b[Math.floor(Math.random()*b.length)]} the ${w[Math.floor(Math.random()*w.length)]}: `,ye=Em(_);ce+=ye,ye!=""&&(_=ct(ce,_,ot.NORMAL))}return _}function $(_){let J=0;for(let Z=0;Z<_.plots.length;Z++)for(let ce=0;ce<_.plots[Z].length;ce++)if(_.plots[Z][ce].active==!0&&_.plots[Z][ce].type>-1){let ye=oe[_.plots[Z][ce].type].type;(ye=="recreation"||ye=="shop")&&J++}return _.townInfo.recreation=J,_}function R(_){const J=_.townInfo.population_count;return _.resources.food<J?(_.modifiers.happiness*=.95,_.modifiers.health*=.95,_=ct("There isn't enough food for everyone!",_,ot.BAD),_.resources.food=0):(_.townLog=_.townLog.filter(ce=>!ce.message.includes("There isn't enough food for everyone!")),_.resources.food-=J),_.resources.food=Math.round(_.resources.food),_}function j(_){const J=_.townInfo.productivity;let Z=1;J<50?Z=.5:J>50&&J<100?Z=.75:J==100?Z=1:J>100&&J<125?Z=1.25:J>125&&J<150?Z=1.75:J>150&&J<175?Z=3:J>175&&J<200&&(Z=5);const ce=_.gameSettings.includes("casual")?2.2:1;Z*=ce,Z=Nm(Z,2);let ye=Be("lumber_mill",_).length*1.5;ye===0&&(ye=1);for(let Ce=0;Ce<_.plots.length;Ce++)for(let qe=0;qe<_.plots[Ce].length;qe++)if(_.plots[Ce][qe].active==!0&&_.plots[Ce][qe].type>-1){let Pe=Sn(Ce,qe,_),Ze=Kn(Ce,qe,_)?2:1,de=oe[_.plots[Ce][qe].type];de.generated_resources!=null&&(_.resources.food+=Math.round(de.generated_resources.food*Z)*(Pe?2:1)*Ze,_.resources.wood+=Math.round(de.generated_resources.wood*Z*ye)*Ze,_.resources.stone+=Math.round(de.generated_resources.stone*Z)*Ze,_.resources.metal+=Math.round(de.generated_resources.metal*Z)*Ze,_.resources.bureaucracy+=Math.round(de.generated_resources.bureaucracy*Z)*Ze)}return _.resources.food=Math.round(_.resources.food),_.resources.wood=Math.round(_.resources.wood),_.resources.stone=Math.round(_.resources.stone),_.resources.metal=Math.round(_.resources.metal),_.resources.bureaucracy=Math.round(_.resources.bureaucracy),_}var F;(function(_){_.food="food",_.wood="wood",_.stone="stone",_.metal="metal",_.bureaucracy="bureaucracy"})(F||(F={}));function N(_){for(let J=0;J<_.plots.length;J++)for(let Z=0;Z<_.plots[J].length;Z++)if(_.plots[J][Z].active==!0&&_.plots[J][Z].type>-1){let ce=oe[_.plots[J][Z].type],ye=!1;Object.keys(ce.active_costs).forEach((Ce,qe)=>{const Pe=Object.values(ce.active_costs)[qe];Ce!="power"&&(Ce=="gold"?_.townInfo.gold<Pe?ye=!0:_.townInfo.gold-=Pe:_.resources[Ce]<Pe?ye=!0:_.resources[Ce]-=Pe)}),_.plots[J][Z].disabled=ye,_.plots[J][Z].disabled&&(_.townInfo.happiness-=1),ye&&oe[_.plots[J][Z].type].type=="residential"&&(_.townInfo.population_count-=1,_.townInfo.employees-=1)}else _.plots[J][Z].disabled=!1;return _}function T(_){let J=0;for(let Z=0;Z<_.plots.length;Z++)for(let ce=0;ce<_.plots[Z].length;ce++)if(_.plots[Z][ce].active==!0&&_.plots[Z][ce].type>-1){let ye=oe[_.plots[Z][ce].type];ye.active_costs.power!=0&&(J-=ye.active_costs.power),ye.generated_resources.power!=0&&(J+=ye.generated_resources.power)}return _.resources.power=J,_.resources.power<0&&(_.modifiers.happiness*.98,_.townInfo.happiness-=5,_=ct("🔋 POWER SHORTAGE. HAPPINESS DROPPING THROUGH BLACKOUTS.",_,ot.BAD)),_}function k(_){if(_.gameSettings.includes("devMode"))return _;let J=a;for(let Z=0;Z<it.length;Z++)J.achievements.find(ce=>ce[0]==it[Z].id)==null&&it[Z].check(_)&&(J.achievements.push([it[Z].id,_.environment.day,_.townInfo.name]),Re(kt,l=!0,l),Re(Ci,r=!0,r));return Zt.update(()=>J),_}let y=!1;function L(_){if(y||_.currentTutorialStep>=Ro.length)return _;for(let J=_.currentTutorialStep;J<_.currentTutorialStep+1;J++)if(Ro[J].isComplete(_)){Re(Eo,i=!0,i),y=!0,_.townInfo.gold+=Ro[J].goldReward,setTimeout(()=>{Re(Eo,i=!1,i),_.currentTutorialStep++,y=!1},3e3);break}return _}function V(_){return _.gameSettings.includes("tomPetty")&&(_.townInfo.happiness<=3||_.townInfo.health<=3)?(_.townInfo.happiness=300,_.modifiers.happiness=1,_.townInfo.health=300,_.modifiers.health=1,_.townInfo.gold=dt(_.townInfo.gold*.1,0),alert("Since you are playing in Tom Petty mode, you have been given another chance. All it took was 90% of your gold. Good luck!"),_):(_.townInfo.happiness<=3&&(_.townInfo.happiness=0,_.endGameDetails={msg:Et.happiness_zero,win:!1,still_playing:!1}),_.townInfo.health<=3&&(_.townInfo.health=3,_.endGameDetails={msg:Et.health_zero,win:!1,still_playing:!1}),_.townInfo.population_count<=0&&_.townInfo.population_max>0&&(_.townInfo.population_count=0,_.endGameDetails={msg:Et.population_zero,win:!1,still_playing:!1}),_)}function q(_){let J=_.townInfo.population_count-_.townInfo.employees;if(_.gameSettings.includes("casual")&&Math.random()<.75)return _;if(J>0){let Z=J*.2;Z>10&&(Z=10),_.townInfo.happiness-=Z,_=ct(J+Et.unemployment_num,_,ot.BAD)}else _.townLog=_.townLog.filter(Z=>!Z.message.includes(Et.unemployment_num));return _}function x(_){for(let J=0;J<_.economyAndLaws.enacted.length;J++){let Z=$r.find(ce=>ce.id==_.economyAndLaws.enacted[J]);Z!=null&&Z.weekly_effect!=null&&(_=Z.weekly_effect(_))}return _}function W(_){let J=_.townInfo.health,Z=0;return J>50||J<Math.random()*50&&(J<25?(_=ct(Et.sickAndDying,_,ot.BAD),_.townInfo.happiness-=10,Z=Math.round(_.townInfo.population_count*.1)):(_=ct(Et.sickAndLeaving,_,ot.BAD),_.townInfo.happiness-=5,Z=Math.round(_.townInfo.population_count*.05)),_.townInfo.population_count-=Z,_.townInfo.employees-=Z),_}function Y(_){const J=Math.random();if(_.economyAndLaws.tax_rate>_.economyAndLaws.max_tax_rate&&_.townInfo.population_count>0){let Z=1;_.hasBank&&(Z=2);const ce=_.difficulty==0?.7:_.difficulty==1?.4:.2;J<ce&&_.economyAndLaws.tax_rate>_.economyAndLaws.max_tax_rate*2*Z?(_.modifiers.happiness-=.02,_=ct(Et.very_high_tax_rate+"  ("+_.economyAndLaws.tax_rate+"%)",_,ot.BAD)):(_.modifiers.happiness-=.01,_=ct(Et.high_tax_rate+"  ("+_.economyAndLaws.tax_rate*100+"%)",_,ot.BAD))}return _}function te(_){if(_.modifiers.happiness>1){let Z=_.modifiers.happiness-1;_.modifiers.happiness-=Z*.3,_.modifiers.happiness<1.02&&(_.modifiers.happiness=1)}if(_.modifiers.community>1){let Z=_.modifiers.community-1;_.modifiers.community-=Z*.3,_.modifiers.community<1.02&&(_.modifiers.community=1)}if(_.modifiers.health>1)if(Be("healing_house",_).length>0){_=ct(Et.hospital_advantage,_,ot.GOOD);let Z=_.modifiers.health-1;_.modifiers.health-=Z*Be("healing_house",_).length?.03:.06,_.modifiers.health<1.02&&(_.modifiers.health=1)}else{let Z=_.modifiers.health-1;_.modifiers.health-=Z*.3,_.modifiers.health<1.02&&(_.modifiers.health=1)}else Be("healing_house",_).length>0&&(_.modifiers.health+=.8,_.townInfo.health+=Math.floor(Math.random()*10)+5);return _}function z(_){_.economyAndLaws.weeklyProfit=0;for(let J=0;J<_.plots.length;J++)for(let Z=0;Z<_.plots[J].length;Z++)if(_.plots[J][Z].active==!0&&_.plots[J][Z].type>-1)if(_.plots[J][Z].disabled===!0){const ce=oe[_.plots[J][Z].type],ye=Math.round(le(ce.revenue_per_week,_,ce.type,J,Z)*(_.townInfo.productivity/100)/7);_.townInfo.gold-=ye,_.townInfo.happiness-=1,_=ct(`🚨 ${ce.title} at ${Z}, ${J} is disabled and costing you $${ye} a week! 
              
              It is also lowering overall happiness by 1. Look at available resources and fix the problem! `,_,ot.BAD)}else{const ce=oe[_.plots[J][Z].type];let ye=le(ce.revenue_per_week,_,ce.type,J,Z)*(_.townInfo.productivity/100)/7,Ce=Sn(J,Z,_);const qe=_.gameSettings.includes("casual")?3:1;ye*=qe,ye*=Ce?2:1,_.townInfo.gold+=ye,_.economyAndLaws.weeklyProfit+=ye*7}return _}function ne(_){return _.gameSettings.includes("casual")&&Math.random()<.75||Be("mine",_).length>0&&(_.townInfo.health-=7,Be("healing_house",_).length==0&&(_=ct("The mine is actively hurting the health of the town. A Healing House can counteract this.",_,ot.BAD))),_}function re(_){let J=0;for(let Z=0;Z<_.plots.length;Z++)for(let ce=0;ce<_.plots[Z].length;ce++)if(_.plots[Z][ce].active==!0&&_.plots[Z][ce].type>-1){let ye=oe[_.plots[Z][ce].type],Ce=Kn(Z,ce,_)?.75:1;ye.knowledge_points_per_month!=null&&(_.townInfo.knowledge_points+=Math.round(ye.knowledge_points_per_month*Ce/4),J+=ye.knowledge_points_per_month*Ce/4)}return _.resource_rate.knowledge=dt(J,0),_}function le(_,J,Z,ce,ye){let Ce=J.townInfo.happiness/100;Ce>2?Ce=2:Ce<.75&&(Ce=.75);let qe=Be("village_inn",J).length;Z=="shop"&&(Ce*=1.35*qe),Kn(ce,ye,J)&&(Ce*=1.5);let Pe=Math.round(_*J.economyAndLaws.tax_rate*(J.townInfo.population_count/J.townInfo.population_max)*Ce*(J.economyAndLaws.enacted.includes("tax_free")?-1:1));return dt(Pe,2)}return Ui(async()=>{for(;;)localStorage.reset=="true"&&(wi(),localStorage.setItem("reset","false")),c(),await new Promise(_=>setTimeout(_,o/Yl))}),[c,Dr,qr,te,Fr]}class Bm extends he{constructor(e){super(),pe(this,e,Fm,null,me,{mainGameThreadLoop:0,_checkExperiment:1,_fixVariables:2,_bringModifiersBackToNormal:3,_bringStatsBackToNormal:4},null,[-1,-1])}get mainGameThreadLoop(){return this.$$.ctx[0]}get _checkExperiment(){return Dr}get _fixVariables(){return qr}get _bringModifiersBackToNormal(){return this.$$.ctx[3]}get _bringStatsBackToNormal(){return Fr}}function jm(t){return t[t.length-1]}function an(t){return Object.keys(t).reduce((e,n)=>t[n]===void 0?e:e+`${n}:${t[n]};`,"")}function cr(t){return t?!0:void 0}an({position:"absolute",opacity:0,"pointer-events":"none",margin:0,transform:"translateX(-100%)"});function Xf(t){if(t!==null)return t}function Ul(t){function e(n){return n(t),()=>{}}return{subscribe:e}}function dr(t){if(!qo)return null;const e=document.querySelector(`[data-melt-id="${t}"]`);return vt(e)?e:null}const So=t=>new Proxy(t,{get(e,n,o){return Reflect.get(e,n,o)},ownKeys(e){return Reflect.ownKeys(e).filter(n=>n!=="action")}}),Kl=t=>typeof t=="function";mt("empty");function mt(t,e){const{stores:n,action:o,returned:i}=e??{},r=(()=>{if(n&&i)return en(n,a=>{const s=i(a);if(Kl(s)){const u=(...f)=>So({...s(...f),[`data-melt-${t}`]:"",action:o??nt});return u.action=o??nt,u}return So({...s,[`data-melt-${t}`]:"",action:o??nt})});{const a=i,s=a==null?void 0:a();if(Kl(s)){const u=(...f)=>So({...s(...f),[`data-melt-${t}`]:"",action:o??nt});return u.action=o??nt,Ul(u)}return Ul(So({...s,[`data-melt-${t}`]:"",action:o??nt}))}})(),l=o??(()=>{});return l.subscribe=r.subscribe,l}function Xl(t,e){const{stores:n,returned:o,action:i}=e,{subscribe:r}=en(n,a=>o(a).map(s=>So({...s,[`data-melt-${t}`]:"",action:i??nt}))),l=i??(()=>{});return l.subscribe=r,l}function xi(t){const e=r=>r?`${t}-${r}`:t,n=r=>`data-melt-${t}${r?`-${r}`:""}`,o=r=>`[data-melt-${t}${r?`-${r}`:""}]`;return{name:e,attribute:n,selector:o,getEl:r=>document.querySelector(o(r))}}const qo=typeof document<"u",Jf=t=>typeof t=="function";function Hm(t){return t instanceof Document}function Zi(t){return t instanceof Element}function vt(t){return t instanceof HTMLElement}function Jl(t){return t.pointerType==="touch"}function Gm(t){return t!==null&&typeof t=="object"}function Vm(t){return Gm(t)&&"subscribe"in t}function Ft(...t){return(...e)=>{for(const n of t)typeof n=="function"&&n(...e)}}function nt(){}function pt(t,e,n,o){const i=Array.isArray(e)?e:[e];return i.forEach(r=>t.addEventListener(r,n,o)),()=>{i.forEach(r=>t.removeEventListener(r,n,o))}}function _t(t,e,n,o){const i=Array.isArray(e)?e:[e];if(typeof n=="function"){const r=Ym(l=>n(l));return i.forEach(l=>t.addEventListener(l,r,o)),()=>{i.forEach(l=>t.removeEventListener(l,r,o))}}return()=>void 0}function Wm(t){const e=t.currentTarget;if(!vt(e))return null;const n=new CustomEvent(`m-${t.type}`,{detail:{originalEvent:t},cancelable:!0});return e.dispatchEvent(n),n}function Ym(t){return e=>{const n=Wm(e);if(!(n!=null&&n.defaultPrevented))return t(e)}}function Qi(t,...e){const n={};for(const o of Object.keys(t))e.includes(o)||(n[o]=t[o]);return n}function xt(t){return{...t,get:()=>Pf(t)}}xt.writable=function(t){const e=Xe(t);let n=t;return{subscribe:e.subscribe,set(o){e.set(o),n=o},update(o){const i=o(n);e.set(i),n=i},get(){return n}}};xt.derived=function(t,e){const n=new Map,o=()=>{const r=Array.isArray(t)?t.map(l=>l.get()):t.get();return e(r)};return{get:o,subscribe:r=>{const l=[];return(Array.isArray(t)?t:[t]).forEach(s=>{l.push(s.subscribe(()=>{r(o())}))}),r(o()),n.set(r,l),()=>{const s=n.get(r);if(s)for(const u of s)u();n.delete(r)}}}};const zi=(t,e)=>{const n=xt(t),o=(r,l)=>{n.update(a=>{const s=r(a);let u=s;return e&&(u=e({curr:a,next:s})),l==null||l(u),u})};return{...n,update:o,set:r=>{o(()=>r)}}};function dl(t){return new Promise(e=>setTimeout(e,t))}let Um="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",Km=(t=21)=>{let e="",n=t;for(;n--;)e+=Um[Math.random()*64|0];return e};function Xm(){return Km(10)}function ml(t){return t.reduce((e,n)=>(e[n]=Xm(),e),{})}const ft={ALT:"Alt",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",CAPS_LOCK:"CapsLock",CONTROL:"Control",DELETE:"Delete",END:"End",ENTER:"Enter",ESCAPE:"Escape",F1:"F1",F10:"F10",F11:"F11",F12:"F12",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",HOME:"Home",META:"Meta",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp",SHIFT:"Shift",SPACE:" ",TAB:"Tab",CTRL:"Control",ASTERISK:"*",A:"a",P:"p"},xf=()=>typeof window<"u";function Jm(){const t=navigator.userAgentData;return(t==null?void 0:t.platform)??navigator.platform}const Zf=t=>xf()&&t.test(Jm().toLowerCase()),xm=()=>xf()&&!!navigator.maxTouchPoints,Zm=()=>Zf(/^mac/)&&!xm(),Qm=()=>Zf(/mac|iphone|ipad|ipod/i),zm=()=>Qm()&&!Zm();function ep(t){const e=t.slice();return e.sort(np),tp(e)}function tp(t){if(t.length<=1)return t.slice();const e=[];for(let o=0;o<t.length;o++){const i=t[o];for(;e.length>=2;){const r=e[e.length-1],l=e[e.length-2];if((r.x-l.x)*(i.y-l.y)>=(r.y-l.y)*(i.x-l.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let o=t.length-1;o>=0;o--){const i=t[o];for(;n.length>=2;){const r=n[n.length-1],l=n[n.length-2];if((r.x-l.x)*(i.y-l.y)>=(r.y-l.y)*(i.x-l.x))n.pop();else break}n.push(i)}return n.pop(),e.length==1&&n.length==1&&e[0].x==n[0].x&&e[0].y==n[0].y?e:e.concat(n)}function np(t,e){return t.x<e.x?-1:t.x>e.x?1:t.y<e.y?-1:t.y>e.y?1:0}function op(t){const e=t.getBoundingClientRect();return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.right,y:e.bottom},{x:e.left,y:e.bottom}]}function ip(t){const e=t.flatMap(n=>op(n));return ep(e)}function rp(t,e){let n=!1;for(let o=0,i=e.length-1;o<e.length;i=o++){const r=e[o].x,l=e[o].y,a=e[i].x,s=e[i].y;l>t.y!=s>t.y&&t.x<(a-r)*(t.y-l)/(s-l)+r&&(n=!n)}return n}const mr="data-melt-scroll-lock";function xl(t,e){if(!t)return;const n=t.style.cssText;return Object.assign(t.style,e),()=>{t.style.cssText=n}}function lp(t,e,n){if(!t)return;const o=t.style.getPropertyValue(e);return t.style.setProperty(e,n),()=>{o?t.style.setProperty(e,o):t.style.removeProperty(e)}}function sp(t){const e=t.getBoundingClientRect().left;return Math.round(e)+t.scrollLeft?"paddingLeft":"paddingRight"}function ap(t){const e=document,n=e.defaultView??window,{documentElement:o,body:i}=e;if(i.hasAttribute(mr))return nt;i.setAttribute(mr,"");const l=n.innerWidth-o.clientWidth,a=()=>lp(o,"--scrollbar-width",`${l}px`),s=sp(o),u=n.getComputedStyle(i)[s],f=()=>xl(i,{overflow:"hidden",[s]:`calc(${u} + ${l}px)`}),c=()=>{const{scrollX:h,scrollY:m,visualViewport:p}=n,g=(p==null?void 0:p.offsetLeft)??0,A=(p==null?void 0:p.offsetTop)??0,b=xl(i,{position:"fixed",overflow:"hidden",top:`${-(m-Math.floor(A))}px`,left:`${-(h-Math.floor(g))}px`,right:"0",[s]:`calc(${u} + ${l}px)`});return()=>{b==null||b(),n.scrollTo(h,m)}},d=[a(),zm()?c():f()];return()=>{d.forEach(h=>h==null?void 0:h()),i.removeAttribute(mr)}}const up=t=>{try{Id(t)}catch{return t}};function Ot(t,e){let n;const o=en(t,r=>{n==null||n(),n=e(r)}).subscribe(nt),i=()=>{o(),n==null||n()};return up(i),i}function Tn(t){const e={};return Object.keys(t).forEach(n=>{const o=n,i=t[o];e[o]=xt(Xe(i))}),e}function fp(t){let e=t.parentElement;for(;vt(e)&&!e.hasAttribute("data-portal");)e=e.parentElement;return e||"body"}function Qf(t,e){return e!==void 0?e:fp(t)==="body"?document.body:null}async function Zl(t){const{prop:e,defaultEl:n}=t;if(await Promise.all([dl(1),ll]),e===void 0){n==null||n.focus();return}const o=Jf(e)?e(n):e;if(typeof o=="string"){const i=document.querySelector(o);if(!vt(i))return;i.focus()}else vt(o)&&o.focus()}function pr(t,e,n,o){const i=(t-(isNaN(e)?0:e))%o;let r=Math.abs(i)*2>=o?t+Math.sign(i)*(o-Math.abs(i)):t-i;isNaN(e)?!isNaN(n)&&r>n&&(r=Math.floor(n/o)*o):r<e?r=e:!isNaN(n)&&r>n&&(r=e+Math.floor((n-e)/o)*o);const l=o.toString(),a=l.indexOf("."),s=a>=0?l.length-a:0;if(s>0){const u=Math.pow(10,s);r=Math.round(r*u)/u}return r}kn(void 0,t=>{function e(o){t(o),t(void 0)}return pt(document,"pointerup",e,{passive:!1,capture:!0})});const cp=kn(void 0,t=>{function e(o){o&&o.key===ft.ESCAPE&&t(o),t(void 0)}return pt(document,"keydown",e,{passive:!1})}),Ql=(t,e={})=>{let n=nt;function o(i={}){n();const r={enabled:!0,...i},l=Vm(r.enabled)?r.enabled:kn(r.enabled);n=Ft(cp.subscribe(a=>{var u;if(!a||!Pf(l))return;const s=a.target;if(!(!vt(s)||s.closest("[data-escapee]")!==t)){if(a.preventDefault(),r.ignore){if(Jf(r.ignore)){if(r.ignore(a))return}else if(Array.isArray(r.ignore)&&r.ignore.length>0&&r.ignore.some(f=>f&&s===f))return}(u=r.handler)==null||u.call(r,a)}}),Ot(l,a=>{a?t.dataset.escapee="":delete t.dataset.escapee}))}return o(e),{update:o,destroy(){t.removeAttribute("data-escapee"),n()}}},fn=Math.min,wt=Math.max,Ti=Math.round,xo=Math.floor,cn=t=>({x:t,y:t}),dp={left:"right",right:"left",bottom:"top",top:"bottom"},mp={start:"end",end:"start"};function Br(t,e,n){return wt(t,fn(e,n))}function ao(t,e){return typeof t=="function"?t(e):t}function dn(t){return t.split("-")[0]}function uo(t){return t.split("-")[1]}function zf(t){return t==="x"?"y":"x"}function pl(t){return t==="y"?"height":"width"}function Wo(t){return["top","bottom"].includes(dn(t))?"y":"x"}function hl(t){return zf(Wo(t))}function pp(t,e,n){n===void 0&&(n=!1);const o=uo(t),i=hl(t),r=pl(i);let l=i==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return e.reference[r]>e.floating[r]&&(l=Mi(l)),[l,Mi(l)]}function hp(t){const e=Mi(t);return[jr(t),e,jr(e)]}function jr(t){return t.replace(/start|end/g,e=>mp[e])}function _p(t,e,n){const o=["left","right"],i=["right","left"],r=["top","bottom"],l=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:o:e?o:i;case"left":case"right":return e?r:l;default:return[]}}function gp(t,e,n,o){const i=uo(t);let r=_p(dn(t),n==="start",o);return i&&(r=r.map(l=>l+"-"+i),e&&(r=r.concat(r.map(jr)))),r}function Mi(t){return t.replace(/left|right|bottom|top/g,e=>dp[e])}function bp(t){return{top:0,right:0,bottom:0,left:0,...t}}function ec(t){return typeof t!="number"?bp(t):{top:t,right:t,bottom:t,left:t}}function Oi(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function zl(t,e,n){let{reference:o,floating:i}=t;const r=Wo(e),l=hl(e),a=pl(l),s=dn(e),u=r==="y",f=o.x+o.width/2-i.width/2,c=o.y+o.height/2-i.height/2,d=o[a]/2-i[a]/2;let h;switch(s){case"top":h={x:f,y:o.y-i.height};break;case"bottom":h={x:f,y:o.y+o.height};break;case"right":h={x:o.x+o.width,y:c};break;case"left":h={x:o.x-i.width,y:c};break;default:h={x:o.x,y:o.y}}switch(uo(e)){case"start":h[l]-=d*(n&&u?-1:1);break;case"end":h[l]+=d*(n&&u?-1:1);break}return h}const vp=async(t,e,n)=>{const{placement:o="bottom",strategy:i="absolute",middleware:r=[],platform:l}=n,a=r.filter(Boolean),s=await(l.isRTL==null?void 0:l.isRTL(e));let u=await l.getElementRects({reference:t,floating:e,strategy:i}),{x:f,y:c}=zl(u,o,s),d=o,h={},m=0;for(let p=0;p<a.length;p++){const{name:g,fn:A}=a[p],{x:b,y:w,data:E,reset:D}=await A({x:f,y:c,initialPlacement:o,placement:d,strategy:i,middlewareData:h,rects:u,platform:l,elements:{reference:t,floating:e}});f=b??f,c=w??c,h={...h,[g]:{...h[g],...E}},D&&m<=50&&(m++,typeof D=="object"&&(D.placement&&(d=D.placement),D.rects&&(u=D.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:i}):D.rects),{x:f,y:c}=zl(u,d,s)),p=-1)}return{x:f,y:c,placement:d,strategy:i,middlewareData:h}};async function _l(t,e){var n;e===void 0&&(e={});const{x:o,y:i,platform:r,rects:l,elements:a,strategy:s}=t,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:c="floating",altBoundary:d=!1,padding:h=0}=ao(e,t),m=ec(h),g=a[d?c==="floating"?"reference":"floating":c],A=Oi(await r.getClippingRect({element:(n=await(r.isElement==null?void 0:r.isElement(g)))==null||n?g:g.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(a.floating)),boundary:u,rootBoundary:f,strategy:s})),b=c==="floating"?{...l.floating,x:o,y:i}:l.reference,w=await(r.getOffsetParent==null?void 0:r.getOffsetParent(a.floating)),E=await(r.isElement==null?void 0:r.isElement(w))?await(r.getScale==null?void 0:r.getScale(w))||{x:1,y:1}:{x:1,y:1},D=Oi(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:b,offsetParent:w,strategy:s}):b);return{top:(A.top-D.top+m.top)/E.y,bottom:(D.bottom-A.bottom+m.bottom)/E.y,left:(A.left-D.left+m.left)/E.x,right:(D.right-A.right+m.right)/E.x}}const yp=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:o,placement:i,rects:r,platform:l,elements:a,middlewareData:s}=e,{element:u,padding:f=0}=ao(t,e)||{};if(u==null)return{};const c=ec(f),d={x:n,y:o},h=hl(i),m=pl(h),p=await l.getDimensions(u),g=h==="y",A=g?"top":"left",b=g?"bottom":"right",w=g?"clientHeight":"clientWidth",E=r.reference[m]+r.reference[h]-d[h]-r.floating[m],D=d[h]-r.reference[h],$=await(l.getOffsetParent==null?void 0:l.getOffsetParent(u));let R=$?$[w]:0;(!R||!await(l.isElement==null?void 0:l.isElement($)))&&(R=a.floating[w]||r.floating[m]);const j=E/2-D/2,F=R/2-p[m]/2-1,N=fn(c[A],F),T=fn(c[b],F),k=N,y=R-p[m]-T,L=R/2-p[m]/2+j,V=Br(k,L,y),q=!s.arrow&&uo(i)!=null&&L!==V&&r.reference[m]/2-(L<k?N:T)-p[m]/2<0,x=q?L<k?L-k:L-y:0;return{[h]:d[h]+x,data:{[h]:V,centerOffset:L-V-x,...q&&{alignmentOffset:x}},reset:q}}}),wp=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,o;const{placement:i,middlewareData:r,rects:l,initialPlacement:a,platform:s,elements:u}=e,{mainAxis:f=!0,crossAxis:c=!0,fallbackPlacements:d,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:p=!0,...g}=ao(t,e);if((n=r.arrow)!=null&&n.alignmentOffset)return{};const A=dn(i),b=dn(a)===a,w=await(s.isRTL==null?void 0:s.isRTL(u.floating)),E=d||(b||!p?[Mi(a)]:hp(a));!d&&m!=="none"&&E.push(...gp(a,p,m,w));const D=[a,...E],$=await _l(e,g),R=[];let j=((o=r.flip)==null?void 0:o.overflows)||[];if(f&&R.push($[A]),c){const k=pp(i,l,w);R.push($[k[0]],$[k[1]])}if(j=[...j,{placement:i,overflows:R}],!R.every(k=>k<=0)){var F,N;const k=(((F=r.flip)==null?void 0:F.index)||0)+1,y=D[k];if(y)return{data:{index:k,overflows:j},reset:{placement:y}};let L=(N=j.filter(V=>V.overflows[0]<=0).sort((V,q)=>V.overflows[1]-q.overflows[1])[0])==null?void 0:N.placement;if(!L)switch(h){case"bestFit":{var T;const V=(T=j.map(q=>[q.placement,q.overflows.filter(x=>x>0).reduce((x,W)=>x+W,0)]).sort((q,x)=>q[1]-x[1])[0])==null?void 0:T[0];V&&(L=V);break}case"initialPlacement":L=a;break}if(i!==L)return{reset:{placement:L}}}return{}}}};async function kp(t,e){const{placement:n,platform:o,elements:i}=t,r=await(o.isRTL==null?void 0:o.isRTL(i.floating)),l=dn(n),a=uo(n),s=Wo(n)==="y",u=["left","top"].includes(l)?-1:1,f=r&&s?-1:1,c=ao(e,t);let{mainAxis:d,crossAxis:h,alignmentAxis:m}=typeof c=="number"?{mainAxis:c,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...c};return a&&typeof m=="number"&&(h=a==="end"?m*-1:m),s?{x:h*f,y:d*u}:{x:d*u,y:h*f}}const Cp=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,o;const{x:i,y:r,placement:l,middlewareData:a}=e,s=await kp(e,t);return l===((n=a.offset)==null?void 0:n.placement)&&(o=a.arrow)!=null&&o.alignmentOffset?{}:{x:i+s.x,y:r+s.y,data:{...s,placement:l}}}}},Ap=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:o,placement:i}=e,{mainAxis:r=!0,crossAxis:l=!1,limiter:a={fn:g=>{let{x:A,y:b}=g;return{x:A,y:b}}},...s}=ao(t,e),u={x:n,y:o},f=await _l(e,s),c=Wo(dn(i)),d=zf(c);let h=u[d],m=u[c];if(r){const g=d==="y"?"top":"left",A=d==="y"?"bottom":"right",b=h+f[g],w=h-f[A];h=Br(b,h,w)}if(l){const g=c==="y"?"top":"left",A=c==="y"?"bottom":"right",b=m+f[g],w=m-f[A];m=Br(b,m,w)}const p=a.fn({...e,[d]:h,[c]:m});return{...p,data:{x:p.x-n,y:p.y-o}}}}},Sp=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){const{placement:n,rects:o,platform:i,elements:r}=e,{apply:l=()=>{},...a}=ao(t,e),s=await _l(e,a),u=dn(n),f=uo(n),c=Wo(n)==="y",{width:d,height:h}=o.floating;let m,p;u==="top"||u==="bottom"?(m=u,p=f===(await(i.isRTL==null?void 0:i.isRTL(r.floating))?"start":"end")?"left":"right"):(p=u,m=f==="end"?"top":"bottom");const g=h-s[m],A=d-s[p],b=!e.middlewareData.shift;let w=g,E=A;if(c){const $=d-s.left-s.right;E=f||b?fn(A,$):$}else{const $=h-s.top-s.bottom;w=f||b?fn(g,$):$}if(b&&!f){const $=wt(s.left,0),R=wt(s.right,0),j=wt(s.top,0),F=wt(s.bottom,0);c?E=d-2*($!==0||R!==0?$+R:wt(s.left,s.right)):w=h-2*(j!==0||F!==0?j+F:wt(s.top,s.bottom))}await l({...e,availableWidth:E,availableHeight:w});const D=await i.getDimensions(r.floating);return d!==D.width||h!==D.height?{reset:{rects:!0}}:{}}}};function mn(t){return tc(t)?(t.nodeName||"").toLowerCase():"#document"}function Ct(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function tn(t){var e;return(e=(tc(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function tc(t){return t instanceof Node||t instanceof Ct(t).Node}function Qt(t){return t instanceof Element||t instanceof Ct(t).Element}function Ht(t){return t instanceof HTMLElement||t instanceof Ct(t).HTMLElement}function es(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ct(t).ShadowRoot}function Yo(t){const{overflow:e,overflowX:n,overflowY:o,display:i}=Pt(t);return/auto|scroll|overlay|hidden|clip/.test(e+o+n)&&!["inline","contents"].includes(i)}function Tp(t){return["table","td","th"].includes(mn(t))}function gl(t){const e=bl(),n=Pt(t);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(o=>(n.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(n.contain||"").includes(o))}function Mp(t){let e=no(t);for(;Ht(e)&&!er(e);){if(gl(e))return e;e=no(e)}return null}function bl(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function er(t){return["html","body","#document"].includes(mn(t))}function Pt(t){return Ct(t).getComputedStyle(t)}function tr(t){return Qt(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function no(t){if(mn(t)==="html")return t;const e=t.assignedSlot||t.parentNode||es(t)&&t.host||tn(t);return es(e)?e.host:e}function nc(t){const e=no(t);return er(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ht(e)&&Yo(e)?e:nc(e)}function Fo(t,e,n){var o;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=nc(t),r=i===((o=t.ownerDocument)==null?void 0:o.body),l=Ct(i);return r?e.concat(l,l.visualViewport||[],Yo(i)?i:[],l.frameElement&&n?Fo(l.frameElement):[]):e.concat(i,Fo(i,[],n))}function oc(t){const e=Pt(t);let n=parseFloat(e.width)||0,o=parseFloat(e.height)||0;const i=Ht(t),r=i?t.offsetWidth:n,l=i?t.offsetHeight:o,a=Ti(n)!==r||Ti(o)!==l;return a&&(n=r,o=l),{width:n,height:o,$:a}}function vl(t){return Qt(t)?t:t.contextElement}function Zn(t){const e=vl(t);if(!Ht(e))return cn(1);const n=e.getBoundingClientRect(),{width:o,height:i,$:r}=oc(e);let l=(r?Ti(n.width):n.width)/o,a=(r?Ti(n.height):n.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!a||!Number.isFinite(a))&&(a=1),{x:l,y:a}}const Op=cn(0);function ic(t){const e=Ct(t);return!bl()||!e.visualViewport?Op:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Ip(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Ct(t)?!1:e}function Mn(t,e,n,o){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),r=vl(t);let l=cn(1);e&&(o?Qt(o)&&(l=Zn(o)):l=Zn(t));const a=Ip(r,n,o)?ic(r):cn(0);let s=(i.left+a.x)/l.x,u=(i.top+a.y)/l.y,f=i.width/l.x,c=i.height/l.y;if(r){const d=Ct(r),h=o&&Qt(o)?Ct(o):o;let m=d,p=m.frameElement;for(;p&&o&&h!==m;){const g=Zn(p),A=p.getBoundingClientRect(),b=Pt(p),w=A.left+(p.clientLeft+parseFloat(b.paddingLeft))*g.x,E=A.top+(p.clientTop+parseFloat(b.paddingTop))*g.y;s*=g.x,u*=g.y,f*=g.x,c*=g.y,s+=w,u+=E,m=Ct(p),p=m.frameElement}}return Oi({width:f,height:c,x:s,y:u})}const Np=[":popover-open",":modal"];function rc(t){return Np.some(e=>{try{return t.matches(e)}catch{return!1}})}function Pp(t){let{elements:e,rect:n,offsetParent:o,strategy:i}=t;const r=i==="fixed",l=tn(o),a=e?rc(e.floating):!1;if(o===l||a&&r)return n;let s={scrollLeft:0,scrollTop:0},u=cn(1);const f=cn(0),c=Ht(o);if((c||!c&&!r)&&((mn(o)!=="body"||Yo(l))&&(s=tr(o)),Ht(o))){const d=Mn(o);u=Zn(o),f.x=d.x+o.clientLeft,f.y=d.y+o.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-s.scrollLeft*u.x+f.x,y:n.y*u.y-s.scrollTop*u.y+f.y}}function Ep(t){return Array.from(t.getClientRects())}function lc(t){return Mn(tn(t)).left+tr(t).scrollLeft}function Rp(t){const e=tn(t),n=tr(t),o=t.ownerDocument.body,i=wt(e.scrollWidth,e.clientWidth,o.scrollWidth,o.clientWidth),r=wt(e.scrollHeight,e.clientHeight,o.scrollHeight,o.clientHeight);let l=-n.scrollLeft+lc(t);const a=-n.scrollTop;return Pt(o).direction==="rtl"&&(l+=wt(e.clientWidth,o.clientWidth)-i),{width:i,height:r,x:l,y:a}}function Lp(t,e){const n=Ct(t),o=tn(t),i=n.visualViewport;let r=o.clientWidth,l=o.clientHeight,a=0,s=0;if(i){r=i.width,l=i.height;const u=bl();(!u||u&&e==="fixed")&&(a=i.offsetLeft,s=i.offsetTop)}return{width:r,height:l,x:a,y:s}}function $p(t,e){const n=Mn(t,!0,e==="fixed"),o=n.top+t.clientTop,i=n.left+t.clientLeft,r=Ht(t)?Zn(t):cn(1),l=t.clientWidth*r.x,a=t.clientHeight*r.y,s=i*r.x,u=o*r.y;return{width:l,height:a,x:s,y:u}}function ts(t,e,n){let o;if(e==="viewport")o=Lp(t,n);else if(e==="document")o=Rp(tn(t));else if(Qt(e))o=$p(e,n);else{const i=ic(t);o={...e,x:e.x-i.x,y:e.y-i.y}}return Oi(o)}function sc(t,e){const n=no(t);return n===e||!Qt(n)||er(n)?!1:Pt(n).position==="fixed"||sc(n,e)}function Dp(t,e){const n=e.get(t);if(n)return n;let o=Fo(t,[],!1).filter(a=>Qt(a)&&mn(a)!=="body"),i=null;const r=Pt(t).position==="fixed";let l=r?no(t):t;for(;Qt(l)&&!er(l);){const a=Pt(l),s=gl(l);!s&&a.position==="fixed"&&(i=null),(r?!s&&!i:!s&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Yo(l)&&!s&&sc(t,l))?o=o.filter(f=>f!==l):i=a,l=no(l)}return e.set(t,o),o}function qp(t){let{element:e,boundary:n,rootBoundary:o,strategy:i}=t;const l=[...n==="clippingAncestors"?Dp(e,this._c):[].concat(n),o],a=l[0],s=l.reduce((u,f)=>{const c=ts(e,f,i);return u.top=wt(c.top,u.top),u.right=fn(c.right,u.right),u.bottom=fn(c.bottom,u.bottom),u.left=wt(c.left,u.left),u},ts(e,a,i));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}}function Fp(t){const{width:e,height:n}=oc(t);return{width:e,height:n}}function Bp(t,e,n){const o=Ht(e),i=tn(e),r=n==="fixed",l=Mn(t,!0,r,e);let a={scrollLeft:0,scrollTop:0};const s=cn(0);if(o||!o&&!r)if((mn(e)!=="body"||Yo(i))&&(a=tr(e)),o){const c=Mn(e,!0,r,e);s.x=c.x+e.clientLeft,s.y=c.y+e.clientTop}else i&&(s.x=lc(i));const u=l.left+a.scrollLeft-s.x,f=l.top+a.scrollTop-s.y;return{x:u,y:f,width:l.width,height:l.height}}function ns(t,e){return!Ht(t)||Pt(t).position==="fixed"?null:e?e(t):t.offsetParent}function ac(t,e){const n=Ct(t);if(!Ht(t)||rc(t))return n;let o=ns(t,e);for(;o&&Tp(o)&&Pt(o).position==="static";)o=ns(o,e);return o&&(mn(o)==="html"||mn(o)==="body"&&Pt(o).position==="static"&&!gl(o))?n:o||Mp(t)||n}const jp=async function(t){const e=this.getOffsetParent||ac,n=this.getDimensions;return{reference:Bp(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,...await n(t.floating)}}};function Hp(t){return Pt(t).direction==="rtl"}const Gp={convertOffsetParentRelativeRectToViewportRelativeRect:Pp,getDocumentElement:tn,getClippingRect:qp,getOffsetParent:ac,getElementRects:jp,getClientRects:Ep,getDimensions:Fp,getScale:Zn,isElement:Qt,isRTL:Hp};function Vp(t,e){let n=null,o;const i=tn(t);function r(){var a;clearTimeout(o),(a=n)==null||a.disconnect(),n=null}function l(a,s){a===void 0&&(a=!1),s===void 0&&(s=1),r();const{left:u,top:f,width:c,height:d}=t.getBoundingClientRect();if(a||e(),!c||!d)return;const h=xo(f),m=xo(i.clientWidth-(u+c)),p=xo(i.clientHeight-(f+d)),g=xo(u),b={rootMargin:-h+"px "+-m+"px "+-p+"px "+-g+"px",threshold:wt(0,fn(1,s))||1};let w=!0;function E(D){const $=D[0].intersectionRatio;if($!==s){if(!w)return l();$?l(!1,$):o=setTimeout(()=>{l(!1,1e-7)},100)}w=!1}try{n=new IntersectionObserver(E,{...b,root:i.ownerDocument})}catch{n=new IntersectionObserver(E,b)}n.observe(t)}return l(!0),r}function Wp(t,e,n,o){o===void 0&&(o={});const{ancestorScroll:i=!0,ancestorResize:r=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:s=!1}=o,u=vl(t),f=i||r?[...u?Fo(u):[],...Fo(e)]:[];f.forEach(A=>{i&&A.addEventListener("scroll",n,{passive:!0}),r&&A.addEventListener("resize",n)});const c=u&&a?Vp(u,n):null;let d=-1,h=null;l&&(h=new ResizeObserver(A=>{let[b]=A;b&&b.target===u&&h&&(h.unobserve(e),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var w;(w=h)==null||w.observe(e)})),n()}),u&&!s&&h.observe(u),h.observe(e));let m,p=s?Mn(t):null;s&&g();function g(){const A=Mn(t);p&&(A.x!==p.x||A.y!==p.y||A.width!==p.width||A.height!==p.height)&&n(),p=A,m=requestAnimationFrame(g)}return n(),()=>{var A;f.forEach(b=>{i&&b.removeEventListener("scroll",n),r&&b.removeEventListener("resize",n)}),c==null||c(),(A=h)==null||A.disconnect(),h=null,s&&cancelAnimationFrame(m)}}const Yp=Ap,Up=wp,Kp=Sp,Xp=yp,Jp=(t,e,n)=>{const o=new Map,i={platform:Gp,...n},r={...i.platform,_c:o};return vp(t,e,{...i,platform:r})},xp={strategy:"absolute",placement:"top",gutter:5,flip:!0,sameWidth:!1,overflowPadding:8},Zp={bottom:"rotate(45deg)",left:"rotate(135deg)",top:"rotate(225deg)",right:"rotate(315deg)"};function Qp(t,e,n={}){if(!e||!t||n===null)return{destroy:nt};const o={...xp,...n},i=e.querySelector("[data-arrow=true]"),r=[];o.flip&&r.push(Up({boundary:o.boundary,padding:o.overflowPadding}));const l=vt(i)?i.offsetHeight/2:0;if(o.gutter||o.offset){const s=o.gutter?{mainAxis:o.gutter}:o.offset;(s==null?void 0:s.mainAxis)!=null&&(s.mainAxis+=l),r.push(Cp(s))}r.push(Yp({boundary:o.boundary,crossAxis:o.overlap,padding:o.overflowPadding})),i&&r.push(Xp({element:i,padding:8})),r.push(Kp({padding:o.overflowPadding,apply({rects:s,availableHeight:u,availableWidth:f}){o.sameWidth&&Object.assign(e.style,{width:`${Math.round(s.reference.width)}px`,minWidth:"unset"}),o.fitViewport&&Object.assign(e.style,{maxWidth:`${f}px`,maxHeight:`${u}px`})}}));function a(){if(!t||!e)return;const{placement:s,strategy:u}=o;Jp(t,e,{placement:s,middleware:r,strategy:u}).then(f=>{const c=Math.round(f.x),d=Math.round(f.y);if(Object.assign(e.style,{position:o.strategy,top:`${d}px`,left:`${c}px`}),vt(i)&&f.middlewareData.arrow){const{x:h,y:m}=f.middlewareData.arrow,p=f.placement.split("-")[0];Object.assign(i.style,{position:"absolute",left:h!=null?`${h}px`:"",top:m!=null?`${m}px`:"",[p]:`calc(100% - ${l}px)`,transform:Zp[p],backgroundColor:"inherit",zIndex:"inherit"})}return f})}return Object.assign(e.style,{position:o.strategy}),{destroy:Wp(t,e,a)}}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var uc=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Ii=uc.join(","),fc=typeof Element>"u",On=fc?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Ni=!fc&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},Pi=function t(e,n){var o;n===void 0&&(n=!0);var i=e==null||(o=e.getAttribute)===null||o===void 0?void 0:o.call(e,"inert"),r=i===""||i==="true",l=r||n&&e&&t(e.parentNode);return l},zp=function(e){var n,o=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"contenteditable");return o===""||o==="true"},cc=function(e,n,o){if(Pi(e))return[];var i=Array.prototype.slice.apply(e.querySelectorAll(Ii));return n&&On.call(e,Ii)&&i.unshift(e),i=i.filter(o),i},dc=function t(e,n,o){for(var i=[],r=Array.from(e);r.length;){var l=r.shift();if(!Pi(l,!1))if(l.tagName==="SLOT"){var a=l.assignedElements(),s=a.length?a:l.children,u=t(s,!0,o);o.flatten?i.push.apply(i,u):i.push({scopeParent:l,candidates:u})}else{var f=On.call(l,Ii);f&&o.filter(l)&&(n||!e.includes(l))&&i.push(l);var c=l.shadowRoot||typeof o.getShadowRoot=="function"&&o.getShadowRoot(l),d=!Pi(c,!1)&&(!o.shadowRootFilter||o.shadowRootFilter(l));if(c&&d){var h=t(c===!0?l.children:c.children,!0,o);o.flatten?i.push.apply(i,h):i.push({scopeParent:l,candidates:h})}else r.unshift.apply(r,l.children)}}return i},mc=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},bn=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||zp(e))&&!mc(e)?0:e.tabIndex},eh=function(e,n){var o=bn(e);return o<0&&n&&!mc(e)?0:o},th=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},pc=function(e){return e.tagName==="INPUT"},nh=function(e){return pc(e)&&e.type==="hidden"},oh=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(o){return o.tagName==="SUMMARY"});return n},ih=function(e,n){for(var o=0;o<e.length;o++)if(e[o].checked&&e[o].form===n)return e[o]},rh=function(e){if(!e.name)return!0;var n=e.form||Ni(e),o=function(a){return n.querySelectorAll('input[type="radio"][name="'+a+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=o(window.CSS.escape(e.name));else try{i=o(e.name)}catch(l){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",l.message),!1}var r=ih(i,e.form);return!r||r===e},lh=function(e){return pc(e)&&e.type==="radio"},sh=function(e){return lh(e)&&!rh(e)},ah=function(e){var n,o=e&&Ni(e),i=(n=o)===null||n===void 0?void 0:n.host,r=!1;if(o&&o!==e){var l,a,s;for(r=!!((l=i)!==null&&l!==void 0&&(a=l.ownerDocument)!==null&&a!==void 0&&a.contains(i)||e!=null&&(s=e.ownerDocument)!==null&&s!==void 0&&s.contains(e));!r&&i;){var u,f,c;o=Ni(i),i=(u=o)===null||u===void 0?void 0:u.host,r=!!((f=i)!==null&&f!==void 0&&(c=f.ownerDocument)!==null&&c!==void 0&&c.contains(i))}}return r},os=function(e){var n=e.getBoundingClientRect(),o=n.width,i=n.height;return o===0&&i===0},uh=function(e,n){var o=n.displayCheck,i=n.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var r=On.call(e,"details>summary:first-of-type"),l=r?e.parentElement:e;if(On.call(l,"details:not([open]) *"))return!0;if(!o||o==="full"||o==="legacy-full"){if(typeof i=="function"){for(var a=e;e;){var s=e.parentElement,u=Ni(e);if(s&&!s.shadowRoot&&i(s)===!0)return os(e);e.assignedSlot?e=e.assignedSlot:!s&&u!==e.ownerDocument?e=u.host:e=s}e=a}if(ah(e))return!e.getClientRects().length;if(o!=="legacy-full")return!0}else if(o==="non-zero-area")return os(e);return!1},fh=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var o=0;o<n.children.length;o++){var i=n.children.item(o);if(i.tagName==="LEGEND")return On.call(n,"fieldset[disabled] *")?!0:!i.contains(e)}return!0}n=n.parentElement}return!1},Ei=function(e,n){return!(n.disabled||Pi(n)||nh(n)||uh(n,e)||oh(n)||fh(n))},Hr=function(e,n){return!(sh(n)||bn(n)<0||!Ei(e,n))},ch=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},dh=function t(e){var n=[],o=[];return e.forEach(function(i,r){var l=!!i.scopeParent,a=l?i.scopeParent:i,s=eh(a,l),u=l?t(i.candidates):a;s===0?l?n.push.apply(n,u):n.push(a):o.push({documentOrder:r,tabIndex:s,item:i,isScope:l,content:u})}),o.sort(th).reduce(function(i,r){return r.isScope?i.push.apply(i,r.content):i.push(r.content),i},[]).concat(n)},mh=function(e,n){n=n||{};var o;return n.getShadowRoot?o=dc([e],n.includeContainer,{filter:Hr.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:ch}):o=cc(e,n.includeContainer,Hr.bind(null,n)),dh(o)},ph=function(e,n){n=n||{};var o;return n.getShadowRoot?o=dc([e],n.includeContainer,{filter:Ei.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):o=cc(e,n.includeContainer,Ei.bind(null,n)),o},Wn=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return On.call(e,Ii)===!1?!1:Hr(n,e)},hh=uc.concat("iframe").join(","),hr=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return On.call(e,hh)===!1?!1:Ei(n,e)};/*!
* focus-trap 7.5.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function is(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,o)}return n}function rs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?is(Object(n),!0).forEach(function(o){_h(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):is(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _h(t,e,n){return e=bh(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gh(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bh(t){var e=gh(t,"string");return typeof e=="symbol"?e:String(e)}var ls={activateTrap:function(e,n){if(e.length>0){var o=e[e.length-1];o!==n&&o.pause()}var i=e.indexOf(n);i===-1||e.splice(i,1),e.push(n)},deactivateTrap:function(e,n){var o=e.indexOf(n);o!==-1&&e.splice(o,1),e.length>0&&e[e.length-1].unpause()}},vh=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},yh=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},Lo=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},wh=function(e){return Lo(e)&&!e.shiftKey},kh=function(e){return Lo(e)&&e.shiftKey},ss=function(e){return setTimeout(e,0)},as=function(e,n){var o=-1;return e.every(function(i,r){return n(i)?(o=r,!1):!0}),o},wo=function(e){for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return typeof e=="function"?e.apply(void 0,o):e},Zo=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},Ch=[],Ah=function(e,n){var o=(n==null?void 0:n.document)||document,i=(n==null?void 0:n.trapStack)||Ch,r=rs({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:wh,isKeyBackward:kh},n),l={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},a,s=function(k,y,L){return k&&k[y]!==void 0?k[y]:r[L||y]},u=function(k,y){var L=typeof(y==null?void 0:y.composedPath)=="function"?y.composedPath():void 0;return l.containerGroups.findIndex(function(V){var q=V.container,x=V.tabbableNodes;return q.contains(k)||(L==null?void 0:L.includes(q))||x.find(function(W){return W===k})})},f=function(k){var y=r[k];if(typeof y=="function"){for(var L=arguments.length,V=new Array(L>1?L-1:0),q=1;q<L;q++)V[q-1]=arguments[q];y=y.apply(void 0,V)}if(y===!0&&(y=void 0),!y){if(y===void 0||y===!1)return y;throw new Error("`".concat(k,"` was specified but was not a node, or did not return a node"))}var x=y;if(typeof y=="string"&&(x=o.querySelector(y),!x))throw new Error("`".concat(k,"` as selector refers to no known node"));return x},c=function(){var k=f("initialFocus");if(k===!1)return!1;if(k===void 0||!hr(k,r.tabbableOptions))if(u(o.activeElement)>=0)k=o.activeElement;else{var y=l.tabbableGroups[0],L=y&&y.firstTabbableNode;k=L||f("fallbackFocus")}if(!k)throw new Error("Your focus-trap needs to have at least one focusable element");return k},d=function(){if(l.containerGroups=l.containers.map(function(k){var y=mh(k,r.tabbableOptions),L=ph(k,r.tabbableOptions),V=y.length>0?y[0]:void 0,q=y.length>0?y[y.length-1]:void 0,x=L.find(function(te){return Wn(te)}),W=L.slice().reverse().find(function(te){return Wn(te)}),Y=!!y.find(function(te){return bn(te)>0});return{container:k,tabbableNodes:y,focusableNodes:L,posTabIndexesFound:Y,firstTabbableNode:V,lastTabbableNode:q,firstDomTabbableNode:x,lastDomTabbableNode:W,nextTabbableNode:function(z){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,re=y.indexOf(z);return re<0?ne?L.slice(L.indexOf(z)+1).find(function(le){return Wn(le)}):L.slice(0,L.indexOf(z)).reverse().find(function(le){return Wn(le)}):y[re+(ne?1:-1)]}}}),l.tabbableGroups=l.containerGroups.filter(function(k){return k.tabbableNodes.length>0}),l.tabbableGroups.length<=0&&!f("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(l.containerGroups.find(function(k){return k.posTabIndexesFound})&&l.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},h=function T(k){var y=k.activeElement;if(y)return y.shadowRoot&&y.shadowRoot.activeElement!==null?T(y.shadowRoot):y},m=function T(k){if(k!==!1&&k!==h(document)){if(!k||!k.focus){T(c());return}k.focus({preventScroll:!!r.preventScroll}),l.mostRecentlyFocusedNode=k,vh(k)&&k.select()}},p=function(k){var y=f("setReturnFocus",k);return y||(y===!1?!1:k)},g=function(k){var y=k.target,L=k.event,V=k.isBackward,q=V===void 0?!1:V;y=y||Zo(L),d();var x=null;if(l.tabbableGroups.length>0){var W=u(y,L),Y=W>=0?l.containerGroups[W]:void 0;if(W<0)q?x=l.tabbableGroups[l.tabbableGroups.length-1].lastTabbableNode:x=l.tabbableGroups[0].firstTabbableNode;else if(q){var te=as(l.tabbableGroups,function(J){var Z=J.firstTabbableNode;return y===Z});if(te<0&&(Y.container===y||hr(y,r.tabbableOptions)&&!Wn(y,r.tabbableOptions)&&!Y.nextTabbableNode(y,!1))&&(te=W),te>=0){var z=te===0?l.tabbableGroups.length-1:te-1,ne=l.tabbableGroups[z];x=bn(y)>=0?ne.lastTabbableNode:ne.lastDomTabbableNode}else Lo(L)||(x=Y.nextTabbableNode(y,!1))}else{var re=as(l.tabbableGroups,function(J){var Z=J.lastTabbableNode;return y===Z});if(re<0&&(Y.container===y||hr(y,r.tabbableOptions)&&!Wn(y,r.tabbableOptions)&&!Y.nextTabbableNode(y))&&(re=W),re>=0){var le=re===l.tabbableGroups.length-1?0:re+1,_=l.tabbableGroups[le];x=bn(y)>=0?_.firstTabbableNode:_.firstDomTabbableNode}else Lo(L)||(x=Y.nextTabbableNode(y))}}else x=f("fallbackFocus");return x},A=function(k){var y=Zo(k);if(!(u(y,k)>=0)){if(wo(r.clickOutsideDeactivates,k)){a.deactivate({returnFocus:r.returnFocusOnDeactivate});return}wo(r.allowOutsideClick,k)||k.preventDefault()}},b=function(k){var y=Zo(k),L=u(y,k)>=0;if(L||y instanceof Document)L&&(l.mostRecentlyFocusedNode=y);else{k.stopImmediatePropagation();var V,q=!0;if(l.mostRecentlyFocusedNode)if(bn(l.mostRecentlyFocusedNode)>0){var x=u(l.mostRecentlyFocusedNode),W=l.containerGroups[x].tabbableNodes;if(W.length>0){var Y=W.findIndex(function(te){return te===l.mostRecentlyFocusedNode});Y>=0&&(r.isKeyForward(l.recentNavEvent)?Y+1<W.length&&(V=W[Y+1],q=!1):Y-1>=0&&(V=W[Y-1],q=!1))}}else l.containerGroups.some(function(te){return te.tabbableNodes.some(function(z){return bn(z)>0})})||(q=!1);else q=!1;q&&(V=g({target:l.mostRecentlyFocusedNode,isBackward:r.isKeyBackward(l.recentNavEvent)})),m(V||l.mostRecentlyFocusedNode||c())}l.recentNavEvent=void 0},w=function(k){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;l.recentNavEvent=k;var L=g({event:k,isBackward:y});L&&(Lo(k)&&k.preventDefault(),m(L))},E=function(k){if(yh(k)&&wo(r.escapeDeactivates,k)!==!1){k.preventDefault(),a.deactivate();return}(r.isKeyForward(k)||r.isKeyBackward(k))&&w(k,r.isKeyBackward(k))},D=function(k){var y=Zo(k);u(y,k)>=0||wo(r.clickOutsideDeactivates,k)||wo(r.allowOutsideClick,k)||(k.preventDefault(),k.stopImmediatePropagation())},$=function(){if(l.active)return ls.activateTrap(i,a),l.delayInitialFocusTimer=r.delayInitialFocus?ss(function(){m(c())}):m(c()),o.addEventListener("focusin",b,!0),o.addEventListener("mousedown",A,{capture:!0,passive:!1}),o.addEventListener("touchstart",A,{capture:!0,passive:!1}),o.addEventListener("click",D,{capture:!0,passive:!1}),o.addEventListener("keydown",E,{capture:!0,passive:!1}),a},R=function(){if(l.active)return o.removeEventListener("focusin",b,!0),o.removeEventListener("mousedown",A,!0),o.removeEventListener("touchstart",A,!0),o.removeEventListener("click",D,!0),o.removeEventListener("keydown",E,!0),a},j=function(k){var y=k.some(function(L){var V=Array.from(L.removedNodes);return V.some(function(q){return q===l.mostRecentlyFocusedNode})});y&&m(c())},F=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(j):void 0,N=function(){F&&(F.disconnect(),l.active&&!l.paused&&l.containers.map(function(k){F.observe(k,{subtree:!0,childList:!0})}))};return a={get active(){return l.active},get paused(){return l.paused},activate:function(k){if(l.active)return this;var y=s(k,"onActivate"),L=s(k,"onPostActivate"),V=s(k,"checkCanFocusTrap");V||d(),l.active=!0,l.paused=!1,l.nodeFocusedBeforeActivation=o.activeElement,y==null||y();var q=function(){V&&d(),$(),N(),L==null||L()};return V?(V(l.containers.concat()).then(q,q),this):(q(),this)},deactivate:function(k){if(!l.active)return this;var y=rs({onDeactivate:r.onDeactivate,onPostDeactivate:r.onPostDeactivate,checkCanReturnFocus:r.checkCanReturnFocus},k);clearTimeout(l.delayInitialFocusTimer),l.delayInitialFocusTimer=void 0,R(),l.active=!1,l.paused=!1,N(),ls.deactivateTrap(i,a);var L=s(y,"onDeactivate"),V=s(y,"onPostDeactivate"),q=s(y,"checkCanReturnFocus"),x=s(y,"returnFocus","returnFocusOnDeactivate");L==null||L();var W=function(){ss(function(){x&&m(p(l.nodeFocusedBeforeActivation)),V==null||V()})};return x&&q?(q(p(l.nodeFocusedBeforeActivation)).then(W,W),this):(W(),this)},pause:function(k){if(l.paused||!l.active)return this;var y=s(k,"onPause"),L=s(k,"onPostPause");return l.paused=!0,y==null||y(),R(),N(),L==null||L(),this},unpause:function(k){if(!l.paused||!l.active)return this;var y=s(k,"onUnpause"),L=s(k,"onPostUnpause");return l.paused=!1,y==null||y(),d(),$(),N(),L==null||L(),this},updateContainerElements:function(k){var y=[].concat(k).filter(Boolean);return l.containers=y.map(function(L){return typeof L=="string"?o.querySelector(L):L}),l.active&&d(),N(),this}},a.updateContainerElements(e),a};function Sh(t={}){let e;const{immediate:n,...o}=t,i=Xe(!1),r=Xe(!1),l=c=>e==null?void 0:e.activate(c),a=c=>{e==null||e.deactivate(c)},s=()=>{e&&(e.pause(),r.set(!0))},u=()=>{e&&(e.unpause(),r.set(!1))};return{useFocusTrap:c=>(e=Ah(c,{...o,onActivate(){var d;i.set(!0),(d=t.onActivate)==null||d.call(t)},onDeactivate(){var d;i.set(!1),(d=t.onDeactivate)==null||d.call(t)}}),n&&l(),{destroy(){a(),e=void 0}}),hasFocus:Dl(i),isPaused:Dl(r),activate:l,deactivate:a,pause:s,unpause:u}}const Qo=[];function Th(t,e){let n=nt;function o(){const r=Qo.indexOf(t);r>=0&&Qo.splice(r,1)}function i(r){n();const{open:l,onClose:a,shouldCloseOnInteractOutside:s,closeOnInteractOutside:u}=r;dl(100).then(()=>{l?Qo.push(t):o()});function f(){return jm(Qo)===t}function c(){f()&&a&&(a(),o())}function d(m){const p=m.target;Zi(p)&&p&&f()&&(m.preventDefault(),m.stopPropagation(),m.stopImmediatePropagation())}function h(m){s!=null&&s(m)&&f()&&(m.preventDefault(),m.stopPropagation(),m.stopImmediatePropagation(),c())}n=Mh(t,{onInteractOutsideStart:d,onInteractOutside:u?h:void 0,enabled:l}).destroy}return i(e),{update:i,destroy(){o(),n()}}}const hc=(t,e="body")=>{let n;if(!vt(e)&&typeof e!="string")return{destroy:nt};async function o(r){if(e=r,typeof e=="string"){if(n=document.querySelector(e),n===null&&(await ll(),n=document.querySelector(e)),n===null)throw new Error(`No element found matching css selector: "${e}"`)}else if(e instanceof HTMLElement)n=e;else throw new TypeError(`Unknown portal target type: ${e===null?"null":typeof e}. Allowed types: string (CSS selector) or HTMLElement.`);t.dataset.portal="",n.appendChild(t),t.hidden=!1}function i(){t.remove()}return o(e),{update:o,destroy:i}};function Mh(t,e){let n=nt,o=!1,i=!1,r=!1;function l(u){n();const{onInteractOutside:f,onInteractOutsideStart:c,enabled:d}=u;if(!d)return;function h(g){f&&us(g,t)&&(c==null||c(g));const A=g.target;Zi(A)&&_c(t,A)&&(i=!0),o=!0}function m(g){f==null||f(g)}const p=Oh(t);if(typeof PointerEvent<"u"){const g=A=>{a(A)&&m(A),s()};n=Ft(pt(p,"pointerdown",h,!0),pt(p,"pointerup",g,!0))}else{const g=b=>{r?r=!1:a(b)&&m(b),s()},A=b=>{r=!0,a(b)&&m(b),s()};n=Ft(pt(p,"mousedown",h,!0),pt(p,"mouseup",g,!0),pt(p,"touchstart",h,!0),pt(p,"touchend",A,!0))}}function a(u){return!!(o&&!i&&us(u,t))}function s(){o=!1,i=!1}return l(e),{update:l,destroy:n}}function us(t,e){if("button"in t&&t.button>0)return!1;const n=t.target;if(!Zi(n))return!1;const o=n.ownerDocument;return!o||!o.documentElement.contains(n)?!1:e&&!_c(e,n)}function _c(t,e){return t===e||t.contains(e)}function Oh(t){return(t==null?void 0:t.ownerDocument)??document}kn(!1),kn(!1),kn(void 0);function Ih(){return{elements:{root:mt("label",{action:e=>({destroy:_t(e,"mousedown",o=>{!o.defaultPrevented&&o.detail>1&&o.preventDefault()})})})}}}const{name:_n}=xi("dialog"),Nh={preventScroll:!0,closeOnEscape:!0,closeOnOutsideClick:!0,role:"dialog",defaultOpen:!1,portal:void 0,forceVisible:!1,openFocus:void 0,closeFocus:void 0,onOutsideClick:void 0},Ph=["content","title","description"];function gc(t){const e={...Nh,...t},n=Tn(Qi(e,"ids")),{preventScroll:o,closeOnEscape:i,closeOnOutsideClick:r,role:l,portal:a,forceVisible:s,openFocus:u,closeFocus:f,onOutsideClick:c}=n,d=xt.writable(null),h=Tn({...ml(Ph),...e.ids}),m=e.open??Xe(e.defaultOpen),p=zi(m,e==null?void 0:e.onOpenChange),g=en([p,s],([T,k])=>T||k);let A=nt;function b(T){const k=T.currentTarget,y=T.currentTarget;!vt(k)||!vt(y)||(p.set(!0),d.set(y))}function w(){p.set(!1),Zl({prop:f.get(),defaultEl:d.get()})}const E=mt(_n("trigger"),{stores:[p],returned:([T])=>({"aria-haspopup":"dialog","aria-expanded":T,type:"button"}),action:T=>({destroy:Ft(_t(T,"click",y=>{b(y)}),_t(T,"keydown",y=>{y.key!==ft.ENTER&&y.key!==ft.SPACE||(y.preventDefault(),b(y))}))})}),D=mt(_n("overlay"),{stores:[g,p],returned:([T,k])=>({hidden:T?void 0:!0,tabindex:-1,style:an({display:T?void 0:"none"}),"aria-hidden":!0,"data-state":k?"open":"closed"}),action:T=>{let k=nt;if(i.get()){const y=Ql(T,{handler:()=>{w()}});y&&y.destroy&&(k=y.destroy)}return{destroy(){k()}}}}),$=mt(_n("content"),{stores:[g,h.content,h.description,h.title,p],returned:([T,k,y,L,V])=>({id:k,role:l.get(),"aria-describedby":y,"aria-labelledby":L,"aria-modal":T?"true":void 0,"data-state":V?"open":"closed",tabindex:-1,hidden:T?void 0:!0,style:an({display:T?void 0:"none"})}),action:T=>{let k=nt,y=nt;const L=Ft(Ot([p],([V])=>{if(!V)return;const q=Sh({immediate:!1,escapeDeactivates:!0,clickOutsideDeactivates:!0,returnFocusOnDeactivate:!1,fallbackFocus:T});k=q.activate,y=q.deactivate;const x=q.useFocusTrap(T);return x&&x.destroy?x.destroy:q.deactivate}),Ot([r,p],([V,q])=>Th(T,{open:q,closeOnInteractOutside:V,onClose(){w()},shouldCloseOnInteractOutside(x){var W;return(W=c.get())==null||W(x),!x.defaultPrevented}}).destroy),Ot([i],([V])=>{if(!V)return nt;const q=Ql(T,{handler:()=>{w()}});return q&&q.destroy?q.destroy:nt}),Ot([g],([V])=>{ll().then(()=>{V?k():y()})}));return{destroy:()=>{A(),L()}}}}),R=mt(_n("portalled"),{stores:a,returned:T=>({"data-portal":Xf(T)}),action:T=>{const k=Ot([a],([y])=>{if(y===null)return nt;const L=Qf(T,y);if(L===null)return nt;const V=hc(T,L);return V&&V.destroy?V.destroy:nt});return{destroy(){k()}}}}),j=mt(_n("title"),{stores:[h.title],returned:([T])=>({id:T})}),F=mt(_n("description"),{stores:[h.description],returned:([T])=>({id:T})}),N=mt(_n("close"),{returned:()=>({type:"button"}),action:T=>({destroy:Ft(_t(T,"click",()=>{w()}),_t(T,"keydown",y=>{y.key!==ft.SPACE&&y.key!==ft.ENTER||(y.preventDefault(),w())}))})});return Ot([p,o],([T,k])=>{if(qo){if(k&&T&&(A=ap()),T){const y=document.getElementById(h.content.get());Zl({prop:u.get(),defaultEl:y})}return()=>{s.get()||A()}}}),{ids:h,elements:{content:$,trigger:E,title:j,description:F,overlay:D,close:N,portalled:R},states:{open:p},options:n}}const Eh={defaultValue:0,max:100},{name:Rh}=xi("progress"),Lh=t=>{const e={...Eh,...t},n=Tn(Qi(e,"value")),{max:o}=n,i=e.value??Xe(e.defaultValue),r=zi(i,e==null?void 0:e.onValueChange);return{elements:{root:mt(Rh(),{stores:[r,o],returned:([a,s])=>({value:a,max:s,role:"meter","aria-valuemin":0,"aria-valuemax":s,"aria-valuenow":a,"data-value":a,"data-state":a===null?"indeterminate":a===s?"complete":"loading","data-max":s})})},states:{value:r},options:n}},$h={orientation:"horizontal",decorative:!1},Dh=t=>{const e={...$h,...t},n=Tn(e),{orientation:o,decorative:i}=n;return{elements:{root:mt("separator",{stores:[o,i],returned:([l,a])=>({role:a?"none":"separator","aria-orientation":l==="vertical"?l:void 0,"aria-hidden":a,"data-orientation":l})})},options:n}},qh={defaultValue:[],min:0,max:100,step:1,orientation:"horizontal",dir:"ltr",disabled:!1},{name:zo}=xi("slider"),Fh=t=>{const e={...qh,...t},n=Tn(Qi(e,"value","onValueChange","defaultValue")),{min:o,max:i,step:r,orientation:l,dir:a,disabled:s}=n,u=e.value??Xe(e.defaultValue),f=zi(u,e==null?void 0:e.onValueChange),c=xt(Xe(!1)),d=xt(Xe(0)),h=xt(Xe(null)),m=ml(["root"]),p=(R,j)=>{f.update(F=>{if(!F)return[R];if(F[j]===R)return F;const N=[...F],T=N[j]>R?-1:1;function k(){N[j]=N[j+T],N[j+T]=R;const q=g();q&&(q[j+T].focus(),h.set({thumb:q[j+T],index:j+T}))}if(T===-1&&R<N[j-1])return k(),N;if(T===1&&R>N[j+1])return k(),N;const y=o.get(),L=i.get(),V=r.get();return N[j]=pr(R,y,L,V),N})},g=()=>{const R=dr(m.root);return R?Array.from(R.querySelectorAll('[data-melt-part="thumb"]')).filter(j=>vt(j)):null},A=en([o,i],([R,j])=>F=>(F-R)/(j-R)*100),b=xt.derived([l,a],([R,j])=>R==="horizontal"?j==="rtl"?"rl":"lr":j==="rtl"?"tb":"bt"),w=mt(zo(),{stores:[s,l,a],returned:([R,j,F])=>({dir:F,disabled:cr(R),"data-disabled":cr(R),"data-orientation":j,style:R?void 0:`touch-action: ${j==="horizontal"?"pan-y":"pan-x"}`,"data-melt-id":m.root})}),E=mt(zo("range"),{stores:[f,b,A],returned:([R,j,F])=>{const N=R.length>1?F(Math.min(...R)??0):0,T=100-F(Math.max(...R)??0),k={position:"absolute"};switch(j){case"lr":{k.left=`${N}%`,k.right=`${T}%`;break}case"rl":{k.right=`${N}%`,k.left=`${T}%`;break}case"bt":{k.bottom=`${N}%`,k.top=`${T}%`;break}case"tb":{k.top=`${N}%`,k.bottom=`${T}%`;break}}return{style:an(k)}}}),D=Xl(zo("thumb"),{stores:[f,A,o,i,s,l,b],returned:([R,j,F,N,T,k,y])=>Array.from({length:R.length||1},(V,q)=>{d.get()<R.length&&d.update(z=>z+1);const W=R[q],Y=`${j(W)}%`,te={position:"absolute"};switch(y){case"lr":{te.left=Y,te.translate="-50% 0";break}case"rl":{te.right=Y,te.translate="50% 0";break}case"bt":{te.bottom=Y,te.translate="0 50%";break}case"tb":{te.top=Y,te.translate="0 -50%";break}}return{role:"slider","aria-valuemin":F,"aria-valuemax":N,"aria-valuenow":W,"aria-disabled":cr(T),"aria-orientation":k,"data-melt-part":"thumb","data-value":W,style:an(te),tabindex:T?-1:0}}),action:R=>({destroy:_t(R,"keydown",F=>{if(s.get())return;const N=F.currentTarget;if(!vt(N))return;const T=g();if(!(T!=null&&T.length))return;const k=T.indexOf(N);if(d.set(k),![ft.ARROW_LEFT,ft.ARROW_RIGHT,ft.ARROW_UP,ft.ARROW_DOWN,ft.HOME,ft.END].includes(F.key))return;F.preventDefault();const y=o.get(),L=i.get(),V=r.get(),q=f.get(),x=l.get(),W=b.get(),Y=q[k];switch(F.key){case ft.HOME:{p(y,k);break}case ft.END:{p(L,k);break}case ft.ARROW_LEFT:{if(x!=="horizontal")break;F.metaKey?p(W==="rl"?L:y,k):W==="rl"&&Y<L?p(Y+V,k):W==="lr"&&Y>y&&p(Y-V,k);break}case ft.ARROW_RIGHT:{if(x!=="horizontal")break;F.metaKey?p(W==="rl"?y:L,k):W==="rl"&&Y>y?p(Y-V,k):W==="lr"&&Y<L&&p(Y+V,k);break}case ft.ARROW_UP:{F.metaKey?p(W==="tb"?y:L,k):W==="tb"&&Y>y?p(Y-V,k):W!=="tb"&&Y<L&&p(Y+V,k);break}case ft.ARROW_DOWN:{F.metaKey?p(W==="tb"?L:y,k):W==="tb"&&Y<L?p(Y+V,k):W!=="tb"&&Y>y&&p(Y-V,k);break}}})})}),$=Xl(zo("tick"),{stores:[f,o,i,r,b],returned:([R,j,F,N,T])=>{const k=F-j;let y=Math.ceil(k/N);return k%N==0&&y++,Array.from({length:y},(L,V)=>{const q=`${V*(N/(F-j))*100}%`,x=V===0,W=V===y-1,Y=x?0:W?-100:-50,te={position:"absolute"};switch(T){case"lr":{te.left=q,te.translate=`${Y}% 0`;break}case"rl":{te.right=q,te.translate=`${-Y}% 0`;break}case"bt":{te.bottom=q,te.translate=`0 ${-Y}%`;break}case"tb":{te.top=q,te.translate=`0 ${Y}%`;break}}const z=j+V*N;return{"data-bounded":(R.length===1?z<=R[0]:R[0]<=z&&z<=R[R.length-1])?!0:void 0,"data-value":z,style:an(te)}})}});return Ot([w,o,i,s,l,b,r],([R,j,F,N,T,k,y])=>{if(!qo||N)return;const L=(te,z,ne,re)=>{const _=(te-ne)/(re-ne)*(F-j)+j;if(_<j)p(j,z);else if(_>F)p(F,z);else{const J=y,Z=j,ce=Math.floor((_-Z)/J),ye=Z+ce*J+J/2,Ce=Z+(ce+1)*J+J/2,qe=_>=ye&&_<Ce?(ce+1)*J+Z:ce*J+Z;qe<=F&&p(qe,z)}},V=te=>{const z=g();if(!z)return;z.forEach(_=>_.blur());const ne=z.map(_=>{if(T==="horizontal"){const{left:J,right:Z}=_.getBoundingClientRect();return Math.abs(te.clientX-(J+Z)/2)}else{const{top:J,bottom:Z}=_.getBoundingClientRect();return Math.abs(te.clientY-(J+Z)/2)}}),re=z[ne.indexOf(Math.min(...ne))],le=z.indexOf(re);return{thumb:re,index:le}},q=te=>{if(!c.get())return;te.preventDefault(),te.stopPropagation();const z=dr(R["data-melt-id"]),ne=h.get();if(!z||!ne)return;ne.thumb.focus();const{left:re,right:le,top:_,bottom:J}=z.getBoundingClientRect();switch(k){case"lr":{L(te.clientX,ne.index,re,le);break}case"rl":{L(te.clientX,ne.index,le,re);break}case"bt":{L(te.clientY,ne.index,J,_);break}case"tb":{L(te.clientY,ne.index,_,J);break}}},x=te=>{if(te.button!==0)return;const z=dr(R["data-melt-id"]),ne=V(te);if(!ne||!z)return;const re=te.target;!vt(re)||!z.contains(re)||(te.preventDefault(),h.set(ne),ne.thumb.focus(),c.set(!0),q(te))},W=()=>{c.set(!1)},Y=Ft(pt(document,"pointerdown",x),pt(document,"pointerup",W),pt(document,"pointerleave",W),pt(document,"pointermove",q));return()=>{Y()}}),Ot([r,o,i,f],function([j,F,N,T]){const k=L=>pr(L,F,N,j)===L,y=L=>pr(L,F,N,j);T.some(L=>!k(L))&&f.update(L=>L.map(y))}),{elements:{root:w,thumbs:D,range:E,ticks:$},states:{value:f},options:n}},Bh={positioning:{placement:"bottom"},arrowSize:8,defaultOpen:!1,closeOnPointerDown:!0,openDelay:1e3,closeDelay:0,forceVisible:!1,portal:void 0,closeOnEscape:!0,disableHoverableContent:!1,group:void 0},{name:_r}=xi("tooltip"),ei=new Map,jh=["trigger","content"];function Hh(t){const e={...Bh,...t},n=Tn(Qi(e,"open","ids")),{positioning:o,arrowSize:i,closeOnPointerDown:r,openDelay:l,closeDelay:a,forceVisible:s,portal:u,closeOnEscape:f,disableHoverableContent:c,group:d}=n,h=e.open??Xe(e.defaultOpen),m=zi(h,e==null?void 0:e.onOpenChange),p=Xe(null),g=Tn({...ml(jh),...e.ids});let A=!1;const b=k=>qo?document.getElementById(g[k].get()):null;let w=null,E=null;function D(k){E&&(window.clearTimeout(E),E=null),w||(w=window.setTimeout(()=>{m.set(!0),p.update(y=>y??k),w=null},l.get()))}function $(k){if(w&&(window.clearTimeout(w),w=null),k&&T){p.set("pointer");return}E||(E=window.setTimeout(()=>{m.set(!1),p.set(null),k&&(A=!1),E=null},a.get()))}const R=en([m,s],([k,y])=>k||y),j=mt(_r("trigger"),{stores:[g.content,g.trigger,m],returned:([k,y,L])=>({"aria-describedby":k,id:y,"data-state":L?"open":"closed"}),action:k=>{const y=V=>{f.get()&&V.key===ft.ESCAPE&&(w&&(window.clearTimeout(w),w=null),m.set(!1))};return{destroy:Ft(_t(k,"pointerdown",()=>{r.get()&&(m.set(!1),A=!0,w&&(window.clearTimeout(w),w=null))}),_t(k,"pointerenter",V=>{Jl(V)||D("pointer")}),_t(k,"pointerleave",V=>{Jl(V)||w&&(window.clearTimeout(w),w=null)}),_t(k,"focus",()=>{A||D("focus")}),_t(k,"blur",async()=>{await dl(0),$(!0)}),_t(k,"keydown",y),pt(document,"keydown",y))}}}),F=mt(_r("content"),{stores:[R,m,u,g.content],returned:([k,y,L,V])=>({role:"tooltip",hidden:k?void 0:!0,tabindex:-1,style:an({display:k?void 0:"none"}),id:V,"data-portal":Xf(L),"data-state":y?"open":"closed"}),action:k=>{let y=nt,L=nt;const V=Ot([R,o,u],([W,Y,te])=>{const z=b("trigger");if(!W||!z){L(),y();return}if(y=Qp(z,k,Y).destroy,te===null){L();return}const re=Qf(k,te);if(re){const le=hc(k,re);le&&le.destroy&&(L=le.destroy)}});function q(W){if(!m.get())return;const Y=W.target;if(!Zi(Y)&&!Hm(Y))return;const te=b("trigger");te&&Y.contains(te)&&$()}const x=Ft(_t(k,"pointerenter",()=>D("pointer")),_t(k,"pointerdown",()=>D("pointer")),pt(window,"scroll",q,{capture:!0}));return{destroy(){x(),L(),y(),V()}}}}),N=mt(_r("arrow"),{stores:i,returned:k=>({"data-arrow":!0,style:an({position:"absolute",width:`var(--arrow-size, ${k}px)`,height:`var(--arrow-size, ${k}px)`})})});let T=!1;return Ot(m,k=>{const y=d.get();if(y===void 0||y===!1)return;if(!k){ei.get(y)===m&&ei.delete(y);return}const L=ei.get(y);L==null||L.set(!1),ei.set(y,m)}),Ot([m,p],([k,y])=>{if(!(!k||!qo))return Ft(pt(document,"mousemove",L=>{const V=b("content"),q=b("trigger");if(!V||!q)return;const x=c.get()?[q]:[q,V],W=ip(x);T=rp({x:L.clientX,y:L.clientY},W),y==="pointer"&&(T||$())}))}),{ids:g,elements:{trigger:j,content:F,arrow:N},states:{open:m},options:n}}function Rn(t,e){const n={};return e.forEach(o=>{n[o]={[`data-${t}-${o}`]:""}}),o=>n[o]}function Ln(){const t=Nd();return e=>{const{originalEvent:n}=e.detail,{cancelable:o}=e,i=n.type;t(i,{originalEvent:n,currentTarget:n.currentTarget},{cancelable:o})||e.preventDefault()}}function fo(t){const e={};for(const n in t){const o=t[n];o!==void 0&&(e[n]=o)}return e}function In(t){return function(e,n){if(n===void 0)return;const o=t[e];o&&o.set(n)}}function bc(){return{NAME:"alert-dialog",PARTS:["action","cancel","content","description","overlay","portal","title","trigger"]}}function Gh(t){const{NAME:e,PARTS:n}=bc(),o=Rn(e,n),i=gc({...fo(t),role:"alertdialog",forceVisible:!0}),r={...i,getAttrs:o,updateOption:In(i.options)};return Ki(e,r),{...r,updateOption:In(r.options),getAttrs:o}}function $n(){const{NAME:t}=bc();return Xi(t)}const Vh=t=>({ids:t&1}),fs=t=>({ids:t[0]});function Wh(t){let e;const n=t[12].default,o=_e(n,t,t[11],fs);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,[r]){o&&o.p&&(!e||r&2049)&&be(o,n,i,i[11],e?ge(n,i[11],r,Vh):ve(i[11]),fs)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Yh(t,e,n){let o,{$$slots:i={},$$scope:r}=e,{preventScroll:l=void 0}=e,{closeOnEscape:a=void 0}=e,{closeOnOutsideClick:s=!1}=e,{portal:u=void 0}=e,{open:f=void 0}=e,{onOpenChange:c=void 0}=e,{openFocus:d=void 0}=e,{closeFocus:h=void 0}=e,{onOutsideClick:m=void 0}=e;const{states:{open:p},updateOption:g,ids:A}=Gh({closeOnEscape:a,preventScroll:l,closeOnOutsideClick:s,portal:u,forceVisible:!0,defaultOpen:f,openFocus:d,closeFocus:h,onOutsideClick:m,onOpenChange:({next:w})=>(f!==w&&(c==null||c(w),n(2,f=w)),w)}),b=en([A.content,A.description,A.title],([w,E,D])=>({content:w,description:E,title:D}));return ue(t,b,w=>n(0,o=w)),t.$$set=w=>{"preventScroll"in w&&n(3,l=w.preventScroll),"closeOnEscape"in w&&n(4,a=w.closeOnEscape),"closeOnOutsideClick"in w&&n(5,s=w.closeOnOutsideClick),"portal"in w&&n(6,u=w.portal),"open"in w&&n(2,f=w.open),"onOpenChange"in w&&n(7,c=w.onOpenChange),"openFocus"in w&&n(8,d=w.openFocus),"closeFocus"in w&&n(9,h=w.closeFocus),"onOutsideClick"in w&&n(10,m=w.onOutsideClick),"$$scope"in w&&n(11,r=w.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&f!==void 0&&p.set(f),t.$$.dirty&8&&g("preventScroll",l),t.$$.dirty&16&&g("closeOnEscape",a),t.$$.dirty&32&&g("closeOnOutsideClick",s),t.$$.dirty&64&&g("portal",u),t.$$.dirty&256&&g("openFocus",d),t.$$.dirty&512&&g("closeFocus",h),t.$$.dirty&1024&&g("onOutsideClick",m)},[o,b,f,l,a,s,u,c,d,h,m,r,i]}class Uh extends he{constructor(e){super(),pe(this,e,Yh,Wh,me,{preventScroll:3,closeOnEscape:4,closeOnOutsideClick:5,portal:6,open:2,onOpenChange:7,openFocus:8,closeFocus:9,onOutsideClick:10})}}const Kh=t=>({builder:t&8}),cs=t=>({builder:t[3]}),Xh=t=>({builder:t&8}),ds=t=>({builder:t[3]});function Jh(t){let e=t[1],n,o,i=t[1]&&gr(t);return{c(){i&&i.c(),n=De()},m(r,l){i&&i.m(r,l),O(r,n,l),o=!0},p(r,l){r[1]?e?me(e,r[1])?(i.d(1),i=gr(r),e=r[1],i.c(),i.m(n.parentNode,n)):i.p(r,l):(i=gr(r),e=r[1],i.c(),i.m(n.parentNode,n)):e&&(i.d(1),i=null,e=r[1])},i(r){o||(C(i,r),o=!0)},o(r){S(i,r),o=!1},d(r){r&&M(n),i&&i.d(r)}}}function xh(t){let e;const n=t[9].default,o=_e(n,t,t[8],ds);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&264)&&be(o,n,i,i[8],e?ge(n,i[8],r,Xh):ve(i[8]),ds)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function gr(t){let e,n,o,i;const r=t[9].default,l=_e(r,t,t[8],cs);let a=[t[3],t[5]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=I(t[1]),l&&l.c(),un(t[1])(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[10](e),n=!0,o||(i=We(t[3].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&264)&&be(l,r,u,u[8],n?ge(r,u[8],f,Kh):ve(u[8]),cs),un(u[1])(e,s=Te(a,[f&8&&u[3],f&32&&u[5]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&M(e),l&&l.d(u),t[10](null),o=!1,i()}}}function Zh(t){let e,n,o,i;const r=[xh,Jh],l=[];function a(s,u){return s[2]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Oe(),S(l[f],1,1,()=>{l[f]=null}),Ie(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function Qh(t,e,n){let o;const i=["level","asChild","id","el"];let r=se(e,i),l,{$$slots:a={},$$scope:s}=e,{level:u="h2"}=e,{asChild:f=!1}=e,{id:c=void 0}=e,{el:d=void 0}=e;const{elements:{title:h},ids:m,getAttrs:p}=$n();ue(t,h,b=>n(7,l=b));const g=p("title");function A(b){Le[b?"unshift":"push"](()=>{d=b,n(0,d)})}return t.$$set=b=>{e=Q(Q({},e),$e(b)),n(5,r=se(e,i)),"level"in b&&n(1,u=b.level),"asChild"in b&&n(2,f=b.asChild),"id"in b&&n(6,c=b.id),"el"in b&&n(0,d=b.el),"$$scope"in b&&n(8,s=b.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&c&&m.title.set(c),t.$$.dirty&128&&n(3,o=l),t.$$.dirty&8&&Object.assign(o,g)},[d,u,f,o,h,r,c,l,s,a,A]}let zh=class extends he{constructor(e){super(),pe(this,e,Qh,Zh,me,{level:1,asChild:2,id:6,el:0})}};const e_=t=>({builder:t&4}),ms=t=>({builder:t[2]}),t_=t=>({builder:t&4}),ps=t=>({builder:t[2]});function n_(t){let e,n,o,i;const r=t[8].default,l=_e(r,t,t[7],ms);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=I("button"),l&&l.c(),fe(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[9](e),n=!0,o||(i=[We(t[2].action(e)),ee(e,"m-click",t[4]),ee(e,"m-keydown",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&be(l,r,u,u[7],n?ge(r,u[7],f,e_):ve(u[7]),ms),fe(e,s=Te(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&M(e),l&&l.d(u),t[9](null),o=!1,je(i)}}}function o_(t){let e;const n=t[8].default,o=_e(n,t,t[7],ps);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&be(o,n,i,i[7],e?ge(n,i[7],r,t_):ve(i[7]),ps)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function i_(t){let e,n,o,i;const r=[o_,n_],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Oe(),S(l[f],1,1,()=>{l[f]=null}),Ie(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function r_(t,e,n){let o;const i=["asChild","el"];let r=se(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:d}=$n();ue(t,c,g=>n(6,l=g));const h=Ln(),m=d("action");function p(g){Le[g?"unshift":"push"](()=>{f=g,n(0,f)})}return t.$$set=g=>{e=Q(Q({},e),$e(g)),n(5,r=se(e,i)),"asChild"in g&&n(1,u=g.asChild),"el"in g&&n(0,f=g.el),"$$scope"in g&&n(7,s=g.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,m)},[f,u,o,c,h,r,l,s,a,p]}let l_=class extends he{constructor(e){super(),pe(this,e,r_,i_,me,{asChild:1,el:0})}};const s_=t=>({builder:t&4}),hs=t=>({builder:t[2]}),a_=t=>({builder:t&4}),_s=t=>({builder:t[2]});function u_(t){let e,n,o,i;const r=t[8].default,l=_e(r,t,t[7],hs);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=I("button"),l&&l.c(),fe(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[9](e),n=!0,o||(i=[We(t[2].action(e)),ee(e,"m-click",t[4]),ee(e,"m-keydown",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&be(l,r,u,u[7],n?ge(r,u[7],f,s_):ve(u[7]),hs),fe(e,s=Te(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&M(e),l&&l.d(u),t[9](null),o=!1,je(i)}}}function f_(t){let e;const n=t[8].default,o=_e(n,t,t[7],_s);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&be(o,n,i,i[7],e?ge(n,i[7],r,a_):ve(i[7]),_s)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function c_(t){let e,n,o,i;const r=[f_,u_],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Oe(),S(l[f],1,1,()=>{l[f]=null}),Ie(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function d_(t,e,n){let o;const i=["asChild","el"];let r=se(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:d}=$n();ue(t,c,g=>n(6,l=g));const h=Ln(),m=d("cancel");function p(g){Le[g?"unshift":"push"](()=>{f=g,n(0,f)})}return t.$$set=g=>{e=Q(Q({},e),$e(g)),n(5,r=se(e,i)),"asChild"in g&&n(1,u=g.asChild),"el"in g&&n(0,f=g.el),"$$scope"in g&&n(7,s=g.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,m)},[f,u,o,c,h,r,l,s,a,p]}let m_=class extends he{constructor(e){super(),pe(this,e,d_,c_,me,{asChild:1,el:0})}};const p_=t=>({builder:t&4}),gs=t=>({builder:t[2]}),h_=t=>({builder:t&4}),bs=t=>({builder:t[2]});function __(t){let e,n,o,i;const r=t[7].default,l=_e(r,t,t[6],gs);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=I("div"),l&&l.c(),fe(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[8](e),n=!0,o||(i=We(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&68)&&be(l,r,u,u[6],n?ge(r,u[6],f,p_):ve(u[6]),gs),fe(e,s=Te(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&M(e),l&&l.d(u),t[8](null),o=!1,i()}}}function g_(t){let e;const n=t[7].default,o=_e(n,t,t[6],bs);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&68)&&be(o,n,i,i[6],e?ge(n,i[6],r,h_):ve(i[6]),bs)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function b_(t){let e,n,o,i;const r=[g_,__],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Oe(),S(l[f],1,1,()=>{l[f]=null}),Ie(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function v_(t,e,n){let o;const i=["asChild","el"];let r=se(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{portalled:c},getAttrs:d}=$n();ue(t,c,p=>n(5,l=p));const h=d("portal");function m(p){Le[p?"unshift":"push"](()=>{f=p,n(0,f)})}return t.$$set=p=>{e=Q(Q({},e),$e(p)),n(4,r=se(e,i)),"asChild"in p&&n(1,u=p.asChild),"el"in p&&n(0,f=p.el),"$$scope"in p&&n(6,s=p.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,h)},[f,u,o,c,r,l,s,a,m]}let y_=class extends he{constructor(e){super(),pe(this,e,v_,b_,me,{asChild:1,el:0})}};const w_=t=>({builder:t[0]&256}),vs=t=>({builder:t[8]}),k_=t=>({builder:t[0]&256}),ys=t=>({builder:t[8]}),C_=t=>({builder:t[0]&256}),ws=t=>({builder:t[8]}),A_=t=>({builder:t[0]&256}),ks=t=>({builder:t[8]}),S_=t=>({builder:t[0]&256}),Cs=t=>({builder:t[8]}),T_=t=>({builder:t[0]&256}),As=t=>({builder:t[8]});function M_(t){let e,n,o,i;const r=t[16].default,l=_e(r,t,t[15],vs);let a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=I("div"),l&&l.c(),fe(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[56](e),n=!0,o||(i=[We(t[8].action(e)),ee(e,"pointerdown",t[45]),ee(e,"pointermove",t[46]),ee(e,"pointerup",t[47]),ee(e,"touchend",t[48]),ee(e,"touchstart",t[49]),ee(e,"touchcancel",t[50]),ee(e,"touchmove",t[51])],o=!0)},p(u,f){l&&l.p&&(!n||f[0]&33024)&&be(l,r,u,u[15],n?ge(r,u[15],f,w_):ve(u[15]),vs),fe(e,s=Te(a,[f[0]&256&&u[8],f[0]&4096&&u[12]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&M(e),l&&l.d(u),t[56](null),o=!1,je(i)}}}function O_(t){let e,n,o,i,r;const l=t[16].default,a=_e(l,t,t[15],ys);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=I("div"),a&&a.c(),fe(e,u)},m(f,c){O(f,e,c),a&&a.m(e,null),t[55](e),o=!0,i||(r=[We(t[8].action(e)),ee(e,"pointerdown",t[38]),ee(e,"pointermove",t[39]),ee(e,"pointerup",t[40]),ee(e,"touchend",t[41]),ee(e,"touchstart",t[42]),ee(e,"touchcancel",t[43]),ee(e,"touchmove",t[44])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&be(a,l,t,t[15],o?ge(l,t[15],c,k_):ve(t[15]),ys),fe(e,u=Te(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(C(a,f),n&&n.end(1),o=!0)},o(f){S(a,f),f&&(n=Wt(e,t[5],t[6])),o=!1},d(f){f&&M(e),a&&a.d(f),t[55](null),f&&n&&n.end(),i=!1,je(r)}}}function I_(t){let e,n,o,i,r;const l=t[16].default,a=_e(l,t,t[15],ws);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=I("div"),a&&a.c(),fe(e,u)},m(f,c){O(f,e,c),a&&a.m(e,null),t[54](e),o=!0,i||(r=[We(t[8].action(e)),ee(e,"pointerdown",t[31]),ee(e,"pointermove",t[32]),ee(e,"pointerup",t[33]),ee(e,"touchend",t[34]),ee(e,"touchstart",t[35]),ee(e,"touchcancel",t[36]),ee(e,"touchmove",t[37])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&be(a,l,t,t[15],o?ge(l,t[15],c,C_):ve(t[15]),ws),fe(e,u=Te(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(C(a,f),f&&(n||lt(()=>{n=Vt(e,t[3],t[4]),n.start()})),o=!0)},o(f){S(a,f),o=!1},d(f){f&&M(e),a&&a.d(f),t[54](null),i=!1,je(r)}}}function N_(t){let e,n,o,i,r,l;const a=t[16].default,s=_e(a,t,t[15],ks);let u=[t[8],t[12]],f={};for(let c=0;c<u.length;c+=1)f=Q(f,u[c]);return{c(){e=I("div"),s&&s.c(),fe(e,f)},m(c,d){O(c,e,d),s&&s.m(e,null),t[53](e),i=!0,r||(l=[We(t[8].action(e)),ee(e,"pointerdown",t[24]),ee(e,"pointermove",t[25]),ee(e,"pointerup",t[26]),ee(e,"touchend",t[27]),ee(e,"touchstart",t[28]),ee(e,"touchcancel",t[29]),ee(e,"touchmove",t[30])],r=!0)},p(c,d){t=c,s&&s.p&&(!i||d[0]&33024)&&be(s,a,t,t[15],i?ge(a,t[15],d,A_):ve(t[15]),ks),fe(e,f=Te(u,[d[0]&256&&t[8],d[0]&4096&&t[12]]))},i(c){i||(C(s,c),c&&lt(()=>{i&&(o&&o.end(1),n=Vt(e,t[3],t[4]),n.start())}),i=!0)},o(c){S(s,c),n&&n.invalidate(),c&&(o=Wt(e,t[5],t[6])),i=!1},d(c){c&&M(e),s&&s.d(c),t[53](null),c&&o&&o.end(),r=!1,je(l)}}}function P_(t){let e,n,o,i,r;const l=t[16].default,a=_e(l,t,t[15],Cs);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=I("div"),a&&a.c(),fe(e,u)},m(f,c){O(f,e,c),a&&a.m(e,null),t[52](e),o=!0,i||(r=[We(t[8].action(e)),ee(e,"pointerdown",t[17]),ee(e,"pointermove",t[18]),ee(e,"pointerup",t[19]),ee(e,"touchend",t[20]),ee(e,"touchstart",t[21]),ee(e,"touchcancel",t[22]),ee(e,"touchmove",t[23])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&be(a,l,t,t[15],o?ge(l,t[15],c,S_):ve(t[15]),Cs),fe(e,u=Te(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(C(a,f),f&&lt(()=>{o&&(n||(n=jt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(f){S(a,f),f&&(n||(n=jt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(f){f&&M(e),a&&a.d(f),t[52](null),f&&n&&n.end(),i=!1,je(r)}}}function E_(t){let e;const n=t[16].default,o=_e(n,t,t[15],As);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r[0]&33024)&&be(o,n,i,i[15],e?ge(n,i[15],r,T_):ve(i[15]),As)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function R_(t){let e,n,o,i;const r=[E_,P_,N_,I_,O_,M_],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=De()},m(s,u){~e&&l[e].m(s,u),O(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Oe(),S(l[f],1,1,()=>{l[f]=null}),Ie()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&M(o),~e&&l[e].d(s)}}}function L_(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","id","asChild","el"];let r=se(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:h=void 0}=e,{outTransition:m=void 0}=e,{outTransitionConfig:p=void 0}=e,{id:g=void 0}=e,{asChild:A=!1}=e,{el:b=void 0}=e;const{elements:{content:w},states:{open:E},ids:D,getAttrs:$}=$n();ue(t,w,H=>n(14,l=H)),ue(t,E,H=>n(9,a=H));const R=$("content");function j(H){ie.call(this,t,H)}function F(H){ie.call(this,t,H)}function N(H){ie.call(this,t,H)}function T(H){ie.call(this,t,H)}function k(H){ie.call(this,t,H)}function y(H){ie.call(this,t,H)}function L(H){ie.call(this,t,H)}function V(H){ie.call(this,t,H)}function q(H){ie.call(this,t,H)}function x(H){ie.call(this,t,H)}function W(H){ie.call(this,t,H)}function Y(H){ie.call(this,t,H)}function te(H){ie.call(this,t,H)}function z(H){ie.call(this,t,H)}function ne(H){ie.call(this,t,H)}function re(H){ie.call(this,t,H)}function le(H){ie.call(this,t,H)}function _(H){ie.call(this,t,H)}function J(H){ie.call(this,t,H)}function Z(H){ie.call(this,t,H)}function ce(H){ie.call(this,t,H)}function ye(H){ie.call(this,t,H)}function Ce(H){ie.call(this,t,H)}function qe(H){ie.call(this,t,H)}function Pe(H){ie.call(this,t,H)}function Ze(H){ie.call(this,t,H)}function de(H){ie.call(this,t,H)}function Ne(H){ie.call(this,t,H)}function He(H){ie.call(this,t,H)}function Je(H){ie.call(this,t,H)}function Ke(H){ie.call(this,t,H)}function Ge(H){ie.call(this,t,H)}function Ae(H){ie.call(this,t,H)}function we(H){ie.call(this,t,H)}function Ee(H){ie.call(this,t,H)}function Qe(H){Le[H?"unshift":"push"](()=>{b=H,n(0,b)})}function st(H){Le[H?"unshift":"push"](()=>{b=H,n(0,b)})}function rt(H){Le[H?"unshift":"push"](()=>{b=H,n(0,b)})}function ke(H){Le[H?"unshift":"push"](()=>{b=H,n(0,b)})}function xe(H){Le[H?"unshift":"push"](()=>{b=H,n(0,b)})}return t.$$set=H=>{e=Q(Q({},e),$e(H)),n(12,r=se(e,i)),"transition"in H&&n(1,f=H.transition),"transitionConfig"in H&&n(2,c=H.transitionConfig),"inTransition"in H&&n(3,d=H.inTransition),"inTransitionConfig"in H&&n(4,h=H.inTransitionConfig),"outTransition"in H&&n(5,m=H.outTransition),"outTransitionConfig"in H&&n(6,p=H.outTransitionConfig),"id"in H&&n(13,g=H.id),"asChild"in H&&n(7,A=H.asChild),"el"in H&&n(0,b=H.el),"$$scope"in H&&n(15,u=H.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&8192&&g&&D.content.set(g),t.$$.dirty[0]&16384&&n(8,o=l),t.$$.dirty[0]&256&&Object.assign(o,R)},[b,f,c,d,h,m,p,A,o,a,w,E,r,g,l,u,s,j,F,N,T,k,y,L,V,q,x,W,Y,te,z,ne,re,le,_,J,Z,ce,ye,Ce,qe,Pe,Ze,de,Ne,He,Je,Ke,Ge,Ae,we,Ee,Qe,st,rt,ke,xe]}let $_=class extends he{constructor(e){super(),pe(this,e,L_,R_,me,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,id:13,asChild:7,el:0},null,[-1,-1])}};const D_=t=>({builder:t&256}),Ss=t=>({builder:t[8]});function q_(t){let e,n,o,i=[t[8],t[12]],r={};for(let l=0;l<i.length;l+=1)r=Q(r,i[l]);return{c(){e=I("div"),fe(e,r)},m(l,a){O(l,e,a),t[20](e),n||(o=We(t[8].action(e)),n=!0)},p(l,a){fe(e,r=Te(i,[a&256&&l[8],a&4096&&l[12]]))},i:Me,o:Me,d(l){l&&M(e),t[20](null),n=!1,o()}}}function F_(t){let e,n,o,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=Q(a,l[s]);return{c(){e=I("div"),fe(e,a)},m(s,u){O(s,e,u),t[19](e),o=!0,i||(r=We(t[8].action(e)),i=!0)},p(s,u){t=s,fe(e,a=Te(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(n&&n.end(1),o=!0)},o(s){s&&(n=Wt(e,t[5],t[6])),o=!1},d(s){s&&M(e),t[19](null),s&&n&&n.end(),i=!1,r()}}}function B_(t){let e,n,o,i,r=[t[8],t[12]],l={};for(let a=0;a<r.length;a+=1)l=Q(l,r[a]);return{c(){e=I("div"),fe(e,l)},m(a,s){O(a,e,s),t[18](e),o||(i=We(t[8].action(e)),o=!0)},p(a,s){t=a,fe(e,l=Te(r,[s&256&&t[8],s&4096&&t[12]]))},i(a){a&&(n||lt(()=>{n=Vt(e,t[3],t[4]),n.start()}))},o:Me,d(a){a&&M(e),t[18](null),o=!1,i()}}}function j_(t){let e,n,o,i,r,l,a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=I("div"),fe(e,s)},m(u,f){O(u,e,f),t[17](e),i=!0,r||(l=We(t[8].action(e)),r=!0)},p(u,f){t=u,fe(e,s=Te(a,[f&256&&t[8],f&4096&&t[12]]))},i(u){i||(u&&lt(()=>{i&&(o&&o.end(1),n=Vt(e,t[3],t[4]),n.start())}),i=!0)},o(u){n&&n.invalidate(),u&&(o=Wt(e,t[5],t[6])),i=!1},d(u){u&&M(e),t[17](null),u&&o&&o.end(),r=!1,l()}}}function H_(t){let e,n,o,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=Q(a,l[s]);return{c(){e=I("div"),fe(e,a)},m(s,u){O(s,e,u),t[16](e),o=!0,i||(r=We(t[8].action(e)),i=!0)},p(s,u){t=s,fe(e,a=Te(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(s&&lt(()=>{o&&(n||(n=jt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(s){s&&(n||(n=jt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(s){s&&M(e),t[16](null),s&&n&&n.end(),i=!1,r()}}}function G_(t){let e;const n=t[15].default,o=_e(n,t,t[14],Ss);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&16640)&&be(o,n,i,i[14],e?ge(n,i[14],r,D_):ve(i[14]),Ss)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function V_(t){let e,n,o,i;const r=[G_,H_,j_,B_,F_,q_],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=De()},m(s,u){~e&&l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Oe(),S(l[f],1,1,()=>{l[f]=null}),Ie()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&M(o),~e&&l[e].d(s)}}}function W_(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","el"];let r=se(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:h=void 0}=e,{outTransition:m=void 0}=e,{outTransitionConfig:p=void 0}=e,{asChild:g=!1}=e,{el:A=void 0}=e;const{elements:{overlay:b},states:{open:w},getAttrs:E}=$n();ue(t,b,T=>n(13,l=T)),ue(t,w,T=>n(9,a=T));const D=E("overlay");function $(T){Le[T?"unshift":"push"](()=>{A=T,n(0,A)})}function R(T){Le[T?"unshift":"push"](()=>{A=T,n(0,A)})}function j(T){Le[T?"unshift":"push"](()=>{A=T,n(0,A)})}function F(T){Le[T?"unshift":"push"](()=>{A=T,n(0,A)})}function N(T){Le[T?"unshift":"push"](()=>{A=T,n(0,A)})}return t.$$set=T=>{e=Q(Q({},e),$e(T)),n(12,r=se(e,i)),"transition"in T&&n(1,f=T.transition),"transitionConfig"in T&&n(2,c=T.transitionConfig),"inTransition"in T&&n(3,d=T.inTransition),"inTransitionConfig"in T&&n(4,h=T.inTransitionConfig),"outTransition"in T&&n(5,m=T.outTransition),"outTransitionConfig"in T&&n(6,p=T.outTransitionConfig),"asChild"in T&&n(7,g=T.asChild),"el"in T&&n(0,A=T.el),"$$scope"in T&&n(14,u=T.$$scope)},t.$$.update=()=>{t.$$.dirty&8192&&n(8,o=l),t.$$.dirty&256&&Object.assign(o,D)},[A,f,c,d,h,m,p,g,o,a,b,w,r,l,u,s,$,R,j,F,N]}let Y_=class extends he{constructor(e){super(),pe(this,e,W_,V_,me,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,el:0})}};const U_=t=>({builder:t&4}),Ts=t=>({builder:t[2]}),K_=t=>({builder:t&4}),Ms=t=>({builder:t[2]});function X_(t){let e,n,o,i;const r=t[8].default,l=_e(r,t,t[7],Ts);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=I("div"),l&&l.c(),fe(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[9](e),n=!0,o||(i=We(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&be(l,r,u,u[7],n?ge(r,u[7],f,U_):ve(u[7]),Ts),fe(e,s=Te(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&M(e),l&&l.d(u),t[9](null),o=!1,i()}}}function J_(t){let e;const n=t[8].default,o=_e(n,t,t[7],Ms);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&be(o,n,i,i[7],e?ge(n,i[7],r,K_):ve(i[7]),Ms)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function x_(t){let e,n,o,i;const r=[J_,X_],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Oe(),S(l[f],1,1,()=>{l[f]=null}),Ie(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function Z_(t,e,n){let o;const i=["asChild","id","el"];let r=se(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{description:d},ids:h,getAttrs:m}=$n();ue(t,d,A=>n(6,l=A));const p=m("description");function g(A){Le[A?"unshift":"push"](()=>{c=A,n(0,c)})}return t.$$set=A=>{e=Q(Q({},e),$e(A)),n(4,r=se(e,i)),"asChild"in A&&n(1,u=A.asChild),"id"in A&&n(5,f=A.id),"el"in A&&n(0,c=A.el),"$$scope"in A&&n(7,s=A.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f&&h.description.set(f),t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,p)},[c,u,o,d,r,f,l,s,a,g]}let Q_=class extends he{constructor(e){super(),pe(this,e,Z_,x_,me,{asChild:1,id:5,el:0})}};function z_(t,e){const n=[];return e.builders.forEach(o=>{const i=o.action(t);i&&n.push(i)}),{destroy:()=>{n.forEach(o=>{o.destroy&&o.destroy()})}}}function Os(t){const e={};return t.forEach(n=>{Object.keys(n).forEach(o=>{o!=="action"&&(e[o]=n[o])})}),e}function e0(t){let e=t[1]?"a":"button",n,o,i=(t[1]?"a":"button")&&br(t);return{c(){i&&i.c(),n=De()},m(r,l){i&&i.m(r,l),O(r,n,l),o=!0},p(r,l){r[1],e?me(e,r[1]?"a":"button")?(i.d(1),i=br(r),e=r[1]?"a":"button",i.c(),i.m(n.parentNode,n)):i.p(r,l):(i=br(r),e=r[1]?"a":"button",i.c(),i.m(n.parentNode,n))},i(r){o||(C(i,r),o=!0)},o(r){S(i,r),o=!1},d(r){r&&M(n),i&&i.d(r)}}}function t0(t){let e=t[1]?"a":"button",n,o,i=(t[1]?"a":"button")&&vr(t);return{c(){i&&i.c(),n=De()},m(r,l){i&&i.m(r,l),O(r,n,l),o=!0},p(r,l){r[1],e?me(e,r[1]?"a":"button")?(i.d(1),i=vr(r),e=r[1]?"a":"button",i.c(),i.m(n.parentNode,n)):i.p(r,l):(i=vr(r),e=r[1]?"a":"button",i.c(),i.m(n.parentNode,n))},i(r){o||(C(i,r),o=!0)},o(r){S(i,r),o=!1},d(r){r&&M(n),i&&i.d(r)}}}function br(t){let e,n,o,i,r;const l=t[7].default,a=_e(l,t,t[6],null);let s=[{type:n=t[1]?void 0:t[2]},{href:t[1]},{tabindex:"0"},t[5],t[4]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=I(t[1]?"a":"button"),a&&a.c(),un(t[1]?"a":"button")(e,u)},m(f,c){O(f,e,c),a&&a.m(e,null),o=!0,i||(r=[ee(e,"click",t[14]),ee(e,"change",t[15]),ee(e,"keydown",t[16]),ee(e,"keyup",t[17]),ee(e,"mouseenter",t[18]),ee(e,"mouseleave",t[19])],i=!0)},p(f,c){a&&a.p&&(!o||c&64)&&be(a,l,f,f[6],o?ge(l,f[6],c,null):ve(f[6]),null),un(f[1]?"a":"button")(e,u=Te(s,[(!o||c&6&&n!==(n=f[1]?void 0:f[2]))&&{type:n},(!o||c&2)&&{href:f[1]},{tabindex:"0"},c&32&&f[5],f[4]]))},i(f){o||(C(a,f),o=!0)},o(f){S(a,f),o=!1},d(f){f&&M(e),a&&a.d(f),i=!1,je(r)}}}function vr(t){let e,n,o,i,r,l;const a=t[7].default,s=_e(a,t,t[6],null);let u=[{type:n=t[1]?void 0:t[2]},{href:t[1]},{tabindex:"0"},Os(t[3]),t[5],t[4]],f={};for(let c=0;c<u.length;c+=1)f=Q(f,u[c]);return{c(){e=I(t[1]?"a":"button"),s&&s.c(),un(t[1]?"a":"button")(e,f)},m(c,d){O(c,e,d),s&&s.m(e,null),t[20](e),i=!0,r||(l=[ee(e,"click",t[8]),ee(e,"change",t[9]),ee(e,"keydown",t[10]),ee(e,"keyup",t[11]),ee(e,"mouseenter",t[12]),ee(e,"mouseleave",t[13]),We(o=z_.call(null,e,{builders:t[3]}))],r=!0)},p(c,d){s&&s.p&&(!i||d&64)&&be(s,a,c,c[6],i?ge(a,c[6],d,null):ve(c[6]),null),un(c[1]?"a":"button")(e,f=Te(u,[(!i||d&6&&n!==(n=c[1]?void 0:c[2]))&&{type:n},(!i||d&2)&&{href:c[1]},{tabindex:"0"},d&8&&Os(c[3]),d&32&&c[5],c[4]])),o&&Gt(o.update)&&d&8&&o.update.call(null,{builders:c[3]})},i(c){i||(C(s,c),i=!0)},o(c){S(s,c),i=!1},d(c){c&&M(e),s&&s.d(c),t[20](null),r=!1,je(l)}}}function n0(t){let e,n,o,i;const r=[t0,e0],l=[];function a(s,u){return s[3]&&s[3].length?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Oe(),S(l[f],1,1,()=>{l[f]=null}),Ie(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function o0(t,e,n){const o=["href","type","builders","el"];let i=se(e,o),{$$slots:r={},$$scope:l}=e,{href:a=void 0}=e,{type:s=void 0}=e,{builders:u=[]}=e,{el:f=void 0}=e;const c={"data-button-root":""};function d(F){ie.call(this,t,F)}function h(F){ie.call(this,t,F)}function m(F){ie.call(this,t,F)}function p(F){ie.call(this,t,F)}function g(F){ie.call(this,t,F)}function A(F){ie.call(this,t,F)}function b(F){ie.call(this,t,F)}function w(F){ie.call(this,t,F)}function E(F){ie.call(this,t,F)}function D(F){ie.call(this,t,F)}function $(F){ie.call(this,t,F)}function R(F){ie.call(this,t,F)}function j(F){Le[F?"unshift":"push"](()=>{f=F,n(0,f)})}return t.$$set=F=>{e=Q(Q({},e),$e(F)),n(5,i=se(e,o)),"href"in F&&n(1,a=F.href),"type"in F&&n(2,s=F.type),"builders"in F&&n(3,u=F.builders),"el"in F&&n(0,f=F.el),"$$scope"in F&&n(6,l=F.$$scope)},[f,a,s,u,c,i,l,r,d,h,m,p,g,A,b,w,E,D,$,R,j]}let i0=class extends he{constructor(e){super(),pe(this,e,o0,n0,me,{href:1,type:2,builders:3,el:0})}};function r0(t){return(e={})=>l0(t,e)}function l0(t,e){const o={...{side:"bottom",align:"center",sideOffset:0,alignOffset:0,sameWidth:!1,avoidCollisions:!0,collisionPadding:8,fitViewport:!1,strategy:"absolute",overlap:!1},...e};t.update(i=>({...i,placement:s0(o.side,o.align),offset:{...i.offset,mainAxis:o.sideOffset,crossAxis:o.alignOffset},gutter:0,sameWidth:o.sameWidth,flip:o.avoidCollisions,overflowPadding:o.collisionPadding,boundary:o.collisionBoundary,fitViewport:o.fitViewport,strategy:o.strategy,overlap:o.overlap}))}function s0(t,e){return e==="center"?t:`${t}-${e}`}function a0(){return{NAME:"separator",PARTS:["root"]}}function u0(t){const{NAME:e,PARTS:n}=a0(),o=Rn(e,n),i={...Dh(fo(t)),getAttrs:o};return{...i,updateOption:In(i.options)}}const f0=t=>({builder:t&4}),Is=t=>({builder:t[2]});function c0(t){let e,n,o,i=[t[2],t[4]],r={};for(let l=0;l<i.length;l+=1)r=Q(r,i[l]);return{c(){e=I("div"),fe(e,r)},m(l,a){O(l,e,a),t[10](e),n||(o=We(t[2].action(e)),n=!0)},p(l,a){fe(e,r=Te(i,[a&4&&l[2],a&16&&l[4]]))},i:Me,o:Me,d(l){l&&M(e),t[10](null),n=!1,o()}}}function d0(t){let e;const n=t[9].default,o=_e(n,t,t[8],Is);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&260)&&be(o,n,i,i[8],e?ge(n,i[8],r,f0):ve(i[8]),Is)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function m0(t){let e,n,o,i;const r=[d0,c0],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Oe(),S(l[f],1,1,()=>{l[f]=null}),Ie(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function p0(t,e,n){let o;const i=["orientation","decorative","asChild","el"];let r=se(e,i),l,{$$slots:a={},$$scope:s}=e,{orientation:u="horizontal"}=e,{decorative:f=!0}=e,{asChild:c=!1}=e,{el:d=void 0}=e;const{elements:{root:h},updateOption:m,getAttrs:p}=u0({orientation:u,decorative:f});ue(t,h,b=>n(7,l=b));const g=p("root");function A(b){Le[b?"unshift":"push"](()=>{d=b,n(0,d)})}return t.$$set=b=>{e=Q(Q({},e),$e(b)),n(4,r=se(e,i)),"orientation"in b&&n(5,u=b.orientation),"decorative"in b&&n(6,f=b.decorative),"asChild"in b&&n(1,c=b.asChild),"el"in b&&n(0,d=b.el),"$$scope"in b&&n(8,s=b.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&m("orientation",u),t.$$.dirty&64&&m("decorative",f),t.$$.dirty&128&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,g)},[d,c,o,h,r,u,f,l,s,a,A]}let h0=class extends he{constructor(e){super(),pe(this,e,p0,m0,me,{orientation:5,decorative:6,asChild:1,el:0})}};function vc(){return{NAME:"dialog",PARTS:["close","content","description","overlay","portal","title","trigger"]}}function _0(t){const{NAME:e,PARTS:n}=vc(),o=Rn(e,n),i={...gc({...fo(t),role:"dialog",forceVisible:!0}),getAttrs:o};return Ki(e,i),{...i,updateOption:In(i.options)}}function co(){const{NAME:t}=vc();return Xi(t)}const g0=t=>({ids:t&1}),Ns=t=>({ids:t[0]});function b0(t){let e;const n=t[12].default,o=_e(n,t,t[11],Ns);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,[r]){o&&o.p&&(!e||r&2049)&&be(o,n,i,i[11],e?ge(n,i[11],r,g0):ve(i[11]),Ns)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function v0(t,e,n){let o,{$$slots:i={},$$scope:r}=e,{preventScroll:l=void 0}=e,{closeOnEscape:a=void 0}=e,{closeOnOutsideClick:s=void 0}=e,{portal:u=void 0}=e,{open:f=void 0}=e,{onOpenChange:c=void 0}=e,{openFocus:d=void 0}=e,{closeFocus:h=void 0}=e,{onOutsideClick:m=void 0}=e;const{states:{open:p},updateOption:g,ids:A}=_0({closeOnEscape:a,preventScroll:l,closeOnOutsideClick:s,portal:u,forceVisible:!0,defaultOpen:f,openFocus:d,closeFocus:h,onOutsideClick:m,onOpenChange:({next:w})=>(f!==w&&(c==null||c(w),n(2,f=w)),w)}),b=en([A.content,A.description,A.title],([w,E,D])=>({content:w,description:E,title:D}));return ue(t,b,w=>n(0,o=w)),t.$$set=w=>{"preventScroll"in w&&n(3,l=w.preventScroll),"closeOnEscape"in w&&n(4,a=w.closeOnEscape),"closeOnOutsideClick"in w&&n(5,s=w.closeOnOutsideClick),"portal"in w&&n(6,u=w.portal),"open"in w&&n(2,f=w.open),"onOpenChange"in w&&n(7,c=w.onOpenChange),"openFocus"in w&&n(8,d=w.openFocus),"closeFocus"in w&&n(9,h=w.closeFocus),"onOutsideClick"in w&&n(10,m=w.onOutsideClick),"$$scope"in w&&n(11,r=w.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&f!==void 0&&p.set(f),t.$$.dirty&8&&g("preventScroll",l),t.$$.dirty&16&&g("closeOnEscape",a),t.$$.dirty&32&&g("closeOnOutsideClick",s),t.$$.dirty&64&&g("portal",u),t.$$.dirty&256&&g("openFocus",d),t.$$.dirty&512&&g("closeFocus",h),t.$$.dirty&1024&&g("onOutsideClick",m)},[o,b,f,l,a,s,u,c,d,h,m,r,i]}class y0 extends he{constructor(e){super(),pe(this,e,v0,b0,me,{preventScroll:3,closeOnEscape:4,closeOnOutsideClick:5,portal:6,open:2,onOpenChange:7,openFocus:8,closeFocus:9,onOutsideClick:10})}}const w0=t=>({builder:t&8}),Ps=t=>({builder:t[3]}),k0=t=>({builder:t&8}),Es=t=>({builder:t[3]});function C0(t){let e=t[1],n,o,i=t[1]&&yr(t);return{c(){i&&i.c(),n=De()},m(r,l){i&&i.m(r,l),O(r,n,l),o=!0},p(r,l){r[1]?e?me(e,r[1])?(i.d(1),i=yr(r),e=r[1],i.c(),i.m(n.parentNode,n)):i.p(r,l):(i=yr(r),e=r[1],i.c(),i.m(n.parentNode,n)):e&&(i.d(1),i=null,e=r[1])},i(r){o||(C(i,r),o=!0)},o(r){S(i,r),o=!1},d(r){r&&M(n),i&&i.d(r)}}}function A0(t){let e;const n=t[9].default,o=_e(n,t,t[8],Es);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&264)&&be(o,n,i,i[8],e?ge(n,i[8],r,k0):ve(i[8]),Es)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function yr(t){let e,n,o,i;const r=t[9].default,l=_e(r,t,t[8],Ps);let a=[t[3],t[5]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=I(t[1]),l&&l.c(),un(t[1])(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[10](e),n=!0,o||(i=We(t[3].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&264)&&be(l,r,u,u[8],n?ge(r,u[8],f,w0):ve(u[8]),Ps),un(u[1])(e,s=Te(a,[f&8&&u[3],f&32&&u[5]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&M(e),l&&l.d(u),t[10](null),o=!1,i()}}}function S0(t){let e,n,o,i;const r=[A0,C0],l=[];function a(s,u){return s[2]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Oe(),S(l[f],1,1,()=>{l[f]=null}),Ie(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function T0(t,e,n){let o;const i=["level","asChild","id","el"];let r=se(e,i),l,{$$slots:a={},$$scope:s}=e,{level:u="h2"}=e,{asChild:f=!1}=e,{id:c=void 0}=e,{el:d=void 0}=e;const{elements:{title:h},ids:m,getAttrs:p}=co();ue(t,h,b=>n(7,l=b));const g=p("title");function A(b){Le[b?"unshift":"push"](()=>{d=b,n(0,d)})}return t.$$set=b=>{e=Q(Q({},e),$e(b)),n(5,r=se(e,i)),"level"in b&&n(1,u=b.level),"asChild"in b&&n(2,f=b.asChild),"id"in b&&n(6,c=b.id),"el"in b&&n(0,d=b.el),"$$scope"in b&&n(8,s=b.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&c&&m.title.set(c),t.$$.dirty&128&&n(3,o=l),t.$$.dirty&8&&Object.assign(o,g)},[d,u,f,o,h,r,c,l,s,a,A]}let M0=class extends he{constructor(e){super(),pe(this,e,T0,S0,me,{level:1,asChild:2,id:6,el:0})}};const O0=t=>({builder:t&4}),Rs=t=>({builder:t[2]}),I0=t=>({builder:t&4}),Ls=t=>({builder:t[2]});function N0(t){let e,n,o,i;const r=t[8].default,l=_e(r,t,t[7],Rs);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=I("button"),l&&l.c(),fe(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[9](e),n=!0,o||(i=[We(t[2].action(e)),ee(e,"m-click",t[4]),ee(e,"m-keydown",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&be(l,r,u,u[7],n?ge(r,u[7],f,O0):ve(u[7]),Rs),fe(e,s=Te(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&M(e),l&&l.d(u),t[9](null),o=!1,je(i)}}}function P0(t){let e;const n=t[8].default,o=_e(n,t,t[7],Ls);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&be(o,n,i,i[7],e?ge(n,i[7],r,I0):ve(i[7]),Ls)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function E0(t){let e,n,o,i;const r=[P0,N0],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Oe(),S(l[f],1,1,()=>{l[f]=null}),Ie(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function R0(t,e,n){let o;const i=["asChild","el"];let r=se(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:d}=co();ue(t,c,g=>n(6,l=g));const h=Ln(),m=d("close");function p(g){Le[g?"unshift":"push"](()=>{f=g,n(0,f)})}return t.$$set=g=>{e=Q(Q({},e),$e(g)),n(5,r=se(e,i)),"asChild"in g&&n(1,u=g.asChild),"el"in g&&n(0,f=g.el),"$$scope"in g&&n(7,s=g.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,m)},[f,u,o,c,h,r,l,s,a,p]}class L0 extends he{constructor(e){super(),pe(this,e,R0,E0,me,{asChild:1,el:0})}}const $0=t=>({builder:t&4}),$s=t=>({builder:t[2]}),D0=t=>({builder:t&4}),Ds=t=>({builder:t[2]});function q0(t){let e,n,o,i;const r=t[7].default,l=_e(r,t,t[6],$s);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=I("div"),l&&l.c(),fe(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[8](e),n=!0,o||(i=We(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&68)&&be(l,r,u,u[6],n?ge(r,u[6],f,$0):ve(u[6]),$s),fe(e,s=Te(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&M(e),l&&l.d(u),t[8](null),o=!1,i()}}}function F0(t){let e;const n=t[7].default,o=_e(n,t,t[6],Ds);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&68)&&be(o,n,i,i[6],e?ge(n,i[6],r,D0):ve(i[6]),Ds)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function B0(t){let e,n,o,i;const r=[F0,q0],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Oe(),S(l[f],1,1,()=>{l[f]=null}),Ie(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function j0(t,e,n){let o;const i=["asChild","el"];let r=se(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{portalled:c},getAttrs:d}=co();ue(t,c,p=>n(5,l=p));const h=d("portal");function m(p){Le[p?"unshift":"push"](()=>{f=p,n(0,f)})}return t.$$set=p=>{e=Q(Q({},e),$e(p)),n(4,r=se(e,i)),"asChild"in p&&n(1,u=p.asChild),"el"in p&&n(0,f=p.el),"$$scope"in p&&n(6,s=p.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,h)},[f,u,o,c,r,l,s,a,m]}let H0=class extends he{constructor(e){super(),pe(this,e,j0,B0,me,{asChild:1,el:0})}};const G0=t=>({builder:t[0]&256}),qs=t=>({builder:t[8]}),V0=t=>({builder:t[0]&256}),Fs=t=>({builder:t[8]}),W0=t=>({builder:t[0]&256}),Bs=t=>({builder:t[8]}),Y0=t=>({builder:t[0]&256}),js=t=>({builder:t[8]}),U0=t=>({builder:t[0]&256}),Hs=t=>({builder:t[8]}),K0=t=>({builder:t[0]&256}),Gs=t=>({builder:t[8]});function X0(t){let e,n,o,i;const r=t[16].default,l=_e(r,t,t[15],qs);let a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=I("div"),l&&l.c(),fe(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[56](e),n=!0,o||(i=[We(t[8].action(e)),ee(e,"pointerdown",t[45]),ee(e,"pointermove",t[46]),ee(e,"pointerup",t[47]),ee(e,"touchend",t[48]),ee(e,"touchstart",t[49]),ee(e,"touchcancel",t[50]),ee(e,"touchmove",t[51])],o=!0)},p(u,f){l&&l.p&&(!n||f[0]&33024)&&be(l,r,u,u[15],n?ge(r,u[15],f,G0):ve(u[15]),qs),fe(e,s=Te(a,[f[0]&256&&u[8],f[0]&4096&&u[12]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&M(e),l&&l.d(u),t[56](null),o=!1,je(i)}}}function J0(t){let e,n,o,i,r;const l=t[16].default,a=_e(l,t,t[15],Fs);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=I("div"),a&&a.c(),fe(e,u)},m(f,c){O(f,e,c),a&&a.m(e,null),t[55](e),o=!0,i||(r=[We(t[8].action(e)),ee(e,"pointerdown",t[38]),ee(e,"pointermove",t[39]),ee(e,"pointerup",t[40]),ee(e,"touchend",t[41]),ee(e,"touchstart",t[42]),ee(e,"touchcancel",t[43]),ee(e,"touchmove",t[44])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&be(a,l,t,t[15],o?ge(l,t[15],c,V0):ve(t[15]),Fs),fe(e,u=Te(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(C(a,f),n&&n.end(1),o=!0)},o(f){S(a,f),f&&(n=Wt(e,t[5],t[6])),o=!1},d(f){f&&M(e),a&&a.d(f),t[55](null),f&&n&&n.end(),i=!1,je(r)}}}function x0(t){let e,n,o,i,r;const l=t[16].default,a=_e(l,t,t[15],Bs);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=I("div"),a&&a.c(),fe(e,u)},m(f,c){O(f,e,c),a&&a.m(e,null),t[54](e),o=!0,i||(r=[We(t[8].action(e)),ee(e,"pointerdown",t[31]),ee(e,"pointermove",t[32]),ee(e,"pointerup",t[33]),ee(e,"touchend",t[34]),ee(e,"touchstart",t[35]),ee(e,"touchcancel",t[36]),ee(e,"touchmove",t[37])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&be(a,l,t,t[15],o?ge(l,t[15],c,W0):ve(t[15]),Bs),fe(e,u=Te(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(C(a,f),f&&(n||lt(()=>{n=Vt(e,t[3],t[4]),n.start()})),o=!0)},o(f){S(a,f),o=!1},d(f){f&&M(e),a&&a.d(f),t[54](null),i=!1,je(r)}}}function Z0(t){let e,n,o,i,r,l;const a=t[16].default,s=_e(a,t,t[15],js);let u=[t[8],t[12]],f={};for(let c=0;c<u.length;c+=1)f=Q(f,u[c]);return{c(){e=I("div"),s&&s.c(),fe(e,f)},m(c,d){O(c,e,d),s&&s.m(e,null),t[53](e),i=!0,r||(l=[We(t[8].action(e)),ee(e,"pointerdown",t[24]),ee(e,"pointermove",t[25]),ee(e,"pointerup",t[26]),ee(e,"touchend",t[27]),ee(e,"touchstart",t[28]),ee(e,"touchcancel",t[29]),ee(e,"touchmove",t[30])],r=!0)},p(c,d){t=c,s&&s.p&&(!i||d[0]&33024)&&be(s,a,t,t[15],i?ge(a,t[15],d,Y0):ve(t[15]),js),fe(e,f=Te(u,[d[0]&256&&t[8],d[0]&4096&&t[12]]))},i(c){i||(C(s,c),c&&lt(()=>{i&&(o&&o.end(1),n=Vt(e,t[3],t[4]),n.start())}),i=!0)},o(c){S(s,c),n&&n.invalidate(),c&&(o=Wt(e,t[5],t[6])),i=!1},d(c){c&&M(e),s&&s.d(c),t[53](null),c&&o&&o.end(),r=!1,je(l)}}}function Q0(t){let e,n,o,i,r;const l=t[16].default,a=_e(l,t,t[15],Hs);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=I("div"),a&&a.c(),fe(e,u)},m(f,c){O(f,e,c),a&&a.m(e,null),t[52](e),o=!0,i||(r=[We(t[8].action(e)),ee(e,"pointerdown",t[17]),ee(e,"pointermove",t[18]),ee(e,"pointerup",t[19]),ee(e,"touchend",t[20]),ee(e,"touchstart",t[21]),ee(e,"touchcancel",t[22]),ee(e,"touchmove",t[23])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&be(a,l,t,t[15],o?ge(l,t[15],c,U0):ve(t[15]),Hs),fe(e,u=Te(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(C(a,f),f&&lt(()=>{o&&(n||(n=jt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(f){S(a,f),f&&(n||(n=jt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(f){f&&M(e),a&&a.d(f),t[52](null),f&&n&&n.end(),i=!1,je(r)}}}function z0(t){let e;const n=t[16].default,o=_e(n,t,t[15],Gs);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r[0]&33024)&&be(o,n,i,i[15],e?ge(n,i[15],r,K0):ve(i[15]),Gs)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function eg(t){let e,n,o,i;const r=[z0,Q0,Z0,x0,J0,X0],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=De()},m(s,u){~e&&l[e].m(s,u),O(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Oe(),S(l[f],1,1,()=>{l[f]=null}),Ie()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&M(o),~e&&l[e].d(s)}}}function tg(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","id","el"];let r=se(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:h=void 0}=e,{outTransition:m=void 0}=e,{outTransitionConfig:p=void 0}=e,{asChild:g=!1}=e,{id:A=void 0}=e,{el:b=void 0}=e;const{elements:{content:w},states:{open:E},ids:D,getAttrs:$}=co();ue(t,w,H=>n(14,l=H)),ue(t,E,H=>n(9,a=H));const R=$("content");function j(H){ie.call(this,t,H)}function F(H){ie.call(this,t,H)}function N(H){ie.call(this,t,H)}function T(H){ie.call(this,t,H)}function k(H){ie.call(this,t,H)}function y(H){ie.call(this,t,H)}function L(H){ie.call(this,t,H)}function V(H){ie.call(this,t,H)}function q(H){ie.call(this,t,H)}function x(H){ie.call(this,t,H)}function W(H){ie.call(this,t,H)}function Y(H){ie.call(this,t,H)}function te(H){ie.call(this,t,H)}function z(H){ie.call(this,t,H)}function ne(H){ie.call(this,t,H)}function re(H){ie.call(this,t,H)}function le(H){ie.call(this,t,H)}function _(H){ie.call(this,t,H)}function J(H){ie.call(this,t,H)}function Z(H){ie.call(this,t,H)}function ce(H){ie.call(this,t,H)}function ye(H){ie.call(this,t,H)}function Ce(H){ie.call(this,t,H)}function qe(H){ie.call(this,t,H)}function Pe(H){ie.call(this,t,H)}function Ze(H){ie.call(this,t,H)}function de(H){ie.call(this,t,H)}function Ne(H){ie.call(this,t,H)}function He(H){ie.call(this,t,H)}function Je(H){ie.call(this,t,H)}function Ke(H){ie.call(this,t,H)}function Ge(H){ie.call(this,t,H)}function Ae(H){ie.call(this,t,H)}function we(H){ie.call(this,t,H)}function Ee(H){ie.call(this,t,H)}function Qe(H){Le[H?"unshift":"push"](()=>{b=H,n(0,b)})}function st(H){Le[H?"unshift":"push"](()=>{b=H,n(0,b)})}function rt(H){Le[H?"unshift":"push"](()=>{b=H,n(0,b)})}function ke(H){Le[H?"unshift":"push"](()=>{b=H,n(0,b)})}function xe(H){Le[H?"unshift":"push"](()=>{b=H,n(0,b)})}return t.$$set=H=>{e=Q(Q({},e),$e(H)),n(12,r=se(e,i)),"transition"in H&&n(1,f=H.transition),"transitionConfig"in H&&n(2,c=H.transitionConfig),"inTransition"in H&&n(3,d=H.inTransition),"inTransitionConfig"in H&&n(4,h=H.inTransitionConfig),"outTransition"in H&&n(5,m=H.outTransition),"outTransitionConfig"in H&&n(6,p=H.outTransitionConfig),"asChild"in H&&n(7,g=H.asChild),"id"in H&&n(13,A=H.id),"el"in H&&n(0,b=H.el),"$$scope"in H&&n(15,u=H.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&8192&&A&&D.content.set(A),t.$$.dirty[0]&16384&&n(8,o=l),t.$$.dirty[0]&256&&Object.assign(o,R)},[b,f,c,d,h,m,p,g,o,a,w,E,r,A,l,u,s,j,F,N,T,k,y,L,V,q,x,W,Y,te,z,ne,re,le,_,J,Z,ce,ye,Ce,qe,Pe,Ze,de,Ne,He,Je,Ke,Ge,Ae,we,Ee,Qe,st,rt,ke,xe]}let ng=class extends he{constructor(e){super(),pe(this,e,tg,eg,me,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,id:13,el:0},null,[-1,-1])}};const og=t=>({builder:t&256}),Vs=t=>({builder:t[8]});function ig(t){let e,n,o,i=[t[8],t[12]],r={};for(let l=0;l<i.length;l+=1)r=Q(r,i[l]);return{c(){e=I("div"),fe(e,r)},m(l,a){O(l,e,a),t[25](e),n||(o=[We(t[8].action(e)),ee(e,"mouseup",t[20])],n=!0)},p(l,a){fe(e,r=Te(i,[a&256&&l[8],a&4096&&l[12]]))},i:Me,o:Me,d(l){l&&M(e),t[25](null),n=!1,je(o)}}}function rg(t){let e,n,o,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=Q(a,l[s]);return{c(){e=I("div"),fe(e,a)},m(s,u){O(s,e,u),t[24](e),o=!0,i||(r=[We(t[8].action(e)),ee(e,"mouseup",t[19])],i=!0)},p(s,u){t=s,fe(e,a=Te(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(n&&n.end(1),o=!0)},o(s){s&&(n=Wt(e,t[5],t[6])),o=!1},d(s){s&&M(e),t[24](null),s&&n&&n.end(),i=!1,je(r)}}}function lg(t){let e,n,o,i,r=[t[8],t[12]],l={};for(let a=0;a<r.length;a+=1)l=Q(l,r[a]);return{c(){e=I("div"),fe(e,l)},m(a,s){O(a,e,s),t[23](e),o||(i=[We(t[8].action(e)),ee(e,"mouseup",t[18])],o=!0)},p(a,s){t=a,fe(e,l=Te(r,[s&256&&t[8],s&4096&&t[12]]))},i(a){a&&(n||lt(()=>{n=Vt(e,t[3],t[4]),n.start()}))},o:Me,d(a){a&&M(e),t[23](null),o=!1,je(i)}}}function sg(t){let e,n,o,i,r,l,a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=I("div"),fe(e,s)},m(u,f){O(u,e,f),t[22](e),i=!0,r||(l=[We(t[8].action(e)),ee(e,"mouseup",t[17])],r=!0)},p(u,f){t=u,fe(e,s=Te(a,[f&256&&t[8],f&4096&&t[12]]))},i(u){i||(u&&lt(()=>{i&&(o&&o.end(1),n=Vt(e,t[3],t[4]),n.start())}),i=!0)},o(u){n&&n.invalidate(),u&&(o=Wt(e,t[5],t[6])),i=!1},d(u){u&&M(e),t[22](null),u&&o&&o.end(),r=!1,je(l)}}}function ag(t){let e,n,o,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=Q(a,l[s]);return{c(){e=I("div"),fe(e,a)},m(s,u){O(s,e,u),t[21](e),o=!0,i||(r=[ee(e,"mouseup",t[16]),We(t[8].action(e))],i=!0)},p(s,u){t=s,fe(e,a=Te(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(s&&lt(()=>{o&&(n||(n=jt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(s){s&&(n||(n=jt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(s){s&&M(e),t[21](null),s&&n&&n.end(),i=!1,je(r)}}}function ug(t){let e;const n=t[15].default,o=_e(n,t,t[14],Vs);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&16640)&&be(o,n,i,i[14],e?ge(n,i[14],r,og):ve(i[14]),Vs)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function fg(t){let e,n,o,i;const r=[ug,ag,sg,lg,rg,ig],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=De()},m(s,u){~e&&l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Oe(),S(l[f],1,1,()=>{l[f]=null}),Ie()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&M(o),~e&&l[e].d(s)}}}function cg(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","el"];let r=se(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:h=void 0}=e,{outTransition:m=void 0}=e,{outTransitionConfig:p=void 0}=e,{asChild:g=!1}=e,{el:A=void 0}=e;const{elements:{overlay:b},states:{open:w},getAttrs:E}=co();ue(t,b,q=>n(13,l=q)),ue(t,w,q=>n(9,a=q));const D=E("overlay");function $(q){ie.call(this,t,q)}function R(q){ie.call(this,t,q)}function j(q){ie.call(this,t,q)}function F(q){ie.call(this,t,q)}function N(q){ie.call(this,t,q)}function T(q){Le[q?"unshift":"push"](()=>{A=q,n(0,A)})}function k(q){Le[q?"unshift":"push"](()=>{A=q,n(0,A)})}function y(q){Le[q?"unshift":"push"](()=>{A=q,n(0,A)})}function L(q){Le[q?"unshift":"push"](()=>{A=q,n(0,A)})}function V(q){Le[q?"unshift":"push"](()=>{A=q,n(0,A)})}return t.$$set=q=>{e=Q(Q({},e),$e(q)),n(12,r=se(e,i)),"transition"in q&&n(1,f=q.transition),"transitionConfig"in q&&n(2,c=q.transitionConfig),"inTransition"in q&&n(3,d=q.inTransition),"inTransitionConfig"in q&&n(4,h=q.inTransitionConfig),"outTransition"in q&&n(5,m=q.outTransition),"outTransitionConfig"in q&&n(6,p=q.outTransitionConfig),"asChild"in q&&n(7,g=q.asChild),"el"in q&&n(0,A=q.el),"$$scope"in q&&n(14,u=q.$$scope)},t.$$.update=()=>{t.$$.dirty&8192&&n(8,o=l),t.$$.dirty&256&&Object.assign(o,D)},[A,f,c,d,h,m,p,g,o,a,b,w,r,l,u,s,$,R,j,F,N,T,k,y,L,V]}let dg=class extends he{constructor(e){super(),pe(this,e,cg,fg,me,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,el:0})}};const mg=t=>({builder:t&4}),Ws=t=>({builder:t[2]}),pg=t=>({builder:t&4}),Ys=t=>({builder:t[2]});function hg(t){let e,n,o,i;const r=t[8].default,l=_e(r,t,t[7],Ws);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=I("div"),l&&l.c(),fe(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[9](e),n=!0,o||(i=We(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&be(l,r,u,u[7],n?ge(r,u[7],f,mg):ve(u[7]),Ws),fe(e,s=Te(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&M(e),l&&l.d(u),t[9](null),o=!1,i()}}}function _g(t){let e;const n=t[8].default,o=_e(n,t,t[7],Ys);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&be(o,n,i,i[7],e?ge(n,i[7],r,pg):ve(i[7]),Ys)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function gg(t){let e,n,o,i;const r=[_g,hg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Oe(),S(l[f],1,1,()=>{l[f]=null}),Ie(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function bg(t,e,n){let o;const i=["asChild","id","el"];let r=se(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{description:d},ids:h,getAttrs:m}=co();ue(t,d,A=>n(6,l=A));const p=m("description");function g(A){Le[A?"unshift":"push"](()=>{c=A,n(0,c)})}return t.$$set=A=>{e=Q(Q({},e),$e(A)),n(4,r=se(e,i)),"asChild"in A&&n(1,u=A.asChild),"id"in A&&n(5,f=A.id),"el"in A&&n(0,c=A.el),"$$scope"in A&&n(7,s=A.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f&&h.description.set(f),t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,p)},[c,u,o,d,r,f,l,s,a,g]}let vg=class extends he{constructor(e){super(),pe(this,e,bg,gg,me,{asChild:1,id:5,el:0})}};function yg(){const t="label",n=Rn(t,["root"]);return{NAME:t,getAttrs:n}}const wg=t=>({builder:t&4}),Us=t=>({builder:t[2]}),kg=t=>({builder:t&4}),Ks=t=>({builder:t[2]});function Cg(t){let e,n,o,i;const r=t[8].default,l=_e(r,t,t[7],Us);let a=[t[2],t[5]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=I("label"),l&&l.c(),fe(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[9](e),n=!0,o||(i=[We(t[2].action(e)),ee(e,"m-mousedown",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&be(l,r,u,u[7],n?ge(r,u[7],f,wg):ve(u[7]),Us),fe(e,s=Te(a,[f&4&&u[2],f&32&&u[5]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&M(e),l&&l.d(u),t[9](null),o=!1,je(i)}}}function Ag(t){let e;const n=t[8].default,o=_e(n,t,t[7],Ks);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&be(o,n,i,i[7],e?ge(n,i[7],r,kg):ve(i[7]),Ks)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Sg(t){let e,n,o,i;const r=[Ag,Cg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Oe(),S(l[f],1,1,()=>{l[f]=null}),Ie(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function Tg(t,e,n){let o;const i=["asChild","el"];let r=se(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{root:c}}=Ih();ue(t,c,g=>n(6,l=g));const d=Ln(),{getAttrs:h}=yg(),m=h("root");function p(g){Le[g?"unshift":"push"](()=>{f=g,n(0,f)})}return t.$$set=g=>{e=Q(Q({},e),$e(g)),n(5,r=se(e,i)),"asChild"in g&&n(1,u=g.asChild),"el"in g&&n(0,f=g.el),"$$scope"in g&&n(7,s=g.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,m)},[f,u,o,c,d,r,l,s,a,p]}let Mg=class extends he{constructor(e){super(),pe(this,e,Tg,Sg,me,{asChild:1,el:0})}};function Og(){return{NAME:"progress",PARTS:["root"]}}function Ig(t){const{NAME:e,PARTS:n}=Og(),o=Rn(e,n),i={...Lh(fo(t)),getAttrs:o};return{...i,updateOption:In(i.options)}}const Ng=t=>({builder:t&4}),Xs=t=>({builder:t[2]}),Pg=t=>({builder:t&4}),Js=t=>({builder:t[2]});function Eg(t){let e,n,o,i;const r=t[10].default,l=_e(r,t,t[9],Xs);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=I("div"),l&&l.c(),fe(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[11](e),n=!0,o||(i=We(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&516)&&be(l,r,u,u[9],n?ge(r,u[9],f,Ng):ve(u[9]),Xs),fe(e,s=Te(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&M(e),l&&l.d(u),t[11](null),o=!1,i()}}}function Rg(t){let e;const n=t[10].default,o=_e(n,t,t[9],Js);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&516)&&be(o,n,i,i[9],e?ge(n,i[9],r,Pg):ve(i[9]),Js)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Lg(t){let e,n,o,i;const r=[Rg,Eg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Oe(),S(l[f],1,1,()=>{l[f]=null}),Ie(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function $g(t,e,n){let o;const i=["max","value","onValueChange","asChild","el"];let r=se(e,i),l,{$$slots:a={},$$scope:s}=e,{max:u=void 0}=e,{value:f=void 0}=e,{onValueChange:c=void 0}=e,{asChild:d=!1}=e,{el:h=void 0}=e;const{elements:{root:m},states:{value:p},updateOption:g,getAttrs:A}=Ig({max:u,defaultValue:f,onValueChange:({next:E})=>(c==null||c(E),n(5,f=E),E)});ue(t,m,E=>n(8,l=E));const b=A("root");function w(E){Le[E?"unshift":"push"](()=>{h=E,n(0,h)})}return t.$$set=E=>{e=Q(Q({},e),$e(E)),n(4,r=se(e,i)),"max"in E&&n(6,u=E.max),"value"in E&&n(5,f=E.value),"onValueChange"in E&&n(7,c=E.onValueChange),"asChild"in E&&n(1,d=E.asChild),"el"in E&&n(0,h=E.el),"$$scope"in E&&n(9,s=E.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f!==void 0&&p.set(f),t.$$.dirty&64&&g("max",u),t.$$.dirty&256&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,b)},[h,d,o,m,r,f,u,c,l,s,a,w]}let Dg=class extends he{constructor(e){super(),pe(this,e,$g,Lg,me,{max:6,value:5,onValueChange:7,asChild:1,el:0})}};function yc(){return{NAME:"slider",PARTS:["root","input","range","thumb","tick"]}}function qg(t){const{NAME:e,PARTS:n}=yc(),o=Rn(e,n),i={...Fh(fo(t)),getAttrs:o};return Ki(e,i),{...i,updateOption:In(i.options)}}function wc(){const{NAME:t}=yc();return Xi(t)}const Fg=t=>({builder:t&4,ticks:t&8,thumbs:t&16}),xs=t=>({builder:t[2],ticks:t[3],thumbs:t[4]}),Bg=t=>({builder:t&4,ticks:t&8,thumbs:t&16}),Zs=t=>({builder:t[2],ticks:t[3],thumbs:t[4]});function jg(t){let e,n,o,i;const r=t[18].default,l=_e(r,t,t[17],xs);let a=[t[2],t[8]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=I("span"),l&&l.c(),fe(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[19](e),n=!0,o||(i=We(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&131100)&&be(l,r,u,u[17],n?ge(r,u[17],f,Fg):ve(u[17]),xs),fe(e,s=Te(a,[f&4&&u[2],f&256&&u[8]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&M(e),l&&l.d(u),t[19](null),o=!1,i()}}}function Hg(t){let e;const n=t[18].default,o=_e(n,t,t[17],Zs);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&131100)&&be(o,n,i,i[17],e?ge(n,i[17],r,Bg):ve(i[17]),Zs)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Gg(t){let e,n,o,i;const r=[Hg,jg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Oe(),S(l[f],1,1,()=>{l[f]=null}),Ie(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function Vg(t,e,n){let o;const i=["disabled","min","max","step","orientation","value","onValueChange","asChild","el"];let r=se(e,i),l,a,s,{$$slots:u={},$$scope:f}=e,{disabled:c=void 0}=e,{min:d=void 0}=e,{max:h=void 0}=e,{step:m=void 0}=e,{orientation:p=void 0}=e,{value:g=void 0}=e,{onValueChange:A=void 0}=e,{asChild:b=!1}=e,{el:w=void 0}=e;const{elements:{root:E,ticks:D,thumbs:$},states:{value:R},updateOption:j,getAttrs:F}=qg({disabled:c,min:d,max:h,step:m,orientation:p,defaultValue:g,onValueChange:({next:k})=>(g!==k&&(A==null||A(k),n(9,g=k)),k)});ue(t,E,k=>n(16,l=k)),ue(t,D,k=>n(3,a=k)),ue(t,$,k=>n(4,s=k));const N=F("root");function T(k){Le[k?"unshift":"push"](()=>{w=k,n(0,w)})}return t.$$set=k=>{e=Q(Q({},e),$e(k)),n(8,r=se(e,i)),"disabled"in k&&n(10,c=k.disabled),"min"in k&&n(11,d=k.min),"max"in k&&n(12,h=k.max),"step"in k&&n(13,m=k.step),"orientation"in k&&n(14,p=k.orientation),"value"in k&&n(9,g=k.value),"onValueChange"in k&&n(15,A=k.onValueChange),"asChild"in k&&n(1,b=k.asChild),"el"in k&&n(0,w=k.el),"$$scope"in k&&n(17,f=k.$$scope)},t.$$.update=()=>{t.$$.dirty&512&&g!==void 0&&R.set(g),t.$$.dirty&1024&&j("disabled",c),t.$$.dirty&2048&&j("min",d),t.$$.dirty&4096&&j("max",h),t.$$.dirty&8192&&j("step",m),t.$$.dirty&16384&&j("orientation",p),t.$$.dirty&65536&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,N)},[w,b,o,a,s,E,D,$,r,g,c,d,h,m,p,A,l,f,u,T]}let Wg=class extends he{constructor(e){super(),pe(this,e,Vg,Gg,me,{disabled:10,min:11,max:12,step:13,orientation:14,value:9,onValueChange:15,asChild:1,el:0})}};const Yg=t=>({builder:t&4}),Qs=t=>({builder:t[2]});function Ug(t){let e,n,o,i=[t[2],t[4]],r={};for(let l=0;l<i.length;l+=1)r=Q(r,i[l]);return{c(){e=I("span"),fe(e,r)},m(l,a){O(l,e,a),t[8](e),n||(o=We(t[2].action(e)),n=!0)},p(l,a){fe(e,r=Te(i,[a&4&&l[2],a&16&&l[4]]))},i:Me,o:Me,d(l){l&&M(e),t[8](null),n=!1,o()}}}function Kg(t){let e;const n=t[7].default,o=_e(n,t,t[6],Qs);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&68)&&be(o,n,i,i[6],e?ge(n,i[6],r,Yg):ve(i[6]),Qs)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Xg(t){let e,n,o,i;const r=[Kg,Ug],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Oe(),S(l[f],1,1,()=>{l[f]=null}),Ie(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function Jg(t,e,n){let o;const i=["asChild","el"];let r=se(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{range:c},getAttrs:d}=wc();ue(t,c,p=>n(5,l=p));const h=d("range");function m(p){Le[p?"unshift":"push"](()=>{f=p,n(0,f)})}return t.$$set=p=>{e=Q(Q({},e),$e(p)),n(4,r=se(e,i)),"asChild"in p&&n(1,u=p.asChild),"el"in p&&n(0,f=p.el),"$$scope"in p&&n(6,s=p.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,h)},[f,u,o,c,r,l,s,a,m]}class xg extends he{constructor(e){super(),pe(this,e,Jg,Xg,me,{asChild:1,el:0})}}const Zg=t=>({builder:t&4}),zs=t=>({builder:t[2]});function Qg(t){let e,n,o,i=[t[2],t[4]],r={};for(let l=0;l<i.length;l+=1)r=Q(r,i[l]);return{c(){e=I("span"),fe(e,r)},m(l,a){O(l,e,a),t[8](e),n||(o=[We(t[2].action(e)),ee(e,"m-keydown",t[3])],n=!0)},p(l,a){fe(e,r=Te(i,[a&4&&l[2],a&16&&l[4]]))},i:Me,o:Me,d(l){l&&M(e),t[8](null),n=!1,je(o)}}}function zg(t){let e;const n=t[7].default,o=_e(n,t,t[6],zs);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&68)&&be(o,n,i,i[6],e?ge(n,i[6],r,Zg):ve(i[6]),zs)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function e1(t){let e,n,o,i;const r=[zg,Qg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Oe(),S(l[f],1,1,()=>{l[f]=null}),Ie(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function t1(t,e,n){let o;const i=["asChild","el","thumb"];let r=se(e,i),{$$slots:l={},$$scope:a}=e,{asChild:s=!1}=e,{el:u=void 0}=e,{thumb:f}=e;const{getAttrs:c}=wc(),d=Ln(),h=c("thumb");function m(p){Le[p?"unshift":"push"](()=>{u=p,n(0,u)})}return t.$$set=p=>{e=Q(Q({},e),$e(p)),n(4,r=se(e,i)),"asChild"in p&&n(1,s=p.asChild),"el"in p&&n(0,u=p.el),"thumb"in p&&n(5,f=p.thumb),"$$scope"in p&&n(6,a=p.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=f),t.$$.dirty&4&&Object.assign(o,h)},[u,s,o,d,r,f,a,l,m]}class n1 extends he{constructor(e){super(),pe(this,e,t1,e1,me,{asChild:1,el:0,thumb:5})}}function kc(){return{NAME:"tooltip",PARTS:["arrow","content","trigger"]}}function o1(t){const{NAME:e,PARTS:n}=kc(),o=Rn(e,n),i={...Hh({positioning:{placement:"top",gutter:0},openDelay:700,...fo(t),forceVisible:!0}),getAttrs:o};return Ki(e,i),{...i,updateOption:In(i.options)}}function yl(){const{NAME:t}=kc();return Xi(t)}function i1(t){const n={...{side:"top",align:"center",sideOffset:1},...t},{options:{positioning:o}}=yl();r0(o)({...n})}const r1=t=>({ids:t&1}),ea=t=>({ids:t[0]});function l1(t){let e;const n=t[12].default,o=_e(n,t,t[11],ea);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,[r]){o&&o.p&&(!e||r&2049)&&be(o,n,i,i[11],e?ge(n,i[11],r,r1):ve(i[11]),ea)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function s1(t,e,n){let o,{$$slots:i={},$$scope:r}=e,{closeOnEscape:l=void 0}=e,{portal:a=void 0}=e,{closeOnPointerDown:s=void 0}=e,{openDelay:u=void 0}=e,{closeDelay:f=void 0}=e,{open:c=void 0}=e,{onOpenChange:d=void 0}=e,{disableHoverableContent:h=void 0}=e,{group:m=void 0}=e;const{states:{open:p},updateOption:g,ids:A}=o1({closeOnEscape:l,portal:a,closeOnPointerDown:s,openDelay:u,closeDelay:f,forceVisible:!0,defaultOpen:c,disableHoverableContent:h,group:m,onOpenChange:({next:w})=>(c!==w&&(d==null||d(w),n(2,c=w)),w),positioning:{gutter:0,offset:{mainAxis:1}}}),b=en([A.content,A.trigger],([w,E])=>({content:w,trigger:E}));return ue(t,b,w=>n(0,o=w)),t.$$set=w=>{"closeOnEscape"in w&&n(3,l=w.closeOnEscape),"portal"in w&&n(4,a=w.portal),"closeOnPointerDown"in w&&n(5,s=w.closeOnPointerDown),"openDelay"in w&&n(6,u=w.openDelay),"closeDelay"in w&&n(7,f=w.closeDelay),"open"in w&&n(2,c=w.open),"onOpenChange"in w&&n(8,d=w.onOpenChange),"disableHoverableContent"in w&&n(9,h=w.disableHoverableContent),"group"in w&&n(10,m=w.group),"$$scope"in w&&n(11,r=w.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&c!==void 0&&p.set(c),t.$$.dirty&8&&g("closeOnEscape",l),t.$$.dirty&16&&g("portal",a),t.$$.dirty&32&&g("closeOnPointerDown",s),t.$$.dirty&64&&g("openDelay",u),t.$$.dirty&128&&g("closeDelay",f),t.$$.dirty&1024&&g("group",m),t.$$.dirty&512&&g("disableHoverableContent",h)},[o,b,c,l,a,s,u,f,d,h,m,r,i]}class a1 extends he{constructor(e){super(),pe(this,e,s1,l1,me,{closeOnEscape:3,portal:4,closeOnPointerDown:5,openDelay:6,closeDelay:7,open:2,onOpenChange:8,disableHoverableContent:9,group:10})}}const u1=t=>({builder:t[0]&256}),ta=t=>({builder:t[8]}),f1=t=>({builder:t[0]&256}),na=t=>({builder:t[8]}),c1=t=>({builder:t[0]&256}),oa=t=>({builder:t[8]}),d1=t=>({builder:t[0]&256}),ia=t=>({builder:t[8]}),m1=t=>({builder:t[0]&256}),ra=t=>({builder:t[8]}),p1=t=>({builder:t[0]&256}),la=t=>({builder:t[8]});function h1(t){let e,n,o,i;const r=t[28].default,l=_e(r,t,t[27],ta);let a=[t[8],t[13]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=I("div"),l&&l.c(),fe(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[33](e),n=!0,o||(i=[We(t[8].action(e)),ee(e,"m-pointerdown",t[12]),ee(e,"m-pointerenter",t[12])],o=!0)},p(u,f){l&&l.p&&(!n||f[0]&134217984)&&be(l,r,u,u[27],n?ge(r,u[27],f,u1):ve(u[27]),ta),fe(e,s=Te(a,[f[0]&256&&u[8],f[0]&8192&&u[13]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&M(e),l&&l.d(u),t[33](null),o=!1,je(i)}}}function _1(t){let e,n,o,i,r;const l=t[28].default,a=_e(l,t,t[27],na);let s=[t[8],t[13]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=I("div"),a&&a.c(),fe(e,u)},m(f,c){O(f,e,c),a&&a.m(e,null),t[32](e),o=!0,i||(r=[We(t[8].action(e)),ee(e,"m-pointerdown",t[12]),ee(e,"m-pointerenter",t[12])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&134217984)&&be(a,l,t,t[27],o?ge(l,t[27],c,f1):ve(t[27]),na),fe(e,u=Te(s,[c[0]&256&&t[8],c[0]&8192&&t[13]]))},i(f){o||(C(a,f),n&&n.end(1),o=!0)},o(f){S(a,f),f&&(n=Wt(e,t[5],t[6])),o=!1},d(f){f&&M(e),a&&a.d(f),t[32](null),f&&n&&n.end(),i=!1,je(r)}}}function g1(t){let e,n,o,i,r;const l=t[28].default,a=_e(l,t,t[27],oa);let s=[t[8],t[13]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=I("div"),a&&a.c(),fe(e,u)},m(f,c){O(f,e,c),a&&a.m(e,null),t[31](e),o=!0,i||(r=[We(t[8].action(e)),ee(e,"m-pointerdown",t[12]),ee(e,"m-pointerenter",t[12])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&134217984)&&be(a,l,t,t[27],o?ge(l,t[27],c,c1):ve(t[27]),oa),fe(e,u=Te(s,[c[0]&256&&t[8],c[0]&8192&&t[13]]))},i(f){o||(C(a,f),f&&(n||lt(()=>{n=Vt(e,t[3],t[4]),n.start()})),o=!0)},o(f){S(a,f),o=!1},d(f){f&&M(e),a&&a.d(f),t[31](null),i=!1,je(r)}}}function b1(t){let e,n,o,i,r,l;const a=t[28].default,s=_e(a,t,t[27],ia);let u=[t[8],t[13]],f={};for(let c=0;c<u.length;c+=1)f=Q(f,u[c]);return{c(){e=I("div"),s&&s.c(),fe(e,f)},m(c,d){O(c,e,d),s&&s.m(e,null),t[30](e),i=!0,r||(l=[We(t[8].action(e)),ee(e,"m-pointerdown",t[12]),ee(e,"m-pointerenter",t[12])],r=!0)},p(c,d){t=c,s&&s.p&&(!i||d[0]&134217984)&&be(s,a,t,t[27],i?ge(a,t[27],d,d1):ve(t[27]),ia),fe(e,f=Te(u,[d[0]&256&&t[8],d[0]&8192&&t[13]]))},i(c){i||(C(s,c),c&&lt(()=>{i&&(o&&o.end(1),n=Vt(e,t[3],t[4]),n.start())}),i=!0)},o(c){S(s,c),n&&n.invalidate(),c&&(o=Wt(e,t[5],t[6])),i=!1},d(c){c&&M(e),s&&s.d(c),t[30](null),c&&o&&o.end(),r=!1,je(l)}}}function v1(t){let e,n,o,i,r;const l=t[28].default,a=_e(l,t,t[27],ra);let s=[t[8],t[13]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=I("div"),a&&a.c(),fe(e,u)},m(f,c){O(f,e,c),a&&a.m(e,null),t[29](e),o=!0,i||(r=[We(t[8].action(e)),ee(e,"m-pointerdown",t[12]),ee(e,"m-pointerenter",t[12])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&134217984)&&be(a,l,t,t[27],o?ge(l,t[27],c,m1):ve(t[27]),ra),fe(e,u=Te(s,[c[0]&256&&t[8],c[0]&8192&&t[13]]))},i(f){o||(C(a,f),f&&lt(()=>{o&&(n||(n=jt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(f){S(a,f),f&&(n||(n=jt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(f){f&&M(e),a&&a.d(f),t[29](null),f&&n&&n.end(),i=!1,je(r)}}}function y1(t){let e;const n=t[28].default,o=_e(n,t,t[27],la);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r[0]&134217984)&&be(o,n,i,i[27],e?ge(n,i[27],r,p1):ve(i[27]),la)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function w1(t){let e,n,o,i;const r=[y1,v1,b1,g1,_1,h1],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=De()},m(s,u){~e&&l[e].m(s,u),O(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Oe(),S(l[f],1,1,()=>{l[f]=null}),Ie()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&M(o),~e&&l[e].d(s)}}}function k1(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","id","side","align","sideOffset","alignOffset","collisionPadding","avoidCollisions","collisionBoundary","sameWidth","fitViewport","strategy","overlap","el"];let r=se(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:h=void 0}=e,{outTransition:m=void 0}=e,{outTransitionConfig:p=void 0}=e,{asChild:g=!1}=e,{id:A=void 0}=e,{side:b="top"}=e,{align:w="center"}=e,{sideOffset:E=0}=e,{alignOffset:D=0}=e,{collisionPadding:$=8}=e,{avoidCollisions:R=!0}=e,{collisionBoundary:j=void 0}=e,{sameWidth:F=!1}=e,{fitViewport:N=!1}=e,{strategy:T="absolute"}=e,{overlap:k=!1}=e,{el:y=void 0}=e;const{elements:{content:L},states:{open:V},ids:q,getAttrs:x}=yl();ue(t,L,_=>n(26,a=_)),ue(t,V,_=>n(9,l=_));const W=Ln(),Y=x("content");function te(_){Le[_?"unshift":"push"](()=>{y=_,n(0,y)})}function z(_){Le[_?"unshift":"push"](()=>{y=_,n(0,y)})}function ne(_){Le[_?"unshift":"push"](()=>{y=_,n(0,y)})}function re(_){Le[_?"unshift":"push"](()=>{y=_,n(0,y)})}function le(_){Le[_?"unshift":"push"](()=>{y=_,n(0,y)})}return t.$$set=_=>{e=Q(Q({},e),$e(_)),n(13,r=se(e,i)),"transition"in _&&n(1,f=_.transition),"transitionConfig"in _&&n(2,c=_.transitionConfig),"inTransition"in _&&n(3,d=_.inTransition),"inTransitionConfig"in _&&n(4,h=_.inTransitionConfig),"outTransition"in _&&n(5,m=_.outTransition),"outTransitionConfig"in _&&n(6,p=_.outTransitionConfig),"asChild"in _&&n(7,g=_.asChild),"id"in _&&n(14,A=_.id),"side"in _&&n(15,b=_.side),"align"in _&&n(16,w=_.align),"sideOffset"in _&&n(17,E=_.sideOffset),"alignOffset"in _&&n(18,D=_.alignOffset),"collisionPadding"in _&&n(19,$=_.collisionPadding),"avoidCollisions"in _&&n(20,R=_.avoidCollisions),"collisionBoundary"in _&&n(21,j=_.collisionBoundary),"sameWidth"in _&&n(22,F=_.sameWidth),"fitViewport"in _&&n(23,N=_.fitViewport),"strategy"in _&&n(24,T=_.strategy),"overlap"in _&&n(25,k=_.overlap),"el"in _&&n(0,y=_.el),"$$scope"in _&&n(27,u=_.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&16384&&A&&q.content.set(A),t.$$.dirty[0]&67108864&&n(8,o=a),t.$$.dirty[0]&256&&Object.assign(o,Y),t.$$.dirty[0]&67076608&&l&&i1({side:b,align:w,sideOffset:E,alignOffset:D,collisionPadding:$,avoidCollisions:R,collisionBoundary:j,sameWidth:F,fitViewport:N,strategy:T,overlap:k})},[y,f,c,d,h,m,p,g,o,l,L,V,W,r,A,b,w,E,D,$,R,j,F,N,T,k,a,u,s,te,z,ne,re,le]}let C1=class extends he{constructor(e){super(),pe(this,e,k1,w1,me,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,id:14,side:15,align:16,sideOffset:17,alignOffset:18,collisionPadding:19,avoidCollisions:20,collisionBoundary:21,sameWidth:22,fitViewport:23,strategy:24,overlap:25,el:0},null,[-1,-1])}};const A1=t=>({builder:t&4}),sa=t=>({builder:t[2]}),S1=t=>({builder:t&4}),aa=t=>({builder:t[2]});function T1(t){let e,n,o,i;const r=t[9].default,l=_e(r,t,t[8],sa);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=I("button"),l&&l.c(),fe(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[10](e),n=!0,o||(i=[We(t[2].action(e)),ee(e,"m-blur",t[4]),ee(e,"m-focus",t[4]),ee(e,"m-keydown",t[4]),ee(e,"m-pointerdown",t[4]),ee(e,"m-pointerenter",t[4]),ee(e,"m-pointerleave",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&260)&&be(l,r,u,u[8],n?ge(r,u[8],f,A1):ve(u[8]),sa),fe(e,s=Te(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&M(e),l&&l.d(u),t[10](null),o=!1,je(i)}}}function M1(t){let e;const n=t[9].default,o=_e(n,t,t[8],aa);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&260)&&be(o,n,i,i[8],e?ge(n,i[8],r,S1):ve(i[8]),aa)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function O1(t){let e,n,o,i;const r=[M1,T1],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Oe(),S(l[f],1,1,()=>{l[f]=null}),Ie(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function I1(t,e,n){let o;const i=["asChild","id","el"];let r=se(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{trigger:d},ids:h,getAttrs:m}=yl();ue(t,d,b=>n(7,l=b));const p=Ln(),g=m("trigger");function A(b){Le[b?"unshift":"push"](()=>{c=b,n(0,c)})}return t.$$set=b=>{e=Q(Q({},e),$e(b)),n(5,r=se(e,i)),"asChild"in b&&n(1,u=b.asChild),"id"in b&&n(6,f=b.id),"el"in b&&n(0,c=b.el),"$$scope"in b&&n(8,s=b.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&f&&h.trigger.set(f),t.$$.dirty&128&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,g)},[c,u,o,d,p,r,f,l,s,a,A]}class N1 extends he{constructor(e){super(),pe(this,e,I1,O1,me,{asChild:1,id:6,el:0})}}function P1(t){let e;const n=t[5].default,o=_e(n,t,t[8],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&256)&&be(o,n,i,i[8],e?ge(n,i[8],r,null):ve(i[8]),null)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function E1(t){let e,n;const o=[{builders:t[3]},{class:Ve(oo({variant:t[1],size:t[2],className:t[0]}))},{type:"button"},t[4]];let i={$$slots:{default:[P1]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new i0({props:i}),e.$on("click",t[6]),e.$on("keydown",t[7]),{c(){X(e.$$.fragment)},m(r,l){U(e,r,l),n=!0},p(r,[l]){const a=l&31?Te(o,[l&8&&{builders:r[3]},l&7&&{class:Ve(oo({variant:r[1],size:r[2],className:r[0]}))},o[2],l&16&&ut(r[4])]):{};l&256&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){K(e,r)}}}function R1(t,e,n){const o=["class","variant","size","builders"];let i=se(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{variant:s="default"}=e,{size:u="default"}=e,{builders:f=[]}=e;function c(h){ie.call(this,t,h)}function d(h){ie.call(this,t,h)}return t.$$set=h=>{e=Q(Q({},e),$e(h)),n(4,i=se(e,o)),"class"in h&&n(0,a=h.class),"variant"in h&&n(1,s=h.variant),"size"in h&&n(2,u=h.size),"builders"in h&&n(3,f=h.builders),"$$scope"in h&&n(8,l=h.$$scope)},[a,s,u,f,i,r,c,d,l]}class At extends he{constructor(e){super(),pe(this,e,R1,E1,me,{class:0,variant:1,size:2,builders:3})}}var ua=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,yt=t=>!t||typeof t!="object"||Object.keys(t).length===0,L1=(t,e)=>JSON.stringify(t)===JSON.stringify(e);function Cc(t,e){t.forEach(function(n){Array.isArray(n)?Cc(n,e):e.push(n)})}function Ac(t){let e=[];return Cc(t,e),e}var Sc=(...t)=>Ac(t).filter(Boolean),Tc=(t,e)=>{let n={},o=Object.keys(t),i=Object.keys(e);for(let r of o)if(i.includes(r)){let l=t[r],a=e[r];typeof l=="object"&&typeof a=="object"?n[r]=Tc(l,a):Array.isArray(l)||Array.isArray(a)?n[r]=Sc(a,l):n[r]=a+" "+l}else n[r]=t[r];for(let r of i)o.includes(r)||(n[r]=e[r]);return n},fa=t=>!t||typeof t!="string"?t:t.replace(/\s+/g," ").trim(),$1={twMerge:!0,twMergeConfig:{},responsiveVariants:!1},Mc=t=>t||void 0,Bo=(...t)=>Mc(Ac(t).filter(Boolean).join(" ")),wr=null,Jt={},Gr=!1,ko=(...t)=>e=>e.twMerge?((!wr||Gr)&&(Gr=!1,wr=yt(Jt)?Kf:Tm({...Jt,extend:{theme:Jt.theme,classGroups:Jt.classGroups,conflictingClassGroupModifiers:Jt.conflictingClassGroupModifiers,conflictingClassGroups:Jt.conflictingClassGroups,...Jt.extend}})),Mc(wr(Bo(t)))):Bo(t),ca=(t,e)=>{for(let n in e)t.hasOwnProperty(n)?t[n]=Bo(t[n],e[n]):t[n]=e[n];return t},D1=(t,e)=>{let{extend:n=null,slots:o={},variants:i={},compoundVariants:r=[],compoundSlots:l=[],defaultVariants:a={}}=t,s={...$1,...e},u=n!=null&&n.base?Bo(n.base,t==null?void 0:t.base):t==null?void 0:t.base,f=n!=null&&n.variants&&!yt(n.variants)?Tc(i,n.variants):i,c=n!=null&&n.defaultVariants&&!yt(n.defaultVariants)?{...n.defaultVariants,...a}:a;!yt(s.twMergeConfig)&&!L1(s.twMergeConfig,Jt)&&(Gr=!0,Jt=s.twMergeConfig);let d=yt(n==null?void 0:n.slots),h=yt(o)?{}:{base:Bo(t==null?void 0:t.base,d&&(n==null?void 0:n.base)),...o},m=d?h:ca({...n==null?void 0:n.slots},yt(h)?{base:t==null?void 0:t.base}:h),p=A=>{if(yt(f)&&yt(o)&&d)return ko(u,A==null?void 0:A.class,A==null?void 0:A.className)(s);if(r&&!Array.isArray(r))throw new TypeError(`The "compoundVariants" prop must be an array. Received: ${typeof r}`);if(l&&!Array.isArray(l))throw new TypeError(`The "compoundSlots" prop must be an array. Received: ${typeof l}`);let b=(k,y,L=[],V)=>{let q=L;if(typeof y=="string")q=q.concat(fa(y).split(" ").map(x=>`${k}:${x}`));else if(Array.isArray(y))q=q.concat(y.reduce((x,W)=>x.concat(`${k}:${W}`),[]));else if(typeof y=="object"&&typeof V=="string"){for(let x in y)if(y.hasOwnProperty(x)&&x===V){let W=y[x];if(W&&typeof W=="string"){let Y=fa(W);q[V]?q[V]=q[V].concat(Y.split(" ").map(te=>`${k}:${te}`)):q[V]=Y.split(" ").map(te=>`${k}:${te}`)}else Array.isArray(W)&&W.length>0&&(q[V]=W.reduce((Y,te)=>Y.concat(`${k}:${te}`),[]))}}return q},w=(k,y=f,L=null,V=null)=>{var q;let x=y[k];if(!x||yt(x))return null;let W=(q=V==null?void 0:V[k])!=null?q:A==null?void 0:A[k];if(W===null)return null;let Y=ua(W),te=Array.isArray(s.responsiveVariants)&&s.responsiveVariants.length>0||s.responsiveVariants===!0,z=c==null?void 0:c[k],ne=[];if(typeof Y=="object"&&te)for(let[_,J]of Object.entries(Y)){let Z=x[J];if(_==="initial"){z=J;continue}Array.isArray(s.responsiveVariants)&&!s.responsiveVariants.includes(_)||(ne=b(_,Z,ne,L))}let re=Y!=null&&typeof Y!="object"?Y:ua(z),le=x[re]||x.false;return typeof ne=="object"&&typeof L=="string"&&ne[L]?ca(ne,le):ne.length>0?(ne.push(le),ne):le},E=()=>f?Object.keys(f).map(k=>w(k,f)):null,D=(k,y)=>{if(!f||typeof f!="object")return null;let L=new Array;for(let V in f){let q=w(V,f,k,y),x=k==="base"&&typeof q=="string"?q:q&&q[k];x&&(L[L.length]=x)}return L},$={};for(let k in A)A[k]!==void 0&&($[k]=A[k]);let R=(k,y)=>{var L;let V=typeof(A==null?void 0:A[k])=="object"?{[k]:(L=A[k])==null?void 0:L.initial}:{};return{...c,...$,...V,...y}},j=(k=[],y)=>{let L=[];for(let{class:V,className:q,...x}of k){let W=!0;for(let[Y,te]of Object.entries(x)){let z=R(Y,y);if(Array.isArray(te)){if(!te.includes(z[Y])){W=!1;break}}else if(z[Y]!==te){W=!1;break}}W&&(V&&L.push(V),q&&L.push(q))}return L},F=k=>{let y=j(r,k),L=j(n==null?void 0:n.compoundVariants,k);return Sc(L,y)},N=k=>{let y=F(k);if(!Array.isArray(y))return y;let L={};for(let V of y)if(typeof V=="string"&&(L.base=ko(L.base,V)(s)),typeof V=="object")for(let[q,x]of Object.entries(V))L[q]=ko(L[q],x)(s);return L},T=k=>{if(l.length<1)return null;let y={};for(let{slots:L=[],class:V,className:q,...x}of l){if(!yt(x)){let W=!0;for(let Y of Object.keys(x)){let te=R(Y,k)[Y];if(te===void 0||(Array.isArray(x[Y])?!x[Y].includes(te):x[Y]!==te)){W=!1;break}}if(!W)continue}for(let W of L)y[W]=y[W]||[],y[W].push([V,q])}return y};if(!yt(o)||!d){let k={};if(typeof m=="object"&&!yt(m))for(let y of Object.keys(m))k[y]=L=>{var V,q;return ko(m[y],D(y,L),((V=N(L))!=null?V:[])[y],((q=T(L))!=null?q:[])[y],L==null?void 0:L.class,L==null?void 0:L.className)(s)};return k}return ko(u,E(),F(),A==null?void 0:A.class,A==null?void 0:A.className)(s)},g=()=>{if(!(!f||typeof f!="object"))return Object.keys(f)};return p.variantKeys=g(),p.extend=n,p.base=u,p.slots=m,p.variants=f,p.defaultVariants=c,p.compoundSlots=l,p.compoundVariants=r,p};const oo=D1({base:"inline-flex items-center justify-center rounded-md text-sm font-medium whitespace-nowrap transition-colors focus-visible:outline-none disabled:pointer-events-none disabled:opacity-50",variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg- hover:bg-accent hover:text-accent-foreground",secondary:"bg-accent text-accent-foreground hover:bg-accent/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}});function q1(t){let e;const n=t[2].default,o=_e(n,t,t[3],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&8)&&be(o,n,i,i[3],e?ge(n,i[3],r,null):ve(i[3]),null)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function F1(t){let e,n;const o=[{class:Ve("text-lg font-semibold leading-none tracking-tight",t[0])},t[1]];let i={$$slots:{default:[q1]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new M0({props:i}),{c(){X(e.$$.fragment)},m(r,l){U(e,r,l),n=!0},p(r,[l]){const a=l&3?Te(o,[l&1&&{class:Ve("text-lg font-semibold leading-none tracking-tight",r[0])},l&2&&ut(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){K(e,r)}}}function B1(t,e,n){const o=["class"];let i=se(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Q(Q({},e),$e(s)),n(1,i=se(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,l=s.$$scope)},[a,i,r,l]}class Dn extends he{constructor(e){super(),pe(this,e,B1,F1,me,{class:0})}}function j1(t){let e;const n=t[1].default,o=_e(n,t,t[2],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&4)&&be(o,n,i,i[2],e?ge(n,i[2],r,null):ve(i[2]),null)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function H1(t){let e,n;const o=[t[0]];let i={$$slots:{default:[j1]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new H0({props:i}),{c(){X(e.$$.fragment)},m(r,l){U(e,r,l),n=!0},p(r,[l]){const a=l&1?Te(o,[ut(r[0])]):{};l&4&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){K(e,r)}}}function G1(t,e,n){const o=[];let i=se(e,o),{$$slots:r={},$$scope:l}=e;return t.$$set=a=>{e=Q(Q({},e),$e(a)),n(0,i=se(e,o)),"$$scope"in a&&n(2,l=a.$$scope)},[i,r,l]}class V1 extends he{constructor(e){super(),pe(this,e,G1,H1,me,{})}}function W1(t){let e,n,o;const i=t[3].default,r=_e(i,t,t[2],null);let l=[{class:n=Ve("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=Q(a,l[s]);return{c(){e=I("div"),r&&r.c(),fe(e,a)},m(s,u){O(s,e,u),r&&r.m(e,null),o=!0},p(s,[u]){r&&r.p&&(!o||u&4)&&be(r,i,s,s[2],o?ge(i,s[2],u,null):ve(s[2]),null),fe(e,a=Te(l,[(!o||u&1&&n!==(n=Ve("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(C(r,s),o=!0)},o(s){S(r,s),o=!1},d(s){s&&M(e),r&&r.d(s)}}}function Y1(t,e,n){const o=["class"];let i=se(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Q(Q({},e),$e(s)),n(1,i=se(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,i,l,r]}class mo extends he{constructor(e){super(),pe(this,e,Y1,W1,me,{class:0})}}function U1(t){let e,n,o;const i=t[3].default,r=_e(i,t,t[2],null);let l=[{class:n=Ve("flex flex-col space-y-1.5 text-center sm:text-left",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=Q(a,l[s]);return{c(){e=I("div"),r&&r.c(),fe(e,a)},m(s,u){O(s,e,u),r&&r.m(e,null),o=!0},p(s,[u]){r&&r.p&&(!o||u&4)&&be(r,i,s,s[2],o?ge(i,s[2],u,null):ve(s[2]),null),fe(e,a=Te(l,[(!o||u&1&&n!==(n=Ve("flex flex-col space-y-1.5 text-center sm:text-left",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(C(r,s),o=!0)},o(s){S(r,s),o=!1},d(s){s&&M(e),r&&r.d(s)}}}function K1(t,e,n){const o=["class"];let i=se(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Q(Q({},e),$e(s)),n(1,i=se(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,i,l,r]}class qn extends he{constructor(e){super(),pe(this,e,K1,U1,me,{class:0})}}function Oc(t,{delay:e=0,duration:n=400,easing:o=Wi}={}){const i=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:o,css:r=>`opacity: ${r*i}`}}function X1(t){let e,n;const o=[{transition:t[1]},{transitionConfig:t[2]},{class:Ve("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm",t[0])},t[3]];let i={};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new dg({props:i}),{c(){X(e.$$.fragment)},m(r,l){U(e,r,l),n=!0},p(r,[l]){const a=l&15?Te(o,[l&2&&{transition:r[1]},l&4&&{transitionConfig:r[2]},l&1&&{class:Ve("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm",r[0])},l&8&&ut(r[3])]):{};e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){K(e,r)}}}function J1(t,e,n){const o=["class","transition","transitionConfig"];let i=se(e,o),{class:r=void 0}=e,{transition:l=Oc}=e,{transitionConfig:a={duration:150}}=e;return t.$$set=s=>{e=Q(Q({},e),$e(s)),n(3,i=se(e,o)),"class"in s&&n(0,r=s.class),"transition"in s&&n(1,l=s.transition),"transitionConfig"in s&&n(2,a=s.transitionConfig)},[r,l,a,i]}class x1 extends he{constructor(e){super(),pe(this,e,J1,X1,me,{class:0,transition:1,transitionConfig:2})}}/**
 * @license lucide-svelte v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const da={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};function ma(t,e,n){const o=t.slice();return o[11]=e[n][0],o[12]=e[n][1],o}function kr(t){let e,n=[t[12]],o={};for(let i=0;i<n.length;i+=1)o=Q(o,n[i]);return{c(){e=Yi(t[11]),mi(e,o)},m(i,r){O(i,e,r)},p(i,r){mi(e,o=Te(n,[r&32&&i[12]]))},d(i){i&&M(e)}}}function pa(t){let e=t[11],n,o=t[11]&&kr(t);return{c(){o&&o.c(),n=De()},m(i,r){o&&o.m(i,r),O(i,n,r)},p(i,r){i[11]?e?me(e,i[11])?(o.d(1),o=kr(i),e=i[11],o.c(),o.m(n.parentNode,n)):o.p(i,r):(o=kr(i),e=i[11],o.c(),o.m(n.parentNode,n)):e&&(o.d(1),o=null,e=i[11])},d(i){i&&M(n),o&&o.d(i)}}}function Z1(t){let e,n,o,i,r,l=Ue(t[5]),a=[];for(let d=0;d<l.length;d+=1)a[d]=pa(ma(t,l,d));const s=t[10].default,u=_e(s,t,t[9],null);let f=[da,t[7],{width:t[2]},{height:t[2]},{stroke:t[1]},{"stroke-width":o=t[4]?Number(t[3])*24/Number(t[2]):t[3]},{class:i=t[6]("lucide-icon","lucide",t[0]?`lucide-${t[0]}`:"",t[8].class)}],c={};for(let d=0;d<f.length;d+=1)c=Q(c,f[d]);return{c(){e=Yi("svg");for(let d=0;d<a.length;d+=1)a[d].c();n=De(),u&&u.c(),mi(e,c)},m(d,h){O(d,e,h);for(let m=0;m<a.length;m+=1)a[m]&&a[m].m(e,null);v(e,n),u&&u.m(e,null),r=!0},p(d,[h]){if(h&32){l=Ue(d[5]);let m;for(m=0;m<l.length;m+=1){const p=ma(d,l,m);a[m]?a[m].p(p,h):(a[m]=pa(p),a[m].c(),a[m].m(e,n))}for(;m<a.length;m+=1)a[m].d(1);a.length=l.length}u&&u.p&&(!r||h&512)&&be(u,s,d,d[9],r?ge(s,d[9],h,null):ve(d[9]),null),mi(e,c=Te(f,[da,h&128&&d[7],(!r||h&4)&&{width:d[2]},(!r||h&4)&&{height:d[2]},(!r||h&2)&&{stroke:d[1]},(!r||h&28&&o!==(o=d[4]?Number(d[3])*24/Number(d[2]):d[3]))&&{"stroke-width":o},(!r||h&257&&i!==(i=d[6]("lucide-icon","lucide",d[0]?`lucide-${d[0]}`:"",d[8].class)))&&{class:i}]))},i(d){r||(C(u,d),r=!0)},o(d){S(u,d),r=!1},d(d){d&&M(e),at(a,d),u&&u.d(d)}}}function Q1(t,e,n){const o=["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode","mergeClasses"];let i=se(e,o),{$$slots:r={},$$scope:l}=e,{name:a=void 0}=e,{color:s="currentColor"}=e,{size:u=24}=e,{strokeWidth:f=2}=e,{absoluteStrokeWidth:c=!1}=e,{iconNode:d}=e;const h=(...m)=>m.filter((p,g,A)=>!!p&&A.indexOf(p)===g).join(" ");return t.$$set=m=>{n(8,e=Q(Q({},e),$e(m))),n(7,i=se(e,o)),"name"in m&&n(0,a=m.name),"color"in m&&n(1,s=m.color),"size"in m&&n(2,u=m.size),"strokeWidth"in m&&n(3,f=m.strokeWidth),"absoluteStrokeWidth"in m&&n(4,c=m.absoluteStrokeWidth),"iconNode"in m&&n(5,d=m.iconNode),"$$scope"in m&&n(9,l=m.$$scope)},e=$e(e),[a,s,u,f,c,d,h,i,e,l,r]}class z1 extends he{constructor(e){super(),pe(this,e,Q1,Z1,me,{name:0,color:1,size:2,strokeWidth:3,absoluteStrokeWidth:4,iconNode:5,mergeClasses:6})}get mergeClasses(){return this.$$.ctx[6]}}function eb(t){let e;const n=t[2].default,o=_e(n,t,t[3],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&8)&&be(o,n,i,i[3],e?ge(n,i[3],r,null):ve(i[3]),null)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function tb(t){let e,n;const o=[{name:"x"},t[1],{iconNode:t[0]}];let i={$$slots:{default:[eb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new z1({props:i}),{c(){X(e.$$.fragment)},m(r,l){U(e,r,l),n=!0},p(r,[l]){const a=l&3?Te(o,[o[0],l&2&&ut(r[1]),l&1&&{iconNode:r[0]}]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){K(e,r)}}}function nb(t,e,n){let{$$slots:o={},$$scope:i}=e;const r=[["path",{d:"M18 6 6 18"}],["path",{d:"m6 6 12 12"}]];return t.$$set=l=>{n(1,e=Q(Q({},e),$e(l))),"$$scope"in l&&n(3,i=l.$$scope)},e=$e(e),[r,e,o,i]}class ob extends he{constructor(e){super(),pe(this,e,nb,tb,me,{})}}function ib(t){let e,n,o,i;return e=new ob({props:{class:"h-4 w-4"}}),{c(){X(e.$$.fragment),n=B(),o=I("span"),o.textContent="Close",P(o,"class","sr-only")},m(r,l){U(e,r,l),O(r,n,l),O(r,o,l),i=!0},p:Me,i(r){i||(C(e.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),i=!1},d(r){r&&(M(n),M(o)),K(e,r)}}}function rb(t){let e,n,o;const i=t[4].default,r=_e(i,t,t[5],null);return n=new L0({props:{class:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",$$slots:{default:[ib]},$$scope:{ctx:t}}}),{c(){r&&r.c(),e=B(),X(n.$$.fragment)},m(l,a){r&&r.m(l,a),O(l,e,a),U(n,l,a),o=!0},p(l,a){r&&r.p&&(!o||a&32)&&be(r,i,l,l[5],o?ge(i,l[5],a,null):ve(l[5]),null);const s={};a&32&&(s.$$scope={dirty:a,ctx:l}),n.$set(s)},i(l){o||(C(r,l),C(n.$$.fragment,l),o=!0)},o(l){S(r,l),S(n.$$.fragment,l),o=!1},d(l){l&&M(e),r&&r.d(l),K(n,l)}}}function lb(t){let e,n,o,i;e=new x1({});const r=[{transition:t[1]},{transitionConfig:t[2]},{class:Ve("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg rounded-3xl md:w-full",t[0])},t[3]];let l={$$slots:{default:[rb]},$$scope:{ctx:t}};for(let a=0;a<r.length;a+=1)l=Q(l,r[a]);return o=new ng({props:l}),{c(){X(e.$$.fragment),n=B(),X(o.$$.fragment)},m(a,s){U(e,a,s),O(a,n,s),U(o,a,s),i=!0},p(a,s){const u=s&15?Te(r,[s&2&&{transition:a[1]},s&4&&{transitionConfig:a[2]},s&1&&{class:Ve("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg rounded-3xl md:w-full",a[0])},s&8&&ut(a[3])]):{};s&32&&(u.$$scope={dirty:s,ctx:a}),o.$set(u)},i(a){i||(C(e.$$.fragment,a),C(o.$$.fragment,a),i=!0)},o(a){S(e.$$.fragment,a),S(o.$$.fragment,a),i=!1},d(a){a&&M(n),K(e,a),K(o,a)}}}function sb(t){let e,n;return e=new V1({props:{$$slots:{default:[lb]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,[i]){const r={};i&47&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function ab(t,e,n){const o=["class","transition","transitionConfig"];let i=se(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{transition:s=Ji}=e,{transitionConfig:u={duration:400}}=e;return t.$$set=f=>{e=Q(Q({},e),$e(f)),n(3,i=se(e,o)),"class"in f&&n(0,a=f.class),"transition"in f&&n(1,s=f.transition),"transitionConfig"in f&&n(2,u=f.transitionConfig),"$$scope"in f&&n(5,l=f.$$scope)},[a,s,u,i,r,l]}class Fn extends he{constructor(e){super(),pe(this,e,ab,sb,me,{class:0,transition:1,transitionConfig:2})}}function ub(t){let e;const n=t[2].default,o=_e(n,t,t[3],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&8)&&be(o,n,i,i[3],e?ge(n,i[3],r,null):ve(i[3]),null)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function fb(t){let e,n;const o=[{class:Ve("text-sm text-muted-foreground",t[0])},t[1]];let i={$$slots:{default:[ub]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new vg({props:i}),{c(){X(e.$$.fragment)},m(r,l){U(e,r,l),n=!0},p(r,[l]){const a=l&3?Te(o,[l&1&&{class:Ve("text-sm text-muted-foreground",r[0])},l&2&&ut(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){K(e,r)}}}function cb(t,e,n){const o=["class"];let i=se(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Q(Q({},e),$e(s)),n(1,i=se(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,l=s.$$scope)},[a,i,r,l]}class Bn extends he{constructor(e){super(),pe(this,e,cb,fb,me,{class:0})}}const jn=y0;function db(t){let e,n,o,i,r=[{class:n=Ve("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t[1])},t[2]],l={};for(let a=0;a<r.length;a+=1)l=Q(l,r[a]);return{c(){e=I("input"),fe(e,l)},m(a,s){O(a,e,s),e.autofocus&&e.focus(),pi(e,t[0]),o||(i=[ee(e,"input",t[17]),ee(e,"blur",t[3]),ee(e,"change",t[4]),ee(e,"click",t[5]),ee(e,"focus",t[6]),ee(e,"focusin",t[7]),ee(e,"focusout",t[8]),ee(e,"keydown",t[9]),ee(e,"keypress",t[10]),ee(e,"keyup",t[11]),ee(e,"mouseover",t[12]),ee(e,"mouseenter",t[13]),ee(e,"mouseleave",t[14]),ee(e,"paste",t[15]),ee(e,"input",t[16])],o=!0)},p(a,[s]){fe(e,l=Te(r,[s&2&&n!==(n=Ve("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a[1]))&&{class:n},s&4&&a[2]])),s&1&&e.value!==a[0]&&pi(e,a[0])},i:Me,o:Me,d(a){a&&M(e),o=!1,je(i)}}}function mb(t,e,n){const o=["class","value"];let i=se(e,o),{class:r=void 0}=e,{value:l=void 0}=e;function a($){ie.call(this,t,$)}function s($){ie.call(this,t,$)}function u($){ie.call(this,t,$)}function f($){ie.call(this,t,$)}function c($){ie.call(this,t,$)}function d($){ie.call(this,t,$)}function h($){ie.call(this,t,$)}function m($){ie.call(this,t,$)}function p($){ie.call(this,t,$)}function g($){ie.call(this,t,$)}function A($){ie.call(this,t,$)}function b($){ie.call(this,t,$)}function w($){ie.call(this,t,$)}function E($){ie.call(this,t,$)}function D(){l=this.value,n(0,l)}return t.$$set=$=>{e=Q(Q({},e),$e($)),n(2,i=se(e,o)),"class"in $&&n(1,r=$.class),"value"in $&&n(0,l=$.value)},[l,r,i,a,s,u,f,c,d,h,m,p,g,A,b,w,E,D]}class wl extends he{constructor(e){super(),pe(this,e,mb,db,me,{class:1,value:0})}}function pb(t){let e;const n=t[2].default,o=_e(n,t,t[4],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&16)&&be(o,n,i,i[4],e?ge(n,i[4],r,null):ve(i[4]),null)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function hb(t){let e,n;const o=[{class:Ve("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",t[0])},t[1]];let i={$$slots:{default:[pb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new Mg({props:i}),e.$on("mousedown",t[3]),{c(){X(e.$$.fragment)},m(r,l){U(e,r,l),n=!0},p(r,[l]){const a=l&3?Te(o,[l&1&&{class:Ve("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",r[0])},l&2&&ut(r[1])]):{};l&16&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){K(e,r)}}}function _b(t,e,n){const o=["class"];let i=se(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(u){ie.call(this,t,u)}return t.$$set=u=>{e=Q(Q({},e),$e(u)),n(1,i=se(e,o)),"class"in u&&n(0,a=u.class),"$$scope"in u&&n(4,l=u.$$scope)},[a,i,r,s,l]}class $o extends he{constructor(e){super(),pe(this,e,_b,hb,me,{class:0})}}const Nn={land:{short_title:"Fill the grid",description_title:"You win by filling up all possible plots in the grid, and by meeting some requirements.",win:"You have filled the grid with buildings and met the requirements. Your citizens are happy, fulfilled, hard-working, and healthy. ",requirements:{0:{population_count:200,happiness:100,health:100,employment:1,knowledge:50,required_plots:["pub","small_school","community_center"]},1:{population_count:1e3,happiness:120,health:120,employment:1,knowledge:100,required_plots:["bank"]},2:{population_count:1e3,happiness:200,health:200,employment:1,knowledge:1e3,required_plots:["bank","city_hall"]}}},free_play:{short_title:"Quests",description_title:"Play for as long as you can and build the best city you can while completing quests."}};function gb(t){let e,n;const o=[{class:Ve("shrink-0 bg-border",t[1]==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t[0])},{orientation:t[1]},{decorative:t[2]},t[3]];let i={};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new h0({props:i}),{c(){X(e.$$.fragment)},m(r,l){U(e,r,l),n=!0},p(r,[l]){const a=l&15?Te(o,[l&3&&{class:Ve("shrink-0 bg-border",r[1]==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",r[0])},l&2&&{orientation:r[1]},l&4&&{decorative:r[2]},l&8&&ut(r[3])]):{};e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){K(e,r)}}}function bb(t,e,n){const o=["class","orientation","decorative"];let i=se(e,o),{class:r=void 0}=e,{orientation:l="horizontal"}=e,{decorative:a=void 0}=e;return t.$$set=s=>{e=Q(Q({},e),$e(s)),n(3,i=se(e,o)),"class"in s&&n(0,r=s.class),"orientation"in s&&n(1,l=s.orientation),"decorative"in s&&n(2,a=s.decorative)},[r,l,a,i]}class St extends he{constructor(e){super(),pe(this,e,bb,gb,me,{class:0,orientation:1,decorative:2})}}function vb(t){let e;const n=t[3].default,o=_e(n,t,t[4],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&16)&&be(o,n,i,i[4],e?ge(n,i[4],r,null):ve(i[4]),null)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function yb(t){let e,n;const o=[{class:Ve("text-lg font-semibold",t[0])},{level:t[1]},t[2]];let i={$$slots:{default:[vb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new zh({props:i}),{c(){X(e.$$.fragment)},m(r,l){U(e,r,l),n=!0},p(r,[l]){const a=l&7?Te(o,[l&1&&{class:Ve("text-lg font-semibold",r[0])},l&2&&{level:r[1]},l&4&&ut(r[2])]):{};l&16&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){K(e,r)}}}function wb(t,e,n){const o=["class","level"];let i=se(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{level:s="h3"}=e;return t.$$set=u=>{e=Q(Q({},e),$e(u)),n(2,i=se(e,o)),"class"in u&&n(0,a=u.class),"level"in u&&n(1,s=u.level),"$$scope"in u&&n(4,l=u.$$scope)},[a,s,i,r,l]}class Ic extends he{constructor(e){super(),pe(this,e,wb,yb,me,{class:0,level:1})}}const kb=t=>({builder:t&64}),ha=t=>({builder:t[6]});function Cb(t){let e;const n=t[2].default,o=_e(n,t,t[5],ha);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&96)&&be(o,n,i,i[5],e?ge(n,i[5],r,kb):ve(i[5]),ha)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Ab(t){let e,n;const o=[{class:Ve(oo(),t[0])},t[1]];let i={$$slots:{default:[Cb,({builder:r})=>({6:r}),({builder:r})=>r?64:0]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new l_({props:i}),e.$on("click",t[3]),e.$on("keydown",t[4]),{c(){X(e.$$.fragment)},m(r,l){U(e,r,l),n=!0},p(r,[l]){const a=l&3?Te(o,[l&1&&{class:Ve(oo(),r[0])},l&2&&ut(r[1])]):{};l&96&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){K(e,r)}}}function Sb(t,e,n){const o=["class"];let i=se(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(f){ie.call(this,t,f)}function u(f){ie.call(this,t,f)}return t.$$set=f=>{e=Q(Q({},e),$e(f)),n(1,i=se(e,o)),"class"in f&&n(0,a=f.class),"$$scope"in f&&n(5,l=f.$$scope)},[a,i,r,s,u,l]}class Nc extends he{constructor(e){super(),pe(this,e,Sb,Ab,me,{class:0})}}const Tb=t=>({builder:t&64}),_a=t=>({builder:t[6]});function Mb(t){let e;const n=t[2].default,o=_e(n,t,t[5],_a);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&96)&&be(o,n,i,i[5],e?ge(n,i[5],r,Tb):ve(i[5]),_a)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Ob(t){let e,n;const o=[{class:Ve(oo({variant:"default"}),"mt-2 sm:mt-0",t[0])},t[1]];let i={$$slots:{default:[Mb,({builder:r})=>({6:r}),({builder:r})=>r?64:0]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new m_({props:i}),e.$on("click",t[3]),e.$on("keydown",t[4]),{c(){X(e.$$.fragment)},m(r,l){U(e,r,l),n=!0},p(r,[l]){const a=l&3?Te(o,[l&1&&{class:Ve(oo({variant:"default"}),"mt-2 sm:mt-0",r[0])},l&2&&ut(r[1])]):{};l&96&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){K(e,r)}}}function Ib(t,e,n){const o=["class"];let i=se(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(f){ie.call(this,t,f)}function u(f){ie.call(this,t,f)}return t.$$set=f=>{e=Q(Q({},e),$e(f)),n(1,i=se(e,o)),"class"in f&&n(0,a=f.class),"$$scope"in f&&n(5,l=f.$$scope)},[a,i,r,s,u,l]}class Pc extends he{constructor(e){super(),pe(this,e,Ib,Ob,me,{class:0})}}function Nb(t){let e;const n=t[1].default,o=_e(n,t,t[2],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&4)&&be(o,n,i,i[2],e?ge(n,i[2],r,null):ve(i[2]),null)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Pb(t){let e,n;const o=[t[0]];let i={$$slots:{default:[Nb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new y_({props:i}),{c(){X(e.$$.fragment)},m(r,l){U(e,r,l),n=!0},p(r,[l]){const a=l&1?Te(o,[ut(r[0])]):{};l&4&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){K(e,r)}}}function Eb(t,e,n){const o=[];let i=se(e,o),{$$slots:r={},$$scope:l}=e;return t.$$set=a=>{e=Q(Q({},e),$e(a)),n(0,i=se(e,o)),"$$scope"in a&&n(2,l=a.$$scope)},[i,r,l]}class Rb extends he{constructor(e){super(),pe(this,e,Eb,Pb,me,{})}}function Lb(t){let e,n,o;const i=t[3].default,r=_e(i,t,t[2],null);let l=[{class:n=Ve("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=Q(a,l[s]);return{c(){e=I("div"),r&&r.c(),fe(e,a)},m(s,u){O(s,e,u),r&&r.m(e,null),o=!0},p(s,[u]){r&&r.p&&(!o||u&4)&&be(r,i,s,s[2],o?ge(i,s[2],u,null):ve(s[2]),null),fe(e,a=Te(l,[(!o||u&1&&n!==(n=Ve("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(C(r,s),o=!0)},o(s){S(r,s),o=!1},d(s){s&&M(e),r&&r.d(s)}}}function $b(t,e,n){const o=["class"];let i=se(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Q(Q({},e),$e(s)),n(1,i=se(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,i,l,r]}class nr extends he{constructor(e){super(),pe(this,e,$b,Lb,me,{class:0})}}function Db(t){let e,n,o;const i=t[3].default,r=_e(i,t,t[2],null);let l=[{class:n=Ve("flex flex-col space-y-2 text-center sm:text-left",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=Q(a,l[s]);return{c(){e=I("div"),r&&r.c(),fe(e,a)},m(s,u){O(s,e,u),r&&r.m(e,null),o=!0},p(s,[u]){r&&r.p&&(!o||u&4)&&be(r,i,s,s[2],o?ge(i,s[2],u,null):ve(s[2]),null),fe(e,a=Te(l,[(!o||u&1&&n!==(n=Ve("flex flex-col space-y-2 text-center sm:text-left",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(C(r,s),o=!0)},o(s){S(r,s),o=!1},d(s){s&&M(e),r&&r.d(s)}}}function qb(t,e,n){const o=["class"];let i=se(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Q(Q({},e),$e(s)),n(1,i=se(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,i,l,r]}class kl extends he{constructor(e){super(),pe(this,e,qb,Db,me,{class:0})}}function Fb(t){let e,n;const o=[{transition:t[1]},{transitionConfig:t[2]},{class:Ve("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm ",t[0])},t[3]];let i={};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new Y_({props:i}),{c(){X(e.$$.fragment)},m(r,l){U(e,r,l),n=!0},p(r,[l]){const a=l&15?Te(o,[l&2&&{transition:r[1]},l&4&&{transitionConfig:r[2]},l&1&&{class:Ve("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm ",r[0])},l&8&&ut(r[3])]):{};e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){K(e,r)}}}function Bb(t,e,n){const o=["class","transition","transitionConfig"];let i=se(e,o),{class:r=void 0}=e,{transition:l=Oc}=e,{transitionConfig:a={duration:150}}=e;return t.$$set=s=>{e=Q(Q({},e),$e(s)),n(3,i=se(e,o)),"class"in s&&n(0,r=s.class),"transition"in s&&n(1,l=s.transition),"transitionConfig"in s&&n(2,a=s.transitionConfig)},[r,l,a,i]}class jb extends he{constructor(e){super(),pe(this,e,Bb,Fb,me,{class:0,transition:1,transitionConfig:2})}}function Hb(t){let e;const n=t[4].default,o=_e(n,t,t[5],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&32)&&be(o,n,i,i[5],e?ge(n,i[5],r,null):ve(i[5]),null)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Gb(t){let e,n,o,i;e=new jb({});const r=[{transition:t[0]},{transitionConfig:t[1]},{class:Ve("fixed rounded-2xl left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-sidebarBackground text-sidebarText p-6 shadow-lg md:w-full",t[2])},t[3]];let l={$$slots:{default:[Hb]},$$scope:{ctx:t}};for(let a=0;a<r.length;a+=1)l=Q(l,r[a]);return o=new $_({props:l}),{c(){X(e.$$.fragment),n=B(),X(o.$$.fragment)},m(a,s){U(e,a,s),O(a,n,s),U(o,a,s),i=!0},p(a,s){const u=s&15?Te(r,[s&1&&{transition:a[0]},s&2&&{transitionConfig:a[1]},s&4&&{class:Ve("fixed rounded-2xl left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-sidebarBackground text-sidebarText p-6 shadow-lg md:w-full",a[2])},s&8&&ut(a[3])]):{};s&32&&(u.$$scope={dirty:s,ctx:a}),o.$set(u)},i(a){i||(C(e.$$.fragment,a),C(o.$$.fragment,a),i=!0)},o(a){S(e.$$.fragment,a),S(o.$$.fragment,a),i=!1},d(a){a&&M(n),K(e,a),K(o,a)}}}function Vb(t){let e,n;return e=new Rb({props:{$$slots:{default:[Gb]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,[i]){const r={};i&47&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function Wb(t,e,n){const o=["transition","transitionConfig","class"];let i=se(e,o),{$$slots:r={},$$scope:l}=e,{transition:a=Ji}=e,{transitionConfig:s=void 0}=e,{class:u=void 0}=e;return t.$$set=f=>{e=Q(Q({},e),$e(f)),n(3,i=se(e,o)),"transition"in f&&n(0,a=f.transition),"transitionConfig"in f&&n(1,s=f.transitionConfig),"class"in f&&n(2,u=f.class),"$$scope"in f&&n(5,l=f.$$scope)},[a,s,u,i,r,l]}class or extends he{constructor(e){super(),pe(this,e,Wb,Vb,me,{transition:0,transitionConfig:1,class:2})}}function Yb(t){let e;const n=t[2].default,o=_e(n,t,t[3],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&8)&&be(o,n,i,i[3],e?ge(n,i[3],r,null):ve(i[3]),null)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Ub(t){let e,n;const o=[{class:Ve("text-sm text-muted-foreground",t[0])},t[1]];let i={$$slots:{default:[Yb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new Q_({props:i}),{c(){X(e.$$.fragment)},m(r,l){U(e,r,l),n=!0},p(r,[l]){const a=l&3?Te(o,[l&1&&{class:Ve("text-sm text-muted-foreground",r[0])},l&2&&ut(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){K(e,r)}}}function Kb(t,e,n){const o=["class"];let i=se(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Q(Q({},e),$e(s)),n(1,i=se(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,l=s.$$scope)},[a,i,r,l]}class Cl extends he{constructor(e){super(),pe(this,e,Kb,Ub,me,{class:0})}}const ir=Uh;function ga(t,e,n){const o=t.slice();return o[27]=e[n],o}function ba(t,e,n){const o=t.slice();return o[30]=e[n],o}function Xb(t){let e;return{c(){e=G("Pause Menu")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function Jb(t){let e;return{c(){e=G("Unpause any time by pressing 'P'")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function xb(t){let e,n,o,i;return e=new Dn({props:{$$slots:{default:[Xb]},$$scope:{ctx:t}}}),o=new Bn({props:{$$slots:{default:[Jb]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=B(),X(o.$$.fragment)},m(r,l){U(e,r,l),O(r,n,l),U(o,r,l),i=!0},p(r,l){const a={};l[1]&4&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l[1]&4&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&M(n),K(e,r),K(o,r)}}}function va(t){let e,n,o,i,r,l=JSON.stringify(t[5].requirements[t[2].difficulty].population_count)+"",a,s,u=JSON.stringify(t[2].townInfo.population_count)+"",f,c,d,h,m=JSON.stringify(t[5].requirements[t[2].difficulty].happiness)+"",p,g,A=JSON.stringify(t[2].townInfo.happiness)+"",b,w,E,D,$=JSON.stringify(t[5].requirements[t[2].difficulty].employment*100)+"",R,j,F=JSON.stringify((t[2].townInfo.employees/t[2].townInfo.population_count||0)*100)+"",N,T,k,y,L,V=JSON.stringify(t[5].requirements[t[2].difficulty].health)+"",q,x,W=JSON.stringify(t[2].townInfo.health)+"",Y,te,z,ne,re=JSON.stringify(t[5].requirements[t[2].difficulty].knowledge)+"",le,_,J=JSON.stringify(t[2].townInfo.knowledge_points)+"",Z,ce,ye;function Ce(ke,xe){return ke[2].townInfo.population_count>=ke[5].requirements[ke[2].difficulty].population_count?Qb:Zb}let qe=Ce(t),Pe=qe(t);function Ze(ke,xe){return ke[2].townInfo.happiness>=ke[5].requirements[ke[2].difficulty].happiness?ev:zb}let de=Ze(t),Ne=de(t);function He(ke,xe){return ke[2].townInfo.employees/ke[2].townInfo.population_count>=ke[5].requirements[ke[2].difficulty].employment?nv:tv}let Je=He(t),Ke=Je(t);function Ge(ke,xe){return ke[2].townInfo.health>=ke[5].requirements[ke[2].difficulty].health?iv:ov}let Ae=Ge(t),we=Ae(t);function Ee(ke,xe){return ke[2].townInfo.knowledge_points>=ke[5].requirements[ke[2].difficulty].knowledge?lv:rv}let Qe=Ee(t),st=Qe(t),rt=t[5].requirements[t[2].difficulty].required_plots!=null&&t[5].requirements[t[2].difficulty].required_plots.length>0&&ya(t);return{c(){e=I("div"),e.textContent=`With your difficulty (${t[6]}), you must also have:`,n=B(),o=I("ul"),i=I("li"),Pe.c(),r=G(`
                  Population: `),a=G(l),s=G(" - Currently at "),f=G(u),c=B(),d=I("li"),Ne.c(),h=G(`
                  Happiness: `),p=G(m),g=G(" - Currently at "),b=G(A),w=B(),E=I("li"),Ke.c(),D=G(`
                  Employment: `),R=G($),j=G("% - Currently at "),N=G(F),T=G("%"),k=B(),y=I("li"),we.c(),L=G(`
                  Health: `),q=G(V),x=G(" - Currently at "),Y=G(W),te=B(),z=I("li"),st.c(),ne=G(`
                  Knowledge: `),le=G(re),_=G(" - Currently at "),Z=G(J),ce=B(),rt&&rt.c(),ye=De(),P(e,"class","leading-relaxed text-sm"),P(o,"class","list-inside list-disc leading-relaxedmt-0 text-sm")},m(ke,xe){O(ke,e,xe),O(ke,n,xe),O(ke,o,xe),v(o,i),Pe.m(i,null),v(i,r),v(i,a),v(i,s),v(i,f),v(o,c),v(o,d),Ne.m(d,null),v(d,h),v(d,p),v(d,g),v(d,b),v(o,w),v(o,E),Ke.m(E,null),v(E,D),v(E,R),v(E,j),v(E,N),v(E,T),v(o,k),v(o,y),we.m(y,null),v(y,L),v(y,q),v(y,x),v(y,Y),v(o,te),v(o,z),st.m(z,null),v(z,ne),v(z,le),v(z,_),v(z,Z),O(ke,ce,xe),rt&&rt.m(ke,xe),O(ke,ye,xe)},p(ke,xe){qe!==(qe=Ce(ke))&&(Pe.d(1),Pe=qe(ke),Pe&&(Pe.c(),Pe.m(i,r))),xe[0]&4&&l!==(l=JSON.stringify(ke[5].requirements[ke[2].difficulty].population_count)+"")&&ae(a,l),xe[0]&4&&u!==(u=JSON.stringify(ke[2].townInfo.population_count)+"")&&ae(f,u),de!==(de=Ze(ke))&&(Ne.d(1),Ne=de(ke),Ne&&(Ne.c(),Ne.m(d,h))),xe[0]&4&&m!==(m=JSON.stringify(ke[5].requirements[ke[2].difficulty].happiness)+"")&&ae(p,m),xe[0]&4&&A!==(A=JSON.stringify(ke[2].townInfo.happiness)+"")&&ae(b,A),Je!==(Je=He(ke))&&(Ke.d(1),Ke=Je(ke),Ke&&(Ke.c(),Ke.m(E,D))),xe[0]&4&&$!==($=JSON.stringify(ke[5].requirements[ke[2].difficulty].employment*100)+"")&&ae(R,$),xe[0]&4&&F!==(F=JSON.stringify((ke[2].townInfo.employees/ke[2].townInfo.population_count||0)*100)+"")&&ae(N,F),Ae!==(Ae=Ge(ke))&&(we.d(1),we=Ae(ke),we&&(we.c(),we.m(y,L))),xe[0]&4&&V!==(V=JSON.stringify(ke[5].requirements[ke[2].difficulty].health)+"")&&ae(q,V),xe[0]&4&&W!==(W=JSON.stringify(ke[2].townInfo.health)+"")&&ae(Y,W),Qe!==(Qe=Ee(ke))&&(st.d(1),st=Qe(ke),st&&(st.c(),st.m(z,ne))),xe[0]&4&&re!==(re=JSON.stringify(ke[5].requirements[ke[2].difficulty].knowledge)+"")&&ae(le,re),xe[0]&4&&J!==(J=JSON.stringify(ke[2].townInfo.knowledge_points)+"")&&ae(Z,J),ke[5].requirements[ke[2].difficulty].required_plots!=null&&ke[5].requirements[ke[2].difficulty].required_plots.length>0?rt?rt.p(ke,xe):(rt=ya(ke),rt.c(),rt.m(ye.parentNode,ye)):rt&&(rt.d(1),rt=null)},d(ke){ke&&(M(e),M(n),M(o),M(ce),M(ye)),Pe.d(),Ne.d(),Ke.d(),we.d(),st.d(),rt&&rt.d(ke)}}}function Zb(t){let e;return{c(){e=G("❌")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function Qb(t){let e;return{c(){e=G("✅")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function zb(t){let e;return{c(){e=G("❌")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function ev(t){let e;return{c(){e=G("✅")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function tv(t){let e;return{c(){e=G("❌")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function nv(t){let e;return{c(){e=G("✅")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function ov(t){let e;return{c(){e=G("❌")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function iv(t){let e;return{c(){e=G("✅")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function rv(t){let e;return{c(){e=G("❌")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function lv(t){let e;return{c(){e=G("✅")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function ya(t){let e,n,o,i=Ue(t[5].requirements[t[2].difficulty].required_plots),r=[];for(let l=0;l<i.length;l+=1)r[l]=wa(ba(t,i,l));return{c(){e=I("br"),n=G(`
                You also need to have these plots:
                `);for(let l=0;l<r.length;l+=1)r[l].c();o=De()},m(l,a){O(l,e,a),O(l,n,a);for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(l,a);O(l,o,a)},p(l,a){if(a[0]&36){i=Ue(l[5].requirements[l[2].difficulty].required_plots);let s;for(s=0;s<i.length;s+=1){const u=ba(l,i,s);r[s]?r[s].p(u,a):(r[s]=wa(u),r[s].c(),r[s].m(o.parentNode,o))}for(;s<r.length;s+=1)r[s].d(1);r.length=i.length}},d(l){l&&(M(e),M(n),M(o)),at(r,l)}}}function sv(t){let e;return{c(){e=G("❌")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function av(t){let e;return{c(){e=G("✅")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function wa(t){let e,n,o,i,r=t[30]+"",l,a;function s(c,d){return d[0]&4&&(o=null),o==null&&(o=Be(c[30],c[2]).length>0),o?av:sv}let u=s(t,[-1,-1]),f=u(t);return{c(){e=I("div"),n=I("li"),f.c(),i=B(),l=G(r),a=B(),P(e,"class","text-sm")},m(c,d){O(c,e,d),v(e,n),f.m(n,null),v(n,i),v(n,l),v(e,a)},p(c,d){u!==(u=s(c,d))&&(f.d(1),f=u(c),f&&(f.c(),f.m(n,i))),d[0]&4&&r!==(r=c[30]+"")&&ae(l,r)},d(c){c&&M(e),f.d()}}}function uv(t){let e;return{c(){e=G("Save game")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function fv(t){let e;return{c(){e=G("Save")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function cv(t){let e;return{c(){e=G("Upload game")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function dv(t){let e;return{c(){e=G("New Game")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function ka(t){let e,n;function o(){return t[21](t[27])}return e=new At({props:{class:"bg-blue-600 hover:bg-blue-700 mt-4",id:"collectPrize-"+t[27].id,$$slots:{default:[mv]},$$scope:{ctx:t}}}),e.$on("click",o),{c(){X(e.$$.fragment)},m(i,r){U(e,i,r),n=!0},p(i,r){t=i;const l={};r[0]&2&&(l.id="collectPrize-"+t[27].id),r[0]&2|r[1]&4&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(i){n||(C(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){K(e,i)}}}function mv(t){let e,n=Aa(t[27].prize)+"",o,i;return{c(){e=G("Collect Prize: $"),o=G(n),i=G(" gold")},m(r,l){O(r,e,l),O(r,o,l),O(r,i,l)},p(r,l){l[0]&2&&n!==(n=Aa(r[27].prize)+"")&&ae(o,n)},d(r){r&&(M(e),M(o),M(i))}}}function Ca(t){let e,n,o,i,r,l,a=t[27].title+"",s,u,f,c=t[27].requirements+"",d,h,m,p=t[27].icon+"",g,A,b,w=t[27].description+"",E,D,$,R,j=t[8](t[27].id)+"",F,N,T,k=t[13](t[27].id)&&!t[9](t[27].id),y,L,V,q=k&&ka(t);return{c(){e=I("div"),n=I("div"),o=I("div"),i=I("span"),r=I("div"),l=I("span"),s=G(a),u=B(),f=I("div"),d=G(c),h=B(),m=I("div"),g=G(p),A=B(),b=I("div"),E=G(w),D=B(),$=I("div"),R=G("✅ Completed on Day "),F=G(j),T=B(),q&&q.c(),y=B(),P(l,"class","font-semibold text-lg"),P(f,"class","font-thin text-white opacity-75 text-xs"),P(r,"class","flex flex-row gap-3 w-[100%] text- items-center "),P(m,"class","text-sm flex-grow pr-1 break-inside-avoid "),P(i,"class","flex flex-row justify-between w-[100%]"),P(o,"class","min-w-32 flex"),P(b,"class","text-white opacity-75 text-sm font-light"),P($,"class",N=(t[13](t[27].id)?"":"hidden")+" text-xs text-green-400"),P(n,"class","flex-col flex px-3 py-2 gap-0"),P(e,"class",L="flex flex-col gap-3 cursor-default rounded-md "+(t[13](t[27].id)?"bg-green-700":"bg-gray-500 opacity-35"))},m(x,W){O(x,e,W),v(e,n),v(n,o),v(o,i),v(i,r),v(r,l),v(l,s),v(r,u),v(r,f),v(f,d),v(i,h),v(i,m),v(m,g),v(n,A),v(n,b),v(b,E),v(n,D),v(n,$),v($,R),v($,F),v(n,T),q&&q.m(n,null),v(e,y),V=!0},p(x,W){(!V||W[0]&2)&&a!==(a=x[27].title+"")&&ae(s,a),(!V||W[0]&2)&&c!==(c=x[27].requirements+"")&&ae(d,c),(!V||W[0]&2)&&p!==(p=x[27].icon+"")&&ae(g,p),(!V||W[0]&2)&&w!==(w=x[27].description+"")&&ae(E,w),(!V||W[0]&2)&&j!==(j=x[8](x[27].id)+"")&&ae(F,j),(!V||W[0]&2&&N!==(N=(x[13](x[27].id)?"":"hidden")+" text-xs text-green-400"))&&P($,"class",N),W[0]&2&&(k=x[13](x[27].id)&&!x[9](x[27].id)),k?q?(q.p(x,W),W[0]&2&&C(q,1)):(q=ka(x),q.c(),C(q,1),q.m(n,null)):q&&(Oe(),S(q,1,1,()=>{q=null}),Ie()),(!V||W[0]&2&&L!==(L="flex flex-col gap-3 cursor-default rounded-md "+(x[13](x[27].id)?"bg-green-700":"bg-gray-500 opacity-35")))&&P(e,"class",L)},i(x){V||(C(q),V=!0)},o(x){S(q),V=!1},d(x){x&&M(e),q&&q.d()}}}function pv(t){let e,n,o,i,r,l,a,s,u,f,c,d,h,m,p,g,A,b,w,E,D,$,R,j,F,N,T,k,y,L,V,q,x,W,Y,te,z,ne,re,le,_,J,Z,ce,ye;e=new qn({props:{$$slots:{default:[xb]},$$scope:{ctx:t}}});let Ce=t[2].endGoal=="land"&&va(t);p=new $o({props:{for:"saveButton",class:`cursor-pointer bg-blue-600 rounded-md text-center p-2.5 hover:bg-blue-700 justify-center flex 
					`,$$slots:{default:[uv]},$$scope:{ctx:t}}}),A=new At({props:{class:`
					bg-blue-600 hover:bg-blue-700 hidden
					`,id:"saveButton",$$slots:{default:[fv]},$$scope:{ctx:t}}}),A.$on("click",t[17]),w=new $o({props:{for:"upload",class:`cursor-pointer bg-blue-600 rounded-md text-center p-2.5 hover:bg-blue-700 justify-center flex 
					`,$$slots:{default:[cv]},$$scope:{ctx:t}}}),D=new wl({props:{class:"hidden",type:"file",id:"upload"}}),D.$on("change",t[12]),R=new At({props:{class:`
					bg-blue-600 hover:bg-blue-700
					`,id:"newGame",$$slots:{default:[dv]},$$scope:{ctx:t}}}),R.$on("click",t[18]),F=new St({props:{orientation:"vertical"}});let qe=Ue(t[1]),Pe=[];for(let de=0;de<qe.length;de+=1)Pe[de]=Ca(ga(t,qe,de));const Ze=de=>S(Pe[de],1,1,()=>{Pe[de]=null});return{c(){X(e.$$.fragment),n=B(),o=I("div"),i=I("div"),r=I("div"),l=I("h4"),l.textContent="This game",a=B(),s=I("span"),s.textContent=`${t[5].description_title}`,u=B(),f=I("div"),Ce&&Ce.c(),c=B(),d=I("div"),h=I("div"),m=I("div"),X(p.$$.fragment),g=B(),X(A.$$.fragment),b=B(),X(w.$$.fragment),E=B(),X(D.$$.fragment),$=B(),X(R.$$.fragment),j=B(),X(F.$$.fragment),N=B(),T=I("div"),k=I("h4"),k.textContent=`Your achievement (${t[7].length}
          / ${it.length})`,y=B(),L=I("span"),L.textContent="Track your progress through games & complete challenges!",V=B(),q=I("br"),x=B(),W=I("div"),Y=I("input"),te=B(),z=I("label"),z.textContent="Show completed",ne=B(),re=I("div"),le=I("div");for(let de=0;de<Pe.length;de+=1)Pe[de].c();_=B(),J=I("span"),J.textContent=`Prizes apply to the current game you are in. You can wait to apply
          them until the right time.`,P(l,"class","underline underline-offset-4"),P(s,"class","text-sm text-gray-400"),P(f,"class","mt-6 gap-0 py-0 text-gray-400 text-sm"),P(r,"class","flex-col h-max"),P(m,"class","flex gap-10 justify-start min-w-[100%] w-[100%] items"),P(h,"class","flex flex-col gap-3 h-max"),P(i,"class","flex flex-col gap-6 justify-between"),P(k,"class","underline underline-offset-4"),P(L,"class","text-sm text-gray-400"),P(Y,"type","checkbox"),P(Y,"id","toggle-show-completed"),P(Y,"class","rounded"),P(Y,"tabindex","-1"),Y.checked=localStorage.getItem("showCompletedAchievements")==="true",P(z,"for","toggle-show-completed"),P(z,"class","text-xs text-gray-400 select-none ml-2 no-select cursor-pointer "),P(W,"class","flex items-center"),P(le,"class","flex flex-col gap-4 overflow-scroll pb-20 scroll-smooth"),P(re,"class","overflow-scroll mt-2 h-[55vh]"),P(J,"class","text-sm text-yellow-400 italic"),P(o,"class","flex flex-row w-full gap-10")},m(de,Ne){U(e,de,Ne),O(de,n,Ne),O(de,o,Ne),v(o,i),v(i,r),v(r,l),v(r,a),v(r,s),v(r,u),v(r,f),Ce&&Ce.m(f,null),v(i,c),v(i,d),v(d,h),v(h,m),U(p,m,null),v(m,g),U(A,m,null),v(m,b),U(w,m,null),v(m,E),U(D,m,null),v(m,$),U(R,m,null),v(o,j),U(F,o,null),v(o,N),v(o,T),v(T,k),v(T,y),v(T,L),v(T,V),v(T,q),v(T,x),v(T,W),v(W,Y),v(W,te),v(W,z),v(T,ne),v(T,re),v(re,le);for(let He=0;He<Pe.length;He+=1)Pe[He]&&Pe[He].m(le,null);v(T,_),v(T,J),Z=!0,ce||(ye=[ee(Y,"change",t[19]),ee(Y,"keydown",t[20])],ce=!0)},p(de,Ne){const He={};Ne[1]&4&&(He.$$scope={dirty:Ne,ctx:de}),e.$set(He),de[2].endGoal=="land"?Ce?Ce.p(de,Ne):(Ce=va(de),Ce.c(),Ce.m(f,null)):Ce&&(Ce.d(1),Ce=null);const Je={};Ne[1]&4&&(Je.$$scope={dirty:Ne,ctx:de}),p.$set(Je);const Ke={};Ne[1]&4&&(Ke.$$scope={dirty:Ne,ctx:de}),A.$set(Ke);const Ge={};Ne[1]&4&&(Ge.$$scope={dirty:Ne,ctx:de}),w.$set(Ge);const Ae={};if(Ne[1]&4&&(Ae.$$scope={dirty:Ne,ctx:de}),R.$set(Ae),Ne[0]&9986){qe=Ue(de[1]);let we;for(we=0;we<qe.length;we+=1){const Ee=ga(de,qe,we);Pe[we]?(Pe[we].p(Ee,Ne),C(Pe[we],1)):(Pe[we]=Ca(Ee),Pe[we].c(),C(Pe[we],1),Pe[we].m(le,null))}for(Oe(),we=qe.length;we<Pe.length;we+=1)Ze(we);Ie()}},i(de){if(!Z){C(e.$$.fragment,de),C(p.$$.fragment,de),C(A.$$.fragment,de),C(w.$$.fragment,de),C(D.$$.fragment,de),C(R.$$.fragment,de),C(F.$$.fragment,de);for(let Ne=0;Ne<qe.length;Ne+=1)C(Pe[Ne]);Z=!0}},o(de){S(e.$$.fragment,de),S(p.$$.fragment,de),S(A.$$.fragment,de),S(w.$$.fragment,de),S(D.$$.fragment,de),S(R.$$.fragment,de),S(F.$$.fragment,de),Pe=Pe.filter(Boolean);for(let Ne=0;Ne<Pe.length;Ne+=1)S(Pe[Ne]);Z=!1},d(de){de&&(M(n),M(o)),K(e,de),Ce&&Ce.d(),K(p),K(A),K(w),K(D),K(R),K(F),at(Pe,de),ce=!1,je(ye)}}}function hv(t){let e,n;return e=new Fn({props:{class:" max-w-[90vw] max-h-[90vh] bg-foregroundDark text-accentText",$$slots:{default:[pv]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const r={};i[0]&6|i[1]&4&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function _v(t){var o;let e=((o=t[14]())==null?void 0:o.title)+"",n;return{c(){n=G(e)},m(i,r){O(i,n,r)},p:Me,d(i){i&&M(n)}}}function gv(t){let e,n,o,i;return{c(){var r,l;e=I("div"),n=I("div"),n.textContent=`${(r=t[14]())==null?void 0:r.icon}`,o=B(),i=I("div"),i.textContent=`${(l=t[14]())==null?void 0:l.description}`,P(n,"class","text-center w-[30%] align-middle flex flex-col text-8xl"),P(i,"class","pl-8 w-[80%] align-middle flex flex-col justify-center text-lg"),P(e,"class","flex flex-row align-middle justify-evenly px-6 py-4")},m(r,l){O(r,e,l),v(e,n),v(e,o),v(e,i)},p:Me,d(r){r&&M(e)}}}function bv(t){let e,n,o,i;return e=new Ic({props:{class:"text-center text-xl font-bold",$$slots:{default:[_v]},$$scope:{ctx:t}}}),o=new Cl({props:{$$slots:{default:[gv]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=B(),X(o.$$.fragment)},m(r,l){U(e,r,l),O(r,n,l),U(o,r,l),i=!0},p(r,l){const a={};l[1]&4&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l[1]&4&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&M(n),K(e,r),K(o,r)}}}function vv(t){let e;return{c(){e=G("Close to collect prize")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function yv(t){let e,n;return e=new Pc({props:{$$slots:{default:[vv]},$$scope:{ctx:t}}}),e.$on("click",t[23]),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const r={};i[1]&4&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function wv(t){let e,n,o,i;return e=new kl({props:{$$slots:{default:[bv]},$$scope:{ctx:t}}}),o=new nr({props:{$$slots:{default:[yv]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=B(),X(o.$$.fragment)},m(r,l){U(e,r,l),O(r,n,l),U(o,r,l),i=!0},p(r,l){const a={};l[1]&4&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l[0]&16|l[1]&4&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&M(n),K(e,r),K(o,r)}}}function kv(t){let e,n;return e=new or({props:{$$slots:{default:[wv]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const r={};i[0]&16|i[1]&4&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function Cv(t){let e,n,o,i,r;function l(s){t[22](s)}let a={$$slots:{default:[hv]},$$scope:{ctx:t}};return t[3]!==void 0&&(a.open=t[3]),e=new jn({props:a}),Le.push(()=>hn(e,"open",l)),i=new ir({props:{open:t[4],$$slots:{default:[kv]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),o=B(),X(i.$$.fragment)},m(s,u){U(e,s,u),O(s,o,u),U(i,s,u),r=!0},p(s,u){const f={};u[0]&6|u[1]&4&&(f.$$scope={dirty:u,ctx:s}),!n&&u[0]&8&&(n=!0,f.open=s[3],pn(()=>n=!1)),e.$set(f);const c={};u[0]&16&&(c.open=s[4]),u[0]&16|u[1]&4&&(c.$$scope={dirty:u,ctx:s}),i.$set(c)},i(s){r||(C(e.$$.fragment,s),C(i.$$.fragment,s),r=!0)},o(s){S(e.$$.fragment,s),S(i.$$.fragment,s),r=!1},d(s){s&&M(o),K(e,s),K(i,s)}}}function Aa(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function Av(t){const e=JSON.parse(t);return e.townInfo!=null&&e.difficulty!=null}function Sv(t,e,n){let o,i,r,l,a;ue(t,kt,y=>n(3,o=y)),ue(t,Zt,y=>n(25,i=y)),ue(t,Fe,y=>n(2,r=y)),ue(t,Si,y=>n(16,l=y)),ue(t,Ci,y=>n(4,a=y));const u=Nn[r.endGoal],f=ul[r.difficulty]||0;it.sort((y,L)=>b(y.id)&&!b(L.id)?-1:!b(y.id)&&b(L.id)?1:0);const c=it.filter(y=>b(y.id));function d(y){const L=i.achievements.find(V=>V[0]==y);return L==null?0:`${L[1]} in ${L[2]}.`}function h(y){const L=i.achievements.find(V=>V[0]==y);return L==null?!1:L[3]}function m(y){const L=i.achievements.find(q=>q[0]==y);if(L==null)return;const V=it.find(q=>q.id==y);V!=null&&(Re(Fe,r.townInfo.gold+=V.prize,r),L[3]=!0,Re(Zt,i.achievements=i.achievements.map(q=>q[0]==y?L:q),i))}let p=it;function g(){const y=JSON.stringify(r),L=new Blob([y],{type:"text/plain"}),V=URL.createObjectURL(L),q=document.createElement("a");q.href=V,q.download=`${new Date().toISOString()}.json`,document.body.appendChild(q),q.click(),document.body.removeChild(q),URL.revokeObjectURL(V)}function A(){const L=document.getElementById("upload").files;if(L==null)return;const V=L[0],q=new FileReader;q.onload=function(x){if(x.target==null)return;const W=x.target.result;if(typeof W=="string"){if(!Av(W)){bt.set("Invalid game file");return}wi(JSON.parse(W))}else bt.set("Invalid game file: is not String.")},q.readAsText(V)}function b(y){return i.achievements==null?!1:i.achievements.find(L=>L[0]==y)!=null}function w(){Si.update(y=>!y),localStorage.setItem("showCompletedAchievements",localStorage.getItem("showCompletedAchievements")==="true"?"false":"true")}localStorage.getItem("pauseMenuTab")==null&&(localStorage.setItem("pauseMenuTab","game"),jf.set("game"));function E(){const y=i.achievements[i.achievements.length-1];if(y!=null)return it.find(L=>L.id==y[0])}function D(){Re(kt,o=!0,o),localStorage.setItem("reset","true"),wi()}const $=()=>g(),R=()=>D(),j=()=>{w()},F=y=>{y.key==="p"&&kt.set(!1)},N=y=>{m(y.id);const L=document.getElementById(`collectPrize-${y.id}`);L&&(L.style.display="none")};function T(y){o=y,kt.set(o)}const k=()=>{Re(Ci,a=!1,a)};return t.$$.update=()=>{if(t.$$.dirty[0]&65542&&r)if(l)n(1,p=it);else{n(1,p=[]);for(let y=0;y<it.length;y++)(!b(it[y].id)||!h(it[y].id))&&p.push(it[y])}},[w,p,r,o,a,u,f,c,d,h,m,g,A,b,E,D,l,$,R,j,F,N,T,k]}class Tv extends he{constructor(e){super(),pe(this,e,Sv,Cv,me,{toggleShowCompleted:0},null,[-1,-1])}get toggleShowCompleted(){return this.$$.ctx[0]}}function Mv(){console.log("%cRUNNING STABILITY TESTS...","color: #26bfa5;");let t=0;return console.log("%cPASSED ALL STABILITY TESTS 😍","color: #26bfa5;"),t}function Ov(t){let e=t[0].endGameDetails.win==!0?"You won! 🎉":"You lost! 😭",n;return{c(){n=G(e)},m(o,i){O(o,n,i)},p(o,i){i&1&&e!==(e=o[0].endGameDetails.win==!0?"You won! 🎉":"You lost! 😭")&&ae(n,e)},d(o){o&&M(n)}}}function Iv(t){let e;return{c(){e=G("Keep playin'")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function Nv(t){let e,n=t[0].endGameDetails.msg+"",o,i,r,l,a,s,u,f;return u=new At({props:{class:"bg-accent",$$slots:{default:[Iv]},$$scope:{ctx:t}}}),u.$on("click",t[2]),{c(){e=I("span"),o=G(n),i=B(),r=I("br"),l=B(),a=I("br"),s=B(),X(u.$$.fragment),P(e,"class","text-gray-500 text-sm")},m(c,d){O(c,e,d),v(e,o),O(c,i,d),O(c,r,d),O(c,l,d),O(c,a,d),O(c,s,d),U(u,c,d),f=!0},p(c,d){(!f||d&1)&&n!==(n=c[0].endGameDetails.msg+"")&&ae(o,n);const h={};d&16&&(h.$$scope={dirty:d,ctx:c}),u.$set(h)},i(c){f||(C(u.$$.fragment,c),f=!0)},o(c){S(u.$$.fragment,c),f=!1},d(c){c&&(M(e),M(i),M(r),M(l),M(a),M(s)),K(u,c)}}}function Pv(t){let e,n,o,i;return e=new Dn({props:{$$slots:{default:[Ov]},$$scope:{ctx:t}}}),o=new Bn({props:{$$slots:{default:[Nv]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=B(),X(o.$$.fragment)},m(r,l){U(e,r,l),O(r,n,l),U(o,r,l),i=!0},p(r,l){const a={};l&17&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&17&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&M(n),K(e,r),K(o,r)}}}function Ev(t){let e;return{c(){e=I("span"),e.textContent="Reset the game by pressing SHIFT+ESC",P(e,"class","text-gray-500 text-sm")},m(n,o){O(n,e,o)},p:Me,d(n){n&&M(e)}}}function Rv(t){let e,n,o,i;return e=new qn({props:{$$slots:{default:[Pv]},$$scope:{ctx:t}}}),o=new mo({props:{$$slots:{default:[Ev]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=B(),X(o.$$.fragment)},m(r,l){U(e,r,l),O(r,n,l),U(o,r,l),i=!0},p(r,l){const a={};l&17&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&16&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&M(n),K(e,r),K(o,r)}}}function Lv(t){let e,n;return e=new Fn({props:{class:"bg-foregroundDark text-accentText",$$slots:{default:[Rv]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const r={};i&17&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function $v(t){let e,n,o;function i(l){t[3](l)}let r={$$slots:{default:[Lv]},$$scope:{ctx:t}};return t[1]!==void 0&&(r.open=t[1]),e=new jn({props:r}),Le.push(()=>hn(e,"open",i)),{c(){X(e.$$.fragment)},m(l,a){U(e,l,a),o=!0},p(l,[a]){const s={};a&17&&(s.$$scope={dirty:a,ctx:l}),!n&&a&2&&(n=!0,s.open=l[1],pn(()=>n=!1)),e.$set(s)},i(l){o||(C(e.$$.fragment,l),o=!0)},o(l){S(e.$$.fragment,l),o=!1},d(l){K(e,l)}}}function Dv(t,e,n){let o;ue(t,Fe,a=>n(0,o=a));let i=!1;function r(){let a=o;a.overtime=!0,Fe.set(a),n(1,i=!1),kt.set(!1)}function l(a){i=a,n(1,i),n(0,o)}return t.$$.update=()=>{t.$$.dirty&1&&(o.endGameDetails.msg!=""&&o.overtime==!1?n(1,i=!0):n(1,i=!1))},[o,i,r,l]}class qv extends he{constructor(e){super(),pe(this,e,Dv,$v,me,{})}}function Fv(t){let e;return{c(){e=G("Welcome to Plots!")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function Bv(t){let e;return{c(){e=G("Select a game mode")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function jv(t){let e;return{c(){e=I("p"),e.textContent=`${Nn.free_play.description_title}`,P(e,"class","text-gray-500 text-sm")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function Hv(t){let e;return{c(){e=I("p"),e.textContent=`${Nn.land.description_title}`,P(e,"class","text-gray-500 text-sm")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function Gv(t){let e;return{c(){e=G("Town Name")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function Vv(t){let e;return{c(){e=G("Other game settings")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function Wv(t){let e,n,o,i,r,l,a,s,u,f,c,d,h,m,p,g,A,b,w,E,D,$,R,j,F,N,T,k,y,L=Zv;l=new $o({props:{for:"endGoal",class:"mt-2",$$slots:{default:[Bv]},$$scope:{ctx:t}}});function V(W,Y){return W[0]==="land"?Hv:jv}let q=V(t),x=q(t);return m=new $o({props:{for:"townName",class:"mt-2",$$slots:{default:[Gv]},$$scope:{ctx:t}}}),g=new wl({props:{id:"townName",class:"mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Will be randomized if you leave blank"}}),b=new $o({props:{for:"difficulty",class:"mt-2",$$slots:{default:[Vv]},$$scope:{ctx:t}}}),{c(){e=I("a"),e.textContent="GitHub / Learn how to play",n=B(),o=I("div"),i=B(),r=I("div"),X(l.$$.fragment),a=B(),x.c(),s=B(),u=I("select"),f=I("option"),f.textContent=`${Nn.land.short_title}`,c=I("option"),c.textContent=`${Nn.free_play.short_title}`,d=B(),h=I("div"),X(m.$$.fragment),p=B(),X(g.$$.fragment),A=B(),X(b.$$.fragment),w=B(),E=I("div"),E.innerHTML='<input type="checkbox" id="devMode" class="mt-1"/> <label for="devMode" class="mt-2 svelte-1exvv8p">Dev mode</label>',D=B(),$=I("div"),$.innerHTML=`<input type="checkbox" id="tomPetty" class="mt-1"/> <label for="tomPetty" class="mt-2 svelte-1exvv8p">The &#39;Tom Petty&#39; mode. If your happiness or health reaches 0, you
              lose 90% of your gold and continue the game. You won&#39;t back down.</label>`,R=B(),j=I("div"),j.innerHTML=`<input type="checkbox" id="casual" class="mt-1"/> <label for="casual" class="mt-2 svelte-1exvv8p">Casual game. Faster and easier overall while exposing more of the
              game mechanics.</label>`,F=B(),N=I("div"),N.innerHTML='<input type="checkbox" id="bagOfHolding" class="mt-1"/> <label for="bagOfHolding" class="mt-2 svelte-1exvv8p">Bag of Holding. No resource cap or need to purchase stockpiles.</label>',P(e,"href","https://github.com/josephrcox/plots#how-to-play"),P(e,"class","text-blue-500 text-sm mb-4 hover:underline"),P(e,"target","_blank"),f.__value="land",pi(f,f.__value),c.__value="free_play",pi(c,c.__value),P(u,"id","endGoal"),P(u,"class","mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),P(E,"class","hidden"),P(o,"class","flex flex-col justify-center gap-5 mt-4")},m(W,Y){O(W,e,Y),O(W,n,Y),O(W,o,Y),v(o,i),v(o,r),U(l,r,null),v(r,a),x.m(r,null),v(r,s),v(r,u),v(u,f),v(u,c),$l(u,t[0]),v(o,d),v(o,h),U(m,h,null),v(h,p),U(g,h,null),v(o,A),U(b,o,null),v(o,w),v(o,E),v(o,D),v(o,$),v(o,R),v(o,j),v(o,F),v(o,N),T=!0,k||(y=ee(u,"change",t[4]),k=!0)},p(W,Y){const te={};Y&256&&(te.$$scope={dirty:Y,ctx:W}),l.$set(te),q!==(q=V(W))&&(x.d(1),x=q(W),x&&(x.c(),x.m(r,s))),(!T||Y&1)&&$l(u,W[0]);const z={};Y&256&&(z.$$scope={dirty:Y,ctx:W}),m.$set(z);const ne={};Y&256&&(ne.$$scope={dirty:Y,ctx:W}),b.$set(ne)},i(W){T||(C(L),C(l.$$.fragment,W),C(m.$$.fragment,W),C(g.$$.fragment,W),C(b.$$.fragment,W),T=!0)},o(W){S(L),S(l.$$.fragment,W),S(m.$$.fragment,W),S(g.$$.fragment,W),S(b.$$.fragment,W),T=!1},d(W){W&&(M(e),M(n),M(o)),K(l),x.d(),K(m),K(g),K(b),k=!1,y()}}}function Yv(t){let e,n,o,i;return e=new Dn({props:{$$slots:{default:[Fv]},$$scope:{ctx:t}}}),o=new Bn({props:{$$slots:{default:[Wv]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=B(),X(o.$$.fragment)},m(r,l){U(e,r,l),O(r,n,l),U(o,r,l),i=!0},p(r,l){const a={};l&256&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&257&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&M(n),K(e,r),K(o,r)}}}function Uv(t){let e;return{c(){e=G("Reset user")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function Kv(t){let e,n,o=t[1].username+"",i,r,l,a,s,u,f,c,d;return a=new At({props:{$$slots:{default:[Uv]},$$scope:{ctx:t}}}),a.$on("click",t[5]),{c(){e=I("div"),n=I("span"),i=G(o),r=B(),l=I("div"),X(a.$$.fragment),s=B(),u=I("button"),u.textContent="Start game",P(n,"class","italic opacity-30 text-xs py-2 text-start rounded h-full flex flex-col justify-center mr-10"),P(u,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-md"),P(e,"class","flex flex-row justify-between w-full px-1")},m(h,m){O(h,e,m),v(e,n),v(n,i),v(e,r),v(e,l),U(a,l,null),v(l,s),v(l,u),f=!0,c||(d=[ee(n,"click",t[6]),ee(u,"click",t[3])],c=!0)},p(h,m){(!f||m&2)&&o!==(o=h[1].username+"")&&ae(i,o);const p={};m&256&&(p.$$scope={dirty:m,ctx:h}),a.$set(p)},i(h){f||(C(a.$$.fragment,h),f=!0)},o(h){S(a.$$.fragment,h),f=!1},d(h){h&&M(e),K(a),c=!1,je(d)}}}function Xv(t){let e,n,o,i;return e=new qn({props:{$$slots:{default:[Yv]},$$scope:{ctx:t}}}),o=new mo({props:{$$slots:{default:[Kv]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=B(),X(o.$$.fragment)},m(r,l){U(e,r,l),O(r,n,l),U(o,r,l),i=!0},p(r,l){const a={};l&257&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&258&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&M(n),K(e,r),K(o,r)}}}function Jv(t){let e,n;return e=new Fn({props:{transition:Ji,class:"bg-foregroundDark text-accentText",$$slots:{default:[Xv]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const r={};i&259&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function xv(t){let e,n,o;function i(l){t[7](l)}let r={$$slots:{default:[Jv]},$$scope:{ctx:t}};return t[2].visible!==void 0&&(r.open=t[2].visible),e=new jn({props:r}),Le.push(()=>hn(e,"open",i)),{c(){X(e.$$.fragment)},m(l,a){U(e,l,a),o=!0},p(l,[a]){const s={};a&259&&(s.$$scope={dirty:a,ctx:l}),!n&&a&4&&(n=!0,s.open=l[2].visible,pn(()=>n=!1)),e.$set(s)},i(l){o||(C(e.$$.fragment,l),o=!0)},o(l){S(e.$$.fragment,l),o=!1},d(l){K(e,l)}}}const Zv=!1;function Qv(t,e,n){let o,i;ue(t,Zt,c=>n(1,o=c)),ue(t,Po,c=>n(2,i=c)),kt.set(!1);function r(){const c="1",d=document.getElementById("endGoal").value,h=document.getElementById("townName").value,p=["devMode","tomPetty","casual","bagOfHolding"].filter(b=>document.getElementById(b).checked);Hd(c,d,h,p)}let l="free_play";const a=c=>{n(0,l=c.target.value)};function s(){bt.set("Deleted :)"),localStorage.clear(),window.location.href=""}function u(){const c=prompt("Enter new username");let d=o;d.username=c,Ud(d)}function f(c){t.$$.not_equal(i.visible,c)&&(i.visible=c,Po.set(i))}return[l,o,i,r,a,s,u,f]}class zv extends he{constructor(e){super(),pe(this,e,Qv,xv,me,{})}}function ey(t){let e;return{c(){e=G("Scoreboard")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function ty(t){let e=t[1].description_title+"",n;return{c(){n=G(e)},m(o,i){O(o,n,i)},p:Me,d(o){o&&M(n)}}}function ny(t){let e,n,o,i;return e=new Dn({props:{$$slots:{default:[ey]},$$scope:{ctx:t}}}),o=new Bn({props:{$$slots:{default:[ty]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=B(),X(o.$$.fragment)},m(r,l){U(e,r,l),O(r,n,l),U(o,r,l),i=!0},p(r,l){const a={};l&128&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&128&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&M(n),K(e,r),K(o,r)}}}function oy(t){let e;return{c(){e=G("footer")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function iy(t){let e,n,o,i;return e=new qn({props:{$$slots:{default:[ny]},$$scope:{ctx:t}}}),o=new mo({props:{$$slots:{default:[oy]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=G(`
		hi
		`),X(o.$$.fragment)},m(r,l){U(e,r,l),O(r,n,l),U(o,r,l),i=!0},p(r,l){const a={};l&128&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&128&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&M(n),K(e,r),K(o,r)}}}function ry(t){let e,n;return e=new Fn({props:{$$slots:{default:[iy]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const r={};i&128&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function ly(t){let e,n,o;function i(l){t[3](l)}let r={$$slots:{default:[ry]},$$scope:{ctx:t}};return t[0]!==void 0&&(r.open=t[0]),e=new jn({props:r}),Le.push(()=>hn(e,"open",i)),{c(){X(e.$$.fragment)},m(l,a){U(e,l,a),o=!0},p(l,[a]){const s={};a&128&&(s.$$scope={dirty:a,ctx:l}),!n&&a&1&&(n=!0,s.open=l[0],pn(()=>n=!1)),e.$set(s)},i(l){o||(C(e.$$.fragment,l),o=!0)},o(l){S(e.$$.fragment,l),o=!1},d(l){K(e,l)}}}function sy(t,e,n){let o,i;ue(t,Fe,s=>n(2,o=s)),ue(t,Bl,s=>n(0,i=s));const l=Nn[o.endGoal];ul[o.difficulty];function a(s){i=s,Bl.set(i)}return t.$$.update=()=>{t.$$.dirty&4},[i,l,o,a]}class ay extends he{constructor(e){super(),pe(this,e,sy,ly,me,{})}}function ui(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function uy(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Ec(t){let e,n,o;t.length!==2?(e=ui,n=(a,s)=>ui(t(a),s),o=(a,s)=>t(a)-s):(e=t===ui||t===uy?t:fy,n=t,o=t);function i(a,s,u=0,f=a.length){if(u<f){if(e(s,s)!==0)return f;do{const c=u+f>>>1;n(a[c],s)<0?u=c+1:f=c}while(u<f)}return u}function r(a,s,u=0,f=a.length){if(u<f){if(e(s,s)!==0)return f;do{const c=u+f>>>1;n(a[c],s)<=0?u=c+1:f=c}while(u<f)}return u}function l(a,s,u=0,f=a.length){const c=i(a,s,u,f-1);return c>u&&o(a[c-1],s)>-o(a[c],s)?c-1:c}return{left:i,center:l,right:r}}function fy(){return 0}function cy(t){return t===null?NaN:+t}const dy=Ec(ui),my=dy.right;Ec(cy).center;const py=Math.sqrt(50),hy=Math.sqrt(10),_y=Math.sqrt(2);function Ri(t,e,n){const o=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(o)),r=o/Math.pow(10,i),l=r>=py?10:r>=hy?5:r>=_y?2:1;let a,s,u;return i<0?(u=Math.pow(10,-i)/l,a=Math.round(t*u),s=Math.round(e*u),a/u<t&&++a,s/u>e&&--s,u=-u):(u=Math.pow(10,i)*l,a=Math.round(t/u),s=Math.round(e/u),a*u<t&&++a,s*u>e&&--s),s<a&&.5<=n&&n<2?Ri(t,e,n*2):[a,s,u]}function gy(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const o=e<t,[i,r,l]=o?Ri(e,t,n):Ri(t,e,n);if(!(r>=i))return[];const a=r-i+1,s=new Array(a);if(o)if(l<0)for(let u=0;u<a;++u)s[u]=(r-u)/-l;else for(let u=0;u<a;++u)s[u]=(r-u)*l;else if(l<0)for(let u=0;u<a;++u)s[u]=(i+u)/-l;else for(let u=0;u<a;++u)s[u]=(i+u)*l;return s}function Vr(t,e,n){return e=+e,t=+t,n=+n,Ri(t,e,n)[2]}function by(t,e,n){e=+e,t=+t,n=+n;const o=e<t,i=o?Vr(e,t,n):Vr(t,e,n);return(o?-1:1)*(i<0?1/-i:i)}function vy(t){return t}var Cr=1,Ar=2,Wr=3,To=4,Sa=1e-6;function yy(t){return"translate("+t+",0)"}function wy(t){return"translate(0,"+t+")"}function ky(t){return e=>+t(e)}function Cy(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function Ay(){return!this.__axis}function Rc(t,e){var n=[],o=null,i=null,r=6,l=6,a=3,s=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=t===Cr||t===To?-1:1,f=t===To||t===Ar?"x":"y",c=t===Cr||t===Wr?yy:wy;function d(h){var m=o??(e.ticks?e.ticks.apply(e,n):e.domain()),p=i??(e.tickFormat?e.tickFormat.apply(e,n):vy),g=Math.max(r,0)+a,A=e.range(),b=+A[0]+s,w=+A[A.length-1]+s,E=(e.bandwidth?Cy:ky)(e.copy(),s),D=h.selection?h.selection():h,$=D.selectAll(".domain").data([null]),R=D.selectAll(".tick").data(m,e).order(),j=R.exit(),F=R.enter().append("g").attr("class","tick"),N=R.select("line"),T=R.select("text");$=$.merge($.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),R=R.merge(F),N=N.merge(F.append("line").attr("stroke","currentColor").attr(f+"2",u*r)),T=T.merge(F.append("text").attr("fill","currentColor").attr(f,u*g).attr("dy",t===Cr?"0em":t===Wr?"0.71em":"0.32em")),h!==D&&($=$.transition(h),R=R.transition(h),N=N.transition(h),T=T.transition(h),j=j.transition(h).attr("opacity",Sa).attr("transform",function(k){return isFinite(k=E(k))?c(k+s):this.getAttribute("transform")}),F.attr("opacity",Sa).attr("transform",function(k){var y=this.parentNode.__axis;return c((y&&isFinite(y=y(k))?y:E(k))+s)})),j.remove(),$.attr("d",t===To||t===Ar?l?"M"+u*l+","+b+"H"+s+"V"+w+"H"+u*l:"M"+s+","+b+"V"+w:l?"M"+b+","+u*l+"V"+s+"H"+w+"V"+u*l:"M"+b+","+s+"H"+w),R.attr("opacity",1).attr("transform",function(k){return c(E(k)+s)}),N.attr(f+"2",u*r),T.attr(f,u*g).text(p),D.filter(Ay).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Ar?"start":t===To?"end":"middle"),D.each(function(){this.__axis=E})}return d.scale=function(h){return arguments.length?(e=h,d):e},d.ticks=function(){return n=Array.from(arguments),d},d.tickArguments=function(h){return arguments.length?(n=h==null?[]:Array.from(h),d):n.slice()},d.tickValues=function(h){return arguments.length?(o=h==null?null:Array.from(h),d):o&&o.slice()},d.tickFormat=function(h){return arguments.length?(i=h,d):i},d.tickSize=function(h){return arguments.length?(r=l=+h,d):r},d.tickSizeInner=function(h){return arguments.length?(r=+h,d):r},d.tickSizeOuter=function(h){return arguments.length?(l=+h,d):l},d.tickPadding=function(h){return arguments.length?(a=+h,d):a},d.offset=function(h){return arguments.length?(s=+h,d):s},d}function Sy(t){return Rc(Wr,t)}function Ty(t){return Rc(To,t)}var My={value:()=>{}};function Lc(){for(var t=0,e=arguments.length,n={},o;t<e;++t){if(!(o=arguments[t]+"")||o in n||/[\s.]/.test(o))throw new Error("illegal type: "+o);n[o]=[]}return new fi(n)}function fi(t){this._=t}function Oy(t,e){return t.trim().split(/^|\s+/).map(function(n){var o="",i=n.indexOf(".");if(i>=0&&(o=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:o}})}fi.prototype=Lc.prototype={constructor:fi,on:function(t,e){var n=this._,o=Oy(t+"",n),i,r=-1,l=o.length;if(arguments.length<2){for(;++r<l;)if((i=(t=o[r]).type)&&(i=Iy(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++r<l;)if(i=(t=o[r]).type)n[i]=Ta(n[i],t.name,e);else if(e==null)for(i in n)n[i]=Ta(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new fi(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),o=0,i,r;o<i;++o)n[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=this._[t],o=0,i=r.length;o<i;++o)r[o].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var o=this._[t],i=0,r=o.length;i<r;++i)o[i].value.apply(e,n)}};function Iy(t,e){for(var n=0,o=t.length,i;n<o;++n)if((i=t[n]).name===e)return i.value}function Ta(t,e,n){for(var o=0,i=t.length;o<i;++o)if(t[o].name===e){t[o]=My,t=t.slice(0,o).concat(t.slice(o+1));break}return n!=null&&t.push({name:e,value:n}),t}var Yr="http://www.w3.org/1999/xhtml";const Ma={svg:"http://www.w3.org/2000/svg",xhtml:Yr,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function rr(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Ma.hasOwnProperty(e)?{space:Ma[e],local:t}:t}function Ny(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Yr&&e.documentElement.namespaceURI===Yr?e.createElement(t):e.createElementNS(n,t)}}function Py(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function $c(t){var e=rr(t);return(e.local?Py:Ny)(e)}function Ey(){}function Al(t){return t==null?Ey:function(){return this.querySelector(t)}}function Ry(t){typeof t!="function"&&(t=Al(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var r=e[i],l=r.length,a=o[i]=new Array(l),s,u,f=0;f<l;++f)(s=r[f])&&(u=t.call(s,s.__data__,f,r))&&("__data__"in s&&(u.__data__=s.__data__),a[f]=u);return new Tt(o,this._parents)}function Ly(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function $y(){return[]}function Dc(t){return t==null?$y:function(){return this.querySelectorAll(t)}}function Dy(t){return function(){return Ly(t.apply(this,arguments))}}function qy(t){typeof t=="function"?t=Dy(t):t=Dc(t);for(var e=this._groups,n=e.length,o=[],i=[],r=0;r<n;++r)for(var l=e[r],a=l.length,s,u=0;u<a;++u)(s=l[u])&&(o.push(t.call(s,s.__data__,u,l)),i.push(s));return new Tt(o,i)}function qc(t){return function(){return this.matches(t)}}function Fc(t){return function(e){return e.matches(t)}}var Fy=Array.prototype.find;function By(t){return function(){return Fy.call(this.children,t)}}function jy(){return this.firstElementChild}function Hy(t){return this.select(t==null?jy:By(typeof t=="function"?t:Fc(t)))}var Gy=Array.prototype.filter;function Vy(){return Array.from(this.children)}function Wy(t){return function(){return Gy.call(this.children,t)}}function Yy(t){return this.selectAll(t==null?Vy:Wy(typeof t=="function"?t:Fc(t)))}function Uy(t){typeof t!="function"&&(t=qc(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var r=e[i],l=r.length,a=o[i]=[],s,u=0;u<l;++u)(s=r[u])&&t.call(s,s.__data__,u,r)&&a.push(s);return new Tt(o,this._parents)}function Bc(t){return new Array(t.length)}function Ky(){return new Tt(this._enter||this._groups.map(Bc),this._parents)}function Li(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Li.prototype={constructor:Li,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Xy(t){return function(){return t}}function Jy(t,e,n,o,i,r){for(var l=0,a,s=e.length,u=r.length;l<u;++l)(a=e[l])?(a.__data__=r[l],o[l]=a):n[l]=new Li(t,r[l]);for(;l<s;++l)(a=e[l])&&(i[l]=a)}function xy(t,e,n,o,i,r,l){var a,s,u=new Map,f=e.length,c=r.length,d=new Array(f),h;for(a=0;a<f;++a)(s=e[a])&&(d[a]=h=l.call(s,s.__data__,a,e)+"",u.has(h)?i[a]=s:u.set(h,s));for(a=0;a<c;++a)h=l.call(t,r[a],a,r)+"",(s=u.get(h))?(o[a]=s,s.__data__=r[a],u.delete(h)):n[a]=new Li(t,r[a]);for(a=0;a<f;++a)(s=e[a])&&u.get(d[a])===s&&(i[a]=s)}function Zy(t){return t.__data__}function Qy(t,e){if(!arguments.length)return Array.from(this,Zy);var n=e?xy:Jy,o=this._parents,i=this._groups;typeof t!="function"&&(t=Xy(t));for(var r=i.length,l=new Array(r),a=new Array(r),s=new Array(r),u=0;u<r;++u){var f=o[u],c=i[u],d=c.length,h=zy(t.call(f,f&&f.__data__,u,o)),m=h.length,p=a[u]=new Array(m),g=l[u]=new Array(m),A=s[u]=new Array(d);n(f,c,p,g,A,h,e);for(var b=0,w=0,E,D;b<m;++b)if(E=p[b]){for(b>=w&&(w=b+1);!(D=g[w])&&++w<m;);E._next=D||null}}return l=new Tt(l,o),l._enter=a,l._exit=s,l}function zy(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function ew(){return new Tt(this._exit||this._groups.map(Bc),this._parents)}function tw(t,e,n){var o=this.enter(),i=this,r=this.exit();return typeof t=="function"?(o=t(o),o&&(o=o.selection())):o=o.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?r.remove():n(r),o&&i?o.merge(i).order():i}function nw(t){for(var e=t.selection?t.selection():t,n=this._groups,o=e._groups,i=n.length,r=o.length,l=Math.min(i,r),a=new Array(i),s=0;s<l;++s)for(var u=n[s],f=o[s],c=u.length,d=a[s]=new Array(c),h,m=0;m<c;++m)(h=u[m]||f[m])&&(d[m]=h);for(;s<i;++s)a[s]=n[s];return new Tt(a,this._parents)}function ow(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var o=t[e],i=o.length-1,r=o[i],l;--i>=0;)(l=o[i])&&(r&&l.compareDocumentPosition(r)^4&&r.parentNode.insertBefore(l,r),r=l);return this}function iw(t){t||(t=rw);function e(c,d){return c&&d?t(c.__data__,d.__data__):!c-!d}for(var n=this._groups,o=n.length,i=new Array(o),r=0;r<o;++r){for(var l=n[r],a=l.length,s=i[r]=new Array(a),u,f=0;f<a;++f)(u=l[f])&&(s[f]=u);s.sort(e)}return new Tt(i,this._parents).order()}function rw(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function lw(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function sw(){return Array.from(this)}function aw(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var o=t[e],i=0,r=o.length;i<r;++i){var l=o[i];if(l)return l}return null}function uw(){let t=0;for(const e of this)++t;return t}function fw(){return!this.node()}function cw(t){for(var e=this._groups,n=0,o=e.length;n<o;++n)for(var i=e[n],r=0,l=i.length,a;r<l;++r)(a=i[r])&&t.call(a,a.__data__,r,i);return this}function dw(t){return function(){this.removeAttribute(t)}}function mw(t){return function(){this.removeAttributeNS(t.space,t.local)}}function pw(t,e){return function(){this.setAttribute(t,e)}}function hw(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function _w(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function gw(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function bw(t,e){var n=rr(t);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((e==null?n.local?mw:dw:typeof e=="function"?n.local?gw:_w:n.local?hw:pw)(n,e))}function jc(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function vw(t){return function(){this.style.removeProperty(t)}}function yw(t,e,n){return function(){this.style.setProperty(t,e,n)}}function ww(t,e,n){return function(){var o=e.apply(this,arguments);o==null?this.style.removeProperty(t):this.style.setProperty(t,o,n)}}function kw(t,e,n){return arguments.length>1?this.each((e==null?vw:typeof e=="function"?ww:yw)(t,e,n??"")):io(this.node(),t)}function io(t,e){return t.style.getPropertyValue(e)||jc(t).getComputedStyle(t,null).getPropertyValue(e)}function Cw(t){return function(){delete this[t]}}function Aw(t,e){return function(){this[t]=e}}function Sw(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Tw(t,e){return arguments.length>1?this.each((e==null?Cw:typeof e=="function"?Sw:Aw)(t,e)):this.node()[t]}function Hc(t){return t.trim().split(/^|\s+/)}function Sl(t){return t.classList||new Gc(t)}function Gc(t){this._node=t,this._names=Hc(t.getAttribute("class")||"")}Gc.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Vc(t,e){for(var n=Sl(t),o=-1,i=e.length;++o<i;)n.add(e[o])}function Wc(t,e){for(var n=Sl(t),o=-1,i=e.length;++o<i;)n.remove(e[o])}function Mw(t){return function(){Vc(this,t)}}function Ow(t){return function(){Wc(this,t)}}function Iw(t,e){return function(){(e.apply(this,arguments)?Vc:Wc)(this,t)}}function Nw(t,e){var n=Hc(t+"");if(arguments.length<2){for(var o=Sl(this.node()),i=-1,r=n.length;++i<r;)if(!o.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?Iw:e?Mw:Ow)(n,e))}function Pw(){this.textContent=""}function Ew(t){return function(){this.textContent=t}}function Rw(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Lw(t){return arguments.length?this.each(t==null?Pw:(typeof t=="function"?Rw:Ew)(t)):this.node().textContent}function $w(){this.innerHTML=""}function Dw(t){return function(){this.innerHTML=t}}function qw(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Fw(t){return arguments.length?this.each(t==null?$w:(typeof t=="function"?qw:Dw)(t)):this.node().innerHTML}function Bw(){this.nextSibling&&this.parentNode.appendChild(this)}function jw(){return this.each(Bw)}function Hw(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Gw(){return this.each(Hw)}function Vw(t){var e=typeof t=="function"?t:$c(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Ww(){return null}function Yw(t,e){var n=typeof t=="function"?t:$c(t),o=e==null?Ww:typeof e=="function"?e:Al(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)})}function Uw(){var t=this.parentNode;t&&t.removeChild(this)}function Kw(){return this.each(Uw)}function Xw(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Jw(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function xw(t){return this.select(t?Jw:Xw)}function Zw(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Qw(t){return function(e){t.call(this,e,this.__data__)}}function zw(t){return t.trim().split(/^|\s+/).map(function(e){var n="",o=e.indexOf(".");return o>=0&&(n=e.slice(o+1),e=e.slice(0,o)),{type:e,name:n}})}function e2(t){return function(){var e=this.__on;if(e){for(var n=0,o=-1,i=e.length,r;n<i;++n)r=e[n],(!t.type||r.type===t.type)&&r.name===t.name?this.removeEventListener(r.type,r.listener,r.options):e[++o]=r;++o?e.length=o:delete this.__on}}}function t2(t,e,n){return function(){var o=this.__on,i,r=Qw(e);if(o){for(var l=0,a=o.length;l<a;++l)if((i=o[l]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=r,i.options=n),i.value=e;return}}this.addEventListener(t.type,r,n),i={type:t.type,name:t.name,value:e,listener:r,options:n},o?o.push(i):this.__on=[i]}}function n2(t,e,n){var o=zw(t+""),i,r=o.length,l;if(arguments.length<2){var a=this.node().__on;if(a){for(var s=0,u=a.length,f;s<u;++s)for(i=0,f=a[s];i<r;++i)if((l=o[i]).type===f.type&&l.name===f.name)return f.value}return}for(a=e?t2:e2,i=0;i<r;++i)this.each(a(o[i],e,n));return this}function Yc(t,e,n){var o=jc(t),i=o.CustomEvent;typeof i=="function"?i=new i(e,n):(i=o.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function o2(t,e){return function(){return Yc(this,t,e)}}function i2(t,e){return function(){return Yc(this,t,e.apply(this,arguments))}}function r2(t,e){return this.each((typeof e=="function"?i2:o2)(t,e))}function*l2(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var o=t[e],i=0,r=o.length,l;i<r;++i)(l=o[i])&&(yield l)}var Uc=[null];function Tt(t,e){this._groups=t,this._parents=e}function Uo(){return new Tt([[document.documentElement]],Uc)}function s2(){return this}Tt.prototype=Uo.prototype={constructor:Tt,select:Ry,selectAll:qy,selectChild:Hy,selectChildren:Yy,filter:Uy,data:Qy,enter:Ky,exit:ew,join:tw,merge:nw,selection:s2,order:ow,sort:iw,call:lw,nodes:sw,node:aw,size:uw,empty:fw,each:cw,attr:bw,style:kw,property:Tw,classed:Nw,text:Lw,html:Fw,raise:jw,lower:Gw,append:Vw,insert:Yw,remove:Kw,clone:xw,datum:Zw,on:n2,dispatch:r2,[Symbol.iterator]:l2};function a2(t){return typeof t=="string"?new Tt([[document.querySelector(t)]],[document.documentElement]):new Tt([[t]],Uc)}function Tl(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Kc(t,e){var n=Object.create(t.prototype);for(var o in e)n[o]=e[o];return n}function Ko(){}var jo=.7,$i=1/jo,Qn="\\s*([+-]?\\d+)\\s*",Ho="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Bt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",u2=/^#([0-9a-f]{3,8})$/,f2=new RegExp(`^rgb\\(${Qn},${Qn},${Qn}\\)$`),c2=new RegExp(`^rgb\\(${Bt},${Bt},${Bt}\\)$`),d2=new RegExp(`^rgba\\(${Qn},${Qn},${Qn},${Ho}\\)$`),m2=new RegExp(`^rgba\\(${Bt},${Bt},${Bt},${Ho}\\)$`),p2=new RegExp(`^hsl\\(${Ho},${Bt},${Bt}\\)$`),h2=new RegExp(`^hsla\\(${Ho},${Bt},${Bt},${Ho}\\)$`),Oa={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Tl(Ko,Pn,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Ia,formatHex:Ia,formatHex8:_2,formatHsl:g2,formatRgb:Na,toString:Na});function Ia(){return this.rgb().formatHex()}function _2(){return this.rgb().formatHex8()}function g2(){return Xc(this).formatHsl()}function Na(){return this.rgb().formatRgb()}function Pn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=u2.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Pa(e):n===3?new gt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?ti(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?ti(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=f2.exec(t))?new gt(e[1],e[2],e[3],1):(e=c2.exec(t))?new gt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=d2.exec(t))?ti(e[1],e[2],e[3],e[4]):(e=m2.exec(t))?ti(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=p2.exec(t))?La(e[1],e[2]/100,e[3]/100,1):(e=h2.exec(t))?La(e[1],e[2]/100,e[3]/100,e[4]):Oa.hasOwnProperty(t)?Pa(Oa[t]):t==="transparent"?new gt(NaN,NaN,NaN,0):null}function Pa(t){return new gt(t>>16&255,t>>8&255,t&255,1)}function ti(t,e,n,o){return o<=0&&(t=e=n=NaN),new gt(t,e,n,o)}function b2(t){return t instanceof Ko||(t=Pn(t)),t?(t=t.rgb(),new gt(t.r,t.g,t.b,t.opacity)):new gt}function Ur(t,e,n,o){return arguments.length===1?b2(t):new gt(t,e,n,o??1)}function gt(t,e,n,o){this.r=+t,this.g=+e,this.b=+n,this.opacity=+o}Tl(gt,Ur,Kc(Ko,{brighter(t){return t=t==null?$i:Math.pow($i,t),new gt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?jo:Math.pow(jo,t),new gt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new gt(Cn(this.r),Cn(this.g),Cn(this.b),Di(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ea,formatHex:Ea,formatHex8:v2,formatRgb:Ra,toString:Ra}));function Ea(){return`#${yn(this.r)}${yn(this.g)}${yn(this.b)}`}function v2(){return`#${yn(this.r)}${yn(this.g)}${yn(this.b)}${yn((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ra(){const t=Di(this.opacity);return`${t===1?"rgb(":"rgba("}${Cn(this.r)}, ${Cn(this.g)}, ${Cn(this.b)}${t===1?")":`, ${t})`}`}function Di(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Cn(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function yn(t){return t=Cn(t),(t<16?"0":"")+t.toString(16)}function La(t,e,n,o){return o<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Lt(t,e,n,o)}function Xc(t){if(t instanceof Lt)return new Lt(t.h,t.s,t.l,t.opacity);if(t instanceof Ko||(t=Pn(t)),!t)return new Lt;if(t instanceof Lt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,o=t.b/255,i=Math.min(e,n,o),r=Math.max(e,n,o),l=NaN,a=r-i,s=(r+i)/2;return a?(e===r?l=(n-o)/a+(n<o)*6:n===r?l=(o-e)/a+2:l=(e-n)/a+4,a/=s<.5?r+i:2-r-i,l*=60):a=s>0&&s<1?0:l,new Lt(l,a,s,t.opacity)}function y2(t,e,n,o){return arguments.length===1?Xc(t):new Lt(t,e,n,o??1)}function Lt(t,e,n,o){this.h=+t,this.s=+e,this.l=+n,this.opacity=+o}Tl(Lt,y2,Kc(Ko,{brighter(t){return t=t==null?$i:Math.pow($i,t),new Lt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?jo:Math.pow(jo,t),new Lt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*e,i=2*n-o;return new gt(Sr(t>=240?t-240:t+120,i,o),Sr(t,i,o),Sr(t<120?t+240:t-120,i,o),this.opacity)},clamp(){return new Lt($a(this.h),ni(this.s),ni(this.l),Di(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Di(this.opacity);return`${t===1?"hsl(":"hsla("}${$a(this.h)}, ${ni(this.s)*100}%, ${ni(this.l)*100}%${t===1?")":`, ${t})`}`}}));function $a(t){return t=(t||0)%360,t<0?t+360:t}function ni(t){return Math.max(0,Math.min(1,t||0))}function Sr(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Ml=t=>()=>t;function w2(t,e){return function(n){return t+n*e}}function k2(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(o){return Math.pow(t+o*e,n)}}function C2(t){return(t=+t)==1?Jc:function(e,n){return n-e?k2(e,n,t):Ml(isNaN(e)?n:e)}}function Jc(t,e){var n=e-t;return n?w2(t,n):Ml(isNaN(t)?e:t)}const qi=function t(e){var n=C2(e);function o(i,r){var l=n((i=Ur(i)).r,(r=Ur(r)).r),a=n(i.g,r.g),s=n(i.b,r.b),u=Jc(i.opacity,r.opacity);return function(f){return i.r=l(f),i.g=a(f),i.b=s(f),i.opacity=u(f),i+""}}return o.gamma=t,o}(1);function A2(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,o=e.slice(),i;return function(r){for(i=0;i<n;++i)o[i]=t[i]*(1-r)+e[i]*r;return o}}function S2(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function T2(t,e){var n=e?e.length:0,o=t?Math.min(n,t.length):0,i=new Array(o),r=new Array(n),l;for(l=0;l<o;++l)i[l]=Ol(t[l],e[l]);for(;l<n;++l)r[l]=e[l];return function(a){for(l=0;l<o;++l)r[l]=i[l](a);return r}}function M2(t,e){var n=new Date;return t=+t,e=+e,function(o){return n.setTime(t*(1-o)+e*o),n}}function Rt(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function O2(t,e){var n={},o={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Ol(t[i],e[i]):o[i]=e[i];return function(r){for(i in n)o[i]=n[i](r);return o}}var Kr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Tr=new RegExp(Kr.source,"g");function I2(t){return function(){return t}}function N2(t){return function(e){return t(e)+""}}function xc(t,e){var n=Kr.lastIndex=Tr.lastIndex=0,o,i,r,l=-1,a=[],s=[];for(t=t+"",e=e+"";(o=Kr.exec(t))&&(i=Tr.exec(e));)(r=i.index)>n&&(r=e.slice(n,r),a[l]?a[l]+=r:a[++l]=r),(o=o[0])===(i=i[0])?a[l]?a[l]+=i:a[++l]=i:(a[++l]=null,s.push({i:l,x:Rt(o,i)})),n=Tr.lastIndex;return n<e.length&&(r=e.slice(n),a[l]?a[l]+=r:a[++l]=r),a.length<2?s[0]?N2(s[0].x):I2(e):(e=s.length,function(u){for(var f=0,c;f<e;++f)a[(c=s[f]).i]=c.x(u);return a.join("")})}function Ol(t,e){var n=typeof e,o;return e==null||n==="boolean"?Ml(e):(n==="number"?Rt:n==="string"?(o=Pn(e))?(e=o,qi):xc:e instanceof Pn?qi:e instanceof Date?M2:S2(e)?A2:Array.isArray(e)?T2:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?O2:Rt)(t,e)}function P2(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var Da=180/Math.PI,Xr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Zc(t,e,n,o,i,r){var l,a,s;return(l=Math.sqrt(t*t+e*e))&&(t/=l,e/=l),(s=t*n+e*o)&&(n-=t*s,o-=e*s),(a=Math.sqrt(n*n+o*o))&&(n/=a,o/=a,s/=a),t*o<e*n&&(t=-t,e=-e,s=-s,l=-l),{translateX:i,translateY:r,rotate:Math.atan2(e,t)*Da,skewX:Math.atan(s)*Da,scaleX:l,scaleY:a}}var oi;function E2(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Xr:Zc(e.a,e.b,e.c,e.d,e.e,e.f)}function R2(t){return t==null||(oi||(oi=document.createElementNS("http://www.w3.org/2000/svg","g")),oi.setAttribute("transform",t),!(t=oi.transform.baseVal.consolidate()))?Xr:(t=t.matrix,Zc(t.a,t.b,t.c,t.d,t.e,t.f))}function Qc(t,e,n,o){function i(u){return u.length?u.pop()+" ":""}function r(u,f,c,d,h,m){if(u!==c||f!==d){var p=h.push("translate(",null,e,null,n);m.push({i:p-4,x:Rt(u,c)},{i:p-2,x:Rt(f,d)})}else(c||d)&&h.push("translate("+c+e+d+n)}function l(u,f,c,d){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),d.push({i:c.push(i(c)+"rotate(",null,o)-2,x:Rt(u,f)})):f&&c.push(i(c)+"rotate("+f+o)}function a(u,f,c,d){u!==f?d.push({i:c.push(i(c)+"skewX(",null,o)-2,x:Rt(u,f)}):f&&c.push(i(c)+"skewX("+f+o)}function s(u,f,c,d,h,m){if(u!==c||f!==d){var p=h.push(i(h)+"scale(",null,",",null,")");m.push({i:p-4,x:Rt(u,c)},{i:p-2,x:Rt(f,d)})}else(c!==1||d!==1)&&h.push(i(h)+"scale("+c+","+d+")")}return function(u,f){var c=[],d=[];return u=t(u),f=t(f),r(u.translateX,u.translateY,f.translateX,f.translateY,c,d),l(u.rotate,f.rotate,c,d),a(u.skewX,f.skewX,c,d),s(u.scaleX,u.scaleY,f.scaleX,f.scaleY,c,d),u=f=null,function(h){for(var m=-1,p=d.length,g;++m<p;)c[(g=d[m]).i]=g.x(h);return c.join("")}}}var L2=Qc(E2,"px, ","px)","deg)"),$2=Qc(R2,", ",")",")"),ro=0,Mo=0,Co=0,zc=1e3,Fi,Oo,Bi=0,En=0,lr=0,Go=typeof performance=="object"&&performance.now?performance:Date,ed=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Il(){return En||(ed(D2),En=Go.now()+lr)}function D2(){En=0}function ji(){this._call=this._time=this._next=null}ji.prototype=td.prototype={constructor:ji,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Il():+n)+(e==null?0:+e),!this._next&&Oo!==this&&(Oo?Oo._next=this:Fi=this,Oo=this),this._call=t,this._time=n,Jr()},stop:function(){this._call&&(this._call=null,this._time=1/0,Jr())}};function td(t,e,n){var o=new ji;return o.restart(t,e,n),o}function q2(){Il(),++ro;for(var t=Fi,e;t;)(e=En-t._time)>=0&&t._call.call(void 0,e),t=t._next;--ro}function qa(){En=(Bi=Go.now())+lr,ro=Mo=0;try{q2()}finally{ro=0,B2(),En=0}}function F2(){var t=Go.now(),e=t-Bi;e>zc&&(lr-=e,Bi=t)}function B2(){for(var t,e=Fi,n,o=1/0;e;)e._call?(o>e._time&&(o=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Fi=n);Oo=t,Jr(o)}function Jr(t){if(!ro){Mo&&(Mo=clearTimeout(Mo));var e=t-En;e>24?(t<1/0&&(Mo=setTimeout(qa,t-Go.now()-lr)),Co&&(Co=clearInterval(Co))):(Co||(Bi=Go.now(),Co=setInterval(F2,zc)),ro=1,ed(qa))}}function Fa(t,e,n){var o=new ji;return e=e==null?0:+e,o.restart(i=>{o.stop(),t(i+e)},e,n),o}var j2=Lc("start","end","cancel","interrupt"),H2=[],nd=0,Ba=1,xr=2,ci=3,ja=4,Zr=5,di=6;function sr(t,e,n,o,i,r){var l=t.__transition;if(!l)t.__transition={};else if(n in l)return;G2(t,n,{name:e,index:o,group:i,on:j2,tween:H2,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:nd})}function Nl(t,e){var n=Dt(t,e);if(n.state>nd)throw new Error("too late; already scheduled");return n}function Yt(t,e){var n=Dt(t,e);if(n.state>ci)throw new Error("too late; already running");return n}function Dt(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function G2(t,e,n){var o=t.__transition,i;o[e]=n,n.timer=td(r,0,n.time);function r(u){n.state=Ba,n.timer.restart(l,n.delay,n.time),n.delay<=u&&l(u-n.delay)}function l(u){var f,c,d,h;if(n.state!==Ba)return s();for(f in o)if(h=o[f],h.name===n.name){if(h.state===ci)return Fa(l);h.state===ja?(h.state=di,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete o[f]):+f<e&&(h.state=di,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete o[f])}if(Fa(function(){n.state===ci&&(n.state=ja,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=xr,n.on.call("start",t,t.__data__,n.index,n.group),n.state===xr){for(n.state=ci,i=new Array(d=n.tween.length),f=0,c=-1;f<d;++f)(h=n.tween[f].value.call(t,t.__data__,n.index,n.group))&&(i[++c]=h);i.length=c+1}}function a(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(s),n.state=Zr,1),c=-1,d=i.length;++c<d;)i[c].call(t,f);n.state===Zr&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){n.state=di,n.timer.stop(),delete o[e];for(var u in o)return;delete t.__transition}}function V2(t,e){var n=t.__transition,o,i,r=!0,l;if(n){e=e==null?null:e+"";for(l in n){if((o=n[l]).name!==e){r=!1;continue}i=o.state>xr&&o.state<Zr,o.state=di,o.timer.stop(),o.on.call(i?"interrupt":"cancel",t,t.__data__,o.index,o.group),delete n[l]}r&&delete t.__transition}}function W2(t){return this.each(function(){V2(this,t)})}function Y2(t,e){var n,o;return function(){var i=Yt(this,t),r=i.tween;if(r!==n){o=n=r;for(var l=0,a=o.length;l<a;++l)if(o[l].name===e){o=o.slice(),o.splice(l,1);break}}i.tween=o}}function U2(t,e,n){var o,i;if(typeof n!="function")throw new Error;return function(){var r=Yt(this,t),l=r.tween;if(l!==o){i=(o=l).slice();for(var a={name:e,value:n},s=0,u=i.length;s<u;++s)if(i[s].name===e){i[s]=a;break}s===u&&i.push(a)}r.tween=i}}function K2(t,e){var n=this._id;if(t+="",arguments.length<2){for(var o=Dt(this.node(),n).tween,i=0,r=o.length,l;i<r;++i)if((l=o[i]).name===t)return l.value;return null}return this.each((e==null?Y2:U2)(n,t,e))}function Pl(t,e,n){var o=t._id;return t.each(function(){var i=Yt(this,o);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return Dt(i,o).value[e]}}function od(t,e){var n;return(typeof e=="number"?Rt:e instanceof Pn?qi:(n=Pn(e))?(e=n,qi):xc)(t,e)}function X2(t){return function(){this.removeAttribute(t)}}function J2(t){return function(){this.removeAttributeNS(t.space,t.local)}}function x2(t,e,n){var o,i=n+"",r;return function(){var l=this.getAttribute(t);return l===i?null:l===o?r:r=e(o=l,n)}}function Z2(t,e,n){var o,i=n+"",r;return function(){var l=this.getAttributeNS(t.space,t.local);return l===i?null:l===o?r:r=e(o=l,n)}}function Q2(t,e,n){var o,i,r;return function(){var l,a=n(this),s;return a==null?void this.removeAttribute(t):(l=this.getAttribute(t),s=a+"",l===s?null:l===o&&s===i?r:(i=s,r=e(o=l,a)))}}function z2(t,e,n){var o,i,r;return function(){var l,a=n(this),s;return a==null?void this.removeAttributeNS(t.space,t.local):(l=this.getAttributeNS(t.space,t.local),s=a+"",l===s?null:l===o&&s===i?r:(i=s,r=e(o=l,a)))}}function ek(t,e){var n=rr(t),o=n==="transform"?$2:od;return this.attrTween(t,typeof e=="function"?(n.local?z2:Q2)(n,o,Pl(this,"attr."+t,e)):e==null?(n.local?J2:X2)(n):(n.local?Z2:x2)(n,o,e))}function tk(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function nk(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function ok(t,e){var n,o;function i(){var r=e.apply(this,arguments);return r!==o&&(n=(o=r)&&nk(t,r)),n}return i._value=e,i}function ik(t,e){var n,o;function i(){var r=e.apply(this,arguments);return r!==o&&(n=(o=r)&&tk(t,r)),n}return i._value=e,i}function rk(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var o=rr(t);return this.tween(n,(o.local?ok:ik)(o,e))}function lk(t,e){return function(){Nl(this,t).delay=+e.apply(this,arguments)}}function sk(t,e){return e=+e,function(){Nl(this,t).delay=e}}function ak(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?lk:sk)(e,t)):Dt(this.node(),e).delay}function uk(t,e){return function(){Yt(this,t).duration=+e.apply(this,arguments)}}function fk(t,e){return e=+e,function(){Yt(this,t).duration=e}}function ck(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?uk:fk)(e,t)):Dt(this.node(),e).duration}function dk(t,e){if(typeof e!="function")throw new Error;return function(){Yt(this,t).ease=e}}function mk(t){var e=this._id;return arguments.length?this.each(dk(e,t)):Dt(this.node(),e).ease}function pk(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Yt(this,t).ease=n}}function hk(t){if(typeof t!="function")throw new Error;return this.each(pk(this._id,t))}function _k(t){typeof t!="function"&&(t=qc(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var r=e[i],l=r.length,a=o[i]=[],s,u=0;u<l;++u)(s=r[u])&&t.call(s,s.__data__,u,r)&&a.push(s);return new zt(o,this._parents,this._name,this._id)}function gk(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,o=e.length,i=n.length,r=Math.min(o,i),l=new Array(o),a=0;a<r;++a)for(var s=e[a],u=n[a],f=s.length,c=l[a]=new Array(f),d,h=0;h<f;++h)(d=s[h]||u[h])&&(c[h]=d);for(;a<o;++a)l[a]=e[a];return new zt(l,this._parents,this._name,this._id)}function bk(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function vk(t,e,n){var o,i,r=bk(e)?Nl:Yt;return function(){var l=r(this,t),a=l.on;a!==o&&(i=(o=a).copy()).on(e,n),l.on=i}}function yk(t,e){var n=this._id;return arguments.length<2?Dt(this.node(),n).on.on(t):this.each(vk(n,t,e))}function wk(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function kk(){return this.on("end.remove",wk(this._id))}function Ck(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Al(t));for(var o=this._groups,i=o.length,r=new Array(i),l=0;l<i;++l)for(var a=o[l],s=a.length,u=r[l]=new Array(s),f,c,d=0;d<s;++d)(f=a[d])&&(c=t.call(f,f.__data__,d,a))&&("__data__"in f&&(c.__data__=f.__data__),u[d]=c,sr(u[d],e,n,d,u,Dt(f,n)));return new zt(r,this._parents,e,n)}function Ak(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Dc(t));for(var o=this._groups,i=o.length,r=[],l=[],a=0;a<i;++a)for(var s=o[a],u=s.length,f,c=0;c<u;++c)if(f=s[c]){for(var d=t.call(f,f.__data__,c,s),h,m=Dt(f,n),p=0,g=d.length;p<g;++p)(h=d[p])&&sr(h,e,n,p,d,m);r.push(d),l.push(f)}return new zt(r,l,e,n)}var Sk=Uo.prototype.constructor;function Tk(){return new Sk(this._groups,this._parents)}function Mk(t,e){var n,o,i;return function(){var r=io(this,t),l=(this.style.removeProperty(t),io(this,t));return r===l?null:r===n&&l===o?i:i=e(n=r,o=l)}}function id(t){return function(){this.style.removeProperty(t)}}function Ok(t,e,n){var o,i=n+"",r;return function(){var l=io(this,t);return l===i?null:l===o?r:r=e(o=l,n)}}function Ik(t,e,n){var o,i,r;return function(){var l=io(this,t),a=n(this),s=a+"";return a==null&&(s=a=(this.style.removeProperty(t),io(this,t))),l===s?null:l===o&&s===i?r:(i=s,r=e(o=l,a))}}function Nk(t,e){var n,o,i,r="style."+e,l="end."+r,a;return function(){var s=Yt(this,t),u=s.on,f=s.value[r]==null?a||(a=id(e)):void 0;(u!==n||i!==f)&&(o=(n=u).copy()).on(l,i=f),s.on=o}}function Pk(t,e,n){var o=(t+="")=="transform"?L2:od;return e==null?this.styleTween(t,Mk(t,o)).on("end.style."+t,id(t)):typeof e=="function"?this.styleTween(t,Ik(t,o,Pl(this,"style."+t,e))).each(Nk(this._id,t)):this.styleTween(t,Ok(t,o,e),n).on("end.style."+t,null)}function Ek(t,e,n){return function(o){this.style.setProperty(t,e.call(this,o),n)}}function Rk(t,e,n){var o,i;function r(){var l=e.apply(this,arguments);return l!==i&&(o=(i=l)&&Ek(t,l,n)),o}return r._value=e,r}function Lk(t,e,n){var o="style."+(t+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(e==null)return this.tween(o,null);if(typeof e!="function")throw new Error;return this.tween(o,Rk(t,e,n??""))}function $k(t){return function(){this.textContent=t}}function Dk(t){return function(){var e=t(this);this.textContent=e??""}}function qk(t){return this.tween("text",typeof t=="function"?Dk(Pl(this,"text",t)):$k(t==null?"":t+""))}function Fk(t){return function(e){this.textContent=t.call(this,e)}}function Bk(t){var e,n;function o(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&Fk(i)),e}return o._value=t,o}function jk(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Bk(t))}function Hk(){for(var t=this._name,e=this._id,n=rd(),o=this._groups,i=o.length,r=0;r<i;++r)for(var l=o[r],a=l.length,s,u=0;u<a;++u)if(s=l[u]){var f=Dt(s,e);sr(s,t,n,u,l,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new zt(o,this._parents,t,n)}function Gk(){var t,e,n=this,o=n._id,i=n.size();return new Promise(function(r,l){var a={value:l},s={value:function(){--i===0&&r()}};n.each(function(){var u=Yt(this,o),f=u.on;f!==t&&(e=(t=f).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(s)),u.on=e}),i===0&&r()})}var Vk=0;function zt(t,e,n,o){this._groups=t,this._parents=e,this._name=n,this._id=o}function rd(){return++Vk}var Kt=Uo.prototype;zt.prototype={constructor:zt,select:Ck,selectAll:Ak,selectChild:Kt.selectChild,selectChildren:Kt.selectChildren,filter:_k,merge:gk,selection:Tk,transition:Hk,call:Kt.call,nodes:Kt.nodes,node:Kt.node,size:Kt.size,empty:Kt.empty,each:Kt.each,on:yk,attr:ek,attrTween:rk,style:Pk,styleTween:Lk,text:qk,textTween:jk,remove:kk,tween:K2,delay:ak,duration:ck,ease:mk,easeVarying:hk,end:Gk,[Symbol.iterator]:Kt[Symbol.iterator]};function Wk(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Yk={time:null,delay:0,duration:250,ease:Wk};function Uk(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Kk(t){var e,n;t instanceof zt?(e=t._id,t=t._name):(e=rd(),(n=Yk).time=Il(),t=t==null?null:t+"");for(var o=this._groups,i=o.length,r=0;r<i;++r)for(var l=o[r],a=l.length,s,u=0;u<a;++u)(s=l[u])&&sr(s,t,e,u,l,n||Uk(s,e));return new zt(o,this._parents,t,e)}Uo.prototype.interrupt=W2;Uo.prototype.transition=Kk;const Qr=Math.PI,zr=2*Qr,gn=1e-6,Xk=zr-gn;function ld(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Jk(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return ld;const n=10**e;return function(o){this._+=o[0];for(let i=1,r=o.length;i<r;++i)this._+=Math.round(arguments[i]*n)/n+o[i]}}class xk{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?ld:Jk(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,o,i){this._append`Q${+e},${+n},${this._x1=+o},${this._y1=+i}`}bezierCurveTo(e,n,o,i,r,l){this._append`C${+e},${+n},${+o},${+i},${this._x1=+r},${this._y1=+l}`}arcTo(e,n,o,i,r){if(e=+e,n=+n,o=+o,i=+i,r=+r,r<0)throw new Error(`negative radius: ${r}`);let l=this._x1,a=this._y1,s=o-e,u=i-n,f=l-e,c=a-n,d=f*f+c*c;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(d>gn)if(!(Math.abs(c*s-u*f)>gn)||!r)this._append`L${this._x1=e},${this._y1=n}`;else{let h=o-l,m=i-a,p=s*s+u*u,g=h*h+m*m,A=Math.sqrt(p),b=Math.sqrt(d),w=r*Math.tan((Qr-Math.acos((p+d-g)/(2*A*b)))/2),E=w/b,D=w/A;Math.abs(E-1)>gn&&this._append`L${e+E*f},${n+E*c}`,this._append`A${r},${r},0,0,${+(c*h>f*m)},${this._x1=e+D*s},${this._y1=n+D*u}`}}arc(e,n,o,i,r,l){if(e=+e,n=+n,o=+o,l=!!l,o<0)throw new Error(`negative radius: ${o}`);let a=o*Math.cos(i),s=o*Math.sin(i),u=e+a,f=n+s,c=1^l,d=l?i-r:r-i;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>gn||Math.abs(this._y1-f)>gn)&&this._append`L${u},${f}`,o&&(d<0&&(d=d%zr+zr),d>Xk?this._append`A${o},${o},0,1,${c},${e-a},${n-s}A${o},${o},0,1,${c},${this._x1=u},${this._y1=f}`:d>gn&&this._append`A${o},${o},0,${+(d>=Qr)},${c},${this._x1=e+o*Math.cos(r)},${this._y1=n+o*Math.sin(r)}`)}rect(e,n,o,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${o=+o}v${+i}h${-o}Z`}toString(){return this._}}function Zk(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Hi(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,o=t.slice(0,n);return[o.length>1?o[0]+o.slice(2):o,+t.slice(n+1)]}function lo(t){return t=Hi(Math.abs(t)),t?t[1]:NaN}function Qk(t,e){return function(n,o){for(var i=n.length,r=[],l=0,a=t[0],s=0;i>0&&a>0&&(s+a+1>o&&(a=Math.max(1,o-s)),r.push(n.substring(i-=a,i+a)),!((s+=a+1)>o));)a=t[l=(l+1)%t.length];return r.reverse().join(e)}}function zk(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var e5=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Gi(t){if(!(e=e5.exec(t)))throw new Error("invalid format: "+t);var e;return new El({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Gi.prototype=El.prototype;function El(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}El.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function t5(t){e:for(var e=t.length,n=1,o=-1,i;n<e;++n)switch(t[n]){case".":o=i=n;break;case"0":o===0&&(o=n),i=n;break;default:if(!+t[n])break e;o>0&&(o=0);break}return o>0?t.slice(0,o)+t.slice(i+1):t}var sd;function n5(t,e){var n=Hi(t,e);if(!n)return t+"";var o=n[0],i=n[1],r=i-(sd=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=o.length;return r===l?o:r>l?o+new Array(r-l+1).join("0"):r>0?o.slice(0,r)+"."+o.slice(r):"0."+new Array(1-r).join("0")+Hi(t,Math.max(0,e+r-1))[0]}function Ha(t,e){var n=Hi(t,e);if(!n)return t+"";var o=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+o:o.length>i+1?o.slice(0,i+1)+"."+o.slice(i+1):o+new Array(i-o.length+2).join("0")}const Ga={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Zk,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Ha(t*100,e),r:Ha,s:n5,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Va(t){return t}var Wa=Array.prototype.map,Ya=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function o5(t){var e=t.grouping===void 0||t.thousands===void 0?Va:Qk(Wa.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",o=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",r=t.numerals===void 0?Va:zk(Wa.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"−":t.minus+"",s=t.nan===void 0?"NaN":t.nan+"";function u(c){c=Gi(c);var d=c.fill,h=c.align,m=c.sign,p=c.symbol,g=c.zero,A=c.width,b=c.comma,w=c.precision,E=c.trim,D=c.type;D==="n"?(b=!0,D="g"):Ga[D]||(w===void 0&&(w=12),E=!0,D="g"),(g||d==="0"&&h==="=")&&(g=!0,d="0",h="=");var $=p==="$"?n:p==="#"&&/[boxX]/.test(D)?"0"+D.toLowerCase():"",R=p==="$"?o:/[%p]/.test(D)?l:"",j=Ga[D],F=/[defgprs%]/.test(D);w=w===void 0?6:/[gprs]/.test(D)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function N(T){var k=$,y=R,L,V,q;if(D==="c")y=j(T)+y,T="";else{T=+T;var x=T<0||1/T<0;if(T=isNaN(T)?s:j(Math.abs(T),w),E&&(T=t5(T)),x&&+T==0&&m!=="+"&&(x=!1),k=(x?m==="("?m:a:m==="-"||m==="("?"":m)+k,y=(D==="s"?Ya[8+sd/3]:"")+y+(x&&m==="("?")":""),F){for(L=-1,V=T.length;++L<V;)if(q=T.charCodeAt(L),48>q||q>57){y=(q===46?i+T.slice(L+1):T.slice(L))+y,T=T.slice(0,L);break}}}b&&!g&&(T=e(T,1/0));var W=k.length+T.length+y.length,Y=W<A?new Array(A-W+1).join(d):"";switch(b&&g&&(T=e(Y+T,Y.length?A-y.length:1/0),Y=""),h){case"<":T=k+T+y+Y;break;case"=":T=k+Y+T+y;break;case"^":T=Y.slice(0,W=Y.length>>1)+k+T+y+Y.slice(W);break;default:T=Y+k+T+y;break}return r(T)}return N.toString=function(){return c+""},N}function f(c,d){var h=u((c=Gi(c),c.type="f",c)),m=Math.max(-8,Math.min(8,Math.floor(lo(d)/3)))*3,p=Math.pow(10,-m),g=Ya[8+m/3];return function(A){return h(p*A)+g}}return{format:u,formatPrefix:f}}var ii,ad,ud;i5({thousands:",",grouping:[3],currency:["$",""]});function i5(t){return ii=o5(t),ad=ii.format,ud=ii.formatPrefix,ii}function r5(t){return Math.max(0,-lo(Math.abs(t)))}function l5(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(lo(e)/3)))*3-lo(Math.abs(t)))}function s5(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,lo(e)-lo(t))+1}function a5(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function u5(t){return function(){return t}}function f5(t){return+t}var Ua=[0,1];function Xn(t){return t}function el(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:u5(isNaN(e)?NaN:.5)}function c5(t,e){var n;return t>e&&(n=t,t=e,e=n),function(o){return Math.max(t,Math.min(e,o))}}function d5(t,e,n){var o=t[0],i=t[1],r=e[0],l=e[1];return i<o?(o=el(i,o),r=n(l,r)):(o=el(o,i),r=n(r,l)),function(a){return r(o(a))}}function m5(t,e,n){var o=Math.min(t.length,e.length)-1,i=new Array(o),r=new Array(o),l=-1;for(t[o]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<o;)i[l]=el(t[l],t[l+1]),r[l]=n(e[l],e[l+1]);return function(a){var s=my(t,a,1,o)-1;return r[s](i[s](a))}}function p5(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function h5(){var t=Ua,e=Ua,n=Ol,o,i,r,l=Xn,a,s,u;function f(){var d=Math.min(t.length,e.length);return l!==Xn&&(l=c5(t[0],t[d-1])),a=d>2?m5:d5,s=u=null,c}function c(d){return d==null||isNaN(d=+d)?r:(s||(s=a(t.map(o),e,n)))(o(l(d)))}return c.invert=function(d){return l(i((u||(u=a(e,t.map(o),Rt)))(d)))},c.domain=function(d){return arguments.length?(t=Array.from(d,f5),f()):t.slice()},c.range=function(d){return arguments.length?(e=Array.from(d),f()):e.slice()},c.rangeRound=function(d){return e=Array.from(d),n=P2,f()},c.clamp=function(d){return arguments.length?(l=d?!0:Xn,f()):l!==Xn},c.interpolate=function(d){return arguments.length?(n=d,f()):n},c.unknown=function(d){return arguments.length?(r=d,c):r},function(d,h){return o=d,i=h,f()}}function _5(){return h5()(Xn,Xn)}function g5(t,e,n,o){var i=by(t,e,n),r;switch(o=Gi(o??",f"),o.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return o.precision==null&&!isNaN(r=l5(i,l))&&(o.precision=r),ud(o,l)}case"":case"e":case"g":case"p":case"r":{o.precision==null&&!isNaN(r=s5(i,Math.max(Math.abs(t),Math.abs(e))))&&(o.precision=r-(o.type==="e"));break}case"f":case"%":{o.precision==null&&!isNaN(r=r5(i))&&(o.precision=r-(o.type==="%")*2);break}}return ad(o)}function b5(t){var e=t.domain;return t.ticks=function(n){var o=e();return gy(o[0],o[o.length-1],n??10)},t.tickFormat=function(n,o){var i=e();return g5(i[0],i[i.length-1],n??10,o)},t.nice=function(n){n==null&&(n=10);var o=e(),i=0,r=o.length-1,l=o[i],a=o[r],s,u,f=10;for(a<l&&(u=l,l=a,a=u,u=i,i=r,r=u);f-- >0;){if(u=Vr(l,a,n),u===s)return o[i]=l,o[r]=a,e(o);if(u>0)l=Math.floor(l/u)*u,a=Math.ceil(a/u)*u;else if(u<0)l=Math.ceil(l*u)/u,a=Math.floor(a*u)/u;else break;s=u}return t},t}function tl(){var t=_5();return t.copy=function(){return p5(t,tl())},a5.apply(t,arguments),b5(t)}function Yn(t){return function(){return t}}function v5(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const o=Math.floor(n);if(!(o>=0))throw new RangeError(`invalid digits: ${n}`);e=o}return t},()=>new xk(e)}function y5(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function fd(t){this._context=t}fd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function w5(t){return new fd(t)}function k5(t){return t[0]}function C5(t){return t[1]}function Mr(t,e){var n=Yn(!0),o=null,i=w5,r=null,l=v5(a);t=typeof t=="function"?t:t===void 0?k5:Yn(t),e=typeof e=="function"?e:e===void 0?C5:Yn(e);function a(s){var u,f=(s=y5(s)).length,c,d=!1,h;for(o==null&&(r=i(h=l())),u=0;u<=f;++u)!(u<f&&n(c=s[u],u,s))===d&&((d=!d)?r.lineStart():r.lineEnd()),d&&r.point(+t(c,u,s),+e(c,u,s));if(h)return r=null,h+""||null}return a.x=function(s){return arguments.length?(t=typeof s=="function"?s:Yn(+s),a):t},a.y=function(s){return arguments.length?(e=typeof s=="function"?s:Yn(+s),a):e},a.defined=function(s){return arguments.length?(n=typeof s=="function"?s:Yn(!!s),a):n},a.curve=function(s){return arguments.length?(i=s,o!=null&&(r=i(o)),a):i},a.context=function(s){return arguments.length?(s==null?o=r=null:r=i(o=s),a):o},a}function Io(t,e,n){this.k=t,this.x=e,this.y=n}Io.prototype={constructor:Io,scale:function(t){return t===1?this:new Io(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Io(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Io.prototype;function A5(t){let e;return{c(){e=Yi("svg"),P(e,"id","line-chart")},m(n,o){O(n,e,o)},p:Me,i:Me,o:Me,d(n){n&&M(e)}}}const Ka=52;function S5(t,e,n){let{data:o=[]}=e,i,r,l;const a={top:10,right:30,bottom:10,left:20},s=500-a.left-a.right,u=400-a.top-a.bottom;Mr().x((m,p)=>r(p)).y(m=>l(m)),Ui(()=>{n(1,i=a2("#line-chart").attr("width",s+a.left+a.right).attr("height",u+a.top+a.bottom)),r=tl().range([0,s]),l=tl().range([u,0]),o.length&&f()});function f(){const m=o.length>Ka?o.slice(-Ka):o;c(m),d(m),h()}function c(m){i.selectAll(".line").remove();const p=Mr().defined(A=>A>-5).x((A,b)=>r(b)).y(A=>l(A)),g=Mr().defined(A=>A<0).x((A,b)=>r(b)).y(A=>l(A));i.append("path").datum(m).attr("class","line positive").attr("d",p).attr("transform",`translate(${a.left},${a.top})`).attr("fill","none").attr("stroke","green").attr("stroke-width",2),i.append("path").datum(m).attr("class","line negative").attr("d",g).attr("transform",`translate(${a.left},${a.top})`).attr("fill","none").attr("stroke","red").attr("stroke-width",2)}function d(m){const p=Math.max(0,...m),g=Math.min(0,...m);r.domain([0,m.length-1]),l.domain([g,p]).nice()}function h(m){const p=Sy(r).ticks(0),g=Ty(l).ticks(10);i.selectAll(".axis").remove(),i.append("g").attr("class","axis x-axis").attr("transform",`translate(${a.left},${u+a.top})`).call(p),i.append("g").attr("class","axis y-axis").attr("transform",`translate(${a.left},${a.top})`).call(g)}return t.$$set=m=>{"data"in m&&n(0,o=m.data)},t.$$.update=()=>{t.$$.dirty&3&&o&&i&&f()},[o,i]}class T5 extends he{constructor(e){super(),pe(this,e,S5,A5,me,{data:0})}}function M5(t){let e,n=t[1].townInfo.knowledge_points+"",o,i;return{c(){e=G("Manage your Knowledge ("),o=G(n),i=G(" pts)")},m(r,l){O(r,e,l),O(r,o,l),O(r,i,l)},p(r,l){l&2&&n!==(n=r[1].townInfo.knowledge_points+"")&&ae(o,n)},d(r){r&&(M(e),M(o),M(i))}}}function O5(t){let e,n,o,i;return e=new Dn({props:{$$slots:{default:[M5]},$$scope:{ctx:t}}}),o=new Bn({}),{c(){X(e.$$.fragment),n=B(),X(o.$$.fragment)},m(r,l){U(e,r,l),O(r,n,l),U(o,r,l),i=!0},p(r,l){const a={};l&130&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&M(n),K(e,r),K(o,r)}}}function Xa(t){let e,n,o=Qa(t[1].townInfo.knowledge_points*t[3])+"",i,r;return{c(){e=I("br"),n=G(`
          (total value: $`),i=G(o),r=G(")")},m(l,a){O(l,e,a),O(l,n,a),O(l,i,a),O(l,r,a)},p(l,a){a&10&&o!==(o=Qa(l[1].townInfo.knowledge_points*l[3])+"")&&ae(i,o)},d(l){l&&(M(e),M(n),M(i),M(r))}}}function Ja(t){let e;return{c(){e=I("div"),e.innerHTML=`Wait until the market value is <span class="text-green-500">positive</span> to sell your Knowledge for Gold. Keep in mind that you need a bank to
          convert.`},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function xa(t){let e,n,o;return n=new At({props:{variant:"default",$$slots:{default:[I5]},$$scope:{ctx:t}}}),n.$on("click",t[0]),{c(){e=I("div"),X(n.$$.fragment)},m(i,r){O(i,e,r),U(n,e,null),o=!0},p(i,r){const l={};r&128&&(l.$$scope={dirty:r,ctx:i}),n.$set(l)},i(i){o||(C(n.$$.fragment,i),o=!0)},o(i){S(n.$$.fragment,i),o=!1},d(i){i&&M(e),K(n)}}}function I5(t){let e;return{c(){e=G("Convert Knowledge to Gold")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function Za(t){let e;return{c(){e=I("div"),e.textContent="You need a bank to convert knowledge to gold."},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function N5(t){let e,n,o,i,r,l,a,s,u=(t[3]??0)+"",f,c,d,h,m,p,g,A,b,w,E,D;e=new qn({props:{$$slots:{default:[O5]},$$scope:{ctx:t}}});let $=t[3]>0&&Xa(t);p=new T5({props:{data:t[2]}});let R=t[3]<0&&Ja(),j=t[1].hasBank&&t[3]>0&&xa(t),F=t[1].hasBank===!1&&Za();return E=new mo({}),{c(){X(e.$$.fragment),n=B(),o=I("span"),o.textContent="Knowledge is power, unlock it!",i=B(),r=I("div"),l=I("div"),a=G("Market Rate: "),s=I("span"),f=G(u),c=G(" gold"),h=G(`
        per Knowledge Point
        `),$&&$.c(),m=B(),X(p.$$.fragment),g=B(),R&&R.c(),A=B(),j&&j.c(),b=B(),F&&F.c(),w=B(),X(E.$$.fragment),P(o,"class","italic"),P(s,"class",d=t[3]<0?"text-red-500":"text-green-500"),P(r,"class","py-0 flex flex-col gap-4 text-gray-400 overflow-x-auto")},m(N,T){U(e,N,T),O(N,n,T),O(N,o,T),O(N,i,T),O(N,r,T),v(r,l),v(l,a),v(l,s),v(s,f),v(s,c),v(l,h),$&&$.m(l,null),v(r,m),U(p,r,null),v(r,g),R&&R.m(r,null),v(r,A),j&&j.m(r,null),v(r,b),F&&F.m(r,null),O(N,w,T),U(E,N,T),D=!0},p(N,T){const k={};T&130&&(k.$$scope={dirty:T,ctx:N}),e.$set(k),(!D||T&8)&&u!==(u=(N[3]??0)+"")&&ae(f,u),(!D||T&8&&d!==(d=N[3]<0?"text-red-500":"text-green-500"))&&P(s,"class",d),N[3]>0?$?$.p(N,T):($=Xa(N),$.c(),$.m(l,null)):$&&($.d(1),$=null);const y={};T&4&&(y.data=N[2]),p.$set(y),N[3]<0?R||(R=Ja(),R.c(),R.m(r,A)):R&&(R.d(1),R=null),N[1].hasBank&&N[3]>0?j?(j.p(N,T),T&10&&C(j,1)):(j=xa(N),j.c(),C(j,1),j.m(r,b)):j&&(Oe(),S(j,1,1,()=>{j=null}),Ie()),N[1].hasBank===!1?F||(F=Za(),F.c(),F.m(r,null)):F&&(F.d(1),F=null)},i(N){D||(C(e.$$.fragment,N),C(p.$$.fragment,N),C(j),C(E.$$.fragment,N),D=!0)},o(N){S(e.$$.fragment,N),S(p.$$.fragment,N),S(j),S(E.$$.fragment,N),D=!1},d(N){N&&(M(n),M(o),M(i),M(r),M(w)),K(e,N),$&&$.d(),K(p),R&&R.d(),j&&j.d(),F&&F.d(),K(E,N)}}}function P5(t){let e,n;return e=new Fn({props:{transitionConfig:{duration:0},class:"bg-foreground text-accentText",$$slots:{default:[N5]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const r={};i&142&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function E5(t){let e,n,o;function i(l){t[5](l)}let r={$$slots:{default:[P5]},$$scope:{ctx:t}};return t[4]!==void 0&&(r.open=t[4]),e=new jn({props:r}),Le.push(()=>hn(e,"open",i)),{c(){X(e.$$.fragment)},m(l,a){U(e,l,a),o=!0},p(l,[a]){const s={};a&142&&(s.$$scope={dirty:a,ctx:l}),!n&&a&16&&(n=!0,s.open=l[4],pn(()=>n=!1)),e.$set(s)},i(l){o||(C(e.$$.fragment,l),o=!0)},o(l){S(e.$$.fragment,l),o=!1},d(l){K(e,l)}}}function Qa(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function R5(t,e,n){let o,i;ue(t,Fe,u=>n(1,o=u)),ue(t,ki,u=>n(4,i=u));let r,l=0;function a(){let u=o;o.hasBank===!0?(u.townInfo.gold+=Math.round(u.townInfo.knowledge_points*l),u.townInfo.knowledge_points=0,Fe.set(u),localStorage.setItem($t,JSON.stringify(u))):bt.set("You need a bank to convert knowledge to gold.")}function s(u){i=u,ki.set(i)}return t.$$.update=()=>{t.$$.dirty&2&&o&&(n(2,r=o.economyAndLaws.knowledge_gold_market_rates),n(3,l=o.economyAndLaws.knowledge_gold_market_rates[o.economyAndLaws.knowledge_gold_market_rates.length-1]))},[a,o,r,l,i,s]}class L5 extends he{constructor(e){super(),pe(this,e,R5,E5,me,{convertKnowledgeToGold:0})}get convertKnowledgeToGold(){return this.$$.ctx[0]}}const $5=[{id:"sunshine",title:"Hint of Sunshine",description:`Scientist Jane T. found that more sunlight makes everyone a bit happier.
          Now, every home is equipped with a pair of sunglasses and a sunhat. Enjoy happier citizens!,
          `,cost:5e3,duration:180,effect:t=>(t.townInfo.happiness+=100,t)},{id:"antibiotics",title:"We will call them 'Antibiotics'",description:`Scientist Alfred C. has pitched us an idea that he calls 'Antibiotics'.
           We don't really know what that means, but it seems to make people healthier.
          `,cost:8e3,duration:200,effect:t=>(t.townInfo.health+=180,t.townInfo.happiness+=25,t)},{id:"funny_cows",title:"Cowabunga!",description:`Scientist Barry T. thought that showing cows some stand-up comedy would make them produce better milk, but it didn't have the desired effect.
          The cows are now following Mike Birbiglia on Twitter, but the milk production has not increased.
          `,cost:3e3,duration:60,effect:t=>t},{id:"missing_treasure",title:"Missing Treasure?",description:`Scientist Sarah H. was running an experiment on tree growth and found a stash of gold near the lab.
          She hopes nobody will miss it. Your town now has some more money.
          `,cost:15e3,duration:180,effect:t=>(t.townInfo.gold+=Math.floor(Math.random()*35e3),t)},{id:"tax_relief",title:"'Maybe the government is not so bad after all'",description:`Scientist Sam P. conducted a study and found that if you put a tiny bit of CHEMICAL X in the water supply, people are more likely to be ok with tax hikes.
          We don't question it, as these experiments cost a lot of moo-lah.`,cost:7500,duration:360,effect:t=>(t.economyAndLaws.max_tax_rate=(Math.random()*.8+1.2)*t.economyAndLaws.max_tax_rate,t)},{id:"spring_break",title:"Spring Break",description:`The Scientists took our money and spent the week at the beach.
          We are not sure what they did, but they came back with a tan and a smile.`,cost:2e3,duration:7,effect:t=>t},{id:"tornado",title:"A Gust of Grain",description:`Scientist Clint C. is sulking after a botched weather experiment caused about half of the food supply to be sucked into a tornado.
  		The only positive seems to be that the town now knows what a tornado is, and that makes us a bit smarter as a whole.`,cost:7e3,duration:150,effect:t=>(t.townInfo.knowledge_points+=3e3,t.resources.food=Math.floor(t.resources.food/2),t)},{id:"aquatic_overachievers",title:"Fishy Business",description:`An attempt to genetically enhance fish intelligence by Scientist Goldie F. in fisheries has gone awry, resulting in fish that are too smart to be caught. The fisheries are now underpopulated and shut down, but the town enjoys an unexpected tourism boom as people flock to see the genius fish who are now hanging out in local parks.
          Who knew fish could be such a draw?`,cost:6e3,duration:90,effect:t=>(t.townInfo.gold+=1e4,za("fishery",t),t)},{id:"educational_eclipse",title:"A Sudden Drop in IQ",description:`Scientist Albert E. wanted to see if the towns' children would become smarter if THEY ran the schools.
          This was obviously a terrible idea and the first thing the kids did was shut down the schools.`,cost:1e3,duration:45,effect:t=>(za("schoolhouse",t),t)},{id:"education_grant",title:"Education Grant",description:`Scientist Marie C. took this experiments funding and applied the town for a grant to improve education.
          The town wins a grant for $150,000 to build schools and improve education. (but it's up to you if that's how you want to spend the money)`,cost:25e3,duration:45,effect:t=>(t.townInfo.gold+=15e4,t)},{id:"mindfulness_meditation_classes",title:"'Mindfulness Meditation Classes'",description:`Scientist Zen M. has introduced mindfulness meditation classes to the town after realizing that breathing in certain ways can lower stress.
  		Now, the town is a bit more relaxed, for now.`,cost:13e3,duration:540,effect:t=>(t.townInfo.happiness+=75,t)}];function za(t,e){let n=Be(t,e);for(let o=0;o<n.length;o++)yi(n[o].x,n[o].y,e)}function eu(t,e,n){const o=t.slice();return o[15]=e[n],o}function D5(t){let e,n=t[1].lab.active_experiment.title+"",o;return{c(){e=G("🎉 Experiment Completed: "),o=G(n)},m(i,r){O(i,e,r),O(i,o,r)},p(i,r){r&2&&n!==(n=i[1].lab.active_experiment.title+"")&&ae(o,n)},d(i){i&&(M(e),M(o))}}}function q5(t){let e,n=t[1].lab.active_experiment.description+"",o;return{c(){e=I("div"),o=G(n),P(e,"class","select-none whitespace-pre-wrap text-lg text-gray-400 leading-6 px-4 py-4 text-center ")},m(i,r){O(i,e,r),v(e,o)},p(i,r){r&2&&n!==(n=i[1].lab.active_experiment.description+"")&&ae(o,n)},d(i){i&&M(e)}}}function F5(t){let e,n,o,i;return e=new Ic({props:{class:"text-center",$$slots:{default:[D5]},$$scope:{ctx:t}}}),o=new Cl({props:{$$slots:{default:[q5]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=B(),X(o.$$.fragment)},m(r,l){U(e,r,l),O(r,n,l),U(o,r,l),i=!0},p(r,l){const a={};l&262146&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&262146&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&M(n),K(e,r),K(o,r)}}}function B5(t){let e;return{c(){e=G("Thank the scientists")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function j5(t){let e,n;return e=new Nc({props:{$$slots:{default:[B5]},$$scope:{ctx:t}}}),e.$on("click",t[9]),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const r={};i&262144&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function H5(t){let e,n,o,i;return e=new kl({props:{$$slots:{default:[F5]},$$scope:{ctx:t}}}),o=new nr({props:{$$slots:{default:[j5]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=B(),X(o.$$.fragment)},m(r,l){U(e,r,l),O(r,n,l),U(o,r,l),i=!0},p(r,l){const a={};l&262146&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&262144&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&M(n),K(e,r),K(o,r)}}}function G5(t){let e,n;return e=new or({props:{$$slots:{default:[H5]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const r={};i&262146&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function V5(t){let e;return{c(){e=I("span"),e.textContent="Manage your Laboratory 🔬 🧪"},m(n,o){O(n,e,o)},p:Me,d(n){n&&M(e)}}}function W5(t){let e,n,o,i=t[1].lab.xp+"",r,l,a,s;return{c(){e=I("span"),n=G("You have earned "),o=I("span"),r=G(i),l=G(" XP"),s=G(` from experiments. XP can be used to buy advanced plots and develop your
          city.`),P(o,"class",a="italic "+(t[1].lab.xp<0?"text-textDanger":"text-primaryText"))},m(u,f){O(u,e,f),v(e,n),v(e,o),v(o,r),v(o,l),v(e,s)},p(u,f){f&2&&i!==(i=u[1].lab.xp+"")&&ae(r,i),f&2&&a!==(a="italic "+(u[1].lab.xp<0?"text-textDanger":"text-primaryText"))&&P(o,"class",a)},d(u){u&&M(e)}}}function Y5(t){let e,n,o,i;return e=new Dn({props:{$$slots:{default:[V5]},$$scope:{ctx:t}}}),o=new Bn({props:{$$slots:{default:[W5]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=B(),X(o.$$.fragment)},m(r,l){U(e,r,l),O(r,n,l),U(o,r,l),i=!0},p(r,l){const a={};l&262144&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&262146&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&M(n),K(e,r),K(o,r)}}}function U5(t){let e;return{c(){e=G("No more experiments available")},m(n,o){O(n,e,o)},p:Me,i:Me,o:Me,d(n){n&&M(e)}}}function K5(t){let e,n,o,i,r=Ue(t[0]),l=[];for(let s=0;s<r.length;s+=1)l[s]=nu(eu(t,r,s));const a=s=>S(l[s],1,1,()=>{l[s]=null});return{c(){e=I("div"),e.textContent=`It's time to fund your next experiment! Choose a project below based on
        it's funding requirement. Once the experiment is over, you will see the
        results.`,n=B(),o=I("div");for(let s=0;s<l.length;s+=1)l[s].c();P(e,"class","select-none text-sm "),P(o,"class","text-center flex flex-col justify-center items-center gap-4 ")},m(s,u){O(s,e,u),O(s,n,u),O(s,o,u);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(o,null);i=!0},p(s,u){if(u&19){r=Ue(s[0]);let f;for(f=0;f<r.length;f+=1){const c=eu(s,r,f);l[f]?(l[f].p(c,u),C(l[f],1)):(l[f]=nu(c),l[f].c(),C(l[f],1),l[f].m(o,null))}for(Oe(),f=r.length;f<l.length;f+=1)a(f);Ie()}},i(s){if(!i){for(let u=0;u<r.length;u+=1)C(l[u]);i=!0}},o(s){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)S(l[u]);i=!1},d(s){s&&(M(e),M(n),M(o)),at(l,s)}}}function X5(t){let e,n=t[1].lab.active_experiment.duration+"",o,i,r,l,a=t[1].lab.active_experiment.duration===0&&ou(t);return{c(){e=G("Currently running an experiment... check back in "),o=G(n),i=G(` days.
      `),a&&a.c(),r=De()},m(s,u){O(s,e,u),O(s,o,u),O(s,i,u),a&&a.m(s,u),O(s,r,u),l=!0},p(s,u){(!l||u&2)&&n!==(n=s[1].lab.active_experiment.duration+"")&&ae(o,n),s[1].lab.active_experiment.duration===0?a?(a.p(s,u),u&2&&C(a,1)):(a=ou(s),a.c(),C(a,1),a.m(r.parentNode,r)):a&&(Oe(),S(a,1,1,()=>{a=null}),Ie())},i(s){l||(C(a),l=!0)},o(s){S(a),l=!1},d(s){s&&(M(e),M(o),M(i),M(r)),a&&a.d(s)}}}function tu(t){let e,n,o=t[15].id+"",i;return{c(){e=I("span"),n=G("// dev-"),i=G(o),P(e,"class","text-xs text-gray-400")},m(r,l){O(r,e,l),v(e,n),v(e,i)},p(r,l){l&1&&o!==(o=r[15].id+"")&&ae(i,o)},d(r){r&&M(e)}}}function J5(t){let e,n=iu(t[15].cost).split(".")[0]+"",o,i,r,l=t[1].devMode===!0&&tu(t);return{c(){e=G("$"),o=G(n),i=G(` gold

            `),l&&l.c(),r=B()},m(a,s){O(a,e,s),O(a,o,s),O(a,i,s),l&&l.m(a,s),O(a,r,s)},p(a,s){s&1&&n!==(n=iu(a[15].cost).split(".")[0]+"")&&ae(o,n),a[1].devMode===!0?l?l.p(a,s):(l=tu(a),l.c(),l.m(r.parentNode,r)):l&&(l.d(1),l=null)},d(a){a&&(M(e),M(o),M(i),M(r)),l&&l.d(a)}}}function nu(t){let e,n;function o(){return t[11](t[15])}return e=new At({props:{variant:"outline",class:`min-w-48 w-max flex-col
				`+(t[15].cost>t[1].townInfo.gold?"cursor-not-allowed":"")+`
				`,$$slots:{default:[J5]},$$scope:{ctx:t}}}),e.$on("click",o),{c(){X(e.$$.fragment)},m(i,r){U(e,i,r),n=!0},p(i,r){t=i;const l={};r&3&&(l.class=`min-w-48 w-max flex-col
				`+(t[15].cost>t[1].townInfo.gold?"cursor-not-allowed":"")+`
				`),r&262147&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(i){n||(C(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){K(e,i)}}}function ou(t){let e,n;return e=new At({props:{variant:"outline",$$slots:{default:[x5]},$$scope:{ctx:t}}}),e.$on("click",t[10]),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const r={};i&262144&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function x5(t){let e;return{c(){e=G("Complete experiment (and face the impact)")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function Z5(t){let e;return{c(){e=I("span"),e.textContent="Keep in mind that not all experiments yield positive results.",P(e,"class","italic text-left text-textDanger")},m(n,o){O(n,e,o)},p:Me,d(n){n&&M(e)}}}function Q5(t){let e,n,o,i,r,l,a,s,u,f,c;e=new qn({props:{$$slots:{default:[Y5]},$$scope:{ctx:t}}}),o=new St({});const d=[X5,K5,U5],h=[];function m(p,g){return p[1].lab.active_experiment!==null?0:p[0].length>0?1:p[0].length===0?2:-1}return~(r=m(t))&&(l=h[r]=d[r](t)),s=new St({props:{class:"mt-4"}}),f=new mo({props:{$$slots:{default:[Z5]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=B(),X(o.$$.fragment),i=B(),l&&l.c(),a=B(),X(s.$$.fragment),u=B(),X(f.$$.fragment)},m(p,g){U(e,p,g),O(p,n,g),U(o,p,g),O(p,i,g),~r&&h[r].m(p,g),O(p,a,g),U(s,p,g),O(p,u,g),U(f,p,g),c=!0},p(p,g){const A={};g&262146&&(A.$$scope={dirty:g,ctx:p}),e.$set(A);let b=r;r=m(p),r===b?~r&&h[r].p(p,g):(l&&(Oe(),S(h[b],1,1,()=>{h[b]=null}),Ie()),~r?(l=h[r],l?l.p(p,g):(l=h[r]=d[r](p),l.c()),C(l,1),l.m(a.parentNode,a)):l=null);const w={};g&262144&&(w.$$scope={dirty:g,ctx:p}),f.$set(w)},i(p){c||(C(e.$$.fragment,p),C(o.$$.fragment,p),C(l),C(s.$$.fragment,p),C(f.$$.fragment,p),c=!0)},o(p){S(e.$$.fragment,p),S(o.$$.fragment,p),S(l),S(s.$$.fragment,p),S(f.$$.fragment,p),c=!1},d(p){p&&(M(n),M(i),M(a),M(u)),K(e,p),K(o,p),~r&&h[r].d(p),K(s,p),K(f,p)}}}function z5(t){let e,n;return e=new Fn({props:{class:"bg-foreground text-accentText",$$slots:{default:[Q5]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const r={};i&262147&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function e3(t){let e,n,o,i,r;e=new ir({props:{open:t[2],$$slots:{default:[G5]},$$scope:{ctx:t}}});function l(s){t[12](s)}let a={$$slots:{default:[z5]},$$scope:{ctx:t}};return t[3]!==void 0&&(a.open=t[3]),o=new jn({props:a}),Le.push(()=>hn(o,"open",l)),{c(){X(e.$$.fragment),n=B(),X(o.$$.fragment)},m(s,u){U(e,s,u),O(s,n,u),U(o,s,u),r=!0},p(s,[u]){const f={};u&4&&(f.open=s[2]),u&262146&&(f.$$scope={dirty:u,ctx:s}),e.$set(f);const c={};u&262147&&(c.$$scope={dirty:u,ctx:s}),!i&&u&8&&(i=!0,c.open=s[3],pn(()=>i=!1)),o.$set(c)},i(s){r||(C(e.$$.fragment,s),C(o.$$.fragment,s),r=!0)},o(s){S(e.$$.fragment,s),S(o.$$.fragment,s),r=!1},d(s){s&&M(n),K(e,s),K(o,s)}}}function iu(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function t3(t,e,n){let o,i;ue(t,Fe,b=>n(1,o=b)),ue(t,si,b=>n(3,i=b));var r;let l=[],a=!1,s=!1,u=!1;function f(){if(l.length>0||!a)return l;let b=[],w=$5.filter(E=>!o.lab.past_experiments.some(D=>D.id===E.id));if(w.length===0)return[];for(let E=0;E<3;E++){let D=w[Math.floor(Math.random()*w.length)];D.cost=Math.floor(Math.random()*(D.cost*.35)+D.cost*.8),b.push(D)}return b=b.filter((E,D)=>b.indexOf(E)===D),b=b.filter(E=>E),n(8,u=!0),b}function c(b){if(o.townInfo.gold<b.cost){bt.set("You do not have enough gold to purchase this experiment.");return}Re(Fe,o.townInfo.gold-=b.cost,o),Re(Fe,o.lab.active_experiment=b,o),o.lab.past_experiments.push(b)}function d(){Re(si,i=!1,i),n(2,s=!0);let b=l.find(E=>E.id===o.lab.active_experiment.id),w=b!=null?b.effect(o):o;Re(Fe,o=w,o),Re(Fe,o.lab.active_experiment.duration=-1,o)}function h(){let b=o;b.lab.xp+=Math.round(b.lab.active_experiment.cost*(Math.random()*2+.5)),b.lab.active_experiment=null,n(2,s=!1),Re(Fe,o=b,o)}const m=()=>{h()},p=()=>{d()},g=b=>{b.cost<o.townInfo.gold&&c(b)};function A(b){i=b,si.set(i)}return t.$$.update=()=>{t.$$.dirty&387&&(o?(a=!0,n(0,l=u==!1?f():l),(n(7,r=o.lab.active_experiment)===null||r===void 0?void 0:r.duration)===-1&&n(2,s=!0)):a=!1)},[l,o,s,i,c,d,h,r,u,m,p,g,A]}class n3 extends he{constructor(e){super(),pe(this,e,t3,e3,me,{})}}function o3(t){let e,n,o,i,r,l,a,s=t[0].townInfo.name+"",u,f,c,d,h,m,p,g,A,b,w=Math.floor(t[0].environment.day/365)+1+"",E,D,$,R,j,F,N=t[0].environment.day%365+1+"",T,k,y,L=t[1]==0?"Normal":t[1]==1?"Fast":"Superfast",V,q,x,W,Y;return{c(){e=I("div"),n=I("div"),o=I("div"),i=I("div"),r=I("div"),l=I("div"),a=I("h1"),u=G(s),f=B(),c=I("div"),d=I("div"),h=I("div"),m=I("div"),p=I("span"),g=I("span"),g.textContent="Year",A=B(),b=I("span"),E=G(w),D=B(),$=I("span"),R=I("span"),R.textContent="Day",j=B(),F=I("span"),T=G(N),k=B(),y=I("span"),V=G(L),q=G(" Speed"),P(a,"class","font-bold cursor-pointer w-full text-center select-none text-3xl"),P(l,"class","cursor-pointer flex flex-row justify-start"),P(r,"class","text-md"),P(g,"class","text-xs"),P(b,"class","font-semibold text-xs"),P(p,"class","flex flex-col gap-1"),P(R,"class","text-xs"),P(F,"class","font-semibold text-xs"),P($,"class","flex flex-col gap-1"),P(m,"class","rounded-xl flex-row text-accentText gap-4 w-18 flex items-center max-w-18"),P(y,"class","font-mono cursor text-blue-500 text-nowrap noselect text-end w-36"),P(h,"class","flex align-middle items-center text-accentText flex-row w-full justify-center gap-2 h-max"),P(d,"class","flex flex-col align-middle justify-center"),P(i,"class","flex flex-col gap-4 justify-center w-full "),P(o,"class","rounded-xl"),P(n,"class","flex justify-between flex-col align-middle items-center w-full"),P(e,"id","header"),P(e,"class",x="flex px-6 gap-6 justify-center flex-row fixed top-0 left-0 right-0 cursor-default z-10 bg-black text-[white] py-3 align-middle border-b-4 border-sidebarBackground "+(t[2].visible?"opacity-70":""))},m(te,z){O(te,e,z),v(e,n),v(n,o),v(o,i),v(i,r),v(r,l),v(l,a),v(a,u),v(i,f),v(i,c),v(c,d),v(d,h),v(h,m),v(m,p),v(p,g),v(p,A),v(p,b),v(b,E),v(m,D),v(m,$),v($,R),v($,j),v($,F),v(F,T),v(h,k),v(h,y),v(y,V),v(y,q),W||(Y=[ee(l,"click",t[3]),ee(y,"click",t[5])],W=!0)},p(te,[z]){z&1&&s!==(s=te[0].townInfo.name+"")&&ae(u,s),z&1&&w!==(w=Math.floor(te[0].environment.day/365)+1+"")&&ae(E,w),z&1&&N!==(N=te[0].environment.day%365+1+"")&&ae(T,N),z&2&&L!==(L=te[1]==0?"Normal":te[1]==1?"Fast":"Superfast")&&ae(V,L),z&4&&x!==(x="flex px-6 gap-6 justify-center flex-row fixed top-0 left-0 right-0 cursor-default z-10 bg-black text-[white] py-3 align-middle border-b-4 border-sidebarBackground "+(te[2].visible?"opacity-70":""))&&P(e,"class",x)},i:Me,o:Me,d(te){te&&M(e),W=!1,je(Y)}}}function i3(t,e,n){let o,i,r;ue(t,Fe,c=>n(0,o=c)),ue(t,Ao,c=>n(7,i=c)),ue(t,et,c=>n(2,r=c));const l=o.gameSettings.includes("casual")?[375,200,100]:[550,375,100];let a=0;Ui(()=>{o.gameSettings.includes("casual")?Re(Ao,i=375,i):Re(Ao,i=550,i);const c=setInterval(()=>{Re(Fe,o.timeSpent+=1e3,o)},1e3);return()=>{clearInterval(c)}});function s(){let c=prompt("Enter a new name for your town (under 200 chars)");if(c&&c.length<200&&c.length>=1){let d=o;d.townInfo.name=c,Fe.set(d),localStorage.setItem($t,JSON.stringify(d))}}function u(){a==l.length-1?n(1,a=0):n(1,a++,a),Re(Ao,i=l[a],i)}const f=()=>{u()};return t.$$.update=()=>{t.$$.dirty&1&&o.timeSpent>0&&Om(o.timeSpent)},[o,a,r,s,u,f]}class r3 extends he{constructor(e){super(),pe(this,e,i3,o3,me,{})}}function l3(t){let e;const n=t[5].default,o=_e(n,t,t[6],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&64)&&be(o,n,i,i[6],e?ge(n,i[6],r,null):ve(i[6]),null)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function s3(t){let e,n;const o=[{transition:t[2]},{transitionConfig:t[3]},{sideOffset:t[1]},{class:Ve("z-50 overflow-hidden border bg-sidebarBackground px-3 py-1.5 text-sm text-black shadow-md rounded-2xl",t[0])},t[4]];let i={$$slots:{default:[l3]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new C1({props:i}),{c(){X(e.$$.fragment)},m(r,l){U(e,r,l),n=!0},p(r,[l]){const a=l&31?Te(o,[l&4&&{transition:r[2]},l&8&&{transitionConfig:r[3]},l&2&&{sideOffset:r[1]},l&1&&{class:Ve("z-50 overflow-hidden border bg-sidebarBackground px-3 py-1.5 text-sm text-black shadow-md rounded-2xl",r[0])},l&16&&ut(r[4])]):{};l&64&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){K(e,r)}}}function a3(t,e,n){const o=["class","sideOffset","transition","transitionConfig"];let i=se(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{sideOffset:s=4}=e,{transition:u=Ji}=e,{transitionConfig:f={y:8,duration:100}}=e;return t.$$set=c=>{e=Q(Q({},e),$e(c)),n(4,i=se(e,o)),"class"in c&&n(0,a=c.class),"sideOffset"in c&&n(1,s=c.sideOffset),"transition"in c&&n(2,u=c.transition),"transitionConfig"in c&&n(3,f=c.transitionConfig),"$$scope"in c&&n(6,l=c.$$scope)},[a,s,u,f,i,r,l]}class po extends he{constructor(e){super(),pe(this,e,a3,s3,me,{class:0,sideOffset:1,transition:2,transitionConfig:3})}}const ho=a1,_o=N1;function ru(t,e,n){const o=t.slice();return o[4]=e[n],o[6]=n,o}function lu(t,e,n){const o=t.slice();return o[4]=e[n],o[6]=n,o}function su(t,e,n){const o=t.slice();return o[4]=e[n],o[6]=n,o}function au(t){let e,n,o,i=oe[Se(t[0].id)].title+"",r,l,a,s=oe[Se(t[0].id)].description+"",u,f,c,d,h,m,p,g,A,b=t[3]("💰",oe[Se(t[0].id)].requirements.gold,t[2].townInfo.gold)+"",w,E,D=t[3]("🥕",oe[Se(t[0].id)].requirements.resources.food,t[2].resources.food)+"",$,R,j=t[3]("🧠",oe[Se(t[0].id)].requirements.knowledge,t[2].townInfo.knowledge_points)+"",F,N,T=t[3]("🪵",oe[Se(t[0].id)].requirements.resources.wood,t[2].resources.wood)+"",k,y,L=t[3]("🪨",oe[Se(t[0].id)].requirements.resources.stone,t[2].resources.stone)+"",V,q,x=t[3]("🧲",oe[Se(t[0].id)].requirements.resources.metal,t[2].resources.metal)+"",W,Y,te=t[3]("🔋",oe[Se(t[0].id)].active_costs.power,t[2].resources.power)+"",z,ne,re=t[3]("🧑‍⚖️",oe[Se(t[0].id)].requirements.resources.bureaucracy,t[2].resources.bureaucracy)+"",le,_=oe[Se(t[0].id)].requirements.employees!=0,J,Z=oe[Se(t[0].id)].revenue_per_week!=0,ce,ye=Object.values(oe[Se(t[0].id)].active_costs).some(ku),Ce,qe=Object.values(oe[Se(t[0].id)].requirements.plots).length>0,Pe,Ze=Object.values(oe[Se(t[0].id)].generated_resources).some(wu)||oe[Se(t[0].id)].knowledge_points_per_month>0,de;d=new St({props:{class:"bg-accent opacity-25 mt-1 mb-1"}});let Ne=_&&uu(t),He=Z&&fu(t),Je=ye&&cu(t),Ke=qe&&pu(t),Ge=Ze&&gu(t);return{c(){e=I("div"),n=I("div"),o=I("span"),r=G(i),l=B(),a=I("span"),u=G(s),f=B(),c=I("div"),X(d.$$.fragment),h=B(),m=I("span"),m.textContent="Requirements",p=B(),g=I("div"),A=new Xt(!1),w=B(),E=new Xt(!1),$=B(),R=new Xt(!1),F=B(),N=new Xt(!1),k=B(),y=new Xt(!1),V=B(),q=new Xt(!1),W=B(),Y=new Xt(!1),z=B(),ne=new Xt(!1),le=B(),Ne&&Ne.c(),J=B(),He&&He.c(),ce=B(),Je&&Je.c(),Ce=B(),Ke&&Ke.c(),Pe=B(),Ge&&Ge.c(),P(o,"class","text-md"),P(a,"class","text-xs"),P(n,"class","flex flex-col gap-2"),P(m,"class","font-semibold"),A.a=w,E.a=$,R.a=F,N.a=k,y.a=V,q.a=W,Y.a=z,ne.a=le,P(g,"class","flex flex-col gap-1"),P(c,"class","flex flex-col w-36 h-min gap-0 text-xs pb-2"),P(e,"class","p-2 max-w-64")},m(Ae,we){O(Ae,e,we),v(e,n),v(n,o),v(o,r),v(n,l),v(n,a),v(a,u),v(e,f),v(e,c),U(d,c,null),v(c,h),v(c,m),v(c,p),v(c,g),A.m(b,g),v(g,w),E.m(D,g),v(g,$),R.m(j,g),v(g,F),N.m(T,g),v(g,k),y.m(L,g),v(g,V),q.m(x,g),v(g,W),Y.m(te,g),v(g,z),ne.m(re,g),v(g,le),Ne&&Ne.m(g,null),v(e,J),He&&He.m(e,null),v(e,ce),Je&&Je.m(e,null),v(e,Ce),Ke&&Ke.m(e,null),v(e,Pe),Ge&&Ge.m(e,null),de=!0},p(Ae,we){(!de||we&1)&&i!==(i=oe[Se(Ae[0].id)].title+"")&&ae(r,i),(!de||we&1)&&s!==(s=oe[Se(Ae[0].id)].description+"")&&ae(u,s),(!de||we&5)&&b!==(b=Ae[3]("💰",oe[Se(Ae[0].id)].requirements.gold,Ae[2].townInfo.gold)+"")&&A.p(b),(!de||we&5)&&D!==(D=Ae[3]("🥕",oe[Se(Ae[0].id)].requirements.resources.food,Ae[2].resources.food)+"")&&E.p(D),(!de||we&5)&&j!==(j=Ae[3]("🧠",oe[Se(Ae[0].id)].requirements.knowledge,Ae[2].townInfo.knowledge_points)+"")&&R.p(j),(!de||we&5)&&T!==(T=Ae[3]("🪵",oe[Se(Ae[0].id)].requirements.resources.wood,Ae[2].resources.wood)+"")&&N.p(T),(!de||we&5)&&L!==(L=Ae[3]("🪨",oe[Se(Ae[0].id)].requirements.resources.stone,Ae[2].resources.stone)+"")&&y.p(L),(!de||we&5)&&x!==(x=Ae[3]("🧲",oe[Se(Ae[0].id)].requirements.resources.metal,Ae[2].resources.metal)+"")&&q.p(x),(!de||we&5)&&te!==(te=Ae[3]("🔋",oe[Se(Ae[0].id)].active_costs.power,Ae[2].resources.power)+"")&&Y.p(te),(!de||we&5)&&re!==(re=Ae[3]("🧑‍⚖️",oe[Se(Ae[0].id)].requirements.resources.bureaucracy,Ae[2].resources.bureaucracy)+"")&&ne.p(re),we&1&&(_=oe[Se(Ae[0].id)].requirements.employees!=0),_?Ne?Ne.p(Ae,we):(Ne=uu(Ae),Ne.c(),Ne.m(g,null)):Ne&&(Ne.d(1),Ne=null),we&1&&(Z=oe[Se(Ae[0].id)].revenue_per_week!=0),Z?He?(He.p(Ae,we),we&1&&C(He,1)):(He=fu(Ae),He.c(),C(He,1),He.m(e,ce)):He&&(Oe(),S(He,1,1,()=>{He=null}),Ie()),we&1&&(ye=Object.values(oe[Se(Ae[0].id)].active_costs).some(ku)),ye?Je?(Je.p(Ae,we),we&1&&C(Je,1)):(Je=cu(Ae),Je.c(),C(Je,1),Je.m(e,Ce)):Je&&(Oe(),S(Je,1,1,()=>{Je=null}),Ie()),we&1&&(qe=Object.values(oe[Se(Ae[0].id)].requirements.plots).length>0),qe?Ke?(Ke.p(Ae,we),we&1&&C(Ke,1)):(Ke=pu(Ae),Ke.c(),C(Ke,1),Ke.m(e,Pe)):Ke&&(Oe(),S(Ke,1,1,()=>{Ke=null}),Ie()),we&1&&(Ze=Object.values(oe[Se(Ae[0].id)].generated_resources).some(wu)||oe[Se(Ae[0].id)].knowledge_points_per_month>0),Ze?Ge?(Ge.p(Ae,we),we&1&&C(Ge,1)):(Ge=gu(Ae),Ge.c(),C(Ge,1),Ge.m(e,null)):Ge&&(Oe(),S(Ge,1,1,()=>{Ge=null}),Ie())},i(Ae){de||(C(d.$$.fragment,Ae),C(He),C(Je),C(Ke),C(Ge),de=!0)},o(Ae){S(d.$$.fragment,Ae),S(He),S(Je),S(Ke),S(Ge),de=!1},d(Ae){Ae&&M(e),K(d),Ne&&Ne.d(),He&&He.d(),Je&&Je.d(),Ke&&Ke.d(),Ge&&Ge.d()}}}function uu(t){let e,n,o=oe[Se(t[0].id)].requirements.employees+"",i,r,l;return{c(){e=I("span"),n=G("👥 "),i=G(o),r=G(" employees"),P(e,"class",l=oe[Se(t[0].id)].requirements.employees>t[2].townInfo.population_count-t[2].townInfo.employees&&t[1]?"px-1 text-textDanger font-bold border-2 border-red-400":"")},m(a,s){O(a,e,s),v(e,n),v(e,i),v(e,r)},p(a,s){s&1&&o!==(o=oe[Se(a[0].id)].requirements.employees+"")&&ae(i,o),s&7&&l!==(l=oe[Se(a[0].id)].requirements.employees>a[2].townInfo.population_count-a[2].townInfo.employees&&a[1]?"px-1 text-textDanger font-bold border-2 border-red-400":"")&&P(e,"class",l)},d(a){a&&M(e)}}}function fu(t){let e,n,o,i,r,l,a,s=oe[Se(t[0].id)].revenue_per_week+"",u,f;return n=new St({props:{class:"bg-accent opacity-25 mt-0"}}),{c(){e=I("div"),X(n.$$.fragment),o=B(),i=I("span"),i.textContent="Weekly revenue",r=B(),l=I("span"),a=G("💰 "),u=G(s),P(i,"class","font-semibold"),P(e,"class","flex flex-col gap-1 text-xs")},m(c,d){O(c,e,d),U(n,e,null),v(e,o),v(e,i),v(e,r),v(e,l),v(l,a),v(l,u),f=!0},p(c,d){(!f||d&1)&&s!==(s=oe[Se(c[0].id)].revenue_per_week+"")&&ae(u,s)},i(c){f||(C(n.$$.fragment,c),f=!0)},o(c){S(n.$$.fragment,c),f=!1},d(c){c&&M(e),K(n)}}}function cu(t){let e,n,o,i,r,l;n=new St({props:{class:"bg-accent opacity-25 mt-2"}});let a=Ue(Object.keys(oe[Se(t[0].id)].active_costs)),s=[];for(let u=0;u<a.length;u+=1)s[u]=mu(su(t,a,u));return{c(){e=I("div"),X(n.$$.fragment),o=B(),i=I("span"),i.textContent="Weekly Costs",r=B();for(let u=0;u<s.length;u+=1)s[u].c();P(i,"class","font-semibold"),P(e,"class","flex flex-col gap-1 text-xs")},m(u,f){O(u,e,f),U(n,e,null),v(e,o),v(e,i),v(e,r);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(e,null);l=!0},p(u,f){if(f&1){a=Ue(Object.keys(oe[Se(u[0].id)].active_costs));let c;for(c=0;c<a.length;c+=1){const d=su(u,a,c);s[c]?s[c].p(d,f):(s[c]=mu(d),s[c].c(),s[c].m(e,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=a.length}},i(u){l||(C(n.$$.fragment,u),l=!0)},o(u){S(n.$$.fragment,u),l=!1},d(u){u&&M(e),K(n),at(s,u)}}}function du(t){let e,n=An(t[4])+"",o,i,r=Vi(t[4])+"",l,a,s=-1*Object.values(oe[Se(t[0].id)].active_costs)[t[6]]+"",u,f,c;return{c(){e=I("span"),o=G(n),i=B(),l=G(r),a=B(),u=G(s),f=B(),P(e,"class",c=Object.values(oe[Se(t[0].id)].active_costs)[t[6]]>0?"text-textDanger":"text-textHappy")},m(d,h){O(d,e,h),v(e,o),v(e,i),v(e,l),v(e,a),v(e,u),v(e,f)},p(d,h){h&1&&n!==(n=An(d[4])+"")&&ae(o,n),h&1&&r!==(r=Vi(d[4])+"")&&ae(l,r),h&1&&s!==(s=-1*Object.values(oe[Se(d[0].id)].active_costs)[d[6]]+"")&&ae(u,s),h&1&&c!==(c=Object.values(oe[Se(d[0].id)].active_costs)[d[6]]>0?"text-textDanger":"text-textHappy")&&P(e,"class",c)},d(d){d&&M(e)}}}function mu(t){let e=Object.values(oe[Se(t[0].id)].active_costs)[t[6]]!=0,n,o=e&&du(t);return{c(){o&&o.c(),n=De()},m(i,r){o&&o.m(i,r),O(i,n,r)},p(i,r){r&1&&(e=Object.values(oe[Se(i[0].id)].active_costs)[i[6]]!=0),e?o?o.p(i,r):(o=du(i),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(i){i&&M(n),o&&o.d(i)}}}function pu(t){let e,n,o,i,r,l;n=new St({props:{class:"bg-accent opacity-25 mt-2"}});let a=Ue(Object.keys(oe[Se(t[0].id)].requirements.plots)),s=[];for(let u=0;u<a.length;u+=1)s[u]=_u(lu(t,a,u));return{c(){e=I("div"),X(n.$$.fragment),o=B(),i=I("span"),i.textContent="Required Plots",r=B();for(let u=0;u<s.length;u+=1)s[u].c();P(i,"class","font-semibold"),P(e,"class","flex flex-col gap-1 text-xs")},m(u,f){O(u,e,f),U(n,e,null),v(e,o),v(e,i),v(e,r);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(e,null);l=!0},p(u,f){if(f&5){a=Ue(Object.keys(oe[Se(u[0].id)].requirements.plots));let c;for(c=0;c<a.length;c+=1){const d=lu(u,a,c);s[c]?s[c].p(d,f):(s[c]=_u(d),s[c].c(),s[c].m(e,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=a.length}},i(u){l||(C(n.$$.fragment,u),l=!0)},o(u){S(n.$$.fragment,u),l=!1},d(u){u&&M(e),K(n),at(s,u)}}}function hu(t){var l;let e,n=((l=Gl(Object.values(oe[Se(t[0].id)].requirements.plots)[t[6]]))==null?void 0:l.title)+"",o,i,r;return{c(){e=I("span"),o=G(n),i=B(),P(e,"class",r=Be(Object.values(oe[Se(t[0].id)].requirements.plots)[t[6]],t[2]).length==0?"text-textDanger border-2 border-red-400 font-semibold px-1":"text-textHappy")},m(a,s){O(a,e,s),v(e,o),v(e,i)},p(a,s){var u;s&1&&n!==(n=((u=Gl(Object.values(oe[Se(a[0].id)].requirements.plots)[a[6]]))==null?void 0:u.title)+"")&&ae(o,n),s&5&&r!==(r=Be(Object.values(oe[Se(a[0].id)].requirements.plots)[a[6]],a[2]).length==0?"text-textDanger border-2 border-red-400 font-semibold px-1":"text-textHappy")&&P(e,"class",r)},d(a){a&&M(e)}}}function _u(t){let e=Object.values(oe[Se(t[0].id)].requirements.plots)[t[6]]!=0,n,o=e&&hu(t);return{c(){o&&o.c(),n=De()},m(i,r){o&&o.m(i,r),O(i,n,r)},p(i,r){r&1&&(e=Object.values(oe[Se(i[0].id)].requirements.plots)[i[6]]!=0),e?o?o.p(i,r):(o=hu(i),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(i){i&&M(n),o&&o.d(i)}}}function gu(t){let e,n,o,i,r,l=oe[Se(t[0].id)].knowledge_points_per_month>0,a,s;n=new St({props:{class:"bg-accent opacity-25 mt-2"}});let u=l&&bu(t),f=Ue(Object.keys(oe[Se(t[0].id)].generated_resources)),c=[];for(let d=0;d<f.length;d+=1)c[d]=yu(ru(t,f,d));return{c(){e=I("div"),X(n.$$.fragment),o=B(),i=I("span"),i.textContent="Generated Resources",r=B(),u&&u.c(),a=B();for(let d=0;d<c.length;d+=1)c[d].c();P(i,"class","font-semibold"),P(e,"class","flex flex-col gap-1 text-xs")},m(d,h){O(d,e,h),U(n,e,null),v(e,o),v(e,i),v(e,r),u&&u.m(e,null),v(e,a);for(let m=0;m<c.length;m+=1)c[m]&&c[m].m(e,null);s=!0},p(d,h){if(h&1&&(l=oe[Se(d[0].id)].knowledge_points_per_month>0),l?u?u.p(d,h):(u=bu(d),u.c(),u.m(e,a)):u&&(u.d(1),u=null),h&1){f=Ue(Object.keys(oe[Se(d[0].id)].generated_resources));let m;for(m=0;m<f.length;m+=1){const p=ru(d,f,m);c[m]?c[m].p(p,h):(c[m]=yu(p),c[m].c(),c[m].m(e,null))}for(;m<c.length;m+=1)c[m].d(1);c.length=f.length}},i(d){s||(C(n.$$.fragment,d),s=!0)},o(d){S(n.$$.fragment,d),s=!1},d(d){d&&M(e),K(n),u&&u.d(),at(c,d)}}}function bu(t){let e,n,o=Math.round(oe[Se(t[0].id)].knowledge_points_per_month)+"",i,r;return{c(){e=I("span"),n=G("🧠 "),i=G(o),r=G(" (monthly)")},m(l,a){O(l,e,a),v(e,n),v(e,i),v(e,r)},p(l,a){a&1&&o!==(o=Math.round(oe[Se(l[0].id)].knowledge_points_per_month)+"")&&ae(i,o)},d(l){l&&M(e)}}}function vu(t){let e,n=Vi(t[4])+"",o,i,r=An(t[4])+"",l,a,s=Wl(Object.values(oe[Se(t[0].id)].generated_resources)[t[6]],!1)+"",u,f,c;return{c(){e=I("span"),o=G(n),i=B(),l=G(r),a=B(),u=G(s),f=B(),P(e,"class",c=Object.values(oe[Se(t[0].id)].generated_resources)[t[6]]>0?"text-textHappy":"text-textDanger")},m(d,h){O(d,e,h),v(e,o),v(e,i),v(e,l),v(e,a),v(e,u),v(e,f)},p(d,h){h&1&&n!==(n=Vi(d[4])+"")&&ae(o,n),h&1&&r!==(r=An(d[4])+"")&&ae(l,r),h&1&&s!==(s=Wl(Object.values(oe[Se(d[0].id)].generated_resources)[d[6]],!1)+"")&&ae(u,s),h&1&&c!==(c=Object.values(oe[Se(d[0].id)].generated_resources)[d[6]]>0?"text-textHappy":"text-textDanger")&&P(e,"class",c)},d(d){d&&M(e)}}}function yu(t){let e=Object.values(oe[Se(t[0].id)].generated_resources)[t[6]]!=0,n,o=e&&vu(t);return{c(){o&&o.c(),n=De()},m(i,r){o&&o.m(i,r),O(i,n,r)},p(i,r){r&1&&(e=Object.values(oe[Se(i[0].id)].generated_resources)[i[6]]!=0),e?o?o.p(i,r):(o=vu(i),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(i){i&&M(n),o&&o.d(i)}}}function u3(t){let e,n,o=t[0]!=null&&au(t);return{c(){o&&o.c(),e=De()},m(i,r){o&&o.m(i,r),O(i,e,r),n=!0},p(i,[r]){i[0]!=null?o?(o.p(i,r),r&1&&C(o,1)):(o=au(i),o.c(),C(o,1),o.m(e.parentNode,e)):o&&(Oe(),S(o,1,1,()=>{o=null}),Ie())},i(i){n||(C(o),n=!0)},o(i){S(o),n=!1},d(i){i&&M(e),o&&o.d(i)}}}function Vi(t){switch(t){case"food":return"🥕";case"knowledge":return"🧠";case"wood":return"🪵";case"stone":return"🪨";case"metal":return"🧲";case"power":return"🔋";case"bureaucracy":return"🧑‍⚖️";default:return"💰"}}const wu=t=>t!=0,ku=t=>t!=0;function f3(t,e,n){let o;ue(t,Fe,a=>n(2,o=a));let{option:i}=e,{checkRequirements:r=!0}=e;function l(a,s,u){if(s==0||s==null)return"<span class='hidden'></span>";let f="",c="";return u<s&&r&&(c="text-textDanger border-2 border-red-400"),f=`<span class='${c}'>${a} ${s}</span>`,f}return t.$$set=a=>{"option"in a&&n(0,i=a.option),"checkRequirements"in a&&n(1,r=a.checkRequirements)},[i,r,o,l]}class cd extends he{constructor(e){super(),pe(this,e,f3,u3,me,{option:0,checkRequirements:1})}}function Cu(t,e,n){const o=t.slice();return o[24]=e[n],o}function Au(t,e,n){const o=t.slice();return o[27]=e[n],o}function Su(t){let e,n,o,i,r,l,a,s,u,f=!t[6].isMineralSource&&Tu(t),c=Ue(t[6].isMineralSource?[1]:[1,2,3,4,5]),d=[];for(let m=0;m<c.length;m+=1)d[m]=Du(Cu(t,c,m));const h=m=>S(d[m],1,1,()=>{d[m]=null});return{c(){e=I("div"),n=I("div"),o=I("div"),f&&f.c(),i=B(),r=I("div");for(let m=0;m<d.length;m+=1)d[m].c();P(r,"class",l="flex gap-2 max-h-["+Or+"] pb-24 "+(t[6].isMineralSource||t[3].length>0||t[7]?"flex-row flex-wrap max":"w-full overflow-y-scroll scroll flex-col")),P(o,"class","flex flex-col gap-2 px-2 justify-end"),P(n,"class","items-center justify-center w-[100%] align-bottom bg-popupBackground text-sidebarText px-6 shadow-2xl rounded-t-2xl py-6 "),P(e,"class","w-[100vw] fixed bottom-[-5px] max-h-["+Or+"] z-50 flex flex-col justify-center text-center items-center")},m(m,p){O(m,e,p),v(e,n),v(n,o),f&&f.m(o,null),v(o,i),v(o,r);for(let g=0;g<d.length;g+=1)d[g]&&d[g].m(r,null);a=!0,s||(u=ee(o,"click",t[10]),s=!0)},p(m,p){if(m[6].isMineralSource?f&&(Oe(),S(f,1,1,()=>{f=null}),Ie()):f?(f.p(m,p),p&64&&C(f,1)):(f=Tu(m),f.c(),C(f,1),f.m(o,i)),p&248){c=Ue(m[6].isMineralSource?[1]:[1,2,3,4,5]);let g;for(g=0;g<c.length;g+=1){const A=Cu(m,c,g);d[g]?(d[g].p(A,p),C(d[g],1)):(d[g]=Du(A),d[g].c(),C(d[g],1),d[g].m(r,null))}for(Oe(),g=c.length;g<d.length;g+=1)h(g);Ie()}(!a||p&200&&l!==(l="flex gap-2 max-h-["+Or+"] pb-24 "+(m[6].isMineralSource||m[3].length>0||m[7]?"flex-row flex-wrap max":"w-full overflow-y-scroll scroll flex-col")))&&P(r,"class",l)},i(m){if(!a){C(f);for(let p=0;p<c.length;p+=1)C(d[p]);a=!0}},o(m){S(f),d=d.filter(Boolean);for(let p=0;p<d.length;p+=1)S(d[p]);a=!1},d(m){m&&M(e),f&&f.d(),at(d,m),s=!1,u()}}}function Tu(t){let e,n,o,i,r,l,a,s,u,f,c,d=t[5].plots[t[0]][t[1]].type!==-1&&t[11](t[0],t[1]),h,m,p,g,A,b={type:"text",autofocus:!0,id:"search-bar",placeholder:"Search Plot Options...",value:t[3],class:"border rounded w-auto bg-white  text-xs"};i=new wl({props:b}),t[15](i),i.$on("input",t[9]);let w=d&&Mu(t);return{c(){e=I("div"),n=I("div"),o=I("div"),X(i.$$.fragment),r=B(),l=I("div"),a=I("input"),s=B(),u=I("label"),u.textContent="Buildable",f=B(),c=I("div"),w&&w.c(),h=B(),m=I("div"),m.textContent="Press escape or click to close",P(o,"class","flex items-end"),P(a,"type","checkbox"),P(a,"id","toggle-affordable"),P(a,"class","rounded"),a.checked=t[7],P(u,"for","toggle-affordable"),P(u,"class","ml-2 no-select cursor-pointer"),P(l,"class","flex items-center ml-4"),P(c,"class","flex justify-end ml-6"),P(m,"class","text-xs p-2 bg-white rounded-xl cursor-pointer"),P(n,"class","flex flex-row w-full"),P(e,"class","text-sm")},m(E,D){O(E,e,D),v(e,n),v(n,o),U(i,o,null),v(n,r),v(n,l),v(l,a),v(l,s),v(l,u),v(n,f),v(n,c),w&&w.m(c,null),v(n,h),v(n,m),p=!0,g||(A=[ee(a,"change",Yd),ee(m,"click",t[16])],g=!0)},p(E,D){const $={};D&8&&($.value=E[3]),i.$set($),(!p||D&128)&&(a.checked=E[7]),D&35&&(d=E[5].plots[E[0]][E[1]].type!==-1&&E[11](E[0],E[1])),d?w?w.p(E,D):(w=Mu(E),w.c(),w.m(c,null)):w&&(w.d(1),w=null)},i(E){p||(C(i.$$.fragment,E),p=!0)},o(E){S(i.$$.fragment,E),p=!1},d(E){E&&M(e),t[15](null),K(i),w&&w.d(),g=!1,je(A)}}}function Mu(t){let e,n,o;return{c(){e=I("button"),e.textContent="❌ Bulldoze",P(e,"id","bulldoze"),P(e,"class","px-2 py-2 bg-red-500 rounded hover:bg-red-600 transition duration-300 ease-in-out")},m(i,r){O(i,e,r),n||(o=ee(e,"click",t[12]),n=!0)},p:Me,d(i){i&&M(e),n=!1,o()}}}function Ou(t){return{c:Me,m:Me,d:Me}}function Iu(t){let e,n,o=t[27].active_costs.power+"",i;return{c(){e=I("span"),n=G("🔋"),i=G(o),P(e,"class","bg-yellow-300 text-xs px-1 py-0.5 rounded-2xl absolute top-[-8px] right-[-1px] border-2 border-green-700")},m(r,l){O(r,e,l),v(e,n),v(e,i)},p(r,l){l&80&&o!==(o=r[27].active_costs.power+"")&&ae(i,o)},d(r){r&&M(e)}}}function Nu(t){let e;return{c(){e=I("span"),e.textContent="🛝",P(e,"class","bg-blue-200 text-xs px-1 py-0.5 rounded-2xl absolute bottom-[2px] left-[-1px] border-2 border-blue-600")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function Pu(t){let e,n,o=Be(t[27].id,t[5]).length+"",i;return{c(){e=I("span"),n=G("x"),i=G(o),P(e,"class","bg-black text-xs text-white px-1 py-0.5 rounded-2xl absolute top-[-5px] left-[-1px] border-2 border-white")},m(r,l){O(r,e,l),v(e,n),v(e,i)},p(r,l){l&112&&o!==(o=Be(r[27].id,r[5]).length+"")&&ae(i,o)},d(r){r&&M(e)}}}function Eu(t){let e,n,o=Nt(t[27].revenue_per_week,!1)+"",i,r;return{c(){e=I("br"),n=G("Makes 💰 "),i=G(o),r=G("/week")},m(l,a){O(l,e,a),O(l,n,a),O(l,i,a),O(l,r,a)},p(l,a){a&80&&o!==(o=Nt(l[27].revenue_per_week,!1)+"")&&ae(i,o)},d(l){l&&(M(e),M(n),M(i),M(r))}}}function Ru(t){let e,n,o=Nt(t[27].requirements.employees,!1)+"",i;return{c(){e=I("br"),n=G("Employs "),i=G(o)},m(r,l){O(r,e,l),O(r,n,l),O(r,i,l)},p(r,l){l&80&&o!==(o=Nt(r[27].requirements.employees,!1)+"")&&ae(i,o)},d(r){r&&(M(e),M(n),M(i))}}}function c3(t){let e,n,o,i=(t[27].selected?"✅":Vl(t[27].title))+"",r,l,a,s=t[27].title.substring(2)+"",u,f,c,d,h=Be(t[27].id,t[5]).length>0,m,p,g,A=Nt(t[27].requirements.gold,!1)+"",b,w,E,D,$,R,j=t[27].active_costs.power>0&&Iu(t),F=(t[27].type=="recreation"||t[27].type=="shop")&&Nu(),N=h&&Pu(t),T=t[27].revenue_per_week>0&&Eu(t),k=t[27].requirements.employees>0&&Ru(t);return{c(){e=I("div"),n=I("div"),o=I("span"),r=G(i),l=B(),a=I("span"),u=G(s),f=B(),j&&j.c(),c=B(),F&&F.c(),d=B(),N&&N.c(),m=B(),p=I("span"),g=G("Costs 💰 "),b=G(A),w=B(),T&&T.c(),E=B(),k&&k.c(),P(o,"class","text-md text-center"),P(a,"class","text-sm text-center"),P(n,"class","pt-2"),P(p,"style",D=t[27].styling),P(p,"class","text-xs text-center pt-4"),P(e,"class",$="plotOption cursor-pointer min-w-40 text-white "+(t[6].isMineralSource||t[3].length>0?"mx-2 my-2":"")+" relative h-[110px] rounded-xl flex flex-col transition-all duration-100 "+(t[27].affordable||t[27].selected?"cursor-pointer":"opacity-30 cursor-not-allowed ")+" "+(t[27].selected?"border-4 border-yellow-200 opacity-100 rounded-none":"")),P(e,"data-plotoptionid",R=t[27].id),ze(e,"background-color",vi(Se(t[27].id),!0))},m(y,L){O(y,e,L),v(e,n),v(n,o),v(o,r),v(n,l),v(n,a),v(a,u),v(e,f),j&&j.m(e,null),v(e,c),F&&F.m(e,null),v(e,d),N&&N.m(e,null),v(e,m),v(e,p),v(p,g),v(p,b),v(p,w),T&&T.m(p,null),v(p,E),k&&k.m(p,null)},p(y,L){L&80&&i!==(i=(y[27].selected?"✅":Vl(y[27].title))+"")&&ae(r,i),L&80&&s!==(s=y[27].title.substring(2)+"")&&ae(u,s),y[27].active_costs.power>0?j?j.p(y,L):(j=Iu(y),j.c(),j.m(e,c)):j&&(j.d(1),j=null),y[27].type=="recreation"||y[27].type=="shop"?F||(F=Nu(),F.c(),F.m(e,d)):F&&(F.d(1),F=null),L&112&&(h=Be(y[27].id,y[5]).length>0),h?N?N.p(y,L):(N=Pu(y),N.c(),N.m(e,m)):N&&(N.d(1),N=null),L&80&&A!==(A=Nt(y[27].requirements.gold,!1)+"")&&ae(b,A),y[27].revenue_per_week>0?T?T.p(y,L):(T=Eu(y),T.c(),T.m(p,E)):T&&(T.d(1),T=null),y[27].requirements.employees>0?k?k.p(y,L):(k=Ru(y),k.c(),k.m(p,null)):k&&(k.d(1),k=null),L&80&&D!==(D=y[27].styling)&&P(p,"style",D),L&88&&$!==($="plotOption cursor-pointer min-w-40 text-white "+(y[6].isMineralSource||y[3].length>0?"mx-2 my-2":"")+" relative h-[110px] rounded-xl flex flex-col transition-all duration-100 "+(y[27].affordable||y[27].selected?"cursor-pointer":"opacity-30 cursor-not-allowed ")+" "+(y[27].selected?"border-4 border-yellow-200 opacity-100 rounded-none":""))&&P(e,"class",$),L&80&&R!==(R=y[27].id)&&P(e,"data-plotoptionid",R),L&80&&ze(e,"background-color",vi(Se(y[27].id),!0))},d(y){y&&M(e),j&&j.d(),F&&F.d(),N&&N.d(),T&&T.d(),k&&k.d()}}}function d3(t){let e,n;return e=new cd({props:{option:t[27]}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const r={};i&80&&(r.option=o[27]),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function m3(t){let e,n,o,i;return e=new _o({props:{$$slots:{default:[c3]},$$scope:{ctx:t}}}),o=new po({props:{class:"",$$slots:{default:[d3]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=B(),X(o.$$.fragment)},m(r,l){U(e,r,l),O(r,n,l),U(o,r,l),i=!0},p(r,l){const a={};l&1073741944&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&1073741904&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&M(n),K(e,r),K(o,r)}}}function Lu(t,e){let n,o,i;return o=new ho({props:{openDelay:400,closeDelay:0,$$slots:{default:[m3]},$$scope:{ctx:e}}}),{key:t,first:null,c(){n=De(),X(o.$$.fragment),this.first=n},m(r,l){O(r,n,l),U(o,r,l),i=!0},p(r,l){e=r;const a={};l&1073741944&&(a.$$scope={dirty:l,ctx:e}),o.$set(a)},i(r){i||(C(o.$$.fragment,r),i=!0)},o(r){S(o.$$.fragment,r),i=!1},d(r){r&&M(n),K(o,r)}}}function $u(t){let e;return{c(){e=I("span"),e.textContent="No plots available!",P(e,"class","text-sm pt-2")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function Du(t){let e,n,o,i=[],r=new Map,l,a=t[4].filter(c).length===0&&t[3].length==0&&!t[6].isMineralSource,s,u,f;function c(...A){return t[14](t[24],...A)}let d=t[3].length==0&&!t[6].isMineralSource&&!t[7]&&Ou();function h(...A){return t[17](t[24],...A)}let m=Ue(t[4].filter(h));const p=A=>A[27].id;for(let A=0;A<m.length;A+=1){let b=Au(t,m,A),w=p(b);r.set(w,i[A]=Lu(w,b))}let g=a&&$u();return{c(){e=I("div"),d&&d.c(),n=B(),o=I("div");for(let A=0;A<i.length;A+=1)i[A].c();l=B(),g&&g.c(),u=B(),P(o,"class",s="flex flex-row text-start justify-start items-start flex-wrap py-4 "+(t[6].isMineralSource||t[3].length>0?"pt-0 gap-0":"pt-2 gap-2")+" w-full align-middle"),P(e,"class","$")},m(A,b){O(A,e,b),d&&d.m(e,null),v(e,n),v(e,o);for(let w=0;w<i.length;w+=1)i[w]&&i[w].m(o,null);v(o,l),g&&g.m(o,null),v(e,u),f=!0},p(A,b){t=A,t[3].length==0&&!t[6].isMineralSource&&!t[7]?d||(d=Ou(),d.c(),d.m(e,n)):d&&(d.d(1),d=null),b&120&&(m=Ue(t[4].filter(h)),Oe(),i=Ld(i,b,p,1,t,m,r,o,Rd,Lu,l,Au),Ie()),b&88&&(a=t[4].filter(c).length===0&&t[3].length==0&&!t[6].isMineralSource),a?g||(g=$u(),g.c(),g.m(o,null)):g&&(g.d(1),g=null),(!f||b&72&&s!==(s="flex flex-row text-start justify-start items-start flex-wrap py-4 "+(t[6].isMineralSource||t[3].length>0?"pt-0 gap-0":"pt-2 gap-2")+" w-full align-middle"))&&P(o,"class",s)},i(A){if(!f){for(let b=0;b<m.length;b+=1)C(i[b]);f=!0}},o(A){for(let b=0;b<i.length;b+=1)S(i[b]);f=!1},d(A){A&&M(e),d&&d.d();for(let b=0;b<i.length;b+=1)i[b].d();g&&g.d()}}}function p3(t){let e,n,o=t[2]&&Su(t);return{c(){o&&o.c(),e=De()},m(i,r){o&&o.m(i,r),O(i,e,r),n=!0},p(i,[r]){i[2]?o?(o.p(i,r),r&4&&C(o,1)):(o=Su(i),o.c(),C(o,1),o.m(e.parentNode,e)):o&&(Oe(),S(o,1,1,()=>{o=null}),Ie())},i(i){n||(C(o),n=!0)},o(i){S(o),n=!1},d(i){i&&M(e),o&&o.d(i)}}}const Or="50vh";function h3(t,e,n){let o,i,r;ue(t,Fe,N=>n(5,o=N)),ue(t,et,N=>n(6,i=N)),ue(t,fl,N=>n(7,r=N));let{x:l=0}=e,{y:a=0}=e,{open:s=!1}=e,{tooltip:u=""}=e,f="",c=oe,d,h=c.map(N=>Object.assign(Object.assign({},N),{affordable:g(N,o),selected:p(N)}));function m(N){n(3,f=N.target.value||"")}function p(N){return o.plots[l][a].type>-1?c[o.plots[l][a].type].id===N.id:!1}function g(N,T){let k=!0;N.requirements.gold>T.townInfo.gold&&(k=!1);let y=T.townInfo.population_count-T.townInfo.employees;return N.requirements.employees!==void 0&&N.requirements.employees>0&&N.requirements.employees>y&&(k=!1),N.requirements.knowledge!==void 0&&N.requirements.knowledge>T.townInfo.knowledge_points&&(k=!1),N.requirements.resources!==void 0&&Object.keys(N.requirements.resources).forEach(L=>{N.requirements.resources[L]!=0&&o.resources[L]<N.requirements.resources[L]&&(k=!1)}),N.active_costs!==void 0&&(N.active_costs.gold>T.townInfo.gold||N.active_costs.power>T.resources.power||N.active_costs.wood>T.resources.wood||N.active_costs.stone>T.resources.stone||N.active_costs.metal>T.resources.metal||N.active_costs.bureaucracy>T.resources.bureaucracy||N.active_costs.food>T.resources.food)&&(k=!1),N.requirements.plots.length>0&&N.requirements.plots.forEach(L=>{Be(L,T).length===0&&(k=!1)}),k}function A(N){const T=N.target.closest(".plotOption");if(T){const k=T.dataset.plotoptionid;b(k)}}function b(N){document.querySelectorAll(".plotOption").forEach(y=>{y.classList.remove("active")});const k=document.querySelector(`[data-plotoptionid="${N}"]`);k&&(k.classList.add("active"),E(l,a,N))}function w(N,T){if(o.liege_location!=null&&N==o.liege_location[0]&&T==o.liege_location[1]||i.isMineralSource)return!1;let k=0;return N>0&&o.plots[N-1][T].type!==-1&&k++,N<o.plots.length-1&&o.plots[N+1][T].type!==-1&&k++,T>0&&o.plots[N][T-1].type!==-1&&k++,T<o.plots[0].length-1&&o.plots[N][T+1].type!==-1&&k++,k<=4}function E(N,T,k){let y=o;const L=oe.findIndex(W=>W.id===k);Object.entries(oe[L].requirements).map(([W,Y])=>`<li>${An(W)}: ${Y}</li>`);let V=oe[L];if(V.requirements.adjacent_plots!==void 0){let W=V.requirements.adjacent_plots;if(Im(N,T,y,V.requirements.adjacent_plots)===!1)return bt.set(`This plot requires adjacent plots of type: ${W.join(", ")}`)}let q=!0;if((V.requirements.gold>y.townInfo.gold||V.requirements.employees>y.townInfo.population_count-y.townInfo.employees)&&(q=!1),V.requirements.size!=null&&V.requirements.size!=1&&q){let z=function(ne,re){let le={x:ne,y:re};return le.x===0&&le.y===0?!0:[{x:le.x-1,y:le.y},{x:le.x+1,y:le.y},{x:le.x,y:le.y-1},{x:le.x,y:le.y+1}].some(J=>J.x<0||J.x>o.plots.length-1||J.y<0||J.y>o.plots.length-1?!1:o.plots[J.x][J.y].active)};var x=z;let W=V.requirements.size,Y=[],te=c[L].title.toLowerCase().indexOf("school")!=-1;for(let ne=0;ne<4;ne++){let re=[[N,T]];ne===0?(re.push([N-(W-1),T-(W-1)]),re.push([N-(W-1),T]),re.push([N,T-(W-1)])):ne===1?(re.push([N,T-(W-1)]),re.push([N+(W-1),T-(W-1)]),re.push([N+(W-1),T])):ne===2?(re.push([N-(W-1),T]),re.push([N-(W-1),T+(W-1)]),re.push([N,T+(W-1)])):ne===3&&(re.push([N,T+(W-1)]),re.push([N+(W-1),T+(W-1)]),re.push([N+(W-1),T])),Y.push(re)}Y=Y.filter(ne=>ne.every(re=>re[0]>=0&&re[0]<=y.plots.length-1&&re[1]>=0&&re[1]<=y.plots.length-1&&!y.plots[re[0]][re[1]].active&&z(re[0],re[1])==!0)),Y.length===0?q=!1:Y.length>0&&Y[0].forEach(re=>{y.plots[re[0]][re[1]].active=!0,y.plots[re[0]][re[1]].type=te?-3:-2,y.plots[re[0]][re[1]].referencePlot=[N,T]})}if(q===!0){if(y.plots[N][T].type!==-1&&yi(N,T,y),n(13,u=""),y.plots[N][T].type=L,y.plots[N][T].active=!0,y.plots[N][T].referencePlot=[],y.plots[N][T].typeId=V.id,y.townInfo.gold-=V.requirements.gold,y.townInfo.gold=It(y.townInfo.gold,2),y.townInfo.population_count+=V.immediate_variable_changes.population,y.townInfo.population_max+=V.immediate_variable_changes.population,y.townInfo.happiness+=V.immediate_variable_changes.happiness,y.townInfo.health+=V.immediate_variable_changes.health,y.modifiers.happiness=It(y.modifiers.happiness*V.effect_modifiers.happiness,2),y.modifiers.health=It(y.modifiers.health*V.effect_modifiers.health,2),y.modifiers.community=It(y.modifiers.community*V.effect_modifiers.community,2),y.townInfo.employees+=V.requirements.employees,(y.plotCounts[L]===void 0||y.plotCounts[L]===null)&&(y.plotCounts[L]=0),y.plotCounts[L]++,y.lastChangeDay=y.environment.day,V.requirements.resources!==void 0){const Y=V.requirements.resources;y.resources.food-=Y.food,y.resources.wood-=Y.wood,y.resources.stone-=Y.stone,y.resources.metal-=Y.metal}switch(V.id){case"city_hall":y.hasCityHall=!0;break;case"bank":y.hasBank=!0;break}Fe.set(y),localStorage.setItem($t,JSON.stringify(y));let W=!1;for(let Y=N;Y<y.plots.length;Y++){for(let te=T;te<y.plots[Y].length;te++)if(y.plots[Y][te].active===!1&&y.plots[Y][te].mineralSource==!1&&y.plots[Y][te].water==!1){N=Y,T=te,W=!0;break}if(W)break}Re(et,i.x=N,i),Re(et,i.y=T,i),Re(et,i.visible=!1,i)}else n(13,u="You do not have enough resources to purchase this plot. If it's a 'Large' plot, make sure you have a 2x2 area available. "),document.querySelectorAll(".plotOption").forEach(Y=>{Y.classList.remove("active")})}function D(){document.querySelectorAll(".plotOption").forEach(T=>{T.classList.remove("active")}),yi(l,a,o)}const $=(N,T)=>T.level===N;function R(N){Le[N?"unshift":"push"](()=>{d=N,n(8,d)})}const j=()=>Re(et,i.visible=!1,i),F=(N,T)=>i.isMineralSource?T.id==="mine":T.level===N;return t.$$set=N=>{"x"in N&&n(0,l=N.x),"y"in N&&n(1,a=N.y),"open"in N&&n(2,s=N.open),"tooltip"in N&&n(13,u=N.tooltip)},t.$$.update=()=>{t.$$.dirty&240&&o&&(n(4,h=c.map(N=>Object.assign(Object.assign({},N),{affordable:g(N,o),selected:p(N)}))),Be("tree_farm",o).length===0&&n(4,h=h.filter(N=>N.id==="small_homes"||N.id==="farm"||N.id==="tree_farm")),i.isMineralSource&&n(4,h=h.filter(N=>N.id==="mine")),r&&(n(4,h=h.filter(N=>N.affordable)),i.isMineralSource&&n(4,h=oe.filter(N=>N.id==="mine"))),Object.keys(ql).forEach(N=>{let T=ql[N];if(T>0){let k=Be(N,o).length;n(4,h=h.filter(y=>y.id!==N||k<T))}}),h.sort((N,T)=>N.selected&&!T.selected?-1:0),i.isMineralSource||n(4,h=h.filter(N=>N.id!=="mine"))),t.$$.dirty&24&&n(4,h=h.filter(N=>N.title.toLowerCase().includes(f.toLowerCase())))},[l,a,s,f,h,o,i,r,d,m,A,w,D,u,$,R,j,F]}class dd extends he{constructor(e){super(),pe(this,e,h3,p3,me,{x:0,y:1,open:2,tooltip:13})}}function _3(t){let e,n,o;return{c(){e=I("span"),n=G("My liege, if you build a City Hall, you can expand your city "),o=G(t[0]),P(e,"class","text-xs")},m(i,r){O(i,e,r),v(e,n),v(e,o)},p(i,r){r&1&&ae(o,i[0])},i:Me,o:Me,d(i){i&&M(e)}}}function g3(t){let e,n;return e=new At({props:{class:"bg-accent h-max rounded-2xl hover:scale-110 transition-transform duration-200 ease-in-out hover:drop-shadow-2xl",$$slots:{default:[b3]},$$scope:{ctx:t}}}),e.$on("click",t[2]),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const r={};i&11&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function b3(t){let e,n,o,i,r,l=t[0].toUpperCase()+"",a,s,u,f,c,d,h,m,p,g,A,b=Math.round(Math.pow(1.7,t[1].kingdom_expansions+5))+"",w,E,D,$;return{c(){e=I("div"),n=G("My liege, you can expand your "),o=I("br"),i=G(`kingdom
        `),r=I("span"),a=G(l),s=G(`
        using
        `),u=I("br"),f=G(`your
        `),c=I("span"),c.textContent="City Hall",d=G("!"),h=I("br"),m=I("br"),p=B(),g=I("span"),A=G("Requires "),w=G(b),E=G(` Guardians
          `),D=I("br"),$=G("to be employed. (see city mgmt menu)"),P(r,"class","font-extrabold text-blue-200"),P(c,"class","text-blue-200 bold"),P(g,"class","opacity-75 text-xs")},m(R,j){O(R,e,j),v(e,n),v(e,o),v(e,i),v(e,r),v(r,a),v(e,s),v(e,u),v(e,f),v(e,c),v(e,d),v(e,h),v(e,m),v(e,p),v(e,g),v(g,A),v(g,w),v(g,E),v(g,D),v(g,$)},p(R,j){j&1&&l!==(l=R[0].toUpperCase()+"")&&ae(a,l),j&2&&b!==(b=Math.round(Math.pow(1.7,R[1].kingdom_expansions+5))+"")&&ae(w,b)},d(R){R&&M(e)}}}function v3(t){let e,n,o,i,r;const l=[g3,_3],a=[];function s(u,f){return f&2&&(n=null),n==null&&(n=Be("city_hall",u[1]).length>0),n?0:1}return o=s(t,-1),i=a[o]=l[o](t),{c(){e=I("div"),i.c(),P(e,"class","w-48 h-max")},m(u,f){O(u,e,f),a[o].m(e,null),r=!0},p(u,[f]){let c=o;o=s(u,f),o===c?a[o].p(u,f):(Oe(),S(a[c],1,1,()=>{a[c]=null}),Ie(),i=a[o],i?i.p(u,f):(i=a[o]=l[o](u),i.c()),C(i,1),i.m(e,null))},i(u){r||(C(i),r=!0)},o(u){S(i),r=!1},d(u){u&&M(e),a[o].d()}}}function y3(t,e,n){let o;ue(t,Fe,l=>n(1,o=l));let{direction:i}=e;const r=()=>{const l=Wd(o,i);l&&bt.set(l)};return t.$$set=l=>{"direction"in l&&n(0,i=l.direction)},[i,o,r]}class qu extends he{constructor(e){super(),pe(this,e,y3,v3,me,{direction:0})}}function w3(t){return{c:Me,m:Me,p:Me,d:Me}}function k3(t){let e,n,o,i=oe[t[0].type].title.substring(0,2)+"",r,l,a,s,u,f=oe[t[0].type].title.substring(2)+"",c,d,h,m;return{c(){e=I("div"),n=I("span"),o=I("span"),r=G(i),l=B(),a=I("br"),s=B(),u=I("span"),c=G(f),P(o,"class","text-lg align-text-top select-none"),P(u,"class","text-xs align-text-top font-normal text-black from-stone-600 select-none"),P(n,"data-size",d=oe[t[0].type].requirements.size),P(n,"data-x",h=t[0].x),P(n,"data-y",m=t[0].y),P(e,"class","svelte-6c031s")},m(p,g){O(p,e,g),v(e,n),v(n,o),v(o,r),v(n,l),v(n,a),v(n,s),v(n,u),v(u,c)},p(p,g){g&1&&i!==(i=oe[p[0].type].title.substring(0,2)+"")&&ae(r,i),g&1&&f!==(f=oe[p[0].type].title.substring(2)+"")&&ae(c,f),g&1&&d!==(d=oe[p[0].type].requirements.size)&&P(n,"data-size",d),g&1&&h!==(h=p[0].x)&&P(n,"data-x",h),g&1&&m!==(m=p[0].y)&&P(n,"data-y",m)},d(p){p&&M(e)}}}function Fu(t){let e;return{c(){e=I("span"),e.textContent="🧲",P(e,"class","text-lg")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function Bu(t){let e;return{c(){e=I("span"),e.textContent="👑",P(e,"class","text-xl absolute top-0")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function C3(t){let e,n,o,i=t[7](t[0].x,t[0].y),r,l,a,s,u,f,c,d,h,m,p,g,A,b,w,E,D,$;function R(k,y){if(k[0].type>-1)return k3;if(k[0].type==-1&&k[0].x==0&&k[0].y==0)return w3}let j=R(t),F=j&&j(t),N=t[0].mineralSource&&t[0].type==-1&&Fu(),T=i&&Bu();return{c(){e=I("button"),F&&F.c(),n=B(),N&&N.c(),o=B(),T&&T.c(),P(e,"class",r="plot_container "+t[1]+" overflow-visible "+(t[0].type==-1&&t[2]==!1,"")+" "+(t[0].mineralSource?"hidden":"")+" "+(t[2]?"cursor-pointer":"cursor-not-allowed")+" "+(t[0].disabled?"animate-spin":"")+" svelte-6c031s"),ze(e,"background-color",t[0].water?"blue":t[4].x==t[0].x&&t[4].y==t[0].y&&t[4].visible?"white":t[0].mineralSource?"black":vi(t[0].type,t[2])),P(e,"data-active",l=t[0].active),P(e,"data-hidehoveranimation",a=t[4].visible||t[0].type==-1&&t[0].x==0&&t[0].y==0),P(e,"data-id",s=t[0].id),P(e,"data-x",u=t[0].x),P(e,"data-y",f=t[0].y),P(e,"data-optionindex",c=t[0].optionIndex),P(e,"data-canbeupgraded",t[2]),P(e,"data-type",d=t[0].type),P(e,"data-type-id",h=t[0].typeId),P(e,"data-refplotx",m=t[0].referencePlot!==void 0?t[0].referencePlot[1]:null),P(e,"data-refploty",p=t[0].referencePlot!==void 0?t[0].referencePlot[0]:null),P(e,"data-size",g=t[0].type>-1?oe[t[0].type].requirements.size:null),P(e,"data-mineralsource",A=t[0].mineralSource),P(e,"data-water",b=t[0].water),P(e,"data-nearwater",w=Sn(t[0].x,t[0].y,t[5])),P(e,"data-liegelocation",E=t[7](t[0].x,t[0].y))},m(k,y){O(k,e,y),F&&F.m(e,null),v(e,n),N&&N.m(e,null),v(e,o),T&&T.m(e,null),D||($=ee(e,"click",function(){Gt(t[0].water?null:t[6]?Fl(t[0].x,t[0].y,t[5]):t[8])&&(t[0].water?null:t[6]?Fl(t[0].x,t[0].y,t[5]):t[8]).apply(this,arguments)}),D=!0)},p(k,y){t=k,j===(j=R(t))&&F?F.p(t,y):(F&&F.d(1),F=j&&j(t),F&&(F.c(),F.m(e,n))),t[0].mineralSource&&t[0].type==-1?N||(N=Fu(),N.c(),N.m(e,o)):N&&(N.d(1),N=null),y&1&&(i=t[7](t[0].x,t[0].y)),i?T||(T=Bu(),T.c(),T.m(e,null)):T&&(T.d(1),T=null),y&7&&r!==(r="plot_container "+t[1]+" overflow-visible "+(t[0].type==-1&&t[2]==!1,"")+" "+(t[0].mineralSource?"hidden":"")+" "+(t[2]?"cursor-pointer":"cursor-not-allowed")+" "+(t[0].disabled?"animate-spin":"")+" svelte-6c031s")&&P(e,"class",r),y&21&&ze(e,"background-color",t[0].water?"blue":t[4].x==t[0].x&&t[4].y==t[0].y&&t[4].visible?"white":t[0].mineralSource?"black":vi(t[0].type,t[2])),y&1&&l!==(l=t[0].active)&&P(e,"data-active",l),y&17&&a!==(a=t[4].visible||t[0].type==-1&&t[0].x==0&&t[0].y==0)&&P(e,"data-hidehoveranimation",a),y&1&&s!==(s=t[0].id)&&P(e,"data-id",s),y&1&&u!==(u=t[0].x)&&P(e,"data-x",u),y&1&&f!==(f=t[0].y)&&P(e,"data-y",f),y&1&&c!==(c=t[0].optionIndex)&&P(e,"data-optionindex",c),y&4&&P(e,"data-canbeupgraded",t[2]),y&1&&d!==(d=t[0].type)&&P(e,"data-type",d),y&1&&h!==(h=t[0].typeId)&&P(e,"data-type-id",h),y&1&&m!==(m=t[0].referencePlot!==void 0?t[0].referencePlot[1]:null)&&P(e,"data-refplotx",m),y&1&&p!==(p=t[0].referencePlot!==void 0?t[0].referencePlot[0]:null)&&P(e,"data-refploty",p),y&1&&g!==(g=t[0].type>-1?oe[t[0].type].requirements.size:null)&&P(e,"data-size",g),y&1&&A!==(A=t[0].mineralSource)&&P(e,"data-mineralsource",A),y&1&&b!==(b=t[0].water)&&P(e,"data-water",b),y&33&&w!==(w=Sn(t[0].x,t[0].y,t[5]))&&P(e,"data-nearwater",w),y&1&&E!==(E=t[7](t[0].x,t[0].y))&&P(e,"data-liegelocation",E)},d(k){k&&M(e),F&&F.d(),N&&N.d(),T&&T.d(),D=!1,$()}}}function ju(t){let e;return{c(){e=G("Water - Place farms nearby for more food & revenue!")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function Hu(t){let e;return{c(){e=I("span"),e.textContent="Near water - Generating more food & revenue!",P(e,"class","text-xs bg-blue-500 text-white px-2 py-3 italic rounded-2xl text-center")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function Gu(t){let e;function n(r,l){return oe[r[0].type].liege_on_plot_hint==null?S3:A3}let o=n(t),i=o(t);return{c(){e=I("span"),i.c(),P(e,"class","text-xs bg-pink-700 text-white px-2 py-3 italic rounded-2xl text-center")},m(r,l){O(r,e,l),i.m(e,null)},p(r,l){o===(o=n(r))&&i?i.p(r,l):(i.d(1),i=o(r),i&&(i.c(),i.m(e,null)))},d(r){r&&M(e),i.d()}}}function A3(t){let e=oe[t[0].type].liege_on_plot_hint+"",n;return{c(){n=G(e)},m(o,i){O(o,n,i)},p(o,i){i&1&&e!==(e=oe[o[0].type].liege_on_plot_hint+"")&&ae(n,e)},d(o){o&&M(n)}}}function S3(t){let e,n=oe[t[0].type].title+"",o,i;return{c(){e=G("You are hanging out on the "),o=G(n),i=G(` plot, but nothing
            seems to be changing except a revenue boost.`)},m(r,l){O(r,e,l),O(r,o,l),O(r,i,l)},p(r,l){l&1&&n!==(n=oe[r[0].type].title+"")&&ae(o,n)},d(r){r&&(M(e),M(o),M(i))}}}function Vu(t){let e,n;return e=new cd({props:{option:t[3],checkRequirements:!1}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const r={};i&8&&(r.option=o[3]),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function T3(t){let e,n,o=Sn(t[0].x,t[0].y,t[5]),i,r=Kn(t[0].x,t[0].y,t[5]),l,a,s=t[0].water&&ju(),u=o&&Hu(),f=r&&Gu(t),c=t[0].active&&Vu(t);return{c(){e=I("div"),s&&s.c(),n=B(),u&&u.c(),i=B(),f&&f.c(),l=B(),c&&c.c(),P(e,"class","flex flex-col gap-2")},m(d,h){O(d,e,h),s&&s.m(e,null),v(e,n),u&&u.m(e,null),v(e,i),f&&f.m(e,null),v(e,l),c&&c.m(e,null),a=!0},p(d,h){d[0].water?s||(s=ju(),s.c(),s.m(e,n)):s&&(s.d(1),s=null),h&33&&(o=Sn(d[0].x,d[0].y,d[5])),o?u||(u=Hu(),u.c(),u.m(e,i)):u&&(u.d(1),u=null),h&33&&(r=Kn(d[0].x,d[0].y,d[5])),r?f?f.p(d,h):(f=Gu(d),f.c(),f.m(e,l)):f&&(f.d(1),f=null),d[0].active?c?(c.p(d,h),h&1&&C(c,1)):(c=Vu(d),c.c(),C(c,1),c.m(e,null)):c&&(Oe(),S(c,1,1,()=>{c=null}),Ie())},i(d){a||(C(c),a=!0)},o(d){S(c),a=!1},d(d){d&&M(e),s&&s.d(),u&&u.d(),f&&f.d(),c&&c.d()}}}function M3(t){let e,n,o,i;return e=new _o({props:{$$slots:{default:[C3]},$$scope:{ctx:t}}}),o=new po({props:{class:"max-w-64 rounded-3xl "+(t[0].type<0&&!t[0].water?"hidden":""),$$slots:{default:[T3]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=B(),X(o.$$.fragment)},m(r,l){U(e,r,l),O(r,n,l),U(o,r,l),i=!0},p(r,l){const a={};l&4215&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&1&&(s.class="max-w-64 rounded-3xl "+(r[0].type<0&&!r[0].water?"hidden":"")),l&4137&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&M(n),K(e,r),K(o,r)}}}function O3(t){let e,n;return e=new ho({props:{openDelay:400,closeDelay:0,$$slots:{default:[M3]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,[i]){const r={};i&4223&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function I3(t,e,n){let o,i,r,l,a;ue(t,et,p=>n(4,o=p)),ue(t,Fe,p=>n(5,i=p)),ue(t,kt,p=>n(10,r=p)),ue(t,eo,p=>n(11,l=p)),ue(t,to,p=>n(6,a=p));let{data:s={id:0,active:!1,x:0,y:0,type:-1,styling:"",referencePlot:[],mineralSource:!1,disabled:!1,water:!1}}=e,u,{classText:f=""}=e,{canBeUpgraded:c=!1}=e;const d=(p,g)=>i.liege_location!=null&&p==i.liege_location[0]&&g==i.liege_location[1];function h(p,g,A){let b=document.querySelectorAll(".plot_container");if(r==!1){if(s.referencePlot!=null&&s.referencePlot[0]!==null&&g==null&&A==null&&s.referencePlot[1]!==void 0)return h(p,s.referencePlot[0],s.referencePlot[1]);!s.active&&!c?(Re(eo,l={},l),Re(et,o.visible=!1,o),b.forEach(w=>{w.classList.remove("selected")})):(g!=null&&A!=null?(Re(et,o.x=g,o),Re(et,o.y=A,o)):(Re(et,o.x=s.x,o),Re(et,o.y=s.y,o)),Re(et,o.isMineralSource=s.mineralSource,o),Re(et,o.visible=!0,o),b.forEach(w=>{w.classList.remove("selected")}),g!=null&&A!=null?document.querySelector(`.plot_container[data-x="${g}"][data-y="${A}"]`).classList.add("selected"):document.querySelector(`.plot_container[data-id="${s.id}"]`).classList.add("selected"))}}function m(p){r==!1&&(Re(Fe,i.plots[s.x][s.y].type=p,i),Re(et,o.visible=!1,o))}return t.$$set=p=>{"data"in p&&n(0,s=p.data),"classText"in p&&n(1,f=p.classText),"canBeUpgraded"in p&&n(2,c=p.canBeUpgraded)},t.$$.update=()=>{t.$$.dirty&1&&s.type>-1&&n(3,u=oe[s.type])},[s,f,c,u,o,i,a,d,h,m]}class N3 extends he{constructor(e){super(),pe(this,e,I3,O3,me,{data:0,classText:1,canBeUpgraded:2,changePlotType:9})}get changePlotType(){return this.$$.ctx[9]}}function Wu(t,e,n){const o=t.slice();return o[9]=e[n],o[11]=n,o}function Yu(t,e,n){const o=t.slice();return o[12]=e[n],o}function Uu(t){let e,n,o,i,r,l,a,s,u,f,c,d=t[4],h,m,p=Ue(t[2].plots),g=[];for(let w=0;w<p.length;w+=1)g[w]=Xu(Wu(t,p,w));const A=w=>S(g[w],1,1,()=>{g[w]=null});a=new qu({props:{direction:"east"}}),f=new qu({props:{direction:"south"}});let b=xu(t);return{c(){e=I("div"),n=I("div"),o=I("div"),i=I("div");for(let w=0;w<g.length;w+=1)g[w].c();r=B(),l=I("span"),X(a.$$.fragment),s=B(),u=I("span"),X(f.$$.fragment),c=B(),b.c(),h=De(),P(i,"class","grid plot_controller svelte-1udphho"),P(o,"class","flex flex-row items-center"),P(n,"style",t[3]),P(n,"id","plotContainerMain"),P(n,"class","items-center h-max flex flex-col pr-80 pb-80  svelte-1udphho"),P(e,"class","flex flex-col")},m(w,E){O(w,e,E),v(e,n),v(n,o),v(o,i);for(let D=0;D<g.length;D+=1)g[D]&&g[D].m(i,null);v(o,r),v(o,l),U(a,l,null),v(n,s),v(n,u),U(f,u,null),O(w,c,E),b.m(w,E),O(w,h,E),m=!0},p(w,E){if(E&7){p=Ue(w[2].plots);let D;for(D=0;D<p.length;D+=1){const $=Wu(w,p,D);g[D]?(g[D].p($,E),C(g[D],1)):(g[D]=Xu($),g[D].c(),C(g[D],1),g[D].m(i,null))}for(Oe(),D=p.length;D<g.length;D+=1)A(D);Ie()}(!m||E&8)&&P(n,"style",w[3]),E&16&&me(d,d=w[4])?(Oe(),S(b,1,1,Me),Ie(),b=xu(w),b.c(),C(b,1),b.m(h.parentNode,h)):b.p(w,E)},i(w){if(!m){for(let E=0;E<p.length;E+=1)C(g[E]);C(a.$$.fragment,w),C(f.$$.fragment,w),C(b),m=!0}},o(w){g=g.filter(Boolean);for(let E=0;E<g.length;E+=1)S(g[E]);S(a.$$.fragment,w),S(f.$$.fragment,w),S(b),m=!1},d(w){w&&(M(e),M(c),M(h)),at(g,w),K(a),K(f),b.d(w)}}}function Ku(t){let e,n;return e=new N3({props:{classText:"hexagon",data:t[12],canBeUpgraded:t[0](t[12].x,t[12].y)}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const r={};i&4&&(r.data=o[12]),i&4&&(r.canBeUpgraded=o[0](o[12].x,o[12].y)),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function Xu(t){let e,n,o,i,r,l=Ue(t[9]),a=[];for(let u=0;u<l.length;u+=1)a[u]=Ku(Yu(t,l,u));const s=u=>S(a[u],1,1,()=>{a[u]=null});return{c(){e=I("div");for(let u=0;u<a.length;u+=1)a[u].c();n=B(),P(e,"class","row "+(t[11]%2!==0?"odd-row":"")+" svelte-1udphho")},m(u,f){O(u,e,f);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(e,null);v(e,n),o=!0,i||(r=ee(e,"click",t[1]),i=!0)},p(u,f){if(f&5){l=Ue(u[9]);let c;for(c=0;c<l.length;c+=1){const d=Yu(u,l,c);a[c]?(a[c].p(d,f),C(a[c],1)):(a[c]=Ku(d),a[c].c(),C(a[c],1),a[c].m(e,n))}for(Oe(),c=l.length;c<a.length;c+=1)s(c);Ie()}},i(u){if(!o){for(let f=0;f<l.length;f+=1)C(a[f]);o=!0}},o(u){a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)S(a[f]);o=!1},d(u){u&&M(e),at(a,u),i=!1,r()}}}function Ju(t){let e,n;return e=new dd({props:{x:t[5].x,y:t[5].y,open:t[5].visible}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const r={};i&32&&(r.x=o[5].x),i&32&&(r.y=o[5].y),i&32&&(r.open=o[5].visible),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function xu(t){let e,n,o=t[5].visible&&Ju(t);return{c(){o&&o.c(),e=De()},m(i,r){o&&o.m(i,r),O(i,e,r),n=!0},p(i,r){i[5].visible?o?(o.p(i,r),r&32&&C(o,1)):(o=Ju(i),o.c(),C(o,1),o.m(e.parentNode,e)):o&&(Oe(),S(o,1,1,()=>{o=null}),Ie())},i(i){n||(C(o),n=!0)},o(i){S(o),n=!1},d(i){i&&M(e),o&&o.d(i)}}}function P3(t){let e,n,o=t[2]!=null&&Uu(t);return{c(){o&&o.c(),e=De()},m(i,r){o&&o.m(i,r),O(i,e,r),n=!0},p(i,[r]){i[2]!=null?o?(o.p(i,r),r&4&&C(o,1)):(o=Uu(i),o.c(),C(o,1),o.m(e.parentNode,e)):o&&(Oe(),S(o,1,1,()=>{o=null}),Ie())},i(i){n||(C(o),n=!0)},o(i){S(o),n=!1},d(i){i&&M(e),o&&o.d(i)}}}function E3(t,e,n){let o,i,r;ue(t,eo,d=>n(4,o=d)),ue(t,Fe,d=>n(2,i=d)),ue(t,et,d=>n(5,r=d));let l,a=0,s=["margin-left: 300px; margin-top: 200px; scale: 1;","margin-left: 650px; margin-top: 600px; scale: 1.5;"];document.addEventListener("keypress",function(d){d.key==="*"&&(a==s.length-1?n(6,a=0):n(6,a++,a))}),document.addEventListener("click",function(d){const h=d.target;(h.dataset.x==null&&h.dataset.type!="-1"&&h.dataset.size!=null||h.id=="plotContainerMain"||h.classList.contains("row")||h.classList.contains("grid"))&&Re(et,r.visible=!1,r)});function u(d,h){let m={x:d,y:h};return m.x===0&&m.y===0?!0:[{x:m.x-1,y:m.y},{x:m.x+1,y:m.y},{x:m.x,y:m.y-1},{x:m.x,y:m.y+1}].some(g=>g.x<0||g.x>=i.plots.length||g.y<0||g.y>=i.plots[g.x].length?!1:i.plots[g.x][g.y].active)}function f(){let d=[];for(let h=0;h<i.plots.length;h++)for(let m=0;m<i.plots.length;m++)u(h,m)&&i.plots[h][m].active==!1&&d.push(i.plots[h][m])}function c(){Re(eo,o={},o)}return t.$$.update=()=>{t.$$.dirty&4&&i&&f(),t.$$.dirty&64&&n(3,l=s[a])},[u,c,i,l,o,r,a]}class R3 extends he{constructor(e){super(),pe(this,e,E3,P3,me,{checkIfPlotCanBeUpgraded:0,restartModifyPlotMenu:1})}get checkIfPlotCanBeUpgraded(){return this.$$.ctx[0]}get restartModifyPlotMenu(){return this.$$.ctx[1]}}function Zu(t,e,n){const o=t.slice();return o[5]=e[n],o}function Qu(t){let e,n;return e=new n1({props:{thumb:t[5],class:"block h-5 w-5 rounded-2xl bg-accent transition-colors focus-visible:outline-none  disabled:pointer-events-none disabled:opacity-50"}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const r={};i&16&&(r.thumb=o[5]),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function L3(t){let e,n,o,i,r;n=new xg({props:{class:"absolute h-full bg-primary"}});let l=Ue(t[4]),a=[];for(let u=0;u<l.length;u+=1)a[u]=Qu(Zu(t,l,u));const s=u=>S(a[u],1,1,()=>{a[u]=null});return{c(){e=I("span"),X(n.$$.fragment),o=B();for(let u=0;u<a.length;u+=1)a[u].c();i=De(),P(e,"class","relative h-2 w-full grow overflow-hidden rounded-full bg-black")},m(u,f){O(u,e,f),U(n,e,null),O(u,o,f);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(u,f);O(u,i,f),r=!0},p(u,f){if(f&16){l=Ue(u[4]);let c;for(c=0;c<l.length;c+=1){const d=Zu(u,l,c);a[c]?(a[c].p(d,f),C(a[c],1)):(a[c]=Qu(d),a[c].c(),C(a[c],1),a[c].m(i.parentNode,i))}for(Oe(),c=l.length;c<a.length;c+=1)s(c);Ie()}},i(u){if(!r){C(n.$$.fragment,u);for(let f=0;f<l.length;f+=1)C(a[f]);r=!0}},o(u){S(n.$$.fragment,u),a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)S(a[f]);r=!1},d(u){u&&(M(e),M(o),M(i)),K(n),at(a,u)}}}function $3(t){let e,n,o;const i=[{class:Ve("relative flex w-full touch-none select-none items-center",t[1])},t[2]];function r(a){t[3](a)}let l={$$slots:{default:[L3,({thumbs:a})=>({4:a}),({thumbs:a})=>a?16:0]},$$scope:{ctx:t}};for(let a=0;a<i.length;a+=1)l=Q(l,i[a]);return t[0]!==void 0&&(l.value=t[0]),e=new Wg({props:l}),Le.push(()=>hn(e,"value",r)),{c(){X(e.$$.fragment)},m(a,s){U(e,a,s),o=!0},p(a,[s]){const u=s&6?Te(i,[s&2&&{class:Ve("relative flex w-full touch-none select-none items-center",a[1])},s&4&&ut(a[2])]):{};s&272&&(u.$$scope={dirty:s,ctx:a}),!n&&s&1&&(n=!0,u.value=a[0],pn(()=>n=!1)),e.$set(u)},i(a){o||(C(e.$$.fragment,a),o=!0)},o(a){S(e.$$.fragment,a),o=!1},d(a){K(e,a)}}}function D3(t,e,n){const o=["class","value"];let i=se(e,o),{class:r=void 0}=e,{value:l=[0]}=e;function a(s){l=s,n(0,l)}return t.$$set=s=>{e=Q(Q({},e),$e(s)),n(2,i=se(e,o)),"class"in s&&n(1,r=s.class),"value"in s&&n(0,l=s.value)},[l,r,i,a]}class zu extends he{constructor(e){super(),pe(this,e,D3,$3,me,{class:1,value:0})}}function q3(t){let e=(t[4].length>0?t[4]:"Why are you hovering here?")+"",n;return{c(){n=G(e)},m(o,i){O(o,n,i)},p(o,i){i&16&&e!==(e=(o[4].length>0?o[4]:"Why are you hovering here?")+"")&&ae(n,e)},d(o){o&&M(n)}}}function F3(t){let e,n;return{c(){e=I("div"),n=G(t[0])},m(o,i){O(o,e,i),v(e,n)},p(o,i){i&1&&ae(n,o[0])},d(o){o&&M(e)}}}function B3(t){let e,n;return e=new At({props:{class:`text-xs flex flex-col h-min bg-accent cursor-pointer text-accentText p-1.5 text-start
  bg-`+t[2]+" cursor-pointer text-accentText opacity-"+t[3]+`
  `,$$slots:{default:[F3]},$$scope:{ctx:t}}}),e.$on("click",function(){Gt(t[1])&&t[1].apply(this,arguments)}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){t=o;const r={};i&12&&(r.class=`text-xs flex flex-col h-min bg-accent cursor-pointer text-accentText p-1.5 text-start
  bg-`+t[2]+" cursor-pointer text-accentText opacity-"+t[3]+`
  `),i&33&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function j3(t){let e,n,o,i;return e=new po({props:{$$slots:{default:[q3]},$$scope:{ctx:t}}}),o=new _o({props:{class:"flex flex-col h-min",$$slots:{default:[B3]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=B(),X(o.$$.fragment)},m(r,l){U(e,r,l),O(r,n,l),U(o,r,l),i=!0},p(r,l){const a={};l&48&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&47&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&M(n),K(e,r),K(o,r)}}}function H3(t){let e,n;return e=new ho({props:{openDelay:t[4].length>0?400:1e4,closeDelay:0,$$slots:{default:[j3]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,[i]){const r={};i&16&&(r.openDelay=o[4].length>0?400:1e4),i&63&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function G3(t,e,n){let{text:o}=e,{onOpen:i}=e,{backgroundColor:r="accent"}=e,{opacity:l=100}=e,{onHoverText:a=""}=e;return t.$$set=s=>{"text"in s&&n(0,o=s.text),"onOpen"in s&&n(1,i=s.onOpen),"backgroundColor"in s&&n(2,r=s.backgroundColor),"opacity"in s&&n(3,l=s.opacity),"onHoverText"in s&&n(4,a=s.onHoverText)},[o,i,r,l,a]}class ri extends he{constructor(e){super(),pe(this,e,G3,H3,me,{text:0,onOpen:1,backgroundColor:2,opacity:3,onHoverText:4})}}function ef(t,e,n){const o=t.slice();return o[14]=e[n],o}function tf(t){let e;return{c(){e=I("p"),e.textContent="No alerts",P(e,"class","text-center text-xs opacity-50 svelte-1m80q9z")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function nf(t){let e,n,o,i=t[14].day+"",r,l,a,s=t[14].message+"",u,f,c;return{c(){e=I("div"),n=I("p"),o=G("DAY "),r=G(i),l=B(),a=I("p"),u=G(s),f=B(),P(n,"class","font-mono text-[10px]  svelte-1m80q9z"),P(a,"class","text-xs svelte-1m80q9z"),P(e,"class",c="px-2 py-2 rounded-2xl fade-in mb-4 "+(t[14].vibe==ot.BAD?"bg-white text-textDanger border ":t[14].vibe==ot.GOOD?"bg-green-600":(t[14].vibe==ot.NORMAL,"bg-accent"))+" svelte-1m80q9z")},m(d,h){O(d,e,h),v(e,n),v(n,o),v(n,r),v(e,l),v(e,a),v(a,u),v(e,f)},p(d,h){h&2&&i!==(i=d[14].day+"")&&ae(r,i),h&2&&s!==(s=d[14].message+"")&&ae(u,s),h&2&&c!==(c="px-2 py-2 rounded-2xl fade-in mb-4 "+(d[14].vibe==ot.BAD?"bg-white text-textDanger border ":d[14].vibe==ot.GOOD?"bg-green-600":(d[14].vibe==ot.NORMAL,"bg-accent"))+" svelte-1m80q9z")&&P(e,"class",c)},d(d){d&&M(e)}}}function V3(t){let e,n,o,i,r,l,a,s,u,f,c,d=It(t[1].economyAndLaws.tax_rate*100,0)+"",h,m,p,g,A,b,w,E,D,$,R=It(t[1].townInfo.productivity,0)+"",j,F,N,T,k,y,L,V,q,x,W,Y,te,z,ne,re,le,_,J,Z,ce,ye,Ce=t[0]=="true"?"🔇":"🔊",qe,Pe,Ze,de,Ne,He,Je,Ke;g=new zu({props:{value:[t[1].economyAndLaws.tax_rate],onValueChange:t[8],min:0,max:.5,step:.05,class:"cursor-pointer w-[75%]"}}),T=new zu({props:{value:[t[1].townInfo.productivity],onValueChange:t[7],min:0,max:200,step:5,class:"cursor-pointer w-[75%]"}}),x=new ri({props:{text:t[3]?"Select an active plot!":"👑 Set your location (boost)",onOpen:t[9]}}),Y=new ri({props:{text:"🧠 Sell Knowledge",onOpen:t[10]}}),z=new ri({props:{text:"🏢 Manage City",onOpen:t[11]}}),re=new ri({props:{text:t[1].lab.active_experiment!==null?`${t[1].lab.active_experiment.duration}`:"🧪 Manage Lab",onOpen:t[6],opacity:Be("lab",t[1]).length>=1?100:50,onHoverText:Be("lab",t[1]).length>=1?"":"Build a Lab to perform experiments. Experiments can save lives, make money, or generally improve your town."}});let Ge=t[1].townLog.length==0&&tf(),Ae=Ue(t[1].townLog),we=[];for(let Ee=0;Ee<Ae.length;Ee+=1)we[Ee]=nf(ef(t,Ae,Ee));return{c(){e=I("div"),n=I("div"),o=I("div"),i=I("div"),r=I("div"),l=I("div"),a=I("h1"),a.textContent="Laws",s=B(),u=I("span"),u.textContent="Tax Rate",f=B(),c=I("span"),h=G(d),m=G("%"),p=B(),X(g.$$.fragment),A=B(),b=I("div"),w=I("div"),E=I("span"),E.textContent="Productivity",D=B(),$=I("span"),j=G(R),F=G("%"),N=B(),X(T.$$.fragment),k=B(),y=I("div"),L=I("h1"),L.textContent="Menus",V=B(),q=I("div"),X(x.$$.fragment),W=B(),X(Y.$$.fragment),te=B(),X(z.$$.fragment),ne=B(),X(re.$$.fragment),le=B(),_=I("div"),J=I("div"),Z=I("h3"),Z.innerHTML='<h1 class="text-xl w-full text-center pb-2 svelte-1m80q9z">Alerts</h1>',ce=B(),ye=I("button"),qe=G(Ce),Pe=B(),Ze=I("div"),Ge&&Ge.c(),de=B();for(let Ee=0;Ee<we.length;Ee+=1)we[Ee].c();P(a,"class","text-xl w-full text-center pb-2 svelte-1m80q9z"),P(u,"class","text-sm svelte-1m80q9z"),P(c,"class","text-sm svelte-1m80q9z"),P(l,"class","mb-1 svelte-1m80q9z"),P(r,"class","flex flex-col justify-center w-full text-center items-center gap-1 min-h-12 pb-2 rounded-xl svelte-1m80q9z"),P(E,"class","text-sm svelte-1m80q9z"),P($,"class","text-sm svelte-1m80q9z"),P(w,"class","mb-1 svelte-1m80q9z"),P(b,"class","flex flex-col justify-center w-full text-center items-center gap-2 svelte-1m80q9z"),P(i,"class","flex flex-col gap-2 rounded-xl text-center justify-center mb-2 mt-0 pt-2 svelte-1m80q9z"),P(L,"class","text-xl w-full text-center pb-2 svelte-1m80q9z"),P(q,"class","flex flex-col gap-2 svelte-1m80q9z"),P(y,"class","svelte-1m80q9z"),P(Z,"class","text-md cursor-pointer  svelte-1m80q9z"),P(ye,"class","svelte-1m80q9z"),P(J,"class","flex flex-row gap-2 items-start justify-center pb-2 svelte-1m80q9z"),P(Ze,"class","overflow-y-scroll h-[100%] w-[100%] pb-4 scroll-smooth svelte-1m80q9z"),P(_,"class","svelte-1m80q9z"),P(o,"class","flex flex-col justify-center mx-2 gap-8 svelte-1m80q9z"),P(n,"class",Ne="w-[220px] text-sidebarText bg-sidebarBackground overflow-scroll border-foregroundDark border-4 "+(t[2].visible?"bottom-8  opacity-70":"bottom-2")+" z-10 fixed left-3 py-2 top-[190px] drop-shadow-xl rounded-xl transition-all duration-300 svelte-1m80q9z"),P(e,"class","flex flex-row text-sidebarText bg-sidebarBackground overflow-clip svelte-1m80q9z")},m(Ee,Qe){O(Ee,e,Qe),v(e,n),v(n,o),v(o,i),v(i,r),v(r,l),v(l,a),v(l,s),v(l,u),v(l,f),v(l,c),v(c,h),v(c,m),v(r,p),U(g,r,null),v(i,A),v(i,b),v(b,w),v(w,E),v(w,D),v(w,$),v($,j),v($,F),v(b,N),U(T,b,null),v(o,k),v(o,y),v(y,L),v(y,V),v(y,q),U(x,q,null),v(q,W),U(Y,q,null),v(q,te),U(z,q,null),v(q,ne),U(re,q,null),v(o,le),v(o,_),v(_,J),v(J,Z),v(J,ce),v(J,ye),v(ye,qe),v(_,Pe),v(_,Ze),Ge&&Ge.m(Ze,null),v(Ze,de);for(let st=0;st<we.length;st+=1)we[st]&&we[st].m(Ze,null);He=!0,Je||(Ke=[ee(Z,"click",t[12]),ee(ye,"click",t[13])],Je=!0)},p(Ee,[Qe]){(!He||Qe&2)&&d!==(d=It(Ee[1].economyAndLaws.tax_rate*100,0)+"")&&ae(h,d);const st={};Qe&2&&(st.value=[Ee[1].economyAndLaws.tax_rate]),g.$set(st),(!He||Qe&2)&&R!==(R=It(Ee[1].townInfo.productivity,0)+"")&&ae(j,R);const rt={};Qe&2&&(rt.value=[Ee[1].townInfo.productivity]),T.$set(rt);const ke={};Qe&8&&(ke.text=Ee[3]?"Select an active plot!":"👑 Set your location (boost)"),Qe&8&&(ke.onOpen=Ee[9]),x.$set(ke);const xe={};Qe&16&&(xe.onOpen=Ee[10]),Y.$set(xe);const H={};Qe&32&&(H.onOpen=Ee[11]),z.$set(H);const Xo={};if(Qe&2&&(Xo.text=Ee[1].lab.active_experiment!==null?`${Ee[1].lab.active_experiment.duration}`:"🧪 Manage Lab"),Qe&2&&(Xo.opacity=Be("lab",Ee[1]).length>=1?100:50),Qe&2&&(Xo.onHoverText=Be("lab",Ee[1]).length>=1?"":"Build a Lab to perform experiments. Experiments can save lives, make money, or generally improve your town."),re.$set(Xo),(!He||Qe&1)&&Ce!==(Ce=Ee[0]=="true"?"🔇":"🔊")&&ae(qe,Ce),Ee[1].townLog.length==0?Ge||(Ge=tf(),Ge.c(),Ge.m(Ze,de)):Ge&&(Ge.d(1),Ge=null),Qe&2){Ae=Ue(Ee[1].townLog);let Mt;for(Mt=0;Mt<Ae.length;Mt+=1){const Rl=ef(Ee,Ae,Mt);we[Mt]?we[Mt].p(Rl,Qe):(we[Mt]=nf(Rl),we[Mt].c(),we[Mt].m(Ze,null))}for(;Mt<we.length;Mt+=1)we[Mt].d(1);we.length=Ae.length}(!He||Qe&4&&Ne!==(Ne="w-[220px] text-sidebarText bg-sidebarBackground overflow-scroll border-foregroundDark border-4 "+(Ee[2].visible?"bottom-8  opacity-70":"bottom-2")+" z-10 fixed left-3 py-2 top-[190px] drop-shadow-xl rounded-xl transition-all duration-300 svelte-1m80q9z"))&&P(n,"class",Ne)},i(Ee){He||(C(g.$$.fragment,Ee),C(T.$$.fragment,Ee),C(x.$$.fragment,Ee),C(Y.$$.fragment,Ee),C(z.$$.fragment,Ee),C(re.$$.fragment,Ee),He=!0)},o(Ee){S(g.$$.fragment,Ee),S(T.$$.fragment,Ee),S(x.$$.fragment,Ee),S(Y.$$.fragment,Ee),S(z.$$.fragment,Ee),S(re.$$.fragment,Ee),He=!1},d(Ee){Ee&&M(e),K(g),K(T),K(x),K(Y),K(z),K(re),Ge&&Ge.d(),at(we,Ee),Je=!1,je(Ke)}}}function W3(t,e,n){let o,i,r,l,a;ue(t,Fe,A=>n(1,o=A)),ue(t,et,A=>n(2,i=A)),ue(t,to,A=>n(3,r=A)),ue(t,ki,A=>n(4,l=A)),ue(t,Ai,A=>n(5,a=A));let s=localStorage.getItem("mute")||"false";function u(){o.hasLab&&si.set(!0)}function f(A){let b=o;b.townInfo.productivity=It(A[0],2),Fe.set(b),localStorage.setItem($t,JSON.stringify(b))}function c(A){let b=o;b.economyAndLaws.tax_rate=It(A[0],2),Fe.set(b),localStorage.setItem($t,JSON.stringify(b))}const d=function(){Re(to,r=!r,r)},h=function(){Re(ki,l=!l,l)},m=function(){Re(Ai,a=!a,a)},p=()=>{Re(Fe,o.townLog=[],o)},g=()=>{localStorage.setItem("mute",s=="false"?"true":s==="true"?"false":"true"),n(0,s=localStorage.getItem("mute")||"false")};return n(0,s=localStorage.getItem("mute")||"false"),[s,o,i,r,l,a,u,f,c,d,h,m,p,g]}class Y3 extends he{constructor(e){super(),pe(this,e,W3,V3,me,{})}}function U3(t){let e,n,o;return{c(){e=I("div"),P(e,"class",n="h-full w-full flex-1 "+t[3]+" transition-all"),P(e,"style",o=`transform: translateX(-${100-100*(t[2]??0)/(t[1]??1)}%)`)},m(i,r){O(i,e,r)},p(i,r){r&8&&n!==(n="h-full w-full flex-1 "+i[3]+" transition-all")&&P(e,"class",n),r&6&&o!==(o=`transform: translateX(-${100-100*(i[2]??0)/(i[1]??1)}%)`)&&P(e,"style",o)},d(i){i&&M(e)}}}function K3(t){let e,n;const o=[{class:Ve("relative h-4 w-full overflow-hidden rounded-full bg-black border border-gray-300",t[0])},t[4]];let i={$$slots:{default:[U3]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new Dg({props:i}),{c(){X(e.$$.fragment)},m(r,l){U(e,r,l),n=!0},p(r,[l]){const a=l&17?Te(o,[l&1&&{class:Ve("relative h-4 w-full overflow-hidden rounded-full bg-black border border-gray-300",r[0])},l&16&&ut(r[4])]):{};l&46&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){K(e,r)}}}function X3(t,e,n){const o=["class","max","value","color"];let i=se(e,o),{class:r=void 0}=e,{max:l=100}=e,{value:a=void 0}=e,{color:s="bg-accent"}=e;return t.$$set=u=>{e=Q(Q({},e),$e(u)),n(4,i=se(e,o)),"class"in u&&n(0,r=u.class),"max"in u&&n(1,l=u.max),"value"in u&&n(2,a=u.value),"color"in u&&n(3,s=u.color)},[r,l,a,s,i]}class J3 extends he{constructor(e){super(),pe(this,e,X3,K3,me,{class:0,max:1,value:2,color:3})}}function of(t,e,n){const o=t.slice();return o[19]=e[n],o}function rf(t){let e,n=Ue({length:t[6]}),o=[];for(let i=0;i<n.length;i+=1)o[i]=lf(of(t,n,i));return{c(){e=I("div");for(let i=0;i<o.length;i+=1)o[i].c();P(e,"class","confetti-holder svelte-15ksp55"),on(e,"rounded",t[9]),on(e,"cone",t[10]),on(e,"no-gravity",t[11]),on(e,"reduced-motion",t[13])},m(i,r){O(i,e,r);for(let l=0;l<o.length;l+=1)o[l]&&o[l].m(e,null)},p(i,r){if(r&37375){n=Ue({length:i[6]});let l;for(l=0;l<n.length;l+=1){const a=of(i,n,l);o[l]?o[l].p(a,r):(o[l]=lf(a),o[l].c(),o[l].m(e,null))}for(;l<o.length;l+=1)o[l].d(1);o.length=n.length}r&512&&on(e,"rounded",i[9]),r&1024&&on(e,"cone",i[10]),r&2048&&on(e,"no-gravity",i[11]),r&8192&&on(e,"reduced-motion",i[13])},d(i){i&&M(e),at(o,i)}}}function lf(t){let e;return{c(){e=I("div"),P(e,"class","confetti svelte-15ksp55"),ze(e,"--fall-distance",t[8]),ze(e,"--size",t[0]+"px"),ze(e,"--color",t[15]()),ze(e,"--skew",ht(-45,45)+"deg,"+ht(-45,45)+"deg"),ze(e,"--rotation-xyz",ht(-10,10)+", "+ht(-10,10)+", "+ht(-10,10)),ze(e,"--rotation-deg",ht(0,360)+"deg"),ze(e,"--translate-y-multiplier",ht(t[2][0],t[2][1])),ze(e,"--translate-x-multiplier",ht(t[1][0],t[1][1])),ze(e,"--scale",.1*ht(2,10)),ze(e,"--transition-duration",t[4]?`calc(${t[3]}ms * var(--scale))`:`${t[3]}ms`),ze(e,"--transition-delay",ht(t[5][0],t[5][1])+"ms"),ze(e,"--transition-iteration-count",t[4]?"infinite":t[7]),ze(e,"--x-spread",1-t[12])},m(n,o){O(n,e,o)},p(n,o){o&256&&ze(e,"--fall-distance",n[8]),o&1&&ze(e,"--size",n[0]+"px"),o&4&&ze(e,"--translate-y-multiplier",ht(n[2][0],n[2][1])),o&2&&ze(e,"--translate-x-multiplier",ht(n[1][0],n[1][1])),o&24&&ze(e,"--transition-duration",n[4]?`calc(${n[3]}ms * var(--scale))`:`${n[3]}ms`),o&32&&ze(e,"--transition-delay",ht(n[5][0],n[5][1])+"ms"),o&144&&ze(e,"--transition-iteration-count",n[4]?"infinite":n[7]),o&4096&&ze(e,"--x-spread",1-n[12])},d(n){n&&M(e)}}}function x3(t){let e,n=!t[14]&&rf(t);return{c(){n&&n.c(),e=De()},m(o,i){n&&n.m(o,i),O(o,e,i)},p(o,[i]){o[14]?n&&(n.d(1),n=null):n?n.p(o,i):(n=rf(o),n.c(),n.m(e.parentNode,e))},i:Me,o:Me,d(o){o&&M(e),n&&n.d(o)}}}function ht(t,e){return Math.random()*(e-t)+t}function Z3(t,e,n){let{size:o=10}=e,{x:i=[-.5,.5]}=e,{y:r=[.25,1]}=e,{duration:l=2e3}=e,{infinite:a=!1}=e,{delay:s=[0,50]}=e,{colorRange:u=[0,360]}=e,{colorArray:f=[]}=e,{amount:c=50}=e,{iterationCount:d=1}=e,{fallDistance:h="100px"}=e,{rounded:m=!1}=e,{cone:p=!1}=e,{noGravity:g=!1}=e,{xSpread:A=.15}=e,{destroyOnComplete:b=!0}=e,{disableForReducedMotion:w=!1}=e,E=!1;Ui(()=>{!b||a||d=="infinite"||setTimeout(()=>n(14,E=!0),(l+s[1])*d)});function D(){return f.length?f[Math.round(Math.random()*(f.length-1))]:`hsl(${Math.round(ht(u[0],u[1]))}, 75%, 50%)`}return t.$$set=$=>{"size"in $&&n(0,o=$.size),"x"in $&&n(1,i=$.x),"y"in $&&n(2,r=$.y),"duration"in $&&n(3,l=$.duration),"infinite"in $&&n(4,a=$.infinite),"delay"in $&&n(5,s=$.delay),"colorRange"in $&&n(16,u=$.colorRange),"colorArray"in $&&n(17,f=$.colorArray),"amount"in $&&n(6,c=$.amount),"iterationCount"in $&&n(7,d=$.iterationCount),"fallDistance"in $&&n(8,h=$.fallDistance),"rounded"in $&&n(9,m=$.rounded),"cone"in $&&n(10,p=$.cone),"noGravity"in $&&n(11,g=$.noGravity),"xSpread"in $&&n(12,A=$.xSpread),"destroyOnComplete"in $&&n(18,b=$.destroyOnComplete),"disableForReducedMotion"in $&&n(13,w=$.disableForReducedMotion)},[o,i,r,l,a,s,c,d,h,m,p,g,A,w,E,D,u,f,b]}class sn extends he{constructor(e){super(),pe(this,e,Z3,x3,me,{size:0,x:1,y:2,duration:3,infinite:4,delay:5,colorRange:16,colorArray:17,amount:6,iterationCount:7,fallDistance:8,rounded:9,cone:10,noGravity:11,xSpread:12,destroyOnComplete:18,disableForReducedMotion:13})}}function sf(t){let e,n,o,i,r,l,a,s;return e=new sn({props:{cone:!0,x:[-.5,.5]}}),o=new sn({props:{cone:!0,amount:10,x:[-1,-.4],y:[.25,.75],rounded:!0,size:15}}),r=new sn({props:{cone:!0,amount:10,x:[.4,1],y:[.25,.75]}}),a=new sn({props:{infinite:!0,amount:75,delay:[0,200]}}),{c(){X(e.$$.fragment),n=B(),X(o.$$.fragment),i=B(),X(r.$$.fragment),l=B(),X(a.$$.fragment)},m(u,f){U(e,u,f),O(u,n,f),U(o,u,f),O(u,i,f),U(r,u,f),O(u,l,f),U(a,u,f),s=!0},i(u){s||(C(e.$$.fragment,u),C(o.$$.fragment,u),C(r.$$.fragment,u),C(a.$$.fragment,u),s=!0)},o(u){S(e.$$.fragment,u),S(o.$$.fragment,u),S(r.$$.fragment,u),S(a.$$.fragment,u),s=!1},d(u){u&&(M(n),M(i),M(l)),K(e,u),K(o,u),K(r,u),K(a,u)}}}function Q3(t){let e,n,o,i=t[1].isComplete(t[2])||t[3]&&t[2].currentTutorialStep==t[0]?"✅":"⬜️",r,l,a,s=t[1].message+"",u,f,c,d=t[3]&&t[2].currentTutorialStep==t[0]&&sf();return{c(){e=I("div"),d&&d.c(),n=B(),o=I("span"),r=G(i),l=B(),a=I("span"),u=G(s),P(o,"class","flex flex-row gap-1"),P(e,"class",f="text-xs flex flex-row justify-start align-middle pb-2 mb-2 transition-all duration-300 noselect "+(t[2].currentTutorialStep==t[0]?"opacity-100":"opacity-50"))},m(h,m){O(h,e,m),d&&d.m(e,null),v(e,n),v(e,o),v(o,r),v(o,l),v(o,a),v(a,u),c=!0},p(h,[m]){h[3]&&h[2].currentTutorialStep==h[0]?d?m&13&&C(d,1):(d=sf(),d.c(),C(d,1),d.m(e,n)):d&&(Oe(),S(d,1,1,()=>{d=null}),Ie()),(!c||m&15)&&i!==(i=h[1].isComplete(h[2])||h[3]&&h[2].currentTutorialStep==h[0]?"✅":"⬜️")&&ae(r,i),(!c||m&2)&&s!==(s=h[1].message+"")&&ae(u,s),(!c||m&5&&f!==(f="text-xs flex flex-row justify-start align-middle pb-2 mb-2 transition-all duration-300 noselect "+(h[2].currentTutorialStep==h[0]?"opacity-100":"opacity-50")))&&P(e,"class",f)},i(h){c||(C(d),c=!0)},o(h){S(d),c=!1},d(h){h&&M(e),d&&d.d()}}}function z3(t,e,n){let o,i;ue(t,Fe,a=>n(2,o=a)),ue(t,Eo,a=>n(3,i=a));let{index:r}=e,{step:l}=e;return t.$$set=a=>{"index"in a&&n(0,r=a.index),"step"in a&&n(1,l=a.step)},[r,l,o,i]}class md extends he{constructor(e){super(),pe(this,e,z3,Q3,me,{index:0,step:1})}}function af(t,e,n){const o=t.slice();return o[12]=e[n],o[14]=n,o}function uf(t,e,n){const o=t.slice();return o[15]=e[n].icon,o[16]=e[n].name,o[17]=e[n].value,o[18]=e[n].rate,o}function ff(t,e,n){const o=t.slice();return o[21]=e[n],o}function cf(t,e,n){const o=t.slice();return o[16]=e[n].name,o[17]=e[n].value,o[24]=e[n].modifier,o[25]=e[n].color,o[26]=e[n].hover,o[27]=e[n].description,o[28]=e[n].max,o}function e4(t){let e,n=t[16]+"",o,i,r,l;return r=new J3({props:{value:t[17],max:t[28]??300,class:"min-w-[80px] max-w-[80px]",color:t[25]}}),{c(){e=I("span"),o=G(n),i=B(),X(r.$$.fragment),P(e,"class","text-md pr-2")},m(a,s){O(a,e,s),v(e,o),O(a,i,s),U(r,a,s),l=!0},p(a,s){(!l||s[0]&16)&&n!==(n=a[16]+"")&&ae(o,n);const u={};s[0]&16&&(u.value=a[17]),s[0]&16&&(u.max=a[28]??300),s[0]&16&&(u.color=a[25]),r.$set(u)},i(a){l||(C(r.$$.fragment,a),l=!0)},o(a){S(r.$$.fragment,a),l=!1},d(a){a&&(M(e),M(i)),K(r,a)}}}function df(t){let e,n;return e=new po({props:{class:"rounded-2xl "+(t[25]??t[8](t[17]).replace("500","300")),$$slots:{default:[t4]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const r={};i[0]&16&&(r.class="rounded-2xl "+(o[25]??o[8](o[17]).replace("500","300"))),i[0]&16|i[1]&1&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function t4(t){let e,n,o=t[16]+"",i,r,l=Nt(t[17],!1)+"",a,s,u=t[28]?`out of ${t[28]}`:"",f,c,d,h,m,p=t[27]+"",g;return d=new St({props:{class:"mb-2 mt-1"}}),{c(){e=I("div"),n=I("span"),i=G(o),r=G(": "),a=G(l),s=B(),f=G(u),c=B(),X(d.$$.fragment),h=B(),m=I("span"),P(n,"class","text-md"),P(e,"class","flex flex-col justify-between text-black p-0 m-0 max-w-48")},m(A,b){O(A,e,b),v(e,n),v(n,i),v(n,r),v(n,a),v(n,s),v(n,f),v(e,c),U(d,e,null),v(e,h),v(e,m),m.innerHTML=p,g=!0},p(A,b){(!g||b[0]&16)&&o!==(o=A[16]+"")&&ae(i,o),(!g||b[0]&16)&&l!==(l=Nt(A[17],!1)+"")&&ae(a,l),(!g||b[0]&16)&&u!==(u=A[28]?`out of ${A[28]}`:"")&&ae(f,u),(!g||b[0]&16)&&p!==(p=A[27]+"")&&(m.innerHTML=p)},i(A){g||(C(d.$$.fragment,A),g=!0)},o(A){S(d.$$.fragment,A),g=!1},d(A){A&&M(e),K(d)}}}function n4(t){let e,n,o,i;e=new _o({props:{class:"w-full flex flex-row align-middle justify-between",$$slots:{default:[e4]},$$scope:{ctx:t}}});let r=t[26]&&df(t);return{c(){X(e.$$.fragment),n=B(),r&&r.c(),o=De()},m(l,a){U(e,l,a),O(l,n,a),r&&r.m(l,a),O(l,o,a),i=!0},p(l,a){const s={};a[0]&16|a[1]&1&&(s.$$scope={dirty:a,ctx:l}),e.$set(s),l[26]?r?(r.p(l,a),a[0]&16&&C(r,1)):(r=df(l),r.c(),C(r,1),r.m(o.parentNode,o)):r&&(Oe(),S(r,1,1,()=>{r=null}),Ie())},i(l){i||(C(e.$$.fragment,l),C(r),i=!0)},o(l){S(e.$$.fragment,l),S(r),i=!1},d(l){l&&(M(n),M(o)),K(e,l),r&&r.d(l)}}}function mf(t){let e,n,o,i;return n=new ho({props:{openDelay:400,closeDelay:0,$$slots:{default:[n4]},$$scope:{ctx:t}}}),{c(){e=I("div"),X(n.$$.fragment),o=B(),P(e,"class","flex flex-col gap-1")},m(r,l){O(r,e,l),U(n,e,null),v(e,o),i=!0},p(r,l){const a={};l[0]&16|l[1]&1&&(a.$$scope={dirty:l,ctx:r}),n.$set(a)},i(r){i||(C(n.$$.fragment,r),i=!0)},o(r){S(n.$$.fragment,r),i=!1},d(r){r&&M(e),K(n)}}}function o4(t){let e,n,o,i,r,l,a,s,u,f,c,d,h,m,p,g,A,b,w,E,D,$=t[0].gameSettings.includes("bagOfHolding")?"There is no resource cap in this game mode! (Bag of Holding)":"",R;return{c(){e=I("div"),n=G(`Resources are generated from plots. Generation rate can be increased
            by raising the productivity of the town, at the cost of some
            happiness.
            `),o=I("br"),i=B(),r=I("br"),l=G(`
            There is also a slight bit of randomness as townspeople aren't robots.
            `),a=I("br"),s=B(),u=I("br"),f=B(),c=I("span"),c.textContent="Stockpile plots",d=G(` increase the maximum
            amount of resources you can store.
            `),h=I("br"),m=B(),p=I("br"),g=G(`
            If the cap is 500, then you can store 500 of each resource before the
            cap is reached.
            `),A=I("br"),b=G(`
            Capacity is increased by 2,000 per Stockpile plot.
            `),w=I("br"),E=B(),D=I("span"),R=G($),P(c,"class","font-bold"),P(D,"class","text-red-800 font-bold"),P(e,"class","text-sm")},m(j,F){O(j,e,F),v(e,n),v(e,o),v(e,i),v(e,r),v(e,l),v(e,a),v(e,s),v(e,u),v(e,f),v(e,c),v(e,d),v(e,h),v(e,m),v(e,p),v(e,g),v(e,A),v(e,b),v(e,w),v(e,E),v(e,D),v(D,R)},p(j,F){F[0]&1&&$!==($=j[0].gameSettings.includes("bagOfHolding")?"There is no resource cap in this game mode! (Bag of Holding)":"")&&ae(R,$)},d(j){j&&M(e)}}}function i4(t){let e,n,o,i=t[0].gameSettings.includes("bagOfHolding")?"No resource cap":`Capacity: ${Nt(t[0].resource_capacity,!1)}`,r,l,a,s,u;return s=new po({props:{class:"text-sm w-[200px]",$$slots:{default:[o4]},$$scope:{ctx:t}}}),{c(){e=I("h1"),n=G(`Resources

          `),o=I("div"),r=G(i),a=B(),X(s.$$.fragment),P(o,"class",l="text-xs w-full text-center mb-2 cursor-pointer italic "+(t[1]==!0?"text-textDanger animate-pulse font-bold":"")+" "+(t[0].gameSettings.includes("bagOfHolding")?"opacity-30":"")),P(e,"class","text-xl w-full text-center pb-2")},m(f,c){O(f,e,c),v(e,n),v(e,o),v(o,r),O(f,a,c),U(s,f,c),u=!0},p(f,c){(!u||c[0]&1)&&i!==(i=f[0].gameSettings.includes("bagOfHolding")?"No resource cap":`Capacity: ${Nt(f[0].resource_capacity,!1)}`)&&ae(r,i),(!u||c[0]&3&&l!==(l="text-xs w-full text-center mb-2 cursor-pointer italic "+(f[1]==!0?"text-textDanger animate-pulse font-bold":"")+" "+(f[0].gameSettings.includes("bagOfHolding")?"opacity-30":"")))&&P(o,"class",l);const d={};c[0]&1|c[1]&1&&(d.$$scope={dirty:c,ctx:f}),s.$set(d)},i(f){u||(C(s.$$.fragment,f),u=!0)},o(f){S(s.$$.fragment,f),u=!1},d(f){f&&(M(e),M(a)),K(s,f)}}}function r4(t){let e,n;return e=new _o({props:{$$slots:{default:[i4]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const r={};i[0]&3|i[1]&1&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function l4(t){let e,n,o=t[18]+"",i;return{c(){e=I("span"),n=G("+"),i=G(o),P(e,"class","")},m(r,l){O(r,e,l),v(e,n),v(e,i)},p(r,l){l[0]&8&&o!==(o=r[18]+"")&&ae(i,o)},d(r){r&&M(e)}}}function s4(t){let e;return{c(){e=I("span")},m(n,o){O(n,e,o)},p:Me,d(n){n&&M(e)}}}function a4(t){let e,n=t[18]+"",o;return{c(){e=I("span"),o=G(n),P(e,"class","text-textDanger")},m(i,r){O(i,e,r),v(e,o)},p(i,r){r[0]&8&&n!==(n=i[18]+"")&&ae(o,n)},d(i){i&&M(e)}}}function u4(t){let e,n,o=t[18]+"",i;return{c(){e=I("span"),n=G("+"),i=G(o),P(e,"class","text-textHappy")},m(r,l){O(r,e,l),v(e,n),v(e,i)},p(r,l){l[0]&8&&o!==(o=r[18]+"")&&ae(i,o)},d(r){r&&M(e)}}}function f4(t){let e;return{c(){e=I("span"),e.textContent="⚠️ CAP",P(e,"class","text-textDanger")},m(n,o){O(n,e,o)},p:Me,d(n){n&&M(e)}}}function c4(t){let e;return{c(){e=I("span"),P(e,"class","display-none")},m(n,o){O(n,e,o)},p:Me,d(n){n&&M(e)}}}function d4(t){let e,n,o=t[18]+"",i,r;return{c(){e=I("span"),n=G("+"),i=G(o),r=G(" (weekly)"),P(e,"class","")},m(l,a){O(l,e,a),v(e,n),v(e,i),v(e,r)},p(l,a){a[0]&8&&o!==(o=l[18]+"")&&ae(i,o)},d(l){l&&M(e)}}}function m4(t){let e,n=t[18]+"",o,i;return{c(){e=I("span"),o=G(n),i=G(" (weekly)"),P(e,"class","text-textDanger")},m(r,l){O(r,e,l),v(e,o),v(e,i)},p(r,l){l[0]&8&&n!==(n=r[18]+"")&&ae(o,n)},d(r){r&&M(e)}}}function p4(t){let e,n,o=t[18]+"",i,r;return{c(){e=I("span"),n=G("+"),i=G(o),r=G(" (weekly)"),P(e,"class","text-textHappy")},m(l,a){O(l,e,a),v(e,n),v(e,i),v(e,r)},p(l,a){a[0]&8&&o!==(o=l[18]+"")&&ae(i,o)},d(l){l&&M(e)}}}function pf(t){let e,n,o,i;return e=new St({props:{class:"bg-white"}}),{c(){X(e.$$.fragment),n=B(),o=I("span"),o.textContent="Required for",P(o,"class","text-sm font-semibold")},m(r,l){U(e,r,l),O(r,n,l),O(r,o,l),i=!0},i(r){i||(C(e.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),i=!1},d(r){r&&(M(n),M(o)),K(e,r)}}}function hf(t){let e,n=t[21]+"",o;return{c(){e=I("span"),o=G(n),P(e,"class","text-xs mr-4")},m(i,r){O(i,e,r),v(e,o)},p(i,r){r[0]&8&&n!==(n=i[21]+"")&&ae(o,n)},d(i){i&&M(e)}}}function h4(t){let e,n,o=t[15]+"",i,r,l=An(t[16])+"",a,s,u,f=t[7](t[16]).length>0,c,d,h;function m(E,D){return E[18]>0?p4:E[18]<0?m4:E[18]!=null?d4:c4}let p=m(t),g=p(t),A=f&&pf(),b=Ue(t[7](t[16])),w=[];for(let E=0;E<b.length;E+=1)w[E]=hf(ff(t,b,E));return{c(){e=I("div"),n=I("span"),i=G(o),r=B(),a=G(l),s=B(),g.c(),u=B(),A&&A.c(),c=B(),d=I("div");for(let E=0;E<w.length;E+=1)w[E].c();P(n,"class","text-md font-bold"),P(d,"class","flex flex-col flex-wrap min-w-full"),P(e,"class","flex flex-col gap-2 whitespace-nowrap min-w-fit")},m(E,D){O(E,e,D),v(e,n),v(n,i),v(n,r),v(n,a),v(e,s),g.m(e,null),v(e,u),A&&A.m(e,null),v(e,c),v(e,d);for(let $=0;$<w.length;$+=1)w[$]&&w[$].m(d,null);h=!0},p(E,D){if((!h||D[0]&8)&&o!==(o=E[15]+"")&&ae(i,o),(!h||D[0]&8)&&l!==(l=An(E[16])+"")&&ae(a,l),p===(p=m(E))&&g?g.p(E,D):(g.d(1),g=p(E),g&&(g.c(),g.m(e,u))),D[0]&8&&(f=E[7](E[16]).length>0),f?A?D[0]&8&&C(A,1):(A=pf(),A.c(),C(A,1),A.m(e,c)):A&&(Oe(),S(A,1,1,()=>{A=null}),Ie()),D[0]&136){b=Ue(E[7](E[16]));let $;for($=0;$<b.length;$+=1){const R=ff(E,b,$);w[$]?w[$].p(R,D):(w[$]=hf(R),w[$].c(),w[$].m(d,null))}for(;$<w.length;$+=1)w[$].d(1);w.length=b.length}},i(E){h||(C(A),h=!0)},o(E){S(A),h=!1},d(E){E&&M(e),g.d(),A&&A.d(),at(w,E)}}}function _4(t){let e,n=t[15]+"",o,i,r=Nt(parseInt(t[17]),!1)+"",l,a,s,u,f,c;function d(p,g){return p[17]>=p[0].resource_capacity&&p[16]!="gold"?f4:p[18]>0?u4:p[18]<0?a4:p[18]==null?s4:l4}let h=d(t),m=h(t);return f=new po({props:{$$slots:{default:[h4]},$$scope:{ctx:t}}}),{c(){e=I("span"),o=G(n),i=B(),l=G(r),a=B(),m.c(),u=B(),X(f.$$.fragment),P(e,"class",s="flex flex-row justify-between "+(t[17]<=0?"text-textDanger font-semibold":""))},m(p,g){O(p,e,g),v(e,o),v(e,i),v(e,l),v(e,a),m.m(e,null),O(p,u,g),U(f,p,g),c=!0},p(p,g){(!c||g[0]&8)&&n!==(n=p[15]+"")&&ae(o,n),(!c||g[0]&8)&&r!==(r=Nt(parseInt(p[17]),!1)+"")&&ae(l,r),h===(h=d(p))&&m?m.p(p,g):(m.d(1),m=h(p),m&&(m.c(),m.m(e,null))),(!c||g[0]&8&&s!==(s="flex flex-row justify-between "+(p[17]<=0?"text-textDanger font-semibold":"")))&&P(e,"class",s);const A={};g[0]&8|g[1]&1&&(A.$$scope={dirty:g,ctx:p}),f.$set(A)},i(p){c||(C(f.$$.fragment,p),c=!0)},o(p){S(f.$$.fragment,p),c=!1},d(p){p&&(M(e),M(u)),m.d(),K(f,p)}}}function g4(t){let e,n,o;return e=new _o({props:{$$slots:{default:[_4]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=B()},m(i,r){U(e,i,r),O(i,n,r),o=!0},p(i,r){const l={};r[0]&9|r[1]&1&&(l.$$scope={dirty:r,ctx:i}),e.$set(l)},i(i){o||(C(e.$$.fragment,i),o=!0)},o(i){S(e.$$.fragment,i),o=!1},d(i){i&&M(n),K(e,i)}}}function _f(t){let e,n;return e=new ho({props:{openDelay:400,closeDelay:0,$$slots:{default:[g4]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const r={};i[0]&9|i[1]&1&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function gf(t){let e,n,o,i,r,l,a,s;return e=new sn({props:{cone:!0,x:[-.5,.5]}}),o=new sn({props:{cone:!0,amount:10,x:[-1,-.4],y:[.25,.75],rounded:!0,size:15}}),r=new sn({props:{cone:!0,amount:10,x:[.4,1],y:[.25,.75]}}),a=new sn({props:{infinite:!0,amount:75,delay:[0,200]}}),{c(){X(e.$$.fragment),n=B(),X(o.$$.fragment),i=B(),X(r.$$.fragment),l=B(),X(a.$$.fragment)},m(u,f){U(e,u,f),O(u,n,f),U(o,u,f),O(u,i,f),U(r,u,f),O(u,l,f),U(a,u,f),s=!0},i(u){s||(C(e.$$.fragment,u),C(o.$$.fragment,u),C(r.$$.fragment,u),C(a.$$.fragment,u),s=!0)},o(u){S(e.$$.fragment,u),S(o.$$.fragment,u),S(r.$$.fragment,u),S(a.$$.fragment,u),s=!1},d(u){u&&(M(n),M(i),M(l)),K(e,u),K(o,u),K(r,u),K(a,u)}}}function bf(t){let e,n=t[2]?`Hide ${t[0].currentTutorialStep} completed`:`Show ${t[0].currentTutorialStep} completed`,o;return{c(){e=I("span"),o=G(n),P(e,"class","text-xs opacity-65 cursor-pointer italic pb-2")},m(i,r){O(i,e,r),v(e,o)},p(i,r){r[0]&5&&n!==(n=i[2]?`Hide ${i[0].currentTutorialStep} completed`:`Show ${i[0].currentTutorialStep} completed`)&&ae(o,n)},d(i){i&&M(e)}}}function b4(t){let e,n;return e=new md({props:{index:t[14],step:t[12]}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p:Me,i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function v4(t){let e,n,o=t[2]&&vf(t);return{c(){o&&o.c(),e=De()},m(i,r){o&&o.m(i,r),O(i,e,r),n=!0},p(i,r){i[2]?o?r[0]&4&&C(o,1):(o=vf(i),o.c(),C(o,1),o.m(e.parentNode,e)):o&&(Oe(),S(o,1,1,()=>{o=null}),Ie())},i(i){n||(C(o),n=!0)},o(i){S(o),n=!1},d(i){i&&M(e),o&&o.d(i)}}}function vf(t){let e,n;return e=new md({props:{index:t[14],step:t[12]}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function yf(t){let e,n,o,i;const r=[v4,b4],l=[];function a(s,u){return s[0].currentTutorialStep>s[14]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?l[e].p(s,u):(Oe(),S(l[f],1,1,()=>{l[f]=null}),Ie(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function y4(t){let e,n,o,i,r,l,a,s,u,f,c,d,h,m,p,g,A,b,w,E,D,$,R,j,F,N=Ue(t[4]),T=[];for(let z=0;z<N.length;z+=1)T[z]=mf(cf(t,N,z));const k=z=>S(T[z],1,1,()=>{T[z]=null});s=new ho({props:{openDelay:400,closeDelay:0,$$slots:{default:[r4]},$$scope:{ctx:t}}});let y=Ue(t[3]),L=[];for(let z=0;z<y.length;z+=1)L[z]=_f(uf(t,y,z));const V=z=>S(L[z],1,1,()=>{L[z]=null});let q=t[6]&&gf(),x=t[0].currentTutorialStep>0&&bf(t),W=Ue(Ro),Y=[];for(let z=0;z<W.length;z+=1)Y[z]=yf(af(t,W,z));const te=z=>S(Y[z],1,1,()=>{Y[z]=null});return{c(){e=I("div"),n=I("div"),o=I("div"),i=I("h1"),i.textContent="Stats",r=B();for(let z=0;z<T.length;z+=1)T[z].c();l=B(),a=I("div"),X(s.$$.fragment),u=B(),f=I("div"),c=B(),d=I("div"),h=I("div");for(let z=0;z<L.length;z+=1)L[z].c();m=B(),p=I("div"),g=I("div"),q&&q.c(),A=B(),b=I("h1"),b.textContent="Milestones",w=B(),x&&x.c(),E=B(),D=I("div");for(let z=0;z<Y.length;z+=1)Y[z].c();P(i,"class","text-xl w-full text-center pb-1"),P(o,"class","flex flex-col rounded-xl gap-2 w-full"),P(n,"class","flex flex-row w-full pb-6"),P(a,"class","flex flex-row justify-center"),P(f,"class","w-[full] flex flex-row justify-center"),P(h,"class","flex flex-col text-md text-nowrap gap-2"),P(b,"class","text-xl w-full text-center pb-2"),P(g,"class","text-lg w-full text-center noselect flex flex-col no-select"),P(D,"class","scroll overflow-y-scroll"),P(d,"class","flex flex-col gap-8 h-full"),P(e,"class",$="bg-sidebarBackground text-sidebarText w-[220px] sidebar border-foreground border-4 "+(t[5].visible?"bottom-8 opacity-70":"bottom-2")+" z-10 fixed right-3 top-[190px] rounded-xl px-2 pt-2 transition-all duration-300 overflow-y-scroll scroll")},m(z,ne){O(z,e,ne),v(e,n),v(n,o),v(o,i),v(o,r);for(let re=0;re<T.length;re+=1)T[re]&&T[re].m(o,null);v(e,l),v(e,a),U(s,a,null),v(e,u),v(e,f),v(e,c),v(e,d),v(d,h);for(let re=0;re<L.length;re+=1)L[re]&&L[re].m(h,null);v(d,m),v(d,p),v(p,g),q&&q.m(g,null),v(g,A),v(g,b),v(g,w),x&&x.m(g,null),v(p,E),v(p,D);for(let re=0;re<Y.length;re+=1)Y[re]&&Y[re].m(D,null);R=!0,j||(F=ee(g,"click",t[9]),j=!0)},p(z,ne){if(ne[0]&272){N=Ue(z[4]);let le;for(le=0;le<N.length;le+=1){const _=cf(z,N,le);T[le]?(T[le].p(_,ne),C(T[le],1)):(T[le]=mf(_),T[le].c(),C(T[le],1),T[le].m(o,null))}for(Oe(),le=N.length;le<T.length;le+=1)k(le);Ie()}const re={};if(ne[0]&3|ne[1]&1&&(re.$$scope={dirty:ne,ctx:z}),s.$set(re),ne[0]&137){y=Ue(z[3]);let le;for(le=0;le<y.length;le+=1){const _=uf(z,y,le);L[le]?(L[le].p(_,ne),C(L[le],1)):(L[le]=_f(_),L[le].c(),C(L[le],1),L[le].m(h,null))}for(Oe(),le=y.length;le<L.length;le+=1)V(le);Ie()}if(z[6]?q?ne[0]&64&&C(q,1):(q=gf(),q.c(),C(q,1),q.m(g,A)):q&&(Oe(),S(q,1,1,()=>{q=null}),Ie()),z[0].currentTutorialStep>0?x?x.p(z,ne):(x=bf(z),x.c(),x.m(g,null)):x&&(x.d(1),x=null),ne[0]&5){W=Ue(Ro);let le;for(le=0;le<W.length;le+=1){const _=af(z,W,le);Y[le]?(Y[le].p(_,ne),C(Y[le],1)):(Y[le]=yf(_),Y[le].c(),C(Y[le],1),Y[le].m(D,null))}for(Oe(),le=W.length;le<Y.length;le+=1)te(le);Ie()}(!R||ne[0]&32&&$!==($="bg-sidebarBackground text-sidebarText w-[220px] sidebar border-foreground border-4 "+(z[5].visible?"bottom-8 opacity-70":"bottom-2")+" z-10 fixed right-3 top-[190px] rounded-xl px-2 pt-2 transition-all duration-300 overflow-y-scroll scroll"))&&P(e,"class",$)},i(z){if(!R){for(let ne=0;ne<N.length;ne+=1)C(T[ne]);C(s.$$.fragment,z);for(let ne=0;ne<y.length;ne+=1)C(L[ne]);C(q);for(let ne=0;ne<W.length;ne+=1)C(Y[ne]);R=!0}},o(z){T=T.filter(Boolean);for(let ne=0;ne<T.length;ne+=1)S(T[ne]);S(s.$$.fragment,z),L=L.filter(Boolean);for(let ne=0;ne<L.length;ne+=1)S(L[ne]);S(q),Y=Y.filter(Boolean);for(let ne=0;ne<Y.length;ne+=1)S(Y[ne]);R=!1},d(z){z&&M(e),at(T,z),K(s),at(L,z),q&&q.d(),x&&x.d(),at(Y,z),j=!1,F()}}}function w4(t){return["food","wood","stone","metal","power","knowledge"].includes(t)}function wf(t){let e=0;for(let n=0;n<t.plots.length;n++)for(let o=0;o<t.plots[n].length;o++)t.plots[n][o].active==!0&&t.plots[n][o].type>-1&&e++;return e}function k4(t,e,n){let o,i,r;ue(t,Fe,p=>n(0,o=p)),ue(t,et,p=>n(5,i=p)),ue(t,Eo,p=>n(6,r=p));let l=!1,a=!1,s=[];function u(p){let g=[];for(let A=0;A<oe.length;A++)(p!="knowledge"&&oe[A].requirements.resources[p]>0||p=="power"&&oe[A].active_costs.power>0||p=="knowledge"&&oe[A].requirements.knowledge>0)&&g.push(oe[A].title);return g}function f(p){return w4(p)?u(p):[]}let c;const d=p=>p===1?"bg-green-500":p>.9?"bg-yellow-500":"bg-red-500",h=p=>p>149?"bg-green-500":p>99?"bg-yellow-500":"bg-red-500",m=()=>{n(2,a=!a)};return t.$$.update=()=>{t.$$.dirty[0]&1&&n(1,l=o.resources.food>=o.resource_capacity||o.resources.wood>=o.resource_capacity||o.resources.stone>=o.resource_capacity||o.resources.metal>=o.resource_capacity),t.$$.dirty[0]&1&&n(3,s=[{icon:"💰",name:"gold",value:o.townInfo.gold,rate:o.economyAndLaws.weeklyProfit},{icon:"🥕",name:"food",value:o.resources.food,rate:o.resource_rate.food},{icon:"🪵",name:"wood",value:o.resources.wood,rate:o.resource_rate.wood},{icon:"🪨",name:"stone",value:o.resources.stone,rate:o.resource_rate.stone},{icon:"🧠",name:"knowledge",value:o.townInfo.knowledge_points,rate:o.resource_rate.knowledge},{icon:"🧲",name:"metal",value:o.resources.metal,rate:o.resource_rate.metal},{icon:"🔋",name:"power",value:o.resources.power,rate:null},{icon:"🧑‍⚖️",name:"bureaucracy",value:o.resources.bureaucracy,rate:o.resource_rate.bureaucracy}]),t.$$.dirty[0]&1&&n(4,c=[{name:"Happiness",description:"Happy townspeople spend more money and are less likely to leave.",value:o.townInfo.happiness,modifier:o.modifiers.happiness,color:h(o.townInfo.happiness),hover:!0,max:300},{name:"Health",description:"Healthy townspeople are less likely to die (and leave the town obviously).",value:o.townInfo.health,modifier:o.modifiers.health,color:h(o.townInfo.health),hover:!0,max:300},{name:"Community",description:"Townspeople that feel at home are less likely to leave, and less likely to get bored.",value:o.townInfo.community,modifier:o.modifiers.community,color:h(o.townInfo.community),hover:!0,max:300},{name:"Employment",description:"The number of people employed in your town. Unemployed people are more likely to leave.",value:o.townInfo.employees,modifier:null,color:d(o.townInfo.employees/o.townInfo.population_count),hover:!0,max:o.townInfo.population_count},{name:"🛝 Recreation",description:"Tracker for how many plots you have for recreation, which keeps townspeople happy. <br/><br/>Make sure as your town grows that you build enough 🛝 plots. ",value:o.townInfo.recreation,modifier:null,color:o.townInfo.recreation/wf(o)>=.2?"bg-green-500":"bg-orange-300",hover:!0,max:wf(o)}])},[o,l,a,s,c,i,r,f,h,m]}class C4 extends he{constructor(e){super(),pe(this,e,k4,y4,me,{},null,[-1,-1])}}function A4(t){let e,n,o,i,r,l,a,s,u,f,c,d,h;return o=new r3({}),l=new Y3({}),s=new R3({}),f=new C4({}),d=new dd({}),{c(){e=I("div"),n=I("div"),X(o.$$.fragment),i=B(),r=I("div"),X(l.$$.fragment),a=B(),X(s.$$.fragment),u=B(),X(f.$$.fragment),c=B(),X(d.$$.fragment),P(r,"class","flex flex-row text-accentText"),P(e,"class","flex flex-col max-h-[100%] justify-between")},m(m,p){O(m,e,p),v(e,n),U(o,n,null),v(e,i),v(e,r),U(l,r,null),v(r,a),U(s,r,null),v(r,u),U(f,r,null),v(r,c),U(d,r,null),h=!0},p:Me,i(m){h||(C(o.$$.fragment,m),C(l.$$.fragment,m),C(s.$$.fragment,m),C(f.$$.fragment,m),C(d.$$.fragment,m),h=!0)},o(m){S(o.$$.fragment,m),S(l.$$.fragment,m),S(s.$$.fragment,m),S(f.$$.fragment,m),S(d.$$.fragment,m),h=!1},d(m){m&&M(e),K(o),K(l),K(s),K(f),K(d)}}}class S4 extends he{constructor(e){super(),pe(this,e,null,A4,me,{})}}function kf(t,e,n){const o=t.slice();return o[20]=e[n],o}function Cf(t){let e,n,o,i,r,l,a=t[20].description+"",s;return{c(){e=I("li"),n=I("div"),o=I("span"),o.textContent=`☑️ ${t[20].text}`,i=B(),r=I("span"),l=I("blockquote"),s=B(),P(o,"class","hover:text-green-300 font-bold"),P(l,"class","text-xs px-[18px]"),P(r,"class","text-sm transition-all duration-300 ease-in-out "),P(n,"class","flex flex-col gap-2"),P(e,"class","flex flex-row gap-2 items-center")},m(u,f){O(u,e,f),v(e,n),v(n,o),v(n,i),v(n,r),v(r,l),l.innerHTML=a,v(e,s)},p:Me,d(u){u&&M(e)}}}function T4(t){let e,n,o,i,r,l,a=t[0].townInfo.name+"",s,u,f,c,d,h,m,p,g,A,b,w=Ue(t[2]),E=[];for(let D=0;D<w.length;D+=1)E[D]=Cf(kf(t,w,D));return{c(){e=I("div"),n=I("div"),o=I("div"),i=I("h1"),r=G("The town of "),l=I("span"),s=G(a),u=G(`
                has been founded!`),f=B(),c=I("p"),c.textContent=`Congratulations! 🎉 After leaving your old town, you've
                discovered a fertile land bursting with potential. This is your
                chance to build a thriving new community from the ground up.`,d=B(),h=I("p"),h.innerHTML=`As the town founder and <span class="italic">formal liege</span>, you must <span class="text-blue-300">collect taxes</span>,
                and use that funding to
                <span class="text-blue-300">build plots</span>.`,m=B(),p=I("div"),g=I("div"),g.innerHTML='<h3 class="text-xl underline underline-offset-8">Your Objectives</h3>',A=B(),b=I("ul");for(let D=0;D<E.length;D+=1)E[D].c();P(l,"class","text-accent"),P(i,"class","text-3xl mt-4 text-white font-semibold"),P(o,"class","flex flex-col gap-4"),P(g,"class","flex flex-row align-middle items-center"),P(b,"class","select-none gap-4 flex flex-col "),P(p,"class","flex flex-col gap-4"),P(n,"class","flex flex-col gap-8 overflow-y-scroll  svelte-1rjkodc"),P(e,"class","flex flex-row gap-6")},m(D,$){O(D,e,$),v(e,n),v(n,o),v(o,i),v(i,r),v(i,l),v(l,s),v(i,u),v(o,f),v(o,c),v(o,d),v(o,h),v(n,m),v(n,p),v(p,g),v(p,A),v(p,b);for(let R=0;R<E.length;R+=1)E[R]&&E[R].m(b,null)},p(D,$){if($&1&&a!==(a=D[0].townInfo.name+"")&&ae(s,a),$&4){w=Ue(D[2]);let R;for(R=0;R<w.length;R+=1){const j=kf(D,w,R);E[R]?E[R].p(j,$):(E[R]=Cf(j),E[R].c(),E[R].m(b,null))}for(;R<E.length;R+=1)E[R].d(1);E.length=w.length}},d(D){D&&M(e),at(E,D)}}}function M4(t){let e,n;return e=new Cl({props:{$$slots:{default:[T4]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const r={};i&8388609&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function O4(t){let e;return{c(){e=G("Start your kingdom")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function I4(t){let e,n;return e=new Pc({props:{class:"bg-accent rounded-2xl text-accentText px-4 py-2 hover:scale-110 transition-all duration-300 ",$$slots:{default:[O4]},$$scope:{ctx:t}}}),e.$on("click",t[6]),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const r={};i&8388608&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function N4(t){let e,n,o,i;return e=new kl({props:{$$slots:{default:[M4]},$$scope:{ctx:t}}}),o=new nr({props:{$$slots:{default:[I4]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=B(),X(o.$$.fragment)},m(r,l){U(e,r,l),O(r,n,l),U(o,r,l),i=!0},p(r,l){const a={};l&8388609&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&8388608&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&M(n),K(e,r),K(o,r)}}}function P4(t){let e,n;return e=new or({props:{class:"bg-foregroundDark text-accentText min-w-[50vw] min-h-[50vh] flex flex-col justify-between ",$$slots:{default:[N4]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const r={};i&8388609&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function E4(t){let e,n;return e=new ir({props:{open:t[1],$$slots:{default:[P4]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,[i]){const r={};i&2&&(r.open=o[1]),i&8388609&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function R4(t,e,n){let o,i,r,l;ue(t,Zt,m=>n(8,o=m)),ue(t,Fe,m=>n(0,i=m)),ue(t,Si,m=>n(5,r=m)),ue(t,Pr,m=>n(1,l=m)),Nn[i.endGoal],ul[i.difficulty],it.sort((m,p)=>f(m.id)&&!f(p.id)?-1:!f(m.id)&&f(p.id)?1:0),it.filter(m=>f(m.id));function s(m){const p=o.achievements.find(g=>g[0]==m);return p==null?!1:p[3]}let u=it;function f(m){return o.achievements==null?!1:o.achievements.find(p=>p[0]==m)!=null}function c(){Si.update(m=>!m),localStorage.setItem("showCompletedAchievements",localStorage.getItem("showCompletedAchievements")==="true"?"false":"true")}localStorage.getItem("pauseMenuTab")==null&&(localStorage.setItem("pauseMenuTab","game"),jf.set("game"));const d=[{text:"Create a thriving economy",description:"Invite people into your town, and have them work to generate food, wood, and other resources."},{text:"Grow your kingdom",description:"Get enough resources to build a <span class='text-green-300'>City Hall</span>, which will be used to expand your kingdom and keep your townspeople the happiest!"},{text:"Keep the town Happy and Healthy",description:"Pay attention to your happiness and health in the top left when you place plots. Certain ones may greatly impact your town's well-being. "}],h=()=>{Pr.set(!1)};return t.$$.update=()=>{if(t.$$.dirty&49&&i)if(r)n(4,u=it);else{n(4,u=[]);for(let m=0;m<it.length;m++)(!f(it[m].id)||!s(it[m].id))&&u.push(it[m])}},[i,l,d,c,u,r,h]}class L4 extends he{constructor(e){super(),pe(this,e,R4,E4,me,{toggleShowCompleted:3})}get toggleShowCompleted(){return this.$$.ctx[3]}}function Af(t,e,n){const o=t.slice();return o[7]=e[n],o}function $4(t){let e,n,o=t[0].townInfo.name+"",i,r,l,a,s=t[0].resources.bureaucracy+"",u;return{c(){e=I("div"),n=I("span"),i=G(o),r=B(),l=I("span"),a=G("🧑‍⚖️ "),u=G(s),P(e,"class","flex justify-between mr-10")},m(f,c){O(f,e,c),v(e,n),v(n,i),v(e,r),v(e,l),v(l,a),v(l,u)},p(f,c){c&1&&o!==(o=f[0].townInfo.name+"")&&ae(i,o),c&1&&s!==(s=f[0].resources.bureaucracy+"")&&ae(u,s)},d(f){f&&M(e)}}}function Sf(t){let e,n,o,i,r,l,a,s,u,f,c,d,h,m,p=t[0].townInfo.guardians+"",g,A,b,w,E,D=t[0].townInfo.population_count-t[0].townInfo.employees+"",$,R,j;return e=new St({props:{class:"mb-4"}}),d=new At({props:{class:`bg-accent rounded-2xl h-min select-none
            `+(t[0].townInfo.guardians<=0?"opacity-50 cursor-not-allowed":"")+`
            `,$$slots:{default:[D4]},$$scope:{ctx:t}}}),d.$on("click",t[2]),b=new At({props:{class:`bg-accent rounded-2xl h-min select-none
            
              `+(t[0].townInfo.employees>=t[0].townInfo.population_count?"opacity-50 cursor-not-allowed":"")+`
            `,$$slots:{default:[q4]},$$scope:{ctx:t}}}),b.$on("click",t[3]),{c(){X(e.$$.fragment),n=B(),o=I("div"),i=I("span"),i.textContent="Hire Guardians ⚔️",r=B(),l=I("br"),a=B(),s=I("span"),s.textContent=`Guardians work for you and are required to expand your kingdom.
            They do not generate revenue, but still require housing & food.`,u=B(),f=I("div"),c=I("div"),X(d.$$.fragment),h=B(),m=I("span"),g=G(p),A=B(),X(b.$$.fragment),w=B(),E=I("span"),$=G(D),R=G(`
              unemployed available for hire.`),P(i,"class","text-lg font-bold"),P(s,"class","text-sm italic"),P(m,"class","text-lg font-bold select-none px-2"),P(E,"class","w-max"),P(f,"class","flex flex-row justify-between align-middle items-center pt-2 pb-2 gap-2 "),P(o,"class","w-full")},m(F,N){U(e,F,N),O(F,n,N),O(F,o,N),v(o,i),v(o,r),v(o,l),v(o,a),v(o,s),v(o,u),v(o,f),v(f,c),U(d,c,null),v(c,h),v(c,m),v(m,g),v(c,A),U(b,c,null),v(f,w),v(f,E),v(E,$),v(E,R),j=!0},p(F,N){const T={};N&1&&(T.class=`bg-accent rounded-2xl h-min select-none
            `+(F[0].townInfo.guardians<=0?"opacity-50 cursor-not-allowed":"")+`
            `),N&1024&&(T.$$scope={dirty:N,ctx:F}),d.$set(T),(!j||N&1)&&p!==(p=F[0].townInfo.guardians+"")&&ae(g,p);const k={};N&1&&(k.class=`bg-accent rounded-2xl h-min select-none
            
              `+(F[0].townInfo.employees>=F[0].townInfo.population_count?"opacity-50 cursor-not-allowed":"")+`
            `),N&1024&&(k.$$scope={dirty:N,ctx:F}),b.$set(k),(!j||N&1)&&D!==(D=F[0].townInfo.population_count-F[0].townInfo.employees+"")&&ae($,D)},i(F){j||(C(e.$$.fragment,F),C(d.$$.fragment,F),C(b.$$.fragment,F),j=!0)},o(F){S(e.$$.fragment,F),S(d.$$.fragment,F),S(b.$$.fragment,F),j=!1},d(F){F&&(M(n),M(o)),K(e,F),K(d),K(b)}}}function D4(t){let e;return{c(){e=G("-")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function q4(t){let e;return{c(){e=G("+")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function F4(t){let e;return{c(){e=G("Build a City Hall to manage your city.")},m(n,o){O(n,e,o)},p:Me,i:Me,o:Me,d(n){n&&M(e)}}}function B4(t){let e,n,o,i,r=Ue($r),l=[];for(let s=0;s<r.length;s+=1)l[s]=Tf(Af(t,r,s));const a=s=>S(l[s],1,1,()=>{l[s]=null});return{c(){e=I("span"),e.textContent="Laws 🧑‍⚖️",n=B();for(let s=0;s<l.length;s+=1)l[s].c();o=De(),P(e,"class","text-lg font-bold")},m(s,u){O(s,e,u),O(s,n,u);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(s,u);O(s,o,u),i=!0},p(s,u){if(u&1){r=Ue($r);let f;for(f=0;f<r.length;f+=1){const c=Af(s,r,f);l[f]?(l[f].p(c,u),C(l[f],1)):(l[f]=Tf(c),l[f].c(),C(l[f],1),l[f].m(o.parentNode,o))}for(Oe(),f=r.length;f<l.length;f+=1)a(f);Ie()}},i(s){if(!i){for(let u=0;u<r.length;u+=1)C(l[u]);i=!0}},o(s){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)S(l[u]);i=!1},d(s){s&&(M(e),M(n),M(o)),at(l,s)}}}function j4(t){let e,n=t[7].cost+"",o;return{c(){e=G("Enact for 🧑‍⚖️ "),o=G(n)},m(i,r){O(i,e,r),O(i,o,r)},d(i){i&&(M(e),M(o))}}}function H4(t){let e;return{c(){e=G("Repeal ❌")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function G4(t){let e,n;function o(l,a){return a&1&&(e=null),e==null&&(e=!!l[0].economyAndLaws.enacted.includes(l[7].id)),e?H4:j4}let i=o(t,-1),r=i(t);return{c(){r.c(),n=De()},m(l,a){r.m(l,a),O(l,n,a)},p(l,a){i!==(i=o(l,a))&&(r.d(1),r=i(l),r&&(r.c(),r.m(n.parentNode,n)))},d(l){l&&M(n),r.d(l)}}}function Tf(t){let e,n,o,i,r,l,a;function s(){return t[4](t[7])}return i=new At({props:{class:`bg-accent rounded-2xl 
                `+(t[0].economyAndLaws.enacted.includes(t[7].id)?"bg-textDanger":"bg-accent")+`

                `+(t[0].economyAndLaws.enacted.includes(t[7].id)||t[7].cost<=t[0].resources.bureaucracy?"cursor-pointer":"cursor-not-allowed opacity-30")+`
                `,$$slots:{default:[G4]},$$scope:{ctx:t}}}),i.$on("click",s),l=new St({props:{class:"bg-white opacity-30"}}),{c(){e=I("div"),n=I("span"),n.textContent=`${t[7].description}`,o=B(),X(i.$$.fragment),r=B(),X(l.$$.fragment),P(e,"class","flex justify-between align-middle items-center pt-2 pb-2 gap-2 ")},m(u,f){O(u,e,f),v(e,n),v(e,o),U(i,e,null),O(u,r,f),U(l,u,f),a=!0},p(u,f){t=u;const c={};f&1&&(c.class=`bg-accent rounded-2xl 
                `+(t[0].economyAndLaws.enacted.includes(t[7].id)?"bg-textDanger":"bg-accent")+`

                `+(t[0].economyAndLaws.enacted.includes(t[7].id)||t[7].cost<=t[0].resources.bureaucracy?"cursor-pointer":"cursor-not-allowed opacity-30")+`
                `),f&1025&&(c.$$scope={dirty:f,ctx:t}),i.$set(c)},i(u){a||(C(i.$$.fragment,u),C(l.$$.fragment,u),a=!0)},o(u){S(i.$$.fragment,u),S(l.$$.fragment,u),a=!1},d(u){u&&(M(e),M(r)),K(i),K(l,u)}}}function V4(t){let e,n,o,i,r=Be("city_hall",t[0]).length>0,l,a,s,u,f,c,d,h;e=new Dn({props:{class:"text-xl",$$slots:{default:[$4]},$$scope:{ctx:t}}}),o=new Bn({props:{class:"w-3/4 overflow-scroll "}});let m=r&&Sf(t);a=new St({props:{class:"mb-4"}});const p=[B4,F4],g=[];function A(b,w){return w&1&&(f=null),f==null&&(f=Be("city_hall",b[0]).length>0),f?0:1}return c=A(t,-1),d=g[c]=p[c](t),{c(){X(e.$$.fragment),n=B(),X(o.$$.fragment),i=B(),m&&m.c(),l=B(),X(a.$$.fragment),s=B(),u=I("div"),d.c(),P(u,"class","w-full")},m(b,w){U(e,b,w),O(b,n,w),U(o,b,w),O(b,i,w),m&&m.m(b,w),O(b,l,w),U(a,b,w),O(b,s,w),O(b,u,w),g[c].m(u,null),h=!0},p(b,w){const E={};w&1025&&(E.$$scope={dirty:w,ctx:b}),e.$set(E),w&1&&(r=Be("city_hall",b[0]).length>0),r?m?(m.p(b,w),w&1&&C(m,1)):(m=Sf(b),m.c(),C(m,1),m.m(l.parentNode,l)):m&&(Oe(),S(m,1,1,()=>{m=null}),Ie());let D=c;c=A(b,w),c===D?g[c].p(b,w):(Oe(),S(g[D],1,1,()=>{g[D]=null}),Ie(),d=g[c],d?d.p(b,w):(d=g[c]=p[c](b),d.c()),C(d,1),d.m(u,null))},i(b){h||(C(e.$$.fragment,b),C(o.$$.fragment,b),C(m),C(a.$$.fragment,b),C(d),h=!0)},o(b){S(e.$$.fragment,b),S(o.$$.fragment,b),S(m),S(a.$$.fragment,b),S(d),h=!1},d(b){b&&(M(n),M(i),M(l),M(s),M(u)),K(e,b),K(o,b),m&&m.d(b),K(a,b),g[c].d()}}}function W4(t){let e,n,o,i;return e=new qn({props:{$$slots:{default:[V4]},$$scope:{ctx:t}}}),o=new mo({}),{c(){X(e.$$.fragment),n=B(),X(o.$$.fragment)},m(r,l){U(e,r,l),O(r,n,l),U(o,r,l),i=!0},p(r,l){const a={};l&1025&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&M(n),K(e,r),K(o,r)}}}function Y4(t){let e,n;return e=new Fn({props:{class:"bg-foreground text-accentText h-[80vh] overflow-scroll",$$slots:{default:[W4]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const r={};i&1025&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function U4(t){let e,n,o;function i(l){t[5](l)}let r={$$slots:{default:[Y4]},$$scope:{ctx:t}};return t[1]!==void 0&&(r.open=t[1]),e=new jn({props:r}),Le.push(()=>hn(e,"open",i)),{c(){X(e.$$.fragment)},m(l,a){U(e,l,a),o=!0},p(l,[a]){const s={};a&1025&&(s.$$scope={dirty:a,ctx:l}),!n&&a&2&&(n=!0,s.open=l[1],pn(()=>n=!1)),e.$set(s)},i(l){o||(C(e.$$.fragment,l),o=!0)},o(l){S(e.$$.fragment,l),o=!1},d(l){K(e,l)}}}function K4(t,e,n){let o,i;ue(t,Fe,u=>n(0,o=u)),ue(t,Ai,u=>n(1,i=u));const r=()=>{o.townInfo.guardians>0?(Re(Fe,o.townInfo.guardians-=1,o),Re(Fe,o.townInfo.employees-=1,o)):bt.set("No guardians to fire.")},l=()=>{o.townInfo.employees<o.townInfo.population_count?(Re(Fe,o.townInfo.guardians+=1,o),Re(Fe,o.townInfo.employees+=1,o)):bt.set("Not enough people.")},a=u=>{o.economyAndLaws.enacted.includes(u.id)?o.economyAndLaws.enacted.splice(o.economyAndLaws.enacted.indexOf(u.id),1):u.cost<=o.resources.bureaucracy?(Re(Fe,o.resources.bureaucracy-=u.cost,o),o.economyAndLaws.enacted.push(u.id)):bt.set("Not enough bureaucracy!")};function s(u){i=u,Ai.set(i)}return t.$$.update=()=>{t.$$.dirty&1},[o,i,r,l,a,s]}class X4 extends he{constructor(e){super(),pe(this,e,K4,U4,me,{})}}function J4(t){let e;return{c(){e=G("Got it")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function x4(t){let e,n,o,i,r,l,a,s;return r=new Nc({props:{class:"bg-accent hover:scale-105 min-w-[70%] transition-all duration-150 mt-2",$$slots:{default:[J4]},$$scope:{ctx:t}}}),r.$on("click",t[1]),a=new nr({}),{c(){e=I("span"),n=G("🛎️ "),o=new Xt(!1),i=B(),X(r.$$.fragment),l=B(),X(a.$$.fragment),o.a=null,P(e,"class","whitespace-pre-wrap overflow-scroll text-center sm:whitespace-normal break-all sm:text-md sm:font-semibold sm:py-4 sm:items-center sm:justify-center"),ze(e,"max-height","80%")},m(u,f){O(u,e,f),v(e,n),o.m(t[0],e),O(u,i,f),U(r,u,f),O(u,l,f),U(a,u,f),s=!0},p(u,f){(!s||f&1)&&o.p(u[0]);const c={};f&4&&(c.$$scope={dirty:f,ctx:u}),r.$set(c)},i(u){s||(C(r.$$.fragment,u),C(a.$$.fragment,u),s=!0)},o(u){S(r.$$.fragment,u),S(a.$$.fragment,u),s=!1},d(u){u&&(M(e),M(i),M(l)),K(r,u),K(a,u)}}}function Z4(t){let e,n;return e=new or({props:{class:`bg-foregroundDark text-white rounded-input shadow-3xl justify-center items-center flex flex-col py-2 text-lg font-semibold p-2 min-w-96 min-h-36
         sm:rounded-2xl sm:flex sm:flex-col sm:p-6 sm:text-md sm:font-semibold sm:py-4 sm:items-center sm:justify-center max-h-[50vh]

         `,$$slots:{default:[x4]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const r={};i&5&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function Q4(t){let e,n;return e=new ir({props:{open:t[0]!="",$$slots:{default:[Z4]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,[i]){const r={};i&1&&(r.open=o[0]!=""),i&5&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function z4(t,e,n){let o;return ue(t,bt,r=>n(0,o=r)),[o,()=>{bt.set("")}]}class eC extends he{constructor(e){super(),pe(this,e,z4,Q4,me,{})}}function Mf(t){let e,n,o,i;const r=[nC,tC],l=[];function a(s,u){return s[0]==null?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?l[e].p(s,u):(Oe(),S(l[f],1,1,()=>{l[f]=null}),Ie(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function tC(t){let e,n,o,i,r,l,a,s,u,f,c,d,h,m,p,g,A,b,w,E,D=t[2]==!0&&Of();n=new S4({}),i=new Bm({}),l=new qv({}),s=new ay({}),f=new L5({}),d=new n3({}),m=new X4({}),g=new eC({});let $=t[0].environment.day==0&&t[3]&&If();return{c(){D&&D.c(),e=B(),X(n.$$.fragment),o=B(),X(i.$$.fragment),r=B(),X(l.$$.fragment),a=B(),X(s.$$.fragment),u=B(),X(f.$$.fragment),c=B(),X(d.$$.fragment),h=B(),X(m.$$.fragment),p=B(),X(g.$$.fragment),A=B(),$&&$.c(),b=B(),w=I("style"),w.textContent=`body {
        margin-bottom: 0;
      }
      /* no visible scrollbars */
      #plot_grid::-webkit-scrollbar {
        display: none;
      }

      ::-webkit-scrollbar {
        width: 0px;
        background: transparent; /* make scrollbar transparent */
      }

      /* no scrollbars on firefox either */
      #plot_grid {
        scrollbar-width: none;
      }

      /* no scrollbars for IE/Edge */
      #plot_grid {
        -ms-overflow-style: none;
      }`},m(R,j){D&&D.m(R,j),O(R,e,j),U(n,R,j),O(R,o,j),U(i,R,j),O(R,r,j),U(l,R,j),O(R,a,j),U(s,R,j),O(R,u,j),U(f,R,j),O(R,c,j),U(d,R,j),O(R,h,j),U(m,R,j),O(R,p,j),U(g,R,j),O(R,A,j),$&&$.m(R,j),O(R,b,j),O(R,w,j),E=!0},p(R,j){R[2]==!0?D?j&4&&C(D,1):(D=Of(),D.c(),C(D,1),D.m(e.parentNode,e)):D&&(Oe(),S(D,1,1,()=>{D=null}),Ie()),R[0].environment.day==0&&R[3]?$?j&9&&C($,1):($=If(),$.c(),C($,1),$.m(b.parentNode,b)):$&&(Oe(),S($,1,1,()=>{$=null}),Ie())},i(R){E||(C(D),C(n.$$.fragment,R),C(i.$$.fragment,R),C(l.$$.fragment,R),C(s.$$.fragment,R),C(f.$$.fragment,R),C(d.$$.fragment,R),C(m.$$.fragment,R),C(g.$$.fragment,R),C($),E=!0)},o(R){S(D),S(n.$$.fragment,R),S(i.$$.fragment,R),S(l.$$.fragment,R),S(s.$$.fragment,R),S(f.$$.fragment,R),S(d.$$.fragment,R),S(m.$$.fragment,R),S(g.$$.fragment,R),S($),E=!1},d(R){R&&(M(e),M(o),M(r),M(a),M(u),M(c),M(h),M(p),M(A),M(b),M(w)),D&&D.d(R),K(n,R),K(i,R),K(l,R),K(s,R),K(f,R),K(d,R),K(m,R),K(g,R),$&&$.d(R)}}}function nC(t){let e,n;return e=new zv({}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p:Me,i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function Of(t){let e,n;return e=new Tv({}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function If(t){let e,n;return e=new L4({}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function oC(t){let e,n,o=(t[1]||t[0]==null)&&Mf(t);return{c(){o&&o.c(),e=De()},m(i,r){o&&o.m(i,r),O(i,e,r),n=!0},p(i,[r]){i[1]||i[0]==null?o?(o.p(i,r),r&3&&C(o,1)):(o=Mf(i),o.c(),C(o,1),o.m(e.parentNode,e)):o&&(Oe(),S(o,1,1,()=>{o=null}),Ie())},i(i){n||(C(o),n=!0)},o(i){S(o),n=!1},d(i){i&&M(e),o&&o.d(i)}}}const iC=.001;function rC(t,e,n){return{r:Math.round(t.r+(e.r-t.r)*n),g:Math.round(t.g+(e.g-t.g)*n),b:Math.round(t.b+(e.b-t.b)*n)}}function lC(t,e,n){let o,i,r,l,a,s,u;ue(t,eo,b=>n(10,o=b)),ue(t,et,b=>n(11,i=b)),ue(t,kt,b=>n(2,r=b)),ue(t,Fe,b=>n(0,l=b)),ue(t,to,b=>n(5,a=b)),ue(t,Po,b=>n(12,s=b)),ue(t,Pr,b=>n(3,u=b));let f=!1;Mv();let c=!1;const d=[{r:85,g:60,b:40},{r:115,g:85,b:55},{r:70,g:100,b:50},{r:120,g:65,b:50}];let h=0,m=1,p=0;function g(){const b=rC(d[h],d[m],p);document.body.style.backgroundColor=`rgb(${b.r}, ${b.g}, ${b.b})`,p+=iC,p>=1&&(p=0,h=m,m=(m+1)%d.length),requestAnimationFrame(g)}g(),document.addEventListener("keydown",b=>{if((document.activeElement!=null&&document.activeElement.nodeName==="INPUT"||document.activeElement!=null&&document.activeElement.nodeName=="TEXTAREA")&&b.key!=="Escape")return;switch(b.key.toLowerCase()){case"p":if(r==!0){kt.set(!1);let E=l;E.modifiers.happiness=2,E.modifiers.health=2,Re(Fe,l=E,l)}else kt.set(!0),Re(et,i.visible=!1,i);break;case"escape":b.shiftKey?(Re(kt,r=!0,r),localStorage.setItem("reset","true"),wi()):i.visible==!0&&Re(et,i.visible=!1,i),a==!0&&(to.set(!1),document.querySelectorAll(".plot_container").forEach(D=>{D.style.cursor=""}));break}});function A(b,w,E){if(c==!0)switch(E){case"up":w-=2;break;case"down":w+=1;break;case"left":b-=2;break;case"right":b+=1;break}b<0?b=0:b>l.plots.length&&(b=l.plots.length),w<0?w=0:w>l.plots.length&&(w=l.plots.length);let D=document.querySelectorAll(".plot_container"),$;if(D.forEach(R=>{R.dataset.x=="$x"&&R.dataset.y=="$y"&&($=R)}),r==!1){if($.dataset.canBeUpgraded==="true"?Re(et,i.visible=!0,i):Re(et,i.visible=!1,i),$.dataset.refPlotX!==void 0&&$.dataset.refPlotY!=""?(c=!0,D.forEach(R=>{R.dataset.x==$.dataset.refPlotX&&R.dataset.y==$.dataset.refPlotY&&($=R,b=parseInt($.dataset.x),w=parseInt($.dataset.y))})):c=!1,$.dataset.size!=="1"&&$.dataset.size!==void 0&&(c=!0),Re(et,i.x=b,i),Re(et,i.y=w,i),D.forEach(R=>{R.classList.remove("selected"),R.style.fontWeight=""}),$.classList.add("selected"),c){let R="4px solid #00800045";$.classList.remove("selected"),$.style.borderTop=R,$.style.borderLeft=R,$.style.fontWeight="600",D.forEach(j=>{const F=parseInt(`${j.dataset.x}`),N=parseInt(`${j.dataset.y}`);F==b+1&&N==w&&(j.style.borderLeft=R,j.style.borderBottom=R),F==b&&N==w+1&&(j.style.borderTop=R,j.style.borderRight=R),F==b+1&&N==w+1&&(j.style.borderBottom=R,j.style.borderRight=R)})}$.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),Re(eo,o={},o)}}return t.$$.update=()=>{t.$$.dirty&33&&(l?(Re(Po,s.visible=!1,s),n(1,f=!0),a==!0&&document.querySelectorAll(".plot_container").forEach(w=>{w.dataset.canbeupgraded=="true"&&(w.style.cursor="pointer",w.style.cursor="url('https://github.com/josephrcox/plots/raw/main/public/liege_place.cur'), auto")})):(Re(Po,s.visible=!0,s),n(1,f=!1)))},[l,f,r,u,A,a]}class sC extends he{constructor(e){super(),pe(this,e,lC,oC,me,{openPlotMenu:4})}get openPlotMenu(){return this.$$.ctx[4]}}new sC({target:document.getElementById("app")});
