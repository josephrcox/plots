var ku=Object.defineProperty;var Cu=(t,e,n)=>e in t?ku(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Et=(t,e,n)=>(Cu(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();function Su(t){const e=pako.gzip(JSON.stringify(t));return btoa(String.fromCharCode.apply(null,e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function Au(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=atob(e),i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);const o=pako.ungzip(i,{to:"string"});return JSON.parse(o)}async function Iu(){let t=localStorage.getItem("plots_active_game_db");const e=await Su(t);console.log("http://localhost:5173/plots/?shareId="+e)}const to=window.location.search.substring(1).split("&").reduce((t,e)=>{const[n,i]=e.split("=");return t[n]=i,t},{});if(to.shareId!=null||to.shareId!=null){console.log("DECRYPING FROM shareId");const t=JSON.parse(Au(to.shareId));let e=localStorage.getItem("plots_active_game_db");(e==""||e==null)&&localStorage.setItem("plots_active_game_db",JSON.stringify(t))}else console.log("COMPRESSING GAME TO SHARE"),Iu();function ue(){}const Yi=t=>t;function V(t,e){for(const n in e)t[n]=e[n];return t}function Xs(t){return t()}function dr(){return Object.create(null)}function Re(t){t.forEach(Xs)}function Mt(t){return typeof t=="function"}function le(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Tu(t){return Object.keys(t).length===0}function Wo(t,...e){if(t==null){for(const i of e)i(void 0);return ue}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Zs(t){let e;return Wo(t,n=>e=n)(),e}function se(t,e,n){t.$$.on_destroy.push(Wo(e,n))}function fe(t,e,n,i){if(t){const o=Qs(t,e,n,i);return t[0](o)}}function Qs(t,e,n,i){return t[1]&&i?V(n.ctx.slice(),t[1](i(e))):n.ctx}function ce(t,e,n,i){if(t[2]&&i){const o=t[2](i(n));if(e.dirty===void 0)return o;if(typeof o=="object"){const r=[],l=Math.max(e.dirty.length,o.length);for(let a=0;a<l;a+=1)r[a]=e.dirty[a]|o[a];return r}return e.dirty|o}return e.dirty}function de(t,e,n,i,o,r){if(o){const l=Qs(e,n,i,r);t.p(l,o)}}function pe(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let i=0;i<n;i++)e[i]=-1;return e}return-1}function Ne(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function ne(t,e){const n={};e=new Set(e);for(const i in t)!e.has(i)&&i[0]!=="$"&&(n[i]=t[i]);return n}function ge(t,e,n){return t.set(n),e}function Be(t){return t&&Mt(t.destroy)?t.destroy:ue}const xs=typeof window<"u";let Vo=xs?()=>window.performance.now():()=>Date.now(),Ko=xs?t=>requestAnimationFrame(t):ue;const hn=new Set;function zs(t){hn.forEach(e=>{e.c(t)||(hn.delete(e),e.f())}),hn.size!==0&&Ko(zs)}function Uo(t){let e;return hn.size===0&&Ko(zs),{promise:new Promise(n=>{hn.add(e={c:t,f:n})}),abort(){hn.delete(e)}}}function w(t,e){t.appendChild(e)}function ea(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function Nu(t){const e=P("style");return e.textContent="/* empty */",Mu(ea(t),e),e.sheet}function Mu(t,e){return w(t.head||t,e),e.sheet}function S(t,e,n){t.insertBefore(e,n||null)}function C(t){t.parentNode&&t.parentNode.removeChild(t)}function vt(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function P(t){return document.createElement(t)}function Ji(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function B(t){return document.createTextNode(t)}function H(){return B(" ")}function Pe(){return B("")}function K(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function O(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}const Eu=["width","height"];function re(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const i in e)e[i]==null?t.removeAttribute(i):i==="style"?t.style.cssText=e[i]:i==="__value"?t.value=t[i]=e[i]:n[i]&&n[i].set&&Eu.indexOf(i)===-1?t[i]=e[i]:O(t,i,e[i])}function yi(t,e){for(const n in e)O(t,n,e[n])}function Pu(t,e){Object.keys(e).forEach(n=>{Ou(t,n,e[n])})}function Ou(t,e,n){const i=e.toLowerCase();i in t?t[i]=typeof t[i]=="boolean"&&n===""?!0:n:e in t?t[e]=typeof t[e]=="boolean"&&n===""?!0:n:O(t,e,n)}function Ft(t){return/-/.test(t)?Pu:re}function $u(t){return Array.from(t.childNodes)}function ae(t,e){e=""+e,t.data!==e&&(t.data=e)}function St(t,e){t.value=e??""}function yn(t,e,n,i){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,i?"important":"")}function pr(t,e,n){for(let i=0;i<t.options.length;i+=1){const o=t.options[i];if(o.__value===e){o.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function ta(t,e,{bubbles:n=!1,cancelable:i=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:i})}class Lu{constructor(e=!1){Et(this,"is_svg",!1);Et(this,"e");Et(this,"n");Et(this,"t");Et(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,n,i=null){this.e||(this.is_svg?this.e=Ji(n.nodeName):this.e=P(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(e)),this.i(i)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)S(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(C)}}const wi=new Map;let ki=0;function Fu(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function qu(t,e){const n={stylesheet:Nu(e),rules:{}};return wi.set(t,n),n}function Ci(t,e,n,i,o,r,l,a=0){const s=16.666/i;let u=`{
`;for(let g=0;g<=1;g+=s){const y=e+(n-e)*r(g);u+=g*100+`%{${l(y,1-y)}}
`}const f=u+`100% {${l(n,1-n)}}
}`,c=`__svelte_${Fu(f)}_${a}`,p=ea(t),{stylesheet:m,rules:h}=wi.get(p)||qu(p,t);h[c]||(h[c]=!0,m.insertRule(`@keyframes ${c} ${f}`,m.cssRules.length));const _=t.style.animation||"";return t.style.animation=`${_?`${_}, `:""}${c} ${i}ms linear ${o}ms 1 both`,ki+=1,c}function Si(t,e){const n=(t.style.animation||"").split(", "),i=n.filter(e?r=>r.indexOf(e)<0:r=>r.indexOf("__svelte")===-1),o=n.length-i.length;o&&(t.style.animation=i.join(", "),ki-=o,ki||Ru())}function Ru(){Ko(()=>{ki||(wi.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&C(e)}),wi.clear())})}let Vn;function jn(t){Vn=t}function Qn(){if(!Vn)throw new Error("Function called outside component initialization");return Vn}function Yo(t){Qn().$$.on_mount.push(t)}function Du(t){Qn().$$.on_destroy.push(t)}function Bu(){const t=Qn();return(e,n,{cancelable:i=!1}={})=>{const o=t.$$.callbacks[e];if(o){const r=ta(e,n,{cancelable:i});return o.slice().forEach(l=>{l.call(t,r)}),!r.defaultPrevented}return!0}}function na(t,e){return Qn().$$.context.set(t,e),e}function ia(t){return Qn().$$.context.get(t)}function Q(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(i=>i.call(this,e))}const dn=[],Ae=[];let _n=[];const bo=[],oa=Promise.resolve();let vo=!1;function ra(){vo||(vo=!0,oa.then(la))}function Jo(){return ra(),oa}function Qe(t){_n.push(t)}function zt(t){bo.push(t)}const no=new Set;let an=0;function la(){if(an!==0)return;const t=Vn;do{try{for(;an<dn.length;){const e=dn[an];an++,jn(e),Gu(e.$$)}}catch(e){throw dn.length=0,an=0,e}for(jn(null),dn.length=0,an=0;Ae.length;)Ae.pop()();for(let e=0;e<_n.length;e+=1){const n=_n[e];no.has(n)||(no.add(n),n())}_n.length=0}while(dn.length);for(;bo.length;)bo.pop()();vo=!1,no.clear(),jn(t)}function Gu(t){if(t.fragment!==null){t.update(),Re(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Qe)}}function ju(t){const e=[],n=[];_n.forEach(i=>t.indexOf(i)===-1?e.push(i):n.push(i)),n.forEach(i=>i()),_n=e}let Nn;function Xo(){return Nn||(Nn=Promise.resolve(),Nn.then(()=>{Nn=null})),Nn}function Yt(t,e,n){t.dispatchEvent(ta(`${e?"intro":"outro"}${n}`))}const di=new Set;let gt;function Me(){gt={r:0,c:[],p:gt}}function Ee(){gt.r||Re(gt.c),gt=gt.p}function k(t,e){t&&t.i&&(di.delete(t),t.i(e))}function I(t,e,n,i){if(t&&t.o){if(di.has(t))return;di.add(t),gt.c.push(()=>{di.delete(t),i&&(n&&t.d(1),i())}),t.o(e)}else i&&i()}const Zo={duration:0};function Dt(t,e,n){const i={direction:"in"};let o=e(t,n,i),r=!1,l,a,s=0;function u(){l&&Si(t,l)}function f(){const{delay:p=0,duration:m=300,easing:h=Yi,tick:_=ue,css:g}=o||Zo;g&&(l=Ci(t,0,1,m,p,h,g,s++)),_(0,1);const y=Vo()+p,N=y+m;a&&a.abort(),r=!0,Qe(()=>Yt(t,!0,"start")),a=Uo(M=>{if(r){if(M>=N)return _(1,0),Yt(t,!0,"end"),u(),r=!1;if(M>=y){const j=h((M-y)/m);_(j,1-j)}}return r})}let c=!1;return{start(){c||(c=!0,Si(t),Mt(o)?(o=o(i),Xo().then(f)):f())},invalidate(){c=!1},end(){r&&(u(),r=!1)}}}function Bt(t,e,n){const i={direction:"out"};let o=e(t,n,i),r=!0,l;const a=gt;a.r+=1;let s;function u(){const{delay:f=0,duration:c=300,easing:p=Yi,tick:m=ue,css:h}=o||Zo;h&&(l=Ci(t,1,0,c,f,p,h));const _=Vo()+f,g=_+c;Qe(()=>Yt(t,!1,"start")),"inert"in t&&(s=t.inert,t.inert=!0),Uo(y=>{if(r){if(y>=g)return m(0,1),Yt(t,!1,"end"),--a.r||Re(a.c),!1;if(y>=_){const N=p((y-_)/c);m(1-N,N)}}return r})}return Mt(o)?Xo().then(()=>{o=o(i),u()}):u(),{end(f){f&&"inert"in t&&(t.inert=s),f&&o.tick&&o.tick(1,0),r&&(l&&Si(t,l),r=!1)}}}function qt(t,e,n,i){let r=e(t,n,{direction:"both"}),l=i?0:1,a=null,s=null,u=null,f;function c(){u&&Si(t,u)}function p(h,_){const g=h.b-l;return _*=Math.abs(g),{a:l,b:h.b,d:g,duration:_,start:h.start,end:h.start+_,group:h.group}}function m(h){const{delay:_=0,duration:g=300,easing:y=Yi,tick:N=ue,css:M}=r||Zo,j={start:Vo()+_,b:h};h||(j.group=gt,gt.r+=1),"inert"in t&&(h?f!==void 0&&(t.inert=f):(f=t.inert,t.inert=!0)),a||s?s=j:(M&&(c(),u=Ci(t,l,h,g,_,y,M)),h&&N(0,1),a=p(j,g),Qe(()=>Yt(t,h,"start")),Uo(R=>{if(s&&R>s.start&&(a=p(s,g),s=null,Yt(t,a.b,"start"),M&&(c(),u=Ci(t,l,a.b,a.duration,0,y,r.css))),a){if(R>=a.end)N(l=a.b,1-l),Yt(t,a.b,"end"),s||(a.b?c():--a.group.r||Re(a.group.c)),a=null;else if(R>=a.start){const D=R-a.start;l=a.a+a.d*y(D/a.duration),N(l,1-l)}}return!!(a||s)}))}return{run(h){Mt(r)?Xo().then(()=>{r=r({direction:h?"in":"out"}),m(h)}):m(h)},end(){c(),a=s=null}}}function Ye(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Hu(t,e){t.d(1),e.delete(t.key)}function Wu(t,e,n,i,o,r,l,a,s,u,f,c){let p=t.length,m=r.length,h=p;const _={};for(;h--;)_[t[h].key]=h;const g=[],y=new Map,N=new Map,M=[];for(h=m;h--;){const F=c(o,r,h),G=n(F);let q=l.get(G);q?i&&M.push(()=>q.p(F,e)):(q=u(G,F),q.c()),y.set(G,g[h]=q),G in _&&N.set(G,Math.abs(h-_[G]))}const j=new Set,R=new Set;function D(F){k(F,1),F.m(a,f),l.set(F.key,F),f=F.first,m--}for(;p&&m;){const F=g[m-1],G=t[p-1],q=F.key,Z=G.key;F===G?(f=F.first,p--,m--):y.has(Z)?!l.has(q)||j.has(q)?D(F):R.has(Z)?p--:N.get(q)>N.get(Z)?(R.add(q),D(F)):(j.add(Z),p--):(s(G,l),p--)}for(;p--;){const F=t[p];y.has(F.key)||s(F,l)}for(;m;)D(g[m-1]);return Re(M),g}function me(t,e){const n={},i={},o={$$scope:1};let r=t.length;for(;r--;){const l=t[r],a=e[r];if(a){for(const s in l)s in a||(i[s]=1);for(const s in a)o[s]||(n[s]=a[s],o[s]=1);t[r]=a}else for(const s in l)o[s]=1}for(const l in i)l in n||(n[l]=void 0);return n}function nt(t){return typeof t=="object"&&t!==null?t:{}}function en(t,e,n){const i=t.$$.props[e];i!==void 0&&(t.$$.bound[i]=n,n(t.$$.ctx[i]))}function X(t){t&&t.c()}function Y(t,e,n){const{fragment:i,after_update:o}=t.$$;i&&i.m(e,n),Qe(()=>{const r=t.$$.on_mount.map(Xs).filter(Mt);t.$$.on_destroy?t.$$.on_destroy.push(...r):Re(r),t.$$.on_mount=[]}),o.forEach(Qe)}function J(t,e){const n=t.$$;n.fragment!==null&&(ju(n.after_update),Re(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Vu(t,e){t.$$.dirty[0]===-1&&(dn.push(t),ra(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function he(t,e,n,i,o,r,l=null,a=[-1]){const s=Vn;jn(t);const u=t.$$={fragment:null,ctx:[],props:r,update:ue,not_equal:o,bound:dr(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(s?s.$$.context:[])),callbacks:dr(),dirty:a,skip_bound:!1,root:e.target||s.$$.root};l&&l(u.root);let f=!1;if(u.ctx=n?n(t,e.props||{},(c,p,...m)=>{const h=m.length?m[0]:p;return u.ctx&&o(u.ctx[c],u.ctx[c]=h)&&(!u.skip_bound&&u.bound[c]&&u.bound[c](h),f&&Vu(t,c)),p}):[],u.update(),f=!0,Re(u.before_update),u.fragment=i?i(u.ctx):!1,e.target){if(e.hydrate){const c=$u(e.target);u.fragment&&u.fragment.l(c),c.forEach(C)}else u.fragment&&u.fragment.c();e.intro&&k(t.$$.fragment),Y(t,e.target,e.anchor),la()}jn(s)}class _e{constructor(){Et(this,"$$");Et(this,"$$set")}$destroy(){J(this,1),this.$destroy=ue}$on(e,n){if(!Mt(n))return ue;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(n),()=>{const o=i.indexOf(n);o!==-1&&i.splice(o,1)}}$set(e){this.$$set&&!Tu(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Ku="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Ku);const un=[];function Xi(t,e){return{subscribe:Ve(t,e).subscribe}}function Ve(t,e=ue){let n;const i=new Set;function o(a){if(le(t,a)&&(t=a,n)){const s=!un.length;for(const u of i)u[1](),un.push(u,t);if(s){for(let u=0;u<un.length;u+=2)un[u][0](un[u+1]);un.length=0}}}function r(a){o(a(t))}function l(a,s=ue){const u=[a,s];return i.add(u),i.size===1&&(n=e(o,r)||ue),a(t),()=>{i.delete(u),i.size===0&&n&&(n(),n=null)}}return{set:o,update:r,subscribe:l}}function xn(t,e,n){const i=!Array.isArray(t),o=i?[t]:t;if(!o.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const r=e.length<2;return Xi(n,(l,a)=>{let s=!1;const u=[];let f=0,c=ue;const p=()=>{if(f)return;c();const h=e(i?u[0]:u,l,a);r?l(h):c=Mt(h)?h:ue},m=o.map((h,_)=>Wo(h,g=>{u[_]=g,f&=~(1<<_),s&&p()},()=>{f|=1<<_}));return s=!0,p(),function(){Re(m),c(),s=!1}})}function mr(t){return{subscribe:t.subscribe.bind(t)}}const Uu={plots:[],timeSpent:0,devMode:!1,lastChangeDay:0,townLog:"",townInfo:{name:"Your town",gold:1e3,gold_from_tourism:0,population_count:0,population_max:0,employees:0,happiness:150,health:150,knowledge_points:0},hasCityHall:!1,hasBank:!1,hasHospital:!1,hasLab:!1,modifiers:{happiness:1,health:1},economyAndLaws:{tax_rate:0,max_tax_rate:1,last_month_profit:0,knowledge_gold_market_rates:[]},plotCounts:[],environment:{day:0,year:1,climate:-1},maximums:{health:300,happiness:300},difficulty:0,endGoal:"land",endGameDetails:{msg:"",win:!1},tick:0,overtime:!1,last_warning_happiness:0,last_warning_health:0,lab:{active_experiment:null,past_experiments:[],xp:0}},Yu={stats:{games_played:0,wins:0,losses:0},achievements:[]},sa={0:"Easy",1:"Normal",2:"Hard"},Ju={0:Math.random()*(.5-.3)+.3,1:Math.random()*(.4-.2)+.2,2:Math.random()*(.4-.2)+.2},Xu={0:.35,1:.25,2:.25},Fe=[{id:"mine",title:"⛏️ Mine",type:"mine",description:"",revenue_per_week:0,requirements:{gold:3e4,plots:[],employees:85,climate:null,knowledge:0,size:1,xp:0},effect_modifiers:{happiness:1,health:1},immediate_variable_changes:{happiness:0,health:0,population:16},tourism_revenue_per_week:0,styling:"",affordable:null,selected:null,check_for_variety:!1,enables_tourism:!1,knowledge_points_per_month:0},{id:"res_small",title:"🏠 Residential (small)",type:"residential",description:"A few basic homes (+16 people)",revenue_per_week:0,requirements:{gold:150,plots:[],employees:0,climate:null,knowledge:0,size:1,xp:0},effect_modifiers:{happiness:1,health:1},immediate_variable_changes:{happiness:0,health:0,population:16},tourism_revenue_per_week:0,styling:"",affordable:null,selected:null,check_for_variety:!1,enables_tourism:!1,knowledge_points_per_month:0},{id:"res_medium",title:"🏘️ Residential (medium)",type:"residential",description:"Some apartments (+64 people)",revenue_per_week:0,requirements:{gold:500,plots:["tree_farm"],employees:0,climate:null,knowledge:0,size:1,xp:0},effect_modifiers:{happiness:1,health:1},immediate_variable_changes:{happiness:0,health:0,population:64},tourism_revenue_per_week:0,styling:"",affordable:null,selected:null,check_for_variety:!1,enables_tourism:!1,knowledge_points_per_month:0},{id:"res_large",title:"🏢 Residential (big)",type:"residential",description:"Many apartments (+256 people)",revenue_per_week:0,requirements:{gold:1500,plots:["tree_farm"],employees:0,climate:null,knowledge:0,size:1,xp:0},effect_modifiers:{happiness:1,health:1},immediate_variable_changes:{happiness:0,health:0,population:256},tourism_revenue_per_week:0,styling:"",affordable:null,selected:null,check_for_variety:!1,enables_tourism:!1,knowledge_points_per_month:0},{id:"tree_farm",title:"🌲 Tree Farm",type:"farm",description:"Grow trees and sell the resources. Required for most plots.",revenue_per_week:12,requirements:{gold:400,plots:[],employees:10,climate:null,knowledge:0,size:1,xp:0},effect_modifiers:{happiness:1,health:1},immediate_variable_changes:{happiness:0,health:0,population:0},check_for_variety:!0,tourism_revenue_per_week:0,styling:"",affordable:null,selected:null,enables_tourism:!1,knowledge_points_per_month:0},{id:"apple_orchard",title:"🍎 Apple orchard",type:"farm",description:"A bunch of apple trees. Sells apple products.",revenue_per_week:8,requirements:{gold:75,plots:[],employees:4,climate:null,knowledge:0,size:1,xp:0},effect_modifiers:{happiness:1.05,health:1.1},immediate_variable_changes:{happiness:0,health:0,population:0},check_for_variety:!0,tourism_revenue_per_week:0,enables_tourism:!1,knowledge_points_per_month:0,styling:"",affordable:null,selected:null},{id:"potato_and_carrot_farm",title:"🚜 Potato & Carrot farm",type:"farm",description:"Easy to farm, sells to local grocery stores and restaurants.",revenue_per_week:9,requirements:{gold:75,plots:[],employees:2,climate:null,knowledge:0,size:1,xp:0},effect_modifiers:{happiness:1.03,health:1.03},immediate_variable_changes:{happiness:5,health:5,population:0},check_for_variety:!0,tourism_revenue_per_week:0,enables_tourism:!1,knowledge_points_per_month:0,styling:"",affordable:null,selected:null},{id:"wheat_farm",title:"🌾 Wheat farm",type:"farm",description:"Easy to farm crop",revenue_per_week:12,requirements:{gold:140,plots:[],employees:4,climate:null,knowledge:0,size:1,xp:0},effect_modifiers:{happiness:1,health:1},immediate_variable_changes:{happiness:0,health:0,population:0},check_for_variety:!0,tourism_revenue_per_week:0,enables_tourism:!1,knowledge_points_per_month:0,styling:"",affordable:null,selected:null},{id:"bakery",title:"🥖 Bakery",type:"farm",description:"Makes money by selling bread.",revenue_per_week:14,requirements:{gold:300,plots:["wheat_farm"],employees:3,climate:null,knowledge:0,size:1,xp:0},effect_modifiers:{happiness:1.11,health:.92},immediate_variable_changes:{happiness:25,health:0,population:0},check_for_variety:!0,tourism_revenue_per_week:0,enables_tourism:!1,knowledge_points_per_month:0,styling:"",affordable:null,selected:null},{id:"dairy_farm",title:"🐮 Dairy farm",type:"farm",description:"A few cows that produce milk, cheese, and butter.",revenue_per_week:16,requirements:{gold:300,plots:[],employees:4,climate:null,knowledge:0,size:1,xp:0},effect_modifiers:{happiness:1.2,health:1},immediate_variable_changes:{happiness:5,health:5,population:0},check_for_variety:!0,tourism_revenue_per_week:0,enables_tourism:!1,knowledge_points_per_month:0,styling:"",affordable:null,selected:null},{id:"coffee_bean_farm",title:"🫘 Coffee bean farm",type:"farm",description:"A few coffee plants. Makes money by selling coffee.",revenue_per_week:3,requirements:{gold:300,plots:[],employees:1,climate:null,knowledge:0,size:1,xp:0},effect_modifiers:{happiness:1.2,health:1},immediate_variable_changes:{happiness:5,health:5,population:0},check_for_variety:!0,tourism_revenue_per_week:0,enables_tourism:!1,knowledge_points_per_month:0,styling:"",affordable:null,selected:null},{id:"cafe",title:"☕️ Small café",type:"food",description:"Great for eating & relaxing, not great for long-term health.",revenue_per_week:64,requirements:{gold:300,plots:["coffee_bean_farm","bakery","dairy_farm","tree_farm"],employees:16,climate:null,knowledge:0,size:1,xp:0},effect_modifiers:{happiness:1.05,health:.95},immediate_variable_changes:{happiness:5,health:0,population:0},check_for_variety:!0,tourism_revenue_per_week:0,enables_tourism:!1,knowledge_points_per_month:0,styling:"",affordable:null,selected:null},{id:"fishery",title:"🐠 Fishery",type:"food",description:"Carve out some land, pour some water, and fish for fun & food.",revenue_per_week:40,requirements:{gold:600,plots:["tree_farm"],employees:9,climate:null,knowledge:0,size:1,xp:0},effect_modifiers:{happiness:1.05,health:1},immediate_variable_changes:{happiness:15,health:8,population:0},check_for_variety:!0,tourism_revenue_per_week:0,enables_tourism:!1,knowledge_points_per_month:0,styling:"",affordable:null,selected:null},{id:"grocery",title:"🏪 Grocery store",type:"food",description:"People get hungry. This is where they go to get food.",revenue_per_week:140,requirements:{gold:820,plots:["fishery","tree_farm","potato_and_carrot_farm","dairy_farm","bakery","wheat_farm","coffee_bean_farm"],employees:24,climate:null,knowledge:0,size:1,xp:0},effect_modifiers:{happiness:1.05,health:1},immediate_variable_changes:{happiness:15,health:0,population:0},tourism_revenue_per_week:0,enables_tourism:!1,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1},{id:"library",title:"📕 Library",type:"recreation",description:"Reading makes people very happy, but doesn't make money.",revenue_per_week:0,knowledge_points_per_month:1,requirements:{gold:500,plots:["tree_farm"],employees:6,climate:null,knowledge:0,size:1,xp:0},effect_modifiers:{happiness:1.2,health:1},immediate_variable_changes:{happiness:10,health:0,population:0},tourism_revenue_per_week:0,enables_tourism:!1,styling:"",affordable:null,selected:null,check_for_variety:!1},{id:"pub",title:"🍻 Pub",type:"recreation",description:"Makes money, and somehow generates communal knowledge.",revenue_per_week:50,knowledge_points_per_month:1,requirements:{gold:500,plots:["church","tree_farm"],employees:6,climate:null,knowledge:0,size:1,xp:0},effect_modifiers:{happiness:1.2,health:.8},immediate_variable_changes:{happiness:10,health:-15,population:0},check_for_variety:!0,tourism_revenue_per_week:0,enables_tourism:!1,styling:"",affordable:null,selected:null},{id:"church",title:"⛪️ Church",type:"recreation",description:"This can make some people happy, but doesn't make money.",revenue_per_week:0,requirements:{gold:500,plots:["tree_farm"],employees:0,climate:null,knowledge:0,size:1,xp:0},effect_modifiers:{happiness:1.1,health:1},immediate_variable_changes:{happiness:5,health:0,population:0},tourism_revenue_per_week:0,enables_tourism:!1,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1},{id:"stables",title:"🐴 Stables",type:"recreation",description:"People love horses. This makes them happy, and can generate some money through lessons.",revenue_per_week:19,requirements:{gold:400,plots:["tree_farm"],employees:2,climate:null,knowledge:0,size:1,xp:0},effect_modifiers:{happiness:1.05,health:1.02},immediate_variable_changes:{happiness:5,health:0,population:0},tourism_revenue_per_week:0,enables_tourism:!1,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1},{id:"blacksmith",title:"⚔️ Blacksmith",type:"shop",description:"Enables exporting of weapons and armor, and makes money by selling them.",revenue_per_week:150,requirements:{gold:3500,plots:["large_school","tree_farm","mine"],employees:8,climate:null,knowledge:0,size:1,xp:0},effect_modifiers:{happiness:1,health:1},immediate_variable_changes:{happiness:0,health:0,population:0},tourism_revenue_per_week:0,enables_tourism:!1,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1},{id:"vineyard",title:"🍇 Vineyard",type:"farm",description:"Grapes are grown and made into wine. Makes money by selling wine.",revenue_per_week:50,requirements:{gold:800,plots:["library","tree_farm","small_school"],employees:6,climate:null,knowledge:0,size:1,xp:0},effect_modifiers:{happiness:1.5,health:1},immediate_variable_changes:{happiness:0,health:-10,population:0},tourism_revenue_per_week:0,enables_tourism:!1,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1},{id:"inn",title:"🛌 Village Inn",type:"tourism",description:"Generates tourism gold that can be used if you have a bank.",revenue_per_week:0,enables_tourism:!0,tourism_revenue_per_week:1,requirements:{gold:3e4,plots:["tree_farm","cafe","stables"],employees:14,climate:null,knowledge:0,size:1,xp:0},effect_modifiers:{happiness:.9,health:1},immediate_variable_changes:{happiness:0,health:0,population:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1},{id:"park_small",title:"🌲 Small park",type:"recreation",description:"A few benches and a small grassy area.",revenue_per_week:0,requirements:{gold:190,plots:[],employees:1,climate:null,knowledge:0,size:1,xp:0},effect_modifiers:{happiness:1.05,health:1.1},immediate_variable_changes:{happiness:15,health:15,population:0},tourism_revenue_per_week:0,enables_tourism:!1,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1},{id:"park_large",title:"🎪 Large park (2x2)",type:"recreation",description:"Same as the medium park, with a nice fountain in the middle and occasional events run by the employees.",revenue_per_week:0,requirements:{gold:900,plots:["tree_farm"],employees:4,climate:null,size:2,knowledge:0,xp:0},effect_modifiers:{happiness:1.1,health:1.7},immediate_variable_changes:{happiness:15,health:15,population:0},tourism_revenue_per_week:0,enables_tourism:!1,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1},{id:"community_center",title:"🫶 Community Center",type:"recreation",description:"A place for meeting people, growing community, and hosting events. Required for City Hall.",revenue_per_week:0,requirements:{gold:4e4,plots:["inn","tree_farm"],employees:12,climate:null,size:1,knowledge:0,xp:0},effect_modifiers:{happiness:1.09,health:1},immediate_variable_changes:{happiness:50,health:15,population:0},tourism_revenue_per_week:0,enables_tourism:!1,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1},{id:"small_school",title:"📚 Small school",type:"education",description:"A place where children can learn and grow, and where adults can learn new skills. Produces knowledge.",revenue_per_week:0,knowledge_points_per_month:8,requirements:{gold:1500,plots:["tree_farm"],employees:20,climate:null,size:1,knowledge:0,xp:0},effect_modifiers:{happiness:1.05,health:1.1},immediate_variable_changes:{happiness:15,health:3,population:0},tourism_revenue_per_week:0,enables_tourism:!1,styling:"",affordable:null,selected:null,check_for_variety:!1},{id:"large_school",title:"🚌 Large school (2x2)",type:"education",description:"A larger school. Produces knowledge",revenue_per_week:0,knowledge_points_per_month:26,requirements:{gold:15e3,plots:["tree_farm"],employees:40,climate:null,size:2,knowledge:50,xp:0},effect_modifiers:{happiness:1.2,health:1},immediate_variable_changes:{happiness:5,health:3,population:0},tourism_revenue_per_week:0,enables_tourism:!1,styling:"",affordable:null,selected:null,check_for_variety:!1},{id:"university",title:"🏫 Large University (2x2)",type:"education",description:"The supreme learning institution. Produces knowledge.",revenue_per_week:0,knowledge_points_per_month:300,requirements:{gold:8e4,plots:["tree_farm"],employees:101,climate:null,size:2,knowledge:100,xp:0},effect_modifiers:{happiness:1.25,health:.9},immediate_variable_changes:{happiness:25,health:25,population:0},tourism_revenue_per_week:0,enables_tourism:!1,styling:"",affordable:null,selected:null,check_for_variety:!1},{id:"small_hospital",title:"😷 Small hospital",type:"medical",description:"A great place to get fixed up from minor injuries.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:1e4,plots:["tree_farm","mine"],employees:18,climate:null,size:1,knowledge:100,xp:0},effect_modifiers:{happiness:1.25,health:1.5},immediate_variable_changes:{happiness:5,health:75,population:0},tourism_revenue_per_week:0,enables_tourism:!1,styling:"",affordable:null,selected:null,check_for_variety:!1},{id:"large_hospital",title:"🏥 Large hospital (2x2)",type:"medical",description:"Heals people and teaches medical students. Produces knowledge.",revenue_per_week:0,knowledge_points_per_month:80,requirements:{gold:45e3,plots:["tree_farm","mine"],employees:90,climate:null,size:2,knowledge:250,xp:0},effect_modifiers:{happiness:1.25,health:2.5},immediate_variable_changes:{happiness:5,health:150,population:0},tourism_revenue_per_week:0,enables_tourism:!1,styling:"",affordable:null,selected:null,check_for_variety:!1},{id:"bank",title:"🏦 Bank",type:"bank",description:`Rich get richer.
			<ul>
				<li>Enables converting tourism gold to gold</li>
				<li>Enables converting knowledge to gold</li>
			</ul>`,revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:75e3,plots:["blacksmith","vineyard","tree_farm"],employees:64,climate:null,size:1,knowledge:1e3,xp:0},effect_modifiers:{happiness:.8,health:1},immediate_variable_changes:{happiness:0,health:0,population:0},tourism_revenue_per_week:0,enables_tourism:!1,styling:"",affordable:null,selected:null,check_for_variety:!1},{id:"city_hall",title:"🗳️ City Hall",type:"federal",description:"Enables the control of citizens through laws, taxes, and wealthy men.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:15e4,plots:["community_center","small_school","tree_farm"],employees:48,climate:null,size:1,knowledge:500,xp:0},effect_modifiers:{happiness:.8,health:1},immediate_variable_changes:{happiness:0,health:0,population:0},tourism_revenue_per_week:0,enables_tourism:!1,styling:"",affordable:null,selected:null,check_for_variety:!1},{id:"lab",title:"🧑‍🔬 Laboratory",type:"science",description:"Design things that can help your city grow. Experiments can cause unexpected situations. Required to build advanced plot types.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:1e5,plots:["community_center","university","mine"],employees:24,climate:null,size:1,knowledge:1500,xp:0},effect_modifiers:{happiness:.95,health:.95},immediate_variable_changes:{happiness:0,health:0,population:0},tourism_revenue_per_week:0,enables_tourism:!1,styling:"",affordable:null,selected:null,check_for_variety:!1}],Mn={empty_unusable:"rgb(21 28 41);",empty_buildable:"rgb(126, 158, 255)",residential:"#e15f00",farm:"#519c1f",food:"#8a2be2",recreation:"#4070ff",shop:"#ff00ff",tourism:"#ff00ff",education:"rgba(42, 62, 230, 1.0)",medical:"rgba(42, 62, 230, 1.0)",bank:"#7b68ee",federal:"#7b68ee",science:"rgba(42, 62, 230, 1.0)",mine:"#ff9c19"};function Ai(t,e=!1){if(t<0)return t==-1?e?Mn.empty_buildable:Mn.empty_unusable:t==-2?Mn.recreation:Mn.empty_unusable;const n=Fe[t];return Mn[n.type]}const hr={lab:1,city_hall:1,bank:1,community_center:1,inn:1},ft="plots_active_game_db",Ii="plots_user_db";function Zu(){const t=["York","London","Paris","Madrid","Rome","Berlin","Vienna","Prague","Warsaw","Oslo","Lisbon","Dublin","Brussels","Amsterdam","Stockholm","Copenhagen","Edinburgh","Moscow","Beijing","Tokyo","Seoul","Bangkok","Delhi","Mumbai","Shanghai","Sydney","Melbourne","Cairo","Dubai","Istanbul","Athens","Budapest","Reykjavik","Helsinki","Tallinn","Riga","Vilnius","Sofia","Bucharest","Belgrade","Zagreb","Sarajevo","Ljubljana","Skopje","Tirana","Podgorica","Thessaloniki","Barcelona","Valencia","Seville","Granada","Malaga","Lyon","Marseille","Toulouse","Nice","Nantes","Strasbourg","Bordeaux","Lille","Venice","Milan","Florence","Naples","Turin","Bologna","Perugia","Genoa","Pisa","Verona","Palermo","Catania","Bari","Padua","Cagliari","Krakow","Gdansk","Poznan","Wroclaw","Lodz","Katowice","Bialystok","Gdynia","Sopot","Bydgoszcz","Lublin","Szczecin","Gorzow","Zakopane","Olsztyn","Torun","Rzeszow","Kielce","Radom","Siedlce","Los","Angeles","Chicago","Houston","Phoenix","San","Antonio","San","Diego","Dallas","San","Jose","Austin","Jacksonville","Fort","Worth","Columbus","Charlotte","Liverpool","Manchester","Glasgow","Birmingham","Leeds","Sheffield","Newcastle","upon","Tyne","Bristol","Nottingham","Leicester","Coventry","Belfast","Reading","Cardiff","Southampton","Aberdeen","Plymouth","Stoke","Trent","Wolverhampton","Swansea","Sunderland","Portsmouth","Yorkshire","Hull","Blackpool","Bradford","Derby","Middlesbrough","Peterborough","Stockton","on","Tees","Brighton","Poole","Bournemouth","Huddersfield","Luton","Oxford","Norwich","Oldham","Cambridge","Exeter","Walsall","Colchester","Watford","Rotherham","Newport","Gateshead","Dundee","Gloucester","Solihull","High","Wycombe","Maidstone","Slough","Basildon","Chelmsford","Salford","Bedford","Stevenage","Woking","Grimsby","Birkenhead","Halifax","Warrington","Gillingham","Wigan","Worcester","Wakefield","Lincoln","Chester","Rochdale","Dagenham","Widnes","St","Albans","Mansfield","Sutton","Coldfield","Crawley","Wokingham","Barnsley","St","Helens","Harrogate","Redditch","Scunthorpe","Nuneaton","Chesterfield","Hemel","Hempstead","Bury","Guildford","Ashford","Telford","Newcastle","under","Lyme","Aylesbury","Halesowen","Shrewsbury","Lowestoft","Loughborough","Cheltenham","Kidderminster","Basingstoke","Rugby","Stourbridge","Southport","Kettering","Royal","Leamington","Spa","Beeston","Farnborough","Wrexham","Banbury","Weymouth","Wallsend","Dartford","Grays","Tamworth","Ashford","Esher","Folkestone","Tonbridge","Taunton","Runcorn","Macclesfield","Keighley","Bridgend","Barnstaple","Letchworth","Garden","City","Worthing","Gosport","Eastleigh","Staines","upon","Thames","Lisburn","Livingston","Bognor","Regis","Scarborough","Cannock","Margate","Chippenham","Rhondda","Maidenhead","Wellingborough","Washington","Camberley","Bootle","Lancaster","Llanelli","Chatham","Cheshunt","Bishop","Auckland","Nelson","Belper","Pontefract","Barry","Braintree","Crosby","Bury","St","Edmunds","Bexhill","Margate","Aldershot","Rowley","Regis","Hoddesdon","Sittingbourne","Rugby","Newquay","Falmouth","Stretford","Camberley","Beverley","Windsor","Rochester","Wickford","Diss","Farnham","Andover","Camberwell","Bermondsey","Lewisham","Wembley","Hayes","Harrow","Ilford","Enfield","Twickenham","Richmond","Brentwood","Edgware","Ealing","Greenwich","Bromley","Hounslow","Romford","Hillingdon","Uxbridge","Wandsworth","Sutton","Kingston","upon","Thames","Bexley","Havering","Barking"],e=["ia","ville","ton","land","field","burgh","ford","wood","port","bay","beach","peak","valley","ridge","hill","dale","island","cape","spring","grove","polis","side","view","shore","haven","place","gardens","plaza","square"],n=["New","Old","North","South","East","West","Upper","Lower","Little","Great","Saint","Fort","Mount","Lake","River","The Village of","The City of","The Town of","The Borough of","The County of","The State of","The Kingdom of","The Empire of","The Republic of","The Commonwealth of","The Union of","The Federation of","Rainy","Sunny","Windy","Frosty","Snowy"];function i(s){return s[Math.floor(Math.random()*s.length)]}let o=i(n),r=i(t),l=i(e),a="";return Math.random()>.5?a=o+" "+r+l:a=r+l,a}let ke=Ve(JSON.parse(localStorage.getItem(ft)||"null")),gn=Ve(JSON.parse(localStorage.getItem(Ii)||"null"));xu();function Qu(t,e,n,i){let o={...Uu};o.economyAndLaws.max_tax_rate=Ju[t],o.endGoal=e;let r=[];n=n.replace(/[^a-zA-Z0-9 ]/g,"").trim(),o.townInfo.name=n!=""?n:Zu(),o.difficulty=parseInt(t),i&&(o.devMode=!0,o.townInfo.gold=1e8,o.townInfo.happiness=1e7,o.townInfo.health=1e6,o.townInfo.knowledge_points=1e5,o.modifiers.happiness=1e4,o.modifiers.health=1e4);const l=t=="0"?8:t=="1"?12:t=="2"?16:1,a=Math.floor(Math.random()*(l-3))+3,s=Math.floor(Math.random()*(l-3))+3;for(let u=0;u<l;u++){r.push([]);for(let f=0;f<l;f++)r[u][f]={id:Math.random().toString(36).substring(2,9),active:!1,x:u,y:f,type:-1,typeId:"",mineralSource:a===u&&s===f}}o.plots=r,localStorage.reset=!1,localStorage.setItem(ft,JSON.stringify(o)),ke.set(o),location.reload()}function xu(){if(localStorage.getItem(Ii)===null){let t=Yu;localStorage.setItem(Ii,JSON.stringify(t)),gn.set(t)}}function _r(t,e){e===void 0&&(e=0);var n=Math.pow(10,e);t=parseFloat((t*n).toFixed(11));var i=Math.round(t)/n;return+i.toFixed(e)}function Ti(t,e,n){let i=n.plots[t][e].type;if(n.plots[t][e].type=-1,n.plots[t][e].active=!1,i>-1&&(n.townInfo.population_count-=Fe[i].immediate_variable_changes.population,n.townInfo.population_max-=Fe[i].immediate_variable_changes.population,n.townInfo.happiness-=Fe[i].immediate_variable_changes.happiness,n.townInfo.health-=Fe[i].immediate_variable_changes.health,n.modifiers.happiness=_r(n.modifiers.happiness/Fe[i].effect_modifiers.happiness,2),n.modifiers.health=_r(n.modifiers.health/Fe[i].effect_modifiers.health,2),n.townInfo.employees-=Fe[i].requirements.employees,(n.plotCounts[i]===void 0||n.plotCounts[i]===null)&&(n.plotCounts[i]=0),n.plotCounts[i]--,(Fe[i].requirements.size??1)>1))for(let r=0;r<n.plots.length;r++)for(let l=0;l<n.plots[t].length;l++)n.plots[r][l].referencePlot!=null&&n.plots[r][l].referencePlot[0]===t&&n.plots[r][l].referencePlot[1]===e&&Ti(r,l,n);n.lastChangeDay=n.environment.day,ke.set(n),localStorage.setItem(ft,JSON.stringify(n))}function ot(t,e){let n=[];for(let i=0;i<e.plots.length;i++)for(let o=0;o<e.plots[i].length;o++)e.plots[i][o].active==!1||e.plots[i][o]==null||e.plots[i][o].type===null||e.plots[i][o].type<0||(Fe[e.plots[i][o].type].id===t||Fe[e.plots[i][o].type].type===t)&&n.push(e.plots[i][o]);return n}function Qo(t=null){localStorage.removeItem(ft),ke.set(null),t&&(localStorage.setItem(ft,JSON.stringify(t)),ke.set(t)),location.reload()}function zu(){aa.update(t=>!t),localStorage.setItem("showOnlyAffordable",localStorage.getItem("showOnlyAffordable")==="true"?"false":"true")}let Xe=Ve({visible:!1,x:0,y:0,isMineralSource:!1}),Hn=Ve({visible:!1}),wn=Ve({}),ht=Ve(!1),gr=Ve(!1),Ni=Ve(!1),Mi=Ve(!1),pi=Ve(!1),br=localStorage.getItem("showCompletedAchievements")==="true"?Ve(!0):Ve(!1),aa=localStorage.getItem("showOnlyAffordable")==="true"?Ve(!0):Ve(!1),ef=localStorage.getItem("pauseMenuTab")==="game"?Ve("game"):Ve("achievements"),yo=Ve(250),mi=Ve(500);function tf(t){return t[t.length-1]}function wo(t){return Object.keys(t).reduce((e,n)=>t[n]===void 0?e:e+`${n}:${t[n]};`,"")}wo({position:"absolute",opacity:0,"pointer-events":"none",margin:0,transform:"translateX(-100%)"});function vr(t){function e(n){return n(t),()=>{}}return{subscribe:e}}const ii=t=>new Proxy(t,{get(e,n,i){return Reflect.get(e,n,i)},ownKeys(e){return Reflect.ownKeys(e).filter(n=>n!=="action")}}),yr=t=>typeof t=="function";function At(t,e){const{stores:n,action:i,returned:o}=e??{},r=(()=>{if(n&&o)return xn(n,a=>{const s=o(a);if(yr(s)){const u=(...f)=>ii({...s(...f),[`data-melt-${t}`]:"",action:i??Je});return u.action=i??Je,u}return ii({...s,[`data-melt-${t}`]:"",action:i??Je})});{const a=o,s=a==null?void 0:a();if(yr(s)){const u=(...f)=>ii({...s(...f),[`data-melt-${t}`]:"",action:i??Je});return u.action=i??Je,vr(u)}return vr(ii({...s,[`data-melt-${t}`]:"",action:i??Je}))}})(),l=i??(()=>{});return l.subscribe=r.subscribe,l}function nf(t){const e=r=>r?`${t}-${r}`:t,n=r=>`data-melt-${t}${r?`-${r}`:""}`,i=r=>`[data-melt-${t}${r?`-${r}`:""}]`;return{name:e,attribute:n,selector:i,getEl:r=>document.querySelector(i(r))}}const of=typeof document<"u",ua=t=>typeof t=="function";function fa(t){return t instanceof Element}function Rt(t){return t instanceof HTMLElement}function rf(t){return t!==null&&typeof t=="object"}function lf(t){return rf(t)&&"subscribe"in t}function bn(...t){return(...e)=>{for(const n of t)typeof n=="function"&&n(...e)}}function Je(){}function Lt(t,e,n,i){const o=Array.isArray(e)?e:[e];return o.forEach(r=>t.addEventListener(r,n,i)),()=>{o.forEach(r=>t.removeEventListener(r,n,i))}}function Fn(t,e,n,i){const o=Array.isArray(e)?e:[e];if(typeof n=="function"){const r=af(l=>n(l));return o.forEach(l=>t.addEventListener(l,r,i)),()=>{o.forEach(l=>t.removeEventListener(l,r,i))}}return()=>void 0}function sf(t){const e=t.currentTarget;if(!Rt(e))return null;const n=new CustomEvent(`m-${t.type}`,{detail:{originalEvent:t},cancelable:!0});return e.dispatchEvent(n),n}function af(t){return e=>{const n=sf(e);if(!(n!=null&&n.defaultPrevented))return t(e)}}function uf(t,...e){const n={};for(const i of Object.keys(t))e.includes(i)||(n[i]=t[i]);return n}function zn(t){return{...t,get:()=>Zs(t)}}zn.writable=function(t){const e=Ve(t);let n=t;return{subscribe:e.subscribe,set(i){e.set(i),n=i},update(i){const o=i(n);e.set(o),n=o},get(){return n}}};zn.derived=function(t,e){const n=new Map,i=()=>{const r=Array.isArray(t)?t.map(l=>l.get()):t.get();return e(r)};return{get:i,subscribe:r=>{const l=[];return(Array.isArray(t)?t:[t]).forEach(s=>{l.push(s.subscribe(()=>{r(i())}))}),r(i()),n.set(r,l),()=>{const s=n.get(r);if(s)for(const u of s)u();n.delete(r)}}}};const ff=(t,e)=>{const n=zn(t),i=(r,l)=>{n.update(a=>{const s=r(a);let u=s;return e&&(u=e({curr:a,next:s})),l==null||l(u),u})};return{...n,update:i,set:r=>{i(()=>r)}}};function ca(t){return new Promise(e=>setTimeout(e,t))}let cf="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",df=(t=21)=>{let e="",n=t;for(;n--;)e+=cf[Math.random()*64|0];return e};function pf(){return df(10)}function mf(t){return t.reduce((e,n)=>(e[n]=pf(),e),{})}const qn={ALT:"Alt",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",CAPS_LOCK:"CapsLock",CONTROL:"Control",DELETE:"Delete",END:"End",ENTER:"Enter",ESCAPE:"Escape",F1:"F1",F10:"F10",F11:"F11",F12:"F12",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",HOME:"Home",META:"Meta",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp",SHIFT:"Shift",SPACE:" ",TAB:"Tab",CTRL:"Control",ASTERISK:"*",A:"a",P:"p"},da=()=>typeof window<"u";function hf(){const t=navigator.userAgentData;return(t==null?void 0:t.platform)??navigator.platform}const pa=t=>da()&&t.test(hf().toLowerCase()),_f=()=>da()&&!!navigator.maxTouchPoints,gf=()=>pa(/^mac/)&&!_f(),bf=()=>pa(/mac|iphone|ipad|ipod/i),vf=()=>bf()&&!gf(),io="data-melt-scroll-lock";function wr(t,e){if(!t)return;const n=t.style.cssText;return Object.assign(t.style,e),()=>{t.style.cssText=n}}function yf(t,e,n){if(!t)return;const i=t.style.getPropertyValue(e);return t.style.setProperty(e,n),()=>{i?t.style.setProperty(e,i):t.style.removeProperty(e)}}function wf(t){const e=t.getBoundingClientRect().left;return Math.round(e)+t.scrollLeft?"paddingLeft":"paddingRight"}function kf(t){const e=t??document,n=e.defaultView??window,{documentElement:i,body:o}=e;if(o.hasAttribute(io))return Je;o.setAttribute(io,"");const l=n.innerWidth-i.clientWidth,a=()=>yf(i,"--scrollbar-width",`${l}px`),s=wf(i),u=n.getComputedStyle(o)[s],f=()=>wr(o,{overflow:"hidden",[s]:`calc(${u} + ${l}px)`}),c=()=>{const{scrollX:m,scrollY:h,visualViewport:_}=n,g=(_==null?void 0:_.offsetLeft)??0,y=(_==null?void 0:_.offsetTop)??0,N=wr(o,{position:"fixed",overflow:"hidden",top:`${-(h-Math.floor(y))}px`,left:`${-(m-Math.floor(g))}px`,right:"0",[s]:`calc(${u} + ${l}px)`});return()=>{N==null||N(),n.scrollTo(m,h)}},p=[a(),vf()?c():f()];return()=>{p.forEach(m=>m==null?void 0:m()),o.removeAttribute(io)}}const Cf=t=>{try{Du(t)}catch{return t}};function Ht(t,e){let n;const i=xn(t,r=>{n==null||n(),n=e(r)}).subscribe(Je),o=()=>{i(),n==null||n()};return Cf(o),o}function ko(t){const e={};return Object.keys(t).forEach(n=>{const i=n,o=t[i];e[i]=zn(Ve(o))}),e}function Sf(t){let e=t.parentElement;for(;Rt(e)&&!e.hasAttribute("data-portal");)e=e.parentElement;return e||"body"}function Af(t,e){const n=Sf(t);return e!==void 0?e:n==="body"?document.body:null}async function kr(t){const{prop:e,defaultEl:n}=t;if(await Promise.all([ca(1),Jo]),e===void 0){n==null||n.focus();return}const i=ua(e)?e(n):e;if(typeof i=="string"){const o=document.querySelector(i);if(!Rt(o))return;o.focus()}else Rt(i)&&i.focus()}Xi(void 0,t=>{function e(i){t(i),t(void 0)}return Lt(document,"pointerup",e,{passive:!1,capture:!0})});const If=Xi(void 0,t=>{function e(i){i&&i.key===qn.ESCAPE&&t(i),t(void 0)}return Lt(document,"keydown",e,{passive:!1})}),Cr=(t,e={})=>{let n=Je;function i(o={}){n();const r={enabled:!0,...o},l=lf(r.enabled)?r.enabled:Xi(r.enabled);n=bn(If.subscribe(a=>{var u;if(!a||!Zs(l))return;const s=a.target;if(!(!Rt(s)||s.closest("[data-escapee]")!==t)){if(a.preventDefault(),r.ignore){if(ua(r.ignore)){if(r.ignore(a))return}else if(Array.isArray(r.ignore)&&r.ignore.length>0&&r.ignore.some(f=>f&&s===f))return}(u=r.handler)==null||u.call(r,a)}}),Ht(l,a=>{a?t.dataset.escapee="":delete t.dataset.escapee}))}return i(e),{update:i,destroy(){t.removeAttribute("data-escapee"),n()}}};/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var ma=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Ei=ma.join(","),ha=typeof Element>"u",Zt=ha?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Pi=!ha&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},Oi=function t(e,n){var i;n===void 0&&(n=!0);var o=e==null||(i=e.getAttribute)===null||i===void 0?void 0:i.call(e,"inert"),r=o===""||o==="true",l=r||n&&e&&t(e.parentNode);return l},Tf=function(e){var n,i=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"contenteditable");return i===""||i==="true"},_a=function(e,n,i){if(Oi(e))return[];var o=Array.prototype.slice.apply(e.querySelectorAll(Ei));return n&&Zt.call(e,Ei)&&o.unshift(e),o=o.filter(i),o},ga=function t(e,n,i){for(var o=[],r=Array.from(e);r.length;){var l=r.shift();if(!Oi(l,!1))if(l.tagName==="SLOT"){var a=l.assignedElements(),s=a.length?a:l.children,u=t(s,!0,i);i.flatten?o.push.apply(o,u):o.push({scopeParent:l,candidates:u})}else{var f=Zt.call(l,Ei);f&&i.filter(l)&&(n||!e.includes(l))&&o.push(l);var c=l.shadowRoot||typeof i.getShadowRoot=="function"&&i.getShadowRoot(l),p=!Oi(c,!1)&&(!i.shadowRootFilter||i.shadowRootFilter(l));if(c&&p){var m=t(c===!0?l.children:c.children,!0,i);i.flatten?o.push.apply(o,m):o.push({scopeParent:l,candidates:m})}else r.unshift.apply(r,l.children)}}return o},ba=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},Vt=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||Tf(e))&&!ba(e)?0:e.tabIndex},Nf=function(e,n){var i=Vt(e);return i<0&&n&&!ba(e)?0:i},Mf=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},va=function(e){return e.tagName==="INPUT"},Ef=function(e){return va(e)&&e.type==="hidden"},Pf=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(i){return i.tagName==="SUMMARY"});return n},Of=function(e,n){for(var i=0;i<e.length;i++)if(e[i].checked&&e[i].form===n)return e[i]},$f=function(e){if(!e.name)return!0;var n=e.form||Pi(e),i=function(a){return n.querySelectorAll('input[type="radio"][name="'+a+'"]')},o;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")o=i(window.CSS.escape(e.name));else try{o=i(e.name)}catch(l){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",l.message),!1}var r=Of(o,e.form);return!r||r===e},Lf=function(e){return va(e)&&e.type==="radio"},Ff=function(e){return Lf(e)&&!$f(e)},qf=function(e){var n,i=e&&Pi(e),o=(n=i)===null||n===void 0?void 0:n.host,r=!1;if(i&&i!==e){var l,a,s;for(r=!!((l=o)!==null&&l!==void 0&&(a=l.ownerDocument)!==null&&a!==void 0&&a.contains(o)||e!=null&&(s=e.ownerDocument)!==null&&s!==void 0&&s.contains(e));!r&&o;){var u,f,c;i=Pi(o),o=(u=i)===null||u===void 0?void 0:u.host,r=!!((f=o)!==null&&f!==void 0&&(c=f.ownerDocument)!==null&&c!==void 0&&c.contains(o))}}return r},Sr=function(e){var n=e.getBoundingClientRect(),i=n.width,o=n.height;return i===0&&o===0},Rf=function(e,n){var i=n.displayCheck,o=n.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var r=Zt.call(e,"details>summary:first-of-type"),l=r?e.parentElement:e;if(Zt.call(l,"details:not([open]) *"))return!0;if(!i||i==="full"||i==="legacy-full"){if(typeof o=="function"){for(var a=e;e;){var s=e.parentElement,u=Pi(e);if(s&&!s.shadowRoot&&o(s)===!0)return Sr(e);e.assignedSlot?e=e.assignedSlot:!s&&u!==e.ownerDocument?e=u.host:e=s}e=a}if(qf(e))return!e.getClientRects().length;if(i!=="legacy-full")return!0}else if(i==="non-zero-area")return Sr(e);return!1},Df=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var i=0;i<n.children.length;i++){var o=n.children.item(i);if(o.tagName==="LEGEND")return Zt.call(n,"fieldset[disabled] *")?!0:!o.contains(e)}return!0}n=n.parentElement}return!1},$i=function(e,n){return!(n.disabled||Oi(n)||Ef(n)||Rf(n,e)||Pf(n)||Df(n))},Co=function(e,n){return!(Ff(n)||Vt(n)<0||!$i(e,n))},Bf=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},Gf=function t(e){var n=[],i=[];return e.forEach(function(o,r){var l=!!o.scopeParent,a=l?o.scopeParent:o,s=Nf(a,l),u=l?t(o.candidates):a;s===0?l?n.push.apply(n,u):n.push(a):i.push({documentOrder:r,tabIndex:s,item:o,isScope:l,content:u})}),i.sort(Mf).reduce(function(o,r){return r.isScope?o.push.apply(o,r.content):o.push(r.content),o},[]).concat(n)},jf=function(e,n){n=n||{};var i;return n.getShadowRoot?i=ga([e],n.includeContainer,{filter:Co.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:Bf}):i=_a(e,n.includeContainer,Co.bind(null,n)),Gf(i)},Hf=function(e,n){n=n||{};var i;return n.getShadowRoot?i=ga([e],n.includeContainer,{filter:$i.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):i=_a(e,n.includeContainer,$i.bind(null,n)),i},fn=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return Zt.call(e,Ei)===!1?!1:Co(n,e)},Wf=ma.concat("iframe").join(","),oo=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return Zt.call(e,Wf)===!1?!1:$i(n,e)};/*!
* focus-trap 7.5.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function Ar(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function Ir(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ar(Object(n),!0).forEach(function(i){Vf(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ar(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Vf(t,e,n){return e=Uf(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kf(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Uf(t){var e=Kf(t,"string");return typeof e=="symbol"?e:String(e)}var Tr={activateTrap:function(e,n){if(e.length>0){var i=e[e.length-1];i!==n&&i.pause()}var o=e.indexOf(n);o===-1||e.splice(o,1),e.push(n)},deactivateTrap:function(e,n){var i=e.indexOf(n);i!==-1&&e.splice(i,1),e.length>0&&e[e.length-1].unpause()}},Yf=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},Jf=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},Wn=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},Xf=function(e){return Wn(e)&&!e.shiftKey},Zf=function(e){return Wn(e)&&e.shiftKey},Nr=function(e){return setTimeout(e,0)},Mr=function(e,n){var i=-1;return e.every(function(o,r){return n(o)?(i=r,!1):!0}),i},En=function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return typeof e=="function"?e.apply(void 0,i):e},oi=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},Qf=[],xf=function(e,n){var i=(n==null?void 0:n.document)||document,o=(n==null?void 0:n.trapStack)||Qf,r=Ir({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:Xf,isKeyBackward:Zf},n),l={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},a,s=function(d,v,b){return d&&d[v]!==void 0?d[v]:r[b||v]},u=function(d,v){var b=typeof(v==null?void 0:v.composedPath)=="function"?v.composedPath():void 0;return l.containerGroups.findIndex(function($){var T=$.container,L=$.tabbableNodes;return T.contains(d)||(b==null?void 0:b.includes(T))||L.find(function(W){return W===d})})},f=function(d){var v=r[d];if(typeof v=="function"){for(var b=arguments.length,$=new Array(b>1?b-1:0),T=1;T<b;T++)$[T-1]=arguments[T];v=v.apply(void 0,$)}if(v===!0&&(v=void 0),!v){if(v===void 0||v===!1)return v;throw new Error("`".concat(d,"` was specified but was not a node, or did not return a node"))}var L=v;if(typeof v=="string"&&(L=i.querySelector(v),!L))throw new Error("`".concat(d,"` as selector refers to no known node"));return L},c=function(){var d=f("initialFocus");if(d===!1)return!1;if(d===void 0||!oo(d,r.tabbableOptions))if(u(i.activeElement)>=0)d=i.activeElement;else{var v=l.tabbableGroups[0],b=v&&v.firstTabbableNode;d=b||f("fallbackFocus")}if(!d)throw new Error("Your focus-trap needs to have at least one focusable element");return d},p=function(){if(l.containerGroups=l.containers.map(function(d){var v=jf(d,r.tabbableOptions),b=Hf(d,r.tabbableOptions),$=v.length>0?v[0]:void 0,T=v.length>0?v[v.length-1]:void 0,L=b.find(function(ie){return fn(ie)}),W=b.slice().reverse().find(function(ie){return fn(ie)}),U=!!v.find(function(ie){return Vt(ie)>0});return{container:d,tabbableNodes:v,focusableNodes:b,posTabIndexesFound:U,firstTabbableNode:$,lastTabbableNode:T,firstDomTabbableNode:L,lastDomTabbableNode:W,nextTabbableNode:function(x){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,ve=v.indexOf(x);return ve<0?te?b.slice(b.indexOf(x)+1).find(function(ye){return fn(ye)}):b.slice(0,b.indexOf(x)).reverse().find(function(ye){return fn(ye)}):v[ve+(te?1:-1)]}}}),l.tabbableGroups=l.containerGroups.filter(function(d){return d.tabbableNodes.length>0}),l.tabbableGroups.length<=0&&!f("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(l.containerGroups.find(function(d){return d.posTabIndexesFound})&&l.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},m=function A(d){var v=d.activeElement;if(v)return v.shadowRoot&&v.shadowRoot.activeElement!==null?A(v.shadowRoot):v},h=function A(d){if(d!==!1&&d!==m(document)){if(!d||!d.focus){A(c());return}d.focus({preventScroll:!!r.preventScroll}),l.mostRecentlyFocusedNode=d,Yf(d)&&d.select()}},_=function(d){var v=f("setReturnFocus",d);return v||(v===!1?!1:d)},g=function(d){var v=d.target,b=d.event,$=d.isBackward,T=$===void 0?!1:$;v=v||oi(b),p();var L=null;if(l.tabbableGroups.length>0){var W=u(v,b),U=W>=0?l.containerGroups[W]:void 0;if(W<0)T?L=l.tabbableGroups[l.tabbableGroups.length-1].lastTabbableNode:L=l.tabbableGroups[0].firstTabbableNode;else if(T){var ie=Mr(l.tabbableGroups,function(Te){var Ce=Te.firstTabbableNode;return v===Ce});if(ie<0&&(U.container===v||oo(v,r.tabbableOptions)&&!fn(v,r.tabbableOptions)&&!U.nextTabbableNode(v,!1))&&(ie=W),ie>=0){var x=ie===0?l.tabbableGroups.length-1:ie-1,te=l.tabbableGroups[x];L=Vt(v)>=0?te.lastTabbableNode:te.lastDomTabbableNode}else Wn(b)||(L=U.nextTabbableNode(v,!1))}else{var ve=Mr(l.tabbableGroups,function(Te){var Ce=Te.lastTabbableNode;return v===Ce});if(ve<0&&(U.container===v||oo(v,r.tabbableOptions)&&!fn(v,r.tabbableOptions)&&!U.nextTabbableNode(v))&&(ve=W),ve>=0){var ye=ve===l.tabbableGroups.length-1?0:ve+1,oe=l.tabbableGroups[ye];L=Vt(v)>=0?oe.firstTabbableNode:oe.firstDomTabbableNode}else Wn(b)||(L=U.nextTabbableNode(v))}}else L=f("fallbackFocus");return L},y=function(d){var v=oi(d);if(!(u(v,d)>=0)){if(En(r.clickOutsideDeactivates,d)){a.deactivate({returnFocus:r.returnFocusOnDeactivate});return}En(r.allowOutsideClick,d)||d.preventDefault()}},N=function(d){var v=oi(d),b=u(v,d)>=0;if(b||v instanceof Document)b&&(l.mostRecentlyFocusedNode=v);else{d.stopImmediatePropagation();var $,T=!0;if(l.mostRecentlyFocusedNode)if(Vt(l.mostRecentlyFocusedNode)>0){var L=u(l.mostRecentlyFocusedNode),W=l.containerGroups[L].tabbableNodes;if(W.length>0){var U=W.findIndex(function(ie){return ie===l.mostRecentlyFocusedNode});U>=0&&(r.isKeyForward(l.recentNavEvent)?U+1<W.length&&($=W[U+1],T=!1):U-1>=0&&($=W[U-1],T=!1))}}else l.containerGroups.some(function(ie){return ie.tabbableNodes.some(function(x){return Vt(x)>0})})||(T=!1);else T=!1;T&&($=g({target:l.mostRecentlyFocusedNode,isBackward:r.isKeyBackward(l.recentNavEvent)})),h($||l.mostRecentlyFocusedNode||c())}l.recentNavEvent=void 0},M=function(d){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;l.recentNavEvent=d;var b=g({event:d,isBackward:v});b&&(Wn(d)&&d.preventDefault(),h(b))},j=function(d){if(Jf(d)&&En(r.escapeDeactivates,d)!==!1){d.preventDefault(),a.deactivate();return}(r.isKeyForward(d)||r.isKeyBackward(d))&&M(d,r.isKeyBackward(d))},R=function(d){var v=oi(d);u(v,d)>=0||En(r.clickOutsideDeactivates,d)||En(r.allowOutsideClick,d)||(d.preventDefault(),d.stopImmediatePropagation())},D=function(){if(l.active)return Tr.activateTrap(o,a),l.delayInitialFocusTimer=r.delayInitialFocus?Nr(function(){h(c())}):h(c()),i.addEventListener("focusin",N,!0),i.addEventListener("mousedown",y,{capture:!0,passive:!1}),i.addEventListener("touchstart",y,{capture:!0,passive:!1}),i.addEventListener("click",R,{capture:!0,passive:!1}),i.addEventListener("keydown",j,{capture:!0,passive:!1}),a},F=function(){if(l.active)return i.removeEventListener("focusin",N,!0),i.removeEventListener("mousedown",y,!0),i.removeEventListener("touchstart",y,!0),i.removeEventListener("click",R,!0),i.removeEventListener("keydown",j,!0),a},G=function(d){var v=d.some(function(b){var $=Array.from(b.removedNodes);return $.some(function(T){return T===l.mostRecentlyFocusedNode})});v&&h(c())},q=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(G):void 0,Z=function(){q&&(q.disconnect(),l.active&&!l.paused&&l.containers.map(function(d){q.observe(d,{subtree:!0,childList:!0})}))};return a={get active(){return l.active},get paused(){return l.paused},activate:function(d){if(l.active)return this;var v=s(d,"onActivate"),b=s(d,"onPostActivate"),$=s(d,"checkCanFocusTrap");$||p(),l.active=!0,l.paused=!1,l.nodeFocusedBeforeActivation=i.activeElement,v==null||v();var T=function(){$&&p(),D(),Z(),b==null||b()};return $?($(l.containers.concat()).then(T,T),this):(T(),this)},deactivate:function(d){if(!l.active)return this;var v=Ir({onDeactivate:r.onDeactivate,onPostDeactivate:r.onPostDeactivate,checkCanReturnFocus:r.checkCanReturnFocus},d);clearTimeout(l.delayInitialFocusTimer),l.delayInitialFocusTimer=void 0,F(),l.active=!1,l.paused=!1,Z(),Tr.deactivateTrap(o,a);var b=s(v,"onDeactivate"),$=s(v,"onPostDeactivate"),T=s(v,"checkCanReturnFocus"),L=s(v,"returnFocus","returnFocusOnDeactivate");b==null||b();var W=function(){Nr(function(){L&&h(_(l.nodeFocusedBeforeActivation)),$==null||$()})};return L&&T?(T(_(l.nodeFocusedBeforeActivation)).then(W,W),this):(W(),this)},pause:function(d){if(l.paused||!l.active)return this;var v=s(d,"onPause"),b=s(d,"onPostPause");return l.paused=!0,v==null||v(),F(),Z(),b==null||b(),this},unpause:function(d){if(!l.paused||!l.active)return this;var v=s(d,"onUnpause"),b=s(d,"onPostUnpause");return l.paused=!1,v==null||v(),p(),D(),Z(),b==null||b(),this},updateContainerElements:function(d){var v=[].concat(d).filter(Boolean);return l.containers=v.map(function(b){return typeof b=="string"?i.querySelector(b):b}),l.active&&p(),Z(),this}},a.updateContainerElements(e),a};function zf(t={}){let e;const{immediate:n,...i}=t,o=Ve(!1),r=Ve(!1),l=c=>e==null?void 0:e.activate(c),a=c=>{e==null||e.deactivate(c)},s=()=>{e&&(e.pause(),r.set(!0))},u=()=>{e&&(e.unpause(),r.set(!1))};return{useFocusTrap:c=>(e=xf(c,{...i,onActivate(){var p;o.set(!0),(p=t.onActivate)==null||p.call(t)},onDeactivate(){var p;o.set(!1),(p=t.onDeactivate)==null||p.call(t)}}),n&&l(),{destroy(){a(),e=void 0}}),hasFocus:mr(o),isPaused:mr(r),activate:l,deactivate:a,pause:s,unpause:u}}const ec=(t,e="body")=>{let n;if(!Rt(e)&&typeof e!="string")return{destroy:Je};async function i(r){if(e=r,typeof e=="string"){if(n=document.querySelector(e),n===null&&(await Jo(),n=document.querySelector(e)),n===null)throw new Error(`No element found matching css selector: "${e}"`)}else if(e instanceof HTMLElement)n=e;else throw new TypeError(`Unknown portal target type: ${e===null?"null":typeof e}. Allowed types: string (CSS selector) or HTMLElement.`);t.dataset.portal="",n.appendChild(t),t.hidden=!1}function o(){t.remove()}return i(e),{update:i,destroy:o}};function tc(t,e){let n=Je;function i(o){n();const{onInteractOutside:r,onInteractOutsideStart:l,enabled:a}=o;if(!a)return;let s=!1,u=!1;function f(m){r&&ri(m,t)&&(l==null||l(m)),s=!0}function c(m){r==null||r(m)}const p=nc(t);if(typeof PointerEvent<"u"){const m=h=>{s&&ri(h,t)&&c(h),s=!1};n=bn(Lt(p,"pointerdown",f,!0),Lt(p,"pointerup",m,!0))}else{const m=_=>{u?u=!1:s&&ri(_,t)&&c(_),s=!1},h=_=>{u=!0,s&&ri(_,t)&&c(_),s=!1};n=bn(Lt(p,"mousedown",f,!0),Lt(p,"mouseup",m,!0),Lt(p,"touchstart",f,!0),Lt(p,"touchend",h,!0))}}return i(e),{update:i,destroy:n}}function ri(t,e){if("button"in t&&t.button>0)return!1;const n=t.target;if(!fa(n))return!1;const i=n.ownerDocument;return!i||!i.documentElement.contains(n)?!1:e&&!e.contains(n)}function nc(t){return(t==null?void 0:t.ownerDocument)??document}function ic(){return{elements:{root:At("label",{action:e=>({destroy:Fn(e,"mousedown",i=>{!i.defaultPrevented&&i.detail>1&&i.preventDefault()})})})}}}const li=[];function oc(t,e){let n=Je;function i(){const r=li.indexOf(t);r>=0&&li.splice(r,1)}function o(r){n();const{open:l,onClose:a,shouldCloseOnInteractOutside:s,closeOnInteractOutside:u}=r;ca(100).then(()=>{l?li.push(t):i()});function f(){return tf(li)===t}function c(){f()&&a&&a()}function p(h){const _=h.target;fa(_)&&_&&f()&&(h.preventDefault(),h.stopPropagation(),h.stopImmediatePropagation())}function m(h){s!=null&&s(h)&&f()&&(h.preventDefault(),h.stopPropagation(),h.stopImmediatePropagation(),c())}n=tc(t,{onInteractOutsideStart:p,onInteractOutside:u?m:void 0,enabled:l}).destroy}return o(e),{update:o,destroy(){i(),n()}}}const{name:jt}=nf("dialog"),rc={preventScroll:!0,closeOnEscape:!0,closeOnOutsideClick:!0,role:"dialog",defaultOpen:!1,portal:"body",forceVisible:!1,openFocus:void 0,closeFocus:void 0,onOutsideClick:void 0},lc=["content","title","description"];function ya(t){const e={...rc,...t},n=ko(uf(e,"ids")),{preventScroll:i,closeOnEscape:o,closeOnOutsideClick:r,role:l,portal:a,forceVisible:s,openFocus:u,closeFocus:f,onOutsideClick:c}=n,p=zn.writable(null),m=ko({...mf(lc),...e.ids}),h=e.open??Ve(e.defaultOpen),_=ff(h,e==null?void 0:e.onOpenChange),g=xn([_,s],([A,d])=>A||d);let y=Je;function N(A){const d=A.currentTarget,v=A.currentTarget;!Rt(d)||!Rt(v)||(_.set(!0),p.set(v))}function M(){_.set(!1),kr({prop:f.get(),defaultEl:p.get()})}const j=At(jt("trigger"),{stores:[_],returned:([A])=>({"aria-haspopup":"dialog","aria-expanded":A,type:"button"}),action:A=>({destroy:bn(Fn(A,"click",v=>{N(v)}),Fn(A,"keydown",v=>{v.key!==qn.ENTER&&v.key!==qn.SPACE||(v.preventDefault(),N(v))}))})}),R=At(jt("overlay"),{stores:[g],returned:([A])=>({hidden:A?void 0:!0,tabindex:-1,style:wo({display:A?void 0:"none"}),"aria-hidden":!0,"data-state":A?"open":"closed"}),action:A=>{let d=Je;if(o.get()){const v=Cr(A,{handler:()=>{M()}});v&&v.destroy&&(d=v.destroy)}return{destroy(){d()}}}}),D=At(jt("content"),{stores:[g,m.content,m.description,m.title],returned:([A,d,v,b])=>({id:d,role:l.get(),"aria-describedby":v,"aria-labelledby":b,"aria-modal":A?"true":void 0,"data-state":A?"open":"closed",tabindex:-1,hidden:A?void 0:!0,style:wo({display:A?void 0:"none"})}),action:A=>{let d=Je,v=Je;const b=bn(Ht([_],([$])=>{if(!$)return;const T=zf({immediate:!1,escapeDeactivates:!0,clickOutsideDeactivates:!0,returnFocusOnDeactivate:!1,fallbackFocus:A});d=T.activate,v=T.deactivate;const L=T.useFocusTrap(A);return L&&L.destroy?L.destroy:T.deactivate}),Ht([r,_],([$,T])=>oc(A,{open:T,closeOnInteractOutside:$,onClose(){M()},shouldCloseOnInteractOutside(L){var W;return(W=c.get())==null||W(L),!L.defaultPrevented}}).destroy),Ht([o],([$])=>{if(!$)return Je;const T=Cr(A,{handler:()=>{M()}});return T&&T.destroy?T.destroy:Je}),Ht([g],([$])=>{Jo().then(()=>{$?d():v()})}));return{destroy:()=>{y(),b()}}}}),F=At(jt("portalled"),{stores:a,returned:A=>({"data-portal":A?"":void 0}),action:A=>{const d=Ht([a],([v])=>{if(!v)return Je;const b=Af(A,v);if(b===null)return Je;const $=ec(A,b);return $&&$.destroy?$.destroy:Je});return{destroy(){d()}}}}),G=At(jt("title"),{stores:[m.title],returned:([A])=>({id:A})}),q=At(jt("description"),{stores:[m.description],returned:([A])=>({id:A})}),Z=At(jt("close"),{returned:()=>({type:"button"}),action:A=>({destroy:bn(Fn(A,"click",()=>{M()}),Fn(A,"keydown",v=>{v.key!==qn.SPACE&&v.key!==qn.ENTER||(v.preventDefault(),M())}))})});return Ht([_,i],([A,d])=>{if(of){if(d&&A&&(y=kf()),A){const v=document.getElementById(m.content.get());kr({prop:u.get(),defaultEl:v})}return()=>{s.get()||y()}}}),{ids:m,elements:{content:D,trigger:j,title:G,description:q,overlay:R,close:Z,portalled:F},states:{open:_},options:n}}const sc={orientation:"horizontal",decorative:!1},ac=t=>{const e={...sc,...t},n=ko(e),{orientation:i,decorative:o}=n;return{elements:{root:At("separator",{stores:[i,o],returned:([l,a])=>({role:a?"none":"separator","aria-orientation":l==="vertical"?l:void 0,"aria-hidden":a,"data-orientation":l})})},options:n}};function Zi(t,e){const n={};return e.forEach(i=>{n[i]={[`data-${t}-${i}`]:""}}),i=>n[i]}function Qi(){const t=Bu();return e=>{const{originalEvent:n}=e.detail,{cancelable:i}=e,o=n.type;t(o,{originalEvent:n,currentTarget:n.currentTarget},{cancelable:i})||e.preventDefault()}}function xo(t){const e={};for(const n in t){const i=t[n];i!==void 0&&(e[n]=i)}return e}function Li(t){return function(e,n){if(n===void 0)return;const i=t[e];i&&i.set(n)}}function wa(){return{NAME:"alert-dialog",PARTS:["action","cancel","content","description","overlay","portal","title","trigger"]}}function uc(t){const{NAME:e,PARTS:n}=wa(),i=Zi(e,n),o=ya({...xo(t),role:"alertdialog",forceVisible:!0}),r={...o,getAttrs:i,updateOption:Li(o.options)};return na(e,r),{...r,updateOption:Li(r.options),getAttrs:i}}function tn(){const{NAME:t}=wa();return ia(t)}const fc=t=>({ids:t&1}),Er=t=>({ids:t[0]});function cc(t){let e;const n=t[12].default,i=fe(n,t,t[11],Er);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,[r]){i&&i.p&&(!e||r&2049)&&de(i,n,o,o[11],e?ce(n,o[11],r,fc):pe(o[11]),Er)},i(o){e||(k(i,o),e=!0)},o(o){I(i,o),e=!1},d(o){i&&i.d(o)}}}function dc(t,e,n){let i,{$$slots:o={},$$scope:r}=e,{preventScroll:l=void 0}=e,{closeOnEscape:a=void 0}=e,{closeOnOutsideClick:s=!1}=e,{portal:u=void 0}=e,{open:f=void 0}=e,{onOpenChange:c=void 0}=e,{openFocus:p=void 0}=e,{closeFocus:m=void 0}=e,{onOutsideClick:h=void 0}=e;const{states:{open:_},updateOption:g,ids:y}=uc({closeOnEscape:a,preventScroll:l,closeOnOutsideClick:s,portal:u,forceVisible:!0,defaultOpen:f,openFocus:p,closeFocus:m,onOutsideClick:h,onOpenChange:({next:M})=>(f!==M&&(c==null||c(M),n(2,f=M)),M)}),N=xn([y.content,y.description,y.title],([M,j,R])=>({content:M,description:j,title:R}));return se(t,N,M=>n(0,i=M)),t.$$set=M=>{"preventScroll"in M&&n(3,l=M.preventScroll),"closeOnEscape"in M&&n(4,a=M.closeOnEscape),"closeOnOutsideClick"in M&&n(5,s=M.closeOnOutsideClick),"portal"in M&&n(6,u=M.portal),"open"in M&&n(2,f=M.open),"onOpenChange"in M&&n(7,c=M.onOpenChange),"openFocus"in M&&n(8,p=M.openFocus),"closeFocus"in M&&n(9,m=M.closeFocus),"onOutsideClick"in M&&n(10,h=M.onOutsideClick),"$$scope"in M&&n(11,r=M.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&f!==void 0&&_.set(f),t.$$.dirty&8&&g("preventScroll",l),t.$$.dirty&16&&g("closeOnEscape",a),t.$$.dirty&32&&g("closeOnOutsideClick",s),t.$$.dirty&64&&g("portal",u),t.$$.dirty&256&&g("openFocus",p),t.$$.dirty&512&&g("closeFocus",m),t.$$.dirty&1024&&g("onOutsideClick",h)},[i,N,f,l,a,s,u,c,p,m,h,r,o]}class pc extends _e{constructor(e){super(),he(this,e,dc,cc,le,{preventScroll:3,closeOnEscape:4,closeOnOutsideClick:5,portal:6,open:2,onOpenChange:7,openFocus:8,closeFocus:9,onOutsideClick:10})}}const mc=t=>({builder:t&8}),Pr=t=>({builder:t[3]}),hc=t=>({builder:t&8}),Or=t=>({builder:t[3]});function _c(t){let e=t[1],n,i,o=t[1]&&ro(t);return{c(){o&&o.c(),n=Pe()},m(r,l){o&&o.m(r,l),S(r,n,l),i=!0},p(r,l){r[1]?e?le(e,r[1])?(o.d(1),o=ro(r),e=r[1],o.c(),o.m(n.parentNode,n)):o.p(r,l):(o=ro(r),e=r[1],o.c(),o.m(n.parentNode,n)):e&&(o.d(1),o=null,e=r[1])},i(r){i||(k(o,r),i=!0)},o(r){I(o,r),i=!1},d(r){r&&C(n),o&&o.d(r)}}}function gc(t){let e;const n=t[9].default,i=fe(n,t,t[8],Or);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&264)&&de(i,n,o,o[8],e?ce(n,o[8],r,hc):pe(o[8]),Or)},i(o){e||(k(i,o),e=!0)},o(o){I(i,o),e=!1},d(o){i&&i.d(o)}}}function ro(t){let e,n,i,o;const r=t[9].default,l=fe(r,t,t[8],Pr);let a=[t[3],t[5]],s={};for(let u=0;u<a.length;u+=1)s=V(s,a[u]);return{c(){e=P(t[1]),l&&l.c(),Ft(t[1])(e,s)},m(u,f){S(u,e,f),l&&l.m(e,null),t[10](e),n=!0,i||(o=Be(t[3].action(e)),i=!0)},p(u,f){l&&l.p&&(!n||f&264)&&de(l,r,u,u[8],n?ce(r,u[8],f,mc):pe(u[8]),Pr),Ft(u[1])(e,s=me(a,[f&8&&u[3],f&32&&u[5]]))},i(u){n||(k(l,u),n=!0)},o(u){I(l,u),n=!1},d(u){u&&C(e),l&&l.d(u),t[10](null),i=!1,o()}}}function bc(t){let e,n,i,o;const r=[gc,_c],l=[];function a(s,u){return s[2]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),i=Pe()},m(s,u){l[e].m(s,u),S(s,i,u),o=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),I(l[f],1,1,()=>{l[f]=null}),Ee(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(i.parentNode,i))},i(s){o||(k(n),o=!0)},o(s){I(n),o=!1},d(s){s&&C(i),l[e].d(s)}}}function vc(t,e,n){let i;const o=["level","asChild","id","el"];let r=ne(e,o),l,{$$slots:a={},$$scope:s}=e,{level:u="h2"}=e,{asChild:f=!1}=e,{id:c=void 0}=e,{el:p=void 0}=e;const{elements:{title:m},ids:h,getAttrs:_}=tn();se(t,m,N=>n(7,l=N));const g=_("title");function y(N){Ae[N?"unshift":"push"](()=>{p=N,n(0,p)})}return t.$$set=N=>{e=V(V({},e),Ne(N)),n(5,r=ne(e,o)),"level"in N&&n(1,u=N.level),"asChild"in N&&n(2,f=N.asChild),"id"in N&&n(6,c=N.id),"el"in N&&n(0,p=N.el),"$$scope"in N&&n(8,s=N.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&c&&h.title.set(c),t.$$.dirty&128&&n(3,i=l),t.$$.dirty&8&&Object.assign(i,g)},[p,u,f,i,m,r,c,l,s,a,y]}let yc=class extends _e{constructor(e){super(),he(this,e,vc,bc,le,{level:1,asChild:2,id:6,el:0})}};const wc=t=>({builder:t&4}),$r=t=>({builder:t[2]}),kc=t=>({builder:t&4}),Lr=t=>({builder:t[2]});function Cc(t){let e,n,i,o;const r=t[8].default,l=fe(r,t,t[7],$r);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=V(s,a[u]);return{c(){e=P("button"),l&&l.c(),re(e,s)},m(u,f){S(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[9](e),n=!0,i||(o=[Be(t[2].action(e)),K(e,"m-click",t[4]),K(e,"m-keydown",t[4])],i=!0)},p(u,f){l&&l.p&&(!n||f&132)&&de(l,r,u,u[7],n?ce(r,u[7],f,wc):pe(u[7]),$r),re(e,s=me(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(k(l,u),n=!0)},o(u){I(l,u),n=!1},d(u){u&&C(e),l&&l.d(u),t[9](null),i=!1,Re(o)}}}function Sc(t){let e;const n=t[8].default,i=fe(n,t,t[7],Lr);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&132)&&de(i,n,o,o[7],e?ce(n,o[7],r,kc):pe(o[7]),Lr)},i(o){e||(k(i,o),e=!0)},o(o){I(i,o),e=!1},d(o){i&&i.d(o)}}}function Ac(t){let e,n,i,o;const r=[Sc,Cc],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),i=Pe()},m(s,u){l[e].m(s,u),S(s,i,u),o=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),I(l[f],1,1,()=>{l[f]=null}),Ee(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(i.parentNode,i))},i(s){o||(k(n),o=!0)},o(s){I(n),o=!1},d(s){s&&C(i),l[e].d(s)}}}function Ic(t,e,n){let i;const o=["asChild","el"];let r=ne(e,o),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:p}=tn();se(t,c,g=>n(6,l=g));const m=Qi(),h=p("action");function _(g){Ae[g?"unshift":"push"](()=>{f=g,n(0,f)})}return t.$$set=g=>{e=V(V({},e),Ne(g)),n(5,r=ne(e,o)),"asChild"in g&&n(1,u=g.asChild),"el"in g&&n(0,f=g.el),"$$scope"in g&&n(7,s=g.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,i=l),t.$$.dirty&4&&Object.assign(i,h)},[f,u,i,c,m,r,l,s,a,_]}let Tc=class extends _e{constructor(e){super(),he(this,e,Ic,Ac,le,{asChild:1,el:0})}};const Nc=t=>({builder:t&4}),Fr=t=>({builder:t[2]}),Mc=t=>({builder:t&4}),qr=t=>({builder:t[2]});function Ec(t){let e,n,i,o;const r=t[8].default,l=fe(r,t,t[7],Fr);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=V(s,a[u]);return{c(){e=P("button"),l&&l.c(),re(e,s)},m(u,f){S(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[9](e),n=!0,i||(o=[Be(t[2].action(e)),K(e,"m-click",t[4]),K(e,"m-keydown",t[4])],i=!0)},p(u,f){l&&l.p&&(!n||f&132)&&de(l,r,u,u[7],n?ce(r,u[7],f,Nc):pe(u[7]),Fr),re(e,s=me(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(k(l,u),n=!0)},o(u){I(l,u),n=!1},d(u){u&&C(e),l&&l.d(u),t[9](null),i=!1,Re(o)}}}function Pc(t){let e;const n=t[8].default,i=fe(n,t,t[7],qr);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&132)&&de(i,n,o,o[7],e?ce(n,o[7],r,Mc):pe(o[7]),qr)},i(o){e||(k(i,o),e=!0)},o(o){I(i,o),e=!1},d(o){i&&i.d(o)}}}function Oc(t){let e,n,i,o;const r=[Pc,Ec],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),i=Pe()},m(s,u){l[e].m(s,u),S(s,i,u),o=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),I(l[f],1,1,()=>{l[f]=null}),Ee(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(i.parentNode,i))},i(s){o||(k(n),o=!0)},o(s){I(n),o=!1},d(s){s&&C(i),l[e].d(s)}}}function $c(t,e,n){let i;const o=["asChild","el"];let r=ne(e,o),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:p}=tn();se(t,c,g=>n(6,l=g));const m=Qi(),h=p("cancel");function _(g){Ae[g?"unshift":"push"](()=>{f=g,n(0,f)})}return t.$$set=g=>{e=V(V({},e),Ne(g)),n(5,r=ne(e,o)),"asChild"in g&&n(1,u=g.asChild),"el"in g&&n(0,f=g.el),"$$scope"in g&&n(7,s=g.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,i=l),t.$$.dirty&4&&Object.assign(i,h)},[f,u,i,c,m,r,l,s,a,_]}let Lc=class extends _e{constructor(e){super(),he(this,e,$c,Oc,le,{asChild:1,el:0})}};const Fc=t=>({builder:t&4}),Rr=t=>({builder:t[2]}),qc=t=>({builder:t&4}),Dr=t=>({builder:t[2]});function Rc(t){let e,n,i,o;const r=t[7].default,l=fe(r,t,t[6],Rr);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=V(s,a[u]);return{c(){e=P("div"),l&&l.c(),re(e,s)},m(u,f){S(u,e,f),l&&l.m(e,null),t[8](e),n=!0,i||(o=Be(t[2].action(e)),i=!0)},p(u,f){l&&l.p&&(!n||f&68)&&de(l,r,u,u[6],n?ce(r,u[6],f,Fc):pe(u[6]),Rr),re(e,s=me(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(k(l,u),n=!0)},o(u){I(l,u),n=!1},d(u){u&&C(e),l&&l.d(u),t[8](null),i=!1,o()}}}function Dc(t){let e;const n=t[7].default,i=fe(n,t,t[6],Dr);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&68)&&de(i,n,o,o[6],e?ce(n,o[6],r,qc):pe(o[6]),Dr)},i(o){e||(k(i,o),e=!0)},o(o){I(i,o),e=!1},d(o){i&&i.d(o)}}}function Bc(t){let e,n,i,o;const r=[Dc,Rc],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),i=Pe()},m(s,u){l[e].m(s,u),S(s,i,u),o=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),I(l[f],1,1,()=>{l[f]=null}),Ee(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(i.parentNode,i))},i(s){o||(k(n),o=!0)},o(s){I(n),o=!1},d(s){s&&C(i),l[e].d(s)}}}function Gc(t,e,n){let i;const o=["asChild","el"];let r=ne(e,o),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{portalled:c},getAttrs:p}=tn();se(t,c,_=>n(5,l=_));const m=p("portal");function h(_){Ae[_?"unshift":"push"](()=>{f=_,n(0,f)})}return t.$$set=_=>{e=V(V({},e),Ne(_)),n(4,r=ne(e,o)),"asChild"in _&&n(1,u=_.asChild),"el"in _&&n(0,f=_.el),"$$scope"in _&&n(6,s=_.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,i=l),t.$$.dirty&4&&Object.assign(i,m)},[f,u,i,c,r,l,s,a,h]}let jc=class extends _e{constructor(e){super(),he(this,e,Gc,Bc,le,{asChild:1,el:0})}};const Hc=t=>({builder:t[0]&256}),Br=t=>({builder:t[8]}),Wc=t=>({builder:t[0]&256}),Gr=t=>({builder:t[8]}),Vc=t=>({builder:t[0]&256}),jr=t=>({builder:t[8]}),Kc=t=>({builder:t[0]&256}),Hr=t=>({builder:t[8]}),Uc=t=>({builder:t[0]&256}),Wr=t=>({builder:t[8]}),Yc=t=>({builder:t[0]&256}),Vr=t=>({builder:t[8]});function Jc(t){let e,n,i,o;const r=t[16].default,l=fe(r,t,t[15],Br);let a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=V(s,a[u]);return{c(){e=P("div"),l&&l.c(),re(e,s)},m(u,f){S(u,e,f),l&&l.m(e,null),t[56](e),n=!0,i||(o=[Be(t[8].action(e)),K(e,"pointerdown",t[45]),K(e,"pointermove",t[46]),K(e,"pointerup",t[47]),K(e,"touchend",t[48]),K(e,"touchstart",t[49]),K(e,"touchcancel",t[50]),K(e,"touchmove",t[51])],i=!0)},p(u,f){l&&l.p&&(!n||f[0]&33024)&&de(l,r,u,u[15],n?ce(r,u[15],f,Hc):pe(u[15]),Br),re(e,s=me(a,[f[0]&256&&u[8],f[0]&4096&&u[12]]))},i(u){n||(k(l,u),n=!0)},o(u){I(l,u),n=!1},d(u){u&&C(e),l&&l.d(u),t[56](null),i=!1,Re(o)}}}function Xc(t){let e,n,i,o,r;const l=t[16].default,a=fe(l,t,t[15],Gr);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=V(u,s[f]);return{c(){e=P("div"),a&&a.c(),re(e,u)},m(f,c){S(f,e,c),a&&a.m(e,null),t[55](e),i=!0,o||(r=[Be(t[8].action(e)),K(e,"pointerdown",t[38]),K(e,"pointermove",t[39]),K(e,"pointerup",t[40]),K(e,"touchend",t[41]),K(e,"touchstart",t[42]),K(e,"touchcancel",t[43]),K(e,"touchmove",t[44])],o=!0)},p(f,c){t=f,a&&a.p&&(!i||c[0]&33024)&&de(a,l,t,t[15],i?ce(l,t[15],c,Wc):pe(t[15]),Gr),re(e,u=me(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){i||(k(a,f),n&&n.end(1),i=!0)},o(f){I(a,f),f&&(n=Bt(e,t[5],t[6])),i=!1},d(f){f&&C(e),a&&a.d(f),t[55](null),f&&n&&n.end(),o=!1,Re(r)}}}function Zc(t){let e,n,i,o,r;const l=t[16].default,a=fe(l,t,t[15],jr);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=V(u,s[f]);return{c(){e=P("div"),a&&a.c(),re(e,u)},m(f,c){S(f,e,c),a&&a.m(e,null),t[54](e),i=!0,o||(r=[Be(t[8].action(e)),K(e,"pointerdown",t[31]),K(e,"pointermove",t[32]),K(e,"pointerup",t[33]),K(e,"touchend",t[34]),K(e,"touchstart",t[35]),K(e,"touchcancel",t[36]),K(e,"touchmove",t[37])],o=!0)},p(f,c){t=f,a&&a.p&&(!i||c[0]&33024)&&de(a,l,t,t[15],i?ce(l,t[15],c,Vc):pe(t[15]),jr),re(e,u=me(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){i||(k(a,f),f&&(n||Qe(()=>{n=Dt(e,t[3],t[4]),n.start()})),i=!0)},o(f){I(a,f),i=!1},d(f){f&&C(e),a&&a.d(f),t[54](null),o=!1,Re(r)}}}function Qc(t){let e,n,i,o,r,l;const a=t[16].default,s=fe(a,t,t[15],Hr);let u=[t[8],t[12]],f={};for(let c=0;c<u.length;c+=1)f=V(f,u[c]);return{c(){e=P("div"),s&&s.c(),re(e,f)},m(c,p){S(c,e,p),s&&s.m(e,null),t[53](e),o=!0,r||(l=[Be(t[8].action(e)),K(e,"pointerdown",t[24]),K(e,"pointermove",t[25]),K(e,"pointerup",t[26]),K(e,"touchend",t[27]),K(e,"touchstart",t[28]),K(e,"touchcancel",t[29]),K(e,"touchmove",t[30])],r=!0)},p(c,p){t=c,s&&s.p&&(!o||p[0]&33024)&&de(s,a,t,t[15],o?ce(a,t[15],p,Kc):pe(t[15]),Hr),re(e,f=me(u,[p[0]&256&&t[8],p[0]&4096&&t[12]]))},i(c){o||(k(s,c),c&&Qe(()=>{o&&(i&&i.end(1),n=Dt(e,t[3],t[4]),n.start())}),o=!0)},o(c){I(s,c),n&&n.invalidate(),c&&(i=Bt(e,t[5],t[6])),o=!1},d(c){c&&C(e),s&&s.d(c),t[53](null),c&&i&&i.end(),r=!1,Re(l)}}}function xc(t){let e,n,i,o,r;const l=t[16].default,a=fe(l,t,t[15],Wr);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=V(u,s[f]);return{c(){e=P("div"),a&&a.c(),re(e,u)},m(f,c){S(f,e,c),a&&a.m(e,null),t[52](e),i=!0,o||(r=[Be(t[8].action(e)),K(e,"pointerdown",t[17]),K(e,"pointermove",t[18]),K(e,"pointerup",t[19]),K(e,"touchend",t[20]),K(e,"touchstart",t[21]),K(e,"touchcancel",t[22]),K(e,"touchmove",t[23])],o=!0)},p(f,c){t=f,a&&a.p&&(!i||c[0]&33024)&&de(a,l,t,t[15],i?ce(l,t[15],c,Uc):pe(t[15]),Wr),re(e,u=me(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){i||(k(a,f),f&&Qe(()=>{i&&(n||(n=qt(e,t[1],t[2],!0)),n.run(1))}),i=!0)},o(f){I(a,f),f&&(n||(n=qt(e,t[1],t[2],!1)),n.run(0)),i=!1},d(f){f&&C(e),a&&a.d(f),t[52](null),f&&n&&n.end(),o=!1,Re(r)}}}function zc(t){let e;const n=t[16].default,i=fe(n,t,t[15],Vr);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r[0]&33024)&&de(i,n,o,o[15],e?ce(n,o[15],r,Yc):pe(o[15]),Vr)},i(o){e||(k(i,o),e=!0)},o(o){I(i,o),e=!1},d(o){i&&i.d(o)}}}function ed(t){let e,n,i,o;const r=[zc,xc,Qc,Zc,Xc,Jc],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),i=Pe()},m(s,u){~e&&l[e].m(s,u),S(s,i,u),o=!0},p(s,u){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Me(),I(l[f],1,1,()=>{l[f]=null}),Ee()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(i.parentNode,i)):n=null)},i(s){o||(k(n),o=!0)},o(s){I(n),o=!1},d(s){s&&C(i),~e&&l[e].d(s)}}}function td(t,e,n){let i;const o=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","id","asChild","el"];let r=ne(e,o),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:p=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:h=void 0}=e,{outTransitionConfig:_=void 0}=e,{id:g=void 0}=e,{asChild:y=!1}=e,{el:N=void 0}=e;const{elements:{content:M},states:{open:j},ids:R,getAttrs:D}=tn();se(t,M,E=>n(14,l=E)),se(t,j,E=>n(9,a=E));const F=D("content");function G(E){Q.call(this,t,E)}function q(E){Q.call(this,t,E)}function Z(E){Q.call(this,t,E)}function A(E){Q.call(this,t,E)}function d(E){Q.call(this,t,E)}function v(E){Q.call(this,t,E)}function b(E){Q.call(this,t,E)}function $(E){Q.call(this,t,E)}function T(E){Q.call(this,t,E)}function L(E){Q.call(this,t,E)}function W(E){Q.call(this,t,E)}function U(E){Q.call(this,t,E)}function ie(E){Q.call(this,t,E)}function x(E){Q.call(this,t,E)}function te(E){Q.call(this,t,E)}function ve(E){Q.call(this,t,E)}function ye(E){Q.call(this,t,E)}function oe(E){Q.call(this,t,E)}function Te(E){Q.call(this,t,E)}function Ce(E){Q.call(this,t,E)}function Se(E){Q.call(this,t,E)}function Le(E){Q.call(this,t,E)}function be(E){Q.call(this,t,E)}function qe(E){Q.call(this,t,E)}function ee(E){Q.call(this,t,E)}function Oe(E){Q.call(this,t,E)}function Ke(E){Q.call(this,t,E)}function Ze(E){Q.call(this,t,E)}function tt(E){Q.call(this,t,E)}function Ue(E){Q.call(this,t,E)}function De(E){Q.call(this,t,E)}function ut(E){Q.call(this,t,E)}function ct(E){Q.call(this,t,E)}function xe(E){Q.call(this,t,E)}function ze(E){Q.call(this,t,E)}function He(E){Ae[E?"unshift":"push"](()=>{N=E,n(0,N)})}function Ge(E){Ae[E?"unshift":"push"](()=>{N=E,n(0,N)})}function we(E){Ae[E?"unshift":"push"](()=>{N=E,n(0,N)})}function z(E){Ae[E?"unshift":"push"](()=>{N=E,n(0,N)})}function je(E){Ae[E?"unshift":"push"](()=>{N=E,n(0,N)})}return t.$$set=E=>{e=V(V({},e),Ne(E)),n(12,r=ne(e,o)),"transition"in E&&n(1,f=E.transition),"transitionConfig"in E&&n(2,c=E.transitionConfig),"inTransition"in E&&n(3,p=E.inTransition),"inTransitionConfig"in E&&n(4,m=E.inTransitionConfig),"outTransition"in E&&n(5,h=E.outTransition),"outTransitionConfig"in E&&n(6,_=E.outTransitionConfig),"id"in E&&n(13,g=E.id),"asChild"in E&&n(7,y=E.asChild),"el"in E&&n(0,N=E.el),"$$scope"in E&&n(15,u=E.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&8192&&g&&R.content.set(g),t.$$.dirty[0]&16384&&n(8,i=l),t.$$.dirty[0]&256&&Object.assign(i,F)},[N,f,c,p,m,h,_,y,i,a,M,j,r,g,l,u,s,G,q,Z,A,d,v,b,$,T,L,W,U,ie,x,te,ve,ye,oe,Te,Ce,Se,Le,be,qe,ee,Oe,Ke,Ze,tt,Ue,De,ut,ct,xe,ze,He,Ge,we,z,je]}let nd=class extends _e{constructor(e){super(),he(this,e,td,ed,le,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,id:13,asChild:7,el:0},null,[-1,-1])}};const id=t=>({builder:t&256}),Kr=t=>({builder:t[8]});function od(t){let e,n,i,o=[t[8],t[12]],r={};for(let l=0;l<o.length;l+=1)r=V(r,o[l]);return{c(){e=P("div"),re(e,r)},m(l,a){S(l,e,a),t[20](e),n||(i=Be(t[8].action(e)),n=!0)},p(l,a){re(e,r=me(o,[a&256&&l[8],a&4096&&l[12]]))},i:ue,o:ue,d(l){l&&C(e),t[20](null),n=!1,i()}}}function rd(t){let e,n,i,o,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=V(a,l[s]);return{c(){e=P("div"),re(e,a)},m(s,u){S(s,e,u),t[19](e),i=!0,o||(r=Be(t[8].action(e)),o=!0)},p(s,u){t=s,re(e,a=me(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){i||(n&&n.end(1),i=!0)},o(s){s&&(n=Bt(e,t[5],t[6])),i=!1},d(s){s&&C(e),t[19](null),s&&n&&n.end(),o=!1,r()}}}function ld(t){let e,n,i,o,r=[t[8],t[12]],l={};for(let a=0;a<r.length;a+=1)l=V(l,r[a]);return{c(){e=P("div"),re(e,l)},m(a,s){S(a,e,s),t[18](e),i||(o=Be(t[8].action(e)),i=!0)},p(a,s){t=a,re(e,l=me(r,[s&256&&t[8],s&4096&&t[12]]))},i(a){a&&(n||Qe(()=>{n=Dt(e,t[3],t[4]),n.start()}))},o:ue,d(a){a&&C(e),t[18](null),i=!1,o()}}}function sd(t){let e,n,i,o,r,l,a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=V(s,a[u]);return{c(){e=P("div"),re(e,s)},m(u,f){S(u,e,f),t[17](e),o=!0,r||(l=Be(t[8].action(e)),r=!0)},p(u,f){t=u,re(e,s=me(a,[f&256&&t[8],f&4096&&t[12]]))},i(u){o||(u&&Qe(()=>{o&&(i&&i.end(1),n=Dt(e,t[3],t[4]),n.start())}),o=!0)},o(u){n&&n.invalidate(),u&&(i=Bt(e,t[5],t[6])),o=!1},d(u){u&&C(e),t[17](null),u&&i&&i.end(),r=!1,l()}}}function ad(t){let e,n,i,o,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=V(a,l[s]);return{c(){e=P("div"),re(e,a)},m(s,u){S(s,e,u),t[16](e),i=!0,o||(r=Be(t[8].action(e)),o=!0)},p(s,u){t=s,re(e,a=me(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){i||(s&&Qe(()=>{i&&(n||(n=qt(e,t[1],t[2],!0)),n.run(1))}),i=!0)},o(s){s&&(n||(n=qt(e,t[1],t[2],!1)),n.run(0)),i=!1},d(s){s&&C(e),t[16](null),s&&n&&n.end(),o=!1,r()}}}function ud(t){let e;const n=t[15].default,i=fe(n,t,t[14],Kr);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&16640)&&de(i,n,o,o[14],e?ce(n,o[14],r,id):pe(o[14]),Kr)},i(o){e||(k(i,o),e=!0)},o(o){I(i,o),e=!1},d(o){i&&i.d(o)}}}function fd(t){let e,n,i,o;const r=[ud,ad,sd,ld,rd,od],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),i=Pe()},m(s,u){~e&&l[e].m(s,u),S(s,i,u),o=!0},p(s,[u]){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Me(),I(l[f],1,1,()=>{l[f]=null}),Ee()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(i.parentNode,i)):n=null)},i(s){o||(k(n),o=!0)},o(s){I(n),o=!1},d(s){s&&C(i),~e&&l[e].d(s)}}}function cd(t,e,n){let i;const o=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","el"];let r=ne(e,o),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:p=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:h=void 0}=e,{outTransitionConfig:_=void 0}=e,{asChild:g=!1}=e,{el:y=void 0}=e;const{elements:{overlay:N},states:{open:M},getAttrs:j}=tn();se(t,N,A=>n(13,l=A)),se(t,M,A=>n(9,a=A));const R=j("overlay");function D(A){Ae[A?"unshift":"push"](()=>{y=A,n(0,y)})}function F(A){Ae[A?"unshift":"push"](()=>{y=A,n(0,y)})}function G(A){Ae[A?"unshift":"push"](()=>{y=A,n(0,y)})}function q(A){Ae[A?"unshift":"push"](()=>{y=A,n(0,y)})}function Z(A){Ae[A?"unshift":"push"](()=>{y=A,n(0,y)})}return t.$$set=A=>{e=V(V({},e),Ne(A)),n(12,r=ne(e,o)),"transition"in A&&n(1,f=A.transition),"transitionConfig"in A&&n(2,c=A.transitionConfig),"inTransition"in A&&n(3,p=A.inTransition),"inTransitionConfig"in A&&n(4,m=A.inTransitionConfig),"outTransition"in A&&n(5,h=A.outTransition),"outTransitionConfig"in A&&n(6,_=A.outTransitionConfig),"asChild"in A&&n(7,g=A.asChild),"el"in A&&n(0,y=A.el),"$$scope"in A&&n(14,u=A.$$scope)},t.$$.update=()=>{t.$$.dirty&8192&&n(8,i=l),t.$$.dirty&256&&Object.assign(i,R)},[y,f,c,p,m,h,_,g,i,a,N,M,r,l,u,s,D,F,G,q,Z]}let dd=class extends _e{constructor(e){super(),he(this,e,cd,fd,le,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,el:0})}};const pd=t=>({builder:t&4}),Ur=t=>({builder:t[2]}),md=t=>({builder:t&4}),Yr=t=>({builder:t[2]});function hd(t){let e,n,i,o;const r=t[8].default,l=fe(r,t,t[7],Ur);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=V(s,a[u]);return{c(){e=P("div"),l&&l.c(),re(e,s)},m(u,f){S(u,e,f),l&&l.m(e,null),t[9](e),n=!0,i||(o=Be(t[2].action(e)),i=!0)},p(u,f){l&&l.p&&(!n||f&132)&&de(l,r,u,u[7],n?ce(r,u[7],f,pd):pe(u[7]),Ur),re(e,s=me(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(k(l,u),n=!0)},o(u){I(l,u),n=!1},d(u){u&&C(e),l&&l.d(u),t[9](null),i=!1,o()}}}function _d(t){let e;const n=t[8].default,i=fe(n,t,t[7],Yr);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&132)&&de(i,n,o,o[7],e?ce(n,o[7],r,md):pe(o[7]),Yr)},i(o){e||(k(i,o),e=!0)},o(o){I(i,o),e=!1},d(o){i&&i.d(o)}}}function gd(t){let e,n,i,o;const r=[_d,hd],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),i=Pe()},m(s,u){l[e].m(s,u),S(s,i,u),o=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),I(l[f],1,1,()=>{l[f]=null}),Ee(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(i.parentNode,i))},i(s){o||(k(n),o=!0)},o(s){I(n),o=!1},d(s){s&&C(i),l[e].d(s)}}}function bd(t,e,n){let i;const o=["asChild","id","el"];let r=ne(e,o),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{description:p},ids:m,getAttrs:h}=tn();se(t,p,y=>n(6,l=y));const _=h("description");function g(y){Ae[y?"unshift":"push"](()=>{c=y,n(0,c)})}return t.$$set=y=>{e=V(V({},e),Ne(y)),n(4,r=ne(e,o)),"asChild"in y&&n(1,u=y.asChild),"id"in y&&n(5,f=y.id),"el"in y&&n(0,c=y.el),"$$scope"in y&&n(7,s=y.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f&&m.description.set(f),t.$$.dirty&64&&n(2,i=l),t.$$.dirty&4&&Object.assign(i,_)},[c,u,i,p,r,f,l,s,a,g]}let vd=class extends _e{constructor(e){super(),he(this,e,bd,gd,le,{asChild:1,id:5,el:0})}};function yd(t,e){const n=[];return e.builders.forEach(i=>{const o=i.action(t);o&&n.push(o)}),{destroy:()=>{n.forEach(i=>{i.destroy&&i.destroy()})}}}function Jr(t){const e={};return t.forEach(n=>{Object.keys(n).forEach(i=>{i!=="action"&&(e[i]=n[i])})}),e}function wd(t){let e=t[1]?"a":"button",n,i,o=(t[1]?"a":"button")&&lo(t);return{c(){o&&o.c(),n=Pe()},m(r,l){o&&o.m(r,l),S(r,n,l),i=!0},p(r,l){r[1],e?le(e,r[1]?"a":"button")?(o.d(1),o=lo(r),e=r[1]?"a":"button",o.c(),o.m(n.parentNode,n)):o.p(r,l):(o=lo(r),e=r[1]?"a":"button",o.c(),o.m(n.parentNode,n))},i(r){i||(k(o,r),i=!0)},o(r){I(o,r),i=!1},d(r){r&&C(n),o&&o.d(r)}}}function kd(t){let e=t[1]?"a":"button",n,i,o=(t[1]?"a":"button")&&so(t);return{c(){o&&o.c(),n=Pe()},m(r,l){o&&o.m(r,l),S(r,n,l),i=!0},p(r,l){r[1],e?le(e,r[1]?"a":"button")?(o.d(1),o=so(r),e=r[1]?"a":"button",o.c(),o.m(n.parentNode,n)):o.p(r,l):(o=so(r),e=r[1]?"a":"button",o.c(),o.m(n.parentNode,n))},i(r){i||(k(o,r),i=!0)},o(r){I(o,r),i=!1},d(r){r&&C(n),o&&o.d(r)}}}function lo(t){let e,n,i,o,r;const l=t[7].default,a=fe(l,t,t[6],null);let s=[{type:n=t[1]?void 0:t[2]},{href:t[1]},{tabindex:"0"},t[5],t[4]],u={};for(let f=0;f<s.length;f+=1)u=V(u,s[f]);return{c(){e=P(t[1]?"a":"button"),a&&a.c(),Ft(t[1]?"a":"button")(e,u)},m(f,c){S(f,e,c),a&&a.m(e,null),i=!0,o||(r=[K(e,"click",t[14]),K(e,"change",t[15]),K(e,"keydown",t[16]),K(e,"keyup",t[17]),K(e,"mouseenter",t[18]),K(e,"mouseleave",t[19])],o=!0)},p(f,c){a&&a.p&&(!i||c&64)&&de(a,l,f,f[6],i?ce(l,f[6],c,null):pe(f[6]),null),Ft(f[1]?"a":"button")(e,u=me(s,[(!i||c&6&&n!==(n=f[1]?void 0:f[2]))&&{type:n},(!i||c&2)&&{href:f[1]},{tabindex:"0"},c&32&&f[5],f[4]]))},i(f){i||(k(a,f),i=!0)},o(f){I(a,f),i=!1},d(f){f&&C(e),a&&a.d(f),o=!1,Re(r)}}}function so(t){let e,n,i,o,r,l;const a=t[7].default,s=fe(a,t,t[6],null);let u=[{type:n=t[1]?void 0:t[2]},{href:t[1]},{tabindex:"0"},Jr(t[3]),t[5],t[4]],f={};for(let c=0;c<u.length;c+=1)f=V(f,u[c]);return{c(){e=P(t[1]?"a":"button"),s&&s.c(),Ft(t[1]?"a":"button")(e,f)},m(c,p){S(c,e,p),s&&s.m(e,null),t[20](e),o=!0,r||(l=[K(e,"click",t[8]),K(e,"change",t[9]),K(e,"keydown",t[10]),K(e,"keyup",t[11]),K(e,"mouseenter",t[12]),K(e,"mouseleave",t[13]),Be(i=yd.call(null,e,{builders:t[3]}))],r=!0)},p(c,p){s&&s.p&&(!o||p&64)&&de(s,a,c,c[6],o?ce(a,c[6],p,null):pe(c[6]),null),Ft(c[1]?"a":"button")(e,f=me(u,[(!o||p&6&&n!==(n=c[1]?void 0:c[2]))&&{type:n},(!o||p&2)&&{href:c[1]},{tabindex:"0"},p&8&&Jr(c[3]),p&32&&c[5],c[4]])),i&&Mt(i.update)&&p&8&&i.update.call(null,{builders:c[3]})},i(c){o||(k(s,c),o=!0)},o(c){I(s,c),o=!1},d(c){c&&C(e),s&&s.d(c),t[20](null),r=!1,Re(l)}}}function Cd(t){let e,n,i,o;const r=[kd,wd],l=[];function a(s,u){return s[3]&&s[3].length?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),i=Pe()},m(s,u){l[e].m(s,u),S(s,i,u),o=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),I(l[f],1,1,()=>{l[f]=null}),Ee(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(i.parentNode,i))},i(s){o||(k(n),o=!0)},o(s){I(n),o=!1},d(s){s&&C(i),l[e].d(s)}}}function Sd(t,e,n){const i=["href","type","builders","el"];let o=ne(e,i),{$$slots:r={},$$scope:l}=e,{href:a=void 0}=e,{type:s=void 0}=e,{builders:u=[]}=e,{el:f=void 0}=e;const c={"data-button-root":""};function p(q){Q.call(this,t,q)}function m(q){Q.call(this,t,q)}function h(q){Q.call(this,t,q)}function _(q){Q.call(this,t,q)}function g(q){Q.call(this,t,q)}function y(q){Q.call(this,t,q)}function N(q){Q.call(this,t,q)}function M(q){Q.call(this,t,q)}function j(q){Q.call(this,t,q)}function R(q){Q.call(this,t,q)}function D(q){Q.call(this,t,q)}function F(q){Q.call(this,t,q)}function G(q){Ae[q?"unshift":"push"](()=>{f=q,n(0,f)})}return t.$$set=q=>{e=V(V({},e),Ne(q)),n(5,o=ne(e,i)),"href"in q&&n(1,a=q.href),"type"in q&&n(2,s=q.type),"builders"in q&&n(3,u=q.builders),"el"in q&&n(0,f=q.el),"$$scope"in q&&n(6,l=q.$$scope)},[f,a,s,u,c,o,l,r,p,m,h,_,g,y,N,M,j,R,D,F,G]}let Ad=class extends _e{constructor(e){super(),he(this,e,Sd,Cd,le,{href:1,type:2,builders:3,el:0})}};function Id(){return{NAME:"separator",PARTS:["root"]}}function Td(t){const{NAME:e,PARTS:n}=Id(),i=Zi(e,n),o={...ac(xo(t)),getAttrs:i};return{...o,updateOption:Li(o.options)}}const Nd=t=>({builder:t&4}),Xr=t=>({builder:t[2]});function Md(t){let e,n,i,o=[t[2],t[4]],r={};for(let l=0;l<o.length;l+=1)r=V(r,o[l]);return{c(){e=P("div"),re(e,r)},m(l,a){S(l,e,a),t[10](e),n||(i=Be(t[2].action(e)),n=!0)},p(l,a){re(e,r=me(o,[a&4&&l[2],a&16&&l[4]]))},i:ue,o:ue,d(l){l&&C(e),t[10](null),n=!1,i()}}}function Ed(t){let e;const n=t[9].default,i=fe(n,t,t[8],Xr);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&260)&&de(i,n,o,o[8],e?ce(n,o[8],r,Nd):pe(o[8]),Xr)},i(o){e||(k(i,o),e=!0)},o(o){I(i,o),e=!1},d(o){i&&i.d(o)}}}function Pd(t){let e,n,i,o;const r=[Ed,Md],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),i=Pe()},m(s,u){l[e].m(s,u),S(s,i,u),o=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),I(l[f],1,1,()=>{l[f]=null}),Ee(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(i.parentNode,i))},i(s){o||(k(n),o=!0)},o(s){I(n),o=!1},d(s){s&&C(i),l[e].d(s)}}}function Od(t,e,n){let i;const o=["orientation","decorative","asChild","el"];let r=ne(e,o),l,{$$slots:a={},$$scope:s}=e,{orientation:u="horizontal"}=e,{decorative:f=!0}=e,{asChild:c=!1}=e,{el:p=void 0}=e;const{elements:{root:m},updateOption:h,getAttrs:_}=Td({orientation:u,decorative:f});se(t,m,N=>n(7,l=N));const g=_("root");function y(N){Ae[N?"unshift":"push"](()=>{p=N,n(0,p)})}return t.$$set=N=>{e=V(V({},e),Ne(N)),n(4,r=ne(e,o)),"orientation"in N&&n(5,u=N.orientation),"decorative"in N&&n(6,f=N.decorative),"asChild"in N&&n(1,c=N.asChild),"el"in N&&n(0,p=N.el),"$$scope"in N&&n(8,s=N.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&h("orientation",u),t.$$.dirty&64&&h("decorative",f),t.$$.dirty&128&&n(2,i=l),t.$$.dirty&4&&Object.assign(i,g)},[p,c,i,m,r,u,f,l,s,a,y]}let $d=class extends _e{constructor(e){super(),he(this,e,Od,Pd,le,{orientation:5,decorative:6,asChild:1,el:0})}};function ka(){return{NAME:"dialog",PARTS:["close","content","description","overlay","portal","title","trigger"]}}function Ld(t){const{NAME:e,PARTS:n}=ka(),i=Zi(e,n),o={...ya({...xo(t),role:"dialog",forceVisible:!0}),getAttrs:i};return na(e,o),{...o,updateOption:Li(o.options)}}function In(){const{NAME:t}=ka();return ia(t)}const Fd=t=>({ids:t&1}),Zr=t=>({ids:t[0]});function qd(t){let e;const n=t[12].default,i=fe(n,t,t[11],Zr);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,[r]){i&&i.p&&(!e||r&2049)&&de(i,n,o,o[11],e?ce(n,o[11],r,Fd):pe(o[11]),Zr)},i(o){e||(k(i,o),e=!0)},o(o){I(i,o),e=!1},d(o){i&&i.d(o)}}}function Rd(t,e,n){let i,{$$slots:o={},$$scope:r}=e,{preventScroll:l=void 0}=e,{closeOnEscape:a=void 0}=e,{closeOnOutsideClick:s=void 0}=e,{portal:u=void 0}=e,{open:f=void 0}=e,{onOpenChange:c=void 0}=e,{openFocus:p=void 0}=e,{closeFocus:m=void 0}=e,{onOutsideClick:h=void 0}=e;const{states:{open:_},updateOption:g,ids:y}=Ld({closeOnEscape:a,preventScroll:l,closeOnOutsideClick:s,portal:u,forceVisible:!0,defaultOpen:f,openFocus:p,closeFocus:m,onOutsideClick:h,onOpenChange:({next:M})=>(f!==M&&(c==null||c(M),n(2,f=M)),M)}),N=xn([y.content,y.description,y.title],([M,j,R])=>({content:M,description:j,title:R}));return se(t,N,M=>n(0,i=M)),t.$$set=M=>{"preventScroll"in M&&n(3,l=M.preventScroll),"closeOnEscape"in M&&n(4,a=M.closeOnEscape),"closeOnOutsideClick"in M&&n(5,s=M.closeOnOutsideClick),"portal"in M&&n(6,u=M.portal),"open"in M&&n(2,f=M.open),"onOpenChange"in M&&n(7,c=M.onOpenChange),"openFocus"in M&&n(8,p=M.openFocus),"closeFocus"in M&&n(9,m=M.closeFocus),"onOutsideClick"in M&&n(10,h=M.onOutsideClick),"$$scope"in M&&n(11,r=M.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&f!==void 0&&_.set(f),t.$$.dirty&8&&g("preventScroll",l),t.$$.dirty&16&&g("closeOnEscape",a),t.$$.dirty&32&&g("closeOnOutsideClick",s),t.$$.dirty&64&&g("portal",u),t.$$.dirty&256&&g("openFocus",p),t.$$.dirty&512&&g("closeFocus",m),t.$$.dirty&1024&&g("onOutsideClick",h)},[i,N,f,l,a,s,u,c,p,m,h,r,o]}class Dd extends _e{constructor(e){super(),he(this,e,Rd,qd,le,{preventScroll:3,closeOnEscape:4,closeOnOutsideClick:5,portal:6,open:2,onOpenChange:7,openFocus:8,closeFocus:9,onOutsideClick:10})}}const Bd=t=>({builder:t&8}),Qr=t=>({builder:t[3]}),Gd=t=>({builder:t&8}),xr=t=>({builder:t[3]});function jd(t){let e=t[1],n,i,o=t[1]&&ao(t);return{c(){o&&o.c(),n=Pe()},m(r,l){o&&o.m(r,l),S(r,n,l),i=!0},p(r,l){r[1]?e?le(e,r[1])?(o.d(1),o=ao(r),e=r[1],o.c(),o.m(n.parentNode,n)):o.p(r,l):(o=ao(r),e=r[1],o.c(),o.m(n.parentNode,n)):e&&(o.d(1),o=null,e=r[1])},i(r){i||(k(o,r),i=!0)},o(r){I(o,r),i=!1},d(r){r&&C(n),o&&o.d(r)}}}function Hd(t){let e;const n=t[9].default,i=fe(n,t,t[8],xr);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&264)&&de(i,n,o,o[8],e?ce(n,o[8],r,Gd):pe(o[8]),xr)},i(o){e||(k(i,o),e=!0)},o(o){I(i,o),e=!1},d(o){i&&i.d(o)}}}function ao(t){let e,n,i,o;const r=t[9].default,l=fe(r,t,t[8],Qr);let a=[t[3],t[5]],s={};for(let u=0;u<a.length;u+=1)s=V(s,a[u]);return{c(){e=P(t[1]),l&&l.c(),Ft(t[1])(e,s)},m(u,f){S(u,e,f),l&&l.m(e,null),t[10](e),n=!0,i||(o=Be(t[3].action(e)),i=!0)},p(u,f){l&&l.p&&(!n||f&264)&&de(l,r,u,u[8],n?ce(r,u[8],f,Bd):pe(u[8]),Qr),Ft(u[1])(e,s=me(a,[f&8&&u[3],f&32&&u[5]]))},i(u){n||(k(l,u),n=!0)},o(u){I(l,u),n=!1},d(u){u&&C(e),l&&l.d(u),t[10](null),i=!1,o()}}}function Wd(t){let e,n,i,o;const r=[Hd,jd],l=[];function a(s,u){return s[2]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),i=Pe()},m(s,u){l[e].m(s,u),S(s,i,u),o=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),I(l[f],1,1,()=>{l[f]=null}),Ee(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(i.parentNode,i))},i(s){o||(k(n),o=!0)},o(s){I(n),o=!1},d(s){s&&C(i),l[e].d(s)}}}function Vd(t,e,n){let i;const o=["level","asChild","id","el"];let r=ne(e,o),l,{$$slots:a={},$$scope:s}=e,{level:u="h2"}=e,{asChild:f=!1}=e,{id:c=void 0}=e,{el:p=void 0}=e;const{elements:{title:m},ids:h,getAttrs:_}=In();se(t,m,N=>n(7,l=N));const g=_("title");function y(N){Ae[N?"unshift":"push"](()=>{p=N,n(0,p)})}return t.$$set=N=>{e=V(V({},e),Ne(N)),n(5,r=ne(e,o)),"level"in N&&n(1,u=N.level),"asChild"in N&&n(2,f=N.asChild),"id"in N&&n(6,c=N.id),"el"in N&&n(0,p=N.el),"$$scope"in N&&n(8,s=N.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&c&&h.title.set(c),t.$$.dirty&128&&n(3,i=l),t.$$.dirty&8&&Object.assign(i,g)},[p,u,f,i,m,r,c,l,s,a,y]}let Kd=class extends _e{constructor(e){super(),he(this,e,Vd,Wd,le,{level:1,asChild:2,id:6,el:0})}};const Ud=t=>({builder:t&4}),zr=t=>({builder:t[2]}),Yd=t=>({builder:t&4}),el=t=>({builder:t[2]});function Jd(t){let e,n,i,o;const r=t[8].default,l=fe(r,t,t[7],zr);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=V(s,a[u]);return{c(){e=P("button"),l&&l.c(),re(e,s)},m(u,f){S(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[9](e),n=!0,i||(o=[Be(t[2].action(e)),K(e,"m-click",t[4]),K(e,"m-keydown",t[4])],i=!0)},p(u,f){l&&l.p&&(!n||f&132)&&de(l,r,u,u[7],n?ce(r,u[7],f,Ud):pe(u[7]),zr),re(e,s=me(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(k(l,u),n=!0)},o(u){I(l,u),n=!1},d(u){u&&C(e),l&&l.d(u),t[9](null),i=!1,Re(o)}}}function Xd(t){let e;const n=t[8].default,i=fe(n,t,t[7],el);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&132)&&de(i,n,o,o[7],e?ce(n,o[7],r,Yd):pe(o[7]),el)},i(o){e||(k(i,o),e=!0)},o(o){I(i,o),e=!1},d(o){i&&i.d(o)}}}function Zd(t){let e,n,i,o;const r=[Xd,Jd],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),i=Pe()},m(s,u){l[e].m(s,u),S(s,i,u),o=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),I(l[f],1,1,()=>{l[f]=null}),Ee(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(i.parentNode,i))},i(s){o||(k(n),o=!0)},o(s){I(n),o=!1},d(s){s&&C(i),l[e].d(s)}}}function Qd(t,e,n){let i;const o=["asChild","el"];let r=ne(e,o),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:p}=In();se(t,c,g=>n(6,l=g));const m=Qi(),h=p("close");function _(g){Ae[g?"unshift":"push"](()=>{f=g,n(0,f)})}return t.$$set=g=>{e=V(V({},e),Ne(g)),n(5,r=ne(e,o)),"asChild"in g&&n(1,u=g.asChild),"el"in g&&n(0,f=g.el),"$$scope"in g&&n(7,s=g.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,i=l),t.$$.dirty&4&&Object.assign(i,h)},[f,u,i,c,m,r,l,s,a,_]}class xd extends _e{constructor(e){super(),he(this,e,Qd,Zd,le,{asChild:1,el:0})}}const zd=t=>({builder:t&4}),tl=t=>({builder:t[2]}),ep=t=>({builder:t&4}),nl=t=>({builder:t[2]});function tp(t){let e,n,i,o;const r=t[7].default,l=fe(r,t,t[6],tl);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=V(s,a[u]);return{c(){e=P("div"),l&&l.c(),re(e,s)},m(u,f){S(u,e,f),l&&l.m(e,null),t[8](e),n=!0,i||(o=Be(t[2].action(e)),i=!0)},p(u,f){l&&l.p&&(!n||f&68)&&de(l,r,u,u[6],n?ce(r,u[6],f,zd):pe(u[6]),tl),re(e,s=me(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(k(l,u),n=!0)},o(u){I(l,u),n=!1},d(u){u&&C(e),l&&l.d(u),t[8](null),i=!1,o()}}}function np(t){let e;const n=t[7].default,i=fe(n,t,t[6],nl);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&68)&&de(i,n,o,o[6],e?ce(n,o[6],r,ep):pe(o[6]),nl)},i(o){e||(k(i,o),e=!0)},o(o){I(i,o),e=!1},d(o){i&&i.d(o)}}}function ip(t){let e,n,i,o;const r=[np,tp],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),i=Pe()},m(s,u){l[e].m(s,u),S(s,i,u),o=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),I(l[f],1,1,()=>{l[f]=null}),Ee(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(i.parentNode,i))},i(s){o||(k(n),o=!0)},o(s){I(n),o=!1},d(s){s&&C(i),l[e].d(s)}}}function op(t,e,n){let i;const o=["asChild","el"];let r=ne(e,o),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{portalled:c},getAttrs:p}=In();se(t,c,_=>n(5,l=_));const m=p("portal");function h(_){Ae[_?"unshift":"push"](()=>{f=_,n(0,f)})}return t.$$set=_=>{e=V(V({},e),Ne(_)),n(4,r=ne(e,o)),"asChild"in _&&n(1,u=_.asChild),"el"in _&&n(0,f=_.el),"$$scope"in _&&n(6,s=_.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,i=l),t.$$.dirty&4&&Object.assign(i,m)},[f,u,i,c,r,l,s,a,h]}let rp=class extends _e{constructor(e){super(),he(this,e,op,ip,le,{asChild:1,el:0})}};const lp=t=>({builder:t[0]&256}),il=t=>({builder:t[8]}),sp=t=>({builder:t[0]&256}),ol=t=>({builder:t[8]}),ap=t=>({builder:t[0]&256}),rl=t=>({builder:t[8]}),up=t=>({builder:t[0]&256}),ll=t=>({builder:t[8]}),fp=t=>({builder:t[0]&256}),sl=t=>({builder:t[8]}),cp=t=>({builder:t[0]&256}),al=t=>({builder:t[8]});function dp(t){let e,n,i,o;const r=t[16].default,l=fe(r,t,t[15],il);let a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=V(s,a[u]);return{c(){e=P("div"),l&&l.c(),re(e,s)},m(u,f){S(u,e,f),l&&l.m(e,null),t[56](e),n=!0,i||(o=[Be(t[8].action(e)),K(e,"pointerdown",t[45]),K(e,"pointermove",t[46]),K(e,"pointerup",t[47]),K(e,"touchend",t[48]),K(e,"touchstart",t[49]),K(e,"touchcancel",t[50]),K(e,"touchmove",t[51])],i=!0)},p(u,f){l&&l.p&&(!n||f[0]&33024)&&de(l,r,u,u[15],n?ce(r,u[15],f,lp):pe(u[15]),il),re(e,s=me(a,[f[0]&256&&u[8],f[0]&4096&&u[12]]))},i(u){n||(k(l,u),n=!0)},o(u){I(l,u),n=!1},d(u){u&&C(e),l&&l.d(u),t[56](null),i=!1,Re(o)}}}function pp(t){let e,n,i,o,r;const l=t[16].default,a=fe(l,t,t[15],ol);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=V(u,s[f]);return{c(){e=P("div"),a&&a.c(),re(e,u)},m(f,c){S(f,e,c),a&&a.m(e,null),t[55](e),i=!0,o||(r=[Be(t[8].action(e)),K(e,"pointerdown",t[38]),K(e,"pointermove",t[39]),K(e,"pointerup",t[40]),K(e,"touchend",t[41]),K(e,"touchstart",t[42]),K(e,"touchcancel",t[43]),K(e,"touchmove",t[44])],o=!0)},p(f,c){t=f,a&&a.p&&(!i||c[0]&33024)&&de(a,l,t,t[15],i?ce(l,t[15],c,sp):pe(t[15]),ol),re(e,u=me(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){i||(k(a,f),n&&n.end(1),i=!0)},o(f){I(a,f),f&&(n=Bt(e,t[5],t[6])),i=!1},d(f){f&&C(e),a&&a.d(f),t[55](null),f&&n&&n.end(),o=!1,Re(r)}}}function mp(t){let e,n,i,o,r;const l=t[16].default,a=fe(l,t,t[15],rl);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=V(u,s[f]);return{c(){e=P("div"),a&&a.c(),re(e,u)},m(f,c){S(f,e,c),a&&a.m(e,null),t[54](e),i=!0,o||(r=[Be(t[8].action(e)),K(e,"pointerdown",t[31]),K(e,"pointermove",t[32]),K(e,"pointerup",t[33]),K(e,"touchend",t[34]),K(e,"touchstart",t[35]),K(e,"touchcancel",t[36]),K(e,"touchmove",t[37])],o=!0)},p(f,c){t=f,a&&a.p&&(!i||c[0]&33024)&&de(a,l,t,t[15],i?ce(l,t[15],c,ap):pe(t[15]),rl),re(e,u=me(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){i||(k(a,f),f&&(n||Qe(()=>{n=Dt(e,t[3],t[4]),n.start()})),i=!0)},o(f){I(a,f),i=!1},d(f){f&&C(e),a&&a.d(f),t[54](null),o=!1,Re(r)}}}function hp(t){let e,n,i,o,r,l;const a=t[16].default,s=fe(a,t,t[15],ll);let u=[t[8],t[12]],f={};for(let c=0;c<u.length;c+=1)f=V(f,u[c]);return{c(){e=P("div"),s&&s.c(),re(e,f)},m(c,p){S(c,e,p),s&&s.m(e,null),t[53](e),o=!0,r||(l=[Be(t[8].action(e)),K(e,"pointerdown",t[24]),K(e,"pointermove",t[25]),K(e,"pointerup",t[26]),K(e,"touchend",t[27]),K(e,"touchstart",t[28]),K(e,"touchcancel",t[29]),K(e,"touchmove",t[30])],r=!0)},p(c,p){t=c,s&&s.p&&(!o||p[0]&33024)&&de(s,a,t,t[15],o?ce(a,t[15],p,up):pe(t[15]),ll),re(e,f=me(u,[p[0]&256&&t[8],p[0]&4096&&t[12]]))},i(c){o||(k(s,c),c&&Qe(()=>{o&&(i&&i.end(1),n=Dt(e,t[3],t[4]),n.start())}),o=!0)},o(c){I(s,c),n&&n.invalidate(),c&&(i=Bt(e,t[5],t[6])),o=!1},d(c){c&&C(e),s&&s.d(c),t[53](null),c&&i&&i.end(),r=!1,Re(l)}}}function _p(t){let e,n,i,o,r;const l=t[16].default,a=fe(l,t,t[15],sl);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=V(u,s[f]);return{c(){e=P("div"),a&&a.c(),re(e,u)},m(f,c){S(f,e,c),a&&a.m(e,null),t[52](e),i=!0,o||(r=[Be(t[8].action(e)),K(e,"pointerdown",t[17]),K(e,"pointermove",t[18]),K(e,"pointerup",t[19]),K(e,"touchend",t[20]),K(e,"touchstart",t[21]),K(e,"touchcancel",t[22]),K(e,"touchmove",t[23])],o=!0)},p(f,c){t=f,a&&a.p&&(!i||c[0]&33024)&&de(a,l,t,t[15],i?ce(l,t[15],c,fp):pe(t[15]),sl),re(e,u=me(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){i||(k(a,f),f&&Qe(()=>{i&&(n||(n=qt(e,t[1],t[2],!0)),n.run(1))}),i=!0)},o(f){I(a,f),f&&(n||(n=qt(e,t[1],t[2],!1)),n.run(0)),i=!1},d(f){f&&C(e),a&&a.d(f),t[52](null),f&&n&&n.end(),o=!1,Re(r)}}}function gp(t){let e;const n=t[16].default,i=fe(n,t,t[15],al);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r[0]&33024)&&de(i,n,o,o[15],e?ce(n,o[15],r,cp):pe(o[15]),al)},i(o){e||(k(i,o),e=!0)},o(o){I(i,o),e=!1},d(o){i&&i.d(o)}}}function bp(t){let e,n,i,o;const r=[gp,_p,hp,mp,pp,dp],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),i=Pe()},m(s,u){~e&&l[e].m(s,u),S(s,i,u),o=!0},p(s,u){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Me(),I(l[f],1,1,()=>{l[f]=null}),Ee()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(i.parentNode,i)):n=null)},i(s){o||(k(n),o=!0)},o(s){I(n),o=!1},d(s){s&&C(i),~e&&l[e].d(s)}}}function vp(t,e,n){let i;const o=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","id","el"];let r=ne(e,o),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:p=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:h=void 0}=e,{outTransitionConfig:_=void 0}=e,{asChild:g=!1}=e,{id:y=void 0}=e,{el:N=void 0}=e;const{elements:{content:M},states:{open:j},ids:R,getAttrs:D}=In();se(t,M,E=>n(14,l=E)),se(t,j,E=>n(9,a=E));const F=D("content");function G(E){Q.call(this,t,E)}function q(E){Q.call(this,t,E)}function Z(E){Q.call(this,t,E)}function A(E){Q.call(this,t,E)}function d(E){Q.call(this,t,E)}function v(E){Q.call(this,t,E)}function b(E){Q.call(this,t,E)}function $(E){Q.call(this,t,E)}function T(E){Q.call(this,t,E)}function L(E){Q.call(this,t,E)}function W(E){Q.call(this,t,E)}function U(E){Q.call(this,t,E)}function ie(E){Q.call(this,t,E)}function x(E){Q.call(this,t,E)}function te(E){Q.call(this,t,E)}function ve(E){Q.call(this,t,E)}function ye(E){Q.call(this,t,E)}function oe(E){Q.call(this,t,E)}function Te(E){Q.call(this,t,E)}function Ce(E){Q.call(this,t,E)}function Se(E){Q.call(this,t,E)}function Le(E){Q.call(this,t,E)}function be(E){Q.call(this,t,E)}function qe(E){Q.call(this,t,E)}function ee(E){Q.call(this,t,E)}function Oe(E){Q.call(this,t,E)}function Ke(E){Q.call(this,t,E)}function Ze(E){Q.call(this,t,E)}function tt(E){Q.call(this,t,E)}function Ue(E){Q.call(this,t,E)}function De(E){Q.call(this,t,E)}function ut(E){Q.call(this,t,E)}function ct(E){Q.call(this,t,E)}function xe(E){Q.call(this,t,E)}function ze(E){Q.call(this,t,E)}function He(E){Ae[E?"unshift":"push"](()=>{N=E,n(0,N)})}function Ge(E){Ae[E?"unshift":"push"](()=>{N=E,n(0,N)})}function we(E){Ae[E?"unshift":"push"](()=>{N=E,n(0,N)})}function z(E){Ae[E?"unshift":"push"](()=>{N=E,n(0,N)})}function je(E){Ae[E?"unshift":"push"](()=>{N=E,n(0,N)})}return t.$$set=E=>{e=V(V({},e),Ne(E)),n(12,r=ne(e,o)),"transition"in E&&n(1,f=E.transition),"transitionConfig"in E&&n(2,c=E.transitionConfig),"inTransition"in E&&n(3,p=E.inTransition),"inTransitionConfig"in E&&n(4,m=E.inTransitionConfig),"outTransition"in E&&n(5,h=E.outTransition),"outTransitionConfig"in E&&n(6,_=E.outTransitionConfig),"asChild"in E&&n(7,g=E.asChild),"id"in E&&n(13,y=E.id),"el"in E&&n(0,N=E.el),"$$scope"in E&&n(15,u=E.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&8192&&y&&R.content.set(y),t.$$.dirty[0]&16384&&n(8,i=l),t.$$.dirty[0]&256&&Object.assign(i,F)},[N,f,c,p,m,h,_,g,i,a,M,j,r,y,l,u,s,G,q,Z,A,d,v,b,$,T,L,W,U,ie,x,te,ve,ye,oe,Te,Ce,Se,Le,be,qe,ee,Oe,Ke,Ze,tt,Ue,De,ut,ct,xe,ze,He,Ge,we,z,je]}let yp=class extends _e{constructor(e){super(),he(this,e,vp,bp,le,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,id:13,el:0},null,[-1,-1])}};const wp=t=>({builder:t&256}),ul=t=>({builder:t[8]});function kp(t){let e,n,i,o=[t[8],t[12]],r={};for(let l=0;l<o.length;l+=1)r=V(r,o[l]);return{c(){e=P("div"),re(e,r)},m(l,a){S(l,e,a),t[25](e),n||(i=[Be(t[8].action(e)),K(e,"mouseup",t[20])],n=!0)},p(l,a){re(e,r=me(o,[a&256&&l[8],a&4096&&l[12]]))},i:ue,o:ue,d(l){l&&C(e),t[25](null),n=!1,Re(i)}}}function Cp(t){let e,n,i,o,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=V(a,l[s]);return{c(){e=P("div"),re(e,a)},m(s,u){S(s,e,u),t[24](e),i=!0,o||(r=[Be(t[8].action(e)),K(e,"mouseup",t[19])],o=!0)},p(s,u){t=s,re(e,a=me(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){i||(n&&n.end(1),i=!0)},o(s){s&&(n=Bt(e,t[5],t[6])),i=!1},d(s){s&&C(e),t[24](null),s&&n&&n.end(),o=!1,Re(r)}}}function Sp(t){let e,n,i,o,r=[t[8],t[12]],l={};for(let a=0;a<r.length;a+=1)l=V(l,r[a]);return{c(){e=P("div"),re(e,l)},m(a,s){S(a,e,s),t[23](e),i||(o=[Be(t[8].action(e)),K(e,"mouseup",t[18])],i=!0)},p(a,s){t=a,re(e,l=me(r,[s&256&&t[8],s&4096&&t[12]]))},i(a){a&&(n||Qe(()=>{n=Dt(e,t[3],t[4]),n.start()}))},o:ue,d(a){a&&C(e),t[23](null),i=!1,Re(o)}}}function Ap(t){let e,n,i,o,r,l,a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=V(s,a[u]);return{c(){e=P("div"),re(e,s)},m(u,f){S(u,e,f),t[22](e),o=!0,r||(l=[Be(t[8].action(e)),K(e,"mouseup",t[17])],r=!0)},p(u,f){t=u,re(e,s=me(a,[f&256&&t[8],f&4096&&t[12]]))},i(u){o||(u&&Qe(()=>{o&&(i&&i.end(1),n=Dt(e,t[3],t[4]),n.start())}),o=!0)},o(u){n&&n.invalidate(),u&&(i=Bt(e,t[5],t[6])),o=!1},d(u){u&&C(e),t[22](null),u&&i&&i.end(),r=!1,Re(l)}}}function Ip(t){let e,n,i,o,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=V(a,l[s]);return{c(){e=P("div"),re(e,a)},m(s,u){S(s,e,u),t[21](e),i=!0,o||(r=[K(e,"mouseup",t[16]),Be(t[8].action(e))],o=!0)},p(s,u){t=s,re(e,a=me(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){i||(s&&Qe(()=>{i&&(n||(n=qt(e,t[1],t[2],!0)),n.run(1))}),i=!0)},o(s){s&&(n||(n=qt(e,t[1],t[2],!1)),n.run(0)),i=!1},d(s){s&&C(e),t[21](null),s&&n&&n.end(),o=!1,Re(r)}}}function Tp(t){let e;const n=t[15].default,i=fe(n,t,t[14],ul);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&16640)&&de(i,n,o,o[14],e?ce(n,o[14],r,wp):pe(o[14]),ul)},i(o){e||(k(i,o),e=!0)},o(o){I(i,o),e=!1},d(o){i&&i.d(o)}}}function Np(t){let e,n,i,o;const r=[Tp,Ip,Ap,Sp,Cp,kp],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),i=Pe()},m(s,u){~e&&l[e].m(s,u),S(s,i,u),o=!0},p(s,[u]){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Me(),I(l[f],1,1,()=>{l[f]=null}),Ee()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(i.parentNode,i)):n=null)},i(s){o||(k(n),o=!0)},o(s){I(n),o=!1},d(s){s&&C(i),~e&&l[e].d(s)}}}function Mp(t,e,n){let i;const o=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","el"];let r=ne(e,o),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:p=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:h=void 0}=e,{outTransitionConfig:_=void 0}=e,{asChild:g=!1}=e,{el:y=void 0}=e;const{elements:{overlay:N},states:{open:M},getAttrs:j}=In();se(t,N,T=>n(13,l=T)),se(t,M,T=>n(9,a=T));const R=j("overlay");function D(T){Q.call(this,t,T)}function F(T){Q.call(this,t,T)}function G(T){Q.call(this,t,T)}function q(T){Q.call(this,t,T)}function Z(T){Q.call(this,t,T)}function A(T){Ae[T?"unshift":"push"](()=>{y=T,n(0,y)})}function d(T){Ae[T?"unshift":"push"](()=>{y=T,n(0,y)})}function v(T){Ae[T?"unshift":"push"](()=>{y=T,n(0,y)})}function b(T){Ae[T?"unshift":"push"](()=>{y=T,n(0,y)})}function $(T){Ae[T?"unshift":"push"](()=>{y=T,n(0,y)})}return t.$$set=T=>{e=V(V({},e),Ne(T)),n(12,r=ne(e,o)),"transition"in T&&n(1,f=T.transition),"transitionConfig"in T&&n(2,c=T.transitionConfig),"inTransition"in T&&n(3,p=T.inTransition),"inTransitionConfig"in T&&n(4,m=T.inTransitionConfig),"outTransition"in T&&n(5,h=T.outTransition),"outTransitionConfig"in T&&n(6,_=T.outTransitionConfig),"asChild"in T&&n(7,g=T.asChild),"el"in T&&n(0,y=T.el),"$$scope"in T&&n(14,u=T.$$scope)},t.$$.update=()=>{t.$$.dirty&8192&&n(8,i=l),t.$$.dirty&256&&Object.assign(i,R)},[y,f,c,p,m,h,_,g,i,a,N,M,r,l,u,s,D,F,G,q,Z,A,d,v,b,$]}let Ep=class extends _e{constructor(e){super(),he(this,e,Mp,Np,le,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,el:0})}};const Pp=t=>({builder:t&4}),fl=t=>({builder:t[2]}),Op=t=>({builder:t&4}),cl=t=>({builder:t[2]});function $p(t){let e,n,i,o;const r=t[8].default,l=fe(r,t,t[7],fl);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=V(s,a[u]);return{c(){e=P("div"),l&&l.c(),re(e,s)},m(u,f){S(u,e,f),l&&l.m(e,null),t[9](e),n=!0,i||(o=Be(t[2].action(e)),i=!0)},p(u,f){l&&l.p&&(!n||f&132)&&de(l,r,u,u[7],n?ce(r,u[7],f,Pp):pe(u[7]),fl),re(e,s=me(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(k(l,u),n=!0)},o(u){I(l,u),n=!1},d(u){u&&C(e),l&&l.d(u),t[9](null),i=!1,o()}}}function Lp(t){let e;const n=t[8].default,i=fe(n,t,t[7],cl);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&132)&&de(i,n,o,o[7],e?ce(n,o[7],r,Op):pe(o[7]),cl)},i(o){e||(k(i,o),e=!0)},o(o){I(i,o),e=!1},d(o){i&&i.d(o)}}}function Fp(t){let e,n,i,o;const r=[Lp,$p],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),i=Pe()},m(s,u){l[e].m(s,u),S(s,i,u),o=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),I(l[f],1,1,()=>{l[f]=null}),Ee(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(i.parentNode,i))},i(s){o||(k(n),o=!0)},o(s){I(n),o=!1},d(s){s&&C(i),l[e].d(s)}}}function qp(t,e,n){let i;const o=["asChild","id","el"];let r=ne(e,o),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{description:p},ids:m,getAttrs:h}=In();se(t,p,y=>n(6,l=y));const _=h("description");function g(y){Ae[y?"unshift":"push"](()=>{c=y,n(0,c)})}return t.$$set=y=>{e=V(V({},e),Ne(y)),n(4,r=ne(e,o)),"asChild"in y&&n(1,u=y.asChild),"id"in y&&n(5,f=y.id),"el"in y&&n(0,c=y.el),"$$scope"in y&&n(7,s=y.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f&&m.description.set(f),t.$$.dirty&64&&n(2,i=l),t.$$.dirty&4&&Object.assign(i,_)},[c,u,i,p,r,f,l,s,a,g]}let Rp=class extends _e{constructor(e){super(),he(this,e,qp,Fp,le,{asChild:1,id:5,el:0})}};function Dp(){const t="label",n=Zi(t,["root"]);return{NAME:t,getAttrs:n}}const Bp=t=>({builder:t&4}),dl=t=>({builder:t[2]}),Gp=t=>({builder:t&4}),pl=t=>({builder:t[2]});function jp(t){let e,n,i,o;const r=t[8].default,l=fe(r,t,t[7],dl);let a=[t[2],t[5]],s={};for(let u=0;u<a.length;u+=1)s=V(s,a[u]);return{c(){e=P("label"),l&&l.c(),re(e,s)},m(u,f){S(u,e,f),l&&l.m(e,null),t[9](e),n=!0,i||(o=[Be(t[2].action(e)),K(e,"m-mousedown",t[4])],i=!0)},p(u,f){l&&l.p&&(!n||f&132)&&de(l,r,u,u[7],n?ce(r,u[7],f,Bp):pe(u[7]),dl),re(e,s=me(a,[f&4&&u[2],f&32&&u[5]]))},i(u){n||(k(l,u),n=!0)},o(u){I(l,u),n=!1},d(u){u&&C(e),l&&l.d(u),t[9](null),i=!1,Re(o)}}}function Hp(t){let e;const n=t[8].default,i=fe(n,t,t[7],pl);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&132)&&de(i,n,o,o[7],e?ce(n,o[7],r,Gp):pe(o[7]),pl)},i(o){e||(k(i,o),e=!0)},o(o){I(i,o),e=!1},d(o){i&&i.d(o)}}}function Wp(t){let e,n,i,o;const r=[Hp,jp],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),i=Pe()},m(s,u){l[e].m(s,u),S(s,i,u),o=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),I(l[f],1,1,()=>{l[f]=null}),Ee(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(i.parentNode,i))},i(s){o||(k(n),o=!0)},o(s){I(n),o=!1},d(s){s&&C(i),l[e].d(s)}}}function Vp(t,e,n){let i;const o=["asChild","el"];let r=ne(e,o),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{root:c}}=ic();se(t,c,g=>n(6,l=g));const p=Qi(),{getAttrs:m}=Dp(),h=m("root");function _(g){Ae[g?"unshift":"push"](()=>{f=g,n(0,f)})}return t.$$set=g=>{e=V(V({},e),Ne(g)),n(5,r=ne(e,o)),"asChild"in g&&n(1,u=g.asChild),"el"in g&&n(0,f=g.el),"$$scope"in g&&n(7,s=g.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,i=l),t.$$.dirty&4&&Object.assign(i,h)},[f,u,i,c,p,r,l,s,a,_]}let Kp=class extends _e{constructor(e){super(),he(this,e,Vp,Wp,le,{asChild:1,el:0})}};function Ca(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(e=0;e<o;e++)t[e]&&(n=Ca(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function Up(){for(var t,e,n=0,i="",o=arguments.length;n<o;n++)(t=arguments[n])&&(e=Ca(t))&&(i&&(i+=" "),i+=e);return i}const zo="-";function Yp(t){const e=Xp(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=t;function o(l){const a=l.split(zo);return a[0]===""&&a.length!==1&&a.shift(),Sa(a,e)||Jp(l)}function r(l,a){const s=n[l]||[];return a&&i[l]?[...s,...i[l]]:s}return{getClassGroupId:o,getConflictingClassGroupIds:r}}function Sa(t,e){var l;if(t.length===0)return e.classGroupId;const n=t[0],i=e.nextPart.get(n),o=i?Sa(t.slice(1),i):void 0;if(o)return o;if(e.validators.length===0)return;const r=t.join(zo);return(l=e.validators.find(({validator:a})=>a(r)))==null?void 0:l.classGroupId}const ml=/^\[(.+)\]$/;function Jp(t){if(ml.test(t)){const e=ml.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function Xp(t){const{theme:e,prefix:n}=t,i={nextPart:new Map,validators:[]};return Qp(Object.entries(t.classGroups),n).forEach(([r,l])=>{So(l,i,r,e)}),i}function So(t,e,n,i){t.forEach(o=>{if(typeof o=="string"){const r=o===""?e:hl(e,o);r.classGroupId=n;return}if(typeof o=="function"){if(Zp(o)){So(o(i),e,n,i);return}e.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([r,l])=>{So(l,hl(e,r),n,i)})})}function hl(t,e){let n=t;return e.split(zo).forEach(i=>{n.nextPart.has(i)||n.nextPart.set(i,{nextPart:new Map,validators:[]}),n=n.nextPart.get(i)}),n}function Zp(t){return t.isThemeGetter}function Qp(t,e){return e?t.map(([n,i])=>{const o=i.map(r=>typeof r=="string"?e+r:typeof r=="object"?Object.fromEntries(Object.entries(r).map(([l,a])=>[e+l,a])):r);return[n,o]}):t}function xp(t){if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,i=new Map;function o(r,l){n.set(r,l),e++,e>t&&(e=0,i=n,n=new Map)}return{get(r){let l=n.get(r);if(l!==void 0)return l;if((l=i.get(r))!==void 0)return o(r,l),l},set(r,l){n.has(r)?n.set(r,l):o(r,l)}}}const Aa="!";function zp(t){const e=t.separator,n=e.length===1,i=e[0],o=e.length;return function(l){const a=[];let s=0,u=0,f;for(let _=0;_<l.length;_++){let g=l[_];if(s===0){if(g===i&&(n||l.slice(_,_+o)===e)){a.push(l.slice(u,_)),u=_+o;continue}if(g==="/"){f=_;continue}}g==="["?s++:g==="]"&&s--}const c=a.length===0?l:l.substring(u),p=c.startsWith(Aa),m=p?c.substring(1):c,h=f&&f>u?f-u:void 0;return{modifiers:a,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:h}}}function em(t){if(t.length<=1)return t;const e=[];let n=[];return t.forEach(i=>{i[0]==="["?(e.push(...n.sort(),i),n=[]):n.push(i)}),e.push(...n.sort()),e}function tm(t){return{cache:xp(t.cacheSize),splitModifiers:zp(t),...Yp(t)}}const nm=/\s+/;function im(t,e){const{splitModifiers:n,getClassGroupId:i,getConflictingClassGroupIds:o}=e,r=new Set;return t.trim().split(nm).map(l=>{const{modifiers:a,hasImportantModifier:s,baseClassName:u,maybePostfixModifierPosition:f}=n(l);let c=i(f?u.substring(0,f):u),p=!!f;if(!c){if(!f)return{isTailwindClass:!1,originalClassName:l};if(c=i(u),!c)return{isTailwindClass:!1,originalClassName:l};p=!1}const m=em(a).join(":");return{isTailwindClass:!0,modifierId:s?m+Aa:m,classGroupId:c,originalClassName:l,hasPostfixModifier:p}}).reverse().filter(l=>{if(!l.isTailwindClass)return!0;const{modifierId:a,classGroupId:s,hasPostfixModifier:u}=l,f=a+s;return r.has(f)?!1:(r.add(f),o(s,u).forEach(c=>r.add(a+c)),!0)}).reverse().map(l=>l.originalClassName).join(" ")}function om(){let t=0,e,n,i="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Ia(e))&&(i&&(i+=" "),i+=n);return i}function Ia(t){if(typeof t=="string")return t;let e,n="";for(let i=0;i<t.length;i++)t[i]&&(e=Ia(t[i]))&&(n&&(n+=" "),n+=e);return n}function Ao(t,...e){let n,i,o,r=l;function l(s){const u=e.reduce((f,c)=>c(f),t());return n=tm(u),i=n.cache.get,o=n.cache.set,r=a,a(s)}function a(s){const u=i(s);if(u)return u;const f=im(s,n);return o(s,f),f}return function(){return r(om.apply(null,arguments))}}function We(t){const e=n=>n[t]||[];return e.isThemeGetter=!0,e}const Ta=/^\[(?:([a-z-]+):)?(.+)\]$/i,rm=/^\d+\/\d+$/,lm=new Set(["px","full","screen"]),sm=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,am=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,um=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,fm=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,cm=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function wt(t){return Kt(t)||lm.has(t)||rm.test(t)}function Pt(t){return Tn(t,"length",vm)}function Kt(t){return!!t&&!Number.isNaN(Number(t))}function si(t){return Tn(t,"number",Kt)}function Pn(t){return!!t&&Number.isInteger(Number(t))}function dm(t){return t.endsWith("%")&&Kt(t.slice(0,-1))}function Ie(t){return Ta.test(t)}function Ot(t){return sm.test(t)}const pm=new Set(["length","size","percentage"]);function mm(t){return Tn(t,pm,Na)}function hm(t){return Tn(t,"position",Na)}const _m=new Set(["image","url"]);function gm(t){return Tn(t,_m,wm)}function bm(t){return Tn(t,"",ym)}function On(){return!0}function Tn(t,e,n){const i=Ta.exec(t);return i?i[1]?typeof e=="string"?i[1]===e:e.has(i[1]):n(i[2]):!1}function vm(t){return am.test(t)&&!um.test(t)}function Na(){return!1}function ym(t){return fm.test(t)}function wm(t){return cm.test(t)}function Io(){const t=We("colors"),e=We("spacing"),n=We("blur"),i=We("brightness"),o=We("borderColor"),r=We("borderRadius"),l=We("borderSpacing"),a=We("borderWidth"),s=We("contrast"),u=We("grayscale"),f=We("hueRotate"),c=We("invert"),p=We("gap"),m=We("gradientColorStops"),h=We("gradientColorStopPositions"),_=We("inset"),g=We("margin"),y=We("opacity"),N=We("padding"),M=We("saturate"),j=We("scale"),R=We("sepia"),D=We("skew"),F=We("space"),G=We("translate"),q=()=>["auto","contain","none"],Z=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto",Ie,e],d=()=>[Ie,e],v=()=>["",wt,Pt],b=()=>["auto",Kt,Ie],$=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],T=()=>["solid","dashed","dotted","double","none"],L=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"],W=()=>["start","end","center","between","around","evenly","stretch"],U=()=>["","0",Ie],ie=()=>["auto","avoid","all","avoid-page","page","left","right","column"],x=()=>[Kt,si],te=()=>[Kt,Ie];return{cacheSize:500,separator:":",theme:{colors:[On],spacing:[wt,Pt],blur:["none","",Ot,Ie],brightness:x(),borderColor:[t],borderRadius:["none","","full",Ot,Ie],borderSpacing:d(),borderWidth:v(),contrast:x(),grayscale:U(),hueRotate:te(),invert:U(),gap:d(),gradientColorStops:[t],gradientColorStopPositions:[dm,Pt],inset:A(),margin:A(),opacity:x(),padding:d(),saturate:x(),scale:x(),sepia:U(),skew:te(),space:d(),translate:d()},classGroups:{aspect:[{aspect:["auto","square","video",Ie]}],container:["container"],columns:[{columns:[Ot]}],"break-after":[{"break-after":ie()}],"break-before":[{"break-before":ie()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...$(),Ie]}],overflow:[{overflow:Z()}],"overflow-x":[{"overflow-x":Z()}],"overflow-y":[{"overflow-y":Z()}],overscroll:[{overscroll:q()}],"overscroll-x":[{"overscroll-x":q()}],"overscroll-y":[{"overscroll-y":q()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Pn,Ie]}],basis:[{basis:A()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ie]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",Pn,Ie]}],"grid-cols":[{"grid-cols":[On]}],"col-start-end":[{col:["auto",{span:["full",Pn,Ie]},Ie]}],"col-start":[{"col-start":b()}],"col-end":[{"col-end":b()}],"grid-rows":[{"grid-rows":[On]}],"row-start-end":[{row:["auto",{span:[Pn,Ie]},Ie]}],"row-start":[{"row-start":b()}],"row-end":[{"row-end":b()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ie]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ie]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...W()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...W(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...W(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[N]}],px:[{px:[N]}],py:[{py:[N]}],ps:[{ps:[N]}],pe:[{pe:[N]}],pt:[{pt:[N]}],pr:[{pr:[N]}],pb:[{pb:[N]}],pl:[{pl:[N]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[F]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[F]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ie,e]}],"min-w":[{"min-w":[Ie,e,"min","max","fit"]}],"max-w":[{"max-w":[Ie,e,"none","full","min","max","fit","prose",{screen:[Ot]},Ot]}],h:[{h:[Ie,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ie,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ie,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ie,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ot,Pt]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",si]}],"font-family":[{font:[On]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ie]}],"line-clamp":[{"line-clamp":["none",Kt,si]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",wt,Ie]}],"list-image":[{"list-image":["none",Ie]}],"list-style-type":[{list:["none","disc","decimal",Ie]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...T(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",wt,Pt]}],"underline-offset":[{"underline-offset":["auto",wt,Ie]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:d()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ie]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ie]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...$(),hm]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",mm]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},gm]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[h]}],"gradient-via-pos":[{via:[h]}],"gradient-to-pos":[{to:[h]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[r]}],"rounded-s":[{"rounded-s":[r]}],"rounded-e":[{"rounded-e":[r]}],"rounded-t":[{"rounded-t":[r]}],"rounded-r":[{"rounded-r":[r]}],"rounded-b":[{"rounded-b":[r]}],"rounded-l":[{"rounded-l":[r]}],"rounded-ss":[{"rounded-ss":[r]}],"rounded-se":[{"rounded-se":[r]}],"rounded-ee":[{"rounded-ee":[r]}],"rounded-es":[{"rounded-es":[r]}],"rounded-tl":[{"rounded-tl":[r]}],"rounded-tr":[{"rounded-tr":[r]}],"rounded-br":[{"rounded-br":[r]}],"rounded-bl":[{"rounded-bl":[r]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...T(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:T()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...T()]}],"outline-offset":[{"outline-offset":[wt,Ie]}],"outline-w":[{outline:[wt,Pt]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:v()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[wt,Pt]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ot,bm]}],"shadow-color":[{shadow:[On]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":L()}],"bg-blend":[{"bg-blend":L()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[i]}],contrast:[{contrast:[s]}],"drop-shadow":[{"drop-shadow":["","none",Ot,Ie]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[c]}],saturate:[{saturate:[M]}],sepia:[{sepia:[R]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[i]}],"backdrop-contrast":[{"backdrop-contrast":[s]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[c]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[M]}],"backdrop-sepia":[{"backdrop-sepia":[R]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ie]}],duration:[{duration:te()}],ease:[{ease:["linear","in","out","in-out",Ie]}],delay:[{delay:te()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ie]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[Pn,Ie]}],"translate-x":[{"translate-x":[G]}],"translate-y":[{"translate-y":[G]}],"skew-x":[{"skew-x":[D]}],"skew-y":[{"skew-y":[D]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ie]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ie]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":d()}],"scroll-mx":[{"scroll-mx":d()}],"scroll-my":[{"scroll-my":d()}],"scroll-ms":[{"scroll-ms":d()}],"scroll-me":[{"scroll-me":d()}],"scroll-mt":[{"scroll-mt":d()}],"scroll-mr":[{"scroll-mr":d()}],"scroll-mb":[{"scroll-mb":d()}],"scroll-ml":[{"scroll-ml":d()}],"scroll-p":[{"scroll-p":d()}],"scroll-px":[{"scroll-px":d()}],"scroll-py":[{"scroll-py":d()}],"scroll-ps":[{"scroll-ps":d()}],"scroll-pe":[{"scroll-pe":d()}],"scroll-pt":[{"scroll-pt":d()}],"scroll-pr":[{"scroll-pr":d()}],"scroll-pb":[{"scroll-pb":d()}],"scroll-pl":[{"scroll-pl":d()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ie]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[wt,Pt,si]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}function km(t,{cacheSize:e,prefix:n,separator:i,extend:o={},override:r={}}){hi(t,"cacheSize",e),hi(t,"prefix",n),hi(t,"separator",i);for(const l in r)Cm(t[l],r[l]);for(const l in o)Sm(t[l],o[l]);return t}function hi(t,e,n){n!==void 0&&(t[e]=n)}function Cm(t,e){if(e)for(const n in e)hi(t,n,e[n])}function Sm(t,e){if(e)for(const n in e){const i=e[n];i!==void 0&&(t[n]=(t[n]||[]).concat(i))}}function Am(t,...e){return typeof t=="function"?Ao(Io,t,...e):Ao(()=>km(Io(),t),...e)}const Ma=Ao(Io);function Im(t){const e=t-1;return e*e*e+1}function $e(...t){return Ma(Up(t))}const er=(t,e={y:-8,x:0,start:.95,duration:150})=>{const n=getComputedStyle(t),i=n.transform==="none"?"":n.transform,o=(l,a,s)=>{const[u,f]=a,[c,p]=s;return(l-u)/(f-u)*(p-c)+c},r=l=>Object.keys(l).reduce((a,s)=>l[s]===void 0?a:a+`${s}:${l[s]};`,"");return{duration:e.duration??200,delay:0,css:l=>{const a=o(l,[0,1],[e.y??5,0]),s=o(l,[0,1],[e.x??0,0]),u=o(l,[0,1],[e.start??.95,1]);return r({transform:`${i} translate3d(${s}px, ${a}px, 0) scale(${u})`,opacity:l})},easing:Im}};function dt(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function Tm(t){let e;const n=t[2].default,i=fe(n,t,t[3],null);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&8)&&de(i,n,o,o[3],e?ce(n,o[3],r,null):pe(o[3]),null)},i(o){e||(k(i,o),e=!0)},o(o){I(i,o),e=!1},d(o){i&&i.d(o)}}}function Nm(t){let e,n;const i=[{class:$e("text-lg font-semibold leading-none tracking-tight",t[0])},t[1]];let o={$$slots:{default:[Tm]},$$scope:{ctx:t}};for(let r=0;r<i.length;r+=1)o=V(o,i[r]);return e=new Kd({props:o}),{c(){X(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&3?me(i,[l&1&&{class:$e("text-lg font-semibold leading-none tracking-tight",r[0])},l&2&&nt(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){I(e.$$.fragment,r),n=!1},d(r){J(e,r)}}}function Mm(t,e,n){const i=["class"];let o=ne(e,i),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=V(V({},e),Ne(s)),n(1,o=ne(e,i)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,l=s.$$scope)},[a,o,r,l]}class nn extends _e{constructor(e){super(),he(this,e,Mm,Nm,le,{class:0})}}function Em(t){let e;const n=t[1].default,i=fe(n,t,t[2],null);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&4)&&de(i,n,o,o[2],e?ce(n,o[2],r,null):pe(o[2]),null)},i(o){e||(k(i,o),e=!0)},o(o){I(i,o),e=!1},d(o){i&&i.d(o)}}}function Pm(t){let e,n;const i=[t[0]];let o={$$slots:{default:[Em]},$$scope:{ctx:t}};for(let r=0;r<i.length;r+=1)o=V(o,i[r]);return e=new rp({props:o}),{c(){X(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&1?me(i,[nt(r[0])]):{};l&4&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){I(e.$$.fragment,r),n=!1},d(r){J(e,r)}}}function Om(t,e,n){const i=[];let o=ne(e,i),{$$slots:r={},$$scope:l}=e;return t.$$set=a=>{e=V(V({},e),Ne(a)),n(0,o=ne(e,i)),"$$scope"in a&&n(2,l=a.$$scope)},[o,r,l]}class $m extends _e{constructor(e){super(),he(this,e,Om,Pm,le,{})}}function Lm(t){let e,n,i;const o=t[3].default,r=fe(o,t,t[2],null);let l=[{class:n=$e("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=V(a,l[s]);return{c(){e=P("div"),r&&r.c(),re(e,a)},m(s,u){S(s,e,u),r&&r.m(e,null),i=!0},p(s,[u]){r&&r.p&&(!i||u&4)&&de(r,o,s,s[2],i?ce(o,s[2],u,null):pe(s[2]),null),re(e,a=me(l,[(!i||u&1&&n!==(n=$e("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s[0])))&&{class:n},u&2&&s[1]]))},i(s){i||(k(r,s),i=!0)},o(s){I(r,s),i=!1},d(s){s&&C(e),r&&r.d(s)}}}function Fm(t,e,n){const i=["class"];let o=ne(e,i),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=V(V({},e),Ne(s)),n(1,o=ne(e,i)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,o,l,r]}class ei extends _e{constructor(e){super(),he(this,e,Fm,Lm,le,{class:0})}}function qm(t){let e,n,i;const o=t[3].default,r=fe(o,t,t[2],null);let l=[{class:n=$e("flex flex-col space-y-1.5 text-center sm:text-left",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=V(a,l[s]);return{c(){e=P("div"),r&&r.c(),re(e,a)},m(s,u){S(s,e,u),r&&r.m(e,null),i=!0},p(s,[u]){r&&r.p&&(!i||u&4)&&de(r,o,s,s[2],i?ce(o,s[2],u,null):pe(s[2]),null),re(e,a=me(l,[(!i||u&1&&n!==(n=$e("flex flex-col space-y-1.5 text-center sm:text-left",s[0])))&&{class:n},u&2&&s[1]]))},i(s){i||(k(r,s),i=!0)},o(s){I(r,s),i=!1},d(s){s&&C(e),r&&r.d(s)}}}function Rm(t,e,n){const i=["class"];let o=ne(e,i),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=V(V({},e),Ne(s)),n(1,o=ne(e,i)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,o,l,r]}class on extends _e{constructor(e){super(),he(this,e,Rm,qm,le,{class:0})}}function Ea(t,{delay:e=0,duration:n=400,easing:i=Yi}={}){const o=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:i,css:r=>`opacity: ${r*o}`}}function Dm(t){let e,n;const i=[{transition:t[1]},{transitionConfig:t[2]},{class:$e("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm",t[0])},t[3]];let o={};for(let r=0;r<i.length;r+=1)o=V(o,i[r]);return e=new Ep({props:o}),{c(){X(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&15?me(i,[l&2&&{transition:r[1]},l&4&&{transitionConfig:r[2]},l&1&&{class:$e("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm",r[0])},l&8&&nt(r[3])]):{};e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){I(e.$$.fragment,r),n=!1},d(r){J(e,r)}}}function Bm(t,e,n){const i=["class","transition","transitionConfig"];let o=ne(e,i),{class:r=void 0}=e,{transition:l=Ea}=e,{transitionConfig:a={duration:150}}=e;return t.$$set=s=>{e=V(V({},e),Ne(s)),n(3,o=ne(e,i)),"class"in s&&n(0,r=s.class),"transition"in s&&n(1,l=s.transition),"transitionConfig"in s&&n(2,a=s.transitionConfig)},[r,l,a,o]}class Gm extends _e{constructor(e){super(),he(this,e,Bm,Dm,le,{class:0,transition:1,transitionConfig:2})}}/**
 * @license lucide-svelte v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jm={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"},_l=jm;function gl(t,e,n){const i=t.slice();return i[10]=e[n][0],i[11]=e[n][1],i}function uo(t){let e,n=[t[11]],i={};for(let o=0;o<n.length;o+=1)i=V(i,n[o]);return{c(){e=Ji(t[10]),yi(e,i)},m(o,r){S(o,e,r)},p(o,r){yi(e,i=me(n,[r&32&&o[11]]))},d(o){o&&C(e)}}}function bl(t){let e=t[10],n,i=t[10]&&uo(t);return{c(){i&&i.c(),n=Pe()},m(o,r){i&&i.m(o,r),S(o,n,r)},p(o,r){o[10]?e?le(e,o[10])?(i.d(1),i=uo(o),e=o[10],i.c(),i.m(n.parentNode,n)):i.p(o,r):(i=uo(o),e=o[10],i.c(),i.m(n.parentNode,n)):e&&(i.d(1),i=null,e=o[10])},d(o){o&&C(n),i&&i.d(o)}}}function Hm(t){let e,n,i,o,r,l=Ye(t[5]),a=[];for(let p=0;p<l.length;p+=1)a[p]=bl(gl(t,l,p));const s=t[9].default,u=fe(s,t,t[8],null);let f=[_l,t[6],{width:t[2]},{height:t[2]},{stroke:t[1]},{"stroke-width":i=t[4]?Number(t[3])*24/Number(t[2]):t[3]},{class:o=`lucide-icon lucide lucide-${t[0]} ${t[7].class??""}`}],c={};for(let p=0;p<f.length;p+=1)c=V(c,f[p]);return{c(){e=Ji("svg");for(let p=0;p<a.length;p+=1)a[p].c();n=Pe(),u&&u.c(),yi(e,c)},m(p,m){S(p,e,m);for(let h=0;h<a.length;h+=1)a[h]&&a[h].m(e,null);w(e,n),u&&u.m(e,null),r=!0},p(p,[m]){if(m&32){l=Ye(p[5]);let h;for(h=0;h<l.length;h+=1){const _=gl(p,l,h);a[h]?a[h].p(_,m):(a[h]=bl(_),a[h].c(),a[h].m(e,n))}for(;h<a.length;h+=1)a[h].d(1);a.length=l.length}u&&u.p&&(!r||m&256)&&de(u,s,p,p[8],r?ce(s,p[8],m,null):pe(p[8]),null),yi(e,c=me(f,[_l,m&64&&p[6],(!r||m&4)&&{width:p[2]},(!r||m&4)&&{height:p[2]},(!r||m&2)&&{stroke:p[1]},(!r||m&28&&i!==(i=p[4]?Number(p[3])*24/Number(p[2]):p[3]))&&{"stroke-width":i},(!r||m&129&&o!==(o=`lucide-icon lucide lucide-${p[0]} ${p[7].class??""}`))&&{class:o}]))},i(p){r||(k(u,p),r=!0)},o(p){I(u,p),r=!1},d(p){p&&C(e),vt(a,p),u&&u.d(p)}}}function Wm(t,e,n){const i=["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"];let o=ne(e,i),{$$slots:r={},$$scope:l}=e,{name:a}=e,{color:s="currentColor"}=e,{size:u=24}=e,{strokeWidth:f=2}=e,{absoluteStrokeWidth:c=!1}=e,{iconNode:p}=e;return t.$$set=m=>{n(7,e=V(V({},e),Ne(m))),n(6,o=ne(e,i)),"name"in m&&n(0,a=m.name),"color"in m&&n(1,s=m.color),"size"in m&&n(2,u=m.size),"strokeWidth"in m&&n(3,f=m.strokeWidth),"absoluteStrokeWidth"in m&&n(4,c=m.absoluteStrokeWidth),"iconNode"in m&&n(5,p=m.iconNode),"$$scope"in m&&n(8,l=m.$$scope)},e=Ne(e),[a,s,u,f,c,p,o,e,l,r]}class Vm extends _e{constructor(e){super(),he(this,e,Wm,Hm,le,{name:0,color:1,size:2,strokeWidth:3,absoluteStrokeWidth:4,iconNode:5})}}function Km(t){let e;const n=t[2].default,i=fe(n,t,t[3],null);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&8)&&de(i,n,o,o[3],e?ce(n,o[3],r,null):pe(o[3]),null)},i(o){e||(k(i,o),e=!0)},o(o){I(i,o),e=!1},d(o){i&&i.d(o)}}}function Um(t){let e,n;const i=[{name:"x"},t[1],{iconNode:t[0]}];let o={$$slots:{default:[Km]},$$scope:{ctx:t}};for(let r=0;r<i.length;r+=1)o=V(o,i[r]);return e=new Vm({props:o}),{c(){X(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&3?me(i,[i[0],l&2&&nt(r[1]),l&1&&{iconNode:r[0]}]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){I(e.$$.fragment,r),n=!1},d(r){J(e,r)}}}function Ym(t,e,n){let{$$slots:i={},$$scope:o}=e;const r=[["path",{d:"M18 6 6 18"}],["path",{d:"m6 6 12 12"}]];return t.$$set=l=>{n(1,e=V(V({},e),Ne(l))),"$$scope"in l&&n(3,o=l.$$scope)},e=Ne(e),[r,e,i,o]}class Jm extends _e{constructor(e){super(),he(this,e,Ym,Um,le,{})}}function Xm(t){let e,n,i,o;return e=new Jm({props:{class:"h-4 w-4"}}),{c(){X(e.$$.fragment),n=H(),i=P("span"),i.textContent="Close",O(i,"class","sr-only")},m(r,l){Y(e,r,l),S(r,n,l),S(r,i,l),o=!0},p:ue,i(r){o||(k(e.$$.fragment,r),o=!0)},o(r){I(e.$$.fragment,r),o=!1},d(r){r&&(C(n),C(i)),J(e,r)}}}function Zm(t){let e,n,i;const o=t[4].default,r=fe(o,t,t[5],null);return n=new xd({props:{class:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",$$slots:{default:[Xm]},$$scope:{ctx:t}}}),{c(){r&&r.c(),e=H(),X(n.$$.fragment)},m(l,a){r&&r.m(l,a),S(l,e,a),Y(n,l,a),i=!0},p(l,a){r&&r.p&&(!i||a&32)&&de(r,o,l,l[5],i?ce(o,l[5],a,null):pe(l[5]),null);const s={};a&32&&(s.$$scope={dirty:a,ctx:l}),n.$set(s)},i(l){i||(k(r,l),k(n.$$.fragment,l),i=!0)},o(l){I(r,l),I(n.$$.fragment,l),i=!1},d(l){l&&C(e),r&&r.d(l),J(n,l)}}}function Qm(t){let e,n,i,o;e=new Gm({});const r=[{transition:t[1]},{transitionConfig:t[2]},{class:$e("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg md:w-full",t[0])},t[3]];let l={$$slots:{default:[Zm]},$$scope:{ctx:t}};for(let a=0;a<r.length;a+=1)l=V(l,r[a]);return i=new yp({props:l}),{c(){X(e.$$.fragment),n=H(),X(i.$$.fragment)},m(a,s){Y(e,a,s),S(a,n,s),Y(i,a,s),o=!0},p(a,s){const u=s&15?me(r,[s&2&&{transition:a[1]},s&4&&{transitionConfig:a[2]},s&1&&{class:$e("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg md:w-full",a[0])},s&8&&nt(a[3])]):{};s&32&&(u.$$scope={dirty:s,ctx:a}),i.$set(u)},i(a){o||(k(e.$$.fragment,a),k(i.$$.fragment,a),o=!0)},o(a){I(e.$$.fragment,a),I(i.$$.fragment,a),o=!1},d(a){a&&C(n),J(e,a),J(i,a)}}}function xm(t){let e,n;return e=new $m({props:{$$slots:{default:[Qm]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},p(i,[o]){const r={};o&47&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(k(e.$$.fragment,i),n=!0)},o(i){I(e.$$.fragment,i),n=!1},d(i){J(e,i)}}}function zm(t,e,n){const i=["class","transition","transitionConfig"];let o=ne(e,i),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{transition:s=er}=e,{transitionConfig:u={duration:200}}=e;return t.$$set=f=>{e=V(V({},e),Ne(f)),n(3,o=ne(e,i)),"class"in f&&n(0,a=f.class),"transition"in f&&n(1,s=f.transition),"transitionConfig"in f&&n(2,u=f.transitionConfig),"$$scope"in f&&n(5,l=f.$$scope)},[a,s,u,o,r,l]}class rn extends _e{constructor(e){super(),he(this,e,zm,xm,le,{class:0,transition:1,transitionConfig:2})}}function eh(t){let e;const n=t[2].default,i=fe(n,t,t[3],null);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&8)&&de(i,n,o,o[3],e?ce(n,o[3],r,null):pe(o[3]),null)},i(o){e||(k(i,o),e=!0)},o(o){I(i,o),e=!1},d(o){i&&i.d(o)}}}function th(t){let e,n;const i=[{class:$e("text-sm text-muted-foreground",t[0])},t[1]];let o={$$slots:{default:[eh]},$$scope:{ctx:t}};for(let r=0;r<i.length;r+=1)o=V(o,i[r]);return e=new Rp({props:o}),{c(){X(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&3?me(i,[l&1&&{class:$e("text-sm text-muted-foreground",r[0])},l&2&&nt(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){I(e.$$.fragment,r),n=!1},d(r){J(e,r)}}}function nh(t,e,n){const i=["class"];let o=ne(e,i),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=V(V({},e),Ne(s)),n(1,o=ne(e,i)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,l=s.$$scope)},[a,o,r,l]}class ln extends _e{constructor(e){super(),he(this,e,nh,th,le,{class:0})}}const sn=Dd;function ih(t){let e,n;const i=[{class:$e("shrink-0 bg-border",t[1]==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t[0])},{orientation:t[1]},{decorative:t[2]},t[3]];let o={};for(let r=0;r<i.length;r+=1)o=V(o,i[r]);return e=new $d({props:o}),{c(){X(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&15?me(i,[l&3&&{class:$e("shrink-0 bg-border",r[1]==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",r[0])},l&2&&{orientation:r[1]},l&4&&{decorative:r[2]},l&8&&nt(r[3])]):{};e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){I(e.$$.fragment,r),n=!1},d(r){J(e,r)}}}function oh(t,e,n){const i=["class","orientation","decorative"];let o=ne(e,i),{class:r=void 0}=e,{orientation:l="horizontal"}=e,{decorative:a=void 0}=e;return t.$$set=s=>{e=V(V({},e),Ne(s)),n(3,o=ne(e,i)),"class"in s&&n(0,r=s.class),"orientation"in s&&n(1,l=s.orientation),"decorative"in s&&n(2,a=s.decorative)},[r,l,a,o]}class Kn extends _e{constructor(e){super(),he(this,e,oh,ih,le,{class:0,orientation:1,decorative:2})}}function rh(t){let e,n,i,o,r=[{class:n=$e("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t[1])},t[2]],l={};for(let a=0;a<r.length;a+=1)l=V(l,r[a]);return{c(){e=P("input"),re(e,l)},m(a,s){S(a,e,s),e.autofocus&&e.focus(),St(e,t[0]),i||(o=[K(e,"input",t[17]),K(e,"blur",t[3]),K(e,"change",t[4]),K(e,"click",t[5]),K(e,"focus",t[6]),K(e,"focusin",t[7]),K(e,"focusout",t[8]),K(e,"keydown",t[9]),K(e,"keypress",t[10]),K(e,"keyup",t[11]),K(e,"mouseover",t[12]),K(e,"mouseenter",t[13]),K(e,"mouseleave",t[14]),K(e,"paste",t[15]),K(e,"input",t[16])],i=!0)},p(a,[s]){re(e,l=me(r,[s&2&&n!==(n=$e("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a[1]))&&{class:n},s&4&&a[2]])),s&1&&e.value!==a[0]&&St(e,a[0])},i:ue,o:ue,d(a){a&&C(e),i=!1,Re(o)}}}function lh(t,e,n){const i=["class","value"];let o=ne(e,i),{class:r=void 0}=e,{value:l=void 0}=e;function a(D){Q.call(this,t,D)}function s(D){Q.call(this,t,D)}function u(D){Q.call(this,t,D)}function f(D){Q.call(this,t,D)}function c(D){Q.call(this,t,D)}function p(D){Q.call(this,t,D)}function m(D){Q.call(this,t,D)}function h(D){Q.call(this,t,D)}function _(D){Q.call(this,t,D)}function g(D){Q.call(this,t,D)}function y(D){Q.call(this,t,D)}function N(D){Q.call(this,t,D)}function M(D){Q.call(this,t,D)}function j(D){Q.call(this,t,D)}function R(){l=this.value,n(0,l)}return t.$$set=D=>{e=V(V({},e),Ne(D)),n(2,o=ne(e,i)),"class"in D&&n(1,r=D.class),"value"in D&&n(0,l=D.value)},[l,r,o,a,s,u,f,c,p,m,h,_,g,y,N,M,j,R]}class tr extends _e{constructor(e){super(),he(this,e,lh,rh,le,{class:1,value:0})}}function vl(t,e,n){const i=t.slice();return i[7]=e[n],i}function yl(t){let e,n=t[7].subtitle+"",i;return{c(){e=new Lu(!1),i=Pe(),e.a=i},m(o,r){e.m(n,o,r),S(o,i,r)},p(o,r){r&1&&n!==(n=o[7].subtitle+"")&&e.p(n)},d(o){o&&(C(i),e.d())}}}function wl(t){let e,n,i=t[7].label+"",o,r,l,a=t[7].value+"",s,u,f,c,p,m,h=t[7].subtitle!=null&&yl(t);return{c(){e=P("div"),n=P("span"),o=B(i),r=H(),l=P("span"),s=B(a),u=H(),h&&h.c(),f=H(),O(n,"class","text-xs pl-4 pr-4 rounded-lg whitespace-nowrap"),O(l,"class","text-xs text-slate-500"),O(e,"class",c="flex flex-col items-center text-center flex-1 "+(t[2]=="true"?"cursor-pointer":""))},m(_,g){S(_,e,g),w(e,n),w(n,o),w(e,r),w(e,l),w(l,s),w(l,u),h&&h.m(l,null),w(e,f),p||(m=K(e,"click",function(){Mt(t[2]=="true"?t[7].tap:null)&&(t[2]=="true"?t[7].tap:null).apply(this,arguments)}),p=!0)},p(_,g){t=_,g&1&&i!==(i=t[7].label+"")&&ae(o,i),g&1&&a!==(a=t[7].value+"")&&ae(s,a),t[7].subtitle!=null?h?h.p(t,g):(h=yl(t),h.c(),h.m(l,null)):h&&(h.d(1),h=null),g&4&&c!==(c="flex flex-col items-center text-center flex-1 "+(t[2]=="true"?"cursor-pointer":""))&&O(e,"class",c)},d(_){_&&C(e),h&&h.d(),p=!1,m()}}}function sh(t){let e,n,i=Ye(t[0]),o=[];for(let r=0;r<i.length;r+=1)o[r]=wl(vl(t,i,r));return{c(){e=P("div");for(let r=0;r<o.length;r+=1)o[r].c();O(e,"class",n="flex flex-row justify-between pr-5 pl-5 "+t[1])},m(r,l){S(r,e,l);for(let a=0;a<o.length;a+=1)o[a]&&o[a].m(e,null)},p(r,[l]){if(l&5){i=Ye(r[0]);let a;for(a=0;a<i.length;a+=1){const s=vl(r,i,a);o[a]?o[a].p(s,l):(o[a]=wl(s),o[a].c(),o[a].m(e,null))}for(;a<o.length;a+=1)o[a].d(1);o.length=i.length}l&2&&n!==(n="flex flex-row justify-between pr-5 pl-5 "+r[1])&&O(e,"class",n)},i:ue,o:ue,d(r){r&&C(e),vt(o,r)}}}function Ct(t,e){if(e===void 0&&(e=0),t==null||t==null)return 0;t=parseFloat((t*Math.pow(10,e)).toFixed(11));var n=Math.round(t)/Math.pow(10,e);return+n.toFixed(e)}function ah(t,e,n){let i,o;se(t,ke,u=>n(5,i=u)),se(t,Ni,u=>n(6,o=u));let{stats:r=[]}=e,{classText:l=""}=e,{clickEvents:a="true"}=e;function s(){let u=i;u.hasBank===!0?(u.townInfo.gold+=u.townInfo.gold_from_tourism,u.townInfo.gold_from_tourism=0,ke.set(u),localStorage.setItem(ft,JSON.stringify(u))):alert("You need a bank to transfer funds from tourism activities.")}return t.$$set=u=>{"stats"in u&&n(0,r=u.stats),"classText"in u&&n(1,l=u.classText),"clickEvents"in u&&n(2,a=u.clickEvents)},t.$$.update=()=>{t.$$.dirty&100&&n(0,r=[{label:"Population",value:`${dt(i.townInfo.population_count)}/${dt(i.townInfo.population_max)}`,subtitle:`<span
					class='
						rounded-full px-1 py-1 text-xs
						${i.townInfo.population_count<i.townInfo.population_max?"text-red-500":"text-green-500"}
					'>
					${dt(i.townInfo.population_max-i.townInfo.population_count)}
				</span>`,tap:()=>{}},{label:"Employees",value:`${dt(i.townInfo.employees)}/${dt(i.townInfo.population_count)}`,subtitle:`<span
					class='
						rounded-full px-1 py-1 text-xs
						${i.townInfo.employees<i.townInfo.population_count?"text-red-500":"text-green-500"}
					'>
					${dt(i.townInfo.population_count-i.townInfo.employees)}
				</span>`,tap:()=>{}},{label:"Knowledge",value:dt(i.townInfo.knowledge_points)+`${a=="true"?" (click me)":""}`,tap:()=>{ge(Ni,o=!o,o)}},{label:"Gold",value:"$"+dt(Ct(i.townInfo.gold,0)),subtitle:`<span
					class='
						rounded-full px-1 py-1 text-xs
						${i.economyAndLaws.last_month_profit<0?"text-red-500":"text-green-500"}
					'>
					${dt(Ct(i.economyAndLaws.last_month_profit,0))}
				</span>`,tap:()=>{}},{label:"Tourism 💰",value:"$"+dt(Ct(i.townInfo.gold_from_tourism,0)),tap:()=>{s()}},{label:"Happiness",value:`${Ct(i.townInfo.happiness,0)}/${i.maximums.happiness}`,subtitle:`<span
					class='
						rounded-full px-1 py-1 text-xs text-slate-600
						${i.townInfo.happiness<50?"text-red-500":"text-green-500"}
					'>
					${i.modifiers.happiness<1?"🔴":"🟢"} (${Ct(i.modifiers.happiness,2)}x)
				</span>`,tap:()=>{}},{label:"Health",value:`${Ct(i.townInfo.health,0)}/${i.maximums.health}`,subtitle:`<span
					class='
						rounded-full px-1 py-1 text-xs text-slate-600
						${i.townInfo.health<50?"text-red-500":"text-green-500"}
					'>
					${i.modifiers.health<1?"🔴":"🟢"} (${Ct(i.modifiers.health,2)}x)
				</span>`,tap:()=>{}}])},[r,l,a,Ct,s,i,o]}class Pa extends _e{constructor(e){super(),he(this,e,ah,sh,le,{stats:0,classText:1,clickEvents:2,roundTo:3,transferFundsFromBank:4})}get roundTo(){return Ct}get transferFundsFromBank(){return this.$$.ctx[4]}}var kl=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,st=t=>!t||typeof t!="object"||Object.keys(t).length===0,uh=(t,e)=>JSON.stringify(t)===JSON.stringify(e);function Oa(t,e){t.forEach(function(n){Array.isArray(n)?Oa(n,e):e.push(n)})}function $a(t){let e=[];return Oa(t,e),e}var La=(...t)=>$a(t).filter(Boolean),Fa=(t,e)=>{let n={},i=Object.keys(t),o=Object.keys(e);for(let r of i)if(o.includes(r)){let l=t[r],a=e[r];typeof l=="object"&&typeof a=="object"?n[r]=Fa(l,a):Array.isArray(l)||Array.isArray(a)?n[r]=La(a,l):n[r]=a+" "+l}else n[r]=t[r];for(let r of o)i.includes(r)||(n[r]=e[r]);return n},Cl=t=>!t||typeof t!="string"?t:t.replace(/\s+/g," ").trim(),fh={twMerge:!0,twMergeConfig:{},responsiveVariants:!1},qa=t=>t||void 0,Un=(...t)=>qa($a(t).filter(Boolean).join(" ")),fo=null,It={},To=!1,$n=(...t)=>e=>e.twMerge?((!fo||To)&&(To=!1,fo=st(It)?Ma:Am({...It,extend:{theme:It.theme,classGroups:It.classGroups,conflictingClassGroupModifiers:It.conflictingClassGroupModifiers,conflictingClassGroups:It.conflictingClassGroups,...It.extend}})),qa(fo(Un(t)))):Un(t),Sl=(t,e)=>{for(let n in e)t.hasOwnProperty(n)?t[n]=Un(t[n],e[n]):t[n]=e[n];return t},ch=(t,e)=>{let{extend:n=null,slots:i={},variants:o={},compoundVariants:r=[],compoundSlots:l=[],defaultVariants:a={}}=t,s={...fh,...e},u=n!=null&&n.base?Un(n.base,t==null?void 0:t.base):t==null?void 0:t.base,f=n!=null&&n.variants&&!st(n.variants)?Fa(o,n.variants):o,c=n!=null&&n.defaultVariants&&!st(n.defaultVariants)?{...n.defaultVariants,...a}:a;!st(s.twMergeConfig)&&!uh(s.twMergeConfig,It)&&(To=!0,It=s.twMergeConfig);let p=st(n==null?void 0:n.slots),m=st(i)?{}:{base:Un(t==null?void 0:t.base,p&&(n==null?void 0:n.base)),...i},h=p?m:Sl({...n==null?void 0:n.slots},st(m)?{base:t==null?void 0:t.base}:m),_=y=>{if(st(f)&&st(i)&&p)return $n(u,y==null?void 0:y.class,y==null?void 0:y.className)(s);if(r&&!Array.isArray(r))throw new TypeError(`The "compoundVariants" prop must be an array. Received: ${typeof r}`);if(l&&!Array.isArray(l))throw new TypeError(`The "compoundSlots" prop must be an array. Received: ${typeof l}`);let N=(d,v,b=[],$)=>{let T=b;if(typeof v=="string")T=T.concat(Cl(v).split(" ").map(L=>`${d}:${L}`));else if(Array.isArray(v))T=T.concat(v.reduce((L,W)=>L.concat(`${d}:${W}`),[]));else if(typeof v=="object"&&typeof $=="string"){for(let L in v)if(v.hasOwnProperty(L)&&L===$){let W=v[L];if(W&&typeof W=="string"){let U=Cl(W);T[$]?T[$]=T[$].concat(U.split(" ").map(ie=>`${d}:${ie}`)):T[$]=U.split(" ").map(ie=>`${d}:${ie}`)}else Array.isArray(W)&&W.length>0&&(T[$]=W.reduce((U,ie)=>U.concat(`${d}:${ie}`),[]))}}return T},M=(d,v=f,b=null,$=null)=>{var T;let L=v[d];if(!L||st(L))return null;let W=(T=$==null?void 0:$[d])!=null?T:y==null?void 0:y[d];if(W===null)return null;let U=kl(W),ie=Array.isArray(s.responsiveVariants)&&s.responsiveVariants.length>0||s.responsiveVariants===!0,x=c==null?void 0:c[d],te=[];if(typeof U=="object"&&ie)for(let[oe,Te]of Object.entries(U)){let Ce=L[Te];if(oe==="initial"){x=Te;continue}Array.isArray(s.responsiveVariants)&&!s.responsiveVariants.includes(oe)||(te=N(oe,Ce,te,b))}let ve=U!=null&&typeof U!="object"?U:kl(x),ye=L[ve]||L.false;return typeof te=="object"&&typeof b=="string"&&te[b]?Sl(te,ye):te.length>0?(te.push(ye),te):ye},j=()=>f?Object.keys(f).map(d=>M(d,f)):null,R=(d,v)=>{if(!f||typeof f!="object")return null;let b=new Array;for(let $ in f){let T=M($,f,d,v),L=d==="base"&&typeof T=="string"?T:T&&T[d];L&&(b[b.length]=L)}return b},D={};for(let d in y)y[d]!==void 0&&(D[d]=y[d]);let F=(d,v)=>{var b;let $=typeof(y==null?void 0:y[d])=="object"?{[d]:(b=y[d])==null?void 0:b.initial}:{};return{...c,...D,...$,...v}},G=(d=[],v)=>{let b=[];for(let{class:$,className:T,...L}of d){let W=!0;for(let[U,ie]of Object.entries(L)){let x=F(U,v);if(Array.isArray(ie)){if(!ie.includes(x[U])){W=!1;break}}else if(x[U]!==ie){W=!1;break}}W&&($&&b.push($),T&&b.push(T))}return b},q=d=>{let v=G(r,d),b=G(n==null?void 0:n.compoundVariants,d);return La(b,v)},Z=d=>{let v=q(d);if(!Array.isArray(v))return v;let b={};for(let $ of v)if(typeof $=="string"&&(b.base=$n(b.base,$)(s)),typeof $=="object")for(let[T,L]of Object.entries($))b[T]=$n(b[T],L)(s);return b},A=d=>{if(l.length<1)return null;let v={};for(let{slots:b=[],class:$,className:T,...L}of l){if(!st(L)){let W=!0;for(let U of Object.keys(L)){let ie=F(U,d)[U];if(ie===void 0||(Array.isArray(L[U])?!L[U].includes(ie):L[U]!==ie)){W=!1;break}}if(!W)continue}for(let W of b)v[W]=v[W]||[],v[W].push([$,T])}return v};if(!st(i)||!p){let d={};if(typeof h=="object"&&!st(h))for(let v of Object.keys(h))d[v]=b=>{var $,T;return $n(h[v],R(v,b),(($=Z(b))!=null?$:[])[v],((T=A(b))!=null?T:[])[v],b==null?void 0:b.class,b==null?void 0:b.className)(s)};return d}return $n(u,j(),q(),y==null?void 0:y.class,y==null?void 0:y.className)(s)},g=()=>{if(!(!f||typeof f!="object"))return Object.keys(f)};return _.variantKeys=g(),_.extend=n,_.base=u,_.slots=h,_.variants=f,_.defaultVariants=c,_.compoundSlots=l,_.compoundVariants=r,_};const kn=ch({base:"inline-flex items-center justify-center rounded-md text-sm font-medium whitespace-nowrap ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}});function dh(t){let e;const n=t[5].default,i=fe(n,t,t[8],null);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&256)&&de(i,n,o,o[8],e?ce(n,o[8],r,null):pe(o[8]),null)},i(o){e||(k(i,o),e=!0)},o(o){I(i,o),e=!1},d(o){i&&i.d(o)}}}function ph(t){let e,n;const i=[{builders:t[3]},{class:$e(kn({variant:t[1],size:t[2],className:t[0]}))},{type:"button"},t[4]];let o={$$slots:{default:[dh]},$$scope:{ctx:t}};for(let r=0;r<i.length;r+=1)o=V(o,i[r]);return e=new Ad({props:o}),e.$on("click",t[6]),e.$on("keydown",t[7]),{c(){X(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&31?me(i,[l&8&&{builders:r[3]},l&7&&{class:$e(kn({variant:r[1],size:r[2],className:r[0]}))},i[2],l&16&&nt(r[4])]):{};l&256&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){I(e.$$.fragment,r),n=!1},d(r){J(e,r)}}}function mh(t,e,n){const i=["class","variant","size","builders"];let o=ne(e,i),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{variant:s="default"}=e,{size:u="default"}=e,{builders:f=[]}=e;function c(m){Q.call(this,t,m)}function p(m){Q.call(this,t,m)}return t.$$set=m=>{e=V(V({},e),Ne(m)),n(4,o=ne(e,i)),"class"in m&&n(0,a=m.class),"variant"in m&&n(1,s=m.variant),"size"in m&&n(2,u=m.size),"builders"in m&&n(3,f=m.builders),"$$scope"in m&&n(8,l=m.$$scope)},[a,s,u,f,o,r,c,p,l]}class Gt extends _e{constructor(e){super(),he(this,e,mh,ph,le,{class:0,variant:1,size:2,builders:3})}}function Al(t,e,n){const i=t.slice();return i[27]=e[n],i}function Il(t,e,n){const i=t.slice();return i[30]=e[n],i}function Tl(t,e,n){const i=t.slice();return i[27]=e[n],i}function hh(t){let e,n;return{c(){e=P("span"),n=B("Set this Plot"),O(e,"class","text-2xl font-bold")},m(i,o){S(i,e,o),S(i,n,o)},p:ue,d(i){i&&(C(e),C(n))}}}function Nl(t){let e,n;return e=new ln({props:{class:"text-sm",$$slots:{default:[_h]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},p(i,o){const r={};o[0]&2|o[1]&16&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(k(e.$$.fragment,i),n=!0)},o(i){I(e.$$.fragment,i),n=!1},d(i){J(e,i)}}}function _h(t){let e;return{c(){e=B(t[1])},m(n,i){S(n,e,i)},p(n,i){i[0]&2&&ae(e,n[1])},d(n){n&&C(e)}}}function gh(t){let e,n,i,o,r,l,a,s,u;e=new nn({props:{class:"text-2xl font-bold",$$slots:{default:[hh]},$$scope:{ctx:t}}});let f=t[1]!==""&&Nl(t);return l=new Pa({props:{classText:"w-full",clickEvents:"false"}}),{c(){X(e.$$.fragment),n=H(),f&&f.c(),i=H(),o=P("div"),r=H(),X(l.$$.fragment),a=H(),s=P("div"),O(o,"class","mt-4"),O(s,"class","mb-4")},m(c,p){Y(e,c,p),S(c,n,p),f&&f.m(c,p),S(c,i,p),S(c,o,p),S(c,r,p),Y(l,c,p),S(c,a,p),S(c,s,p),u=!0},p(c,p){const m={};p[1]&16&&(m.$$scope={dirty:p,ctx:c}),e.$set(m),c[1]!==""?f?(f.p(c,p),p[0]&2&&k(f,1)):(f=Nl(c),f.c(),k(f,1),f.m(i.parentNode,i)):f&&(Me(),I(f,1,1,()=>{f=null}),Ee())},i(c){u||(k(e.$$.fragment,c),k(f),k(l.$$.fragment,c),u=!0)},o(c){I(e.$$.fragment,c),I(f),I(l.$$.fragment,c),u=!1},d(c){c&&(C(n),C(i),C(o),C(r),C(a),C(s)),J(e,c),f&&f.d(c),J(l,c)}}}function Ml(t){let e,n,i,o,r,l={type:"text",id:"search-bar",placeholder:"Search Plot Options...",value:t[7],class:"border rounded w-auto"};i=new tr({props:l}),t[20](i),i.$on("input",t[15]);let a=t[12].isMineralSource===!1&&El(t);return{c(){e=P("div"),n=P("div"),X(i.$$.fragment),o=H(),a&&a.c(),O(n,"class","flex items-center "),O(e,"class","flex flex-row w-full px-4 py-2 text-white ")},m(s,u){S(s,e,u),w(e,n),Y(i,n,null),w(e,o),a&&a.m(e,null),r=!0},p(s,u){const f={};u[0]&128&&(f.value=s[7]),i.$set(f),s[12].isMineralSource===!1?a?a.p(s,u):(a=El(s),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},i(s){r||(k(i.$$.fragment,s),r=!0)},o(s){I(i.$$.fragment,s),r=!1},d(s){s&&C(e),t[20](null),J(i),a&&a.d()}}}function El(t){let e,n,i,o,r,l,a,s=t[9].plots[t[2]][t[3]].type!==-1&&t[5](t[2],t[3]),u,f,c,p,m,h,_,g=s&&Pl(t);function y(j,R){return j[8].length>0?vh:bh}let N=y(t),M=N(t);return{c(){e=P("div"),n=P("input"),o=H(),r=P("label"),r.textContent="Show only affordable",l=H(),a=P("div"),g&&g.c(),u=H(),f=P("label"),c=P("span"),c.textContent="Quick scroll",p=H(),m=P("div"),M.c(),O(n,"type","checkbox"),O(n,"id","toggle-affordable"),O(n,"class","rounded"),n.checked=i=t[11]===t[8].length,O(r,"for","toggle-affordable"),O(r,"class","ml-2 no-select cursor-pointer "),O(e,"class","flex items-center ml-6"),O(a,"class","flex justify-end ml-6"),O(c,"class","mb-10"),O(f,"for","plotType"),O(f,"class","text-xs ml-4 gap-2")},m(j,R){S(j,e,R),w(e,n),w(e,o),w(e,r),S(j,l,R),S(j,a,R),g&&g.m(a,null),S(j,u,R),S(j,f,R),w(f,c),w(f,p),w(f,m),M.m(m,null),h||(_=K(n,"change",t[21]),h=!0)},p(j,R){R[0]&2304&&i!==(i=j[11]===j[8].length)&&(n.checked=i),R[0]&524&&(s=j[9].plots[j[2]][j[3]].type!==-1&&j[5](j[2],j[3])),s?g?g.p(j,R):(g=Pl(j),g.c(),g.m(a,null)):g&&(g.d(1),g=null),N===(N=y(j))&&M?M.p(j,R):(M.d(1),M=N(j),M&&(M.c(),M.m(m,null)))},d(j){j&&(C(e),C(l),C(a),C(u),C(f)),g&&g.d(),M.d(),h=!1,_()}}}function Pl(t){let e,n,i;return{c(){e=P("button"),e.textContent="🔥 Bulldoze",O(e,"id","bulldoze"),O(e,"class","px-2 py-2 bg-red-500 text-white rounded hover:bg-red-600 transition duration-300 ease-in-out")},m(o,r){S(o,e,r),n||(i=K(e,"click",t[16]),n=!0)},p:ue,d(o){o&&C(e),n=!1,i()}}}function bh(t){let e;return{c(){e=B("No options")},m(n,i){S(n,e,i)},p:ue,d(n){n&&C(e)}}}function vh(t){let e,n=Ye(t[8]),i=[];for(let o=0;o<n.length;o+=1)i[o]=$l(Tl(t,n,o));return{c(){for(let o=0;o<i.length;o+=1)i[o].c();e=Pe()},m(o,r){for(let l=0;l<i.length;l+=1)i[l]&&i[l].m(o,r);S(o,e,r)},p(o,r){if(r[0]&256){n=Ye(o[8]);let l;for(l=0;l<n.length;l+=1){const a=Tl(o,n,l);i[l]?i[l].p(a,r):(i[l]=$l(a),i[l].c(),i[l].m(e.parentNode,e))}for(;l<i.length;l+=1)i[l].d(1);i.length=n.length}},d(o){o&&C(e),vt(i,o)}}}function Ol(t){let e,n=Wl(t[27].title)+"",i,o,r;function l(){return t[22](t[27])}return{c(){e=P("span"),i=B(n),O(e,"class","text-xl cursor-pointer hover:bg-slate-300 rounded-lg p-1")},m(a,s){S(a,e,s),w(e,i),o||(r=K(e,"click",l),o=!0)},p(a,s){t=a,s[0]&256&&n!==(n=Wl(t[27].title)+"")&&ae(i,n)},d(a){a&&C(e),o=!1,r()}}}function $l(t){let e,n=t[27].affordable&&Ol(t);return{c(){n&&n.c(),e=Pe()},m(i,o){n&&n.m(i,o),S(i,e,o)},p(i,o){i[27].affordable?n?n.p(i,o):(n=Ol(i),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(i){i&&C(e),n&&n.d(i)}}}function yh(t){let e,n,i,o,r,l,a,s=t[9].townInfo.gold>=t[13][t[14]("mine")].requirements.gold?"✅":"❌",u,f,c=Tt(t[13][t[14]("mine")].requirements.gold)+"",p,m,h,_,g=t[9].townInfo.population_count-t[9].townInfo.employees>=t[13][t[14]("mine")].requirements.employees?"✅":"❌",y,N,M=t[13][t[14]("mine")].requirements.employees+"",j,R=" ",D,F,G,q,Z,A,d,v,b;const $=[Ch,kh],T=[];function L(W,U){return U[0]&512&&(A=null),A==null&&(A=ot("mine",W[9]).length===0),A?0:1}return d=L(t,[-1,-1]),v=T[d]=$[d](t),{c(){e=P("div"),n=P("div"),i=P("div"),i.textContent="Build a mine",o=H(),r=P("div"),l=P("ul"),a=P("li"),u=B(s),f=B(`
									$`),p=B(c),m=B(" gold"),h=H(),_=P("li"),y=B(g),N=H(),j=B(M),D=B(R),F=B(`
									employees`),G=H(),q=P("div"),q.innerHTML=`<div class="text-8xl text-center h-5/6 mt-2 flex flex-col justify-center items-center align-middle w-1/3"><div>⛏️</div></div> <div class="w-2/3 text-start pl-6">Used to extract minerals needed to build many advanced plots
								including hospitals, labs, and more.</div>`,Z=H(),v.c(),O(i,"class","text-white text-2xl pb-2"),O(l,"class","flex flex-row justify-between px-6 bg-blue-900 text-blue-200 text-sm rounded-md py-1"),O(q,"class","flex flex-row w-full justify-between px-6 mt-4 h-full"),O(n,"class","flex flex-col w-1/3 h-3/5 p-2 bg-blue-800 rounded-lg"),O(e,"class","flex justify-center items-start p-3 text-center w-full")},m(W,U){S(W,e,U),w(e,n),w(n,i),w(n,o),w(n,r),w(r,l),w(l,a),w(a,u),w(a,f),w(a,p),w(a,m),w(l,h),w(l,_),w(_,y),w(_,N),w(_,j),w(_,D),w(_,F),w(n,G),w(n,q),w(n,Z),T[d].m(n,null),b=!0},p(W,U){(!b||U[0]&512)&&s!==(s=W[9].townInfo.gold>=W[13][W[14]("mine")].requirements.gold?"✅":"❌")&&ae(u,s),(!b||U[0]&512)&&g!==(g=W[9].townInfo.population_count-W[9].townInfo.employees>=W[13][W[14]("mine")].requirements.employees?"✅":"❌")&&ae(y,g);let ie=d;d=L(W,U),d===ie?T[d].p(W,U):(Me(),I(T[ie],1,1,()=>{T[ie]=null}),Ee(),v=T[d],v?v.p(W,U):(v=T[d]=$[d](W),v.c()),k(v,1),v.m(n,null))},i(W){b||(k(v),b=!0)},o(W){I(v),b=!1},d(W){W&&C(e),T[d].d()}}}function wh(t){let e,n,i,o,r=[],l=new Map,a,s,u=Ye(t[8]);const f=c=>c[27].id;for(let c=0;c<u.length;c+=1){let p=Al(t,u,c),m=f(p);l.set(m,r[c]=Hl(m,p))}return{c(){e=P("table"),n=P("thead"),n.innerHTML='<tr class="text-xs text-left"><th class="px-2 py-2">Title</th> <th class="px-2 pr-2 py-2 w-48">Desc</th> <th class="px-2 py-2">Profit</th> <th class="px-2 py-2">Employees</th> <th class="px-2 py-2">Cost</th> <th class="px-2 py-2">Requires</th> <th class="px-2 py-2">Modifiers</th> <th class="px-2 py-2">Instant effect</th></tr>',i=H(),o=P("tbody");for(let c=0;c<r.length;c+=1)r[c].c();O(n,"class","sticky top-0 z-10 bg-slate-900 position-sticky text-white text-left w-full px-5 "),O(o,"class","overflow-hidden text-xs mx-2"),O(e,"class","text-left table-auto text-xs w-full border-collapse rounded-lgshadow-lg")},m(c,p){S(c,e,p),w(e,n),w(e,i),w(e,o);for(let m=0;m<r.length;m+=1)r[m]&&r[m].m(o,null);a||(s=K(e,"click",t[18]),a=!0)},p(c,p){p[0]&25372&&(u=Ye(c[8]),r=Wu(r,p,f,1,c,u,l,o,Hu,Hl,null,Al))},i:ue,o:ue,d(c){c&&C(e);for(let p=0;p<r.length;p+=1)r[p].d();a=!1,s()}}}function kh(t){let e;return{c(){e=P("div"),e.textContent="You have built a mine here, and mine's can not be destroyed.",O(e,"class","text-yellow-500 text-xs mt-4 text-center")},m(n,i){S(n,e,i)},p:ue,i:ue,o:ue,d(n){n&&C(e)}}}function Ch(t){let e,n;return e=new Gt({props:{class:`my-6 w-full 
								`+(t[17](t[13][t[14]("mine")],t[9])?"bg-green-500 hover:bg-green-600":"bg-gray-900 hover:bg-gray-900 opacity-75 cursor-not-allowed")+` disabled'}
							`,tabindex:-1,$$slots:{default:[Sh]},$$scope:{ctx:t}}}),e.$on("click",t[23]),{c(){X(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},p(i,o){const r={};o[0]&512&&(r.class=`my-6 w-full 
								`+(i[17](i[13][i[14]("mine")],i[9])?"bg-green-500 hover:bg-green-600":"bg-gray-900 hover:bg-gray-900 opacity-75 cursor-not-allowed")+` disabled'}
							`),o[1]&16&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(k(e.$$.fragment,i),n=!0)},o(i){I(e.$$.fragment,i),n=!1},d(i){J(e,i)}}}function Sh(t){let e;return{c(){e=B("Build")},m(n,i){S(n,e,i)},d(n){n&&C(e)}}}function Ll(t){let e,n,i,o=Tt(Jt(t[9].economyAndLaws.tax_rate*t[27].revenue_per_week,2))+"",r;return{c(){e=P("div"),n=P("span"),i=B("$"),r=B(o)},m(l,a){S(l,e,a),w(e,n),w(n,i),w(n,r)},p(l,a){a[0]&768&&o!==(o=Tt(Jt(l[9].economyAndLaws.tax_rate*l[27].revenue_per_week,2))+"")&&ae(r,o)},d(l){l&&C(e)}}}function Fl(t){let e,n=Tt(t[27].requirements.employees,!1)+"",i,o;return{c(){e=P("span"),i=B(n),O(e,"class",o=t[27].requirements.employees>t[9].townInfo.population_count-t[9].townInfo.employees?"bg-red-800 text-white px-2 py-1 rounded-sm overflow-ellipsis flex justify-center text-center mr-2":"")},m(r,l){S(r,e,l),w(e,i)},p(r,l){l[0]&256&&n!==(n=Tt(r[27].requirements.employees,!1)+"")&&ae(i,n),l[0]&768&&o!==(o=r[27].requirements.employees>r[9].townInfo.population_count-r[9].townInfo.employees?"bg-red-800 text-white px-2 py-1 rounded-sm overflow-ellipsis flex justify-center text-center mr-2":"")&&O(e,"class",o)},d(r){r&&C(e)}}}function ql(t){let e,n,i=Tt(t[27].requirements.knowledge,!1)+"",o;return{c(){e=P("span"),n=B("🧠 "),o=B(i),O(e,"class","bg-red-800 text-white px-2 py-1 rounded-sm w-min overflow-ellipsis")},m(r,l){S(r,e,l),w(e,n),w(e,o)},p(r,l){l[0]&256&&i!==(i=Tt(r[27].requirements.knowledge,!1)+"")&&ae(o,i)},d(r){r&&C(e)}}}function Ah(t){let e,n=t[13][t[14](t[30])].title.substring(2)+"",i;return{c(){e=P("span"),i=B(n),O(e,"class","text-red-100 bg-red-900 p-1 rounded-sm w-min text-xs text-nowrap overflow-ellipsis px-2")},m(o,r){S(o,e,r),w(e,i)},p(o,r){r[0]&256&&n!==(n=o[13][o[14](o[30])].title.substring(2)+"")&&ae(i,n)},d(o){o&&C(e)}}}function Ih(t){let e,n=t[13][t[14](t[30])].title.substring(2)+"",i,o;return{c(){e=P("span"),i=B(n),o=H(),O(e,"class","text-white bg-opacity-100 bg-green-900 p-1 rounded-sm text-xs text-nowrap overflow-ellipsis w-max")},m(r,l){S(r,e,l),w(e,i),w(e,o)},p(r,l){l[0]&256&&n!==(n=r[13][r[14](r[30])].title.substring(2)+"")&&ae(i,n)},d(r){r&&C(e)}}}function Rl(t){let e,n;function i(l,a){return a[0]&768&&(e=null),e==null&&(e=ot(l[30],l[9]).length>0),e?Ih:Ah}let o=i(t,[-1,-1]),r=o(t);return{c(){r.c(),n=Pe()},m(l,a){r.m(l,a),S(l,n,a)},p(l,a){o===(o=i(l,a))&&r?r.p(l,a):(r.d(1),r=o(l),r&&(r.c(),r.m(n.parentNode,n)))},d(l){l&&C(n),r.d(l)}}}function Dl(t){let e,n=Fi(t[27].effect_modifiers.happiness)+"",i;return{c(){e=B("😀 "),i=B(n)},m(o,r){S(o,e,r),S(o,i,r)},p(o,r){r[0]&256&&n!==(n=Fi(o[27].effect_modifiers.happiness)+"")&&ae(i,n)},d(o){o&&(C(e),C(i))}}}function Bl(t){let e,n=Fi(t[27].effect_modifiers.health)+"",i;return{c(){e=B("😷 "),i=B(n)},m(o,r){S(o,e,r),S(o,i,r)},p(o,r){r[0]&256&&n!==(n=Fi(o[27].effect_modifiers.health)+"")&&ae(i,n)},d(o){o&&(C(e),C(i))}}}function Gl(t){let e,n=qi(t[27].immediate_variable_changes.happiness)+"",i;return{c(){e=B("😀 "),i=B(n)},m(o,r){S(o,e,r),S(o,i,r)},p(o,r){r[0]&256&&n!==(n=qi(o[27].immediate_variable_changes.happiness)+"")&&ae(i,n)},d(o){o&&(C(e),C(i))}}}function jl(t){let e,n,i=qi(t[27].immediate_variable_changes.health)+"",o;return{c(){e=P("br"),n=B(`
										😷 `),o=B(i)},m(r,l){S(r,e,l),S(r,n,l),S(r,o,l)},p(r,l){l[0]&256&&i!==(i=qi(r[27].immediate_variable_changes.health)+"")&&ae(o,i)},d(r){r&&(C(e),C(n),C(o))}}}function Hl(t,e){let n,i,o=e[27].selected?`✅ SELECTED ${e[27].title.substring(2)}`:`${e[27].title}`,r,l,a,s=e[27].description+"",u,f,c,p,m,h,_,g,y=Tt(e[27].requirements.gold)+"",N,M,j,R,D,F,G,q,Z,A,d,v,b,$,T,L,W,U,ie,x=e[27].revenue_per_week>0&&Ll(e),te=e[27].requirements.employees>0&&Fl(e),ve=e[27].requirements.knowledge>e[9].townInfo.knowledge_points&&ql(e),ye=Ye(e[27].requirements.plots),oe=[];for(let be=0;be<ye.length;be+=1)oe[be]=Rl(Il(e,ye,be));let Te=e[27].effect_modifiers.happiness!=1&&Dl(e),Ce=e[27].effect_modifiers.health!=1&&Bl(e),Se=e[27].immediate_variable_changes.happiness!=0&&Gl(e),Le=e[27].immediate_variable_changes.health!=0&&jl(e);return{key:t,first:null,c(){n=P("tr"),i=P("td"),r=B(o),l=H(),a=P("td"),u=H(),f=P("td"),x&&x.c(),c=H(),p=P("td"),te&&te.c(),m=H(),h=P("td"),_=P("span"),g=B("$"),N=B(y),j=H(),R=P("div"),ve&&ve.c(),F=H(),G=P("td"),q=P("div");for(let be=0;be<oe.length;be+=1)oe[be].c();Z=H(),A=P("td"),d=P("div"),Te&&Te.c(),v=H(),b=P("div"),Ce&&Ce.c(),$=H(),T=P("td"),Se&&Se.c(),L=H(),Le&&Le.c(),W=H(),O(i,"class","px-2 py-2 w-12"),O(a,"class","px-2 py-2 w-24"),O(f,"class","px-2 py-2 w-12 font-bold"),O(p,"class","px-2 py-2 w-8"),O(_,"class",M=e[27].requirements.gold>e[9].townInfo.gold?"bg-red-800 text-white px-2 py-1 rounded-sm w-min overflow-ellipsis":""),O(R,"class",D=e[27].requirements.knowledge!=0?"mt-3":""),O(h,"class","px-2 py-2 w-8"),O(q,"class","flex flex-col align-middle justify-center h-max w-max gap-2"),O(G,"class","px-2 py-2 w-12"),O(d,"class","text-xs"),O(b,"class","mt-2"),O(A,"class","px-2 py-2 w-12 text-xs"),O(T,"class","px-2 py-2 w-12"),O(n,"class",U="plotOption border-b border-black "+(e[27].affordable?"cursor-pointer":"unaffordable cursor-not-allowed bg-gray-200")+" "+(e[27].selected?"italic font-light opacity-50 ":"")+" svelte-bq7iir"),O(n,"data-plotoptionid",ie=e[27].id),yn(n,"background-color",e[27].selected?"gray":Ai(e[14](e[27].id),e[4](e[2],e[3]))),this.first=n},m(be,qe){S(be,n,qe),w(n,i),w(i,r),w(n,l),w(n,a),a.innerHTML=s,w(n,u),w(n,f),x&&x.m(f,null),w(n,c),w(n,p),te&&te.m(p,null),w(n,m),w(n,h),w(h,_),w(_,g),w(_,N),w(h,j),w(h,R),ve&&ve.m(R,null),w(n,F),w(n,G),w(G,q);for(let ee=0;ee<oe.length;ee+=1)oe[ee]&&oe[ee].m(q,null);w(n,Z),w(n,A),w(A,d),Te&&Te.m(d,null),w(A,v),w(A,b),Ce&&Ce.m(b,null),w(n,$),w(n,T),Se&&Se.m(T,null),w(T,L),Le&&Le.m(T,null),w(n,W)},p(be,qe){if(e=be,qe[0]&256&&o!==(o=e[27].selected?`✅ SELECTED ${e[27].title.substring(2)}`:`${e[27].title}`)&&ae(r,o),qe[0]&256&&s!==(s=e[27].description+"")&&(a.innerHTML=s),e[27].revenue_per_week>0?x?x.p(e,qe):(x=Ll(e),x.c(),x.m(f,null)):x&&(x.d(1),x=null),e[27].requirements.employees>0?te?te.p(e,qe):(te=Fl(e),te.c(),te.m(p,null)):te&&(te.d(1),te=null),qe[0]&256&&y!==(y=Tt(e[27].requirements.gold)+"")&&ae(N,y),qe[0]&768&&M!==(M=e[27].requirements.gold>e[9].townInfo.gold?"bg-red-800 text-white px-2 py-1 rounded-sm w-min overflow-ellipsis":"")&&O(_,"class",M),e[27].requirements.knowledge>e[9].townInfo.knowledge_points?ve?ve.p(e,qe):(ve=ql(e),ve.c(),ve.m(R,null)):ve&&(ve.d(1),ve=null),qe[0]&256&&D!==(D=e[27].requirements.knowledge!=0?"mt-3":"")&&O(R,"class",D),qe[0]&25344){ye=Ye(e[27].requirements.plots);let ee;for(ee=0;ee<ye.length;ee+=1){const Oe=Il(e,ye,ee);oe[ee]?oe[ee].p(Oe,qe):(oe[ee]=Rl(Oe),oe[ee].c(),oe[ee].m(q,null))}for(;ee<oe.length;ee+=1)oe[ee].d(1);oe.length=ye.length}e[27].effect_modifiers.happiness!=1?Te?Te.p(e,qe):(Te=Dl(e),Te.c(),Te.m(d,null)):Te&&(Te.d(1),Te=null),e[27].effect_modifiers.health!=1?Ce?Ce.p(e,qe):(Ce=Bl(e),Ce.c(),Ce.m(b,null)):Ce&&(Ce.d(1),Ce=null),e[27].immediate_variable_changes.happiness!=0?Se?Se.p(e,qe):(Se=Gl(e),Se.c(),Se.m(T,L)):Se&&(Se.d(1),Se=null),e[27].immediate_variable_changes.health!=0?Le?Le.p(e,qe):(Le=jl(e),Le.c(),Le.m(T,null)):Le&&(Le.d(1),Le=null),qe[0]&256&&U!==(U="plotOption border-b border-black "+(e[27].affordable?"cursor-pointer":"unaffordable cursor-not-allowed bg-gray-200")+" "+(e[27].selected?"italic font-light opacity-50 ":"")+" svelte-bq7iir")&&O(n,"class",U),qe[0]&256&&ie!==(ie=e[27].id)&&O(n,"data-plotoptionid",ie),qe[0]&268&&yn(n,"background-color",e[27].selected?"gray":Ai(e[14](e[27].id),e[4](e[2],e[3])))},d(be){be&&C(n),x&&x.d(),te&&te.d(),ve&&ve.d(),vt(oe,be),Te&&Te.d(),Ce&&Ce.d(),Se&&Se.d(),Le&&Le.d()}}}function Th(t){let e,n,i,o,r,l,a,s,u;e=new on({props:{$$slots:{default:[gh]},$$scope:{ctx:t}}});let f=t[12].isMineralSource===!1&&Ml(t);o=new Kn({props:{class:""}});const c=[wh,yh],p=[];function m(h,_){return h[12].isMineralSource===!1?0:1}return a=m(t),s=p[a]=c[a](t),{c(){X(e.$$.fragment),n=H(),f&&f.c(),i=H(),X(o.$$.fragment),r=H(),l=P("div"),s.c(),O(l,"class","overflow-y-scroll scroll-smooth no-scrollbar max-h-[60vh] ")},m(h,_){Y(e,h,_),S(h,n,_),f&&f.m(h,_),S(h,i,_),Y(o,h,_),S(h,r,_),S(h,l,_),p[a].m(l,null),u=!0},p(h,_){const g={};_[0]&2|_[1]&16&&(g.$$scope={dirty:_,ctx:h}),e.$set(g),h[12].isMineralSource===!1?f?(f.p(h,_),_[0]&4096&&k(f,1)):(f=Ml(h),f.c(),k(f,1),f.m(i.parentNode,i)):f&&(Me(),I(f,1,1,()=>{f=null}),Ee());let y=a;a=m(h),a===y?p[a].p(h,_):(Me(),I(p[y],1,1,()=>{p[y]=null}),Ee(),s=p[a],s?s.p(h,_):(s=p[a]=c[a](h),s.c()),k(s,1),s.m(l,null))},i(h){u||(k(e.$$.fragment,h),k(f),k(o.$$.fragment,h),k(s),u=!0)},o(h){I(e.$$.fragment,h),I(f),I(o.$$.fragment,h),I(s),u=!1},d(h){h&&(C(n),C(i),C(r),C(l)),J(e,h),f&&f.d(h),J(o,h),p[a].d()}}}function Nh(t){let e,n;return e=new rn({props:{class:`border-gray-500 border-r-2 overflow-clip max-w-[90vw] max-h-[90vh]
		`,$$slots:{default:[Th]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},p(i,o){const r={};o[0]&8078|o[1]&16&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(k(e.$$.fragment,i),n=!0)},o(i){I(e.$$.fragment,i),n=!1},d(i){J(e,i)}}}function Mh(t){let e,n,i;function o(l){t[24](l)}let r={$$slots:{default:[Nh]},$$scope:{ctx:t}};return t[0]!==void 0&&(r.open=t[0]),e=new sn({props:r}),Ae.push(()=>en(e,"open",o)),{c(){X(e.$$.fragment)},m(l,a){Y(e,l,a),i=!0},p(l,a){const s={};a[0]&8078|a[1]&16&&(s.$$scope={dirty:a,ctx:l}),!n&&a[0]&1&&(n=!0,s.open=l[0],zt(()=>n=!1)),e.$set(s)},i(l){i||(k(e.$$.fragment,l),i=!0)},o(l){I(e.$$.fragment,l),i=!1},d(l){J(e,l)}}}function Fi(t){let e=t<1,n=Jt(t%1*100,0);return e?`-${100-n}%`:`+${n}%`}function qi(t){return t=Jt(t/3,0),t<0?`${t}`:`+${t}`}function Wl(t){const n=new RegExp("\\p{Emoji}","u").exec(t);return n?n[0]:null}function Jt(t,e){e===void 0&&(e=0);var n=Math.pow(10,e);t=parseFloat((t*n).toFixed(11));var i=Math.round(t)/n;return+i.toFixed(e)}function Tt(t,e=!0){let n=t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,");return e||(n=n.split(".")[0]),n}function Eh(t,e,n){let i,o,r;se(t,Xe,b=>n(12,i=b)),se(t,ke,b=>n(9,o=b)),se(t,aa,b=>n(19,r=b));let{x:l=0}=e,{y:a=0}=e,{open:s=!1}=e,u="",f=Fe,{tooltip:c=""}=e,p,m,h=f.map(b=>Object.assign(Object.assign({},b),{affordable:F(b,o),selected:y(b)}));function _(b){return Fe.findIndex($=>$.id===b)}function g(b){n(7,u=b.target.value||"")}function y(b){return o.plots[l][a].type>-1?f[o.plots[l][a].type].id===b.id:!1}function N(b,$){let T={x:b,y:$};return T.x===0&&T.y===0?!0:[{x:T.x-1,y:T.y},{x:T.x+1,y:T.y},{x:T.x,y:T.y-1},{x:T.x,y:T.y+1}].some(W=>W.x<0||W.x>o.plots.length-1||W.y<0||W.y>o.plots.length-1?!1:o.plots[W.x][W.y].active)}function M(){document.querySelectorAll(".plotOption").forEach($=>{$.classList.remove("active")}),Ti(l,a,o)}function j(b){document.querySelectorAll(".plotOption").forEach(L=>{L.classList.remove("active")});const T=document.querySelector(`[data-plotoptionid="${b}"]`);T&&(T.classList.add("active"),D(l,a,b))}function R(b,$){if(i.isMineralSource)return!1;let T=0;return b>0&&o.plots[b-1][$].type!==-1&&T++,b<o.plots.length-1&&o.plots[b+1][$].type!==-1&&T++,$>0&&o.plots[b][$-1].type!==-1&&T++,$<o.plots[0].length-1&&o.plots[b][$+1].type!==-1&&T++,T<=4}function D(b,$,T){let L=o;const W=Fe.findIndex(x=>x.id===T);let U=Fe[W];if(F(U,o)==!1)return console.log(U.requirements),alert(`${JSON.stringify(U.requirements)}`);let ie=!0;if((U.requirements.gold>L.townInfo.gold||U.requirements.employees>L.townInfo.population_count-L.townInfo.employees)&&(ie=!1),U.requirements.size!=null&&ie){let x=U.requirements.size,te=[],ve=f[W].title.toLowerCase().indexOf("school")!=-1;for(let ye=0;ye<4;ye++){let oe=[[b,$]];ye===0?(oe.push([b-(x-1),$-(x-1)]),oe.push([b-(x-1),$]),oe.push([b,$-(x-1)])):ye===1?(oe.push([b,$-(x-1)]),oe.push([b+(x-1),$-(x-1)]),oe.push([b+(x-1),$])):ye===2?(oe.push([b-(x-1),$]),oe.push([b-(x-1),$+(x-1)]),oe.push([b,$+(x-1)])):ye===3&&(oe.push([b,$+(x-1)]),oe.push([b+(x-1),$+(x-1)]),oe.push([b+(x-1),$])),te.push(oe)}te=te.filter(ye=>ye.every(oe=>oe[0]>=0&&oe[0]<=L.plots.length-1&&oe[1]>=0&&oe[1]<=L.plots.length-1&&!L.plots[oe[0]][oe[1]].active&&N(oe[0],oe[1])==!0)),te.length===0?ie=!1:te.length>0&&te[0].forEach(oe=>{L.plots[oe[0]][oe[1]].active=!0,L.plots[oe[0]][oe[1]].type=ve?-3:-2,L.plots[oe[0]][oe[1]].referencePlot=[b,$]})}if(ie===!0){switch(L.plots[b][$].type!==-1&&Ti(b,$,L),n(1,c=""),L.plots[b][$].type=W,L.plots[b][$].active=!0,L.plots[b][$].referencePlot=[],L.plots[b][$].typeId=U.id,L.townInfo.gold-=U.requirements.gold,L.townInfo.gold=Jt(L.townInfo.gold,2),L.townInfo.population_count+=U.immediate_variable_changes.population,L.townInfo.population_max+=U.immediate_variable_changes.population,L.townInfo.happiness+=U.immediate_variable_changes.happiness,L.townInfo.health+=U.immediate_variable_changes.health,L.modifiers.happiness=Jt(L.modifiers.happiness*U.effect_modifiers.happiness,2),L.modifiers.health=Jt(L.modifiers.health*U.effect_modifiers.health,2),L.townInfo.employees+=U.requirements.employees,(L.plotCounts[W]===void 0||L.plotCounts[W]===null)&&(L.plotCounts[W]=0),L.plotCounts[W]++,L.lastChangeDay=L.environment.day,U.id){case"city_hall":L.hasCityHall=!0;break;case"bank":L.hasBank=!0;break}ke.set(L),localStorage.setItem(ft,JSON.stringify(L)),ge(Xe,i.visible=!1,i)}else n(1,c="You do not have enough resources to purchase this plot. If it's a 'Large' plot, make sure you have a 2x2 area available. "),document.querySelectorAll(".plotOption").forEach(te=>{te.classList.remove("active")})}function F(b,$){let T=!0;b.requirements.gold>$.townInfo.gold&&(T=!1);let L=$.townInfo.population_count-$.townInfo.employees;return b.requirements.employees!==void 0&&b.requirements.employees>0&&b.requirements.employees>L&&(T=!1),b.requirements.knowledge!==void 0&&b.requirements.knowledge>$.townInfo.knowledge_points&&(T=!1),b.requirements.plots!==void 0&&b.requirements.plots.length>0&&b.requirements.plots.forEach(W=>{ot(W,$).length===0&&(T=!1)}),T}function G(b){const $=b.target.closest(".plotOption");if($){const T=$.dataset.plotoptionid;j(T)}}function q(b){Ae[b?"unshift":"push"](()=>{p=b,n(10,p)})}const Z=()=>{zu()},A=b=>{const $=document.querySelector(`[data-plotoptionid="${b.id}"]`);$&&$.scrollIntoView({behavior:"smooth",block:"center"})},d=()=>{D(l,a,"mine")};function v(b){s=b,n(0,s)}return t.$$set=b=>{"x"in b&&n(2,l=b.x),"y"in b&&n(3,a=b.y),"open"in b&&n(0,s=b.open),"tooltip"in b&&n(1,c=b.tooltip)},t.$$.update=()=>{t.$$.dirty[0]&525056&&o&&(n(8,h=f.map(b=>Object.assign(Object.assign({},b),{affordable:F(b,o),selected:y(b)}))),n(8,h=h.filter(b=>b.id!=="mine")),r&&n(8,h=h.filter(b=>b.affordable)),Object.keys(hr).forEach(b=>{let $=hr[b];if($>0){let T=ot(b,o).length;n(8,h=h.filter(L=>L.id!==b||T<$))}})),t.$$.dirty[0]&384&&n(8,h=h.filter(b=>b.title.toLowerCase().includes(u.toLowerCase()))),t.$$.dirty[0]&256&&n(11,m=h.filter(b=>b.affordable).length)},[s,c,l,a,N,R,D,u,h,o,p,m,i,f,_,g,M,F,G,r,q,Z,A,d,v]}class Ph extends _e{constructor(e){super(),he(this,e,Eh,Mh,le,{x:2,y:3,open:0,tooltip:1,checkIfPlotCanBeUpgraded:4,canBulldoze:5,purchasePlot:6},null,[-1,-1])}get checkIfPlotCanBeUpgraded(){return this.$$.ctx[4]}get canBulldoze(){return this.$$.ctx[5]}get purchasePlot(){return this.$$.ctx[6]}}function Oh(t){let e,n,i,o,r,l;return{c(){e=P("div"),n=P("span"),i=B(t[3]),o=H(),r=B(t[0]),O(n,"class",l="text-xs rounded-lg p-2 whitespace-normal text-center flex justify-center w-fit m-2 shadow shadow-black hover:rotate-6 overflow-visible hover:scale-110 z-10 transition-all duration-25 "+t[1]+" "+(t[2]==="happy"?"bg-green-300 text-green-900":t[2]==="standard"?"bg-blue-300 text-blue-900":t[2]==="alert"?"bg-red-900 text-red-200":"bg-gray-300 text-gray-900")),O(e,"class","overflow-visible animate-pulse")},m(a,s){S(a,e,s),w(e,n),w(n,i),w(n,o),w(n,r)},p(a,[s]){s&8&&ae(i,a[3]),s&1&&ae(r,a[0]),s&6&&l!==(l="text-xs rounded-lg p-2 whitespace-normal text-center flex justify-center w-fit m-2 shadow shadow-black hover:rotate-6 overflow-visible hover:scale-110 z-10 transition-all duration-25 "+a[1]+" "+(a[2]==="happy"?"bg-green-300 text-green-900":a[2]==="standard"?"bg-blue-300 text-blue-900":a[2]==="alert"?"bg-red-900 text-red-200":"bg-gray-300 text-gray-900"))&&O(n,"class",l)},i:ue,o:ue,d(a){a&&C(e)}}}function $h(t,e,n){let{text:i=""}=e,{classText:o=""}=e,{tone:r="standard"}=e,{emoji:l="👋"}=e;return t.$$set=a=>{"text"in a&&n(0,i=a.text),"classText"in a&&n(1,o=a.classText),"tone"in a&&n(2,r=a.tone),"emoji"in a&&n(3,l=a.emoji)},[i,o,r,l]}class nr extends _e{constructor(e){super(),he(this,e,$h,Oh,le,{text:0,classText:1,tone:2,emoji:3})}}function Lh(t){let e,n;return e=new nr({props:{text:"Build your first home",tone:"happy"}}),{c(){X(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},p:ue,i(i){n||(k(e.$$.fragment,i),n=!0)},o(i){I(e.$$.fragment,i),n=!1},d(i){J(e,i)}}}function Fh(t){let e,n,i,o=Fe[t[0].type].title.substring(0,2)+"",r,l,a=Fe[t[0].type].title.substring(2)+"",s,u,f=Fe[t[0].type].requirements.size>1?`(${Fe[t[0].type].requirements.size}x${Fe[t[0].type].requirements.size})`:"",c,p;return{c(){e=P("div"),n=P("span"),i=P("span"),r=B(o),l=P("br"),s=B(a),u=H(),c=B(f),O(i,"class","text-lg"),O(n,"data-size",p=Fe[t[0].type].requirements.size),O(e,"class","svelte-i7je74")},m(m,h){S(m,e,h),w(e,n),w(n,i),w(i,r),w(n,l),w(n,s),w(n,u),w(n,c)},p(m,h){h&1&&o!==(o=Fe[m[0].type].title.substring(0,2)+"")&&ae(r,o),h&1&&a!==(a=Fe[m[0].type].title.substring(2)+"")&&ae(s,a),h&1&&f!==(f=Fe[m[0].type].requirements.size>1?`(${Fe[m[0].type].requirements.size}x${Fe[m[0].type].requirements.size})`:"")&&ae(c,f),h&1&&p!==(p=Fe[m[0].type].requirements.size)&&O(n,"data-size",p)},i:ue,o:ue,d(m){m&&C(e)}}}function Vl(t){let e,n;return e=new nr({props:{text:"Mineral Source (mine)",emoji:"⛏️",tone:"standard"}}),{c(){X(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},i(i){n||(k(e.$$.fragment,i),n=!0)},o(i){I(e.$$.fragment,i),n=!1},d(i){J(e,i)}}}function qh(t){let e,n,i,o,r,l,a,s,u,f,c,p,m,h,_,g,y,N,M;const j=[Fh,Lh],R=[];function D(G,q){return G[0].type>-1?0:G[0].type==-1&&G[0].x==0&&G[0].y==0?1:-1}~(n=D(t))&&(i=R[n]=j[n](t));let F=t[0].mineralSource&&t[0].type==-1&&Vl();return{c(){e=P("div"),i&&i.c(),o=H(),F&&F.c(),O(e,"class",r="plot_container overflow-visible "+(t[0].type==-1&&t[1]==!1?"border-slate-500 border-dashed border":"")+" "+(t[0].mineralSource?"hidden":"")+" svelte-i7je74"),yn(e,"background-color",Ai(t[0].type,t[1])),O(e,"data-active",l=t[0].active),O(e,"data-id",a=t[0].id),O(e,"data-x",s=t[0].x),O(e,"data-y",u=t[0].y),O(e,"data-optionindex",f=t[0].optionIndex),O(e,"data-canbeupgraded",t[1]),O(e,"data-type",c=t[0].type),O(e,"data-type-id",p=t[0].typeId),O(e,"data-refplotx",m=t[0].referencePlot!==void 0?t[0].referencePlot[1]:null),O(e,"data-refploty",h=t[0].referencePlot!==void 0?t[0].referencePlot[0]:null),O(e,"data-size",_=t[0].type>-1?Fe[t[0].type].requirements.size:null),O(e,"data-mineralsource",g=t[0].mineralSource)},m(G,q){S(G,e,q),~n&&R[n].m(e,null),w(e,o),F&&F.m(e,null),y=!0,N||(M=K(e,"click",t[2]),N=!0)},p(G,[q]){let Z=n;n=D(G),n===Z?~n&&R[n].p(G,q):(i&&(Me(),I(R[Z],1,1,()=>{R[Z]=null}),Ee()),~n?(i=R[n],i?i.p(G,q):(i=R[n]=j[n](G),i.c()),k(i,1),i.m(e,o)):i=null),G[0].mineralSource&&G[0].type==-1?F?q&1&&k(F,1):(F=Vl(),F.c(),k(F,1),F.m(e,null)):F&&(Me(),I(F,1,1,()=>{F=null}),Ee()),(!y||q&3&&r!==(r="plot_container overflow-visible "+(G[0].type==-1&&G[1]==!1?"border-slate-500 border-dashed border":"")+" "+(G[0].mineralSource?"hidden":"")+" svelte-i7je74"))&&O(e,"class",r),(!y||q&3)&&yn(e,"background-color",Ai(G[0].type,G[1])),(!y||q&1&&l!==(l=G[0].active))&&O(e,"data-active",l),(!y||q&1&&a!==(a=G[0].id))&&O(e,"data-id",a),(!y||q&1&&s!==(s=G[0].x))&&O(e,"data-x",s),(!y||q&1&&u!==(u=G[0].y))&&O(e,"data-y",u),(!y||q&1&&f!==(f=G[0].optionIndex))&&O(e,"data-optionindex",f),(!y||q&2)&&O(e,"data-canbeupgraded",G[1]),(!y||q&1&&c!==(c=G[0].type))&&O(e,"data-type",c),(!y||q&1&&p!==(p=G[0].typeId))&&O(e,"data-type-id",p),(!y||q&1&&m!==(m=G[0].referencePlot!==void 0?G[0].referencePlot[1]:null))&&O(e,"data-refplotx",m),(!y||q&1&&h!==(h=G[0].referencePlot!==void 0?G[0].referencePlot[0]:null))&&O(e,"data-refploty",h),(!y||q&1&&_!==(_=G[0].type>-1?Fe[G[0].type].requirements.size:null))&&O(e,"data-size",_),(!y||q&1&&g!==(g=G[0].mineralSource))&&O(e,"data-mineralsource",g)},i(G){y||(k(i),k(F),y=!0)},o(G){I(i),I(F),y=!1},d(G){G&&C(e),~n&&R[n].d(),F&&F.d(),N=!1,M()}}}function Rh(t,e,n){let i,o,r,l;se(t,Xe,c=>n(4,i=c)),se(t,ke,c=>n(5,o=c)),se(t,ht,c=>n(6,r=c)),se(t,wn,c=>n(7,l=c));let{data:a={id:0,active:!1,x:0,y:0,type:-1,styling:"",referencePlot:[],mineralSource:!1}}=e,{canBeUpgraded:s=!1}=e;function u(c,p,m){let h=document.querySelectorAll(".plot_container");if(r==!1){if(a.referencePlot!=null&&a.referencePlot[0]!==null&&p==null&&m==null&&a.referencePlot[1]!==void 0)return u(c,a.referencePlot[0],a.referencePlot[1]);!a.active&&!s?(ge(wn,l={},l),ge(Xe,i.visible=!1,i),h.forEach(_=>{_.classList.remove("selected")})):(p!=null&&m!=null?(ge(Xe,i.x=p,i),ge(Xe,i.y=m,i)):(ge(Xe,i.x=a.x,i),ge(Xe,i.y=a.y,i)),ge(Xe,i.isMineralSource=a.mineralSource,i),ge(Xe,i.visible=!0,i),h.forEach(_=>{_.classList.remove("selected")}),p!=null&&m!=null?document.querySelector(`.plot_container[data-x="${p}"][data-y="${m}"]`).classList.add("selected"):document.querySelector(`.plot_container[data-id="${a.id}"]`).classList.add("selected"))}}function f(c){r==!1&&(ge(ke,o.plots[a.x][a.y].type=c,o),ge(Xe,i.visible=!1,i))}return t.$$set=c=>{"data"in c&&n(0,a=c.data),"canBeUpgraded"in c&&n(1,s=c.canBeUpgraded)},[a,s,u,f]}class Dh extends _e{constructor(e){super(),he(this,e,Rh,qh,le,{data:0,canBeUpgraded:1,changePlotType:3})}get changePlotType(){return this.$$.ctx[3]}}function Kl(t,e,n){const i=t.slice();return i[6]=e[n],i}function Ul(t,e,n){const i=t.slice();return i[9]=e[n],i}function Yl(t){let e,n,i=t[3],o,r,l=Ye(t[2].plots),a=[];for(let f=0;f<l.length;f+=1)a[f]=Xl(Kl(t,l,f));const s=f=>I(a[f],1,1,()=>{a[f]=null});let u=Ql(t);return{c(){e=P("div");for(let f=0;f<a.length;f+=1)a[f].c();n=H(),u.c(),o=Pe(),O(e,"class","grid overflow-x-scroll overflow-visible svelte-3cpxwu")},m(f,c){S(f,e,c);for(let p=0;p<a.length;p+=1)a[p]&&a[p].m(e,null);S(f,n,c),u.m(f,c),S(f,o,c),r=!0},p(f,c){if(c&7){l=Ye(f[2].plots);let p;for(p=0;p<l.length;p+=1){const m=Kl(f,l,p);a[p]?(a[p].p(m,c),k(a[p],1)):(a[p]=Xl(m),a[p].c(),k(a[p],1),a[p].m(e,null))}for(Me(),p=l.length;p<a.length;p+=1)s(p);Ee()}c&8&&le(i,i=f[3])?(Me(),I(u,1,1,ue),Ee(),u=Ql(f),u.c(),k(u,1),u.m(o.parentNode,o)):u.p(f,c)},i(f){if(!r){for(let c=0;c<l.length;c+=1)k(a[c]);k(u),r=!0}},o(f){a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)I(a[c]);I(u),r=!1},d(f){f&&(C(e),C(n),C(o)),vt(a,f),u.d(f)}}}function Jl(t){let e,n;return e=new Dh({props:{data:t[9],canBeUpgraded:t[0](t[9].x,t[9].y)}}),{c(){X(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},p(i,o){const r={};o&4&&(r.data=i[9]),o&4&&(r.canBeUpgraded=i[0](i[9].x,i[9].y)),e.$set(r)},i(i){n||(k(e.$$.fragment,i),n=!0)},o(i){I(e.$$.fragment,i),n=!1},d(i){J(e,i)}}}function Xl(t){let e,n,i,o,r,l=Ye(t[6]),a=[];for(let u=0;u<l.length;u+=1)a[u]=Jl(Ul(t,l,u));const s=u=>I(a[u],1,1,()=>{a[u]=null});return{c(){e=P("div");for(let u=0;u<a.length;u+=1)a[u].c();n=H(),O(e,"class","row overflow-visible svelte-3cpxwu")},m(u,f){S(u,e,f);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(e,null);w(e,n),i=!0,o||(r=K(e,"click",t[1]),o=!0)},p(u,f){if(f&5){l=Ye(u[6]);let c;for(c=0;c<l.length;c+=1){const p=Ul(u,l,c);a[c]?(a[c].p(p,f),k(a[c],1)):(a[c]=Jl(p),a[c].c(),k(a[c],1),a[c].m(e,n))}for(Me(),c=l.length;c<a.length;c+=1)s(c);Ee()}},i(u){if(!i){for(let f=0;f<l.length;f+=1)k(a[f]);i=!0}},o(u){a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)I(a[f]);i=!1},d(u){u&&C(e),vt(a,u),o=!1,r()}}}function Zl(t){let e,n;return e=new Ph({props:{x:t[4].x,y:t[4].y,open:t[4].visible}}),{c(){X(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},p(i,o){const r={};o&16&&(r.x=i[4].x),o&16&&(r.y=i[4].y),o&16&&(r.open=i[4].visible),e.$set(r)},i(i){n||(k(e.$$.fragment,i),n=!0)},o(i){I(e.$$.fragment,i),n=!1},d(i){J(e,i)}}}function Ql(t){let e,n,i=t[4].visible&&Zl(t);return{c(){i&&i.c(),e=Pe()},m(o,r){i&&i.m(o,r),S(o,e,r),n=!0},p(o,r){o[4].visible?i?(i.p(o,r),r&16&&k(i,1)):(i=Zl(o),i.c(),k(i,1),i.m(e.parentNode,e)):i&&(Me(),I(i,1,1,()=>{i=null}),Ee())},i(o){n||(k(i),n=!0)},o(o){I(i),n=!1},d(o){o&&C(e),i&&i.d(o)}}}function Bh(t){let e,n,i=t[2]!=null&&Yl(t);return{c(){i&&i.c(),e=Pe()},m(o,r){i&&i.m(o,r),S(o,e,r),n=!0},p(o,[r]){o[2]!=null?i?(i.p(o,r),r&4&&k(i,1)):(i=Yl(o),i.c(),k(i,1),i.m(e.parentNode,e)):i&&(Me(),I(i,1,1,()=>{i=null}),Ee())},i(o){n||(k(i),n=!0)},o(o){I(i),n=!1},d(o){o&&C(e),i&&i.d(o)}}}function Gh(t,e,n){let i,o,r;se(t,wn,u=>n(3,i=u)),se(t,ke,u=>n(2,o=u)),se(t,Xe,u=>n(4,r=u));function l(u,f){let c={x:u,y:f};return c.x===0&&c.y===0?!0:[{x:c.x-1,y:c.y},{x:c.x+1,y:c.y},{x:c.x,y:c.y-1},{x:c.x,y:c.y+1}].some(m=>m.x<0||m.x>=o.plots.length||m.y<0||m.y>=o.plots[m.x].length?!1:o.plots[m.x][m.y].active)}function a(){let u=[];for(let f=0;f<o.plots.length;f++)for(let c=0;c<o.plots.length;c++)l(f,c)&&o.plots[f][c].active==!1&&u.push(o.plots[f][c])}function s(){ge(wn,i={},i)}return t.$$.update=()=>{t.$$.dirty&4&&o&&a()},[l,s,o,i,r]}class jh extends _e{constructor(e){super(),he(this,e,Gh,Bh,le,{checkIfPlotCanBeUpgraded:0,restartModifyPlotMenu:1})}get checkIfPlotCanBeUpgraded(){return this.$$.ctx[0]}get restartModifyPlotMenu(){return this.$$.ctx[1]}}const et={unemployment_num:" people can't find jobs.",bored:"People are bored. Try making some new buildings.",vairety:"People don't like going to the same places over and over again. Try making some new buildings.",nobody_home:"Build some homes!",leave_town_num:" people left town because they were unhappy.",new_people_num:" new people moved to town.",people_want_to_move_in:"People want to move in. Build more homes.",high_tax_rate:"People are unhappy with the high tax rate.",very_high_tax_rate:"People are extremely unhappy with the high tax rate.",sickAndDying:"People are sick and dying.",sickAndLeaving:"People are sick and leaving town.",happiness_zero:"The town has fallen into chaos due to extreme unhappiness.",health_zero:"The town has fallen into chaos due to extreme sickness.",population_zero:"The town has been condemned due to lack of population.",win:{land:"You have filled the grid with buildings. You win!"},hospital_advantage:"Because you have a hospital, the town is staying healthier for longer!",notEnoughVariety:"People are sick of going to the same places over and over, add some variety!"},rt={land:{short_title:"Fill the grid",description_title:"You win by filling up all possible plots in the grid, and by meeting some requirements.",win:"You have filled the grid with buildings and met the requirements. Your citizens are happy, fulfilled, hard-working, and healthy. ",requirements:{0:{population_count:200,happiness:100,health:100,employment:1,knowledge:50,required_plots:["pub","small_school","community_center"]},1:{population_count:1e3,happiness:120,health:120,employment:1,knowledge:100,required_plots:["bank"]},2:{population_count:1e3,happiness:200,health:200,employment:1,knowledge:1e3,required_plots:["bank","city_hall"]}}},free_play:{short_title:"Free Play",description_title:"Play for as long as you can and build the best city you can."}},it=[{id:"happiness_at_300",title:"Happy Town",description:"One of your towns wins Happiest Town Award!",requirements:"Happiness reaches 300",icon:"😍",check:t=>t.townInfo.happiness>=300,prize:1e3},{id:"get_educated",title:"Get Educated",description:"The kids are finally able to learn!",requirements:"Build a school or library",icon:"📌",check:t=>ot("small_school",t).length!==0||ot("large_school",t).length!==0||ot("library",t).length!==0,prize:1850},{id:"10k",title:"$10,000",description:"",requirements:"Gold reaches $10,000",icon:"﹩",check:t=>t.townInfo.gold>=1e4,prize:2500},{id:"25k",title:"$25,000",description:"",requirements:"Gold reaches $25,000",icon:"💵",check:t=>t.townInfo.gold>=25e3,prize:7500},{id:"stayin_frugal",title:"Stayin' Frugal!",description:"",requirements:"Gold under $50 with >=300 population",icon:"🚲",check:t=>t.townInfo.gold<=50&&t.townInfo.population_count>=300,prize:1e4},{id:"profits_to_the_moon",title:"Profits to the moon!",description:"Now you're making dough!",requirements:"Last month profit is over $10,000",icon:"🌛",check:t=>t.economyAndLaws.last_month_profit>=1e4,prize:15e3},{id:"happily_dying",title:"Happily Dying!",description:"Not something to be proud of...",requirements:"Happiness > 275, health < 25",icon:"🌛",check:t=>t.townInfo.happiness>275&&t.townInfo.health<25,prize:2e4},{id:"long_game",title:"The Long Game",description:"So are you gonna win anytime soon?",requirements:"Still playing after 10,000 days, without winning. ",icon:"🐌",check:t=>t.endGameDetails.win===!1&&t.environment.day>1e4&&t.endGameDetails.msg==="",prize:25e3},{id:"tax_man",title:"Tax man",description:"Set the tax rate to the absolute max that the town will tolerate.",requirements:"",icon:"🙃",check:t=>{let e=Math.floor(t.economyAndLaws.max_tax_rate*20)/20;return t.economyAndLaws.tax_rate===e},prize:1500},{id:"good_job",title:"Good job",description:"Beat 'Fill the grid' with Normal difficulty in under 3,000 days.",requirements:"",icon:"👍",check:t=>t.endGameDetails.win===!0&&t.environment.day<=3e3&&t.difficulty===1&&t.endGoal==="land",prize:1e4},{id:"great_job",title:"Great job",description:"Beat 'Fill the grid' with Normal difficulty in under 2,000 days.",requirements:"",icon:"👏",check:t=>t.endGameDetails.win===!0&&t.environment.day<=2e3&&t.difficulty===1&&t.endGoal==="land",prize:45e3},{id:"superb_job",title:"SUPERB job",description:"Beat 'Fill the grid' with Normal difficulty in under 500 days.",requirements:"",icon:"👌",check:t=>t.endGameDetails.win===!0&&t.environment.day<=500&&t.difficulty===1&&t.endGoal==="land",prize:1e5},{id:"250k",title:"$250,000",description:"",requirements:"Gold reaches $250,000",icon:"💸",check:t=>t.townInfo.gold>=25e4,prize:5e4},{id:"banker",title:"Banker",description:"",requirements:"Build your first bank. ",icon:"🏦",check:t=>ot("bank",t).length!==0,prize:5e3},{id:"community",title:"Community Center",description:"",requirements:"Build your first community center. ",icon:"❤️",check:t=>ot("community_center",t).length!==0,prize:1e4},{id:"tourist_town",title:"Tourist Town",description:"Reach $50,000 in tourism gold without converting to gold.",requirements:"",icon:"🏝️",check:t=>t.townInfo.gold_from_tourism>=5e4,prize:5e4},{id:"1m",title:"MILLIONAIRE!",description:"",requirements:"Gold reaches $1,000,000",icon:"💰",check:t=>t.townInfo.gold>=1e6,prize:15e4}],xl=30;function Hh(t){let e=!0;for(let n=0;n<t.plots.length;n++)for(let i=0;i<t.plots[n].length;i++)if(t.plots[n][i].active==!1){e=!1;break}return e}function Wh(t){return t.endGameDetails!=null||(t.townInfo.happiness<70&&t.last_warning_happiness+365<t.environment.day&&(alert("Your citizens are very unhappy. You should do something about it."),t.last_warning_happiness=t.environment.day),t.townInfo.health<70&&t.last_warning_health+365<t.environment.day&&(alert("Your citizens are very unhealthy. You should do something about it."),t.last_warning_health=t.environment.day)),t}function Vh(t){return t.hasBank,t}function Kh(t){return t.hasCityHall,t}function Uh(t){let e=t.economyAndLaws.knowledge_gold_market_rates[t.economyAndLaws.knowledge_gold_market_rates.length-1]||1;const n=-100,i=8,o=3;let r=Math.random(),l=Math.random()*o;if(r<.4){let a=Math.random()*i;Math.random()<.5?e+=a:e-=a}else Math.random()>.5?e+=l:e-=l;return e<n&&(e+=Math.random()*l/5),e=Math.round(e),t.economyAndLaws.knowledge_gold_market_rates=[...t.economyAndLaws.knowledge_gold_market_rates,e],t}function No(t){return t.lab.active_experiment==null||t.lab.active_experiment.duration>0&&(t.lab.active_experiment.duration-=1),t}function Mo(t){if(t.townInfo.happiness>150){let n=t.townInfo.happiness-150;t.townInfo.happiness-=n*.08,t.townInfo.happiness<150&&(t.townInfo.happiness=150)}if(t.townInfo.health>150){let n=t.townInfo.health-150;t.townInfo.health-=n*.08,t.townInfo.health<150&&(t.townInfo.health=150)}return t}function Yh(t){return t.townInfo.happiness*=t.modifiers.happiness,t.townInfo.health*=t.modifiers.health,t}function Jh(t,e){let n=e.townInfo.happiness/100;n>2.25?n=2.25:n<.75&&(n=.75);let i=t*e.economyAndLaws.tax_rate*(e.townInfo.population_count/e.townInfo.population_max)*n;return $t(i,2)}function $t(t,e){e===void 0&&(e=0);var n=Math.pow(10,e);t=parseFloat((t*n).toFixed(11));var i=Math.round(t)/n;return+i.toFixed(e)}function Xh(t,e,n){let i,o,r,l,a;se(t,mi,d=>n(5,i=d)),se(t,ke,d=>n(6,o=d)),se(t,Mi,d=>n(7,r=d)),se(t,ht,d=>n(8,l=d)),se(t,gn,d=>n(9,a=d));function s(d){return d=y(d),d=D(d),d=q(d),d=Yh(d),d=M(d),d=G(d),d=m(d),d=Uh(d),d=Wh(d),d}function u(d){return d=Z(d),d=Vh(d),d=Kh(d),d}function f(d){return d=j(d),d=Mo(d),d=R(d),d=N(d),d}function c(d){return d=F(d),d=No(d),d.overtime==!1&&(d=g(d),d=h(d)),d=_(d),d}function p(){ke.update(d=>{if(d==null||(d.tick++,d.tick%xl!==0)||l||!d||d.endGameDetails.msg!==""&&d.overtime==!1||d.townInfo.population_count<=0)return d;try{return d.environment.day+=1,d.environment.day%7===0&&(d=s(d)),d.environment.day%30===0&&(d=u(d)),d.environment.day%90===0&&(d=f(d)),window.location.search.includes("debug=true")&&console.log(d),d=c(d),d}catch(v){return console.error("Error in game loop:",v),d}})}ke.subscribe(d=>{d&&localStorage.setItem(ft,JSON.stringify(d))}),gn.subscribe(d=>{d&&localStorage.setItem(Ii,JSON.stringify(d))});function m(d){let v=!1,b=!1,$=!1,T=!1;for(let L=0;L<d.plots.length;L++)for(let W=0;W<d.plots[L].length;W++)if(d.plots[L][W].active==!0&&d.plots[L][W].type>-1){let U=Fe[d.plots[L][W].type].id;U=="bank"&&(v=!0),U=="city_hall"&&($=!0),(U=="small_hospital"||U=="large_hospital")&&(b=!0),U=="lab"&&(T=!0)}return d.hasBank=v,d.hasHospital=b,d.hasCityHall=$,d.hasLab=T,d}function h(d){if(d.endGoal=="land"&&d.townInfo.population_max==d.townInfo.population_count&&d.townInfo.happiness>=rt.land.requirements[d.difficulty].happiness&&d.townInfo.health>=rt.land.requirements[d.difficulty].health&&d.townInfo.employees/d.townInfo.population_count>=rt.land.requirements[d.difficulty].employment&&d.townInfo.population_count>rt.land.requirements[d.difficulty].population_count&&d.townInfo.knowledge_points>=rt.land.requirements[d.difficulty].knowledge){let b=!0;for(let T=0;T<rt.land.requirements[d.difficulty].required_plots.length;T++){let L=rt.land.requirements[d.difficulty].required_plots[T];if(ot(L,d)==!1){b=!1;break}}Hh(d)&&b&&(d.endGameDetails={msg:rt.land.win,win:!0,still_playing:!1})}return d}function _(d){if(d.devMode)return d;let v=a;for(let b=0;b<it.length;b++)v.achievements.find($=>$[0]==it[b].id)==null&&it[b].check(d)&&(v.achievements.push([it[b].id,d.environment.day,d.townInfo.name]),ge(ht,l=!0,l),ge(Mi,r=!0,r));return gn.update(()=>v),d}function g(d){return d.townInfo.happiness<=3&&(d.townInfo.happiness=0,d.endGameDetails={msg:et.happiness_zero,win:!1,still_playing:!1}),d.townInfo.health<=3&&(d.townInfo.health=3,d.endGameDetails={msg:et.health_zero,win:!1,still_playing:!1}),d.townInfo.population_count<=0&&d.townInfo.population_max>0&&(d.townInfo.population_count=0,d.endGameDetails={msg:et.population_zero,win:!1,still_playing:!1}),d}function y(d){let v=d.townInfo.population_count-d.townInfo.employees;return v>0&&(d.modifiers.happiness-=v*4e-4,d=A(v+et.unemployment_num,d)),d}function N(d){let v=d.plotCounts.reduce(($,T)=>$+T,0),b=!1;for(let $=0;$<d.plotCounts.length;$++)d.plotCounts[$]==null||Fe[$].check_for_variety!=!0||d.plotCounts[$]/v>=Xu[d.difficulty]&&(Fe[$].title,b=!0);return b&&(d=A(et.notEnoughVariety,d),d.modifiers.happiness*.95),d}function M(d){let v=d.townInfo.health,b=0;return v>50||v<Math.random()*50&&(v<25?(d=A(et.sickAndDying,d),d.townInfo.happiness-=10,b=Math.round(d.townInfo.population_count*.1)):(d=A(et.sickAndLeaving,d),d.townInfo.happiness-=5,b=Math.round(d.townInfo.population_count*.05)),d.townInfo.population_count-=b,d.townInfo.employees-=b),d}function j(d){return d.lastChangeDay+(Math.random()*500+180)<d.environment.day&&d.townInfo.population_count>0&&(d.townInfo.population_count>0&&(d.townInfo.population_count-=1,d.townInfo.employees-=1,d.modifiers.happiness-=.01),d=A(et.bored,d)),d}function R(d){if(d.townInfo.population_count<d.townInfo.population_max&&d.townInfo.happiness>50){let v=d.townInfo.population_max-d.townInfo.population_count,b=Math.round(d.townInfo.happiness/100*v);d.townInfo.population_count+=b,d.townInfo.population_count>d.townInfo.population_max&&(d.townInfo.population_count=d.townInfo.population_max),d.townInfo.employees+=b,d.townInfo.employees>d.townInfo.population_count&&(d.townInfo.employees=d.townInfo.population_count),d=A(b+et.new_people_num,d)}if(d.townInfo.happiness<50&&d.townInfo.population_count>0){let v=Math.round((100-d.townInfo.happiness)/5);d.townInfo.population_count-=v,d.townInfo.employees>0&&(d.townInfo.employees-=v),d=A(v+et.leave_town_num,d)}else d.townInfo.population_count==d.townInfo.population_max;return d}function D(d){const v=Math.random();if(d.economyAndLaws.tax_rate>d.economyAndLaws.max_tax_rate&&d.townInfo.population_count>0){const b=d.difficulty==0?.7:d.difficulty==1?.4:.2;v<b&&d.economyAndLaws.tax_rate>d.economyAndLaws.max_tax_rate*2?(d.modifiers.happiness-=.03,d=A(et.very_high_tax_rate+"  ("+d.economyAndLaws.tax_rate+"%)",d)):(d.modifiers.happiness-=.01,d=A(et.high_tax_rate+"  ("+d.economyAndLaws.tax_rate*100+"%)",d))}return d}function F(d){return d.townInfo.happiness<0&&(d.townInfo.happiness=0),d.townInfo.health<0&&(d.townInfo.health=0),d.townInfo.gold<0&&(d.townInfo.gold=0),d.townInfo.employees<0&&(d.townInfo.employees=0),d.townInfo.knowledge_points<0&&(d.townInfo.knowledge_points=0),d.townInfo.population_count<0&&(d.townInfo.population_count=0),d.townInfo.population_max==0&&d.townLog.indexOf(et.nobody_home)==-1&&(d=A(et.nobody_home,d)),d.economyAndLaws.last_month_profit=$t(d.economyAndLaws.last_month_profit,2),d.townInfo.employees>d.townInfo.population_count&&(d.townInfo.employees=d.townInfo.population_count),d.townInfo.gold=$t(d.townInfo.gold,2),d.townInfo.population_count=$t(d.townInfo.population_count,0),d.townInfo.employees=$t(d.townInfo.employees,0),d.townInfo.population_max=$t(d.townInfo.population_max,0),d.townInfo.happiness=$t(d.townInfo.happiness,2),d.townInfo.health=$t(d.townInfo.health,2),d.townInfo.happiness>d.maximums.happiness&&(d.townInfo.happiness=d.maximums.happiness),d.townInfo.health>d.maximums.health&&(d.townInfo.health=d.maximums.health),d.modifiers.happiness<.5&&(d.modifiers.happiness=.5),d.modifiers.health<.5&&(d.modifiers.health=.5),d}function G(d){if(d.modifiers.happiness>1){let v=d.modifiers.happiness-1;d.modifiers.happiness-=v*.08,d.modifiers.happiness<1.05&&(d.modifiers.happiness=1)}if(d.modifiers.health>1)if(ot("small_hospital",d)||ot("large_hospital",d)){if(d.townLog.indexOf(et.hospital_advantage)==-1)return d=A(et.hospital_advantage,d);let v=d.modifiers.health-1;d.modifiers.health-=v*ot("large_hospital",d)?.04:.06,d.modifiers.health<1.03&&(d.modifiers.health=1)}else{let v=d.modifiers.health-1;d.modifiers.health-=v*.08,d.modifiers.health<1.05&&(d.modifiers.health=1)}return d}function q(d){d.economyAndLaws.last_month_profit=0;for(let v=0;v<d.plots.length;v++)for(let b=0;b<d.plots[v].length;b++)if(d.plots[v][b].active==!0&&d.plots[v][b].type>-1){let $=Fe[d.plots[v][b].type],T=Jh($.revenue_per_week,d);d.townInfo.gold+=T,d.economyAndLaws.last_month_profit+=T,$.enables_tourism==!0&&(d.townInfo.gold_from_tourism+=$.tourism_revenue_per_week*d.economyAndLaws.tax_rate*d.townInfo.population_count)}return d}function Z(d){for(let v=0;v<d.plots.length;v++)for(let b=0;b<d.plots[v].length;b++)if(d.plots[v][b].active==!0&&d.plots[v][b].type>-1){let $=Fe[d.plots[v][b].type];$.knowledge_points_per_month!=null&&(d.townInfo.knowledge_points+=$.knowledge_points_per_month)}return d}function A(d,v){return v.townLog="Day "+o.environment.day+" - "+d+`
`+v.townLog,v}return Yo(async()=>{for(;;)localStorage.reset=="true"&&(Qo(),localStorage.setItem("reset","false")),p(),await new Promise(d=>setTimeout(d,i/xl))}),[p,No,F,G,Mo]}class Zh extends _e{constructor(e){super(),he(this,e,Xh,null,le,{mainGameThreadLoop:0,_checkExperiment:1,_fixVariables:2,_bringModifiersBackToNormal:3,_bringStatsBackToNormal:4})}get mainGameThreadLoop(){return this.$$.ctx[0]}get _checkExperiment(){return No}get _fixVariables(){return this.$$.ctx[2]}get _bringModifiersBackToNormal(){return this.$$.ctx[3]}get _bringStatsBackToNormal(){return Mo}}function zl(t,e,n){const i=t.slice();return i[14]=e[n],i}function Qh(t){let e;return{c(){e=P("span"),e.textContent="No Alerts",O(e,"class","townLog text-xs text-slate-500 text-center")},m(n,i){S(n,e,i)},p:ue,d(n){n&&C(e)}}}function xh(t){let e,n=t[1].townLog.split(`
`)[0]+"",i,o,r,l=Ye(t[1].townLog.split(`
`).slice(1,300)),a=[];for(let s=0;s<l.length;s+=1)a[s]=es(zl(t,l,s));return{c(){e=P("div"),i=B(n),o=H();for(let s=0;s<a.length;s+=1)a[s].c();r=Pe(),O(e,"class","townLog text-xs text-center")},m(s,u){S(s,e,u),w(e,i),S(s,o,u);for(let f=0;f<a.length;f+=1)a[f]&&a[f].m(s,u);S(s,r,u)},p(s,u){if(u&2&&n!==(n=s[1].townLog.split(`
`)[0]+"")&&ae(i,n),u&2){l=Ye(s[1].townLog.split(`
`).slice(1,300));let f;for(f=0;f<l.length;f+=1){const c=zl(s,l,f);a[f]?a[f].p(c,u):(a[f]=es(c),a[f].c(),a[f].m(r.parentNode,r))}for(;f<a.length;f+=1)a[f].d(1);a.length=l.length}},d(s){s&&(C(e),C(o),C(r)),vt(a,s)}}}function es(t){let e,n=t[14]+"",i,o;return{c(){e=P("span"),i=B(n),o=H(),O(e,"class","townLog text-xs text-center cursor-pointer")},m(r,l){S(r,e,l),w(e,i),w(e,o)},p(r,l){l&2&&n!==(n=r[14]+"")&&ae(i,n)},d(r){r&&C(e)}}}function ts(t){let e,n;return e=new nr({props:{text:"Set this!!!",tone:"alert",emoji:"⬆️"}}),{c(){X(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},i(i){n||(k(e.$$.fragment,i),n=!0)},o(i){I(e.$$.fragment,i),n=!1},d(i){J(e,i)}}}function ns(t){let e,n;return e=new Gt({props:{class:"text-xs flex flex-col h-min mt-2",$$slots:{default:[t_]},$$scope:{ctx:t}}}),e.$on("click",t[9]),{c(){X(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},p(i,o){const r={};o&131074&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(k(e.$$.fragment,i),n=!0)},o(i){I(e.$$.fragment,i),n=!1},d(i){J(e,i)}}}function is(t){let e;function n(r,l){if(r[1].lab.active_experiment.duration>0)return e_;if(r[1].lab.active_experiment.duration===0)return zh}let i=n(t),o=i&&i(t);return{c(){o&&o.c(),e=Pe()},m(r,l){o&&o.m(r,l),S(r,e,l)},p(r,l){i===(i=n(r))&&o?o.p(r,l):(o&&o.d(1),o=i&&i(r),o&&(o.c(),o.m(e.parentNode,e)))},d(r){r&&C(e),o&&o.d(r)}}}function zh(t){let e;return{c(){e=P("span"),e.textContent="✅ DONE!",O(e,"class","animate-pulse ")},m(n,i){S(n,e,i)},p:ue,d(n){n&&C(e)}}}function e_(t){let e,n=t[1].lab.active_experiment.duration+"",i,o;return{c(){e=P("span"),i=B(n),o=B("d")},m(r,l){S(r,e,l),w(e,i),w(e,o)},p(r,l){l&2&&n!==(n=r[1].lab.active_experiment.duration+"")&&ae(i,n)},d(r){r&&C(e)}}}function t_(t){let e,n,i,o=t[1].lab.active_experiment!==null&&is(t);return{c(){e=P("div"),e.textContent="Manage Lab",n=H(),o&&o.c(),i=Pe()},m(r,l){S(r,e,l),S(r,n,l),o&&o.m(r,l),S(r,i,l)},p(r,l){r[1].lab.active_experiment!==null?o?o.p(r,l):(o=is(r),o.c(),o.m(i.parentNode,i)):o&&(o.d(1),o=null)},d(r){r&&(C(e),C(n),C(i)),o&&o.d(r)}}}function n_(t){let e,n,i,o,r,l=t[1].townInfo.name+"",a,s,u,f,c,p,m,h,_,g,y,N,M,j,R,D,F,G,q,Z,A,d,v,b,$,T,L,W,U,ie,x,te,ve=Yn(t[1].economyAndLaws.tax_rate*100,0)+"",ye,oe,Te,Ce,Se,Le,be,qe,ee,Oe,Ke,Ze,tt,Ue,De,ut;function ct(we,z){return we[1].townLog.length>0?xh:Qh}let xe=ct(t),ze=xe(t),He=t[1].economyAndLaws.tax_rate==0&&ts(),Ge=t[1].hasLab&&ns(t);return Ke=new Kn({props:{class:`mb-3 mt-0 bg-slate-700
	`}}),tt=new Pa({}),{c(){e=P("div"),n=P("div"),i=P("div"),o=P("div"),r=P("div"),a=B(l),s=H(),u=P("span"),f=P("div"),c=P("span"),p=B(t[4]),m=B(" speed"),h=H(),_=P("span"),g=B("Day "),y=B(t[3]),N=B(" Year "),M=B(t[2]),j=H(),R=P("span"),R.textContent="Press P to Pause or learn how to play",D=H(),F=P("span"),G=B("("),q=B(t[5]),Z=B(")"),A=H(),d=P("div"),v=P("div"),v.textContent="🚨 Alerts",b=H(),ze.c(),$=H(),T=P("div"),L=P("div"),W=P("div"),U=P("span"),U.textContent="Tax Rate",ie=H(),x=P("span"),te=B("("),ye=B(ve),oe=B("%)"),Te=H(),Ce=P("input"),Le=H(),be=P("br"),qe=H(),He&&He.c(),ee=H(),Ge&&Ge.c(),Oe=H(),X(Ke.$$.fragment),Ze=H(),X(tt.$$.fragment),O(r,"class","text-2xl font-bold cursor-pointer text-emerald-700"),O(r,"id","townName"),O(f,"class","flex flex-row gap-3"),O(u,"class","text-xs gap-2 cursor-pointer hover:text-blue-600"),O(R,"class","text-xs text-col"),O(F,"class","text-xs text-gray-400"),O(o,"class","flex flex-col gap-1"),O(v,"class","text-md cursor-pointer"),O(d,"class","flex flex-col gap-2 drop-shadow-md text-center pb-6 rounded-lg max-h-24 h-24 hover:max-h-48 hover:h-48 transition-all ml-2 mr-2 overflow-y-scroll scroll-smooth no-scrollbar cursor-pointer text-slate-500 hover:text-blue-600 w-1/4 "),O(U,"class","text-slate-500"),O(x,"class","text-sm text-gray-700"),O(W,"class","text-sm"),O(Ce,"type","range"),O(Ce,"min","0"),O(Ce,"max","1.0"),O(Ce,"step","0.05"),Ce.value=Se=t[1].economyAndLaws.tax_rate,O(Ce,"class","cursor-pointer w-100 svelte-j064ft"),O(L,"class","pb-2 rounded-lg text-center"),O(T,"class",""),O(i,"class","select-none flex justify-evenly"),O(n,"class","select-none flex flex-col justify-start align-left text-left bg-slate-300 border-b-2 border-black text-black p-3 border-r-20 rounded-lg w-10/12"),O(n,"id","headerObject"),O(e,"class","<!-- center horizontally --> flex justify-center text-center p-3 fixed top-0 left-0 right-0 z-20 ")},m(we,z){S(we,e,z),w(e,n),w(n,i),w(i,o),w(o,r),w(r,a),w(o,s),w(o,u),w(u,f),w(f,c),w(c,p),w(c,m),w(f,h),w(f,_),w(_,g),w(_,y),w(_,N),w(_,M),w(o,j),w(o,R),w(o,D),w(o,F),w(F,G),w(F,q),w(F,Z),w(i,A),w(i,d),w(d,v),w(d,b),ze.m(d,null),w(i,$),w(i,T),w(T,L),w(L,W),w(W,U),w(W,ie),w(W,x),w(x,te),w(x,ye),w(x,oe),w(L,Te),w(L,Ce),w(L,Le),w(L,be),w(L,qe),He&&He.m(L,null),w(L,ee),Ge&&Ge.m(L,null),w(n,Oe),Y(Ke,n,null),w(n,Ze),Y(tt,n,null),Ue=!0,De||(ut=[K(r,"click",t[6]),K(u,"click",t[7]),K(d,"click",t[11]),K(Ce,"input",t[8])],De=!0)},p(we,[z]){(!Ue||z&2)&&l!==(l=we[1].townInfo.name+"")&&ae(a,l),(!Ue||z&16)&&ae(p,we[4]),(!Ue||z&8)&&ae(y,we[3]),(!Ue||z&4)&&ae(M,we[2]),(!Ue||z&32)&&ae(q,we[5]),xe===(xe=ct(we))&&ze?ze.p(we,z):(ze.d(1),ze=xe(we),ze&&(ze.c(),ze.m(d,null))),(!Ue||z&2)&&ve!==(ve=Yn(we[1].economyAndLaws.tax_rate*100,0)+"")&&ae(ye,ve),(!Ue||z&2&&Se!==(Se=we[1].economyAndLaws.tax_rate))&&(Ce.value=Se),we[1].economyAndLaws.tax_rate==0?He?z&2&&k(He,1):(He=ts(),He.c(),k(He,1),He.m(L,ee)):He&&(Me(),I(He,1,1,()=>{He=null}),Ee()),we[1].hasLab?Ge?(Ge.p(we,z),z&2&&k(Ge,1)):(Ge=ns(we),Ge.c(),k(Ge,1),Ge.m(L,null)):Ge&&(Me(),I(Ge,1,1,()=>{Ge=null}),Ee())},i(we){Ue||(k(He),k(Ge),k(Ke.$$.fragment,we),k(tt.$$.fragment,we),Ue=!0)},o(we){I(He),I(Ge),I(Ke.$$.fragment,we),I(tt.$$.fragment,we),Ue=!1},d(we){we&&C(e),ze.d(),He&&He.d(),Ge&&Ge.d(),J(Ke),J(tt),De=!1,Re(ut)}}}function Yn(t,e){if(e===void 0&&(e=0),t==null||t==null)return 0;t=parseFloat((t*Math.pow(10,e)).toFixed(11));var n=Math.round(t)/Math.pow(10,e);return+n.toFixed(e)}function i_(t){let e=Math.floor(t/1e3),n=Math.floor(e/60);e=e%60;let i=Math.floor(n/60);return n=n%60,`${co(i)}:${co(n)}:${co(e)}`}function co(t){return t<10?"0"+t:t}function o_(t,e,n){let i,o,r;se(t,ke,g=>n(1,i=g)),se(t,mi,g=>n(12,o=g)),se(t,yo,g=>n(13,r=g));let l,a;Yo(()=>{const g=setInterval(()=>{ge(ke,i.timeSpent+=1e3,i)},1e3);return()=>{clearInterval(g)}});function s(){let g=prompt("Enter a new name for your town (under 200 chars)");if(g&&g.length<200){let y=i;y.townInfo.name=g,ke.set(y),localStorage.setItem(ft,JSON.stringify(y))}}let u="Normal";function f(){o==500?(ge(mi,o=250,o),n(4,u="Fast")):(ge(mi,o=500,o),n(4,u="Normal"))}function c(g){let y=i;y.economyAndLaws.tax_rate=Yn(g.target.value,2),ke.set(y),localStorage.setItem(ft,JSON.stringify(y))}function p(){let g=i;g.hasBank===!0?(g.townInfo.gold+=g.townInfo.gold_from_tourism,g.townInfo.gold_from_tourism=0,ke.set(g),localStorage.setItem(ft,JSON.stringify(g))):alert("You need a bank to transfer funds from tourism activities.")}document.addEventListener("keydown",g=>{switch(g.key.toLowerCase()){case"1":g.preventDefault(),f();break;case"2":g.preventDefault(),f();break}});function m(){pi.set(!0)}let h="00:00:00";const _=()=>{ge(ke,i.townLog="",i)};return t.$$.update=()=>{if(t.$$.dirty&2){const g=document.getElementById("headerObject");g&&ge(yo,r=g.offsetHeight+32,r),n(2,l=Math.floor(i.environment.day/365)+1),n(3,a=dt(i.environment.day))}t.$$.dirty&2&&(i.timeSpent>0?n(5,h=i_(i.timeSpent)):n(5,h="00:00:00"))},[Yn,i,l,a,u,h,s,f,c,m,p,_]}class r_ extends _e{constructor(e){super(),he(this,e,o_,n_,le,{roundTo:0,transferFundsFromBank:10})}get roundTo(){return Yn}get transferFundsFromBank(){return this.$$.ctx[10]}}function l_(t){let e;const n=t[2].default,i=fe(n,t,t[4],null);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&16)&&de(i,n,o,o[4],e?ce(n,o[4],r,null):pe(o[4]),null)},i(o){e||(k(i,o),e=!0)},o(o){I(i,o),e=!1},d(o){i&&i.d(o)}}}function s_(t){let e,n;const i=[{class:$e("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",t[0])},t[1]];let o={$$slots:{default:[l_]},$$scope:{ctx:t}};for(let r=0;r<i.length;r+=1)o=V(o,i[r]);return e=new Kp({props:o}),e.$on("mousedown",t[3]),{c(){X(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&3?me(i,[l&1&&{class:$e("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",r[0])},l&2&&nt(r[1])]):{};l&16&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){I(e.$$.fragment,r),n=!1},d(r){J(e,r)}}}function a_(t,e,n){const i=["class"];let o=ne(e,i),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(u){Q.call(this,t,u)}return t.$$set=u=>{e=V(V({},e),Ne(u)),n(1,o=ne(e,i)),"class"in u&&n(0,a=u.class),"$$scope"in u&&n(4,l=u.$$scope)},[a,o,r,s,l]}class pn extends _e{constructor(e){super(),he(this,e,a_,s_,le,{class:0})}}function u_(t){let e;const n=t[3].default,i=fe(n,t,t[4],null);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&16)&&de(i,n,o,o[4],e?ce(n,o[4],r,null):pe(o[4]),null)},i(o){e||(k(i,o),e=!0)},o(o){I(i,o),e=!1},d(o){i&&i.d(o)}}}function f_(t){let e,n;const i=[{class:$e("text-lg font-semibold",t[0])},{level:t[1]},t[2]];let o={$$slots:{default:[u_]},$$scope:{ctx:t}};for(let r=0;r<i.length;r+=1)o=V(o,i[r]);return e=new yc({props:o}),{c(){X(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&7?me(i,[l&1&&{class:$e("text-lg font-semibold",r[0])},l&2&&{level:r[1]},l&4&&nt(r[2])]):{};l&16&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){I(e.$$.fragment,r),n=!1},d(r){J(e,r)}}}function c_(t,e,n){const i=["class","level"];let o=ne(e,i),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{level:s="h3"}=e;return t.$$set=u=>{e=V(V({},e),Ne(u)),n(2,o=ne(e,i)),"class"in u&&n(0,a=u.class),"level"in u&&n(1,s=u.level),"$$scope"in u&&n(4,l=u.$$scope)},[a,s,o,r,l]}class Ra extends _e{constructor(e){super(),he(this,e,c_,f_,le,{class:0,level:1})}}const d_=t=>({builder:t&64}),os=t=>({builder:t[6]});function p_(t){let e;const n=t[2].default,i=fe(n,t,t[5],os);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&96)&&de(i,n,o,o[5],e?ce(n,o[5],r,d_):pe(o[5]),os)},i(o){e||(k(i,o),e=!0)},o(o){I(i,o),e=!1},d(o){i&&i.d(o)}}}function m_(t){let e,n;const i=[{class:$e(kn(),t[0])},t[1]];let o={$$slots:{default:[p_,({builder:r})=>({6:r}),({builder:r})=>r?64:0]},$$scope:{ctx:t}};for(let r=0;r<i.length;r+=1)o=V(o,i[r]);return e=new Tc({props:o}),e.$on("click",t[3]),e.$on("keydown",t[4]),{c(){X(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&3?me(i,[l&1&&{class:$e(kn(),r[0])},l&2&&nt(r[1])]):{};l&96&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){I(e.$$.fragment,r),n=!1},d(r){J(e,r)}}}function h_(t,e,n){const i=["class"];let o=ne(e,i),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(f){Q.call(this,t,f)}function u(f){Q.call(this,t,f)}return t.$$set=f=>{e=V(V({},e),Ne(f)),n(1,o=ne(e,i)),"class"in f&&n(0,a=f.class),"$$scope"in f&&n(5,l=f.$$scope)},[a,o,r,s,u,l]}class __ extends _e{constructor(e){super(),he(this,e,h_,m_,le,{class:0})}}const g_=t=>({builder:t&64}),rs=t=>({builder:t[6]});function b_(t){let e;const n=t[2].default,i=fe(n,t,t[5],rs);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&96)&&de(i,n,o,o[5],e?ce(n,o[5],r,g_):pe(o[5]),rs)},i(o){e||(k(i,o),e=!0)},o(o){I(i,o),e=!1},d(o){i&&i.d(o)}}}function v_(t){let e,n;const i=[{class:$e(kn({variant:"outline"}),"mt-2 sm:mt-0",t[0])},t[1]];let o={$$slots:{default:[b_,({builder:r})=>({6:r}),({builder:r})=>r?64:0]},$$scope:{ctx:t}};for(let r=0;r<i.length;r+=1)o=V(o,i[r]);return e=new Lc({props:o}),e.$on("click",t[3]),e.$on("keydown",t[4]),{c(){X(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&3?me(i,[l&1&&{class:$e(kn({variant:"outline"}),"mt-2 sm:mt-0",r[0])},l&2&&nt(r[1])]):{};l&96&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){I(e.$$.fragment,r),n=!1},d(r){J(e,r)}}}function y_(t,e,n){const i=["class"];let o=ne(e,i),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(f){Q.call(this,t,f)}function u(f){Q.call(this,t,f)}return t.$$set=f=>{e=V(V({},e),Ne(f)),n(1,o=ne(e,i)),"class"in f&&n(0,a=f.class),"$$scope"in f&&n(5,l=f.$$scope)},[a,o,r,s,u,l]}class w_ extends _e{constructor(e){super(),he(this,e,y_,v_,le,{class:0})}}function k_(t){let e;const n=t[1].default,i=fe(n,t,t[2],null);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&4)&&de(i,n,o,o[2],e?ce(n,o[2],r,null):pe(o[2]),null)},i(o){e||(k(i,o),e=!0)},o(o){I(i,o),e=!1},d(o){i&&i.d(o)}}}function C_(t){let e,n;const i=[t[0]];let o={$$slots:{default:[k_]},$$scope:{ctx:t}};for(let r=0;r<i.length;r+=1)o=V(o,i[r]);return e=new jc({props:o}),{c(){X(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&1?me(i,[nt(r[0])]):{};l&4&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){I(e.$$.fragment,r),n=!1},d(r){J(e,r)}}}function S_(t,e,n){const i=[];let o=ne(e,i),{$$slots:r={},$$scope:l}=e;return t.$$set=a=>{e=V(V({},e),Ne(a)),n(0,o=ne(e,i)),"$$scope"in a&&n(2,l=a.$$scope)},[o,r,l]}class A_ extends _e{constructor(e){super(),he(this,e,S_,C_,le,{})}}function I_(t){let e,n,i;const o=t[3].default,r=fe(o,t,t[2],null);let l=[{class:n=$e("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=V(a,l[s]);return{c(){e=P("div"),r&&r.c(),re(e,a)},m(s,u){S(s,e,u),r&&r.m(e,null),i=!0},p(s,[u]){r&&r.p&&(!i||u&4)&&de(r,o,s,s[2],i?ce(o,s[2],u,null):pe(s[2]),null),re(e,a=me(l,[(!i||u&1&&n!==(n=$e("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s[0])))&&{class:n},u&2&&s[1]]))},i(s){i||(k(r,s),i=!0)},o(s){I(r,s),i=!1},d(s){s&&C(e),r&&r.d(s)}}}function T_(t,e,n){const i=["class"];let o=ne(e,i),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=V(V({},e),Ne(s)),n(1,o=ne(e,i)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,o,l,r]}class Da extends _e{constructor(e){super(),he(this,e,T_,I_,le,{class:0})}}function N_(t){let e,n,i;const o=t[3].default,r=fe(o,t,t[2],null);let l=[{class:n=$e("flex flex-col space-y-2 text-center sm:text-left",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=V(a,l[s]);return{c(){e=P("div"),r&&r.c(),re(e,a)},m(s,u){S(s,e,u),r&&r.m(e,null),i=!0},p(s,[u]){r&&r.p&&(!i||u&4)&&de(r,o,s,s[2],i?ce(o,s[2],u,null):pe(s[2]),null),re(e,a=me(l,[(!i||u&1&&n!==(n=$e("flex flex-col space-y-2 text-center sm:text-left",s[0])))&&{class:n},u&2&&s[1]]))},i(s){i||(k(r,s),i=!0)},o(s){I(r,s),i=!1},d(s){s&&C(e),r&&r.d(s)}}}function M_(t,e,n){const i=["class"];let o=ne(e,i),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=V(V({},e),Ne(s)),n(1,o=ne(e,i)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,o,l,r]}class Ba extends _e{constructor(e){super(),he(this,e,M_,N_,le,{class:0})}}function E_(t){let e,n;const i=[{transition:t[1]},{transitionConfig:t[2]},{class:$e("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm ",t[0])},t[3]];let o={};for(let r=0;r<i.length;r+=1)o=V(o,i[r]);return e=new dd({props:o}),{c(){X(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&15?me(i,[l&2&&{transition:r[1]},l&4&&{transitionConfig:r[2]},l&1&&{class:$e("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm ",r[0])},l&8&&nt(r[3])]):{};e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){I(e.$$.fragment,r),n=!1},d(r){J(e,r)}}}function P_(t,e,n){const i=["class","transition","transitionConfig"];let o=ne(e,i),{class:r=void 0}=e,{transition:l=Ea}=e,{transitionConfig:a={duration:150}}=e;return t.$$set=s=>{e=V(V({},e),Ne(s)),n(3,o=ne(e,i)),"class"in s&&n(0,r=s.class),"transition"in s&&n(1,l=s.transition),"transitionConfig"in s&&n(2,a=s.transitionConfig)},[r,l,a,o]}class O_ extends _e{constructor(e){super(),he(this,e,P_,E_,le,{class:0,transition:1,transitionConfig:2})}}function $_(t){let e;const n=t[4].default,i=fe(n,t,t[5],null);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&32)&&de(i,n,o,o[5],e?ce(n,o[5],r,null):pe(o[5]),null)},i(o){e||(k(i,o),e=!0)},o(o){I(i,o),e=!1},d(o){i&&i.d(o)}}}function L_(t){let e,n,i,o;e=new O_({});const r=[{transition:t[0]},{transitionConfig:t[1]},{class:$e("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg md:w-full",t[2])},t[3]];let l={$$slots:{default:[$_]},$$scope:{ctx:t}};for(let a=0;a<r.length;a+=1)l=V(l,r[a]);return i=new nd({props:l}),{c(){X(e.$$.fragment),n=H(),X(i.$$.fragment)},m(a,s){Y(e,a,s),S(a,n,s),Y(i,a,s),o=!0},p(a,s){const u=s&15?me(r,[s&1&&{transition:a[0]},s&2&&{transitionConfig:a[1]},s&4&&{class:$e("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg md:w-full",a[2])},s&8&&nt(a[3])]):{};s&32&&(u.$$scope={dirty:s,ctx:a}),i.$set(u)},i(a){o||(k(e.$$.fragment,a),k(i.$$.fragment,a),o=!0)},o(a){I(e.$$.fragment,a),I(i.$$.fragment,a),o=!1},d(a){a&&C(n),J(e,a),J(i,a)}}}function F_(t){let e,n;return e=new A_({props:{$$slots:{default:[L_]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},p(i,[o]){const r={};o&47&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(k(e.$$.fragment,i),n=!0)},o(i){I(e.$$.fragment,i),n=!1},d(i){J(e,i)}}}function q_(t,e,n){const i=["transition","transitionConfig","class"];let o=ne(e,i),{$$slots:r={},$$scope:l}=e,{transition:a=er}=e,{transitionConfig:s=void 0}=e,{class:u=void 0}=e;return t.$$set=f=>{e=V(V({},e),Ne(f)),n(3,o=ne(e,i)),"transition"in f&&n(0,a=f.transition),"transitionConfig"in f&&n(1,s=f.transitionConfig),"class"in f&&n(2,u=f.class),"$$scope"in f&&n(5,l=f.$$scope)},[a,s,u,o,r,l]}class Ga extends _e{constructor(e){super(),he(this,e,q_,F_,le,{transition:0,transitionConfig:1,class:2})}}function R_(t){let e;const n=t[2].default,i=fe(n,t,t[3],null);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&8)&&de(i,n,o,o[3],e?ce(n,o[3],r,null):pe(o[3]),null)},i(o){e||(k(i,o),e=!0)},o(o){I(i,o),e=!1},d(o){i&&i.d(o)}}}function D_(t){let e,n;const i=[{class:$e("text-sm text-muted-foreground",t[0])},t[1]];let o={$$slots:{default:[R_]},$$scope:{ctx:t}};for(let r=0;r<i.length;r+=1)o=V(o,i[r]);return e=new vd({props:o}),{c(){X(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&3?me(i,[l&1&&{class:$e("text-sm text-muted-foreground",r[0])},l&2&&nt(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){I(e.$$.fragment,r),n=!1},d(r){J(e,r)}}}function B_(t,e,n){const i=["class"];let o=ne(e,i),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=V(V({},e),Ne(s)),n(1,o=ne(e,i)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,l=s.$$scope)},[a,o,r,l]}class ja extends _e{constructor(e){super(),he(this,e,B_,D_,le,{class:0})}}const Ha=pc;function ls(t,e,n){const i=t.slice();return i[25]=e[n],i}function ss(t,e,n){const i=t.slice();return i[28]=e[n],i}function G_(t){let e;return{c(){e=B("Pause Menu")},m(n,i){S(n,e,i)},d(n){n&&C(e)}}}function j_(t){let e;return{c(){e=B("Unpause any time by pressing 'P'")},m(n,i){S(n,e,i)},d(n){n&&C(e)}}}function H_(t){let e,n,i,o;return e=new nn({props:{$$slots:{default:[G_]},$$scope:{ctx:t}}}),i=new ln({props:{$$slots:{default:[j_]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=H(),X(i.$$.fragment)},m(r,l){Y(e,r,l),S(r,n,l),Y(i,r,l),o=!0},p(r,l){const a={};l[1]&1&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l[1]&1&&(s.$$scope={dirty:l,ctx:r}),i.$set(s)},i(r){o||(k(e.$$.fragment,r),k(i.$$.fragment,r),o=!0)},o(r){I(e.$$.fragment,r),I(i.$$.fragment,r),o=!1},d(r){r&&C(n),J(e,r),J(i,r)}}}function as(t){let e,n,i,o,r,l=JSON.stringify(t[5].requirements[t[2].difficulty].population_count)+"",a,s,u=JSON.stringify(t[2].townInfo.population_count)+"",f,c,p,m,h=JSON.stringify(t[5].requirements[t[2].difficulty].happiness)+"",_,g,y=JSON.stringify(t[2].townInfo.happiness)+"",N,M,j,R,D=JSON.stringify(t[5].requirements[t[2].difficulty].employment*100)+"",F,G,q=JSON.stringify((t[2].townInfo.employees/t[2].townInfo.population_count||0)*100)+"",Z,A,d,v,b,$=JSON.stringify(t[5].requirements[t[2].difficulty].health)+"",T,L,W=JSON.stringify(t[2].townInfo.health)+"",U,ie,x,te,ve=JSON.stringify(t[5].requirements[t[2].difficulty].knowledge)+"",ye,oe,Te=JSON.stringify(t[2].townInfo.knowledge_points)+"",Ce,Se,Le;function be(z,je){return z[2].townInfo.population_count>=z[5].requirements[z[2].difficulty].population_count?V_:W_}let qe=be(t),ee=qe(t);function Oe(z,je){return z[2].townInfo.happiness>=z[5].requirements[z[2].difficulty].happiness?U_:K_}let Ke=Oe(t),Ze=Ke(t);function tt(z,je){return z[2].townInfo.employees/z[2].townInfo.population_count>=z[5].requirements[z[2].difficulty].employment?J_:Y_}let Ue=tt(t),De=Ue(t);function ut(z,je){return z[2].townInfo.health>=z[5].requirements[z[2].difficulty].health?Z_:X_}let ct=ut(t),xe=ct(t);function ze(z,je){return z[2].townInfo.knowledge_points>=z[5].requirements[z[2].difficulty].knowledge?x_:Q_}let He=ze(t),Ge=He(t),we=t[5].requirements[t[2].difficulty].required_plots!=null&&t[5].requirements[t[2].difficulty].required_plots.length>0&&us(t);return{c(){e=P("div"),e.textContent=`With your difficulty (${t[6]}), you must also have:`,n=H(),i=P("ul"),o=P("li"),ee.c(),r=B(`
									Population: `),a=B(l),s=B(" - Currently at "),f=B(u),c=H(),p=P("li"),Ze.c(),m=B(`
									Happiness: `),_=B(h),g=B(" - Currently at "),N=B(y),M=H(),j=P("li"),De.c(),R=B(`
									Employment: `),F=B(D),G=B("% - Currently at "),Z=B(q),A=B("%"),d=H(),v=P("li"),xe.c(),b=B(`
									Health: `),T=B($),L=B(" - Currently at "),U=B(W),ie=H(),x=P("li"),Ge.c(),te=B(`
									Knowledge: `),ye=B(ve),oe=B(" - Currently at "),Ce=B(Te),Se=H(),we&&we.c(),Le=Pe(),O(e,"class","leading-relaxed text-sm"),O(i,"class","list-inside list-disc leading-relaxedmt-0 text-sm")},m(z,je){S(z,e,je),S(z,n,je),S(z,i,je),w(i,o),ee.m(o,null),w(o,r),w(o,a),w(o,s),w(o,f),w(i,c),w(i,p),Ze.m(p,null),w(p,m),w(p,_),w(p,g),w(p,N),w(i,M),w(i,j),De.m(j,null),w(j,R),w(j,F),w(j,G),w(j,Z),w(j,A),w(i,d),w(i,v),xe.m(v,null),w(v,b),w(v,T),w(v,L),w(v,U),w(i,ie),w(i,x),Ge.m(x,null),w(x,te),w(x,ye),w(x,oe),w(x,Ce),S(z,Se,je),we&&we.m(z,je),S(z,Le,je)},p(z,je){qe!==(qe=be(z))&&(ee.d(1),ee=qe(z),ee&&(ee.c(),ee.m(o,r))),je[0]&4&&l!==(l=JSON.stringify(z[5].requirements[z[2].difficulty].population_count)+"")&&ae(a,l),je[0]&4&&u!==(u=JSON.stringify(z[2].townInfo.population_count)+"")&&ae(f,u),Ke!==(Ke=Oe(z))&&(Ze.d(1),Ze=Ke(z),Ze&&(Ze.c(),Ze.m(p,m))),je[0]&4&&h!==(h=JSON.stringify(z[5].requirements[z[2].difficulty].happiness)+"")&&ae(_,h),je[0]&4&&y!==(y=JSON.stringify(z[2].townInfo.happiness)+"")&&ae(N,y),Ue!==(Ue=tt(z))&&(De.d(1),De=Ue(z),De&&(De.c(),De.m(j,R))),je[0]&4&&D!==(D=JSON.stringify(z[5].requirements[z[2].difficulty].employment*100)+"")&&ae(F,D),je[0]&4&&q!==(q=JSON.stringify((z[2].townInfo.employees/z[2].townInfo.population_count||0)*100)+"")&&ae(Z,q),ct!==(ct=ut(z))&&(xe.d(1),xe=ct(z),xe&&(xe.c(),xe.m(v,b))),je[0]&4&&$!==($=JSON.stringify(z[5].requirements[z[2].difficulty].health)+"")&&ae(T,$),je[0]&4&&W!==(W=JSON.stringify(z[2].townInfo.health)+"")&&ae(U,W),He!==(He=ze(z))&&(Ge.d(1),Ge=He(z),Ge&&(Ge.c(),Ge.m(x,te))),je[0]&4&&ve!==(ve=JSON.stringify(z[5].requirements[z[2].difficulty].knowledge)+"")&&ae(ye,ve),je[0]&4&&Te!==(Te=JSON.stringify(z[2].townInfo.knowledge_points)+"")&&ae(Ce,Te),z[5].requirements[z[2].difficulty].required_plots!=null&&z[5].requirements[z[2].difficulty].required_plots.length>0?we?we.p(z,je):(we=us(z),we.c(),we.m(Le.parentNode,Le)):we&&(we.d(1),we=null)},d(z){z&&(C(e),C(n),C(i),C(Se),C(Le)),ee.d(),Ze.d(),De.d(),xe.d(),Ge.d(),we&&we.d(z)}}}function W_(t){let e;return{c(){e=B("❌")},m(n,i){S(n,e,i)},d(n){n&&C(e)}}}function V_(t){let e;return{c(){e=B("✅")},m(n,i){S(n,e,i)},d(n){n&&C(e)}}}function K_(t){let e;return{c(){e=B("❌")},m(n,i){S(n,e,i)},d(n){n&&C(e)}}}function U_(t){let e;return{c(){e=B("✅")},m(n,i){S(n,e,i)},d(n){n&&C(e)}}}function Y_(t){let e;return{c(){e=B("❌")},m(n,i){S(n,e,i)},d(n){n&&C(e)}}}function J_(t){let e;return{c(){e=B("✅")},m(n,i){S(n,e,i)},d(n){n&&C(e)}}}function X_(t){let e;return{c(){e=B("❌")},m(n,i){S(n,e,i)},d(n){n&&C(e)}}}function Z_(t){let e;return{c(){e=B("✅")},m(n,i){S(n,e,i)},d(n){n&&C(e)}}}function Q_(t){let e;return{c(){e=B("❌")},m(n,i){S(n,e,i)},d(n){n&&C(e)}}}function x_(t){let e;return{c(){e=B("✅")},m(n,i){S(n,e,i)},d(n){n&&C(e)}}}function us(t){let e,n,i,o=Ye(t[5].requirements[t[2].difficulty].required_plots),r=[];for(let l=0;l<o.length;l+=1)r[l]=fs(ss(t,o,l));return{c(){e=P("br"),n=B(`
								You also need to have these plots:
								`);for(let l=0;l<r.length;l+=1)r[l].c();i=Pe()},m(l,a){S(l,e,a),S(l,n,a);for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(l,a);S(l,i,a)},p(l,a){if(a[0]&36){o=Ye(l[5].requirements[l[2].difficulty].required_plots);let s;for(s=0;s<o.length;s+=1){const u=ss(l,o,s);r[s]?r[s].p(u,a):(r[s]=fs(u),r[s].c(),r[s].m(i.parentNode,i))}for(;s<r.length;s+=1)r[s].d(1);r.length=o.length}},d(l){l&&(C(e),C(n),C(i)),vt(r,l)}}}function z_(t){let e;return{c(){e=B("❌")},m(n,i){S(n,e,i)},d(n){n&&C(e)}}}function eg(t){let e;return{c(){e=B("✅")},m(n,i){S(n,e,i)},d(n){n&&C(e)}}}function fs(t){let e,n,i,o,r=t[28]+"",l,a;function s(c,p){return p[0]&4&&(i=null),i==null&&(i=ot(c[28],c[2]).length>0),i?eg:z_}let u=s(t,[-1,-1]),f=u(t);return{c(){e=P("div"),n=P("li"),f.c(),o=H(),l=B(r),a=H(),O(e,"class","text-sm")},m(c,p){S(c,e,p),w(e,n),f.m(n,null),w(n,o),w(n,l),w(e,a)},p(c,p){u!==(u=s(c,p))&&(f.d(1),f=u(c),f&&(f.c(),f.m(n,o))),p[0]&4&&r!==(r=c[28]+"")&&ae(l,r)},d(c){c&&C(e),f.d()}}}function tg(t){let e;return{c(){e=B("Save game")},m(n,i){S(n,e,i)},d(n){n&&C(e)}}}function ng(t){let e;return{c(){e=B("Save")},m(n,i){S(n,e,i)},d(n){n&&C(e)}}}function ig(t){let e;return{c(){e=B("Upload game")},m(n,i){S(n,e,i)},d(n){n&&C(e)}}}function cs(t){let e,n;function i(){return t[19](t[25])}return e=new Gt({props:{class:"bg-blue-600 hover:bg-blue-700 mt-4",id:"collectPrize-"+t[25].id,$$slots:{default:[og]},$$scope:{ctx:t}}}),e.$on("click",i),{c(){X(e.$$.fragment)},m(o,r){Y(e,o,r),n=!0},p(o,r){t=o;const l={};r[0]&2&&(l.id="collectPrize-"+t[25].id),r[0]&2|r[1]&1&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){I(e.$$.fragment,o),n=!1},d(o){J(e,o)}}}function og(t){let e,n=ps(t[25].prize)+"",i,o;return{c(){e=B("Collect Prize: $"),i=B(n),o=B(" gold")},m(r,l){S(r,e,l),S(r,i,l),S(r,o,l)},p(r,l){l[0]&2&&n!==(n=ps(r[25].prize)+"")&&ae(i,n)},d(r){r&&(C(e),C(i),C(o))}}}function ds(t){let e,n,i,o,r,l,a=t[25].title+"",s,u,f,c=t[25].requirements+"",p,m,h,_=t[25].icon+"",g,y,N,M=t[25].description+"",j,R,D,F,G=t[8](t[25].id)+"",q,Z,A,d=t[13](t[25].id)&&!t[9](t[25].id),v,b,$,T=d&&cs(t);return{c(){e=P("div"),n=P("div"),i=P("div"),o=P("span"),r=P("div"),l=P("span"),s=B(a),u=H(),f=P("div"),p=B(c),m=H(),h=P("div"),g=B(_),y=H(),N=P("div"),j=B(M),R=H(),D=P("div"),F=B("✅ Completed on Day "),q=B(G),A=H(),T&&T.c(),v=H(),O(l,"class","font-semibold text-lg"),O(f,"class","font-thin text-white opacity-75 text-xs"),O(r,"class","flex flex-row gap-3 w-[100%] text- items-center "),O(h,"class","text-sm flex-grow pr-1 break-inside-avoid "),O(o,"class","flex flex-row justify-between w-[100%]"),O(i,"class","min-w-32 flex "),O(N,"class","text-white opacity-75 text-sm font-light"),O(D,"class",Z=(t[13](t[25].id)?"":"hidden")+" text-xs text-green-400"),O(n,"class","flex-col flex px-3 py-2 gap-0"),O(e,"class",b="flex flex-col gap-3 cursor-default rounded-md "+(t[13](t[25].id)?"bg-green-700":"bg-gray-500 opacity-35"))},m(L,W){S(L,e,W),w(e,n),w(n,i),w(i,o),w(o,r),w(r,l),w(l,s),w(r,u),w(r,f),w(f,p),w(o,m),w(o,h),w(h,g),w(n,y),w(n,N),w(N,j),w(n,R),w(n,D),w(D,F),w(D,q),w(n,A),T&&T.m(n,null),w(e,v),$=!0},p(L,W){(!$||W[0]&2)&&a!==(a=L[25].title+"")&&ae(s,a),(!$||W[0]&2)&&c!==(c=L[25].requirements+"")&&ae(p,c),(!$||W[0]&2)&&_!==(_=L[25].icon+"")&&ae(g,_),(!$||W[0]&2)&&M!==(M=L[25].description+"")&&ae(j,M),(!$||W[0]&2)&&G!==(G=L[8](L[25].id)+"")&&ae(q,G),(!$||W[0]&2&&Z!==(Z=(L[13](L[25].id)?"":"hidden")+" text-xs text-green-400"))&&O(D,"class",Z),W[0]&2&&(d=L[13](L[25].id)&&!L[9](L[25].id)),d?T?(T.p(L,W),W[0]&2&&k(T,1)):(T=cs(L),T.c(),k(T,1),T.m(n,null)):T&&(Me(),I(T,1,1,()=>{T=null}),Ee()),(!$||W[0]&2&&b!==(b="flex flex-col gap-3 cursor-default rounded-md "+(L[13](L[25].id)?"bg-green-700":"bg-gray-500 opacity-35")))&&O(e,"class",b)},i(L){$||(k(T),$=!0)},o(L){I(T),$=!1},d(L){L&&C(e),T&&T.d()}}}function rg(t){let e,n,i,o,r,l,a,s,u,f,c,p,m,h,_,g,y,N,M,j,R,D,F,G,q,Z,A,d,v,b,$,T,L,W,U,ie,x,te,ve,ye,oe,Te,Ce;e=new on({props:{$$slots:{default:[H_]},$$scope:{ctx:t}}});let Se=t[2].endGoal=="land"&&as(t);_=new pn({props:{for:"saveButton",class:`cursor-pointer bg-blue-600 rounded-md text-center p-2.5 hover:bg-blue-700 justify-center flex 
					`,$$slots:{default:[tg]},$$scope:{ctx:t}}}),y=new Gt({props:{class:`
					bg-blue-600 hover:bg-blue-700 hidden
					`,id:"saveButton",$$slots:{default:[ng]},$$scope:{ctx:t}}}),y.$on("click",t[16]),M=new pn({props:{for:"upload",class:`cursor-pointer bg-blue-600 rounded-md text-center p-2.5 hover:bg-blue-700 justify-center flex 
					`,$$slots:{default:[ig]},$$scope:{ctx:t}}}),R=new tr({props:{class:"hidden",type:"file",id:"upload"}}),R.$on("change",t[12]),F=new Kn({props:{orientation:"vertical"}});let Le=Ye(t[1]),be=[];for(let ee=0;ee<Le.length;ee+=1)be[ee]=ds(ls(t,Le,ee));const qe=ee=>I(be[ee],1,1,()=>{be[ee]=null});return{c(){X(e.$$.fragment),n=H(),i=P("div"),o=P("div"),r=P("div"),l=P("h4"),l.textContent="This game",a=H(),s=P("span"),s.textContent=`${t[5].description_title}`,u=H(),f=P("div"),Se&&Se.c(),c=H(),p=P("div"),m=P("div"),h=P("div"),X(_.$$.fragment),g=H(),X(y.$$.fragment),N=H(),X(M.$$.fragment),j=H(),X(R.$$.fragment),D=H(),X(F.$$.fragment),G=H(),q=P("div"),Z=P("h4"),Z.textContent=`Your achievement (${t[7].length}
					/ ${it.length})`,A=H(),d=P("span"),d.textContent="Track your progress through games & complete challenges!",v=H(),b=P("br"),$=H(),T=P("div"),L=P("input"),W=H(),U=P("label"),U.textContent="Show completed",ie=H(),x=P("div"),te=P("div");for(let ee=0;ee<be.length;ee+=1)be[ee].c();ve=H(),ye=P("span"),ye.textContent=`Prizes apply to the current game you are in. You can wait to apply
					them until the right time.`,O(l,"class","underline underline-offset-4"),O(s,"class","text-sm text-gray-400"),O(f,"class","mt-6 gap-0 py-0 text-gray-400 text-sm"),O(r,"class","flex-col h-max"),O(h,"class","flex gap-10 justify-start min-w-[100%] w-[100%] items"),O(m,"class","flex flex-col gap-3 h-max"),O(o,"class","flex flex-col gap-6 justify-between"),O(Z,"class","underline underline-offset-4"),O(d,"class","text-sm text-gray-400"),O(L,"type","checkbox"),O(L,"id","toggle-show-completed"),O(L,"class","rounded"),O(L,"tabindex","-1"),L.checked=localStorage.getItem("showCompletedAchievements")==="true",O(U,"for","toggle-show-completed"),O(U,"class","text-xs text-gray-400 select-none ml-2 no-select cursor-pointer "),O(T,"class","flex items-center"),O(te,"class","flex flex-col gap-4 overflow-scroll pb-20 scroll-smooth"),O(x,"class","overflow-scroll mt-2 h-[55vh]"),O(ye,"class","text-sm text-yellow-400 italic"),O(i,"class","flex flex-row w-full gap-10")},m(ee,Oe){Y(e,ee,Oe),S(ee,n,Oe),S(ee,i,Oe),w(i,o),w(o,r),w(r,l),w(r,a),w(r,s),w(r,u),w(r,f),Se&&Se.m(f,null),w(o,c),w(o,p),w(p,m),w(m,h),Y(_,h,null),w(h,g),Y(y,h,null),w(h,N),Y(M,h,null),w(h,j),Y(R,h,null),w(i,D),Y(F,i,null),w(i,G),w(i,q),w(q,Z),w(q,A),w(q,d),w(q,v),w(q,b),w(q,$),w(q,T),w(T,L),w(T,W),w(T,U),w(q,ie),w(q,x),w(x,te);for(let Ke=0;Ke<be.length;Ke+=1)be[Ke]&&be[Ke].m(te,null);w(q,ve),w(q,ye),oe=!0,Te||(Ce=[K(L,"change",t[17]),K(L,"keydown",t[18])],Te=!0)},p(ee,Oe){const Ke={};Oe[1]&1&&(Ke.$$scope={dirty:Oe,ctx:ee}),e.$set(Ke),ee[2].endGoal=="land"?Se?Se.p(ee,Oe):(Se=as(ee),Se.c(),Se.m(f,null)):Se&&(Se.d(1),Se=null);const Ze={};Oe[1]&1&&(Ze.$$scope={dirty:Oe,ctx:ee}),_.$set(Ze);const tt={};Oe[1]&1&&(tt.$$scope={dirty:Oe,ctx:ee}),y.$set(tt);const Ue={};if(Oe[1]&1&&(Ue.$$scope={dirty:Oe,ctx:ee}),M.$set(Ue),Oe[0]&9986){Le=Ye(ee[1]);let De;for(De=0;De<Le.length;De+=1){const ut=ls(ee,Le,De);be[De]?(be[De].p(ut,Oe),k(be[De],1)):(be[De]=ds(ut),be[De].c(),k(be[De],1),be[De].m(te,null))}for(Me(),De=Le.length;De<be.length;De+=1)qe(De);Ee()}},i(ee){if(!oe){k(e.$$.fragment,ee),k(_.$$.fragment,ee),k(y.$$.fragment,ee),k(M.$$.fragment,ee),k(R.$$.fragment,ee),k(F.$$.fragment,ee);for(let Oe=0;Oe<Le.length;Oe+=1)k(be[Oe]);oe=!0}},o(ee){I(e.$$.fragment,ee),I(_.$$.fragment,ee),I(y.$$.fragment,ee),I(M.$$.fragment,ee),I(R.$$.fragment,ee),I(F.$$.fragment,ee),be=be.filter(Boolean);for(let Oe=0;Oe<be.length;Oe+=1)I(be[Oe]);oe=!1},d(ee){ee&&(C(n),C(i)),J(e,ee),Se&&Se.d(),J(_),J(y),J(M),J(R),J(F),vt(be,ee),Te=!1,Re(Ce)}}}function lg(t){let e,n;return e=new rn({props:{class:" max-w-[90vw] max-h-[90vh]",$$slots:{default:[rg]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},p(i,o){const r={};o[0]&6|o[1]&1&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(k(e.$$.fragment,i),n=!0)},o(i){I(e.$$.fragment,i),n=!1},d(i){J(e,i)}}}function sg(t){var i;let e=((i=t[14]())==null?void 0:i.title)+"",n;return{c(){n=B(e)},m(o,r){S(o,n,r)},p:ue,d(o){o&&C(n)}}}function ag(t){let e,n,i,o;return{c(){var r,l;e=P("div"),n=P("div"),n.textContent=`${(r=t[14]())==null?void 0:r.icon}`,i=H(),o=P("div"),o.textContent=`${(l=t[14]())==null?void 0:l.description}`,O(n,"class","text-center w-[30%] align-middle flex flex-col text-8xl"),O(o,"class","pl-8 w-[80%] align-middle flex flex-col justify-center text-lg"),O(e,"class","flex flex-row align-middle justify-evenly px-6 py-4")},m(r,l){S(r,e,l),w(e,n),w(e,i),w(e,o)},p:ue,d(r){r&&C(e)}}}function ug(t){let e,n,i,o;return e=new Ra({props:{class:"text-center text-xl font-bold",$$slots:{default:[sg]},$$scope:{ctx:t}}}),i=new ja({props:{$$slots:{default:[ag]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=H(),X(i.$$.fragment)},m(r,l){Y(e,r,l),S(r,n,l),Y(i,r,l),o=!0},p(r,l){const a={};l[1]&1&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l[1]&1&&(s.$$scope={dirty:l,ctx:r}),i.$set(s)},i(r){o||(k(e.$$.fragment,r),k(i.$$.fragment,r),o=!0)},o(r){I(e.$$.fragment,r),I(i.$$.fragment,r),o=!1},d(r){r&&C(n),J(e,r),J(i,r)}}}function fg(t){let e;return{c(){e=B("Close to collect prize")},m(n,i){S(n,e,i)},d(n){n&&C(e)}}}function cg(t){let e,n;return e=new w_({props:{$$slots:{default:[fg]},$$scope:{ctx:t}}}),e.$on("click",t[21]),{c(){X(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},p(i,o){const r={};o[1]&1&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(k(e.$$.fragment,i),n=!0)},o(i){I(e.$$.fragment,i),n=!1},d(i){J(e,i)}}}function dg(t){let e,n,i,o;return e=new Ba({props:{$$slots:{default:[ug]},$$scope:{ctx:t}}}),i=new Da({props:{$$slots:{default:[cg]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=H(),X(i.$$.fragment)},m(r,l){Y(e,r,l),S(r,n,l),Y(i,r,l),o=!0},p(r,l){const a={};l[1]&1&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l[0]&16|l[1]&1&&(s.$$scope={dirty:l,ctx:r}),i.$set(s)},i(r){o||(k(e.$$.fragment,r),k(i.$$.fragment,r),o=!0)},o(r){I(e.$$.fragment,r),I(i.$$.fragment,r),o=!1},d(r){r&&C(n),J(e,r),J(i,r)}}}function pg(t){let e,n;return e=new Ga({props:{$$slots:{default:[dg]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},p(i,o){const r={};o[0]&16|o[1]&1&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(k(e.$$.fragment,i),n=!0)},o(i){I(e.$$.fragment,i),n=!1},d(i){J(e,i)}}}function mg(t){let e,n,i,o,r;function l(s){t[20](s)}let a={$$slots:{default:[lg]},$$scope:{ctx:t}};return t[3]!==void 0&&(a.open=t[3]),e=new sn({props:a}),Ae.push(()=>en(e,"open",l)),o=new Ha({props:{open:t[4],$$slots:{default:[pg]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),i=H(),X(o.$$.fragment)},m(s,u){Y(e,s,u),S(s,i,u),Y(o,s,u),r=!0},p(s,u){const f={};u[0]&6|u[1]&1&&(f.$$scope={dirty:u,ctx:s}),!n&&u[0]&8&&(n=!0,f.open=s[3],zt(()=>n=!1)),e.$set(f);const c={};u[0]&16&&(c.open=s[4]),u[0]&16|u[1]&1&&(c.$$scope={dirty:u,ctx:s}),o.$set(c)},i(s){r||(k(e.$$.fragment,s),k(o.$$.fragment,s),r=!0)},o(s){I(e.$$.fragment,s),I(o.$$.fragment,s),r=!1},d(s){s&&C(i),J(e,s),J(o,s)}}}function ps(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function hg(t){const e=JSON.parse(t);return e.townInfo!=null&&e.difficulty!=null}function _g(t,e,n){let i,o,r,l,a;se(t,gn,A=>n(23,i=A)),se(t,ke,A=>n(2,o=A)),se(t,br,A=>n(15,r=A)),se(t,ht,A=>n(3,l=A)),se(t,Mi,A=>n(4,a=A));const u=rt[o.endGoal],f=sa[o.difficulty]||0;it.sort((A,d)=>N(A.id)&&!N(d.id)?-1:!N(A.id)&&N(d.id)?1:0);const c=it.filter(A=>N(A.id));function p(A){const d=i.achievements.find(v=>v[0]==A);return d==null?0:`${d[1]} in ${d[2]}.`}function m(A){const d=i.achievements.find(v=>v[0]==A);return d==null?!1:d[3]}function h(A){const d=i.achievements.find(b=>b[0]==A);if(d==null)return;const v=it.find(b=>b.id==A);v!=null&&(ge(ke,o.townInfo.gold+=v.prize,o),d[3]=!0,ge(gn,i.achievements=i.achievements.map(b=>b[0]==A?d:b),i))}let _=it;function g(){const A=JSON.stringify(o),d=new Blob([A],{type:"text/plain"}),v=URL.createObjectURL(d),b=document.createElement("a");b.href=v,b.download=`${new Date().toISOString()}.json`,document.body.appendChild(b),b.click(),document.body.removeChild(b),URL.revokeObjectURL(v)}function y(){const d=document.getElementById("upload").files;if(d==null)return;const v=d[0],b=new FileReader;b.onload=function($){if($.target==null)return;const T=$.target.result;if(typeof T=="string"){if(!hg(T)){alert("Invalid game file");return}Qo(JSON.parse(T))}else alert("Invalid game file: is not String.")},b.readAsText(v)}function N(A){return i.achievements==null?!1:i.achievements.find(d=>d[0]==A)!=null}function M(){br.update(A=>!A),localStorage.setItem("showCompletedAchievements",localStorage.getItem("showCompletedAchievements")==="true"?"false":"true")}localStorage.getItem("pauseMenuTab")==null&&(localStorage.setItem("pauseMenuTab","game"),ef.set("game"));function j(){const A=i.achievements[i.achievements.length-1];if(A!=null)return it.find(d=>d.id==A[0])}const R=()=>g(),D=()=>{M()},F=A=>{A.key==="p"&&ht.set(!1)},G=A=>{h(A.id);const d=document.getElementById(`collectPrize-${A.id}`);d&&(d.style.display="none")};function q(A){l=A,ht.set(l)}const Z=()=>{ge(Mi,a=!1,a)};return t.$$.update=()=>{if(t.$$.dirty[0]&32774&&o)if(r)n(1,_=it);else{n(1,_=[]);for(let A=0;A<it.length;A++)(!N(it[A].id)||!m(it[A].id))&&_.push(it[A])}},[M,_,o,l,a,u,f,c,p,m,h,g,y,N,j,r,R,D,F,G,q,Z]}class gg extends _e{constructor(e){super(),he(this,e,_g,mg,le,{toggleShowCompleted:0},null,[-1,-1])}get toggleShowCompleted(){return this.$$.ctx[0]}}function bg(){console.log("%cRUNNING STABILITY TESTS...","color: #26bfa5;");let t=0;return console.log("%cPASSED ALL STABILITY TESTS 😍","color: #26bfa5;"),t}function vg(t){let e=t[0].endGameDetails.win==!0?"You won! 🎉":"You lost! 😭",n;return{c(){n=B(e)},m(i,o){S(i,n,o)},p(i,o){o&1&&e!==(e=i[0].endGameDetails.win==!0?"You won! 🎉":"You lost! 😭")&&ae(n,e)},d(i){i&&C(n)}}}function yg(t){let e;return{c(){e=B("Keep playin'")},m(n,i){S(n,e,i)},d(n){n&&C(e)}}}function wg(t){let e,n=t[0].endGameDetails.msg+"",i,o,r,l,a,s,u,f;return u=new Gt({props:{$$slots:{default:[yg]},$$scope:{ctx:t}}}),u.$on("click",t[2]),{c(){e=P("span"),i=B(n),o=H(),r=P("br"),l=H(),a=P("br"),s=H(),X(u.$$.fragment),O(e,"class","text-gray-500 text-sm")},m(c,p){S(c,e,p),w(e,i),S(c,o,p),S(c,r,p),S(c,l,p),S(c,a,p),S(c,s,p),Y(u,c,p),f=!0},p(c,p){(!f||p&1)&&n!==(n=c[0].endGameDetails.msg+"")&&ae(i,n);const m={};p&16&&(m.$$scope={dirty:p,ctx:c}),u.$set(m)},i(c){f||(k(u.$$.fragment,c),f=!0)},o(c){I(u.$$.fragment,c),f=!1},d(c){c&&(C(e),C(o),C(r),C(l),C(a),C(s)),J(u,c)}}}function kg(t){let e,n,i,o;return e=new nn({props:{$$slots:{default:[vg]},$$scope:{ctx:t}}}),i=new ln({props:{$$slots:{default:[wg]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=H(),X(i.$$.fragment)},m(r,l){Y(e,r,l),S(r,n,l),Y(i,r,l),o=!0},p(r,l){const a={};l&17&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&17&&(s.$$scope={dirty:l,ctx:r}),i.$set(s)},i(r){o||(k(e.$$.fragment,r),k(i.$$.fragment,r),o=!0)},o(r){I(e.$$.fragment,r),I(i.$$.fragment,r),o=!1},d(r){r&&C(n),J(e,r),J(i,r)}}}function Cg(t){let e;return{c(){e=P("span"),e.textContent="Reset the game by pressing SHIFT+ESC",O(e,"class","text-gray-500 text-sm")},m(n,i){S(n,e,i)},p:ue,d(n){n&&C(e)}}}function Sg(t){let e,n,i,o;return e=new on({props:{$$slots:{default:[kg]},$$scope:{ctx:t}}}),i=new ei({props:{$$slots:{default:[Cg]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=H(),X(i.$$.fragment)},m(r,l){Y(e,r,l),S(r,n,l),Y(i,r,l),o=!0},p(r,l){const a={};l&17&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&16&&(s.$$scope={dirty:l,ctx:r}),i.$set(s)},i(r){o||(k(e.$$.fragment,r),k(i.$$.fragment,r),o=!0)},o(r){I(e.$$.fragment,r),I(i.$$.fragment,r),o=!1},d(r){r&&C(n),J(e,r),J(i,r)}}}function Ag(t){let e,n;return e=new rn({props:{$$slots:{default:[Sg]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},p(i,o){const r={};o&17&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(k(e.$$.fragment,i),n=!0)},o(i){I(e.$$.fragment,i),n=!1},d(i){J(e,i)}}}function Ig(t){let e,n,i;function o(l){t[3](l)}let r={$$slots:{default:[Ag]},$$scope:{ctx:t}};return t[1]!==void 0&&(r.open=t[1]),e=new sn({props:r}),Ae.push(()=>en(e,"open",o)),{c(){X(e.$$.fragment)},m(l,a){Y(e,l,a),i=!0},p(l,[a]){const s={};a&17&&(s.$$scope={dirty:a,ctx:l}),!n&&a&2&&(n=!0,s.open=l[1],zt(()=>n=!1)),e.$set(s)},i(l){i||(k(e.$$.fragment,l),i=!0)},o(l){I(e.$$.fragment,l),i=!1},d(l){J(e,l)}}}function Tg(t,e,n){let i;se(t,ke,a=>n(0,i=a));let o=!1;function r(){let a=i;a.overtime=!0,ke.set(a),n(1,o=!1),ht.set(!1)}function l(a){o=a,n(1,o),n(0,i)}return t.$$.update=()=>{t.$$.dirty&1&&(i.endGameDetails.msg!=""&&i.overtime==!1?n(1,o=!0):n(1,o=!1))},[i,o,r,l]}class Ng extends _e{constructor(e){super(),he(this,e,Tg,Ig,le,{})}}function Mg(t){let e;return{c(){e=B("Welcome to Plots!")},m(n,i){S(n,e,i)},d(n){n&&C(e)}}}function Eg(t){let e;return{c(){e=B("Select a map size (difficulty)")},m(n,i){S(n,e,i)},d(n){n&&C(e)}}}function Pg(t){let e;return{c(){e=B("Select a game mode")},m(n,i){S(n,e,i)},d(n){n&&C(e)}}}function Og(t){let e;return{c(){e=P("p"),e.textContent=`${rt.free_play.description_title}`,O(e,"class","text-gray-500 text-sm")},m(n,i){S(n,e,i)},d(n){n&&C(e)}}}function $g(t){let e;return{c(){e=P("p"),e.textContent=`${rt.land.description_title}`,O(e,"class","text-gray-500 text-sm")},m(n,i){S(n,e,i)},d(n){n&&C(e)}}}function Lg(t){let e;return{c(){e=B("Town Name")},m(n,i){S(n,e,i)},d(n){n&&C(e)}}}function Fg(t){let e;return{c(){e=B("Cheats")},m(n,i){S(n,e,i)},d(n){n&&C(e)}}}function qg(t){let e,n,i,o,r,l,a,s,u,f,c,p,m,h,_,g,y,N,M,j,R,D,F,G,q,Z,A,d,v,b,$,T,L;r=new pn({props:{for:"difficulty",class:"mt-2",$$slots:{default:[Eg]},$$scope:{ctx:t}}}),m=new pn({props:{for:"endGoal",class:"mt-2",$$slots:{default:[Pg]},$$scope:{ctx:t}}});function W(x,te){return x[0]==="land"?$g:Og}let U=W(t),ie=U(t);return R=new pn({props:{for:"townName",class:"mt-2",$$slots:{default:[Lg]},$$scope:{ctx:t}}}),F=new tr({props:{id:"townName",class:"mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Will be randomized if you leave blank"}}),Z=new pn({props:{for:"cheats",class:"mt-2",$$slots:{default:[Fg]},$$scope:{ctx:t}}}),{c(){e=P("a"),e.textContent="GitHub / Learn how to play",n=H(),i=P("div"),o=P("div"),X(r.$$.fragment),l=H(),a=P("select"),s=P("option"),s.textContent="Easy (quick game)",u=P("option"),u.textContent="Normal",f=P("option"),f.textContent="Hard (longest game)",c=H(),p=P("div"),X(m.$$.fragment),h=H(),ie.c(),_=H(),g=P("select"),y=P("option"),y.textContent=`${rt.land.short_title}`,N=P("option"),N.textContent=`${rt.free_play.short_title}`,M=H(),j=P("div"),X(R.$$.fragment),D=H(),X(F.$$.fragment),G=H(),q=P("div"),X(Z.$$.fragment),A=H(),d=P("select"),v=P("option"),v.textContent="No cheats",b=P("option"),b.textContent="Dev mode",O(e,"href","https://github.com/josephrcox/plots#how-to-play"),O(e,"class","text-blue-500 text-sm mb-4 hover:underline"),O(e,"target","_blank"),s.__value="0",St(s,s.__value),u.__value="1",St(u,u.__value),u.selected=!0,f.__value="2",St(f,f.__value),O(a,"id","difficulty"),O(a,"class","mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),y.__value="land",St(y,y.__value),N.__value="free_play",St(N,N.__value),O(g,"id","endGoal"),O(g,"class","mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),v.__value="false",St(v,v.__value),v.selected=!0,b.__value="true",St(b,b.__value),O(d,"id","cheats"),O(d,"class","mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),O(i,"class","flex flex-col justify-center gap-5 mt-4")},m(x,te){S(x,e,te),S(x,n,te),S(x,i,te),w(i,o),Y(r,o,null),w(o,l),w(o,a),w(a,s),w(a,u),w(a,f),w(i,c),w(i,p),Y(m,p,null),w(p,h),ie.m(p,null),w(p,_),w(p,g),w(g,y),w(g,N),pr(g,t[0]),w(i,M),w(i,j),Y(R,j,null),w(j,D),Y(F,j,null),w(i,G),w(i,q),Y(Z,q,null),w(q,A),w(q,d),w(d,v),w(d,b),$=!0,T||(L=K(g,"change",t[3]),T=!0)},p(x,te){const ve={};te&32&&(ve.$$scope={dirty:te,ctx:x}),r.$set(ve);const ye={};te&32&&(ye.$$scope={dirty:te,ctx:x}),m.$set(ye),U!==(U=W(x))&&(ie.d(1),ie=U(x),ie&&(ie.c(),ie.m(p,_))),(!$||te&1)&&pr(g,x[0]);const oe={};te&32&&(oe.$$scope={dirty:te,ctx:x}),R.$set(oe);const Te={};te&32&&(Te.$$scope={dirty:te,ctx:x}),Z.$set(Te)},i(x){$||(k(r.$$.fragment,x),k(m.$$.fragment,x),k(R.$$.fragment,x),k(F.$$.fragment,x),k(Z.$$.fragment,x),$=!0)},o(x){I(r.$$.fragment,x),I(m.$$.fragment,x),I(R.$$.fragment,x),I(F.$$.fragment,x),I(Z.$$.fragment,x),$=!1},d(x){x&&(C(e),C(n),C(i)),J(r),J(m),ie.d(),J(R),J(F),J(Z),T=!1,L()}}}function Rg(t){let e,n,i,o;return e=new nn({props:{$$slots:{default:[Mg]},$$scope:{ctx:t}}}),i=new ln({props:{$$slots:{default:[qg]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=H(),X(i.$$.fragment)},m(r,l){Y(e,r,l),S(r,n,l),Y(i,r,l),o=!0},p(r,l){const a={};l&32&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&33&&(s.$$scope={dirty:l,ctx:r}),i.$set(s)},i(r){o||(k(e.$$.fragment,r),k(i.$$.fragment,r),o=!0)},o(r){I(e.$$.fragment,r),I(i.$$.fragment,r),o=!1},d(r){r&&C(n),J(e,r),J(i,r)}}}function Dg(t){let e,n,i;return{c(){e=P("button"),e.textContent="Start game",O(e,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-md")},m(o,r){S(o,e,r),n||(i=K(e,"click",t[2]),n=!0)},p:ue,d(o){o&&C(e),n=!1,i()}}}function Bg(t){let e,n,i,o;return e=new on({props:{$$slots:{default:[Rg]},$$scope:{ctx:t}}}),i=new ei({props:{$$slots:{default:[Dg]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=H(),X(i.$$.fragment)},m(r,l){Y(e,r,l),S(r,n,l),Y(i,r,l),o=!0},p(r,l){const a={};l&33&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&32&&(s.$$scope={dirty:l,ctx:r}),i.$set(s)},i(r){o||(k(e.$$.fragment,r),k(i.$$.fragment,r),o=!0)},o(r){I(e.$$.fragment,r),I(i.$$.fragment,r),o=!1},d(r){r&&C(n),J(e,r),J(i,r)}}}function Gg(t){let e,n;return e=new rn({props:{transition:er,$$slots:{default:[Bg]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},p(i,o){const r={};o&33&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(k(e.$$.fragment,i),n=!0)},o(i){I(e.$$.fragment,i),n=!1},d(i){J(e,i)}}}function jg(t){let e,n,i;function o(l){t[4](l)}let r={$$slots:{default:[Gg]},$$scope:{ctx:t}};return t[1].visible!==void 0&&(r.open=t[1].visible),e=new sn({props:r}),Ae.push(()=>en(e,"open",o)),{c(){X(e.$$.fragment)},m(l,a){Y(e,l,a),i=!0},p(l,[a]){const s={};a&33&&(s.$$scope={dirty:a,ctx:l}),!n&&a&2&&(n=!0,s.open=l[1].visible,zt(()=>n=!1)),e.$set(s)},i(l){i||(k(e.$$.fragment,l),i=!0)},o(l){I(e.$$.fragment,l),i=!1},d(l){J(e,l)}}}function Hg(t,e,n){let i;se(t,Hn,s=>n(1,i=s));function o(){const s=document.getElementById("difficulty").value,u=document.getElementById("endGoal").value,f=document.getElementById("townName").value,c=document.getElementById("cheats").value=="true";Qu(s,u,f,c)}let r="land";const l=s=>{n(0,r=s.target.value)};function a(s){t.$$.not_equal(i.visible,s)&&(i.visible=s,Hn.set(i))}return[r,i,o,l,a]}class Wg extends _e{constructor(e){super(),he(this,e,Hg,jg,le,{})}}function Vg(t){let e;return{c(){e=B("Scoreboard")},m(n,i){S(n,e,i)},d(n){n&&C(e)}}}function Kg(t){let e=t[1].description_title+"",n;return{c(){n=B(e)},m(i,o){S(i,n,o)},p:ue,d(i){i&&C(n)}}}function Ug(t){let e,n,i,o;return e=new nn({props:{$$slots:{default:[Vg]},$$scope:{ctx:t}}}),i=new ln({props:{$$slots:{default:[Kg]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=H(),X(i.$$.fragment)},m(r,l){Y(e,r,l),S(r,n,l),Y(i,r,l),o=!0},p(r,l){const a={};l&128&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&128&&(s.$$scope={dirty:l,ctx:r}),i.$set(s)},i(r){o||(k(e.$$.fragment,r),k(i.$$.fragment,r),o=!0)},o(r){I(e.$$.fragment,r),I(i.$$.fragment,r),o=!1},d(r){r&&C(n),J(e,r),J(i,r)}}}function Yg(t){let e;return{c(){e=B("footer")},m(n,i){S(n,e,i)},d(n){n&&C(e)}}}function Jg(t){let e,n,i,o;return e=new on({props:{$$slots:{default:[Ug]},$$scope:{ctx:t}}}),i=new ei({props:{$$slots:{default:[Yg]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=B(`
		hi
		`),X(i.$$.fragment)},m(r,l){Y(e,r,l),S(r,n,l),Y(i,r,l),o=!0},p(r,l){const a={};l&128&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&128&&(s.$$scope={dirty:l,ctx:r}),i.$set(s)},i(r){o||(k(e.$$.fragment,r),k(i.$$.fragment,r),o=!0)},o(r){I(e.$$.fragment,r),I(i.$$.fragment,r),o=!1},d(r){r&&C(n),J(e,r),J(i,r)}}}function Xg(t){let e,n;return e=new rn({props:{$$slots:{default:[Jg]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},p(i,o){const r={};o&128&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(k(e.$$.fragment,i),n=!0)},o(i){I(e.$$.fragment,i),n=!1},d(i){J(e,i)}}}function Zg(t){let e,n,i;function o(l){t[3](l)}let r={$$slots:{default:[Xg]},$$scope:{ctx:t}};return t[0]!==void 0&&(r.open=t[0]),e=new sn({props:r}),Ae.push(()=>en(e,"open",o)),{c(){X(e.$$.fragment)},m(l,a){Y(e,l,a),i=!0},p(l,[a]){const s={};a&128&&(s.$$scope={dirty:a,ctx:l}),!n&&a&1&&(n=!0,s.open=l[0],zt(()=>n=!1)),e.$set(s)},i(l){i||(k(e.$$.fragment,l),i=!0)},o(l){I(e.$$.fragment,l),i=!1},d(l){J(e,l)}}}function Qg(t,e,n){let i,o;se(t,ke,s=>n(2,i=s)),se(t,gr,s=>n(0,o=s));const l=rt[i.endGoal];sa[i.difficulty];function a(s){o=s,gr.set(o)}return t.$$.update=()=>{t.$$.dirty&4},[o,l,i,a]}class xg extends _e{constructor(e){super(),he(this,e,Qg,Zg,le,{})}}function _i(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function zg(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Wa(t){let e,n,i;t.length!==2?(e=_i,n=(a,s)=>_i(t(a),s),i=(a,s)=>t(a)-s):(e=t===_i||t===zg?t:e0,n=t,i=t);function o(a,s,u=0,f=a.length){if(u<f){if(e(s,s)!==0)return f;do{const c=u+f>>>1;n(a[c],s)<0?u=c+1:f=c}while(u<f)}return u}function r(a,s,u=0,f=a.length){if(u<f){if(e(s,s)!==0)return f;do{const c=u+f>>>1;n(a[c],s)<=0?u=c+1:f=c}while(u<f)}return u}function l(a,s,u=0,f=a.length){const c=o(a,s,u,f-1);return c>u&&i(a[c-1],s)>-i(a[c],s)?c-1:c}return{left:o,center:l,right:r}}function e0(){return 0}function t0(t){return t===null?NaN:+t}const n0=Wa(_i),i0=n0.right;Wa(t0).center;const o0=Math.sqrt(50),r0=Math.sqrt(10),l0=Math.sqrt(2);function Ri(t,e,n){const i=(e-t)/Math.max(0,n),o=Math.floor(Math.log10(i)),r=i/Math.pow(10,o),l=r>=o0?10:r>=r0?5:r>=l0?2:1;let a,s,u;return o<0?(u=Math.pow(10,-o)/l,a=Math.round(t*u),s=Math.round(e*u),a/u<t&&++a,s/u>e&&--s,u=-u):(u=Math.pow(10,o)*l,a=Math.round(t/u),s=Math.round(e/u),a*u<t&&++a,s*u>e&&--s),s<a&&.5<=n&&n<2?Ri(t,e,n*2):[a,s,u]}function s0(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const i=e<t,[o,r,l]=i?Ri(e,t,n):Ri(t,e,n);if(!(r>=o))return[];const a=r-o+1,s=new Array(a);if(i)if(l<0)for(let u=0;u<a;++u)s[u]=(r-u)/-l;else for(let u=0;u<a;++u)s[u]=(r-u)*l;else if(l<0)for(let u=0;u<a;++u)s[u]=(o+u)/-l;else for(let u=0;u<a;++u)s[u]=(o+u)*l;return s}function Eo(t,e,n){return e=+e,t=+t,n=+n,Ri(t,e,n)[2]}function a0(t,e,n){e=+e,t=+t,n=+n;const i=e<t,o=i?Eo(e,t,n):Eo(t,e,n);return(i?-1:1)*(o<0?1/-o:o)}function u0(t){return t}var po=1,mo=2,Po=3,Rn=4,ms=1e-6;function f0(t){return"translate("+t+",0)"}function c0(t){return"translate(0,"+t+")"}function d0(t){return e=>+t(e)}function p0(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function m0(){return!this.__axis}function Va(t,e){var n=[],i=null,o=null,r=6,l=6,a=3,s=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=t===po||t===Rn?-1:1,f=t===Rn||t===mo?"x":"y",c=t===po||t===Po?f0:c0;function p(m){var h=i??(e.ticks?e.ticks.apply(e,n):e.domain()),_=o??(e.tickFormat?e.tickFormat.apply(e,n):u0),g=Math.max(r,0)+a,y=e.range(),N=+y[0]+s,M=+y[y.length-1]+s,j=(e.bandwidth?p0:d0)(e.copy(),s),R=m.selection?m.selection():m,D=R.selectAll(".domain").data([null]),F=R.selectAll(".tick").data(h,e).order(),G=F.exit(),q=F.enter().append("g").attr("class","tick"),Z=F.select("line"),A=F.select("text");D=D.merge(D.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),F=F.merge(q),Z=Z.merge(q.append("line").attr("stroke","currentColor").attr(f+"2",u*r)),A=A.merge(q.append("text").attr("fill","currentColor").attr(f,u*g).attr("dy",t===po?"0em":t===Po?"0.71em":"0.32em")),m!==R&&(D=D.transition(m),F=F.transition(m),Z=Z.transition(m),A=A.transition(m),G=G.transition(m).attr("opacity",ms).attr("transform",function(d){return isFinite(d=j(d))?c(d+s):this.getAttribute("transform")}),q.attr("opacity",ms).attr("transform",function(d){var v=this.parentNode.__axis;return c((v&&isFinite(v=v(d))?v:j(d))+s)})),G.remove(),D.attr("d",t===Rn||t===mo?l?"M"+u*l+","+N+"H"+s+"V"+M+"H"+u*l:"M"+s+","+N+"V"+M:l?"M"+N+","+u*l+"V"+s+"H"+M+"V"+u*l:"M"+N+","+s+"H"+M),F.attr("opacity",1).attr("transform",function(d){return c(j(d)+s)}),Z.attr(f+"2",u*r),A.attr(f,u*g).text(_),R.filter(m0).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===mo?"start":t===Rn?"end":"middle"),R.each(function(){this.__axis=j})}return p.scale=function(m){return arguments.length?(e=m,p):e},p.ticks=function(){return n=Array.from(arguments),p},p.tickArguments=function(m){return arguments.length?(n=m==null?[]:Array.from(m),p):n.slice()},p.tickValues=function(m){return arguments.length?(i=m==null?null:Array.from(m),p):i&&i.slice()},p.tickFormat=function(m){return arguments.length?(o=m,p):o},p.tickSize=function(m){return arguments.length?(r=l=+m,p):r},p.tickSizeInner=function(m){return arguments.length?(r=+m,p):r},p.tickSizeOuter=function(m){return arguments.length?(l=+m,p):l},p.tickPadding=function(m){return arguments.length?(a=+m,p):a},p.offset=function(m){return arguments.length?(s=+m,p):s},p}function h0(t){return Va(Po,t)}function _0(t){return Va(Rn,t)}var g0={value:()=>{}};function Ka(){for(var t=0,e=arguments.length,n={},i;t<e;++t){if(!(i=arguments[t]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new gi(n)}function gi(t){this._=t}function b0(t,e){return t.trim().split(/^|\s+/).map(function(n){var i="",o=n.indexOf(".");if(o>=0&&(i=n.slice(o+1),n=n.slice(0,o)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}gi.prototype=Ka.prototype={constructor:gi,on:function(t,e){var n=this._,i=b0(t+"",n),o,r=-1,l=i.length;if(arguments.length<2){for(;++r<l;)if((o=(t=i[r]).type)&&(o=v0(n[o],t.name)))return o;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++r<l;)if(o=(t=i[r]).type)n[o]=hs(n[o],t.name,e);else if(e==null)for(o in n)n[o]=hs(n[o],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new gi(t)},call:function(t,e){if((o=arguments.length-2)>0)for(var n=new Array(o),i=0,o,r;i<o;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],o=0,r=i.length;o<r;++o)i[o].value.apply(e,n)}};function v0(t,e){for(var n=0,i=t.length,o;n<i;++n)if((o=t[n]).name===e)return o.value}function hs(t,e,n){for(var i=0,o=t.length;i<o;++i)if(t[i].name===e){t[i]=g0,t=t.slice(0,i).concat(t.slice(i+1));break}return n!=null&&t.push({name:e,value:n}),t}var Oo="http://www.w3.org/1999/xhtml";const _s={svg:"http://www.w3.org/2000/svg",xhtml:Oo,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function xi(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),_s.hasOwnProperty(e)?{space:_s[e],local:t}:t}function y0(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Oo&&e.documentElement.namespaceURI===Oo?e.createElement(t):e.createElementNS(n,t)}}function w0(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Ua(t){var e=xi(t);return(e.local?w0:y0)(e)}function k0(){}function ir(t){return t==null?k0:function(){return this.querySelector(t)}}function C0(t){typeof t!="function"&&(t=ir(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var r=e[o],l=r.length,a=i[o]=new Array(l),s,u,f=0;f<l;++f)(s=r[f])&&(u=t.call(s,s.__data__,f,r))&&("__data__"in s&&(u.__data__=s.__data__),a[f]=u);return new at(i,this._parents)}function S0(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function A0(){return[]}function Ya(t){return t==null?A0:function(){return this.querySelectorAll(t)}}function I0(t){return function(){return S0(t.apply(this,arguments))}}function T0(t){typeof t=="function"?t=I0(t):t=Ya(t);for(var e=this._groups,n=e.length,i=[],o=[],r=0;r<n;++r)for(var l=e[r],a=l.length,s,u=0;u<a;++u)(s=l[u])&&(i.push(t.call(s,s.__data__,u,l)),o.push(s));return new at(i,o)}function Ja(t){return function(){return this.matches(t)}}function Xa(t){return function(e){return e.matches(t)}}var N0=Array.prototype.find;function M0(t){return function(){return N0.call(this.children,t)}}function E0(){return this.firstElementChild}function P0(t){return this.select(t==null?E0:M0(typeof t=="function"?t:Xa(t)))}var O0=Array.prototype.filter;function $0(){return Array.from(this.children)}function L0(t){return function(){return O0.call(this.children,t)}}function F0(t){return this.selectAll(t==null?$0:L0(typeof t=="function"?t:Xa(t)))}function q0(t){typeof t!="function"&&(t=Ja(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var r=e[o],l=r.length,a=i[o]=[],s,u=0;u<l;++u)(s=r[u])&&t.call(s,s.__data__,u,r)&&a.push(s);return new at(i,this._parents)}function Za(t){return new Array(t.length)}function R0(){return new at(this._enter||this._groups.map(Za),this._parents)}function Di(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Di.prototype={constructor:Di,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function D0(t){return function(){return t}}function B0(t,e,n,i,o,r){for(var l=0,a,s=e.length,u=r.length;l<u;++l)(a=e[l])?(a.__data__=r[l],i[l]=a):n[l]=new Di(t,r[l]);for(;l<s;++l)(a=e[l])&&(o[l]=a)}function G0(t,e,n,i,o,r,l){var a,s,u=new Map,f=e.length,c=r.length,p=new Array(f),m;for(a=0;a<f;++a)(s=e[a])&&(p[a]=m=l.call(s,s.__data__,a,e)+"",u.has(m)?o[a]=s:u.set(m,s));for(a=0;a<c;++a)m=l.call(t,r[a],a,r)+"",(s=u.get(m))?(i[a]=s,s.__data__=r[a],u.delete(m)):n[a]=new Di(t,r[a]);for(a=0;a<f;++a)(s=e[a])&&u.get(p[a])===s&&(o[a]=s)}function j0(t){return t.__data__}function H0(t,e){if(!arguments.length)return Array.from(this,j0);var n=e?G0:B0,i=this._parents,o=this._groups;typeof t!="function"&&(t=D0(t));for(var r=o.length,l=new Array(r),a=new Array(r),s=new Array(r),u=0;u<r;++u){var f=i[u],c=o[u],p=c.length,m=W0(t.call(f,f&&f.__data__,u,i)),h=m.length,_=a[u]=new Array(h),g=l[u]=new Array(h),y=s[u]=new Array(p);n(f,c,_,g,y,m,e);for(var N=0,M=0,j,R;N<h;++N)if(j=_[N]){for(N>=M&&(M=N+1);!(R=g[M])&&++M<h;);j._next=R||null}}return l=new at(l,i),l._enter=a,l._exit=s,l}function W0(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function V0(){return new at(this._exit||this._groups.map(Za),this._parents)}function K0(t,e,n){var i=this.enter(),o=this,r=this.exit();return typeof t=="function"?(i=t(i),i&&(i=i.selection())):i=i.append(t+""),e!=null&&(o=e(o),o&&(o=o.selection())),n==null?r.remove():n(r),i&&o?i.merge(o).order():o}function U0(t){for(var e=t.selection?t.selection():t,n=this._groups,i=e._groups,o=n.length,r=i.length,l=Math.min(o,r),a=new Array(o),s=0;s<l;++s)for(var u=n[s],f=i[s],c=u.length,p=a[s]=new Array(c),m,h=0;h<c;++h)(m=u[h]||f[h])&&(p[h]=m);for(;s<o;++s)a[s]=n[s];return new at(a,this._parents)}function Y0(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i=t[e],o=i.length-1,r=i[o],l;--o>=0;)(l=i[o])&&(r&&l.compareDocumentPosition(r)^4&&r.parentNode.insertBefore(l,r),r=l);return this}function J0(t){t||(t=X0);function e(c,p){return c&&p?t(c.__data__,p.__data__):!c-!p}for(var n=this._groups,i=n.length,o=new Array(i),r=0;r<i;++r){for(var l=n[r],a=l.length,s=o[r]=new Array(a),u,f=0;f<a;++f)(u=l[f])&&(s[f]=u);s.sort(e)}return new at(o,this._parents).order()}function X0(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Z0(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Q0(){return Array.from(this)}function x0(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],o=0,r=i.length;o<r;++o){var l=i[o];if(l)return l}return null}function z0(){let t=0;for(const e of this)++t;return t}function eb(){return!this.node()}function tb(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var o=e[n],r=0,l=o.length,a;r<l;++r)(a=o[r])&&t.call(a,a.__data__,r,o);return this}function nb(t){return function(){this.removeAttribute(t)}}function ib(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ob(t,e){return function(){this.setAttribute(t,e)}}function rb(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function lb(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function sb(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function ab(t,e){var n=xi(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((e==null?n.local?ib:nb:typeof e=="function"?n.local?sb:lb:n.local?rb:ob)(n,e))}function Qa(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function ub(t){return function(){this.style.removeProperty(t)}}function fb(t,e,n){return function(){this.style.setProperty(t,e,n)}}function cb(t,e,n){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function db(t,e,n){return arguments.length>1?this.each((e==null?ub:typeof e=="function"?cb:fb)(t,e,n??"")):Cn(this.node(),t)}function Cn(t,e){return t.style.getPropertyValue(e)||Qa(t).getComputedStyle(t,null).getPropertyValue(e)}function pb(t){return function(){delete this[t]}}function mb(t,e){return function(){this[t]=e}}function hb(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function _b(t,e){return arguments.length>1?this.each((e==null?pb:typeof e=="function"?hb:mb)(t,e)):this.node()[t]}function xa(t){return t.trim().split(/^|\s+/)}function or(t){return t.classList||new za(t)}function za(t){this._node=t,this._names=xa(t.getAttribute("class")||"")}za.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function eu(t,e){for(var n=or(t),i=-1,o=e.length;++i<o;)n.add(e[i])}function tu(t,e){for(var n=or(t),i=-1,o=e.length;++i<o;)n.remove(e[i])}function gb(t){return function(){eu(this,t)}}function bb(t){return function(){tu(this,t)}}function vb(t,e){return function(){(e.apply(this,arguments)?eu:tu)(this,t)}}function yb(t,e){var n=xa(t+"");if(arguments.length<2){for(var i=or(this.node()),o=-1,r=n.length;++o<r;)if(!i.contains(n[o]))return!1;return!0}return this.each((typeof e=="function"?vb:e?gb:bb)(n,e))}function wb(){this.textContent=""}function kb(t){return function(){this.textContent=t}}function Cb(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Sb(t){return arguments.length?this.each(t==null?wb:(typeof t=="function"?Cb:kb)(t)):this.node().textContent}function Ab(){this.innerHTML=""}function Ib(t){return function(){this.innerHTML=t}}function Tb(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Nb(t){return arguments.length?this.each(t==null?Ab:(typeof t=="function"?Tb:Ib)(t)):this.node().innerHTML}function Mb(){this.nextSibling&&this.parentNode.appendChild(this)}function Eb(){return this.each(Mb)}function Pb(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ob(){return this.each(Pb)}function $b(t){var e=typeof t=="function"?t:Ua(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Lb(){return null}function Fb(t,e){var n=typeof t=="function"?t:Ua(t),i=e==null?Lb:typeof e=="function"?e:ir(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function qb(){var t=this.parentNode;t&&t.removeChild(this)}function Rb(){return this.each(qb)}function Db(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Bb(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Gb(t){return this.select(t?Bb:Db)}function jb(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Hb(t){return function(e){t.call(this,e,this.__data__)}}function Wb(t){return t.trim().split(/^|\s+/).map(function(e){var n="",i=e.indexOf(".");return i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),{type:e,name:n}})}function Vb(t){return function(){var e=this.__on;if(e){for(var n=0,i=-1,o=e.length,r;n<o;++n)r=e[n],(!t.type||r.type===t.type)&&r.name===t.name?this.removeEventListener(r.type,r.listener,r.options):e[++i]=r;++i?e.length=i:delete this.__on}}}function Kb(t,e,n){return function(){var i=this.__on,o,r=Hb(e);if(i){for(var l=0,a=i.length;l<a;++l)if((o=i[l]).type===t.type&&o.name===t.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=r,o.options=n),o.value=e;return}}this.addEventListener(t.type,r,n),o={type:t.type,name:t.name,value:e,listener:r,options:n},i?i.push(o):this.__on=[o]}}function Ub(t,e,n){var i=Wb(t+""),o,r=i.length,l;if(arguments.length<2){var a=this.node().__on;if(a){for(var s=0,u=a.length,f;s<u;++s)for(o=0,f=a[s];o<r;++o)if((l=i[o]).type===f.type&&l.name===f.name)return f.value}return}for(a=e?Kb:Vb,o=0;o<r;++o)this.each(a(i[o],e,n));return this}function nu(t,e,n){var i=Qa(t),o=i.CustomEvent;typeof o=="function"?o=new o(e,n):(o=i.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function Yb(t,e){return function(){return nu(this,t,e)}}function Jb(t,e){return function(){return nu(this,t,e.apply(this,arguments))}}function Xb(t,e){return this.each((typeof e=="function"?Jb:Yb)(t,e))}function*Zb(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],o=0,r=i.length,l;o<r;++o)(l=i[o])&&(yield l)}var iu=[null];function at(t,e){this._groups=t,this._parents=e}function ti(){return new at([[document.documentElement]],iu)}function Qb(){return this}at.prototype=ti.prototype={constructor:at,select:C0,selectAll:T0,selectChild:P0,selectChildren:F0,filter:q0,data:H0,enter:R0,exit:V0,join:K0,merge:U0,selection:Qb,order:Y0,sort:J0,call:Z0,nodes:Q0,node:x0,size:z0,empty:eb,each:tb,attr:ab,style:db,property:_b,classed:yb,text:Sb,html:Nb,raise:Eb,lower:Ob,append:$b,insert:Fb,remove:Rb,clone:Gb,datum:jb,on:Ub,dispatch:Xb,[Symbol.iterator]:Zb};function xb(t){return typeof t=="string"?new at([[document.querySelector(t)]],[document.documentElement]):new at([[t]],iu)}function rr(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function ou(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function ni(){}var Jn=.7,Bi=1/Jn,vn="\\s*([+-]?\\d+)\\s*",Xn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",bt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",zb=/^#([0-9a-f]{3,8})$/,e1=new RegExp(`^rgb\\(${vn},${vn},${vn}\\)$`),t1=new RegExp(`^rgb\\(${bt},${bt},${bt}\\)$`),n1=new RegExp(`^rgba\\(${vn},${vn},${vn},${Xn}\\)$`),i1=new RegExp(`^rgba\\(${bt},${bt},${bt},${Xn}\\)$`),o1=new RegExp(`^hsl\\(${Xn},${bt},${bt}\\)$`),r1=new RegExp(`^hsla\\(${Xn},${bt},${bt},${Xn}\\)$`),gs={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};rr(ni,Qt,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:bs,formatHex:bs,formatHex8:l1,formatHsl:s1,formatRgb:vs,toString:vs});function bs(){return this.rgb().formatHex()}function l1(){return this.rgb().formatHex8()}function s1(){return ru(this).formatHsl()}function vs(){return this.rgb().formatRgb()}function Qt(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=zb.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?ys(e):n===3?new lt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?ai(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?ai(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=e1.exec(t))?new lt(e[1],e[2],e[3],1):(e=t1.exec(t))?new lt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=n1.exec(t))?ai(e[1],e[2],e[3],e[4]):(e=i1.exec(t))?ai(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=o1.exec(t))?Cs(e[1],e[2]/100,e[3]/100,1):(e=r1.exec(t))?Cs(e[1],e[2]/100,e[3]/100,e[4]):gs.hasOwnProperty(t)?ys(gs[t]):t==="transparent"?new lt(NaN,NaN,NaN,0):null}function ys(t){return new lt(t>>16&255,t>>8&255,t&255,1)}function ai(t,e,n,i){return i<=0&&(t=e=n=NaN),new lt(t,e,n,i)}function a1(t){return t instanceof ni||(t=Qt(t)),t?(t=t.rgb(),new lt(t.r,t.g,t.b,t.opacity)):new lt}function $o(t,e,n,i){return arguments.length===1?a1(t):new lt(t,e,n,i??1)}function lt(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}rr(lt,$o,ou(ni,{brighter(t){return t=t==null?Bi:Math.pow(Bi,t),new lt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Jn:Math.pow(Jn,t),new lt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new lt(Xt(this.r),Xt(this.g),Xt(this.b),Gi(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ws,formatHex:ws,formatHex8:u1,formatRgb:ks,toString:ks}));function ws(){return`#${Ut(this.r)}${Ut(this.g)}${Ut(this.b)}`}function u1(){return`#${Ut(this.r)}${Ut(this.g)}${Ut(this.b)}${Ut((isNaN(this.opacity)?1:this.opacity)*255)}`}function ks(){const t=Gi(this.opacity);return`${t===1?"rgb(":"rgba("}${Xt(this.r)}, ${Xt(this.g)}, ${Xt(this.b)}${t===1?")":`, ${t})`}`}function Gi(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Xt(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ut(t){return t=Xt(t),(t<16?"0":"")+t.toString(16)}function Cs(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new mt(t,e,n,i)}function ru(t){if(t instanceof mt)return new mt(t.h,t.s,t.l,t.opacity);if(t instanceof ni||(t=Qt(t)),!t)return new mt;if(t instanceof mt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,o=Math.min(e,n,i),r=Math.max(e,n,i),l=NaN,a=r-o,s=(r+o)/2;return a?(e===r?l=(n-i)/a+(n<i)*6:n===r?l=(i-e)/a+2:l=(e-n)/a+4,a/=s<.5?r+o:2-r-o,l*=60):a=s>0&&s<1?0:l,new mt(l,a,s,t.opacity)}function f1(t,e,n,i){return arguments.length===1?ru(t):new mt(t,e,n,i??1)}function mt(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}rr(mt,f1,ou(ni,{brighter(t){return t=t==null?Bi:Math.pow(Bi,t),new mt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Jn:Math.pow(Jn,t),new mt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,o=2*n-i;return new lt(ho(t>=240?t-240:t+120,o,i),ho(t,o,i),ho(t<120?t+240:t-120,o,i),this.opacity)},clamp(){return new mt(Ss(this.h),ui(this.s),ui(this.l),Gi(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Gi(this.opacity);return`${t===1?"hsl(":"hsla("}${Ss(this.h)}, ${ui(this.s)*100}%, ${ui(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Ss(t){return t=(t||0)%360,t<0?t+360:t}function ui(t){return Math.max(0,Math.min(1,t||0))}function ho(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const lr=t=>()=>t;function c1(t,e){return function(n){return t+n*e}}function d1(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function p1(t){return(t=+t)==1?lu:function(e,n){return n-e?d1(e,n,t):lr(isNaN(e)?n:e)}}function lu(t,e){var n=e-t;return n?c1(t,n):lr(isNaN(t)?e:t)}const ji=function t(e){var n=p1(e);function i(o,r){var l=n((o=$o(o)).r,(r=$o(r)).r),a=n(o.g,r.g),s=n(o.b,r.b),u=lu(o.opacity,r.opacity);return function(f){return o.r=l(f),o.g=a(f),o.b=s(f),o.opacity=u(f),o+""}}return i.gamma=t,i}(1);function m1(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,i=e.slice(),o;return function(r){for(o=0;o<n;++o)i[o]=t[o]*(1-r)+e[o]*r;return i}}function h1(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function _1(t,e){var n=e?e.length:0,i=t?Math.min(n,t.length):0,o=new Array(i),r=new Array(n),l;for(l=0;l<i;++l)o[l]=sr(t[l],e[l]);for(;l<n;++l)r[l]=e[l];return function(a){for(l=0;l<i;++l)r[l]=o[l](a);return r}}function g1(t,e){var n=new Date;return t=+t,e=+e,function(i){return n.setTime(t*(1-i)+e*i),n}}function pt(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function b1(t,e){var n={},i={},o;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(o in e)o in t?n[o]=sr(t[o],e[o]):i[o]=e[o];return function(r){for(o in n)i[o]=n[o](r);return i}}var Lo=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_o=new RegExp(Lo.source,"g");function v1(t){return function(){return t}}function y1(t){return function(e){return t(e)+""}}function su(t,e){var n=Lo.lastIndex=_o.lastIndex=0,i,o,r,l=-1,a=[],s=[];for(t=t+"",e=e+"";(i=Lo.exec(t))&&(o=_o.exec(e));)(r=o.index)>n&&(r=e.slice(n,r),a[l]?a[l]+=r:a[++l]=r),(i=i[0])===(o=o[0])?a[l]?a[l]+=o:a[++l]=o:(a[++l]=null,s.push({i:l,x:pt(i,o)})),n=_o.lastIndex;return n<e.length&&(r=e.slice(n),a[l]?a[l]+=r:a[++l]=r),a.length<2?s[0]?y1(s[0].x):v1(e):(e=s.length,function(u){for(var f=0,c;f<e;++f)a[(c=s[f]).i]=c.x(u);return a.join("")})}function sr(t,e){var n=typeof e,i;return e==null||n==="boolean"?lr(e):(n==="number"?pt:n==="string"?(i=Qt(e))?(e=i,ji):su:e instanceof Qt?ji:e instanceof Date?g1:h1(e)?m1:Array.isArray(e)?_1:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?b1:pt)(t,e)}function w1(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var As=180/Math.PI,Fo={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function au(t,e,n,i,o,r){var l,a,s;return(l=Math.sqrt(t*t+e*e))&&(t/=l,e/=l),(s=t*n+e*i)&&(n-=t*s,i-=e*s),(a=Math.sqrt(n*n+i*i))&&(n/=a,i/=a,s/=a),t*i<e*n&&(t=-t,e=-e,s=-s,l=-l),{translateX:o,translateY:r,rotate:Math.atan2(e,t)*As,skewX:Math.atan(s)*As,scaleX:l,scaleY:a}}var fi;function k1(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Fo:au(e.a,e.b,e.c,e.d,e.e,e.f)}function C1(t){return t==null||(fi||(fi=document.createElementNS("http://www.w3.org/2000/svg","g")),fi.setAttribute("transform",t),!(t=fi.transform.baseVal.consolidate()))?Fo:(t=t.matrix,au(t.a,t.b,t.c,t.d,t.e,t.f))}function uu(t,e,n,i){function o(u){return u.length?u.pop()+" ":""}function r(u,f,c,p,m,h){if(u!==c||f!==p){var _=m.push("translate(",null,e,null,n);h.push({i:_-4,x:pt(u,c)},{i:_-2,x:pt(f,p)})}else(c||p)&&m.push("translate("+c+e+p+n)}function l(u,f,c,p){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),p.push({i:c.push(o(c)+"rotate(",null,i)-2,x:pt(u,f)})):f&&c.push(o(c)+"rotate("+f+i)}function a(u,f,c,p){u!==f?p.push({i:c.push(o(c)+"skewX(",null,i)-2,x:pt(u,f)}):f&&c.push(o(c)+"skewX("+f+i)}function s(u,f,c,p,m,h){if(u!==c||f!==p){var _=m.push(o(m)+"scale(",null,",",null,")");h.push({i:_-4,x:pt(u,c)},{i:_-2,x:pt(f,p)})}else(c!==1||p!==1)&&m.push(o(m)+"scale("+c+","+p+")")}return function(u,f){var c=[],p=[];return u=t(u),f=t(f),r(u.translateX,u.translateY,f.translateX,f.translateY,c,p),l(u.rotate,f.rotate,c,p),a(u.skewX,f.skewX,c,p),s(u.scaleX,u.scaleY,f.scaleX,f.scaleY,c,p),u=f=null,function(m){for(var h=-1,_=p.length,g;++h<_;)c[(g=p[h]).i]=g.x(m);return c.join("")}}}var S1=uu(k1,"px, ","px)","deg)"),A1=uu(C1,", ",")",")"),Sn=0,Dn=0,Ln=0,fu=1e3,Hi,Bn,Wi=0,xt=0,zi=0,Zn=typeof performance=="object"&&performance.now?performance:Date,cu=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function ar(){return xt||(cu(I1),xt=Zn.now()+zi)}function I1(){xt=0}function Vi(){this._call=this._time=this._next=null}Vi.prototype=du.prototype={constructor:Vi,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?ar():+n)+(e==null?0:+e),!this._next&&Bn!==this&&(Bn?Bn._next=this:Hi=this,Bn=this),this._call=t,this._time=n,qo()},stop:function(){this._call&&(this._call=null,this._time=1/0,qo())}};function du(t,e,n){var i=new Vi;return i.restart(t,e,n),i}function T1(){ar(),++Sn;for(var t=Hi,e;t;)(e=xt-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Sn}function Is(){xt=(Wi=Zn.now())+zi,Sn=Dn=0;try{T1()}finally{Sn=0,M1(),xt=0}}function N1(){var t=Zn.now(),e=t-Wi;e>fu&&(zi-=e,Wi=t)}function M1(){for(var t,e=Hi,n,i=1/0;e;)e._call?(i>e._time&&(i=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Hi=n);Bn=t,qo(i)}function qo(t){if(!Sn){Dn&&(Dn=clearTimeout(Dn));var e=t-xt;e>24?(t<1/0&&(Dn=setTimeout(Is,t-Zn.now()-zi)),Ln&&(Ln=clearInterval(Ln))):(Ln||(Wi=Zn.now(),Ln=setInterval(N1,fu)),Sn=1,cu(Is))}}function Ts(t,e,n){var i=new Vi;return e=e==null?0:+e,i.restart(o=>{i.stop(),t(o+e)},e,n),i}var E1=Ka("start","end","cancel","interrupt"),P1=[],pu=0,Ns=1,Ro=2,bi=3,Ms=4,Do=5,vi=6;function eo(t,e,n,i,o,r){var l=t.__transition;if(!l)t.__transition={};else if(n in l)return;O1(t,n,{name:e,index:i,group:o,on:E1,tween:P1,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:pu})}function ur(t,e){var n=_t(t,e);if(n.state>pu)throw new Error("too late; already scheduled");return n}function yt(t,e){var n=_t(t,e);if(n.state>bi)throw new Error("too late; already running");return n}function _t(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function O1(t,e,n){var i=t.__transition,o;i[e]=n,n.timer=du(r,0,n.time);function r(u){n.state=Ns,n.timer.restart(l,n.delay,n.time),n.delay<=u&&l(u-n.delay)}function l(u){var f,c,p,m;if(n.state!==Ns)return s();for(f in i)if(m=i[f],m.name===n.name){if(m.state===bi)return Ts(l);m.state===Ms?(m.state=vi,m.timer.stop(),m.on.call("interrupt",t,t.__data__,m.index,m.group),delete i[f]):+f<e&&(m.state=vi,m.timer.stop(),m.on.call("cancel",t,t.__data__,m.index,m.group),delete i[f])}if(Ts(function(){n.state===bi&&(n.state=Ms,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=Ro,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Ro){for(n.state=bi,o=new Array(p=n.tween.length),f=0,c=-1;f<p;++f)(m=n.tween[f].value.call(t,t.__data__,n.index,n.group))&&(o[++c]=m);o.length=c+1}}function a(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(s),n.state=Do,1),c=-1,p=o.length;++c<p;)o[c].call(t,f);n.state===Do&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){n.state=vi,n.timer.stop(),delete i[e];for(var u in i)return;delete t.__transition}}function $1(t,e){var n=t.__transition,i,o,r=!0,l;if(n){e=e==null?null:e+"";for(l in n){if((i=n[l]).name!==e){r=!1;continue}o=i.state>Ro&&i.state<Do,i.state=vi,i.timer.stop(),i.on.call(o?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete n[l]}r&&delete t.__transition}}function L1(t){return this.each(function(){$1(this,t)})}function F1(t,e){var n,i;return function(){var o=yt(this,t),r=o.tween;if(r!==n){i=n=r;for(var l=0,a=i.length;l<a;++l)if(i[l].name===e){i=i.slice(),i.splice(l,1);break}}o.tween=i}}function q1(t,e,n){var i,o;if(typeof n!="function")throw new Error;return function(){var r=yt(this,t),l=r.tween;if(l!==i){o=(i=l).slice();for(var a={name:e,value:n},s=0,u=o.length;s<u;++s)if(o[s].name===e){o[s]=a;break}s===u&&o.push(a)}r.tween=o}}function R1(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i=_t(this.node(),n).tween,o=0,r=i.length,l;o<r;++o)if((l=i[o]).name===t)return l.value;return null}return this.each((e==null?F1:q1)(n,t,e))}function fr(t,e,n){var i=t._id;return t.each(function(){var o=yt(this,i);(o.value||(o.value={}))[e]=n.apply(this,arguments)}),function(o){return _t(o,i).value[e]}}function mu(t,e){var n;return(typeof e=="number"?pt:e instanceof Qt?ji:(n=Qt(e))?(e=n,ji):su)(t,e)}function D1(t){return function(){this.removeAttribute(t)}}function B1(t){return function(){this.removeAttributeNS(t.space,t.local)}}function G1(t,e,n){var i,o=n+"",r;return function(){var l=this.getAttribute(t);return l===o?null:l===i?r:r=e(i=l,n)}}function j1(t,e,n){var i,o=n+"",r;return function(){var l=this.getAttributeNS(t.space,t.local);return l===o?null:l===i?r:r=e(i=l,n)}}function H1(t,e,n){var i,o,r;return function(){var l,a=n(this),s;return a==null?void this.removeAttribute(t):(l=this.getAttribute(t),s=a+"",l===s?null:l===i&&s===o?r:(o=s,r=e(i=l,a)))}}function W1(t,e,n){var i,o,r;return function(){var l,a=n(this),s;return a==null?void this.removeAttributeNS(t.space,t.local):(l=this.getAttributeNS(t.space,t.local),s=a+"",l===s?null:l===i&&s===o?r:(o=s,r=e(i=l,a)))}}function V1(t,e){var n=xi(t),i=n==="transform"?A1:mu;return this.attrTween(t,typeof e=="function"?(n.local?W1:H1)(n,i,fr(this,"attr."+t,e)):e==null?(n.local?B1:D1)(n):(n.local?j1:G1)(n,i,e))}function K1(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function U1(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Y1(t,e){var n,i;function o(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&U1(t,r)),n}return o._value=e,o}function J1(t,e){var n,i;function o(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&K1(t,r)),n}return o._value=e,o}function X1(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var i=xi(t);return this.tween(n,(i.local?Y1:J1)(i,e))}function Z1(t,e){return function(){ur(this,t).delay=+e.apply(this,arguments)}}function Q1(t,e){return e=+e,function(){ur(this,t).delay=e}}function x1(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Z1:Q1)(e,t)):_t(this.node(),e).delay}function z1(t,e){return function(){yt(this,t).duration=+e.apply(this,arguments)}}function ev(t,e){return e=+e,function(){yt(this,t).duration=e}}function tv(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?z1:ev)(e,t)):_t(this.node(),e).duration}function nv(t,e){if(typeof e!="function")throw new Error;return function(){yt(this,t).ease=e}}function iv(t){var e=this._id;return arguments.length?this.each(nv(e,t)):_t(this.node(),e).ease}function ov(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;yt(this,t).ease=n}}function rv(t){if(typeof t!="function")throw new Error;return this.each(ov(this._id,t))}function lv(t){typeof t!="function"&&(t=Ja(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var r=e[o],l=r.length,a=i[o]=[],s,u=0;u<l;++u)(s=r[u])&&t.call(s,s.__data__,u,r)&&a.push(s);return new Nt(i,this._parents,this._name,this._id)}function sv(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,o=n.length,r=Math.min(i,o),l=new Array(i),a=0;a<r;++a)for(var s=e[a],u=n[a],f=s.length,c=l[a]=new Array(f),p,m=0;m<f;++m)(p=s[m]||u[m])&&(c[m]=p);for(;a<i;++a)l[a]=e[a];return new Nt(l,this._parents,this._name,this._id)}function av(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function uv(t,e,n){var i,o,r=av(e)?ur:yt;return function(){var l=r(this,t),a=l.on;a!==i&&(o=(i=a).copy()).on(e,n),l.on=o}}function fv(t,e){var n=this._id;return arguments.length<2?_t(this.node(),n).on.on(t):this.each(uv(n,t,e))}function cv(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function dv(){return this.on("end.remove",cv(this._id))}function pv(t){var e=this._name,n=this._id;typeof t!="function"&&(t=ir(t));for(var i=this._groups,o=i.length,r=new Array(o),l=0;l<o;++l)for(var a=i[l],s=a.length,u=r[l]=new Array(s),f,c,p=0;p<s;++p)(f=a[p])&&(c=t.call(f,f.__data__,p,a))&&("__data__"in f&&(c.__data__=f.__data__),u[p]=c,eo(u[p],e,n,p,u,_t(f,n)));return new Nt(r,this._parents,e,n)}function mv(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Ya(t));for(var i=this._groups,o=i.length,r=[],l=[],a=0;a<o;++a)for(var s=i[a],u=s.length,f,c=0;c<u;++c)if(f=s[c]){for(var p=t.call(f,f.__data__,c,s),m,h=_t(f,n),_=0,g=p.length;_<g;++_)(m=p[_])&&eo(m,e,n,_,p,h);r.push(p),l.push(f)}return new Nt(r,l,e,n)}var hv=ti.prototype.constructor;function _v(){return new hv(this._groups,this._parents)}function gv(t,e){var n,i,o;return function(){var r=Cn(this,t),l=(this.style.removeProperty(t),Cn(this,t));return r===l?null:r===n&&l===i?o:o=e(n=r,i=l)}}function hu(t){return function(){this.style.removeProperty(t)}}function bv(t,e,n){var i,o=n+"",r;return function(){var l=Cn(this,t);return l===o?null:l===i?r:r=e(i=l,n)}}function vv(t,e,n){var i,o,r;return function(){var l=Cn(this,t),a=n(this),s=a+"";return a==null&&(s=a=(this.style.removeProperty(t),Cn(this,t))),l===s?null:l===i&&s===o?r:(o=s,r=e(i=l,a))}}function yv(t,e){var n,i,o,r="style."+e,l="end."+r,a;return function(){var s=yt(this,t),u=s.on,f=s.value[r]==null?a||(a=hu(e)):void 0;(u!==n||o!==f)&&(i=(n=u).copy()).on(l,o=f),s.on=i}}function wv(t,e,n){var i=(t+="")=="transform"?S1:mu;return e==null?this.styleTween(t,gv(t,i)).on("end.style."+t,hu(t)):typeof e=="function"?this.styleTween(t,vv(t,i,fr(this,"style."+t,e))).each(yv(this._id,t)):this.styleTween(t,bv(t,i,e),n).on("end.style."+t,null)}function kv(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}function Cv(t,e,n){var i,o;function r(){var l=e.apply(this,arguments);return l!==o&&(i=(o=l)&&kv(t,l,n)),i}return r._value=e,r}function Sv(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,Cv(t,e,n??""))}function Av(t){return function(){this.textContent=t}}function Iv(t){return function(){var e=t(this);this.textContent=e??""}}function Tv(t){return this.tween("text",typeof t=="function"?Iv(fr(this,"text",t)):Av(t==null?"":t+""))}function Nv(t){return function(e){this.textContent=t.call(this,e)}}function Mv(t){var e,n;function i(){var o=t.apply(this,arguments);return o!==n&&(e=(n=o)&&Nv(o)),e}return i._value=t,i}function Ev(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Mv(t))}function Pv(){for(var t=this._name,e=this._id,n=_u(),i=this._groups,o=i.length,r=0;r<o;++r)for(var l=i[r],a=l.length,s,u=0;u<a;++u)if(s=l[u]){var f=_t(s,e);eo(s,t,n,u,l,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new Nt(i,this._parents,t,n)}function Ov(){var t,e,n=this,i=n._id,o=n.size();return new Promise(function(r,l){var a={value:l},s={value:function(){--o===0&&r()}};n.each(function(){var u=yt(this,i),f=u.on;f!==t&&(e=(t=f).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(s)),u.on=e}),o===0&&r()})}var $v=0;function Nt(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function _u(){return++$v}var kt=ti.prototype;Nt.prototype={constructor:Nt,select:pv,selectAll:mv,selectChild:kt.selectChild,selectChildren:kt.selectChildren,filter:lv,merge:sv,selection:_v,transition:Pv,call:kt.call,nodes:kt.nodes,node:kt.node,size:kt.size,empty:kt.empty,each:kt.each,on:fv,attr:V1,attrTween:X1,style:wv,styleTween:Sv,text:Tv,textTween:Ev,remove:dv,tween:R1,delay:x1,duration:tv,ease:iv,easeVarying:rv,end:Ov,[Symbol.iterator]:kt[Symbol.iterator]};function Lv(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Fv={time:null,delay:0,duration:250,ease:Lv};function qv(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Rv(t){var e,n;t instanceof Nt?(e=t._id,t=t._name):(e=_u(),(n=Fv).time=ar(),t=t==null?null:t+"");for(var i=this._groups,o=i.length,r=0;r<o;++r)for(var l=i[r],a=l.length,s,u=0;u<a;++u)(s=l[u])&&eo(s,t,e,u,l,n||qv(s,e));return new Nt(i,this._parents,t,e)}ti.prototype.interrupt=L1;ti.prototype.transition=Rv;const Bo=Math.PI,Go=2*Bo,Wt=1e-6,Dv=Go-Wt;function gu(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Bv(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return gu;const n=10**e;return function(i){this._+=i[0];for(let o=1,r=i.length;o<r;++o)this._+=Math.round(arguments[o]*n)/n+i[o]}}class Gv{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?gu:Bv(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,i,o){this._append`Q${+e},${+n},${this._x1=+i},${this._y1=+o}`}bezierCurveTo(e,n,i,o,r,l){this._append`C${+e},${+n},${+i},${+o},${this._x1=+r},${this._y1=+l}`}arcTo(e,n,i,o,r){if(e=+e,n=+n,i=+i,o=+o,r=+r,r<0)throw new Error(`negative radius: ${r}`);let l=this._x1,a=this._y1,s=i-e,u=o-n,f=l-e,c=a-n,p=f*f+c*c;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(p>Wt)if(!(Math.abs(c*s-u*f)>Wt)||!r)this._append`L${this._x1=e},${this._y1=n}`;else{let m=i-l,h=o-a,_=s*s+u*u,g=m*m+h*h,y=Math.sqrt(_),N=Math.sqrt(p),M=r*Math.tan((Bo-Math.acos((_+p-g)/(2*y*N)))/2),j=M/N,R=M/y;Math.abs(j-1)>Wt&&this._append`L${e+j*f},${n+j*c}`,this._append`A${r},${r},0,0,${+(c*m>f*h)},${this._x1=e+R*s},${this._y1=n+R*u}`}}arc(e,n,i,o,r,l){if(e=+e,n=+n,i=+i,l=!!l,i<0)throw new Error(`negative radius: ${i}`);let a=i*Math.cos(o),s=i*Math.sin(o),u=e+a,f=n+s,c=1^l,p=l?o-r:r-o;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>Wt||Math.abs(this._y1-f)>Wt)&&this._append`L${u},${f}`,i&&(p<0&&(p=p%Go+Go),p>Dv?this._append`A${i},${i},0,1,${c},${e-a},${n-s}A${i},${i},0,1,${c},${this._x1=u},${this._y1=f}`:p>Wt&&this._append`A${i},${i},0,${+(p>=Bo)},${c},${this._x1=e+i*Math.cos(r)},${this._y1=n+i*Math.sin(r)}`)}rect(e,n,i,o){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${i=+i}v${+o}h${-i}Z`}toString(){return this._}}function jv(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Ki(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]}function An(t){return t=Ki(Math.abs(t)),t?t[1]:NaN}function Hv(t,e){return function(n,i){for(var o=n.length,r=[],l=0,a=t[0],s=0;o>0&&a>0&&(s+a+1>i&&(a=Math.max(1,i-s)),r.push(n.substring(o-=a,o+a)),!((s+=a+1)>i));)a=t[l=(l+1)%t.length];return r.reverse().join(e)}}function Wv(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Vv=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ui(t){if(!(e=Vv.exec(t)))throw new Error("invalid format: "+t);var e;return new cr({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Ui.prototype=cr.prototype;function cr(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}cr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Kv(t){e:for(var e=t.length,n=1,i=-1,o;n<e;++n)switch(t[n]){case".":i=o=n;break;case"0":i===0&&(i=n),o=n;break;default:if(!+t[n])break e;i>0&&(i=0);break}return i>0?t.slice(0,i)+t.slice(o+1):t}var bu;function Uv(t,e){var n=Ki(t,e);if(!n)return t+"";var i=n[0],o=n[1],r=o-(bu=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,l=i.length;return r===l?i:r>l?i+new Array(r-l+1).join("0"):r>0?i.slice(0,r)+"."+i.slice(r):"0."+new Array(1-r).join("0")+Ki(t,Math.max(0,e+r-1))[0]}function Es(t,e){var n=Ki(t,e);if(!n)return t+"";var i=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+i:i.length>o+1?i.slice(0,o+1)+"."+i.slice(o+1):i+new Array(o-i.length+2).join("0")}const Ps={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:jv,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Es(t*100,e),r:Es,s:Uv,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Os(t){return t}var $s=Array.prototype.map,Ls=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Yv(t){var e=t.grouping===void 0||t.thousands===void 0?Os:Hv($s.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",i=t.currency===void 0?"":t.currency[1]+"",o=t.decimal===void 0?".":t.decimal+"",r=t.numerals===void 0?Os:Wv($s.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"−":t.minus+"",s=t.nan===void 0?"NaN":t.nan+"";function u(c){c=Ui(c);var p=c.fill,m=c.align,h=c.sign,_=c.symbol,g=c.zero,y=c.width,N=c.comma,M=c.precision,j=c.trim,R=c.type;R==="n"?(N=!0,R="g"):Ps[R]||(M===void 0&&(M=12),j=!0,R="g"),(g||p==="0"&&m==="=")&&(g=!0,p="0",m="=");var D=_==="$"?n:_==="#"&&/[boxX]/.test(R)?"0"+R.toLowerCase():"",F=_==="$"?i:/[%p]/.test(R)?l:"",G=Ps[R],q=/[defgprs%]/.test(R);M=M===void 0?6:/[gprs]/.test(R)?Math.max(1,Math.min(21,M)):Math.max(0,Math.min(20,M));function Z(A){var d=D,v=F,b,$,T;if(R==="c")v=G(A)+v,A="";else{A=+A;var L=A<0||1/A<0;if(A=isNaN(A)?s:G(Math.abs(A),M),j&&(A=Kv(A)),L&&+A==0&&h!=="+"&&(L=!1),d=(L?h==="("?h:a:h==="-"||h==="("?"":h)+d,v=(R==="s"?Ls[8+bu/3]:"")+v+(L&&h==="("?")":""),q){for(b=-1,$=A.length;++b<$;)if(T=A.charCodeAt(b),48>T||T>57){v=(T===46?o+A.slice(b+1):A.slice(b))+v,A=A.slice(0,b);break}}}N&&!g&&(A=e(A,1/0));var W=d.length+A.length+v.length,U=W<y?new Array(y-W+1).join(p):"";switch(N&&g&&(A=e(U+A,U.length?y-v.length:1/0),U=""),m){case"<":A=d+A+v+U;break;case"=":A=d+U+A+v;break;case"^":A=U.slice(0,W=U.length>>1)+d+A+v+U.slice(W);break;default:A=U+d+A+v;break}return r(A)}return Z.toString=function(){return c+""},Z}function f(c,p){var m=u((c=Ui(c),c.type="f",c)),h=Math.max(-8,Math.min(8,Math.floor(An(p)/3)))*3,_=Math.pow(10,-h),g=Ls[8+h/3];return function(y){return m(_*y)+g}}return{format:u,formatPrefix:f}}var ci,vu,yu;Jv({thousands:",",grouping:[3],currency:["$",""]});function Jv(t){return ci=Yv(t),vu=ci.format,yu=ci.formatPrefix,ci}function Xv(t){return Math.max(0,-An(Math.abs(t)))}function Zv(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(An(e)/3)))*3-An(Math.abs(t)))}function Qv(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,An(e)-An(t))+1}function xv(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function zv(t){return function(){return t}}function ey(t){return+t}var Fs=[0,1];function mn(t){return t}function jo(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:zv(isNaN(e)?NaN:.5)}function ty(t,e){var n;return t>e&&(n=t,t=e,e=n),function(i){return Math.max(t,Math.min(e,i))}}function ny(t,e,n){var i=t[0],o=t[1],r=e[0],l=e[1];return o<i?(i=jo(o,i),r=n(l,r)):(i=jo(i,o),r=n(r,l)),function(a){return r(i(a))}}function iy(t,e,n){var i=Math.min(t.length,e.length)-1,o=new Array(i),r=new Array(i),l=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<i;)o[l]=jo(t[l],t[l+1]),r[l]=n(e[l],e[l+1]);return function(a){var s=i0(t,a,1,i)-1;return r[s](o[s](a))}}function oy(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function ry(){var t=Fs,e=Fs,n=sr,i,o,r,l=mn,a,s,u;function f(){var p=Math.min(t.length,e.length);return l!==mn&&(l=ty(t[0],t[p-1])),a=p>2?iy:ny,s=u=null,c}function c(p){return p==null||isNaN(p=+p)?r:(s||(s=a(t.map(i),e,n)))(i(l(p)))}return c.invert=function(p){return l(o((u||(u=a(e,t.map(i),pt)))(p)))},c.domain=function(p){return arguments.length?(t=Array.from(p,ey),f()):t.slice()},c.range=function(p){return arguments.length?(e=Array.from(p),f()):e.slice()},c.rangeRound=function(p){return e=Array.from(p),n=w1,f()},c.clamp=function(p){return arguments.length?(l=p?!0:mn,f()):l!==mn},c.interpolate=function(p){return arguments.length?(n=p,f()):n},c.unknown=function(p){return arguments.length?(r=p,c):r},function(p,m){return i=p,o=m,f()}}function ly(){return ry()(mn,mn)}function sy(t,e,n,i){var o=a0(t,e,n),r;switch(i=Ui(i??",f"),i.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return i.precision==null&&!isNaN(r=Zv(o,l))&&(i.precision=r),yu(i,l)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(r=Qv(o,Math.max(Math.abs(t),Math.abs(e))))&&(i.precision=r-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(r=Xv(o))&&(i.precision=r-(i.type==="%")*2);break}}return vu(i)}function ay(t){var e=t.domain;return t.ticks=function(n){var i=e();return s0(i[0],i[i.length-1],n??10)},t.tickFormat=function(n,i){var o=e();return sy(o[0],o[o.length-1],n??10,i)},t.nice=function(n){n==null&&(n=10);var i=e(),o=0,r=i.length-1,l=i[o],a=i[r],s,u,f=10;for(a<l&&(u=l,l=a,a=u,u=o,o=r,r=u);f-- >0;){if(u=Eo(l,a,n),u===s)return i[o]=l,i[r]=a,e(i);if(u>0)l=Math.floor(l/u)*u,a=Math.ceil(a/u)*u;else if(u<0)l=Math.ceil(l*u)/u,a=Math.floor(a*u)/u;else break;s=u}return t},t}function Ho(){var t=ly();return t.copy=function(){return oy(t,Ho())},xv.apply(t,arguments),ay(t)}function cn(t){return function(){return t}}function uy(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const i=Math.floor(n);if(!(i>=0))throw new RangeError(`invalid digits: ${n}`);e=i}return t},()=>new Gv(e)}function fy(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function wu(t){this._context=t}wu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function cy(t){return new wu(t)}function dy(t){return t[0]}function py(t){return t[1]}function go(t,e){var n=cn(!0),i=null,o=cy,r=null,l=uy(a);t=typeof t=="function"?t:t===void 0?dy:cn(t),e=typeof e=="function"?e:e===void 0?py:cn(e);function a(s){var u,f=(s=fy(s)).length,c,p=!1,m;for(i==null&&(r=o(m=l())),u=0;u<=f;++u)!(u<f&&n(c=s[u],u,s))===p&&((p=!p)?r.lineStart():r.lineEnd()),p&&r.point(+t(c,u,s),+e(c,u,s));if(m)return r=null,m+""||null}return a.x=function(s){return arguments.length?(t=typeof s=="function"?s:cn(+s),a):t},a.y=function(s){return arguments.length?(e=typeof s=="function"?s:cn(+s),a):e},a.defined=function(s){return arguments.length?(n=typeof s=="function"?s:cn(!!s),a):n},a.curve=function(s){return arguments.length?(o=s,i!=null&&(r=o(i)),a):o},a.context=function(s){return arguments.length?(s==null?i=r=null:r=o(i=s),a):i},a}function Gn(t,e,n){this.k=t,this.x=e,this.y=n}Gn.prototype={constructor:Gn,scale:function(t){return t===1?this:new Gn(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Gn(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Gn.prototype;function my(t){let e;return{c(){e=Ji("svg"),O(e,"id","line-chart")},m(n,i){S(n,e,i)},p:ue,i:ue,o:ue,d(n){n&&C(e)}}}const qs=52;function hy(t,e,n){let{data:i=[]}=e,o,r,l;const a={top:10,right:30,bottom:10,left:20},s=500-a.left-a.right,u=400-a.top-a.bottom;go().x((h,_)=>r(_)).y(h=>l(h)),Yo(()=>{n(1,o=xb("#line-chart").attr("width",s+a.left+a.right).attr("height",u+a.top+a.bottom)),r=Ho().range([0,s]),l=Ho().range([u,0]),i.length&&f()});function f(){const h=i.length>qs?i.slice(-qs):i;c(h),p(h),m()}function c(h){o.selectAll(".line").remove();const _=go().defined(y=>y>-5).x((y,N)=>r(N)).y(y=>l(y)),g=go().defined(y=>y<0).x((y,N)=>r(N)).y(y=>l(y));o.append("path").datum(h).attr("class","line positive").attr("d",_).attr("transform",`translate(${a.left},${a.top})`).attr("fill","none").attr("stroke","green").attr("stroke-width",2),o.append("path").datum(h).attr("class","line negative").attr("d",g).attr("transform",`translate(${a.left},${a.top})`).attr("fill","none").attr("stroke","red").attr("stroke-width",2)}function p(h){const _=Math.max(0,...h),g=Math.min(0,...h);r.domain([0,h.length-1]),l.domain([g,_]).nice()}function m(h){const _=h0(r).ticks(0),g=_0(l).ticks(10);o.selectAll(".axis").remove(),o.append("g").attr("class","axis x-axis").attr("transform",`translate(${a.left},${u+a.top})`).call(_),o.append("g").attr("class","axis y-axis").attr("transform",`translate(${a.left},${a.top})`).call(g)}return t.$$set=h=>{"data"in h&&n(0,i=h.data)},t.$$.update=()=>{t.$$.dirty&3&&i&&o&&f()},[i,o]}class _y extends _e{constructor(e){super(),he(this,e,hy,my,le,{data:0})}}function gy(t){let e,n=t[1].townInfo.knowledge_points+"",i,o;return{c(){e=B("Manage your Knowledge ("),i=B(n),o=B(" pts)")},m(r,l){S(r,e,l),S(r,i,l),S(r,o,l)},p(r,l){l&2&&n!==(n=r[1].townInfo.knowledge_points+"")&&ae(i,n)},d(r){r&&(C(e),C(i),C(o))}}}function by(t){let e,n,i,o;return e=new nn({props:{$$slots:{default:[gy]},$$scope:{ctx:t}}}),i=new ln({}),{c(){X(e.$$.fragment),n=H(),X(i.$$.fragment)},m(r,l){Y(e,r,l),S(r,n,l),Y(i,r,l),o=!0},p(r,l){const a={};l&258&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){o||(k(e.$$.fragment,r),k(i.$$.fragment,r),o=!0)},o(r){I(e.$$.fragment,r),I(i.$$.fragment,r),o=!1},d(r){r&&C(n),J(e,r),J(i,r)}}}function Rs(t){let e,n,i=js(t[1].townInfo.knowledge_points*t[3])+"",o,r;return{c(){e=P("br"),n=B(`
					(total value: $`),o=B(i),r=B(")")},m(l,a){S(l,e,a),S(l,n,a),S(l,o,a),S(l,r,a)},p(l,a){a&10&&i!==(i=js(l[1].townInfo.knowledge_points*l[3])+"")&&ae(o,i)},d(l){l&&(C(e),C(n),C(o),C(r))}}}function Ds(t){let e;return{c(){e=P("div"),e.innerHTML=`Wait until the market value is <span class="text-green-500">positive</span> to sell your Knowledge for Gold. Keep in mind that you need a bank to
					convert.`},m(n,i){S(n,e,i)},d(n){n&&C(e)}}}function Bs(t){let e,n,i;return n=new Gt({props:{variant:"default",$$slots:{default:[vy]},$$scope:{ctx:t}}}),n.$on("click",t[0]),{c(){e=P("div"),X(n.$$.fragment)},m(o,r){S(o,e,r),Y(n,e,null),i=!0},p(o,r){const l={};r&256&&(l.$$scope={dirty:r,ctx:o}),n.$set(l)},i(o){i||(k(n.$$.fragment,o),i=!0)},o(o){I(n.$$.fragment,o),i=!1},d(o){o&&C(e),J(n)}}}function vy(t){let e;return{c(){e=B("Convert Knowledge to Gold")},m(n,i){S(n,e,i)},d(n){n&&C(e)}}}function Gs(t){let e;return{c(){e=P("div"),e.textContent="You need a bank to convert knowledge to gold."},m(n,i){S(n,e,i)},d(n){n&&C(e)}}}function yy(t){let e,n,i,o,r,l,a,s,u=(t[3]??0)+"",f,c,p,m,h,_,g,y,N,M,j,R;e=new on({props:{$$slots:{default:[by]},$$scope:{ctx:t}}});let D=t[3]>0&&Rs(t);_=new _y({props:{data:t[2]}});let F=t[3]<0&&Ds(),G=t[1].hasBank&&t[3]>0&&Bs(t),q=t[1].hasBank===!1&&Gs();return j=new ei({}),{c(){X(e.$$.fragment),n=H(),i=P("span"),i.textContent="Knowledge is power, unlock it!",o=H(),r=P("div"),l=P("div"),a=B("Market Rate: "),s=P("span"),f=B(u),c=B(" gold"),m=B(`
				per Knowledge Point
				`),D&&D.c(),h=H(),X(_.$$.fragment),g=H(),F&&F.c(),y=H(),G&&G.c(),N=H(),q&&q.c(),M=H(),X(j.$$.fragment),O(i,"class","italic"),O(s,"class",p=t[3]<0?"text-red-500":"text-green-500"),O(r,"class","py-0 flex flex-col gap-4 text-gray-400 overflow-x-auto")},m(Z,A){Y(e,Z,A),S(Z,n,A),S(Z,i,A),S(Z,o,A),S(Z,r,A),w(r,l),w(l,a),w(l,s),w(s,f),w(s,c),w(l,m),D&&D.m(l,null),w(r,h),Y(_,r,null),w(r,g),F&&F.m(r,null),w(r,y),G&&G.m(r,null),w(r,N),q&&q.m(r,null),S(Z,M,A),Y(j,Z,A),R=!0},p(Z,A){const d={};A&258&&(d.$$scope={dirty:A,ctx:Z}),e.$set(d),(!R||A&8)&&u!==(u=(Z[3]??0)+"")&&ae(f,u),(!R||A&8&&p!==(p=Z[3]<0?"text-red-500":"text-green-500"))&&O(s,"class",p),Z[3]>0?D?D.p(Z,A):(D=Rs(Z),D.c(),D.m(l,null)):D&&(D.d(1),D=null);const v={};A&4&&(v.data=Z[2]),_.$set(v),Z[3]<0?F||(F=Ds(),F.c(),F.m(r,y)):F&&(F.d(1),F=null),Z[1].hasBank&&Z[3]>0?G?(G.p(Z,A),A&10&&k(G,1)):(G=Bs(Z),G.c(),k(G,1),G.m(r,N)):G&&(Me(),I(G,1,1,()=>{G=null}),Ee()),Z[1].hasBank===!1?q||(q=Gs(),q.c(),q.m(r,null)):q&&(q.d(1),q=null)},i(Z){R||(k(e.$$.fragment,Z),k(_.$$.fragment,Z),k(G),k(j.$$.fragment,Z),R=!0)},o(Z){I(e.$$.fragment,Z),I(_.$$.fragment,Z),I(G),I(j.$$.fragment,Z),R=!1},d(Z){Z&&(C(n),C(i),C(o),C(r),C(M)),J(e,Z),D&&D.d(),J(_),F&&F.d(),G&&G.d(),q&&q.d(),J(j,Z)}}}function wy(t){let e,n;return e=new rn({props:{transitionConfig:{duration:0},$$slots:{default:[yy]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},p(i,o){const r={};o&270&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(k(e.$$.fragment,i),n=!0)},o(i){I(e.$$.fragment,i),n=!1},d(i){J(e,i)}}}function ky(t){let e,n,i;function o(l){t[5](l)}let r={$$slots:{default:[wy]},$$scope:{ctx:t}};return t[4]!==void 0&&(r.open=t[4]),e=new sn({props:r}),Ae.push(()=>en(e,"open",o)),{c(){X(e.$$.fragment)},m(l,a){Y(e,l,a),i=!0},p(l,[a]){const s={};a&270&&(s.$$scope={dirty:a,ctx:l}),!n&&a&16&&(n=!0,s.open=l[4],zt(()=>n=!1)),e.$set(s)},i(l){i||(k(e.$$.fragment,l),i=!0)},o(l){I(e.$$.fragment,l),i=!1},d(l){J(e,l)}}}function js(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function Cy(t,e,n){let i,o;se(t,ke,u=>n(1,i=u)),se(t,Ni,u=>n(4,o=u));let r,l=0;function a(){let u=i;i.hasBank===!0?(u.townInfo.gold+=Math.round(u.townInfo.knowledge_points*l),u.townInfo.knowledge_points=0,ke.set(u),localStorage.setItem(ft,JSON.stringify(u))):alert("You need a bank to convert knowledge to gold.")}function s(u){o=u,Ni.set(o)}return t.$$.update=()=>{t.$$.dirty&2&&i&&(n(2,r=i.economyAndLaws.knowledge_gold_market_rates),n(3,l=i.economyAndLaws.knowledge_gold_market_rates[i.economyAndLaws.knowledge_gold_market_rates.length-1]))},[a,i,r,l,o,s]}class Sy extends _e{constructor(e){super(),he(this,e,Cy,ky,le,{convertKnowledgeToGold:0})}get convertKnowledgeToGold(){return this.$$.ctx[0]}}const Ay=[{id:"sunshine",title:"Hint of Sunshine",description:`Scientist Jane T. found that more sunlight makes everyone a bit happier. 
        
        Now, every home is equipped with a pair of sunglasses and a sunhat. Enjoy happier citizens!,
        `,cost:5e3,duration:180,effect:!0},{id:"antibiotics",title:"We will call them 'Antibiotics'",description:`Scientist Alfred C. has pitched us an idea that he calls 'Antibiotics'.
        
         We don't really know what that means, but it seems to make people healthier. 
        `,cost:8e3,duration:200,effect:!0},{id:"goodbye_carrots",title:"Goodbye Carrots",description:`Scientist Jarrod M. collaborated with local carrot farms to enhance the recipe, aiming to increase consumers' height by 10%.

        Unfortunately, the experiment failed, and all the local carrot farms have gone out of business. 
        `,cost:8e3,duration:80,effect:!0},{id:"funny_cows",title:"Cowabunga!",description:`Scientist Barry T. thought that showing cows some stand-up comedy would make them produce better milk, but it didn't have the desired effect.

        The cows are now following Mike Birbiglia on Twitter, but the milk production has not increased.
        `,cost:3e3,duration:60,effect:!1},{id:"missing_treasure",title:"Missing Treasure?",description:`Scientist Sarah H. was running an experiment on tree growth and found a stash of gold near the lab. 

        She hopes nobody will miss it. Your town now has some more money. 
        `,cost:15e3,duration:180,effect:!0},{id:"tax_relief",title:"'Maybe the government is not so bad after all'",description:`Scientist Sam P. conducted a study and found that if you put a tiny bit of CHEMICAL X in the water supply, people are more likely to be ok with tax hikes. 

        We don't question it, as these experiments cost a lot of moo-lah.`,cost:7500,duration:360,effect:!0},{id:"spring_break",title:"Spring Break",description:`The Scientists took our money and spent the week at the beach. 

        We are not sure what they did, but they came back with a tan and a smile.`,cost:2e3,duration:7,effect:!1},{id:"coffee_boost_tourism",title:"Speedy Brews",description:`Scientist Claudia A. has found that a specific blend of coffee can significantly increase productivity among town employees. 

        The catch? It only works on Mondays. But hey, starting the week with a turbo-charged workforce might just be the boost we needed. The town gets a bit of extra cash from the productivity, and a bit of tourism revenue from coffee tourism.
        `,cost:8e3,duration:100,effect:!0},{id:"bee_bonanza",title:"Buzzing with Possibilities",description:`Scientist Will B. thought that introducing genetically modified super bees to the local ecosystem could help with pollination.
        
        Unfortunately, these bees prefer coffee plants over all others, leading to all coffee bean farms forced to close.`,cost:5e3,duration:120,effect:!0},{id:"wheat_whirlwind",title:"A Gust of Grain",description:`Scientist Clint C. is sulking after a botched weather control experiment aimed at improving crop yields accidentally resulted in a series of mini-tornadoes sweeping through the town's wheat farms. The wheat is gone, but the townsfolk have never been more entertained.

        Local bakers mourn the loss of wheat while selling tickets to the wheat whirlwind tours. All wheat farms are now torn down, but happiness is up.`,cost:7e3,duration:150,effect:!0},{id:"aquatic_overachievers",title:"Fishy Business",description:`An attempt to genetically enhance fish intelligence by Scientist Goldie F. in fisheries has gone awry, resulting in fish that are too smart to be caught. The fisheries are now underpopulated and shut down, but the town enjoys an unexpected tourism boom as people flock to see the genius fish who are now hanging out in local parks.

        Who knew fish could be such a draw?`,cost:6e3,duration:90,effect:!0},{id:"educational_eclipse",title:"A Sudden Drop in IQ",description:`Scientist Albert E. wanted to see if the towns' children would become smarter if THEY ran the schools. 

        This was obviously a terrible idea and the first thing the kids did was shut down the schools.`,cost:1e3,duration:45,effect:!0},{id:"education_grant",title:"Education Grant",description:`Scientist Marie C. took the funding and applied the town for a grant to improve education.

        The town wins a grant for $150,000 to build schools and improve education. (but it's up to you if that's how you want to spend the money)`,cost:4e4,duration:45,effect:!0},{id:"mindfulness_meditation_classes",title:"'Mindfulness Meditation Classes'",description:`Scientist Zen M. has introduced mindfulness meditation classes to the town after realizing that breathing in certain ways can lower stress. 
		
		Now, the town is a bit more relaxed, for now.`,cost:13e3,duration:540,effect:!0}];function Hs(t,e,n){const i=t.slice();return i[17]=e[n],i}function Iy(t){let e,n=t[1].lab.active_experiment.title+"",i;return{c(){e=B("🎉 Experiment Completed: "),i=B(n)},m(o,r){S(o,e,r),S(o,i,r)},p(o,r){r&2&&n!==(n=o[1].lab.active_experiment.title+"")&&ae(i,n)},d(o){o&&(C(e),C(i))}}}function Ty(t){let e,n=t[1].lab.active_experiment.description+"",i;return{c(){e=P("div"),i=B(n),O(e,"class","select-none whitespace-pre-wrap text-lg text-gray-400 leading-6 px-4 py-4 text-center ")},m(o,r){S(o,e,r),w(e,i)},p(o,r){r&2&&n!==(n=o[1].lab.active_experiment.description+"")&&ae(i,n)},d(o){o&&C(e)}}}function Ny(t){let e,n,i,o;return e=new Ra({props:{class:"text-center",$$slots:{default:[Iy]},$$scope:{ctx:t}}}),i=new ja({props:{$$slots:{default:[Ty]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=H(),X(i.$$.fragment)},m(r,l){Y(e,r,l),S(r,n,l),Y(i,r,l),o=!0},p(r,l){const a={};l&1048578&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&1048578&&(s.$$scope={dirty:l,ctx:r}),i.$set(s)},i(r){o||(k(e.$$.fragment,r),k(i.$$.fragment,r),o=!0)},o(r){I(e.$$.fragment,r),I(i.$$.fragment,r),o=!1},d(r){r&&C(n),J(e,r),J(i,r)}}}function My(t){let e;return{c(){e=B("Thank the scientists")},m(n,i){S(n,e,i)},d(n){n&&C(e)}}}function Ey(t){let e,n;return e=new __({props:{$$slots:{default:[My]},$$scope:{ctx:t}}}),e.$on("click",t[9]),{c(){X(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},p(i,o){const r={};o&1048576&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(k(e.$$.fragment,i),n=!0)},o(i){I(e.$$.fragment,i),n=!1},d(i){J(e,i)}}}function Py(t){let e,n,i,o;return e=new Ba({props:{$$slots:{default:[Ny]},$$scope:{ctx:t}}}),i=new Da({props:{$$slots:{default:[Ey]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=H(),X(i.$$.fragment)},m(r,l){Y(e,r,l),S(r,n,l),Y(i,r,l),o=!0},p(r,l){const a={};l&1048578&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&1048576&&(s.$$scope={dirty:l,ctx:r}),i.$set(s)},i(r){o||(k(e.$$.fragment,r),k(i.$$.fragment,r),o=!0)},o(r){I(e.$$.fragment,r),I(i.$$.fragment,r),o=!1},d(r){r&&C(n),J(e,r),J(i,r)}}}function Oy(t){let e,n;return e=new Ga({props:{$$slots:{default:[Py]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},p(i,o){const r={};o&1048578&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(k(e.$$.fragment,i),n=!0)},o(i){I(e.$$.fragment,i),n=!1},d(i){J(e,i)}}}function $y(t){let e;return{c(){e=P("span"),e.textContent="Manage your Laboratory 🔬 🧪"},m(n,i){S(n,e,i)},p:ue,d(n){n&&C(e)}}}function Ly(t){let e,n,i,o=t[1].lab.xp+"",r,l,a,s;return{c(){e=P("span"),n=B("You have earned "),i=P("span"),r=B(o),l=B(" XP"),s=B(` from experiments. XP can be used to buy advanced plots and develop your
					city.`),O(i,"class",a="italic "+(t[1].lab.xp<0?"text-red-500":"text-green-500"))},m(u,f){S(u,e,f),w(e,n),w(e,i),w(i,r),w(i,l),w(e,s)},p(u,f){f&2&&o!==(o=u[1].lab.xp+"")&&ae(r,o),f&2&&a!==(a="italic "+(u[1].lab.xp<0?"text-red-500":"text-green-500"))&&O(i,"class",a)},d(u){u&&C(e)}}}function Fy(t){let e,n,i,o;return e=new nn({props:{$$slots:{default:[$y]},$$scope:{ctx:t}}}),i=new ln({props:{$$slots:{default:[Ly]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=H(),X(i.$$.fragment)},m(r,l){Y(e,r,l),S(r,n,l),Y(i,r,l),o=!0},p(r,l){const a={};l&1048576&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&1048578&&(s.$$scope={dirty:l,ctx:r}),i.$set(s)},i(r){o||(k(e.$$.fragment,r),k(i.$$.fragment,r),o=!0)},o(r){I(e.$$.fragment,r),I(i.$$.fragment,r),o=!1},d(r){r&&C(n),J(e,r),J(i,r)}}}function qy(t){let e;return{c(){e=B("No more experiments available")},m(n,i){S(n,e,i)},p:ue,i:ue,o:ue,d(n){n&&C(e)}}}function Ry(t){let e,n,i,o,r=Ye(t[0]),l=[];for(let s=0;s<r.length;s+=1)l[s]=Vs(Hs(t,r,s));const a=s=>I(l[s],1,1,()=>{l[s]=null});return{c(){e=P("div"),e.textContent=`It's time to fund your next experiment! Choose a project below based on
				it's funding requirement. Once the experiment is over, you will see the
				results.`,n=H(),i=P("div");for(let s=0;s<l.length;s+=1)l[s].c();O(e,"class","select-none text-sm "),O(i,"class","text-center flex flex-col justify-center items-center gap-4 ")},m(s,u){S(s,e,u),S(s,n,u),S(s,i,u);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(i,null);o=!0},p(s,u){if(u&19){r=Ye(s[0]);let f;for(f=0;f<r.length;f+=1){const c=Hs(s,r,f);l[f]?(l[f].p(c,u),k(l[f],1)):(l[f]=Vs(c),l[f].c(),k(l[f],1),l[f].m(i,null))}for(Me(),f=r.length;f<l.length;f+=1)a(f);Ee()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)k(l[u]);o=!0}},o(s){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)I(l[u]);o=!1},d(s){s&&(C(e),C(n),C(i)),vt(l,s)}}}function Dy(t){let e,n=t[1].lab.active_experiment.duration+"",i,o,r,l,a=t[1].lab.active_experiment.duration===0&&Ks(t);return{c(){e=B("Currently running an experiment... check back in "),i=B(n),o=B(` days.
			`),a&&a.c(),r=Pe()},m(s,u){S(s,e,u),S(s,i,u),S(s,o,u),a&&a.m(s,u),S(s,r,u),l=!0},p(s,u){(!l||u&2)&&n!==(n=s[1].lab.active_experiment.duration+"")&&ae(i,n),s[1].lab.active_experiment.duration===0?a?(a.p(s,u),u&2&&k(a,1)):(a=Ks(s),a.c(),k(a,1),a.m(r.parentNode,r)):a&&(Me(),I(a,1,1,()=>{a=null}),Ee())},i(s){l||(k(a),l=!0)},o(s){I(a),l=!1},d(s){s&&(C(e),C(i),C(o),C(r)),a&&a.d(s)}}}function Ws(t){let e,n,i=t[17].id+"",o;return{c(){e=P("span"),n=B("// dev-"),o=B(i),O(e,"class","text-xs text-gray-400")},m(r,l){S(r,e,l),w(e,n),w(e,o)},p(r,l){l&1&&i!==(i=r[17].id+"")&&ae(o,i)},d(r){r&&C(e)}}}function By(t){let e,n=Us(t[17].cost).split(".")[0]+"",i,o,r,l=t[1].devMode===!0&&Ws(t);return{c(){e=B("$"),i=B(n),o=B(` gold

						`),l&&l.c(),r=H()},m(a,s){S(a,e,s),S(a,i,s),S(a,o,s),l&&l.m(a,s),S(a,r,s)},p(a,s){s&1&&n!==(n=Us(a[17].cost).split(".")[0]+"")&&ae(i,n),a[1].devMode===!0?l?l.p(a,s):(l=Ws(a),l.c(),l.m(r.parentNode,r)):l&&(l.d(1),l=null)},d(a){a&&(C(e),C(i),C(o),C(r)),l&&l.d(a)}}}function Vs(t){let e,n;function i(){return t[11](t[17])}return e=new Gt({props:{variant:"outline",class:`min-w-48 w-max flex-col
				`+(t[17].cost>t[1].townInfo.gold?"cursor-not-allowed":"")+`
				`,$$slots:{default:[By]},$$scope:{ctx:t}}}),e.$on("click",i),{c(){X(e.$$.fragment)},m(o,r){Y(e,o,r),n=!0},p(o,r){t=o;const l={};r&3&&(l.class=`min-w-48 w-max flex-col
				`+(t[17].cost>t[1].townInfo.gold?"cursor-not-allowed":"")+`
				`),r&1048579&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){I(e.$$.fragment,o),n=!1},d(o){J(e,o)}}}function Ks(t){let e,n;return e=new Gt({props:{variant:"outline",$$slots:{default:[Gy]},$$scope:{ctx:t}}}),e.$on("click",t[10]),{c(){X(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},p(i,o){const r={};o&1048576&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(k(e.$$.fragment,i),n=!0)},o(i){I(e.$$.fragment,i),n=!1},d(i){J(e,i)}}}function Gy(t){let e;return{c(){e=B("Complete experiment (and face the impact)")},m(n,i){S(n,e,i)},d(n){n&&C(e)}}}function jy(t){let e;return{c(){e=P("span"),e.textContent="Keep in mind that not all experiments yield positive results.",O(e,"class","italic text-left text-red-800")},m(n,i){S(n,e,i)},p:ue,d(n){n&&C(e)}}}function Hy(t){let e,n,i,o,r,l,a,s,u,f,c;e=new on({props:{$$slots:{default:[Fy]},$$scope:{ctx:t}}}),i=new Kn({});const p=[Dy,Ry,qy],m=[];function h(_,g){return _[1].lab.active_experiment!==null?0:_[0].length>0?1:_[0].length===0?2:-1}return~(r=h(t))&&(l=m[r]=p[r](t)),s=new Kn({props:{class:"mt-4"}}),f=new ei({props:{$$slots:{default:[jy]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=H(),X(i.$$.fragment),o=H(),l&&l.c(),a=H(),X(s.$$.fragment),u=H(),X(f.$$.fragment)},m(_,g){Y(e,_,g),S(_,n,g),Y(i,_,g),S(_,o,g),~r&&m[r].m(_,g),S(_,a,g),Y(s,_,g),S(_,u,g),Y(f,_,g),c=!0},p(_,g){const y={};g&1048578&&(y.$$scope={dirty:g,ctx:_}),e.$set(y);let N=r;r=h(_),r===N?~r&&m[r].p(_,g):(l&&(Me(),I(m[N],1,1,()=>{m[N]=null}),Ee()),~r?(l=m[r],l?l.p(_,g):(l=m[r]=p[r](_),l.c()),k(l,1),l.m(a.parentNode,a)):l=null);const M={};g&1048576&&(M.$$scope={dirty:g,ctx:_}),f.$set(M)},i(_){c||(k(e.$$.fragment,_),k(i.$$.fragment,_),k(l),k(s.$$.fragment,_),k(f.$$.fragment,_),c=!0)},o(_){I(e.$$.fragment,_),I(i.$$.fragment,_),I(l),I(s.$$.fragment,_),I(f.$$.fragment,_),c=!1},d(_){_&&(C(n),C(o),C(a),C(u)),J(e,_),J(i,_),~r&&m[r].d(_),J(s,_),J(f,_)}}}function Wy(t){let e,n;return e=new rn({props:{$$slots:{default:[Hy]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},p(i,o){const r={};o&1048579&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(k(e.$$.fragment,i),n=!0)},o(i){I(e.$$.fragment,i),n=!1},d(i){J(e,i)}}}function Vy(t){let e,n,i,o,r;e=new Ha({props:{open:t[2],$$slots:{default:[Oy]},$$scope:{ctx:t}}});function l(s){t[12](s)}let a={$$slots:{default:[Wy]},$$scope:{ctx:t}};return t[3]!==void 0&&(a.open=t[3]),i=new sn({props:a}),Ae.push(()=>en(i,"open",l)),{c(){X(e.$$.fragment),n=H(),X(i.$$.fragment)},m(s,u){Y(e,s,u),S(s,n,u),Y(i,s,u),r=!0},p(s,[u]){const f={};u&4&&(f.open=s[2]),u&1048578&&(f.$$scope={dirty:u,ctx:s}),e.$set(f);const c={};u&1048579&&(c.$$scope={dirty:u,ctx:s}),!o&&u&8&&(o=!0,c.open=s[3],zt(()=>o=!1)),i.$set(c)},i(s){r||(k(e.$$.fragment,s),k(i.$$.fragment,s),r=!0)},o(s){I(e.$$.fragment,s),I(i.$$.fragment,s),r=!1},d(s){s&&C(n),J(e,s),J(i,s)}}}function Us(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function Ky(t,e,n){let i,o;se(t,ke,M=>n(1,i=M)),se(t,pi,M=>n(3,o=M));var r;let l=[],a=!1,s=!1,u=!1;function f(){if(l.length>0||!a)return l;let M=[],j=Ay.filter(R=>!i.lab.past_experiments.some(D=>D.id===R.id));for(let R=0;R<3;R++){let D=j[Math.floor(Math.random()*j.length)];D.cost=Math.floor(Math.random()*(D.cost*.35)+D.cost*.8),M.push(D)}return M=M.filter((R,D)=>M.indexOf(R)===D),M=M.filter(R=>R),n(8,u=!0),M}function c(M){if(i.townInfo.gold<M.cost){alert("You do not have enough gold to purchase this experiment.");return}ge(ke,i.townInfo.gold-=M.cost,i),ge(ke,i.lab.active_experiment=M,i),i.lab.past_experiments.push(M)}function p(){var M;switch(ge(pi,o=!1,o),n(2,s=!0),(M=i.lab.active_experiment)===null||M===void 0?void 0:M.id){case"sunshine":ge(ke,i.modifiers.happiness=50,i);break;case"antibiotics":ge(ke,i.modifiers.health=50,i);break;case"goodbye_carrots":h("carrot_farm");break;case"missing_treasure":ge(ke,i.townInfo.gold+=Math.floor(Math.random()*i.lab.active_experiment.cost*2),i);break;case"tax_relief":ge(ke,i.economyAndLaws.max_tax_rate=(Math.random()*.8+1.2)*i.economyAndLaws.max_tax_rate,i);break;case"coffee_boost_tourism":ge(ke,i.townInfo.gold+=5e3,i),ge(ke,i.townInfo.gold_from_tourism+=1e4,i);break;case"bee_bonanza":h("coffee_bean_farm");break;case"wheat_whirlwind":h("wheat_farm"),ge(ke,i.townInfo.happiness*=1.5,i),ge(ke,i.modifiers.happiness+=3,i);break;case"aquatic_overachievers":h("fishery"),ge(ke,i.townInfo.gold_from_tourism+=3e4,i);break;case"educational_eclipse":h("small_school"),h("large_school"),ge(ke,i.townInfo.knowledge_points*=.8,i);break;case"education_grant":ge(ke,i.townInfo.knowledge_points*=1.5,i),ge(ke,i.townInfo.gold+=15e4,i);break;case"mindfulness_meditation_classes":i.modifiers.happiness*1.5;break}ge(ke,i.lab.active_experiment.duration=-1,i)}function m(){let M=i;M.lab.xp+=Math.round(M.lab.active_experiment.cost*(Math.random()*2+.5)),M.lab.active_experiment=null,n(2,s=!1),ge(ke,i=M,i)}function h(M){let j=ot(M,i);for(let R=0;R<j.length;R++)Ti(j[R].x,j[R].y,i)}const _=()=>{m()},g=()=>{p()},y=M=>{M.cost<i.townInfo.gold&&c(M)};function N(M){o=M,pi.set(o)}return t.$$.update=()=>{t.$$.dirty&387&&(i?(a=!0,n(0,l=u==!1?f():l),(n(7,r=i.lab.active_experiment)===null||r===void 0?void 0:r.duration)===-1&&n(2,s=!0)):a=!1)},[l,i,s,o,c,p,m,r,u,_,g,y,N]}class Uy extends _e{constructor(e){super(),he(this,e,Ky,Vy,le,{})}}function Ys(t){let e,n,i,o;const r=[Jy,Yy],l=[];function a(s,u){return s[0]==null?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),i=Pe()},m(s,u){l[e].m(s,u),S(s,i,u),o=!0},p(s,u){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),I(l[f],1,1,()=>{l[f]=null}),Ee(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(i.parentNode,i))},i(s){o||(k(n),o=!0)},o(s){I(n),o=!1},d(s){s&&C(i),l[e].d(s)}}}function Yy(t){let e,n,i,o,r,l,a,s,u,f,c,p,m,h,_,g,y,N,M,j,R,D=t[2]==!0&&Js();return n=new r_({}),o=new Zh({}),l=new Ng({}),s=new xg({}),f=new Sy({}),p=new Uy({}),g=new jh({}),{c(){D&&D.c(),e=H(),X(n.$$.fragment),i=H(),X(o.$$.fragment),r=H(),X(l.$$.fragment),a=H(),X(s.$$.fragment),u=H(),X(f.$$.fragment),c=H(),X(p.$$.fragment),m=H(),h=P("div"),_=P("div"),X(g.$$.fragment),y=H(),N=P("br"),M=H(),j=P("style"),j.textContent=`#plot_grid {
				overflow-x: scroll;
				overflow-y: scroll;
				scroll-behavior: smooth;
			}
			/* no visible scrollbars */
			#plot_grid::-webkit-scrollbar {
				display: none;
			}

			html {
				overflow: scroll;
			}

			::-webkit-scrollbar {
				width: 0px;
				background: transparent; /* make scrollbar transparent */
			}`,O(_,"id","plot_grid"),yn(_,"margin-top",t[3]+"px"),O(_,"class","scroll-smooth no-scrollbar overflow-x "),O(h,"class","justify-center text-center align-middle <!-- center horiz --> flex ")},m(F,G){D&&D.m(F,G),S(F,e,G),Y(n,F,G),S(F,i,G),Y(o,F,G),S(F,r,G),Y(l,F,G),S(F,a,G),Y(s,F,G),S(F,u,G),Y(f,F,G),S(F,c,G),Y(p,F,G),S(F,m,G),S(F,h,G),w(h,_),Y(g,_,null),w(_,y),w(_,N),S(F,M,G),S(F,j,G),R=!0},p(F,G){F[2]==!0?D?G&4&&k(D,1):(D=Js(),D.c(),k(D,1),D.m(e.parentNode,e)):D&&(Me(),I(D,1,1,()=>{D=null}),Ee()),(!R||G&8)&&yn(_,"margin-top",F[3]+"px")},i(F){R||(k(D),k(n.$$.fragment,F),k(o.$$.fragment,F),k(l.$$.fragment,F),k(s.$$.fragment,F),k(f.$$.fragment,F),k(p.$$.fragment,F),k(g.$$.fragment,F),R=!0)},o(F){I(D),I(n.$$.fragment,F),I(o.$$.fragment,F),I(l.$$.fragment,F),I(s.$$.fragment,F),I(f.$$.fragment,F),I(p.$$.fragment,F),I(g.$$.fragment,F),R=!1},d(F){F&&(C(e),C(i),C(r),C(a),C(u),C(c),C(m),C(h),C(M),C(j)),D&&D.d(F),J(n,F),J(o,F),J(l,F),J(s,F),J(f,F),J(p,F),J(g)}}}function Jy(t){let e,n;return e=new Wg({}),{c(){X(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},p:ue,i(i){n||(k(e.$$.fragment,i),n=!0)},o(i){I(e.$$.fragment,i),n=!1},d(i){J(e,i)}}}function Js(t){let e,n;return e=new gg({}),{c(){X(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},i(i){n||(k(e.$$.fragment,i),n=!0)},o(i){I(e.$$.fragment,i),n=!1},d(i){J(e,i)}}}function Xy(t){let e,n,i=(t[1]||t[0]==null)&&Ys(t);return{c(){i&&i.c(),e=Pe()},m(o,r){i&&i.m(o,r),S(o,e,r),n=!0},p(o,[r]){o[1]||o[0]==null?i?(i.p(o,r),r&3&&k(i,1)):(i=Ys(o),i.c(),k(i,1),i.m(e.parentNode,e)):i&&(Me(),I(i,1,1,()=>{i=null}),Ee())},i(o){n||(k(i),n=!0)},o(o){I(i),n=!1},d(o){o&&C(e),i&&i.d(o)}}}function Zy(t,e,n){let i,o,r,l,a,s;se(t,wn,m=>n(6,i=m)),se(t,Xe,m=>n(7,o=m)),se(t,ht,m=>n(2,r=m)),se(t,ke,m=>n(0,l=m)),se(t,Hn,m=>n(8,a=m)),se(t,yo,m=>n(3,s=m));let u=!1;bg();let f=!1;document.addEventListener("keydown",m=>{if((document.activeElement!=null&&document.activeElement.nodeName==="INPUT"||document.activeElement!=null&&document.activeElement.nodeName=="TEXTAREA")&&m.key!=="Escape")return;switch(m.key.toLowerCase()){case"p":r==!0?ht.set(!1):(ht.set(!0),ge(Xe,o.visible=!1,o));break;case"escape":m.shiftKey?(ge(ht,r=!0,r),localStorage.setItem("reset","true"),location.reload(),Qo()):o.visible==!0&&ge(Xe,o.visible=!1,o);break;case"arrowleft":case"a":m.preventDefault(),c(0,-1,"up");break;case"arrowright":case"d":m.preventDefault(),c(0,1,"down");break;case"arrowup":case"w":m.preventDefault(),c(-1,0,"left");break;case"arrowdown":case"s":m.preventDefault(),c(1,0,"right");break}});function c(m,h,_){if(o.visible===!1&&o.x===0&&o.y===0)p(0,0,_);else{let g=o.x,y=o.y;g+m<0?g=0:g+m>l.plots.length?g=l.plots.length:g+=m,y+h<0?y=0:y+h>l.plots.length?y=l.plots.length:y+=h,p(g,y,_)}}function p(m,h,_){if(f==!0)switch(_){case"up":h-=2;break;case"down":h+=1;break;case"left":m-=2;break;case"right":m+=1;break}m<0?m=0:m>l.plots.length&&(m=l.plots.length),h<0?h=0:h>l.plots.length&&(h=l.plots.length);let g=document.querySelectorAll(".plot_container"),y;if(g.forEach(N=>{N.dataset.x=="$x"&&N.dataset.y=="$y"&&(y=N)}),r==!1){if(y.dataset.canBeUpgraded==="true"?ge(Xe,o.visible=!0,o):ge(Xe,o.visible=!1,o),y.dataset.refPlotX!==void 0&&y.dataset.refPlotY!=""?(f=!0,g.forEach(N=>{N.dataset.x==y.dataset.refPlotX&&N.dataset.y==y.dataset.refPlotY&&(y=N,m=parseInt(y.dataset.x),h=parseInt(y.dataset.y))})):f=!1,y.dataset.size!=="1"&&y.dataset.size!==void 0&&(f=!0),ge(Xe,o.x=m,o),ge(Xe,o.y=h,o),g.forEach(N=>{N.classList.remove("selected"),N.style.fontWeight=""}),y.classList.add("selected"),f){let N="4px solid #00800045";y.classList.remove("selected"),y.style.borderTop=N,y.style.borderLeft=N,y.style.fontWeight="600",g.forEach(M=>{const j=parseInt(`${M.dataset.x}`),R=parseInt(`${M.dataset.y}`);j==m+1&&R==h&&(M.style.borderLeft=N,M.style.borderBottom=N),j==m&&R==h+1&&(M.style.borderTop=N,M.style.borderRight=N),j==m+1&&R==h+1&&(M.style.borderBottom=N,M.style.borderRight=N)})}y.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),ge(wn,i={},i)}}return t.$$.update=()=>{t.$$.dirty&1&&(l?(ge(Hn,a.visible=!1,a),n(1,u=!0)):(ge(Hn,a.visible=!0,a),n(1,u=!1)))},[l,u,r,s,p]}class Qy extends _e{constructor(e){super(),he(this,e,Zy,Xy,le,{openPlotMenu:4})}get openPlotMenu(){return this.$$.ctx[4]}}new Qy({target:document.getElementById("app")});
