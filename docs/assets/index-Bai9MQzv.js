var wa=Object.defineProperty;var ka=(t,e,n)=>e in t?wa(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var It=(t,e,n)=>(ka(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function oe(){}const Pr=t=>t;function z(t,e){for(const n in e)t[n]=e[n];return t}function Ql(t){return t()}function Ui(){return Object.create(null)}function $e(t){t.forEach(Ql)}function At(t){return typeof t=="function"}function ae(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Sa(t){return Object.keys(t).length===0}function Si(t,...e){if(t==null){for(const r of e)r(void 0);return oe}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function zl(t){let e;return Si(t,n=>e=n)(),e}function ie(t,e,n){t.$$.on_destroy.push(Si(e,n))}function ye(t,e,n,r){if(t){const i=es(t,e,n,r);return t[0](i)}}function es(t,e,n,r){return t[1]&&r?z(n.ctx.slice(),t[1](r(e))):n.ctx}function we(t,e,n,r){if(t[2]&&r){const i=t[2](r(n));if(e.dirty===void 0)return i;if(typeof i=="object"){const o=[],l=Math.max(e.dirty.length,i.length);for(let s=0;s<l;s+=1)o[s]=e.dirty[s]|i[s];return o}return e.dirty|i}return e.dirty}function ke(t,e,n,r,i,o){if(i){const l=es(e,n,r,o);t.p(l,i)}}function Se(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let r=0;r<n;r++)e[r]=-1;return e}return-1}function Fe(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function fe(t,e){const n={};e=new Set(e);for(const r in t)!e.has(r)&&r[0]!=="$"&&(n[r]=t[r]);return n}function Ce(t,e,n){return t.set(n),e}function Ye(t){return t&&At(t.destroy)?t.destroy:oe}const ts=typeof window<"u";let Ai=ts?()=>window.performance.now():()=>Date.now(),Ci=ts?t=>requestAnimationFrame(t):oe;const zt=new Set;function ns(t){zt.forEach(e=>{e.c(t)||(zt.delete(e),e.f())}),zt.size!==0&&Ci(ns)}function Ni(t){let e;return zt.size===0&&Ci(ns),{promise:new Promise(n=>{zt.add(e={c:t,f:n})}),abort(){zt.delete(e)}}}function w(t,e){t.appendChild(e)}function rs(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function Aa(t){const e=O("style");return e.textContent="/* empty */",Ca(rs(t),e),e.sheet}function Ca(t,e){return w(t.head||t,e),e.sheet}function C(t,e,n){t.insertBefore(e,n||null)}function k(t){t.parentNode&&t.parentNode.removeChild(t)}function Ct(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function O(t){return document.createElement(t)}function Or(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function j(t){return document.createTextNode(t)}function V(){return j(" ")}function Me(){return j("")}function J(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function F(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}const Na=["width","height"];function he(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const r in e)e[r]==null?t.removeAttribute(r):r==="style"?t.style.cssText=e[r]:r==="__value"?t.value=t[r]=e[r]:n[r]&&n[r].set&&Na.indexOf(r)===-1?t[r]=e[r]:F(t,r,e[r])}function sr(t,e){for(const n in e)F(t,n,e[n])}function Ia(t,e){Object.keys(e).forEach(n=>{Ta(t,n,e[n])})}function Ta(t,e,n){const r=e.toLowerCase();r in t?t[r]=typeof t[r]=="boolean"&&n===""?!0:n:e in t?t[e]=typeof t[e]=="boolean"&&n===""?!0:n:F(t,e,n)}function rn(t){return/-/.test(t)?Ia:he}function Ea(t){return Array.from(t.childNodes)}function se(t,e){e=""+e,t.data!==e&&(t.data=e)}function yt(t,e){t.value=e??""}function on(t,e,n,r){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function Yi(t,e,n){for(let r=0;r<t.options.length;r+=1){const i=t.options[r];if(i.__value===e){i.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function is(t,e,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:r})}class $a{constructor(e=!1){It(this,"is_svg",!1);It(this,"e");It(this,"n");It(this,"t");It(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,n,r=null){this.e||(this.is_svg?this.e=Or(n.nodeName):this.e=O(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(e)),this.i(r)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)C(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(k)}}const ar=new Map;let ur=0;function Ma(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function Pa(t,e){const n={stylesheet:Aa(e),rules:{}};return ar.set(t,n),n}function fr(t,e,n,r,i,o,l,s=0){const a=16.666/r;let u=`{
`;for(let y=0;y<=1;y+=a){const S=e+(n-e)*o(y);u+=y*100+`%{${l(S,1-S)}}
`}const f=u+`100% {${l(n,1-n)}}
}`,c=`__svelte_${Ma(f)}_${s}`,d=rs(t),{stylesheet:h,rules:m}=ar.get(d)||Pa(d,t);m[c]||(m[c]=!0,h.insertRule(`@keyframes ${c} ${f}`,h.cssRules.length));const _=t.style.animation||"";return t.style.animation=`${_?`${_}, `:""}${c} ${r}ms linear ${i}ms 1 both`,ur+=1,c}function cr(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?o=>o.indexOf(e)<0:o=>o.indexOf("__svelte")===-1),i=n.length-r.length;i&&(t.style.animation=r.join(", "),ur-=i,ur||Oa())}function Oa(){Ci(()=>{ur||(ar.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&k(e)}),ar.clear())})}let Fn;function Pn(t){Fn=t}function Gn(){if(!Fn)throw new Error("Function called outside component initialization");return Fn}function os(t){Gn().$$.on_mount.push(t)}function La(t){Gn().$$.on_destroy.push(t)}function Fa(){const t=Gn();return(e,n,{cancelable:r=!1}={})=>{const i=t.$$.callbacks[e];if(i){const o=is(e,n,{cancelable:r});return i.slice().forEach(l=>{l.call(t,o)}),!o.defaultPrevented}return!0}}function Ra(t,e){return Gn().$$.context.set(t,e),e}function xa(t){return Gn().$$.context.get(t)}function ne(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(r=>r.call(this,e))}const Xt=[],Ee=[];let en=[];const zr=[],ls=Promise.resolve();let ei=!1;function ss(){ei||(ei=!0,ls.then(as))}function Ii(){return ss(),ls}function it(t){en.push(t)}function fn(t){zr.push(t)}const Br=new Set;let Kt=0;function as(){if(Kt!==0)return;const t=Fn;do{try{for(;Kt<Xt.length;){const e=Xt[Kt];Kt++,Pn(e),qa(e.$$)}}catch(e){throw Xt.length=0,Kt=0,e}for(Pn(null),Xt.length=0,Kt=0;Ee.length;)Ee.pop()();for(let e=0;e<en.length;e+=1){const n=en[e];Br.has(n)||(Br.add(n),n())}en.length=0}while(Xt.length);for(;zr.length;)zr.pop()();ei=!1,Br.clear(),Pn(t)}function qa(t){if(t.fragment!==null){t.update(),$e(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(it)}}function Da(t){const e=[],n=[];en.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),en=e}let vn;function Ti(){return vn||(vn=Promise.resolve(),vn.then(()=>{vn=null})),vn}function Bt(t,e,n){t.dispatchEvent(is(`${e?"intro":"outro"}${n}`))}const er=new Set;let pt;function xe(){pt={r:0,c:[],p:pt}}function qe(){pt.r||$e(pt.c),pt=pt.p}function T(t,e){t&&t.i&&(er.delete(t),t.i(e))}function P(t,e,n,r){if(t&&t.o){if(er.has(t))return;er.add(t),pt.c.push(()=>{er.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}const Ei={duration:0};function Lr(t,e,n){const r={direction:"in"};let i=e(t,n,r),o=!1,l,s,a=0;function u(){l&&cr(t,l)}function f(){const{delay:d=0,duration:h=300,easing:m=Pr,tick:_=oe,css:y}=i||Ei;y&&(l=fr(t,0,1,h,d,m,y,a++)),_(0,1);const S=Ai()+d,A=S+h;s&&s.abort(),o=!0,it(()=>Bt(t,!0,"start")),s=Ni($=>{if(o){if($>=A)return _(1,0),Bt(t,!0,"end"),u(),o=!1;if($>=S){const W=m(($-S)/h);_(W,1-W)}}return o})}let c=!1;return{start(){c||(c=!0,cr(t),At(i)?(i=i(r),Ti().then(f)):f())},invalidate(){c=!1},end(){o&&(u(),o=!1)}}}function Fr(t,e,n){const r={direction:"out"};let i=e(t,n,r),o=!0,l;const s=pt;s.r+=1;let a;function u(){const{delay:f=0,duration:c=300,easing:d=Pr,tick:h=oe,css:m}=i||Ei;m&&(l=fr(t,1,0,c,f,d,m));const _=Ai()+f,y=_+c;it(()=>Bt(t,!1,"start")),"inert"in t&&(a=t.inert,t.inert=!0),Ni(S=>{if(o){if(S>=y)return h(0,1),Bt(t,!1,"end"),--s.r||$e(s.c),!1;if(S>=_){const A=d((S-_)/c);h(1-A,A)}}return o})}return At(i)?Ti().then(()=>{i=i(r),u()}):u(),{end(f){f&&"inert"in t&&(t.inert=a),f&&i.tick&&i.tick(1,0),o&&(l&&cr(t,l),o=!1)}}}function dr(t,e,n,r){let o=e(t,n,{direction:"both"}),l=r?0:1,s=null,a=null,u=null,f;function c(){u&&cr(t,u)}function d(m,_){const y=m.b-l;return _*=Math.abs(y),{a:l,b:m.b,d:y,duration:_,start:m.start,end:m.start+_,group:m.group}}function h(m){const{delay:_=0,duration:y=300,easing:S=Pr,tick:A=oe,css:$}=o||Ei,W={start:Ai()+_,b:m};m||(W.group=pt,pt.r+=1),"inert"in t&&(m?f!==void 0&&(t.inert=f):(f=t.inert,t.inert=!0)),s||a?a=W:($&&(c(),u=fr(t,l,m,y,_,S,$)),m&&A(0,1),s=d(W,y),it(()=>Bt(t,m,"start")),Ni(L=>{if(a&&L>a.start&&(s=d(a,y),a=null,Bt(t,s.b,"start"),$&&(c(),u=fr(t,l,s.b,s.duration,0,S,o.css))),s){if(L>=s.end)A(l=s.b,1-l),Bt(t,s.b,"end"),a||(s.b?c():--s.group.r||$e(s.group.c)),s=null;else if(L>=s.start){const R=L-s.start;l=s.a+s.d*S(R/s.duration),A(l,1-l)}}return!!(s||a)}))}return{run(m){At(o)?Ti().then(()=>{o=o({direction:m?"in":"out"}),h(m)}):h(m)},end(){c(),s=a=null}}}function He(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Ba(t,e){t.d(1),e.delete(t.key)}function Ga(t,e,n,r,i,o,l,s,a,u,f,c){let d=t.length,h=o.length,m=d;const _={};for(;m--;)_[t[m].key]=m;const y=[],S=new Map,A=new Map,$=[];for(m=h;m--;){const x=c(i,o,m),D=n(x);let p=l.get(D);p?r&&$.push(()=>p.p(x,e)):(p=u(D,x),p.c()),S.set(D,y[m]=p),D in _&&A.set(D,Math.abs(m-_[D]))}const W=new Set,L=new Set;function R(x){T(x,1),x.m(s,f),l.set(x.key,x),f=x.first,h--}for(;d&&h;){const x=y[h-1],D=t[d-1],p=x.key,G=D.key;x===D?(f=x.first,d--,h--):S.has(G)?!l.has(p)||W.has(p)?R(x):L.has(G)?d--:A.get(p)>A.get(G)?(L.add(p),R(x)):(W.add(G),d--):(a(D,l),d--)}for(;d--;){const x=t[d];S.has(x.key)||a(x,l)}for(;h;)R(y[h-1]);return $e($),y}function be(t,e){const n={},r={},i={$$scope:1};let o=t.length;for(;o--;){const l=t[o],s=e[o];if(s){for(const a in l)a in s||(r[a]=1);for(const a in s)i[a]||(n[a]=s[a],i[a]=1);t[o]=s}else for(const a in l)i[a]=1}for(const l in r)l in n||(n[l]=void 0);return n}function Nt(t){return typeof t=="object"&&t!==null?t:{}}function cn(t,e,n){const r=t.$$.props[e];r!==void 0&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function Q(t){t&&t.c()}function X(t,e,n){const{fragment:r,after_update:i}=t.$$;r&&r.m(e,n),it(()=>{const o=t.$$.on_mount.map(Ql).filter(At);t.$$.on_destroy?t.$$.on_destroy.push(...o):$e(o),t.$$.on_mount=[]}),i.forEach(it)}function Z(t,e){const n=t.$$;n.fragment!==null&&(Da(n.after_update),$e(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Ha(t,e){t.$$.dirty[0]===-1&&(Xt.push(t),ss(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function de(t,e,n,r,i,o,l=null,s=[-1]){const a=Fn;Pn(t);const u=t.$$={fragment:null,ctx:[],props:o,update:oe,not_equal:i,bound:Ui(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:Ui(),dirty:s,skip_bound:!1,root:e.target||a.$$.root};l&&l(u.root);let f=!1;if(u.ctx=n?n(t,e.props||{},(c,d,...h)=>{const m=h.length?h[0]:d;return u.ctx&&i(u.ctx[c],u.ctx[c]=m)&&(!u.skip_bound&&u.bound[c]&&u.bound[c](m),f&&Ha(t,c)),d}):[],u.update(),f=!0,$e(u.before_update),u.fragment=r?r(u.ctx):!1,e.target){if(e.hydrate){const c=Ea(e.target);u.fragment&&u.fragment.l(c),c.forEach(k)}else u.fragment&&u.fragment.c();e.intro&&T(t.$$.fragment),X(t,e.target,e.anchor),as()}Pn(a)}class pe{constructor(){It(this,"$$");It(this,"$$set")}$destroy(){Z(this,1),this.$destroy=oe}$on(e,n){if(!At(n))return oe;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!Sa(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ja="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(ja);const Ut=[];function Gt(t,e){return{subscribe:Ve(t,e).subscribe}}function Ve(t,e=oe){let n;const r=new Set;function i(s){if(ae(t,s)&&(t=s,n)){const a=!Ut.length;for(const u of r)u[1](),Ut.push(u,t);if(a){for(let u=0;u<Ut.length;u+=2)Ut[u][0](Ut[u+1]);Ut.length=0}}}function o(s){i(s(t))}function l(s,a=oe){const u=[s,a];return r.add(u),r.size===1&&(n=e(i,o)||oe),s(t),()=>{r.delete(u),r.size===0&&n&&(n(),n=null)}}return{set:i,update:o,subscribe:l}}function Rr(t,e,n){const r=!Array.isArray(t),i=r?[t]:t;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const o=e.length<2;return Gt(n,(l,s)=>{let a=!1;const u=[];let f=0,c=oe;const d=()=>{if(f)return;c();const m=e(r?u[0]:u,l,s);o?l(m):c=At(m)?m:oe},h=i.map((m,_)=>Si(m,y=>{u[_]=y,f&=~(1<<_),a&&d()},()=>{f|=1<<_}));return a=!0,d(),function(){$e(h),c(),a=!1}})}function Ji(t){return{subscribe:t.subscribe.bind(t)}}const Va={plots:[],lastChangeDay:0,townLog:"",townInfo:{name:"Your town",gold:1e3,gold_from_tourism:0,population_count:0,population_max:0,employees:0,happiness:150,health:150,knowledge_points:0},hasCityHall:!1,hasBank:!1,hasHospital:!1,modifiers:{happiness:1,health:1},economyAndLaws:{tax_rate:0,max_tax_rate:1,balance_sheet_history:[],last_month_profit:0,knowledge_gold_market_rates:[]},plotCounts:[],environment:{day:0,year:1,climate:-1},difficulty:0,endGoal:"land",endGameDetails:null,tick:0,overtime:!1,last_warning_happiness:0,last_warning_health:0},$i={0:"Easy",1:"Normal",2:"Hard"},Wa={0:Math.random()*(.5-.3)+.3,1:Math.random()*(.4-.2)+.2,2:Math.random()*(.3-.1)+.1},Ka={0:.4,1:.4,2:.3},me=[{id:"res_small",title:"🏠 Residential (small)",subtitle:"for living",type:"residential",description:"A few basic homes (+16 people)",revenue_per_week:0,requirements:{gold:150,plots:[],employees:0,climate:null,knowledge:0},effect_modifiers:{happiness:1,health:1},immediate_variable_changes:{happiness:0,health:0,population:16}},{id:"res_medium",title:"🏘️ Residential (medium)",subtitle:"for living",type:"residential",description:"Some apartments (+64 people)",revenue_per_week:0,requirements:{gold:500,plots:[],employees:0,climate:null,knowledge:0},effect_modifiers:{happiness:1,health:1},immediate_variable_changes:{happiness:0,health:0,population:64}},{id:"res_large",title:"🏢 Residential (big)",subtitle:"for living",type:"residential",description:"Many apartments (+256 people)",revenue_per_week:0,requirements:{gold:1500,plots:[],employees:0,climate:null,knowledge:0},effect_modifiers:{happiness:1,health:1},immediate_variable_changes:{happiness:0,health:0,population:256}},{id:"carrot_farm",title:"🥕 Carrot farm",subtitle:"for farming",type:"farm",description:"Farm for making carrots, makes money by selling them.",revenue_per_week:6,requirements:{gold:50,plots:[],employees:2,climate:null,knowledge:0},effect_modifiers:{happiness:1.05,health:1.1},immediate_variable_changes:{happiness:0,health:0,population:0},check_for_variety:!0},{id:"apple_orchard",title:"🍎 Apple orchard",subtitle:"for farming",type:"farm",description:"A bunch of apple trees. Sells apple products.",revenue_per_week:8,requirements:{gold:75,plots:[],employees:4,climate:null,knowledge:0},effect_modifiers:{happiness:1.05,health:1.1},immediate_variable_changes:{happiness:0,health:0,population:0},check_for_variety:!0},{id:"potato_farm",title:"🥔 Potato farm",subtitle:"for farming",type:"farm",description:"Easy to farm, sells to local grocery stores and restaurants.",revenue_per_week:9,requirements:{gold:75,plots:[],employees:2,climate:null,knowledge:0},effect_modifiers:{happiness:1.1,health:1.1},immediate_variable_changes:{happiness:5,health:5,population:0},check_for_variety:!0},{id:"wheat_farm",title:"🌾 Wheat farm",subtitle:"for farming",type:"farm",description:"Easy to farm crop",revenue_per_week:6,requirements:{gold:140,plots:[],employees:4,climate:null,knowledge:0},effect_modifiers:{happiness:1,health:1},immediate_variable_changes:{happiness:0,health:0,population:0},check_for_variety:!0},{id:"dairy_farm",title:"🐮 Dairy farm",subtitle:"for farming",type:"farm",description:"A few cows that produce milk, cheese, and butter.",revenue_per_week:16,requirements:{gold:300,plots:[],employees:4,climate:null,knowledge:0},effect_modifiers:{happiness:1.2,health:1},immediate_variable_changes:{happiness:5,health:5,population:0},check_for_variety:!0},{id:"coffee_bean_farm",title:"🫘 Coffee bean farm",subtitle:"for farming",type:"farm",description:"A few coffee plants. Makes money by selling coffee.",revenue_per_week:3,requirements:{gold:300,plots:[],employees:1,climate:null,knowledge:0},effect_modifiers:{happiness:1.2,health:1},immediate_variable_changes:{happiness:5,health:5,population:0},check_for_variety:!0},{id:"cafe",title:"☕️ Small café",subtitle:"for recreation & food",type:"food",description:"Great for eating & relaxing, not great for long-term health.",revenue_per_week:48,requirements:{gold:300,plots:["coffee_bean_farm","bakery","dairy_farm"],employees:16,climate:null,knowledge:0},effect_modifiers:{happiness:1.05,health:.95},immediate_variable_changes:{happiness:5,health:0,population:0},check_for_variety:!0},{id:"bakery",title:"🥖 Bakery",subtitle:"for baking",type:"farm",description:"Makes money by selling bread.",revenue_per_week:14,requirements:{gold:300,plots:["wheat_farm"],employees:3,climate:null,knowledge:0},effect_modifiers:{happiness:1.11,health:.92},immediate_variable_changes:{happiness:25,health:0,population:0},check_for_variety:!0},{id:"grocery",title:"🏪 Grocery store",subtitle:"for living",type:"food",description:"People get hungry. This is where they go to get food.",revenue_per_week:80,requirements:{gold:620,plots:["fishery"],employees:24,climate:null,knowledge:0},effect_modifiers:{happiness:1.05,health:1},immediate_variable_changes:{happiness:15,health:0,population:0}},{id:"fishery",title:"🐠 Fishery",subtitle:"for fishing",type:"food",description:"Carve out some land, pour some water, and fish for fun & food.",revenue_per_week:40,requirements:{gold:600,plots:[],employees:9,climate:null,knowledge:0},effect_modifiers:{happiness:1.05,health:1},immediate_variable_changes:{happiness:15,health:8,population:0},check_for_variety:!0},{id:"library",title:"📕 Library",subtitle:"for reading",type:"recreation",description:"Reading makes people very happy, but doesn't make money.",revenue_per_week:0,knowledge_points_per_month:1,requirements:{gold:500,plots:[],employees:6,climate:null,knowledge:0},effect_modifiers:{happiness:1.2,health:1},immediate_variable_changes:{happiness:10,health:0,population:0}},{id:"pub",title:"🍻 Pub",subtitle:"for hanging",type:"recreation",description:"Makes money, and somehow generates communal knowledge.",revenue_per_week:50,knowledge_points_per_month:1,requirements:{gold:500,plots:["church"],employees:6,climate:null,knowledge:0},effect_modifiers:{happiness:1.2,health:.7},immediate_variable_changes:{happiness:10,health:-25,population:0},check_for_variety:!0},{id:"church",title:"⛪️ Church",subtitle:"for worship & community",type:"recreation",description:"This can make some people happy, but doesn't make money.",revenue_per_week:0,requirements:{gold:500,plots:[],employees:0,climate:null,knowledge:0},effect_modifiers:{happiness:1.1,health:1},immediate_variable_changes:{happiness:5,health:0,population:0}},{id:"stables",title:"🐴 Stables",subtitle:"for friends",type:"recreation",description:"People love horses. This makes them happy, and can generate some money through lessons.",revenue_per_week:25,requirements:{gold:220,plots:[],employees:2,climate:null,knowledge:0},effect_modifiers:{happiness:1.05,health:1.02},immediate_variable_changes:{happiness:5,health:0,population:0}},{id:"blacksmith",title:"⚔️ Blacksmith",subtitle:"for making shiny things",type:"shop",description:"Enables exporting of weapons and armor, and makes money by selling them.",revenue_per_week:150,requirements:{gold:2300,plots:["large_school"],employees:15,climate:null,knowledge:0},effect_modifiers:{happiness:1,health:1},immediate_variable_changes:{happiness:0,health:0,population:0}},{id:"vineyard",title:"🍇 Vineyard",subtitle:"",type:"farm",description:"Grapes are grown and made into wine. Makes money by selling wine.",revenue_per_week:50,requirements:{gold:800,plots:[],employees:6,climate:null,knowledge:0},effect_modifiers:{happiness:1.5,health:1},immediate_variable_changes:{happiness:0,health:-10,population:0}},{id:"inn",title:"🛌 Village Inn",subtitle:"for a night out",type:"tourism",description:"Generates tourism gold that can be used if you have a bank.",revenue_per_week:0,enables_tourism:!0,tourism_revenue_per_week:1,requirements:{gold:1500,plots:[],employees:14,climate:null,knowledge:0},effect_modifiers:{happiness:.9,health:1},immediate_variable_changes:{happiness:0,health:0,population:0}},{id:"park_small",title:"🌲 Small park",subtitle:"for bringing your dog, or eating a sandwich",type:"recreation",description:"A few benches and a small grassy area.",revenue_per_week:0,requirements:{gold:80,plots:[],employees:1,climate:null,knowledge:0},effect_modifiers:{happiness:1.01,health:1.07},immediate_variable_changes:{happiness:5,health:0,population:0}},{id:"park_medium",title:"🛝 Medium park",subtitle:"for bringing your dog, or eating a sandwich",type:"recreation",description:"Benches, grass, and a couple of swing-sets.",revenue_per_week:0,requirements:{gold:450,plots:[],employees:2,climate:null,knowledge:0},effect_modifiers:{happiness:1.02,health:1.35},immediate_variable_changes:{happiness:5,health:10,population:0}},{id:"park_large",title:"🎪 Large park (2x2)",subtitle:"for bringing your dog, or eating a sandwich",type:"recreation",description:"Same as the medium park, with a nice fountain in the middle and occasional events run by the employees.",revenue_per_week:0,requirements:{gold:900,plots:[],employees:4,climate:null,size:2,knowledge:0},effect_modifiers:{happiness:1.1,health:1.7},immediate_variable_changes:{happiness:15,health:15,population:0}},{id:"community_center",title:"🫶 Community Center",subtitle:"for community",type:"recreation",description:"A place for meeting people, growing community, and hosting events. Required for City Hall.",revenue_per_week:0,requirements:{gold:15e3,plots:["park_medium","inn"],employees:12,climate:null,size:1,knowledge:0},effect_modifiers:{happiness:1.09,health:1},immediate_variable_changes:{happiness:50,health:15,population:0}},{id:"small_school",title:"📚 Small school",subtitle:"for learning",type:"education",description:"A place where children can learn and grow, and where adults can learn new skills. Produces knowledge.",revenue_per_week:0,knowledge_points_per_month:8,requirements:{gold:1500,plots:[],employees:20,climate:null,size:1,knowledge:0},effect_modifiers:{happiness:1.05,health:1.1},immediate_variable_changes:{happiness:15,health:3,population:0}},{id:"large_school",title:"🚌 Large school (2x2)",subtitle:"for learning",type:"education",description:"A larger school. Produces knowledge",revenue_per_week:0,knowledge_points_per_month:26,requirements:{gold:15e3,plots:[],employees:40,climate:null,size:2,knowledge:50},effect_modifiers:{happiness:1.2,health:1},immediate_variable_changes:{happiness:5,health:3,population:0}},{id:"university",title:"🏫 Large University (2x2)",subtitle:"for learning",type:"education",description:"The supreme learning institution. Produces knowledge.",revenue_per_week:0,knowledge_points_per_month:300,requirements:{gold:8e4,plots:[],employees:101,climate:null,size:2,knowledge:100},effect_modifiers:{happiness:1.25,health:.9},immediate_variable_changes:{happiness:25,health:25,population:0}},{id:"small_hospital",title:"😷 Small hospital",subtitle:"for healing",type:"medical",description:"A great place to get fixed up from minor injuries.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:1e4,plots:[],employees:18,climate:null,size:1,knowledge:100},effect_modifiers:{happiness:1.25,health:1.5},immediate_variable_changes:{happiness:5,health:75,population:0}},{id:"large_hospital",title:"🏥 Large hospital (2x2)",subtitle:"for healing",type:"medical",description:"Heals people and teaches medical students. Produces knowledge.",revenue_per_week:0,knowledge_points_per_month:80,requirements:{gold:45e3,plots:[],employees:90,climate:null,size:2,knowledge:250},effect_modifiers:{happiness:1.25,health:2.5},immediate_variable_changes:{happiness:5,health:150,population:0}},{id:"bank",title:"🏦 Bank (2x2)",subtitle:"for storing and accessing funds",type:"bank",description:`Rich get richer.
			<ul>
				<li>Enables converting tourism gold to gold</li>
				<li>Enables converting knowledge to gold (TODO)</li>
			</ul>`,revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:5e4,plots:["blacksmith","vineyard"],employees:64,climate:null,size:1,knowledge:300},effect_modifiers:{happiness:.8,health:1},immediate_variable_changes:{happiness:0,health:0,population:0}},{id:"city_hall",title:"🗳️ City Hall",subtitle:"for bureaucracy",type:"federal",description:"Enables the control of citizens through laws, taxes, and wealthy men.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:15e4,plots:["community_center","small_school"],employees:48,climate:null,size:1,knowledge:500},effect_modifiers:{happiness:.8,health:1},immediate_variable_changes:{happiness:0,health:0,population:0}},{id:"lab",title:"🧑‍🔬 Laboratory",subtitle:"",type:"science",description:"Design things that can help your city grow. Experiments can cause unexpected situations. Possibly can generate revenue or knowledge.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:1e5,plots:["community_center","university"],employees:24,climate:null,size:1,knowledge:500},effect_modifiers:{happiness:.95,health:.95},immediate_variable_changes:{happiness:0,health:0,population:0}}],yn={empty_unusable:"rgb(21 28 41);",empty_buildable:"rgb(126, 158, 255)",residential:"#e15f00",farm:"#519c1f",food:"#8a2be2",recreation:"#4070ff",shop:"#ff00ff",tourism:"#ff00ff",education:"rgba(42, 62, 250, 0.9)",medical:"rgba(42, 62, 250, 0.9)",bank:"#7b68ee",federal:"#7b68ee",science:"rgba(42, 62, 250, 0.9)"};function pr(t,e=!1){if(t<0)return t==-1?e?yn.empty_buildable:yn.empty:t==-2?yn.recreation:(console.log(t),yn.empty);const n=me[t];return yn[n.type]}const rt="plots_active_game_db";function Ua(){const t=["York","London","Paris","Madrid","Rome","Berlin","Vienna","Prague","Warsaw","Oslo","Lisbon","Dublin","Brussels","Amsterdam","Stockholm","Copenhagen","Edinburgh","Moscow","Beijing","Tokyo","Seoul","Bangkok","Delhi","Mumbai","Shanghai","Sydney","Melbourne","Cairo","Dubai","Istanbul","Athens","Budapest","Reykjavik","Helsinki","Tallinn","Riga","Vilnius","Sofia","Bucharest","Belgrade","Zagreb","Sarajevo","Ljubljana","Skopje","Tirana","Podgorica","Thessaloniki","Barcelona","Valencia","Seville","Granada","Malaga","Lyon","Marseille","Toulouse","Nice","Nantes","Strasbourg","Bordeaux","Lille","Venice","Milan","Florence","Naples","Turin","Bologna","Perugia","Genoa","Pisa","Verona","Palermo","Catania","Bari","Padua","Cagliari","Krakow","Gdansk","Poznan","Wroclaw","Lodz","Katowice","Bialystok","Gdynia","Sopot","Bydgoszcz","Lublin","Szczecin","Gorzow","Zakopane","Olsztyn","Torun","Rzeszow","Kielce","Radom","Siedlce","Los","Angeles","Chicago","Houston","Phoenix","San","Antonio","San","Diego","Dallas","San","Jose","Austin","Jacksonville","Fort","Worth","Columbus","Charlotte","Liverpool","Manchester","Glasgow","Birmingham","Leeds","Sheffield","Newcastle","upon","Tyne","Bristol","Nottingham","Leicester","Coventry","Belfast","Reading","Cardiff","Southampton","Aberdeen","Plymouth","Stoke","Trent","Wolverhampton","Swansea","Sunderland","Portsmouth","Yorkshire","Hull","Blackpool","Bradford","Derby","Middlesbrough","Peterborough","Stockton","on","Tees","Brighton","Poole","Bournemouth","Huddersfield","Luton","Oxford","Norwich","Oldham","Cambridge","Exeter","Walsall","Colchester","Watford","Rotherham","Newport","Gateshead","Dundee","Gloucester","Solihull","High","Wycombe","Maidstone","Slough","Basildon","Chelmsford","Salford","Bedford","Stevenage","Woking","Grimsby","Birkenhead","Halifax","Warrington","Gillingham","Wigan","Worcester","Wakefield","Lincoln","Chester","Rochdale","Dagenham","Widnes","St","Albans","Mansfield","Sutton","Coldfield","Crawley","Wokingham","Barnsley","St","Helens","Harrogate","Redditch","Scunthorpe","Nuneaton","Chesterfield","Hemel","Hempstead","Bury","Guildford","Ashford","Telford","Newcastle","under","Lyme","Aylesbury","Halesowen","Shrewsbury","Lowestoft","Loughborough","Cheltenham","Kidderminster","Basingstoke","Rugby","Stourbridge","Southport","Kettering","Royal","Leamington","Spa","Beeston","Farnborough","Wrexham","Banbury","Weymouth","Wallsend","Dartford","Grays","Tamworth","Ashford","Esher","Folkestone","Tonbridge","Taunton","Runcorn","Macclesfield","Keighley","Bridgend","Barnstaple","Letchworth","Garden","City","Worthing","Gosport","Eastleigh","Staines","upon","Thames","Lisburn","Livingston","Bognor","Regis","Scarborough","Cannock","Margate","Chippenham","Rhondda","Maidenhead","Wellingborough","Washington","Camberley","Bootle","Lancaster","Llanelli","Chatham","Cheshunt","Bishop","Auckland","Nelson","Belper","Pontefract","Barry","Braintree","Crosby","Bury","St","Edmunds","Bexhill","Margate","Aldershot","Rowley","Regis","Hoddesdon","Sittingbourne","Rugby","Newquay","Falmouth","Stretford","Camberley","Beverley","Windsor","Rochester","Wickford","Diss","Farnham","Andover","Camberwell","Bermondsey","Lewisham","Wembley","Hayes","Harrow","Ilford","Enfield","Twickenham","Richmond","Brentwood","Edgware","Ealing","Greenwich","Bromley","Hounslow","Romford","Hillingdon","Uxbridge","Wandsworth","Sutton","Kingston","upon","Thames","Bexley","Havering","Barking"],e=["ia","ville","ton","land","field","burgh","ford","wood","port","bay","beach","peak","valley","ridge","hill","dale","island","cape","spring","grove","polis","side","view","shore","haven","place","gardens","plaza","square"],n=["New","Old","North","South","East","West","Upper","Lower","Little","Great","Saint","Fort","Mount","Lake","River","The Village of","The City of","The Town of","The Borough of","The County of","The State of","The Kingdom of","The Empire of","The Republic of","The Commonwealth of","The Union of","The Federation of","Rainy","Sunny","Windy","Frosty","Snowy"];function r(a){return a[Math.floor(Math.random()*a.length)]}let i=r(n),o=r(t),l=r(e),s="";return Math.random()>.5?s=i+" "+o+l:s=o+l,s}let Te=Ve(JSON.parse(localStorage.getItem(rt)||"null"));function Ya(t,e,n,r){let i={...Va};i.economyAndLaws.max_tax_rate=Wa[t],i.endGoal=e;let o=[];n=n.replace(/[^a-zA-Z0-9 ]/g,"").trim(),i.townInfo.name=n!=""?n:Ua(),i.difficulty=parseInt(t),r&&(i.townInfo.gold=1e8,i.townInfo.happiness=1e7,i.townInfo.health=1e6,i.townInfo.knowledge_points=1e5,i.modifiers.happiness=1e4,i.modifiers.health=1e4);const l=t=="0"?8:t=="1"?12:t=="2"?16:1;for(let s=0;s<l;s++){o.push([]);for(let a=0;a<l;a++)o[s][a]={id:Math.random().toString(36).substring(2,9),active:!1,x:s,y:a,type:-1}}i.plots=o,localStorage.reset=!1,localStorage.setItem(rt,JSON.stringify(i)),Te.set(i),location.reload()}function Mi(t,e){for(let n=0;n<e.plots.length;n++)for(let r=0;r<e.plots[n].length;r++)if(!(e.plots[n][r].active==!1||e.plots[n][r]==null||e.plots[n][r].type==null||e.plots[n][r].type<1)&&me[e.plots[n][r].type].id===t)return!0;return!1}function Pi(t=null){localStorage.removeItem(rt),Te.set(null),t&&(localStorage.setItem(rt,JSON.stringify(t)),Te.set(t)),location.reload()}function Ja(){us.update(t=>!t),localStorage.setItem("showOnlyAffordable",localStorage.getItem("showOnlyAffordable")==="true"?"false":"true")}let Be=Ve({visible:!1,x:0,y:0}),On=Ve({visible:!1}),ln=Ve({}),kt=Ve(!1),Xi=Ve(!1),hr=Ve(!1),mr=Ve(!1),us=localStorage.getItem("showOnlyAffordable")==="true"?Ve(!0):Ve(!1),ti=Ve(250),tr=Ve(500);function Xa(t){return t[t.length-1]}function ni(t){return Object.keys(t).reduce((e,n)=>t[n]===void 0?e:e+`${n}:${t[n]};`,"")}ni({position:"absolute",opacity:0,"pointer-events":"none",margin:0,transform:"translateX(-100%)"});function Za(t){if(t!==null)return t}function Zi(t){function e(n){return n(t),()=>{}}return{subscribe:e}}const Kn=t=>new Proxy(t,{get(e,n,r){return Reflect.get(e,n,r)},ownKeys(e){return Reflect.ownKeys(e).filter(n=>n!=="action")}}),Qi=t=>typeof t=="function";ct("empty");function ct(t,e){const{stores:n,action:r,returned:i}=e??{},o=(()=>{if(n&&i)return Rr(n,s=>{const a=i(s);if(Qi(a)){const u=(...f)=>Kn({...a(...f),[`data-melt-${t}`]:"",action:r??Ge});return u.action=r??Ge,u}return Kn({...a,[`data-melt-${t}`]:"",action:r??Ge})});{const s=i,a=s==null?void 0:s();if(Qi(a)){const u=(...f)=>Kn({...a(...f),[`data-melt-${t}`]:"",action:r??Ge});return u.action=r??Ge,Zi(u)}return Zi(Kn({...a,[`data-melt-${t}`]:"",action:r??Ge}))}})(),l=r??(()=>{});return l.subscribe=o.subscribe,l}function Qa(t){const e=o=>o?`${t}-${o}`:t,n=o=>`data-melt-${t}${o?`-${o}`:""}`,r=o=>`[data-melt-${t}${o?`-${o}`:""}]`;return{name:e,attribute:n,selector:r,getEl:o=>document.querySelector(r(o))}}const za=typeof document<"u",fs=t=>typeof t=="function";function Oi(t){return t instanceof Element}function Pt(t){return t instanceof HTMLElement}function eu(t){return t!==null&&typeof t=="object"}function tu(t){return eu(t)&&"subscribe"in t}function tn(...t){return(...e)=>{for(const n of t)typeof n=="function"&&n(...e)}}function Ge(){}function Mt(t,e,n,r){const i=Array.isArray(e)?e:[e];return i.forEach(o=>t.addEventListener(o,n,r)),()=>{i.forEach(o=>t.removeEventListener(o,n,r))}}function Nn(t,e,n,r){const i=Array.isArray(e)?e:[e];if(typeof n=="function"){const o=ru(l=>n(l));return i.forEach(l=>t.addEventListener(l,o,r)),()=>{i.forEach(l=>t.removeEventListener(l,o,r))}}return()=>void 0}function nu(t){const e=t.currentTarget;if(!Pt(e))return null;const n=new CustomEvent(`m-${t.type}`,{detail:{originalEvent:t},cancelable:!0});return e.dispatchEvent(n),n}function ru(t){return e=>{const n=nu(e);if(!(n!=null&&n.defaultPrevented))return t(e)}}function iu(t,...e){const n={};for(const r of Object.keys(t))e.includes(r)||(n[r]=t[r]);return n}function Hn(t){return{...t,get:()=>zl(t)}}Hn.writable=function(t){const e=Ve(t);let n=t;return{subscribe:e.subscribe,set(r){e.set(r),n=r},update(r){const i=r(n);e.set(i),n=i},get(){return n}}};Hn.derived=function(t,e){const n=new Map,r=()=>{const o=Array.isArray(t)?t.map(l=>l.get()):t.get();return e(o)};return{get:r,subscribe:o=>{const l=[];return(Array.isArray(t)?t:[t]).forEach(a=>{l.push(a.subscribe(()=>{o(r())}))}),o(r()),n.set(o,l),()=>{const a=n.get(o);if(a)for(const u of a)u();n.delete(o)}}}};const ou=(t,e)=>{const n=Hn(t),r=(o,l)=>{n.update(s=>{const a=o(s);let u=a;return e&&(u=e({curr:s,next:a})),l==null||l(u),u})};return{...n,update:r,set:o=>{r(()=>o)}}};function cs(t){return new Promise(e=>setTimeout(e,t))}let lu="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",su=(t=21)=>{let e="",n=t;for(;n--;)e+=lu[Math.random()*64|0];return e};function au(){return su(10)}function uu(t){return t.reduce((e,n)=>(e[n]=au(),e),{})}const In={ALT:"Alt",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",CAPS_LOCK:"CapsLock",CONTROL:"Control",DELETE:"Delete",END:"End",ENTER:"Enter",ESCAPE:"Escape",F1:"F1",F10:"F10",F11:"F11",F12:"F12",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",HOME:"Home",META:"Meta",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp",SHIFT:"Shift",SPACE:" ",TAB:"Tab",CTRL:"Control",ASTERISK:"*",A:"a",P:"p"},ds=()=>typeof window<"u";function fu(){const t=navigator.userAgentData;return(t==null?void 0:t.platform)??navigator.platform}const ps=t=>ds()&&t.test(fu().toLowerCase()),cu=()=>ds()&&!!navigator.maxTouchPoints,du=()=>ps(/^mac/)&&!cu(),pu=()=>ps(/mac|iphone|ipad|ipod/i),hu=()=>pu()&&!du(),Gr="data-melt-scroll-lock";function zi(t,e){if(!t)return;const n=t.style.cssText;return Object.assign(t.style,e),()=>{t.style.cssText=n}}function mu(t,e,n){if(!t)return;const r=t.style.getPropertyValue(e);return t.style.setProperty(e,n),()=>{r?t.style.setProperty(e,r):t.style.removeProperty(e)}}function _u(t){const e=t.getBoundingClientRect().left;return Math.round(e)+t.scrollLeft?"paddingLeft":"paddingRight"}function gu(t){const e=t??document,n=e.defaultView??window,{documentElement:r,body:i}=e;if(i.hasAttribute(Gr))return Ge;i.setAttribute(Gr,"");const l=n.innerWidth-r.clientWidth,s=()=>mu(r,"--scrollbar-width",`${l}px`),a=_u(r),u=n.getComputedStyle(i)[a],f=()=>zi(i,{overflow:"hidden",[a]:`calc(${u} + ${l}px)`}),c=()=>{const{scrollX:h,scrollY:m,visualViewport:_}=n,y=(_==null?void 0:_.offsetLeft)??0,S=(_==null?void 0:_.offsetTop)??0,A=zi(i,{position:"fixed",overflow:"hidden",top:`${-(m-Math.floor(S))}px`,left:`${-(h-Math.floor(y))}px`,right:"0",[a]:`calc(${u} + ${l}px)`});return()=>{A==null||A(),n.scrollTo(h,m)}},d=[s(),hu()?c():f()];return()=>{d.forEach(h=>h==null?void 0:h()),i.removeAttribute(Gr)}}const bu=t=>{try{La(t)}catch{return t}};function Ft(t,e){let n;const r=Rr(t,o=>{n==null||n(),n=e(o)}).subscribe(Ge),i=()=>{r(),n==null||n()};return bu(i),i}function ri(t){const e={};return Object.keys(t).forEach(n=>{const r=n,i=t[r];e[r]=Hn(Ve(i))}),e}function vu(t){let e=t.parentElement;for(;Pt(e)&&!e.hasAttribute("data-portal");)e=e.parentElement;return e||"body"}function yu(t,e){return e!==void 0?e:vu(t)==="body"?document.body:null}async function eo(t){const{prop:e,defaultEl:n}=t;if(await Promise.all([cs(1),Ii]),e===void 0){n==null||n.focus();return}const r=fs(e)?e(n):e;if(typeof r=="string"){const i=document.querySelector(r);if(!Pt(i))return;i.focus()}else Pt(r)&&r.focus()}Gt(void 0,t=>{function e(r){t(r),t(void 0)}return Mt(document,"pointerup",e,{passive:!1,capture:!0})});const wu=Gt(void 0,t=>{function e(r){r&&r.key===In.ESCAPE&&t(r),t(void 0)}return Mt(document,"keydown",e,{passive:!1})}),to=(t,e={})=>{let n=Ge;function r(i={}){n();const o={enabled:!0,...i},l=tu(o.enabled)?o.enabled:Gt(o.enabled);n=tn(wu.subscribe(s=>{var u;if(!s||!zl(l))return;const a=s.target;if(!(!Pt(a)||a.closest("[data-escapee]")!==t)){if(s.preventDefault(),o.ignore){if(fs(o.ignore)){if(o.ignore(s))return}else if(Array.isArray(o.ignore)&&o.ignore.length>0&&o.ignore.some(f=>f&&a===f))return}(u=o.handler)==null||u.call(o,s)}}),Ft(l,s=>{s?t.dataset.escapee="":delete t.dataset.escapee}))}return r(e),{update:r,destroy(){t.removeAttribute("data-escapee"),n()}}};/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var hs=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],_r=hs.join(","),ms=typeof Element>"u",jt=ms?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,gr=!ms&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},br=function t(e,n){var r;n===void 0&&(n=!0);var i=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"inert"),o=i===""||i==="true",l=o||n&&e&&t(e.parentNode);return l},ku=function(e){var n,r=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"contenteditable");return r===""||r==="true"},_s=function(e,n,r){if(br(e))return[];var i=Array.prototype.slice.apply(e.querySelectorAll(_r));return n&&jt.call(e,_r)&&i.unshift(e),i=i.filter(r),i},gs=function t(e,n,r){for(var i=[],o=Array.from(e);o.length;){var l=o.shift();if(!br(l,!1))if(l.tagName==="SLOT"){var s=l.assignedElements(),a=s.length?s:l.children,u=t(a,!0,r);r.flatten?i.push.apply(i,u):i.push({scopeParent:l,candidates:u})}else{var f=jt.call(l,_r);f&&r.filter(l)&&(n||!e.includes(l))&&i.push(l);var c=l.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(l),d=!br(c,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(l));if(c&&d){var h=t(c===!0?l.children:c.children,!0,r);r.flatten?i.push.apply(i,h):i.push({scopeParent:l,candidates:h})}else o.unshift.apply(o,l.children)}}return i},bs=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},xt=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||ku(e))&&!bs(e)?0:e.tabIndex},Su=function(e,n){var r=xt(e);return r<0&&n&&!bs(e)?0:r},Au=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},vs=function(e){return e.tagName==="INPUT"},Cu=function(e){return vs(e)&&e.type==="hidden"},Nu=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return n},Iu=function(e,n){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===n)return e[r]},Tu=function(e){if(!e.name)return!0;var n=e.form||gr(e),r=function(s){return n.querySelectorAll('input[type="radio"][name="'+s+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=r(window.CSS.escape(e.name));else try{i=r(e.name)}catch(l){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",l.message),!1}var o=Iu(i,e.form);return!o||o===e},Eu=function(e){return vs(e)&&e.type==="radio"},$u=function(e){return Eu(e)&&!Tu(e)},Mu=function(e){var n,r=e&&gr(e),i=(n=r)===null||n===void 0?void 0:n.host,o=!1;if(r&&r!==e){var l,s,a;for(o=!!((l=i)!==null&&l!==void 0&&(s=l.ownerDocument)!==null&&s!==void 0&&s.contains(i)||e!=null&&(a=e.ownerDocument)!==null&&a!==void 0&&a.contains(e));!o&&i;){var u,f,c;r=gr(i),i=(u=r)===null||u===void 0?void 0:u.host,o=!!((f=i)!==null&&f!==void 0&&(c=f.ownerDocument)!==null&&c!==void 0&&c.contains(i))}}return o},no=function(e){var n=e.getBoundingClientRect(),r=n.width,i=n.height;return r===0&&i===0},Pu=function(e,n){var r=n.displayCheck,i=n.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var o=jt.call(e,"details>summary:first-of-type"),l=o?e.parentElement:e;if(jt.call(l,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof i=="function"){for(var s=e;e;){var a=e.parentElement,u=gr(e);if(a&&!a.shadowRoot&&i(a)===!0)return no(e);e.assignedSlot?e=e.assignedSlot:!a&&u!==e.ownerDocument?e=u.host:e=a}e=s}if(Mu(e))return!e.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return no(e);return!1},Ou=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var i=n.children.item(r);if(i.tagName==="LEGEND")return jt.call(n,"fieldset[disabled] *")?!0:!i.contains(e)}return!0}n=n.parentElement}return!1},vr=function(e,n){return!(n.disabled||br(n)||Cu(n)||Pu(n,e)||Nu(n)||Ou(n))},ii=function(e,n){return!($u(n)||xt(n)<0||!vr(e,n))},Lu=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},Fu=function t(e){var n=[],r=[];return e.forEach(function(i,o){var l=!!i.scopeParent,s=l?i.scopeParent:i,a=Su(s,l),u=l?t(i.candidates):s;a===0?l?n.push.apply(n,u):n.push(s):r.push({documentOrder:o,tabIndex:a,item:i,isScope:l,content:u})}),r.sort(Au).reduce(function(i,o){return o.isScope?i.push.apply(i,o.content):i.push(o.content),i},[]).concat(n)},Ru=function(e,n){n=n||{};var r;return n.getShadowRoot?r=gs([e],n.includeContainer,{filter:ii.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:Lu}):r=_s(e,n.includeContainer,ii.bind(null,n)),Fu(r)},xu=function(e,n){n=n||{};var r;return n.getShadowRoot?r=gs([e],n.includeContainer,{filter:vr.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):r=_s(e,n.includeContainer,vr.bind(null,n)),r},Yt=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return jt.call(e,_r)===!1?!1:ii(n,e)},qu=hs.concat("iframe").join(","),Hr=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return jt.call(e,qu)===!1?!1:vr(n,e)};/*!
* focus-trap 7.5.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function ro(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function io(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ro(Object(n),!0).forEach(function(r){Du(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ro(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Du(t,e,n){return e=Gu(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bu(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gu(t){var e=Bu(t,"string");return typeof e=="symbol"?e:String(e)}var oo={activateTrap:function(e,n){if(e.length>0){var r=e[e.length-1];r!==n&&r.pause()}var i=e.indexOf(n);i===-1||e.splice(i,1),e.push(n)},deactivateTrap:function(e,n){var r=e.indexOf(n);r!==-1&&e.splice(r,1),e.length>0&&e[e.length-1].unpause()}},Hu=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},ju=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},Ln=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},Vu=function(e){return Ln(e)&&!e.shiftKey},Wu=function(e){return Ln(e)&&e.shiftKey},lo=function(e){return setTimeout(e,0)},so=function(e,n){var r=-1;return e.every(function(i,o){return n(i)?(r=o,!1):!0}),r},wn=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return typeof e=="function"?e.apply(void 0,r):e},Un=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},Ku=[],Uu=function(e,n){var r=(n==null?void 0:n.document)||document,i=(n==null?void 0:n.trapStack)||Ku,o=io({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:Vu,isKeyBackward:Wu},n),l={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},s,a=function(g,b,v){return g&&g[b]!==void 0?g[b]:o[v||b]},u=function(g,b){var v=typeof(b==null?void 0:b.composedPath)=="function"?b.composedPath():void 0;return l.containerGroups.findIndex(function(E){var N=E.container,M=E.tabbableNodes;return N.contains(g)||(v==null?void 0:v.includes(N))||M.find(function(q){return q===g})})},f=function(g){var b=o[g];if(typeof b=="function"){for(var v=arguments.length,E=new Array(v>1?v-1:0),N=1;N<v;N++)E[N-1]=arguments[N];b=b.apply(void 0,E)}if(b===!0&&(b=void 0),!b){if(b===void 0||b===!1)return b;throw new Error("`".concat(g,"` was specified but was not a node, or did not return a node"))}var M=b;if(typeof b=="string"&&(M=r.querySelector(b),!M))throw new Error("`".concat(g,"` as selector refers to no known node"));return M},c=function(){var g=f("initialFocus");if(g===!1)return!1;if(g===void 0||!Hr(g,o.tabbableOptions))if(u(r.activeElement)>=0)g=r.activeElement;else{var b=l.tabbableGroups[0],v=b&&b.firstTabbableNode;g=v||f("fallbackFocus")}if(!g)throw new Error("Your focus-trap needs to have at least one focusable element");return g},d=function(){if(l.containerGroups=l.containers.map(function(g){var b=Ru(g,o.tabbableOptions),v=xu(g,o.tabbableOptions),E=b.length>0?b[0]:void 0,N=b.length>0?b[b.length-1]:void 0,M=v.find(function(ee){return Yt(ee)}),q=v.slice().reverse().find(function(ee){return Yt(ee)}),U=!!b.find(function(ee){return xt(ee)>0});return{container:g,tabbableNodes:b,focusableNodes:v,posTabIndexesFound:U,firstTabbableNode:E,lastTabbableNode:N,firstDomTabbableNode:M,lastDomTabbableNode:q,nextTabbableNode:function(B){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,ue=b.indexOf(B);return ue<0?te?v.slice(v.indexOf(B)+1).find(function(K){return Yt(K)}):v.slice(0,v.indexOf(B)).reverse().find(function(K){return Yt(K)}):b[ue+(te?1:-1)]}}}),l.tabbableGroups=l.containerGroups.filter(function(g){return g.tabbableNodes.length>0}),l.tabbableGroups.length<=0&&!f("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(l.containerGroups.find(function(g){return g.posTabIndexesFound})&&l.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},h=function I(g){var b=g.activeElement;if(b)return b.shadowRoot&&b.shadowRoot.activeElement!==null?I(b.shadowRoot):b},m=function I(g){if(g!==!1&&g!==h(document)){if(!g||!g.focus){I(c());return}g.focus({preventScroll:!!o.preventScroll}),l.mostRecentlyFocusedNode=g,Hu(g)&&g.select()}},_=function(g){var b=f("setReturnFocus",g);return b||(b===!1?!1:g)},y=function(g){var b=g.target,v=g.event,E=g.isBackward,N=E===void 0?!1:E;b=b||Un(v),d();var M=null;if(l.tabbableGroups.length>0){var q=u(b,v),U=q>=0?l.containerGroups[q]:void 0;if(q<0)N?M=l.tabbableGroups[l.tabbableGroups.length-1].lastTabbableNode:M=l.tabbableGroups[0].firstTabbableNode;else if(N){var ee=so(l.tabbableGroups,function(le){var _e=le.firstTabbableNode;return b===_e});if(ee<0&&(U.container===b||Hr(b,o.tabbableOptions)&&!Yt(b,o.tabbableOptions)&&!U.nextTabbableNode(b,!1))&&(ee=q),ee>=0){var B=ee===0?l.tabbableGroups.length-1:ee-1,te=l.tabbableGroups[B];M=xt(b)>=0?te.lastTabbableNode:te.lastDomTabbableNode}else Ln(v)||(M=U.nextTabbableNode(b,!1))}else{var ue=so(l.tabbableGroups,function(le){var _e=le.lastTabbableNode;return b===_e});if(ue<0&&(U.container===b||Hr(b,o.tabbableOptions)&&!Yt(b,o.tabbableOptions)&&!U.nextTabbableNode(b))&&(ue=q),ue>=0){var K=ue===l.tabbableGroups.length-1?0:ue+1,Y=l.tabbableGroups[K];M=xt(b)>=0?Y.firstTabbableNode:Y.firstDomTabbableNode}else Ln(v)||(M=U.nextTabbableNode(b))}}else M=f("fallbackFocus");return M},S=function(g){var b=Un(g);if(!(u(b,g)>=0)){if(wn(o.clickOutsideDeactivates,g)){s.deactivate({returnFocus:o.returnFocusOnDeactivate});return}wn(o.allowOutsideClick,g)||g.preventDefault()}},A=function(g){var b=Un(g),v=u(b,g)>=0;if(v||b instanceof Document)v&&(l.mostRecentlyFocusedNode=b);else{g.stopImmediatePropagation();var E,N=!0;if(l.mostRecentlyFocusedNode)if(xt(l.mostRecentlyFocusedNode)>0){var M=u(l.mostRecentlyFocusedNode),q=l.containerGroups[M].tabbableNodes;if(q.length>0){var U=q.findIndex(function(ee){return ee===l.mostRecentlyFocusedNode});U>=0&&(o.isKeyForward(l.recentNavEvent)?U+1<q.length&&(E=q[U+1],N=!1):U-1>=0&&(E=q[U-1],N=!1))}}else l.containerGroups.some(function(ee){return ee.tabbableNodes.some(function(B){return xt(B)>0})})||(N=!1);else N=!1;N&&(E=y({target:l.mostRecentlyFocusedNode,isBackward:o.isKeyBackward(l.recentNavEvent)})),m(E||l.mostRecentlyFocusedNode||c())}l.recentNavEvent=void 0},$=function(g){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;l.recentNavEvent=g;var v=y({event:g,isBackward:b});v&&(Ln(g)&&g.preventDefault(),m(v))},W=function(g){if(ju(g)&&wn(o.escapeDeactivates,g)!==!1){g.preventDefault(),s.deactivate();return}(o.isKeyForward(g)||o.isKeyBackward(g))&&$(g,o.isKeyBackward(g))},L=function(g){var b=Un(g);u(b,g)>=0||wn(o.clickOutsideDeactivates,g)||wn(o.allowOutsideClick,g)||(g.preventDefault(),g.stopImmediatePropagation())},R=function(){if(l.active)return oo.activateTrap(i,s),l.delayInitialFocusTimer=o.delayInitialFocus?lo(function(){m(c())}):m(c()),r.addEventListener("focusin",A,!0),r.addEventListener("mousedown",S,{capture:!0,passive:!1}),r.addEventListener("touchstart",S,{capture:!0,passive:!1}),r.addEventListener("click",L,{capture:!0,passive:!1}),r.addEventListener("keydown",W,{capture:!0,passive:!1}),s},x=function(){if(l.active)return r.removeEventListener("focusin",A,!0),r.removeEventListener("mousedown",S,!0),r.removeEventListener("touchstart",S,!0),r.removeEventListener("click",L,!0),r.removeEventListener("keydown",W,!0),s},D=function(g){var b=g.some(function(v){var E=Array.from(v.removedNodes);return E.some(function(N){return N===l.mostRecentlyFocusedNode})});b&&m(c())},p=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(D):void 0,G=function(){p&&(p.disconnect(),l.active&&!l.paused&&l.containers.map(function(g){p.observe(g,{subtree:!0,childList:!0})}))};return s={get active(){return l.active},get paused(){return l.paused},activate:function(g){if(l.active)return this;var b=a(g,"onActivate"),v=a(g,"onPostActivate"),E=a(g,"checkCanFocusTrap");E||d(),l.active=!0,l.paused=!1,l.nodeFocusedBeforeActivation=r.activeElement,b==null||b();var N=function(){E&&d(),R(),G(),v==null||v()};return E?(E(l.containers.concat()).then(N,N),this):(N(),this)},deactivate:function(g){if(!l.active)return this;var b=io({onDeactivate:o.onDeactivate,onPostDeactivate:o.onPostDeactivate,checkCanReturnFocus:o.checkCanReturnFocus},g);clearTimeout(l.delayInitialFocusTimer),l.delayInitialFocusTimer=void 0,x(),l.active=!1,l.paused=!1,G(),oo.deactivateTrap(i,s);var v=a(b,"onDeactivate"),E=a(b,"onPostDeactivate"),N=a(b,"checkCanReturnFocus"),M=a(b,"returnFocus","returnFocusOnDeactivate");v==null||v();var q=function(){lo(function(){M&&m(_(l.nodeFocusedBeforeActivation)),E==null||E()})};return M&&N?(N(_(l.nodeFocusedBeforeActivation)).then(q,q),this):(q(),this)},pause:function(g){if(l.paused||!l.active)return this;var b=a(g,"onPause"),v=a(g,"onPostPause");return l.paused=!0,b==null||b(),x(),G(),v==null||v(),this},unpause:function(g){if(!l.paused||!l.active)return this;var b=a(g,"onUnpause"),v=a(g,"onPostUnpause");return l.paused=!1,b==null||b(),d(),R(),G(),v==null||v(),this},updateContainerElements:function(g){var b=[].concat(g).filter(Boolean);return l.containers=b.map(function(v){return typeof v=="string"?r.querySelector(v):v}),l.active&&d(),G(),this}},s.updateContainerElements(e),s};function Yu(t={}){let e;const{immediate:n,...r}=t,i=Ve(!1),o=Ve(!1),l=c=>e==null?void 0:e.activate(c),s=c=>{e==null||e.deactivate(c)},a=()=>{e&&(e.pause(),o.set(!0))},u=()=>{e&&(e.unpause(),o.set(!1))};return{useFocusTrap:c=>(e=Uu(c,{...r,onActivate(){var d;i.set(!0),(d=t.onActivate)==null||d.call(t)},onDeactivate(){var d;i.set(!1),(d=t.onDeactivate)==null||d.call(t)}}),n&&l(),{destroy(){s(),e=void 0}}),hasFocus:Ji(i),isPaused:Ji(o),activate:l,deactivate:s,pause:a,unpause:u}}const Yn=[];function Ju(t,e){let n=Ge;function r(){const o=Yn.indexOf(t);o>=0&&Yn.splice(o,1)}function i(o){n();const{open:l,onClose:s,shouldCloseOnInteractOutside:a,closeOnInteractOutside:u}=o;cs(100).then(()=>{l?Yn.push(t):r()});function f(){return Xa(Yn)===t}function c(){f()&&s&&(s(),r())}function d(m){const _=m.target;Oi(_)&&_&&f()&&(m.preventDefault(),m.stopPropagation(),m.stopImmediatePropagation())}function h(m){a!=null&&a(m)&&f()&&(m.preventDefault(),m.stopPropagation(),m.stopImmediatePropagation(),c())}n=Zu(t,{onInteractOutsideStart:d,onInteractOutside:u?h:void 0,enabled:l}).destroy}return i(e),{update:i,destroy(){r(),n()}}}const Xu=(t,e="body")=>{let n;if(!Pt(e)&&typeof e!="string")return{destroy:Ge};async function r(o){if(e=o,typeof e=="string"){if(n=document.querySelector(e),n===null&&(await Ii(),n=document.querySelector(e)),n===null)throw new Error(`No element found matching css selector: "${e}"`)}else if(e instanceof HTMLElement)n=e;else throw new TypeError(`Unknown portal target type: ${e===null?"null":typeof e}. Allowed types: string (CSS selector) or HTMLElement.`);t.dataset.portal="",n.appendChild(t),t.hidden=!1}function i(){t.remove()}return r(e),{update:r,destroy:i}};function Zu(t,e){let n=Ge,r=!1,i=!1,o=!1;function l(u){n();const{onInteractOutside:f,onInteractOutsideStart:c,enabled:d}=u;if(!d)return;function h(y){f&&ao(y,t)&&(c==null||c(y));const S=y.target;Oi(S)&&ys(t,S)&&(i=!0),r=!0}function m(y){f==null||f(y)}const _=Qu(t);if(typeof PointerEvent<"u"){const y=S=>{s(S)&&m(S),a()};n=tn(Mt(_,"pointerdown",h,!0),Mt(_,"pointerup",y,!0))}else{const y=A=>{o?o=!1:s(A)&&m(A),a()},S=A=>{o=!0,s(A)&&m(A),a()};n=tn(Mt(_,"mousedown",h,!0),Mt(_,"mouseup",y,!0),Mt(_,"touchstart",h,!0),Mt(_,"touchend",S,!0))}}function s(u){return!!(r&&!i&&ao(u,t))}function a(){r=!1,i=!1}return l(e),{update:l,destroy:n}}function ao(t,e){if("button"in t&&t.button>0)return!1;const n=t.target;if(!Oi(n))return!1;const r=n.ownerDocument;return!r||!r.documentElement.contains(n)?!1:e&&!ys(e,n)}function ys(t,e){return t===e||t.contains(e)}function Qu(t){return(t==null?void 0:t.ownerDocument)??document}Gt(!1),Gt(!1),Gt(void 0);function zu(){return{elements:{root:ct("label",{action:e=>({destroy:Nn(e,"mousedown",r=>{!r.defaultPrevented&&r.detail>1&&r.preventDefault()})})})}}}const{name:Lt}=Qa("dialog"),ef={preventScroll:!0,closeOnEscape:!0,closeOnOutsideClick:!0,role:"dialog",defaultOpen:!1,portal:void 0,forceVisible:!1,openFocus:void 0,closeFocus:void 0,onOutsideClick:void 0},tf=["content","title","description"];function nf(t){const e={...ef,...t},n=ri(iu(e,"ids")),{preventScroll:r,closeOnEscape:i,closeOnOutsideClick:o,role:l,portal:s,forceVisible:a,openFocus:u,closeFocus:f,onOutsideClick:c}=n,d=Hn.writable(null),h=ri({...uu(tf),...e.ids}),m=e.open??Ve(e.defaultOpen),_=ou(m,e==null?void 0:e.onOpenChange),y=Rr([_,a],([I,g])=>I||g);let S=Ge;function A(I){const g=I.currentTarget,b=I.currentTarget;!Pt(g)||!Pt(b)||(_.set(!0),d.set(b))}function $(){_.set(!1),eo({prop:f.get(),defaultEl:d.get()})}const W=ct(Lt("trigger"),{stores:[_],returned:([I])=>({"aria-haspopup":"dialog","aria-expanded":I,type:"button"}),action:I=>({destroy:tn(Nn(I,"click",b=>{A(b)}),Nn(I,"keydown",b=>{b.key!==In.ENTER&&b.key!==In.SPACE||(b.preventDefault(),A(b))}))})}),L=ct(Lt("overlay"),{stores:[y,_],returned:([I,g])=>({hidden:I?void 0:!0,tabindex:-1,style:ni({display:I?void 0:"none"}),"aria-hidden":!0,"data-state":g?"open":"closed"}),action:I=>{let g=Ge;if(i.get()){const b=to(I,{handler:()=>{$()}});b&&b.destroy&&(g=b.destroy)}return{destroy(){g()}}}}),R=ct(Lt("content"),{stores:[y,h.content,h.description,h.title,_],returned:([I,g,b,v,E])=>({id:g,role:l.get(),"aria-describedby":b,"aria-labelledby":v,"aria-modal":I?"true":void 0,"data-state":E?"open":"closed",tabindex:-1,hidden:I?void 0:!0,style:ni({display:I?void 0:"none"})}),action:I=>{let g=Ge,b=Ge;const v=tn(Ft([_],([E])=>{if(!E)return;const N=Yu({immediate:!1,escapeDeactivates:!0,clickOutsideDeactivates:!0,returnFocusOnDeactivate:!1,fallbackFocus:I});g=N.activate,b=N.deactivate;const M=N.useFocusTrap(I);return M&&M.destroy?M.destroy:N.deactivate}),Ft([o,_],([E,N])=>Ju(I,{open:N,closeOnInteractOutside:E,onClose(){$()},shouldCloseOnInteractOutside(M){var q;return(q=c.get())==null||q(M),!M.defaultPrevented}}).destroy),Ft([i],([E])=>{if(!E)return Ge;const N=to(I,{handler:()=>{$()}});return N&&N.destroy?N.destroy:Ge}),Ft([y],([E])=>{Ii().then(()=>{E?g():b()})}));return{destroy:()=>{S(),v()}}}}),x=ct(Lt("portalled"),{stores:s,returned:I=>({"data-portal":Za(I)}),action:I=>{const g=Ft([s],([b])=>{if(b===null)return Ge;const v=yu(I,b);if(v===null)return Ge;const E=Xu(I,v);return E&&E.destroy?E.destroy:Ge});return{destroy(){g()}}}}),D=ct(Lt("title"),{stores:[h.title],returned:([I])=>({id:I})}),p=ct(Lt("description"),{stores:[h.description],returned:([I])=>({id:I})}),G=ct(Lt("close"),{returned:()=>({type:"button"}),action:I=>({destroy:tn(Nn(I,"click",()=>{$()}),Nn(I,"keydown",b=>{b.key!==In.SPACE&&b.key!==In.ENTER||(b.preventDefault(),$())}))})});return Ft([_,r],([I,g])=>{if(za){if(g&&I&&(S=gu()),I){const b=document.getElementById(h.content.get());eo({prop:u.get(),defaultEl:b})}return()=>{a.get()||S()}}}),{ids:h,elements:{content:R,trigger:W,title:D,description:p,overlay:L,close:G,portalled:x},states:{open:_},options:n}}const rf={orientation:"horizontal",decorative:!1},of=t=>{const e={...rf,...t},n=ri(e),{orientation:r,decorative:i}=n;return{elements:{root:ct("separator",{stores:[r,i],returned:([l,s])=>({role:s?"none":"separator","aria-orientation":l==="vertical"?l:void 0,"aria-hidden":s,"data-orientation":l})})},options:n}};function Li(t,e){const n={};return e.forEach(r=>{n[r]={[`data-${t}-${r}`]:""}}),r=>n[r]}function ws(){const t=Fa();return e=>{const{originalEvent:n}=e.detail,{cancelable:r}=e,i=n.type;t(i,{originalEvent:n,currentTarget:n.currentTarget},{cancelable:r})||e.preventDefault()}}function ks(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=r)}return e}function Ss(t){return function(e,n){if(n===void 0)return;const r=t[e];r&&r.set(n)}}function lf(t,e){const n=[];return e.builders.forEach(r=>{const i=r.action(t);i&&n.push(i)}),{destroy:()=>{n.forEach(r=>{r.destroy&&r.destroy()})}}}function uo(t){const e={};return t.forEach(n=>{Object.keys(n).forEach(r=>{r!=="action"&&(e[r]=n[r])})}),e}function sf(t){let e=t[1]?"a":"button",n,r,i=(t[1]?"a":"button")&&jr(t);return{c(){i&&i.c(),n=Me()},m(o,l){i&&i.m(o,l),C(o,n,l),r=!0},p(o,l){o[1],e?ae(e,o[1]?"a":"button")?(i.d(1),i=jr(o),e=o[1]?"a":"button",i.c(),i.m(n.parentNode,n)):i.p(o,l):(i=jr(o),e=o[1]?"a":"button",i.c(),i.m(n.parentNode,n))},i(o){r||(T(i,o),r=!0)},o(o){P(i,o),r=!1},d(o){o&&k(n),i&&i.d(o)}}}function af(t){let e=t[1]?"a":"button",n,r,i=(t[1]?"a":"button")&&Vr(t);return{c(){i&&i.c(),n=Me()},m(o,l){i&&i.m(o,l),C(o,n,l),r=!0},p(o,l){o[1],e?ae(e,o[1]?"a":"button")?(i.d(1),i=Vr(o),e=o[1]?"a":"button",i.c(),i.m(n.parentNode,n)):i.p(o,l):(i=Vr(o),e=o[1]?"a":"button",i.c(),i.m(n.parentNode,n))},i(o){r||(T(i,o),r=!0)},o(o){P(i,o),r=!1},d(o){o&&k(n),i&&i.d(o)}}}function jr(t){let e,n,r,i,o;const l=t[7].default,s=ye(l,t,t[6],null);let a=[{type:n=t[1]?void 0:t[2]},{href:t[1]},{tabindex:"0"},t[5],t[4]],u={};for(let f=0;f<a.length;f+=1)u=z(u,a[f]);return{c(){e=O(t[1]?"a":"button"),s&&s.c(),rn(t[1]?"a":"button")(e,u)},m(f,c){C(f,e,c),s&&s.m(e,null),r=!0,i||(o=[J(e,"click",t[14]),J(e,"change",t[15]),J(e,"keydown",t[16]),J(e,"keyup",t[17]),J(e,"mouseenter",t[18]),J(e,"mouseleave",t[19])],i=!0)},p(f,c){s&&s.p&&(!r||c&64)&&ke(s,l,f,f[6],r?we(l,f[6],c,null):Se(f[6]),null),rn(f[1]?"a":"button")(e,u=be(a,[(!r||c&6&&n!==(n=f[1]?void 0:f[2]))&&{type:n},(!r||c&2)&&{href:f[1]},{tabindex:"0"},c&32&&f[5],f[4]]))},i(f){r||(T(s,f),r=!0)},o(f){P(s,f),r=!1},d(f){f&&k(e),s&&s.d(f),i=!1,$e(o)}}}function Vr(t){let e,n,r,i,o,l;const s=t[7].default,a=ye(s,t,t[6],null);let u=[{type:n=t[1]?void 0:t[2]},{href:t[1]},{tabindex:"0"},uo(t[3]),t[5],t[4]],f={};for(let c=0;c<u.length;c+=1)f=z(f,u[c]);return{c(){e=O(t[1]?"a":"button"),a&&a.c(),rn(t[1]?"a":"button")(e,f)},m(c,d){C(c,e,d),a&&a.m(e,null),t[20](e),i=!0,o||(l=[J(e,"click",t[8]),J(e,"change",t[9]),J(e,"keydown",t[10]),J(e,"keyup",t[11]),J(e,"mouseenter",t[12]),J(e,"mouseleave",t[13]),Ye(r=lf.call(null,e,{builders:t[3]}))],o=!0)},p(c,d){a&&a.p&&(!i||d&64)&&ke(a,s,c,c[6],i?we(s,c[6],d,null):Se(c[6]),null),rn(c[1]?"a":"button")(e,f=be(u,[(!i||d&6&&n!==(n=c[1]?void 0:c[2]))&&{type:n},(!i||d&2)&&{href:c[1]},{tabindex:"0"},d&8&&uo(c[3]),d&32&&c[5],c[4]])),r&&At(r.update)&&d&8&&r.update.call(null,{builders:c[3]})},i(c){i||(T(a,c),i=!0)},o(c){P(a,c),i=!1},d(c){c&&k(e),a&&a.d(c),t[20](null),o=!1,$e(l)}}}function uf(t){let e,n,r,i;const o=[af,sf],l=[];function s(a,u){return a[3]&&a[3].length?0:1}return e=s(t),n=l[e]=o[e](t),{c(){n.c(),r=Me()},m(a,u){l[e].m(a,u),C(a,r,u),i=!0},p(a,[u]){let f=e;e=s(a),e===f?l[e].p(a,u):(xe(),P(l[f],1,1,()=>{l[f]=null}),qe(),n=l[e],n?n.p(a,u):(n=l[e]=o[e](a),n.c()),T(n,1),n.m(r.parentNode,r))},i(a){i||(T(n),i=!0)},o(a){P(n),i=!1},d(a){a&&k(r),l[e].d(a)}}}function ff(t,e,n){const r=["href","type","builders","el"];let i=fe(e,r),{$$slots:o={},$$scope:l}=e,{href:s=void 0}=e,{type:a=void 0}=e,{builders:u=[]}=e,{el:f=void 0}=e;const c={"data-button-root":""};function d(p){ne.call(this,t,p)}function h(p){ne.call(this,t,p)}function m(p){ne.call(this,t,p)}function _(p){ne.call(this,t,p)}function y(p){ne.call(this,t,p)}function S(p){ne.call(this,t,p)}function A(p){ne.call(this,t,p)}function $(p){ne.call(this,t,p)}function W(p){ne.call(this,t,p)}function L(p){ne.call(this,t,p)}function R(p){ne.call(this,t,p)}function x(p){ne.call(this,t,p)}function D(p){Ee[p?"unshift":"push"](()=>{f=p,n(0,f)})}return t.$$set=p=>{e=z(z({},e),Fe(p)),n(5,i=fe(e,r)),"href"in p&&n(1,s=p.href),"type"in p&&n(2,a=p.type),"builders"in p&&n(3,u=p.builders),"el"in p&&n(0,f=p.el),"$$scope"in p&&n(6,l=p.$$scope)},[f,s,a,u,c,i,l,o,d,h,m,_,y,S,A,$,W,L,R,x,D]}let cf=class extends pe{constructor(e){super(),de(this,e,ff,uf,ae,{href:1,type:2,builders:3,el:0})}};function df(){return{NAME:"separator",PARTS:["root"]}}function pf(t){const{NAME:e,PARTS:n}=df(),r=Li(e,n),i={...of(ks(t)),getAttrs:r};return{...i,updateOption:Ss(i.options)}}const hf=t=>({builder:t&4}),fo=t=>({builder:t[2]});function mf(t){let e,n,r,i=[t[2],t[4]],o={};for(let l=0;l<i.length;l+=1)o=z(o,i[l]);return{c(){e=O("div"),he(e,o)},m(l,s){C(l,e,s),t[10](e),n||(r=Ye(t[2].action(e)),n=!0)},p(l,s){he(e,o=be(i,[s&4&&l[2],s&16&&l[4]]))},i:oe,o:oe,d(l){l&&k(e),t[10](null),n=!1,r()}}}function _f(t){let e;const n=t[9].default,r=ye(n,t,t[8],fo);return{c(){r&&r.c()},m(i,o){r&&r.m(i,o),e=!0},p(i,o){r&&r.p&&(!e||o&260)&&ke(r,n,i,i[8],e?we(n,i[8],o,hf):Se(i[8]),fo)},i(i){e||(T(r,i),e=!0)},o(i){P(r,i),e=!1},d(i){r&&r.d(i)}}}function gf(t){let e,n,r,i;const o=[_f,mf],l=[];function s(a,u){return a[1]?0:1}return e=s(t),n=l[e]=o[e](t),{c(){n.c(),r=Me()},m(a,u){l[e].m(a,u),C(a,r,u),i=!0},p(a,[u]){let f=e;e=s(a),e===f?l[e].p(a,u):(xe(),P(l[f],1,1,()=>{l[f]=null}),qe(),n=l[e],n?n.p(a,u):(n=l[e]=o[e](a),n.c()),T(n,1),n.m(r.parentNode,r))},i(a){i||(T(n),i=!0)},o(a){P(n),i=!1},d(a){a&&k(r),l[e].d(a)}}}function bf(t,e,n){let r;const i=["orientation","decorative","asChild","el"];let o=fe(e,i),l,{$$slots:s={},$$scope:a}=e,{orientation:u="horizontal"}=e,{decorative:f=!0}=e,{asChild:c=!1}=e,{el:d=void 0}=e;const{elements:{root:h},updateOption:m,getAttrs:_}=pf({orientation:u,decorative:f});ie(t,h,A=>n(7,l=A));const y=_("root");function S(A){Ee[A?"unshift":"push"](()=>{d=A,n(0,d)})}return t.$$set=A=>{e=z(z({},e),Fe(A)),n(4,o=fe(e,i)),"orientation"in A&&n(5,u=A.orientation),"decorative"in A&&n(6,f=A.decorative),"asChild"in A&&n(1,c=A.asChild),"el"in A&&n(0,d=A.el),"$$scope"in A&&n(8,a=A.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&m("orientation",u),t.$$.dirty&64&&m("decorative",f),t.$$.dirty&128&&n(2,r=l),t.$$.dirty&4&&Object.assign(r,y)},[d,c,r,h,o,u,f,l,a,s,S]}let vf=class extends pe{constructor(e){super(),de(this,e,bf,gf,ae,{orientation:5,decorative:6,asChild:1,el:0})}};function As(){return{NAME:"dialog",PARTS:["close","content","description","overlay","portal","title","trigger"]}}function yf(t){const{NAME:e,PARTS:n}=As(),r=Li(e,n),i={...nf({...ks(t),role:"dialog",forceVisible:!0}),getAttrs:r};return Ra(e,i),{...i,updateOption:Ss(i.options)}}function dn(){const{NAME:t}=As();return xa(t)}const wf=t=>({ids:t&1}),co=t=>({ids:t[0]});function kf(t){let e;const n=t[12].default,r=ye(n,t,t[11],co);return{c(){r&&r.c()},m(i,o){r&&r.m(i,o),e=!0},p(i,[o]){r&&r.p&&(!e||o&2049)&&ke(r,n,i,i[11],e?we(n,i[11],o,wf):Se(i[11]),co)},i(i){e||(T(r,i),e=!0)},o(i){P(r,i),e=!1},d(i){r&&r.d(i)}}}function Sf(t,e,n){let r,{$$slots:i={},$$scope:o}=e,{preventScroll:l=void 0}=e,{closeOnEscape:s=void 0}=e,{closeOnOutsideClick:a=void 0}=e,{portal:u=void 0}=e,{open:f=void 0}=e,{onOpenChange:c=void 0}=e,{openFocus:d=void 0}=e,{closeFocus:h=void 0}=e,{onOutsideClick:m=void 0}=e;const{states:{open:_},updateOption:y,ids:S}=yf({closeOnEscape:s,preventScroll:l,closeOnOutsideClick:a,portal:u,forceVisible:!0,defaultOpen:f,openFocus:d,closeFocus:h,onOutsideClick:m,onOpenChange:({next:$})=>(f!==$&&(c==null||c($),n(2,f=$)),$)}),A=Rr([S.content,S.description,S.title],([$,W,L])=>({content:$,description:W,title:L}));return ie(t,A,$=>n(0,r=$)),t.$$set=$=>{"preventScroll"in $&&n(3,l=$.preventScroll),"closeOnEscape"in $&&n(4,s=$.closeOnEscape),"closeOnOutsideClick"in $&&n(5,a=$.closeOnOutsideClick),"portal"in $&&n(6,u=$.portal),"open"in $&&n(2,f=$.open),"onOpenChange"in $&&n(7,c=$.onOpenChange),"openFocus"in $&&n(8,d=$.openFocus),"closeFocus"in $&&n(9,h=$.closeFocus),"onOutsideClick"in $&&n(10,m=$.onOutsideClick),"$$scope"in $&&n(11,o=$.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&f!==void 0&&_.set(f),t.$$.dirty&8&&y("preventScroll",l),t.$$.dirty&16&&y("closeOnEscape",s),t.$$.dirty&32&&y("closeOnOutsideClick",a),t.$$.dirty&64&&y("portal",u),t.$$.dirty&256&&y("openFocus",d),t.$$.dirty&512&&y("closeFocus",h),t.$$.dirty&1024&&y("onOutsideClick",m)},[r,A,f,l,s,a,u,c,d,h,m,o,i]}class Af extends pe{constructor(e){super(),de(this,e,Sf,kf,ae,{preventScroll:3,closeOnEscape:4,closeOnOutsideClick:5,portal:6,open:2,onOpenChange:7,openFocus:8,closeFocus:9,onOutsideClick:10})}}const Cf=t=>({builder:t&8}),po=t=>({builder:t[3]}),Nf=t=>({builder:t&8}),ho=t=>({builder:t[3]});function If(t){let e=t[1],n,r,i=t[1]&&Wr(t);return{c(){i&&i.c(),n=Me()},m(o,l){i&&i.m(o,l),C(o,n,l),r=!0},p(o,l){o[1]?e?ae(e,o[1])?(i.d(1),i=Wr(o),e=o[1],i.c(),i.m(n.parentNode,n)):i.p(o,l):(i=Wr(o),e=o[1],i.c(),i.m(n.parentNode,n)):e&&(i.d(1),i=null,e=o[1])},i(o){r||(T(i,o),r=!0)},o(o){P(i,o),r=!1},d(o){o&&k(n),i&&i.d(o)}}}function Tf(t){let e;const n=t[9].default,r=ye(n,t,t[8],ho);return{c(){r&&r.c()},m(i,o){r&&r.m(i,o),e=!0},p(i,o){r&&r.p&&(!e||o&264)&&ke(r,n,i,i[8],e?we(n,i[8],o,Nf):Se(i[8]),ho)},i(i){e||(T(r,i),e=!0)},o(i){P(r,i),e=!1},d(i){r&&r.d(i)}}}function Wr(t){let e,n,r,i;const o=t[9].default,l=ye(o,t,t[8],po);let s=[t[3],t[5]],a={};for(let u=0;u<s.length;u+=1)a=z(a,s[u]);return{c(){e=O(t[1]),l&&l.c(),rn(t[1])(e,a)},m(u,f){C(u,e,f),l&&l.m(e,null),t[10](e),n=!0,r||(i=Ye(t[3].action(e)),r=!0)},p(u,f){l&&l.p&&(!n||f&264)&&ke(l,o,u,u[8],n?we(o,u[8],f,Cf):Se(u[8]),po),rn(u[1])(e,a=be(s,[f&8&&u[3],f&32&&u[5]]))},i(u){n||(T(l,u),n=!0)},o(u){P(l,u),n=!1},d(u){u&&k(e),l&&l.d(u),t[10](null),r=!1,i()}}}function Ef(t){let e,n,r,i;const o=[Tf,If],l=[];function s(a,u){return a[2]?0:1}return e=s(t),n=l[e]=o[e](t),{c(){n.c(),r=Me()},m(a,u){l[e].m(a,u),C(a,r,u),i=!0},p(a,[u]){let f=e;e=s(a),e===f?l[e].p(a,u):(xe(),P(l[f],1,1,()=>{l[f]=null}),qe(),n=l[e],n?n.p(a,u):(n=l[e]=o[e](a),n.c()),T(n,1),n.m(r.parentNode,r))},i(a){i||(T(n),i=!0)},o(a){P(n),i=!1},d(a){a&&k(r),l[e].d(a)}}}function $f(t,e,n){let r;const i=["level","asChild","id","el"];let o=fe(e,i),l,{$$slots:s={},$$scope:a}=e,{level:u="h2"}=e,{asChild:f=!1}=e,{id:c=void 0}=e,{el:d=void 0}=e;const{elements:{title:h},ids:m,getAttrs:_}=dn();ie(t,h,A=>n(7,l=A));const y=_("title");function S(A){Ee[A?"unshift":"push"](()=>{d=A,n(0,d)})}return t.$$set=A=>{e=z(z({},e),Fe(A)),n(5,o=fe(e,i)),"level"in A&&n(1,u=A.level),"asChild"in A&&n(2,f=A.asChild),"id"in A&&n(6,c=A.id),"el"in A&&n(0,d=A.el),"$$scope"in A&&n(8,a=A.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&c&&m.title.set(c),t.$$.dirty&128&&n(3,r=l),t.$$.dirty&8&&Object.assign(r,y)},[d,u,f,r,h,o,c,l,a,s,S]}let Mf=class extends pe{constructor(e){super(),de(this,e,$f,Ef,ae,{level:1,asChild:2,id:6,el:0})}};const Pf=t=>({builder:t&4}),mo=t=>({builder:t[2]}),Of=t=>({builder:t&4}),_o=t=>({builder:t[2]});function Lf(t){let e,n,r,i;const o=t[8].default,l=ye(o,t,t[7],mo);let s=[t[2],{type:"button"},t[5]],a={};for(let u=0;u<s.length;u+=1)a=z(a,s[u]);return{c(){e=O("button"),l&&l.c(),he(e,a)},m(u,f){C(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[9](e),n=!0,r||(i=[Ye(t[2].action(e)),J(e,"m-click",t[4]),J(e,"m-keydown",t[4])],r=!0)},p(u,f){l&&l.p&&(!n||f&132)&&ke(l,o,u,u[7],n?we(o,u[7],f,Pf):Se(u[7]),mo),he(e,a=be(s,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(T(l,u),n=!0)},o(u){P(l,u),n=!1},d(u){u&&k(e),l&&l.d(u),t[9](null),r=!1,$e(i)}}}function Ff(t){let e;const n=t[8].default,r=ye(n,t,t[7],_o);return{c(){r&&r.c()},m(i,o){r&&r.m(i,o),e=!0},p(i,o){r&&r.p&&(!e||o&132)&&ke(r,n,i,i[7],e?we(n,i[7],o,Of):Se(i[7]),_o)},i(i){e||(T(r,i),e=!0)},o(i){P(r,i),e=!1},d(i){r&&r.d(i)}}}function Rf(t){let e,n,r,i;const o=[Ff,Lf],l=[];function s(a,u){return a[1]?0:1}return e=s(t),n=l[e]=o[e](t),{c(){n.c(),r=Me()},m(a,u){l[e].m(a,u),C(a,r,u),i=!0},p(a,[u]){let f=e;e=s(a),e===f?l[e].p(a,u):(xe(),P(l[f],1,1,()=>{l[f]=null}),qe(),n=l[e],n?n.p(a,u):(n=l[e]=o[e](a),n.c()),T(n,1),n.m(r.parentNode,r))},i(a){i||(T(n),i=!0)},o(a){P(n),i=!1},d(a){a&&k(r),l[e].d(a)}}}function xf(t,e,n){let r;const i=["asChild","el"];let o=fe(e,i),l,{$$slots:s={},$$scope:a}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:d}=dn();ie(t,c,y=>n(6,l=y));const h=ws(),m=d("close");function _(y){Ee[y?"unshift":"push"](()=>{f=y,n(0,f)})}return t.$$set=y=>{e=z(z({},e),Fe(y)),n(5,o=fe(e,i)),"asChild"in y&&n(1,u=y.asChild),"el"in y&&n(0,f=y.el),"$$scope"in y&&n(7,a=y.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,r=l),t.$$.dirty&4&&Object.assign(r,m)},[f,u,r,c,h,o,l,a,s,_]}class qf extends pe{constructor(e){super(),de(this,e,xf,Rf,ae,{asChild:1,el:0})}}const Df=t=>({builder:t&4}),go=t=>({builder:t[2]}),Bf=t=>({builder:t&4}),bo=t=>({builder:t[2]});function Gf(t){let e,n,r,i;const o=t[7].default,l=ye(o,t,t[6],go);let s=[t[2],t[4]],a={};for(let u=0;u<s.length;u+=1)a=z(a,s[u]);return{c(){e=O("div"),l&&l.c(),he(e,a)},m(u,f){C(u,e,f),l&&l.m(e,null),t[8](e),n=!0,r||(i=Ye(t[2].action(e)),r=!0)},p(u,f){l&&l.p&&(!n||f&68)&&ke(l,o,u,u[6],n?we(o,u[6],f,Df):Se(u[6]),go),he(e,a=be(s,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(T(l,u),n=!0)},o(u){P(l,u),n=!1},d(u){u&&k(e),l&&l.d(u),t[8](null),r=!1,i()}}}function Hf(t){let e;const n=t[7].default,r=ye(n,t,t[6],bo);return{c(){r&&r.c()},m(i,o){r&&r.m(i,o),e=!0},p(i,o){r&&r.p&&(!e||o&68)&&ke(r,n,i,i[6],e?we(n,i[6],o,Bf):Se(i[6]),bo)},i(i){e||(T(r,i),e=!0)},o(i){P(r,i),e=!1},d(i){r&&r.d(i)}}}function jf(t){let e,n,r,i;const o=[Hf,Gf],l=[];function s(a,u){return a[1]?0:1}return e=s(t),n=l[e]=o[e](t),{c(){n.c(),r=Me()},m(a,u){l[e].m(a,u),C(a,r,u),i=!0},p(a,[u]){let f=e;e=s(a),e===f?l[e].p(a,u):(xe(),P(l[f],1,1,()=>{l[f]=null}),qe(),n=l[e],n?n.p(a,u):(n=l[e]=o[e](a),n.c()),T(n,1),n.m(r.parentNode,r))},i(a){i||(T(n),i=!0)},o(a){P(n),i=!1},d(a){a&&k(r),l[e].d(a)}}}function Vf(t,e,n){let r;const i=["asChild","el"];let o=fe(e,i),l,{$$slots:s={},$$scope:a}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{portalled:c},getAttrs:d}=dn();ie(t,c,_=>n(5,l=_));const h=d("portal");function m(_){Ee[_?"unshift":"push"](()=>{f=_,n(0,f)})}return t.$$set=_=>{e=z(z({},e),Fe(_)),n(4,o=fe(e,i)),"asChild"in _&&n(1,u=_.asChild),"el"in _&&n(0,f=_.el),"$$scope"in _&&n(6,a=_.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,r=l),t.$$.dirty&4&&Object.assign(r,h)},[f,u,r,c,o,l,a,s,m]}let Wf=class extends pe{constructor(e){super(),de(this,e,Vf,jf,ae,{asChild:1,el:0})}};const Kf=t=>({builder:t[0]&256}),vo=t=>({builder:t[8]}),Uf=t=>({builder:t[0]&256}),yo=t=>({builder:t[8]}),Yf=t=>({builder:t[0]&256}),wo=t=>({builder:t[8]}),Jf=t=>({builder:t[0]&256}),ko=t=>({builder:t[8]}),Xf=t=>({builder:t[0]&256}),So=t=>({builder:t[8]}),Zf=t=>({builder:t[0]&256}),Ao=t=>({builder:t[8]});function Qf(t){let e,n,r,i;const o=t[16].default,l=ye(o,t,t[15],vo);let s=[t[8],t[12]],a={};for(let u=0;u<s.length;u+=1)a=z(a,s[u]);return{c(){e=O("div"),l&&l.c(),he(e,a)},m(u,f){C(u,e,f),l&&l.m(e,null),t[56](e),n=!0,r||(i=[Ye(t[8].action(e)),J(e,"pointerdown",t[45]),J(e,"pointermove",t[46]),J(e,"pointerup",t[47]),J(e,"touchend",t[48]),J(e,"touchstart",t[49]),J(e,"touchcancel",t[50]),J(e,"touchmove",t[51])],r=!0)},p(u,f){l&&l.p&&(!n||f[0]&33024)&&ke(l,o,u,u[15],n?we(o,u[15],f,Kf):Se(u[15]),vo),he(e,a=be(s,[f[0]&256&&u[8],f[0]&4096&&u[12]]))},i(u){n||(T(l,u),n=!0)},o(u){P(l,u),n=!1},d(u){u&&k(e),l&&l.d(u),t[56](null),r=!1,$e(i)}}}function zf(t){let e,n,r,i,o;const l=t[16].default,s=ye(l,t,t[15],yo);let a=[t[8],t[12]],u={};for(let f=0;f<a.length;f+=1)u=z(u,a[f]);return{c(){e=O("div"),s&&s.c(),he(e,u)},m(f,c){C(f,e,c),s&&s.m(e,null),t[55](e),r=!0,i||(o=[Ye(t[8].action(e)),J(e,"pointerdown",t[38]),J(e,"pointermove",t[39]),J(e,"pointerup",t[40]),J(e,"touchend",t[41]),J(e,"touchstart",t[42]),J(e,"touchcancel",t[43]),J(e,"touchmove",t[44])],i=!0)},p(f,c){t=f,s&&s.p&&(!r||c[0]&33024)&&ke(s,l,t,t[15],r?we(l,t[15],c,Uf):Se(t[15]),yo),he(e,u=be(a,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){r||(T(s,f),n&&n.end(1),r=!0)},o(f){P(s,f),f&&(n=Fr(e,t[5],t[6])),r=!1},d(f){f&&k(e),s&&s.d(f),t[55](null),f&&n&&n.end(),i=!1,$e(o)}}}function ec(t){let e,n,r,i,o;const l=t[16].default,s=ye(l,t,t[15],wo);let a=[t[8],t[12]],u={};for(let f=0;f<a.length;f+=1)u=z(u,a[f]);return{c(){e=O("div"),s&&s.c(),he(e,u)},m(f,c){C(f,e,c),s&&s.m(e,null),t[54](e),r=!0,i||(o=[Ye(t[8].action(e)),J(e,"pointerdown",t[31]),J(e,"pointermove",t[32]),J(e,"pointerup",t[33]),J(e,"touchend",t[34]),J(e,"touchstart",t[35]),J(e,"touchcancel",t[36]),J(e,"touchmove",t[37])],i=!0)},p(f,c){t=f,s&&s.p&&(!r||c[0]&33024)&&ke(s,l,t,t[15],r?we(l,t[15],c,Yf):Se(t[15]),wo),he(e,u=be(a,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){r||(T(s,f),f&&(n||it(()=>{n=Lr(e,t[3],t[4]),n.start()})),r=!0)},o(f){P(s,f),r=!1},d(f){f&&k(e),s&&s.d(f),t[54](null),i=!1,$e(o)}}}function tc(t){let e,n,r,i,o,l;const s=t[16].default,a=ye(s,t,t[15],ko);let u=[t[8],t[12]],f={};for(let c=0;c<u.length;c+=1)f=z(f,u[c]);return{c(){e=O("div"),a&&a.c(),he(e,f)},m(c,d){C(c,e,d),a&&a.m(e,null),t[53](e),i=!0,o||(l=[Ye(t[8].action(e)),J(e,"pointerdown",t[24]),J(e,"pointermove",t[25]),J(e,"pointerup",t[26]),J(e,"touchend",t[27]),J(e,"touchstart",t[28]),J(e,"touchcancel",t[29]),J(e,"touchmove",t[30])],o=!0)},p(c,d){t=c,a&&a.p&&(!i||d[0]&33024)&&ke(a,s,t,t[15],i?we(s,t[15],d,Jf):Se(t[15]),ko),he(e,f=be(u,[d[0]&256&&t[8],d[0]&4096&&t[12]]))},i(c){i||(T(a,c),c&&it(()=>{i&&(r&&r.end(1),n=Lr(e,t[3],t[4]),n.start())}),i=!0)},o(c){P(a,c),n&&n.invalidate(),c&&(r=Fr(e,t[5],t[6])),i=!1},d(c){c&&k(e),a&&a.d(c),t[53](null),c&&r&&r.end(),o=!1,$e(l)}}}function nc(t){let e,n,r,i,o;const l=t[16].default,s=ye(l,t,t[15],So);let a=[t[8],t[12]],u={};for(let f=0;f<a.length;f+=1)u=z(u,a[f]);return{c(){e=O("div"),s&&s.c(),he(e,u)},m(f,c){C(f,e,c),s&&s.m(e,null),t[52](e),r=!0,i||(o=[Ye(t[8].action(e)),J(e,"pointerdown",t[17]),J(e,"pointermove",t[18]),J(e,"pointerup",t[19]),J(e,"touchend",t[20]),J(e,"touchstart",t[21]),J(e,"touchcancel",t[22]),J(e,"touchmove",t[23])],i=!0)},p(f,c){t=f,s&&s.p&&(!r||c[0]&33024)&&ke(s,l,t,t[15],r?we(l,t[15],c,Xf):Se(t[15]),So),he(e,u=be(a,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){r||(T(s,f),f&&it(()=>{r&&(n||(n=dr(e,t[1],t[2],!0)),n.run(1))}),r=!0)},o(f){P(s,f),f&&(n||(n=dr(e,t[1],t[2],!1)),n.run(0)),r=!1},d(f){f&&k(e),s&&s.d(f),t[52](null),f&&n&&n.end(),i=!1,$e(o)}}}function rc(t){let e;const n=t[16].default,r=ye(n,t,t[15],Ao);return{c(){r&&r.c()},m(i,o){r&&r.m(i,o),e=!0},p(i,o){r&&r.p&&(!e||o[0]&33024)&&ke(r,n,i,i[15],e?we(n,i[15],o,Zf):Se(i[15]),Ao)},i(i){e||(T(r,i),e=!0)},o(i){P(r,i),e=!1},d(i){r&&r.d(i)}}}function ic(t){let e,n,r,i;const o=[rc,nc,tc,ec,zf,Qf],l=[];function s(a,u){return a[7]&&a[9]?0:a[1]&&a[9]?1:a[3]&&a[5]&&a[9]?2:a[3]&&a[9]?3:a[5]&&a[9]?4:a[9]?5:-1}return~(e=s(t))&&(n=l[e]=o[e](t)),{c(){n&&n.c(),r=Me()},m(a,u){~e&&l[e].m(a,u),C(a,r,u),i=!0},p(a,u){let f=e;e=s(a),e===f?~e&&l[e].p(a,u):(n&&(xe(),P(l[f],1,1,()=>{l[f]=null}),qe()),~e?(n=l[e],n?n.p(a,u):(n=l[e]=o[e](a),n.c()),T(n,1),n.m(r.parentNode,r)):n=null)},i(a){i||(T(n),i=!0)},o(a){P(n),i=!1},d(a){a&&k(r),~e&&l[e].d(a)}}}function oc(t,e,n){let r;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","id","el"];let o=fe(e,i),l,s,{$$slots:a={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:h=void 0}=e,{outTransition:m=void 0}=e,{outTransitionConfig:_=void 0}=e,{asChild:y=!1}=e,{id:S=void 0}=e,{el:A=void 0}=e;const{elements:{content:$},states:{open:W},ids:L,getAttrs:R}=dn();ie(t,$,H=>n(14,l=H)),ie(t,W,H=>n(9,s=H));const x=R("content");function D(H){ne.call(this,t,H)}function p(H){ne.call(this,t,H)}function G(H){ne.call(this,t,H)}function I(H){ne.call(this,t,H)}function g(H){ne.call(this,t,H)}function b(H){ne.call(this,t,H)}function v(H){ne.call(this,t,H)}function E(H){ne.call(this,t,H)}function N(H){ne.call(this,t,H)}function M(H){ne.call(this,t,H)}function q(H){ne.call(this,t,H)}function U(H){ne.call(this,t,H)}function ee(H){ne.call(this,t,H)}function B(H){ne.call(this,t,H)}function te(H){ne.call(this,t,H)}function ue(H){ne.call(this,t,H)}function K(H){ne.call(this,t,H)}function Y(H){ne.call(this,t,H)}function le(H){ne.call(this,t,H)}function _e(H){ne.call(this,t,H)}function Re(H){ne.call(this,t,H)}function Ae(H){ne.call(this,t,H)}function Ie(H){ne.call(this,t,H)}function ve(H){ne.call(this,t,H)}function We(H){ne.call(this,t,H)}function ut(H){ne.call(this,t,H)}function Ke(H){ne.call(this,t,H)}function Qe(H){ne.call(this,t,H)}function Ot(H){ne.call(this,t,H)}function _t(H){ne.call(this,t,H)}function Xe(H){ne.call(this,t,H)}function Ze(H){ne.call(this,t,H)}function Le(H){ne.call(this,t,H)}function Ne(H){ne.call(this,t,H)}function ge(H){ne.call(this,t,H)}function De(H){Ee[H?"unshift":"push"](()=>{A=H,n(0,A)})}function ft(H){Ee[H?"unshift":"push"](()=>{A=H,n(0,A)})}function Je(H){Ee[H?"unshift":"push"](()=>{A=H,n(0,A)})}function re(H){Ee[H?"unshift":"push"](()=>{A=H,n(0,A)})}function Pe(H){Ee[H?"unshift":"push"](()=>{A=H,n(0,A)})}return t.$$set=H=>{e=z(z({},e),Fe(H)),n(12,o=fe(e,i)),"transition"in H&&n(1,f=H.transition),"transitionConfig"in H&&n(2,c=H.transitionConfig),"inTransition"in H&&n(3,d=H.inTransition),"inTransitionConfig"in H&&n(4,h=H.inTransitionConfig),"outTransition"in H&&n(5,m=H.outTransition),"outTransitionConfig"in H&&n(6,_=H.outTransitionConfig),"asChild"in H&&n(7,y=H.asChild),"id"in H&&n(13,S=H.id),"el"in H&&n(0,A=H.el),"$$scope"in H&&n(15,u=H.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&8192&&S&&L.content.set(S),t.$$.dirty[0]&16384&&n(8,r=l),t.$$.dirty[0]&256&&Object.assign(r,x)},[A,f,c,d,h,m,_,y,r,s,$,W,o,S,l,u,a,D,p,G,I,g,b,v,E,N,M,q,U,ee,B,te,ue,K,Y,le,_e,Re,Ae,Ie,ve,We,ut,Ke,Qe,Ot,_t,Xe,Ze,Le,Ne,ge,De,ft,Je,re,Pe]}let lc=class extends pe{constructor(e){super(),de(this,e,oc,ic,ae,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,id:13,el:0},null,[-1,-1])}};const sc=t=>({builder:t&256}),Co=t=>({builder:t[8]});function ac(t){let e,n,r,i=[t[8],t[12]],o={};for(let l=0;l<i.length;l+=1)o=z(o,i[l]);return{c(){e=O("div"),he(e,o)},m(l,s){C(l,e,s),t[25](e),n||(r=[Ye(t[8].action(e)),J(e,"mouseup",t[20])],n=!0)},p(l,s){he(e,o=be(i,[s&256&&l[8],s&4096&&l[12]]))},i:oe,o:oe,d(l){l&&k(e),t[25](null),n=!1,$e(r)}}}function uc(t){let e,n,r,i,o,l=[t[8],t[12]],s={};for(let a=0;a<l.length;a+=1)s=z(s,l[a]);return{c(){e=O("div"),he(e,s)},m(a,u){C(a,e,u),t[24](e),r=!0,i||(o=[Ye(t[8].action(e)),J(e,"mouseup",t[19])],i=!0)},p(a,u){t=a,he(e,s=be(l,[u&256&&t[8],u&4096&&t[12]]))},i(a){r||(n&&n.end(1),r=!0)},o(a){a&&(n=Fr(e,t[5],t[6])),r=!1},d(a){a&&k(e),t[24](null),a&&n&&n.end(),i=!1,$e(o)}}}function fc(t){let e,n,r,i,o=[t[8],t[12]],l={};for(let s=0;s<o.length;s+=1)l=z(l,o[s]);return{c(){e=O("div"),he(e,l)},m(s,a){C(s,e,a),t[23](e),r||(i=[Ye(t[8].action(e)),J(e,"mouseup",t[18])],r=!0)},p(s,a){t=s,he(e,l=be(o,[a&256&&t[8],a&4096&&t[12]]))},i(s){s&&(n||it(()=>{n=Lr(e,t[3],t[4]),n.start()}))},o:oe,d(s){s&&k(e),t[23](null),r=!1,$e(i)}}}function cc(t){let e,n,r,i,o,l,s=[t[8],t[12]],a={};for(let u=0;u<s.length;u+=1)a=z(a,s[u]);return{c(){e=O("div"),he(e,a)},m(u,f){C(u,e,f),t[22](e),i=!0,o||(l=[Ye(t[8].action(e)),J(e,"mouseup",t[17])],o=!0)},p(u,f){t=u,he(e,a=be(s,[f&256&&t[8],f&4096&&t[12]]))},i(u){i||(u&&it(()=>{i&&(r&&r.end(1),n=Lr(e,t[3],t[4]),n.start())}),i=!0)},o(u){n&&n.invalidate(),u&&(r=Fr(e,t[5],t[6])),i=!1},d(u){u&&k(e),t[22](null),u&&r&&r.end(),o=!1,$e(l)}}}function dc(t){let e,n,r,i,o,l=[t[8],t[12]],s={};for(let a=0;a<l.length;a+=1)s=z(s,l[a]);return{c(){e=O("div"),he(e,s)},m(a,u){C(a,e,u),t[21](e),r=!0,i||(o=[J(e,"mouseup",t[16]),Ye(t[8].action(e))],i=!0)},p(a,u){t=a,he(e,s=be(l,[u&256&&t[8],u&4096&&t[12]]))},i(a){r||(a&&it(()=>{r&&(n||(n=dr(e,t[1],t[2],!0)),n.run(1))}),r=!0)},o(a){a&&(n||(n=dr(e,t[1],t[2],!1)),n.run(0)),r=!1},d(a){a&&k(e),t[21](null),a&&n&&n.end(),i=!1,$e(o)}}}function pc(t){let e;const n=t[15].default,r=ye(n,t,t[14],Co);return{c(){r&&r.c()},m(i,o){r&&r.m(i,o),e=!0},p(i,o){r&&r.p&&(!e||o&16640)&&ke(r,n,i,i[14],e?we(n,i[14],o,sc):Se(i[14]),Co)},i(i){e||(T(r,i),e=!0)},o(i){P(r,i),e=!1},d(i){r&&r.d(i)}}}function hc(t){let e,n,r,i;const o=[pc,dc,cc,fc,uc,ac],l=[];function s(a,u){return a[7]&&a[9]?0:a[1]&&a[9]?1:a[3]&&a[5]&&a[9]?2:a[3]&&a[9]?3:a[5]&&a[9]?4:a[9]?5:-1}return~(e=s(t))&&(n=l[e]=o[e](t)),{c(){n&&n.c(),r=Me()},m(a,u){~e&&l[e].m(a,u),C(a,r,u),i=!0},p(a,[u]){let f=e;e=s(a),e===f?~e&&l[e].p(a,u):(n&&(xe(),P(l[f],1,1,()=>{l[f]=null}),qe()),~e?(n=l[e],n?n.p(a,u):(n=l[e]=o[e](a),n.c()),T(n,1),n.m(r.parentNode,r)):n=null)},i(a){i||(T(n),i=!0)},o(a){P(n),i=!1},d(a){a&&k(r),~e&&l[e].d(a)}}}function mc(t,e,n){let r;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","el"];let o=fe(e,i),l,s,{$$slots:a={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:h=void 0}=e,{outTransition:m=void 0}=e,{outTransitionConfig:_=void 0}=e,{asChild:y=!1}=e,{el:S=void 0}=e;const{elements:{overlay:A},states:{open:$},getAttrs:W}=dn();ie(t,A,N=>n(13,l=N)),ie(t,$,N=>n(9,s=N));const L=W("overlay");function R(N){ne.call(this,t,N)}function x(N){ne.call(this,t,N)}function D(N){ne.call(this,t,N)}function p(N){ne.call(this,t,N)}function G(N){ne.call(this,t,N)}function I(N){Ee[N?"unshift":"push"](()=>{S=N,n(0,S)})}function g(N){Ee[N?"unshift":"push"](()=>{S=N,n(0,S)})}function b(N){Ee[N?"unshift":"push"](()=>{S=N,n(0,S)})}function v(N){Ee[N?"unshift":"push"](()=>{S=N,n(0,S)})}function E(N){Ee[N?"unshift":"push"](()=>{S=N,n(0,S)})}return t.$$set=N=>{e=z(z({},e),Fe(N)),n(12,o=fe(e,i)),"transition"in N&&n(1,f=N.transition),"transitionConfig"in N&&n(2,c=N.transitionConfig),"inTransition"in N&&n(3,d=N.inTransition),"inTransitionConfig"in N&&n(4,h=N.inTransitionConfig),"outTransition"in N&&n(5,m=N.outTransition),"outTransitionConfig"in N&&n(6,_=N.outTransitionConfig),"asChild"in N&&n(7,y=N.asChild),"el"in N&&n(0,S=N.el),"$$scope"in N&&n(14,u=N.$$scope)},t.$$.update=()=>{t.$$.dirty&8192&&n(8,r=l),t.$$.dirty&256&&Object.assign(r,L)},[S,f,c,d,h,m,_,y,r,s,A,$,o,l,u,a,R,x,D,p,G,I,g,b,v,E]}let _c=class extends pe{constructor(e){super(),de(this,e,mc,hc,ae,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,el:0})}};const gc=t=>({builder:t&4}),No=t=>({builder:t[2]}),bc=t=>({builder:t&4}),Io=t=>({builder:t[2]});function vc(t){let e,n,r,i;const o=t[8].default,l=ye(o,t,t[7],No);let s=[t[2],t[4]],a={};for(let u=0;u<s.length;u+=1)a=z(a,s[u]);return{c(){e=O("div"),l&&l.c(),he(e,a)},m(u,f){C(u,e,f),l&&l.m(e,null),t[9](e),n=!0,r||(i=Ye(t[2].action(e)),r=!0)},p(u,f){l&&l.p&&(!n||f&132)&&ke(l,o,u,u[7],n?we(o,u[7],f,gc):Se(u[7]),No),he(e,a=be(s,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(T(l,u),n=!0)},o(u){P(l,u),n=!1},d(u){u&&k(e),l&&l.d(u),t[9](null),r=!1,i()}}}function yc(t){let e;const n=t[8].default,r=ye(n,t,t[7],Io);return{c(){r&&r.c()},m(i,o){r&&r.m(i,o),e=!0},p(i,o){r&&r.p&&(!e||o&132)&&ke(r,n,i,i[7],e?we(n,i[7],o,bc):Se(i[7]),Io)},i(i){e||(T(r,i),e=!0)},o(i){P(r,i),e=!1},d(i){r&&r.d(i)}}}function wc(t){let e,n,r,i;const o=[yc,vc],l=[];function s(a,u){return a[1]?0:1}return e=s(t),n=l[e]=o[e](t),{c(){n.c(),r=Me()},m(a,u){l[e].m(a,u),C(a,r,u),i=!0},p(a,[u]){let f=e;e=s(a),e===f?l[e].p(a,u):(xe(),P(l[f],1,1,()=>{l[f]=null}),qe(),n=l[e],n?n.p(a,u):(n=l[e]=o[e](a),n.c()),T(n,1),n.m(r.parentNode,r))},i(a){i||(T(n),i=!0)},o(a){P(n),i=!1},d(a){a&&k(r),l[e].d(a)}}}function kc(t,e,n){let r;const i=["asChild","id","el"];let o=fe(e,i),l,{$$slots:s={},$$scope:a}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{description:d},ids:h,getAttrs:m}=dn();ie(t,d,S=>n(6,l=S));const _=m("description");function y(S){Ee[S?"unshift":"push"](()=>{c=S,n(0,c)})}return t.$$set=S=>{e=z(z({},e),Fe(S)),n(4,o=fe(e,i)),"asChild"in S&&n(1,u=S.asChild),"id"in S&&n(5,f=S.id),"el"in S&&n(0,c=S.el),"$$scope"in S&&n(7,a=S.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f&&h.description.set(f),t.$$.dirty&64&&n(2,r=l),t.$$.dirty&4&&Object.assign(r,_)},[c,u,r,d,o,f,l,a,s,y]}let Sc=class extends pe{constructor(e){super(),de(this,e,kc,wc,ae,{asChild:1,id:5,el:0})}};function Ac(){const t="label",n=Li(t,["root"]);return{NAME:t,getAttrs:n}}const Cc=t=>({builder:t&4}),To=t=>({builder:t[2]}),Nc=t=>({builder:t&4}),Eo=t=>({builder:t[2]});function Ic(t){let e,n,r,i;const o=t[8].default,l=ye(o,t,t[7],To);let s=[t[2],t[5]],a={};for(let u=0;u<s.length;u+=1)a=z(a,s[u]);return{c(){e=O("label"),l&&l.c(),he(e,a)},m(u,f){C(u,e,f),l&&l.m(e,null),t[9](e),n=!0,r||(i=[Ye(t[2].action(e)),J(e,"m-mousedown",t[4])],r=!0)},p(u,f){l&&l.p&&(!n||f&132)&&ke(l,o,u,u[7],n?we(o,u[7],f,Cc):Se(u[7]),To),he(e,a=be(s,[f&4&&u[2],f&32&&u[5]]))},i(u){n||(T(l,u),n=!0)},o(u){P(l,u),n=!1},d(u){u&&k(e),l&&l.d(u),t[9](null),r=!1,$e(i)}}}function Tc(t){let e;const n=t[8].default,r=ye(n,t,t[7],Eo);return{c(){r&&r.c()},m(i,o){r&&r.m(i,o),e=!0},p(i,o){r&&r.p&&(!e||o&132)&&ke(r,n,i,i[7],e?we(n,i[7],o,Nc):Se(i[7]),Eo)},i(i){e||(T(r,i),e=!0)},o(i){P(r,i),e=!1},d(i){r&&r.d(i)}}}function Ec(t){let e,n,r,i;const o=[Tc,Ic],l=[];function s(a,u){return a[1]?0:1}return e=s(t),n=l[e]=o[e](t),{c(){n.c(),r=Me()},m(a,u){l[e].m(a,u),C(a,r,u),i=!0},p(a,[u]){let f=e;e=s(a),e===f?l[e].p(a,u):(xe(),P(l[f],1,1,()=>{l[f]=null}),qe(),n=l[e],n?n.p(a,u):(n=l[e]=o[e](a),n.c()),T(n,1),n.m(r.parentNode,r))},i(a){i||(T(n),i=!0)},o(a){P(n),i=!1},d(a){a&&k(r),l[e].d(a)}}}function $c(t,e,n){let r;const i=["asChild","el"];let o=fe(e,i),l,{$$slots:s={},$$scope:a}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{root:c}}=zu();ie(t,c,y=>n(6,l=y));const d=ws(),{getAttrs:h}=Ac(),m=h("root");function _(y){Ee[y?"unshift":"push"](()=>{f=y,n(0,f)})}return t.$$set=y=>{e=z(z({},e),Fe(y)),n(5,o=fe(e,i)),"asChild"in y&&n(1,u=y.asChild),"el"in y&&n(0,f=y.el),"$$scope"in y&&n(7,a=y.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,r=l),t.$$.dirty&4&&Object.assign(r,m)},[f,u,r,c,d,o,l,a,s,_]}let Mc=class extends pe{constructor(e){super(),de(this,e,$c,Ec,ae,{asChild:1,el:0})}};function Cs(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Cs(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Pc(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Cs(t))&&(r&&(r+=" "),r+=e);return r}const Fi="-";function Oc(t){const e=Fc(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;function i(l){const s=l.split(Fi);return s[0]===""&&s.length!==1&&s.shift(),Ns(s,e)||Lc(l)}function o(l,s){const a=n[l]||[];return s&&r[l]?[...a,...r[l]]:a}return{getClassGroupId:i,getConflictingClassGroupIds:o}}function Ns(t,e){var l;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?Ns(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const o=t.join(Fi);return(l=e.validators.find(({validator:s})=>s(o)))==null?void 0:l.classGroupId}const $o=/^\[(.+)\]$/;function Lc(t){if($o.test(t)){const e=$o.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function Fc(t){const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return xc(Object.entries(t.classGroups),n).forEach(([o,l])=>{oi(l,r,o,e)}),r}function oi(t,e,n,r){t.forEach(i=>{if(typeof i=="string"){const o=i===""?e:Mo(e,i);o.classGroupId=n;return}if(typeof i=="function"){if(Rc(i)){oi(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([o,l])=>{oi(l,Mo(e,o),n,r)})})}function Mo(t,e){let n=t;return e.split(Fi).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function Rc(t){return t.isThemeGetter}function xc(t,e){return e?t.map(([n,r])=>{const i=r.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([l,s])=>[e+l,s])):o);return[n,i]}):t}function qc(t){if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;function i(o,l){n.set(o,l),e++,e>t&&(e=0,r=n,n=new Map)}return{get(o){let l=n.get(o);if(l!==void 0)return l;if((l=r.get(o))!==void 0)return i(o,l),l},set(o,l){n.has(o)?n.set(o,l):i(o,l)}}}const Is="!";function Dc(t){const e=t.separator,n=e.length===1,r=e[0],i=e.length;return function(l){const s=[];let a=0,u=0,f;for(let _=0;_<l.length;_++){let y=l[_];if(a===0){if(y===r&&(n||l.slice(_,_+i)===e)){s.push(l.slice(u,_)),u=_+i;continue}if(y==="/"){f=_;continue}}y==="["?a++:y==="]"&&a--}const c=s.length===0?l:l.substring(u),d=c.startsWith(Is),h=d?c.substring(1):c,m=f&&f>u?f-u:void 0;return{modifiers:s,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:m}}}function Bc(t){if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e}function Gc(t){return{cache:qc(t.cacheSize),splitModifiers:Dc(t),...Oc(t)}}const Hc=/\s+/;function jc(t,e){const{splitModifiers:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,o=new Set;return t.trim().split(Hc).map(l=>{const{modifiers:s,hasImportantModifier:a,baseClassName:u,maybePostfixModifierPosition:f}=n(l);let c=r(f?u.substring(0,f):u),d=!!f;if(!c){if(!f)return{isTailwindClass:!1,originalClassName:l};if(c=r(u),!c)return{isTailwindClass:!1,originalClassName:l};d=!1}const h=Bc(s).join(":");return{isTailwindClass:!0,modifierId:a?h+Is:h,classGroupId:c,originalClassName:l,hasPostfixModifier:d}}).reverse().filter(l=>{if(!l.isTailwindClass)return!0;const{modifierId:s,classGroupId:a,hasPostfixModifier:u}=l,f=s+a;return o.has(f)?!1:(o.add(f),i(a,u).forEach(c=>o.add(s+c)),!0)}).reverse().map(l=>l.originalClassName).join(" ")}function Vc(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Ts(e))&&(r&&(r+=" "),r+=n);return r}function Ts(t){if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Ts(t[r]))&&(n&&(n+=" "),n+=e);return n}function li(t,...e){let n,r,i,o=l;function l(a){const u=e.reduce((f,c)=>c(f),t());return n=Gc(u),r=n.cache.get,i=n.cache.set,o=s,s(a)}function s(a){const u=r(a);if(u)return u;const f=jc(a,n);return i(a,f),f}return function(){return o(Vc.apply(null,arguments))}}function Oe(t){const e=n=>n[t]||[];return e.isThemeGetter=!0,e}const Es=/^\[(?:([a-z-]+):)?(.+)\]$/i,Wc=/^\d+\/\d+$/,Kc=new Set(["px","full","screen"]),Uc=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Yc=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Jc=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Xc=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Zc=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function gt(t){return qt(t)||Kc.has(t)||Wc.test(t)}function Tt(t){return pn(t,"length",od)}function qt(t){return!!t&&!Number.isNaN(Number(t))}function Jn(t){return pn(t,"number",qt)}function kn(t){return!!t&&Number.isInteger(Number(t))}function Qc(t){return t.endsWith("%")&&qt(t.slice(0,-1))}function ce(t){return Es.test(t)}function Et(t){return Uc.test(t)}const zc=new Set(["length","size","percentage"]);function ed(t){return pn(t,zc,$s)}function td(t){return pn(t,"position",$s)}const nd=new Set(["image","url"]);function rd(t){return pn(t,nd,sd)}function id(t){return pn(t,"",ld)}function Sn(){return!0}function pn(t,e,n){const r=Es.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1}function od(t){return Yc.test(t)&&!Jc.test(t)}function $s(){return!1}function ld(t){return Xc.test(t)}function sd(t){return Zc.test(t)}function si(){const t=Oe("colors"),e=Oe("spacing"),n=Oe("blur"),r=Oe("brightness"),i=Oe("borderColor"),o=Oe("borderRadius"),l=Oe("borderSpacing"),s=Oe("borderWidth"),a=Oe("contrast"),u=Oe("grayscale"),f=Oe("hueRotate"),c=Oe("invert"),d=Oe("gap"),h=Oe("gradientColorStops"),m=Oe("gradientColorStopPositions"),_=Oe("inset"),y=Oe("margin"),S=Oe("opacity"),A=Oe("padding"),$=Oe("saturate"),W=Oe("scale"),L=Oe("sepia"),R=Oe("skew"),x=Oe("space"),D=Oe("translate"),p=()=>["auto","contain","none"],G=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",ce,e],g=()=>[ce,e],b=()=>["",gt,Tt],v=()=>["auto",qt,ce],E=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],N=()=>["solid","dashed","dotted","double","none"],M=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"],q=()=>["start","end","center","between","around","evenly","stretch"],U=()=>["","0",ce],ee=()=>["auto","avoid","all","avoid-page","page","left","right","column"],B=()=>[qt,Jn],te=()=>[qt,ce];return{cacheSize:500,separator:":",theme:{colors:[Sn],spacing:[gt,Tt],blur:["none","",Et,ce],brightness:B(),borderColor:[t],borderRadius:["none","","full",Et,ce],borderSpacing:g(),borderWidth:b(),contrast:B(),grayscale:U(),hueRotate:te(),invert:U(),gap:g(),gradientColorStops:[t],gradientColorStopPositions:[Qc,Tt],inset:I(),margin:I(),opacity:B(),padding:g(),saturate:B(),scale:B(),sepia:U(),skew:te(),space:g(),translate:g()},classGroups:{aspect:[{aspect:["auto","square","video",ce]}],container:["container"],columns:[{columns:[Et]}],"break-after":[{"break-after":ee()}],"break-before":[{"break-before":ee()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...E(),ce]}],overflow:[{overflow:G()}],"overflow-x":[{"overflow-x":G()}],"overflow-y":[{"overflow-y":G()}],overscroll:[{overscroll:p()}],"overscroll-x":[{"overscroll-x":p()}],"overscroll-y":[{"overscroll-y":p()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",kn,ce]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ce]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",kn,ce]}],"grid-cols":[{"grid-cols":[Sn]}],"col-start-end":[{col:["auto",{span:["full",kn,ce]},ce]}],"col-start":[{"col-start":v()}],"col-end":[{"col-end":v()}],"grid-rows":[{"grid-rows":[Sn]}],"row-start-end":[{row:["auto",{span:[kn,ce]},ce]}],"row-start":[{"row-start":v()}],"row-end":[{"row-end":v()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ce]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ce]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal",...q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[A]}],px:[{px:[A]}],py:[{py:[A]}],ps:[{ps:[A]}],pe:[{pe:[A]}],pt:[{pt:[A]}],pr:[{pr:[A]}],pb:[{pb:[A]}],pl:[{pl:[A]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[x]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[x]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ce,e]}],"min-w":[{"min-w":[ce,e,"min","max","fit"]}],"max-w":[{"max-w":[ce,e,"none","full","min","max","fit","prose",{screen:[Et]},Et]}],h:[{h:[ce,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ce,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ce,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ce,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Et,Tt]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Jn]}],"font-family":[{font:[Sn]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ce]}],"line-clamp":[{"line-clamp":["none",qt,Jn]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",gt,ce]}],"list-image":[{"list-image":["none",ce]}],"list-style-type":[{list:["none","disc","decimal",ce]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[S]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[S]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...N(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",gt,Tt]}],"underline-offset":[{"underline-offset":["auto",gt,ce]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:g()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[S]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...E(),td]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",ed]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},rd]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[s]}],"border-w-x":[{"border-x":[s]}],"border-w-y":[{"border-y":[s]}],"border-w-s":[{"border-s":[s]}],"border-w-e":[{"border-e":[s]}],"border-w-t":[{"border-t":[s]}],"border-w-r":[{"border-r":[s]}],"border-w-b":[{"border-b":[s]}],"border-w-l":[{"border-l":[s]}],"border-opacity":[{"border-opacity":[S]}],"border-style":[{border:[...N(),"hidden"]}],"divide-x":[{"divide-x":[s]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[s]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[S]}],"divide-style":[{divide:N()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...N()]}],"outline-offset":[{"outline-offset":[gt,ce]}],"outline-w":[{outline:[gt,Tt]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:b()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[S]}],"ring-offset-w":[{"ring-offset":[gt,Tt]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Et,id]}],"shadow-color":[{shadow:[Sn]}],opacity:[{opacity:[S]}],"mix-blend":[{"mix-blend":M()}],"bg-blend":[{"bg-blend":M()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[a]}],"drop-shadow":[{"drop-shadow":["","none",Et,ce]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[c]}],saturate:[{saturate:[$]}],sepia:[{sepia:[L]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[a]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[c]}],"backdrop-opacity":[{"backdrop-opacity":[S]}],"backdrop-saturate":[{"backdrop-saturate":[$]}],"backdrop-sepia":[{"backdrop-sepia":[L]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ce]}],duration:[{duration:te()}],ease:[{ease:["linear","in","out","in-out",ce]}],delay:[{delay:te()}],animate:[{animate:["none","spin","ping","pulse","bounce",ce]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[W]}],"scale-x":[{"scale-x":[W]}],"scale-y":[{"scale-y":[W]}],rotate:[{rotate:[kn,ce]}],"translate-x":[{"translate-x":[D]}],"translate-y":[{"translate-y":[D]}],"skew-x":[{"skew-x":[R]}],"skew-y":[{"skew-y":[R]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ce]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ce]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":g()}],"scroll-mx":[{"scroll-mx":g()}],"scroll-my":[{"scroll-my":g()}],"scroll-ms":[{"scroll-ms":g()}],"scroll-me":[{"scroll-me":g()}],"scroll-mt":[{"scroll-mt":g()}],"scroll-mr":[{"scroll-mr":g()}],"scroll-mb":[{"scroll-mb":g()}],"scroll-ml":[{"scroll-ml":g()}],"scroll-p":[{"scroll-p":g()}],"scroll-px":[{"scroll-px":g()}],"scroll-py":[{"scroll-py":g()}],"scroll-ps":[{"scroll-ps":g()}],"scroll-pe":[{"scroll-pe":g()}],"scroll-pt":[{"scroll-pt":g()}],"scroll-pr":[{"scroll-pr":g()}],"scroll-pb":[{"scroll-pb":g()}],"scroll-pl":[{"scroll-pl":g()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ce]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[gt,Tt,Jn]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}function ad(t,{cacheSize:e,prefix:n,separator:r,extend:i={},override:o={}}){nr(t,"cacheSize",e),nr(t,"prefix",n),nr(t,"separator",r);for(const l in o)ud(t[l],o[l]);for(const l in i)fd(t[l],i[l]);return t}function nr(t,e,n){n!==void 0&&(t[e]=n)}function ud(t,e){if(e)for(const n in e)nr(t,n,e[n])}function fd(t,e){if(e)for(const n in e){const r=e[n];r!==void 0&&(t[n]=(t[n]||[]).concat(r))}}function cd(t,...e){return typeof t=="function"?li(si,t,...e):li(()=>ad(si(),t),...e)}const Ms=li(si);function dd(t){const e=t-1;return e*e*e+1}function je(...t){return Ms(Pc(t))}const Ps=(t,e={y:-8,x:0,start:.95,duration:150})=>{const n=getComputedStyle(t),r=n.transform==="none"?"":n.transform,i=(l,s,a)=>{const[u,f]=s,[c,d]=a;return(l-u)/(f-u)*(d-c)+c},o=l=>Object.keys(l).reduce((s,a)=>l[a]===void 0?s:s+`${a}:${l[a]};`,"");return{duration:e.duration??200,delay:0,css:l=>{const s=i(l,[0,1],[e.y??5,0]),a=i(l,[0,1],[e.x??0,0]),u=i(l,[0,1],[e.start??.95,1]);return o({transform:`${r} translate3d(${a}px, ${s}px, 0) scale(${u})`,opacity:l})},easing:dd}};function ot(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function pd(t){let e;const n=t[2].default,r=ye(n,t,t[3],null);return{c(){r&&r.c()},m(i,o){r&&r.m(i,o),e=!0},p(i,o){r&&r.p&&(!e||o&8)&&ke(r,n,i,i[3],e?we(n,i[3],o,null):Se(i[3]),null)},i(i){e||(T(r,i),e=!0)},o(i){P(r,i),e=!1},d(i){r&&r.d(i)}}}function hd(t){let e,n;const r=[{class:je("text-lg font-semibold leading-none tracking-tight",t[0])},t[1]];let i={$$slots:{default:[pd]},$$scope:{ctx:t}};for(let o=0;o<r.length;o+=1)i=z(i,r[o]);return e=new Mf({props:i}),{c(){Q(e.$$.fragment)},m(o,l){X(e,o,l),n=!0},p(o,[l]){const s=l&3?be(r,[l&1&&{class:je("text-lg font-semibold leading-none tracking-tight",o[0])},l&2&&Nt(o[1])]):{};l&8&&(s.$$scope={dirty:l,ctx:o}),e.$set(s)},i(o){n||(T(e.$$.fragment,o),n=!0)},o(o){P(e.$$.fragment,o),n=!1},d(o){Z(e,o)}}}function md(t,e,n){const r=["class"];let i=fe(e,r),{$$slots:o={},$$scope:l}=e,{class:s=void 0}=e;return t.$$set=a=>{e=z(z({},e),Fe(a)),n(1,i=fe(e,r)),"class"in a&&n(0,s=a.class),"$$scope"in a&&n(3,l=a.$$scope)},[s,i,o,l]}class hn extends pe{constructor(e){super(),de(this,e,md,hd,ae,{class:0})}}function _d(t){let e;const n=t[1].default,r=ye(n,t,t[2],null);return{c(){r&&r.c()},m(i,o){r&&r.m(i,o),e=!0},p(i,o){r&&r.p&&(!e||o&4)&&ke(r,n,i,i[2],e?we(n,i[2],o,null):Se(i[2]),null)},i(i){e||(T(r,i),e=!0)},o(i){P(r,i),e=!1},d(i){r&&r.d(i)}}}function gd(t){let e,n;const r=[t[0]];let i={$$slots:{default:[_d]},$$scope:{ctx:t}};for(let o=0;o<r.length;o+=1)i=z(i,r[o]);return e=new Wf({props:i}),{c(){Q(e.$$.fragment)},m(o,l){X(e,o,l),n=!0},p(o,[l]){const s=l&1?be(r,[Nt(o[0])]):{};l&4&&(s.$$scope={dirty:l,ctx:o}),e.$set(s)},i(o){n||(T(e.$$.fragment,o),n=!0)},o(o){P(e.$$.fragment,o),n=!1},d(o){Z(e,o)}}}function bd(t,e,n){const r=[];let i=fe(e,r),{$$slots:o={},$$scope:l}=e;return t.$$set=s=>{e=z(z({},e),Fe(s)),n(0,i=fe(e,r)),"$$scope"in s&&n(2,l=s.$$scope)},[i,o,l]}class vd extends pe{constructor(e){super(),de(this,e,bd,gd,ae,{})}}function yd(t){let e,n,r;const i=t[3].default,o=ye(i,t,t[2],null);let l=[{class:n=je("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t[0])},t[1]],s={};for(let a=0;a<l.length;a+=1)s=z(s,l[a]);return{c(){e=O("div"),o&&o.c(),he(e,s)},m(a,u){C(a,e,u),o&&o.m(e,null),r=!0},p(a,[u]){o&&o.p&&(!r||u&4)&&ke(o,i,a,a[2],r?we(i,a[2],u,null):Se(a[2]),null),he(e,s=be(l,[(!r||u&1&&n!==(n=je("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a[0])))&&{class:n},u&2&&a[1]]))},i(a){r||(T(o,a),r=!0)},o(a){P(o,a),r=!1},d(a){a&&k(e),o&&o.d(a)}}}function wd(t,e,n){const r=["class"];let i=fe(e,r),{$$slots:o={},$$scope:l}=e,{class:s=void 0}=e;return t.$$set=a=>{e=z(z({},e),Fe(a)),n(1,i=fe(e,r)),"class"in a&&n(0,s=a.class),"$$scope"in a&&n(2,l=a.$$scope)},[s,i,l,o]}class jn extends pe{constructor(e){super(),de(this,e,wd,yd,ae,{class:0})}}function kd(t){let e,n,r;const i=t[3].default,o=ye(i,t,t[2],null);let l=[{class:n=je("flex flex-col space-y-1.5 text-center sm:text-left",t[0])},t[1]],s={};for(let a=0;a<l.length;a+=1)s=z(s,l[a]);return{c(){e=O("div"),o&&o.c(),he(e,s)},m(a,u){C(a,e,u),o&&o.m(e,null),r=!0},p(a,[u]){o&&o.p&&(!r||u&4)&&ke(o,i,a,a[2],r?we(i,a[2],u,null):Se(a[2]),null),he(e,s=be(l,[(!r||u&1&&n!==(n=je("flex flex-col space-y-1.5 text-center sm:text-left",a[0])))&&{class:n},u&2&&a[1]]))},i(a){r||(T(o,a),r=!0)},o(a){P(o,a),r=!1},d(a){a&&k(e),o&&o.d(a)}}}function Sd(t,e,n){const r=["class"];let i=fe(e,r),{$$slots:o={},$$scope:l}=e,{class:s=void 0}=e;return t.$$set=a=>{e=z(z({},e),Fe(a)),n(1,i=fe(e,r)),"class"in a&&n(0,s=a.class),"$$scope"in a&&n(2,l=a.$$scope)},[s,i,l,o]}class mn extends pe{constructor(e){super(),de(this,e,Sd,kd,ae,{class:0})}}function Ad(t,{delay:e=0,duration:n=400,easing:r=Pr}={}){const i=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:r,css:o=>`opacity: ${o*i}`}}function Cd(t){let e,n;const r=[{transition:t[1]},{transitionConfig:t[2]},{class:je("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm",t[0])},t[3]];let i={};for(let o=0;o<r.length;o+=1)i=z(i,r[o]);return e=new _c({props:i}),{c(){Q(e.$$.fragment)},m(o,l){X(e,o,l),n=!0},p(o,[l]){const s=l&15?be(r,[l&2&&{transition:o[1]},l&4&&{transitionConfig:o[2]},l&1&&{class:je("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm",o[0])},l&8&&Nt(o[3])]):{};e.$set(s)},i(o){n||(T(e.$$.fragment,o),n=!0)},o(o){P(e.$$.fragment,o),n=!1},d(o){Z(e,o)}}}function Nd(t,e,n){const r=["class","transition","transitionConfig"];let i=fe(e,r),{class:o=void 0}=e,{transition:l=Ad}=e,{transitionConfig:s={duration:150}}=e;return t.$$set=a=>{e=z(z({},e),Fe(a)),n(3,i=fe(e,r)),"class"in a&&n(0,o=a.class),"transition"in a&&n(1,l=a.transition),"transitionConfig"in a&&n(2,s=a.transitionConfig)},[o,l,s,i]}class Id extends pe{constructor(e){super(),de(this,e,Nd,Cd,ae,{class:0,transition:1,transitionConfig:2})}}/**
 * @license lucide-svelte v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Td={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"},Po=Td;function Oo(t,e,n){const r=t.slice();return r[10]=e[n][0],r[11]=e[n][1],r}function Kr(t){let e,n=[t[11]],r={};for(let i=0;i<n.length;i+=1)r=z(r,n[i]);return{c(){e=Or(t[10]),sr(e,r)},m(i,o){C(i,e,o)},p(i,o){sr(e,r=be(n,[o&32&&i[11]]))},d(i){i&&k(e)}}}function Lo(t){let e=t[10],n,r=t[10]&&Kr(t);return{c(){r&&r.c(),n=Me()},m(i,o){r&&r.m(i,o),C(i,n,o)},p(i,o){i[10]?e?ae(e,i[10])?(r.d(1),r=Kr(i),e=i[10],r.c(),r.m(n.parentNode,n)):r.p(i,o):(r=Kr(i),e=i[10],r.c(),r.m(n.parentNode,n)):e&&(r.d(1),r=null,e=i[10])},d(i){i&&k(n),r&&r.d(i)}}}function Ed(t){let e,n,r,i,o,l=He(t[5]),s=[];for(let d=0;d<l.length;d+=1)s[d]=Lo(Oo(t,l,d));const a=t[9].default,u=ye(a,t,t[8],null);let f=[Po,t[6],{width:t[2]},{height:t[2]},{stroke:t[1]},{"stroke-width":r=t[4]?Number(t[3])*24/Number(t[2]):t[3]},{class:i=`lucide-icon lucide lucide-${t[0]} ${t[7].class??""}`}],c={};for(let d=0;d<f.length;d+=1)c=z(c,f[d]);return{c(){e=Or("svg");for(let d=0;d<s.length;d+=1)s[d].c();n=Me(),u&&u.c(),sr(e,c)},m(d,h){C(d,e,h);for(let m=0;m<s.length;m+=1)s[m]&&s[m].m(e,null);w(e,n),u&&u.m(e,null),o=!0},p(d,[h]){if(h&32){l=He(d[5]);let m;for(m=0;m<l.length;m+=1){const _=Oo(d,l,m);s[m]?s[m].p(_,h):(s[m]=Lo(_),s[m].c(),s[m].m(e,n))}for(;m<s.length;m+=1)s[m].d(1);s.length=l.length}u&&u.p&&(!o||h&256)&&ke(u,a,d,d[8],o?we(a,d[8],h,null):Se(d[8]),null),sr(e,c=be(f,[Po,h&64&&d[6],(!o||h&4)&&{width:d[2]},(!o||h&4)&&{height:d[2]},(!o||h&2)&&{stroke:d[1]},(!o||h&28&&r!==(r=d[4]?Number(d[3])*24/Number(d[2]):d[3]))&&{"stroke-width":r},(!o||h&129&&i!==(i=`lucide-icon lucide lucide-${d[0]} ${d[7].class??""}`))&&{class:i}]))},i(d){o||(T(u,d),o=!0)},o(d){P(u,d),o=!1},d(d){d&&k(e),Ct(s,d),u&&u.d(d)}}}function $d(t,e,n){const r=["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"];let i=fe(e,r),{$$slots:o={},$$scope:l}=e,{name:s}=e,{color:a="currentColor"}=e,{size:u=24}=e,{strokeWidth:f=2}=e,{absoluteStrokeWidth:c=!1}=e,{iconNode:d}=e;return t.$$set=h=>{n(7,e=z(z({},e),Fe(h))),n(6,i=fe(e,r)),"name"in h&&n(0,s=h.name),"color"in h&&n(1,a=h.color),"size"in h&&n(2,u=h.size),"strokeWidth"in h&&n(3,f=h.strokeWidth),"absoluteStrokeWidth"in h&&n(4,c=h.absoluteStrokeWidth),"iconNode"in h&&n(5,d=h.iconNode),"$$scope"in h&&n(8,l=h.$$scope)},e=Fe(e),[s,a,u,f,c,d,i,e,l,o]}class Md extends pe{constructor(e){super(),de(this,e,$d,Ed,ae,{name:0,color:1,size:2,strokeWidth:3,absoluteStrokeWidth:4,iconNode:5})}}function Pd(t){let e;const n=t[2].default,r=ye(n,t,t[3],null);return{c(){r&&r.c()},m(i,o){r&&r.m(i,o),e=!0},p(i,o){r&&r.p&&(!e||o&8)&&ke(r,n,i,i[3],e?we(n,i[3],o,null):Se(i[3]),null)},i(i){e||(T(r,i),e=!0)},o(i){P(r,i),e=!1},d(i){r&&r.d(i)}}}function Od(t){let e,n;const r=[{name:"x"},t[1],{iconNode:t[0]}];let i={$$slots:{default:[Pd]},$$scope:{ctx:t}};for(let o=0;o<r.length;o+=1)i=z(i,r[o]);return e=new Md({props:i}),{c(){Q(e.$$.fragment)},m(o,l){X(e,o,l),n=!0},p(o,[l]){const s=l&3?be(r,[r[0],l&2&&Nt(o[1]),l&1&&{iconNode:o[0]}]):{};l&8&&(s.$$scope={dirty:l,ctx:o}),e.$set(s)},i(o){n||(T(e.$$.fragment,o),n=!0)},o(o){P(e.$$.fragment,o),n=!1},d(o){Z(e,o)}}}function Ld(t,e,n){let{$$slots:r={},$$scope:i}=e;const o=[["path",{d:"M18 6 6 18"}],["path",{d:"m6 6 12 12"}]];return t.$$set=l=>{n(1,e=z(z({},e),Fe(l))),"$$scope"in l&&n(3,i=l.$$scope)},e=Fe(e),[o,e,r,i]}class Fd extends pe{constructor(e){super(),de(this,e,Ld,Od,ae,{})}}function Rd(t){let e,n,r,i;return e=new Fd({props:{class:"h-4 w-4"}}),{c(){Q(e.$$.fragment),n=V(),r=O("span"),r.textContent="Close",F(r,"class","sr-only")},m(o,l){X(e,o,l),C(o,n,l),C(o,r,l),i=!0},p:oe,i(o){i||(T(e.$$.fragment,o),i=!0)},o(o){P(e.$$.fragment,o),i=!1},d(o){o&&(k(n),k(r)),Z(e,o)}}}function xd(t){let e,n,r;const i=t[4].default,o=ye(i,t,t[5],null);return n=new qf({props:{class:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",$$slots:{default:[Rd]},$$scope:{ctx:t}}}),{c(){o&&o.c(),e=V(),Q(n.$$.fragment)},m(l,s){o&&o.m(l,s),C(l,e,s),X(n,l,s),r=!0},p(l,s){o&&o.p&&(!r||s&32)&&ke(o,i,l,l[5],r?we(i,l[5],s,null):Se(l[5]),null);const a={};s&32&&(a.$$scope={dirty:s,ctx:l}),n.$set(a)},i(l){r||(T(o,l),T(n.$$.fragment,l),r=!0)},o(l){P(o,l),P(n.$$.fragment,l),r=!1},d(l){l&&k(e),o&&o.d(l),Z(n,l)}}}function qd(t){let e,n,r,i;e=new Id({});const o=[{transition:t[1]},{transitionConfig:t[2]},{class:je("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg md:w-full",t[0])},t[3]];let l={$$slots:{default:[xd]},$$scope:{ctx:t}};for(let s=0;s<o.length;s+=1)l=z(l,o[s]);return r=new lc({props:l}),{c(){Q(e.$$.fragment),n=V(),Q(r.$$.fragment)},m(s,a){X(e,s,a),C(s,n,a),X(r,s,a),i=!0},p(s,a){const u=a&15?be(o,[a&2&&{transition:s[1]},a&4&&{transitionConfig:s[2]},a&1&&{class:je("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg md:w-full",s[0])},a&8&&Nt(s[3])]):{};a&32&&(u.$$scope={dirty:a,ctx:s}),r.$set(u)},i(s){i||(T(e.$$.fragment,s),T(r.$$.fragment,s),i=!0)},o(s){P(e.$$.fragment,s),P(r.$$.fragment,s),i=!1},d(s){s&&k(n),Z(e,s),Z(r,s)}}}function Dd(t){let e,n;return e=new vd({props:{$$slots:{default:[qd]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment)},m(r,i){X(e,r,i),n=!0},p(r,[i]){const o={};i&47&&(o.$$scope={dirty:i,ctx:r}),e.$set(o)},i(r){n||(T(e.$$.fragment,r),n=!0)},o(r){P(e.$$.fragment,r),n=!1},d(r){Z(e,r)}}}function Bd(t,e,n){const r=["class","transition","transitionConfig"];let i=fe(e,r),{$$slots:o={},$$scope:l}=e,{class:s=void 0}=e,{transition:a=Ps}=e,{transitionConfig:u={duration:200}}=e;return t.$$set=f=>{e=z(z({},e),Fe(f)),n(3,i=fe(e,r)),"class"in f&&n(0,s=f.class),"transition"in f&&n(1,a=f.transition),"transitionConfig"in f&&n(2,u=f.transitionConfig),"$$scope"in f&&n(5,l=f.$$scope)},[s,a,u,i,o,l]}class _n extends pe{constructor(e){super(),de(this,e,Bd,Dd,ae,{class:0,transition:1,transitionConfig:2})}}function Gd(t){let e;const n=t[2].default,r=ye(n,t,t[3],null);return{c(){r&&r.c()},m(i,o){r&&r.m(i,o),e=!0},p(i,o){r&&r.p&&(!e||o&8)&&ke(r,n,i,i[3],e?we(n,i[3],o,null):Se(i[3]),null)},i(i){e||(T(r,i),e=!0)},o(i){P(r,i),e=!1},d(i){r&&r.d(i)}}}function Hd(t){let e,n;const r=[{class:je("text-sm text-muted-foreground",t[0])},t[1]];let i={$$slots:{default:[Gd]},$$scope:{ctx:t}};for(let o=0;o<r.length;o+=1)i=z(i,r[o]);return e=new Sc({props:i}),{c(){Q(e.$$.fragment)},m(o,l){X(e,o,l),n=!0},p(o,[l]){const s=l&3?be(r,[l&1&&{class:je("text-sm text-muted-foreground",o[0])},l&2&&Nt(o[1])]):{};l&8&&(s.$$scope={dirty:l,ctx:o}),e.$set(s)},i(o){n||(T(e.$$.fragment,o),n=!0)},o(o){P(e.$$.fragment,o),n=!1},d(o){Z(e,o)}}}function jd(t,e,n){const r=["class"];let i=fe(e,r),{$$slots:o={},$$scope:l}=e,{class:s=void 0}=e;return t.$$set=a=>{e=z(z({},e),Fe(a)),n(1,i=fe(e,r)),"class"in a&&n(0,s=a.class),"$$scope"in a&&n(3,l=a.$$scope)},[s,i,o,l]}class gn extends pe{constructor(e){super(),de(this,e,jd,Hd,ae,{class:0})}}const bn=Af;function Vd(t){let e,n;const r=[{class:je("shrink-0 bg-border",t[1]==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t[0])},{orientation:t[1]},{decorative:t[2]},t[3]];let i={};for(let o=0;o<r.length;o+=1)i=z(i,r[o]);return e=new vf({props:i}),{c(){Q(e.$$.fragment)},m(o,l){X(e,o,l),n=!0},p(o,[l]){const s=l&15?be(r,[l&3&&{class:je("shrink-0 bg-border",o[1]==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",o[0])},l&2&&{orientation:o[1]},l&4&&{decorative:o[2]},l&8&&Nt(o[3])]):{};e.$set(s)},i(o){n||(T(e.$$.fragment,o),n=!0)},o(o){P(e.$$.fragment,o),n=!1},d(o){Z(e,o)}}}function Wd(t,e,n){const r=["class","orientation","decorative"];let i=fe(e,r),{class:o=void 0}=e,{orientation:l="horizontal"}=e,{decorative:s=void 0}=e;return t.$$set=a=>{e=z(z({},e),Fe(a)),n(3,i=fe(e,r)),"class"in a&&n(0,o=a.class),"orientation"in a&&n(1,l=a.orientation),"decorative"in a&&n(2,s=a.decorative)},[o,l,s,i]}class Os extends pe{constructor(e){super(),de(this,e,Wd,Vd,ae,{class:0,orientation:1,decorative:2})}}function Kd(t){let e,n,r,i,o=[{class:n=je("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t[1])},t[2]],l={};for(let s=0;s<o.length;s+=1)l=z(l,o[s]);return{c(){e=O("input"),he(e,l)},m(s,a){C(s,e,a),e.autofocus&&e.focus(),yt(e,t[0]),r||(i=[J(e,"input",t[17]),J(e,"blur",t[3]),J(e,"change",t[4]),J(e,"click",t[5]),J(e,"focus",t[6]),J(e,"focusin",t[7]),J(e,"focusout",t[8]),J(e,"keydown",t[9]),J(e,"keypress",t[10]),J(e,"keyup",t[11]),J(e,"mouseover",t[12]),J(e,"mouseenter",t[13]),J(e,"mouseleave",t[14]),J(e,"paste",t[15]),J(e,"input",t[16])],r=!0)},p(s,[a]){he(e,l=be(o,[a&2&&n!==(n=je("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s[1]))&&{class:n},a&4&&s[2]])),a&1&&e.value!==s[0]&&yt(e,s[0])},i:oe,o:oe,d(s){s&&k(e),r=!1,$e(i)}}}function Ud(t,e,n){const r=["class","value"];let i=fe(e,r),{class:o=void 0}=e,{value:l=void 0}=e;function s(R){ne.call(this,t,R)}function a(R){ne.call(this,t,R)}function u(R){ne.call(this,t,R)}function f(R){ne.call(this,t,R)}function c(R){ne.call(this,t,R)}function d(R){ne.call(this,t,R)}function h(R){ne.call(this,t,R)}function m(R){ne.call(this,t,R)}function _(R){ne.call(this,t,R)}function y(R){ne.call(this,t,R)}function S(R){ne.call(this,t,R)}function A(R){ne.call(this,t,R)}function $(R){ne.call(this,t,R)}function W(R){ne.call(this,t,R)}function L(){l=this.value,n(0,l)}return t.$$set=R=>{e=z(z({},e),Fe(R)),n(2,i=fe(e,r)),"class"in R&&n(1,o=R.class),"value"in R&&n(0,l=R.value)},[l,o,i,s,a,u,f,c,d,h,m,_,y,S,A,$,W,L]}class Ri extends pe{constructor(e){super(),de(this,e,Ud,Kd,ae,{class:1,value:0})}}function Fo(t,e,n){const r=t.slice();return r[8]=e[n],r}function Ro(t){let e,n=t[8].subtitle+"",r;return{c(){e=new $a(!1),r=Me(),e.a=r},m(i,o){e.m(n,i,o),C(i,r,o)},p(i,o){o&1&&n!==(n=i[8].subtitle+"")&&e.p(n)},d(i){i&&(k(r),e.d())}}}function xo(t){let e,n,r=t[8].label+"",i,o,l,s=t[8].value+"",a,u,f,c,d,h,m=t[8].subtitle!=null&&Ro(t);return{c(){e=O("div"),n=O("span"),i=j(r),o=V(),l=O("span"),a=j(s),u=V(),m&&m.c(),f=V(),F(n,"class","text-xs pl-4 pr-4 rounded-lg"),F(l,"class","text-xs text-slate-500"),F(e,"class",c="flex flex-col items-center text-center flex-1 "+(t[2]=="true"?"cursor-pointer":""))},m(_,y){C(_,e,y),w(e,n),w(n,i),w(e,o),w(e,l),w(l,a),w(l,u),m&&m.m(l,null),w(e,f),d||(h=J(e,"click",function(){At(t[2]=="true"?t[8].tap:null)&&(t[2]=="true"?t[8].tap:null).apply(this,arguments)}),d=!0)},p(_,y){t=_,y&1&&r!==(r=t[8].label+"")&&se(i,r),y&1&&s!==(s=t[8].value+"")&&se(a,s),t[8].subtitle!=null?m?m.p(t,y):(m=Ro(t),m.c(),m.m(l,null)):m&&(m.d(1),m=null),y&4&&c!==(c="flex flex-col items-center text-center flex-1 "+(t[2]=="true"?"cursor-pointer":""))&&F(e,"class",c)},d(_){_&&k(e),m&&m.d(),d=!1,h()}}}function Yd(t){let e,n,r=He(t[0]),i=[];for(let o=0;o<r.length;o+=1)i[o]=xo(Fo(t,r,o));return{c(){e=O("div");for(let o=0;o<i.length;o+=1)i[o].c();F(e,"class",n="flex flex-row justify-between pr-5 pl-5 "+t[1])},m(o,l){C(o,e,l);for(let s=0;s<i.length;s+=1)i[s]&&i[s].m(e,null)},p(o,[l]){if(l&5){r=He(o[0]);let s;for(s=0;s<r.length;s+=1){const a=Fo(o,r,s);i[s]?i[s].p(a,l):(i[s]=xo(a),i[s].c(),i[s].m(e,null))}for(;s<i.length;s+=1)i[s].d(1);i.length=r.length}l&2&&n!==(n="flex flex-row justify-between pr-5 pl-5 "+o[1])&&F(e,"class",n)},i:oe,o:oe,d(o){o&&k(e),Ct(i,o)}}}function vt(t,e){if(e===void 0&&(e=0),t==null||t==null)return 0;t=parseFloat((t*Math.pow(10,e)).toFixed(11));var n=Math.round(t)/Math.pow(10,e);return+n.toFixed(e)}function Jd(t,e,n){let r,i,o;ie(t,Te,f=>n(5,r=f)),ie(t,hr,f=>n(6,i=f)),ie(t,mr,f=>n(7,o=f));let{stats:l=[]}=e,{classText:s=""}=e,{clickEvents:a="true"}=e;function u(){let f=r;f.hasBank===!0?(f.townInfo.gold+=f.townInfo.gold_from_tourism,f.townInfo.gold_from_tourism=0,Te.set(f),localStorage.setItem(rt,JSON.stringify(f))):alert("You need a bank to transfer funds from tourism activities.")}return t.$$set=f=>{"stats"in f&&n(0,l=f.stats),"classText"in f&&n(1,s=f.classText),"clickEvents"in f&&n(2,a=f.clickEvents)},t.$$.update=()=>{t.$$.dirty&228&&n(0,l=[{label:"Population",value:`${ot(r.townInfo.population_count)}/${ot(r.townInfo.population_max)}`,subtitle:`<span
					class='
						rounded-full px-1 py-1 text-xs
						${r.townInfo.population_count<r.townInfo.population_max?"text-red-500":"text-green-500"}
					'>
					${ot(r.townInfo.population_max-r.townInfo.population_count)}
				</span>`,tap:()=>{}},{label:"Employees",value:`${ot(r.townInfo.employees)}/${ot(r.townInfo.population_count)}`,subtitle:`<span
					class='
						rounded-full px-1 py-1 text-xs
						${r.townInfo.employees<r.townInfo.population_count?"text-red-500":"text-green-500"}
					'>
					${ot(r.townInfo.population_count-r.townInfo.employees)}
				</span>`,tap:()=>{}},{label:"Knowledge",value:ot(r.townInfo.knowledge_points)+`${a=="true"?" (click me)":""}`,tap:()=>{Ce(mr,o=!o,o)}},{label:"Gold",value:"$"+ot(vt(r.townInfo.gold,0)),subtitle:`<span
					class='
						rounded-full px-1 py-1 text-xs
						${r.economyAndLaws.last_month_profit<0?"text-red-500":"text-green-500"}
					'>
					${ot(vt(r.economyAndLaws.last_month_profit,0))}
				</span>`,tap:()=>{Ce(hr,i=!i,i)}},{label:"Tourism 💰",value:"$"+ot(vt(r.townInfo.gold_from_tourism,0)),tap:()=>{u()}},{label:"Happiness",value:`${vt(r.townInfo.happiness/3,0)}/100`,subtitle:`<span
					class='
						rounded-full px-1 py-1 text-xs text-slate-600
						${r.townInfo.happiness<50?"text-red-500":"text-green-500"}
					'>
					${r.modifiers.happiness<1?"🔴":"🟢"} (${vt(r.modifiers.happiness,2)}x)
				</span>`,tap:()=>{}},{label:"Health",value:`${vt(r.townInfo.health/3,0)}/100`,subtitle:`<span
					class='
						rounded-full px-1 py-1 text-xs text-slate-600
						${r.townInfo.health<50?"text-red-500":"text-green-500"}
					'>
					${r.modifiers.health<1?"🔴":"🟢"} (${vt(r.modifiers.health,2)}x)
				</span>`,tap:()=>{}}])},[l,s,a,vt,u,r,i,o]}class Ls extends pe{constructor(e){super(),de(this,e,Jd,Yd,ae,{stats:0,classText:1,clickEvents:2,roundTo:3,transferFundsFromBank:4})}get roundTo(){return vt}get transferFundsFromBank(){return this.$$.ctx[4]}}function qo(t,e,n){const r=t.slice();return r[28]=e[n],r}function Do(t,e,n){const r=t.slice();return r[31]=e[n],r}function Bo(t,e,n){const r=t.slice();return r[28]=e[n],r}function Xd(t){let e,n;return{c(){e=O("span"),n=j("Set this Plot"),F(e,"class","text-2xl font-bold")},m(r,i){C(r,e,i),C(r,n,i)},p:oe,d(r){r&&(k(e),k(n))}}}function Go(t){let e,n;return e=new gn({props:{class:"text-sm",$$slots:{default:[Zd]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment)},m(r,i){X(e,r,i),n=!0},p(r,i){const o={};i[0]&2|i[1]&32&&(o.$$scope={dirty:i,ctx:r}),e.$set(o)},i(r){n||(T(e.$$.fragment,r),n=!0)},o(r){P(e.$$.fragment,r),n=!1},d(r){Z(e,r)}}}function Zd(t){let e;return{c(){e=j(t[1])},m(n,r){C(n,e,r)},p(n,r){r[0]&2&&se(e,n[1])},d(n){n&&k(e)}}}function Qd(t){let e,n,r,i,o,l,s,a,u;e=new hn({props:{class:"text-2xl font-bold",$$slots:{default:[Xd]},$$scope:{ctx:t}}});let f=t[1]!==""&&Go(t);return l=new Ls({props:{classText:"w-full",clickEvents:"false"}}),{c(){Q(e.$$.fragment),n=V(),f&&f.c(),r=V(),i=O("div"),o=V(),Q(l.$$.fragment),s=V(),a=O("div"),F(i,"class","mt-4"),F(a,"class","mb-4")},m(c,d){X(e,c,d),C(c,n,d),f&&f.m(c,d),C(c,r,d),C(c,i,d),C(c,o,d),X(l,c,d),C(c,s,d),C(c,a,d),u=!0},p(c,d){const h={};d[1]&32&&(h.$$scope={dirty:d,ctx:c}),e.$set(h),c[1]!==""?f?(f.p(c,d),d[0]&2&&T(f,1)):(f=Go(c),f.c(),T(f,1),f.m(r.parentNode,r)):f&&(xe(),P(f,1,1,()=>{f=null}),qe())},i(c){u||(T(e.$$.fragment,c),T(f),T(l.$$.fragment,c),u=!0)},o(c){P(e.$$.fragment,c),P(f),P(l.$$.fragment,c),u=!1},d(c){c&&(k(n),k(r),k(i),k(o),k(s),k(a)),Z(e,c),f&&f.d(c),Z(l,c)}}}function Ho(t){let e,n,r;return{c(){e=O("button"),e.textContent="🔥 Bulldoze",F(e,"id","bulldoze"),F(e,"class","px-2 py-2 bg-red-500 text-white rounded hover:bg-red-600 transition duration-300 ease-in-out")},m(i,o){C(i,e,o),n||(r=J(e,"click",t[13]),n=!0)},p:oe,d(i){i&&k(e),n=!1,r()}}}function zd(t){let e;return{c(){e=j("No options")},m(n,r){C(n,e,r)},p:oe,d(n){n&&k(e)}}}function ep(t){let e,n=He(t[7]),r=[];for(let i=0;i<n.length;i+=1)r[i]=Vo(Bo(t,n,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();e=Me()},m(i,o){for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(i,o);C(i,e,o)},p(i,o){if(o[0]&128){n=He(i[7]);let l;for(l=0;l<n.length;l+=1){const s=Bo(i,n,l);r[l]?r[l].p(s,o):(r[l]=Vo(s),r[l].c(),r[l].m(e.parentNode,e))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}},d(i){i&&k(e),Ct(r,i)}}}function jo(t){let e,n=zo(t[28].title)+"",r,i,o;function l(){return t[20](t[28])}return{c(){e=O("span"),r=j(n),F(e,"class","text-xl cursor-pointer hover:bg-slate-300 rounded-lg p-1")},m(s,a){C(s,e,a),w(e,r),i||(o=J(e,"click",l),i=!0)},p(s,a){t=s,a[0]&128&&n!==(n=zo(t[28].title)+"")&&se(r,n)},d(s){s&&k(e),i=!1,o()}}}function Vo(t){let e,n=t[28].affordable&&jo(t);return{c(){n&&n.c(),e=Me()},m(r,i){n&&n.m(r,i),C(r,e,i)},p(r,i){r[28].affordable?n?n.p(r,i):(n=jo(r),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(r){r&&k(e),n&&n.d(r)}}}function Wo(t){let e,n,r,i=dt(t[8].economyAndLaws.tax_rate*t[28].revenue_per_week,2)+"",o;return{c(){e=O("div"),n=O("span"),r=j("$"),o=j(i)},m(l,s){C(l,e,s),w(e,n),w(n,r),w(n,o)},p(l,s){s[0]&384&&i!==(i=dt(l[8].economyAndLaws.tax_rate*l[28].revenue_per_week,2)+"")&&se(o,i)},d(l){l&&k(e)}}}function Ko(t){let e,n,r=t[28].requirements.knowledge+"",i,o;return{c(){e=O("br"),n=V(),i=j(r),o=j(" KPts")},m(l,s){C(l,e,s),C(l,n,s),C(l,i,s),C(l,o,s)},p(l,s){s[0]&128&&r!==(r=l[28].requirements.knowledge+"")&&se(i,r)},d(l){l&&(k(e),k(n),k(i),k(o))}}}function tp(t){let e;return{c(){e=O("span"),e.textContent="❌",F(e,"class","text-red-500")},m(n,r){C(n,e,r)},d(n){n&&k(e)}}}function np(t){let e;return{c(){e=O("span"),e.textContent="✅",F(e,"class","text-green-500")},m(n,r){C(n,e,r)},d(n){n&&k(e)}}}function Uo(t){let e,n,r=t[31]+"",i,o,l;function s(f,c){return c[0]&384&&(e=null),e==null&&(e=!!Mi(f[31],f[8])),e?np:tp}let a=s(t,[-1,-1]),u=a(t);return{c(){u.c(),n=V(),i=j(r),o=V(),l=O("br")},m(f,c){u.m(f,c),C(f,n,c),C(f,i,c),C(f,o,c),C(f,l,c)},p(f,c){a!==(a=s(f,c))&&(u.d(1),u=a(f),u&&(u.c(),u.m(n.parentNode,n))),c[0]&128&&r!==(r=f[31]+"")&&se(i,r)},d(f){f&&(k(n),k(i),k(o),k(l)),u.d(f)}}}function Yo(t){let e,n=yr(t[28].effect_modifiers.happiness)+"",r;return{c(){e=j("😀 "),r=j(n)},m(i,o){C(i,e,o),C(i,r,o)},p(i,o){o[0]&128&&n!==(n=yr(i[28].effect_modifiers.happiness)+"")&&se(r,n)},d(i){i&&(k(e),k(r))}}}function Jo(t){let e,n=yr(t[28].effect_modifiers.health)+"",r;return{c(){e=j("😷 "),r=j(n)},m(i,o){C(i,e,o),C(i,r,o)},p(i,o){o[0]&128&&n!==(n=yr(i[28].effect_modifiers.health)+"")&&se(r,n)},d(i){i&&(k(e),k(r))}}}function Xo(t){let e,n=wr(t[28].immediate_variable_changes.happiness)+"",r;return{c(){e=j("😀 "),r=j(n)},m(i,o){C(i,e,o),C(i,r,o)},p(i,o){o[0]&128&&n!==(n=wr(i[28].immediate_variable_changes.happiness)+"")&&se(r,n)},d(i){i&&(k(e),k(r))}}}function Zo(t){let e,n,r=wr(t[28].immediate_variable_changes.health)+"",i;return{c(){e=O("br"),n=j(`
									😷 `),i=j(r)},m(o,l){C(o,e,l),C(o,n,l),C(o,i,l)},p(o,l){l[0]&128&&r!==(r=wr(o[28].immediate_variable_changes.health)+"")&&se(i,r)},d(o){o&&(k(e),k(n),k(i))}}}function Qo(t,e){let n,r,i=e[28].selected?`✅ SELECTED ${e[28].title.substring(2)}`:`${e[28].title}`,o,l,s,a=e[28].description+"",u,f,c,d,h=(e[28].requirements.employees||"")+"",m,_,y,S,A,$=el(e[28].requirements.gold)+"",W,L,R,x,D,p,G,I,g,b,v,E,N,M,q,U,ee,B=e[28].revenue_per_week>0&&Wo(e),te=e[28].requirements.knowledge>0&&Ko(e),ue=He(e[28].requirements.plots),K=[];for(let Ae=0;Ae<ue.length;Ae+=1)K[Ae]=Uo(Do(e,ue,Ae));let Y=e[28].effect_modifiers.happiness!=1&&Yo(e),le=e[28].effect_modifiers.health!=1&&Jo(e),_e=e[28].immediate_variable_changes.happiness!=0&&Xo(e),Re=e[28].immediate_variable_changes.health!=0&&Zo(e);return{key:t,first:null,c(){n=O("tr"),r=O("td"),o=j(i),l=V(),s=O("td"),u=V(),f=O("td"),B&&B.c(),c=V(),d=O("td"),m=j(h),y=V(),S=O("td"),A=j("$"),W=j($),L=V(),te&&te.c(),x=V(),D=O("td"),p=O("div");for(let Ae=0;Ae<K.length;Ae+=1)K[Ae].c();G=V(),I=O("td"),g=O("div"),Y&&Y.c(),b=V(),v=O("div"),le&&le.c(),E=V(),N=O("td"),_e&&_e.c(),M=V(),Re&&Re.c(),q=V(),F(r,"class","px-2 py-2 w-12"),F(s,"class","px-2 py-2 w-24"),F(f,"class","px-2 py-2 w-12 font-bold"),F(d,"class",_="px-2 py-2 w-8 "+(e[28].requirements.employees>e[8].townInfo.population_count-e[8].townInfo.employees?"underline bg-red-800 text-white":"")),F(S,"class",R="px-2 py-2 w-8 "+(e[28].requirements.gold>e[8].townInfo.gold?"underline bg-red-800 text-white border-none":"")),F(D,"class","px-2 py-2 w-12"),F(g,"class","text-xs"),F(v,"class","mt-2"),F(I,"class","px-2 py-2 w-12 text-xs"),F(N,"class","px-2 py-2 w-12"),F(n,"class",U="plotOption border-b border-black "+(e[28].affordable?"cursor-pointer":"unaffordable cursor-not-allowed bg-gray-200")+" "+(e[28].selected?"italic font-light opacity-50 ":"")+" svelte-bq7iir"),F(n,"data-plotoptionid",ee=e[28].id),on(n,"background-color",e[28].selected?"gray":pr(e[11](e[28].id),e[4](e[2],e[3]))),this.first=n},m(Ae,Ie){C(Ae,n,Ie),w(n,r),w(r,o),w(n,l),w(n,s),s.innerHTML=a,w(n,u),w(n,f),B&&B.m(f,null),w(n,c),w(n,d),w(d,m),w(n,y),w(n,S),w(S,A),w(S,W),w(S,L),te&&te.m(S,null),w(n,x),w(n,D),w(D,p);for(let ve=0;ve<K.length;ve+=1)K[ve]&&K[ve].m(p,null);w(n,G),w(n,I),w(I,g),Y&&Y.m(g,null),w(I,b),w(I,v),le&&le.m(v,null),w(n,E),w(n,N),_e&&_e.m(N,null),w(N,M),Re&&Re.m(N,null),w(n,q)},p(Ae,Ie){if(e=Ae,Ie[0]&128&&i!==(i=e[28].selected?`✅ SELECTED ${e[28].title.substring(2)}`:`${e[28].title}`)&&se(o,i),Ie[0]&128&&a!==(a=e[28].description+"")&&(s.innerHTML=a),e[28].revenue_per_week>0?B?B.p(e,Ie):(B=Wo(e),B.c(),B.m(f,null)):B&&(B.d(1),B=null),Ie[0]&128&&h!==(h=(e[28].requirements.employees||"")+"")&&se(m,h),Ie[0]&384&&_!==(_="px-2 py-2 w-8 "+(e[28].requirements.employees>e[8].townInfo.population_count-e[8].townInfo.employees?"underline bg-red-800 text-white":""))&&F(d,"class",_),Ie[0]&128&&$!==($=el(e[28].requirements.gold)+"")&&se(W,$),e[28].requirements.knowledge>0?te?te.p(e,Ie):(te=Ko(e),te.c(),te.m(S,null)):te&&(te.d(1),te=null),Ie[0]&384&&R!==(R="px-2 py-2 w-8 "+(e[28].requirements.gold>e[8].townInfo.gold?"underline bg-red-800 text-white border-none":""))&&F(S,"class",R),Ie[0]&384){ue=He(e[28].requirements.plots);let ve;for(ve=0;ve<ue.length;ve+=1){const We=Do(e,ue,ve);K[ve]?K[ve].p(We,Ie):(K[ve]=Uo(We),K[ve].c(),K[ve].m(p,null))}for(;ve<K.length;ve+=1)K[ve].d(1);K.length=ue.length}e[28].effect_modifiers.happiness!=1?Y?Y.p(e,Ie):(Y=Yo(e),Y.c(),Y.m(g,null)):Y&&(Y.d(1),Y=null),e[28].effect_modifiers.health!=1?le?le.p(e,Ie):(le=Jo(e),le.c(),le.m(v,null)):le&&(le.d(1),le=null),e[28].immediate_variable_changes.happiness!=0?_e?_e.p(e,Ie):(_e=Xo(e),_e.c(),_e.m(N,M)):_e&&(_e.d(1),_e=null),e[28].immediate_variable_changes.health!=0?Re?Re.p(e,Ie):(Re=Zo(e),Re.c(),Re.m(N,null)):Re&&(Re.d(1),Re=null),Ie[0]&128&&U!==(U="plotOption border-b border-black "+(e[28].affordable?"cursor-pointer":"unaffordable cursor-not-allowed bg-gray-200")+" "+(e[28].selected?"italic font-light opacity-50 ":"")+" svelte-bq7iir")&&F(n,"class",U),Ie[0]&128&&ee!==(ee=e[28].id)&&F(n,"data-plotoptionid",ee),Ie[0]&140&&on(n,"background-color",e[28].selected?"gray":pr(e[11](e[28].id),e[4](e[2],e[3])))},d(Ae){Ae&&k(n),B&&B.d(),te&&te.d(),Ct(K,Ae),Y&&Y.d(),le&&le.d(),_e&&_e.d(),Re&&Re.d()}}}function rp(t){let e,n,r,i,o,l,s,a,u,f,c,d,h,m=t[8].plots[t[2]][t[3]].type!==-1&&t[5](t[2],t[3]),_,y,S,A,$,W,L,R,x,D,p,G,I,g=[],b=new Map,v,E,N;e=new mn({props:{$$slots:{default:[Qd]},$$scope:{ctx:t}}});let M={type:"text",id:"search-bar",placeholder:"Search Plot Options...",value:t[6],class:"border rounded w-auto"};o=new Ri({props:M}),t[18](o),o.$on("input",t[12]);let q=m&&Ho(t);function U(K,Y){return K[7].length>0?ep:zd}let ee=U(t),B=ee(t);L=new Os({props:{class:""}});let te=He(t[7]);const ue=K=>K[28].id;for(let K=0;K<te.length;K+=1){let Y=qo(t,te,K),le=ue(Y);b.set(le,g[K]=Qo(le,Y))}return{c(){Q(e.$$.fragment),n=V(),r=O("div"),i=O("div"),Q(o.$$.fragment),l=V(),s=O("div"),a=O("input"),f=V(),c=O("label"),c.textContent="Show only affordable",d=V(),h=O("div"),q&&q.c(),_=V(),y=O("label"),S=O("span"),S.textContent="Quick scroll",A=V(),$=O("div"),B.c(),W=V(),Q(L.$$.fragment),R=V(),x=O("div"),D=O("table"),p=O("thead"),p.innerHTML='<tr class="text-xs text-left"><th class="px-2 py-2">Title</th> <th class="px-2 pr-2 py-2 w-48">Desc</th> <th class="px-2 py-2">Profit</th> <th class="px-2 py-2">Employees</th> <th class="px-2 py-2">Cost</th> <th class="px-2 py-2">Requires</th> <th class="px-2 py-2">Modifiers</th> <th class="px-2 py-2">Instant effect</th></tr>',G=V(),I=O("tbody");for(let K=0;K<g.length;K+=1)g[K].c();F(i,"class","flex items-center "),F(a,"type","checkbox"),F(a,"id","toggle-affordable"),F(a,"class","rounded"),a.checked=u=t[10]===t[7].length,F(c,"for","toggle-affordable"),F(c,"class","ml-2 no-select cursor-pointer "),F(s,"class","flex items-center ml-6"),F(h,"class","flex justify-end ml-6"),F(S,"class","mb-10"),F(y,"for","plotType"),F(y,"class","text-xs ml-4 gap-2"),F(r,"class","flex flex-row w-full px-4 py-2 text-white "),F(p,"class","sticky top-0 z-10 bg-slate-900 position-sticky text-white text-left w-full px-5 "),F(I,"class","overflow-hidden text-xs mx-2"),F(D,"class","text-left table-auto text-xs w-full border-collapse rounded-lgshadow-lg"),F(x,"class","overflow-y-scroll scroll-smooth no-scrollbar max-h-[60vh] ")},m(K,Y){X(e,K,Y),C(K,n,Y),C(K,r,Y),w(r,i),X(o,i,null),w(r,l),w(r,s),w(s,a),w(s,f),w(s,c),w(r,d),w(r,h),q&&q.m(h,null),w(r,_),w(r,y),w(y,S),w(y,A),w(y,$),B.m($,null),C(K,W,Y),X(L,K,Y),C(K,R,Y),C(K,x,Y),w(x,D),w(D,p),w(D,G),w(D,I);for(let le=0;le<g.length;le+=1)g[le]&&g[le].m(I,null);v=!0,E||(N=[J(a,"change",t[19]),J(D,"click",t[14])],E=!0)},p(K,Y){const le={};Y[0]&2|Y[1]&32&&(le.$$scope={dirty:Y,ctx:K}),e.$set(le);const _e={};Y[0]&64&&(_e.value=K[6]),o.$set(_e),(!v||Y[0]&1152&&u!==(u=K[10]===K[7].length))&&(a.checked=u),Y[0]&268&&(m=K[8].plots[K[2]][K[3]].type!==-1&&K[5](K[2],K[3])),m?q?q.p(K,Y):(q=Ho(K),q.c(),q.m(h,null)):q&&(q.d(1),q=null),ee===(ee=U(K))&&B?B.p(K,Y):(B.d(1),B=ee(K),B&&(B.c(),B.m($,null))),Y[0]&2460&&(te=He(K[7]),g=Ga(g,Y,ue,1,K,te,b,I,Ba,Qo,null,qo))},i(K){v||(T(e.$$.fragment,K),T(o.$$.fragment,K),T(L.$$.fragment,K),v=!0)},o(K){P(e.$$.fragment,K),P(o.$$.fragment,K),P(L.$$.fragment,K),v=!1},d(K){K&&(k(n),k(r),k(W),k(R),k(x)),Z(e,K),t[18](null),Z(o),q&&q.d(),B.d(),Z(L,K);for(let Y=0;Y<g.length;Y+=1)g[Y].d();E=!1,$e(N)}}}function ip(t){let e,n;return e=new _n({props:{class:`border-gray-500 border-r-2 overflow-clip max-w-[90vw] max-h-[90vh]
		`,$$slots:{default:[rp]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment)},m(r,i){X(e,r,i),n=!0},p(r,i){const o={};i[0]&1998|i[1]&32&&(o.$$scope={dirty:i,ctx:r}),e.$set(o)},i(r){n||(T(e.$$.fragment,r),n=!0)},o(r){P(e.$$.fragment,r),n=!1},d(r){Z(e,r)}}}function op(t){let e,n,r;function i(l){t[21](l)}let o={$$slots:{default:[ip]},$$scope:{ctx:t}};return t[0]!==void 0&&(o.open=t[0]),e=new bn({props:o}),Ee.push(()=>cn(e,"open",i)),{c(){Q(e.$$.fragment)},m(l,s){X(e,l,s),r=!0},p(l,s){const a={};s[0]&1998|s[1]&32&&(a.$$scope={dirty:s,ctx:l}),!n&&s[0]&1&&(n=!0,a.open=l[0],fn(()=>n=!1)),e.$set(a)},i(l){r||(T(e.$$.fragment,l),r=!0)},o(l){P(e.$$.fragment,l),r=!1},d(l){Z(e,l)}}}function yr(t){let e=t<1,n=dt(t%1*100,0);return e?`-${100-n}%`:`+${n}%`}function wr(t){return t=dt(t/3,0),t<0?`-${t}`:`+${t}`}function zo(t){const n=new RegExp("\\p{Emoji}","u").exec(t);return n?n[0]:null}function dt(t,e){e===void 0&&(e=0);var n=Math.pow(10,e);t=parseFloat((t*n).toFixed(11));var r=Math.round(t)/n;return+r.toFixed(e)}function el(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function lp(t,e,n){let r,i,o;ie(t,Te,v=>n(8,r=v)),ie(t,Be,v=>n(22,i=v)),ie(t,us,v=>n(17,o=v));let{x:l=0}=e,{y:s=0}=e,{open:a=!1}=e,u="",f=me,{tooltip:c=""}=e,d,h,m=f.map(v=>Object.assign(Object.assign({},v),{affordable:D(v,r),selected:S(v)}));function _(v){return me.findIndex(E=>E.id===v)}function y(v){n(6,u=v.target.value||"")}function S(v){return r.plots[l][s].type>-1?f[r.plots[l][s].type].id===v.id:!1}function A(v,E){let N={x:v,y:E};return N.x===0&&N.y===0?!0:[{x:N.x-1,y:N.y},{x:N.x+1,y:N.y},{x:N.x,y:N.y-1},{x:N.x,y:N.y+1}].some(q=>q.x<0||q.x>r.plots.length-1||q.y<0||q.y>r.plots.length-1?!1:r.plots[q.x][q.y].active)}function $(){document.querySelectorAll(".plotOption").forEach(E=>{E.classList.remove("active")}),x(l,s)}function W(v){document.querySelectorAll(".plotOption").forEach(M=>{M.classList.remove("active")});const N=document.querySelector(`[data-plotoptionid="${v}"]`);N&&(N.classList.add("active"),R(l,s,v))}function L(v,E){let N=0;return v>0&&r.plots[v-1][E].type!==-1&&N++,v<r.plots.length-1&&r.plots[v+1][E].type!==-1&&N++,E>0&&r.plots[v][E-1].type!==-1&&N++,E<r.plots[0].length-1&&r.plots[v][E+1].type!==-1&&N++,N<=4}function R(v,E,N){let M=r;const q=me.findIndex(B=>B.id===N);let U=me[q];if(D(U,r)==!1)return console.log(U.requirements),alert(`${JSON.stringify(U.requirements)}`);let ee=!0;if((U.requirements.gold>M.townInfo.gold||U.requirements.employees>M.townInfo.population_count-M.townInfo.employees)&&(ee=!1),U.requirements.size!=null&&ee){let B=U.requirements.size,te=[],ue=f[q].title.toLowerCase().indexOf("school")!=-1;for(let K=0;K<4;K++){let Y=[[v,E]];K===0?(Y.push([v-(B-1),E-(B-1)]),Y.push([v-(B-1),E]),Y.push([v,E-(B-1)])):K===1?(Y.push([v,E-(B-1)]),Y.push([v+(B-1),E-(B-1)]),Y.push([v+(B-1),E])):K===2?(Y.push([v-(B-1),E]),Y.push([v-(B-1),E+(B-1)]),Y.push([v,E+(B-1)])):K===3&&(Y.push([v,E+(B-1)]),Y.push([v+(B-1),E+(B-1)]),Y.push([v+(B-1),E])),te.push(Y)}te=te.filter(K=>K.every(Y=>Y[0]>=0&&Y[0]<=M.plots.length-1&&Y[1]>=0&&Y[1]<=M.plots.length-1&&!M.plots[Y[0]][Y[1]].active&&A(Y[0],Y[1])==!0)),te.length===0?ee=!1:te.length>0&&te[0].forEach(Y=>{M.plots[Y[0]][Y[1]].active=!0,M.plots[Y[0]][Y[1]].type=ue?-3:-2,M.plots[Y[0]][Y[1]].referencePlot=[v,E]})}if(ee===!0){switch(M.plots[v][E].type!==-1&&x(v,E),n(1,c=""),M.plots[v][E].type=q,M.plots[v][E].active=!0,M.plots[v][E].referencePlot=[],M.townInfo.gold-=U.requirements.gold,M.townInfo.gold=dt(M.townInfo.gold,2),M.townInfo.population_count+=U.immediate_variable_changes.population,M.townInfo.population_max+=U.immediate_variable_changes.population,M.townInfo.happiness+=U.immediate_variable_changes.happiness,M.townInfo.health+=U.immediate_variable_changes.health,M.modifiers.happiness=dt(M.modifiers.happiness*U.effect_modifiers.happiness,2),M.modifiers.health=dt(M.modifiers.health*U.effect_modifiers.health,2),M.townInfo.employees+=U.requirements.employees,(M.plotCounts[q]===void 0||M.plotCounts[q]===null)&&(M.plotCounts[q]=0),M.plotCounts[q]++,M.lastChangeDay=M.environment.day,M.economyAndLaws.balance_sheet_history=[{day:M.environment.day,plot:`${v},${E}`,profits:U.requirements.gold*-1,balance:dt(M.townInfo.gold,2)},...M.economyAndLaws.balance_sheet_history],U.id){case"city_hall":M.hasCityHall=!0;break;case"bank":M.hasBank=!0;break}Te.set(M),localStorage.setItem(rt,JSON.stringify(M)),Ce(Be,i.visible=!1,i)}else n(1,c="You do not have enough resources to purchase this plot. If it's a 'Large' plot, make sure you have a 2x2 area available. "),document.querySelectorAll(".plotOption").forEach(te=>{te.classList.remove("active")})}function x(v,E){var N;let M=r,q=M.plots[v][E].type;if(M.plots[v][E].type=-1,M.plots[v][E].active=!1,q>-1&&(M.townInfo.population_count-=me[q].immediate_variable_changes.population,M.townInfo.population_max-=me[q].immediate_variable_changes.population,M.townInfo.happiness-=me[q].immediate_variable_changes.happiness,M.townInfo.health-=me[q].immediate_variable_changes.health,M.modifiers.happiness=dt(M.modifiers.happiness/me[q].effect_modifiers.happiness,2),M.modifiers.health=dt(M.modifiers.health/me[q].effect_modifiers.health,2),M.townInfo.employees-=me[q].requirements.employees,(M.plotCounts[q]===void 0||M.plotCounts[q]===null)&&(M.plotCounts[q]=0),M.plotCounts[q]--,((N=me[q].requirements.size)!==null&&N!==void 0?N:1)>1))for(let ee=0;ee<M.plots.length;ee++)for(let B=0;B<M.plots[v].length;B++)M.plots[ee][B].referencePlot!=null&&M.plots[ee][B].referencePlot[0]===v&&M.plots[ee][B].referencePlot[1]===E&&x(ee,B);M.lastChangeDay=M.environment.day,Te.set(M),localStorage.setItem(rt,JSON.stringify(M))}function D(v,E){let N=!0;v.requirements.gold>E.townInfo.gold&&(N=!1);let M=E.townInfo.population_count-E.townInfo.employees;return v.requirements.employees!==void 0&&v.requirements.employees>0&&v.requirements.employees>M&&(N=!1),v.requirements.knowledge!==void 0&&v.requirements.knowledge>E.townInfo.knowledge_points&&(N=!1),v.requirements.plots!==void 0&&v.requirements.plots.length>0&&v.requirements.plots.forEach(q=>{Mi(q,E)||(N=!1)}),N}function p(v){const E=v.target.closest(".plotOption");if(E){const N=E.dataset.plotoptionid;W(N)}}function G(v){Ee[v?"unshift":"push"](()=>{d=v,n(9,d)})}const I=()=>{Ja()},g=v=>{const E=document.querySelector(`[data-plotoptionid="${v.id}"]`);E&&E.scrollIntoView({behavior:"smooth",block:"center"})};function b(v){a=v,n(0,a)}return t.$$set=v=>{"x"in v&&n(2,l=v.x),"y"in v&&n(3,s=v.y),"open"in v&&n(0,a=v.open),"tooltip"in v&&n(1,c=v.tooltip)},t.$$.update=()=>{t.$$.dirty[0]&131456&&r&&(n(7,m=f.map(v=>Object.assign(Object.assign({},v),{affordable:D(v,r),selected:S(v)}))),o&&n(7,m=m.filter(v=>v.affordable))),t.$$.dirty[0]&192&&n(7,m=m.filter(v=>v.title.toLowerCase().includes(u.toLowerCase()))),t.$$.dirty[0]&128&&n(10,h=m.filter(v=>v.affordable).length)},[a,c,l,s,A,L,u,m,r,d,h,_,y,$,p,R,x,o,G,I,g,b]}class sp extends pe{constructor(e){super(),de(this,e,lp,op,ae,{x:2,y:3,open:0,tooltip:1,checkIfPlotCanBeUpgraded:4,canBulldoze:5,purchasePlot:15,reverseClear:16},null,[-1,-1])}get checkIfPlotCanBeUpgraded(){return this.$$.ctx[4]}get canBulldoze(){return this.$$.ctx[5]}get purchasePlot(){return this.$$.ctx[15]}get reverseClear(){return this.$$.ctx[16]}}function ap(t){let e,n,r,i,o;return{c(){e=O("div"),n=O("span"),r=j("👋 "),i=j(t[0]),F(n,"class",o="text-xs rounded-lg p-2 whitespace-normal text-center flex justify-center w-fit m-2 shadow shadow-black hover:rotate-6 overflow-visible hover:scale-110 z-50 transition-all duration-100 "+t[1]+" "+(t[2]?"bg-green-300 text-green-900":"bg-red-900 text-red-200")),F(e,"class","overflow-visible")},m(l,s){C(l,e,s),w(e,n),w(n,r),w(n,i)},p(l,[s]){s&1&&se(i,l[0]),s&6&&o!==(o="text-xs rounded-lg p-2 whitespace-normal text-center flex justify-center w-fit m-2 shadow shadow-black hover:rotate-6 overflow-visible hover:scale-110 z-50 transition-all duration-100 "+l[1]+" "+(l[2]?"bg-green-300 text-green-900":"bg-red-900 text-red-200"))&&F(n,"class",o)},i:oe,o:oe,d(l){l&&k(e)}}}function up(t,e,n){let{text:r=""}=e,{classText:i=""}=e,{happy:o=!1}=e;return t.$$set=l=>{"text"in l&&n(0,r=l.text),"classText"in l&&n(1,i=l.classText),"happy"in l&&n(2,o=l.happy)},[r,i,o]}class Fs extends pe{constructor(e){super(),de(this,e,up,ap,ae,{text:0,classText:1,happy:2})}}function fp(t){let e,n;return e=new Fs({props:{text:"Build your first home",happy:"true"}}),{c(){Q(e.$$.fragment)},m(r,i){X(e,r,i),n=!0},p:oe,i(r){n||(T(e.$$.fragment,r),n=!0)},o(r){P(e.$$.fragment,r),n=!1},d(r){Z(e,r)}}}function cp(t){let e,n,r,i=me[t[0].type].title.substring(0,2)+"",o,l,s=me[t[0].type].title.substring(2)+"",a,u,f=me[t[0].type].requirements.size>1?`(${me[t[0].type].requirements.size}x${me[t[0].type].requirements.size})`:"",c,d;return{c(){e=O("div"),n=O("span"),r=O("span"),o=j(i),l=O("br"),a=j(s),u=V(),c=j(f),F(r,"class","text-lg"),F(n,"data-size",d=me[t[0].type].requirements.size),F(e,"class","svelte-119mikc")},m(h,m){C(h,e,m),w(e,n),w(n,r),w(r,o),w(n,l),w(n,a),w(n,u),w(n,c)},p(h,m){m&1&&i!==(i=me[h[0].type].title.substring(0,2)+"")&&se(o,i),m&1&&s!==(s=me[h[0].type].title.substring(2)+"")&&se(a,s),m&1&&f!==(f=me[h[0].type].requirements.size>1?`(${me[h[0].type].requirements.size}x${me[h[0].type].requirements.size})`:"")&&se(c,f),m&1&&d!==(d=me[h[0].type].requirements.size)&&F(n,"data-size",d)},i:oe,o:oe,d(h){h&&k(e)}}}function dp(t){let e,n,r,i,o,l,s,a,u,f,c,d,h,m,_,y,S;const A=[cp,fp],$=[];function W(L,R){return L[0].type>-1?0:L[0].type==-1&&L[0].x==0&&L[0].y==0?1:-1}return~(n=W(t))&&(r=$[n]=A[n](t)),{c(){e=O("div"),r&&r.c(),F(e,"class",i="plot_container overflow-visible "+(t[0].type==-1&&t[1]==!1?"border-slate-500 border-dashed border":"")+" svelte-119mikc"),on(e,"background-color",pr(t[0].type,t[1])),F(e,"data-active",o=t[0].active),F(e,"data-id",l=t[0].id),F(e,"data-x",s=t[0].x),F(e,"data-y",a=t[0].y),F(e,"data-optionindex",u=t[0].optionIndex),F(e,"data-canbeupgraded",t[1]),F(e,"data-type",f=t[0].type),F(e,"data-type-id",c=t[0].typeId),F(e,"data-refplotx",d=t[0].referencePlot!==void 0?t[0].referencePlot[1]:null),F(e,"data-refploty",h=t[0].referencePlot!==void 0?t[0].referencePlot[0]:null),F(e,"data-size",m=t[0].type>-1?me[t[0].type].requirements.size:null)},m(L,R){C(L,e,R),~n&&$[n].m(e,null),_=!0,y||(S=J(e,"click",t[2]),y=!0)},p(L,[R]){let x=n;n=W(L),n===x?~n&&$[n].p(L,R):(r&&(xe(),P($[x],1,1,()=>{$[x]=null}),qe()),~n?(r=$[n],r?r.p(L,R):(r=$[n]=A[n](L),r.c()),T(r,1),r.m(e,null)):r=null),(!_||R&3&&i!==(i="plot_container overflow-visible "+(L[0].type==-1&&L[1]==!1?"border-slate-500 border-dashed border":"")+" svelte-119mikc"))&&F(e,"class",i),(!_||R&3)&&on(e,"background-color",pr(L[0].type,L[1])),(!_||R&1&&o!==(o=L[0].active))&&F(e,"data-active",o),(!_||R&1&&l!==(l=L[0].id))&&F(e,"data-id",l),(!_||R&1&&s!==(s=L[0].x))&&F(e,"data-x",s),(!_||R&1&&a!==(a=L[0].y))&&F(e,"data-y",a),(!_||R&1&&u!==(u=L[0].optionIndex))&&F(e,"data-optionindex",u),(!_||R&2)&&F(e,"data-canbeupgraded",L[1]),(!_||R&1&&f!==(f=L[0].type))&&F(e,"data-type",f),(!_||R&1&&c!==(c=L[0].typeId))&&F(e,"data-type-id",c),(!_||R&1&&d!==(d=L[0].referencePlot!==void 0?L[0].referencePlot[1]:null))&&F(e,"data-refplotx",d),(!_||R&1&&h!==(h=L[0].referencePlot!==void 0?L[0].referencePlot[0]:null))&&F(e,"data-refploty",h),(!_||R&1&&m!==(m=L[0].type>-1?me[L[0].type].requirements.size:null))&&F(e,"data-size",m)},i(L){_||(T(r),_=!0)},o(L){P(r),_=!1},d(L){L&&k(e),~n&&$[n].d(),y=!1,S()}}}function pp(t,e,n){let r,i,o,l;ie(t,Be,c=>n(4,r=c)),ie(t,Te,c=>n(5,i=c)),ie(t,kt,c=>n(6,o=c)),ie(t,ln,c=>n(7,l=c));let{data:s={id:0,active:!1,x:0,y:0,type:-1,styling:"",referencePlot:[]}}=e,{canBeUpgraded:a=!1}=e;function u(c,d,h){let m=document.querySelectorAll(".plot_container");if(o==!1){if(s.referencePlot!=null&&s.referencePlot[0]!==null&&d==null&&h==null&&s.referencePlot[1]!==void 0)return u(c,s.referencePlot[0],s.referencePlot[1]);!s.active&&!a?(Ce(ln,l={},l),Ce(Be,r.visible=!1,r),m.forEach(_=>{_.classList.remove("selected")})):(d!=null&&h!=null?(Ce(Be,r.x=d,r),Ce(Be,r.y=h,r)):(Ce(Be,r.x=s.x,r),Ce(Be,r.y=s.y,r)),Ce(Be,r.visible=!0,r),m.forEach(_=>{_.classList.remove("selected")}),d!=null&&h!=null?document.querySelector(`.plot_container[data-x="${d}"][data-y="${h}"]`).classList.add("selected"):document.querySelector(`.plot_container[data-id="${s.id}"]`).classList.add("selected"))}}function f(c){o==!1&&(Ce(Te,i.plots[s.x][s.y].type=c,i),Ce(Be,r.visible=!1,r))}return t.$$set=c=>{"data"in c&&n(0,s=c.data),"canBeUpgraded"in c&&n(1,a=c.canBeUpgraded)},[s,a,u,f]}class hp extends pe{constructor(e){super(),de(this,e,pp,dp,ae,{data:0,canBeUpgraded:1,changePlotType:3})}get changePlotType(){return this.$$.ctx[3]}}function tl(t,e,n){const r=t.slice();return r[6]=e[n],r}function nl(t,e,n){const r=t.slice();return r[9]=e[n],r}function rl(t){let e,n,r=t[3],i,o,l=He(t[2].plots),s=[];for(let f=0;f<l.length;f+=1)s[f]=ol(tl(t,l,f));const a=f=>P(s[f],1,1,()=>{s[f]=null});let u=sl(t);return{c(){e=O("div");for(let f=0;f<s.length;f+=1)s[f].c();n=V(),u.c(),i=Me(),F(e,"class","grid overflow-x-scroll overflow-visible svelte-3cpxwu")},m(f,c){C(f,e,c);for(let d=0;d<s.length;d+=1)s[d]&&s[d].m(e,null);C(f,n,c),u.m(f,c),C(f,i,c),o=!0},p(f,c){if(c&7){l=He(f[2].plots);let d;for(d=0;d<l.length;d+=1){const h=tl(f,l,d);s[d]?(s[d].p(h,c),T(s[d],1)):(s[d]=ol(h),s[d].c(),T(s[d],1),s[d].m(e,null))}for(xe(),d=l.length;d<s.length;d+=1)a(d);qe()}c&8&&ae(r,r=f[3])?(xe(),P(u,1,1,oe),qe(),u=sl(f),u.c(),T(u,1),u.m(i.parentNode,i)):u.p(f,c)},i(f){if(!o){for(let c=0;c<l.length;c+=1)T(s[c]);T(u),o=!0}},o(f){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)P(s[c]);P(u),o=!1},d(f){f&&(k(e),k(n),k(i)),Ct(s,f),u.d(f)}}}function il(t){let e,n;return e=new hp({props:{data:t[9],canBeUpgraded:t[0](t[9].x,t[9].y)}}),{c(){Q(e.$$.fragment)},m(r,i){X(e,r,i),n=!0},p(r,i){const o={};i&4&&(o.data=r[9]),i&4&&(o.canBeUpgraded=r[0](r[9].x,r[9].y)),e.$set(o)},i(r){n||(T(e.$$.fragment,r),n=!0)},o(r){P(e.$$.fragment,r),n=!1},d(r){Z(e,r)}}}function ol(t){let e,n,r,i,o,l=He(t[6]),s=[];for(let u=0;u<l.length;u+=1)s[u]=il(nl(t,l,u));const a=u=>P(s[u],1,1,()=>{s[u]=null});return{c(){e=O("div");for(let u=0;u<s.length;u+=1)s[u].c();n=V(),F(e,"class","row overflow-visible svelte-3cpxwu")},m(u,f){C(u,e,f);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(e,null);w(e,n),r=!0,i||(o=J(e,"click",t[1]),i=!0)},p(u,f){if(f&5){l=He(u[6]);let c;for(c=0;c<l.length;c+=1){const d=nl(u,l,c);s[c]?(s[c].p(d,f),T(s[c],1)):(s[c]=il(d),s[c].c(),T(s[c],1),s[c].m(e,n))}for(xe(),c=l.length;c<s.length;c+=1)a(c);qe()}},i(u){if(!r){for(let f=0;f<l.length;f+=1)T(s[f]);r=!0}},o(u){s=s.filter(Boolean);for(let f=0;f<s.length;f+=1)P(s[f]);r=!1},d(u){u&&k(e),Ct(s,u),i=!1,o()}}}function ll(t){let e,n;return e=new sp({props:{x:t[4].x,y:t[4].y,open:t[4].visible}}),{c(){Q(e.$$.fragment)},m(r,i){X(e,r,i),n=!0},p(r,i){const o={};i&16&&(o.x=r[4].x),i&16&&(o.y=r[4].y),i&16&&(o.open=r[4].visible),e.$set(o)},i(r){n||(T(e.$$.fragment,r),n=!0)},o(r){P(e.$$.fragment,r),n=!1},d(r){Z(e,r)}}}function sl(t){let e,n,r=t[4].visible&&ll(t);return{c(){r&&r.c(),e=Me()},m(i,o){r&&r.m(i,o),C(i,e,o),n=!0},p(i,o){i[4].visible?r?(r.p(i,o),o&16&&T(r,1)):(r=ll(i),r.c(),T(r,1),r.m(e.parentNode,e)):r&&(xe(),P(r,1,1,()=>{r=null}),qe())},i(i){n||(T(r),n=!0)},o(i){P(r),n=!1},d(i){i&&k(e),r&&r.d(i)}}}function mp(t){let e,n,r=t[2]!=null&&rl(t);return{c(){r&&r.c(),e=Me()},m(i,o){r&&r.m(i,o),C(i,e,o),n=!0},p(i,[o]){i[2]!=null?r?(r.p(i,o),o&4&&T(r,1)):(r=rl(i),r.c(),T(r,1),r.m(e.parentNode,e)):r&&(xe(),P(r,1,1,()=>{r=null}),qe())},i(i){n||(T(r),n=!0)},o(i){P(r),n=!1},d(i){i&&k(e),r&&r.d(i)}}}function _p(t,e,n){let r,i,o;ie(t,ln,u=>n(3,r=u)),ie(t,Te,u=>n(2,i=u)),ie(t,Be,u=>n(4,o=u));function l(u,f){let c={x:u,y:f};return c.x===0&&c.y===0?!0:[{x:c.x-1,y:c.y},{x:c.x+1,y:c.y},{x:c.x,y:c.y-1},{x:c.x,y:c.y+1}].some(h=>h.x<0||h.x>=i.plots.length||h.y<0||h.y>=i.plots[h.x].length?!1:i.plots[h.x][h.y].active)}function s(){let u=[];for(let f=0;f<i.plots.length;f++)for(let c=0;c<i.plots.length;c++)l(f,c)&&i.plots[f][c].active==!1&&u.push(i.plots[f][c])}function a(){Ce(ln,r={},r)}return t.$$.update=()=>{t.$$.dirty&4&&i&&s()},[l,a,i,r,o]}class gp extends pe{constructor(e){super(),de(this,e,_p,mp,ae,{checkIfPlotCanBeUpgraded:0,restartModifyPlotMenu:1})}get checkIfPlotCanBeUpgraded(){return this.$$.ctx[0]}get restartModifyPlotMenu(){return this.$$.ctx[1]}}const Ue={unemployment_num:" people can't find jobs.",bored:"People are bored. Try making some new buildings.",vairety:"People don't like going to the same places over and over again. Try making some new buildings.",nobody_home:"Build some homes!",leave_town_num:" people left town because they were unhappy.",new_people_num:" new people moved to town.",people_want_to_move_in:"People want to move in. Build more homes.",high_tax_rate:"People are unhappy with the high tax rate.",very_high_tax_rate:"People are extremely unhappy with the high tax rate.",sickAndDying:"People are sick and dying.",sickAndLeaving:"People are sick and leaving town.",happiness_zero:"The town has fallen into chaos due to extreme unhappiness.",health_zero:"The town has fallen into chaos due to extreme sickness.",population_zero:"The town has been condemned due to lack of population.",win:{land:"You have filled the grid with buildings. You win!"},hospital_advantage:"Because you have a hospital, the town is staying healthier for longer!",notEnoughVariety:"People are sick of going to the same places over and over, add some variety!"},ze={land:{short_title:"Fill the grid",description_title:"You win by filling up all possible plots in the grid, and by meeting some requirements.",win:"You have filled the grid with buildings and met the requirements. Your citizens are happy, fulfilled, hard-working, and healthy. ",requirements:{0:{population_count:150,happiness:100,health:100,employment:1,knowledge:50,required_plots:["pub","small_school","community_center"]},1:{population_count:500,happiness:120,health:120,employment:1,knowledge:100,required_plots:["bank"]},2:{population_count:1e3,happiness:200,health:200,employment:1,knowledge:1e3,required_plots:["bank","city_hall"]}}},political:{short_title:"PLACEHOLDER",description_title:"PLACEHOLDER",win:"PLACEHOLDER",requirements:{0:{population_count:200,happiness:100,health:100,employment:1},1:{population_count:500,happiness:100,health:100,employment:1},2:{population_count:1e3,happiness:100,health:100,employment:1}}}},al=30;function bp(t){let e=!0;for(let n=0;n<t.plots.length;n++)for(let r=0;r<t.plots[n].length;r++)if(t.plots[n][r].active==!1){e=!1;break}return e}function vp(t){return t.endGameDetails!=null||(t.townInfo.happiness<70&&t.last_warning_happiness+365<t.environment.day&&(alert("Your citizens are very unhappy. You should do something about it."),t.last_warning_happiness=t.environment.day),t.townInfo.health<70&&t.last_warning_health+365<t.environment.day&&(alert("Your citizens are very unhealthy. You should do something about it."),t.last_warning_health=t.environment.day)),t}function yp(t){return t.hasBank,t}function wp(t){return t.hasCityHall,t}function kp(t){let e=t.economyAndLaws.knowledge_gold_market_rates[t.economyAndLaws.knowledge_gold_market_rates.length-1]||1;const n=-100,r=8,i=3;let o=Math.random(),l=Math.random()*i;if(o<.4){let s=Math.random()*r;Math.random()<.5?e+=s:e-=s}else Math.random()>.5?e+=l:e-=l;return e<n&&(e+=Math.random()*l/5),e=Math.round(e),t.economyAndLaws.knowledge_gold_market_rates=[...t.economyAndLaws.knowledge_gold_market_rates,e],t}function ai(t){if(t.townInfo.happiness>150){let n=t.townInfo.happiness-150;t.townInfo.happiness-=n*.08,t.townInfo.happiness<150&&(t.townInfo.happiness=150)}if(t.townInfo.health>150){let n=t.townInfo.health-150;t.townInfo.health-=n*.08,t.townInfo.health<150&&(t.townInfo.health=150)}return t}function Sp(t){return t.townInfo.happiness*=t.modifiers.happiness,t.townInfo.health*=t.modifiers.health,t}function Ap(t,e){let n=e.townInfo.happiness/100;n>2.25?n=2.25:n<.75&&(n=.75);let r=t*e.economyAndLaws.tax_rate*(e.townInfo.population_count/e.townInfo.population_max)*n;return $t(r,2)}function $t(t,e){e===void 0&&(e=0);var n=Math.pow(10,e);t=parseFloat((t*n).toFixed(11));var r=Math.round(t)/n;return+r.toFixed(e)}function Cp(t,e,n){let r,i,o;ie(t,tr,p=>n(4,r=p)),ie(t,Te,p=>n(5,i=p)),ie(t,kt,p=>n(6,o=p));function l(p){return p=m(p),p=$(p),p=R(p),p=Sp(p),p=y(p),p=L(p),p=c(p),p=kp(p),p=vp(p),p}function s(p){return p=x(p),p=yp(p),p=wp(p),p}function a(p){return p=S(p),p=ai(p),p=_(p),p=A(p),p}function u(p){return p=W(p),p.overtime==!1&&(p=h(p),p=d(p)),p}function f(){Te.update(p=>{if(p==null||(p.tick++,p.tick%al!==0)||o||!p||p.endGameDetails!=null&&p.overtime==!1)return p;try{return p.environment.day+=1,p.environment.day%7===0&&(p=l(p)),p.environment.day%30===0&&(p=s(p)),p.environment.day%90===0&&(p=a(p)),window.location.search.includes("debug=true")&&console.log(p),p=u(p),p}catch(G){return console.error("Error in game loop:",G),p}})}Te.subscribe(p=>{p&&localStorage.setItem(rt,JSON.stringify(p))});function c(p){let G=!1,I=!1,g=!1;for(let b=0;b<p.plots.length;b++)for(let v=0;v<p.plots[b].length;v++)if(p.plots[b][v].active==!0&&p.plots[b][v].type>-1){let E=me[p.plots[b][v].type].id;E=="bank"&&(G=!0),E=="city_hall"&&(g=!0),(E=="small_hospital"||E=="large_hospital")&&(I=!0)}return p.hasBank=G,p.hasHospital=I,p.hasCityHall=g,p}function d(p){if(p.endGoal=="land"&&p.townInfo.population_max==p.townInfo.population_count&&p.townInfo.happiness>=ze.land.requirements[p.difficulty].happiness&&p.townInfo.health>=ze.land.requirements[p.difficulty].health&&p.townInfo.employees/p.townInfo.population_count>=ze.land.requirements[p.difficulty].employment&&p.townInfo.population_count>ze.land.requirements[p.difficulty].population_count&&p.townInfo.knowledge_points>=ze.land.requirements[p.difficulty].knowledge){let I=!0;for(let b=0;b<ze.land.requirements[p.difficulty].required_plots.length;b++){let v=ze.land.requirements[p.difficulty].required_plots[b],E=!1;for(let N=0;N<p.plots.length;N++)for(let M=0;M<p.plots[N].length;M++)if(me[p.plots[N][M].type].id==v){E=!0;break}if(E==!1){I=!1;break}}bp(p)&&I&&(p.endGameDetails={msg:ze.land.win,win:!0,still_playing:!1})}return p}function h(p){return p.townInfo.happiness<=3&&(p.townInfo.happiness=0,p.endGameDetails={msg:Ue.happiness_zero,win:!1,still_playing:!1}),p.townInfo.health<=3&&(p.townInfo.health=3,p.endGameDetails={msg:Ue.health_zero,win:!1,still_playing:!1}),p.townInfo.population_count<=0&&p.townInfo.population_max>0&&(p.townInfo.population_count=0,p.endGameDetails={msg:Ue.population_zero,win:!1,still_playing:!1}),p}function m(p){let G=p.townInfo.population_count-p.townInfo.employees;return G>0&&(p.modifiers.happiness-=G*9e-4,p=D(G+Ue.unemployment_num,p)),p}function _(p){let G=p.plotCounts.reduce((g,b)=>g+b,0),I=!1;for(let g=0;g<p.plotCounts.length;g++)p.plotCounts[g]==null||me[g].check_for_variety!=!0||p.plotCounts[g]/G>=Ka[p.difficulty]&&(me[g].title,I=!0);return I&&(p=D(Ue.notEnoughVariety,p),p.modifiers.happiness*.95),p}function y(p){let G=p.townInfo.health,I=0;return G>50||G<Math.random()*50&&(G<25?(p=D(Ue.sickAndDying,p),p.townInfo.happiness-=10,I=Math.round(p.townInfo.population_count*.1)):(p=D(Ue.sickAndLeaving,p),p.townInfo.happiness-=5,I=Math.round(p.townInfo.population_count*.05)),p.townInfo.population_count-=I,p.townInfo.employees-=I),p}function S(p){return p.lastChangeDay+(Math.random()*500+180)<p.environment.day&&(p.townInfo.population_count>0&&(p.townInfo.population_count-=1,p.townInfo.employees-=1,p.modifiers.happiness-=.01),p=D(Ue.bored,p)),p}function A(p){if(p.townInfo.population_count<p.townInfo.population_max&&p.townInfo.happiness>50){let G=p.townInfo.population_max-p.townInfo.population_count,I=Math.round(p.townInfo.happiness/100*G);p.townInfo.population_count+=I,p.townInfo.population_count>p.townInfo.population_max&&(p.townInfo.population_count=p.townInfo.population_max),p.townInfo.employees+=I,p.townInfo.employees>p.townInfo.population_count&&(p.townInfo.employees=p.townInfo.population_count),p=D(I+Ue.new_people_num,p)}if(p.townInfo.happiness<50&&p.townInfo.population_count>0){let G=Math.round((100-p.townInfo.happiness)/5);p.townInfo.population_count-=G,p.townInfo.employees>0&&(p.townInfo.employees-=G),p=D(G+Ue.leave_town_num,p)}else p.townInfo.population_count==p.townInfo.population_max;return p}function $(p){const G=Math.random();if(p.economyAndLaws.tax_rate>p.economyAndLaws.max_tax_rate){const I=p.difficulty==0?.7:p.difficulty==1?.4:.2;G<I&&p.economyAndLaws.tax_rate>p.economyAndLaws.max_tax_rate*2?(p.modifiers.happiness-=.03,p=D(Ue.very_high_tax_rate+"  ("+p.economyAndLaws.tax_rate+"%)",p)):(p.modifiers.happiness-=.01,p=D(Ue.high_tax_rate+"  ("+p.economyAndLaws.tax_rate*100+"%)",p))}return p}function W(p){return p.townInfo.happiness<0&&(p.townInfo.happiness=0),p.townInfo.health<0&&(p.townInfo.health=0),p.townInfo.gold<0&&(p.townInfo.gold=0),p.townInfo.employees<0&&(p.townInfo.employees=0),p.townInfo.knowledge_points<0&&(p.townInfo.knowledge_points=0),p.townInfo.population_count<0&&(p.townInfo.population_count=0),p.townInfo.population_max==0&&p.townLog.indexOf(Ue.nobody_home)==-1&&(p=D(Ue.nobody_home,p)),p.economyAndLaws.last_month_profit=$t(p.economyAndLaws.last_month_profit,2),p.townInfo.employees>p.townInfo.population_count&&(p.townInfo.employees=p.townInfo.population_count),p.townInfo.gold=$t(p.townInfo.gold,2),p.townInfo.population_count=$t(p.townInfo.population_count,0),p.townInfo.employees=$t(p.townInfo.employees,0),p.townInfo.population_max=$t(p.townInfo.population_max,0),p.townInfo.happiness=$t(p.townInfo.happiness,2),p.townInfo.health=$t(p.townInfo.health,2),p.townInfo.happiness>300&&(p.townInfo.happiness=300),p.townInfo.health>300&&(p.townInfo.health=300),p.modifiers.happiness<.5&&(p.modifiers.happiness=.5),p.modifiers.health<.5&&(p.modifiers.health=.5),p}function L(p){if(p.modifiers.happiness>1){let G=p.modifiers.happiness-1;p.modifiers.happiness-=G*.08,p.modifiers.happiness<1.05&&(p.modifiers.happiness=1)}if(p.modifiers.health>1){if(p.hasHospital&&p.townLog.indexOf(Ue.hospital_advantage)==-1)return p=D(Ue.hospital_advantage,p);let G=p.modifiers.health-1;p.modifiers.health-=G*.08,p.modifiers.health<1.05&&(p.modifiers.health=1)}return p}function R(p){p.economyAndLaws.last_month_profit=0;for(let G=0;G<p.plots.length;G++)for(let I=0;I<p.plots[G].length;I++)if(p.plots[G][I].active==!0&&p.plots[G][I].type>-1){let g=me[p.plots[G][I].type],b=Ap(g.revenue_per_week,p);p.townInfo.gold+=b,p.economyAndLaws.last_month_profit+=b,b>0&&(p.economyAndLaws.balance_sheet_history=[{day:p.environment.day,plot:`${G},${I}`,profits:b,taxRate:p.economyAndLaws.tax_rate},...p.economyAndLaws.balance_sheet_history],p.economyAndLaws.balance_sheet_history.length>250&&(p.economyAndLaws.balance_sheet_history=p.economyAndLaws.balance_sheet_history.slice(0,250))),g.enables_tourism==!0&&(p.townInfo.gold_from_tourism+=g.tourism_revenue_per_week*p.economyAndLaws.tax_rate*p.townInfo.population_count)}return p}function x(p){for(let G=0;G<p.plots.length;G++)for(let I=0;I<p.plots[G].length;I++)if(p.plots[G][I].active==!0&&p.plots[G][I].type>-1){let g=me[p.plots[G][I].type];g.knowledge_points_per_month!=null&&(p.townInfo.knowledge_points+=g.knowledge_points_per_month)}return p}function D(p,G){return G.townLog="Day "+i.environment.day+" - "+p+`
`+G.townLog,G}return os(async()=>{for(;;)localStorage.reset=="true"&&(Pi(),localStorage.setItem("reset","false")),f(),await new Promise(p=>setTimeout(p,r/al))}),[f,W,L,ai]}class Np extends pe{constructor(e){super(),de(this,e,Cp,null,ae,{mainGameThreadLoop:0,_fixVariables:1,_bringModifiersBackToNormal:2,_bringStatsBackToNormal:3})}get mainGameThreadLoop(){return this.$$.ctx[0]}get _fixVariables(){return this.$$.ctx[1]}get _bringModifiersBackToNormal(){return this.$$.ctx[2]}get _bringStatsBackToNormal(){return ai}}function ul(t,e,n){const r=t.slice();return r[4]=e[n],r}function Ip(t){let e,n,r,i,o=He(t[0].economyAndLaws.balance_sheet_history),l=[];for(let s=0;s<o.length;s+=1)l[s]=fl(ul(t,o,s));return{c(){e=O("table"),n=O("thead"),n.innerHTML='<tr class="svelte-1m5x2x2"><th>Day</th> <th>Plot</th> <th>Profits</th> <th>Tax rate</th></tr>',r=V(),i=O("tbody");for(let s=0;s<l.length;s+=1)l[s].c();F(e,"class","svelte-1m5x2x2")},m(s,a){C(s,e,a),w(e,n),w(e,r),w(e,i);for(let u=0;u<l.length;u+=1)l[u]&&l[u].m(i,null)},p(s,a){if(a&3){o=He(s[0].economyAndLaws.balance_sheet_history);let u;for(u=0;u<o.length;u+=1){const f=ul(s,o,u);l[u]?l[u].p(f,a):(l[u]=fl(f),l[u].c(),l[u].m(i,null))}for(;u<l.length;u+=1)l[u].d(1);l.length=o.length}},d(s){s&&k(e),Ct(l,s)}}}function Tp(t){let e;return{c(){e=O("div"),e.textContent=`No data to display yet. Build some buildings and make sure that the tax
				rate is above 0%.`,F(e,"class","text-center padding-sides")},m(n,r){C(n,e,r)},p:oe,d(n){n&&k(e)}}}function fl(t){let e,n,r=t[4].day+"",i,o,l,s=t[4].plot+"",a,u,f,c=t[4].profits+"",d,h,m,_=t[4].taxRate+"",y,S,A,$;function W(){return t[2](t[4])}return{c(){e=O("tr"),n=O("td"),i=j(r),o=V(),l=O("th"),a=j(s),u=V(),f=O("td"),d=j(c),h=V(),m=O("td"),y=j(_),S=V(),F(n,"class","svelte-1m5x2x2"),F(l,"class","plot_link svelte-1m5x2x2"),F(f,"class","svelte-1m5x2x2"),F(m,"class","svelte-1m5x2x2"),F(e,"class","svelte-1m5x2x2")},m(L,R){C(L,e,R),w(e,n),w(n,i),w(e,o),w(e,l),w(l,a),w(e,u),w(e,f),w(f,d),w(e,h),w(e,m),w(m,y),w(e,S),A||($=J(l,"click",W),A=!0)},p(L,R){t=L,R&1&&r!==(r=t[4].day+"")&&se(i,r),R&1&&s!==(s=t[4].plot+"")&&se(a,s),R&1&&c!==(c=t[4].profits+"")&&se(d,c),R&1&&_!==(_=t[4].taxRate+"")&&se(y,_)},d(L){L&&k(e),A=!1,$()}}}function Ep(t){let e,n,r,i,o,l;function s(f,c){return f[0].economyAndLaws.balance_sheet_history.length==0?Tp:Ip}let a=s(t),u=a(t);return{c(){e=O("div"),n=O("div"),r=O("div"),r.textContent="Balance Sheet",i=V(),o=O("br"),l=V(),u.c(),F(r,"class","heading_m svelte-1m5x2x2"),F(n,"class","dialog-content svelte-1m5x2x2"),F(e,"class","dialog svelte-1m5x2x2")},m(f,c){C(f,e,c),w(e,n),w(n,r),w(n,i),w(n,o),w(n,l),u.m(n,null)},p(f,[c]){a===(a=s(f))&&u?u.p(f,c):(u.d(1),u=a(f),u&&(u.c(),u.m(n,null)))},i:oe,o:oe,d(f){f&&k(e),u.d()}}}function $p(t,e,n){let r,i;ie(t,Be,s=>n(3,r=s)),ie(t,Te,s=>n(0,i=s));function o(s){let a=parseInt(s.split(",")[0]),u=parseInt(s.split(",")[1]);Ce(Be,r.x=a,r),Ce(Be,r.y=u,r),Ce(Be,r.visible=!0,r)}return[i,o,s=>{o(s.plot)}]}class Rs extends pe{constructor(e){super(),de(this,e,$p,Ep,ae,{})}}function cl(t,e,n){const r=t.slice();return r[13]=e[n],r}function Mp(t){let e;return{c(){e=O("span"),e.textContent="No Alerts",F(e,"class","townLog text-xs text-slate-500 text-center")},m(n,r){C(n,e,r)},p:oe,d(n){n&&k(e)}}}function Pp(t){let e,n=t[1].townLog.split(`
`)[0]+"",r,i,o,l=He(t[1].townLog.split(`
`).slice(1,300)),s=[];for(let a=0;a<l.length;a+=1)s[a]=dl(cl(t,l,a));return{c(){e=O("div"),r=j(n),i=V();for(let a=0;a<s.length;a+=1)s[a].c();o=Me(),F(e,"class","townLog text-xs text-center")},m(a,u){C(a,e,u),w(e,r),C(a,i,u);for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(a,u);C(a,o,u)},p(a,u){if(u&2&&n!==(n=a[1].townLog.split(`
`)[0]+"")&&se(r,n),u&2){l=He(a[1].townLog.split(`
`).slice(1,300));let f;for(f=0;f<l.length;f+=1){const c=cl(a,l,f);s[f]?s[f].p(c,u):(s[f]=dl(c),s[f].c(),s[f].m(o.parentNode,o))}for(;f<s.length;f+=1)s[f].d(1);s.length=l.length}},d(a){a&&(k(e),k(i),k(o)),Ct(s,a)}}}function dl(t){let e,n=t[13]+"",r,i;return{c(){e=O("span"),r=j(n),i=V(),F(e,"class","townLog text-xs text-center cursor-pointer")},m(o,l){C(o,e,l),w(e,r),w(e,i)},p(o,l){l&2&&n!==(n=o[13]+"")&&se(r,n)},d(o){o&&k(e)}}}function pl(t){let e,n;return e=new Fs({props:{text:"Set this!!!"}}),{c(){Q(e.$$.fragment)},m(r,i){X(e,r,i),n=!0},i(r){n||(T(e.$$.fragment,r),n=!0)},o(r){P(e.$$.fragment,r),n=!1},d(r){Z(e,r)}}}function hl(t){let e,n;return e=new Rs({}),{c(){Q(e.$$.fragment)},m(r,i){X(e,r,i),n=!0},i(r){n||(T(e.$$.fragment,r),n=!0)},o(r){P(e.$$.fragment,r),n=!1},d(r){Z(e,r)}}}function Op(t){let e,n,r,i,o,l=t[1].townInfo.name+"",s,a,u,f,c,d,h,m,_,y,S,A,$,W,L,R,x,D,p,G,I,g,b,v,E,N,M,q,U=Rn(t[1].economyAndLaws.tax_rate*100,0)+"",ee,B,te,ue,K,Y,le,_e,Re,Ae,Ie,ve,We,ut,Ke,Qe,Ot;function _t(ge,De){return ge[1].townLog.length>0?Pp:Mp}let Xe=_t(t),Ze=Xe(t),Le=t[1].economyAndLaws.tax_rate==0&&pl();Ae=new Os({props:{class:`mb-3 mt-0 bg-slate-700
	`}}),ve=new Ls({});let Ne=t[5]&&hl();return{c(){e=O("div"),n=O("div"),r=O("div"),i=O("div"),o=O("div"),s=j(l),a=V(),u=O("div"),f=O("div"),c=O("span"),d=j(t[4]),h=j(" speed"),m=V(),_=O("span"),y=j("Day "),S=j(t[3]),A=j(" ("),$=j(t[2]),W=j("y)"),L=V(),R=O("span"),R.textContent="💡 Press P to Pause or learn how to play",x=V(),D=O("div"),p=O("div"),p.textContent="🚨 Alerts (scroll)",G=V(),Ze.c(),I=V(),g=O("div"),b=O("div"),v=O("div"),E=O("span"),E.textContent="Tax Rate",N=V(),M=O("span"),q=j("("),ee=j(U),B=j("%)"),te=V(),ue=O("input"),Y=V(),le=O("br"),_e=V(),Le&&Le.c(),Re=V(),Q(Ae.$$.fragment),Ie=V(),Q(ve.$$.fragment),We=V(),Ne&&Ne.c(),ut=Me(),F(o,"class","text-2xl font-bold cursor-pointer text-emerald-700"),F(o,"id","townName"),F(f,"class","flex flex-col"),F(u,"class","text-xs gap-2 cursor-pointer hover:text-blue-600"),F(R,"class","text-xs text-col"),F(p,"class","text-md cursor-pointer"),F(D,"class","flex flex-col gap-1 drop-shadow-md text-center pb-6 rounded-lg max-h-24 h-24 hover:max-h-48 hover:h-48 transition-all ml-6 mr-4 overflow-y-scroll scroll-smooth no-scrollbar cursor-pointer text-slate-500 hover:text-blue-600 w-1/2 "),F(E,"class","text-slate-500"),F(M,"class","text-sm text-gray-700"),F(v,"class","text-sm"),F(ue,"type","range"),F(ue,"min","0"),F(ue,"max","1.0"),F(ue,"step","0.05"),ue.value=K=t[1].economyAndLaws.tax_rate,F(ue,"class","cursor-pointer w-100 svelte-j064ft"),F(b,"class","pb-2 rounded-lg text-center"),F(g,"class",""),F(r,"class","select-none flex justify-evenly"),F(n,"class","select-none flex flex-col justify-start align-left text-left bg-slate-300 border-b-2 border-black text-black p-3 border-r-20 rounded-lg w-10/12"),F(n,"id","headerObject"),F(e,"class","<!-- center horizontally --> flex justify-center text-center p-3 fixed top-0 left-0 right-0 ")},m(ge,De){C(ge,e,De),w(e,n),w(n,r),w(r,i),w(i,o),w(o,s),w(i,a),w(i,u),w(u,f),w(f,c),w(c,d),w(c,h),w(f,m),w(f,_),w(_,y),w(_,S),w(_,A),w(_,$),w(_,W),w(i,L),w(i,R),w(r,x),w(r,D),w(D,p),w(D,G),Ze.m(D,null),w(r,I),w(r,g),w(g,b),w(b,v),w(v,E),w(v,N),w(v,M),w(M,q),w(M,ee),w(M,B),w(b,te),w(b,ue),w(b,Y),w(b,le),w(b,_e),Le&&Le.m(b,null),w(n,Re),X(Ae,n,null),w(n,Ie),X(ve,n,null),C(ge,We,De),Ne&&Ne.m(ge,De),C(ge,ut,De),Ke=!0,Qe||(Ot=[J(o,"click",t[6]),J(u,"click",t[7]),J(D,"click",t[10]),J(ue,"input",t[8])],Qe=!0)},p(ge,[De]){(!Ke||De&2)&&l!==(l=ge[1].townInfo.name+"")&&se(s,l),(!Ke||De&16)&&se(d,ge[4]),(!Ke||De&8)&&se(S,ge[3]),(!Ke||De&4)&&se($,ge[2]),Xe===(Xe=_t(ge))&&Ze?Ze.p(ge,De):(Ze.d(1),Ze=Xe(ge),Ze&&(Ze.c(),Ze.m(D,null))),(!Ke||De&2)&&U!==(U=Rn(ge[1].economyAndLaws.tax_rate*100,0)+"")&&se(ee,U),(!Ke||De&2&&K!==(K=ge[1].economyAndLaws.tax_rate))&&(ue.value=K),ge[1].economyAndLaws.tax_rate==0?Le?De&2&&T(Le,1):(Le=pl(),Le.c(),T(Le,1),Le.m(b,null)):Le&&(xe(),P(Le,1,1,()=>{Le=null}),qe()),ge[5]?Ne?De&32&&T(Ne,1):(Ne=hl(),Ne.c(),T(Ne,1),Ne.m(ut.parentNode,ut)):Ne&&(xe(),P(Ne,1,1,()=>{Ne=null}),qe())},i(ge){Ke||(T(Le),T(Ae.$$.fragment,ge),T(ve.$$.fragment,ge),T(Ne),Ke=!0)},o(ge){P(Le),P(Ae.$$.fragment,ge),P(ve.$$.fragment,ge),P(Ne),Ke=!1},d(ge){ge&&(k(e),k(We),k(ut)),Ze.d(),Le&&Le.d(),Z(Ae),Z(ve),Ne&&Ne.d(ge),Qe=!1,$e(Ot)}}}function Rn(t,e){if(e===void 0&&(e=0),t==null||t==null)return 0;t=parseFloat((t*Math.pow(10,e)).toFixed(11));var n=Math.round(t)/Math.pow(10,e);return+n.toFixed(e)}function Lp(t,e,n){let r,i,o,l;ie(t,Te,_=>n(1,r=_)),ie(t,tr,_=>n(11,i=_)),ie(t,ti,_=>n(12,o=_)),ie(t,hr,_=>n(5,l=_));let s,a;function u(){let _=prompt("Enter a new name for your town (under 200 chars)");if(_&&_.length<200){let y=r;y.townInfo.name=_,Te.set(y),localStorage.setItem(rt,JSON.stringify(y))}}let f="Normal";function c(){i==500?(Ce(tr,i=250,i),n(4,f="Fast")):(Ce(tr,i=500,i),n(4,f="Normal"))}function d(_){let y=r;y.economyAndLaws.tax_rate=Rn(_.target.value,2),Te.set(y),localStorage.setItem(rt,JSON.stringify(y))}function h(){let _=r;_.hasBank===!0?(_.townInfo.gold+=_.townInfo.gold_from_tourism,_.townInfo.gold_from_tourism=0,Te.set(_),localStorage.setItem(rt,JSON.stringify(_))):alert("You need a bank to transfer funds from tourism activities.")}document.addEventListener("keydown",_=>{switch(_.key.toLowerCase()){case"1":_.preventDefault(),c();break;case"2":_.preventDefault(),c();break}});const m=()=>{Ce(Te,r.townLog="",r)};return t.$$.update=()=>{if(t.$$.dirty&2){const _=document.getElementById("headerObject");_&&Ce(ti,o=_.offsetHeight+32,o),n(2,s=Math.floor(r.environment.day/365)+1),n(3,a=ot(r.environment.day))}},[Rn,r,s,a,f,l,u,c,d,h,m]}class Fp extends pe{constructor(e){super(),de(this,e,Lp,Op,ae,{roundTo:0,transferFundsFromBank:9})}get roundTo(){return Rn}get transferFundsFromBank(){return this.$$.ctx[9]}}function Rp(t){let e;const n=t[5].default,r=ye(n,t,t[8],null);return{c(){r&&r.c()},m(i,o){r&&r.m(i,o),e=!0},p(i,o){r&&r.p&&(!e||o&256)&&ke(r,n,i,i[8],e?we(n,i[8],o,null):Se(i[8]),null)},i(i){e||(T(r,i),e=!0)},o(i){P(r,i),e=!1},d(i){r&&r.d(i)}}}function xp(t){let e,n;const r=[{builders:t[3]},{class:je(bl({variant:t[1],size:t[2],className:t[0]}))},{type:"button"},t[4]];let i={$$slots:{default:[Rp]},$$scope:{ctx:t}};for(let o=0;o<r.length;o+=1)i=z(i,r[o]);return e=new cf({props:i}),e.$on("click",t[6]),e.$on("keydown",t[7]),{c(){Q(e.$$.fragment)},m(o,l){X(e,o,l),n=!0},p(o,[l]){const s=l&31?be(r,[l&8&&{builders:o[3]},l&7&&{class:je(bl({variant:o[1],size:o[2],className:o[0]}))},r[2],l&16&&Nt(o[4])]):{};l&256&&(s.$$scope={dirty:l,ctx:o}),e.$set(s)},i(o){n||(T(e.$$.fragment,o),n=!0)},o(o){P(e.$$.fragment,o),n=!1},d(o){Z(e,o)}}}function qp(t,e,n){const r=["class","variant","size","builders"];let i=fe(e,r),{$$slots:o={},$$scope:l}=e,{class:s=void 0}=e,{variant:a="default"}=e,{size:u="default"}=e,{builders:f=[]}=e;function c(h){ne.call(this,t,h)}function d(h){ne.call(this,t,h)}return t.$$set=h=>{e=z(z({},e),Fe(h)),n(4,i=fe(e,r)),"class"in h&&n(0,s=h.class),"variant"in h&&n(1,a=h.variant),"size"in h&&n(2,u=h.size),"builders"in h&&n(3,f=h.builders),"$$scope"in h&&n(8,l=h.$$scope)},[s,a,u,f,i,o,c,d,l]}class xi extends pe{constructor(e){super(),de(this,e,qp,xp,ae,{class:0,variant:1,size:2,builders:3})}}var ml=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,tt=t=>!t||typeof t!="object"||Object.keys(t).length===0,Dp=(t,e)=>JSON.stringify(t)===JSON.stringify(e);function xs(t,e){t.forEach(function(n){Array.isArray(n)?xs(n,e):e.push(n)})}function qs(t){let e=[];return xs(t,e),e}var Ds=(...t)=>qs(t).filter(Boolean),Bs=(t,e)=>{let n={},r=Object.keys(t),i=Object.keys(e);for(let o of r)if(i.includes(o)){let l=t[o],s=e[o];typeof l=="object"&&typeof s=="object"?n[o]=Bs(l,s):Array.isArray(l)||Array.isArray(s)?n[o]=Ds(s,l):n[o]=s+" "+l}else n[o]=t[o];for(let o of i)r.includes(o)||(n[o]=e[o]);return n},_l=t=>!t||typeof t!="string"?t:t.replace(/\s+/g," ").trim(),Bp={twMerge:!0,twMergeConfig:{},responsiveVariants:!1},Gs=t=>t||void 0,xn=(...t)=>Gs(qs(t).filter(Boolean).join(" ")),Ur=null,wt={},ui=!1,An=(...t)=>e=>e.twMerge?((!Ur||ui)&&(ui=!1,Ur=tt(wt)?Ms:cd({...wt,extend:{theme:wt.theme,classGroups:wt.classGroups,conflictingClassGroupModifiers:wt.conflictingClassGroupModifiers,conflictingClassGroups:wt.conflictingClassGroups,...wt.extend}})),Gs(Ur(xn(t)))):xn(t),gl=(t,e)=>{for(let n in e)t.hasOwnProperty(n)?t[n]=xn(t[n],e[n]):t[n]=e[n];return t},Gp=(t,e)=>{let{extend:n=null,slots:r={},variants:i={},compoundVariants:o=[],compoundSlots:l=[],defaultVariants:s={}}=t,a={...Bp,...e},u=n!=null&&n.base?xn(n.base,t==null?void 0:t.base):t==null?void 0:t.base,f=n!=null&&n.variants&&!tt(n.variants)?Bs(i,n.variants):i,c=n!=null&&n.defaultVariants&&!tt(n.defaultVariants)?{...n.defaultVariants,...s}:s;!tt(a.twMergeConfig)&&!Dp(a.twMergeConfig,wt)&&(ui=!0,wt=a.twMergeConfig);let d=tt(n==null?void 0:n.slots),h=tt(r)?{}:{base:xn(t==null?void 0:t.base,d&&(n==null?void 0:n.base)),...r},m=d?h:gl({...n==null?void 0:n.slots},tt(h)?{base:t==null?void 0:t.base}:h),_=S=>{if(tt(f)&&tt(r)&&d)return An(u,S==null?void 0:S.class,S==null?void 0:S.className)(a);if(o&&!Array.isArray(o))throw new TypeError(`The "compoundVariants" prop must be an array. Received: ${typeof o}`);if(l&&!Array.isArray(l))throw new TypeError(`The "compoundSlots" prop must be an array. Received: ${typeof l}`);let A=(g,b,v=[],E)=>{let N=v;if(typeof b=="string")N=N.concat(_l(b).split(" ").map(M=>`${g}:${M}`));else if(Array.isArray(b))N=N.concat(b.reduce((M,q)=>M.concat(`${g}:${q}`),[]));else if(typeof b=="object"&&typeof E=="string"){for(let M in b)if(b.hasOwnProperty(M)&&M===E){let q=b[M];if(q&&typeof q=="string"){let U=_l(q);N[E]?N[E]=N[E].concat(U.split(" ").map(ee=>`${g}:${ee}`)):N[E]=U.split(" ").map(ee=>`${g}:${ee}`)}else Array.isArray(q)&&q.length>0&&(N[E]=q.reduce((U,ee)=>U.concat(`${g}:${ee}`),[]))}}return N},$=(g,b=f,v=null,E=null)=>{var N;let M=b[g];if(!M||tt(M))return null;let q=(N=E==null?void 0:E[g])!=null?N:S==null?void 0:S[g];if(q===null)return null;let U=ml(q),ee=Array.isArray(a.responsiveVariants)&&a.responsiveVariants.length>0||a.responsiveVariants===!0,B=c==null?void 0:c[g],te=[];if(typeof U=="object"&&ee)for(let[Y,le]of Object.entries(U)){let _e=M[le];if(Y==="initial"){B=le;continue}Array.isArray(a.responsiveVariants)&&!a.responsiveVariants.includes(Y)||(te=A(Y,_e,te,v))}let ue=U!=null&&typeof U!="object"?U:ml(B),K=M[ue]||M.false;return typeof te=="object"&&typeof v=="string"&&te[v]?gl(te,K):te.length>0?(te.push(K),te):K},W=()=>f?Object.keys(f).map(g=>$(g,f)):null,L=(g,b)=>{if(!f||typeof f!="object")return null;let v=new Array;for(let E in f){let N=$(E,f,g,b),M=g==="base"&&typeof N=="string"?N:N&&N[g];M&&(v[v.length]=M)}return v},R={};for(let g in S)S[g]!==void 0&&(R[g]=S[g]);let x=(g,b)=>{var v;let E=typeof(S==null?void 0:S[g])=="object"?{[g]:(v=S[g])==null?void 0:v.initial}:{};return{...c,...R,...E,...b}},D=(g=[],b)=>{let v=[];for(let{class:E,className:N,...M}of g){let q=!0;for(let[U,ee]of Object.entries(M)){let B=x(U,b);if(Array.isArray(ee)){if(!ee.includes(B[U])){q=!1;break}}else if(B[U]!==ee){q=!1;break}}q&&(E&&v.push(E),N&&v.push(N))}return v},p=g=>{let b=D(o,g),v=D(n==null?void 0:n.compoundVariants,g);return Ds(v,b)},G=g=>{let b=p(g);if(!Array.isArray(b))return b;let v={};for(let E of b)if(typeof E=="string"&&(v.base=An(v.base,E)(a)),typeof E=="object")for(let[N,M]of Object.entries(E))v[N]=An(v[N],M)(a);return v},I=g=>{if(l.length<1)return null;let b={};for(let{slots:v=[],class:E,className:N,...M}of l){if(!tt(M)){let q=!0;for(let U of Object.keys(M)){let ee=x(U,g)[U];if(ee===void 0||(Array.isArray(M[U])?!M[U].includes(ee):M[U]!==ee)){q=!1;break}}if(!q)continue}for(let q of v)b[q]=b[q]||[],b[q].push([E,N])}return b};if(!tt(r)||!d){let g={};if(typeof m=="object"&&!tt(m))for(let b of Object.keys(m))g[b]=v=>{var E,N;return An(m[b],L(b,v),((E=G(v))!=null?E:[])[b],((N=I(v))!=null?N:[])[b],v==null?void 0:v.class,v==null?void 0:v.className)(a)};return g}return An(u,W(),p(),S==null?void 0:S.class,S==null?void 0:S.className)(a)},y=()=>{if(!(!f||typeof f!="object"))return Object.keys(f)};return _.variantKeys=y(),_.extend=n,_.base=u,_.slots=m,_.variants=f,_.defaultVariants=c,_.compoundSlots=l,_.compoundVariants=o,_};const bl=Gp({base:"inline-flex items-center justify-center rounded-md text-sm font-medium whitespace-nowrap ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}});function Hp(t){let e;const n=t[2].default,r=ye(n,t,t[4],null);return{c(){r&&r.c()},m(i,o){r&&r.m(i,o),e=!0},p(i,o){r&&r.p&&(!e||o&16)&&ke(r,n,i,i[4],e?we(n,i[4],o,null):Se(i[4]),null)},i(i){e||(T(r,i),e=!0)},o(i){P(r,i),e=!1},d(i){r&&r.d(i)}}}function jp(t){let e,n;const r=[{class:je("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",t[0])},t[1]];let i={$$slots:{default:[Hp]},$$scope:{ctx:t}};for(let o=0;o<r.length;o+=1)i=z(i,r[o]);return e=new Mc({props:i}),e.$on("mousedown",t[3]),{c(){Q(e.$$.fragment)},m(o,l){X(e,o,l),n=!0},p(o,[l]){const s=l&3?be(r,[l&1&&{class:je("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",o[0])},l&2&&Nt(o[1])]):{};l&16&&(s.$$scope={dirty:l,ctx:o}),e.$set(s)},i(o){n||(T(e.$$.fragment,o),n=!0)},o(o){P(e.$$.fragment,o),n=!1},d(o){Z(e,o)}}}function Vp(t,e,n){const r=["class"];let i=fe(e,r),{$$slots:o={},$$scope:l}=e,{class:s=void 0}=e;function a(u){ne.call(this,t,u)}return t.$$set=u=>{e=z(z({},e),Fe(u)),n(1,i=fe(e,r)),"class"in u&&n(0,s=u.class),"$$scope"in u&&n(4,l=u.$$scope)},[s,i,o,a,l]}class Zt extends pe{constructor(e){super(),de(this,e,Vp,jp,ae,{class:0})}}function vl(t,e,n){const r=t.slice();return r[10]=e[n],r}function Wp(t){let e;return{c(){e=j("Pause Menu")},m(n,r){C(n,e,r)},d(n){n&&k(e)}}}function Kp(t){let e;return{c(){e=j("Unpause any time by pressing 'P'")},m(n,r){C(n,e,r)},d(n){n&&k(e)}}}function Up(t){let e,n,r,i;return e=new hn({props:{$$slots:{default:[Wp]},$$scope:{ctx:t}}}),r=new gn({props:{$$slots:{default:[Kp]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment),n=V(),Q(r.$$.fragment)},m(o,l){X(e,o,l),C(o,n,l),X(r,o,l),i=!0},p(o,l){const s={};l&8192&&(s.$$scope={dirty:l,ctx:o}),e.$set(s);const a={};l&8192&&(a.$$scope={dirty:l,ctx:o}),r.$set(a)},i(o){i||(T(e.$$.fragment,o),T(r.$$.fragment,o),i=!0)},o(o){P(e.$$.fragment,o),P(r.$$.fragment,o),i=!1},d(o){o&&k(n),Z(e,o),Z(r,o)}}}function yl(t){let e,n,r,i,o,l=JSON.stringify(t[2].requirements[t[0].difficulty].population_count)+"",s,a,u=JSON.stringify(t[0].townInfo.population_count)+"",f,c,d,h,m=JSON.stringify(t[2].requirements[t[0].difficulty].happiness)+"",_,y,S=JSON.stringify(t[0].townInfo.happiness)+"",A,$,W,L,R=JSON.stringify(t[2].requirements[t[0].difficulty].employment*100)+"",x,D,p=JSON.stringify((t[0].townInfo.employees/t[0].townInfo.population_count||0)*100)+"",G,I,g,b,v,E=JSON.stringify(t[2].requirements[t[0].difficulty].health)+"",N,M,q=JSON.stringify(t[0].townInfo.health)+"",U,ee,B,te,ue=JSON.stringify(t[2].requirements[t[0].difficulty].knowledge)+"",K,Y,le=JSON.stringify(t[0].townInfo.knowledge_points)+"",_e,Re,Ae;function Ie(re,Pe){return re[0].townInfo.population_count>=re[2].requirements[re[0].difficulty].population_count?Jp:Yp}let ve=Ie(t),We=ve(t);function ut(re,Pe){return re[0].townInfo.happiness>=re[2].requirements[re[0].difficulty].happiness?Zp:Xp}let Ke=ut(t),Qe=Ke(t);function Ot(re,Pe){return re[0].townInfo.employees/re[0].townInfo.population_count>=re[2].requirements[re[0].difficulty].employment?zp:Qp}let _t=Ot(t),Xe=_t(t);function Ze(re,Pe){return re[0].townInfo.health>=re[2].requirements[re[0].difficulty].health?th:eh}let Le=Ze(t),Ne=Le(t);function ge(re,Pe){return re[0].townInfo.knowledge_points>=re[2].requirements[re[0].difficulty].knowledge?rh:nh}let De=ge(t),ft=De(t),Je=t[2].requirements[t[0].difficulty].required_plots!=null&&t[2].requirements[t[0].difficulty].required_plots.length>0&&wl(t);return{c(){e=O("div"),e.textContent=`With your difficulty (${t[3]}), you must also have:`,n=V(),r=O("ul"),i=O("li"),We.c(),o=j(`
						Population: `),s=j(l),a=j(" - Currently at "),f=j(u),c=V(),d=O("li"),Qe.c(),h=j(`
						Happiness: `),_=j(m),y=j(" - Currently at "),A=j(S),$=V(),W=O("li"),Xe.c(),L=j(`
						Employment: `),x=j(R),D=j("% - Currently at "),G=j(p),I=j("%"),g=V(),b=O("li"),Ne.c(),v=j(`
						Health: `),N=j(E),M=j(" - Currently at "),U=j(q),ee=V(),B=O("li"),ft.c(),te=j(`
						Knowledge: `),K=j(ue),Y=j(" - Currently at "),_e=j(le),Re=V(),Je&&Je.c(),Ae=Me(),F(e,"class","text-base leading-relaxed"),F(r,"class","list-inside list-disc text-base leading-relaxedmt-0")},m(re,Pe){C(re,e,Pe),C(re,n,Pe),C(re,r,Pe),w(r,i),We.m(i,null),w(i,o),w(i,s),w(i,a),w(i,f),w(r,c),w(r,d),Qe.m(d,null),w(d,h),w(d,_),w(d,y),w(d,A),w(r,$),w(r,W),Xe.m(W,null),w(W,L),w(W,x),w(W,D),w(W,G),w(W,I),w(r,g),w(r,b),Ne.m(b,null),w(b,v),w(b,N),w(b,M),w(b,U),w(r,ee),w(r,B),ft.m(B,null),w(B,te),w(B,K),w(B,Y),w(B,_e),C(re,Re,Pe),Je&&Je.m(re,Pe),C(re,Ae,Pe)},p(re,Pe){ve!==(ve=Ie(re))&&(We.d(1),We=ve(re),We&&(We.c(),We.m(i,o))),Pe&1&&l!==(l=JSON.stringify(re[2].requirements[re[0].difficulty].population_count)+"")&&se(s,l),Pe&1&&u!==(u=JSON.stringify(re[0].townInfo.population_count)+"")&&se(f,u),Ke!==(Ke=ut(re))&&(Qe.d(1),Qe=Ke(re),Qe&&(Qe.c(),Qe.m(d,h))),Pe&1&&m!==(m=JSON.stringify(re[2].requirements[re[0].difficulty].happiness)+"")&&se(_,m),Pe&1&&S!==(S=JSON.stringify(re[0].townInfo.happiness)+"")&&se(A,S),_t!==(_t=Ot(re))&&(Xe.d(1),Xe=_t(re),Xe&&(Xe.c(),Xe.m(W,L))),Pe&1&&R!==(R=JSON.stringify(re[2].requirements[re[0].difficulty].employment*100)+"")&&se(x,R),Pe&1&&p!==(p=JSON.stringify((re[0].townInfo.employees/re[0].townInfo.population_count||0)*100)+"")&&se(G,p),Le!==(Le=Ze(re))&&(Ne.d(1),Ne=Le(re),Ne&&(Ne.c(),Ne.m(b,v))),Pe&1&&E!==(E=JSON.stringify(re[2].requirements[re[0].difficulty].health)+"")&&se(N,E),Pe&1&&q!==(q=JSON.stringify(re[0].townInfo.health)+"")&&se(U,q),De!==(De=ge(re))&&(ft.d(1),ft=De(re),ft&&(ft.c(),ft.m(B,te))),Pe&1&&ue!==(ue=JSON.stringify(re[2].requirements[re[0].difficulty].knowledge)+"")&&se(K,ue),Pe&1&&le!==(le=JSON.stringify(re[0].townInfo.knowledge_points)+"")&&se(_e,le),re[2].requirements[re[0].difficulty].required_plots!=null&&re[2].requirements[re[0].difficulty].required_plots.length>0?Je?Je.p(re,Pe):(Je=wl(re),Je.c(),Je.m(Ae.parentNode,Ae)):Je&&(Je.d(1),Je=null)},d(re){re&&(k(e),k(n),k(r),k(Re),k(Ae)),We.d(),Qe.d(),Xe.d(),Ne.d(),ft.d(),Je&&Je.d(re)}}}function Yp(t){let e;return{c(){e=j("❌")},m(n,r){C(n,e,r)},d(n){n&&k(e)}}}function Jp(t){let e;return{c(){e=j("✅")},m(n,r){C(n,e,r)},d(n){n&&k(e)}}}function Xp(t){let e;return{c(){e=j("❌")},m(n,r){C(n,e,r)},d(n){n&&k(e)}}}function Zp(t){let e;return{c(){e=j("✅")},m(n,r){C(n,e,r)},d(n){n&&k(e)}}}function Qp(t){let e;return{c(){e=j("❌")},m(n,r){C(n,e,r)},d(n){n&&k(e)}}}function zp(t){let e;return{c(){e=j("✅")},m(n,r){C(n,e,r)},d(n){n&&k(e)}}}function eh(t){let e;return{c(){e=j("❌")},m(n,r){C(n,e,r)},d(n){n&&k(e)}}}function th(t){let e;return{c(){e=j("✅")},m(n,r){C(n,e,r)},d(n){n&&k(e)}}}function nh(t){let e;return{c(){e=j("❌")},m(n,r){C(n,e,r)},d(n){n&&k(e)}}}function rh(t){let e;return{c(){e=j("✅")},m(n,r){C(n,e,r)},d(n){n&&k(e)}}}function wl(t){let e,n,r,i=He(t[2].requirements[t[0].difficulty].required_plots),o=[];for(let l=0;l<i.length;l+=1)o[l]=kl(vl(t,i,l));return{c(){e=O("br"),n=j(`
					You also need to have these plots:
					`);for(let l=0;l<o.length;l+=1)o[l].c();r=Me()},m(l,s){C(l,e,s),C(l,n,s);for(let a=0;a<o.length;a+=1)o[a]&&o[a].m(l,s);C(l,r,s)},p(l,s){if(s&5){i=He(l[2].requirements[l[0].difficulty].required_plots);let a;for(a=0;a<i.length;a+=1){const u=vl(l,i,a);o[a]?o[a].p(u,s):(o[a]=kl(u),o[a].c(),o[a].m(r.parentNode,r))}for(;a<o.length;a+=1)o[a].d(1);o.length=i.length}},d(l){l&&(k(e),k(n),k(r)),Ct(o,l)}}}function ih(t){let e;return{c(){e=j("❌")},m(n,r){C(n,e,r)},d(n){n&&k(e)}}}function oh(t){let e;return{c(){e=j("✅")},m(n,r){C(n,e,r)},d(n){n&&k(e)}}}function kl(t){let e,n,r,i,o=t[10]+"",l,s;function a(c,d){return d&1&&(r=null),r==null&&(r=!!Mi(c[10],c[0])),r?oh:ih}let u=a(t,-1),f=u(t);return{c(){e=O("div"),n=O("li"),f.c(),i=V(),l=j(o),s=V(),F(e,"class","text-base leading-relaxed")},m(c,d){C(c,e,d),w(e,n),f.m(n,null),w(n,i),w(n,l),w(e,s)},p(c,d){u!==(u=a(c,d))&&(f.d(1),f=u(c),f&&(f.c(),f.m(n,i))),d&1&&o!==(o=c[10]+"")&&se(l,o)},d(c){c&&k(e),f.d()}}}function lh(t){let e;return{c(){e=j("Save game")},m(n,r){C(n,e,r)},d(n){n&&k(e)}}}function sh(t){let e;return{c(){e=j("Save")},m(n,r){C(n,e,r)},d(n){n&&k(e)}}}function ah(t){let e;return{c(){e=j("Upload game")},m(n,r){C(n,e,r)},d(n){n&&k(e)}}}function uh(t){let e,n,r,i,o,l,s,a,u,f;return r=new Zt({props:{for:"saveButton",class:`cursor-pointer bg-blue-600 rounded-md text-center p-2.5 hover:bg-blue-700 justify-center flex 
					`,$$slots:{default:[lh]},$$scope:{ctx:t}}}),o=new xi({props:{class:`
					bg-blue-600 hover:bg-blue-700 hidden
					`,id:"saveButton",$$slots:{default:[sh]},$$scope:{ctx:t}}}),o.$on("click",t[6]),s=new Zt({props:{for:"upload",class:`cursor-pointer bg-blue-600 rounded-md text-center p-2.5 hover:bg-blue-700 justify-center flex 
					`,$$slots:{default:[ah]},$$scope:{ctx:t}}}),u=new Ri({props:{class:"hidden",type:"file",id:"upload"}}),u.$on("change",t[5]),{c(){e=O("div"),n=O("div"),Q(r.$$.fragment),i=V(),Q(o.$$.fragment),l=V(),Q(s.$$.fragment),a=V(),Q(u.$$.fragment),F(n,"class","flex gap-10"),F(e,"class","flex flex-col gap-3")},m(c,d){C(c,e,d),w(e,n),X(r,n,null),w(n,i),X(o,n,null),w(n,l),X(s,n,null),w(n,a),X(u,n,null),f=!0},p(c,d){const h={};d&8192&&(h.$$scope={dirty:d,ctx:c}),r.$set(h);const m={};d&8192&&(m.$$scope={dirty:d,ctx:c}),o.$set(m);const _={};d&8192&&(_.$$scope={dirty:d,ctx:c}),s.$set(_)},i(c){f||(T(r.$$.fragment,c),T(o.$$.fragment,c),T(s.$$.fragment,c),T(u.$$.fragment,c),f=!0)},o(c){P(r.$$.fragment,c),P(o.$$.fragment,c),P(s.$$.fragment,c),P(u.$$.fragment,c),f=!1},d(c){c&&k(e),Z(r),Z(o),Z(s),Z(u)}}}function fh(t){let e,n,r,i,o,l,s,a;e=new mn({props:{$$slots:{default:[Up]},$$scope:{ctx:t}}});let u=t[0].endGoal=="land"&&yl(t);return s=new jn({props:{$$slots:{default:[uh]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment),n=V(),r=O("span"),r.textContent=`${t[2].description_title}`,i=V(),o=O("div"),u&&u.c(),l=V(),Q(s.$$.fragment),F(r,"class","italic"),F(o,"class","gap-0 py-0 text-gray-400")},m(f,c){X(e,f,c),C(f,n,c),C(f,r,c),C(f,i,c),C(f,o,c),u&&u.m(o,null),C(f,l,c),X(s,f,c),a=!0},p(f,c){const d={};c&8192&&(d.$$scope={dirty:c,ctx:f}),e.$set(d),f[0].endGoal=="land"?u?u.p(f,c):(u=yl(f),u.c(),u.m(o,null)):u&&(u.d(1),u=null);const h={};c&8192&&(h.$$scope={dirty:c,ctx:f}),s.$set(h)},i(f){a||(T(e.$$.fragment,f),T(s.$$.fragment,f),a=!0)},o(f){P(e.$$.fragment,f),P(s.$$.fragment,f),a=!1},d(f){f&&(k(n),k(r),k(i),k(o),k(l)),Z(e,f),u&&u.d(),Z(s,f)}}}function ch(t){let e,n;return e=new _n({props:{$$slots:{default:[fh]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment)},m(r,i){X(e,r,i),n=!0},p(r,i){const o={};i&8193&&(o.$$scope={dirty:i,ctx:r}),e.$set(o)},i(r){n||(T(e.$$.fragment,r),n=!0)},o(r){P(e.$$.fragment,r),n=!1},d(r){Z(e,r)}}}function dh(t){let e,n,r;function i(l){t[7](l)}let o={$$slots:{default:[ch]},$$scope:{ctx:t}};return t[1]!==void 0&&(o.open=t[1]),e=new bn({props:o}),Ee.push(()=>cn(e,"open",i)),{c(){Q(e.$$.fragment)},m(l,s){X(e,l,s),r=!0},p(l,[s]){const a={};s&8193&&(a.$$scope={dirty:s,ctx:l}),!n&&s&2&&(n=!0,a.open=l[1],fn(()=>n=!1)),e.$set(a)},i(l){r||(T(e.$$.fragment,l),r=!0)},o(l){P(e.$$.fragment,l),r=!1},d(l){Z(e,l)}}}function ph(t){const e=JSON.parse(t);return e.townInfo!=null&&e.difficulty!=null}function hh(t,e,n){let r,i;ie(t,Te,d=>n(0,r=d)),ie(t,kt,d=>n(1,i=d));const l=ze[r.endGoal],s=$i[r.difficulty]||0;function a(){const d=JSON.stringify(r),h=new Blob([d],{type:"text/plain"}),m=URL.createObjectURL(h),_=document.createElement("a");_.href=m,_.download=`${new Date().toISOString()}.json`,document.body.appendChild(_),_.click(),document.body.removeChild(_),URL.revokeObjectURL(m)}function u(){const h=document.getElementById("upload").files;if(h==null)return;const m=h[0],_=new FileReader;_.onload=function(y){if(y.target==null)return;const S=y.target.result;if(typeof S=="string"){if(!ph(S)){alert("Invalid game file");return}Pi(JSON.parse(S))}else alert("Invalid game file: is not String.")},_.readAsText(m)}const f=()=>a();function c(d){i=d,kt.set(i)}return t.$$.update=()=>{t.$$.dirty&1},[r,i,l,s,a,u,f,c]}class mh extends pe{constructor(e){super(),de(this,e,hh,dh,ae,{})}}function _h(t){let e=t[0].endGameDetails.win==!0?"You won! 🎉":"You lost! 😭",n;return{c(){n=j(e)},m(r,i){C(r,n,i)},p(r,i){i&1&&e!==(e=r[0].endGameDetails.win==!0?"You won! 🎉":"You lost! 😭")&&se(n,e)},d(r){r&&k(n)}}}function gh(t){let e;return{c(){e=j("Keep playin'")},m(n,r){C(n,e,r)},d(n){n&&k(e)}}}function bh(t){let e,n=t[0].endGameDetails.msg+"",r,i,o,l,s,a,u,f;return u=new xi({props:{$$slots:{default:[gh]},$$scope:{ctx:t}}}),u.$on("click",t[2]),{c(){e=O("span"),r=j(n),i=V(),o=O("br"),l=V(),s=O("br"),a=V(),Q(u.$$.fragment),F(e,"class","text-gray-500 text-sm")},m(c,d){C(c,e,d),w(e,r),C(c,i,d),C(c,o,d),C(c,l,d),C(c,s,d),C(c,a,d),X(u,c,d),f=!0},p(c,d){(!f||d&1)&&n!==(n=c[0].endGameDetails.msg+"")&&se(r,n);const h={};d&16&&(h.$$scope={dirty:d,ctx:c}),u.$set(h)},i(c){f||(T(u.$$.fragment,c),f=!0)},o(c){P(u.$$.fragment,c),f=!1},d(c){c&&(k(e),k(i),k(o),k(l),k(s),k(a)),Z(u,c)}}}function vh(t){let e,n,r,i;return e=new hn({props:{$$slots:{default:[_h]},$$scope:{ctx:t}}}),r=new gn({props:{$$slots:{default:[bh]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment),n=V(),Q(r.$$.fragment)},m(o,l){X(e,o,l),C(o,n,l),X(r,o,l),i=!0},p(o,l){const s={};l&17&&(s.$$scope={dirty:l,ctx:o}),e.$set(s);const a={};l&17&&(a.$$scope={dirty:l,ctx:o}),r.$set(a)},i(o){i||(T(e.$$.fragment,o),T(r.$$.fragment,o),i=!0)},o(o){P(e.$$.fragment,o),P(r.$$.fragment,o),i=!1},d(o){o&&k(n),Z(e,o),Z(r,o)}}}function yh(t){let e;return{c(){e=O("span"),e.textContent="Reset the game by pressing SHIFT+ESC",F(e,"class","text-gray-500 text-sm")},m(n,r){C(n,e,r)},p:oe,d(n){n&&k(e)}}}function wh(t){let e,n,r,i;return e=new mn({props:{$$slots:{default:[vh]},$$scope:{ctx:t}}}),r=new jn({props:{$$slots:{default:[yh]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment),n=V(),Q(r.$$.fragment)},m(o,l){X(e,o,l),C(o,n,l),X(r,o,l),i=!0},p(o,l){const s={};l&17&&(s.$$scope={dirty:l,ctx:o}),e.$set(s);const a={};l&16&&(a.$$scope={dirty:l,ctx:o}),r.$set(a)},i(o){i||(T(e.$$.fragment,o),T(r.$$.fragment,o),i=!0)},o(o){P(e.$$.fragment,o),P(r.$$.fragment,o),i=!1},d(o){o&&k(n),Z(e,o),Z(r,o)}}}function kh(t){let e,n;return e=new _n({props:{$$slots:{default:[wh]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment)},m(r,i){X(e,r,i),n=!0},p(r,i){const o={};i&17&&(o.$$scope={dirty:i,ctx:r}),e.$set(o)},i(r){n||(T(e.$$.fragment,r),n=!0)},o(r){P(e.$$.fragment,r),n=!1},d(r){Z(e,r)}}}function Sh(t){let e,n,r;function i(l){t[3](l)}let o={$$slots:{default:[kh]},$$scope:{ctx:t}};return t[1]!==void 0&&(o.open=t[1]),e=new bn({props:o}),Ee.push(()=>cn(e,"open",i)),{c(){Q(e.$$.fragment)},m(l,s){X(e,l,s),r=!0},p(l,[s]){const a={};s&17&&(a.$$scope={dirty:s,ctx:l}),!n&&s&2&&(n=!0,a.open=l[1],fn(()=>n=!1)),e.$set(a)},i(l){r||(T(e.$$.fragment,l),r=!0)},o(l){P(e.$$.fragment,l),r=!1},d(l){Z(e,l)}}}function Ah(t,e,n){let r;ie(t,Te,s=>n(0,r=s));let i=!1;function o(){let s=r;s.overtime=!0,Te.set(s),n(1,i=!1),kt.set(!1)}function l(s){i=s,n(1,i),n(0,r)}return t.$$.update=()=>{t.$$.dirty&1&&(r.endGameDetails!=null&&r.overtime==!1?n(1,i=!0):n(1,i=!1))},[r,i,o,l]}class Ch extends pe{constructor(e){super(),de(this,e,Ah,Sh,ae,{})}}function Nh(t){let e;return{c(){e=j("Welcome to Plots!")},m(n,r){C(n,e,r)},d(n){n&&k(e)}}}function Ih(t){let e;return{c(){e=j("Select a difficulty")},m(n,r){C(n,e,r)},d(n){n&&k(e)}}}function Th(t){let e;return{c(){e=j("Select a game mode")},m(n,r){C(n,e,r)},d(n){n&&k(e)}}}function Eh(t){let e;return{c(){e=O("p"),e.textContent=`${ze.political.description_title}`,F(e,"class","text-gray-500 text-sm")},m(n,r){C(n,e,r)},d(n){n&&k(e)}}}function $h(t){let e;return{c(){e=O("p"),e.textContent=`${ze.land.description_title}`,F(e,"class","text-gray-500 text-sm")},m(n,r){C(n,e,r)},d(n){n&&k(e)}}}function Mh(t){let e;return{c(){e=j("Town Name")},m(n,r){C(n,e,r)},d(n){n&&k(e)}}}function Ph(t){let e;return{c(){e=j("Cheats")},m(n,r){C(n,e,r)},d(n){n&&k(e)}}}function Oh(t){let e,n,r,i,o,l,s,a,u,f,c,d,h,m,_,y,S,A,$,W,L,R,x,D,p,G,I,g,b,v,E,N,M;o=new Zt({props:{for:"difficulty",class:"mt-2",$$slots:{default:[Ih]},$$scope:{ctx:t}}}),h=new Zt({props:{for:"endGoal",class:"mt-2",$$slots:{default:[Th]},$$scope:{ctx:t}}});function q(B,te){return B[0]==="land"?$h:Eh}let U=q(t),ee=U(t);return L=new Zt({props:{for:"townName",class:"mt-2",$$slots:{default:[Mh]},$$scope:{ctx:t}}}),x=new Ri({props:{id:"townName",class:"mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Will be randomized if you leave blank"}}),G=new Zt({props:{for:"cheats",class:"mt-2",$$slots:{default:[Ph]},$$scope:{ctx:t}}}),{c(){e=O("a"),e.textContent="GitHub / Learn how to play",n=V(),r=O("div"),i=O("div"),Q(o.$$.fragment),l=V(),s=O("select"),a=O("option"),a.textContent="Easy (quick game)",u=O("option"),u.textContent="Normal",f=O("option"),f.textContent="Hard (longest game)",c=V(),d=O("div"),Q(h.$$.fragment),m=V(),ee.c(),_=V(),y=O("select"),S=O("option"),S.textContent=`${ze.land.short_title}`,A=O("option"),A.textContent="Rule the world through politics",$=V(),W=O("div"),Q(L.$$.fragment),R=V(),Q(x.$$.fragment),D=V(),p=O("div"),Q(G.$$.fragment),I=V(),g=O("select"),b=O("option"),b.textContent="No cheats",v=O("option"),v.textContent="Dev mode",F(e,"href","https://github.com/josephrcox/plots#how-to-play"),F(e,"class","text-blue-500 text-sm mb-4 hover:underline"),F(e,"target","_blank"),a.__value="0",yt(a,a.__value),u.__value="1",yt(u,u.__value),u.selected=!0,f.__value="2",yt(f,f.__value),F(s,"id","difficulty"),F(s,"class","mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),S.__value="land",yt(S,S.__value),A.__value="political",yt(A,A.__value),F(y,"id","endGoal"),F(y,"class","mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),b.__value="false",yt(b,b.__value),b.selected=!0,v.__value="true",yt(v,v.__value),F(g,"id","cheats"),F(g,"class","mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),F(r,"class","flex flex-col justify-center gap-5 mt-4")},m(B,te){C(B,e,te),C(B,n,te),C(B,r,te),w(r,i),X(o,i,null),w(i,l),w(i,s),w(s,a),w(s,u),w(s,f),w(r,c),w(r,d),X(h,d,null),w(d,m),ee.m(d,null),w(d,_),w(d,y),w(y,S),w(y,A),Yi(y,t[0]),w(r,$),w(r,W),X(L,W,null),w(W,R),X(x,W,null),w(r,D),w(r,p),X(G,p,null),w(p,I),w(p,g),w(g,b),w(g,v),E=!0,N||(M=J(y,"change",t[3]),N=!0)},p(B,te){const ue={};te&32&&(ue.$$scope={dirty:te,ctx:B}),o.$set(ue);const K={};te&32&&(K.$$scope={dirty:te,ctx:B}),h.$set(K),U!==(U=q(B))&&(ee.d(1),ee=U(B),ee&&(ee.c(),ee.m(d,_))),(!E||te&1)&&Yi(y,B[0]);const Y={};te&32&&(Y.$$scope={dirty:te,ctx:B}),L.$set(Y);const le={};te&32&&(le.$$scope={dirty:te,ctx:B}),G.$set(le)},i(B){E||(T(o.$$.fragment,B),T(h.$$.fragment,B),T(L.$$.fragment,B),T(x.$$.fragment,B),T(G.$$.fragment,B),E=!0)},o(B){P(o.$$.fragment,B),P(h.$$.fragment,B),P(L.$$.fragment,B),P(x.$$.fragment,B),P(G.$$.fragment,B),E=!1},d(B){B&&(k(e),k(n),k(r)),Z(o),Z(h),ee.d(),Z(L),Z(x),Z(G),N=!1,M()}}}function Lh(t){let e,n,r,i;return e=new hn({props:{$$slots:{default:[Nh]},$$scope:{ctx:t}}}),r=new gn({props:{$$slots:{default:[Oh]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment),n=V(),Q(r.$$.fragment)},m(o,l){X(e,o,l),C(o,n,l),X(r,o,l),i=!0},p(o,l){const s={};l&32&&(s.$$scope={dirty:l,ctx:o}),e.$set(s);const a={};l&33&&(a.$$scope={dirty:l,ctx:o}),r.$set(a)},i(o){i||(T(e.$$.fragment,o),T(r.$$.fragment,o),i=!0)},o(o){P(e.$$.fragment,o),P(r.$$.fragment,o),i=!1},d(o){o&&k(n),Z(e,o),Z(r,o)}}}function Fh(t){let e,n,r;return{c(){e=O("button"),e.textContent="Start game",F(e,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-md")},m(i,o){C(i,e,o),n||(r=J(e,"click",t[2]),n=!0)},p:oe,d(i){i&&k(e),n=!1,r()}}}function Rh(t){let e,n,r,i;return e=new mn({props:{$$slots:{default:[Lh]},$$scope:{ctx:t}}}),r=new jn({props:{$$slots:{default:[Fh]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment),n=V(),Q(r.$$.fragment)},m(o,l){X(e,o,l),C(o,n,l),X(r,o,l),i=!0},p(o,l){const s={};l&33&&(s.$$scope={dirty:l,ctx:o}),e.$set(s);const a={};l&32&&(a.$$scope={dirty:l,ctx:o}),r.$set(a)},i(o){i||(T(e.$$.fragment,o),T(r.$$.fragment,o),i=!0)},o(o){P(e.$$.fragment,o),P(r.$$.fragment,o),i=!1},d(o){o&&k(n),Z(e,o),Z(r,o)}}}function xh(t){let e,n;return e=new _n({props:{transition:Ps,$$slots:{default:[Rh]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment)},m(r,i){X(e,r,i),n=!0},p(r,i){const o={};i&33&&(o.$$scope={dirty:i,ctx:r}),e.$set(o)},i(r){n||(T(e.$$.fragment,r),n=!0)},o(r){P(e.$$.fragment,r),n=!1},d(r){Z(e,r)}}}function qh(t){let e,n,r;function i(l){t[4](l)}let o={$$slots:{default:[xh]},$$scope:{ctx:t}};return t[1].visible!==void 0&&(o.open=t[1].visible),e=new bn({props:o}),Ee.push(()=>cn(e,"open",i)),{c(){Q(e.$$.fragment)},m(l,s){X(e,l,s),r=!0},p(l,[s]){const a={};s&33&&(a.$$scope={dirty:s,ctx:l}),!n&&s&2&&(n=!0,a.open=l[1].visible,fn(()=>n=!1)),e.$set(a)},i(l){r||(T(e.$$.fragment,l),r=!0)},o(l){P(e.$$.fragment,l),r=!1},d(l){Z(e,l)}}}function Dh(t,e,n){let r;ie(t,On,a=>n(1,r=a));function i(){const a=document.getElementById("difficulty").value,u=document.getElementById("endGoal").value,f=document.getElementById("townName").value,c=document.getElementById("cheats").value=="true";Ya(a,u,f,c)}let o="land";const l=a=>{n(0,o=a.target.value)};function s(a){t.$$.not_equal(r.visible,a)&&(r.visible=a,On.set(r))}return[o,r,i,l,s]}class Bh extends pe{constructor(e){super(),de(this,e,Dh,qh,ae,{})}}function Gh(t){let e;return{c(){e=j("Scoreboard")},m(n,r){C(n,e,r)},d(n){n&&k(e)}}}function Hh(t){let e=t[1].description_title+"",n;return{c(){n=j(e)},m(r,i){C(r,n,i)},p:oe,d(r){r&&k(n)}}}function jh(t){let e,n,r,i;return e=new hn({props:{$$slots:{default:[Gh]},$$scope:{ctx:t}}}),r=new gn({props:{$$slots:{default:[Hh]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment),n=V(),Q(r.$$.fragment)},m(o,l){X(e,o,l),C(o,n,l),X(r,o,l),i=!0},p(o,l){const s={};l&128&&(s.$$scope={dirty:l,ctx:o}),e.$set(s);const a={};l&128&&(a.$$scope={dirty:l,ctx:o}),r.$set(a)},i(o){i||(T(e.$$.fragment,o),T(r.$$.fragment,o),i=!0)},o(o){P(e.$$.fragment,o),P(r.$$.fragment,o),i=!1},d(o){o&&k(n),Z(e,o),Z(r,o)}}}function Vh(t){let e;return{c(){e=j("footer")},m(n,r){C(n,e,r)},d(n){n&&k(e)}}}function Wh(t){let e,n,r,i;return e=new mn({props:{$$slots:{default:[jh]},$$scope:{ctx:t}}}),r=new jn({props:{$$slots:{default:[Vh]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment),n=j(`
		hi
		`),Q(r.$$.fragment)},m(o,l){X(e,o,l),C(o,n,l),X(r,o,l),i=!0},p(o,l){const s={};l&128&&(s.$$scope={dirty:l,ctx:o}),e.$set(s);const a={};l&128&&(a.$$scope={dirty:l,ctx:o}),r.$set(a)},i(o){i||(T(e.$$.fragment,o),T(r.$$.fragment,o),i=!0)},o(o){P(e.$$.fragment,o),P(r.$$.fragment,o),i=!1},d(o){o&&k(n),Z(e,o),Z(r,o)}}}function Kh(t){let e,n;return e=new _n({props:{$$slots:{default:[Wh]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment)},m(r,i){X(e,r,i),n=!0},p(r,i){const o={};i&128&&(o.$$scope={dirty:i,ctx:r}),e.$set(o)},i(r){n||(T(e.$$.fragment,r),n=!0)},o(r){P(e.$$.fragment,r),n=!1},d(r){Z(e,r)}}}function Uh(t){let e,n,r;function i(l){t[3](l)}let o={$$slots:{default:[Kh]},$$scope:{ctx:t}};return t[0]!==void 0&&(o.open=t[0]),e=new bn({props:o}),Ee.push(()=>cn(e,"open",i)),{c(){Q(e.$$.fragment)},m(l,s){X(e,l,s),r=!0},p(l,[s]){const a={};s&128&&(a.$$scope={dirty:s,ctx:l}),!n&&s&1&&(n=!0,a.open=l[0],fn(()=>n=!1)),e.$set(a)},i(l){r||(T(e.$$.fragment,l),r=!0)},o(l){P(e.$$.fragment,l),r=!1},d(l){Z(e,l)}}}function Yh(t,e,n){let r,i;ie(t,Te,a=>n(2,r=a)),ie(t,Xi,a=>n(0,i=a));const l=ze[r.endGoal];$i[r.difficulty];function s(a){i=a,Xi.set(i)}return t.$$.update=()=>{t.$$.dirty&4},[i,l,r,s]}class Jh extends pe{constructor(e){super(),de(this,e,Yh,Uh,ae,{})}}function rr(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Xh(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Hs(t){let e,n,r;t.length!==2?(e=rr,n=(s,a)=>rr(t(s),a),r=(s,a)=>t(s)-a):(e=t===rr||t===Xh?t:Zh,n=t,r=t);function i(s,a,u=0,f=s.length){if(u<f){if(e(a,a)!==0)return f;do{const c=u+f>>>1;n(s[c],a)<0?u=c+1:f=c}while(u<f)}return u}function o(s,a,u=0,f=s.length){if(u<f){if(e(a,a)!==0)return f;do{const c=u+f>>>1;n(s[c],a)<=0?u=c+1:f=c}while(u<f)}return u}function l(s,a,u=0,f=s.length){const c=i(s,a,u,f-1);return c>u&&r(s[c-1],a)>-r(s[c],a)?c-1:c}return{left:i,center:l,right:o}}function Zh(){return 0}function Qh(t){return t===null?NaN:+t}const zh=Hs(rr),em=zh.right;Hs(Qh).center;const tm=Math.sqrt(50),nm=Math.sqrt(10),rm=Math.sqrt(2);function kr(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),l=o>=tm?10:o>=nm?5:o>=rm?2:1;let s,a,u;return i<0?(u=Math.pow(10,-i)/l,s=Math.round(t*u),a=Math.round(e*u),s/u<t&&++s,a/u>e&&--a,u=-u):(u=Math.pow(10,i)*l,s=Math.round(t/u),a=Math.round(e/u),s*u<t&&++s,a*u>e&&--a),a<s&&.5<=n&&n<2?kr(t,e,n*2):[s,a,u]}function im(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,l]=r?kr(e,t,n):kr(t,e,n);if(!(o>=i))return[];const s=o-i+1,a=new Array(s);if(r)if(l<0)for(let u=0;u<s;++u)a[u]=(o-u)/-l;else for(let u=0;u<s;++u)a[u]=(o-u)*l;else if(l<0)for(let u=0;u<s;++u)a[u]=(i+u)/-l;else for(let u=0;u<s;++u)a[u]=(i+u)*l;return a}function fi(t,e,n){return e=+e,t=+t,n=+n,kr(t,e,n)[2]}function om(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?fi(e,t,n):fi(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function lm(t){return t}var Yr=1,Jr=2,ci=3,Tn=4,Sl=1e-6;function sm(t){return"translate("+t+",0)"}function am(t){return"translate(0,"+t+")"}function um(t){return e=>+t(e)}function fm(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function cm(){return!this.__axis}function js(t,e){var n=[],r=null,i=null,o=6,l=6,s=3,a=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=t===Yr||t===Tn?-1:1,f=t===Tn||t===Jr?"x":"y",c=t===Yr||t===ci?sm:am;function d(h){var m=r??(e.ticks?e.ticks.apply(e,n):e.domain()),_=i??(e.tickFormat?e.tickFormat.apply(e,n):lm),y=Math.max(o,0)+s,S=e.range(),A=+S[0]+a,$=+S[S.length-1]+a,W=(e.bandwidth?fm:um)(e.copy(),a),L=h.selection?h.selection():h,R=L.selectAll(".domain").data([null]),x=L.selectAll(".tick").data(m,e).order(),D=x.exit(),p=x.enter().append("g").attr("class","tick"),G=x.select("line"),I=x.select("text");R=R.merge(R.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),x=x.merge(p),G=G.merge(p.append("line").attr("stroke","currentColor").attr(f+"2",u*o)),I=I.merge(p.append("text").attr("fill","currentColor").attr(f,u*y).attr("dy",t===Yr?"0em":t===ci?"0.71em":"0.32em")),h!==L&&(R=R.transition(h),x=x.transition(h),G=G.transition(h),I=I.transition(h),D=D.transition(h).attr("opacity",Sl).attr("transform",function(g){return isFinite(g=W(g))?c(g+a):this.getAttribute("transform")}),p.attr("opacity",Sl).attr("transform",function(g){var b=this.parentNode.__axis;return c((b&&isFinite(b=b(g))?b:W(g))+a)})),D.remove(),R.attr("d",t===Tn||t===Jr?l?"M"+u*l+","+A+"H"+a+"V"+$+"H"+u*l:"M"+a+","+A+"V"+$:l?"M"+A+","+u*l+"V"+a+"H"+$+"V"+u*l:"M"+A+","+a+"H"+$),x.attr("opacity",1).attr("transform",function(g){return c(W(g)+a)}),G.attr(f+"2",u*o),I.attr(f,u*y).text(_),L.filter(cm).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Jr?"start":t===Tn?"end":"middle"),L.each(function(){this.__axis=W})}return d.scale=function(h){return arguments.length?(e=h,d):e},d.ticks=function(){return n=Array.from(arguments),d},d.tickArguments=function(h){return arguments.length?(n=h==null?[]:Array.from(h),d):n.slice()},d.tickValues=function(h){return arguments.length?(r=h==null?null:Array.from(h),d):r&&r.slice()},d.tickFormat=function(h){return arguments.length?(i=h,d):i},d.tickSize=function(h){return arguments.length?(o=l=+h,d):o},d.tickSizeInner=function(h){return arguments.length?(o=+h,d):o},d.tickSizeOuter=function(h){return arguments.length?(l=+h,d):l},d.tickPadding=function(h){return arguments.length?(s=+h,d):s},d.offset=function(h){return arguments.length?(a=+h,d):a},d}function dm(t){return js(ci,t)}function pm(t){return js(Tn,t)}var hm={value:()=>{}};function Vs(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new ir(n)}function ir(t){this._=t}function mm(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}ir.prototype=Vs.prototype={constructor:ir,on:function(t,e){var n=this._,r=mm(t+"",n),i,o=-1,l=r.length;if(arguments.length<2){for(;++o<l;)if((i=(t=r[o]).type)&&(i=_m(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<l;)if(i=(t=r[o]).type)n[i]=Al(n[i],t.name,e);else if(e==null)for(i in n)n[i]=Al(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new ir(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function _m(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function Al(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=hm,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var di="http://www.w3.org/1999/xhtml";const Cl={svg:"http://www.w3.org/2000/svg",xhtml:di,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function xr(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Cl.hasOwnProperty(e)?{space:Cl[e],local:t}:t}function gm(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===di&&e.documentElement.namespaceURI===di?e.createElement(t):e.createElementNS(n,t)}}function bm(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Ws(t){var e=xr(t);return(e.local?bm:gm)(e)}function vm(){}function qi(t){return t==null?vm:function(){return this.querySelector(t)}}function ym(t){typeof t!="function"&&(t=qi(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],l=o.length,s=r[i]=new Array(l),a,u,f=0;f<l;++f)(a=o[f])&&(u=t.call(a,a.__data__,f,o))&&("__data__"in a&&(u.__data__=a.__data__),s[f]=u);return new nt(r,this._parents)}function wm(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function km(){return[]}function Ks(t){return t==null?km:function(){return this.querySelectorAll(t)}}function Sm(t){return function(){return wm(t.apply(this,arguments))}}function Am(t){typeof t=="function"?t=Sm(t):t=Ks(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var l=e[o],s=l.length,a,u=0;u<s;++u)(a=l[u])&&(r.push(t.call(a,a.__data__,u,l)),i.push(a));return new nt(r,i)}function Us(t){return function(){return this.matches(t)}}function Ys(t){return function(e){return e.matches(t)}}var Cm=Array.prototype.find;function Nm(t){return function(){return Cm.call(this.children,t)}}function Im(){return this.firstElementChild}function Tm(t){return this.select(t==null?Im:Nm(typeof t=="function"?t:Ys(t)))}var Em=Array.prototype.filter;function $m(){return Array.from(this.children)}function Mm(t){return function(){return Em.call(this.children,t)}}function Pm(t){return this.selectAll(t==null?$m:Mm(typeof t=="function"?t:Ys(t)))}function Om(t){typeof t!="function"&&(t=Us(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],l=o.length,s=r[i]=[],a,u=0;u<l;++u)(a=o[u])&&t.call(a,a.__data__,u,o)&&s.push(a);return new nt(r,this._parents)}function Js(t){return new Array(t.length)}function Lm(){return new nt(this._enter||this._groups.map(Js),this._parents)}function Sr(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Sr.prototype={constructor:Sr,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Fm(t){return function(){return t}}function Rm(t,e,n,r,i,o){for(var l=0,s,a=e.length,u=o.length;l<u;++l)(s=e[l])?(s.__data__=o[l],r[l]=s):n[l]=new Sr(t,o[l]);for(;l<a;++l)(s=e[l])&&(i[l]=s)}function xm(t,e,n,r,i,o,l){var s,a,u=new Map,f=e.length,c=o.length,d=new Array(f),h;for(s=0;s<f;++s)(a=e[s])&&(d[s]=h=l.call(a,a.__data__,s,e)+"",u.has(h)?i[s]=a:u.set(h,a));for(s=0;s<c;++s)h=l.call(t,o[s],s,o)+"",(a=u.get(h))?(r[s]=a,a.__data__=o[s],u.delete(h)):n[s]=new Sr(t,o[s]);for(s=0;s<f;++s)(a=e[s])&&u.get(d[s])===a&&(i[s]=a)}function qm(t){return t.__data__}function Dm(t,e){if(!arguments.length)return Array.from(this,qm);var n=e?xm:Rm,r=this._parents,i=this._groups;typeof t!="function"&&(t=Fm(t));for(var o=i.length,l=new Array(o),s=new Array(o),a=new Array(o),u=0;u<o;++u){var f=r[u],c=i[u],d=c.length,h=Bm(t.call(f,f&&f.__data__,u,r)),m=h.length,_=s[u]=new Array(m),y=l[u]=new Array(m),S=a[u]=new Array(d);n(f,c,_,y,S,h,e);for(var A=0,$=0,W,L;A<m;++A)if(W=_[A]){for(A>=$&&($=A+1);!(L=y[$])&&++$<m;);W._next=L||null}}return l=new nt(l,r),l._enter=s,l._exit=a,l}function Bm(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Gm(){return new nt(this._exit||this._groups.map(Js),this._parents)}function Hm(t,e,n){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function jm(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,l=Math.min(i,o),s=new Array(i),a=0;a<l;++a)for(var u=n[a],f=r[a],c=u.length,d=s[a]=new Array(c),h,m=0;m<c;++m)(h=u[m]||f[m])&&(d[m]=h);for(;a<i;++a)s[a]=n[a];return new nt(s,this._parents)}function Vm(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,o=r[i],l;--i>=0;)(l=r[i])&&(o&&l.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(l,o),o=l);return this}function Wm(t){t||(t=Km);function e(c,d){return c&&d?t(c.__data__,d.__data__):!c-!d}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var l=n[o],s=l.length,a=i[o]=new Array(s),u,f=0;f<s;++f)(u=l[f])&&(a[f]=u);a.sort(e)}return new nt(i,this._parents).order()}function Km(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Um(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Ym(){return Array.from(this)}function Jm(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var l=r[i];if(l)return l}return null}function Xm(){let t=0;for(const e of this)++t;return t}function Zm(){return!this.node()}function Qm(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,l=i.length,s;o<l;++o)(s=i[o])&&t.call(s,s.__data__,o,i);return this}function zm(t){return function(){this.removeAttribute(t)}}function e_(t){return function(){this.removeAttributeNS(t.space,t.local)}}function t_(t,e){return function(){this.setAttribute(t,e)}}function n_(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function r_(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function i_(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function o_(t,e){var n=xr(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?e_:zm:typeof e=="function"?n.local?i_:r_:n.local?n_:t_)(n,e))}function Xs(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function l_(t){return function(){this.style.removeProperty(t)}}function s_(t,e,n){return function(){this.style.setProperty(t,e,n)}}function a_(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function u_(t,e,n){return arguments.length>1?this.each((e==null?l_:typeof e=="function"?a_:s_)(t,e,n??"")):sn(this.node(),t)}function sn(t,e){return t.style.getPropertyValue(e)||Xs(t).getComputedStyle(t,null).getPropertyValue(e)}function f_(t){return function(){delete this[t]}}function c_(t,e){return function(){this[t]=e}}function d_(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function p_(t,e){return arguments.length>1?this.each((e==null?f_:typeof e=="function"?d_:c_)(t,e)):this.node()[t]}function Zs(t){return t.trim().split(/^|\s+/)}function Di(t){return t.classList||new Qs(t)}function Qs(t){this._node=t,this._names=Zs(t.getAttribute("class")||"")}Qs.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function zs(t,e){for(var n=Di(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function ea(t,e){for(var n=Di(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function h_(t){return function(){zs(this,t)}}function m_(t){return function(){ea(this,t)}}function __(t,e){return function(){(e.apply(this,arguments)?zs:ea)(this,t)}}function g_(t,e){var n=Zs(t+"");if(arguments.length<2){for(var r=Di(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?__:e?h_:m_)(n,e))}function b_(){this.textContent=""}function v_(t){return function(){this.textContent=t}}function y_(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function w_(t){return arguments.length?this.each(t==null?b_:(typeof t=="function"?y_:v_)(t)):this.node().textContent}function k_(){this.innerHTML=""}function S_(t){return function(){this.innerHTML=t}}function A_(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function C_(t){return arguments.length?this.each(t==null?k_:(typeof t=="function"?A_:S_)(t)):this.node().innerHTML}function N_(){this.nextSibling&&this.parentNode.appendChild(this)}function I_(){return this.each(N_)}function T_(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function E_(){return this.each(T_)}function $_(t){var e=typeof t=="function"?t:Ws(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function M_(){return null}function P_(t,e){var n=typeof t=="function"?t:Ws(t),r=e==null?M_:typeof e=="function"?e:qi(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function O_(){var t=this.parentNode;t&&t.removeChild(this)}function L_(){return this.each(O_)}function F_(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function R_(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function x_(t){return this.select(t?R_:F_)}function q_(t){return arguments.length?this.property("__data__",t):this.node().__data__}function D_(t){return function(e){t.call(this,e,this.__data__)}}function B_(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function G_(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,o;n<i;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function H_(t,e,n){return function(){var r=this.__on,i,o=D_(e);if(r){for(var l=0,s=r.length;l<s;++l)if((i=r[l]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=e;return}}this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function j_(t,e,n){var r=B_(t+""),i,o=r.length,l;if(arguments.length<2){var s=this.node().__on;if(s){for(var a=0,u=s.length,f;a<u;++a)for(i=0,f=s[a];i<o;++i)if((l=r[i]).type===f.type&&l.name===f.name)return f.value}return}for(s=e?H_:G_,i=0;i<o;++i)this.each(s(r[i],e,n));return this}function ta(t,e,n){var r=Xs(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function V_(t,e){return function(){return ta(this,t,e)}}function W_(t,e){return function(){return ta(this,t,e.apply(this,arguments))}}function K_(t,e){return this.each((typeof e=="function"?W_:V_)(t,e))}function*U_(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length,l;i<o;++i)(l=r[i])&&(yield l)}var na=[null];function nt(t,e){this._groups=t,this._parents=e}function Vn(){return new nt([[document.documentElement]],na)}function Y_(){return this}nt.prototype=Vn.prototype={constructor:nt,select:ym,selectAll:Am,selectChild:Tm,selectChildren:Pm,filter:Om,data:Dm,enter:Lm,exit:Gm,join:Hm,merge:jm,selection:Y_,order:Vm,sort:Wm,call:Um,nodes:Ym,node:Jm,size:Xm,empty:Zm,each:Qm,attr:o_,style:u_,property:p_,classed:g_,text:w_,html:C_,raise:I_,lower:E_,append:$_,insert:P_,remove:L_,clone:x_,datum:q_,on:j_,dispatch:K_,[Symbol.iterator]:U_};function J_(t){return typeof t=="string"?new nt([[document.querySelector(t)]],[document.documentElement]):new nt([[t]],na)}function Bi(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function ra(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Wn(){}var qn=.7,Ar=1/qn,nn="\\s*([+-]?\\d+)\\s*",Dn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ht="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",X_=/^#([0-9a-f]{3,8})$/,Z_=new RegExp(`^rgb\\(${nn},${nn},${nn}\\)$`),Q_=new RegExp(`^rgb\\(${ht},${ht},${ht}\\)$`),z_=new RegExp(`^rgba\\(${nn},${nn},${nn},${Dn}\\)$`),eg=new RegExp(`^rgba\\(${ht},${ht},${ht},${Dn}\\)$`),tg=new RegExp(`^hsl\\(${Dn},${ht},${ht}\\)$`),ng=new RegExp(`^hsla\\(${Dn},${ht},${ht},${Dn}\\)$`),Nl={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Bi(Wn,Vt,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Il,formatHex:Il,formatHex8:rg,formatHsl:ig,formatRgb:Tl,toString:Tl});function Il(){return this.rgb().formatHex()}function rg(){return this.rgb().formatHex8()}function ig(){return ia(this).formatHsl()}function Tl(){return this.rgb().formatRgb()}function Vt(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=X_.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?El(e):n===3?new et(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Xn(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Xn(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Z_.exec(t))?new et(e[1],e[2],e[3],1):(e=Q_.exec(t))?new et(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=z_.exec(t))?Xn(e[1],e[2],e[3],e[4]):(e=eg.exec(t))?Xn(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=tg.exec(t))?Pl(e[1],e[2]/100,e[3]/100,1):(e=ng.exec(t))?Pl(e[1],e[2]/100,e[3]/100,e[4]):Nl.hasOwnProperty(t)?El(Nl[t]):t==="transparent"?new et(NaN,NaN,NaN,0):null}function El(t){return new et(t>>16&255,t>>8&255,t&255,1)}function Xn(t,e,n,r){return r<=0&&(t=e=n=NaN),new et(t,e,n,r)}function og(t){return t instanceof Wn||(t=Vt(t)),t?(t=t.rgb(),new et(t.r,t.g,t.b,t.opacity)):new et}function pi(t,e,n,r){return arguments.length===1?og(t):new et(t,e,n,r??1)}function et(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Bi(et,pi,ra(Wn,{brighter(t){return t=t==null?Ar:Math.pow(Ar,t),new et(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?qn:Math.pow(qn,t),new et(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new et(Ht(this.r),Ht(this.g),Ht(this.b),Cr(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:$l,formatHex:$l,formatHex8:lg,formatRgb:Ml,toString:Ml}));function $l(){return`#${Dt(this.r)}${Dt(this.g)}${Dt(this.b)}`}function lg(){return`#${Dt(this.r)}${Dt(this.g)}${Dt(this.b)}${Dt((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ml(){const t=Cr(this.opacity);return`${t===1?"rgb(":"rgba("}${Ht(this.r)}, ${Ht(this.g)}, ${Ht(this.b)}${t===1?")":`, ${t})`}`}function Cr(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ht(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Dt(t){return t=Ht(t),(t<16?"0":"")+t.toString(16)}function Pl(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new st(t,e,n,r)}function ia(t){if(t instanceof st)return new st(t.h,t.s,t.l,t.opacity);if(t instanceof Wn||(t=Vt(t)),!t)return new st;if(t instanceof st)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),l=NaN,s=o-i,a=(o+i)/2;return s?(e===o?l=(n-r)/s+(n<r)*6:n===o?l=(r-e)/s+2:l=(e-n)/s+4,s/=a<.5?o+i:2-o-i,l*=60):s=a>0&&a<1?0:l,new st(l,s,a,t.opacity)}function sg(t,e,n,r){return arguments.length===1?ia(t):new st(t,e,n,r??1)}function st(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Bi(st,sg,ra(Wn,{brighter(t){return t=t==null?Ar:Math.pow(Ar,t),new st(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?qn:Math.pow(qn,t),new st(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new et(Xr(t>=240?t-240:t+120,i,r),Xr(t,i,r),Xr(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new st(Ol(this.h),Zn(this.s),Zn(this.l),Cr(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Cr(this.opacity);return`${t===1?"hsl(":"hsla("}${Ol(this.h)}, ${Zn(this.s)*100}%, ${Zn(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Ol(t){return t=(t||0)%360,t<0?t+360:t}function Zn(t){return Math.max(0,Math.min(1,t||0))}function Xr(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Gi=t=>()=>t;function ag(t,e){return function(n){return t+n*e}}function ug(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function fg(t){return(t=+t)==1?oa:function(e,n){return n-e?ug(e,n,t):Gi(isNaN(e)?n:e)}}function oa(t,e){var n=e-t;return n?ag(t,n):Gi(isNaN(t)?e:t)}const Nr=function t(e){var n=fg(e);function r(i,o){var l=n((i=pi(i)).r,(o=pi(o)).r),s=n(i.g,o.g),a=n(i.b,o.b),u=oa(i.opacity,o.opacity);return function(f){return i.r=l(f),i.g=s(f),i.b=a(f),i.opacity=u(f),i+""}}return r.gamma=t,r}(1);function cg(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function dg(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function pg(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),l;for(l=0;l<r;++l)i[l]=Hi(t[l],e[l]);for(;l<n;++l)o[l]=e[l];return function(s){for(l=0;l<r;++l)o[l]=i[l](s);return o}}function hg(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function lt(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function mg(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Hi(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var hi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Zr=new RegExp(hi.source,"g");function _g(t){return function(){return t}}function gg(t){return function(e){return t(e)+""}}function la(t,e){var n=hi.lastIndex=Zr.lastIndex=0,r,i,o,l=-1,s=[],a=[];for(t=t+"",e=e+"";(r=hi.exec(t))&&(i=Zr.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[l]?s[l]+=o:s[++l]=o),(r=r[0])===(i=i[0])?s[l]?s[l]+=i:s[++l]=i:(s[++l]=null,a.push({i:l,x:lt(r,i)})),n=Zr.lastIndex;return n<e.length&&(o=e.slice(n),s[l]?s[l]+=o:s[++l]=o),s.length<2?a[0]?gg(a[0].x):_g(e):(e=a.length,function(u){for(var f=0,c;f<e;++f)s[(c=a[f]).i]=c.x(u);return s.join("")})}function Hi(t,e){var n=typeof e,r;return e==null||n==="boolean"?Gi(e):(n==="number"?lt:n==="string"?(r=Vt(e))?(e=r,Nr):la:e instanceof Vt?Nr:e instanceof Date?hg:dg(e)?cg:Array.isArray(e)?pg:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?mg:lt)(t,e)}function bg(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var Ll=180/Math.PI,mi={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function sa(t,e,n,r,i,o){var l,s,a;return(l=Math.sqrt(t*t+e*e))&&(t/=l,e/=l),(a=t*n+e*r)&&(n-=t*a,r-=e*a),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,a/=s),t*r<e*n&&(t=-t,e=-e,a=-a,l=-l),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*Ll,skewX:Math.atan(a)*Ll,scaleX:l,scaleY:s}}var Qn;function vg(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?mi:sa(e.a,e.b,e.c,e.d,e.e,e.f)}function yg(t){return t==null||(Qn||(Qn=document.createElementNS("http://www.w3.org/2000/svg","g")),Qn.setAttribute("transform",t),!(t=Qn.transform.baseVal.consolidate()))?mi:(t=t.matrix,sa(t.a,t.b,t.c,t.d,t.e,t.f))}function aa(t,e,n,r){function i(u){return u.length?u.pop()+" ":""}function o(u,f,c,d,h,m){if(u!==c||f!==d){var _=h.push("translate(",null,e,null,n);m.push({i:_-4,x:lt(u,c)},{i:_-2,x:lt(f,d)})}else(c||d)&&h.push("translate("+c+e+d+n)}function l(u,f,c,d){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),d.push({i:c.push(i(c)+"rotate(",null,r)-2,x:lt(u,f)})):f&&c.push(i(c)+"rotate("+f+r)}function s(u,f,c,d){u!==f?d.push({i:c.push(i(c)+"skewX(",null,r)-2,x:lt(u,f)}):f&&c.push(i(c)+"skewX("+f+r)}function a(u,f,c,d,h,m){if(u!==c||f!==d){var _=h.push(i(h)+"scale(",null,",",null,")");m.push({i:_-4,x:lt(u,c)},{i:_-2,x:lt(f,d)})}else(c!==1||d!==1)&&h.push(i(h)+"scale("+c+","+d+")")}return function(u,f){var c=[],d=[];return u=t(u),f=t(f),o(u.translateX,u.translateY,f.translateX,f.translateY,c,d),l(u.rotate,f.rotate,c,d),s(u.skewX,f.skewX,c,d),a(u.scaleX,u.scaleY,f.scaleX,f.scaleY,c,d),u=f=null,function(h){for(var m=-1,_=d.length,y;++m<_;)c[(y=d[m]).i]=y.x(h);return c.join("")}}}var wg=aa(vg,"px, ","px)","deg)"),kg=aa(yg,", ",")",")"),an=0,En=0,Cn=0,ua=1e3,Ir,$n,Tr=0,Wt=0,qr=0,Bn=typeof performance=="object"&&performance.now?performance:Date,fa=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function ji(){return Wt||(fa(Sg),Wt=Bn.now()+qr)}function Sg(){Wt=0}function Er(){this._call=this._time=this._next=null}Er.prototype=ca.prototype={constructor:Er,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?ji():+n)+(e==null?0:+e),!this._next&&$n!==this&&($n?$n._next=this:Ir=this,$n=this),this._call=t,this._time=n,_i()},stop:function(){this._call&&(this._call=null,this._time=1/0,_i())}};function ca(t,e,n){var r=new Er;return r.restart(t,e,n),r}function Ag(){ji(),++an;for(var t=Ir,e;t;)(e=Wt-t._time)>=0&&t._call.call(void 0,e),t=t._next;--an}function Fl(){Wt=(Tr=Bn.now())+qr,an=En=0;try{Ag()}finally{an=0,Ng(),Wt=0}}function Cg(){var t=Bn.now(),e=t-Tr;e>ua&&(qr-=e,Tr=t)}function Ng(){for(var t,e=Ir,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Ir=n);$n=t,_i(r)}function _i(t){if(!an){En&&(En=clearTimeout(En));var e=t-Wt;e>24?(t<1/0&&(En=setTimeout(Fl,t-Bn.now()-qr)),Cn&&(Cn=clearInterval(Cn))):(Cn||(Tr=Bn.now(),Cn=setInterval(Cg,ua)),an=1,fa(Fl))}}function Rl(t,e,n){var r=new Er;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var Ig=Vs("start","end","cancel","interrupt"),Tg=[],da=0,xl=1,gi=2,or=3,ql=4,bi=5,lr=6;function Dr(t,e,n,r,i,o){var l=t.__transition;if(!l)t.__transition={};else if(n in l)return;Eg(t,n,{name:e,index:r,group:i,on:Ig,tween:Tg,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:da})}function Vi(t,e){var n=at(t,e);if(n.state>da)throw new Error("too late; already scheduled");return n}function mt(t,e){var n=at(t,e);if(n.state>or)throw new Error("too late; already running");return n}function at(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Eg(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=ca(o,0,n.time);function o(u){n.state=xl,n.timer.restart(l,n.delay,n.time),n.delay<=u&&l(u-n.delay)}function l(u){var f,c,d,h;if(n.state!==xl)return a();for(f in r)if(h=r[f],h.name===n.name){if(h.state===or)return Rl(l);h.state===ql?(h.state=lr,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete r[f]):+f<e&&(h.state=lr,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete r[f])}if(Rl(function(){n.state===or&&(n.state=ql,n.timer.restart(s,n.delay,n.time),s(u))}),n.state=gi,n.on.call("start",t,t.__data__,n.index,n.group),n.state===gi){for(n.state=or,i=new Array(d=n.tween.length),f=0,c=-1;f<d;++f)(h=n.tween[f].value.call(t,t.__data__,n.index,n.group))&&(i[++c]=h);i.length=c+1}}function s(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(a),n.state=bi,1),c=-1,d=i.length;++c<d;)i[c].call(t,f);n.state===bi&&(n.on.call("end",t,t.__data__,n.index,n.group),a())}function a(){n.state=lr,n.timer.stop(),delete r[e];for(var u in r)return;delete t.__transition}}function $g(t,e){var n=t.__transition,r,i,o=!0,l;if(n){e=e==null?null:e+"";for(l in n){if((r=n[l]).name!==e){o=!1;continue}i=r.state>gi&&r.state<bi,r.state=lr,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[l]}o&&delete t.__transition}}function Mg(t){return this.each(function(){$g(this,t)})}function Pg(t,e){var n,r;return function(){var i=mt(this,t),o=i.tween;if(o!==n){r=n=o;for(var l=0,s=r.length;l<s;++l)if(r[l].name===e){r=r.slice(),r.splice(l,1);break}}i.tween=r}}function Og(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=mt(this,t),l=o.tween;if(l!==r){i=(r=l).slice();for(var s={name:e,value:n},a=0,u=i.length;a<u;++a)if(i[a].name===e){i[a]=s;break}a===u&&i.push(s)}o.tween=i}}function Lg(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=at(this.node(),n).tween,i=0,o=r.length,l;i<o;++i)if((l=r[i]).name===t)return l.value;return null}return this.each((e==null?Pg:Og)(n,t,e))}function Wi(t,e,n){var r=t._id;return t.each(function(){var i=mt(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return at(i,r).value[e]}}function pa(t,e){var n;return(typeof e=="number"?lt:e instanceof Vt?Nr:(n=Vt(e))?(e=n,Nr):la)(t,e)}function Fg(t){return function(){this.removeAttribute(t)}}function Rg(t){return function(){this.removeAttributeNS(t.space,t.local)}}function xg(t,e,n){var r,i=n+"",o;return function(){var l=this.getAttribute(t);return l===i?null:l===r?o:o=e(r=l,n)}}function qg(t,e,n){var r,i=n+"",o;return function(){var l=this.getAttributeNS(t.space,t.local);return l===i?null:l===r?o:o=e(r=l,n)}}function Dg(t,e,n){var r,i,o;return function(){var l,s=n(this),a;return s==null?void this.removeAttribute(t):(l=this.getAttribute(t),a=s+"",l===a?null:l===r&&a===i?o:(i=a,o=e(r=l,s)))}}function Bg(t,e,n){var r,i,o;return function(){var l,s=n(this),a;return s==null?void this.removeAttributeNS(t.space,t.local):(l=this.getAttributeNS(t.space,t.local),a=s+"",l===a?null:l===r&&a===i?o:(i=a,o=e(r=l,s)))}}function Gg(t,e){var n=xr(t),r=n==="transform"?kg:pa;return this.attrTween(t,typeof e=="function"?(n.local?Bg:Dg)(n,r,Wi(this,"attr."+t,e)):e==null?(n.local?Rg:Fg)(n):(n.local?qg:xg)(n,r,e))}function Hg(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function jg(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Vg(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&jg(t,o)),n}return i._value=e,i}function Wg(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&Hg(t,o)),n}return i._value=e,i}function Kg(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=xr(t);return this.tween(n,(r.local?Vg:Wg)(r,e))}function Ug(t,e){return function(){Vi(this,t).delay=+e.apply(this,arguments)}}function Yg(t,e){return e=+e,function(){Vi(this,t).delay=e}}function Jg(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Ug:Yg)(e,t)):at(this.node(),e).delay}function Xg(t,e){return function(){mt(this,t).duration=+e.apply(this,arguments)}}function Zg(t,e){return e=+e,function(){mt(this,t).duration=e}}function Qg(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Xg:Zg)(e,t)):at(this.node(),e).duration}function zg(t,e){if(typeof e!="function")throw new Error;return function(){mt(this,t).ease=e}}function e0(t){var e=this._id;return arguments.length?this.each(zg(e,t)):at(this.node(),e).ease}function t0(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;mt(this,t).ease=n}}function n0(t){if(typeof t!="function")throw new Error;return this.each(t0(this._id,t))}function r0(t){typeof t!="function"&&(t=Us(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],l=o.length,s=r[i]=[],a,u=0;u<l;++u)(a=o[u])&&t.call(a,a.__data__,u,o)&&s.push(a);return new St(r,this._parents,this._name,this._id)}function i0(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),l=new Array(r),s=0;s<o;++s)for(var a=e[s],u=n[s],f=a.length,c=l[s]=new Array(f),d,h=0;h<f;++h)(d=a[h]||u[h])&&(c[h]=d);for(;s<r;++s)l[s]=e[s];return new St(l,this._parents,this._name,this._id)}function o0(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function l0(t,e,n){var r,i,o=o0(e)?Vi:mt;return function(){var l=o(this,t),s=l.on;s!==r&&(i=(r=s).copy()).on(e,n),l.on=i}}function s0(t,e){var n=this._id;return arguments.length<2?at(this.node(),n).on.on(t):this.each(l0(n,t,e))}function a0(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function u0(){return this.on("end.remove",a0(this._id))}function f0(t){var e=this._name,n=this._id;typeof t!="function"&&(t=qi(t));for(var r=this._groups,i=r.length,o=new Array(i),l=0;l<i;++l)for(var s=r[l],a=s.length,u=o[l]=new Array(a),f,c,d=0;d<a;++d)(f=s[d])&&(c=t.call(f,f.__data__,d,s))&&("__data__"in f&&(c.__data__=f.__data__),u[d]=c,Dr(u[d],e,n,d,u,at(f,n)));return new St(o,this._parents,e,n)}function c0(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Ks(t));for(var r=this._groups,i=r.length,o=[],l=[],s=0;s<i;++s)for(var a=r[s],u=a.length,f,c=0;c<u;++c)if(f=a[c]){for(var d=t.call(f,f.__data__,c,a),h,m=at(f,n),_=0,y=d.length;_<y;++_)(h=d[_])&&Dr(h,e,n,_,d,m);o.push(d),l.push(f)}return new St(o,l,e,n)}var d0=Vn.prototype.constructor;function p0(){return new d0(this._groups,this._parents)}function h0(t,e){var n,r,i;return function(){var o=sn(this,t),l=(this.style.removeProperty(t),sn(this,t));return o===l?null:o===n&&l===r?i:i=e(n=o,r=l)}}function ha(t){return function(){this.style.removeProperty(t)}}function m0(t,e,n){var r,i=n+"",o;return function(){var l=sn(this,t);return l===i?null:l===r?o:o=e(r=l,n)}}function _0(t,e,n){var r,i,o;return function(){var l=sn(this,t),s=n(this),a=s+"";return s==null&&(a=s=(this.style.removeProperty(t),sn(this,t))),l===a?null:l===r&&a===i?o:(i=a,o=e(r=l,s))}}function g0(t,e){var n,r,i,o="style."+e,l="end."+o,s;return function(){var a=mt(this,t),u=a.on,f=a.value[o]==null?s||(s=ha(e)):void 0;(u!==n||i!==f)&&(r=(n=u).copy()).on(l,i=f),a.on=r}}function b0(t,e,n){var r=(t+="")=="transform"?wg:pa;return e==null?this.styleTween(t,h0(t,r)).on("end.style."+t,ha(t)):typeof e=="function"?this.styleTween(t,_0(t,r,Wi(this,"style."+t,e))).each(g0(this._id,t)):this.styleTween(t,m0(t,r,e),n).on("end.style."+t,null)}function v0(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function y0(t,e,n){var r,i;function o(){var l=e.apply(this,arguments);return l!==i&&(r=(i=l)&&v0(t,l,n)),r}return o._value=e,o}function w0(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,y0(t,e,n??""))}function k0(t){return function(){this.textContent=t}}function S0(t){return function(){var e=t(this);this.textContent=e??""}}function A0(t){return this.tween("text",typeof t=="function"?S0(Wi(this,"text",t)):k0(t==null?"":t+""))}function C0(t){return function(e){this.textContent=t.call(this,e)}}function N0(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&C0(i)),e}return r._value=t,r}function I0(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,N0(t))}function T0(){for(var t=this._name,e=this._id,n=ma(),r=this._groups,i=r.length,o=0;o<i;++o)for(var l=r[o],s=l.length,a,u=0;u<s;++u)if(a=l[u]){var f=at(a,e);Dr(a,t,n,u,l,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new St(r,this._parents,t,n)}function E0(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,l){var s={value:l},a={value:function(){--i===0&&o()}};n.each(function(){var u=mt(this,r),f=u.on;f!==t&&(e=(t=f).copy(),e._.cancel.push(s),e._.interrupt.push(s),e._.end.push(a)),u.on=e}),i===0&&o()})}var $0=0;function St(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function ma(){return++$0}var bt=Vn.prototype;St.prototype={constructor:St,select:f0,selectAll:c0,selectChild:bt.selectChild,selectChildren:bt.selectChildren,filter:r0,merge:i0,selection:p0,transition:T0,call:bt.call,nodes:bt.nodes,node:bt.node,size:bt.size,empty:bt.empty,each:bt.each,on:s0,attr:Gg,attrTween:Kg,style:b0,styleTween:w0,text:A0,textTween:I0,remove:u0,tween:Lg,delay:Jg,duration:Qg,ease:e0,easeVarying:n0,end:E0,[Symbol.iterator]:bt[Symbol.iterator]};function M0(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var P0={time:null,delay:0,duration:250,ease:M0};function O0(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function L0(t){var e,n;t instanceof St?(e=t._id,t=t._name):(e=ma(),(n=P0).time=ji(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var l=r[o],s=l.length,a,u=0;u<s;++u)(a=l[u])&&Dr(a,t,e,u,l,n||O0(a,e));return new St(r,this._parents,t,e)}Vn.prototype.interrupt=Mg;Vn.prototype.transition=L0;const vi=Math.PI,yi=2*vi,Rt=1e-6,F0=yi-Rt;function _a(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function R0(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return _a;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class x0{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?_a:R0(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,l){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+l}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let l=this._x1,s=this._y1,a=r-e,u=i-n,f=l-e,c=s-n,d=f*f+c*c;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(d>Rt)if(!(Math.abs(c*a-u*f)>Rt)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let h=r-l,m=i-s,_=a*a+u*u,y=h*h+m*m,S=Math.sqrt(_),A=Math.sqrt(d),$=o*Math.tan((vi-Math.acos((_+d-y)/(2*S*A)))/2),W=$/A,L=$/S;Math.abs(W-1)>Rt&&this._append`L${e+W*f},${n+W*c}`,this._append`A${o},${o},0,0,${+(c*h>f*m)},${this._x1=e+L*a},${this._y1=n+L*u}`}}arc(e,n,r,i,o,l){if(e=+e,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),a=r*Math.sin(i),u=e+s,f=n+a,c=1^l,d=l?i-o:o-i;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>Rt||Math.abs(this._y1-f)>Rt)&&this._append`L${u},${f}`,r&&(d<0&&(d=d%yi+yi),d>F0?this._append`A${r},${r},0,1,${c},${e-s},${n-a}A${r},${r},0,1,${c},${this._x1=u},${this._y1=f}`:d>Rt&&this._append`A${r},${r},0,${+(d>=vi)},${c},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function q0(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function $r(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function un(t){return t=$r(Math.abs(t)),t?t[1]:NaN}function D0(t,e){return function(n,r){for(var i=n.length,o=[],l=0,s=t[0],a=0;i>0&&s>0&&(a+s+1>r&&(s=Math.max(1,r-a)),o.push(n.substring(i-=s,i+s)),!((a+=s+1)>r));)s=t[l=(l+1)%t.length];return o.reverse().join(e)}}function B0(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var G0=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Mr(t){if(!(e=G0.exec(t)))throw new Error("invalid format: "+t);var e;return new Ki({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Mr.prototype=Ki.prototype;function Ki(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Ki.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function H0(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var ga;function j0(t,e){var n=$r(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(ga=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return o===l?r:o>l?r+new Array(o-l+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+$r(t,Math.max(0,e+o-1))[0]}function Dl(t,e){var n=$r(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Bl={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:q0,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Dl(t*100,e),r:Dl,s:j0,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Gl(t){return t}var Hl=Array.prototype.map,jl=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function V0(t){var e=t.grouping===void 0||t.thousands===void 0?Gl:D0(Hl.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?Gl:B0(Hl.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"−":t.minus+"",a=t.nan===void 0?"NaN":t.nan+"";function u(c){c=Mr(c);var d=c.fill,h=c.align,m=c.sign,_=c.symbol,y=c.zero,S=c.width,A=c.comma,$=c.precision,W=c.trim,L=c.type;L==="n"?(A=!0,L="g"):Bl[L]||($===void 0&&($=12),W=!0,L="g"),(y||d==="0"&&h==="=")&&(y=!0,d="0",h="=");var R=_==="$"?n:_==="#"&&/[boxX]/.test(L)?"0"+L.toLowerCase():"",x=_==="$"?r:/[%p]/.test(L)?l:"",D=Bl[L],p=/[defgprs%]/.test(L);$=$===void 0?6:/[gprs]/.test(L)?Math.max(1,Math.min(21,$)):Math.max(0,Math.min(20,$));function G(I){var g=R,b=x,v,E,N;if(L==="c")b=D(I)+b,I="";else{I=+I;var M=I<0||1/I<0;if(I=isNaN(I)?a:D(Math.abs(I),$),W&&(I=H0(I)),M&&+I==0&&m!=="+"&&(M=!1),g=(M?m==="("?m:s:m==="-"||m==="("?"":m)+g,b=(L==="s"?jl[8+ga/3]:"")+b+(M&&m==="("?")":""),p){for(v=-1,E=I.length;++v<E;)if(N=I.charCodeAt(v),48>N||N>57){b=(N===46?i+I.slice(v+1):I.slice(v))+b,I=I.slice(0,v);break}}}A&&!y&&(I=e(I,1/0));var q=g.length+I.length+b.length,U=q<S?new Array(S-q+1).join(d):"";switch(A&&y&&(I=e(U+I,U.length?S-b.length:1/0),U=""),h){case"<":I=g+I+b+U;break;case"=":I=g+U+I+b;break;case"^":I=U.slice(0,q=U.length>>1)+g+I+b+U.slice(q);break;default:I=U+g+I+b;break}return o(I)}return G.toString=function(){return c+""},G}function f(c,d){var h=u((c=Mr(c),c.type="f",c)),m=Math.max(-8,Math.min(8,Math.floor(un(d)/3)))*3,_=Math.pow(10,-m),y=jl[8+m/3];return function(S){return h(_*S)+y}}return{format:u,formatPrefix:f}}var zn,ba,va;W0({thousands:",",grouping:[3],currency:["$",""]});function W0(t){return zn=V0(t),ba=zn.format,va=zn.formatPrefix,zn}function K0(t){return Math.max(0,-un(Math.abs(t)))}function U0(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(un(e)/3)))*3-un(Math.abs(t)))}function Y0(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,un(e)-un(t))+1}function J0(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function X0(t){return function(){return t}}function Z0(t){return+t}var Vl=[0,1];function Qt(t){return t}function wi(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:X0(isNaN(e)?NaN:.5)}function Q0(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function z0(t,e,n){var r=t[0],i=t[1],o=e[0],l=e[1];return i<r?(r=wi(i,r),o=n(l,o)):(r=wi(r,i),o=n(o,l)),function(s){return o(r(s))}}function eb(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),l=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<r;)i[l]=wi(t[l],t[l+1]),o[l]=n(e[l],e[l+1]);return function(s){var a=em(t,s,1,r)-1;return o[a](i[a](s))}}function tb(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function nb(){var t=Vl,e=Vl,n=Hi,r,i,o,l=Qt,s,a,u;function f(){var d=Math.min(t.length,e.length);return l!==Qt&&(l=Q0(t[0],t[d-1])),s=d>2?eb:z0,a=u=null,c}function c(d){return d==null||isNaN(d=+d)?o:(a||(a=s(t.map(r),e,n)))(r(l(d)))}return c.invert=function(d){return l(i((u||(u=s(e,t.map(r),lt)))(d)))},c.domain=function(d){return arguments.length?(t=Array.from(d,Z0),f()):t.slice()},c.range=function(d){return arguments.length?(e=Array.from(d),f()):e.slice()},c.rangeRound=function(d){return e=Array.from(d),n=bg,f()},c.clamp=function(d){return arguments.length?(l=d?!0:Qt,f()):l!==Qt},c.interpolate=function(d){return arguments.length?(n=d,f()):n},c.unknown=function(d){return arguments.length?(o=d,c):o},function(d,h){return r=d,i=h,f()}}function rb(){return nb()(Qt,Qt)}function ib(t,e,n,r){var i=om(t,e,n),o;switch(r=Mr(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=U0(i,l))&&(r.precision=o),va(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Y0(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=K0(i))&&(r.precision=o-(r.type==="%")*2);break}}return ba(r)}function ob(t){var e=t.domain;return t.ticks=function(n){var r=e();return im(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return ib(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,l=r[i],s=r[o],a,u,f=10;for(s<l&&(u=l,l=s,s=u,u=i,i=o,o=u);f-- >0;){if(u=fi(l,s,n),u===a)return r[i]=l,r[o]=s,e(r);if(u>0)l=Math.floor(l/u)*u,s=Math.ceil(s/u)*u;else if(u<0)l=Math.ceil(l*u)/u,s=Math.floor(s*u)/u;else break;a=u}return t},t}function ki(){var t=rb();return t.copy=function(){return tb(t,ki())},J0.apply(t,arguments),ob(t)}function Jt(t){return function(){return t}}function lb(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new x0(e)}function sb(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function ya(t){this._context=t}ya.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function ab(t){return new ya(t)}function ub(t){return t[0]}function fb(t){return t[1]}function Qr(t,e){var n=Jt(!0),r=null,i=ab,o=null,l=lb(s);t=typeof t=="function"?t:t===void 0?ub:Jt(t),e=typeof e=="function"?e:e===void 0?fb:Jt(e);function s(a){var u,f=(a=sb(a)).length,c,d=!1,h;for(r==null&&(o=i(h=l())),u=0;u<=f;++u)!(u<f&&n(c=a[u],u,a))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+t(c,u,a),+e(c,u,a));if(h)return o=null,h+""||null}return s.x=function(a){return arguments.length?(t=typeof a=="function"?a:Jt(+a),s):t},s.y=function(a){return arguments.length?(e=typeof a=="function"?a:Jt(+a),s):e},s.defined=function(a){return arguments.length?(n=typeof a=="function"?a:Jt(!!a),s):n},s.curve=function(a){return arguments.length?(i=a,r!=null&&(o=i(r)),s):i},s.context=function(a){return arguments.length?(a==null?r=o=null:o=i(r=a),s):r},s}function Mn(t,e,n){this.k=t,this.x=e,this.y=n}Mn.prototype={constructor:Mn,scale:function(t){return t===1?this:new Mn(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Mn(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Mn.prototype;function cb(t){let e;return{c(){e=Or("svg"),F(e,"id","line-chart")},m(n,r){C(n,e,r)},p:oe,i:oe,o:oe,d(n){n&&k(e)}}}const Wl=52;function db(t,e,n){let{data:r=[]}=e,i,o,l;const s={top:10,right:30,bottom:10,left:20},a=500-s.left-s.right,u=400-s.top-s.bottom;Qr().x((m,_)=>o(_)).y(m=>l(m)),os(()=>{n(1,i=J_("#line-chart").attr("width",a+s.left+s.right).attr("height",u+s.top+s.bottom)),o=ki().range([0,a]),l=ki().range([u,0]),r.length&&f()});function f(){const m=r.length>Wl?r.slice(-Wl):r;c(m),d(m),h()}function c(m){i.selectAll(".line").remove();const _=Qr().defined(S=>S>-5).x((S,A)=>o(A)).y(S=>l(S)),y=Qr().defined(S=>S<0).x((S,A)=>o(A)).y(S=>l(S));i.append("path").datum(m).attr("class","line positive").attr("d",_).attr("transform",`translate(${s.left},${s.top})`).attr("fill","none").attr("stroke","green").attr("stroke-width",2),i.append("path").datum(m).attr("class","line negative").attr("d",y).attr("transform",`translate(${s.left},${s.top})`).attr("fill","none").attr("stroke","red").attr("stroke-width",2)}function d(m){const _=Math.max(0,...m),y=Math.min(0,...m);o.domain([0,m.length-1]),l.domain([y,_]).nice()}function h(m){const _=dm(o).ticks(0),y=pm(l).ticks(10);i.selectAll(".axis").remove(),i.append("g").attr("class","axis x-axis").attr("transform",`translate(${s.left},${u+s.top})`).call(_),i.append("g").attr("class","axis y-axis").attr("transform",`translate(${s.left},${s.top})`).call(y)}return t.$$set=m=>{"data"in m&&n(0,r=m.data)},t.$$.update=()=>{t.$$.dirty&3&&r&&i&&f()},[r,i]}class pb extends pe{constructor(e){super(),de(this,e,db,cb,ae,{data:0})}}function hb(t){let e,n=t[1].townInfo.knowledge_points+"",r,i;return{c(){e=j("Manage your Knowledge ("),r=j(n),i=j(" pts)")},m(o,l){C(o,e,l),C(o,r,l),C(o,i,l)},p(o,l){l&2&&n!==(n=o[1].townInfo.knowledge_points+"")&&se(r,n)},d(o){o&&(k(e),k(r),k(i))}}}function mb(t){let e,n,r,i;return e=new hn({props:{$$slots:{default:[hb]},$$scope:{ctx:t}}}),r=new gn({}),{c(){Q(e.$$.fragment),n=V(),Q(r.$$.fragment)},m(o,l){X(e,o,l),C(o,n,l),X(r,o,l),i=!0},p(o,l){const s={};l&1026&&(s.$$scope={dirty:l,ctx:o}),e.$set(s)},i(o){i||(T(e.$$.fragment,o),T(r.$$.fragment,o),i=!0)},o(o){P(e.$$.fragment,o),P(r.$$.fragment,o),i=!1},d(o){o&&k(n),Z(e,o),Z(r,o)}}}function Kl(t){let e,n,r=Yl(t[1].townInfo.knowledge_points*t[3])+"",i,o;return{c(){e=O("br"),n=j(`
					(total value: $`),i=j(r),o=j(")")},m(l,s){C(l,e,s),C(l,n,s),C(l,i,s),C(l,o,s)},p(l,s){s&10&&r!==(r=Yl(l[1].townInfo.knowledge_points*l[3])+"")&&se(i,r)},d(l){l&&(k(e),k(n),k(i),k(o))}}}function Ul(t){let e;return{c(){e=O("div"),e.innerHTML='Wait until the market value is <span class="text-green-500">positive</span> to sell your Knowledge for Gold.'},m(n,r){C(n,e,r)},d(n){n&&k(e)}}}function _b(t){let e;return{c(){e=O("div"),e.textContent="Get a bank to convert 🏦",F(e,"class","font-bold")},m(n,r){C(n,e,r)},p:oe,i:oe,o:oe,d(n){n&&k(e)}}}function gb(t){let e,n,r;return n=new xi({props:{variant:"default",$$slots:{default:[bb]},$$scope:{ctx:t}}}),n.$on("click",t[0]),{c(){e=O("div"),Q(n.$$.fragment)},m(i,o){C(i,e,o),X(n,e,null),r=!0},p(i,o){const l={};o&1024&&(l.$$scope={dirty:o,ctx:i}),n.$set(l)},i(i){r||(T(n.$$.fragment,i),r=!0)},o(i){P(n.$$.fragment,i),r=!1},d(i){i&&k(e),Z(n)}}}function bb(t){let e;return{c(){e=j("Convert Knowledge to Gold")},m(n,r){C(n,e,r)},d(n){n&&k(e)}}}function vb(t){let e,n,r,i,o,l,s,a,u=(t[3]??0)+"",f,c,d,h,m,_,y,S,A,$,W,L,R;e=new mn({props:{$$slots:{default:[mb]},$$scope:{ctx:t}}});let x=t[3]>0&&Kl(t);_=new pb({props:{data:t[2]}});let D=t[3]<0&&Ul();const p=[gb,_b],G=[];function I(g,b){return g[1].hasBank&&g[3]>0?0:g[3]>0?1:-1}return~(A=I(t))&&($=G[A]=p[A](t)),L=new jn({}),{c(){Q(e.$$.fragment),n=V(),r=O("span"),r.textContent="Knowledge is power, unlock it!",i=V(),o=O("div"),l=O("div"),s=j("Market Rate: "),a=O("span"),f=j(u),c=j(" gold"),h=j(`
				per Knowledge Point
				`),x&&x.c(),m=V(),Q(_.$$.fragment),y=V(),D&&D.c(),S=V(),$&&$.c(),W=V(),Q(L.$$.fragment),F(r,"class","italic"),F(a,"class",d=t[3]<0?"text-red-500":"text-green-500"),F(o,"class","py-0 flex flex-col gap-4 text-gray-400 overflow-x-auto")},m(g,b){X(e,g,b),C(g,n,b),C(g,r,b),C(g,i,b),C(g,o,b),w(o,l),w(l,s),w(l,a),w(a,f),w(a,c),w(l,h),x&&x.m(l,null),w(o,m),X(_,o,null),w(o,y),D&&D.m(o,null),w(o,S),~A&&G[A].m(o,null),C(g,W,b),X(L,g,b),R=!0},p(g,b){const v={};b&1026&&(v.$$scope={dirty:b,ctx:g}),e.$set(v),(!R||b&8)&&u!==(u=(g[3]??0)+"")&&se(f,u),(!R||b&8&&d!==(d=g[3]<0?"text-red-500":"text-green-500"))&&F(a,"class",d),g[3]>0?x?x.p(g,b):(x=Kl(g),x.c(),x.m(l,null)):x&&(x.d(1),x=null);const E={};b&4&&(E.data=g[2]),_.$set(E),g[3]<0?D||(D=Ul(),D.c(),D.m(o,S)):D&&(D.d(1),D=null);let N=A;A=I(g),A===N?~A&&G[A].p(g,b):($&&(xe(),P(G[N],1,1,()=>{G[N]=null}),qe()),~A?($=G[A],$?$.p(g,b):($=G[A]=p[A](g),$.c()),T($,1),$.m(o,null)):$=null)},i(g){R||(T(e.$$.fragment,g),T(_.$$.fragment,g),T($),T(L.$$.fragment,g),R=!0)},o(g){P(e.$$.fragment,g),P(_.$$.fragment,g),P($),P(L.$$.fragment,g),R=!1},d(g){g&&(k(n),k(r),k(i),k(o),k(W)),Z(e,g),x&&x.d(),Z(_),D&&D.d(),~A&&G[A].d(),Z(L,g)}}}function yb(t){let e,n;return e=new _n({props:{$$slots:{default:[vb]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment)},m(r,i){X(e,r,i),n=!0},p(r,i){const o={};i&1038&&(o.$$scope={dirty:i,ctx:r}),e.$set(o)},i(r){n||(T(e.$$.fragment,r),n=!0)},o(r){P(e.$$.fragment,r),n=!1},d(r){Z(e,r)}}}function wb(t){let e,n,r;function i(l){t[5](l)}let o={$$slots:{default:[yb]},$$scope:{ctx:t}};return t[4]!==void 0&&(o.open=t[4]),e=new bn({props:o}),Ee.push(()=>cn(e,"open",i)),{c(){Q(e.$$.fragment)},m(l,s){X(e,l,s),r=!0},p(l,[s]){const a={};s&1038&&(a.$$scope={dirty:s,ctx:l}),!n&&s&16&&(n=!0,a.open=l[4],fn(()=>n=!1)),e.$set(a)},i(l){r||(T(e.$$.fragment,l),r=!0)},o(l){P(e.$$.fragment,l),r=!1},d(l){Z(e,l)}}}function Yl(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function kb(t,e,n){let r,i;ie(t,Te,f=>n(1,r=f)),ie(t,mr,f=>n(4,i=f)),ze[r.endGoal],$i[r.difficulty];let l,s=0;function a(){let f=r;r.hasBank===!0?(f.townInfo.gold+=Math.round(f.townInfo.knowledge_points*s),f.townInfo.knowledge_points=0,Te.set(f),localStorage.setItem(rt,JSON.stringify(f))):alert("You need a bank to convert knowledge to gold.")}function u(f){i=f,mr.set(i)}return t.$$.update=()=>{t.$$.dirty&2&&r&&(n(2,l=r.economyAndLaws.knowledge_gold_market_rates),n(3,s=r.economyAndLaws.knowledge_gold_market_rates[r.economyAndLaws.knowledge_gold_market_rates.length-1]))},[a,r,l,s,i,u]}class Sb extends pe{constructor(e){super(),de(this,e,kb,wb,ae,{convertKnowledgeToGold:0})}get convertKnowledgeToGold(){return this.$$.ctx[0]}}function Jl(t){let e,n,r,i;const o=[Cb,Ab],l=[];function s(a,u){return a[0]==null?0:1}return e=s(t),n=l[e]=o[e](t),{c(){n.c(),r=Me()},m(a,u){l[e].m(a,u),C(a,r,u),i=!0},p(a,u){let f=e;e=s(a),e===f?l[e].p(a,u):(xe(),P(l[f],1,1,()=>{l[f]=null}),qe(),n=l[e],n?n.p(a,u):(n=l[e]=o[e](a),n.c()),T(n,1),n.m(r.parentNode,r))},i(a){i||(T(n),i=!0)},o(a){P(n),i=!1},d(a){a&&k(r),l[e].d(a)}}}function Ab(t){let e,n,r,i,o,l,s,a,u,f,c,d,h,m,_,y,S,A,$,W,L=t[2]==!0&&Xl(),R=t[3]==!0&&Zl();return r=new Fp({}),o=new Np({}),s=new Ch({}),u=new Jh({}),c=new Sb({}),_=new gp({}),{c(){L&&L.c(),e=V(),R&&R.c(),n=V(),Q(r.$$.fragment),i=V(),Q(o.$$.fragment),l=V(),Q(s.$$.fragment),a=V(),Q(u.$$.fragment),f=V(),Q(c.$$.fragment),d=V(),h=O("div"),m=O("div"),Q(_.$$.fragment),y=V(),S=O("br"),A=V(),$=O("style"),$.textContent=`#plot_grid {
				overflow-x: scroll;
				overflow-y: scroll;
				scroll-behavior: smooth;
			}
			/* no visible scrollbars */
			#plot_grid::-webkit-scrollbar {
				display: none;
			}

			#plot_grid[data-marginRight='true'] {
				/* This is for when the balanceSheet is being shown. */
				margin-right: 224px;
			}

			html {
				overflow: scroll;
			}

			::-webkit-scrollbar {
				width: 0px;
				background: transparent; /* make scrollbar transparent */
			}`,F(m,"id","plot_grid"),F(m,"data-marginright",t[3]),on(m,"margin-top",t[4]+"px"),F(m,"class","scroll-smooth no-scrollbar overflow-x "),F(h,"class","justify-center text-center align-middle <!-- center horiz --> flex ")},m(x,D){L&&L.m(x,D),C(x,e,D),R&&R.m(x,D),C(x,n,D),X(r,x,D),C(x,i,D),X(o,x,D),C(x,l,D),X(s,x,D),C(x,a,D),X(u,x,D),C(x,f,D),X(c,x,D),C(x,d,D),C(x,h,D),w(h,m),X(_,m,null),w(m,y),w(m,S),C(x,A,D),C(x,$,D),W=!0},p(x,D){x[2]==!0?L?D&4&&T(L,1):(L=Xl(),L.c(),T(L,1),L.m(e.parentNode,e)):L&&(xe(),P(L,1,1,()=>{L=null}),qe()),x[3]==!0?R?D&8&&T(R,1):(R=Zl(),R.c(),T(R,1),R.m(n.parentNode,n)):R&&(xe(),P(R,1,1,()=>{R=null}),qe()),(!W||D&8)&&F(m,"data-marginright",x[3]),(!W||D&16)&&on(m,"margin-top",x[4]+"px")},i(x){W||(T(L),T(R),T(r.$$.fragment,x),T(o.$$.fragment,x),T(s.$$.fragment,x),T(u.$$.fragment,x),T(c.$$.fragment,x),T(_.$$.fragment,x),W=!0)},o(x){P(L),P(R),P(r.$$.fragment,x),P(o.$$.fragment,x),P(s.$$.fragment,x),P(u.$$.fragment,x),P(c.$$.fragment,x),P(_.$$.fragment,x),W=!1},d(x){x&&(k(e),k(n),k(i),k(l),k(a),k(f),k(d),k(h),k(A),k($)),L&&L.d(x),R&&R.d(x),Z(r,x),Z(o,x),Z(s,x),Z(u,x),Z(c,x),Z(_)}}}function Cb(t){let e,n;return e=new Bh({}),{c(){Q(e.$$.fragment)},m(r,i){X(e,r,i),n=!0},p:oe,i(r){n||(T(e.$$.fragment,r),n=!0)},o(r){P(e.$$.fragment,r),n=!1},d(r){Z(e,r)}}}function Xl(t){let e,n;return e=new mh({}),{c(){Q(e.$$.fragment)},m(r,i){X(e,r,i),n=!0},i(r){n||(T(e.$$.fragment,r),n=!0)},o(r){P(e.$$.fragment,r),n=!1},d(r){Z(e,r)}}}function Zl(t){let e,n;return e=new Rs({}),{c(){Q(e.$$.fragment)},m(r,i){X(e,r,i),n=!0},i(r){n||(T(e.$$.fragment,r),n=!0)},o(r){P(e.$$.fragment,r),n=!1},d(r){Z(e,r)}}}function Nb(t){let e,n,r=(t[1]||t[0]==null)&&Jl(t);return{c(){r&&r.c(),e=Me()},m(i,o){r&&r.m(i,o),C(i,e,o),n=!0},p(i,[o]){i[1]||i[0]==null?r?(r.p(i,o),o&3&&T(r,1)):(r=Jl(i),r.c(),T(r,1),r.m(e.parentNode,e)):r&&(xe(),P(r,1,1,()=>{r=null}),qe())},i(i){n||(T(r),n=!0)},o(i){P(r),n=!1},d(i){i&&k(e),r&&r.d(i)}}}function Ib(t,e,n){let r,i,o,l,s,a,u;ie(t,ln,m=>n(7,r=m)),ie(t,Be,m=>n(8,i=m)),ie(t,kt,m=>n(2,o=m)),ie(t,Te,m=>n(0,l=m)),ie(t,On,m=>n(9,s=m)),ie(t,hr,m=>n(3,a=m)),ie(t,ti,m=>n(4,u=m));let f=!1,c=!1;window.addEventListener("resize",()=>{window.innerWidth<800&&alert("Your screen is too small to play this game. Please use a larger screen.")}),document.addEventListener("keydown",m=>{if((document.activeElement!=null&&document.activeElement.nodeName==="INPUT"||document.activeElement!=null&&document.activeElement.nodeName=="TEXTAREA")&&m.key!=="Escape")return;switch(m.key.toLowerCase()){case"p":o==!0?kt.set(!1):(kt.set(!0),Ce(Be,i.visible=!1,i));break;case"escape":m.shiftKey?(Ce(kt,o=!0,o),localStorage.setItem("reset","true"),location.reload(),Pi()):i.visible==!0&&Ce(Be,i.visible=!1,i);break;case"arrowleft":case"a":m.preventDefault(),d(0,-1,"up");break;case"arrowright":case"d":m.preventDefault(),d(0,1,"down");break;case"arrowup":case"w":m.preventDefault(),d(-1,0,"left");break;case"arrowdown":case"s":m.preventDefault(),d(1,0,"right");break}});function d(m,_,y){if(i.visible===!1&&i.x===0&&i.y===0)h(0,0,y);else{let S=i.x,A=i.y;S+m<0?S=0:S+m>l.plots.length?S=l.plots.length:S+=m,A+_<0?A=0:A+_>l.plots.length?A=l.plots.length:A+=_,h(S,A,y)}}function h(m,_,y){if(c==!0)switch(y){case"up":_-=2;break;case"down":_+=1;break;case"left":m-=2;break;case"right":m+=1;break}m<0?m=0:m>l.plots.length&&(m=l.plots.length),_<0?_=0:_>l.plots.length&&(_=l.plots.length);let S=document.querySelectorAll(".plot_container"),A;if(S.forEach($=>{$.dataset.x=="$x"&&$.dataset.y=="$y"&&(A=$)}),o==!1){if(A.dataset.canBeUpgraded==="true"?Ce(Be,i.visible=!0,i):Ce(Be,i.visible=!1,i),A.dataset.refPlotX!==void 0&&A.dataset.refPlotY!=""?(c=!0,S.forEach($=>{$.dataset.x==A.dataset.refPlotX&&$.dataset.y==A.dataset.refPlotY&&(A=$,m=parseInt(A.dataset.x),_=parseInt(A.dataset.y))})):c=!1,A.dataset.size!=="1"&&A.dataset.size!==void 0&&(c=!0),Ce(Be,i.x=m,i),Ce(Be,i.y=_,i),S.forEach($=>{$.classList.remove("selected"),$.style.fontWeight=""}),A.classList.add("selected"),c){let $="4px solid #00800045";A.classList.remove("selected"),A.style.borderTop=$,A.style.borderLeft=$,A.style.fontWeight="600",S.forEach(W=>{const L=parseInt(`${W.dataset.x}`),R=parseInt(`${W.dataset.y}`);L==m+1&&R==_&&(W.style.borderLeft=$,W.style.borderBottom=$),L==m&&R==_+1&&(W.style.borderTop=$,W.style.borderRight=$),L==m+1&&R==_+1&&(W.style.borderBottom=$,W.style.borderRight=$)})}A.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),Ce(ln,r={},r)}}return t.$$.update=()=>{t.$$.dirty&1&&(l?(Ce(On,s.visible=!1,s),n(1,f=!0)):(Ce(On,s.visible=!0,s),n(1,f=!1)))},[l,f,o,a,u,h]}class Tb extends pe{constructor(e){super(),de(this,e,Ib,Nb,ae,{openPlotMenu:5})}get openPlotMenu(){return this.$$.ctx[5]}}new Tb({target:document.getElementById("app")});
