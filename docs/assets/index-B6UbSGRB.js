var od=Object.defineProperty;var id=(t,e,o)=>e in t?od(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o;var ln=(t,e,o)=>(id(t,typeof e!="symbol"?e+"":e,o),o);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function o(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(i){if(i.ep)return;i.ep=!0;const r=o(i);fetch(i.href,r)}})();function rd(t){const e=pako.gzip(JSON.stringify(t));return btoa(String.fromCharCode.apply(null,e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function ld(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),o=atob(e),n=new Uint8Array(o.length);for(let r=0;r<o.length;r++)n[r]=o.charCodeAt(r);const i=pako.ungzip(n,{to:"string"});return JSON.parse(i)}async function cf(){let t=localStorage.getItem("plots_active_game_db");const e=await rd(t);return window.location.hostname=="localhost"?"http://localhost:5173/?shareId="+e:"http://plots.jsph.cx/?shareId="+e}const rr=window.location.search.substring(1).split("&").reduce((t,e)=>{const[o,n]=e.split("=");return t[o]=n,t},{});if(rr.shareId!=null||rr.shareId!=null){console.log("DECRYPING FROM shareId");const t=JSON.parse(ld(rr.shareId));localStorage.setItem("plots_temp_game_db",JSON.stringify(t)),console.log("DECRYPED DATA",t)}else localStorage.removeItem("plots_temp_game_db"),console.log("COMPRESSING GAME TO SHARE"),cf();function Te(){}const xi=t=>t;function Q(t,e){for(const o in e)t[o]=e[o];return t}function df(t){return t()}function Ol(){return Object.create(null)}function xe(t){t.forEach(df)}function Lt(t){return typeof t=="function"}function de(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function sd(t){return Object.keys(t).length===0}function zr(t,...e){if(t==null){for(const n of e)n(void 0);return Te}const o=t.subscribe(...e);return o.unsubscribe?()=>o.unsubscribe():o}function mf(t){let e;return zr(t,o=>e=o)(),e}function se(t,e,o){t.$$.on_destroy.push(zr(e,o))}function ge(t,e,o,n){if(t){const i=pf(t,e,o,n);return t[0](i)}}function pf(t,e,o,n){return t[1]&&n?Q(o.ctx.slice(),t[1](n(e))):o.ctx}function _e(t,e,o,n){if(t[2]&&n){const i=t[2](n(o));if(e.dirty===void 0)return i;if(typeof i=="object"){const r=[],l=Math.max(e.dirty.length,i.length);for(let a=0;a<l;a+=1)r[a]=e.dirty[a]|i[a];return r}return e.dirty|i}return e.dirty}function be(t,e,o,n,i,r){if(i){const l=pf(e,o,n,r);t.p(l,i)}}function ve(t){if(t.ctx.length>32){const e=[],o=t.ctx.length/32;for(let n=0;n<o;n++)e[n]=-1;return e}return-1}function $e(t){const e={};for(const o in t)o[0]!=="$"&&(e[o]=t[o]);return e}function ue(t,e){const o={};e=new Set(e);for(const n in t)!e.has(n)&&n[0]!=="$"&&(o[n]=t[n]);return o}function Ae(t,e,o){return t.set(o),e}function Be(t){return t&&Lt(t.destroy)?t.destroy:Te}const hf=typeof window<"u";let el=hf?()=>window.performance.now():()=>Date.now(),tl=hf?t=>requestAnimationFrame(t):Te;const Vn=new Set;function gf(t){Vn.forEach(e=>{e.c(t)||(Vn.delete(e),e.f())}),Vn.size!==0&&tl(gf)}function nl(t){let e;return Vn.size===0&&tl(gf),{promise:new Promise(o=>{Vn.add(e={c:t,f:o})}),abort(){Vn.delete(e)}}}const ad=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function b(t,e){t.appendChild(e)}function _f(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function ud(t){const e=T("style");return e.textContent="/* empty */",fd(_f(t),e),e.sheet}function fd(t,e){return b(t.head||t,e),e.sheet}function O(t,e,o){t.insertBefore(e,o||null)}function I(t){t.parentNode&&t.parentNode.removeChild(t)}function rt(t,e){for(let o=0;o<t.length;o+=1)t[o]&&t[o].d(e)}function T(t){return document.createElement(t)}function bf(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function K(t){return document.createTextNode(t)}function H(){return K(" ")}function Le(){return K("")}function z(t,e,o,n){return t.addEventListener(e,o,n),()=>t.removeEventListener(e,o,n)}function cd(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function $(t,e,o){o==null?t.removeAttribute(e):t.getAttribute(e)!==o&&t.setAttribute(e,o)}const dd=["width","height"];function fe(t,e){const o=Object.getOwnPropertyDescriptors(t.__proto__);for(const n in e)e[n]==null?t.removeAttribute(n):n==="style"?t.style.cssText=e[n]:n==="__value"?t.value=t[n]=e[n]:o[n]&&o[n].set&&dd.indexOf(n)===-1?t[n]=e[n]:$(t,n,e[n])}function md(t,e){Object.keys(e).forEach(o=>{pd(t,o,e[o])})}function pd(t,e,o){const n=e.toLowerCase();n in t?t[n]=typeof t[n]=="boolean"&&o===""?!0:o:e in t?t[e]=typeof t[e]=="boolean"&&o===""?!0:o:$(t,e,o)}function cn(t){return/-/.test(t)?md:fe}function hd(t){return Array.from(t.childNodes)}function ce(t,e){e=""+e,t.data!==e&&(t.data=e)}function Pl(t,e){t.value=e??""}function Je(t,e,o,n){o==null?t.style.removeProperty(e):t.style.setProperty(e,o,"")}function pt(t,e,o){t.classList.toggle(e,!!o)}function vf(t,e,{bubbles:o=!1,cancelable:n=!1}={}){return new CustomEvent(t,{detail:e,bubbles:o,cancelable:n})}class Jt{constructor(e=!1){ln(this,"is_svg",!1);ln(this,"e");ln(this,"n");ln(this,"t");ln(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,o,n=null){this.e||(this.is_svg?this.e=bf(o.nodeName):this.e=T(o.nodeType===11?"TEMPLATE":o.nodeName),this.t=o.tagName!=="TEMPLATE"?o:o.content,this.c(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let o=0;o<this.n.length;o+=1)O(this.t,this.n[o],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(I)}}const mi=new Map;let pi=0;function gd(t){let e=5381,o=t.length;for(;o--;)e=(e<<5)-e^t.charCodeAt(o);return e>>>0}function _d(t,e){const o={stylesheet:ud(e),rules:{}};return mi.set(t,o),o}function hi(t,e,o,n,i,r,l,a=0){const s=16.666/n;let u=`{
`;for(let p=0;p<=1;p+=s){const w=e+(o-e)*r(p);u+=p*100+`%{${l(w,1-w)}}
`}const f=u+`100% {${l(o,1-o)}}
}`,c=`__svelte_${gd(f)}_${a}`,d=_f(t),{stylesheet:m,rules:_}=mi.get(d)||_d(d,t);_[c]||(_[c]=!0,m.insertRule(`@keyframes ${c} ${f}`,m.cssRules.length));const h=t.style.animation||"";return t.style.animation=`${h?`${h}, `:""}${c} ${n}ms linear ${i}ms 1 both`,pi+=1,c}function gi(t,e){const o=(t.style.animation||"").split(", "),n=o.filter(e?r=>r.indexOf(e)<0:r=>r.indexOf("__svelte")===-1),i=o.length-n.length;i&&(t.style.animation=n.join(", "),pi-=i,pi||bd())}function bd(){tl(()=>{pi||(mi.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&I(e)}),mi.clear())})}let $o;function Po(t){$o=t}function Go(){if(!$o)throw new Error("Function called outside component initialization");return $o}function Ho(t){Go().$$.on_mount.push(t)}function yf(t){Go().$$.on_destroy.push(t)}function vd(){const t=Go();return(e,o,{cancelable:n=!1}={})=>{const i=t.$$.callbacks[e];if(i){const r=vf(e,o,{cancelable:n});return i.slice().forEach(l=>{l.call(t,r)}),!r.defaultPrevented}return!0}}function Gi(t,e){return Go().$$.context.set(t,e),e}function Hi(t){return Go().$$.context.get(t)}function re(t,e){const o=t.$$.callbacks[e.type];o&&o.slice().forEach(n=>n.call(this,e))}const xn=[],Ne=[];let Wn=[];const Ar=[],wf=Promise.resolve();let Tr=!1;function kf(){Tr||(Tr=!0,wf.then(Cf))}function ol(){return kf(),wf}function ze(t){Wn.push(t)}function Gt(t){Ar.push(t)}const lr=new Set;let Dn=0;function Cf(){if(Dn!==0)return;const t=$o;do{try{for(;Dn<xn.length;){const e=xn[Dn];Dn++,Po(e),yd(e.$$)}}catch(e){throw xn.length=0,Dn=0,e}for(Po(null),xn.length=0,Dn=0;Ne.length;)Ne.pop()();for(let e=0;e<Wn.length;e+=1){const o=Wn[e];lr.has(o)||(lr.add(o),o())}Wn.length=0}while(xn.length);for(;Ar.length;)Ar.pop()();Tr=!1,lr.clear(),Po(t)}function yd(t){if(t.fragment!==null){t.update(),xe(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ze)}}function wd(t){const e=[],o=[];Wn.forEach(n=>t.indexOf(n)===-1?e.push(n):o.push(n)),o.forEach(n=>n()),Wn=e}let go;function il(){return go||(go=Promise.resolve(),go.then(()=>{go=null})),go}function kn(t,e,o){t.dispatchEvent(vf(`${e?"intro":"outro"}${o}`))}const li=new Set;let jt;function Ie(){jt={r:0,c:[],p:jt}}function Me(){jt.r||xe(jt.c),jt=jt.p}function y(t,e){t&&t.i&&(li.delete(t),t.i(e))}function A(t,e,o,n){if(t&&t.o){if(li.has(t))return;li.add(t),jt.c.push(()=>{li.delete(t),n&&(o&&t.d(1),n())}),t.o(e)}else n&&n()}const rl={duration:0};function Ht(t,e,o){const n={direction:"in"};let i=e(t,o,n),r=!1,l,a,s=0;function u(){l&&gi(t,l)}function f(){const{delay:d=0,duration:m=300,easing:_=xi,tick:h=Te,css:p}=i||rl;p&&(l=hi(t,0,1,m,d,_,p,s++)),h(0,1);const w=el()+d,v=w+m;a&&a.abort(),r=!0,ze(()=>kn(t,!0,"start")),a=nl(S=>{if(r){if(S>=v)return h(1,0),kn(t,!0,"end"),u(),r=!1;if(S>=w){const D=_((S-w)/m);h(D,1-D)}}return r})}let c=!1;return{start(){c||(c=!0,gi(t),Lt(i)?(i=i(n),il().then(f)):f())},invalidate(){c=!1},end(){r&&(u(),r=!1)}}}function Vt(t,e,o){const n={direction:"out"};let i=e(t,o,n),r=!0,l;const a=jt;a.r+=1;let s;function u(){const{delay:f=0,duration:c=300,easing:d=xi,tick:m=Te,css:_}=i||rl;_&&(l=hi(t,1,0,c,f,d,_));const h=el()+f,p=h+c;ze(()=>kn(t,!1,"start")),"inert"in t&&(s=t.inert,t.inert=!0),nl(w=>{if(r){if(w>=p)return m(0,1),kn(t,!1,"end"),--a.r||xe(a.c),!1;if(w>=h){const v=d((w-h)/c);m(1-v,v)}}return r})}return Lt(i)?il().then(()=>{i=i(n),u()}):u(),{end(f){f&&"inert"in t&&(t.inert=s),f&&i.tick&&i.tick(1,0),r&&(l&&gi(t,l),r=!1)}}}function gt(t,e,o,n){let r=e(t,o,{direction:"both"}),l=n?0:1,a=null,s=null,u=null,f;function c(){u&&gi(t,u)}function d(_,h){const p=_.b-l;return h*=Math.abs(p),{a:l,b:_.b,d:p,duration:h,start:_.start,end:_.start+h,group:_.group}}function m(_){const{delay:h=0,duration:p=300,easing:w=xi,tick:v=Te,css:S}=r||rl,D={start:el()+h,b:_};_||(D.group=jt,jt.r+=1),"inert"in t&&(_?f!==void 0&&(t.inert=f):(f=t.inert,t.inert=!0)),a||s?s=D:(S&&(c(),u=hi(t,l,_,p,h,w,S)),_&&v(0,1),a=d(D,p),ze(()=>kn(t,_,"start")),nl(j=>{if(s&&j>s.start&&(a=d(s,p),s=null,kn(t,a.b,"start"),S&&(c(),u=hi(t,l,a.b,a.duration,0,w,r.css))),a){if(j>=a.end)v(l=a.b,1-l),kn(t,a.b,"end"),s||(a.b?c():--a.group.r||xe(a.group.c)),a=null;else if(j>=a.start){const F=j-a.start;l=a.a+a.d*w(F/a.duration),v(l,1-l)}}return!!(a||s)}))}return{run(_){Lt(r)?il().then(()=>{r=r({direction:_?"in":"out"}),m(_)}):m(_)},end(){c(),a=s=null}}}function He(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function kd(t,e){A(t,1,1,()=>{e.delete(t.key)})}function Cd(t,e,o,n,i,r,l,a,s,u,f,c){let d=t.length,m=r.length,_=d;const h={};for(;_--;)h[t[_].key]=_;const p=[],w=new Map,v=new Map,S=[];for(_=m;_--;){const R=c(i,r,_),P=o(R);let E=l.get(P);E?S.push(()=>E.p(R,e)):(E=u(P,R),E.c()),w.set(P,p[_]=E),P in h&&v.set(P,Math.abs(_-h[P]))}const D=new Set,j=new Set;function F(R){y(R,1),R.m(a,f),l.set(R.key,R),f=R.first,m--}for(;d&&m;){const R=p[m-1],P=t[d-1],E=R.key,q=P.key;R===P?(f=R.first,d--,m--):w.has(q)?!l.has(E)||D.has(E)?F(R):j.has(q)?d--:v.get(E)>v.get(q)?(j.add(E),F(R)):(D.add(q),d--):(s(P,l),d--)}for(;d--;){const R=t[d];w.has(R.key)||s(R,l)}for(;m;)F(p[m-1]);return xe(S),p}function Se(t,e){const o={},n={},i={$$scope:1};let r=t.length;for(;r--;){const l=t[r],a=e[r];if(a){for(const s in l)s in a||(n[s]=1);for(const s in a)i[s]||(o[s]=a[s],i[s]=1);t[r]=a}else for(const s in l)i[s]=1}for(const l in n)l in o||(o[l]=void 0);return o}function lt(t){return typeof t=="object"&&t!==null?t:{}}function Wt(t,e,o){const n=t.$$.props[e];n!==void 0&&(t.$$.bound[n]=o,o(t.$$.ctx[n]))}function U(t){t&&t.c()}function W(t,e,o){const{fragment:n,after_update:i}=t.$$;n&&n.m(e,o),ze(()=>{const r=t.$$.on_mount.map(df).filter(Lt);t.$$.on_destroy?t.$$.on_destroy.push(...r):xe(r),t.$$.on_mount=[]}),i.forEach(ze)}function Y(t,e){const o=t.$$;o.fragment!==null&&(wd(o.after_update),xe(o.on_destroy),o.fragment&&o.fragment.d(e),o.on_destroy=o.fragment=null,o.ctx=[])}function Sd(t,e){t.$$.dirty[0]===-1&&(xn.push(t),kf(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function pe(t,e,o,n,i,r,l=null,a=[-1]){const s=$o;Po(t);const u=t.$$={fragment:null,ctx:[],props:r,update:Te,not_equal:i,bound:Ol(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(s?s.$$.context:[])),callbacks:Ol(),dirty:a,skip_bound:!1,root:e.target||s.$$.root};l&&l(u.root);let f=!1;if(u.ctx=o?o(t,e.props||{},(c,d,...m)=>{const _=m.length?m[0]:d;return u.ctx&&i(u.ctx[c],u.ctx[c]=_)&&(!u.skip_bound&&u.bound[c]&&u.bound[c](_),f&&Sd(t,c)),d}):[],u.update(),f=!0,xe(u.before_update),u.fragment=n?n(u.ctx):!1,e.target){if(e.hydrate){const c=hd(e.target);u.fragment&&u.fragment.l(c),c.forEach(I)}else u.fragment&&u.fragment.c();e.intro&&y(t.$$.fragment),W(t,e.target,e.anchor),Cf()}Po(s)}class he{constructor(){ln(this,"$$");ln(this,"$$set")}$destroy(){Y(this,1),this.$destroy=Te}$on(e,o){if(!Lt(o))return Te;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(o),()=>{const i=n.indexOf(o);i!==-1&&n.splice(i,1)}}$set(e){this.$$set&&!sd(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Ad="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Ad);const jn=[];function Cn(t,e){return{subscribe:Ve(t,e).subscribe}}function Ve(t,e=Te){let o;const n=new Set;function i(a){if(de(t,a)&&(t=a,o)){const s=!jn.length;for(const u of n)u[1](),jn.push(u,t);if(s){for(let u=0;u<jn.length;u+=2)jn[u][0](jn[u+1]);jn.length=0}}}function r(a){i(a(t))}function l(a,s=Te){const u=[a,s];return n.add(u),n.size===1&&(o=e(i,r)||Te),a(t),()=>{n.delete(u),n.size===0&&o&&(o(),o=null)}}return{set:i,update:r,subscribe:l}}function en(t,e,o){const n=!Array.isArray(t),i=n?[t]:t;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const r=e.length<2;return Cn(o,(l,a)=>{let s=!1;const u=[];let f=0,c=Te;const d=()=>{if(f)return;c();const _=e(n?u[0]:u,l,a);r?l(_):c=Lt(_)?_:Te},m=i.map((_,h)=>zr(_,p=>{u[h]=p,f&=~(1<<h),s&&d()},()=>{f|=1<<h}));return s=!0,d(),function(){xe(m),c(),s=!1}})}function Nl(t){return{subscribe:t.subscribe.bind(t)}}const Sf={gameId:Math.floor(Math.random()*1e10),plots:[],timeSpent:0,lastChangeDay:0,townLog:[],currentTutorialStep:0,gameSettings:[],resource_capacity:1e3,townInfo:{name:"Your town",gold:150,population_count:0,population_max:0,employees:0,guardians:0,happiness:150,health:150,recreation:0,community:150,knowledge_points:0,productivity:100},kingdom_expansions:0,resources:{food:150,wood:750,stone:750,metal:5,power:0,bureaucracy:0},resource_rate:{food:0,wood:0,stone:0,metal:0,bureaucracy:0,knowledge:0},hasCityHall:!1,hasBank:!1,hasHospital:!1,hasLab:!1,modifiers:{happiness:1,health:1,community:1},economyAndLaws:{tax_rate:.1,max_tax_rate:1,weeklyProfit:0,knowledge_gold_market_rates:[],enacted:[]},plotCounts:[],environment:{day:0,year:1},maximums:{health:300,happiness:300,community:300},difficulty:0,endGoal:"land",endGameDetails:{msg:"",win:!1,still_playing:!0},tick:0,overtime:!1,last_warning_happiness:0,last_warning_health:0,lab:{active_experiment:null,past_experiments:[],xp:0},liege_location:null},Td={username:"",stats:{games_played:0,wins:0,losses:0},achievements:[],selectedGame:0,games:[]};var Ze=(t=>(t[t.GOOD=0]="GOOD",t[t.BAD=1]="BAD",t[t.NORMAL=2]="NORMAL",t))(Ze||{}),ll=(t=>(t.START_GAME="start_game",t.BUILD_PLOT="build_plot",t))(ll||{});const Af={0:"Easy",1:"Normal",2:"Hard"},Id={0:Math.random()*(.5-.3)+.3,1:Math.random()*(.4-.2)+.2,2:Math.random()*(.4-.2)+.2},te=[{id:"small_homes",emoji:"🏠",title:"Homes",type:"residential",description:"+16 people",revenue_per_week:0,requirements:{gold:150,plots:[],employees:0,knowledge:0,size:1,xp:0,resources:{food:0,wood:50,stone:10,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:16,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:2,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"Listen to the townspeople.",weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"large_homes",emoji:"🏡",title:"Large Homes",type:"residential",description:"+32 people",revenue_per_week:0,requirements:{gold:1800,plots:[],employees:0,knowledge:0,size:1,xp:0,resources:{food:0,wood:350,stone:100,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.01,health:1,community:1},immediate_variable_changes:{happiness:10,health:0,population:32,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:40,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"Listen to the townspeople.",weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"farm",emoji:"🥕",title:"Farm",type:"farm",description:"Produces veggies, grains, fruit",revenue_per_week:6,requirements:{gold:80,plots:[],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:10,stone:10,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.03,health:1.03,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:5,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},check_for_variety:!1,liege_on_plot_hint:"Your presence on the farm is encouraging the farmers to work harder!",weekly_effect_modifiers:{happiness:1,health:1.002,community:1.002}},{id:"tree_farm",emoji:"🌲",title:"Tree Farm",type:"lumber",description:"Produces some wood",revenue_per_week:8,requirements:{gold:300,plots:[],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},check_for_variety:!0,styling:"",affordable:null,selected:null,knowledge_points_per_month:0,generated_resources:{food:0,wood:10,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"Your presence on the farm is encouraging the farmers to work harder!",weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"quarry",emoji:"⛏️",title:"Quarry",type:"quarry",description:"Produces stone, small amounts of metal. Isn't great for health. ",revenue_per_week:0,requirements:{gold:2e3,plots:[],employees:6,knowledge:0,size:1,xp:0,resources:{food:0,wood:150,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1,health:.98,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:16,metal:1,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"The workers at the quarry are working harder with the presence of their liege.",weekly_effect_modifiers:{happiness:1,health:.998,community:.9998}},{id:"Apothecary",emoji:"🌿",title:"Apothecary",type:"medical",description:"Produces medicine from herbs and plants found in the forest. Increases health overall for a short bit. Fine until you can build a Healing House.",revenue_per_week:0,requirements:{gold:600,plots:[],employees:2,knowledge:0,size:1,xp:0,resources:{food:0,wood:250,stone:250,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.15,health:1.15,community:1},immediate_variable_changes:{happiness:25,health:30,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1.03,community:1}},{id:"livestock_farm",emoji:"🐄",title:"Livestock",type:"farm",description:"Makes more money and food than a regular farm, but doesn't bonus from water.",revenue_per_week:60,requirements:{gold:600,plots:[],employees:8,knowledge:0,size:1,xp:0,resources:{food:0,wood:20,stone:20,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.1,health:1.05,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:14,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},check_for_variety:!1,liege_on_plot_hint:"The cows are producing more milk and cheese when you are hanging out on the farm.",weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"stockpile",emoji:"📦",title:"Stockpile",type:"stockpile",description:"Enables you to store more resources. Costs gold weekly.",revenue_per_week:0,requirements:{gold:600,plots:[],employees:2,knowledge:0,size:1,xp:0,resources:{food:0,wood:220,stone:60,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:15,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},check_for_variety:!1,liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"adv_stockpile",emoji:"📦📦",title:"Adv. Stockpile",type:"stockpile",description:"Stores more than a normal Stockpile. Costs more to build & operate.",revenue_per_week:0,requirements:{gold:3e3,plots:[],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:2e3,stone:2e3,metal:200,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:100,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},check_for_variety:!1,liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"bakery",emoji:"🥖",title:"Bakery",type:"business",description:"Converts food into some extra cash. Make sure you have enough food.",revenue_per_week:80,requirements:{gold:1800,plots:[],employees:3,knowledge:0,size:1,xp:0,resources:{food:0,wood:300,stone:300,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.11,health:.95,community:1},immediate_variable_changes:{happiness:25,health:0,population:0,community:0,bureaucracy:0},check_for_variety:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:15},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"stables",emoji:"🐴",title:"Stables",type:"recreation",description:"Improves the health of the town and provides recreation.",revenue_per_week:24,requirements:{gold:1700,plots:[],employees:2,knowledge:0,size:1,xp:0,resources:{food:0,wood:280,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.2,health:1.2,community:1},immediate_variable_changes:{happiness:5,health:10,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"church",emoji:"⛪️",title:"Church",type:"recreation",description:"Great place to pray, make people happy, and build community. Also, generates a tiny bit of knowledge. ",revenue_per_week:0,requirements:{gold:1e3,plots:[],employees:1,knowledge:0,size:1,xp:0,resources:{food:0,wood:1250,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.1,health:1,community:1.2},immediate_variable_changes:{happiness:25,health:0,population:0,community:25,bureaucracy:0},knowledge_points_per_month:5,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1.002,health:1,community:1}},{id:"pub",emoji:"🍻",title:"Pub",type:"recreation",description:"Generates knowledge, happiness, community. Isn't great for health.",revenue_per_week:100,knowledge_points_per_month:5,requirements:{gold:2e3,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:1200,stone:250,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.2,health:.97,community:1.1},immediate_variable_changes:{happiness:10,health:-15,population:0,community:0,bureaucracy:0},check_for_variety:!0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1.001,health:.998,community:1}},{id:"village_market",emoji:"🛒",title:"Market",type:"shop",description:"Turns food into money. Sells goods and employs many. Makes significantly more money from tourism if you have a Village Inn.",revenue_per_week:150,requirements:{gold:6e3,plots:[],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:1600,stone:600,metal:5,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.05,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:15,wood:35,stone:0,metal:0,bureaucracy:0,food:35},liege_on_plot_hint:"Your presence is helping the market make more money.",weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"fishery",emoji:"🐠",title:"Fishery",type:"business",description:"Requires metal but generates a lot of food. Must be near water.",revenue_per_week:35,requirements:{gold:7500,plots:[],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:3e3,stone:0,metal:100,power:0,bureaucracy:0},adjacent_plots:["water"]},purchase_effect_modifiers:{happiness:1.05,health:1,community:1},immediate_variable_changes:{happiness:5,health:8,population:0,community:0,bureaucracy:0},check_for_variety:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:85,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"Your expertise in fishing is helping the town reel in far more fish!",weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"vineyard",emoji:"🍇",title:"Vineyard",type:"recreation",description:"Makes fair money, lowers health. Generates knowledge too similar to a pub.",revenue_per_week:60,requirements:{gold:1800,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:1200,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.2,health:.9,community:1},immediate_variable_changes:{happiness:0,health:-10,population:0,community:0,bureaucracy:0},knowledge_points_per_month:3,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1.001,health:.998,community:1}},{id:"water_wheel",emoji:"💧",title:"Water Wheel",type:"industrial",description:"Produces small amount of power",revenue_per_week:0,requirements:{gold:1600,plots:[],employees:15,knowledge:0,size:1,xp:0,resources:{food:0,wood:2e3,stone:25,metal:0,power:0,bureaucracy:0},adjacent_plots:["water"]},purchase_effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:35,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"You are trying to improve the efficiency of the water wheel, but you aren't making a difference.",weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"adv_water_wheel",emoji:"💧💧",title:"Adv. Water Wheel",type:"industrial",description:"Produces a large amount of power",revenue_per_week:0,requirements:{gold:3e3,plots:["blacksmith"],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:1200,stone:150,metal:500,power:0,bureaucracy:0},adjacent_plots:["water"]},purchase_effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:250,bureaucracy:0},level:4,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"You are trying to improve the efficiency of the water wheel, but you aren't making a difference.",weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"adv_farm",emoji:"🌾",title:"Adv. Farm",type:"farm",description:"Uses knowledge and technology to produce more food, with only 1 employee.",revenue_per_week:60,requirements:{gold:750,plots:[],employees:1,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:300,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:15,health:15,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:180,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:100,wood:0,stone:0,metal:3,bureaucracy:0,food:0},check_for_variety:!1,liege_on_plot_hint:"Your presence on the farm is encouraging the farmer to work harder!",weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"park",emoji:"🎪",title:"Park",type:"recreation",description:"Makes people extremely happy & healthy for a period. Improves community.",revenue_per_week:0,requirements:{gold:600,plots:[],employees:3,knowledge:0,size:1,xp:0,resources:{food:0,wood:100,stone:100,metal:10,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.5,health:1.5,community:1.3},immediate_variable_changes:{happiness:40,health:40,population:0,community:40,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1.002,community:1.002}},{id:"village_inn",emoji:"🛌",title:"Village Inn",type:"tourism",description:"Each inn brings more visitors to your town, increasing profits for the Market and other stores.",revenue_per_week:40,requirements:{gold:5500,plots:[],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:3e3,stone:100,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1,health:1,community:1.02},immediate_variable_changes:{happiness:10,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:20,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"schoolhouse",emoji:"🏫",title:"Schoolhouse",type:"education",description:"Produces knowledge, costs money to run.",revenue_per_week:0,knowledge_points_per_month:75,requirements:{gold:15e3,plots:["library"],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:3e3,stone:600,metal:100,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.1,health:1.1,community:1.2},immediate_variable_changes:{happiness:15,health:3,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:50,power:20,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"The children seem to be learning worse when you are around, maybe you are a distraction from the teachers.",weekly_effect_modifiers:{happiness:1,health:1.002,community:1.002}},{id:"academy",emoji:"🎓",title:"Academy",type:"education",description:"Produces a lot of knowledge, more than a schoolhouse or library, but costs gold every week.",revenue_per_week:0,knowledge_points_per_month:200,requirements:{gold:5e4,plots:[],employees:32,knowledge:1e3,size:1,xp:0,resources:{food:0,wood:4500,stone:4500,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:50,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:5,active_costs:{gold:150,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"blacksmith",emoji:"⚒️",title:"Blacksmith",type:"business",description:"Converts metal into tools for money. Make sure you have enough metal!",revenue_per_week:150,requirements:{gold:18e3,plots:[],employees:6,knowledge:0,size:1,xp:0,resources:{food:0,wood:250,stone:1e4,metal:1e3,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:30,wood:0,stone:0,metal:50,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"library",emoji:"📕",title:"Library",type:"recreation",description:"Produces knowledge and happiness",revenue_per_week:0,knowledge_points_per_month:20,requirements:{gold:2e3,plots:[],employees:6,knowledge:0,size:1,xp:0,resources:{food:0,wood:2025,stone:500,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.3,health:1,community:1.1},immediate_variable_changes:{happiness:15,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"lumber_mill",emoji:"🏭",title:"Lumber Mill",type:"industrial",description:"Increases wood production by 50%, has to be next to a tree farm, but increases production at all.",revenue_per_week:0,requirements:{gold:12e3,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:1500,stone:1500,metal:300,power:0,bureaucracy:0},adjacent_plots:["tree_farm"]},purchase_effect_modifiers:{happiness:1.2,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:50,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:40,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:.9998}},{id:"solar_farm",emoji:"☀️",title:"Solar farm",type:"industrial",description:"Produces a lot of power without the need of water. Requires a lot of metal every week.",revenue_per_week:0,requirements:{gold:5e4,plots:["blacksmith","library"],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:1e3,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:750,bureaucracy:0},level:4,active_costs:{gold:0,power:0,wood:0,stone:0,metal:25,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"general_store",emoji:"🛒",title:"General Store",type:"shop",description:"Makes the most money of any plot, requires power. Makes significantly more from tourism if you have a Village Inn.",revenue_per_week:750,requirements:{gold:27500,plots:[],employees:32,knowledge:0,size:1,xp:0,resources:{food:0,wood:3e4,stone:5e3,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:2,health:2,community:1.1},immediate_variable_changes:{happiness:50,health:50,population:0,community:50,bureaucracy:0},check_for_variety:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:160,wood:0,stone:0,metal:0,bureaucracy:0,food:100},liege_on_plot_hint:"Your experience managing towns is increasing the profits at the general store!",weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"healing_house",emoji:"🏥",title:"Healing House",type:"medical",description:"Treats the sick and continuously improves health.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:3e4,plots:["mine"],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:1e3,stone:2e3,metal:500,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.25,health:1.5,community:1.1},immediate_variable_changes:{happiness:5,health:75,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:30,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"city_hall",emoji:"🗳️",title:"City Hall",type:"federal",description:"Generates bureaucracy that can be used to pass laws to impact the city and expand. Costs a LOT of gold every week.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:125e3,plots:[],employees:32,knowledge:1e4,size:1,xp:0,resources:{food:0,wood:3250,stone:2e3,metal:200,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1,health:1,community:1.3},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:10},level:5,active_costs:{gold:600,power:20,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"mine",emoji:"⛏️",title:"Mine",type:"mine",description:"Produces a significant amount of metal and stone.",revenue_per_week:0,requirements:{gold:3e4,plots:["library","quarry"],employees:48,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:110,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1,health:.95,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:10,metal:60,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:80,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:.998,community:.9998}},{id:"university",emoji:"🏫",title:"University",type:"education",description:"Produces the most knowledge, but costs a lot of gold every week.",revenue_per_week:0,knowledge_points_per_month:500,requirements:{gold:5e4,plots:[],employees:32,knowledge:5e3,size:1,xp:0,resources:{food:0,wood:4500,stone:4500,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:50,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:5,active_costs:{gold:500,power:100,wood:100,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"bank",emoji:"🏦",title:"Bank",type:"bank",description:"Enables the conversion of knowledge to gold, and increases maximum tax rate so you can make more money.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:1e5,plots:[],employees:32,knowledge:25e3,size:1,xp:0,resources:{food:0,wood:1e3,stone:1e4,metal:1e3,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:.8,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:5,active_costs:{gold:0,power:100,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"lab",emoji:"🧪",title:"Laboratory",type:"science",description:"Designs things to help the city grow",revenue_per_week:0,knowledge_points_per_month:300,requirements:{gold:1e5,plots:[],employees:48,knowledge:15e3,size:1,xp:0,resources:{food:0,wood:0,stone:1e4,metal:5e3,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:.98,health:.99,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:5,active_costs:{gold:5e3,power:1e3,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}}],_o={empty_unusable:"rgba(255,255,255,0.50)",empty_buildable:"rgba(239,234,90,1.0)",residential:"rgba(222,118,51,1.0)",farm:"rgba(107,143,73,1.0)",lumber:"rgba(145,116,44,1.0)",business:"rgba(146,115,165,1.0)",recreation:"rgba(82,119,177,1.0)",shop:"rgba(82,119,177,1.0)",tourism:"rgba(216,150,216,1.0)",education:"rgba(153,151,223,1.0)",medical:"rgba(74,91,163,1.0)",bank:"rgba(132,119,190,1.0)",federal:"rgba(132,119,190,1.0)",science:"rgba(74,91,163,1.0)",mine:"rgba(217,135,74,1.0)",quarry:"rgba(134,134,133,1.0)",industrial:"rgba(22, 50, 255,0.8)",stockpile:"rgba(134,134,133,1.0)"};function Ir(t,e=!1,o=22){if(t<0)return t==-1?e?_o.empty_buildable:_o.empty_unusable:t==-2?_o.recreation:_o.empty_unusable;const n=te[t];return Od(_o[n.type],o)}const Md={lab:1,city_hall:1,bank:1,community_center:1,lumber_mill:1},Od=(t,e=20)=>{const o=(l,a,s)=>{l/=255,a/=255,s/=255;const u=Math.max(l,a,s),f=Math.min(l,a,s);let c=0,d=0,m=(u+f)/2;if(u!==f){const _=u-f;switch(d=m>.5?_/(2-u-f):_/(u+f),u){case l:c=(a-s)/_+(a<s?6:0);break;case a:c=(s-l)/_+2;break;case s:c=(l-a)/_+4;break}c/=6}return[c*360,d,m]},n=(l,a,s,u)=>{const f=Math.min(1,s+u/100);return`hsl(${l}, ${(a*100).toFixed(1)}%, ${(f*100).toFixed(1)}%)`},i=l=>{const a=l.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)/);return a?[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]:null};let r=null;if(t.startsWith("#")){const l=t.replace("#",""),a=parseInt(l,16);r=[a>>16&255,a>>8&255,a&255]}else(t.startsWith("rgba")||t.startsWith("rgb"))&&(r=i(t));if(r){const[l,a,s]=o(r[0],r[1],r[2]);return n(l,a,s,e)}throw new Error("Invalid color format")};function Tf(t){var e,o,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(o=Tf(t[e]))&&(n&&(n+=" "),n+=o)}else for(o in t)t[o]&&(n&&(n+=" "),n+=o);return n}function Pd(){for(var t,e,o=0,n="",i=arguments.length;o<i;o++)(t=arguments[o])&&(e=Tf(t))&&(n&&(n+=" "),n+=e);return n}const sl="-";function Nd(t){const e=Rd(t),{conflictingClassGroups:o,conflictingClassGroupModifiers:n}=t;function i(l){const a=l.split(sl);return a[0]===""&&a.length!==1&&a.shift(),If(a,e)||Ed(l)}function r(l,a){const s=o[l]||[];return a&&n[l]?[...s,...n[l]]:s}return{getClassGroupId:i,getConflictingClassGroupIds:r}}function If(t,e){var l;if(t.length===0)return e.classGroupId;const o=t[0],n=e.nextPart.get(o),i=n?If(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const r=t.join(sl);return(l=e.validators.find(({validator:a})=>a(r)))==null?void 0:l.classGroupId}const El=/^\[(.+)\]$/;function Ed(t){if(El.test(t)){const e=El.exec(t)[1],o=e==null?void 0:e.substring(0,e.indexOf(":"));if(o)return"arbitrary.."+o}}function Rd(t){const{theme:e,prefix:o}=t,n={nextPart:new Map,validators:[]};return Ld(Object.entries(t.classGroups),o).forEach(([r,l])=>{Mr(l,n,r,e)}),n}function Mr(t,e,o,n){t.forEach(i=>{if(typeof i=="string"){const r=i===""?e:Rl(e,i);r.classGroupId=o;return}if(typeof i=="function"){if($d(i)){Mr(i(n),e,o,n);return}e.validators.push({validator:i,classGroupId:o});return}Object.entries(i).forEach(([r,l])=>{Mr(l,Rl(e,r),o,n)})})}function Rl(t,e){let o=t;return e.split(sl).forEach(n=>{o.nextPart.has(n)||o.nextPart.set(n,{nextPart:new Map,validators:[]}),o=o.nextPart.get(n)}),o}function $d(t){return t.isThemeGetter}function Ld(t,e){return e?t.map(([o,n])=>{const i=n.map(r=>typeof r=="string"?e+r:typeof r=="object"?Object.fromEntries(Object.entries(r).map(([l,a])=>[e+l,a])):r);return[o,i]}):t}function Dd(t){if(t<1)return{get:()=>{},set:()=>{}};let e=0,o=new Map,n=new Map;function i(r,l){o.set(r,l),e++,e>t&&(e=0,n=o,o=new Map)}return{get(r){let l=o.get(r);if(l!==void 0)return l;if((l=n.get(r))!==void 0)return i(r,l),l},set(r,l){o.has(r)?o.set(r,l):i(r,l)}}}const Mf="!";function jd(t){const e=t.separator,o=e.length===1,n=e[0],i=e.length;return function(l){const a=[];let s=0,u=0,f;for(let h=0;h<l.length;h++){let p=l[h];if(s===0){if(p===n&&(o||l.slice(h,h+i)===e)){a.push(l.slice(u,h)),u=h+i;continue}if(p==="/"){f=h;continue}}p==="["?s++:p==="]"&&s--}const c=a.length===0?l:l.substring(u),d=c.startsWith(Mf),m=d?c.substring(1):c,_=f&&f>u?f-u:void 0;return{modifiers:a,hasImportantModifier:d,baseClassName:m,maybePostfixModifierPosition:_}}}function Fd(t){if(t.length<=1)return t;const e=[];let o=[];return t.forEach(n=>{n[0]==="["?(e.push(...o.sort(),n),o=[]):o.push(n)}),e.push(...o.sort()),e}function Bd(t){return{cache:Dd(t.cacheSize),splitModifiers:jd(t),...Nd(t)}}const qd=/\s+/;function xd(t,e){const{splitModifiers:o,getClassGroupId:n,getConflictingClassGroupIds:i}=e,r=new Set;return t.trim().split(qd).map(l=>{const{modifiers:a,hasImportantModifier:s,baseClassName:u,maybePostfixModifierPosition:f}=o(l);let c=n(f?u.substring(0,f):u),d=!!f;if(!c){if(!f)return{isTailwindClass:!1,originalClassName:l};if(c=n(u),!c)return{isTailwindClass:!1,originalClassName:l};d=!1}const m=Fd(a).join(":");return{isTailwindClass:!0,modifierId:s?m+Mf:m,classGroupId:c,originalClassName:l,hasPostfixModifier:d}}).reverse().filter(l=>{if(!l.isTailwindClass)return!0;const{modifierId:a,classGroupId:s,hasPostfixModifier:u}=l,f=a+s;return r.has(f)?!1:(r.add(f),i(s,u).forEach(c=>r.add(a+c)),!0)}).reverse().map(l=>l.originalClassName).join(" ")}function Gd(){let t=0,e,o,n="";for(;t<arguments.length;)(e=arguments[t++])&&(o=Of(e))&&(n&&(n+=" "),n+=o);return n}function Of(t){if(typeof t=="string")return t;let e,o="";for(let n=0;n<t.length;n++)t[n]&&(e=Of(t[n]))&&(o&&(o+=" "),o+=e);return o}function Or(t,...e){let o,n,i,r=l;function l(s){const u=e.reduce((f,c)=>c(f),t());return o=Bd(u),n=o.cache.get,i=o.cache.set,r=a,a(s)}function a(s){const u=n(s);if(u)return u;const f=xd(s,o);return i(s,f),f}return function(){return r(Gd.apply(null,arguments))}}function Ke(t){const e=o=>o[t]||[];return e.isThemeGetter=!0,e}const Pf=/^\[(?:([a-z-]+):)?(.+)\]$/i,Hd=/^\d+\/\d+$/,Vd=new Set(["px","full","screen"]),Wd=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Yd=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Ud=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Kd=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Jd=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function Ut(t){return yn(t)||Vd.has(t)||Hd.test(t)}function sn(t){return ro(t,"length",om)}function yn(t){return!!t&&!Number.isNaN(Number(t))}function Jo(t){return ro(t,"number",yn)}function bo(t){return!!t&&Number.isInteger(Number(t))}function Xd(t){return t.endsWith("%")&&yn(t.slice(0,-1))}function Fe(t){return Pf.test(t)}function an(t){return Wd.test(t)}const Zd=new Set(["length","size","percentage"]);function Qd(t){return ro(t,Zd,Nf)}function zd(t){return ro(t,"position",Nf)}const em=new Set(["image","url"]);function tm(t){return ro(t,em,rm)}function nm(t){return ro(t,"",im)}function vo(){return!0}function ro(t,e,o){const n=Pf.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):o(n[2]):!1}function om(t){return Yd.test(t)&&!Ud.test(t)}function Nf(){return!1}function im(t){return Kd.test(t)}function rm(t){return Jd.test(t)}function Pr(){const t=Ke("colors"),e=Ke("spacing"),o=Ke("blur"),n=Ke("brightness"),i=Ke("borderColor"),r=Ke("borderRadius"),l=Ke("borderSpacing"),a=Ke("borderWidth"),s=Ke("contrast"),u=Ke("grayscale"),f=Ke("hueRotate"),c=Ke("invert"),d=Ke("gap"),m=Ke("gradientColorStops"),_=Ke("gradientColorStopPositions"),h=Ke("inset"),p=Ke("margin"),w=Ke("opacity"),v=Ke("padding"),S=Ke("saturate"),D=Ke("scale"),j=Ke("sepia"),F=Ke("skew"),R=Ke("space"),P=Ke("translate"),E=()=>["auto","contain","none"],q=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto",Fe,e],C=()=>[Fe,e],k=()=>["",Ut,sn],N=()=>["auto",yn,Fe],B=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],L=()=>["solid","dashed","dotted","double","none"],J=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"],Z=()=>["start","end","center","between","around","evenly","stretch"],X=()=>["","0",Fe],ne=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ee=()=>[yn,Jo],oe=()=>[yn,Fe];return{cacheSize:500,separator:":",theme:{colors:[vo],spacing:[Ut,sn],blur:["none","",an,Fe],brightness:ee(),borderColor:[t],borderRadius:["none","","full",an,Fe],borderSpacing:C(),borderWidth:k(),contrast:ee(),grayscale:X(),hueRotate:oe(),invert:X(),gap:C(),gradientColorStops:[t],gradientColorStopPositions:[Xd,sn],inset:M(),margin:M(),opacity:ee(),padding:C(),saturate:ee(),scale:ee(),sepia:X(),skew:oe(),space:C(),translate:C()},classGroups:{aspect:[{aspect:["auto","square","video",Fe]}],container:["container"],columns:[{columns:[an]}],"break-after":[{"break-after":ne()}],"break-before":[{"break-before":ne()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...B(),Fe]}],overflow:[{overflow:q()}],"overflow-x":[{"overflow-x":q()}],"overflow-y":[{"overflow-y":q()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[h]}],"inset-x":[{"inset-x":[h]}],"inset-y":[{"inset-y":[h]}],start:[{start:[h]}],end:[{end:[h]}],top:[{top:[h]}],right:[{right:[h]}],bottom:[{bottom:[h]}],left:[{left:[h]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",bo,Fe]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Fe]}],grow:[{grow:X()}],shrink:[{shrink:X()}],order:[{order:["first","last","none",bo,Fe]}],"grid-cols":[{"grid-cols":[vo]}],"col-start-end":[{col:["auto",{span:["full",bo,Fe]},Fe]}],"col-start":[{"col-start":N()}],"col-end":[{"col-end":N()}],"grid-rows":[{"grid-rows":[vo]}],"row-start-end":[{row:["auto",{span:[bo,Fe]},Fe]}],"row-start":[{"row-start":N()}],"row-end":[{"row-end":N()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Fe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Fe]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal",...Z()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Z(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Z(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[p]}],mx:[{mx:[p]}],my:[{my:[p]}],ms:[{ms:[p]}],me:[{me:[p]}],mt:[{mt:[p]}],mr:[{mr:[p]}],mb:[{mb:[p]}],ml:[{ml:[p]}],"space-x":[{"space-x":[R]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[R]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Fe,e]}],"min-w":[{"min-w":[Fe,e,"min","max","fit"]}],"max-w":[{"max-w":[Fe,e,"none","full","min","max","fit","prose",{screen:[an]},an]}],h:[{h:[Fe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Fe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Fe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Fe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",an,sn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Jo]}],"font-family":[{font:[vo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Fe]}],"line-clamp":[{"line-clamp":["none",yn,Jo]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ut,Fe]}],"list-image":[{"list-image":["none",Fe]}],"list-style-type":[{list:["none","disc","decimal",Fe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...L(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ut,sn]}],"underline-offset":[{"underline-offset":["auto",Ut,Fe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Fe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Fe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...B(),zd]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Qd]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},tm]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[_]}],"gradient-via-pos":[{via:[_]}],"gradient-to-pos":[{to:[_]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[r]}],"rounded-s":[{"rounded-s":[r]}],"rounded-e":[{"rounded-e":[r]}],"rounded-t":[{"rounded-t":[r]}],"rounded-r":[{"rounded-r":[r]}],"rounded-b":[{"rounded-b":[r]}],"rounded-l":[{"rounded-l":[r]}],"rounded-ss":[{"rounded-ss":[r]}],"rounded-se":[{"rounded-se":[r]}],"rounded-ee":[{"rounded-ee":[r]}],"rounded-es":[{"rounded-es":[r]}],"rounded-tl":[{"rounded-tl":[r]}],"rounded-tr":[{"rounded-tr":[r]}],"rounded-br":[{"rounded-br":[r]}],"rounded-bl":[{"rounded-bl":[r]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...L(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:L()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...L()]}],"outline-offset":[{"outline-offset":[Ut,Fe]}],"outline-w":[{outline:[Ut,sn]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:k()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[Ut,sn]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",an,nm]}],"shadow-color":[{shadow:[vo]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":J()}],"bg-blend":[{"bg-blend":J()}],filter:[{filter:["","none"]}],blur:[{blur:[o]}],brightness:[{brightness:[n]}],contrast:[{contrast:[s]}],"drop-shadow":[{"drop-shadow":["","none",an,Fe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[c]}],saturate:[{saturate:[S]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[o]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[s]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[c]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Fe]}],duration:[{duration:oe()}],ease:[{ease:["linear","in","out","in-out",Fe]}],delay:[{delay:oe()}],animate:[{animate:["none","spin","ping","pulse","bounce",Fe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[D]}],"scale-x":[{"scale-x":[D]}],"scale-y":[{"scale-y":[D]}],rotate:[{rotate:[bo,Fe]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[F]}],"skew-y":[{"skew-y":[F]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Fe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Fe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Fe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Ut,sn,Jo]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}function lm(t,{cacheSize:e,prefix:o,separator:n,extend:i={},override:r={}}){si(t,"cacheSize",e),si(t,"prefix",o),si(t,"separator",n);for(const l in r)sm(t[l],r[l]);for(const l in i)am(t[l],i[l]);return t}function si(t,e,o){o!==void 0&&(t[e]=o)}function sm(t,e){if(e)for(const o in e)si(t,o,e[o])}function am(t,e){if(e)for(const o in e){const n=e[o];n!==void 0&&(t[o]=(t[o]||[]).concat(n))}}function um(t,...e){return typeof t=="function"?Or(Pr,t,...e):Or(()=>lm(Pr(),t),...e)}const Ef=Or(Pr);function Rf(t){const e=t-1;return e*e*e+1}function je(...t){return Ef(Pd(t))}function $f(t,e,o){const r={...{townName:t.townInfo.name,population:t.townInfo.population_count,gold:t.townInfo.gold,day:t.environment.day*t.environment.year,tick:t.tick},...o};console.log("event",e,r),gtag("event",e,r)}const lo=(t,e={y:-8,x:0,start:.95,duration:150})=>{const o=getComputedStyle(t),n=o.transform==="none"?"":o.transform,i=(l,a,s)=>{const[u,f]=a,[c,d]=s;return(l-u)/(f-u)*(d-c)+c},r=l=>Object.keys(l).reduce((a,s)=>l[s]===void 0?a:a+`${s}:${l[s]};`,"");return{duration:e.duration??200,delay:0,css:l=>{const a=i(l,[0,1],[e.y??5,0]),s=i(l,[0,1],[e.x??0,0]),u=i(l,[0,1],[e.start??.95,1]);return r({transform:`${n} translate3d(${s}px, ${a}px, 0) scale(${u})`,opacity:l})},easing:Rf}};function tt(t,e){if(e===void 0&&(e=0),t==null||t==null)return 0;t=parseFloat((t*Math.pow(10,e)).toFixed(11));var o=Math.round(t)/Math.pow(10,e);return+o.toFixed(e)}function sr(t){return t<10?"0"+t:t}function fm(t){let e=Math.floor(t/1e3),o=Math.floor(e/60);e=e%60;let n=Math.floor(o/60);return o=o%60,`${sr(n)}:${sr(o)}:${sr(e)}`}function ye(t){return te.findIndex(e=>e.id===t)}function $l(t){return te.find(e=>e.id===t)}function st(t,e=!0){let o=t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,");return e||(o=o.split(".")[0]),o}function Xn(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Ll(t,e=!0){return t=tt(t/(e?3:1),2),t<0?`${t}`:`+${t}`}function An(t,e,o,n=!1){if(t<0||t>=o.plots.length||e<0||e>=o.plots[0].length)return!1;let i=[[t-1,e],[t+1,e],[t,e-1],[t,e+1],[t-1,e-1],[t-1,e+1],[t+1,e-1],[t+1,e+1]];for(let r=0;r<i.length;r++){let l=i[r][0],a=i[r][1];if(l>=0&&l<o.plots.length&&a>=0&&a<o.plots[0].length&&o.plots[l][a].water&&(n||o.plots[t][e].active==!0&&o.plots[t][e].type>0&&te[o.plots[t][e].type].id=="farm"))return!0}return!1}function cm(t,e,o,n){if(t<0||t>=o.plots.length||e<0||e>=o.plots[0].length)return!1;let i=[[t-1,e],[t+1,e],[t,e-1],[t,e+1],[t-1,e-1],[t-1,e+1],[t+1,e-1],[t+1,e+1]],r=!0;for(let l=0;l<n.length;l++){let a=!1,s=n[l];if(s!=="water"){for(let u=0;u<i.length;u++){let f=i[u][0],c=i[u][1];if(f>=0&&f<o.plots.length&&c>=0&&c<o.plots[0].length&&o.plots[f][c].active==!0&&o.plots[f][c].type>0&&te[o.plots[f][c].type].id==s){a=!0;break}}if(!a){r=!1;break}}}return r}function dm(t,e=0){let o=t*.95,n=t*1.05;return tt(Math.random()*(n-o)+o,e)}function _i(t,e,o){let n={x:t,y:e};return n.x===0&&n.y===0?!0:[{x:n.x-1,y:n.y},{x:n.x+1,y:n.y},{x:n.x,y:n.y-1},{x:n.x,y:n.y+1}].some(r=>r.x<0||r.x>=o.plots.length||r.y<0||r.y>=o.plots[r.x].length?!1:o.plots[r.x][r.y].active)}function mm(t,e){return t.requirements.gold<=e.townInfo.gold}function pm(t,e){return t.requirements.knowledge?t.requirements.knowledge<=e.townInfo.knowledge_points:!0}function hm(t,e){return t.requirements.resources?Object.entries(t.requirements.resources).every(([o,n])=>{const i=o,r=e.resources[i];return n===0||r>=n}):!0}function gm(t,e,o,n){if(!t.requirements.employees||t.requirements.employees<=0)return!0;const i=e.townInfo.population_count-e.townInfo.employees,r=e.plots[o][n];if(r.type!==-1){const a=te[r.type].requirements.employees||0;return t.requirements.employees<=i+a}return t.requirements.employees<=i}function _m(t,e){return t.active_costs?Object.entries(t.active_costs).every(([o,n])=>{if(o==="gold")return!0;const i=o;return i==="gold"?!0:!n||e.resources[i]>=n}):!0}function bm(t,e,o,n){if(!t.requirements.adjacent_plots.length)return!0;for(const i of t.requirements.adjacent_plots)if(i==="water"){if(!An(e,o,n,!0))return!1}else if(!cm(e,o,n,[i]))return!1;return!0}function vm(t,e){return t.requirements.plots.length?t.requirements.plots.every(o=>De(o,e).length>0):!0}function Lo(t,e,o,n){const i=mm(t,e),r=pm(t,e),l=hm(t,e),a=gm(t,e,o,n),s=_m(t,e),u=bm(t,o,n,e),f=vm(t,e);return{affordable:[i,r,l,a,s,u,f].every(c=>c===!0),gold:i,knowledge:r,resources:l,employees:a,activeCosts:s,adjacent:u,requiredPlots:f}}function ym(t){return te.findIndex(e=>e.id===t)}function Fn(t,e,o,n,i=!1){const r=ym(t),l=te[r];if(i||Lo(l,n,e,o).affordable){if(n.plots[e][o].type!==-1&&Zn(e,o,n),n.plots[e][o].type=r,n.plots[e][o].active=!0,n.plots[e][o].typeId=l.id,n.townInfo.gold-=l.requirements.gold,n.townInfo.gold=tt(n.townInfo.gold,2),n.townInfo.population_count+=l.immediate_variable_changes.population,n.townInfo.population_max+=l.immediate_variable_changes.population,n.townInfo.happiness+=l.immediate_variable_changes.happiness,n.townInfo.health+=l.immediate_variable_changes.health,n.modifiers.happiness=tt(n.modifiers.happiness*l.purchase_effect_modifiers.happiness,2),n.modifiers.health=tt(n.modifiers.health*l.purchase_effect_modifiers.health,2),n.modifiers.community=tt(n.modifiers.community*l.purchase_effect_modifiers.community,2),n.townInfo.employees+=l.requirements.employees,(n.plotCounts[r]===void 0||n.plotCounts[r]===null)&&(n.plotCounts[r]=0),n.plotCounts[r]++,n.lastChangeDay=n.environment.day,l.requirements.resources!==void 0){const a=l.requirements.resources;n.resources.food-=a.food,n.resources.wood-=a.wood,n.resources.stone-=a.stone,n.resources.metal-=a.metal}switch(l.id){case"city_hall":n.hasCityHall=!0;break;case"bank":n.hasBank=!0;break}return n}return n}function wm(t,e,o){if(!o||!o.plots||!o.plots.length)return null;const n=o.plots.length,i=o.plots[0].length;for(let r=1;r<n+i;r++)for(let l=-r;l<=r;l++)for(let a=-r;a<=r;a++){if(Math.abs(l)+Math.abs(a)!==r)continue;const s=t+l,u=e+a;if(!(s<0||s>=n||u<0||u>=i)&&!o.plots[s][u].active&&!o.plots[s][u].mineralSource&&!o.plots[s][u].water&&!o.plots[s][u].disabled&&_i(s,u,o))return[s,u]}return null}function km(t){let e={...Sf};e.difficulty=1,e.endGoal="land",e.townInfo.name="Mock Town",e.townInfo.gold=Math.random()*5e4+2e4,e.townInfo.happiness=300,e.townInfo.health=300,e.townInfo.knowledge_points=Math.random()*1e3+100,e.modifiers.happiness=1e4,e.modifiers.health=1e4,e.resources.food=Math.random()*1e4+1e3,e.resources.wood=Math.random()*1e4+1e3,e.resources.stone=Math.random()*1e4+1e3,e.resources.metal=Math.random()*1e4+1e3;let o=[];const n=25,i=Math.floor(Math.random()*n/2)+1,r=Math.floor(Math.random()*n/2)+1;for(let l=0;l<n;l++){o.push([]);for(let a=0;a<n;a++){const s=l==i&&a==r?!1:bi(l,a,n);o[l][a]={id:Math.random().toString(36).substring(2,9),active:!1,x:l,y:a,type:s?-9:-1,typeId:"",mineralSource:s?!1:i===l&&r===a,water:i===l&&r===a?!1:s}}}e.plots=o,Oe.set(e),localStorage.setItem(nt,JSON.stringify(e)),localStorage.reset=!1,e=Fn("small_homes",0,0,e,!0),e=Fn("farm",1,0,e,!0),e=Fn("farm",2,0,e,!0),e=Fn("farm",3,0,e,!0),e=Fn("tree_farm",4,0,e,!0);for(let l=1;l<t.plots.length*t.plots[0].length/2;l++)for(let a=0;a<te.length/2;a++){let s=te[Math.floor(Math.random()*te.length)];t=Fn(s.id,l,a,e,!1)}Oe.set(e),localStorage.setItem(nt,JSON.stringify(e)),localStorage.reset=!1,location.reload()}const nt="plots_active_game_db",et="plots_user_db",$t="plots_temp_game_db";function Cm(){const t=["York","London","Paris","Madrid","Rome","Berlin","Vienna","Prague","Warsaw","Oslo","Lisbon","Dublin","Brussels","Amsterdam","Stockholm","Copenhagen","Edinburgh","Moscow","Beijing","Tokyo","Seoul","Bangkok","Delhi","Mumbai","Shanghai","Sydney","Melbourne","Cairo","Dubai","Istanbul","Athens","Budapest","Reykjavik","Helsinki","Tallinn","Riga","Vilnius","Sofia","Bucharest","Belgrade","Zagreb","Sarajevo","Ljubljana","Skopje","Tirana","Podgorica","Thessaloniki","Barcelona","Valencia","Seville","Granada","Malaga","Lyon","Marseille","Toulouse","Nice","Nantes","Strasbourg","Bordeaux","Lille","Venice","Milan","Florence","Naples","Turin","Bologna","Perugia","Genoa","Pisa","Verona","Palermo","Catania","Bari","Padua","Cagliari","Krakow","Gdansk","Poznan","Wroclaw","Lodz","Katowice","Bialystok","Gdynia","Sopot","Bydgoszcz","Lublin","Szczecin","Gorzow","Zakopane","Olsztyn","Torun","Rzeszow","Kielce","Radom","Siedlce","Los","Angeles","Chicago","Houston","Phoenix","San","Antonio","San","Diego","Dallas","San","Jose","Austin","Jacksonville","Fort","Worth","Columbus","Charlotte","Liverpool","Manchester","Glasgow","Birmingham","Leeds","Sheffield","Newcastle","upon","Tyne","Bristol","Nottingham","Leicester","Coventry","Belfast","Reading","Cardiff","Southampton","Aberdeen","Plymouth","Stoke","Trent","Wolverhampton","Swansea","Sunderland","Portsmouth","Yorkshire","Hull","Blackpool","Bradford","Derby","Middlesbrough","Peterborough","Stockton","on","Tees","Brighton","Poole","Bournemouth","Huddersfield","Luton","Oxford","Norwich","Oldham","Cambridge","Exeter","Walsall","Colchester","Watford","Rotherham","Newport","Gateshead","Dundee","Gloucester","Solihull","High","Wycombe","Maidstone","Slough","Basildon","Chelmsford","Salford","Bedford","Stevenage","Woking","Grimsby","Birkenhead","Halifax","Warrington","Gillingham","Wigan","Worcester","Wakefield","Lincoln","Chester","Rochdale","Dagenham","Widnes","St","Albans","Mansfield","Sutton","Coldfield","Crawley","Wokingham","Barnsley","St","Helens","Harrogate","Redditch","Scunthorpe","Nuneaton","Chesterfield","Hemel","Hempstead","Bury","Guildford","Ashford","Telford","Newcastle","under","Lyme","Aylesbury","Halesowen","Shrewsbury","Lowestoft","Loughborough","Cheltenham","Kidderminster","Basingstoke","Rugby","Stourbridge","Southport","Kettering","Royal","Leamington","Spa","Beeston","Farnborough","Wrexham","Banbury","Weymouth","Wallsend","Dartford","Grays","Tamworth","Ashford","Esher","Folkestone","Tonbridge","Taunton","Runcorn","Macclesfield","Keighley","Bridgend","Barnstaple","Letchworth","Garden","City","Worthing","Gosport","Eastleigh","Staines","upon","Thames","Lisburn","Livingston","Bognor","Regis","Scarborough","Cannock","Margate","Chippenham","Rhondda","Maidenhead","Wellingborough","Washington","Camberley","Bootle","Lancaster","Llanelli","Chatham","Cheshunt","Bishop","Auckland","Nelson","Belper","Pontefract","Barry","Braintree","Crosby","Bury","St","Edmunds","Bexhill","Margate","Aldershot","Rowley","Regis","Hoddesdon","Sittingbourne","Rugby","Newquay","Falmouth","Stretford","Camberley","Beverley","Windsor","Rochester","Wickford","Diss","Farnham","Andover","Camberwell","Bermondsey","Lewisham","Wembley","Hayes","Harrow","Ilford","Enfield","Twickenham","Richmond","Brentwood","Edgware","Ealing","Greenwich","Bromley","Hounslow","Romford","Hillingdon","Uxbridge","Wandsworth","Sutton","Kingston","upon","Thames","Bexley","Havering","Barking"],e=["ia","ville","ton","land","field","burgh","ford","wood","port","bay","beach","peak","valley","ridge","hill","dale","island","cape","spring","grove","polis","side","view","shore","haven","place","gardens","plaza","square"],o=["New","Old","North","South","East","West","Upper","Lower","Little","Great","Saint","Fort","Mount","Lake","River","The Village of","The City of","The Town of","The Borough of","The County of","The State of","The Kingdom of","The Empire of","The Republic of","The Commonwealth of","The Union of","The Federation of","Rainy","Sunny","Windy","Frosty","Snowy"];function n(s){return s[Math.floor(Math.random()*s.length)]}let i=n(o),r=n(t),l=n(e),a="";return Math.random()>.5?a=i+" "+r+l:a=r+l,a}let Oe=Ve(JSON.parse(localStorage.getItem($t)||localStorage.getItem(nt)||"null")),Rt=Ve(JSON.parse(localStorage.getItem(et)||"null"));Am();function Sm(t,e,o,n){localStorage.removeItem(nt),Oe.set(null);let i={...Sf};i.gameSettings=n,i.economyAndLaws.max_tax_rate=Id[t],i.endGoal=e;let r=[];o=o.replace(/[^a-zA-Z0-9 ]/g,"").trim(),i.townInfo.name=o!=""?o:Cm(),i.difficulty=parseInt(t);let l=JSON.parse(localStorage.getItem(et)||"null");l.username=="dev"&&n.push("devMode"),n.includes("devMode")&&(i.townInfo.gold=1e8,i.townInfo.happiness=1e7,i.townInfo.health=1e6,i.townInfo.knowledge_points=1e5,i.modifiers.happiness=1e4,i.modifiers.health=1e4,i.resources.food=1e6,i.resources.wood=1e6,i.resources.stone=1e6,i.resources.metal=1e6);const a=12,s=Math.floor(Math.random()*a/2)+1,u=Math.floor(Math.random()*a/2)+1;for(let f=0;f<a;f++){r.push([]);for(let c=0;c<a;c++){const d=f==s&&c==u?!1:bi(f,c,a);r[f][c]={id:Math.random().toString(36).substring(2,9),active:!1,x:f,y:c,type:d?-9:-1,typeId:"",mineralSource:d?!1:s===f&&u===c,water:s===f&&u===c?!1:d}}}i.plots=r,localStorage.setItem(nt,JSON.stringify(i)),Oe.set(i),localStorage.reset=!1,l.games==null&&(l.games=[],l.selectedGame=0,localStorage.setItem(et,JSON.stringify(l))),l.games.push(JSON.stringify(i)),l.selectedGame=l.games.length-1,localStorage.setItem(et,JSON.stringify(l)),$f(i,ll.START_GAME,{difficulty:t,end_goal:e,settings:n.join(",")}),location.reload()}function bi(t,e,o){let n=.08;t>0&&e>0&&t<o-1&&e<o-1&&(n*=2),(e==Math.round(o/2)||e==Math.round(o/2)-1)&&(n*=3),t==0&&e==0&&(n=0);const i=Math.floor(o/2);return e===i?!1:Math.random()<n}function Am(){if(localStorage.getItem(et)===null){let t=Td;t.username="click_to_set_username",localStorage.setItem(et,JSON.stringify(t)),Rt.set(t)}}function Zn(t,e,o){let n=o.plots[t][e].type;o.plots[t][e].type=-1,o.plots[t][e].typeId="",o.plots[t][e].active=!1,n>-1&&(o.townInfo.population_count-=te[n].immediate_variable_changes.population,o.townInfo.population_max-=te[n].immediate_variable_changes.population,o.townInfo.employees-=te[n].requirements.employees,(o.plotCounts[n]===void 0||o.plotCounts[n]===null)&&(o.plotCounts[n]=0),o.plotCounts[n]--),o.lastChangeDay=o.environment.day,Oe.set(o),localStorage.setItem(nt,JSON.stringify(o))}function De(t,e){let o=[];for(let n=0;n<e.plots.length;n++)for(let i=0;i<e.plots[n].length;i++)e.plots[n][i].active==!1||e.plots[n][i]==null||e.plots[n][i].type===null||e.plots[n][i].type<0||(te[e.plots[n][i].type].id===t||te[e.plots[n][i].type].type===t)&&o.push(e.plots[n][i]);return o}function Gn(t,e,o){return o.liege_location!=null&&o.liege_location[0]===t&&o.liege_location[1]===e}function Tm(t,e){const o=t.plots.length,n=o>0?t.plots[0].length:0,i=e=="east"?5:0,r=e=="south"?5:0,l=Math.round(Math.pow(1.7,t.kingdom_expansions+5));if(t.townInfo.guardians<l)return`You need ${l-t.townInfo.guardians} more Guardians to expand the kingdom. See the City mgmt menu.`;for(let a=0;a<o;a++)for(let s=n;s<n+i;s++)t.plots[a].push({id:Math.random().toString(36).substring(2,9),active:!1,x:a,y:s,type:-1,typeId:"",mineralSource:!1,water:bi(a,s,o+r),disabled:!1});for(let a=o;a<o+r;a++){const s=[];for(let u=0;u<n+i;u++)s.push({id:Math.random().toString(36).substring(2,9),active:!1,x:a,y:u,type:-1,typeId:"",mineralSource:!1,water:bi(a,u,o+r)});t.plots.push(s)}t.kingdom_expansions++,Oe.set(t)}function Nr(t=null){localStorage.removeItem(nt),Oe.set(null),t&&(localStorage.setItem(nt,JSON.stringify(t)),Oe.set(t))}function Dl(t,e,o){o.liege_location=[t,e],zn.set(!1),document.querySelectorAll(".plot_container").forEach(i=>{i.style.cursor=""}),Oe.set(o)}function jl(t,e){Om(),Rt.set(e),localStorage.setItem(et,JSON.stringify(e)),Rt.update(o=>{if(o.selectedGame=t,o.games[t]==null||o.games[t]==null)return localStorage.setItem(nt,""),Oe.set(null),o;const n=JSON.parse(o.games[t]);return Oe.set(n),localStorage.setItem(nt,JSON.stringify(n)),localStorage.setItem(et,JSON.stringify(o)),o})}let Qe=Ve({visible:!1,x:0,y:0,isMineralSource:!1}),No=Ve({visible:!1});function Im(t){Rt.set(t),localStorage.setItem(et,JSON.stringify(t))}let vi=Ve({}),Eo=Ve(!1),Tt=Ve(!1),ai=Ve(!0),yi=Ve(!1),Qn=Ve(!1),wi=Ve(!1),Yn=Ve(!1),zn=Ve(!1),Tn=Ve(!1),It=Ve(""),Fl=localStorage.getItem("showCompletedAchievements")==="true"?Ve(!0):Ve(!1);localStorage.getItem("showOnlyAffordable")==="true"?Ve(!0):Ve(!1);let Mm=localStorage.getItem("pauseMenuTab")==="game"?Ve("game"):Ve("achievements"),So=Ve(750),Ft=Ve({visible:!1,plotName:"",location:"",missingResources:[],plotCost:0,x:0,y:0});function Om(){const t=JSON.parse(localStorage.getItem(nt)??"");if(!t)return;const e=JSON.parse(localStorage.getItem(et)??"");!e||e.selectedGame===void 0||(e.games[e.selectedGame]=JSON.stringify(t),localStorage.setItem(et,JSON.stringify(e)),Rt.set(e))}const Pt={unemployment_num:" people can't find jobs.",bored:"People are bored. Try making some new buildings.",vairety:"People don't like going to the same places over and over again. Try making some new buildings.",nobody_home:"Build some homes!",leave_town_num:" people left town because they were unhappy.",new_people_num:" new people moved to town.",people_want_to_move_in:"People want to move in. Build more homes.",high_tax_rate:"People are unhappy with the high tax rate.",very_high_tax_rate:"People are extremely unhappy with the high tax rate.",sickAndDying:"People are sick and dying.",sickAndLeaving:"People are sick and leaving town.",happiness_zero:"The town has fallen into chaos due to extreme unhappiness.",health_zero:"The town has fallen into chaos due to extreme sickness.",population_zero:"The town has been condemned due to lack of population.",win:{land:"You have filled the grid with buildings. You win!"},hospital_advantage:"Because you have a hospital, the town is staying healthier for longer!",notEnoughVariety:"People are sick of going to the same places over and over, add some variety!"},ct=[{id:"happy_town",title:"Happy & Healthy Town",description:"",requirements:"Happiness and Health at the max in one of your towns",icon:"😀",check:t=>t.townInfo.happiness>=300&&t.townInfo.health>=300,prize:15e3},{id:"10k",title:"💰 10,000",description:"",requirements:"10,000 gold in the bank in one of your towns",icon:"💸",check:t=>t.townInfo.gold>=1e4,prize:2500},{id:"50k",title:"💰 50,000",description:"",requirements:"50,000 gold in the bank in one of your towns",icon:"💸",check:t=>t.townInfo.gold>=5e4,prize:1e4},{id:"250k",title:"💰 250,000",description:"",requirements:"250,000 gold in the bank in one of your towns",icon:"💸",check:t=>t.townInfo.gold>=25e4,prize:5e4},{id:"1m",title:"💰 1,000,000",description:"",requirements:"1,000,000 gold in the bank in one of your towns",icon:"💸",check:t=>t.townInfo.gold>=1e6,prize:15e4},{id:"10m",title:"💰 10,000,000",description:"",requirements:"10,000,000 gold in the bank in one of your towns",icon:"💸",check:t=>t.townInfo.gold>=1e7,prize:5e5},{id:"stayin_frugal",title:"Stayin' Frugal!",description:"",requirements:"Gold under 50 with >=200 population in one of your towns",icon:"🚲",check:t=>t.townInfo.gold<=50&&t.townInfo.population_count>=200,prize:1e4},{id:"profits_to_the_moon",title:"Profits to the moon!",description:"Now you're making dough!",requirements:"Reach a monthly profit of $10,000",icon:"🌛",check:t=>t.economyAndLaws.weeklyProfit*4>=1e4,prize:15e3},{id:"happily_dying",title:"Happily Dying!",description:"Not something to be proud of...",requirements:"Happiness > 275, health < 25",icon:"🌛",check:t=>t.townInfo.happiness>275&&t.townInfo.health<25,prize:1e4},{id:"tax_man",title:"Tax man",description:"Set the tax rate to the absolute max that the town will tolerate.",requirements:"",icon:"🙃",check:t=>{let e=Math.floor(t.economyAndLaws.max_tax_rate*20)/20;return t.economyAndLaws.tax_rate===e},prize:750},{id:"good_job",title:"Beat 'Fill the grid' game mode",description:"while not in casual mode",requirements:"",icon:"👍",check:t=>t.endGameDetails.win===!0&&t.endGoal==="land"&&!t.gameSettings.includes("casual"),prize:1e4},{id:"great_job",title:"Beat 'Fill the grid' game mode (faster)",description:"in under 5 years, while not in casual mode",requirements:"",icon:"👏",check:t=>t.endGameDetails.win===!0&&t.environment.day<=1825&&t.endGoal==="land"&&!t.gameSettings.includes("casual"),prize:3e4},{id:"superb_job",title:"Beat 'Fill the grid' game mode",description:"while in casual mode",requirements:"",icon:"👌",check:t=>t.endGameDetails.win===!0&&t.endGoal==="land"&&t.gameSettings.includes("casual"),prize:15e3},{id:"pub_knowledge",title:"Street smartz",description:"You get 250 knowledge without building a school or library.",requirements:"Knowledge >= 250 without building a school or library",icon:"🤓",check:t=>De("small_school",t).length===0&&De("large_school",t).length===0&&De("library",t).length===0&&t.townInfo.knowledge_points>=250,prize:5e4}],Un=[{message:"Welcome the first settlers to our village by building a set of homes",isComplete:t=>t.townInfo.population_max>0,goldReward:600},{message:"Start producing food for the villagers",isComplete:t=>De("farm",t).length>=1,goldReward:400},{message:"Build a tree farm to start producing wood, which is essential for building",isComplete:t=>De("tree_farm",t).length>=1,goldReward:400},{message:"Build a quarry to start mining stone and metals",isComplete:t=>De("quarry",t).length>0,goldReward:800},{message:"Settlement: Grow population to 50",isComplete:t=>t.townInfo.population_count>=50,goldReward:1600},{message:"Build a Market or Bakery to sell excess food",isComplete:t=>De("market",t).length>0||De("bakery",t).length>0,goldReward:1600},{message:"Complete Year 1",isComplete:t=>t.environment.day>=365,goldReward:4e3},{message:"Village: Grow population to 100",isComplete:t=>t.townInfo.population_count>=100,goldReward:6400},{message:"Complete Year 2",isComplete:t=>t.environment.day>=365*2,goldReward:4e3},{message:"Hamlet: Grow population to 200",isComplete:t=>t.townInfo.population_count>=200,goldReward:16e3},{message:"Start generating power. Build a Water Wheel or Solar Farm",isComplete:t=>t.resources.power>0||De("water_wheel",t).length>0||De("solar_farm",t).length>0||De("adv_water_wheel",t).length>0,goldReward:8e3},{message:"Small Town: Grow population to 300",isComplete:t=>t.townInfo.population_count>=300,goldReward:2e4},{message:"Generate 300 Knowledge 🧠 from libraries, schools, pubs, and vineyards",isComplete:t=>t.townInfo.knowledge_points>=300,goldReward:4e3},{message:"Build a Mine to boost our metal supply (see the black plot on the map)",isComplete:t=>De("mine",t).length>0,goldReward:16e3},{message:"Complete Year 5",isComplete:t=>t.environment.day>=365*5,goldReward:1e4},{message:"Town: Grow our population to 500",isComplete:t=>t.townInfo.population_count>=500,goldReward:2e4},{message:"City: Grow our population to 1000",isComplete:t=>t.townInfo.population_count>=1e3,goldReward:4e4},{message:"Establish a City Hall to advance our town",isComplete:t=>De("city_hall",t).length>0,goldReward:4e4},{message:"Complete Year 10",isComplete:t=>t.environment.day>=365*10,goldReward:5e4}];let yo=function(t){return t.gameSettings.includes("casual")?3:1};const Er=[{id:"organic_farming",description:"Organic Farming. Make townspeople healthier and happier, while decreasing overall food production.",cost:150,weekly_effect:t=>(t.modifiers.happiness*=1.01,t.modifiers.health*=1.01,t.resources.food-=2*yo(t)*De("farm",t).length,t)},{id:"tax_free",description:"Tax-Free Month. For 1 month, the town loses all revenue from taxes, but happiness and health increase quite a lot. Automatically ends after 4 weeks.",cost:250,weekly_effect:t=>(localStorage.getItem("tax_free")===null?(localStorage.setItem("tax_free","0"),t.economyAndLaws.weeklyProfit=-1*t.economyAndLaws.weeklyProfit):localStorage.setItem("tax_free",(parseInt(localStorage.getItem("tax_free"))+1).toString()),parseInt(localStorage.getItem("tax_free"))>=4?(t.modifiers.happiness*=1,t.modifiers.health*=1,localStorage.removeItem("tax_free"),t.economyAndLaws.enacted=t.economyAndLaws.enacted.filter(e=>e!=="tax_free")):(t.modifiers.happiness*=1.02,t.modifiers.health*=1.01),t)},{id:"healthy_mining",description:"Healthy mining. Miners must mine with proper ventilation, but they move like molasses.",cost:250,weekly_effect:t=>(te.find(e=>e.id==="mine"),t.modifiers.health*=1.1,t.resources.stone-=5*yo(t)*De("quarry",t).length,t.resources.stone-=7*yo(t)*De("mine",t).length,t.resources.metal-=15*yo(t)*De("mine",t).length,t)},{id:"complicated_tax_forms",description:"Complicated Tax Forms. You sneak in a clause to charge 5% more in taxes. Now, if you adjust your tax rate 5% higher, they won't be upset. This can be enacted multiple times to stack.",cost:500,weekly_effect:t=>(t.economyAndLaws.max_tax_rate+=.05,t.economyAndLaws.enacted=t.economyAndLaws.enacted.filter(e=>e!=="complicated_tax_forms"),t)},{id:"legalize_it",description:"Legalize it. You legalize a substance that makes people happy, but it also gives them 'the munchies'. Food consumption and happiness go up.",cost:350,weekly_effect:t=>(t.resources.food-=Math.round(.2*yo(t)*t.townInfo.population_count),t.modifiers.happiness*=1.1,t)},{id:"park_upgrade",description:"Park upgrade. You hold a community forum and add the top 5 things that the people want in their parks. This increases happiness for each park.",cost:350,weekly_effect:t=>(t.townInfo.happiness+=2*De("park",t).length,t)},{id:"career_politician",description:"Career Politician. You hire a career politician to help you with your town. They cost the town $100 per week, but they earn bureaucracy points faster.",cost:200,weekly_effect:t=>(t.townInfo.gold-=100,t.resources.bureaucracy+=25,t)},{id:"the_big_wood_deal",description:"The Big Wood Deal. This law allows you to sell all of the wood in your town for $5/wood at once. This won't make the town happy, but may be necessary in a pinch. Can be enacted multiple times to sell to other buyers.",cost:500,weekly_effect:t=>(t.townInfo.gold+=5*t.resources.wood,t.resources.wood=0,t.resource_rate.wood=0,t.townInfo.happiness*=.95,t.economyAndLaws.enacted=t.economyAndLaws.enacted.filter(e=>e!=="the_big_wood_deal"),t)},{id:"picky_eating_liege",description:"Picky Eater Liege. There is some food that the town makes that you just really hate. By passing this law, you insist that they sell off that gross food for $1/food every week. You won't make as much food, but you won't have to eat it either.",cost:200,weekly_effect:t=>{const e=De("farm",t).length*2,o=Math.floor(Math.random()*(.15*e-.05*e)+.05*e);return t.resources.food-=o,t.townInfo.gold+=o,t.townInfo.happiness=.95*t.townInfo.happiness,t}},{id:"stone_statue",description:"Stone Statue. You insist that we use ALL of our stone to build a massive statue. We lose all of our stone, but for some reason, the town has perfect health for a while, I guess.",cost:1e3,weekly_effect:t=>(t.resources.stone=0,t.modifiers.health=5,t)},{id:"out_of_town",description:"TODO: Out of town. Everyone needs a vacation, right? When this is enacted, EVERYONE must leave the town for 10 days. During this time, no resources are produced, no taxes are collected, and you must take a break from the game.",cost:1e3,weekly_effect:t=>t}],Bl=30;function Pm(t){return t=Lm(t),t=t,t}function Nm(t){const e=[()=>t.townInfo.happiness<100?"I heard that the town is unhappy. We miss our churches and parks...":"",()=>t.townInfo.health<100?"My kids keep getting sick, probably not enough farms around here!":"",()=>t.townInfo.happiness<50?"I'm thinking of moving out if things don't improve soon!":"",()=>t.townInfo.employees<t.townInfo.population_count?"I am unemployed and I hate it here":"",()=>t.townInfo.knowledge_points<100?"I wish we had more schools!":"",()=>t.economyAndLaws.tax_rate>t.economyAndLaws.max_tax_rate?"I wish the taxes were lower, I could use a break!":"",()=>t.townInfo.productivity>100?"I think we should take a day or two to just be chill, we've been working hard!":"",()=>t.economyAndLaws.tax_rate<t.economyAndLaws.max_tax_rate?"We would probably be ok chipping in more gold for village improvements.":""],o=Math.floor(Math.random()*e.length);return e[o]()}function Em(t,e,o){return t.resource_rate.food=ut(o.food-e.food,0),t.resource_rate.wood=ut(o.wood-e.wood,0),t.resource_rate.stone=ut(o.stone-e.stone,0),t.resource_rate.metal=ut(o.metal-e.metal,0),t.resource_rate.bureaucracy=ut(o.bureaucracy-e.bureaucracy,0),t}function Rm(t){return t.hasBank,t}function $m(t){let e=t.economyAndLaws.knowledge_gold_market_rates[t.economyAndLaws.knowledge_gold_market_rates.length-1]||1;const o=-100,n=8,i=3;let r=Math.random(),l=Math.random()*i;if(r<.4){let a=Math.random()*n;Math.random()<.5?e+=a:e-=a}else Math.random()>.5?e+=l:e-=l;return e<o&&(e+=Math.random()*l/5),e=Math.round(e),t.economyAndLaws.knowledge_gold_market_rates=[...t.economyAndLaws.knowledge_gold_market_rates,e],t}function Lm(t){if(t.townInfo.population_count<t.townInfo.population_max&&t.townInfo.happiness>50){let e=t.townInfo.population_max-t.townInfo.population_count,o=Math.round(t.townInfo.happiness/100*e);t.townInfo.population_count+=o,t.townInfo.population_count>t.townInfo.population_max&&(t.townInfo.population_count=t.townInfo.population_max),t.townInfo.employees+=o,t.townInfo.employees>t.townInfo.population_count&&(t.townInfo.employees=t.townInfo.population_count)}if(t.townInfo.happiness<50&&t.townInfo.population_count>0){let e=Math.round((150-t.townInfo.happiness)/5);t.townInfo.population_count-=e,t.townInfo.employees>0&&(t.townInfo.employees-=e)}else t.townInfo.population_count==t.townInfo.population_max;return t}function Rr(t){return t.lab.active_experiment==null||t.lab.active_experiment.duration>0&&(t.lab.active_experiment.duration-=1),t}function $r(t){t.townInfo.happiness<0&&(t.townInfo.happiness=0),t.townInfo.health<0&&(t.townInfo.health=0),t.townInfo.community<0&&(t.townInfo.community=0),t.townInfo.gold<0&&(t.townInfo.gold=0),t.townInfo.employees<0&&(t.townInfo.employees=0),t.townInfo.knowledge_points<0&&(t.townInfo.knowledge_points=0),t.townInfo.population_count<0&&(t.townInfo.population_count=0),t.economyAndLaws.weeklyProfit=ut(t.economyAndLaws.weeklyProfit,0),t.townInfo.employees>t.townInfo.population_count&&(t.townInfo.employees=t.townInfo.population_count),t.townInfo.gold=ut(t.townInfo.gold,0),t.townInfo.population_count=ut(t.townInfo.population_count,0),t.townInfo.employees=ut(t.townInfo.employees,0),t.townInfo.population_max=ut(t.townInfo.population_max,0),t.townInfo.happiness=ut(t.townInfo.happiness,2),t.townInfo.health=ut(t.townInfo.health,2),t.townInfo.knowledge_points=ut(t.townInfo.knowledge_points,0),t.townInfo.happiness>t.maximums.happiness&&(t.townInfo.happiness=t.maximums.happiness),t.townInfo.health>t.maximums.health&&(t.townInfo.health=t.maximums.health),t.townInfo.community>300&&(t.townInfo.community=300),t.modifiers.happiness<.5&&(t.modifiers.happiness=.5),t.modifiers.health<.5&&(t.modifiers.health=.5),t.modifiers.community<.5&&(t.modifiers.community=.5),t.modifiers.happiness>2&&(t.modifiers.happiness=2),t.modifiers.health>2&&(t.modifiers.health=2),t.modifiers.community>2&&(t.modifiers.community=2);for(let e=0;e<t.plots.length;e++)for(let o=0;o<t.plots[e].length;o++)t.plots[e][o].active==!1&&t.plots[e][o].disabled==!0&&(t.plots[e][o].disabled=!1);return t}function Lr(t){if(t.townInfo.happiness>150){let n=t.townInfo.happiness-150;t.townInfo.happiness-=n*.09,t.townInfo.happiness<150&&(t.townInfo.happiness=150)}if(t.townInfo.health>150){let n=t.townInfo.health-150;t.townInfo.health-=n*.09,t.townInfo.health<150&&(t.townInfo.health=150)}if(t.townInfo.community>150){let n=t.townInfo.community-150;t.townInfo.community-=n*.09,t.townInfo.community<150&&(t.townInfo.community=150)}if(t.townInfo.happiness<150){let n=150-t.townInfo.happiness;t.townInfo.happiness+=n*(.09*.5)}if(t.townInfo.health<150){let n=150-t.townInfo.health;t.townInfo.health+=n*(.09*.5)}if(t.townInfo.community<150){let n=150-t.townInfo.community;t.townInfo.community+=n*(.09*.5)}return t}function at(t,e,o){let n=e.townLog||[];return n.filter(i=>i.message==t).length>0||n.unshift({message:t,day:e.environment.day,vibe:o}),e}function ut(t,e){e===void 0&&(e=0);let o=Math.pow(10,e);return t=parseFloat((t*o).toFixed(11)),+(Math.round(t)/o).toFixed(e)}function Dm(t,e,o){let n,i,r,l,a,s,u;se(t,So,g=>o(8,n=g)),se(t,Eo,g=>o(9,i=g)),se(t,wi,g=>o(10,r=g)),se(t,Tt,g=>o(11,l=g)),se(t,Rt,g=>o(12,a=g)),se(t,Tn,g=>o(13,s=g)),se(t,Ft,g=>o(14,u=g)),se(t,Oe,g=>o(15,g));function f(g){g=oe(g),g=ee(g),g=h(g),g=$m(g),g=we(g),g=D(g);const x={food:g.resources.food,wood:g.resources.wood,stone:g.resources.stone,metal:g.resources.metal,bureaucracy:g.resources.bureaucracy,power:g.resources.power};g=M(g),g=ne(g),g=N(g),g=Ge(g),g=Lr(g),g=q(g);const V={food:g.resources.food,wood:g.resources.wood,stone:g.resources.stone,metal:g.resources.metal,bureaucracy:g.resources.bureaucracy,power:g.resources.power};return g.environment.day%14===0&&(g=ie(g)),g=Em(g,x,V),g}function c(g){return g=Rm(g),g=S(g),g=qe(g),g=X(g),g=P(g),g=p(g),g}function d(g){return g=k(g),g=ae(g),g=$r(g),g=Rr(g),g=E(g),g=R(g),g=_(g),g=w(g),g.overtime==!1&&(g=Z(g),g=g),g=J(g),g=B(g),g=v(g),g}function m(){Oe.update(g=>{if(g==null||(g.tick++,g.tick%Bl!==0))return g;if(u.visible||l||s||!g||g.endGameDetails.msg!==""&&g.overtime==!1||g.townInfo.population_count<=0||localStorage.getItem($t)!=null)return console.info("The game is over, or paused. Not running the game loop."),g;try{g.environment.day+=1,g.environment.day%7===0&&(g=f(g)),g.environment.day%30===0&&(g=c(g)),g.environment.day%90===0&&(g=Pm(g)),window.location.search.includes("debug=true")&&console.log(g),g=d(g);const x=JSON.parse(localStorage.getItem(et)||"{}");return x.games==null&&(x.games=[],x.selectedGame=0,x.games.push(JSON.stringify(g)),localStorage.setItem(et,JSON.stringify(x))),x.selectedGame>x.games.length&&(x.selectedGame=0),x.games[x.selectedGame]=JSON.stringify(g),localStorage.setItem(et,JSON.stringify(x)),g}catch(x){return window.location.hostname==="localhost"&&alert("Error in game loop: "+x),console.error("Error in game loop:",x),g}})}Oe.subscribe(g=>{if(g){localStorage.setItem(nt,JSON.stringify(g));const x=JSON.parse(localStorage.getItem(et)||"{}");x.games==null&&(x.games=[],x.selectedGame=0,x.games.push(JSON.stringify(g)),localStorage.setItem(et,JSON.stringify(x))),x.selectedGame>x.games.length&&(x.selectedGame=0),x.games[x.selectedGame]=JSON.stringify(g),localStorage.setItem(et,JSON.stringify(x))}});function _(g){let x=g.townInfo.population_count-g.townInfo.employees,V=`${x} people can't find jobs!`;return g.townLog=g.townLog.filter(le=>!le.message.includes("people can't find jobs")),x>0&&(g=at(V,g,Ze.BAD)),g}function h(g){let x=!1,V=!1,le=!1,me=!1;for(let Ce=0;Ce<g.plots.length;Ce++)for(let Pe=0;Pe<g.plots[Ce].length;Pe++)if(g.plots[Ce][Pe].active==!0&&g.plots[Ce][Pe].type>-1){let Ee=te[g.plots[Ce][Pe].type].id;Ee=="bank"&&(x=!0),Ee=="city_hall"&&(le=!0),(Ee=="small_hospital"||Ee=="large_hospital")&&(V=!0),Ee=="lab"&&(me=!0)}return g.hasBank=x,g.hasHospital=V,g.hasCityHall=le,g.hasLab=me,g}function p(g){let x=0,V=0;for(let le=0;le<g.plots.length;le++)for(let me=0;me<g.plots[le].length;me++)if(g.plots[le][me].active==!0&&g.plots[le][me].type>-1){let Ce=te[g.plots[le][me].type].type;V++,(Ce=="recreation"||Ce=="shop")&&x++}if(g.townInfo.recreation=x,V>40){const me=x/V,Ce="The city is growing and citizens are demanding more recreation, look for plots with 🛝 icons.",Pe="The city is growing and citizens are happy with the amount of recreation available.";me<.2?(g.modifiers.happiness*.95,g.townLog=g.townLog.filter(Ee=>Ee.message!==Pe),g=at(Ce,g,Ze.BAD)):(g.modifiers.happiness*1.03,g.townLog=g.townLog.filter(Ee=>Ee.message!==Ce),g=at(Pe,g,Ze.GOOD))}return g}function w(g){let x=0;for(let V=0;V<g.plots.length;V++)for(let le=0;le<g.plots[V].length;le++)if(g.plots[V][le].active==!0&&g.plots[V][le].type>-1){let Ce=te[g.plots[V][le].type].requirements.employees;x+=Ce}return x!=g.townInfo.employees&&(x>g.townInfo.population_max,g.townInfo.employees=x),g}function v(g){for(let x=0;x<g.plots.length;x++)for(let V=0;V<g.plots[x].length;V++)g.plots[x][V].active==!0&&(g.plots[x][V].type=ye(g.plots[x][V].typeId));return g}function S(g){const x=g.townInfo.productivity;let V=1;if(x>50&&x<100)V=1.05;else{if(x==100)return g;x<50?V=1.3:x>100&&x<125?V=.95:x>125&&x<150?V=.9:x>150&&x<175?V=.85:x>175&&x<200&&(V=.75)}const le=g.townInfo.happiness;return g.townInfo.happiness*=V,V>1?g=at(`Happiness has gone up by ${Math.round(g.townInfo.happiness/le*100)}% due to productivity.`,g,Ze.GOOD):g=at(`Happiness has gone down by ${100-Math.round(g.townInfo.happiness/le*100)}% due to productivity.`,g,Ze.BAD),g}function D(g){return g.endGameDetails!=null||(g.townInfo.happiness<70&&g.last_warning_happiness+365<g.environment.day&&(It.set("Your citizens are very unhappy. You should do something about it."),g.last_warning_happiness=g.environment.day),g.townInfo.health<70&&g.last_warning_health+365<g.environment.day&&(It.set("Your citizens are very unhealthy. You should do something about it."),g.last_warning_health=g.environment.day)),g}const j=["Abigail","Elijah","Mabel","Silas","Beatrice","Clarence","Dorothy","Edgar","Florence","George","Harriet","Isaac","Josephine","Levi","Matilda","Nathaniel","Olive","Percy","Quincy","Rose","Samuel","Theodore","Ursula","Vincent","Winifred","Xavier","Yvette","Zachary","Amos","Betsy","Cecil","Delia","Emmett","Fanny","Gideon","Hazel","Irving","Jeannette","Karl","Lucinda","Mortimer","Nettie","Otis","Prudence","Rufus","Sophronia","Titus","Ulysses","Vera","Winston","Xenia","Yolanda","Zeke","Ada","Bernard","Cornelia","Duncan","Esther","Fletcher","Genevieve"],F=["Farmer","Blacksmith","Biscuit Sculptor","Baker","Carpenter","Chicken Whisperer","Fisher","Herbalist","Miner","Mason","Mustache Twirler","Brewer","Butcher","Candlemaker","Cloud Watcher","Dressmaker","Gardener","Hunter","Innkeeper","Jeweler","Locksmith","Miller","Painter","Potter","Quilter","Rancher","Saddler","Tanner","Upholsterer","Vintner","Watchmaker","Wheelwright","Wooly Sock Knitter","Yarn Spinner","Zodiac Interpreter","Archivist","Bookbinder","Cobbler","Dyer","Engraver","Fletcher","Glassblower","Haberdasher","Illuminator","Joiner","Knitter","Lace Maker","Mapmaker","Navigator","Orchardist","Potion Tester","Quarryman","Roofer","Soapmaker","Tobacconist","Undertaker","Victualler","Wainwright","Xylographer","Yeoman","Pumpkin Carver","Mud Pie Maker","Folk Tale Teller","Leaf Collector","Sunset Chaser","Dream Interpreter","Star Gazer"];function R(g){if(g.gameSettings.includes("bagOfHolding"))return g.resource_capacity=972024,g;let x=De("stockpile",g).length,V=De("adv_stockpile",g).length,le=1e3+x*2e3+V*12e3;return g.resource_capacity=le,Object.keys(g.resources).forEach(me=>{g.resources[me]>le&&(g.resources[me]=le)}),g}function P(g){for(let x=0;x<g.plots.length;x++)for(let V=0;V<g.plots[x].length;V++)if(Gn(x,V,g)&&g.plots[x][V].active==!0&&te[g.plots[x][V].type].type=="residential"&&Math.random()<.99){let le=`👑🏠 ${j[Math.floor(Math.random()*j.length)]} the ${F[Math.floor(Math.random()*F.length)]}: `,me=Nm(g);le+=me,me!=""&&(g=at(le,g,Ze.NORMAL))}return g}function E(g){let x=0;for(let V=0;V<g.plots.length;V++)for(let le=0;le<g.plots[V].length;le++)if(g.plots[V][le].active==!0&&g.plots[V][le].type>-1){let me=te[g.plots[V][le].type].type;(me=="recreation"||me=="shop")&&x++}return g.townInfo.recreation=x,g}function q(g){const x=g.townInfo.population_count;return g.resources.food<x?(g.modifiers.happiness*=.95,g.modifiers.health*=.95,g=at("There isn't enough food for everyone!",g,Ze.BAD),g.resources.food=0):(g.townLog=g.townLog.filter(le=>!le.message.includes("There isn't enough food for everyone!")),g.resources.food-=x),g.resources.food=Math.round(g.resources.food),g}function M(g){const x=g.townInfo.productivity;let V=1;x<50?V=.5:x>50&&x<100?V=.75:x==100?V=1:x>100&&x<125?V=1.25:x>125&&x<150?V=1.75:x>150&&x<175?V=3:x>175&&x<200&&(V=5);const le=g.gameSettings.includes("casual")?1.5:1;V*=le,V=dm(V,2),V*=g.townInfo.community>150?1.2:g.townInfo.community<100?.85:1;let me=De("lumber_mill",g).length*1.5;me===0&&(me=1);for(let Ce=0;Ce<g.plots.length;Ce++)for(let Pe=0;Pe<g.plots[Ce].length;Pe++)if(g.plots[Ce][Pe].active==!0&&g.plots[Ce][Pe].type>-1&&g.plots[Ce][Pe].disabled==!1){let Ee=An(Ce,Pe,g),We=Gn(Ce,Pe,g)?2:1,Re=te[g.plots[Ce][Pe].type];Re.generated_resources!=null&&(g.resources.food+=Math.round(Re.generated_resources.food*V)*(Ee?2:1)*We,g.resources.wood+=Math.round(Re.generated_resources.wood*V*me)*We,g.resources.stone+=Math.round(Re.generated_resources.stone*V)*We,g.resources.metal+=Math.round(Re.generated_resources.metal*V)*We,g.resources.bureaucracy+=Math.round(Re.generated_resources.bureaucracy*V)*We)}return g.resources.food=Math.round(g.resources.food),g.resources.wood=Math.round(g.resources.wood),g.resources.stone=Math.round(g.resources.stone),g.resources.metal=Math.round(g.resources.metal),g.resources.bureaucracy=Math.round(g.resources.bureaucracy),g}var C;(function(g){g.food="food",g.wood="wood",g.stone="stone",g.metal="metal",g.bureaucracy="bureaucracy"})(C||(C={}));function k(g){for(let x=0;x<g.plots.length;x++)for(let V=0;V<g.plots[x].length;V++)if(g.plots[x][V].active&&g.plots[x][V].type>-1&&!g.plots[x][V].disabled){let le=te[g.plots[x][V].type];if(le.type=="residential")continue;let me=!1,Ce=[];const Pe=g.plots[x][V].snoozedUntil&&g.environment.day<=(g.plots[x][V].snoozedUntil||0);Object.keys(le.active_costs).forEach((Ee,We)=>{let Re=Object.values(le.active_costs)[We];Re=Re/7,Ee!="power"&&(Ee=="gold"?g.townInfo.gold<Re&&(me=!0,Ce.push(`💰${Re-g.townInfo.gold} gold`)):g.resources[Ee]<Re?(me=!0,Ce.push(`${Re-g.resources[Ee]} ${Ee}`)):Pe||(g.resources[Ee]-=Re))}),me&&!Pe&&(Ft.set({visible:!0,plotName:le.title,location:`at (${V}, ${x})`,missingResources:Ce,plotCost:le.requirements.gold,x,y:V}),g.plots[x][V].disabled=!0),g.plots[x][V].disabled=!Pe&&me}else g.plots[x][V].active||(g.plots[x][V].disabled=!1);return g}function N(g){let x=0;for(let V=0;V<g.plots.length;V++)for(let le=0;le<g.plots[V].length;le++)if(g.plots[V][le].active==!0&&g.plots[V][le].type>-1){let me=te[g.plots[V][le].type];me.active_costs.power!=0&&(x-=me.active_costs.power),me.generated_resources.power!=0&&(x+=me.generated_resources.power)}return g.resources.power=x,g.resources.power<0?(g.modifiers.happiness*.98,g.townInfo.happiness-=5,g=at("🔋 POWER SHORTAGE. HAPPINESS DROPPING THROUGH BLACKOUTS.",g,Ze.BAD)):g.townLog=g.townLog.filter(V=>!V.message.includes("🔋 POWER SHORTAGE. HAPPINESS DROPPING THROUGH BLACKOUTS.")),g}function B(g){if(g.gameSettings.includes("devMode")||localStorage.getItem($t)!=null)return g;let x=a;for(let V=0;V<ct.length;V++)x.achievements.find(le=>le[0]==ct[V].id)==null&&ct[V].check(g)&&(x.achievements.push([ct[V].id,g.environment.day,g.townInfo.name]),Ae(Tt,l=!0,l),Ae(wi,r=!0,r));return Rt.update(()=>x),g}let L=!1;function J(g){if(L||g.currentTutorialStep>=Un.length)return g;for(let x=g.currentTutorialStep;x<g.currentTutorialStep+1;x++)if(Un[x].isComplete(g)){Ae(Eo,i=!0,i),L=!0,g.townInfo.gold+=Un[x].goldReward,setTimeout(()=>{Ae(Eo,i=!1,i),g.currentTutorialStep++,L=!1},2e3);break}return g}function Z(g){return g.gameSettings.includes("tomPetty")&&(g.townInfo.happiness<=3||g.townInfo.health<=3)?(g.townInfo.happiness=300,g.modifiers.happiness=1,g.townInfo.health=300,g.modifiers.health=1,g.townInfo.gold=ut(g.townInfo.gold*.5,0),alert("Since you are playing in Tom Petty mode, you have been given another chance. All it took was 50% of your gold. Good luck!"),g):(g.townInfo.happiness<=3&&(g.townInfo.happiness=0,g.endGameDetails={msg:Pt.happiness_zero,win:!1,still_playing:!1}),g.townInfo.health<=3&&(g.townInfo.health=3,g.endGameDetails={msg:Pt.health_zero,win:!1,still_playing:!1}),g.townInfo.population_count<=0&&g.townInfo.population_max>0&&(g.townInfo.population_count=0,g.endGameDetails={msg:Pt.population_zero,win:!1,still_playing:!1}),g)}function X(g){let x=g.townInfo.population_count-g.townInfo.employees;if(g.gameSettings.includes("casual")&&Math.random()<.75)return g;if(x>0){let V=x*.2;V>10&&(V=10),g.townInfo.happiness-=V,g=at(x+Pt.unemployment_num,g,Ze.BAD)}else g.townLog=g.townLog.filter(V=>!V.message.includes(Pt.unemployment_num));return g}function ne(g){for(let x=0;x<g.economyAndLaws.enacted.length;x++){let V=Er.find(le=>le.id==g.economyAndLaws.enacted[x]);V!=null&&V.weekly_effect!=null&&(g=V.weekly_effect(g))}return g}function ee(g){let x=g.townInfo.health,V=0;return x>50||x<Math.random()*50&&(x<25?(g=at(Pt.sickAndDying,g,Ze.BAD),g.townInfo.happiness-=10,V=Math.round(g.townInfo.population_count*.1)):(g=at(Pt.sickAndLeaving,g,Ze.BAD),g.townInfo.happiness-=5,V=Math.round(g.townInfo.population_count*.05)),g.townInfo.population_count-=V,g.townInfo.employees-=V),g}function oe(g){const x=Math.random();if(g.economyAndLaws.tax_rate>g.economyAndLaws.max_tax_rate&&g.townInfo.population_count>0){let V=1;g.hasBank&&(V=2);const le=g.difficulty==0?.7:g.difficulty==1?.4:.2;x<le&&g.economyAndLaws.tax_rate>g.economyAndLaws.max_tax_rate*2*V?(g.modifiers.happiness-=.02,g=at(Pt.very_high_tax_rate+"  ("+g.economyAndLaws.tax_rate+"%)",g,Ze.BAD)):(g.modifiers.happiness-=.01,g=at(Pt.high_tax_rate+"  ("+g.economyAndLaws.tax_rate*100+"%)",g,Ze.BAD))}return g}function we(g){if(g.modifiers.happiness>1){let V=g.modifiers.happiness-1;g.modifiers.happiness-=V*.3,g.modifiers.happiness<1.02&&(g.modifiers.happiness=1)}if(g.modifiers.community>1){let V=g.modifiers.community-1;g.modifiers.community-=V*.3,g.modifiers.community<1.02&&(g.modifiers.community=1)}if(g.modifiers.health>1)if(De("healing_house",g).length>0){g=at(Pt.hospital_advantage,g,Ze.GOOD);let V=g.modifiers.health-1;g.modifiers.health-=V*De("healing_house",g).length?.03:.06,g.modifiers.health<1.02&&(g.modifiers.health=1)}else{let V=g.modifiers.health-1;g.modifiers.health-=V*.3,g.modifiers.health<1.02&&(g.modifiers.health=1)}else De("healing_house",g).length>0&&(g.modifiers.health+=.8,g.townInfo.health+=Math.floor(Math.random()*10)+5);return g}function ae(g){g.economyAndLaws.weeklyProfit=0;for(let x=0;x<g.plots.length;x++)for(let V=0;V<g.plots[x].length;V++)if(g.plots[x][V].active==!0&&g.plots[x][V].type>-1){const le=te[g.plots[x][V].type];let me=Ue(le.revenue_per_week,g,le.type,x,V)*(g.townInfo.productivity/100)/7,Ce=An(x,V,g);const Pe=g.gameSettings.includes("casual")&&me>0?3:1;me*=Pe,me*=Ce?2:1,g.townInfo.gold+=me,g.economyAndLaws.weeklyProfit+=me*7}return g}function ie(g){for(let x=0;x<g.plots.length;x++)for(let V=0;V<g.plots[x].length;V++)if(g.plots[x][V].active==!0&&g.plots[x][V].type>-1){const le=te[g.plots[x][V].type];g.townInfo.happiness*=le.weekly_effect_modifiers.happiness,g.townInfo.health*=le.weekly_effect_modifiers.health,g.townInfo.community*=le.weekly_effect_modifiers.community}return g.townInfo.happiness*=g.modifiers.happiness,g.townInfo.health*=g.modifiers.health,g.townInfo.community*=g.modifiers.community,g}function qe(g){return g.gameSettings.includes("casual")&&Math.random()<.75||De("mine",g).length>0&&(g.townInfo.health-=7,De("healing_house",g).length==0&&(g=at("The mine is actively hurting the health of the town. A Healing House can counteract this.",g,Ze.BAD))),g}function Ge(g){let x=0;for(let V=0;V<g.plots.length;V++)for(let le=0;le<g.plots[V].length;le++)if(g.plots[V][le].active==!0&&g.plots[V][le].type>-1){let me=te[g.plots[V][le].type],Ce=Gn(V,le,g)?.75:1;me.knowledge_points_per_month!=null&&(g.townInfo.knowledge_points+=Math.round(me.knowledge_points_per_month*Ce/4),x+=me.knowledge_points_per_month*Ce/4)}return g.resource_rate.knowledge=ut(x,0),g}function Ue(g,x,V,le,me){let Ce=x.townInfo.happiness/100;Ce>2?Ce=2:Ce<.75&&(Ce=.75),x.townInfo.community>150?Ce*=1.1:x.townInfo.community<100&&(Ce*=.8);let Pe=De("village_inn",x).length;V=="shop"&&Pe>0&&(Ce*=1.35*Pe),Gn(le,me,x)&&(Ce*=1.5);let We=te[x.plots[le][me].type].active_costs.gold,Re=Math.round(g*x.economyAndLaws.tax_rate*(x.townInfo.population_count/x.townInfo.population_max)*Ce*(x.economyAndLaws.enacted.includes("tax_free")?-1:1)-We);return ut(Re,0)}function ot(g){if(!g)return;localStorage.setItem(nt,JSON.stringify(g));const x=JSON.parse(localStorage.getItem(et)||"{}");x.games==null&&(x.games=[],x.selectedGame=0,x.games.push(JSON.stringify(g)),localStorage.setItem(et,JSON.stringify(x))),x.selectedGame>x.games.length&&(x.selectedGame=0),x.games[x.selectedGame]=JSON.stringify(g),localStorage.setItem(et,JSON.stringify(x))}return Ho(async()=>{for(;;)localStorage.reset=="true"&&(Nr(),localStorage.setItem("reset","false")),m(),await new Promise(g=>setTimeout(g,n/Bl))}),[m,Rr,$r,we,Lr,ot]}class jm extends he{constructor(e){super(),pe(this,e,Dm,null,de,{mainGameThreadLoop:0,_checkExperiment:1,_fixVariables:2,_bringModifiersBackToNormal:3,_bringStatsBackToNormal:4,syncGameState:5},null,[-1,-1])}get mainGameThreadLoop(){return this.$$.ctx[0]}get _checkExperiment(){return Rr}get _fixVariables(){return $r}get _bringModifiersBackToNormal(){return this.$$.ctx[3]}get _bringStatsBackToNormal(){return Lr}get syncGameState(){return this.$$.ctx[5]}}function Fm(t){return t[t.length-1]}function fn(t){return Object.keys(t).reduce((e,o)=>t[o]===void 0?e:e+`${o}:${t[o]};`,"")}function ar(t){return t?!0:void 0}fn({position:"absolute",opacity:0,"pointer-events":"none",margin:0,transform:"translateX(-100%)"});function Lf(t){if(t!==null)return t}function ql(t){function e(o){return o(t),()=>{}}return{subscribe:e}}function ur(t){if(!Do)return null;const e=document.querySelector(`[data-melt-id="${t}"]`);return bt(e)?e:null}const Ao=t=>new Proxy(t,{get(e,o,n){return Reflect.get(e,o,n)},ownKeys(e){return Reflect.ownKeys(e).filter(o=>o!=="action")}}),xl=t=>typeof t=="function";ft("empty");function ft(t,e){const{stores:o,action:n,returned:i}=e??{},r=(()=>{if(o&&i)return en(o,a=>{const s=i(a);if(xl(s)){const u=(...f)=>Ao({...s(...f),[`data-melt-${t}`]:"",action:n??Xe});return u.action=n??Xe,u}return Ao({...s,[`data-melt-${t}`]:"",action:n??Xe})});{const a=i,s=a==null?void 0:a();if(xl(s)){const u=(...f)=>Ao({...s(...f),[`data-melt-${t}`]:"",action:n??Xe});return u.action=n??Xe,ql(u)}return ql(Ao({...s,[`data-melt-${t}`]:"",action:n??Xe}))}})(),l=n??(()=>{});return l.subscribe=r.subscribe,l}function Gl(t,e){const{stores:o,returned:n,action:i}=e,{subscribe:r}=en(o,a=>n(a).map(s=>Ao({...s,[`data-melt-${t}`]:"",action:i??Xe}))),l=i??(()=>{});return l.subscribe=r,l}function Vi(t){const e=r=>r?`${t}-${r}`:t,o=r=>`data-melt-${t}${r?`-${r}`:""}`,n=r=>`[data-melt-${t}${r?`-${r}`:""}]`;return{name:e,attribute:o,selector:n,getEl:r=>document.querySelector(n(r))}}const Do=typeof document<"u",Df=t=>typeof t=="function";function Bm(t){return t instanceof Document}function Wi(t){return t instanceof Element}function bt(t){return t instanceof HTMLElement}function Hl(t){return t.pointerType==="touch"}function qm(t){return t!==null&&typeof t=="object"}function xm(t){return qm(t)&&"subscribe"in t}function Bt(...t){return(...e)=>{for(const o of t)typeof o=="function"&&o(...e)}}function Xe(){}function dt(t,e,o,n){const i=Array.isArray(e)?e:[e];return i.forEach(r=>t.addEventListener(r,o,n)),()=>{i.forEach(r=>t.removeEventListener(r,o,n))}}function ht(t,e,o,n){const i=Array.isArray(e)?e:[e];if(typeof o=="function"){const r=Hm(l=>o(l));return i.forEach(l=>t.addEventListener(l,r,n)),()=>{i.forEach(l=>t.removeEventListener(l,r,n))}}return()=>void 0}function Gm(t){const e=t.currentTarget;if(!bt(e))return null;const o=new CustomEvent(`m-${t.type}`,{detail:{originalEvent:t},cancelable:!0});return e.dispatchEvent(o),o}function Hm(t){return e=>{const o=Gm(e);if(!(o!=null&&o.defaultPrevented))return t(e)}}function Yi(t,...e){const o={};for(const n of Object.keys(t))e.includes(n)||(o[n]=t[n]);return o}function Zt(t){return{...t,get:()=>mf(t)}}Zt.writable=function(t){const e=Ve(t);let o=t;return{subscribe:e.subscribe,set(n){e.set(n),o=n},update(n){const i=n(o);e.set(i),o=i},get(){return o}}};Zt.derived=function(t,e){const o=new Map,n=()=>{const r=Array.isArray(t)?t.map(l=>l.get()):t.get();return e(r)};return{get:n,subscribe:r=>{const l=[];return(Array.isArray(t)?t:[t]).forEach(s=>{l.push(s.subscribe(()=>{r(n())}))}),r(n()),o.set(r,l),()=>{const s=o.get(r);if(s)for(const u of s)u();o.delete(r)}}}};const Ui=(t,e)=>{const o=Zt(t),n=(r,l)=>{o.update(a=>{const s=r(a);let u=s;return e&&(u=e({curr:a,next:s})),l==null||l(u),u})};return{...o,update:n,set:r=>{n(()=>r)}}};function al(t){return new Promise(e=>setTimeout(e,t))}let Vm="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",Wm=(t=21)=>{let e="",o=t;for(;o--;)e+=Vm[Math.random()*64|0];return e};function Ym(){return Wm(10)}function ul(t){return t.reduce((e,o)=>(e[o]=Ym(),e),{})}const it={ALT:"Alt",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",CAPS_LOCK:"CapsLock",CONTROL:"Control",DELETE:"Delete",END:"End",ENTER:"Enter",ESCAPE:"Escape",F1:"F1",F10:"F10",F11:"F11",F12:"F12",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",HOME:"Home",META:"Meta",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp",SHIFT:"Shift",SPACE:" ",TAB:"Tab",CTRL:"Control",ASTERISK:"*",A:"a",P:"p"},jf=()=>typeof window<"u";function Um(){const t=navigator.userAgentData;return(t==null?void 0:t.platform)??navigator.platform}const Ff=t=>jf()&&t.test(Um().toLowerCase()),Km=()=>jf()&&!!navigator.maxTouchPoints,Jm=()=>Ff(/^mac/)&&!Km(),Xm=()=>Ff(/mac|iphone|ipad|ipod/i),Zm=()=>Xm()&&!Jm();function Qm(t){const e=t.slice();return e.sort(ep),zm(e)}function zm(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const i=t[n];for(;e.length>=2;){const r=e[e.length-1],l=e[e.length-2];if((r.x-l.x)*(i.y-l.y)>=(r.y-l.y)*(i.x-l.x))e.pop();else break}e.push(i)}e.pop();const o=[];for(let n=t.length-1;n>=0;n--){const i=t[n];for(;o.length>=2;){const r=o[o.length-1],l=o[o.length-2];if((r.x-l.x)*(i.y-l.y)>=(r.y-l.y)*(i.x-l.x))o.pop();else break}o.push(i)}return o.pop(),e.length==1&&o.length==1&&e[0].x==o[0].x&&e[0].y==o[0].y?e:e.concat(o)}function ep(t,e){return t.x<e.x?-1:t.x>e.x?1:t.y<e.y?-1:t.y>e.y?1:0}function tp(t){const e=t.getBoundingClientRect();return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.right,y:e.bottom},{x:e.left,y:e.bottom}]}function np(t){const e=t.flatMap(o=>tp(o));return Qm(e)}function op(t,e){let o=!1;for(let n=0,i=e.length-1;n<e.length;i=n++){const r=e[n].x,l=e[n].y,a=e[i].x,s=e[i].y;l>t.y!=s>t.y&&t.x<(a-r)*(t.y-l)/(s-l)+r&&(o=!o)}return o}const fr="data-melt-scroll-lock";function Vl(t,e){if(!t)return;const o=t.style.cssText;return Object.assign(t.style,e),()=>{t.style.cssText=o}}function ip(t,e,o){if(!t)return;const n=t.style.getPropertyValue(e);return t.style.setProperty(e,o),()=>{n?t.style.setProperty(e,n):t.style.removeProperty(e)}}function rp(t){const e=t.getBoundingClientRect().left;return Math.round(e)+t.scrollLeft?"paddingLeft":"paddingRight"}function lp(t){const e=document,o=e.defaultView??window,{documentElement:n,body:i}=e;if(i.hasAttribute(fr))return Xe;i.setAttribute(fr,"");const l=o.innerWidth-n.clientWidth,a=()=>ip(n,"--scrollbar-width",`${l}px`),s=rp(n),u=o.getComputedStyle(i)[s],f=()=>Vl(i,{overflow:"hidden",[s]:`calc(${u} + ${l}px)`}),c=()=>{const{scrollX:m,scrollY:_,visualViewport:h}=o,p=(h==null?void 0:h.offsetLeft)??0,w=(h==null?void 0:h.offsetTop)??0,v=Vl(i,{position:"fixed",overflow:"hidden",top:`${-(_-Math.floor(w))}px`,left:`${-(m-Math.floor(p))}px`,right:"0",[s]:`calc(${u} + ${l}px)`});return()=>{v==null||v(),o.scrollTo(m,_)}},d=[a(),Zm()?c():f()];return()=>{d.forEach(m=>m==null?void 0:m()),i.removeAttribute(fr)}}const sp=t=>{try{yf(t)}catch{return t}};function St(t,e){let o;const n=en(t,r=>{o==null||o(),o=e(r)}).subscribe(Xe),i=()=>{n(),o==null||o()};return sp(i),i}function In(t){const e={};return Object.keys(t).forEach(o=>{const n=o,i=t[n];e[n]=Zt(Ve(i))}),e}function ap(t){let e=t.parentElement;for(;bt(e)&&!e.hasAttribute("data-portal");)e=e.parentElement;return e||"body"}function Bf(t,e){return e!==void 0?e:ap(t)==="body"?document.body:null}async function Wl(t){const{prop:e,defaultEl:o}=t;if(await Promise.all([al(1),ol]),e===void 0){o==null||o.focus();return}const n=Df(e)?e(o):e;if(typeof n=="string"){const i=document.querySelector(n);if(!bt(i))return;i.focus()}else bt(n)&&n.focus()}function cr(t,e,o,n){const i=(t-(isNaN(e)?0:e))%n;let r=Math.abs(i)*2>=n?t+Math.sign(i)*(n-Math.abs(i)):t-i;isNaN(e)?!isNaN(o)&&r>o&&(r=Math.floor(o/n)*n):r<e?r=e:!isNaN(o)&&r>o&&(r=e+Math.floor((o-e)/n)*n);const l=n.toString(),a=l.indexOf("."),s=a>=0?l.length-a:0;if(s>0){const u=Math.pow(10,s);r=Math.round(r*u)/u}return r}Cn(void 0,t=>{function e(n){t(n),t(void 0)}return dt(document,"pointerup",e,{passive:!1,capture:!0})});const up=Cn(void 0,t=>{function e(n){n&&n.key===it.ESCAPE&&t(n),t(void 0)}return dt(document,"keydown",e,{passive:!1})}),Yl=(t,e={})=>{let o=Xe;function n(i={}){o();const r={enabled:!0,...i},l=xm(r.enabled)?r.enabled:Cn(r.enabled);o=Bt(up.subscribe(a=>{var u;if(!a||!mf(l))return;const s=a.target;if(!(!bt(s)||s.closest("[data-escapee]")!==t)){if(a.preventDefault(),r.ignore){if(Df(r.ignore)){if(r.ignore(a))return}else if(Array.isArray(r.ignore)&&r.ignore.length>0&&r.ignore.some(f=>f&&s===f))return}(u=r.handler)==null||u.call(r,a)}}),St(l,a=>{a?t.dataset.escapee="":delete t.dataset.escapee}))}return n(e),{update:n,destroy(){t.removeAttribute("data-escapee"),o()}}},dn=Math.min,wt=Math.max,ki=Math.round,Xo=Math.floor,mn=t=>({x:t,y:t}),fp={left:"right",right:"left",bottom:"top",top:"bottom"},cp={start:"end",end:"start"};function Dr(t,e,o){return wt(t,dn(e,o))}function so(t,e){return typeof t=="function"?t(e):t}function pn(t){return t.split("-")[0]}function ao(t){return t.split("-")[1]}function qf(t){return t==="x"?"y":"x"}function fl(t){return t==="y"?"height":"width"}function Vo(t){return["top","bottom"].includes(pn(t))?"y":"x"}function cl(t){return qf(Vo(t))}function dp(t,e,o){o===void 0&&(o=!1);const n=ao(t),i=cl(t),r=fl(i);let l=i==="x"?n===(o?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[r]>e.floating[r]&&(l=Ci(l)),[l,Ci(l)]}function mp(t){const e=Ci(t);return[jr(t),e,jr(e)]}function jr(t){return t.replace(/start|end/g,e=>cp[e])}function pp(t,e,o){const n=["left","right"],i=["right","left"],r=["top","bottom"],l=["bottom","top"];switch(t){case"top":case"bottom":return o?e?i:n:e?n:i;case"left":case"right":return e?r:l;default:return[]}}function hp(t,e,o,n){const i=ao(t);let r=pp(pn(t),o==="start",n);return i&&(r=r.map(l=>l+"-"+i),e&&(r=r.concat(r.map(jr)))),r}function Ci(t){return t.replace(/left|right|bottom|top/g,e=>fp[e])}function gp(t){return{top:0,right:0,bottom:0,left:0,...t}}function xf(t){return typeof t!="number"?gp(t):{top:t,right:t,bottom:t,left:t}}function Si(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function Ul(t,e,o){let{reference:n,floating:i}=t;const r=Vo(e),l=cl(e),a=fl(l),s=pn(e),u=r==="y",f=n.x+n.width/2-i.width/2,c=n.y+n.height/2-i.height/2,d=n[a]/2-i[a]/2;let m;switch(s){case"top":m={x:f,y:n.y-i.height};break;case"bottom":m={x:f,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:c};break;case"left":m={x:n.x-i.width,y:c};break;default:m={x:n.x,y:n.y}}switch(ao(e)){case"start":m[l]-=d*(o&&u?-1:1);break;case"end":m[l]+=d*(o&&u?-1:1);break}return m}const _p=async(t,e,o)=>{const{placement:n="bottom",strategy:i="absolute",middleware:r=[],platform:l}=o,a=r.filter(Boolean),s=await(l.isRTL==null?void 0:l.isRTL(e));let u=await l.getElementRects({reference:t,floating:e,strategy:i}),{x:f,y:c}=Ul(u,n,s),d=n,m={},_=0;for(let h=0;h<a.length;h++){const{name:p,fn:w}=a[h],{x:v,y:S,data:D,reset:j}=await w({x:f,y:c,initialPlacement:n,placement:d,strategy:i,middlewareData:m,rects:u,platform:l,elements:{reference:t,floating:e}});f=v??f,c=S??c,m={...m,[p]:{...m[p],...D}},j&&_<=50&&(_++,typeof j=="object"&&(j.placement&&(d=j.placement),j.rects&&(u=j.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:i}):j.rects),{x:f,y:c}=Ul(u,d,s)),h=-1)}return{x:f,y:c,placement:d,strategy:i,middlewareData:m}};async function dl(t,e){var o;e===void 0&&(e={});const{x:n,y:i,platform:r,rects:l,elements:a,strategy:s}=t,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:c="floating",altBoundary:d=!1,padding:m=0}=so(e,t),_=xf(m),p=a[d?c==="floating"?"reference":"floating":c],w=Si(await r.getClippingRect({element:(o=await(r.isElement==null?void 0:r.isElement(p)))==null||o?p:p.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(a.floating)),boundary:u,rootBoundary:f,strategy:s})),v=c==="floating"?{...l.floating,x:n,y:i}:l.reference,S=await(r.getOffsetParent==null?void 0:r.getOffsetParent(a.floating)),D=await(r.isElement==null?void 0:r.isElement(S))?await(r.getScale==null?void 0:r.getScale(S))||{x:1,y:1}:{x:1,y:1},j=Si(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:S,strategy:s}):v);return{top:(w.top-j.top+_.top)/D.y,bottom:(j.bottom-w.bottom+_.bottom)/D.y,left:(w.left-j.left+_.left)/D.x,right:(j.right-w.right+_.right)/D.x}}const bp=t=>({name:"arrow",options:t,async fn(e){const{x:o,y:n,placement:i,rects:r,platform:l,elements:a,middlewareData:s}=e,{element:u,padding:f=0}=so(t,e)||{};if(u==null)return{};const c=xf(f),d={x:o,y:n},m=cl(i),_=fl(m),h=await l.getDimensions(u),p=m==="y",w=p?"top":"left",v=p?"bottom":"right",S=p?"clientHeight":"clientWidth",D=r.reference[_]+r.reference[m]-d[m]-r.floating[_],j=d[m]-r.reference[m],F=await(l.getOffsetParent==null?void 0:l.getOffsetParent(u));let R=F?F[S]:0;(!R||!await(l.isElement==null?void 0:l.isElement(F)))&&(R=a.floating[S]||r.floating[_]);const P=D/2-j/2,E=R/2-h[_]/2-1,q=dn(c[w],E),M=dn(c[v],E),C=q,k=R-h[_]-M,N=R/2-h[_]/2+P,B=Dr(C,N,k),L=!s.arrow&&ao(i)!=null&&N!==B&&r.reference[_]/2-(N<C?q:M)-h[_]/2<0,J=L?N<C?N-C:N-k:0;return{[m]:d[m]+J,data:{[m]:B,centerOffset:N-B-J,...L&&{alignmentOffset:J}},reset:L}}}),vp=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var o,n;const{placement:i,middlewareData:r,rects:l,initialPlacement:a,platform:s,elements:u}=e,{mainAxis:f=!0,crossAxis:c=!0,fallbackPlacements:d,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:h=!0,...p}=so(t,e);if((o=r.arrow)!=null&&o.alignmentOffset)return{};const w=pn(i),v=pn(a)===a,S=await(s.isRTL==null?void 0:s.isRTL(u.floating)),D=d||(v||!h?[Ci(a)]:mp(a));!d&&_!=="none"&&D.push(...hp(a,h,_,S));const j=[a,...D],F=await dl(e,p),R=[];let P=((n=r.flip)==null?void 0:n.overflows)||[];if(f&&R.push(F[w]),c){const C=dp(i,l,S);R.push(F[C[0]],F[C[1]])}if(P=[...P,{placement:i,overflows:R}],!R.every(C=>C<=0)){var E,q;const C=(((E=r.flip)==null?void 0:E.index)||0)+1,k=j[C];if(k)return{data:{index:C,overflows:P},reset:{placement:k}};let N=(q=P.filter(B=>B.overflows[0]<=0).sort((B,L)=>B.overflows[1]-L.overflows[1])[0])==null?void 0:q.placement;if(!N)switch(m){case"bestFit":{var M;const B=(M=P.map(L=>[L.placement,L.overflows.filter(J=>J>0).reduce((J,Z)=>J+Z,0)]).sort((L,J)=>L[1]-J[1])[0])==null?void 0:M[0];B&&(N=B);break}case"initialPlacement":N=a;break}if(i!==N)return{reset:{placement:N}}}return{}}}};async function yp(t,e){const{placement:o,platform:n,elements:i}=t,r=await(n.isRTL==null?void 0:n.isRTL(i.floating)),l=pn(o),a=ao(o),s=Vo(o)==="y",u=["left","top"].includes(l)?-1:1,f=r&&s?-1:1,c=so(e,t);let{mainAxis:d,crossAxis:m,alignmentAxis:_}=typeof c=="number"?{mainAxis:c,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...c};return a&&typeof _=="number"&&(m=a==="end"?_*-1:_),s?{x:m*f,y:d*u}:{x:d*u,y:m*f}}const wp=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var o,n;const{x:i,y:r,placement:l,middlewareData:a}=e,s=await yp(e,t);return l===((o=a.offset)==null?void 0:o.placement)&&(n=a.arrow)!=null&&n.alignmentOffset?{}:{x:i+s.x,y:r+s.y,data:{...s,placement:l}}}}},kp=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:o,y:n,placement:i}=e,{mainAxis:r=!0,crossAxis:l=!1,limiter:a={fn:p=>{let{x:w,y:v}=p;return{x:w,y:v}}},...s}=so(t,e),u={x:o,y:n},f=await dl(e,s),c=Vo(pn(i)),d=qf(c);let m=u[d],_=u[c];if(r){const p=d==="y"?"top":"left",w=d==="y"?"bottom":"right",v=m+f[p],S=m-f[w];m=Dr(v,m,S)}if(l){const p=c==="y"?"top":"left",w=c==="y"?"bottom":"right",v=_+f[p],S=_-f[w];_=Dr(v,_,S)}const h=a.fn({...e,[d]:m,[c]:_});return{...h,data:{x:h.x-o,y:h.y-n}}}}},Cp=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){const{placement:o,rects:n,platform:i,elements:r}=e,{apply:l=()=>{},...a}=so(t,e),s=await dl(e,a),u=pn(o),f=ao(o),c=Vo(o)==="y",{width:d,height:m}=n.floating;let _,h;u==="top"||u==="bottom"?(_=u,h=f===(await(i.isRTL==null?void 0:i.isRTL(r.floating))?"start":"end")?"left":"right"):(h=u,_=f==="end"?"top":"bottom");const p=m-s[_],w=d-s[h],v=!e.middlewareData.shift;let S=p,D=w;if(c){const F=d-s.left-s.right;D=f||v?dn(w,F):F}else{const F=m-s.top-s.bottom;S=f||v?dn(p,F):F}if(v&&!f){const F=wt(s.left,0),R=wt(s.right,0),P=wt(s.top,0),E=wt(s.bottom,0);c?D=d-2*(F!==0||R!==0?F+R:wt(s.left,s.right)):S=m-2*(P!==0||E!==0?P+E:wt(s.top,s.bottom))}await l({...e,availableWidth:D,availableHeight:S});const j=await i.getDimensions(r.floating);return d!==j.width||m!==j.height?{reset:{rects:!0}}:{}}}};function hn(t){return Gf(t)?(t.nodeName||"").toLowerCase():"#document"}function kt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function tn(t){var e;return(e=(Gf(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Gf(t){return t instanceof Node||t instanceof kt(t).Node}function Qt(t){return t instanceof Element||t instanceof kt(t).Element}function xt(t){return t instanceof HTMLElement||t instanceof kt(t).HTMLElement}function Kl(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof kt(t).ShadowRoot}function Wo(t){const{overflow:e,overflowX:o,overflowY:n,display:i}=Mt(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+o)&&!["inline","contents"].includes(i)}function Sp(t){return["table","td","th"].includes(hn(t))}function ml(t){const e=pl(),o=Mt(t);return o.transform!=="none"||o.perspective!=="none"||(o.containerType?o.containerType!=="normal":!1)||!e&&(o.backdropFilter?o.backdropFilter!=="none":!1)||!e&&(o.filter?o.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(o.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(o.contain||"").includes(n))}function Ap(t){let e=eo(t);for(;xt(e)&&!Ki(e);){if(ml(e))return e;e=eo(e)}return null}function pl(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ki(t){return["html","body","#document"].includes(hn(t))}function Mt(t){return kt(t).getComputedStyle(t)}function Ji(t){return Qt(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function eo(t){if(hn(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Kl(t)&&t.host||tn(t);return Kl(e)?e.host:e}function Hf(t){const e=eo(t);return Ki(e)?t.ownerDocument?t.ownerDocument.body:t.body:xt(e)&&Wo(e)?e:Hf(e)}function jo(t,e,o){var n;e===void 0&&(e=[]),o===void 0&&(o=!0);const i=Hf(t),r=i===((n=t.ownerDocument)==null?void 0:n.body),l=kt(i);return r?e.concat(l,l.visualViewport||[],Wo(i)?i:[],l.frameElement&&o?jo(l.frameElement):[]):e.concat(i,jo(i,[],o))}function Vf(t){const e=Mt(t);let o=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=xt(t),r=i?t.offsetWidth:o,l=i?t.offsetHeight:n,a=ki(o)!==r||ki(n)!==l;return a&&(o=r,n=l),{width:o,height:n,$:a}}function hl(t){return Qt(t)?t:t.contextElement}function Kn(t){const e=hl(t);if(!xt(e))return mn(1);const o=e.getBoundingClientRect(),{width:n,height:i,$:r}=Vf(e);let l=(r?ki(o.width):o.width)/n,a=(r?ki(o.height):o.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!a||!Number.isFinite(a))&&(a=1),{x:l,y:a}}const Tp=mn(0);function Wf(t){const e=kt(t);return!pl()||!e.visualViewport?Tp:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Ip(t,e,o){return e===void 0&&(e=!1),!o||e&&o!==kt(t)?!1:e}function Mn(t,e,o,n){e===void 0&&(e=!1),o===void 0&&(o=!1);const i=t.getBoundingClientRect(),r=hl(t);let l=mn(1);e&&(n?Qt(n)&&(l=Kn(n)):l=Kn(t));const a=Ip(r,o,n)?Wf(r):mn(0);let s=(i.left+a.x)/l.x,u=(i.top+a.y)/l.y,f=i.width/l.x,c=i.height/l.y;if(r){const d=kt(r),m=n&&Qt(n)?kt(n):n;let _=d,h=_.frameElement;for(;h&&n&&m!==_;){const p=Kn(h),w=h.getBoundingClientRect(),v=Mt(h),S=w.left+(h.clientLeft+parseFloat(v.paddingLeft))*p.x,D=w.top+(h.clientTop+parseFloat(v.paddingTop))*p.y;s*=p.x,u*=p.y,f*=p.x,c*=p.y,s+=S,u+=D,_=kt(h),h=_.frameElement}}return Si({width:f,height:c,x:s,y:u})}const Mp=[":popover-open",":modal"];function Yf(t){return Mp.some(e=>{try{return t.matches(e)}catch{return!1}})}function Op(t){let{elements:e,rect:o,offsetParent:n,strategy:i}=t;const r=i==="fixed",l=tn(n),a=e?Yf(e.floating):!1;if(n===l||a&&r)return o;let s={scrollLeft:0,scrollTop:0},u=mn(1);const f=mn(0),c=xt(n);if((c||!c&&!r)&&((hn(n)!=="body"||Wo(l))&&(s=Ji(n)),xt(n))){const d=Mn(n);u=Kn(n),f.x=d.x+n.clientLeft,f.y=d.y+n.clientTop}return{width:o.width*u.x,height:o.height*u.y,x:o.x*u.x-s.scrollLeft*u.x+f.x,y:o.y*u.y-s.scrollTop*u.y+f.y}}function Pp(t){return Array.from(t.getClientRects())}function Uf(t){return Mn(tn(t)).left+Ji(t).scrollLeft}function Np(t){const e=tn(t),o=Ji(t),n=t.ownerDocument.body,i=wt(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),r=wt(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let l=-o.scrollLeft+Uf(t);const a=-o.scrollTop;return Mt(n).direction==="rtl"&&(l+=wt(e.clientWidth,n.clientWidth)-i),{width:i,height:r,x:l,y:a}}function Ep(t,e){const o=kt(t),n=tn(t),i=o.visualViewport;let r=n.clientWidth,l=n.clientHeight,a=0,s=0;if(i){r=i.width,l=i.height;const u=pl();(!u||u&&e==="fixed")&&(a=i.offsetLeft,s=i.offsetTop)}return{width:r,height:l,x:a,y:s}}function Rp(t,e){const o=Mn(t,!0,e==="fixed"),n=o.top+t.clientTop,i=o.left+t.clientLeft,r=xt(t)?Kn(t):mn(1),l=t.clientWidth*r.x,a=t.clientHeight*r.y,s=i*r.x,u=n*r.y;return{width:l,height:a,x:s,y:u}}function Jl(t,e,o){let n;if(e==="viewport")n=Ep(t,o);else if(e==="document")n=Np(tn(t));else if(Qt(e))n=Rp(e,o);else{const i=Wf(t);n={...e,x:e.x-i.x,y:e.y-i.y}}return Si(n)}function Kf(t,e){const o=eo(t);return o===e||!Qt(o)||Ki(o)?!1:Mt(o).position==="fixed"||Kf(o,e)}function $p(t,e){const o=e.get(t);if(o)return o;let n=jo(t,[],!1).filter(a=>Qt(a)&&hn(a)!=="body"),i=null;const r=Mt(t).position==="fixed";let l=r?eo(t):t;for(;Qt(l)&&!Ki(l);){const a=Mt(l),s=ml(l);!s&&a.position==="fixed"&&(i=null),(r?!s&&!i:!s&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Wo(l)&&!s&&Kf(t,l))?n=n.filter(f=>f!==l):i=a,l=eo(l)}return e.set(t,n),n}function Lp(t){let{element:e,boundary:o,rootBoundary:n,strategy:i}=t;const l=[...o==="clippingAncestors"?$p(e,this._c):[].concat(o),n],a=l[0],s=l.reduce((u,f)=>{const c=Jl(e,f,i);return u.top=wt(c.top,u.top),u.right=dn(c.right,u.right),u.bottom=dn(c.bottom,u.bottom),u.left=wt(c.left,u.left),u},Jl(e,a,i));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}}function Dp(t){const{width:e,height:o}=Vf(t);return{width:e,height:o}}function jp(t,e,o){const n=xt(e),i=tn(e),r=o==="fixed",l=Mn(t,!0,r,e);let a={scrollLeft:0,scrollTop:0};const s=mn(0);if(n||!n&&!r)if((hn(e)!=="body"||Wo(i))&&(a=Ji(e)),n){const c=Mn(e,!0,r,e);s.x=c.x+e.clientLeft,s.y=c.y+e.clientTop}else i&&(s.x=Uf(i));const u=l.left+a.scrollLeft-s.x,f=l.top+a.scrollTop-s.y;return{x:u,y:f,width:l.width,height:l.height}}function Xl(t,e){return!xt(t)||Mt(t).position==="fixed"?null:e?e(t):t.offsetParent}function Jf(t,e){const o=kt(t);if(!xt(t)||Yf(t))return o;let n=Xl(t,e);for(;n&&Sp(n)&&Mt(n).position==="static";)n=Xl(n,e);return n&&(hn(n)==="html"||hn(n)==="body"&&Mt(n).position==="static"&&!ml(n))?o:n||Ap(t)||o}const Fp=async function(t){const e=this.getOffsetParent||Jf,o=this.getDimensions;return{reference:jp(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,...await o(t.floating)}}};function Bp(t){return Mt(t).direction==="rtl"}const qp={convertOffsetParentRelativeRectToViewportRelativeRect:Op,getDocumentElement:tn,getClippingRect:Lp,getOffsetParent:Jf,getElementRects:Fp,getClientRects:Pp,getDimensions:Dp,getScale:Kn,isElement:Qt,isRTL:Bp};function xp(t,e){let o=null,n;const i=tn(t);function r(){var a;clearTimeout(n),(a=o)==null||a.disconnect(),o=null}function l(a,s){a===void 0&&(a=!1),s===void 0&&(s=1),r();const{left:u,top:f,width:c,height:d}=t.getBoundingClientRect();if(a||e(),!c||!d)return;const m=Xo(f),_=Xo(i.clientWidth-(u+c)),h=Xo(i.clientHeight-(f+d)),p=Xo(u),v={rootMargin:-m+"px "+-_+"px "+-h+"px "+-p+"px",threshold:wt(0,dn(1,s))||1};let S=!0;function D(j){const F=j[0].intersectionRatio;if(F!==s){if(!S)return l();F?l(!1,F):n=setTimeout(()=>{l(!1,1e-7)},100)}S=!1}try{o=new IntersectionObserver(D,{...v,root:i.ownerDocument})}catch{o=new IntersectionObserver(D,v)}o.observe(t)}return l(!0),r}function Gp(t,e,o,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:r=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:s=!1}=n,u=hl(t),f=i||r?[...u?jo(u):[],...jo(e)]:[];f.forEach(w=>{i&&w.addEventListener("scroll",o,{passive:!0}),r&&w.addEventListener("resize",o)});const c=u&&a?xp(u,o):null;let d=-1,m=null;l&&(m=new ResizeObserver(w=>{let[v]=w;v&&v.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var S;(S=m)==null||S.observe(e)})),o()}),u&&!s&&m.observe(u),m.observe(e));let _,h=s?Mn(t):null;s&&p();function p(){const w=Mn(t);h&&(w.x!==h.x||w.y!==h.y||w.width!==h.width||w.height!==h.height)&&o(),h=w,_=requestAnimationFrame(p)}return o(),()=>{var w;f.forEach(v=>{i&&v.removeEventListener("scroll",o),r&&v.removeEventListener("resize",o)}),c==null||c(),(w=m)==null||w.disconnect(),m=null,s&&cancelAnimationFrame(_)}}const Hp=kp,Vp=vp,Wp=Cp,Yp=bp,Up=(t,e,o)=>{const n=new Map,i={platform:qp,...o},r={...i.platform,_c:n};return _p(t,e,{...i,platform:r})},Kp={strategy:"absolute",placement:"top",gutter:5,flip:!0,sameWidth:!1,overflowPadding:8},Jp={bottom:"rotate(45deg)",left:"rotate(135deg)",top:"rotate(225deg)",right:"rotate(315deg)"};function Xp(t,e,o={}){if(!e||!t||o===null)return{destroy:Xe};const n={...Kp,...o},i=e.querySelector("[data-arrow=true]"),r=[];n.flip&&r.push(Vp({boundary:n.boundary,padding:n.overflowPadding}));const l=bt(i)?i.offsetHeight/2:0;if(n.gutter||n.offset){const s=n.gutter?{mainAxis:n.gutter}:n.offset;(s==null?void 0:s.mainAxis)!=null&&(s.mainAxis+=l),r.push(wp(s))}r.push(Hp({boundary:n.boundary,crossAxis:n.overlap,padding:n.overflowPadding})),i&&r.push(Yp({element:i,padding:8})),r.push(Wp({padding:n.overflowPadding,apply({rects:s,availableHeight:u,availableWidth:f}){n.sameWidth&&Object.assign(e.style,{width:`${Math.round(s.reference.width)}px`,minWidth:"unset"}),n.fitViewport&&Object.assign(e.style,{maxWidth:`${f}px`,maxHeight:`${u}px`})}}));function a(){if(!t||!e)return;const{placement:s,strategy:u}=n;Up(t,e,{placement:s,middleware:r,strategy:u}).then(f=>{const c=Math.round(f.x),d=Math.round(f.y);if(Object.assign(e.style,{position:n.strategy,top:`${d}px`,left:`${c}px`}),bt(i)&&f.middlewareData.arrow){const{x:m,y:_}=f.middlewareData.arrow,h=f.placement.split("-")[0];Object.assign(i.style,{position:"absolute",left:m!=null?`${m}px`:"",top:_!=null?`${_}px`:"",[h]:`calc(100% - ${l}px)`,transform:Jp[h],backgroundColor:"inherit",zIndex:"inherit"})}return f})}return Object.assign(e.style,{position:n.strategy}),{destroy:Gp(t,e,a)}}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Xf=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Ai=Xf.join(","),Zf=typeof Element>"u",On=Zf?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Ti=!Zf&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},Ii=function t(e,o){var n;o===void 0&&(o=!0);var i=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"inert"),r=i===""||i==="true",l=r||o&&e&&t(e.parentNode);return l},Zp=function(e){var o,n=e==null||(o=e.getAttribute)===null||o===void 0?void 0:o.call(e,"contenteditable");return n===""||n==="true"},Qf=function(e,o,n){if(Ii(e))return[];var i=Array.prototype.slice.apply(e.querySelectorAll(Ai));return o&&On.call(e,Ai)&&i.unshift(e),i=i.filter(n),i},zf=function t(e,o,n){for(var i=[],r=Array.from(e);r.length;){var l=r.shift();if(!Ii(l,!1))if(l.tagName==="SLOT"){var a=l.assignedElements(),s=a.length?a:l.children,u=t(s,!0,n);n.flatten?i.push.apply(i,u):i.push({scopeParent:l,candidates:u})}else{var f=On.call(l,Ai);f&&n.filter(l)&&(o||!e.includes(l))&&i.push(l);var c=l.shadowRoot||typeof n.getShadowRoot=="function"&&n.getShadowRoot(l),d=!Ii(c,!1)&&(!n.shadowRootFilter||n.shadowRootFilter(l));if(c&&d){var m=t(c===!0?l.children:c.children,!0,n);n.flatten?i.push.apply(i,m):i.push({scopeParent:l,candidates:m})}else r.unshift.apply(r,l.children)}}return i},ec=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},vn=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||Zp(e))&&!ec(e)?0:e.tabIndex},Qp=function(e,o){var n=vn(e);return n<0&&o&&!ec(e)?0:n},zp=function(e,o){return e.tabIndex===o.tabIndex?e.documentOrder-o.documentOrder:e.tabIndex-o.tabIndex},tc=function(e){return e.tagName==="INPUT"},eh=function(e){return tc(e)&&e.type==="hidden"},th=function(e){var o=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(n){return n.tagName==="SUMMARY"});return o},nh=function(e,o){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===o)return e[n]},oh=function(e){if(!e.name)return!0;var o=e.form||Ti(e),n=function(a){return o.querySelectorAll('input[type="radio"][name="'+a+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=n(window.CSS.escape(e.name));else try{i=n(e.name)}catch(l){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",l.message),!1}var r=nh(i,e.form);return!r||r===e},ih=function(e){return tc(e)&&e.type==="radio"},rh=function(e){return ih(e)&&!oh(e)},lh=function(e){var o,n=e&&Ti(e),i=(o=n)===null||o===void 0?void 0:o.host,r=!1;if(n&&n!==e){var l,a,s;for(r=!!((l=i)!==null&&l!==void 0&&(a=l.ownerDocument)!==null&&a!==void 0&&a.contains(i)||e!=null&&(s=e.ownerDocument)!==null&&s!==void 0&&s.contains(e));!r&&i;){var u,f,c;n=Ti(i),i=(u=n)===null||u===void 0?void 0:u.host,r=!!((f=i)!==null&&f!==void 0&&(c=f.ownerDocument)!==null&&c!==void 0&&c.contains(i))}}return r},Zl=function(e){var o=e.getBoundingClientRect(),n=o.width,i=o.height;return n===0&&i===0},sh=function(e,o){var n=o.displayCheck,i=o.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var r=On.call(e,"details>summary:first-of-type"),l=r?e.parentElement:e;if(On.call(l,"details:not([open]) *"))return!0;if(!n||n==="full"||n==="legacy-full"){if(typeof i=="function"){for(var a=e;e;){var s=e.parentElement,u=Ti(e);if(s&&!s.shadowRoot&&i(s)===!0)return Zl(e);e.assignedSlot?e=e.assignedSlot:!s&&u!==e.ownerDocument?e=u.host:e=s}e=a}if(lh(e))return!e.getClientRects().length;if(n!=="legacy-full")return!0}else if(n==="non-zero-area")return Zl(e);return!1},ah=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var o=e.parentElement;o;){if(o.tagName==="FIELDSET"&&o.disabled){for(var n=0;n<o.children.length;n++){var i=o.children.item(n);if(i.tagName==="LEGEND")return On.call(o,"fieldset[disabled] *")?!0:!i.contains(e)}return!0}o=o.parentElement}return!1},Mi=function(e,o){return!(o.disabled||Ii(o)||eh(o)||sh(o,e)||th(o)||ah(o))},Fr=function(e,o){return!(rh(o)||vn(o)<0||!Mi(e,o))},uh=function(e){var o=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(o)||o>=0)},fh=function t(e){var o=[],n=[];return e.forEach(function(i,r){var l=!!i.scopeParent,a=l?i.scopeParent:i,s=Qp(a,l),u=l?t(i.candidates):a;s===0?l?o.push.apply(o,u):o.push(a):n.push({documentOrder:r,tabIndex:s,item:i,isScope:l,content:u})}),n.sort(zp).reduce(function(i,r){return r.isScope?i.push.apply(i,r.content):i.push(r.content),i},[]).concat(o)},ch=function(e,o){o=o||{};var n;return o.getShadowRoot?n=zf([e],o.includeContainer,{filter:Fr.bind(null,o),flatten:!1,getShadowRoot:o.getShadowRoot,shadowRootFilter:uh}):n=Qf(e,o.includeContainer,Fr.bind(null,o)),fh(n)},dh=function(e,o){o=o||{};var n;return o.getShadowRoot?n=zf([e],o.includeContainer,{filter:Mi.bind(null,o),flatten:!0,getShadowRoot:o.getShadowRoot}):n=Qf(e,o.includeContainer,Mi.bind(null,o)),n},Bn=function(e,o){if(o=o||{},!e)throw new Error("No node provided");return On.call(e,Ai)===!1?!1:Fr(o,e)},mh=Xf.concat("iframe").join(","),dr=function(e,o){if(o=o||{},!e)throw new Error("No node provided");return On.call(e,mh)===!1?!1:Mi(o,e)};/*!
* focus-trap 7.5.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function Ql(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),o.push.apply(o,n)}return o}function zl(t){for(var e=1;e<arguments.length;e++){var o=arguments[e]!=null?arguments[e]:{};e%2?Ql(Object(o),!0).forEach(function(n){ph(t,n,o[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):Ql(Object(o)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(o,n))})}return t}function ph(t,e,o){return e=gh(e),e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function hh(t,e){if(typeof t!="object"||t===null)return t;var o=t[Symbol.toPrimitive];if(o!==void 0){var n=o.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gh(t){var e=hh(t,"string");return typeof e=="symbol"?e:String(e)}var es={activateTrap:function(e,o){if(e.length>0){var n=e[e.length-1];n!==o&&n.pause()}var i=e.indexOf(o);i===-1||e.splice(i,1),e.push(o)},deactivateTrap:function(e,o){var n=e.indexOf(o);n!==-1&&e.splice(n,1),e.length>0&&e[e.length-1].unpause()}},_h=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},bh=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},Ro=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},vh=function(e){return Ro(e)&&!e.shiftKey},yh=function(e){return Ro(e)&&e.shiftKey},ts=function(e){return setTimeout(e,0)},ns=function(e,o){var n=-1;return e.every(function(i,r){return o(i)?(n=r,!1):!0}),n},wo=function(e){for(var o=arguments.length,n=new Array(o>1?o-1:0),i=1;i<o;i++)n[i-1]=arguments[i];return typeof e=="function"?e.apply(void 0,n):e},Zo=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},wh=[],kh=function(e,o){var n=(o==null?void 0:o.document)||document,i=(o==null?void 0:o.trapStack)||wh,r=zl({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:vh,isKeyBackward:yh},o),l={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},a,s=function(C,k,N){return C&&C[k]!==void 0?C[k]:r[N||k]},u=function(C,k){var N=typeof(k==null?void 0:k.composedPath)=="function"?k.composedPath():void 0;return l.containerGroups.findIndex(function(B){var L=B.container,J=B.tabbableNodes;return L.contains(C)||(N==null?void 0:N.includes(L))||J.find(function(Z){return Z===C})})},f=function(C){var k=r[C];if(typeof k=="function"){for(var N=arguments.length,B=new Array(N>1?N-1:0),L=1;L<N;L++)B[L-1]=arguments[L];k=k.apply(void 0,B)}if(k===!0&&(k=void 0),!k){if(k===void 0||k===!1)return k;throw new Error("`".concat(C,"` was specified but was not a node, or did not return a node"))}var J=k;if(typeof k=="string"&&(J=n.querySelector(k),!J))throw new Error("`".concat(C,"` as selector refers to no known node"));return J},c=function(){var C=f("initialFocus");if(C===!1)return!1;if(C===void 0||!dr(C,r.tabbableOptions))if(u(n.activeElement)>=0)C=n.activeElement;else{var k=l.tabbableGroups[0],N=k&&k.firstTabbableNode;C=N||f("fallbackFocus")}if(!C)throw new Error("Your focus-trap needs to have at least one focusable element");return C},d=function(){if(l.containerGroups=l.containers.map(function(C){var k=ch(C,r.tabbableOptions),N=dh(C,r.tabbableOptions),B=k.length>0?k[0]:void 0,L=k.length>0?k[k.length-1]:void 0,J=N.find(function(ne){return Bn(ne)}),Z=N.slice().reverse().find(function(ne){return Bn(ne)}),X=!!k.find(function(ne){return vn(ne)>0});return{container:C,tabbableNodes:k,focusableNodes:N,posTabIndexesFound:X,firstTabbableNode:B,lastTabbableNode:L,firstDomTabbableNode:J,lastDomTabbableNode:Z,nextTabbableNode:function(ee){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,we=k.indexOf(ee);return we<0?oe?N.slice(N.indexOf(ee)+1).find(function(ae){return Bn(ae)}):N.slice(0,N.indexOf(ee)).reverse().find(function(ae){return Bn(ae)}):k[we+(oe?1:-1)]}}}),l.tabbableGroups=l.containerGroups.filter(function(C){return C.tabbableNodes.length>0}),l.tabbableGroups.length<=0&&!f("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(l.containerGroups.find(function(C){return C.posTabIndexesFound})&&l.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},m=function M(C){var k=C.activeElement;if(k)return k.shadowRoot&&k.shadowRoot.activeElement!==null?M(k.shadowRoot):k},_=function M(C){if(C!==!1&&C!==m(document)){if(!C||!C.focus){M(c());return}C.focus({preventScroll:!!r.preventScroll}),l.mostRecentlyFocusedNode=C,_h(C)&&C.select()}},h=function(C){var k=f("setReturnFocus",C);return k||(k===!1?!1:C)},p=function(C){var k=C.target,N=C.event,B=C.isBackward,L=B===void 0?!1:B;k=k||Zo(N),d();var J=null;if(l.tabbableGroups.length>0){var Z=u(k,N),X=Z>=0?l.containerGroups[Z]:void 0;if(Z<0)L?J=l.tabbableGroups[l.tabbableGroups.length-1].lastTabbableNode:J=l.tabbableGroups[0].firstTabbableNode;else if(L){var ne=ns(l.tabbableGroups,function(qe){var Ge=qe.firstTabbableNode;return k===Ge});if(ne<0&&(X.container===k||dr(k,r.tabbableOptions)&&!Bn(k,r.tabbableOptions)&&!X.nextTabbableNode(k,!1))&&(ne=Z),ne>=0){var ee=ne===0?l.tabbableGroups.length-1:ne-1,oe=l.tabbableGroups[ee];J=vn(k)>=0?oe.lastTabbableNode:oe.lastDomTabbableNode}else Ro(N)||(J=X.nextTabbableNode(k,!1))}else{var we=ns(l.tabbableGroups,function(qe){var Ge=qe.lastTabbableNode;return k===Ge});if(we<0&&(X.container===k||dr(k,r.tabbableOptions)&&!Bn(k,r.tabbableOptions)&&!X.nextTabbableNode(k))&&(we=Z),we>=0){var ae=we===l.tabbableGroups.length-1?0:we+1,ie=l.tabbableGroups[ae];J=vn(k)>=0?ie.firstTabbableNode:ie.firstDomTabbableNode}else Ro(N)||(J=X.nextTabbableNode(k))}}else J=f("fallbackFocus");return J},w=function(C){var k=Zo(C);if(!(u(k,C)>=0)){if(wo(r.clickOutsideDeactivates,C)){a.deactivate({returnFocus:r.returnFocusOnDeactivate});return}wo(r.allowOutsideClick,C)||C.preventDefault()}},v=function(C){var k=Zo(C),N=u(k,C)>=0;if(N||k instanceof Document)N&&(l.mostRecentlyFocusedNode=k);else{C.stopImmediatePropagation();var B,L=!0;if(l.mostRecentlyFocusedNode)if(vn(l.mostRecentlyFocusedNode)>0){var J=u(l.mostRecentlyFocusedNode),Z=l.containerGroups[J].tabbableNodes;if(Z.length>0){var X=Z.findIndex(function(ne){return ne===l.mostRecentlyFocusedNode});X>=0&&(r.isKeyForward(l.recentNavEvent)?X+1<Z.length&&(B=Z[X+1],L=!1):X-1>=0&&(B=Z[X-1],L=!1))}}else l.containerGroups.some(function(ne){return ne.tabbableNodes.some(function(ee){return vn(ee)>0})})||(L=!1);else L=!1;L&&(B=p({target:l.mostRecentlyFocusedNode,isBackward:r.isKeyBackward(l.recentNavEvent)})),_(B||l.mostRecentlyFocusedNode||c())}l.recentNavEvent=void 0},S=function(C){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;l.recentNavEvent=C;var N=p({event:C,isBackward:k});N&&(Ro(C)&&C.preventDefault(),_(N))},D=function(C){if(bh(C)&&wo(r.escapeDeactivates,C)!==!1){C.preventDefault(),a.deactivate();return}(r.isKeyForward(C)||r.isKeyBackward(C))&&S(C,r.isKeyBackward(C))},j=function(C){var k=Zo(C);u(k,C)>=0||wo(r.clickOutsideDeactivates,C)||wo(r.allowOutsideClick,C)||(C.preventDefault(),C.stopImmediatePropagation())},F=function(){if(l.active)return es.activateTrap(i,a),l.delayInitialFocusTimer=r.delayInitialFocus?ts(function(){_(c())}):_(c()),n.addEventListener("focusin",v,!0),n.addEventListener("mousedown",w,{capture:!0,passive:!1}),n.addEventListener("touchstart",w,{capture:!0,passive:!1}),n.addEventListener("click",j,{capture:!0,passive:!1}),n.addEventListener("keydown",D,{capture:!0,passive:!1}),a},R=function(){if(l.active)return n.removeEventListener("focusin",v,!0),n.removeEventListener("mousedown",w,!0),n.removeEventListener("touchstart",w,!0),n.removeEventListener("click",j,!0),n.removeEventListener("keydown",D,!0),a},P=function(C){var k=C.some(function(N){var B=Array.from(N.removedNodes);return B.some(function(L){return L===l.mostRecentlyFocusedNode})});k&&_(c())},E=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(P):void 0,q=function(){E&&(E.disconnect(),l.active&&!l.paused&&l.containers.map(function(C){E.observe(C,{subtree:!0,childList:!0})}))};return a={get active(){return l.active},get paused(){return l.paused},activate:function(C){if(l.active)return this;var k=s(C,"onActivate"),N=s(C,"onPostActivate"),B=s(C,"checkCanFocusTrap");B||d(),l.active=!0,l.paused=!1,l.nodeFocusedBeforeActivation=n.activeElement,k==null||k();var L=function(){B&&d(),F(),q(),N==null||N()};return B?(B(l.containers.concat()).then(L,L),this):(L(),this)},deactivate:function(C){if(!l.active)return this;var k=zl({onDeactivate:r.onDeactivate,onPostDeactivate:r.onPostDeactivate,checkCanReturnFocus:r.checkCanReturnFocus},C);clearTimeout(l.delayInitialFocusTimer),l.delayInitialFocusTimer=void 0,R(),l.active=!1,l.paused=!1,q(),es.deactivateTrap(i,a);var N=s(k,"onDeactivate"),B=s(k,"onPostDeactivate"),L=s(k,"checkCanReturnFocus"),J=s(k,"returnFocus","returnFocusOnDeactivate");N==null||N();var Z=function(){ts(function(){J&&_(h(l.nodeFocusedBeforeActivation)),B==null||B()})};return J&&L?(L(h(l.nodeFocusedBeforeActivation)).then(Z,Z),this):(Z(),this)},pause:function(C){if(l.paused||!l.active)return this;var k=s(C,"onPause"),N=s(C,"onPostPause");return l.paused=!0,k==null||k(),R(),q(),N==null||N(),this},unpause:function(C){if(!l.paused||!l.active)return this;var k=s(C,"onUnpause"),N=s(C,"onPostUnpause");return l.paused=!1,k==null||k(),d(),F(),q(),N==null||N(),this},updateContainerElements:function(C){var k=[].concat(C).filter(Boolean);return l.containers=k.map(function(N){return typeof N=="string"?n.querySelector(N):N}),l.active&&d(),q(),this}},a.updateContainerElements(e),a};function Ch(t={}){let e;const{immediate:o,...n}=t,i=Ve(!1),r=Ve(!1),l=c=>e==null?void 0:e.activate(c),a=c=>{e==null||e.deactivate(c)},s=()=>{e&&(e.pause(),r.set(!0))},u=()=>{e&&(e.unpause(),r.set(!1))};return{useFocusTrap:c=>(e=kh(c,{...n,onActivate(){var d;i.set(!0),(d=t.onActivate)==null||d.call(t)},onDeactivate(){var d;i.set(!1),(d=t.onDeactivate)==null||d.call(t)}}),o&&l(),{destroy(){a(),e=void 0}}),hasFocus:Nl(i),isPaused:Nl(r),activate:l,deactivate:a,pause:s,unpause:u}}const Qo=[];function Sh(t,e){let o=Xe;function n(){const r=Qo.indexOf(t);r>=0&&Qo.splice(r,1)}function i(r){o();const{open:l,onClose:a,shouldCloseOnInteractOutside:s,closeOnInteractOutside:u}=r;al(100).then(()=>{l?Qo.push(t):n()});function f(){return Fm(Qo)===t}function c(){f()&&a&&(a(),n())}function d(_){const h=_.target;Wi(h)&&h&&f()&&(_.preventDefault(),_.stopPropagation(),_.stopImmediatePropagation())}function m(_){s!=null&&s(_)&&f()&&(_.preventDefault(),_.stopPropagation(),_.stopImmediatePropagation(),c())}o=Ah(t,{onInteractOutsideStart:d,onInteractOutside:u?m:void 0,enabled:l}).destroy}return i(e),{update:i,destroy(){n(),o()}}}const nc=(t,e="body")=>{let o;if(!bt(e)&&typeof e!="string")return{destroy:Xe};async function n(r){if(e=r,typeof e=="string"){if(o=document.querySelector(e),o===null&&(await ol(),o=document.querySelector(e)),o===null)throw new Error(`No element found matching css selector: "${e}"`)}else if(e instanceof HTMLElement)o=e;else throw new TypeError(`Unknown portal target type: ${e===null?"null":typeof e}. Allowed types: string (CSS selector) or HTMLElement.`);t.dataset.portal="",o.appendChild(t),t.hidden=!1}function i(){t.remove()}return n(e),{update:n,destroy:i}};function Ah(t,e){let o=Xe,n=!1,i=!1,r=!1;function l(u){o();const{onInteractOutside:f,onInteractOutsideStart:c,enabled:d}=u;if(!d)return;function m(p){f&&os(p,t)&&(c==null||c(p));const w=p.target;Wi(w)&&oc(t,w)&&(i=!0),n=!0}function _(p){f==null||f(p)}const h=Th(t);if(typeof PointerEvent<"u"){const p=w=>{a(w)&&_(w),s()};o=Bt(dt(h,"pointerdown",m,!0),dt(h,"pointerup",p,!0))}else{const p=v=>{r?r=!1:a(v)&&_(v),s()},w=v=>{r=!0,a(v)&&_(v),s()};o=Bt(dt(h,"mousedown",m,!0),dt(h,"mouseup",p,!0),dt(h,"touchstart",m,!0),dt(h,"touchend",w,!0))}}function a(u){return!!(n&&!i&&os(u,t))}function s(){n=!1,i=!1}return l(e),{update:l,destroy:o}}function os(t,e){if("button"in t&&t.button>0)return!1;const o=t.target;if(!Wi(o))return!1;const n=o.ownerDocument;return!n||!n.documentElement.contains(o)?!1:e&&!oc(e,o)}function oc(t,e){return t===e||t.contains(e)}function Th(t){return(t==null?void 0:t.ownerDocument)??document}Cn(!1),Cn(!1),Cn(void 0);function Ih(){return{elements:{root:ft("label",{action:e=>({destroy:ht(e,"mousedown",n=>{!n.defaultPrevented&&n.detail>1&&n.preventDefault()})})})}}}const{name:_n}=Vi("dialog"),Mh={preventScroll:!0,closeOnEscape:!0,closeOnOutsideClick:!0,role:"dialog",defaultOpen:!1,portal:void 0,forceVisible:!1,openFocus:void 0,closeFocus:void 0,onOutsideClick:void 0},Oh=["content","title","description"];function ic(t){const e={...Mh,...t},o=In(Yi(e,"ids")),{preventScroll:n,closeOnEscape:i,closeOnOutsideClick:r,role:l,portal:a,forceVisible:s,openFocus:u,closeFocus:f,onOutsideClick:c}=o,d=Zt.writable(null),m=In({...ul(Oh),...e.ids}),_=e.open??Ve(e.defaultOpen),h=Ui(_,e==null?void 0:e.onOpenChange),p=en([h,s],([M,C])=>M||C);let w=Xe;function v(M){const C=M.currentTarget,k=M.currentTarget;!bt(C)||!bt(k)||(h.set(!0),d.set(k))}function S(){h.set(!1),Wl({prop:f.get(),defaultEl:d.get()})}const D=ft(_n("trigger"),{stores:[h],returned:([M])=>({"aria-haspopup":"dialog","aria-expanded":M,type:"button"}),action:M=>({destroy:Bt(ht(M,"click",k=>{v(k)}),ht(M,"keydown",k=>{k.key!==it.ENTER&&k.key!==it.SPACE||(k.preventDefault(),v(k))}))})}),j=ft(_n("overlay"),{stores:[p,h],returned:([M,C])=>({hidden:M?void 0:!0,tabindex:-1,style:fn({display:M?void 0:"none"}),"aria-hidden":!0,"data-state":C?"open":"closed"}),action:M=>{let C=Xe;if(i.get()){const k=Yl(M,{handler:()=>{S()}});k&&k.destroy&&(C=k.destroy)}return{destroy(){C()}}}}),F=ft(_n("content"),{stores:[p,m.content,m.description,m.title,h],returned:([M,C,k,N,B])=>({id:C,role:l.get(),"aria-describedby":k,"aria-labelledby":N,"aria-modal":M?"true":void 0,"data-state":B?"open":"closed",tabindex:-1,hidden:M?void 0:!0,style:fn({display:M?void 0:"none"})}),action:M=>{let C=Xe,k=Xe;const N=Bt(St([h],([B])=>{if(!B)return;const L=Ch({immediate:!1,escapeDeactivates:!0,clickOutsideDeactivates:!0,returnFocusOnDeactivate:!1,fallbackFocus:M});C=L.activate,k=L.deactivate;const J=L.useFocusTrap(M);return J&&J.destroy?J.destroy:L.deactivate}),St([r,h],([B,L])=>Sh(M,{open:L,closeOnInteractOutside:B,onClose(){S()},shouldCloseOnInteractOutside(J){var Z;return(Z=c.get())==null||Z(J),!J.defaultPrevented}}).destroy),St([i],([B])=>{if(!B)return Xe;const L=Yl(M,{handler:()=>{S()}});return L&&L.destroy?L.destroy:Xe}),St([p],([B])=>{ol().then(()=>{B?C():k()})}));return{destroy:()=>{w(),N()}}}}),R=ft(_n("portalled"),{stores:a,returned:M=>({"data-portal":Lf(M)}),action:M=>{const C=St([a],([k])=>{if(k===null)return Xe;const N=Bf(M,k);if(N===null)return Xe;const B=nc(M,N);return B&&B.destroy?B.destroy:Xe});return{destroy(){C()}}}}),P=ft(_n("title"),{stores:[m.title],returned:([M])=>({id:M})}),E=ft(_n("description"),{stores:[m.description],returned:([M])=>({id:M})}),q=ft(_n("close"),{returned:()=>({type:"button"}),action:M=>({destroy:Bt(ht(M,"click",()=>{S()}),ht(M,"keydown",k=>{k.key!==it.SPACE&&k.key!==it.ENTER||(k.preventDefault(),S())}))})});return St([h,n],([M,C])=>{if(Do){if(C&&M&&(w=lp()),M){const k=document.getElementById(m.content.get());Wl({prop:u.get(),defaultEl:k})}return()=>{s.get()||w()}}}),{ids:m,elements:{content:F,trigger:D,title:P,description:E,overlay:j,close:q,portalled:R},states:{open:h},options:o}}const Ph={defaultValue:0,max:100},{name:Nh}=Vi("progress"),Eh=t=>{const e={...Ph,...t},o=In(Yi(e,"value")),{max:n}=o,i=e.value??Ve(e.defaultValue),r=Ui(i,e==null?void 0:e.onValueChange);return{elements:{root:ft(Nh(),{stores:[r,n],returned:([a,s])=>({value:a,max:s,role:"meter","aria-valuemin":0,"aria-valuemax":s,"aria-valuenow":a,"data-value":a,"data-state":a===null?"indeterminate":a===s?"complete":"loading","data-max":s})})},states:{value:r},options:o}},Rh={orientation:"horizontal",decorative:!1},$h=t=>{const e={...Rh,...t},o=In(e),{orientation:n,decorative:i}=o;return{elements:{root:ft("separator",{stores:[n,i],returned:([l,a])=>({role:a?"none":"separator","aria-orientation":l==="vertical"?l:void 0,"aria-hidden":a,"data-orientation":l})})},options:o}},Lh={defaultValue:[],min:0,max:100,step:1,orientation:"horizontal",dir:"ltr",disabled:!1},{name:zo}=Vi("slider"),Dh=t=>{const e={...Lh,...t},o=In(Yi(e,"value","onValueChange","defaultValue")),{min:n,max:i,step:r,orientation:l,dir:a,disabled:s}=o,u=e.value??Ve(e.defaultValue),f=Ui(u,e==null?void 0:e.onValueChange),c=Zt(Ve(!1)),d=Zt(Ve(0)),m=Zt(Ve(null)),_=ul(["root"]),h=(R,P)=>{f.update(E=>{if(!E)return[R];if(E[P]===R)return E;const q=[...E],M=q[P]>R?-1:1;function C(){q[P]=q[P+M],q[P+M]=R;const L=p();L&&(L[P+M].focus(),m.set({thumb:L[P+M],index:P+M}))}if(M===-1&&R<q[P-1])return C(),q;if(M===1&&R>q[P+1])return C(),q;const k=n.get(),N=i.get(),B=r.get();return q[P]=cr(R,k,N,B),q})},p=()=>{const R=ur(_.root);return R?Array.from(R.querySelectorAll('[data-melt-part="thumb"]')).filter(P=>bt(P)):null},w=en([n,i],([R,P])=>E=>(E-R)/(P-R)*100),v=Zt.derived([l,a],([R,P])=>R==="horizontal"?P==="rtl"?"rl":"lr":P==="rtl"?"tb":"bt"),S=ft(zo(),{stores:[s,l,a],returned:([R,P,E])=>({dir:E,disabled:ar(R),"data-disabled":ar(R),"data-orientation":P,style:R?void 0:`touch-action: ${P==="horizontal"?"pan-y":"pan-x"}`,"data-melt-id":_.root})}),D=ft(zo("range"),{stores:[f,v,w],returned:([R,P,E])=>{const q=R.length>1?E(Math.min(...R)??0):0,M=100-E(Math.max(...R)??0),C={position:"absolute"};switch(P){case"lr":{C.left=`${q}%`,C.right=`${M}%`;break}case"rl":{C.right=`${q}%`,C.left=`${M}%`;break}case"bt":{C.bottom=`${q}%`,C.top=`${M}%`;break}case"tb":{C.top=`${q}%`,C.bottom=`${M}%`;break}}return{style:fn(C)}}}),j=Gl(zo("thumb"),{stores:[f,w,n,i,s,l,v],returned:([R,P,E,q,M,C,k])=>Array.from({length:R.length||1},(B,L)=>{d.get()<R.length&&d.update(ee=>ee+1);const Z=R[L],X=`${P(Z)}%`,ne={position:"absolute"};switch(k){case"lr":{ne.left=X,ne.translate="-50% 0";break}case"rl":{ne.right=X,ne.translate="50% 0";break}case"bt":{ne.bottom=X,ne.translate="0 50%";break}case"tb":{ne.top=X,ne.translate="0 -50%";break}}return{role:"slider","aria-valuemin":E,"aria-valuemax":q,"aria-valuenow":Z,"aria-disabled":ar(M),"aria-orientation":C,"data-melt-part":"thumb","data-value":Z,style:fn(ne),tabindex:M?-1:0}}),action:R=>({destroy:ht(R,"keydown",E=>{if(s.get())return;const q=E.currentTarget;if(!bt(q))return;const M=p();if(!(M!=null&&M.length))return;const C=M.indexOf(q);if(d.set(C),![it.ARROW_LEFT,it.ARROW_RIGHT,it.ARROW_UP,it.ARROW_DOWN,it.HOME,it.END].includes(E.key))return;E.preventDefault();const k=n.get(),N=i.get(),B=r.get(),L=f.get(),J=l.get(),Z=v.get(),X=L[C];switch(E.key){case it.HOME:{h(k,C);break}case it.END:{h(N,C);break}case it.ARROW_LEFT:{if(J!=="horizontal")break;E.metaKey?h(Z==="rl"?N:k,C):Z==="rl"&&X<N?h(X+B,C):Z==="lr"&&X>k&&h(X-B,C);break}case it.ARROW_RIGHT:{if(J!=="horizontal")break;E.metaKey?h(Z==="rl"?k:N,C):Z==="rl"&&X>k?h(X-B,C):Z==="lr"&&X<N&&h(X+B,C);break}case it.ARROW_UP:{E.metaKey?h(Z==="tb"?k:N,C):Z==="tb"&&X>k?h(X-B,C):Z!=="tb"&&X<N&&h(X+B,C);break}case it.ARROW_DOWN:{E.metaKey?h(Z==="tb"?N:k,C):Z==="tb"&&X<N?h(X+B,C):Z!=="tb"&&X>k&&h(X-B,C);break}}})})}),F=Gl(zo("tick"),{stores:[f,n,i,r,v],returned:([R,P,E,q,M])=>{const C=E-P;let k=Math.ceil(C/q);return C%q==0&&k++,Array.from({length:k},(N,B)=>{const L=`${B*(q/(E-P))*100}%`,J=B===0,Z=B===k-1,X=J?0:Z?-100:-50,ne={position:"absolute"};switch(M){case"lr":{ne.left=L,ne.translate=`${X}% 0`;break}case"rl":{ne.right=L,ne.translate=`${-X}% 0`;break}case"bt":{ne.bottom=L,ne.translate=`0 ${-X}%`;break}case"tb":{ne.top=L,ne.translate=`0 ${X}%`;break}}const ee=P+B*q;return{"data-bounded":(R.length===1?ee<=R[0]:R[0]<=ee&&ee<=R[R.length-1])?!0:void 0,"data-value":ee,style:fn(ne)}})}});return St([S,n,i,s,l,v,r],([R,P,E,q,M,C,k])=>{if(!Do||q)return;const N=(ne,ee,oe,we)=>{const ie=(ne-oe)/(we-oe)*(E-P)+P;if(ie<P)h(P,ee);else if(ie>E)h(E,ee);else{const qe=k,Ge=P,Ue=Math.floor((ie-Ge)/qe),ot=Ge+Ue*qe+qe/2,g=Ge+(Ue+1)*qe+qe/2,x=ie>=ot&&ie<g?(Ue+1)*qe+Ge:Ue*qe+Ge;x<=E&&h(x,ee)}},B=ne=>{const ee=p();if(!ee)return;ee.forEach(ie=>ie.blur());const oe=ee.map(ie=>{if(M==="horizontal"){const{left:qe,right:Ge}=ie.getBoundingClientRect();return Math.abs(ne.clientX-(qe+Ge)/2)}else{const{top:qe,bottom:Ge}=ie.getBoundingClientRect();return Math.abs(ne.clientY-(qe+Ge)/2)}}),we=ee[oe.indexOf(Math.min(...oe))],ae=ee.indexOf(we);return{thumb:we,index:ae}},L=ne=>{if(!c.get())return;ne.preventDefault(),ne.stopPropagation();const ee=ur(R["data-melt-id"]),oe=m.get();if(!ee||!oe)return;oe.thumb.focus();const{left:we,right:ae,top:ie,bottom:qe}=ee.getBoundingClientRect();switch(C){case"lr":{N(ne.clientX,oe.index,we,ae);break}case"rl":{N(ne.clientX,oe.index,ae,we);break}case"bt":{N(ne.clientY,oe.index,qe,ie);break}case"tb":{N(ne.clientY,oe.index,ie,qe);break}}},J=ne=>{if(ne.button!==0)return;const ee=ur(R["data-melt-id"]),oe=B(ne);if(!oe||!ee)return;const we=ne.target;!bt(we)||!ee.contains(we)||(ne.preventDefault(),m.set(oe),oe.thumb.focus(),c.set(!0),L(ne))},Z=()=>{c.set(!1)},X=Bt(dt(document,"pointerdown",J),dt(document,"pointerup",Z),dt(document,"pointerleave",Z),dt(document,"pointermove",L));return()=>{X()}}),St([r,n,i,f],function([P,E,q,M]){const C=N=>cr(N,E,q,P)===N,k=N=>cr(N,E,q,P);M.some(N=>!C(N))&&f.update(N=>N.map(k))}),{elements:{root:S,thumbs:j,range:D,ticks:F},states:{value:f},options:o}},jh={positioning:{placement:"bottom"},arrowSize:8,defaultOpen:!1,closeOnPointerDown:!0,openDelay:1e3,closeDelay:0,forceVisible:!1,portal:void 0,closeOnEscape:!0,disableHoverableContent:!1,group:void 0},{name:mr}=Vi("tooltip"),ei=new Map,Fh=["trigger","content"];function Bh(t){const e={...jh,...t},o=In(Yi(e,"open","ids")),{positioning:n,arrowSize:i,closeOnPointerDown:r,openDelay:l,closeDelay:a,forceVisible:s,portal:u,closeOnEscape:f,disableHoverableContent:c,group:d}=o,m=e.open??Ve(e.defaultOpen),_=Ui(m,e==null?void 0:e.onOpenChange),h=Ve(null),p=In({...ul(Fh),...e.ids});let w=!1;const v=C=>Do?document.getElementById(p[C].get()):null;let S=null,D=null;function j(C){D&&(window.clearTimeout(D),D=null),S||(S=window.setTimeout(()=>{_.set(!0),h.update(k=>k??C),S=null},l.get()))}function F(C){if(S&&(window.clearTimeout(S),S=null),C&&M){h.set("pointer");return}D||(D=window.setTimeout(()=>{_.set(!1),h.set(null),C&&(w=!1),D=null},a.get()))}const R=en([_,s],([C,k])=>C||k),P=ft(mr("trigger"),{stores:[p.content,p.trigger,_],returned:([C,k,N])=>({"aria-describedby":C,id:k,"data-state":N?"open":"closed"}),action:C=>{const k=B=>{f.get()&&B.key===it.ESCAPE&&(S&&(window.clearTimeout(S),S=null),_.set(!1))};return{destroy:Bt(ht(C,"pointerdown",()=>{r.get()&&(_.set(!1),w=!0,S&&(window.clearTimeout(S),S=null))}),ht(C,"pointerenter",B=>{Hl(B)||j("pointer")}),ht(C,"pointerleave",B=>{Hl(B)||S&&(window.clearTimeout(S),S=null)}),ht(C,"focus",()=>{w||j("focus")}),ht(C,"blur",async()=>{await al(0),F(!0)}),ht(C,"keydown",k),dt(document,"keydown",k))}}}),E=ft(mr("content"),{stores:[R,_,u,p.content],returned:([C,k,N,B])=>({role:"tooltip",hidden:C?void 0:!0,tabindex:-1,style:fn({display:C?void 0:"none"}),id:B,"data-portal":Lf(N),"data-state":k?"open":"closed"}),action:C=>{let k=Xe,N=Xe;const B=St([R,n,u],([Z,X,ne])=>{const ee=v("trigger");if(!Z||!ee){N(),k();return}if(k=Xp(ee,C,X).destroy,ne===null){N();return}const we=Bf(C,ne);if(we){const ae=nc(C,we);ae&&ae.destroy&&(N=ae.destroy)}});function L(Z){if(!_.get())return;const X=Z.target;if(!Wi(X)&&!Bm(X))return;const ne=v("trigger");ne&&X.contains(ne)&&F()}const J=Bt(ht(C,"pointerenter",()=>j("pointer")),ht(C,"pointerdown",()=>j("pointer")),dt(window,"scroll",L,{capture:!0}));return{destroy(){J(),N(),k(),B()}}}}),q=ft(mr("arrow"),{stores:i,returned:C=>({"data-arrow":!0,style:fn({position:"absolute",width:`var(--arrow-size, ${C}px)`,height:`var(--arrow-size, ${C}px)`})})});let M=!1;return St(_,C=>{const k=d.get();if(k===void 0||k===!1)return;if(!C){ei.get(k)===_&&ei.delete(k);return}const N=ei.get(k);N==null||N.set(!1),ei.set(k,_)}),St([_,h],([C,k])=>{if(!(!C||!Do))return Bt(dt(document,"mousemove",N=>{const B=v("content"),L=v("trigger");if(!B||!L)return;const J=c.get()?[L]:[L,B],Z=np(J);M=op({x:N.clientX,y:N.clientY},Z),k==="pointer"&&(M||F())}))}),{ids:p,elements:{trigger:P,content:E,arrow:q},states:{open:_},options:o}}function Rn(t,e){const o={};return e.forEach(n=>{o[n]={[`data-${t}-${n}`]:""}}),n=>o[n]}function uo(){const t=vd();return e=>{const{originalEvent:o}=e.detail,{cancelable:n}=e,i=o.type;t(i,{originalEvent:o,currentTarget:o.currentTarget},{cancelable:n})||e.preventDefault()}}function fo(t){const e={};for(const o in t){const n=t[o];n!==void 0&&(e[o]=n)}return e}function Pn(t){return function(e,o){if(o===void 0)return;const n=t[e];n&&n.set(o)}}function rc(){return{NAME:"alert-dialog",PARTS:["action","cancel","content","description","overlay","portal","title","trigger"]}}function qh(t){const{NAME:e,PARTS:o}=rc(),n=Rn(e,o),i=ic({...fo(t),role:"alertdialog",forceVisible:!0}),r={...i,getAttrs:n,updateOption:Pn(i.options)};return Gi(e,r),{...r,updateOption:Pn(r.options),getAttrs:n}}function $n(){const{NAME:t}=rc();return Hi(t)}const xh=t=>({ids:t&1}),is=t=>({ids:t[0]});function Gh(t){let e;const o=t[12].default,n=ge(o,t,t[11],is);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,[r]){n&&n.p&&(!e||r&2049)&&be(n,o,i,i[11],e?_e(o,i[11],r,xh):ve(i[11]),is)},i(i){e||(y(n,i),e=!0)},o(i){A(n,i),e=!1},d(i){n&&n.d(i)}}}function Hh(t,e,o){let n,{$$slots:i={},$$scope:r}=e,{preventScroll:l=void 0}=e,{closeOnEscape:a=void 0}=e,{closeOnOutsideClick:s=!1}=e,{portal:u=void 0}=e,{open:f=void 0}=e,{onOpenChange:c=void 0}=e,{openFocus:d=void 0}=e,{closeFocus:m=void 0}=e,{onOutsideClick:_=void 0}=e;const{states:{open:h},updateOption:p,ids:w}=qh({closeOnEscape:a,preventScroll:l,closeOnOutsideClick:s,portal:u,forceVisible:!0,defaultOpen:f,openFocus:d,closeFocus:m,onOutsideClick:_,onOpenChange:({next:S})=>(f!==S&&(c==null||c(S),o(2,f=S)),S)}),v=en([w.content,w.description,w.title],([S,D,j])=>({content:S,description:D,title:j}));return se(t,v,S=>o(0,n=S)),t.$$set=S=>{"preventScroll"in S&&o(3,l=S.preventScroll),"closeOnEscape"in S&&o(4,a=S.closeOnEscape),"closeOnOutsideClick"in S&&o(5,s=S.closeOnOutsideClick),"portal"in S&&o(6,u=S.portal),"open"in S&&o(2,f=S.open),"onOpenChange"in S&&o(7,c=S.onOpenChange),"openFocus"in S&&o(8,d=S.openFocus),"closeFocus"in S&&o(9,m=S.closeFocus),"onOutsideClick"in S&&o(10,_=S.onOutsideClick),"$$scope"in S&&o(11,r=S.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&f!==void 0&&h.set(f),t.$$.dirty&8&&p("preventScroll",l),t.$$.dirty&16&&p("closeOnEscape",a),t.$$.dirty&32&&p("closeOnOutsideClick",s),t.$$.dirty&64&&p("portal",u),t.$$.dirty&256&&p("openFocus",d),t.$$.dirty&512&&p("closeFocus",m),t.$$.dirty&1024&&p("onOutsideClick",_)},[n,v,f,l,a,s,u,c,d,m,_,r,i]}class Vh extends he{constructor(e){super(),pe(this,e,Hh,Gh,de,{preventScroll:3,closeOnEscape:4,closeOnOutsideClick:5,portal:6,open:2,onOpenChange:7,openFocus:8,closeFocus:9,onOutsideClick:10})}}const Wh=t=>({builder:t&8}),rs=t=>({builder:t[3]}),Yh=t=>({builder:t&8}),ls=t=>({builder:t[3]});function Uh(t){let e=t[1],o,n,i=t[1]&&pr(t);return{c(){i&&i.c(),o=Le()},m(r,l){i&&i.m(r,l),O(r,o,l),n=!0},p(r,l){r[1]?e?de(e,r[1])?(i.d(1),i=pr(r),e=r[1],i.c(),i.m(o.parentNode,o)):i.p(r,l):(i=pr(r),e=r[1],i.c(),i.m(o.parentNode,o)):e&&(i.d(1),i=null,e=r[1])},i(r){n||(y(i,r),n=!0)},o(r){A(i,r),n=!1},d(r){r&&I(o),i&&i.d(r)}}}function Kh(t){let e;const o=t[9].default,n=ge(o,t,t[8],ls);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&264)&&be(n,o,i,i[8],e?_e(o,i[8],r,Yh):ve(i[8]),ls)},i(i){e||(y(n,i),e=!0)},o(i){A(n,i),e=!1},d(i){n&&n.d(i)}}}function pr(t){let e,o,n,i;const r=t[9].default,l=ge(r,t,t[8],rs);let a=[t[3],t[5]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=T(t[1]),l&&l.c(),cn(t[1])(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[10](e),o=!0,n||(i=Be(t[3].action(e)),n=!0)},p(u,f){l&&l.p&&(!o||f&264)&&be(l,r,u,u[8],o?_e(r,u[8],f,Wh):ve(u[8]),rs),cn(u[1])(e,s=Se(a,[f&8&&u[3],f&32&&u[5]]))},i(u){o||(y(l,u),o=!0)},o(u){A(l,u),o=!1},d(u){u&&I(e),l&&l.d(u),t[10](null),n=!1,i()}}}function Jh(t){let e,o,n,i;const r=[Kh,Uh],l=[];function a(s,u){return s[2]?0:1}return e=a(t),o=l[e]=r[e](t),{c(){o.c(),n=Le()},m(s,u){l[e].m(s,u),O(s,n,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),A(l[f],1,1,()=>{l[f]=null}),Me(),o=l[e],o?o.p(s,u):(o=l[e]=r[e](s),o.c()),y(o,1),o.m(n.parentNode,n))},i(s){i||(y(o),i=!0)},o(s){A(o),i=!1},d(s){s&&I(n),l[e].d(s)}}}function Xh(t,e,o){let n;const i=["level","asChild","id","el"];let r=ue(e,i),l,{$$slots:a={},$$scope:s}=e,{level:u="h2"}=e,{asChild:f=!1}=e,{id:c=void 0}=e,{el:d=void 0}=e;const{elements:{title:m},ids:_,getAttrs:h}=$n();se(t,m,v=>o(7,l=v));const p=h("title");function w(v){Ne[v?"unshift":"push"](()=>{d=v,o(0,d)})}return t.$$set=v=>{e=Q(Q({},e),$e(v)),o(5,r=ue(e,i)),"level"in v&&o(1,u=v.level),"asChild"in v&&o(2,f=v.asChild),"id"in v&&o(6,c=v.id),"el"in v&&o(0,d=v.el),"$$scope"in v&&o(8,s=v.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&c&&_.title.set(c),t.$$.dirty&128&&o(3,n=l),t.$$.dirty&8&&Object.assign(n,p)},[d,u,f,n,m,r,c,l,s,a,w]}let Zh=class extends he{constructor(e){super(),pe(this,e,Xh,Jh,de,{level:1,asChild:2,id:6,el:0})}};const Qh=t=>({builder:t&4}),ss=t=>({builder:t[2]}),zh=t=>({builder:t&4}),as=t=>({builder:t[2]});function eg(t){let e,o,n,i;const r=t[8].default,l=ge(r,t,t[7],ss);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=T("button"),l&&l.c(),fe(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[9](e),o=!0,n||(i=[Be(t[2].action(e)),z(e,"m-click",t[4]),z(e,"m-keydown",t[4])],n=!0)},p(u,f){l&&l.p&&(!o||f&132)&&be(l,r,u,u[7],o?_e(r,u[7],f,Qh):ve(u[7]),ss),fe(e,s=Se(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){o||(y(l,u),o=!0)},o(u){A(l,u),o=!1},d(u){u&&I(e),l&&l.d(u),t[9](null),n=!1,xe(i)}}}function tg(t){let e;const o=t[8].default,n=ge(o,t,t[7],as);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&132)&&be(n,o,i,i[7],e?_e(o,i[7],r,zh):ve(i[7]),as)},i(i){e||(y(n,i),e=!0)},o(i){A(n,i),e=!1},d(i){n&&n.d(i)}}}function ng(t){let e,o,n,i;const r=[tg,eg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),o=l[e]=r[e](t),{c(){o.c(),n=Le()},m(s,u){l[e].m(s,u),O(s,n,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),A(l[f],1,1,()=>{l[f]=null}),Me(),o=l[e],o?o.p(s,u):(o=l[e]=r[e](s),o.c()),y(o,1),o.m(n.parentNode,n))},i(s){i||(y(o),i=!0)},o(s){A(o),i=!1},d(s){s&&I(n),l[e].d(s)}}}function og(t,e,o){let n;const i=["asChild","el"];let r=ue(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:d}=$n();se(t,c,p=>o(6,l=p));const m=uo(),_=d("action");function h(p){Ne[p?"unshift":"push"](()=>{f=p,o(0,f)})}return t.$$set=p=>{e=Q(Q({},e),$e(p)),o(5,r=ue(e,i)),"asChild"in p&&o(1,u=p.asChild),"el"in p&&o(0,f=p.el),"$$scope"in p&&o(7,s=p.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&o(2,n=l),t.$$.dirty&4&&Object.assign(n,_)},[f,u,n,c,m,r,l,s,a,h]}let ig=class extends he{constructor(e){super(),pe(this,e,og,ng,de,{asChild:1,el:0})}};const rg=t=>({builder:t&4}),us=t=>({builder:t[2]}),lg=t=>({builder:t&4}),fs=t=>({builder:t[2]});function sg(t){let e,o,n,i;const r=t[8].default,l=ge(r,t,t[7],us);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=T("button"),l&&l.c(),fe(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[9](e),o=!0,n||(i=[Be(t[2].action(e)),z(e,"m-click",t[4]),z(e,"m-keydown",t[4])],n=!0)},p(u,f){l&&l.p&&(!o||f&132)&&be(l,r,u,u[7],o?_e(r,u[7],f,rg):ve(u[7]),us),fe(e,s=Se(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){o||(y(l,u),o=!0)},o(u){A(l,u),o=!1},d(u){u&&I(e),l&&l.d(u),t[9](null),n=!1,xe(i)}}}function ag(t){let e;const o=t[8].default,n=ge(o,t,t[7],fs);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&132)&&be(n,o,i,i[7],e?_e(o,i[7],r,lg):ve(i[7]),fs)},i(i){e||(y(n,i),e=!0)},o(i){A(n,i),e=!1},d(i){n&&n.d(i)}}}function ug(t){let e,o,n,i;const r=[ag,sg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),o=l[e]=r[e](t),{c(){o.c(),n=Le()},m(s,u){l[e].m(s,u),O(s,n,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),A(l[f],1,1,()=>{l[f]=null}),Me(),o=l[e],o?o.p(s,u):(o=l[e]=r[e](s),o.c()),y(o,1),o.m(n.parentNode,n))},i(s){i||(y(o),i=!0)},o(s){A(o),i=!1},d(s){s&&I(n),l[e].d(s)}}}function fg(t,e,o){let n;const i=["asChild","el"];let r=ue(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:d}=$n();se(t,c,p=>o(6,l=p));const m=uo(),_=d("cancel");function h(p){Ne[p?"unshift":"push"](()=>{f=p,o(0,f)})}return t.$$set=p=>{e=Q(Q({},e),$e(p)),o(5,r=ue(e,i)),"asChild"in p&&o(1,u=p.asChild),"el"in p&&o(0,f=p.el),"$$scope"in p&&o(7,s=p.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&o(2,n=l),t.$$.dirty&4&&Object.assign(n,_)},[f,u,n,c,m,r,l,s,a,h]}let cg=class extends he{constructor(e){super(),pe(this,e,fg,ug,de,{asChild:1,el:0})}};const dg=t=>({builder:t&4}),cs=t=>({builder:t[2]}),mg=t=>({builder:t&4}),ds=t=>({builder:t[2]});function pg(t){let e,o,n,i;const r=t[7].default,l=ge(r,t,t[6],cs);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=T("div"),l&&l.c(),fe(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[8](e),o=!0,n||(i=Be(t[2].action(e)),n=!0)},p(u,f){l&&l.p&&(!o||f&68)&&be(l,r,u,u[6],o?_e(r,u[6],f,dg):ve(u[6]),cs),fe(e,s=Se(a,[f&4&&u[2],f&16&&u[4]]))},i(u){o||(y(l,u),o=!0)},o(u){A(l,u),o=!1},d(u){u&&I(e),l&&l.d(u),t[8](null),n=!1,i()}}}function hg(t){let e;const o=t[7].default,n=ge(o,t,t[6],ds);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&68)&&be(n,o,i,i[6],e?_e(o,i[6],r,mg):ve(i[6]),ds)},i(i){e||(y(n,i),e=!0)},o(i){A(n,i),e=!1},d(i){n&&n.d(i)}}}function gg(t){let e,o,n,i;const r=[hg,pg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),o=l[e]=r[e](t),{c(){o.c(),n=Le()},m(s,u){l[e].m(s,u),O(s,n,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),A(l[f],1,1,()=>{l[f]=null}),Me(),o=l[e],o?o.p(s,u):(o=l[e]=r[e](s),o.c()),y(o,1),o.m(n.parentNode,n))},i(s){i||(y(o),i=!0)},o(s){A(o),i=!1},d(s){s&&I(n),l[e].d(s)}}}function _g(t,e,o){let n;const i=["asChild","el"];let r=ue(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{portalled:c},getAttrs:d}=$n();se(t,c,h=>o(5,l=h));const m=d("portal");function _(h){Ne[h?"unshift":"push"](()=>{f=h,o(0,f)})}return t.$$set=h=>{e=Q(Q({},e),$e(h)),o(4,r=ue(e,i)),"asChild"in h&&o(1,u=h.asChild),"el"in h&&o(0,f=h.el),"$$scope"in h&&o(6,s=h.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&o(2,n=l),t.$$.dirty&4&&Object.assign(n,m)},[f,u,n,c,r,l,s,a,_]}let bg=class extends he{constructor(e){super(),pe(this,e,_g,gg,de,{asChild:1,el:0})}};const vg=t=>({builder:t[0]&256}),ms=t=>({builder:t[8]}),yg=t=>({builder:t[0]&256}),ps=t=>({builder:t[8]}),wg=t=>({builder:t[0]&256}),hs=t=>({builder:t[8]}),kg=t=>({builder:t[0]&256}),gs=t=>({builder:t[8]}),Cg=t=>({builder:t[0]&256}),_s=t=>({builder:t[8]}),Sg=t=>({builder:t[0]&256}),bs=t=>({builder:t[8]});function Ag(t){let e,o,n,i;const r=t[16].default,l=ge(r,t,t[15],ms);let a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=T("div"),l&&l.c(),fe(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[56](e),o=!0,n||(i=[Be(t[8].action(e)),z(e,"pointerdown",t[45]),z(e,"pointermove",t[46]),z(e,"pointerup",t[47]),z(e,"touchend",t[48]),z(e,"touchstart",t[49]),z(e,"touchcancel",t[50]),z(e,"touchmove",t[51])],n=!0)},p(u,f){l&&l.p&&(!o||f[0]&33024)&&be(l,r,u,u[15],o?_e(r,u[15],f,vg):ve(u[15]),ms),fe(e,s=Se(a,[f[0]&256&&u[8],f[0]&4096&&u[12]]))},i(u){o||(y(l,u),o=!0)},o(u){A(l,u),o=!1},d(u){u&&I(e),l&&l.d(u),t[56](null),n=!1,xe(i)}}}function Tg(t){let e,o,n,i,r;const l=t[16].default,a=ge(l,t,t[15],ps);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=T("div"),a&&a.c(),fe(e,u)},m(f,c){O(f,e,c),a&&a.m(e,null),t[55](e),n=!0,i||(r=[Be(t[8].action(e)),z(e,"pointerdown",t[38]),z(e,"pointermove",t[39]),z(e,"pointerup",t[40]),z(e,"touchend",t[41]),z(e,"touchstart",t[42]),z(e,"touchcancel",t[43]),z(e,"touchmove",t[44])],i=!0)},p(f,c){t=f,a&&a.p&&(!n||c[0]&33024)&&be(a,l,t,t[15],n?_e(l,t[15],c,yg):ve(t[15]),ps),fe(e,u=Se(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){n||(y(a,f),o&&o.end(1),n=!0)},o(f){A(a,f),f&&(o=Vt(e,t[5],t[6])),n=!1},d(f){f&&I(e),a&&a.d(f),t[55](null),f&&o&&o.end(),i=!1,xe(r)}}}function Ig(t){let e,o,n,i,r;const l=t[16].default,a=ge(l,t,t[15],hs);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=T("div"),a&&a.c(),fe(e,u)},m(f,c){O(f,e,c),a&&a.m(e,null),t[54](e),n=!0,i||(r=[Be(t[8].action(e)),z(e,"pointerdown",t[31]),z(e,"pointermove",t[32]),z(e,"pointerup",t[33]),z(e,"touchend",t[34]),z(e,"touchstart",t[35]),z(e,"touchcancel",t[36]),z(e,"touchmove",t[37])],i=!0)},p(f,c){t=f,a&&a.p&&(!n||c[0]&33024)&&be(a,l,t,t[15],n?_e(l,t[15],c,wg):ve(t[15]),hs),fe(e,u=Se(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){n||(y(a,f),f&&(o||ze(()=>{o=Ht(e,t[3],t[4]),o.start()})),n=!0)},o(f){A(a,f),n=!1},d(f){f&&I(e),a&&a.d(f),t[54](null),i=!1,xe(r)}}}function Mg(t){let e,o,n,i,r,l;const a=t[16].default,s=ge(a,t,t[15],gs);let u=[t[8],t[12]],f={};for(let c=0;c<u.length;c+=1)f=Q(f,u[c]);return{c(){e=T("div"),s&&s.c(),fe(e,f)},m(c,d){O(c,e,d),s&&s.m(e,null),t[53](e),i=!0,r||(l=[Be(t[8].action(e)),z(e,"pointerdown",t[24]),z(e,"pointermove",t[25]),z(e,"pointerup",t[26]),z(e,"touchend",t[27]),z(e,"touchstart",t[28]),z(e,"touchcancel",t[29]),z(e,"touchmove",t[30])],r=!0)},p(c,d){t=c,s&&s.p&&(!i||d[0]&33024)&&be(s,a,t,t[15],i?_e(a,t[15],d,kg):ve(t[15]),gs),fe(e,f=Se(u,[d[0]&256&&t[8],d[0]&4096&&t[12]]))},i(c){i||(y(s,c),c&&ze(()=>{i&&(n&&n.end(1),o=Ht(e,t[3],t[4]),o.start())}),i=!0)},o(c){A(s,c),o&&o.invalidate(),c&&(n=Vt(e,t[5],t[6])),i=!1},d(c){c&&I(e),s&&s.d(c),t[53](null),c&&n&&n.end(),r=!1,xe(l)}}}function Og(t){let e,o,n,i,r;const l=t[16].default,a=ge(l,t,t[15],_s);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=T("div"),a&&a.c(),fe(e,u)},m(f,c){O(f,e,c),a&&a.m(e,null),t[52](e),n=!0,i||(r=[Be(t[8].action(e)),z(e,"pointerdown",t[17]),z(e,"pointermove",t[18]),z(e,"pointerup",t[19]),z(e,"touchend",t[20]),z(e,"touchstart",t[21]),z(e,"touchcancel",t[22]),z(e,"touchmove",t[23])],i=!0)},p(f,c){t=f,a&&a.p&&(!n||c[0]&33024)&&be(a,l,t,t[15],n?_e(l,t[15],c,Cg):ve(t[15]),_s),fe(e,u=Se(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){n||(y(a,f),f&&ze(()=>{n&&(o||(o=gt(e,t[1],t[2],!0)),o.run(1))}),n=!0)},o(f){A(a,f),f&&(o||(o=gt(e,t[1],t[2],!1)),o.run(0)),n=!1},d(f){f&&I(e),a&&a.d(f),t[52](null),f&&o&&o.end(),i=!1,xe(r)}}}function Pg(t){let e;const o=t[16].default,n=ge(o,t,t[15],bs);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r[0]&33024)&&be(n,o,i,i[15],e?_e(o,i[15],r,Sg):ve(i[15]),bs)},i(i){e||(y(n,i),e=!0)},o(i){A(n,i),e=!1},d(i){n&&n.d(i)}}}function Ng(t){let e,o,n,i;const r=[Pg,Og,Mg,Ig,Tg,Ag],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(o=l[e]=r[e](t)),{c(){o&&o.c(),n=Le()},m(s,u){~e&&l[e].m(s,u),O(s,n,u),i=!0},p(s,u){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(o&&(Ie(),A(l[f],1,1,()=>{l[f]=null}),Me()),~e?(o=l[e],o?o.p(s,u):(o=l[e]=r[e](s),o.c()),y(o,1),o.m(n.parentNode,n)):o=null)},i(s){i||(y(o),i=!0)},o(s){A(o),i=!1},d(s){s&&I(n),~e&&l[e].d(s)}}}function Eg(t,e,o){let n;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","id","asChild","el"];let r=ue(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:_=void 0}=e,{outTransitionConfig:h=void 0}=e,{id:p=void 0}=e,{asChild:w=!1}=e,{el:v=void 0}=e;const{elements:{content:S},states:{open:D},ids:j,getAttrs:F}=$n();se(t,S,G=>o(14,l=G)),se(t,D,G=>o(9,a=G));const R=F("content");function P(G){re.call(this,t,G)}function E(G){re.call(this,t,G)}function q(G){re.call(this,t,G)}function M(G){re.call(this,t,G)}function C(G){re.call(this,t,G)}function k(G){re.call(this,t,G)}function N(G){re.call(this,t,G)}function B(G){re.call(this,t,G)}function L(G){re.call(this,t,G)}function J(G){re.call(this,t,G)}function Z(G){re.call(this,t,G)}function X(G){re.call(this,t,G)}function ne(G){re.call(this,t,G)}function ee(G){re.call(this,t,G)}function oe(G){re.call(this,t,G)}function we(G){re.call(this,t,G)}function ae(G){re.call(this,t,G)}function ie(G){re.call(this,t,G)}function qe(G){re.call(this,t,G)}function Ge(G){re.call(this,t,G)}function Ue(G){re.call(this,t,G)}function ot(G){re.call(this,t,G)}function g(G){re.call(this,t,G)}function x(G){re.call(this,t,G)}function V(G){re.call(this,t,G)}function le(G){re.call(this,t,G)}function me(G){re.call(this,t,G)}function Ce(G){re.call(this,t,G)}function Pe(G){re.call(this,t,G)}function Ee(G){re.call(this,t,G)}function We(G){re.call(this,t,G)}function Re(G){re.call(this,t,G)}function ke(G){re.call(this,t,G)}function Ye(G){re.call(this,t,G)}function zi(G){re.call(this,t,G)}function er(G){Ne[G?"unshift":"push"](()=>{v=G,o(0,v)})}function tr(G){Ne[G?"unshift":"push"](()=>{v=G,o(0,v)})}function nr(G){Ne[G?"unshift":"push"](()=>{v=G,o(0,v)})}function or(G){Ne[G?"unshift":"push"](()=>{v=G,o(0,v)})}function ir(G){Ne[G?"unshift":"push"](()=>{v=G,o(0,v)})}return t.$$set=G=>{e=Q(Q({},e),$e(G)),o(12,r=ue(e,i)),"transition"in G&&o(1,f=G.transition),"transitionConfig"in G&&o(2,c=G.transitionConfig),"inTransition"in G&&o(3,d=G.inTransition),"inTransitionConfig"in G&&o(4,m=G.inTransitionConfig),"outTransition"in G&&o(5,_=G.outTransition),"outTransitionConfig"in G&&o(6,h=G.outTransitionConfig),"id"in G&&o(13,p=G.id),"asChild"in G&&o(7,w=G.asChild),"el"in G&&o(0,v=G.el),"$$scope"in G&&o(15,u=G.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&8192&&p&&j.content.set(p),t.$$.dirty[0]&16384&&o(8,n=l),t.$$.dirty[0]&256&&Object.assign(n,R)},[v,f,c,d,m,_,h,w,n,a,S,D,r,p,l,u,s,P,E,q,M,C,k,N,B,L,J,Z,X,ne,ee,oe,we,ae,ie,qe,Ge,Ue,ot,g,x,V,le,me,Ce,Pe,Ee,We,Re,ke,Ye,zi,er,tr,nr,or,ir]}let Rg=class extends he{constructor(e){super(),pe(this,e,Eg,Ng,de,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,id:13,asChild:7,el:0},null,[-1,-1])}};const $g=t=>({builder:t&256}),vs=t=>({builder:t[8]});function Lg(t){let e,o,n,i=[t[8],t[12]],r={};for(let l=0;l<i.length;l+=1)r=Q(r,i[l]);return{c(){e=T("div"),fe(e,r)},m(l,a){O(l,e,a),t[20](e),o||(n=Be(t[8].action(e)),o=!0)},p(l,a){fe(e,r=Se(i,[a&256&&l[8],a&4096&&l[12]]))},i:Te,o:Te,d(l){l&&I(e),t[20](null),o=!1,n()}}}function Dg(t){let e,o,n,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=Q(a,l[s]);return{c(){e=T("div"),fe(e,a)},m(s,u){O(s,e,u),t[19](e),n=!0,i||(r=Be(t[8].action(e)),i=!0)},p(s,u){t=s,fe(e,a=Se(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){n||(o&&o.end(1),n=!0)},o(s){s&&(o=Vt(e,t[5],t[6])),n=!1},d(s){s&&I(e),t[19](null),s&&o&&o.end(),i=!1,r()}}}function jg(t){let e,o,n,i,r=[t[8],t[12]],l={};for(let a=0;a<r.length;a+=1)l=Q(l,r[a]);return{c(){e=T("div"),fe(e,l)},m(a,s){O(a,e,s),t[18](e),n||(i=Be(t[8].action(e)),n=!0)},p(a,s){t=a,fe(e,l=Se(r,[s&256&&t[8],s&4096&&t[12]]))},i(a){a&&(o||ze(()=>{o=Ht(e,t[3],t[4]),o.start()}))},o:Te,d(a){a&&I(e),t[18](null),n=!1,i()}}}function Fg(t){let e,o,n,i,r,l,a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=T("div"),fe(e,s)},m(u,f){O(u,e,f),t[17](e),i=!0,r||(l=Be(t[8].action(e)),r=!0)},p(u,f){t=u,fe(e,s=Se(a,[f&256&&t[8],f&4096&&t[12]]))},i(u){i||(u&&ze(()=>{i&&(n&&n.end(1),o=Ht(e,t[3],t[4]),o.start())}),i=!0)},o(u){o&&o.invalidate(),u&&(n=Vt(e,t[5],t[6])),i=!1},d(u){u&&I(e),t[17](null),u&&n&&n.end(),r=!1,l()}}}function Bg(t){let e,o,n,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=Q(a,l[s]);return{c(){e=T("div"),fe(e,a)},m(s,u){O(s,e,u),t[16](e),n=!0,i||(r=Be(t[8].action(e)),i=!0)},p(s,u){t=s,fe(e,a=Se(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){n||(s&&ze(()=>{n&&(o||(o=gt(e,t[1],t[2],!0)),o.run(1))}),n=!0)},o(s){s&&(o||(o=gt(e,t[1],t[2],!1)),o.run(0)),n=!1},d(s){s&&I(e),t[16](null),s&&o&&o.end(),i=!1,r()}}}function qg(t){let e;const o=t[15].default,n=ge(o,t,t[14],vs);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&16640)&&be(n,o,i,i[14],e?_e(o,i[14],r,$g):ve(i[14]),vs)},i(i){e||(y(n,i),e=!0)},o(i){A(n,i),e=!1},d(i){n&&n.d(i)}}}function xg(t){let e,o,n,i;const r=[qg,Bg,Fg,jg,Dg,Lg],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(o=l[e]=r[e](t)),{c(){o&&o.c(),n=Le()},m(s,u){~e&&l[e].m(s,u),O(s,n,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(o&&(Ie(),A(l[f],1,1,()=>{l[f]=null}),Me()),~e?(o=l[e],o?o.p(s,u):(o=l[e]=r[e](s),o.c()),y(o,1),o.m(n.parentNode,n)):o=null)},i(s){i||(y(o),i=!0)},o(s){A(o),i=!1},d(s){s&&I(n),~e&&l[e].d(s)}}}function Gg(t,e,o){let n;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","el"];let r=ue(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:_=void 0}=e,{outTransitionConfig:h=void 0}=e,{asChild:p=!1}=e,{el:w=void 0}=e;const{elements:{overlay:v},states:{open:S},getAttrs:D}=$n();se(t,v,M=>o(13,l=M)),se(t,S,M=>o(9,a=M));const j=D("overlay");function F(M){Ne[M?"unshift":"push"](()=>{w=M,o(0,w)})}function R(M){Ne[M?"unshift":"push"](()=>{w=M,o(0,w)})}function P(M){Ne[M?"unshift":"push"](()=>{w=M,o(0,w)})}function E(M){Ne[M?"unshift":"push"](()=>{w=M,o(0,w)})}function q(M){Ne[M?"unshift":"push"](()=>{w=M,o(0,w)})}return t.$$set=M=>{e=Q(Q({},e),$e(M)),o(12,r=ue(e,i)),"transition"in M&&o(1,f=M.transition),"transitionConfig"in M&&o(2,c=M.transitionConfig),"inTransition"in M&&o(3,d=M.inTransition),"inTransitionConfig"in M&&o(4,m=M.inTransitionConfig),"outTransition"in M&&o(5,_=M.outTransition),"outTransitionConfig"in M&&o(6,h=M.outTransitionConfig),"asChild"in M&&o(7,p=M.asChild),"el"in M&&o(0,w=M.el),"$$scope"in M&&o(14,u=M.$$scope)},t.$$.update=()=>{t.$$.dirty&8192&&o(8,n=l),t.$$.dirty&256&&Object.assign(n,j)},[w,f,c,d,m,_,h,p,n,a,v,S,r,l,u,s,F,R,P,E,q]}let Hg=class extends he{constructor(e){super(),pe(this,e,Gg,xg,de,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,el:0})}};const Vg=t=>({builder:t&4}),ys=t=>({builder:t[2]}),Wg=t=>({builder:t&4}),ws=t=>({builder:t[2]});function Yg(t){let e,o,n,i;const r=t[8].default,l=ge(r,t,t[7],ys);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=T("div"),l&&l.c(),fe(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[9](e),o=!0,n||(i=Be(t[2].action(e)),n=!0)},p(u,f){l&&l.p&&(!o||f&132)&&be(l,r,u,u[7],o?_e(r,u[7],f,Vg):ve(u[7]),ys),fe(e,s=Se(a,[f&4&&u[2],f&16&&u[4]]))},i(u){o||(y(l,u),o=!0)},o(u){A(l,u),o=!1},d(u){u&&I(e),l&&l.d(u),t[9](null),n=!1,i()}}}function Ug(t){let e;const o=t[8].default,n=ge(o,t,t[7],ws);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&132)&&be(n,o,i,i[7],e?_e(o,i[7],r,Wg):ve(i[7]),ws)},i(i){e||(y(n,i),e=!0)},o(i){A(n,i),e=!1},d(i){n&&n.d(i)}}}function Kg(t){let e,o,n,i;const r=[Ug,Yg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),o=l[e]=r[e](t),{c(){o.c(),n=Le()},m(s,u){l[e].m(s,u),O(s,n,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),A(l[f],1,1,()=>{l[f]=null}),Me(),o=l[e],o?o.p(s,u):(o=l[e]=r[e](s),o.c()),y(o,1),o.m(n.parentNode,n))},i(s){i||(y(o),i=!0)},o(s){A(o),i=!1},d(s){s&&I(n),l[e].d(s)}}}function Jg(t,e,o){let n;const i=["asChild","id","el"];let r=ue(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{description:d},ids:m,getAttrs:_}=$n();se(t,d,w=>o(6,l=w));const h=_("description");function p(w){Ne[w?"unshift":"push"](()=>{c=w,o(0,c)})}return t.$$set=w=>{e=Q(Q({},e),$e(w)),o(4,r=ue(e,i)),"asChild"in w&&o(1,u=w.asChild),"id"in w&&o(5,f=w.id),"el"in w&&o(0,c=w.el),"$$scope"in w&&o(7,s=w.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f&&m.description.set(f),t.$$.dirty&64&&o(2,n=l),t.$$.dirty&4&&Object.assign(n,h)},[c,u,n,d,r,f,l,s,a,p]}let Xg=class extends he{constructor(e){super(),pe(this,e,Jg,Kg,de,{asChild:1,id:5,el:0})}};function Zg(t,e){const o=[];return e.builders.forEach(n=>{const i=n.action(t);i&&o.push(i)}),{destroy:()=>{o.forEach(n=>{n.destroy&&n.destroy()})}}}function ks(t){const e={};return t.forEach(o=>{Object.keys(o).forEach(n=>{n!=="action"&&(e[n]=o[n])})}),e}function Qg(t){let e=t[1]?"a":"button",o,n,i=(t[1]?"a":"button")&&hr(t);return{c(){i&&i.c(),o=Le()},m(r,l){i&&i.m(r,l),O(r,o,l),n=!0},p(r,l){r[1],e?de(e,r[1]?"a":"button")?(i.d(1),i=hr(r),e=r[1]?"a":"button",i.c(),i.m(o.parentNode,o)):i.p(r,l):(i=hr(r),e=r[1]?"a":"button",i.c(),i.m(o.parentNode,o))},i(r){n||(y(i,r),n=!0)},o(r){A(i,r),n=!1},d(r){r&&I(o),i&&i.d(r)}}}function zg(t){let e=t[1]?"a":"button",o,n,i=(t[1]?"a":"button")&&gr(t);return{c(){i&&i.c(),o=Le()},m(r,l){i&&i.m(r,l),O(r,o,l),n=!0},p(r,l){r[1],e?de(e,r[1]?"a":"button")?(i.d(1),i=gr(r),e=r[1]?"a":"button",i.c(),i.m(o.parentNode,o)):i.p(r,l):(i=gr(r),e=r[1]?"a":"button",i.c(),i.m(o.parentNode,o))},i(r){n||(y(i,r),n=!0)},o(r){A(i,r),n=!1},d(r){r&&I(o),i&&i.d(r)}}}function hr(t){let e,o,n,i,r;const l=t[7].default,a=ge(l,t,t[6],null);let s=[{type:o=t[1]?void 0:t[2]},{href:t[1]},{tabindex:"0"},t[5],t[4]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=T(t[1]?"a":"button"),a&&a.c(),cn(t[1]?"a":"button")(e,u)},m(f,c){O(f,e,c),a&&a.m(e,null),n=!0,i||(r=[z(e,"click",t[14]),z(e,"change",t[15]),z(e,"keydown",t[16]),z(e,"keyup",t[17]),z(e,"mouseenter",t[18]),z(e,"mouseleave",t[19])],i=!0)},p(f,c){a&&a.p&&(!n||c&64)&&be(a,l,f,f[6],n?_e(l,f[6],c,null):ve(f[6]),null),cn(f[1]?"a":"button")(e,u=Se(s,[(!n||c&6&&o!==(o=f[1]?void 0:f[2]))&&{type:o},(!n||c&2)&&{href:f[1]},{tabindex:"0"},c&32&&f[5],f[4]]))},i(f){n||(y(a,f),n=!0)},o(f){A(a,f),n=!1},d(f){f&&I(e),a&&a.d(f),i=!1,xe(r)}}}function gr(t){let e,o,n,i,r,l;const a=t[7].default,s=ge(a,t,t[6],null);let u=[{type:o=t[1]?void 0:t[2]},{href:t[1]},{tabindex:"0"},ks(t[3]),t[5],t[4]],f={};for(let c=0;c<u.length;c+=1)f=Q(f,u[c]);return{c(){e=T(t[1]?"a":"button"),s&&s.c(),cn(t[1]?"a":"button")(e,f)},m(c,d){O(c,e,d),s&&s.m(e,null),t[20](e),i=!0,r||(l=[z(e,"click",t[8]),z(e,"change",t[9]),z(e,"keydown",t[10]),z(e,"keyup",t[11]),z(e,"mouseenter",t[12]),z(e,"mouseleave",t[13]),Be(n=Zg.call(null,e,{builders:t[3]}))],r=!0)},p(c,d){s&&s.p&&(!i||d&64)&&be(s,a,c,c[6],i?_e(a,c[6],d,null):ve(c[6]),null),cn(c[1]?"a":"button")(e,f=Se(u,[(!i||d&6&&o!==(o=c[1]?void 0:c[2]))&&{type:o},(!i||d&2)&&{href:c[1]},{tabindex:"0"},d&8&&ks(c[3]),d&32&&c[5],c[4]])),n&&Lt(n.update)&&d&8&&n.update.call(null,{builders:c[3]})},i(c){i||(y(s,c),i=!0)},o(c){A(s,c),i=!1},d(c){c&&I(e),s&&s.d(c),t[20](null),r=!1,xe(l)}}}function e0(t){let e,o,n,i;const r=[zg,Qg],l=[];function a(s,u){return s[3]&&s[3].length?0:1}return e=a(t),o=l[e]=r[e](t),{c(){o.c(),n=Le()},m(s,u){l[e].m(s,u),O(s,n,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),A(l[f],1,1,()=>{l[f]=null}),Me(),o=l[e],o?o.p(s,u):(o=l[e]=r[e](s),o.c()),y(o,1),o.m(n.parentNode,n))},i(s){i||(y(o),i=!0)},o(s){A(o),i=!1},d(s){s&&I(n),l[e].d(s)}}}function t0(t,e,o){const n=["href","type","builders","el"];let i=ue(e,n),{$$slots:r={},$$scope:l}=e,{href:a=void 0}=e,{type:s=void 0}=e,{builders:u=[]}=e,{el:f=void 0}=e;const c={"data-button-root":""};function d(E){re.call(this,t,E)}function m(E){re.call(this,t,E)}function _(E){re.call(this,t,E)}function h(E){re.call(this,t,E)}function p(E){re.call(this,t,E)}function w(E){re.call(this,t,E)}function v(E){re.call(this,t,E)}function S(E){re.call(this,t,E)}function D(E){re.call(this,t,E)}function j(E){re.call(this,t,E)}function F(E){re.call(this,t,E)}function R(E){re.call(this,t,E)}function P(E){Ne[E?"unshift":"push"](()=>{f=E,o(0,f)})}return t.$$set=E=>{e=Q(Q({},e),$e(E)),o(5,i=ue(e,n)),"href"in E&&o(1,a=E.href),"type"in E&&o(2,s=E.type),"builders"in E&&o(3,u=E.builders),"el"in E&&o(0,f=E.el),"$$scope"in E&&o(6,l=E.$$scope)},[f,a,s,u,c,i,l,r,d,m,_,h,p,w,v,S,D,j,F,R,P]}let n0=class extends he{constructor(e){super(),pe(this,e,t0,e0,de,{href:1,type:2,builders:3,el:0})}};function o0(t){return(e={})=>i0(t,e)}function i0(t,e){const n={...{side:"bottom",align:"center",sideOffset:0,alignOffset:0,sameWidth:!1,avoidCollisions:!0,collisionPadding:8,fitViewport:!1,strategy:"absolute",overlap:!1},...e};t.update(i=>({...i,placement:r0(n.side,n.align),offset:{...i.offset,mainAxis:n.sideOffset,crossAxis:n.alignOffset},gutter:0,sameWidth:n.sameWidth,flip:n.avoidCollisions,overflowPadding:n.collisionPadding,boundary:n.collisionBoundary,fitViewport:n.fitViewport,strategy:n.strategy,overlap:n.overlap}))}function r0(t,e){return e==="center"?t:`${t}-${e}`}function l0(){return{NAME:"separator",PARTS:["root"]}}function s0(t){const{NAME:e,PARTS:o}=l0(),n=Rn(e,o),i={...$h(fo(t)),getAttrs:n};return{...i,updateOption:Pn(i.options)}}const a0=t=>({builder:t&4}),Cs=t=>({builder:t[2]});function u0(t){let e,o,n,i=[t[2],t[4]],r={};for(let l=0;l<i.length;l+=1)r=Q(r,i[l]);return{c(){e=T("div"),fe(e,r)},m(l,a){O(l,e,a),t[10](e),o||(n=Be(t[2].action(e)),o=!0)},p(l,a){fe(e,r=Se(i,[a&4&&l[2],a&16&&l[4]]))},i:Te,o:Te,d(l){l&&I(e),t[10](null),o=!1,n()}}}function f0(t){let e;const o=t[9].default,n=ge(o,t,t[8],Cs);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&260)&&be(n,o,i,i[8],e?_e(o,i[8],r,a0):ve(i[8]),Cs)},i(i){e||(y(n,i),e=!0)},o(i){A(n,i),e=!1},d(i){n&&n.d(i)}}}function c0(t){let e,o,n,i;const r=[f0,u0],l=[];function a(s,u){return s[1]?0:1}return e=a(t),o=l[e]=r[e](t),{c(){o.c(),n=Le()},m(s,u){l[e].m(s,u),O(s,n,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),A(l[f],1,1,()=>{l[f]=null}),Me(),o=l[e],o?o.p(s,u):(o=l[e]=r[e](s),o.c()),y(o,1),o.m(n.parentNode,n))},i(s){i||(y(o),i=!0)},o(s){A(o),i=!1},d(s){s&&I(n),l[e].d(s)}}}function d0(t,e,o){let n;const i=["orientation","decorative","asChild","el"];let r=ue(e,i),l,{$$slots:a={},$$scope:s}=e,{orientation:u="horizontal"}=e,{decorative:f=!0}=e,{asChild:c=!1}=e,{el:d=void 0}=e;const{elements:{root:m},updateOption:_,getAttrs:h}=s0({orientation:u,decorative:f});se(t,m,v=>o(7,l=v));const p=h("root");function w(v){Ne[v?"unshift":"push"](()=>{d=v,o(0,d)})}return t.$$set=v=>{e=Q(Q({},e),$e(v)),o(4,r=ue(e,i)),"orientation"in v&&o(5,u=v.orientation),"decorative"in v&&o(6,f=v.decorative),"asChild"in v&&o(1,c=v.asChild),"el"in v&&o(0,d=v.el),"$$scope"in v&&o(8,s=v.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&_("orientation",u),t.$$.dirty&64&&_("decorative",f),t.$$.dirty&128&&o(2,n=l),t.$$.dirty&4&&Object.assign(n,p)},[d,c,n,m,r,u,f,l,s,a,w]}let m0=class extends he{constructor(e){super(),pe(this,e,d0,c0,de,{orientation:5,decorative:6,asChild:1,el:0})}};function lc(){return{NAME:"dialog",PARTS:["close","content","description","overlay","portal","title","trigger"]}}function p0(t){const{NAME:e,PARTS:o}=lc(),n=Rn(e,o),i={...ic({...fo(t),role:"dialog",forceVisible:!0}),getAttrs:n};return Gi(e,i),{...i,updateOption:Pn(i.options)}}function Yo(){const{NAME:t}=lc();return Hi(t)}const h0=t=>({ids:t&1}),Ss=t=>({ids:t[0]});function g0(t){let e;const o=t[12].default,n=ge(o,t,t[11],Ss);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,[r]){n&&n.p&&(!e||r&2049)&&be(n,o,i,i[11],e?_e(o,i[11],r,h0):ve(i[11]),Ss)},i(i){e||(y(n,i),e=!0)},o(i){A(n,i),e=!1},d(i){n&&n.d(i)}}}function _0(t,e,o){let n,{$$slots:i={},$$scope:r}=e,{preventScroll:l=void 0}=e,{closeOnEscape:a=void 0}=e,{closeOnOutsideClick:s=void 0}=e,{portal:u=void 0}=e,{open:f=void 0}=e,{onOpenChange:c=void 0}=e,{openFocus:d=void 0}=e,{closeFocus:m=void 0}=e,{onOutsideClick:_=void 0}=e;const{states:{open:h},updateOption:p,ids:w}=p0({closeOnEscape:a,preventScroll:l,closeOnOutsideClick:s,portal:u,forceVisible:!0,defaultOpen:f,openFocus:d,closeFocus:m,onOutsideClick:_,onOpenChange:({next:S})=>(f!==S&&(c==null||c(S),o(2,f=S)),S)}),v=en([w.content,w.description,w.title],([S,D,j])=>({content:S,description:D,title:j}));return se(t,v,S=>o(0,n=S)),t.$$set=S=>{"preventScroll"in S&&o(3,l=S.preventScroll),"closeOnEscape"in S&&o(4,a=S.closeOnEscape),"closeOnOutsideClick"in S&&o(5,s=S.closeOnOutsideClick),"portal"in S&&o(6,u=S.portal),"open"in S&&o(2,f=S.open),"onOpenChange"in S&&o(7,c=S.onOpenChange),"openFocus"in S&&o(8,d=S.openFocus),"closeFocus"in S&&o(9,m=S.closeFocus),"onOutsideClick"in S&&o(10,_=S.onOutsideClick),"$$scope"in S&&o(11,r=S.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&f!==void 0&&h.set(f),t.$$.dirty&8&&p("preventScroll",l),t.$$.dirty&16&&p("closeOnEscape",a),t.$$.dirty&32&&p("closeOnOutsideClick",s),t.$$.dirty&64&&p("portal",u),t.$$.dirty&256&&p("openFocus",d),t.$$.dirty&512&&p("closeFocus",m),t.$$.dirty&1024&&p("onOutsideClick",_)},[n,v,f,l,a,s,u,c,d,m,_,r,i]}class b0 extends he{constructor(e){super(),pe(this,e,_0,g0,de,{preventScroll:3,closeOnEscape:4,closeOnOutsideClick:5,portal:6,open:2,onOpenChange:7,openFocus:8,closeFocus:9,onOutsideClick:10})}}const v0=t=>({builder:t&8}),As=t=>({builder:t[3]}),y0=t=>({builder:t&8}),Ts=t=>({builder:t[3]});function w0(t){let e=t[1],o,n,i=t[1]&&_r(t);return{c(){i&&i.c(),o=Le()},m(r,l){i&&i.m(r,l),O(r,o,l),n=!0},p(r,l){r[1]?e?de(e,r[1])?(i.d(1),i=_r(r),e=r[1],i.c(),i.m(o.parentNode,o)):i.p(r,l):(i=_r(r),e=r[1],i.c(),i.m(o.parentNode,o)):e&&(i.d(1),i=null,e=r[1])},i(r){n||(y(i,r),n=!0)},o(r){A(i,r),n=!1},d(r){r&&I(o),i&&i.d(r)}}}function k0(t){let e;const o=t[9].default,n=ge(o,t,t[8],Ts);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&264)&&be(n,o,i,i[8],e?_e(o,i[8],r,y0):ve(i[8]),Ts)},i(i){e||(y(n,i),e=!0)},o(i){A(n,i),e=!1},d(i){n&&n.d(i)}}}function _r(t){let e,o,n,i;const r=t[9].default,l=ge(r,t,t[8],As);let a=[t[3],t[5]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=T(t[1]),l&&l.c(),cn(t[1])(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[10](e),o=!0,n||(i=Be(t[3].action(e)),n=!0)},p(u,f){l&&l.p&&(!o||f&264)&&be(l,r,u,u[8],o?_e(r,u[8],f,v0):ve(u[8]),As),cn(u[1])(e,s=Se(a,[f&8&&u[3],f&32&&u[5]]))},i(u){o||(y(l,u),o=!0)},o(u){A(l,u),o=!1},d(u){u&&I(e),l&&l.d(u),t[10](null),n=!1,i()}}}function C0(t){let e,o,n,i;const r=[k0,w0],l=[];function a(s,u){return s[2]?0:1}return e=a(t),o=l[e]=r[e](t),{c(){o.c(),n=Le()},m(s,u){l[e].m(s,u),O(s,n,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),A(l[f],1,1,()=>{l[f]=null}),Me(),o=l[e],o?o.p(s,u):(o=l[e]=r[e](s),o.c()),y(o,1),o.m(n.parentNode,n))},i(s){i||(y(o),i=!0)},o(s){A(o),i=!1},d(s){s&&I(n),l[e].d(s)}}}function S0(t,e,o){let n;const i=["level","asChild","id","el"];let r=ue(e,i),l,{$$slots:a={},$$scope:s}=e,{level:u="h2"}=e,{asChild:f=!1}=e,{id:c=void 0}=e,{el:d=void 0}=e;const{elements:{title:m},ids:_,getAttrs:h}=Yo();se(t,m,v=>o(7,l=v));const p=h("title");function w(v){Ne[v?"unshift":"push"](()=>{d=v,o(0,d)})}return t.$$set=v=>{e=Q(Q({},e),$e(v)),o(5,r=ue(e,i)),"level"in v&&o(1,u=v.level),"asChild"in v&&o(2,f=v.asChild),"id"in v&&o(6,c=v.id),"el"in v&&o(0,d=v.el),"$$scope"in v&&o(8,s=v.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&c&&_.title.set(c),t.$$.dirty&128&&o(3,n=l),t.$$.dirty&8&&Object.assign(n,p)},[d,u,f,n,m,r,c,l,s,a,w]}let A0=class extends he{constructor(e){super(),pe(this,e,S0,C0,de,{level:1,asChild:2,id:6,el:0})}};const T0=t=>({builder:t&4}),Is=t=>({builder:t[2]}),I0=t=>({builder:t&4}),Ms=t=>({builder:t[2]});function M0(t){let e,o,n,i;const r=t[7].default,l=ge(r,t,t[6],Is);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=T("div"),l&&l.c(),fe(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[8](e),o=!0,n||(i=Be(t[2].action(e)),n=!0)},p(u,f){l&&l.p&&(!o||f&68)&&be(l,r,u,u[6],o?_e(r,u[6],f,T0):ve(u[6]),Is),fe(e,s=Se(a,[f&4&&u[2],f&16&&u[4]]))},i(u){o||(y(l,u),o=!0)},o(u){A(l,u),o=!1},d(u){u&&I(e),l&&l.d(u),t[8](null),n=!1,i()}}}function O0(t){let e;const o=t[7].default,n=ge(o,t,t[6],Ms);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&68)&&be(n,o,i,i[6],e?_e(o,i[6],r,I0):ve(i[6]),Ms)},i(i){e||(y(n,i),e=!0)},o(i){A(n,i),e=!1},d(i){n&&n.d(i)}}}function P0(t){let e,o,n,i;const r=[O0,M0],l=[];function a(s,u){return s[1]?0:1}return e=a(t),o=l[e]=r[e](t),{c(){o.c(),n=Le()},m(s,u){l[e].m(s,u),O(s,n,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),A(l[f],1,1,()=>{l[f]=null}),Me(),o=l[e],o?o.p(s,u):(o=l[e]=r[e](s),o.c()),y(o,1),o.m(n.parentNode,n))},i(s){i||(y(o),i=!0)},o(s){A(o),i=!1},d(s){s&&I(n),l[e].d(s)}}}function N0(t,e,o){let n;const i=["asChild","el"];let r=ue(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{portalled:c},getAttrs:d}=Yo();se(t,c,h=>o(5,l=h));const m=d("portal");function _(h){Ne[h?"unshift":"push"](()=>{f=h,o(0,f)})}return t.$$set=h=>{e=Q(Q({},e),$e(h)),o(4,r=ue(e,i)),"asChild"in h&&o(1,u=h.asChild),"el"in h&&o(0,f=h.el),"$$scope"in h&&o(6,s=h.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&o(2,n=l),t.$$.dirty&4&&Object.assign(n,m)},[f,u,n,c,r,l,s,a,_]}let E0=class extends he{constructor(e){super(),pe(this,e,N0,P0,de,{asChild:1,el:0})}};const R0=t=>({builder:t[0]&256}),Os=t=>({builder:t[8]}),$0=t=>({builder:t[0]&256}),Ps=t=>({builder:t[8]}),L0=t=>({builder:t[0]&256}),Ns=t=>({builder:t[8]}),D0=t=>({builder:t[0]&256}),Es=t=>({builder:t[8]}),j0=t=>({builder:t[0]&256}),Rs=t=>({builder:t[8]}),F0=t=>({builder:t[0]&256}),$s=t=>({builder:t[8]});function B0(t){let e,o,n,i;const r=t[16].default,l=ge(r,t,t[15],Os);let a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=T("div"),l&&l.c(),fe(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[56](e),o=!0,n||(i=[Be(t[8].action(e)),z(e,"pointerdown",t[45]),z(e,"pointermove",t[46]),z(e,"pointerup",t[47]),z(e,"touchend",t[48]),z(e,"touchstart",t[49]),z(e,"touchcancel",t[50]),z(e,"touchmove",t[51])],n=!0)},p(u,f){l&&l.p&&(!o||f[0]&33024)&&be(l,r,u,u[15],o?_e(r,u[15],f,R0):ve(u[15]),Os),fe(e,s=Se(a,[f[0]&256&&u[8],f[0]&4096&&u[12]]))},i(u){o||(y(l,u),o=!0)},o(u){A(l,u),o=!1},d(u){u&&I(e),l&&l.d(u),t[56](null),n=!1,xe(i)}}}function q0(t){let e,o,n,i,r;const l=t[16].default,a=ge(l,t,t[15],Ps);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=T("div"),a&&a.c(),fe(e,u)},m(f,c){O(f,e,c),a&&a.m(e,null),t[55](e),n=!0,i||(r=[Be(t[8].action(e)),z(e,"pointerdown",t[38]),z(e,"pointermove",t[39]),z(e,"pointerup",t[40]),z(e,"touchend",t[41]),z(e,"touchstart",t[42]),z(e,"touchcancel",t[43]),z(e,"touchmove",t[44])],i=!0)},p(f,c){t=f,a&&a.p&&(!n||c[0]&33024)&&be(a,l,t,t[15],n?_e(l,t[15],c,$0):ve(t[15]),Ps),fe(e,u=Se(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){n||(y(a,f),o&&o.end(1),n=!0)},o(f){A(a,f),f&&(o=Vt(e,t[5],t[6])),n=!1},d(f){f&&I(e),a&&a.d(f),t[55](null),f&&o&&o.end(),i=!1,xe(r)}}}function x0(t){let e,o,n,i,r;const l=t[16].default,a=ge(l,t,t[15],Ns);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=T("div"),a&&a.c(),fe(e,u)},m(f,c){O(f,e,c),a&&a.m(e,null),t[54](e),n=!0,i||(r=[Be(t[8].action(e)),z(e,"pointerdown",t[31]),z(e,"pointermove",t[32]),z(e,"pointerup",t[33]),z(e,"touchend",t[34]),z(e,"touchstart",t[35]),z(e,"touchcancel",t[36]),z(e,"touchmove",t[37])],i=!0)},p(f,c){t=f,a&&a.p&&(!n||c[0]&33024)&&be(a,l,t,t[15],n?_e(l,t[15],c,L0):ve(t[15]),Ns),fe(e,u=Se(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){n||(y(a,f),f&&(o||ze(()=>{o=Ht(e,t[3],t[4]),o.start()})),n=!0)},o(f){A(a,f),n=!1},d(f){f&&I(e),a&&a.d(f),t[54](null),i=!1,xe(r)}}}function G0(t){let e,o,n,i,r,l;const a=t[16].default,s=ge(a,t,t[15],Es);let u=[t[8],t[12]],f={};for(let c=0;c<u.length;c+=1)f=Q(f,u[c]);return{c(){e=T("div"),s&&s.c(),fe(e,f)},m(c,d){O(c,e,d),s&&s.m(e,null),t[53](e),i=!0,r||(l=[Be(t[8].action(e)),z(e,"pointerdown",t[24]),z(e,"pointermove",t[25]),z(e,"pointerup",t[26]),z(e,"touchend",t[27]),z(e,"touchstart",t[28]),z(e,"touchcancel",t[29]),z(e,"touchmove",t[30])],r=!0)},p(c,d){t=c,s&&s.p&&(!i||d[0]&33024)&&be(s,a,t,t[15],i?_e(a,t[15],d,D0):ve(t[15]),Es),fe(e,f=Se(u,[d[0]&256&&t[8],d[0]&4096&&t[12]]))},i(c){i||(y(s,c),c&&ze(()=>{i&&(n&&n.end(1),o=Ht(e,t[3],t[4]),o.start())}),i=!0)},o(c){A(s,c),o&&o.invalidate(),c&&(n=Vt(e,t[5],t[6])),i=!1},d(c){c&&I(e),s&&s.d(c),t[53](null),c&&n&&n.end(),r=!1,xe(l)}}}function H0(t){let e,o,n,i,r;const l=t[16].default,a=ge(l,t,t[15],Rs);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=T("div"),a&&a.c(),fe(e,u)},m(f,c){O(f,e,c),a&&a.m(e,null),t[52](e),n=!0,i||(r=[Be(t[8].action(e)),z(e,"pointerdown",t[17]),z(e,"pointermove",t[18]),z(e,"pointerup",t[19]),z(e,"touchend",t[20]),z(e,"touchstart",t[21]),z(e,"touchcancel",t[22]),z(e,"touchmove",t[23])],i=!0)},p(f,c){t=f,a&&a.p&&(!n||c[0]&33024)&&be(a,l,t,t[15],n?_e(l,t[15],c,j0):ve(t[15]),Rs),fe(e,u=Se(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){n||(y(a,f),f&&ze(()=>{n&&(o||(o=gt(e,t[1],t[2],!0)),o.run(1))}),n=!0)},o(f){A(a,f),f&&(o||(o=gt(e,t[1],t[2],!1)),o.run(0)),n=!1},d(f){f&&I(e),a&&a.d(f),t[52](null),f&&o&&o.end(),i=!1,xe(r)}}}function V0(t){let e;const o=t[16].default,n=ge(o,t,t[15],$s);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r[0]&33024)&&be(n,o,i,i[15],e?_e(o,i[15],r,F0):ve(i[15]),$s)},i(i){e||(y(n,i),e=!0)},o(i){A(n,i),e=!1},d(i){n&&n.d(i)}}}function W0(t){let e,o,n,i;const r=[V0,H0,G0,x0,q0,B0],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(o=l[e]=r[e](t)),{c(){o&&o.c(),n=Le()},m(s,u){~e&&l[e].m(s,u),O(s,n,u),i=!0},p(s,u){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(o&&(Ie(),A(l[f],1,1,()=>{l[f]=null}),Me()),~e?(o=l[e],o?o.p(s,u):(o=l[e]=r[e](s),o.c()),y(o,1),o.m(n.parentNode,n)):o=null)},i(s){i||(y(o),i=!0)},o(s){A(o),i=!1},d(s){s&&I(n),~e&&l[e].d(s)}}}function Y0(t,e,o){let n;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","id","el"];let r=ue(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:_=void 0}=e,{outTransitionConfig:h=void 0}=e,{asChild:p=!1}=e,{id:w=void 0}=e,{el:v=void 0}=e;const{elements:{content:S},states:{open:D},ids:j,getAttrs:F}=Yo();se(t,S,G=>o(14,l=G)),se(t,D,G=>o(9,a=G));const R=F("content");function P(G){re.call(this,t,G)}function E(G){re.call(this,t,G)}function q(G){re.call(this,t,G)}function M(G){re.call(this,t,G)}function C(G){re.call(this,t,G)}function k(G){re.call(this,t,G)}function N(G){re.call(this,t,G)}function B(G){re.call(this,t,G)}function L(G){re.call(this,t,G)}function J(G){re.call(this,t,G)}function Z(G){re.call(this,t,G)}function X(G){re.call(this,t,G)}function ne(G){re.call(this,t,G)}function ee(G){re.call(this,t,G)}function oe(G){re.call(this,t,G)}function we(G){re.call(this,t,G)}function ae(G){re.call(this,t,G)}function ie(G){re.call(this,t,G)}function qe(G){re.call(this,t,G)}function Ge(G){re.call(this,t,G)}function Ue(G){re.call(this,t,G)}function ot(G){re.call(this,t,G)}function g(G){re.call(this,t,G)}function x(G){re.call(this,t,G)}function V(G){re.call(this,t,G)}function le(G){re.call(this,t,G)}function me(G){re.call(this,t,G)}function Ce(G){re.call(this,t,G)}function Pe(G){re.call(this,t,G)}function Ee(G){re.call(this,t,G)}function We(G){re.call(this,t,G)}function Re(G){re.call(this,t,G)}function ke(G){re.call(this,t,G)}function Ye(G){re.call(this,t,G)}function zi(G){re.call(this,t,G)}function er(G){Ne[G?"unshift":"push"](()=>{v=G,o(0,v)})}function tr(G){Ne[G?"unshift":"push"](()=>{v=G,o(0,v)})}function nr(G){Ne[G?"unshift":"push"](()=>{v=G,o(0,v)})}function or(G){Ne[G?"unshift":"push"](()=>{v=G,o(0,v)})}function ir(G){Ne[G?"unshift":"push"](()=>{v=G,o(0,v)})}return t.$$set=G=>{e=Q(Q({},e),$e(G)),o(12,r=ue(e,i)),"transition"in G&&o(1,f=G.transition),"transitionConfig"in G&&o(2,c=G.transitionConfig),"inTransition"in G&&o(3,d=G.inTransition),"inTransitionConfig"in G&&o(4,m=G.inTransitionConfig),"outTransition"in G&&o(5,_=G.outTransition),"outTransitionConfig"in G&&o(6,h=G.outTransitionConfig),"asChild"in G&&o(7,p=G.asChild),"id"in G&&o(13,w=G.id),"el"in G&&o(0,v=G.el),"$$scope"in G&&o(15,u=G.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&8192&&w&&j.content.set(w),t.$$.dirty[0]&16384&&o(8,n=l),t.$$.dirty[0]&256&&Object.assign(n,R)},[v,f,c,d,m,_,h,p,n,a,S,D,r,w,l,u,s,P,E,q,M,C,k,N,B,L,J,Z,X,ne,ee,oe,we,ae,ie,qe,Ge,Ue,ot,g,x,V,le,me,Ce,Pe,Ee,We,Re,ke,Ye,zi,er,tr,nr,or,ir]}let U0=class extends he{constructor(e){super(),pe(this,e,Y0,W0,de,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,id:13,el:0},null,[-1,-1])}};const K0=t=>({builder:t&256}),Ls=t=>({builder:t[8]});function J0(t){let e,o,n,i=[t[8],t[12]],r={};for(let l=0;l<i.length;l+=1)r=Q(r,i[l]);return{c(){e=T("div"),fe(e,r)},m(l,a){O(l,e,a),t[25](e),o||(n=[Be(t[8].action(e)),z(e,"mouseup",t[20])],o=!0)},p(l,a){fe(e,r=Se(i,[a&256&&l[8],a&4096&&l[12]]))},i:Te,o:Te,d(l){l&&I(e),t[25](null),o=!1,xe(n)}}}function X0(t){let e,o,n,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=Q(a,l[s]);return{c(){e=T("div"),fe(e,a)},m(s,u){O(s,e,u),t[24](e),n=!0,i||(r=[Be(t[8].action(e)),z(e,"mouseup",t[19])],i=!0)},p(s,u){t=s,fe(e,a=Se(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){n||(o&&o.end(1),n=!0)},o(s){s&&(o=Vt(e,t[5],t[6])),n=!1},d(s){s&&I(e),t[24](null),s&&o&&o.end(),i=!1,xe(r)}}}function Z0(t){let e,o,n,i,r=[t[8],t[12]],l={};for(let a=0;a<r.length;a+=1)l=Q(l,r[a]);return{c(){e=T("div"),fe(e,l)},m(a,s){O(a,e,s),t[23](e),n||(i=[Be(t[8].action(e)),z(e,"mouseup",t[18])],n=!0)},p(a,s){t=a,fe(e,l=Se(r,[s&256&&t[8],s&4096&&t[12]]))},i(a){a&&(o||ze(()=>{o=Ht(e,t[3],t[4]),o.start()}))},o:Te,d(a){a&&I(e),t[23](null),n=!1,xe(i)}}}function Q0(t){let e,o,n,i,r,l,a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=T("div"),fe(e,s)},m(u,f){O(u,e,f),t[22](e),i=!0,r||(l=[Be(t[8].action(e)),z(e,"mouseup",t[17])],r=!0)},p(u,f){t=u,fe(e,s=Se(a,[f&256&&t[8],f&4096&&t[12]]))},i(u){i||(u&&ze(()=>{i&&(n&&n.end(1),o=Ht(e,t[3],t[4]),o.start())}),i=!0)},o(u){o&&o.invalidate(),u&&(n=Vt(e,t[5],t[6])),i=!1},d(u){u&&I(e),t[22](null),u&&n&&n.end(),r=!1,xe(l)}}}function z0(t){let e,o,n,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=Q(a,l[s]);return{c(){e=T("div"),fe(e,a)},m(s,u){O(s,e,u),t[21](e),n=!0,i||(r=[z(e,"mouseup",t[16]),Be(t[8].action(e))],i=!0)},p(s,u){t=s,fe(e,a=Se(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){n||(s&&ze(()=>{n&&(o||(o=gt(e,t[1],t[2],!0)),o.run(1))}),n=!0)},o(s){s&&(o||(o=gt(e,t[1],t[2],!1)),o.run(0)),n=!1},d(s){s&&I(e),t[21](null),s&&o&&o.end(),i=!1,xe(r)}}}function e_(t){let e;const o=t[15].default,n=ge(o,t,t[14],Ls);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&16640)&&be(n,o,i,i[14],e?_e(o,i[14],r,K0):ve(i[14]),Ls)},i(i){e||(y(n,i),e=!0)},o(i){A(n,i),e=!1},d(i){n&&n.d(i)}}}function t_(t){let e,o,n,i;const r=[e_,z0,Q0,Z0,X0,J0],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(o=l[e]=r[e](t)),{c(){o&&o.c(),n=Le()},m(s,u){~e&&l[e].m(s,u),O(s,n,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(o&&(Ie(),A(l[f],1,1,()=>{l[f]=null}),Me()),~e?(o=l[e],o?o.p(s,u):(o=l[e]=r[e](s),o.c()),y(o,1),o.m(n.parentNode,n)):o=null)},i(s){i||(y(o),i=!0)},o(s){A(o),i=!1},d(s){s&&I(n),~e&&l[e].d(s)}}}function n_(t,e,o){let n;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","el"];let r=ue(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:_=void 0}=e,{outTransitionConfig:h=void 0}=e,{asChild:p=!1}=e,{el:w=void 0}=e;const{elements:{overlay:v},states:{open:S},getAttrs:D}=Yo();se(t,v,L=>o(13,l=L)),se(t,S,L=>o(9,a=L));const j=D("overlay");function F(L){re.call(this,t,L)}function R(L){re.call(this,t,L)}function P(L){re.call(this,t,L)}function E(L){re.call(this,t,L)}function q(L){re.call(this,t,L)}function M(L){Ne[L?"unshift":"push"](()=>{w=L,o(0,w)})}function C(L){Ne[L?"unshift":"push"](()=>{w=L,o(0,w)})}function k(L){Ne[L?"unshift":"push"](()=>{w=L,o(0,w)})}function N(L){Ne[L?"unshift":"push"](()=>{w=L,o(0,w)})}function B(L){Ne[L?"unshift":"push"](()=>{w=L,o(0,w)})}return t.$$set=L=>{e=Q(Q({},e),$e(L)),o(12,r=ue(e,i)),"transition"in L&&o(1,f=L.transition),"transitionConfig"in L&&o(2,c=L.transitionConfig),"inTransition"in L&&o(3,d=L.inTransition),"inTransitionConfig"in L&&o(4,m=L.inTransitionConfig),"outTransition"in L&&o(5,_=L.outTransition),"outTransitionConfig"in L&&o(6,h=L.outTransitionConfig),"asChild"in L&&o(7,p=L.asChild),"el"in L&&o(0,w=L.el),"$$scope"in L&&o(14,u=L.$$scope)},t.$$.update=()=>{t.$$.dirty&8192&&o(8,n=l),t.$$.dirty&256&&Object.assign(n,j)},[w,f,c,d,m,_,h,p,n,a,v,S,r,l,u,s,F,R,P,E,q,M,C,k,N,B]}let o_=class extends he{constructor(e){super(),pe(this,e,n_,t_,de,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,el:0})}};const i_=t=>({builder:t&4}),Ds=t=>({builder:t[2]}),r_=t=>({builder:t&4}),js=t=>({builder:t[2]});function l_(t){let e,o,n,i;const r=t[8].default,l=ge(r,t,t[7],Ds);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=T("div"),l&&l.c(),fe(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[9](e),o=!0,n||(i=Be(t[2].action(e)),n=!0)},p(u,f){l&&l.p&&(!o||f&132)&&be(l,r,u,u[7],o?_e(r,u[7],f,i_):ve(u[7]),Ds),fe(e,s=Se(a,[f&4&&u[2],f&16&&u[4]]))},i(u){o||(y(l,u),o=!0)},o(u){A(l,u),o=!1},d(u){u&&I(e),l&&l.d(u),t[9](null),n=!1,i()}}}function s_(t){let e;const o=t[8].default,n=ge(o,t,t[7],js);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&132)&&be(n,o,i,i[7],e?_e(o,i[7],r,r_):ve(i[7]),js)},i(i){e||(y(n,i),e=!0)},o(i){A(n,i),e=!1},d(i){n&&n.d(i)}}}function a_(t){let e,o,n,i;const r=[s_,l_],l=[];function a(s,u){return s[1]?0:1}return e=a(t),o=l[e]=r[e](t),{c(){o.c(),n=Le()},m(s,u){l[e].m(s,u),O(s,n,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),A(l[f],1,1,()=>{l[f]=null}),Me(),o=l[e],o?o.p(s,u):(o=l[e]=r[e](s),o.c()),y(o,1),o.m(n.parentNode,n))},i(s){i||(y(o),i=!0)},o(s){A(o),i=!1},d(s){s&&I(n),l[e].d(s)}}}function u_(t,e,o){let n;const i=["asChild","id","el"];let r=ue(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{description:d},ids:m,getAttrs:_}=Yo();se(t,d,w=>o(6,l=w));const h=_("description");function p(w){Ne[w?"unshift":"push"](()=>{c=w,o(0,c)})}return t.$$set=w=>{e=Q(Q({},e),$e(w)),o(4,r=ue(e,i)),"asChild"in w&&o(1,u=w.asChild),"id"in w&&o(5,f=w.id),"el"in w&&o(0,c=w.el),"$$scope"in w&&o(7,s=w.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f&&m.description.set(f),t.$$.dirty&64&&o(2,n=l),t.$$.dirty&4&&Object.assign(n,h)},[c,u,n,d,r,f,l,s,a,p]}let f_=class extends he{constructor(e){super(),pe(this,e,u_,a_,de,{asChild:1,id:5,el:0})}};function c_(){const t="label",o=Rn(t,["root"]);return{NAME:t,getAttrs:o}}const d_=t=>({builder:t&4}),Fs=t=>({builder:t[2]}),m_=t=>({builder:t&4}),Bs=t=>({builder:t[2]});function p_(t){let e,o,n,i;const r=t[8].default,l=ge(r,t,t[7],Fs);let a=[t[2],t[5]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=T("label"),l&&l.c(),fe(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[9](e),o=!0,n||(i=[Be(t[2].action(e)),z(e,"m-mousedown",t[4])],n=!0)},p(u,f){l&&l.p&&(!o||f&132)&&be(l,r,u,u[7],o?_e(r,u[7],f,d_):ve(u[7]),Fs),fe(e,s=Se(a,[f&4&&u[2],f&32&&u[5]]))},i(u){o||(y(l,u),o=!0)},o(u){A(l,u),o=!1},d(u){u&&I(e),l&&l.d(u),t[9](null),n=!1,xe(i)}}}function h_(t){let e;const o=t[8].default,n=ge(o,t,t[7],Bs);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&132)&&be(n,o,i,i[7],e?_e(o,i[7],r,m_):ve(i[7]),Bs)},i(i){e||(y(n,i),e=!0)},o(i){A(n,i),e=!1},d(i){n&&n.d(i)}}}function g_(t){let e,o,n,i;const r=[h_,p_],l=[];function a(s,u){return s[1]?0:1}return e=a(t),o=l[e]=r[e](t),{c(){o.c(),n=Le()},m(s,u){l[e].m(s,u),O(s,n,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),A(l[f],1,1,()=>{l[f]=null}),Me(),o=l[e],o?o.p(s,u):(o=l[e]=r[e](s),o.c()),y(o,1),o.m(n.parentNode,n))},i(s){i||(y(o),i=!0)},o(s){A(o),i=!1},d(s){s&&I(n),l[e].d(s)}}}function __(t,e,o){let n;const i=["asChild","el"];let r=ue(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{root:c}}=Ih();se(t,c,p=>o(6,l=p));const d=uo(),{getAttrs:m}=c_(),_=m("root");function h(p){Ne[p?"unshift":"push"](()=>{f=p,o(0,f)})}return t.$$set=p=>{e=Q(Q({},e),$e(p)),o(5,r=ue(e,i)),"asChild"in p&&o(1,u=p.asChild),"el"in p&&o(0,f=p.el),"$$scope"in p&&o(7,s=p.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&o(2,n=l),t.$$.dirty&4&&Object.assign(n,_)},[f,u,n,c,d,r,l,s,a,h]}let b_=class extends he{constructor(e){super(),pe(this,e,__,g_,de,{asChild:1,el:0})}};function v_(){return{NAME:"progress",PARTS:["root"]}}function y_(t){const{NAME:e,PARTS:o}=v_(),n=Rn(e,o),i={...Eh(fo(t)),getAttrs:n};return{...i,updateOption:Pn(i.options)}}const w_=t=>({builder:t&4}),qs=t=>({builder:t[2]}),k_=t=>({builder:t&4}),xs=t=>({builder:t[2]});function C_(t){let e,o,n,i;const r=t[10].default,l=ge(r,t,t[9],qs);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=T("div"),l&&l.c(),fe(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[11](e),o=!0,n||(i=Be(t[2].action(e)),n=!0)},p(u,f){l&&l.p&&(!o||f&516)&&be(l,r,u,u[9],o?_e(r,u[9],f,w_):ve(u[9]),qs),fe(e,s=Se(a,[f&4&&u[2],f&16&&u[4]]))},i(u){o||(y(l,u),o=!0)},o(u){A(l,u),o=!1},d(u){u&&I(e),l&&l.d(u),t[11](null),n=!1,i()}}}function S_(t){let e;const o=t[10].default,n=ge(o,t,t[9],xs);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&516)&&be(n,o,i,i[9],e?_e(o,i[9],r,k_):ve(i[9]),xs)},i(i){e||(y(n,i),e=!0)},o(i){A(n,i),e=!1},d(i){n&&n.d(i)}}}function A_(t){let e,o,n,i;const r=[S_,C_],l=[];function a(s,u){return s[1]?0:1}return e=a(t),o=l[e]=r[e](t),{c(){o.c(),n=Le()},m(s,u){l[e].m(s,u),O(s,n,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),A(l[f],1,1,()=>{l[f]=null}),Me(),o=l[e],o?o.p(s,u):(o=l[e]=r[e](s),o.c()),y(o,1),o.m(n.parentNode,n))},i(s){i||(y(o),i=!0)},o(s){A(o),i=!1},d(s){s&&I(n),l[e].d(s)}}}function T_(t,e,o){let n;const i=["max","value","onValueChange","asChild","el"];let r=ue(e,i),l,{$$slots:a={},$$scope:s}=e,{max:u=void 0}=e,{value:f=void 0}=e,{onValueChange:c=void 0}=e,{asChild:d=!1}=e,{el:m=void 0}=e;const{elements:{root:_},states:{value:h},updateOption:p,getAttrs:w}=y_({max:u,defaultValue:f,onValueChange:({next:D})=>(c==null||c(D),o(5,f=D),D)});se(t,_,D=>o(8,l=D));const v=w("root");function S(D){Ne[D?"unshift":"push"](()=>{m=D,o(0,m)})}return t.$$set=D=>{e=Q(Q({},e),$e(D)),o(4,r=ue(e,i)),"max"in D&&o(6,u=D.max),"value"in D&&o(5,f=D.value),"onValueChange"in D&&o(7,c=D.onValueChange),"asChild"in D&&o(1,d=D.asChild),"el"in D&&o(0,m=D.el),"$$scope"in D&&o(9,s=D.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f!==void 0&&h.set(f),t.$$.dirty&64&&p("max",u),t.$$.dirty&256&&o(2,n=l),t.$$.dirty&4&&Object.assign(n,v)},[m,d,n,_,r,f,u,c,l,s,a,S]}let I_=class extends he{constructor(e){super(),pe(this,e,T_,A_,de,{max:6,value:5,onValueChange:7,asChild:1,el:0})}};function sc(){return{NAME:"slider",PARTS:["root","input","range","thumb","tick"]}}function M_(t){const{NAME:e,PARTS:o}=sc(),n=Rn(e,o),i={...Dh(fo(t)),getAttrs:n};return Gi(e,i),{...i,updateOption:Pn(i.options)}}function ac(){const{NAME:t}=sc();return Hi(t)}const O_=t=>({builder:t&4,ticks:t&8,thumbs:t&16}),Gs=t=>({builder:t[2],ticks:t[3],thumbs:t[4]}),P_=t=>({builder:t&4,ticks:t&8,thumbs:t&16}),Hs=t=>({builder:t[2],ticks:t[3],thumbs:t[4]});function N_(t){let e,o,n,i;const r=t[18].default,l=ge(r,t,t[17],Gs);let a=[t[2],t[8]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=T("span"),l&&l.c(),fe(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[19](e),o=!0,n||(i=Be(t[2].action(e)),n=!0)},p(u,f){l&&l.p&&(!o||f&131100)&&be(l,r,u,u[17],o?_e(r,u[17],f,O_):ve(u[17]),Gs),fe(e,s=Se(a,[f&4&&u[2],f&256&&u[8]]))},i(u){o||(y(l,u),o=!0)},o(u){A(l,u),o=!1},d(u){u&&I(e),l&&l.d(u),t[19](null),n=!1,i()}}}function E_(t){let e;const o=t[18].default,n=ge(o,t,t[17],Hs);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&131100)&&be(n,o,i,i[17],e?_e(o,i[17],r,P_):ve(i[17]),Hs)},i(i){e||(y(n,i),e=!0)},o(i){A(n,i),e=!1},d(i){n&&n.d(i)}}}function R_(t){let e,o,n,i;const r=[E_,N_],l=[];function a(s,u){return s[1]?0:1}return e=a(t),o=l[e]=r[e](t),{c(){o.c(),n=Le()},m(s,u){l[e].m(s,u),O(s,n,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),A(l[f],1,1,()=>{l[f]=null}),Me(),o=l[e],o?o.p(s,u):(o=l[e]=r[e](s),o.c()),y(o,1),o.m(n.parentNode,n))},i(s){i||(y(o),i=!0)},o(s){A(o),i=!1},d(s){s&&I(n),l[e].d(s)}}}function $_(t,e,o){let n;const i=["disabled","min","max","step","orientation","value","onValueChange","asChild","el"];let r=ue(e,i),l,a,s,{$$slots:u={},$$scope:f}=e,{disabled:c=void 0}=e,{min:d=void 0}=e,{max:m=void 0}=e,{step:_=void 0}=e,{orientation:h=void 0}=e,{value:p=void 0}=e,{onValueChange:w=void 0}=e,{asChild:v=!1}=e,{el:S=void 0}=e;const{elements:{root:D,ticks:j,thumbs:F},states:{value:R},updateOption:P,getAttrs:E}=M_({disabled:c,min:d,max:m,step:_,orientation:h,defaultValue:p,onValueChange:({next:C})=>(p!==C&&(w==null||w(C),o(9,p=C)),C)});se(t,D,C=>o(16,l=C)),se(t,j,C=>o(3,a=C)),se(t,F,C=>o(4,s=C));const q=E("root");function M(C){Ne[C?"unshift":"push"](()=>{S=C,o(0,S)})}return t.$$set=C=>{e=Q(Q({},e),$e(C)),o(8,r=ue(e,i)),"disabled"in C&&o(10,c=C.disabled),"min"in C&&o(11,d=C.min),"max"in C&&o(12,m=C.max),"step"in C&&o(13,_=C.step),"orientation"in C&&o(14,h=C.orientation),"value"in C&&o(9,p=C.value),"onValueChange"in C&&o(15,w=C.onValueChange),"asChild"in C&&o(1,v=C.asChild),"el"in C&&o(0,S=C.el),"$$scope"in C&&o(17,f=C.$$scope)},t.$$.update=()=>{t.$$.dirty&512&&p!==void 0&&R.set(p),t.$$.dirty&1024&&P("disabled",c),t.$$.dirty&2048&&P("min",d),t.$$.dirty&4096&&P("max",m),t.$$.dirty&8192&&P("step",_),t.$$.dirty&16384&&P("orientation",h),t.$$.dirty&65536&&o(2,n=l),t.$$.dirty&4&&Object.assign(n,q)},[S,v,n,a,s,D,j,F,r,p,c,d,m,_,h,w,l,f,u,M]}let L_=class extends he{constructor(e){super(),pe(this,e,$_,R_,de,{disabled:10,min:11,max:12,step:13,orientation:14,value:9,onValueChange:15,asChild:1,el:0})}};const D_=t=>({builder:t&4}),Vs=t=>({builder:t[2]});function j_(t){let e,o,n,i=[t[2],t[4]],r={};for(let l=0;l<i.length;l+=1)r=Q(r,i[l]);return{c(){e=T("span"),fe(e,r)},m(l,a){O(l,e,a),t[8](e),o||(n=Be(t[2].action(e)),o=!0)},p(l,a){fe(e,r=Se(i,[a&4&&l[2],a&16&&l[4]]))},i:Te,o:Te,d(l){l&&I(e),t[8](null),o=!1,n()}}}function F_(t){let e;const o=t[7].default,n=ge(o,t,t[6],Vs);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&68)&&be(n,o,i,i[6],e?_e(o,i[6],r,D_):ve(i[6]),Vs)},i(i){e||(y(n,i),e=!0)},o(i){A(n,i),e=!1},d(i){n&&n.d(i)}}}function B_(t){let e,o,n,i;const r=[F_,j_],l=[];function a(s,u){return s[1]?0:1}return e=a(t),o=l[e]=r[e](t),{c(){o.c(),n=Le()},m(s,u){l[e].m(s,u),O(s,n,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),A(l[f],1,1,()=>{l[f]=null}),Me(),o=l[e],o?o.p(s,u):(o=l[e]=r[e](s),o.c()),y(o,1),o.m(n.parentNode,n))},i(s){i||(y(o),i=!0)},o(s){A(o),i=!1},d(s){s&&I(n),l[e].d(s)}}}function q_(t,e,o){let n;const i=["asChild","el"];let r=ue(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{range:c},getAttrs:d}=ac();se(t,c,h=>o(5,l=h));const m=d("range");function _(h){Ne[h?"unshift":"push"](()=>{f=h,o(0,f)})}return t.$$set=h=>{e=Q(Q({},e),$e(h)),o(4,r=ue(e,i)),"asChild"in h&&o(1,u=h.asChild),"el"in h&&o(0,f=h.el),"$$scope"in h&&o(6,s=h.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&o(2,n=l),t.$$.dirty&4&&Object.assign(n,m)},[f,u,n,c,r,l,s,a,_]}class x_ extends he{constructor(e){super(),pe(this,e,q_,B_,de,{asChild:1,el:0})}}const G_=t=>({builder:t&4}),Ws=t=>({builder:t[2]});function H_(t){let e,o,n,i=[t[2],t[4]],r={};for(let l=0;l<i.length;l+=1)r=Q(r,i[l]);return{c(){e=T("span"),fe(e,r)},m(l,a){O(l,e,a),t[8](e),o||(n=[Be(t[2].action(e)),z(e,"m-keydown",t[3])],o=!0)},p(l,a){fe(e,r=Se(i,[a&4&&l[2],a&16&&l[4]]))},i:Te,o:Te,d(l){l&&I(e),t[8](null),o=!1,xe(n)}}}function V_(t){let e;const o=t[7].default,n=ge(o,t,t[6],Ws);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&68)&&be(n,o,i,i[6],e?_e(o,i[6],r,G_):ve(i[6]),Ws)},i(i){e||(y(n,i),e=!0)},o(i){A(n,i),e=!1},d(i){n&&n.d(i)}}}function W_(t){let e,o,n,i;const r=[V_,H_],l=[];function a(s,u){return s[1]?0:1}return e=a(t),o=l[e]=r[e](t),{c(){o.c(),n=Le()},m(s,u){l[e].m(s,u),O(s,n,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),A(l[f],1,1,()=>{l[f]=null}),Me(),o=l[e],o?o.p(s,u):(o=l[e]=r[e](s),o.c()),y(o,1),o.m(n.parentNode,n))},i(s){i||(y(o),i=!0)},o(s){A(o),i=!1},d(s){s&&I(n),l[e].d(s)}}}function Y_(t,e,o){let n;const i=["asChild","el","thumb"];let r=ue(e,i),{$$slots:l={},$$scope:a}=e,{asChild:s=!1}=e,{el:u=void 0}=e,{thumb:f}=e;const{getAttrs:c}=ac(),d=uo(),m=c("thumb");function _(h){Ne[h?"unshift":"push"](()=>{u=h,o(0,u)})}return t.$$set=h=>{e=Q(Q({},e),$e(h)),o(4,r=ue(e,i)),"asChild"in h&&o(1,s=h.asChild),"el"in h&&o(0,u=h.el),"thumb"in h&&o(5,f=h.thumb),"$$scope"in h&&o(6,a=h.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&o(2,n=f),t.$$.dirty&4&&Object.assign(n,m)},[u,s,n,d,r,f,a,l,_]}class U_ extends he{constructor(e){super(),pe(this,e,Y_,W_,de,{asChild:1,el:0,thumb:5})}}function uc(){return{NAME:"tooltip",PARTS:["arrow","content","trigger"]}}function K_(t){const{NAME:e,PARTS:o}=uc(),n=Rn(e,o),i={...Bh({positioning:{placement:"top",gutter:0},openDelay:700,...fo(t),forceVisible:!0}),getAttrs:n};return Gi(e,i),{...i,updateOption:Pn(i.options)}}function gl(){const{NAME:t}=uc();return Hi(t)}function J_(t){const o={...{side:"top",align:"center",sideOffset:1},...t},{options:{positioning:n}}=gl();o0(n)({...o})}const X_=t=>({ids:t&1}),Ys=t=>({ids:t[0]});function Z_(t){let e;const o=t[12].default,n=ge(o,t,t[11],Ys);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,[r]){n&&n.p&&(!e||r&2049)&&be(n,o,i,i[11],e?_e(o,i[11],r,X_):ve(i[11]),Ys)},i(i){e||(y(n,i),e=!0)},o(i){A(n,i),e=!1},d(i){n&&n.d(i)}}}function Q_(t,e,o){let n,{$$slots:i={},$$scope:r}=e,{closeOnEscape:l=void 0}=e,{portal:a=void 0}=e,{closeOnPointerDown:s=void 0}=e,{openDelay:u=void 0}=e,{closeDelay:f=void 0}=e,{open:c=void 0}=e,{onOpenChange:d=void 0}=e,{disableHoverableContent:m=void 0}=e,{group:_=void 0}=e;const{states:{open:h},updateOption:p,ids:w}=K_({closeOnEscape:l,portal:a,closeOnPointerDown:s,openDelay:u,closeDelay:f,forceVisible:!0,defaultOpen:c,disableHoverableContent:m,group:_,onOpenChange:({next:S})=>(c!==S&&(d==null||d(S),o(2,c=S)),S),positioning:{gutter:0,offset:{mainAxis:1}}}),v=en([w.content,w.trigger],([S,D])=>({content:S,trigger:D}));return se(t,v,S=>o(0,n=S)),t.$$set=S=>{"closeOnEscape"in S&&o(3,l=S.closeOnEscape),"portal"in S&&o(4,a=S.portal),"closeOnPointerDown"in S&&o(5,s=S.closeOnPointerDown),"openDelay"in S&&o(6,u=S.openDelay),"closeDelay"in S&&o(7,f=S.closeDelay),"open"in S&&o(2,c=S.open),"onOpenChange"in S&&o(8,d=S.onOpenChange),"disableHoverableContent"in S&&o(9,m=S.disableHoverableContent),"group"in S&&o(10,_=S.group),"$$scope"in S&&o(11,r=S.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&c!==void 0&&h.set(c),t.$$.dirty&8&&p("closeOnEscape",l),t.$$.dirty&16&&p("portal",a),t.$$.dirty&32&&p("closeOnPointerDown",s),t.$$.dirty&64&&p("openDelay",u),t.$$.dirty&128&&p("closeDelay",f),t.$$.dirty&1024&&p("group",_),t.$$.dirty&512&&p("disableHoverableContent",m)},[n,v,c,l,a,s,u,f,d,m,_,r,i]}class z_ extends he{constructor(e){super(),pe(this,e,Q_,Z_,de,{closeOnEscape:3,portal:4,closeOnPointerDown:5,openDelay:6,closeDelay:7,open:2,onOpenChange:8,disableHoverableContent:9,group:10})}}const e1=t=>({builder:t[0]&256}),Us=t=>({builder:t[8]}),t1=t=>({builder:t[0]&256}),Ks=t=>({builder:t[8]}),n1=t=>({builder:t[0]&256}),Js=t=>({builder:t[8]}),o1=t=>({builder:t[0]&256}),Xs=t=>({builder:t[8]}),i1=t=>({builder:t[0]&256}),Zs=t=>({builder:t[8]}),r1=t=>({builder:t[0]&256}),Qs=t=>({builder:t[8]});function l1(t){let e,o,n,i;const r=t[28].default,l=ge(r,t,t[27],Us);let a=[t[8],t[13]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=T("div"),l&&l.c(),fe(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[33](e),o=!0,n||(i=[Be(t[8].action(e)),z(e,"m-pointerdown",t[12]),z(e,"m-pointerenter",t[12])],n=!0)},p(u,f){l&&l.p&&(!o||f[0]&134217984)&&be(l,r,u,u[27],o?_e(r,u[27],f,e1):ve(u[27]),Us),fe(e,s=Se(a,[f[0]&256&&u[8],f[0]&8192&&u[13]]))},i(u){o||(y(l,u),o=!0)},o(u){A(l,u),o=!1},d(u){u&&I(e),l&&l.d(u),t[33](null),n=!1,xe(i)}}}function s1(t){let e,o,n,i,r;const l=t[28].default,a=ge(l,t,t[27],Ks);let s=[t[8],t[13]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=T("div"),a&&a.c(),fe(e,u)},m(f,c){O(f,e,c),a&&a.m(e,null),t[32](e),n=!0,i||(r=[Be(t[8].action(e)),z(e,"m-pointerdown",t[12]),z(e,"m-pointerenter",t[12])],i=!0)},p(f,c){t=f,a&&a.p&&(!n||c[0]&134217984)&&be(a,l,t,t[27],n?_e(l,t[27],c,t1):ve(t[27]),Ks),fe(e,u=Se(s,[c[0]&256&&t[8],c[0]&8192&&t[13]]))},i(f){n||(y(a,f),o&&o.end(1),n=!0)},o(f){A(a,f),f&&(o=Vt(e,t[5],t[6])),n=!1},d(f){f&&I(e),a&&a.d(f),t[32](null),f&&o&&o.end(),i=!1,xe(r)}}}function a1(t){let e,o,n,i,r;const l=t[28].default,a=ge(l,t,t[27],Js);let s=[t[8],t[13]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=T("div"),a&&a.c(),fe(e,u)},m(f,c){O(f,e,c),a&&a.m(e,null),t[31](e),n=!0,i||(r=[Be(t[8].action(e)),z(e,"m-pointerdown",t[12]),z(e,"m-pointerenter",t[12])],i=!0)},p(f,c){t=f,a&&a.p&&(!n||c[0]&134217984)&&be(a,l,t,t[27],n?_e(l,t[27],c,n1):ve(t[27]),Js),fe(e,u=Se(s,[c[0]&256&&t[8],c[0]&8192&&t[13]]))},i(f){n||(y(a,f),f&&(o||ze(()=>{o=Ht(e,t[3],t[4]),o.start()})),n=!0)},o(f){A(a,f),n=!1},d(f){f&&I(e),a&&a.d(f),t[31](null),i=!1,xe(r)}}}function u1(t){let e,o,n,i,r,l;const a=t[28].default,s=ge(a,t,t[27],Xs);let u=[t[8],t[13]],f={};for(let c=0;c<u.length;c+=1)f=Q(f,u[c]);return{c(){e=T("div"),s&&s.c(),fe(e,f)},m(c,d){O(c,e,d),s&&s.m(e,null),t[30](e),i=!0,r||(l=[Be(t[8].action(e)),z(e,"m-pointerdown",t[12]),z(e,"m-pointerenter",t[12])],r=!0)},p(c,d){t=c,s&&s.p&&(!i||d[0]&134217984)&&be(s,a,t,t[27],i?_e(a,t[27],d,o1):ve(t[27]),Xs),fe(e,f=Se(u,[d[0]&256&&t[8],d[0]&8192&&t[13]]))},i(c){i||(y(s,c),c&&ze(()=>{i&&(n&&n.end(1),o=Ht(e,t[3],t[4]),o.start())}),i=!0)},o(c){A(s,c),o&&o.invalidate(),c&&(n=Vt(e,t[5],t[6])),i=!1},d(c){c&&I(e),s&&s.d(c),t[30](null),c&&n&&n.end(),r=!1,xe(l)}}}function f1(t){let e,o,n,i,r;const l=t[28].default,a=ge(l,t,t[27],Zs);let s=[t[8],t[13]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=T("div"),a&&a.c(),fe(e,u)},m(f,c){O(f,e,c),a&&a.m(e,null),t[29](e),n=!0,i||(r=[Be(t[8].action(e)),z(e,"m-pointerdown",t[12]),z(e,"m-pointerenter",t[12])],i=!0)},p(f,c){t=f,a&&a.p&&(!n||c[0]&134217984)&&be(a,l,t,t[27],n?_e(l,t[27],c,i1):ve(t[27]),Zs),fe(e,u=Se(s,[c[0]&256&&t[8],c[0]&8192&&t[13]]))},i(f){n||(y(a,f),f&&ze(()=>{n&&(o||(o=gt(e,t[1],t[2],!0)),o.run(1))}),n=!0)},o(f){A(a,f),f&&(o||(o=gt(e,t[1],t[2],!1)),o.run(0)),n=!1},d(f){f&&I(e),a&&a.d(f),t[29](null),f&&o&&o.end(),i=!1,xe(r)}}}function c1(t){let e;const o=t[28].default,n=ge(o,t,t[27],Qs);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r[0]&134217984)&&be(n,o,i,i[27],e?_e(o,i[27],r,r1):ve(i[27]),Qs)},i(i){e||(y(n,i),e=!0)},o(i){A(n,i),e=!1},d(i){n&&n.d(i)}}}function d1(t){let e,o,n,i;const r=[c1,f1,u1,a1,s1,l1],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(o=l[e]=r[e](t)),{c(){o&&o.c(),n=Le()},m(s,u){~e&&l[e].m(s,u),O(s,n,u),i=!0},p(s,u){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(o&&(Ie(),A(l[f],1,1,()=>{l[f]=null}),Me()),~e?(o=l[e],o?o.p(s,u):(o=l[e]=r[e](s),o.c()),y(o,1),o.m(n.parentNode,n)):o=null)},i(s){i||(y(o),i=!0)},o(s){A(o),i=!1},d(s){s&&I(n),~e&&l[e].d(s)}}}function m1(t,e,o){let n;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","id","side","align","sideOffset","alignOffset","collisionPadding","avoidCollisions","collisionBoundary","sameWidth","fitViewport","strategy","overlap","el"];let r=ue(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:_=void 0}=e,{outTransitionConfig:h=void 0}=e,{asChild:p=!1}=e,{id:w=void 0}=e,{side:v="top"}=e,{align:S="center"}=e,{sideOffset:D=0}=e,{alignOffset:j=0}=e,{collisionPadding:F=8}=e,{avoidCollisions:R=!0}=e,{collisionBoundary:P=void 0}=e,{sameWidth:E=!1}=e,{fitViewport:q=!1}=e,{strategy:M="absolute"}=e,{overlap:C=!1}=e,{el:k=void 0}=e;const{elements:{content:N},states:{open:B},ids:L,getAttrs:J}=gl();se(t,N,ie=>o(26,a=ie)),se(t,B,ie=>o(9,l=ie));const Z=uo(),X=J("content");function ne(ie){Ne[ie?"unshift":"push"](()=>{k=ie,o(0,k)})}function ee(ie){Ne[ie?"unshift":"push"](()=>{k=ie,o(0,k)})}function oe(ie){Ne[ie?"unshift":"push"](()=>{k=ie,o(0,k)})}function we(ie){Ne[ie?"unshift":"push"](()=>{k=ie,o(0,k)})}function ae(ie){Ne[ie?"unshift":"push"](()=>{k=ie,o(0,k)})}return t.$$set=ie=>{e=Q(Q({},e),$e(ie)),o(13,r=ue(e,i)),"transition"in ie&&o(1,f=ie.transition),"transitionConfig"in ie&&o(2,c=ie.transitionConfig),"inTransition"in ie&&o(3,d=ie.inTransition),"inTransitionConfig"in ie&&o(4,m=ie.inTransitionConfig),"outTransition"in ie&&o(5,_=ie.outTransition),"outTransitionConfig"in ie&&o(6,h=ie.outTransitionConfig),"asChild"in ie&&o(7,p=ie.asChild),"id"in ie&&o(14,w=ie.id),"side"in ie&&o(15,v=ie.side),"align"in ie&&o(16,S=ie.align),"sideOffset"in ie&&o(17,D=ie.sideOffset),"alignOffset"in ie&&o(18,j=ie.alignOffset),"collisionPadding"in ie&&o(19,F=ie.collisionPadding),"avoidCollisions"in ie&&o(20,R=ie.avoidCollisions),"collisionBoundary"in ie&&o(21,P=ie.collisionBoundary),"sameWidth"in ie&&o(22,E=ie.sameWidth),"fitViewport"in ie&&o(23,q=ie.fitViewport),"strategy"in ie&&o(24,M=ie.strategy),"overlap"in ie&&o(25,C=ie.overlap),"el"in ie&&o(0,k=ie.el),"$$scope"in ie&&o(27,u=ie.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&16384&&w&&L.content.set(w),t.$$.dirty[0]&67108864&&o(8,n=a),t.$$.dirty[0]&256&&Object.assign(n,X),t.$$.dirty[0]&67076608&&l&&J_({side:v,align:S,sideOffset:D,alignOffset:j,collisionPadding:F,avoidCollisions:R,collisionBoundary:P,sameWidth:E,fitViewport:q,strategy:M,overlap:C})},[k,f,c,d,m,_,h,p,n,l,N,B,Z,r,w,v,S,D,j,F,R,P,E,q,M,C,a,u,s,ne,ee,oe,we,ae]}let p1=class extends he{constructor(e){super(),pe(this,e,m1,d1,de,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,id:14,side:15,align:16,sideOffset:17,alignOffset:18,collisionPadding:19,avoidCollisions:20,collisionBoundary:21,sameWidth:22,fitViewport:23,strategy:24,overlap:25,el:0},null,[-1,-1])}};const h1=t=>({builder:t&4}),zs=t=>({builder:t[2]}),g1=t=>({builder:t&4}),ea=t=>({builder:t[2]});function _1(t){let e,o,n,i;const r=t[9].default,l=ge(r,t,t[8],zs);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=T("button"),l&&l.c(),fe(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[10](e),o=!0,n||(i=[Be(t[2].action(e)),z(e,"m-blur",t[4]),z(e,"m-focus",t[4]),z(e,"m-keydown",t[4]),z(e,"m-pointerdown",t[4]),z(e,"m-pointerenter",t[4]),z(e,"m-pointerleave",t[4])],n=!0)},p(u,f){l&&l.p&&(!o||f&260)&&be(l,r,u,u[8],o?_e(r,u[8],f,h1):ve(u[8]),zs),fe(e,s=Se(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){o||(y(l,u),o=!0)},o(u){A(l,u),o=!1},d(u){u&&I(e),l&&l.d(u),t[10](null),n=!1,xe(i)}}}function b1(t){let e;const o=t[9].default,n=ge(o,t,t[8],ea);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&260)&&be(n,o,i,i[8],e?_e(o,i[8],r,g1):ve(i[8]),ea)},i(i){e||(y(n,i),e=!0)},o(i){A(n,i),e=!1},d(i){n&&n.d(i)}}}function v1(t){let e,o,n,i;const r=[b1,_1],l=[];function a(s,u){return s[1]?0:1}return e=a(t),o=l[e]=r[e](t),{c(){o.c(),n=Le()},m(s,u){l[e].m(s,u),O(s,n,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),A(l[f],1,1,()=>{l[f]=null}),Me(),o=l[e],o?o.p(s,u):(o=l[e]=r[e](s),o.c()),y(o,1),o.m(n.parentNode,n))},i(s){i||(y(o),i=!0)},o(s){A(o),i=!1},d(s){s&&I(n),l[e].d(s)}}}function y1(t,e,o){let n;const i=["asChild","id","el"];let r=ue(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{trigger:d},ids:m,getAttrs:_}=gl();se(t,d,v=>o(7,l=v));const h=uo(),p=_("trigger");function w(v){Ne[v?"unshift":"push"](()=>{c=v,o(0,c)})}return t.$$set=v=>{e=Q(Q({},e),$e(v)),o(5,r=ue(e,i)),"asChild"in v&&o(1,u=v.asChild),"id"in v&&o(6,f=v.id),"el"in v&&o(0,c=v.el),"$$scope"in v&&o(8,s=v.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&f&&m.trigger.set(f),t.$$.dirty&128&&o(2,n=l),t.$$.dirty&4&&Object.assign(n,p)},[c,u,n,d,h,r,f,l,s,a,w]}class w1 extends he{constructor(e){super(),pe(this,e,y1,v1,de,{asChild:1,id:6,el:0})}}function k1(t){let e;const o=t[2].default,n=ge(o,t,t[3],null);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&8)&&be(n,o,i,i[3],e?_e(o,i[3],r,null):ve(i[3]),null)},i(i){e||(y(n,i),e=!0)},o(i){A(n,i),e=!1},d(i){n&&n.d(i)}}}function C1(t){let e,o;const n=[{class:je("text-lg font-semibold leading-none tracking-tight",t[0])},t[1]];let i={$$slots:{default:[k1]},$$scope:{ctx:t}};for(let r=0;r<n.length;r+=1)i=Q(i,n[r]);return e=new A0({props:i}),{c(){U(e.$$.fragment)},m(r,l){W(e,r,l),o=!0},p(r,[l]){const a=l&3?Se(n,[l&1&&{class:je("text-lg font-semibold leading-none tracking-tight",r[0])},l&2&&lt(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){o||(y(e.$$.fragment,r),o=!0)},o(r){A(e.$$.fragment,r),o=!1},d(r){Y(e,r)}}}function S1(t,e,o){const n=["class"];let i=ue(e,n),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Q(Q({},e),$e(s)),o(1,i=ue(e,n)),"class"in s&&o(0,a=s.class),"$$scope"in s&&o(3,l=s.$$scope)},[a,i,r,l]}class nn extends he{constructor(e){super(),pe(this,e,S1,C1,de,{class:0})}}function A1(t){let e;const o=t[1].default,n=ge(o,t,t[2],null);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&4)&&be(n,o,i,i[2],e?_e(o,i[2],r,null):ve(i[2]),null)},i(i){e||(y(n,i),e=!0)},o(i){A(n,i),e=!1},d(i){n&&n.d(i)}}}function T1(t){let e,o;const n=[t[0]];let i={$$slots:{default:[A1]},$$scope:{ctx:t}};for(let r=0;r<n.length;r+=1)i=Q(i,n[r]);return e=new E0({props:i}),{c(){U(e.$$.fragment)},m(r,l){W(e,r,l),o=!0},p(r,[l]){const a=l&1?Se(n,[lt(r[0])]):{};l&4&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){o||(y(e.$$.fragment,r),o=!0)},o(r){A(e.$$.fragment,r),o=!1},d(r){Y(e,r)}}}function I1(t,e,o){const n=[];let i=ue(e,n),{$$slots:r={},$$scope:l}=e;return t.$$set=a=>{e=Q(Q({},e),$e(a)),o(0,i=ue(e,n)),"$$scope"in a&&o(2,l=a.$$scope)},[i,r,l]}class M1 extends he{constructor(e){super(),pe(this,e,I1,T1,de,{})}}function O1(t){let e,o,n;const i=t[3].default,r=ge(i,t,t[2],null);let l=[{class:o=je("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=Q(a,l[s]);return{c(){e=T("div"),r&&r.c(),fe(e,a)},m(s,u){O(s,e,u),r&&r.m(e,null),n=!0},p(s,[u]){r&&r.p&&(!n||u&4)&&be(r,i,s,s[2],n?_e(i,s[2],u,null):ve(s[2]),null),fe(e,a=Se(l,[(!n||u&1&&o!==(o=je("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s[0])))&&{class:o},u&2&&s[1]]))},i(s){n||(y(r,s),n=!0)},o(s){A(r,s),n=!1},d(s){s&&I(e),r&&r.d(s)}}}function P1(t,e,o){const n=["class"];let i=ue(e,n),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Q(Q({},e),$e(s)),o(1,i=ue(e,n)),"class"in s&&o(0,a=s.class),"$$scope"in s&&o(2,l=s.$$scope)},[a,i,l,r]}class Ln extends he{constructor(e){super(),pe(this,e,P1,O1,de,{class:0})}}function N1(t){let e,o,n;const i=t[3].default,r=ge(i,t,t[2],null);let l=[{class:o=je("flex flex-col space-y-1.5 text-center sm:text-left",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=Q(a,l[s]);return{c(){e=T("div"),r&&r.c(),fe(e,a)},m(s,u){O(s,e,u),r&&r.m(e,null),n=!0},p(s,[u]){r&&r.p&&(!n||u&4)&&be(r,i,s,s[2],n?_e(i,s[2],u,null):ve(s[2]),null),fe(e,a=Se(l,[(!n||u&1&&o!==(o=je("flex flex-col space-y-1.5 text-center sm:text-left",s[0])))&&{class:o},u&2&&s[1]]))},i(s){n||(y(r,s),n=!0)},o(s){A(r,s),n=!1},d(s){s&&I(e),r&&r.d(s)}}}function E1(t,e,o){const n=["class"];let i=ue(e,n),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Q(Q({},e),$e(s)),o(1,i=ue(e,n)),"class"in s&&o(0,a=s.class),"$$scope"in s&&o(2,l=s.$$scope)},[a,i,l,r]}class gn extends he{constructor(e){super(),pe(this,e,E1,N1,de,{class:0})}}function Oi(t,{delay:e=0,duration:o=400,easing:n=xi}={}){const i=+getComputedStyle(t).opacity;return{delay:e,duration:o,easing:n,css:r=>`opacity: ${r*i}`}}function ta(t,{delay:e=0,duration:o=400,easing:n=Rf,axis:i="y"}={}){const r=getComputedStyle(t),l=+r.opacity,a=i==="y"?"height":"width",s=parseFloat(r[a]),u=i==="y"?["top","bottom"]:["left","right"],f=u.map(w=>`${w[0].toUpperCase()}${w.slice(1)}`),c=parseFloat(r[`padding${f[0]}`]),d=parseFloat(r[`padding${f[1]}`]),m=parseFloat(r[`margin${f[0]}`]),_=parseFloat(r[`margin${f[1]}`]),h=parseFloat(r[`border${f[0]}Width`]),p=parseFloat(r[`border${f[1]}Width`]);return{delay:e,duration:o,easing:n,css:w=>`overflow: hidden;opacity: ${Math.min(w*20,1)*l};${a}: ${w*s}px;padding-${u[0]}: ${w*c}px;padding-${u[1]}: ${w*d}px;margin-${u[0]}: ${w*m}px;margin-${u[1]}: ${w*_}px;border-${u[0]}-width: ${w*h}px;border-${u[1]}-width: ${w*p}px;`}}function R1(t){let e,o;const n=[{transition:t[1]},{transitionConfig:t[2]},{class:je("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm",t[0])},t[3]];let i={};for(let r=0;r<n.length;r+=1)i=Q(i,n[r]);return e=new o_({props:i}),{c(){U(e.$$.fragment)},m(r,l){W(e,r,l),o=!0},p(r,[l]){const a=l&15?Se(n,[l&2&&{transition:r[1]},l&4&&{transitionConfig:r[2]},l&1&&{class:je("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm",r[0])},l&8&&lt(r[3])]):{};e.$set(a)},i(r){o||(y(e.$$.fragment,r),o=!0)},o(r){A(e.$$.fragment,r),o=!1},d(r){Y(e,r)}}}function $1(t,e,o){const n=["class","transition","transitionConfig"];let i=ue(e,n),{class:r=void 0}=e,{transition:l=Oi}=e,{transitionConfig:a={duration:150}}=e;return t.$$set=s=>{e=Q(Q({},e),$e(s)),o(3,i=ue(e,n)),"class"in s&&o(0,r=s.class),"transition"in s&&o(1,l=s.transition),"transitionConfig"in s&&o(2,a=s.transitionConfig)},[r,l,a,i]}class L1 extends he{constructor(e){super(),pe(this,e,$1,R1,de,{class:0,transition:1,transitionConfig:2})}}function D1(t){let e;const o=t[4].default,n=ge(o,t,t[5],null);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&32)&&be(n,o,i,i[5],e?_e(o,i[5],r,null):ve(i[5]),null)},i(i){e||(y(n,i),e=!0)},o(i){A(n,i),e=!1},d(i){n&&n.d(i)}}}function j1(t){let e,o,n,i;e=new L1({});const r=[{transition:t[1]},{transitionConfig:t[2]},{class:je("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg rounded-3xl md:w-full",t[0])},t[3]];let l={$$slots:{default:[D1]},$$scope:{ctx:t}};for(let a=0;a<r.length;a+=1)l=Q(l,r[a]);return n=new U0({props:l}),{c(){U(e.$$.fragment),o=H(),U(n.$$.fragment)},m(a,s){W(e,a,s),O(a,o,s),W(n,a,s),i=!0},p(a,s){const u=s&15?Se(r,[s&2&&{transition:a[1]},s&4&&{transitionConfig:a[2]},s&1&&{class:je("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg rounded-3xl md:w-full",a[0])},s&8&&lt(a[3])]):{};s&32&&(u.$$scope={dirty:s,ctx:a}),n.$set(u)},i(a){i||(y(e.$$.fragment,a),y(n.$$.fragment,a),i=!0)},o(a){A(e.$$.fragment,a),A(n.$$.fragment,a),i=!1},d(a){a&&I(o),Y(e,a),Y(n,a)}}}function F1(t){let e,o;return e=new M1({props:{$$slots:{default:[j1]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,[i]){const r={};i&47&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){A(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function B1(t,e,o){const n=["class","transition","transitionConfig"];let i=ue(e,n),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{transition:s=lo}=e,{transitionConfig:u={duration:400}}=e;return t.$$set=f=>{e=Q(Q({},e),$e(f)),o(3,i=ue(e,n)),"class"in f&&o(0,a=f.class),"transition"in f&&o(1,s=f.transition),"transitionConfig"in f&&o(2,u=f.transitionConfig),"$$scope"in f&&o(5,l=f.$$scope)},[a,s,u,i,r,l]}class on extends he{constructor(e){super(),pe(this,e,B1,F1,de,{class:0,transition:1,transitionConfig:2})}}function q1(t){let e;const o=t[2].default,n=ge(o,t,t[3],null);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&8)&&be(n,o,i,i[3],e?_e(o,i[3],r,null):ve(i[3]),null)},i(i){e||(y(n,i),e=!0)},o(i){A(n,i),e=!1},d(i){n&&n.d(i)}}}function x1(t){let e,o;const n=[{class:je("text-sm text-muted-foreground",t[0])},t[1]];let i={$$slots:{default:[q1]},$$scope:{ctx:t}};for(let r=0;r<n.length;r+=1)i=Q(i,n[r]);return e=new f_({props:i}),{c(){U(e.$$.fragment)},m(r,l){W(e,r,l),o=!0},p(r,[l]){const a=l&3?Se(n,[l&1&&{class:je("text-sm text-muted-foreground",r[0])},l&2&&lt(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){o||(y(e.$$.fragment,r),o=!0)},o(r){A(e.$$.fragment,r),o=!1},d(r){Y(e,r)}}}function G1(t,e,o){const n=["class"];let i=ue(e,n),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Q(Q({},e),$e(s)),o(1,i=ue(e,n)),"class"in s&&o(0,a=s.class),"$$scope"in s&&o(3,l=s.$$scope)},[a,i,r,l]}class co extends he{constructor(e){super(),pe(this,e,G1,x1,de,{class:0})}}const rn=b0,fc={land:{short_title:"Fill the grid",description_title:"You win by filling up all possible plots in the grid, and by meeting some requirements.",win:"You have filled the grid with buildings and met the requirements. Your citizens are happy, fulfilled, hard-working, and healthy. ",requirements:{0:{population_count:200,happiness:100,health:100,employment:1,knowledge:50,required_plots:["pub","small_school","community_center"]},1:{population_count:1e3,happiness:120,health:120,employment:1,knowledge:100,required_plots:["bank"]},2:{population_count:1e3,happiness:200,health:200,employment:1,knowledge:1e3,required_plots:["bank","city_hall"]}}},free_play:{short_title:"Quests",description_title:"Play for as long as you can and build the best city you can while completing quests."}};function H1(t){let e;const o=t[3].default,n=ge(o,t,t[4],null);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&16)&&be(n,o,i,i[4],e?_e(o,i[4],r,null):ve(i[4]),null)},i(i){e||(y(n,i),e=!0)},o(i){A(n,i),e=!1},d(i){n&&n.d(i)}}}function V1(t){let e,o;const n=[{class:je("text-lg font-semibold",t[0])},{level:t[1]},t[2]];let i={$$slots:{default:[H1]},$$scope:{ctx:t}};for(let r=0;r<n.length;r+=1)i=Q(i,n[r]);return e=new Zh({props:i}),{c(){U(e.$$.fragment)},m(r,l){W(e,r,l),o=!0},p(r,[l]){const a=l&7?Se(n,[l&1&&{class:je("text-lg font-semibold",r[0])},l&2&&{level:r[1]},l&4&&lt(r[2])]):{};l&16&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){o||(y(e.$$.fragment,r),o=!0)},o(r){A(e.$$.fragment,r),o=!1},d(r){Y(e,r)}}}function W1(t,e,o){const n=["class","level"];let i=ue(e,n),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{level:s="h3"}=e;return t.$$set=u=>{e=Q(Q({},e),$e(u)),o(2,i=ue(e,n)),"class"in u&&o(0,a=u.class),"level"in u&&o(1,s=u.level),"$$scope"in u&&o(4,l=u.$$scope)},[a,s,i,r,l]}class cc extends he{constructor(e){super(),pe(this,e,W1,V1,de,{class:0,level:1})}}function Y1(t){let e;const o=t[5].default,n=ge(o,t,t[8],null);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&256)&&be(n,o,i,i[8],e?_e(o,i[8],r,null):ve(i[8]),null)},i(i){e||(y(n,i),e=!0)},o(i){A(n,i),e=!1},d(i){n&&n.d(i)}}}function U1(t){let e,o;const n=[{builders:t[3]},{class:je(to({variant:t[1],size:t[2]}),t[0])},{type:"button"},t[4]];let i={$$slots:{default:[Y1]},$$scope:{ctx:t}};for(let r=0;r<n.length;r+=1)i=Q(i,n[r]);return e=new n0({props:i}),e.$on("click",t[6]),e.$on("keydown",t[7]),{c(){U(e.$$.fragment)},m(r,l){W(e,r,l),o=!0},p(r,[l]){const a=l&31?Se(n,[l&8&&{builders:r[3]},l&7&&{class:je(to({variant:r[1],size:r[2]}),r[0])},n[2],l&16&&lt(r[4])]):{};l&256&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){o||(y(e.$$.fragment,r),o=!0)},o(r){A(e.$$.fragment,r),o=!1},d(r){Y(e,r)}}}function K1(t,e,o){const n=["class","variant","size","builders"];let i=ue(e,n),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{variant:s="default"}=e,{size:u="default"}=e,{builders:f=[]}=e;function c(m){re.call(this,t,m)}function d(m){re.call(this,t,m)}return t.$$set=m=>{e=Q(Q({},e),$e(m)),o(4,i=ue(e,n)),"class"in m&&o(0,a=m.class),"variant"in m&&o(1,s=m.variant),"size"in m&&o(2,u=m.size),"builders"in m&&o(3,f=m.builders),"$$scope"in m&&o(8,l=m.$$scope)},[a,s,u,f,i,r,c,d,l]}class Ot extends he{constructor(e){super(),pe(this,e,K1,U1,de,{class:0,variant:1,size:2,builders:3})}}var na=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,yt=t=>!t||typeof t!="object"||Object.keys(t).length===0,J1=(t,e)=>JSON.stringify(t)===JSON.stringify(e);function dc(t,e){t.forEach(function(o){Array.isArray(o)?dc(o,e):e.push(o)})}function mc(t){let e=[];return dc(t,e),e}var pc=(...t)=>mc(t).filter(Boolean),hc=(t,e)=>{let o={},n=Object.keys(t),i=Object.keys(e);for(let r of n)if(i.includes(r)){let l=t[r],a=e[r];typeof l=="object"&&typeof a=="object"?o[r]=hc(l,a):Array.isArray(l)||Array.isArray(a)?o[r]=pc(a,l):o[r]=a+" "+l}else o[r]=t[r];for(let r of i)n.includes(r)||(o[r]=e[r]);return o},oa=t=>!t||typeof t!="string"?t:t.replace(/\s+/g," ").trim(),X1={twMerge:!0,twMergeConfig:{},responsiveVariants:!1},gc=t=>t||void 0,Fo=(...t)=>gc(mc(t).filter(Boolean).join(" ")),br=null,Xt={},Br=!1,ko=(...t)=>e=>e.twMerge?((!br||Br)&&(Br=!1,br=yt(Xt)?Ef:um({...Xt,extend:{theme:Xt.theme,classGroups:Xt.classGroups,conflictingClassGroupModifiers:Xt.conflictingClassGroupModifiers,conflictingClassGroups:Xt.conflictingClassGroups,...Xt.extend}})),gc(br(Fo(t)))):Fo(t),ia=(t,e)=>{for(let o in e)t.hasOwnProperty(o)?t[o]=Fo(t[o],e[o]):t[o]=e[o];return t},Z1=(t,e)=>{let{extend:o=null,slots:n={},variants:i={},compoundVariants:r=[],compoundSlots:l=[],defaultVariants:a={}}=t,s={...X1,...e},u=o!=null&&o.base?Fo(o.base,t==null?void 0:t.base):t==null?void 0:t.base,f=o!=null&&o.variants&&!yt(o.variants)?hc(i,o.variants):i,c=o!=null&&o.defaultVariants&&!yt(o.defaultVariants)?{...o.defaultVariants,...a}:a;!yt(s.twMergeConfig)&&!J1(s.twMergeConfig,Xt)&&(Br=!0,Xt=s.twMergeConfig);let d=yt(o==null?void 0:o.slots),m=yt(n)?{}:{base:Fo(t==null?void 0:t.base,d&&(o==null?void 0:o.base)),...n},_=d?m:ia({...o==null?void 0:o.slots},yt(m)?{base:t==null?void 0:t.base}:m),h=w=>{if(yt(f)&&yt(n)&&d)return ko(u,w==null?void 0:w.class,w==null?void 0:w.className)(s);if(r&&!Array.isArray(r))throw new TypeError(`The "compoundVariants" prop must be an array. Received: ${typeof r}`);if(l&&!Array.isArray(l))throw new TypeError(`The "compoundSlots" prop must be an array. Received: ${typeof l}`);let v=(C,k,N=[],B)=>{let L=N;if(typeof k=="string")L=L.concat(oa(k).split(" ").map(J=>`${C}:${J}`));else if(Array.isArray(k))L=L.concat(k.reduce((J,Z)=>J.concat(`${C}:${Z}`),[]));else if(typeof k=="object"&&typeof B=="string"){for(let J in k)if(k.hasOwnProperty(J)&&J===B){let Z=k[J];if(Z&&typeof Z=="string"){let X=oa(Z);L[B]?L[B]=L[B].concat(X.split(" ").map(ne=>`${C}:${ne}`)):L[B]=X.split(" ").map(ne=>`${C}:${ne}`)}else Array.isArray(Z)&&Z.length>0&&(L[B]=Z.reduce((X,ne)=>X.concat(`${C}:${ne}`),[]))}}return L},S=(C,k=f,N=null,B=null)=>{var L;let J=k[C];if(!J||yt(J))return null;let Z=(L=B==null?void 0:B[C])!=null?L:w==null?void 0:w[C];if(Z===null)return null;let X=na(Z),ne=Array.isArray(s.responsiveVariants)&&s.responsiveVariants.length>0||s.responsiveVariants===!0,ee=c==null?void 0:c[C],oe=[];if(typeof X=="object"&&ne)for(let[ie,qe]of Object.entries(X)){let Ge=J[qe];if(ie==="initial"){ee=qe;continue}Array.isArray(s.responsiveVariants)&&!s.responsiveVariants.includes(ie)||(oe=v(ie,Ge,oe,N))}let we=X!=null&&typeof X!="object"?X:na(ee),ae=J[we]||J.false;return typeof oe=="object"&&typeof N=="string"&&oe[N]?ia(oe,ae):oe.length>0?(oe.push(ae),oe):ae},D=()=>f?Object.keys(f).map(C=>S(C,f)):null,j=(C,k)=>{if(!f||typeof f!="object")return null;let N=new Array;for(let B in f){let L=S(B,f,C,k),J=C==="base"&&typeof L=="string"?L:L&&L[C];J&&(N[N.length]=J)}return N},F={};for(let C in w)w[C]!==void 0&&(F[C]=w[C]);let R=(C,k)=>{var N;let B=typeof(w==null?void 0:w[C])=="object"?{[C]:(N=w[C])==null?void 0:N.initial}:{};return{...c,...F,...B,...k}},P=(C=[],k)=>{let N=[];for(let{class:B,className:L,...J}of C){let Z=!0;for(let[X,ne]of Object.entries(J)){let ee=R(X,k);if(Array.isArray(ne)){if(!ne.includes(ee[X])){Z=!1;break}}else if(ee[X]!==ne){Z=!1;break}}Z&&(B&&N.push(B),L&&N.push(L))}return N},E=C=>{let k=P(r,C),N=P(o==null?void 0:o.compoundVariants,C);return pc(N,k)},q=C=>{let k=E(C);if(!Array.isArray(k))return k;let N={};for(let B of k)if(typeof B=="string"&&(N.base=ko(N.base,B)(s)),typeof B=="object")for(let[L,J]of Object.entries(B))N[L]=ko(N[L],J)(s);return N},M=C=>{if(l.length<1)return null;let k={};for(let{slots:N=[],class:B,className:L,...J}of l){if(!yt(J)){let Z=!0;for(let X of Object.keys(J)){let ne=R(X,C)[X];if(ne===void 0||(Array.isArray(J[X])?!J[X].includes(ne):J[X]!==ne)){Z=!1;break}}if(!Z)continue}for(let Z of N)k[Z]=k[Z]||[],k[Z].push([B,L])}return k};if(!yt(n)||!d){let C={};if(typeof _=="object"&&!yt(_))for(let k of Object.keys(_))C[k]=N=>{var B,L;return ko(_[k],j(k,N),((B=q(N))!=null?B:[])[k],((L=M(N))!=null?L:[])[k],N==null?void 0:N.class,N==null?void 0:N.className)(s)};return C}return ko(u,D(),E(),w==null?void 0:w.class,w==null?void 0:w.className)(s)},p=()=>{if(!(!f||typeof f!="object"))return Object.keys(f)};return h.variantKeys=p(),h.extend=o,h.base=u,h.slots=_,h.variants=f,h.defaultVariants=c,h.compoundSlots=l,h.compoundVariants=r,h};const to=Z1({base:"inline-flex items-center justify-center rounded-md text-sm font-medium whitespace-nowrap transition-colors focus-visible:outline-none disabled:pointer-events-none disabled:opacity-50",variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg- hover:bg-accent hover:text-accent-foreground",secondary:"bg-accent text-accent-foreground hover:bg-accent/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Q1=t=>({builder:t&64}),ra=t=>({builder:t[6]});function z1(t){let e;const o=t[2].default,n=ge(o,t,t[5],ra);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&96)&&be(n,o,i,i[5],e?_e(o,i[5],r,Q1):ve(i[5]),ra)},i(i){e||(y(n,i),e=!0)},o(i){A(n,i),e=!1},d(i){n&&n.d(i)}}}function eb(t){let e,o;const n=[{class:je(to(),t[0])},t[1]];let i={$$slots:{default:[z1,({builder:r})=>({6:r}),({builder:r})=>r?64:0]},$$scope:{ctx:t}};for(let r=0;r<n.length;r+=1)i=Q(i,n[r]);return e=new ig({props:i}),e.$on("click",t[3]),e.$on("keydown",t[4]),{c(){U(e.$$.fragment)},m(r,l){W(e,r,l),o=!0},p(r,[l]){const a=l&3?Se(n,[l&1&&{class:je(to(),r[0])},l&2&&lt(r[1])]):{};l&96&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){o||(y(e.$$.fragment,r),o=!0)},o(r){A(e.$$.fragment,r),o=!1},d(r){Y(e,r)}}}function tb(t,e,o){const n=["class"];let i=ue(e,n),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(f){re.call(this,t,f)}function u(f){re.call(this,t,f)}return t.$$set=f=>{e=Q(Q({},e),$e(f)),o(1,i=ue(e,n)),"class"in f&&o(0,a=f.class),"$$scope"in f&&o(5,l=f.$$scope)},[a,i,r,s,u,l]}class _c extends he{constructor(e){super(),pe(this,e,tb,eb,de,{class:0})}}const nb=t=>({builder:t&64}),la=t=>({builder:t[6]});function ob(t){let e;const o=t[2].default,n=ge(o,t,t[5],la);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&96)&&be(n,o,i,i[5],e?_e(o,i[5],r,nb):ve(i[5]),la)},i(i){e||(y(n,i),e=!0)},o(i){A(n,i),e=!1},d(i){n&&n.d(i)}}}function ib(t){let e,o;const n=[{class:je(to({variant:"default"}),"mt-2 sm:mt-0",t[0])},t[1]];let i={$$slots:{default:[ob,({builder:r})=>({6:r}),({builder:r})=>r?64:0]},$$scope:{ctx:t}};for(let r=0;r<n.length;r+=1)i=Q(i,n[r]);return e=new cg({props:i}),e.$on("click",t[3]),e.$on("keydown",t[4]),{c(){U(e.$$.fragment)},m(r,l){W(e,r,l),o=!0},p(r,[l]){const a=l&3?Se(n,[l&1&&{class:je(to({variant:"default"}),"mt-2 sm:mt-0",r[0])},l&2&&lt(r[1])]):{};l&96&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){o||(y(e.$$.fragment,r),o=!0)},o(r){A(e.$$.fragment,r),o=!1},d(r){Y(e,r)}}}function rb(t,e,o){const n=["class"];let i=ue(e,n),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(f){re.call(this,t,f)}function u(f){re.call(this,t,f)}return t.$$set=f=>{e=Q(Q({},e),$e(f)),o(1,i=ue(e,n)),"class"in f&&o(0,a=f.class),"$$scope"in f&&o(5,l=f.$$scope)},[a,i,r,s,u,l]}class lb extends he{constructor(e){super(),pe(this,e,rb,ib,de,{class:0})}}function sb(t){let e;const o=t[1].default,n=ge(o,t,t[2],null);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&4)&&be(n,o,i,i[2],e?_e(o,i[2],r,null):ve(i[2]),null)},i(i){e||(y(n,i),e=!0)},o(i){A(n,i),e=!1},d(i){n&&n.d(i)}}}function ab(t){let e,o;const n=[t[0]];let i={$$slots:{default:[sb]},$$scope:{ctx:t}};for(let r=0;r<n.length;r+=1)i=Q(i,n[r]);return e=new bg({props:i}),{c(){U(e.$$.fragment)},m(r,l){W(e,r,l),o=!0},p(r,[l]){const a=l&1?Se(n,[lt(r[0])]):{};l&4&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){o||(y(e.$$.fragment,r),o=!0)},o(r){A(e.$$.fragment,r),o=!1},d(r){Y(e,r)}}}function ub(t,e,o){const n=[];let i=ue(e,n),{$$slots:r={},$$scope:l}=e;return t.$$set=a=>{e=Q(Q({},e),$e(a)),o(0,i=ue(e,n)),"$$scope"in a&&o(2,l=a.$$scope)},[i,r,l]}class fb extends he{constructor(e){super(),pe(this,e,ub,ab,de,{})}}function cb(t){let e,o,n;const i=t[3].default,r=ge(i,t,t[2],null);let l=[{class:o=je("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=Q(a,l[s]);return{c(){e=T("div"),r&&r.c(),fe(e,a)},m(s,u){O(s,e,u),r&&r.m(e,null),n=!0},p(s,[u]){r&&r.p&&(!n||u&4)&&be(r,i,s,s[2],n?_e(i,s[2],u,null):ve(s[2]),null),fe(e,a=Se(l,[(!n||u&1&&o!==(o=je("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s[0])))&&{class:o},u&2&&s[1]]))},i(s){n||(y(r,s),n=!0)},o(s){A(r,s),n=!1},d(s){s&&I(e),r&&r.d(s)}}}function db(t,e,o){const n=["class"];let i=ue(e,n),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Q(Q({},e),$e(s)),o(1,i=ue(e,n)),"class"in s&&o(0,a=s.class),"$$scope"in s&&o(2,l=s.$$scope)},[a,i,l,r]}class _l extends he{constructor(e){super(),pe(this,e,db,cb,de,{class:0})}}function mb(t){let e,o,n;const i=t[3].default,r=ge(i,t,t[2],null);let l=[{class:o=je("flex flex-col space-y-2 text-center sm:text-left",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=Q(a,l[s]);return{c(){e=T("div"),r&&r.c(),fe(e,a)},m(s,u){O(s,e,u),r&&r.m(e,null),n=!0},p(s,[u]){r&&r.p&&(!n||u&4)&&be(r,i,s,s[2],n?_e(i,s[2],u,null):ve(s[2]),null),fe(e,a=Se(l,[(!n||u&1&&o!==(o=je("flex flex-col space-y-2 text-center sm:text-left",s[0])))&&{class:o},u&2&&s[1]]))},i(s){n||(y(r,s),n=!0)},o(s){A(r,s),n=!1},d(s){s&&I(e),r&&r.d(s)}}}function pb(t,e,o){const n=["class"];let i=ue(e,n),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Q(Q({},e),$e(s)),o(1,i=ue(e,n)),"class"in s&&o(0,a=s.class),"$$scope"in s&&o(2,l=s.$$scope)},[a,i,l,r]}class bc extends he{constructor(e){super(),pe(this,e,pb,mb,de,{class:0})}}function hb(t){let e,o;const n=[{transition:t[1]},{transitionConfig:t[2]},{class:je("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm ",t[0])},t[3]];let i={};for(let r=0;r<n.length;r+=1)i=Q(i,n[r]);return e=new Hg({props:i}),{c(){U(e.$$.fragment)},m(r,l){W(e,r,l),o=!0},p(r,[l]){const a=l&15?Se(n,[l&2&&{transition:r[1]},l&4&&{transitionConfig:r[2]},l&1&&{class:je("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm ",r[0])},l&8&&lt(r[3])]):{};e.$set(a)},i(r){o||(y(e.$$.fragment,r),o=!0)},o(r){A(e.$$.fragment,r),o=!1},d(r){Y(e,r)}}}function gb(t,e,o){const n=["class","transition","transitionConfig"];let i=ue(e,n),{class:r=void 0}=e,{transition:l=Oi}=e,{transitionConfig:a={duration:150}}=e;return t.$$set=s=>{e=Q(Q({},e),$e(s)),o(3,i=ue(e,n)),"class"in s&&o(0,r=s.class),"transition"in s&&o(1,l=s.transition),"transitionConfig"in s&&o(2,a=s.transitionConfig)},[r,l,a,i]}class _b extends he{constructor(e){super(),pe(this,e,gb,hb,de,{class:0,transition:1,transitionConfig:2})}}function bb(t){let e;const o=t[4].default,n=ge(o,t,t[5],null);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&32)&&be(n,o,i,i[5],e?_e(o,i[5],r,null):ve(i[5]),null)},i(i){e||(y(n,i),e=!0)},o(i){A(n,i),e=!1},d(i){n&&n.d(i)}}}function vb(t){let e,o,n,i;e=new _b({});const r=[{transition:t[0]},{transitionConfig:t[1]},{class:je("fixed rounded-2xl left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-sidebarBackground text-sidebarText p-6 shadow-lg md:w-full",t[2])},t[3]];let l={$$slots:{default:[bb]},$$scope:{ctx:t}};for(let a=0;a<r.length;a+=1)l=Q(l,r[a]);return n=new Rg({props:l}),{c(){U(e.$$.fragment),o=H(),U(n.$$.fragment)},m(a,s){W(e,a,s),O(a,o,s),W(n,a,s),i=!0},p(a,s){const u=s&15?Se(r,[s&1&&{transition:a[0]},s&2&&{transitionConfig:a[1]},s&4&&{class:je("fixed rounded-2xl left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-sidebarBackground text-sidebarText p-6 shadow-lg md:w-full",a[2])},s&8&&lt(a[3])]):{};s&32&&(u.$$scope={dirty:s,ctx:a}),n.$set(u)},i(a){i||(y(e.$$.fragment,a),y(n.$$.fragment,a),i=!0)},o(a){A(e.$$.fragment,a),A(n.$$.fragment,a),i=!1},d(a){a&&I(o),Y(e,a),Y(n,a)}}}function yb(t){let e,o;return e=new fb({props:{$$slots:{default:[vb]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,[i]){const r={};i&47&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){A(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function wb(t,e,o){const n=["transition","transitionConfig","class"];let i=ue(e,n),{$$slots:r={},$$scope:l}=e,{transition:a=lo}=e,{transitionConfig:s=void 0}=e,{class:u=void 0}=e;return t.$$set=f=>{e=Q(Q({},e),$e(f)),o(3,i=ue(e,n)),"transition"in f&&o(0,a=f.transition),"transitionConfig"in f&&o(1,s=f.transitionConfig),"class"in f&&o(2,u=f.class),"$$scope"in f&&o(5,l=f.$$scope)},[a,s,u,i,r,l]}class bl extends he{constructor(e){super(),pe(this,e,wb,yb,de,{transition:0,transitionConfig:1,class:2})}}function kb(t){let e;const o=t[2].default,n=ge(o,t,t[3],null);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&8)&&be(n,o,i,i[3],e?_e(o,i[3],r,null):ve(i[3]),null)},i(i){e||(y(n,i),e=!0)},o(i){A(n,i),e=!1},d(i){n&&n.d(i)}}}function Cb(t){let e,o;const n=[{class:je("text-sm text-muted-foreground",t[0])},t[1]];let i={$$slots:{default:[kb]},$$scope:{ctx:t}};for(let r=0;r<n.length;r+=1)i=Q(i,n[r]);return e=new Xg({props:i}),{c(){U(e.$$.fragment)},m(r,l){W(e,r,l),o=!0},p(r,[l]){const a=l&3?Se(n,[l&1&&{class:je("text-sm text-muted-foreground",r[0])},l&2&&lt(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){o||(y(e.$$.fragment,r),o=!0)},o(r){A(e.$$.fragment,r),o=!1},d(r){Y(e,r)}}}function Sb(t,e,o){const n=["class"];let i=ue(e,n),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Q(Q({},e),$e(s)),o(1,i=ue(e,n)),"class"in s&&o(0,a=s.class),"$$scope"in s&&o(3,l=s.$$scope)},[a,i,r,l]}class vc extends he{constructor(e){super(),pe(this,e,Sb,Cb,de,{class:0})}}const vl=Vh;function Ab(t){let e;const o=t[5].default,n=ge(o,t,t[6],null);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&64)&&be(n,o,i,i[6],e?_e(o,i[6],r,null):ve(i[6]),null)},i(i){e||(y(n,i),e=!0)},o(i){A(n,i),e=!1},d(i){n&&n.d(i)}}}function Tb(t){let e,o;const n=[{transition:t[2]},{transitionConfig:t[3]},{sideOffset:t[1]},{class:je("z-[1000] overflow-hidden border bg-sidebarBackground px-3 py-1.5 text-sm text-black shadow-md rounded-2xl",t[0])},t[4]];let i={$$slots:{default:[Ab]},$$scope:{ctx:t}};for(let r=0;r<n.length;r+=1)i=Q(i,n[r]);return e=new p1({props:i}),{c(){U(e.$$.fragment)},m(r,l){W(e,r,l),o=!0},p(r,[l]){const a=l&31?Se(n,[l&4&&{transition:r[2]},l&8&&{transitionConfig:r[3]},l&2&&{sideOffset:r[1]},l&1&&{class:je("z-[1000] overflow-hidden border bg-sidebarBackground px-3 py-1.5 text-sm text-black shadow-md rounded-2xl",r[0])},l&16&&lt(r[4])]):{};l&64&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){o||(y(e.$$.fragment,r),o=!0)},o(r){A(e.$$.fragment,r),o=!1},d(r){Y(e,r)}}}function Ib(t,e,o){const n=["class","sideOffset","transition","transitionConfig"];let i=ue(e,n),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{sideOffset:s=16}=e,{transition:u=lo}=e,{transitionConfig:f={y:6,duration:100}}=e;return t.$$set=c=>{e=Q(Q({},e),$e(c)),o(4,i=ue(e,n)),"class"in c&&o(0,a=c.class),"sideOffset"in c&&o(1,s=c.sideOffset),"transition"in c&&o(2,u=c.transition),"transitionConfig"in c&&o(3,f=c.transitionConfig),"$$scope"in c&&o(6,l=c.$$scope)},[a,s,u,f,i,r,l]}class mo extends he{constructor(e){super(),pe(this,e,Ib,Tb,de,{class:0,sideOffset:1,transition:2,transitionConfig:3})}}const po=z_,ho=w1;function Mb(t){let e=(t[4].length>0?t[4]:"Why are you hovering here?")+"",o;return{c(){o=K(e)},m(n,i){O(n,o,i)},p(n,i){i&16&&e!==(e=(n[4].length>0?n[4]:"Why are you hovering here?")+"")&&ce(o,e)},d(n){n&&I(o)}}}function Ob(t){let e,o;return{c(){e=T("div"),o=K(t[0])},m(n,i){O(n,e,i),b(e,o)},p(n,i){i&1&&ce(o,n[0])},d(n){n&&I(e)}}}function Pb(t){let e,o;return e=new Ot({props:{class:`text-sm flex flex-col py-1.5 
        opacity-`+t[3]+" "+(t[3]<100?"hover:opacity-40":"")+` 
        rounded-xl cursor-pointer transition-all duration-150 
        filter hover:brightness-110
        `+t[2],$$slots:{default:[Ob]},$$scope:{ctx:t}}}),e.$on("click",function(){Lt(t[1])&&t[1].apply(this,arguments)}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,i){t=n;const r={};i&12&&(r.class=`text-sm flex flex-col py-1.5 
        opacity-`+t[3]+" "+(t[3]<100?"hover:opacity-40":"")+` 
        rounded-xl cursor-pointer transition-all duration-150 
        filter hover:brightness-110
        `+t[2]),i&33&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){A(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function Nb(t){let e,o,n,i;return e=new mo({props:{$$slots:{default:[Mb]},$$scope:{ctx:t}}}),n=new ho({props:{class:"flex flex-col",$$slots:{default:[Pb]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),o=H(),U(n.$$.fragment)},m(r,l){W(e,r,l),O(r,o,l),W(n,r,l),i=!0},p(r,l){const a={};l&48&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&47&&(s.$$scope={dirty:l,ctx:r}),n.$set(s)},i(r){i||(y(e.$$.fragment,r),y(n.$$.fragment,r),i=!0)},o(r){A(e.$$.fragment,r),A(n.$$.fragment,r),i=!1},d(r){r&&I(o),Y(e,r),Y(n,r)}}}function Eb(t){let e,o;return e=new po({props:{openDelay:t[4].length>0?200:999999,closeDelay:0,$$slots:{default:[Nb]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,[i]){const r={};i&16&&(r.openDelay=n[4].length>0?200:999999),i&63&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){A(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function Rb(t,e,o){let{text:n}=e,{onOpen:i}=e,{styling:r="bg-accent text-accentText"}=e,{opacity:l=100}=e,{onHoverText:a=""}=e;return t.$$set=s=>{"text"in s&&o(0,n=s.text),"onOpen"in s&&o(1,i=s.onOpen),"styling"in s&&o(2,r=s.styling),"opacity"in s&&o(3,l=s.opacity),"onHoverText"in s&&o(4,a=s.onHoverText)},[n,i,r,l,a]}class At extends he{constructor(e){super(),pe(this,e,Rb,Eb,de,{text:0,onOpen:1,styling:2,opacity:3,onHoverText:4})}}function sa(t,e,o){const n=t.slice();return n[29]=e[o],n}function aa(t,e,o){const n=t.slice();return n[32]=e[o],n[34]=o,n}function $b(t){let e;return{c(){e=K("Pause")},m(o,n){O(o,e,n)},d(o){o&&I(e)}}}function Lb(t){let e,o;return e=new nn({props:{class:"text-3xl font-semibold text-accentText",$$slots:{default:[$b]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,i){const r={};i[1]&16&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){A(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function ua(t){let e,o,n=t[32].townInfo.name+"",i,r,l,a=t[32].environment.day+"",s,u,f=st(t[32].townInfo.gold,!1)+"",c,d,m=st(t[32].townInfo.population_count,!1)+"",_,h,p,w,v,S;function D(){return t[17](t[34])}return{c(){e=T("li"),o=T("span"),i=K(n),r=H(),l=T("span"),s=K(a),u=K(" days, "),c=K(f),d=K(" gold, "),_=K(m),h=K(`
                  population`),p=H(),$(o,"class","before:content-['🏠'] before:mr-2"),$(l,"class","text-xs opacity-70 font-mono"),$(e,"class",w="text-sm rounded-sm p-2 flex flex-col "+(t[34]==t[2].selectedGame?"bg-darkerAccent text-accentText cursor-not-allowed":"hover:bg-white hover:text-black cursor-pointer "))},m(j,F){O(j,e,F),b(e,o),b(o,i),b(e,r),b(e,l),b(l,s),b(l,u),b(l,c),b(l,d),b(l,_),b(l,h),b(e,p),v||(S=z(e,"click",D),v=!0)},p(j,F){t=j,F[0]&2&&n!==(n=t[32].townInfo.name+"")&&ce(i,n),F[0]&2&&a!==(a=t[32].environment.day+"")&&ce(s,a),F[0]&2&&f!==(f=st(t[32].townInfo.gold,!1)+"")&&ce(c,f),F[0]&2&&m!==(m=st(t[32].townInfo.population_count,!1)+"")&&ce(_,m),F[0]&4&&w!==(w="text-sm rounded-sm p-2 flex flex-col "+(t[34]==t[2].selectedGame?"bg-darkerAccent text-accentText cursor-not-allowed":"hover:bg-white hover:text-black cursor-pointer "))&&$(e,"class",w)},d(j){j&&I(e),v=!1,S()}}}function fa(t){let e,o;return e=new At({props:{styling:"bg-black opacity-50 w-min",text:"🔄 New mock town",onOpen:t[21]}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,i){const r={};i[0]&8&&(r.onOpen=n[21]),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){A(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function Db(t){let e,o,n,i,r,l,a,s,u,f,c=He(t[0]),d=[];for(let _=0;_<c.length;_+=1)d[_]=da(sa(t,c,_));const m=_=>A(d[_],1,1,()=>{d[_]=null});return{c(){e=T("div"),o=T("h4"),o.textContent=`Achievements (${t[6].length}
              / ${ct.length})`,n=H(),i=T("span"),i.textContent=`Track your progress through towns & complete challenges! Rewards
              for completing achievements can be applied to the current town.`,r=H(),l=T("br"),a=H(),s=T("div"),u=T("div");for(let _=0;_<d.length;_+=1)d[_].c();$(o,"class","underline underline-offset-4"),$(i,"class","text-sm text-gray-400"),$(u,"class","flex flex-col gap-4 overflow-scroll pb-10 scroll-smooth"),$(s,"class","overflow-scroll mt-2 h-[60vh]"),$(e,"class","flex-grow")},m(_,h){O(_,e,h),b(e,o),b(e,n),b(e,i),b(e,r),b(e,l),b(e,a),b(e,s),b(s,u);for(let p=0;p<d.length;p+=1)d[p]&&d[p].m(u,null);f=!0},p(_,h){if(h[0]&4993){c=He(_[0]);let p;for(p=0;p<c.length;p+=1){const w=sa(_,c,p);d[p]?(d[p].p(w,h),y(d[p],1)):(d[p]=da(w),d[p].c(),y(d[p],1),d[p].m(u,null))}for(Ie(),p=c.length;p<d.length;p+=1)m(p);Me()}},i(_){if(!f){for(let h=0;h<c.length;h+=1)y(d[h]);f=!0}},o(_){d=d.filter(Boolean);for(let h=0;h<d.length;h+=1)A(d[h]);f=!1},d(_){_&&I(e),rt(d,_)}}}function ca(t){let e,o;function n(){return t[22](t[29])}return e=new At({props:{text:`💰 Collect Prize: $${st(t[29].prize)} gold`,styling:"bg-yellow-300 text-black",onOpen:n}}),{c(){U(e.$$.fragment)},m(i,r){W(e,i,r),o=!0},p(i,r){t=i;const l={};r[0]&1&&(l.text=`💰 Collect Prize: $${st(t[29].prize)} gold`),r[0]&1&&(l.onOpen=n),e.$set(l)},i(i){o||(y(e.$$.fragment,i),o=!0)},o(i){A(e.$$.fragment,i),o=!1},d(i){Y(e,i)}}}function da(t){let e,o,n,i,r,l,a=t[29].icon+"",s,u,f=t[29].title+"",c,d,m,_=t[29].requirements+"",h,p,w,v=t[29].description+"",S,D,j,F,R=t[7](t[29].id)+"",P,E,q,M=t[12](t[29].id)&&!t[8](t[29].id),C,k,N,B=M&&ca(t);return{c(){e=T("div"),o=T("div"),n=T("div"),i=T("span"),r=T("div"),l=T("span"),s=K(a),u=H(),c=K(f),d=H(),m=T("div"),h=K(_),p=H(),w=T("div"),S=K(v),D=H(),j=T("div"),F=K("✅ Completed on Day "),P=K(R),q=H(),B&&B.c(),C=H(),$(l,"class","font-semibold text-sm text-nowrap"),$(m,"class","font-thin opacity-75 text-xs text-wrap max-w-[50%]"),$(r,"class","flex flex-row w-[100%] justify-between gap-6 "),$(i,"class","flex flex-row w-[100%]"),$(n,"class","min-w-32 flex"),$(w,"class","opacity-85 text-xs font-light"),$(j,"class",E="pb-2 "+(t[12](t[29].id)?"":"hidden")+" text-xs text-green-400"),$(o,"class","flex-col flex px-3 py-2 gap-1"),$(e,"class",k="flex flex-col gap-3 cursor-default rounded-xl "+(t[12](t[29].id)?"bg-green-700 text-accentText":"bg-gray-500 opacity-35"))},m(L,J){O(L,e,J),b(e,o),b(o,n),b(n,i),b(i,r),b(r,l),b(l,s),b(l,u),b(l,c),b(r,d),b(r,m),b(m,h),b(o,p),b(o,w),b(w,S),b(o,D),b(o,j),b(j,F),b(j,P),b(o,q),B&&B.m(o,null),b(e,C),N=!0},p(L,J){(!N||J[0]&1)&&a!==(a=L[29].icon+"")&&ce(s,a),(!N||J[0]&1)&&f!==(f=L[29].title+"")&&ce(c,f),(!N||J[0]&1)&&_!==(_=L[29].requirements+"")&&ce(h,_),(!N||J[0]&1)&&v!==(v=L[29].description+"")&&ce(S,v),(!N||J[0]&1)&&R!==(R=L[7](L[29].id)+"")&&ce(P,R),(!N||J[0]&1&&E!==(E="pb-2 "+(L[12](L[29].id)?"":"hidden")+" text-xs text-green-400"))&&$(j,"class",E),J[0]&1&&(M=L[12](L[29].id)&&!L[8](L[29].id)),M?B?(B.p(L,J),J[0]&1&&y(B,1)):(B=ca(L),B.c(),y(B,1),B.m(o,null)):B&&(Ie(),A(B,1,1,()=>{B=null}),Me()),(!N||J[0]&1&&k!==(k="flex flex-col gap-3 cursor-default rounded-xl "+(L[12](L[29].id)?"bg-green-700 text-accentText":"bg-gray-500 opacity-35")))&&$(e,"class",k)},i(L){N||(y(B),N=!0)},o(L){A(B),N=!1},d(L){L&&I(e),B&&B.d()}}}function jb(t){let e,o,n,i,r,l,a,s,u,f,c,d,m,_,h,p,w,v,S,D,j,F=t[3].gameSettings.includes("devMode"),R,P,E=localStorage.getItem($t)==null,q;e=new gn({props:{$$slots:{default:[Lb]},$$scope:{ctx:t}}});let M=He(t[1]),C=[];for(let B=0;B<M.length;B+=1)C[B]=ua(aa(t,M,B));c=new At({props:{styling:"font-bold hover:brightness-110 hover:bg-sidebarBackground hover:text-black w-min",text:"+ Build new town",onOpen:t[14]}}),_=new At({props:{styling:"bg-gray-500",text:"💾 Save town file",onOpen:t[10]}}),p=new At({props:{text:"📤 Load town file",styling:"bg-gray-500",onOpen:t[18]}}),v=new At({props:{text:"📲 Share town",styling:"bg-gray-500",onOpen:t[19]}}),D=new At({props:{text:"❌ Delete current town",styling:"bg-red-800",onOpen:t[20]}});let k=F&&fa(t),N=E&&Db(t);return{c(){U(e.$$.fragment),o=H(),n=T("div"),i=T("div"),r=T("div"),l=T("div"),l.textContent="Switch towns",a=H(),s=T("ul");for(let B=0;B<C.length;B+=1)C[B].c();u=H(),f=T("div"),U(c.$$.fragment),d=H(),m=T("div"),U(_.$$.fragment),h=H(),U(p.$$.fragment),w=H(),U(v.$$.fragment),S=H(),U(D.$$.fragment),j=H(),k&&k.c(),R=H(),P=T("div"),N&&N.c(),$(l,"class","text-sm pb-2"),$(s,"class","flex flex-col gap-0"),$(f,"class","flex flex-row justify-end pt-2"),$(r,"class","flex flex-col bg-accent rounded-md p-2 pt-3"),$(m,"class","flex flex-row flex-wrap gap-3"),$(i,"class","flex flex-col flex-grow max-h-[80%] justify-between"),$(P,"class","flex flex-col gap-6 justify-between"),$(n,"class","flex flex-row w-full gap-10 justify-between")},m(B,L){W(e,B,L),O(B,o,L),O(B,n,L),b(n,i),b(i,r),b(r,l),b(r,a),b(r,s);for(let J=0;J<C.length;J+=1)C[J]&&C[J].m(s,null);b(r,u),b(r,f),W(c,f,null),b(i,d),b(i,m),W(_,m,null),b(m,h),W(p,m,null),b(m,w),W(v,m,null),b(m,S),W(D,m,null),b(m,j),k&&k.m(m,null),b(n,R),b(n,P),N&&N.m(P,null),q=!0},p(B,L){const J={};if(L[1]&16&&(J.$$scope={dirty:L,ctx:B}),e.$set(J),L[0]&6){M=He(B[1]);let X;for(X=0;X<M.length;X+=1){const ne=aa(B,M,X);C[X]?C[X].p(ne,L):(C[X]=ua(ne),C[X].c(),C[X].m(s,null))}for(;X<C.length;X+=1)C[X].d(1);C.length=M.length}const Z={};L[0]&4&&(Z.onOpen=B[20]),D.$set(Z),L[0]&8&&(F=B[3].gameSettings.includes("devMode")),F?k?(k.p(B,L),L[0]&8&&y(k,1)):(k=fa(B),k.c(),y(k,1),k.m(m,null)):k&&(Ie(),A(k,1,1,()=>{k=null}),Me()),E&&N.p(B,L)},i(B){q||(y(e.$$.fragment,B),y(c.$$.fragment,B),y(_.$$.fragment,B),y(p.$$.fragment,B),y(v.$$.fragment,B),y(D.$$.fragment,B),y(k),y(N),q=!0)},o(B){A(e.$$.fragment,B),A(c.$$.fragment,B),A(_.$$.fragment,B),A(p.$$.fragment,B),A(v.$$.fragment,B),A(D.$$.fragment,B),A(k),A(N),q=!1},d(B){B&&(I(o),I(n)),Y(e,B),rt(C,B),Y(c),Y(_),Y(p),Y(v),Y(D),k&&k.d(),N&&N.d()}}}function Fb(t){let e,o;return e=new on({props:{class:"max-w-[75%] max-h-[100%] flex flex-col justify-between bg-popupBackground text-accentText overflow-scroll",$$slots:{default:[jb]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,i){const r={};i[0]&15|i[1]&16&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){A(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function Bb(t){var n;let e=((n=t[13]())==null?void 0:n.title)+"",o;return{c(){o=K(e)},m(i,r){O(i,o,r)},p:Te,d(i){i&&I(o)}}}function qb(t){let e,o,n,i;return{c(){var r,l,a;e=T("div"),o=T("div"),o.textContent=`${(r=t[13]())==null?void 0:r.icon}`,n=H(),i=T("div"),i.textContent=`${(l=t[13]())==null?void 0:l.description} ${(a=t[13]())==null?void 0:a.requirements}`,$(o,"class","absolute top-4 left-4 text-5xl"),$(i,"class","pl-8 w-[80%] align-middle flex flex-col justify-center text-lg"),$(e,"class","flex flex-row align-middle justify-evenly px-6 py-2")},m(r,l){O(r,e,l),b(e,o),b(e,n),b(e,i)},p:Te,d(r){r&&I(e)}}}function xb(t){let e,o,n,i;return e=new cc({props:{class:"text-center text-lg font-bold",$$slots:{default:[Bb]},$$scope:{ctx:t}}}),n=new vc({props:{$$slots:{default:[qb]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),o=H(),U(n.$$.fragment)},m(r,l){W(e,r,l),O(r,o,l),W(n,r,l),i=!0},p(r,l){const a={};l[1]&16&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l[1]&16&&(s.$$scope={dirty:l,ctx:r}),n.$set(s)},i(r){i||(y(e.$$.fragment,r),y(n.$$.fragment,r),i=!0)},o(r){A(e.$$.fragment,r),A(n.$$.fragment,r),i=!1},d(r){r&&I(o),Y(e,r),Y(n,r)}}}function Gb(t){let e;return{c(){e=K("Close to collect prize")},m(o,n){O(o,e,n)},d(o){o&&I(e)}}}function Hb(t){let e,o;return e=new lb({props:{$$slots:{default:[Gb]},$$scope:{ctx:t}}}),e.$on("click",t[24]),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,i){const r={};i[1]&16&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){A(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function Vb(t){let e,o,n,i;return e=new bc({props:{$$slots:{default:[xb]},$$scope:{ctx:t}}}),n=new _l({props:{$$slots:{default:[Hb]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),o=H(),U(n.$$.fragment)},m(r,l){W(e,r,l),O(r,o,l),W(n,r,l),i=!0},p(r,l){const a={};l[1]&16&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l[0]&32|l[1]&16&&(s.$$scope={dirty:l,ctx:r}),n.$set(s)},i(r){i||(y(e.$$.fragment,r),y(n.$$.fragment,r),i=!0)},o(r){A(e.$$.fragment,r),A(n.$$.fragment,r),i=!1},d(r){r&&I(o),Y(e,r),Y(n,r)}}}function Wb(t){let e,o;return e=new bl({props:{$$slots:{default:[Vb]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,i){const r={};i[0]&32|i[1]&16&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){A(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function Yb(t){let e,o,n,i,r;function l(s){t[23](s)}let a={$$slots:{default:[Fb]},$$scope:{ctx:t}};return t[4]!==void 0&&(a.open=t[4]),e=new rn({props:a}),Ne.push(()=>Wt(e,"open",l)),i=new vl({props:{open:t[5],$$slots:{default:[Wb]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),n=H(),U(i.$$.fragment)},m(s,u){W(e,s,u),O(s,n,u),W(i,s,u),r=!0},p(s,u){const f={};u[0]&15|u[1]&16&&(f.$$scope={dirty:u,ctx:s}),!o&&u[0]&16&&(o=!0,f.open=s[4],Gt(()=>o=!1)),e.$set(f);const c={};u[0]&32&&(c.open=s[5]),u[0]&32|u[1]&16&&(c.$$scope={dirty:u,ctx:s}),i.$set(c)},i(s){r||(y(e.$$.fragment,s),y(i.$$.fragment,s),r=!0)},o(s){A(e.$$.fragment,s),A(i.$$.fragment,s),r=!1},d(s){s&&I(n),Y(e,s),Y(i,s)}}}function Ub(t){const e=JSON.parse(t);return e.townInfo!=null&&e.difficulty!=null}function Kb(t,e,o){let n,i,r,l,a;se(t,Rt,k=>o(2,n=k)),se(t,Oe,k=>o(3,i=k)),se(t,Tt,k=>o(4,r=k)),se(t,Fl,k=>o(16,l=k)),se(t,wi,k=>o(5,a=k)),fc[i.endGoal],Af[i.difficulty],ct.sort((k,N)=>p(k.id)&&!p(N.id)?-1:!p(k.id)&&p(N.id)?1:0);const u=ct.filter(k=>p(k.id));function f(k){const N=n.achievements.find(B=>B[0]==k);return N==null?0:`${N[1]} in ${N[2]}.`}function c(k){const N=n.achievements.find(B=>B[0]==k);return N==null?!1:N[3]}function d(k){const N=n.achievements.find(L=>L[0]==k);if(N==null)return;const B=ct.find(L=>L.id==k);B!=null&&(Ae(Oe,i.townInfo.gold+=B.prize,i),N[3]=!0,Ae(Rt,n.achievements=n.achievements.map(L=>L[0]==k?N:L),n))}let m=ct;function _(){const k=JSON.stringify(i),N=new Blob([k],{type:"text/plain"}),B=URL.createObjectURL(N),L=document.createElement("a");L.href=B,L.download=`${new Date().toISOString()}.json`,document.body.appendChild(L),L.click(),document.body.removeChild(L),URL.revokeObjectURL(B)}function h(k){const N=k.target.files;if(N==null)return;const B=N[0],L=new FileReader;L.onload=function(J){if(J.target==null)return;const Z=J.target.result;if(typeof Z=="string"){if(!Ub(Z)){It.set("Invalid game file");return}Nr(JSON.parse(Z))}else It.set("Invalid game file: is not String.")},L.readAsText(B)}function p(k){return n.achievements==null?!1:n.achievements.find(N=>N[0]==k)!=null}function w(){Fl.update(k=>!k),localStorage.setItem("showCompletedAchievements",localStorage.getItem("showCompletedAchievements")==="true"?"false":"true")}localStorage.getItem("pauseMenuTab")==null&&(localStorage.setItem("pauseMenuTab","game"),Mm.set("game"));function v(){const k=n.achievements[n.achievements.length-1];if(k!=null)return ct.find(N=>N.id==k[0])}function S(){Ae(Tt,r=!0,r),localStorage.setItem("reset","true"),Ae(Oe,i=null,i),localStorage.removeItem(nt),Nr()}let D=[];const j=k=>{jl(k,n)},F=()=>{const k=document.createElement("input");k.type="file",k.onchange=N=>h(N),k.click()},R=async()=>{const k=await cf();navigator.clipboard.writeText(k),alert("Copied to clipboard")},P=async()=>{let k={...n};k.games.splice(n.selectedGame,1),console.log(k),localStorage.setItem(et,JSON.stringify(k)),Rt.set(k),jl(0,k)},E=()=>{km(i)},q=k=>{d(k.id);const N=document.getElementById(`collectPrize-${k.id}`);N&&(N.style.display="none")};function M(k){r=k,Tt.set(r)}const C=()=>{Ae(wi,a=!1,a)};return t.$$.update=()=>{if(t.$$.dirty[0]&65545&&i)if(l)o(0,m=ct);else{o(0,m=[]);for(let k=0;k<ct.length;k++)(!p(ct[k].id)||!c(ct[k].id))&&m.push(ct[k])}if(t.$$.dirty[0]&6){o(1,D=[]);for(let k=0;k<n.games.length;k++)D.push(JSON.parse(n.games[k]))}},[m,D,n,i,r,a,u,f,c,d,_,h,p,v,S,w,l,j,F,R,P,E,q,M,C]}class Jb extends he{constructor(e){super(),pe(this,e,Kb,Yb,de,{toggleShowCompleted:15},null,[-1,-1])}get toggleShowCompleted(){return this.$$.ctx[15]}}function ma(t,e,o){const n=t.slice();return n[5]=e[o],n}function Xb(t){let e;return{c(){e=K("🚨 Plot Disabled Warning")},m(o,n){O(o,e,n)},d(o){o&&I(e)}}}function Zb(t){let e,o;return e=new nn({props:{class:"text-xl font-semibold",$$slots:{default:[Xb]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,i){const r={};i&256&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){A(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function pa(t){let e,o=t[5]+"",n;return{c(){e=T("li"),n=K(o)},m(i,r){O(i,e,r),b(e,n)},p(i,r){r&1&&o!==(o=i[5]+"")&&ce(n,o)},d(i){i&&I(e)}}}function Qb(t){let e;return{c(){e=K("Bulldoze")},m(o,n){O(o,e,n)},d(o){o&&I(e)}}}function zb(t){let e,o=t[0].plotCost+"",n,i;return{c(){e=K("Snooze ("),n=K(o),i=K(" gold)")},m(r,l){O(r,e,l),O(r,n,l),O(r,i,l)},p(r,l){l&1&&o!==(o=r[0].plotCost+"")&&ce(n,o)},d(r){r&&(I(e),I(n),I(i))}}}function ev(t){let e,o,n,i;return e=new Ot({props:{variant:"destructive",$$slots:{default:[Qb]},$$scope:{ctx:t}}}),e.$on("click",t[3]),n=new Ot({props:{variant:"default",disabled:t[1].townInfo.gold<t[0].plotCost,$$slots:{default:[zb]},$$scope:{ctx:t}}}),n.$on("click",t[2]),{c(){U(e.$$.fragment),o=H(),U(n.$$.fragment)},m(r,l){W(e,r,l),O(r,o,l),W(n,r,l),i=!0},p(r,l){const a={};l&256&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&3&&(s.disabled=r[1].townInfo.gold<r[0].plotCost),l&257&&(s.$$scope={dirty:l,ctx:r}),n.$set(s)},i(r){i||(y(e.$$.fragment,r),y(n.$$.fragment,r),i=!0)},o(r){A(e.$$.fragment,r),A(n.$$.fragment,r),i=!1},d(r){r&&I(o),Y(e,r),Y(n,r)}}}function tv(t){let e,o,n,i,r,l=t[0].plotName+"",a,s,u=t[0].location+"",f,c,d,m,_,h,p,w,v,S,D,j,F,R,P,E,q=t[0].plotCost+"",M,C,k,N,B;e=new gn({props:{class:"p-4 border-b border-accent/20",$$slots:{default:[Zb]},$$scope:{ctx:t}}});let L=He(t[0].missingResources),J=[];for(let Z=0;Z<L.length;Z+=1)J[Z]=pa(ma(t,L,Z));return N=new Ln({props:{class:"p-4 border-t border-accent/20 flex justify-end gap-2",$$slots:{default:[ev]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),o=H(),n=T("div"),i=T("p"),r=K("Your "),a=K(l),s=H(),f=K(u),c=K(" is about to be disabled!"),d=H(),m=T("div"),_=T("p"),_.textContent="Missing Resources:",h=H(),p=T("ul");for(let Z=0;Z<J.length;Z+=1)J[Z].c();w=H(),v=T("div"),S=T("p"),S.textContent="You have two options:",D=H(),j=T("ol"),F=T("li"),F.textContent="Bulldoze the plot (free)",R=H(),P=T("li"),E=K("Snooze for 30 days (costs "),M=K(q),C=K(" gold)"),k=H(),U(N.$$.fragment),$(_,"class","font-semibold"),$(p,"class","list-disc list-inside"),$(m,"class","bg-red-500/10 p-3 rounded-md"),$(j,"class","list-decimal list-inside"),$(v,"class","bg-accent/10 p-3 rounded-md"),$(n,"class","p-4 space-y-4")},m(Z,X){W(e,Z,X),O(Z,o,X),O(Z,n,X),b(n,i),b(i,r),b(i,a),b(i,s),b(i,f),b(i,c),b(n,d),b(n,m),b(m,_),b(m,h),b(m,p);for(let ne=0;ne<J.length;ne+=1)J[ne]&&J[ne].m(p,null);b(n,w),b(n,v),b(v,S),b(v,D),b(v,j),b(j,F),b(j,R),b(j,P),b(P,E),b(P,M),b(P,C),O(Z,k,X),W(N,Z,X),B=!0},p(Z,X){const ne={};if(X&256&&(ne.$$scope={dirty:X,ctx:Z}),e.$set(ne),(!B||X&1)&&l!==(l=Z[0].plotName+"")&&ce(a,l),(!B||X&1)&&u!==(u=Z[0].location+"")&&ce(f,u),X&1){L=He(Z[0].missingResources);let oe;for(oe=0;oe<L.length;oe+=1){const we=ma(Z,L,oe);J[oe]?J[oe].p(we,X):(J[oe]=pa(we),J[oe].c(),J[oe].m(p,null))}for(;oe<J.length;oe+=1)J[oe].d(1);J.length=L.length}(!B||X&1)&&q!==(q=Z[0].plotCost+"")&&ce(M,q);const ee={};X&259&&(ee.$$scope={dirty:X,ctx:Z}),N.$set(ee)},i(Z){B||(y(e.$$.fragment,Z),y(N.$$.fragment,Z),B=!0)},o(Z){A(e.$$.fragment,Z),A(N.$$.fragment,Z),B=!1},d(Z){Z&&(I(o),I(n),I(k)),Y(e,Z),rt(J,Z),Y(N,Z)}}}function nv(t){let e,o;return e=new on({props:{transition:lo,class:"bg-sidebarBackground text-sidebarText max-w-md rounded-md shadow-xl border border-accent",$$slots:{default:[tv]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,i){const r={};i&259&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){A(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function ov(t){let e,o,n;function i(l){t[4](l)}let r={$$slots:{default:[nv]},$$scope:{ctx:t}};return t[0].visible!==void 0&&(r.open=t[0].visible),e=new rn({props:r}),Ne.push(()=>Wt(e,"open",i)),{c(){U(e.$$.fragment)},m(l,a){W(e,l,a),n=!0},p(l,[a]){const s={};a&259&&(s.$$scope={dirty:a,ctx:l}),!o&&a&1&&(o=!0,s.open=l[0].visible,Gt(()=>o=!1)),e.$set(s)},i(l){n||(y(e.$$.fragment,l),n=!0)},o(l){A(e.$$.fragment,l),n=!1},d(l){Y(e,l)}}}function iv(t,e,o){let n,i;se(t,Ft,s=>o(0,n=s)),se(t,Oe,s=>o(1,i=s));function r(){i.townInfo.gold>=n.plotCost&&(Ae(Oe,i.townInfo.gold-=n.plotCost,i),Ae(Oe,i.plots[n.x][n.y].snoozedUntil=i.environment.day+10,i),Ae(Oe,i.plots[n.x][n.y].disabled=!1,i)),Ae(Ft,n.visible=!1,n)}function l(){console.log("x:",n.x),console.log("y:",n.y),Zn(n.x,n.y,i),Ae(Ft,n.visible=!1,n)}function a(s){t.$$.not_equal(n.visible,s)&&(n.visible=s,Ft.set(n))}return[n,i,r,l,a]}class rv extends he{constructor(e){super(),pe(this,e,iv,ov,de,{})}}function lv(){console.log("%cRUNNING STABILITY TESTS...","color: #26bfa5;");let t=0;return console.log("%cPASSED ALL STABILITY TESTS 😍","color: #26bfa5;"),t}function sv(t){let e=t[0].endGameDetails.win==!0?"You won! 🎉":"You lost! 😭",o;return{c(){o=K(e)},m(n,i){O(n,o,i)},p(n,i){i&1&&e!==(e=n[0].endGameDetails.win==!0?"You won! 🎉":"You lost! 😭")&&ce(o,e)},d(n){n&&I(o)}}}function av(t){let e;return{c(){e=K("Keep playin'")},m(o,n){O(o,e,n)},d(o){o&&I(e)}}}function uv(t){let e,o=t[0].endGameDetails.msg+"",n,i,r,l,a,s,u,f;return u=new Ot({props:{class:"bg-accent",$$slots:{default:[av]},$$scope:{ctx:t}}}),u.$on("click",t[2]),{c(){e=T("span"),n=K(o),i=H(),r=T("br"),l=H(),a=T("br"),s=H(),U(u.$$.fragment),$(e,"class","text-gray-500 text-sm")},m(c,d){O(c,e,d),b(e,n),O(c,i,d),O(c,r,d),O(c,l,d),O(c,a,d),O(c,s,d),W(u,c,d),f=!0},p(c,d){(!f||d&1)&&o!==(o=c[0].endGameDetails.msg+"")&&ce(n,o);const m={};d&16&&(m.$$scope={dirty:d,ctx:c}),u.$set(m)},i(c){f||(y(u.$$.fragment,c),f=!0)},o(c){A(u.$$.fragment,c),f=!1},d(c){c&&(I(e),I(i),I(r),I(l),I(a),I(s)),Y(u,c)}}}function fv(t){let e,o,n,i;return e=new nn({props:{$$slots:{default:[sv]},$$scope:{ctx:t}}}),n=new co({props:{$$slots:{default:[uv]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),o=H(),U(n.$$.fragment)},m(r,l){W(e,r,l),O(r,o,l),W(n,r,l),i=!0},p(r,l){const a={};l&17&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&17&&(s.$$scope={dirty:l,ctx:r}),n.$set(s)},i(r){i||(y(e.$$.fragment,r),y(n.$$.fragment,r),i=!0)},o(r){A(e.$$.fragment,r),A(n.$$.fragment,r),i=!1},d(r){r&&I(o),Y(e,r),Y(n,r)}}}function cv(t){let e;return{c(){e=T("span"),e.textContent="Reset the game by pressing P and clicking New Game",$(e,"class","text-gray-500 text-sm")},m(o,n){O(o,e,n)},p:Te,d(o){o&&I(e)}}}function dv(t){let e,o,n,i;return e=new gn({props:{$$slots:{default:[fv]},$$scope:{ctx:t}}}),n=new Ln({props:{$$slots:{default:[cv]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),o=H(),U(n.$$.fragment)},m(r,l){W(e,r,l),O(r,o,l),W(n,r,l),i=!0},p(r,l){const a={};l&17&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&16&&(s.$$scope={dirty:l,ctx:r}),n.$set(s)},i(r){i||(y(e.$$.fragment,r),y(n.$$.fragment,r),i=!0)},o(r){A(e.$$.fragment,r),A(n.$$.fragment,r),i=!1},d(r){r&&I(o),Y(e,r),Y(n,r)}}}function mv(t){let e,o;return e=new on({props:{class:"bg-foregroundDark text-accentText",$$slots:{default:[dv]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,i){const r={};i&17&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){A(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function pv(t){let e,o,n;function i(l){t[3](l)}let r={$$slots:{default:[mv]},$$scope:{ctx:t}};return t[1]!==void 0&&(r.open=t[1]),e=new rn({props:r}),Ne.push(()=>Wt(e,"open",i)),{c(){U(e.$$.fragment)},m(l,a){W(e,l,a),n=!0},p(l,[a]){const s={};a&17&&(s.$$scope={dirty:a,ctx:l}),!o&&a&2&&(o=!0,s.open=l[1],Gt(()=>o=!1)),e.$set(s)},i(l){n||(y(e.$$.fragment,l),n=!0)},o(l){A(e.$$.fragment,l),n=!1},d(l){Y(e,l)}}}function hv(t,e,o){let n;se(t,Oe,a=>o(0,n=a));let i=!1;function r(){let a=n;a.overtime=!0,Oe.set(a),o(1,i=!1),Tt.set(!1)}function l(a){i=a,o(1,i),o(0,n)}return t.$$.update=()=>{t.$$.dirty&1&&(n.endGameDetails.msg!=""&&n.overtime==!1?o(1,i=!0):o(1,i=!1))},[n,i,r,l]}class gv extends he{constructor(e){super(),pe(this,e,hv,pv,de,{})}}function _v(t){let e,o,n,i,r=[{class:o=je("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t[1])},t[2]],l={};for(let a=0;a<r.length;a+=1)l=Q(l,r[a]);return{c(){e=T("input"),fe(e,l)},m(a,s){O(a,e,s),e.autofocus&&e.focus(),Pl(e,t[0]),n||(i=[z(e,"input",t[17]),z(e,"blur",t[3]),z(e,"change",t[4]),z(e,"click",t[5]),z(e,"focus",t[6]),z(e,"focusin",t[7]),z(e,"focusout",t[8]),z(e,"keydown",t[9]),z(e,"keypress",t[10]),z(e,"keyup",t[11]),z(e,"mouseover",t[12]),z(e,"mouseenter",t[13]),z(e,"mouseleave",t[14]),z(e,"paste",t[15]),z(e,"input",t[16])],n=!0)},p(a,[s]){fe(e,l=Se(r,[s&2&&o!==(o=je("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a[1]))&&{class:o},s&4&&a[2]])),s&1&&e.value!==a[0]&&Pl(e,a[0])},i:Te,o:Te,d(a){a&&I(e),n=!1,xe(i)}}}function bv(t,e,o){const n=["class","value"];let i=ue(e,n),{class:r=void 0}=e,{value:l=void 0}=e;function a(F){re.call(this,t,F)}function s(F){re.call(this,t,F)}function u(F){re.call(this,t,F)}function f(F){re.call(this,t,F)}function c(F){re.call(this,t,F)}function d(F){re.call(this,t,F)}function m(F){re.call(this,t,F)}function _(F){re.call(this,t,F)}function h(F){re.call(this,t,F)}function p(F){re.call(this,t,F)}function w(F){re.call(this,t,F)}function v(F){re.call(this,t,F)}function S(F){re.call(this,t,F)}function D(F){re.call(this,t,F)}function j(){l=this.value,o(0,l)}return t.$$set=F=>{e=Q(Q({},e),$e(F)),o(2,i=ue(e,n)),"class"in F&&o(1,r=F.class),"value"in F&&o(0,l=F.value)},[l,r,i,a,s,u,f,c,d,m,_,h,p,w,v,S,D,j]}class vv extends he{constructor(e){super(),pe(this,e,bv,_v,de,{class:1,value:0})}}function yv(t){let e;const o=t[2].default,n=ge(o,t,t[4],null);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&16)&&be(n,o,i,i[4],e?_e(o,i[4],r,null):ve(i[4]),null)},i(i){e||(y(n,i),e=!0)},o(i){A(n,i),e=!1},d(i){n&&n.d(i)}}}function wv(t){let e,o;const n=[{class:je("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",t[0])},t[1]];let i={$$slots:{default:[yv]},$$scope:{ctx:t}};for(let r=0;r<n.length;r+=1)i=Q(i,n[r]);return e=new b_({props:i}),e.$on("mousedown",t[3]),{c(){U(e.$$.fragment)},m(r,l){W(e,r,l),o=!0},p(r,[l]){const a=l&3?Se(n,[l&1&&{class:je("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",r[0])},l&2&&lt(r[1])]):{};l&16&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){o||(y(e.$$.fragment,r),o=!0)},o(r){A(e.$$.fragment,r),o=!1},d(r){Y(e,r)}}}function kv(t,e,o){const n=["class"];let i=ue(e,n),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(u){re.call(this,t,u)}return t.$$set=u=>{e=Q(Q({},e),$e(u)),o(1,i=ue(e,n)),"class"in u&&o(0,a=u.class),"$$scope"in u&&o(4,l=u.$$scope)},[a,i,r,s,l]}class ha extends he{constructor(e){super(),pe(this,e,kv,wv,de,{class:0})}}function Cv(t){let e;return{c(){e=K("Welcome to Plots")},m(o,n){O(o,e,n)},d(o){o&&I(e)}}}function Sv(t){let e;return{c(){e=K("Your town name")},m(o,n){O(o,e,n)},d(o){o&&I(e)}}}function Av(t){let e;return{c(){e=K("Town settings")},m(o,n){O(o,e,n)},d(o){o&&I(e)}}}function Tv(t){let e;return{c(){e=K("Start game")},m(o,n){O(o,e,n)},d(o){o&&I(e)}}}function Iv(t){let e,o,n,i,r,l,a,s,u,f,c,d,m,_,h,p,w,v,S,D,j=t[0].username+"",F,R,P,E,q,M,C;return e=new nn({props:{class:"text-3xl font-semibold ",$$slots:{default:[Cv]},$$scope:{ctx:t}}}),r=new ha({props:{for:"townName",class:"text-md font-bold",$$slots:{default:[Sv]},$$scope:{ctx:t}}}),a=new vv({props:{id:"townName",autofocus:!0,class:"w-full p-2 ml-2 rounded-md border border-accent/20 bg-sidebarBackground text-sidebarText focus:ring-2 focus:ring-accent/50",placeholder:"Will be randomized if left blank"}}),a.$on("keydown",t[5]),f=new ha({props:{class:"text-md font-bold pb-1 flex flex-col gap-2",$$slots:{default:[Av]},$$scope:{ctx:t}}}),E=new Ot({props:{class:"bg-accent hover:bg-accent/80 text-white",$$slots:{default:[Tv]},$$scope:{ctx:t}}}),E.$on("click",t[2]),{c(){U(e.$$.fragment),o=H(),n=T("div"),i=T("div"),U(r.$$.fragment),l=H(),U(a.$$.fragment),s=H(),u=T("div"),U(f.$$.fragment),c=H(),d=T("div"),d.innerHTML='<input type="checkbox" id="devMode" class="svelte-1fiuyps"/>',m=H(),_=T("div"),_.innerHTML=`<div class="flex items-start space-x-2"><input type="checkbox" id="casual" checked="" class="mt-1 rounded border-accent/20 svelte-1fiuyps"/> <label for="casual" class="text-sm">Casual game: Faster and easier overall while exposing more of the
              game mechanics. Recommended for most games.</label></div> <div class="flex items-start space-x-2"><input type="checkbox" id="tomPetty" class="mt-1 rounded border-accent/20 svelte-1fiuyps"/> <label for="tomPetty" class="text-sm">The &#39;Tom Petty&#39; mode: If your happiness or health reaches 0, you
              lose 50% of your gold and continue the game. You won&#39;t back down.</label></div> <div class="flex items-start space-x-2"><input type="checkbox" id="bagOfHolding" class="mt-1 rounded border-accent/20 svelte-1fiuyps"/> <label for="bagOfHolding" class="text-sm">Bag of Holding: No resource cap or need to purchase stockpiles.</label></div>`,h=H(),p=T("div"),w=T("div"),w.innerHTML='<a href="https://github.com/josephrcox/plots#how-to-play" class="text-accent hover:text-accent/80 text-sm italic opacity-65" target="_blank">GitHub / Learn how to play</a>',v=H(),S=T("div"),D=T("span"),F=K(j),R=H(),P=T("div"),U(E.$$.fragment),$(i,"class","pb-8 flex flex-col gap-2"),$(d,"class","hidden"),$(_,"class","flex flex-col gap-4 pl-2"),$(u,"class","pb-4"),$(w,"class","flex flex-grow align-middle items-center text-start"),$(D,"class","text-xs text-sidebarText/50 hover:text-sidebarText cursor-pointer"),$(P,"class","space-x-2"),$(S,"class","flex flex-row align-middle items-center gap-2"),$(p,"class","flex flex-row justify-between")},m(k,N){W(e,k,N),O(k,o,N),O(k,n,N),b(n,i),W(r,i,null),b(i,l),W(a,i,null),b(n,s),b(n,u),W(f,u,null),b(u,c),b(u,d),b(u,m),b(u,_),b(n,h),b(n,p),b(p,w),b(p,v),b(p,S),b(S,D),b(D,F),b(S,R),b(S,P),W(E,P,null),q=!0,M||(C=z(D,"click",t[3]),M=!0)},p(k,N){const B={};N&1024&&(B.$$scope={dirty:N,ctx:k}),e.$set(B);const L={};N&1024&&(L.$$scope={dirty:N,ctx:k}),r.$set(L);const J={};N&1024&&(J.$$scope={dirty:N,ctx:k}),f.$set(J),(!q||N&1)&&j!==(j=k[0].username+"")&&ce(F,j);const Z={};N&1024&&(Z.$$scope={dirty:N,ctx:k}),E.$set(Z)},i(k){q||(y(e.$$.fragment,k),y(r.$$.fragment,k),y(a.$$.fragment,k),y(f.$$.fragment,k),y(E.$$.fragment,k),q=!0)},o(k){A(e.$$.fragment,k),A(r.$$.fragment,k),A(a.$$.fragment,k),A(f.$$.fragment,k),A(E.$$.fragment,k),q=!1},d(k){k&&(I(o),I(n)),Y(e,k),Y(r),Y(a),Y(f),Y(E),M=!1,C()}}}function Mv(t){let e,o;return e=new on({props:{transition:lo,class:"bg-sidebarBackground text-sidebarText max-w-xl rounded-md shadow-xl border border-accent",$$slots:{default:[Iv]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,i){const r={};i&1025&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){A(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function Ov(t){let e,o,n;function i(l){t[6](l)}let r={onOutsideClick:Pv,$$slots:{default:[Mv]},$$scope:{ctx:t}};return t[1].visible!==void 0&&(r.open=t[1].visible),e=new rn({props:r}),Ne.push(()=>Wt(e,"open",i)),{c(){U(e.$$.fragment)},m(l,a){W(e,l,a),n=!0},p(l,[a]){const s={};a&1025&&(s.$$scope={dirty:a,ctx:l}),!o&&a&2&&(o=!0,s.open=l[1].visible,Gt(()=>o=!1)),e.$set(s)},i(l){n||(y(e.$$.fragment,l),n=!0)},o(l){A(e.$$.fragment,l),n=!1},d(l){Y(e,l)}}}const Pv=t=>t.preventDefault();function Nv(t,e,o){let n,i;se(t,Rt,f=>o(0,n=f)),se(t,No,f=>o(1,i=f)),Tt.set(!1);function r(){const f=document.getElementById("townName").value,d=["devMode","tomPetty","casual","bagOfHolding"].filter(h=>document.getElementById(h).checked);Sm("1","free_play",f,d)}function l(){const f=prompt("Enter new username");if(f){let c=n;c.username=f,Im(c)}}function a(f){f.key==="Enter"&&r()}const s=f=>{a(f)};function u(f){t.$$.not_equal(i.visible,f)&&(i.visible=f,No.set(i))}return[n,i,r,l,a,s,u]}class Ev extends he{constructor(e){super(),pe(this,e,Nv,Ov,de,{})}}function Rv(t){let e;return{c(){e=K("Scoreboard")},m(o,n){O(o,e,n)},d(o){o&&I(e)}}}function $v(t){let e=t[1].description_title+"",o;return{c(){o=K(e)},m(n,i){O(n,o,i)},p:Te,d(n){n&&I(o)}}}function Lv(t){let e,o,n,i;return e=new nn({props:{$$slots:{default:[Rv]},$$scope:{ctx:t}}}),n=new co({props:{$$slots:{default:[$v]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),o=H(),U(n.$$.fragment)},m(r,l){W(e,r,l),O(r,o,l),W(n,r,l),i=!0},p(r,l){const a={};l&128&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&128&&(s.$$scope={dirty:l,ctx:r}),n.$set(s)},i(r){i||(y(e.$$.fragment,r),y(n.$$.fragment,r),i=!0)},o(r){A(e.$$.fragment,r),A(n.$$.fragment,r),i=!1},d(r){r&&I(o),Y(e,r),Y(n,r)}}}function Dv(t){let e;return{c(){e=K("footer")},m(o,n){O(o,e,n)},d(o){o&&I(e)}}}function jv(t){let e,o,n,i;return e=new gn({props:{$$slots:{default:[Lv]},$$scope:{ctx:t}}}),n=new Ln({props:{$$slots:{default:[Dv]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),o=K(`
		hi
		`),U(n.$$.fragment)},m(r,l){W(e,r,l),O(r,o,l),W(n,r,l),i=!0},p(r,l){const a={};l&128&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&128&&(s.$$scope={dirty:l,ctx:r}),n.$set(s)},i(r){i||(y(e.$$.fragment,r),y(n.$$.fragment,r),i=!0)},o(r){A(e.$$.fragment,r),A(n.$$.fragment,r),i=!1},d(r){r&&I(o),Y(e,r),Y(n,r)}}}function Fv(t){let e,o;return e=new on({props:{$$slots:{default:[jv]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,i){const r={};i&128&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){A(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function Bv(t){let e,o,n;function i(l){t[3](l)}let r={$$slots:{default:[Fv]},$$scope:{ctx:t}};return t[0]!==void 0&&(r.open=t[0]),e=new rn({props:r}),Ne.push(()=>Wt(e,"open",i)),{c(){U(e.$$.fragment)},m(l,a){W(e,l,a),n=!0},p(l,[a]){const s={};a&128&&(s.$$scope={dirty:a,ctx:l}),!o&&a&1&&(o=!0,s.open=l[0],Gt(()=>o=!1)),e.$set(s)},i(l){n||(y(e.$$.fragment,l),n=!0)},o(l){A(e.$$.fragment,l),n=!1},d(l){Y(e,l)}}}function qv(t,e,o){let n,i;se(t,Oe,s=>o(2,n=s)),se(t,yi,s=>o(0,i=s));const l=fc[n.endGoal];Af[n.difficulty];function a(s){i=s,yi.set(i)}return t.$$.update=()=>{t.$$.dirty&4},[i,l,n,a]}class xv extends he{constructor(e){super(),pe(this,e,qv,Bv,de,{})}}function ui(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Gv(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function yc(t){let e,o,n;t.length!==2?(e=ui,o=(a,s)=>ui(t(a),s),n=(a,s)=>t(a)-s):(e=t===ui||t===Gv?t:Hv,o=t,n=t);function i(a,s,u=0,f=a.length){if(u<f){if(e(s,s)!==0)return f;do{const c=u+f>>>1;o(a[c],s)<0?u=c+1:f=c}while(u<f)}return u}function r(a,s,u=0,f=a.length){if(u<f){if(e(s,s)!==0)return f;do{const c=u+f>>>1;o(a[c],s)<=0?u=c+1:f=c}while(u<f)}return u}function l(a,s,u=0,f=a.length){const c=i(a,s,u,f-1);return c>u&&n(a[c-1],s)>-n(a[c],s)?c-1:c}return{left:i,center:l,right:r}}function Hv(){return 0}function Vv(t){return t===null?NaN:+t}const Wv=yc(ui),Yv=Wv.right;yc(Vv).center;const Uv=Math.sqrt(50),Kv=Math.sqrt(10),Jv=Math.sqrt(2);function Pi(t,e,o){const n=(e-t)/Math.max(0,o),i=Math.floor(Math.log10(n)),r=n/Math.pow(10,i),l=r>=Uv?10:r>=Kv?5:r>=Jv?2:1;let a,s,u;return i<0?(u=Math.pow(10,-i)/l,a=Math.round(t*u),s=Math.round(e*u),a/u<t&&++a,s/u>e&&--s,u=-u):(u=Math.pow(10,i)*l,a=Math.round(t/u),s=Math.round(e/u),a*u<t&&++a,s*u>e&&--s),s<a&&.5<=o&&o<2?Pi(t,e,o*2):[a,s,u]}function Xv(t,e,o){if(e=+e,t=+t,o=+o,!(o>0))return[];if(t===e)return[t];const n=e<t,[i,r,l]=n?Pi(e,t,o):Pi(t,e,o);if(!(r>=i))return[];const a=r-i+1,s=new Array(a);if(n)if(l<0)for(let u=0;u<a;++u)s[u]=(r-u)/-l;else for(let u=0;u<a;++u)s[u]=(r-u)*l;else if(l<0)for(let u=0;u<a;++u)s[u]=(i+u)/-l;else for(let u=0;u<a;++u)s[u]=(i+u)*l;return s}function qr(t,e,o){return e=+e,t=+t,o=+o,Pi(t,e,o)[2]}function Zv(t,e,o){e=+e,t=+t,o=+o;const n=e<t,i=n?qr(e,t,o):qr(t,e,o);return(n?-1:1)*(i<0?1/-i:i)}function Qv(t){return t}var vr=1,yr=2,xr=3,To=4,ga=1e-6;function zv(t){return"translate("+t+",0)"}function ey(t){return"translate(0,"+t+")"}function ty(t){return e=>+t(e)}function ny(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),o=>+t(o)+e}function oy(){return!this.__axis}function wc(t,e){var o=[],n=null,i=null,r=6,l=6,a=3,s=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=t===vr||t===To?-1:1,f=t===To||t===yr?"x":"y",c=t===vr||t===xr?zv:ey;function d(m){var _=n??(e.ticks?e.ticks.apply(e,o):e.domain()),h=i??(e.tickFormat?e.tickFormat.apply(e,o):Qv),p=Math.max(r,0)+a,w=e.range(),v=+w[0]+s,S=+w[w.length-1]+s,D=(e.bandwidth?ny:ty)(e.copy(),s),j=m.selection?m.selection():m,F=j.selectAll(".domain").data([null]),R=j.selectAll(".tick").data(_,e).order(),P=R.exit(),E=R.enter().append("g").attr("class","tick"),q=R.select("line"),M=R.select("text");F=F.merge(F.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),R=R.merge(E),q=q.merge(E.append("line").attr("stroke","currentColor").attr(f+"2",u*r)),M=M.merge(E.append("text").attr("fill","currentColor").attr(f,u*p).attr("dy",t===vr?"0em":t===xr?"0.71em":"0.32em")),m!==j&&(F=F.transition(m),R=R.transition(m),q=q.transition(m),M=M.transition(m),P=P.transition(m).attr("opacity",ga).attr("transform",function(C){return isFinite(C=D(C))?c(C+s):this.getAttribute("transform")}),E.attr("opacity",ga).attr("transform",function(C){var k=this.parentNode.__axis;return c((k&&isFinite(k=k(C))?k:D(C))+s)})),P.remove(),F.attr("d",t===To||t===yr?l?"M"+u*l+","+v+"H"+s+"V"+S+"H"+u*l:"M"+s+","+v+"V"+S:l?"M"+v+","+u*l+"V"+s+"H"+S+"V"+u*l:"M"+v+","+s+"H"+S),R.attr("opacity",1).attr("transform",function(C){return c(D(C)+s)}),q.attr(f+"2",u*r),M.attr(f,u*p).text(h),j.filter(oy).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===yr?"start":t===To?"end":"middle"),j.each(function(){this.__axis=D})}return d.scale=function(m){return arguments.length?(e=m,d):e},d.ticks=function(){return o=Array.from(arguments),d},d.tickArguments=function(m){return arguments.length?(o=m==null?[]:Array.from(m),d):o.slice()},d.tickValues=function(m){return arguments.length?(n=m==null?null:Array.from(m),d):n&&n.slice()},d.tickFormat=function(m){return arguments.length?(i=m,d):i},d.tickSize=function(m){return arguments.length?(r=l=+m,d):r},d.tickSizeInner=function(m){return arguments.length?(r=+m,d):r},d.tickSizeOuter=function(m){return arguments.length?(l=+m,d):l},d.tickPadding=function(m){return arguments.length?(a=+m,d):a},d.offset=function(m){return arguments.length?(s=+m,d):s},d}function iy(t){return wc(xr,t)}function ry(t){return wc(To,t)}var ly={value:()=>{}};function kc(){for(var t=0,e=arguments.length,o={},n;t<e;++t){if(!(n=arguments[t]+"")||n in o||/[\s.]/.test(n))throw new Error("illegal type: "+n);o[n]=[]}return new fi(o)}function fi(t){this._=t}function sy(t,e){return t.trim().split(/^|\s+/).map(function(o){var n="",i=o.indexOf(".");if(i>=0&&(n=o.slice(i+1),o=o.slice(0,i)),o&&!e.hasOwnProperty(o))throw new Error("unknown type: "+o);return{type:o,name:n}})}fi.prototype=kc.prototype={constructor:fi,on:function(t,e){var o=this._,n=sy(t+"",o),i,r=-1,l=n.length;if(arguments.length<2){for(;++r<l;)if((i=(t=n[r]).type)&&(i=ay(o[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++r<l;)if(i=(t=n[r]).type)o[i]=_a(o[i],t.name,e);else if(e==null)for(i in o)o[i]=_a(o[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var o in e)t[o]=e[o].slice();return new fi(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var o=new Array(i),n=0,i,r;n<i;++n)o[n]=arguments[n+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=this._[t],n=0,i=r.length;n<i;++n)r[n].value.apply(e,o)},apply:function(t,e,o){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var n=this._[t],i=0,r=n.length;i<r;++i)n[i].value.apply(e,o)}};function ay(t,e){for(var o=0,n=t.length,i;o<n;++o)if((i=t[o]).name===e)return i.value}function _a(t,e,o){for(var n=0,i=t.length;n<i;++n)if(t[n].name===e){t[n]=ly,t=t.slice(0,n).concat(t.slice(n+1));break}return o!=null&&t.push({name:e,value:o}),t}var Gr="http://www.w3.org/1999/xhtml";const ba={svg:"http://www.w3.org/2000/svg",xhtml:Gr,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Xi(t){var e=t+="",o=e.indexOf(":");return o>=0&&(e=t.slice(0,o))!=="xmlns"&&(t=t.slice(o+1)),ba.hasOwnProperty(e)?{space:ba[e],local:t}:t}function uy(t){return function(){var e=this.ownerDocument,o=this.namespaceURI;return o===Gr&&e.documentElement.namespaceURI===Gr?e.createElement(t):e.createElementNS(o,t)}}function fy(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Cc(t){var e=Xi(t);return(e.local?fy:uy)(e)}function cy(){}function yl(t){return t==null?cy:function(){return this.querySelector(t)}}function dy(t){typeof t!="function"&&(t=yl(t));for(var e=this._groups,o=e.length,n=new Array(o),i=0;i<o;++i)for(var r=e[i],l=r.length,a=n[i]=new Array(l),s,u,f=0;f<l;++f)(s=r[f])&&(u=t.call(s,s.__data__,f,r))&&("__data__"in s&&(u.__data__=s.__data__),a[f]=u);return new Ct(n,this._parents)}function my(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function py(){return[]}function Sc(t){return t==null?py:function(){return this.querySelectorAll(t)}}function hy(t){return function(){return my(t.apply(this,arguments))}}function gy(t){typeof t=="function"?t=hy(t):t=Sc(t);for(var e=this._groups,o=e.length,n=[],i=[],r=0;r<o;++r)for(var l=e[r],a=l.length,s,u=0;u<a;++u)(s=l[u])&&(n.push(t.call(s,s.__data__,u,l)),i.push(s));return new Ct(n,i)}function Ac(t){return function(){return this.matches(t)}}function Tc(t){return function(e){return e.matches(t)}}var _y=Array.prototype.find;function by(t){return function(){return _y.call(this.children,t)}}function vy(){return this.firstElementChild}function yy(t){return this.select(t==null?vy:by(typeof t=="function"?t:Tc(t)))}var wy=Array.prototype.filter;function ky(){return Array.from(this.children)}function Cy(t){return function(){return wy.call(this.children,t)}}function Sy(t){return this.selectAll(t==null?ky:Cy(typeof t=="function"?t:Tc(t)))}function Ay(t){typeof t!="function"&&(t=Ac(t));for(var e=this._groups,o=e.length,n=new Array(o),i=0;i<o;++i)for(var r=e[i],l=r.length,a=n[i]=[],s,u=0;u<l;++u)(s=r[u])&&t.call(s,s.__data__,u,r)&&a.push(s);return new Ct(n,this._parents)}function Ic(t){return new Array(t.length)}function Ty(){return new Ct(this._enter||this._groups.map(Ic),this._parents)}function Ni(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Ni.prototype={constructor:Ni,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Iy(t){return function(){return t}}function My(t,e,o,n,i,r){for(var l=0,a,s=e.length,u=r.length;l<u;++l)(a=e[l])?(a.__data__=r[l],n[l]=a):o[l]=new Ni(t,r[l]);for(;l<s;++l)(a=e[l])&&(i[l]=a)}function Oy(t,e,o,n,i,r,l){var a,s,u=new Map,f=e.length,c=r.length,d=new Array(f),m;for(a=0;a<f;++a)(s=e[a])&&(d[a]=m=l.call(s,s.__data__,a,e)+"",u.has(m)?i[a]=s:u.set(m,s));for(a=0;a<c;++a)m=l.call(t,r[a],a,r)+"",(s=u.get(m))?(n[a]=s,s.__data__=r[a],u.delete(m)):o[a]=new Ni(t,r[a]);for(a=0;a<f;++a)(s=e[a])&&u.get(d[a])===s&&(i[a]=s)}function Py(t){return t.__data__}function Ny(t,e){if(!arguments.length)return Array.from(this,Py);var o=e?Oy:My,n=this._parents,i=this._groups;typeof t!="function"&&(t=Iy(t));for(var r=i.length,l=new Array(r),a=new Array(r),s=new Array(r),u=0;u<r;++u){var f=n[u],c=i[u],d=c.length,m=Ey(t.call(f,f&&f.__data__,u,n)),_=m.length,h=a[u]=new Array(_),p=l[u]=new Array(_),w=s[u]=new Array(d);o(f,c,h,p,w,m,e);for(var v=0,S=0,D,j;v<_;++v)if(D=h[v]){for(v>=S&&(S=v+1);!(j=p[S])&&++S<_;);D._next=j||null}}return l=new Ct(l,n),l._enter=a,l._exit=s,l}function Ey(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Ry(){return new Ct(this._exit||this._groups.map(Ic),this._parents)}function $y(t,e,o){var n=this.enter(),i=this,r=this.exit();return typeof t=="function"?(n=t(n),n&&(n=n.selection())):n=n.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),o==null?r.remove():o(r),n&&i?n.merge(i).order():i}function Ly(t){for(var e=t.selection?t.selection():t,o=this._groups,n=e._groups,i=o.length,r=n.length,l=Math.min(i,r),a=new Array(i),s=0;s<l;++s)for(var u=o[s],f=n[s],c=u.length,d=a[s]=new Array(c),m,_=0;_<c;++_)(m=u[_]||f[_])&&(d[_]=m);for(;s<i;++s)a[s]=o[s];return new Ct(a,this._parents)}function Dy(){for(var t=this._groups,e=-1,o=t.length;++e<o;)for(var n=t[e],i=n.length-1,r=n[i],l;--i>=0;)(l=n[i])&&(r&&l.compareDocumentPosition(r)^4&&r.parentNode.insertBefore(l,r),r=l);return this}function jy(t){t||(t=Fy);function e(c,d){return c&&d?t(c.__data__,d.__data__):!c-!d}for(var o=this._groups,n=o.length,i=new Array(n),r=0;r<n;++r){for(var l=o[r],a=l.length,s=i[r]=new Array(a),u,f=0;f<a;++f)(u=l[f])&&(s[f]=u);s.sort(e)}return new Ct(i,this._parents).order()}function Fy(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function By(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function qy(){return Array.from(this)}function xy(){for(var t=this._groups,e=0,o=t.length;e<o;++e)for(var n=t[e],i=0,r=n.length;i<r;++i){var l=n[i];if(l)return l}return null}function Gy(){let t=0;for(const e of this)++t;return t}function Hy(){return!this.node()}function Vy(t){for(var e=this._groups,o=0,n=e.length;o<n;++o)for(var i=e[o],r=0,l=i.length,a;r<l;++r)(a=i[r])&&t.call(a,a.__data__,r,i);return this}function Wy(t){return function(){this.removeAttribute(t)}}function Yy(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Uy(t,e){return function(){this.setAttribute(t,e)}}function Ky(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Jy(t,e){return function(){var o=e.apply(this,arguments);o==null?this.removeAttribute(t):this.setAttribute(t,o)}}function Xy(t,e){return function(){var o=e.apply(this,arguments);o==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,o)}}function Zy(t,e){var o=Xi(t);if(arguments.length<2){var n=this.node();return o.local?n.getAttributeNS(o.space,o.local):n.getAttribute(o)}return this.each((e==null?o.local?Yy:Wy:typeof e=="function"?o.local?Xy:Jy:o.local?Ky:Uy)(o,e))}function Mc(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Qy(t){return function(){this.style.removeProperty(t)}}function zy(t,e,o){return function(){this.style.setProperty(t,e,o)}}function ew(t,e,o){return function(){var n=e.apply(this,arguments);n==null?this.style.removeProperty(t):this.style.setProperty(t,n,o)}}function tw(t,e,o){return arguments.length>1?this.each((e==null?Qy:typeof e=="function"?ew:zy)(t,e,o??"")):no(this.node(),t)}function no(t,e){return t.style.getPropertyValue(e)||Mc(t).getComputedStyle(t,null).getPropertyValue(e)}function nw(t){return function(){delete this[t]}}function ow(t,e){return function(){this[t]=e}}function iw(t,e){return function(){var o=e.apply(this,arguments);o==null?delete this[t]:this[t]=o}}function rw(t,e){return arguments.length>1?this.each((e==null?nw:typeof e=="function"?iw:ow)(t,e)):this.node()[t]}function Oc(t){return t.trim().split(/^|\s+/)}function wl(t){return t.classList||new Pc(t)}function Pc(t){this._node=t,this._names=Oc(t.getAttribute("class")||"")}Pc.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Nc(t,e){for(var o=wl(t),n=-1,i=e.length;++n<i;)o.add(e[n])}function Ec(t,e){for(var o=wl(t),n=-1,i=e.length;++n<i;)o.remove(e[n])}function lw(t){return function(){Nc(this,t)}}function sw(t){return function(){Ec(this,t)}}function aw(t,e){return function(){(e.apply(this,arguments)?Nc:Ec)(this,t)}}function uw(t,e){var o=Oc(t+"");if(arguments.length<2){for(var n=wl(this.node()),i=-1,r=o.length;++i<r;)if(!n.contains(o[i]))return!1;return!0}return this.each((typeof e=="function"?aw:e?lw:sw)(o,e))}function fw(){this.textContent=""}function cw(t){return function(){this.textContent=t}}function dw(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function mw(t){return arguments.length?this.each(t==null?fw:(typeof t=="function"?dw:cw)(t)):this.node().textContent}function pw(){this.innerHTML=""}function hw(t){return function(){this.innerHTML=t}}function gw(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function _w(t){return arguments.length?this.each(t==null?pw:(typeof t=="function"?gw:hw)(t)):this.node().innerHTML}function bw(){this.nextSibling&&this.parentNode.appendChild(this)}function vw(){return this.each(bw)}function yw(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ww(){return this.each(yw)}function kw(t){var e=typeof t=="function"?t:Cc(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Cw(){return null}function Sw(t,e){var o=typeof t=="function"?t:Cc(t),n=e==null?Cw:typeof e=="function"?e:yl(e);return this.select(function(){return this.insertBefore(o.apply(this,arguments),n.apply(this,arguments)||null)})}function Aw(){var t=this.parentNode;t&&t.removeChild(this)}function Tw(){return this.each(Aw)}function Iw(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Mw(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Ow(t){return this.select(t?Mw:Iw)}function Pw(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Nw(t){return function(e){t.call(this,e,this.__data__)}}function Ew(t){return t.trim().split(/^|\s+/).map(function(e){var o="",n=e.indexOf(".");return n>=0&&(o=e.slice(n+1),e=e.slice(0,n)),{type:e,name:o}})}function Rw(t){return function(){var e=this.__on;if(e){for(var o=0,n=-1,i=e.length,r;o<i;++o)r=e[o],(!t.type||r.type===t.type)&&r.name===t.name?this.removeEventListener(r.type,r.listener,r.options):e[++n]=r;++n?e.length=n:delete this.__on}}}function $w(t,e,o){return function(){var n=this.__on,i,r=Nw(e);if(n){for(var l=0,a=n.length;l<a;++l)if((i=n[l]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=r,i.options=o),i.value=e;return}}this.addEventListener(t.type,r,o),i={type:t.type,name:t.name,value:e,listener:r,options:o},n?n.push(i):this.__on=[i]}}function Lw(t,e,o){var n=Ew(t+""),i,r=n.length,l;if(arguments.length<2){var a=this.node().__on;if(a){for(var s=0,u=a.length,f;s<u;++s)for(i=0,f=a[s];i<r;++i)if((l=n[i]).type===f.type&&l.name===f.name)return f.value}return}for(a=e?$w:Rw,i=0;i<r;++i)this.each(a(n[i],e,o));return this}function Rc(t,e,o){var n=Mc(t),i=n.CustomEvent;typeof i=="function"?i=new i(e,o):(i=n.document.createEvent("Event"),o?(i.initEvent(e,o.bubbles,o.cancelable),i.detail=o.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Dw(t,e){return function(){return Rc(this,t,e)}}function jw(t,e){return function(){return Rc(this,t,e.apply(this,arguments))}}function Fw(t,e){return this.each((typeof e=="function"?jw:Dw)(t,e))}function*Bw(){for(var t=this._groups,e=0,o=t.length;e<o;++e)for(var n=t[e],i=0,r=n.length,l;i<r;++i)(l=n[i])&&(yield l)}var $c=[null];function Ct(t,e){this._groups=t,this._parents=e}function Uo(){return new Ct([[document.documentElement]],$c)}function qw(){return this}Ct.prototype=Uo.prototype={constructor:Ct,select:dy,selectAll:gy,selectChild:yy,selectChildren:Sy,filter:Ay,data:Ny,enter:Ty,exit:Ry,join:$y,merge:Ly,selection:qw,order:Dy,sort:jy,call:By,nodes:qy,node:xy,size:Gy,empty:Hy,each:Vy,attr:Zy,style:tw,property:rw,classed:uw,text:mw,html:_w,raise:vw,lower:ww,append:kw,insert:Sw,remove:Tw,clone:Ow,datum:Pw,on:Lw,dispatch:Fw,[Symbol.iterator]:Bw};function xw(t){return typeof t=="string"?new Ct([[document.querySelector(t)]],[document.documentElement]):new Ct([[t]],$c)}function kl(t,e,o){t.prototype=e.prototype=o,o.constructor=t}function Lc(t,e){var o=Object.create(t.prototype);for(var n in e)o[n]=e[n];return o}function Ko(){}var Bo=.7,Ei=1/Bo,Jn="\\s*([+-]?\\d+)\\s*",qo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",qt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Gw=/^#([0-9a-f]{3,8})$/,Hw=new RegExp(`^rgb\\(${Jn},${Jn},${Jn}\\)$`),Vw=new RegExp(`^rgb\\(${qt},${qt},${qt}\\)$`),Ww=new RegExp(`^rgba\\(${Jn},${Jn},${Jn},${qo}\\)$`),Yw=new RegExp(`^rgba\\(${qt},${qt},${qt},${qo}\\)$`),Uw=new RegExp(`^hsl\\(${qo},${qt},${qt}\\)$`),Kw=new RegExp(`^hsla\\(${qo},${qt},${qt},${qo}\\)$`),va={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};kl(Ko,Nn,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:ya,formatHex:ya,formatHex8:Jw,formatHsl:Xw,formatRgb:wa,toString:wa});function ya(){return this.rgb().formatHex()}function Jw(){return this.rgb().formatHex8()}function Xw(){return Dc(this).formatHsl()}function wa(){return this.rgb().formatRgb()}function Nn(t){var e,o;return t=(t+"").trim().toLowerCase(),(e=Gw.exec(t))?(o=e[1].length,e=parseInt(e[1],16),o===6?ka(e):o===3?new _t(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):o===8?ti(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):o===4?ti(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Hw.exec(t))?new _t(e[1],e[2],e[3],1):(e=Vw.exec(t))?new _t(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Ww.exec(t))?ti(e[1],e[2],e[3],e[4]):(e=Yw.exec(t))?ti(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Uw.exec(t))?Aa(e[1],e[2]/100,e[3]/100,1):(e=Kw.exec(t))?Aa(e[1],e[2]/100,e[3]/100,e[4]):va.hasOwnProperty(t)?ka(va[t]):t==="transparent"?new _t(NaN,NaN,NaN,0):null}function ka(t){return new _t(t>>16&255,t>>8&255,t&255,1)}function ti(t,e,o,n){return n<=0&&(t=e=o=NaN),new _t(t,e,o,n)}function Zw(t){return t instanceof Ko||(t=Nn(t)),t?(t=t.rgb(),new _t(t.r,t.g,t.b,t.opacity)):new _t}function Hr(t,e,o,n){return arguments.length===1?Zw(t):new _t(t,e,o,n??1)}function _t(t,e,o,n){this.r=+t,this.g=+e,this.b=+o,this.opacity=+n}kl(_t,Hr,Lc(Ko,{brighter(t){return t=t==null?Ei:Math.pow(Ei,t),new _t(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Bo:Math.pow(Bo,t),new _t(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new _t(Sn(this.r),Sn(this.g),Sn(this.b),Ri(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ca,formatHex:Ca,formatHex8:Qw,formatRgb:Sa,toString:Sa}));function Ca(){return`#${wn(this.r)}${wn(this.g)}${wn(this.b)}`}function Qw(){return`#${wn(this.r)}${wn(this.g)}${wn(this.b)}${wn((isNaN(this.opacity)?1:this.opacity)*255)}`}function Sa(){const t=Ri(this.opacity);return`${t===1?"rgb(":"rgba("}${Sn(this.r)}, ${Sn(this.g)}, ${Sn(this.b)}${t===1?")":`, ${t})`}`}function Ri(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Sn(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function wn(t){return t=Sn(t),(t<16?"0":"")+t.toString(16)}function Aa(t,e,o,n){return n<=0?t=e=o=NaN:o<=0||o>=1?t=e=NaN:e<=0&&(t=NaN),new Et(t,e,o,n)}function Dc(t){if(t instanceof Et)return new Et(t.h,t.s,t.l,t.opacity);if(t instanceof Ko||(t=Nn(t)),!t)return new Et;if(t instanceof Et)return t;t=t.rgb();var e=t.r/255,o=t.g/255,n=t.b/255,i=Math.min(e,o,n),r=Math.max(e,o,n),l=NaN,a=r-i,s=(r+i)/2;return a?(e===r?l=(o-n)/a+(o<n)*6:o===r?l=(n-e)/a+2:l=(e-o)/a+4,a/=s<.5?r+i:2-r-i,l*=60):a=s>0&&s<1?0:l,new Et(l,a,s,t.opacity)}function zw(t,e,o,n){return arguments.length===1?Dc(t):new Et(t,e,o,n??1)}function Et(t,e,o,n){this.h=+t,this.s=+e,this.l=+o,this.opacity=+n}kl(Et,zw,Lc(Ko,{brighter(t){return t=t==null?Ei:Math.pow(Ei,t),new Et(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Bo:Math.pow(Bo,t),new Et(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,o=this.l,n=o+(o<.5?o:1-o)*e,i=2*o-n;return new _t(wr(t>=240?t-240:t+120,i,n),wr(t,i,n),wr(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new Et(Ta(this.h),ni(this.s),ni(this.l),Ri(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ri(this.opacity);return`${t===1?"hsl(":"hsla("}${Ta(this.h)}, ${ni(this.s)*100}%, ${ni(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Ta(t){return t=(t||0)%360,t<0?t+360:t}function ni(t){return Math.max(0,Math.min(1,t||0))}function wr(t,e,o){return(t<60?e+(o-e)*t/60:t<180?o:t<240?e+(o-e)*(240-t)/60:e)*255}const Cl=t=>()=>t;function e2(t,e){return function(o){return t+o*e}}function t2(t,e,o){return t=Math.pow(t,o),e=Math.pow(e,o)-t,o=1/o,function(n){return Math.pow(t+n*e,o)}}function n2(t){return(t=+t)==1?jc:function(e,o){return o-e?t2(e,o,t):Cl(isNaN(e)?o:e)}}function jc(t,e){var o=e-t;return o?e2(t,o):Cl(isNaN(t)?e:t)}const $i=function t(e){var o=n2(e);function n(i,r){var l=o((i=Hr(i)).r,(r=Hr(r)).r),a=o(i.g,r.g),s=o(i.b,r.b),u=jc(i.opacity,r.opacity);return function(f){return i.r=l(f),i.g=a(f),i.b=s(f),i.opacity=u(f),i+""}}return n.gamma=t,n}(1);function o2(t,e){e||(e=[]);var o=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(r){for(i=0;i<o;++i)n[i]=t[i]*(1-r)+e[i]*r;return n}}function i2(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function r2(t,e){var o=e?e.length:0,n=t?Math.min(o,t.length):0,i=new Array(n),r=new Array(o),l;for(l=0;l<n;++l)i[l]=Sl(t[l],e[l]);for(;l<o;++l)r[l]=e[l];return function(a){for(l=0;l<n;++l)r[l]=i[l](a);return r}}function l2(t,e){var o=new Date;return t=+t,e=+e,function(n){return o.setTime(t*(1-n)+e*n),o}}function Nt(t,e){return t=+t,e=+e,function(o){return t*(1-o)+e*o}}function s2(t,e){var o={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?o[i]=Sl(t[i],e[i]):n[i]=e[i];return function(r){for(i in o)n[i]=o[i](r);return n}}var Vr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,kr=new RegExp(Vr.source,"g");function a2(t){return function(){return t}}function u2(t){return function(e){return t(e)+""}}function Fc(t,e){var o=Vr.lastIndex=kr.lastIndex=0,n,i,r,l=-1,a=[],s=[];for(t=t+"",e=e+"";(n=Vr.exec(t))&&(i=kr.exec(e));)(r=i.index)>o&&(r=e.slice(o,r),a[l]?a[l]+=r:a[++l]=r),(n=n[0])===(i=i[0])?a[l]?a[l]+=i:a[++l]=i:(a[++l]=null,s.push({i:l,x:Nt(n,i)})),o=kr.lastIndex;return o<e.length&&(r=e.slice(o),a[l]?a[l]+=r:a[++l]=r),a.length<2?s[0]?u2(s[0].x):a2(e):(e=s.length,function(u){for(var f=0,c;f<e;++f)a[(c=s[f]).i]=c.x(u);return a.join("")})}function Sl(t,e){var o=typeof e,n;return e==null||o==="boolean"?Cl(e):(o==="number"?Nt:o==="string"?(n=Nn(e))?(e=n,$i):Fc:e instanceof Nn?$i:e instanceof Date?l2:i2(e)?o2:Array.isArray(e)?r2:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?s2:Nt)(t,e)}function f2(t,e){return t=+t,e=+e,function(o){return Math.round(t*(1-o)+e*o)}}var Ia=180/Math.PI,Wr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Bc(t,e,o,n,i,r){var l,a,s;return(l=Math.sqrt(t*t+e*e))&&(t/=l,e/=l),(s=t*o+e*n)&&(o-=t*s,n-=e*s),(a=Math.sqrt(o*o+n*n))&&(o/=a,n/=a,s/=a),t*n<e*o&&(t=-t,e=-e,s=-s,l=-l),{translateX:i,translateY:r,rotate:Math.atan2(e,t)*Ia,skewX:Math.atan(s)*Ia,scaleX:l,scaleY:a}}var oi;function c2(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Wr:Bc(e.a,e.b,e.c,e.d,e.e,e.f)}function d2(t){return t==null||(oi||(oi=document.createElementNS("http://www.w3.org/2000/svg","g")),oi.setAttribute("transform",t),!(t=oi.transform.baseVal.consolidate()))?Wr:(t=t.matrix,Bc(t.a,t.b,t.c,t.d,t.e,t.f))}function qc(t,e,o,n){function i(u){return u.length?u.pop()+" ":""}function r(u,f,c,d,m,_){if(u!==c||f!==d){var h=m.push("translate(",null,e,null,o);_.push({i:h-4,x:Nt(u,c)},{i:h-2,x:Nt(f,d)})}else(c||d)&&m.push("translate("+c+e+d+o)}function l(u,f,c,d){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),d.push({i:c.push(i(c)+"rotate(",null,n)-2,x:Nt(u,f)})):f&&c.push(i(c)+"rotate("+f+n)}function a(u,f,c,d){u!==f?d.push({i:c.push(i(c)+"skewX(",null,n)-2,x:Nt(u,f)}):f&&c.push(i(c)+"skewX("+f+n)}function s(u,f,c,d,m,_){if(u!==c||f!==d){var h=m.push(i(m)+"scale(",null,",",null,")");_.push({i:h-4,x:Nt(u,c)},{i:h-2,x:Nt(f,d)})}else(c!==1||d!==1)&&m.push(i(m)+"scale("+c+","+d+")")}return function(u,f){var c=[],d=[];return u=t(u),f=t(f),r(u.translateX,u.translateY,f.translateX,f.translateY,c,d),l(u.rotate,f.rotate,c,d),a(u.skewX,f.skewX,c,d),s(u.scaleX,u.scaleY,f.scaleX,f.scaleY,c,d),u=f=null,function(m){for(var _=-1,h=d.length,p;++_<h;)c[(p=d[_]).i]=p.x(m);return c.join("")}}}var m2=qc(c2,"px, ","px)","deg)"),p2=qc(d2,", ",")",")"),oo=0,Io=0,Co=0,xc=1e3,Li,Mo,Di=0,En=0,Zi=0,xo=typeof performance=="object"&&performance.now?performance:Date,Gc=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Al(){return En||(Gc(h2),En=xo.now()+Zi)}function h2(){En=0}function ji(){this._call=this._time=this._next=null}ji.prototype=Hc.prototype={constructor:ji,restart:function(t,e,o){if(typeof t!="function")throw new TypeError("callback is not a function");o=(o==null?Al():+o)+(e==null?0:+e),!this._next&&Mo!==this&&(Mo?Mo._next=this:Li=this,Mo=this),this._call=t,this._time=o,Yr()},stop:function(){this._call&&(this._call=null,this._time=1/0,Yr())}};function Hc(t,e,o){var n=new ji;return n.restart(t,e,o),n}function g2(){Al(),++oo;for(var t=Li,e;t;)(e=En-t._time)>=0&&t._call.call(void 0,e),t=t._next;--oo}function Ma(){En=(Di=xo.now())+Zi,oo=Io=0;try{g2()}finally{oo=0,b2(),En=0}}function _2(){var t=xo.now(),e=t-Di;e>xc&&(Zi-=e,Di=t)}function b2(){for(var t,e=Li,o,n=1/0;e;)e._call?(n>e._time&&(n=e._time),t=e,e=e._next):(o=e._next,e._next=null,e=t?t._next=o:Li=o);Mo=t,Yr(n)}function Yr(t){if(!oo){Io&&(Io=clearTimeout(Io));var e=t-En;e>24?(t<1/0&&(Io=setTimeout(Ma,t-xo.now()-Zi)),Co&&(Co=clearInterval(Co))):(Co||(Di=xo.now(),Co=setInterval(_2,xc)),oo=1,Gc(Ma))}}function Oa(t,e,o){var n=new ji;return e=e==null?0:+e,n.restart(i=>{n.stop(),t(i+e)},e,o),n}var v2=kc("start","end","cancel","interrupt"),y2=[],Vc=0,Pa=1,Ur=2,ci=3,Na=4,Kr=5,di=6;function Qi(t,e,o,n,i,r){var l=t.__transition;if(!l)t.__transition={};else if(o in l)return;w2(t,o,{name:e,index:n,group:i,on:v2,tween:y2,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:Vc})}function Tl(t,e){var o=Dt(t,e);if(o.state>Vc)throw new Error("too late; already scheduled");return o}function Yt(t,e){var o=Dt(t,e);if(o.state>ci)throw new Error("too late; already running");return o}function Dt(t,e){var o=t.__transition;if(!o||!(o=o[e]))throw new Error("transition not found");return o}function w2(t,e,o){var n=t.__transition,i;n[e]=o,o.timer=Hc(r,0,o.time);function r(u){o.state=Pa,o.timer.restart(l,o.delay,o.time),o.delay<=u&&l(u-o.delay)}function l(u){var f,c,d,m;if(o.state!==Pa)return s();for(f in n)if(m=n[f],m.name===o.name){if(m.state===ci)return Oa(l);m.state===Na?(m.state=di,m.timer.stop(),m.on.call("interrupt",t,t.__data__,m.index,m.group),delete n[f]):+f<e&&(m.state=di,m.timer.stop(),m.on.call("cancel",t,t.__data__,m.index,m.group),delete n[f])}if(Oa(function(){o.state===ci&&(o.state=Na,o.timer.restart(a,o.delay,o.time),a(u))}),o.state=Ur,o.on.call("start",t,t.__data__,o.index,o.group),o.state===Ur){for(o.state=ci,i=new Array(d=o.tween.length),f=0,c=-1;f<d;++f)(m=o.tween[f].value.call(t,t.__data__,o.index,o.group))&&(i[++c]=m);i.length=c+1}}function a(u){for(var f=u<o.duration?o.ease.call(null,u/o.duration):(o.timer.restart(s),o.state=Kr,1),c=-1,d=i.length;++c<d;)i[c].call(t,f);o.state===Kr&&(o.on.call("end",t,t.__data__,o.index,o.group),s())}function s(){o.state=di,o.timer.stop(),delete n[e];for(var u in n)return;delete t.__transition}}function k2(t,e){var o=t.__transition,n,i,r=!0,l;if(o){e=e==null?null:e+"";for(l in o){if((n=o[l]).name!==e){r=!1;continue}i=n.state>Ur&&n.state<Kr,n.state=di,n.timer.stop(),n.on.call(i?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[l]}r&&delete t.__transition}}function C2(t){return this.each(function(){k2(this,t)})}function S2(t,e){var o,n;return function(){var i=Yt(this,t),r=i.tween;if(r!==o){n=o=r;for(var l=0,a=n.length;l<a;++l)if(n[l].name===e){n=n.slice(),n.splice(l,1);break}}i.tween=n}}function A2(t,e,o){var n,i;if(typeof o!="function")throw new Error;return function(){var r=Yt(this,t),l=r.tween;if(l!==n){i=(n=l).slice();for(var a={name:e,value:o},s=0,u=i.length;s<u;++s)if(i[s].name===e){i[s]=a;break}s===u&&i.push(a)}r.tween=i}}function T2(t,e){var o=this._id;if(t+="",arguments.length<2){for(var n=Dt(this.node(),o).tween,i=0,r=n.length,l;i<r;++i)if((l=n[i]).name===t)return l.value;return null}return this.each((e==null?S2:A2)(o,t,e))}function Il(t,e,o){var n=t._id;return t.each(function(){var i=Yt(this,n);(i.value||(i.value={}))[e]=o.apply(this,arguments)}),function(i){return Dt(i,n).value[e]}}function Wc(t,e){var o;return(typeof e=="number"?Nt:e instanceof Nn?$i:(o=Nn(e))?(e=o,$i):Fc)(t,e)}function I2(t){return function(){this.removeAttribute(t)}}function M2(t){return function(){this.removeAttributeNS(t.space,t.local)}}function O2(t,e,o){var n,i=o+"",r;return function(){var l=this.getAttribute(t);return l===i?null:l===n?r:r=e(n=l,o)}}function P2(t,e,o){var n,i=o+"",r;return function(){var l=this.getAttributeNS(t.space,t.local);return l===i?null:l===n?r:r=e(n=l,o)}}function N2(t,e,o){var n,i,r;return function(){var l,a=o(this),s;return a==null?void this.removeAttribute(t):(l=this.getAttribute(t),s=a+"",l===s?null:l===n&&s===i?r:(i=s,r=e(n=l,a)))}}function E2(t,e,o){var n,i,r;return function(){var l,a=o(this),s;return a==null?void this.removeAttributeNS(t.space,t.local):(l=this.getAttributeNS(t.space,t.local),s=a+"",l===s?null:l===n&&s===i?r:(i=s,r=e(n=l,a)))}}function R2(t,e){var o=Xi(t),n=o==="transform"?p2:Wc;return this.attrTween(t,typeof e=="function"?(o.local?E2:N2)(o,n,Il(this,"attr."+t,e)):e==null?(o.local?M2:I2)(o):(o.local?P2:O2)(o,n,e))}function $2(t,e){return function(o){this.setAttribute(t,e.call(this,o))}}function L2(t,e){return function(o){this.setAttributeNS(t.space,t.local,e.call(this,o))}}function D2(t,e){var o,n;function i(){var r=e.apply(this,arguments);return r!==n&&(o=(n=r)&&L2(t,r)),o}return i._value=e,i}function j2(t,e){var o,n;function i(){var r=e.apply(this,arguments);return r!==n&&(o=(n=r)&&$2(t,r)),o}return i._value=e,i}function F2(t,e){var o="attr."+t;if(arguments.length<2)return(o=this.tween(o))&&o._value;if(e==null)return this.tween(o,null);if(typeof e!="function")throw new Error;var n=Xi(t);return this.tween(o,(n.local?D2:j2)(n,e))}function B2(t,e){return function(){Tl(this,t).delay=+e.apply(this,arguments)}}function q2(t,e){return e=+e,function(){Tl(this,t).delay=e}}function x2(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?B2:q2)(e,t)):Dt(this.node(),e).delay}function G2(t,e){return function(){Yt(this,t).duration=+e.apply(this,arguments)}}function H2(t,e){return e=+e,function(){Yt(this,t).duration=e}}function V2(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?G2:H2)(e,t)):Dt(this.node(),e).duration}function W2(t,e){if(typeof e!="function")throw new Error;return function(){Yt(this,t).ease=e}}function Y2(t){var e=this._id;return arguments.length?this.each(W2(e,t)):Dt(this.node(),e).ease}function U2(t,e){return function(){var o=e.apply(this,arguments);if(typeof o!="function")throw new Error;Yt(this,t).ease=o}}function K2(t){if(typeof t!="function")throw new Error;return this.each(U2(this._id,t))}function J2(t){typeof t!="function"&&(t=Ac(t));for(var e=this._groups,o=e.length,n=new Array(o),i=0;i<o;++i)for(var r=e[i],l=r.length,a=n[i]=[],s,u=0;u<l;++u)(s=r[u])&&t.call(s,s.__data__,u,r)&&a.push(s);return new zt(n,this._parents,this._name,this._id)}function X2(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,o=t._groups,n=e.length,i=o.length,r=Math.min(n,i),l=new Array(n),a=0;a<r;++a)for(var s=e[a],u=o[a],f=s.length,c=l[a]=new Array(f),d,m=0;m<f;++m)(d=s[m]||u[m])&&(c[m]=d);for(;a<n;++a)l[a]=e[a];return new zt(l,this._parents,this._name,this._id)}function Z2(t){return(t+"").trim().split(/^|\s+/).every(function(e){var o=e.indexOf(".");return o>=0&&(e=e.slice(0,o)),!e||e==="start"})}function Q2(t,e,o){var n,i,r=Z2(e)?Tl:Yt;return function(){var l=r(this,t),a=l.on;a!==n&&(i=(n=a).copy()).on(e,o),l.on=i}}function z2(t,e){var o=this._id;return arguments.length<2?Dt(this.node(),o).on.on(t):this.each(Q2(o,t,e))}function ek(t){return function(){var e=this.parentNode;for(var o in this.__transition)if(+o!==t)return;e&&e.removeChild(this)}}function tk(){return this.on("end.remove",ek(this._id))}function nk(t){var e=this._name,o=this._id;typeof t!="function"&&(t=yl(t));for(var n=this._groups,i=n.length,r=new Array(i),l=0;l<i;++l)for(var a=n[l],s=a.length,u=r[l]=new Array(s),f,c,d=0;d<s;++d)(f=a[d])&&(c=t.call(f,f.__data__,d,a))&&("__data__"in f&&(c.__data__=f.__data__),u[d]=c,Qi(u[d],e,o,d,u,Dt(f,o)));return new zt(r,this._parents,e,o)}function ok(t){var e=this._name,o=this._id;typeof t!="function"&&(t=Sc(t));for(var n=this._groups,i=n.length,r=[],l=[],a=0;a<i;++a)for(var s=n[a],u=s.length,f,c=0;c<u;++c)if(f=s[c]){for(var d=t.call(f,f.__data__,c,s),m,_=Dt(f,o),h=0,p=d.length;h<p;++h)(m=d[h])&&Qi(m,e,o,h,d,_);r.push(d),l.push(f)}return new zt(r,l,e,o)}var ik=Uo.prototype.constructor;function rk(){return new ik(this._groups,this._parents)}function lk(t,e){var o,n,i;return function(){var r=no(this,t),l=(this.style.removeProperty(t),no(this,t));return r===l?null:r===o&&l===n?i:i=e(o=r,n=l)}}function Yc(t){return function(){this.style.removeProperty(t)}}function sk(t,e,o){var n,i=o+"",r;return function(){var l=no(this,t);return l===i?null:l===n?r:r=e(n=l,o)}}function ak(t,e,o){var n,i,r;return function(){var l=no(this,t),a=o(this),s=a+"";return a==null&&(s=a=(this.style.removeProperty(t),no(this,t))),l===s?null:l===n&&s===i?r:(i=s,r=e(n=l,a))}}function uk(t,e){var o,n,i,r="style."+e,l="end."+r,a;return function(){var s=Yt(this,t),u=s.on,f=s.value[r]==null?a||(a=Yc(e)):void 0;(u!==o||i!==f)&&(n=(o=u).copy()).on(l,i=f),s.on=n}}function fk(t,e,o){var n=(t+="")=="transform"?m2:Wc;return e==null?this.styleTween(t,lk(t,n)).on("end.style."+t,Yc(t)):typeof e=="function"?this.styleTween(t,ak(t,n,Il(this,"style."+t,e))).each(uk(this._id,t)):this.styleTween(t,sk(t,n,e),o).on("end.style."+t,null)}function ck(t,e,o){return function(n){this.style.setProperty(t,e.call(this,n),o)}}function dk(t,e,o){var n,i;function r(){var l=e.apply(this,arguments);return l!==i&&(n=(i=l)&&ck(t,l,o)),n}return r._value=e,r}function mk(t,e,o){var n="style."+(t+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;return this.tween(n,dk(t,e,o??""))}function pk(t){return function(){this.textContent=t}}function hk(t){return function(){var e=t(this);this.textContent=e??""}}function gk(t){return this.tween("text",typeof t=="function"?hk(Il(this,"text",t)):pk(t==null?"":t+""))}function _k(t){return function(e){this.textContent=t.call(this,e)}}function bk(t){var e,o;function n(){var i=t.apply(this,arguments);return i!==o&&(e=(o=i)&&_k(i)),e}return n._value=t,n}function vk(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,bk(t))}function yk(){for(var t=this._name,e=this._id,o=Uc(),n=this._groups,i=n.length,r=0;r<i;++r)for(var l=n[r],a=l.length,s,u=0;u<a;++u)if(s=l[u]){var f=Dt(s,e);Qi(s,t,o,u,l,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new zt(n,this._parents,t,o)}function wk(){var t,e,o=this,n=o._id,i=o.size();return new Promise(function(r,l){var a={value:l},s={value:function(){--i===0&&r()}};o.each(function(){var u=Yt(this,n),f=u.on;f!==t&&(e=(t=f).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(s)),u.on=e}),i===0&&r()})}var kk=0;function zt(t,e,o,n){this._groups=t,this._parents=e,this._name=o,this._id=n}function Uc(){return++kk}var Kt=Uo.prototype;zt.prototype={constructor:zt,select:nk,selectAll:ok,selectChild:Kt.selectChild,selectChildren:Kt.selectChildren,filter:J2,merge:X2,selection:rk,transition:yk,call:Kt.call,nodes:Kt.nodes,node:Kt.node,size:Kt.size,empty:Kt.empty,each:Kt.each,on:z2,attr:R2,attrTween:F2,style:fk,styleTween:mk,text:gk,textTween:vk,remove:tk,tween:T2,delay:x2,duration:V2,ease:Y2,easeVarying:K2,end:wk,[Symbol.iterator]:Kt[Symbol.iterator]};function Ck(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Sk={time:null,delay:0,duration:250,ease:Ck};function Ak(t,e){for(var o;!(o=t.__transition)||!(o=o[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return o}function Tk(t){var e,o;t instanceof zt?(e=t._id,t=t._name):(e=Uc(),(o=Sk).time=Al(),t=t==null?null:t+"");for(var n=this._groups,i=n.length,r=0;r<i;++r)for(var l=n[r],a=l.length,s,u=0;u<a;++u)(s=l[u])&&Qi(s,t,e,u,l,o||Ak(s,e));return new zt(n,this._parents,t,e)}Uo.prototype.interrupt=C2;Uo.prototype.transition=Tk;const Jr=Math.PI,Xr=2*Jr,bn=1e-6,Ik=Xr-bn;function Kc(t){this._+=t[0];for(let e=1,o=t.length;e<o;++e)this._+=arguments[e]+t[e]}function Mk(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Kc;const o=10**e;return function(n){this._+=n[0];for(let i=1,r=n.length;i<r;++i)this._+=Math.round(arguments[i]*o)/o+n[i]}}class Ok{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Kc:Mk(e)}moveTo(e,o){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+o}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,o){this._append`L${this._x1=+e},${this._y1=+o}`}quadraticCurveTo(e,o,n,i){this._append`Q${+e},${+o},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,o,n,i,r,l){this._append`C${+e},${+o},${+n},${+i},${this._x1=+r},${this._y1=+l}`}arcTo(e,o,n,i,r){if(e=+e,o=+o,n=+n,i=+i,r=+r,r<0)throw new Error(`negative radius: ${r}`);let l=this._x1,a=this._y1,s=n-e,u=i-o,f=l-e,c=a-o,d=f*f+c*c;if(this._x1===null)this._append`M${this._x1=e},${this._y1=o}`;else if(d>bn)if(!(Math.abs(c*s-u*f)>bn)||!r)this._append`L${this._x1=e},${this._y1=o}`;else{let m=n-l,_=i-a,h=s*s+u*u,p=m*m+_*_,w=Math.sqrt(h),v=Math.sqrt(d),S=r*Math.tan((Jr-Math.acos((h+d-p)/(2*w*v)))/2),D=S/v,j=S/w;Math.abs(D-1)>bn&&this._append`L${e+D*f},${o+D*c}`,this._append`A${r},${r},0,0,${+(c*m>f*_)},${this._x1=e+j*s},${this._y1=o+j*u}`}}arc(e,o,n,i,r,l){if(e=+e,o=+o,n=+n,l=!!l,n<0)throw new Error(`negative radius: ${n}`);let a=n*Math.cos(i),s=n*Math.sin(i),u=e+a,f=o+s,c=1^l,d=l?i-r:r-i;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>bn||Math.abs(this._y1-f)>bn)&&this._append`L${u},${f}`,n&&(d<0&&(d=d%Xr+Xr),d>Ik?this._append`A${n},${n},0,1,${c},${e-a},${o-s}A${n},${n},0,1,${c},${this._x1=u},${this._y1=f}`:d>bn&&this._append`A${n},${n},0,${+(d>=Jr)},${c},${this._x1=e+n*Math.cos(r)},${this._y1=o+n*Math.sin(r)}`)}rect(e,o,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+o}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function Pk(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Fi(t,e){if((o=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var o,n=t.slice(0,o);return[n.length>1?n[0]+n.slice(2):n,+t.slice(o+1)]}function io(t){return t=Fi(Math.abs(t)),t?t[1]:NaN}function Nk(t,e){return function(o,n){for(var i=o.length,r=[],l=0,a=t[0],s=0;i>0&&a>0&&(s+a+1>n&&(a=Math.max(1,n-s)),r.push(o.substring(i-=a,i+a)),!((s+=a+1)>n));)a=t[l=(l+1)%t.length];return r.reverse().join(e)}}function Ek(t){return function(e){return e.replace(/[0-9]/g,function(o){return t[+o]})}}var Rk=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Bi(t){if(!(e=Rk.exec(t)))throw new Error("invalid format: "+t);var e;return new Ml({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Bi.prototype=Ml.prototype;function Ml(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Ml.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function $k(t){e:for(var e=t.length,o=1,n=-1,i;o<e;++o)switch(t[o]){case".":n=i=o;break;case"0":n===0&&(n=o),i=o;break;default:if(!+t[o])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var Jc;function Lk(t,e){var o=Fi(t,e);if(!o)return t+"";var n=o[0],i=o[1],r=i-(Jc=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=n.length;return r===l?n:r>l?n+new Array(r-l+1).join("0"):r>0?n.slice(0,r)+"."+n.slice(r):"0."+new Array(1-r).join("0")+Fi(t,Math.max(0,e+r-1))[0]}function Ea(t,e){var o=Fi(t,e);if(!o)return t+"";var n=o[0],i=o[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const Ra={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Pk,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Ea(t*100,e),r:Ea,s:Lk,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function $a(t){return t}var La=Array.prototype.map,Da=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Dk(t){var e=t.grouping===void 0||t.thousands===void 0?$a:Nk(La.call(t.grouping,Number),t.thousands+""),o=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",r=t.numerals===void 0?$a:Ek(La.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"−":t.minus+"",s=t.nan===void 0?"NaN":t.nan+"";function u(c){c=Bi(c);var d=c.fill,m=c.align,_=c.sign,h=c.symbol,p=c.zero,w=c.width,v=c.comma,S=c.precision,D=c.trim,j=c.type;j==="n"?(v=!0,j="g"):Ra[j]||(S===void 0&&(S=12),D=!0,j="g"),(p||d==="0"&&m==="=")&&(p=!0,d="0",m="=");var F=h==="$"?o:h==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",R=h==="$"?n:/[%p]/.test(j)?l:"",P=Ra[j],E=/[defgprs%]/.test(j);S=S===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function q(M){var C=F,k=R,N,B,L;if(j==="c")k=P(M)+k,M="";else{M=+M;var J=M<0||1/M<0;if(M=isNaN(M)?s:P(Math.abs(M),S),D&&(M=$k(M)),J&&+M==0&&_!=="+"&&(J=!1),C=(J?_==="("?_:a:_==="-"||_==="("?"":_)+C,k=(j==="s"?Da[8+Jc/3]:"")+k+(J&&_==="("?")":""),E){for(N=-1,B=M.length;++N<B;)if(L=M.charCodeAt(N),48>L||L>57){k=(L===46?i+M.slice(N+1):M.slice(N))+k,M=M.slice(0,N);break}}}v&&!p&&(M=e(M,1/0));var Z=C.length+M.length+k.length,X=Z<w?new Array(w-Z+1).join(d):"";switch(v&&p&&(M=e(X+M,X.length?w-k.length:1/0),X=""),m){case"<":M=C+M+k+X;break;case"=":M=C+X+M+k;break;case"^":M=X.slice(0,Z=X.length>>1)+C+M+k+X.slice(Z);break;default:M=X+C+M+k;break}return r(M)}return q.toString=function(){return c+""},q}function f(c,d){var m=u((c=Bi(c),c.type="f",c)),_=Math.max(-8,Math.min(8,Math.floor(io(d)/3)))*3,h=Math.pow(10,-_),p=Da[8+_/3];return function(w){return m(h*w)+p}}return{format:u,formatPrefix:f}}var ii,Xc,Zc;jk({thousands:",",grouping:[3],currency:["$",""]});function jk(t){return ii=Dk(t),Xc=ii.format,Zc=ii.formatPrefix,ii}function Fk(t){return Math.max(0,-io(Math.abs(t)))}function Bk(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(io(e)/3)))*3-io(Math.abs(t)))}function qk(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,io(e)-io(t))+1}function xk(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Gk(t){return function(){return t}}function Hk(t){return+t}var ja=[0,1];function Hn(t){return t}function Zr(t,e){return(e-=t=+t)?function(o){return(o-t)/e}:Gk(isNaN(e)?NaN:.5)}function Vk(t,e){var o;return t>e&&(o=t,t=e,e=o),function(n){return Math.max(t,Math.min(e,n))}}function Wk(t,e,o){var n=t[0],i=t[1],r=e[0],l=e[1];return i<n?(n=Zr(i,n),r=o(l,r)):(n=Zr(n,i),r=o(r,l)),function(a){return r(n(a))}}function Yk(t,e,o){var n=Math.min(t.length,e.length)-1,i=new Array(n),r=new Array(n),l=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<n;)i[l]=Zr(t[l],t[l+1]),r[l]=o(e[l],e[l+1]);return function(a){var s=Yv(t,a,1,n)-1;return r[s](i[s](a))}}function Uk(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Kk(){var t=ja,e=ja,o=Sl,n,i,r,l=Hn,a,s,u;function f(){var d=Math.min(t.length,e.length);return l!==Hn&&(l=Vk(t[0],t[d-1])),a=d>2?Yk:Wk,s=u=null,c}function c(d){return d==null||isNaN(d=+d)?r:(s||(s=a(t.map(n),e,o)))(n(l(d)))}return c.invert=function(d){return l(i((u||(u=a(e,t.map(n),Nt)))(d)))},c.domain=function(d){return arguments.length?(t=Array.from(d,Hk),f()):t.slice()},c.range=function(d){return arguments.length?(e=Array.from(d),f()):e.slice()},c.rangeRound=function(d){return e=Array.from(d),o=f2,f()},c.clamp=function(d){return arguments.length?(l=d?!0:Hn,f()):l!==Hn},c.interpolate=function(d){return arguments.length?(o=d,f()):o},c.unknown=function(d){return arguments.length?(r=d,c):r},function(d,m){return n=d,i=m,f()}}function Jk(){return Kk()(Hn,Hn)}function Xk(t,e,o,n){var i=Zv(t,e,o),r;switch(n=Bi(n??",f"),n.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(r=Bk(i,l))&&(n.precision=r),Zc(n,l)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(r=qk(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=r-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(r=Fk(i))&&(n.precision=r-(n.type==="%")*2);break}}return Xc(n)}function Zk(t){var e=t.domain;return t.ticks=function(o){var n=e();return Xv(n[0],n[n.length-1],o??10)},t.tickFormat=function(o,n){var i=e();return Xk(i[0],i[i.length-1],o??10,n)},t.nice=function(o){o==null&&(o=10);var n=e(),i=0,r=n.length-1,l=n[i],a=n[r],s,u,f=10;for(a<l&&(u=l,l=a,a=u,u=i,i=r,r=u);f-- >0;){if(u=qr(l,a,o),u===s)return n[i]=l,n[r]=a,e(n);if(u>0)l=Math.floor(l/u)*u,a=Math.ceil(a/u)*u;else if(u<0)l=Math.ceil(l*u)/u,a=Math.floor(a*u)/u;else break;s=u}return t},t}function Qr(){var t=Jk();return t.copy=function(){return Uk(t,Qr())},xk.apply(t,arguments),Zk(t)}function qn(t){return function(){return t}}function Qk(t){let e=3;return t.digits=function(o){if(!arguments.length)return e;if(o==null)e=null;else{const n=Math.floor(o);if(!(n>=0))throw new RangeError(`invalid digits: ${o}`);e=n}return t},()=>new Ok(e)}function zk(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Qc(t){this._context=t}Qc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function e5(t){return new Qc(t)}function t5(t){return t[0]}function n5(t){return t[1]}function Cr(t,e){var o=qn(!0),n=null,i=e5,r=null,l=Qk(a);t=typeof t=="function"?t:t===void 0?t5:qn(t),e=typeof e=="function"?e:e===void 0?n5:qn(e);function a(s){var u,f=(s=zk(s)).length,c,d=!1,m;for(n==null&&(r=i(m=l())),u=0;u<=f;++u)!(u<f&&o(c=s[u],u,s))===d&&((d=!d)?r.lineStart():r.lineEnd()),d&&r.point(+t(c,u,s),+e(c,u,s));if(m)return r=null,m+""||null}return a.x=function(s){return arguments.length?(t=typeof s=="function"?s:qn(+s),a):t},a.y=function(s){return arguments.length?(e=typeof s=="function"?s:qn(+s),a):e},a.defined=function(s){return arguments.length?(o=typeof s=="function"?s:qn(!!s),a):o},a.curve=function(s){return arguments.length?(i=s,n!=null&&(r=i(n)),a):i},a.context=function(s){return arguments.length?(s==null?n=r=null:r=i(n=s),a):n},a}function Oo(t,e,o){this.k=t,this.x=e,this.y=o}Oo.prototype={constructor:Oo,scale:function(t){return t===1?this:new Oo(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Oo(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Oo.prototype;function o5(t){let e;return{c(){e=bf("svg"),$(e,"id","line-chart")},m(o,n){O(o,e,n)},p:Te,i:Te,o:Te,d(o){o&&I(e)}}}const Fa=52;function i5(t,e,o){let{data:n=[]}=e,i,r,l;const a={top:10,right:30,bottom:10,left:20},s=500-a.left-a.right,u=400-a.top-a.bottom;Cr().x((_,h)=>r(h)).y(_=>l(_)),Ho(()=>{o(1,i=xw("#line-chart").attr("width",s+a.left+a.right).attr("height",u+a.top+a.bottom)),r=Qr().range([0,s]),l=Qr().range([u,0]),n.length&&f()});function f(){const _=n.length>Fa?n.slice(-Fa):n;c(_),d(_),m()}function c(_){i.selectAll(".line").remove();const h=Cr().defined(w=>w>-5).x((w,v)=>r(v)).y(w=>l(w)),p=Cr().defined(w=>w<0).x((w,v)=>r(v)).y(w=>l(w));i.append("path").datum(_).attr("class","line positive").attr("d",h).attr("transform",`translate(${a.left},${a.top})`).attr("fill","none").attr("stroke","green").attr("stroke-width",2),i.append("path").datum(_).attr("class","line negative").attr("d",p).attr("transform",`translate(${a.left},${a.top})`).attr("fill","none").attr("stroke","red").attr("stroke-width",2)}function d(_){const h=Math.max(0,..._),p=Math.min(0,..._);r.domain([0,_.length-1]),l.domain([p,h]).nice()}function m(_){const h=iy(r).ticks(0),p=ry(l).ticks(10);i.selectAll(".axis").remove(),i.append("g").attr("class","axis x-axis").attr("transform",`translate(${a.left},${u+a.top})`).call(h),i.append("g").attr("class","axis y-axis").attr("transform",`translate(${a.left},${a.top})`).call(p)}return t.$$set=_=>{"data"in _&&o(0,n=_.data)},t.$$.update=()=>{t.$$.dirty&3&&n&&i&&f()},[n,i]}class r5 extends he{constructor(e){super(),pe(this,e,i5,o5,de,{data:0})}}function l5(t){let e,o=t[1].townInfo.knowledge_points+"",n,i;return{c(){e=K("Manage your Knowledge ("),n=K(o),i=K(" pts)")},m(r,l){O(r,e,l),O(r,n,l),O(r,i,l)},p(r,l){l&2&&o!==(o=r[1].townInfo.knowledge_points+"")&&ce(n,o)},d(r){r&&(I(e),I(n),I(i))}}}function s5(t){let e,o,n,i;return e=new nn({props:{$$slots:{default:[l5]},$$scope:{ctx:t}}}),n=new co({}),{c(){U(e.$$.fragment),o=H(),U(n.$$.fragment)},m(r,l){W(e,r,l),O(r,o,l),W(n,r,l),i=!0},p(r,l){const a={};l&130&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){i||(y(e.$$.fragment,r),y(n.$$.fragment,r),i=!0)},o(r){A(e.$$.fragment,r),A(n.$$.fragment,r),i=!1},d(r){r&&I(o),Y(e,r),Y(n,r)}}}function Ba(t){let e,o,n=Ha(t[1].townInfo.knowledge_points*t[3])+"",i,r;return{c(){e=T("br"),o=K(`
          (total value: $`),i=K(n),r=K(")")},m(l,a){O(l,e,a),O(l,o,a),O(l,i,a),O(l,r,a)},p(l,a){a&10&&n!==(n=Ha(l[1].townInfo.knowledge_points*l[3])+"")&&ce(i,n)},d(l){l&&(I(e),I(o),I(i),I(r))}}}function qa(t){let e;return{c(){e=T("div"),e.innerHTML=`Wait until the market value is <span class="text-green-500">positive</span> to sell your Knowledge for Gold. Keep in mind that you need a bank to
          convert.`},m(o,n){O(o,e,n)},d(o){o&&I(e)}}}function xa(t){let e,o,n;return o=new Ot({props:{variant:"default",$$slots:{default:[a5]},$$scope:{ctx:t}}}),o.$on("click",t[0]),{c(){e=T("div"),U(o.$$.fragment)},m(i,r){O(i,e,r),W(o,e,null),n=!0},p(i,r){const l={};r&128&&(l.$$scope={dirty:r,ctx:i}),o.$set(l)},i(i){n||(y(o.$$.fragment,i),n=!0)},o(i){A(o.$$.fragment,i),n=!1},d(i){i&&I(e),Y(o)}}}function a5(t){let e;return{c(){e=K("Convert Knowledge to Gold")},m(o,n){O(o,e,n)},d(o){o&&I(e)}}}function Ga(t){let e;return{c(){e=T("div"),e.textContent="You need a bank to convert knowledge to gold."},m(o,n){O(o,e,n)},d(o){o&&I(e)}}}function u5(t){let e,o,n,i,r,l,a,s,u=(t[3]??0)+"",f,c,d,m,_,h,p,w,v,S,D,j;e=new gn({props:{$$slots:{default:[s5]},$$scope:{ctx:t}}});let F=t[3]>0&&Ba(t);h=new r5({props:{data:t[2]}});let R=t[3]<0&&qa(),P=t[1].hasBank&&t[3]>0&&xa(t),E=t[1].hasBank===!1&&Ga();return D=new Ln({}),{c(){U(e.$$.fragment),o=H(),n=T("span"),n.textContent="Knowledge is power, unlock it!",i=H(),r=T("div"),l=T("div"),a=K("Market Rate: "),s=T("span"),f=K(u),c=K(" gold"),m=K(`
        per Knowledge Point
        `),F&&F.c(),_=H(),U(h.$$.fragment),p=H(),R&&R.c(),w=H(),P&&P.c(),v=H(),E&&E.c(),S=H(),U(D.$$.fragment),$(n,"class",""),$(s,"class",d=t[3]<0?"text-red-500":"text-green-500"),$(r,"class","py-0 flex flex-col gap-4 text-gray-400 overflow-x-auto")},m(q,M){W(e,q,M),O(q,o,M),O(q,n,M),O(q,i,M),O(q,r,M),b(r,l),b(l,a),b(l,s),b(s,f),b(s,c),b(l,m),F&&F.m(l,null),b(r,_),W(h,r,null),b(r,p),R&&R.m(r,null),b(r,w),P&&P.m(r,null),b(r,v),E&&E.m(r,null),O(q,S,M),W(D,q,M),j=!0},p(q,M){const C={};M&130&&(C.$$scope={dirty:M,ctx:q}),e.$set(C),(!j||M&8)&&u!==(u=(q[3]??0)+"")&&ce(f,u),(!j||M&8&&d!==(d=q[3]<0?"text-red-500":"text-green-500"))&&$(s,"class",d),q[3]>0?F?F.p(q,M):(F=Ba(q),F.c(),F.m(l,null)):F&&(F.d(1),F=null);const k={};M&4&&(k.data=q[2]),h.$set(k),q[3]<0?R||(R=qa(),R.c(),R.m(r,w)):R&&(R.d(1),R=null),q[1].hasBank&&q[3]>0?P?(P.p(q,M),M&10&&y(P,1)):(P=xa(q),P.c(),y(P,1),P.m(r,v)):P&&(Ie(),A(P,1,1,()=>{P=null}),Me()),q[1].hasBank===!1?E||(E=Ga(),E.c(),E.m(r,null)):E&&(E.d(1),E=null)},i(q){j||(y(e.$$.fragment,q),y(h.$$.fragment,q),y(P),y(D.$$.fragment,q),j=!0)},o(q){A(e.$$.fragment,q),A(h.$$.fragment,q),A(P),A(D.$$.fragment,q),j=!1},d(q){q&&(I(o),I(n),I(i),I(r),I(S)),Y(e,q),F&&F.d(),Y(h),R&&R.d(),P&&P.d(),E&&E.d(),Y(D,q)}}}function f5(t){let e,o;return e=new on({props:{transitionConfig:{duration:0},class:"bg-foreground text-accentText",$$slots:{default:[u5]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,i){const r={};i&142&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){A(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function c5(t){let e,o,n;function i(l){t[5](l)}let r={$$slots:{default:[f5]},$$scope:{ctx:t}};return t[4]!==void 0&&(r.open=t[4]),e=new rn({props:r}),Ne.push(()=>Wt(e,"open",i)),{c(){U(e.$$.fragment)},m(l,a){W(e,l,a),n=!0},p(l,[a]){const s={};a&142&&(s.$$scope={dirty:a,ctx:l}),!o&&a&16&&(o=!0,s.open=l[4],Gt(()=>o=!1)),e.$set(s)},i(l){n||(y(e.$$.fragment,l),n=!0)},o(l){A(e.$$.fragment,l),n=!1},d(l){Y(e,l)}}}function Ha(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function d5(t,e,o){let n,i;se(t,Oe,u=>o(1,n=u)),se(t,Qn,u=>o(4,i=u));let r,l=0;function a(){let u=n;n.hasBank===!0?(u.townInfo.gold+=Math.round(u.townInfo.knowledge_points*l),u.townInfo.knowledge_points=0,Oe.set(u),localStorage.setItem(nt,JSON.stringify(u))):It.set("You need a bank to convert knowledge to gold.")}function s(u){i=u,Qn.set(i)}return t.$$.update=()=>{t.$$.dirty&2&&n&&(o(2,r=n.economyAndLaws.knowledge_gold_market_rates),o(3,l=n.economyAndLaws.knowledge_gold_market_rates[n.economyAndLaws.knowledge_gold_market_rates.length-1]))},[a,n,r,l,i,s]}class m5 extends he{constructor(e){super(),pe(this,e,d5,c5,de,{convertKnowledgeToGold:0})}get convertKnowledgeToGold(){return this.$$.ctx[0]}}const p5=[{id:"sunshine",title:"Hint of Sunshine",description:`Scientist Jane T. found that more sunlight makes everyone a bit happier.
          Now, every home is equipped with a pair of sunglasses and a sunhat. Enjoy happier citizens!,
          `,cost:5e3,duration:180,effect:t=>(t.townInfo.happiness+=100,t)},{id:"antibiotics",title:"We will call them 'Antibiotics'",description:`Scientist Alfred C. has pitched us an idea that he calls 'Antibiotics'.
           We don't really know what that means, but it seems to make people healthier.
          `,cost:8e3,duration:200,effect:t=>(t.townInfo.health+=180,t.townInfo.happiness+=25,t)},{id:"funny_cows",title:"Cowabunga!",description:`Scientist Barry T. thought that showing cows some stand-up comedy would make them produce better milk, but it didn't have the desired effect.
          The cows are now following Mike Birbiglia on Twitter, but the milk production has not increased.
          `,cost:3e3,duration:60,effect:t=>t},{id:"missing_treasure",title:"Missing Treasure?",description:`Scientist Sarah H. was running an experiment on tree growth and found a stash of gold near the lab.
          She hopes nobody will miss it. Your town now has some more money.
          `,cost:15e3,duration:180,effect:t=>(t.townInfo.gold+=Math.floor(Math.random()*35e3),t)},{id:"tax_relief",title:"'Maybe the government is not so bad after all'",description:`Scientist Sam P. conducted a study and found that if you put a tiny bit of CHEMICAL X in the water supply, people are more likely to be ok with tax hikes.
          We don't question it, as these experiments cost a lot of moo-lah.`,cost:7500,duration:360,effect:t=>(t.economyAndLaws.max_tax_rate=(Math.random()*.8+1.2)*t.economyAndLaws.max_tax_rate,t)},{id:"spring_break",title:"Spring Break",description:`The Scientists took our money and spent the week at the beach.
          We are not sure what they did, but they came back with a tan and a smile.`,cost:2e3,duration:7,effect:t=>t},{id:"tornado",title:"A Gust of Grain",description:`Scientist Clint C. is sulking after a botched weather experiment caused about half of the food supply to be sucked into a tornado.
  		The only positive seems to be that the town now knows what a tornado is, and that makes us a bit smarter as a whole.`,cost:7e3,duration:150,effect:t=>(t.townInfo.knowledge_points+=3e3,t.resources.food=Math.floor(t.resources.food/2),t)},{id:"aquatic_overachievers",title:"Fishy Business",description:`An attempt to genetically enhance fish intelligence by Scientist Goldie F. in fisheries has gone awry, resulting in fish that are too smart to be caught. The fisheries are now underpopulated and shut down, but the town enjoys an unexpected tourism boom as people flock to see the genius fish who are now hanging out in local parks.
          Who knew fish could be such a draw?`,cost:6e3,duration:90,effect:t=>(t.townInfo.gold+=1e4,Va("fishery",t),t)},{id:"educational_eclipse",title:"A Sudden Drop in IQ",description:`Scientist Albert E. wanted to see if the towns' children would become smarter if THEY ran the schools.
          This was obviously a terrible idea and the first thing the kids did was shut down the schools.`,cost:1e3,duration:45,effect:t=>(Va("schoolhouse",t),t)},{id:"education_grant",title:"Education Grant",description:`Scientist Marie C. took this experiments funding and applied the town for a grant to improve education.
          The town wins a grant for $150,000 to build schools and improve education. (but it's up to you if that's how you want to spend the money)`,cost:25e3,duration:45,effect:t=>(t.townInfo.gold+=15e4,t)},{id:"mindfulness_meditation_classes",title:"'Mindfulness Meditation Classes'",description:`Scientist Zen M. has introduced mindfulness meditation classes to the town after realizing that breathing in certain ways can lower stress.
  		Now, the town is a bit more relaxed, for now.`,cost:13e3,duration:540,effect:t=>(t.townInfo.happiness+=75,t)}];function Va(t,e){let o=De(t,e);for(let n=0;n<o.length;n++)Zn(o[n].x,o[n].y,e)}function h5(t){let e,o;const n=[{class:je("shrink-0 bg-border",t[1]==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t[0])},{orientation:t[1]},{decorative:t[2]},t[3]];let i={};for(let r=0;r<n.length;r+=1)i=Q(i,n[r]);return e=new m0({props:i}),{c(){U(e.$$.fragment)},m(r,l){W(e,r,l),o=!0},p(r,[l]){const a=l&15?Se(n,[l&3&&{class:je("shrink-0 bg-border",r[1]==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",r[0])},l&2&&{orientation:r[1]},l&4&&{decorative:r[2]},l&8&&lt(r[3])]):{};e.$set(a)},i(r){o||(y(e.$$.fragment,r),o=!0)},o(r){A(e.$$.fragment,r),o=!1},d(r){Y(e,r)}}}function g5(t,e,o){const n=["class","orientation","decorative"];let i=ue(e,n),{class:r=void 0}=e,{orientation:l="horizontal"}=e,{decorative:a=void 0}=e;return t.$$set=s=>{e=Q(Q({},e),$e(s)),o(3,i=ue(e,n)),"class"in s&&o(0,r=s.class),"orientation"in s&&o(1,l=s.orientation),"decorative"in s&&o(2,a=s.decorative)},[r,l,a,i]}class vt extends he{constructor(e){super(),pe(this,e,g5,h5,de,{class:0,orientation:1,decorative:2})}}function Wa(t,e,o){const n=t.slice();return n[15]=e[o],n}function _5(t){let e,o=t[1].lab.active_experiment.title+"",n;return{c(){e=K("🎉 Experiment Completed: "),n=K(o)},m(i,r){O(i,e,r),O(i,n,r)},p(i,r){r&2&&o!==(o=i[1].lab.active_experiment.title+"")&&ce(n,o)},d(i){i&&(I(e),I(n))}}}function b5(t){let e,o=t[1].lab.active_experiment.description+"",n;return{c(){e=T("div"),n=K(o),$(e,"class","select-none whitespace-pre-wrap text-lg text-gray-400 leading-6 px-4 py-4 text-center ")},m(i,r){O(i,e,r),b(e,n)},p(i,r){r&2&&o!==(o=i[1].lab.active_experiment.description+"")&&ce(n,o)},d(i){i&&I(e)}}}function v5(t){let e,o,n,i;return e=new cc({props:{class:"text-center",$$slots:{default:[_5]},$$scope:{ctx:t}}}),n=new vc({props:{$$slots:{default:[b5]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),o=H(),U(n.$$.fragment)},m(r,l){W(e,r,l),O(r,o,l),W(n,r,l),i=!0},p(r,l){const a={};l&262146&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&262146&&(s.$$scope={dirty:l,ctx:r}),n.$set(s)},i(r){i||(y(e.$$.fragment,r),y(n.$$.fragment,r),i=!0)},o(r){A(e.$$.fragment,r),A(n.$$.fragment,r),i=!1},d(r){r&&I(o),Y(e,r),Y(n,r)}}}function y5(t){let e;return{c(){e=K("Thank the scientists")},m(o,n){O(o,e,n)},d(o){o&&I(e)}}}function w5(t){let e,o;return e=new _c({props:{$$slots:{default:[y5]},$$scope:{ctx:t}}}),e.$on("click",t[9]),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,i){const r={};i&262144&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){A(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function k5(t){let e,o,n,i;return e=new bc({props:{$$slots:{default:[v5]},$$scope:{ctx:t}}}),n=new _l({props:{$$slots:{default:[w5]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),o=H(),U(n.$$.fragment)},m(r,l){W(e,r,l),O(r,o,l),W(n,r,l),i=!0},p(r,l){const a={};l&262146&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&262144&&(s.$$scope={dirty:l,ctx:r}),n.$set(s)},i(r){i||(y(e.$$.fragment,r),y(n.$$.fragment,r),i=!0)},o(r){A(e.$$.fragment,r),A(n.$$.fragment,r),i=!1},d(r){r&&I(o),Y(e,r),Y(n,r)}}}function C5(t){let e,o;return e=new bl({props:{$$slots:{default:[k5]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,i){const r={};i&262146&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){A(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function S5(t){let e;return{c(){e=T("span"),e.textContent="Manage your Laboratory 🔬 🧪"},m(o,n){O(o,e,n)},p:Te,d(o){o&&I(e)}}}function A5(t){let e,o,n,i=t[1].lab.xp+"",r,l,a,s;return{c(){e=T("span"),o=K("You have earned "),n=T("span"),r=K(i),l=K(" XP"),s=K(` from experiments. XP can be used to buy advanced plots and develop your
          city.`),$(n,"class",a=t[1].lab.xp<0?"text-textDanger":"text-primaryText")},m(u,f){O(u,e,f),b(e,o),b(e,n),b(n,r),b(n,l),b(e,s)},p(u,f){f&2&&i!==(i=u[1].lab.xp+"")&&ce(r,i),f&2&&a!==(a=u[1].lab.xp<0?"text-textDanger":"text-primaryText")&&$(n,"class",a)},d(u){u&&I(e)}}}function T5(t){let e,o,n,i;return e=new nn({props:{$$slots:{default:[S5]},$$scope:{ctx:t}}}),n=new co({props:{$$slots:{default:[A5]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),o=H(),U(n.$$.fragment)},m(r,l){W(e,r,l),O(r,o,l),W(n,r,l),i=!0},p(r,l){const a={};l&262144&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&262146&&(s.$$scope={dirty:l,ctx:r}),n.$set(s)},i(r){i||(y(e.$$.fragment,r),y(n.$$.fragment,r),i=!0)},o(r){A(e.$$.fragment,r),A(n.$$.fragment,r),i=!1},d(r){r&&I(o),Y(e,r),Y(n,r)}}}function I5(t){let e;return{c(){e=K("No more experiments available")},m(o,n){O(o,e,n)},p:Te,i:Te,o:Te,d(o){o&&I(e)}}}function M5(t){let e,o,n,i,r=He(t[0]),l=[];for(let s=0;s<r.length;s+=1)l[s]=Ua(Wa(t,r,s));const a=s=>A(l[s],1,1,()=>{l[s]=null});return{c(){e=T("div"),e.textContent=`It's time to fund your next experiment! Choose a project below based on
        it's funding requirement. Once the experiment is over, you will see the
        results.`,o=H(),n=T("div");for(let s=0;s<l.length;s+=1)l[s].c();$(e,"class","select-none text-sm "),$(n,"class","text-center flex flex-col justify-center items-center gap-4 ")},m(s,u){O(s,e,u),O(s,o,u),O(s,n,u);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(n,null);i=!0},p(s,u){if(u&19){r=He(s[0]);let f;for(f=0;f<r.length;f+=1){const c=Wa(s,r,f);l[f]?(l[f].p(c,u),y(l[f],1)):(l[f]=Ua(c),l[f].c(),y(l[f],1),l[f].m(n,null))}for(Ie(),f=r.length;f<l.length;f+=1)a(f);Me()}},i(s){if(!i){for(let u=0;u<r.length;u+=1)y(l[u]);i=!0}},o(s){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)A(l[u]);i=!1},d(s){s&&(I(e),I(o),I(n)),rt(l,s)}}}function O5(t){let e,o=t[1].lab.active_experiment.duration+"",n,i,r,l,a=t[1].lab.active_experiment.duration===0&&Ka(t);return{c(){e=K("Currently running an experiment... check back in "),n=K(o),i=K(` days.
      `),a&&a.c(),r=Le()},m(s,u){O(s,e,u),O(s,n,u),O(s,i,u),a&&a.m(s,u),O(s,r,u),l=!0},p(s,u){(!l||u&2)&&o!==(o=s[1].lab.active_experiment.duration+"")&&ce(n,o),s[1].lab.active_experiment.duration===0?a?(a.p(s,u),u&2&&y(a,1)):(a=Ka(s),a.c(),y(a,1),a.m(r.parentNode,r)):a&&(Ie(),A(a,1,1,()=>{a=null}),Me())},i(s){l||(y(a),l=!0)},o(s){A(a),l=!1},d(s){s&&(I(e),I(n),I(i),I(r)),a&&a.d(s)}}}function Ya(t){let e,o,n=t[15].id+"",i;return{c(){e=T("span"),o=K("// dev-"),i=K(n),$(e,"class","text-xs text-gray-400")},m(r,l){O(r,e,l),b(e,o),b(e,i)},p(r,l){l&1&&n!==(n=r[15].id+"")&&ce(i,n)},d(r){r&&I(e)}}}function P5(t){let e,o=Ja(t[15].cost).split(".")[0]+"",n,i,r,l=t[1].devMode===!0&&Ya(t);return{c(){e=K("$"),n=K(o),i=K(` gold

            `),l&&l.c(),r=H()},m(a,s){O(a,e,s),O(a,n,s),O(a,i,s),l&&l.m(a,s),O(a,r,s)},p(a,s){s&1&&o!==(o=Ja(a[15].cost).split(".")[0]+"")&&ce(n,o),a[1].devMode===!0?l?l.p(a,s):(l=Ya(a),l.c(),l.m(r.parentNode,r)):l&&(l.d(1),l=null)},d(a){a&&(I(e),I(n),I(i),I(r)),l&&l.d(a)}}}function Ua(t){let e,o;function n(){return t[11](t[15])}return e=new Ot({props:{variant:"outline",class:`min-w-48 w-max flex-col
				`+(t[15].cost>t[1].townInfo.gold?"cursor-not-allowed":"")+`
				`,$$slots:{default:[P5]},$$scope:{ctx:t}}}),e.$on("click",n),{c(){U(e.$$.fragment)},m(i,r){W(e,i,r),o=!0},p(i,r){t=i;const l={};r&3&&(l.class=`min-w-48 w-max flex-col
				`+(t[15].cost>t[1].townInfo.gold?"cursor-not-allowed":"")+`
				`),r&262147&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(i){o||(y(e.$$.fragment,i),o=!0)},o(i){A(e.$$.fragment,i),o=!1},d(i){Y(e,i)}}}function Ka(t){let e,o;return e=new Ot({props:{variant:"outline",$$slots:{default:[N5]},$$scope:{ctx:t}}}),e.$on("click",t[10]),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,i){const r={};i&262144&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){A(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function N5(t){let e;return{c(){e=K("Complete experiment (and face the impact)")},m(o,n){O(o,e,n)},d(o){o&&I(e)}}}function E5(t){let e;return{c(){e=T("span"),e.textContent="Keep in mind that not all experiments yield positive results.",$(e,"class","text-left text-textDanger")},m(o,n){O(o,e,n)},p:Te,d(o){o&&I(e)}}}function R5(t){let e,o,n,i,r,l,a,s,u,f,c;e=new gn({props:{$$slots:{default:[T5]},$$scope:{ctx:t}}}),n=new vt({});const d=[O5,M5,I5],m=[];function _(h,p){return h[1].lab.active_experiment!==null?0:h[0].length>0?1:h[0].length===0?2:-1}return~(r=_(t))&&(l=m[r]=d[r](t)),s=new vt({props:{class:"mt-4"}}),f=new Ln({props:{$$slots:{default:[E5]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),o=H(),U(n.$$.fragment),i=H(),l&&l.c(),a=H(),U(s.$$.fragment),u=H(),U(f.$$.fragment)},m(h,p){W(e,h,p),O(h,o,p),W(n,h,p),O(h,i,p),~r&&m[r].m(h,p),O(h,a,p),W(s,h,p),O(h,u,p),W(f,h,p),c=!0},p(h,p){const w={};p&262146&&(w.$$scope={dirty:p,ctx:h}),e.$set(w);let v=r;r=_(h),r===v?~r&&m[r].p(h,p):(l&&(Ie(),A(m[v],1,1,()=>{m[v]=null}),Me()),~r?(l=m[r],l?l.p(h,p):(l=m[r]=d[r](h),l.c()),y(l,1),l.m(a.parentNode,a)):l=null);const S={};p&262144&&(S.$$scope={dirty:p,ctx:h}),f.$set(S)},i(h){c||(y(e.$$.fragment,h),y(n.$$.fragment,h),y(l),y(s.$$.fragment,h),y(f.$$.fragment,h),c=!0)},o(h){A(e.$$.fragment,h),A(n.$$.fragment,h),A(l),A(s.$$.fragment,h),A(f.$$.fragment,h),c=!1},d(h){h&&(I(o),I(i),I(a),I(u)),Y(e,h),Y(n,h),~r&&m[r].d(h),Y(s,h),Y(f,h)}}}function $5(t){let e,o;return e=new on({props:{class:"bg-foreground text-accentText",$$slots:{default:[R5]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,i){const r={};i&262147&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){A(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function L5(t){let e,o,n,i,r;e=new vl({props:{open:t[2],$$slots:{default:[C5]},$$scope:{ctx:t}}});function l(s){t[12](s)}let a={$$slots:{default:[$5]},$$scope:{ctx:t}};return t[3]!==void 0&&(a.open=t[3]),n=new rn({props:a}),Ne.push(()=>Wt(n,"open",l)),{c(){U(e.$$.fragment),o=H(),U(n.$$.fragment)},m(s,u){W(e,s,u),O(s,o,u),W(n,s,u),r=!0},p(s,[u]){const f={};u&4&&(f.open=s[2]),u&262146&&(f.$$scope={dirty:u,ctx:s}),e.$set(f);const c={};u&262147&&(c.$$scope={dirty:u,ctx:s}),!i&&u&8&&(i=!0,c.open=s[3],Gt(()=>i=!1)),n.$set(c)},i(s){r||(y(e.$$.fragment,s),y(n.$$.fragment,s),r=!0)},o(s){A(e.$$.fragment,s),A(n.$$.fragment,s),r=!1},d(s){s&&I(o),Y(e,s),Y(n,s)}}}function Ja(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function D5(t,e,o){let n,i;se(t,Oe,v=>o(1,n=v)),se(t,Yn,v=>o(3,i=v));var r;let l=[],a=!1,s=!1,u=!1;function f(){if(l.length>0||!a)return l;let v=[],S=p5.filter(D=>!n.lab.past_experiments.some(j=>j.id===D.id));if(S.length===0)return[];for(let D=0;D<3;D++){let j=S[Math.floor(Math.random()*S.length)];j.cost=Math.floor(Math.random()*(j.cost*.35)+j.cost*.8),v.push(j)}return v=v.filter((D,j)=>v.indexOf(D)===j),v=v.filter(D=>D),o(8,u=!0),v}function c(v){if(n.townInfo.gold<v.cost){It.set("You do not have enough gold to purchase this experiment.");return}Ae(Oe,n.townInfo.gold-=v.cost,n),Ae(Oe,n.lab.active_experiment=v,n),n.lab.past_experiments.push(v)}function d(){Ae(Yn,i=!1,i),o(2,s=!0);let v=l.find(D=>D.id===n.lab.active_experiment.id),S=v!=null?v.effect(n):n;Ae(Oe,n=S,n),Ae(Oe,n.lab.active_experiment.duration=-1,n)}function m(){let v=n;v.lab.xp+=Math.round(v.lab.active_experiment.cost*(Math.random()*2+.5)),v.lab.active_experiment=null,o(2,s=!1),Ae(Oe,n=v,n)}const _=()=>{m()},h=()=>{d()},p=v=>{v.cost<n.townInfo.gold&&c(v)};function w(v){i=v,Yn.set(i)}return t.$$.update=()=>{t.$$.dirty&387&&(n?(a=!0,o(0,l=u==!1?f():l),(o(7,r=n.lab.active_experiment)===null||r===void 0?void 0:r.duration)===-1&&o(2,s=!0)):a=!1)},[l,n,s,i,c,d,m,r,u,_,h,p,w]}class j5 extends he{constructor(e){super(),pe(this,e,D5,L5,de,{})}}function F5(t){let e,o,n,i,r,l,a,s,u,f=t[0].townInfo.name+"",c,d,m,_,h,p,w,v=t[0].townInfo.population_count+"",S,D,j,F,R,P,E,q,M,C=Math.floor(t[0].environment.day/365)+1+"",k,N,B,L,J,Z,X=Math.floor(t[0].environment.day/7)%52+1+"",ne,ee,oe,we,ae,ie=t[1]==0?"⏩ x1":t[1]==1?"⏩ x2":"⏩ x3",qe,Ge,Ue,ot,g;return o=new At({props:{text:"Pause",onOpen:t[6],styling:"fixed top-2 right-4 opacity-70 bg-gray-600"}}),j=new vt({props:{orientation:"vertical",class:"h-12 bg-gray-600 opacity-50 mx-4"}}),oe=new vt({props:{orientation:"vertical",class:"h-12 bg-gray-600 opacity-50 mx-4"}}),{c(){e=T("div"),U(o.$$.fragment),n=H(),i=T("div"),r=T("div"),l=T("div"),a=T("div"),s=T("div"),u=T("div"),c=K(f),d=H(),m=T("div"),_=T("div"),h=T("div"),p=T("span"),w=K("👥 "),S=K(v),D=H(),U(j.$$.fragment),F=H(),R=T("div"),P=T("span"),E=T("span"),E.textContent="Year",q=H(),M=T("span"),k=K(C),N=H(),B=T("span"),L=T("span"),L.textContent="Week",J=H(),Z=T("span"),ne=K(X),ee=H(),U(oe.$$.fragment),we=H(),ae=T("span"),qe=K(ie),$(u,"class","cursor-pointer w-min whitespace-nowrap text-center select-none font-serif opacity-80"),$(s,"class","cursor-pointer flex flex-row justify-center text-center w-full"),$(a,"class","text-2xl flex flex-row items-center w-full text-center"),$(p,"class","text-sm text-left items-start justify-start w-min flex-nowrap text-nowrap"),$(E,"class","text-xs"),$(M,"class","font-semibold text-xs"),$(P,"class","flex flex-col"),$(L,"class","text-xs"),$(Z,"class","font-semibold text-xs"),$(B,"class","flex flex-col"),$(R,"class","flex flex-row justify-start gap-6 align-middle"),$(ae,"class","cursor-pointer text-blue-200 noselect"),pt(ae,"text-blue-200",t[1]==0),pt(ae,"text-yellow-200",t[1]==1),pt(ae,"text-red-200",t[1]==2),$(h,"class","flex align-middle items-center text-accentText flex-row justify-between h-max "),$(_,"class","flex flex-col align-middle w-full justify-center items-center"),$(l,"class","flex flex-col gap-2 justify-center w-full "),$(r,"class","rounded-xl w-full"),$(i,"class","flex justify-between flex-col align-middle items-center w-full"),$(e,"id","header"),$(e,"class",Ge="flex px-6 gap-6 justify-center flex-row fixed top-0 left-0 right-0 cursor-default z-10 bg-black text-[white] py-1 align-middle border-b-4 border-sidebarBackground "+(t[2].visible?"opacity-70":""))},m(x,V){O(x,e,V),W(o,e,null),b(e,n),b(e,i),b(i,r),b(r,l),b(l,a),b(a,s),b(s,u),b(u,c),b(l,d),b(l,m),b(m,_),b(_,h),b(h,p),b(p,w),b(p,S),b(h,D),W(j,h,null),b(h,F),b(h,R),b(R,P),b(P,E),b(P,q),b(P,M),b(M,k),b(R,N),b(R,B),b(B,L),b(B,J),b(B,Z),b(Z,ne),b(h,ee),W(oe,h,null),b(h,we),b(h,ae),b(ae,qe),Ue=!0,ot||(g=[z(u,"click",t[4]),z(ae,"click",t[7])],ot=!0)},p(x,[V]){const le={};V&8&&(le.onOpen=x[6]),o.$set(le),(!Ue||V&1)&&f!==(f=x[0].townInfo.name+"")&&ce(c,f),(!Ue||V&1)&&v!==(v=x[0].townInfo.population_count+"")&&ce(S,v),(!Ue||V&1)&&C!==(C=Math.floor(x[0].environment.day/365)+1+"")&&ce(k,C),(!Ue||V&1)&&X!==(X=Math.floor(x[0].environment.day/7)%52+1+"")&&ce(ne,X),(!Ue||V&2)&&ie!==(ie=x[1]==0?"⏩ x1":x[1]==1?"⏩ x2":"⏩ x3")&&ce(qe,ie),(!Ue||V&2)&&pt(ae,"text-blue-200",x[1]==0),(!Ue||V&2)&&pt(ae,"text-yellow-200",x[1]==1),(!Ue||V&2)&&pt(ae,"text-red-200",x[1]==2),(!Ue||V&4&&Ge!==(Ge="flex px-6 gap-6 justify-center flex-row fixed top-0 left-0 right-0 cursor-default z-10 bg-black text-[white] py-1 align-middle border-b-4 border-sidebarBackground "+(x[2].visible?"opacity-70":"")))&&$(e,"class",Ge)},i(x){Ue||(y(o.$$.fragment,x),y(j.$$.fragment,x),y(oe.$$.fragment,x),Ue=!0)},o(x){A(o.$$.fragment,x),A(j.$$.fragment,x),A(oe.$$.fragment,x),Ue=!1},d(x){x&&I(e),Y(o),Y(j),Y(oe),ot=!1,xe(g)}}}function B5(t,e,o){let n,i,r,l;se(t,Oe,m=>o(0,n=m)),se(t,So,m=>o(9,i=m)),se(t,Qe,m=>o(2,r=m)),se(t,Tt,m=>o(3,l=m));const a=n.gameSettings.includes("casual")?[150,75,35]:[300,150,70];let s=0;Ho(()=>{n.gameSettings.includes("casual")?Ae(So,i=375,i):Ae(So,i=550,i);const m=setInterval(()=>{Ae(Oe,n.timeSpent+=1e3,n)},1e3);return()=>{clearInterval(m)}});function u(){let m=prompt("Enter a new name for your town (under 200 chars)");if(m&&m.length<200&&m.length>=1){let _=n;_.townInfo.name=m,Oe.set(_),localStorage.setItem(nt,JSON.stringify(_))}}function f(){s==a.length-1?o(1,s=0):o(1,s++,s),Ae(So,i=a[s],i)}const c=()=>Ae(Tt,l=!0,l),d=()=>{localStorage.getItem($t)==null&&f()};return t.$$.update=()=>{t.$$.dirty&1&&n.timeSpent>0&&fm(n.timeSpent)},[n,s,r,l,u,f,c,d]}class q5 extends he{constructor(e){super(),pe(this,e,B5,F5,de,{})}}function x5(t){let e,o,n,i,r,l;return{c(){e=T("div"),i=H(),r=T("span"),l=K(t[4]),$(e,"class",o="h-full w-full flex-1 "+t[3]+" transition-all relative"),$(e,"style",n=`transform: translateX(-${100-100*(t[2]??0)/(t[1]??1)}%)`),$(r,"class","absolute inset-0 flex items-center justify-center text-white text-sm")},m(a,s){O(a,e,s),O(a,i,s),O(a,r,s),b(r,l)},p(a,s){s&8&&o!==(o="h-full w-full flex-1 "+a[3]+" transition-all relative")&&$(e,"class",o),s&6&&n!==(n=`transform: translateX(-${100-100*(a[2]??0)/(a[1]??1)}%)`)&&$(e,"style",n),s&16&&ce(l,a[4])},d(a){a&&(I(e),I(i),I(r))}}}function G5(t){let e,o;const n=[{class:je("relative h-6 w-full overflow-hidden  bg-black border border-gray-300",t[0])},t[5]];let i={$$slots:{default:[x5]},$$scope:{ctx:t}};for(let r=0;r<n.length;r+=1)i=Q(i,n[r]);return e=new I_({props:i}),{c(){U(e.$$.fragment)},m(r,l){W(e,r,l),o=!0},p(r,[l]){const a=l&33?Se(n,[l&1&&{class:je("relative h-6 w-full overflow-hidden  bg-black border border-gray-300",r[0])},l&32&&lt(r[5])]):{};l&94&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){o||(y(e.$$.fragment,r),o=!0)},o(r){A(e.$$.fragment,r),o=!1},d(r){Y(e,r)}}}function H5(t,e,o){const n=["class","max","value","color","text"];let i=ue(e,n),{class:r=void 0}=e,{max:l=100}=e,{value:a=void 0}=e,{color:s="bg-accent"}=e,{text:u=void 0}=e;return t.$$set=f=>{e=Q(Q({},e),$e(f)),o(5,i=ue(e,n)),"class"in f&&o(0,r=f.class),"max"in f&&o(1,l=f.max),"value"in f&&o(2,a=f.value),"color"in f&&o(3,s=f.color),"text"in f&&o(4,u=f.text)},[r,l,a,s,u,i]}class V5 extends he{constructor(e){super(),pe(this,e,H5,G5,de,{class:0,max:1,value:2,color:3,text:4})}}function Xa(t,e,o){const n=t.slice();return n[19]=e[o],n}function Za(t){let e,o=He({length:t[6]}),n=[];for(let i=0;i<o.length;i+=1)n[i]=Qa(Xa(t,o,i));return{c(){e=T("div");for(let i=0;i<n.length;i+=1)n[i].c();$(e,"class","confetti-holder svelte-15ksp55"),pt(e,"rounded",t[9]),pt(e,"cone",t[10]),pt(e,"no-gravity",t[11]),pt(e,"reduced-motion",t[13])},m(i,r){O(i,e,r);for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(e,null)},p(i,r){if(r&37375){o=He({length:i[6]});let l;for(l=0;l<o.length;l+=1){const a=Xa(i,o,l);n[l]?n[l].p(a,r):(n[l]=Qa(a),n[l].c(),n[l].m(e,null))}for(;l<n.length;l+=1)n[l].d(1);n.length=o.length}r&512&&pt(e,"rounded",i[9]),r&1024&&pt(e,"cone",i[10]),r&2048&&pt(e,"no-gravity",i[11]),r&8192&&pt(e,"reduced-motion",i[13])},d(i){i&&I(e),rt(n,i)}}}function Qa(t){let e;return{c(){e=T("div"),$(e,"class","confetti svelte-15ksp55"),Je(e,"--fall-distance",t[8]),Je(e,"--size",t[0]+"px"),Je(e,"--color",t[15]()),Je(e,"--skew",mt(-45,45)+"deg,"+mt(-45,45)+"deg"),Je(e,"--rotation-xyz",mt(-10,10)+", "+mt(-10,10)+", "+mt(-10,10)),Je(e,"--rotation-deg",mt(0,360)+"deg"),Je(e,"--translate-y-multiplier",mt(t[2][0],t[2][1])),Je(e,"--translate-x-multiplier",mt(t[1][0],t[1][1])),Je(e,"--scale",.1*mt(2,10)),Je(e,"--transition-duration",t[4]?`calc(${t[3]}ms * var(--scale))`:`${t[3]}ms`),Je(e,"--transition-delay",mt(t[5][0],t[5][1])+"ms"),Je(e,"--transition-iteration-count",t[4]?"infinite":t[7]),Je(e,"--x-spread",1-t[12])},m(o,n){O(o,e,n)},p(o,n){n&256&&Je(e,"--fall-distance",o[8]),n&1&&Je(e,"--size",o[0]+"px"),n&4&&Je(e,"--translate-y-multiplier",mt(o[2][0],o[2][1])),n&2&&Je(e,"--translate-x-multiplier",mt(o[1][0],o[1][1])),n&24&&Je(e,"--transition-duration",o[4]?`calc(${o[3]}ms * var(--scale))`:`${o[3]}ms`),n&32&&Je(e,"--transition-delay",mt(o[5][0],o[5][1])+"ms"),n&144&&Je(e,"--transition-iteration-count",o[4]?"infinite":o[7]),n&4096&&Je(e,"--x-spread",1-o[12])},d(o){o&&I(e)}}}function W5(t){let e,o=!t[14]&&Za(t);return{c(){o&&o.c(),e=Le()},m(n,i){o&&o.m(n,i),O(n,e,i)},p(n,[i]){n[14]?o&&(o.d(1),o=null):o?o.p(n,i):(o=Za(n),o.c(),o.m(e.parentNode,e))},i:Te,o:Te,d(n){n&&I(e),o&&o.d(n)}}}function mt(t,e){return Math.random()*(e-t)+t}function Y5(t,e,o){let{size:n=10}=e,{x:i=[-.5,.5]}=e,{y:r=[.25,1]}=e,{duration:l=2e3}=e,{infinite:a=!1}=e,{delay:s=[0,50]}=e,{colorRange:u=[0,360]}=e,{colorArray:f=[]}=e,{amount:c=50}=e,{iterationCount:d=1}=e,{fallDistance:m="100px"}=e,{rounded:_=!1}=e,{cone:h=!1}=e,{noGravity:p=!1}=e,{xSpread:w=.15}=e,{destroyOnComplete:v=!0}=e,{disableForReducedMotion:S=!1}=e,D=!1;Ho(()=>{!v||a||d=="infinite"||setTimeout(()=>o(14,D=!0),(l+s[1])*d)});function j(){return f.length?f[Math.round(Math.random()*(f.length-1))]:`hsl(${Math.round(mt(u[0],u[1]))}, 75%, 50%)`}return t.$$set=F=>{"size"in F&&o(0,n=F.size),"x"in F&&o(1,i=F.x),"y"in F&&o(2,r=F.y),"duration"in F&&o(3,l=F.duration),"infinite"in F&&o(4,a=F.infinite),"delay"in F&&o(5,s=F.delay),"colorRange"in F&&o(16,u=F.colorRange),"colorArray"in F&&o(17,f=F.colorArray),"amount"in F&&o(6,c=F.amount),"iterationCount"in F&&o(7,d=F.iterationCount),"fallDistance"in F&&o(8,m=F.fallDistance),"rounded"in F&&o(9,_=F.rounded),"cone"in F&&o(10,h=F.cone),"noGravity"in F&&o(11,p=F.noGravity),"xSpread"in F&&o(12,w=F.xSpread),"destroyOnComplete"in F&&o(18,v=F.destroyOnComplete),"disableForReducedMotion"in F&&o(13,S=F.disableForReducedMotion)},[n,i,r,l,a,s,c,d,m,_,h,p,w,S,D,j,u,f,v]}class un extends he{constructor(e){super(),pe(this,e,Y5,W5,de,{size:0,x:1,y:2,duration:3,infinite:4,delay:5,colorRange:16,colorArray:17,amount:6,iterationCount:7,fallDistance:8,rounded:9,cone:10,noGravity:11,xSpread:12,destroyOnComplete:18,disableForReducedMotion:13})}}function za(t){let e,o,n,i,r,l,a,s;return e=new un({props:{cone:!0,x:[-.5,.5]}}),n=new un({props:{cone:!0,amount:10,x:[-1,-.4],y:[.25,.75],rounded:!0,size:15}}),r=new un({props:{cone:!0,amount:10,x:[.4,1],y:[.25,.75]}}),a=new un({props:{infinite:!0,amount:75,delay:[0,200]}}),{c(){U(e.$$.fragment),o=H(),U(n.$$.fragment),i=H(),U(r.$$.fragment),l=H(),U(a.$$.fragment)},m(u,f){W(e,u,f),O(u,o,f),W(n,u,f),O(u,i,f),W(r,u,f),O(u,l,f),W(a,u,f),s=!0},i(u){s||(y(e.$$.fragment,u),y(n.$$.fragment,u),y(r.$$.fragment,u),y(a.$$.fragment,u),s=!0)},o(u){A(e.$$.fragment,u),A(n.$$.fragment,u),A(r.$$.fragment,u),A(a.$$.fragment,u),s=!1},d(u){u&&(I(o),I(i),I(l)),Y(e,u),Y(n,u),Y(r,u),Y(a,u)}}}function U5(t){let e,o,n,i,r,l=st(t[1].goldReward,!1)+"",a,s,u,f=t[1].message+"",c,d,m,_=t[3]&&t[2].currentTutorialStep==t[0]&&za();return{c(){e=T("div"),_&&_.c(),o=H(),n=T("span"),i=T("span"),r=K("💰"),a=K(l),s=H(),u=T("span"),c=K(f),$(i,"class","text-[10px] opacity-100 font-mono"),$(n,"class","flex flex-col text-start"),$(e,"class",d="text-sm flex flex-row justify-start align-middle pb-2 mb-2 transition-all duration-300 noselect "+(t[2].currentTutorialStep==t[0]?"opacity-100":t[1].isComplete(t[2])?"opacity-100 text-green-600":"opacity-50"))},m(h,p){O(h,e,p),_&&_.m(e,null),b(e,o),b(e,n),b(n,i),b(i,r),b(i,a),b(n,s),b(n,u),b(u,c),m=!0},p(h,[p]){h[3]&&h[2].currentTutorialStep==h[0]?_?p&13&&y(_,1):(_=za(),_.c(),y(_,1),_.m(e,o)):_&&(Ie(),A(_,1,1,()=>{_=null}),Me()),(!m||p&2)&&l!==(l=st(h[1].goldReward,!1)+"")&&ce(a,l),(!m||p&2)&&f!==(f=h[1].message+"")&&ce(c,f),(!m||p&7&&d!==(d="text-sm flex flex-row justify-start align-middle pb-2 mb-2 transition-all duration-300 noselect "+(h[2].currentTutorialStep==h[0]?"opacity-100":h[1].isComplete(h[2])?"opacity-100 text-green-600":"opacity-50")))&&$(e,"class",d)},i(h){m||(y(_),m=!0)},o(h){A(_),m=!1},d(h){h&&I(e),_&&_.d()}}}function K5(t,e,o){let n,i;se(t,Oe,a=>o(2,n=a)),se(t,Eo,a=>o(3,i=a));let{index:r}=e,{step:l}=e;return t.$$set=a=>{"index"in a&&o(0,r=a.index),"step"in a&&o(1,l=a.step)},[r,l,n,i]}class zc extends he{constructor(e){super(),pe(this,e,K5,U5,de,{index:0,step:1})}}function eu(t,e,o){const n=t.slice();return n[16]=e[o],n[18]=o,n}function tu(t,e,o){const n=t.slice();return n[19]=e[o].icon,n[20]=e[o].name,n[21]=e[o].value,n[22]=e[o].rate,n}function nu(t,e,o){const n=t.slice();return n[25]=e[o],n}function ou(t,e,o){const n=t.slice();return n[20]=e[o].name,n[21]=e[o].value,n[28]=e[o].modifier,n[29]=e[o].color,n[30]=e[o].hover,n[31]=e[o].description,n[32]=e[o].max,n}function J5(t){let e,o=t[20]+"",n,i,r,l;return r=new V5({props:{value:t[21],max:t[32]??300,class:"min-w-[80px] max-w-[80px] ",color:t[29],text:`${tt(t[21],0)} / ${tt(t[32],0)}`}}),{c(){e=T("span"),n=K(o),i=H(),U(r.$$.fragment),$(e,"class","text-md pr-2")},m(a,s){O(a,e,s),b(e,n),O(a,i,s),W(r,a,s),l=!0},p(a,s){(!l||s[0]&64)&&o!==(o=a[20]+"")&&ce(n,o);const u={};s[0]&64&&(u.value=a[21]),s[0]&64&&(u.max=a[32]??300),s[0]&64&&(u.color=a[29]),s[0]&64&&(u.text=`${tt(a[21],0)} / ${tt(a[32],0)}`),r.$set(u)},i(a){l||(y(r.$$.fragment,a),l=!0)},o(a){A(r.$$.fragment,a),l=!1},d(a){a&&(I(e),I(i)),Y(r,a)}}}function iu(t){let e,o;return e=new mo({props:{class:"rounded-2xl text-white "+(t[29]??t[10](t[21])),$$slots:{default:[X5]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,i){const r={};i[0]&64&&(r.class="rounded-2xl text-white "+(n[29]??n[10](n[21]))),i[0]&64|i[1]&16&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){A(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function X5(t){let e,o,n=t[20]+"",i,r,l=st(t[21],!1)+"",a,s,u=t[32]?`out of ${t[32]}`:"",f,c,d,m,_,h=t[31]+"",p;return d=new vt({props:{class:"mb-2 mt-1"}}),{c(){e=T("div"),o=T("span"),i=K(n),r=K(": "),a=K(l),s=H(),f=K(u),c=H(),U(d.$$.fragment),m=H(),_=T("span"),$(o,"class","text-md"),$(e,"class","flex flex-col justify-between max-w-48")},m(w,v){O(w,e,v),b(e,o),b(o,i),b(o,r),b(o,a),b(o,s),b(o,f),b(e,c),W(d,e,null),b(e,m),b(e,_),_.innerHTML=h,p=!0},p(w,v){(!p||v[0]&64)&&n!==(n=w[20]+"")&&ce(i,n),(!p||v[0]&64)&&l!==(l=st(w[21],!1)+"")&&ce(a,l),(!p||v[0]&64)&&u!==(u=w[32]?`out of ${w[32]}`:"")&&ce(f,u),(!p||v[0]&64)&&h!==(h=w[31]+"")&&(_.innerHTML=h)},i(w){p||(y(d.$$.fragment,w),p=!0)},o(w){A(d.$$.fragment,w),p=!1},d(w){w&&I(e),Y(d)}}}function Z5(t){let e,o,n,i;e=new ho({props:{class:"w-full flex flex-row align-middle justify-between text-sm filter hover:brightness-110",$$slots:{default:[J5]},$$scope:{ctx:t}}});let r=t[30]&&iu(t);return{c(){U(e.$$.fragment),o=H(),r&&r.c(),n=Le()},m(l,a){W(e,l,a),O(l,o,a),r&&r.m(l,a),O(l,n,a),i=!0},p(l,a){const s={};a[0]&64|a[1]&16&&(s.$$scope={dirty:a,ctx:l}),e.$set(s),l[30]?r?(r.p(l,a),a[0]&64&&y(r,1)):(r=iu(l),r.c(),y(r,1),r.m(n.parentNode,n)):r&&(Ie(),A(r,1,1,()=>{r=null}),Me())},i(l){i||(y(e.$$.fragment,l),y(r),i=!0)},o(l){A(e.$$.fragment,l),A(r),i=!1},d(l){l&&(I(o),I(n)),Y(e,l),r&&r.d(l)}}}function ru(t){let e,o,n,i;return o=new po({props:{openDelay:400,closeDelay:0,$$slots:{default:[Z5]},$$scope:{ctx:t}}}),{c(){e=T("div"),U(o.$$.fragment),n=H(),$(e,"class","flex flex-col gap-1")},m(r,l){O(r,e,l),W(o,e,null),b(e,n),i=!0},p(r,l){const a={};l[0]&64|l[1]&16&&(a.$$scope={dirty:l,ctx:r}),o.$set(a)},i(r){i||(y(o.$$.fragment,r),i=!0)},o(r){A(o.$$.fragment,r),i=!1},d(r){r&&I(e),Y(o)}}}function Q5(t){let e,o,n,i,r,l,a,s,u,f,c,d,m,_,h,p,w,v,S,D,j,F=t[1].gameSettings.includes("bagOfHolding")?"There is no resource cap in this game mode! (Bag of Holding)":"",R;return{c(){e=T("div"),o=K(`ℹ️ Resources are generated from plots. Generation rate can be
            increased by raising the productivity of the town, at the cost of
            some happiness.
            `),n=T("br"),i=H(),r=T("br"),l=K(`
            There is also a slight bit of randomness as townspeople aren't robots.
            `),a=T("br"),s=H(),u=T("br"),f=H(),c=T("span"),c.textContent="Stockpile plots",d=K(` increase the maximum
            amount of resources you can store.
            `),m=T("br"),_=H(),h=T("br"),p=K(`
            If the cap is 500, then you can store 500 of each resource before the
            cap is reached.
            `),w=T("br"),v=K(`
            Capacity is increased by 2,000 per Stockpile plot.
            `),S=T("br"),D=H(),j=T("span"),R=K(F),$(c,"class","font-bold"),$(j,"class","text-red-800 font-bold"),$(e,"class","text-sm")},m(P,E){O(P,e,E),b(e,o),b(e,n),b(e,i),b(e,r),b(e,l),b(e,a),b(e,s),b(e,u),b(e,f),b(e,c),b(e,d),b(e,m),b(e,_),b(e,h),b(e,p),b(e,w),b(e,v),b(e,S),b(e,D),b(e,j),b(j,R)},p(P,E){E[0]&2&&F!==(F=P[1].gameSettings.includes("bagOfHolding")?"There is no resource cap in this game mode! (Bag of Holding)":"")&&ce(R,F)},d(P){P&&I(e)}}}function z5(t){let e,o,n,i=t[1].gameSettings.includes("bagOfHolding")?"No resource cap":`Capacity: ${st(t[1].resource_capacity,!1)}`,r,l,a,s,u;return s=new mo({props:{class:"text-sm max-h-[200px] overflow-y-scroll",$$slots:{default:[Q5]},$$scope:{ctx:t}}}),{c(){e=T("h1"),o=K(`Resources

          `),n=T("div"),r=K(i),a=H(),U(s.$$.fragment),$(n,"class",l="text-xs w-full text-center mb-2 cursor-pointer "+(t[2]==!0?"text-textDanger animate-[wiggle_0.5s_ease-in-out_infinite] font-bold":"")+" "+(t[1].gameSettings.includes("bagOfHolding")?"opacity-30":"")),$(e,"class","text-lg w-full text-center pb-2")},m(f,c){O(f,e,c),b(e,o),b(e,n),b(n,r),O(f,a,c),W(s,f,c),u=!0},p(f,c){(!u||c[0]&2)&&i!==(i=f[1].gameSettings.includes("bagOfHolding")?"No resource cap":`Capacity: ${st(f[1].resource_capacity,!1)}`)&&ce(r,i),(!u||c[0]&6&&l!==(l="text-xs w-full text-center mb-2 cursor-pointer "+(f[2]==!0?"text-textDanger animate-[wiggle_0.5s_ease-in-out_infinite] font-bold":"")+" "+(f[1].gameSettings.includes("bagOfHolding")?"opacity-30":"")))&&$(n,"class",l);const d={};c[0]&2|c[1]&16&&(d.$$scope={dirty:c,ctx:f}),s.$set(d)},i(f){u||(y(s.$$.fragment,f),u=!0)},o(f){A(s.$$.fragment,f),u=!1},d(f){f&&(I(e),I(a)),Y(s,f)}}}function e3(t){let e,o;return e=new ho({props:{$$slots:{default:[z5]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,i){const r={};i[0]&6|i[1]&16&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){A(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function t3(t){let e,o,n=t[22]+"",i;return{c(){e=T("span"),o=K("+"),i=K(n),$(e,"class","")},m(r,l){O(r,e,l),b(e,o),b(e,i)},p(r,l){l[0]&32&&n!==(n=r[22]+"")&&ce(i,n)},d(r){r&&I(e)}}}function n3(t){let e;return{c(){e=T("span")},m(o,n){O(o,e,n)},p:Te,d(o){o&&I(e)}}}function o3(t){let e,o=t[22]+"",n;return{c(){e=T("span"),n=K(o),$(e,"class","text-textDanger")},m(i,r){O(i,e,r),b(e,n)},p(i,r){r[0]&32&&o!==(o=i[22]+"")&&ce(n,o)},d(i){i&&I(e)}}}function i3(t){let e,o,n=t[22]+"",i;return{c(){e=T("span"),o=K("+"),i=K(n),$(e,"class","text-textHappy")},m(r,l){O(r,e,l),b(e,o),b(e,i)},p(r,l){l[0]&32&&n!==(n=r[22]+"")&&ce(i,n)},d(r){r&&I(e)}}}function r3(t){let e;return{c(){e=T("span"),e.textContent="⚠️ CAP",$(e,"class","text-textDanger")},m(o,n){O(o,e,n)},p:Te,d(o){o&&I(e)}}}function l3(t){let e;return{c(){e=T("span"),$(e,"class","display-none")},m(o,n){O(o,e,n)},p:Te,d(o){o&&I(e)}}}function s3(t){let e,o,n=t[22]+"",i,r;return{c(){e=T("span"),o=K("+"),i=K(n),r=K(" (weekly)"),$(e,"class","text-gray-600")},m(l,a){O(l,e,a),b(e,o),b(e,i),b(e,r)},p(l,a){a[0]&32&&n!==(n=l[22]+"")&&ce(i,n)},d(l){l&&I(e)}}}function a3(t){let e,o=t[22]+"",n,i;return{c(){e=T("span"),n=K(o),i=K(" (weekly)"),$(e,"class","text-textDanger")},m(r,l){O(r,e,l),b(e,n),b(e,i)},p(r,l){l[0]&32&&o!==(o=r[22]+"")&&ce(n,o)},d(r){r&&I(e)}}}function u3(t){let e,o,n=t[22]+"",i,r;return{c(){e=T("span"),o=K("+"),i=K(n),r=K(" (weekly)"),$(e,"class","text-textHappy")},m(l,a){O(l,e,a),b(e,o),b(e,i),b(e,r)},p(l,a){a[0]&32&&n!==(n=l[22]+"")&&ce(i,n)},d(l){l&&I(e)}}}function lu(t){let e,o,n,i,r,l;e=new vt({props:{class:"bg-gray-400"}});let a=He(t[9](t[20])),s=[];for(let u=0;u<a.length;u+=1)s[u]=su(nu(t,a,u));return{c(){U(e.$$.fragment),o=H(),n=T("span"),n.textContent="Required for",i=H(),r=T("div");for(let u=0;u<s.length;u+=1)s[u].c();$(n,"class","text-sm font-semibold"),$(r,"class","grid grid-cols-3 justify-between")},m(u,f){W(e,u,f),O(u,o,f),O(u,n,f),O(u,i,f),O(u,r,f);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(r,null);l=!0},p(u,f){if(f[0]&544){a=He(u[9](u[20]));let c;for(c=0;c<a.length;c+=1){const d=nu(u,a,c);s[c]?s[c].p(d,f):(s[c]=su(d),s[c].c(),s[c].m(r,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=a.length}},i(u){l||(y(e.$$.fragment,u),l=!0)},o(u){A(e.$$.fragment,u),l=!1},d(u){u&&(I(o),I(n),I(i),I(r)),Y(e,u),rt(s,u)}}}function su(t){let e,o=t[25]+"",n;return{c(){e=T("span"),n=K(o),$(e,"class","text-xs pr-3")},m(i,r){O(i,e,r),b(e,n)},p(i,r){r[0]&32&&o!==(o=i[25]+"")&&ce(n,o)},d(i){i&&I(e)}}}function f3(t){let e,o,n,i=t[19]+"",r,l,a=Xn(t[20])+"",s,u,f,c=t[9](t[20]).length>0,d;function m(w,v){return w[22]>0?u3:w[22]<0?a3:w[22]!=null?s3:l3}let _=m(t),h=_(t),p=c&&lu(t);return{c(){e=T("div"),o=T("div"),n=T("span"),r=K(i),l=H(),s=K(a),u=H(),h.c(),f=H(),p&&p.c(),$(n,"class","text-md font-bold"),$(e,"class","flex flex-col gap-2 whitespace-nowrap min-w-fit rounded-lg text-black")},m(w,v){O(w,e,v),b(e,o),b(o,n),b(n,r),b(n,l),b(n,s),b(o,u),h.m(o,null),b(e,f),p&&p.m(e,null),d=!0},p(w,v){(!d||v[0]&32)&&i!==(i=w[19]+"")&&ce(r,i),(!d||v[0]&32)&&a!==(a=Xn(w[20])+"")&&ce(s,a),_===(_=m(w))&&h?h.p(w,v):(h.d(1),h=_(w),h&&(h.c(),h.m(o,null))),v[0]&32&&(c=w[9](w[20]).length>0),c?p?(p.p(w,v),v[0]&32&&y(p,1)):(p=lu(w),p.c(),y(p,1),p.m(e,null)):p&&(Ie(),A(p,1,1,()=>{p=null}),Me())},i(w){d||(y(p),d=!0)},o(w){A(p),d=!1},d(w){w&&I(e),h.d(),p&&p.d()}}}function c3(t){let e,o=t[19]+"",n,i,r=st(parseInt(t[21]),!1)+"",l,a,s,u,f,c;function d(h,p){return h[21]>=h[1].resource_capacity&&h[20]!="gold"?r3:h[22]>0?i3:h[22]<0?o3:h[22]==null?n3:t3}let m=d(t),_=m(t);return f=new mo({props:{$$slots:{default:[f3]},$$scope:{ctx:t}}}),{c(){e=T("span"),n=K(o),i=H(),l=K(r),a=H(),_.c(),u=H(),U(f.$$.fragment),$(e,"class",s="flex flex-row justify-between text-sm "+(t[21]<=0?"text-textDanger font-semibold":""))},m(h,p){O(h,e,p),b(e,n),b(e,i),b(e,l),b(e,a),_.m(e,null),O(h,u,p),W(f,h,p),c=!0},p(h,p){(!c||p[0]&32)&&o!==(o=h[19]+"")&&ce(n,o),(!c||p[0]&32)&&r!==(r=st(parseInt(h[21]),!1)+"")&&ce(l,r),m===(m=d(h))&&_?_.p(h,p):(_.d(1),_=m(h),_&&(_.c(),_.m(e,null))),(!c||p[0]&32&&s!==(s="flex flex-row justify-between text-sm "+(h[21]<=0?"text-textDanger font-semibold":"")))&&$(e,"class",s);const w={};p[0]&32|p[1]&16&&(w.$$scope={dirty:p,ctx:h}),f.$set(w)},i(h){c||(y(f.$$.fragment,h),c=!0)},o(h){A(f.$$.fragment,h),c=!1},d(h){h&&(I(e),I(u)),_.d(),Y(f,h)}}}function d3(t){let e,o,n;return e=new ho({props:{$$slots:{default:[c3]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),o=H()},m(i,r){W(e,i,r),O(i,o,r),n=!0},p(i,r){const l={};r[0]&34|r[1]&16&&(l.$$scope={dirty:r,ctx:i}),e.$set(l)},i(i){n||(y(e.$$.fragment,i),n=!0)},o(i){A(e.$$.fragment,i),n=!1},d(i){i&&I(o),Y(e,i)}}}function au(t){let e,o;return e=new po({props:{openDelay:400,closeDelay:0,$$slots:{default:[d3]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,i){const r={};i[0]&34|i[1]&16&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){A(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function uu(t){let e,o,n,i,r,l,a,s;return e=new un({props:{cone:!0,x:[-.5,.5]}}),n=new un({props:{cone:!0,amount:50,x:[-1,-.4],y:[.25,.75],rounded:!0,size:8}}),r=new un({props:{cone:!0,amount:10,x:[.4,1],y:[.25,.75]}}),a=new un({props:{infinite:!0,amount:75,delay:[0,200]}}),{c(){U(e.$$.fragment),o=H(),U(n.$$.fragment),i=H(),U(r.$$.fragment),l=H(),U(a.$$.fragment)},m(u,f){W(e,u,f),O(u,o,f),W(n,u,f),O(u,i,f),W(r,u,f),O(u,l,f),W(a,u,f),s=!0},i(u){s||(y(e.$$.fragment,u),y(n.$$.fragment,u),y(r.$$.fragment,u),y(a.$$.fragment,u),s=!0)},o(u){A(e.$$.fragment,u),A(n.$$.fragment,u),A(r.$$.fragment,u),A(a.$$.fragment,u),s=!1},d(u){u&&(I(o),I(i),I(l)),Y(e,u),Y(n,u),Y(r,u),Y(a,u)}}}function fu(t){let e,o=t[3]?`Hide ${t[4]} completed`:`Show ${t[4]} completed`,n;return{c(){e=T("span"),n=K(o),$(e,"class","text-xs opacity-65 cursor-pointer pb-2")},m(i,r){O(i,e,r),b(e,n)},p(i,r){r[0]&24&&o!==(o=i[3]?`Hide ${i[4]} completed`:`Show ${i[4]} completed`)&&ce(n,o)},d(i){i&&I(e)}}}function m3(t){let e,o;return e=new zc({props:{index:t[18],step:t[16]}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){A(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function p3(t){let e,o;return e=new zc({props:{index:t[18],step:t[16]}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){A(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function cu(t){let e,o,n,i,r;const l=[p3,m3],a=[];function s(u,f){return f[0]&2&&(e=null),u[3]||u[18]==u[1].currentTutorialStep?0:(e==null&&(e=!u[16].isComplete(u[1])),e?1:-1)}return~(o=s(t,[-1,-1]))&&(n=a[o]=l[o](t)),{c(){n&&n.c(),i=Le()},m(u,f){~o&&a[o].m(u,f),O(u,i,f),r=!0},p(u,f){let c=o;o=s(u,f),o!==c&&(n&&(Ie(),A(a[c],1,1,()=>{a[c]=null}),Me()),~o?(n=a[o],n||(n=a[o]=l[o](u),n.c()),y(n,1),n.m(i.parentNode,i)):n=null)},i(u){r||(y(n),r=!0)},o(u){A(n),r=!1},d(u){u&&I(i),~o&&a[o].d(u)}}}function h3(t){let e,o,n,i,r,l,a,s,u,f,c,d,m,_,h,p,w,v,S,D,j,F,R,P,E,q=He(t[6]),M=[];for(let ee=0;ee<q.length;ee+=1)M[ee]=ru(ou(t,q,ee));const C=ee=>A(M[ee],1,1,()=>{M[ee]=null});s=new po({props:{openDelay:400,closeDelay:0,$$slots:{default:[e3]},$$scope:{ctx:t}}});let k=He(t[5]),N=[];for(let ee=0;ee<k.length;ee+=1)N[ee]=au(tu(t,k,ee));const B=ee=>A(N[ee],1,1,()=>{N[ee]=null});let L=t[8]&&uu(),J=t[1].currentTutorialStep>0&&fu(t),Z=He(Un),X=[];for(let ee=0;ee<Z.length;ee+=1)X[ee]=cu(eu(t,Z,ee));const ne=ee=>A(X[ee],1,1,()=>{X[ee]=null});return{c(){e=T("div"),o=T("div"),n=T("div"),i=T("h1"),i.textContent="Stats",r=H();for(let ee=0;ee<M.length;ee+=1)M[ee].c();l=H(),a=T("div"),U(s.$$.fragment),u=H(),f=T("div"),c=H(),d=T("div"),m=T("div");for(let ee=0;ee<N.length;ee+=1)N[ee].c();_=H(),h=T("div"),p=T("div"),L&&L.c(),w=H(),v=T("h1"),v.textContent="Milestones",S=H(),J&&J.c(),D=H(),j=T("div");for(let ee=0;ee<X.length;ee+=1)X[ee].c();$(i,"class","text-lg w-full text-center pb-1"),$(n,"class","flex flex-col rounded-xl gap-2 w-full"),$(o,"class","flex flex-row w-full pb-6"),$(a,"class","flex flex-row justify-center"),$(f,"class","w-[full] flex flex-row justify-center"),$(m,"class","flex flex-col text-md text-nowrap gap-2"),$(v,"class","text-lg w-full text-center"),$(p,"class","text-lg w-full text-center noselect flex flex-col no-select"),$(j,"class","scroll overflow-y-scroll"),$(d,"class","flex flex-col gap-4 h-full"),$(e,"class",F="bg-sidebarBackground w-[220px] text-sidebarText border-foreground border-4 "+(t[7].visible&&!t[0]?"opacity-0":"")+" z-10 rounded-xl px-2 pt-2 transition-all ease-in-out duration-150 overflow-y-scroll scroll fixed right-3 top-16 sidebar bottom-4")},m(ee,oe){O(ee,e,oe),b(e,o),b(o,n),b(n,i),b(n,r);for(let we=0;we<M.length;we+=1)M[we]&&M[we].m(n,null);b(e,l),b(e,a),W(s,a,null),b(e,u),b(e,f),b(e,c),b(e,d),b(d,m);for(let we=0;we<N.length;we+=1)N[we]&&N[we].m(m,null);b(d,_),b(d,h),b(h,p),L&&L.m(p,null),b(p,w),b(p,v),b(p,S),J&&J.m(p,null),b(h,D),b(h,j);for(let we=0;we<X.length;we+=1)X[we]&&X[we].m(j,null);R=!0,P||(E=z(p,"click",t[13]),P=!0)},p(ee,oe){if(oe[0]&1088){q=He(ee[6]);let ae;for(ae=0;ae<q.length;ae+=1){const ie=ou(ee,q,ae);M[ae]?(M[ae].p(ie,oe),y(M[ae],1)):(M[ae]=ru(ie),M[ae].c(),y(M[ae],1),M[ae].m(n,null))}for(Ie(),ae=q.length;ae<M.length;ae+=1)C(ae);Me()}const we={};if(oe[0]&6|oe[1]&16&&(we.$$scope={dirty:oe,ctx:ee}),s.$set(we),oe[0]&546){k=He(ee[5]);let ae;for(ae=0;ae<k.length;ae+=1){const ie=tu(ee,k,ae);N[ae]?(N[ae].p(ie,oe),y(N[ae],1)):(N[ae]=au(ie),N[ae].c(),y(N[ae],1),N[ae].m(m,null))}for(Ie(),ae=k.length;ae<N.length;ae+=1)B(ae);Me()}if(ee[8]?L?oe[0]&256&&y(L,1):(L=uu(),L.c(),y(L,1),L.m(p,w)):L&&(Ie(),A(L,1,1,()=>{L=null}),Me()),ee[1].currentTutorialStep>0?J?J.p(ee,oe):(J=fu(ee),J.c(),J.m(p,null)):J&&(J.d(1),J=null),oe[0]&10){Z=He(Un);let ae;for(ae=0;ae<Z.length;ae+=1){const ie=eu(ee,Z,ae);X[ae]?(X[ae].p(ie,oe),y(X[ae],1)):(X[ae]=cu(ie),X[ae].c(),y(X[ae],1),X[ae].m(j,null))}for(Ie(),ae=Z.length;ae<X.length;ae+=1)ne(ae);Me()}(!R||oe[0]&129&&F!==(F="bg-sidebarBackground w-[220px] text-sidebarText border-foreground border-4 "+(ee[7].visible&&!ee[0]?"opacity-0":"")+" z-10 rounded-xl px-2 pt-2 transition-all ease-in-out duration-150 overflow-y-scroll scroll fixed right-3 top-16 sidebar bottom-4"))&&$(e,"class",F)},i(ee){if(!R){for(let oe=0;oe<q.length;oe+=1)y(M[oe]);y(s.$$.fragment,ee);for(let oe=0;oe<k.length;oe+=1)y(N[oe]);y(L);for(let oe=0;oe<Z.length;oe+=1)y(X[oe]);R=!0}},o(ee){M=M.filter(Boolean);for(let oe=0;oe<M.length;oe+=1)A(M[oe]);A(s.$$.fragment,ee),N=N.filter(Boolean);for(let oe=0;oe<N.length;oe+=1)A(N[oe]);A(L),X=X.filter(Boolean);for(let oe=0;oe<X.length;oe+=1)A(X[oe]);R=!1},d(ee){ee&&I(e),rt(M,ee),Y(s),rt(N,ee),L&&L.d(),J&&J.d(),rt(X,ee),P=!1,E()}}}function g3(t){return["food","wood","stone","metal","power","knowledge"].includes(t)}function du(t){let e=0;for(let o=0;o<t.plots.length;o++)for(let n=0;n<t.plots[o].length;n++)t.plots[o][n].active==!0&&t.plots[o][n].type>-1&&e++;return e}function _3(){const t=new Audio("/alert.mp3");t.volume=.5,t.play().catch(e=>console.log("Error playing sound:",e))}function b3(t,e,o){let n,i,r;se(t,Oe,S=>o(1,n=S)),se(t,Qe,S=>o(7,i=S)),se(t,Eo,S=>o(8,r=S));let l=!1,a=!1,s=0,u=0,f=!1,{mini:c=!1}=e,d=[];De("city_hall",n).length>0&&d.push({icon:"🧑‍⚖️",name:"bureaucracy",value:n.resources.bureaucracy,rate:n.resource_rate.bureaucracy});function m(S){let D=[];for(let j=0;j<te.length;j++)(S!="knowledge"&&te[j].requirements.resources[S]>0||S=="power"&&te[j].active_costs.power>0||S=="knowledge"&&te[j].requirements.knowledge>0)&&D.push(te[j].title);return D}function _(S){return g3(S)?m(S):[]}let h;const p=S=>S===1?"bg-green-500":S>.9?"bg-yellow-500":"bg-red-500",w=S=>S>149?"bg-green-500":S>99?"bg-yellow-500":"bg-red-500",v=()=>{o(3,a=!a)};return t.$$set=S=>{"mini"in S&&o(0,c=S.mini)},t.$$.update=()=>{if(t.$$.dirty[0]&2&&o(4,s=Un.filter(S=>S.isComplete(n)).length),t.$$.dirty[0]&2&&o(5,d=[{icon:"💰",name:"gold",value:n.townInfo.gold,rate:n.economyAndLaws.weeklyProfit},{icon:"🥕",name:"food",value:n.resources.food,rate:n.resource_rate.food},{icon:"🪵",name:"wood",value:n.resources.wood,rate:n.resource_rate.wood},{icon:"🪨",name:"stone",value:n.resources.stone,rate:n.resource_rate.stone},{icon:"🧠",name:"knowledge",value:n.townInfo.knowledge_points,rate:n.resource_rate.knowledge},{icon:"🧲",name:"metal",value:n.resources.metal,rate:n.resource_rate.metal},{icon:"🔋",name:"power",value:n.resources.power,rate:null}]),t.$$.dirty[0]&2&&o(6,h=[{name:"Happiness",description:"Happy townspeople spend more money and are less likely to leave.",value:n.townInfo.happiness,modifier:n.modifiers.happiness,color:w(n.townInfo.happiness),hover:!0,max:300},{name:"Health",description:"Healthy townspeople are less likely to die (and leave the town obviously).",value:n.townInfo.health,modifier:n.modifiers.health,color:w(n.townInfo.health),hover:!0,max:300},{name:"Community",description:"Townspeople that feel at home are less likely to leave, and less likely to get bored.",value:n.townInfo.community,modifier:n.modifiers.community,color:w(n.townInfo.community),hover:!0,max:300},{name:"Employment",description:"The number of people employed in your town. Unemployed people are more likely to leave.",value:n.townInfo.employees,modifier:null,color:p(n.townInfo.employees/n.townInfo.population_count),hover:!0,max:n.townInfo.population_count},{name:"🛝 Recreation",description:"Tracker for how many plots you have for recreation, which keeps townspeople happy. <br/><br/>Make sure as your town grows that you build enough 🛝 plots. ",value:n.townInfo.recreation,modifier:null,color:n.townInfo.recreation/du(n)>=.2?"bg-green-500":"bg-orange-300",hover:!0,max:du(n)}]),t.$$.dirty[0]&6147){const S=n.resources.food>=n.resource_capacity||n.resources.wood>=n.resource_capacity||n.resources.stone>=n.resource_capacity||n.resources.metal>=n.resource_capacity,D=Date.now();S&&!f&&D-u>3e4&&!c&&!n.gameSettings.includes("bagOfHolding")&&localStorage.getItem($t)==null&&(_3(),o(11,u=D)),o(12,f=S),o(2,l=S)}},[c,n,l,a,s,d,h,i,r,_,w,u,f,v]}class ed extends he{constructor(e){super(),pe(this,e,b3,h3,de,{mini:0},null,[-1,-1])}}function mu(t,e,o){const n=t.slice();return n[4]=e[o],n[6]=o,n}function pu(t,e,o){const n=t.slice();return n[4]=e[o],n[6]=o,n}function hu(t,e,o){const n=t.slice();return n[4]=e[o],n[6]=o,n}function gu(t){let e,o,n,i=te[ye(t[0].id)].title+"",r,l,a,s=te[ye(t[0].id)].description+"",u,f,c,d,m,_,h,p,w,v=t[3]("💰",te[ye(t[0].id)].requirements.gold,t[2].townInfo.gold)+"",S,D,j=t[3]("🥕",te[ye(t[0].id)].requirements.resources.food,t[2].resources.food)+"",F,R,P=t[3]("🧠",te[ye(t[0].id)].requirements.knowledge,t[2].townInfo.knowledge_points)+"",E,q,M=t[3]("🪵",te[ye(t[0].id)].requirements.resources.wood,t[2].resources.wood)+"",C,k,N=t[3]("🪨",te[ye(t[0].id)].requirements.resources.stone,t[2].resources.stone)+"",B,L,J=t[3]("🧲",te[ye(t[0].id)].requirements.resources.metal,t[2].resources.metal)+"",Z,X,ne=t[3]("🔋",te[ye(t[0].id)].active_costs.power,t[2].resources.power)+"",ee,oe,we=t[3]("🧑‍⚖️",te[ye(t[0].id)].requirements.resources.bureaucracy,t[2].resources.bureaucracy)+"",ae,ie=te[ye(t[0].id)].requirements.employees!=0,qe,Ge=te[ye(t[0].id)].revenue_per_week!=0,Ue,ot=Object.values(te[ye(t[0].id)].active_costs).some(Pu),g,x=Object.values(te[ye(t[0].id)].requirements.plots).length>0,V,le=Object.values(te[ye(t[0].id)].generated_resources).some(Ou)||te[ye(t[0].id)].knowledge_points_per_month>0,me;d=new vt({props:{class:"bg-accent opacity-25 mt-1 mb-1"}});let Ce=ie&&_u(t),Pe=Ge&&bu(t),Ee=ot&&vu(t),We=x&&ku(t),Re=le&&Au(t);return{c(){e=T("div"),o=T("div"),n=T("span"),r=K(i),l=H(),a=T("span"),u=K(s),f=H(),c=T("div"),U(d.$$.fragment),m=H(),_=T("span"),_.textContent="Requirements",h=H(),p=T("div"),w=new Jt(!1),S=H(),D=new Jt(!1),F=H(),R=new Jt(!1),E=H(),q=new Jt(!1),C=H(),k=new Jt(!1),B=H(),L=new Jt(!1),Z=H(),X=new Jt(!1),ee=H(),oe=new Jt(!1),ae=H(),Ce&&Ce.c(),qe=H(),Pe&&Pe.c(),Ue=H(),Ee&&Ee.c(),g=H(),We&&We.c(),V=H(),Re&&Re.c(),$(n,"class","text-md"),$(a,"class","text-xs"),$(o,"class","flex flex-col gap-2"),$(_,"class","font-semibold"),w.a=S,D.a=F,R.a=E,q.a=C,k.a=B,L.a=Z,X.a=ee,oe.a=ae,$(p,"class","flex flex-row gap-1 flex-wrap"),$(c,"class","flex flex-col w-36 h-min gap-0 text-xs pb-2"),$(e,"class","p-2 max-w-64")},m(ke,Ye){O(ke,e,Ye),b(e,o),b(o,n),b(n,r),b(o,l),b(o,a),b(a,u),b(e,f),b(e,c),W(d,c,null),b(c,m),b(c,_),b(c,h),b(c,p),w.m(v,p),b(p,S),D.m(j,p),b(p,F),R.m(P,p),b(p,E),q.m(M,p),b(p,C),k.m(N,p),b(p,B),L.m(J,p),b(p,Z),X.m(ne,p),b(p,ee),oe.m(we,p),b(p,ae),Ce&&Ce.m(p,null),b(e,qe),Pe&&Pe.m(e,null),b(e,Ue),Ee&&Ee.m(e,null),b(e,g),We&&We.m(e,null),b(e,V),Re&&Re.m(e,null),me=!0},p(ke,Ye){(!me||Ye&1)&&i!==(i=te[ye(ke[0].id)].title+"")&&ce(r,i),(!me||Ye&1)&&s!==(s=te[ye(ke[0].id)].description+"")&&ce(u,s),(!me||Ye&5)&&v!==(v=ke[3]("💰",te[ye(ke[0].id)].requirements.gold,ke[2].townInfo.gold)+"")&&w.p(v),(!me||Ye&5)&&j!==(j=ke[3]("🥕",te[ye(ke[0].id)].requirements.resources.food,ke[2].resources.food)+"")&&D.p(j),(!me||Ye&5)&&P!==(P=ke[3]("🧠",te[ye(ke[0].id)].requirements.knowledge,ke[2].townInfo.knowledge_points)+"")&&R.p(P),(!me||Ye&5)&&M!==(M=ke[3]("🪵",te[ye(ke[0].id)].requirements.resources.wood,ke[2].resources.wood)+"")&&q.p(M),(!me||Ye&5)&&N!==(N=ke[3]("🪨",te[ye(ke[0].id)].requirements.resources.stone,ke[2].resources.stone)+"")&&k.p(N),(!me||Ye&5)&&J!==(J=ke[3]("🧲",te[ye(ke[0].id)].requirements.resources.metal,ke[2].resources.metal)+"")&&L.p(J),(!me||Ye&5)&&ne!==(ne=ke[3]("🔋",te[ye(ke[0].id)].active_costs.power,ke[2].resources.power)+"")&&X.p(ne),(!me||Ye&5)&&we!==(we=ke[3]("🧑‍⚖️",te[ye(ke[0].id)].requirements.resources.bureaucracy,ke[2].resources.bureaucracy)+"")&&oe.p(we),Ye&1&&(ie=te[ye(ke[0].id)].requirements.employees!=0),ie?Ce?Ce.p(ke,Ye):(Ce=_u(ke),Ce.c(),Ce.m(p,null)):Ce&&(Ce.d(1),Ce=null),Ye&1&&(Ge=te[ye(ke[0].id)].revenue_per_week!=0),Ge?Pe?(Pe.p(ke,Ye),Ye&1&&y(Pe,1)):(Pe=bu(ke),Pe.c(),y(Pe,1),Pe.m(e,Ue)):Pe&&(Ie(),A(Pe,1,1,()=>{Pe=null}),Me()),Ye&1&&(ot=Object.values(te[ye(ke[0].id)].active_costs).some(Pu)),ot?Ee?(Ee.p(ke,Ye),Ye&1&&y(Ee,1)):(Ee=vu(ke),Ee.c(),y(Ee,1),Ee.m(e,g)):Ee&&(Ie(),A(Ee,1,1,()=>{Ee=null}),Me()),Ye&1&&(x=Object.values(te[ye(ke[0].id)].requirements.plots).length>0),x?We?(We.p(ke,Ye),Ye&1&&y(We,1)):(We=ku(ke),We.c(),y(We,1),We.m(e,V)):We&&(Ie(),A(We,1,1,()=>{We=null}),Me()),Ye&1&&(le=Object.values(te[ye(ke[0].id)].generated_resources).some(Ou)||te[ye(ke[0].id)].knowledge_points_per_month>0),le?Re?(Re.p(ke,Ye),Ye&1&&y(Re,1)):(Re=Au(ke),Re.c(),y(Re,1),Re.m(e,null)):Re&&(Ie(),A(Re,1,1,()=>{Re=null}),Me())},i(ke){me||(y(d.$$.fragment,ke),y(Pe),y(Ee),y(We),y(Re),me=!0)},o(ke){A(d.$$.fragment,ke),A(Pe),A(Ee),A(We),A(Re),me=!1},d(ke){ke&&I(e),Y(d),Ce&&Ce.d(),Pe&&Pe.d(),Ee&&Ee.d(),We&&We.d(),Re&&Re.d()}}}function _u(t){let e,o,n=te[ye(t[0].id)].requirements.employees+"",i,r,l;return{c(){e=T("span"),o=K("👥 "),i=K(n),r=K(" employees"),$(e,"class",l=te[ye(t[0].id)].requirements.employees>t[2].townInfo.population_count-t[2].townInfo.employees&&t[1]?"px-1 text-textDanger font-bold border-2 border-red-400":"")},m(a,s){O(a,e,s),b(e,o),b(e,i),b(e,r)},p(a,s){s&1&&n!==(n=te[ye(a[0].id)].requirements.employees+"")&&ce(i,n),s&7&&l!==(l=te[ye(a[0].id)].requirements.employees>a[2].townInfo.population_count-a[2].townInfo.employees&&a[1]?"px-1 text-textDanger font-bold border-2 border-red-400":"")&&$(e,"class",l)},d(a){a&&I(e)}}}function bu(t){let e,o,n,i,r,l,a,s=te[ye(t[0].id)].revenue_per_week+"",u,f;return o=new vt({props:{class:"bg-accent opacity-25 mt-0"}}),{c(){e=T("div"),U(o.$$.fragment),n=H(),i=T("span"),i.textContent="Weekly revenue",r=H(),l=T("span"),a=K("💰 "),u=K(s),$(i,"class","font-semibold"),$(e,"class","flex flex-col gap-1 text-xs")},m(c,d){O(c,e,d),W(o,e,null),b(e,n),b(e,i),b(e,r),b(e,l),b(l,a),b(l,u),f=!0},p(c,d){(!f||d&1)&&s!==(s=te[ye(c[0].id)].revenue_per_week+"")&&ce(u,s)},i(c){f||(y(o.$$.fragment,c),f=!0)},o(c){A(o.$$.fragment,c),f=!1},d(c){c&&I(e),Y(o)}}}function vu(t){let e,o,n,i,r,l;o=new vt({props:{class:"bg-accent opacity-25 mt-2"}});let a=He(Object.keys(te[ye(t[0].id)].active_costs)),s=[];for(let u=0;u<a.length;u+=1)s[u]=wu(hu(t,a,u));return{c(){e=T("div"),U(o.$$.fragment),n=H(),i=T("span"),i.textContent="Weekly Costs",r=H();for(let u=0;u<s.length;u+=1)s[u].c();$(i,"class","font-semibold"),$(e,"class","flex flex-col gap-1 text-xs")},m(u,f){O(u,e,f),W(o,e,null),b(e,n),b(e,i),b(e,r);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(e,null);l=!0},p(u,f){if(f&1){a=He(Object.keys(te[ye(u[0].id)].active_costs));let c;for(c=0;c<a.length;c+=1){const d=hu(u,a,c);s[c]?s[c].p(d,f):(s[c]=wu(d),s[c].c(),s[c].m(e,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=a.length}},i(u){l||(y(o.$$.fragment,u),l=!0)},o(u){A(o.$$.fragment,u),l=!1},d(u){u&&I(e),Y(o),rt(s,u)}}}function yu(t){let e,o=Xn(t[4])+"",n,i,r=qi(t[4])+"",l,a,s=-1*Object.values(te[ye(t[0].id)].active_costs)[t[6]]+"",u,f,c;return{c(){e=T("span"),n=K(o),i=H(),l=K(r),a=H(),u=K(s),f=H(),$(e,"class",c=Object.values(te[ye(t[0].id)].active_costs)[t[6]]>0?"text-textDanger":"text-textHappy")},m(d,m){O(d,e,m),b(e,n),b(e,i),b(e,l),b(e,a),b(e,u),b(e,f)},p(d,m){m&1&&o!==(o=Xn(d[4])+"")&&ce(n,o),m&1&&r!==(r=qi(d[4])+"")&&ce(l,r),m&1&&s!==(s=-1*Object.values(te[ye(d[0].id)].active_costs)[d[6]]+"")&&ce(u,s),m&1&&c!==(c=Object.values(te[ye(d[0].id)].active_costs)[d[6]]>0?"text-textDanger":"text-textHappy")&&$(e,"class",c)},d(d){d&&I(e)}}}function wu(t){let e=Object.values(te[ye(t[0].id)].active_costs)[t[6]]!=0,o,n=e&&yu(t);return{c(){n&&n.c(),o=Le()},m(i,r){n&&n.m(i,r),O(i,o,r)},p(i,r){r&1&&(e=Object.values(te[ye(i[0].id)].active_costs)[i[6]]!=0),e?n?n.p(i,r):(n=yu(i),n.c(),n.m(o.parentNode,o)):n&&(n.d(1),n=null)},d(i){i&&I(o),n&&n.d(i)}}}function ku(t){let e,o,n,i,r,l;o=new vt({props:{class:"bg-accent opacity-25 mt-2"}});let a=He(Object.keys(te[ye(t[0].id)].requirements.plots)),s=[];for(let u=0;u<a.length;u+=1)s[u]=Su(pu(t,a,u));return{c(){e=T("div"),U(o.$$.fragment),n=H(),i=T("span"),i.textContent="Required Plots",r=H();for(let u=0;u<s.length;u+=1)s[u].c();$(i,"class","font-semibold"),$(e,"class","flex flex-col gap-1 text-xs")},m(u,f){O(u,e,f),W(o,e,null),b(e,n),b(e,i),b(e,r);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(e,null);l=!0},p(u,f){if(f&5){a=He(Object.keys(te[ye(u[0].id)].requirements.plots));let c;for(c=0;c<a.length;c+=1){const d=pu(u,a,c);s[c]?s[c].p(d,f):(s[c]=Su(d),s[c].c(),s[c].m(e,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=a.length}},i(u){l||(y(o.$$.fragment,u),l=!0)},o(u){A(o.$$.fragment,u),l=!1},d(u){u&&I(e),Y(o),rt(s,u)}}}function Cu(t){var l;let e,o=((l=$l(Object.values(te[ye(t[0].id)].requirements.plots)[t[6]]))==null?void 0:l.title)+"",n,i,r;return{c(){e=T("span"),n=K(o),i=H(),$(e,"class",r=De(Object.values(te[ye(t[0].id)].requirements.plots)[t[6]],t[2]).length==0?"text-textDanger border-2 border-red-400 font-semibold px-1":"text-textHappy")},m(a,s){O(a,e,s),b(e,n),b(e,i)},p(a,s){var u;s&1&&o!==(o=((u=$l(Object.values(te[ye(a[0].id)].requirements.plots)[a[6]]))==null?void 0:u.title)+"")&&ce(n,o),s&5&&r!==(r=De(Object.values(te[ye(a[0].id)].requirements.plots)[a[6]],a[2]).length==0?"text-textDanger border-2 border-red-400 font-semibold px-1":"text-textHappy")&&$(e,"class",r)},d(a){a&&I(e)}}}function Su(t){let e=Object.values(te[ye(t[0].id)].requirements.plots)[t[6]]!=0,o,n=e&&Cu(t);return{c(){n&&n.c(),o=Le()},m(i,r){n&&n.m(i,r),O(i,o,r)},p(i,r){r&1&&(e=Object.values(te[ye(i[0].id)].requirements.plots)[i[6]]!=0),e?n?n.p(i,r):(n=Cu(i),n.c(),n.m(o.parentNode,o)):n&&(n.d(1),n=null)},d(i){i&&I(o),n&&n.d(i)}}}function Au(t){let e,o,n,i,r,l=te[ye(t[0].id)].knowledge_points_per_month>0,a,s;o=new vt({props:{class:"bg-accent opacity-25 mt-2"}});let u=l&&Tu(t),f=He(Object.keys(te[ye(t[0].id)].generated_resources)),c=[];for(let d=0;d<f.length;d+=1)c[d]=Mu(mu(t,f,d));return{c(){e=T("div"),U(o.$$.fragment),n=H(),i=T("span"),i.textContent="Generated Resources",r=H(),u&&u.c(),a=H();for(let d=0;d<c.length;d+=1)c[d].c();$(i,"class","font-semibold"),$(e,"class","flex flex-col gap-1 text-xs")},m(d,m){O(d,e,m),W(o,e,null),b(e,n),b(e,i),b(e,r),u&&u.m(e,null),b(e,a);for(let _=0;_<c.length;_+=1)c[_]&&c[_].m(e,null);s=!0},p(d,m){if(m&1&&(l=te[ye(d[0].id)].knowledge_points_per_month>0),l?u?u.p(d,m):(u=Tu(d),u.c(),u.m(e,a)):u&&(u.d(1),u=null),m&1){f=He(Object.keys(te[ye(d[0].id)].generated_resources));let _;for(_=0;_<f.length;_+=1){const h=mu(d,f,_);c[_]?c[_].p(h,m):(c[_]=Mu(h),c[_].c(),c[_].m(e,null))}for(;_<c.length;_+=1)c[_].d(1);c.length=f.length}},i(d){s||(y(o.$$.fragment,d),s=!0)},o(d){A(o.$$.fragment,d),s=!1},d(d){d&&I(e),Y(o),u&&u.d(),rt(c,d)}}}function Tu(t){let e,o,n=Math.round(te[ye(t[0].id)].knowledge_points_per_month)+"",i,r;return{c(){e=T("span"),o=K("🧠 "),i=K(n),r=K(" (monthly)")},m(l,a){O(l,e,a),b(e,o),b(e,i),b(e,r)},p(l,a){a&1&&n!==(n=Math.round(te[ye(l[0].id)].knowledge_points_per_month)+"")&&ce(i,n)},d(l){l&&I(e)}}}function Iu(t){let e,o=qi(t[4])+"",n,i,r=Xn(t[4])+"",l,a,s=Ll(Object.values(te[ye(t[0].id)].generated_resources)[t[6]],!1)+"",u,f,c;return{c(){e=T("span"),n=K(o),i=H(),l=K(r),a=H(),u=K(s),f=H(),$(e,"class",c=Object.values(te[ye(t[0].id)].generated_resources)[t[6]]>0?"text-textHappy":"text-textDanger")},m(d,m){O(d,e,m),b(e,n),b(e,i),b(e,l),b(e,a),b(e,u),b(e,f)},p(d,m){m&1&&o!==(o=qi(d[4])+"")&&ce(n,o),m&1&&r!==(r=Xn(d[4])+"")&&ce(l,r),m&1&&s!==(s=Ll(Object.values(te[ye(d[0].id)].generated_resources)[d[6]],!1)+"")&&ce(u,s),m&1&&c!==(c=Object.values(te[ye(d[0].id)].generated_resources)[d[6]]>0?"text-textHappy":"text-textDanger")&&$(e,"class",c)},d(d){d&&I(e)}}}function Mu(t){let e=Object.values(te[ye(t[0].id)].generated_resources)[t[6]]!=0,o,n=e&&Iu(t);return{c(){n&&n.c(),o=Le()},m(i,r){n&&n.m(i,r),O(i,o,r)},p(i,r){r&1&&(e=Object.values(te[ye(i[0].id)].generated_resources)[i[6]]!=0),e?n?n.p(i,r):(n=Iu(i),n.c(),n.m(o.parentNode,o)):n&&(n.d(1),n=null)},d(i){i&&I(o),n&&n.d(i)}}}function v3(t){let e,o,n=t[0]!=null&&gu(t);return{c(){n&&n.c(),e=Le()},m(i,r){n&&n.m(i,r),O(i,e,r),o=!0},p(i,[r]){i[0]!=null?n?(n.p(i,r),r&1&&y(n,1)):(n=gu(i),n.c(),y(n,1),n.m(e.parentNode,e)):n&&(Ie(),A(n,1,1,()=>{n=null}),Me())},i(i){o||(y(n),o=!0)},o(i){A(n),o=!1},d(i){i&&I(e),n&&n.d(i)}}}function qi(t){switch(t){case"food":return"🥕";case"knowledge":return"🧠";case"wood":return"🪵";case"stone":return"🪨";case"metal":return"🧲";case"power":return"🔋";case"bureaucracy":return"🧑‍⚖️";default:return"💰"}}const Ou=t=>t!=0,Pu=t=>t!=0;function y3(t,e,o){let n;se(t,Oe,a=>o(2,n=a));let{option:i}=e,{checkRequirements:r=!0}=e;function l(a,s,u){if(s==0||s==null)return"<span class='hidden'></span>";let f="",c="";return u<s&&r&&(c="text-textDanger border-2 border-red-400 px-2"),f=`<span class='${c}'>${a} ${st(s,!1)}</span>`,f}return t.$$set=a=>{"option"in a&&o(0,i=a.option),"checkRequirements"in a&&o(1,r=a.checkRequirements)},[i,r,n,l]}class td extends he{constructor(e){super(),pe(this,e,y3,v3,de,{option:0,checkRequirements:1})}}function Nu(t,e,o){const n=t.slice();return n[19]=e[o],n}function w3(t){let e,o;return{c(){e=T("span"),o=K(t[3]),$(e,"class","text-[11px] text-wrap")},m(n,i){O(n,e,i),b(e,o)},p(n,i){i&8&&ce(o,n[3])},d(n){n&&I(e)}}}function k3(t){let e;return{c(){e=T("span"),e.textContent="Click to bulldoze",$(e,"class","text-[11px] text-wrap text-yellow-300")},m(o,n){O(o,e,n)},p:Te,d(o){o&&I(e)}}}function C3(t){let e,o,n,i,r;return{c(){e=T("span"),o=K(`Hires
              `),n=T("span"),i=K(t[9]),r=K(`

              employees`),$(n,"class",t[10]+" font-medium svelte-1c0sbj7"),$(e,"class","text-[11px] opacity-80")},m(l,a){O(l,e,a),b(e,o),b(e,n),b(n,i),b(e,r)},p:Te,d(l){l&&I(e)}}}function S3(t){let e;return{c(){e=T("span"),e.textContent=`+💰${st(t[8],!1)}/wk`},m(o,n){O(o,e,n)},p:Te,d(o){o&&I(e)}}}function A3(t){let e;return{c(){e=T("span"),e.textContent=`🔌${t[11]}`},m(o,n){O(o,e,n)},p:Te,d(o){o&&I(e)}}}function Eu(t){let e,o,n,i,r=He(t[13]()),l=[];for(let a=0;a<r.length;a+=1)l[a]=Ru(Nu(t,r,a));return{c(){e=T("div"),o=T("div"),n=T("div"),n.textContent=`${t[4]}`,i=H();for(let a=0;a<l.length;a+=1)l[a].c();$(n,"class","text-white font-bold text-lg mb-2"),$(o,"class","p-2 text-center mt-4"),$(e,"class","absolute inset-0 flex items-start justify-center rounded-xl bg-black/80")},m(a,s){O(a,e,s),b(e,o),b(o,n),b(o,i);for(let u=0;u<l.length;u+=1)l[u]&&l[u].m(o,null)},p(a,s){if(s&8192){r=He(a[13]());let u;for(u=0;u<r.length;u+=1){const f=Nu(a,r,u);l[u]?l[u].p(f,s):(l[u]=Ru(f),l[u].c(),l[u].m(o,null))}for(;u<l.length;u+=1)l[u].d(1);l.length=r.length}},d(a){a&&I(e),rt(l,a)}}}function Ru(t){let e;return{c(){e=T("div"),e.textContent=`${t[19]} `,$(e,"class","text-red-400 font-semibold text-[10px] mb-1")},m(o,n){O(o,e,n)},p:Te,d(o){o&&I(e)}}}function T3(t){let e,o,n,i,r,l,a,s,u,f,c,d,m,_=st(t[6],!1)+"",h,p,w,v,S,D,j,F,R;function P(B,L){if(B[0].selected)return k3;if(B[3])return w3}let E=P(t),q=E&&E(t),M=t[9]&&C3(t),C=t[8]>0&&S3(t),k=t[11]>0&&A3(t),N=!t[2].affordable&&!t[0].selected&&Eu(t);return{c(){e=T("div"),o=T("div"),n=T("div"),i=T("span"),i.textContent=`${t[5]}`,r=H(),l=T("span"),l.textContent=`${t[4]}`,a=H(),q&&q.c(),s=H(),u=T("div"),M&&M.c(),f=H(),c=T("div"),d=T("span"),m=K("💰"),h=K(_),p=H(),C&&C.c(),w=H(),v=T("div"),k&&k.c(),D=H(),N&&N.c(),$(i,"class","text-3xl"),$(l,"class","font-medium text-center text-md"),$(n,"class","flex flex-col flex-grow rounded-xl p-2 gap-0 justify-center items-center"),$(d,"class",""+t[7]+" svelte-1c0sbj7"),$(c,"class","flex flex-row justify-between mx-2 text-[11px] font-mono items-center"),$(v,"class","flex flex-row justify-between mx-2 text-[11px] font-mono"),$(u,"class","bg-sidebarBackground text-black rounded-t-lg py-1"),$(o,"class",S="flex flex-col w-36 h-48 min-h-32 min-w-36 rounded-xl text-white drop-shadow-lg border-black border-2 hover:translate-y-[-8px] transition-transform duration-300 ease-in-out z-100 "+(t[0].selected?"border-4 border-white scale-105":"")),Je(o,"background",t[12]),$(e,"class","plotOption relative svelte-1c0sbj7"),$(e,"data-plotoptionid",j=t[0].id)},m(B,L){O(B,e,L),b(e,o),b(o,n),b(n,i),b(n,r),b(n,l),b(n,a),q&&q.m(n,null),b(o,s),b(o,u),M&&M.m(u,null),b(u,f),b(u,c),b(c,d),b(d,m),b(d,h),b(c,p),C&&C.m(c,null),b(u,w),b(u,v),k&&k.m(v,null),b(e,D),N&&N.m(e,null),F||(R=z(e,"click",function(){Lt(t[2].affordable?t[16]:$u)&&(t[2].affordable?t[16]:$u).apply(this,arguments)}),F=!0)},p(B,L){t=B,E===(E=P(t))&&q?q.p(t,L):(q&&q.d(1),q=E&&E(t),q&&(q.c(),q.m(n,null))),t[9]&&M.p(t,L),t[8]>0&&C.p(t,L),t[11]>0&&k.p(t,L),L&1&&S!==(S="flex flex-col w-36 h-48 min-h-32 min-w-36 rounded-xl text-white drop-shadow-lg border-black border-2 hover:translate-y-[-8px] transition-transform duration-300 ease-in-out z-100 "+(t[0].selected?"border-4 border-white scale-105":""))&&$(o,"class",S),!t[2].affordable&&!t[0].selected?N?N.p(t,L):(N=Eu(t),N.c(),N.m(e,null)):N&&(N.d(1),N=null),L&1&&j!==(j=t[0].id)&&$(e,"data-plotoptionid",j)},d(B){B&&I(e),q&&q.d(),M&&M.d(),C&&C.d(),k&&k.d(),N&&N.d(),F=!1,R()}}}function I3(t){let e,o;return e=new td({props:{option:t[0],checkRequirements:!0}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,i){const r={};i&1&&(r.option=n[0]),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){A(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function M3(t){let e,o,n,i;return e=new ho({props:{$$slots:{default:[T3]},$$scope:{ctx:t}}}),n=new mo({props:{$$slots:{default:[I3]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),o=H(),U(n.$$.fragment)},m(r,l){W(e,r,l),O(r,o,l),W(n,r,l),i=!0},p(r,l){const a={};l&4194319&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&4194305&&(s.$$scope={dirty:l,ctx:r}),n.$set(s)},i(r){i||(y(e.$$.fragment,r),y(n.$$.fragment,r),i=!0)},o(r){A(e.$$.fragment,r),A(n.$$.fragment,r),i=!1},d(r){r&&I(o),Y(e,r),Y(n,r)}}}function O3(t){let e,o;return e=new po({props:{openDelay:400,closeDelay:0,$$slots:{default:[M3]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,[i]){const r={};i&4194319&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){A(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}const $u=()=>{};function P3(t,e,o){let n;se(t,Oe,j=>o(15,n=j));let{option:i}=e,{purchaseCallback:r}=e,{isAffordable:l}=e,a=i.title,s=i.emoji,u=i.requirements.gold,f=n.townInfo.gold<u?"text-red-500 font-semibold":"",c=i.revenue_per_week,d=i.requirements.employees,m=n.townInfo.population_count-n.townInfo.employees<d?"text-red-500 font-semibold":"",_=i.active_costs.power,h=Ir(ye(i.id),!1,5),{count:p=0}=e,w="";const v=Object.entries(i.generated_resources).filter(([j,F])=>F>0).map(([j,F])=>`${F} ${j}`);v.length>0&&(w=`Produces: ${v.join(", ")}`);function S(){const j=[];return l.gold||j.push("Not enough gold"),l.knowledge||j.push("Not enough knowledge"),l.resources||j.push("Missing resources"),l.employees||j.push("Not enough workers"),l.activeCosts||j.push("Can't support active costs"),l.adjacent||j.push("Missing adjacent plots"),l.requiredPlots||j.push("Missing required plots"),j}const D=()=>r(i);return t.$$set=j=>{"option"in j&&o(0,i=j.option),"purchaseCallback"in j&&o(1,r=j.purchaseCallback),"isAffordable"in j&&o(2,l=j.isAffordable),"count"in j&&o(14,p=j.count)},t.$$.update=()=>{t.$$.dirty&32768},[i,r,l,w,a,s,u,f,c,d,m,_,h,S,p,n,D]}class N3 extends he{constructor(e){super(),pe(this,e,P3,O3,de,{option:0,purchaseCallback:1,isAffordable:2,count:14})}}const{Map:E3}=ad;function Lu(t,e,o){const n=t.slice();return n[21]=e[o],n}function Du(t){let e,o,n,i,r,l,a,s,u,f,c=[],d=new E3,m,_,h,p,w,v,S,D,j=He(t[5].filter(t[11]));const F=R=>R[21].id;for(let R=0;R<j.length;R+=1){let P=Lu(t,j,R),E=F(P);d.set(E,c[R]=ju(E,P))}return p=new ed({props:{mini:!0}}),{c(){e=T("div"),n=H(),i=T("div"),r=T("div"),l=T("div"),a=T("div"),s=T("div"),u=T("div"),f=T("div");for(let R=0;R<c.length;R+=1)c[R].c();_=H(),h=T("div"),U(p.$$.fragment),$(e,"class","fixed inset-0 bg-black/20 z-[998]"),$(f,"class",m="flex flex-row text-start justify-start items-start flex-wrap py-8 px-8 max-w-[75vw] "+(t[3].isMineralSource,"pt-6 gap-2")+" w-full align-middle"),$(s,"class","flex gap-1 pb-24 overflow-scroll max-h-["+Fu+"]"),$(a,"class","flex flex-row gap-2 justify-start pt-8 flex-grow w-full"),$(r,"class","h-max w-full flex-grow"),$(i,"class","w-[100vw] fixed bottom-0 max-h-["+Fu+"] z-[999] flex flex-row justify-center text-center items-center bg-popupBackground text-sidebarText px-4 shadow-2xl rounded-t-2xl")},m(R,P){O(R,e,P),O(R,n,P),O(R,i,P),b(i,r),b(r,l),b(l,a),b(a,s),b(s,u),b(u,f);for(let E=0;E<c.length;E+=1)c[E]&&c[E].m(f,null);b(i,_),b(i,h),W(p,h,null),v=!0,S||(D=[z(e,"click",t[10]),z(a,"click",t[6]),z(i,"click",cd(t[9]))],S=!0)},p(R,P){P&59&&(j=He(R[5].filter(R[11])),Ie(),c=Cd(c,P,F,1,R,j,d,f,kd,ju,null,Lu),Me()),(!v||P&8&&m!==(m="flex flex-row text-start justify-start items-start flex-wrap py-8 px-8 max-w-[75vw] "+(R[3].isMineralSource,"pt-6 gap-2")+" w-full align-middle"))&&$(f,"class",m)},i(R){if(!v){R&&ze(()=>{v&&(o||(o=gt(e,Oi,{duration:200},!0)),o.run(1))});for(let P=0;P<j.length;P+=1)y(c[P]);y(p.$$.fragment,R),R&&ze(()=>{v&&(w||(w=gt(i,ta,{duration:200,axis:"y"},!0)),w.run(1))}),v=!0}},o(R){R&&(o||(o=gt(e,Oi,{duration:200},!1)),o.run(0));for(let P=0;P<c.length;P+=1)A(c[P]);A(p.$$.fragment,R),R&&(w||(w=gt(i,ta,{duration:200,axis:"y"},!1)),w.run(0)),v=!1},d(R){R&&(I(e),I(n),I(i)),R&&o&&o.end();for(let P=0;P<c.length;P+=1)c[P].d();Y(p),R&&w&&w.end(),S=!1,xe(D)}}}function ju(t,e){let o,n,i;return n=new N3({props:{option:e[21],purchaseCallback:L3,isAffordable:Lo(e[21],e[4],e[0],e[1])}}),{key:t,first:null,c(){o=Le(),U(n.$$.fragment),this.first=o},m(r,l){O(r,o,l),W(n,r,l),i=!0},p(r,l){e=r;const a={};l&40&&(a.option=e[21]),l&59&&(a.isAffordable=Lo(e[21],e[4],e[0],e[1])),n.$set(a)},i(r){i||(y(n.$$.fragment,r),i=!0)},o(r){A(n.$$.fragment,r),i=!1},d(r){r&&I(o),Y(n,r)}}}function R3(t){let e=t[2]&&localStorage.getItem($t)==null,o,n,i=e&&Du(t);return{c(){i&&i.c(),o=Le()},m(r,l){i&&i.m(r,l),O(r,o,l),n=!0},p(r,[l]){l&4&&(e=r[2]&&localStorage.getItem($t)==null),e?i?(i.p(r,l),l&4&&y(i,1)):(i=Du(r),i.c(),y(i,1),i.m(o.parentNode,o)):i&&(Ie(),A(i,1,1,()=>{i=null}),Me())},i(r){n||(y(i),n=!0)},o(r){A(i),n=!1},d(r){r&&I(o),i&&i.d(r)}}}const Fu="50vh";function $3(t,e,o){return t>=0&&t<o.length&&e>=0&&e<o[0].length&&!o[t][e].water&&!o[t][e].disabled}function ri(t,e,o,n,i){let r=t+o,l=e+n;for(;r>=0&&r<i.length&&l>=0&&l<i[0].length;){if($3(r,l,i))return[r,l];r+=o,l+=n}return null}const L3=()=>{};function D3(t,e,o){let n,i,r,l;se(t,Qe,R=>o(3,r=R)),se(t,Oe,R=>o(4,l=R));let{x:a=0}=e,{y:s=0}=e,{open:u=!1}=e,{tooltip:f=""}=e,c=te,d;const m=new Map;function _(R){return m.has(R)||m.set(R,te.findIndex(P=>P.id===R)),m.get(R)}function h(R){return l.plots[a][s].type>-1?c[l.plots[a][s].type].id===R.id:!1}function p(R){const P=R.target.closest(".plotOption");if(P){const E=P.dataset.plotoptionid;if(E===l.plots[a][s].typeId){v();return}w(E)}}function w(R){const P=_(R),E=c[P];let q=l;if(Lo(E,q,a,s).affordable){if(q.plots[a][s].type!==-1&&Zn(a,s,q),o(7,f=""),q.plots[a][s].type=P,q.plots[a][s].active=!0,q.plots[a][s].typeId=E.id,q.townInfo.gold-=E.requirements.gold,q.townInfo.gold=tt(q.townInfo.gold,2),q.townInfo.population_count+=E.immediate_variable_changes.population,q.townInfo.population_max+=E.immediate_variable_changes.population,q.townInfo.happiness+=E.immediate_variable_changes.happiness,q.townInfo.health+=E.immediate_variable_changes.health,q.modifiers.happiness=tt(q.modifiers.happiness*E.purchase_effect_modifiers.happiness,2),q.modifiers.health=tt(q.modifiers.health*E.purchase_effect_modifiers.health,2),q.modifiers.community=tt(q.modifiers.community*E.purchase_effect_modifiers.community,2),q.townInfo.employees+=E.requirements.employees,(q.plotCounts[P]===void 0||q.plotCounts[P]===null)&&(q.plotCounts[P]=0),q.plotCounts[P]++,q.lastChangeDay=q.environment.day,E.requirements.resources!==void 0){const C=E.requirements.resources;q.resources.food-=C.food,q.resources.wood-=C.wood,q.resources.stone-=C.stone,q.resources.metal-=C.metal}switch(E.id){case"city_hall":q.hasCityHall=!0;break;case"bank":q.hasBank=!0;break}$f(q,ll.BUILD_PLOT,{plot_type:E.id,x:a.toString(),y:s.toString(),end_goal:q.endGoal,day:q.environment.day,settings:q.gameSettings.join(",")}),Oe.set(q),localStorage.setItem(nt,JSON.stringify(q));const M=wm(a,s,q);if(M){const[C,k]=M;o(0,a=C),o(1,s=k),Ae(Qe,r.x=C,r),Ae(Qe,r.y=k,r);const N=document.querySelector(`.plot_container[data-x="${C}"][data-y="${k}"]`);if(N){const B=N.getBoundingClientRect(),L=window.innerHeight||d.clientHeight,J=window.innerWidth||d.clientWidth,Z=d.scrollTop+B.top-L/2+225,X=d.scrollLeft+B.left-J/2;window.scrollTo({top:Z,left:X,behavior:"smooth"}),document.querySelectorAll(".plot_container").forEach(ee=>ee.classList.remove("selected")),N.classList.add("selected")}}}else o(7,f="You do not have enough resources to purchase this plot. If it's a 'Large' plot, make sure you have a 2x2 area available. "),document.querySelectorAll(".plotOption").forEach(C=>{C.classList.remove("active")})}function v(){document.querySelectorAll(".plotOption").forEach(P=>{P.classList.remove("active")}),Zn(a,s,l)}function S(R){if(!u)return;let P=null;switch(R.key.toLowerCase()){case"arrowup":case"w":P=ri(r.x,r.y,-1,0,l.plots);break;case"arrowdown":case"s":P=ri(r.x,r.y,1,0,l.plots);break;case"arrowleft":case"a":P=ri(r.x,r.y,0,-1,l.plots);break;case"arrowright":case"d":P=ri(r.x,r.y,0,1,l.plots);break;default:return}if(!P)return;const[E,q]=P;Ae(Qe,r.x=E,r),Ae(Qe,r.y=q,r);const M=document.querySelector(`.plot_container[data-x="${E}"][data-y="${q}"]`);if(M){const C=M.getBoundingClientRect(),k=window.innerHeight||d.clientHeight,N=window.innerWidth||d.clientWidth,B=d.scrollTop+C.top-k/2+225,L=d.scrollLeft+C.left-N/2;window.scrollTo({top:B,left:L,behavior:"smooth"}),document.querySelectorAll(".plot_container").forEach(Z=>Z.classList.remove("selected")),M.classList.add("selected")}}Ho(()=>{d=document.documentElement||document.body,window.addEventListener("keydown",S)}),yf(()=>{window.removeEventListener("keydown",S)});function D(R){re.call(this,t,R)}const j=()=>Ae(Qe,r.visible=!1,r),F=R=>r.isMineralSource?R.id==="mine":R.id!=="mine";return t.$$set=R=>{"x"in R&&o(0,a=R.x),"y"in R&&o(1,s=R.y),"open"in R&&o(2,u=R.open),"tooltip"in R&&o(7,f=R.tooltip)},t.$$.update=()=>{t.$$.dirty&19&&o(8,n=l?c.map(R=>Object.assign(Object.assign({},R),{affordable:Lo(R,l,a,s).affordable,selected:h(R)})):[]),t.$$.dirty&280&&o(5,i=l?(()=>{let R=[...n];if(r.isMineralSource)return R.filter(P=>P.id==="mine");De("tree_farm",l).length===0&&(R=R.filter(P=>["small_homes","farm","tree_farm"].includes(P.id)));for(const[P,E]of Object.entries(Md))typeof E=="number"&&E>0&&De(P,l).length>=E&&(R=R.filter(q=>q.id!==P));return R.sort((P,E)=>P.selected&&!E.selected?-1:0)})():[])},[a,s,u,r,l,i,p,f,n,D,j,F]}class nd extends he{constructor(e){super(),pe(this,e,D3,R3,de,{x:0,y:1,open:2,tooltip:7})}}function j3(t){let e,o,n;return{c(){e=T("span"),o=K("My liege, if you build a City Hall, you can expand your city "),n=K(t[0]),$(e,"class","text-xs")},m(i,r){O(i,e,r),b(e,o),b(e,n)},p(i,r){r&1&&ce(n,i[0])},i:Te,o:Te,d(i){i&&I(e)}}}function F3(t){let e,o;return e=new Ot({props:{class:"bg-accent h-max rounded-2xl hover:scale-110 transition-transform duration-200 ease-in-out hover:drop-shadow-2xl",$$slots:{default:[B3]},$$scope:{ctx:t}}}),e.$on("click",t[2]),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,i){const r={};i&11&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){A(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function B3(t){let e,o,n,i,r,l=t[0].toUpperCase()+"",a,s,u,f,c,d,m,_,h,p,w,v=Math.round(Math.pow(1.7,t[1].kingdom_expansions+5))+"",S,D,j,F;return{c(){e=T("div"),o=K("My liege, you can expand your "),n=T("br"),i=K(`kingdom
        `),r=T("span"),a=K(l),s=K(`
        using
        `),u=T("br"),f=K(`your
        `),c=T("span"),c.textContent="City Hall",d=K("!"),m=T("br"),_=T("br"),h=H(),p=T("span"),w=K("Requires "),S=K(v),D=K(` Guardians
          `),j=T("br"),F=K("to be employed. (see city mgmt menu)"),$(r,"class","font-extrabold text-blue-200"),$(c,"class","text-blue-200 bold"),$(p,"class","opacity-75 text-xs")},m(R,P){O(R,e,P),b(e,o),b(e,n),b(e,i),b(e,r),b(r,a),b(e,s),b(e,u),b(e,f),b(e,c),b(e,d),b(e,m),b(e,_),b(e,h),b(e,p),b(p,w),b(p,S),b(p,D),b(p,j),b(p,F)},p(R,P){P&1&&l!==(l=R[0].toUpperCase()+"")&&ce(a,l),P&2&&v!==(v=Math.round(Math.pow(1.7,R[1].kingdom_expansions+5))+"")&&ce(S,v)},d(R){R&&I(e)}}}function q3(t){let e,o,n,i,r;const l=[F3,j3],a=[];function s(u,f){return f&2&&(o=null),o==null&&(o=De("city_hall",u[1]).length>0),o?0:1}return n=s(t,-1),i=a[n]=l[n](t),{c(){e=T("div"),i.c(),$(e,"class","w-48 h-max")},m(u,f){O(u,e,f),a[n].m(e,null),r=!0},p(u,[f]){let c=n;n=s(u,f),n===c?a[n].p(u,f):(Ie(),A(a[c],1,1,()=>{a[c]=null}),Me(),i=a[n],i?i.p(u,f):(i=a[n]=l[n](u),i.c()),y(i,1),i.m(e,null))},i(u){r||(y(i),r=!0)},o(u){A(i),r=!1},d(u){u&&I(e),a[n].d()}}}function x3(t,e,o){let n;se(t,Oe,l=>o(1,n=l));let{direction:i}=e;const r=()=>{const l=Tm(n,i);l&&It.set(l)};return t.$$set=l=>{"direction"in l&&o(0,i=l.direction)},[i,n,r]}class Bu extends he{constructor(e){super(),pe(this,e,x3,q3,de,{direction:0})}}function G3(t){let e;return{c(){e=T("span"),e.textContent="Start here!",$(e,"class","text-md text-black select-none transition-all duration-500 animate-pulse ")},m(o,n){O(o,e,n)},p:Te,d(o){o&&I(e)}}}function H3(t){let e,o,n,i=te[t[0].type].emoji+"",r,l,a,s,u,f=te[t[0].type].title+"",c,d,m,_,h;return{c(){e=T("div"),o=T("span"),n=T("span"),r=K(i),l=H(),a=T("br"),s=H(),u=T("span"),c=K(f),$(n,"class","text-lg align-text-top select-none"),$(u,"class",d="text-sm align-text-top "+(te[t[0].type].id=="mine"?"text-white":"text-black")+" select-none"),$(o,"data-size",m=te[t[0].type].requirements.size),$(o,"data-x",_=t[0].x),$(o,"data-y",h=t[0].y),$(e,"class","svelte-lm6uio")},m(p,w){O(p,e,w),b(e,o),b(o,n),b(n,r),b(o,l),b(o,a),b(o,s),b(o,u),b(u,c)},p(p,w){w&1&&i!==(i=te[p[0].type].emoji+"")&&ce(r,i),w&1&&f!==(f=te[p[0].type].title+"")&&ce(c,f),w&1&&d!==(d="text-sm align-text-top "+(te[p[0].type].id=="mine"?"text-white":"text-black")+" select-none")&&$(u,"class",d),w&1&&m!==(m=te[p[0].type].requirements.size)&&$(o,"data-size",m),w&1&&_!==(_=p[0].x)&&$(o,"data-x",_),w&1&&h!==(h=p[0].y)&&$(o,"data-y",h)},d(p){p&&I(e)}}}function qu(t){let e;return{c(){e=T("span"),e.textContent="🧲",$(e,"class","text-lg")},m(o,n){O(o,e,n)},d(o){o&&I(e)}}}function xu(t){let e;return{c(){e=T("span"),e.textContent="👑",$(e,"class","text-lg absolute top-0")},m(o,n){O(o,e,n)},d(o){o&&I(e)}}}function V3(t){let e,o,n,i=t[7](t[0].x,t[0].y),r,l,a,s,u,f,c,d,m,_,h,p,w,v,S,D;function j(q,M){if(q[0].type>-1)return H3;if(q[0].type==-1&&q[0].x==0&&q[0].y==0)return G3}let F=j(t),R=F&&F(t),P=t[0].mineralSource&&t[0].type==-1&&qu(),E=i&&xu();return{c(){e=T("button"),R&&R.c(),o=H(),P&&P.c(),n=H(),E&&E.c(),$(e,"class",r="plot_container "+t[1]+" overflow-visible "+(t[0].type==-1&&t[2]==!1,"")+" "+(t[0].mineralSource?"hidden":"")+" "+(t[2]?"cursor-pointer":"cursor-not-allowed")+" svelte-lm6uio"),Je(e,"background-color",t[0].water?"rgba(66, 135, 245, 1)":t[5].x==t[0].x&&t[5].y==t[0].y&&t[5].visible?"white":t[0].mineralSource?"black":Ir(t[0].type,t[2])),$(e,"data-active",l=t[0].active),$(e,"data-hidehoveranimation",a=t[5].visible||t[0].type==-1&&t[0].x==0&&t[0].y==0),$(e,"data-id",s=t[0].id),$(e,"data-x",u=t[0].x),$(e,"data-y",f=t[0].y),$(e,"data-optionindex",c=t[0].optionIndex),$(e,"data-canbeupgraded",t[2]),$(e,"data-type",d=t[0].type),$(e,"data-type-id",m=t[0].typeId),$(e,"data-size",_=t[0].type>-1?te[t[0].type].requirements.size:null),$(e,"data-mineralsource",h=t[0].mineralSource),$(e,"data-water",p=t[0].water),$(e,"data-nearwater",w=An(t[0].x,t[0].y,t[3])),$(e,"data-liegelocation",v=t[7](t[0].x,t[0].y))},m(q,M){O(q,e,M),R&&R.m(e,null),b(e,o),P&&P.m(e,null),b(e,n),E&&E.m(e,null),S||(D=z(e,"click",function(){Lt(t[0].water?null:t[6]?Dl(t[0].x,t[0].y,t[3]):t[8])&&(t[0].water?null:t[6]?Dl(t[0].x,t[0].y,t[3]):t[8]).apply(this,arguments)}),S=!0)},p(q,M){t=q,F===(F=j(t))&&R?R.p(t,M):(R&&R.d(1),R=F&&F(t),R&&(R.c(),R.m(e,o))),t[0].mineralSource&&t[0].type==-1?P||(P=qu(),P.c(),P.m(e,n)):P&&(P.d(1),P=null),M&1&&(i=t[7](t[0].x,t[0].y)),i?E||(E=xu(),E.c(),E.m(e,null)):E&&(E.d(1),E=null),M&7&&r!==(r="plot_container "+t[1]+" overflow-visible "+(t[0].type==-1&&t[2]==!1,"")+" "+(t[0].mineralSource?"hidden":"")+" "+(t[2]?"cursor-pointer":"cursor-not-allowed")+" svelte-lm6uio")&&$(e,"class",r),M&37&&Je(e,"background-color",t[0].water?"rgba(66, 135, 245, 1)":t[5].x==t[0].x&&t[5].y==t[0].y&&t[5].visible?"white":t[0].mineralSource?"black":Ir(t[0].type,t[2])),M&1&&l!==(l=t[0].active)&&$(e,"data-active",l),M&33&&a!==(a=t[5].visible||t[0].type==-1&&t[0].x==0&&t[0].y==0)&&$(e,"data-hidehoveranimation",a),M&1&&s!==(s=t[0].id)&&$(e,"data-id",s),M&1&&u!==(u=t[0].x)&&$(e,"data-x",u),M&1&&f!==(f=t[0].y)&&$(e,"data-y",f),M&1&&c!==(c=t[0].optionIndex)&&$(e,"data-optionindex",c),M&4&&$(e,"data-canbeupgraded",t[2]),M&1&&d!==(d=t[0].type)&&$(e,"data-type",d),M&1&&m!==(m=t[0].typeId)&&$(e,"data-type-id",m),M&1&&_!==(_=t[0].type>-1?te[t[0].type].requirements.size:null)&&$(e,"data-size",_),M&1&&h!==(h=t[0].mineralSource)&&$(e,"data-mineralsource",h),M&1&&p!==(p=t[0].water)&&$(e,"data-water",p),M&9&&w!==(w=An(t[0].x,t[0].y,t[3]))&&$(e,"data-nearwater",w),M&1&&v!==(v=t[7](t[0].x,t[0].y))&&$(e,"data-liegelocation",v)},d(q){q&&I(e),R&&R.d(),P&&P.d(),E&&E.d(),S=!1,D()}}}function Gu(t){let e;return{c(){e=K("Water - Place farms nearby for more food & revenue!")},m(o,n){O(o,e,n)},d(o){o&&I(e)}}}function Hu(t){let e;return{c(){e=T("span"),e.textContent="Near water - Generating more food & revenue!",$(e,"class","text-xs bg-blue-500 text-white px-2 py-3 rounded-2xl text-center")},m(o,n){O(o,e,n)},d(o){o&&I(e)}}}function Vu(t){let e;function o(r,l){return te[r[0].type].liege_on_plot_hint==null?Y3:W3}let n=o(t),i=n(t);return{c(){e=T("span"),i.c(),$(e,"class","text-xs bg-pink-700 text-white px-2 py-3 rounded-2xl text-center")},m(r,l){O(r,e,l),i.m(e,null)},p(r,l){n===(n=o(r))&&i?i.p(r,l):(i.d(1),i=n(r),i&&(i.c(),i.m(e,null)))},d(r){r&&I(e),i.d()}}}function W3(t){let e=te[t[0].type].liege_on_plot_hint+"",o;return{c(){o=K(e)},m(n,i){O(n,o,i)},p(n,i){i&1&&e!==(e=te[n[0].type].liege_on_plot_hint+"")&&ce(o,e)},d(n){n&&I(o)}}}function Y3(t){let e,o=te[t[0].type].title+"",n,i;return{c(){e=K("You are hanging out on the "),n=K(o),i=K(` plot, but nothing
            seems to be changing except a revenue boost.`)},m(r,l){O(r,e,l),O(r,n,l),O(r,i,l)},p(r,l){l&1&&o!==(o=te[r[0].type].title+"")&&ce(n,o)},d(r){r&&(I(e),I(n),I(i))}}}function Wu(t){let e,o;return e=new td({props:{option:t[4],checkRequirements:!1}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,i){const r={};i&16&&(r.option=n[4]),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){A(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function U3(t){let e,o,n=An(t[0].x,t[0].y,t[3]),i,r=Gn(t[0].x,t[0].y,t[3]),l,a,s=t[0].water&&Gu(),u=n&&Hu(),f=r&&Vu(t),c=t[0].active&&Wu(t);return{c(){e=T("div"),s&&s.c(),o=H(),u&&u.c(),i=H(),f&&f.c(),l=H(),c&&c.c(),$(e,"class","flex flex-col gap-2")},m(d,m){O(d,e,m),s&&s.m(e,null),b(e,o),u&&u.m(e,null),b(e,i),f&&f.m(e,null),b(e,l),c&&c.m(e,null),a=!0},p(d,m){d[0].water?s||(s=Gu(),s.c(),s.m(e,o)):s&&(s.d(1),s=null),m&9&&(n=An(d[0].x,d[0].y,d[3])),n?u||(u=Hu(),u.c(),u.m(e,i)):u&&(u.d(1),u=null),m&9&&(r=Gn(d[0].x,d[0].y,d[3])),r?f?f.p(d,m):(f=Vu(d),f.c(),f.m(e,l)):f&&(f.d(1),f=null),d[0].active?c?(c.p(d,m),m&1&&y(c,1)):(c=Wu(d),c.c(),y(c,1),c.m(e,null)):c&&(Ie(),A(c,1,1,()=>{c=null}),Me())},i(d){a||(y(c),a=!0)},o(d){A(c),a=!1},d(d){d&&I(e),s&&s.d(),u&&u.d(),f&&f.d(),c&&c.d()}}}function K3(t){let e,o,n,i;return e=new ho({props:{$$slots:{default:[V3]},$$scope:{ctx:t}}}),n=new mo({props:{class:"max-w-64 rounded-3xl "+(t[0].type<0&&!t[0].water?"hidden":""),$$slots:{default:[U3]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),o=H(),U(n.$$.fragment)},m(r,l){W(e,r,l),O(r,o,l),W(n,r,l),i=!0},p(r,l){const a={};l&8303&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&1&&(s.class="max-w-64 rounded-3xl "+(r[0].type<0&&!r[0].water?"hidden":"")),l&8217&&(s.$$scope={dirty:l,ctx:r}),n.$set(s)},i(r){i||(y(e.$$.fragment,r),y(n.$$.fragment,r),i=!0)},o(r){A(e.$$.fragment,r),A(n.$$.fragment,r),i=!1},d(r){r&&I(o),Y(e,r),Y(n,r)}}}function J3(t){let e,o;return e=new po({props:{openDelay:400,closeDelay:0,$$slots:{default:[K3]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,[i]){const r={};i&8319&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){A(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function X3(t,e,o){let n,i,r,l,a,s;se(t,Qe,p=>o(5,n=p)),se(t,Oe,p=>o(3,i=p)),se(t,Tt,p=>o(11,r=p)),se(t,vi,p=>o(12,l=p)),se(t,Ft,p=>o(10,a=p)),se(t,zn,p=>o(6,s=p));let{data:u={id:0,active:!1,x:0,y:0,type:-1,styling:"",mineralSource:!1,disabled:!1,water:!1}}=e,f,{classText:c=""}=e,{canBeUpgraded:d=!1}=e;const m=(p,w)=>i.liege_location!=null&&p==i.liege_location[0]&&w==i.liege_location[1];function _(p,w,v){if(localStorage.getItem($t)!=null)return;let S=document.querySelectorAll(".plot_container");if(r==!1)if(!u.active&&!d)Ae(vi,l={},l),Ae(Qe,n.visible=!1,n),S.forEach(D=>{D.classList.remove("selected")});else{w!=null&&v!=null?(Ae(Qe,n.x=w,n),Ae(Qe,n.y=v,n)):(Ae(Qe,n.x=u.x,n),Ae(Qe,n.y=u.y,n)),Ae(Qe,n.isMineralSource=u.mineralSource,n),Ae(Qe,n.visible=!0,n);const D=document.querySelector(`.plot_container[data-id="${u.id}"]`),j=document.documentElement||document.body,F=D.getBoundingClientRect(),R=window.innerHeight||j.clientHeight,P=window.innerWidth||j.clientWidth,E=j.scrollTop+F.top-R/2+225,q=j.scrollLeft+F.left-P/2;window.scrollTo({top:E,left:q,behavior:"smooth"}),S.forEach(M=>{M.classList.remove("selected")}),w!=null&&v!=null?document.querySelector(`.plot_container[data-x="${w}"][data-y="${v}"]`).classList.add("selected"):document.querySelector(`.plot_container[data-id="${u.id}"]`).classList.add("selected")}}function h(p){r==!1&&(Ae(Oe,i.plots[u.x][u.y].type=p,i),Ae(Qe,n.visible=!1,n))}return t.$$set=p=>{"data"in p&&o(0,u=p.data),"classText"in p&&o(1,c=p.classText),"canBeUpgraded"in p&&o(2,d=p.canBeUpgraded)},t.$$.update=()=>{t.$$.dirty&1033&&(u.type>-1&&o(4,f=te[u.type]),u.disabled==!0&&a.visible==!1&&(Zn(u.x,u.y,i),o(0,u.disabled=!1,u),Ae(Ft,a.visible=!1,a)))},[u,c,d,i,f,n,s,m,_,h,a]}class Z3 extends he{constructor(e){super(),pe(this,e,X3,J3,de,{data:0,classText:1,canBeUpgraded:2,changePlotType:9})}get changePlotType(){return this.$$.ctx[9]}}function Yu(t,e,o){const n=t.slice();return n[8]=e[o],n[10]=o,n}function Uu(t,e,o){const n=t.slice();return n[11]=e[o],n}function Ku(t){let e,o,n,i,r,l,a,s,u,f,c,d=t[3],m,_,h=He(t[1].plots),p=[];for(let S=0;S<h.length;S+=1)p[S]=Xu(Yu(t,h,S));const w=S=>A(p[S],1,1,()=>{p[S]=null});a=new Bu({props:{direction:"east"}}),f=new Bu({props:{direction:"south"}});let v=Qu(t);return{c(){e=T("div"),o=T("div"),n=T("div"),i=T("div");for(let S=0;S<p.length;S+=1)p[S].c();r=H(),l=T("span"),U(a.$$.fragment),s=H(),u=T("span"),U(f.$$.fragment),c=H(),v.c(),m=Le(),$(i,"class","grid plot_controller svelte-1udphho"),$(n,"class","flex flex-row items-center"),$(o,"style",t[2]),$(o,"id","plotContainerMain"),$(o,"class","items-center h-max flex flex-col pr-80 pb-80  svelte-1udphho"),$(e,"class","flex flex-col")},m(S,D){O(S,e,D),b(e,o),b(o,n),b(n,i);for(let j=0;j<p.length;j+=1)p[j]&&p[j].m(i,null);b(n,r),b(n,l),W(a,l,null),b(o,s),b(o,u),W(f,u,null),O(S,c,D),v.m(S,D),O(S,m,D),_=!0},p(S,D){if(D&3){h=He(S[1].plots);let j;for(j=0;j<h.length;j+=1){const F=Yu(S,h,j);p[j]?(p[j].p(F,D),y(p[j],1)):(p[j]=Xu(F),p[j].c(),y(p[j],1),p[j].m(i,null))}for(Ie(),j=h.length;j<p.length;j+=1)w(j);Me()}(!_||D&4)&&$(o,"style",S[2]),D&8&&de(d,d=S[3])?(Ie(),A(v,1,1,Te),Me(),v=Qu(S),v.c(),y(v,1),v.m(m.parentNode,m)):v.p(S,D)},i(S){if(!_){for(let D=0;D<h.length;D+=1)y(p[D]);y(a.$$.fragment,S),y(f.$$.fragment,S),y(v),_=!0}},o(S){p=p.filter(Boolean);for(let D=0;D<p.length;D+=1)A(p[D]);A(a.$$.fragment,S),A(f.$$.fragment,S),A(v),_=!1},d(S){S&&(I(e),I(c),I(m)),rt(p,S),Y(a),Y(f),v.d(S)}}}function Ju(t){let e,o;return e=new Z3({props:{classText:"hexagon",data:t[11],canBeUpgraded:_i(t[11].x,t[11].y,t[1])}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,i){const r={};i&2&&(r.data=n[11]),i&2&&(r.canBeUpgraded=_i(n[11].x,n[11].y,n[1])),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){A(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function Xu(t){let e,o,n,i,r,l=He(t[8]),a=[];for(let u=0;u<l.length;u+=1)a[u]=Ju(Uu(t,l,u));const s=u=>A(a[u],1,1,()=>{a[u]=null});return{c(){e=T("div");for(let u=0;u<a.length;u+=1)a[u].c();o=H(),$(e,"class","row "+(t[10]%2!==0?"odd-row":"")+" svelte-1udphho")},m(u,f){O(u,e,f);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(e,null);b(e,o),n=!0,i||(r=z(e,"click",t[0]),i=!0)},p(u,f){if(f&2){l=He(u[8]);let c;for(c=0;c<l.length;c+=1){const d=Uu(u,l,c);a[c]?(a[c].p(d,f),y(a[c],1)):(a[c]=Ju(d),a[c].c(),y(a[c],1),a[c].m(e,o))}for(Ie(),c=l.length;c<a.length;c+=1)s(c);Me()}},i(u){if(!n){for(let f=0;f<l.length;f+=1)y(a[f]);n=!0}},o(u){a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)A(a[f]);n=!1},d(u){u&&I(e),rt(a,u),i=!1,r()}}}function Zu(t){let e,o;return e=new nd({props:{x:t[4].x,y:t[4].y,open:t[4].visible}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,i){const r={};i&16&&(r.x=n[4].x),i&16&&(r.y=n[4].y),i&16&&(r.open=n[4].visible),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){A(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function Qu(t){let e,o,n=t[4].visible&&Zu(t);return{c(){n&&n.c(),e=Le()},m(i,r){n&&n.m(i,r),O(i,e,r),o=!0},p(i,r){i[4].visible?n?(n.p(i,r),r&16&&y(n,1)):(n=Zu(i),n.c(),y(n,1),n.m(e.parentNode,e)):n&&(Ie(),A(n,1,1,()=>{n=null}),Me())},i(i){o||(y(n),o=!0)},o(i){A(n),o=!1},d(i){i&&I(e),n&&n.d(i)}}}function Q3(t){let e,o,n=t[1]!=null&&Ku(t);return{c(){n&&n.c(),e=Le()},m(i,r){n&&n.m(i,r),O(i,e,r),o=!0},p(i,[r]){i[1]!=null?n?(n.p(i,r),r&2&&y(n,1)):(n=Ku(i),n.c(),y(n,1),n.m(e.parentNode,e)):n&&(Ie(),A(n,1,1,()=>{n=null}),Me())},i(i){o||(y(n),o=!0)},o(i){A(n),o=!1},d(i){i&&I(e),n&&n.d(i)}}}const Sr="plotsSize";function z3(t,e,o){let n,i,r;se(t,vi,c=>o(3,n=c)),se(t,Oe,c=>o(1,i=c)),se(t,Qe,c=>o(4,r=c));let l,a=localStorage.getItem(Sr)?parseInt(localStorage.getItem(Sr)):0,s=["margin-left: 300px; margin-top: 200px; scale: 1;","margin-left: 650px; margin-top: 600px; scale: 1.5;","margin-left: -50px; margin-top: -50px; scale: 0.6;"];document.addEventListener("keypress",function(c){c.key==="z"&&(a==s.length-1?o(5,a=0):o(5,a++,a),localStorage.setItem(Sr,a.toString()))}),document.addEventListener("click",function(c){const d=c.target;(d.dataset.x==null&&d.dataset.type!="-1"&&d.dataset.size!=null||d.id=="plotContainerMain"||d.classList.contains("row")||d.classList.contains("grid"))&&Ae(Qe,r.visible=!1,r)});function u(){let c=[];for(let d=0;d<i.plots.length;d++)for(let m=0;m<i.plots.length;m++)_i(d,m,i)&&i.plots[d][m].active==!1&&c.push(i.plots[d][m])}function f(){Ae(vi,n={},n)}return t.$$.update=()=>{t.$$.dirty&2&&i&&u(),t.$$.dirty&32&&o(2,l=s[a])},[f,i,l,n,r,a]}class e4 extends he{constructor(e){super(),pe(this,e,z3,Q3,de,{restartModifyPlotMenu:0})}get restartModifyPlotMenu(){return this.$$.ctx[0]}}function zu(t,e,o){const n=t.slice();return n[5]=e[o],n}function ef(t){let e,o;return e=new U_({props:{thumb:t[5],class:"block h-4 w-4  bg-accent focus-visible:outline-none  disabled:pointer-events-none disabled:opacity-50"}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,i){const r={};i&16&&(r.thumb=n[5]),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){A(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function t4(t){let e,o,n,i,r;o=new x_({props:{class:"absolute h-full bg-primary"}});let l=He(t[4]),a=[];for(let u=0;u<l.length;u+=1)a[u]=ef(zu(t,l,u));const s=u=>A(a[u],1,1,()=>{a[u]=null});return{c(){e=T("span"),U(o.$$.fragment),n=H();for(let u=0;u<a.length;u+=1)a[u].c();i=Le(),$(e,"class","relative h-2 w-full grow overflow-hidden bg-black")},m(u,f){O(u,e,f),W(o,e,null),O(u,n,f);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(u,f);O(u,i,f),r=!0},p(u,f){if(f&16){l=He(u[4]);let c;for(c=0;c<l.length;c+=1){const d=zu(u,l,c);a[c]?(a[c].p(d,f),y(a[c],1)):(a[c]=ef(d),a[c].c(),y(a[c],1),a[c].m(i.parentNode,i))}for(Ie(),c=l.length;c<a.length;c+=1)s(c);Me()}},i(u){if(!r){y(o.$$.fragment,u);for(let f=0;f<l.length;f+=1)y(a[f]);r=!0}},o(u){A(o.$$.fragment,u),a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)A(a[f]);r=!1},d(u){u&&(I(e),I(n),I(i)),Y(o),rt(a,u)}}}function n4(t){let e,o,n;const i=[{class:je("relative flex w-full touch-none select-none items-center",t[1])},t[2]];function r(a){t[3](a)}let l={$$slots:{default:[t4,({thumbs:a})=>({4:a}),({thumbs:a})=>a?16:0]},$$scope:{ctx:t}};for(let a=0;a<i.length;a+=1)l=Q(l,i[a]);return t[0]!==void 0&&(l.value=t[0]),e=new L_({props:l}),Ne.push(()=>Wt(e,"value",r)),{c(){U(e.$$.fragment)},m(a,s){W(e,a,s),n=!0},p(a,[s]){const u=s&6?Se(i,[s&2&&{class:je("relative flex w-full touch-none select-none items-center",a[1])},s&4&&lt(a[2])]):{};s&272&&(u.$$scope={dirty:s,ctx:a}),!o&&s&1&&(o=!0,u.value=a[0],Gt(()=>o=!1)),e.$set(u)},i(a){n||(y(e.$$.fragment,a),n=!0)},o(a){A(e.$$.fragment,a),n=!1},d(a){Y(e,a)}}}function o4(t,e,o){const n=["class","value"];let i=ue(e,n),{class:r=void 0}=e,{value:l=[0]}=e;function a(s){l=s,o(0,l)}return t.$$set=s=>{e=Q(Q({},e),$e(s)),o(2,i=ue(e,n)),"class"in s&&o(1,r=s.class),"value"in s&&o(0,l=s.value)},[l,r,i,a]}class tf extends he{constructor(e){super(),pe(this,e,o4,n4,de,{class:1,value:0})}}function nf(t,e,o){const n=t.slice();return n[13]=e[o],n}function of(t){let e,o,n,i=t[13].day+"",r,l,a,s=t[13].message+"",u,f,c;return{c(){e=T("div"),o=T("p"),n=K("DAY "),r=K(i),l=H(),a=T("p"),u=K(s),f=H(),$(o,"class","font-mono text-[10px]  svelte-1m80q9z"),$(a,"class","text-xs svelte-1m80q9z"),$(e,"class",c="px-2 py-2 rounded-2xl fade-in mb-4 "+(t[13].vibe==Ze.BAD?"bg-white text-textDanger border ":t[13].vibe==Ze.GOOD?"bg-green-300":(t[13].vibe==Ze.NORMAL,"bg-accent"))+" svelte-1m80q9z")},m(d,m){O(d,e,m),b(e,o),b(o,n),b(o,r),b(e,l),b(e,a),b(a,u),b(e,f)},p(d,m){m&1&&i!==(i=d[13].day+"")&&ce(r,i),m&1&&s!==(s=d[13].message+"")&&ce(u,s),m&1&&c!==(c="px-2 py-2 rounded-2xl fade-in mb-4 "+(d[13].vibe==Ze.BAD?"bg-white text-textDanger border ":d[13].vibe==Ze.GOOD?"bg-green-300":(d[13].vibe==Ze.NORMAL,"bg-accent"))+" svelte-1m80q9z")&&$(e,"class",c)},d(d){d&&I(e)}}}function i4(t){let e,o,n,i,r,l,a,s,u,f=tt(t[0].economyAndLaws.tax_rate*100,0)+"",c,d,m,_,h,p,w,v,S,D,j=tt(t[0].townInfo.productivity,0)+"",F,R,P,E,q,M,C,k,N,B,L,J,Z,X,ne,ee,oe,we,ae,ie,qe,Ge,Ue,ot;_=new tf({props:{value:[t[0].economyAndLaws.tax_rate],onValueChange:t[7],min:0,max:.5,step:.05,disabled:localStorage.getItem($t)!=null,class:"cursor-pointer w-[75%]"}}),E=new tf({props:{value:[t[0].townInfo.productivity],onValueChange:t[6],min:0,max:200,step:5,disabled:localStorage.getItem($t)!=null,class:"cursor-pointer w-[75%]"}}),k=new At({props:{text:t[2]?"Select an active plot!":"👑 Set your location (boost)",onOpen:t[8]}}),B=new At({props:{text:"🧠 Sell Knowledge",onOpen:t[9]}}),J=new At({props:{text:"🏢 Manage City",onOpen:t[10]}}),X=new At({props:{text:t[0].lab.active_experiment!==null?`${t[0].lab.active_experiment.duration}`:"🧪 Manage Lab",onOpen:t[5],opacity:De("lab",t[0]).length>=1?100:30,onHoverText:De("lab",t[0]).length>=1?"":"Build a Lab to perform experiments. Experiments can save lives, make money, or generally improve your town."}});let g=He(t[0].townLog),x=[];for(let V=0;V<g.length;V+=1)x[V]=of(nf(t,g,V));return{c(){e=T("div"),o=T("div"),n=T("div"),i=T("div"),r=T("div"),l=T("div"),a=T("span"),a.textContent="Tax Rate",s=H(),u=T("span"),c=K(f),d=K("%"),m=H(),U(_.$$.fragment),h=H(),p=T("div"),w=T("div"),v=T("span"),v.textContent="Productivity",S=H(),D=T("span"),F=K(j),R=K("%"),P=H(),U(E.$$.fragment),q=H(),M=T("div"),C=T("div"),U(k.$$.fragment),N=H(),U(B.$$.fragment),L=H(),U(J.$$.fragment),Z=H(),U(X.$$.fragment),ne=H(),ee=T("div"),oe=T("div"),we=T("h3"),ae=H(),ie=T("div");for(let V=0;V<x.length;V+=1)x[V].c();$(a,"class","text-sm svelte-1m80q9z"),$(u,"class","text-sm svelte-1m80q9z"),$(l,"class","mb-1 svelte-1m80q9z"),$(r,"class","flex flex-col justify-center w-full text-center items-center gap-1 min-h-12 pb-2 rounded-xl svelte-1m80q9z"),$(v,"class","text-sm svelte-1m80q9z"),$(D,"class","text-sm svelte-1m80q9z"),$(w,"class","mb-1 svelte-1m80q9z"),$(p,"class","flex flex-col justify-center w-full text-center items-center gap-2 svelte-1m80q9z"),$(i,"class","flex flex-col gap-2 rounded-xl text-center justify-center mb-2 mt-0 pt-2 svelte-1m80q9z"),$(C,"class","flex flex-col gap-2 svelte-1m80q9z"),$(M,"class","svelte-1m80q9z"),$(we,"class","text-md cursor-pointer  svelte-1m80q9z"),$(oe,"class","flex flex-row gap-2 items-start justify-center pb-2 svelte-1m80q9z"),$(ie,"class","overflow-y-scroll h-[100%] w-[100%] pb-4 scroll-smooth svelte-1m80q9z"),$(ee,"class","svelte-1m80q9z"),$(n,"class","flex flex-col justify-center mx-2 gap-4 svelte-1m80q9z"),$(o,"class","w-[220px] text-sidebarText bg-sidebarBackground overflow-scroll border-foregroundDark border-4 bottom-4 z-10 fixed left-3 py-2 top-16 drop-shadow-xl rounded-xl transition-all duration-300 svelte-1m80q9z"),$(e,"class",qe="flex flex-row text-sidebarText bg-sidebarBackground overflow-clip "+(t[1].visible?"opacity-10":"")+" svelte-1m80q9z")},m(V,le){O(V,e,le),b(e,o),b(o,n),b(n,i),b(i,r),b(r,l),b(l,a),b(l,s),b(l,u),b(u,c),b(u,d),b(r,m),W(_,r,null),b(i,h),b(i,p),b(p,w),b(w,v),b(w,S),b(w,D),b(D,F),b(D,R),b(p,P),W(E,p,null),b(n,q),b(n,M),b(M,C),W(k,C,null),b(C,N),W(B,C,null),b(C,L),W(J,C,null),b(C,Z),W(X,C,null),b(n,ne),b(n,ee),b(ee,oe),b(oe,we),b(ee,ae),b(ee,ie);for(let me=0;me<x.length;me+=1)x[me]&&x[me].m(ie,null);Ge=!0,Ue||(ot=z(we,"click",t[11]),Ue=!0)},p(V,[le]){(!Ge||le&1)&&f!==(f=tt(V[0].economyAndLaws.tax_rate*100,0)+"")&&ce(c,f);const me={};le&1&&(me.value=[V[0].economyAndLaws.tax_rate]),_.$set(me),(!Ge||le&1)&&j!==(j=tt(V[0].townInfo.productivity,0)+"")&&ce(F,j);const Ce={};le&1&&(Ce.value=[V[0].townInfo.productivity]),E.$set(Ce);const Pe={};le&4&&(Pe.text=V[2]?"Select an active plot!":"👑 Set your location (boost)"),le&4&&(Pe.onOpen=V[8]),k.$set(Pe);const Ee={};le&8&&(Ee.onOpen=V[9]),B.$set(Ee);const We={};le&16&&(We.onOpen=V[10]),J.$set(We);const Re={};if(le&1&&(Re.text=V[0].lab.active_experiment!==null?`${V[0].lab.active_experiment.duration}`:"🧪 Manage Lab"),le&1&&(Re.opacity=De("lab",V[0]).length>=1?100:30),le&1&&(Re.onHoverText=De("lab",V[0]).length>=1?"":"Build a Lab to perform experiments. Experiments can save lives, make money, or generally improve your town."),X.$set(Re),le&1){g=He(V[0].townLog);let ke;for(ke=0;ke<g.length;ke+=1){const Ye=nf(V,g,ke);x[ke]?x[ke].p(Ye,le):(x[ke]=of(Ye),x[ke].c(),x[ke].m(ie,null))}for(;ke<x.length;ke+=1)x[ke].d(1);x.length=g.length}(!Ge||le&2&&qe!==(qe="flex flex-row text-sidebarText bg-sidebarBackground overflow-clip "+(V[1].visible?"opacity-10":"")+" svelte-1m80q9z"))&&$(e,"class",qe)},i(V){Ge||(y(_.$$.fragment,V),y(E.$$.fragment,V),y(k.$$.fragment,V),y(B.$$.fragment,V),y(J.$$.fragment,V),y(X.$$.fragment,V),Ge=!0)},o(V){A(_.$$.fragment,V),A(E.$$.fragment,V),A(k.$$.fragment,V),A(B.$$.fragment,V),A(J.$$.fragment,V),A(X.$$.fragment,V),Ge=!1},d(V){V&&I(e),Y(_),Y(E),Y(k),Y(B),Y(J),Y(X),rt(x,V),Ue=!1,ot()}}}function r4(t,e,o){let n,i,r,l,a;se(t,Oe,h=>o(0,n=h)),se(t,Qe,h=>o(1,i=h)),se(t,zn,h=>o(2,r=h)),se(t,Qn,h=>o(3,l=h)),se(t,Tn,h=>o(4,a=h)),localStorage.getItem("mute");function s(){n.hasLab&&Yn.set(!0)}function u(h){let p=n;p.townInfo.productivity=tt(h[0],2),Oe.set(p),localStorage.setItem(nt,JSON.stringify(p))}function f(h){let p=n;p.economyAndLaws.tax_rate=tt(h[0],2),Oe.set(p),localStorage.setItem(nt,JSON.stringify(p))}const c=function(){Ae(zn,r=!r,r)},d=function(){Ae(Qn,l=!l,l)},m=function(){Ae(Tn,a=!a,a)},_=()=>{Ae(Oe,n.townLog=[],n)};return localStorage.getItem("mute"),[n,i,r,l,a,s,u,f,c,d,m,_]}class l4 extends he{constructor(e){super(),pe(this,e,r4,i4,de,{})}}function s4(t){let e,o,n,i,r,l,a,s,u,f,c,d,m;return n=new q5({}),l=new l4({}),s=new e4({}),f=new ed({}),d=new nd({}),{c(){e=T("div"),o=T("div"),U(n.$$.fragment),i=H(),r=T("div"),U(l.$$.fragment),a=H(),U(s.$$.fragment),u=H(),U(f.$$.fragment),c=H(),U(d.$$.fragment),$(r,"class","flex flex-row text-accentText"),$(e,"class","flex flex-col max-h-[100%] justify-between")},m(_,h){O(_,e,h),b(e,o),W(n,o,null),b(e,i),b(e,r),W(l,r,null),b(r,a),W(s,r,null),b(r,u),W(f,r,null),b(r,c),W(d,r,null),m=!0},p:Te,i(_){m||(y(n.$$.fragment,_),y(l.$$.fragment,_),y(s.$$.fragment,_),y(f.$$.fragment,_),y(d.$$.fragment,_),m=!0)},o(_){A(n.$$.fragment,_),A(l.$$.fragment,_),A(s.$$.fragment,_),A(f.$$.fragment,_),A(d.$$.fragment,_),m=!1},d(_){_&&I(e),Y(n),Y(l),Y(s),Y(f),Y(d)}}}class a4 extends he{constructor(e){super(),pe(this,e,null,s4,de,{})}}function u4(t){let e=t[1].townInfo.name+"",o;return{c(){o=K(e)},m(n,i){O(n,o,i)},p(n,i){i&2&&e!==(e=n[1].townInfo.name+"")&&ce(o,e)},d(n){n&&I(o)}}}function f4(t){let e,o,n,i=t[1].townInfo.name+"",r,l,a,s,u,f;return{c(){e=T("span"),o=K("The town of "),n=T("span"),r=K(i),l=K(` has been
          founded!`),a=H(),s=T("span"),s.textContent=`Your goal is to build a great town and keep your people happy. Use the
          milestones on the right side as a guide.`,u=H(),f=T("span"),f.textContent="Start by building a set of homes, some farms, and a tree farm.",$(n,"class","text-accent")},m(c,d){O(c,e,d),b(e,o),b(e,n),b(n,r),b(e,l),O(c,a,d),O(c,s,d),O(c,u,d),O(c,f,d)},p(c,d){d&2&&i!==(i=c[1].townInfo.name+"")&&ce(r,i)},d(c){c&&(I(e),I(a),I(s),I(u),I(f))}}}function c4(t){let e,o,n,i;return e=new nn({props:{class:"text-xl font-semibold text-center",$$slots:{default:[u4]},$$scope:{ctx:t}}}),n=new co({props:{class:"text-center mt-2 text-sm text-sidebarText/80 flex flex-col gap-2",$$slots:{default:[f4]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),o=H(),U(n.$$.fragment)},m(r,l){W(e,r,l),O(r,o,l),W(n,r,l),i=!0},p(r,l){const a={};l&18&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&18&&(s.$$scope={dirty:l,ctx:r}),n.$set(s)},i(r){i||(y(e.$$.fragment,r),y(n.$$.fragment,r),i=!0)},o(r){A(e.$$.fragment,r),A(n.$$.fragment,r),i=!1},d(r){r&&I(o),Y(e,r),Y(n,r)}}}function d4(t){let e,o,n;return{c(){e=T("button"),e.textContent="Begin",$(e,"class","bg-accent hover:bg-accent/80 text-white px-4 py-2 rounded-md transition-colors")},m(i,r){O(i,e,r),o||(n=z(e,"click",t[2]),o=!0)},p:Te,d(i){i&&I(e),o=!1,n()}}}function m4(t){let e,o,n,i;return e=new gn({props:{$$slots:{default:[c4]},$$scope:{ctx:t}}}),n=new Ln({props:{class:"mt-4 flex justify-center",$$slots:{default:[d4]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),o=H(),U(n.$$.fragment)},m(r,l){W(e,r,l),O(r,o,l),W(n,r,l),i=!0},p(r,l){const a={};l&18&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&17&&(s.$$scope={dirty:l,ctx:r}),n.$set(s)},i(r){i||(y(e.$$.fragment,r),y(n.$$.fragment,r),i=!0)},o(r){A(e.$$.fragment,r),A(n.$$.fragment,r),i=!1},d(r){r&&I(o),Y(e,r),Y(n,r)}}}function p4(t){let e,o;return e=new on({props:{transition:lo,class:"bg-sidebarBackground text-sidebarText max-w-md rounded-md shadow-xl border border-accent p-4",$$slots:{default:[m4]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,i){const r={};i&19&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){A(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function h4(t){let e,o,n;function i(l){t[3](l)}let r={$$slots:{default:[p4]},$$scope:{ctx:t}};return t[0]!==void 0&&(r.open=t[0]),e=new rn({props:r}),Ne.push(()=>Wt(e,"open",i)),{c(){U(e.$$.fragment)},m(l,a){W(e,l,a),n=!0},p(l,[a]){const s={};a&19&&(s.$$scope={dirty:a,ctx:l}),!o&&a&1&&(o=!0,s.open=l[0],Gt(()=>o=!1)),e.$set(s)},i(l){n||(y(e.$$.fragment,l),n=!0)},o(l){A(e.$$.fragment,l),n=!1},d(l){Y(e,l)}}}function g4(t,e,o){let n,i;se(t,ai,a=>o(0,n=a)),se(t,Oe,a=>o(1,i=a));const r=()=>Ae(ai,n=!1,n);function l(a){n=a,ai.set(n)}return[n,i,r,l]}class _4 extends he{constructor(e){super(),pe(this,e,g4,h4,de,{})}}function rf(t,e,o){const n=t.slice();return n[7]=e[o],n}function b4(t){let e,o,n=t[0].townInfo.name+"",i,r,l,a,s=t[0].resources.bureaucracy+"",u;return{c(){e=T("div"),o=T("span"),i=K(n),r=H(),l=T("span"),a=K("🧑‍⚖️ "),u=K(s),$(e,"class","flex justify-between mr-10")},m(f,c){O(f,e,c),b(e,o),b(o,i),b(e,r),b(e,l),b(l,a),b(l,u)},p(f,c){c&1&&n!==(n=f[0].townInfo.name+"")&&ce(i,n),c&1&&s!==(s=f[0].resources.bureaucracy+"")&&ce(u,s)},d(f){f&&I(e)}}}function lf(t){let e,o,n,i,r,l,a,s,u,f,c,d,m,_,h=t[0].townInfo.guardians+"",p,w,v,S,D,j=t[0].townInfo.population_count-t[0].townInfo.employees+"",F,R,P;return e=new vt({props:{class:"mb-4"}}),d=new Ot({props:{class:`bg-accent rounded-2xl h-min select-none
            `+(t[0].townInfo.guardians<=0?"opacity-50 cursor-not-allowed":"")+`
            `,$$slots:{default:[v4]},$$scope:{ctx:t}}}),d.$on("click",t[2]),v=new Ot({props:{class:`bg-accent rounded-2xl h-min select-none
            
              `+(t[0].townInfo.employees>=t[0].townInfo.population_count?"opacity-50 cursor-not-allowed":"")+`
            `,$$slots:{default:[y4]},$$scope:{ctx:t}}}),v.$on("click",t[3]),{c(){U(e.$$.fragment),o=H(),n=T("div"),i=T("span"),i.textContent="Hire Guardians ⚔️",r=H(),l=T("br"),a=H(),s=T("span"),s.textContent=`Guardians work for you and are required to expand your kingdom.
            They do not generate revenue, but still require housing & food.`,u=H(),f=T("div"),c=T("div"),U(d.$$.fragment),m=H(),_=T("span"),p=K(h),w=H(),U(v.$$.fragment),S=H(),D=T("span"),F=K(j),R=K(`
              unemployed available for hire.`),$(i,"class","text-lg font-bold"),$(s,"class","text-sm"),$(_,"class","text-lg font-bold select-none px-2"),$(D,"class","w-max"),$(f,"class","flex flex-row justify-between align-middle items-center pt-2 pb-2 gap-2 "),$(n,"class","w-full")},m(E,q){W(e,E,q),O(E,o,q),O(E,n,q),b(n,i),b(n,r),b(n,l),b(n,a),b(n,s),b(n,u),b(n,f),b(f,c),W(d,c,null),b(c,m),b(c,_),b(_,p),b(c,w),W(v,c,null),b(f,S),b(f,D),b(D,F),b(D,R),P=!0},p(E,q){const M={};q&1&&(M.class=`bg-accent rounded-2xl h-min select-none
            `+(E[0].townInfo.guardians<=0?"opacity-50 cursor-not-allowed":"")+`
            `),q&1024&&(M.$$scope={dirty:q,ctx:E}),d.$set(M),(!P||q&1)&&h!==(h=E[0].townInfo.guardians+"")&&ce(p,h);const C={};q&1&&(C.class=`bg-accent rounded-2xl h-min select-none
            
              `+(E[0].townInfo.employees>=E[0].townInfo.population_count?"opacity-50 cursor-not-allowed":"")+`
            `),q&1024&&(C.$$scope={dirty:q,ctx:E}),v.$set(C),(!P||q&1)&&j!==(j=E[0].townInfo.population_count-E[0].townInfo.employees+"")&&ce(F,j)},i(E){P||(y(e.$$.fragment,E),y(d.$$.fragment,E),y(v.$$.fragment,E),P=!0)},o(E){A(e.$$.fragment,E),A(d.$$.fragment,E),A(v.$$.fragment,E),P=!1},d(E){E&&(I(o),I(n)),Y(e,E),Y(d),Y(v)}}}function v4(t){let e;return{c(){e=K("-")},m(o,n){O(o,e,n)},d(o){o&&I(e)}}}function y4(t){let e;return{c(){e=K("+")},m(o,n){O(o,e,n)},d(o){o&&I(e)}}}function w4(t){let e;return{c(){e=K("Build a City Hall to manage your city.")},m(o,n){O(o,e,n)},p:Te,i:Te,o:Te,d(o){o&&I(e)}}}function k4(t){let e,o,n,i,r=He(Er),l=[];for(let s=0;s<r.length;s+=1)l[s]=sf(rf(t,r,s));const a=s=>A(l[s],1,1,()=>{l[s]=null});return{c(){e=T("span"),e.textContent="Laws 🧑‍⚖️",o=H();for(let s=0;s<l.length;s+=1)l[s].c();n=Le(),$(e,"class","text-lg font-bold")},m(s,u){O(s,e,u),O(s,o,u);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(s,u);O(s,n,u),i=!0},p(s,u){if(u&1){r=He(Er);let f;for(f=0;f<r.length;f+=1){const c=rf(s,r,f);l[f]?(l[f].p(c,u),y(l[f],1)):(l[f]=sf(c),l[f].c(),y(l[f],1),l[f].m(n.parentNode,n))}for(Ie(),f=r.length;f<l.length;f+=1)a(f);Me()}},i(s){if(!i){for(let u=0;u<r.length;u+=1)y(l[u]);i=!0}},o(s){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)A(l[u]);i=!1},d(s){s&&(I(e),I(o),I(n)),rt(l,s)}}}function C4(t){let e,o=t[7].cost+"",n;return{c(){e=K("Enact for 🧑‍⚖️ "),n=K(o)},m(i,r){O(i,e,r),O(i,n,r)},d(i){i&&(I(e),I(n))}}}function S4(t){let e;return{c(){e=K("Repeal ❌")},m(o,n){O(o,e,n)},d(o){o&&I(e)}}}function A4(t){let e,o;function n(l,a){return a&1&&(e=null),e==null&&(e=!!l[0].economyAndLaws.enacted.includes(l[7].id)),e?S4:C4}let i=n(t,-1),r=i(t);return{c(){r.c(),o=Le()},m(l,a){r.m(l,a),O(l,o,a)},p(l,a){i!==(i=n(l,a))&&(r.d(1),r=i(l),r&&(r.c(),r.m(o.parentNode,o)))},d(l){l&&I(o),r.d(l)}}}function sf(t){let e,o,n,i,r,l,a;function s(){return t[4](t[7])}return i=new Ot({props:{class:`bg-accent rounded-2xl 
                `+(t[0].economyAndLaws.enacted.includes(t[7].id)?"bg-textDanger":"bg-accent")+`

                `+(t[0].economyAndLaws.enacted.includes(t[7].id)||t[7].cost<=t[0].resources.bureaucracy?"cursor-pointer":"cursor-not-allowed opacity-30")+`
                `,$$slots:{default:[A4]},$$scope:{ctx:t}}}),i.$on("click",s),l=new vt({props:{class:"bg-white opacity-30"}}),{c(){e=T("div"),o=T("span"),o.textContent=`${t[7].description}`,n=H(),U(i.$$.fragment),r=H(),U(l.$$.fragment),$(o,"class","text-sm"),$(e,"class","flex justify-between align-middle items-center pt-2 pb-2 gap-2 ")},m(u,f){O(u,e,f),b(e,o),b(e,n),W(i,e,null),O(u,r,f),W(l,u,f),a=!0},p(u,f){t=u;const c={};f&1&&(c.class=`bg-accent rounded-2xl 
                `+(t[0].economyAndLaws.enacted.includes(t[7].id)?"bg-textDanger":"bg-accent")+`

                `+(t[0].economyAndLaws.enacted.includes(t[7].id)||t[7].cost<=t[0].resources.bureaucracy?"cursor-pointer":"cursor-not-allowed opacity-30")+`
                `),f&1025&&(c.$$scope={dirty:f,ctx:t}),i.$set(c)},i(u){a||(y(i.$$.fragment,u),y(l.$$.fragment,u),a=!0)},o(u){A(i.$$.fragment,u),A(l.$$.fragment,u),a=!1},d(u){u&&(I(e),I(r)),Y(i),Y(l,u)}}}function T4(t){let e,o,n,i,r=De("city_hall",t[0]).length>0,l,a,s,u,f,c,d,m;e=new nn({props:{class:"text-lg",$$slots:{default:[b4]},$$scope:{ctx:t}}}),n=new co({props:{class:"w-full "}});let _=r&&lf(t);a=new vt({props:{class:"mb-4"}});const h=[k4,w4],p=[];function w(v,S){return S&1&&(f=null),f==null&&(f=De("city_hall",v[0]).length>0),f?0:1}return c=w(t,-1),d=p[c]=h[c](t),{c(){U(e.$$.fragment),o=H(),U(n.$$.fragment),i=H(),_&&_.c(),l=H(),U(a.$$.fragment),s=H(),u=T("div"),d.c(),$(u,"class","w-full")},m(v,S){W(e,v,S),O(v,o,S),W(n,v,S),O(v,i,S),_&&_.m(v,S),O(v,l,S),W(a,v,S),O(v,s,S),O(v,u,S),p[c].m(u,null),m=!0},p(v,S){const D={};S&1025&&(D.$$scope={dirty:S,ctx:v}),e.$set(D),S&1&&(r=De("city_hall",v[0]).length>0),r?_?(_.p(v,S),S&1&&y(_,1)):(_=lf(v),_.c(),y(_,1),_.m(l.parentNode,l)):_&&(Ie(),A(_,1,1,()=>{_=null}),Me());let j=c;c=w(v,S),c===j?p[c].p(v,S):(Ie(),A(p[j],1,1,()=>{p[j]=null}),Me(),d=p[c],d?d.p(v,S):(d=p[c]=h[c](v),d.c()),y(d,1),d.m(u,null))},i(v){m||(y(e.$$.fragment,v),y(n.$$.fragment,v),y(_),y(a.$$.fragment,v),y(d),m=!0)},o(v){A(e.$$.fragment,v),A(n.$$.fragment,v),A(_),A(a.$$.fragment,v),A(d),m=!1},d(v){v&&(I(o),I(i),I(l),I(s),I(u)),Y(e,v),Y(n,v),_&&_.d(v),Y(a,v),p[c].d()}}}function I4(t){let e,o,n,i;return e=new gn({props:{$$slots:{default:[T4]},$$scope:{ctx:t}}}),n=new Ln({}),{c(){U(e.$$.fragment),o=H(),U(n.$$.fragment)},m(r,l){W(e,r,l),O(r,o,l),W(n,r,l),i=!0},p(r,l){const a={};l&1025&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){i||(y(e.$$.fragment,r),y(n.$$.fragment,r),i=!0)},o(r){A(e.$$.fragment,r),A(n.$$.fragment,r),i=!1},d(r){r&&I(o),Y(e,r),Y(n,r)}}}function M4(t){let e,o;return e=new on({props:{class:"bg-foreground text-accentText h-[80vh] w-full scroll",$$slots:{default:[I4]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,i){const r={};i&1025&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){A(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function O4(t){let e,o,n;function i(l){t[5](l)}let r={$$slots:{default:[M4]},$$scope:{ctx:t}};return t[1]!==void 0&&(r.open=t[1]),e=new rn({props:r}),Ne.push(()=>Wt(e,"open",i)),{c(){U(e.$$.fragment)},m(l,a){W(e,l,a),n=!0},p(l,[a]){const s={};a&1025&&(s.$$scope={dirty:a,ctx:l}),!o&&a&2&&(o=!0,s.open=l[1],Gt(()=>o=!1)),e.$set(s)},i(l){n||(y(e.$$.fragment,l),n=!0)},o(l){A(e.$$.fragment,l),n=!1},d(l){Y(e,l)}}}function P4(t,e,o){let n,i;se(t,Oe,u=>o(0,n=u)),se(t,Tn,u=>o(1,i=u));const r=()=>{n.townInfo.guardians>0?(Ae(Oe,n.townInfo.guardians-=1,n),Ae(Oe,n.townInfo.employees-=1,n)):It.set("No guardians to fire.")},l=()=>{n.townInfo.employees<n.townInfo.population_count?(Ae(Oe,n.townInfo.guardians+=1,n),Ae(Oe,n.townInfo.employees+=1,n)):It.set("Not enough people.")},a=u=>{n.economyAndLaws.enacted.includes(u.id)?n.economyAndLaws.enacted.splice(n.economyAndLaws.enacted.indexOf(u.id),1):u.cost<=n.resources.bureaucracy?(Ae(Oe,n.resources.bureaucracy-=u.cost,n),n.economyAndLaws.enacted.push(u.id)):It.set("Not enough bureaucracy!")};function s(u){i=u,Tn.set(i)}return t.$$.update=()=>{t.$$.dirty&1},[n,i,r,l,a,s]}class N4 extends he{constructor(e){super(),pe(this,e,P4,O4,de,{})}}function E4(t){let e;return{c(){e=K("Got it")},m(o,n){O(o,e,n)},d(o){o&&I(e)}}}function R4(t){let e,o,n,i,r,l,a,s;return r=new _c({props:{class:"bg-accent hover:scale-105 min-w-[70%] transition-all duration-150 mt-2",$$slots:{default:[E4]},$$scope:{ctx:t}}}),r.$on("click",t[1]),a=new _l({}),{c(){e=T("span"),o=K("🛎️ "),n=new Jt(!1),i=H(),U(r.$$.fragment),l=H(),U(a.$$.fragment),n.a=null,$(e,"class","whitespace-pre-wrap overflow-scroll text-center sm:whitespace-normal break-all sm:text-md sm:font-semibold sm:py-4 sm:items-center sm:justify-center"),Je(e,"max-height","80%")},m(u,f){O(u,e,f),b(e,o),n.m(t[0],e),O(u,i,f),W(r,u,f),O(u,l,f),W(a,u,f),s=!0},p(u,f){(!s||f&1)&&n.p(u[0]);const c={};f&4&&(c.$$scope={dirty:f,ctx:u}),r.$set(c)},i(u){s||(y(r.$$.fragment,u),y(a.$$.fragment,u),s=!0)},o(u){A(r.$$.fragment,u),A(a.$$.fragment,u),s=!1},d(u){u&&(I(e),I(i),I(l)),Y(r,u),Y(a,u)}}}function $4(t){let e,o;return e=new bl({props:{class:`bg-foregroundDark text-white rounded-input shadow-3xl justify-center items-center flex flex-col py-2 text-lg font-semibold p-2 min-w-96 min-h-36
         sm:rounded-2xl sm:flex sm:flex-col sm:p-6 sm:text-md sm:font-semibold sm:py-4 sm:items-center sm:justify-center max-h-[50vh]

         `,$$slots:{default:[R4]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,i){const r={};i&5&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){A(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function L4(t){let e,o;return e=new vl({props:{open:t[0]!="",$$slots:{default:[$4]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,[i]){const r={};i&1&&(r.open=n[0]!=""),i&5&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){A(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function D4(t,e,o){let n;return se(t,It,r=>o(0,n=r)),[n,()=>{It.set("")}]}class j4 extends he{constructor(e){super(),pe(this,e,D4,L4,de,{})}}function af(t){let e,o,n,i;const r=[B4,F4],l=[];function a(s,u){return s[0]==null?0:1}return e=a(t),o=l[e]=r[e](t),{c(){o.c(),n=Le()},m(s,u){l[e].m(s,u),O(s,n,u),i=!0},p(s,u){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),A(l[f],1,1,()=>{l[f]=null}),Me(),o=l[e],o?o.p(s,u):(o=l[e]=r[e](s),o.c()),y(o,1),o.m(n.parentNode,n))},i(s){i||(y(o),i=!0)},o(s){A(o),i=!1},d(s){s&&I(n),l[e].d(s)}}}function F4(t){let e,o,n,i,r,l,a,s,u,f,c,d,m,_,h,p,w,v,S,D,j,F=t[2]==!0&&uf();o=new a4({}),i=new jm({}),l=new gv({}),s=new xv({}),f=new m5({}),d=new j5({}),_=new N4({}),p=new j4({}),v=new rv({});let R=t[0].environment.day==0&&t[3]&&ff();return{c(){F&&F.c(),e=H(),U(o.$$.fragment),n=H(),U(i.$$.fragment),r=H(),U(l.$$.fragment),a=H(),U(s.$$.fragment),u=H(),U(f.$$.fragment),c=H(),U(d.$$.fragment),m=H(),U(_.$$.fragment),h=H(),U(p.$$.fragment),w=H(),U(v.$$.fragment),S=H(),R&&R.c(),D=Le()},m(P,E){F&&F.m(P,E),O(P,e,E),W(o,P,E),O(P,n,E),W(i,P,E),O(P,r,E),W(l,P,E),O(P,a,E),W(s,P,E),O(P,u,E),W(f,P,E),O(P,c,E),W(d,P,E),O(P,m,E),W(_,P,E),O(P,h,E),W(p,P,E),O(P,w,E),W(v,P,E),O(P,S,E),R&&R.m(P,E),O(P,D,E),j=!0},p(P,E){P[2]==!0?F?E&4&&y(F,1):(F=uf(),F.c(),y(F,1),F.m(e.parentNode,e)):F&&(Ie(),A(F,1,1,()=>{F=null}),Me()),P[0].environment.day==0&&P[3]?R?E&9&&y(R,1):(R=ff(),R.c(),y(R,1),R.m(D.parentNode,D)):R&&(Ie(),A(R,1,1,()=>{R=null}),Me())},i(P){j||(y(F),y(o.$$.fragment,P),y(i.$$.fragment,P),y(l.$$.fragment,P),y(s.$$.fragment,P),y(f.$$.fragment,P),y(d.$$.fragment,P),y(_.$$.fragment,P),y(p.$$.fragment,P),y(v.$$.fragment,P),y(R),j=!0)},o(P){A(F),A(o.$$.fragment,P),A(i.$$.fragment,P),A(l.$$.fragment,P),A(s.$$.fragment,P),A(f.$$.fragment,P),A(d.$$.fragment,P),A(_.$$.fragment,P),A(p.$$.fragment,P),A(v.$$.fragment,P),A(R),j=!1},d(P){P&&(I(e),I(n),I(r),I(a),I(u),I(c),I(m),I(h),I(w),I(S),I(D)),F&&F.d(P),Y(o,P),Y(i,P),Y(l,P),Y(s,P),Y(f,P),Y(d,P),Y(_,P),Y(p,P),Y(v,P),R&&R.d(P)}}}function B4(t){let e,o;return e=new Ev({}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p:Te,i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){A(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function uf(t){let e,o;return e=new Jb({}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){A(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function ff(t){let e,o;return e=new _4({}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){A(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function q4(t){let e,o,n=(t[1]||t[0]==null)&&af(t);return{c(){n&&n.c(),e=Le()},m(i,r){n&&n.m(i,r),O(i,e,r),o=!0},p(i,[r]){i[1]||i[0]==null?n?(n.p(i,r),r&3&&y(n,1)):(n=af(i),n.c(),y(n,1),n.m(e.parentNode,e)):n&&(Ie(),A(n,1,1,()=>{n=null}),Me())},i(i){o||(y(n),o=!0)},o(i){A(n),o=!1},d(i){i&&I(e),n&&n.d(i)}}}const x4=1e-4;function G4(t,e,o){return{r:Math.round(t.r+(e.r-t.r)*o),g:Math.round(t.g+(e.g-t.g)*o),b:Math.round(t.b+(e.b-t.b)*o)}}function H4(t,e,o){let n,i,r,l,a,s,u,f,c,d,m;se(t,Qe,D=>o(8,n=D)),se(t,Tt,D=>o(2,i=D)),se(t,zn,D=>o(4,r=D)),se(t,Ft,D=>o(9,l=D)),se(t,Oe,D=>o(0,a=D)),se(t,yi,D=>o(10,s=D)),se(t,Tn,D=>o(11,u=D)),se(t,Yn,D=>o(12,f=D)),se(t,Qn,D=>o(13,c=D)),se(t,No,D=>o(14,d=D)),se(t,ai,D=>o(3,m=D));let _=!1;lv();const h=[{r:85,g:60,b:40},{r:115,g:85,b:55},{r:70,g:100,b:50},{r:120,g:65,b:50}];let p=0,w=1,v=0;function S(){const D=G4(h[p],h[w],v);document.body.style.backgroundColor=`rgb(${D.r}, ${D.g}, ${D.b})`,v+=x4,v>=1&&(v=0,p=w,w=(w+1)%h.length),requestAnimationFrame(S)}return S(),document.addEventListener("keydown",D=>{if((document.activeElement!=null&&document.activeElement.nodeName==="INPUT"||document.activeElement!=null&&document.activeElement.nodeName=="TEXTAREA")&&D.key!=="Escape")return;switch(D.key.toLowerCase()){case"p":case"escape":if(c){Ae(Qn,c=!1,c);break}if(f){Ae(Yn,f=!1,f);break}if(u){Ae(Tn,u=!1,u);break}if(s){Ae(yi,s=!1,s);break}if(n.visible){Ae(Qe,n.visible=!1,n);break}if(l.visible){const F=a.plots[l.x][l.y];F.active=!1,F.type=-1,F.disabled=!1,Ae(Ft,l.visible=!1,l);break}if(r){zn.set(!1),document.querySelectorAll(".plot_container").forEach(R=>{R.style.cursor=""});break}Tt.set(!i),i&&Ae(Qe,n.visible=!1,n);break}}),t.$$.update=()=>{t.$$.dirty&17&&(a?(Ae(No,d.visible=!1,d),o(1,_=!0),r==!0&&document.querySelectorAll(".plot_container").forEach(j=>{j.dataset.canbeupgraded=="true"&&(j.style.cursor="pointer",j.style.cursor="url('https://github.com/josephrcox/plots/raw/main/public/liege_place.cur'), auto")})):(Ae(No,d.visible=!0,d),o(1,_=!1)))},[a,_,i,m,r]}class V4 extends he{constructor(e){super(),pe(this,e,H4,q4,de,{})}}new V4({target:document.getElementById("app")});
