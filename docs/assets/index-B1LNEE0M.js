var md=Object.defineProperty;var pd=(t,e,n)=>e in t?md(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var fn=(t,e,n)=>(pd(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();function hd(t){const e=pako.gzip(JSON.stringify(t));return btoa(String.fromCharCode.apply(null,e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function _d(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=atob(e),o=new Uint8Array(n.length);for(let r=0;r<n.length;r++)o[r]=n.charCodeAt(r);const i=pako.ungzip(o,{to:"string"});return JSON.parse(i)}async function Cf(){let t=localStorage.getItem("plots_active_game_db");const e=await hd(t);return window.location.hostname=="localhost"?"http://localhost:5173/?shareId="+e:"http://plots.jsph.cx/?shareId="+e}const ur=window.location.search.substring(1).split("&").reduce((t,e)=>{const[n,o]=e.split("=");return t[n]=o,t},{});if(ur.shareId!=null||ur.shareId!=null){console.log("DECRYPING FROM shareId");const t=JSON.parse(_d(ur.shareId));localStorage.setItem("plots_temp_game_db",JSON.stringify(t)),console.log("DECRYPED DATA",t)}else localStorage.removeItem("plots_temp_game_db"),console.log("COMPRESSING GAME TO SHARE"),Cf();function Te(){}const Xi=t=>t;function Q(t,e){for(const n in e)t[n]=e[n];return t}function Sf(t){return t()}function Ll(){return Object.create(null)}function Ye(t){t.forEach(Sf)}function jt(t){return typeof t=="function"}function de(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function gd(t){return Object.keys(t).length===0}function rl(t,...e){if(t==null){for(const o of e)o(void 0);return Te}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Af(t){let e;return rl(t,n=>e=n)(),e}function ae(t,e,n){t.$$.on_destroy.push(rl(e,n))}function be(t,e,n,o){if(t){const i=Tf(t,e,n,o);return t[0](i)}}function Tf(t,e,n,o){return t[1]&&o?Q(n.ctx.slice(),t[1](o(e))):n.ctx}function ye(t,e,n,o){if(t[2]&&o){const i=t[2](o(n));if(e.dirty===void 0)return i;if(typeof i=="object"){const r=[],l=Math.max(e.dirty.length,i.length);for(let a=0;a<l;a+=1)r[a]=e.dirty[a]|i[a];return r}return e.dirty|i}return e.dirty}function ve(t,e,n,o,i,r){if(i){const l=Tf(e,n,o,r);t.p(l,i)}}function we(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let o=0;o<n;o++)e[o]=-1;return e}return-1}function Le(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function fe(t,e){const n={};e=new Set(e);for(const o in t)!e.has(o)&&o[0]!=="$"&&(n[o]=t[o]);return n}function Ie(t,e,n){return t.set(n),e}function Ge(t){return t&&jt(t.destroy)?t.destroy:Te}const If=typeof window<"u";let ll=If?()=>window.performance.now():()=>Date.now(),sl=If?t=>requestAnimationFrame(t):Te;const Qn=new Set;function Mf(t){Qn.forEach(e=>{e.c(t)||(Qn.delete(e),e.f())}),Qn.size!==0&&sl(Mf)}function al(t){let e;return Qn.size===0&&sl(Mf),{promise:new Promise(n=>{Qn.add(e={c:t,f:n})}),abort(){Qn.delete(e)}}}const bd=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function b(t,e){t.appendChild(e)}function Of(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function yd(t){const e=M("style");return e.textContent="/* empty */",vd(Of(t),e),e.sheet}function vd(t,e){return b(t.head||t,e),e.sheet}function T(t,e,n){t.insertBefore(e,n||null)}function A(t){t.parentNode&&t.parentNode.removeChild(t)}function it(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function M(t){return document.createElement(t)}function Zi(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function V(t){return document.createTextNode(t)}function H(){return V(" ")}function De(){return V("")}function te(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function wd(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function $(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}const kd=["width","height"];function ce(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const o in e)e[o]==null?t.removeAttribute(o):o==="style"?t.style.cssText=e[o]:o==="__value"?t.value=t[o]=e[o]:n[o]&&n[o].set&&kd.indexOf(o)===-1?t[o]=e[o]:$(t,o,e[o])}function vi(t,e){for(const n in e)$(t,n,e[n])}function Cd(t,e){Object.keys(e).forEach(n=>{Sd(t,n,e[n])})}function Sd(t,e,n){const o=e.toLowerCase();o in t?t[o]=typeof t[o]=="boolean"&&n===""?!0:n:e in t?t[e]=typeof t[e]=="boolean"&&n===""?!0:n:$(t,e,n)}function gn(t){return/-/.test(t)?Cd:ce}function Ad(t){return Array.from(t.childNodes)}function ue(t,e){e=""+e,t.data!==e&&(t.data=e)}function wi(t,e){t.value=e??""}function Qe(t,e,n,o){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,"")}function Dl(t,e,n){for(let o=0;o<t.options.length;o+=1){const i=t.options[o];if(i.__value===e){i.selected=!0;return}}t.selectedIndex=-1}function ht(t,e,n){t.classList.toggle(e,!!n)}function Pf(t,e,{bubbles:n=!1,cancelable:o=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:o})}class Zt{constructor(e=!1){fn(this,"is_svg",!1);fn(this,"e");fn(this,"n");fn(this,"t");fn(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,n,o=null){this.e||(this.is_svg?this.e=Zi(n.nodeName):this.e=M(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(e)),this.i(o)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)T(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(A)}}const ki=new Map;let Ci=0;function Td(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function Id(t,e){const n={stylesheet:yd(e),rules:{}};return ki.set(t,n),n}function Si(t,e,n,o,i,r,l,a=0){const s=16.666/o;let u=`{
`;for(let h=0;h<=1;h+=s){const w=e+(n-e)*r(h);u+=h*100+`%{${l(w,1-w)}}
`}const f=u+`100% {${l(n,1-n)}}
}`,c=`__svelte_${Td(f)}_${a}`,d=Of(t),{stylesheet:m,rules:p}=ki.get(d)||Id(d,t);p[c]||(p[c]=!0,m.insertRule(`@keyframes ${c} ${f}`,m.cssRules.length));const _=t.style.animation||"";return t.style.animation=`${_?`${_}, `:""}${c} ${o}ms linear ${i}ms 1 both`,Ci+=1,c}function Ai(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?r=>r.indexOf(e)<0:r=>r.indexOf("__svelte")===-1),i=n.length-o.length;i&&(t.style.animation=o.join(", "),Ci-=i,Ci||Md())}function Md(){sl(()=>{Ci||(ki.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&A(e)}),ki.clear())})}let Go;function Fo(t){Go=t}function Xo(){if(!Go)throw new Error("Function called outside component initialization");return Go}function Zo(t){Xo().$$.on_mount.push(t)}function Nf(t){Xo().$$.on_destroy.push(t)}function Od(){const t=Xo();return(e,n,{cancelable:o=!1}={})=>{const i=t.$$.callbacks[e];if(i){const r=Pf(e,n,{cancelable:o});return i.slice().forEach(l=>{l.call(t,r)}),!r.defaultPrevented}return!0}}function Qi(t,e){return Xo().$$.context.set(t,e),e}function zi(t){return Xo().$$.context.get(t)}function le(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(o=>o.call(this,e))}const Jn=[],Ee=[];let zn=[];const Nr=[],Ef=Promise.resolve();let Er=!1;function $f(){Er||(Er=!0,Ef.then(Rf))}function ul(){return $f(),Ef}function nt(t){zn.push(t)}function Wt(t){Nr.push(t)}const fr=new Set;let Wn=0;function Rf(){if(Wn!==0)return;const t=Go;do{try{for(;Wn<Jn.length;){const e=Jn[Wn];Wn++,Fo(e),Pd(e.$$)}}catch(e){throw Jn.length=0,Wn=0,e}for(Fo(null),Jn.length=0,Wn=0;Ee.length;)Ee.pop()();for(let e=0;e<zn.length;e+=1){const n=zn[e];fr.has(n)||(fr.add(n),n())}zn.length=0}while(Jn.length);for(;Nr.length;)Nr.pop()();Er=!1,fr.clear(),Fo(t)}function Pd(t){if(t.fragment!==null){t.update(),Ye(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(nt)}}function Nd(t){const e=[],n=[];zn.forEach(o=>t.indexOf(o)===-1?e.push(o):n.push(o)),n.forEach(o=>o()),zn=e}let So;function fl(){return So||(So=Promise.resolve(),So.then(()=>{So=null})),So}function Mn(t,e,n){t.dispatchEvent(Pf(`${e?"intro":"outro"}${n}`))}const mi=new Set;let qt;function Me(){qt={r:0,c:[],p:qt}}function Oe(){qt.r||Ye(qt.c),qt=qt.p}function k(t,e){t&&t.i&&(mi.delete(t),t.i(e))}function S(t,e,n,o){if(t&&t.o){if(mi.has(t))return;mi.add(t),qt.c.push(()=>{mi.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}else o&&o()}const cl={duration:0};function xt(t,e,n){const o={direction:"in"};let i=e(t,n,o),r=!1,l,a,s=0;function u(){l&&Ai(t,l)}function f(){const{delay:d=0,duration:m=300,easing:p=Xi,tick:_=Te,css:h}=i||cl;h&&(l=Si(t,0,1,m,d,p,h,s++)),_(0,1);const w=ll()+d,y=w+m;a&&a.abort(),r=!0,nt(()=>Mn(t,!0,"start")),a=al(C=>{if(r){if(C>=y)return _(1,0),Mn(t,!0,"end"),u(),r=!1;if(C>=w){const R=p((C-w)/m);_(R,1-R)}}return r})}let c=!1;return{start(){c||(c=!0,Ai(t),jt(i)?(i=i(o),fl().then(f)):f())},invalidate(){c=!1},end(){r&&(u(),r=!1)}}}function Yt(t,e,n){const o={direction:"out"};let i=e(t,n,o),r=!0,l;const a=qt;a.r+=1;let s;function u(){const{delay:f=0,duration:c=300,easing:d=Xi,tick:m=Te,css:p}=i||cl;p&&(l=Si(t,1,0,c,f,d,p));const _=ll()+f,h=_+c;nt(()=>Mn(t,!1,"start")),"inert"in t&&(s=t.inert,t.inert=!0),al(w=>{if(r){if(w>=h)return m(0,1),Mn(t,!1,"end"),--a.r||Ye(a.c),!1;if(w>=_){const y=d((w-_)/c);m(1-y,y)}}return r})}return jt(i)?fl().then(()=>{i=i(o),u()}):u(),{end(f){f&&"inert"in t&&(t.inert=s),f&&i.tick&&i.tick(1,0),r&&(l&&Ai(t,l),r=!1)}}}function gt(t,e,n,o){let r=e(t,n,{direction:"both"}),l=o?0:1,a=null,s=null,u=null,f;function c(){u&&Ai(t,u)}function d(p,_){const h=p.b-l;return _*=Math.abs(h),{a:l,b:p.b,d:h,duration:_,start:p.start,end:p.start+_,group:p.group}}function m(p){const{delay:_=0,duration:h=300,easing:w=Xi,tick:y=Te,css:C}=r||cl,R={start:ll()+_,b:p};p||(R.group=qt,qt.r+=1),"inert"in t&&(p?f!==void 0&&(t.inert=f):(f=t.inert,t.inert=!0)),a||s?s=R:(C&&(c(),u=Si(t,l,p,h,_,w,C)),p&&y(0,1),a=d(R,h),nt(()=>Mn(t,p,"start")),al(D=>{if(s&&D>s.start&&(a=d(s,h),s=null,Mn(t,a.b,"start"),C&&(c(),u=Si(t,l,a.b,a.duration,0,w,r.css))),a){if(D>=a.end)y(l=a.b,1-l),Mn(t,a.b,"end"),s||(a.b?c():--a.group.r||Ye(a.group.c)),a=null;else if(D>=a.start){const F=D-a.start;l=a.a+a.d*w(F/a.duration),y(l,1-l)}}return!!(a||s)}))}return{run(p){jt(r)?fl().then(()=>{r=r({direction:p?"in":"out"}),m(p)}):m(p)},end(){c(),a=s=null}}}function xe(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Ed(t,e){S(t,1,1,()=>{e.delete(t.key)})}function $d(t,e,n,o,i,r,l,a,s,u,f,c){let d=t.length,m=r.length,p=d;const _={};for(;p--;)_[t[p].key]=p;const h=[],w=new Map,y=new Map,C=[];for(p=m;p--;){const N=c(i,r,p),P=n(N);let E=l.get(P);E?C.push(()=>E.p(N,e)):(E=u(P,N),E.c()),w.set(P,h[p]=E),P in _&&y.set(P,Math.abs(p-_[P]))}const R=new Set,D=new Set;function F(N){k(N,1),N.m(a,f),l.set(N.key,N),f=N.first,m--}for(;d&&m;){const N=h[m-1],P=t[d-1],E=N.key,q=P.key;N===P?(f=N.first,d--,m--):w.has(q)?!l.has(E)||R.has(E)?F(N):D.has(q)?d--:y.get(E)>y.get(q)?(D.add(E),F(N)):(R.add(q),d--):(s(P,l),d--)}for(;d--;){const N=t[d];w.has(N.key)||s(N,l)}for(;m;)F(h[m-1]);return Ye(C),h}function Ce(t,e){const n={},o={},i={$$scope:1};let r=t.length;for(;r--;){const l=t[r],a=e[r];if(a){for(const s in l)s in a||(o[s]=1);for(const s in a)i[s]||(n[s]=a[s],i[s]=1);t[r]=a}else for(const s in l)i[s]=1}for(const l in o)l in n||(n[l]=void 0);return n}function rt(t){return typeof t=="object"&&t!==null?t:{}}function Ut(t,e,n){const o=t.$$.props[e];o!==void 0&&(t.$$.bound[o]=n,n(t.$$.ctx[o]))}function U(t){t&&t.c()}function x(t,e,n){const{fragment:o,after_update:i}=t.$$;o&&o.m(e,n),nt(()=>{const r=t.$$.on_mount.map(Sf).filter(jt);t.$$.on_destroy?t.$$.on_destroy.push(...r):Ye(r),t.$$.on_mount=[]}),i.forEach(nt)}function Y(t,e){const n=t.$$;n.fragment!==null&&(Nd(n.after_update),Ye(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Rd(t,e){t.$$.dirty[0]===-1&&(Jn.push(t),$f(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function pe(t,e,n,o,i,r,l=null,a=[-1]){const s=Go;Fo(t);const u=t.$$={fragment:null,ctx:[],props:r,update:Te,not_equal:i,bound:Ll(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(s?s.$$.context:[])),callbacks:Ll(),dirty:a,skip_bound:!1,root:e.target||s.$$.root};l&&l(u.root);let f=!1;if(u.ctx=n?n(t,e.props||{},(c,d,...m)=>{const p=m.length?m[0]:d;return u.ctx&&i(u.ctx[c],u.ctx[c]=p)&&(!u.skip_bound&&u.bound[c]&&u.bound[c](p),f&&Rd(t,c)),d}):[],u.update(),f=!0,Ye(u.before_update),u.fragment=o?o(u.ctx):!1,e.target){if(e.hydrate){const c=Ad(e.target);u.fragment&&u.fragment.l(c),c.forEach(A)}else u.fragment&&u.fragment.c();e.intro&&k(t.$$.fragment),x(t,e.target,e.anchor),Rf()}Fo(s)}class he{constructor(){fn(this,"$$");fn(this,"$$set")}$destroy(){Y(this,1),this.$destroy=Te}$on(e,n){if(!jt(n))return Te;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const i=o.indexOf(n);i!==-1&&o.splice(i,1)}}$set(e){this.$$set&&!gd(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Ld="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Ld);const xn=[];function On(t,e){return{subscribe:Ke(t,e).subscribe}}function Ke(t,e=Te){let n;const o=new Set;function i(a){if(de(t,a)&&(t=a,n)){const s=!xn.length;for(const u of o)u[1](),xn.push(u,t);if(s){for(let u=0;u<xn.length;u+=2)xn[u][0](xn[u+1]);xn.length=0}}}function r(a){i(a(t))}function l(a,s=Te){const u=[a,s];return o.add(u),o.size===1&&(n=e(i,r)||Te),a(t),()=>{o.delete(u),o.size===0&&n&&(n(),n=null)}}return{set:i,update:r,subscribe:l}}function nn(t,e,n){const o=!Array.isArray(t),i=o?[t]:t;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const r=e.length<2;return On(n,(l,a)=>{let s=!1;const u=[];let f=0,c=Te;const d=()=>{if(f)return;c();const p=e(o?u[0]:u,l,a);r?l(p):c=jt(p)?p:Te},m=i.map((p,_)=>rl(p,h=>{u[_]=h,f&=~(1<<_),s&&d()},()=>{f|=1<<_}));return s=!0,d(),function(){Ye(m),c(),s=!1}})}function jl(t){return{subscribe:t.subscribe.bind(t)}}const Lf={plots:[],timeSpent:0,lastChangeDay:0,townLog:[],currentTutorialStep:0,gameSettings:[],resource_capacity:1e3,townInfo:{name:"Your town",gold:150,population_count:0,population_max:0,employees:0,guardians:0,happiness:150,health:150,recreation:0,community:150,knowledge_points:0,productivity:100},kingdom_expansions:0,resources:{food:150,wood:750,stone:750,metal:5,power:0,bureaucracy:0},resource_rate:{food:0,wood:0,stone:0,metal:0,bureaucracy:0,knowledge:0},hasCityHall:!1,hasBank:!1,hasHospital:!1,hasLab:!1,modifiers:{happiness:1,health:1,community:1},economyAndLaws:{tax_rate:.1,max_tax_rate:1,weeklyProfit:0,knowledge_gold_market_rates:[],enacted:[]},plotCounts:[],environment:{day:0,year:1},maximums:{health:300,happiness:300,community:300},difficulty:0,endGoal:"land",endGameDetails:{msg:"",win:!1,still_playing:!0},tick:0,overtime:!1,last_warning_happiness:0,last_warning_health:0,lab:{active_experiment:null,past_experiments:[],xp:0},liege_location:null},Dd={username:"",stats:{games_played:0,wins:0,losses:0},achievements:[]};var et=(t=>(t[t.GOOD=0]="GOOD",t[t.BAD=1]="BAD",t[t.NORMAL=2]="NORMAL",t))(et||{}),dl=(t=>(t.START_GAME="start_game",t.BUILD_PLOT="build_plot",t))(dl||{});const Df={0:"Easy",1:"Normal",2:"Hard"},jd={0:Math.random()*(.5-.3)+.3,1:Math.random()*(.4-.2)+.2,2:Math.random()*(.4-.2)+.2},ie=[{id:"small_homes",emoji:"🏠",title:"Homes",type:"residential",description:"+16 people",revenue_per_week:0,requirements:{gold:150,plots:[],employees:0,knowledge:0,size:1,xp:0,resources:{food:0,wood:50,stone:10,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:16,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:2,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"Listen to the townspeople.",weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"large_homes",emoji:"🏡",title:"Large Homes",type:"residential",description:"+32 people",revenue_per_week:0,requirements:{gold:1800,plots:[],employees:0,knowledge:0,size:1,xp:0,resources:{food:0,wood:350,stone:100,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.01,health:1,community:1},immediate_variable_changes:{happiness:10,health:0,population:32,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:40,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"Listen to the townspeople.",weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"farm",emoji:"🥕",title:"Farm",type:"farm",description:"Produces veggies, grains, fruit",revenue_per_week:6,requirements:{gold:80,plots:[],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:10,stone:10,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.03,health:1.03,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:5,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},check_for_variety:!1,liege_on_plot_hint:"Your presence on the farm is encouraging the farmers to work harder!",weekly_effect_modifiers:{happiness:1,health:1.002,community:1.002}},{id:"tree_farm",emoji:"🌲",title:"Tree Farm",type:"lumber",description:"Produces some wood",revenue_per_week:8,requirements:{gold:300,plots:[],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},check_for_variety:!0,styling:"",affordable:null,selected:null,knowledge_points_per_month:0,generated_resources:{food:0,wood:10,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"Your presence on the farm is encouraging the farmers to work harder!",weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"quarry",emoji:"⛏️",title:"Quarry",type:"quarry",description:"Produces stone, small amounts of metal. Isn't great for health. ",revenue_per_week:0,requirements:{gold:2e3,plots:[],employees:6,knowledge:0,size:1,xp:0,resources:{food:0,wood:150,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1,health:.98,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:16,metal:1,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"The workers at the quarry are working harder with the presence of their liege.",weekly_effect_modifiers:{happiness:1,health:.998,community:.9998}},{id:"Apothecary",emoji:"🌿",title:"Apothecary",type:"medical",description:"Produces medicine from herbs and plants found in the forest. Increases health overall for a short bit. Fine until you can build a Healing House.",revenue_per_week:0,requirements:{gold:600,plots:[],employees:2,knowledge:0,size:1,xp:0,resources:{food:0,wood:250,stone:250,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.15,health:1.15,community:1},immediate_variable_changes:{happiness:25,health:30,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1.03,community:1}},{id:"livestock_farm",emoji:"🐄",title:"Livestock",type:"farm",description:"Makes more money and food than a regular farm, but doesn't bonus from water.",revenue_per_week:60,requirements:{gold:600,plots:[],employees:8,knowledge:0,size:1,xp:0,resources:{food:0,wood:20,stone:20,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.1,health:1.05,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:14,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},check_for_variety:!1,liege_on_plot_hint:"The cows are producing more milk and cheese when you are hanging out on the farm.",weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"stockpile",emoji:"📦",title:"Stockpile",type:"stockpile",description:"Enables you to store more resources. Costs gold weekly.",revenue_per_week:0,requirements:{gold:600,plots:[],employees:2,knowledge:0,size:1,xp:0,resources:{food:0,wood:220,stone:60,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:15,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},check_for_variety:!1,liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"adv_stockpile",emoji:"📦📦",title:"Adv. Stockpile",type:"stockpile",description:"Stores more than a normal Stockpile. Costs more to build & operate.",revenue_per_week:0,requirements:{gold:3e3,plots:[],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:2e3,stone:2e3,metal:200,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:100,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},check_for_variety:!1,liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"bakery",emoji:"🥖",title:"Bakery",type:"business",description:"Converts food into some extra cash. Make sure you have enough food.",revenue_per_week:80,requirements:{gold:1800,plots:[],employees:3,knowledge:0,size:1,xp:0,resources:{food:0,wood:300,stone:300,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.11,health:.95,community:1},immediate_variable_changes:{happiness:25,health:0,population:0,community:0,bureaucracy:0},check_for_variety:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:15},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"stables",emoji:"🐴",title:"Stables",type:"recreation",description:"Improves the health of the town and provides recreation.",revenue_per_week:24,requirements:{gold:1700,plots:[],employees:2,knowledge:0,size:1,xp:0,resources:{food:0,wood:280,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.2,health:1.2,community:1},immediate_variable_changes:{happiness:5,health:10,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"church",emoji:"⛪️",title:"Church",type:"recreation",description:"Great place to pray, make people happy, and build community. Also, generates a tiny bit of knowledge. ",revenue_per_week:0,requirements:{gold:1e3,plots:[],employees:1,knowledge:0,size:1,xp:0,resources:{food:0,wood:1250,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.1,health:1,community:1.2},immediate_variable_changes:{happiness:25,health:0,population:0,community:25,bureaucracy:0},knowledge_points_per_month:5,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1.002,health:1,community:1}},{id:"pub",emoji:"🍻",title:"Pub",type:"recreation",description:"Generates knowledge, happiness, community. Isn't great for health.",revenue_per_week:100,knowledge_points_per_month:5,requirements:{gold:2e3,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:1200,stone:250,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.2,health:.97,community:1.1},immediate_variable_changes:{happiness:10,health:-15,population:0,community:0,bureaucracy:0},check_for_variety:!0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1.001,health:.998,community:1}},{id:"village_market",emoji:"🛒",title:"Market",type:"shop",description:"Turns food into money. Sells goods and employs many. Makes significantly more money from tourism if you have a Village Inn.",revenue_per_week:150,requirements:{gold:6e3,plots:[],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:1600,stone:600,metal:5,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.05,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:15,wood:35,stone:0,metal:0,bureaucracy:0,food:35},liege_on_plot_hint:"Your presence is helping the market make more money.",weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"fishery",emoji:"🐠",title:"Fishery",type:"business",description:"Requires metal but generates a lot of food. Must be near water.",revenue_per_week:35,requirements:{gold:7500,plots:[],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:3e3,stone:0,metal:100,power:0,bureaucracy:0},adjacent_plots:["water"]},purchase_effect_modifiers:{happiness:1.05,health:1,community:1},immediate_variable_changes:{happiness:5,health:8,population:0,community:0,bureaucracy:0},check_for_variety:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:85,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"Your expertise in fishing is helping the town reel in far more fish!",weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"vineyard",emoji:"🍇",title:"Vineyard",type:"recreation",description:"Makes fair money, lowers health. Generates knowledge too similar to a pub.",revenue_per_week:60,requirements:{gold:1800,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:1200,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.2,health:.9,community:1},immediate_variable_changes:{happiness:0,health:-10,population:0,community:0,bureaucracy:0},knowledge_points_per_month:3,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1.001,health:.998,community:1}},{id:"water_wheel",emoji:"💧",title:"Water Wheel",type:"industrial",description:"Produces small amount of power",revenue_per_week:0,requirements:{gold:1600,plots:[],employees:15,knowledge:0,size:1,xp:0,resources:{food:0,wood:2e3,stone:25,metal:0,power:0,bureaucracy:0},adjacent_plots:["water"]},purchase_effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:35,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"You are trying to improve the efficiency of the water wheel, but you aren't making a difference.",weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"adv_water_wheel",emoji:"💧💧",title:"Adv. Water Wheel",type:"industrial",description:"Produces a large amount of power",revenue_per_week:0,requirements:{gold:3e3,plots:["blacksmith"],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:1200,stone:150,metal:500,power:0,bureaucracy:0},adjacent_plots:["water"]},purchase_effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:250,bureaucracy:0},level:4,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"You are trying to improve the efficiency of the water wheel, but you aren't making a difference.",weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"adv_farm",emoji:"🌾",title:"Adv. Farm",type:"farm",description:"Uses knowledge and technology to produce more food, with only 1 employee.",revenue_per_week:60,requirements:{gold:750,plots:[],employees:1,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:300,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:15,health:15,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:180,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:100,wood:0,stone:0,metal:3,bureaucracy:0,food:0},check_for_variety:!1,liege_on_plot_hint:"Your presence on the farm is encouraging the farmer to work harder!",weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"park",emoji:"🎪",title:"Park",type:"recreation",description:"Makes people extremely happy & healthy for a period. Improves community.",revenue_per_week:0,requirements:{gold:600,plots:[],employees:3,knowledge:0,size:1,xp:0,resources:{food:0,wood:100,stone:100,metal:10,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.5,health:1.5,community:1.3},immediate_variable_changes:{happiness:40,health:40,population:0,community:40,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1.002,community:1.002}},{id:"village_inn",emoji:"🛌",title:"Village Inn",type:"tourism",description:"Each inn brings more visitors to your town, increasing profits for the Market and other stores.",revenue_per_week:40,requirements:{gold:5500,plots:[],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:3e3,stone:100,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1,health:1,community:1.02},immediate_variable_changes:{happiness:10,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:20,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"schoolhouse",emoji:"🏫",title:"Schoolhouse",type:"education",description:"Produces knowledge, costs money to run.",revenue_per_week:0,knowledge_points_per_month:75,requirements:{gold:15e3,plots:["library"],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:3e3,stone:600,metal:100,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.1,health:1.1,community:1.2},immediate_variable_changes:{happiness:15,health:3,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:50,power:20,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"The children seem to be learning worse when you are around, maybe you are a distraction from the teachers.",weekly_effect_modifiers:{happiness:1,health:1.002,community:1.002}},{id:"academy",emoji:"🎓",title:"Academy",type:"education",description:"Produces a lot of knowledge, more than a schoolhouse or library, but costs gold every week.",revenue_per_week:0,knowledge_points_per_month:200,requirements:{gold:5e4,plots:[],employees:32,knowledge:1e3,size:1,xp:0,resources:{food:0,wood:4500,stone:4500,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:50,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:5,active_costs:{gold:150,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"blacksmith",emoji:"⚒️",title:"Blacksmith",type:"business",description:"Converts metal into tools for money. Make sure you have enough metal!",revenue_per_week:150,requirements:{gold:18e3,plots:[],employees:6,knowledge:0,size:1,xp:0,resources:{food:0,wood:250,stone:1e4,metal:1e3,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:30,wood:0,stone:0,metal:50,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"library",emoji:"📕",title:"Library",type:"recreation",description:"Produces knowledge and happiness",revenue_per_week:0,knowledge_points_per_month:20,requirements:{gold:2e3,plots:[],employees:6,knowledge:0,size:1,xp:0,resources:{food:0,wood:2025,stone:500,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.3,health:1,community:1.1},immediate_variable_changes:{happiness:15,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"lumber_mill",emoji:"🏭",title:"Lumber Mill",type:"industrial",description:"Increases wood production by 50%, has to be next to a tree farm, but increases production at all.",revenue_per_week:0,requirements:{gold:12e3,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:1500,stone:1500,metal:300,power:0,bureaucracy:0},adjacent_plots:["tree_farm"]},purchase_effect_modifiers:{happiness:1.2,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:50,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:40,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:.9998}},{id:"solar_farm",emoji:"☀️",title:"Solar farm",type:"industrial",description:"Produces a lot of power without the need of water. Requires a lot of metal every week.",revenue_per_week:0,requirements:{gold:5e4,plots:["blacksmith","library"],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:1e3,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:750,bureaucracy:0},level:4,active_costs:{gold:0,power:0,wood:0,stone:0,metal:25,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"general_store",emoji:"🛒",title:"General Store",type:"shop",description:"Makes the most money of any plot, requires power. Makes significantly more from tourism if you have a Village Inn.",revenue_per_week:750,requirements:{gold:27500,plots:[],employees:32,knowledge:0,size:1,xp:0,resources:{food:0,wood:3e4,stone:5e3,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:2,health:2,community:1.1},immediate_variable_changes:{happiness:50,health:50,population:0,community:50,bureaucracy:0},check_for_variety:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:160,wood:0,stone:0,metal:0,bureaucracy:0,food:100},liege_on_plot_hint:"Your experience managing towns is increasing the profits at the general store!",weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"healing_house",emoji:"🏥",title:"Healing House",type:"medical",description:"Treats the sick and continuously improves health.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:3e4,plots:["mine"],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:1e3,stone:2e3,metal:500,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.25,health:1.5,community:1.1},immediate_variable_changes:{happiness:5,health:75,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:30,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"city_hall",emoji:"🗳️",title:"City Hall",type:"federal",description:"Generates bureaucracy that can be used to pass laws to impact the city and expand. Costs a LOT of gold every week.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:125e3,plots:[],employees:32,knowledge:1e4,size:1,xp:0,resources:{food:0,wood:3250,stone:2e3,metal:200,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1,health:1,community:1.3},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:10},level:5,active_costs:{gold:600,power:20,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"mine",emoji:"⛏️",title:"Mine",type:"mine",description:"Produces a significant amount of metal and stone.",revenue_per_week:0,requirements:{gold:3e4,plots:["library","quarry"],employees:48,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:110,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1,health:.95,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:10,metal:60,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:80,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:.998,community:.9998}},{id:"university",emoji:"🏫",title:"University",type:"education",description:"Produces the most knowledge, but costs a lot of gold every week.",revenue_per_week:0,knowledge_points_per_month:500,requirements:{gold:5e4,plots:[],employees:32,knowledge:5e3,size:1,xp:0,resources:{food:0,wood:4500,stone:4500,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:50,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:5,active_costs:{gold:500,power:100,wood:100,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"bank",emoji:"🏦",title:"Bank",type:"bank",description:"Enables the conversion of knowledge to gold, and increases maximum tax rate so you can make more money.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:1e5,plots:[],employees:32,knowledge:25e3,size:1,xp:0,resources:{food:0,wood:1e3,stone:1e4,metal:1e3,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:.8,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:5,active_costs:{gold:0,power:100,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"lab",emoji:"🧪",title:"Laboratory",type:"science",description:"Designs things to help the city grow",revenue_per_week:0,knowledge_points_per_month:300,requirements:{gold:1e5,plots:[],employees:48,knowledge:15e3,size:1,xp:0,resources:{food:0,wood:0,stone:1e4,metal:5e3,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:.98,health:.99,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:5,active_costs:{gold:5e3,power:1e3,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}}],Ao={empty_unusable:"rgba(255,255,255,0.50)",empty_buildable:"rgba(239,234,90,1.0)",residential:"rgba(222,118,51,1.0)",farm:"rgba(107,143,73,1.0)",lumber:"rgba(145,116,44,1.0)",business:"rgba(146,115,165,1.0)",recreation:"rgba(82,119,177,1.0)",shop:"rgba(82,119,177,1.0)",tourism:"rgba(216,150,216,1.0)",education:"rgba(153,151,223,1.0)",medical:"rgba(74,91,163,1.0)",bank:"rgba(132,119,190,1.0)",federal:"rgba(132,119,190,1.0)",science:"rgba(74,91,163,1.0)",mine:"rgba(217,135,74,1.0)",quarry:"rgba(134,134,133,1.0)",industrial:"rgba(22, 50, 255,0.8)",stockpile:"rgba(134,134,133,1.0)"};function $r(t,e=!1,n=22){if(t<0)return t==-1?e?Ao.empty_buildable:Ao.empty_unusable:t==-2?Ao.recreation:Ao.empty_unusable;const o=ie[t];return qd(Ao[o.type],n)}const Fd={lab:1,city_hall:1,bank:1,community_center:1,lumber_mill:1},qd=(t,e=20)=>{const n=(l,a,s)=>{l/=255,a/=255,s/=255;const u=Math.max(l,a,s),f=Math.min(l,a,s);let c=0,d=0,m=(u+f)/2;if(u!==f){const p=u-f;switch(d=m>.5?p/(2-u-f):p/(u+f),u){case l:c=(a-s)/p+(a<s?6:0);break;case a:c=(s-l)/p+2;break;case s:c=(l-a)/p+4;break}c/=6}return[c*360,d,m]},o=(l,a,s,u)=>{const f=Math.min(1,s+u/100);return`hsl(${l}, ${(a*100).toFixed(1)}%, ${(f*100).toFixed(1)}%)`},i=l=>{const a=l.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)/);return a?[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]:null};let r=null;if(t.startsWith("#")){const l=t.replace("#",""),a=parseInt(l,16);r=[a>>16&255,a>>8&255,a&255]}else(t.startsWith("rgba")||t.startsWith("rgb"))&&(r=i(t));if(r){const[l,a,s]=n(r[0],r[1],r[2]);return o(l,a,s,e)}throw new Error("Invalid color format")};function jf(t){var e,n,o="";if(typeof t=="string"||typeof t=="number")o+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=jf(t[e]))&&(o&&(o+=" "),o+=n)}else for(n in t)t[n]&&(o&&(o+=" "),o+=n);return o}function Bd(){for(var t,e,n=0,o="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=jf(t))&&(o&&(o+=" "),o+=e);return o}const ml="-";function Hd(t){const e=Vd(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:o}=t;function i(l){const a=l.split(ml);return a[0]===""&&a.length!==1&&a.shift(),Ff(a,e)||Gd(l)}function r(l,a){const s=n[l]||[];return a&&o[l]?[...s,...o[l]]:s}return{getClassGroupId:i,getConflictingClassGroupIds:r}}function Ff(t,e){var l;if(t.length===0)return e.classGroupId;const n=t[0],o=e.nextPart.get(n),i=o?Ff(t.slice(1),o):void 0;if(i)return i;if(e.validators.length===0)return;const r=t.join(ml);return(l=e.validators.find(({validator:a})=>a(r)))==null?void 0:l.classGroupId}const Fl=/^\[(.+)\]$/;function Gd(t){if(Fl.test(t)){const e=Fl.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function Vd(t){const{theme:e,prefix:n}=t,o={nextPart:new Map,validators:[]};return xd(Object.entries(t.classGroups),n).forEach(([r,l])=>{Rr(l,o,r,e)}),o}function Rr(t,e,n,o){t.forEach(i=>{if(typeof i=="string"){const r=i===""?e:ql(e,i);r.classGroupId=n;return}if(typeof i=="function"){if(Wd(i)){Rr(i(o),e,n,o);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([r,l])=>{Rr(l,ql(e,r),n,o)})})}function ql(t,e){let n=t;return e.split(ml).forEach(o=>{n.nextPart.has(o)||n.nextPart.set(o,{nextPart:new Map,validators:[]}),n=n.nextPart.get(o)}),n}function Wd(t){return t.isThemeGetter}function xd(t,e){return e?t.map(([n,o])=>{const i=o.map(r=>typeof r=="string"?e+r:typeof r=="object"?Object.fromEntries(Object.entries(r).map(([l,a])=>[e+l,a])):r);return[n,i]}):t}function Yd(t){if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,o=new Map;function i(r,l){n.set(r,l),e++,e>t&&(e=0,o=n,n=new Map)}return{get(r){let l=n.get(r);if(l!==void 0)return l;if((l=o.get(r))!==void 0)return i(r,l),l},set(r,l){n.has(r)?n.set(r,l):i(r,l)}}}const qf="!";function Ud(t){const e=t.separator,n=e.length===1,o=e[0],i=e.length;return function(l){const a=[];let s=0,u=0,f;for(let _=0;_<l.length;_++){let h=l[_];if(s===0){if(h===o&&(n||l.slice(_,_+i)===e)){a.push(l.slice(u,_)),u=_+i;continue}if(h==="/"){f=_;continue}}h==="["?s++:h==="]"&&s--}const c=a.length===0?l:l.substring(u),d=c.startsWith(qf),m=d?c.substring(1):c,p=f&&f>u?f-u:void 0;return{modifiers:a,hasImportantModifier:d,baseClassName:m,maybePostfixModifierPosition:p}}}function Kd(t){if(t.length<=1)return t;const e=[];let n=[];return t.forEach(o=>{o[0]==="["?(e.push(...n.sort(),o),n=[]):n.push(o)}),e.push(...n.sort()),e}function Jd(t){return{cache:Yd(t.cacheSize),splitModifiers:Ud(t),...Hd(t)}}const Xd=/\s+/;function Zd(t,e){const{splitModifiers:n,getClassGroupId:o,getConflictingClassGroupIds:i}=e,r=new Set;return t.trim().split(Xd).map(l=>{const{modifiers:a,hasImportantModifier:s,baseClassName:u,maybePostfixModifierPosition:f}=n(l);let c=o(f?u.substring(0,f):u),d=!!f;if(!c){if(!f)return{isTailwindClass:!1,originalClassName:l};if(c=o(u),!c)return{isTailwindClass:!1,originalClassName:l};d=!1}const m=Kd(a).join(":");return{isTailwindClass:!0,modifierId:s?m+qf:m,classGroupId:c,originalClassName:l,hasPostfixModifier:d}}).reverse().filter(l=>{if(!l.isTailwindClass)return!0;const{modifierId:a,classGroupId:s,hasPostfixModifier:u}=l,f=a+s;return r.has(f)?!1:(r.add(f),i(s,u).forEach(c=>r.add(a+c)),!0)}).reverse().map(l=>l.originalClassName).join(" ")}function Qd(){let t=0,e,n,o="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Bf(e))&&(o&&(o+=" "),o+=n);return o}function Bf(t){if(typeof t=="string")return t;let e,n="";for(let o=0;o<t.length;o++)t[o]&&(e=Bf(t[o]))&&(n&&(n+=" "),n+=e);return n}function Lr(t,...e){let n,o,i,r=l;function l(s){const u=e.reduce((f,c)=>c(f),t());return n=Jd(u),o=n.cache.get,i=n.cache.set,r=a,a(s)}function a(s){const u=o(s);if(u)return u;const f=Zd(s,n);return i(s,f),f}return function(){return r(Qd.apply(null,arguments))}}function Ze(t){const e=n=>n[t]||[];return e.isThemeGetter=!0,e}const Hf=/^\[(?:([a-z-]+):)?(.+)\]$/i,zd=/^\d+\/\d+$/,em=new Set(["px","full","screen"]),tm=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,nm=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,om=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,im=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,rm=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function Jt(t){return Tn(t)||em.has(t)||zd.test(t)}function cn(t){return ho(t,"length",mm)}function Tn(t){return!!t&&!Number.isNaN(Number(t))}function ni(t){return ho(t,"number",Tn)}function To(t){return!!t&&Number.isInteger(Number(t))}function lm(t){return t.endsWith("%")&&Tn(t.slice(0,-1))}function Ve(t){return Hf.test(t)}function dn(t){return tm.test(t)}const sm=new Set(["length","size","percentage"]);function am(t){return ho(t,sm,Gf)}function um(t){return ho(t,"position",Gf)}const fm=new Set(["image","url"]);function cm(t){return ho(t,fm,hm)}function dm(t){return ho(t,"",pm)}function Io(){return!0}function ho(t,e,n){const o=Hf.exec(t);return o?o[1]?typeof e=="string"?o[1]===e:e.has(o[1]):n(o[2]):!1}function mm(t){return nm.test(t)&&!om.test(t)}function Gf(){return!1}function pm(t){return im.test(t)}function hm(t){return rm.test(t)}function Dr(){const t=Ze("colors"),e=Ze("spacing"),n=Ze("blur"),o=Ze("brightness"),i=Ze("borderColor"),r=Ze("borderRadius"),l=Ze("borderSpacing"),a=Ze("borderWidth"),s=Ze("contrast"),u=Ze("grayscale"),f=Ze("hueRotate"),c=Ze("invert"),d=Ze("gap"),m=Ze("gradientColorStops"),p=Ze("gradientColorStopPositions"),_=Ze("inset"),h=Ze("margin"),w=Ze("opacity"),y=Ze("padding"),C=Ze("saturate"),R=Ze("scale"),D=Ze("sepia"),F=Ze("skew"),N=Ze("space"),P=Ze("translate"),E=()=>["auto","contain","none"],q=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",Ve,e],v=()=>[Ve,e],I=()=>["",Jt,cn],L=()=>["auto",Tn,Ve],B=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],j=()=>["solid","dashed","dotted","double","none"],K=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"],X=()=>["start","end","center","between","around","evenly","stretch"],z=()=>["","0",Ve],oe=()=>["auto","avoid","all","avoid-page","page","left","right","column"],J=()=>[Tn,ni],ne=()=>[Tn,Ve];return{cacheSize:500,separator:":",theme:{colors:[Io],spacing:[Jt,cn],blur:["none","",dn,Ve],brightness:J(),borderColor:[t],borderRadius:["none","","full",dn,Ve],borderSpacing:v(),borderWidth:I(),contrast:J(),grayscale:z(),hueRotate:ne(),invert:z(),gap:v(),gradientColorStops:[t],gradientColorStopPositions:[lm,cn],inset:O(),margin:O(),opacity:J(),padding:v(),saturate:J(),scale:J(),sepia:z(),skew:ne(),space:v(),translate:v()},classGroups:{aspect:[{aspect:["auto","square","video",Ve]}],container:["container"],columns:[{columns:[dn]}],"break-after":[{"break-after":oe()}],"break-before":[{"break-before":oe()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...B(),Ve]}],overflow:[{overflow:q()}],"overflow-x":[{"overflow-x":q()}],"overflow-y":[{"overflow-y":q()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",To,Ve]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ve]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",To,Ve]}],"grid-cols":[{"grid-cols":[Io]}],"col-start-end":[{col:["auto",{span:["full",To,Ve]},Ve]}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":[Io]}],"row-start-end":[{row:["auto",{span:[To,Ve]},Ve]}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ve]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ve]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal",...X()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...X(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...X(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[h]}],mx:[{mx:[h]}],my:[{my:[h]}],ms:[{ms:[h]}],me:[{me:[h]}],mt:[{mt:[h]}],mr:[{mr:[h]}],mb:[{mb:[h]}],ml:[{ml:[h]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ve,e]}],"min-w":[{"min-w":[Ve,e,"min","max","fit"]}],"max-w":[{"max-w":[Ve,e,"none","full","min","max","fit","prose",{screen:[dn]},dn]}],h:[{h:[Ve,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ve,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ve,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ve,e,"auto","min","max","fit"]}],"font-size":[{text:["base",dn,cn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ni]}],"font-family":[{font:[Io]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ve]}],"line-clamp":[{"line-clamp":["none",Tn,ni]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Jt,Ve]}],"list-image":[{"list-image":["none",Ve]}],"list-style-type":[{list:["none","disc","decimal",Ve]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...j(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Jt,cn]}],"underline-offset":[{"underline-offset":["auto",Jt,Ve]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:v()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ve]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ve]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...B(),um]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",am]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},cm]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[r]}],"rounded-s":[{"rounded-s":[r]}],"rounded-e":[{"rounded-e":[r]}],"rounded-t":[{"rounded-t":[r]}],"rounded-r":[{"rounded-r":[r]}],"rounded-b":[{"rounded-b":[r]}],"rounded-l":[{"rounded-l":[r]}],"rounded-ss":[{"rounded-ss":[r]}],"rounded-se":[{"rounded-se":[r]}],"rounded-ee":[{"rounded-ee":[r]}],"rounded-es":[{"rounded-es":[r]}],"rounded-tl":[{"rounded-tl":[r]}],"rounded-tr":[{"rounded-tr":[r]}],"rounded-br":[{"rounded-br":[r]}],"rounded-bl":[{"rounded-bl":[r]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...j(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:j()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...j()]}],"outline-offset":[{"outline-offset":[Jt,Ve]}],"outline-w":[{outline:[Jt,cn]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:I()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[Jt,cn]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",dn,dm]}],"shadow-color":[{shadow:[Io]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":K()}],"bg-blend":[{"bg-blend":K()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[o]}],contrast:[{contrast:[s]}],"drop-shadow":[{"drop-shadow":["","none",dn,Ve]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[c]}],saturate:[{saturate:[C]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[o]}],"backdrop-contrast":[{"backdrop-contrast":[s]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[c]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[C]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ve]}],duration:[{duration:ne()}],ease:[{ease:["linear","in","out","in-out",Ve]}],delay:[{delay:ne()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ve]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[R]}],"scale-x":[{"scale-x":[R]}],"scale-y":[{"scale-y":[R]}],rotate:[{rotate:[To,Ve]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[F]}],"skew-y":[{"skew-y":[F]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ve]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ve]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":v()}],"scroll-mx":[{"scroll-mx":v()}],"scroll-my":[{"scroll-my":v()}],"scroll-ms":[{"scroll-ms":v()}],"scroll-me":[{"scroll-me":v()}],"scroll-mt":[{"scroll-mt":v()}],"scroll-mr":[{"scroll-mr":v()}],"scroll-mb":[{"scroll-mb":v()}],"scroll-ml":[{"scroll-ml":v()}],"scroll-p":[{"scroll-p":v()}],"scroll-px":[{"scroll-px":v()}],"scroll-py":[{"scroll-py":v()}],"scroll-ps":[{"scroll-ps":v()}],"scroll-pe":[{"scroll-pe":v()}],"scroll-pt":[{"scroll-pt":v()}],"scroll-pr":[{"scroll-pr":v()}],"scroll-pb":[{"scroll-pb":v()}],"scroll-pl":[{"scroll-pl":v()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ve]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Jt,cn,ni]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}function _m(t,{cacheSize:e,prefix:n,separator:o,extend:i={},override:r={}}){pi(t,"cacheSize",e),pi(t,"prefix",n),pi(t,"separator",o);for(const l in r)gm(t[l],r[l]);for(const l in i)bm(t[l],i[l]);return t}function pi(t,e,n){n!==void 0&&(t[e]=n)}function gm(t,e){if(e)for(const n in e)pi(t,n,e[n])}function bm(t,e){if(e)for(const n in e){const o=e[n];o!==void 0&&(t[n]=(t[n]||[]).concat(o))}}function ym(t,...e){return typeof t=="function"?Lr(Dr,t,...e):Lr(()=>_m(Dr(),t),...e)}const Vf=Lr(Dr);function Wf(t){const e=t-1;return e*e*e+1}function He(...t){return Vf(Bd(t))}function xf(t,e,n){const r={...{townName:t.townInfo.name,population:t.townInfo.population_count,gold:t.townInfo.gold,day:t.environment.day*t.environment.year,tick:t.tick},...n};console.log("event",e,r),gtag("event",e,r)}const _o=(t,e={y:-8,x:0,start:.95,duration:150})=>{const n=getComputedStyle(t),o=n.transform==="none"?"":n.transform,i=(l,a,s)=>{const[u,f]=a,[c,d]=s;return(l-u)/(f-u)*(d-c)+c},r=l=>Object.keys(l).reduce((a,s)=>l[s]===void 0?a:a+`${s}:${l[s]};`,"");return{duration:e.duration??200,delay:0,css:l=>{const a=i(l,[0,1],[e.y??5,0]),s=i(l,[0,1],[e.x??0,0]),u=i(l,[0,1],[e.start??.95,1]);return r({transform:`${o} translate3d(${s}px, ${a}px, 0) scale(${u})`,opacity:l})},easing:Wf}};function ot(t,e){if(e===void 0&&(e=0),t==null||t==null)return 0;t=parseFloat((t*Math.pow(10,e)).toFixed(11));var n=Math.round(t)/Math.pow(10,e);return+n.toFixed(e)}function cr(t){return t<10?"0"+t:t}function vm(t){let e=Math.floor(t/1e3),n=Math.floor(e/60);e=e%60;let o=Math.floor(n/60);return n=n%60,`${cr(o)}:${cr(n)}:${cr(e)}`}function Se(t){return ie.findIndex(e=>e.id===t)}function Bl(t){return ie.find(e=>e.id===t)}function Dt(t,e=!0){let n=t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,");return e||(n=n.split(".")[0]),n}function io(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Hl(t,e=!0){return t=ot(t/(e?3:1),2),t<0?`${t}`:`+${t}`}function Nn(t,e,n,o=!1){if(t<0||t>=n.plots.length||e<0||e>=n.plots[0].length)return!1;let i=[[t-1,e],[t+1,e],[t,e-1],[t,e+1],[t-1,e-1],[t-1,e+1],[t+1,e-1],[t+1,e+1]];for(let r=0;r<i.length;r++){let l=i[r][0],a=i[r][1];if(l>=0&&l<n.plots.length&&a>=0&&a<n.plots[0].length&&n.plots[l][a].water&&(o||n.plots[t][e].active==!0&&n.plots[t][e].type>0&&ie[n.plots[t][e].type].id=="farm"))return!0}return!1}function wm(t,e,n,o){if(t<0||t>=n.plots.length||e<0||e>=n.plots[0].length)return!1;let i=[[t-1,e],[t+1,e],[t,e-1],[t,e+1],[t-1,e-1],[t-1,e+1],[t+1,e-1],[t+1,e+1]],r=!0;for(let l=0;l<o.length;l++){let a=!1,s=o[l];if(s!=="water"){for(let u=0;u<i.length;u++){let f=i[u][0],c=i[u][1];if(f>=0&&f<n.plots.length&&c>=0&&c<n.plots[0].length&&n.plots[f][c].active==!0&&n.plots[f][c].type>0&&ie[n.plots[f][c].type].id==s){a=!0;break}}if(!a){r=!1;break}}}return r}function km(t,e=0){let n=t*.95,o=t*1.05;return ot(Math.random()*(o-n)+n,e)}function Ti(t,e,n){let o={x:t,y:e};return o.x===0&&o.y===0?!0:[{x:o.x-1,y:o.y},{x:o.x+1,y:o.y},{x:o.x,y:o.y-1},{x:o.x,y:o.y+1}].some(r=>r.x<0||r.x>=n.plots.length||r.y<0||r.y>=n.plots[r.x].length?!1:n.plots[r.x][r.y].active)}function Cm(t,e){return t.requirements.gold<=e.townInfo.gold}function Sm(t,e){return t.requirements.knowledge?t.requirements.knowledge<=e.townInfo.knowledge_points:!0}function Am(t,e){return t.requirements.resources?Object.entries(t.requirements.resources).every(([n,o])=>{const i=n,r=e.resources[i];return o===0||r>=o}):!0}function Tm(t,e,n,o){if(!t.requirements.employees||t.requirements.employees<=0)return!0;const i=e.townInfo.population_count-e.townInfo.employees,r=e.plots[n][o];if(r.type!==-1){const a=ie[r.type].requirements.employees||0;return t.requirements.employees<=i+a}return t.requirements.employees<=i}function Im(t,e){return t.active_costs?Object.entries(t.active_costs).every(([n,o])=>{if(n==="gold")return!0;const i=n;return i==="gold"?!0:!o||e.resources[i]>=o}):!0}function Mm(t,e,n,o){if(!t.requirements.adjacent_plots.length)return!0;for(const i of t.requirements.adjacent_plots)if(i==="water"){if(!Nn(e,n,o,!0))return!1}else if(!wm(e,n,o,[i]))return!1;return!0}function Om(t,e){return t.requirements.plots.length?t.requirements.plots.every(n=>qe(n,e).length>0):!0}function Vo(t,e,n,o){const i=Cm(t,e),r=Sm(t,e),l=Am(t,e),a=Tm(t,e,n,o),s=Im(t,e),u=Mm(t,n,o,e),f=Om(t,e);return{affordable:[i,r,l,a,s,u,f].every(c=>c===!0),gold:i,knowledge:r,resources:l,employees:a,activeCosts:s,adjacent:u,requiredPlots:f}}function Pm(t){return ie.findIndex(e=>e.id===t)}function Yn(t,e,n,o,i=!1){const r=Pm(t),l=ie[r];if(i||Vo(l,o,e,n).affordable){if(o.plots[e][n].type!==-1&&lo(e,n,o),o.plots[e][n].type=r,o.plots[e][n].active=!0,o.plots[e][n].typeId=l.id,o.townInfo.gold-=l.requirements.gold,o.townInfo.gold=ot(o.townInfo.gold,2),o.townInfo.population_count+=l.immediate_variable_changes.population,o.townInfo.population_max+=l.immediate_variable_changes.population,o.townInfo.happiness+=l.immediate_variable_changes.happiness,o.townInfo.health+=l.immediate_variable_changes.health,o.modifiers.happiness=ot(o.modifiers.happiness*l.purchase_effect_modifiers.happiness,2),o.modifiers.health=ot(o.modifiers.health*l.purchase_effect_modifiers.health,2),o.modifiers.community=ot(o.modifiers.community*l.purchase_effect_modifiers.community,2),o.townInfo.employees+=l.requirements.employees,(o.plotCounts[r]===void 0||o.plotCounts[r]===null)&&(o.plotCounts[r]=0),o.plotCounts[r]++,o.lastChangeDay=o.environment.day,l.requirements.resources!==void 0){const a=l.requirements.resources;o.resources.food-=a.food,o.resources.wood-=a.wood,o.resources.stone-=a.stone,o.resources.metal-=a.metal}switch(l.id){case"city_hall":o.hasCityHall=!0;break;case"bank":o.hasBank=!0;break}return o}return o}function Nm(t,e,n){if(!n||!n.plots||!n.plots.length)return null;const o=n.plots.length,i=n.plots[0].length;for(let r=1;r<o+i;r++)for(let l=-r;l<=r;l++)for(let a=-r;a<=r;a++){if(Math.abs(l)+Math.abs(a)!==r)continue;const s=t+l,u=e+a;if(!(s<0||s>=o||u<0||u>=i)&&!n.plots[s][u].active&&!n.plots[s][u].mineralSource&&!n.plots[s][u].water&&!n.plots[s][u].disabled&&Ti(s,u,n))return[s,u]}return null}function Em(t){let e={...Lf};e.difficulty=1,e.endGoal="land",e.townInfo.name="Mock Town",e.townInfo.gold=Math.random()*5e4+2e4,e.townInfo.happiness=300,e.townInfo.health=300,e.townInfo.knowledge_points=Math.random()*1e3+100,e.modifiers.happiness=1e4,e.modifiers.health=1e4,e.resources.food=Math.random()*1e4+1e3,e.resources.wood=Math.random()*1e4+1e3,e.resources.stone=Math.random()*1e4+1e3,e.resources.metal=Math.random()*1e4+1e3;let n=[];const o=25,i=Math.floor(Math.random()*o/2)+1,r=Math.floor(Math.random()*o/2)+1;for(let l=0;l<o;l++){n.push([]);for(let a=0;a<o;a++){const s=l==i&&a==r?!1:Ii(l,a,o);n[l][a]={id:Math.random().toString(36).substring(2,9),active:!1,x:l,y:a,type:s?-9:-1,typeId:"",mineralSource:s?!1:i===l&&r===a,water:i===l&&r===a?!1:s}}}e.plots=n,Ne.set(e),localStorage.setItem(mt,JSON.stringify(e)),localStorage.reset=!1,e=Yn("small_homes",0,0,e,!0),e=Yn("farm",1,0,e,!0),e=Yn("farm",2,0,e,!0),e=Yn("farm",3,0,e,!0),e=Yn("tree_farm",4,0,e,!0);for(let l=1;l<t.plots.length*t.plots[0].length/2;l++)for(let a=0;a<ie.length/2;a++){let s=ie[Math.floor(Math.random()*ie.length)];t=Yn(s.id,l,a,e,!1)}Ne.set(e),localStorage.setItem(mt,JSON.stringify(e)),localStorage.reset=!1,location.reload()}const mt="plots_active_game_db",ro="plots_user_db",Pt="plots_temp_game_db";function $m(){const t=["York","London","Paris","Madrid","Rome","Berlin","Vienna","Prague","Warsaw","Oslo","Lisbon","Dublin","Brussels","Amsterdam","Stockholm","Copenhagen","Edinburgh","Moscow","Beijing","Tokyo","Seoul","Bangkok","Delhi","Mumbai","Shanghai","Sydney","Melbourne","Cairo","Dubai","Istanbul","Athens","Budapest","Reykjavik","Helsinki","Tallinn","Riga","Vilnius","Sofia","Bucharest","Belgrade","Zagreb","Sarajevo","Ljubljana","Skopje","Tirana","Podgorica","Thessaloniki","Barcelona","Valencia","Seville","Granada","Malaga","Lyon","Marseille","Toulouse","Nice","Nantes","Strasbourg","Bordeaux","Lille","Venice","Milan","Florence","Naples","Turin","Bologna","Perugia","Genoa","Pisa","Verona","Palermo","Catania","Bari","Padua","Cagliari","Krakow","Gdansk","Poznan","Wroclaw","Lodz","Katowice","Bialystok","Gdynia","Sopot","Bydgoszcz","Lublin","Szczecin","Gorzow","Zakopane","Olsztyn","Torun","Rzeszow","Kielce","Radom","Siedlce","Los","Angeles","Chicago","Houston","Phoenix","San","Antonio","San","Diego","Dallas","San","Jose","Austin","Jacksonville","Fort","Worth","Columbus","Charlotte","Liverpool","Manchester","Glasgow","Birmingham","Leeds","Sheffield","Newcastle","upon","Tyne","Bristol","Nottingham","Leicester","Coventry","Belfast","Reading","Cardiff","Southampton","Aberdeen","Plymouth","Stoke","Trent","Wolverhampton","Swansea","Sunderland","Portsmouth","Yorkshire","Hull","Blackpool","Bradford","Derby","Middlesbrough","Peterborough","Stockton","on","Tees","Brighton","Poole","Bournemouth","Huddersfield","Luton","Oxford","Norwich","Oldham","Cambridge","Exeter","Walsall","Colchester","Watford","Rotherham","Newport","Gateshead","Dundee","Gloucester","Solihull","High","Wycombe","Maidstone","Slough","Basildon","Chelmsford","Salford","Bedford","Stevenage","Woking","Grimsby","Birkenhead","Halifax","Warrington","Gillingham","Wigan","Worcester","Wakefield","Lincoln","Chester","Rochdale","Dagenham","Widnes","St","Albans","Mansfield","Sutton","Coldfield","Crawley","Wokingham","Barnsley","St","Helens","Harrogate","Redditch","Scunthorpe","Nuneaton","Chesterfield","Hemel","Hempstead","Bury","Guildford","Ashford","Telford","Newcastle","under","Lyme","Aylesbury","Halesowen","Shrewsbury","Lowestoft","Loughborough","Cheltenham","Kidderminster","Basingstoke","Rugby","Stourbridge","Southport","Kettering","Royal","Leamington","Spa","Beeston","Farnborough","Wrexham","Banbury","Weymouth","Wallsend","Dartford","Grays","Tamworth","Ashford","Esher","Folkestone","Tonbridge","Taunton","Runcorn","Macclesfield","Keighley","Bridgend","Barnstaple","Letchworth","Garden","City","Worthing","Gosport","Eastleigh","Staines","upon","Thames","Lisburn","Livingston","Bognor","Regis","Scarborough","Cannock","Margate","Chippenham","Rhondda","Maidenhead","Wellingborough","Washington","Camberley","Bootle","Lancaster","Llanelli","Chatham","Cheshunt","Bishop","Auckland","Nelson","Belper","Pontefract","Barry","Braintree","Crosby","Bury","St","Edmunds","Bexhill","Margate","Aldershot","Rowley","Regis","Hoddesdon","Sittingbourne","Rugby","Newquay","Falmouth","Stretford","Camberley","Beverley","Windsor","Rochester","Wickford","Diss","Farnham","Andover","Camberwell","Bermondsey","Lewisham","Wembley","Hayes","Harrow","Ilford","Enfield","Twickenham","Richmond","Brentwood","Edgware","Ealing","Greenwich","Bromley","Hounslow","Romford","Hillingdon","Uxbridge","Wandsworth","Sutton","Kingston","upon","Thames","Bexley","Havering","Barking"],e=["ia","ville","ton","land","field","burgh","ford","wood","port","bay","beach","peak","valley","ridge","hill","dale","island","cape","spring","grove","polis","side","view","shore","haven","place","gardens","plaza","square"],n=["New","Old","North","South","East","West","Upper","Lower","Little","Great","Saint","Fort","Mount","Lake","River","The Village of","The City of","The Town of","The Borough of","The County of","The State of","The Kingdom of","The Empire of","The Republic of","The Commonwealth of","The Union of","The Federation of","Rainy","Sunny","Windy","Frosty","Snowy"];function o(s){return s[Math.floor(Math.random()*s.length)]}let i=o(n),r=o(t),l=o(e),a="";return Math.random()>.5?a=i+" "+r+l:a=r+l,a}let Ne=Ke(JSON.parse(localStorage.getItem(Pt)||localStorage.getItem(mt)||"null")),hn=Ke(JSON.parse(localStorage.getItem(ro)||"null"));Lm();function Rm(t,e,n,o){localStorage.removeItem(mt),Ne.set(null);let i={...Lf};i.gameSettings=o,i.economyAndLaws.max_tax_rate=jd[t],i.endGoal=e;let r=[];n=n.replace(/[^a-zA-Z0-9 ]/g,"").trim(),i.townInfo.name=n!=""?n:$m(),i.difficulty=parseInt(t),JSON.parse(localStorage.getItem(ro)||"null").username=="dev"&&o.push("devMode"),o.includes("devMode")&&(i.townInfo.gold=1e8,i.townInfo.happiness=1e7,i.townInfo.health=1e6,i.townInfo.knowledge_points=1e5,i.modifiers.happiness=1e4,i.modifiers.health=1e4,i.resources.food=1e6,i.resources.wood=1e6,i.resources.stone=1e6,i.resources.metal=1e6);const a=12,s=Math.floor(Math.random()*a/2)+1,u=Math.floor(Math.random()*a/2)+1;for(let f=0;f<a;f++){r.push([]);for(let c=0;c<a;c++){const d=f==s&&c==u?!1:Ii(f,c,a);r[f][c]={id:Math.random().toString(36).substring(2,9),active:!1,x:f,y:c,type:d?-9:-1,typeId:"",mineralSource:d?!1:s===f&&u===c,water:s===f&&u===c?!1:d}}}i.plots=r,localStorage.setItem(mt,JSON.stringify(i)),Ne.set(i),localStorage.reset=!1,xf(i,dl.START_GAME,{difficulty:t,end_goal:e,settings:o.join(",")}),location.reload()}function Ii(t,e,n){let o=.08;t>0&&e>0&&t<n-1&&e<n-1&&(o*=2),(e==Math.round(n/2)||e==Math.round(n/2)-1)&&(o*=3),t==0&&e==0&&(o=0);const i=Math.floor(n/2);return e===i?!1:Math.random()<o}function Lm(){if(localStorage.getItem(ro)===null){let t=Dd;t.username="click_to_set_username",localStorage.setItem(ro,JSON.stringify(t)),hn.set(t)}}function lo(t,e,n){let o=n.plots[t][e].type;n.plots[t][e].type=-1,n.plots[t][e].typeId="",n.plots[t][e].active=!1,o>-1&&(n.townInfo.population_count-=ie[o].immediate_variable_changes.population,n.townInfo.population_max-=ie[o].immediate_variable_changes.population,n.townInfo.employees-=ie[o].requirements.employees,(n.plotCounts[o]===void 0||n.plotCounts[o]===null)&&(n.plotCounts[o]=0),n.plotCounts[o]--),n.lastChangeDay=n.environment.day,Ne.set(n),localStorage.setItem(mt,JSON.stringify(n))}function qe(t,e){let n=[];for(let o=0;o<e.plots.length;o++)for(let i=0;i<e.plots[o].length;i++)e.plots[o][i].active==!1||e.plots[o][i]==null||e.plots[o][i].type===null||e.plots[o][i].type<0||(ie[e.plots[o][i].type].id===t||ie[e.plots[o][i].type].type===t)&&n.push(e.plots[o][i]);return n}function Xn(t,e,n){return n.liege_location!=null&&n.liege_location[0]===t&&n.liege_location[1]===e}function Dm(t,e){const n=t.plots.length,o=n>0?t.plots[0].length:0,i=e=="east"?5:0,r=e=="south"?5:0,l=Math.round(Math.pow(1.7,t.kingdom_expansions+5));if(t.townInfo.guardians<l)return`You need ${l-t.townInfo.guardians} more Guardians to expand the kingdom. See the City mgmt menu.`;for(let a=0;a<n;a++)for(let s=o;s<o+i;s++)t.plots[a].push({id:Math.random().toString(36).substring(2,9),active:!1,x:a,y:s,type:-1,typeId:"",mineralSource:!1,water:Ii(a,s,n+r),disabled:!1});for(let a=n;a<n+r;a++){const s=[];for(let u=0;u<o+i;u++)s.push({id:Math.random().toString(36).substring(2,9),active:!1,x:a,y:u,type:-1,typeId:"",mineralSource:!1,water:Ii(a,u,n+r)});t.plots.push(s)}t.kingdom_expansions++,Ne.set(t)}function jr(t=null){localStorage.removeItem(mt),Ne.set(null),t&&(localStorage.setItem(mt,JSON.stringify(t)),Ne.set(t))}function Gl(t,e,n){n.liege_location=[t,e],ao.set(!1),document.querySelectorAll(".plot_container").forEach(i=>{i.style.cursor=""}),Ne.set(n)}let tt=Ke({visible:!1,x:0,y:0,isMineralSource:!1}),qo=Ke({visible:!1});function jm(t){hn.set(t),localStorage.setItem(ro,JSON.stringify(t))}let Mi=Ke({}),Bo=Ke(!1),Ot=Ke(!1),hi=Ke(!0),Oi=Ke(!1),so=Ke(!1),Pi=Ke(!1),eo=Ke(!1),ao=Ke(!1),En=Ke(!1),Ct=Ke(""),Vl=localStorage.getItem("showCompletedAchievements")==="true"?Ke(!0):Ke(!1);localStorage.getItem("showOnlyAffordable")==="true"?Ke(!0):Ke(!1);let Fm=localStorage.getItem("pauseMenuTab")==="game"?Ke("game"):Ke("achievements"),Eo=Ke(750),Bt=Ke({visible:!1,plotName:"",location:"",missingResources:[],plotCost:0,x:0,y:0});const Et={unemployment_num:" people can't find jobs.",bored:"People are bored. Try making some new buildings.",vairety:"People don't like going to the same places over and over again. Try making some new buildings.",nobody_home:"Build some homes!",leave_town_num:" people left town because they were unhappy.",new_people_num:" new people moved to town.",people_want_to_move_in:"People want to move in. Build more homes.",high_tax_rate:"People are unhappy with the high tax rate.",very_high_tax_rate:"People are extremely unhappy with the high tax rate.",sickAndDying:"People are sick and dying.",sickAndLeaving:"People are sick and leaving town.",happiness_zero:"The town has fallen into chaos due to extreme unhappiness.",health_zero:"The town has fallen into chaos due to extreme sickness.",population_zero:"The town has been condemned due to lack of population.",win:{land:"You have filled the grid with buildings. You win!"},hospital_advantage:"Because you have a hospital, the town is staying healthier for longer!",notEnoughVariety:"People are sick of going to the same places over and over, add some variety!"},ct=[{id:"happy_town",title:"Happy & Healthy Town",description:"",requirements:"Happiness and Health at the max in one of your towns",icon:"😀",check:t=>t.townInfo.happiness>=300&&t.townInfo.health>=300,prize:15e3},{id:"10k",title:"💰 10,000",description:"",requirements:"10,000 gold in the bank in one of your towns",icon:"💸",check:t=>t.townInfo.gold>=1e4,prize:2500},{id:"50k",title:"💰 50,000",description:"",requirements:"50,000 gold in the bank in one of your towns",icon:"💸",check:t=>t.townInfo.gold>=5e4,prize:1e4},{id:"250k",title:"💰 250,000",description:"",requirements:"250,000 gold in the bank in one of your towns",icon:"💸",check:t=>t.townInfo.gold>=25e4,prize:5e4},{id:"1m",title:"💰 1,000,000",description:"",requirements:"1,000,000 gold in the bank in one of your towns",icon:"💸",check:t=>t.townInfo.gold>=1e6,prize:15e4},{id:"10m",title:"💰 10,000,000",description:"",requirements:"10,000,000 gold in the bank in one of your towns",icon:"💸",check:t=>t.townInfo.gold>=1e7,prize:5e5},{id:"stayin_frugal",title:"Stayin' Frugal!",description:"",requirements:"Gold under 50 with >=200 population in one of your towns",icon:"🚲",check:t=>t.townInfo.gold<=50&&t.townInfo.population_count>=200,prize:1e4},{id:"profits_to_the_moon",title:"Profits to the moon!",description:"Now you're making dough!",requirements:"Reach a monthly profit of $10,000",icon:"🌛",check:t=>t.economyAndLaws.weeklyProfit*4>=1e4,prize:15e3},{id:"happily_dying",title:"Happily Dying!",description:"Not something to be proud of...",requirements:"Happiness > 275, health < 25",icon:"🌛",check:t=>t.townInfo.happiness>275&&t.townInfo.health<25,prize:1e4},{id:"tax_man",title:"Tax man",description:"Set the tax rate to the absolute max that the town will tolerate.",requirements:"",icon:"🙃",check:t=>{let e=Math.floor(t.economyAndLaws.max_tax_rate*20)/20;return t.economyAndLaws.tax_rate===e},prize:750},{id:"good_job",title:"Beat 'Fill the grid' game mode",description:"while not in casual mode",requirements:"",icon:"👍",check:t=>t.endGameDetails.win===!0&&t.endGoal==="land"&&!t.gameSettings.includes("casual"),prize:1e4},{id:"great_job",title:"Beat 'Fill the grid' game mode (faster)",description:"in under 5 years, while not in casual mode",requirements:"",icon:"👏",check:t=>t.endGameDetails.win===!0&&t.environment.day<=1825&&t.endGoal==="land"&&!t.gameSettings.includes("casual"),prize:3e4},{id:"superb_job",title:"Beat 'Fill the grid' game mode",description:"while in casual mode",requirements:"",icon:"👌",check:t=>t.endGameDetails.win===!0&&t.endGoal==="land"&&t.gameSettings.includes("casual"),prize:15e3},{id:"pub_knowledge",title:"Street smartz",description:"You get 250 knowledge without building a school or library.",requirements:"Knowledge >= 250 without building a school or library",icon:"🤓",check:t=>qe("small_school",t).length===0&&qe("large_school",t).length===0&&qe("library",t).length===0&&t.townInfo.knowledge_points>=250,prize:5e4}],to=[{message:"Welcome the first settlers to our village by building a set of homes",isComplete:t=>t.townInfo.population_max>0,goldReward:600},{message:"Start producing food for the villagers",isComplete:t=>qe("farm",t).length>=1,goldReward:400},{message:"Build a tree farm to start producing wood, which is essential for building",isComplete:t=>qe("tree_farm",t).length>=1,goldReward:400},{message:"Build a quarry to start mining stone and metals",isComplete:t=>qe("quarry",t).length>0,goldReward:800},{message:"Settlement: Grow population to 50",isComplete:t=>t.townInfo.population_count>=50,goldReward:1600},{message:"Build a Market or Bakery to sell excess food",isComplete:t=>qe("market",t).length>0||qe("bakery",t).length>0,goldReward:1600},{message:"Complete Year 1",isComplete:t=>t.environment.day>=365,goldReward:4e3},{message:"Village: Grow population to 100",isComplete:t=>t.townInfo.population_count>=100,goldReward:6400},{message:"Complete Year 2",isComplete:t=>t.environment.day>=365*2,goldReward:4e3},{message:"Hamlet: Grow population to 200",isComplete:t=>t.townInfo.population_count>=200,goldReward:16e3},{message:"Start generating power. Build a Water Wheel or Solar Farm",isComplete:t=>t.resources.power>0||qe("water_wheel",t).length>0||qe("solar_farm",t).length>0||qe("adv_water_wheel",t).length>0,goldReward:8e3},{message:"Small Town: Grow population to 300",isComplete:t=>t.townInfo.population_count>=300,goldReward:2e4},{message:"Generate 300 Knowledge 🧠 from libraries, schools, pubs, and vineyards",isComplete:t=>t.townInfo.knowledge_points>=300,goldReward:4e3},{message:"Build a Mine to boost our metal supply (see the black plot on the map)",isComplete:t=>qe("mine",t).length>0,goldReward:16e3},{message:"Complete Year 5",isComplete:t=>t.environment.day>=365*5,goldReward:1e4},{message:"Town: Grow our population to 500",isComplete:t=>t.townInfo.population_count>=500,goldReward:2e4},{message:"City: Grow our population to 1000",isComplete:t=>t.townInfo.population_count>=1e3,goldReward:4e4},{message:"Establish a City Hall to advance our town",isComplete:t=>qe("city_hall",t).length>0,goldReward:4e4},{message:"Complete Year 10",isComplete:t=>t.environment.day>=365*10,goldReward:5e4}];let Mo=function(t){return t.gameSettings.includes("casual")?3:1};const Fr=[{id:"organic_farming",description:"Organic Farming. Make townspeople healthier and happier, while decreasing overall food production.",cost:150,weekly_effect:t=>(t.modifiers.happiness*=1.01,t.modifiers.health*=1.01,t.resources.food-=2*Mo(t)*qe("farm",t).length,t)},{id:"tax_free",description:"Tax-Free Month. For 1 month, the town loses all revenue from taxes, but happiness and health increase quite a lot. Automatically ends after 4 weeks.",cost:250,weekly_effect:t=>(localStorage.getItem("tax_free")===null?(localStorage.setItem("tax_free","0"),t.economyAndLaws.weeklyProfit=-1*t.economyAndLaws.weeklyProfit):localStorage.setItem("tax_free",(parseInt(localStorage.getItem("tax_free"))+1).toString()),parseInt(localStorage.getItem("tax_free"))>=4?(t.modifiers.happiness*=1,t.modifiers.health*=1,localStorage.removeItem("tax_free"),t.economyAndLaws.enacted=t.economyAndLaws.enacted.filter(e=>e!=="tax_free")):(t.modifiers.happiness*=1.02,t.modifiers.health*=1.01),t)},{id:"healthy_mining",description:"Healthy mining. Miners must mine with proper ventilation, but they move like molasses.",cost:250,weekly_effect:t=>(ie.find(e=>e.id==="mine"),t.modifiers.health*=1.1,t.resources.stone-=5*Mo(t)*qe("quarry",t).length,t.resources.stone-=7*Mo(t)*qe("mine",t).length,t.resources.metal-=15*Mo(t)*qe("mine",t).length,t)},{id:"complicated_tax_forms",description:"Complicated Tax Forms. You sneak in a clause to charge 5% more in taxes. Now, if you adjust your tax rate 5% higher, they won't be upset. This can be enacted multiple times to stack.",cost:500,weekly_effect:t=>(t.economyAndLaws.max_tax_rate+=.05,t.economyAndLaws.enacted=t.economyAndLaws.enacted.filter(e=>e!=="complicated_tax_forms"),t)},{id:"legalize_it",description:"Legalize it. You legalize a substance that makes people happy, but it also gives them 'the munchies'. Food consumption and happiness go up.",cost:350,weekly_effect:t=>(t.resources.food-=Math.round(.2*Mo(t)*t.townInfo.population_count),t.modifiers.happiness*=1.1,t)},{id:"park_upgrade",description:"Park upgrade. You hold a community forum and add the top 5 things that the people want in their parks. This increases happiness for each park.",cost:350,weekly_effect:t=>(t.townInfo.happiness+=2*qe("park",t).length,t)},{id:"career_politician",description:"Career Politician. You hire a career politician to help you with your town. They cost the town $100 per week, but they earn bureaucracy points faster.",cost:200,weekly_effect:t=>(t.townInfo.gold-=100,t.resources.bureaucracy+=25,t)},{id:"the_big_wood_deal",description:"The Big Wood Deal. This law allows you to sell all of the wood in your town for $5/wood at once. This won't make the town happy, but may be necessary in a pinch. Can be enacted multiple times to sell to other buyers.",cost:500,weekly_effect:t=>(t.townInfo.gold+=5*t.resources.wood,t.resources.wood=0,t.resource_rate.wood=0,t.townInfo.happiness*=.95,t.economyAndLaws.enacted=t.economyAndLaws.enacted.filter(e=>e!=="the_big_wood_deal"),t)},{id:"picky_eating_liege",description:"Picky Eater Liege. There is some food that the town makes that you just really hate. By passing this law, you insist that they sell off that gross food for $1/food every week. You won't make as much food, but you won't have to eat it either.",cost:200,weekly_effect:t=>{const e=qe("farm",t).length*2,n=Math.floor(Math.random()*(.15*e-.05*e)+.05*e);return t.resources.food-=n,t.townInfo.gold+=n,t.townInfo.happiness=.95*t.townInfo.happiness,t}},{id:"stone_statue",description:"Stone Statue. You insist that we use ALL of our stone to build a massive statue. We lose all of our stone, but for some reason, the town has perfect health for a while, I guess.",cost:1e3,weekly_effect:t=>(t.resources.stone=0,t.modifiers.health=5,t)},{id:"out_of_town",description:"TODO: Out of town. Everyone needs a vacation, right? When this is enacted, EVERYONE must leave the town for 10 days. During this time, no resources are produced, no taxes are collected, and you must take a break from the game.",cost:1e3,weekly_effect:t=>t}],Wl=30;function qm(t){return t=Wm(t),t=t,t}function Bm(t){const e=[()=>t.townInfo.happiness<100?"I heard that the town is unhappy. We miss our churches and parks...":"",()=>t.townInfo.health<100?"My kids keep getting sick, probably not enough farms around here!":"",()=>t.townInfo.happiness<50?"I'm thinking of moving out if things don't improve soon!":"",()=>t.townInfo.employees<t.townInfo.population_count?"I am unemployed and I hate it here":"",()=>t.townInfo.knowledge_points<100?"I wish we had more schools!":"",()=>t.economyAndLaws.tax_rate>t.economyAndLaws.max_tax_rate?"I wish the taxes were lower, I could use a break!":"",()=>t.townInfo.productivity>100?"I think we should take a day or two to just be chill, we've been working hard!":"",()=>t.economyAndLaws.tax_rate<t.economyAndLaws.max_tax_rate?"We would probably be ok chipping in more gold for village improvements.":""],n=Math.floor(Math.random()*e.length);return e[n]()}function Hm(t,e,n){return t.resource_rate.food=ut(n.food-e.food,0),t.resource_rate.wood=ut(n.wood-e.wood,0),t.resource_rate.stone=ut(n.stone-e.stone,0),t.resource_rate.metal=ut(n.metal-e.metal,0),t.resource_rate.bureaucracy=ut(n.bureaucracy-e.bureaucracy,0),t}function Gm(t){return t.hasBank,t}function Vm(t){let e=t.economyAndLaws.knowledge_gold_market_rates[t.economyAndLaws.knowledge_gold_market_rates.length-1]||1;const n=-100,o=8,i=3;let r=Math.random(),l=Math.random()*i;if(r<.4){let a=Math.random()*o;Math.random()<.5?e+=a:e-=a}else Math.random()>.5?e+=l:e-=l;return e<n&&(e+=Math.random()*l/5),e=Math.round(e),t.economyAndLaws.knowledge_gold_market_rates=[...t.economyAndLaws.knowledge_gold_market_rates,e],t}function Wm(t){if(t.townInfo.population_count<t.townInfo.population_max&&t.townInfo.happiness>50){let e=t.townInfo.population_max-t.townInfo.population_count,n=Math.round(t.townInfo.happiness/100*e);t.townInfo.population_count+=n,t.townInfo.population_count>t.townInfo.population_max&&(t.townInfo.population_count=t.townInfo.population_max),t.townInfo.employees+=n,t.townInfo.employees>t.townInfo.population_count&&(t.townInfo.employees=t.townInfo.population_count)}if(t.townInfo.happiness<50&&t.townInfo.population_count>0){let e=Math.round((150-t.townInfo.happiness)/5);t.townInfo.population_count-=e,t.townInfo.employees>0&&(t.townInfo.employees-=e)}else t.townInfo.population_count==t.townInfo.population_max;return t}function qr(t){return t.lab.active_experiment==null||t.lab.active_experiment.duration>0&&(t.lab.active_experiment.duration-=1),t}function Br(t){t.townInfo.happiness<0&&(t.townInfo.happiness=0),t.townInfo.health<0&&(t.townInfo.health=0),t.townInfo.community<0&&(t.townInfo.community=0),t.townInfo.gold<0&&(t.townInfo.gold=0),t.townInfo.employees<0&&(t.townInfo.employees=0),t.townInfo.knowledge_points<0&&(t.townInfo.knowledge_points=0),t.townInfo.population_count<0&&(t.townInfo.population_count=0),t.economyAndLaws.weeklyProfit=ut(t.economyAndLaws.weeklyProfit,0),t.townInfo.employees>t.townInfo.population_count&&(t.townInfo.employees=t.townInfo.population_count),t.townInfo.gold=ut(t.townInfo.gold,0),t.townInfo.population_count=ut(t.townInfo.population_count,0),t.townInfo.employees=ut(t.townInfo.employees,0),t.townInfo.population_max=ut(t.townInfo.population_max,0),t.townInfo.happiness=ut(t.townInfo.happiness,2),t.townInfo.health=ut(t.townInfo.health,2),t.townInfo.knowledge_points=ut(t.townInfo.knowledge_points,0),t.townInfo.happiness>t.maximums.happiness&&(t.townInfo.happiness=t.maximums.happiness),t.townInfo.health>t.maximums.health&&(t.townInfo.health=t.maximums.health),t.townInfo.community>300&&(t.townInfo.community=300),t.modifiers.happiness<.5&&(t.modifiers.happiness=.5),t.modifiers.health<.5&&(t.modifiers.health=.5),t.modifiers.community<.5&&(t.modifiers.community=.5),t.modifiers.happiness>2&&(t.modifiers.happiness=2),t.modifiers.health>2&&(t.modifiers.health=2),t.modifiers.community>2&&(t.modifiers.community=2);for(let e=0;e<t.plots.length;e++)for(let n=0;n<t.plots[e].length;n++)t.plots[e][n].active==!1&&t.plots[e][n].disabled==!0&&(t.plots[e][n].disabled=!1);return t}function Hr(t){if(t.townInfo.happiness>150){let o=t.townInfo.happiness-150;t.townInfo.happiness-=o*.09,t.townInfo.happiness<150&&(t.townInfo.happiness=150)}if(t.townInfo.health>150){let o=t.townInfo.health-150;t.townInfo.health-=o*.09,t.townInfo.health<150&&(t.townInfo.health=150)}if(t.townInfo.community>150){let o=t.townInfo.community-150;t.townInfo.community-=o*.09,t.townInfo.community<150&&(t.townInfo.community=150)}if(t.townInfo.happiness<150){let o=150-t.townInfo.happiness;t.townInfo.happiness+=o*(.09*.5)}if(t.townInfo.health<150){let o=150-t.townInfo.health;t.townInfo.health+=o*(.09*.5)}if(t.townInfo.community<150){let o=150-t.townInfo.community;t.townInfo.community+=o*(.09*.5)}return t}function at(t,e,n){let o=e.townLog||[];return o.filter(i=>i.message==t).length>0||o.unshift({message:t,day:e.environment.day,vibe:n}),e}function ut(t,e){e===void 0&&(e=0);let n=Math.pow(10,e);return t=parseFloat((t*n).toFixed(11)),+(Math.round(t)/n).toFixed(e)}function xm(t,e,n){let o,i,r,l,a,s,u;ae(t,Eo,g=>n(7,o=g)),ae(t,Bo,g=>n(8,i=g)),ae(t,Pi,g=>n(9,r=g)),ae(t,Ot,g=>n(10,l=g)),ae(t,hn,g=>n(11,a=g)),ae(t,En,g=>n(12,s=g)),ae(t,Bt,g=>n(13,u=g)),ae(t,Ne,g=>n(14,g));function f(g){g=ne(g),g=J(g),g=_(g),g=Vm(g),g=_e(g),g=R(g);const Z={food:g.resources.food,wood:g.resources.wood,stone:g.resources.stone,metal:g.resources.metal,bureaucracy:g.resources.bureaucracy,power:g.resources.power};g=O(g),g=oe(g),g=L(g),g=Fe(g),g=Hr(g),g=q(g);const W={food:g.resources.food,wood:g.resources.wood,stone:g.resources.stone,metal:g.resources.metal,bureaucracy:g.resources.bureaucracy,power:g.resources.power};return g.environment.day%14===0&&(g=re(g)),g=Hm(g,Z,W),g}function c(g){return g=Gm(g),g=C(g),g=je(g),g=z(g),g=P(g),g=h(g),g}function d(g){return g=I(g),g=se(g),g=Br(g),g=qr(g),g=E(g),g=N(g),g=p(g),g=w(g),g.overtime==!1&&(g=X(g),g=g),g=K(g),g=B(g),g=y(g),g}function m(){Ne.update(g=>{if(g==null||(g.tick++,g.tick%Wl!==0))return g;if(u.visible||l||s||!g||g.endGameDetails.msg!==""&&g.overtime==!1||g.townInfo.population_count<=0||localStorage.getItem(Pt)!=null)return console.info("The game is over, or paused. Not running the game loop."),g;try{return g.environment.day+=1,g.environment.day%7===0&&(g=f(g)),g.environment.day%30===0&&(g=c(g)),g.environment.day%90===0&&(g=qm(g)),window.location.search.includes("debug=true")&&console.log(g),g=d(g),g}catch(Z){return window.location.hostname==="localhost"&&alert("Error in game loop: "+Z),console.error("Error in game loop:",Z),g}})}Ne.subscribe(g=>{g&&localStorage.setItem(mt,JSON.stringify(g))}),hn.subscribe(g=>{g&&localStorage.setItem(ro,JSON.stringify(g))});function p(g){let Z=g.townInfo.population_count-g.townInfo.employees,W=`${Z} people can't find jobs!`;return g.townLog=g.townLog.filter(ee=>!ee.message.includes("people can't find jobs")),Z>0&&(g=at(W,g,et.BAD)),g}function _(g){let Z=!1,W=!1,ee=!1,me=!1;for(let ge=0;ge<g.plots.length;ge++)for(let Pe=0;Pe<g.plots[ge].length;Pe++)if(g.plots[ge][Pe].active==!0&&g.plots[ge][Pe].type>-1){let Re=ie[g.plots[ge][Pe].type].id;Re=="bank"&&(Z=!0),Re=="city_hall"&&(ee=!0),(Re=="small_hospital"||Re=="large_hospital")&&(W=!0),Re=="lab"&&(me=!0)}return g.hasBank=Z,g.hasHospital=W,g.hasCityHall=ee,g.hasLab=me,g}function h(g){let Z=0,W=0;for(let ee=0;ee<g.plots.length;ee++)for(let me=0;me<g.plots[ee].length;me++)if(g.plots[ee][me].active==!0&&g.plots[ee][me].type>-1){let ge=ie[g.plots[ee][me].type].type;W++,(ge=="recreation"||ge=="shop")&&Z++}if(g.townInfo.recreation=Z,W>40){const me=Z/W,ge="The city is growing and citizens are demanding more recreation, look for plots with 🛝 icons.",Pe="The city is growing and citizens are happy with the amount of recreation available.";me<.2?(g.modifiers.happiness*.95,g.townLog=g.townLog.filter(Re=>Re.message!==Pe),g=at(ge,g,et.BAD)):(g.modifiers.happiness*1.03,g.townLog=g.townLog.filter(Re=>Re.message!==ge),g=at(Pe,g,et.GOOD))}return g}function w(g){let Z=0;for(let W=0;W<g.plots.length;W++)for(let ee=0;ee<g.plots[W].length;ee++)if(g.plots[W][ee].active==!0&&g.plots[W][ee].type>-1){let ge=ie[g.plots[W][ee].type].requirements.employees;Z+=ge}return Z!=g.townInfo.employees&&(Z>g.townInfo.population_max,g.townInfo.employees=Z),g}function y(g){for(let Z=0;Z<g.plots.length;Z++)for(let W=0;W<g.plots[Z].length;W++)g.plots[Z][W].active==!0&&(g.plots[Z][W].type=Se(g.plots[Z][W].typeId));return g}function C(g){const Z=g.townInfo.productivity;let W=1;if(Z>50&&Z<100)W=1.05;else{if(Z==100)return g;Z<50?W=1.3:Z>100&&Z<125?W=.95:Z>125&&Z<150?W=.9:Z>150&&Z<175?W=.85:Z>175&&Z<200&&(W=.75)}const ee=g.townInfo.happiness;return g.townInfo.happiness*=W,W>1?g=at(`Happiness has gone up by ${Math.round(g.townInfo.happiness/ee*100)}% due to productivity.`,g,et.GOOD):g=at(`Happiness has gone down by ${100-Math.round(g.townInfo.happiness/ee*100)}% due to productivity.`,g,et.BAD),g}function R(g){return g.endGameDetails!=null||(g.townInfo.happiness<70&&g.last_warning_happiness+365<g.environment.day&&(Ct.set("Your citizens are very unhappy. You should do something about it."),g.last_warning_happiness=g.environment.day),g.townInfo.health<70&&g.last_warning_health+365<g.environment.day&&(Ct.set("Your citizens are very unhealthy. You should do something about it."),g.last_warning_health=g.environment.day)),g}const D=["Abigail","Elijah","Mabel","Silas","Beatrice","Clarence","Dorothy","Edgar","Florence","George","Harriet","Isaac","Josephine","Levi","Matilda","Nathaniel","Olive","Percy","Quincy","Rose","Samuel","Theodore","Ursula","Vincent","Winifred","Xavier","Yvette","Zachary","Amos","Betsy","Cecil","Delia","Emmett","Fanny","Gideon","Hazel","Irving","Jeannette","Karl","Lucinda","Mortimer","Nettie","Otis","Prudence","Rufus","Sophronia","Titus","Ulysses","Vera","Winston","Xenia","Yolanda","Zeke","Ada","Bernard","Cornelia","Duncan","Esther","Fletcher","Genevieve"],F=["Farmer","Blacksmith","Biscuit Sculptor","Baker","Carpenter","Chicken Whisperer","Fisher","Herbalist","Miner","Mason","Mustache Twirler","Brewer","Butcher","Candlemaker","Cloud Watcher","Dressmaker","Gardener","Hunter","Innkeeper","Jeweler","Locksmith","Miller","Painter","Potter","Quilter","Rancher","Saddler","Tanner","Upholsterer","Vintner","Watchmaker","Wheelwright","Wooly Sock Knitter","Yarn Spinner","Zodiac Interpreter","Archivist","Bookbinder","Cobbler","Dyer","Engraver","Fletcher","Glassblower","Haberdasher","Illuminator","Joiner","Knitter","Lace Maker","Mapmaker","Navigator","Orchardist","Potion Tester","Quarryman","Roofer","Soapmaker","Tobacconist","Undertaker","Victualler","Wainwright","Xylographer","Yeoman","Pumpkin Carver","Mud Pie Maker","Folk Tale Teller","Leaf Collector","Sunset Chaser","Dream Interpreter","Star Gazer"];function N(g){if(g.gameSettings.includes("bagOfHolding"))return g.resource_capacity=972024,g;let Z=qe("stockpile",g).length,W=qe("adv_stockpile",g).length,ee=1e3+Z*2e3+W*12e3;return g.resource_capacity=ee,Object.keys(g.resources).forEach(me=>{g.resources[me]>ee&&(g.resources[me]=ee)}),g}function P(g){for(let Z=0;Z<g.plots.length;Z++)for(let W=0;W<g.plots[Z].length;W++)if(Xn(Z,W,g)&&g.plots[Z][W].active==!0&&ie[g.plots[Z][W].type].type=="residential"&&Math.random()<.99){let ee=`👑🏠 ${D[Math.floor(Math.random()*D.length)]} the ${F[Math.floor(Math.random()*F.length)]}: `,me=Bm(g);ee+=me,me!=""&&(g=at(ee,g,et.NORMAL))}return g}function E(g){let Z=0;for(let W=0;W<g.plots.length;W++)for(let ee=0;ee<g.plots[W].length;ee++)if(g.plots[W][ee].active==!0&&g.plots[W][ee].type>-1){let me=ie[g.plots[W][ee].type].type;(me=="recreation"||me=="shop")&&Z++}return g.townInfo.recreation=Z,g}function q(g){const Z=g.townInfo.population_count;return g.resources.food<Z?(g.modifiers.happiness*=.95,g.modifiers.health*=.95,g=at("There isn't enough food for everyone!",g,et.BAD),g.resources.food=0):(g.townLog=g.townLog.filter(ee=>!ee.message.includes("There isn't enough food for everyone!")),g.resources.food-=Z),g.resources.food=Math.round(g.resources.food),g}function O(g){const Z=g.townInfo.productivity;let W=1;Z<50?W=.5:Z>50&&Z<100?W=.75:Z==100?W=1:Z>100&&Z<125?W=1.25:Z>125&&Z<150?W=1.75:Z>150&&Z<175?W=3:Z>175&&Z<200&&(W=5);const ee=g.gameSettings.includes("casual")?1.5:1;W*=ee,W=km(W,2),W*=g.townInfo.community>150?1.2:g.townInfo.community<100?.85:1;let me=qe("lumber_mill",g).length*1.5;me===0&&(me=1);for(let ge=0;ge<g.plots.length;ge++)for(let Pe=0;Pe<g.plots[ge].length;Pe++)if(g.plots[ge][Pe].active==!0&&g.plots[ge][Pe].type>-1&&g.plots[ge][Pe].disabled==!1){let Re=Nn(ge,Pe,g),We=Xn(ge,Pe,g)?2:1,$e=ie[g.plots[ge][Pe].type];$e.generated_resources!=null&&(g.resources.food+=Math.round($e.generated_resources.food*W)*(Re?2:1)*We,g.resources.wood+=Math.round($e.generated_resources.wood*W*me)*We,g.resources.stone+=Math.round($e.generated_resources.stone*W)*We,g.resources.metal+=Math.round($e.generated_resources.metal*W)*We,g.resources.bureaucracy+=Math.round($e.generated_resources.bureaucracy*W)*We)}return g.resources.food=Math.round(g.resources.food),g.resources.wood=Math.round(g.resources.wood),g.resources.stone=Math.round(g.resources.stone),g.resources.metal=Math.round(g.resources.metal),g.resources.bureaucracy=Math.round(g.resources.bureaucracy),g}var v;(function(g){g.food="food",g.wood="wood",g.stone="stone",g.metal="metal",g.bureaucracy="bureaucracy"})(v||(v={}));function I(g){for(let Z=0;Z<g.plots.length;Z++)for(let W=0;W<g.plots[Z].length;W++)if(g.plots[Z][W].active&&g.plots[Z][W].type>-1&&!g.plots[Z][W].disabled){let ee=ie[g.plots[Z][W].type];if(ee.type=="residential")continue;let me=!1,ge=[];const Pe=g.plots[Z][W].snoozedUntil&&g.environment.day<=(g.plots[Z][W].snoozedUntil||0);Object.keys(ee.active_costs).forEach((Re,We)=>{let $e=Object.values(ee.active_costs)[We];$e=$e/7,Re!="power"&&(Re=="gold"?g.townInfo.gold<$e&&(me=!0,ge.push(`💰${$e-g.townInfo.gold} gold`)):g.resources[Re]<$e?(me=!0,ge.push(`${$e-g.resources[Re]} ${Re}`)):Pe||(g.resources[Re]-=$e))}),me&&!Pe&&(Bt.set({visible:!0,plotName:ee.title,location:`at (${W}, ${Z})`,missingResources:ge,plotCost:ee.requirements.gold,x:Z,y:W}),g.plots[Z][W].disabled=!0),g.plots[Z][W].disabled=!Pe&&me}else g.plots[Z][W].active||(g.plots[Z][W].disabled=!1);return g}function L(g){let Z=0;for(let W=0;W<g.plots.length;W++)for(let ee=0;ee<g.plots[W].length;ee++)if(g.plots[W][ee].active==!0&&g.plots[W][ee].type>-1){let me=ie[g.plots[W][ee].type];me.active_costs.power!=0&&(Z-=me.active_costs.power),me.generated_resources.power!=0&&(Z+=me.generated_resources.power)}return g.resources.power=Z,g.resources.power<0?(g.modifiers.happiness*.98,g.townInfo.happiness-=5,g=at("🔋 POWER SHORTAGE. HAPPINESS DROPPING THROUGH BLACKOUTS.",g,et.BAD)):g.townLog=g.townLog.filter(W=>!W.message.includes("🔋 POWER SHORTAGE. HAPPINESS DROPPING THROUGH BLACKOUTS.")),g}function B(g){if(g.gameSettings.includes("devMode")||localStorage.getItem(Pt)!=null)return g;let Z=a;for(let W=0;W<ct.length;W++)Z.achievements.find(ee=>ee[0]==ct[W].id)==null&&ct[W].check(g)&&(Z.achievements.push([ct[W].id,g.environment.day,g.townInfo.name]),Ie(Ot,l=!0,l),Ie(Pi,r=!0,r));return hn.update(()=>Z),g}let j=!1;function K(g){if(j||g.currentTutorialStep>=to.length)return g;for(let Z=g.currentTutorialStep;Z<g.currentTutorialStep+1;Z++)if(to[Z].isComplete(g)){Ie(Bo,i=!0,i),j=!0,g.townInfo.gold+=to[Z].goldReward,setTimeout(()=>{Ie(Bo,i=!1,i),g.currentTutorialStep++,j=!1},2e3);break}return g}function X(g){return g.gameSettings.includes("tomPetty")&&(g.townInfo.happiness<=3||g.townInfo.health<=3)?(g.townInfo.happiness=300,g.modifiers.happiness=1,g.townInfo.health=300,g.modifiers.health=1,g.townInfo.gold=ut(g.townInfo.gold*.5,0),alert("Since you are playing in Tom Petty mode, you have been given another chance. All it took was 50% of your gold. Good luck!"),g):(g.townInfo.happiness<=3&&(g.townInfo.happiness=0,g.endGameDetails={msg:Et.happiness_zero,win:!1,still_playing:!1}),g.townInfo.health<=3&&(g.townInfo.health=3,g.endGameDetails={msg:Et.health_zero,win:!1,still_playing:!1}),g.townInfo.population_count<=0&&g.townInfo.population_max>0&&(g.townInfo.population_count=0,g.endGameDetails={msg:Et.population_zero,win:!1,still_playing:!1}),g)}function z(g){let Z=g.townInfo.population_count-g.townInfo.employees;if(g.gameSettings.includes("casual")&&Math.random()<.75)return g;if(Z>0){let W=Z*.2;W>10&&(W=10),g.townInfo.happiness-=W,g=at(Z+Et.unemployment_num,g,et.BAD)}else g.townLog=g.townLog.filter(W=>!W.message.includes(Et.unemployment_num));return g}function oe(g){for(let Z=0;Z<g.economyAndLaws.enacted.length;Z++){let W=Fr.find(ee=>ee.id==g.economyAndLaws.enacted[Z]);W!=null&&W.weekly_effect!=null&&(g=W.weekly_effect(g))}return g}function J(g){let Z=g.townInfo.health,W=0;return Z>50||Z<Math.random()*50&&(Z<25?(g=at(Et.sickAndDying,g,et.BAD),g.townInfo.happiness-=10,W=Math.round(g.townInfo.population_count*.1)):(g=at(Et.sickAndLeaving,g,et.BAD),g.townInfo.happiness-=5,W=Math.round(g.townInfo.population_count*.05)),g.townInfo.population_count-=W,g.townInfo.employees-=W),g}function ne(g){const Z=Math.random();if(g.economyAndLaws.tax_rate>g.economyAndLaws.max_tax_rate&&g.townInfo.population_count>0){let W=1;g.hasBank&&(W=2);const ee=g.difficulty==0?.7:g.difficulty==1?.4:.2;Z<ee&&g.economyAndLaws.tax_rate>g.economyAndLaws.max_tax_rate*2*W?(g.modifiers.happiness-=.02,g=at(Et.very_high_tax_rate+"  ("+g.economyAndLaws.tax_rate+"%)",g,et.BAD)):(g.modifiers.happiness-=.01,g=at(Et.high_tax_rate+"  ("+g.economyAndLaws.tax_rate*100+"%)",g,et.BAD))}return g}function _e(g){if(g.modifiers.happiness>1){let W=g.modifiers.happiness-1;g.modifiers.happiness-=W*.3,g.modifiers.happiness<1.02&&(g.modifiers.happiness=1)}if(g.modifiers.community>1){let W=g.modifiers.community-1;g.modifiers.community-=W*.3,g.modifiers.community<1.02&&(g.modifiers.community=1)}if(g.modifiers.health>1)if(qe("healing_house",g).length>0){g=at(Et.hospital_advantage,g,et.GOOD);let W=g.modifiers.health-1;g.modifiers.health-=W*qe("healing_house",g).length?.03:.06,g.modifiers.health<1.02&&(g.modifiers.health=1)}else{let W=g.modifiers.health-1;g.modifiers.health-=W*.3,g.modifiers.health<1.02&&(g.modifiers.health=1)}else qe("healing_house",g).length>0&&(g.modifiers.health+=.8,g.townInfo.health+=Math.floor(Math.random()*10)+5);return g}function se(g){g.economyAndLaws.weeklyProfit=0;for(let Z=0;Z<g.plots.length;Z++)for(let W=0;W<g.plots[Z].length;W++)if(g.plots[Z][W].active==!0&&g.plots[Z][W].type>-1){const ee=ie[g.plots[Z][W].type];let me=Ue(ee.revenue_per_week,g,ee.type,Z,W)*(g.townInfo.productivity/100)/7,ge=Nn(Z,W,g);const Pe=g.gameSettings.includes("casual")&&me>0?3:1;me*=Pe,me*=ge?2:1,g.townInfo.gold+=me,g.economyAndLaws.weeklyProfit+=me*7}return g}function re(g){for(let Z=0;Z<g.plots.length;Z++)for(let W=0;W<g.plots[Z].length;W++)if(g.plots[Z][W].active==!0&&g.plots[Z][W].type>-1){const ee=ie[g.plots[Z][W].type];g.townInfo.happiness*=ee.weekly_effect_modifiers.happiness,g.townInfo.health*=ee.weekly_effect_modifiers.health,g.townInfo.community*=ee.weekly_effect_modifiers.community}return g.townInfo.happiness*=g.modifiers.happiness,g.townInfo.health*=g.modifiers.health,g.townInfo.community*=g.modifiers.community,g}function je(g){return g.gameSettings.includes("casual")&&Math.random()<.75||qe("mine",g).length>0&&(g.townInfo.health-=7,qe("healing_house",g).length==0&&(g=at("The mine is actively hurting the health of the town. A Healing House can counteract this.",g,et.BAD))),g}function Fe(g){let Z=0;for(let W=0;W<g.plots.length;W++)for(let ee=0;ee<g.plots[W].length;ee++)if(g.plots[W][ee].active==!0&&g.plots[W][ee].type>-1){let me=ie[g.plots[W][ee].type],ge=Xn(W,ee,g)?.75:1;me.knowledge_points_per_month!=null&&(g.townInfo.knowledge_points+=Math.round(me.knowledge_points_per_month*ge/4),Z+=me.knowledge_points_per_month*ge/4)}return g.resource_rate.knowledge=ut(Z,0),g}function Ue(g,Z,W,ee,me){let ge=Z.townInfo.happiness/100;ge>2?ge=2:ge<.75&&(ge=.75),Z.townInfo.community>150?ge*=1.1:Z.townInfo.community<100&&(ge*=.8);let Pe=qe("village_inn",Z).length;W=="shop"&&Pe>0&&(ge*=1.35*Pe),Xn(ee,me,Z)&&(ge*=1.5);let We=ie[Z.plots[ee][me].type].active_costs.gold,$e=Math.round(g*Z.economyAndLaws.tax_rate*(Z.townInfo.population_count/Z.townInfo.population_max)*ge*(Z.economyAndLaws.enacted.includes("tax_free")?-1:1)-We);return ut($e,0)}return Zo(async()=>{for(;;)localStorage.reset=="true"&&(jr(),localStorage.setItem("reset","false")),m(),await new Promise(g=>setTimeout(g,o/Wl))}),[m,qr,Br,_e,Hr]}class Ym extends he{constructor(e){super(),pe(this,e,xm,null,de,{mainGameThreadLoop:0,_checkExperiment:1,_fixVariables:2,_bringModifiersBackToNormal:3,_bringStatsBackToNormal:4},null,[-1,-1])}get mainGameThreadLoop(){return this.$$.ctx[0]}get _checkExperiment(){return qr}get _fixVariables(){return Br}get _bringModifiersBackToNormal(){return this.$$.ctx[3]}get _bringStatsBackToNormal(){return Hr}}function Um(t){return t[t.length-1]}function _n(t){return Object.keys(t).reduce((e,n)=>t[n]===void 0?e:e+`${n}:${t[n]};`,"")}function dr(t){return t?!0:void 0}_n({position:"absolute",opacity:0,"pointer-events":"none",margin:0,transform:"translateX(-100%)"});function Yf(t){if(t!==null)return t}function xl(t){function e(n){return n(t),()=>{}}return{subscribe:e}}function mr(t){if(!Wo)return null;const e=document.querySelector(`[data-melt-id="${t}"]`);return yt(e)?e:null}const $o=t=>new Proxy(t,{get(e,n,o){return Reflect.get(e,n,o)},ownKeys(e){return Reflect.ownKeys(e).filter(n=>n!=="action")}}),Yl=t=>typeof t=="function";ft("empty");function ft(t,e){const{stores:n,action:o,returned:i}=e??{},r=(()=>{if(n&&i)return nn(n,a=>{const s=i(a);if(Yl(s)){const u=(...f)=>$o({...s(...f),[`data-melt-${t}`]:"",action:o??ze});return u.action=o??ze,u}return $o({...s,[`data-melt-${t}`]:"",action:o??ze})});{const a=i,s=a==null?void 0:a();if(Yl(s)){const u=(...f)=>$o({...s(...f),[`data-melt-${t}`]:"",action:o??ze});return u.action=o??ze,xl(u)}return xl($o({...s,[`data-melt-${t}`]:"",action:o??ze}))}})(),l=o??(()=>{});return l.subscribe=r.subscribe,l}function Ul(t,e){const{stores:n,returned:o,action:i}=e,{subscribe:r}=nn(n,a=>o(a).map(s=>$o({...s,[`data-melt-${t}`]:"",action:i??ze}))),l=i??(()=>{});return l.subscribe=r,l}function er(t){const e=r=>r?`${t}-${r}`:t,n=r=>`data-melt-${t}${r?`-${r}`:""}`,o=r=>`[data-melt-${t}${r?`-${r}`:""}]`;return{name:e,attribute:n,selector:o,getEl:r=>document.querySelector(o(r))}}const Wo=typeof document<"u",Uf=t=>typeof t=="function";function Km(t){return t instanceof Document}function tr(t){return t instanceof Element}function yt(t){return t instanceof HTMLElement}function Kl(t){return t.pointerType==="touch"}function Jm(t){return t!==null&&typeof t=="object"}function Xm(t){return Jm(t)&&"subscribe"in t}function Ht(...t){return(...e)=>{for(const n of t)typeof n=="function"&&n(...e)}}function ze(){}function dt(t,e,n,o){const i=Array.isArray(e)?e:[e];return i.forEach(r=>t.addEventListener(r,n,o)),()=>{i.forEach(r=>t.removeEventListener(r,n,o))}}function _t(t,e,n,o){const i=Array.isArray(e)?e:[e];if(typeof n=="function"){const r=Qm(l=>n(l));return i.forEach(l=>t.addEventListener(l,r,o)),()=>{i.forEach(l=>t.removeEventListener(l,r,o))}}return()=>void 0}function Zm(t){const e=t.currentTarget;if(!yt(e))return null;const n=new CustomEvent(`m-${t.type}`,{detail:{originalEvent:t},cancelable:!0});return e.dispatchEvent(n),n}function Qm(t){return e=>{const n=Zm(e);if(!(n!=null&&n.defaultPrevented))return t(e)}}function nr(t,...e){const n={};for(const o of Object.keys(t))e.includes(o)||(n[o]=t[o]);return n}function zt(t){return{...t,get:()=>Af(t)}}zt.writable=function(t){const e=Ke(t);let n=t;return{subscribe:e.subscribe,set(o){e.set(o),n=o},update(o){const i=o(n);e.set(i),n=i},get(){return n}}};zt.derived=function(t,e){const n=new Map,o=()=>{const r=Array.isArray(t)?t.map(l=>l.get()):t.get();return e(r)};return{get:o,subscribe:r=>{const l=[];return(Array.isArray(t)?t:[t]).forEach(s=>{l.push(s.subscribe(()=>{r(o())}))}),r(o()),n.set(r,l),()=>{const s=n.get(r);if(s)for(const u of s)u();n.delete(r)}}}};const or=(t,e)=>{const n=zt(t),o=(r,l)=>{n.update(a=>{const s=r(a);let u=s;return e&&(u=e({curr:a,next:s})),l==null||l(u),u})};return{...n,update:o,set:r=>{o(()=>r)}}};function pl(t){return new Promise(e=>setTimeout(e,t))}let zm="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",ep=(t=21)=>{let e="",n=t;for(;n--;)e+=zm[Math.random()*64|0];return e};function tp(){return ep(10)}function hl(t){return t.reduce((e,n)=>(e[n]=tp(),e),{})}const st={ALT:"Alt",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",CAPS_LOCK:"CapsLock",CONTROL:"Control",DELETE:"Delete",END:"End",ENTER:"Enter",ESCAPE:"Escape",F1:"F1",F10:"F10",F11:"F11",F12:"F12",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",HOME:"Home",META:"Meta",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp",SHIFT:"Shift",SPACE:" ",TAB:"Tab",CTRL:"Control",ASTERISK:"*",A:"a",P:"p"},Kf=()=>typeof window<"u";function np(){const t=navigator.userAgentData;return(t==null?void 0:t.platform)??navigator.platform}const Jf=t=>Kf()&&t.test(np().toLowerCase()),op=()=>Kf()&&!!navigator.maxTouchPoints,ip=()=>Jf(/^mac/)&&!op(),rp=()=>Jf(/mac|iphone|ipad|ipod/i),lp=()=>rp()&&!ip();function sp(t){const e=t.slice();return e.sort(up),ap(e)}function ap(t){if(t.length<=1)return t.slice();const e=[];for(let o=0;o<t.length;o++){const i=t[o];for(;e.length>=2;){const r=e[e.length-1],l=e[e.length-2];if((r.x-l.x)*(i.y-l.y)>=(r.y-l.y)*(i.x-l.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let o=t.length-1;o>=0;o--){const i=t[o];for(;n.length>=2;){const r=n[n.length-1],l=n[n.length-2];if((r.x-l.x)*(i.y-l.y)>=(r.y-l.y)*(i.x-l.x))n.pop();else break}n.push(i)}return n.pop(),e.length==1&&n.length==1&&e[0].x==n[0].x&&e[0].y==n[0].y?e:e.concat(n)}function up(t,e){return t.x<e.x?-1:t.x>e.x?1:t.y<e.y?-1:t.y>e.y?1:0}function fp(t){const e=t.getBoundingClientRect();return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.right,y:e.bottom},{x:e.left,y:e.bottom}]}function cp(t){const e=t.flatMap(n=>fp(n));return sp(e)}function dp(t,e){let n=!1;for(let o=0,i=e.length-1;o<e.length;i=o++){const r=e[o].x,l=e[o].y,a=e[i].x,s=e[i].y;l>t.y!=s>t.y&&t.x<(a-r)*(t.y-l)/(s-l)+r&&(n=!n)}return n}const pr="data-melt-scroll-lock";function Jl(t,e){if(!t)return;const n=t.style.cssText;return Object.assign(t.style,e),()=>{t.style.cssText=n}}function mp(t,e,n){if(!t)return;const o=t.style.getPropertyValue(e);return t.style.setProperty(e,n),()=>{o?t.style.setProperty(e,o):t.style.removeProperty(e)}}function pp(t){const e=t.getBoundingClientRect().left;return Math.round(e)+t.scrollLeft?"paddingLeft":"paddingRight"}function hp(t){const e=document,n=e.defaultView??window,{documentElement:o,body:i}=e;if(i.hasAttribute(pr))return ze;i.setAttribute(pr,"");const l=n.innerWidth-o.clientWidth,a=()=>mp(o,"--scrollbar-width",`${l}px`),s=pp(o),u=n.getComputedStyle(i)[s],f=()=>Jl(i,{overflow:"hidden",[s]:`calc(${u} + ${l}px)`}),c=()=>{const{scrollX:m,scrollY:p,visualViewport:_}=n,h=(_==null?void 0:_.offsetLeft)??0,w=(_==null?void 0:_.offsetTop)??0,y=Jl(i,{position:"fixed",overflow:"hidden",top:`${-(p-Math.floor(w))}px`,left:`${-(m-Math.floor(h))}px`,right:"0",[s]:`calc(${u} + ${l}px)`});return()=>{y==null||y(),n.scrollTo(m,p)}},d=[a(),lp()?c():f()];return()=>{d.forEach(m=>m==null?void 0:m()),i.removeAttribute(pr)}}const _p=t=>{try{Nf(t)}catch{return t}};function Mt(t,e){let n;const o=nn(t,r=>{n==null||n(),n=e(r)}).subscribe(ze),i=()=>{o(),n==null||n()};return _p(i),i}function $n(t){const e={};return Object.keys(t).forEach(n=>{const o=n,i=t[o];e[o]=zt(Ke(i))}),e}function gp(t){let e=t.parentElement;for(;yt(e)&&!e.hasAttribute("data-portal");)e=e.parentElement;return e||"body"}function Xf(t,e){return e!==void 0?e:gp(t)==="body"?document.body:null}async function Xl(t){const{prop:e,defaultEl:n}=t;if(await Promise.all([pl(1),ul]),e===void 0){n==null||n.focus();return}const o=Uf(e)?e(n):e;if(typeof o=="string"){const i=document.querySelector(o);if(!yt(i))return;i.focus()}else yt(o)&&o.focus()}function hr(t,e,n,o){const i=(t-(isNaN(e)?0:e))%o;let r=Math.abs(i)*2>=o?t+Math.sign(i)*(o-Math.abs(i)):t-i;isNaN(e)?!isNaN(n)&&r>n&&(r=Math.floor(n/o)*o):r<e?r=e:!isNaN(n)&&r>n&&(r=e+Math.floor((n-e)/o)*o);const l=o.toString(),a=l.indexOf("."),s=a>=0?l.length-a:0;if(s>0){const u=Math.pow(10,s);r=Math.round(r*u)/u}return r}On(void 0,t=>{function e(o){t(o),t(void 0)}return dt(document,"pointerup",e,{passive:!1,capture:!0})});const bp=On(void 0,t=>{function e(o){o&&o.key===st.ESCAPE&&t(o),t(void 0)}return dt(document,"keydown",e,{passive:!1})}),Zl=(t,e={})=>{let n=ze;function o(i={}){n();const r={enabled:!0,...i},l=Xm(r.enabled)?r.enabled:On(r.enabled);n=Ht(bp.subscribe(a=>{var u;if(!a||!Af(l))return;const s=a.target;if(!(!yt(s)||s.closest("[data-escapee]")!==t)){if(a.preventDefault(),r.ignore){if(Uf(r.ignore)){if(r.ignore(a))return}else if(Array.isArray(r.ignore)&&r.ignore.length>0&&r.ignore.some(f=>f&&s===f))return}(u=r.handler)==null||u.call(r,a)}}),Mt(l,a=>{a?t.dataset.escapee="":delete t.dataset.escapee}))}return o(e),{update:o,destroy(){t.removeAttribute("data-escapee"),n()}}},bn=Math.min,kt=Math.max,Ni=Math.round,oi=Math.floor,yn=t=>({x:t,y:t}),yp={left:"right",right:"left",bottom:"top",top:"bottom"},vp={start:"end",end:"start"};function Gr(t,e,n){return kt(t,bn(e,n))}function go(t,e){return typeof t=="function"?t(e):t}function vn(t){return t.split("-")[0]}function bo(t){return t.split("-")[1]}function Zf(t){return t==="x"?"y":"x"}function _l(t){return t==="y"?"height":"width"}function Qo(t){return["top","bottom"].includes(vn(t))?"y":"x"}function gl(t){return Zf(Qo(t))}function wp(t,e,n){n===void 0&&(n=!1);const o=bo(t),i=gl(t),r=_l(i);let l=i==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return e.reference[r]>e.floating[r]&&(l=Ei(l)),[l,Ei(l)]}function kp(t){const e=Ei(t);return[Vr(t),e,Vr(e)]}function Vr(t){return t.replace(/start|end/g,e=>vp[e])}function Cp(t,e,n){const o=["left","right"],i=["right","left"],r=["top","bottom"],l=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:o:e?o:i;case"left":case"right":return e?r:l;default:return[]}}function Sp(t,e,n,o){const i=bo(t);let r=Cp(vn(t),n==="start",o);return i&&(r=r.map(l=>l+"-"+i),e&&(r=r.concat(r.map(Vr)))),r}function Ei(t){return t.replace(/left|right|bottom|top/g,e=>yp[e])}function Ap(t){return{top:0,right:0,bottom:0,left:0,...t}}function Qf(t){return typeof t!="number"?Ap(t):{top:t,right:t,bottom:t,left:t}}function $i(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function Ql(t,e,n){let{reference:o,floating:i}=t;const r=Qo(e),l=gl(e),a=_l(l),s=vn(e),u=r==="y",f=o.x+o.width/2-i.width/2,c=o.y+o.height/2-i.height/2,d=o[a]/2-i[a]/2;let m;switch(s){case"top":m={x:f,y:o.y-i.height};break;case"bottom":m={x:f,y:o.y+o.height};break;case"right":m={x:o.x+o.width,y:c};break;case"left":m={x:o.x-i.width,y:c};break;default:m={x:o.x,y:o.y}}switch(bo(e)){case"start":m[l]-=d*(n&&u?-1:1);break;case"end":m[l]+=d*(n&&u?-1:1);break}return m}const Tp=async(t,e,n)=>{const{placement:o="bottom",strategy:i="absolute",middleware:r=[],platform:l}=n,a=r.filter(Boolean),s=await(l.isRTL==null?void 0:l.isRTL(e));let u=await l.getElementRects({reference:t,floating:e,strategy:i}),{x:f,y:c}=Ql(u,o,s),d=o,m={},p=0;for(let _=0;_<a.length;_++){const{name:h,fn:w}=a[_],{x:y,y:C,data:R,reset:D}=await w({x:f,y:c,initialPlacement:o,placement:d,strategy:i,middlewareData:m,rects:u,platform:l,elements:{reference:t,floating:e}});f=y??f,c=C??c,m={...m,[h]:{...m[h],...R}},D&&p<=50&&(p++,typeof D=="object"&&(D.placement&&(d=D.placement),D.rects&&(u=D.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:i}):D.rects),{x:f,y:c}=Ql(u,d,s)),_=-1)}return{x:f,y:c,placement:d,strategy:i,middlewareData:m}};async function bl(t,e){var n;e===void 0&&(e={});const{x:o,y:i,platform:r,rects:l,elements:a,strategy:s}=t,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:c="floating",altBoundary:d=!1,padding:m=0}=go(e,t),p=Qf(m),h=a[d?c==="floating"?"reference":"floating":c],w=$i(await r.getClippingRect({element:(n=await(r.isElement==null?void 0:r.isElement(h)))==null||n?h:h.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(a.floating)),boundary:u,rootBoundary:f,strategy:s})),y=c==="floating"?{...l.floating,x:o,y:i}:l.reference,C=await(r.getOffsetParent==null?void 0:r.getOffsetParent(a.floating)),R=await(r.isElement==null?void 0:r.isElement(C))?await(r.getScale==null?void 0:r.getScale(C))||{x:1,y:1}:{x:1,y:1},D=$i(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:C,strategy:s}):y);return{top:(w.top-D.top+p.top)/R.y,bottom:(D.bottom-w.bottom+p.bottom)/R.y,left:(w.left-D.left+p.left)/R.x,right:(D.right-w.right+p.right)/R.x}}const Ip=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:o,placement:i,rects:r,platform:l,elements:a,middlewareData:s}=e,{element:u,padding:f=0}=go(t,e)||{};if(u==null)return{};const c=Qf(f),d={x:n,y:o},m=gl(i),p=_l(m),_=await l.getDimensions(u),h=m==="y",w=h?"top":"left",y=h?"bottom":"right",C=h?"clientHeight":"clientWidth",R=r.reference[p]+r.reference[m]-d[m]-r.floating[p],D=d[m]-r.reference[m],F=await(l.getOffsetParent==null?void 0:l.getOffsetParent(u));let N=F?F[C]:0;(!N||!await(l.isElement==null?void 0:l.isElement(F)))&&(N=a.floating[C]||r.floating[p]);const P=R/2-D/2,E=N/2-_[p]/2-1,q=bn(c[w],E),O=bn(c[y],E),v=q,I=N-_[p]-O,L=N/2-_[p]/2+P,B=Gr(v,L,I),j=!s.arrow&&bo(i)!=null&&L!==B&&r.reference[p]/2-(L<v?q:O)-_[p]/2<0,K=j?L<v?L-v:L-I:0;return{[m]:d[m]+K,data:{[m]:B,centerOffset:L-B-K,...j&&{alignmentOffset:K}},reset:j}}}),Mp=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,o;const{placement:i,middlewareData:r,rects:l,initialPlacement:a,platform:s,elements:u}=e,{mainAxis:f=!0,crossAxis:c=!0,fallbackPlacements:d,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:_=!0,...h}=go(t,e);if((n=r.arrow)!=null&&n.alignmentOffset)return{};const w=vn(i),y=vn(a)===a,C=await(s.isRTL==null?void 0:s.isRTL(u.floating)),R=d||(y||!_?[Ei(a)]:kp(a));!d&&p!=="none"&&R.push(...Sp(a,_,p,C));const D=[a,...R],F=await bl(e,h),N=[];let P=((o=r.flip)==null?void 0:o.overflows)||[];if(f&&N.push(F[w]),c){const v=wp(i,l,C);N.push(F[v[0]],F[v[1]])}if(P=[...P,{placement:i,overflows:N}],!N.every(v=>v<=0)){var E,q;const v=(((E=r.flip)==null?void 0:E.index)||0)+1,I=D[v];if(I)return{data:{index:v,overflows:P},reset:{placement:I}};let L=(q=P.filter(B=>B.overflows[0]<=0).sort((B,j)=>B.overflows[1]-j.overflows[1])[0])==null?void 0:q.placement;if(!L)switch(m){case"bestFit":{var O;const B=(O=P.map(j=>[j.placement,j.overflows.filter(K=>K>0).reduce((K,X)=>K+X,0)]).sort((j,K)=>j[1]-K[1])[0])==null?void 0:O[0];B&&(L=B);break}case"initialPlacement":L=a;break}if(i!==L)return{reset:{placement:L}}}return{}}}};async function Op(t,e){const{placement:n,platform:o,elements:i}=t,r=await(o.isRTL==null?void 0:o.isRTL(i.floating)),l=vn(n),a=bo(n),s=Qo(n)==="y",u=["left","top"].includes(l)?-1:1,f=r&&s?-1:1,c=go(e,t);let{mainAxis:d,crossAxis:m,alignmentAxis:p}=typeof c=="number"?{mainAxis:c,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...c};return a&&typeof p=="number"&&(m=a==="end"?p*-1:p),s?{x:m*f,y:d*u}:{x:d*u,y:m*f}}const Pp=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,o;const{x:i,y:r,placement:l,middlewareData:a}=e,s=await Op(e,t);return l===((n=a.offset)==null?void 0:n.placement)&&(o=a.arrow)!=null&&o.alignmentOffset?{}:{x:i+s.x,y:r+s.y,data:{...s,placement:l}}}}},Np=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:o,placement:i}=e,{mainAxis:r=!0,crossAxis:l=!1,limiter:a={fn:h=>{let{x:w,y}=h;return{x:w,y}}},...s}=go(t,e),u={x:n,y:o},f=await bl(e,s),c=Qo(vn(i)),d=Zf(c);let m=u[d],p=u[c];if(r){const h=d==="y"?"top":"left",w=d==="y"?"bottom":"right",y=m+f[h],C=m-f[w];m=Gr(y,m,C)}if(l){const h=c==="y"?"top":"left",w=c==="y"?"bottom":"right",y=p+f[h],C=p-f[w];p=Gr(y,p,C)}const _=a.fn({...e,[d]:m,[c]:p});return{..._,data:{x:_.x-n,y:_.y-o}}}}},Ep=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){const{placement:n,rects:o,platform:i,elements:r}=e,{apply:l=()=>{},...a}=go(t,e),s=await bl(e,a),u=vn(n),f=bo(n),c=Qo(n)==="y",{width:d,height:m}=o.floating;let p,_;u==="top"||u==="bottom"?(p=u,_=f===(await(i.isRTL==null?void 0:i.isRTL(r.floating))?"start":"end")?"left":"right"):(_=u,p=f==="end"?"top":"bottom");const h=m-s[p],w=d-s[_],y=!e.middlewareData.shift;let C=h,R=w;if(c){const F=d-s.left-s.right;R=f||y?bn(w,F):F}else{const F=m-s.top-s.bottom;C=f||y?bn(h,F):F}if(y&&!f){const F=kt(s.left,0),N=kt(s.right,0),P=kt(s.top,0),E=kt(s.bottom,0);c?R=d-2*(F!==0||N!==0?F+N:kt(s.left,s.right)):C=m-2*(P!==0||E!==0?P+E:kt(s.top,s.bottom))}await l({...e,availableWidth:R,availableHeight:C});const D=await i.getDimensions(r.floating);return d!==D.width||m!==D.height?{reset:{rects:!0}}:{}}}};function wn(t){return zf(t)?(t.nodeName||"").toLowerCase():"#document"}function St(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function on(t){var e;return(e=(zf(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function zf(t){return t instanceof Node||t instanceof St(t).Node}function en(t){return t instanceof Element||t instanceof St(t).Element}function Vt(t){return t instanceof HTMLElement||t instanceof St(t).HTMLElement}function zl(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof St(t).ShadowRoot}function zo(t){const{overflow:e,overflowX:n,overflowY:o,display:i}=Nt(t);return/auto|scroll|overlay|hidden|clip/.test(e+o+n)&&!["inline","contents"].includes(i)}function $p(t){return["table","td","th"].includes(wn(t))}function yl(t){const e=vl(),n=Nt(t);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(o=>(n.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(n.contain||"").includes(o))}function Rp(t){let e=uo(t);for(;Vt(e)&&!ir(e);){if(yl(e))return e;e=uo(e)}return null}function vl(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ir(t){return["html","body","#document"].includes(wn(t))}function Nt(t){return St(t).getComputedStyle(t)}function rr(t){return en(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function uo(t){if(wn(t)==="html")return t;const e=t.assignedSlot||t.parentNode||zl(t)&&t.host||on(t);return zl(e)?e.host:e}function ec(t){const e=uo(t);return ir(e)?t.ownerDocument?t.ownerDocument.body:t.body:Vt(e)&&zo(e)?e:ec(e)}function xo(t,e,n){var o;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=ec(t),r=i===((o=t.ownerDocument)==null?void 0:o.body),l=St(i);return r?e.concat(l,l.visualViewport||[],zo(i)?i:[],l.frameElement&&n?xo(l.frameElement):[]):e.concat(i,xo(i,[],n))}function tc(t){const e=Nt(t);let n=parseFloat(e.width)||0,o=parseFloat(e.height)||0;const i=Vt(t),r=i?t.offsetWidth:n,l=i?t.offsetHeight:o,a=Ni(n)!==r||Ni(o)!==l;return a&&(n=r,o=l),{width:n,height:o,$:a}}function wl(t){return en(t)?t:t.contextElement}function no(t){const e=wl(t);if(!Vt(e))return yn(1);const n=e.getBoundingClientRect(),{width:o,height:i,$:r}=tc(e);let l=(r?Ni(n.width):n.width)/o,a=(r?Ni(n.height):n.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!a||!Number.isFinite(a))&&(a=1),{x:l,y:a}}const Lp=yn(0);function nc(t){const e=St(t);return!vl()||!e.visualViewport?Lp:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Dp(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==St(t)?!1:e}function Rn(t,e,n,o){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),r=wl(t);let l=yn(1);e&&(o?en(o)&&(l=no(o)):l=no(t));const a=Dp(r,n,o)?nc(r):yn(0);let s=(i.left+a.x)/l.x,u=(i.top+a.y)/l.y,f=i.width/l.x,c=i.height/l.y;if(r){const d=St(r),m=o&&en(o)?St(o):o;let p=d,_=p.frameElement;for(;_&&o&&m!==p;){const h=no(_),w=_.getBoundingClientRect(),y=Nt(_),C=w.left+(_.clientLeft+parseFloat(y.paddingLeft))*h.x,R=w.top+(_.clientTop+parseFloat(y.paddingTop))*h.y;s*=h.x,u*=h.y,f*=h.x,c*=h.y,s+=C,u+=R,p=St(_),_=p.frameElement}}return $i({width:f,height:c,x:s,y:u})}const jp=[":popover-open",":modal"];function oc(t){return jp.some(e=>{try{return t.matches(e)}catch{return!1}})}function Fp(t){let{elements:e,rect:n,offsetParent:o,strategy:i}=t;const r=i==="fixed",l=on(o),a=e?oc(e.floating):!1;if(o===l||a&&r)return n;let s={scrollLeft:0,scrollTop:0},u=yn(1);const f=yn(0),c=Vt(o);if((c||!c&&!r)&&((wn(o)!=="body"||zo(l))&&(s=rr(o)),Vt(o))){const d=Rn(o);u=no(o),f.x=d.x+o.clientLeft,f.y=d.y+o.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-s.scrollLeft*u.x+f.x,y:n.y*u.y-s.scrollTop*u.y+f.y}}function qp(t){return Array.from(t.getClientRects())}function ic(t){return Rn(on(t)).left+rr(t).scrollLeft}function Bp(t){const e=on(t),n=rr(t),o=t.ownerDocument.body,i=kt(e.scrollWidth,e.clientWidth,o.scrollWidth,o.clientWidth),r=kt(e.scrollHeight,e.clientHeight,o.scrollHeight,o.clientHeight);let l=-n.scrollLeft+ic(t);const a=-n.scrollTop;return Nt(o).direction==="rtl"&&(l+=kt(e.clientWidth,o.clientWidth)-i),{width:i,height:r,x:l,y:a}}function Hp(t,e){const n=St(t),o=on(t),i=n.visualViewport;let r=o.clientWidth,l=o.clientHeight,a=0,s=0;if(i){r=i.width,l=i.height;const u=vl();(!u||u&&e==="fixed")&&(a=i.offsetLeft,s=i.offsetTop)}return{width:r,height:l,x:a,y:s}}function Gp(t,e){const n=Rn(t,!0,e==="fixed"),o=n.top+t.clientTop,i=n.left+t.clientLeft,r=Vt(t)?no(t):yn(1),l=t.clientWidth*r.x,a=t.clientHeight*r.y,s=i*r.x,u=o*r.y;return{width:l,height:a,x:s,y:u}}function es(t,e,n){let o;if(e==="viewport")o=Hp(t,n);else if(e==="document")o=Bp(on(t));else if(en(e))o=Gp(e,n);else{const i=nc(t);o={...e,x:e.x-i.x,y:e.y-i.y}}return $i(o)}function rc(t,e){const n=uo(t);return n===e||!en(n)||ir(n)?!1:Nt(n).position==="fixed"||rc(n,e)}function Vp(t,e){const n=e.get(t);if(n)return n;let o=xo(t,[],!1).filter(a=>en(a)&&wn(a)!=="body"),i=null;const r=Nt(t).position==="fixed";let l=r?uo(t):t;for(;en(l)&&!ir(l);){const a=Nt(l),s=yl(l);!s&&a.position==="fixed"&&(i=null),(r?!s&&!i:!s&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||zo(l)&&!s&&rc(t,l))?o=o.filter(f=>f!==l):i=a,l=uo(l)}return e.set(t,o),o}function Wp(t){let{element:e,boundary:n,rootBoundary:o,strategy:i}=t;const l=[...n==="clippingAncestors"?Vp(e,this._c):[].concat(n),o],a=l[0],s=l.reduce((u,f)=>{const c=es(e,f,i);return u.top=kt(c.top,u.top),u.right=bn(c.right,u.right),u.bottom=bn(c.bottom,u.bottom),u.left=kt(c.left,u.left),u},es(e,a,i));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}}function xp(t){const{width:e,height:n}=tc(t);return{width:e,height:n}}function Yp(t,e,n){const o=Vt(e),i=on(e),r=n==="fixed",l=Rn(t,!0,r,e);let a={scrollLeft:0,scrollTop:0};const s=yn(0);if(o||!o&&!r)if((wn(e)!=="body"||zo(i))&&(a=rr(e)),o){const c=Rn(e,!0,r,e);s.x=c.x+e.clientLeft,s.y=c.y+e.clientTop}else i&&(s.x=ic(i));const u=l.left+a.scrollLeft-s.x,f=l.top+a.scrollTop-s.y;return{x:u,y:f,width:l.width,height:l.height}}function ts(t,e){return!Vt(t)||Nt(t).position==="fixed"?null:e?e(t):t.offsetParent}function lc(t,e){const n=St(t);if(!Vt(t)||oc(t))return n;let o=ts(t,e);for(;o&&$p(o)&&Nt(o).position==="static";)o=ts(o,e);return o&&(wn(o)==="html"||wn(o)==="body"&&Nt(o).position==="static"&&!yl(o))?n:o||Rp(t)||n}const Up=async function(t){const e=this.getOffsetParent||lc,n=this.getDimensions;return{reference:Yp(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,...await n(t.floating)}}};function Kp(t){return Nt(t).direction==="rtl"}const Jp={convertOffsetParentRelativeRectToViewportRelativeRect:Fp,getDocumentElement:on,getClippingRect:Wp,getOffsetParent:lc,getElementRects:Up,getClientRects:qp,getDimensions:xp,getScale:no,isElement:en,isRTL:Kp};function Xp(t,e){let n=null,o;const i=on(t);function r(){var a;clearTimeout(o),(a=n)==null||a.disconnect(),n=null}function l(a,s){a===void 0&&(a=!1),s===void 0&&(s=1),r();const{left:u,top:f,width:c,height:d}=t.getBoundingClientRect();if(a||e(),!c||!d)return;const m=oi(f),p=oi(i.clientWidth-(u+c)),_=oi(i.clientHeight-(f+d)),h=oi(u),y={rootMargin:-m+"px "+-p+"px "+-_+"px "+-h+"px",threshold:kt(0,bn(1,s))||1};let C=!0;function R(D){const F=D[0].intersectionRatio;if(F!==s){if(!C)return l();F?l(!1,F):o=setTimeout(()=>{l(!1,1e-7)},100)}C=!1}try{n=new IntersectionObserver(R,{...y,root:i.ownerDocument})}catch{n=new IntersectionObserver(R,y)}n.observe(t)}return l(!0),r}function Zp(t,e,n,o){o===void 0&&(o={});const{ancestorScroll:i=!0,ancestorResize:r=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:s=!1}=o,u=wl(t),f=i||r?[...u?xo(u):[],...xo(e)]:[];f.forEach(w=>{i&&w.addEventListener("scroll",n,{passive:!0}),r&&w.addEventListener("resize",n)});const c=u&&a?Xp(u,n):null;let d=-1,m=null;l&&(m=new ResizeObserver(w=>{let[y]=w;y&&y.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var C;(C=m)==null||C.observe(e)})),n()}),u&&!s&&m.observe(u),m.observe(e));let p,_=s?Rn(t):null;s&&h();function h(){const w=Rn(t);_&&(w.x!==_.x||w.y!==_.y||w.width!==_.width||w.height!==_.height)&&n(),_=w,p=requestAnimationFrame(h)}return n(),()=>{var w;f.forEach(y=>{i&&y.removeEventListener("scroll",n),r&&y.removeEventListener("resize",n)}),c==null||c(),(w=m)==null||w.disconnect(),m=null,s&&cancelAnimationFrame(p)}}const Qp=Np,zp=Mp,eh=Ep,th=Ip,nh=(t,e,n)=>{const o=new Map,i={platform:Jp,...n},r={...i.platform,_c:o};return Tp(t,e,{...i,platform:r})},oh={strategy:"absolute",placement:"top",gutter:5,flip:!0,sameWidth:!1,overflowPadding:8},ih={bottom:"rotate(45deg)",left:"rotate(135deg)",top:"rotate(225deg)",right:"rotate(315deg)"};function rh(t,e,n={}){if(!e||!t||n===null)return{destroy:ze};const o={...oh,...n},i=e.querySelector("[data-arrow=true]"),r=[];o.flip&&r.push(zp({boundary:o.boundary,padding:o.overflowPadding}));const l=yt(i)?i.offsetHeight/2:0;if(o.gutter||o.offset){const s=o.gutter?{mainAxis:o.gutter}:o.offset;(s==null?void 0:s.mainAxis)!=null&&(s.mainAxis+=l),r.push(Pp(s))}r.push(Qp({boundary:o.boundary,crossAxis:o.overlap,padding:o.overflowPadding})),i&&r.push(th({element:i,padding:8})),r.push(eh({padding:o.overflowPadding,apply({rects:s,availableHeight:u,availableWidth:f}){o.sameWidth&&Object.assign(e.style,{width:`${Math.round(s.reference.width)}px`,minWidth:"unset"}),o.fitViewport&&Object.assign(e.style,{maxWidth:`${f}px`,maxHeight:`${u}px`})}}));function a(){if(!t||!e)return;const{placement:s,strategy:u}=o;nh(t,e,{placement:s,middleware:r,strategy:u}).then(f=>{const c=Math.round(f.x),d=Math.round(f.y);if(Object.assign(e.style,{position:o.strategy,top:`${d}px`,left:`${c}px`}),yt(i)&&f.middlewareData.arrow){const{x:m,y:p}=f.middlewareData.arrow,_=f.placement.split("-")[0];Object.assign(i.style,{position:"absolute",left:m!=null?`${m}px`:"",top:p!=null?`${p}px`:"",[_]:`calc(100% - ${l}px)`,transform:ih[_],backgroundColor:"inherit",zIndex:"inherit"})}return f})}return Object.assign(e.style,{position:o.strategy}),{destroy:Zp(t,e,a)}}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var sc=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Ri=sc.join(","),ac=typeof Element>"u",Ln=ac?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Li=!ac&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},Di=function t(e,n){var o;n===void 0&&(n=!0);var i=e==null||(o=e.getAttribute)===null||o===void 0?void 0:o.call(e,"inert"),r=i===""||i==="true",l=r||n&&e&&t(e.parentNode);return l},lh=function(e){var n,o=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"contenteditable");return o===""||o==="true"},uc=function(e,n,o){if(Di(e))return[];var i=Array.prototype.slice.apply(e.querySelectorAll(Ri));return n&&Ln.call(e,Ri)&&i.unshift(e),i=i.filter(o),i},fc=function t(e,n,o){for(var i=[],r=Array.from(e);r.length;){var l=r.shift();if(!Di(l,!1))if(l.tagName==="SLOT"){var a=l.assignedElements(),s=a.length?a:l.children,u=t(s,!0,o);o.flatten?i.push.apply(i,u):i.push({scopeParent:l,candidates:u})}else{var f=Ln.call(l,Ri);f&&o.filter(l)&&(n||!e.includes(l))&&i.push(l);var c=l.shadowRoot||typeof o.getShadowRoot=="function"&&o.getShadowRoot(l),d=!Di(c,!1)&&(!o.shadowRootFilter||o.shadowRootFilter(l));if(c&&d){var m=t(c===!0?l.children:c.children,!0,o);o.flatten?i.push.apply(i,m):i.push({scopeParent:l,candidates:m})}else r.unshift.apply(r,l.children)}}return i},cc=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},An=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||lh(e))&&!cc(e)?0:e.tabIndex},sh=function(e,n){var o=An(e);return o<0&&n&&!cc(e)?0:o},ah=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},dc=function(e){return e.tagName==="INPUT"},uh=function(e){return dc(e)&&e.type==="hidden"},fh=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(o){return o.tagName==="SUMMARY"});return n},ch=function(e,n){for(var o=0;o<e.length;o++)if(e[o].checked&&e[o].form===n)return e[o]},dh=function(e){if(!e.name)return!0;var n=e.form||Li(e),o=function(a){return n.querySelectorAll('input[type="radio"][name="'+a+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=o(window.CSS.escape(e.name));else try{i=o(e.name)}catch(l){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",l.message),!1}var r=ch(i,e.form);return!r||r===e},mh=function(e){return dc(e)&&e.type==="radio"},ph=function(e){return mh(e)&&!dh(e)},hh=function(e){var n,o=e&&Li(e),i=(n=o)===null||n===void 0?void 0:n.host,r=!1;if(o&&o!==e){var l,a,s;for(r=!!((l=i)!==null&&l!==void 0&&(a=l.ownerDocument)!==null&&a!==void 0&&a.contains(i)||e!=null&&(s=e.ownerDocument)!==null&&s!==void 0&&s.contains(e));!r&&i;){var u,f,c;o=Li(i),i=(u=o)===null||u===void 0?void 0:u.host,r=!!((f=i)!==null&&f!==void 0&&(c=f.ownerDocument)!==null&&c!==void 0&&c.contains(i))}}return r},ns=function(e){var n=e.getBoundingClientRect(),o=n.width,i=n.height;return o===0&&i===0},_h=function(e,n){var o=n.displayCheck,i=n.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var r=Ln.call(e,"details>summary:first-of-type"),l=r?e.parentElement:e;if(Ln.call(l,"details:not([open]) *"))return!0;if(!o||o==="full"||o==="legacy-full"){if(typeof i=="function"){for(var a=e;e;){var s=e.parentElement,u=Li(e);if(s&&!s.shadowRoot&&i(s)===!0)return ns(e);e.assignedSlot?e=e.assignedSlot:!s&&u!==e.ownerDocument?e=u.host:e=s}e=a}if(hh(e))return!e.getClientRects().length;if(o!=="legacy-full")return!0}else if(o==="non-zero-area")return ns(e);return!1},gh=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var o=0;o<n.children.length;o++){var i=n.children.item(o);if(i.tagName==="LEGEND")return Ln.call(n,"fieldset[disabled] *")?!0:!i.contains(e)}return!0}n=n.parentElement}return!1},ji=function(e,n){return!(n.disabled||Di(n)||uh(n)||_h(n,e)||fh(n)||gh(n))},Wr=function(e,n){return!(ph(n)||An(n)<0||!ji(e,n))},bh=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},yh=function t(e){var n=[],o=[];return e.forEach(function(i,r){var l=!!i.scopeParent,a=l?i.scopeParent:i,s=sh(a,l),u=l?t(i.candidates):a;s===0?l?n.push.apply(n,u):n.push(a):o.push({documentOrder:r,tabIndex:s,item:i,isScope:l,content:u})}),o.sort(ah).reduce(function(i,r){return r.isScope?i.push.apply(i,r.content):i.push(r.content),i},[]).concat(n)},vh=function(e,n){n=n||{};var o;return n.getShadowRoot?o=fc([e],n.includeContainer,{filter:Wr.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:bh}):o=uc(e,n.includeContainer,Wr.bind(null,n)),yh(o)},wh=function(e,n){n=n||{};var o;return n.getShadowRoot?o=fc([e],n.includeContainer,{filter:ji.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):o=uc(e,n.includeContainer,ji.bind(null,n)),o},Un=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return Ln.call(e,Ri)===!1?!1:Wr(n,e)},kh=sc.concat("iframe").join(","),_r=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return Ln.call(e,kh)===!1?!1:ji(n,e)};/*!
* focus-trap 7.5.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function os(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,o)}return n}function is(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?os(Object(n),!0).forEach(function(o){Ch(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):os(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function Ch(t,e,n){return e=Ah(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sh(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ah(t){var e=Sh(t,"string");return typeof e=="symbol"?e:String(e)}var rs={activateTrap:function(e,n){if(e.length>0){var o=e[e.length-1];o!==n&&o.pause()}var i=e.indexOf(n);i===-1||e.splice(i,1),e.push(n)},deactivateTrap:function(e,n){var o=e.indexOf(n);o!==-1&&e.splice(o,1),e.length>0&&e[e.length-1].unpause()}},Th=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},Ih=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},Ho=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},Mh=function(e){return Ho(e)&&!e.shiftKey},Oh=function(e){return Ho(e)&&e.shiftKey},ls=function(e){return setTimeout(e,0)},ss=function(e,n){var o=-1;return e.every(function(i,r){return n(i)?(o=r,!1):!0}),o},Oo=function(e){for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return typeof e=="function"?e.apply(void 0,o):e},ii=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},Ph=[],Nh=function(e,n){var o=(n==null?void 0:n.document)||document,i=(n==null?void 0:n.trapStack)||Ph,r=is({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:Mh,isKeyBackward:Oh},n),l={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},a,s=function(v,I,L){return v&&v[I]!==void 0?v[I]:r[L||I]},u=function(v,I){var L=typeof(I==null?void 0:I.composedPath)=="function"?I.composedPath():void 0;return l.containerGroups.findIndex(function(B){var j=B.container,K=B.tabbableNodes;return j.contains(v)||(L==null?void 0:L.includes(j))||K.find(function(X){return X===v})})},f=function(v){var I=r[v];if(typeof I=="function"){for(var L=arguments.length,B=new Array(L>1?L-1:0),j=1;j<L;j++)B[j-1]=arguments[j];I=I.apply(void 0,B)}if(I===!0&&(I=void 0),!I){if(I===void 0||I===!1)return I;throw new Error("`".concat(v,"` was specified but was not a node, or did not return a node"))}var K=I;if(typeof I=="string"&&(K=o.querySelector(I),!K))throw new Error("`".concat(v,"` as selector refers to no known node"));return K},c=function(){var v=f("initialFocus");if(v===!1)return!1;if(v===void 0||!_r(v,r.tabbableOptions))if(u(o.activeElement)>=0)v=o.activeElement;else{var I=l.tabbableGroups[0],L=I&&I.firstTabbableNode;v=L||f("fallbackFocus")}if(!v)throw new Error("Your focus-trap needs to have at least one focusable element");return v},d=function(){if(l.containerGroups=l.containers.map(function(v){var I=vh(v,r.tabbableOptions),L=wh(v,r.tabbableOptions),B=I.length>0?I[0]:void 0,j=I.length>0?I[I.length-1]:void 0,K=L.find(function(oe){return Un(oe)}),X=L.slice().reverse().find(function(oe){return Un(oe)}),z=!!I.find(function(oe){return An(oe)>0});return{container:v,tabbableNodes:I,focusableNodes:L,posTabIndexesFound:z,firstTabbableNode:B,lastTabbableNode:j,firstDomTabbableNode:K,lastDomTabbableNode:X,nextTabbableNode:function(J){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,_e=I.indexOf(J);return _e<0?ne?L.slice(L.indexOf(J)+1).find(function(se){return Un(se)}):L.slice(0,L.indexOf(J)).reverse().find(function(se){return Un(se)}):I[_e+(ne?1:-1)]}}}),l.tabbableGroups=l.containerGroups.filter(function(v){return v.tabbableNodes.length>0}),l.tabbableGroups.length<=0&&!f("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(l.containerGroups.find(function(v){return v.posTabIndexesFound})&&l.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},m=function O(v){var I=v.activeElement;if(I)return I.shadowRoot&&I.shadowRoot.activeElement!==null?O(I.shadowRoot):I},p=function O(v){if(v!==!1&&v!==m(document)){if(!v||!v.focus){O(c());return}v.focus({preventScroll:!!r.preventScroll}),l.mostRecentlyFocusedNode=v,Th(v)&&v.select()}},_=function(v){var I=f("setReturnFocus",v);return I||(I===!1?!1:v)},h=function(v){var I=v.target,L=v.event,B=v.isBackward,j=B===void 0?!1:B;I=I||ii(L),d();var K=null;if(l.tabbableGroups.length>0){var X=u(I,L),z=X>=0?l.containerGroups[X]:void 0;if(X<0)j?K=l.tabbableGroups[l.tabbableGroups.length-1].lastTabbableNode:K=l.tabbableGroups[0].firstTabbableNode;else if(j){var oe=ss(l.tabbableGroups,function(je){var Fe=je.firstTabbableNode;return I===Fe});if(oe<0&&(z.container===I||_r(I,r.tabbableOptions)&&!Un(I,r.tabbableOptions)&&!z.nextTabbableNode(I,!1))&&(oe=X),oe>=0){var J=oe===0?l.tabbableGroups.length-1:oe-1,ne=l.tabbableGroups[J];K=An(I)>=0?ne.lastTabbableNode:ne.lastDomTabbableNode}else Ho(L)||(K=z.nextTabbableNode(I,!1))}else{var _e=ss(l.tabbableGroups,function(je){var Fe=je.lastTabbableNode;return I===Fe});if(_e<0&&(z.container===I||_r(I,r.tabbableOptions)&&!Un(I,r.tabbableOptions)&&!z.nextTabbableNode(I))&&(_e=X),_e>=0){var se=_e===l.tabbableGroups.length-1?0:_e+1,re=l.tabbableGroups[se];K=An(I)>=0?re.firstTabbableNode:re.firstDomTabbableNode}else Ho(L)||(K=z.nextTabbableNode(I))}}else K=f("fallbackFocus");return K},w=function(v){var I=ii(v);if(!(u(I,v)>=0)){if(Oo(r.clickOutsideDeactivates,v)){a.deactivate({returnFocus:r.returnFocusOnDeactivate});return}Oo(r.allowOutsideClick,v)||v.preventDefault()}},y=function(v){var I=ii(v),L=u(I,v)>=0;if(L||I instanceof Document)L&&(l.mostRecentlyFocusedNode=I);else{v.stopImmediatePropagation();var B,j=!0;if(l.mostRecentlyFocusedNode)if(An(l.mostRecentlyFocusedNode)>0){var K=u(l.mostRecentlyFocusedNode),X=l.containerGroups[K].tabbableNodes;if(X.length>0){var z=X.findIndex(function(oe){return oe===l.mostRecentlyFocusedNode});z>=0&&(r.isKeyForward(l.recentNavEvent)?z+1<X.length&&(B=X[z+1],j=!1):z-1>=0&&(B=X[z-1],j=!1))}}else l.containerGroups.some(function(oe){return oe.tabbableNodes.some(function(J){return An(J)>0})})||(j=!1);else j=!1;j&&(B=h({target:l.mostRecentlyFocusedNode,isBackward:r.isKeyBackward(l.recentNavEvent)})),p(B||l.mostRecentlyFocusedNode||c())}l.recentNavEvent=void 0},C=function(v){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;l.recentNavEvent=v;var L=h({event:v,isBackward:I});L&&(Ho(v)&&v.preventDefault(),p(L))},R=function(v){if(Ih(v)&&Oo(r.escapeDeactivates,v)!==!1){v.preventDefault(),a.deactivate();return}(r.isKeyForward(v)||r.isKeyBackward(v))&&C(v,r.isKeyBackward(v))},D=function(v){var I=ii(v);u(I,v)>=0||Oo(r.clickOutsideDeactivates,v)||Oo(r.allowOutsideClick,v)||(v.preventDefault(),v.stopImmediatePropagation())},F=function(){if(l.active)return rs.activateTrap(i,a),l.delayInitialFocusTimer=r.delayInitialFocus?ls(function(){p(c())}):p(c()),o.addEventListener("focusin",y,!0),o.addEventListener("mousedown",w,{capture:!0,passive:!1}),o.addEventListener("touchstart",w,{capture:!0,passive:!1}),o.addEventListener("click",D,{capture:!0,passive:!1}),o.addEventListener("keydown",R,{capture:!0,passive:!1}),a},N=function(){if(l.active)return o.removeEventListener("focusin",y,!0),o.removeEventListener("mousedown",w,!0),o.removeEventListener("touchstart",w,!0),o.removeEventListener("click",D,!0),o.removeEventListener("keydown",R,!0),a},P=function(v){var I=v.some(function(L){var B=Array.from(L.removedNodes);return B.some(function(j){return j===l.mostRecentlyFocusedNode})});I&&p(c())},E=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(P):void 0,q=function(){E&&(E.disconnect(),l.active&&!l.paused&&l.containers.map(function(v){E.observe(v,{subtree:!0,childList:!0})}))};return a={get active(){return l.active},get paused(){return l.paused},activate:function(v){if(l.active)return this;var I=s(v,"onActivate"),L=s(v,"onPostActivate"),B=s(v,"checkCanFocusTrap");B||d(),l.active=!0,l.paused=!1,l.nodeFocusedBeforeActivation=o.activeElement,I==null||I();var j=function(){B&&d(),F(),q(),L==null||L()};return B?(B(l.containers.concat()).then(j,j),this):(j(),this)},deactivate:function(v){if(!l.active)return this;var I=is({onDeactivate:r.onDeactivate,onPostDeactivate:r.onPostDeactivate,checkCanReturnFocus:r.checkCanReturnFocus},v);clearTimeout(l.delayInitialFocusTimer),l.delayInitialFocusTimer=void 0,N(),l.active=!1,l.paused=!1,q(),rs.deactivateTrap(i,a);var L=s(I,"onDeactivate"),B=s(I,"onPostDeactivate"),j=s(I,"checkCanReturnFocus"),K=s(I,"returnFocus","returnFocusOnDeactivate");L==null||L();var X=function(){ls(function(){K&&p(_(l.nodeFocusedBeforeActivation)),B==null||B()})};return K&&j?(j(_(l.nodeFocusedBeforeActivation)).then(X,X),this):(X(),this)},pause:function(v){if(l.paused||!l.active)return this;var I=s(v,"onPause"),L=s(v,"onPostPause");return l.paused=!0,I==null||I(),N(),q(),L==null||L(),this},unpause:function(v){if(!l.paused||!l.active)return this;var I=s(v,"onUnpause"),L=s(v,"onPostUnpause");return l.paused=!1,I==null||I(),d(),F(),q(),L==null||L(),this},updateContainerElements:function(v){var I=[].concat(v).filter(Boolean);return l.containers=I.map(function(L){return typeof L=="string"?o.querySelector(L):L}),l.active&&d(),q(),this}},a.updateContainerElements(e),a};function Eh(t={}){let e;const{immediate:n,...o}=t,i=Ke(!1),r=Ke(!1),l=c=>e==null?void 0:e.activate(c),a=c=>{e==null||e.deactivate(c)},s=()=>{e&&(e.pause(),r.set(!0))},u=()=>{e&&(e.unpause(),r.set(!1))};return{useFocusTrap:c=>(e=Nh(c,{...o,onActivate(){var d;i.set(!0),(d=t.onActivate)==null||d.call(t)},onDeactivate(){var d;i.set(!1),(d=t.onDeactivate)==null||d.call(t)}}),n&&l(),{destroy(){a(),e=void 0}}),hasFocus:jl(i),isPaused:jl(r),activate:l,deactivate:a,pause:s,unpause:u}}const ri=[];function $h(t,e){let n=ze;function o(){const r=ri.indexOf(t);r>=0&&ri.splice(r,1)}function i(r){n();const{open:l,onClose:a,shouldCloseOnInteractOutside:s,closeOnInteractOutside:u}=r;pl(100).then(()=>{l?ri.push(t):o()});function f(){return Um(ri)===t}function c(){f()&&a&&(a(),o())}function d(p){const _=p.target;tr(_)&&_&&f()&&(p.preventDefault(),p.stopPropagation(),p.stopImmediatePropagation())}function m(p){s!=null&&s(p)&&f()&&(p.preventDefault(),p.stopPropagation(),p.stopImmediatePropagation(),c())}n=Rh(t,{onInteractOutsideStart:d,onInteractOutside:u?m:void 0,enabled:l}).destroy}return i(e),{update:i,destroy(){o(),n()}}}const mc=(t,e="body")=>{let n;if(!yt(e)&&typeof e!="string")return{destroy:ze};async function o(r){if(e=r,typeof e=="string"){if(n=document.querySelector(e),n===null&&(await ul(),n=document.querySelector(e)),n===null)throw new Error(`No element found matching css selector: "${e}"`)}else if(e instanceof HTMLElement)n=e;else throw new TypeError(`Unknown portal target type: ${e===null?"null":typeof e}. Allowed types: string (CSS selector) or HTMLElement.`);t.dataset.portal="",n.appendChild(t),t.hidden=!1}function i(){t.remove()}return o(e),{update:o,destroy:i}};function Rh(t,e){let n=ze,o=!1,i=!1,r=!1;function l(u){n();const{onInteractOutside:f,onInteractOutsideStart:c,enabled:d}=u;if(!d)return;function m(h){f&&as(h,t)&&(c==null||c(h));const w=h.target;tr(w)&&pc(t,w)&&(i=!0),o=!0}function p(h){f==null||f(h)}const _=Lh(t);if(typeof PointerEvent<"u"){const h=w=>{a(w)&&p(w),s()};n=Ht(dt(_,"pointerdown",m,!0),dt(_,"pointerup",h,!0))}else{const h=y=>{r?r=!1:a(y)&&p(y),s()},w=y=>{r=!0,a(y)&&p(y),s()};n=Ht(dt(_,"mousedown",m,!0),dt(_,"mouseup",h,!0),dt(_,"touchstart",m,!0),dt(_,"touchend",w,!0))}}function a(u){return!!(o&&!i&&as(u,t))}function s(){o=!1,i=!1}return l(e),{update:l,destroy:n}}function as(t,e){if("button"in t&&t.button>0)return!1;const n=t.target;if(!tr(n))return!1;const o=n.ownerDocument;return!o||!o.documentElement.contains(n)?!1:e&&!pc(e,n)}function pc(t,e){return t===e||t.contains(e)}function Lh(t){return(t==null?void 0:t.ownerDocument)??document}On(!1),On(!1),On(void 0);function Dh(){return{elements:{root:ft("label",{action:e=>({destroy:_t(e,"mousedown",o=>{!o.defaultPrevented&&o.detail>1&&o.preventDefault()})})})}}}const{name:Cn}=er("dialog"),jh={preventScroll:!0,closeOnEscape:!0,closeOnOutsideClick:!0,role:"dialog",defaultOpen:!1,portal:void 0,forceVisible:!1,openFocus:void 0,closeFocus:void 0,onOutsideClick:void 0},Fh=["content","title","description"];function hc(t){const e={...jh,...t},n=$n(nr(e,"ids")),{preventScroll:o,closeOnEscape:i,closeOnOutsideClick:r,role:l,portal:a,forceVisible:s,openFocus:u,closeFocus:f,onOutsideClick:c}=n,d=zt.writable(null),m=$n({...hl(Fh),...e.ids}),p=e.open??Ke(e.defaultOpen),_=or(p,e==null?void 0:e.onOpenChange),h=nn([_,s],([O,v])=>O||v);let w=ze;function y(O){const v=O.currentTarget,I=O.currentTarget;!yt(v)||!yt(I)||(_.set(!0),d.set(I))}function C(){_.set(!1),Xl({prop:f.get(),defaultEl:d.get()})}const R=ft(Cn("trigger"),{stores:[_],returned:([O])=>({"aria-haspopup":"dialog","aria-expanded":O,type:"button"}),action:O=>({destroy:Ht(_t(O,"click",I=>{y(I)}),_t(O,"keydown",I=>{I.key!==st.ENTER&&I.key!==st.SPACE||(I.preventDefault(),y(I))}))})}),D=ft(Cn("overlay"),{stores:[h,_],returned:([O,v])=>({hidden:O?void 0:!0,tabindex:-1,style:_n({display:O?void 0:"none"}),"aria-hidden":!0,"data-state":v?"open":"closed"}),action:O=>{let v=ze;if(i.get()){const I=Zl(O,{handler:()=>{C()}});I&&I.destroy&&(v=I.destroy)}return{destroy(){v()}}}}),F=ft(Cn("content"),{stores:[h,m.content,m.description,m.title,_],returned:([O,v,I,L,B])=>({id:v,role:l.get(),"aria-describedby":I,"aria-labelledby":L,"aria-modal":O?"true":void 0,"data-state":B?"open":"closed",tabindex:-1,hidden:O?void 0:!0,style:_n({display:O?void 0:"none"})}),action:O=>{let v=ze,I=ze;const L=Ht(Mt([_],([B])=>{if(!B)return;const j=Eh({immediate:!1,escapeDeactivates:!0,clickOutsideDeactivates:!0,returnFocusOnDeactivate:!1,fallbackFocus:O});v=j.activate,I=j.deactivate;const K=j.useFocusTrap(O);return K&&K.destroy?K.destroy:j.deactivate}),Mt([r,_],([B,j])=>$h(O,{open:j,closeOnInteractOutside:B,onClose(){C()},shouldCloseOnInteractOutside(K){var X;return(X=c.get())==null||X(K),!K.defaultPrevented}}).destroy),Mt([i],([B])=>{if(!B)return ze;const j=Zl(O,{handler:()=>{C()}});return j&&j.destroy?j.destroy:ze}),Mt([h],([B])=>{ul().then(()=>{B?v():I()})}));return{destroy:()=>{w(),L()}}}}),N=ft(Cn("portalled"),{stores:a,returned:O=>({"data-portal":Yf(O)}),action:O=>{const v=Mt([a],([I])=>{if(I===null)return ze;const L=Xf(O,I);if(L===null)return ze;const B=mc(O,L);return B&&B.destroy?B.destroy:ze});return{destroy(){v()}}}}),P=ft(Cn("title"),{stores:[m.title],returned:([O])=>({id:O})}),E=ft(Cn("description"),{stores:[m.description],returned:([O])=>({id:O})}),q=ft(Cn("close"),{returned:()=>({type:"button"}),action:O=>({destroy:Ht(_t(O,"click",()=>{C()}),_t(O,"keydown",I=>{I.key!==st.SPACE&&I.key!==st.ENTER||(I.preventDefault(),C())}))})});return Mt([_,o],([O,v])=>{if(Wo){if(v&&O&&(w=hp()),O){const I=document.getElementById(m.content.get());Xl({prop:u.get(),defaultEl:I})}return()=>{s.get()||w()}}}),{ids:m,elements:{content:F,trigger:R,title:P,description:E,overlay:D,close:q,portalled:N},states:{open:_},options:n}}const qh={defaultValue:0,max:100},{name:Bh}=er("progress"),Hh=t=>{const e={...qh,...t},n=$n(nr(e,"value")),{max:o}=n,i=e.value??Ke(e.defaultValue),r=or(i,e==null?void 0:e.onValueChange);return{elements:{root:ft(Bh(),{stores:[r,o],returned:([a,s])=>({value:a,max:s,role:"meter","aria-valuemin":0,"aria-valuemax":s,"aria-valuenow":a,"data-value":a,"data-state":a===null?"indeterminate":a===s?"complete":"loading","data-max":s})})},states:{value:r},options:n}},Gh={orientation:"horizontal",decorative:!1},Vh=t=>{const e={...Gh,...t},n=$n(e),{orientation:o,decorative:i}=n;return{elements:{root:ft("separator",{stores:[o,i],returned:([l,a])=>({role:a?"none":"separator","aria-orientation":l==="vertical"?l:void 0,"aria-hidden":a,"data-orientation":l})})},options:n}},Wh={defaultValue:[],min:0,max:100,step:1,orientation:"horizontal",dir:"ltr",disabled:!1},{name:li}=er("slider"),xh=t=>{const e={...Wh,...t},n=$n(nr(e,"value","onValueChange","defaultValue")),{min:o,max:i,step:r,orientation:l,dir:a,disabled:s}=n,u=e.value??Ke(e.defaultValue),f=or(u,e==null?void 0:e.onValueChange),c=zt(Ke(!1)),d=zt(Ke(0)),m=zt(Ke(null)),p=hl(["root"]),_=(N,P)=>{f.update(E=>{if(!E)return[N];if(E[P]===N)return E;const q=[...E],O=q[P]>N?-1:1;function v(){q[P]=q[P+O],q[P+O]=N;const j=h();j&&(j[P+O].focus(),m.set({thumb:j[P+O],index:P+O}))}if(O===-1&&N<q[P-1])return v(),q;if(O===1&&N>q[P+1])return v(),q;const I=o.get(),L=i.get(),B=r.get();return q[P]=hr(N,I,L,B),q})},h=()=>{const N=mr(p.root);return N?Array.from(N.querySelectorAll('[data-melt-part="thumb"]')).filter(P=>yt(P)):null},w=nn([o,i],([N,P])=>E=>(E-N)/(P-N)*100),y=zt.derived([l,a],([N,P])=>N==="horizontal"?P==="rtl"?"rl":"lr":P==="rtl"?"tb":"bt"),C=ft(li(),{stores:[s,l,a],returned:([N,P,E])=>({dir:E,disabled:dr(N),"data-disabled":dr(N),"data-orientation":P,style:N?void 0:`touch-action: ${P==="horizontal"?"pan-y":"pan-x"}`,"data-melt-id":p.root})}),R=ft(li("range"),{stores:[f,y,w],returned:([N,P,E])=>{const q=N.length>1?E(Math.min(...N)??0):0,O=100-E(Math.max(...N)??0),v={position:"absolute"};switch(P){case"lr":{v.left=`${q}%`,v.right=`${O}%`;break}case"rl":{v.right=`${q}%`,v.left=`${O}%`;break}case"bt":{v.bottom=`${q}%`,v.top=`${O}%`;break}case"tb":{v.top=`${q}%`,v.bottom=`${O}%`;break}}return{style:_n(v)}}}),D=Ul(li("thumb"),{stores:[f,w,o,i,s,l,y],returned:([N,P,E,q,O,v,I])=>Array.from({length:N.length||1},(B,j)=>{d.get()<N.length&&d.update(J=>J+1);const X=N[j],z=`${P(X)}%`,oe={position:"absolute"};switch(I){case"lr":{oe.left=z,oe.translate="-50% 0";break}case"rl":{oe.right=z,oe.translate="50% 0";break}case"bt":{oe.bottom=z,oe.translate="0 50%";break}case"tb":{oe.top=z,oe.translate="0 -50%";break}}return{role:"slider","aria-valuemin":E,"aria-valuemax":q,"aria-valuenow":X,"aria-disabled":dr(O),"aria-orientation":v,"data-melt-part":"thumb","data-value":X,style:_n(oe),tabindex:O?-1:0}}),action:N=>({destroy:_t(N,"keydown",E=>{if(s.get())return;const q=E.currentTarget;if(!yt(q))return;const O=h();if(!(O!=null&&O.length))return;const v=O.indexOf(q);if(d.set(v),![st.ARROW_LEFT,st.ARROW_RIGHT,st.ARROW_UP,st.ARROW_DOWN,st.HOME,st.END].includes(E.key))return;E.preventDefault();const I=o.get(),L=i.get(),B=r.get(),j=f.get(),K=l.get(),X=y.get(),z=j[v];switch(E.key){case st.HOME:{_(I,v);break}case st.END:{_(L,v);break}case st.ARROW_LEFT:{if(K!=="horizontal")break;E.metaKey?_(X==="rl"?L:I,v):X==="rl"&&z<L?_(z+B,v):X==="lr"&&z>I&&_(z-B,v);break}case st.ARROW_RIGHT:{if(K!=="horizontal")break;E.metaKey?_(X==="rl"?I:L,v):X==="rl"&&z>I?_(z-B,v):X==="lr"&&z<L&&_(z+B,v);break}case st.ARROW_UP:{E.metaKey?_(X==="tb"?I:L,v):X==="tb"&&z>I?_(z-B,v):X!=="tb"&&z<L&&_(z+B,v);break}case st.ARROW_DOWN:{E.metaKey?_(X==="tb"?L:I,v):X==="tb"&&z<L?_(z+B,v):X!=="tb"&&z>I&&_(z-B,v);break}}})})}),F=Ul(li("tick"),{stores:[f,o,i,r,y],returned:([N,P,E,q,O])=>{const v=E-P;let I=Math.ceil(v/q);return v%q==0&&I++,Array.from({length:I},(L,B)=>{const j=`${B*(q/(E-P))*100}%`,K=B===0,X=B===I-1,z=K?0:X?-100:-50,oe={position:"absolute"};switch(O){case"lr":{oe.left=j,oe.translate=`${z}% 0`;break}case"rl":{oe.right=j,oe.translate=`${-z}% 0`;break}case"bt":{oe.bottom=j,oe.translate=`0 ${-z}%`;break}case"tb":{oe.top=j,oe.translate=`0 ${z}%`;break}}const J=P+B*q;return{"data-bounded":(N.length===1?J<=N[0]:N[0]<=J&&J<=N[N.length-1])?!0:void 0,"data-value":J,style:_n(oe)}})}});return Mt([C,o,i,s,l,y,r],([N,P,E,q,O,v,I])=>{if(!Wo||q)return;const L=(oe,J,ne,_e)=>{const re=(oe-ne)/(_e-ne)*(E-P)+P;if(re<P)_(P,J);else if(re>E)_(E,J);else{const je=I,Fe=P,Ue=Math.floor((re-Fe)/je),g=Fe+Ue*je+je/2,Z=Fe+(Ue+1)*je+je/2,W=re>=g&&re<Z?(Ue+1)*je+Fe:Ue*je+Fe;W<=E&&_(W,J)}},B=oe=>{const J=h();if(!J)return;J.forEach(re=>re.blur());const ne=J.map(re=>{if(O==="horizontal"){const{left:je,right:Fe}=re.getBoundingClientRect();return Math.abs(oe.clientX-(je+Fe)/2)}else{const{top:je,bottom:Fe}=re.getBoundingClientRect();return Math.abs(oe.clientY-(je+Fe)/2)}}),_e=J[ne.indexOf(Math.min(...ne))],se=J.indexOf(_e);return{thumb:_e,index:se}},j=oe=>{if(!c.get())return;oe.preventDefault(),oe.stopPropagation();const J=mr(N["data-melt-id"]),ne=m.get();if(!J||!ne)return;ne.thumb.focus();const{left:_e,right:se,top:re,bottom:je}=J.getBoundingClientRect();switch(v){case"lr":{L(oe.clientX,ne.index,_e,se);break}case"rl":{L(oe.clientX,ne.index,se,_e);break}case"bt":{L(oe.clientY,ne.index,je,re);break}case"tb":{L(oe.clientY,ne.index,re,je);break}}},K=oe=>{if(oe.button!==0)return;const J=mr(N["data-melt-id"]),ne=B(oe);if(!ne||!J)return;const _e=oe.target;!yt(_e)||!J.contains(_e)||(oe.preventDefault(),m.set(ne),ne.thumb.focus(),c.set(!0),j(oe))},X=()=>{c.set(!1)},z=Ht(dt(document,"pointerdown",K),dt(document,"pointerup",X),dt(document,"pointerleave",X),dt(document,"pointermove",j));return()=>{z()}}),Mt([r,o,i,f],function([P,E,q,O]){const v=L=>hr(L,E,q,P)===L,I=L=>hr(L,E,q,P);O.some(L=>!v(L))&&f.update(L=>L.map(I))}),{elements:{root:C,thumbs:D,range:R,ticks:F},states:{value:f},options:n}},Yh={positioning:{placement:"bottom"},arrowSize:8,defaultOpen:!1,closeOnPointerDown:!0,openDelay:1e3,closeDelay:0,forceVisible:!1,portal:void 0,closeOnEscape:!0,disableHoverableContent:!1,group:void 0},{name:gr}=er("tooltip"),si=new Map,Uh=["trigger","content"];function Kh(t){const e={...Yh,...t},n=$n(nr(e,"open","ids")),{positioning:o,arrowSize:i,closeOnPointerDown:r,openDelay:l,closeDelay:a,forceVisible:s,portal:u,closeOnEscape:f,disableHoverableContent:c,group:d}=n,m=e.open??Ke(e.defaultOpen),p=or(m,e==null?void 0:e.onOpenChange),_=Ke(null),h=$n({...hl(Uh),...e.ids});let w=!1;const y=v=>Wo?document.getElementById(h[v].get()):null;let C=null,R=null;function D(v){R&&(window.clearTimeout(R),R=null),C||(C=window.setTimeout(()=>{p.set(!0),_.update(I=>I??v),C=null},l.get()))}function F(v){if(C&&(window.clearTimeout(C),C=null),v&&O){_.set("pointer");return}R||(R=window.setTimeout(()=>{p.set(!1),_.set(null),v&&(w=!1),R=null},a.get()))}const N=nn([p,s],([v,I])=>v||I),P=ft(gr("trigger"),{stores:[h.content,h.trigger,p],returned:([v,I,L])=>({"aria-describedby":v,id:I,"data-state":L?"open":"closed"}),action:v=>{const I=B=>{f.get()&&B.key===st.ESCAPE&&(C&&(window.clearTimeout(C),C=null),p.set(!1))};return{destroy:Ht(_t(v,"pointerdown",()=>{r.get()&&(p.set(!1),w=!0,C&&(window.clearTimeout(C),C=null))}),_t(v,"pointerenter",B=>{Kl(B)||D("pointer")}),_t(v,"pointerleave",B=>{Kl(B)||C&&(window.clearTimeout(C),C=null)}),_t(v,"focus",()=>{w||D("focus")}),_t(v,"blur",async()=>{await pl(0),F(!0)}),_t(v,"keydown",I),dt(document,"keydown",I))}}}),E=ft(gr("content"),{stores:[N,p,u,h.content],returned:([v,I,L,B])=>({role:"tooltip",hidden:v?void 0:!0,tabindex:-1,style:_n({display:v?void 0:"none"}),id:B,"data-portal":Yf(L),"data-state":I?"open":"closed"}),action:v=>{let I=ze,L=ze;const B=Mt([N,o,u],([X,z,oe])=>{const J=y("trigger");if(!X||!J){L(),I();return}if(I=rh(J,v,z).destroy,oe===null){L();return}const _e=Xf(v,oe);if(_e){const se=mc(v,_e);se&&se.destroy&&(L=se.destroy)}});function j(X){if(!p.get())return;const z=X.target;if(!tr(z)&&!Km(z))return;const oe=y("trigger");oe&&z.contains(oe)&&F()}const K=Ht(_t(v,"pointerenter",()=>D("pointer")),_t(v,"pointerdown",()=>D("pointer")),dt(window,"scroll",j,{capture:!0}));return{destroy(){K(),L(),I(),B()}}}}),q=ft(gr("arrow"),{stores:i,returned:v=>({"data-arrow":!0,style:_n({position:"absolute",width:`var(--arrow-size, ${v}px)`,height:`var(--arrow-size, ${v}px)`})})});let O=!1;return Mt(p,v=>{const I=d.get();if(I===void 0||I===!1)return;if(!v){si.get(I)===p&&si.delete(I);return}const L=si.get(I);L==null||L.set(!1),si.set(I,p)}),Mt([p,_],([v,I])=>{if(!(!v||!Wo))return Ht(dt(document,"mousemove",L=>{const B=y("content"),j=y("trigger");if(!B||!j)return;const K=c.get()?[j]:[j,B],X=cp(K);O=dp({x:L.clientX,y:L.clientY},X),I==="pointer"&&(O||F())}))}),{ids:h,elements:{trigger:P,content:E,arrow:q},states:{open:p},options:n}}function qn(t,e){const n={};return e.forEach(o=>{n[o]={[`data-${t}-${o}`]:""}}),o=>n[o]}function Bn(){const t=Od();return e=>{const{originalEvent:n}=e.detail,{cancelable:o}=e,i=n.type;t(i,{originalEvent:n,currentTarget:n.currentTarget},{cancelable:o})||e.preventDefault()}}function yo(t){const e={};for(const n in t){const o=t[n];o!==void 0&&(e[n]=o)}return e}function Dn(t){return function(e,n){if(n===void 0)return;const o=t[e];o&&o.set(n)}}function _c(){return{NAME:"alert-dialog",PARTS:["action","cancel","content","description","overlay","portal","title","trigger"]}}function Jh(t){const{NAME:e,PARTS:n}=_c(),o=qn(e,n),i=hc({...yo(t),role:"alertdialog",forceVisible:!0}),r={...i,getAttrs:o,updateOption:Dn(i.options)};return Qi(e,r),{...r,updateOption:Dn(r.options),getAttrs:o}}function Hn(){const{NAME:t}=_c();return zi(t)}const Xh=t=>({ids:t&1}),us=t=>({ids:t[0]});function Zh(t){let e;const n=t[12].default,o=be(n,t,t[11],us);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,[r]){o&&o.p&&(!e||r&2049)&&ve(o,n,i,i[11],e?ye(n,i[11],r,Xh):we(i[11]),us)},i(i){e||(k(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Qh(t,e,n){let o,{$$slots:i={},$$scope:r}=e,{preventScroll:l=void 0}=e,{closeOnEscape:a=void 0}=e,{closeOnOutsideClick:s=!1}=e,{portal:u=void 0}=e,{open:f=void 0}=e,{onOpenChange:c=void 0}=e,{openFocus:d=void 0}=e,{closeFocus:m=void 0}=e,{onOutsideClick:p=void 0}=e;const{states:{open:_},updateOption:h,ids:w}=Jh({closeOnEscape:a,preventScroll:l,closeOnOutsideClick:s,portal:u,forceVisible:!0,defaultOpen:f,openFocus:d,closeFocus:m,onOutsideClick:p,onOpenChange:({next:C})=>(f!==C&&(c==null||c(C),n(2,f=C)),C)}),y=nn([w.content,w.description,w.title],([C,R,D])=>({content:C,description:R,title:D}));return ae(t,y,C=>n(0,o=C)),t.$$set=C=>{"preventScroll"in C&&n(3,l=C.preventScroll),"closeOnEscape"in C&&n(4,a=C.closeOnEscape),"closeOnOutsideClick"in C&&n(5,s=C.closeOnOutsideClick),"portal"in C&&n(6,u=C.portal),"open"in C&&n(2,f=C.open),"onOpenChange"in C&&n(7,c=C.onOpenChange),"openFocus"in C&&n(8,d=C.openFocus),"closeFocus"in C&&n(9,m=C.closeFocus),"onOutsideClick"in C&&n(10,p=C.onOutsideClick),"$$scope"in C&&n(11,r=C.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&f!==void 0&&_.set(f),t.$$.dirty&8&&h("preventScroll",l),t.$$.dirty&16&&h("closeOnEscape",a),t.$$.dirty&32&&h("closeOnOutsideClick",s),t.$$.dirty&64&&h("portal",u),t.$$.dirty&256&&h("openFocus",d),t.$$.dirty&512&&h("closeFocus",m),t.$$.dirty&1024&&h("onOutsideClick",p)},[o,y,f,l,a,s,u,c,d,m,p,r,i]}class zh extends he{constructor(e){super(),pe(this,e,Qh,Zh,de,{preventScroll:3,closeOnEscape:4,closeOnOutsideClick:5,portal:6,open:2,onOpenChange:7,openFocus:8,closeFocus:9,onOutsideClick:10})}}const e_=t=>({builder:t&8}),fs=t=>({builder:t[3]}),t_=t=>({builder:t&8}),cs=t=>({builder:t[3]});function n_(t){let e=t[1],n,o,i=t[1]&&br(t);return{c(){i&&i.c(),n=De()},m(r,l){i&&i.m(r,l),T(r,n,l),o=!0},p(r,l){r[1]?e?de(e,r[1])?(i.d(1),i=br(r),e=r[1],i.c(),i.m(n.parentNode,n)):i.p(r,l):(i=br(r),e=r[1],i.c(),i.m(n.parentNode,n)):e&&(i.d(1),i=null,e=r[1])},i(r){o||(k(i,r),o=!0)},o(r){S(i,r),o=!1},d(r){r&&A(n),i&&i.d(r)}}}function o_(t){let e;const n=t[9].default,o=be(n,t,t[8],cs);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&264)&&ve(o,n,i,i[8],e?ye(n,i[8],r,t_):we(i[8]),cs)},i(i){e||(k(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function br(t){let e,n,o,i;const r=t[9].default,l=be(r,t,t[8],fs);let a=[t[3],t[5]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=M(t[1]),l&&l.c(),gn(t[1])(e,s)},m(u,f){T(u,e,f),l&&l.m(e,null),t[10](e),n=!0,o||(i=Ge(t[3].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&264)&&ve(l,r,u,u[8],n?ye(r,u[8],f,e_):we(u[8]),fs),gn(u[1])(e,s=Ce(a,[f&8&&u[3],f&32&&u[5]]))},i(u){n||(k(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&A(e),l&&l.d(u),t[10](null),o=!1,i()}}}function i_(t){let e,n,o,i;const r=[o_,n_],l=[];function a(s,u){return s[2]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),T(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){S(n),i=!1},d(s){s&&A(o),l[e].d(s)}}}function r_(t,e,n){let o;const i=["level","asChild","id","el"];let r=fe(e,i),l,{$$slots:a={},$$scope:s}=e,{level:u="h2"}=e,{asChild:f=!1}=e,{id:c=void 0}=e,{el:d=void 0}=e;const{elements:{title:m},ids:p,getAttrs:_}=Hn();ae(t,m,y=>n(7,l=y));const h=_("title");function w(y){Ee[y?"unshift":"push"](()=>{d=y,n(0,d)})}return t.$$set=y=>{e=Q(Q({},e),Le(y)),n(5,r=fe(e,i)),"level"in y&&n(1,u=y.level),"asChild"in y&&n(2,f=y.asChild),"id"in y&&n(6,c=y.id),"el"in y&&n(0,d=y.el),"$$scope"in y&&n(8,s=y.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&c&&p.title.set(c),t.$$.dirty&128&&n(3,o=l),t.$$.dirty&8&&Object.assign(o,h)},[d,u,f,o,m,r,c,l,s,a,w]}let l_=class extends he{constructor(e){super(),pe(this,e,r_,i_,de,{level:1,asChild:2,id:6,el:0})}};const s_=t=>({builder:t&4}),ds=t=>({builder:t[2]}),a_=t=>({builder:t&4}),ms=t=>({builder:t[2]});function u_(t){let e,n,o,i;const r=t[8].default,l=be(r,t,t[7],ds);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=M("button"),l&&l.c(),ce(e,s)},m(u,f){T(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[9](e),n=!0,o||(i=[Ge(t[2].action(e)),te(e,"m-click",t[4]),te(e,"m-keydown",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&ve(l,r,u,u[7],n?ye(r,u[7],f,s_):we(u[7]),ds),ce(e,s=Ce(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(k(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&A(e),l&&l.d(u),t[9](null),o=!1,Ye(i)}}}function f_(t){let e;const n=t[8].default,o=be(n,t,t[7],ms);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&ve(o,n,i,i[7],e?ye(n,i[7],r,a_):we(i[7]),ms)},i(i){e||(k(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function c_(t){let e,n,o,i;const r=[f_,u_],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),T(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){S(n),i=!1},d(s){s&&A(o),l[e].d(s)}}}function d_(t,e,n){let o;const i=["asChild","el"];let r=fe(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:d}=Hn();ae(t,c,h=>n(6,l=h));const m=Bn(),p=d("action");function _(h){Ee[h?"unshift":"push"](()=>{f=h,n(0,f)})}return t.$$set=h=>{e=Q(Q({},e),Le(h)),n(5,r=fe(e,i)),"asChild"in h&&n(1,u=h.asChild),"el"in h&&n(0,f=h.el),"$$scope"in h&&n(7,s=h.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,p)},[f,u,o,c,m,r,l,s,a,_]}let m_=class extends he{constructor(e){super(),pe(this,e,d_,c_,de,{asChild:1,el:0})}};const p_=t=>({builder:t&4}),ps=t=>({builder:t[2]}),h_=t=>({builder:t&4}),hs=t=>({builder:t[2]});function __(t){let e,n,o,i;const r=t[8].default,l=be(r,t,t[7],ps);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=M("button"),l&&l.c(),ce(e,s)},m(u,f){T(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[9](e),n=!0,o||(i=[Ge(t[2].action(e)),te(e,"m-click",t[4]),te(e,"m-keydown",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&ve(l,r,u,u[7],n?ye(r,u[7],f,p_):we(u[7]),ps),ce(e,s=Ce(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(k(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&A(e),l&&l.d(u),t[9](null),o=!1,Ye(i)}}}function g_(t){let e;const n=t[8].default,o=be(n,t,t[7],hs);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&ve(o,n,i,i[7],e?ye(n,i[7],r,h_):we(i[7]),hs)},i(i){e||(k(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function b_(t){let e,n,o,i;const r=[g_,__],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),T(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){S(n),i=!1},d(s){s&&A(o),l[e].d(s)}}}function y_(t,e,n){let o;const i=["asChild","el"];let r=fe(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:d}=Hn();ae(t,c,h=>n(6,l=h));const m=Bn(),p=d("cancel");function _(h){Ee[h?"unshift":"push"](()=>{f=h,n(0,f)})}return t.$$set=h=>{e=Q(Q({},e),Le(h)),n(5,r=fe(e,i)),"asChild"in h&&n(1,u=h.asChild),"el"in h&&n(0,f=h.el),"$$scope"in h&&n(7,s=h.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,p)},[f,u,o,c,m,r,l,s,a,_]}let v_=class extends he{constructor(e){super(),pe(this,e,y_,b_,de,{asChild:1,el:0})}};const w_=t=>({builder:t&4}),_s=t=>({builder:t[2]}),k_=t=>({builder:t&4}),gs=t=>({builder:t[2]});function C_(t){let e,n,o,i;const r=t[7].default,l=be(r,t,t[6],_s);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=M("div"),l&&l.c(),ce(e,s)},m(u,f){T(u,e,f),l&&l.m(e,null),t[8](e),n=!0,o||(i=Ge(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&68)&&ve(l,r,u,u[6],n?ye(r,u[6],f,w_):we(u[6]),_s),ce(e,s=Ce(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(k(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&A(e),l&&l.d(u),t[8](null),o=!1,i()}}}function S_(t){let e;const n=t[7].default,o=be(n,t,t[6],gs);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&68)&&ve(o,n,i,i[6],e?ye(n,i[6],r,k_):we(i[6]),gs)},i(i){e||(k(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function A_(t){let e,n,o,i;const r=[S_,C_],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),T(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){S(n),i=!1},d(s){s&&A(o),l[e].d(s)}}}function T_(t,e,n){let o;const i=["asChild","el"];let r=fe(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{portalled:c},getAttrs:d}=Hn();ae(t,c,_=>n(5,l=_));const m=d("portal");function p(_){Ee[_?"unshift":"push"](()=>{f=_,n(0,f)})}return t.$$set=_=>{e=Q(Q({},e),Le(_)),n(4,r=fe(e,i)),"asChild"in _&&n(1,u=_.asChild),"el"in _&&n(0,f=_.el),"$$scope"in _&&n(6,s=_.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,m)},[f,u,o,c,r,l,s,a,p]}let I_=class extends he{constructor(e){super(),pe(this,e,T_,A_,de,{asChild:1,el:0})}};const M_=t=>({builder:t[0]&256}),bs=t=>({builder:t[8]}),O_=t=>({builder:t[0]&256}),ys=t=>({builder:t[8]}),P_=t=>({builder:t[0]&256}),vs=t=>({builder:t[8]}),N_=t=>({builder:t[0]&256}),ws=t=>({builder:t[8]}),E_=t=>({builder:t[0]&256}),ks=t=>({builder:t[8]}),$_=t=>({builder:t[0]&256}),Cs=t=>({builder:t[8]});function R_(t){let e,n,o,i;const r=t[16].default,l=be(r,t,t[15],bs);let a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=M("div"),l&&l.c(),ce(e,s)},m(u,f){T(u,e,f),l&&l.m(e,null),t[56](e),n=!0,o||(i=[Ge(t[8].action(e)),te(e,"pointerdown",t[45]),te(e,"pointermove",t[46]),te(e,"pointerup",t[47]),te(e,"touchend",t[48]),te(e,"touchstart",t[49]),te(e,"touchcancel",t[50]),te(e,"touchmove",t[51])],o=!0)},p(u,f){l&&l.p&&(!n||f[0]&33024)&&ve(l,r,u,u[15],n?ye(r,u[15],f,M_):we(u[15]),bs),ce(e,s=Ce(a,[f[0]&256&&u[8],f[0]&4096&&u[12]]))},i(u){n||(k(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&A(e),l&&l.d(u),t[56](null),o=!1,Ye(i)}}}function L_(t){let e,n,o,i,r;const l=t[16].default,a=be(l,t,t[15],ys);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=M("div"),a&&a.c(),ce(e,u)},m(f,c){T(f,e,c),a&&a.m(e,null),t[55](e),o=!0,i||(r=[Ge(t[8].action(e)),te(e,"pointerdown",t[38]),te(e,"pointermove",t[39]),te(e,"pointerup",t[40]),te(e,"touchend",t[41]),te(e,"touchstart",t[42]),te(e,"touchcancel",t[43]),te(e,"touchmove",t[44])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&ve(a,l,t,t[15],o?ye(l,t[15],c,O_):we(t[15]),ys),ce(e,u=Ce(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(k(a,f),n&&n.end(1),o=!0)},o(f){S(a,f),f&&(n=Yt(e,t[5],t[6])),o=!1},d(f){f&&A(e),a&&a.d(f),t[55](null),f&&n&&n.end(),i=!1,Ye(r)}}}function D_(t){let e,n,o,i,r;const l=t[16].default,a=be(l,t,t[15],vs);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=M("div"),a&&a.c(),ce(e,u)},m(f,c){T(f,e,c),a&&a.m(e,null),t[54](e),o=!0,i||(r=[Ge(t[8].action(e)),te(e,"pointerdown",t[31]),te(e,"pointermove",t[32]),te(e,"pointerup",t[33]),te(e,"touchend",t[34]),te(e,"touchstart",t[35]),te(e,"touchcancel",t[36]),te(e,"touchmove",t[37])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&ve(a,l,t,t[15],o?ye(l,t[15],c,P_):we(t[15]),vs),ce(e,u=Ce(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(k(a,f),f&&(n||nt(()=>{n=xt(e,t[3],t[4]),n.start()})),o=!0)},o(f){S(a,f),o=!1},d(f){f&&A(e),a&&a.d(f),t[54](null),i=!1,Ye(r)}}}function j_(t){let e,n,o,i,r,l;const a=t[16].default,s=be(a,t,t[15],ws);let u=[t[8],t[12]],f={};for(let c=0;c<u.length;c+=1)f=Q(f,u[c]);return{c(){e=M("div"),s&&s.c(),ce(e,f)},m(c,d){T(c,e,d),s&&s.m(e,null),t[53](e),i=!0,r||(l=[Ge(t[8].action(e)),te(e,"pointerdown",t[24]),te(e,"pointermove",t[25]),te(e,"pointerup",t[26]),te(e,"touchend",t[27]),te(e,"touchstart",t[28]),te(e,"touchcancel",t[29]),te(e,"touchmove",t[30])],r=!0)},p(c,d){t=c,s&&s.p&&(!i||d[0]&33024)&&ve(s,a,t,t[15],i?ye(a,t[15],d,N_):we(t[15]),ws),ce(e,f=Ce(u,[d[0]&256&&t[8],d[0]&4096&&t[12]]))},i(c){i||(k(s,c),c&&nt(()=>{i&&(o&&o.end(1),n=xt(e,t[3],t[4]),n.start())}),i=!0)},o(c){S(s,c),n&&n.invalidate(),c&&(o=Yt(e,t[5],t[6])),i=!1},d(c){c&&A(e),s&&s.d(c),t[53](null),c&&o&&o.end(),r=!1,Ye(l)}}}function F_(t){let e,n,o,i,r;const l=t[16].default,a=be(l,t,t[15],ks);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=M("div"),a&&a.c(),ce(e,u)},m(f,c){T(f,e,c),a&&a.m(e,null),t[52](e),o=!0,i||(r=[Ge(t[8].action(e)),te(e,"pointerdown",t[17]),te(e,"pointermove",t[18]),te(e,"pointerup",t[19]),te(e,"touchend",t[20]),te(e,"touchstart",t[21]),te(e,"touchcancel",t[22]),te(e,"touchmove",t[23])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&ve(a,l,t,t[15],o?ye(l,t[15],c,E_):we(t[15]),ks),ce(e,u=Ce(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(k(a,f),f&&nt(()=>{o&&(n||(n=gt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(f){S(a,f),f&&(n||(n=gt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(f){f&&A(e),a&&a.d(f),t[52](null),f&&n&&n.end(),i=!1,Ye(r)}}}function q_(t){let e;const n=t[16].default,o=be(n,t,t[15],Cs);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r[0]&33024)&&ve(o,n,i,i[15],e?ye(n,i[15],r,$_):we(i[15]),Cs)},i(i){e||(k(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function B_(t){let e,n,o,i;const r=[q_,F_,j_,D_,L_,R_],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=De()},m(s,u){~e&&l[e].m(s,u),T(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Me(),S(l[f],1,1,()=>{l[f]=null}),Oe()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(k(n),i=!0)},o(s){S(n),i=!1},d(s){s&&A(o),~e&&l[e].d(s)}}}function H_(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","id","asChild","el"];let r=fe(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:p=void 0}=e,{outTransitionConfig:_=void 0}=e,{id:h=void 0}=e,{asChild:w=!1}=e,{el:y=void 0}=e;const{elements:{content:C},states:{open:R},ids:D,getAttrs:F}=Hn();ae(t,C,G=>n(14,l=G)),ae(t,R,G=>n(9,a=G));const N=F("content");function P(G){le.call(this,t,G)}function E(G){le.call(this,t,G)}function q(G){le.call(this,t,G)}function O(G){le.call(this,t,G)}function v(G){le.call(this,t,G)}function I(G){le.call(this,t,G)}function L(G){le.call(this,t,G)}function B(G){le.call(this,t,G)}function j(G){le.call(this,t,G)}function K(G){le.call(this,t,G)}function X(G){le.call(this,t,G)}function z(G){le.call(this,t,G)}function oe(G){le.call(this,t,G)}function J(G){le.call(this,t,G)}function ne(G){le.call(this,t,G)}function _e(G){le.call(this,t,G)}function se(G){le.call(this,t,G)}function re(G){le.call(this,t,G)}function je(G){le.call(this,t,G)}function Fe(G){le.call(this,t,G)}function Ue(G){le.call(this,t,G)}function g(G){le.call(this,t,G)}function Z(G){le.call(this,t,G)}function W(G){le.call(this,t,G)}function ee(G){le.call(this,t,G)}function me(G){le.call(this,t,G)}function ge(G){le.call(this,t,G)}function Pe(G){le.call(this,t,G)}function Re(G){le.call(this,t,G)}function We(G){le.call(this,t,G)}function $e(G){le.call(this,t,G)}function Je(G){le.call(this,t,G)}function ke(G){le.call(this,t,G)}function Be(G){le.call(this,t,G)}function Vn(G){le.call(this,t,G)}function un(G){Ee[G?"unshift":"push"](()=>{y=G,n(0,y)})}function It(G){Ee[G?"unshift":"push"](()=>{y=G,n(0,y)})}function lt(G){Ee[G?"unshift":"push"](()=>{y=G,n(0,y)})}function Ae(G){Ee[G?"unshift":"push"](()=>{y=G,n(0,y)})}function Xe(G){Ee[G?"unshift":"push"](()=>{y=G,n(0,y)})}return t.$$set=G=>{e=Q(Q({},e),Le(G)),n(12,r=fe(e,i)),"transition"in G&&n(1,f=G.transition),"transitionConfig"in G&&n(2,c=G.transitionConfig),"inTransition"in G&&n(3,d=G.inTransition),"inTransitionConfig"in G&&n(4,m=G.inTransitionConfig),"outTransition"in G&&n(5,p=G.outTransition),"outTransitionConfig"in G&&n(6,_=G.outTransitionConfig),"id"in G&&n(13,h=G.id),"asChild"in G&&n(7,w=G.asChild),"el"in G&&n(0,y=G.el),"$$scope"in G&&n(15,u=G.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&8192&&h&&D.content.set(h),t.$$.dirty[0]&16384&&n(8,o=l),t.$$.dirty[0]&256&&Object.assign(o,N)},[y,f,c,d,m,p,_,w,o,a,C,R,r,h,l,u,s,P,E,q,O,v,I,L,B,j,K,X,z,oe,J,ne,_e,se,re,je,Fe,Ue,g,Z,W,ee,me,ge,Pe,Re,We,$e,Je,ke,Be,Vn,un,It,lt,Ae,Xe]}let G_=class extends he{constructor(e){super(),pe(this,e,H_,B_,de,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,id:13,asChild:7,el:0},null,[-1,-1])}};const V_=t=>({builder:t&256}),Ss=t=>({builder:t[8]});function W_(t){let e,n,o,i=[t[8],t[12]],r={};for(let l=0;l<i.length;l+=1)r=Q(r,i[l]);return{c(){e=M("div"),ce(e,r)},m(l,a){T(l,e,a),t[20](e),n||(o=Ge(t[8].action(e)),n=!0)},p(l,a){ce(e,r=Ce(i,[a&256&&l[8],a&4096&&l[12]]))},i:Te,o:Te,d(l){l&&A(e),t[20](null),n=!1,o()}}}function x_(t){let e,n,o,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=Q(a,l[s]);return{c(){e=M("div"),ce(e,a)},m(s,u){T(s,e,u),t[19](e),o=!0,i||(r=Ge(t[8].action(e)),i=!0)},p(s,u){t=s,ce(e,a=Ce(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(n&&n.end(1),o=!0)},o(s){s&&(n=Yt(e,t[5],t[6])),o=!1},d(s){s&&A(e),t[19](null),s&&n&&n.end(),i=!1,r()}}}function Y_(t){let e,n,o,i,r=[t[8],t[12]],l={};for(let a=0;a<r.length;a+=1)l=Q(l,r[a]);return{c(){e=M("div"),ce(e,l)},m(a,s){T(a,e,s),t[18](e),o||(i=Ge(t[8].action(e)),o=!0)},p(a,s){t=a,ce(e,l=Ce(r,[s&256&&t[8],s&4096&&t[12]]))},i(a){a&&(n||nt(()=>{n=xt(e,t[3],t[4]),n.start()}))},o:Te,d(a){a&&A(e),t[18](null),o=!1,i()}}}function U_(t){let e,n,o,i,r,l,a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=M("div"),ce(e,s)},m(u,f){T(u,e,f),t[17](e),i=!0,r||(l=Ge(t[8].action(e)),r=!0)},p(u,f){t=u,ce(e,s=Ce(a,[f&256&&t[8],f&4096&&t[12]]))},i(u){i||(u&&nt(()=>{i&&(o&&o.end(1),n=xt(e,t[3],t[4]),n.start())}),i=!0)},o(u){n&&n.invalidate(),u&&(o=Yt(e,t[5],t[6])),i=!1},d(u){u&&A(e),t[17](null),u&&o&&o.end(),r=!1,l()}}}function K_(t){let e,n,o,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=Q(a,l[s]);return{c(){e=M("div"),ce(e,a)},m(s,u){T(s,e,u),t[16](e),o=!0,i||(r=Ge(t[8].action(e)),i=!0)},p(s,u){t=s,ce(e,a=Ce(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(s&&nt(()=>{o&&(n||(n=gt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(s){s&&(n||(n=gt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(s){s&&A(e),t[16](null),s&&n&&n.end(),i=!1,r()}}}function J_(t){let e;const n=t[15].default,o=be(n,t,t[14],Ss);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&16640)&&ve(o,n,i,i[14],e?ye(n,i[14],r,V_):we(i[14]),Ss)},i(i){e||(k(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function X_(t){let e,n,o,i;const r=[J_,K_,U_,Y_,x_,W_],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=De()},m(s,u){~e&&l[e].m(s,u),T(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Me(),S(l[f],1,1,()=>{l[f]=null}),Oe()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(k(n),i=!0)},o(s){S(n),i=!1},d(s){s&&A(o),~e&&l[e].d(s)}}}function Z_(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","el"];let r=fe(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:p=void 0}=e,{outTransitionConfig:_=void 0}=e,{asChild:h=!1}=e,{el:w=void 0}=e;const{elements:{overlay:y},states:{open:C},getAttrs:R}=Hn();ae(t,y,O=>n(13,l=O)),ae(t,C,O=>n(9,a=O));const D=R("overlay");function F(O){Ee[O?"unshift":"push"](()=>{w=O,n(0,w)})}function N(O){Ee[O?"unshift":"push"](()=>{w=O,n(0,w)})}function P(O){Ee[O?"unshift":"push"](()=>{w=O,n(0,w)})}function E(O){Ee[O?"unshift":"push"](()=>{w=O,n(0,w)})}function q(O){Ee[O?"unshift":"push"](()=>{w=O,n(0,w)})}return t.$$set=O=>{e=Q(Q({},e),Le(O)),n(12,r=fe(e,i)),"transition"in O&&n(1,f=O.transition),"transitionConfig"in O&&n(2,c=O.transitionConfig),"inTransition"in O&&n(3,d=O.inTransition),"inTransitionConfig"in O&&n(4,m=O.inTransitionConfig),"outTransition"in O&&n(5,p=O.outTransition),"outTransitionConfig"in O&&n(6,_=O.outTransitionConfig),"asChild"in O&&n(7,h=O.asChild),"el"in O&&n(0,w=O.el),"$$scope"in O&&n(14,u=O.$$scope)},t.$$.update=()=>{t.$$.dirty&8192&&n(8,o=l),t.$$.dirty&256&&Object.assign(o,D)},[w,f,c,d,m,p,_,h,o,a,y,C,r,l,u,s,F,N,P,E,q]}let Q_=class extends he{constructor(e){super(),pe(this,e,Z_,X_,de,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,el:0})}};const z_=t=>({builder:t&4}),As=t=>({builder:t[2]}),e0=t=>({builder:t&4}),Ts=t=>({builder:t[2]});function t0(t){let e,n,o,i;const r=t[8].default,l=be(r,t,t[7],As);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=M("div"),l&&l.c(),ce(e,s)},m(u,f){T(u,e,f),l&&l.m(e,null),t[9](e),n=!0,o||(i=Ge(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&ve(l,r,u,u[7],n?ye(r,u[7],f,z_):we(u[7]),As),ce(e,s=Ce(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(k(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&A(e),l&&l.d(u),t[9](null),o=!1,i()}}}function n0(t){let e;const n=t[8].default,o=be(n,t,t[7],Ts);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&ve(o,n,i,i[7],e?ye(n,i[7],r,e0):we(i[7]),Ts)},i(i){e||(k(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function o0(t){let e,n,o,i;const r=[n0,t0],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),T(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){S(n),i=!1},d(s){s&&A(o),l[e].d(s)}}}function i0(t,e,n){let o;const i=["asChild","id","el"];let r=fe(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{description:d},ids:m,getAttrs:p}=Hn();ae(t,d,w=>n(6,l=w));const _=p("description");function h(w){Ee[w?"unshift":"push"](()=>{c=w,n(0,c)})}return t.$$set=w=>{e=Q(Q({},e),Le(w)),n(4,r=fe(e,i)),"asChild"in w&&n(1,u=w.asChild),"id"in w&&n(5,f=w.id),"el"in w&&n(0,c=w.el),"$$scope"in w&&n(7,s=w.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f&&m.description.set(f),t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,_)},[c,u,o,d,r,f,l,s,a,h]}let r0=class extends he{constructor(e){super(),pe(this,e,i0,o0,de,{asChild:1,id:5,el:0})}};function l0(t,e){const n=[];return e.builders.forEach(o=>{const i=o.action(t);i&&n.push(i)}),{destroy:()=>{n.forEach(o=>{o.destroy&&o.destroy()})}}}function Is(t){const e={};return t.forEach(n=>{Object.keys(n).forEach(o=>{o!=="action"&&(e[o]=n[o])})}),e}function s0(t){let e=t[1]?"a":"button",n,o,i=(t[1]?"a":"button")&&yr(t);return{c(){i&&i.c(),n=De()},m(r,l){i&&i.m(r,l),T(r,n,l),o=!0},p(r,l){r[1],e?de(e,r[1]?"a":"button")?(i.d(1),i=yr(r),e=r[1]?"a":"button",i.c(),i.m(n.parentNode,n)):i.p(r,l):(i=yr(r),e=r[1]?"a":"button",i.c(),i.m(n.parentNode,n))},i(r){o||(k(i,r),o=!0)},o(r){S(i,r),o=!1},d(r){r&&A(n),i&&i.d(r)}}}function a0(t){let e=t[1]?"a":"button",n,o,i=(t[1]?"a":"button")&&vr(t);return{c(){i&&i.c(),n=De()},m(r,l){i&&i.m(r,l),T(r,n,l),o=!0},p(r,l){r[1],e?de(e,r[1]?"a":"button")?(i.d(1),i=vr(r),e=r[1]?"a":"button",i.c(),i.m(n.parentNode,n)):i.p(r,l):(i=vr(r),e=r[1]?"a":"button",i.c(),i.m(n.parentNode,n))},i(r){o||(k(i,r),o=!0)},o(r){S(i,r),o=!1},d(r){r&&A(n),i&&i.d(r)}}}function yr(t){let e,n,o,i,r;const l=t[7].default,a=be(l,t,t[6],null);let s=[{type:n=t[1]?void 0:t[2]},{href:t[1]},{tabindex:"0"},t[5],t[4]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=M(t[1]?"a":"button"),a&&a.c(),gn(t[1]?"a":"button")(e,u)},m(f,c){T(f,e,c),a&&a.m(e,null),o=!0,i||(r=[te(e,"click",t[14]),te(e,"change",t[15]),te(e,"keydown",t[16]),te(e,"keyup",t[17]),te(e,"mouseenter",t[18]),te(e,"mouseleave",t[19])],i=!0)},p(f,c){a&&a.p&&(!o||c&64)&&ve(a,l,f,f[6],o?ye(l,f[6],c,null):we(f[6]),null),gn(f[1]?"a":"button")(e,u=Ce(s,[(!o||c&6&&n!==(n=f[1]?void 0:f[2]))&&{type:n},(!o||c&2)&&{href:f[1]},{tabindex:"0"},c&32&&f[5],f[4]]))},i(f){o||(k(a,f),o=!0)},o(f){S(a,f),o=!1},d(f){f&&A(e),a&&a.d(f),i=!1,Ye(r)}}}function vr(t){let e,n,o,i,r,l;const a=t[7].default,s=be(a,t,t[6],null);let u=[{type:n=t[1]?void 0:t[2]},{href:t[1]},{tabindex:"0"},Is(t[3]),t[5],t[4]],f={};for(let c=0;c<u.length;c+=1)f=Q(f,u[c]);return{c(){e=M(t[1]?"a":"button"),s&&s.c(),gn(t[1]?"a":"button")(e,f)},m(c,d){T(c,e,d),s&&s.m(e,null),t[20](e),i=!0,r||(l=[te(e,"click",t[8]),te(e,"change",t[9]),te(e,"keydown",t[10]),te(e,"keyup",t[11]),te(e,"mouseenter",t[12]),te(e,"mouseleave",t[13]),Ge(o=l0.call(null,e,{builders:t[3]}))],r=!0)},p(c,d){s&&s.p&&(!i||d&64)&&ve(s,a,c,c[6],i?ye(a,c[6],d,null):we(c[6]),null),gn(c[1]?"a":"button")(e,f=Ce(u,[(!i||d&6&&n!==(n=c[1]?void 0:c[2]))&&{type:n},(!i||d&2)&&{href:c[1]},{tabindex:"0"},d&8&&Is(c[3]),d&32&&c[5],c[4]])),o&&jt(o.update)&&d&8&&o.update.call(null,{builders:c[3]})},i(c){i||(k(s,c),i=!0)},o(c){S(s,c),i=!1},d(c){c&&A(e),s&&s.d(c),t[20](null),r=!1,Ye(l)}}}function u0(t){let e,n,o,i;const r=[a0,s0],l=[];function a(s,u){return s[3]&&s[3].length?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),T(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){S(n),i=!1},d(s){s&&A(o),l[e].d(s)}}}function f0(t,e,n){const o=["href","type","builders","el"];let i=fe(e,o),{$$slots:r={},$$scope:l}=e,{href:a=void 0}=e,{type:s=void 0}=e,{builders:u=[]}=e,{el:f=void 0}=e;const c={"data-button-root":""};function d(E){le.call(this,t,E)}function m(E){le.call(this,t,E)}function p(E){le.call(this,t,E)}function _(E){le.call(this,t,E)}function h(E){le.call(this,t,E)}function w(E){le.call(this,t,E)}function y(E){le.call(this,t,E)}function C(E){le.call(this,t,E)}function R(E){le.call(this,t,E)}function D(E){le.call(this,t,E)}function F(E){le.call(this,t,E)}function N(E){le.call(this,t,E)}function P(E){Ee[E?"unshift":"push"](()=>{f=E,n(0,f)})}return t.$$set=E=>{e=Q(Q({},e),Le(E)),n(5,i=fe(e,o)),"href"in E&&n(1,a=E.href),"type"in E&&n(2,s=E.type),"builders"in E&&n(3,u=E.builders),"el"in E&&n(0,f=E.el),"$$scope"in E&&n(6,l=E.$$scope)},[f,a,s,u,c,i,l,r,d,m,p,_,h,w,y,C,R,D,F,N,P]}let c0=class extends he{constructor(e){super(),pe(this,e,f0,u0,de,{href:1,type:2,builders:3,el:0})}};function d0(t){return(e={})=>m0(t,e)}function m0(t,e){const o={...{side:"bottom",align:"center",sideOffset:0,alignOffset:0,sameWidth:!1,avoidCollisions:!0,collisionPadding:8,fitViewport:!1,strategy:"absolute",overlap:!1},...e};t.update(i=>({...i,placement:p0(o.side,o.align),offset:{...i.offset,mainAxis:o.sideOffset,crossAxis:o.alignOffset},gutter:0,sameWidth:o.sameWidth,flip:o.avoidCollisions,overflowPadding:o.collisionPadding,boundary:o.collisionBoundary,fitViewport:o.fitViewport,strategy:o.strategy,overlap:o.overlap}))}function p0(t,e){return e==="center"?t:`${t}-${e}`}function h0(){return{NAME:"separator",PARTS:["root"]}}function _0(t){const{NAME:e,PARTS:n}=h0(),o=qn(e,n),i={...Vh(yo(t)),getAttrs:o};return{...i,updateOption:Dn(i.options)}}const g0=t=>({builder:t&4}),Ms=t=>({builder:t[2]});function b0(t){let e,n,o,i=[t[2],t[4]],r={};for(let l=0;l<i.length;l+=1)r=Q(r,i[l]);return{c(){e=M("div"),ce(e,r)},m(l,a){T(l,e,a),t[10](e),n||(o=Ge(t[2].action(e)),n=!0)},p(l,a){ce(e,r=Ce(i,[a&4&&l[2],a&16&&l[4]]))},i:Te,o:Te,d(l){l&&A(e),t[10](null),n=!1,o()}}}function y0(t){let e;const n=t[9].default,o=be(n,t,t[8],Ms);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&260)&&ve(o,n,i,i[8],e?ye(n,i[8],r,g0):we(i[8]),Ms)},i(i){e||(k(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function v0(t){let e,n,o,i;const r=[y0,b0],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),T(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){S(n),i=!1},d(s){s&&A(o),l[e].d(s)}}}function w0(t,e,n){let o;const i=["orientation","decorative","asChild","el"];let r=fe(e,i),l,{$$slots:a={},$$scope:s}=e,{orientation:u="horizontal"}=e,{decorative:f=!0}=e,{asChild:c=!1}=e,{el:d=void 0}=e;const{elements:{root:m},updateOption:p,getAttrs:_}=_0({orientation:u,decorative:f});ae(t,m,y=>n(7,l=y));const h=_("root");function w(y){Ee[y?"unshift":"push"](()=>{d=y,n(0,d)})}return t.$$set=y=>{e=Q(Q({},e),Le(y)),n(4,r=fe(e,i)),"orientation"in y&&n(5,u=y.orientation),"decorative"in y&&n(6,f=y.decorative),"asChild"in y&&n(1,c=y.asChild),"el"in y&&n(0,d=y.el),"$$scope"in y&&n(8,s=y.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&p("orientation",u),t.$$.dirty&64&&p("decorative",f),t.$$.dirty&128&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,h)},[d,c,o,m,r,u,f,l,s,a,w]}let k0=class extends he{constructor(e){super(),pe(this,e,w0,v0,de,{orientation:5,decorative:6,asChild:1,el:0})}};function gc(){return{NAME:"dialog",PARTS:["close","content","description","overlay","portal","title","trigger"]}}function C0(t){const{NAME:e,PARTS:n}=gc(),o=qn(e,n),i={...hc({...yo(t),role:"dialog",forceVisible:!0}),getAttrs:o};return Qi(e,i),{...i,updateOption:Dn(i.options)}}function vo(){const{NAME:t}=gc();return zi(t)}const S0=t=>({ids:t&1}),Os=t=>({ids:t[0]});function A0(t){let e;const n=t[12].default,o=be(n,t,t[11],Os);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,[r]){o&&o.p&&(!e||r&2049)&&ve(o,n,i,i[11],e?ye(n,i[11],r,S0):we(i[11]),Os)},i(i){e||(k(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function T0(t,e,n){let o,{$$slots:i={},$$scope:r}=e,{preventScroll:l=void 0}=e,{closeOnEscape:a=void 0}=e,{closeOnOutsideClick:s=void 0}=e,{portal:u=void 0}=e,{open:f=void 0}=e,{onOpenChange:c=void 0}=e,{openFocus:d=void 0}=e,{closeFocus:m=void 0}=e,{onOutsideClick:p=void 0}=e;const{states:{open:_},updateOption:h,ids:w}=C0({closeOnEscape:a,preventScroll:l,closeOnOutsideClick:s,portal:u,forceVisible:!0,defaultOpen:f,openFocus:d,closeFocus:m,onOutsideClick:p,onOpenChange:({next:C})=>(f!==C&&(c==null||c(C),n(2,f=C)),C)}),y=nn([w.content,w.description,w.title],([C,R,D])=>({content:C,description:R,title:D}));return ae(t,y,C=>n(0,o=C)),t.$$set=C=>{"preventScroll"in C&&n(3,l=C.preventScroll),"closeOnEscape"in C&&n(4,a=C.closeOnEscape),"closeOnOutsideClick"in C&&n(5,s=C.closeOnOutsideClick),"portal"in C&&n(6,u=C.portal),"open"in C&&n(2,f=C.open),"onOpenChange"in C&&n(7,c=C.onOpenChange),"openFocus"in C&&n(8,d=C.openFocus),"closeFocus"in C&&n(9,m=C.closeFocus),"onOutsideClick"in C&&n(10,p=C.onOutsideClick),"$$scope"in C&&n(11,r=C.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&f!==void 0&&_.set(f),t.$$.dirty&8&&h("preventScroll",l),t.$$.dirty&16&&h("closeOnEscape",a),t.$$.dirty&32&&h("closeOnOutsideClick",s),t.$$.dirty&64&&h("portal",u),t.$$.dirty&256&&h("openFocus",d),t.$$.dirty&512&&h("closeFocus",m),t.$$.dirty&1024&&h("onOutsideClick",p)},[o,y,f,l,a,s,u,c,d,m,p,r,i]}class I0 extends he{constructor(e){super(),pe(this,e,T0,A0,de,{preventScroll:3,closeOnEscape:4,closeOnOutsideClick:5,portal:6,open:2,onOpenChange:7,openFocus:8,closeFocus:9,onOutsideClick:10})}}const M0=t=>({builder:t&8}),Ps=t=>({builder:t[3]}),O0=t=>({builder:t&8}),Ns=t=>({builder:t[3]});function P0(t){let e=t[1],n,o,i=t[1]&&wr(t);return{c(){i&&i.c(),n=De()},m(r,l){i&&i.m(r,l),T(r,n,l),o=!0},p(r,l){r[1]?e?de(e,r[1])?(i.d(1),i=wr(r),e=r[1],i.c(),i.m(n.parentNode,n)):i.p(r,l):(i=wr(r),e=r[1],i.c(),i.m(n.parentNode,n)):e&&(i.d(1),i=null,e=r[1])},i(r){o||(k(i,r),o=!0)},o(r){S(i,r),o=!1},d(r){r&&A(n),i&&i.d(r)}}}function N0(t){let e;const n=t[9].default,o=be(n,t,t[8],Ns);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&264)&&ve(o,n,i,i[8],e?ye(n,i[8],r,O0):we(i[8]),Ns)},i(i){e||(k(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function wr(t){let e,n,o,i;const r=t[9].default,l=be(r,t,t[8],Ps);let a=[t[3],t[5]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=M(t[1]),l&&l.c(),gn(t[1])(e,s)},m(u,f){T(u,e,f),l&&l.m(e,null),t[10](e),n=!0,o||(i=Ge(t[3].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&264)&&ve(l,r,u,u[8],n?ye(r,u[8],f,M0):we(u[8]),Ps),gn(u[1])(e,s=Ce(a,[f&8&&u[3],f&32&&u[5]]))},i(u){n||(k(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&A(e),l&&l.d(u),t[10](null),o=!1,i()}}}function E0(t){let e,n,o,i;const r=[N0,P0],l=[];function a(s,u){return s[2]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),T(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){S(n),i=!1},d(s){s&&A(o),l[e].d(s)}}}function $0(t,e,n){let o;const i=["level","asChild","id","el"];let r=fe(e,i),l,{$$slots:a={},$$scope:s}=e,{level:u="h2"}=e,{asChild:f=!1}=e,{id:c=void 0}=e,{el:d=void 0}=e;const{elements:{title:m},ids:p,getAttrs:_}=vo();ae(t,m,y=>n(7,l=y));const h=_("title");function w(y){Ee[y?"unshift":"push"](()=>{d=y,n(0,d)})}return t.$$set=y=>{e=Q(Q({},e),Le(y)),n(5,r=fe(e,i)),"level"in y&&n(1,u=y.level),"asChild"in y&&n(2,f=y.asChild),"id"in y&&n(6,c=y.id),"el"in y&&n(0,d=y.el),"$$scope"in y&&n(8,s=y.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&c&&p.title.set(c),t.$$.dirty&128&&n(3,o=l),t.$$.dirty&8&&Object.assign(o,h)},[d,u,f,o,m,r,c,l,s,a,w]}let R0=class extends he{constructor(e){super(),pe(this,e,$0,E0,de,{level:1,asChild:2,id:6,el:0})}};const L0=t=>({builder:t&4}),Es=t=>({builder:t[2]}),D0=t=>({builder:t&4}),$s=t=>({builder:t[2]});function j0(t){let e,n,o,i;const r=t[8].default,l=be(r,t,t[7],Es);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=M("button"),l&&l.c(),ce(e,s)},m(u,f){T(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[9](e),n=!0,o||(i=[Ge(t[2].action(e)),te(e,"m-click",t[4]),te(e,"m-keydown",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&ve(l,r,u,u[7],n?ye(r,u[7],f,L0):we(u[7]),Es),ce(e,s=Ce(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(k(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&A(e),l&&l.d(u),t[9](null),o=!1,Ye(i)}}}function F0(t){let e;const n=t[8].default,o=be(n,t,t[7],$s);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&ve(o,n,i,i[7],e?ye(n,i[7],r,D0):we(i[7]),$s)},i(i){e||(k(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function q0(t){let e,n,o,i;const r=[F0,j0],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),T(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){S(n),i=!1},d(s){s&&A(o),l[e].d(s)}}}function B0(t,e,n){let o;const i=["asChild","el"];let r=fe(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:d}=vo();ae(t,c,h=>n(6,l=h));const m=Bn(),p=d("close");function _(h){Ee[h?"unshift":"push"](()=>{f=h,n(0,f)})}return t.$$set=h=>{e=Q(Q({},e),Le(h)),n(5,r=fe(e,i)),"asChild"in h&&n(1,u=h.asChild),"el"in h&&n(0,f=h.el),"$$scope"in h&&n(7,s=h.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,p)},[f,u,o,c,m,r,l,s,a,_]}class H0 extends he{constructor(e){super(),pe(this,e,B0,q0,de,{asChild:1,el:0})}}const G0=t=>({builder:t&4}),Rs=t=>({builder:t[2]}),V0=t=>({builder:t&4}),Ls=t=>({builder:t[2]});function W0(t){let e,n,o,i;const r=t[7].default,l=be(r,t,t[6],Rs);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=M("div"),l&&l.c(),ce(e,s)},m(u,f){T(u,e,f),l&&l.m(e,null),t[8](e),n=!0,o||(i=Ge(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&68)&&ve(l,r,u,u[6],n?ye(r,u[6],f,G0):we(u[6]),Rs),ce(e,s=Ce(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(k(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&A(e),l&&l.d(u),t[8](null),o=!1,i()}}}function x0(t){let e;const n=t[7].default,o=be(n,t,t[6],Ls);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&68)&&ve(o,n,i,i[6],e?ye(n,i[6],r,V0):we(i[6]),Ls)},i(i){e||(k(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Y0(t){let e,n,o,i;const r=[x0,W0],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),T(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){S(n),i=!1},d(s){s&&A(o),l[e].d(s)}}}function U0(t,e,n){let o;const i=["asChild","el"];let r=fe(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{portalled:c},getAttrs:d}=vo();ae(t,c,_=>n(5,l=_));const m=d("portal");function p(_){Ee[_?"unshift":"push"](()=>{f=_,n(0,f)})}return t.$$set=_=>{e=Q(Q({},e),Le(_)),n(4,r=fe(e,i)),"asChild"in _&&n(1,u=_.asChild),"el"in _&&n(0,f=_.el),"$$scope"in _&&n(6,s=_.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,m)},[f,u,o,c,r,l,s,a,p]}let K0=class extends he{constructor(e){super(),pe(this,e,U0,Y0,de,{asChild:1,el:0})}};const J0=t=>({builder:t[0]&256}),Ds=t=>({builder:t[8]}),X0=t=>({builder:t[0]&256}),js=t=>({builder:t[8]}),Z0=t=>({builder:t[0]&256}),Fs=t=>({builder:t[8]}),Q0=t=>({builder:t[0]&256}),qs=t=>({builder:t[8]}),z0=t=>({builder:t[0]&256}),Bs=t=>({builder:t[8]}),eg=t=>({builder:t[0]&256}),Hs=t=>({builder:t[8]});function tg(t){let e,n,o,i;const r=t[16].default,l=be(r,t,t[15],Ds);let a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=M("div"),l&&l.c(),ce(e,s)},m(u,f){T(u,e,f),l&&l.m(e,null),t[56](e),n=!0,o||(i=[Ge(t[8].action(e)),te(e,"pointerdown",t[45]),te(e,"pointermove",t[46]),te(e,"pointerup",t[47]),te(e,"touchend",t[48]),te(e,"touchstart",t[49]),te(e,"touchcancel",t[50]),te(e,"touchmove",t[51])],o=!0)},p(u,f){l&&l.p&&(!n||f[0]&33024)&&ve(l,r,u,u[15],n?ye(r,u[15],f,J0):we(u[15]),Ds),ce(e,s=Ce(a,[f[0]&256&&u[8],f[0]&4096&&u[12]]))},i(u){n||(k(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&A(e),l&&l.d(u),t[56](null),o=!1,Ye(i)}}}function ng(t){let e,n,o,i,r;const l=t[16].default,a=be(l,t,t[15],js);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=M("div"),a&&a.c(),ce(e,u)},m(f,c){T(f,e,c),a&&a.m(e,null),t[55](e),o=!0,i||(r=[Ge(t[8].action(e)),te(e,"pointerdown",t[38]),te(e,"pointermove",t[39]),te(e,"pointerup",t[40]),te(e,"touchend",t[41]),te(e,"touchstart",t[42]),te(e,"touchcancel",t[43]),te(e,"touchmove",t[44])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&ve(a,l,t,t[15],o?ye(l,t[15],c,X0):we(t[15]),js),ce(e,u=Ce(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(k(a,f),n&&n.end(1),o=!0)},o(f){S(a,f),f&&(n=Yt(e,t[5],t[6])),o=!1},d(f){f&&A(e),a&&a.d(f),t[55](null),f&&n&&n.end(),i=!1,Ye(r)}}}function og(t){let e,n,o,i,r;const l=t[16].default,a=be(l,t,t[15],Fs);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=M("div"),a&&a.c(),ce(e,u)},m(f,c){T(f,e,c),a&&a.m(e,null),t[54](e),o=!0,i||(r=[Ge(t[8].action(e)),te(e,"pointerdown",t[31]),te(e,"pointermove",t[32]),te(e,"pointerup",t[33]),te(e,"touchend",t[34]),te(e,"touchstart",t[35]),te(e,"touchcancel",t[36]),te(e,"touchmove",t[37])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&ve(a,l,t,t[15],o?ye(l,t[15],c,Z0):we(t[15]),Fs),ce(e,u=Ce(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(k(a,f),f&&(n||nt(()=>{n=xt(e,t[3],t[4]),n.start()})),o=!0)},o(f){S(a,f),o=!1},d(f){f&&A(e),a&&a.d(f),t[54](null),i=!1,Ye(r)}}}function ig(t){let e,n,o,i,r,l;const a=t[16].default,s=be(a,t,t[15],qs);let u=[t[8],t[12]],f={};for(let c=0;c<u.length;c+=1)f=Q(f,u[c]);return{c(){e=M("div"),s&&s.c(),ce(e,f)},m(c,d){T(c,e,d),s&&s.m(e,null),t[53](e),i=!0,r||(l=[Ge(t[8].action(e)),te(e,"pointerdown",t[24]),te(e,"pointermove",t[25]),te(e,"pointerup",t[26]),te(e,"touchend",t[27]),te(e,"touchstart",t[28]),te(e,"touchcancel",t[29]),te(e,"touchmove",t[30])],r=!0)},p(c,d){t=c,s&&s.p&&(!i||d[0]&33024)&&ve(s,a,t,t[15],i?ye(a,t[15],d,Q0):we(t[15]),qs),ce(e,f=Ce(u,[d[0]&256&&t[8],d[0]&4096&&t[12]]))},i(c){i||(k(s,c),c&&nt(()=>{i&&(o&&o.end(1),n=xt(e,t[3],t[4]),n.start())}),i=!0)},o(c){S(s,c),n&&n.invalidate(),c&&(o=Yt(e,t[5],t[6])),i=!1},d(c){c&&A(e),s&&s.d(c),t[53](null),c&&o&&o.end(),r=!1,Ye(l)}}}function rg(t){let e,n,o,i,r;const l=t[16].default,a=be(l,t,t[15],Bs);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=M("div"),a&&a.c(),ce(e,u)},m(f,c){T(f,e,c),a&&a.m(e,null),t[52](e),o=!0,i||(r=[Ge(t[8].action(e)),te(e,"pointerdown",t[17]),te(e,"pointermove",t[18]),te(e,"pointerup",t[19]),te(e,"touchend",t[20]),te(e,"touchstart",t[21]),te(e,"touchcancel",t[22]),te(e,"touchmove",t[23])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&ve(a,l,t,t[15],o?ye(l,t[15],c,z0):we(t[15]),Bs),ce(e,u=Ce(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(k(a,f),f&&nt(()=>{o&&(n||(n=gt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(f){S(a,f),f&&(n||(n=gt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(f){f&&A(e),a&&a.d(f),t[52](null),f&&n&&n.end(),i=!1,Ye(r)}}}function lg(t){let e;const n=t[16].default,o=be(n,t,t[15],Hs);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r[0]&33024)&&ve(o,n,i,i[15],e?ye(n,i[15],r,eg):we(i[15]),Hs)},i(i){e||(k(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function sg(t){let e,n,o,i;const r=[lg,rg,ig,og,ng,tg],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=De()},m(s,u){~e&&l[e].m(s,u),T(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Me(),S(l[f],1,1,()=>{l[f]=null}),Oe()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(k(n),i=!0)},o(s){S(n),i=!1},d(s){s&&A(o),~e&&l[e].d(s)}}}function ag(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","id","el"];let r=fe(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:p=void 0}=e,{outTransitionConfig:_=void 0}=e,{asChild:h=!1}=e,{id:w=void 0}=e,{el:y=void 0}=e;const{elements:{content:C},states:{open:R},ids:D,getAttrs:F}=vo();ae(t,C,G=>n(14,l=G)),ae(t,R,G=>n(9,a=G));const N=F("content");function P(G){le.call(this,t,G)}function E(G){le.call(this,t,G)}function q(G){le.call(this,t,G)}function O(G){le.call(this,t,G)}function v(G){le.call(this,t,G)}function I(G){le.call(this,t,G)}function L(G){le.call(this,t,G)}function B(G){le.call(this,t,G)}function j(G){le.call(this,t,G)}function K(G){le.call(this,t,G)}function X(G){le.call(this,t,G)}function z(G){le.call(this,t,G)}function oe(G){le.call(this,t,G)}function J(G){le.call(this,t,G)}function ne(G){le.call(this,t,G)}function _e(G){le.call(this,t,G)}function se(G){le.call(this,t,G)}function re(G){le.call(this,t,G)}function je(G){le.call(this,t,G)}function Fe(G){le.call(this,t,G)}function Ue(G){le.call(this,t,G)}function g(G){le.call(this,t,G)}function Z(G){le.call(this,t,G)}function W(G){le.call(this,t,G)}function ee(G){le.call(this,t,G)}function me(G){le.call(this,t,G)}function ge(G){le.call(this,t,G)}function Pe(G){le.call(this,t,G)}function Re(G){le.call(this,t,G)}function We(G){le.call(this,t,G)}function $e(G){le.call(this,t,G)}function Je(G){le.call(this,t,G)}function ke(G){le.call(this,t,G)}function Be(G){le.call(this,t,G)}function Vn(G){le.call(this,t,G)}function un(G){Ee[G?"unshift":"push"](()=>{y=G,n(0,y)})}function It(G){Ee[G?"unshift":"push"](()=>{y=G,n(0,y)})}function lt(G){Ee[G?"unshift":"push"](()=>{y=G,n(0,y)})}function Ae(G){Ee[G?"unshift":"push"](()=>{y=G,n(0,y)})}function Xe(G){Ee[G?"unshift":"push"](()=>{y=G,n(0,y)})}return t.$$set=G=>{e=Q(Q({},e),Le(G)),n(12,r=fe(e,i)),"transition"in G&&n(1,f=G.transition),"transitionConfig"in G&&n(2,c=G.transitionConfig),"inTransition"in G&&n(3,d=G.inTransition),"inTransitionConfig"in G&&n(4,m=G.inTransitionConfig),"outTransition"in G&&n(5,p=G.outTransition),"outTransitionConfig"in G&&n(6,_=G.outTransitionConfig),"asChild"in G&&n(7,h=G.asChild),"id"in G&&n(13,w=G.id),"el"in G&&n(0,y=G.el),"$$scope"in G&&n(15,u=G.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&8192&&w&&D.content.set(w),t.$$.dirty[0]&16384&&n(8,o=l),t.$$.dirty[0]&256&&Object.assign(o,N)},[y,f,c,d,m,p,_,h,o,a,C,R,r,w,l,u,s,P,E,q,O,v,I,L,B,j,K,X,z,oe,J,ne,_e,se,re,je,Fe,Ue,g,Z,W,ee,me,ge,Pe,Re,We,$e,Je,ke,Be,Vn,un,It,lt,Ae,Xe]}let ug=class extends he{constructor(e){super(),pe(this,e,ag,sg,de,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,id:13,el:0},null,[-1,-1])}};const fg=t=>({builder:t&256}),Gs=t=>({builder:t[8]});function cg(t){let e,n,o,i=[t[8],t[12]],r={};for(let l=0;l<i.length;l+=1)r=Q(r,i[l]);return{c(){e=M("div"),ce(e,r)},m(l,a){T(l,e,a),t[25](e),n||(o=[Ge(t[8].action(e)),te(e,"mouseup",t[20])],n=!0)},p(l,a){ce(e,r=Ce(i,[a&256&&l[8],a&4096&&l[12]]))},i:Te,o:Te,d(l){l&&A(e),t[25](null),n=!1,Ye(o)}}}function dg(t){let e,n,o,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=Q(a,l[s]);return{c(){e=M("div"),ce(e,a)},m(s,u){T(s,e,u),t[24](e),o=!0,i||(r=[Ge(t[8].action(e)),te(e,"mouseup",t[19])],i=!0)},p(s,u){t=s,ce(e,a=Ce(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(n&&n.end(1),o=!0)},o(s){s&&(n=Yt(e,t[5],t[6])),o=!1},d(s){s&&A(e),t[24](null),s&&n&&n.end(),i=!1,Ye(r)}}}function mg(t){let e,n,o,i,r=[t[8],t[12]],l={};for(let a=0;a<r.length;a+=1)l=Q(l,r[a]);return{c(){e=M("div"),ce(e,l)},m(a,s){T(a,e,s),t[23](e),o||(i=[Ge(t[8].action(e)),te(e,"mouseup",t[18])],o=!0)},p(a,s){t=a,ce(e,l=Ce(r,[s&256&&t[8],s&4096&&t[12]]))},i(a){a&&(n||nt(()=>{n=xt(e,t[3],t[4]),n.start()}))},o:Te,d(a){a&&A(e),t[23](null),o=!1,Ye(i)}}}function pg(t){let e,n,o,i,r,l,a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=M("div"),ce(e,s)},m(u,f){T(u,e,f),t[22](e),i=!0,r||(l=[Ge(t[8].action(e)),te(e,"mouseup",t[17])],r=!0)},p(u,f){t=u,ce(e,s=Ce(a,[f&256&&t[8],f&4096&&t[12]]))},i(u){i||(u&&nt(()=>{i&&(o&&o.end(1),n=xt(e,t[3],t[4]),n.start())}),i=!0)},o(u){n&&n.invalidate(),u&&(o=Yt(e,t[5],t[6])),i=!1},d(u){u&&A(e),t[22](null),u&&o&&o.end(),r=!1,Ye(l)}}}function hg(t){let e,n,o,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=Q(a,l[s]);return{c(){e=M("div"),ce(e,a)},m(s,u){T(s,e,u),t[21](e),o=!0,i||(r=[te(e,"mouseup",t[16]),Ge(t[8].action(e))],i=!0)},p(s,u){t=s,ce(e,a=Ce(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(s&&nt(()=>{o&&(n||(n=gt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(s){s&&(n||(n=gt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(s){s&&A(e),t[21](null),s&&n&&n.end(),i=!1,Ye(r)}}}function _g(t){let e;const n=t[15].default,o=be(n,t,t[14],Gs);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&16640)&&ve(o,n,i,i[14],e?ye(n,i[14],r,fg):we(i[14]),Gs)},i(i){e||(k(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function gg(t){let e,n,o,i;const r=[_g,hg,pg,mg,dg,cg],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=De()},m(s,u){~e&&l[e].m(s,u),T(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Me(),S(l[f],1,1,()=>{l[f]=null}),Oe()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(k(n),i=!0)},o(s){S(n),i=!1},d(s){s&&A(o),~e&&l[e].d(s)}}}function bg(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","el"];let r=fe(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:p=void 0}=e,{outTransitionConfig:_=void 0}=e,{asChild:h=!1}=e,{el:w=void 0}=e;const{elements:{overlay:y},states:{open:C},getAttrs:R}=vo();ae(t,y,j=>n(13,l=j)),ae(t,C,j=>n(9,a=j));const D=R("overlay");function F(j){le.call(this,t,j)}function N(j){le.call(this,t,j)}function P(j){le.call(this,t,j)}function E(j){le.call(this,t,j)}function q(j){le.call(this,t,j)}function O(j){Ee[j?"unshift":"push"](()=>{w=j,n(0,w)})}function v(j){Ee[j?"unshift":"push"](()=>{w=j,n(0,w)})}function I(j){Ee[j?"unshift":"push"](()=>{w=j,n(0,w)})}function L(j){Ee[j?"unshift":"push"](()=>{w=j,n(0,w)})}function B(j){Ee[j?"unshift":"push"](()=>{w=j,n(0,w)})}return t.$$set=j=>{e=Q(Q({},e),Le(j)),n(12,r=fe(e,i)),"transition"in j&&n(1,f=j.transition),"transitionConfig"in j&&n(2,c=j.transitionConfig),"inTransition"in j&&n(3,d=j.inTransition),"inTransitionConfig"in j&&n(4,m=j.inTransitionConfig),"outTransition"in j&&n(5,p=j.outTransition),"outTransitionConfig"in j&&n(6,_=j.outTransitionConfig),"asChild"in j&&n(7,h=j.asChild),"el"in j&&n(0,w=j.el),"$$scope"in j&&n(14,u=j.$$scope)},t.$$.update=()=>{t.$$.dirty&8192&&n(8,o=l),t.$$.dirty&256&&Object.assign(o,D)},[w,f,c,d,m,p,_,h,o,a,y,C,r,l,u,s,F,N,P,E,q,O,v,I,L,B]}let yg=class extends he{constructor(e){super(),pe(this,e,bg,gg,de,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,el:0})}};const vg=t=>({builder:t&4}),Vs=t=>({builder:t[2]}),wg=t=>({builder:t&4}),Ws=t=>({builder:t[2]});function kg(t){let e,n,o,i;const r=t[8].default,l=be(r,t,t[7],Vs);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=M("div"),l&&l.c(),ce(e,s)},m(u,f){T(u,e,f),l&&l.m(e,null),t[9](e),n=!0,o||(i=Ge(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&ve(l,r,u,u[7],n?ye(r,u[7],f,vg):we(u[7]),Vs),ce(e,s=Ce(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(k(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&A(e),l&&l.d(u),t[9](null),o=!1,i()}}}function Cg(t){let e;const n=t[8].default,o=be(n,t,t[7],Ws);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&ve(o,n,i,i[7],e?ye(n,i[7],r,wg):we(i[7]),Ws)},i(i){e||(k(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Sg(t){let e,n,o,i;const r=[Cg,kg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),T(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){S(n),i=!1},d(s){s&&A(o),l[e].d(s)}}}function Ag(t,e,n){let o;const i=["asChild","id","el"];let r=fe(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{description:d},ids:m,getAttrs:p}=vo();ae(t,d,w=>n(6,l=w));const _=p("description");function h(w){Ee[w?"unshift":"push"](()=>{c=w,n(0,c)})}return t.$$set=w=>{e=Q(Q({},e),Le(w)),n(4,r=fe(e,i)),"asChild"in w&&n(1,u=w.asChild),"id"in w&&n(5,f=w.id),"el"in w&&n(0,c=w.el),"$$scope"in w&&n(7,s=w.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f&&m.description.set(f),t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,_)},[c,u,o,d,r,f,l,s,a,h]}let Tg=class extends he{constructor(e){super(),pe(this,e,Ag,Sg,de,{asChild:1,id:5,el:0})}};function Ig(){const t="label",n=qn(t,["root"]);return{NAME:t,getAttrs:n}}const Mg=t=>({builder:t&4}),xs=t=>({builder:t[2]}),Og=t=>({builder:t&4}),Ys=t=>({builder:t[2]});function Pg(t){let e,n,o,i;const r=t[8].default,l=be(r,t,t[7],xs);let a=[t[2],t[5]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=M("label"),l&&l.c(),ce(e,s)},m(u,f){T(u,e,f),l&&l.m(e,null),t[9](e),n=!0,o||(i=[Ge(t[2].action(e)),te(e,"m-mousedown",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&ve(l,r,u,u[7],n?ye(r,u[7],f,Mg):we(u[7]),xs),ce(e,s=Ce(a,[f&4&&u[2],f&32&&u[5]]))},i(u){n||(k(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&A(e),l&&l.d(u),t[9](null),o=!1,Ye(i)}}}function Ng(t){let e;const n=t[8].default,o=be(n,t,t[7],Ys);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&ve(o,n,i,i[7],e?ye(n,i[7],r,Og):we(i[7]),Ys)},i(i){e||(k(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Eg(t){let e,n,o,i;const r=[Ng,Pg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),T(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){S(n),i=!1},d(s){s&&A(o),l[e].d(s)}}}function $g(t,e,n){let o;const i=["asChild","el"];let r=fe(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{root:c}}=Dh();ae(t,c,h=>n(6,l=h));const d=Bn(),{getAttrs:m}=Ig(),p=m("root");function _(h){Ee[h?"unshift":"push"](()=>{f=h,n(0,f)})}return t.$$set=h=>{e=Q(Q({},e),Le(h)),n(5,r=fe(e,i)),"asChild"in h&&n(1,u=h.asChild),"el"in h&&n(0,f=h.el),"$$scope"in h&&n(7,s=h.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,p)},[f,u,o,c,d,r,l,s,a,_]}let Rg=class extends he{constructor(e){super(),pe(this,e,$g,Eg,de,{asChild:1,el:0})}};function Lg(){return{NAME:"progress",PARTS:["root"]}}function Dg(t){const{NAME:e,PARTS:n}=Lg(),o=qn(e,n),i={...Hh(yo(t)),getAttrs:o};return{...i,updateOption:Dn(i.options)}}const jg=t=>({builder:t&4}),Us=t=>({builder:t[2]}),Fg=t=>({builder:t&4}),Ks=t=>({builder:t[2]});function qg(t){let e,n,o,i;const r=t[10].default,l=be(r,t,t[9],Us);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=M("div"),l&&l.c(),ce(e,s)},m(u,f){T(u,e,f),l&&l.m(e,null),t[11](e),n=!0,o||(i=Ge(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&516)&&ve(l,r,u,u[9],n?ye(r,u[9],f,jg):we(u[9]),Us),ce(e,s=Ce(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(k(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&A(e),l&&l.d(u),t[11](null),o=!1,i()}}}function Bg(t){let e;const n=t[10].default,o=be(n,t,t[9],Ks);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&516)&&ve(o,n,i,i[9],e?ye(n,i[9],r,Fg):we(i[9]),Ks)},i(i){e||(k(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Hg(t){let e,n,o,i;const r=[Bg,qg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),T(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){S(n),i=!1},d(s){s&&A(o),l[e].d(s)}}}function Gg(t,e,n){let o;const i=["max","value","onValueChange","asChild","el"];let r=fe(e,i),l,{$$slots:a={},$$scope:s}=e,{max:u=void 0}=e,{value:f=void 0}=e,{onValueChange:c=void 0}=e,{asChild:d=!1}=e,{el:m=void 0}=e;const{elements:{root:p},states:{value:_},updateOption:h,getAttrs:w}=Dg({max:u,defaultValue:f,onValueChange:({next:R})=>(c==null||c(R),n(5,f=R),R)});ae(t,p,R=>n(8,l=R));const y=w("root");function C(R){Ee[R?"unshift":"push"](()=>{m=R,n(0,m)})}return t.$$set=R=>{e=Q(Q({},e),Le(R)),n(4,r=fe(e,i)),"max"in R&&n(6,u=R.max),"value"in R&&n(5,f=R.value),"onValueChange"in R&&n(7,c=R.onValueChange),"asChild"in R&&n(1,d=R.asChild),"el"in R&&n(0,m=R.el),"$$scope"in R&&n(9,s=R.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f!==void 0&&_.set(f),t.$$.dirty&64&&h("max",u),t.$$.dirty&256&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,y)},[m,d,o,p,r,f,u,c,l,s,a,C]}let Vg=class extends he{constructor(e){super(),pe(this,e,Gg,Hg,de,{max:6,value:5,onValueChange:7,asChild:1,el:0})}};function bc(){return{NAME:"slider",PARTS:["root","input","range","thumb","tick"]}}function Wg(t){const{NAME:e,PARTS:n}=bc(),o=qn(e,n),i={...xh(yo(t)),getAttrs:o};return Qi(e,i),{...i,updateOption:Dn(i.options)}}function yc(){const{NAME:t}=bc();return zi(t)}const xg=t=>({builder:t&4,ticks:t&8,thumbs:t&16}),Js=t=>({builder:t[2],ticks:t[3],thumbs:t[4]}),Yg=t=>({builder:t&4,ticks:t&8,thumbs:t&16}),Xs=t=>({builder:t[2],ticks:t[3],thumbs:t[4]});function Ug(t){let e,n,o,i;const r=t[18].default,l=be(r,t,t[17],Js);let a=[t[2],t[8]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=M("span"),l&&l.c(),ce(e,s)},m(u,f){T(u,e,f),l&&l.m(e,null),t[19](e),n=!0,o||(i=Ge(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&131100)&&ve(l,r,u,u[17],n?ye(r,u[17],f,xg):we(u[17]),Js),ce(e,s=Ce(a,[f&4&&u[2],f&256&&u[8]]))},i(u){n||(k(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&A(e),l&&l.d(u),t[19](null),o=!1,i()}}}function Kg(t){let e;const n=t[18].default,o=be(n,t,t[17],Xs);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&131100)&&ve(o,n,i,i[17],e?ye(n,i[17],r,Yg):we(i[17]),Xs)},i(i){e||(k(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Jg(t){let e,n,o,i;const r=[Kg,Ug],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),T(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){S(n),i=!1},d(s){s&&A(o),l[e].d(s)}}}function Xg(t,e,n){let o;const i=["disabled","min","max","step","orientation","value","onValueChange","asChild","el"];let r=fe(e,i),l,a,s,{$$slots:u={},$$scope:f}=e,{disabled:c=void 0}=e,{min:d=void 0}=e,{max:m=void 0}=e,{step:p=void 0}=e,{orientation:_=void 0}=e,{value:h=void 0}=e,{onValueChange:w=void 0}=e,{asChild:y=!1}=e,{el:C=void 0}=e;const{elements:{root:R,ticks:D,thumbs:F},states:{value:N},updateOption:P,getAttrs:E}=Wg({disabled:c,min:d,max:m,step:p,orientation:_,defaultValue:h,onValueChange:({next:v})=>(h!==v&&(w==null||w(v),n(9,h=v)),v)});ae(t,R,v=>n(16,l=v)),ae(t,D,v=>n(3,a=v)),ae(t,F,v=>n(4,s=v));const q=E("root");function O(v){Ee[v?"unshift":"push"](()=>{C=v,n(0,C)})}return t.$$set=v=>{e=Q(Q({},e),Le(v)),n(8,r=fe(e,i)),"disabled"in v&&n(10,c=v.disabled),"min"in v&&n(11,d=v.min),"max"in v&&n(12,m=v.max),"step"in v&&n(13,p=v.step),"orientation"in v&&n(14,_=v.orientation),"value"in v&&n(9,h=v.value),"onValueChange"in v&&n(15,w=v.onValueChange),"asChild"in v&&n(1,y=v.asChild),"el"in v&&n(0,C=v.el),"$$scope"in v&&n(17,f=v.$$scope)},t.$$.update=()=>{t.$$.dirty&512&&h!==void 0&&N.set(h),t.$$.dirty&1024&&P("disabled",c),t.$$.dirty&2048&&P("min",d),t.$$.dirty&4096&&P("max",m),t.$$.dirty&8192&&P("step",p),t.$$.dirty&16384&&P("orientation",_),t.$$.dirty&65536&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,q)},[C,y,o,a,s,R,D,F,r,h,c,d,m,p,_,w,l,f,u,O]}let Zg=class extends he{constructor(e){super(),pe(this,e,Xg,Jg,de,{disabled:10,min:11,max:12,step:13,orientation:14,value:9,onValueChange:15,asChild:1,el:0})}};const Qg=t=>({builder:t&4}),Zs=t=>({builder:t[2]});function zg(t){let e,n,o,i=[t[2],t[4]],r={};for(let l=0;l<i.length;l+=1)r=Q(r,i[l]);return{c(){e=M("span"),ce(e,r)},m(l,a){T(l,e,a),t[8](e),n||(o=Ge(t[2].action(e)),n=!0)},p(l,a){ce(e,r=Ce(i,[a&4&&l[2],a&16&&l[4]]))},i:Te,o:Te,d(l){l&&A(e),t[8](null),n=!1,o()}}}function e1(t){let e;const n=t[7].default,o=be(n,t,t[6],Zs);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&68)&&ve(o,n,i,i[6],e?ye(n,i[6],r,Qg):we(i[6]),Zs)},i(i){e||(k(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function t1(t){let e,n,o,i;const r=[e1,zg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),T(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){S(n),i=!1},d(s){s&&A(o),l[e].d(s)}}}function n1(t,e,n){let o;const i=["asChild","el"];let r=fe(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{range:c},getAttrs:d}=yc();ae(t,c,_=>n(5,l=_));const m=d("range");function p(_){Ee[_?"unshift":"push"](()=>{f=_,n(0,f)})}return t.$$set=_=>{e=Q(Q({},e),Le(_)),n(4,r=fe(e,i)),"asChild"in _&&n(1,u=_.asChild),"el"in _&&n(0,f=_.el),"$$scope"in _&&n(6,s=_.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,m)},[f,u,o,c,r,l,s,a,p]}class o1 extends he{constructor(e){super(),pe(this,e,n1,t1,de,{asChild:1,el:0})}}const i1=t=>({builder:t&4}),Qs=t=>({builder:t[2]});function r1(t){let e,n,o,i=[t[2],t[4]],r={};for(let l=0;l<i.length;l+=1)r=Q(r,i[l]);return{c(){e=M("span"),ce(e,r)},m(l,a){T(l,e,a),t[8](e),n||(o=[Ge(t[2].action(e)),te(e,"m-keydown",t[3])],n=!0)},p(l,a){ce(e,r=Ce(i,[a&4&&l[2],a&16&&l[4]]))},i:Te,o:Te,d(l){l&&A(e),t[8](null),n=!1,Ye(o)}}}function l1(t){let e;const n=t[7].default,o=be(n,t,t[6],Qs);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&68)&&ve(o,n,i,i[6],e?ye(n,i[6],r,i1):we(i[6]),Qs)},i(i){e||(k(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function s1(t){let e,n,o,i;const r=[l1,r1],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),T(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){S(n),i=!1},d(s){s&&A(o),l[e].d(s)}}}function a1(t,e,n){let o;const i=["asChild","el","thumb"];let r=fe(e,i),{$$slots:l={},$$scope:a}=e,{asChild:s=!1}=e,{el:u=void 0}=e,{thumb:f}=e;const{getAttrs:c}=yc(),d=Bn(),m=c("thumb");function p(_){Ee[_?"unshift":"push"](()=>{u=_,n(0,u)})}return t.$$set=_=>{e=Q(Q({},e),Le(_)),n(4,r=fe(e,i)),"asChild"in _&&n(1,s=_.asChild),"el"in _&&n(0,u=_.el),"thumb"in _&&n(5,f=_.thumb),"$$scope"in _&&n(6,a=_.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=f),t.$$.dirty&4&&Object.assign(o,m)},[u,s,o,d,r,f,a,l,p]}class u1 extends he{constructor(e){super(),pe(this,e,a1,s1,de,{asChild:1,el:0,thumb:5})}}function vc(){return{NAME:"tooltip",PARTS:["arrow","content","trigger"]}}function f1(t){const{NAME:e,PARTS:n}=vc(),o=qn(e,n),i={...Kh({positioning:{placement:"top",gutter:0},openDelay:700,...yo(t),forceVisible:!0}),getAttrs:o};return Qi(e,i),{...i,updateOption:Dn(i.options)}}function kl(){const{NAME:t}=vc();return zi(t)}function c1(t){const n={...{side:"top",align:"center",sideOffset:1},...t},{options:{positioning:o}}=kl();d0(o)({...n})}const d1=t=>({ids:t&1}),zs=t=>({ids:t[0]});function m1(t){let e;const n=t[12].default,o=be(n,t,t[11],zs);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,[r]){o&&o.p&&(!e||r&2049)&&ve(o,n,i,i[11],e?ye(n,i[11],r,d1):we(i[11]),zs)},i(i){e||(k(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function p1(t,e,n){let o,{$$slots:i={},$$scope:r}=e,{closeOnEscape:l=void 0}=e,{portal:a=void 0}=e,{closeOnPointerDown:s=void 0}=e,{openDelay:u=void 0}=e,{closeDelay:f=void 0}=e,{open:c=void 0}=e,{onOpenChange:d=void 0}=e,{disableHoverableContent:m=void 0}=e,{group:p=void 0}=e;const{states:{open:_},updateOption:h,ids:w}=f1({closeOnEscape:l,portal:a,closeOnPointerDown:s,openDelay:u,closeDelay:f,forceVisible:!0,defaultOpen:c,disableHoverableContent:m,group:p,onOpenChange:({next:C})=>(c!==C&&(d==null||d(C),n(2,c=C)),C),positioning:{gutter:0,offset:{mainAxis:1}}}),y=nn([w.content,w.trigger],([C,R])=>({content:C,trigger:R}));return ae(t,y,C=>n(0,o=C)),t.$$set=C=>{"closeOnEscape"in C&&n(3,l=C.closeOnEscape),"portal"in C&&n(4,a=C.portal),"closeOnPointerDown"in C&&n(5,s=C.closeOnPointerDown),"openDelay"in C&&n(6,u=C.openDelay),"closeDelay"in C&&n(7,f=C.closeDelay),"open"in C&&n(2,c=C.open),"onOpenChange"in C&&n(8,d=C.onOpenChange),"disableHoverableContent"in C&&n(9,m=C.disableHoverableContent),"group"in C&&n(10,p=C.group),"$$scope"in C&&n(11,r=C.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&c!==void 0&&_.set(c),t.$$.dirty&8&&h("closeOnEscape",l),t.$$.dirty&16&&h("portal",a),t.$$.dirty&32&&h("closeOnPointerDown",s),t.$$.dirty&64&&h("openDelay",u),t.$$.dirty&128&&h("closeDelay",f),t.$$.dirty&1024&&h("group",p),t.$$.dirty&512&&h("disableHoverableContent",m)},[o,y,c,l,a,s,u,f,d,m,p,r,i]}class h1 extends he{constructor(e){super(),pe(this,e,p1,m1,de,{closeOnEscape:3,portal:4,closeOnPointerDown:5,openDelay:6,closeDelay:7,open:2,onOpenChange:8,disableHoverableContent:9,group:10})}}const _1=t=>({builder:t[0]&256}),ea=t=>({builder:t[8]}),g1=t=>({builder:t[0]&256}),ta=t=>({builder:t[8]}),b1=t=>({builder:t[0]&256}),na=t=>({builder:t[8]}),y1=t=>({builder:t[0]&256}),oa=t=>({builder:t[8]}),v1=t=>({builder:t[0]&256}),ia=t=>({builder:t[8]}),w1=t=>({builder:t[0]&256}),ra=t=>({builder:t[8]});function k1(t){let e,n,o,i;const r=t[28].default,l=be(r,t,t[27],ea);let a=[t[8],t[13]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=M("div"),l&&l.c(),ce(e,s)},m(u,f){T(u,e,f),l&&l.m(e,null),t[33](e),n=!0,o||(i=[Ge(t[8].action(e)),te(e,"m-pointerdown",t[12]),te(e,"m-pointerenter",t[12])],o=!0)},p(u,f){l&&l.p&&(!n||f[0]&134217984)&&ve(l,r,u,u[27],n?ye(r,u[27],f,_1):we(u[27]),ea),ce(e,s=Ce(a,[f[0]&256&&u[8],f[0]&8192&&u[13]]))},i(u){n||(k(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&A(e),l&&l.d(u),t[33](null),o=!1,Ye(i)}}}function C1(t){let e,n,o,i,r;const l=t[28].default,a=be(l,t,t[27],ta);let s=[t[8],t[13]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=M("div"),a&&a.c(),ce(e,u)},m(f,c){T(f,e,c),a&&a.m(e,null),t[32](e),o=!0,i||(r=[Ge(t[8].action(e)),te(e,"m-pointerdown",t[12]),te(e,"m-pointerenter",t[12])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&134217984)&&ve(a,l,t,t[27],o?ye(l,t[27],c,g1):we(t[27]),ta),ce(e,u=Ce(s,[c[0]&256&&t[8],c[0]&8192&&t[13]]))},i(f){o||(k(a,f),n&&n.end(1),o=!0)},o(f){S(a,f),f&&(n=Yt(e,t[5],t[6])),o=!1},d(f){f&&A(e),a&&a.d(f),t[32](null),f&&n&&n.end(),i=!1,Ye(r)}}}function S1(t){let e,n,o,i,r;const l=t[28].default,a=be(l,t,t[27],na);let s=[t[8],t[13]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=M("div"),a&&a.c(),ce(e,u)},m(f,c){T(f,e,c),a&&a.m(e,null),t[31](e),o=!0,i||(r=[Ge(t[8].action(e)),te(e,"m-pointerdown",t[12]),te(e,"m-pointerenter",t[12])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&134217984)&&ve(a,l,t,t[27],o?ye(l,t[27],c,b1):we(t[27]),na),ce(e,u=Ce(s,[c[0]&256&&t[8],c[0]&8192&&t[13]]))},i(f){o||(k(a,f),f&&(n||nt(()=>{n=xt(e,t[3],t[4]),n.start()})),o=!0)},o(f){S(a,f),o=!1},d(f){f&&A(e),a&&a.d(f),t[31](null),i=!1,Ye(r)}}}function A1(t){let e,n,o,i,r,l;const a=t[28].default,s=be(a,t,t[27],oa);let u=[t[8],t[13]],f={};for(let c=0;c<u.length;c+=1)f=Q(f,u[c]);return{c(){e=M("div"),s&&s.c(),ce(e,f)},m(c,d){T(c,e,d),s&&s.m(e,null),t[30](e),i=!0,r||(l=[Ge(t[8].action(e)),te(e,"m-pointerdown",t[12]),te(e,"m-pointerenter",t[12])],r=!0)},p(c,d){t=c,s&&s.p&&(!i||d[0]&134217984)&&ve(s,a,t,t[27],i?ye(a,t[27],d,y1):we(t[27]),oa),ce(e,f=Ce(u,[d[0]&256&&t[8],d[0]&8192&&t[13]]))},i(c){i||(k(s,c),c&&nt(()=>{i&&(o&&o.end(1),n=xt(e,t[3],t[4]),n.start())}),i=!0)},o(c){S(s,c),n&&n.invalidate(),c&&(o=Yt(e,t[5],t[6])),i=!1},d(c){c&&A(e),s&&s.d(c),t[30](null),c&&o&&o.end(),r=!1,Ye(l)}}}function T1(t){let e,n,o,i,r;const l=t[28].default,a=be(l,t,t[27],ia);let s=[t[8],t[13]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=M("div"),a&&a.c(),ce(e,u)},m(f,c){T(f,e,c),a&&a.m(e,null),t[29](e),o=!0,i||(r=[Ge(t[8].action(e)),te(e,"m-pointerdown",t[12]),te(e,"m-pointerenter",t[12])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&134217984)&&ve(a,l,t,t[27],o?ye(l,t[27],c,v1):we(t[27]),ia),ce(e,u=Ce(s,[c[0]&256&&t[8],c[0]&8192&&t[13]]))},i(f){o||(k(a,f),f&&nt(()=>{o&&(n||(n=gt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(f){S(a,f),f&&(n||(n=gt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(f){f&&A(e),a&&a.d(f),t[29](null),f&&n&&n.end(),i=!1,Ye(r)}}}function I1(t){let e;const n=t[28].default,o=be(n,t,t[27],ra);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r[0]&134217984)&&ve(o,n,i,i[27],e?ye(n,i[27],r,w1):we(i[27]),ra)},i(i){e||(k(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function M1(t){let e,n,o,i;const r=[I1,T1,A1,S1,C1,k1],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=De()},m(s,u){~e&&l[e].m(s,u),T(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Me(),S(l[f],1,1,()=>{l[f]=null}),Oe()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(k(n),i=!0)},o(s){S(n),i=!1},d(s){s&&A(o),~e&&l[e].d(s)}}}function O1(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","id","side","align","sideOffset","alignOffset","collisionPadding","avoidCollisions","collisionBoundary","sameWidth","fitViewport","strategy","overlap","el"];let r=fe(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:p=void 0}=e,{outTransitionConfig:_=void 0}=e,{asChild:h=!1}=e,{id:w=void 0}=e,{side:y="top"}=e,{align:C="center"}=e,{sideOffset:R=0}=e,{alignOffset:D=0}=e,{collisionPadding:F=8}=e,{avoidCollisions:N=!0}=e,{collisionBoundary:P=void 0}=e,{sameWidth:E=!1}=e,{fitViewport:q=!1}=e,{strategy:O="absolute"}=e,{overlap:v=!1}=e,{el:I=void 0}=e;const{elements:{content:L},states:{open:B},ids:j,getAttrs:K}=kl();ae(t,L,re=>n(26,a=re)),ae(t,B,re=>n(9,l=re));const X=Bn(),z=K("content");function oe(re){Ee[re?"unshift":"push"](()=>{I=re,n(0,I)})}function J(re){Ee[re?"unshift":"push"](()=>{I=re,n(0,I)})}function ne(re){Ee[re?"unshift":"push"](()=>{I=re,n(0,I)})}function _e(re){Ee[re?"unshift":"push"](()=>{I=re,n(0,I)})}function se(re){Ee[re?"unshift":"push"](()=>{I=re,n(0,I)})}return t.$$set=re=>{e=Q(Q({},e),Le(re)),n(13,r=fe(e,i)),"transition"in re&&n(1,f=re.transition),"transitionConfig"in re&&n(2,c=re.transitionConfig),"inTransition"in re&&n(3,d=re.inTransition),"inTransitionConfig"in re&&n(4,m=re.inTransitionConfig),"outTransition"in re&&n(5,p=re.outTransition),"outTransitionConfig"in re&&n(6,_=re.outTransitionConfig),"asChild"in re&&n(7,h=re.asChild),"id"in re&&n(14,w=re.id),"side"in re&&n(15,y=re.side),"align"in re&&n(16,C=re.align),"sideOffset"in re&&n(17,R=re.sideOffset),"alignOffset"in re&&n(18,D=re.alignOffset),"collisionPadding"in re&&n(19,F=re.collisionPadding),"avoidCollisions"in re&&n(20,N=re.avoidCollisions),"collisionBoundary"in re&&n(21,P=re.collisionBoundary),"sameWidth"in re&&n(22,E=re.sameWidth),"fitViewport"in re&&n(23,q=re.fitViewport),"strategy"in re&&n(24,O=re.strategy),"overlap"in re&&n(25,v=re.overlap),"el"in re&&n(0,I=re.el),"$$scope"in re&&n(27,u=re.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&16384&&w&&j.content.set(w),t.$$.dirty[0]&67108864&&n(8,o=a),t.$$.dirty[0]&256&&Object.assign(o,z),t.$$.dirty[0]&67076608&&l&&c1({side:y,align:C,sideOffset:R,alignOffset:D,collisionPadding:F,avoidCollisions:N,collisionBoundary:P,sameWidth:E,fitViewport:q,strategy:O,overlap:v})},[I,f,c,d,m,p,_,h,o,l,L,B,X,r,w,y,C,R,D,F,N,P,E,q,O,v,a,u,s,oe,J,ne,_e,se]}let P1=class extends he{constructor(e){super(),pe(this,e,O1,M1,de,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,id:14,side:15,align:16,sideOffset:17,alignOffset:18,collisionPadding:19,avoidCollisions:20,collisionBoundary:21,sameWidth:22,fitViewport:23,strategy:24,overlap:25,el:0},null,[-1,-1])}};const N1=t=>({builder:t&4}),la=t=>({builder:t[2]}),E1=t=>({builder:t&4}),sa=t=>({builder:t[2]});function $1(t){let e,n,o,i;const r=t[9].default,l=be(r,t,t[8],la);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=M("button"),l&&l.c(),ce(e,s)},m(u,f){T(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[10](e),n=!0,o||(i=[Ge(t[2].action(e)),te(e,"m-blur",t[4]),te(e,"m-focus",t[4]),te(e,"m-keydown",t[4]),te(e,"m-pointerdown",t[4]),te(e,"m-pointerenter",t[4]),te(e,"m-pointerleave",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&260)&&ve(l,r,u,u[8],n?ye(r,u[8],f,N1):we(u[8]),la),ce(e,s=Ce(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(k(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&A(e),l&&l.d(u),t[10](null),o=!1,Ye(i)}}}function R1(t){let e;const n=t[9].default,o=be(n,t,t[8],sa);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&260)&&ve(o,n,i,i[8],e?ye(n,i[8],r,E1):we(i[8]),sa)},i(i){e||(k(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function L1(t){let e,n,o,i;const r=[R1,$1],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),T(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){S(n),i=!1},d(s){s&&A(o),l[e].d(s)}}}function D1(t,e,n){let o;const i=["asChild","id","el"];let r=fe(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{trigger:d},ids:m,getAttrs:p}=kl();ae(t,d,y=>n(7,l=y));const _=Bn(),h=p("trigger");function w(y){Ee[y?"unshift":"push"](()=>{c=y,n(0,c)})}return t.$$set=y=>{e=Q(Q({},e),Le(y)),n(5,r=fe(e,i)),"asChild"in y&&n(1,u=y.asChild),"id"in y&&n(6,f=y.id),"el"in y&&n(0,c=y.el),"$$scope"in y&&n(8,s=y.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&f&&m.trigger.set(f),t.$$.dirty&128&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,h)},[c,u,o,d,_,r,f,l,s,a,w]}class j1 extends he{constructor(e){super(),pe(this,e,D1,L1,de,{asChild:1,id:6,el:0})}}function F1(t){let e;const n=t[2].default,o=be(n,t,t[3],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&8)&&ve(o,n,i,i[3],e?ye(n,i[3],r,null):we(i[3]),null)},i(i){e||(k(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function q1(t){let e,n;const o=[{class:He("text-lg font-semibold leading-none tracking-tight",t[0])},t[1]];let i={$$slots:{default:[F1]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new R0({props:i}),{c(){U(e.$$.fragment)},m(r,l){x(e,r,l),n=!0},p(r,[l]){const a=l&3?Ce(o,[l&1&&{class:He("text-lg font-semibold leading-none tracking-tight",r[0])},l&2&&rt(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){Y(e,r)}}}function B1(t,e,n){const o=["class"];let i=fe(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Q(Q({},e),Le(s)),n(1,i=fe(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,l=s.$$scope)},[a,i,r,l]}class rn extends he{constructor(e){super(),pe(this,e,B1,q1,de,{class:0})}}function H1(t){let e;const n=t[1].default,o=be(n,t,t[2],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&4)&&ve(o,n,i,i[2],e?ye(n,i[2],r,null):we(i[2]),null)},i(i){e||(k(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function G1(t){let e,n;const o=[t[0]];let i={$$slots:{default:[H1]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new K0({props:i}),{c(){U(e.$$.fragment)},m(r,l){x(e,r,l),n=!0},p(r,[l]){const a=l&1?Ce(o,[rt(r[0])]):{};l&4&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){Y(e,r)}}}function V1(t,e,n){const o=[];let i=fe(e,o),{$$slots:r={},$$scope:l}=e;return t.$$set=a=>{e=Q(Q({},e),Le(a)),n(0,i=fe(e,o)),"$$scope"in a&&n(2,l=a.$$scope)},[i,r,l]}class W1 extends he{constructor(e){super(),pe(this,e,V1,G1,de,{})}}function x1(t){let e,n,o;const i=t[3].default,r=be(i,t,t[2],null);let l=[{class:n=He("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=Q(a,l[s]);return{c(){e=M("div"),r&&r.c(),ce(e,a)},m(s,u){T(s,e,u),r&&r.m(e,null),o=!0},p(s,[u]){r&&r.p&&(!o||u&4)&&ve(r,i,s,s[2],o?ye(i,s[2],u,null):we(s[2]),null),ce(e,a=Ce(l,[(!o||u&1&&n!==(n=He("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(k(r,s),o=!0)},o(s){S(r,s),o=!1},d(s){s&&A(e),r&&r.d(s)}}}function Y1(t,e,n){const o=["class"];let i=fe(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Q(Q({},e),Le(s)),n(1,i=fe(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,i,l,r]}class kn extends he{constructor(e){super(),pe(this,e,Y1,x1,de,{class:0})}}function U1(t){let e,n,o;const i=t[3].default,r=be(i,t,t[2],null);let l=[{class:n=He("flex flex-col space-y-1.5 text-center sm:text-left",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=Q(a,l[s]);return{c(){e=M("div"),r&&r.c(),ce(e,a)},m(s,u){T(s,e,u),r&&r.m(e,null),o=!0},p(s,[u]){r&&r.p&&(!o||u&4)&&ve(r,i,s,s[2],o?ye(i,s[2],u,null):we(s[2]),null),ce(e,a=Ce(l,[(!o||u&1&&n!==(n=He("flex flex-col space-y-1.5 text-center sm:text-left",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(k(r,s),o=!0)},o(s){S(r,s),o=!1},d(s){s&&A(e),r&&r.d(s)}}}function K1(t,e,n){const o=["class"];let i=fe(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Q(Q({},e),Le(s)),n(1,i=fe(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,i,l,r]}class ln extends he{constructor(e){super(),pe(this,e,K1,U1,de,{class:0})}}function Fi(t,{delay:e=0,duration:n=400,easing:o=Xi}={}){const i=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:o,css:r=>`opacity: ${r*i}`}}function aa(t,{delay:e=0,duration:n=400,easing:o=Wf,axis:i="y"}={}){const r=getComputedStyle(t),l=+r.opacity,a=i==="y"?"height":"width",s=parseFloat(r[a]),u=i==="y"?["top","bottom"]:["left","right"],f=u.map(w=>`${w[0].toUpperCase()}${w.slice(1)}`),c=parseFloat(r[`padding${f[0]}`]),d=parseFloat(r[`padding${f[1]}`]),m=parseFloat(r[`margin${f[0]}`]),p=parseFloat(r[`margin${f[1]}`]),_=parseFloat(r[`border${f[0]}Width`]),h=parseFloat(r[`border${f[1]}Width`]);return{delay:e,duration:n,easing:o,css:w=>`overflow: hidden;opacity: ${Math.min(w*20,1)*l};${a}: ${w*s}px;padding-${u[0]}: ${w*c}px;padding-${u[1]}: ${w*d}px;margin-${u[0]}: ${w*m}px;margin-${u[1]}: ${w*p}px;border-${u[0]}-width: ${w*_}px;border-${u[1]}-width: ${w*h}px;`}}function J1(t){let e,n;const o=[{transition:t[1]},{transitionConfig:t[2]},{class:He("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm",t[0])},t[3]];let i={};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new yg({props:i}),{c(){U(e.$$.fragment)},m(r,l){x(e,r,l),n=!0},p(r,[l]){const a=l&15?Ce(o,[l&2&&{transition:r[1]},l&4&&{transitionConfig:r[2]},l&1&&{class:He("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm",r[0])},l&8&&rt(r[3])]):{};e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){Y(e,r)}}}function X1(t,e,n){const o=["class","transition","transitionConfig"];let i=fe(e,o),{class:r=void 0}=e,{transition:l=Fi}=e,{transitionConfig:a={duration:150}}=e;return t.$$set=s=>{e=Q(Q({},e),Le(s)),n(3,i=fe(e,o)),"class"in s&&n(0,r=s.class),"transition"in s&&n(1,l=s.transition),"transitionConfig"in s&&n(2,a=s.transitionConfig)},[r,l,a,i]}class Z1 extends he{constructor(e){super(),pe(this,e,X1,J1,de,{class:0,transition:1,transitionConfig:2})}}/**
 * @license lucide-svelte v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};function fa(t,e,n){const o=t.slice();return o[11]=e[n][0],o[12]=e[n][1],o}function kr(t){let e,n=[t[12]],o={};for(let i=0;i<n.length;i+=1)o=Q(o,n[i]);return{c(){e=Zi(t[11]),vi(e,o)},m(i,r){T(i,e,r)},p(i,r){vi(e,o=Ce(n,[r&32&&i[12]]))},d(i){i&&A(e)}}}function ca(t){let e=t[11],n,o=t[11]&&kr(t);return{c(){o&&o.c(),n=De()},m(i,r){o&&o.m(i,r),T(i,n,r)},p(i,r){i[11]?e?de(e,i[11])?(o.d(1),o=kr(i),e=i[11],o.c(),o.m(n.parentNode,n)):o.p(i,r):(o=kr(i),e=i[11],o.c(),o.m(n.parentNode,n)):e&&(o.d(1),o=null,e=i[11])},d(i){i&&A(n),o&&o.d(i)}}}function Q1(t){let e,n,o,i,r,l=xe(t[5]),a=[];for(let d=0;d<l.length;d+=1)a[d]=ca(fa(t,l,d));const s=t[10].default,u=be(s,t,t[9],null);let f=[ua,t[7],{width:t[2]},{height:t[2]},{stroke:t[1]},{"stroke-width":o=t[4]?Number(t[3])*24/Number(t[2]):t[3]},{class:i=t[6]("lucide-icon","lucide",t[0]?`lucide-${t[0]}`:"",t[8].class)}],c={};for(let d=0;d<f.length;d+=1)c=Q(c,f[d]);return{c(){e=Zi("svg");for(let d=0;d<a.length;d+=1)a[d].c();n=De(),u&&u.c(),vi(e,c)},m(d,m){T(d,e,m);for(let p=0;p<a.length;p+=1)a[p]&&a[p].m(e,null);b(e,n),u&&u.m(e,null),r=!0},p(d,[m]){if(m&32){l=xe(d[5]);let p;for(p=0;p<l.length;p+=1){const _=fa(d,l,p);a[p]?a[p].p(_,m):(a[p]=ca(_),a[p].c(),a[p].m(e,n))}for(;p<a.length;p+=1)a[p].d(1);a.length=l.length}u&&u.p&&(!r||m&512)&&ve(u,s,d,d[9],r?ye(s,d[9],m,null):we(d[9]),null),vi(e,c=Ce(f,[ua,m&128&&d[7],(!r||m&4)&&{width:d[2]},(!r||m&4)&&{height:d[2]},(!r||m&2)&&{stroke:d[1]},(!r||m&28&&o!==(o=d[4]?Number(d[3])*24/Number(d[2]):d[3]))&&{"stroke-width":o},(!r||m&257&&i!==(i=d[6]("lucide-icon","lucide",d[0]?`lucide-${d[0]}`:"",d[8].class)))&&{class:i}]))},i(d){r||(k(u,d),r=!0)},o(d){S(u,d),r=!1},d(d){d&&A(e),it(a,d),u&&u.d(d)}}}function z1(t,e,n){const o=["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode","mergeClasses"];let i=fe(e,o),{$$slots:r={},$$scope:l}=e,{name:a=void 0}=e,{color:s="currentColor"}=e,{size:u=24}=e,{strokeWidth:f=2}=e,{absoluteStrokeWidth:c=!1}=e,{iconNode:d}=e;const m=(...p)=>p.filter((_,h,w)=>!!_&&w.indexOf(_)===h).join(" ");return t.$$set=p=>{n(8,e=Q(Q({},e),Le(p))),n(7,i=fe(e,o)),"name"in p&&n(0,a=p.name),"color"in p&&n(1,s=p.color),"size"in p&&n(2,u=p.size),"strokeWidth"in p&&n(3,f=p.strokeWidth),"absoluteStrokeWidth"in p&&n(4,c=p.absoluteStrokeWidth),"iconNode"in p&&n(5,d=p.iconNode),"$$scope"in p&&n(9,l=p.$$scope)},e=Le(e),[a,s,u,f,c,d,m,i,e,l,r]}class eb extends he{constructor(e){super(),pe(this,e,z1,Q1,de,{name:0,color:1,size:2,strokeWidth:3,absoluteStrokeWidth:4,iconNode:5,mergeClasses:6})}get mergeClasses(){return this.$$.ctx[6]}}function tb(t){let e;const n=t[2].default,o=be(n,t,t[3],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&8)&&ve(o,n,i,i[3],e?ye(n,i[3],r,null):we(i[3]),null)},i(i){e||(k(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function nb(t){let e,n;const o=[{name:"x"},t[1],{iconNode:t[0]}];let i={$$slots:{default:[tb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new eb({props:i}),{c(){U(e.$$.fragment)},m(r,l){x(e,r,l),n=!0},p(r,[l]){const a=l&3?Ce(o,[o[0],l&2&&rt(r[1]),l&1&&{iconNode:r[0]}]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){Y(e,r)}}}function ob(t,e,n){let{$$slots:o={},$$scope:i}=e;const r=[["path",{d:"M18 6 6 18"}],["path",{d:"m6 6 12 12"}]];return t.$$set=l=>{n(1,e=Q(Q({},e),Le(l))),"$$scope"in l&&n(3,i=l.$$scope)},e=Le(e),[r,e,o,i]}class ib extends he{constructor(e){super(),pe(this,e,ob,nb,de,{})}}function rb(t){let e,n,o,i;return e=new ib({props:{class:"h-4 w-4"}}),{c(){U(e.$$.fragment),n=H(),o=M("span"),o.textContent="Close",$(o,"class","sr-only")},m(r,l){x(e,r,l),T(r,n,l),T(r,o,l),i=!0},p:Te,i(r){i||(k(e.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),i=!1},d(r){r&&(A(n),A(o)),Y(e,r)}}}function lb(t){let e,n,o;const i=t[4].default,r=be(i,t,t[5],null);return n=new H0({props:{class:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",$$slots:{default:[rb]},$$scope:{ctx:t}}}),{c(){r&&r.c(),e=H(),U(n.$$.fragment)},m(l,a){r&&r.m(l,a),T(l,e,a),x(n,l,a),o=!0},p(l,a){r&&r.p&&(!o||a&32)&&ve(r,i,l,l[5],o?ye(i,l[5],a,null):we(l[5]),null);const s={};a&32&&(s.$$scope={dirty:a,ctx:l}),n.$set(s)},i(l){o||(k(r,l),k(n.$$.fragment,l),o=!0)},o(l){S(r,l),S(n.$$.fragment,l),o=!1},d(l){l&&A(e),r&&r.d(l),Y(n,l)}}}function sb(t){let e,n,o,i;e=new Z1({});const r=[{transition:t[1]},{transitionConfig:t[2]},{class:He("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg rounded-3xl md:w-full",t[0])},t[3]];let l={$$slots:{default:[lb]},$$scope:{ctx:t}};for(let a=0;a<r.length;a+=1)l=Q(l,r[a]);return o=new ug({props:l}),{c(){U(e.$$.fragment),n=H(),U(o.$$.fragment)},m(a,s){x(e,a,s),T(a,n,s),x(o,a,s),i=!0},p(a,s){const u=s&15?Ce(r,[s&2&&{transition:a[1]},s&4&&{transitionConfig:a[2]},s&1&&{class:He("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg rounded-3xl md:w-full",a[0])},s&8&&rt(a[3])]):{};s&32&&(u.$$scope={dirty:s,ctx:a}),o.$set(u)},i(a){i||(k(e.$$.fragment,a),k(o.$$.fragment,a),i=!0)},o(a){S(e.$$.fragment,a),S(o.$$.fragment,a),i=!1},d(a){a&&A(n),Y(e,a),Y(o,a)}}}function ab(t){let e,n;return e=new W1({props:{$$slots:{default:[sb]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(o,i){x(e,o,i),n=!0},p(o,[i]){const r={};i&47&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function ub(t,e,n){const o=["class","transition","transitionConfig"];let i=fe(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{transition:s=_o}=e,{transitionConfig:u={duration:400}}=e;return t.$$set=f=>{e=Q(Q({},e),Le(f)),n(3,i=fe(e,o)),"class"in f&&n(0,a=f.class),"transition"in f&&n(1,s=f.transition),"transitionConfig"in f&&n(2,u=f.transitionConfig),"$$scope"in f&&n(5,l=f.$$scope)},[a,s,u,i,r,l]}class sn extends he{constructor(e){super(),pe(this,e,ub,ab,de,{class:0,transition:1,transitionConfig:2})}}function fb(t){let e;const n=t[2].default,o=be(n,t,t[3],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&8)&&ve(o,n,i,i[3],e?ye(n,i[3],r,null):we(i[3]),null)},i(i){e||(k(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function cb(t){let e,n;const o=[{class:He("text-sm text-muted-foreground",t[0])},t[1]];let i={$$slots:{default:[fb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new Tg({props:i}),{c(){U(e.$$.fragment)},m(r,l){x(e,r,l),n=!0},p(r,[l]){const a=l&3?Ce(o,[l&1&&{class:He("text-sm text-muted-foreground",r[0])},l&2&&rt(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){Y(e,r)}}}function db(t,e,n){const o=["class"];let i=fe(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Q(Q({},e),Le(s)),n(1,i=fe(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,l=s.$$scope)},[a,i,r,l]}class Gn extends he{constructor(e){super(),pe(this,e,db,cb,de,{class:0})}}const an=I0,mn={land:{short_title:"Fill the grid",description_title:"You win by filling up all possible plots in the grid, and by meeting some requirements.",win:"You have filled the grid with buildings and met the requirements. Your citizens are happy, fulfilled, hard-working, and healthy. ",requirements:{0:{population_count:200,happiness:100,health:100,employment:1,knowledge:50,required_plots:["pub","small_school","community_center"]},1:{population_count:1e3,happiness:120,health:120,employment:1,knowledge:100,required_plots:["bank"]},2:{population_count:1e3,happiness:200,health:200,employment:1,knowledge:1e3,required_plots:["bank","city_hall"]}}},free_play:{short_title:"Quests",description_title:"Play for as long as you can and build the best city you can while completing quests."}};function mb(t){let e;const n=t[3].default,o=be(n,t,t[4],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&16)&&ve(o,n,i,i[4],e?ye(n,i[4],r,null):we(i[4]),null)},i(i){e||(k(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function pb(t){let e,n;const o=[{class:He("text-lg font-semibold",t[0])},{level:t[1]},t[2]];let i={$$slots:{default:[mb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new l_({props:i}),{c(){U(e.$$.fragment)},m(r,l){x(e,r,l),n=!0},p(r,[l]){const a=l&7?Ce(o,[l&1&&{class:He("text-lg font-semibold",r[0])},l&2&&{level:r[1]},l&4&&rt(r[2])]):{};l&16&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){Y(e,r)}}}function hb(t,e,n){const o=["class","level"];let i=fe(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{level:s="h3"}=e;return t.$$set=u=>{e=Q(Q({},e),Le(u)),n(2,i=fe(e,o)),"class"in u&&n(0,a=u.class),"level"in u&&n(1,s=u.level),"$$scope"in u&&n(4,l=u.$$scope)},[a,s,i,r,l]}class wc extends he{constructor(e){super(),pe(this,e,hb,pb,de,{class:0,level:1})}}function _b(t){let e;const n=t[5].default,o=be(n,t,t[8],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&256)&&ve(o,n,i,i[8],e?ye(n,i[8],r,null):we(i[8]),null)},i(i){e||(k(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function gb(t){let e,n;const o=[{builders:t[3]},{class:He(fo({variant:t[1],size:t[2]}),t[0])},{type:"button"},t[4]];let i={$$slots:{default:[_b]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new c0({props:i}),e.$on("click",t[6]),e.$on("keydown",t[7]),{c(){U(e.$$.fragment)},m(r,l){x(e,r,l),n=!0},p(r,[l]){const a=l&31?Ce(o,[l&8&&{builders:r[3]},l&7&&{class:He(fo({variant:r[1],size:r[2]}),r[0])},o[2],l&16&&rt(r[4])]):{};l&256&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){Y(e,r)}}}function bb(t,e,n){const o=["class","variant","size","builders"];let i=fe(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{variant:s="default"}=e,{size:u="default"}=e,{builders:f=[]}=e;function c(m){le.call(this,t,m)}function d(m){le.call(this,t,m)}return t.$$set=m=>{e=Q(Q({},e),Le(m)),n(4,i=fe(e,o)),"class"in m&&n(0,a=m.class),"variant"in m&&n(1,s=m.variant),"size"in m&&n(2,u=m.size),"builders"in m&&n(3,f=m.builders),"$$scope"in m&&n(8,l=m.$$scope)},[a,s,u,f,i,r,c,d,l]}class At extends he{constructor(e){super(),pe(this,e,bb,gb,de,{class:0,variant:1,size:2,builders:3})}}var da=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,wt=t=>!t||typeof t!="object"||Object.keys(t).length===0,yb=(t,e)=>JSON.stringify(t)===JSON.stringify(e);function kc(t,e){t.forEach(function(n){Array.isArray(n)?kc(n,e):e.push(n)})}function Cc(t){let e=[];return kc(t,e),e}var Sc=(...t)=>Cc(t).filter(Boolean),Ac=(t,e)=>{let n={},o=Object.keys(t),i=Object.keys(e);for(let r of o)if(i.includes(r)){let l=t[r],a=e[r];typeof l=="object"&&typeof a=="object"?n[r]=Ac(l,a):Array.isArray(l)||Array.isArray(a)?n[r]=Sc(a,l):n[r]=a+" "+l}else n[r]=t[r];for(let r of i)o.includes(r)||(n[r]=e[r]);return n},ma=t=>!t||typeof t!="string"?t:t.replace(/\s+/g," ").trim(),vb={twMerge:!0,twMergeConfig:{},responsiveVariants:!1},Tc=t=>t||void 0,Yo=(...t)=>Tc(Cc(t).filter(Boolean).join(" ")),Cr=null,Qt={},xr=!1,Po=(...t)=>e=>e.twMerge?((!Cr||xr)&&(xr=!1,Cr=wt(Qt)?Vf:ym({...Qt,extend:{theme:Qt.theme,classGroups:Qt.classGroups,conflictingClassGroupModifiers:Qt.conflictingClassGroupModifiers,conflictingClassGroups:Qt.conflictingClassGroups,...Qt.extend}})),Tc(Cr(Yo(t)))):Yo(t),pa=(t,e)=>{for(let n in e)t.hasOwnProperty(n)?t[n]=Yo(t[n],e[n]):t[n]=e[n];return t},wb=(t,e)=>{let{extend:n=null,slots:o={},variants:i={},compoundVariants:r=[],compoundSlots:l=[],defaultVariants:a={}}=t,s={...vb,...e},u=n!=null&&n.base?Yo(n.base,t==null?void 0:t.base):t==null?void 0:t.base,f=n!=null&&n.variants&&!wt(n.variants)?Ac(i,n.variants):i,c=n!=null&&n.defaultVariants&&!wt(n.defaultVariants)?{...n.defaultVariants,...a}:a;!wt(s.twMergeConfig)&&!yb(s.twMergeConfig,Qt)&&(xr=!0,Qt=s.twMergeConfig);let d=wt(n==null?void 0:n.slots),m=wt(o)?{}:{base:Yo(t==null?void 0:t.base,d&&(n==null?void 0:n.base)),...o},p=d?m:pa({...n==null?void 0:n.slots},wt(m)?{base:t==null?void 0:t.base}:m),_=w=>{if(wt(f)&&wt(o)&&d)return Po(u,w==null?void 0:w.class,w==null?void 0:w.className)(s);if(r&&!Array.isArray(r))throw new TypeError(`The "compoundVariants" prop must be an array. Received: ${typeof r}`);if(l&&!Array.isArray(l))throw new TypeError(`The "compoundSlots" prop must be an array. Received: ${typeof l}`);let y=(v,I,L=[],B)=>{let j=L;if(typeof I=="string")j=j.concat(ma(I).split(" ").map(K=>`${v}:${K}`));else if(Array.isArray(I))j=j.concat(I.reduce((K,X)=>K.concat(`${v}:${X}`),[]));else if(typeof I=="object"&&typeof B=="string"){for(let K in I)if(I.hasOwnProperty(K)&&K===B){let X=I[K];if(X&&typeof X=="string"){let z=ma(X);j[B]?j[B]=j[B].concat(z.split(" ").map(oe=>`${v}:${oe}`)):j[B]=z.split(" ").map(oe=>`${v}:${oe}`)}else Array.isArray(X)&&X.length>0&&(j[B]=X.reduce((z,oe)=>z.concat(`${v}:${oe}`),[]))}}return j},C=(v,I=f,L=null,B=null)=>{var j;let K=I[v];if(!K||wt(K))return null;let X=(j=B==null?void 0:B[v])!=null?j:w==null?void 0:w[v];if(X===null)return null;let z=da(X),oe=Array.isArray(s.responsiveVariants)&&s.responsiveVariants.length>0||s.responsiveVariants===!0,J=c==null?void 0:c[v],ne=[];if(typeof z=="object"&&oe)for(let[re,je]of Object.entries(z)){let Fe=K[je];if(re==="initial"){J=je;continue}Array.isArray(s.responsiveVariants)&&!s.responsiveVariants.includes(re)||(ne=y(re,Fe,ne,L))}let _e=z!=null&&typeof z!="object"?z:da(J),se=K[_e]||K.false;return typeof ne=="object"&&typeof L=="string"&&ne[L]?pa(ne,se):ne.length>0?(ne.push(se),ne):se},R=()=>f?Object.keys(f).map(v=>C(v,f)):null,D=(v,I)=>{if(!f||typeof f!="object")return null;let L=new Array;for(let B in f){let j=C(B,f,v,I),K=v==="base"&&typeof j=="string"?j:j&&j[v];K&&(L[L.length]=K)}return L},F={};for(let v in w)w[v]!==void 0&&(F[v]=w[v]);let N=(v,I)=>{var L;let B=typeof(w==null?void 0:w[v])=="object"?{[v]:(L=w[v])==null?void 0:L.initial}:{};return{...c,...F,...B,...I}},P=(v=[],I)=>{let L=[];for(let{class:B,className:j,...K}of v){let X=!0;for(let[z,oe]of Object.entries(K)){let J=N(z,I);if(Array.isArray(oe)){if(!oe.includes(J[z])){X=!1;break}}else if(J[z]!==oe){X=!1;break}}X&&(B&&L.push(B),j&&L.push(j))}return L},E=v=>{let I=P(r,v),L=P(n==null?void 0:n.compoundVariants,v);return Sc(L,I)},q=v=>{let I=E(v);if(!Array.isArray(I))return I;let L={};for(let B of I)if(typeof B=="string"&&(L.base=Po(L.base,B)(s)),typeof B=="object")for(let[j,K]of Object.entries(B))L[j]=Po(L[j],K)(s);return L},O=v=>{if(l.length<1)return null;let I={};for(let{slots:L=[],class:B,className:j,...K}of l){if(!wt(K)){let X=!0;for(let z of Object.keys(K)){let oe=N(z,v)[z];if(oe===void 0||(Array.isArray(K[z])?!K[z].includes(oe):K[z]!==oe)){X=!1;break}}if(!X)continue}for(let X of L)I[X]=I[X]||[],I[X].push([B,j])}return I};if(!wt(o)||!d){let v={};if(typeof p=="object"&&!wt(p))for(let I of Object.keys(p))v[I]=L=>{var B,j;return Po(p[I],D(I,L),((B=q(L))!=null?B:[])[I],((j=O(L))!=null?j:[])[I],L==null?void 0:L.class,L==null?void 0:L.className)(s)};return v}return Po(u,R(),E(),w==null?void 0:w.class,w==null?void 0:w.className)(s)},h=()=>{if(!(!f||typeof f!="object"))return Object.keys(f)};return _.variantKeys=h(),_.extend=n,_.base=u,_.slots=p,_.variants=f,_.defaultVariants=c,_.compoundSlots=l,_.compoundVariants=r,_};const fo=wb({base:"inline-flex items-center justify-center rounded-md text-sm font-medium whitespace-nowrap transition-colors focus-visible:outline-none disabled:pointer-events-none disabled:opacity-50",variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg- hover:bg-accent hover:text-accent-foreground",secondary:"bg-accent text-accent-foreground hover:bg-accent/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),kb=t=>({builder:t&64}),ha=t=>({builder:t[6]});function Cb(t){let e;const n=t[2].default,o=be(n,t,t[5],ha);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&96)&&ve(o,n,i,i[5],e?ye(n,i[5],r,kb):we(i[5]),ha)},i(i){e||(k(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Sb(t){let e,n;const o=[{class:He(fo(),t[0])},t[1]];let i={$$slots:{default:[Cb,({builder:r})=>({6:r}),({builder:r})=>r?64:0]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new m_({props:i}),e.$on("click",t[3]),e.$on("keydown",t[4]),{c(){U(e.$$.fragment)},m(r,l){x(e,r,l),n=!0},p(r,[l]){const a=l&3?Ce(o,[l&1&&{class:He(fo(),r[0])},l&2&&rt(r[1])]):{};l&96&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){Y(e,r)}}}function Ab(t,e,n){const o=["class"];let i=fe(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(f){le.call(this,t,f)}function u(f){le.call(this,t,f)}return t.$$set=f=>{e=Q(Q({},e),Le(f)),n(1,i=fe(e,o)),"class"in f&&n(0,a=f.class),"$$scope"in f&&n(5,l=f.$$scope)},[a,i,r,s,u,l]}class Ic extends he{constructor(e){super(),pe(this,e,Ab,Sb,de,{class:0})}}const Tb=t=>({builder:t&64}),_a=t=>({builder:t[6]});function Ib(t){let e;const n=t[2].default,o=be(n,t,t[5],_a);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&96)&&ve(o,n,i,i[5],e?ye(n,i[5],r,Tb):we(i[5]),_a)},i(i){e||(k(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Mb(t){let e,n;const o=[{class:He(fo({variant:"default"}),"mt-2 sm:mt-0",t[0])},t[1]];let i={$$slots:{default:[Ib,({builder:r})=>({6:r}),({builder:r})=>r?64:0]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new v_({props:i}),e.$on("click",t[3]),e.$on("keydown",t[4]),{c(){U(e.$$.fragment)},m(r,l){x(e,r,l),n=!0},p(r,[l]){const a=l&3?Ce(o,[l&1&&{class:He(fo({variant:"default"}),"mt-2 sm:mt-0",r[0])},l&2&&rt(r[1])]):{};l&96&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){Y(e,r)}}}function Ob(t,e,n){const o=["class"];let i=fe(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(f){le.call(this,t,f)}function u(f){le.call(this,t,f)}return t.$$set=f=>{e=Q(Q({},e),Le(f)),n(1,i=fe(e,o)),"class"in f&&n(0,a=f.class),"$$scope"in f&&n(5,l=f.$$scope)},[a,i,r,s,u,l]}class Pb extends he{constructor(e){super(),pe(this,e,Ob,Mb,de,{class:0})}}function Nb(t){let e;const n=t[1].default,o=be(n,t,t[2],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&4)&&ve(o,n,i,i[2],e?ye(n,i[2],r,null):we(i[2]),null)},i(i){e||(k(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Eb(t){let e,n;const o=[t[0]];let i={$$slots:{default:[Nb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new I_({props:i}),{c(){U(e.$$.fragment)},m(r,l){x(e,r,l),n=!0},p(r,[l]){const a=l&1?Ce(o,[rt(r[0])]):{};l&4&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){Y(e,r)}}}function $b(t,e,n){const o=[];let i=fe(e,o),{$$slots:r={},$$scope:l}=e;return t.$$set=a=>{e=Q(Q({},e),Le(a)),n(0,i=fe(e,o)),"$$scope"in a&&n(2,l=a.$$scope)},[i,r,l]}class Rb extends he{constructor(e){super(),pe(this,e,$b,Eb,de,{})}}function Lb(t){let e,n,o;const i=t[3].default,r=be(i,t,t[2],null);let l=[{class:n=He("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=Q(a,l[s]);return{c(){e=M("div"),r&&r.c(),ce(e,a)},m(s,u){T(s,e,u),r&&r.m(e,null),o=!0},p(s,[u]){r&&r.p&&(!o||u&4)&&ve(r,i,s,s[2],o?ye(i,s[2],u,null):we(s[2]),null),ce(e,a=Ce(l,[(!o||u&1&&n!==(n=He("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(k(r,s),o=!0)},o(s){S(r,s),o=!1},d(s){s&&A(e),r&&r.d(s)}}}function Db(t,e,n){const o=["class"];let i=fe(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Q(Q({},e),Le(s)),n(1,i=fe(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,i,l,r]}class Cl extends he{constructor(e){super(),pe(this,e,Db,Lb,de,{class:0})}}function jb(t){let e,n,o;const i=t[3].default,r=be(i,t,t[2],null);let l=[{class:n=He("flex flex-col space-y-2 text-center sm:text-left",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=Q(a,l[s]);return{c(){e=M("div"),r&&r.c(),ce(e,a)},m(s,u){T(s,e,u),r&&r.m(e,null),o=!0},p(s,[u]){r&&r.p&&(!o||u&4)&&ve(r,i,s,s[2],o?ye(i,s[2],u,null):we(s[2]),null),ce(e,a=Ce(l,[(!o||u&1&&n!==(n=He("flex flex-col space-y-2 text-center sm:text-left",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(k(r,s),o=!0)},o(s){S(r,s),o=!1},d(s){s&&A(e),r&&r.d(s)}}}function Fb(t,e,n){const o=["class"];let i=fe(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Q(Q({},e),Le(s)),n(1,i=fe(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,i,l,r]}class Mc extends he{constructor(e){super(),pe(this,e,Fb,jb,de,{class:0})}}function qb(t){let e,n;const o=[{transition:t[1]},{transitionConfig:t[2]},{class:He("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm ",t[0])},t[3]];let i={};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new Q_({props:i}),{c(){U(e.$$.fragment)},m(r,l){x(e,r,l),n=!0},p(r,[l]){const a=l&15?Ce(o,[l&2&&{transition:r[1]},l&4&&{transitionConfig:r[2]},l&1&&{class:He("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm ",r[0])},l&8&&rt(r[3])]):{};e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){Y(e,r)}}}function Bb(t,e,n){const o=["class","transition","transitionConfig"];let i=fe(e,o),{class:r=void 0}=e,{transition:l=Fi}=e,{transitionConfig:a={duration:150}}=e;return t.$$set=s=>{e=Q(Q({},e),Le(s)),n(3,i=fe(e,o)),"class"in s&&n(0,r=s.class),"transition"in s&&n(1,l=s.transition),"transitionConfig"in s&&n(2,a=s.transitionConfig)},[r,l,a,i]}class Hb extends he{constructor(e){super(),pe(this,e,Bb,qb,de,{class:0,transition:1,transitionConfig:2})}}function Gb(t){let e;const n=t[4].default,o=be(n,t,t[5],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&32)&&ve(o,n,i,i[5],e?ye(n,i[5],r,null):we(i[5]),null)},i(i){e||(k(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Vb(t){let e,n,o,i;e=new Hb({});const r=[{transition:t[0]},{transitionConfig:t[1]},{class:He("fixed rounded-2xl left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-sidebarBackground text-sidebarText p-6 shadow-lg md:w-full",t[2])},t[3]];let l={$$slots:{default:[Gb]},$$scope:{ctx:t}};for(let a=0;a<r.length;a+=1)l=Q(l,r[a]);return o=new G_({props:l}),{c(){U(e.$$.fragment),n=H(),U(o.$$.fragment)},m(a,s){x(e,a,s),T(a,n,s),x(o,a,s),i=!0},p(a,s){const u=s&15?Ce(r,[s&1&&{transition:a[0]},s&2&&{transitionConfig:a[1]},s&4&&{class:He("fixed rounded-2xl left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-sidebarBackground text-sidebarText p-6 shadow-lg md:w-full",a[2])},s&8&&rt(a[3])]):{};s&32&&(u.$$scope={dirty:s,ctx:a}),o.$set(u)},i(a){i||(k(e.$$.fragment,a),k(o.$$.fragment,a),i=!0)},o(a){S(e.$$.fragment,a),S(o.$$.fragment,a),i=!1},d(a){a&&A(n),Y(e,a),Y(o,a)}}}function Wb(t){let e,n;return e=new Rb({props:{$$slots:{default:[Vb]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(o,i){x(e,o,i),n=!0},p(o,[i]){const r={};i&47&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function xb(t,e,n){const o=["transition","transitionConfig","class"];let i=fe(e,o),{$$slots:r={},$$scope:l}=e,{transition:a=_o}=e,{transitionConfig:s=void 0}=e,{class:u=void 0}=e;return t.$$set=f=>{e=Q(Q({},e),Le(f)),n(3,i=fe(e,o)),"transition"in f&&n(0,a=f.transition),"transitionConfig"in f&&n(1,s=f.transitionConfig),"class"in f&&n(2,u=f.class),"$$scope"in f&&n(5,l=f.$$scope)},[a,s,u,i,r,l]}class Sl extends he{constructor(e){super(),pe(this,e,xb,Wb,de,{transition:0,transitionConfig:1,class:2})}}function Yb(t){let e;const n=t[2].default,o=be(n,t,t[3],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&8)&&ve(o,n,i,i[3],e?ye(n,i[3],r,null):we(i[3]),null)},i(i){e||(k(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Ub(t){let e,n;const o=[{class:He("text-sm text-muted-foreground",t[0])},t[1]];let i={$$slots:{default:[Yb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new r0({props:i}),{c(){U(e.$$.fragment)},m(r,l){x(e,r,l),n=!0},p(r,[l]){const a=l&3?Ce(o,[l&1&&{class:He("text-sm text-muted-foreground",r[0])},l&2&&rt(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){Y(e,r)}}}function Kb(t,e,n){const o=["class"];let i=fe(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Q(Q({},e),Le(s)),n(1,i=fe(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,l=s.$$scope)},[a,i,r,l]}class Oc extends he{constructor(e){super(),pe(this,e,Kb,Ub,de,{class:0})}}const Al=zh;function Jb(t){let e;const n=t[5].default,o=be(n,t,t[6],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&64)&&ve(o,n,i,i[6],e?ye(n,i[6],r,null):we(i[6]),null)},i(i){e||(k(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Xb(t){let e,n;const o=[{transition:t[2]},{transitionConfig:t[3]},{sideOffset:t[1]},{class:He("z-[1000] overflow-hidden border bg-sidebarBackground px-3 py-1.5 text-sm text-black shadow-md rounded-2xl",t[0])},t[4]];let i={$$slots:{default:[Jb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new P1({props:i}),{c(){U(e.$$.fragment)},m(r,l){x(e,r,l),n=!0},p(r,[l]){const a=l&31?Ce(o,[l&4&&{transition:r[2]},l&8&&{transitionConfig:r[3]},l&2&&{sideOffset:r[1]},l&1&&{class:He("z-[1000] overflow-hidden border bg-sidebarBackground px-3 py-1.5 text-sm text-black shadow-md rounded-2xl",r[0])},l&16&&rt(r[4])]):{};l&64&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){Y(e,r)}}}function Zb(t,e,n){const o=["class","sideOffset","transition","transitionConfig"];let i=fe(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{sideOffset:s=16}=e,{transition:u=_o}=e,{transitionConfig:f={y:6,duration:100}}=e;return t.$$set=c=>{e=Q(Q({},e),Le(c)),n(4,i=fe(e,o)),"class"in c&&n(0,a=c.class),"sideOffset"in c&&n(1,s=c.sideOffset),"transition"in c&&n(2,u=c.transition),"transitionConfig"in c&&n(3,f=c.transitionConfig),"$$scope"in c&&n(6,l=c.$$scope)},[a,s,u,f,i,r,l]}class wo extends he{constructor(e){super(),pe(this,e,Zb,Xb,de,{class:0,sideOffset:1,transition:2,transitionConfig:3})}}const ko=h1,Co=j1;function Qb(t){let e=(t[4].length>0?t[4]:"Why are you hovering here?")+"",n;return{c(){n=V(e)},m(o,i){T(o,n,i)},p(o,i){i&16&&e!==(e=(o[4].length>0?o[4]:"Why are you hovering here?")+"")&&ue(n,e)},d(o){o&&A(n)}}}function zb(t){let e,n;return{c(){e=M("div"),n=V(t[0])},m(o,i){T(o,e,i),b(e,n)},p(o,i){i&1&&ue(n,o[0])},d(o){o&&A(e)}}}function ey(t){let e,n;return e=new At({props:{class:`text-sm flex flex-col  cursor-pointer py-1.5 rounded-xl bg-accent text-accentText
  `+t[2]+" cursor-pointer opacity-"+t[3]+" "+(t[3]<100?"hover:opacity-40":"")+` transition-all duration-150 filter hover:brightness-110
  `,$$slots:{default:[zb]},$$scope:{ctx:t}}}),e.$on("click",function(){jt(t[1])&&t[1].apply(this,arguments)}),{c(){U(e.$$.fragment)},m(o,i){x(e,o,i),n=!0},p(o,i){t=o;const r={};i&12&&(r.class=`text-sm flex flex-col  cursor-pointer py-1.5 rounded-xl bg-accent text-accentText
  `+t[2]+" cursor-pointer opacity-"+t[3]+" "+(t[3]<100?"hover:opacity-40":"")+` transition-all duration-150 filter hover:brightness-110
  `),i&33&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function ty(t){let e,n,o,i;return e=new wo({props:{$$slots:{default:[Qb]},$$scope:{ctx:t}}}),o=new Co({props:{class:"flex flex-col ",$$slots:{default:[ey]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),n=H(),U(o.$$.fragment)},m(r,l){x(e,r,l),T(r,n,l),x(o,r,l),i=!0},p(r,l){const a={};l&48&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&47&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&A(n),Y(e,r),Y(o,r)}}}function ny(t){let e,n;return e=new ko({props:{openDelay:t[4].length>0?200:999999,closeDelay:0,$$slots:{default:[ty]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(o,i){x(e,o,i),n=!0},p(o,[i]){const r={};i&16&&(r.openDelay=o[4].length>0?200:999999),i&63&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function oy(t,e,n){let{text:o}=e,{onOpen:i}=e,{styling:r="bg-accent text-accentText"}=e,{opacity:l=100}=e,{onHoverText:a=""}=e;return t.$$set=s=>{"text"in s&&n(0,o=s.text),"onOpen"in s&&n(1,i=s.onOpen),"styling"in s&&n(2,r=s.styling),"opacity"in s&&n(3,l=s.opacity),"onHoverText"in s&&n(4,a=s.onHoverText)},[o,i,r,l,a]}class Lt extends he{constructor(e){super(),pe(this,e,oy,ny,de,{text:0,onOpen:1,styling:2,opacity:3,onHoverText:4})}}function ga(t,e,n){const o=t.slice();return o[26]=e[n],o}function ba(t,e,n){const o=t.slice();return o[29]=e[n],o}function iy(t){let e;return{c(){e=V("Pause Menu")},m(n,o){T(n,e,o)},d(n){n&&A(e)}}}function ry(t){let e,n,o,i;return e=new rn({props:{class:"text-3xl font-semibold text-accentText",$$slots:{default:[iy]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),n=H(),o=M("span"),o.textContent="Unpause any time by pressing 'P'"},m(r,l){x(e,r,l),T(r,n,l),T(r,o,l),i=!0},p(r,l){const a={};l[1]&2&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){i||(k(e.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),i=!1},d(r){r&&(A(n),A(o)),Y(e,r)}}}function ly(t){let e=t[4].description_title+"",n;return{c(){n=V(e)},m(o,i){T(o,n,i)},p:Te,d(o){o&&A(n)}}}function sy(t){let e,n,o;return{c(){e=V(`This is a game that was shared with you. You can't interact with
              it or save. Click `),n=M("a"),n.textContent="here",o=V(` to go back
              to your town.`),$(n,"href","/"),$(n,"class","underline")},m(i,r){T(i,e,r),T(i,n,r),T(i,o,r)},p:Te,d(i){i&&(A(e),A(n),A(o))}}}function ya(t){let e,n,o,i,r,l=JSON.stringify(t[4].requirements[t[1].difficulty].population_count)+"",a,s,u=JSON.stringify(t[1].townInfo.population_count)+"",f,c,d,m,p=JSON.stringify(t[4].requirements[t[1].difficulty].happiness)+"",_,h,w=JSON.stringify(t[1].townInfo.happiness)+"",y,C,R,D,F=JSON.stringify(t[4].requirements[t[1].difficulty].employment*100)+"",N,P,E=JSON.stringify((t[1].townInfo.employees/t[1].townInfo.population_count||0)*100)+"",q,O,v,I,L,B=JSON.stringify(t[4].requirements[t[1].difficulty].health)+"",j,K,X=JSON.stringify(t[1].townInfo.health)+"",z,oe,J,ne,_e=JSON.stringify(t[4].requirements[t[1].difficulty].knowledge)+"",se,re,je=JSON.stringify(t[1].townInfo.knowledge_points)+"",Fe,Ue,g;function Z(Ae,Xe){return Ae[1].townInfo.population_count>=Ae[4].requirements[Ae[1].difficulty].population_count?uy:ay}let W=Z(t),ee=W(t);function me(Ae,Xe){return Ae[1].townInfo.happiness>=Ae[4].requirements[Ae[1].difficulty].happiness?cy:fy}let ge=me(t),Pe=ge(t);function Re(Ae,Xe){return Ae[1].townInfo.employees/Ae[1].townInfo.population_count>=Ae[4].requirements[Ae[1].difficulty].employment?my:dy}let We=Re(t),$e=We(t);function Je(Ae,Xe){return Ae[1].townInfo.health>=Ae[4].requirements[Ae[1].difficulty].health?hy:py}let ke=Je(t),Be=ke(t);function Vn(Ae,Xe){return Ae[1].townInfo.knowledge_points>=Ae[4].requirements[Ae[1].difficulty].knowledge?gy:_y}let un=Vn(t),It=un(t),lt=t[4].requirements[t[1].difficulty].required_plots!=null&&t[4].requirements[t[1].difficulty].required_plots.length>0&&va(t);return{c(){e=M("div"),e.textContent=`With your difficulty (${t[5]}), you must also have:`,n=H(),o=M("ul"),i=M("li"),ee.c(),r=V(`
                  Population: `),a=V(l),s=V(" - Currently at "),f=V(u),c=H(),d=M("li"),Pe.c(),m=V(`
                  Happiness: `),_=V(p),h=V(" - Currently at "),y=V(w),C=H(),R=M("li"),$e.c(),D=V(`
                  Employment: `),N=V(F),P=V("% - Currently at "),q=V(E),O=V("%"),v=H(),I=M("li"),Be.c(),L=V(`
                  Health: `),j=V(B),K=V(" - Currently at "),z=V(X),oe=H(),J=M("li"),It.c(),ne=V(`
                  Knowledge: `),se=V(_e),re=V(" - Currently at "),Fe=V(je),Ue=H(),lt&&lt.c(),g=De(),$(e,"class","leading-relaxed text-sm"),$(o,"class","list-inside list-disc leading-relaxedmt-0 text-sm")},m(Ae,Xe){T(Ae,e,Xe),T(Ae,n,Xe),T(Ae,o,Xe),b(o,i),ee.m(i,null),b(i,r),b(i,a),b(i,s),b(i,f),b(o,c),b(o,d),Pe.m(d,null),b(d,m),b(d,_),b(d,h),b(d,y),b(o,C),b(o,R),$e.m(R,null),b(R,D),b(R,N),b(R,P),b(R,q),b(R,O),b(o,v),b(o,I),Be.m(I,null),b(I,L),b(I,j),b(I,K),b(I,z),b(o,oe),b(o,J),It.m(J,null),b(J,ne),b(J,se),b(J,re),b(J,Fe),T(Ae,Ue,Xe),lt&&lt.m(Ae,Xe),T(Ae,g,Xe)},p(Ae,Xe){W!==(W=Z(Ae))&&(ee.d(1),ee=W(Ae),ee&&(ee.c(),ee.m(i,r))),Xe[0]&2&&l!==(l=JSON.stringify(Ae[4].requirements[Ae[1].difficulty].population_count)+"")&&ue(a,l),Xe[0]&2&&u!==(u=JSON.stringify(Ae[1].townInfo.population_count)+"")&&ue(f,u),ge!==(ge=me(Ae))&&(Pe.d(1),Pe=ge(Ae),Pe&&(Pe.c(),Pe.m(d,m))),Xe[0]&2&&p!==(p=JSON.stringify(Ae[4].requirements[Ae[1].difficulty].happiness)+"")&&ue(_,p),Xe[0]&2&&w!==(w=JSON.stringify(Ae[1].townInfo.happiness)+"")&&ue(y,w),We!==(We=Re(Ae))&&($e.d(1),$e=We(Ae),$e&&($e.c(),$e.m(R,D))),Xe[0]&2&&F!==(F=JSON.stringify(Ae[4].requirements[Ae[1].difficulty].employment*100)+"")&&ue(N,F),Xe[0]&2&&E!==(E=JSON.stringify((Ae[1].townInfo.employees/Ae[1].townInfo.population_count||0)*100)+"")&&ue(q,E),ke!==(ke=Je(Ae))&&(Be.d(1),Be=ke(Ae),Be&&(Be.c(),Be.m(I,L))),Xe[0]&2&&B!==(B=JSON.stringify(Ae[4].requirements[Ae[1].difficulty].health)+"")&&ue(j,B),Xe[0]&2&&X!==(X=JSON.stringify(Ae[1].townInfo.health)+"")&&ue(z,X),un!==(un=Vn(Ae))&&(It.d(1),It=un(Ae),It&&(It.c(),It.m(J,ne))),Xe[0]&2&&_e!==(_e=JSON.stringify(Ae[4].requirements[Ae[1].difficulty].knowledge)+"")&&ue(se,_e),Xe[0]&2&&je!==(je=JSON.stringify(Ae[1].townInfo.knowledge_points)+"")&&ue(Fe,je),Ae[4].requirements[Ae[1].difficulty].required_plots!=null&&Ae[4].requirements[Ae[1].difficulty].required_plots.length>0?lt?lt.p(Ae,Xe):(lt=va(Ae),lt.c(),lt.m(g.parentNode,g)):lt&&(lt.d(1),lt=null)},d(Ae){Ae&&(A(e),A(n),A(o),A(Ue),A(g)),ee.d(),Pe.d(),$e.d(),Be.d(),It.d(),lt&&lt.d(Ae)}}}function ay(t){let e;return{c(){e=V("❌")},m(n,o){T(n,e,o)},d(n){n&&A(e)}}}function uy(t){let e;return{c(){e=V("✅")},m(n,o){T(n,e,o)},d(n){n&&A(e)}}}function fy(t){let e;return{c(){e=V("❌")},m(n,o){T(n,e,o)},d(n){n&&A(e)}}}function cy(t){let e;return{c(){e=V("✅")},m(n,o){T(n,e,o)},d(n){n&&A(e)}}}function dy(t){let e;return{c(){e=V("❌")},m(n,o){T(n,e,o)},d(n){n&&A(e)}}}function my(t){let e;return{c(){e=V("✅")},m(n,o){T(n,e,o)},d(n){n&&A(e)}}}function py(t){let e;return{c(){e=V("❌")},m(n,o){T(n,e,o)},d(n){n&&A(e)}}}function hy(t){let e;return{c(){e=V("✅")},m(n,o){T(n,e,o)},d(n){n&&A(e)}}}function _y(t){let e;return{c(){e=V("❌")},m(n,o){T(n,e,o)},d(n){n&&A(e)}}}function gy(t){let e;return{c(){e=V("✅")},m(n,o){T(n,e,o)},d(n){n&&A(e)}}}function va(t){let e,n,o,i=xe(t[4].requirements[t[1].difficulty].required_plots),r=[];for(let l=0;l<i.length;l+=1)r[l]=wa(ba(t,i,l));return{c(){e=M("br"),n=V(`
                You also need to have these plots:
                `);for(let l=0;l<r.length;l+=1)r[l].c();o=De()},m(l,a){T(l,e,a),T(l,n,a);for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(l,a);T(l,o,a)},p(l,a){if(a[0]&18){i=xe(l[4].requirements[l[1].difficulty].required_plots);let s;for(s=0;s<i.length;s+=1){const u=ba(l,i,s);r[s]?r[s].p(u,a):(r[s]=wa(u),r[s].c(),r[s].m(o.parentNode,o))}for(;s<r.length;s+=1)r[s].d(1);r.length=i.length}},d(l){l&&(A(e),A(n),A(o)),it(r,l)}}}function by(t){let e;return{c(){e=V("❌")},m(n,o){T(n,e,o)},d(n){n&&A(e)}}}function yy(t){let e;return{c(){e=V("✅")},m(n,o){T(n,e,o)},d(n){n&&A(e)}}}function wa(t){let e,n,o,i,r=t[29]+"",l,a;function s(c,d){return d[0]&2&&(o=null),o==null&&(o=qe(c[29],c[1]).length>0),o?yy:by}let u=s(t,[-1,-1]),f=u(t);return{c(){e=M("div"),n=M("li"),f.c(),i=H(),l=V(r),a=H(),$(e,"class","text-sm")},m(c,d){T(c,e,d),b(e,n),f.m(n,null),b(n,i),b(n,l),b(e,a)},p(c,d){u!==(u=s(c,d))&&(f.d(1),f=u(c),f&&(f.c(),f.m(n,i))),d[0]&2&&r!==(r=c[29]+"")&&ue(l,r)},d(c){c&&A(e),f.d()}}}function ka(t){let e,n;return e=new Lt({props:{styling:"bg-black opacity-50 w-min",text:"🔄 New mock town",onOpen:t[19]}}),{c(){U(e.$$.fragment)},m(o,i){x(e,o,i),n=!0},p(o,i){const r={};i[0]&2&&(r.onOpen=o[19]),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function vy(t){let e,n,o,i,r,l,a,s,u,f,c,d,m=xe(t[0]),p=[];for(let h=0;h<m.length;h+=1)p[h]=Sa(ga(t,m,h));const _=h=>S(p[h],1,1,()=>{p[h]=null});return{c(){e=M("div"),n=M("h4"),n.textContent=`Your achievement (${t[6].length}
            / ${ct.length})`,o=H(),i=M("span"),i.textContent="Track your progress through games & complete challenges!",r=H(),l=M("br"),a=H(),s=M("div"),u=M("div");for(let h=0;h<p.length;h+=1)p[h].c();f=H(),c=M("span"),c.textContent=`Prizes apply to the current game you are in. You can wait to apply
            them until the right time.`,$(n,"class","underline underline-offset-4"),$(i,"class","text-sm text-gray-400"),$(u,"class","flex flex-col gap-4 overflow-scroll pb-10 scroll-smooth"),$(s,"class","overflow-scroll mt-2 h-[60vh]"),$(c,"class","text-sm text-yellow-400"),$(e,"class","flex-grow")},m(h,w){T(h,e,w),b(e,n),b(e,o),b(e,i),b(e,r),b(e,l),b(e,a),b(e,s),b(s,u);for(let y=0;y<p.length;y+=1)p[y]&&p[y].m(u,null);b(e,f),b(e,c),d=!0},p(h,w){if(w[0]&4993){m=xe(h[0]);let y;for(y=0;y<m.length;y+=1){const C=ga(h,m,y);p[y]?(p[y].p(C,w),k(p[y],1)):(p[y]=Sa(C),p[y].c(),k(p[y],1),p[y].m(u,null))}for(Me(),y=m.length;y<p.length;y+=1)_(y);Oe()}},i(h){if(!d){for(let w=0;w<m.length;w+=1)k(p[w]);d=!0}},o(h){p=p.filter(Boolean);for(let w=0;w<p.length;w+=1)S(p[w]);d=!1},d(h){h&&A(e),it(p,h)}}}function Ca(t){let e,n;function o(){return t[20](t[26])}return e=new Lt({props:{text:`💰 Collect Prize: $${Aa(t[26].prize)} gold`,styling:"bg-yellow-300 text-black",onOpen:o}}),{c(){U(e.$$.fragment)},m(i,r){x(e,i,r),n=!0},p(i,r){t=i;const l={};r[0]&1&&(l.text=`💰 Collect Prize: $${Aa(t[26].prize)} gold`),r[0]&1&&(l.onOpen=o),e.$set(l)},i(i){n||(k(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){Y(e,i)}}}function Sa(t){let e,n,o,i,r,l,a=t[26].title+"",s,u,f,c=t[26].requirements+"",d,m,p,_=t[26].icon+"",h,w,y,C=t[26].description+"",R,D,F,N,P=t[7](t[26].id)+"",E,q,O,v=t[12](t[26].id)&&!t[8](t[26].id),I,L,B,j=v&&Ca(t);return{c(){e=M("div"),n=M("div"),o=M("div"),i=M("span"),r=M("div"),l=M("span"),s=V(a),u=H(),f=M("div"),d=V(c),m=H(),p=M("div"),h=V(_),w=H(),y=M("div"),R=V(C),D=H(),F=M("div"),N=V("✅ Completed on Day "),E=V(P),O=H(),j&&j.c(),I=H(),$(l,"class","font-semibold text-lg"),$(f,"class","font-thin opacity-75 text-xs"),$(r,"class","flex flex-row gap-3 w-[100%] text- items-center "),$(p,"class","text-2xl pr-1 break-inside-avoid "),$(i,"class","flex flex-row justify-between w-[100%]"),$(o,"class","min-w-32 flex"),$(y,"class","opacity-85 text-xs font-light"),$(F,"class",q="pb-2 "+(t[12](t[26].id)?"":"hidden")+" text-xs text-green-400"),$(n,"class","flex-col flex px-3 py-2 gap-0"),$(e,"class",L="flex flex-col gap-3 cursor-default rounded-xl "+(t[12](t[26].id)?"bg-green-700 text-accentText":"bg-gray-500 opacity-35"))},m(K,X){T(K,e,X),b(e,n),b(n,o),b(o,i),b(i,r),b(r,l),b(l,s),b(r,u),b(r,f),b(f,d),b(i,m),b(i,p),b(p,h),b(n,w),b(n,y),b(y,R),b(n,D),b(n,F),b(F,N),b(F,E),b(n,O),j&&j.m(n,null),b(e,I),B=!0},p(K,X){(!B||X[0]&1)&&a!==(a=K[26].title+"")&&ue(s,a),(!B||X[0]&1)&&c!==(c=K[26].requirements+"")&&ue(d,c),(!B||X[0]&1)&&_!==(_=K[26].icon+"")&&ue(h,_),(!B||X[0]&1)&&C!==(C=K[26].description+"")&&ue(R,C),(!B||X[0]&1)&&P!==(P=K[7](K[26].id)+"")&&ue(E,P),(!B||X[0]&1&&q!==(q="pb-2 "+(K[12](K[26].id)?"":"hidden")+" text-xs text-green-400"))&&$(F,"class",q),X[0]&1&&(v=K[12](K[26].id)&&!K[8](K[26].id)),v?j?(j.p(K,X),X[0]&1&&k(j,1)):(j=Ca(K),j.c(),k(j,1),j.m(n,null)):j&&(Me(),S(j,1,1,()=>{j=null}),Oe()),(!B||X[0]&1&&L!==(L="flex flex-col gap-3 cursor-default rounded-xl "+(K[12](K[26].id)?"bg-green-700 text-accentText":"bg-gray-500 opacity-35")))&&$(e,"class",L)},i(K){B||(k(j),B=!0)},o(K){S(j),B=!1},d(K){K&&A(e),j&&j.d()}}}function wy(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,p,_,h,w,y,C,R,D=t[1].gameSettings.includes("devMode"),F,N=localStorage.getItem(Pt)==null,P;e=new ln({props:{$$slots:{default:[ry]},$$scope:{ctx:t}}});function E(B,j){return localStorage.getItem(Pt)!=null?sy:ly}let O=E()(t),v=t[1].endGoal=="land"&&ya(t);m=new Lt({props:{styling:"w-min",text:"💾 Save Game",onOpen:t[10]}}),_=new Lt({props:{styling:"w-min",text:"📤 Load Game",onOpen:t[17]}}),w=new Lt({props:{styling:"bg-black opacity-50 w-min",text:"🔄 New Game",onOpen:t[14]}}),C=new Lt({props:{styling:"bg-black opacity-50 w-min",text:"📲 Share game",onOpen:t[18]}});let I=D&&ka(t),L=N&&vy(t);return{c(){U(e.$$.fragment),n=H(),o=M("div"),i=M("div"),r=M("div"),l=M("h4"),l.textContent="This game",a=H(),s=M("span"),O.c(),u=H(),f=M("div"),v&&v.c(),c=H(),d=M("div"),U(m.$$.fragment),p=H(),U(_.$$.fragment),h=H(),U(w.$$.fragment),y=H(),U(C.$$.fragment),R=H(),I&&I.c(),F=H(),L&&L.c(),$(l,"class","text-xl font-semibold mb-2"),$(s,"class","text-sm text-accentText opacity-75"),$(f,"class","mt-6 gap-0 py-0 text-accentText opacity-75 text-sm"),$(r,"class","flex-col h-max max-w-[80%]"),$(d,"class","flex flex-row flex-wrap flex-wrap gap-3"),$(i,"class","flex flex-col gap-6 justify-between"),$(o,"class","flex flex-row w-full gap-10justify-between")},m(B,j){x(e,B,j),T(B,n,j),T(B,o,j),b(o,i),b(i,r),b(r,l),b(r,a),b(r,s),O.m(s,null),b(r,u),b(r,f),v&&v.m(f,null),b(i,c),b(i,d),x(m,d,null),b(d,p),x(_,d,null),b(d,h),x(w,d,null),b(d,y),x(C,d,null),b(d,R),I&&I.m(d,null),b(o,F),L&&L.m(o,null),P=!0},p(B,j){const K={};j[1]&2&&(K.$$scope={dirty:j,ctx:B}),e.$set(K),O.p(B,j),B[1].endGoal=="land"?v?v.p(B,j):(v=ya(B),v.c(),v.m(f,null)):v&&(v.d(1),v=null),j[0]&2&&(D=B[1].gameSettings.includes("devMode")),D?I?(I.p(B,j),j[0]&2&&k(I,1)):(I=ka(B),I.c(),k(I,1),I.m(d,null)):I&&(Me(),S(I,1,1,()=>{I=null}),Oe()),N&&L.p(B,j)},i(B){P||(k(e.$$.fragment,B),k(m.$$.fragment,B),k(_.$$.fragment,B),k(w.$$.fragment,B),k(C.$$.fragment,B),k(I),k(L),P=!0)},o(B){S(e.$$.fragment,B),S(m.$$.fragment,B),S(_.$$.fragment,B),S(w.$$.fragment,B),S(C.$$.fragment,B),S(I),S(L),P=!1},d(B){B&&(A(n),A(o)),Y(e,B),O.d(),v&&v.d(),Y(m),Y(_),Y(w),Y(C),I&&I.d(),L&&L.d()}}}function ky(t){let e,n;return e=new sn({props:{class:"max-w-[50%] flex flex-col justify-between bg-popupBackground text-accentText",$$slots:{default:[wy]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(o,i){x(e,o,i),n=!0},p(o,i){const r={};i[0]&3|i[1]&2&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function Cy(t){var o;let e=((o=t[13]())==null?void 0:o.title)+"",n;return{c(){n=V(e)},m(i,r){T(i,n,r)},p:Te,d(i){i&&A(n)}}}function Sy(t){let e,n,o,i;return{c(){var r,l,a;e=M("div"),n=M("div"),n.textContent=`${(r=t[13]())==null?void 0:r.icon}`,o=H(),i=M("div"),i.textContent=`${(l=t[13]())==null?void 0:l.description} ${(a=t[13]())==null?void 0:a.requirements}`,$(n,"class","absolute top-4 left-4 text-5xl"),$(i,"class","pl-8 w-[80%] align-middle flex flex-col justify-center text-lg"),$(e,"class","flex flex-row align-middle justify-evenly px-6 py-2")},m(r,l){T(r,e,l),b(e,n),b(e,o),b(e,i)},p:Te,d(r){r&&A(e)}}}function Ay(t){let e,n,o,i;return e=new wc({props:{class:"text-center text-lg font-bold",$$slots:{default:[Cy]},$$scope:{ctx:t}}}),o=new Oc({props:{$$slots:{default:[Sy]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),n=H(),U(o.$$.fragment)},m(r,l){x(e,r,l),T(r,n,l),x(o,r,l),i=!0},p(r,l){const a={};l[1]&2&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l[1]&2&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&A(n),Y(e,r),Y(o,r)}}}function Ty(t){let e;return{c(){e=V("Close to collect prize")},m(n,o){T(n,e,o)},d(n){n&&A(e)}}}function Iy(t){let e,n;return e=new Pb({props:{$$slots:{default:[Ty]},$$scope:{ctx:t}}}),e.$on("click",t[22]),{c(){U(e.$$.fragment)},m(o,i){x(e,o,i),n=!0},p(o,i){const r={};i[1]&2&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function My(t){let e,n,o,i;return e=new Mc({props:{$$slots:{default:[Ay]},$$scope:{ctx:t}}}),o=new Cl({props:{$$slots:{default:[Iy]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),n=H(),U(o.$$.fragment)},m(r,l){x(e,r,l),T(r,n,l),x(o,r,l),i=!0},p(r,l){const a={};l[1]&2&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l[0]&8|l[1]&2&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&A(n),Y(e,r),Y(o,r)}}}function Oy(t){let e,n;return e=new Sl({props:{$$slots:{default:[My]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(o,i){x(e,o,i),n=!0},p(o,i){const r={};i[0]&8|i[1]&2&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function Py(t){let e,n,o,i,r;function l(s){t[21](s)}let a={$$slots:{default:[ky]},$$scope:{ctx:t}};return t[2]!==void 0&&(a.open=t[2]),e=new an({props:a}),Ee.push(()=>Ut(e,"open",l)),i=new Al({props:{open:t[3],$$slots:{default:[Oy]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),o=H(),U(i.$$.fragment)},m(s,u){x(e,s,u),T(s,o,u),x(i,s,u),r=!0},p(s,u){const f={};u[0]&3|u[1]&2&&(f.$$scope={dirty:u,ctx:s}),!n&&u[0]&4&&(n=!0,f.open=s[2],Wt(()=>n=!1)),e.$set(f);const c={};u[0]&8&&(c.open=s[3]),u[0]&8|u[1]&2&&(c.$$scope={dirty:u,ctx:s}),i.$set(c)},i(s){r||(k(e.$$.fragment,s),k(i.$$.fragment,s),r=!0)},o(s){S(e.$$.fragment,s),S(i.$$.fragment,s),r=!1},d(s){s&&A(o),Y(e,s),Y(i,s)}}}function Aa(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function Ny(t){const e=JSON.parse(t);return e.townInfo!=null&&e.difficulty!=null}function Ey(t,e,n){let o,i,r,l,a;ae(t,Ne,v=>n(1,o=v)),ae(t,Ot,v=>n(2,i=v)),ae(t,hn,v=>n(24,r=v)),ae(t,Vl,v=>n(16,l=v)),ae(t,Pi,v=>n(3,a=v));const u=mn[o.endGoal],f=Df[o.difficulty]||0;ct.sort((v,I)=>y(v.id)&&!y(I.id)?-1:!y(v.id)&&y(I.id)?1:0);const c=ct.filter(v=>y(v.id));function d(v){const I=r.achievements.find(L=>L[0]==v);return I==null?0:`${I[1]} in ${I[2]}.`}function m(v){const I=r.achievements.find(L=>L[0]==v);return I==null?!1:I[3]}function p(v){const I=r.achievements.find(B=>B[0]==v);if(I==null)return;const L=ct.find(B=>B.id==v);L!=null&&(Ie(Ne,o.townInfo.gold+=L.prize,o),I[3]=!0,Ie(hn,r.achievements=r.achievements.map(B=>B[0]==v?I:B),r))}let _=ct;function h(){const v=JSON.stringify(o),I=new Blob([v],{type:"text/plain"}),L=URL.createObjectURL(I),B=document.createElement("a");B.href=L,B.download=`${new Date().toISOString()}.json`,document.body.appendChild(B),B.click(),document.body.removeChild(B),URL.revokeObjectURL(L)}function w(v){const I=v.target.files;if(I==null)return;const L=I[0],B=new FileReader;B.onload=function(j){if(j.target==null)return;const K=j.target.result;if(typeof K=="string"){if(!Ny(K)){Ct.set("Invalid game file");return}jr(JSON.parse(K))}else Ct.set("Invalid game file: is not String.")},B.readAsText(L)}function y(v){return r.achievements==null?!1:r.achievements.find(I=>I[0]==v)!=null}function C(){Vl.update(v=>!v),localStorage.setItem("showCompletedAchievements",localStorage.getItem("showCompletedAchievements")==="true"?"false":"true")}localStorage.getItem("pauseMenuTab")==null&&(localStorage.setItem("pauseMenuTab","game"),Fm.set("game"));function R(){const v=r.achievements[r.achievements.length-1];if(v!=null)return ct.find(I=>I.id==v[0])}function D(){const v=prompt("Are you sure you want to restart the game? This will delete all your progress. Type 'yes' to confirm.");(v==null?void 0:v.toLowerCase())=="yes"&&(Ie(Ot,i=!0,i),localStorage.setItem("reset","true"),Ie(Ne,o=null,o),localStorage.removeItem(mt),jr())}const F=()=>{const v=document.createElement("input");v.type="file",v.onchange=I=>w(I),v.click()},N=async()=>{const v=await Cf();navigator.clipboard.writeText(v),alert("Copied to clipboard")},P=()=>{Em(o)},E=v=>{p(v.id);const I=document.getElementById(`collectPrize-${v.id}`);I&&(I.style.display="none")};function q(v){i=v,Ot.set(i)}const O=()=>{Ie(Pi,a=!1,a)};return t.$$.update=()=>{if(t.$$.dirty[0]&65539&&o)if(l)n(0,_=ct);else{n(0,_=[]);for(let v=0;v<ct.length;v++)(!y(ct[v].id)||!m(ct[v].id))&&_.push(ct[v])}},[_,o,i,a,u,f,c,d,m,p,h,w,y,R,D,C,l,F,N,P,E,q,O]}class $y extends he{constructor(e){super(),pe(this,e,Ey,Py,de,{toggleShowCompleted:15},null,[-1,-1])}get toggleShowCompleted(){return this.$$.ctx[15]}}function Ta(t,e,n){const o=t.slice();return o[5]=e[n],o}function Ry(t){let e;return{c(){e=V("🚨 Plot Disabled Warning")},m(n,o){T(n,e,o)},d(n){n&&A(e)}}}function Ly(t){let e,n;return e=new rn({props:{class:"text-xl font-semibold",$$slots:{default:[Ry]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(o,i){x(e,o,i),n=!0},p(o,i){const r={};i&256&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function Ia(t){let e,n=t[5]+"",o;return{c(){e=M("li"),o=V(n)},m(i,r){T(i,e,r),b(e,o)},p(i,r){r&1&&n!==(n=i[5]+"")&&ue(o,n)},d(i){i&&A(e)}}}function Dy(t){let e;return{c(){e=V("Bulldoze")},m(n,o){T(n,e,o)},d(n){n&&A(e)}}}function jy(t){let e,n=t[0].plotCost+"",o,i;return{c(){e=V("Snooze ("),o=V(n),i=V(" gold)")},m(r,l){T(r,e,l),T(r,o,l),T(r,i,l)},p(r,l){l&1&&n!==(n=r[0].plotCost+"")&&ue(o,n)},d(r){r&&(A(e),A(o),A(i))}}}function Fy(t){let e,n,o,i;return e=new At({props:{variant:"destructive",$$slots:{default:[Dy]},$$scope:{ctx:t}}}),e.$on("click",t[3]),o=new At({props:{variant:"default",disabled:t[1].townInfo.gold<t[0].plotCost,$$slots:{default:[jy]},$$scope:{ctx:t}}}),o.$on("click",t[2]),{c(){U(e.$$.fragment),n=H(),U(o.$$.fragment)},m(r,l){x(e,r,l),T(r,n,l),x(o,r,l),i=!0},p(r,l){const a={};l&256&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&3&&(s.disabled=r[1].townInfo.gold<r[0].plotCost),l&257&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&A(n),Y(e,r),Y(o,r)}}}function qy(t){let e,n,o,i,r,l=t[0].plotName+"",a,s,u=t[0].location+"",f,c,d,m,p,_,h,w,y,C,R,D,F,N,P,E,q=t[0].plotCost+"",O,v,I,L,B;e=new ln({props:{class:"p-4 border-b border-accent/20",$$slots:{default:[Ly]},$$scope:{ctx:t}}});let j=xe(t[0].missingResources),K=[];for(let X=0;X<j.length;X+=1)K[X]=Ia(Ta(t,j,X));return L=new kn({props:{class:"p-4 border-t border-accent/20 flex justify-end gap-2",$$slots:{default:[Fy]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),n=H(),o=M("div"),i=M("p"),r=V("Your "),a=V(l),s=H(),f=V(u),c=V(" is about to be disabled!"),d=H(),m=M("div"),p=M("p"),p.textContent="Missing Resources:",_=H(),h=M("ul");for(let X=0;X<K.length;X+=1)K[X].c();w=H(),y=M("div"),C=M("p"),C.textContent="You have two options:",R=H(),D=M("ol"),F=M("li"),F.textContent="Bulldoze the plot (free)",N=H(),P=M("li"),E=V("Snooze for 30 days (costs "),O=V(q),v=V(" gold)"),I=H(),U(L.$$.fragment),$(p,"class","font-semibold"),$(h,"class","list-disc list-inside"),$(m,"class","bg-red-500/10 p-3 rounded-md"),$(D,"class","list-decimal list-inside"),$(y,"class","bg-accent/10 p-3 rounded-md"),$(o,"class","p-4 space-y-4")},m(X,z){x(e,X,z),T(X,n,z),T(X,o,z),b(o,i),b(i,r),b(i,a),b(i,s),b(i,f),b(i,c),b(o,d),b(o,m),b(m,p),b(m,_),b(m,h);for(let oe=0;oe<K.length;oe+=1)K[oe]&&K[oe].m(h,null);b(o,w),b(o,y),b(y,C),b(y,R),b(y,D),b(D,F),b(D,N),b(D,P),b(P,E),b(P,O),b(P,v),T(X,I,z),x(L,X,z),B=!0},p(X,z){const oe={};if(z&256&&(oe.$$scope={dirty:z,ctx:X}),e.$set(oe),(!B||z&1)&&l!==(l=X[0].plotName+"")&&ue(a,l),(!B||z&1)&&u!==(u=X[0].location+"")&&ue(f,u),z&1){j=xe(X[0].missingResources);let ne;for(ne=0;ne<j.length;ne+=1){const _e=Ta(X,j,ne);K[ne]?K[ne].p(_e,z):(K[ne]=Ia(_e),K[ne].c(),K[ne].m(h,null))}for(;ne<K.length;ne+=1)K[ne].d(1);K.length=j.length}(!B||z&1)&&q!==(q=X[0].plotCost+"")&&ue(O,q);const J={};z&259&&(J.$$scope={dirty:z,ctx:X}),L.$set(J)},i(X){B||(k(e.$$.fragment,X),k(L.$$.fragment,X),B=!0)},o(X){S(e.$$.fragment,X),S(L.$$.fragment,X),B=!1},d(X){X&&(A(n),A(o),A(I)),Y(e,X),it(K,X),Y(L,X)}}}function By(t){let e,n;return e=new sn({props:{transition:_o,class:"bg-sidebarBackground text-sidebarText max-w-md rounded-md shadow-xl border border-accent",$$slots:{default:[qy]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(o,i){x(e,o,i),n=!0},p(o,i){const r={};i&259&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function Hy(t){let e,n,o;function i(l){t[4](l)}let r={$$slots:{default:[By]},$$scope:{ctx:t}};return t[0].visible!==void 0&&(r.open=t[0].visible),e=new an({props:r}),Ee.push(()=>Ut(e,"open",i)),{c(){U(e.$$.fragment)},m(l,a){x(e,l,a),o=!0},p(l,[a]){const s={};a&259&&(s.$$scope={dirty:a,ctx:l}),!n&&a&1&&(n=!0,s.open=l[0].visible,Wt(()=>n=!1)),e.$set(s)},i(l){o||(k(e.$$.fragment,l),o=!0)},o(l){S(e.$$.fragment,l),o=!1},d(l){Y(e,l)}}}function Gy(t,e,n){let o,i;ae(t,Bt,s=>n(0,o=s)),ae(t,Ne,s=>n(1,i=s));function r(){i.townInfo.gold>=o.plotCost&&(Ie(Ne,i.townInfo.gold-=o.plotCost,i),Ie(Ne,i.plots[o.x][o.y].snoozedUntil=i.environment.day+10,i),Ie(Ne,i.plots[o.x][o.y].disabled=!1,i)),Ie(Bt,o.visible=!1,o)}function l(){console.log("x:",o.x),console.log("y:",o.y),lo(o.x,o.y,i),Ie(Bt,o.visible=!1,o)}function a(s){t.$$.not_equal(o.visible,s)&&(o.visible=s,Bt.set(o))}return[o,i,r,l,a]}class Vy extends he{constructor(e){super(),pe(this,e,Gy,Hy,de,{})}}function Wy(){console.log("%cRUNNING STABILITY TESTS...","color: #26bfa5;");let t=0;return console.log("%cPASSED ALL STABILITY TESTS 😍","color: #26bfa5;"),t}function xy(t){let e=t[0].endGameDetails.win==!0?"You won! 🎉":"You lost! 😭",n;return{c(){n=V(e)},m(o,i){T(o,n,i)},p(o,i){i&1&&e!==(e=o[0].endGameDetails.win==!0?"You won! 🎉":"You lost! 😭")&&ue(n,e)},d(o){o&&A(n)}}}function Yy(t){let e;return{c(){e=V("Keep playin'")},m(n,o){T(n,e,o)},d(n){n&&A(e)}}}function Uy(t){let e,n=t[0].endGameDetails.msg+"",o,i,r,l,a,s,u,f;return u=new At({props:{class:"bg-accent",$$slots:{default:[Yy]},$$scope:{ctx:t}}}),u.$on("click",t[2]),{c(){e=M("span"),o=V(n),i=H(),r=M("br"),l=H(),a=M("br"),s=H(),U(u.$$.fragment),$(e,"class","text-gray-500 text-sm")},m(c,d){T(c,e,d),b(e,o),T(c,i,d),T(c,r,d),T(c,l,d),T(c,a,d),T(c,s,d),x(u,c,d),f=!0},p(c,d){(!f||d&1)&&n!==(n=c[0].endGameDetails.msg+"")&&ue(o,n);const m={};d&16&&(m.$$scope={dirty:d,ctx:c}),u.$set(m)},i(c){f||(k(u.$$.fragment,c),f=!0)},o(c){S(u.$$.fragment,c),f=!1},d(c){c&&(A(e),A(i),A(r),A(l),A(a),A(s)),Y(u,c)}}}function Ky(t){let e,n,o,i;return e=new rn({props:{$$slots:{default:[xy]},$$scope:{ctx:t}}}),o=new Gn({props:{$$slots:{default:[Uy]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),n=H(),U(o.$$.fragment)},m(r,l){x(e,r,l),T(r,n,l),x(o,r,l),i=!0},p(r,l){const a={};l&17&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&17&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&A(n),Y(e,r),Y(o,r)}}}function Jy(t){let e;return{c(){e=M("span"),e.textContent="Reset the game by pressing P and clicking New Game",$(e,"class","text-gray-500 text-sm")},m(n,o){T(n,e,o)},p:Te,d(n){n&&A(e)}}}function Xy(t){let e,n,o,i;return e=new ln({props:{$$slots:{default:[Ky]},$$scope:{ctx:t}}}),o=new kn({props:{$$slots:{default:[Jy]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),n=H(),U(o.$$.fragment)},m(r,l){x(e,r,l),T(r,n,l),x(o,r,l),i=!0},p(r,l){const a={};l&17&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&16&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&A(n),Y(e,r),Y(o,r)}}}function Zy(t){let e,n;return e=new sn({props:{class:"bg-foregroundDark text-accentText",$$slots:{default:[Xy]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(o,i){x(e,o,i),n=!0},p(o,i){const r={};i&17&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function Qy(t){let e,n,o;function i(l){t[3](l)}let r={$$slots:{default:[Zy]},$$scope:{ctx:t}};return t[1]!==void 0&&(r.open=t[1]),e=new an({props:r}),Ee.push(()=>Ut(e,"open",i)),{c(){U(e.$$.fragment)},m(l,a){x(e,l,a),o=!0},p(l,[a]){const s={};a&17&&(s.$$scope={dirty:a,ctx:l}),!n&&a&2&&(n=!0,s.open=l[1],Wt(()=>n=!1)),e.$set(s)},i(l){o||(k(e.$$.fragment,l),o=!0)},o(l){S(e.$$.fragment,l),o=!1},d(l){Y(e,l)}}}function zy(t,e,n){let o;ae(t,Ne,a=>n(0,o=a));let i=!1;function r(){let a=o;a.overtime=!0,Ne.set(a),n(1,i=!1),Ot.set(!1)}function l(a){i=a,n(1,i),n(0,o)}return t.$$.update=()=>{t.$$.dirty&1&&(o.endGameDetails.msg!=""&&o.overtime==!1?n(1,i=!0):n(1,i=!1))},[o,i,r,l]}class ev extends he{constructor(e){super(),pe(this,e,zy,Qy,de,{})}}function tv(t){let e,n,o,i,r=[{class:n=He("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t[1])},t[2]],l={};for(let a=0;a<r.length;a+=1)l=Q(l,r[a]);return{c(){e=M("input"),ce(e,l)},m(a,s){T(a,e,s),e.autofocus&&e.focus(),wi(e,t[0]),o||(i=[te(e,"input",t[17]),te(e,"blur",t[3]),te(e,"change",t[4]),te(e,"click",t[5]),te(e,"focus",t[6]),te(e,"focusin",t[7]),te(e,"focusout",t[8]),te(e,"keydown",t[9]),te(e,"keypress",t[10]),te(e,"keyup",t[11]),te(e,"mouseover",t[12]),te(e,"mouseenter",t[13]),te(e,"mouseleave",t[14]),te(e,"paste",t[15]),te(e,"input",t[16])],o=!0)},p(a,[s]){ce(e,l=Ce(r,[s&2&&n!==(n=He("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a[1]))&&{class:n},s&4&&a[2]])),s&1&&e.value!==a[0]&&wi(e,a[0])},i:Te,o:Te,d(a){a&&A(e),o=!1,Ye(i)}}}function nv(t,e,n){const o=["class","value"];let i=fe(e,o),{class:r=void 0}=e,{value:l=void 0}=e;function a(F){le.call(this,t,F)}function s(F){le.call(this,t,F)}function u(F){le.call(this,t,F)}function f(F){le.call(this,t,F)}function c(F){le.call(this,t,F)}function d(F){le.call(this,t,F)}function m(F){le.call(this,t,F)}function p(F){le.call(this,t,F)}function _(F){le.call(this,t,F)}function h(F){le.call(this,t,F)}function w(F){le.call(this,t,F)}function y(F){le.call(this,t,F)}function C(F){le.call(this,t,F)}function R(F){le.call(this,t,F)}function D(){l=this.value,n(0,l)}return t.$$set=F=>{e=Q(Q({},e),Le(F)),n(2,i=fe(e,o)),"class"in F&&n(1,r=F.class),"value"in F&&n(0,l=F.value)},[l,r,i,a,s,u,f,c,d,m,p,_,h,w,y,C,R,D]}class ov extends he{constructor(e){super(),pe(this,e,nv,tv,de,{class:1,value:0})}}function iv(t){let e;const n=t[2].default,o=be(n,t,t[4],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&16)&&ve(o,n,i,i[4],e?ye(n,i[4],r,null):we(i[4]),null)},i(i){e||(k(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function rv(t){let e,n;const o=[{class:He("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",t[0])},t[1]];let i={$$slots:{default:[iv]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new Rg({props:i}),e.$on("mousedown",t[3]),{c(){U(e.$$.fragment)},m(r,l){x(e,r,l),n=!0},p(r,[l]){const a=l&3?Ce(o,[l&1&&{class:He("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",r[0])},l&2&&rt(r[1])]):{};l&16&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){Y(e,r)}}}function lv(t,e,n){const o=["class"];let i=fe(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(u){le.call(this,t,u)}return t.$$set=u=>{e=Q(Q({},e),Le(u)),n(1,i=fe(e,o)),"class"in u&&n(0,a=u.class),"$$scope"in u&&n(4,l=u.$$scope)},[a,i,r,s,l]}class Sr extends he{constructor(e){super(),pe(this,e,lv,rv,de,{class:0})}}function sv(t){let e;return{c(){e=V("Welcome to Plots!")},m(n,o){T(n,e,o)},d(n){n&&A(e)}}}function av(t){let e;return{c(){e=M("a"),e.textContent="GitHub / Learn how to play",$(e,"href","https://github.com/josephrcox/plots#how-to-play"),$(e,"class","text-accent hover:text-accent/80 text-sm mb-4 hover:underline inline-block"),$(e,"target","_blank")},m(n,o){T(n,e,o)},p:Te,d(n){n&&A(e)}}}function uv(t){let e,n,o,i;return e=new rn({props:{class:"text-2xl font-semibold",$$slots:{default:[sv]},$$scope:{ctx:t}}}),o=new Gn({props:{$$slots:{default:[av]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),n=H(),U(o.$$.fragment)},m(r,l){x(e,r,l),T(r,n,l),x(o,r,l),i=!0},p(r,l){const a={};l&256&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&256&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&A(n),Y(e,r),Y(o,r)}}}function fv(t){let e;return{c(){e=V("Game Mode")},m(n,o){T(n,e,o)},d(n){n&&A(e)}}}function cv(t){let e;return{c(){e=V("Town Name")},m(n,o){T(n,e,o)},d(n){n&&A(e)}}}function dv(t){let e;return{c(){e=V("Game Settings")},m(n,o){T(n,e,o)},d(n){n&&A(e)}}}function mv(t){let e;return{c(){e=V("Reset user")},m(n,o){T(n,e,o)},d(n){n&&A(e)}}}function pv(t){let e;return{c(){e=V("Start game")},m(n,o){T(n,e,o)},d(n){n&&A(e)}}}function hv(t){let e,n=t[1].username+"",o,i,r,l,a,s,u,f,c;return l=new At({props:{variant:"outline",class:"border-accent/20 hover:bg-accent/10",$$slots:{default:[mv]},$$scope:{ctx:t}}}),l.$on("click",t[5]),s=new At({props:{class:"bg-accent hover:bg-accent/80 text-white",$$slots:{default:[pv]},$$scope:{ctx:t}}}),s.$on("click",t[3]),{c(){e=M("span"),o=V(n),i=H(),r=M("div"),U(l.$$.fragment),a=H(),U(s.$$.fragment),$(e,"class","text-xs text-sidebarText/50 hover:text-sidebarText cursor-pointer"),$(r,"class","space-x-2")},m(d,m){T(d,e,m),b(e,o),T(d,i,m),T(d,r,m),x(l,r,null),b(r,a),x(s,r,null),u=!0,f||(c=te(e,"click",t[6]),f=!0)},p(d,m){(!u||m&2)&&n!==(n=d[1].username+"")&&ue(o,n);const p={};m&256&&(p.$$scope={dirty:m,ctx:d}),l.$set(p);const _={};m&256&&(_.$$scope={dirty:m,ctx:d}),s.$set(_)},i(d){u||(k(l.$$.fragment,d),k(s.$$.fragment,d),u=!0)},o(d){S(l.$$.fragment,d),S(s.$$.fragment,d),u=!1},d(d){d&&(A(e),A(i),A(r)),Y(l),Y(s),f=!1,c()}}}function _v(t){let e,n,o,i,r,l,a,s,u,f,c,d,m=(t[0]==="land"?mn.land.description_title:mn.free_play.description_title)+"",p,_,h,w,y,C,R,D,F,N,P,E,q,O,v,I,L,B,j,K,X,z;e=new ln({props:{class:"p-4 border-b border-accent/20",$$slots:{default:[uv]},$$scope:{ctx:t}}});let oe=yv;return l=new Sr({props:{for:"endGoal",class:"text-sm font-medium",$$slots:{default:[fv]},$$scope:{ctx:t}}}),w=new Sr({props:{for:"townName",class:"text-sm font-medium",$$slots:{default:[cv]},$$scope:{ctx:t}}}),C=new ov({props:{id:"townName",class:"w-full p-2 rounded-md border border-accent/20 bg-sidebarBackground text-sidebarText focus:ring-2 focus:ring-accent/50",placeholder:"Will be randomized if left blank"}}),F=new Sr({props:{class:"text-sm font-medium",$$slots:{default:[dv]},$$scope:{ctx:t}}}),j=new kn({props:{class:"p-4 border-t border-accent/20 flex justify-between items-center",$$slots:{default:[hv]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),n=H(),o=M("div"),i=H(),r=M("div"),U(l.$$.fragment),a=H(),s=M("select"),u=M("option"),u.textContent=`${mn.land.short_title}`,f=M("option"),f.textContent=`${mn.free_play.short_title}`,c=H(),d=M("p"),p=V(m),_=H(),h=M("div"),U(w.$$.fragment),y=H(),U(C.$$.fragment),R=H(),D=M("div"),U(F.$$.fragment),N=H(),P=M("div"),P.innerHTML='<input type="checkbox" id="devMode" class="svelte-1fiuyps"/>',E=H(),q=M("div"),q.innerHTML=`<input type="checkbox" id="tomPetty" class="mt-1 rounded border-accent/20 svelte-1fiuyps"/> <label for="tomPetty" class="text-sm">The &#39;Tom Petty&#39; mode: If your happiness or health reaches 0, you
            lose 50% of your gold and continue the game. You won&#39;t back down.</label>`,O=H(),v=M("div"),v.innerHTML=`<input type="checkbox" id="casual" checked="" class="mt-1 rounded border-accent/20 svelte-1fiuyps"/> <label for="casual" class="text-sm">Casual game: Faster and easier overall while exposing more of the
            game mechanics.</label>`,I=H(),L=M("div"),L.innerHTML='<input type="checkbox" id="bagOfHolding" class="mt-1 rounded border-accent/20 svelte-1fiuyps"/> <label for="bagOfHolding" class="text-sm">Bag of Holding: No resource cap or need to purchase stockpiles.</label>',B=H(),U(j.$$.fragment),u.__value="land",wi(u,u.__value),f.__value="free_play",wi(f,f.__value),$(s,"id","endGoal"),$(s,"class","w-full p-2 rounded-md border border-accent/20 bg-sidebarBackground text-sidebarText focus:ring-2 focus:ring-accent/50"),$(d,"class","text-sm text-sidebarText/80 mt-1"),$(r,"class","space-y-2"),$(h,"class","space-y-2"),$(P,"class","hidden"),$(q,"class","flex items-start space-x-2"),$(v,"class","flex items-start space-x-2"),$(L,"class","flex items-start space-x-2"),$(D,"class","space-y-4"),$(o,"class","p-4 space-y-4")},m(J,ne){x(e,J,ne),T(J,n,ne),T(J,o,ne),b(o,i),b(o,r),x(l,r,null),b(r,a),b(r,s),b(s,u),b(s,f),Dl(s,t[0]),b(r,c),b(r,d),b(d,p),b(o,_),b(o,h),x(w,h,null),b(h,y),x(C,h,null),b(o,R),b(o,D),x(F,D,null),b(D,N),b(D,P),b(D,E),b(D,q),b(D,O),b(D,v),b(D,I),b(D,L),T(J,B,ne),x(j,J,ne),K=!0,X||(z=te(s,"change",t[4]),X=!0)},p(J,ne){const _e={};ne&256&&(_e.$$scope={dirty:ne,ctx:J}),e.$set(_e);const se={};ne&256&&(se.$$scope={dirty:ne,ctx:J}),l.$set(se),(!K||ne&1)&&Dl(s,J[0]),(!K||ne&1)&&m!==(m=(J[0]==="land"?mn.land.description_title:mn.free_play.description_title)+"")&&ue(p,m);const re={};ne&256&&(re.$$scope={dirty:ne,ctx:J}),w.$set(re);const je={};ne&256&&(je.$$scope={dirty:ne,ctx:J}),F.$set(je);const Fe={};ne&258&&(Fe.$$scope={dirty:ne,ctx:J}),j.$set(Fe)},i(J){K||(k(e.$$.fragment,J),k(oe),k(l.$$.fragment,J),k(w.$$.fragment,J),k(C.$$.fragment,J),k(F.$$.fragment,J),k(j.$$.fragment,J),K=!0)},o(J){S(e.$$.fragment,J),S(oe),S(l.$$.fragment,J),S(w.$$.fragment,J),S(C.$$.fragment,J),S(F.$$.fragment,J),S(j.$$.fragment,J),K=!1},d(J){J&&(A(n),A(o),A(B)),Y(e,J),Y(l),Y(w),Y(C),Y(F),Y(j,J),X=!1,z()}}}function gv(t){let e,n;return e=new sn({props:{transition:_o,class:"bg-sidebarBackground text-sidebarText max-w-xl rounded-md shadow-xl border border-accent",$$slots:{default:[_v]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(o,i){x(e,o,i),n=!0},p(o,i){const r={};i&259&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function bv(t){let e,n,o;function i(l){t[7](l)}let r={$$slots:{default:[gv]},$$scope:{ctx:t}};return t[2].visible!==void 0&&(r.open=t[2].visible),e=new an({props:r}),Ee.push(()=>Ut(e,"open",i)),{c(){U(e.$$.fragment)},m(l,a){x(e,l,a),o=!0},p(l,[a]){const s={};a&259&&(s.$$scope={dirty:a,ctx:l}),!n&&a&4&&(n=!0,s.open=l[2].visible,Wt(()=>n=!1)),e.$set(s)},i(l){o||(k(e.$$.fragment,l),o=!0)},o(l){S(e.$$.fragment,l),o=!1},d(l){Y(e,l)}}}const yv=!1;function vv(t,e,n){let o,i;ae(t,hn,c=>n(1,o=c)),ae(t,qo,c=>n(2,i=c)),Ot.set(!1);function r(){const c="1",d=document.getElementById("endGoal").value,m=document.getElementById("townName").value,_=["devMode","tomPetty","casual","bagOfHolding"].filter(y=>document.getElementById(y).checked);Rm(c,d,m,_)}let l="free_play";const a=c=>{n(0,l=c.target.value)};function s(){Ct.set("Deleted :)"),localStorage.clear(),window.location.href=""}function u(){const c=prompt("Enter new username");if(c){let d=o;d.username=c,jm(d)}}function f(c){t.$$.not_equal(i.visible,c)&&(i.visible=c,qo.set(i))}return[l,o,i,r,a,s,u,f]}class wv extends he{constructor(e){super(),pe(this,e,vv,bv,de,{})}}function kv(t){let e;return{c(){e=V("Scoreboard")},m(n,o){T(n,e,o)},d(n){n&&A(e)}}}function Cv(t){let e=t[1].description_title+"",n;return{c(){n=V(e)},m(o,i){T(o,n,i)},p:Te,d(o){o&&A(n)}}}function Sv(t){let e,n,o,i;return e=new rn({props:{$$slots:{default:[kv]},$$scope:{ctx:t}}}),o=new Gn({props:{$$slots:{default:[Cv]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),n=H(),U(o.$$.fragment)},m(r,l){x(e,r,l),T(r,n,l),x(o,r,l),i=!0},p(r,l){const a={};l&128&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&128&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&A(n),Y(e,r),Y(o,r)}}}function Av(t){let e;return{c(){e=V("footer")},m(n,o){T(n,e,o)},d(n){n&&A(e)}}}function Tv(t){let e,n,o,i;return e=new ln({props:{$$slots:{default:[Sv]},$$scope:{ctx:t}}}),o=new kn({props:{$$slots:{default:[Av]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),n=V(`
		hi
		`),U(o.$$.fragment)},m(r,l){x(e,r,l),T(r,n,l),x(o,r,l),i=!0},p(r,l){const a={};l&128&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&128&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&A(n),Y(e,r),Y(o,r)}}}function Iv(t){let e,n;return e=new sn({props:{$$slots:{default:[Tv]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(o,i){x(e,o,i),n=!0},p(o,i){const r={};i&128&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function Mv(t){let e,n,o;function i(l){t[3](l)}let r={$$slots:{default:[Iv]},$$scope:{ctx:t}};return t[0]!==void 0&&(r.open=t[0]),e=new an({props:r}),Ee.push(()=>Ut(e,"open",i)),{c(){U(e.$$.fragment)},m(l,a){x(e,l,a),o=!0},p(l,[a]){const s={};a&128&&(s.$$scope={dirty:a,ctx:l}),!n&&a&1&&(n=!0,s.open=l[0],Wt(()=>n=!1)),e.$set(s)},i(l){o||(k(e.$$.fragment,l),o=!0)},o(l){S(e.$$.fragment,l),o=!1},d(l){Y(e,l)}}}function Ov(t,e,n){let o,i;ae(t,Ne,s=>n(2,o=s)),ae(t,Oi,s=>n(0,i=s));const l=mn[o.endGoal];Df[o.difficulty];function a(s){i=s,Oi.set(i)}return t.$$.update=()=>{t.$$.dirty&4},[i,l,o,a]}class Pv extends he{constructor(e){super(),pe(this,e,Ov,Mv,de,{})}}function _i(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Nv(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Pc(t){let e,n,o;t.length!==2?(e=_i,n=(a,s)=>_i(t(a),s),o=(a,s)=>t(a)-s):(e=t===_i||t===Nv?t:Ev,n=t,o=t);function i(a,s,u=0,f=a.length){if(u<f){if(e(s,s)!==0)return f;do{const c=u+f>>>1;n(a[c],s)<0?u=c+1:f=c}while(u<f)}return u}function r(a,s,u=0,f=a.length){if(u<f){if(e(s,s)!==0)return f;do{const c=u+f>>>1;n(a[c],s)<=0?u=c+1:f=c}while(u<f)}return u}function l(a,s,u=0,f=a.length){const c=i(a,s,u,f-1);return c>u&&o(a[c-1],s)>-o(a[c],s)?c-1:c}return{left:i,center:l,right:r}}function Ev(){return 0}function $v(t){return t===null?NaN:+t}const Rv=Pc(_i),Lv=Rv.right;Pc($v).center;const Dv=Math.sqrt(50),jv=Math.sqrt(10),Fv=Math.sqrt(2);function qi(t,e,n){const o=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(o)),r=o/Math.pow(10,i),l=r>=Dv?10:r>=jv?5:r>=Fv?2:1;let a,s,u;return i<0?(u=Math.pow(10,-i)/l,a=Math.round(t*u),s=Math.round(e*u),a/u<t&&++a,s/u>e&&--s,u=-u):(u=Math.pow(10,i)*l,a=Math.round(t/u),s=Math.round(e/u),a*u<t&&++a,s*u>e&&--s),s<a&&.5<=n&&n<2?qi(t,e,n*2):[a,s,u]}function qv(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const o=e<t,[i,r,l]=o?qi(e,t,n):qi(t,e,n);if(!(r>=i))return[];const a=r-i+1,s=new Array(a);if(o)if(l<0)for(let u=0;u<a;++u)s[u]=(r-u)/-l;else for(let u=0;u<a;++u)s[u]=(r-u)*l;else if(l<0)for(let u=0;u<a;++u)s[u]=(i+u)/-l;else for(let u=0;u<a;++u)s[u]=(i+u)*l;return s}function Yr(t,e,n){return e=+e,t=+t,n=+n,qi(t,e,n)[2]}function Bv(t,e,n){e=+e,t=+t,n=+n;const o=e<t,i=o?Yr(e,t,n):Yr(t,e,n);return(o?-1:1)*(i<0?1/-i:i)}function Hv(t){return t}var Ar=1,Tr=2,Ur=3,Ro=4,Ma=1e-6;function Gv(t){return"translate("+t+",0)"}function Vv(t){return"translate(0,"+t+")"}function Wv(t){return e=>+t(e)}function xv(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function Yv(){return!this.__axis}function Nc(t,e){var n=[],o=null,i=null,r=6,l=6,a=3,s=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=t===Ar||t===Ro?-1:1,f=t===Ro||t===Tr?"x":"y",c=t===Ar||t===Ur?Gv:Vv;function d(m){var p=o??(e.ticks?e.ticks.apply(e,n):e.domain()),_=i??(e.tickFormat?e.tickFormat.apply(e,n):Hv),h=Math.max(r,0)+a,w=e.range(),y=+w[0]+s,C=+w[w.length-1]+s,R=(e.bandwidth?xv:Wv)(e.copy(),s),D=m.selection?m.selection():m,F=D.selectAll(".domain").data([null]),N=D.selectAll(".tick").data(p,e).order(),P=N.exit(),E=N.enter().append("g").attr("class","tick"),q=N.select("line"),O=N.select("text");F=F.merge(F.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),N=N.merge(E),q=q.merge(E.append("line").attr("stroke","currentColor").attr(f+"2",u*r)),O=O.merge(E.append("text").attr("fill","currentColor").attr(f,u*h).attr("dy",t===Ar?"0em":t===Ur?"0.71em":"0.32em")),m!==D&&(F=F.transition(m),N=N.transition(m),q=q.transition(m),O=O.transition(m),P=P.transition(m).attr("opacity",Ma).attr("transform",function(v){return isFinite(v=R(v))?c(v+s):this.getAttribute("transform")}),E.attr("opacity",Ma).attr("transform",function(v){var I=this.parentNode.__axis;return c((I&&isFinite(I=I(v))?I:R(v))+s)})),P.remove(),F.attr("d",t===Ro||t===Tr?l?"M"+u*l+","+y+"H"+s+"V"+C+"H"+u*l:"M"+s+","+y+"V"+C:l?"M"+y+","+u*l+"V"+s+"H"+C+"V"+u*l:"M"+y+","+s+"H"+C),N.attr("opacity",1).attr("transform",function(v){return c(R(v)+s)}),q.attr(f+"2",u*r),O.attr(f,u*h).text(_),D.filter(Yv).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Tr?"start":t===Ro?"end":"middle"),D.each(function(){this.__axis=R})}return d.scale=function(m){return arguments.length?(e=m,d):e},d.ticks=function(){return n=Array.from(arguments),d},d.tickArguments=function(m){return arguments.length?(n=m==null?[]:Array.from(m),d):n.slice()},d.tickValues=function(m){return arguments.length?(o=m==null?null:Array.from(m),d):o&&o.slice()},d.tickFormat=function(m){return arguments.length?(i=m,d):i},d.tickSize=function(m){return arguments.length?(r=l=+m,d):r},d.tickSizeInner=function(m){return arguments.length?(r=+m,d):r},d.tickSizeOuter=function(m){return arguments.length?(l=+m,d):l},d.tickPadding=function(m){return arguments.length?(a=+m,d):a},d.offset=function(m){return arguments.length?(s=+m,d):s},d}function Uv(t){return Nc(Ur,t)}function Kv(t){return Nc(Ro,t)}var Jv={value:()=>{}};function Ec(){for(var t=0,e=arguments.length,n={},o;t<e;++t){if(!(o=arguments[t]+"")||o in n||/[\s.]/.test(o))throw new Error("illegal type: "+o);n[o]=[]}return new gi(n)}function gi(t){this._=t}function Xv(t,e){return t.trim().split(/^|\s+/).map(function(n){var o="",i=n.indexOf(".");if(i>=0&&(o=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:o}})}gi.prototype=Ec.prototype={constructor:gi,on:function(t,e){var n=this._,o=Xv(t+"",n),i,r=-1,l=o.length;if(arguments.length<2){for(;++r<l;)if((i=(t=o[r]).type)&&(i=Zv(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++r<l;)if(i=(t=o[r]).type)n[i]=Oa(n[i],t.name,e);else if(e==null)for(i in n)n[i]=Oa(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new gi(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),o=0,i,r;o<i;++o)n[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=this._[t],o=0,i=r.length;o<i;++o)r[o].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var o=this._[t],i=0,r=o.length;i<r;++i)o[i].value.apply(e,n)}};function Zv(t,e){for(var n=0,o=t.length,i;n<o;++n)if((i=t[n]).name===e)return i.value}function Oa(t,e,n){for(var o=0,i=t.length;o<i;++o)if(t[o].name===e){t[o]=Jv,t=t.slice(0,o).concat(t.slice(o+1));break}return n!=null&&t.push({name:e,value:n}),t}var Kr="http://www.w3.org/1999/xhtml";const Pa={svg:"http://www.w3.org/2000/svg",xhtml:Kr,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function lr(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Pa.hasOwnProperty(e)?{space:Pa[e],local:t}:t}function Qv(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Kr&&e.documentElement.namespaceURI===Kr?e.createElement(t):e.createElementNS(n,t)}}function zv(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function $c(t){var e=lr(t);return(e.local?zv:Qv)(e)}function ew(){}function Tl(t){return t==null?ew:function(){return this.querySelector(t)}}function tw(t){typeof t!="function"&&(t=Tl(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var r=e[i],l=r.length,a=o[i]=new Array(l),s,u,f=0;f<l;++f)(s=r[f])&&(u=t.call(s,s.__data__,f,r))&&("__data__"in s&&(u.__data__=s.__data__),a[f]=u);return new Tt(o,this._parents)}function nw(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function ow(){return[]}function Rc(t){return t==null?ow:function(){return this.querySelectorAll(t)}}function iw(t){return function(){return nw(t.apply(this,arguments))}}function rw(t){typeof t=="function"?t=iw(t):t=Rc(t);for(var e=this._groups,n=e.length,o=[],i=[],r=0;r<n;++r)for(var l=e[r],a=l.length,s,u=0;u<a;++u)(s=l[u])&&(o.push(t.call(s,s.__data__,u,l)),i.push(s));return new Tt(o,i)}function Lc(t){return function(){return this.matches(t)}}function Dc(t){return function(e){return e.matches(t)}}var lw=Array.prototype.find;function sw(t){return function(){return lw.call(this.children,t)}}function aw(){return this.firstElementChild}function uw(t){return this.select(t==null?aw:sw(typeof t=="function"?t:Dc(t)))}var fw=Array.prototype.filter;function cw(){return Array.from(this.children)}function dw(t){return function(){return fw.call(this.children,t)}}function mw(t){return this.selectAll(t==null?cw:dw(typeof t=="function"?t:Dc(t)))}function pw(t){typeof t!="function"&&(t=Lc(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var r=e[i],l=r.length,a=o[i]=[],s,u=0;u<l;++u)(s=r[u])&&t.call(s,s.__data__,u,r)&&a.push(s);return new Tt(o,this._parents)}function jc(t){return new Array(t.length)}function hw(){return new Tt(this._enter||this._groups.map(jc),this._parents)}function Bi(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Bi.prototype={constructor:Bi,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function _w(t){return function(){return t}}function gw(t,e,n,o,i,r){for(var l=0,a,s=e.length,u=r.length;l<u;++l)(a=e[l])?(a.__data__=r[l],o[l]=a):n[l]=new Bi(t,r[l]);for(;l<s;++l)(a=e[l])&&(i[l]=a)}function bw(t,e,n,o,i,r,l){var a,s,u=new Map,f=e.length,c=r.length,d=new Array(f),m;for(a=0;a<f;++a)(s=e[a])&&(d[a]=m=l.call(s,s.__data__,a,e)+"",u.has(m)?i[a]=s:u.set(m,s));for(a=0;a<c;++a)m=l.call(t,r[a],a,r)+"",(s=u.get(m))?(o[a]=s,s.__data__=r[a],u.delete(m)):n[a]=new Bi(t,r[a]);for(a=0;a<f;++a)(s=e[a])&&u.get(d[a])===s&&(i[a]=s)}function yw(t){return t.__data__}function vw(t,e){if(!arguments.length)return Array.from(this,yw);var n=e?bw:gw,o=this._parents,i=this._groups;typeof t!="function"&&(t=_w(t));for(var r=i.length,l=new Array(r),a=new Array(r),s=new Array(r),u=0;u<r;++u){var f=o[u],c=i[u],d=c.length,m=ww(t.call(f,f&&f.__data__,u,o)),p=m.length,_=a[u]=new Array(p),h=l[u]=new Array(p),w=s[u]=new Array(d);n(f,c,_,h,w,m,e);for(var y=0,C=0,R,D;y<p;++y)if(R=_[y]){for(y>=C&&(C=y+1);!(D=h[C])&&++C<p;);R._next=D||null}}return l=new Tt(l,o),l._enter=a,l._exit=s,l}function ww(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function kw(){return new Tt(this._exit||this._groups.map(jc),this._parents)}function Cw(t,e,n){var o=this.enter(),i=this,r=this.exit();return typeof t=="function"?(o=t(o),o&&(o=o.selection())):o=o.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?r.remove():n(r),o&&i?o.merge(i).order():i}function Sw(t){for(var e=t.selection?t.selection():t,n=this._groups,o=e._groups,i=n.length,r=o.length,l=Math.min(i,r),a=new Array(i),s=0;s<l;++s)for(var u=n[s],f=o[s],c=u.length,d=a[s]=new Array(c),m,p=0;p<c;++p)(m=u[p]||f[p])&&(d[p]=m);for(;s<i;++s)a[s]=n[s];return new Tt(a,this._parents)}function Aw(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var o=t[e],i=o.length-1,r=o[i],l;--i>=0;)(l=o[i])&&(r&&l.compareDocumentPosition(r)^4&&r.parentNode.insertBefore(l,r),r=l);return this}function Tw(t){t||(t=Iw);function e(c,d){return c&&d?t(c.__data__,d.__data__):!c-!d}for(var n=this._groups,o=n.length,i=new Array(o),r=0;r<o;++r){for(var l=n[r],a=l.length,s=i[r]=new Array(a),u,f=0;f<a;++f)(u=l[f])&&(s[f]=u);s.sort(e)}return new Tt(i,this._parents).order()}function Iw(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Mw(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Ow(){return Array.from(this)}function Pw(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var o=t[e],i=0,r=o.length;i<r;++i){var l=o[i];if(l)return l}return null}function Nw(){let t=0;for(const e of this)++t;return t}function Ew(){return!this.node()}function $w(t){for(var e=this._groups,n=0,o=e.length;n<o;++n)for(var i=e[n],r=0,l=i.length,a;r<l;++r)(a=i[r])&&t.call(a,a.__data__,r,i);return this}function Rw(t){return function(){this.removeAttribute(t)}}function Lw(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Dw(t,e){return function(){this.setAttribute(t,e)}}function jw(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Fw(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function qw(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Bw(t,e){var n=lr(t);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((e==null?n.local?Lw:Rw:typeof e=="function"?n.local?qw:Fw:n.local?jw:Dw)(n,e))}function Fc(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Hw(t){return function(){this.style.removeProperty(t)}}function Gw(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Vw(t,e,n){return function(){var o=e.apply(this,arguments);o==null?this.style.removeProperty(t):this.style.setProperty(t,o,n)}}function Ww(t,e,n){return arguments.length>1?this.each((e==null?Hw:typeof e=="function"?Vw:Gw)(t,e,n??"")):co(this.node(),t)}function co(t,e){return t.style.getPropertyValue(e)||Fc(t).getComputedStyle(t,null).getPropertyValue(e)}function xw(t){return function(){delete this[t]}}function Yw(t,e){return function(){this[t]=e}}function Uw(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Kw(t,e){return arguments.length>1?this.each((e==null?xw:typeof e=="function"?Uw:Yw)(t,e)):this.node()[t]}function qc(t){return t.trim().split(/^|\s+/)}function Il(t){return t.classList||new Bc(t)}function Bc(t){this._node=t,this._names=qc(t.getAttribute("class")||"")}Bc.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Hc(t,e){for(var n=Il(t),o=-1,i=e.length;++o<i;)n.add(e[o])}function Gc(t,e){for(var n=Il(t),o=-1,i=e.length;++o<i;)n.remove(e[o])}function Jw(t){return function(){Hc(this,t)}}function Xw(t){return function(){Gc(this,t)}}function Zw(t,e){return function(){(e.apply(this,arguments)?Hc:Gc)(this,t)}}function Qw(t,e){var n=qc(t+"");if(arguments.length<2){for(var o=Il(this.node()),i=-1,r=n.length;++i<r;)if(!o.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?Zw:e?Jw:Xw)(n,e))}function zw(){this.textContent=""}function e2(t){return function(){this.textContent=t}}function t2(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function n2(t){return arguments.length?this.each(t==null?zw:(typeof t=="function"?t2:e2)(t)):this.node().textContent}function o2(){this.innerHTML=""}function i2(t){return function(){this.innerHTML=t}}function r2(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function l2(t){return arguments.length?this.each(t==null?o2:(typeof t=="function"?r2:i2)(t)):this.node().innerHTML}function s2(){this.nextSibling&&this.parentNode.appendChild(this)}function a2(){return this.each(s2)}function u2(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function f2(){return this.each(u2)}function c2(t){var e=typeof t=="function"?t:$c(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function d2(){return null}function m2(t,e){var n=typeof t=="function"?t:$c(t),o=e==null?d2:typeof e=="function"?e:Tl(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)})}function p2(){var t=this.parentNode;t&&t.removeChild(this)}function h2(){return this.each(p2)}function _2(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function g2(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function b2(t){return this.select(t?g2:_2)}function y2(t){return arguments.length?this.property("__data__",t):this.node().__data__}function v2(t){return function(e){t.call(this,e,this.__data__)}}function w2(t){return t.trim().split(/^|\s+/).map(function(e){var n="",o=e.indexOf(".");return o>=0&&(n=e.slice(o+1),e=e.slice(0,o)),{type:e,name:n}})}function k2(t){return function(){var e=this.__on;if(e){for(var n=0,o=-1,i=e.length,r;n<i;++n)r=e[n],(!t.type||r.type===t.type)&&r.name===t.name?this.removeEventListener(r.type,r.listener,r.options):e[++o]=r;++o?e.length=o:delete this.__on}}}function C2(t,e,n){return function(){var o=this.__on,i,r=v2(e);if(o){for(var l=0,a=o.length;l<a;++l)if((i=o[l]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=r,i.options=n),i.value=e;return}}this.addEventListener(t.type,r,n),i={type:t.type,name:t.name,value:e,listener:r,options:n},o?o.push(i):this.__on=[i]}}function S2(t,e,n){var o=w2(t+""),i,r=o.length,l;if(arguments.length<2){var a=this.node().__on;if(a){for(var s=0,u=a.length,f;s<u;++s)for(i=0,f=a[s];i<r;++i)if((l=o[i]).type===f.type&&l.name===f.name)return f.value}return}for(a=e?C2:k2,i=0;i<r;++i)this.each(a(o[i],e,n));return this}function Vc(t,e,n){var o=Fc(t),i=o.CustomEvent;typeof i=="function"?i=new i(e,n):(i=o.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function A2(t,e){return function(){return Vc(this,t,e)}}function T2(t,e){return function(){return Vc(this,t,e.apply(this,arguments))}}function I2(t,e){return this.each((typeof e=="function"?T2:A2)(t,e))}function*M2(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var o=t[e],i=0,r=o.length,l;i<r;++i)(l=o[i])&&(yield l)}var Wc=[null];function Tt(t,e){this._groups=t,this._parents=e}function ei(){return new Tt([[document.documentElement]],Wc)}function O2(){return this}Tt.prototype=ei.prototype={constructor:Tt,select:tw,selectAll:rw,selectChild:uw,selectChildren:mw,filter:pw,data:vw,enter:hw,exit:kw,join:Cw,merge:Sw,selection:O2,order:Aw,sort:Tw,call:Mw,nodes:Ow,node:Pw,size:Nw,empty:Ew,each:$w,attr:Bw,style:Ww,property:Kw,classed:Qw,text:n2,html:l2,raise:a2,lower:f2,append:c2,insert:m2,remove:h2,clone:b2,datum:y2,on:S2,dispatch:I2,[Symbol.iterator]:M2};function P2(t){return typeof t=="string"?new Tt([[document.querySelector(t)]],[document.documentElement]):new Tt([[t]],Wc)}function Ml(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function xc(t,e){var n=Object.create(t.prototype);for(var o in e)n[o]=e[o];return n}function ti(){}var Uo=.7,Hi=1/Uo,oo="\\s*([+-]?\\d+)\\s*",Ko="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Gt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",N2=/^#([0-9a-f]{3,8})$/,E2=new RegExp(`^rgb\\(${oo},${oo},${oo}\\)$`),$2=new RegExp(`^rgb\\(${Gt},${Gt},${Gt}\\)$`),R2=new RegExp(`^rgba\\(${oo},${oo},${oo},${Ko}\\)$`),L2=new RegExp(`^rgba\\(${Gt},${Gt},${Gt},${Ko}\\)$`),D2=new RegExp(`^hsl\\(${Ko},${Gt},${Gt}\\)$`),j2=new RegExp(`^hsla\\(${Ko},${Gt},${Gt},${Ko}\\)$`),Na={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ml(ti,jn,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Ea,formatHex:Ea,formatHex8:F2,formatHsl:q2,formatRgb:$a,toString:$a});function Ea(){return this.rgb().formatHex()}function F2(){return this.rgb().formatHex8()}function q2(){return Yc(this).formatHsl()}function $a(){return this.rgb().formatRgb()}function jn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=N2.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Ra(e):n===3?new bt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?ai(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?ai(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=E2.exec(t))?new bt(e[1],e[2],e[3],1):(e=$2.exec(t))?new bt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=R2.exec(t))?ai(e[1],e[2],e[3],e[4]):(e=L2.exec(t))?ai(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=D2.exec(t))?ja(e[1],e[2]/100,e[3]/100,1):(e=j2.exec(t))?ja(e[1],e[2]/100,e[3]/100,e[4]):Na.hasOwnProperty(t)?Ra(Na[t]):t==="transparent"?new bt(NaN,NaN,NaN,0):null}function Ra(t){return new bt(t>>16&255,t>>8&255,t&255,1)}function ai(t,e,n,o){return o<=0&&(t=e=n=NaN),new bt(t,e,n,o)}function B2(t){return t instanceof ti||(t=jn(t)),t?(t=t.rgb(),new bt(t.r,t.g,t.b,t.opacity)):new bt}function Jr(t,e,n,o){return arguments.length===1?B2(t):new bt(t,e,n,o??1)}function bt(t,e,n,o){this.r=+t,this.g=+e,this.b=+n,this.opacity=+o}Ml(bt,Jr,xc(ti,{brighter(t){return t=t==null?Hi:Math.pow(Hi,t),new bt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Uo:Math.pow(Uo,t),new bt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new bt(Pn(this.r),Pn(this.g),Pn(this.b),Gi(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:La,formatHex:La,formatHex8:H2,formatRgb:Da,toString:Da}));function La(){return`#${In(this.r)}${In(this.g)}${In(this.b)}`}function H2(){return`#${In(this.r)}${In(this.g)}${In(this.b)}${In((isNaN(this.opacity)?1:this.opacity)*255)}`}function Da(){const t=Gi(this.opacity);return`${t===1?"rgb(":"rgba("}${Pn(this.r)}, ${Pn(this.g)}, ${Pn(this.b)}${t===1?")":`, ${t})`}`}function Gi(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Pn(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function In(t){return t=Pn(t),(t<16?"0":"")+t.toString(16)}function ja(t,e,n,o){return o<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Rt(t,e,n,o)}function Yc(t){if(t instanceof Rt)return new Rt(t.h,t.s,t.l,t.opacity);if(t instanceof ti||(t=jn(t)),!t)return new Rt;if(t instanceof Rt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,o=t.b/255,i=Math.min(e,n,o),r=Math.max(e,n,o),l=NaN,a=r-i,s=(r+i)/2;return a?(e===r?l=(n-o)/a+(n<o)*6:n===r?l=(o-e)/a+2:l=(e-n)/a+4,a/=s<.5?r+i:2-r-i,l*=60):a=s>0&&s<1?0:l,new Rt(l,a,s,t.opacity)}function G2(t,e,n,o){return arguments.length===1?Yc(t):new Rt(t,e,n,o??1)}function Rt(t,e,n,o){this.h=+t,this.s=+e,this.l=+n,this.opacity=+o}Ml(Rt,G2,xc(ti,{brighter(t){return t=t==null?Hi:Math.pow(Hi,t),new Rt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Uo:Math.pow(Uo,t),new Rt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*e,i=2*n-o;return new bt(Ir(t>=240?t-240:t+120,i,o),Ir(t,i,o),Ir(t<120?t+240:t-120,i,o),this.opacity)},clamp(){return new Rt(Fa(this.h),ui(this.s),ui(this.l),Gi(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Gi(this.opacity);return`${t===1?"hsl(":"hsla("}${Fa(this.h)}, ${ui(this.s)*100}%, ${ui(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Fa(t){return t=(t||0)%360,t<0?t+360:t}function ui(t){return Math.max(0,Math.min(1,t||0))}function Ir(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Ol=t=>()=>t;function V2(t,e){return function(n){return t+n*e}}function W2(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(o){return Math.pow(t+o*e,n)}}function x2(t){return(t=+t)==1?Uc:function(e,n){return n-e?W2(e,n,t):Ol(isNaN(e)?n:e)}}function Uc(t,e){var n=e-t;return n?V2(t,n):Ol(isNaN(t)?e:t)}const Vi=function t(e){var n=x2(e);function o(i,r){var l=n((i=Jr(i)).r,(r=Jr(r)).r),a=n(i.g,r.g),s=n(i.b,r.b),u=Uc(i.opacity,r.opacity);return function(f){return i.r=l(f),i.g=a(f),i.b=s(f),i.opacity=u(f),i+""}}return o.gamma=t,o}(1);function Y2(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,o=e.slice(),i;return function(r){for(i=0;i<n;++i)o[i]=t[i]*(1-r)+e[i]*r;return o}}function U2(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function K2(t,e){var n=e?e.length:0,o=t?Math.min(n,t.length):0,i=new Array(o),r=new Array(n),l;for(l=0;l<o;++l)i[l]=Pl(t[l],e[l]);for(;l<n;++l)r[l]=e[l];return function(a){for(l=0;l<o;++l)r[l]=i[l](a);return r}}function J2(t,e){var n=new Date;return t=+t,e=+e,function(o){return n.setTime(t*(1-o)+e*o),n}}function $t(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function X2(t,e){var n={},o={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Pl(t[i],e[i]):o[i]=e[i];return function(r){for(i in n)o[i]=n[i](r);return o}}var Xr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Mr=new RegExp(Xr.source,"g");function Z2(t){return function(){return t}}function Q2(t){return function(e){return t(e)+""}}function Kc(t,e){var n=Xr.lastIndex=Mr.lastIndex=0,o,i,r,l=-1,a=[],s=[];for(t=t+"",e=e+"";(o=Xr.exec(t))&&(i=Mr.exec(e));)(r=i.index)>n&&(r=e.slice(n,r),a[l]?a[l]+=r:a[++l]=r),(o=o[0])===(i=i[0])?a[l]?a[l]+=i:a[++l]=i:(a[++l]=null,s.push({i:l,x:$t(o,i)})),n=Mr.lastIndex;return n<e.length&&(r=e.slice(n),a[l]?a[l]+=r:a[++l]=r),a.length<2?s[0]?Q2(s[0].x):Z2(e):(e=s.length,function(u){for(var f=0,c;f<e;++f)a[(c=s[f]).i]=c.x(u);return a.join("")})}function Pl(t,e){var n=typeof e,o;return e==null||n==="boolean"?Ol(e):(n==="number"?$t:n==="string"?(o=jn(e))?(e=o,Vi):Kc:e instanceof jn?Vi:e instanceof Date?J2:U2(e)?Y2:Array.isArray(e)?K2:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?X2:$t)(t,e)}function z2(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var qa=180/Math.PI,Zr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Jc(t,e,n,o,i,r){var l,a,s;return(l=Math.sqrt(t*t+e*e))&&(t/=l,e/=l),(s=t*n+e*o)&&(n-=t*s,o-=e*s),(a=Math.sqrt(n*n+o*o))&&(n/=a,o/=a,s/=a),t*o<e*n&&(t=-t,e=-e,s=-s,l=-l),{translateX:i,translateY:r,rotate:Math.atan2(e,t)*qa,skewX:Math.atan(s)*qa,scaleX:l,scaleY:a}}var fi;function ek(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Zr:Jc(e.a,e.b,e.c,e.d,e.e,e.f)}function tk(t){return t==null||(fi||(fi=document.createElementNS("http://www.w3.org/2000/svg","g")),fi.setAttribute("transform",t),!(t=fi.transform.baseVal.consolidate()))?Zr:(t=t.matrix,Jc(t.a,t.b,t.c,t.d,t.e,t.f))}function Xc(t,e,n,o){function i(u){return u.length?u.pop()+" ":""}function r(u,f,c,d,m,p){if(u!==c||f!==d){var _=m.push("translate(",null,e,null,n);p.push({i:_-4,x:$t(u,c)},{i:_-2,x:$t(f,d)})}else(c||d)&&m.push("translate("+c+e+d+n)}function l(u,f,c,d){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),d.push({i:c.push(i(c)+"rotate(",null,o)-2,x:$t(u,f)})):f&&c.push(i(c)+"rotate("+f+o)}function a(u,f,c,d){u!==f?d.push({i:c.push(i(c)+"skewX(",null,o)-2,x:$t(u,f)}):f&&c.push(i(c)+"skewX("+f+o)}function s(u,f,c,d,m,p){if(u!==c||f!==d){var _=m.push(i(m)+"scale(",null,",",null,")");p.push({i:_-4,x:$t(u,c)},{i:_-2,x:$t(f,d)})}else(c!==1||d!==1)&&m.push(i(m)+"scale("+c+","+d+")")}return function(u,f){var c=[],d=[];return u=t(u),f=t(f),r(u.translateX,u.translateY,f.translateX,f.translateY,c,d),l(u.rotate,f.rotate,c,d),a(u.skewX,f.skewX,c,d),s(u.scaleX,u.scaleY,f.scaleX,f.scaleY,c,d),u=f=null,function(m){for(var p=-1,_=d.length,h;++p<_;)c[(h=d[p]).i]=h.x(m);return c.join("")}}}var nk=Xc(ek,"px, ","px)","deg)"),ok=Xc(tk,", ",")",")"),mo=0,Lo=0,No=0,Zc=1e3,Wi,Do,xi=0,Fn=0,sr=0,Jo=typeof performance=="object"&&performance.now?performance:Date,Qc=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Nl(){return Fn||(Qc(ik),Fn=Jo.now()+sr)}function ik(){Fn=0}function Yi(){this._call=this._time=this._next=null}Yi.prototype=zc.prototype={constructor:Yi,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Nl():+n)+(e==null?0:+e),!this._next&&Do!==this&&(Do?Do._next=this:Wi=this,Do=this),this._call=t,this._time=n,Qr()},stop:function(){this._call&&(this._call=null,this._time=1/0,Qr())}};function zc(t,e,n){var o=new Yi;return o.restart(t,e,n),o}function rk(){Nl(),++mo;for(var t=Wi,e;t;)(e=Fn-t._time)>=0&&t._call.call(void 0,e),t=t._next;--mo}function Ba(){Fn=(xi=Jo.now())+sr,mo=Lo=0;try{rk()}finally{mo=0,sk(),Fn=0}}function lk(){var t=Jo.now(),e=t-xi;e>Zc&&(sr-=e,xi=t)}function sk(){for(var t,e=Wi,n,o=1/0;e;)e._call?(o>e._time&&(o=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Wi=n);Do=t,Qr(o)}function Qr(t){if(!mo){Lo&&(Lo=clearTimeout(Lo));var e=t-Fn;e>24?(t<1/0&&(Lo=setTimeout(Ba,t-Jo.now()-sr)),No&&(No=clearInterval(No))):(No||(xi=Jo.now(),No=setInterval(lk,Zc)),mo=1,Qc(Ba))}}function Ha(t,e,n){var o=new Yi;return e=e==null?0:+e,o.restart(i=>{o.stop(),t(i+e)},e,n),o}var ak=Ec("start","end","cancel","interrupt"),uk=[],ed=0,Ga=1,zr=2,bi=3,Va=4,el=5,yi=6;function ar(t,e,n,o,i,r){var l=t.__transition;if(!l)t.__transition={};else if(n in l)return;fk(t,n,{name:e,index:o,group:i,on:ak,tween:uk,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:ed})}function El(t,e){var n=Ft(t,e);if(n.state>ed)throw new Error("too late; already scheduled");return n}function Kt(t,e){var n=Ft(t,e);if(n.state>bi)throw new Error("too late; already running");return n}function Ft(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function fk(t,e,n){var o=t.__transition,i;o[e]=n,n.timer=zc(r,0,n.time);function r(u){n.state=Ga,n.timer.restart(l,n.delay,n.time),n.delay<=u&&l(u-n.delay)}function l(u){var f,c,d,m;if(n.state!==Ga)return s();for(f in o)if(m=o[f],m.name===n.name){if(m.state===bi)return Ha(l);m.state===Va?(m.state=yi,m.timer.stop(),m.on.call("interrupt",t,t.__data__,m.index,m.group),delete o[f]):+f<e&&(m.state=yi,m.timer.stop(),m.on.call("cancel",t,t.__data__,m.index,m.group),delete o[f])}if(Ha(function(){n.state===bi&&(n.state=Va,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=zr,n.on.call("start",t,t.__data__,n.index,n.group),n.state===zr){for(n.state=bi,i=new Array(d=n.tween.length),f=0,c=-1;f<d;++f)(m=n.tween[f].value.call(t,t.__data__,n.index,n.group))&&(i[++c]=m);i.length=c+1}}function a(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(s),n.state=el,1),c=-1,d=i.length;++c<d;)i[c].call(t,f);n.state===el&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){n.state=yi,n.timer.stop(),delete o[e];for(var u in o)return;delete t.__transition}}function ck(t,e){var n=t.__transition,o,i,r=!0,l;if(n){e=e==null?null:e+"";for(l in n){if((o=n[l]).name!==e){r=!1;continue}i=o.state>zr&&o.state<el,o.state=yi,o.timer.stop(),o.on.call(i?"interrupt":"cancel",t,t.__data__,o.index,o.group),delete n[l]}r&&delete t.__transition}}function dk(t){return this.each(function(){ck(this,t)})}function mk(t,e){var n,o;return function(){var i=Kt(this,t),r=i.tween;if(r!==n){o=n=r;for(var l=0,a=o.length;l<a;++l)if(o[l].name===e){o=o.slice(),o.splice(l,1);break}}i.tween=o}}function pk(t,e,n){var o,i;if(typeof n!="function")throw new Error;return function(){var r=Kt(this,t),l=r.tween;if(l!==o){i=(o=l).slice();for(var a={name:e,value:n},s=0,u=i.length;s<u;++s)if(i[s].name===e){i[s]=a;break}s===u&&i.push(a)}r.tween=i}}function hk(t,e){var n=this._id;if(t+="",arguments.length<2){for(var o=Ft(this.node(),n).tween,i=0,r=o.length,l;i<r;++i)if((l=o[i]).name===t)return l.value;return null}return this.each((e==null?mk:pk)(n,t,e))}function $l(t,e,n){var o=t._id;return t.each(function(){var i=Kt(this,o);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return Ft(i,o).value[e]}}function td(t,e){var n;return(typeof e=="number"?$t:e instanceof jn?Vi:(n=jn(e))?(e=n,Vi):Kc)(t,e)}function _k(t){return function(){this.removeAttribute(t)}}function gk(t){return function(){this.removeAttributeNS(t.space,t.local)}}function bk(t,e,n){var o,i=n+"",r;return function(){var l=this.getAttribute(t);return l===i?null:l===o?r:r=e(o=l,n)}}function yk(t,e,n){var o,i=n+"",r;return function(){var l=this.getAttributeNS(t.space,t.local);return l===i?null:l===o?r:r=e(o=l,n)}}function vk(t,e,n){var o,i,r;return function(){var l,a=n(this),s;return a==null?void this.removeAttribute(t):(l=this.getAttribute(t),s=a+"",l===s?null:l===o&&s===i?r:(i=s,r=e(o=l,a)))}}function wk(t,e,n){var o,i,r;return function(){var l,a=n(this),s;return a==null?void this.removeAttributeNS(t.space,t.local):(l=this.getAttributeNS(t.space,t.local),s=a+"",l===s?null:l===o&&s===i?r:(i=s,r=e(o=l,a)))}}function kk(t,e){var n=lr(t),o=n==="transform"?ok:td;return this.attrTween(t,typeof e=="function"?(n.local?wk:vk)(n,o,$l(this,"attr."+t,e)):e==null?(n.local?gk:_k)(n):(n.local?yk:bk)(n,o,e))}function Ck(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Sk(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Ak(t,e){var n,o;function i(){var r=e.apply(this,arguments);return r!==o&&(n=(o=r)&&Sk(t,r)),n}return i._value=e,i}function Tk(t,e){var n,o;function i(){var r=e.apply(this,arguments);return r!==o&&(n=(o=r)&&Ck(t,r)),n}return i._value=e,i}function Ik(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var o=lr(t);return this.tween(n,(o.local?Ak:Tk)(o,e))}function Mk(t,e){return function(){El(this,t).delay=+e.apply(this,arguments)}}function Ok(t,e){return e=+e,function(){El(this,t).delay=e}}function Pk(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Mk:Ok)(e,t)):Ft(this.node(),e).delay}function Nk(t,e){return function(){Kt(this,t).duration=+e.apply(this,arguments)}}function Ek(t,e){return e=+e,function(){Kt(this,t).duration=e}}function $k(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Nk:Ek)(e,t)):Ft(this.node(),e).duration}function Rk(t,e){if(typeof e!="function")throw new Error;return function(){Kt(this,t).ease=e}}function Lk(t){var e=this._id;return arguments.length?this.each(Rk(e,t)):Ft(this.node(),e).ease}function Dk(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Kt(this,t).ease=n}}function jk(t){if(typeof t!="function")throw new Error;return this.each(Dk(this._id,t))}function Fk(t){typeof t!="function"&&(t=Lc(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var r=e[i],l=r.length,a=o[i]=[],s,u=0;u<l;++u)(s=r[u])&&t.call(s,s.__data__,u,r)&&a.push(s);return new tn(o,this._parents,this._name,this._id)}function qk(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,o=e.length,i=n.length,r=Math.min(o,i),l=new Array(o),a=0;a<r;++a)for(var s=e[a],u=n[a],f=s.length,c=l[a]=new Array(f),d,m=0;m<f;++m)(d=s[m]||u[m])&&(c[m]=d);for(;a<o;++a)l[a]=e[a];return new tn(l,this._parents,this._name,this._id)}function Bk(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Hk(t,e,n){var o,i,r=Bk(e)?El:Kt;return function(){var l=r(this,t),a=l.on;a!==o&&(i=(o=a).copy()).on(e,n),l.on=i}}function Gk(t,e){var n=this._id;return arguments.length<2?Ft(this.node(),n).on.on(t):this.each(Hk(n,t,e))}function Vk(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Wk(){return this.on("end.remove",Vk(this._id))}function xk(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Tl(t));for(var o=this._groups,i=o.length,r=new Array(i),l=0;l<i;++l)for(var a=o[l],s=a.length,u=r[l]=new Array(s),f,c,d=0;d<s;++d)(f=a[d])&&(c=t.call(f,f.__data__,d,a))&&("__data__"in f&&(c.__data__=f.__data__),u[d]=c,ar(u[d],e,n,d,u,Ft(f,n)));return new tn(r,this._parents,e,n)}function Yk(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Rc(t));for(var o=this._groups,i=o.length,r=[],l=[],a=0;a<i;++a)for(var s=o[a],u=s.length,f,c=0;c<u;++c)if(f=s[c]){for(var d=t.call(f,f.__data__,c,s),m,p=Ft(f,n),_=0,h=d.length;_<h;++_)(m=d[_])&&ar(m,e,n,_,d,p);r.push(d),l.push(f)}return new tn(r,l,e,n)}var Uk=ei.prototype.constructor;function Kk(){return new Uk(this._groups,this._parents)}function Jk(t,e){var n,o,i;return function(){var r=co(this,t),l=(this.style.removeProperty(t),co(this,t));return r===l?null:r===n&&l===o?i:i=e(n=r,o=l)}}function nd(t){return function(){this.style.removeProperty(t)}}function Xk(t,e,n){var o,i=n+"",r;return function(){var l=co(this,t);return l===i?null:l===o?r:r=e(o=l,n)}}function Zk(t,e,n){var o,i,r;return function(){var l=co(this,t),a=n(this),s=a+"";return a==null&&(s=a=(this.style.removeProperty(t),co(this,t))),l===s?null:l===o&&s===i?r:(i=s,r=e(o=l,a))}}function Qk(t,e){var n,o,i,r="style."+e,l="end."+r,a;return function(){var s=Kt(this,t),u=s.on,f=s.value[r]==null?a||(a=nd(e)):void 0;(u!==n||i!==f)&&(o=(n=u).copy()).on(l,i=f),s.on=o}}function zk(t,e,n){var o=(t+="")=="transform"?nk:td;return e==null?this.styleTween(t,Jk(t,o)).on("end.style."+t,nd(t)):typeof e=="function"?this.styleTween(t,Zk(t,o,$l(this,"style."+t,e))).each(Qk(this._id,t)):this.styleTween(t,Xk(t,o,e),n).on("end.style."+t,null)}function e5(t,e,n){return function(o){this.style.setProperty(t,e.call(this,o),n)}}function t5(t,e,n){var o,i;function r(){var l=e.apply(this,arguments);return l!==i&&(o=(i=l)&&e5(t,l,n)),o}return r._value=e,r}function n5(t,e,n){var o="style."+(t+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(e==null)return this.tween(o,null);if(typeof e!="function")throw new Error;return this.tween(o,t5(t,e,n??""))}function o5(t){return function(){this.textContent=t}}function i5(t){return function(){var e=t(this);this.textContent=e??""}}function r5(t){return this.tween("text",typeof t=="function"?i5($l(this,"text",t)):o5(t==null?"":t+""))}function l5(t){return function(e){this.textContent=t.call(this,e)}}function s5(t){var e,n;function o(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&l5(i)),e}return o._value=t,o}function a5(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,s5(t))}function u5(){for(var t=this._name,e=this._id,n=od(),o=this._groups,i=o.length,r=0;r<i;++r)for(var l=o[r],a=l.length,s,u=0;u<a;++u)if(s=l[u]){var f=Ft(s,e);ar(s,t,n,u,l,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new tn(o,this._parents,t,n)}function f5(){var t,e,n=this,o=n._id,i=n.size();return new Promise(function(r,l){var a={value:l},s={value:function(){--i===0&&r()}};n.each(function(){var u=Kt(this,o),f=u.on;f!==t&&(e=(t=f).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(s)),u.on=e}),i===0&&r()})}var c5=0;function tn(t,e,n,o){this._groups=t,this._parents=e,this._name=n,this._id=o}function od(){return++c5}var Xt=ei.prototype;tn.prototype={constructor:tn,select:xk,selectAll:Yk,selectChild:Xt.selectChild,selectChildren:Xt.selectChildren,filter:Fk,merge:qk,selection:Kk,transition:u5,call:Xt.call,nodes:Xt.nodes,node:Xt.node,size:Xt.size,empty:Xt.empty,each:Xt.each,on:Gk,attr:kk,attrTween:Ik,style:zk,styleTween:n5,text:r5,textTween:a5,remove:Wk,tween:hk,delay:Pk,duration:$k,ease:Lk,easeVarying:jk,end:f5,[Symbol.iterator]:Xt[Symbol.iterator]};function d5(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var m5={time:null,delay:0,duration:250,ease:d5};function p5(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function h5(t){var e,n;t instanceof tn?(e=t._id,t=t._name):(e=od(),(n=m5).time=Nl(),t=t==null?null:t+"");for(var o=this._groups,i=o.length,r=0;r<i;++r)for(var l=o[r],a=l.length,s,u=0;u<a;++u)(s=l[u])&&ar(s,t,e,u,l,n||p5(s,e));return new tn(o,this._parents,t,e)}ei.prototype.interrupt=dk;ei.prototype.transition=h5;const tl=Math.PI,nl=2*tl,Sn=1e-6,_5=nl-Sn;function id(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function g5(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return id;const n=10**e;return function(o){this._+=o[0];for(let i=1,r=o.length;i<r;++i)this._+=Math.round(arguments[i]*n)/n+o[i]}}class b5{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?id:g5(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,o,i){this._append`Q${+e},${+n},${this._x1=+o},${this._y1=+i}`}bezierCurveTo(e,n,o,i,r,l){this._append`C${+e},${+n},${+o},${+i},${this._x1=+r},${this._y1=+l}`}arcTo(e,n,o,i,r){if(e=+e,n=+n,o=+o,i=+i,r=+r,r<0)throw new Error(`negative radius: ${r}`);let l=this._x1,a=this._y1,s=o-e,u=i-n,f=l-e,c=a-n,d=f*f+c*c;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(d>Sn)if(!(Math.abs(c*s-u*f)>Sn)||!r)this._append`L${this._x1=e},${this._y1=n}`;else{let m=o-l,p=i-a,_=s*s+u*u,h=m*m+p*p,w=Math.sqrt(_),y=Math.sqrt(d),C=r*Math.tan((tl-Math.acos((_+d-h)/(2*w*y)))/2),R=C/y,D=C/w;Math.abs(R-1)>Sn&&this._append`L${e+R*f},${n+R*c}`,this._append`A${r},${r},0,0,${+(c*m>f*p)},${this._x1=e+D*s},${this._y1=n+D*u}`}}arc(e,n,o,i,r,l){if(e=+e,n=+n,o=+o,l=!!l,o<0)throw new Error(`negative radius: ${o}`);let a=o*Math.cos(i),s=o*Math.sin(i),u=e+a,f=n+s,c=1^l,d=l?i-r:r-i;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>Sn||Math.abs(this._y1-f)>Sn)&&this._append`L${u},${f}`,o&&(d<0&&(d=d%nl+nl),d>_5?this._append`A${o},${o},0,1,${c},${e-a},${n-s}A${o},${o},0,1,${c},${this._x1=u},${this._y1=f}`:d>Sn&&this._append`A${o},${o},0,${+(d>=tl)},${c},${this._x1=e+o*Math.cos(r)},${this._y1=n+o*Math.sin(r)}`)}rect(e,n,o,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${o=+o}v${+i}h${-o}Z`}toString(){return this._}}function y5(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Ui(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,o=t.slice(0,n);return[o.length>1?o[0]+o.slice(2):o,+t.slice(n+1)]}function po(t){return t=Ui(Math.abs(t)),t?t[1]:NaN}function v5(t,e){return function(n,o){for(var i=n.length,r=[],l=0,a=t[0],s=0;i>0&&a>0&&(s+a+1>o&&(a=Math.max(1,o-s)),r.push(n.substring(i-=a,i+a)),!((s+=a+1)>o));)a=t[l=(l+1)%t.length];return r.reverse().join(e)}}function w5(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var k5=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ki(t){if(!(e=k5.exec(t)))throw new Error("invalid format: "+t);var e;return new Rl({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Ki.prototype=Rl.prototype;function Rl(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Rl.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function C5(t){e:for(var e=t.length,n=1,o=-1,i;n<e;++n)switch(t[n]){case".":o=i=n;break;case"0":o===0&&(o=n),i=n;break;default:if(!+t[n])break e;o>0&&(o=0);break}return o>0?t.slice(0,o)+t.slice(i+1):t}var rd;function S5(t,e){var n=Ui(t,e);if(!n)return t+"";var o=n[0],i=n[1],r=i-(rd=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=o.length;return r===l?o:r>l?o+new Array(r-l+1).join("0"):r>0?o.slice(0,r)+"."+o.slice(r):"0."+new Array(1-r).join("0")+Ui(t,Math.max(0,e+r-1))[0]}function Wa(t,e){var n=Ui(t,e);if(!n)return t+"";var o=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+o:o.length>i+1?o.slice(0,i+1)+"."+o.slice(i+1):o+new Array(i-o.length+2).join("0")}const xa={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:y5,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Wa(t*100,e),r:Wa,s:S5,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Ya(t){return t}var Ua=Array.prototype.map,Ka=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function A5(t){var e=t.grouping===void 0||t.thousands===void 0?Ya:v5(Ua.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",o=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",r=t.numerals===void 0?Ya:w5(Ua.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"−":t.minus+"",s=t.nan===void 0?"NaN":t.nan+"";function u(c){c=Ki(c);var d=c.fill,m=c.align,p=c.sign,_=c.symbol,h=c.zero,w=c.width,y=c.comma,C=c.precision,R=c.trim,D=c.type;D==="n"?(y=!0,D="g"):xa[D]||(C===void 0&&(C=12),R=!0,D="g"),(h||d==="0"&&m==="=")&&(h=!0,d="0",m="=");var F=_==="$"?n:_==="#"&&/[boxX]/.test(D)?"0"+D.toLowerCase():"",N=_==="$"?o:/[%p]/.test(D)?l:"",P=xa[D],E=/[defgprs%]/.test(D);C=C===void 0?6:/[gprs]/.test(D)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function q(O){var v=F,I=N,L,B,j;if(D==="c")I=P(O)+I,O="";else{O=+O;var K=O<0||1/O<0;if(O=isNaN(O)?s:P(Math.abs(O),C),R&&(O=C5(O)),K&&+O==0&&p!=="+"&&(K=!1),v=(K?p==="("?p:a:p==="-"||p==="("?"":p)+v,I=(D==="s"?Ka[8+rd/3]:"")+I+(K&&p==="("?")":""),E){for(L=-1,B=O.length;++L<B;)if(j=O.charCodeAt(L),48>j||j>57){I=(j===46?i+O.slice(L+1):O.slice(L))+I,O=O.slice(0,L);break}}}y&&!h&&(O=e(O,1/0));var X=v.length+O.length+I.length,z=X<w?new Array(w-X+1).join(d):"";switch(y&&h&&(O=e(z+O,z.length?w-I.length:1/0),z=""),m){case"<":O=v+O+I+z;break;case"=":O=v+z+O+I;break;case"^":O=z.slice(0,X=z.length>>1)+v+O+I+z.slice(X);break;default:O=z+v+O+I;break}return r(O)}return q.toString=function(){return c+""},q}function f(c,d){var m=u((c=Ki(c),c.type="f",c)),p=Math.max(-8,Math.min(8,Math.floor(po(d)/3)))*3,_=Math.pow(10,-p),h=Ka[8+p/3];return function(w){return m(_*w)+h}}return{format:u,formatPrefix:f}}var ci,ld,sd;T5({thousands:",",grouping:[3],currency:["$",""]});function T5(t){return ci=A5(t),ld=ci.format,sd=ci.formatPrefix,ci}function I5(t){return Math.max(0,-po(Math.abs(t)))}function M5(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(po(e)/3)))*3-po(Math.abs(t)))}function O5(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,po(e)-po(t))+1}function P5(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function N5(t){return function(){return t}}function E5(t){return+t}var Ja=[0,1];function Zn(t){return t}function ol(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:N5(isNaN(e)?NaN:.5)}function $5(t,e){var n;return t>e&&(n=t,t=e,e=n),function(o){return Math.max(t,Math.min(e,o))}}function R5(t,e,n){var o=t[0],i=t[1],r=e[0],l=e[1];return i<o?(o=ol(i,o),r=n(l,r)):(o=ol(o,i),r=n(r,l)),function(a){return r(o(a))}}function L5(t,e,n){var o=Math.min(t.length,e.length)-1,i=new Array(o),r=new Array(o),l=-1;for(t[o]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<o;)i[l]=ol(t[l],t[l+1]),r[l]=n(e[l],e[l+1]);return function(a){var s=Lv(t,a,1,o)-1;return r[s](i[s](a))}}function D5(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function j5(){var t=Ja,e=Ja,n=Pl,o,i,r,l=Zn,a,s,u;function f(){var d=Math.min(t.length,e.length);return l!==Zn&&(l=$5(t[0],t[d-1])),a=d>2?L5:R5,s=u=null,c}function c(d){return d==null||isNaN(d=+d)?r:(s||(s=a(t.map(o),e,n)))(o(l(d)))}return c.invert=function(d){return l(i((u||(u=a(e,t.map(o),$t)))(d)))},c.domain=function(d){return arguments.length?(t=Array.from(d,E5),f()):t.slice()},c.range=function(d){return arguments.length?(e=Array.from(d),f()):e.slice()},c.rangeRound=function(d){return e=Array.from(d),n=z2,f()},c.clamp=function(d){return arguments.length?(l=d?!0:Zn,f()):l!==Zn},c.interpolate=function(d){return arguments.length?(n=d,f()):n},c.unknown=function(d){return arguments.length?(r=d,c):r},function(d,m){return o=d,i=m,f()}}function F5(){return j5()(Zn,Zn)}function q5(t,e,n,o){var i=Bv(t,e,n),r;switch(o=Ki(o??",f"),o.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return o.precision==null&&!isNaN(r=M5(i,l))&&(o.precision=r),sd(o,l)}case"":case"e":case"g":case"p":case"r":{o.precision==null&&!isNaN(r=O5(i,Math.max(Math.abs(t),Math.abs(e))))&&(o.precision=r-(o.type==="e"));break}case"f":case"%":{o.precision==null&&!isNaN(r=I5(i))&&(o.precision=r-(o.type==="%")*2);break}}return ld(o)}function B5(t){var e=t.domain;return t.ticks=function(n){var o=e();return qv(o[0],o[o.length-1],n??10)},t.tickFormat=function(n,o){var i=e();return q5(i[0],i[i.length-1],n??10,o)},t.nice=function(n){n==null&&(n=10);var o=e(),i=0,r=o.length-1,l=o[i],a=o[r],s,u,f=10;for(a<l&&(u=l,l=a,a=u,u=i,i=r,r=u);f-- >0;){if(u=Yr(l,a,n),u===s)return o[i]=l,o[r]=a,e(o);if(u>0)l=Math.floor(l/u)*u,a=Math.ceil(a/u)*u;else if(u<0)l=Math.ceil(l*u)/u,a=Math.floor(a*u)/u;else break;s=u}return t},t}function il(){var t=F5();return t.copy=function(){return D5(t,il())},P5.apply(t,arguments),B5(t)}function Kn(t){return function(){return t}}function H5(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const o=Math.floor(n);if(!(o>=0))throw new RangeError(`invalid digits: ${n}`);e=o}return t},()=>new b5(e)}function G5(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function ad(t){this._context=t}ad.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function V5(t){return new ad(t)}function W5(t){return t[0]}function x5(t){return t[1]}function Or(t,e){var n=Kn(!0),o=null,i=V5,r=null,l=H5(a);t=typeof t=="function"?t:t===void 0?W5:Kn(t),e=typeof e=="function"?e:e===void 0?x5:Kn(e);function a(s){var u,f=(s=G5(s)).length,c,d=!1,m;for(o==null&&(r=i(m=l())),u=0;u<=f;++u)!(u<f&&n(c=s[u],u,s))===d&&((d=!d)?r.lineStart():r.lineEnd()),d&&r.point(+t(c,u,s),+e(c,u,s));if(m)return r=null,m+""||null}return a.x=function(s){return arguments.length?(t=typeof s=="function"?s:Kn(+s),a):t},a.y=function(s){return arguments.length?(e=typeof s=="function"?s:Kn(+s),a):e},a.defined=function(s){return arguments.length?(n=typeof s=="function"?s:Kn(!!s),a):n},a.curve=function(s){return arguments.length?(i=s,o!=null&&(r=i(o)),a):i},a.context=function(s){return arguments.length?(s==null?o=r=null:r=i(o=s),a):o},a}function jo(t,e,n){this.k=t,this.x=e,this.y=n}jo.prototype={constructor:jo,scale:function(t){return t===1?this:new jo(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new jo(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};jo.prototype;function Y5(t){let e;return{c(){e=Zi("svg"),$(e,"id","line-chart")},m(n,o){T(n,e,o)},p:Te,i:Te,o:Te,d(n){n&&A(e)}}}const Xa=52;function U5(t,e,n){let{data:o=[]}=e,i,r,l;const a={top:10,right:30,bottom:10,left:20},s=500-a.left-a.right,u=400-a.top-a.bottom;Or().x((p,_)=>r(_)).y(p=>l(p)),Zo(()=>{n(1,i=P2("#line-chart").attr("width",s+a.left+a.right).attr("height",u+a.top+a.bottom)),r=il().range([0,s]),l=il().range([u,0]),o.length&&f()});function f(){const p=o.length>Xa?o.slice(-Xa):o;c(p),d(p),m()}function c(p){i.selectAll(".line").remove();const _=Or().defined(w=>w>-5).x((w,y)=>r(y)).y(w=>l(w)),h=Or().defined(w=>w<0).x((w,y)=>r(y)).y(w=>l(w));i.append("path").datum(p).attr("class","line positive").attr("d",_).attr("transform",`translate(${a.left},${a.top})`).attr("fill","none").attr("stroke","green").attr("stroke-width",2),i.append("path").datum(p).attr("class","line negative").attr("d",h).attr("transform",`translate(${a.left},${a.top})`).attr("fill","none").attr("stroke","red").attr("stroke-width",2)}function d(p){const _=Math.max(0,...p),h=Math.min(0,...p);r.domain([0,p.length-1]),l.domain([h,_]).nice()}function m(p){const _=Uv(r).ticks(0),h=Kv(l).ticks(10);i.selectAll(".axis").remove(),i.append("g").attr("class","axis x-axis").attr("transform",`translate(${a.left},${u+a.top})`).call(_),i.append("g").attr("class","axis y-axis").attr("transform",`translate(${a.left},${a.top})`).call(h)}return t.$$set=p=>{"data"in p&&n(0,o=p.data)},t.$$.update=()=>{t.$$.dirty&3&&o&&i&&f()},[o,i]}class K5 extends he{constructor(e){super(),pe(this,e,U5,Y5,de,{data:0})}}function J5(t){let e,n=t[1].townInfo.knowledge_points+"",o,i;return{c(){e=V("Manage your Knowledge ("),o=V(n),i=V(" pts)")},m(r,l){T(r,e,l),T(r,o,l),T(r,i,l)},p(r,l){l&2&&n!==(n=r[1].townInfo.knowledge_points+"")&&ue(o,n)},d(r){r&&(A(e),A(o),A(i))}}}function X5(t){let e,n,o,i;return e=new rn({props:{$$slots:{default:[J5]},$$scope:{ctx:t}}}),o=new Gn({}),{c(){U(e.$$.fragment),n=H(),U(o.$$.fragment)},m(r,l){x(e,r,l),T(r,n,l),x(o,r,l),i=!0},p(r,l){const a={};l&130&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&A(n),Y(e,r),Y(o,r)}}}function Za(t){let e,n,o=tu(t[1].townInfo.knowledge_points*t[3])+"",i,r;return{c(){e=M("br"),n=V(`
          (total value: $`),i=V(o),r=V(")")},m(l,a){T(l,e,a),T(l,n,a),T(l,i,a),T(l,r,a)},p(l,a){a&10&&o!==(o=tu(l[1].townInfo.knowledge_points*l[3])+"")&&ue(i,o)},d(l){l&&(A(e),A(n),A(i),A(r))}}}function Qa(t){let e;return{c(){e=M("div"),e.innerHTML=`Wait until the market value is <span class="text-green-500">positive</span> to sell your Knowledge for Gold. Keep in mind that you need a bank to
          convert.`},m(n,o){T(n,e,o)},d(n){n&&A(e)}}}function za(t){let e,n,o;return n=new At({props:{variant:"default",$$slots:{default:[Z5]},$$scope:{ctx:t}}}),n.$on("click",t[0]),{c(){e=M("div"),U(n.$$.fragment)},m(i,r){T(i,e,r),x(n,e,null),o=!0},p(i,r){const l={};r&128&&(l.$$scope={dirty:r,ctx:i}),n.$set(l)},i(i){o||(k(n.$$.fragment,i),o=!0)},o(i){S(n.$$.fragment,i),o=!1},d(i){i&&A(e),Y(n)}}}function Z5(t){let e;return{c(){e=V("Convert Knowledge to Gold")},m(n,o){T(n,e,o)},d(n){n&&A(e)}}}function eu(t){let e;return{c(){e=M("div"),e.textContent="You need a bank to convert knowledge to gold."},m(n,o){T(n,e,o)},d(n){n&&A(e)}}}function Q5(t){let e,n,o,i,r,l,a,s,u=(t[3]??0)+"",f,c,d,m,p,_,h,w,y,C,R,D;e=new ln({props:{$$slots:{default:[X5]},$$scope:{ctx:t}}});let F=t[3]>0&&Za(t);_=new K5({props:{data:t[2]}});let N=t[3]<0&&Qa(),P=t[1].hasBank&&t[3]>0&&za(t),E=t[1].hasBank===!1&&eu();return R=new kn({}),{c(){U(e.$$.fragment),n=H(),o=M("span"),o.textContent="Knowledge is power, unlock it!",i=H(),r=M("div"),l=M("div"),a=V("Market Rate: "),s=M("span"),f=V(u),c=V(" gold"),m=V(`
        per Knowledge Point
        `),F&&F.c(),p=H(),U(_.$$.fragment),h=H(),N&&N.c(),w=H(),P&&P.c(),y=H(),E&&E.c(),C=H(),U(R.$$.fragment),$(o,"class",""),$(s,"class",d=t[3]<0?"text-red-500":"text-green-500"),$(r,"class","py-0 flex flex-col gap-4 text-gray-400 overflow-x-auto")},m(q,O){x(e,q,O),T(q,n,O),T(q,o,O),T(q,i,O),T(q,r,O),b(r,l),b(l,a),b(l,s),b(s,f),b(s,c),b(l,m),F&&F.m(l,null),b(r,p),x(_,r,null),b(r,h),N&&N.m(r,null),b(r,w),P&&P.m(r,null),b(r,y),E&&E.m(r,null),T(q,C,O),x(R,q,O),D=!0},p(q,O){const v={};O&130&&(v.$$scope={dirty:O,ctx:q}),e.$set(v),(!D||O&8)&&u!==(u=(q[3]??0)+"")&&ue(f,u),(!D||O&8&&d!==(d=q[3]<0?"text-red-500":"text-green-500"))&&$(s,"class",d),q[3]>0?F?F.p(q,O):(F=Za(q),F.c(),F.m(l,null)):F&&(F.d(1),F=null);const I={};O&4&&(I.data=q[2]),_.$set(I),q[3]<0?N||(N=Qa(),N.c(),N.m(r,w)):N&&(N.d(1),N=null),q[1].hasBank&&q[3]>0?P?(P.p(q,O),O&10&&k(P,1)):(P=za(q),P.c(),k(P,1),P.m(r,y)):P&&(Me(),S(P,1,1,()=>{P=null}),Oe()),q[1].hasBank===!1?E||(E=eu(),E.c(),E.m(r,null)):E&&(E.d(1),E=null)},i(q){D||(k(e.$$.fragment,q),k(_.$$.fragment,q),k(P),k(R.$$.fragment,q),D=!0)},o(q){S(e.$$.fragment,q),S(_.$$.fragment,q),S(P),S(R.$$.fragment,q),D=!1},d(q){q&&(A(n),A(o),A(i),A(r),A(C)),Y(e,q),F&&F.d(),Y(_),N&&N.d(),P&&P.d(),E&&E.d(),Y(R,q)}}}function z5(t){let e,n;return e=new sn({props:{transitionConfig:{duration:0},class:"bg-foreground text-accentText",$$slots:{default:[Q5]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(o,i){x(e,o,i),n=!0},p(o,i){const r={};i&142&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function e3(t){let e,n,o;function i(l){t[5](l)}let r={$$slots:{default:[z5]},$$scope:{ctx:t}};return t[4]!==void 0&&(r.open=t[4]),e=new an({props:r}),Ee.push(()=>Ut(e,"open",i)),{c(){U(e.$$.fragment)},m(l,a){x(e,l,a),o=!0},p(l,[a]){const s={};a&142&&(s.$$scope={dirty:a,ctx:l}),!n&&a&16&&(n=!0,s.open=l[4],Wt(()=>n=!1)),e.$set(s)},i(l){o||(k(e.$$.fragment,l),o=!0)},o(l){S(e.$$.fragment,l),o=!1},d(l){Y(e,l)}}}function tu(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function t3(t,e,n){let o,i;ae(t,Ne,u=>n(1,o=u)),ae(t,so,u=>n(4,i=u));let r,l=0;function a(){let u=o;o.hasBank===!0?(u.townInfo.gold+=Math.round(u.townInfo.knowledge_points*l),u.townInfo.knowledge_points=0,Ne.set(u),localStorage.setItem(mt,JSON.stringify(u))):Ct.set("You need a bank to convert knowledge to gold.")}function s(u){i=u,so.set(i)}return t.$$.update=()=>{t.$$.dirty&2&&o&&(n(2,r=o.economyAndLaws.knowledge_gold_market_rates),n(3,l=o.economyAndLaws.knowledge_gold_market_rates[o.economyAndLaws.knowledge_gold_market_rates.length-1]))},[a,o,r,l,i,s]}class n3 extends he{constructor(e){super(),pe(this,e,t3,e3,de,{convertKnowledgeToGold:0})}get convertKnowledgeToGold(){return this.$$.ctx[0]}}const o3=[{id:"sunshine",title:"Hint of Sunshine",description:`Scientist Jane T. found that more sunlight makes everyone a bit happier.
          Now, every home is equipped with a pair of sunglasses and a sunhat. Enjoy happier citizens!,
          `,cost:5e3,duration:180,effect:t=>(t.townInfo.happiness+=100,t)},{id:"antibiotics",title:"We will call them 'Antibiotics'",description:`Scientist Alfred C. has pitched us an idea that he calls 'Antibiotics'.
           We don't really know what that means, but it seems to make people healthier.
          `,cost:8e3,duration:200,effect:t=>(t.townInfo.health+=180,t.townInfo.happiness+=25,t)},{id:"funny_cows",title:"Cowabunga!",description:`Scientist Barry T. thought that showing cows some stand-up comedy would make them produce better milk, but it didn't have the desired effect.
          The cows are now following Mike Birbiglia on Twitter, but the milk production has not increased.
          `,cost:3e3,duration:60,effect:t=>t},{id:"missing_treasure",title:"Missing Treasure?",description:`Scientist Sarah H. was running an experiment on tree growth and found a stash of gold near the lab.
          She hopes nobody will miss it. Your town now has some more money.
          `,cost:15e3,duration:180,effect:t=>(t.townInfo.gold+=Math.floor(Math.random()*35e3),t)},{id:"tax_relief",title:"'Maybe the government is not so bad after all'",description:`Scientist Sam P. conducted a study and found that if you put a tiny bit of CHEMICAL X in the water supply, people are more likely to be ok with tax hikes.
          We don't question it, as these experiments cost a lot of moo-lah.`,cost:7500,duration:360,effect:t=>(t.economyAndLaws.max_tax_rate=(Math.random()*.8+1.2)*t.economyAndLaws.max_tax_rate,t)},{id:"spring_break",title:"Spring Break",description:`The Scientists took our money and spent the week at the beach.
          We are not sure what they did, but they came back with a tan and a smile.`,cost:2e3,duration:7,effect:t=>t},{id:"tornado",title:"A Gust of Grain",description:`Scientist Clint C. is sulking after a botched weather experiment caused about half of the food supply to be sucked into a tornado.
  		The only positive seems to be that the town now knows what a tornado is, and that makes us a bit smarter as a whole.`,cost:7e3,duration:150,effect:t=>(t.townInfo.knowledge_points+=3e3,t.resources.food=Math.floor(t.resources.food/2),t)},{id:"aquatic_overachievers",title:"Fishy Business",description:`An attempt to genetically enhance fish intelligence by Scientist Goldie F. in fisheries has gone awry, resulting in fish that are too smart to be caught. The fisheries are now underpopulated and shut down, but the town enjoys an unexpected tourism boom as people flock to see the genius fish who are now hanging out in local parks.
          Who knew fish could be such a draw?`,cost:6e3,duration:90,effect:t=>(t.townInfo.gold+=1e4,nu("fishery",t),t)},{id:"educational_eclipse",title:"A Sudden Drop in IQ",description:`Scientist Albert E. wanted to see if the towns' children would become smarter if THEY ran the schools.
          This was obviously a terrible idea and the first thing the kids did was shut down the schools.`,cost:1e3,duration:45,effect:t=>(nu("schoolhouse",t),t)},{id:"education_grant",title:"Education Grant",description:`Scientist Marie C. took this experiments funding and applied the town for a grant to improve education.
          The town wins a grant for $150,000 to build schools and improve education. (but it's up to you if that's how you want to spend the money)`,cost:25e3,duration:45,effect:t=>(t.townInfo.gold+=15e4,t)},{id:"mindfulness_meditation_classes",title:"'Mindfulness Meditation Classes'",description:`Scientist Zen M. has introduced mindfulness meditation classes to the town after realizing that breathing in certain ways can lower stress.
  		Now, the town is a bit more relaxed, for now.`,cost:13e3,duration:540,effect:t=>(t.townInfo.happiness+=75,t)}];function nu(t,e){let n=qe(t,e);for(let o=0;o<n.length;o++)lo(n[o].x,n[o].y,e)}function i3(t){let e,n;const o=[{class:He("shrink-0 bg-border",t[1]==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t[0])},{orientation:t[1]},{decorative:t[2]},t[3]];let i={};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new k0({props:i}),{c(){U(e.$$.fragment)},m(r,l){x(e,r,l),n=!0},p(r,[l]){const a=l&15?Ce(o,[l&3&&{class:He("shrink-0 bg-border",r[1]==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",r[0])},l&2&&{orientation:r[1]},l&4&&{decorative:r[2]},l&8&&rt(r[3])]):{};e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){Y(e,r)}}}function r3(t,e,n){const o=["class","orientation","decorative"];let i=fe(e,o),{class:r=void 0}=e,{orientation:l="horizontal"}=e,{decorative:a=void 0}=e;return t.$$set=s=>{e=Q(Q({},e),Le(s)),n(3,i=fe(e,o)),"class"in s&&n(0,r=s.class),"orientation"in s&&n(1,l=s.orientation),"decorative"in s&&n(2,a=s.decorative)},[r,l,a,i]}class vt extends he{constructor(e){super(),pe(this,e,r3,i3,de,{class:0,orientation:1,decorative:2})}}function ou(t,e,n){const o=t.slice();return o[15]=e[n],o}function l3(t){let e,n=t[1].lab.active_experiment.title+"",o;return{c(){e=V("🎉 Experiment Completed: "),o=V(n)},m(i,r){T(i,e,r),T(i,o,r)},p(i,r){r&2&&n!==(n=i[1].lab.active_experiment.title+"")&&ue(o,n)},d(i){i&&(A(e),A(o))}}}function s3(t){let e,n=t[1].lab.active_experiment.description+"",o;return{c(){e=M("div"),o=V(n),$(e,"class","select-none whitespace-pre-wrap text-lg text-gray-400 leading-6 px-4 py-4 text-center ")},m(i,r){T(i,e,r),b(e,o)},p(i,r){r&2&&n!==(n=i[1].lab.active_experiment.description+"")&&ue(o,n)},d(i){i&&A(e)}}}function a3(t){let e,n,o,i;return e=new wc({props:{class:"text-center",$$slots:{default:[l3]},$$scope:{ctx:t}}}),o=new Oc({props:{$$slots:{default:[s3]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),n=H(),U(o.$$.fragment)},m(r,l){x(e,r,l),T(r,n,l),x(o,r,l),i=!0},p(r,l){const a={};l&262146&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&262146&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&A(n),Y(e,r),Y(o,r)}}}function u3(t){let e;return{c(){e=V("Thank the scientists")},m(n,o){T(n,e,o)},d(n){n&&A(e)}}}function f3(t){let e,n;return e=new Ic({props:{$$slots:{default:[u3]},$$scope:{ctx:t}}}),e.$on("click",t[9]),{c(){U(e.$$.fragment)},m(o,i){x(e,o,i),n=!0},p(o,i){const r={};i&262144&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function c3(t){let e,n,o,i;return e=new Mc({props:{$$slots:{default:[a3]},$$scope:{ctx:t}}}),o=new Cl({props:{$$slots:{default:[f3]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),n=H(),U(o.$$.fragment)},m(r,l){x(e,r,l),T(r,n,l),x(o,r,l),i=!0},p(r,l){const a={};l&262146&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&262144&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&A(n),Y(e,r),Y(o,r)}}}function d3(t){let e,n;return e=new Sl({props:{$$slots:{default:[c3]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(o,i){x(e,o,i),n=!0},p(o,i){const r={};i&262146&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function m3(t){let e;return{c(){e=M("span"),e.textContent="Manage your Laboratory 🔬 🧪"},m(n,o){T(n,e,o)},p:Te,d(n){n&&A(e)}}}function p3(t){let e,n,o,i=t[1].lab.xp+"",r,l,a,s;return{c(){e=M("span"),n=V("You have earned "),o=M("span"),r=V(i),l=V(" XP"),s=V(` from experiments. XP can be used to buy advanced plots and develop your
          city.`),$(o,"class",a=t[1].lab.xp<0?"text-textDanger":"text-primaryText")},m(u,f){T(u,e,f),b(e,n),b(e,o),b(o,r),b(o,l),b(e,s)},p(u,f){f&2&&i!==(i=u[1].lab.xp+"")&&ue(r,i),f&2&&a!==(a=u[1].lab.xp<0?"text-textDanger":"text-primaryText")&&$(o,"class",a)},d(u){u&&A(e)}}}function h3(t){let e,n,o,i;return e=new rn({props:{$$slots:{default:[m3]},$$scope:{ctx:t}}}),o=new Gn({props:{$$slots:{default:[p3]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),n=H(),U(o.$$.fragment)},m(r,l){x(e,r,l),T(r,n,l),x(o,r,l),i=!0},p(r,l){const a={};l&262144&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&262146&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&A(n),Y(e,r),Y(o,r)}}}function _3(t){let e;return{c(){e=V("No more experiments available")},m(n,o){T(n,e,o)},p:Te,i:Te,o:Te,d(n){n&&A(e)}}}function g3(t){let e,n,o,i,r=xe(t[0]),l=[];for(let s=0;s<r.length;s+=1)l[s]=ru(ou(t,r,s));const a=s=>S(l[s],1,1,()=>{l[s]=null});return{c(){e=M("div"),e.textContent=`It's time to fund your next experiment! Choose a project below based on
        it's funding requirement. Once the experiment is over, you will see the
        results.`,n=H(),o=M("div");for(let s=0;s<l.length;s+=1)l[s].c();$(e,"class","select-none text-sm "),$(o,"class","text-center flex flex-col justify-center items-center gap-4 ")},m(s,u){T(s,e,u),T(s,n,u),T(s,o,u);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(o,null);i=!0},p(s,u){if(u&19){r=xe(s[0]);let f;for(f=0;f<r.length;f+=1){const c=ou(s,r,f);l[f]?(l[f].p(c,u),k(l[f],1)):(l[f]=ru(c),l[f].c(),k(l[f],1),l[f].m(o,null))}for(Me(),f=r.length;f<l.length;f+=1)a(f);Oe()}},i(s){if(!i){for(let u=0;u<r.length;u+=1)k(l[u]);i=!0}},o(s){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)S(l[u]);i=!1},d(s){s&&(A(e),A(n),A(o)),it(l,s)}}}function b3(t){let e,n=t[1].lab.active_experiment.duration+"",o,i,r,l,a=t[1].lab.active_experiment.duration===0&&lu(t);return{c(){e=V("Currently running an experiment... check back in "),o=V(n),i=V(` days.
      `),a&&a.c(),r=De()},m(s,u){T(s,e,u),T(s,o,u),T(s,i,u),a&&a.m(s,u),T(s,r,u),l=!0},p(s,u){(!l||u&2)&&n!==(n=s[1].lab.active_experiment.duration+"")&&ue(o,n),s[1].lab.active_experiment.duration===0?a?(a.p(s,u),u&2&&k(a,1)):(a=lu(s),a.c(),k(a,1),a.m(r.parentNode,r)):a&&(Me(),S(a,1,1,()=>{a=null}),Oe())},i(s){l||(k(a),l=!0)},o(s){S(a),l=!1},d(s){s&&(A(e),A(o),A(i),A(r)),a&&a.d(s)}}}function iu(t){let e,n,o=t[15].id+"",i;return{c(){e=M("span"),n=V("// dev-"),i=V(o),$(e,"class","text-xs text-gray-400")},m(r,l){T(r,e,l),b(e,n),b(e,i)},p(r,l){l&1&&o!==(o=r[15].id+"")&&ue(i,o)},d(r){r&&A(e)}}}function y3(t){let e,n=su(t[15].cost).split(".")[0]+"",o,i,r,l=t[1].devMode===!0&&iu(t);return{c(){e=V("$"),o=V(n),i=V(` gold

            `),l&&l.c(),r=H()},m(a,s){T(a,e,s),T(a,o,s),T(a,i,s),l&&l.m(a,s),T(a,r,s)},p(a,s){s&1&&n!==(n=su(a[15].cost).split(".")[0]+"")&&ue(o,n),a[1].devMode===!0?l?l.p(a,s):(l=iu(a),l.c(),l.m(r.parentNode,r)):l&&(l.d(1),l=null)},d(a){a&&(A(e),A(o),A(i),A(r)),l&&l.d(a)}}}function ru(t){let e,n;function o(){return t[11](t[15])}return e=new At({props:{variant:"outline",class:`min-w-48 w-max flex-col
				`+(t[15].cost>t[1].townInfo.gold?"cursor-not-allowed":"")+`
				`,$$slots:{default:[y3]},$$scope:{ctx:t}}}),e.$on("click",o),{c(){U(e.$$.fragment)},m(i,r){x(e,i,r),n=!0},p(i,r){t=i;const l={};r&3&&(l.class=`min-w-48 w-max flex-col
				`+(t[15].cost>t[1].townInfo.gold?"cursor-not-allowed":"")+`
				`),r&262147&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(i){n||(k(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){Y(e,i)}}}function lu(t){let e,n;return e=new At({props:{variant:"outline",$$slots:{default:[v3]},$$scope:{ctx:t}}}),e.$on("click",t[10]),{c(){U(e.$$.fragment)},m(o,i){x(e,o,i),n=!0},p(o,i){const r={};i&262144&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function v3(t){let e;return{c(){e=V("Complete experiment (and face the impact)")},m(n,o){T(n,e,o)},d(n){n&&A(e)}}}function w3(t){let e;return{c(){e=M("span"),e.textContent="Keep in mind that not all experiments yield positive results.",$(e,"class","text-left text-textDanger")},m(n,o){T(n,e,o)},p:Te,d(n){n&&A(e)}}}function k3(t){let e,n,o,i,r,l,a,s,u,f,c;e=new ln({props:{$$slots:{default:[h3]},$$scope:{ctx:t}}}),o=new vt({});const d=[b3,g3,_3],m=[];function p(_,h){return _[1].lab.active_experiment!==null?0:_[0].length>0?1:_[0].length===0?2:-1}return~(r=p(t))&&(l=m[r]=d[r](t)),s=new vt({props:{class:"mt-4"}}),f=new kn({props:{$$slots:{default:[w3]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),n=H(),U(o.$$.fragment),i=H(),l&&l.c(),a=H(),U(s.$$.fragment),u=H(),U(f.$$.fragment)},m(_,h){x(e,_,h),T(_,n,h),x(o,_,h),T(_,i,h),~r&&m[r].m(_,h),T(_,a,h),x(s,_,h),T(_,u,h),x(f,_,h),c=!0},p(_,h){const w={};h&262146&&(w.$$scope={dirty:h,ctx:_}),e.$set(w);let y=r;r=p(_),r===y?~r&&m[r].p(_,h):(l&&(Me(),S(m[y],1,1,()=>{m[y]=null}),Oe()),~r?(l=m[r],l?l.p(_,h):(l=m[r]=d[r](_),l.c()),k(l,1),l.m(a.parentNode,a)):l=null);const C={};h&262144&&(C.$$scope={dirty:h,ctx:_}),f.$set(C)},i(_){c||(k(e.$$.fragment,_),k(o.$$.fragment,_),k(l),k(s.$$.fragment,_),k(f.$$.fragment,_),c=!0)},o(_){S(e.$$.fragment,_),S(o.$$.fragment,_),S(l),S(s.$$.fragment,_),S(f.$$.fragment,_),c=!1},d(_){_&&(A(n),A(i),A(a),A(u)),Y(e,_),Y(o,_),~r&&m[r].d(_),Y(s,_),Y(f,_)}}}function C3(t){let e,n;return e=new sn({props:{class:"bg-foreground text-accentText",$$slots:{default:[k3]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(o,i){x(e,o,i),n=!0},p(o,i){const r={};i&262147&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function S3(t){let e,n,o,i,r;e=new Al({props:{open:t[2],$$slots:{default:[d3]},$$scope:{ctx:t}}});function l(s){t[12](s)}let a={$$slots:{default:[C3]},$$scope:{ctx:t}};return t[3]!==void 0&&(a.open=t[3]),o=new an({props:a}),Ee.push(()=>Ut(o,"open",l)),{c(){U(e.$$.fragment),n=H(),U(o.$$.fragment)},m(s,u){x(e,s,u),T(s,n,u),x(o,s,u),r=!0},p(s,[u]){const f={};u&4&&(f.open=s[2]),u&262146&&(f.$$scope={dirty:u,ctx:s}),e.$set(f);const c={};u&262147&&(c.$$scope={dirty:u,ctx:s}),!i&&u&8&&(i=!0,c.open=s[3],Wt(()=>i=!1)),o.$set(c)},i(s){r||(k(e.$$.fragment,s),k(o.$$.fragment,s),r=!0)},o(s){S(e.$$.fragment,s),S(o.$$.fragment,s),r=!1},d(s){s&&A(n),Y(e,s),Y(o,s)}}}function su(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function A3(t,e,n){let o,i;ae(t,Ne,y=>n(1,o=y)),ae(t,eo,y=>n(3,i=y));var r;let l=[],a=!1,s=!1,u=!1;function f(){if(l.length>0||!a)return l;let y=[],C=o3.filter(R=>!o.lab.past_experiments.some(D=>D.id===R.id));if(C.length===0)return[];for(let R=0;R<3;R++){let D=C[Math.floor(Math.random()*C.length)];D.cost=Math.floor(Math.random()*(D.cost*.35)+D.cost*.8),y.push(D)}return y=y.filter((R,D)=>y.indexOf(R)===D),y=y.filter(R=>R),n(8,u=!0),y}function c(y){if(o.townInfo.gold<y.cost){Ct.set("You do not have enough gold to purchase this experiment.");return}Ie(Ne,o.townInfo.gold-=y.cost,o),Ie(Ne,o.lab.active_experiment=y,o),o.lab.past_experiments.push(y)}function d(){Ie(eo,i=!1,i),n(2,s=!0);let y=l.find(R=>R.id===o.lab.active_experiment.id),C=y!=null?y.effect(o):o;Ie(Ne,o=C,o),Ie(Ne,o.lab.active_experiment.duration=-1,o)}function m(){let y=o;y.lab.xp+=Math.round(y.lab.active_experiment.cost*(Math.random()*2+.5)),y.lab.active_experiment=null,n(2,s=!1),Ie(Ne,o=y,o)}const p=()=>{m()},_=()=>{d()},h=y=>{y.cost<o.townInfo.gold&&c(y)};function w(y){i=y,eo.set(i)}return t.$$.update=()=>{t.$$.dirty&387&&(o?(a=!0,n(0,l=u==!1?f():l),(n(7,r=o.lab.active_experiment)===null||r===void 0?void 0:r.duration)===-1&&n(2,s=!0)):a=!1)},[l,o,s,i,c,d,m,r,u,p,_,h,w]}class T3 extends he{constructor(e){super(),pe(this,e,A3,S3,de,{})}}function I3(t){let e,n,o,i,r,l,a,s,u,f=t[0].townInfo.name+"",c,d,m,p,_,h,w,y=t[0].townInfo.population_count+"",C,R,D,F,N,P,E,q,O,v=Math.floor(t[0].environment.day/365)+1+"",I,L,B,j,K,X,z=Math.floor(t[0].environment.day/7)%52+1+"",oe,J,ne,_e,se,re=t[1]==0?"⏩ x1":t[1]==1?"⏩ x2":"⏩ x3",je,Fe,Ue,g,Z;return n=new Lt({props:{text:"Pause",onOpen:t[6],styling:"fixed top-2 right-4 opacity-70 bg-gray-600"}}),D=new vt({props:{orientation:"vertical",class:"h-12 bg-gray-600 opacity-50 mx-4"}}),ne=new vt({props:{orientation:"vertical",class:"h-12 bg-gray-600 opacity-50 mx-4"}}),{c(){e=M("div"),U(n.$$.fragment),o=H(),i=M("div"),r=M("div"),l=M("div"),a=M("div"),s=M("div"),u=M("div"),c=V(f),d=H(),m=M("div"),p=M("div"),_=M("div"),h=M("span"),w=V("👥 "),C=V(y),R=H(),U(D.$$.fragment),F=H(),N=M("div"),P=M("span"),E=M("span"),E.textContent="Year",q=H(),O=M("span"),I=V(v),L=H(),B=M("span"),j=M("span"),j.textContent="Week",K=H(),X=M("span"),oe=V(z),J=H(),U(ne.$$.fragment),_e=H(),se=M("span"),je=V(re),$(u,"class","cursor-pointer w-min whitespace-nowrap text-center select-none font-serif opacity-80"),$(s,"class","cursor-pointer flex flex-row justify-center text-center w-full"),$(a,"class","text-2xl flex flex-row items-center w-full text-center"),$(h,"class","text-sm text-left items-start justify-start w-min flex-nowrap text-nowrap"),$(E,"class","text-xs"),$(O,"class","font-semibold text-xs"),$(P,"class","flex flex-col"),$(j,"class","text-xs"),$(X,"class","font-semibold text-xs"),$(B,"class","flex flex-col"),$(N,"class","flex flex-row justify-start gap-6 align-middle"),$(se,"class","cursor-pointer text-blue-200 noselect"),ht(se,"text-blue-200",t[1]==0),ht(se,"text-yellow-200",t[1]==1),ht(se,"text-red-200",t[1]==2),$(_,"class","flex align-middle items-center text-accentText flex-row justify-between h-max "),$(p,"class","flex flex-col align-middle w-full justify-center items-center"),$(l,"class","flex flex-col gap-2 justify-center w-full "),$(r,"class","rounded-xl w-full"),$(i,"class","flex justify-between flex-col align-middle items-center w-full"),$(e,"id","header"),$(e,"class",Fe="flex px-6 gap-6 justify-center flex-row fixed top-0 left-0 right-0 cursor-default z-10 bg-black text-[white] py-1 align-middle border-b-4 border-sidebarBackground "+(t[2].visible?"opacity-70":""))},m(W,ee){T(W,e,ee),x(n,e,null),b(e,o),b(e,i),b(i,r),b(r,l),b(l,a),b(a,s),b(s,u),b(u,c),b(l,d),b(l,m),b(m,p),b(p,_),b(_,h),b(h,w),b(h,C),b(_,R),x(D,_,null),b(_,F),b(_,N),b(N,P),b(P,E),b(P,q),b(P,O),b(O,I),b(N,L),b(N,B),b(B,j),b(B,K),b(B,X),b(X,oe),b(_,J),x(ne,_,null),b(_,_e),b(_,se),b(se,je),Ue=!0,g||(Z=[te(u,"click",t[4]),te(se,"click",t[7])],g=!0)},p(W,[ee]){const me={};ee&8&&(me.onOpen=W[6]),n.$set(me),(!Ue||ee&1)&&f!==(f=W[0].townInfo.name+"")&&ue(c,f),(!Ue||ee&1)&&y!==(y=W[0].townInfo.population_count+"")&&ue(C,y),(!Ue||ee&1)&&v!==(v=Math.floor(W[0].environment.day/365)+1+"")&&ue(I,v),(!Ue||ee&1)&&z!==(z=Math.floor(W[0].environment.day/7)%52+1+"")&&ue(oe,z),(!Ue||ee&2)&&re!==(re=W[1]==0?"⏩ x1":W[1]==1?"⏩ x2":"⏩ x3")&&ue(je,re),(!Ue||ee&2)&&ht(se,"text-blue-200",W[1]==0),(!Ue||ee&2)&&ht(se,"text-yellow-200",W[1]==1),(!Ue||ee&2)&&ht(se,"text-red-200",W[1]==2),(!Ue||ee&4&&Fe!==(Fe="flex px-6 gap-6 justify-center flex-row fixed top-0 left-0 right-0 cursor-default z-10 bg-black text-[white] py-1 align-middle border-b-4 border-sidebarBackground "+(W[2].visible?"opacity-70":"")))&&$(e,"class",Fe)},i(W){Ue||(k(n.$$.fragment,W),k(D.$$.fragment,W),k(ne.$$.fragment,W),Ue=!0)},o(W){S(n.$$.fragment,W),S(D.$$.fragment,W),S(ne.$$.fragment,W),Ue=!1},d(W){W&&A(e),Y(n),Y(D),Y(ne),g=!1,Ye(Z)}}}function M3(t,e,n){let o,i,r,l;ae(t,Ne,m=>n(0,o=m)),ae(t,Eo,m=>n(9,i=m)),ae(t,tt,m=>n(2,r=m)),ae(t,Ot,m=>n(3,l=m));const a=o.gameSettings.includes("casual")?[150,75,35]:[300,150,70];let s=0;Zo(()=>{o.gameSettings.includes("casual")?Ie(Eo,i=375,i):Ie(Eo,i=550,i);const m=setInterval(()=>{Ie(Ne,o.timeSpent+=1e3,o)},1e3);return()=>{clearInterval(m)}});function u(){let m=prompt("Enter a new name for your town (under 200 chars)");if(m&&m.length<200&&m.length>=1){let p=o;p.townInfo.name=m,Ne.set(p),localStorage.setItem(mt,JSON.stringify(p))}}function f(){s==a.length-1?n(1,s=0):n(1,s++,s),Ie(Eo,i=a[s],i)}const c=()=>Ie(Ot,l=!0,l),d=()=>{localStorage.getItem(Pt)==null&&f()};return t.$$.update=()=>{t.$$.dirty&1&&o.timeSpent>0&&vm(o.timeSpent)},[o,s,r,l,u,f,c,d]}class O3 extends he{constructor(e){super(),pe(this,e,M3,I3,de,{})}}function P3(t){let e,n,o,i,r,l;return{c(){e=M("div"),i=H(),r=M("span"),l=V(t[4]),$(e,"class",n="h-full w-full flex-1 "+t[3]+" transition-all relative"),$(e,"style",o=`transform: translateX(-${100-100*(t[2]??0)/(t[1]??1)}%)`),$(r,"class","absolute inset-0 flex items-center justify-center text-white text-sm")},m(a,s){T(a,e,s),T(a,i,s),T(a,r,s),b(r,l)},p(a,s){s&8&&n!==(n="h-full w-full flex-1 "+a[3]+" transition-all relative")&&$(e,"class",n),s&6&&o!==(o=`transform: translateX(-${100-100*(a[2]??0)/(a[1]??1)}%)`)&&$(e,"style",o),s&16&&ue(l,a[4])},d(a){a&&(A(e),A(i),A(r))}}}function N3(t){let e,n;const o=[{class:He("relative h-6 w-full overflow-hidden  bg-black border border-gray-300",t[0])},t[5]];let i={$$slots:{default:[P3]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new Vg({props:i}),{c(){U(e.$$.fragment)},m(r,l){x(e,r,l),n=!0},p(r,[l]){const a=l&33?Ce(o,[l&1&&{class:He("relative h-6 w-full overflow-hidden  bg-black border border-gray-300",r[0])},l&32&&rt(r[5])]):{};l&94&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){Y(e,r)}}}function E3(t,e,n){const o=["class","max","value","color","text"];let i=fe(e,o),{class:r=void 0}=e,{max:l=100}=e,{value:a=void 0}=e,{color:s="bg-accent"}=e,{text:u=void 0}=e;return t.$$set=f=>{e=Q(Q({},e),Le(f)),n(5,i=fe(e,o)),"class"in f&&n(0,r=f.class),"max"in f&&n(1,l=f.max),"value"in f&&n(2,a=f.value),"color"in f&&n(3,s=f.color),"text"in f&&n(4,u=f.text)},[r,l,a,s,u,i]}class $3 extends he{constructor(e){super(),pe(this,e,E3,N3,de,{class:0,max:1,value:2,color:3,text:4})}}function au(t,e,n){const o=t.slice();return o[19]=e[n],o}function uu(t){let e,n=xe({length:t[6]}),o=[];for(let i=0;i<n.length;i+=1)o[i]=fu(au(t,n,i));return{c(){e=M("div");for(let i=0;i<o.length;i+=1)o[i].c();$(e,"class","confetti-holder svelte-15ksp55"),ht(e,"rounded",t[9]),ht(e,"cone",t[10]),ht(e,"no-gravity",t[11]),ht(e,"reduced-motion",t[13])},m(i,r){T(i,e,r);for(let l=0;l<o.length;l+=1)o[l]&&o[l].m(e,null)},p(i,r){if(r&37375){n=xe({length:i[6]});let l;for(l=0;l<n.length;l+=1){const a=au(i,n,l);o[l]?o[l].p(a,r):(o[l]=fu(a),o[l].c(),o[l].m(e,null))}for(;l<o.length;l+=1)o[l].d(1);o.length=n.length}r&512&&ht(e,"rounded",i[9]),r&1024&&ht(e,"cone",i[10]),r&2048&&ht(e,"no-gravity",i[11]),r&8192&&ht(e,"reduced-motion",i[13])},d(i){i&&A(e),it(o,i)}}}function fu(t){let e;return{c(){e=M("div"),$(e,"class","confetti svelte-15ksp55"),Qe(e,"--fall-distance",t[8]),Qe(e,"--size",t[0]+"px"),Qe(e,"--color",t[15]()),Qe(e,"--skew",pt(-45,45)+"deg,"+pt(-45,45)+"deg"),Qe(e,"--rotation-xyz",pt(-10,10)+", "+pt(-10,10)+", "+pt(-10,10)),Qe(e,"--rotation-deg",pt(0,360)+"deg"),Qe(e,"--translate-y-multiplier",pt(t[2][0],t[2][1])),Qe(e,"--translate-x-multiplier",pt(t[1][0],t[1][1])),Qe(e,"--scale",.1*pt(2,10)),Qe(e,"--transition-duration",t[4]?`calc(${t[3]}ms * var(--scale))`:`${t[3]}ms`),Qe(e,"--transition-delay",pt(t[5][0],t[5][1])+"ms"),Qe(e,"--transition-iteration-count",t[4]?"infinite":t[7]),Qe(e,"--x-spread",1-t[12])},m(n,o){T(n,e,o)},p(n,o){o&256&&Qe(e,"--fall-distance",n[8]),o&1&&Qe(e,"--size",n[0]+"px"),o&4&&Qe(e,"--translate-y-multiplier",pt(n[2][0],n[2][1])),o&2&&Qe(e,"--translate-x-multiplier",pt(n[1][0],n[1][1])),o&24&&Qe(e,"--transition-duration",n[4]?`calc(${n[3]}ms * var(--scale))`:`${n[3]}ms`),o&32&&Qe(e,"--transition-delay",pt(n[5][0],n[5][1])+"ms"),o&144&&Qe(e,"--transition-iteration-count",n[4]?"infinite":n[7]),o&4096&&Qe(e,"--x-spread",1-n[12])},d(n){n&&A(e)}}}function R3(t){let e,n=!t[14]&&uu(t);return{c(){n&&n.c(),e=De()},m(o,i){n&&n.m(o,i),T(o,e,i)},p(o,[i]){o[14]?n&&(n.d(1),n=null):n?n.p(o,i):(n=uu(o),n.c(),n.m(e.parentNode,e))},i:Te,o:Te,d(o){o&&A(e),n&&n.d(o)}}}function pt(t,e){return Math.random()*(e-t)+t}function L3(t,e,n){let{size:o=10}=e,{x:i=[-.5,.5]}=e,{y:r=[.25,1]}=e,{duration:l=2e3}=e,{infinite:a=!1}=e,{delay:s=[0,50]}=e,{colorRange:u=[0,360]}=e,{colorArray:f=[]}=e,{amount:c=50}=e,{iterationCount:d=1}=e,{fallDistance:m="100px"}=e,{rounded:p=!1}=e,{cone:_=!1}=e,{noGravity:h=!1}=e,{xSpread:w=.15}=e,{destroyOnComplete:y=!0}=e,{disableForReducedMotion:C=!1}=e,R=!1;Zo(()=>{!y||a||d=="infinite"||setTimeout(()=>n(14,R=!0),(l+s[1])*d)});function D(){return f.length?f[Math.round(Math.random()*(f.length-1))]:`hsl(${Math.round(pt(u[0],u[1]))}, 75%, 50%)`}return t.$$set=F=>{"size"in F&&n(0,o=F.size),"x"in F&&n(1,i=F.x),"y"in F&&n(2,r=F.y),"duration"in F&&n(3,l=F.duration),"infinite"in F&&n(4,a=F.infinite),"delay"in F&&n(5,s=F.delay),"colorRange"in F&&n(16,u=F.colorRange),"colorArray"in F&&n(17,f=F.colorArray),"amount"in F&&n(6,c=F.amount),"iterationCount"in F&&n(7,d=F.iterationCount),"fallDistance"in F&&n(8,m=F.fallDistance),"rounded"in F&&n(9,p=F.rounded),"cone"in F&&n(10,_=F.cone),"noGravity"in F&&n(11,h=F.noGravity),"xSpread"in F&&n(12,w=F.xSpread),"destroyOnComplete"in F&&n(18,y=F.destroyOnComplete),"disableForReducedMotion"in F&&n(13,C=F.disableForReducedMotion)},[o,i,r,l,a,s,c,d,m,p,_,h,w,C,R,D,u,f,y]}class pn extends he{constructor(e){super(),pe(this,e,L3,R3,de,{size:0,x:1,y:2,duration:3,infinite:4,delay:5,colorRange:16,colorArray:17,amount:6,iterationCount:7,fallDistance:8,rounded:9,cone:10,noGravity:11,xSpread:12,destroyOnComplete:18,disableForReducedMotion:13})}}function cu(t){let e,n,o,i,r,l,a,s;return e=new pn({props:{cone:!0,x:[-.5,.5]}}),o=new pn({props:{cone:!0,amount:10,x:[-1,-.4],y:[.25,.75],rounded:!0,size:15}}),r=new pn({props:{cone:!0,amount:10,x:[.4,1],y:[.25,.75]}}),a=new pn({props:{infinite:!0,amount:75,delay:[0,200]}}),{c(){U(e.$$.fragment),n=H(),U(o.$$.fragment),i=H(),U(r.$$.fragment),l=H(),U(a.$$.fragment)},m(u,f){x(e,u,f),T(u,n,f),x(o,u,f),T(u,i,f),x(r,u,f),T(u,l,f),x(a,u,f),s=!0},i(u){s||(k(e.$$.fragment,u),k(o.$$.fragment,u),k(r.$$.fragment,u),k(a.$$.fragment,u),s=!0)},o(u){S(e.$$.fragment,u),S(o.$$.fragment,u),S(r.$$.fragment,u),S(a.$$.fragment,u),s=!1},d(u){u&&(A(n),A(i),A(l)),Y(e,u),Y(o,u),Y(r,u),Y(a,u)}}}function D3(t){let e,n,o,i,r,l=Dt(t[1].goldReward,!1)+"",a,s,u,f=t[1].message+"",c,d,m,p=t[3]&&t[2].currentTutorialStep==t[0]&&cu();return{c(){e=M("div"),p&&p.c(),n=H(),o=M("span"),i=M("span"),r=V("💰"),a=V(l),s=H(),u=M("span"),c=V(f),$(i,"class","text-[10px] opacity-100 font-mono"),$(o,"class","flex flex-col text-start"),$(e,"class",d="text-sm flex flex-row justify-start align-middle pb-2 mb-2 transition-all duration-300 noselect "+(t[2].currentTutorialStep==t[0]?"opacity-100":t[1].isComplete(t[2])?"opacity-100 text-green-600":"opacity-50"))},m(_,h){T(_,e,h),p&&p.m(e,null),b(e,n),b(e,o),b(o,i),b(i,r),b(i,a),b(o,s),b(o,u),b(u,c),m=!0},p(_,[h]){_[3]&&_[2].currentTutorialStep==_[0]?p?h&13&&k(p,1):(p=cu(),p.c(),k(p,1),p.m(e,n)):p&&(Me(),S(p,1,1,()=>{p=null}),Oe()),(!m||h&2)&&l!==(l=Dt(_[1].goldReward,!1)+"")&&ue(a,l),(!m||h&2)&&f!==(f=_[1].message+"")&&ue(c,f),(!m||h&7&&d!==(d="text-sm flex flex-row justify-start align-middle pb-2 mb-2 transition-all duration-300 noselect "+(_[2].currentTutorialStep==_[0]?"opacity-100":_[1].isComplete(_[2])?"opacity-100 text-green-600":"opacity-50")))&&$(e,"class",d)},i(_){m||(k(p),m=!0)},o(_){S(p),m=!1},d(_){_&&A(e),p&&p.d()}}}function j3(t,e,n){let o,i;ae(t,Ne,a=>n(2,o=a)),ae(t,Bo,a=>n(3,i=a));let{index:r}=e,{step:l}=e;return t.$$set=a=>{"index"in a&&n(0,r=a.index),"step"in a&&n(1,l=a.step)},[r,l,o,i]}class ud extends he{constructor(e){super(),pe(this,e,j3,D3,de,{index:0,step:1})}}function du(t,e,n){const o=t.slice();return o[16]=e[n],o[18]=n,o}function mu(t,e,n){const o=t.slice();return o[19]=e[n].icon,o[20]=e[n].name,o[21]=e[n].value,o[22]=e[n].rate,o}function pu(t,e,n){const o=t.slice();return o[25]=e[n],o}function hu(t,e,n){const o=t.slice();return o[20]=e[n].name,o[21]=e[n].value,o[28]=e[n].modifier,o[29]=e[n].color,o[30]=e[n].hover,o[31]=e[n].description,o[32]=e[n].max,o}function F3(t){let e,n=t[20]+"",o,i,r,l;return r=new $3({props:{value:t[21],max:t[32]??300,class:"min-w-[80px] max-w-[80px] ",color:t[29],text:`${ot(t[21],0)} / ${ot(t[32],0)}`}}),{c(){e=M("span"),o=V(n),i=H(),U(r.$$.fragment),$(e,"class","text-md pr-2")},m(a,s){T(a,e,s),b(e,o),T(a,i,s),x(r,a,s),l=!0},p(a,s){(!l||s[0]&64)&&n!==(n=a[20]+"")&&ue(o,n);const u={};s[0]&64&&(u.value=a[21]),s[0]&64&&(u.max=a[32]??300),s[0]&64&&(u.color=a[29]),s[0]&64&&(u.text=`${ot(a[21],0)} / ${ot(a[32],0)}`),r.$set(u)},i(a){l||(k(r.$$.fragment,a),l=!0)},o(a){S(r.$$.fragment,a),l=!1},d(a){a&&(A(e),A(i)),Y(r,a)}}}function _u(t){let e,n;return e=new wo({props:{class:"rounded-2xl text-white "+(t[29]??t[10](t[21])),$$slots:{default:[q3]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(o,i){x(e,o,i),n=!0},p(o,i){const r={};i[0]&64&&(r.class="rounded-2xl text-white "+(o[29]??o[10](o[21]))),i[0]&64|i[1]&16&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function q3(t){let e,n,o=t[20]+"",i,r,l=Dt(t[21],!1)+"",a,s,u=t[32]?`out of ${t[32]}`:"",f,c,d,m,p,_=t[31]+"",h;return d=new vt({props:{class:"mb-2 mt-1"}}),{c(){e=M("div"),n=M("span"),i=V(o),r=V(": "),a=V(l),s=H(),f=V(u),c=H(),U(d.$$.fragment),m=H(),p=M("span"),$(n,"class","text-md"),$(e,"class","flex flex-col justify-between max-w-48")},m(w,y){T(w,e,y),b(e,n),b(n,i),b(n,r),b(n,a),b(n,s),b(n,f),b(e,c),x(d,e,null),b(e,m),b(e,p),p.innerHTML=_,h=!0},p(w,y){(!h||y[0]&64)&&o!==(o=w[20]+"")&&ue(i,o),(!h||y[0]&64)&&l!==(l=Dt(w[21],!1)+"")&&ue(a,l),(!h||y[0]&64)&&u!==(u=w[32]?`out of ${w[32]}`:"")&&ue(f,u),(!h||y[0]&64)&&_!==(_=w[31]+"")&&(p.innerHTML=_)},i(w){h||(k(d.$$.fragment,w),h=!0)},o(w){S(d.$$.fragment,w),h=!1},d(w){w&&A(e),Y(d)}}}function B3(t){let e,n,o,i;e=new Co({props:{class:"w-full flex flex-row align-middle justify-between text-sm filter hover:brightness-110",$$slots:{default:[F3]},$$scope:{ctx:t}}});let r=t[30]&&_u(t);return{c(){U(e.$$.fragment),n=H(),r&&r.c(),o=De()},m(l,a){x(e,l,a),T(l,n,a),r&&r.m(l,a),T(l,o,a),i=!0},p(l,a){const s={};a[0]&64|a[1]&16&&(s.$$scope={dirty:a,ctx:l}),e.$set(s),l[30]?r?(r.p(l,a),a[0]&64&&k(r,1)):(r=_u(l),r.c(),k(r,1),r.m(o.parentNode,o)):r&&(Me(),S(r,1,1,()=>{r=null}),Oe())},i(l){i||(k(e.$$.fragment,l),k(r),i=!0)},o(l){S(e.$$.fragment,l),S(r),i=!1},d(l){l&&(A(n),A(o)),Y(e,l),r&&r.d(l)}}}function gu(t){let e,n,o,i;return n=new ko({props:{openDelay:400,closeDelay:0,$$slots:{default:[B3]},$$scope:{ctx:t}}}),{c(){e=M("div"),U(n.$$.fragment),o=H(),$(e,"class","flex flex-col gap-1")},m(r,l){T(r,e,l),x(n,e,null),b(e,o),i=!0},p(r,l){const a={};l[0]&64|l[1]&16&&(a.$$scope={dirty:l,ctx:r}),n.$set(a)},i(r){i||(k(n.$$.fragment,r),i=!0)},o(r){S(n.$$.fragment,r),i=!1},d(r){r&&A(e),Y(n)}}}function H3(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,p,_,h,w,y,C,R,D,F=t[1].gameSettings.includes("bagOfHolding")?"There is no resource cap in this game mode! (Bag of Holding)":"",N;return{c(){e=M("div"),n=V(`ℹ️ Resources are generated from plots. Generation rate can be
            increased by raising the productivity of the town, at the cost of
            some happiness.
            `),o=M("br"),i=H(),r=M("br"),l=V(`
            There is also a slight bit of randomness as townspeople aren't robots.
            `),a=M("br"),s=H(),u=M("br"),f=H(),c=M("span"),c.textContent="Stockpile plots",d=V(` increase the maximum
            amount of resources you can store.
            `),m=M("br"),p=H(),_=M("br"),h=V(`
            If the cap is 500, then you can store 500 of each resource before the
            cap is reached.
            `),w=M("br"),y=V(`
            Capacity is increased by 2,000 per Stockpile plot.
            `),C=M("br"),R=H(),D=M("span"),N=V(F),$(c,"class","font-bold"),$(D,"class","text-red-800 font-bold"),$(e,"class","text-sm")},m(P,E){T(P,e,E),b(e,n),b(e,o),b(e,i),b(e,r),b(e,l),b(e,a),b(e,s),b(e,u),b(e,f),b(e,c),b(e,d),b(e,m),b(e,p),b(e,_),b(e,h),b(e,w),b(e,y),b(e,C),b(e,R),b(e,D),b(D,N)},p(P,E){E[0]&2&&F!==(F=P[1].gameSettings.includes("bagOfHolding")?"There is no resource cap in this game mode! (Bag of Holding)":"")&&ue(N,F)},d(P){P&&A(e)}}}function G3(t){let e,n,o,i=t[1].gameSettings.includes("bagOfHolding")?"No resource cap":`Capacity: ${Dt(t[1].resource_capacity,!1)}`,r,l,a,s,u;return s=new wo({props:{class:"text-sm max-h-[200px] overflow-y-scroll",$$slots:{default:[H3]},$$scope:{ctx:t}}}),{c(){e=M("h1"),n=V(`Resources

          `),o=M("div"),r=V(i),a=H(),U(s.$$.fragment),$(o,"class",l="text-xs w-full text-center mb-2 cursor-pointer "+(t[2]==!0?"text-textDanger animate-[wiggle_0.5s_ease-in-out_infinite] font-bold":"")+" "+(t[1].gameSettings.includes("bagOfHolding")?"opacity-30":"")),$(e,"class","text-lg w-full text-center pb-2")},m(f,c){T(f,e,c),b(e,n),b(e,o),b(o,r),T(f,a,c),x(s,f,c),u=!0},p(f,c){(!u||c[0]&2)&&i!==(i=f[1].gameSettings.includes("bagOfHolding")?"No resource cap":`Capacity: ${Dt(f[1].resource_capacity,!1)}`)&&ue(r,i),(!u||c[0]&6&&l!==(l="text-xs w-full text-center mb-2 cursor-pointer "+(f[2]==!0?"text-textDanger animate-[wiggle_0.5s_ease-in-out_infinite] font-bold":"")+" "+(f[1].gameSettings.includes("bagOfHolding")?"opacity-30":"")))&&$(o,"class",l);const d={};c[0]&2|c[1]&16&&(d.$$scope={dirty:c,ctx:f}),s.$set(d)},i(f){u||(k(s.$$.fragment,f),u=!0)},o(f){S(s.$$.fragment,f),u=!1},d(f){f&&(A(e),A(a)),Y(s,f)}}}function V3(t){let e,n;return e=new Co({props:{$$slots:{default:[G3]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(o,i){x(e,o,i),n=!0},p(o,i){const r={};i[0]&6|i[1]&16&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function W3(t){let e,n,o=t[22]+"",i;return{c(){e=M("span"),n=V("+"),i=V(o),$(e,"class","")},m(r,l){T(r,e,l),b(e,n),b(e,i)},p(r,l){l[0]&32&&o!==(o=r[22]+"")&&ue(i,o)},d(r){r&&A(e)}}}function x3(t){let e;return{c(){e=M("span")},m(n,o){T(n,e,o)},p:Te,d(n){n&&A(e)}}}function Y3(t){let e,n=t[22]+"",o;return{c(){e=M("span"),o=V(n),$(e,"class","text-textDanger")},m(i,r){T(i,e,r),b(e,o)},p(i,r){r[0]&32&&n!==(n=i[22]+"")&&ue(o,n)},d(i){i&&A(e)}}}function U3(t){let e,n,o=t[22]+"",i;return{c(){e=M("span"),n=V("+"),i=V(o),$(e,"class","text-textHappy")},m(r,l){T(r,e,l),b(e,n),b(e,i)},p(r,l){l[0]&32&&o!==(o=r[22]+"")&&ue(i,o)},d(r){r&&A(e)}}}function K3(t){let e;return{c(){e=M("span"),e.textContent="⚠️ CAP",$(e,"class","text-textDanger")},m(n,o){T(n,e,o)},p:Te,d(n){n&&A(e)}}}function J3(t){let e;return{c(){e=M("span"),$(e,"class","display-none")},m(n,o){T(n,e,o)},p:Te,d(n){n&&A(e)}}}function X3(t){let e,n,o=t[22]+"",i,r;return{c(){e=M("span"),n=V("+"),i=V(o),r=V(" (weekly)"),$(e,"class","text-gray-600")},m(l,a){T(l,e,a),b(e,n),b(e,i),b(e,r)},p(l,a){a[0]&32&&o!==(o=l[22]+"")&&ue(i,o)},d(l){l&&A(e)}}}function Z3(t){let e,n=t[22]+"",o,i;return{c(){e=M("span"),o=V(n),i=V(" (weekly)"),$(e,"class","text-textDanger")},m(r,l){T(r,e,l),b(e,o),b(e,i)},p(r,l){l[0]&32&&n!==(n=r[22]+"")&&ue(o,n)},d(r){r&&A(e)}}}function Q3(t){let e,n,o=t[22]+"",i,r;return{c(){e=M("span"),n=V("+"),i=V(o),r=V(" (weekly)"),$(e,"class","text-textHappy")},m(l,a){T(l,e,a),b(e,n),b(e,i),b(e,r)},p(l,a){a[0]&32&&o!==(o=l[22]+"")&&ue(i,o)},d(l){l&&A(e)}}}function bu(t){let e,n,o,i,r,l;e=new vt({props:{class:"bg-gray-400"}});let a=xe(t[9](t[20])),s=[];for(let u=0;u<a.length;u+=1)s[u]=yu(pu(t,a,u));return{c(){U(e.$$.fragment),n=H(),o=M("span"),o.textContent="Required for",i=H(),r=M("div");for(let u=0;u<s.length;u+=1)s[u].c();$(o,"class","text-sm font-semibold"),$(r,"class","grid grid-cols-3 justify-between")},m(u,f){x(e,u,f),T(u,n,f),T(u,o,f),T(u,i,f),T(u,r,f);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(r,null);l=!0},p(u,f){if(f[0]&544){a=xe(u[9](u[20]));let c;for(c=0;c<a.length;c+=1){const d=pu(u,a,c);s[c]?s[c].p(d,f):(s[c]=yu(d),s[c].c(),s[c].m(r,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=a.length}},i(u){l||(k(e.$$.fragment,u),l=!0)},o(u){S(e.$$.fragment,u),l=!1},d(u){u&&(A(n),A(o),A(i),A(r)),Y(e,u),it(s,u)}}}function yu(t){let e,n=t[25]+"",o;return{c(){e=M("span"),o=V(n),$(e,"class","text-xs pr-3")},m(i,r){T(i,e,r),b(e,o)},p(i,r){r[0]&32&&n!==(n=i[25]+"")&&ue(o,n)},d(i){i&&A(e)}}}function z3(t){let e,n,o,i=t[19]+"",r,l,a=io(t[20])+"",s,u,f,c=t[9](t[20]).length>0,d;function m(w,y){return w[22]>0?Q3:w[22]<0?Z3:w[22]!=null?X3:J3}let p=m(t),_=p(t),h=c&&bu(t);return{c(){e=M("div"),n=M("div"),o=M("span"),r=V(i),l=H(),s=V(a),u=H(),_.c(),f=H(),h&&h.c(),$(o,"class","text-md font-bold"),$(e,"class","flex flex-col gap-2 whitespace-nowrap min-w-fit rounded-lg text-black")},m(w,y){T(w,e,y),b(e,n),b(n,o),b(o,r),b(o,l),b(o,s),b(n,u),_.m(n,null),b(e,f),h&&h.m(e,null),d=!0},p(w,y){(!d||y[0]&32)&&i!==(i=w[19]+"")&&ue(r,i),(!d||y[0]&32)&&a!==(a=io(w[20])+"")&&ue(s,a),p===(p=m(w))&&_?_.p(w,y):(_.d(1),_=p(w),_&&(_.c(),_.m(n,null))),y[0]&32&&(c=w[9](w[20]).length>0),c?h?(h.p(w,y),y[0]&32&&k(h,1)):(h=bu(w),h.c(),k(h,1),h.m(e,null)):h&&(Me(),S(h,1,1,()=>{h=null}),Oe())},i(w){d||(k(h),d=!0)},o(w){S(h),d=!1},d(w){w&&A(e),_.d(),h&&h.d()}}}function e4(t){let e,n=t[19]+"",o,i,r=Dt(parseInt(t[21]),!1)+"",l,a,s,u,f,c;function d(_,h){return _[21]>=_[1].resource_capacity&&_[20]!="gold"?K3:_[22]>0?U3:_[22]<0?Y3:_[22]==null?x3:W3}let m=d(t),p=m(t);return f=new wo({props:{$$slots:{default:[z3]},$$scope:{ctx:t}}}),{c(){e=M("span"),o=V(n),i=H(),l=V(r),a=H(),p.c(),u=H(),U(f.$$.fragment),$(e,"class",s="flex flex-row justify-between text-sm "+(t[21]<=0?"text-textDanger font-semibold":""))},m(_,h){T(_,e,h),b(e,o),b(e,i),b(e,l),b(e,a),p.m(e,null),T(_,u,h),x(f,_,h),c=!0},p(_,h){(!c||h[0]&32)&&n!==(n=_[19]+"")&&ue(o,n),(!c||h[0]&32)&&r!==(r=Dt(parseInt(_[21]),!1)+"")&&ue(l,r),m===(m=d(_))&&p?p.p(_,h):(p.d(1),p=m(_),p&&(p.c(),p.m(e,null))),(!c||h[0]&32&&s!==(s="flex flex-row justify-between text-sm "+(_[21]<=0?"text-textDanger font-semibold":"")))&&$(e,"class",s);const w={};h[0]&32|h[1]&16&&(w.$$scope={dirty:h,ctx:_}),f.$set(w)},i(_){c||(k(f.$$.fragment,_),c=!0)},o(_){S(f.$$.fragment,_),c=!1},d(_){_&&(A(e),A(u)),p.d(),Y(f,_)}}}function t4(t){let e,n,o;return e=new Co({props:{$$slots:{default:[e4]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),n=H()},m(i,r){x(e,i,r),T(i,n,r),o=!0},p(i,r){const l={};r[0]&34|r[1]&16&&(l.$$scope={dirty:r,ctx:i}),e.$set(l)},i(i){o||(k(e.$$.fragment,i),o=!0)},o(i){S(e.$$.fragment,i),o=!1},d(i){i&&A(n),Y(e,i)}}}function vu(t){let e,n;return e=new ko({props:{openDelay:400,closeDelay:0,$$slots:{default:[t4]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(o,i){x(e,o,i),n=!0},p(o,i){const r={};i[0]&34|i[1]&16&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function wu(t){let e,n,o,i,r,l,a,s;return e=new pn({props:{cone:!0,x:[-.5,.5]}}),o=new pn({props:{cone:!0,amount:50,x:[-1,-.4],y:[.25,.75],rounded:!0,size:8}}),r=new pn({props:{cone:!0,amount:10,x:[.4,1],y:[.25,.75]}}),a=new pn({props:{infinite:!0,amount:75,delay:[0,200]}}),{c(){U(e.$$.fragment),n=H(),U(o.$$.fragment),i=H(),U(r.$$.fragment),l=H(),U(a.$$.fragment)},m(u,f){x(e,u,f),T(u,n,f),x(o,u,f),T(u,i,f),x(r,u,f),T(u,l,f),x(a,u,f),s=!0},i(u){s||(k(e.$$.fragment,u),k(o.$$.fragment,u),k(r.$$.fragment,u),k(a.$$.fragment,u),s=!0)},o(u){S(e.$$.fragment,u),S(o.$$.fragment,u),S(r.$$.fragment,u),S(a.$$.fragment,u),s=!1},d(u){u&&(A(n),A(i),A(l)),Y(e,u),Y(o,u),Y(r,u),Y(a,u)}}}function ku(t){let e,n=t[3]?`Hide ${t[4]} completed`:`Show ${t[4]} completed`,o;return{c(){e=M("span"),o=V(n),$(e,"class","text-xs opacity-65 cursor-pointer pb-2")},m(i,r){T(i,e,r),b(e,o)},p(i,r){r[0]&24&&n!==(n=i[3]?`Hide ${i[4]} completed`:`Show ${i[4]} completed`)&&ue(o,n)},d(i){i&&A(e)}}}function n4(t){let e,n;return e=new ud({props:{index:t[18],step:t[16]}}),{c(){U(e.$$.fragment)},m(o,i){x(e,o,i),n=!0},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function o4(t){let e,n;return e=new ud({props:{index:t[18],step:t[16]}}),{c(){U(e.$$.fragment)},m(o,i){x(e,o,i),n=!0},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function Cu(t){let e,n,o,i,r;const l=[o4,n4],a=[];function s(u,f){return f[0]&2&&(e=null),u[3]||u[18]==u[1].currentTutorialStep?0:(e==null&&(e=!u[16].isComplete(u[1])),e?1:-1)}return~(n=s(t,[-1,-1]))&&(o=a[n]=l[n](t)),{c(){o&&o.c(),i=De()},m(u,f){~n&&a[n].m(u,f),T(u,i,f),r=!0},p(u,f){let c=n;n=s(u,f),n!==c&&(o&&(Me(),S(a[c],1,1,()=>{a[c]=null}),Oe()),~n?(o=a[n],o||(o=a[n]=l[n](u),o.c()),k(o,1),o.m(i.parentNode,i)):o=null)},i(u){r||(k(o),r=!0)},o(u){S(o),r=!1},d(u){u&&A(i),~n&&a[n].d(u)}}}function i4(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,p,_,h,w,y,C,R,D,F,N,P,E,q=xe(t[6]),O=[];for(let J=0;J<q.length;J+=1)O[J]=gu(hu(t,q,J));const v=J=>S(O[J],1,1,()=>{O[J]=null});s=new ko({props:{openDelay:400,closeDelay:0,$$slots:{default:[V3]},$$scope:{ctx:t}}});let I=xe(t[5]),L=[];for(let J=0;J<I.length;J+=1)L[J]=vu(mu(t,I,J));const B=J=>S(L[J],1,1,()=>{L[J]=null});let j=t[8]&&wu(),K=t[1].currentTutorialStep>0&&ku(t),X=xe(to),z=[];for(let J=0;J<X.length;J+=1)z[J]=Cu(du(t,X,J));const oe=J=>S(z[J],1,1,()=>{z[J]=null});return{c(){e=M("div"),n=M("div"),o=M("div"),i=M("h1"),i.textContent="Stats",r=H();for(let J=0;J<O.length;J+=1)O[J].c();l=H(),a=M("div"),U(s.$$.fragment),u=H(),f=M("div"),c=H(),d=M("div"),m=M("div");for(let J=0;J<L.length;J+=1)L[J].c();p=H(),_=M("div"),h=M("div"),j&&j.c(),w=H(),y=M("h1"),y.textContent="Milestones",C=H(),K&&K.c(),R=H(),D=M("div");for(let J=0;J<z.length;J+=1)z[J].c();$(i,"class","text-lg w-full text-center pb-1"),$(o,"class","flex flex-col rounded-xl gap-2 w-full"),$(n,"class","flex flex-row w-full pb-6"),$(a,"class","flex flex-row justify-center"),$(f,"class","w-[full] flex flex-row justify-center"),$(m,"class","flex flex-col text-md text-nowrap gap-2"),$(y,"class","text-lg w-full text-center"),$(h,"class","text-lg w-full text-center noselect flex flex-col no-select"),$(D,"class","scroll overflow-y-scroll"),$(d,"class","flex flex-col gap-4 h-full"),$(e,"class",F="bg-sidebarBackground w-[220px] text-sidebarText border-foreground border-4 "+(t[7].visible&&!t[0]?"opacity-0":"")+" z-10 rounded-xl px-2 pt-2 transition-all ease-in-out duration-150 overflow-y-scroll scroll fixed right-3 top-16 sidebar bottom-4")},m(J,ne){T(J,e,ne),b(e,n),b(n,o),b(o,i),b(o,r);for(let _e=0;_e<O.length;_e+=1)O[_e]&&O[_e].m(o,null);b(e,l),b(e,a),x(s,a,null),b(e,u),b(e,f),b(e,c),b(e,d),b(d,m);for(let _e=0;_e<L.length;_e+=1)L[_e]&&L[_e].m(m,null);b(d,p),b(d,_),b(_,h),j&&j.m(h,null),b(h,w),b(h,y),b(h,C),K&&K.m(h,null),b(_,R),b(_,D);for(let _e=0;_e<z.length;_e+=1)z[_e]&&z[_e].m(D,null);N=!0,P||(E=te(h,"click",t[13]),P=!0)},p(J,ne){if(ne[0]&1088){q=xe(J[6]);let se;for(se=0;se<q.length;se+=1){const re=hu(J,q,se);O[se]?(O[se].p(re,ne),k(O[se],1)):(O[se]=gu(re),O[se].c(),k(O[se],1),O[se].m(o,null))}for(Me(),se=q.length;se<O.length;se+=1)v(se);Oe()}const _e={};if(ne[0]&6|ne[1]&16&&(_e.$$scope={dirty:ne,ctx:J}),s.$set(_e),ne[0]&546){I=xe(J[5]);let se;for(se=0;se<I.length;se+=1){const re=mu(J,I,se);L[se]?(L[se].p(re,ne),k(L[se],1)):(L[se]=vu(re),L[se].c(),k(L[se],1),L[se].m(m,null))}for(Me(),se=I.length;se<L.length;se+=1)B(se);Oe()}if(J[8]?j?ne[0]&256&&k(j,1):(j=wu(),j.c(),k(j,1),j.m(h,w)):j&&(Me(),S(j,1,1,()=>{j=null}),Oe()),J[1].currentTutorialStep>0?K?K.p(J,ne):(K=ku(J),K.c(),K.m(h,null)):K&&(K.d(1),K=null),ne[0]&10){X=xe(to);let se;for(se=0;se<X.length;se+=1){const re=du(J,X,se);z[se]?(z[se].p(re,ne),k(z[se],1)):(z[se]=Cu(re),z[se].c(),k(z[se],1),z[se].m(D,null))}for(Me(),se=X.length;se<z.length;se+=1)oe(se);Oe()}(!N||ne[0]&129&&F!==(F="bg-sidebarBackground w-[220px] text-sidebarText border-foreground border-4 "+(J[7].visible&&!J[0]?"opacity-0":"")+" z-10 rounded-xl px-2 pt-2 transition-all ease-in-out duration-150 overflow-y-scroll scroll fixed right-3 top-16 sidebar bottom-4"))&&$(e,"class",F)},i(J){if(!N){for(let ne=0;ne<q.length;ne+=1)k(O[ne]);k(s.$$.fragment,J);for(let ne=0;ne<I.length;ne+=1)k(L[ne]);k(j);for(let ne=0;ne<X.length;ne+=1)k(z[ne]);N=!0}},o(J){O=O.filter(Boolean);for(let ne=0;ne<O.length;ne+=1)S(O[ne]);S(s.$$.fragment,J),L=L.filter(Boolean);for(let ne=0;ne<L.length;ne+=1)S(L[ne]);S(j),z=z.filter(Boolean);for(let ne=0;ne<z.length;ne+=1)S(z[ne]);N=!1},d(J){J&&A(e),it(O,J),Y(s),it(L,J),j&&j.d(),K&&K.d(),it(z,J),P=!1,E()}}}function r4(t){return["food","wood","stone","metal","power","knowledge"].includes(t)}function Su(t){let e=0;for(let n=0;n<t.plots.length;n++)for(let o=0;o<t.plots[n].length;o++)t.plots[n][o].active==!0&&t.plots[n][o].type>-1&&e++;return e}function l4(){const t=new Audio("/alert.mp3");t.volume=.5,t.play().catch(e=>console.log("Error playing sound:",e))}function s4(t,e,n){let o,i,r;ae(t,Ne,C=>n(1,o=C)),ae(t,tt,C=>n(7,i=C)),ae(t,Bo,C=>n(8,r=C));let l=!1,a=!1,s=0,u=0,f=!1,{mini:c=!1}=e,d=[];qe("city_hall",o).length>0&&d.push({icon:"🧑‍⚖️",name:"bureaucracy",value:o.resources.bureaucracy,rate:o.resource_rate.bureaucracy});function m(C){let R=[];for(let D=0;D<ie.length;D++)(C!="knowledge"&&ie[D].requirements.resources[C]>0||C=="power"&&ie[D].active_costs.power>0||C=="knowledge"&&ie[D].requirements.knowledge>0)&&R.push(ie[D].title);return R}function p(C){return r4(C)?m(C):[]}let _;const h=C=>C===1?"bg-green-500":C>.9?"bg-yellow-500":"bg-red-500",w=C=>C>149?"bg-green-500":C>99?"bg-yellow-500":"bg-red-500",y=()=>{n(3,a=!a)};return t.$$set=C=>{"mini"in C&&n(0,c=C.mini)},t.$$.update=()=>{if(t.$$.dirty[0]&2&&n(4,s=to.filter(C=>C.isComplete(o)).length),t.$$.dirty[0]&2&&n(5,d=[{icon:"💰",name:"gold",value:o.townInfo.gold,rate:o.economyAndLaws.weeklyProfit},{icon:"🥕",name:"food",value:o.resources.food,rate:o.resource_rate.food},{icon:"🪵",name:"wood",value:o.resources.wood,rate:o.resource_rate.wood},{icon:"🪨",name:"stone",value:o.resources.stone,rate:o.resource_rate.stone},{icon:"🧠",name:"knowledge",value:o.townInfo.knowledge_points,rate:o.resource_rate.knowledge},{icon:"🧲",name:"metal",value:o.resources.metal,rate:o.resource_rate.metal},{icon:"🔋",name:"power",value:o.resources.power,rate:null}]),t.$$.dirty[0]&2&&n(6,_=[{name:"Happiness",description:"Happy townspeople spend more money and are less likely to leave.",value:o.townInfo.happiness,modifier:o.modifiers.happiness,color:w(o.townInfo.happiness),hover:!0,max:300},{name:"Health",description:"Healthy townspeople are less likely to die (and leave the town obviously).",value:o.townInfo.health,modifier:o.modifiers.health,color:w(o.townInfo.health),hover:!0,max:300},{name:"Community",description:"Townspeople that feel at home are less likely to leave, and less likely to get bored.",value:o.townInfo.community,modifier:o.modifiers.community,color:w(o.townInfo.community),hover:!0,max:300},{name:"Employment",description:"The number of people employed in your town. Unemployed people are more likely to leave.",value:o.townInfo.employees,modifier:null,color:h(o.townInfo.employees/o.townInfo.population_count),hover:!0,max:o.townInfo.population_count},{name:"🛝 Recreation",description:"Tracker for how many plots you have for recreation, which keeps townspeople happy. <br/><br/>Make sure as your town grows that you build enough 🛝 plots. ",value:o.townInfo.recreation,modifier:null,color:o.townInfo.recreation/Su(o)>=.2?"bg-green-500":"bg-orange-300",hover:!0,max:Su(o)}]),t.$$.dirty[0]&6147){const C=o.resources.food>=o.resource_capacity||o.resources.wood>=o.resource_capacity||o.resources.stone>=o.resource_capacity||o.resources.metal>=o.resource_capacity,R=Date.now();C&&!f&&R-u>3e4&&!c&&!o.gameSettings.includes("bagOfHolding")&&localStorage.getItem(Pt)==null&&(l4(),n(11,u=R)),n(12,f=C),n(2,l=C)}},[c,o,l,a,s,d,_,i,r,p,w,u,f,y]}class fd extends he{constructor(e){super(),pe(this,e,s4,i4,de,{mini:0},null,[-1,-1])}}function Au(t,e,n){const o=t.slice();return o[4]=e[n],o[6]=n,o}function Tu(t,e,n){const o=t.slice();return o[4]=e[n],o[6]=n,o}function Iu(t,e,n){const o=t.slice();return o[4]=e[n],o[6]=n,o}function Mu(t){let e,n,o,i=ie[Se(t[0].id)].title+"",r,l,a,s=ie[Se(t[0].id)].description+"",u,f,c,d,m,p,_,h,w,y=t[3]("💰",ie[Se(t[0].id)].requirements.gold,t[2].townInfo.gold)+"",C,R,D=t[3]("🥕",ie[Se(t[0].id)].requirements.resources.food,t[2].resources.food)+"",F,N,P=t[3]("🧠",ie[Se(t[0].id)].requirements.knowledge,t[2].townInfo.knowledge_points)+"",E,q,O=t[3]("🪵",ie[Se(t[0].id)].requirements.resources.wood,t[2].resources.wood)+"",v,I,L=t[3]("🪨",ie[Se(t[0].id)].requirements.resources.stone,t[2].resources.stone)+"",B,j,K=t[3]("🧲",ie[Se(t[0].id)].requirements.resources.metal,t[2].resources.metal)+"",X,z,oe=t[3]("🔋",ie[Se(t[0].id)].active_costs.power,t[2].resources.power)+"",J,ne,_e=t[3]("🧑‍⚖️",ie[Se(t[0].id)].requirements.resources.bureaucracy,t[2].resources.bureaucracy)+"",se,re=ie[Se(t[0].id)].requirements.employees!=0,je,Fe=ie[Se(t[0].id)].revenue_per_week!=0,Ue,g=Object.values(ie[Se(t[0].id)].active_costs).some(Gu),Z,W=Object.values(ie[Se(t[0].id)].requirements.plots).length>0,ee,me=Object.values(ie[Se(t[0].id)].generated_resources).some(Hu)||ie[Se(t[0].id)].knowledge_points_per_month>0,ge;d=new vt({props:{class:"bg-accent opacity-25 mt-1 mb-1"}});let Pe=re&&Ou(t),Re=Fe&&Pu(t),We=g&&Nu(t),$e=W&&Ru(t),Je=me&&ju(t);return{c(){e=M("div"),n=M("div"),o=M("span"),r=V(i),l=H(),a=M("span"),u=V(s),f=H(),c=M("div"),U(d.$$.fragment),m=H(),p=M("span"),p.textContent="Requirements",_=H(),h=M("div"),w=new Zt(!1),C=H(),R=new Zt(!1),F=H(),N=new Zt(!1),E=H(),q=new Zt(!1),v=H(),I=new Zt(!1),B=H(),j=new Zt(!1),X=H(),z=new Zt(!1),J=H(),ne=new Zt(!1),se=H(),Pe&&Pe.c(),je=H(),Re&&Re.c(),Ue=H(),We&&We.c(),Z=H(),$e&&$e.c(),ee=H(),Je&&Je.c(),$(o,"class","text-md"),$(a,"class","text-xs"),$(n,"class","flex flex-col gap-2"),$(p,"class","font-semibold"),w.a=C,R.a=F,N.a=E,q.a=v,I.a=B,j.a=X,z.a=J,ne.a=se,$(h,"class","flex flex-row gap-1 flex-wrap"),$(c,"class","flex flex-col w-36 h-min gap-0 text-xs pb-2"),$(e,"class","p-2 max-w-64")},m(ke,Be){T(ke,e,Be),b(e,n),b(n,o),b(o,r),b(n,l),b(n,a),b(a,u),b(e,f),b(e,c),x(d,c,null),b(c,m),b(c,p),b(c,_),b(c,h),w.m(y,h),b(h,C),R.m(D,h),b(h,F),N.m(P,h),b(h,E),q.m(O,h),b(h,v),I.m(L,h),b(h,B),j.m(K,h),b(h,X),z.m(oe,h),b(h,J),ne.m(_e,h),b(h,se),Pe&&Pe.m(h,null),b(e,je),Re&&Re.m(e,null),b(e,Ue),We&&We.m(e,null),b(e,Z),$e&&$e.m(e,null),b(e,ee),Je&&Je.m(e,null),ge=!0},p(ke,Be){(!ge||Be&1)&&i!==(i=ie[Se(ke[0].id)].title+"")&&ue(r,i),(!ge||Be&1)&&s!==(s=ie[Se(ke[0].id)].description+"")&&ue(u,s),(!ge||Be&5)&&y!==(y=ke[3]("💰",ie[Se(ke[0].id)].requirements.gold,ke[2].townInfo.gold)+"")&&w.p(y),(!ge||Be&5)&&D!==(D=ke[3]("🥕",ie[Se(ke[0].id)].requirements.resources.food,ke[2].resources.food)+"")&&R.p(D),(!ge||Be&5)&&P!==(P=ke[3]("🧠",ie[Se(ke[0].id)].requirements.knowledge,ke[2].townInfo.knowledge_points)+"")&&N.p(P),(!ge||Be&5)&&O!==(O=ke[3]("🪵",ie[Se(ke[0].id)].requirements.resources.wood,ke[2].resources.wood)+"")&&q.p(O),(!ge||Be&5)&&L!==(L=ke[3]("🪨",ie[Se(ke[0].id)].requirements.resources.stone,ke[2].resources.stone)+"")&&I.p(L),(!ge||Be&5)&&K!==(K=ke[3]("🧲",ie[Se(ke[0].id)].requirements.resources.metal,ke[2].resources.metal)+"")&&j.p(K),(!ge||Be&5)&&oe!==(oe=ke[3]("🔋",ie[Se(ke[0].id)].active_costs.power,ke[2].resources.power)+"")&&z.p(oe),(!ge||Be&5)&&_e!==(_e=ke[3]("🧑‍⚖️",ie[Se(ke[0].id)].requirements.resources.bureaucracy,ke[2].resources.bureaucracy)+"")&&ne.p(_e),Be&1&&(re=ie[Se(ke[0].id)].requirements.employees!=0),re?Pe?Pe.p(ke,Be):(Pe=Ou(ke),Pe.c(),Pe.m(h,null)):Pe&&(Pe.d(1),Pe=null),Be&1&&(Fe=ie[Se(ke[0].id)].revenue_per_week!=0),Fe?Re?(Re.p(ke,Be),Be&1&&k(Re,1)):(Re=Pu(ke),Re.c(),k(Re,1),Re.m(e,Ue)):Re&&(Me(),S(Re,1,1,()=>{Re=null}),Oe()),Be&1&&(g=Object.values(ie[Se(ke[0].id)].active_costs).some(Gu)),g?We?(We.p(ke,Be),Be&1&&k(We,1)):(We=Nu(ke),We.c(),k(We,1),We.m(e,Z)):We&&(Me(),S(We,1,1,()=>{We=null}),Oe()),Be&1&&(W=Object.values(ie[Se(ke[0].id)].requirements.plots).length>0),W?$e?($e.p(ke,Be),Be&1&&k($e,1)):($e=Ru(ke),$e.c(),k($e,1),$e.m(e,ee)):$e&&(Me(),S($e,1,1,()=>{$e=null}),Oe()),Be&1&&(me=Object.values(ie[Se(ke[0].id)].generated_resources).some(Hu)||ie[Se(ke[0].id)].knowledge_points_per_month>0),me?Je?(Je.p(ke,Be),Be&1&&k(Je,1)):(Je=ju(ke),Je.c(),k(Je,1),Je.m(e,null)):Je&&(Me(),S(Je,1,1,()=>{Je=null}),Oe())},i(ke){ge||(k(d.$$.fragment,ke),k(Re),k(We),k($e),k(Je),ge=!0)},o(ke){S(d.$$.fragment,ke),S(Re),S(We),S($e),S(Je),ge=!1},d(ke){ke&&A(e),Y(d),Pe&&Pe.d(),Re&&Re.d(),We&&We.d(),$e&&$e.d(),Je&&Je.d()}}}function Ou(t){let e,n,o=ie[Se(t[0].id)].requirements.employees+"",i,r,l;return{c(){e=M("span"),n=V("👥 "),i=V(o),r=V(" employees"),$(e,"class",l=ie[Se(t[0].id)].requirements.employees>t[2].townInfo.population_count-t[2].townInfo.employees&&t[1]?"px-1 text-textDanger font-bold border-2 border-red-400":"")},m(a,s){T(a,e,s),b(e,n),b(e,i),b(e,r)},p(a,s){s&1&&o!==(o=ie[Se(a[0].id)].requirements.employees+"")&&ue(i,o),s&7&&l!==(l=ie[Se(a[0].id)].requirements.employees>a[2].townInfo.population_count-a[2].townInfo.employees&&a[1]?"px-1 text-textDanger font-bold border-2 border-red-400":"")&&$(e,"class",l)},d(a){a&&A(e)}}}function Pu(t){let e,n,o,i,r,l,a,s=ie[Se(t[0].id)].revenue_per_week+"",u,f;return n=new vt({props:{class:"bg-accent opacity-25 mt-0"}}),{c(){e=M("div"),U(n.$$.fragment),o=H(),i=M("span"),i.textContent="Weekly revenue",r=H(),l=M("span"),a=V("💰 "),u=V(s),$(i,"class","font-semibold"),$(e,"class","flex flex-col gap-1 text-xs")},m(c,d){T(c,e,d),x(n,e,null),b(e,o),b(e,i),b(e,r),b(e,l),b(l,a),b(l,u),f=!0},p(c,d){(!f||d&1)&&s!==(s=ie[Se(c[0].id)].revenue_per_week+"")&&ue(u,s)},i(c){f||(k(n.$$.fragment,c),f=!0)},o(c){S(n.$$.fragment,c),f=!1},d(c){c&&A(e),Y(n)}}}function Nu(t){let e,n,o,i,r,l;n=new vt({props:{class:"bg-accent opacity-25 mt-2"}});let a=xe(Object.keys(ie[Se(t[0].id)].active_costs)),s=[];for(let u=0;u<a.length;u+=1)s[u]=$u(Iu(t,a,u));return{c(){e=M("div"),U(n.$$.fragment),o=H(),i=M("span"),i.textContent="Weekly Costs",r=H();for(let u=0;u<s.length;u+=1)s[u].c();$(i,"class","font-semibold"),$(e,"class","flex flex-col gap-1 text-xs")},m(u,f){T(u,e,f),x(n,e,null),b(e,o),b(e,i),b(e,r);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(e,null);l=!0},p(u,f){if(f&1){a=xe(Object.keys(ie[Se(u[0].id)].active_costs));let c;for(c=0;c<a.length;c+=1){const d=Iu(u,a,c);s[c]?s[c].p(d,f):(s[c]=$u(d),s[c].c(),s[c].m(e,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=a.length}},i(u){l||(k(n.$$.fragment,u),l=!0)},o(u){S(n.$$.fragment,u),l=!1},d(u){u&&A(e),Y(n),it(s,u)}}}function Eu(t){let e,n=io(t[4])+"",o,i,r=Ji(t[4])+"",l,a,s=-1*Object.values(ie[Se(t[0].id)].active_costs)[t[6]]+"",u,f,c;return{c(){e=M("span"),o=V(n),i=H(),l=V(r),a=H(),u=V(s),f=H(),$(e,"class",c=Object.values(ie[Se(t[0].id)].active_costs)[t[6]]>0?"text-textDanger":"text-textHappy")},m(d,m){T(d,e,m),b(e,o),b(e,i),b(e,l),b(e,a),b(e,u),b(e,f)},p(d,m){m&1&&n!==(n=io(d[4])+"")&&ue(o,n),m&1&&r!==(r=Ji(d[4])+"")&&ue(l,r),m&1&&s!==(s=-1*Object.values(ie[Se(d[0].id)].active_costs)[d[6]]+"")&&ue(u,s),m&1&&c!==(c=Object.values(ie[Se(d[0].id)].active_costs)[d[6]]>0?"text-textDanger":"text-textHappy")&&$(e,"class",c)},d(d){d&&A(e)}}}function $u(t){let e=Object.values(ie[Se(t[0].id)].active_costs)[t[6]]!=0,n,o=e&&Eu(t);return{c(){o&&o.c(),n=De()},m(i,r){o&&o.m(i,r),T(i,n,r)},p(i,r){r&1&&(e=Object.values(ie[Se(i[0].id)].active_costs)[i[6]]!=0),e?o?o.p(i,r):(o=Eu(i),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(i){i&&A(n),o&&o.d(i)}}}function Ru(t){let e,n,o,i,r,l;n=new vt({props:{class:"bg-accent opacity-25 mt-2"}});let a=xe(Object.keys(ie[Se(t[0].id)].requirements.plots)),s=[];for(let u=0;u<a.length;u+=1)s[u]=Du(Tu(t,a,u));return{c(){e=M("div"),U(n.$$.fragment),o=H(),i=M("span"),i.textContent="Required Plots",r=H();for(let u=0;u<s.length;u+=1)s[u].c();$(i,"class","font-semibold"),$(e,"class","flex flex-col gap-1 text-xs")},m(u,f){T(u,e,f),x(n,e,null),b(e,o),b(e,i),b(e,r);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(e,null);l=!0},p(u,f){if(f&5){a=xe(Object.keys(ie[Se(u[0].id)].requirements.plots));let c;for(c=0;c<a.length;c+=1){const d=Tu(u,a,c);s[c]?s[c].p(d,f):(s[c]=Du(d),s[c].c(),s[c].m(e,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=a.length}},i(u){l||(k(n.$$.fragment,u),l=!0)},o(u){S(n.$$.fragment,u),l=!1},d(u){u&&A(e),Y(n),it(s,u)}}}function Lu(t){var l;let e,n=((l=Bl(Object.values(ie[Se(t[0].id)].requirements.plots)[t[6]]))==null?void 0:l.title)+"",o,i,r;return{c(){e=M("span"),o=V(n),i=H(),$(e,"class",r=qe(Object.values(ie[Se(t[0].id)].requirements.plots)[t[6]],t[2]).length==0?"text-textDanger border-2 border-red-400 font-semibold px-1":"text-textHappy")},m(a,s){T(a,e,s),b(e,o),b(e,i)},p(a,s){var u;s&1&&n!==(n=((u=Bl(Object.values(ie[Se(a[0].id)].requirements.plots)[a[6]]))==null?void 0:u.title)+"")&&ue(o,n),s&5&&r!==(r=qe(Object.values(ie[Se(a[0].id)].requirements.plots)[a[6]],a[2]).length==0?"text-textDanger border-2 border-red-400 font-semibold px-1":"text-textHappy")&&$(e,"class",r)},d(a){a&&A(e)}}}function Du(t){let e=Object.values(ie[Se(t[0].id)].requirements.plots)[t[6]]!=0,n,o=e&&Lu(t);return{c(){o&&o.c(),n=De()},m(i,r){o&&o.m(i,r),T(i,n,r)},p(i,r){r&1&&(e=Object.values(ie[Se(i[0].id)].requirements.plots)[i[6]]!=0),e?o?o.p(i,r):(o=Lu(i),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(i){i&&A(n),o&&o.d(i)}}}function ju(t){let e,n,o,i,r,l=ie[Se(t[0].id)].knowledge_points_per_month>0,a,s;n=new vt({props:{class:"bg-accent opacity-25 mt-2"}});let u=l&&Fu(t),f=xe(Object.keys(ie[Se(t[0].id)].generated_resources)),c=[];for(let d=0;d<f.length;d+=1)c[d]=Bu(Au(t,f,d));return{c(){e=M("div"),U(n.$$.fragment),o=H(),i=M("span"),i.textContent="Generated Resources",r=H(),u&&u.c(),a=H();for(let d=0;d<c.length;d+=1)c[d].c();$(i,"class","font-semibold"),$(e,"class","flex flex-col gap-1 text-xs")},m(d,m){T(d,e,m),x(n,e,null),b(e,o),b(e,i),b(e,r),u&&u.m(e,null),b(e,a);for(let p=0;p<c.length;p+=1)c[p]&&c[p].m(e,null);s=!0},p(d,m){if(m&1&&(l=ie[Se(d[0].id)].knowledge_points_per_month>0),l?u?u.p(d,m):(u=Fu(d),u.c(),u.m(e,a)):u&&(u.d(1),u=null),m&1){f=xe(Object.keys(ie[Se(d[0].id)].generated_resources));let p;for(p=0;p<f.length;p+=1){const _=Au(d,f,p);c[p]?c[p].p(_,m):(c[p]=Bu(_),c[p].c(),c[p].m(e,null))}for(;p<c.length;p+=1)c[p].d(1);c.length=f.length}},i(d){s||(k(n.$$.fragment,d),s=!0)},o(d){S(n.$$.fragment,d),s=!1},d(d){d&&A(e),Y(n),u&&u.d(),it(c,d)}}}function Fu(t){let e,n,o=Math.round(ie[Se(t[0].id)].knowledge_points_per_month)+"",i,r;return{c(){e=M("span"),n=V("🧠 "),i=V(o),r=V(" (monthly)")},m(l,a){T(l,e,a),b(e,n),b(e,i),b(e,r)},p(l,a){a&1&&o!==(o=Math.round(ie[Se(l[0].id)].knowledge_points_per_month)+"")&&ue(i,o)},d(l){l&&A(e)}}}function qu(t){let e,n=Ji(t[4])+"",o,i,r=io(t[4])+"",l,a,s=Hl(Object.values(ie[Se(t[0].id)].generated_resources)[t[6]],!1)+"",u,f,c;return{c(){e=M("span"),o=V(n),i=H(),l=V(r),a=H(),u=V(s),f=H(),$(e,"class",c=Object.values(ie[Se(t[0].id)].generated_resources)[t[6]]>0?"text-textHappy":"text-textDanger")},m(d,m){T(d,e,m),b(e,o),b(e,i),b(e,l),b(e,a),b(e,u),b(e,f)},p(d,m){m&1&&n!==(n=Ji(d[4])+"")&&ue(o,n),m&1&&r!==(r=io(d[4])+"")&&ue(l,r),m&1&&s!==(s=Hl(Object.values(ie[Se(d[0].id)].generated_resources)[d[6]],!1)+"")&&ue(u,s),m&1&&c!==(c=Object.values(ie[Se(d[0].id)].generated_resources)[d[6]]>0?"text-textHappy":"text-textDanger")&&$(e,"class",c)},d(d){d&&A(e)}}}function Bu(t){let e=Object.values(ie[Se(t[0].id)].generated_resources)[t[6]]!=0,n,o=e&&qu(t);return{c(){o&&o.c(),n=De()},m(i,r){o&&o.m(i,r),T(i,n,r)},p(i,r){r&1&&(e=Object.values(ie[Se(i[0].id)].generated_resources)[i[6]]!=0),e?o?o.p(i,r):(o=qu(i),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(i){i&&A(n),o&&o.d(i)}}}function a4(t){let e,n,o=t[0]!=null&&Mu(t);return{c(){o&&o.c(),e=De()},m(i,r){o&&o.m(i,r),T(i,e,r),n=!0},p(i,[r]){i[0]!=null?o?(o.p(i,r),r&1&&k(o,1)):(o=Mu(i),o.c(),k(o,1),o.m(e.parentNode,e)):o&&(Me(),S(o,1,1,()=>{o=null}),Oe())},i(i){n||(k(o),n=!0)},o(i){S(o),n=!1},d(i){i&&A(e),o&&o.d(i)}}}function Ji(t){switch(t){case"food":return"🥕";case"knowledge":return"🧠";case"wood":return"🪵";case"stone":return"🪨";case"metal":return"🧲";case"power":return"🔋";case"bureaucracy":return"🧑‍⚖️";default:return"💰"}}const Hu=t=>t!=0,Gu=t=>t!=0;function u4(t,e,n){let o;ae(t,Ne,a=>n(2,o=a));let{option:i}=e,{checkRequirements:r=!0}=e;function l(a,s,u){if(s==0||s==null)return"<span class='hidden'></span>";let f="",c="";return u<s&&r&&(c="text-textDanger border-2 border-red-400 px-2"),f=`<span class='${c}'>${a} ${Dt(s,!1)}</span>`,f}return t.$$set=a=>{"option"in a&&n(0,i=a.option),"checkRequirements"in a&&n(1,r=a.checkRequirements)},[i,r,o,l]}class cd extends he{constructor(e){super(),pe(this,e,u4,a4,de,{option:0,checkRequirements:1})}}function Vu(t,e,n){const o=t.slice();return o[19]=e[n],o}function f4(t){let e,n;return{c(){e=M("span"),n=V(t[3]),$(e,"class","text-[11px] text-wrap")},m(o,i){T(o,e,i),b(e,n)},p(o,i){i&8&&ue(n,o[3])},d(o){o&&A(e)}}}function c4(t){let e;return{c(){e=M("span"),e.textContent="Click to bulldoze",$(e,"class","text-[11px] text-wrap text-yellow-300")},m(n,o){T(n,e,o)},p:Te,d(n){n&&A(e)}}}function d4(t){let e,n,o,i,r;return{c(){e=M("span"),n=V(`Hires
              `),o=M("span"),i=V(t[9]),r=V(`

              employees`),$(o,"class",t[10]+" font-medium svelte-1c0sbj7"),$(e,"class","text-[11px] opacity-80")},m(l,a){T(l,e,a),b(e,n),b(e,o),b(o,i),b(e,r)},p:Te,d(l){l&&A(e)}}}function m4(t){let e;return{c(){e=M("span"),e.textContent=`+💰${Dt(t[8],!1)}/wk`},m(n,o){T(n,e,o)},p:Te,d(n){n&&A(e)}}}function p4(t){let e;return{c(){e=M("span"),e.textContent=`🔌${t[11]}`},m(n,o){T(n,e,o)},p:Te,d(n){n&&A(e)}}}function Wu(t){let e,n,o,i,r=xe(t[13]()),l=[];for(let a=0;a<r.length;a+=1)l[a]=xu(Vu(t,r,a));return{c(){e=M("div"),n=M("div"),o=M("div"),o.textContent=`${t[4]}`,i=H();for(let a=0;a<l.length;a+=1)l[a].c();$(o,"class","text-white font-bold text-lg mb-2"),$(n,"class","p-2 text-center mt-4"),$(e,"class","absolute inset-0 flex items-start justify-center rounded-xl bg-black/80")},m(a,s){T(a,e,s),b(e,n),b(n,o),b(n,i);for(let u=0;u<l.length;u+=1)l[u]&&l[u].m(n,null)},p(a,s){if(s&8192){r=xe(a[13]());let u;for(u=0;u<r.length;u+=1){const f=Vu(a,r,u);l[u]?l[u].p(f,s):(l[u]=xu(f),l[u].c(),l[u].m(n,null))}for(;u<l.length;u+=1)l[u].d(1);l.length=r.length}},d(a){a&&A(e),it(l,a)}}}function xu(t){let e;return{c(){e=M("div"),e.textContent=`${t[19]} `,$(e,"class","text-red-400 font-semibold text-xs mb-1")},m(n,o){T(n,e,o)},p:Te,d(n){n&&A(e)}}}function h4(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,p=Dt(t[6],!1)+"",_,h,w,y,C,R,D,F,N;function P(B,j){if(B[0].selected)return c4;if(B[3])return f4}let E=P(t),q=E&&E(t),O=t[9]&&d4(t),v=t[8]>0&&m4(t),I=t[11]>0&&p4(t),L=!t[2].affordable&&!t[0].selected&&Wu(t);return{c(){e=M("div"),n=M("div"),o=M("div"),i=M("span"),i.textContent=`${t[5]}`,r=H(),l=M("span"),l.textContent=`${t[4]}`,a=H(),q&&q.c(),s=H(),u=M("div"),O&&O.c(),f=H(),c=M("div"),d=M("span"),m=V("💰"),_=V(p),h=H(),v&&v.c(),w=H(),y=M("div"),I&&I.c(),R=H(),L&&L.c(),$(i,"class","text-3xl"),$(l,"class","font-medium text-center text-md"),$(o,"class","flex flex-col flex-grow rounded-xl p-2 gap-0 justify-center items-center"),$(d,"class",""+t[7]+" svelte-1c0sbj7"),$(c,"class","flex flex-row justify-between mx-2 text-[11px] font-mono items-center"),$(y,"class","flex flex-row justify-between mx-2 text-[11px] font-mono"),$(u,"class","bg-sidebarBackground text-black rounded-t-lg py-1"),$(n,"class",C="flex flex-col w-36 h-48 min-h-32 min-w-36 rounded-xl text-white drop-shadow-lg border-black border-2 hover:translate-y-[-8px] transition-transform duration-300 ease-in-out z-100 "+(t[0].selected?"border-4 border-white scale-105":"")),Qe(n,"background",t[12]),$(e,"class","plotOption relative svelte-1c0sbj7"),$(e,"data-plotoptionid",D=t[0].id)},m(B,j){T(B,e,j),b(e,n),b(n,o),b(o,i),b(o,r),b(o,l),b(o,a),q&&q.m(o,null),b(n,s),b(n,u),O&&O.m(u,null),b(u,f),b(u,c),b(c,d),b(d,m),b(d,_),b(c,h),v&&v.m(c,null),b(u,w),b(u,y),I&&I.m(y,null),b(e,R),L&&L.m(e,null),F||(N=te(e,"click",function(){jt(t[2].affordable?t[16]:Yu)&&(t[2].affordable?t[16]:Yu).apply(this,arguments)}),F=!0)},p(B,j){t=B,E===(E=P(t))&&q?q.p(t,j):(q&&q.d(1),q=E&&E(t),q&&(q.c(),q.m(o,null))),t[9]&&O.p(t,j),t[8]>0&&v.p(t,j),t[11]>0&&I.p(t,j),j&1&&C!==(C="flex flex-col w-36 h-48 min-h-32 min-w-36 rounded-xl text-white drop-shadow-lg border-black border-2 hover:translate-y-[-8px] transition-transform duration-300 ease-in-out z-100 "+(t[0].selected?"border-4 border-white scale-105":""))&&$(n,"class",C),!t[2].affordable&&!t[0].selected?L?L.p(t,j):(L=Wu(t),L.c(),L.m(e,null)):L&&(L.d(1),L=null),j&1&&D!==(D=t[0].id)&&$(e,"data-plotoptionid",D)},d(B){B&&A(e),q&&q.d(),O&&O.d(),v&&v.d(),I&&I.d(),L&&L.d(),F=!1,N()}}}function _4(t){let e,n;return e=new cd({props:{option:t[0],checkRequirements:!0}}),{c(){U(e.$$.fragment)},m(o,i){x(e,o,i),n=!0},p(o,i){const r={};i&1&&(r.option=o[0]),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function g4(t){let e,n,o,i;return e=new Co({props:{$$slots:{default:[h4]},$$scope:{ctx:t}}}),o=new wo({props:{$$slots:{default:[_4]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),n=H(),U(o.$$.fragment)},m(r,l){x(e,r,l),T(r,n,l),x(o,r,l),i=!0},p(r,l){const a={};l&4194319&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&4194305&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&A(n),Y(e,r),Y(o,r)}}}function b4(t){let e,n;return e=new ko({props:{openDelay:400,closeDelay:0,$$slots:{default:[g4]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(o,i){x(e,o,i),n=!0},p(o,[i]){const r={};i&4194319&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}const Yu=()=>{};function y4(t,e,n){let o;ae(t,Ne,D=>n(15,o=D));let{option:i}=e,{purchaseCallback:r}=e,{isAffordable:l}=e,a=i.title,s=i.emoji,u=i.requirements.gold,f=o.townInfo.gold<u?"text-red-500 font-semibold":"",c=i.revenue_per_week,d=i.requirements.employees,m=o.townInfo.population_count-o.townInfo.employees<d?"text-red-500 font-semibold":"",p=i.active_costs.power,_=$r(Se(i.id),!1,5),{count:h=0}=e,w="";const y=Object.entries(i.generated_resources).filter(([D,F])=>F>0).map(([D,F])=>`${F} ${D}`);y.length>0&&(w=`Produces: ${y.join(", ")}`);function C(){const D=[];return l.gold||D.push("Not enough gold"),l.knowledge||D.push("Not enough knowledge"),l.resources||D.push("Missing resources"),l.employees||D.push("Not enough workers"),l.activeCosts||D.push("Can't support upkeep"),l.adjacent||D.push("Wrong location"),l.requiredPlots||D.push("Missing required buildings"),D}const R=()=>r(i);return t.$$set=D=>{"option"in D&&n(0,i=D.option),"purchaseCallback"in D&&n(1,r=D.purchaseCallback),"isAffordable"in D&&n(2,l=D.isAffordable),"count"in D&&n(14,h=D.count)},t.$$.update=()=>{t.$$.dirty&32768},[i,r,l,w,a,s,u,f,c,d,m,p,_,C,h,o,R]}class v4 extends he{constructor(e){super(),pe(this,e,y4,b4,de,{option:0,purchaseCallback:1,isAffordable:2,count:14})}}const{Map:w4}=bd;function Uu(t,e,n){const o=t.slice();return o[21]=e[n],o}function Ku(t){let e,n,o,i,r,l,a,s,u,f,c=[],d=new w4,m,p,_,h,w,y,C,R,D=xe(t[5].filter(t[11]));const F=N=>N[21].id;for(let N=0;N<D.length;N+=1){let P=Uu(t,D,N),E=F(P);d.set(E,c[N]=Ju(E,P))}return h=new fd({props:{mini:!0}}),{c(){e=M("div"),o=H(),i=M("div"),r=M("div"),l=M("div"),a=M("div"),s=M("div"),u=M("div"),f=M("div");for(let N=0;N<c.length;N+=1)c[N].c();p=H(),_=M("div"),U(h.$$.fragment),$(e,"class","fixed inset-0 bg-black/20 z-[998]"),$(f,"class",m="flex flex-row text-start justify-start items-start flex-wrap py-8 px-8 max-w-[75vw] "+(t[3].isMineralSource,"pt-6 gap-2")+" w-full align-middle"),$(s,"class","flex gap-1 pb-24 overflow-scroll max-h-["+Xu+"]"),$(a,"class","flex flex-row gap-2 justify-start pt-8 flex-grow w-full"),$(r,"class","h-max w-full flex-grow"),$(i,"class","w-[100vw] fixed bottom-0 max-h-["+Xu+"] z-[999] flex flex-row justify-center text-center items-center bg-popupBackground text-sidebarText px-4 shadow-2xl rounded-t-2xl")},m(N,P){T(N,e,P),T(N,o,P),T(N,i,P),b(i,r),b(r,l),b(l,a),b(a,s),b(s,u),b(u,f);for(let E=0;E<c.length;E+=1)c[E]&&c[E].m(f,null);b(i,p),b(i,_),x(h,_,null),y=!0,C||(R=[te(e,"click",t[10]),te(a,"click",t[6]),te(i,"click",wd(t[9]))],C=!0)},p(N,P){P&59&&(D=xe(N[5].filter(N[11])),Me(),c=$d(c,P,F,1,N,D,d,f,Ed,Ju,null,Uu),Oe()),(!y||P&8&&m!==(m="flex flex-row text-start justify-start items-start flex-wrap py-8 px-8 max-w-[75vw] "+(N[3].isMineralSource,"pt-6 gap-2")+" w-full align-middle"))&&$(f,"class",m)},i(N){if(!y){N&&nt(()=>{y&&(n||(n=gt(e,Fi,{duration:200},!0)),n.run(1))});for(let P=0;P<D.length;P+=1)k(c[P]);k(h.$$.fragment,N),N&&nt(()=>{y&&(w||(w=gt(i,aa,{duration:200,axis:"y"},!0)),w.run(1))}),y=!0}},o(N){N&&(n||(n=gt(e,Fi,{duration:200},!1)),n.run(0));for(let P=0;P<c.length;P+=1)S(c[P]);S(h.$$.fragment,N),N&&(w||(w=gt(i,aa,{duration:200,axis:"y"},!1)),w.run(0)),y=!1},d(N){N&&(A(e),A(o),A(i)),N&&n&&n.end();for(let P=0;P<c.length;P+=1)c[P].d();Y(h),N&&w&&w.end(),C=!1,Ye(R)}}}function Ju(t,e){let n,o,i;return o=new v4({props:{option:e[21],purchaseCallback:S4,isAffordable:Vo(e[21],e[4],e[0],e[1])}}),{key:t,first:null,c(){n=De(),U(o.$$.fragment),this.first=n},m(r,l){T(r,n,l),x(o,r,l),i=!0},p(r,l){e=r;const a={};l&40&&(a.option=e[21]),l&59&&(a.isAffordable=Vo(e[21],e[4],e[0],e[1])),o.$set(a)},i(r){i||(k(o.$$.fragment,r),i=!0)},o(r){S(o.$$.fragment,r),i=!1},d(r){r&&A(n),Y(o,r)}}}function k4(t){let e=t[2]&&localStorage.getItem(Pt)==null,n,o,i=e&&Ku(t);return{c(){i&&i.c(),n=De()},m(r,l){i&&i.m(r,l),T(r,n,l),o=!0},p(r,[l]){l&4&&(e=r[2]&&localStorage.getItem(Pt)==null),e?i?(i.p(r,l),l&4&&k(i,1)):(i=Ku(r),i.c(),k(i,1),i.m(n.parentNode,n)):i&&(Me(),S(i,1,1,()=>{i=null}),Oe())},i(r){o||(k(i),o=!0)},o(r){S(i),o=!1},d(r){r&&A(n),i&&i.d(r)}}}const Xu="50vh";function C4(t,e,n){return t>=0&&t<n.length&&e>=0&&e<n[0].length&&!n[t][e].water&&!n[t][e].disabled}function di(t,e,n,o,i){let r=t+n,l=e+o;for(;r>=0&&r<i.length&&l>=0&&l<i[0].length;){if(C4(r,l,i))return[r,l];r+=n,l+=o}return null}const S4=()=>{};function A4(t,e,n){let o,i,r,l;ae(t,tt,N=>n(3,r=N)),ae(t,Ne,N=>n(4,l=N));let{x:a=0}=e,{y:s=0}=e,{open:u=!1}=e,{tooltip:f=""}=e,c=ie,d;const m=new Map;function p(N){return m.has(N)||m.set(N,ie.findIndex(P=>P.id===N)),m.get(N)}function _(N){return l.plots[a][s].type>-1?c[l.plots[a][s].type].id===N.id:!1}function h(N){const P=N.target.closest(".plotOption");if(P){const E=P.dataset.plotoptionid;if(E===l.plots[a][s].typeId){y();return}w(E)}}function w(N){const P=p(N),E=c[P];let q=l;if(Vo(E,q,a,s).affordable){if(q.plots[a][s].type!==-1&&lo(a,s,q),n(7,f=""),q.plots[a][s].type=P,q.plots[a][s].active=!0,q.plots[a][s].typeId=E.id,q.townInfo.gold-=E.requirements.gold,q.townInfo.gold=ot(q.townInfo.gold,2),q.townInfo.population_count+=E.immediate_variable_changes.population,q.townInfo.population_max+=E.immediate_variable_changes.population,q.townInfo.happiness+=E.immediate_variable_changes.happiness,q.townInfo.health+=E.immediate_variable_changes.health,q.modifiers.happiness=ot(q.modifiers.happiness*E.purchase_effect_modifiers.happiness,2),q.modifiers.health=ot(q.modifiers.health*E.purchase_effect_modifiers.health,2),q.modifiers.community=ot(q.modifiers.community*E.purchase_effect_modifiers.community,2),q.townInfo.employees+=E.requirements.employees,(q.plotCounts[P]===void 0||q.plotCounts[P]===null)&&(q.plotCounts[P]=0),q.plotCounts[P]++,q.lastChangeDay=q.environment.day,E.requirements.resources!==void 0){const v=E.requirements.resources;q.resources.food-=v.food,q.resources.wood-=v.wood,q.resources.stone-=v.stone,q.resources.metal-=v.metal}switch(E.id){case"city_hall":q.hasCityHall=!0;break;case"bank":q.hasBank=!0;break}xf(q,dl.BUILD_PLOT,{plot_type:E.id,x:a.toString(),y:s.toString(),end_goal:q.endGoal,day:q.environment.day,settings:q.gameSettings.join(",")}),Ne.set(q),localStorage.setItem(mt,JSON.stringify(q));const O=Nm(a,s,q);if(O){const[v,I]=O;n(0,a=v),n(1,s=I),Ie(tt,r.x=v,r),Ie(tt,r.y=I,r);const L=document.querySelector(`.plot_container[data-x="${v}"][data-y="${I}"]`);if(L){const B=L.getBoundingClientRect(),j=window.innerHeight||d.clientHeight,K=window.innerWidth||d.clientWidth,X=d.scrollTop+B.top-j/2+225,z=d.scrollLeft+B.left-K/2;window.scrollTo({top:X,left:z,behavior:"smooth"}),document.querySelectorAll(".plot_container").forEach(J=>J.classList.remove("selected")),L.classList.add("selected")}}}else n(7,f="You do not have enough resources to purchase this plot. If it's a 'Large' plot, make sure you have a 2x2 area available. "),document.querySelectorAll(".plotOption").forEach(v=>{v.classList.remove("active")})}function y(){document.querySelectorAll(".plotOption").forEach(P=>{P.classList.remove("active")}),lo(a,s,l)}function C(N){if(!u)return;let P=null;switch(N.key.toLowerCase()){case"arrowup":case"w":P=di(r.x,r.y,-1,0,l.plots);break;case"arrowdown":case"s":P=di(r.x,r.y,1,0,l.plots);break;case"arrowleft":case"a":P=di(r.x,r.y,0,-1,l.plots);break;case"arrowright":case"d":P=di(r.x,r.y,0,1,l.plots);break;default:return}if(!P)return;const[E,q]=P;Ie(tt,r.x=E,r),Ie(tt,r.y=q,r);const O=document.querySelector(`.plot_container[data-x="${E}"][data-y="${q}"]`);if(O){const v=O.getBoundingClientRect(),I=window.innerHeight||d.clientHeight,L=window.innerWidth||d.clientWidth,B=d.scrollTop+v.top-I/2+225,j=d.scrollLeft+v.left-L/2;window.scrollTo({top:B,left:j,behavior:"smooth"}),document.querySelectorAll(".plot_container").forEach(X=>X.classList.remove("selected")),O.classList.add("selected")}}Zo(()=>{d=document.documentElement||document.body,window.addEventListener("keydown",C)}),Nf(()=>{window.removeEventListener("keydown",C)});function R(N){le.call(this,t,N)}const D=()=>Ie(tt,r.visible=!1,r),F=N=>r.isMineralSource?N.id==="mine":N.id!=="mine";return t.$$set=N=>{"x"in N&&n(0,a=N.x),"y"in N&&n(1,s=N.y),"open"in N&&n(2,u=N.open),"tooltip"in N&&n(7,f=N.tooltip)},t.$$.update=()=>{t.$$.dirty&19&&n(8,o=l?c.map(N=>Object.assign(Object.assign({},N),{affordable:Vo(N,l,a,s).affordable,selected:_(N)})):[]),t.$$.dirty&280&&n(5,i=l?(()=>{let N=[...o];if(r.isMineralSource)return N.filter(P=>P.id==="mine");qe("tree_farm",l).length===0&&(N=N.filter(P=>["small_homes","farm","tree_farm"].includes(P.id)));for(const[P,E]of Object.entries(Fd))typeof E=="number"&&E>0&&qe(P,l).length>=E&&(N=N.filter(q=>q.id!==P));return N.sort((P,E)=>P.selected&&!E.selected?-1:0)})():[])},[a,s,u,r,l,i,h,f,o,R,D,F]}class dd extends he{constructor(e){super(),pe(this,e,A4,k4,de,{x:0,y:1,open:2,tooltip:7})}}function T4(t){let e,n,o;return{c(){e=M("span"),n=V("My liege, if you build a City Hall, you can expand your city "),o=V(t[0]),$(e,"class","text-xs")},m(i,r){T(i,e,r),b(e,n),b(e,o)},p(i,r){r&1&&ue(o,i[0])},i:Te,o:Te,d(i){i&&A(e)}}}function I4(t){let e,n;return e=new At({props:{class:"bg-accent h-max rounded-2xl hover:scale-110 transition-transform duration-200 ease-in-out hover:drop-shadow-2xl",$$slots:{default:[M4]},$$scope:{ctx:t}}}),e.$on("click",t[2]),{c(){U(e.$$.fragment)},m(o,i){x(e,o,i),n=!0},p(o,i){const r={};i&11&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function M4(t){let e,n,o,i,r,l=t[0].toUpperCase()+"",a,s,u,f,c,d,m,p,_,h,w,y=Math.round(Math.pow(1.7,t[1].kingdom_expansions+5))+"",C,R,D,F;return{c(){e=M("div"),n=V("My liege, you can expand your "),o=M("br"),i=V(`kingdom
        `),r=M("span"),a=V(l),s=V(`
        using
        `),u=M("br"),f=V(`your
        `),c=M("span"),c.textContent="City Hall",d=V("!"),m=M("br"),p=M("br"),_=H(),h=M("span"),w=V("Requires "),C=V(y),R=V(` Guardians
          `),D=M("br"),F=V("to be employed. (see city mgmt menu)"),$(r,"class","font-extrabold text-blue-200"),$(c,"class","text-blue-200 bold"),$(h,"class","opacity-75 text-xs")},m(N,P){T(N,e,P),b(e,n),b(e,o),b(e,i),b(e,r),b(r,a),b(e,s),b(e,u),b(e,f),b(e,c),b(e,d),b(e,m),b(e,p),b(e,_),b(e,h),b(h,w),b(h,C),b(h,R),b(h,D),b(h,F)},p(N,P){P&1&&l!==(l=N[0].toUpperCase()+"")&&ue(a,l),P&2&&y!==(y=Math.round(Math.pow(1.7,N[1].kingdom_expansions+5))+"")&&ue(C,y)},d(N){N&&A(e)}}}function O4(t){let e,n,o,i,r;const l=[I4,T4],a=[];function s(u,f){return f&2&&(n=null),n==null&&(n=qe("city_hall",u[1]).length>0),n?0:1}return o=s(t,-1),i=a[o]=l[o](t),{c(){e=M("div"),i.c(),$(e,"class","w-48 h-max")},m(u,f){T(u,e,f),a[o].m(e,null),r=!0},p(u,[f]){let c=o;o=s(u,f),o===c?a[o].p(u,f):(Me(),S(a[c],1,1,()=>{a[c]=null}),Oe(),i=a[o],i?i.p(u,f):(i=a[o]=l[o](u),i.c()),k(i,1),i.m(e,null))},i(u){r||(k(i),r=!0)},o(u){S(i),r=!1},d(u){u&&A(e),a[o].d()}}}function P4(t,e,n){let o;ae(t,Ne,l=>n(1,o=l));let{direction:i}=e;const r=()=>{const l=Dm(o,i);l&&Ct.set(l)};return t.$$set=l=>{"direction"in l&&n(0,i=l.direction)},[i,o,r]}class Zu extends he{constructor(e){super(),pe(this,e,P4,O4,de,{direction:0})}}function N4(t){let e;return{c(){e=M("span"),e.textContent="Start here!",$(e,"class","text-md text-black select-none transition-all duration-500 animate-pulse ")},m(n,o){T(n,e,o)},p:Te,d(n){n&&A(e)}}}function E4(t){let e,n,o,i=ie[t[0].type].emoji+"",r,l,a,s,u,f=ie[t[0].type].title+"",c,d,m,p,_;return{c(){e=M("div"),n=M("span"),o=M("span"),r=V(i),l=H(),a=M("br"),s=H(),u=M("span"),c=V(f),$(o,"class","text-lg align-text-top select-none"),$(u,"class",d="text-sm align-text-top "+(ie[t[0].type].id=="mine"?"text-white":"text-black")+" select-none"),$(n,"data-size",m=ie[t[0].type].requirements.size),$(n,"data-x",p=t[0].x),$(n,"data-y",_=t[0].y),$(e,"class","svelte-lm6uio")},m(h,w){T(h,e,w),b(e,n),b(n,o),b(o,r),b(n,l),b(n,a),b(n,s),b(n,u),b(u,c)},p(h,w){w&1&&i!==(i=ie[h[0].type].emoji+"")&&ue(r,i),w&1&&f!==(f=ie[h[0].type].title+"")&&ue(c,f),w&1&&d!==(d="text-sm align-text-top "+(ie[h[0].type].id=="mine"?"text-white":"text-black")+" select-none")&&$(u,"class",d),w&1&&m!==(m=ie[h[0].type].requirements.size)&&$(n,"data-size",m),w&1&&p!==(p=h[0].x)&&$(n,"data-x",p),w&1&&_!==(_=h[0].y)&&$(n,"data-y",_)},d(h){h&&A(e)}}}function Qu(t){let e;return{c(){e=M("span"),e.textContent="🧲",$(e,"class","text-lg")},m(n,o){T(n,e,o)},d(n){n&&A(e)}}}function zu(t){let e;return{c(){e=M("span"),e.textContent="👑",$(e,"class","text-lg absolute top-0")},m(n,o){T(n,e,o)},d(n){n&&A(e)}}}function $4(t){let e,n,o,i=t[7](t[0].x,t[0].y),r,l,a,s,u,f,c,d,m,p,_,h,w,y,C,R;function D(q,O){if(q[0].type>-1)return E4;if(q[0].type==-1&&q[0].x==0&&q[0].y==0)return N4}let F=D(t),N=F&&F(t),P=t[0].mineralSource&&t[0].type==-1&&Qu(),E=i&&zu();return{c(){e=M("button"),N&&N.c(),n=H(),P&&P.c(),o=H(),E&&E.c(),$(e,"class",r="plot_container "+t[1]+" overflow-visible "+(t[0].type==-1&&t[2]==!1,"")+" "+(t[0].mineralSource?"hidden":"")+" "+(t[2]?"cursor-pointer":"cursor-not-allowed")+" svelte-lm6uio"),Qe(e,"background-color",t[0].water?"rgba(66, 135, 245, 1)":t[5].x==t[0].x&&t[5].y==t[0].y&&t[5].visible?"white":t[0].mineralSource?"black":$r(t[0].type,t[2])),$(e,"data-active",l=t[0].active),$(e,"data-hidehoveranimation",a=t[5].visible||t[0].type==-1&&t[0].x==0&&t[0].y==0),$(e,"data-id",s=t[0].id),$(e,"data-x",u=t[0].x),$(e,"data-y",f=t[0].y),$(e,"data-optionindex",c=t[0].optionIndex),$(e,"data-canbeupgraded",t[2]),$(e,"data-type",d=t[0].type),$(e,"data-type-id",m=t[0].typeId),$(e,"data-size",p=t[0].type>-1?ie[t[0].type].requirements.size:null),$(e,"data-mineralsource",_=t[0].mineralSource),$(e,"data-water",h=t[0].water),$(e,"data-nearwater",w=Nn(t[0].x,t[0].y,t[3])),$(e,"data-liegelocation",y=t[7](t[0].x,t[0].y))},m(q,O){T(q,e,O),N&&N.m(e,null),b(e,n),P&&P.m(e,null),b(e,o),E&&E.m(e,null),C||(R=te(e,"click",function(){jt(t[0].water?null:t[6]?Gl(t[0].x,t[0].y,t[3]):t[8])&&(t[0].water?null:t[6]?Gl(t[0].x,t[0].y,t[3]):t[8]).apply(this,arguments)}),C=!0)},p(q,O){t=q,F===(F=D(t))&&N?N.p(t,O):(N&&N.d(1),N=F&&F(t),N&&(N.c(),N.m(e,n))),t[0].mineralSource&&t[0].type==-1?P||(P=Qu(),P.c(),P.m(e,o)):P&&(P.d(1),P=null),O&1&&(i=t[7](t[0].x,t[0].y)),i?E||(E=zu(),E.c(),E.m(e,null)):E&&(E.d(1),E=null),O&7&&r!==(r="plot_container "+t[1]+" overflow-visible "+(t[0].type==-1&&t[2]==!1,"")+" "+(t[0].mineralSource?"hidden":"")+" "+(t[2]?"cursor-pointer":"cursor-not-allowed")+" svelte-lm6uio")&&$(e,"class",r),O&37&&Qe(e,"background-color",t[0].water?"rgba(66, 135, 245, 1)":t[5].x==t[0].x&&t[5].y==t[0].y&&t[5].visible?"white":t[0].mineralSource?"black":$r(t[0].type,t[2])),O&1&&l!==(l=t[0].active)&&$(e,"data-active",l),O&33&&a!==(a=t[5].visible||t[0].type==-1&&t[0].x==0&&t[0].y==0)&&$(e,"data-hidehoveranimation",a),O&1&&s!==(s=t[0].id)&&$(e,"data-id",s),O&1&&u!==(u=t[0].x)&&$(e,"data-x",u),O&1&&f!==(f=t[0].y)&&$(e,"data-y",f),O&1&&c!==(c=t[0].optionIndex)&&$(e,"data-optionindex",c),O&4&&$(e,"data-canbeupgraded",t[2]),O&1&&d!==(d=t[0].type)&&$(e,"data-type",d),O&1&&m!==(m=t[0].typeId)&&$(e,"data-type-id",m),O&1&&p!==(p=t[0].type>-1?ie[t[0].type].requirements.size:null)&&$(e,"data-size",p),O&1&&_!==(_=t[0].mineralSource)&&$(e,"data-mineralsource",_),O&1&&h!==(h=t[0].water)&&$(e,"data-water",h),O&9&&w!==(w=Nn(t[0].x,t[0].y,t[3]))&&$(e,"data-nearwater",w),O&1&&y!==(y=t[7](t[0].x,t[0].y))&&$(e,"data-liegelocation",y)},d(q){q&&A(e),N&&N.d(),P&&P.d(),E&&E.d(),C=!1,R()}}}function ef(t){let e;return{c(){e=V("Water - Place farms nearby for more food & revenue!")},m(n,o){T(n,e,o)},d(n){n&&A(e)}}}function tf(t){let e;return{c(){e=M("span"),e.textContent="Near water - Generating more food & revenue!",$(e,"class","text-xs bg-blue-500 text-white px-2 py-3 rounded-2xl text-center")},m(n,o){T(n,e,o)},d(n){n&&A(e)}}}function nf(t){let e;function n(r,l){return ie[r[0].type].liege_on_plot_hint==null?L4:R4}let o=n(t),i=o(t);return{c(){e=M("span"),i.c(),$(e,"class","text-xs bg-pink-700 text-white px-2 py-3 rounded-2xl text-center")},m(r,l){T(r,e,l),i.m(e,null)},p(r,l){o===(o=n(r))&&i?i.p(r,l):(i.d(1),i=o(r),i&&(i.c(),i.m(e,null)))},d(r){r&&A(e),i.d()}}}function R4(t){let e=ie[t[0].type].liege_on_plot_hint+"",n;return{c(){n=V(e)},m(o,i){T(o,n,i)},p(o,i){i&1&&e!==(e=ie[o[0].type].liege_on_plot_hint+"")&&ue(n,e)},d(o){o&&A(n)}}}function L4(t){let e,n=ie[t[0].type].title+"",o,i;return{c(){e=V("You are hanging out on the "),o=V(n),i=V(` plot, but nothing
            seems to be changing except a revenue boost.`)},m(r,l){T(r,e,l),T(r,o,l),T(r,i,l)},p(r,l){l&1&&n!==(n=ie[r[0].type].title+"")&&ue(o,n)},d(r){r&&(A(e),A(o),A(i))}}}function of(t){let e,n;return e=new cd({props:{option:t[4],checkRequirements:!1}}),{c(){U(e.$$.fragment)},m(o,i){x(e,o,i),n=!0},p(o,i){const r={};i&16&&(r.option=o[4]),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function D4(t){let e,n,o=Nn(t[0].x,t[0].y,t[3]),i,r=Xn(t[0].x,t[0].y,t[3]),l,a,s=t[0].water&&ef(),u=o&&tf(),f=r&&nf(t),c=t[0].active&&of(t);return{c(){e=M("div"),s&&s.c(),n=H(),u&&u.c(),i=H(),f&&f.c(),l=H(),c&&c.c(),$(e,"class","flex flex-col gap-2")},m(d,m){T(d,e,m),s&&s.m(e,null),b(e,n),u&&u.m(e,null),b(e,i),f&&f.m(e,null),b(e,l),c&&c.m(e,null),a=!0},p(d,m){d[0].water?s||(s=ef(),s.c(),s.m(e,n)):s&&(s.d(1),s=null),m&9&&(o=Nn(d[0].x,d[0].y,d[3])),o?u||(u=tf(),u.c(),u.m(e,i)):u&&(u.d(1),u=null),m&9&&(r=Xn(d[0].x,d[0].y,d[3])),r?f?f.p(d,m):(f=nf(d),f.c(),f.m(e,l)):f&&(f.d(1),f=null),d[0].active?c?(c.p(d,m),m&1&&k(c,1)):(c=of(d),c.c(),k(c,1),c.m(e,null)):c&&(Me(),S(c,1,1,()=>{c=null}),Oe())},i(d){a||(k(c),a=!0)},o(d){S(c),a=!1},d(d){d&&A(e),s&&s.d(),u&&u.d(),f&&f.d(),c&&c.d()}}}function j4(t){let e,n,o,i;return e=new Co({props:{$$slots:{default:[$4]},$$scope:{ctx:t}}}),o=new wo({props:{class:"max-w-64 rounded-3xl "+(t[0].type<0&&!t[0].water?"hidden":""),$$slots:{default:[D4]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),n=H(),U(o.$$.fragment)},m(r,l){x(e,r,l),T(r,n,l),x(o,r,l),i=!0},p(r,l){const a={};l&8303&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&1&&(s.class="max-w-64 rounded-3xl "+(r[0].type<0&&!r[0].water?"hidden":"")),l&8217&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&A(n),Y(e,r),Y(o,r)}}}function F4(t){let e,n;return e=new ko({props:{openDelay:400,closeDelay:0,$$slots:{default:[j4]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(o,i){x(e,o,i),n=!0},p(o,[i]){const r={};i&8319&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function q4(t,e,n){let o,i,r,l,a,s;ae(t,tt,h=>n(5,o=h)),ae(t,Ne,h=>n(3,i=h)),ae(t,Ot,h=>n(11,r=h)),ae(t,Mi,h=>n(12,l=h)),ae(t,Bt,h=>n(10,a=h)),ae(t,ao,h=>n(6,s=h));let{data:u={id:0,active:!1,x:0,y:0,type:-1,styling:"",mineralSource:!1,disabled:!1,water:!1}}=e,f,{classText:c=""}=e,{canBeUpgraded:d=!1}=e;const m=(h,w)=>i.liege_location!=null&&h==i.liege_location[0]&&w==i.liege_location[1];function p(h,w,y){if(localStorage.getItem(Pt)!=null)return;let C=document.querySelectorAll(".plot_container");if(r==!1)if(!u.active&&!d)Ie(Mi,l={},l),Ie(tt,o.visible=!1,o),C.forEach(R=>{R.classList.remove("selected")});else{w!=null&&y!=null?(Ie(tt,o.x=w,o),Ie(tt,o.y=y,o)):(Ie(tt,o.x=u.x,o),Ie(tt,o.y=u.y,o)),Ie(tt,o.isMineralSource=u.mineralSource,o),Ie(tt,o.visible=!0,o);const R=document.querySelector(`.plot_container[data-id="${u.id}"]`),D=document.documentElement||document.body,F=R.getBoundingClientRect(),N=window.innerHeight||D.clientHeight,P=window.innerWidth||D.clientWidth,E=D.scrollTop+F.top-N/2+225,q=D.scrollLeft+F.left-P/2;window.scrollTo({top:E,left:q,behavior:"smooth"}),C.forEach(O=>{O.classList.remove("selected")}),w!=null&&y!=null?document.querySelector(`.plot_container[data-x="${w}"][data-y="${y}"]`).classList.add("selected"):document.querySelector(`.plot_container[data-id="${u.id}"]`).classList.add("selected")}}function _(h){r==!1&&(Ie(Ne,i.plots[u.x][u.y].type=h,i),Ie(tt,o.visible=!1,o))}return t.$$set=h=>{"data"in h&&n(0,u=h.data),"classText"in h&&n(1,c=h.classText),"canBeUpgraded"in h&&n(2,d=h.canBeUpgraded)},t.$$.update=()=>{t.$$.dirty&1033&&(u.type>-1&&n(4,f=ie[u.type]),u.disabled==!0&&a.visible==!1&&(lo(u.x,u.y,i),n(0,u.disabled=!1,u),Ie(Bt,a.visible=!1,a)))},[u,c,d,i,f,o,s,m,p,_,a]}class B4 extends he{constructor(e){super(),pe(this,e,q4,F4,de,{data:0,classText:1,canBeUpgraded:2,changePlotType:9})}get changePlotType(){return this.$$.ctx[9]}}function rf(t,e,n){const o=t.slice();return o[8]=e[n],o[10]=n,o}function lf(t,e,n){const o=t.slice();return o[11]=e[n],o}function sf(t){let e,n,o,i,r,l,a,s,u,f,c,d=t[3],m,p,_=xe(t[1].plots),h=[];for(let C=0;C<_.length;C+=1)h[C]=uf(rf(t,_,C));const w=C=>S(h[C],1,1,()=>{h[C]=null});a=new Zu({props:{direction:"east"}}),f=new Zu({props:{direction:"south"}});let y=cf(t);return{c(){e=M("div"),n=M("div"),o=M("div"),i=M("div");for(let C=0;C<h.length;C+=1)h[C].c();r=H(),l=M("span"),U(a.$$.fragment),s=H(),u=M("span"),U(f.$$.fragment),c=H(),y.c(),m=De(),$(i,"class","grid plot_controller svelte-1udphho"),$(o,"class","flex flex-row items-center"),$(n,"style",t[2]),$(n,"id","plotContainerMain"),$(n,"class","items-center h-max flex flex-col pr-80 pb-80  svelte-1udphho"),$(e,"class","flex flex-col")},m(C,R){T(C,e,R),b(e,n),b(n,o),b(o,i);for(let D=0;D<h.length;D+=1)h[D]&&h[D].m(i,null);b(o,r),b(o,l),x(a,l,null),b(n,s),b(n,u),x(f,u,null),T(C,c,R),y.m(C,R),T(C,m,R),p=!0},p(C,R){if(R&3){_=xe(C[1].plots);let D;for(D=0;D<_.length;D+=1){const F=rf(C,_,D);h[D]?(h[D].p(F,R),k(h[D],1)):(h[D]=uf(F),h[D].c(),k(h[D],1),h[D].m(i,null))}for(Me(),D=_.length;D<h.length;D+=1)w(D);Oe()}(!p||R&4)&&$(n,"style",C[2]),R&8&&de(d,d=C[3])?(Me(),S(y,1,1,Te),Oe(),y=cf(C),y.c(),k(y,1),y.m(m.parentNode,m)):y.p(C,R)},i(C){if(!p){for(let R=0;R<_.length;R+=1)k(h[R]);k(a.$$.fragment,C),k(f.$$.fragment,C),k(y),p=!0}},o(C){h=h.filter(Boolean);for(let R=0;R<h.length;R+=1)S(h[R]);S(a.$$.fragment,C),S(f.$$.fragment,C),S(y),p=!1},d(C){C&&(A(e),A(c),A(m)),it(h,C),Y(a),Y(f),y.d(C)}}}function af(t){let e,n;return e=new B4({props:{classText:"hexagon",data:t[11],canBeUpgraded:Ti(t[11].x,t[11].y,t[1])}}),{c(){U(e.$$.fragment)},m(o,i){x(e,o,i),n=!0},p(o,i){const r={};i&2&&(r.data=o[11]),i&2&&(r.canBeUpgraded=Ti(o[11].x,o[11].y,o[1])),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function uf(t){let e,n,o,i,r,l=xe(t[8]),a=[];for(let u=0;u<l.length;u+=1)a[u]=af(lf(t,l,u));const s=u=>S(a[u],1,1,()=>{a[u]=null});return{c(){e=M("div");for(let u=0;u<a.length;u+=1)a[u].c();n=H(),$(e,"class","row "+(t[10]%2!==0?"odd-row":"")+" svelte-1udphho")},m(u,f){T(u,e,f);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(e,null);b(e,n),o=!0,i||(r=te(e,"click",t[0]),i=!0)},p(u,f){if(f&2){l=xe(u[8]);let c;for(c=0;c<l.length;c+=1){const d=lf(u,l,c);a[c]?(a[c].p(d,f),k(a[c],1)):(a[c]=af(d),a[c].c(),k(a[c],1),a[c].m(e,n))}for(Me(),c=l.length;c<a.length;c+=1)s(c);Oe()}},i(u){if(!o){for(let f=0;f<l.length;f+=1)k(a[f]);o=!0}},o(u){a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)S(a[f]);o=!1},d(u){u&&A(e),it(a,u),i=!1,r()}}}function ff(t){let e,n;return e=new dd({props:{x:t[4].x,y:t[4].y,open:t[4].visible}}),{c(){U(e.$$.fragment)},m(o,i){x(e,o,i),n=!0},p(o,i){const r={};i&16&&(r.x=o[4].x),i&16&&(r.y=o[4].y),i&16&&(r.open=o[4].visible),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function cf(t){let e,n,o=t[4].visible&&ff(t);return{c(){o&&o.c(),e=De()},m(i,r){o&&o.m(i,r),T(i,e,r),n=!0},p(i,r){i[4].visible?o?(o.p(i,r),r&16&&k(o,1)):(o=ff(i),o.c(),k(o,1),o.m(e.parentNode,e)):o&&(Me(),S(o,1,1,()=>{o=null}),Oe())},i(i){n||(k(o),n=!0)},o(i){S(o),n=!1},d(i){i&&A(e),o&&o.d(i)}}}function H4(t){let e,n,o=t[1]!=null&&sf(t);return{c(){o&&o.c(),e=De()},m(i,r){o&&o.m(i,r),T(i,e,r),n=!0},p(i,[r]){i[1]!=null?o?(o.p(i,r),r&2&&k(o,1)):(o=sf(i),o.c(),k(o,1),o.m(e.parentNode,e)):o&&(Me(),S(o,1,1,()=>{o=null}),Oe())},i(i){n||(k(o),n=!0)},o(i){S(o),n=!1},d(i){i&&A(e),o&&o.d(i)}}}const Pr="plotsSize";function G4(t,e,n){let o,i,r;ae(t,Mi,c=>n(3,o=c)),ae(t,Ne,c=>n(1,i=c)),ae(t,tt,c=>n(4,r=c));let l,a=localStorage.getItem(Pr)?parseInt(localStorage.getItem(Pr)):0,s=["margin-left: 300px; margin-top: 200px; scale: 1;","margin-left: 650px; margin-top: 600px; scale: 1.5;","margin-left: -50px; margin-top: -50px; scale: 0.6;"];document.addEventListener("keypress",function(c){c.key==="z"&&(a==s.length-1?n(5,a=0):n(5,a++,a),localStorage.setItem(Pr,a.toString()))}),document.addEventListener("click",function(c){const d=c.target;(d.dataset.x==null&&d.dataset.type!="-1"&&d.dataset.size!=null||d.id=="plotContainerMain"||d.classList.contains("row")||d.classList.contains("grid"))&&Ie(tt,r.visible=!1,r)});function u(){let c=[];for(let d=0;d<i.plots.length;d++)for(let m=0;m<i.plots.length;m++)Ti(d,m,i)&&i.plots[d][m].active==!1&&c.push(i.plots[d][m])}function f(){Ie(Mi,o={},o)}return t.$$.update=()=>{t.$$.dirty&2&&i&&u(),t.$$.dirty&32&&n(2,l=s[a])},[f,i,l,o,r,a]}class V4 extends he{constructor(e){super(),pe(this,e,G4,H4,de,{restartModifyPlotMenu:0})}get restartModifyPlotMenu(){return this.$$.ctx[0]}}function df(t,e,n){const o=t.slice();return o[5]=e[n],o}function mf(t){let e,n;return e=new u1({props:{thumb:t[5],class:"block h-4 w-4  bg-accent focus-visible:outline-none  disabled:pointer-events-none disabled:opacity-50"}}),{c(){U(e.$$.fragment)},m(o,i){x(e,o,i),n=!0},p(o,i){const r={};i&16&&(r.thumb=o[5]),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function W4(t){let e,n,o,i,r;n=new o1({props:{class:"absolute h-full bg-primary"}});let l=xe(t[4]),a=[];for(let u=0;u<l.length;u+=1)a[u]=mf(df(t,l,u));const s=u=>S(a[u],1,1,()=>{a[u]=null});return{c(){e=M("span"),U(n.$$.fragment),o=H();for(let u=0;u<a.length;u+=1)a[u].c();i=De(),$(e,"class","relative h-2 w-full grow overflow-hidden bg-black")},m(u,f){T(u,e,f),x(n,e,null),T(u,o,f);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(u,f);T(u,i,f),r=!0},p(u,f){if(f&16){l=xe(u[4]);let c;for(c=0;c<l.length;c+=1){const d=df(u,l,c);a[c]?(a[c].p(d,f),k(a[c],1)):(a[c]=mf(d),a[c].c(),k(a[c],1),a[c].m(i.parentNode,i))}for(Me(),c=l.length;c<a.length;c+=1)s(c);Oe()}},i(u){if(!r){k(n.$$.fragment,u);for(let f=0;f<l.length;f+=1)k(a[f]);r=!0}},o(u){S(n.$$.fragment,u),a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)S(a[f]);r=!1},d(u){u&&(A(e),A(o),A(i)),Y(n),it(a,u)}}}function x4(t){let e,n,o;const i=[{class:He("relative flex w-full touch-none select-none items-center",t[1])},t[2]];function r(a){t[3](a)}let l={$$slots:{default:[W4,({thumbs:a})=>({4:a}),({thumbs:a})=>a?16:0]},$$scope:{ctx:t}};for(let a=0;a<i.length;a+=1)l=Q(l,i[a]);return t[0]!==void 0&&(l.value=t[0]),e=new Zg({props:l}),Ee.push(()=>Ut(e,"value",r)),{c(){U(e.$$.fragment)},m(a,s){x(e,a,s),o=!0},p(a,[s]){const u=s&6?Ce(i,[s&2&&{class:He("relative flex w-full touch-none select-none items-center",a[1])},s&4&&rt(a[2])]):{};s&272&&(u.$$scope={dirty:s,ctx:a}),!n&&s&1&&(n=!0,u.value=a[0],Wt(()=>n=!1)),e.$set(u)},i(a){o||(k(e.$$.fragment,a),o=!0)},o(a){S(e.$$.fragment,a),o=!1},d(a){Y(e,a)}}}function Y4(t,e,n){const o=["class","value"];let i=fe(e,o),{class:r=void 0}=e,{value:l=[0]}=e;function a(s){l=s,n(0,l)}return t.$$set=s=>{e=Q(Q({},e),Le(s)),n(2,i=fe(e,o)),"class"in s&&n(1,r=s.class),"value"in s&&n(0,l=s.value)},[l,r,i,a]}class pf extends he{constructor(e){super(),pe(this,e,Y4,x4,de,{class:1,value:0})}}function hf(t,e,n){const o=t.slice();return o[13]=e[n],o}function _f(t){let e,n,o,i=t[13].day+"",r,l,a,s=t[13].message+"",u,f,c;return{c(){e=M("div"),n=M("p"),o=V("DAY "),r=V(i),l=H(),a=M("p"),u=V(s),f=H(),$(n,"class","font-mono text-[10px]  svelte-1m80q9z"),$(a,"class","text-xs svelte-1m80q9z"),$(e,"class",c="px-2 py-2 rounded-2xl fade-in mb-4 "+(t[13].vibe==et.BAD?"bg-white text-textDanger border ":t[13].vibe==et.GOOD?"bg-green-300":(t[13].vibe==et.NORMAL,"bg-accent"))+" svelte-1m80q9z")},m(d,m){T(d,e,m),b(e,n),b(n,o),b(n,r),b(e,l),b(e,a),b(a,u),b(e,f)},p(d,m){m&1&&i!==(i=d[13].day+"")&&ue(r,i),m&1&&s!==(s=d[13].message+"")&&ue(u,s),m&1&&c!==(c="px-2 py-2 rounded-2xl fade-in mb-4 "+(d[13].vibe==et.BAD?"bg-white text-textDanger border ":d[13].vibe==et.GOOD?"bg-green-300":(d[13].vibe==et.NORMAL,"bg-accent"))+" svelte-1m80q9z")&&$(e,"class",c)},d(d){d&&A(e)}}}function U4(t){let e,n,o,i,r,l,a,s,u,f=ot(t[0].economyAndLaws.tax_rate*100,0)+"",c,d,m,p,_,h,w,y,C,R,D=ot(t[0].townInfo.productivity,0)+"",F,N,P,E,q,O,v,I,L,B,j,K,X,z,oe,J,ne,_e,se,re,je,Fe,Ue,g;p=new pf({props:{value:[t[0].economyAndLaws.tax_rate],onValueChange:t[7],min:0,max:.5,step:.05,disabled:localStorage.getItem(Pt)!=null,class:"cursor-pointer w-[75%]"}}),E=new pf({props:{value:[t[0].townInfo.productivity],onValueChange:t[6],min:0,max:200,step:5,disabled:localStorage.getItem(Pt)!=null,class:"cursor-pointer w-[75%]"}}),I=new Lt({props:{text:t[2]?"Select an active plot!":"👑 Set your location (boost)",onOpen:t[8]}}),B=new Lt({props:{text:"🧠 Sell Knowledge",onOpen:t[9]}}),K=new Lt({props:{text:"🏢 Manage City",onOpen:t[10]}}),z=new Lt({props:{text:t[0].lab.active_experiment!==null?`${t[0].lab.active_experiment.duration}`:"🧪 Manage Lab",onOpen:t[5],opacity:qe("lab",t[0]).length>=1?100:30,onHoverText:qe("lab",t[0]).length>=1?"":"Build a Lab to perform experiments. Experiments can save lives, make money, or generally improve your town."}});let Z=xe(t[0].townLog),W=[];for(let ee=0;ee<Z.length;ee+=1)W[ee]=_f(hf(t,Z,ee));return{c(){e=M("div"),n=M("div"),o=M("div"),i=M("div"),r=M("div"),l=M("div"),a=M("span"),a.textContent="Tax Rate",s=H(),u=M("span"),c=V(f),d=V("%"),m=H(),U(p.$$.fragment),_=H(),h=M("div"),w=M("div"),y=M("span"),y.textContent="Productivity",C=H(),R=M("span"),F=V(D),N=V("%"),P=H(),U(E.$$.fragment),q=H(),O=M("div"),v=M("div"),U(I.$$.fragment),L=H(),U(B.$$.fragment),j=H(),U(K.$$.fragment),X=H(),U(z.$$.fragment),oe=H(),J=M("div"),ne=M("div"),_e=M("h3"),se=H(),re=M("div");for(let ee=0;ee<W.length;ee+=1)W[ee].c();$(a,"class","text-sm svelte-1m80q9z"),$(u,"class","text-sm svelte-1m80q9z"),$(l,"class","mb-1 svelte-1m80q9z"),$(r,"class","flex flex-col justify-center w-full text-center items-center gap-1 min-h-12 pb-2 rounded-xl svelte-1m80q9z"),$(y,"class","text-sm svelte-1m80q9z"),$(R,"class","text-sm svelte-1m80q9z"),$(w,"class","mb-1 svelte-1m80q9z"),$(h,"class","flex flex-col justify-center w-full text-center items-center gap-2 svelte-1m80q9z"),$(i,"class","flex flex-col gap-2 rounded-xl text-center justify-center mb-2 mt-0 pt-2 svelte-1m80q9z"),$(v,"class","flex flex-col gap-2 svelte-1m80q9z"),$(O,"class","svelte-1m80q9z"),$(_e,"class","text-md cursor-pointer  svelte-1m80q9z"),$(ne,"class","flex flex-row gap-2 items-start justify-center pb-2 svelte-1m80q9z"),$(re,"class","overflow-y-scroll h-[100%] w-[100%] pb-4 scroll-smooth svelte-1m80q9z"),$(J,"class","svelte-1m80q9z"),$(o,"class","flex flex-col justify-center mx-2 gap-4 svelte-1m80q9z"),$(n,"class","w-[220px] text-sidebarText bg-sidebarBackground overflow-scroll border-foregroundDark border-4 bottom-4 z-10 fixed left-3 py-2 top-16 drop-shadow-xl rounded-xl transition-all duration-300 svelte-1m80q9z"),$(e,"class",je="flex flex-row text-sidebarText bg-sidebarBackground overflow-clip "+(t[1].visible?"opacity-10":"")+" svelte-1m80q9z")},m(ee,me){T(ee,e,me),b(e,n),b(n,o),b(o,i),b(i,r),b(r,l),b(l,a),b(l,s),b(l,u),b(u,c),b(u,d),b(r,m),x(p,r,null),b(i,_),b(i,h),b(h,w),b(w,y),b(w,C),b(w,R),b(R,F),b(R,N),b(h,P),x(E,h,null),b(o,q),b(o,O),b(O,v),x(I,v,null),b(v,L),x(B,v,null),b(v,j),x(K,v,null),b(v,X),x(z,v,null),b(o,oe),b(o,J),b(J,ne),b(ne,_e),b(J,se),b(J,re);for(let ge=0;ge<W.length;ge+=1)W[ge]&&W[ge].m(re,null);Fe=!0,Ue||(g=te(_e,"click",t[11]),Ue=!0)},p(ee,[me]){(!Fe||me&1)&&f!==(f=ot(ee[0].economyAndLaws.tax_rate*100,0)+"")&&ue(c,f);const ge={};me&1&&(ge.value=[ee[0].economyAndLaws.tax_rate]),p.$set(ge),(!Fe||me&1)&&D!==(D=ot(ee[0].townInfo.productivity,0)+"")&&ue(F,D);const Pe={};me&1&&(Pe.value=[ee[0].townInfo.productivity]),E.$set(Pe);const Re={};me&4&&(Re.text=ee[2]?"Select an active plot!":"👑 Set your location (boost)"),me&4&&(Re.onOpen=ee[8]),I.$set(Re);const We={};me&8&&(We.onOpen=ee[9]),B.$set(We);const $e={};me&16&&($e.onOpen=ee[10]),K.$set($e);const Je={};if(me&1&&(Je.text=ee[0].lab.active_experiment!==null?`${ee[0].lab.active_experiment.duration}`:"🧪 Manage Lab"),me&1&&(Je.opacity=qe("lab",ee[0]).length>=1?100:30),me&1&&(Je.onHoverText=qe("lab",ee[0]).length>=1?"":"Build a Lab to perform experiments. Experiments can save lives, make money, or generally improve your town."),z.$set(Je),me&1){Z=xe(ee[0].townLog);let ke;for(ke=0;ke<Z.length;ke+=1){const Be=hf(ee,Z,ke);W[ke]?W[ke].p(Be,me):(W[ke]=_f(Be),W[ke].c(),W[ke].m(re,null))}for(;ke<W.length;ke+=1)W[ke].d(1);W.length=Z.length}(!Fe||me&2&&je!==(je="flex flex-row text-sidebarText bg-sidebarBackground overflow-clip "+(ee[1].visible?"opacity-10":"")+" svelte-1m80q9z"))&&$(e,"class",je)},i(ee){Fe||(k(p.$$.fragment,ee),k(E.$$.fragment,ee),k(I.$$.fragment,ee),k(B.$$.fragment,ee),k(K.$$.fragment,ee),k(z.$$.fragment,ee),Fe=!0)},o(ee){S(p.$$.fragment,ee),S(E.$$.fragment,ee),S(I.$$.fragment,ee),S(B.$$.fragment,ee),S(K.$$.fragment,ee),S(z.$$.fragment,ee),Fe=!1},d(ee){ee&&A(e),Y(p),Y(E),Y(I),Y(B),Y(K),Y(z),it(W,ee),Ue=!1,g()}}}function K4(t,e,n){let o,i,r,l,a;ae(t,Ne,_=>n(0,o=_)),ae(t,tt,_=>n(1,i=_)),ae(t,ao,_=>n(2,r=_)),ae(t,so,_=>n(3,l=_)),ae(t,En,_=>n(4,a=_)),localStorage.getItem("mute");function s(){o.hasLab&&eo.set(!0)}function u(_){let h=o;h.townInfo.productivity=ot(_[0],2),Ne.set(h),localStorage.setItem(mt,JSON.stringify(h))}function f(_){let h=o;h.economyAndLaws.tax_rate=ot(_[0],2),Ne.set(h),localStorage.setItem(mt,JSON.stringify(h))}const c=function(){Ie(ao,r=!r,r)},d=function(){Ie(so,l=!l,l)},m=function(){Ie(En,a=!a,a)},p=()=>{Ie(Ne,o.townLog=[],o)};return localStorage.getItem("mute"),[o,i,r,l,a,s,u,f,c,d,m,p]}class J4 extends he{constructor(e){super(),pe(this,e,K4,U4,de,{})}}function X4(t){let e,n,o,i,r,l,a,s,u,f,c,d,m;return o=new O3({}),l=new J4({}),s=new V4({}),f=new fd({}),d=new dd({}),{c(){e=M("div"),n=M("div"),U(o.$$.fragment),i=H(),r=M("div"),U(l.$$.fragment),a=H(),U(s.$$.fragment),u=H(),U(f.$$.fragment),c=H(),U(d.$$.fragment),$(r,"class","flex flex-row text-accentText"),$(e,"class","flex flex-col max-h-[100%] justify-between")},m(p,_){T(p,e,_),b(e,n),x(o,n,null),b(e,i),b(e,r),x(l,r,null),b(r,a),x(s,r,null),b(r,u),x(f,r,null),b(r,c),x(d,r,null),m=!0},p:Te,i(p){m||(k(o.$$.fragment,p),k(l.$$.fragment,p),k(s.$$.fragment,p),k(f.$$.fragment,p),k(d.$$.fragment,p),m=!0)},o(p){S(o.$$.fragment,p),S(l.$$.fragment,p),S(s.$$.fragment,p),S(f.$$.fragment,p),S(d.$$.fragment,p),m=!1},d(p){p&&A(e),Y(o),Y(l),Y(s),Y(f),Y(d)}}}class Z4 extends he{constructor(e){super(),pe(this,e,null,X4,de,{})}}function Q4(t){let e=t[1].townInfo.name+"",n;return{c(){n=V(e)},m(o,i){T(o,n,i)},p(o,i){i&2&&e!==(e=o[1].townInfo.name+"")&&ue(n,e)},d(o){o&&A(n)}}}function z4(t){let e,n,o,i=t[1].townInfo.name+"",r,l,a,s,u,f;return{c(){e=M("span"),n=V("The town of "),o=M("span"),r=V(i),l=V(` has been
          founded!`),a=H(),s=M("span"),s.textContent=`Your goal is to build a great town and keep your people happy. Use the
          milestones on the right side as a guide.`,u=H(),f=M("span"),f.textContent="Start by building a set of homes, some farms, and a tree farm.",$(o,"class","text-accent")},m(c,d){T(c,e,d),b(e,n),b(e,o),b(o,r),b(e,l),T(c,a,d),T(c,s,d),T(c,u,d),T(c,f,d)},p(c,d){d&2&&i!==(i=c[1].townInfo.name+"")&&ue(r,i)},d(c){c&&(A(e),A(a),A(s),A(u),A(f))}}}function eC(t){let e,n,o,i;return e=new rn({props:{class:"text-xl font-semibold text-center",$$slots:{default:[Q4]},$$scope:{ctx:t}}}),o=new Gn({props:{class:"text-center mt-2 text-sm text-sidebarText/80 flex flex-col gap-2",$$slots:{default:[z4]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),n=H(),U(o.$$.fragment)},m(r,l){x(e,r,l),T(r,n,l),x(o,r,l),i=!0},p(r,l){const a={};l&18&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&18&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&A(n),Y(e,r),Y(o,r)}}}function tC(t){let e,n,o;return{c(){e=M("button"),e.textContent="Begin",$(e,"class","bg-accent hover:bg-accent/80 text-white px-4 py-2 rounded-md transition-colors")},m(i,r){T(i,e,r),n||(o=te(e,"click",t[2]),n=!0)},p:Te,d(i){i&&A(e),n=!1,o()}}}function nC(t){let e,n,o,i;return e=new ln({props:{$$slots:{default:[eC]},$$scope:{ctx:t}}}),o=new kn({props:{class:"mt-4 flex justify-center",$$slots:{default:[tC]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),n=H(),U(o.$$.fragment)},m(r,l){x(e,r,l),T(r,n,l),x(o,r,l),i=!0},p(r,l){const a={};l&18&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&17&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&A(n),Y(e,r),Y(o,r)}}}function oC(t){let e,n;return e=new sn({props:{transition:_o,class:"bg-sidebarBackground text-sidebarText max-w-md rounded-md shadow-xl border border-accent p-4",$$slots:{default:[nC]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(o,i){x(e,o,i),n=!0},p(o,i){const r={};i&19&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function iC(t){let e,n,o;function i(l){t[3](l)}let r={$$slots:{default:[oC]},$$scope:{ctx:t}};return t[0]!==void 0&&(r.open=t[0]),e=new an({props:r}),Ee.push(()=>Ut(e,"open",i)),{c(){U(e.$$.fragment)},m(l,a){x(e,l,a),o=!0},p(l,[a]){const s={};a&19&&(s.$$scope={dirty:a,ctx:l}),!n&&a&1&&(n=!0,s.open=l[0],Wt(()=>n=!1)),e.$set(s)},i(l){o||(k(e.$$.fragment,l),o=!0)},o(l){S(e.$$.fragment,l),o=!1},d(l){Y(e,l)}}}function rC(t,e,n){let o,i;ae(t,hi,a=>n(0,o=a)),ae(t,Ne,a=>n(1,i=a));const r=()=>Ie(hi,o=!1,o);function l(a){o=a,hi.set(o)}return[o,i,r,l]}class lC extends he{constructor(e){super(),pe(this,e,rC,iC,de,{})}}function gf(t,e,n){const o=t.slice();return o[7]=e[n],o}function sC(t){let e,n,o=t[0].townInfo.name+"",i,r,l,a,s=t[0].resources.bureaucracy+"",u;return{c(){e=M("div"),n=M("span"),i=V(o),r=H(),l=M("span"),a=V("🧑‍⚖️ "),u=V(s),$(e,"class","flex justify-between mr-10")},m(f,c){T(f,e,c),b(e,n),b(n,i),b(e,r),b(e,l),b(l,a),b(l,u)},p(f,c){c&1&&o!==(o=f[0].townInfo.name+"")&&ue(i,o),c&1&&s!==(s=f[0].resources.bureaucracy+"")&&ue(u,s)},d(f){f&&A(e)}}}function bf(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,p,_=t[0].townInfo.guardians+"",h,w,y,C,R,D=t[0].townInfo.population_count-t[0].townInfo.employees+"",F,N,P;return e=new vt({props:{class:"mb-4"}}),d=new At({props:{class:`bg-accent rounded-2xl h-min select-none
            `+(t[0].townInfo.guardians<=0?"opacity-50 cursor-not-allowed":"")+`
            `,$$slots:{default:[aC]},$$scope:{ctx:t}}}),d.$on("click",t[2]),y=new At({props:{class:`bg-accent rounded-2xl h-min select-none
            
              `+(t[0].townInfo.employees>=t[0].townInfo.population_count?"opacity-50 cursor-not-allowed":"")+`
            `,$$slots:{default:[uC]},$$scope:{ctx:t}}}),y.$on("click",t[3]),{c(){U(e.$$.fragment),n=H(),o=M("div"),i=M("span"),i.textContent="Hire Guardians ⚔️",r=H(),l=M("br"),a=H(),s=M("span"),s.textContent=`Guardians work for you and are required to expand your kingdom.
            They do not generate revenue, but still require housing & food.`,u=H(),f=M("div"),c=M("div"),U(d.$$.fragment),m=H(),p=M("span"),h=V(_),w=H(),U(y.$$.fragment),C=H(),R=M("span"),F=V(D),N=V(`
              unemployed available for hire.`),$(i,"class","text-lg font-bold"),$(s,"class","text-sm"),$(p,"class","text-lg font-bold select-none px-2"),$(R,"class","w-max"),$(f,"class","flex flex-row justify-between align-middle items-center pt-2 pb-2 gap-2 "),$(o,"class","w-full")},m(E,q){x(e,E,q),T(E,n,q),T(E,o,q),b(o,i),b(o,r),b(o,l),b(o,a),b(o,s),b(o,u),b(o,f),b(f,c),x(d,c,null),b(c,m),b(c,p),b(p,h),b(c,w),x(y,c,null),b(f,C),b(f,R),b(R,F),b(R,N),P=!0},p(E,q){const O={};q&1&&(O.class=`bg-accent rounded-2xl h-min select-none
            `+(E[0].townInfo.guardians<=0?"opacity-50 cursor-not-allowed":"")+`
            `),q&1024&&(O.$$scope={dirty:q,ctx:E}),d.$set(O),(!P||q&1)&&_!==(_=E[0].townInfo.guardians+"")&&ue(h,_);const v={};q&1&&(v.class=`bg-accent rounded-2xl h-min select-none
            
              `+(E[0].townInfo.employees>=E[0].townInfo.population_count?"opacity-50 cursor-not-allowed":"")+`
            `),q&1024&&(v.$$scope={dirty:q,ctx:E}),y.$set(v),(!P||q&1)&&D!==(D=E[0].townInfo.population_count-E[0].townInfo.employees+"")&&ue(F,D)},i(E){P||(k(e.$$.fragment,E),k(d.$$.fragment,E),k(y.$$.fragment,E),P=!0)},o(E){S(e.$$.fragment,E),S(d.$$.fragment,E),S(y.$$.fragment,E),P=!1},d(E){E&&(A(n),A(o)),Y(e,E),Y(d),Y(y)}}}function aC(t){let e;return{c(){e=V("-")},m(n,o){T(n,e,o)},d(n){n&&A(e)}}}function uC(t){let e;return{c(){e=V("+")},m(n,o){T(n,e,o)},d(n){n&&A(e)}}}function fC(t){let e;return{c(){e=V("Build a City Hall to manage your city.")},m(n,o){T(n,e,o)},p:Te,i:Te,o:Te,d(n){n&&A(e)}}}function cC(t){let e,n,o,i,r=xe(Fr),l=[];for(let s=0;s<r.length;s+=1)l[s]=yf(gf(t,r,s));const a=s=>S(l[s],1,1,()=>{l[s]=null});return{c(){e=M("span"),e.textContent="Laws 🧑‍⚖️",n=H();for(let s=0;s<l.length;s+=1)l[s].c();o=De(),$(e,"class","text-lg font-bold")},m(s,u){T(s,e,u),T(s,n,u);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(s,u);T(s,o,u),i=!0},p(s,u){if(u&1){r=xe(Fr);let f;for(f=0;f<r.length;f+=1){const c=gf(s,r,f);l[f]?(l[f].p(c,u),k(l[f],1)):(l[f]=yf(c),l[f].c(),k(l[f],1),l[f].m(o.parentNode,o))}for(Me(),f=r.length;f<l.length;f+=1)a(f);Oe()}},i(s){if(!i){for(let u=0;u<r.length;u+=1)k(l[u]);i=!0}},o(s){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)S(l[u]);i=!1},d(s){s&&(A(e),A(n),A(o)),it(l,s)}}}function dC(t){let e,n=t[7].cost+"",o;return{c(){e=V("Enact for 🧑‍⚖️ "),o=V(n)},m(i,r){T(i,e,r),T(i,o,r)},d(i){i&&(A(e),A(o))}}}function mC(t){let e;return{c(){e=V("Repeal ❌")},m(n,o){T(n,e,o)},d(n){n&&A(e)}}}function pC(t){let e,n;function o(l,a){return a&1&&(e=null),e==null&&(e=!!l[0].economyAndLaws.enacted.includes(l[7].id)),e?mC:dC}let i=o(t,-1),r=i(t);return{c(){r.c(),n=De()},m(l,a){r.m(l,a),T(l,n,a)},p(l,a){i!==(i=o(l,a))&&(r.d(1),r=i(l),r&&(r.c(),r.m(n.parentNode,n)))},d(l){l&&A(n),r.d(l)}}}function yf(t){let e,n,o,i,r,l,a;function s(){return t[4](t[7])}return i=new At({props:{class:`bg-accent rounded-2xl 
                `+(t[0].economyAndLaws.enacted.includes(t[7].id)?"bg-textDanger":"bg-accent")+`

                `+(t[0].economyAndLaws.enacted.includes(t[7].id)||t[7].cost<=t[0].resources.bureaucracy?"cursor-pointer":"cursor-not-allowed opacity-30")+`
                `,$$slots:{default:[pC]},$$scope:{ctx:t}}}),i.$on("click",s),l=new vt({props:{class:"bg-white opacity-30"}}),{c(){e=M("div"),n=M("span"),n.textContent=`${t[7].description}`,o=H(),U(i.$$.fragment),r=H(),U(l.$$.fragment),$(n,"class","text-sm"),$(e,"class","flex justify-between align-middle items-center pt-2 pb-2 gap-2 ")},m(u,f){T(u,e,f),b(e,n),b(e,o),x(i,e,null),T(u,r,f),x(l,u,f),a=!0},p(u,f){t=u;const c={};f&1&&(c.class=`bg-accent rounded-2xl 
                `+(t[0].economyAndLaws.enacted.includes(t[7].id)?"bg-textDanger":"bg-accent")+`

                `+(t[0].economyAndLaws.enacted.includes(t[7].id)||t[7].cost<=t[0].resources.bureaucracy?"cursor-pointer":"cursor-not-allowed opacity-30")+`
                `),f&1025&&(c.$$scope={dirty:f,ctx:t}),i.$set(c)},i(u){a||(k(i.$$.fragment,u),k(l.$$.fragment,u),a=!0)},o(u){S(i.$$.fragment,u),S(l.$$.fragment,u),a=!1},d(u){u&&(A(e),A(r)),Y(i),Y(l,u)}}}function hC(t){let e,n,o,i,r=qe("city_hall",t[0]).length>0,l,a,s,u,f,c,d,m;e=new rn({props:{class:"text-lg",$$slots:{default:[sC]},$$scope:{ctx:t}}}),o=new Gn({props:{class:"w-full "}});let p=r&&bf(t);a=new vt({props:{class:"mb-4"}});const _=[cC,fC],h=[];function w(y,C){return C&1&&(f=null),f==null&&(f=qe("city_hall",y[0]).length>0),f?0:1}return c=w(t,-1),d=h[c]=_[c](t),{c(){U(e.$$.fragment),n=H(),U(o.$$.fragment),i=H(),p&&p.c(),l=H(),U(a.$$.fragment),s=H(),u=M("div"),d.c(),$(u,"class","w-full")},m(y,C){x(e,y,C),T(y,n,C),x(o,y,C),T(y,i,C),p&&p.m(y,C),T(y,l,C),x(a,y,C),T(y,s,C),T(y,u,C),h[c].m(u,null),m=!0},p(y,C){const R={};C&1025&&(R.$$scope={dirty:C,ctx:y}),e.$set(R),C&1&&(r=qe("city_hall",y[0]).length>0),r?p?(p.p(y,C),C&1&&k(p,1)):(p=bf(y),p.c(),k(p,1),p.m(l.parentNode,l)):p&&(Me(),S(p,1,1,()=>{p=null}),Oe());let D=c;c=w(y,C),c===D?h[c].p(y,C):(Me(),S(h[D],1,1,()=>{h[D]=null}),Oe(),d=h[c],d?d.p(y,C):(d=h[c]=_[c](y),d.c()),k(d,1),d.m(u,null))},i(y){m||(k(e.$$.fragment,y),k(o.$$.fragment,y),k(p),k(a.$$.fragment,y),k(d),m=!0)},o(y){S(e.$$.fragment,y),S(o.$$.fragment,y),S(p),S(a.$$.fragment,y),S(d),m=!1},d(y){y&&(A(n),A(i),A(l),A(s),A(u)),Y(e,y),Y(o,y),p&&p.d(y),Y(a,y),h[c].d()}}}function _C(t){let e,n,o,i;return e=new ln({props:{$$slots:{default:[hC]},$$scope:{ctx:t}}}),o=new kn({}),{c(){U(e.$$.fragment),n=H(),U(o.$$.fragment)},m(r,l){x(e,r,l),T(r,n,l),x(o,r,l),i=!0},p(r,l){const a={};l&1025&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&A(n),Y(e,r),Y(o,r)}}}function gC(t){let e,n;return e=new sn({props:{class:"bg-foreground text-accentText h-[80vh] w-full scroll",$$slots:{default:[_C]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(o,i){x(e,o,i),n=!0},p(o,i){const r={};i&1025&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function bC(t){let e,n,o;function i(l){t[5](l)}let r={$$slots:{default:[gC]},$$scope:{ctx:t}};return t[1]!==void 0&&(r.open=t[1]),e=new an({props:r}),Ee.push(()=>Ut(e,"open",i)),{c(){U(e.$$.fragment)},m(l,a){x(e,l,a),o=!0},p(l,[a]){const s={};a&1025&&(s.$$scope={dirty:a,ctx:l}),!n&&a&2&&(n=!0,s.open=l[1],Wt(()=>n=!1)),e.$set(s)},i(l){o||(k(e.$$.fragment,l),o=!0)},o(l){S(e.$$.fragment,l),o=!1},d(l){Y(e,l)}}}function yC(t,e,n){let o,i;ae(t,Ne,u=>n(0,o=u)),ae(t,En,u=>n(1,i=u));const r=()=>{o.townInfo.guardians>0?(Ie(Ne,o.townInfo.guardians-=1,o),Ie(Ne,o.townInfo.employees-=1,o)):Ct.set("No guardians to fire.")},l=()=>{o.townInfo.employees<o.townInfo.population_count?(Ie(Ne,o.townInfo.guardians+=1,o),Ie(Ne,o.townInfo.employees+=1,o)):Ct.set("Not enough people.")},a=u=>{o.economyAndLaws.enacted.includes(u.id)?o.economyAndLaws.enacted.splice(o.economyAndLaws.enacted.indexOf(u.id),1):u.cost<=o.resources.bureaucracy?(Ie(Ne,o.resources.bureaucracy-=u.cost,o),o.economyAndLaws.enacted.push(u.id)):Ct.set("Not enough bureaucracy!")};function s(u){i=u,En.set(i)}return t.$$.update=()=>{t.$$.dirty&1},[o,i,r,l,a,s]}class vC extends he{constructor(e){super(),pe(this,e,yC,bC,de,{})}}function wC(t){let e;return{c(){e=V("Got it")},m(n,o){T(n,e,o)},d(n){n&&A(e)}}}function kC(t){let e,n,o,i,r,l,a,s;return r=new Ic({props:{class:"bg-accent hover:scale-105 min-w-[70%] transition-all duration-150 mt-2",$$slots:{default:[wC]},$$scope:{ctx:t}}}),r.$on("click",t[1]),a=new Cl({}),{c(){e=M("span"),n=V("🛎️ "),o=new Zt(!1),i=H(),U(r.$$.fragment),l=H(),U(a.$$.fragment),o.a=null,$(e,"class","whitespace-pre-wrap overflow-scroll text-center sm:whitespace-normal break-all sm:text-md sm:font-semibold sm:py-4 sm:items-center sm:justify-center"),Qe(e,"max-height","80%")},m(u,f){T(u,e,f),b(e,n),o.m(t[0],e),T(u,i,f),x(r,u,f),T(u,l,f),x(a,u,f),s=!0},p(u,f){(!s||f&1)&&o.p(u[0]);const c={};f&4&&(c.$$scope={dirty:f,ctx:u}),r.$set(c)},i(u){s||(k(r.$$.fragment,u),k(a.$$.fragment,u),s=!0)},o(u){S(r.$$.fragment,u),S(a.$$.fragment,u),s=!1},d(u){u&&(A(e),A(i),A(l)),Y(r,u),Y(a,u)}}}function CC(t){let e,n;return e=new Sl({props:{class:`bg-foregroundDark text-white rounded-input shadow-3xl justify-center items-center flex flex-col py-2 text-lg font-semibold p-2 min-w-96 min-h-36
         sm:rounded-2xl sm:flex sm:flex-col sm:p-6 sm:text-md sm:font-semibold sm:py-4 sm:items-center sm:justify-center max-h-[50vh]

         `,$$slots:{default:[kC]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(o,i){x(e,o,i),n=!0},p(o,i){const r={};i&5&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function SC(t){let e,n;return e=new Al({props:{open:t[0]!="",$$slots:{default:[CC]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(o,i){x(e,o,i),n=!0},p(o,[i]){const r={};i&1&&(r.open=o[0]!=""),i&5&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function AC(t,e,n){let o;return ae(t,Ct,r=>n(0,o=r)),[o,()=>{Ct.set("")}]}class TC extends he{constructor(e){super(),pe(this,e,AC,SC,de,{})}}function vf(t){let e,n,o,i;const r=[MC,IC],l=[];function a(s,u){return s[0]==null?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),T(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){S(n),i=!1},d(s){s&&A(o),l[e].d(s)}}}function IC(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,p,_,h,w,y,C,R,D,F=t[2]==!0&&wf();n=new Z4({}),i=new Ym({}),l=new ev({}),s=new Pv({}),f=new n3({}),d=new T3({}),p=new vC({}),h=new TC({}),y=new Vy({});let N=t[0].environment.day==0&&t[3]&&kf();return{c(){F&&F.c(),e=H(),U(n.$$.fragment),o=H(),U(i.$$.fragment),r=H(),U(l.$$.fragment),a=H(),U(s.$$.fragment),u=H(),U(f.$$.fragment),c=H(),U(d.$$.fragment),m=H(),U(p.$$.fragment),_=H(),U(h.$$.fragment),w=H(),U(y.$$.fragment),C=H(),N&&N.c(),R=De()},m(P,E){F&&F.m(P,E),T(P,e,E),x(n,P,E),T(P,o,E),x(i,P,E),T(P,r,E),x(l,P,E),T(P,a,E),x(s,P,E),T(P,u,E),x(f,P,E),T(P,c,E),x(d,P,E),T(P,m,E),x(p,P,E),T(P,_,E),x(h,P,E),T(P,w,E),x(y,P,E),T(P,C,E),N&&N.m(P,E),T(P,R,E),D=!0},p(P,E){P[2]==!0?F?E&4&&k(F,1):(F=wf(),F.c(),k(F,1),F.m(e.parentNode,e)):F&&(Me(),S(F,1,1,()=>{F=null}),Oe()),P[0].environment.day==0&&P[3]?N?E&9&&k(N,1):(N=kf(),N.c(),k(N,1),N.m(R.parentNode,R)):N&&(Me(),S(N,1,1,()=>{N=null}),Oe())},i(P){D||(k(F),k(n.$$.fragment,P),k(i.$$.fragment,P),k(l.$$.fragment,P),k(s.$$.fragment,P),k(f.$$.fragment,P),k(d.$$.fragment,P),k(p.$$.fragment,P),k(h.$$.fragment,P),k(y.$$.fragment,P),k(N),D=!0)},o(P){S(F),S(n.$$.fragment,P),S(i.$$.fragment,P),S(l.$$.fragment,P),S(s.$$.fragment,P),S(f.$$.fragment,P),S(d.$$.fragment,P),S(p.$$.fragment,P),S(h.$$.fragment,P),S(y.$$.fragment,P),S(N),D=!1},d(P){P&&(A(e),A(o),A(r),A(a),A(u),A(c),A(m),A(_),A(w),A(C),A(R)),F&&F.d(P),Y(n,P),Y(i,P),Y(l,P),Y(s,P),Y(f,P),Y(d,P),Y(p,P),Y(h,P),Y(y,P),N&&N.d(P)}}}function MC(t){let e,n;return e=new wv({}),{c(){U(e.$$.fragment)},m(o,i){x(e,o,i),n=!0},p:Te,i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function wf(t){let e,n;return e=new $y({}),{c(){U(e.$$.fragment)},m(o,i){x(e,o,i),n=!0},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function kf(t){let e,n;return e=new lC({}),{c(){U(e.$$.fragment)},m(o,i){x(e,o,i),n=!0},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function OC(t){let e,n,o=(t[1]||t[0]==null)&&vf(t);return{c(){o&&o.c(),e=De()},m(i,r){o&&o.m(i,r),T(i,e,r),n=!0},p(i,[r]){i[1]||i[0]==null?o?(o.p(i,r),r&3&&k(o,1)):(o=vf(i),o.c(),k(o,1),o.m(e.parentNode,e)):o&&(Me(),S(o,1,1,()=>{o=null}),Oe())},i(i){n||(k(o),n=!0)},o(i){S(o),n=!1},d(i){i&&A(e),o&&o.d(i)}}}const PC=1e-4;function NC(t,e,n){return{r:Math.round(t.r+(e.r-t.r)*n),g:Math.round(t.g+(e.g-t.g)*n),b:Math.round(t.b+(e.b-t.b)*n)}}function EC(t,e,n){let o,i,r,l,a,s,u,f,c,d,m;ae(t,tt,R=>n(8,o=R)),ae(t,Ot,R=>n(2,i=R)),ae(t,ao,R=>n(4,r=R)),ae(t,Bt,R=>n(9,l=R)),ae(t,Ne,R=>n(0,a=R)),ae(t,Oi,R=>n(10,s=R)),ae(t,En,R=>n(11,u=R)),ae(t,eo,R=>n(12,f=R)),ae(t,so,R=>n(13,c=R)),ae(t,qo,R=>n(14,d=R)),ae(t,hi,R=>n(3,m=R));let p=!1;Wy();const _=[{r:85,g:60,b:40},{r:115,g:85,b:55},{r:70,g:100,b:50},{r:120,g:65,b:50}];let h=0,w=1,y=0;function C(){const R=NC(_[h],_[w],y);document.body.style.backgroundColor=`rgb(${R.r}, ${R.g}, ${R.b})`,y+=PC,y>=1&&(y=0,h=w,w=(w+1)%_.length),requestAnimationFrame(C)}return C(),document.addEventListener("keydown",R=>{if((document.activeElement!=null&&document.activeElement.nodeName==="INPUT"||document.activeElement!=null&&document.activeElement.nodeName=="TEXTAREA")&&R.key!=="Escape")return;switch(R.key.toLowerCase()){case"p":case"escape":if(c){Ie(so,c=!1,c);break}if(f){Ie(eo,f=!1,f);break}if(u){Ie(En,u=!1,u);break}if(s){Ie(Oi,s=!1,s);break}if(o.visible){Ie(tt,o.visible=!1,o);break}if(l.visible){const F=a.plots[l.x][l.y];F.active=!1,F.type=-1,F.disabled=!1,Ie(Bt,l.visible=!1,l);break}if(r){ao.set(!1),document.querySelectorAll(".plot_container").forEach(N=>{N.style.cursor=""});break}Ot.set(!i),i&&Ie(tt,o.visible=!1,o);break}}),t.$$.update=()=>{t.$$.dirty&17&&(a?(Ie(qo,d.visible=!1,d),n(1,p=!0),r==!0&&document.querySelectorAll(".plot_container").forEach(D=>{D.dataset.canbeupgraded=="true"&&(D.style.cursor="pointer",D.style.cursor="url('https://github.com/josephrcox/plots/raw/main/public/liege_place.cur'), auto")})):(Ie(qo,d.visible=!0,d),n(1,p=!1)))},[a,p,i,m,r]}class $C extends he{constructor(e){super(),pe(this,e,EC,OC,de,{})}}new $C({target:document.getElementById("app")});
