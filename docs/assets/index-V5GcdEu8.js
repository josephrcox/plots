var rd=Object.defineProperty;var ld=(t,e,n)=>e in t?rd(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var rn=(t,e,n)=>(ld(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();function sd(t){const e=pako.gzip(JSON.stringify(t));return btoa(String.fromCharCode.apply(null,e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function ad(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=atob(e),o=new Uint8Array(n.length);for(let r=0;r<n.length;r++)o[r]=n.charCodeAt(r);const i=pako.ungzip(o,{to:"string"});return JSON.parse(i)}async function ud(){let t=localStorage.getItem("plots_active_game_db");const e=await sd(t);console.log("http://localhost:5173/plots/?shareId="+e)}const lr=window.location.search.substring(1).split("&").reduce((t,e)=>{const[n,o]=e.split("=");return t[n]=o,t},{});if(lr.shareId!=null||lr.shareId!=null){console.log("DECRYPING FROM shareId");const t=JSON.parse(ad(lr.shareId));let e=localStorage.getItem("plots_active_game_db");(e==""||e==null)&&localStorage.setItem("plots_active_game_db",JSON.stringify(t))}else console.log("COMPRESSING GAME TO SHARE"),ud();function ve(){}const Ui=t=>t;function J(t,e){for(const n in e)t[n]=e[n];return t}function gf(t){return t()}function Nl(){return Object.create(null)}function Be(t){t.forEach(gf)}function Ft(t){return typeof t=="function"}function ce(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function fd(t){return Object.keys(t).length===0}function tl(t,...e){if(t==null){for(const o of e)o(void 0);return ve}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function bf(t){let e;return tl(t,n=>e=n)(),e}function ae(t,e,n){t.$$.on_destroy.push(tl(e,n))}function pe(t,e,n,o){if(t){const i=vf(t,e,n,o);return t[0](i)}}function vf(t,e,n,o){return t[1]&&o?J(n.ctx.slice(),t[1](o(e))):n.ctx}function he(t,e,n,o){if(t[2]&&o){const i=t[2](o(n));if(e.dirty===void 0)return i;if(typeof i=="object"){const r=[],l=Math.max(e.dirty.length,i.length);for(let a=0;a<l;a+=1)r[a]=e.dirty[a]|i[a];return r}return e.dirty|i}return e.dirty}function _e(t,e,n,o,i,r){if(i){const l=vf(e,n,o,r);t.p(l,i)}}function ge(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let o=0;o<n;o++)e[o]=-1;return e}return-1}function Le(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function se(t,e){const n={};e=new Set(e);for(const o in t)!e.has(o)&&o[0]!=="$"&&(n[o]=t[o]);return n}function Me(t,e,n){return t.set(n),e}function je(t){return t&&Ft(t.destroy)?t.destroy:ve}const yf=typeof window<"u";let nl=yf?()=>window.performance.now():()=>Date.now(),ol=yf?t=>requestAnimationFrame(t):ve;const Kn=new Set;function wf(t){Kn.forEach(e=>{e.c(t)||(Kn.delete(e),e.f())}),Kn.size!==0&&ol(wf)}function il(t){let e;return Kn.size===0&&ol(wf),{promise:new Promise(n=>{Kn.add(e={c:t,f:n})}),abort(){Kn.delete(e)}}}const cd=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function y(t,e){t.appendChild(e)}function kf(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function dd(t){const e=E("style");return e.textContent="/* empty */",md(kf(t),e),e.sheet}function md(t,e){return y(t.head||t,e),e.sheet}function O(t,e,n){t.insertBefore(e,n||null)}function I(t){t.parentNode&&t.parentNode.removeChild(t)}function ft(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function E(t){return document.createElement(t)}function Ki(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function G(t){return document.createTextNode(t)}function q(){return G(" ")}function Re(){return G("")}function ee(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function pd(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function L(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}const hd=["width","height"];function ue(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const o in e)e[o]==null?t.removeAttribute(o):o==="style"?t.style.cssText=e[o]:o==="__value"?t.value=t[o]=e[o]:n[o]&&n[o].set&&hd.indexOf(o)===-1?t[o]=e[o]:L(t,o,e[o])}function gi(t,e){for(const n in e)L(t,n,e[n])}function _d(t,e){Object.keys(e).forEach(n=>{gd(t,n,e[n])})}function gd(t,e,n){const o=e.toLowerCase();o in t?t[o]=typeof t[o]=="boolean"&&n===""?!0:n:e in t?t[e]=typeof t[e]=="boolean"&&n===""?!0:n:L(t,e,n)}function dn(t){return/-/.test(t)?_d:ue}function bd(t){return Array.from(t.childNodes)}function fe(t,e){e=""+e,t.data!==e&&(t.data=e)}function bi(t,e){t.value=e??""}function tt(t,e,n,o){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,"")}function El(t,e,n){for(let o=0;o<t.options.length;o+=1){const i=t.options[o];if(i.__value===e){i.selected=!0;return}}t.selectedIndex=-1}function _t(t,e,n){t.classList.toggle(e,!!n)}function Cf(t,e,{bubbles:n=!1,cancelable:o=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:o})}class Kt{constructor(e=!1){rn(this,"is_svg",!1);rn(this,"e");rn(this,"n");rn(this,"t");rn(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,n,o=null){this.e||(this.is_svg?this.e=Ki(n.nodeName):this.e=E(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(e)),this.i(o)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)O(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(I)}}const vi=new Map;let yi=0;function vd(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function yd(t,e){const n={stylesheet:dd(e),rules:{}};return vi.set(t,n),n}function wi(t,e,n,o,i,r,l,a=0){const s=16.666/o;let u=`{
`;for(let g=0;g<=1;g+=s){const w=e+(n-e)*r(g);u+=g*100+`%{${l(w,1-w)}}
`}const f=u+`100% {${l(n,1-n)}}
}`,c=`__svelte_${vd(f)}_${a}`,d=kf(t),{stylesheet:m,rules:p}=vi.get(d)||yd(d,t);p[c]||(p[c]=!0,m.insertRule(`@keyframes ${c} ${f}`,m.cssRules.length));const h=t.style.animation||"";return t.style.animation=`${h?`${h}, `:""}${c} ${o}ms linear ${i}ms 1 both`,yi+=1,c}function ki(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?r=>r.indexOf(e)<0:r=>r.indexOf("__svelte")===-1),i=n.length-o.length;i&&(t.style.animation=o.join(", "),yi-=i,yi||wd())}function wd(){ol(()=>{yi||(vi.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&I(e)}),vi.clear())})}let $o;function No(t){$o=t}function Vo(){if(!$o)throw new Error("Function called outside component initialization");return $o}function xo(t){Vo().$$.on_mount.push(t)}function Tf(t){Vo().$$.on_destroy.push(t)}function kd(){const t=Vo();return(e,n,{cancelable:o=!1}={})=>{const i=t.$$.callbacks[e];if(i){const r=Cf(e,n,{cancelable:o});return i.slice().forEach(l=>{l.call(t,r)}),!r.defaultPrevented}return!0}}function Xi(t,e){return Vo().$$.context.set(t,e),e}function Ji(t){return Vo().$$.context.get(t)}function ie(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(o=>o.call(this,e))}const xn=[],Ne=[];let Xn=[];const Ir=[],Af=Promise.resolve();let Or=!1;function Sf(){Or||(Or=!0,Af.then(If))}function rl(){return Sf(),Af}function it(t){Xn.push(t)}function en(t){Ir.push(t)}const sr=new Set;let Hn=0;function If(){if(Hn!==0)return;const t=$o;do{try{for(;Hn<xn.length;){const e=xn[Hn];Hn++,No(e),Cd(e.$$)}}catch(e){throw xn.length=0,Hn=0,e}for(No(null),xn.length=0,Hn=0;Ne.length;)Ne.pop()();for(let e=0;e<Xn.length;e+=1){const n=Xn[e];sr.has(n)||(sr.add(n),n())}Xn.length=0}while(xn.length);for(;Ir.length;)Ir.pop()();Or=!1,sr.clear(),No(t)}function Cd(t){if(t.fragment!==null){t.update(),Be(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(it)}}function Td(t){const e=[],n=[];Xn.forEach(o=>t.indexOf(o)===-1?e.push(o):n.push(o)),n.forEach(o=>o()),Xn=e}let go;function ll(){return go||(go=Promise.resolve(),go.then(()=>{go=null})),go}function In(t,e,n){t.dispatchEvent(Cf(`${e?"intro":"outro"}${n}`))}const ui=new Set;let qt;function Se(){qt={r:0,c:[],p:qt}}function Ie(){qt.r||Be(qt.c),qt=qt.p}function k(t,e){t&&t.i&&(ui.delete(t),t.i(e))}function T(t,e,n,o){if(t&&t.o){if(ui.has(t))return;ui.add(t),qt.c.push(()=>{ui.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}else o&&o()}const sl={duration:0};function Wt(t,e,n){const o={direction:"in"};let i=e(t,n,o),r=!1,l,a,s=0;function u(){l&&ki(t,l)}function f(){const{delay:d=0,duration:m=300,easing:p=Ui,tick:h=ve,css:g}=i||sl;g&&(l=wi(t,0,1,m,d,p,g,s++)),h(0,1);const w=nl()+d,b=w+m;a&&a.abort(),r=!0,it(()=>In(t,!0,"start")),a=il(C=>{if(r){if(C>=b)return h(1,0),In(t,!0,"end"),u(),r=!1;if(C>=w){const N=p((C-w)/m);h(N,1-N)}}return r})}let c=!1;return{start(){c||(c=!0,ki(t),Ft(i)?(i=i(o),ll().then(f)):f())},invalidate(){c=!1},end(){r&&(u(),r=!1)}}}function Vt(t,e,n){const o={direction:"out"};let i=e(t,n,o),r=!0,l;const a=qt;a.r+=1;let s;function u(){const{delay:f=0,duration:c=300,easing:d=Ui,tick:m=ve,css:p}=i||sl;p&&(l=wi(t,1,0,c,f,d,p));const h=nl()+f,g=h+c;it(()=>In(t,!1,"start")),"inert"in t&&(s=t.inert,t.inert=!0),il(w=>{if(r){if(w>=g)return m(0,1),In(t,!1,"end"),--a.r||Be(a.c),!1;if(w>=h){const b=d((w-h)/c);m(1-b,b)}}return r})}return Ft(i)?ll().then(()=>{i=i(o),u()}):u(),{end(f){f&&"inert"in t&&(t.inert=s),f&&i.tick&&i.tick(1,0),r&&(l&&ki(t,l),r=!1)}}}function bt(t,e,n,o){let r=e(t,n,{direction:"both"}),l=o?0:1,a=null,s=null,u=null,f;function c(){u&&ki(t,u)}function d(p,h){const g=p.b-l;return h*=Math.abs(g),{a:l,b:p.b,d:g,duration:h,start:p.start,end:p.start+h,group:p.group}}function m(p){const{delay:h=0,duration:g=300,easing:w=Ui,tick:b=ve,css:C}=r||sl,N={start:nl()+h,b:p};p||(N.group=qt,qt.r+=1),"inert"in t&&(p?f!==void 0&&(t.inert=f):(f=t.inert,t.inert=!0)),a||s?s=N:(C&&(c(),u=wi(t,l,p,g,h,w,C)),p&&b(0,1),a=d(N,g),it(()=>In(t,p,"start")),il(F=>{if(s&&F>s.start&&(a=d(s,g),s=null,In(t,a.b,"start"),C&&(c(),u=wi(t,l,a.b,a.duration,0,w,r.css))),a){if(F>=a.end)b(l=a.b,1-l),In(t,a.b,"end"),s||(a.b?c():--a.group.r||Be(a.group.c)),a=null;else if(F>=a.start){const P=F-a.start;l=a.a+a.d*w(P/a.duration),b(l,1-l)}}return!!(a||s)}))}return{run(p){Ft(r)?ll().then(()=>{r=r({direction:p?"in":"out"}),m(p)}):m(p)},end(){c(),a=s=null}}}function Ve(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Ad(t,e){T(t,1,1,()=>{e.delete(t.key)})}function Sd(t,e,n,o,i,r,l,a,s,u,f,c){let d=t.length,m=r.length,p=d;const h={};for(;p--;)h[t[p].key]=p;const g=[],w=new Map,b=new Map,C=[];for(p=m;p--;){const D=c(i,r,p),H=n(D);let M=l.get(H);M?C.push(()=>M.p(D,e)):(M=u(H,D),M.c()),w.set(H,g[p]=M),H in h&&b.set(H,Math.abs(p-h[H]))}const N=new Set,F=new Set;function P(D){k(D,1),D.m(a,f),l.set(D.key,D),f=D.first,m--}for(;d&&m;){const D=g[m-1],H=t[d-1],M=D.key,R=H.key;D===H?(f=D.first,d--,m--):w.has(R)?!l.has(M)||N.has(M)?P(D):F.has(R)?d--:b.get(M)>b.get(R)?(F.add(M),P(D)):(N.add(R),d--):(s(H,l),d--)}for(;d--;){const D=t[d];w.has(D.key)||s(D,l)}for(;m;)P(g[m-1]);return Be(C),g}function ye(t,e){const n={},o={},i={$$scope:1};let r=t.length;for(;r--;){const l=t[r],a=e[r];if(a){for(const s in l)s in a||(o[s]=1);for(const s in a)i[s]||(n[s]=a[s],i[s]=1);t[r]=a}else for(const s in l)i[s]=1}for(const l in o)l in n||(n[l]=void 0);return n}function st(t){return typeof t=="object"&&t!==null?t:{}}function tn(t,e,n){const o=t.$$.props[e];o!==void 0&&(t.$$.bound[o]=n,n(t.$$.ctx[o]))}function Y(t){t&&t.c()}function V(t,e,n){const{fragment:o,after_update:i}=t.$$;o&&o.m(e,n),it(()=>{const r=t.$$.on_mount.map(gf).filter(Ft);t.$$.on_destroy?t.$$.on_destroy.push(...r):Be(r),t.$$.on_mount=[]}),i.forEach(it)}function x(t,e){const n=t.$$;n.fragment!==null&&(Td(n.after_update),Be(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Id(t,e){t.$$.dirty[0]===-1&&(xn.push(t),Sf(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function de(t,e,n,o,i,r,l=null,a=[-1]){const s=$o;No(t);const u=t.$$={fragment:null,ctx:[],props:r,update:ve,not_equal:i,bound:Nl(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(s?s.$$.context:[])),callbacks:Nl(),dirty:a,skip_bound:!1,root:e.target||s.$$.root};l&&l(u.root);let f=!1;if(u.ctx=n?n(t,e.props||{},(c,d,...m)=>{const p=m.length?m[0]:d;return u.ctx&&i(u.ctx[c],u.ctx[c]=p)&&(!u.skip_bound&&u.bound[c]&&u.bound[c](p),f&&Id(t,c)),d}):[],u.update(),f=!0,Be(u.before_update),u.fragment=o?o(u.ctx):!1,e.target){if(e.hydrate){const c=bd(e.target);u.fragment&&u.fragment.l(c),c.forEach(I)}else u.fragment&&u.fragment.c();e.intro&&k(t.$$.fragment),V(t,e.target,e.anchor),If()}No(s)}class me{constructor(){rn(this,"$$");rn(this,"$$set")}$destroy(){x(this,1),this.$destroy=ve}$on(e,n){if(!Ft(n))return ve;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const i=o.indexOf(n);i!==-1&&o.splice(i,1)}}$set(e){this.$$set&&!fd(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Od="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Od);const Gn=[];function On(t,e){return{subscribe:xe(t,e).subscribe}}function xe(t,e=ve){let n;const o=new Set;function i(a){if(ce(t,a)&&(t=a,n)){const s=!Gn.length;for(const u of o)u[1](),Gn.push(u,t);if(s){for(let u=0;u<Gn.length;u+=2)Gn[u][0](Gn[u+1]);Gn.length=0}}}function r(a){i(a(t))}function l(a,s=ve){const u=[a,s];return o.add(u),o.size===1&&(n=e(i,r)||ve),a(t),()=>{o.delete(u),o.size===0&&n&&(n(),n=null)}}return{set:i,update:r,subscribe:l}}function nn(t,e,n){const o=!Array.isArray(t),i=o?[t]:t;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const r=e.length<2;return On(n,(l,a)=>{let s=!1;const u=[];let f=0,c=ve;const d=()=>{if(f)return;c();const p=e(o?u[0]:u,l,a);r?l(p):c=Ft(p)?p:ve},m=i.map((p,h)=>tl(p,g=>{u[h]=g,f&=~(1<<h),s&&d()},()=>{f|=1<<h}));return s=!0,d(),function(){Be(m),c(),s=!1}})}function Rl(t){return{subscribe:t.subscribe.bind(t)}}const Md={plots:[],timeSpent:0,lastChangeDay:0,townLog:[],currentTutorialStep:0,gameSettings:[],resource_capacity:1e3,townInfo:{name:"Your town",gold:150,population_count:0,population_max:0,employees:0,guardians:0,happiness:150,health:150,recreation:0,community:150,knowledge_points:0,productivity:100},kingdom_expansions:0,resources:{food:150,wood:750,stone:750,metal:0,power:0,bureaucracy:0},resource_rate:{food:0,wood:0,stone:0,metal:0,bureaucracy:0,knowledge:0},hasCityHall:!1,hasBank:!1,hasHospital:!1,hasLab:!1,modifiers:{happiness:1,health:1,community:1},economyAndLaws:{tax_rate:.1,max_tax_rate:1,weeklyProfit:0,knowledge_gold_market_rates:[],enacted:[]},plotCounts:[],environment:{day:0,year:1},maximums:{health:300,happiness:300,community:300},difficulty:0,endGoal:"land",endGameDetails:{msg:"",win:!1,still_playing:!0},tick:0,overtime:!1,last_warning_happiness:0,last_warning_health:0,lab:{active_experiment:null,past_experiments:[],xp:0},liege_location:null},Pd={username:"",stats:{games_played:0,wins:0,losses:0},achievements:[]};var ot=(t=>(t[t.GOOD=0]="GOOD",t[t.BAD=1]="BAD",t[t.NORMAL=2]="NORMAL",t))(ot||{}),Of=(t=>(t.START_GAME="start_game",t.BUILD_PLOT="build_plot",t))(Of||{});const Mf={0:"Easy",1:"Normal",2:"Hard"},Nd={0:Math.random()*(.5-.3)+.3,1:Math.random()*(.4-.2)+.2,2:Math.random()*(.4-.2)+.2},oe=[{id:"small_homes",emoji:"🏠",title:"Homes",type:"residential",description:"+16 people",revenue_per_week:0,requirements:{gold:150,plots:[],employees:0,knowledge:0,size:1,xp:0,resources:{food:0,wood:50,stone:10,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:16,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:2,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"Listen to the townspeople."},{id:"large_homes",emoji:"🏡",title:"Large Homes",type:"residential",description:"+32 people",revenue_per_week:0,requirements:{gold:1800,plots:[],employees:0,knowledge:0,size:1,xp:0,resources:{food:0,wood:350,stone:100,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.01,health:1,community:1},immediate_variable_changes:{happiness:10,health:0,population:32,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:40,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"Listen to the townspeople."},{id:"farm",emoji:"🥕",title:"Farm",type:"farm",description:"Produces veggies, grains, fruit",revenue_per_week:6,requirements:{gold:80,plots:[],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:10,stone:10,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.03,health:1.03,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:5,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},check_for_variety:!1,liege_on_plot_hint:"Your presence on the farm is encouraging the farmers to work harder!"},{id:"tree_farm",emoji:"🌲",title:"Tree Farm",type:"lumber",description:"Produces some wood",revenue_per_week:8,requirements:{gold:300,plots:[],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},check_for_variety:!0,styling:"",affordable:null,selected:null,knowledge_points_per_month:0,generated_resources:{food:0,wood:10,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"Your presence on the farm is encouraging the farmers to work harder!"},{id:"quarry",emoji:"⛏️",title:"Quarry",type:"quarry",description:"Produces stone, small amounts of metal. Isn't great for health. ",revenue_per_week:0,requirements:{gold:800,plots:[],employees:6,knowledge:0,size:1,xp:0,resources:{food:0,wood:50,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:.98,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:18,metal:1,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"The workers at the quarry are working harder with the presence of their liege."},{id:"Apothecary",emoji:"🌿",title:"Apothecary",type:"medical",description:"Produces medicine from herbs and plants found in the forest. Increases health overall for a short bit. Fine until you can build a Healing House.",revenue_per_week:0,requirements:{gold:600,plots:[],employees:2,knowledge:0,size:1,xp:0,resources:{food:0,wood:250,stone:250,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.01,health:1.06,community:1},immediate_variable_changes:{happiness:25,health:70,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"livestock_farm",emoji:"🐄",title:"Livestock",type:"farm",description:"Makes more money and food than a regular farm, but doesn't bonus from water.",revenue_per_week:60,requirements:{gold:600,plots:[],employees:8,knowledge:0,size:1,xp:0,resources:{food:0,wood:20,stone:20,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.1,health:1.05,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:14,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},check_for_variety:!1,liege_on_plot_hint:"The cows are producing more milk and cheese when you are hanging out on the farm."},{id:"stockpile",emoji:"📦",title:"Stockpile",type:"stockpile",description:"Enables you to store more resources. Costs gold weekly.",revenue_per_week:0,requirements:{gold:600,plots:[],employees:2,knowledge:0,size:1,xp:0,resources:{food:0,wood:220,stone:60,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:30,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},check_for_variety:!1,liege_on_plot_hint:null},{id:"adv_stockpile",emoji:"📦📦",title:"Adv. Stockpile",type:"stockpile",description:"Stores more than a normal Stockpile. Costs more to build & operate.",revenue_per_week:0,requirements:{gold:3e3,plots:[],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:2e3,stone:2e3,metal:200,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:100,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},check_for_variety:!1,liege_on_plot_hint:null},{id:"bakery",emoji:"🥖",title:"Bakery",type:"business",description:"Converts food into some extra cash. Make sure you have enough food.",revenue_per_week:80,requirements:{gold:1800,plots:[],employees:3,knowledge:0,size:1,xp:0,resources:{food:0,wood:300,stone:300,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.11,health:.95,community:1},immediate_variable_changes:{happiness:25,health:0,population:0,community:0,bureaucracy:0},check_for_variety:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:15},liege_on_plot_hint:null},{id:"stables",emoji:"🐴",title:"Stables",type:"recreation",description:"Improves the health of the town and provides recreation.",revenue_per_week:24,requirements:{gold:1700,plots:[],employees:2,knowledge:0,size:1,xp:0,resources:{food:0,wood:280,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.2,health:1.2,community:1},immediate_variable_changes:{happiness:5,health:10,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"church",emoji:"⛪️",title:"Church",type:"recreation",description:"Makes people VERY happy for a short period.",revenue_per_week:0,requirements:{gold:900,plots:[],employees:1,knowledge:0,size:1,xp:0,resources:{food:0,wood:1250,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:2,health:1,community:1.3},immediate_variable_changes:{happiness:25,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"pub",emoji:"🍻",title:"Pub",type:"recreation",description:"Generates knowledge, happiness, community. Isn't great for health.",revenue_per_week:100,knowledge_points_per_month:1,requirements:{gold:2e3,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:1200,stone:250,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.2,health:.97,community:1.1},immediate_variable_changes:{happiness:10,health:-15,population:0,community:0,bureaucracy:0},check_for_variety:!0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"village_market",emoji:"🛒",title:"Market",type:"shop",description:"Turns food into money. Sells goods and employs many. Makes significantly more money from tourism if you have a Village Inn.",revenue_per_week:150,requirements:{gold:3e3,plots:[],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:1600,stone:600,metal:5,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.05,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:35},liege_on_plot_hint:"Your presence is helping the market make more money."},{id:"fishery",emoji:"🐠",title:"Fishery",type:"business",description:"Requires metal but generates a lot of food. Must be near water.",revenue_per_week:35,requirements:{gold:3500,plots:[],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:2500,stone:0,metal:100,power:0,bureaucracy:0},adjacent_plots:["water"]},effect_modifiers:{happiness:1.05,health:1,community:1},immediate_variable_changes:{happiness:15,health:8,population:0,community:0,bureaucracy:0},check_for_variety:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:130,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"Your expertise in fishing is helping the town reel in far more fish!"},{id:"vineyard",emoji:"🍇",title:"Vineyard",type:"recreation",description:"Makes fair money, lowers health. Generates knowledge too similar to a pub.",revenue_per_week:60,requirements:{gold:1800,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:1200,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.2,health:.9,community:1},immediate_variable_changes:{happiness:0,health:-10,population:0,community:0,bureaucracy:0},knowledge_points_per_month:3,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"water_wheel",emoji:"💧",title:"Water Wheel",type:"industrial",description:"Produces small amount of power",revenue_per_week:0,requirements:{gold:1600,plots:[],employees:15,knowledge:0,size:1,xp:0,resources:{food:0,wood:2e3,stone:25,metal:0,power:0,bureaucracy:0},adjacent_plots:["water"]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:35,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"You are trying to improve the efficiency of the water wheel, but you aren't making a difference."},{id:"adv_water_wheel",emoji:"💧💧",title:"Adv. Water Wheel",type:"industrial",description:"Produces a large amount of power",revenue_per_week:0,requirements:{gold:3e3,plots:["blacksmith"],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:1200,stone:150,metal:500,power:0,bureaucracy:0},adjacent_plots:["water"]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:250,bureaucracy:0},level:4,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"You are trying to improve the efficiency of the water wheel, but you aren't making a difference."},{id:"adv_farm",emoji:"🌾",title:"Adv. Farm",type:"farm",description:"Uses knowledge and technology to produce more food, with only 1 employee.",revenue_per_week:60,requirements:{gold:750,plots:[],employees:1,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:300,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:15,health:15,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:180,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:100,wood:0,stone:0,metal:3,bureaucracy:0,food:0},check_for_variety:!1,liege_on_plot_hint:"Your presence on the farm is encouraging the farmer to work harder!"},{id:"park",emoji:"🎪",title:"Park",type:"recreation",description:"Makes people extremely happy & healthy for a period. Improves community.",revenue_per_week:0,requirements:{gold:600,plots:[],employees:3,knowledge:0,size:1,xp:0,resources:{food:0,wood:100,stone:100,metal:10,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.5,health:1.5,community:1.3},immediate_variable_changes:{happiness:40,health:40,population:0,community:40,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"village_inn",emoji:"🛌",title:"Village Inn",type:"tourism",description:"Each inn brings more visitors to your town, increasing profits for the Market and other stores.",revenue_per_week:40,requirements:{gold:5500,plots:[],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:3e3,stone:100,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1.02},immediate_variable_changes:{happiness:10,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:20,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"schoolhouse",emoji:"🏫",title:"Schoolhouse",type:"education",description:"Produces knowledge, costs money to run.",revenue_per_week:0,knowledge_points_per_month:75,requirements:{gold:15e3,plots:["lumber_mill"],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:3e3,stone:600,metal:100,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.1,health:1.1,community:1.2},immediate_variable_changes:{happiness:15,health:3,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:50,power:20,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"The children seem to be learning worse when you are around, maybe you are a distraction from the teachers."},{id:"blacksmith",emoji:"⚒️",title:"Blacksmith",type:"business",description:"Converts metal into tools for money. Make sure you have enough metal!",revenue_per_week:300,requirements:{gold:12500,plots:[],employees:24,knowledge:0,size:1,xp:0,resources:{food:0,wood:250,stone:4e3,metal:500,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:.95},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:30,wood:0,stone:0,metal:5,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"library",emoji:"📕",title:"Library",type:"recreation",description:"Produces knowledge and happiness",revenue_per_week:0,knowledge_points_per_month:10,requirements:{gold:2e3,plots:["lumber_mill"],employees:6,knowledge:0,size:1,xp:0,resources:{food:0,wood:2025,stone:500,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.3,health:1,community:1.1},immediate_variable_changes:{happiness:15,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"lumber_mill",emoji:"🏭",title:"Lumber Mill",type:"industrial",description:"Increases wood production by 50%, has to be next to a tree farm, but increases production at all.",revenue_per_week:0,requirements:{gold:12e3,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:100,stone:100,metal:300,power:0,bureaucracy:0},adjacent_plots:["tree_farm"]},effect_modifiers:{happiness:1.2,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:50,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:40,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"solar_farm",emoji:"☀️",title:"Solar farm",type:"industrial",description:"Produces a lot of power without the need of water. Requires a lot of metal every week.",revenue_per_week:0,requirements:{gold:3e4,plots:["blacksmith","library"],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:500,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:750,bureaucracy:0},level:4,active_costs:{gold:0,power:0,wood:0,stone:0,metal:25,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"general_store",emoji:"🛒",title:"General Store",type:"shop",description:"Makes the most money of any plot, requires power. Makes significantly more from tourism if you have a Village Inn.",revenue_per_week:750,requirements:{gold:27500,plots:[],employees:32,knowledge:0,size:1,xp:0,resources:{food:0,wood:3e4,stone:5e3,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:2,health:2,community:1.1},immediate_variable_changes:{happiness:50,health:50,population:0,community:50,bureaucracy:0},check_for_variety:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:160,wood:0,stone:0,metal:0,bureaucracy:0,food:100},liege_on_plot_hint:"Your experience managing towns is increasing the profits at the general store!"},{id:"healing_house",emoji:"🏥",title:"Healing House",type:"medical",description:"Treats the sick and continuously improves health.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:3e4,plots:["mine"],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:1e3,stone:2e3,metal:500,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.25,health:1.5,community:1.1},immediate_variable_changes:{happiness:5,health:75,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:30,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"community_center",emoji:"🫶",title:"Community Center",type:"recreation",description:"Improves community, makes people happier, costs money",revenue_per_week:0,requirements:{gold:16e3,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:7500,stone:700,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.09,health:1,community:2},immediate_variable_changes:{happiness:50,health:15,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:10,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"city_hall",emoji:"🗳️",title:"City Hall",type:"federal",description:"Generates bureaucracy that can be used to pass laws to impact the city and expand. Costs a LOT of gold every week.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:125e3,plots:[],employees:32,knowledge:1e4,size:1,xp:0,resources:{food:0,wood:3250,stone:2e3,metal:200,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1.3},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:10},level:5,active_costs:{gold:600,power:20,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"mine",emoji:"⛏️",title:"Mine",type:"mine",description:"Produces a significant amount of metal and stone.",revenue_per_week:0,requirements:{gold:3e4,plots:["blacksmith"],employees:48,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:110,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:.95,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:10,metal:60,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:80,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"academy",emoji:"🏫",title:"Academy",type:"education",description:"Produces a lot of knowledge, more than a schoolhouse or library. But freakishly expensive.",revenue_per_week:0,knowledge_points_per_month:400,requirements:{gold:99e3,plots:["lumber_mill","schoolhouse"],employees:24,knowledge:3e3,size:1,xp:0,resources:{food:0,wood:3e3,stone:1600,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:5,active_costs:{gold:300,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"bank",emoji:"🏦",title:"Bank",type:"bank",description:"Enables the conversion of knowledge to gold, and increases maximum tax rate so you can make more money.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:1e5,plots:["academy"],employees:32,knowledge:25e3,size:1,xp:0,resources:{food:0,wood:1e3,stone:1e4,metal:1e3,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:.8,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:5,active_costs:{gold:0,power:100,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"lab",emoji:"🧪",title:"Laboratory",type:"science",description:"Designs things to help the city grow",revenue_per_week:0,knowledge_points_per_month:300,requirements:{gold:1e5,plots:["academy"],employees:48,knowledge:15e3,size:1,xp:0,resources:{food:0,wood:0,stone:1e4,metal:5e3,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:.98,health:.99,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:5,active_costs:{gold:0,power:700,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null}],bo={empty_unusable:"rgba(255,255,255,0.50)",empty_buildable:"rgba(239,234,90,1.0)",residential:"rgba(222,118,51,1.0)",farm:"rgba(107,143,73,1.0)",lumber:"rgba(145,116,44,1.0)",business:"rgba(146,115,165,1.0)",recreation:"rgba(82,119,177,1.0)",shop:"rgba(82,119,177,1.0)",tourism:"rgba(216,150,216,1.0)",education:"rgba(153,151,223,1.0)",medical:"rgba(74,91,163,1.0)",bank:"rgba(132,119,190,1.0)",federal:"rgba(132,119,190,1.0)",science:"rgba(74,91,163,1.0)",mine:"rgba(217,135,74,1.0)",quarry:"rgba(134,134,133,1.0)",industrial:"rgba(134,134,21,1.0)",stockpile:"rgba(134,134,133,1.0)"};function Mr(t,e=!1,n=22){if(t<0)return t==-1?e?bo.empty_buildable:bo.empty_unusable:t==-2?bo.recreation:bo.empty_unusable;const o=oe[t];return Rd(bo[o.type],n)}const Ed={lab:1,city_hall:1,bank:1,community_center:1,inn:1},Rd=(t,e=20)=>{const n=(l,a,s)=>{l/=255,a/=255,s/=255;const u=Math.max(l,a,s),f=Math.min(l,a,s);let c=0,d=0,m=(u+f)/2;if(u!==f){const p=u-f;switch(d=m>.5?p/(2-u-f):p/(u+f),u){case l:c=(a-s)/p+(a<s?6:0);break;case a:c=(s-l)/p+2;break;case s:c=(l-a)/p+4;break}c/=6}return[c*360,d,m]},o=(l,a,s,u)=>{const f=Math.min(1,s+u/100);return`hsl(${l}, ${(a*100).toFixed(1)}%, ${(f*100).toFixed(1)}%)`},i=l=>{const a=l.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)/);return a?[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]:null};let r=null;if(t.startsWith("#")){const l=t.replace("#",""),a=parseInt(l,16);r=[a>>16&255,a>>8&255,a&255]}else(t.startsWith("rgba")||t.startsWith("rgb"))&&(r=i(t));if(r){const[l,a,s]=n(r[0],r[1],r[2]);return o(l,a,s,e)}throw new Error("Invalid color format")};function Pf(t){var e,n,o="";if(typeof t=="string"||typeof t=="number")o+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Pf(t[e]))&&(o&&(o+=" "),o+=n)}else for(n in t)t[n]&&(o&&(o+=" "),o+=n);return o}function Ld(){for(var t,e,n=0,o="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Pf(t))&&(o&&(o+=" "),o+=e);return o}const al="-";function Dd(t){const e=Fd(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:o}=t;function i(l){const a=l.split(al);return a[0]===""&&a.length!==1&&a.shift(),Nf(a,e)||$d(l)}function r(l,a){const s=n[l]||[];return a&&o[l]?[...s,...o[l]]:s}return{getClassGroupId:i,getConflictingClassGroupIds:r}}function Nf(t,e){var l;if(t.length===0)return e.classGroupId;const n=t[0],o=e.nextPart.get(n),i=o?Nf(t.slice(1),o):void 0;if(i)return i;if(e.validators.length===0)return;const r=t.join(al);return(l=e.validators.find(({validator:a})=>a(r)))==null?void 0:l.classGroupId}const Ll=/^\[(.+)\]$/;function $d(t){if(Ll.test(t)){const e=Ll.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function Fd(t){const{theme:e,prefix:n}=t,o={nextPart:new Map,validators:[]};return qd(Object.entries(t.classGroups),n).forEach(([r,l])=>{Pr(l,o,r,e)}),o}function Pr(t,e,n,o){t.forEach(i=>{if(typeof i=="string"){const r=i===""?e:Dl(e,i);r.classGroupId=n;return}if(typeof i=="function"){if(jd(i)){Pr(i(o),e,n,o);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([r,l])=>{Pr(l,Dl(e,r),n,o)})})}function Dl(t,e){let n=t;return e.split(al).forEach(o=>{n.nextPart.has(o)||n.nextPart.set(o,{nextPart:new Map,validators:[]}),n=n.nextPart.get(o)}),n}function jd(t){return t.isThemeGetter}function qd(t,e){return e?t.map(([n,o])=>{const i=o.map(r=>typeof r=="string"?e+r:typeof r=="object"?Object.fromEntries(Object.entries(r).map(([l,a])=>[e+l,a])):r);return[n,i]}):t}function Bd(t){if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,o=new Map;function i(r,l){n.set(r,l),e++,e>t&&(e=0,o=n,n=new Map)}return{get(r){let l=n.get(r);if(l!==void 0)return l;if((l=o.get(r))!==void 0)return i(r,l),l},set(r,l){n.has(r)?n.set(r,l):i(r,l)}}}const Ef="!";function Hd(t){const e=t.separator,n=e.length===1,o=e[0],i=e.length;return function(l){const a=[];let s=0,u=0,f;for(let h=0;h<l.length;h++){let g=l[h];if(s===0){if(g===o&&(n||l.slice(h,h+i)===e)){a.push(l.slice(u,h)),u=h+i;continue}if(g==="/"){f=h;continue}}g==="["?s++:g==="]"&&s--}const c=a.length===0?l:l.substring(u),d=c.startsWith(Ef),m=d?c.substring(1):c,p=f&&f>u?f-u:void 0;return{modifiers:a,hasImportantModifier:d,baseClassName:m,maybePostfixModifierPosition:p}}}function Gd(t){if(t.length<=1)return t;const e=[];let n=[];return t.forEach(o=>{o[0]==="["?(e.push(...n.sort(),o),n=[]):n.push(o)}),e.push(...n.sort()),e}function Wd(t){return{cache:Bd(t.cacheSize),splitModifiers:Hd(t),...Dd(t)}}const Vd=/\s+/;function xd(t,e){const{splitModifiers:n,getClassGroupId:o,getConflictingClassGroupIds:i}=e,r=new Set;return t.trim().split(Vd).map(l=>{const{modifiers:a,hasImportantModifier:s,baseClassName:u,maybePostfixModifierPosition:f}=n(l);let c=o(f?u.substring(0,f):u),d=!!f;if(!c){if(!f)return{isTailwindClass:!1,originalClassName:l};if(c=o(u),!c)return{isTailwindClass:!1,originalClassName:l};d=!1}const m=Gd(a).join(":");return{isTailwindClass:!0,modifierId:s?m+Ef:m,classGroupId:c,originalClassName:l,hasPostfixModifier:d}}).reverse().filter(l=>{if(!l.isTailwindClass)return!0;const{modifierId:a,classGroupId:s,hasPostfixModifier:u}=l,f=a+s;return r.has(f)?!1:(r.add(f),i(s,u).forEach(c=>r.add(a+c)),!0)}).reverse().map(l=>l.originalClassName).join(" ")}function Yd(){let t=0,e,n,o="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Rf(e))&&(o&&(o+=" "),o+=n);return o}function Rf(t){if(typeof t=="string")return t;let e,n="";for(let o=0;o<t.length;o++)t[o]&&(e=Rf(t[o]))&&(n&&(n+=" "),n+=e);return n}function Nr(t,...e){let n,o,i,r=l;function l(s){const u=e.reduce((f,c)=>c(f),t());return n=Wd(u),o=n.cache.get,i=n.cache.set,r=a,a(s)}function a(s){const u=o(s);if(u)return u;const f=xd(s,n);return i(s,f),f}return function(){return r(Yd.apply(null,arguments))}}function et(t){const e=n=>n[t]||[];return e.isThemeGetter=!0,e}const Lf=/^\[(?:([a-z-]+):)?(.+)\]$/i,Ud=/^\d+\/\d+$/,Kd=new Set(["px","full","screen"]),Xd=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Jd=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Zd=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Qd=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,zd=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function Yt(t){return An(t)||Kd.has(t)||Ud.test(t)}function ln(t){return ao(t,"length",sm)}function An(t){return!!t&&!Number.isNaN(Number(t))}function Qo(t){return ao(t,"number",An)}function vo(t){return!!t&&Number.isInteger(Number(t))}function em(t){return t.endsWith("%")&&An(t.slice(0,-1))}function qe(t){return Lf.test(t)}function sn(t){return Xd.test(t)}const tm=new Set(["length","size","percentage"]);function nm(t){return ao(t,tm,Df)}function om(t){return ao(t,"position",Df)}const im=new Set(["image","url"]);function rm(t){return ao(t,im,um)}function lm(t){return ao(t,"",am)}function yo(){return!0}function ao(t,e,n){const o=Lf.exec(t);return o?o[1]?typeof e=="string"?o[1]===e:e.has(o[1]):n(o[2]):!1}function sm(t){return Jd.test(t)&&!Zd.test(t)}function Df(){return!1}function am(t){return Qd.test(t)}function um(t){return zd.test(t)}function Er(){const t=et("colors"),e=et("spacing"),n=et("blur"),o=et("brightness"),i=et("borderColor"),r=et("borderRadius"),l=et("borderSpacing"),a=et("borderWidth"),s=et("contrast"),u=et("grayscale"),f=et("hueRotate"),c=et("invert"),d=et("gap"),m=et("gradientColorStops"),p=et("gradientColorStopPositions"),h=et("inset"),g=et("margin"),w=et("opacity"),b=et("padding"),C=et("saturate"),N=et("scale"),F=et("sepia"),P=et("skew"),D=et("space"),H=et("translate"),M=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],S=()=>["auto",qe,e],v=()=>[qe,e],A=()=>["",Yt,ln],j=()=>["auto",An,qe],W=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],$=()=>["solid","dashed","dotted","double","none"],U=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"],Q=()=>["start","end","center","between","around","evenly","stretch"],z=()=>["","0",qe],te=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Z=()=>[An,Qo],le=()=>[An,qe];return{cacheSize:500,separator:":",theme:{colors:[yo],spacing:[Yt,ln],blur:["none","",sn,qe],brightness:Z(),borderColor:[t],borderRadius:["none","","full",sn,qe],borderSpacing:v(),borderWidth:A(),contrast:Z(),grayscale:z(),hueRotate:le(),invert:z(),gap:v(),gradientColorStops:[t],gradientColorStopPositions:[em,ln],inset:S(),margin:S(),opacity:Z(),padding:v(),saturate:Z(),scale:Z(),sepia:z(),skew:le(),space:v(),translate:v()},classGroups:{aspect:[{aspect:["auto","square","video",qe]}],container:["container"],columns:[{columns:[sn]}],"break-after":[{"break-after":te()}],"break-before":[{"break-before":te()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...W(),qe]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[h]}],"inset-x":[{"inset-x":[h]}],"inset-y":[{"inset-y":[h]}],start:[{start:[h]}],end:[{end:[h]}],top:[{top:[h]}],right:[{right:[h]}],bottom:[{bottom:[h]}],left:[{left:[h]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",vo,qe]}],basis:[{basis:S()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",qe]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",vo,qe]}],"grid-cols":[{"grid-cols":[yo]}],"col-start-end":[{col:["auto",{span:["full",vo,qe]},qe]}],"col-start":[{"col-start":j()}],"col-end":[{"col-end":j()}],"grid-rows":[{"grid-rows":[yo]}],"row-start-end":[{row:["auto",{span:[vo,qe]},qe]}],"row-start":[{"row-start":j()}],"row-end":[{"row-end":j()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",qe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",qe]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal",...Q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[D]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[D]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",qe,e]}],"min-w":[{"min-w":[qe,e,"min","max","fit"]}],"max-w":[{"max-w":[qe,e,"none","full","min","max","fit","prose",{screen:[sn]},sn]}],h:[{h:[qe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[qe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[qe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[qe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",sn,ln]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Qo]}],"font-family":[{font:[yo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",qe]}],"line-clamp":[{"line-clamp":["none",An,Qo]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Yt,qe]}],"list-image":[{"list-image":["none",qe]}],"list-style-type":[{list:["none","disc","decimal",qe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...$(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Yt,ln]}],"underline-offset":[{"underline-offset":["auto",Yt,qe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:v()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",qe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",qe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...W(),om]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",nm]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},rm]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[r]}],"rounded-s":[{"rounded-s":[r]}],"rounded-e":[{"rounded-e":[r]}],"rounded-t":[{"rounded-t":[r]}],"rounded-r":[{"rounded-r":[r]}],"rounded-b":[{"rounded-b":[r]}],"rounded-l":[{"rounded-l":[r]}],"rounded-ss":[{"rounded-ss":[r]}],"rounded-se":[{"rounded-se":[r]}],"rounded-ee":[{"rounded-ee":[r]}],"rounded-es":[{"rounded-es":[r]}],"rounded-tl":[{"rounded-tl":[r]}],"rounded-tr":[{"rounded-tr":[r]}],"rounded-br":[{"rounded-br":[r]}],"rounded-bl":[{"rounded-bl":[r]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...$(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:$()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...$()]}],"outline-offset":[{"outline-offset":[Yt,qe]}],"outline-w":[{outline:[Yt,ln]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:A()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[Yt,ln]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",sn,lm]}],"shadow-color":[{shadow:[yo]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":U()}],"bg-blend":[{"bg-blend":U()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[o]}],contrast:[{contrast:[s]}],"drop-shadow":[{"drop-shadow":["","none",sn,qe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[c]}],saturate:[{saturate:[C]}],sepia:[{sepia:[F]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[o]}],"backdrop-contrast":[{"backdrop-contrast":[s]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[c]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[C]}],"backdrop-sepia":[{"backdrop-sepia":[F]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",qe]}],duration:[{duration:le()}],ease:[{ease:["linear","in","out","in-out",qe]}],delay:[{delay:le()}],animate:[{animate:["none","spin","ping","pulse","bounce",qe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[vo,qe]}],"translate-x":[{"translate-x":[H]}],"translate-y":[{"translate-y":[H]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",qe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",qe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":v()}],"scroll-mx":[{"scroll-mx":v()}],"scroll-my":[{"scroll-my":v()}],"scroll-ms":[{"scroll-ms":v()}],"scroll-me":[{"scroll-me":v()}],"scroll-mt":[{"scroll-mt":v()}],"scroll-mr":[{"scroll-mr":v()}],"scroll-mb":[{"scroll-mb":v()}],"scroll-ml":[{"scroll-ml":v()}],"scroll-p":[{"scroll-p":v()}],"scroll-px":[{"scroll-px":v()}],"scroll-py":[{"scroll-py":v()}],"scroll-ps":[{"scroll-ps":v()}],"scroll-pe":[{"scroll-pe":v()}],"scroll-pt":[{"scroll-pt":v()}],"scroll-pr":[{"scroll-pr":v()}],"scroll-pb":[{"scroll-pb":v()}],"scroll-pl":[{"scroll-pl":v()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",qe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Yt,ln,Qo]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}function fm(t,{cacheSize:e,prefix:n,separator:o,extend:i={},override:r={}}){fi(t,"cacheSize",e),fi(t,"prefix",n),fi(t,"separator",o);for(const l in r)cm(t[l],r[l]);for(const l in i)dm(t[l],i[l]);return t}function fi(t,e,n){n!==void 0&&(t[e]=n)}function cm(t,e){if(e)for(const n in e)fi(t,n,e[n])}function dm(t,e){if(e)for(const n in e){const o=e[n];o!==void 0&&(t[n]=(t[n]||[]).concat(o))}}function mm(t,...e){return typeof t=="function"?Nr(Er,t,...e):Nr(()=>fm(Er(),t),...e)}const $f=Nr(Er);function Ff(t){const e=t-1;return e*e*e+1}function Fe(...t){return $f(Ld(t))}function pm(t,e,n){const r={...{townName:t.townInfo.name,population:t.townInfo.population_count,gold:t.townInfo.gold,day:t.environment.day*t.environment.year,tick:t.tick},...n};gtag("event",e,r)}const Yo=(t,e={y:-8,x:0,start:.95,duration:150})=>{const n=getComputedStyle(t),o=n.transform==="none"?"":n.transform,i=(l,a,s)=>{const[u,f]=a,[c,d]=s;return(l-u)/(f-u)*(d-c)+c},r=l=>Object.keys(l).reduce((a,s)=>l[s]===void 0?a:a+`${s}:${l[s]};`,"");return{duration:e.duration??200,delay:0,css:l=>{const a=i(l,[0,1],[e.y??5,0]),s=i(l,[0,1],[e.x??0,0]),u=i(l,[0,1],[e.start??.95,1]);return r({transform:`${o} translate3d(${s}px, ${a}px, 0) scale(${u})`,opacity:l})},easing:Ff}};function Pt(t,e){if(e===void 0&&(e=0),t==null||t==null)return 0;t=parseFloat((t*Math.pow(10,e)).toFixed(11));var n=Math.round(t)/Math.pow(10,e);return+n.toFixed(e)}function ar(t){return t<10?"0"+t:t}function hm(t){let e=Math.floor(t/1e3),n=Math.floor(e/60);e=e%60;let o=Math.floor(n/60);return n=n%60,`${ar(o)}:${ar(n)}:${ar(e)}`}function ke(t){return oe.findIndex(e=>e.id===t)}function $l(t){return oe.find(e=>e.id===t)}function mn(t,e=!0){let n=t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,");return e||(n=n.split(".")[0]),n}function Qn(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Fl(t,e=!0){return t=Pt(t/(e?3:1),2),t<0?`${t}`:`+${t}`}function zn(t,e,n,o=!1){if(t<0||t>=n.plots.length||e<0||e>=n.plots[0].length)return!1;let i=[[t-1,e],[t+1,e],[t,e-1],[t,e+1],[t-1,e-1],[t-1,e+1],[t+1,e-1],[t+1,e+1]];for(let r=0;r<i.length;r++){let l=i[r][0],a=i[r][1];if(l>=0&&l<n.plots.length&&a>=0&&a<n.plots[0].length&&n.plots[l][a].water&&(o||n.plots[t][e].active==!0&&n.plots[t][e].type>0&&oe[n.plots[t][e].type].id=="farm"))return!0}return!1}function _m(t,e=0){let n=t*.95,o=t*1.05;return Pt(Math.random()*(o-n)+n,e)}function Fo(t,e,n){let o={x:t,y:e};return o.x===0&&o.y===0?!0:[{x:o.x-1,y:o.y},{x:o.x+1,y:o.y},{x:o.x,y:o.y-1},{x:o.x,y:o.y+1}].some(r=>r.x<0||r.x>=n.plots.length||r.y<0||r.y>=n.plots[r.x].length?!1:n.plots[r.x][r.y].active)}const Dt="plots_active_game_db",eo="plots_user_db";function gm(){const t=["York","London","Paris","Madrid","Rome","Berlin","Vienna","Prague","Warsaw","Oslo","Lisbon","Dublin","Brussels","Amsterdam","Stockholm","Copenhagen","Edinburgh","Moscow","Beijing","Tokyo","Seoul","Bangkok","Delhi","Mumbai","Shanghai","Sydney","Melbourne","Cairo","Dubai","Istanbul","Athens","Budapest","Reykjavik","Helsinki","Tallinn","Riga","Vilnius","Sofia","Bucharest","Belgrade","Zagreb","Sarajevo","Ljubljana","Skopje","Tirana","Podgorica","Thessaloniki","Barcelona","Valencia","Seville","Granada","Malaga","Lyon","Marseille","Toulouse","Nice","Nantes","Strasbourg","Bordeaux","Lille","Venice","Milan","Florence","Naples","Turin","Bologna","Perugia","Genoa","Pisa","Verona","Palermo","Catania","Bari","Padua","Cagliari","Krakow","Gdansk","Poznan","Wroclaw","Lodz","Katowice","Bialystok","Gdynia","Sopot","Bydgoszcz","Lublin","Szczecin","Gorzow","Zakopane","Olsztyn","Torun","Rzeszow","Kielce","Radom","Siedlce","Los","Angeles","Chicago","Houston","Phoenix","San","Antonio","San","Diego","Dallas","San","Jose","Austin","Jacksonville","Fort","Worth","Columbus","Charlotte","Liverpool","Manchester","Glasgow","Birmingham","Leeds","Sheffield","Newcastle","upon","Tyne","Bristol","Nottingham","Leicester","Coventry","Belfast","Reading","Cardiff","Southampton","Aberdeen","Plymouth","Stoke","Trent","Wolverhampton","Swansea","Sunderland","Portsmouth","Yorkshire","Hull","Blackpool","Bradford","Derby","Middlesbrough","Peterborough","Stockton","on","Tees","Brighton","Poole","Bournemouth","Huddersfield","Luton","Oxford","Norwich","Oldham","Cambridge","Exeter","Walsall","Colchester","Watford","Rotherham","Newport","Gateshead","Dundee","Gloucester","Solihull","High","Wycombe","Maidstone","Slough","Basildon","Chelmsford","Salford","Bedford","Stevenage","Woking","Grimsby","Birkenhead","Halifax","Warrington","Gillingham","Wigan","Worcester","Wakefield","Lincoln","Chester","Rochdale","Dagenham","Widnes","St","Albans","Mansfield","Sutton","Coldfield","Crawley","Wokingham","Barnsley","St","Helens","Harrogate","Redditch","Scunthorpe","Nuneaton","Chesterfield","Hemel","Hempstead","Bury","Guildford","Ashford","Telford","Newcastle","under","Lyme","Aylesbury","Halesowen","Shrewsbury","Lowestoft","Loughborough","Cheltenham","Kidderminster","Basingstoke","Rugby","Stourbridge","Southport","Kettering","Royal","Leamington","Spa","Beeston","Farnborough","Wrexham","Banbury","Weymouth","Wallsend","Dartford","Grays","Tamworth","Ashford","Esher","Folkestone","Tonbridge","Taunton","Runcorn","Macclesfield","Keighley","Bridgend","Barnstaple","Letchworth","Garden","City","Worthing","Gosport","Eastleigh","Staines","upon","Thames","Lisburn","Livingston","Bognor","Regis","Scarborough","Cannock","Margate","Chippenham","Rhondda","Maidenhead","Wellingborough","Washington","Camberley","Bootle","Lancaster","Llanelli","Chatham","Cheshunt","Bishop","Auckland","Nelson","Belper","Pontefract","Barry","Braintree","Crosby","Bury","St","Edmunds","Bexhill","Margate","Aldershot","Rowley","Regis","Hoddesdon","Sittingbourne","Rugby","Newquay","Falmouth","Stretford","Camberley","Beverley","Windsor","Rochester","Wickford","Diss","Farnham","Andover","Camberwell","Bermondsey","Lewisham","Wembley","Hayes","Harrow","Ilford","Enfield","Twickenham","Richmond","Brentwood","Edgware","Ealing","Greenwich","Bromley","Hounslow","Romford","Hillingdon","Uxbridge","Wandsworth","Sutton","Kingston","upon","Thames","Bexley","Havering","Barking"],e=["ia","ville","ton","land","field","burgh","ford","wood","port","bay","beach","peak","valley","ridge","hill","dale","island","cape","spring","grove","polis","side","view","shore","haven","place","gardens","plaza","square"],n=["New","Old","North","South","East","West","Upper","Lower","Little","Great","Saint","Fort","Mount","Lake","River","The Village of","The City of","The Town of","The Borough of","The County of","The State of","The Kingdom of","The Empire of","The Republic of","The Commonwealth of","The Union of","The Federation of","Rainy","Sunny","Windy","Frosty","Snowy"];function o(s){return s[Math.floor(Math.random()*s.length)]}let i=o(n),r=o(t),l=o(e),a="";return Math.random()>.5?a=i+" "+r+l:a=r+l,a}let De=xe(JSON.parse(localStorage.getItem(Dt)||"null")),fn=xe(JSON.parse(localStorage.getItem(eo)||"null"));vm();function bm(t,e,n,o){let i={...Md};i.gameSettings=o,i.economyAndLaws.max_tax_rate=Nd[t],i.endGoal=e;let r=[];n=n.replace(/[^a-zA-Z0-9 ]/g,"").trim(),i.townInfo.name=n!=""?n:gm(),i.difficulty=parseInt(t),JSON.parse(localStorage.getItem(eo)||"null").username=="dev"&&o.push("devMode"),o.includes("devMode")&&(i.townInfo.gold=1e8,i.townInfo.happiness=1e7,i.townInfo.health=1e6,i.townInfo.knowledge_points=1e5,i.modifiers.happiness=1e4,i.modifiers.health=1e4,i.resources.food=1e6,i.resources.wood=1e6,i.resources.stone=1e6,i.resources.metal=1e6);const a=12,s=Math.floor(Math.random()*a/2)+1,u=Math.floor(Math.random()*a/2)+1;for(let f=0;f<a;f++){r.push([]);for(let c=0;c<a;c++){const d=f==s&&c==u?!1:Rr(f,c,a);r[f][c]={id:Math.random().toString(36).substring(2,9),active:!1,x:f,y:c,type:d?-9:-1,typeId:"",mineralSource:d?!1:s===f&&u===c,water:s===f&&u===c?!1:d}}}i.plots=r,localStorage.setItem(Dt,JSON.stringify(i)),De.set(i),localStorage.reset=!1,pm(i,Of.START_GAME,{difficulty:t,end_goal:e,settings:o.join(",")}),location.reload()}function Rr(t,e,n){let o=.08;return t>0&&e>0&&t<n-1&&e<n-1&&(o*=2),(e==Math.round(n/2)||e==Math.round(n/2)-1)&&(o*=3),t==0&&e==0&&(o=0),Math.random()<o}function vm(){if(localStorage.getItem(eo)===null){let t=Pd;t.username="my_username_click_to_change",localStorage.setItem(eo,JSON.stringify(t)),fn.set(t)}}function Ci(t,e,n){let o=n.plots[t][e].type;if(n.plots[t][e].type=-1,n.plots[t][e].typeId="",n.plots[t][e].active=!1,o>-1&&(n.townInfo.population_count-=oe[o].immediate_variable_changes.population,n.townInfo.population_max-=oe[o].immediate_variable_changes.population,n.townInfo.employees-=oe[o].requirements.employees,(n.plotCounts[o]===void 0||n.plotCounts[o]===null)&&(n.plotCounts[o]=0),n.plotCounts[o]--,(oe[o].requirements.size??1)>1))for(let r=0;r<n.plots.length;r++)for(let l=0;l<n.plots[t].length;l++)n.plots[r][l].referencePlot!=null&&n.plots[r][l].referencePlot[0]===t&&n.plots[r][l].referencePlot[1]===e&&Ci(r,l,n);n.lastChangeDay=n.environment.day,De.set(n),localStorage.setItem(Dt,JSON.stringify(n))}function $e(t,e){let n=[];for(let o=0;o<e.plots.length;o++)for(let i=0;i<e.plots[o].length;i++)e.plots[o][i].active==!1||e.plots[o][i]==null||e.plots[o][i].type===null||e.plots[o][i].type<0||(oe[e.plots[o][i].type].id===t||oe[e.plots[o][i].type].type===t)&&n.push(e.plots[o][i]);return n}function Yn(t,e,n){return n.liege_location!=null&&n.liege_location[0]===t&&n.liege_location[1]===e}function ym(t,e){const n=t.plots.length,o=n>0?t.plots[0].length:0,i=e=="east"?5:0,r=e=="south"?5:0,l=Math.round(Math.pow(1.7,t.kingdom_expansions+5));if(t.townInfo.guardians<l)return`You need ${l-t.townInfo.guardians} more Guardians to expand the kingdom. See the City mgmt menu.`;for(let a=0;a<n;a++)for(let s=o;s<o+i;s++)t.plots[a].push({id:Math.random().toString(36).substring(2,9),active:!1,x:a,y:s,type:-1,typeId:"",mineralSource:!1,water:Rr(a,s,n+r),disabled:!1});for(let a=n;a<n+r;a++){const s=[];for(let u=0;u<o+i;u++)s.push({id:Math.random().toString(36).substring(2,9),active:!1,x:a,y:u,type:-1,typeId:"",mineralSource:!1,water:Rr(a,u,n+r)});t.plots.push(s)}t.kingdom_expansions++,De.set(t)}function Ti(t=null){localStorage.removeItem(Dt),De.set(null),t&&(localStorage.setItem(Dt,JSON.stringify(t)),De.set(t))}function jl(t,e,n){n.liege_location=[t,e],no.set(!1),document.querySelectorAll(".plot_container").forEach(i=>{i.style.cursor=""}),De.set(n)}let Qe=xe({visible:!1,x:0,y:0,isMineralSource:!1}),Eo=xe({visible:!1});function wm(t){fn.set(t),localStorage.setItem(eo,JSON.stringify(t))}let to=xe({}),Ro=xe(!1),vt=xe(!1),ci=xe(!0),ql=xe(!1),Ai=xe(!1),Si=xe(!1),di=xe(!1),no=xe(!1),Ii=xe(!1),Tt=xe(""),Bl=localStorage.getItem("showCompletedAchievements")==="true"?xe(!0):xe(!1);localStorage.getItem("showOnlyAffordable")==="true"?xe(!0):xe(!1);let km=localStorage.getItem("pauseMenuTab")==="game"?xe("game"):xe("achievements"),Ao=xe(750);const Et={unemployment_num:" people can't find jobs.",bored:"People are bored. Try making some new buildings.",vairety:"People don't like going to the same places over and over again. Try making some new buildings.",nobody_home:"Build some homes!",leave_town_num:" people left town because they were unhappy.",new_people_num:" new people moved to town.",people_want_to_move_in:"People want to move in. Build more homes.",high_tax_rate:"People are unhappy with the high tax rate.",very_high_tax_rate:"People are extremely unhappy with the high tax rate.",sickAndDying:"People are sick and dying.",sickAndLeaving:"People are sick and leaving town.",happiness_zero:"The town has fallen into chaos due to extreme unhappiness.",health_zero:"The town has fallen into chaos due to extreme sickness.",population_zero:"The town has been condemned due to lack of population.",win:{land:"You have filled the grid with buildings. You win!"},hospital_advantage:"Because you have a hospital, the town is staying healthier for longer!",notEnoughVariety:"People are sick of going to the same places over and over, add some variety!"},mt=[{id:"happiness_at_300",title:"Happy Town",description:"One of your towns wins Happiest Town Award!",requirements:"Happiness reaches 300",icon:"😍",check:t=>t.townInfo.happiness>=300,prize:1e3},{id:"get_educated",title:"Get Educated",description:"The kids are finally able to learn!",requirements:"Build a school or library",icon:"📌",check:t=>$e("small_school",t).length!==0||$e("large_school",t).length!==0||$e("library",t).length!==0,prize:1850},{id:"10k",title:"$10,000",description:"",requirements:"Gold reaches $10,000",icon:"﹩",check:t=>t.townInfo.gold>=1e4,prize:2500},{id:"25k",title:"$25,000",description:"",requirements:"Gold reaches $25,000",icon:"💵",check:t=>t.townInfo.gold>=25e3,prize:7500},{id:"stayin_frugal",title:"Stayin' Frugal!",description:"",requirements:"Gold under $50 with >=300 population",icon:"🚲",check:t=>t.townInfo.gold<=50&&t.townInfo.population_count>=300,prize:1e4},{id:"profits_to_the_moon",title:"Profits to the moon!",description:"Now you're making dough!",requirements:"Last month profit is over $10,000",icon:"🌛",check:t=>t.economyAndLaws.weeklyProfit>=1e4,prize:15e3},{id:"happily_dying",title:"Happily Dying!",description:"Not something to be proud of...",requirements:"Happiness > 275, health < 25",icon:"🌛",check:t=>t.townInfo.happiness>275&&t.townInfo.health<25,prize:2e4},{id:"long_game",title:"The Long Game",description:"So are you gonna win anytime soon?",requirements:"Still playing after 10,000 days, without winning. ",icon:"🐌",check:t=>t.endGameDetails.win===!1&&t.environment.day>1e4&&t.endGameDetails.msg==="",prize:25e3},{id:"tax_man",title:"Tax man",description:"Set the tax rate to the absolute max that the town will tolerate.",requirements:"",icon:"🙃",check:t=>{let e=Math.floor(t.economyAndLaws.max_tax_rate*20)/20;return t.economyAndLaws.tax_rate===e},prize:1500},{id:"good_job",title:"Good job",description:"Beat 'Fill the grid' with Normal difficulty in under 3,000 days.",requirements:"",icon:"👍",check:t=>t.endGameDetails.win===!0&&t.environment.day<=3e3&&t.difficulty===1&&t.endGoal==="land",prize:1e4},{id:"great_job",title:"Great job",description:"Beat 'Fill the grid' with Normal difficulty in under 2,000 days.",requirements:"",icon:"👏",check:t=>t.endGameDetails.win===!0&&t.environment.day<=2e3&&t.difficulty===1&&t.endGoal==="land",prize:45e3},{id:"superb_job",title:"SUPERB job",description:"Beat 'Fill the grid' with Normal difficulty in under 500 days.",requirements:"",icon:"👌",check:t=>t.endGameDetails.win===!0&&t.environment.day<=500&&t.difficulty===1&&t.endGoal==="land",prize:1e5},{id:"250k",title:"$250,000",description:"",requirements:"Gold reaches $250,000",icon:"💸",check:t=>t.townInfo.gold>=25e4,prize:5e4},{id:"banker",title:"Banker",description:"",requirements:"Build your first bank. ",icon:"🏦",check:t=>$e("bank",t).length!==0,prize:5e3},{id:"community",title:"Community Center",description:"",requirements:"Build your first community center. ",icon:"❤️",check:t=>$e("community_center",t).length!==0,prize:1e4},{id:"1m",title:"MILLIONAIRE!",description:"",requirements:"Gold reaches $1,000,000",icon:"💰",check:t=>t.townInfo.gold>=1e6,prize:15e4},{id:"pub_knowledge",title:"Street smartz",description:"You get 250 knowledge without building a school or library.",requirements:"Knowledge >= 250 without building a school or library",icon:"🤓",check:t=>$e("small_school",t).length===0&&$e("large_school",t).length===0&&$e("library",t).length===0&&t.townInfo.knowledge_points>=250,prize:5e4}],Lo=[{message:"Build homes to start growing our village",isComplete:t=>t.townInfo.population_max>0,goldReward:750},{message:"Start producing food and wood to keep the town running",isComplete:t=>$e("farm",t).length>=1&&$e("tree_farm",t).length>=1,goldReward:500},{message:"We need stone and metals. Build a quarry",isComplete:t=>$e("quarry",t).length>0,goldReward:700},{message:"Weekly revenue >= 200 gold",isComplete:t=>t.economyAndLaws.weeklyProfit>=200,goldReward:3e3},{message:"Grow our population to 100.",isComplete:t=>t.townInfo.population_count>=100,goldReward:8e3},{message:"Start generating power. Build a water wheel or solar farm",isComplete:t=>t.resources.power>0,goldReward:1e4},{message:"Knowledge >= 250",isComplete:t=>t.townInfo.knowledge_points>=250,goldReward:5e3},{message:"Population >= 200",isComplete:t=>t.townInfo.population_count>=200,goldReward:2e4},{message:"Build a mine to boost our metal supply",isComplete:t=>$e("mine",t).length>0,goldReward:2e4},{message:"Establish a City Hall to advance our town",isComplete:t=>$e("city_hall",t).length>0,goldReward:5e4}];let wo=function(t){return t.gameSettings.includes("casual")?3:1};const Lr=[{id:"organic_farming",description:"Organic Farming. Make townspeople healthier and happier, while decreasing overall food production.",cost:150,weekly_effect:t=>(t.modifiers.happiness*=1.01,t.modifiers.health*=1.01,t.resources.food-=2*wo(t)*$e("farm",t).length,t)},{id:"tax_free",description:"Tax-Free Month. For 1 month, the town loses all revenue from taxes, but happiness and health increase quite a lot. Automatically ends after 4 weeks.",cost:250,weekly_effect:t=>(localStorage.getItem("tax_free")===null?(localStorage.setItem("tax_free","0"),t.economyAndLaws.weeklyProfit=-1*t.economyAndLaws.weeklyProfit):localStorage.setItem("tax_free",(parseInt(localStorage.getItem("tax_free"))+1).toString()),parseInt(localStorage.getItem("tax_free"))>=4?(t.modifiers.happiness*=1,t.modifiers.health*=1,localStorage.removeItem("tax_free"),t.economyAndLaws.enacted=t.economyAndLaws.enacted.filter(e=>e!=="tax_free")):(t.modifiers.happiness*=1.02,t.modifiers.health*=1.01),t)},{id:"healthy_mining",description:"Healthy mining. Miners must mine with proper ventilation, but they move like molasses.",cost:250,weekly_effect:t=>(oe.find(e=>e.id==="mine"),t.modifiers.health*=1.1,t.resources.stone-=5*wo(t)*$e("quarry",t).length,t.resources.stone-=7*wo(t)*$e("mine",t).length,t.resources.metal-=15*wo(t)*$e("mine",t).length,t)},{id:"complicated_tax_forms",description:"Complicated Tax Forms. You sneak in a clause to charge 5% more in taxes. Now, if you adjust your tax rate 5% higher, they won't be upset. This can be enacted multiple times to stack.",cost:500,weekly_effect:t=>(t.economyAndLaws.max_tax_rate+=.05,t.economyAndLaws.enacted=t.economyAndLaws.enacted.filter(e=>e!=="complicated_tax_forms"),t)},{id:"legalize_it",description:"Legalize it. You legalize a substance that makes people happy, but it also gives them 'the munchies'. Food consumption and happiness go up.",cost:350,weekly_effect:t=>(t.resources.food-=Math.round(.2*wo(t)*t.townInfo.population_count),t.modifiers.happiness*=1.1,t)},{id:"park_upgrade",description:"Park upgrade. You hold a community forum and add the top 5 things that the people want in their parks. This increases happiness for each park.",cost:350,weekly_effect:t=>(t.townInfo.happiness+=2*$e("park",t).length,t)},{id:"career_politician",description:"Career Politician. You hire a career politician to help you with your town. They cost the town $100 per week, but they earn bureaucracy points faster.",cost:200,weekly_effect:t=>(t.townInfo.gold-=100,t.resources.bureaucracy+=25,t)},{id:"the_big_wood_deal",description:"The Big Wood Deal. This law allows you to sell all of the wood in your town for $5/wood at once. This won't make the town happy, but may be necessary in a pinch. Can be enacted multiple times to sell to other buyers.",cost:500,weekly_effect:t=>(t.townInfo.gold+=5*t.resources.wood,t.resources.wood=0,t.resource_rate.wood=0,t.townInfo.happiness*=.95,t.economyAndLaws.enacted=t.economyAndLaws.enacted.filter(e=>e!=="the_big_wood_deal"),t)},{id:"picky_eating_liege",description:"Picky Eater Liege. There is some food that the town makes that you just really hate. By passing this law, you insist that they sell off that gross food for $1/food every week. You won't make as much food, but you won't have to eat it either.",cost:200,weekly_effect:t=>{const e=$e("farm",t).length*2,n=Math.floor(Math.random()*(.15*e-.05*e)+.05*e);return t.resources.food-=n,t.townInfo.gold+=n,t.townInfo.happiness=.95*t.townInfo.happiness,t}},{id:"stone_statue",description:"Stone Statue. You insist that we use ALL of our stone to build a massive statue. We lose all of our stone, but for some reason, the town has perfect health for a while, I guess.",cost:1e3,weekly_effect:t=>(t.resources.stone=0,t.modifiers.health=5,t)},{id:"out_of_town",description:"TODO: Out of town. Everyone needs a vacation, right? When this is enacted, EVERYONE must leave the town for 10 days. During this time, no resources are produced, no taxes are collected, and you must take a break from the game.",cost:1e3,weekly_effect:t=>t}],Hl=30;function Cm(t){return t=Om(t),t=t,t}function Tm(t){const e=[()=>t.townInfo.happiness<100?"I heard that the town is unhappy. We miss our churches and parks...":"",()=>t.townInfo.health<100?"My kids keep getting sick, probably not enough farms around here!":"",()=>t.townInfo.happiness<50?"I'm thinking of moving out if things don't improve soon!":"",()=>t.townInfo.employees<t.townInfo.population_count?"I am unemployed and I hate it here":"",()=>t.townInfo.knowledge_points<100?"I wish we had more schools!":"",()=>t.economyAndLaws.tax_rate>t.economyAndLaws.max_tax_rate?"I wish the taxes were lower, I could use a break!":"",()=>t.townInfo.productivity>100?"I think we should take a day or two to just be chill, we've been working hard!":"",()=>t.economyAndLaws.tax_rate<t.economyAndLaws.max_tax_rate?"We would probably be ok chipping in more gold for village improvements.":""],n=Math.floor(Math.random()*e.length);return e[n]()}function Am(t,e,n){return t.resource_rate.food=ct(n.food-e.food,2),t.resource_rate.wood=ct(n.wood-e.wood,2),t.resource_rate.stone=ct(n.stone-e.stone,2),t.resource_rate.metal=ct(n.metal-e.metal,2),t.resource_rate.bureaucracy=ct(n.bureaucracy-e.bureaucracy,2),t}function Sm(t){return t.hasBank,t}function Im(t){let e=t.economyAndLaws.knowledge_gold_market_rates[t.economyAndLaws.knowledge_gold_market_rates.length-1]||1;const n=-100,o=8,i=3;let r=Math.random(),l=Math.random()*i;if(r<.4){let a=Math.random()*o;Math.random()<.5?e+=a:e-=a}else Math.random()>.5?e+=l:e-=l;return e<n&&(e+=Math.random()*l/5),e=Math.round(e),t.economyAndLaws.knowledge_gold_market_rates=[...t.economyAndLaws.knowledge_gold_market_rates,e],t}function Om(t){if(t.townInfo.population_count<t.townInfo.population_max&&t.townInfo.happiness>50){let e=t.townInfo.population_max-t.townInfo.population_count,n=Math.round(t.townInfo.happiness/100*e);t.townInfo.population_count+=n,t.townInfo.population_count>t.townInfo.population_max&&(t.townInfo.population_count=t.townInfo.population_max),t.townInfo.employees+=n,t.townInfo.employees>t.townInfo.population_count&&(t.townInfo.employees=t.townInfo.population_count)}if(t.townInfo.happiness<50&&t.townInfo.population_count>0){let e=Math.round((150-t.townInfo.happiness)/5);t.townInfo.population_count-=e,t.townInfo.employees>0&&(t.townInfo.employees-=e)}else t.townInfo.population_count==t.townInfo.population_max;return t}function Dr(t){return t.lab.active_experiment==null||t.lab.active_experiment.duration>0&&(t.lab.active_experiment.duration-=1),t}function $r(t){return t.townInfo.happiness<0&&(t.townInfo.happiness=0),t.townInfo.health<0&&(t.townInfo.health=0),t.townInfo.community<0&&(t.townInfo.community=0),t.townInfo.gold<0&&(t.townInfo.gold=0),t.townInfo.employees<0&&(t.townInfo.employees=0),t.townInfo.knowledge_points<0&&(t.townInfo.knowledge_points=0),t.townInfo.population_count<0&&(t.townInfo.population_count=0),t.economyAndLaws.weeklyProfit=ct(t.economyAndLaws.weeklyProfit,0),t.townInfo.employees>t.townInfo.population_count&&(t.townInfo.employees=t.townInfo.population_count),t.townInfo.gold=ct(t.townInfo.gold,0),t.townInfo.population_count=ct(t.townInfo.population_count,0),t.townInfo.employees=ct(t.townInfo.employees,0),t.townInfo.population_max=ct(t.townInfo.population_max,0),t.townInfo.happiness=ct(t.townInfo.happiness,2),t.townInfo.health=ct(t.townInfo.health,2),t.townInfo.knowledge_points=ct(t.townInfo.knowledge_points,0),t.townInfo.happiness>t.maximums.happiness&&(t.townInfo.happiness=t.maximums.happiness),t.townInfo.health>t.maximums.health&&(t.townInfo.health=t.maximums.health),t.townInfo.community>300&&(t.townInfo.community=300),t.modifiers.happiness<.5&&(t.modifiers.happiness=.5),t.modifiers.health<.5&&(t.modifiers.health=.5),t.modifiers.community<.5&&(t.modifiers.community=.5),t.modifiers.happiness>2&&(t.modifiers.happiness=2),t.modifiers.health>2&&(t.modifiers.health=2),t.modifiers.community>2&&(t.modifiers.community=2),t}function Fr(t){if(t.townInfo.happiness>150){let n=t.townInfo.happiness-150;t.townInfo.happiness-=n*.08,t.townInfo.happiness<150&&(t.townInfo.happiness=150)}if(t.townInfo.health>150){let n=t.townInfo.health-150;t.townInfo.health-=n*.08,t.townInfo.health<150&&(t.townInfo.health=150)}if(t.townInfo.community>150){let n=t.townInfo.community-150;t.townInfo.community-=n*.08,t.townInfo.community<150&&(t.townInfo.community=150)}return t}function Mm(t){return t.townInfo.happiness*=t.modifiers.happiness,t.townInfo.health*=t.modifiers.health,t.townInfo.community*=t.modifiers.community,t}function ut(t,e,n){let o=e.townLog||[];return o.filter(i=>i.message==t).length>0||o.unshift({message:t,day:e.environment.day,vibe:n}),e}function ct(t,e){e===void 0&&(e=0);let n=Math.pow(10,e);return t=parseFloat((t*n).toFixed(11)),+(Math.round(t)/n).toFixed(e)}function Pm(t,e,n){let o,i,r,l,a;ae(t,Ao,_=>n(7,o=_)),ae(t,Ro,_=>n(8,i=_)),ae(t,Si,_=>n(9,r=_)),ae(t,vt,_=>n(10,l=_)),ae(t,fn,_=>n(11,a=_)),ae(t,De,_=>n(12,_));function s(_){_=te(_),_=z(_),_=m(_),_=Im(_),_=Z(_),_=b(_);const X={food:_.resources.food,wood:_.resources.wood,stone:_.resources.stone,metal:_.resources.metal,bureaucracy:_.resources.bureaucracy,power:_.resources.power};_=M(_),_=Q(_),_=S(_),_=v(_),_=Ae(_),_=H(_);const K={food:_.resources.food,wood:_.resources.wood,stone:_.resources.stone,metal:_.resources.metal,bureaucracy:_.resources.bureaucracy,power:_.resources.power};return _.environment.day%14===0&&(_=Mm(_)),_=Am(_,X,K),_}function u(_){return _=Sm(_),_=w(_),_=Ce(_),_=Fr(_),_=U(_),_=P(_),_=p(_),_}function f(_){return _=le(_),_=$r(_),_=Dr(_),_=D(_),_=F(_),_=d(_),_=h(_),_.overtime==!1&&(_=$(_),_=_),_=W(_),_=A(_),_=g(_),_}function c(){De.update(_=>{if(_==null||(_.tick++,_.tick%Hl!==0))return _;if(l||!_||_.endGameDetails.msg!==""&&_.overtime==!1||_.townInfo.population_count<=0)return console.info("The game is over, or paused. Not running the game loop."),_;try{return _.environment.day+=1,_.environment.day%7===0&&(_=s(_)),_.environment.day%30===0&&(_=u(_)),_.environment.day%90===0&&(_=Cm(_)),window.location.search.includes("debug=true")&&console.log(_),_=f(_),_}catch(X){return window.location.hostname==="localhost"&&alert("Error in game loop: "+X),console.error("Error in game loop:",X),_}})}De.subscribe(_=>{_&&localStorage.setItem(Dt,JSON.stringify(_))}),fn.subscribe(_=>{_&&localStorage.setItem(eo,JSON.stringify(_))});function d(_){let X=_.townInfo.population_count-_.townInfo.employees,K=`${X} people can't find jobs!`;return _.townLog=_.townLog.filter(re=>!re.message.includes("people can't find jobs")),X>0&&(_=ut(K,_,ot.BAD)),_}function m(_){let X=!1,K=!1,re=!1,we=!1;for(let Oe=0;Oe<_.plots.length;Oe++)for(let He=0;He<_.plots[Oe].length;He++)if(_.plots[Oe][He].active==!0&&_.plots[Oe][He].type>-1){let Ye=oe[_.plots[Oe][He].type].id;Ye=="bank"&&(X=!0),Ye=="city_hall"&&(re=!0),(Ye=="small_hospital"||Ye=="large_hospital")&&(K=!0),Ye=="lab"&&(we=!0)}return _.hasBank=X,_.hasHospital=K,_.hasCityHall=re,_.hasLab=we,_}function p(_){let X=0,K=0;for(let re=0;re<_.plots.length;re++)for(let we=0;we<_.plots[re].length;we++)if(_.plots[re][we].active==!0&&_.plots[re][we].type>-1){let Oe=oe[_.plots[re][we].type].type;K++,(Oe=="recreation"||Oe=="shop")&&X++}return _.townInfo.recreation=X,K>40&&(X/K<.2?(_.modifiers.happiness*.95,_=ut("The city is growing and citizens are demanding more recreation, look for plots with 🛝 icons.",_,ot.BAD)):(_.modifiers.happiness*1.01,_=ut("The city is growing and citizens are happy with the amount of recreation available.",_,ot.GOOD))),_}function h(_){let X=0;for(let K=0;K<_.plots.length;K++)for(let re=0;re<_.plots[K].length;re++)if(_.plots[K][re].active==!0&&_.plots[K][re].type>-1){let Oe=oe[_.plots[K][re].type].requirements.employees;X+=Oe}return X!=_.townInfo.employees&&(X>_.townInfo.population_max,_.townInfo.employees=X),_}function g(_){for(let X=0;X<_.plots.length;X++)for(let K=0;K<_.plots[X].length;K++)_.plots[X][K].active==!0&&(_.plots[X][K].type=ke(_.plots[X][K].typeId));return _}function w(_){const X=_.townInfo.productivity;let K=1;if(X>50&&X<100)K=1.05;else{if(X==100)return _;X<50?K=1.3:X>100&&X<125?K=.95:X>125&&X<150?K=.9:X>150&&X<175?K=.85:X>175&&X<200&&(K=.75)}const re=_.townInfo.happiness;return _.townInfo.happiness*=K,K>1?_=ut(`Happiness has gone up by ${Math.round(_.townInfo.happiness/re*100)}% due to productivity.`,_,ot.GOOD):_=ut(`Happiness has gone down by ${100-Math.round(_.townInfo.happiness/re*100)}% due to productivity.`,_,ot.BAD),_}function b(_){return _.endGameDetails!=null||(_.townInfo.happiness<70&&_.last_warning_happiness+365<_.environment.day&&(Tt.set("Your citizens are very unhappy. You should do something about it."),_.last_warning_happiness=_.environment.day),_.townInfo.health<70&&_.last_warning_health+365<_.environment.day&&(Tt.set("Your citizens are very unhealthy. You should do something about it."),_.last_warning_health=_.environment.day)),_}const C=["Abigail","Elijah","Mabel","Silas","Beatrice","Clarence","Dorothy","Edgar","Florence","George","Harriet","Isaac","Josephine","Levi","Matilda","Nathaniel","Olive","Percy","Quincy","Rose","Samuel","Theodore","Ursula","Vincent","Winifred","Xavier","Yvette","Zachary","Amos","Betsy","Cecil","Delia","Emmett","Fanny","Gideon","Hazel","Irving","Jeannette","Karl","Lucinda","Mortimer","Nettie","Otis","Prudence","Rufus","Sophronia","Titus","Ulysses","Vera","Winston","Xenia","Yolanda","Zeke","Ada","Bernard","Cornelia","Duncan","Esther","Fletcher","Genevieve"],N=["Farmer","Blacksmith","Biscuit Sculptor","Baker","Carpenter","Chicken Whisperer","Fisher","Herbalist","Miner","Mason","Mustache Twirler","Brewer","Butcher","Candlemaker","Cloud Watcher","Dressmaker","Gardener","Hunter","Innkeeper","Jeweler","Locksmith","Miller","Painter","Potter","Quilter","Rancher","Saddler","Tanner","Upholsterer","Vintner","Watchmaker","Wheelwright","Wooly Sock Knitter","Yarn Spinner","Zodiac Interpreter","Archivist","Bookbinder","Cobbler","Dyer","Engraver","Fletcher","Glassblower","Haberdasher","Illuminator","Joiner","Knitter","Lace Maker","Mapmaker","Navigator","Orchardist","Potion Tester","Quarryman","Roofer","Soapmaker","Tobacconist","Undertaker","Victualler","Wainwright","Xylographer","Yeoman","Pumpkin Carver","Mud Pie Maker","Folk Tale Teller","Leaf Collector","Sunset Chaser","Dream Interpreter","Star Gazer"];function F(_){if(_.gameSettings.includes("bagOfHolding"))return _.resource_capacity=972024,_;let X=$e("stockpile",_).length,K=$e("adv_stockpile",_).length,re=1e3+X*2e3+K*12e3;return _.resource_capacity=re,Object.keys(_.resources).forEach(we=>{_.resources[we]>re&&(_.resources[we]=re)}),_}function P(_){for(let X=0;X<_.plots.length;X++)for(let K=0;K<_.plots[X].length;K++)if(Yn(X,K,_)&&_.plots[X][K].active==!0&&oe[_.plots[X][K].type].type=="residential"&&Math.random()<.99){let re=`👑🏠 ${C[Math.floor(Math.random()*C.length)]} the ${N[Math.floor(Math.random()*N.length)]}: `,we=Tm(_);re+=we,we!=""&&(_=ut(re,_,ot.NORMAL))}return _}function D(_){let X=0;for(let K=0;K<_.plots.length;K++)for(let re=0;re<_.plots[K].length;re++)if(_.plots[K][re].active==!0&&_.plots[K][re].type>-1){let we=oe[_.plots[K][re].type].type;(we=="recreation"||we=="shop")&&X++}return _.townInfo.recreation=X,_}function H(_){const X=_.townInfo.population_count;return _.resources.food<X?(_.modifiers.happiness*=.95,_.modifiers.health*=.95,_=ut("There isn't enough food for everyone!",_,ot.BAD),_.resources.food=0):(_.townLog=_.townLog.filter(re=>!re.message.includes("There isn't enough food for everyone!")),_.resources.food-=X),_.resources.food=Math.round(_.resources.food),_}function M(_){const X=_.townInfo.productivity;let K=1;X<50?K=.5:X>50&&X<100?K=.75:X==100?K=1:X>100&&X<125?K=1.25:X>125&&X<150?K=1.75:X>150&&X<175?K=3:X>175&&X<200&&(K=5);const re=_.gameSettings.includes("casual")?2.2:1;K*=re,K=_m(K,2);let we=$e("lumber_mill",_).length*1.5;we===0&&(we=1);for(let Oe=0;Oe<_.plots.length;Oe++)for(let He=0;He<_.plots[Oe].length;He++)if(_.plots[Oe][He].active==!0&&_.plots[Oe][He].type>-1){let Ye=zn(Oe,He,_),Xe=Yn(Oe,He,_)?2:1,Ge=oe[_.plots[Oe][He].type];Ge.generated_resources!=null&&(_.resources.food+=Math.round(Ge.generated_resources.food*K)*(Ye?2:1)*Xe,_.resources.wood+=Math.round(Ge.generated_resources.wood*K*we)*Xe,_.resources.stone+=Math.round(Ge.generated_resources.stone*K)*Xe,_.resources.metal+=Math.round(Ge.generated_resources.metal*K)*Xe,_.resources.bureaucracy+=Math.round(Ge.generated_resources.bureaucracy*K)*Xe)}return _.resources.food=Math.round(_.resources.food),_.resources.wood=Math.round(_.resources.wood),_.resources.stone=Math.round(_.resources.stone),_.resources.metal=Math.round(_.resources.metal),_.resources.bureaucracy=Math.round(_.resources.bureaucracy),_}var R;(function(_){_.food="food",_.wood="wood",_.stone="stone",_.metal="metal",_.bureaucracy="bureaucracy"})(R||(R={}));function S(_){for(let X=0;X<_.plots.length;X++)for(let K=0;K<_.plots[X].length;K++)if(_.plots[X][K].active==!0&&_.plots[X][K].type>-1){let re=oe[_.plots[X][K].type],we=!1;Object.keys(re.active_costs).forEach((Oe,He)=>{const Ye=Object.values(re.active_costs)[He];Oe!="power"&&(Oe=="gold"?_.townInfo.gold<Ye?we=!0:_.townInfo.gold-=Ye:_.resources[Oe]<Ye?we=!0:_.resources[Oe]-=Ye)}),_.plots[X][K].disabled=we,_.plots[X][K].disabled&&(_.townInfo.happiness-=1),we&&oe[_.plots[X][K].type].type=="residential"&&(_.townInfo.population_count-=1,_.townInfo.employees-=1)}else _.plots[X][K].disabled=!1;return _}function v(_){let X=0;for(let K=0;K<_.plots.length;K++)for(let re=0;re<_.plots[K].length;re++)if(_.plots[K][re].active==!0&&_.plots[K][re].type>-1){let we=oe[_.plots[K][re].type];we.active_costs.power!=0&&(X-=we.active_costs.power),we.generated_resources.power!=0&&(X+=we.generated_resources.power)}return _.resources.power=X,_.resources.power<0&&(_.modifiers.happiness*.98,_.townInfo.happiness-=5,_=ut("🔋 POWER SHORTAGE. HAPPINESS DROPPING THROUGH BLACKOUTS.",_,ot.BAD)),_}function A(_){if(_.gameSettings.includes("devMode"))return _;let X=a;for(let K=0;K<mt.length;K++)X.achievements.find(re=>re[0]==mt[K].id)==null&&mt[K].check(_)&&(X.achievements.push([mt[K].id,_.environment.day,_.townInfo.name]),Me(vt,l=!0,l),Me(Si,r=!0,r));return fn.update(()=>X),_}let j=!1;function W(_){if(j||_.currentTutorialStep>=Lo.length)return _;for(let X=_.currentTutorialStep;X<_.currentTutorialStep+1;X++)if(Lo[X].isComplete(_)){Me(Ro,i=!0,i),j=!0,_.townInfo.gold+=Lo[X].goldReward,setTimeout(()=>{Me(Ro,i=!1,i),_.currentTutorialStep++,j=!1},3e3);break}return _}function $(_){return _.gameSettings.includes("tomPetty")&&(_.townInfo.happiness<=3||_.townInfo.health<=3)?(_.townInfo.happiness=300,_.modifiers.happiness=1,_.townInfo.health=300,_.modifiers.health=1,_.townInfo.gold=ct(_.townInfo.gold*.1,0),alert("Since you are playing in Tom Petty mode, you have been given another chance. All it took was 90% of your gold. Good luck!"),_):(_.townInfo.happiness<=3&&(_.townInfo.happiness=0,_.endGameDetails={msg:Et.happiness_zero,win:!1,still_playing:!1}),_.townInfo.health<=3&&(_.townInfo.health=3,_.endGameDetails={msg:Et.health_zero,win:!1,still_playing:!1}),_.townInfo.population_count<=0&&_.townInfo.population_max>0&&(_.townInfo.population_count=0,_.endGameDetails={msg:Et.population_zero,win:!1,still_playing:!1}),_)}function U(_){let X=_.townInfo.population_count-_.townInfo.employees;if(_.gameSettings.includes("casual")&&Math.random()<.75)return _;if(X>0){let K=X*.2;K>10&&(K=10),_.townInfo.happiness-=K,_=ut(X+Et.unemployment_num,_,ot.BAD)}else _.townLog=_.townLog.filter(K=>!K.message.includes(Et.unemployment_num));return _}function Q(_){for(let X=0;X<_.economyAndLaws.enacted.length;X++){let K=Lr.find(re=>re.id==_.economyAndLaws.enacted[X]);K!=null&&K.weekly_effect!=null&&(_=K.weekly_effect(_))}return _}function z(_){let X=_.townInfo.health,K=0;return X>50||X<Math.random()*50&&(X<25?(_=ut(Et.sickAndDying,_,ot.BAD),_.townInfo.happiness-=10,K=Math.round(_.townInfo.population_count*.1)):(_=ut(Et.sickAndLeaving,_,ot.BAD),_.townInfo.happiness-=5,K=Math.round(_.townInfo.population_count*.05)),_.townInfo.population_count-=K,_.townInfo.employees-=K),_}function te(_){const X=Math.random();if(_.economyAndLaws.tax_rate>_.economyAndLaws.max_tax_rate&&_.townInfo.population_count>0){let K=1;_.hasBank&&(K=2);const re=_.difficulty==0?.7:_.difficulty==1?.4:.2;X<re&&_.economyAndLaws.tax_rate>_.economyAndLaws.max_tax_rate*2*K?(_.modifiers.happiness-=.02,_=ut(Et.very_high_tax_rate+"  ("+_.economyAndLaws.tax_rate+"%)",_,ot.BAD)):(_.modifiers.happiness-=.01,_=ut(Et.high_tax_rate+"  ("+_.economyAndLaws.tax_rate*100+"%)",_,ot.BAD))}return _}function Z(_){if(_.modifiers.happiness>1){let K=_.modifiers.happiness-1;_.modifiers.happiness-=K*.3,_.modifiers.happiness<1.02&&(_.modifiers.happiness=1)}if(_.modifiers.community>1){let K=_.modifiers.community-1;_.modifiers.community-=K*.3,_.modifiers.community<1.02&&(_.modifiers.community=1)}if(_.modifiers.health>1)if($e("healing_house",_).length>0){_=ut(Et.hospital_advantage,_,ot.GOOD);let K=_.modifiers.health-1;_.modifiers.health-=K*$e("healing_house",_).length?.03:.06,_.modifiers.health<1.02&&(_.modifiers.health=1)}else{let K=_.modifiers.health-1;_.modifiers.health-=K*.3,_.modifiers.health<1.02&&(_.modifiers.health=1)}else $e("healing_house",_).length>0&&(_.modifiers.health+=.8,_.townInfo.health+=Math.floor(Math.random()*10)+5);return _}function le(_){_.economyAndLaws.weeklyProfit=0;for(let X=0;X<_.plots.length;X++)for(let K=0;K<_.plots[X].length;K++)if(_.plots[X][K].active==!0&&_.plots[X][K].type>-1)if(_.plots[X][K].disabled===!0){const re=oe[_.plots[X][K].type],we=Math.round(ne(re.revenue_per_week,_,re.type,X,K)*(_.townInfo.productivity/100)/7);_.townInfo.gold-=we,_.townInfo.happiness-=1,_=ut(`🚨 ${re.title} at ${K}, ${X} is disabled and costing you $${we} a week! 
              
              It is also lowering overall happiness by 1. Look at available resources and fix the problem! `,_,ot.BAD)}else{const re=oe[_.plots[X][K].type];let we=ne(re.revenue_per_week,_,re.type,X,K)*(_.townInfo.productivity/100)/7,Oe=zn(X,K,_);const He=_.gameSettings.includes("casual")?3:1;we*=He,we*=Oe?2:1,_.townInfo.gold+=we,_.economyAndLaws.weeklyProfit+=we*7}return _}function Ce(_){return _.gameSettings.includes("casual")&&Math.random()<.75||$e("mine",_).length>0&&(_.townInfo.health-=7,$e("healing_house",_).length==0&&(_=ut("The mine is actively hurting the health of the town. A Healing House can counteract this.",_,ot.BAD))),_}function Ae(_){let X=0;for(let K=0;K<_.plots.length;K++)for(let re=0;re<_.plots[K].length;re++)if(_.plots[K][re].active==!0&&_.plots[K][re].type>-1){let we=oe[_.plots[K][re].type],Oe=Yn(K,re,_)?.75:1;we.knowledge_points_per_month!=null&&(_.townInfo.knowledge_points+=Math.round(we.knowledge_points_per_month*Oe/4),X+=we.knowledge_points_per_month*Oe/4)}return _.resource_rate.knowledge=ct(X,0),_}function ne(_,X,K,re,we){let Oe=X.townInfo.happiness/100;Oe>2?Oe=2:Oe<.75&&(Oe=.75);let He=$e("village_inn",X).length;K=="shop"&&(Oe*=1.35*He),Yn(re,we,X)&&(Oe*=1.5);let Ye=Math.round(_*X.economyAndLaws.tax_rate*(X.townInfo.population_count/X.townInfo.population_max)*Oe*(X.economyAndLaws.enacted.includes("tax_free")?-1:1));return ct(Ye,2)}return xo(async()=>{for(;;)localStorage.reset=="true"&&(Ti(),localStorage.setItem("reset","false")),c(),await new Promise(_=>setTimeout(_,o/Hl))}),[c,Dr,$r,Z,Fr]}class Nm extends me{constructor(e){super(),de(this,e,Pm,null,ce,{mainGameThreadLoop:0,_checkExperiment:1,_fixVariables:2,_bringModifiersBackToNormal:3,_bringStatsBackToNormal:4},null,[-1,-1])}get mainGameThreadLoop(){return this.$$.ctx[0]}get _checkExperiment(){return Dr}get _fixVariables(){return $r}get _bringModifiersBackToNormal(){return this.$$.ctx[3]}get _bringStatsBackToNormal(){return Fr}}function Em(t){return t[t.length-1]}function cn(t){return Object.keys(t).reduce((e,n)=>t[n]===void 0?e:e+`${n}:${t[n]};`,"")}function ur(t){return t?!0:void 0}cn({position:"absolute",opacity:0,"pointer-events":"none",margin:0,transform:"translateX(-100%)"});function jf(t){if(t!==null)return t}function Gl(t){function e(n){return n(t),()=>{}}return{subscribe:e}}function fr(t){if(!jo)return null;const e=document.querySelector(`[data-melt-id="${t}"]`);return wt(e)?e:null}const So=t=>new Proxy(t,{get(e,n,o){return Reflect.get(e,n,o)},ownKeys(e){return Reflect.ownKeys(e).filter(n=>n!=="action")}}),Wl=t=>typeof t=="function";dt("empty");function dt(t,e){const{stores:n,action:o,returned:i}=e??{},r=(()=>{if(n&&i)return nn(n,a=>{const s=i(a);if(Wl(s)){const u=(...f)=>So({...s(...f),[`data-melt-${t}`]:"",action:o??nt});return u.action=o??nt,u}return So({...s,[`data-melt-${t}`]:"",action:o??nt})});{const a=i,s=a==null?void 0:a();if(Wl(s)){const u=(...f)=>So({...s(...f),[`data-melt-${t}`]:"",action:o??nt});return u.action=o??nt,Gl(u)}return Gl(So({...s,[`data-melt-${t}`]:"",action:o??nt}))}})(),l=o??(()=>{});return l.subscribe=r.subscribe,l}function Vl(t,e){const{stores:n,returned:o,action:i}=e,{subscribe:r}=nn(n,a=>o(a).map(s=>So({...s,[`data-melt-${t}`]:"",action:i??nt}))),l=i??(()=>{});return l.subscribe=r,l}function Zi(t){const e=r=>r?`${t}-${r}`:t,n=r=>`data-melt-${t}${r?`-${r}`:""}`,o=r=>`[data-melt-${t}${r?`-${r}`:""}]`;return{name:e,attribute:n,selector:o,getEl:r=>document.querySelector(o(r))}}const jo=typeof document<"u",qf=t=>typeof t=="function";function Rm(t){return t instanceof Document}function Qi(t){return t instanceof Element}function wt(t){return t instanceof HTMLElement}function xl(t){return t.pointerType==="touch"}function Lm(t){return t!==null&&typeof t=="object"}function Dm(t){return Lm(t)&&"subscribe"in t}function Bt(...t){return(...e)=>{for(const n of t)typeof n=="function"&&n(...e)}}function nt(){}function pt(t,e,n,o){const i=Array.isArray(e)?e:[e];return i.forEach(r=>t.addEventListener(r,n,o)),()=>{i.forEach(r=>t.removeEventListener(r,n,o))}}function gt(t,e,n,o){const i=Array.isArray(e)?e:[e];if(typeof n=="function"){const r=Fm(l=>n(l));return i.forEach(l=>t.addEventListener(l,r,o)),()=>{i.forEach(l=>t.removeEventListener(l,r,o))}}return()=>void 0}function $m(t){const e=t.currentTarget;if(!wt(e))return null;const n=new CustomEvent(`m-${t.type}`,{detail:{originalEvent:t},cancelable:!0});return e.dispatchEvent(n),n}function Fm(t){return e=>{const n=$m(e);if(!(n!=null&&n.defaultPrevented))return t(e)}}function zi(t,...e){const n={};for(const o of Object.keys(t))e.includes(o)||(n[o]=t[o]);return n}function Jt(t){return{...t,get:()=>bf(t)}}Jt.writable=function(t){const e=xe(t);let n=t;return{subscribe:e.subscribe,set(o){e.set(o),n=o},update(o){const i=o(n);e.set(i),n=i},get(){return n}}};Jt.derived=function(t,e){const n=new Map,o=()=>{const r=Array.isArray(t)?t.map(l=>l.get()):t.get();return e(r)};return{get:o,subscribe:r=>{const l=[];return(Array.isArray(t)?t:[t]).forEach(s=>{l.push(s.subscribe(()=>{r(o())}))}),r(o()),n.set(r,l),()=>{const s=n.get(r);if(s)for(const u of s)u();n.delete(r)}}}};const er=(t,e)=>{const n=Jt(t),o=(r,l)=>{n.update(a=>{const s=r(a);let u=s;return e&&(u=e({curr:a,next:s})),l==null||l(u),u})};return{...n,update:o,set:r=>{o(()=>r)}}};function ul(t){return new Promise(e=>setTimeout(e,t))}let jm="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",qm=(t=21)=>{let e="",n=t;for(;n--;)e+=jm[Math.random()*64|0];return e};function Bm(){return qm(10)}function fl(t){return t.reduce((e,n)=>(e[n]=Bm(),e),{})}const at={ALT:"Alt",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",CAPS_LOCK:"CapsLock",CONTROL:"Control",DELETE:"Delete",END:"End",ENTER:"Enter",ESCAPE:"Escape",F1:"F1",F10:"F10",F11:"F11",F12:"F12",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",HOME:"Home",META:"Meta",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp",SHIFT:"Shift",SPACE:" ",TAB:"Tab",CTRL:"Control",ASTERISK:"*",A:"a",P:"p"},Bf=()=>typeof window<"u";function Hm(){const t=navigator.userAgentData;return(t==null?void 0:t.platform)??navigator.platform}const Hf=t=>Bf()&&t.test(Hm().toLowerCase()),Gm=()=>Bf()&&!!navigator.maxTouchPoints,Wm=()=>Hf(/^mac/)&&!Gm(),Vm=()=>Hf(/mac|iphone|ipad|ipod/i),xm=()=>Vm()&&!Wm();function Ym(t){const e=t.slice();return e.sort(Km),Um(e)}function Um(t){if(t.length<=1)return t.slice();const e=[];for(let o=0;o<t.length;o++){const i=t[o];for(;e.length>=2;){const r=e[e.length-1],l=e[e.length-2];if((r.x-l.x)*(i.y-l.y)>=(r.y-l.y)*(i.x-l.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let o=t.length-1;o>=0;o--){const i=t[o];for(;n.length>=2;){const r=n[n.length-1],l=n[n.length-2];if((r.x-l.x)*(i.y-l.y)>=(r.y-l.y)*(i.x-l.x))n.pop();else break}n.push(i)}return n.pop(),e.length==1&&n.length==1&&e[0].x==n[0].x&&e[0].y==n[0].y?e:e.concat(n)}function Km(t,e){return t.x<e.x?-1:t.x>e.x?1:t.y<e.y?-1:t.y>e.y?1:0}function Xm(t){const e=t.getBoundingClientRect();return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.right,y:e.bottom},{x:e.left,y:e.bottom}]}function Jm(t){const e=t.flatMap(n=>Xm(n));return Ym(e)}function Zm(t,e){let n=!1;for(let o=0,i=e.length-1;o<e.length;i=o++){const r=e[o].x,l=e[o].y,a=e[i].x,s=e[i].y;l>t.y!=s>t.y&&t.x<(a-r)*(t.y-l)/(s-l)+r&&(n=!n)}return n}const cr="data-melt-scroll-lock";function Yl(t,e){if(!t)return;const n=t.style.cssText;return Object.assign(t.style,e),()=>{t.style.cssText=n}}function Qm(t,e,n){if(!t)return;const o=t.style.getPropertyValue(e);return t.style.setProperty(e,n),()=>{o?t.style.setProperty(e,o):t.style.removeProperty(e)}}function zm(t){const e=t.getBoundingClientRect().left;return Math.round(e)+t.scrollLeft?"paddingLeft":"paddingRight"}function ep(t){const e=document,n=e.defaultView??window,{documentElement:o,body:i}=e;if(i.hasAttribute(cr))return nt;i.setAttribute(cr,"");const l=n.innerWidth-o.clientWidth,a=()=>Qm(o,"--scrollbar-width",`${l}px`),s=zm(o),u=n.getComputedStyle(i)[s],f=()=>Yl(i,{overflow:"hidden",[s]:`calc(${u} + ${l}px)`}),c=()=>{const{scrollX:m,scrollY:p,visualViewport:h}=n,g=(h==null?void 0:h.offsetLeft)??0,w=(h==null?void 0:h.offsetTop)??0,b=Yl(i,{position:"fixed",overflow:"hidden",top:`${-(p-Math.floor(w))}px`,left:`${-(m-Math.floor(g))}px`,right:"0",[s]:`calc(${u} + ${l}px)`});return()=>{b==null||b(),n.scrollTo(m,p)}},d=[a(),xm()?c():f()];return()=>{d.forEach(m=>m==null?void 0:m()),i.removeAttribute(cr)}}const tp=t=>{try{Tf(t)}catch{return t}};function Mt(t,e){let n;const o=nn(t,r=>{n==null||n(),n=e(r)}).subscribe(nt),i=()=>{o(),n==null||n()};return tp(i),i}function Pn(t){const e={};return Object.keys(t).forEach(n=>{const o=n,i=t[o];e[o]=Jt(xe(i))}),e}function np(t){let e=t.parentElement;for(;wt(e)&&!e.hasAttribute("data-portal");)e=e.parentElement;return e||"body"}function Gf(t,e){return e!==void 0?e:np(t)==="body"?document.body:null}async function Ul(t){const{prop:e,defaultEl:n}=t;if(await Promise.all([ul(1),rl]),e===void 0){n==null||n.focus();return}const o=qf(e)?e(n):e;if(typeof o=="string"){const i=document.querySelector(o);if(!wt(i))return;i.focus()}else wt(o)&&o.focus()}function dr(t,e,n,o){const i=(t-(isNaN(e)?0:e))%o;let r=Math.abs(i)*2>=o?t+Math.sign(i)*(o-Math.abs(i)):t-i;isNaN(e)?!isNaN(n)&&r>n&&(r=Math.floor(n/o)*o):r<e?r=e:!isNaN(n)&&r>n&&(r=e+Math.floor((n-e)/o)*o);const l=o.toString(),a=l.indexOf("."),s=a>=0?l.length-a:0;if(s>0){const u=Math.pow(10,s);r=Math.round(r*u)/u}return r}On(void 0,t=>{function e(o){t(o),t(void 0)}return pt(document,"pointerup",e,{passive:!1,capture:!0})});const op=On(void 0,t=>{function e(o){o&&o.key===at.ESCAPE&&t(o),t(void 0)}return pt(document,"keydown",e,{passive:!1})}),Kl=(t,e={})=>{let n=nt;function o(i={}){n();const r={enabled:!0,...i},l=Dm(r.enabled)?r.enabled:On(r.enabled);n=Bt(op.subscribe(a=>{var u;if(!a||!bf(l))return;const s=a.target;if(!(!wt(s)||s.closest("[data-escapee]")!==t)){if(a.preventDefault(),r.ignore){if(qf(r.ignore)){if(r.ignore(a))return}else if(Array.isArray(r.ignore)&&r.ignore.length>0&&r.ignore.some(f=>f&&s===f))return}(u=r.handler)==null||u.call(r,a)}}),Mt(l,a=>{a?t.dataset.escapee="":delete t.dataset.escapee}))}return o(e),{update:o,destroy(){t.removeAttribute("data-escapee"),n()}}},pn=Math.min,Ct=Math.max,Oi=Math.round,zo=Math.floor,hn=t=>({x:t,y:t}),ip={left:"right",right:"left",bottom:"top",top:"bottom"},rp={start:"end",end:"start"};function jr(t,e,n){return Ct(t,pn(e,n))}function uo(t,e){return typeof t=="function"?t(e):t}function _n(t){return t.split("-")[0]}function fo(t){return t.split("-")[1]}function Wf(t){return t==="x"?"y":"x"}function cl(t){return t==="y"?"height":"width"}function Uo(t){return["top","bottom"].includes(_n(t))?"y":"x"}function dl(t){return Wf(Uo(t))}function lp(t,e,n){n===void 0&&(n=!1);const o=fo(t),i=dl(t),r=cl(i);let l=i==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return e.reference[r]>e.floating[r]&&(l=Mi(l)),[l,Mi(l)]}function sp(t){const e=Mi(t);return[qr(t),e,qr(e)]}function qr(t){return t.replace(/start|end/g,e=>rp[e])}function ap(t,e,n){const o=["left","right"],i=["right","left"],r=["top","bottom"],l=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:o:e?o:i;case"left":case"right":return e?r:l;default:return[]}}function up(t,e,n,o){const i=fo(t);let r=ap(_n(t),n==="start",o);return i&&(r=r.map(l=>l+"-"+i),e&&(r=r.concat(r.map(qr)))),r}function Mi(t){return t.replace(/left|right|bottom|top/g,e=>ip[e])}function fp(t){return{top:0,right:0,bottom:0,left:0,...t}}function Vf(t){return typeof t!="number"?fp(t):{top:t,right:t,bottom:t,left:t}}function Pi(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function Xl(t,e,n){let{reference:o,floating:i}=t;const r=Uo(e),l=dl(e),a=cl(l),s=_n(e),u=r==="y",f=o.x+o.width/2-i.width/2,c=o.y+o.height/2-i.height/2,d=o[a]/2-i[a]/2;let m;switch(s){case"top":m={x:f,y:o.y-i.height};break;case"bottom":m={x:f,y:o.y+o.height};break;case"right":m={x:o.x+o.width,y:c};break;case"left":m={x:o.x-i.width,y:c};break;default:m={x:o.x,y:o.y}}switch(fo(e)){case"start":m[l]-=d*(n&&u?-1:1);break;case"end":m[l]+=d*(n&&u?-1:1);break}return m}const cp=async(t,e,n)=>{const{placement:o="bottom",strategy:i="absolute",middleware:r=[],platform:l}=n,a=r.filter(Boolean),s=await(l.isRTL==null?void 0:l.isRTL(e));let u=await l.getElementRects({reference:t,floating:e,strategy:i}),{x:f,y:c}=Xl(u,o,s),d=o,m={},p=0;for(let h=0;h<a.length;h++){const{name:g,fn:w}=a[h],{x:b,y:C,data:N,reset:F}=await w({x:f,y:c,initialPlacement:o,placement:d,strategy:i,middlewareData:m,rects:u,platform:l,elements:{reference:t,floating:e}});f=b??f,c=C??c,m={...m,[g]:{...m[g],...N}},F&&p<=50&&(p++,typeof F=="object"&&(F.placement&&(d=F.placement),F.rects&&(u=F.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:i}):F.rects),{x:f,y:c}=Xl(u,d,s)),h=-1)}return{x:f,y:c,placement:d,strategy:i,middlewareData:m}};async function ml(t,e){var n;e===void 0&&(e={});const{x:o,y:i,platform:r,rects:l,elements:a,strategy:s}=t,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:c="floating",altBoundary:d=!1,padding:m=0}=uo(e,t),p=Vf(m),g=a[d?c==="floating"?"reference":"floating":c],w=Pi(await r.getClippingRect({element:(n=await(r.isElement==null?void 0:r.isElement(g)))==null||n?g:g.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(a.floating)),boundary:u,rootBoundary:f,strategy:s})),b=c==="floating"?{...l.floating,x:o,y:i}:l.reference,C=await(r.getOffsetParent==null?void 0:r.getOffsetParent(a.floating)),N=await(r.isElement==null?void 0:r.isElement(C))?await(r.getScale==null?void 0:r.getScale(C))||{x:1,y:1}:{x:1,y:1},F=Pi(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:b,offsetParent:C,strategy:s}):b);return{top:(w.top-F.top+p.top)/N.y,bottom:(F.bottom-w.bottom+p.bottom)/N.y,left:(w.left-F.left+p.left)/N.x,right:(F.right-w.right+p.right)/N.x}}const dp=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:o,placement:i,rects:r,platform:l,elements:a,middlewareData:s}=e,{element:u,padding:f=0}=uo(t,e)||{};if(u==null)return{};const c=Vf(f),d={x:n,y:o},m=dl(i),p=cl(m),h=await l.getDimensions(u),g=m==="y",w=g?"top":"left",b=g?"bottom":"right",C=g?"clientHeight":"clientWidth",N=r.reference[p]+r.reference[m]-d[m]-r.floating[p],F=d[m]-r.reference[m],P=await(l.getOffsetParent==null?void 0:l.getOffsetParent(u));let D=P?P[C]:0;(!D||!await(l.isElement==null?void 0:l.isElement(P)))&&(D=a.floating[C]||r.floating[p]);const H=N/2-F/2,M=D/2-h[p]/2-1,R=pn(c[w],M),S=pn(c[b],M),v=R,A=D-h[p]-S,j=D/2-h[p]/2+H,W=jr(v,j,A),$=!s.arrow&&fo(i)!=null&&j!==W&&r.reference[p]/2-(j<v?R:S)-h[p]/2<0,U=$?j<v?j-v:j-A:0;return{[m]:d[m]+U,data:{[m]:W,centerOffset:j-W-U,...$&&{alignmentOffset:U}},reset:$}}}),mp=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,o;const{placement:i,middlewareData:r,rects:l,initialPlacement:a,platform:s,elements:u}=e,{mainAxis:f=!0,crossAxis:c=!0,fallbackPlacements:d,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:h=!0,...g}=uo(t,e);if((n=r.arrow)!=null&&n.alignmentOffset)return{};const w=_n(i),b=_n(a)===a,C=await(s.isRTL==null?void 0:s.isRTL(u.floating)),N=d||(b||!h?[Mi(a)]:sp(a));!d&&p!=="none"&&N.push(...up(a,h,p,C));const F=[a,...N],P=await ml(e,g),D=[];let H=((o=r.flip)==null?void 0:o.overflows)||[];if(f&&D.push(P[w]),c){const v=lp(i,l,C);D.push(P[v[0]],P[v[1]])}if(H=[...H,{placement:i,overflows:D}],!D.every(v=>v<=0)){var M,R;const v=(((M=r.flip)==null?void 0:M.index)||0)+1,A=F[v];if(A)return{data:{index:v,overflows:H},reset:{placement:A}};let j=(R=H.filter(W=>W.overflows[0]<=0).sort((W,$)=>W.overflows[1]-$.overflows[1])[0])==null?void 0:R.placement;if(!j)switch(m){case"bestFit":{var S;const W=(S=H.map($=>[$.placement,$.overflows.filter(U=>U>0).reduce((U,Q)=>U+Q,0)]).sort(($,U)=>$[1]-U[1])[0])==null?void 0:S[0];W&&(j=W);break}case"initialPlacement":j=a;break}if(i!==j)return{reset:{placement:j}}}return{}}}};async function pp(t,e){const{placement:n,platform:o,elements:i}=t,r=await(o.isRTL==null?void 0:o.isRTL(i.floating)),l=_n(n),a=fo(n),s=Uo(n)==="y",u=["left","top"].includes(l)?-1:1,f=r&&s?-1:1,c=uo(e,t);let{mainAxis:d,crossAxis:m,alignmentAxis:p}=typeof c=="number"?{mainAxis:c,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...c};return a&&typeof p=="number"&&(m=a==="end"?p*-1:p),s?{x:m*f,y:d*u}:{x:d*u,y:m*f}}const hp=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,o;const{x:i,y:r,placement:l,middlewareData:a}=e,s=await pp(e,t);return l===((n=a.offset)==null?void 0:n.placement)&&(o=a.arrow)!=null&&o.alignmentOffset?{}:{x:i+s.x,y:r+s.y,data:{...s,placement:l}}}}},_p=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:o,placement:i}=e,{mainAxis:r=!0,crossAxis:l=!1,limiter:a={fn:g=>{let{x:w,y:b}=g;return{x:w,y:b}}},...s}=uo(t,e),u={x:n,y:o},f=await ml(e,s),c=Uo(_n(i)),d=Wf(c);let m=u[d],p=u[c];if(r){const g=d==="y"?"top":"left",w=d==="y"?"bottom":"right",b=m+f[g],C=m-f[w];m=jr(b,m,C)}if(l){const g=c==="y"?"top":"left",w=c==="y"?"bottom":"right",b=p+f[g],C=p-f[w];p=jr(b,p,C)}const h=a.fn({...e,[d]:m,[c]:p});return{...h,data:{x:h.x-n,y:h.y-o}}}}},gp=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){const{placement:n,rects:o,platform:i,elements:r}=e,{apply:l=()=>{},...a}=uo(t,e),s=await ml(e,a),u=_n(n),f=fo(n),c=Uo(n)==="y",{width:d,height:m}=o.floating;let p,h;u==="top"||u==="bottom"?(p=u,h=f===(await(i.isRTL==null?void 0:i.isRTL(r.floating))?"start":"end")?"left":"right"):(h=u,p=f==="end"?"top":"bottom");const g=m-s[p],w=d-s[h],b=!e.middlewareData.shift;let C=g,N=w;if(c){const P=d-s.left-s.right;N=f||b?pn(w,P):P}else{const P=m-s.top-s.bottom;C=f||b?pn(g,P):P}if(b&&!f){const P=Ct(s.left,0),D=Ct(s.right,0),H=Ct(s.top,0),M=Ct(s.bottom,0);c?N=d-2*(P!==0||D!==0?P+D:Ct(s.left,s.right)):C=m-2*(H!==0||M!==0?H+M:Ct(s.top,s.bottom))}await l({...e,availableWidth:N,availableHeight:C});const F=await i.getDimensions(r.floating);return d!==F.width||m!==F.height?{reset:{rects:!0}}:{}}}};function gn(t){return xf(t)?(t.nodeName||"").toLowerCase():"#document"}function At(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function on(t){var e;return(e=(xf(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function xf(t){return t instanceof Node||t instanceof At(t).Node}function Qt(t){return t instanceof Element||t instanceof At(t).Element}function Gt(t){return t instanceof HTMLElement||t instanceof At(t).HTMLElement}function Jl(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof At(t).ShadowRoot}function Ko(t){const{overflow:e,overflowX:n,overflowY:o,display:i}=Nt(t);return/auto|scroll|overlay|hidden|clip/.test(e+o+n)&&!["inline","contents"].includes(i)}function bp(t){return["table","td","th"].includes(gn(t))}function pl(t){const e=hl(),n=Nt(t);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(o=>(n.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(n.contain||"").includes(o))}function vp(t){let e=oo(t);for(;Gt(e)&&!tr(e);){if(pl(e))return e;e=oo(e)}return null}function hl(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function tr(t){return["html","body","#document"].includes(gn(t))}function Nt(t){return At(t).getComputedStyle(t)}function nr(t){return Qt(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function oo(t){if(gn(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Jl(t)&&t.host||on(t);return Jl(e)?e.host:e}function Yf(t){const e=oo(t);return tr(e)?t.ownerDocument?t.ownerDocument.body:t.body:Gt(e)&&Ko(e)?e:Yf(e)}function qo(t,e,n){var o;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=Yf(t),r=i===((o=t.ownerDocument)==null?void 0:o.body),l=At(i);return r?e.concat(l,l.visualViewport||[],Ko(i)?i:[],l.frameElement&&n?qo(l.frameElement):[]):e.concat(i,qo(i,[],n))}function Uf(t){const e=Nt(t);let n=parseFloat(e.width)||0,o=parseFloat(e.height)||0;const i=Gt(t),r=i?t.offsetWidth:n,l=i?t.offsetHeight:o,a=Oi(n)!==r||Oi(o)!==l;return a&&(n=r,o=l),{width:n,height:o,$:a}}function _l(t){return Qt(t)?t:t.contextElement}function Jn(t){const e=_l(t);if(!Gt(e))return hn(1);const n=e.getBoundingClientRect(),{width:o,height:i,$:r}=Uf(e);let l=(r?Oi(n.width):n.width)/o,a=(r?Oi(n.height):n.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!a||!Number.isFinite(a))&&(a=1),{x:l,y:a}}const yp=hn(0);function Kf(t){const e=At(t);return!hl()||!e.visualViewport?yp:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function wp(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==At(t)?!1:e}function Nn(t,e,n,o){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),r=_l(t);let l=hn(1);e&&(o?Qt(o)&&(l=Jn(o)):l=Jn(t));const a=wp(r,n,o)?Kf(r):hn(0);let s=(i.left+a.x)/l.x,u=(i.top+a.y)/l.y,f=i.width/l.x,c=i.height/l.y;if(r){const d=At(r),m=o&&Qt(o)?At(o):o;let p=d,h=p.frameElement;for(;h&&o&&m!==p;){const g=Jn(h),w=h.getBoundingClientRect(),b=Nt(h),C=w.left+(h.clientLeft+parseFloat(b.paddingLeft))*g.x,N=w.top+(h.clientTop+parseFloat(b.paddingTop))*g.y;s*=g.x,u*=g.y,f*=g.x,c*=g.y,s+=C,u+=N,p=At(h),h=p.frameElement}}return Pi({width:f,height:c,x:s,y:u})}const kp=[":popover-open",":modal"];function Xf(t){return kp.some(e=>{try{return t.matches(e)}catch{return!1}})}function Cp(t){let{elements:e,rect:n,offsetParent:o,strategy:i}=t;const r=i==="fixed",l=on(o),a=e?Xf(e.floating):!1;if(o===l||a&&r)return n;let s={scrollLeft:0,scrollTop:0},u=hn(1);const f=hn(0),c=Gt(o);if((c||!c&&!r)&&((gn(o)!=="body"||Ko(l))&&(s=nr(o)),Gt(o))){const d=Nn(o);u=Jn(o),f.x=d.x+o.clientLeft,f.y=d.y+o.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-s.scrollLeft*u.x+f.x,y:n.y*u.y-s.scrollTop*u.y+f.y}}function Tp(t){return Array.from(t.getClientRects())}function Jf(t){return Nn(on(t)).left+nr(t).scrollLeft}function Ap(t){const e=on(t),n=nr(t),o=t.ownerDocument.body,i=Ct(e.scrollWidth,e.clientWidth,o.scrollWidth,o.clientWidth),r=Ct(e.scrollHeight,e.clientHeight,o.scrollHeight,o.clientHeight);let l=-n.scrollLeft+Jf(t);const a=-n.scrollTop;return Nt(o).direction==="rtl"&&(l+=Ct(e.clientWidth,o.clientWidth)-i),{width:i,height:r,x:l,y:a}}function Sp(t,e){const n=At(t),o=on(t),i=n.visualViewport;let r=o.clientWidth,l=o.clientHeight,a=0,s=0;if(i){r=i.width,l=i.height;const u=hl();(!u||u&&e==="fixed")&&(a=i.offsetLeft,s=i.offsetTop)}return{width:r,height:l,x:a,y:s}}function Ip(t,e){const n=Nn(t,!0,e==="fixed"),o=n.top+t.clientTop,i=n.left+t.clientLeft,r=Gt(t)?Jn(t):hn(1),l=t.clientWidth*r.x,a=t.clientHeight*r.y,s=i*r.x,u=o*r.y;return{width:l,height:a,x:s,y:u}}function Zl(t,e,n){let o;if(e==="viewport")o=Sp(t,n);else if(e==="document")o=Ap(on(t));else if(Qt(e))o=Ip(e,n);else{const i=Kf(t);o={...e,x:e.x-i.x,y:e.y-i.y}}return Pi(o)}function Zf(t,e){const n=oo(t);return n===e||!Qt(n)||tr(n)?!1:Nt(n).position==="fixed"||Zf(n,e)}function Op(t,e){const n=e.get(t);if(n)return n;let o=qo(t,[],!1).filter(a=>Qt(a)&&gn(a)!=="body"),i=null;const r=Nt(t).position==="fixed";let l=r?oo(t):t;for(;Qt(l)&&!tr(l);){const a=Nt(l),s=pl(l);!s&&a.position==="fixed"&&(i=null),(r?!s&&!i:!s&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Ko(l)&&!s&&Zf(t,l))?o=o.filter(f=>f!==l):i=a,l=oo(l)}return e.set(t,o),o}function Mp(t){let{element:e,boundary:n,rootBoundary:o,strategy:i}=t;const l=[...n==="clippingAncestors"?Op(e,this._c):[].concat(n),o],a=l[0],s=l.reduce((u,f)=>{const c=Zl(e,f,i);return u.top=Ct(c.top,u.top),u.right=pn(c.right,u.right),u.bottom=pn(c.bottom,u.bottom),u.left=Ct(c.left,u.left),u},Zl(e,a,i));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}}function Pp(t){const{width:e,height:n}=Uf(t);return{width:e,height:n}}function Np(t,e,n){const o=Gt(e),i=on(e),r=n==="fixed",l=Nn(t,!0,r,e);let a={scrollLeft:0,scrollTop:0};const s=hn(0);if(o||!o&&!r)if((gn(e)!=="body"||Ko(i))&&(a=nr(e)),o){const c=Nn(e,!0,r,e);s.x=c.x+e.clientLeft,s.y=c.y+e.clientTop}else i&&(s.x=Jf(i));const u=l.left+a.scrollLeft-s.x,f=l.top+a.scrollTop-s.y;return{x:u,y:f,width:l.width,height:l.height}}function Ql(t,e){return!Gt(t)||Nt(t).position==="fixed"?null:e?e(t):t.offsetParent}function Qf(t,e){const n=At(t);if(!Gt(t)||Xf(t))return n;let o=Ql(t,e);for(;o&&bp(o)&&Nt(o).position==="static";)o=Ql(o,e);return o&&(gn(o)==="html"||gn(o)==="body"&&Nt(o).position==="static"&&!pl(o))?n:o||vp(t)||n}const Ep=async function(t){const e=this.getOffsetParent||Qf,n=this.getDimensions;return{reference:Np(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,...await n(t.floating)}}};function Rp(t){return Nt(t).direction==="rtl"}const Lp={convertOffsetParentRelativeRectToViewportRelativeRect:Cp,getDocumentElement:on,getClippingRect:Mp,getOffsetParent:Qf,getElementRects:Ep,getClientRects:Tp,getDimensions:Pp,getScale:Jn,isElement:Qt,isRTL:Rp};function Dp(t,e){let n=null,o;const i=on(t);function r(){var a;clearTimeout(o),(a=n)==null||a.disconnect(),n=null}function l(a,s){a===void 0&&(a=!1),s===void 0&&(s=1),r();const{left:u,top:f,width:c,height:d}=t.getBoundingClientRect();if(a||e(),!c||!d)return;const m=zo(f),p=zo(i.clientWidth-(u+c)),h=zo(i.clientHeight-(f+d)),g=zo(u),b={rootMargin:-m+"px "+-p+"px "+-h+"px "+-g+"px",threshold:Ct(0,pn(1,s))||1};let C=!0;function N(F){const P=F[0].intersectionRatio;if(P!==s){if(!C)return l();P?l(!1,P):o=setTimeout(()=>{l(!1,1e-7)},100)}C=!1}try{n=new IntersectionObserver(N,{...b,root:i.ownerDocument})}catch{n=new IntersectionObserver(N,b)}n.observe(t)}return l(!0),r}function $p(t,e,n,o){o===void 0&&(o={});const{ancestorScroll:i=!0,ancestorResize:r=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:s=!1}=o,u=_l(t),f=i||r?[...u?qo(u):[],...qo(e)]:[];f.forEach(w=>{i&&w.addEventListener("scroll",n,{passive:!0}),r&&w.addEventListener("resize",n)});const c=u&&a?Dp(u,n):null;let d=-1,m=null;l&&(m=new ResizeObserver(w=>{let[b]=w;b&&b.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var C;(C=m)==null||C.observe(e)})),n()}),u&&!s&&m.observe(u),m.observe(e));let p,h=s?Nn(t):null;s&&g();function g(){const w=Nn(t);h&&(w.x!==h.x||w.y!==h.y||w.width!==h.width||w.height!==h.height)&&n(),h=w,p=requestAnimationFrame(g)}return n(),()=>{var w;f.forEach(b=>{i&&b.removeEventListener("scroll",n),r&&b.removeEventListener("resize",n)}),c==null||c(),(w=m)==null||w.disconnect(),m=null,s&&cancelAnimationFrame(p)}}const Fp=_p,jp=mp,qp=gp,Bp=dp,Hp=(t,e,n)=>{const o=new Map,i={platform:Lp,...n},r={...i.platform,_c:o};return cp(t,e,{...i,platform:r})},Gp={strategy:"absolute",placement:"top",gutter:5,flip:!0,sameWidth:!1,overflowPadding:8},Wp={bottom:"rotate(45deg)",left:"rotate(135deg)",top:"rotate(225deg)",right:"rotate(315deg)"};function Vp(t,e,n={}){if(!e||!t||n===null)return{destroy:nt};const o={...Gp,...n},i=e.querySelector("[data-arrow=true]"),r=[];o.flip&&r.push(jp({boundary:o.boundary,padding:o.overflowPadding}));const l=wt(i)?i.offsetHeight/2:0;if(o.gutter||o.offset){const s=o.gutter?{mainAxis:o.gutter}:o.offset;(s==null?void 0:s.mainAxis)!=null&&(s.mainAxis+=l),r.push(hp(s))}r.push(Fp({boundary:o.boundary,crossAxis:o.overlap,padding:o.overflowPadding})),i&&r.push(Bp({element:i,padding:8})),r.push(qp({padding:o.overflowPadding,apply({rects:s,availableHeight:u,availableWidth:f}){o.sameWidth&&Object.assign(e.style,{width:`${Math.round(s.reference.width)}px`,minWidth:"unset"}),o.fitViewport&&Object.assign(e.style,{maxWidth:`${f}px`,maxHeight:`${u}px`})}}));function a(){if(!t||!e)return;const{placement:s,strategy:u}=o;Hp(t,e,{placement:s,middleware:r,strategy:u}).then(f=>{const c=Math.round(f.x),d=Math.round(f.y);if(Object.assign(e.style,{position:o.strategy,top:`${d}px`,left:`${c}px`}),wt(i)&&f.middlewareData.arrow){const{x:m,y:p}=f.middlewareData.arrow,h=f.placement.split("-")[0];Object.assign(i.style,{position:"absolute",left:m!=null?`${m}px`:"",top:p!=null?`${p}px`:"",[h]:`calc(100% - ${l}px)`,transform:Wp[h],backgroundColor:"inherit",zIndex:"inherit"})}return f})}return Object.assign(e.style,{position:o.strategy}),{destroy:$p(t,e,a)}}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var zf=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Ni=zf.join(","),ec=typeof Element>"u",En=ec?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Ei=!ec&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},Ri=function t(e,n){var o;n===void 0&&(n=!0);var i=e==null||(o=e.getAttribute)===null||o===void 0?void 0:o.call(e,"inert"),r=i===""||i==="true",l=r||n&&e&&t(e.parentNode);return l},xp=function(e){var n,o=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"contenteditable");return o===""||o==="true"},tc=function(e,n,o){if(Ri(e))return[];var i=Array.prototype.slice.apply(e.querySelectorAll(Ni));return n&&En.call(e,Ni)&&i.unshift(e),i=i.filter(o),i},nc=function t(e,n,o){for(var i=[],r=Array.from(e);r.length;){var l=r.shift();if(!Ri(l,!1))if(l.tagName==="SLOT"){var a=l.assignedElements(),s=a.length?a:l.children,u=t(s,!0,o);o.flatten?i.push.apply(i,u):i.push({scopeParent:l,candidates:u})}else{var f=En.call(l,Ni);f&&o.filter(l)&&(n||!e.includes(l))&&i.push(l);var c=l.shadowRoot||typeof o.getShadowRoot=="function"&&o.getShadowRoot(l),d=!Ri(c,!1)&&(!o.shadowRootFilter||o.shadowRootFilter(l));if(c&&d){var m=t(c===!0?l.children:c.children,!0,o);o.flatten?i.push.apply(i,m):i.push({scopeParent:l,candidates:m})}else r.unshift.apply(r,l.children)}}return i},oc=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},Tn=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||xp(e))&&!oc(e)?0:e.tabIndex},Yp=function(e,n){var o=Tn(e);return o<0&&n&&!oc(e)?0:o},Up=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},ic=function(e){return e.tagName==="INPUT"},Kp=function(e){return ic(e)&&e.type==="hidden"},Xp=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(o){return o.tagName==="SUMMARY"});return n},Jp=function(e,n){for(var o=0;o<e.length;o++)if(e[o].checked&&e[o].form===n)return e[o]},Zp=function(e){if(!e.name)return!0;var n=e.form||Ei(e),o=function(a){return n.querySelectorAll('input[type="radio"][name="'+a+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=o(window.CSS.escape(e.name));else try{i=o(e.name)}catch(l){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",l.message),!1}var r=Jp(i,e.form);return!r||r===e},Qp=function(e){return ic(e)&&e.type==="radio"},zp=function(e){return Qp(e)&&!Zp(e)},eh=function(e){var n,o=e&&Ei(e),i=(n=o)===null||n===void 0?void 0:n.host,r=!1;if(o&&o!==e){var l,a,s;for(r=!!((l=i)!==null&&l!==void 0&&(a=l.ownerDocument)!==null&&a!==void 0&&a.contains(i)||e!=null&&(s=e.ownerDocument)!==null&&s!==void 0&&s.contains(e));!r&&i;){var u,f,c;o=Ei(i),i=(u=o)===null||u===void 0?void 0:u.host,r=!!((f=i)!==null&&f!==void 0&&(c=f.ownerDocument)!==null&&c!==void 0&&c.contains(i))}}return r},zl=function(e){var n=e.getBoundingClientRect(),o=n.width,i=n.height;return o===0&&i===0},th=function(e,n){var o=n.displayCheck,i=n.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var r=En.call(e,"details>summary:first-of-type"),l=r?e.parentElement:e;if(En.call(l,"details:not([open]) *"))return!0;if(!o||o==="full"||o==="legacy-full"){if(typeof i=="function"){for(var a=e;e;){var s=e.parentElement,u=Ei(e);if(s&&!s.shadowRoot&&i(s)===!0)return zl(e);e.assignedSlot?e=e.assignedSlot:!s&&u!==e.ownerDocument?e=u.host:e=s}e=a}if(eh(e))return!e.getClientRects().length;if(o!=="legacy-full")return!0}else if(o==="non-zero-area")return zl(e);return!1},nh=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var o=0;o<n.children.length;o++){var i=n.children.item(o);if(i.tagName==="LEGEND")return En.call(n,"fieldset[disabled] *")?!0:!i.contains(e)}return!0}n=n.parentElement}return!1},Li=function(e,n){return!(n.disabled||Ri(n)||Kp(n)||th(n,e)||Xp(n)||nh(n))},Br=function(e,n){return!(zp(n)||Tn(n)<0||!Li(e,n))},oh=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},ih=function t(e){var n=[],o=[];return e.forEach(function(i,r){var l=!!i.scopeParent,a=l?i.scopeParent:i,s=Yp(a,l),u=l?t(i.candidates):a;s===0?l?n.push.apply(n,u):n.push(a):o.push({documentOrder:r,tabIndex:s,item:i,isScope:l,content:u})}),o.sort(Up).reduce(function(i,r){return r.isScope?i.push.apply(i,r.content):i.push(r.content),i},[]).concat(n)},rh=function(e,n){n=n||{};var o;return n.getShadowRoot?o=nc([e],n.includeContainer,{filter:Br.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:oh}):o=tc(e,n.includeContainer,Br.bind(null,n)),ih(o)},lh=function(e,n){n=n||{};var o;return n.getShadowRoot?o=nc([e],n.includeContainer,{filter:Li.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):o=tc(e,n.includeContainer,Li.bind(null,n)),o},Wn=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return En.call(e,Ni)===!1?!1:Br(n,e)},sh=zf.concat("iframe").join(","),mr=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return En.call(e,sh)===!1?!1:Li(n,e)};/*!
* focus-trap 7.5.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function es(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,o)}return n}function ts(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?es(Object(n),!0).forEach(function(o){ah(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):es(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function ah(t,e,n){return e=fh(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uh(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fh(t){var e=uh(t,"string");return typeof e=="symbol"?e:String(e)}var ns={activateTrap:function(e,n){if(e.length>0){var o=e[e.length-1];o!==n&&o.pause()}var i=e.indexOf(n);i===-1||e.splice(i,1),e.push(n)},deactivateTrap:function(e,n){var o=e.indexOf(n);o!==-1&&e.splice(o,1),e.length>0&&e[e.length-1].unpause()}},ch=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},dh=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},Do=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},mh=function(e){return Do(e)&&!e.shiftKey},ph=function(e){return Do(e)&&e.shiftKey},os=function(e){return setTimeout(e,0)},is=function(e,n){var o=-1;return e.every(function(i,r){return n(i)?(o=r,!1):!0}),o},ko=function(e){for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return typeof e=="function"?e.apply(void 0,o):e},ei=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},hh=[],_h=function(e,n){var o=(n==null?void 0:n.document)||document,i=(n==null?void 0:n.trapStack)||hh,r=ts({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:mh,isKeyBackward:ph},n),l={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},a,s=function(v,A,j){return v&&v[A]!==void 0?v[A]:r[j||A]},u=function(v,A){var j=typeof(A==null?void 0:A.composedPath)=="function"?A.composedPath():void 0;return l.containerGroups.findIndex(function(W){var $=W.container,U=W.tabbableNodes;return $.contains(v)||(j==null?void 0:j.includes($))||U.find(function(Q){return Q===v})})},f=function(v){var A=r[v];if(typeof A=="function"){for(var j=arguments.length,W=new Array(j>1?j-1:0),$=1;$<j;$++)W[$-1]=arguments[$];A=A.apply(void 0,W)}if(A===!0&&(A=void 0),!A){if(A===void 0||A===!1)return A;throw new Error("`".concat(v,"` was specified but was not a node, or did not return a node"))}var U=A;if(typeof A=="string"&&(U=o.querySelector(A),!U))throw new Error("`".concat(v,"` as selector refers to no known node"));return U},c=function(){var v=f("initialFocus");if(v===!1)return!1;if(v===void 0||!mr(v,r.tabbableOptions))if(u(o.activeElement)>=0)v=o.activeElement;else{var A=l.tabbableGroups[0],j=A&&A.firstTabbableNode;v=j||f("fallbackFocus")}if(!v)throw new Error("Your focus-trap needs to have at least one focusable element");return v},d=function(){if(l.containerGroups=l.containers.map(function(v){var A=rh(v,r.tabbableOptions),j=lh(v,r.tabbableOptions),W=A.length>0?A[0]:void 0,$=A.length>0?A[A.length-1]:void 0,U=j.find(function(te){return Wn(te)}),Q=j.slice().reverse().find(function(te){return Wn(te)}),z=!!A.find(function(te){return Tn(te)>0});return{container:v,tabbableNodes:A,focusableNodes:j,posTabIndexesFound:z,firstTabbableNode:W,lastTabbableNode:$,firstDomTabbableNode:U,lastDomTabbableNode:Q,nextTabbableNode:function(Z){var le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,Ce=A.indexOf(Z);return Ce<0?le?j.slice(j.indexOf(Z)+1).find(function(Ae){return Wn(Ae)}):j.slice(0,j.indexOf(Z)).reverse().find(function(Ae){return Wn(Ae)}):A[Ce+(le?1:-1)]}}}),l.tabbableGroups=l.containerGroups.filter(function(v){return v.tabbableNodes.length>0}),l.tabbableGroups.length<=0&&!f("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(l.containerGroups.find(function(v){return v.posTabIndexesFound})&&l.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},m=function S(v){var A=v.activeElement;if(A)return A.shadowRoot&&A.shadowRoot.activeElement!==null?S(A.shadowRoot):A},p=function S(v){if(v!==!1&&v!==m(document)){if(!v||!v.focus){S(c());return}v.focus({preventScroll:!!r.preventScroll}),l.mostRecentlyFocusedNode=v,ch(v)&&v.select()}},h=function(v){var A=f("setReturnFocus",v);return A||(A===!1?!1:v)},g=function(v){var A=v.target,j=v.event,W=v.isBackward,$=W===void 0?!1:W;A=A||ei(j),d();var U=null;if(l.tabbableGroups.length>0){var Q=u(A,j),z=Q>=0?l.containerGroups[Q]:void 0;if(Q<0)$?U=l.tabbableGroups[l.tabbableGroups.length-1].lastTabbableNode:U=l.tabbableGroups[0].firstTabbableNode;else if($){var te=is(l.tabbableGroups,function(_){var X=_.firstTabbableNode;return A===X});if(te<0&&(z.container===A||mr(A,r.tabbableOptions)&&!Wn(A,r.tabbableOptions)&&!z.nextTabbableNode(A,!1))&&(te=Q),te>=0){var Z=te===0?l.tabbableGroups.length-1:te-1,le=l.tabbableGroups[Z];U=Tn(A)>=0?le.lastTabbableNode:le.lastDomTabbableNode}else Do(j)||(U=z.nextTabbableNode(A,!1))}else{var Ce=is(l.tabbableGroups,function(_){var X=_.lastTabbableNode;return A===X});if(Ce<0&&(z.container===A||mr(A,r.tabbableOptions)&&!Wn(A,r.tabbableOptions)&&!z.nextTabbableNode(A))&&(Ce=Q),Ce>=0){var Ae=Ce===l.tabbableGroups.length-1?0:Ce+1,ne=l.tabbableGroups[Ae];U=Tn(A)>=0?ne.firstTabbableNode:ne.firstDomTabbableNode}else Do(j)||(U=z.nextTabbableNode(A))}}else U=f("fallbackFocus");return U},w=function(v){var A=ei(v);if(!(u(A,v)>=0)){if(ko(r.clickOutsideDeactivates,v)){a.deactivate({returnFocus:r.returnFocusOnDeactivate});return}ko(r.allowOutsideClick,v)||v.preventDefault()}},b=function(v){var A=ei(v),j=u(A,v)>=0;if(j||A instanceof Document)j&&(l.mostRecentlyFocusedNode=A);else{v.stopImmediatePropagation();var W,$=!0;if(l.mostRecentlyFocusedNode)if(Tn(l.mostRecentlyFocusedNode)>0){var U=u(l.mostRecentlyFocusedNode),Q=l.containerGroups[U].tabbableNodes;if(Q.length>0){var z=Q.findIndex(function(te){return te===l.mostRecentlyFocusedNode});z>=0&&(r.isKeyForward(l.recentNavEvent)?z+1<Q.length&&(W=Q[z+1],$=!1):z-1>=0&&(W=Q[z-1],$=!1))}}else l.containerGroups.some(function(te){return te.tabbableNodes.some(function(Z){return Tn(Z)>0})})||($=!1);else $=!1;$&&(W=g({target:l.mostRecentlyFocusedNode,isBackward:r.isKeyBackward(l.recentNavEvent)})),p(W||l.mostRecentlyFocusedNode||c())}l.recentNavEvent=void 0},C=function(v){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;l.recentNavEvent=v;var j=g({event:v,isBackward:A});j&&(Do(v)&&v.preventDefault(),p(j))},N=function(v){if(dh(v)&&ko(r.escapeDeactivates,v)!==!1){v.preventDefault(),a.deactivate();return}(r.isKeyForward(v)||r.isKeyBackward(v))&&C(v,r.isKeyBackward(v))},F=function(v){var A=ei(v);u(A,v)>=0||ko(r.clickOutsideDeactivates,v)||ko(r.allowOutsideClick,v)||(v.preventDefault(),v.stopImmediatePropagation())},P=function(){if(l.active)return ns.activateTrap(i,a),l.delayInitialFocusTimer=r.delayInitialFocus?os(function(){p(c())}):p(c()),o.addEventListener("focusin",b,!0),o.addEventListener("mousedown",w,{capture:!0,passive:!1}),o.addEventListener("touchstart",w,{capture:!0,passive:!1}),o.addEventListener("click",F,{capture:!0,passive:!1}),o.addEventListener("keydown",N,{capture:!0,passive:!1}),a},D=function(){if(l.active)return o.removeEventListener("focusin",b,!0),o.removeEventListener("mousedown",w,!0),o.removeEventListener("touchstart",w,!0),o.removeEventListener("click",F,!0),o.removeEventListener("keydown",N,!0),a},H=function(v){var A=v.some(function(j){var W=Array.from(j.removedNodes);return W.some(function($){return $===l.mostRecentlyFocusedNode})});A&&p(c())},M=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(H):void 0,R=function(){M&&(M.disconnect(),l.active&&!l.paused&&l.containers.map(function(v){M.observe(v,{subtree:!0,childList:!0})}))};return a={get active(){return l.active},get paused(){return l.paused},activate:function(v){if(l.active)return this;var A=s(v,"onActivate"),j=s(v,"onPostActivate"),W=s(v,"checkCanFocusTrap");W||d(),l.active=!0,l.paused=!1,l.nodeFocusedBeforeActivation=o.activeElement,A==null||A();var $=function(){W&&d(),P(),R(),j==null||j()};return W?(W(l.containers.concat()).then($,$),this):($(),this)},deactivate:function(v){if(!l.active)return this;var A=ts({onDeactivate:r.onDeactivate,onPostDeactivate:r.onPostDeactivate,checkCanReturnFocus:r.checkCanReturnFocus},v);clearTimeout(l.delayInitialFocusTimer),l.delayInitialFocusTimer=void 0,D(),l.active=!1,l.paused=!1,R(),ns.deactivateTrap(i,a);var j=s(A,"onDeactivate"),W=s(A,"onPostDeactivate"),$=s(A,"checkCanReturnFocus"),U=s(A,"returnFocus","returnFocusOnDeactivate");j==null||j();var Q=function(){os(function(){U&&p(h(l.nodeFocusedBeforeActivation)),W==null||W()})};return U&&$?($(h(l.nodeFocusedBeforeActivation)).then(Q,Q),this):(Q(),this)},pause:function(v){if(l.paused||!l.active)return this;var A=s(v,"onPause"),j=s(v,"onPostPause");return l.paused=!0,A==null||A(),D(),R(),j==null||j(),this},unpause:function(v){if(!l.paused||!l.active)return this;var A=s(v,"onUnpause"),j=s(v,"onPostUnpause");return l.paused=!1,A==null||A(),d(),P(),R(),j==null||j(),this},updateContainerElements:function(v){var A=[].concat(v).filter(Boolean);return l.containers=A.map(function(j){return typeof j=="string"?o.querySelector(j):j}),l.active&&d(),R(),this}},a.updateContainerElements(e),a};function gh(t={}){let e;const{immediate:n,...o}=t,i=xe(!1),r=xe(!1),l=c=>e==null?void 0:e.activate(c),a=c=>{e==null||e.deactivate(c)},s=()=>{e&&(e.pause(),r.set(!0))},u=()=>{e&&(e.unpause(),r.set(!1))};return{useFocusTrap:c=>(e=_h(c,{...o,onActivate(){var d;i.set(!0),(d=t.onActivate)==null||d.call(t)},onDeactivate(){var d;i.set(!1),(d=t.onDeactivate)==null||d.call(t)}}),n&&l(),{destroy(){a(),e=void 0}}),hasFocus:Rl(i),isPaused:Rl(r),activate:l,deactivate:a,pause:s,unpause:u}}const ti=[];function bh(t,e){let n=nt;function o(){const r=ti.indexOf(t);r>=0&&ti.splice(r,1)}function i(r){n();const{open:l,onClose:a,shouldCloseOnInteractOutside:s,closeOnInteractOutside:u}=r;ul(100).then(()=>{l?ti.push(t):o()});function f(){return Em(ti)===t}function c(){f()&&a&&(a(),o())}function d(p){const h=p.target;Qi(h)&&h&&f()&&(p.preventDefault(),p.stopPropagation(),p.stopImmediatePropagation())}function m(p){s!=null&&s(p)&&f()&&(p.preventDefault(),p.stopPropagation(),p.stopImmediatePropagation(),c())}n=vh(t,{onInteractOutsideStart:d,onInteractOutside:u?m:void 0,enabled:l}).destroy}return i(e),{update:i,destroy(){o(),n()}}}const rc=(t,e="body")=>{let n;if(!wt(e)&&typeof e!="string")return{destroy:nt};async function o(r){if(e=r,typeof e=="string"){if(n=document.querySelector(e),n===null&&(await rl(),n=document.querySelector(e)),n===null)throw new Error(`No element found matching css selector: "${e}"`)}else if(e instanceof HTMLElement)n=e;else throw new TypeError(`Unknown portal target type: ${e===null?"null":typeof e}. Allowed types: string (CSS selector) or HTMLElement.`);t.dataset.portal="",n.appendChild(t),t.hidden=!1}function i(){t.remove()}return o(e),{update:o,destroy:i}};function vh(t,e){let n=nt,o=!1,i=!1,r=!1;function l(u){n();const{onInteractOutside:f,onInteractOutsideStart:c,enabled:d}=u;if(!d)return;function m(g){f&&rs(g,t)&&(c==null||c(g));const w=g.target;Qi(w)&&lc(t,w)&&(i=!0),o=!0}function p(g){f==null||f(g)}const h=yh(t);if(typeof PointerEvent<"u"){const g=w=>{a(w)&&p(w),s()};n=Bt(pt(h,"pointerdown",m,!0),pt(h,"pointerup",g,!0))}else{const g=b=>{r?r=!1:a(b)&&p(b),s()},w=b=>{r=!0,a(b)&&p(b),s()};n=Bt(pt(h,"mousedown",m,!0),pt(h,"mouseup",g,!0),pt(h,"touchstart",m,!0),pt(h,"touchend",w,!0))}}function a(u){return!!(o&&!i&&rs(u,t))}function s(){o=!1,i=!1}return l(e),{update:l,destroy:n}}function rs(t,e){if("button"in t&&t.button>0)return!1;const n=t.target;if(!Qi(n))return!1;const o=n.ownerDocument;return!o||!o.documentElement.contains(n)?!1:e&&!lc(e,n)}function lc(t,e){return t===e||t.contains(e)}function yh(t){return(t==null?void 0:t.ownerDocument)??document}On(!1),On(!1),On(void 0);function wh(){return{elements:{root:dt("label",{action:e=>({destroy:gt(e,"mousedown",o=>{!o.defaultPrevented&&o.detail>1&&o.preventDefault()})})})}}}const{name:kn}=Zi("dialog"),kh={preventScroll:!0,closeOnEscape:!0,closeOnOutsideClick:!0,role:"dialog",defaultOpen:!1,portal:void 0,forceVisible:!1,openFocus:void 0,closeFocus:void 0,onOutsideClick:void 0},Ch=["content","title","description"];function sc(t){const e={...kh,...t},n=Pn(zi(e,"ids")),{preventScroll:o,closeOnEscape:i,closeOnOutsideClick:r,role:l,portal:a,forceVisible:s,openFocus:u,closeFocus:f,onOutsideClick:c}=n,d=Jt.writable(null),m=Pn({...fl(Ch),...e.ids}),p=e.open??xe(e.defaultOpen),h=er(p,e==null?void 0:e.onOpenChange),g=nn([h,s],([S,v])=>S||v);let w=nt;function b(S){const v=S.currentTarget,A=S.currentTarget;!wt(v)||!wt(A)||(h.set(!0),d.set(A))}function C(){h.set(!1),Ul({prop:f.get(),defaultEl:d.get()})}const N=dt(kn("trigger"),{stores:[h],returned:([S])=>({"aria-haspopup":"dialog","aria-expanded":S,type:"button"}),action:S=>({destroy:Bt(gt(S,"click",A=>{b(A)}),gt(S,"keydown",A=>{A.key!==at.ENTER&&A.key!==at.SPACE||(A.preventDefault(),b(A))}))})}),F=dt(kn("overlay"),{stores:[g,h],returned:([S,v])=>({hidden:S?void 0:!0,tabindex:-1,style:cn({display:S?void 0:"none"}),"aria-hidden":!0,"data-state":v?"open":"closed"}),action:S=>{let v=nt;if(i.get()){const A=Kl(S,{handler:()=>{C()}});A&&A.destroy&&(v=A.destroy)}return{destroy(){v()}}}}),P=dt(kn("content"),{stores:[g,m.content,m.description,m.title,h],returned:([S,v,A,j,W])=>({id:v,role:l.get(),"aria-describedby":A,"aria-labelledby":j,"aria-modal":S?"true":void 0,"data-state":W?"open":"closed",tabindex:-1,hidden:S?void 0:!0,style:cn({display:S?void 0:"none"})}),action:S=>{let v=nt,A=nt;const j=Bt(Mt([h],([W])=>{if(!W)return;const $=gh({immediate:!1,escapeDeactivates:!0,clickOutsideDeactivates:!0,returnFocusOnDeactivate:!1,fallbackFocus:S});v=$.activate,A=$.deactivate;const U=$.useFocusTrap(S);return U&&U.destroy?U.destroy:$.deactivate}),Mt([r,h],([W,$])=>bh(S,{open:$,closeOnInteractOutside:W,onClose(){C()},shouldCloseOnInteractOutside(U){var Q;return(Q=c.get())==null||Q(U),!U.defaultPrevented}}).destroy),Mt([i],([W])=>{if(!W)return nt;const $=Kl(S,{handler:()=>{C()}});return $&&$.destroy?$.destroy:nt}),Mt([g],([W])=>{rl().then(()=>{W?v():A()})}));return{destroy:()=>{w(),j()}}}}),D=dt(kn("portalled"),{stores:a,returned:S=>({"data-portal":jf(S)}),action:S=>{const v=Mt([a],([A])=>{if(A===null)return nt;const j=Gf(S,A);if(j===null)return nt;const W=rc(S,j);return W&&W.destroy?W.destroy:nt});return{destroy(){v()}}}}),H=dt(kn("title"),{stores:[m.title],returned:([S])=>({id:S})}),M=dt(kn("description"),{stores:[m.description],returned:([S])=>({id:S})}),R=dt(kn("close"),{returned:()=>({type:"button"}),action:S=>({destroy:Bt(gt(S,"click",()=>{C()}),gt(S,"keydown",A=>{A.key!==at.SPACE&&A.key!==at.ENTER||(A.preventDefault(),C())}))})});return Mt([h,o],([S,v])=>{if(jo){if(v&&S&&(w=ep()),S){const A=document.getElementById(m.content.get());Ul({prop:u.get(),defaultEl:A})}return()=>{s.get()||w()}}}),{ids:m,elements:{content:P,trigger:N,title:H,description:M,overlay:F,close:R,portalled:D},states:{open:h},options:n}}const Th={defaultValue:0,max:100},{name:Ah}=Zi("progress"),Sh=t=>{const e={...Th,...t},n=Pn(zi(e,"value")),{max:o}=n,i=e.value??xe(e.defaultValue),r=er(i,e==null?void 0:e.onValueChange);return{elements:{root:dt(Ah(),{stores:[r,o],returned:([a,s])=>({value:a,max:s,role:"meter","aria-valuemin":0,"aria-valuemax":s,"aria-valuenow":a,"data-value":a,"data-state":a===null?"indeterminate":a===s?"complete":"loading","data-max":s})})},states:{value:r},options:n}},Ih={orientation:"horizontal",decorative:!1},Oh=t=>{const e={...Ih,...t},n=Pn(e),{orientation:o,decorative:i}=n;return{elements:{root:dt("separator",{stores:[o,i],returned:([l,a])=>({role:a?"none":"separator","aria-orientation":l==="vertical"?l:void 0,"aria-hidden":a,"data-orientation":l})})},options:n}},Mh={defaultValue:[],min:0,max:100,step:1,orientation:"horizontal",dir:"ltr",disabled:!1},{name:ni}=Zi("slider"),Ph=t=>{const e={...Mh,...t},n=Pn(zi(e,"value","onValueChange","defaultValue")),{min:o,max:i,step:r,orientation:l,dir:a,disabled:s}=n,u=e.value??xe(e.defaultValue),f=er(u,e==null?void 0:e.onValueChange),c=Jt(xe(!1)),d=Jt(xe(0)),m=Jt(xe(null)),p=fl(["root"]),h=(D,H)=>{f.update(M=>{if(!M)return[D];if(M[H]===D)return M;const R=[...M],S=R[H]>D?-1:1;function v(){R[H]=R[H+S],R[H+S]=D;const $=g();$&&($[H+S].focus(),m.set({thumb:$[H+S],index:H+S}))}if(S===-1&&D<R[H-1])return v(),R;if(S===1&&D>R[H+1])return v(),R;const A=o.get(),j=i.get(),W=r.get();return R[H]=dr(D,A,j,W),R})},g=()=>{const D=fr(p.root);return D?Array.from(D.querySelectorAll('[data-melt-part="thumb"]')).filter(H=>wt(H)):null},w=nn([o,i],([D,H])=>M=>(M-D)/(H-D)*100),b=Jt.derived([l,a],([D,H])=>D==="horizontal"?H==="rtl"?"rl":"lr":H==="rtl"?"tb":"bt"),C=dt(ni(),{stores:[s,l,a],returned:([D,H,M])=>({dir:M,disabled:ur(D),"data-disabled":ur(D),"data-orientation":H,style:D?void 0:`touch-action: ${H==="horizontal"?"pan-y":"pan-x"}`,"data-melt-id":p.root})}),N=dt(ni("range"),{stores:[f,b,w],returned:([D,H,M])=>{const R=D.length>1?M(Math.min(...D)??0):0,S=100-M(Math.max(...D)??0),v={position:"absolute"};switch(H){case"lr":{v.left=`${R}%`,v.right=`${S}%`;break}case"rl":{v.right=`${R}%`,v.left=`${S}%`;break}case"bt":{v.bottom=`${R}%`,v.top=`${S}%`;break}case"tb":{v.top=`${R}%`,v.bottom=`${S}%`;break}}return{style:cn(v)}}}),F=Vl(ni("thumb"),{stores:[f,w,o,i,s,l,b],returned:([D,H,M,R,S,v,A])=>Array.from({length:D.length||1},(W,$)=>{d.get()<D.length&&d.update(Z=>Z+1);const Q=D[$],z=`${H(Q)}%`,te={position:"absolute"};switch(A){case"lr":{te.left=z,te.translate="-50% 0";break}case"rl":{te.right=z,te.translate="50% 0";break}case"bt":{te.bottom=z,te.translate="0 50%";break}case"tb":{te.top=z,te.translate="0 -50%";break}}return{role:"slider","aria-valuemin":M,"aria-valuemax":R,"aria-valuenow":Q,"aria-disabled":ur(S),"aria-orientation":v,"data-melt-part":"thumb","data-value":Q,style:cn(te),tabindex:S?-1:0}}),action:D=>({destroy:gt(D,"keydown",M=>{if(s.get())return;const R=M.currentTarget;if(!wt(R))return;const S=g();if(!(S!=null&&S.length))return;const v=S.indexOf(R);if(d.set(v),![at.ARROW_LEFT,at.ARROW_RIGHT,at.ARROW_UP,at.ARROW_DOWN,at.HOME,at.END].includes(M.key))return;M.preventDefault();const A=o.get(),j=i.get(),W=r.get(),$=f.get(),U=l.get(),Q=b.get(),z=$[v];switch(M.key){case at.HOME:{h(A,v);break}case at.END:{h(j,v);break}case at.ARROW_LEFT:{if(U!=="horizontal")break;M.metaKey?h(Q==="rl"?j:A,v):Q==="rl"&&z<j?h(z+W,v):Q==="lr"&&z>A&&h(z-W,v);break}case at.ARROW_RIGHT:{if(U!=="horizontal")break;M.metaKey?h(Q==="rl"?A:j,v):Q==="rl"&&z>A?h(z-W,v):Q==="lr"&&z<j&&h(z+W,v);break}case at.ARROW_UP:{M.metaKey?h(Q==="tb"?A:j,v):Q==="tb"&&z>A?h(z-W,v):Q!=="tb"&&z<j&&h(z+W,v);break}case at.ARROW_DOWN:{M.metaKey?h(Q==="tb"?j:A,v):Q==="tb"&&z<j?h(z+W,v):Q!=="tb"&&z>A&&h(z-W,v);break}}})})}),P=Vl(ni("tick"),{stores:[f,o,i,r,b],returned:([D,H,M,R,S])=>{const v=M-H;let A=Math.ceil(v/R);return v%R==0&&A++,Array.from({length:A},(j,W)=>{const $=`${W*(R/(M-H))*100}%`,U=W===0,Q=W===A-1,z=U?0:Q?-100:-50,te={position:"absolute"};switch(S){case"lr":{te.left=$,te.translate=`${z}% 0`;break}case"rl":{te.right=$,te.translate=`${-z}% 0`;break}case"bt":{te.bottom=$,te.translate=`0 ${-z}%`;break}case"tb":{te.top=$,te.translate=`0 ${z}%`;break}}const Z=H+W*R;return{"data-bounded":(D.length===1?Z<=D[0]:D[0]<=Z&&Z<=D[D.length-1])?!0:void 0,"data-value":Z,style:cn(te)}})}});return Mt([C,o,i,s,l,b,r],([D,H,M,R,S,v,A])=>{if(!jo||R)return;const j=(te,Z,le,Ce)=>{const ne=(te-le)/(Ce-le)*(M-H)+H;if(ne<H)h(H,Z);else if(ne>M)h(M,Z);else{const _=A,X=H,K=Math.floor((ne-X)/_),re=X+K*_+_/2,we=X+(K+1)*_+_/2,Oe=ne>=re&&ne<we?(K+1)*_+X:K*_+X;Oe<=M&&h(Oe,Z)}},W=te=>{const Z=g();if(!Z)return;Z.forEach(ne=>ne.blur());const le=Z.map(ne=>{if(S==="horizontal"){const{left:_,right:X}=ne.getBoundingClientRect();return Math.abs(te.clientX-(_+X)/2)}else{const{top:_,bottom:X}=ne.getBoundingClientRect();return Math.abs(te.clientY-(_+X)/2)}}),Ce=Z[le.indexOf(Math.min(...le))],Ae=Z.indexOf(Ce);return{thumb:Ce,index:Ae}},$=te=>{if(!c.get())return;te.preventDefault(),te.stopPropagation();const Z=fr(D["data-melt-id"]),le=m.get();if(!Z||!le)return;le.thumb.focus();const{left:Ce,right:Ae,top:ne,bottom:_}=Z.getBoundingClientRect();switch(v){case"lr":{j(te.clientX,le.index,Ce,Ae);break}case"rl":{j(te.clientX,le.index,Ae,Ce);break}case"bt":{j(te.clientY,le.index,_,ne);break}case"tb":{j(te.clientY,le.index,ne,_);break}}},U=te=>{if(te.button!==0)return;const Z=fr(D["data-melt-id"]),le=W(te);if(!le||!Z)return;const Ce=te.target;!wt(Ce)||!Z.contains(Ce)||(te.preventDefault(),m.set(le),le.thumb.focus(),c.set(!0),$(te))},Q=()=>{c.set(!1)},z=Bt(pt(document,"pointerdown",U),pt(document,"pointerup",Q),pt(document,"pointerleave",Q),pt(document,"pointermove",$));return()=>{z()}}),Mt([r,o,i,f],function([H,M,R,S]){const v=j=>dr(j,M,R,H)===j,A=j=>dr(j,M,R,H);S.some(j=>!v(j))&&f.update(j=>j.map(A))}),{elements:{root:C,thumbs:F,range:N,ticks:P},states:{value:f},options:n}},Nh={positioning:{placement:"bottom"},arrowSize:8,defaultOpen:!1,closeOnPointerDown:!0,openDelay:1e3,closeDelay:0,forceVisible:!1,portal:void 0,closeOnEscape:!0,disableHoverableContent:!1,group:void 0},{name:pr}=Zi("tooltip"),oi=new Map,Eh=["trigger","content"];function Rh(t){const e={...Nh,...t},n=Pn(zi(e,"open","ids")),{positioning:o,arrowSize:i,closeOnPointerDown:r,openDelay:l,closeDelay:a,forceVisible:s,portal:u,closeOnEscape:f,disableHoverableContent:c,group:d}=n,m=e.open??xe(e.defaultOpen),p=er(m,e==null?void 0:e.onOpenChange),h=xe(null),g=Pn({...fl(Eh),...e.ids});let w=!1;const b=v=>jo?document.getElementById(g[v].get()):null;let C=null,N=null;function F(v){N&&(window.clearTimeout(N),N=null),C||(C=window.setTimeout(()=>{p.set(!0),h.update(A=>A??v),C=null},l.get()))}function P(v){if(C&&(window.clearTimeout(C),C=null),v&&S){h.set("pointer");return}N||(N=window.setTimeout(()=>{p.set(!1),h.set(null),v&&(w=!1),N=null},a.get()))}const D=nn([p,s],([v,A])=>v||A),H=dt(pr("trigger"),{stores:[g.content,g.trigger,p],returned:([v,A,j])=>({"aria-describedby":v,id:A,"data-state":j?"open":"closed"}),action:v=>{const A=W=>{f.get()&&W.key===at.ESCAPE&&(C&&(window.clearTimeout(C),C=null),p.set(!1))};return{destroy:Bt(gt(v,"pointerdown",()=>{r.get()&&(p.set(!1),w=!0,C&&(window.clearTimeout(C),C=null))}),gt(v,"pointerenter",W=>{xl(W)||F("pointer")}),gt(v,"pointerleave",W=>{xl(W)||C&&(window.clearTimeout(C),C=null)}),gt(v,"focus",()=>{w||F("focus")}),gt(v,"blur",async()=>{await ul(0),P(!0)}),gt(v,"keydown",A),pt(document,"keydown",A))}}}),M=dt(pr("content"),{stores:[D,p,u,g.content],returned:([v,A,j,W])=>({role:"tooltip",hidden:v?void 0:!0,tabindex:-1,style:cn({display:v?void 0:"none"}),id:W,"data-portal":jf(j),"data-state":A?"open":"closed"}),action:v=>{let A=nt,j=nt;const W=Mt([D,o,u],([Q,z,te])=>{const Z=b("trigger");if(!Q||!Z){j(),A();return}if(A=Vp(Z,v,z).destroy,te===null){j();return}const Ce=Gf(v,te);if(Ce){const Ae=rc(v,Ce);Ae&&Ae.destroy&&(j=Ae.destroy)}});function $(Q){if(!p.get())return;const z=Q.target;if(!Qi(z)&&!Rm(z))return;const te=b("trigger");te&&z.contains(te)&&P()}const U=Bt(gt(v,"pointerenter",()=>F("pointer")),gt(v,"pointerdown",()=>F("pointer")),pt(window,"scroll",$,{capture:!0}));return{destroy(){U(),j(),A(),W()}}}}),R=dt(pr("arrow"),{stores:i,returned:v=>({"data-arrow":!0,style:cn({position:"absolute",width:`var(--arrow-size, ${v}px)`,height:`var(--arrow-size, ${v}px)`})})});let S=!1;return Mt(p,v=>{const A=d.get();if(A===void 0||A===!1)return;if(!v){oi.get(A)===p&&oi.delete(A);return}const j=oi.get(A);j==null||j.set(!1),oi.set(A,p)}),Mt([p,h],([v,A])=>{if(!(!v||!jo))return Bt(pt(document,"mousemove",j=>{const W=b("content"),$=b("trigger");if(!W||!$)return;const U=c.get()?[$]:[$,W],Q=Jm(U);S=Zm({x:j.clientX,y:j.clientY},Q),A==="pointer"&&(S||P())}))}),{ids:g,elements:{trigger:H,content:M,arrow:R},states:{open:p},options:n}}function $n(t,e){const n={};return e.forEach(o=>{n[o]={[`data-${t}-${o}`]:""}}),o=>n[o]}function Fn(){const t=kd();return e=>{const{originalEvent:n}=e.detail,{cancelable:o}=e,i=n.type;t(i,{originalEvent:n,currentTarget:n.currentTarget},{cancelable:o})||e.preventDefault()}}function co(t){const e={};for(const n in t){const o=t[n];o!==void 0&&(e[n]=o)}return e}function Rn(t){return function(e,n){if(n===void 0)return;const o=t[e];o&&o.set(n)}}function ac(){return{NAME:"alert-dialog",PARTS:["action","cancel","content","description","overlay","portal","title","trigger"]}}function Lh(t){const{NAME:e,PARTS:n}=ac(),o=$n(e,n),i=sc({...co(t),role:"alertdialog",forceVisible:!0}),r={...i,getAttrs:o,updateOption:Rn(i.options)};return Xi(e,r),{...r,updateOption:Rn(r.options),getAttrs:o}}function jn(){const{NAME:t}=ac();return Ji(t)}const Dh=t=>({ids:t&1}),ls=t=>({ids:t[0]});function $h(t){let e;const n=t[12].default,o=pe(n,t,t[11],ls);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,[r]){o&&o.p&&(!e||r&2049)&&_e(o,n,i,i[11],e?he(n,i[11],r,Dh):ge(i[11]),ls)},i(i){e||(k(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function Fh(t,e,n){let o,{$$slots:i={},$$scope:r}=e,{preventScroll:l=void 0}=e,{closeOnEscape:a=void 0}=e,{closeOnOutsideClick:s=!1}=e,{portal:u=void 0}=e,{open:f=void 0}=e,{onOpenChange:c=void 0}=e,{openFocus:d=void 0}=e,{closeFocus:m=void 0}=e,{onOutsideClick:p=void 0}=e;const{states:{open:h},updateOption:g,ids:w}=Lh({closeOnEscape:a,preventScroll:l,closeOnOutsideClick:s,portal:u,forceVisible:!0,defaultOpen:f,openFocus:d,closeFocus:m,onOutsideClick:p,onOpenChange:({next:C})=>(f!==C&&(c==null||c(C),n(2,f=C)),C)}),b=nn([w.content,w.description,w.title],([C,N,F])=>({content:C,description:N,title:F}));return ae(t,b,C=>n(0,o=C)),t.$$set=C=>{"preventScroll"in C&&n(3,l=C.preventScroll),"closeOnEscape"in C&&n(4,a=C.closeOnEscape),"closeOnOutsideClick"in C&&n(5,s=C.closeOnOutsideClick),"portal"in C&&n(6,u=C.portal),"open"in C&&n(2,f=C.open),"onOpenChange"in C&&n(7,c=C.onOpenChange),"openFocus"in C&&n(8,d=C.openFocus),"closeFocus"in C&&n(9,m=C.closeFocus),"onOutsideClick"in C&&n(10,p=C.onOutsideClick),"$$scope"in C&&n(11,r=C.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&f!==void 0&&h.set(f),t.$$.dirty&8&&g("preventScroll",l),t.$$.dirty&16&&g("closeOnEscape",a),t.$$.dirty&32&&g("closeOnOutsideClick",s),t.$$.dirty&64&&g("portal",u),t.$$.dirty&256&&g("openFocus",d),t.$$.dirty&512&&g("closeFocus",m),t.$$.dirty&1024&&g("onOutsideClick",p)},[o,b,f,l,a,s,u,c,d,m,p,r,i]}class jh extends me{constructor(e){super(),de(this,e,Fh,$h,ce,{preventScroll:3,closeOnEscape:4,closeOnOutsideClick:5,portal:6,open:2,onOpenChange:7,openFocus:8,closeFocus:9,onOutsideClick:10})}}const qh=t=>({builder:t&8}),ss=t=>({builder:t[3]}),Bh=t=>({builder:t&8}),as=t=>({builder:t[3]});function Hh(t){let e=t[1],n,o,i=t[1]&&hr(t);return{c(){i&&i.c(),n=Re()},m(r,l){i&&i.m(r,l),O(r,n,l),o=!0},p(r,l){r[1]?e?ce(e,r[1])?(i.d(1),i=hr(r),e=r[1],i.c(),i.m(n.parentNode,n)):i.p(r,l):(i=hr(r),e=r[1],i.c(),i.m(n.parentNode,n)):e&&(i.d(1),i=null,e=r[1])},i(r){o||(k(i,r),o=!0)},o(r){T(i,r),o=!1},d(r){r&&I(n),i&&i.d(r)}}}function Gh(t){let e;const n=t[9].default,o=pe(n,t,t[8],as);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&264)&&_e(o,n,i,i[8],e?he(n,i[8],r,Bh):ge(i[8]),as)},i(i){e||(k(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function hr(t){let e,n,o,i;const r=t[9].default,l=pe(r,t,t[8],ss);let a=[t[3],t[5]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=E(t[1]),l&&l.c(),dn(t[1])(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[10](e),n=!0,o||(i=je(t[3].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&264)&&_e(l,r,u,u[8],n?he(r,u[8],f,qh):ge(u[8]),ss),dn(u[1])(e,s=ye(a,[f&8&&u[3],f&32&&u[5]]))},i(u){n||(k(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&I(e),l&&l.d(u),t[10](null),o=!1,i()}}}function Wh(t){let e,n,o,i;const r=[Gh,Hh],l=[];function a(s,u){return s[2]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Se(),T(l[f],1,1,()=>{l[f]=null}),Ie(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){T(n),i=!1},d(s){s&&I(o),l[e].d(s)}}}function Vh(t,e,n){let o;const i=["level","asChild","id","el"];let r=se(e,i),l,{$$slots:a={},$$scope:s}=e,{level:u="h2"}=e,{asChild:f=!1}=e,{id:c=void 0}=e,{el:d=void 0}=e;const{elements:{title:m},ids:p,getAttrs:h}=jn();ae(t,m,b=>n(7,l=b));const g=h("title");function w(b){Ne[b?"unshift":"push"](()=>{d=b,n(0,d)})}return t.$$set=b=>{e=J(J({},e),Le(b)),n(5,r=se(e,i)),"level"in b&&n(1,u=b.level),"asChild"in b&&n(2,f=b.asChild),"id"in b&&n(6,c=b.id),"el"in b&&n(0,d=b.el),"$$scope"in b&&n(8,s=b.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&c&&p.title.set(c),t.$$.dirty&128&&n(3,o=l),t.$$.dirty&8&&Object.assign(o,g)},[d,u,f,o,m,r,c,l,s,a,w]}let xh=class extends me{constructor(e){super(),de(this,e,Vh,Wh,ce,{level:1,asChild:2,id:6,el:0})}};const Yh=t=>({builder:t&4}),us=t=>({builder:t[2]}),Uh=t=>({builder:t&4}),fs=t=>({builder:t[2]});function Kh(t){let e,n,o,i;const r=t[8].default,l=pe(r,t,t[7],us);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=E("button"),l&&l.c(),ue(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[9](e),n=!0,o||(i=[je(t[2].action(e)),ee(e,"m-click",t[4]),ee(e,"m-keydown",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&_e(l,r,u,u[7],n?he(r,u[7],f,Yh):ge(u[7]),us),ue(e,s=ye(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(k(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&I(e),l&&l.d(u),t[9](null),o=!1,Be(i)}}}function Xh(t){let e;const n=t[8].default,o=pe(n,t,t[7],fs);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&_e(o,n,i,i[7],e?he(n,i[7],r,Uh):ge(i[7]),fs)},i(i){e||(k(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function Jh(t){let e,n,o,i;const r=[Xh,Kh],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Se(),T(l[f],1,1,()=>{l[f]=null}),Ie(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){T(n),i=!1},d(s){s&&I(o),l[e].d(s)}}}function Zh(t,e,n){let o;const i=["asChild","el"];let r=se(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:d}=jn();ae(t,c,g=>n(6,l=g));const m=Fn(),p=d("action");function h(g){Ne[g?"unshift":"push"](()=>{f=g,n(0,f)})}return t.$$set=g=>{e=J(J({},e),Le(g)),n(5,r=se(e,i)),"asChild"in g&&n(1,u=g.asChild),"el"in g&&n(0,f=g.el),"$$scope"in g&&n(7,s=g.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,p)},[f,u,o,c,m,r,l,s,a,h]}let Qh=class extends me{constructor(e){super(),de(this,e,Zh,Jh,ce,{asChild:1,el:0})}};const zh=t=>({builder:t&4}),cs=t=>({builder:t[2]}),e_=t=>({builder:t&4}),ds=t=>({builder:t[2]});function t_(t){let e,n,o,i;const r=t[8].default,l=pe(r,t,t[7],cs);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=E("button"),l&&l.c(),ue(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[9](e),n=!0,o||(i=[je(t[2].action(e)),ee(e,"m-click",t[4]),ee(e,"m-keydown",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&_e(l,r,u,u[7],n?he(r,u[7],f,zh):ge(u[7]),cs),ue(e,s=ye(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(k(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&I(e),l&&l.d(u),t[9](null),o=!1,Be(i)}}}function n_(t){let e;const n=t[8].default,o=pe(n,t,t[7],ds);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&_e(o,n,i,i[7],e?he(n,i[7],r,e_):ge(i[7]),ds)},i(i){e||(k(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function o_(t){let e,n,o,i;const r=[n_,t_],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Se(),T(l[f],1,1,()=>{l[f]=null}),Ie(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){T(n),i=!1},d(s){s&&I(o),l[e].d(s)}}}function i_(t,e,n){let o;const i=["asChild","el"];let r=se(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:d}=jn();ae(t,c,g=>n(6,l=g));const m=Fn(),p=d("cancel");function h(g){Ne[g?"unshift":"push"](()=>{f=g,n(0,f)})}return t.$$set=g=>{e=J(J({},e),Le(g)),n(5,r=se(e,i)),"asChild"in g&&n(1,u=g.asChild),"el"in g&&n(0,f=g.el),"$$scope"in g&&n(7,s=g.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,p)},[f,u,o,c,m,r,l,s,a,h]}let r_=class extends me{constructor(e){super(),de(this,e,i_,o_,ce,{asChild:1,el:0})}};const l_=t=>({builder:t&4}),ms=t=>({builder:t[2]}),s_=t=>({builder:t&4}),ps=t=>({builder:t[2]});function a_(t){let e,n,o,i;const r=t[7].default,l=pe(r,t,t[6],ms);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=E("div"),l&&l.c(),ue(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[8](e),n=!0,o||(i=je(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&68)&&_e(l,r,u,u[6],n?he(r,u[6],f,l_):ge(u[6]),ms),ue(e,s=ye(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(k(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&I(e),l&&l.d(u),t[8](null),o=!1,i()}}}function u_(t){let e;const n=t[7].default,o=pe(n,t,t[6],ps);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&68)&&_e(o,n,i,i[6],e?he(n,i[6],r,s_):ge(i[6]),ps)},i(i){e||(k(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function f_(t){let e,n,o,i;const r=[u_,a_],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Se(),T(l[f],1,1,()=>{l[f]=null}),Ie(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){T(n),i=!1},d(s){s&&I(o),l[e].d(s)}}}function c_(t,e,n){let o;const i=["asChild","el"];let r=se(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{portalled:c},getAttrs:d}=jn();ae(t,c,h=>n(5,l=h));const m=d("portal");function p(h){Ne[h?"unshift":"push"](()=>{f=h,n(0,f)})}return t.$$set=h=>{e=J(J({},e),Le(h)),n(4,r=se(e,i)),"asChild"in h&&n(1,u=h.asChild),"el"in h&&n(0,f=h.el),"$$scope"in h&&n(6,s=h.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,m)},[f,u,o,c,r,l,s,a,p]}let d_=class extends me{constructor(e){super(),de(this,e,c_,f_,ce,{asChild:1,el:0})}};const m_=t=>({builder:t[0]&256}),hs=t=>({builder:t[8]}),p_=t=>({builder:t[0]&256}),_s=t=>({builder:t[8]}),h_=t=>({builder:t[0]&256}),gs=t=>({builder:t[8]}),__=t=>({builder:t[0]&256}),bs=t=>({builder:t[8]}),g_=t=>({builder:t[0]&256}),vs=t=>({builder:t[8]}),b_=t=>({builder:t[0]&256}),ys=t=>({builder:t[8]});function v_(t){let e,n,o,i;const r=t[16].default,l=pe(r,t,t[15],hs);let a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=E("div"),l&&l.c(),ue(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[56](e),n=!0,o||(i=[je(t[8].action(e)),ee(e,"pointerdown",t[45]),ee(e,"pointermove",t[46]),ee(e,"pointerup",t[47]),ee(e,"touchend",t[48]),ee(e,"touchstart",t[49]),ee(e,"touchcancel",t[50]),ee(e,"touchmove",t[51])],o=!0)},p(u,f){l&&l.p&&(!n||f[0]&33024)&&_e(l,r,u,u[15],n?he(r,u[15],f,m_):ge(u[15]),hs),ue(e,s=ye(a,[f[0]&256&&u[8],f[0]&4096&&u[12]]))},i(u){n||(k(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&I(e),l&&l.d(u),t[56](null),o=!1,Be(i)}}}function y_(t){let e,n,o,i,r;const l=t[16].default,a=pe(l,t,t[15],_s);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=J(u,s[f]);return{c(){e=E("div"),a&&a.c(),ue(e,u)},m(f,c){O(f,e,c),a&&a.m(e,null),t[55](e),o=!0,i||(r=[je(t[8].action(e)),ee(e,"pointerdown",t[38]),ee(e,"pointermove",t[39]),ee(e,"pointerup",t[40]),ee(e,"touchend",t[41]),ee(e,"touchstart",t[42]),ee(e,"touchcancel",t[43]),ee(e,"touchmove",t[44])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&_e(a,l,t,t[15],o?he(l,t[15],c,p_):ge(t[15]),_s),ue(e,u=ye(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(k(a,f),n&&n.end(1),o=!0)},o(f){T(a,f),f&&(n=Vt(e,t[5],t[6])),o=!1},d(f){f&&I(e),a&&a.d(f),t[55](null),f&&n&&n.end(),i=!1,Be(r)}}}function w_(t){let e,n,o,i,r;const l=t[16].default,a=pe(l,t,t[15],gs);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=J(u,s[f]);return{c(){e=E("div"),a&&a.c(),ue(e,u)},m(f,c){O(f,e,c),a&&a.m(e,null),t[54](e),o=!0,i||(r=[je(t[8].action(e)),ee(e,"pointerdown",t[31]),ee(e,"pointermove",t[32]),ee(e,"pointerup",t[33]),ee(e,"touchend",t[34]),ee(e,"touchstart",t[35]),ee(e,"touchcancel",t[36]),ee(e,"touchmove",t[37])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&_e(a,l,t,t[15],o?he(l,t[15],c,h_):ge(t[15]),gs),ue(e,u=ye(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(k(a,f),f&&(n||it(()=>{n=Wt(e,t[3],t[4]),n.start()})),o=!0)},o(f){T(a,f),o=!1},d(f){f&&I(e),a&&a.d(f),t[54](null),i=!1,Be(r)}}}function k_(t){let e,n,o,i,r,l;const a=t[16].default,s=pe(a,t,t[15],bs);let u=[t[8],t[12]],f={};for(let c=0;c<u.length;c+=1)f=J(f,u[c]);return{c(){e=E("div"),s&&s.c(),ue(e,f)},m(c,d){O(c,e,d),s&&s.m(e,null),t[53](e),i=!0,r||(l=[je(t[8].action(e)),ee(e,"pointerdown",t[24]),ee(e,"pointermove",t[25]),ee(e,"pointerup",t[26]),ee(e,"touchend",t[27]),ee(e,"touchstart",t[28]),ee(e,"touchcancel",t[29]),ee(e,"touchmove",t[30])],r=!0)},p(c,d){t=c,s&&s.p&&(!i||d[0]&33024)&&_e(s,a,t,t[15],i?he(a,t[15],d,__):ge(t[15]),bs),ue(e,f=ye(u,[d[0]&256&&t[8],d[0]&4096&&t[12]]))},i(c){i||(k(s,c),c&&it(()=>{i&&(o&&o.end(1),n=Wt(e,t[3],t[4]),n.start())}),i=!0)},o(c){T(s,c),n&&n.invalidate(),c&&(o=Vt(e,t[5],t[6])),i=!1},d(c){c&&I(e),s&&s.d(c),t[53](null),c&&o&&o.end(),r=!1,Be(l)}}}function C_(t){let e,n,o,i,r;const l=t[16].default,a=pe(l,t,t[15],vs);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=J(u,s[f]);return{c(){e=E("div"),a&&a.c(),ue(e,u)},m(f,c){O(f,e,c),a&&a.m(e,null),t[52](e),o=!0,i||(r=[je(t[8].action(e)),ee(e,"pointerdown",t[17]),ee(e,"pointermove",t[18]),ee(e,"pointerup",t[19]),ee(e,"touchend",t[20]),ee(e,"touchstart",t[21]),ee(e,"touchcancel",t[22]),ee(e,"touchmove",t[23])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&_e(a,l,t,t[15],o?he(l,t[15],c,g_):ge(t[15]),vs),ue(e,u=ye(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(k(a,f),f&&it(()=>{o&&(n||(n=bt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(f){T(a,f),f&&(n||(n=bt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(f){f&&I(e),a&&a.d(f),t[52](null),f&&n&&n.end(),i=!1,Be(r)}}}function T_(t){let e;const n=t[16].default,o=pe(n,t,t[15],ys);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r[0]&33024)&&_e(o,n,i,i[15],e?he(n,i[15],r,b_):ge(i[15]),ys)},i(i){e||(k(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function A_(t){let e,n,o,i;const r=[T_,C_,k_,w_,y_,v_],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=Re()},m(s,u){~e&&l[e].m(s,u),O(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Se(),T(l[f],1,1,()=>{l[f]=null}),Ie()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(k(n),i=!0)},o(s){T(n),i=!1},d(s){s&&I(o),~e&&l[e].d(s)}}}function S_(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","id","asChild","el"];let r=se(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:p=void 0}=e,{outTransitionConfig:h=void 0}=e,{id:g=void 0}=e,{asChild:w=!1}=e,{el:b=void 0}=e;const{elements:{content:C},states:{open:N},ids:F,getAttrs:P}=jn();ae(t,C,B=>n(14,l=B)),ae(t,N,B=>n(9,a=B));const D=P("content");function H(B){ie.call(this,t,B)}function M(B){ie.call(this,t,B)}function R(B){ie.call(this,t,B)}function S(B){ie.call(this,t,B)}function v(B){ie.call(this,t,B)}function A(B){ie.call(this,t,B)}function j(B){ie.call(this,t,B)}function W(B){ie.call(this,t,B)}function $(B){ie.call(this,t,B)}function U(B){ie.call(this,t,B)}function Q(B){ie.call(this,t,B)}function z(B){ie.call(this,t,B)}function te(B){ie.call(this,t,B)}function Z(B){ie.call(this,t,B)}function le(B){ie.call(this,t,B)}function Ce(B){ie.call(this,t,B)}function Ae(B){ie.call(this,t,B)}function ne(B){ie.call(this,t,B)}function _(B){ie.call(this,t,B)}function X(B){ie.call(this,t,B)}function K(B){ie.call(this,t,B)}function re(B){ie.call(this,t,B)}function we(B){ie.call(this,t,B)}function Oe(B){ie.call(this,t,B)}function He(B){ie.call(this,t,B)}function Ye(B){ie.call(this,t,B)}function Xe(B){ie.call(this,t,B)}function Ge(B){ie.call(this,t,B)}function Ue(B){ie.call(this,t,B)}function Je(B){ie.call(this,t,B)}function Ke(B){ie.call(this,t,B)}function We(B){ie.call(this,t,B)}function Te(B){ie.call(this,t,B)}function Pe(B){ie.call(this,t,B)}function Ee(B){ie.call(this,t,B)}function ze(B){Ne[B?"unshift":"push"](()=>{b=B,n(0,b)})}function lt(B){Ne[B?"unshift":"push"](()=>{b=B,n(0,b)})}function rt(B){Ne[B?"unshift":"push"](()=>{b=B,n(0,b)})}function be(B){Ne[B?"unshift":"push"](()=>{b=B,n(0,b)})}function Ze(B){Ne[B?"unshift":"push"](()=>{b=B,n(0,b)})}return t.$$set=B=>{e=J(J({},e),Le(B)),n(12,r=se(e,i)),"transition"in B&&n(1,f=B.transition),"transitionConfig"in B&&n(2,c=B.transitionConfig),"inTransition"in B&&n(3,d=B.inTransition),"inTransitionConfig"in B&&n(4,m=B.inTransitionConfig),"outTransition"in B&&n(5,p=B.outTransition),"outTransitionConfig"in B&&n(6,h=B.outTransitionConfig),"id"in B&&n(13,g=B.id),"asChild"in B&&n(7,w=B.asChild),"el"in B&&n(0,b=B.el),"$$scope"in B&&n(15,u=B.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&8192&&g&&F.content.set(g),t.$$.dirty[0]&16384&&n(8,o=l),t.$$.dirty[0]&256&&Object.assign(o,D)},[b,f,c,d,m,p,h,w,o,a,C,N,r,g,l,u,s,H,M,R,S,v,A,j,W,$,U,Q,z,te,Z,le,Ce,Ae,ne,_,X,K,re,we,Oe,He,Ye,Xe,Ge,Ue,Je,Ke,We,Te,Pe,Ee,ze,lt,rt,be,Ze]}let I_=class extends me{constructor(e){super(),de(this,e,S_,A_,ce,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,id:13,asChild:7,el:0},null,[-1,-1])}};const O_=t=>({builder:t&256}),ws=t=>({builder:t[8]});function M_(t){let e,n,o,i=[t[8],t[12]],r={};for(let l=0;l<i.length;l+=1)r=J(r,i[l]);return{c(){e=E("div"),ue(e,r)},m(l,a){O(l,e,a),t[20](e),n||(o=je(t[8].action(e)),n=!0)},p(l,a){ue(e,r=ye(i,[a&256&&l[8],a&4096&&l[12]]))},i:ve,o:ve,d(l){l&&I(e),t[20](null),n=!1,o()}}}function P_(t){let e,n,o,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=J(a,l[s]);return{c(){e=E("div"),ue(e,a)},m(s,u){O(s,e,u),t[19](e),o=!0,i||(r=je(t[8].action(e)),i=!0)},p(s,u){t=s,ue(e,a=ye(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(n&&n.end(1),o=!0)},o(s){s&&(n=Vt(e,t[5],t[6])),o=!1},d(s){s&&I(e),t[19](null),s&&n&&n.end(),i=!1,r()}}}function N_(t){let e,n,o,i,r=[t[8],t[12]],l={};for(let a=0;a<r.length;a+=1)l=J(l,r[a]);return{c(){e=E("div"),ue(e,l)},m(a,s){O(a,e,s),t[18](e),o||(i=je(t[8].action(e)),o=!0)},p(a,s){t=a,ue(e,l=ye(r,[s&256&&t[8],s&4096&&t[12]]))},i(a){a&&(n||it(()=>{n=Wt(e,t[3],t[4]),n.start()}))},o:ve,d(a){a&&I(e),t[18](null),o=!1,i()}}}function E_(t){let e,n,o,i,r,l,a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=E("div"),ue(e,s)},m(u,f){O(u,e,f),t[17](e),i=!0,r||(l=je(t[8].action(e)),r=!0)},p(u,f){t=u,ue(e,s=ye(a,[f&256&&t[8],f&4096&&t[12]]))},i(u){i||(u&&it(()=>{i&&(o&&o.end(1),n=Wt(e,t[3],t[4]),n.start())}),i=!0)},o(u){n&&n.invalidate(),u&&(o=Vt(e,t[5],t[6])),i=!1},d(u){u&&I(e),t[17](null),u&&o&&o.end(),r=!1,l()}}}function R_(t){let e,n,o,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=J(a,l[s]);return{c(){e=E("div"),ue(e,a)},m(s,u){O(s,e,u),t[16](e),o=!0,i||(r=je(t[8].action(e)),i=!0)},p(s,u){t=s,ue(e,a=ye(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(s&&it(()=>{o&&(n||(n=bt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(s){s&&(n||(n=bt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(s){s&&I(e),t[16](null),s&&n&&n.end(),i=!1,r()}}}function L_(t){let e;const n=t[15].default,o=pe(n,t,t[14],ws);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&16640)&&_e(o,n,i,i[14],e?he(n,i[14],r,O_):ge(i[14]),ws)},i(i){e||(k(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function D_(t){let e,n,o,i;const r=[L_,R_,E_,N_,P_,M_],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=Re()},m(s,u){~e&&l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Se(),T(l[f],1,1,()=>{l[f]=null}),Ie()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(k(n),i=!0)},o(s){T(n),i=!1},d(s){s&&I(o),~e&&l[e].d(s)}}}function $_(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","el"];let r=se(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:p=void 0}=e,{outTransitionConfig:h=void 0}=e,{asChild:g=!1}=e,{el:w=void 0}=e;const{elements:{overlay:b},states:{open:C},getAttrs:N}=jn();ae(t,b,S=>n(13,l=S)),ae(t,C,S=>n(9,a=S));const F=N("overlay");function P(S){Ne[S?"unshift":"push"](()=>{w=S,n(0,w)})}function D(S){Ne[S?"unshift":"push"](()=>{w=S,n(0,w)})}function H(S){Ne[S?"unshift":"push"](()=>{w=S,n(0,w)})}function M(S){Ne[S?"unshift":"push"](()=>{w=S,n(0,w)})}function R(S){Ne[S?"unshift":"push"](()=>{w=S,n(0,w)})}return t.$$set=S=>{e=J(J({},e),Le(S)),n(12,r=se(e,i)),"transition"in S&&n(1,f=S.transition),"transitionConfig"in S&&n(2,c=S.transitionConfig),"inTransition"in S&&n(3,d=S.inTransition),"inTransitionConfig"in S&&n(4,m=S.inTransitionConfig),"outTransition"in S&&n(5,p=S.outTransition),"outTransitionConfig"in S&&n(6,h=S.outTransitionConfig),"asChild"in S&&n(7,g=S.asChild),"el"in S&&n(0,w=S.el),"$$scope"in S&&n(14,u=S.$$scope)},t.$$.update=()=>{t.$$.dirty&8192&&n(8,o=l),t.$$.dirty&256&&Object.assign(o,F)},[w,f,c,d,m,p,h,g,o,a,b,C,r,l,u,s,P,D,H,M,R]}let F_=class extends me{constructor(e){super(),de(this,e,$_,D_,ce,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,el:0})}};const j_=t=>({builder:t&4}),ks=t=>({builder:t[2]}),q_=t=>({builder:t&4}),Cs=t=>({builder:t[2]});function B_(t){let e,n,o,i;const r=t[8].default,l=pe(r,t,t[7],ks);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=E("div"),l&&l.c(),ue(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[9](e),n=!0,o||(i=je(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&_e(l,r,u,u[7],n?he(r,u[7],f,j_):ge(u[7]),ks),ue(e,s=ye(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(k(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&I(e),l&&l.d(u),t[9](null),o=!1,i()}}}function H_(t){let e;const n=t[8].default,o=pe(n,t,t[7],Cs);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&_e(o,n,i,i[7],e?he(n,i[7],r,q_):ge(i[7]),Cs)},i(i){e||(k(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function G_(t){let e,n,o,i;const r=[H_,B_],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Se(),T(l[f],1,1,()=>{l[f]=null}),Ie(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){T(n),i=!1},d(s){s&&I(o),l[e].d(s)}}}function W_(t,e,n){let o;const i=["asChild","id","el"];let r=se(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{description:d},ids:m,getAttrs:p}=jn();ae(t,d,w=>n(6,l=w));const h=p("description");function g(w){Ne[w?"unshift":"push"](()=>{c=w,n(0,c)})}return t.$$set=w=>{e=J(J({},e),Le(w)),n(4,r=se(e,i)),"asChild"in w&&n(1,u=w.asChild),"id"in w&&n(5,f=w.id),"el"in w&&n(0,c=w.el),"$$scope"in w&&n(7,s=w.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f&&m.description.set(f),t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,h)},[c,u,o,d,r,f,l,s,a,g]}let V_=class extends me{constructor(e){super(),de(this,e,W_,G_,ce,{asChild:1,id:5,el:0})}};function x_(t,e){const n=[];return e.builders.forEach(o=>{const i=o.action(t);i&&n.push(i)}),{destroy:()=>{n.forEach(o=>{o.destroy&&o.destroy()})}}}function Ts(t){const e={};return t.forEach(n=>{Object.keys(n).forEach(o=>{o!=="action"&&(e[o]=n[o])})}),e}function Y_(t){let e=t[1]?"a":"button",n,o,i=(t[1]?"a":"button")&&_r(t);return{c(){i&&i.c(),n=Re()},m(r,l){i&&i.m(r,l),O(r,n,l),o=!0},p(r,l){r[1],e?ce(e,r[1]?"a":"button")?(i.d(1),i=_r(r),e=r[1]?"a":"button",i.c(),i.m(n.parentNode,n)):i.p(r,l):(i=_r(r),e=r[1]?"a":"button",i.c(),i.m(n.parentNode,n))},i(r){o||(k(i,r),o=!0)},o(r){T(i,r),o=!1},d(r){r&&I(n),i&&i.d(r)}}}function U_(t){let e=t[1]?"a":"button",n,o,i=(t[1]?"a":"button")&&gr(t);return{c(){i&&i.c(),n=Re()},m(r,l){i&&i.m(r,l),O(r,n,l),o=!0},p(r,l){r[1],e?ce(e,r[1]?"a":"button")?(i.d(1),i=gr(r),e=r[1]?"a":"button",i.c(),i.m(n.parentNode,n)):i.p(r,l):(i=gr(r),e=r[1]?"a":"button",i.c(),i.m(n.parentNode,n))},i(r){o||(k(i,r),o=!0)},o(r){T(i,r),o=!1},d(r){r&&I(n),i&&i.d(r)}}}function _r(t){let e,n,o,i,r;const l=t[7].default,a=pe(l,t,t[6],null);let s=[{type:n=t[1]?void 0:t[2]},{href:t[1]},{tabindex:"0"},t[5],t[4]],u={};for(let f=0;f<s.length;f+=1)u=J(u,s[f]);return{c(){e=E(t[1]?"a":"button"),a&&a.c(),dn(t[1]?"a":"button")(e,u)},m(f,c){O(f,e,c),a&&a.m(e,null),o=!0,i||(r=[ee(e,"click",t[14]),ee(e,"change",t[15]),ee(e,"keydown",t[16]),ee(e,"keyup",t[17]),ee(e,"mouseenter",t[18]),ee(e,"mouseleave",t[19])],i=!0)},p(f,c){a&&a.p&&(!o||c&64)&&_e(a,l,f,f[6],o?he(l,f[6],c,null):ge(f[6]),null),dn(f[1]?"a":"button")(e,u=ye(s,[(!o||c&6&&n!==(n=f[1]?void 0:f[2]))&&{type:n},(!o||c&2)&&{href:f[1]},{tabindex:"0"},c&32&&f[5],f[4]]))},i(f){o||(k(a,f),o=!0)},o(f){T(a,f),o=!1},d(f){f&&I(e),a&&a.d(f),i=!1,Be(r)}}}function gr(t){let e,n,o,i,r,l;const a=t[7].default,s=pe(a,t,t[6],null);let u=[{type:n=t[1]?void 0:t[2]},{href:t[1]},{tabindex:"0"},Ts(t[3]),t[5],t[4]],f={};for(let c=0;c<u.length;c+=1)f=J(f,u[c]);return{c(){e=E(t[1]?"a":"button"),s&&s.c(),dn(t[1]?"a":"button")(e,f)},m(c,d){O(c,e,d),s&&s.m(e,null),t[20](e),i=!0,r||(l=[ee(e,"click",t[8]),ee(e,"change",t[9]),ee(e,"keydown",t[10]),ee(e,"keyup",t[11]),ee(e,"mouseenter",t[12]),ee(e,"mouseleave",t[13]),je(o=x_.call(null,e,{builders:t[3]}))],r=!0)},p(c,d){s&&s.p&&(!i||d&64)&&_e(s,a,c,c[6],i?he(a,c[6],d,null):ge(c[6]),null),dn(c[1]?"a":"button")(e,f=ye(u,[(!i||d&6&&n!==(n=c[1]?void 0:c[2]))&&{type:n},(!i||d&2)&&{href:c[1]},{tabindex:"0"},d&8&&Ts(c[3]),d&32&&c[5],c[4]])),o&&Ft(o.update)&&d&8&&o.update.call(null,{builders:c[3]})},i(c){i||(k(s,c),i=!0)},o(c){T(s,c),i=!1},d(c){c&&I(e),s&&s.d(c),t[20](null),r=!1,Be(l)}}}function K_(t){let e,n,o,i;const r=[U_,Y_],l=[];function a(s,u){return s[3]&&s[3].length?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Se(),T(l[f],1,1,()=>{l[f]=null}),Ie(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){T(n),i=!1},d(s){s&&I(o),l[e].d(s)}}}function X_(t,e,n){const o=["href","type","builders","el"];let i=se(e,o),{$$slots:r={},$$scope:l}=e,{href:a=void 0}=e,{type:s=void 0}=e,{builders:u=[]}=e,{el:f=void 0}=e;const c={"data-button-root":""};function d(M){ie.call(this,t,M)}function m(M){ie.call(this,t,M)}function p(M){ie.call(this,t,M)}function h(M){ie.call(this,t,M)}function g(M){ie.call(this,t,M)}function w(M){ie.call(this,t,M)}function b(M){ie.call(this,t,M)}function C(M){ie.call(this,t,M)}function N(M){ie.call(this,t,M)}function F(M){ie.call(this,t,M)}function P(M){ie.call(this,t,M)}function D(M){ie.call(this,t,M)}function H(M){Ne[M?"unshift":"push"](()=>{f=M,n(0,f)})}return t.$$set=M=>{e=J(J({},e),Le(M)),n(5,i=se(e,o)),"href"in M&&n(1,a=M.href),"type"in M&&n(2,s=M.type),"builders"in M&&n(3,u=M.builders),"el"in M&&n(0,f=M.el),"$$scope"in M&&n(6,l=M.$$scope)},[f,a,s,u,c,i,l,r,d,m,p,h,g,w,b,C,N,F,P,D,H]}let J_=class extends me{constructor(e){super(),de(this,e,X_,K_,ce,{href:1,type:2,builders:3,el:0})}};function Z_(t){return(e={})=>Q_(t,e)}function Q_(t,e){const o={...{side:"bottom",align:"center",sideOffset:0,alignOffset:0,sameWidth:!1,avoidCollisions:!0,collisionPadding:8,fitViewport:!1,strategy:"absolute",overlap:!1},...e};t.update(i=>({...i,placement:z_(o.side,o.align),offset:{...i.offset,mainAxis:o.sideOffset,crossAxis:o.alignOffset},gutter:0,sameWidth:o.sameWidth,flip:o.avoidCollisions,overflowPadding:o.collisionPadding,boundary:o.collisionBoundary,fitViewport:o.fitViewport,strategy:o.strategy,overlap:o.overlap}))}function z_(t,e){return e==="center"?t:`${t}-${e}`}function e0(){return{NAME:"separator",PARTS:["root"]}}function t0(t){const{NAME:e,PARTS:n}=e0(),o=$n(e,n),i={...Oh(co(t)),getAttrs:o};return{...i,updateOption:Rn(i.options)}}const n0=t=>({builder:t&4}),As=t=>({builder:t[2]});function o0(t){let e,n,o,i=[t[2],t[4]],r={};for(let l=0;l<i.length;l+=1)r=J(r,i[l]);return{c(){e=E("div"),ue(e,r)},m(l,a){O(l,e,a),t[10](e),n||(o=je(t[2].action(e)),n=!0)},p(l,a){ue(e,r=ye(i,[a&4&&l[2],a&16&&l[4]]))},i:ve,o:ve,d(l){l&&I(e),t[10](null),n=!1,o()}}}function i0(t){let e;const n=t[9].default,o=pe(n,t,t[8],As);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&260)&&_e(o,n,i,i[8],e?he(n,i[8],r,n0):ge(i[8]),As)},i(i){e||(k(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function r0(t){let e,n,o,i;const r=[i0,o0],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Se(),T(l[f],1,1,()=>{l[f]=null}),Ie(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){T(n),i=!1},d(s){s&&I(o),l[e].d(s)}}}function l0(t,e,n){let o;const i=["orientation","decorative","asChild","el"];let r=se(e,i),l,{$$slots:a={},$$scope:s}=e,{orientation:u="horizontal"}=e,{decorative:f=!0}=e,{asChild:c=!1}=e,{el:d=void 0}=e;const{elements:{root:m},updateOption:p,getAttrs:h}=t0({orientation:u,decorative:f});ae(t,m,b=>n(7,l=b));const g=h("root");function w(b){Ne[b?"unshift":"push"](()=>{d=b,n(0,d)})}return t.$$set=b=>{e=J(J({},e),Le(b)),n(4,r=se(e,i)),"orientation"in b&&n(5,u=b.orientation),"decorative"in b&&n(6,f=b.decorative),"asChild"in b&&n(1,c=b.asChild),"el"in b&&n(0,d=b.el),"$$scope"in b&&n(8,s=b.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&p("orientation",u),t.$$.dirty&64&&p("decorative",f),t.$$.dirty&128&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,g)},[d,c,o,m,r,u,f,l,s,a,w]}let s0=class extends me{constructor(e){super(),de(this,e,l0,r0,ce,{orientation:5,decorative:6,asChild:1,el:0})}};function uc(){return{NAME:"dialog",PARTS:["close","content","description","overlay","portal","title","trigger"]}}function a0(t){const{NAME:e,PARTS:n}=uc(),o=$n(e,n),i={...sc({...co(t),role:"dialog",forceVisible:!0}),getAttrs:o};return Xi(e,i),{...i,updateOption:Rn(i.options)}}function mo(){const{NAME:t}=uc();return Ji(t)}const u0=t=>({ids:t&1}),Ss=t=>({ids:t[0]});function f0(t){let e;const n=t[12].default,o=pe(n,t,t[11],Ss);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,[r]){o&&o.p&&(!e||r&2049)&&_e(o,n,i,i[11],e?he(n,i[11],r,u0):ge(i[11]),Ss)},i(i){e||(k(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function c0(t,e,n){let o,{$$slots:i={},$$scope:r}=e,{preventScroll:l=void 0}=e,{closeOnEscape:a=void 0}=e,{closeOnOutsideClick:s=void 0}=e,{portal:u=void 0}=e,{open:f=void 0}=e,{onOpenChange:c=void 0}=e,{openFocus:d=void 0}=e,{closeFocus:m=void 0}=e,{onOutsideClick:p=void 0}=e;const{states:{open:h},updateOption:g,ids:w}=a0({closeOnEscape:a,preventScroll:l,closeOnOutsideClick:s,portal:u,forceVisible:!0,defaultOpen:f,openFocus:d,closeFocus:m,onOutsideClick:p,onOpenChange:({next:C})=>(f!==C&&(c==null||c(C),n(2,f=C)),C)}),b=nn([w.content,w.description,w.title],([C,N,F])=>({content:C,description:N,title:F}));return ae(t,b,C=>n(0,o=C)),t.$$set=C=>{"preventScroll"in C&&n(3,l=C.preventScroll),"closeOnEscape"in C&&n(4,a=C.closeOnEscape),"closeOnOutsideClick"in C&&n(5,s=C.closeOnOutsideClick),"portal"in C&&n(6,u=C.portal),"open"in C&&n(2,f=C.open),"onOpenChange"in C&&n(7,c=C.onOpenChange),"openFocus"in C&&n(8,d=C.openFocus),"closeFocus"in C&&n(9,m=C.closeFocus),"onOutsideClick"in C&&n(10,p=C.onOutsideClick),"$$scope"in C&&n(11,r=C.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&f!==void 0&&h.set(f),t.$$.dirty&8&&g("preventScroll",l),t.$$.dirty&16&&g("closeOnEscape",a),t.$$.dirty&32&&g("closeOnOutsideClick",s),t.$$.dirty&64&&g("portal",u),t.$$.dirty&256&&g("openFocus",d),t.$$.dirty&512&&g("closeFocus",m),t.$$.dirty&1024&&g("onOutsideClick",p)},[o,b,f,l,a,s,u,c,d,m,p,r,i]}class d0 extends me{constructor(e){super(),de(this,e,c0,f0,ce,{preventScroll:3,closeOnEscape:4,closeOnOutsideClick:5,portal:6,open:2,onOpenChange:7,openFocus:8,closeFocus:9,onOutsideClick:10})}}const m0=t=>({builder:t&8}),Is=t=>({builder:t[3]}),p0=t=>({builder:t&8}),Os=t=>({builder:t[3]});function h0(t){let e=t[1],n,o,i=t[1]&&br(t);return{c(){i&&i.c(),n=Re()},m(r,l){i&&i.m(r,l),O(r,n,l),o=!0},p(r,l){r[1]?e?ce(e,r[1])?(i.d(1),i=br(r),e=r[1],i.c(),i.m(n.parentNode,n)):i.p(r,l):(i=br(r),e=r[1],i.c(),i.m(n.parentNode,n)):e&&(i.d(1),i=null,e=r[1])},i(r){o||(k(i,r),o=!0)},o(r){T(i,r),o=!1},d(r){r&&I(n),i&&i.d(r)}}}function _0(t){let e;const n=t[9].default,o=pe(n,t,t[8],Os);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&264)&&_e(o,n,i,i[8],e?he(n,i[8],r,p0):ge(i[8]),Os)},i(i){e||(k(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function br(t){let e,n,o,i;const r=t[9].default,l=pe(r,t,t[8],Is);let a=[t[3],t[5]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=E(t[1]),l&&l.c(),dn(t[1])(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[10](e),n=!0,o||(i=je(t[3].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&264)&&_e(l,r,u,u[8],n?he(r,u[8],f,m0):ge(u[8]),Is),dn(u[1])(e,s=ye(a,[f&8&&u[3],f&32&&u[5]]))},i(u){n||(k(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&I(e),l&&l.d(u),t[10](null),o=!1,i()}}}function g0(t){let e,n,o,i;const r=[_0,h0],l=[];function a(s,u){return s[2]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Se(),T(l[f],1,1,()=>{l[f]=null}),Ie(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){T(n),i=!1},d(s){s&&I(o),l[e].d(s)}}}function b0(t,e,n){let o;const i=["level","asChild","id","el"];let r=se(e,i),l,{$$slots:a={},$$scope:s}=e,{level:u="h2"}=e,{asChild:f=!1}=e,{id:c=void 0}=e,{el:d=void 0}=e;const{elements:{title:m},ids:p,getAttrs:h}=mo();ae(t,m,b=>n(7,l=b));const g=h("title");function w(b){Ne[b?"unshift":"push"](()=>{d=b,n(0,d)})}return t.$$set=b=>{e=J(J({},e),Le(b)),n(5,r=se(e,i)),"level"in b&&n(1,u=b.level),"asChild"in b&&n(2,f=b.asChild),"id"in b&&n(6,c=b.id),"el"in b&&n(0,d=b.el),"$$scope"in b&&n(8,s=b.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&c&&p.title.set(c),t.$$.dirty&128&&n(3,o=l),t.$$.dirty&8&&Object.assign(o,g)},[d,u,f,o,m,r,c,l,s,a,w]}let v0=class extends me{constructor(e){super(),de(this,e,b0,g0,ce,{level:1,asChild:2,id:6,el:0})}};const y0=t=>({builder:t&4}),Ms=t=>({builder:t[2]}),w0=t=>({builder:t&4}),Ps=t=>({builder:t[2]});function k0(t){let e,n,o,i;const r=t[8].default,l=pe(r,t,t[7],Ms);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=E("button"),l&&l.c(),ue(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[9](e),n=!0,o||(i=[je(t[2].action(e)),ee(e,"m-click",t[4]),ee(e,"m-keydown",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&_e(l,r,u,u[7],n?he(r,u[7],f,y0):ge(u[7]),Ms),ue(e,s=ye(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(k(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&I(e),l&&l.d(u),t[9](null),o=!1,Be(i)}}}function C0(t){let e;const n=t[8].default,o=pe(n,t,t[7],Ps);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&_e(o,n,i,i[7],e?he(n,i[7],r,w0):ge(i[7]),Ps)},i(i){e||(k(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function T0(t){let e,n,o,i;const r=[C0,k0],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Se(),T(l[f],1,1,()=>{l[f]=null}),Ie(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){T(n),i=!1},d(s){s&&I(o),l[e].d(s)}}}function A0(t,e,n){let o;const i=["asChild","el"];let r=se(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:d}=mo();ae(t,c,g=>n(6,l=g));const m=Fn(),p=d("close");function h(g){Ne[g?"unshift":"push"](()=>{f=g,n(0,f)})}return t.$$set=g=>{e=J(J({},e),Le(g)),n(5,r=se(e,i)),"asChild"in g&&n(1,u=g.asChild),"el"in g&&n(0,f=g.el),"$$scope"in g&&n(7,s=g.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,p)},[f,u,o,c,m,r,l,s,a,h]}class S0 extends me{constructor(e){super(),de(this,e,A0,T0,ce,{asChild:1,el:0})}}const I0=t=>({builder:t&4}),Ns=t=>({builder:t[2]}),O0=t=>({builder:t&4}),Es=t=>({builder:t[2]});function M0(t){let e,n,o,i;const r=t[7].default,l=pe(r,t,t[6],Ns);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=E("div"),l&&l.c(),ue(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[8](e),n=!0,o||(i=je(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&68)&&_e(l,r,u,u[6],n?he(r,u[6],f,I0):ge(u[6]),Ns),ue(e,s=ye(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(k(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&I(e),l&&l.d(u),t[8](null),o=!1,i()}}}function P0(t){let e;const n=t[7].default,o=pe(n,t,t[6],Es);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&68)&&_e(o,n,i,i[6],e?he(n,i[6],r,O0):ge(i[6]),Es)},i(i){e||(k(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function N0(t){let e,n,o,i;const r=[P0,M0],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Se(),T(l[f],1,1,()=>{l[f]=null}),Ie(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){T(n),i=!1},d(s){s&&I(o),l[e].d(s)}}}function E0(t,e,n){let o;const i=["asChild","el"];let r=se(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{portalled:c},getAttrs:d}=mo();ae(t,c,h=>n(5,l=h));const m=d("portal");function p(h){Ne[h?"unshift":"push"](()=>{f=h,n(0,f)})}return t.$$set=h=>{e=J(J({},e),Le(h)),n(4,r=se(e,i)),"asChild"in h&&n(1,u=h.asChild),"el"in h&&n(0,f=h.el),"$$scope"in h&&n(6,s=h.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,m)},[f,u,o,c,r,l,s,a,p]}let R0=class extends me{constructor(e){super(),de(this,e,E0,N0,ce,{asChild:1,el:0})}};const L0=t=>({builder:t[0]&256}),Rs=t=>({builder:t[8]}),D0=t=>({builder:t[0]&256}),Ls=t=>({builder:t[8]}),$0=t=>({builder:t[0]&256}),Ds=t=>({builder:t[8]}),F0=t=>({builder:t[0]&256}),$s=t=>({builder:t[8]}),j0=t=>({builder:t[0]&256}),Fs=t=>({builder:t[8]}),q0=t=>({builder:t[0]&256}),js=t=>({builder:t[8]});function B0(t){let e,n,o,i;const r=t[16].default,l=pe(r,t,t[15],Rs);let a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=E("div"),l&&l.c(),ue(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[56](e),n=!0,o||(i=[je(t[8].action(e)),ee(e,"pointerdown",t[45]),ee(e,"pointermove",t[46]),ee(e,"pointerup",t[47]),ee(e,"touchend",t[48]),ee(e,"touchstart",t[49]),ee(e,"touchcancel",t[50]),ee(e,"touchmove",t[51])],o=!0)},p(u,f){l&&l.p&&(!n||f[0]&33024)&&_e(l,r,u,u[15],n?he(r,u[15],f,L0):ge(u[15]),Rs),ue(e,s=ye(a,[f[0]&256&&u[8],f[0]&4096&&u[12]]))},i(u){n||(k(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&I(e),l&&l.d(u),t[56](null),o=!1,Be(i)}}}function H0(t){let e,n,o,i,r;const l=t[16].default,a=pe(l,t,t[15],Ls);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=J(u,s[f]);return{c(){e=E("div"),a&&a.c(),ue(e,u)},m(f,c){O(f,e,c),a&&a.m(e,null),t[55](e),o=!0,i||(r=[je(t[8].action(e)),ee(e,"pointerdown",t[38]),ee(e,"pointermove",t[39]),ee(e,"pointerup",t[40]),ee(e,"touchend",t[41]),ee(e,"touchstart",t[42]),ee(e,"touchcancel",t[43]),ee(e,"touchmove",t[44])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&_e(a,l,t,t[15],o?he(l,t[15],c,D0):ge(t[15]),Ls),ue(e,u=ye(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(k(a,f),n&&n.end(1),o=!0)},o(f){T(a,f),f&&(n=Vt(e,t[5],t[6])),o=!1},d(f){f&&I(e),a&&a.d(f),t[55](null),f&&n&&n.end(),i=!1,Be(r)}}}function G0(t){let e,n,o,i,r;const l=t[16].default,a=pe(l,t,t[15],Ds);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=J(u,s[f]);return{c(){e=E("div"),a&&a.c(),ue(e,u)},m(f,c){O(f,e,c),a&&a.m(e,null),t[54](e),o=!0,i||(r=[je(t[8].action(e)),ee(e,"pointerdown",t[31]),ee(e,"pointermove",t[32]),ee(e,"pointerup",t[33]),ee(e,"touchend",t[34]),ee(e,"touchstart",t[35]),ee(e,"touchcancel",t[36]),ee(e,"touchmove",t[37])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&_e(a,l,t,t[15],o?he(l,t[15],c,$0):ge(t[15]),Ds),ue(e,u=ye(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(k(a,f),f&&(n||it(()=>{n=Wt(e,t[3],t[4]),n.start()})),o=!0)},o(f){T(a,f),o=!1},d(f){f&&I(e),a&&a.d(f),t[54](null),i=!1,Be(r)}}}function W0(t){let e,n,o,i,r,l;const a=t[16].default,s=pe(a,t,t[15],$s);let u=[t[8],t[12]],f={};for(let c=0;c<u.length;c+=1)f=J(f,u[c]);return{c(){e=E("div"),s&&s.c(),ue(e,f)},m(c,d){O(c,e,d),s&&s.m(e,null),t[53](e),i=!0,r||(l=[je(t[8].action(e)),ee(e,"pointerdown",t[24]),ee(e,"pointermove",t[25]),ee(e,"pointerup",t[26]),ee(e,"touchend",t[27]),ee(e,"touchstart",t[28]),ee(e,"touchcancel",t[29]),ee(e,"touchmove",t[30])],r=!0)},p(c,d){t=c,s&&s.p&&(!i||d[0]&33024)&&_e(s,a,t,t[15],i?he(a,t[15],d,F0):ge(t[15]),$s),ue(e,f=ye(u,[d[0]&256&&t[8],d[0]&4096&&t[12]]))},i(c){i||(k(s,c),c&&it(()=>{i&&(o&&o.end(1),n=Wt(e,t[3],t[4]),n.start())}),i=!0)},o(c){T(s,c),n&&n.invalidate(),c&&(o=Vt(e,t[5],t[6])),i=!1},d(c){c&&I(e),s&&s.d(c),t[53](null),c&&o&&o.end(),r=!1,Be(l)}}}function V0(t){let e,n,o,i,r;const l=t[16].default,a=pe(l,t,t[15],Fs);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=J(u,s[f]);return{c(){e=E("div"),a&&a.c(),ue(e,u)},m(f,c){O(f,e,c),a&&a.m(e,null),t[52](e),o=!0,i||(r=[je(t[8].action(e)),ee(e,"pointerdown",t[17]),ee(e,"pointermove",t[18]),ee(e,"pointerup",t[19]),ee(e,"touchend",t[20]),ee(e,"touchstart",t[21]),ee(e,"touchcancel",t[22]),ee(e,"touchmove",t[23])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&_e(a,l,t,t[15],o?he(l,t[15],c,j0):ge(t[15]),Fs),ue(e,u=ye(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(k(a,f),f&&it(()=>{o&&(n||(n=bt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(f){T(a,f),f&&(n||(n=bt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(f){f&&I(e),a&&a.d(f),t[52](null),f&&n&&n.end(),i=!1,Be(r)}}}function x0(t){let e;const n=t[16].default,o=pe(n,t,t[15],js);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r[0]&33024)&&_e(o,n,i,i[15],e?he(n,i[15],r,q0):ge(i[15]),js)},i(i){e||(k(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function Y0(t){let e,n,o,i;const r=[x0,V0,W0,G0,H0,B0],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=Re()},m(s,u){~e&&l[e].m(s,u),O(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Se(),T(l[f],1,1,()=>{l[f]=null}),Ie()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(k(n),i=!0)},o(s){T(n),i=!1},d(s){s&&I(o),~e&&l[e].d(s)}}}function U0(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","id","el"];let r=se(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:p=void 0}=e,{outTransitionConfig:h=void 0}=e,{asChild:g=!1}=e,{id:w=void 0}=e,{el:b=void 0}=e;const{elements:{content:C},states:{open:N},ids:F,getAttrs:P}=mo();ae(t,C,B=>n(14,l=B)),ae(t,N,B=>n(9,a=B));const D=P("content");function H(B){ie.call(this,t,B)}function M(B){ie.call(this,t,B)}function R(B){ie.call(this,t,B)}function S(B){ie.call(this,t,B)}function v(B){ie.call(this,t,B)}function A(B){ie.call(this,t,B)}function j(B){ie.call(this,t,B)}function W(B){ie.call(this,t,B)}function $(B){ie.call(this,t,B)}function U(B){ie.call(this,t,B)}function Q(B){ie.call(this,t,B)}function z(B){ie.call(this,t,B)}function te(B){ie.call(this,t,B)}function Z(B){ie.call(this,t,B)}function le(B){ie.call(this,t,B)}function Ce(B){ie.call(this,t,B)}function Ae(B){ie.call(this,t,B)}function ne(B){ie.call(this,t,B)}function _(B){ie.call(this,t,B)}function X(B){ie.call(this,t,B)}function K(B){ie.call(this,t,B)}function re(B){ie.call(this,t,B)}function we(B){ie.call(this,t,B)}function Oe(B){ie.call(this,t,B)}function He(B){ie.call(this,t,B)}function Ye(B){ie.call(this,t,B)}function Xe(B){ie.call(this,t,B)}function Ge(B){ie.call(this,t,B)}function Ue(B){ie.call(this,t,B)}function Je(B){ie.call(this,t,B)}function Ke(B){ie.call(this,t,B)}function We(B){ie.call(this,t,B)}function Te(B){ie.call(this,t,B)}function Pe(B){ie.call(this,t,B)}function Ee(B){ie.call(this,t,B)}function ze(B){Ne[B?"unshift":"push"](()=>{b=B,n(0,b)})}function lt(B){Ne[B?"unshift":"push"](()=>{b=B,n(0,b)})}function rt(B){Ne[B?"unshift":"push"](()=>{b=B,n(0,b)})}function be(B){Ne[B?"unshift":"push"](()=>{b=B,n(0,b)})}function Ze(B){Ne[B?"unshift":"push"](()=>{b=B,n(0,b)})}return t.$$set=B=>{e=J(J({},e),Le(B)),n(12,r=se(e,i)),"transition"in B&&n(1,f=B.transition),"transitionConfig"in B&&n(2,c=B.transitionConfig),"inTransition"in B&&n(3,d=B.inTransition),"inTransitionConfig"in B&&n(4,m=B.inTransitionConfig),"outTransition"in B&&n(5,p=B.outTransition),"outTransitionConfig"in B&&n(6,h=B.outTransitionConfig),"asChild"in B&&n(7,g=B.asChild),"id"in B&&n(13,w=B.id),"el"in B&&n(0,b=B.el),"$$scope"in B&&n(15,u=B.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&8192&&w&&F.content.set(w),t.$$.dirty[0]&16384&&n(8,o=l),t.$$.dirty[0]&256&&Object.assign(o,D)},[b,f,c,d,m,p,h,g,o,a,C,N,r,w,l,u,s,H,M,R,S,v,A,j,W,$,U,Q,z,te,Z,le,Ce,Ae,ne,_,X,K,re,we,Oe,He,Ye,Xe,Ge,Ue,Je,Ke,We,Te,Pe,Ee,ze,lt,rt,be,Ze]}let K0=class extends me{constructor(e){super(),de(this,e,U0,Y0,ce,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,id:13,el:0},null,[-1,-1])}};const X0=t=>({builder:t&256}),qs=t=>({builder:t[8]});function J0(t){let e,n,o,i=[t[8],t[12]],r={};for(let l=0;l<i.length;l+=1)r=J(r,i[l]);return{c(){e=E("div"),ue(e,r)},m(l,a){O(l,e,a),t[25](e),n||(o=[je(t[8].action(e)),ee(e,"mouseup",t[20])],n=!0)},p(l,a){ue(e,r=ye(i,[a&256&&l[8],a&4096&&l[12]]))},i:ve,o:ve,d(l){l&&I(e),t[25](null),n=!1,Be(o)}}}function Z0(t){let e,n,o,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=J(a,l[s]);return{c(){e=E("div"),ue(e,a)},m(s,u){O(s,e,u),t[24](e),o=!0,i||(r=[je(t[8].action(e)),ee(e,"mouseup",t[19])],i=!0)},p(s,u){t=s,ue(e,a=ye(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(n&&n.end(1),o=!0)},o(s){s&&(n=Vt(e,t[5],t[6])),o=!1},d(s){s&&I(e),t[24](null),s&&n&&n.end(),i=!1,Be(r)}}}function Q0(t){let e,n,o,i,r=[t[8],t[12]],l={};for(let a=0;a<r.length;a+=1)l=J(l,r[a]);return{c(){e=E("div"),ue(e,l)},m(a,s){O(a,e,s),t[23](e),o||(i=[je(t[8].action(e)),ee(e,"mouseup",t[18])],o=!0)},p(a,s){t=a,ue(e,l=ye(r,[s&256&&t[8],s&4096&&t[12]]))},i(a){a&&(n||it(()=>{n=Wt(e,t[3],t[4]),n.start()}))},o:ve,d(a){a&&I(e),t[23](null),o=!1,Be(i)}}}function z0(t){let e,n,o,i,r,l,a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=E("div"),ue(e,s)},m(u,f){O(u,e,f),t[22](e),i=!0,r||(l=[je(t[8].action(e)),ee(e,"mouseup",t[17])],r=!0)},p(u,f){t=u,ue(e,s=ye(a,[f&256&&t[8],f&4096&&t[12]]))},i(u){i||(u&&it(()=>{i&&(o&&o.end(1),n=Wt(e,t[3],t[4]),n.start())}),i=!0)},o(u){n&&n.invalidate(),u&&(o=Vt(e,t[5],t[6])),i=!1},d(u){u&&I(e),t[22](null),u&&o&&o.end(),r=!1,Be(l)}}}function eg(t){let e,n,o,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=J(a,l[s]);return{c(){e=E("div"),ue(e,a)},m(s,u){O(s,e,u),t[21](e),o=!0,i||(r=[ee(e,"mouseup",t[16]),je(t[8].action(e))],i=!0)},p(s,u){t=s,ue(e,a=ye(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(s&&it(()=>{o&&(n||(n=bt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(s){s&&(n||(n=bt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(s){s&&I(e),t[21](null),s&&n&&n.end(),i=!1,Be(r)}}}function tg(t){let e;const n=t[15].default,o=pe(n,t,t[14],qs);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&16640)&&_e(o,n,i,i[14],e?he(n,i[14],r,X0):ge(i[14]),qs)},i(i){e||(k(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function ng(t){let e,n,o,i;const r=[tg,eg,z0,Q0,Z0,J0],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=Re()},m(s,u){~e&&l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Se(),T(l[f],1,1,()=>{l[f]=null}),Ie()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(k(n),i=!0)},o(s){T(n),i=!1},d(s){s&&I(o),~e&&l[e].d(s)}}}function og(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","el"];let r=se(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:p=void 0}=e,{outTransitionConfig:h=void 0}=e,{asChild:g=!1}=e,{el:w=void 0}=e;const{elements:{overlay:b},states:{open:C},getAttrs:N}=mo();ae(t,b,$=>n(13,l=$)),ae(t,C,$=>n(9,a=$));const F=N("overlay");function P($){ie.call(this,t,$)}function D($){ie.call(this,t,$)}function H($){ie.call(this,t,$)}function M($){ie.call(this,t,$)}function R($){ie.call(this,t,$)}function S($){Ne[$?"unshift":"push"](()=>{w=$,n(0,w)})}function v($){Ne[$?"unshift":"push"](()=>{w=$,n(0,w)})}function A($){Ne[$?"unshift":"push"](()=>{w=$,n(0,w)})}function j($){Ne[$?"unshift":"push"](()=>{w=$,n(0,w)})}function W($){Ne[$?"unshift":"push"](()=>{w=$,n(0,w)})}return t.$$set=$=>{e=J(J({},e),Le($)),n(12,r=se(e,i)),"transition"in $&&n(1,f=$.transition),"transitionConfig"in $&&n(2,c=$.transitionConfig),"inTransition"in $&&n(3,d=$.inTransition),"inTransitionConfig"in $&&n(4,m=$.inTransitionConfig),"outTransition"in $&&n(5,p=$.outTransition),"outTransitionConfig"in $&&n(6,h=$.outTransitionConfig),"asChild"in $&&n(7,g=$.asChild),"el"in $&&n(0,w=$.el),"$$scope"in $&&n(14,u=$.$$scope)},t.$$.update=()=>{t.$$.dirty&8192&&n(8,o=l),t.$$.dirty&256&&Object.assign(o,F)},[w,f,c,d,m,p,h,g,o,a,b,C,r,l,u,s,P,D,H,M,R,S,v,A,j,W]}let ig=class extends me{constructor(e){super(),de(this,e,og,ng,ce,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,el:0})}};const rg=t=>({builder:t&4}),Bs=t=>({builder:t[2]}),lg=t=>({builder:t&4}),Hs=t=>({builder:t[2]});function sg(t){let e,n,o,i;const r=t[8].default,l=pe(r,t,t[7],Bs);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=E("div"),l&&l.c(),ue(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[9](e),n=!0,o||(i=je(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&_e(l,r,u,u[7],n?he(r,u[7],f,rg):ge(u[7]),Bs),ue(e,s=ye(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(k(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&I(e),l&&l.d(u),t[9](null),o=!1,i()}}}function ag(t){let e;const n=t[8].default,o=pe(n,t,t[7],Hs);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&_e(o,n,i,i[7],e?he(n,i[7],r,lg):ge(i[7]),Hs)},i(i){e||(k(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function ug(t){let e,n,o,i;const r=[ag,sg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Se(),T(l[f],1,1,()=>{l[f]=null}),Ie(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){T(n),i=!1},d(s){s&&I(o),l[e].d(s)}}}function fg(t,e,n){let o;const i=["asChild","id","el"];let r=se(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{description:d},ids:m,getAttrs:p}=mo();ae(t,d,w=>n(6,l=w));const h=p("description");function g(w){Ne[w?"unshift":"push"](()=>{c=w,n(0,c)})}return t.$$set=w=>{e=J(J({},e),Le(w)),n(4,r=se(e,i)),"asChild"in w&&n(1,u=w.asChild),"id"in w&&n(5,f=w.id),"el"in w&&n(0,c=w.el),"$$scope"in w&&n(7,s=w.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f&&m.description.set(f),t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,h)},[c,u,o,d,r,f,l,s,a,g]}let cg=class extends me{constructor(e){super(),de(this,e,fg,ug,ce,{asChild:1,id:5,el:0})}};function dg(){const t="label",n=$n(t,["root"]);return{NAME:t,getAttrs:n}}const mg=t=>({builder:t&4}),Gs=t=>({builder:t[2]}),pg=t=>({builder:t&4}),Ws=t=>({builder:t[2]});function hg(t){let e,n,o,i;const r=t[8].default,l=pe(r,t,t[7],Gs);let a=[t[2],t[5]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=E("label"),l&&l.c(),ue(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[9](e),n=!0,o||(i=[je(t[2].action(e)),ee(e,"m-mousedown",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&_e(l,r,u,u[7],n?he(r,u[7],f,mg):ge(u[7]),Gs),ue(e,s=ye(a,[f&4&&u[2],f&32&&u[5]]))},i(u){n||(k(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&I(e),l&&l.d(u),t[9](null),o=!1,Be(i)}}}function _g(t){let e;const n=t[8].default,o=pe(n,t,t[7],Ws);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&_e(o,n,i,i[7],e?he(n,i[7],r,pg):ge(i[7]),Ws)},i(i){e||(k(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function gg(t){let e,n,o,i;const r=[_g,hg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Se(),T(l[f],1,1,()=>{l[f]=null}),Ie(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){T(n),i=!1},d(s){s&&I(o),l[e].d(s)}}}function bg(t,e,n){let o;const i=["asChild","el"];let r=se(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{root:c}}=wh();ae(t,c,g=>n(6,l=g));const d=Fn(),{getAttrs:m}=dg(),p=m("root");function h(g){Ne[g?"unshift":"push"](()=>{f=g,n(0,f)})}return t.$$set=g=>{e=J(J({},e),Le(g)),n(5,r=se(e,i)),"asChild"in g&&n(1,u=g.asChild),"el"in g&&n(0,f=g.el),"$$scope"in g&&n(7,s=g.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,p)},[f,u,o,c,d,r,l,s,a,h]}let vg=class extends me{constructor(e){super(),de(this,e,bg,gg,ce,{asChild:1,el:0})}};function yg(){return{NAME:"progress",PARTS:["root"]}}function wg(t){const{NAME:e,PARTS:n}=yg(),o=$n(e,n),i={...Sh(co(t)),getAttrs:o};return{...i,updateOption:Rn(i.options)}}const kg=t=>({builder:t&4}),Vs=t=>({builder:t[2]}),Cg=t=>({builder:t&4}),xs=t=>({builder:t[2]});function Tg(t){let e,n,o,i;const r=t[10].default,l=pe(r,t,t[9],Vs);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=E("div"),l&&l.c(),ue(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[11](e),n=!0,o||(i=je(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&516)&&_e(l,r,u,u[9],n?he(r,u[9],f,kg):ge(u[9]),Vs),ue(e,s=ye(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(k(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&I(e),l&&l.d(u),t[11](null),o=!1,i()}}}function Ag(t){let e;const n=t[10].default,o=pe(n,t,t[9],xs);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&516)&&_e(o,n,i,i[9],e?he(n,i[9],r,Cg):ge(i[9]),xs)},i(i){e||(k(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function Sg(t){let e,n,o,i;const r=[Ag,Tg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Se(),T(l[f],1,1,()=>{l[f]=null}),Ie(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){T(n),i=!1},d(s){s&&I(o),l[e].d(s)}}}function Ig(t,e,n){let o;const i=["max","value","onValueChange","asChild","el"];let r=se(e,i),l,{$$slots:a={},$$scope:s}=e,{max:u=void 0}=e,{value:f=void 0}=e,{onValueChange:c=void 0}=e,{asChild:d=!1}=e,{el:m=void 0}=e;const{elements:{root:p},states:{value:h},updateOption:g,getAttrs:w}=wg({max:u,defaultValue:f,onValueChange:({next:N})=>(c==null||c(N),n(5,f=N),N)});ae(t,p,N=>n(8,l=N));const b=w("root");function C(N){Ne[N?"unshift":"push"](()=>{m=N,n(0,m)})}return t.$$set=N=>{e=J(J({},e),Le(N)),n(4,r=se(e,i)),"max"in N&&n(6,u=N.max),"value"in N&&n(5,f=N.value),"onValueChange"in N&&n(7,c=N.onValueChange),"asChild"in N&&n(1,d=N.asChild),"el"in N&&n(0,m=N.el),"$$scope"in N&&n(9,s=N.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f!==void 0&&h.set(f),t.$$.dirty&64&&g("max",u),t.$$.dirty&256&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,b)},[m,d,o,p,r,f,u,c,l,s,a,C]}let Og=class extends me{constructor(e){super(),de(this,e,Ig,Sg,ce,{max:6,value:5,onValueChange:7,asChild:1,el:0})}};function fc(){return{NAME:"slider",PARTS:["root","input","range","thumb","tick"]}}function Mg(t){const{NAME:e,PARTS:n}=fc(),o=$n(e,n),i={...Ph(co(t)),getAttrs:o};return Xi(e,i),{...i,updateOption:Rn(i.options)}}function cc(){const{NAME:t}=fc();return Ji(t)}const Pg=t=>({builder:t&4,ticks:t&8,thumbs:t&16}),Ys=t=>({builder:t[2],ticks:t[3],thumbs:t[4]}),Ng=t=>({builder:t&4,ticks:t&8,thumbs:t&16}),Us=t=>({builder:t[2],ticks:t[3],thumbs:t[4]});function Eg(t){let e,n,o,i;const r=t[18].default,l=pe(r,t,t[17],Ys);let a=[t[2],t[8]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=E("span"),l&&l.c(),ue(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[19](e),n=!0,o||(i=je(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&131100)&&_e(l,r,u,u[17],n?he(r,u[17],f,Pg):ge(u[17]),Ys),ue(e,s=ye(a,[f&4&&u[2],f&256&&u[8]]))},i(u){n||(k(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&I(e),l&&l.d(u),t[19](null),o=!1,i()}}}function Rg(t){let e;const n=t[18].default,o=pe(n,t,t[17],Us);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&131100)&&_e(o,n,i,i[17],e?he(n,i[17],r,Ng):ge(i[17]),Us)},i(i){e||(k(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function Lg(t){let e,n,o,i;const r=[Rg,Eg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Se(),T(l[f],1,1,()=>{l[f]=null}),Ie(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){T(n),i=!1},d(s){s&&I(o),l[e].d(s)}}}function Dg(t,e,n){let o;const i=["disabled","min","max","step","orientation","value","onValueChange","asChild","el"];let r=se(e,i),l,a,s,{$$slots:u={},$$scope:f}=e,{disabled:c=void 0}=e,{min:d=void 0}=e,{max:m=void 0}=e,{step:p=void 0}=e,{orientation:h=void 0}=e,{value:g=void 0}=e,{onValueChange:w=void 0}=e,{asChild:b=!1}=e,{el:C=void 0}=e;const{elements:{root:N,ticks:F,thumbs:P},states:{value:D},updateOption:H,getAttrs:M}=Mg({disabled:c,min:d,max:m,step:p,orientation:h,defaultValue:g,onValueChange:({next:v})=>(g!==v&&(w==null||w(v),n(9,g=v)),v)});ae(t,N,v=>n(16,l=v)),ae(t,F,v=>n(3,a=v)),ae(t,P,v=>n(4,s=v));const R=M("root");function S(v){Ne[v?"unshift":"push"](()=>{C=v,n(0,C)})}return t.$$set=v=>{e=J(J({},e),Le(v)),n(8,r=se(e,i)),"disabled"in v&&n(10,c=v.disabled),"min"in v&&n(11,d=v.min),"max"in v&&n(12,m=v.max),"step"in v&&n(13,p=v.step),"orientation"in v&&n(14,h=v.orientation),"value"in v&&n(9,g=v.value),"onValueChange"in v&&n(15,w=v.onValueChange),"asChild"in v&&n(1,b=v.asChild),"el"in v&&n(0,C=v.el),"$$scope"in v&&n(17,f=v.$$scope)},t.$$.update=()=>{t.$$.dirty&512&&g!==void 0&&D.set(g),t.$$.dirty&1024&&H("disabled",c),t.$$.dirty&2048&&H("min",d),t.$$.dirty&4096&&H("max",m),t.$$.dirty&8192&&H("step",p),t.$$.dirty&16384&&H("orientation",h),t.$$.dirty&65536&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,R)},[C,b,o,a,s,N,F,P,r,g,c,d,m,p,h,w,l,f,u,S]}let $g=class extends me{constructor(e){super(),de(this,e,Dg,Lg,ce,{disabled:10,min:11,max:12,step:13,orientation:14,value:9,onValueChange:15,asChild:1,el:0})}};const Fg=t=>({builder:t&4}),Ks=t=>({builder:t[2]});function jg(t){let e,n,o,i=[t[2],t[4]],r={};for(let l=0;l<i.length;l+=1)r=J(r,i[l]);return{c(){e=E("span"),ue(e,r)},m(l,a){O(l,e,a),t[8](e),n||(o=je(t[2].action(e)),n=!0)},p(l,a){ue(e,r=ye(i,[a&4&&l[2],a&16&&l[4]]))},i:ve,o:ve,d(l){l&&I(e),t[8](null),n=!1,o()}}}function qg(t){let e;const n=t[7].default,o=pe(n,t,t[6],Ks);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&68)&&_e(o,n,i,i[6],e?he(n,i[6],r,Fg):ge(i[6]),Ks)},i(i){e||(k(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function Bg(t){let e,n,o,i;const r=[qg,jg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Se(),T(l[f],1,1,()=>{l[f]=null}),Ie(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){T(n),i=!1},d(s){s&&I(o),l[e].d(s)}}}function Hg(t,e,n){let o;const i=["asChild","el"];let r=se(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{range:c},getAttrs:d}=cc();ae(t,c,h=>n(5,l=h));const m=d("range");function p(h){Ne[h?"unshift":"push"](()=>{f=h,n(0,f)})}return t.$$set=h=>{e=J(J({},e),Le(h)),n(4,r=se(e,i)),"asChild"in h&&n(1,u=h.asChild),"el"in h&&n(0,f=h.el),"$$scope"in h&&n(6,s=h.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,m)},[f,u,o,c,r,l,s,a,p]}class Gg extends me{constructor(e){super(),de(this,e,Hg,Bg,ce,{asChild:1,el:0})}}const Wg=t=>({builder:t&4}),Xs=t=>({builder:t[2]});function Vg(t){let e,n,o,i=[t[2],t[4]],r={};for(let l=0;l<i.length;l+=1)r=J(r,i[l]);return{c(){e=E("span"),ue(e,r)},m(l,a){O(l,e,a),t[8](e),n||(o=[je(t[2].action(e)),ee(e,"m-keydown",t[3])],n=!0)},p(l,a){ue(e,r=ye(i,[a&4&&l[2],a&16&&l[4]]))},i:ve,o:ve,d(l){l&&I(e),t[8](null),n=!1,Be(o)}}}function xg(t){let e;const n=t[7].default,o=pe(n,t,t[6],Xs);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&68)&&_e(o,n,i,i[6],e?he(n,i[6],r,Wg):ge(i[6]),Xs)},i(i){e||(k(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function Yg(t){let e,n,o,i;const r=[xg,Vg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Se(),T(l[f],1,1,()=>{l[f]=null}),Ie(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){T(n),i=!1},d(s){s&&I(o),l[e].d(s)}}}function Ug(t,e,n){let o;const i=["asChild","el","thumb"];let r=se(e,i),{$$slots:l={},$$scope:a}=e,{asChild:s=!1}=e,{el:u=void 0}=e,{thumb:f}=e;const{getAttrs:c}=cc(),d=Fn(),m=c("thumb");function p(h){Ne[h?"unshift":"push"](()=>{u=h,n(0,u)})}return t.$$set=h=>{e=J(J({},e),Le(h)),n(4,r=se(e,i)),"asChild"in h&&n(1,s=h.asChild),"el"in h&&n(0,u=h.el),"thumb"in h&&n(5,f=h.thumb),"$$scope"in h&&n(6,a=h.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=f),t.$$.dirty&4&&Object.assign(o,m)},[u,s,o,d,r,f,a,l,p]}class Kg extends me{constructor(e){super(),de(this,e,Ug,Yg,ce,{asChild:1,el:0,thumb:5})}}function dc(){return{NAME:"tooltip",PARTS:["arrow","content","trigger"]}}function Xg(t){const{NAME:e,PARTS:n}=dc(),o=$n(e,n),i={...Rh({positioning:{placement:"top",gutter:0},openDelay:700,...co(t),forceVisible:!0}),getAttrs:o};return Xi(e,i),{...i,updateOption:Rn(i.options)}}function gl(){const{NAME:t}=dc();return Ji(t)}function Jg(t){const n={...{side:"top",align:"center",sideOffset:1},...t},{options:{positioning:o}}=gl();Z_(o)({...n})}const Zg=t=>({ids:t&1}),Js=t=>({ids:t[0]});function Qg(t){let e;const n=t[12].default,o=pe(n,t,t[11],Js);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,[r]){o&&o.p&&(!e||r&2049)&&_e(o,n,i,i[11],e?he(n,i[11],r,Zg):ge(i[11]),Js)},i(i){e||(k(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function zg(t,e,n){let o,{$$slots:i={},$$scope:r}=e,{closeOnEscape:l=void 0}=e,{portal:a=void 0}=e,{closeOnPointerDown:s=void 0}=e,{openDelay:u=void 0}=e,{closeDelay:f=void 0}=e,{open:c=void 0}=e,{onOpenChange:d=void 0}=e,{disableHoverableContent:m=void 0}=e,{group:p=void 0}=e;const{states:{open:h},updateOption:g,ids:w}=Xg({closeOnEscape:l,portal:a,closeOnPointerDown:s,openDelay:u,closeDelay:f,forceVisible:!0,defaultOpen:c,disableHoverableContent:m,group:p,onOpenChange:({next:C})=>(c!==C&&(d==null||d(C),n(2,c=C)),C),positioning:{gutter:0,offset:{mainAxis:1}}}),b=nn([w.content,w.trigger],([C,N])=>({content:C,trigger:N}));return ae(t,b,C=>n(0,o=C)),t.$$set=C=>{"closeOnEscape"in C&&n(3,l=C.closeOnEscape),"portal"in C&&n(4,a=C.portal),"closeOnPointerDown"in C&&n(5,s=C.closeOnPointerDown),"openDelay"in C&&n(6,u=C.openDelay),"closeDelay"in C&&n(7,f=C.closeDelay),"open"in C&&n(2,c=C.open),"onOpenChange"in C&&n(8,d=C.onOpenChange),"disableHoverableContent"in C&&n(9,m=C.disableHoverableContent),"group"in C&&n(10,p=C.group),"$$scope"in C&&n(11,r=C.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&c!==void 0&&h.set(c),t.$$.dirty&8&&g("closeOnEscape",l),t.$$.dirty&16&&g("portal",a),t.$$.dirty&32&&g("closeOnPointerDown",s),t.$$.dirty&64&&g("openDelay",u),t.$$.dirty&128&&g("closeDelay",f),t.$$.dirty&1024&&g("group",p),t.$$.dirty&512&&g("disableHoverableContent",m)},[o,b,c,l,a,s,u,f,d,m,p,r,i]}class e1 extends me{constructor(e){super(),de(this,e,zg,Qg,ce,{closeOnEscape:3,portal:4,closeOnPointerDown:5,openDelay:6,closeDelay:7,open:2,onOpenChange:8,disableHoverableContent:9,group:10})}}const t1=t=>({builder:t[0]&256}),Zs=t=>({builder:t[8]}),n1=t=>({builder:t[0]&256}),Qs=t=>({builder:t[8]}),o1=t=>({builder:t[0]&256}),zs=t=>({builder:t[8]}),i1=t=>({builder:t[0]&256}),ea=t=>({builder:t[8]}),r1=t=>({builder:t[0]&256}),ta=t=>({builder:t[8]}),l1=t=>({builder:t[0]&256}),na=t=>({builder:t[8]});function s1(t){let e,n,o,i;const r=t[28].default,l=pe(r,t,t[27],Zs);let a=[t[8],t[13]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=E("div"),l&&l.c(),ue(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[33](e),n=!0,o||(i=[je(t[8].action(e)),ee(e,"m-pointerdown",t[12]),ee(e,"m-pointerenter",t[12])],o=!0)},p(u,f){l&&l.p&&(!n||f[0]&134217984)&&_e(l,r,u,u[27],n?he(r,u[27],f,t1):ge(u[27]),Zs),ue(e,s=ye(a,[f[0]&256&&u[8],f[0]&8192&&u[13]]))},i(u){n||(k(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&I(e),l&&l.d(u),t[33](null),o=!1,Be(i)}}}function a1(t){let e,n,o,i,r;const l=t[28].default,a=pe(l,t,t[27],Qs);let s=[t[8],t[13]],u={};for(let f=0;f<s.length;f+=1)u=J(u,s[f]);return{c(){e=E("div"),a&&a.c(),ue(e,u)},m(f,c){O(f,e,c),a&&a.m(e,null),t[32](e),o=!0,i||(r=[je(t[8].action(e)),ee(e,"m-pointerdown",t[12]),ee(e,"m-pointerenter",t[12])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&134217984)&&_e(a,l,t,t[27],o?he(l,t[27],c,n1):ge(t[27]),Qs),ue(e,u=ye(s,[c[0]&256&&t[8],c[0]&8192&&t[13]]))},i(f){o||(k(a,f),n&&n.end(1),o=!0)},o(f){T(a,f),f&&(n=Vt(e,t[5],t[6])),o=!1},d(f){f&&I(e),a&&a.d(f),t[32](null),f&&n&&n.end(),i=!1,Be(r)}}}function u1(t){let e,n,o,i,r;const l=t[28].default,a=pe(l,t,t[27],zs);let s=[t[8],t[13]],u={};for(let f=0;f<s.length;f+=1)u=J(u,s[f]);return{c(){e=E("div"),a&&a.c(),ue(e,u)},m(f,c){O(f,e,c),a&&a.m(e,null),t[31](e),o=!0,i||(r=[je(t[8].action(e)),ee(e,"m-pointerdown",t[12]),ee(e,"m-pointerenter",t[12])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&134217984)&&_e(a,l,t,t[27],o?he(l,t[27],c,o1):ge(t[27]),zs),ue(e,u=ye(s,[c[0]&256&&t[8],c[0]&8192&&t[13]]))},i(f){o||(k(a,f),f&&(n||it(()=>{n=Wt(e,t[3],t[4]),n.start()})),o=!0)},o(f){T(a,f),o=!1},d(f){f&&I(e),a&&a.d(f),t[31](null),i=!1,Be(r)}}}function f1(t){let e,n,o,i,r,l;const a=t[28].default,s=pe(a,t,t[27],ea);let u=[t[8],t[13]],f={};for(let c=0;c<u.length;c+=1)f=J(f,u[c]);return{c(){e=E("div"),s&&s.c(),ue(e,f)},m(c,d){O(c,e,d),s&&s.m(e,null),t[30](e),i=!0,r||(l=[je(t[8].action(e)),ee(e,"m-pointerdown",t[12]),ee(e,"m-pointerenter",t[12])],r=!0)},p(c,d){t=c,s&&s.p&&(!i||d[0]&134217984)&&_e(s,a,t,t[27],i?he(a,t[27],d,i1):ge(t[27]),ea),ue(e,f=ye(u,[d[0]&256&&t[8],d[0]&8192&&t[13]]))},i(c){i||(k(s,c),c&&it(()=>{i&&(o&&o.end(1),n=Wt(e,t[3],t[4]),n.start())}),i=!0)},o(c){T(s,c),n&&n.invalidate(),c&&(o=Vt(e,t[5],t[6])),i=!1},d(c){c&&I(e),s&&s.d(c),t[30](null),c&&o&&o.end(),r=!1,Be(l)}}}function c1(t){let e,n,o,i,r;const l=t[28].default,a=pe(l,t,t[27],ta);let s=[t[8],t[13]],u={};for(let f=0;f<s.length;f+=1)u=J(u,s[f]);return{c(){e=E("div"),a&&a.c(),ue(e,u)},m(f,c){O(f,e,c),a&&a.m(e,null),t[29](e),o=!0,i||(r=[je(t[8].action(e)),ee(e,"m-pointerdown",t[12]),ee(e,"m-pointerenter",t[12])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&134217984)&&_e(a,l,t,t[27],o?he(l,t[27],c,r1):ge(t[27]),ta),ue(e,u=ye(s,[c[0]&256&&t[8],c[0]&8192&&t[13]]))},i(f){o||(k(a,f),f&&it(()=>{o&&(n||(n=bt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(f){T(a,f),f&&(n||(n=bt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(f){f&&I(e),a&&a.d(f),t[29](null),f&&n&&n.end(),i=!1,Be(r)}}}function d1(t){let e;const n=t[28].default,o=pe(n,t,t[27],na);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r[0]&134217984)&&_e(o,n,i,i[27],e?he(n,i[27],r,l1):ge(i[27]),na)},i(i){e||(k(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function m1(t){let e,n,o,i;const r=[d1,c1,f1,u1,a1,s1],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=Re()},m(s,u){~e&&l[e].m(s,u),O(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Se(),T(l[f],1,1,()=>{l[f]=null}),Ie()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(k(n),i=!0)},o(s){T(n),i=!1},d(s){s&&I(o),~e&&l[e].d(s)}}}function p1(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","id","side","align","sideOffset","alignOffset","collisionPadding","avoidCollisions","collisionBoundary","sameWidth","fitViewport","strategy","overlap","el"];let r=se(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:p=void 0}=e,{outTransitionConfig:h=void 0}=e,{asChild:g=!1}=e,{id:w=void 0}=e,{side:b="top"}=e,{align:C="center"}=e,{sideOffset:N=0}=e,{alignOffset:F=0}=e,{collisionPadding:P=8}=e,{avoidCollisions:D=!0}=e,{collisionBoundary:H=void 0}=e,{sameWidth:M=!1}=e,{fitViewport:R=!1}=e,{strategy:S="absolute"}=e,{overlap:v=!1}=e,{el:A=void 0}=e;const{elements:{content:j},states:{open:W},ids:$,getAttrs:U}=gl();ae(t,j,ne=>n(26,a=ne)),ae(t,W,ne=>n(9,l=ne));const Q=Fn(),z=U("content");function te(ne){Ne[ne?"unshift":"push"](()=>{A=ne,n(0,A)})}function Z(ne){Ne[ne?"unshift":"push"](()=>{A=ne,n(0,A)})}function le(ne){Ne[ne?"unshift":"push"](()=>{A=ne,n(0,A)})}function Ce(ne){Ne[ne?"unshift":"push"](()=>{A=ne,n(0,A)})}function Ae(ne){Ne[ne?"unshift":"push"](()=>{A=ne,n(0,A)})}return t.$$set=ne=>{e=J(J({},e),Le(ne)),n(13,r=se(e,i)),"transition"in ne&&n(1,f=ne.transition),"transitionConfig"in ne&&n(2,c=ne.transitionConfig),"inTransition"in ne&&n(3,d=ne.inTransition),"inTransitionConfig"in ne&&n(4,m=ne.inTransitionConfig),"outTransition"in ne&&n(5,p=ne.outTransition),"outTransitionConfig"in ne&&n(6,h=ne.outTransitionConfig),"asChild"in ne&&n(7,g=ne.asChild),"id"in ne&&n(14,w=ne.id),"side"in ne&&n(15,b=ne.side),"align"in ne&&n(16,C=ne.align),"sideOffset"in ne&&n(17,N=ne.sideOffset),"alignOffset"in ne&&n(18,F=ne.alignOffset),"collisionPadding"in ne&&n(19,P=ne.collisionPadding),"avoidCollisions"in ne&&n(20,D=ne.avoidCollisions),"collisionBoundary"in ne&&n(21,H=ne.collisionBoundary),"sameWidth"in ne&&n(22,M=ne.sameWidth),"fitViewport"in ne&&n(23,R=ne.fitViewport),"strategy"in ne&&n(24,S=ne.strategy),"overlap"in ne&&n(25,v=ne.overlap),"el"in ne&&n(0,A=ne.el),"$$scope"in ne&&n(27,u=ne.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&16384&&w&&$.content.set(w),t.$$.dirty[0]&67108864&&n(8,o=a),t.$$.dirty[0]&256&&Object.assign(o,z),t.$$.dirty[0]&67076608&&l&&Jg({side:b,align:C,sideOffset:N,alignOffset:F,collisionPadding:P,avoidCollisions:D,collisionBoundary:H,sameWidth:M,fitViewport:R,strategy:S,overlap:v})},[A,f,c,d,m,p,h,g,o,l,j,W,Q,r,w,b,C,N,F,P,D,H,M,R,S,v,a,u,s,te,Z,le,Ce,Ae]}let h1=class extends me{constructor(e){super(),de(this,e,p1,m1,ce,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,id:14,side:15,align:16,sideOffset:17,alignOffset:18,collisionPadding:19,avoidCollisions:20,collisionBoundary:21,sameWidth:22,fitViewport:23,strategy:24,overlap:25,el:0},null,[-1,-1])}};const _1=t=>({builder:t&4}),oa=t=>({builder:t[2]}),g1=t=>({builder:t&4}),ia=t=>({builder:t[2]});function b1(t){let e,n,o,i;const r=t[9].default,l=pe(r,t,t[8],oa);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=E("button"),l&&l.c(),ue(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[10](e),n=!0,o||(i=[je(t[2].action(e)),ee(e,"m-blur",t[4]),ee(e,"m-focus",t[4]),ee(e,"m-keydown",t[4]),ee(e,"m-pointerdown",t[4]),ee(e,"m-pointerenter",t[4]),ee(e,"m-pointerleave",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&260)&&_e(l,r,u,u[8],n?he(r,u[8],f,_1):ge(u[8]),oa),ue(e,s=ye(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(k(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&I(e),l&&l.d(u),t[10](null),o=!1,Be(i)}}}function v1(t){let e;const n=t[9].default,o=pe(n,t,t[8],ia);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&260)&&_e(o,n,i,i[8],e?he(n,i[8],r,g1):ge(i[8]),ia)},i(i){e||(k(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function y1(t){let e,n,o,i;const r=[v1,b1],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Se(),T(l[f],1,1,()=>{l[f]=null}),Ie(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){T(n),i=!1},d(s){s&&I(o),l[e].d(s)}}}function w1(t,e,n){let o;const i=["asChild","id","el"];let r=se(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{trigger:d},ids:m,getAttrs:p}=gl();ae(t,d,b=>n(7,l=b));const h=Fn(),g=p("trigger");function w(b){Ne[b?"unshift":"push"](()=>{c=b,n(0,c)})}return t.$$set=b=>{e=J(J({},e),Le(b)),n(5,r=se(e,i)),"asChild"in b&&n(1,u=b.asChild),"id"in b&&n(6,f=b.id),"el"in b&&n(0,c=b.el),"$$scope"in b&&n(8,s=b.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&f&&m.trigger.set(f),t.$$.dirty&128&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,g)},[c,u,o,d,h,r,f,l,s,a,w]}class k1 extends me{constructor(e){super(),de(this,e,w1,y1,ce,{asChild:1,id:6,el:0})}}function C1(t){let e;const n=t[2].default,o=pe(n,t,t[3],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&8)&&_e(o,n,i,i[3],e?he(n,i[3],r,null):ge(i[3]),null)},i(i){e||(k(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function T1(t){let e,n;const o=[{class:Fe("text-lg font-semibold leading-none tracking-tight",t[0])},t[1]];let i={$$slots:{default:[C1]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=J(i,o[r]);return e=new v0({props:i}),{c(){Y(e.$$.fragment)},m(r,l){V(e,r,l),n=!0},p(r,[l]){const a=l&3?ye(o,[l&1&&{class:Fe("text-lg font-semibold leading-none tracking-tight",r[0])},l&2&&st(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){x(e,r)}}}function A1(t,e,n){const o=["class"];let i=se(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=J(J({},e),Le(s)),n(1,i=se(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,l=s.$$scope)},[a,i,r,l]}class bn extends me{constructor(e){super(),de(this,e,A1,T1,ce,{class:0})}}function S1(t){let e;const n=t[1].default,o=pe(n,t,t[2],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&4)&&_e(o,n,i,i[2],e?he(n,i[2],r,null):ge(i[2]),null)},i(i){e||(k(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function I1(t){let e,n;const o=[t[0]];let i={$$slots:{default:[S1]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=J(i,o[r]);return e=new R0({props:i}),{c(){Y(e.$$.fragment)},m(r,l){V(e,r,l),n=!0},p(r,[l]){const a=l&1?ye(o,[st(r[0])]):{};l&4&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){x(e,r)}}}function O1(t,e,n){const o=[];let i=se(e,o),{$$slots:r={},$$scope:l}=e;return t.$$set=a=>{e=J(J({},e),Le(a)),n(0,i=se(e,o)),"$$scope"in a&&n(2,l=a.$$scope)},[i,r,l]}class M1 extends me{constructor(e){super(),de(this,e,O1,I1,ce,{})}}function P1(t){let e,n,o;const i=t[3].default,r=pe(i,t,t[2],null);let l=[{class:n=Fe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=J(a,l[s]);return{c(){e=E("div"),r&&r.c(),ue(e,a)},m(s,u){O(s,e,u),r&&r.m(e,null),o=!0},p(s,[u]){r&&r.p&&(!o||u&4)&&_e(r,i,s,s[2],o?he(i,s[2],u,null):ge(s[2]),null),ue(e,a=ye(l,[(!o||u&1&&n!==(n=Fe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(k(r,s),o=!0)},o(s){T(r,s),o=!1},d(s){s&&I(e),r&&r.d(s)}}}function N1(t,e,n){const o=["class"];let i=se(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=J(J({},e),Le(s)),n(1,i=se(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,i,l,r]}class qn extends me{constructor(e){super(),de(this,e,N1,P1,ce,{class:0})}}function E1(t){let e,n,o;const i=t[3].default,r=pe(i,t,t[2],null);let l=[{class:n=Fe("flex flex-col space-y-1.5 text-center sm:text-left",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=J(a,l[s]);return{c(){e=E("div"),r&&r.c(),ue(e,a)},m(s,u){O(s,e,u),r&&r.m(e,null),o=!0},p(s,[u]){r&&r.p&&(!o||u&4)&&_e(r,i,s,s[2],o?he(i,s[2],u,null):ge(s[2]),null),ue(e,a=ye(l,[(!o||u&1&&n!==(n=Fe("flex flex-col space-y-1.5 text-center sm:text-left",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(k(r,s),o=!0)},o(s){T(r,s),o=!1},d(s){s&&I(e),r&&r.d(s)}}}function R1(t,e,n){const o=["class"];let i=se(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=J(J({},e),Le(s)),n(1,i=se(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,i,l,r]}class vn extends me{constructor(e){super(),de(this,e,R1,E1,ce,{class:0})}}function Di(t,{delay:e=0,duration:n=400,easing:o=Ui}={}){const i=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:o,css:r=>`opacity: ${r*i}`}}function ra(t,{delay:e=0,duration:n=400,easing:o=Ff,axis:i="y"}={}){const r=getComputedStyle(t),l=+r.opacity,a=i==="y"?"height":"width",s=parseFloat(r[a]),u=i==="y"?["top","bottom"]:["left","right"],f=u.map(w=>`${w[0].toUpperCase()}${w.slice(1)}`),c=parseFloat(r[`padding${f[0]}`]),d=parseFloat(r[`padding${f[1]}`]),m=parseFloat(r[`margin${f[0]}`]),p=parseFloat(r[`margin${f[1]}`]),h=parseFloat(r[`border${f[0]}Width`]),g=parseFloat(r[`border${f[1]}Width`]);return{delay:e,duration:n,easing:o,css:w=>`overflow: hidden;opacity: ${Math.min(w*20,1)*l};${a}: ${w*s}px;padding-${u[0]}: ${w*c}px;padding-${u[1]}: ${w*d}px;margin-${u[0]}: ${w*m}px;margin-${u[1]}: ${w*p}px;border-${u[0]}-width: ${w*h}px;border-${u[1]}-width: ${w*g}px;`}}function L1(t){let e,n;const o=[{transition:t[1]},{transitionConfig:t[2]},{class:Fe("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm",t[0])},t[3]];let i={};for(let r=0;r<o.length;r+=1)i=J(i,o[r]);return e=new ig({props:i}),{c(){Y(e.$$.fragment)},m(r,l){V(e,r,l),n=!0},p(r,[l]){const a=l&15?ye(o,[l&2&&{transition:r[1]},l&4&&{transitionConfig:r[2]},l&1&&{class:Fe("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm",r[0])},l&8&&st(r[3])]):{};e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){x(e,r)}}}function D1(t,e,n){const o=["class","transition","transitionConfig"];let i=se(e,o),{class:r=void 0}=e,{transition:l=Di}=e,{transitionConfig:a={duration:150}}=e;return t.$$set=s=>{e=J(J({},e),Le(s)),n(3,i=se(e,o)),"class"in s&&n(0,r=s.class),"transition"in s&&n(1,l=s.transition),"transitionConfig"in s&&n(2,a=s.transitionConfig)},[r,l,a,i]}class $1 extends me{constructor(e){super(),de(this,e,D1,L1,ce,{class:0,transition:1,transitionConfig:2})}}/**
 * @license lucide-svelte v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};function sa(t,e,n){const o=t.slice();return o[11]=e[n][0],o[12]=e[n][1],o}function vr(t){let e,n=[t[12]],o={};for(let i=0;i<n.length;i+=1)o=J(o,n[i]);return{c(){e=Ki(t[11]),gi(e,o)},m(i,r){O(i,e,r)},p(i,r){gi(e,o=ye(n,[r&32&&i[12]]))},d(i){i&&I(e)}}}function aa(t){let e=t[11],n,o=t[11]&&vr(t);return{c(){o&&o.c(),n=Re()},m(i,r){o&&o.m(i,r),O(i,n,r)},p(i,r){i[11]?e?ce(e,i[11])?(o.d(1),o=vr(i),e=i[11],o.c(),o.m(n.parentNode,n)):o.p(i,r):(o=vr(i),e=i[11],o.c(),o.m(n.parentNode,n)):e&&(o.d(1),o=null,e=i[11])},d(i){i&&I(n),o&&o.d(i)}}}function F1(t){let e,n,o,i,r,l=Ve(t[5]),a=[];for(let d=0;d<l.length;d+=1)a[d]=aa(sa(t,l,d));const s=t[10].default,u=pe(s,t,t[9],null);let f=[la,t[7],{width:t[2]},{height:t[2]},{stroke:t[1]},{"stroke-width":o=t[4]?Number(t[3])*24/Number(t[2]):t[3]},{class:i=t[6]("lucide-icon","lucide",t[0]?`lucide-${t[0]}`:"",t[8].class)}],c={};for(let d=0;d<f.length;d+=1)c=J(c,f[d]);return{c(){e=Ki("svg");for(let d=0;d<a.length;d+=1)a[d].c();n=Re(),u&&u.c(),gi(e,c)},m(d,m){O(d,e,m);for(let p=0;p<a.length;p+=1)a[p]&&a[p].m(e,null);y(e,n),u&&u.m(e,null),r=!0},p(d,[m]){if(m&32){l=Ve(d[5]);let p;for(p=0;p<l.length;p+=1){const h=sa(d,l,p);a[p]?a[p].p(h,m):(a[p]=aa(h),a[p].c(),a[p].m(e,n))}for(;p<a.length;p+=1)a[p].d(1);a.length=l.length}u&&u.p&&(!r||m&512)&&_e(u,s,d,d[9],r?he(s,d[9],m,null):ge(d[9]),null),gi(e,c=ye(f,[la,m&128&&d[7],(!r||m&4)&&{width:d[2]},(!r||m&4)&&{height:d[2]},(!r||m&2)&&{stroke:d[1]},(!r||m&28&&o!==(o=d[4]?Number(d[3])*24/Number(d[2]):d[3]))&&{"stroke-width":o},(!r||m&257&&i!==(i=d[6]("lucide-icon","lucide",d[0]?`lucide-${d[0]}`:"",d[8].class)))&&{class:i}]))},i(d){r||(k(u,d),r=!0)},o(d){T(u,d),r=!1},d(d){d&&I(e),ft(a,d),u&&u.d(d)}}}function j1(t,e,n){const o=["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode","mergeClasses"];let i=se(e,o),{$$slots:r={},$$scope:l}=e,{name:a=void 0}=e,{color:s="currentColor"}=e,{size:u=24}=e,{strokeWidth:f=2}=e,{absoluteStrokeWidth:c=!1}=e,{iconNode:d}=e;const m=(...p)=>p.filter((h,g,w)=>!!h&&w.indexOf(h)===g).join(" ");return t.$$set=p=>{n(8,e=J(J({},e),Le(p))),n(7,i=se(e,o)),"name"in p&&n(0,a=p.name),"color"in p&&n(1,s=p.color),"size"in p&&n(2,u=p.size),"strokeWidth"in p&&n(3,f=p.strokeWidth),"absoluteStrokeWidth"in p&&n(4,c=p.absoluteStrokeWidth),"iconNode"in p&&n(5,d=p.iconNode),"$$scope"in p&&n(9,l=p.$$scope)},e=Le(e),[a,s,u,f,c,d,m,i,e,l,r]}class q1 extends me{constructor(e){super(),de(this,e,j1,F1,ce,{name:0,color:1,size:2,strokeWidth:3,absoluteStrokeWidth:4,iconNode:5,mergeClasses:6})}get mergeClasses(){return this.$$.ctx[6]}}function B1(t){let e;const n=t[2].default,o=pe(n,t,t[3],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&8)&&_e(o,n,i,i[3],e?he(n,i[3],r,null):ge(i[3]),null)},i(i){e||(k(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function H1(t){let e,n;const o=[{name:"x"},t[1],{iconNode:t[0]}];let i={$$slots:{default:[B1]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=J(i,o[r]);return e=new q1({props:i}),{c(){Y(e.$$.fragment)},m(r,l){V(e,r,l),n=!0},p(r,[l]){const a=l&3?ye(o,[o[0],l&2&&st(r[1]),l&1&&{iconNode:r[0]}]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){x(e,r)}}}function G1(t,e,n){let{$$slots:o={},$$scope:i}=e;const r=[["path",{d:"M18 6 6 18"}],["path",{d:"m6 6 12 12"}]];return t.$$set=l=>{n(1,e=J(J({},e),Le(l))),"$$scope"in l&&n(3,i=l.$$scope)},e=Le(e),[r,e,o,i]}class W1 extends me{constructor(e){super(),de(this,e,G1,H1,ce,{})}}function V1(t){let e,n,o,i;return e=new W1({props:{class:"h-4 w-4"}}),{c(){Y(e.$$.fragment),n=q(),o=E("span"),o.textContent="Close",L(o,"class","sr-only")},m(r,l){V(e,r,l),O(r,n,l),O(r,o,l),i=!0},p:ve,i(r){i||(k(e.$$.fragment,r),i=!0)},o(r){T(e.$$.fragment,r),i=!1},d(r){r&&(I(n),I(o)),x(e,r)}}}function x1(t){let e,n,o;const i=t[4].default,r=pe(i,t,t[5],null);return n=new S0({props:{class:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",$$slots:{default:[V1]},$$scope:{ctx:t}}}),{c(){r&&r.c(),e=q(),Y(n.$$.fragment)},m(l,a){r&&r.m(l,a),O(l,e,a),V(n,l,a),o=!0},p(l,a){r&&r.p&&(!o||a&32)&&_e(r,i,l,l[5],o?he(i,l[5],a,null):ge(l[5]),null);const s={};a&32&&(s.$$scope={dirty:a,ctx:l}),n.$set(s)},i(l){o||(k(r,l),k(n.$$.fragment,l),o=!0)},o(l){T(r,l),T(n.$$.fragment,l),o=!1},d(l){l&&I(e),r&&r.d(l),x(n,l)}}}function Y1(t){let e,n,o,i;e=new $1({});const r=[{transition:t[1]},{transitionConfig:t[2]},{class:Fe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg rounded-3xl md:w-full",t[0])},t[3]];let l={$$slots:{default:[x1]},$$scope:{ctx:t}};for(let a=0;a<r.length;a+=1)l=J(l,r[a]);return o=new K0({props:l}),{c(){Y(e.$$.fragment),n=q(),Y(o.$$.fragment)},m(a,s){V(e,a,s),O(a,n,s),V(o,a,s),i=!0},p(a,s){const u=s&15?ye(r,[s&2&&{transition:a[1]},s&4&&{transitionConfig:a[2]},s&1&&{class:Fe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg rounded-3xl md:w-full",a[0])},s&8&&st(a[3])]):{};s&32&&(u.$$scope={dirty:s,ctx:a}),o.$set(u)},i(a){i||(k(e.$$.fragment,a),k(o.$$.fragment,a),i=!0)},o(a){T(e.$$.fragment,a),T(o.$$.fragment,a),i=!1},d(a){a&&I(n),x(e,a),x(o,a)}}}function U1(t){let e,n;return e=new M1({props:{$$slots:{default:[Y1]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,[i]){const r={};i&47&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function K1(t,e,n){const o=["class","transition","transitionConfig"];let i=se(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{transition:s=Yo}=e,{transitionConfig:u={duration:400}}=e;return t.$$set=f=>{e=J(J({},e),Le(f)),n(3,i=se(e,o)),"class"in f&&n(0,a=f.class),"transition"in f&&n(1,s=f.transition),"transitionConfig"in f&&n(2,u=f.transitionConfig),"$$scope"in f&&n(5,l=f.$$scope)},[a,s,u,i,r,l]}class yn extends me{constructor(e){super(),de(this,e,K1,U1,ce,{class:0,transition:1,transitionConfig:2})}}function X1(t){let e;const n=t[2].default,o=pe(n,t,t[3],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&8)&&_e(o,n,i,i[3],e?he(n,i[3],r,null):ge(i[3]),null)},i(i){e||(k(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function J1(t){let e,n;const o=[{class:Fe("text-sm text-muted-foreground",t[0])},t[1]];let i={$$slots:{default:[X1]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=J(i,o[r]);return e=new cg({props:i}),{c(){Y(e.$$.fragment)},m(r,l){V(e,r,l),n=!0},p(r,[l]){const a=l&3?ye(o,[l&1&&{class:Fe("text-sm text-muted-foreground",r[0])},l&2&&st(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){x(e,r)}}}function Z1(t,e,n){const o=["class"];let i=se(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=J(J({},e),Le(s)),n(1,i=se(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,l=s.$$scope)},[a,i,r,l]}class Bn extends me{constructor(e){super(),de(this,e,Z1,J1,ce,{class:0})}}const wn=d0,an={land:{short_title:"Fill the grid",description_title:"You win by filling up all possible plots in the grid, and by meeting some requirements.",win:"You have filled the grid with buildings and met the requirements. Your citizens are happy, fulfilled, hard-working, and healthy. ",requirements:{0:{population_count:200,happiness:100,health:100,employment:1,knowledge:50,required_plots:["pub","small_school","community_center"]},1:{population_count:1e3,happiness:120,health:120,employment:1,knowledge:100,required_plots:["bank"]},2:{population_count:1e3,happiness:200,health:200,employment:1,knowledge:1e3,required_plots:["bank","city_hall"]}}},free_play:{short_title:"Quests",description_title:"Play for as long as you can and build the best city you can while completing quests."}};function Q1(t){let e,n;const o=[{class:Fe("shrink-0 bg-border",t[1]==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t[0])},{orientation:t[1]},{decorative:t[2]},t[3]];let i={};for(let r=0;r<o.length;r+=1)i=J(i,o[r]);return e=new s0({props:i}),{c(){Y(e.$$.fragment)},m(r,l){V(e,r,l),n=!0},p(r,[l]){const a=l&15?ye(o,[l&3&&{class:Fe("shrink-0 bg-border",r[1]==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",r[0])},l&2&&{orientation:r[1]},l&4&&{decorative:r[2]},l&8&&st(r[3])]):{};e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){x(e,r)}}}function z1(t,e,n){const o=["class","orientation","decorative"];let i=se(e,o),{class:r=void 0}=e,{orientation:l="horizontal"}=e,{decorative:a=void 0}=e;return t.$$set=s=>{e=J(J({},e),Le(s)),n(3,i=se(e,o)),"class"in s&&n(0,r=s.class),"orientation"in s&&n(1,l=s.orientation),"decorative"in s&&n(2,a=s.decorative)},[r,l,a,i]}class St extends me{constructor(e){super(),de(this,e,z1,Q1,ce,{class:0,orientation:1,decorative:2})}}function eb(t){let e;const n=t[3].default,o=pe(n,t,t[4],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&16)&&_e(o,n,i,i[4],e?he(n,i[4],r,null):ge(i[4]),null)},i(i){e||(k(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function tb(t){let e,n;const o=[{class:Fe("text-lg font-semibold",t[0])},{level:t[1]},t[2]];let i={$$slots:{default:[eb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=J(i,o[r]);return e=new xh({props:i}),{c(){Y(e.$$.fragment)},m(r,l){V(e,r,l),n=!0},p(r,[l]){const a=l&7?ye(o,[l&1&&{class:Fe("text-lg font-semibold",r[0])},l&2&&{level:r[1]},l&4&&st(r[2])]):{};l&16&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){x(e,r)}}}function nb(t,e,n){const o=["class","level"];let i=se(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{level:s="h3"}=e;return t.$$set=u=>{e=J(J({},e),Le(u)),n(2,i=se(e,o)),"class"in u&&n(0,a=u.class),"level"in u&&n(1,s=u.level),"$$scope"in u&&n(4,l=u.$$scope)},[a,s,i,r,l]}class mc extends me{constructor(e){super(),de(this,e,nb,tb,ce,{class:0,level:1})}}function ob(t){let e;const n=t[5].default,o=pe(n,t,t[8],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&256)&&_e(o,n,i,i[8],e?he(n,i[8],r,null):ge(i[8]),null)},i(i){e||(k(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function ib(t){let e,n;const o=[{builders:t[3]},{class:Fe(io({variant:t[1],size:t[2]}),t[0])},{type:"button"},t[4]];let i={$$slots:{default:[ob]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=J(i,o[r]);return e=new J_({props:i}),e.$on("click",t[6]),e.$on("keydown",t[7]),{c(){Y(e.$$.fragment)},m(r,l){V(e,r,l),n=!0},p(r,[l]){const a=l&31?ye(o,[l&8&&{builders:r[3]},l&7&&{class:Fe(io({variant:r[1],size:r[2]}),r[0])},o[2],l&16&&st(r[4])]):{};l&256&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){x(e,r)}}}function rb(t,e,n){const o=["class","variant","size","builders"];let i=se(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{variant:s="default"}=e,{size:u="default"}=e,{builders:f=[]}=e;function c(m){ie.call(this,t,m)}function d(m){ie.call(this,t,m)}return t.$$set=m=>{e=J(J({},e),Le(m)),n(4,i=se(e,o)),"class"in m&&n(0,a=m.class),"variant"in m&&n(1,s=m.variant),"size"in m&&n(2,u=m.size),"builders"in m&&n(3,f=m.builders),"$$scope"in m&&n(8,l=m.$$scope)},[a,s,u,f,i,r,c,d,l]}class $t extends me{constructor(e){super(),de(this,e,rb,ib,ce,{class:0,variant:1,size:2,builders:3})}}var ua=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,kt=t=>!t||typeof t!="object"||Object.keys(t).length===0,lb=(t,e)=>JSON.stringify(t)===JSON.stringify(e);function pc(t,e){t.forEach(function(n){Array.isArray(n)?pc(n,e):e.push(n)})}function hc(t){let e=[];return pc(t,e),e}var _c=(...t)=>hc(t).filter(Boolean),gc=(t,e)=>{let n={},o=Object.keys(t),i=Object.keys(e);for(let r of o)if(i.includes(r)){let l=t[r],a=e[r];typeof l=="object"&&typeof a=="object"?n[r]=gc(l,a):Array.isArray(l)||Array.isArray(a)?n[r]=_c(a,l):n[r]=a+" "+l}else n[r]=t[r];for(let r of i)o.includes(r)||(n[r]=e[r]);return n},fa=t=>!t||typeof t!="string"?t:t.replace(/\s+/g," ").trim(),sb={twMerge:!0,twMergeConfig:{},responsiveVariants:!1},bc=t=>t||void 0,Bo=(...t)=>bc(hc(t).filter(Boolean).join(" ")),yr=null,Xt={},Hr=!1,Co=(...t)=>e=>e.twMerge?((!yr||Hr)&&(Hr=!1,yr=kt(Xt)?$f:mm({...Xt,extend:{theme:Xt.theme,classGroups:Xt.classGroups,conflictingClassGroupModifiers:Xt.conflictingClassGroupModifiers,conflictingClassGroups:Xt.conflictingClassGroups,...Xt.extend}})),bc(yr(Bo(t)))):Bo(t),ca=(t,e)=>{for(let n in e)t.hasOwnProperty(n)?t[n]=Bo(t[n],e[n]):t[n]=e[n];return t},ab=(t,e)=>{let{extend:n=null,slots:o={},variants:i={},compoundVariants:r=[],compoundSlots:l=[],defaultVariants:a={}}=t,s={...sb,...e},u=n!=null&&n.base?Bo(n.base,t==null?void 0:t.base):t==null?void 0:t.base,f=n!=null&&n.variants&&!kt(n.variants)?gc(i,n.variants):i,c=n!=null&&n.defaultVariants&&!kt(n.defaultVariants)?{...n.defaultVariants,...a}:a;!kt(s.twMergeConfig)&&!lb(s.twMergeConfig,Xt)&&(Hr=!0,Xt=s.twMergeConfig);let d=kt(n==null?void 0:n.slots),m=kt(o)?{}:{base:Bo(t==null?void 0:t.base,d&&(n==null?void 0:n.base)),...o},p=d?m:ca({...n==null?void 0:n.slots},kt(m)?{base:t==null?void 0:t.base}:m),h=w=>{if(kt(f)&&kt(o)&&d)return Co(u,w==null?void 0:w.class,w==null?void 0:w.className)(s);if(r&&!Array.isArray(r))throw new TypeError(`The "compoundVariants" prop must be an array. Received: ${typeof r}`);if(l&&!Array.isArray(l))throw new TypeError(`The "compoundSlots" prop must be an array. Received: ${typeof l}`);let b=(v,A,j=[],W)=>{let $=j;if(typeof A=="string")$=$.concat(fa(A).split(" ").map(U=>`${v}:${U}`));else if(Array.isArray(A))$=$.concat(A.reduce((U,Q)=>U.concat(`${v}:${Q}`),[]));else if(typeof A=="object"&&typeof W=="string"){for(let U in A)if(A.hasOwnProperty(U)&&U===W){let Q=A[U];if(Q&&typeof Q=="string"){let z=fa(Q);$[W]?$[W]=$[W].concat(z.split(" ").map(te=>`${v}:${te}`)):$[W]=z.split(" ").map(te=>`${v}:${te}`)}else Array.isArray(Q)&&Q.length>0&&($[W]=Q.reduce((z,te)=>z.concat(`${v}:${te}`),[]))}}return $},C=(v,A=f,j=null,W=null)=>{var $;let U=A[v];if(!U||kt(U))return null;let Q=($=W==null?void 0:W[v])!=null?$:w==null?void 0:w[v];if(Q===null)return null;let z=ua(Q),te=Array.isArray(s.responsiveVariants)&&s.responsiveVariants.length>0||s.responsiveVariants===!0,Z=c==null?void 0:c[v],le=[];if(typeof z=="object"&&te)for(let[ne,_]of Object.entries(z)){let X=U[_];if(ne==="initial"){Z=_;continue}Array.isArray(s.responsiveVariants)&&!s.responsiveVariants.includes(ne)||(le=b(ne,X,le,j))}let Ce=z!=null&&typeof z!="object"?z:ua(Z),Ae=U[Ce]||U.false;return typeof le=="object"&&typeof j=="string"&&le[j]?ca(le,Ae):le.length>0?(le.push(Ae),le):Ae},N=()=>f?Object.keys(f).map(v=>C(v,f)):null,F=(v,A)=>{if(!f||typeof f!="object")return null;let j=new Array;for(let W in f){let $=C(W,f,v,A),U=v==="base"&&typeof $=="string"?$:$&&$[v];U&&(j[j.length]=U)}return j},P={};for(let v in w)w[v]!==void 0&&(P[v]=w[v]);let D=(v,A)=>{var j;let W=typeof(w==null?void 0:w[v])=="object"?{[v]:(j=w[v])==null?void 0:j.initial}:{};return{...c,...P,...W,...A}},H=(v=[],A)=>{let j=[];for(let{class:W,className:$,...U}of v){let Q=!0;for(let[z,te]of Object.entries(U)){let Z=D(z,A);if(Array.isArray(te)){if(!te.includes(Z[z])){Q=!1;break}}else if(Z[z]!==te){Q=!1;break}}Q&&(W&&j.push(W),$&&j.push($))}return j},M=v=>{let A=H(r,v),j=H(n==null?void 0:n.compoundVariants,v);return _c(j,A)},R=v=>{let A=M(v);if(!Array.isArray(A))return A;let j={};for(let W of A)if(typeof W=="string"&&(j.base=Co(j.base,W)(s)),typeof W=="object")for(let[$,U]of Object.entries(W))j[$]=Co(j[$],U)(s);return j},S=v=>{if(l.length<1)return null;let A={};for(let{slots:j=[],class:W,className:$,...U}of l){if(!kt(U)){let Q=!0;for(let z of Object.keys(U)){let te=D(z,v)[z];if(te===void 0||(Array.isArray(U[z])?!U[z].includes(te):U[z]!==te)){Q=!1;break}}if(!Q)continue}for(let Q of j)A[Q]=A[Q]||[],A[Q].push([W,$])}return A};if(!kt(o)||!d){let v={};if(typeof p=="object"&&!kt(p))for(let A of Object.keys(p))v[A]=j=>{var W,$;return Co(p[A],F(A,j),((W=R(j))!=null?W:[])[A],(($=S(j))!=null?$:[])[A],j==null?void 0:j.class,j==null?void 0:j.className)(s)};return v}return Co(u,N(),M(),w==null?void 0:w.class,w==null?void 0:w.className)(s)},g=()=>{if(!(!f||typeof f!="object"))return Object.keys(f)};return h.variantKeys=g(),h.extend=n,h.base=u,h.slots=p,h.variants=f,h.defaultVariants=c,h.compoundSlots=l,h.compoundVariants=r,h};const io=ab({base:"inline-flex items-center justify-center rounded-md text-sm font-medium whitespace-nowrap transition-colors focus-visible:outline-none disabled:pointer-events-none disabled:opacity-50",variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg- hover:bg-accent hover:text-accent-foreground",secondary:"bg-accent text-accent-foreground hover:bg-accent/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ub=t=>({builder:t&64}),da=t=>({builder:t[6]});function fb(t){let e;const n=t[2].default,o=pe(n,t,t[5],da);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&96)&&_e(o,n,i,i[5],e?he(n,i[5],r,ub):ge(i[5]),da)},i(i){e||(k(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function cb(t){let e,n;const o=[{class:Fe(io(),t[0])},t[1]];let i={$$slots:{default:[fb,({builder:r})=>({6:r}),({builder:r})=>r?64:0]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=J(i,o[r]);return e=new Qh({props:i}),e.$on("click",t[3]),e.$on("keydown",t[4]),{c(){Y(e.$$.fragment)},m(r,l){V(e,r,l),n=!0},p(r,[l]){const a=l&3?ye(o,[l&1&&{class:Fe(io(),r[0])},l&2&&st(r[1])]):{};l&96&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){x(e,r)}}}function db(t,e,n){const o=["class"];let i=se(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(f){ie.call(this,t,f)}function u(f){ie.call(this,t,f)}return t.$$set=f=>{e=J(J({},e),Le(f)),n(1,i=se(e,o)),"class"in f&&n(0,a=f.class),"$$scope"in f&&n(5,l=f.$$scope)},[a,i,r,s,u,l]}class vc extends me{constructor(e){super(),de(this,e,db,cb,ce,{class:0})}}const mb=t=>({builder:t&64}),ma=t=>({builder:t[6]});function pb(t){let e;const n=t[2].default,o=pe(n,t,t[5],ma);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&96)&&_e(o,n,i,i[5],e?he(n,i[5],r,mb):ge(i[5]),ma)},i(i){e||(k(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function hb(t){let e,n;const o=[{class:Fe(io({variant:"default"}),"mt-2 sm:mt-0",t[0])},t[1]];let i={$$slots:{default:[pb,({builder:r})=>({6:r}),({builder:r})=>r?64:0]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=J(i,o[r]);return e=new r_({props:i}),e.$on("click",t[3]),e.$on("keydown",t[4]),{c(){Y(e.$$.fragment)},m(r,l){V(e,r,l),n=!0},p(r,[l]){const a=l&3?ye(o,[l&1&&{class:Fe(io({variant:"default"}),"mt-2 sm:mt-0",r[0])},l&2&&st(r[1])]):{};l&96&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){x(e,r)}}}function _b(t,e,n){const o=["class"];let i=se(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(f){ie.call(this,t,f)}function u(f){ie.call(this,t,f)}return t.$$set=f=>{e=J(J({},e),Le(f)),n(1,i=se(e,o)),"class"in f&&n(0,a=f.class),"$$scope"in f&&n(5,l=f.$$scope)},[a,i,r,s,u,l]}class gb extends me{constructor(e){super(),de(this,e,_b,hb,ce,{class:0})}}function bb(t){let e;const n=t[1].default,o=pe(n,t,t[2],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&4)&&_e(o,n,i,i[2],e?he(n,i[2],r,null):ge(i[2]),null)},i(i){e||(k(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function vb(t){let e,n;const o=[t[0]];let i={$$slots:{default:[bb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=J(i,o[r]);return e=new d_({props:i}),{c(){Y(e.$$.fragment)},m(r,l){V(e,r,l),n=!0},p(r,[l]){const a=l&1?ye(o,[st(r[0])]):{};l&4&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){x(e,r)}}}function yb(t,e,n){const o=[];let i=se(e,o),{$$slots:r={},$$scope:l}=e;return t.$$set=a=>{e=J(J({},e),Le(a)),n(0,i=se(e,o)),"$$scope"in a&&n(2,l=a.$$scope)},[i,r,l]}class wb extends me{constructor(e){super(),de(this,e,yb,vb,ce,{})}}function kb(t){let e,n,o;const i=t[3].default,r=pe(i,t,t[2],null);let l=[{class:n=Fe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=J(a,l[s]);return{c(){e=E("div"),r&&r.c(),ue(e,a)},m(s,u){O(s,e,u),r&&r.m(e,null),o=!0},p(s,[u]){r&&r.p&&(!o||u&4)&&_e(r,i,s,s[2],o?he(i,s[2],u,null):ge(s[2]),null),ue(e,a=ye(l,[(!o||u&1&&n!==(n=Fe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(k(r,s),o=!0)},o(s){T(r,s),o=!1},d(s){s&&I(e),r&&r.d(s)}}}function Cb(t,e,n){const o=["class"];let i=se(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=J(J({},e),Le(s)),n(1,i=se(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,i,l,r]}class bl extends me{constructor(e){super(),de(this,e,Cb,kb,ce,{class:0})}}function Tb(t){let e,n,o;const i=t[3].default,r=pe(i,t,t[2],null);let l=[{class:n=Fe("flex flex-col space-y-2 text-center sm:text-left",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=J(a,l[s]);return{c(){e=E("div"),r&&r.c(),ue(e,a)},m(s,u){O(s,e,u),r&&r.m(e,null),o=!0},p(s,[u]){r&&r.p&&(!o||u&4)&&_e(r,i,s,s[2],o?he(i,s[2],u,null):ge(s[2]),null),ue(e,a=ye(l,[(!o||u&1&&n!==(n=Fe("flex flex-col space-y-2 text-center sm:text-left",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(k(r,s),o=!0)},o(s){T(r,s),o=!1},d(s){s&&I(e),r&&r.d(s)}}}function Ab(t,e,n){const o=["class"];let i=se(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=J(J({},e),Le(s)),n(1,i=se(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,i,l,r]}class yc extends me{constructor(e){super(),de(this,e,Ab,Tb,ce,{class:0})}}function Sb(t){let e,n;const o=[{transition:t[1]},{transitionConfig:t[2]},{class:Fe("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm ",t[0])},t[3]];let i={};for(let r=0;r<o.length;r+=1)i=J(i,o[r]);return e=new F_({props:i}),{c(){Y(e.$$.fragment)},m(r,l){V(e,r,l),n=!0},p(r,[l]){const a=l&15?ye(o,[l&2&&{transition:r[1]},l&4&&{transitionConfig:r[2]},l&1&&{class:Fe("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm ",r[0])},l&8&&st(r[3])]):{};e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){x(e,r)}}}function Ib(t,e,n){const o=["class","transition","transitionConfig"];let i=se(e,o),{class:r=void 0}=e,{transition:l=Di}=e,{transitionConfig:a={duration:150}}=e;return t.$$set=s=>{e=J(J({},e),Le(s)),n(3,i=se(e,o)),"class"in s&&n(0,r=s.class),"transition"in s&&n(1,l=s.transition),"transitionConfig"in s&&n(2,a=s.transitionConfig)},[r,l,a,i]}class Ob extends me{constructor(e){super(),de(this,e,Ib,Sb,ce,{class:0,transition:1,transitionConfig:2})}}function Mb(t){let e;const n=t[4].default,o=pe(n,t,t[5],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&32)&&_e(o,n,i,i[5],e?he(n,i[5],r,null):ge(i[5]),null)},i(i){e||(k(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function Pb(t){let e,n,o,i;e=new Ob({});const r=[{transition:t[0]},{transitionConfig:t[1]},{class:Fe("fixed rounded-2xl left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-sidebarBackground text-sidebarText p-6 shadow-lg md:w-full",t[2])},t[3]];let l={$$slots:{default:[Mb]},$$scope:{ctx:t}};for(let a=0;a<r.length;a+=1)l=J(l,r[a]);return o=new I_({props:l}),{c(){Y(e.$$.fragment),n=q(),Y(o.$$.fragment)},m(a,s){V(e,a,s),O(a,n,s),V(o,a,s),i=!0},p(a,s){const u=s&15?ye(r,[s&1&&{transition:a[0]},s&2&&{transitionConfig:a[1]},s&4&&{class:Fe("fixed rounded-2xl left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-sidebarBackground text-sidebarText p-6 shadow-lg md:w-full",a[2])},s&8&&st(a[3])]):{};s&32&&(u.$$scope={dirty:s,ctx:a}),o.$set(u)},i(a){i||(k(e.$$.fragment,a),k(o.$$.fragment,a),i=!0)},o(a){T(e.$$.fragment,a),T(o.$$.fragment,a),i=!1},d(a){a&&I(n),x(e,a),x(o,a)}}}function Nb(t){let e,n;return e=new wb({props:{$$slots:{default:[Pb]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,[i]){const r={};i&47&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function Eb(t,e,n){const o=["transition","transitionConfig","class"];let i=se(e,o),{$$slots:r={},$$scope:l}=e,{transition:a=Yo}=e,{transitionConfig:s=void 0}=e,{class:u=void 0}=e;return t.$$set=f=>{e=J(J({},e),Le(f)),n(3,i=se(e,o)),"transition"in f&&n(0,a=f.transition),"transitionConfig"in f&&n(1,s=f.transitionConfig),"class"in f&&n(2,u=f.class),"$$scope"in f&&n(5,l=f.$$scope)},[a,s,u,i,r,l]}class vl extends me{constructor(e){super(),de(this,e,Eb,Nb,ce,{transition:0,transitionConfig:1,class:2})}}function Rb(t){let e;const n=t[2].default,o=pe(n,t,t[3],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&8)&&_e(o,n,i,i[3],e?he(n,i[3],r,null):ge(i[3]),null)},i(i){e||(k(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function Lb(t){let e,n;const o=[{class:Fe("text-sm text-muted-foreground",t[0])},t[1]];let i={$$slots:{default:[Rb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=J(i,o[r]);return e=new V_({props:i}),{c(){Y(e.$$.fragment)},m(r,l){V(e,r,l),n=!0},p(r,[l]){const a=l&3?ye(o,[l&1&&{class:Fe("text-sm text-muted-foreground",r[0])},l&2&&st(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){x(e,r)}}}function Db(t,e,n){const o=["class"];let i=se(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=J(J({},e),Le(s)),n(1,i=se(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,l=s.$$scope)},[a,i,r,l]}class wc extends me{constructor(e){super(),de(this,e,Db,Lb,ce,{class:0})}}const yl=jh;function $b(t){let e;const n=t[5].default,o=pe(n,t,t[6],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&64)&&_e(o,n,i,i[6],e?he(n,i[6],r,null):ge(i[6]),null)},i(i){e||(k(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function Fb(t){let e,n;const o=[{transition:t[2]},{transitionConfig:t[3]},{sideOffset:t[1]},{class:Fe("z-[1000] overflow-hidden border bg-sidebarBackground px-3 py-1.5 text-sm text-black shadow-md rounded-2xl",t[0])},t[4]];let i={$$slots:{default:[$b]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=J(i,o[r]);return e=new h1({props:i}),{c(){Y(e.$$.fragment)},m(r,l){V(e,r,l),n=!0},p(r,[l]){const a=l&31?ye(o,[l&4&&{transition:r[2]},l&8&&{transitionConfig:r[3]},l&2&&{sideOffset:r[1]},l&1&&{class:Fe("z-[1000] overflow-hidden border bg-sidebarBackground px-3 py-1.5 text-sm text-black shadow-md rounded-2xl",r[0])},l&16&&st(r[4])]):{};l&64&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){x(e,r)}}}function jb(t,e,n){const o=["class","sideOffset","transition","transitionConfig"];let i=se(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{sideOffset:s=16}=e,{transition:u=Yo}=e,{transitionConfig:f={y:6,duration:100}}=e;return t.$$set=c=>{e=J(J({},e),Le(c)),n(4,i=se(e,o)),"class"in c&&n(0,a=c.class),"sideOffset"in c&&n(1,s=c.sideOffset),"transition"in c&&n(2,u=c.transition),"transitionConfig"in c&&n(3,f=c.transitionConfig),"$$scope"in c&&n(6,l=c.$$scope)},[a,s,u,f,i,r,l]}class po extends me{constructor(e){super(),de(this,e,jb,Fb,ce,{class:0,sideOffset:1,transition:2,transitionConfig:3})}}const ho=e1,_o=k1;function qb(t){let e=(t[4].length>0?t[4]:"Why are you hovering here?")+"",n;return{c(){n=G(e)},m(o,i){O(o,n,i)},p(o,i){i&16&&e!==(e=(o[4].length>0?o[4]:"Why are you hovering here?")+"")&&fe(n,e)},d(o){o&&I(n)}}}function Bb(t){let e,n;return{c(){e=E("div"),n=G(t[0])},m(o,i){O(o,e,i),y(e,n)},p(o,i){i&1&&fe(n,o[0])},d(o){o&&I(e)}}}function Hb(t){let e,n;return e=new $t({props:{class:`text-sm flex flex-col  cursor-pointer py-1.5 rounded-xl bg-accent text-accentText
  `+t[2]+" cursor-pointer opacity-"+t[3]+" "+(t[3]<100?"hover:opacity-40":"")+` transition-all duration-150 filter hover:brightness-110
  `,$$slots:{default:[Bb]},$$scope:{ctx:t}}}),e.$on("click",function(){Ft(t[1])&&t[1].apply(this,arguments)}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,i){t=o;const r={};i&12&&(r.class=`text-sm flex flex-col  cursor-pointer py-1.5 rounded-xl bg-accent text-accentText
  `+t[2]+" cursor-pointer opacity-"+t[3]+" "+(t[3]<100?"hover:opacity-40":"")+` transition-all duration-150 filter hover:brightness-110
  `),i&33&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function Gb(t){let e,n,o,i;return e=new po({props:{$$slots:{default:[qb]},$$scope:{ctx:t}}}),o=new _o({props:{class:"flex flex-col ",$$slots:{default:[Hb]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment),n=q(),Y(o.$$.fragment)},m(r,l){V(e,r,l),O(r,n,l),V(o,r,l),i=!0},p(r,l){const a={};l&48&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&47&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){T(e.$$.fragment,r),T(o.$$.fragment,r),i=!1},d(r){r&&I(n),x(e,r),x(o,r)}}}function Wb(t){let e,n;return e=new ho({props:{openDelay:t[4].length>0?200:1e4,closeDelay:0,$$slots:{default:[Gb]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,[i]){const r={};i&16&&(r.openDelay=o[4].length>0?200:1e4),i&63&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function Vb(t,e,n){let{text:o}=e,{onOpen:i}=e,{styling:r="bg-accent text-accentText"}=e,{opacity:l=100}=e,{onHoverText:a=""}=e;return t.$$set=s=>{"text"in s&&n(0,o=s.text),"onOpen"in s&&n(1,i=s.onOpen),"styling"in s&&n(2,r=s.styling),"opacity"in s&&n(3,l=s.opacity),"onHoverText"in s&&n(4,a=s.onHoverText)},[o,i,r,l,a]}class Zt extends me{constructor(e){super(),de(this,e,Vb,Wb,ce,{text:0,onOpen:1,styling:2,opacity:3,onHoverText:4})}}function pa(t,e,n){const o=t.slice();return o[24]=e[n],o}function ha(t,e,n){const o=t.slice();return o[27]=e[n],o}function xb(t){let e;return{c(){e=G("Pause Menu")},m(n,o){O(n,e,o)},d(n){n&&I(e)}}}function Yb(t){let e,n,o,i;return e=new bn({props:{class:"text-3xl font-semibold text-accentText",$$slots:{default:[xb]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment),n=q(),o=E("span"),o.textContent="Unpause any time by pressing 'P'"},m(r,l){V(e,r,l),O(r,n,l),O(r,o,l),i=!0},p(r,l){const a={};l&1073741824&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){i||(k(e.$$.fragment,r),i=!0)},o(r){T(e.$$.fragment,r),i=!1},d(r){r&&(I(n),I(o)),x(e,r)}}}function _a(t){let e,n,o,i,r,l=JSON.stringify(t[4].requirements[t[1].difficulty].population_count)+"",a,s,u=JSON.stringify(t[1].townInfo.population_count)+"",f,c,d,m,p=JSON.stringify(t[4].requirements[t[1].difficulty].happiness)+"",h,g,w=JSON.stringify(t[1].townInfo.happiness)+"",b,C,N,F,P=JSON.stringify(t[4].requirements[t[1].difficulty].employment*100)+"",D,H,M=JSON.stringify((t[1].townInfo.employees/t[1].townInfo.population_count||0)*100)+"",R,S,v,A,j,W=JSON.stringify(t[4].requirements[t[1].difficulty].health)+"",$,U,Q=JSON.stringify(t[1].townInfo.health)+"",z,te,Z,le,Ce=JSON.stringify(t[4].requirements[t[1].difficulty].knowledge)+"",Ae,ne,_=JSON.stringify(t[1].townInfo.knowledge_points)+"",X,K,re;function we(be,Ze){return be[1].townInfo.population_count>=be[4].requirements[be[1].difficulty].population_count?Kb:Ub}let Oe=we(t),He=Oe(t);function Ye(be,Ze){return be[1].townInfo.happiness>=be[4].requirements[be[1].difficulty].happiness?Jb:Xb}let Xe=Ye(t),Ge=Xe(t);function Ue(be,Ze){return be[1].townInfo.employees/be[1].townInfo.population_count>=be[4].requirements[be[1].difficulty].employment?Qb:Zb}let Je=Ue(t),Ke=Je(t);function We(be,Ze){return be[1].townInfo.health>=be[4].requirements[be[1].difficulty].health?ev:zb}let Te=We(t),Pe=Te(t);function Ee(be,Ze){return be[1].townInfo.knowledge_points>=be[4].requirements[be[1].difficulty].knowledge?nv:tv}let ze=Ee(t),lt=ze(t),rt=t[4].requirements[t[1].difficulty].required_plots!=null&&t[4].requirements[t[1].difficulty].required_plots.length>0&&ga(t);return{c(){e=E("div"),e.textContent=`With your difficulty (${t[5]}), you must also have:`,n=q(),o=E("ul"),i=E("li"),He.c(),r=G(`
                  Population: `),a=G(l),s=G(" - Currently at "),f=G(u),c=q(),d=E("li"),Ge.c(),m=G(`
                  Happiness: `),h=G(p),g=G(" - Currently at "),b=G(w),C=q(),N=E("li"),Ke.c(),F=G(`
                  Employment: `),D=G(P),H=G("% - Currently at "),R=G(M),S=G("%"),v=q(),A=E("li"),Pe.c(),j=G(`
                  Health: `),$=G(W),U=G(" - Currently at "),z=G(Q),te=q(),Z=E("li"),lt.c(),le=G(`
                  Knowledge: `),Ae=G(Ce),ne=G(" - Currently at "),X=G(_),K=q(),rt&&rt.c(),re=Re(),L(e,"class","leading-relaxed text-sm"),L(o,"class","list-inside list-disc leading-relaxedmt-0 text-sm")},m(be,Ze){O(be,e,Ze),O(be,n,Ze),O(be,o,Ze),y(o,i),He.m(i,null),y(i,r),y(i,a),y(i,s),y(i,f),y(o,c),y(o,d),Ge.m(d,null),y(d,m),y(d,h),y(d,g),y(d,b),y(o,C),y(o,N),Ke.m(N,null),y(N,F),y(N,D),y(N,H),y(N,R),y(N,S),y(o,v),y(o,A),Pe.m(A,null),y(A,j),y(A,$),y(A,U),y(A,z),y(o,te),y(o,Z),lt.m(Z,null),y(Z,le),y(Z,Ae),y(Z,ne),y(Z,X),O(be,K,Ze),rt&&rt.m(be,Ze),O(be,re,Ze)},p(be,Ze){Oe!==(Oe=we(be))&&(He.d(1),He=Oe(be),He&&(He.c(),He.m(i,r))),Ze&2&&l!==(l=JSON.stringify(be[4].requirements[be[1].difficulty].population_count)+"")&&fe(a,l),Ze&2&&u!==(u=JSON.stringify(be[1].townInfo.population_count)+"")&&fe(f,u),Xe!==(Xe=Ye(be))&&(Ge.d(1),Ge=Xe(be),Ge&&(Ge.c(),Ge.m(d,m))),Ze&2&&p!==(p=JSON.stringify(be[4].requirements[be[1].difficulty].happiness)+"")&&fe(h,p),Ze&2&&w!==(w=JSON.stringify(be[1].townInfo.happiness)+"")&&fe(b,w),Je!==(Je=Ue(be))&&(Ke.d(1),Ke=Je(be),Ke&&(Ke.c(),Ke.m(N,F))),Ze&2&&P!==(P=JSON.stringify(be[4].requirements[be[1].difficulty].employment*100)+"")&&fe(D,P),Ze&2&&M!==(M=JSON.stringify((be[1].townInfo.employees/be[1].townInfo.population_count||0)*100)+"")&&fe(R,M),Te!==(Te=We(be))&&(Pe.d(1),Pe=Te(be),Pe&&(Pe.c(),Pe.m(A,j))),Ze&2&&W!==(W=JSON.stringify(be[4].requirements[be[1].difficulty].health)+"")&&fe($,W),Ze&2&&Q!==(Q=JSON.stringify(be[1].townInfo.health)+"")&&fe(z,Q),ze!==(ze=Ee(be))&&(lt.d(1),lt=ze(be),lt&&(lt.c(),lt.m(Z,le))),Ze&2&&Ce!==(Ce=JSON.stringify(be[4].requirements[be[1].difficulty].knowledge)+"")&&fe(Ae,Ce),Ze&2&&_!==(_=JSON.stringify(be[1].townInfo.knowledge_points)+"")&&fe(X,_),be[4].requirements[be[1].difficulty].required_plots!=null&&be[4].requirements[be[1].difficulty].required_plots.length>0?rt?rt.p(be,Ze):(rt=ga(be),rt.c(),rt.m(re.parentNode,re)):rt&&(rt.d(1),rt=null)},d(be){be&&(I(e),I(n),I(o),I(K),I(re)),He.d(),Ge.d(),Ke.d(),Pe.d(),lt.d(),rt&&rt.d(be)}}}function Ub(t){let e;return{c(){e=G("❌")},m(n,o){O(n,e,o)},d(n){n&&I(e)}}}function Kb(t){let e;return{c(){e=G("✅")},m(n,o){O(n,e,o)},d(n){n&&I(e)}}}function Xb(t){let e;return{c(){e=G("❌")},m(n,o){O(n,e,o)},d(n){n&&I(e)}}}function Jb(t){let e;return{c(){e=G("✅")},m(n,o){O(n,e,o)},d(n){n&&I(e)}}}function Zb(t){let e;return{c(){e=G("❌")},m(n,o){O(n,e,o)},d(n){n&&I(e)}}}function Qb(t){let e;return{c(){e=G("✅")},m(n,o){O(n,e,o)},d(n){n&&I(e)}}}function zb(t){let e;return{c(){e=G("❌")},m(n,o){O(n,e,o)},d(n){n&&I(e)}}}function ev(t){let e;return{c(){e=G("✅")},m(n,o){O(n,e,o)},d(n){n&&I(e)}}}function tv(t){let e;return{c(){e=G("❌")},m(n,o){O(n,e,o)},d(n){n&&I(e)}}}function nv(t){let e;return{c(){e=G("✅")},m(n,o){O(n,e,o)},d(n){n&&I(e)}}}function ga(t){let e,n,o,i=Ve(t[4].requirements[t[1].difficulty].required_plots),r=[];for(let l=0;l<i.length;l+=1)r[l]=ba(ha(t,i,l));return{c(){e=E("br"),n=G(`
                You also need to have these plots:
                `);for(let l=0;l<r.length;l+=1)r[l].c();o=Re()},m(l,a){O(l,e,a),O(l,n,a);for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(l,a);O(l,o,a)},p(l,a){if(a&18){i=Ve(l[4].requirements[l[1].difficulty].required_plots);let s;for(s=0;s<i.length;s+=1){const u=ha(l,i,s);r[s]?r[s].p(u,a):(r[s]=ba(u),r[s].c(),r[s].m(o.parentNode,o))}for(;s<r.length;s+=1)r[s].d(1);r.length=i.length}},d(l){l&&(I(e),I(n),I(o)),ft(r,l)}}}function ov(t){let e;return{c(){e=G("❌")},m(n,o){O(n,e,o)},d(n){n&&I(e)}}}function iv(t){let e;return{c(){e=G("✅")},m(n,o){O(n,e,o)},d(n){n&&I(e)}}}function ba(t){let e,n,o,i,r=t[27]+"",l,a;function s(c,d){return d&2&&(o=null),o==null&&(o=$e(c[27],c[1]).length>0),o?iv:ov}let u=s(t,-1),f=u(t);return{c(){e=E("div"),n=E("li"),f.c(),i=q(),l=G(r),a=q(),L(e,"class","text-sm")},m(c,d){O(c,e,d),y(e,n),f.m(n,null),y(n,i),y(n,l),y(e,a)},p(c,d){u!==(u=s(c,d))&&(f.d(1),f=u(c),f&&(f.c(),f.m(n,i))),d&2&&r!==(r=c[27]+"")&&fe(l,r)},d(c){c&&I(e),f.d()}}}function va(t){let e,n;function o(){return t[18](t[24])}return e=new Zt({props:{text:`💰 Collect Prize: $${wa(t[24].prize)} gold`,styling:"bg-yellow-300 text-black",onOpen:o}}),{c(){Y(e.$$.fragment)},m(i,r){V(e,i,r),n=!0},p(i,r){t=i;const l={};r&1&&(l.text=`💰 Collect Prize: $${wa(t[24].prize)} gold`),r&1&&(l.onOpen=o),e.$set(l)},i(i){n||(k(e.$$.fragment,i),n=!0)},o(i){T(e.$$.fragment,i),n=!1},d(i){x(e,i)}}}function ya(t){let e,n,o,i,r,l,a=t[24].title+"",s,u,f,c=t[24].requirements+"",d,m,p,h=t[24].icon+"",g,w,b,C=t[24].description+"",N,F,P,D,H=t[7](t[24].id)+"",M,R,S,v=t[12](t[24].id)&&!t[8](t[24].id),A,j,W,$=v&&va(t);return{c(){e=E("div"),n=E("div"),o=E("div"),i=E("span"),r=E("div"),l=E("span"),s=G(a),u=q(),f=E("div"),d=G(c),m=q(),p=E("div"),g=G(h),w=q(),b=E("div"),N=G(C),F=q(),P=E("div"),D=G("✅ Completed on Day "),M=G(H),S=q(),$&&$.c(),A=q(),L(l,"class","font-semibold text-lg"),L(f,"class","font-thin opacity-75 text-xs"),L(r,"class","flex flex-row gap-3 w-[100%] text- items-center "),L(p,"class","text-2xl pr-1 break-inside-avoid "),L(i,"class","flex flex-row justify-between w-[100%]"),L(o,"class","min-w-32 flex"),L(b,"class","opacity-85 text-xs font-light"),L(P,"class",R="pb-2"+(t[12](t[24].id)?"":"hidden")+" text-xs text-green-400"),L(n,"class","flex-col flex px-3 py-2 gap-0"),L(e,"class",j="flex flex-col gap-3 cursor-default rounded-xl "+(t[12](t[24].id)?"bg-green-700 text-accentText":"bg-gray-500 opacity-35"))},m(U,Q){O(U,e,Q),y(e,n),y(n,o),y(o,i),y(i,r),y(r,l),y(l,s),y(r,u),y(r,f),y(f,d),y(i,m),y(i,p),y(p,g),y(n,w),y(n,b),y(b,N),y(n,F),y(n,P),y(P,D),y(P,M),y(n,S),$&&$.m(n,null),y(e,A),W=!0},p(U,Q){(!W||Q&1)&&a!==(a=U[24].title+"")&&fe(s,a),(!W||Q&1)&&c!==(c=U[24].requirements+"")&&fe(d,c),(!W||Q&1)&&h!==(h=U[24].icon+"")&&fe(g,h),(!W||Q&1)&&C!==(C=U[24].description+"")&&fe(N,C),(!W||Q&1)&&H!==(H=U[7](U[24].id)+"")&&fe(M,H),(!W||Q&1&&R!==(R="pb-2"+(U[12](U[24].id)?"":"hidden")+" text-xs text-green-400"))&&L(P,"class",R),Q&1&&(v=U[12](U[24].id)&&!U[8](U[24].id)),v?$?($.p(U,Q),Q&1&&k($,1)):($=va(U),$.c(),k($,1),$.m(n,null)):$&&(Se(),T($,1,1,()=>{$=null}),Ie()),(!W||Q&1&&j!==(j="flex flex-col gap-3 cursor-default rounded-xl "+(U[12](U[24].id)?"bg-green-700 text-accentText":"bg-gray-500 opacity-35")))&&L(e,"class",j)},i(U){W||(k($),W=!0)},o(U){T($),W=!1},d(U){U&&I(e),$&&$.d()}}}function rv(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,p,h,g,w,b,C,N,F,P,D,H,M,R,S,v,A,j,W,$;e=new vn({props:{$$slots:{default:[Yb]},$$scope:{ctx:t}}});let U=t[1].endGoal=="land"&&_a(t);m=new Zt({props:{styling:"w-min",text:"💾 Save Game",onOpen:t[10]}}),h=new Zt({props:{styling:"w-min",text:"📤 Load Game",onOpen:t[17]}}),w=new Zt({props:{styling:"bg-black opacity-50 w-min",text:"🔄 New Game",onOpen:t[14]}}),C=new St({props:{orientation:"vertical"}});let Q=Ve(t[0]),z=[];for(let Z=0;Z<Q.length;Z+=1)z[Z]=ya(pa(t,Q,Z));const te=Z=>T(z[Z],1,1,()=>{z[Z]=null});return{c(){Y(e.$$.fragment),n=q(),o=E("div"),i=E("div"),r=E("div"),l=E("h4"),l.textContent="This game",a=q(),s=E("span"),s.textContent=`${t[4].description_title}`,u=q(),f=E("div"),U&&U.c(),c=q(),d=E("div"),Y(m.$$.fragment),p=q(),Y(h.$$.fragment),g=q(),Y(w.$$.fragment),b=q(),Y(C.$$.fragment),N=q(),F=E("div"),P=E("h4"),P.textContent=`Your achievement (${t[6].length}
          / ${mt.length})`,D=q(),H=E("span"),H.textContent="Track your progress through games & complete challenges!",M=q(),R=E("br"),S=q(),v=E("div"),A=E("div");for(let Z=0;Z<z.length;Z+=1)z[Z].c();j=q(),W=E("span"),W.textContent=`Prizes apply to the current game you are in. You can wait to apply
          them until the right time.`,L(l,"class","text-xl font-semibold mb-2"),L(s,"class","text-sm text-accentText opacity-75"),L(f,"class","mt-6 gap-0 py-0 text-accentText opacity-75 text-sm"),L(r,"class","flex-col h-max"),L(d,"class","flex flex-row gap-3"),L(i,"class","flex flex-col gap-6 justify-between"),L(P,"class","underline underline-offset-4"),L(H,"class","text-sm text-gray-400"),L(A,"class","flex flex-col gap-4 overflow-scroll pb-10 scroll-smooth"),L(v,"class","overflow-scroll mt-2 h-[60vh]"),L(W,"class","text-sm text-yellow-400"),L(o,"class","flex flex-row w-full gap-10")},m(Z,le){V(e,Z,le),O(Z,n,le),O(Z,o,le),y(o,i),y(i,r),y(r,l),y(r,a),y(r,s),y(r,u),y(r,f),U&&U.m(f,null),y(i,c),y(i,d),V(m,d,null),y(d,p),V(h,d,null),y(d,g),V(w,d,null),y(o,b),V(C,o,null),y(o,N),y(o,F),y(F,P),y(F,D),y(F,H),y(F,M),y(F,R),y(F,S),y(F,v),y(v,A);for(let Ce=0;Ce<z.length;Ce+=1)z[Ce]&&z[Ce].m(A,null);y(F,j),y(F,W),$=!0},p(Z,le){const Ce={};if(le&1073741824&&(Ce.$$scope={dirty:le,ctx:Z}),e.$set(Ce),Z[1].endGoal=="land"?U?U.p(Z,le):(U=_a(Z),U.c(),U.m(f,null)):U&&(U.d(1),U=null),le&4993){Q=Ve(Z[0]);let Ae;for(Ae=0;Ae<Q.length;Ae+=1){const ne=pa(Z,Q,Ae);z[Ae]?(z[Ae].p(ne,le),k(z[Ae],1)):(z[Ae]=ya(ne),z[Ae].c(),k(z[Ae],1),z[Ae].m(A,null))}for(Se(),Ae=Q.length;Ae<z.length;Ae+=1)te(Ae);Ie()}},i(Z){if(!$){k(e.$$.fragment,Z),k(m.$$.fragment,Z),k(h.$$.fragment,Z),k(w.$$.fragment,Z),k(C.$$.fragment,Z);for(let le=0;le<Q.length;le+=1)k(z[le]);$=!0}},o(Z){T(e.$$.fragment,Z),T(m.$$.fragment,Z),T(h.$$.fragment,Z),T(w.$$.fragment,Z),T(C.$$.fragment,Z),z=z.filter(Boolean);for(let le=0;le<z.length;le+=1)T(z[le]);$=!1},d(Z){Z&&(I(n),I(o)),x(e,Z),U&&U.d(),x(m),x(h),x(w),x(C),ft(z,Z)}}}function lv(t){let e,n;return e=new yn({props:{class:"max-w-[90vw] max-h-[90vh] bg-popupBackground text-accentText",$$slots:{default:[rv]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,i){const r={};i&1073741827&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function sv(t){var o;let e=((o=t[13]())==null?void 0:o.title)+"",n;return{c(){n=G(e)},m(i,r){O(i,n,r)},p:ve,d(i){i&&I(n)}}}function av(t){let e,n,o,i;return{c(){var r,l;e=E("div"),n=E("div"),n.textContent=`${(r=t[13]())==null?void 0:r.icon}`,o=q(),i=E("div"),i.textContent=`${(l=t[13]())==null?void 0:l.description}`,L(n,"class","text-center w-[30%] align-middle flex flex-col text-8xl"),L(i,"class","pl-8 w-[80%] align-middle flex flex-col justify-center text-lg"),L(e,"class","flex flex-row align-middle justify-evenly px-6 py-4")},m(r,l){O(r,e,l),y(e,n),y(e,o),y(e,i)},p:ve,d(r){r&&I(e)}}}function uv(t){let e,n,o,i;return e=new mc({props:{class:"text-center text-lg font-bold",$$slots:{default:[sv]},$$scope:{ctx:t}}}),o=new wc({props:{$$slots:{default:[av]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment),n=q(),Y(o.$$.fragment)},m(r,l){V(e,r,l),O(r,n,l),V(o,r,l),i=!0},p(r,l){const a={};l&1073741824&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&1073741824&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){T(e.$$.fragment,r),T(o.$$.fragment,r),i=!1},d(r){r&&I(n),x(e,r),x(o,r)}}}function fv(t){let e;return{c(){e=G("Close to collect prize")},m(n,o){O(n,e,o)},d(n){n&&I(e)}}}function cv(t){let e,n;return e=new gb({props:{$$slots:{default:[fv]},$$scope:{ctx:t}}}),e.$on("click",t[20]),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,i){const r={};i&1073741824&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function dv(t){let e,n,o,i;return e=new yc({props:{$$slots:{default:[uv]},$$scope:{ctx:t}}}),o=new bl({props:{$$slots:{default:[cv]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment),n=q(),Y(o.$$.fragment)},m(r,l){V(e,r,l),O(r,n,l),V(o,r,l),i=!0},p(r,l){const a={};l&1073741824&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&1073741832&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){T(e.$$.fragment,r),T(o.$$.fragment,r),i=!1},d(r){r&&I(n),x(e,r),x(o,r)}}}function mv(t){let e,n;return e=new vl({props:{$$slots:{default:[dv]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,i){const r={};i&1073741832&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function pv(t){let e,n,o,i,r;function l(s){t[19](s)}let a={$$slots:{default:[lv]},$$scope:{ctx:t}};return t[2]!==void 0&&(a.open=t[2]),e=new wn({props:a}),Ne.push(()=>tn(e,"open",l)),i=new yl({props:{open:t[3],$$slots:{default:[mv]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment),o=q(),Y(i.$$.fragment)},m(s,u){V(e,s,u),O(s,o,u),V(i,s,u),r=!0},p(s,[u]){const f={};u&1073741827&&(f.$$scope={dirty:u,ctx:s}),!n&&u&4&&(n=!0,f.open=s[2],en(()=>n=!1)),e.$set(f);const c={};u&8&&(c.open=s[3]),u&1073741832&&(c.$$scope={dirty:u,ctx:s}),i.$set(c)},i(s){r||(k(e.$$.fragment,s),k(i.$$.fragment,s),r=!0)},o(s){T(e.$$.fragment,s),T(i.$$.fragment,s),r=!1},d(s){s&&I(o),x(e,s),x(i,s)}}}function wa(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function hv(t){const e=JSON.parse(t);return e.townInfo!=null&&e.difficulty!=null}function _v(t,e,n){let o,i,r,l,a;ae(t,vt,R=>n(2,o=R)),ae(t,fn,R=>n(22,i=R)),ae(t,De,R=>n(1,r=R)),ae(t,Bl,R=>n(16,l=R)),ae(t,Si,R=>n(3,a=R));const u=an[r.endGoal],f=Mf[r.difficulty]||0;mt.sort((R,S)=>b(R.id)&&!b(S.id)?-1:!b(R.id)&&b(S.id)?1:0);const c=mt.filter(R=>b(R.id));function d(R){const S=i.achievements.find(v=>v[0]==R);return S==null?0:`${S[1]} in ${S[2]}.`}function m(R){const S=i.achievements.find(v=>v[0]==R);return S==null?!1:S[3]}function p(R){const S=i.achievements.find(A=>A[0]==R);if(S==null)return;const v=mt.find(A=>A.id==R);v!=null&&(Me(De,r.townInfo.gold+=v.prize,r),S[3]=!0,Me(fn,i.achievements=i.achievements.map(A=>A[0]==R?S:A),i))}let h=mt;function g(){const R=JSON.stringify(r),S=new Blob([R],{type:"text/plain"}),v=URL.createObjectURL(S),A=document.createElement("a");A.href=v,A.download=`${new Date().toISOString()}.json`,document.body.appendChild(A),A.click(),document.body.removeChild(A),URL.revokeObjectURL(v)}function w(R){const S=R.target.files;if(S==null)return;const v=S[0],A=new FileReader;A.onload=function(j){if(j.target==null)return;const W=j.target.result;if(typeof W=="string"){if(!hv(W)){Tt.set("Invalid game file");return}Ti(JSON.parse(W))}else Tt.set("Invalid game file: is not String.")},A.readAsText(v)}function b(R){return i.achievements==null?!1:i.achievements.find(S=>S[0]==R)!=null}function C(){Bl.update(R=>!R),localStorage.setItem("showCompletedAchievements",localStorage.getItem("showCompletedAchievements")==="true"?"false":"true")}localStorage.getItem("pauseMenuTab")==null&&(localStorage.setItem("pauseMenuTab","game"),km.set("game"));function N(){const R=i.achievements[i.achievements.length-1];if(R!=null)return mt.find(S=>S.id==R[0])}function F(){Me(vt,o=!0,o),localStorage.setItem("reset","true"),Ti()}const P=()=>{const R=document.createElement("input");R.type="file",R.onchange=S=>w(S),R.click()},D=R=>{p(R.id);const S=document.getElementById(`collectPrize-${R.id}`);S&&(S.style.display="none")};function H(R){o=R,vt.set(o)}const M=()=>{Me(Si,a=!1,a)};return t.$$.update=()=>{if(t.$$.dirty&65539&&r)if(l)n(0,h=mt);else{n(0,h=[]);for(let R=0;R<mt.length;R++)(!b(mt[R].id)||!m(mt[R].id))&&h.push(mt[R])}},[h,r,o,a,u,f,c,d,m,p,g,w,b,N,F,C,l,P,D,H,M]}class gv extends me{constructor(e){super(),de(this,e,_v,pv,ce,{toggleShowCompleted:15})}get toggleShowCompleted(){return this.$$.ctx[15]}}function bv(){console.log("%cRUNNING STABILITY TESTS...","color: #26bfa5;");let t=0;return console.log("%cPASSED ALL STABILITY TESTS 😍","color: #26bfa5;"),t}function vv(t){let e=t[0].endGameDetails.win==!0?"You won! 🎉":"You lost! 😭",n;return{c(){n=G(e)},m(o,i){O(o,n,i)},p(o,i){i&1&&e!==(e=o[0].endGameDetails.win==!0?"You won! 🎉":"You lost! 😭")&&fe(n,e)},d(o){o&&I(n)}}}function yv(t){let e;return{c(){e=G("Keep playin'")},m(n,o){O(n,e,o)},d(n){n&&I(e)}}}function wv(t){let e,n=t[0].endGameDetails.msg+"",o,i,r,l,a,s,u,f;return u=new $t({props:{class:"bg-accent",$$slots:{default:[yv]},$$scope:{ctx:t}}}),u.$on("click",t[2]),{c(){e=E("span"),o=G(n),i=q(),r=E("br"),l=q(),a=E("br"),s=q(),Y(u.$$.fragment),L(e,"class","text-gray-500 text-sm")},m(c,d){O(c,e,d),y(e,o),O(c,i,d),O(c,r,d),O(c,l,d),O(c,a,d),O(c,s,d),V(u,c,d),f=!0},p(c,d){(!f||d&1)&&n!==(n=c[0].endGameDetails.msg+"")&&fe(o,n);const m={};d&16&&(m.$$scope={dirty:d,ctx:c}),u.$set(m)},i(c){f||(k(u.$$.fragment,c),f=!0)},o(c){T(u.$$.fragment,c),f=!1},d(c){c&&(I(e),I(i),I(r),I(l),I(a),I(s)),x(u,c)}}}function kv(t){let e,n,o,i;return e=new bn({props:{$$slots:{default:[vv]},$$scope:{ctx:t}}}),o=new Bn({props:{$$slots:{default:[wv]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment),n=q(),Y(o.$$.fragment)},m(r,l){V(e,r,l),O(r,n,l),V(o,r,l),i=!0},p(r,l){const a={};l&17&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&17&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){T(e.$$.fragment,r),T(o.$$.fragment,r),i=!1},d(r){r&&I(n),x(e,r),x(o,r)}}}function Cv(t){let e;return{c(){e=E("span"),e.textContent="Reset the game by pressing SHIFT+ESC",L(e,"class","text-gray-500 text-sm")},m(n,o){O(n,e,o)},p:ve,d(n){n&&I(e)}}}function Tv(t){let e,n,o,i;return e=new vn({props:{$$slots:{default:[kv]},$$scope:{ctx:t}}}),o=new qn({props:{$$slots:{default:[Cv]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment),n=q(),Y(o.$$.fragment)},m(r,l){V(e,r,l),O(r,n,l),V(o,r,l),i=!0},p(r,l){const a={};l&17&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&16&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){T(e.$$.fragment,r),T(o.$$.fragment,r),i=!1},d(r){r&&I(n),x(e,r),x(o,r)}}}function Av(t){let e,n;return e=new yn({props:{class:"bg-foregroundDark text-accentText",$$slots:{default:[Tv]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,i){const r={};i&17&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function Sv(t){let e,n,o;function i(l){t[3](l)}let r={$$slots:{default:[Av]},$$scope:{ctx:t}};return t[1]!==void 0&&(r.open=t[1]),e=new wn({props:r}),Ne.push(()=>tn(e,"open",i)),{c(){Y(e.$$.fragment)},m(l,a){V(e,l,a),o=!0},p(l,[a]){const s={};a&17&&(s.$$scope={dirty:a,ctx:l}),!n&&a&2&&(n=!0,s.open=l[1],en(()=>n=!1)),e.$set(s)},i(l){o||(k(e.$$.fragment,l),o=!0)},o(l){T(e.$$.fragment,l),o=!1},d(l){x(e,l)}}}function Iv(t,e,n){let o;ae(t,De,a=>n(0,o=a));let i=!1;function r(){let a=o;a.overtime=!0,De.set(a),n(1,i=!1),vt.set(!1)}function l(a){i=a,n(1,i),n(0,o)}return t.$$.update=()=>{t.$$.dirty&1&&(o.endGameDetails.msg!=""&&o.overtime==!1?n(1,i=!0):n(1,i=!1))},[o,i,r,l]}class Ov extends me{constructor(e){super(),de(this,e,Iv,Sv,ce,{})}}function Mv(t){let e,n,o,i,r=[{class:n=Fe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t[1])},t[2]],l={};for(let a=0;a<r.length;a+=1)l=J(l,r[a]);return{c(){e=E("input"),ue(e,l)},m(a,s){O(a,e,s),e.autofocus&&e.focus(),bi(e,t[0]),o||(i=[ee(e,"input",t[17]),ee(e,"blur",t[3]),ee(e,"change",t[4]),ee(e,"click",t[5]),ee(e,"focus",t[6]),ee(e,"focusin",t[7]),ee(e,"focusout",t[8]),ee(e,"keydown",t[9]),ee(e,"keypress",t[10]),ee(e,"keyup",t[11]),ee(e,"mouseover",t[12]),ee(e,"mouseenter",t[13]),ee(e,"mouseleave",t[14]),ee(e,"paste",t[15]),ee(e,"input",t[16])],o=!0)},p(a,[s]){ue(e,l=ye(r,[s&2&&n!==(n=Fe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a[1]))&&{class:n},s&4&&a[2]])),s&1&&e.value!==a[0]&&bi(e,a[0])},i:ve,o:ve,d(a){a&&I(e),o=!1,Be(i)}}}function Pv(t,e,n){const o=["class","value"];let i=se(e,o),{class:r=void 0}=e,{value:l=void 0}=e;function a(P){ie.call(this,t,P)}function s(P){ie.call(this,t,P)}function u(P){ie.call(this,t,P)}function f(P){ie.call(this,t,P)}function c(P){ie.call(this,t,P)}function d(P){ie.call(this,t,P)}function m(P){ie.call(this,t,P)}function p(P){ie.call(this,t,P)}function h(P){ie.call(this,t,P)}function g(P){ie.call(this,t,P)}function w(P){ie.call(this,t,P)}function b(P){ie.call(this,t,P)}function C(P){ie.call(this,t,P)}function N(P){ie.call(this,t,P)}function F(){l=this.value,n(0,l)}return t.$$set=P=>{e=J(J({},e),Le(P)),n(2,i=se(e,o)),"class"in P&&n(1,r=P.class),"value"in P&&n(0,l=P.value)},[l,r,i,a,s,u,f,c,d,m,p,h,g,w,b,C,N,F]}class Nv extends me{constructor(e){super(),de(this,e,Pv,Mv,ce,{class:1,value:0})}}function Ev(t){let e;const n=t[2].default,o=pe(n,t,t[4],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&16)&&_e(o,n,i,i[4],e?he(n,i[4],r,null):ge(i[4]),null)},i(i){e||(k(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function Rv(t){let e,n;const o=[{class:Fe("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",t[0])},t[1]];let i={$$slots:{default:[Ev]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=J(i,o[r]);return e=new vg({props:i}),e.$on("mousedown",t[3]),{c(){Y(e.$$.fragment)},m(r,l){V(e,r,l),n=!0},p(r,[l]){const a=l&3?ye(o,[l&1&&{class:Fe("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",r[0])},l&2&&st(r[1])]):{};l&16&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){x(e,r)}}}function Lv(t,e,n){const o=["class"];let i=se(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(u){ie.call(this,t,u)}return t.$$set=u=>{e=J(J({},e),Le(u)),n(1,i=se(e,o)),"class"in u&&n(0,a=u.class),"$$scope"in u&&n(4,l=u.$$scope)},[a,i,r,s,l]}class wr extends me{constructor(e){super(),de(this,e,Lv,Rv,ce,{class:0})}}function Dv(t){let e;return{c(){e=G("Welcome to Plots!")},m(n,o){O(n,e,o)},d(n){n&&I(e)}}}function $v(t){let e;return{c(){e=E("a"),e.textContent="GitHub / Learn how to play",L(e,"href","https://github.com/josephrcox/plots#how-to-play"),L(e,"class","text-accent hover:text-accent/80 text-sm mb-4 hover:underline inline-block"),L(e,"target","_blank")},m(n,o){O(n,e,o)},p:ve,d(n){n&&I(e)}}}function Fv(t){let e,n,o,i;return e=new bn({props:{class:"text-2xl font-semibold",$$slots:{default:[Dv]},$$scope:{ctx:t}}}),o=new Bn({props:{$$slots:{default:[$v]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment),n=q(),Y(o.$$.fragment)},m(r,l){V(e,r,l),O(r,n,l),V(o,r,l),i=!0},p(r,l){const a={};l&256&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&256&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){T(e.$$.fragment,r),T(o.$$.fragment,r),i=!1},d(r){r&&I(n),x(e,r),x(o,r)}}}function jv(t){let e;return{c(){e=G("Game Mode")},m(n,o){O(n,e,o)},d(n){n&&I(e)}}}function qv(t){let e;return{c(){e=G("Town Name")},m(n,o){O(n,e,o)},d(n){n&&I(e)}}}function Bv(t){let e;return{c(){e=G("Game Settings")},m(n,o){O(n,e,o)},d(n){n&&I(e)}}}function Hv(t){let e;return{c(){e=G("Reset user")},m(n,o){O(n,e,o)},d(n){n&&I(e)}}}function Gv(t){let e;return{c(){e=G("Start game")},m(n,o){O(n,e,o)},d(n){n&&I(e)}}}function Wv(t){let e,n=t[1].username+"",o,i,r,l,a,s,u,f,c;return l=new $t({props:{variant:"outline",class:"border-accent/20 hover:bg-accent/10",$$slots:{default:[Hv]},$$scope:{ctx:t}}}),l.$on("click",t[5]),s=new $t({props:{class:"bg-accent hover:bg-accent/80 text-white",$$slots:{default:[Gv]},$$scope:{ctx:t}}}),s.$on("click",t[3]),{c(){e=E("span"),o=G(n),i=q(),r=E("div"),Y(l.$$.fragment),a=q(),Y(s.$$.fragment),L(e,"class","text-xs text-sidebarText/50 hover:text-sidebarText cursor-pointer"),L(r,"class","space-x-2")},m(d,m){O(d,e,m),y(e,o),O(d,i,m),O(d,r,m),V(l,r,null),y(r,a),V(s,r,null),u=!0,f||(c=ee(e,"click",t[6]),f=!0)},p(d,m){(!u||m&2)&&n!==(n=d[1].username+"")&&fe(o,n);const p={};m&256&&(p.$$scope={dirty:m,ctx:d}),l.$set(p);const h={};m&256&&(h.$$scope={dirty:m,ctx:d}),s.$set(h)},i(d){u||(k(l.$$.fragment,d),k(s.$$.fragment,d),u=!0)},o(d){T(l.$$.fragment,d),T(s.$$.fragment,d),u=!1},d(d){d&&(I(e),I(i),I(r)),x(l),x(s),f=!1,c()}}}function Vv(t){let e,n,o,i,r,l,a,s,u,f,c,d,m=(t[0]==="land"?an.land.description_title:an.free_play.description_title)+"",p,h,g,w,b,C,N,F,P,D,H,M,R,S,v,A,j,W,$,U,Q,z;e=new vn({props:{class:"p-4 border-b border-accent/20",$$slots:{default:[Fv]},$$scope:{ctx:t}}});let te=Uv;return l=new wr({props:{for:"endGoal",class:"text-sm font-medium",$$slots:{default:[jv]},$$scope:{ctx:t}}}),w=new wr({props:{for:"townName",class:"text-sm font-medium",$$slots:{default:[qv]},$$scope:{ctx:t}}}),C=new Nv({props:{id:"townName",class:"w-full p-2 rounded-md border border-accent/20 bg-sidebarBackground text-sidebarText focus:ring-2 focus:ring-accent/50",placeholder:"Will be randomized if left blank"}}),P=new wr({props:{class:"text-sm font-medium",$$slots:{default:[Bv]},$$scope:{ctx:t}}}),$=new qn({props:{class:"p-4 border-t border-accent/20 flex justify-between items-center",$$slots:{default:[Wv]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment),n=q(),o=E("div"),i=q(),r=E("div"),Y(l.$$.fragment),a=q(),s=E("select"),u=E("option"),u.textContent=`${an.land.short_title}`,f=E("option"),f.textContent=`${an.free_play.short_title}`,c=q(),d=E("p"),p=G(m),h=q(),g=E("div"),Y(w.$$.fragment),b=q(),Y(C.$$.fragment),N=q(),F=E("div"),Y(P.$$.fragment),D=q(),H=E("div"),H.innerHTML='<input type="checkbox" id="devMode" class="svelte-1fiuyps"/>',M=q(),R=E("div"),R.innerHTML=`<input type="checkbox" id="tomPetty" class="mt-1 rounded border-accent/20 svelte-1fiuyps"/> <label for="tomPetty" class="text-sm">The &#39;Tom Petty&#39; mode: If your happiness or health reaches 0, you
            lose 90% of your gold and continue the game. You won&#39;t back down.</label>`,S=q(),v=E("div"),v.innerHTML=`<input type="checkbox" id="casual" class="mt-1 rounded border-accent/20 svelte-1fiuyps"/> <label for="casual" class="text-sm">Casual game: Faster and easier overall while exposing more of the
            game mechanics.</label>`,A=q(),j=E("div"),j.innerHTML='<input type="checkbox" id="bagOfHolding" class="mt-1 rounded border-accent/20 svelte-1fiuyps"/> <label for="bagOfHolding" class="text-sm">Bag of Holding: No resource cap or need to purchase stockpiles.</label>',W=q(),Y($.$$.fragment),u.__value="land",bi(u,u.__value),f.__value="free_play",bi(f,f.__value),L(s,"id","endGoal"),L(s,"class","w-full p-2 rounded-md border border-accent/20 bg-sidebarBackground text-sidebarText focus:ring-2 focus:ring-accent/50"),L(d,"class","text-sm text-sidebarText/80 mt-1"),L(r,"class","space-y-2"),L(g,"class","space-y-2"),L(H,"class","hidden"),L(R,"class","flex items-start space-x-2"),L(v,"class","flex items-start space-x-2"),L(j,"class","flex items-start space-x-2"),L(F,"class","space-y-4"),L(o,"class","p-4 space-y-4")},m(Z,le){V(e,Z,le),O(Z,n,le),O(Z,o,le),y(o,i),y(o,r),V(l,r,null),y(r,a),y(r,s),y(s,u),y(s,f),El(s,t[0]),y(r,c),y(r,d),y(d,p),y(o,h),y(o,g),V(w,g,null),y(g,b),V(C,g,null),y(o,N),y(o,F),V(P,F,null),y(F,D),y(F,H),y(F,M),y(F,R),y(F,S),y(F,v),y(F,A),y(F,j),O(Z,W,le),V($,Z,le),U=!0,Q||(z=ee(s,"change",t[4]),Q=!0)},p(Z,le){const Ce={};le&256&&(Ce.$$scope={dirty:le,ctx:Z}),e.$set(Ce);const Ae={};le&256&&(Ae.$$scope={dirty:le,ctx:Z}),l.$set(Ae),(!U||le&1)&&El(s,Z[0]),(!U||le&1)&&m!==(m=(Z[0]==="land"?an.land.description_title:an.free_play.description_title)+"")&&fe(p,m);const ne={};le&256&&(ne.$$scope={dirty:le,ctx:Z}),w.$set(ne);const _={};le&256&&(_.$$scope={dirty:le,ctx:Z}),P.$set(_);const X={};le&258&&(X.$$scope={dirty:le,ctx:Z}),$.$set(X)},i(Z){U||(k(e.$$.fragment,Z),k(te),k(l.$$.fragment,Z),k(w.$$.fragment,Z),k(C.$$.fragment,Z),k(P.$$.fragment,Z),k($.$$.fragment,Z),U=!0)},o(Z){T(e.$$.fragment,Z),T(te),T(l.$$.fragment,Z),T(w.$$.fragment,Z),T(C.$$.fragment,Z),T(P.$$.fragment,Z),T($.$$.fragment,Z),U=!1},d(Z){Z&&(I(n),I(o),I(W)),x(e,Z),x(l),x(w),x(C),x(P),x($,Z),Q=!1,z()}}}function xv(t){let e,n;return e=new yn({props:{transition:Yo,class:"bg-sidebarBackground text-sidebarText max-w-xl rounded-md shadow-xl border border-accent",$$slots:{default:[Vv]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,i){const r={};i&259&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function Yv(t){let e,n,o;function i(l){t[7](l)}let r={$$slots:{default:[xv]},$$scope:{ctx:t}};return t[2].visible!==void 0&&(r.open=t[2].visible),e=new wn({props:r}),Ne.push(()=>tn(e,"open",i)),{c(){Y(e.$$.fragment)},m(l,a){V(e,l,a),o=!0},p(l,[a]){const s={};a&259&&(s.$$scope={dirty:a,ctx:l}),!n&&a&4&&(n=!0,s.open=l[2].visible,en(()=>n=!1)),e.$set(s)},i(l){o||(k(e.$$.fragment,l),o=!0)},o(l){T(e.$$.fragment,l),o=!1},d(l){x(e,l)}}}const Uv=!1;function Kv(t,e,n){let o,i;ae(t,fn,c=>n(1,o=c)),ae(t,Eo,c=>n(2,i=c)),vt.set(!1);function r(){const c="1",d=document.getElementById("endGoal").value,m=document.getElementById("townName").value,h=["devMode","tomPetty","casual","bagOfHolding"].filter(b=>document.getElementById(b).checked);bm(c,d,m,h)}let l="free_play";const a=c=>{n(0,l=c.target.value)};function s(){Tt.set("Deleted :)"),localStorage.clear(),window.location.href=""}function u(){const c=prompt("Enter new username");let d=o;d.username=c,wm(d)}function f(c){t.$$.not_equal(i.visible,c)&&(i.visible=c,Eo.set(i))}return[l,o,i,r,a,s,u,f]}class Xv extends me{constructor(e){super(),de(this,e,Kv,Yv,ce,{})}}function Jv(t){let e;return{c(){e=G("Scoreboard")},m(n,o){O(n,e,o)},d(n){n&&I(e)}}}function Zv(t){let e=t[1].description_title+"",n;return{c(){n=G(e)},m(o,i){O(o,n,i)},p:ve,d(o){o&&I(n)}}}function Qv(t){let e,n,o,i;return e=new bn({props:{$$slots:{default:[Jv]},$$scope:{ctx:t}}}),o=new Bn({props:{$$slots:{default:[Zv]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment),n=q(),Y(o.$$.fragment)},m(r,l){V(e,r,l),O(r,n,l),V(o,r,l),i=!0},p(r,l){const a={};l&128&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&128&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){T(e.$$.fragment,r),T(o.$$.fragment,r),i=!1},d(r){r&&I(n),x(e,r),x(o,r)}}}function zv(t){let e;return{c(){e=G("footer")},m(n,o){O(n,e,o)},d(n){n&&I(e)}}}function ey(t){let e,n,o,i;return e=new vn({props:{$$slots:{default:[Qv]},$$scope:{ctx:t}}}),o=new qn({props:{$$slots:{default:[zv]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment),n=G(`
		hi
		`),Y(o.$$.fragment)},m(r,l){V(e,r,l),O(r,n,l),V(o,r,l),i=!0},p(r,l){const a={};l&128&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&128&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){T(e.$$.fragment,r),T(o.$$.fragment,r),i=!1},d(r){r&&I(n),x(e,r),x(o,r)}}}function ty(t){let e,n;return e=new yn({props:{$$slots:{default:[ey]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,i){const r={};i&128&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function ny(t){let e,n,o;function i(l){t[3](l)}let r={$$slots:{default:[ty]},$$scope:{ctx:t}};return t[0]!==void 0&&(r.open=t[0]),e=new wn({props:r}),Ne.push(()=>tn(e,"open",i)),{c(){Y(e.$$.fragment)},m(l,a){V(e,l,a),o=!0},p(l,[a]){const s={};a&128&&(s.$$scope={dirty:a,ctx:l}),!n&&a&1&&(n=!0,s.open=l[0],en(()=>n=!1)),e.$set(s)},i(l){o||(k(e.$$.fragment,l),o=!0)},o(l){T(e.$$.fragment,l),o=!1},d(l){x(e,l)}}}function oy(t,e,n){let o,i;ae(t,De,s=>n(2,o=s)),ae(t,ql,s=>n(0,i=s));const l=an[o.endGoal];Mf[o.difficulty];function a(s){i=s,ql.set(i)}return t.$$.update=()=>{t.$$.dirty&4},[i,l,o,a]}class iy extends me{constructor(e){super(),de(this,e,oy,ny,ce,{})}}function mi(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ry(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function kc(t){let e,n,o;t.length!==2?(e=mi,n=(a,s)=>mi(t(a),s),o=(a,s)=>t(a)-s):(e=t===mi||t===ry?t:ly,n=t,o=t);function i(a,s,u=0,f=a.length){if(u<f){if(e(s,s)!==0)return f;do{const c=u+f>>>1;n(a[c],s)<0?u=c+1:f=c}while(u<f)}return u}function r(a,s,u=0,f=a.length){if(u<f){if(e(s,s)!==0)return f;do{const c=u+f>>>1;n(a[c],s)<=0?u=c+1:f=c}while(u<f)}return u}function l(a,s,u=0,f=a.length){const c=i(a,s,u,f-1);return c>u&&o(a[c-1],s)>-o(a[c],s)?c-1:c}return{left:i,center:l,right:r}}function ly(){return 0}function sy(t){return t===null?NaN:+t}const ay=kc(mi),uy=ay.right;kc(sy).center;const fy=Math.sqrt(50),cy=Math.sqrt(10),dy=Math.sqrt(2);function $i(t,e,n){const o=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(o)),r=o/Math.pow(10,i),l=r>=fy?10:r>=cy?5:r>=dy?2:1;let a,s,u;return i<0?(u=Math.pow(10,-i)/l,a=Math.round(t*u),s=Math.round(e*u),a/u<t&&++a,s/u>e&&--s,u=-u):(u=Math.pow(10,i)*l,a=Math.round(t/u),s=Math.round(e/u),a*u<t&&++a,s*u>e&&--s),s<a&&.5<=n&&n<2?$i(t,e,n*2):[a,s,u]}function my(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const o=e<t,[i,r,l]=o?$i(e,t,n):$i(t,e,n);if(!(r>=i))return[];const a=r-i+1,s=new Array(a);if(o)if(l<0)for(let u=0;u<a;++u)s[u]=(r-u)/-l;else for(let u=0;u<a;++u)s[u]=(r-u)*l;else if(l<0)for(let u=0;u<a;++u)s[u]=(i+u)/-l;else for(let u=0;u<a;++u)s[u]=(i+u)*l;return s}function Gr(t,e,n){return e=+e,t=+t,n=+n,$i(t,e,n)[2]}function py(t,e,n){e=+e,t=+t,n=+n;const o=e<t,i=o?Gr(e,t,n):Gr(t,e,n);return(o?-1:1)*(i<0?1/-i:i)}function hy(t){return t}var kr=1,Cr=2,Wr=3,Io=4,ka=1e-6;function _y(t){return"translate("+t+",0)"}function gy(t){return"translate(0,"+t+")"}function by(t){return e=>+t(e)}function vy(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function yy(){return!this.__axis}function Cc(t,e){var n=[],o=null,i=null,r=6,l=6,a=3,s=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=t===kr||t===Io?-1:1,f=t===Io||t===Cr?"x":"y",c=t===kr||t===Wr?_y:gy;function d(m){var p=o??(e.ticks?e.ticks.apply(e,n):e.domain()),h=i??(e.tickFormat?e.tickFormat.apply(e,n):hy),g=Math.max(r,0)+a,w=e.range(),b=+w[0]+s,C=+w[w.length-1]+s,N=(e.bandwidth?vy:by)(e.copy(),s),F=m.selection?m.selection():m,P=F.selectAll(".domain").data([null]),D=F.selectAll(".tick").data(p,e).order(),H=D.exit(),M=D.enter().append("g").attr("class","tick"),R=D.select("line"),S=D.select("text");P=P.merge(P.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),D=D.merge(M),R=R.merge(M.append("line").attr("stroke","currentColor").attr(f+"2",u*r)),S=S.merge(M.append("text").attr("fill","currentColor").attr(f,u*g).attr("dy",t===kr?"0em":t===Wr?"0.71em":"0.32em")),m!==F&&(P=P.transition(m),D=D.transition(m),R=R.transition(m),S=S.transition(m),H=H.transition(m).attr("opacity",ka).attr("transform",function(v){return isFinite(v=N(v))?c(v+s):this.getAttribute("transform")}),M.attr("opacity",ka).attr("transform",function(v){var A=this.parentNode.__axis;return c((A&&isFinite(A=A(v))?A:N(v))+s)})),H.remove(),P.attr("d",t===Io||t===Cr?l?"M"+u*l+","+b+"H"+s+"V"+C+"H"+u*l:"M"+s+","+b+"V"+C:l?"M"+b+","+u*l+"V"+s+"H"+C+"V"+u*l:"M"+b+","+s+"H"+C),D.attr("opacity",1).attr("transform",function(v){return c(N(v)+s)}),R.attr(f+"2",u*r),S.attr(f,u*g).text(h),F.filter(yy).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Cr?"start":t===Io?"end":"middle"),F.each(function(){this.__axis=N})}return d.scale=function(m){return arguments.length?(e=m,d):e},d.ticks=function(){return n=Array.from(arguments),d},d.tickArguments=function(m){return arguments.length?(n=m==null?[]:Array.from(m),d):n.slice()},d.tickValues=function(m){return arguments.length?(o=m==null?null:Array.from(m),d):o&&o.slice()},d.tickFormat=function(m){return arguments.length?(i=m,d):i},d.tickSize=function(m){return arguments.length?(r=l=+m,d):r},d.tickSizeInner=function(m){return arguments.length?(r=+m,d):r},d.tickSizeOuter=function(m){return arguments.length?(l=+m,d):l},d.tickPadding=function(m){return arguments.length?(a=+m,d):a},d.offset=function(m){return arguments.length?(s=+m,d):s},d}function wy(t){return Cc(Wr,t)}function ky(t){return Cc(Io,t)}var Cy={value:()=>{}};function Tc(){for(var t=0,e=arguments.length,n={},o;t<e;++t){if(!(o=arguments[t]+"")||o in n||/[\s.]/.test(o))throw new Error("illegal type: "+o);n[o]=[]}return new pi(n)}function pi(t){this._=t}function Ty(t,e){return t.trim().split(/^|\s+/).map(function(n){var o="",i=n.indexOf(".");if(i>=0&&(o=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:o}})}pi.prototype=Tc.prototype={constructor:pi,on:function(t,e){var n=this._,o=Ty(t+"",n),i,r=-1,l=o.length;if(arguments.length<2){for(;++r<l;)if((i=(t=o[r]).type)&&(i=Ay(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++r<l;)if(i=(t=o[r]).type)n[i]=Ca(n[i],t.name,e);else if(e==null)for(i in n)n[i]=Ca(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new pi(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),o=0,i,r;o<i;++o)n[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=this._[t],o=0,i=r.length;o<i;++o)r[o].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var o=this._[t],i=0,r=o.length;i<r;++i)o[i].value.apply(e,n)}};function Ay(t,e){for(var n=0,o=t.length,i;n<o;++n)if((i=t[n]).name===e)return i.value}function Ca(t,e,n){for(var o=0,i=t.length;o<i;++o)if(t[o].name===e){t[o]=Cy,t=t.slice(0,o).concat(t.slice(o+1));break}return n!=null&&t.push({name:e,value:n}),t}var Vr="http://www.w3.org/1999/xhtml";const Ta={svg:"http://www.w3.org/2000/svg",xhtml:Vr,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function or(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Ta.hasOwnProperty(e)?{space:Ta[e],local:t}:t}function Sy(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Vr&&e.documentElement.namespaceURI===Vr?e.createElement(t):e.createElementNS(n,t)}}function Iy(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Ac(t){var e=or(t);return(e.local?Iy:Sy)(e)}function Oy(){}function wl(t){return t==null?Oy:function(){return this.querySelector(t)}}function My(t){typeof t!="function"&&(t=wl(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var r=e[i],l=r.length,a=o[i]=new Array(l),s,u,f=0;f<l;++f)(s=r[f])&&(u=t.call(s,s.__data__,f,r))&&("__data__"in s&&(u.__data__=s.__data__),a[f]=u);return new It(o,this._parents)}function Py(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Ny(){return[]}function Sc(t){return t==null?Ny:function(){return this.querySelectorAll(t)}}function Ey(t){return function(){return Py(t.apply(this,arguments))}}function Ry(t){typeof t=="function"?t=Ey(t):t=Sc(t);for(var e=this._groups,n=e.length,o=[],i=[],r=0;r<n;++r)for(var l=e[r],a=l.length,s,u=0;u<a;++u)(s=l[u])&&(o.push(t.call(s,s.__data__,u,l)),i.push(s));return new It(o,i)}function Ic(t){return function(){return this.matches(t)}}function Oc(t){return function(e){return e.matches(t)}}var Ly=Array.prototype.find;function Dy(t){return function(){return Ly.call(this.children,t)}}function $y(){return this.firstElementChild}function Fy(t){return this.select(t==null?$y:Dy(typeof t=="function"?t:Oc(t)))}var jy=Array.prototype.filter;function qy(){return Array.from(this.children)}function By(t){return function(){return jy.call(this.children,t)}}function Hy(t){return this.selectAll(t==null?qy:By(typeof t=="function"?t:Oc(t)))}function Gy(t){typeof t!="function"&&(t=Ic(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var r=e[i],l=r.length,a=o[i]=[],s,u=0;u<l;++u)(s=r[u])&&t.call(s,s.__data__,u,r)&&a.push(s);return new It(o,this._parents)}function Mc(t){return new Array(t.length)}function Wy(){return new It(this._enter||this._groups.map(Mc),this._parents)}function Fi(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Fi.prototype={constructor:Fi,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Vy(t){return function(){return t}}function xy(t,e,n,o,i,r){for(var l=0,a,s=e.length,u=r.length;l<u;++l)(a=e[l])?(a.__data__=r[l],o[l]=a):n[l]=new Fi(t,r[l]);for(;l<s;++l)(a=e[l])&&(i[l]=a)}function Yy(t,e,n,o,i,r,l){var a,s,u=new Map,f=e.length,c=r.length,d=new Array(f),m;for(a=0;a<f;++a)(s=e[a])&&(d[a]=m=l.call(s,s.__data__,a,e)+"",u.has(m)?i[a]=s:u.set(m,s));for(a=0;a<c;++a)m=l.call(t,r[a],a,r)+"",(s=u.get(m))?(o[a]=s,s.__data__=r[a],u.delete(m)):n[a]=new Fi(t,r[a]);for(a=0;a<f;++a)(s=e[a])&&u.get(d[a])===s&&(i[a]=s)}function Uy(t){return t.__data__}function Ky(t,e){if(!arguments.length)return Array.from(this,Uy);var n=e?Yy:xy,o=this._parents,i=this._groups;typeof t!="function"&&(t=Vy(t));for(var r=i.length,l=new Array(r),a=new Array(r),s=new Array(r),u=0;u<r;++u){var f=o[u],c=i[u],d=c.length,m=Xy(t.call(f,f&&f.__data__,u,o)),p=m.length,h=a[u]=new Array(p),g=l[u]=new Array(p),w=s[u]=new Array(d);n(f,c,h,g,w,m,e);for(var b=0,C=0,N,F;b<p;++b)if(N=h[b]){for(b>=C&&(C=b+1);!(F=g[C])&&++C<p;);N._next=F||null}}return l=new It(l,o),l._enter=a,l._exit=s,l}function Xy(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Jy(){return new It(this._exit||this._groups.map(Mc),this._parents)}function Zy(t,e,n){var o=this.enter(),i=this,r=this.exit();return typeof t=="function"?(o=t(o),o&&(o=o.selection())):o=o.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?r.remove():n(r),o&&i?o.merge(i).order():i}function Qy(t){for(var e=t.selection?t.selection():t,n=this._groups,o=e._groups,i=n.length,r=o.length,l=Math.min(i,r),a=new Array(i),s=0;s<l;++s)for(var u=n[s],f=o[s],c=u.length,d=a[s]=new Array(c),m,p=0;p<c;++p)(m=u[p]||f[p])&&(d[p]=m);for(;s<i;++s)a[s]=n[s];return new It(a,this._parents)}function zy(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var o=t[e],i=o.length-1,r=o[i],l;--i>=0;)(l=o[i])&&(r&&l.compareDocumentPosition(r)^4&&r.parentNode.insertBefore(l,r),r=l);return this}function ew(t){t||(t=tw);function e(c,d){return c&&d?t(c.__data__,d.__data__):!c-!d}for(var n=this._groups,o=n.length,i=new Array(o),r=0;r<o;++r){for(var l=n[r],a=l.length,s=i[r]=new Array(a),u,f=0;f<a;++f)(u=l[f])&&(s[f]=u);s.sort(e)}return new It(i,this._parents).order()}function tw(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function nw(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function ow(){return Array.from(this)}function iw(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var o=t[e],i=0,r=o.length;i<r;++i){var l=o[i];if(l)return l}return null}function rw(){let t=0;for(const e of this)++t;return t}function lw(){return!this.node()}function sw(t){for(var e=this._groups,n=0,o=e.length;n<o;++n)for(var i=e[n],r=0,l=i.length,a;r<l;++r)(a=i[r])&&t.call(a,a.__data__,r,i);return this}function aw(t){return function(){this.removeAttribute(t)}}function uw(t){return function(){this.removeAttributeNS(t.space,t.local)}}function fw(t,e){return function(){this.setAttribute(t,e)}}function cw(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function dw(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function mw(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function pw(t,e){var n=or(t);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((e==null?n.local?uw:aw:typeof e=="function"?n.local?mw:dw:n.local?cw:fw)(n,e))}function Pc(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function hw(t){return function(){this.style.removeProperty(t)}}function _w(t,e,n){return function(){this.style.setProperty(t,e,n)}}function gw(t,e,n){return function(){var o=e.apply(this,arguments);o==null?this.style.removeProperty(t):this.style.setProperty(t,o,n)}}function bw(t,e,n){return arguments.length>1?this.each((e==null?hw:typeof e=="function"?gw:_w)(t,e,n??"")):ro(this.node(),t)}function ro(t,e){return t.style.getPropertyValue(e)||Pc(t).getComputedStyle(t,null).getPropertyValue(e)}function vw(t){return function(){delete this[t]}}function yw(t,e){return function(){this[t]=e}}function ww(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function kw(t,e){return arguments.length>1?this.each((e==null?vw:typeof e=="function"?ww:yw)(t,e)):this.node()[t]}function Nc(t){return t.trim().split(/^|\s+/)}function kl(t){return t.classList||new Ec(t)}function Ec(t){this._node=t,this._names=Nc(t.getAttribute("class")||"")}Ec.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Rc(t,e){for(var n=kl(t),o=-1,i=e.length;++o<i;)n.add(e[o])}function Lc(t,e){for(var n=kl(t),o=-1,i=e.length;++o<i;)n.remove(e[o])}function Cw(t){return function(){Rc(this,t)}}function Tw(t){return function(){Lc(this,t)}}function Aw(t,e){return function(){(e.apply(this,arguments)?Rc:Lc)(this,t)}}function Sw(t,e){var n=Nc(t+"");if(arguments.length<2){for(var o=kl(this.node()),i=-1,r=n.length;++i<r;)if(!o.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?Aw:e?Cw:Tw)(n,e))}function Iw(){this.textContent=""}function Ow(t){return function(){this.textContent=t}}function Mw(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Pw(t){return arguments.length?this.each(t==null?Iw:(typeof t=="function"?Mw:Ow)(t)):this.node().textContent}function Nw(){this.innerHTML=""}function Ew(t){return function(){this.innerHTML=t}}function Rw(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Lw(t){return arguments.length?this.each(t==null?Nw:(typeof t=="function"?Rw:Ew)(t)):this.node().innerHTML}function Dw(){this.nextSibling&&this.parentNode.appendChild(this)}function $w(){return this.each(Dw)}function Fw(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function jw(){return this.each(Fw)}function qw(t){var e=typeof t=="function"?t:Ac(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Bw(){return null}function Hw(t,e){var n=typeof t=="function"?t:Ac(t),o=e==null?Bw:typeof e=="function"?e:wl(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)})}function Gw(){var t=this.parentNode;t&&t.removeChild(this)}function Ww(){return this.each(Gw)}function Vw(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function xw(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Yw(t){return this.select(t?xw:Vw)}function Uw(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Kw(t){return function(e){t.call(this,e,this.__data__)}}function Xw(t){return t.trim().split(/^|\s+/).map(function(e){var n="",o=e.indexOf(".");return o>=0&&(n=e.slice(o+1),e=e.slice(0,o)),{type:e,name:n}})}function Jw(t){return function(){var e=this.__on;if(e){for(var n=0,o=-1,i=e.length,r;n<i;++n)r=e[n],(!t.type||r.type===t.type)&&r.name===t.name?this.removeEventListener(r.type,r.listener,r.options):e[++o]=r;++o?e.length=o:delete this.__on}}}function Zw(t,e,n){return function(){var o=this.__on,i,r=Kw(e);if(o){for(var l=0,a=o.length;l<a;++l)if((i=o[l]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=r,i.options=n),i.value=e;return}}this.addEventListener(t.type,r,n),i={type:t.type,name:t.name,value:e,listener:r,options:n},o?o.push(i):this.__on=[i]}}function Qw(t,e,n){var o=Xw(t+""),i,r=o.length,l;if(arguments.length<2){var a=this.node().__on;if(a){for(var s=0,u=a.length,f;s<u;++s)for(i=0,f=a[s];i<r;++i)if((l=o[i]).type===f.type&&l.name===f.name)return f.value}return}for(a=e?Zw:Jw,i=0;i<r;++i)this.each(a(o[i],e,n));return this}function Dc(t,e,n){var o=Pc(t),i=o.CustomEvent;typeof i=="function"?i=new i(e,n):(i=o.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function zw(t,e){return function(){return Dc(this,t,e)}}function e2(t,e){return function(){return Dc(this,t,e.apply(this,arguments))}}function t2(t,e){return this.each((typeof e=="function"?e2:zw)(t,e))}function*n2(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var o=t[e],i=0,r=o.length,l;i<r;++i)(l=o[i])&&(yield l)}var $c=[null];function It(t,e){this._groups=t,this._parents=e}function Xo(){return new It([[document.documentElement]],$c)}function o2(){return this}It.prototype=Xo.prototype={constructor:It,select:My,selectAll:Ry,selectChild:Fy,selectChildren:Hy,filter:Gy,data:Ky,enter:Wy,exit:Jy,join:Zy,merge:Qy,selection:o2,order:zy,sort:ew,call:nw,nodes:ow,node:iw,size:rw,empty:lw,each:sw,attr:pw,style:bw,property:kw,classed:Sw,text:Pw,html:Lw,raise:$w,lower:jw,append:qw,insert:Hw,remove:Ww,clone:Yw,datum:Uw,on:Qw,dispatch:t2,[Symbol.iterator]:n2};function i2(t){return typeof t=="string"?new It([[document.querySelector(t)]],[document.documentElement]):new It([[t]],$c)}function Cl(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Fc(t,e){var n=Object.create(t.prototype);for(var o in e)n[o]=e[o];return n}function Jo(){}var Ho=.7,ji=1/Ho,Zn="\\s*([+-]?\\d+)\\s*",Go="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ht="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",r2=/^#([0-9a-f]{3,8})$/,l2=new RegExp(`^rgb\\(${Zn},${Zn},${Zn}\\)$`),s2=new RegExp(`^rgb\\(${Ht},${Ht},${Ht}\\)$`),a2=new RegExp(`^rgba\\(${Zn},${Zn},${Zn},${Go}\\)$`),u2=new RegExp(`^rgba\\(${Ht},${Ht},${Ht},${Go}\\)$`),f2=new RegExp(`^hsl\\(${Go},${Ht},${Ht}\\)$`),c2=new RegExp(`^hsla\\(${Go},${Ht},${Ht},${Go}\\)$`),Aa={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Cl(Jo,Ln,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Sa,formatHex:Sa,formatHex8:d2,formatHsl:m2,formatRgb:Ia,toString:Ia});function Sa(){return this.rgb().formatHex()}function d2(){return this.rgb().formatHex8()}function m2(){return jc(this).formatHsl()}function Ia(){return this.rgb().formatRgb()}function Ln(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=r2.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Oa(e):n===3?new yt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?ii(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?ii(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=l2.exec(t))?new yt(e[1],e[2],e[3],1):(e=s2.exec(t))?new yt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=a2.exec(t))?ii(e[1],e[2],e[3],e[4]):(e=u2.exec(t))?ii(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=f2.exec(t))?Na(e[1],e[2]/100,e[3]/100,1):(e=c2.exec(t))?Na(e[1],e[2]/100,e[3]/100,e[4]):Aa.hasOwnProperty(t)?Oa(Aa[t]):t==="transparent"?new yt(NaN,NaN,NaN,0):null}function Oa(t){return new yt(t>>16&255,t>>8&255,t&255,1)}function ii(t,e,n,o){return o<=0&&(t=e=n=NaN),new yt(t,e,n,o)}function p2(t){return t instanceof Jo||(t=Ln(t)),t?(t=t.rgb(),new yt(t.r,t.g,t.b,t.opacity)):new yt}function xr(t,e,n,o){return arguments.length===1?p2(t):new yt(t,e,n,o??1)}function yt(t,e,n,o){this.r=+t,this.g=+e,this.b=+n,this.opacity=+o}Cl(yt,xr,Fc(Jo,{brighter(t){return t=t==null?ji:Math.pow(ji,t),new yt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ho:Math.pow(Ho,t),new yt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new yt(Mn(this.r),Mn(this.g),Mn(this.b),qi(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ma,formatHex:Ma,formatHex8:h2,formatRgb:Pa,toString:Pa}));function Ma(){return`#${Sn(this.r)}${Sn(this.g)}${Sn(this.b)}`}function h2(){return`#${Sn(this.r)}${Sn(this.g)}${Sn(this.b)}${Sn((isNaN(this.opacity)?1:this.opacity)*255)}`}function Pa(){const t=qi(this.opacity);return`${t===1?"rgb(":"rgba("}${Mn(this.r)}, ${Mn(this.g)}, ${Mn(this.b)}${t===1?")":`, ${t})`}`}function qi(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Mn(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Sn(t){return t=Mn(t),(t<16?"0":"")+t.toString(16)}function Na(t,e,n,o){return o<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Lt(t,e,n,o)}function jc(t){if(t instanceof Lt)return new Lt(t.h,t.s,t.l,t.opacity);if(t instanceof Jo||(t=Ln(t)),!t)return new Lt;if(t instanceof Lt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,o=t.b/255,i=Math.min(e,n,o),r=Math.max(e,n,o),l=NaN,a=r-i,s=(r+i)/2;return a?(e===r?l=(n-o)/a+(n<o)*6:n===r?l=(o-e)/a+2:l=(e-n)/a+4,a/=s<.5?r+i:2-r-i,l*=60):a=s>0&&s<1?0:l,new Lt(l,a,s,t.opacity)}function _2(t,e,n,o){return arguments.length===1?jc(t):new Lt(t,e,n,o??1)}function Lt(t,e,n,o){this.h=+t,this.s=+e,this.l=+n,this.opacity=+o}Cl(Lt,_2,Fc(Jo,{brighter(t){return t=t==null?ji:Math.pow(ji,t),new Lt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ho:Math.pow(Ho,t),new Lt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*e,i=2*n-o;return new yt(Tr(t>=240?t-240:t+120,i,o),Tr(t,i,o),Tr(t<120?t+240:t-120,i,o),this.opacity)},clamp(){return new Lt(Ea(this.h),ri(this.s),ri(this.l),qi(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=qi(this.opacity);return`${t===1?"hsl(":"hsla("}${Ea(this.h)}, ${ri(this.s)*100}%, ${ri(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Ea(t){return t=(t||0)%360,t<0?t+360:t}function ri(t){return Math.max(0,Math.min(1,t||0))}function Tr(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Tl=t=>()=>t;function g2(t,e){return function(n){return t+n*e}}function b2(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(o){return Math.pow(t+o*e,n)}}function v2(t){return(t=+t)==1?qc:function(e,n){return n-e?b2(e,n,t):Tl(isNaN(e)?n:e)}}function qc(t,e){var n=e-t;return n?g2(t,n):Tl(isNaN(t)?e:t)}const Bi=function t(e){var n=v2(e);function o(i,r){var l=n((i=xr(i)).r,(r=xr(r)).r),a=n(i.g,r.g),s=n(i.b,r.b),u=qc(i.opacity,r.opacity);return function(f){return i.r=l(f),i.g=a(f),i.b=s(f),i.opacity=u(f),i+""}}return o.gamma=t,o}(1);function y2(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,o=e.slice(),i;return function(r){for(i=0;i<n;++i)o[i]=t[i]*(1-r)+e[i]*r;return o}}function w2(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function k2(t,e){var n=e?e.length:0,o=t?Math.min(n,t.length):0,i=new Array(o),r=new Array(n),l;for(l=0;l<o;++l)i[l]=Al(t[l],e[l]);for(;l<n;++l)r[l]=e[l];return function(a){for(l=0;l<o;++l)r[l]=i[l](a);return r}}function C2(t,e){var n=new Date;return t=+t,e=+e,function(o){return n.setTime(t*(1-o)+e*o),n}}function Rt(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function T2(t,e){var n={},o={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Al(t[i],e[i]):o[i]=e[i];return function(r){for(i in n)o[i]=n[i](r);return o}}var Yr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ar=new RegExp(Yr.source,"g");function A2(t){return function(){return t}}function S2(t){return function(e){return t(e)+""}}function Bc(t,e){var n=Yr.lastIndex=Ar.lastIndex=0,o,i,r,l=-1,a=[],s=[];for(t=t+"",e=e+"";(o=Yr.exec(t))&&(i=Ar.exec(e));)(r=i.index)>n&&(r=e.slice(n,r),a[l]?a[l]+=r:a[++l]=r),(o=o[0])===(i=i[0])?a[l]?a[l]+=i:a[++l]=i:(a[++l]=null,s.push({i:l,x:Rt(o,i)})),n=Ar.lastIndex;return n<e.length&&(r=e.slice(n),a[l]?a[l]+=r:a[++l]=r),a.length<2?s[0]?S2(s[0].x):A2(e):(e=s.length,function(u){for(var f=0,c;f<e;++f)a[(c=s[f]).i]=c.x(u);return a.join("")})}function Al(t,e){var n=typeof e,o;return e==null||n==="boolean"?Tl(e):(n==="number"?Rt:n==="string"?(o=Ln(e))?(e=o,Bi):Bc:e instanceof Ln?Bi:e instanceof Date?C2:w2(e)?y2:Array.isArray(e)?k2:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?T2:Rt)(t,e)}function I2(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var Ra=180/Math.PI,Ur={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Hc(t,e,n,o,i,r){var l,a,s;return(l=Math.sqrt(t*t+e*e))&&(t/=l,e/=l),(s=t*n+e*o)&&(n-=t*s,o-=e*s),(a=Math.sqrt(n*n+o*o))&&(n/=a,o/=a,s/=a),t*o<e*n&&(t=-t,e=-e,s=-s,l=-l),{translateX:i,translateY:r,rotate:Math.atan2(e,t)*Ra,skewX:Math.atan(s)*Ra,scaleX:l,scaleY:a}}var li;function O2(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Ur:Hc(e.a,e.b,e.c,e.d,e.e,e.f)}function M2(t){return t==null||(li||(li=document.createElementNS("http://www.w3.org/2000/svg","g")),li.setAttribute("transform",t),!(t=li.transform.baseVal.consolidate()))?Ur:(t=t.matrix,Hc(t.a,t.b,t.c,t.d,t.e,t.f))}function Gc(t,e,n,o){function i(u){return u.length?u.pop()+" ":""}function r(u,f,c,d,m,p){if(u!==c||f!==d){var h=m.push("translate(",null,e,null,n);p.push({i:h-4,x:Rt(u,c)},{i:h-2,x:Rt(f,d)})}else(c||d)&&m.push("translate("+c+e+d+n)}function l(u,f,c,d){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),d.push({i:c.push(i(c)+"rotate(",null,o)-2,x:Rt(u,f)})):f&&c.push(i(c)+"rotate("+f+o)}function a(u,f,c,d){u!==f?d.push({i:c.push(i(c)+"skewX(",null,o)-2,x:Rt(u,f)}):f&&c.push(i(c)+"skewX("+f+o)}function s(u,f,c,d,m,p){if(u!==c||f!==d){var h=m.push(i(m)+"scale(",null,",",null,")");p.push({i:h-4,x:Rt(u,c)},{i:h-2,x:Rt(f,d)})}else(c!==1||d!==1)&&m.push(i(m)+"scale("+c+","+d+")")}return function(u,f){var c=[],d=[];return u=t(u),f=t(f),r(u.translateX,u.translateY,f.translateX,f.translateY,c,d),l(u.rotate,f.rotate,c,d),a(u.skewX,f.skewX,c,d),s(u.scaleX,u.scaleY,f.scaleX,f.scaleY,c,d),u=f=null,function(m){for(var p=-1,h=d.length,g;++p<h;)c[(g=d[p]).i]=g.x(m);return c.join("")}}}var P2=Gc(O2,"px, ","px)","deg)"),N2=Gc(M2,", ",")",")"),lo=0,Oo=0,To=0,Wc=1e3,Hi,Mo,Gi=0,Dn=0,ir=0,Wo=typeof performance=="object"&&performance.now?performance:Date,Vc=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Sl(){return Dn||(Vc(E2),Dn=Wo.now()+ir)}function E2(){Dn=0}function Wi(){this._call=this._time=this._next=null}Wi.prototype=xc.prototype={constructor:Wi,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Sl():+n)+(e==null?0:+e),!this._next&&Mo!==this&&(Mo?Mo._next=this:Hi=this,Mo=this),this._call=t,this._time=n,Kr()},stop:function(){this._call&&(this._call=null,this._time=1/0,Kr())}};function xc(t,e,n){var o=new Wi;return o.restart(t,e,n),o}function R2(){Sl(),++lo;for(var t=Hi,e;t;)(e=Dn-t._time)>=0&&t._call.call(void 0,e),t=t._next;--lo}function La(){Dn=(Gi=Wo.now())+ir,lo=Oo=0;try{R2()}finally{lo=0,D2(),Dn=0}}function L2(){var t=Wo.now(),e=t-Gi;e>Wc&&(ir-=e,Gi=t)}function D2(){for(var t,e=Hi,n,o=1/0;e;)e._call?(o>e._time&&(o=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Hi=n);Mo=t,Kr(o)}function Kr(t){if(!lo){Oo&&(Oo=clearTimeout(Oo));var e=t-Dn;e>24?(t<1/0&&(Oo=setTimeout(La,t-Wo.now()-ir)),To&&(To=clearInterval(To))):(To||(Gi=Wo.now(),To=setInterval(L2,Wc)),lo=1,Vc(La))}}function Da(t,e,n){var o=new Wi;return e=e==null?0:+e,o.restart(i=>{o.stop(),t(i+e)},e,n),o}var $2=Tc("start","end","cancel","interrupt"),F2=[],Yc=0,$a=1,Xr=2,hi=3,Fa=4,Jr=5,_i=6;function rr(t,e,n,o,i,r){var l=t.__transition;if(!l)t.__transition={};else if(n in l)return;j2(t,n,{name:e,index:o,group:i,on:$2,tween:F2,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:Yc})}function Il(t,e){var n=jt(t,e);if(n.state>Yc)throw new Error("too late; already scheduled");return n}function xt(t,e){var n=jt(t,e);if(n.state>hi)throw new Error("too late; already running");return n}function jt(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function j2(t,e,n){var o=t.__transition,i;o[e]=n,n.timer=xc(r,0,n.time);function r(u){n.state=$a,n.timer.restart(l,n.delay,n.time),n.delay<=u&&l(u-n.delay)}function l(u){var f,c,d,m;if(n.state!==$a)return s();for(f in o)if(m=o[f],m.name===n.name){if(m.state===hi)return Da(l);m.state===Fa?(m.state=_i,m.timer.stop(),m.on.call("interrupt",t,t.__data__,m.index,m.group),delete o[f]):+f<e&&(m.state=_i,m.timer.stop(),m.on.call("cancel",t,t.__data__,m.index,m.group),delete o[f])}if(Da(function(){n.state===hi&&(n.state=Fa,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=Xr,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Xr){for(n.state=hi,i=new Array(d=n.tween.length),f=0,c=-1;f<d;++f)(m=n.tween[f].value.call(t,t.__data__,n.index,n.group))&&(i[++c]=m);i.length=c+1}}function a(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(s),n.state=Jr,1),c=-1,d=i.length;++c<d;)i[c].call(t,f);n.state===Jr&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){n.state=_i,n.timer.stop(),delete o[e];for(var u in o)return;delete t.__transition}}function q2(t,e){var n=t.__transition,o,i,r=!0,l;if(n){e=e==null?null:e+"";for(l in n){if((o=n[l]).name!==e){r=!1;continue}i=o.state>Xr&&o.state<Jr,o.state=_i,o.timer.stop(),o.on.call(i?"interrupt":"cancel",t,t.__data__,o.index,o.group),delete n[l]}r&&delete t.__transition}}function B2(t){return this.each(function(){q2(this,t)})}function H2(t,e){var n,o;return function(){var i=xt(this,t),r=i.tween;if(r!==n){o=n=r;for(var l=0,a=o.length;l<a;++l)if(o[l].name===e){o=o.slice(),o.splice(l,1);break}}i.tween=o}}function G2(t,e,n){var o,i;if(typeof n!="function")throw new Error;return function(){var r=xt(this,t),l=r.tween;if(l!==o){i=(o=l).slice();for(var a={name:e,value:n},s=0,u=i.length;s<u;++s)if(i[s].name===e){i[s]=a;break}s===u&&i.push(a)}r.tween=i}}function W2(t,e){var n=this._id;if(t+="",arguments.length<2){for(var o=jt(this.node(),n).tween,i=0,r=o.length,l;i<r;++i)if((l=o[i]).name===t)return l.value;return null}return this.each((e==null?H2:G2)(n,t,e))}function Ol(t,e,n){var o=t._id;return t.each(function(){var i=xt(this,o);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return jt(i,o).value[e]}}function Uc(t,e){var n;return(typeof e=="number"?Rt:e instanceof Ln?Bi:(n=Ln(e))?(e=n,Bi):Bc)(t,e)}function V2(t){return function(){this.removeAttribute(t)}}function x2(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Y2(t,e,n){var o,i=n+"",r;return function(){var l=this.getAttribute(t);return l===i?null:l===o?r:r=e(o=l,n)}}function U2(t,e,n){var o,i=n+"",r;return function(){var l=this.getAttributeNS(t.space,t.local);return l===i?null:l===o?r:r=e(o=l,n)}}function K2(t,e,n){var o,i,r;return function(){var l,a=n(this),s;return a==null?void this.removeAttribute(t):(l=this.getAttribute(t),s=a+"",l===s?null:l===o&&s===i?r:(i=s,r=e(o=l,a)))}}function X2(t,e,n){var o,i,r;return function(){var l,a=n(this),s;return a==null?void this.removeAttributeNS(t.space,t.local):(l=this.getAttributeNS(t.space,t.local),s=a+"",l===s?null:l===o&&s===i?r:(i=s,r=e(o=l,a)))}}function J2(t,e){var n=or(t),o=n==="transform"?N2:Uc;return this.attrTween(t,typeof e=="function"?(n.local?X2:K2)(n,o,Ol(this,"attr."+t,e)):e==null?(n.local?x2:V2)(n):(n.local?U2:Y2)(n,o,e))}function Z2(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Q2(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function z2(t,e){var n,o;function i(){var r=e.apply(this,arguments);return r!==o&&(n=(o=r)&&Q2(t,r)),n}return i._value=e,i}function ek(t,e){var n,o;function i(){var r=e.apply(this,arguments);return r!==o&&(n=(o=r)&&Z2(t,r)),n}return i._value=e,i}function tk(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var o=or(t);return this.tween(n,(o.local?z2:ek)(o,e))}function nk(t,e){return function(){Il(this,t).delay=+e.apply(this,arguments)}}function ok(t,e){return e=+e,function(){Il(this,t).delay=e}}function ik(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?nk:ok)(e,t)):jt(this.node(),e).delay}function rk(t,e){return function(){xt(this,t).duration=+e.apply(this,arguments)}}function lk(t,e){return e=+e,function(){xt(this,t).duration=e}}function sk(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?rk:lk)(e,t)):jt(this.node(),e).duration}function ak(t,e){if(typeof e!="function")throw new Error;return function(){xt(this,t).ease=e}}function uk(t){var e=this._id;return arguments.length?this.each(ak(e,t)):jt(this.node(),e).ease}function fk(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;xt(this,t).ease=n}}function ck(t){if(typeof t!="function")throw new Error;return this.each(fk(this._id,t))}function dk(t){typeof t!="function"&&(t=Ic(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var r=e[i],l=r.length,a=o[i]=[],s,u=0;u<l;++u)(s=r[u])&&t.call(s,s.__data__,u,r)&&a.push(s);return new zt(o,this._parents,this._name,this._id)}function mk(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,o=e.length,i=n.length,r=Math.min(o,i),l=new Array(o),a=0;a<r;++a)for(var s=e[a],u=n[a],f=s.length,c=l[a]=new Array(f),d,m=0;m<f;++m)(d=s[m]||u[m])&&(c[m]=d);for(;a<o;++a)l[a]=e[a];return new zt(l,this._parents,this._name,this._id)}function pk(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function hk(t,e,n){var o,i,r=pk(e)?Il:xt;return function(){var l=r(this,t),a=l.on;a!==o&&(i=(o=a).copy()).on(e,n),l.on=i}}function _k(t,e){var n=this._id;return arguments.length<2?jt(this.node(),n).on.on(t):this.each(hk(n,t,e))}function gk(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function bk(){return this.on("end.remove",gk(this._id))}function vk(t){var e=this._name,n=this._id;typeof t!="function"&&(t=wl(t));for(var o=this._groups,i=o.length,r=new Array(i),l=0;l<i;++l)for(var a=o[l],s=a.length,u=r[l]=new Array(s),f,c,d=0;d<s;++d)(f=a[d])&&(c=t.call(f,f.__data__,d,a))&&("__data__"in f&&(c.__data__=f.__data__),u[d]=c,rr(u[d],e,n,d,u,jt(f,n)));return new zt(r,this._parents,e,n)}function yk(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Sc(t));for(var o=this._groups,i=o.length,r=[],l=[],a=0;a<i;++a)for(var s=o[a],u=s.length,f,c=0;c<u;++c)if(f=s[c]){for(var d=t.call(f,f.__data__,c,s),m,p=jt(f,n),h=0,g=d.length;h<g;++h)(m=d[h])&&rr(m,e,n,h,d,p);r.push(d),l.push(f)}return new zt(r,l,e,n)}var wk=Xo.prototype.constructor;function kk(){return new wk(this._groups,this._parents)}function Ck(t,e){var n,o,i;return function(){var r=ro(this,t),l=(this.style.removeProperty(t),ro(this,t));return r===l?null:r===n&&l===o?i:i=e(n=r,o=l)}}function Kc(t){return function(){this.style.removeProperty(t)}}function Tk(t,e,n){var o,i=n+"",r;return function(){var l=ro(this,t);return l===i?null:l===o?r:r=e(o=l,n)}}function Ak(t,e,n){var o,i,r;return function(){var l=ro(this,t),a=n(this),s=a+"";return a==null&&(s=a=(this.style.removeProperty(t),ro(this,t))),l===s?null:l===o&&s===i?r:(i=s,r=e(o=l,a))}}function Sk(t,e){var n,o,i,r="style."+e,l="end."+r,a;return function(){var s=xt(this,t),u=s.on,f=s.value[r]==null?a||(a=Kc(e)):void 0;(u!==n||i!==f)&&(o=(n=u).copy()).on(l,i=f),s.on=o}}function Ik(t,e,n){var o=(t+="")=="transform"?P2:Uc;return e==null?this.styleTween(t,Ck(t,o)).on("end.style."+t,Kc(t)):typeof e=="function"?this.styleTween(t,Ak(t,o,Ol(this,"style."+t,e))).each(Sk(this._id,t)):this.styleTween(t,Tk(t,o,e),n).on("end.style."+t,null)}function Ok(t,e,n){return function(o){this.style.setProperty(t,e.call(this,o),n)}}function Mk(t,e,n){var o,i;function r(){var l=e.apply(this,arguments);return l!==i&&(o=(i=l)&&Ok(t,l,n)),o}return r._value=e,r}function Pk(t,e,n){var o="style."+(t+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(e==null)return this.tween(o,null);if(typeof e!="function")throw new Error;return this.tween(o,Mk(t,e,n??""))}function Nk(t){return function(){this.textContent=t}}function Ek(t){return function(){var e=t(this);this.textContent=e??""}}function Rk(t){return this.tween("text",typeof t=="function"?Ek(Ol(this,"text",t)):Nk(t==null?"":t+""))}function Lk(t){return function(e){this.textContent=t.call(this,e)}}function Dk(t){var e,n;function o(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&Lk(i)),e}return o._value=t,o}function $k(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Dk(t))}function Fk(){for(var t=this._name,e=this._id,n=Xc(),o=this._groups,i=o.length,r=0;r<i;++r)for(var l=o[r],a=l.length,s,u=0;u<a;++u)if(s=l[u]){var f=jt(s,e);rr(s,t,n,u,l,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new zt(o,this._parents,t,n)}function jk(){var t,e,n=this,o=n._id,i=n.size();return new Promise(function(r,l){var a={value:l},s={value:function(){--i===0&&r()}};n.each(function(){var u=xt(this,o),f=u.on;f!==t&&(e=(t=f).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(s)),u.on=e}),i===0&&r()})}var qk=0;function zt(t,e,n,o){this._groups=t,this._parents=e,this._name=n,this._id=o}function Xc(){return++qk}var Ut=Xo.prototype;zt.prototype={constructor:zt,select:vk,selectAll:yk,selectChild:Ut.selectChild,selectChildren:Ut.selectChildren,filter:dk,merge:mk,selection:kk,transition:Fk,call:Ut.call,nodes:Ut.nodes,node:Ut.node,size:Ut.size,empty:Ut.empty,each:Ut.each,on:_k,attr:J2,attrTween:tk,style:Ik,styleTween:Pk,text:Rk,textTween:$k,remove:bk,tween:W2,delay:ik,duration:sk,ease:uk,easeVarying:ck,end:jk,[Symbol.iterator]:Ut[Symbol.iterator]};function Bk(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Hk={time:null,delay:0,duration:250,ease:Bk};function Gk(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Wk(t){var e,n;t instanceof zt?(e=t._id,t=t._name):(e=Xc(),(n=Hk).time=Sl(),t=t==null?null:t+"");for(var o=this._groups,i=o.length,r=0;r<i;++r)for(var l=o[r],a=l.length,s,u=0;u<a;++u)(s=l[u])&&rr(s,t,e,u,l,n||Gk(s,e));return new zt(o,this._parents,t,e)}Xo.prototype.interrupt=B2;Xo.prototype.transition=Wk;const Zr=Math.PI,Qr=2*Zr,Cn=1e-6,Vk=Qr-Cn;function Jc(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function xk(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Jc;const n=10**e;return function(o){this._+=o[0];for(let i=1,r=o.length;i<r;++i)this._+=Math.round(arguments[i]*n)/n+o[i]}}class Yk{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Jc:xk(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,o,i){this._append`Q${+e},${+n},${this._x1=+o},${this._y1=+i}`}bezierCurveTo(e,n,o,i,r,l){this._append`C${+e},${+n},${+o},${+i},${this._x1=+r},${this._y1=+l}`}arcTo(e,n,o,i,r){if(e=+e,n=+n,o=+o,i=+i,r=+r,r<0)throw new Error(`negative radius: ${r}`);let l=this._x1,a=this._y1,s=o-e,u=i-n,f=l-e,c=a-n,d=f*f+c*c;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(d>Cn)if(!(Math.abs(c*s-u*f)>Cn)||!r)this._append`L${this._x1=e},${this._y1=n}`;else{let m=o-l,p=i-a,h=s*s+u*u,g=m*m+p*p,w=Math.sqrt(h),b=Math.sqrt(d),C=r*Math.tan((Zr-Math.acos((h+d-g)/(2*w*b)))/2),N=C/b,F=C/w;Math.abs(N-1)>Cn&&this._append`L${e+N*f},${n+N*c}`,this._append`A${r},${r},0,0,${+(c*m>f*p)},${this._x1=e+F*s},${this._y1=n+F*u}`}}arc(e,n,o,i,r,l){if(e=+e,n=+n,o=+o,l=!!l,o<0)throw new Error(`negative radius: ${o}`);let a=o*Math.cos(i),s=o*Math.sin(i),u=e+a,f=n+s,c=1^l,d=l?i-r:r-i;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>Cn||Math.abs(this._y1-f)>Cn)&&this._append`L${u},${f}`,o&&(d<0&&(d=d%Qr+Qr),d>Vk?this._append`A${o},${o},0,1,${c},${e-a},${n-s}A${o},${o},0,1,${c},${this._x1=u},${this._y1=f}`:d>Cn&&this._append`A${o},${o},0,${+(d>=Zr)},${c},${this._x1=e+o*Math.cos(r)},${this._y1=n+o*Math.sin(r)}`)}rect(e,n,o,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${o=+o}v${+i}h${-o}Z`}toString(){return this._}}function Uk(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Vi(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,o=t.slice(0,n);return[o.length>1?o[0]+o.slice(2):o,+t.slice(n+1)]}function so(t){return t=Vi(Math.abs(t)),t?t[1]:NaN}function Kk(t,e){return function(n,o){for(var i=n.length,r=[],l=0,a=t[0],s=0;i>0&&a>0&&(s+a+1>o&&(a=Math.max(1,o-s)),r.push(n.substring(i-=a,i+a)),!((s+=a+1)>o));)a=t[l=(l+1)%t.length];return r.reverse().join(e)}}function Xk(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Jk=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function xi(t){if(!(e=Jk.exec(t)))throw new Error("invalid format: "+t);var e;return new Ml({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}xi.prototype=Ml.prototype;function Ml(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Ml.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Zk(t){e:for(var e=t.length,n=1,o=-1,i;n<e;++n)switch(t[n]){case".":o=i=n;break;case"0":o===0&&(o=n),i=n;break;default:if(!+t[n])break e;o>0&&(o=0);break}return o>0?t.slice(0,o)+t.slice(i+1):t}var Zc;function Qk(t,e){var n=Vi(t,e);if(!n)return t+"";var o=n[0],i=n[1],r=i-(Zc=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=o.length;return r===l?o:r>l?o+new Array(r-l+1).join("0"):r>0?o.slice(0,r)+"."+o.slice(r):"0."+new Array(1-r).join("0")+Vi(t,Math.max(0,e+r-1))[0]}function ja(t,e){var n=Vi(t,e);if(!n)return t+"";var o=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+o:o.length>i+1?o.slice(0,i+1)+"."+o.slice(i+1):o+new Array(i-o.length+2).join("0")}const qa={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Uk,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>ja(t*100,e),r:ja,s:Qk,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Ba(t){return t}var Ha=Array.prototype.map,Ga=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function zk(t){var e=t.grouping===void 0||t.thousands===void 0?Ba:Kk(Ha.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",o=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",r=t.numerals===void 0?Ba:Xk(Ha.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"−":t.minus+"",s=t.nan===void 0?"NaN":t.nan+"";function u(c){c=xi(c);var d=c.fill,m=c.align,p=c.sign,h=c.symbol,g=c.zero,w=c.width,b=c.comma,C=c.precision,N=c.trim,F=c.type;F==="n"?(b=!0,F="g"):qa[F]||(C===void 0&&(C=12),N=!0,F="g"),(g||d==="0"&&m==="=")&&(g=!0,d="0",m="=");var P=h==="$"?n:h==="#"&&/[boxX]/.test(F)?"0"+F.toLowerCase():"",D=h==="$"?o:/[%p]/.test(F)?l:"",H=qa[F],M=/[defgprs%]/.test(F);C=C===void 0?6:/[gprs]/.test(F)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function R(S){var v=P,A=D,j,W,$;if(F==="c")A=H(S)+A,S="";else{S=+S;var U=S<0||1/S<0;if(S=isNaN(S)?s:H(Math.abs(S),C),N&&(S=Zk(S)),U&&+S==0&&p!=="+"&&(U=!1),v=(U?p==="("?p:a:p==="-"||p==="("?"":p)+v,A=(F==="s"?Ga[8+Zc/3]:"")+A+(U&&p==="("?")":""),M){for(j=-1,W=S.length;++j<W;)if($=S.charCodeAt(j),48>$||$>57){A=($===46?i+S.slice(j+1):S.slice(j))+A,S=S.slice(0,j);break}}}b&&!g&&(S=e(S,1/0));var Q=v.length+S.length+A.length,z=Q<w?new Array(w-Q+1).join(d):"";switch(b&&g&&(S=e(z+S,z.length?w-A.length:1/0),z=""),m){case"<":S=v+S+A+z;break;case"=":S=v+z+S+A;break;case"^":S=z.slice(0,Q=z.length>>1)+v+S+A+z.slice(Q);break;default:S=z+v+S+A;break}return r(S)}return R.toString=function(){return c+""},R}function f(c,d){var m=u((c=xi(c),c.type="f",c)),p=Math.max(-8,Math.min(8,Math.floor(so(d)/3)))*3,h=Math.pow(10,-p),g=Ga[8+p/3];return function(w){return m(h*w)+g}}return{format:u,formatPrefix:f}}var si,Qc,zc;e5({thousands:",",grouping:[3],currency:["$",""]});function e5(t){return si=zk(t),Qc=si.format,zc=si.formatPrefix,si}function t5(t){return Math.max(0,-so(Math.abs(t)))}function n5(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(so(e)/3)))*3-so(Math.abs(t)))}function o5(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,so(e)-so(t))+1}function i5(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function r5(t){return function(){return t}}function l5(t){return+t}var Wa=[0,1];function Un(t){return t}function zr(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:r5(isNaN(e)?NaN:.5)}function s5(t,e){var n;return t>e&&(n=t,t=e,e=n),function(o){return Math.max(t,Math.min(e,o))}}function a5(t,e,n){var o=t[0],i=t[1],r=e[0],l=e[1];return i<o?(o=zr(i,o),r=n(l,r)):(o=zr(o,i),r=n(r,l)),function(a){return r(o(a))}}function u5(t,e,n){var o=Math.min(t.length,e.length)-1,i=new Array(o),r=new Array(o),l=-1;for(t[o]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<o;)i[l]=zr(t[l],t[l+1]),r[l]=n(e[l],e[l+1]);return function(a){var s=uy(t,a,1,o)-1;return r[s](i[s](a))}}function f5(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function c5(){var t=Wa,e=Wa,n=Al,o,i,r,l=Un,a,s,u;function f(){var d=Math.min(t.length,e.length);return l!==Un&&(l=s5(t[0],t[d-1])),a=d>2?u5:a5,s=u=null,c}function c(d){return d==null||isNaN(d=+d)?r:(s||(s=a(t.map(o),e,n)))(o(l(d)))}return c.invert=function(d){return l(i((u||(u=a(e,t.map(o),Rt)))(d)))},c.domain=function(d){return arguments.length?(t=Array.from(d,l5),f()):t.slice()},c.range=function(d){return arguments.length?(e=Array.from(d),f()):e.slice()},c.rangeRound=function(d){return e=Array.from(d),n=I2,f()},c.clamp=function(d){return arguments.length?(l=d?!0:Un,f()):l!==Un},c.interpolate=function(d){return arguments.length?(n=d,f()):n},c.unknown=function(d){return arguments.length?(r=d,c):r},function(d,m){return o=d,i=m,f()}}function d5(){return c5()(Un,Un)}function m5(t,e,n,o){var i=py(t,e,n),r;switch(o=xi(o??",f"),o.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return o.precision==null&&!isNaN(r=n5(i,l))&&(o.precision=r),zc(o,l)}case"":case"e":case"g":case"p":case"r":{o.precision==null&&!isNaN(r=o5(i,Math.max(Math.abs(t),Math.abs(e))))&&(o.precision=r-(o.type==="e"));break}case"f":case"%":{o.precision==null&&!isNaN(r=t5(i))&&(o.precision=r-(o.type==="%")*2);break}}return Qc(o)}function p5(t){var e=t.domain;return t.ticks=function(n){var o=e();return my(o[0],o[o.length-1],n??10)},t.tickFormat=function(n,o){var i=e();return m5(i[0],i[i.length-1],n??10,o)},t.nice=function(n){n==null&&(n=10);var o=e(),i=0,r=o.length-1,l=o[i],a=o[r],s,u,f=10;for(a<l&&(u=l,l=a,a=u,u=i,i=r,r=u);f-- >0;){if(u=Gr(l,a,n),u===s)return o[i]=l,o[r]=a,e(o);if(u>0)l=Math.floor(l/u)*u,a=Math.ceil(a/u)*u;else if(u<0)l=Math.ceil(l*u)/u,a=Math.floor(a*u)/u;else break;s=u}return t},t}function el(){var t=d5();return t.copy=function(){return f5(t,el())},i5.apply(t,arguments),p5(t)}function Vn(t){return function(){return t}}function h5(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const o=Math.floor(n);if(!(o>=0))throw new RangeError(`invalid digits: ${n}`);e=o}return t},()=>new Yk(e)}function _5(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function ed(t){this._context=t}ed.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function g5(t){return new ed(t)}function b5(t){return t[0]}function v5(t){return t[1]}function Sr(t,e){var n=Vn(!0),o=null,i=g5,r=null,l=h5(a);t=typeof t=="function"?t:t===void 0?b5:Vn(t),e=typeof e=="function"?e:e===void 0?v5:Vn(e);function a(s){var u,f=(s=_5(s)).length,c,d=!1,m;for(o==null&&(r=i(m=l())),u=0;u<=f;++u)!(u<f&&n(c=s[u],u,s))===d&&((d=!d)?r.lineStart():r.lineEnd()),d&&r.point(+t(c,u,s),+e(c,u,s));if(m)return r=null,m+""||null}return a.x=function(s){return arguments.length?(t=typeof s=="function"?s:Vn(+s),a):t},a.y=function(s){return arguments.length?(e=typeof s=="function"?s:Vn(+s),a):e},a.defined=function(s){return arguments.length?(n=typeof s=="function"?s:Vn(!!s),a):n},a.curve=function(s){return arguments.length?(i=s,o!=null&&(r=i(o)),a):i},a.context=function(s){return arguments.length?(s==null?o=r=null:r=i(o=s),a):o},a}function Po(t,e,n){this.k=t,this.x=e,this.y=n}Po.prototype={constructor:Po,scale:function(t){return t===1?this:new Po(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Po(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Po.prototype;function y5(t){let e;return{c(){e=Ki("svg"),L(e,"id","line-chart")},m(n,o){O(n,e,o)},p:ve,i:ve,o:ve,d(n){n&&I(e)}}}const Va=52;function w5(t,e,n){let{data:o=[]}=e,i,r,l;const a={top:10,right:30,bottom:10,left:20},s=500-a.left-a.right,u=400-a.top-a.bottom;Sr().x((p,h)=>r(h)).y(p=>l(p)),xo(()=>{n(1,i=i2("#line-chart").attr("width",s+a.left+a.right).attr("height",u+a.top+a.bottom)),r=el().range([0,s]),l=el().range([u,0]),o.length&&f()});function f(){const p=o.length>Va?o.slice(-Va):o;c(p),d(p),m()}function c(p){i.selectAll(".line").remove();const h=Sr().defined(w=>w>-5).x((w,b)=>r(b)).y(w=>l(w)),g=Sr().defined(w=>w<0).x((w,b)=>r(b)).y(w=>l(w));i.append("path").datum(p).attr("class","line positive").attr("d",h).attr("transform",`translate(${a.left},${a.top})`).attr("fill","none").attr("stroke","green").attr("stroke-width",2),i.append("path").datum(p).attr("class","line negative").attr("d",g).attr("transform",`translate(${a.left},${a.top})`).attr("fill","none").attr("stroke","red").attr("stroke-width",2)}function d(p){const h=Math.max(0,...p),g=Math.min(0,...p);r.domain([0,p.length-1]),l.domain([g,h]).nice()}function m(p){const h=wy(r).ticks(0),g=ky(l).ticks(10);i.selectAll(".axis").remove(),i.append("g").attr("class","axis x-axis").attr("transform",`translate(${a.left},${u+a.top})`).call(h),i.append("g").attr("class","axis y-axis").attr("transform",`translate(${a.left},${a.top})`).call(g)}return t.$$set=p=>{"data"in p&&n(0,o=p.data)},t.$$.update=()=>{t.$$.dirty&3&&o&&i&&f()},[o,i]}class k5 extends me{constructor(e){super(),de(this,e,w5,y5,ce,{data:0})}}function C5(t){let e,n=t[1].townInfo.knowledge_points+"",o,i;return{c(){e=G("Manage your Knowledge ("),o=G(n),i=G(" pts)")},m(r,l){O(r,e,l),O(r,o,l),O(r,i,l)},p(r,l){l&2&&n!==(n=r[1].townInfo.knowledge_points+"")&&fe(o,n)},d(r){r&&(I(e),I(o),I(i))}}}function T5(t){let e,n,o,i;return e=new bn({props:{$$slots:{default:[C5]},$$scope:{ctx:t}}}),o=new Bn({}),{c(){Y(e.$$.fragment),n=q(),Y(o.$$.fragment)},m(r,l){V(e,r,l),O(r,n,l),V(o,r,l),i=!0},p(r,l){const a={};l&130&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){T(e.$$.fragment,r),T(o.$$.fragment,r),i=!1},d(r){r&&I(n),x(e,r),x(o,r)}}}function xa(t){let e,n,o=Xa(t[1].townInfo.knowledge_points*t[3])+"",i,r;return{c(){e=E("br"),n=G(`
          (total value: $`),i=G(o),r=G(")")},m(l,a){O(l,e,a),O(l,n,a),O(l,i,a),O(l,r,a)},p(l,a){a&10&&o!==(o=Xa(l[1].townInfo.knowledge_points*l[3])+"")&&fe(i,o)},d(l){l&&(I(e),I(n),I(i),I(r))}}}function Ya(t){let e;return{c(){e=E("div"),e.innerHTML=`Wait until the market value is <span class="text-green-500">positive</span> to sell your Knowledge for Gold. Keep in mind that you need a bank to
          convert.`},m(n,o){O(n,e,o)},d(n){n&&I(e)}}}function Ua(t){let e,n,o;return n=new $t({props:{variant:"default",$$slots:{default:[A5]},$$scope:{ctx:t}}}),n.$on("click",t[0]),{c(){e=E("div"),Y(n.$$.fragment)},m(i,r){O(i,e,r),V(n,e,null),o=!0},p(i,r){const l={};r&128&&(l.$$scope={dirty:r,ctx:i}),n.$set(l)},i(i){o||(k(n.$$.fragment,i),o=!0)},o(i){T(n.$$.fragment,i),o=!1},d(i){i&&I(e),x(n)}}}function A5(t){let e;return{c(){e=G("Convert Knowledge to Gold")},m(n,o){O(n,e,o)},d(n){n&&I(e)}}}function Ka(t){let e;return{c(){e=E("div"),e.textContent="You need a bank to convert knowledge to gold."},m(n,o){O(n,e,o)},d(n){n&&I(e)}}}function S5(t){let e,n,o,i,r,l,a,s,u=(t[3]??0)+"",f,c,d,m,p,h,g,w,b,C,N,F;e=new vn({props:{$$slots:{default:[T5]},$$scope:{ctx:t}}});let P=t[3]>0&&xa(t);h=new k5({props:{data:t[2]}});let D=t[3]<0&&Ya(),H=t[1].hasBank&&t[3]>0&&Ua(t),M=t[1].hasBank===!1&&Ka();return N=new qn({}),{c(){Y(e.$$.fragment),n=q(),o=E("span"),o.textContent="Knowledge is power, unlock it!",i=q(),r=E("div"),l=E("div"),a=G("Market Rate: "),s=E("span"),f=G(u),c=G(" gold"),m=G(`
        per Knowledge Point
        `),P&&P.c(),p=q(),Y(h.$$.fragment),g=q(),D&&D.c(),w=q(),H&&H.c(),b=q(),M&&M.c(),C=q(),Y(N.$$.fragment),L(o,"class",""),L(s,"class",d=t[3]<0?"text-red-500":"text-green-500"),L(r,"class","py-0 flex flex-col gap-4 text-gray-400 overflow-x-auto")},m(R,S){V(e,R,S),O(R,n,S),O(R,o,S),O(R,i,S),O(R,r,S),y(r,l),y(l,a),y(l,s),y(s,f),y(s,c),y(l,m),P&&P.m(l,null),y(r,p),V(h,r,null),y(r,g),D&&D.m(r,null),y(r,w),H&&H.m(r,null),y(r,b),M&&M.m(r,null),O(R,C,S),V(N,R,S),F=!0},p(R,S){const v={};S&130&&(v.$$scope={dirty:S,ctx:R}),e.$set(v),(!F||S&8)&&u!==(u=(R[3]??0)+"")&&fe(f,u),(!F||S&8&&d!==(d=R[3]<0?"text-red-500":"text-green-500"))&&L(s,"class",d),R[3]>0?P?P.p(R,S):(P=xa(R),P.c(),P.m(l,null)):P&&(P.d(1),P=null);const A={};S&4&&(A.data=R[2]),h.$set(A),R[3]<0?D||(D=Ya(),D.c(),D.m(r,w)):D&&(D.d(1),D=null),R[1].hasBank&&R[3]>0?H?(H.p(R,S),S&10&&k(H,1)):(H=Ua(R),H.c(),k(H,1),H.m(r,b)):H&&(Se(),T(H,1,1,()=>{H=null}),Ie()),R[1].hasBank===!1?M||(M=Ka(),M.c(),M.m(r,null)):M&&(M.d(1),M=null)},i(R){F||(k(e.$$.fragment,R),k(h.$$.fragment,R),k(H),k(N.$$.fragment,R),F=!0)},o(R){T(e.$$.fragment,R),T(h.$$.fragment,R),T(H),T(N.$$.fragment,R),F=!1},d(R){R&&(I(n),I(o),I(i),I(r),I(C)),x(e,R),P&&P.d(),x(h),D&&D.d(),H&&H.d(),M&&M.d(),x(N,R)}}}function I5(t){let e,n;return e=new yn({props:{transitionConfig:{duration:0},class:"bg-foreground text-accentText",$$slots:{default:[S5]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,i){const r={};i&142&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function O5(t){let e,n,o;function i(l){t[5](l)}let r={$$slots:{default:[I5]},$$scope:{ctx:t}};return t[4]!==void 0&&(r.open=t[4]),e=new wn({props:r}),Ne.push(()=>tn(e,"open",i)),{c(){Y(e.$$.fragment)},m(l,a){V(e,l,a),o=!0},p(l,[a]){const s={};a&142&&(s.$$scope={dirty:a,ctx:l}),!n&&a&16&&(n=!0,s.open=l[4],en(()=>n=!1)),e.$set(s)},i(l){o||(k(e.$$.fragment,l),o=!0)},o(l){T(e.$$.fragment,l),o=!1},d(l){x(e,l)}}}function Xa(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function M5(t,e,n){let o,i;ae(t,De,u=>n(1,o=u)),ae(t,Ai,u=>n(4,i=u));let r,l=0;function a(){let u=o;o.hasBank===!0?(u.townInfo.gold+=Math.round(u.townInfo.knowledge_points*l),u.townInfo.knowledge_points=0,De.set(u),localStorage.setItem(Dt,JSON.stringify(u))):Tt.set("You need a bank to convert knowledge to gold.")}function s(u){i=u,Ai.set(i)}return t.$$.update=()=>{t.$$.dirty&2&&o&&(n(2,r=o.economyAndLaws.knowledge_gold_market_rates),n(3,l=o.economyAndLaws.knowledge_gold_market_rates[o.economyAndLaws.knowledge_gold_market_rates.length-1]))},[a,o,r,l,i,s]}class P5 extends me{constructor(e){super(),de(this,e,M5,O5,ce,{convertKnowledgeToGold:0})}get convertKnowledgeToGold(){return this.$$.ctx[0]}}const N5=[{id:"sunshine",title:"Hint of Sunshine",description:`Scientist Jane T. found that more sunlight makes everyone a bit happier.
          Now, every home is equipped with a pair of sunglasses and a sunhat. Enjoy happier citizens!,
          `,cost:5e3,duration:180,effect:t=>(t.townInfo.happiness+=100,t)},{id:"antibiotics",title:"We will call them 'Antibiotics'",description:`Scientist Alfred C. has pitched us an idea that he calls 'Antibiotics'.
           We don't really know what that means, but it seems to make people healthier.
          `,cost:8e3,duration:200,effect:t=>(t.townInfo.health+=180,t.townInfo.happiness+=25,t)},{id:"funny_cows",title:"Cowabunga!",description:`Scientist Barry T. thought that showing cows some stand-up comedy would make them produce better milk, but it didn't have the desired effect.
          The cows are now following Mike Birbiglia on Twitter, but the milk production has not increased.
          `,cost:3e3,duration:60,effect:t=>t},{id:"missing_treasure",title:"Missing Treasure?",description:`Scientist Sarah H. was running an experiment on tree growth and found a stash of gold near the lab.
          She hopes nobody will miss it. Your town now has some more money.
          `,cost:15e3,duration:180,effect:t=>(t.townInfo.gold+=Math.floor(Math.random()*35e3),t)},{id:"tax_relief",title:"'Maybe the government is not so bad after all'",description:`Scientist Sam P. conducted a study and found that if you put a tiny bit of CHEMICAL X in the water supply, people are more likely to be ok with tax hikes.
          We don't question it, as these experiments cost a lot of moo-lah.`,cost:7500,duration:360,effect:t=>(t.economyAndLaws.max_tax_rate=(Math.random()*.8+1.2)*t.economyAndLaws.max_tax_rate,t)},{id:"spring_break",title:"Spring Break",description:`The Scientists took our money and spent the week at the beach.
          We are not sure what they did, but they came back with a tan and a smile.`,cost:2e3,duration:7,effect:t=>t},{id:"tornado",title:"A Gust of Grain",description:`Scientist Clint C. is sulking after a botched weather experiment caused about half of the food supply to be sucked into a tornado.
  		The only positive seems to be that the town now knows what a tornado is, and that makes us a bit smarter as a whole.`,cost:7e3,duration:150,effect:t=>(t.townInfo.knowledge_points+=3e3,t.resources.food=Math.floor(t.resources.food/2),t)},{id:"aquatic_overachievers",title:"Fishy Business",description:`An attempt to genetically enhance fish intelligence by Scientist Goldie F. in fisheries has gone awry, resulting in fish that are too smart to be caught. The fisheries are now underpopulated and shut down, but the town enjoys an unexpected tourism boom as people flock to see the genius fish who are now hanging out in local parks.
          Who knew fish could be such a draw?`,cost:6e3,duration:90,effect:t=>(t.townInfo.gold+=1e4,Ja("fishery",t),t)},{id:"educational_eclipse",title:"A Sudden Drop in IQ",description:`Scientist Albert E. wanted to see if the towns' children would become smarter if THEY ran the schools.
          This was obviously a terrible idea and the first thing the kids did was shut down the schools.`,cost:1e3,duration:45,effect:t=>(Ja("schoolhouse",t),t)},{id:"education_grant",title:"Education Grant",description:`Scientist Marie C. took this experiments funding and applied the town for a grant to improve education.
          The town wins a grant for $150,000 to build schools and improve education. (but it's up to you if that's how you want to spend the money)`,cost:25e3,duration:45,effect:t=>(t.townInfo.gold+=15e4,t)},{id:"mindfulness_meditation_classes",title:"'Mindfulness Meditation Classes'",description:`Scientist Zen M. has introduced mindfulness meditation classes to the town after realizing that breathing in certain ways can lower stress.
  		Now, the town is a bit more relaxed, for now.`,cost:13e3,duration:540,effect:t=>(t.townInfo.happiness+=75,t)}];function Ja(t,e){let n=$e(t,e);for(let o=0;o<n.length;o++)Ci(n[o].x,n[o].y,e)}function Za(t,e,n){const o=t.slice();return o[15]=e[n],o}function E5(t){let e,n=t[1].lab.active_experiment.title+"",o;return{c(){e=G("🎉 Experiment Completed: "),o=G(n)},m(i,r){O(i,e,r),O(i,o,r)},p(i,r){r&2&&n!==(n=i[1].lab.active_experiment.title+"")&&fe(o,n)},d(i){i&&(I(e),I(o))}}}function R5(t){let e,n=t[1].lab.active_experiment.description+"",o;return{c(){e=E("div"),o=G(n),L(e,"class","select-none whitespace-pre-wrap text-lg text-gray-400 leading-6 px-4 py-4 text-center ")},m(i,r){O(i,e,r),y(e,o)},p(i,r){r&2&&n!==(n=i[1].lab.active_experiment.description+"")&&fe(o,n)},d(i){i&&I(e)}}}function L5(t){let e,n,o,i;return e=new mc({props:{class:"text-center",$$slots:{default:[E5]},$$scope:{ctx:t}}}),o=new wc({props:{$$slots:{default:[R5]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment),n=q(),Y(o.$$.fragment)},m(r,l){V(e,r,l),O(r,n,l),V(o,r,l),i=!0},p(r,l){const a={};l&262146&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&262146&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){T(e.$$.fragment,r),T(o.$$.fragment,r),i=!1},d(r){r&&I(n),x(e,r),x(o,r)}}}function D5(t){let e;return{c(){e=G("Thank the scientists")},m(n,o){O(n,e,o)},d(n){n&&I(e)}}}function $5(t){let e,n;return e=new vc({props:{$$slots:{default:[D5]},$$scope:{ctx:t}}}),e.$on("click",t[9]),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,i){const r={};i&262144&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function F5(t){let e,n,o,i;return e=new yc({props:{$$slots:{default:[L5]},$$scope:{ctx:t}}}),o=new bl({props:{$$slots:{default:[$5]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment),n=q(),Y(o.$$.fragment)},m(r,l){V(e,r,l),O(r,n,l),V(o,r,l),i=!0},p(r,l){const a={};l&262146&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&262144&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){T(e.$$.fragment,r),T(o.$$.fragment,r),i=!1},d(r){r&&I(n),x(e,r),x(o,r)}}}function j5(t){let e,n;return e=new vl({props:{$$slots:{default:[F5]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,i){const r={};i&262146&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function q5(t){let e;return{c(){e=E("span"),e.textContent="Manage your Laboratory 🔬 🧪"},m(n,o){O(n,e,o)},p:ve,d(n){n&&I(e)}}}function B5(t){let e,n,o,i=t[1].lab.xp+"",r,l,a,s;return{c(){e=E("span"),n=G("You have earned "),o=E("span"),r=G(i),l=G(" XP"),s=G(` from experiments. XP can be used to buy advanced plots and develop your
          city.`),L(o,"class",a=t[1].lab.xp<0?"text-textDanger":"text-primaryText")},m(u,f){O(u,e,f),y(e,n),y(e,o),y(o,r),y(o,l),y(e,s)},p(u,f){f&2&&i!==(i=u[1].lab.xp+"")&&fe(r,i),f&2&&a!==(a=u[1].lab.xp<0?"text-textDanger":"text-primaryText")&&L(o,"class",a)},d(u){u&&I(e)}}}function H5(t){let e,n,o,i;return e=new bn({props:{$$slots:{default:[q5]},$$scope:{ctx:t}}}),o=new Bn({props:{$$slots:{default:[B5]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment),n=q(),Y(o.$$.fragment)},m(r,l){V(e,r,l),O(r,n,l),V(o,r,l),i=!0},p(r,l){const a={};l&262144&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&262146&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){T(e.$$.fragment,r),T(o.$$.fragment,r),i=!1},d(r){r&&I(n),x(e,r),x(o,r)}}}function G5(t){let e;return{c(){e=G("No more experiments available")},m(n,o){O(n,e,o)},p:ve,i:ve,o:ve,d(n){n&&I(e)}}}function W5(t){let e,n,o,i,r=Ve(t[0]),l=[];for(let s=0;s<r.length;s+=1)l[s]=za(Za(t,r,s));const a=s=>T(l[s],1,1,()=>{l[s]=null});return{c(){e=E("div"),e.textContent=`It's time to fund your next experiment! Choose a project below based on
        it's funding requirement. Once the experiment is over, you will see the
        results.`,n=q(),o=E("div");for(let s=0;s<l.length;s+=1)l[s].c();L(e,"class","select-none text-sm "),L(o,"class","text-center flex flex-col justify-center items-center gap-4 ")},m(s,u){O(s,e,u),O(s,n,u),O(s,o,u);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(o,null);i=!0},p(s,u){if(u&19){r=Ve(s[0]);let f;for(f=0;f<r.length;f+=1){const c=Za(s,r,f);l[f]?(l[f].p(c,u),k(l[f],1)):(l[f]=za(c),l[f].c(),k(l[f],1),l[f].m(o,null))}for(Se(),f=r.length;f<l.length;f+=1)a(f);Ie()}},i(s){if(!i){for(let u=0;u<r.length;u+=1)k(l[u]);i=!0}},o(s){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)T(l[u]);i=!1},d(s){s&&(I(e),I(n),I(o)),ft(l,s)}}}function V5(t){let e,n=t[1].lab.active_experiment.duration+"",o,i,r,l,a=t[1].lab.active_experiment.duration===0&&eu(t);return{c(){e=G("Currently running an experiment... check back in "),o=G(n),i=G(` days.
      `),a&&a.c(),r=Re()},m(s,u){O(s,e,u),O(s,o,u),O(s,i,u),a&&a.m(s,u),O(s,r,u),l=!0},p(s,u){(!l||u&2)&&n!==(n=s[1].lab.active_experiment.duration+"")&&fe(o,n),s[1].lab.active_experiment.duration===0?a?(a.p(s,u),u&2&&k(a,1)):(a=eu(s),a.c(),k(a,1),a.m(r.parentNode,r)):a&&(Se(),T(a,1,1,()=>{a=null}),Ie())},i(s){l||(k(a),l=!0)},o(s){T(a),l=!1},d(s){s&&(I(e),I(o),I(i),I(r)),a&&a.d(s)}}}function Qa(t){let e,n,o=t[15].id+"",i;return{c(){e=E("span"),n=G("// dev-"),i=G(o),L(e,"class","text-xs text-gray-400")},m(r,l){O(r,e,l),y(e,n),y(e,i)},p(r,l){l&1&&o!==(o=r[15].id+"")&&fe(i,o)},d(r){r&&I(e)}}}function x5(t){let e,n=tu(t[15].cost).split(".")[0]+"",o,i,r,l=t[1].devMode===!0&&Qa(t);return{c(){e=G("$"),o=G(n),i=G(` gold

            `),l&&l.c(),r=q()},m(a,s){O(a,e,s),O(a,o,s),O(a,i,s),l&&l.m(a,s),O(a,r,s)},p(a,s){s&1&&n!==(n=tu(a[15].cost).split(".")[0]+"")&&fe(o,n),a[1].devMode===!0?l?l.p(a,s):(l=Qa(a),l.c(),l.m(r.parentNode,r)):l&&(l.d(1),l=null)},d(a){a&&(I(e),I(o),I(i),I(r)),l&&l.d(a)}}}function za(t){let e,n;function o(){return t[11](t[15])}return e=new $t({props:{variant:"outline",class:`min-w-48 w-max flex-col
				`+(t[15].cost>t[1].townInfo.gold?"cursor-not-allowed":"")+`
				`,$$slots:{default:[x5]},$$scope:{ctx:t}}}),e.$on("click",o),{c(){Y(e.$$.fragment)},m(i,r){V(e,i,r),n=!0},p(i,r){t=i;const l={};r&3&&(l.class=`min-w-48 w-max flex-col
				`+(t[15].cost>t[1].townInfo.gold?"cursor-not-allowed":"")+`
				`),r&262147&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(i){n||(k(e.$$.fragment,i),n=!0)},o(i){T(e.$$.fragment,i),n=!1},d(i){x(e,i)}}}function eu(t){let e,n;return e=new $t({props:{variant:"outline",$$slots:{default:[Y5]},$$scope:{ctx:t}}}),e.$on("click",t[10]),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,i){const r={};i&262144&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function Y5(t){let e;return{c(){e=G("Complete experiment (and face the impact)")},m(n,o){O(n,e,o)},d(n){n&&I(e)}}}function U5(t){let e;return{c(){e=E("span"),e.textContent="Keep in mind that not all experiments yield positive results.",L(e,"class","text-left text-textDanger")},m(n,o){O(n,e,o)},p:ve,d(n){n&&I(e)}}}function K5(t){let e,n,o,i,r,l,a,s,u,f,c;e=new vn({props:{$$slots:{default:[H5]},$$scope:{ctx:t}}}),o=new St({});const d=[V5,W5,G5],m=[];function p(h,g){return h[1].lab.active_experiment!==null?0:h[0].length>0?1:h[0].length===0?2:-1}return~(r=p(t))&&(l=m[r]=d[r](t)),s=new St({props:{class:"mt-4"}}),f=new qn({props:{$$slots:{default:[U5]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment),n=q(),Y(o.$$.fragment),i=q(),l&&l.c(),a=q(),Y(s.$$.fragment),u=q(),Y(f.$$.fragment)},m(h,g){V(e,h,g),O(h,n,g),V(o,h,g),O(h,i,g),~r&&m[r].m(h,g),O(h,a,g),V(s,h,g),O(h,u,g),V(f,h,g),c=!0},p(h,g){const w={};g&262146&&(w.$$scope={dirty:g,ctx:h}),e.$set(w);let b=r;r=p(h),r===b?~r&&m[r].p(h,g):(l&&(Se(),T(m[b],1,1,()=>{m[b]=null}),Ie()),~r?(l=m[r],l?l.p(h,g):(l=m[r]=d[r](h),l.c()),k(l,1),l.m(a.parentNode,a)):l=null);const C={};g&262144&&(C.$$scope={dirty:g,ctx:h}),f.$set(C)},i(h){c||(k(e.$$.fragment,h),k(o.$$.fragment,h),k(l),k(s.$$.fragment,h),k(f.$$.fragment,h),c=!0)},o(h){T(e.$$.fragment,h),T(o.$$.fragment,h),T(l),T(s.$$.fragment,h),T(f.$$.fragment,h),c=!1},d(h){h&&(I(n),I(i),I(a),I(u)),x(e,h),x(o,h),~r&&m[r].d(h),x(s,h),x(f,h)}}}function X5(t){let e,n;return e=new yn({props:{class:"bg-foreground text-accentText",$$slots:{default:[K5]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,i){const r={};i&262147&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function J5(t){let e,n,o,i,r;e=new yl({props:{open:t[2],$$slots:{default:[j5]},$$scope:{ctx:t}}});function l(s){t[12](s)}let a={$$slots:{default:[X5]},$$scope:{ctx:t}};return t[3]!==void 0&&(a.open=t[3]),o=new wn({props:a}),Ne.push(()=>tn(o,"open",l)),{c(){Y(e.$$.fragment),n=q(),Y(o.$$.fragment)},m(s,u){V(e,s,u),O(s,n,u),V(o,s,u),r=!0},p(s,[u]){const f={};u&4&&(f.open=s[2]),u&262146&&(f.$$scope={dirty:u,ctx:s}),e.$set(f);const c={};u&262147&&(c.$$scope={dirty:u,ctx:s}),!i&&u&8&&(i=!0,c.open=s[3],en(()=>i=!1)),o.$set(c)},i(s){r||(k(e.$$.fragment,s),k(o.$$.fragment,s),r=!0)},o(s){T(e.$$.fragment,s),T(o.$$.fragment,s),r=!1},d(s){s&&I(n),x(e,s),x(o,s)}}}function tu(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function Z5(t,e,n){let o,i;ae(t,De,b=>n(1,o=b)),ae(t,di,b=>n(3,i=b));var r;let l=[],a=!1,s=!1,u=!1;function f(){if(l.length>0||!a)return l;let b=[],C=N5.filter(N=>!o.lab.past_experiments.some(F=>F.id===N.id));if(C.length===0)return[];for(let N=0;N<3;N++){let F=C[Math.floor(Math.random()*C.length)];F.cost=Math.floor(Math.random()*(F.cost*.35)+F.cost*.8),b.push(F)}return b=b.filter((N,F)=>b.indexOf(N)===F),b=b.filter(N=>N),n(8,u=!0),b}function c(b){if(o.townInfo.gold<b.cost){Tt.set("You do not have enough gold to purchase this experiment.");return}Me(De,o.townInfo.gold-=b.cost,o),Me(De,o.lab.active_experiment=b,o),o.lab.past_experiments.push(b)}function d(){Me(di,i=!1,i),n(2,s=!0);let b=l.find(N=>N.id===o.lab.active_experiment.id),C=b!=null?b.effect(o):o;Me(De,o=C,o),Me(De,o.lab.active_experiment.duration=-1,o)}function m(){let b=o;b.lab.xp+=Math.round(b.lab.active_experiment.cost*(Math.random()*2+.5)),b.lab.active_experiment=null,n(2,s=!1),Me(De,o=b,o)}const p=()=>{m()},h=()=>{d()},g=b=>{b.cost<o.townInfo.gold&&c(b)};function w(b){i=b,di.set(i)}return t.$$.update=()=>{t.$$.dirty&387&&(o?(a=!0,n(0,l=u==!1?f():l),(n(7,r=o.lab.active_experiment)===null||r===void 0?void 0:r.duration)===-1&&n(2,s=!0)):a=!1)},[l,o,s,i,c,d,m,r,u,p,h,g,w]}class Q5 extends me{constructor(e){super(),de(this,e,Z5,J5,ce,{})}}function z5(t){let e,n,o,i,r,l,a,s,u,f=t[0].townInfo.name+"",c,d,m,p,h,g,w,b=t[0].townInfo.population_count+"",C,N,F,P,D,H,M,R=Math.floor(t[0].environment.day/365)+1+"",S,v,A,j,W,$,U=t[0].environment.day%365+1+"",Q,z,te,Z=t[1]==0?"Normal":t[1]==1?"Fast":"Superfast",le,Ce,Ae,ne,_,X;return n=new Zt({props:{text:"Pause game",onOpen:t[6],styling:"fixed top-2 right-2"}}),{c(){e=E("div"),Y(n.$$.fragment),o=q(),i=E("div"),r=E("div"),l=E("div"),a=E("div"),s=E("div"),u=E("h1"),c=G(f),d=q(),m=E("div"),p=E("div"),h=E("div"),g=E("span"),w=G("👥 "),C=G(b),N=q(),F=E("div"),P=E("span"),D=E("span"),D.textContent="Year",H=q(),M=E("span"),S=G(R),v=q(),A=E("span"),j=E("span"),j.textContent="Day",W=q(),$=E("span"),Q=G(U),z=q(),te=E("span"),le=G(Z),Ce=G(" Speed"),L(u,"class","cursor-pointer w-full text-center select-none"),L(s,"class","cursor-pointer flex flex-row justify-center text-center w-full"),L(a,"class","text-4xl flex flex-row items-center"),L(g,"class","text-xs px-4 min-w-24"),L(D,"class","text-xs"),L(M,"class","font-semibold text-xs"),L(P,"class","flex flex-col"),L(j,"class","text-xs"),L($,"class","font-semibold text-xs"),L(A,"class","flex flex-col"),L(F,"class","rounded-xl flex-row text-accentText gap-4 w-20 flex items-center max-w-24"),L(te,"class","cursor text-blue-200 text-nowrap noselect text-end w-36"),_t(te,"text-blue-200",t[1]==0),_t(te,"text-yellow-200",t[1]==1),_t(te,"text-red-200",t[1]==2),L(h,"class","flex align-middle items-center text-accentText flex-row w-full justify-center gap-2 h-max"),L(p,"class","flex flex-col align-middle justify-center"),L(l,"class","flex flex-col gap-2 justify-center w-full "),L(r,"class","rounded-xl"),L(i,"class","flex justify-between flex-col align-middle items-center w-full"),L(e,"id","header"),L(e,"class",Ae="flex px-6 gap-6 justify-center flex-row fixed top-0 left-0 right-0 cursor-default z-10 bg-black text-[white] py-3 align-middle border-b-4 border-sidebarBackground "+(t[2].visible?"opacity-70":""))},m(K,re){O(K,e,re),V(n,e,null),y(e,o),y(e,i),y(i,r),y(r,l),y(l,a),y(a,s),y(s,u),y(u,c),y(l,d),y(l,m),y(m,p),y(p,h),y(h,g),y(g,w),y(g,C),y(h,N),y(h,F),y(F,P),y(P,D),y(P,H),y(P,M),y(M,S),y(F,v),y(F,A),y(A,j),y(A,W),y(A,$),y($,Q),y(h,z),y(h,te),y(te,le),y(te,Ce),ne=!0,_||(X=[ee(s,"click",t[4]),ee(te,"click",t[7])],_=!0)},p(K,[re]){const we={};re&8&&(we.onOpen=K[6]),n.$set(we),(!ne||re&1)&&f!==(f=K[0].townInfo.name+"")&&fe(c,f),(!ne||re&1)&&b!==(b=K[0].townInfo.population_count+"")&&fe(C,b),(!ne||re&1)&&R!==(R=Math.floor(K[0].environment.day/365)+1+"")&&fe(S,R),(!ne||re&1)&&U!==(U=K[0].environment.day%365+1+"")&&fe(Q,U),(!ne||re&2)&&Z!==(Z=K[1]==0?"Normal":K[1]==1?"Fast":"Superfast")&&fe(le,Z),(!ne||re&2)&&_t(te,"text-blue-200",K[1]==0),(!ne||re&2)&&_t(te,"text-yellow-200",K[1]==1),(!ne||re&2)&&_t(te,"text-red-200",K[1]==2),(!ne||re&4&&Ae!==(Ae="flex px-6 gap-6 justify-center flex-row fixed top-0 left-0 right-0 cursor-default z-10 bg-black text-[white] py-3 align-middle border-b-4 border-sidebarBackground "+(K[2].visible?"opacity-70":"")))&&L(e,"class",Ae)},i(K){ne||(k(n.$$.fragment,K),ne=!0)},o(K){T(n.$$.fragment,K),ne=!1},d(K){K&&I(e),x(n),_=!1,Be(X)}}}function e3(t,e,n){let o,i,r,l;ae(t,De,m=>n(0,o=m)),ae(t,Ao,m=>n(9,i=m)),ae(t,Qe,m=>n(2,r=m)),ae(t,vt,m=>n(3,l=m));const a=o.gameSettings.includes("casual")?[375,200,100]:[550,375,100];let s=0;xo(()=>{o.gameSettings.includes("casual")?Me(Ao,i=375,i):Me(Ao,i=550,i);const m=setInterval(()=>{Me(De,o.timeSpent+=1e3,o)},1e3);return()=>{clearInterval(m)}});function u(){let m=prompt("Enter a new name for your town (under 200 chars)");if(m&&m.length<200&&m.length>=1){let p=o;p.townInfo.name=m,De.set(p),localStorage.setItem(Dt,JSON.stringify(p))}}function f(){s==a.length-1?n(1,s=0):n(1,s++,s),Me(Ao,i=a[s],i)}const c=()=>Me(vt,l=!0,l),d=()=>{f()};return t.$$.update=()=>{t.$$.dirty&1&&o.timeSpent>0&&hm(o.timeSpent)},[o,s,r,l,u,f,c,d]}class t3 extends me{constructor(e){super(),de(this,e,e3,z5,ce,{})}}function n3(t){let e,n,o;return{c(){e=E("div"),L(e,"class",n="h-full w-full flex-1 "+t[3]+" transition-all"),L(e,"style",o=`transform: translateX(-${100-100*(t[2]??0)/(t[1]??1)}%)`)},m(i,r){O(i,e,r)},p(i,r){r&8&&n!==(n="h-full w-full flex-1 "+i[3]+" transition-all")&&L(e,"class",n),r&6&&o!==(o=`transform: translateX(-${100-100*(i[2]??0)/(i[1]??1)}%)`)&&L(e,"style",o)},d(i){i&&I(e)}}}function o3(t){let e,n;const o=[{class:Fe("relative h-4 w-full overflow-hidden  bg-black border border-gray-300",t[0])},t[4]];let i={$$slots:{default:[n3]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=J(i,o[r]);return e=new Og({props:i}),{c(){Y(e.$$.fragment)},m(r,l){V(e,r,l),n=!0},p(r,[l]){const a=l&17?ye(o,[l&1&&{class:Fe("relative h-4 w-full overflow-hidden  bg-black border border-gray-300",r[0])},l&16&&st(r[4])]):{};l&46&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){x(e,r)}}}function i3(t,e,n){const o=["class","max","value","color"];let i=se(e,o),{class:r=void 0}=e,{max:l=100}=e,{value:a=void 0}=e,{color:s="bg-accent"}=e;return t.$$set=u=>{e=J(J({},e),Le(u)),n(4,i=se(e,o)),"class"in u&&n(0,r=u.class),"max"in u&&n(1,l=u.max),"value"in u&&n(2,a=u.value),"color"in u&&n(3,s=u.color)},[r,l,a,s,i]}class r3 extends me{constructor(e){super(),de(this,e,i3,o3,ce,{class:0,max:1,value:2,color:3})}}function nu(t,e,n){const o=t.slice();return o[19]=e[n],o}function ou(t){let e,n=Ve({length:t[6]}),o=[];for(let i=0;i<n.length;i+=1)o[i]=iu(nu(t,n,i));return{c(){e=E("div");for(let i=0;i<o.length;i+=1)o[i].c();L(e,"class","confetti-holder svelte-15ksp55"),_t(e,"rounded",t[9]),_t(e,"cone",t[10]),_t(e,"no-gravity",t[11]),_t(e,"reduced-motion",t[13])},m(i,r){O(i,e,r);for(let l=0;l<o.length;l+=1)o[l]&&o[l].m(e,null)},p(i,r){if(r&37375){n=Ve({length:i[6]});let l;for(l=0;l<n.length;l+=1){const a=nu(i,n,l);o[l]?o[l].p(a,r):(o[l]=iu(a),o[l].c(),o[l].m(e,null))}for(;l<o.length;l+=1)o[l].d(1);o.length=n.length}r&512&&_t(e,"rounded",i[9]),r&1024&&_t(e,"cone",i[10]),r&2048&&_t(e,"no-gravity",i[11]),r&8192&&_t(e,"reduced-motion",i[13])},d(i){i&&I(e),ft(o,i)}}}function iu(t){let e;return{c(){e=E("div"),L(e,"class","confetti svelte-15ksp55"),tt(e,"--fall-distance",t[8]),tt(e,"--size",t[0]+"px"),tt(e,"--color",t[15]()),tt(e,"--skew",ht(-45,45)+"deg,"+ht(-45,45)+"deg"),tt(e,"--rotation-xyz",ht(-10,10)+", "+ht(-10,10)+", "+ht(-10,10)),tt(e,"--rotation-deg",ht(0,360)+"deg"),tt(e,"--translate-y-multiplier",ht(t[2][0],t[2][1])),tt(e,"--translate-x-multiplier",ht(t[1][0],t[1][1])),tt(e,"--scale",.1*ht(2,10)),tt(e,"--transition-duration",t[4]?`calc(${t[3]}ms * var(--scale))`:`${t[3]}ms`),tt(e,"--transition-delay",ht(t[5][0],t[5][1])+"ms"),tt(e,"--transition-iteration-count",t[4]?"infinite":t[7]),tt(e,"--x-spread",1-t[12])},m(n,o){O(n,e,o)},p(n,o){o&256&&tt(e,"--fall-distance",n[8]),o&1&&tt(e,"--size",n[0]+"px"),o&4&&tt(e,"--translate-y-multiplier",ht(n[2][0],n[2][1])),o&2&&tt(e,"--translate-x-multiplier",ht(n[1][0],n[1][1])),o&24&&tt(e,"--transition-duration",n[4]?`calc(${n[3]}ms * var(--scale))`:`${n[3]}ms`),o&32&&tt(e,"--transition-delay",ht(n[5][0],n[5][1])+"ms"),o&144&&tt(e,"--transition-iteration-count",n[4]?"infinite":n[7]),o&4096&&tt(e,"--x-spread",1-n[12])},d(n){n&&I(e)}}}function l3(t){let e,n=!t[14]&&ou(t);return{c(){n&&n.c(),e=Re()},m(o,i){n&&n.m(o,i),O(o,e,i)},p(o,[i]){o[14]?n&&(n.d(1),n=null):n?n.p(o,i):(n=ou(o),n.c(),n.m(e.parentNode,e))},i:ve,o:ve,d(o){o&&I(e),n&&n.d(o)}}}function ht(t,e){return Math.random()*(e-t)+t}function s3(t,e,n){let{size:o=10}=e,{x:i=[-.5,.5]}=e,{y:r=[.25,1]}=e,{duration:l=2e3}=e,{infinite:a=!1}=e,{delay:s=[0,50]}=e,{colorRange:u=[0,360]}=e,{colorArray:f=[]}=e,{amount:c=50}=e,{iterationCount:d=1}=e,{fallDistance:m="100px"}=e,{rounded:p=!1}=e,{cone:h=!1}=e,{noGravity:g=!1}=e,{xSpread:w=.15}=e,{destroyOnComplete:b=!0}=e,{disableForReducedMotion:C=!1}=e,N=!1;xo(()=>{!b||a||d=="infinite"||setTimeout(()=>n(14,N=!0),(l+s[1])*d)});function F(){return f.length?f[Math.round(Math.random()*(f.length-1))]:`hsl(${Math.round(ht(u[0],u[1]))}, 75%, 50%)`}return t.$$set=P=>{"size"in P&&n(0,o=P.size),"x"in P&&n(1,i=P.x),"y"in P&&n(2,r=P.y),"duration"in P&&n(3,l=P.duration),"infinite"in P&&n(4,a=P.infinite),"delay"in P&&n(5,s=P.delay),"colorRange"in P&&n(16,u=P.colorRange),"colorArray"in P&&n(17,f=P.colorArray),"amount"in P&&n(6,c=P.amount),"iterationCount"in P&&n(7,d=P.iterationCount),"fallDistance"in P&&n(8,m=P.fallDistance),"rounded"in P&&n(9,p=P.rounded),"cone"in P&&n(10,h=P.cone),"noGravity"in P&&n(11,g=P.noGravity),"xSpread"in P&&n(12,w=P.xSpread),"destroyOnComplete"in P&&n(18,b=P.destroyOnComplete),"disableForReducedMotion"in P&&n(13,C=P.disableForReducedMotion)},[o,i,r,l,a,s,c,d,m,p,h,g,w,C,N,F,u,f,b]}class un extends me{constructor(e){super(),de(this,e,s3,l3,ce,{size:0,x:1,y:2,duration:3,infinite:4,delay:5,colorRange:16,colorArray:17,amount:6,iterationCount:7,fallDistance:8,rounded:9,cone:10,noGravity:11,xSpread:12,destroyOnComplete:18,disableForReducedMotion:13})}}function ru(t){let e,n,o,i,r,l,a,s;return e=new un({props:{cone:!0,x:[-.5,.5]}}),o=new un({props:{cone:!0,amount:10,x:[-1,-.4],y:[.25,.75],rounded:!0,size:15}}),r=new un({props:{cone:!0,amount:10,x:[.4,1],y:[.25,.75]}}),a=new un({props:{infinite:!0,amount:75,delay:[0,200]}}),{c(){Y(e.$$.fragment),n=q(),Y(o.$$.fragment),i=q(),Y(r.$$.fragment),l=q(),Y(a.$$.fragment)},m(u,f){V(e,u,f),O(u,n,f),V(o,u,f),O(u,i,f),V(r,u,f),O(u,l,f),V(a,u,f),s=!0},i(u){s||(k(e.$$.fragment,u),k(o.$$.fragment,u),k(r.$$.fragment,u),k(a.$$.fragment,u),s=!0)},o(u){T(e.$$.fragment,u),T(o.$$.fragment,u),T(r.$$.fragment,u),T(a.$$.fragment,u),s=!1},d(u){u&&(I(n),I(i),I(l)),x(e,u),x(o,u),x(r,u),x(a,u)}}}function a3(t){let e,n,o,i=t[1].isComplete(t[2])||t[3]&&t[2].currentTutorialStep==t[0]?"✅":"⬜️",r,l,a,s=t[1].message+"",u,f,c,d=t[3]&&t[2].currentTutorialStep==t[0]&&ru();return{c(){e=E("div"),d&&d.c(),n=q(),o=E("span"),r=G(i),l=q(),a=E("span"),u=G(s),L(o,"class","flex flex-row gap-1"),L(e,"class",f="text-sm flex flex-row justify-start align-middle pb-2 mb-2 transition-all duration-300 noselect "+(t[2].currentTutorialStep==t[0]?"opacity-100":"opacity-50"))},m(m,p){O(m,e,p),d&&d.m(e,null),y(e,n),y(e,o),y(o,r),y(o,l),y(o,a),y(a,u),c=!0},p(m,[p]){m[3]&&m[2].currentTutorialStep==m[0]?d?p&13&&k(d,1):(d=ru(),d.c(),k(d,1),d.m(e,n)):d&&(Se(),T(d,1,1,()=>{d=null}),Ie()),(!c||p&15)&&i!==(i=m[1].isComplete(m[2])||m[3]&&m[2].currentTutorialStep==m[0]?"✅":"⬜️")&&fe(r,i),(!c||p&2)&&s!==(s=m[1].message+"")&&fe(u,s),(!c||p&5&&f!==(f="text-sm flex flex-row justify-start align-middle pb-2 mb-2 transition-all duration-300 noselect "+(m[2].currentTutorialStep==m[0]?"opacity-100":"opacity-50")))&&L(e,"class",f)},i(m){c||(k(d),c=!0)},o(m){T(d),c=!1},d(m){m&&I(e),d&&d.d()}}}function u3(t,e,n){let o,i;ae(t,De,a=>n(2,o=a)),ae(t,Ro,a=>n(3,i=a));let{index:r}=e,{step:l}=e;return t.$$set=a=>{"index"in a&&n(0,r=a.index),"step"in a&&n(1,l=a.step)},[r,l,o,i]}class td extends me{constructor(e){super(),de(this,e,u3,a3,ce,{index:0,step:1})}}function lu(t,e,n){const o=t.slice();return o[13]=e[n],o[15]=n,o}function su(t,e,n){const o=t.slice();return o[16]=e[n].icon,o[17]=e[n].name,o[18]=e[n].value,o[19]=e[n].rate,o}function au(t,e,n){const o=t.slice();return o[22]=e[n],o}function uu(t,e,n){const o=t.slice();return o[17]=e[n].name,o[18]=e[n].value,o[25]=e[n].modifier,o[26]=e[n].color,o[27]=e[n].hover,o[28]=e[n].description,o[29]=e[n].max,o}function f3(t){let e,n=t[17]+"",o,i,r,l;return r=new r3({props:{value:t[18],max:t[29]??300,class:"min-w-[80px] max-w-[80px] ",color:t[26]}}),{c(){e=E("span"),o=G(n),i=q(),Y(r.$$.fragment),L(e,"class","text-md pr-2")},m(a,s){O(a,e,s),y(e,o),O(a,i,s),V(r,a,s),l=!0},p(a,s){(!l||s[0]&32)&&n!==(n=a[17]+"")&&fe(o,n);const u={};s[0]&32&&(u.value=a[18]),s[0]&32&&(u.max=a[29]??300),s[0]&32&&(u.color=a[26]),r.$set(u)},i(a){l||(k(r.$$.fragment,a),l=!0)},o(a){T(r.$$.fragment,a),l=!1},d(a){a&&(I(e),I(i)),x(r,a)}}}function fu(t){let e,n;return e=new po({props:{class:"rounded-2xl text-white "+(t[26]??t[9](t[18])),$$slots:{default:[c3]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,i){const r={};i[0]&32&&(r.class="rounded-2xl text-white "+(o[26]??o[9](o[18]))),i[0]&32|i[1]&2&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function c3(t){let e,n,o=t[17]+"",i,r,l=mn(t[18],!1)+"",a,s,u=t[29]?`out of ${t[29]}`:"",f,c,d,m,p,h=t[28]+"",g;return d=new St({props:{class:"mb-2 mt-1"}}),{c(){e=E("div"),n=E("span"),i=G(o),r=G(": "),a=G(l),s=q(),f=G(u),c=q(),Y(d.$$.fragment),m=q(),p=E("span"),L(n,"class","text-md"),L(e,"class","flex flex-col justify-between max-w-48")},m(w,b){O(w,e,b),y(e,n),y(n,i),y(n,r),y(n,a),y(n,s),y(n,f),y(e,c),V(d,e,null),y(e,m),y(e,p),p.innerHTML=h,g=!0},p(w,b){(!g||b[0]&32)&&o!==(o=w[17]+"")&&fe(i,o),(!g||b[0]&32)&&l!==(l=mn(w[18],!1)+"")&&fe(a,l),(!g||b[0]&32)&&u!==(u=w[29]?`out of ${w[29]}`:"")&&fe(f,u),(!g||b[0]&32)&&h!==(h=w[28]+"")&&(p.innerHTML=h)},i(w){g||(k(d.$$.fragment,w),g=!0)},o(w){T(d.$$.fragment,w),g=!1},d(w){w&&I(e),x(d)}}}function d3(t){let e,n,o,i;e=new _o({props:{class:"w-full flex flex-row align-middle justify-between text-sm filter hover:brightness-110",$$slots:{default:[f3]},$$scope:{ctx:t}}});let r=t[27]&&fu(t);return{c(){Y(e.$$.fragment),n=q(),r&&r.c(),o=Re()},m(l,a){V(e,l,a),O(l,n,a),r&&r.m(l,a),O(l,o,a),i=!0},p(l,a){const s={};a[0]&32|a[1]&2&&(s.$$scope={dirty:a,ctx:l}),e.$set(s),l[27]?r?(r.p(l,a),a[0]&32&&k(r,1)):(r=fu(l),r.c(),k(r,1),r.m(o.parentNode,o)):r&&(Se(),T(r,1,1,()=>{r=null}),Ie())},i(l){i||(k(e.$$.fragment,l),k(r),i=!0)},o(l){T(e.$$.fragment,l),T(r),i=!1},d(l){l&&(I(n),I(o)),x(e,l),r&&r.d(l)}}}function cu(t){let e,n,o,i;return n=new ho({props:{openDelay:200,closeDelay:0,$$slots:{default:[d3]},$$scope:{ctx:t}}}),{c(){e=E("div"),Y(n.$$.fragment),o=q(),L(e,"class","flex flex-col gap-1")},m(r,l){O(r,e,l),V(n,e,null),y(e,o),i=!0},p(r,l){const a={};l[0]&32|l[1]&2&&(a.$$scope={dirty:l,ctx:r}),n.$set(a)},i(r){i||(k(n.$$.fragment,r),i=!0)},o(r){T(n.$$.fragment,r),i=!1},d(r){r&&I(e),x(n)}}}function m3(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,p,h,g,w,b,C,N,F,P=t[1].gameSettings.includes("bagOfHolding")?"There is no resource cap in this game mode! (Bag of Holding)":"",D;return{c(){e=E("div"),n=G(`Resources are generated from plots. Generation rate can be increased
            by raising the productivity of the town, at the cost of some
            happiness.
            `),o=E("br"),i=q(),r=E("br"),l=G(`
            There is also a slight bit of randomness as townspeople aren't robots.
            `),a=E("br"),s=q(),u=E("br"),f=q(),c=E("span"),c.textContent="Stockpile plots",d=G(` increase the maximum
            amount of resources you can store.
            `),m=E("br"),p=q(),h=E("br"),g=G(`
            If the cap is 500, then you can store 500 of each resource before the
            cap is reached.
            `),w=E("br"),b=G(`
            Capacity is increased by 2,000 per Stockpile plot.
            `),C=E("br"),N=q(),F=E("span"),D=G(P),L(c,"class","font-bold"),L(F,"class","text-red-800 font-bold"),L(e,"class","text-sm")},m(H,M){O(H,e,M),y(e,n),y(e,o),y(e,i),y(e,r),y(e,l),y(e,a),y(e,s),y(e,u),y(e,f),y(e,c),y(e,d),y(e,m),y(e,p),y(e,h),y(e,g),y(e,w),y(e,b),y(e,C),y(e,N),y(e,F),y(F,D)},p(H,M){M[0]&2&&P!==(P=H[1].gameSettings.includes("bagOfHolding")?"There is no resource cap in this game mode! (Bag of Holding)":"")&&fe(D,P)},d(H){H&&I(e)}}}function p3(t){let e,n,o,i=t[1].gameSettings.includes("bagOfHolding")?"No resource cap":`Capacity: ${mn(t[1].resource_capacity,!1)}`,r,l,a,s,u;return s=new po({props:{class:"text-sm w-[200px]",$$slots:{default:[m3]},$$scope:{ctx:t}}}),{c(){e=E("h1"),n=G(`Resources

          `),o=E("div"),r=G(i),a=q(),Y(s.$$.fragment),L(o,"class",l="text-xs w-full text-center mb-2 cursor-pointer "+(t[2]==!0?"text-textDanger animate-pulse font-bold":"")+" "+(t[1].gameSettings.includes("bagOfHolding")?"opacity-30":"")),L(e,"class","text-lg w-full text-center pb-2")},m(f,c){O(f,e,c),y(e,n),y(e,o),y(o,r),O(f,a,c),V(s,f,c),u=!0},p(f,c){(!u||c[0]&2)&&i!==(i=f[1].gameSettings.includes("bagOfHolding")?"No resource cap":`Capacity: ${mn(f[1].resource_capacity,!1)}`)&&fe(r,i),(!u||c[0]&6&&l!==(l="text-xs w-full text-center mb-2 cursor-pointer "+(f[2]==!0?"text-textDanger animate-pulse font-bold":"")+" "+(f[1].gameSettings.includes("bagOfHolding")?"opacity-30":"")))&&L(o,"class",l);const d={};c[0]&2|c[1]&2&&(d.$$scope={dirty:c,ctx:f}),s.$set(d)},i(f){u||(k(s.$$.fragment,f),u=!0)},o(f){T(s.$$.fragment,f),u=!1},d(f){f&&(I(e),I(a)),x(s,f)}}}function h3(t){let e,n;return e=new _o({props:{$$slots:{default:[p3]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,i){const r={};i[0]&6|i[1]&2&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function _3(t){let e,n,o=t[19]+"",i;return{c(){e=E("span"),n=G("+"),i=G(o),L(e,"class","")},m(r,l){O(r,e,l),y(e,n),y(e,i)},p(r,l){l[0]&16&&o!==(o=r[19]+"")&&fe(i,o)},d(r){r&&I(e)}}}function g3(t){let e;return{c(){e=E("span")},m(n,o){O(n,e,o)},p:ve,d(n){n&&I(e)}}}function b3(t){let e,n=t[19]+"",o;return{c(){e=E("span"),o=G(n),L(e,"class","text-textDanger")},m(i,r){O(i,e,r),y(e,o)},p(i,r){r[0]&16&&n!==(n=i[19]+"")&&fe(o,n)},d(i){i&&I(e)}}}function v3(t){let e,n,o=t[19]+"",i;return{c(){e=E("span"),n=G("+"),i=G(o),L(e,"class","text-textHappy")},m(r,l){O(r,e,l),y(e,n),y(e,i)},p(r,l){l[0]&16&&o!==(o=r[19]+"")&&fe(i,o)},d(r){r&&I(e)}}}function y3(t){let e;return{c(){e=E("span"),e.textContent="⚠️ CAP",L(e,"class","text-textDanger")},m(n,o){O(n,e,o)},p:ve,d(n){n&&I(e)}}}function w3(t){let e;return{c(){e=E("span"),L(e,"class","display-none")},m(n,o){O(n,e,o)},p:ve,d(n){n&&I(e)}}}function k3(t){let e,n,o=t[19]+"",i,r;return{c(){e=E("span"),n=G("+"),i=G(o),r=G(" (weekly)"),L(e,"class","text-blue-200")},m(l,a){O(l,e,a),y(e,n),y(e,i),y(e,r)},p(l,a){a[0]&16&&o!==(o=l[19]+"")&&fe(i,o)},d(l){l&&I(e)}}}function C3(t){let e,n=t[19]+"",o,i;return{c(){e=E("span"),o=G(n),i=G(" (weekly)"),L(e,"class","text-red-200")},m(r,l){O(r,e,l),y(e,o),y(e,i)},p(r,l){l[0]&16&&n!==(n=r[19]+"")&&fe(o,n)},d(r){r&&I(e)}}}function T3(t){let e,n,o=t[19]+"",i,r;return{c(){e=E("span"),n=G("+"),i=G(o),r=G(" (weekly)"),L(e,"class","text-green-200")},m(l,a){O(l,e,a),y(e,n),y(e,i),y(e,r)},p(l,a){a[0]&16&&o!==(o=l[19]+"")&&fe(i,o)},d(l){l&&I(e)}}}function du(t){let e,n,o,i;return e=new St({props:{class:"bg-gray-400"}}),{c(){Y(e.$$.fragment),n=q(),o=E("span"),o.textContent="Required for",L(o,"class","text-sm font-semibold text-gray-100")},m(r,l){V(e,r,l),O(r,n,l),O(r,o,l),i=!0},i(r){i||(k(e.$$.fragment,r),i=!0)},o(r){T(e.$$.fragment,r),i=!1},d(r){r&&(I(n),I(o)),x(e,r)}}}function mu(t){let e,n=t[22]+"",o;return{c(){e=E("span"),o=G(n),L(e,"class","text-xs mr-4 text-gray-100")},m(i,r){O(i,e,r),y(e,o)},p(i,r){r[0]&16&&n!==(n=i[22]+"")&&fe(o,n)},d(i){i&&I(e)}}}function A3(t){let e,n,o=t[16]+"",i,r,l=Qn(t[17])+"",a,s,u,f=t[8](t[17]).length>0,c,d,m;function p(N,F){return N[19]>0?T3:N[19]<0?C3:N[19]!=null?k3:w3}let h=p(t),g=h(t),w=f&&du(),b=Ve(t[8](t[17])),C=[];for(let N=0;N<b.length;N+=1)C[N]=mu(au(t,b,N));return{c(){e=E("div"),n=E("span"),i=G(o),r=q(),a=G(l),s=q(),g.c(),u=q(),w&&w.c(),c=q(),d=E("div");for(let N=0;N<C.length;N+=1)C[N].c();L(n,"class","text-md font-bold"),L(d,"class","flex flex-col flex-wrap min-w-full"),L(e,"class","flex flex-col gap-2 whitespace-nowrap min-w-fit bg-gray-600/90 p-3 rounded-lg text-white")},m(N,F){O(N,e,F),y(e,n),y(n,i),y(n,r),y(n,a),y(e,s),g.m(e,null),y(e,u),w&&w.m(e,null),y(e,c),y(e,d);for(let P=0;P<C.length;P+=1)C[P]&&C[P].m(d,null);m=!0},p(N,F){if((!m||F[0]&16)&&o!==(o=N[16]+"")&&fe(i,o),(!m||F[0]&16)&&l!==(l=Qn(N[17])+"")&&fe(a,l),h===(h=p(N))&&g?g.p(N,F):(g.d(1),g=h(N),g&&(g.c(),g.m(e,u))),F[0]&16&&(f=N[8](N[17]).length>0),f?w?F[0]&16&&k(w,1):(w=du(),w.c(),k(w,1),w.m(e,c)):w&&(Se(),T(w,1,1,()=>{w=null}),Ie()),F[0]&272){b=Ve(N[8](N[17]));let P;for(P=0;P<b.length;P+=1){const D=au(N,b,P);C[P]?C[P].p(D,F):(C[P]=mu(D),C[P].c(),C[P].m(d,null))}for(;P<C.length;P+=1)C[P].d(1);C.length=b.length}},i(N){m||(k(w),m=!0)},o(N){T(w),m=!1},d(N){N&&I(e),g.d(),w&&w.d(),ft(C,N)}}}function S3(t){let e,n=t[16]+"",o,i,r=mn(parseInt(t[18]),!1)+"",l,a,s,u,f,c;function d(h,g){return h[18]>=h[1].resource_capacity&&h[17]!="gold"?y3:h[19]>0?v3:h[19]<0?b3:h[19]==null?g3:_3}let m=d(t),p=m(t);return f=new po({props:{$$slots:{default:[A3]},$$scope:{ctx:t}}}),{c(){e=E("span"),o=G(n),i=q(),l=G(r),a=q(),p.c(),u=q(),Y(f.$$.fragment),L(e,"class",s="flex flex-row justify-between text-sm "+(t[18]<=0?"text-textDanger font-semibold":""))},m(h,g){O(h,e,g),y(e,o),y(e,i),y(e,l),y(e,a),p.m(e,null),O(h,u,g),V(f,h,g),c=!0},p(h,g){(!c||g[0]&16)&&n!==(n=h[16]+"")&&fe(o,n),(!c||g[0]&16)&&r!==(r=mn(parseInt(h[18]),!1)+"")&&fe(l,r),m===(m=d(h))&&p?p.p(h,g):(p.d(1),p=m(h),p&&(p.c(),p.m(e,null))),(!c||g[0]&16&&s!==(s="flex flex-row justify-between text-sm "+(h[18]<=0?"text-textDanger font-semibold":"")))&&L(e,"class",s);const w={};g[0]&16|g[1]&2&&(w.$$scope={dirty:g,ctx:h}),f.$set(w)},i(h){c||(k(f.$$.fragment,h),c=!0)},o(h){T(f.$$.fragment,h),c=!1},d(h){h&&(I(e),I(u)),p.d(),x(f,h)}}}function I3(t){let e,n,o;return e=new _o({props:{$$slots:{default:[S3]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment),n=q()},m(i,r){V(e,i,r),O(i,n,r),o=!0},p(i,r){const l={};r[0]&18|r[1]&2&&(l.$$scope={dirty:r,ctx:i}),e.$set(l)},i(i){o||(k(e.$$.fragment,i),o=!0)},o(i){T(e.$$.fragment,i),o=!1},d(i){i&&I(n),x(e,i)}}}function pu(t){let e,n;return e=new ho({props:{openDelay:200,closeDelay:0,$$slots:{default:[I3]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,i){const r={};i[0]&18|i[1]&2&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function O3(t){let e;return{c(){e=E("br")},m(n,o){O(n,e,o)},p:ve,i:ve,o:ve,d(n){n&&I(e)}}}function M3(t){let e,n,o,i,r,l,a,s,u,f,c=t[7]&&hu(),d=t[1].currentTutorialStep>0&&_u(t),m=Ve(Lo),p=[];for(let g=0;g<m.length;g+=1)p[g]=bu(lu(t,m,g));const h=g=>T(p[g],1,1,()=>{p[g]=null});return{c(){e=E("div"),n=E("div"),c&&c.c(),o=q(),i=E("h1"),i.textContent="Milestones",r=q(),d&&d.c(),l=q(),a=E("div");for(let g=0;g<p.length;g+=1)p[g].c();L(i,"class","text-lg w-full text-center"),L(n,"class","text-lg w-full text-center noselect flex flex-col no-select"),L(a,"class","scroll overflow-y-scroll")},m(g,w){O(g,e,w),y(e,n),c&&c.m(n,null),y(n,o),y(n,i),y(n,r),d&&d.m(n,null),y(e,l),y(e,a);for(let b=0;b<p.length;b+=1)p[b]&&p[b].m(a,null);s=!0,u||(f=ee(n,"click",t[10]),u=!0)},p(g,w){if(g[7]?c?w[0]&128&&k(c,1):(c=hu(),c.c(),k(c,1),c.m(n,o)):c&&(Se(),T(c,1,1,()=>{c=null}),Ie()),g[1].currentTutorialStep>0?d?d.p(g,w):(d=_u(g),d.c(),d.m(n,null)):d&&(d.d(1),d=null),w[0]&10){m=Ve(Lo);let b;for(b=0;b<m.length;b+=1){const C=lu(g,m,b);p[b]?(p[b].p(C,w),k(p[b],1)):(p[b]=bu(C),p[b].c(),k(p[b],1),p[b].m(a,null))}for(Se(),b=m.length;b<p.length;b+=1)h(b);Ie()}},i(g){if(!s){k(c);for(let w=0;w<m.length;w+=1)k(p[w]);s=!0}},o(g){T(c),p=p.filter(Boolean);for(let w=0;w<p.length;w+=1)T(p[w]);s=!1},d(g){g&&I(e),c&&c.d(),d&&d.d(),ft(p,g),u=!1,f()}}}function hu(t){let e,n,o,i,r,l,a,s;return e=new un({props:{cone:!0,x:[-.5,.5]}}),o=new un({props:{cone:!0,amount:10,x:[-1,-.4],y:[.25,.75],rounded:!0,size:15}}),r=new un({props:{cone:!0,amount:10,x:[.4,1],y:[.25,.75]}}),a=new un({props:{infinite:!0,amount:75,delay:[0,200]}}),{c(){Y(e.$$.fragment),n=q(),Y(o.$$.fragment),i=q(),Y(r.$$.fragment),l=q(),Y(a.$$.fragment)},m(u,f){V(e,u,f),O(u,n,f),V(o,u,f),O(u,i,f),V(r,u,f),O(u,l,f),V(a,u,f),s=!0},i(u){s||(k(e.$$.fragment,u),k(o.$$.fragment,u),k(r.$$.fragment,u),k(a.$$.fragment,u),s=!0)},o(u){T(e.$$.fragment,u),T(o.$$.fragment,u),T(r.$$.fragment,u),T(a.$$.fragment,u),s=!1},d(u){u&&(I(n),I(i),I(l)),x(e,u),x(o,u),x(r,u),x(a,u)}}}function _u(t){let e,n=t[3]?`Hide ${t[1].currentTutorialStep} completed`:`Show ${t[1].currentTutorialStep} completed`,o;return{c(){e=E("span"),o=G(n),L(e,"class","text-xs opacity-65 cursor-pointer pb-2")},m(i,r){O(i,e,r),y(e,o)},p(i,r){r[0]&10&&n!==(n=i[3]?`Hide ${i[1].currentTutorialStep} completed`:`Show ${i[1].currentTutorialStep} completed`)&&fe(o,n)},d(i){i&&I(e)}}}function P3(t){let e,n;return e=new td({props:{index:t[15],step:t[13]}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p:ve,i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function N3(t){let e,n,o=t[3]&&gu(t);return{c(){o&&o.c(),e=Re()},m(i,r){o&&o.m(i,r),O(i,e,r),n=!0},p(i,r){i[3]?o?r[0]&8&&k(o,1):(o=gu(i),o.c(),k(o,1),o.m(e.parentNode,e)):o&&(Se(),T(o,1,1,()=>{o=null}),Ie())},i(i){n||(k(o),n=!0)},o(i){T(o),n=!1},d(i){i&&I(e),o&&o.d(i)}}}function gu(t){let e,n;return e=new td({props:{index:t[15],step:t[13]}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function bu(t){let e,n,o,i;const r=[N3,P3],l=[];function a(s,u){return s[1].currentTutorialStep>s[15]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?l[e].p(s,u):(Se(),T(l[f],1,1,()=>{l[f]=null}),Ie(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){T(n),i=!1},d(s){s&&I(o),l[e].d(s)}}}function E3(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,p,h,g,w,b,C=Ve(t[5]),N=[];for(let v=0;v<C.length;v+=1)N[v]=cu(uu(t,C,v));const F=v=>T(N[v],1,1,()=>{N[v]=null});s=new ho({props:{openDelay:200,closeDelay:0,$$slots:{default:[h3]},$$scope:{ctx:t}}});let P=Ve(t[4]),D=[];for(let v=0;v<P.length;v+=1)D[v]=pu(su(t,P,v));const H=v=>T(D[v],1,1,()=>{D[v]=null}),M=[M3,O3],R=[];function S(v,A){return v[0]?1:0}return h=S(t),g=R[h]=M[h](t),{c(){e=E("div"),n=E("div"),o=E("div"),i=E("h1"),i.textContent="Stats",r=q();for(let v=0;v<N.length;v+=1)N[v].c();l=q(),a=E("div"),Y(s.$$.fragment),u=q(),f=E("div"),c=q(),d=E("div"),m=E("div");for(let v=0;v<D.length;v+=1)D[v].c();p=q(),g.c(),L(i,"class","text-lg w-full text-center pb-1"),L(o,"class","flex flex-col rounded-xl gap-2 w-full"),L(n,"class","flex flex-row w-full pb-6"),L(a,"class","flex flex-row justify-center"),L(f,"class","w-[full] flex flex-row justify-center"),L(m,"class","flex flex-col text-md text-nowrap gap-2"),L(d,"class","flex flex-col gap-8 h-full"),L(e,"class",w="bg-sidebarBackground text-sidebarText border-foreground border-4 "+(t[6].visible&&!t[0]?"opacity-0":"")+" z-10 rounded-xl px-2 pt-2 transition-all duration-300 overflow-y-scroll scroll "+(t[0]?"min-w-56":"fixed right-3 top-[190px] sidebar w-[220px] bottom-4"))},m(v,A){O(v,e,A),y(e,n),y(n,o),y(o,i),y(o,r);for(let j=0;j<N.length;j+=1)N[j]&&N[j].m(o,null);y(e,l),y(e,a),V(s,a,null),y(e,u),y(e,f),y(e,c),y(e,d),y(d,m);for(let j=0;j<D.length;j+=1)D[j]&&D[j].m(m,null);y(d,p),R[h].m(d,null),b=!0},p(v,A){if(A[0]&544){C=Ve(v[5]);let $;for($=0;$<C.length;$+=1){const U=uu(v,C,$);N[$]?(N[$].p(U,A),k(N[$],1)):(N[$]=cu(U),N[$].c(),k(N[$],1),N[$].m(o,null))}for(Se(),$=C.length;$<N.length;$+=1)F($);Ie()}const j={};if(A[0]&6|A[1]&2&&(j.$$scope={dirty:A,ctx:v}),s.$set(j),A[0]&274){P=Ve(v[4]);let $;for($=0;$<P.length;$+=1){const U=su(v,P,$);D[$]?(D[$].p(U,A),k(D[$],1)):(D[$]=pu(U),D[$].c(),k(D[$],1),D[$].m(m,null))}for(Se(),$=P.length;$<D.length;$+=1)H($);Ie()}let W=h;h=S(v),h===W?R[h].p(v,A):(Se(),T(R[W],1,1,()=>{R[W]=null}),Ie(),g=R[h],g?g.p(v,A):(g=R[h]=M[h](v),g.c()),k(g,1),g.m(d,null)),(!b||A[0]&65&&w!==(w="bg-sidebarBackground text-sidebarText border-foreground border-4 "+(v[6].visible&&!v[0]?"opacity-0":"")+" z-10 rounded-xl px-2 pt-2 transition-all duration-300 overflow-y-scroll scroll "+(v[0]?"min-w-56":"fixed right-3 top-[190px] sidebar w-[220px] bottom-4")))&&L(e,"class",w)},i(v){if(!b){for(let A=0;A<C.length;A+=1)k(N[A]);k(s.$$.fragment,v);for(let A=0;A<P.length;A+=1)k(D[A]);k(g),b=!0}},o(v){N=N.filter(Boolean);for(let A=0;A<N.length;A+=1)T(N[A]);T(s.$$.fragment,v),D=D.filter(Boolean);for(let A=0;A<D.length;A+=1)T(D[A]);T(g),b=!1},d(v){v&&I(e),ft(N,v),x(s),ft(D,v),R[h].d()}}}function R3(t){return["food","wood","stone","metal","power","knowledge"].includes(t)}function vu(t){let e=0;for(let n=0;n<t.plots.length;n++)for(let o=0;o<t.plots[n].length;o++)t.plots[n][o].active==!0&&t.plots[n][o].type>-1&&e++;return e}function L3(t,e,n){let o,i,r;ae(t,De,g=>n(1,o=g)),ae(t,Qe,g=>n(6,i=g)),ae(t,Ro,g=>n(7,r=g));let l=!1,a=!1,{mini:s=!1}=e,u=[];function f(g){let w=[];for(let b=0;b<oe.length;b++)(g!="knowledge"&&oe[b].requirements.resources[g]>0||g=="power"&&oe[b].active_costs.power>0||g=="knowledge"&&oe[b].requirements.knowledge>0)&&w.push(oe[b].title);return w}function c(g){return R3(g)?f(g):[]}let d;const m=g=>g===1?"bg-green-500":g>.9?"bg-yellow-500":"bg-red-500",p=g=>g>149?"bg-green-500":g>99?"bg-yellow-500":"bg-red-500",h=()=>{n(3,a=!a)};return t.$$set=g=>{"mini"in g&&n(0,s=g.mini)},t.$$.update=()=>{t.$$.dirty[0]&2&&n(2,l=o.resources.food>=o.resource_capacity||o.resources.wood>=o.resource_capacity||o.resources.stone>=o.resource_capacity||o.resources.metal>=o.resource_capacity),t.$$.dirty[0]&2&&n(4,u=[{icon:"💰",name:"gold",value:o.townInfo.gold,rate:o.economyAndLaws.weeklyProfit},{icon:"🥕",name:"food",value:o.resources.food,rate:o.resource_rate.food},{icon:"🪵",name:"wood",value:o.resources.wood,rate:o.resource_rate.wood},{icon:"🪨",name:"stone",value:o.resources.stone,rate:o.resource_rate.stone},{icon:"🧠",name:"knowledge",value:o.townInfo.knowledge_points,rate:o.resource_rate.knowledge},{icon:"🧲",name:"metal",value:o.resources.metal,rate:o.resource_rate.metal},{icon:"🔋",name:"power",value:o.resources.power,rate:null},{icon:"🧑‍⚖️",name:"bureaucracy",value:o.resources.bureaucracy,rate:o.resource_rate.bureaucracy}]),t.$$.dirty[0]&2&&n(5,d=[{name:"Happiness",description:"Happy townspeople spend more money and are less likely to leave.",value:o.townInfo.happiness,modifier:o.modifiers.happiness,color:p(o.townInfo.happiness),hover:!0,max:300},{name:"Health",description:"Healthy townspeople are less likely to die (and leave the town obviously).",value:o.townInfo.health,modifier:o.modifiers.health,color:p(o.townInfo.health),hover:!0,max:300},{name:"Community",description:"Townspeople that feel at home are less likely to leave, and less likely to get bored.",value:o.townInfo.community,modifier:o.modifiers.community,color:p(o.townInfo.community),hover:!0,max:300},{name:"Employment",description:"The number of people employed in your town. Unemployed people are more likely to leave.",value:o.townInfo.employees,modifier:null,color:m(o.townInfo.employees/o.townInfo.population_count),hover:!0,max:o.townInfo.population_count},{name:"🛝 Recreation",description:"Tracker for how many plots you have for recreation, which keeps townspeople happy. <br/><br/>Make sure as your town grows that you build enough 🛝 plots. ",value:o.townInfo.recreation,modifier:null,color:o.townInfo.recreation/vu(o)>=.2?"bg-green-500":"bg-orange-300",hover:!0,max:vu(o)}])},[s,o,l,a,u,d,i,r,c,p,h]}class nd extends me{constructor(e){super(),de(this,e,L3,E3,ce,{mini:0},null,[-1,-1])}}function yu(t,e,n){const o=t.slice();return o[4]=e[n],o[6]=n,o}function wu(t,e,n){const o=t.slice();return o[4]=e[n],o[6]=n,o}function ku(t,e,n){const o=t.slice();return o[4]=e[n],o[6]=n,o}function Cu(t){let e,n,o,i=oe[ke(t[0].id)].title+"",r,l,a,s=oe[ke(t[0].id)].description+"",u,f,c,d,m,p,h,g,w,b=t[3]("💰",oe[ke(t[0].id)].requirements.gold,t[2].townInfo.gold)+"",C,N,F=t[3]("🥕",oe[ke(t[0].id)].requirements.resources.food,t[2].resources.food)+"",P,D,H=t[3]("🧠",oe[ke(t[0].id)].requirements.knowledge,t[2].townInfo.knowledge_points)+"",M,R,S=t[3]("🪵",oe[ke(t[0].id)].requirements.resources.wood,t[2].resources.wood)+"",v,A,j=t[3]("🪨",oe[ke(t[0].id)].requirements.resources.stone,t[2].resources.stone)+"",W,$,U=t[3]("🧲",oe[ke(t[0].id)].requirements.resources.metal,t[2].resources.metal)+"",Q,z,te=t[3]("🔋",oe[ke(t[0].id)].active_costs.power,t[2].resources.power)+"",Z,le,Ce=t[3]("🧑‍⚖️",oe[ke(t[0].id)].requirements.resources.bureaucracy,t[2].resources.bureaucracy)+"",Ae,ne=oe[ke(t[0].id)].requirements.employees!=0,_,X=oe[ke(t[0].id)].revenue_per_week!=0,K,re=Object.values(oe[ke(t[0].id)].active_costs).some(Fu),we,Oe=Object.values(oe[ke(t[0].id)].requirements.plots).length>0,He,Ye=Object.values(oe[ke(t[0].id)].generated_resources).some($u)||oe[ke(t[0].id)].knowledge_points_per_month>0,Xe;d=new St({props:{class:"bg-accent opacity-25 mt-1 mb-1"}});let Ge=ne&&Tu(t),Ue=X&&Au(t),Je=re&&Su(t),Ke=Oe&&Mu(t),We=Ye&&Eu(t);return{c(){e=E("div"),n=E("div"),o=E("span"),r=G(i),l=q(),a=E("span"),u=G(s),f=q(),c=E("div"),Y(d.$$.fragment),m=q(),p=E("span"),p.textContent="Requirements",h=q(),g=E("div"),w=new Kt(!1),C=q(),N=new Kt(!1),P=q(),D=new Kt(!1),M=q(),R=new Kt(!1),v=q(),A=new Kt(!1),W=q(),$=new Kt(!1),Q=q(),z=new Kt(!1),Z=q(),le=new Kt(!1),Ae=q(),Ge&&Ge.c(),_=q(),Ue&&Ue.c(),K=q(),Je&&Je.c(),we=q(),Ke&&Ke.c(),He=q(),We&&We.c(),L(o,"class","text-md"),L(a,"class","text-xs"),L(n,"class","flex flex-col gap-2"),L(p,"class","font-semibold"),w.a=C,N.a=P,D.a=M,R.a=v,A.a=W,$.a=Q,z.a=Z,le.a=Ae,L(g,"class","flex flex-row gap-1 flex-wrap"),L(c,"class","flex flex-col w-36 h-min gap-0 text-xs pb-2"),L(e,"class","p-2 max-w-64")},m(Te,Pe){O(Te,e,Pe),y(e,n),y(n,o),y(o,r),y(n,l),y(n,a),y(a,u),y(e,f),y(e,c),V(d,c,null),y(c,m),y(c,p),y(c,h),y(c,g),w.m(b,g),y(g,C),N.m(F,g),y(g,P),D.m(H,g),y(g,M),R.m(S,g),y(g,v),A.m(j,g),y(g,W),$.m(U,g),y(g,Q),z.m(te,g),y(g,Z),le.m(Ce,g),y(g,Ae),Ge&&Ge.m(g,null),y(e,_),Ue&&Ue.m(e,null),y(e,K),Je&&Je.m(e,null),y(e,we),Ke&&Ke.m(e,null),y(e,He),We&&We.m(e,null),Xe=!0},p(Te,Pe){(!Xe||Pe&1)&&i!==(i=oe[ke(Te[0].id)].title+"")&&fe(r,i),(!Xe||Pe&1)&&s!==(s=oe[ke(Te[0].id)].description+"")&&fe(u,s),(!Xe||Pe&5)&&b!==(b=Te[3]("💰",oe[ke(Te[0].id)].requirements.gold,Te[2].townInfo.gold)+"")&&w.p(b),(!Xe||Pe&5)&&F!==(F=Te[3]("🥕",oe[ke(Te[0].id)].requirements.resources.food,Te[2].resources.food)+"")&&N.p(F),(!Xe||Pe&5)&&H!==(H=Te[3]("🧠",oe[ke(Te[0].id)].requirements.knowledge,Te[2].townInfo.knowledge_points)+"")&&D.p(H),(!Xe||Pe&5)&&S!==(S=Te[3]("🪵",oe[ke(Te[0].id)].requirements.resources.wood,Te[2].resources.wood)+"")&&R.p(S),(!Xe||Pe&5)&&j!==(j=Te[3]("🪨",oe[ke(Te[0].id)].requirements.resources.stone,Te[2].resources.stone)+"")&&A.p(j),(!Xe||Pe&5)&&U!==(U=Te[3]("🧲",oe[ke(Te[0].id)].requirements.resources.metal,Te[2].resources.metal)+"")&&$.p(U),(!Xe||Pe&5)&&te!==(te=Te[3]("🔋",oe[ke(Te[0].id)].active_costs.power,Te[2].resources.power)+"")&&z.p(te),(!Xe||Pe&5)&&Ce!==(Ce=Te[3]("🧑‍⚖️",oe[ke(Te[0].id)].requirements.resources.bureaucracy,Te[2].resources.bureaucracy)+"")&&le.p(Ce),Pe&1&&(ne=oe[ke(Te[0].id)].requirements.employees!=0),ne?Ge?Ge.p(Te,Pe):(Ge=Tu(Te),Ge.c(),Ge.m(g,null)):Ge&&(Ge.d(1),Ge=null),Pe&1&&(X=oe[ke(Te[0].id)].revenue_per_week!=0),X?Ue?(Ue.p(Te,Pe),Pe&1&&k(Ue,1)):(Ue=Au(Te),Ue.c(),k(Ue,1),Ue.m(e,K)):Ue&&(Se(),T(Ue,1,1,()=>{Ue=null}),Ie()),Pe&1&&(re=Object.values(oe[ke(Te[0].id)].active_costs).some(Fu)),re?Je?(Je.p(Te,Pe),Pe&1&&k(Je,1)):(Je=Su(Te),Je.c(),k(Je,1),Je.m(e,we)):Je&&(Se(),T(Je,1,1,()=>{Je=null}),Ie()),Pe&1&&(Oe=Object.values(oe[ke(Te[0].id)].requirements.plots).length>0),Oe?Ke?(Ke.p(Te,Pe),Pe&1&&k(Ke,1)):(Ke=Mu(Te),Ke.c(),k(Ke,1),Ke.m(e,He)):Ke&&(Se(),T(Ke,1,1,()=>{Ke=null}),Ie()),Pe&1&&(Ye=Object.values(oe[ke(Te[0].id)].generated_resources).some($u)||oe[ke(Te[0].id)].knowledge_points_per_month>0),Ye?We?(We.p(Te,Pe),Pe&1&&k(We,1)):(We=Eu(Te),We.c(),k(We,1),We.m(e,null)):We&&(Se(),T(We,1,1,()=>{We=null}),Ie())},i(Te){Xe||(k(d.$$.fragment,Te),k(Ue),k(Je),k(Ke),k(We),Xe=!0)},o(Te){T(d.$$.fragment,Te),T(Ue),T(Je),T(Ke),T(We),Xe=!1},d(Te){Te&&I(e),x(d),Ge&&Ge.d(),Ue&&Ue.d(),Je&&Je.d(),Ke&&Ke.d(),We&&We.d()}}}function Tu(t){let e,n,o=oe[ke(t[0].id)].requirements.employees+"",i,r,l;return{c(){e=E("span"),n=G("👥 "),i=G(o),r=G(" employees"),L(e,"class",l=oe[ke(t[0].id)].requirements.employees>t[2].townInfo.population_count-t[2].townInfo.employees&&t[1]?"px-1 text-textDanger font-bold border-2 border-red-400":"")},m(a,s){O(a,e,s),y(e,n),y(e,i),y(e,r)},p(a,s){s&1&&o!==(o=oe[ke(a[0].id)].requirements.employees+"")&&fe(i,o),s&7&&l!==(l=oe[ke(a[0].id)].requirements.employees>a[2].townInfo.population_count-a[2].townInfo.employees&&a[1]?"px-1 text-textDanger font-bold border-2 border-red-400":"")&&L(e,"class",l)},d(a){a&&I(e)}}}function Au(t){let e,n,o,i,r,l,a,s=oe[ke(t[0].id)].revenue_per_week+"",u,f;return n=new St({props:{class:"bg-accent opacity-25 mt-0"}}),{c(){e=E("div"),Y(n.$$.fragment),o=q(),i=E("span"),i.textContent="Weekly revenue",r=q(),l=E("span"),a=G("💰 "),u=G(s),L(i,"class","font-semibold"),L(e,"class","flex flex-col gap-1 text-xs")},m(c,d){O(c,e,d),V(n,e,null),y(e,o),y(e,i),y(e,r),y(e,l),y(l,a),y(l,u),f=!0},p(c,d){(!f||d&1)&&s!==(s=oe[ke(c[0].id)].revenue_per_week+"")&&fe(u,s)},i(c){f||(k(n.$$.fragment,c),f=!0)},o(c){T(n.$$.fragment,c),f=!1},d(c){c&&I(e),x(n)}}}function Su(t){let e,n,o,i,r,l;n=new St({props:{class:"bg-accent opacity-25 mt-2"}});let a=Ve(Object.keys(oe[ke(t[0].id)].active_costs)),s=[];for(let u=0;u<a.length;u+=1)s[u]=Ou(ku(t,a,u));return{c(){e=E("div"),Y(n.$$.fragment),o=q(),i=E("span"),i.textContent="Weekly Costs",r=q();for(let u=0;u<s.length;u+=1)s[u].c();L(i,"class","font-semibold"),L(e,"class","flex flex-col gap-1 text-xs")},m(u,f){O(u,e,f),V(n,e,null),y(e,o),y(e,i),y(e,r);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(e,null);l=!0},p(u,f){if(f&1){a=Ve(Object.keys(oe[ke(u[0].id)].active_costs));let c;for(c=0;c<a.length;c+=1){const d=ku(u,a,c);s[c]?s[c].p(d,f):(s[c]=Ou(d),s[c].c(),s[c].m(e,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=a.length}},i(u){l||(k(n.$$.fragment,u),l=!0)},o(u){T(n.$$.fragment,u),l=!1},d(u){u&&I(e),x(n),ft(s,u)}}}function Iu(t){let e,n=Qn(t[4])+"",o,i,r=Yi(t[4])+"",l,a,s=-1*Object.values(oe[ke(t[0].id)].active_costs)[t[6]]+"",u,f,c;return{c(){e=E("span"),o=G(n),i=q(),l=G(r),a=q(),u=G(s),f=q(),L(e,"class",c=Object.values(oe[ke(t[0].id)].active_costs)[t[6]]>0?"text-textDanger":"text-textHappy")},m(d,m){O(d,e,m),y(e,o),y(e,i),y(e,l),y(e,a),y(e,u),y(e,f)},p(d,m){m&1&&n!==(n=Qn(d[4])+"")&&fe(o,n),m&1&&r!==(r=Yi(d[4])+"")&&fe(l,r),m&1&&s!==(s=-1*Object.values(oe[ke(d[0].id)].active_costs)[d[6]]+"")&&fe(u,s),m&1&&c!==(c=Object.values(oe[ke(d[0].id)].active_costs)[d[6]]>0?"text-textDanger":"text-textHappy")&&L(e,"class",c)},d(d){d&&I(e)}}}function Ou(t){let e=Object.values(oe[ke(t[0].id)].active_costs)[t[6]]!=0,n,o=e&&Iu(t);return{c(){o&&o.c(),n=Re()},m(i,r){o&&o.m(i,r),O(i,n,r)},p(i,r){r&1&&(e=Object.values(oe[ke(i[0].id)].active_costs)[i[6]]!=0),e?o?o.p(i,r):(o=Iu(i),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(i){i&&I(n),o&&o.d(i)}}}function Mu(t){let e,n,o,i,r,l;n=new St({props:{class:"bg-accent opacity-25 mt-2"}});let a=Ve(Object.keys(oe[ke(t[0].id)].requirements.plots)),s=[];for(let u=0;u<a.length;u+=1)s[u]=Nu(wu(t,a,u));return{c(){e=E("div"),Y(n.$$.fragment),o=q(),i=E("span"),i.textContent="Required Plots",r=q();for(let u=0;u<s.length;u+=1)s[u].c();L(i,"class","font-semibold"),L(e,"class","flex flex-col gap-1 text-xs")},m(u,f){O(u,e,f),V(n,e,null),y(e,o),y(e,i),y(e,r);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(e,null);l=!0},p(u,f){if(f&5){a=Ve(Object.keys(oe[ke(u[0].id)].requirements.plots));let c;for(c=0;c<a.length;c+=1){const d=wu(u,a,c);s[c]?s[c].p(d,f):(s[c]=Nu(d),s[c].c(),s[c].m(e,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=a.length}},i(u){l||(k(n.$$.fragment,u),l=!0)},o(u){T(n.$$.fragment,u),l=!1},d(u){u&&I(e),x(n),ft(s,u)}}}function Pu(t){var l;let e,n=((l=$l(Object.values(oe[ke(t[0].id)].requirements.plots)[t[6]]))==null?void 0:l.title)+"",o,i,r;return{c(){e=E("span"),o=G(n),i=q(),L(e,"class",r=$e(Object.values(oe[ke(t[0].id)].requirements.plots)[t[6]],t[2]).length==0?"text-textDanger border-2 border-red-400 font-semibold px-1":"text-textHappy")},m(a,s){O(a,e,s),y(e,o),y(e,i)},p(a,s){var u;s&1&&n!==(n=((u=$l(Object.values(oe[ke(a[0].id)].requirements.plots)[a[6]]))==null?void 0:u.title)+"")&&fe(o,n),s&5&&r!==(r=$e(Object.values(oe[ke(a[0].id)].requirements.plots)[a[6]],a[2]).length==0?"text-textDanger border-2 border-red-400 font-semibold px-1":"text-textHappy")&&L(e,"class",r)},d(a){a&&I(e)}}}function Nu(t){let e=Object.values(oe[ke(t[0].id)].requirements.plots)[t[6]]!=0,n,o=e&&Pu(t);return{c(){o&&o.c(),n=Re()},m(i,r){o&&o.m(i,r),O(i,n,r)},p(i,r){r&1&&(e=Object.values(oe[ke(i[0].id)].requirements.plots)[i[6]]!=0),e?o?o.p(i,r):(o=Pu(i),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(i){i&&I(n),o&&o.d(i)}}}function Eu(t){let e,n,o,i,r,l=oe[ke(t[0].id)].knowledge_points_per_month>0,a,s;n=new St({props:{class:"bg-accent opacity-25 mt-2"}});let u=l&&Ru(t),f=Ve(Object.keys(oe[ke(t[0].id)].generated_resources)),c=[];for(let d=0;d<f.length;d+=1)c[d]=Du(yu(t,f,d));return{c(){e=E("div"),Y(n.$$.fragment),o=q(),i=E("span"),i.textContent="Generated Resources",r=q(),u&&u.c(),a=q();for(let d=0;d<c.length;d+=1)c[d].c();L(i,"class","font-semibold"),L(e,"class","flex flex-col gap-1 text-xs")},m(d,m){O(d,e,m),V(n,e,null),y(e,o),y(e,i),y(e,r),u&&u.m(e,null),y(e,a);for(let p=0;p<c.length;p+=1)c[p]&&c[p].m(e,null);s=!0},p(d,m){if(m&1&&(l=oe[ke(d[0].id)].knowledge_points_per_month>0),l?u?u.p(d,m):(u=Ru(d),u.c(),u.m(e,a)):u&&(u.d(1),u=null),m&1){f=Ve(Object.keys(oe[ke(d[0].id)].generated_resources));let p;for(p=0;p<f.length;p+=1){const h=yu(d,f,p);c[p]?c[p].p(h,m):(c[p]=Du(h),c[p].c(),c[p].m(e,null))}for(;p<c.length;p+=1)c[p].d(1);c.length=f.length}},i(d){s||(k(n.$$.fragment,d),s=!0)},o(d){T(n.$$.fragment,d),s=!1},d(d){d&&I(e),x(n),u&&u.d(),ft(c,d)}}}function Ru(t){let e,n,o=Math.round(oe[ke(t[0].id)].knowledge_points_per_month)+"",i,r;return{c(){e=E("span"),n=G("🧠 "),i=G(o),r=G(" (monthly)")},m(l,a){O(l,e,a),y(e,n),y(e,i),y(e,r)},p(l,a){a&1&&o!==(o=Math.round(oe[ke(l[0].id)].knowledge_points_per_month)+"")&&fe(i,o)},d(l){l&&I(e)}}}function Lu(t){let e,n=Yi(t[4])+"",o,i,r=Qn(t[4])+"",l,a,s=Fl(Object.values(oe[ke(t[0].id)].generated_resources)[t[6]],!1)+"",u,f,c;return{c(){e=E("span"),o=G(n),i=q(),l=G(r),a=q(),u=G(s),f=q(),L(e,"class",c=Object.values(oe[ke(t[0].id)].generated_resources)[t[6]]>0?"text-textHappy":"text-textDanger")},m(d,m){O(d,e,m),y(e,o),y(e,i),y(e,l),y(e,a),y(e,u),y(e,f)},p(d,m){m&1&&n!==(n=Yi(d[4])+"")&&fe(o,n),m&1&&r!==(r=Qn(d[4])+"")&&fe(l,r),m&1&&s!==(s=Fl(Object.values(oe[ke(d[0].id)].generated_resources)[d[6]],!1)+"")&&fe(u,s),m&1&&c!==(c=Object.values(oe[ke(d[0].id)].generated_resources)[d[6]]>0?"text-textHappy":"text-textDanger")&&L(e,"class",c)},d(d){d&&I(e)}}}function Du(t){let e=Object.values(oe[ke(t[0].id)].generated_resources)[t[6]]!=0,n,o=e&&Lu(t);return{c(){o&&o.c(),n=Re()},m(i,r){o&&o.m(i,r),O(i,n,r)},p(i,r){r&1&&(e=Object.values(oe[ke(i[0].id)].generated_resources)[i[6]]!=0),e?o?o.p(i,r):(o=Lu(i),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(i){i&&I(n),o&&o.d(i)}}}function D3(t){let e,n,o=t[0]!=null&&Cu(t);return{c(){o&&o.c(),e=Re()},m(i,r){o&&o.m(i,r),O(i,e,r),n=!0},p(i,[r]){i[0]!=null?o?(o.p(i,r),r&1&&k(o,1)):(o=Cu(i),o.c(),k(o,1),o.m(e.parentNode,e)):o&&(Se(),T(o,1,1,()=>{o=null}),Ie())},i(i){n||(k(o),n=!0)},o(i){T(o),n=!1},d(i){i&&I(e),o&&o.d(i)}}}function Yi(t){switch(t){case"food":return"🥕";case"knowledge":return"🧠";case"wood":return"🪵";case"stone":return"🪨";case"metal":return"🧲";case"power":return"🔋";case"bureaucracy":return"🧑‍⚖️";default:return"💰"}}const $u=t=>t!=0,Fu=t=>t!=0;function $3(t,e,n){let o;ae(t,De,a=>n(2,o=a));let{option:i}=e,{checkRequirements:r=!0}=e;function l(a,s,u){if(s==0||s==null)return"<span class='hidden'></span>";let f="",c="";return u<s&&r&&(c="text-textDanger border-2 border-red-400 px-2"),f=`<span class='${c}'>${a} ${s}</span>`,f}return t.$$set=a=>{"option"in a&&n(0,i=a.option),"checkRequirements"in a&&n(1,r=a.checkRequirements)},[i,r,o,l]}class od extends me{constructor(e){super(),de(this,e,$3,D3,ce,{option:0,checkRequirements:1})}}function ju(t){let e,n;return{c(){e=E("span"),n=G(t[3]),L(e,"class","text-[11px] text-wrap")},m(o,i){O(o,e,i),y(e,n)},p(o,i){i&8&&fe(n,o[3])},d(o){o&&I(e)}}}function F3(t){let e,n,o,i,r;return{c(){e=E("span"),n=G(`Hires
              `),o=E("span"),i=G(t[9]),r=G(`

              employees`),L(o,"class",t[10]+" font-medium"),L(e,"class","text-[11px] opacity-80")},m(l,a){O(l,e,a),y(e,n),y(e,o),y(o,i),y(e,r)},p:ve,d(l){l&&I(e)}}}function j3(t){let e;return{c(){e=E("span"),e.textContent=`+💰${mn(t[8],!1)}/wk`},m(n,o){O(n,e,o)},p:ve,d(n){n&&I(e)}}}function q3(t){let e;return{c(){e=E("span"),e.textContent=`🔌${t[11]}`},m(n,o){O(n,e,o)},p:ve,d(n){n&&I(e)}}}function B3(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,p=mn(t[6],!1)+"",h,g,w,b,C,N,F,P,D=t[3]&&ju(t),H=t[9]&&F3(t),M=t[8]>0&&j3(t),R=t[11]>0&&q3(t);return{c(){e=E("div"),n=E("div"),o=E("div"),i=E("span"),i.textContent=`${t[5]}`,r=q(),l=E("span"),l.textContent=`${t[4]}`,a=q(),D&&D.c(),s=q(),u=E("div"),H&&H.c(),f=q(),c=E("div"),d=E("span"),m=G("💰"),h=G(p),g=q(),M&&M.c(),w=q(),b=E("div"),R&&R.c(),L(i,"class","text-3xl"),L(l,"class","font-medium text-center text-md"),L(o,"class","flex flex-col flex-grow rounded-xl p-2 gap-0 justify-center items-center"),L(d,"class",""+t[7]),L(c,"class","flex flex-row justify-between mx-2 text-[11px] font-mono items-center"),L(b,"class","flex flex-row justify-between mx-2 text-[11px] font-mono"),L(u,"class","bg-sidebarBackground text-black rounded-t-lg py-1"),L(n,"class",C="flex flex-col w-36 h-48 min-h-32 min-w-36 rounded-xl text-white drop-shadow-lg border-black border-2 hover:translate-y-[-8px] transition-transform duration-300 ease-in-out z-100 "+(t[2]?"cursor-pointer":"cursor-not-allowed opacity-30")+" "+(t[0].selected?"border-4 border-white scale-105":"")),tt(n,"background",t[12]),L(e,"class","plotOption"),L(e,"data-plotoptionid",N=t[0].id)},m(S,v){O(S,e,v),y(e,n),y(n,o),y(o,i),y(o,r),y(o,l),y(o,a),D&&D.m(o,null),y(n,s),y(n,u),H&&H.m(u,null),y(u,f),y(u,c),y(c,d),y(d,m),y(d,h),y(c,g),M&&M.m(c,null),y(u,w),y(u,b),R&&R.m(b,null),F||(P=ee(e,"click",function(){Ft(t[2]?t[15]:qu)&&(t[2]?t[15]:qu).apply(this,arguments)}),F=!0)},p(S,v){t=S,t[3]?D?D.p(t,v):(D=ju(t),D.c(),D.m(o,null)):D&&(D.d(1),D=null),t[9]&&H.p(t,v),t[8]>0&&M.p(t,v),t[11]>0&&R.p(t,v),v&5&&C!==(C="flex flex-col w-36 h-48 min-h-32 min-w-36 rounded-xl text-white drop-shadow-lg border-black border-2 hover:translate-y-[-8px] transition-transform duration-300 ease-in-out z-100 "+(t[2]?"cursor-pointer":"cursor-not-allowed opacity-30")+" "+(t[0].selected?"border-4 border-white scale-105":""))&&L(n,"class",C),v&1&&N!==(N=t[0].id)&&L(e,"data-plotoptionid",N)},d(S){S&&I(e),D&&D.d(),H&&H.d(),M&&M.d(),R&&R.d(),F=!1,P()}}}function H3(t){let e,n;return e=new od({props:{option:t[0],checkRequirements:!0}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,i){const r={};i&1&&(r.option=o[0]),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function G3(t){let e,n,o,i;return e=new _o({props:{$$slots:{default:[B3]},$$scope:{ctx:t}}}),o=new po({props:{$$slots:{default:[H3]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment),n=q(),Y(o.$$.fragment)},m(r,l){V(e,r,l),O(r,n,l),V(o,r,l),i=!0},p(r,l){const a={};l&262159&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&262145&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){T(e.$$.fragment,r),T(o.$$.fragment,r),i=!1},d(r){r&&I(n),x(e,r),x(o,r)}}}function W3(t){let e,n;return e=new ho({props:{openDelay:200,closeDelay:0,$$slots:{default:[G3]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,[i]){const r={};i&262159&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}const qu=()=>{};function V3(t,e,n){let o;ae(t,De,N=>n(14,o=N));let{option:i}=e,{purchaseCallback:r}=e,{canPurchase:l}=e,a=i.title,s=i.emoji,u=i.requirements.gold,f=o.townInfo.gold<u?"text-red-500 font-semibold":"",c=i.revenue_per_week,d=i.requirements.employees,m=o.townInfo.population_count-o.townInfo.employees<d?"text-red-500 font-semibold":"",p=i.active_costs.power,h=Mr(ke(i.id),!1,5),{count:g=0}=e,w="";const b=Object.entries(i.generated_resources).filter(([N,F])=>F>0).map(([N,F])=>`${F} ${N}`);b.length>0&&(w=`Produces: ${b.join(", ")}`);const C=()=>r(i);return t.$$set=N=>{"option"in N&&n(0,i=N.option),"purchaseCallback"in N&&n(1,r=N.purchaseCallback),"canPurchase"in N&&n(2,l=N.canPurchase),"count"in N&&n(13,g=N.count)},t.$$.update=()=>{t.$$.dirty&16384},[i,r,l,w,a,s,u,f,c,d,m,p,h,g,o,C]}class x3 extends me{constructor(e){super(),de(this,e,V3,W3,ce,{option:0,purchaseCallback:1,canPurchase:2,count:13})}}const{Map:Y3}=cd;function Bu(t,e,n){const o=t.slice();return o[25]=e[n],o}function Hu(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,p,h,g,w,b,C,N,F;const P=[K3,U3],D=[];function H(M,R){return R&6&&(c=null),c==null&&(c=!!Fo(M[1].x,M[1].y,M[2])),c?0:1}return d=H(t,-1),m=D[d]=P[d](t),w=new nd({props:{mini:!0}}),{c(){e=E("div"),o=q(),i=E("div"),r=E("div"),l=E("div"),a=E("div"),s=E("div"),u=E("div"),f=E("div"),m.c(),h=q(),g=E("div"),Y(w.$$.fragment),L(e,"class","fixed inset-0 bg-black/20 z-[998]"),L(f,"class",p="flex flex-row text-start justify-start items-start flex-wrap py-8 "+(t[1].isMineralSource,"pt-6 gap-2")+" w-full align-middle"),L(s,"class","flex gap-1 pb-24 overflow-scroll max-h-["+Wu+"]"),L(a,"class","flex flex-row gap-2 justify-start pt-8 flex-grow w-full"),L(r,"class","h-max w-full flex-grow"),L(i,"class","w-[100vw] fixed bottom-0 max-h-["+Wu+"] z-[999] flex flex-row justify-center text-center items-center bg-popupBackground text-sidebarText px-4 shadow-2xl rounded-t-2xl")},m(M,R){O(M,e,R),O(M,o,R),O(M,i,R),y(i,r),y(r,l),y(l,a),y(a,s),y(s,u),y(u,f),D[d].m(f,null),y(i,h),y(i,g),V(w,g,null),C=!0,N||(F=[ee(e,"click",t[10]),ee(a,"click",t[4]),ee(i,"click",pd(t[9]))],N=!0)},p(M,R){let S=d;d=H(M,R),d===S?D[d].p(M,R):(Se(),T(D[S],1,1,()=>{D[S]=null}),Ie(),m=D[d],m?m.p(M,R):(m=D[d]=P[d](M),m.c()),k(m,1),m.m(f,null)),(!C||R&2&&p!==(p="flex flex-row text-start justify-start items-start flex-wrap py-8 "+(M[1].isMineralSource,"pt-6 gap-2")+" w-full align-middle"))&&L(f,"class",p)},i(M){C||(M&&it(()=>{C&&(n||(n=bt(e,Di,{duration:200},!0)),n.run(1))}),k(m),k(w.$$.fragment,M),M&&it(()=>{C&&(b||(b=bt(i,ra,{duration:200,axis:"y"},!0)),b.run(1))}),C=!0)},o(M){M&&(n||(n=bt(e,Di,{duration:200},!1)),n.run(0)),T(m),T(w.$$.fragment,M),M&&(b||(b=bt(i,ra,{duration:200,axis:"y"},!1)),b.run(0)),C=!1},d(M){M&&(I(e),I(o),I(i)),M&&n&&n.end(),D[d].d(),x(w),M&&b&&b.end(),N=!1,Be(F)}}}function U3(t){let e;return{c(){e=E("div"),e.innerHTML=`You can only expand your kingdom through adjacent plots.
                    Select one of the <span class="text-yellow-500 bold">yellow</span> plots.`,L(e,"class","text-white font-semibold")},m(n,o){O(n,e,o)},p:ve,i:ve,o:ve,d(n){n&&I(e)}}}function K3(t){let e=[],n=new Y3,o,i,r=Ve(t[3].filter(t[11]));const l=a=>a[25].id;for(let a=0;a<r.length;a+=1){let s=Bu(t,r,a),u=l(s);n.set(u,e[a]=Gu(u,s))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();o=Re()},m(a,s){for(let u=0;u<e.length;u+=1)e[u]&&e[u].m(a,s);O(a,o,s),i=!0},p(a,s){s&10&&(r=Ve(a[3].filter(a[11])),Se(),e=Sd(e,s,l,1,a,r,n,o.parentNode,Ad,Gu,o,Bu),Ie())},i(a){if(!i){for(let s=0;s<r.length;s+=1)k(e[s]);i=!0}},o(a){for(let s=0;s<e.length;s+=1)T(e[s]);i=!1},d(a){a&&I(o);for(let s=0;s<e.length;s+=1)e[s].d(a)}}}function Gu(t,e){let n,o,i;return o=new x3({props:{option:e[25],purchaseCallback:Z3,canPurchase:e[25].affordable??!1}}),{key:t,first:null,c(){n=Re(),Y(o.$$.fragment),this.first=n},m(r,l){O(r,n,l),V(o,r,l),i=!0},p(r,l){e=r;const a={};l&10&&(a.option=e[25]),l&10&&(a.canPurchase=e[25].affordable??!1),o.$set(a)},i(r){i||(k(o.$$.fragment,r),i=!0)},o(r){T(o.$$.fragment,r),i=!1},d(r){r&&I(n),x(o,r)}}}function X3(t){let e,n,o=t[0]&&Hu(t);return{c(){o&&o.c(),e=Re()},m(i,r){o&&o.m(i,r),O(i,e,r),n=!0},p(i,[r]){i[0]?o?(o.p(i,r),r&1&&k(o,1)):(o=Hu(i),o.c(),k(o,1),o.m(e.parentNode,e)):o&&(Se(),T(o,1,1,()=>{o=null}),Ie())},i(i){n||(k(o),n=!0)},o(i){T(o),n=!1},d(i){i&&I(e),o&&o.d(i)}}}const Wu="50vh";function J3(t,e,n){return t>=0&&t<n.length&&e>=0&&e<n[0].length&&!n[t][e].water&&!n[t][e].disabled}function ai(t,e,n,o,i){let r=t+n,l=e+o;for(;r>=0&&r<i.length&&l>=0&&l<i[0].length;){if(J3(r,l,i))return[r,l];r+=n,l+=o}return null}const Z3=()=>{};function Q3(t,e,n){let o,i,r,l;ae(t,Qe,M=>n(1,r=M)),ae(t,De,M=>n(2,l=M)),console.log("hello world");let{x:a=0}=e,{y:s=0}=e,{open:u=!1}=e,{tooltip:f=""}=e,c=oe,d;const m=new Map;function p(M){return m.has(M)||m.set(M,oe.findIndex(R=>R.id===M)),m.get(M)}function h(M,R,S){if(!S||!S.plots||!S.plots.length)return null;const v=S.plots.length,A=S.plots[0].length;for(let j=1;j<v+A;j++)for(let W=-j;W<=j;W++)for(let $=-j;$<=j;$++){if(Math.abs(W)+Math.abs($)!==j)continue;const U=M+W,Q=R+$;if(!(U<0||U>=v||Q<0||Q>=A)&&!S.plots[U][Q].active&&!S.plots[U][Q].mineralSource&&!S.plots[U][Q].water&&!S.plots[U][Q].disabled&&Fo(U,Q,S))return[U,Q]}return null}function g(M){return l.plots[a][s].type>-1?c[l.plots[a][s].type].id===M.id:!1}function w(M,R){let S=!0,v=!0;M.requirements.gold>R.townInfo.gold&&(S=!1,v=!1),M.requirements.knowledge!==void 0&&M.requirements.knowledge>R.townInfo.knowledge_points&&(S=!1,v=!1),M.requirements.resources!==void 0&&Object.keys(M.requirements.resources).forEach(j=>{M.requirements.resources[j]!=0&&l.resources[j]<M.requirements.resources[j]&&(S=!1,v=!1)});let A=R.townInfo.population_count-R.townInfo.employees;if(M.requirements.employees!==void 0&&M.requirements.employees>0){const j=R.plots[a][s];if(j.type!==-1){const $=c[j.type].requirements.employees||0;v&&M.requirements.employees<=$?S=!0:M.requirements.employees>A+$&&(S=!1)}else M.requirements.employees>A&&(S=!1)}return M.active_costs!==void 0&&(M.active_costs.gold>R.townInfo.gold||M.active_costs.power>R.resources.power||M.active_costs.wood>R.resources.wood||M.active_costs.stone>R.resources.stone||M.active_costs.metal>R.resources.metal||M.active_costs.bureaucracy>R.resources.bureaucracy||M.active_costs.food>R.resources.food)&&(S=!1,v=!1),M.requirements.plots.length>0&&M.requirements.plots.forEach(j=>{$e(j,R).length===0&&(S=!1,v=!1)}),S}function b(M){const R=M.target.closest(".plotOption");if(R){const S=R.dataset.plotoptionid;if(S===l.plots[a][s].typeId){N();return}C(S)}}function C(M){const R=p(M),S=c[R];let v=l;if(w(S,v)){if(v.plots[a][s].type!==-1&&Ci(a,s,v),n(7,f=""),v.plots[a][s].type=R,v.plots[a][s].active=!0,v.plots[a][s].referencePlot=[],v.plots[a][s].typeId=S.id,v.townInfo.gold-=S.requirements.gold,v.townInfo.gold=Pt(v.townInfo.gold,2),v.townInfo.population_count+=S.immediate_variable_changes.population,v.townInfo.population_max+=S.immediate_variable_changes.population,v.townInfo.happiness+=S.immediate_variable_changes.happiness,v.townInfo.health+=S.immediate_variable_changes.health,v.modifiers.happiness=Pt(v.modifiers.happiness*S.effect_modifiers.happiness,2),v.modifiers.health=Pt(v.modifiers.health*S.effect_modifiers.health,2),v.modifiers.community=Pt(v.modifiers.community*S.effect_modifiers.community,2),v.townInfo.employees+=S.requirements.employees,(v.plotCounts[R]===void 0||v.plotCounts[R]===null)&&(v.plotCounts[R]=0),v.plotCounts[R]++,v.lastChangeDay=v.environment.day,S.requirements.resources!==void 0){const j=S.requirements.resources;v.resources.food-=j.food,v.resources.wood-=j.wood,v.resources.stone-=j.stone,v.resources.metal-=j.metal}switch(S.id){case"city_hall":v.hasCityHall=!0;break;case"bank":v.hasBank=!0;break}De.set(v),localStorage.setItem(Dt,JSON.stringify(v));const A=h(a,s,v);if(A){const[j,W]=A;n(5,a=j),n(6,s=W),Me(Qe,r.x=j,r),Me(Qe,r.y=W,r);const $=document.querySelector(`.plot_container[data-x="${j}"][data-y="${W}"]`);if($){const U=$.getBoundingClientRect(),Q=window.innerHeight||d.clientHeight,z=window.innerWidth||d.clientWidth,te=d.scrollTop+U.top-Q/2+225,Z=d.scrollLeft+U.left-z/2;window.scrollTo({top:te,left:Z,behavior:"smooth"}),document.querySelectorAll(".plot_container").forEach(Ce=>Ce.classList.remove("selected")),$.classList.add("selected")}}}else n(7,f="You do not have enough resources to purchase this plot. If it's a 'Large' plot, make sure you have a 2x2 area available. "),document.querySelectorAll(".plotOption").forEach(j=>{j.classList.remove("active")})}function N(){document.querySelectorAll(".plotOption").forEach(R=>{R.classList.remove("active")}),Ci(a,s,l)}function F(M){if(!u)return;let R=null;switch(M.key.toLowerCase()){case"arrowup":case"w":R=ai(r.x,r.y,-1,0,l.plots);break;case"arrowdown":case"s":R=ai(r.x,r.y,1,0,l.plots);break;case"arrowleft":case"a":R=ai(r.x,r.y,0,-1,l.plots);break;case"arrowright":case"d":R=ai(r.x,r.y,0,1,l.plots);break;default:return}if(!R)return;const[S,v]=R;Me(Qe,r.x=S,r),Me(Qe,r.y=v,r);const A=document.querySelector(`.plot_container[data-x="${S}"][data-y="${v}"]`);if(A){const j=A.getBoundingClientRect(),W=window.innerHeight||d.clientHeight,$=window.innerWidth||d.clientWidth,U=d.scrollTop+j.top-W/2+225,Q=d.scrollLeft+j.left-$/2;window.scrollTo({top:U,left:Q,behavior:"smooth"}),document.querySelectorAll(".plot_container").forEach(te=>te.classList.remove("selected")),A.classList.add("selected")}}xo(()=>{d=document.documentElement||document.body,window.addEventListener("keydown",F)}),Tf(()=>{window.removeEventListener("keydown",F)});function P(M){ie.call(this,t,M)}const D=()=>Me(Qe,r.visible=!1,r),H=M=>r.isMineralSource?M.id==="mine":!0;return t.$$set=M=>{"x"in M&&n(5,a=M.x),"y"in M&&n(6,s=M.y),"open"in M&&n(0,u=M.open),"tooltip"in M&&n(7,f=M.tooltip)},t.$$.update=()=>{t.$$.dirty&4&&l&&c.filter(M=>M.id==="mine"),t.$$.dirty&4&&n(8,o=l?c.map(M=>Object.assign(Object.assign({},M),{affordable:w(M,l),selected:g(M)})):[]),t.$$.dirty&262&&n(3,i=l?(()=>{let M=[...o];if(r.isMineralSource)return M.filter(R=>R.id==="mine");$e("tree_farm",l).length===0&&(M=M.filter(R=>["small_homes","farm","tree_farm"].includes(R.id)));for(const[R,S]of Object.entries(Ed))typeof S=="number"&&S>0&&$e(R,l).length>=S&&(M=M.filter(v=>v.id!==R));return M.sort((R,S)=>R.selected&&!S.selected?-1:0)})():[])},[u,r,l,i,b,a,s,f,o,P,D,H]}class id extends me{constructor(e){super(),de(this,e,Q3,X3,ce,{x:5,y:6,open:0,tooltip:7})}}function z3(t){let e,n,o;return{c(){e=E("span"),n=G("My liege, if you build a City Hall, you can expand your city "),o=G(t[0]),L(e,"class","text-xs")},m(i,r){O(i,e,r),y(e,n),y(e,o)},p(i,r){r&1&&fe(o,i[0])},i:ve,o:ve,d(i){i&&I(e)}}}function e4(t){let e,n;return e=new $t({props:{class:"bg-accent h-max rounded-2xl hover:scale-110 transition-transform duration-200 ease-in-out hover:drop-shadow-2xl",$$slots:{default:[t4]},$$scope:{ctx:t}}}),e.$on("click",t[2]),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,i){const r={};i&11&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function t4(t){let e,n,o,i,r,l=t[0].toUpperCase()+"",a,s,u,f,c,d,m,p,h,g,w,b=Math.round(Math.pow(1.7,t[1].kingdom_expansions+5))+"",C,N,F,P;return{c(){e=E("div"),n=G("My liege, you can expand your "),o=E("br"),i=G(`kingdom
        `),r=E("span"),a=G(l),s=G(`
        using
        `),u=E("br"),f=G(`your
        `),c=E("span"),c.textContent="City Hall",d=G("!"),m=E("br"),p=E("br"),h=q(),g=E("span"),w=G("Requires "),C=G(b),N=G(` Guardians
          `),F=E("br"),P=G("to be employed. (see city mgmt menu)"),L(r,"class","font-extrabold text-blue-200"),L(c,"class","text-blue-200 bold"),L(g,"class","opacity-75 text-xs")},m(D,H){O(D,e,H),y(e,n),y(e,o),y(e,i),y(e,r),y(r,a),y(e,s),y(e,u),y(e,f),y(e,c),y(e,d),y(e,m),y(e,p),y(e,h),y(e,g),y(g,w),y(g,C),y(g,N),y(g,F),y(g,P)},p(D,H){H&1&&l!==(l=D[0].toUpperCase()+"")&&fe(a,l),H&2&&b!==(b=Math.round(Math.pow(1.7,D[1].kingdom_expansions+5))+"")&&fe(C,b)},d(D){D&&I(e)}}}function n4(t){let e,n,o,i,r;const l=[e4,z3],a=[];function s(u,f){return f&2&&(n=null),n==null&&(n=$e("city_hall",u[1]).length>0),n?0:1}return o=s(t,-1),i=a[o]=l[o](t),{c(){e=E("div"),i.c(),L(e,"class","w-48 h-max")},m(u,f){O(u,e,f),a[o].m(e,null),r=!0},p(u,[f]){let c=o;o=s(u,f),o===c?a[o].p(u,f):(Se(),T(a[c],1,1,()=>{a[c]=null}),Ie(),i=a[o],i?i.p(u,f):(i=a[o]=l[o](u),i.c()),k(i,1),i.m(e,null))},i(u){r||(k(i),r=!0)},o(u){T(i),r=!1},d(u){u&&I(e),a[o].d()}}}function o4(t,e,n){let o;ae(t,De,l=>n(1,o=l));let{direction:i}=e;const r=()=>{const l=ym(o,i);l&&Tt.set(l)};return t.$$set=l=>{"direction"in l&&n(0,i=l.direction)},[i,o,r]}class Vu extends me{constructor(e){super(),de(this,e,o4,n4,ce,{direction:0})}}function i4(t){return{c:ve,m:ve,p:ve,d:ve}}function r4(t){let e,n,o,i=oe[t[0].type].emoji+"",r,l,a,s,u,f=oe[t[0].type].title+"",c,d,m,p;return{c(){e=E("div"),n=E("span"),o=E("span"),r=G(i),l=q(),a=E("br"),s=q(),u=E("span"),c=G(f),L(o,"class","text-lg align-text-top select-none"),L(u,"class","text-sm align-text-top text-black select-none"),L(n,"data-size",d=oe[t[0].type].requirements.size),L(n,"data-x",m=t[0].x),L(n,"data-y",p=t[0].y),L(e,"class","svelte-lm6uio")},m(h,g){O(h,e,g),y(e,n),y(n,o),y(o,r),y(n,l),y(n,a),y(n,s),y(n,u),y(u,c)},p(h,g){g&1&&i!==(i=oe[h[0].type].emoji+"")&&fe(r,i),g&1&&f!==(f=oe[h[0].type].title+"")&&fe(c,f),g&1&&d!==(d=oe[h[0].type].requirements.size)&&L(n,"data-size",d),g&1&&m!==(m=h[0].x)&&L(n,"data-x",m),g&1&&p!==(p=h[0].y)&&L(n,"data-y",p)},d(h){h&&I(e)}}}function xu(t){let e;return{c(){e=E("span"),e.textContent="🧲",L(e,"class","text-lg")},m(n,o){O(n,e,o)},d(n){n&&I(e)}}}function Yu(t){let e;return{c(){e=E("span"),e.textContent="👑",L(e,"class","text-lg absolute top-0")},m(n,o){O(n,e,o)},d(n){n&&I(e)}}}function l4(t){let e,n,o,i=t[7](t[0].x,t[0].y),r,l,a,s,u,f,c,d,m,p,h,g,w,b,C,N,F,P;function D(v,A){if(v[0].type>-1)return r4;if(v[0].type==-1&&v[0].x==0&&v[0].y==0)return i4}let H=D(t),M=H&&H(t),R=t[0].mineralSource&&t[0].type==-1&&xu(),S=i&&Yu();return{c(){e=E("button"),M&&M.c(),n=q(),R&&R.c(),o=q(),S&&S.c(),L(e,"class",r="plot_container "+t[1]+" overflow-visible "+(t[0].type==-1&&t[2]==!1,"")+" "+(t[0].mineralSource?"hidden":"")+" "+(t[2]?"cursor-pointer":"cursor-not-allowed")+" "+(t[0].disabled?"animate-spin":"")+" svelte-lm6uio"),tt(e,"background-color",t[0].water?"rgba(66, 135, 245, 1)":t[4].x==t[0].x&&t[4].y==t[0].y&&t[4].visible?"white":t[0].mineralSource?"black":Mr(t[0].type,t[2])),L(e,"data-active",l=t[0].active),L(e,"data-hidehoveranimation",a=t[4].visible||t[0].type==-1&&t[0].x==0&&t[0].y==0),L(e,"data-id",s=t[0].id),L(e,"data-x",u=t[0].x),L(e,"data-y",f=t[0].y),L(e,"data-optionindex",c=t[0].optionIndex),L(e,"data-canbeupgraded",t[2]),L(e,"data-type",d=t[0].type),L(e,"data-type-id",m=t[0].typeId),L(e,"data-refplotx",p=t[0].referencePlot!==void 0?t[0].referencePlot[1]:null),L(e,"data-refploty",h=t[0].referencePlot!==void 0?t[0].referencePlot[0]:null),L(e,"data-size",g=t[0].type>-1?oe[t[0].type].requirements.size:null),L(e,"data-mineralsource",w=t[0].mineralSource),L(e,"data-water",b=t[0].water),L(e,"data-nearwater",C=zn(t[0].x,t[0].y,t[5])),L(e,"data-liegelocation",N=t[7](t[0].x,t[0].y))},m(v,A){O(v,e,A),M&&M.m(e,null),y(e,n),R&&R.m(e,null),y(e,o),S&&S.m(e,null),F||(P=ee(e,"click",function(){Ft(t[0].water?null:t[6]?jl(t[0].x,t[0].y,t[5]):t[8])&&(t[0].water?null:t[6]?jl(t[0].x,t[0].y,t[5]):t[8]).apply(this,arguments)}),F=!0)},p(v,A){t=v,H===(H=D(t))&&M?M.p(t,A):(M&&M.d(1),M=H&&H(t),M&&(M.c(),M.m(e,n))),t[0].mineralSource&&t[0].type==-1?R||(R=xu(),R.c(),R.m(e,o)):R&&(R.d(1),R=null),A&1&&(i=t[7](t[0].x,t[0].y)),i?S||(S=Yu(),S.c(),S.m(e,null)):S&&(S.d(1),S=null),A&7&&r!==(r="plot_container "+t[1]+" overflow-visible "+(t[0].type==-1&&t[2]==!1,"")+" "+(t[0].mineralSource?"hidden":"")+" "+(t[2]?"cursor-pointer":"cursor-not-allowed")+" "+(t[0].disabled?"animate-spin":"")+" svelte-lm6uio")&&L(e,"class",r),A&21&&tt(e,"background-color",t[0].water?"rgba(66, 135, 245, 1)":t[4].x==t[0].x&&t[4].y==t[0].y&&t[4].visible?"white":t[0].mineralSource?"black":Mr(t[0].type,t[2])),A&1&&l!==(l=t[0].active)&&L(e,"data-active",l),A&17&&a!==(a=t[4].visible||t[0].type==-1&&t[0].x==0&&t[0].y==0)&&L(e,"data-hidehoveranimation",a),A&1&&s!==(s=t[0].id)&&L(e,"data-id",s),A&1&&u!==(u=t[0].x)&&L(e,"data-x",u),A&1&&f!==(f=t[0].y)&&L(e,"data-y",f),A&1&&c!==(c=t[0].optionIndex)&&L(e,"data-optionindex",c),A&4&&L(e,"data-canbeupgraded",t[2]),A&1&&d!==(d=t[0].type)&&L(e,"data-type",d),A&1&&m!==(m=t[0].typeId)&&L(e,"data-type-id",m),A&1&&p!==(p=t[0].referencePlot!==void 0?t[0].referencePlot[1]:null)&&L(e,"data-refplotx",p),A&1&&h!==(h=t[0].referencePlot!==void 0?t[0].referencePlot[0]:null)&&L(e,"data-refploty",h),A&1&&g!==(g=t[0].type>-1?oe[t[0].type].requirements.size:null)&&L(e,"data-size",g),A&1&&w!==(w=t[0].mineralSource)&&L(e,"data-mineralsource",w),A&1&&b!==(b=t[0].water)&&L(e,"data-water",b),A&33&&C!==(C=zn(t[0].x,t[0].y,t[5]))&&L(e,"data-nearwater",C),A&1&&N!==(N=t[7](t[0].x,t[0].y))&&L(e,"data-liegelocation",N)},d(v){v&&I(e),M&&M.d(),R&&R.d(),S&&S.d(),F=!1,P()}}}function Uu(t){let e;return{c(){e=G("Water - Place farms nearby for more food & revenue!")},m(n,o){O(n,e,o)},d(n){n&&I(e)}}}function Ku(t){let e;return{c(){e=E("span"),e.textContent="Near water - Generating more food & revenue!",L(e,"class","text-xs bg-blue-500 text-white px-2 py-3 rounded-2xl text-center")},m(n,o){O(n,e,o)},d(n){n&&I(e)}}}function Xu(t){let e;function n(r,l){return oe[r[0].type].liege_on_plot_hint==null?a4:s4}let o=n(t),i=o(t);return{c(){e=E("span"),i.c(),L(e,"class","text-xs bg-pink-700 text-white px-2 py-3 rounded-2xl text-center")},m(r,l){O(r,e,l),i.m(e,null)},p(r,l){o===(o=n(r))&&i?i.p(r,l):(i.d(1),i=o(r),i&&(i.c(),i.m(e,null)))},d(r){r&&I(e),i.d()}}}function s4(t){let e=oe[t[0].type].liege_on_plot_hint+"",n;return{c(){n=G(e)},m(o,i){O(o,n,i)},p(o,i){i&1&&e!==(e=oe[o[0].type].liege_on_plot_hint+"")&&fe(n,e)},d(o){o&&I(n)}}}function a4(t){let e,n=oe[t[0].type].title+"",o,i;return{c(){e=G("You are hanging out on the "),o=G(n),i=G(` plot, but nothing
            seems to be changing except a revenue boost.`)},m(r,l){O(r,e,l),O(r,o,l),O(r,i,l)},p(r,l){l&1&&n!==(n=oe[r[0].type].title+"")&&fe(o,n)},d(r){r&&(I(e),I(o),I(i))}}}function Ju(t){let e,n;return e=new od({props:{option:t[3],checkRequirements:!1}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,i){const r={};i&8&&(r.option=o[3]),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function u4(t){let e,n,o=zn(t[0].x,t[0].y,t[5]),i,r=Yn(t[0].x,t[0].y,t[5]),l,a,s=t[0].water&&Uu(),u=o&&Ku(),f=r&&Xu(t),c=t[0].active&&Ju(t);return{c(){e=E("div"),s&&s.c(),n=q(),u&&u.c(),i=q(),f&&f.c(),l=q(),c&&c.c(),L(e,"class","flex flex-col gap-2")},m(d,m){O(d,e,m),s&&s.m(e,null),y(e,n),u&&u.m(e,null),y(e,i),f&&f.m(e,null),y(e,l),c&&c.m(e,null),a=!0},p(d,m){d[0].water?s||(s=Uu(),s.c(),s.m(e,n)):s&&(s.d(1),s=null),m&33&&(o=zn(d[0].x,d[0].y,d[5])),o?u||(u=Ku(),u.c(),u.m(e,i)):u&&(u.d(1),u=null),m&33&&(r=Yn(d[0].x,d[0].y,d[5])),r?f?f.p(d,m):(f=Xu(d),f.c(),f.m(e,l)):f&&(f.d(1),f=null),d[0].active?c?(c.p(d,m),m&1&&k(c,1)):(c=Ju(d),c.c(),k(c,1),c.m(e,null)):c&&(Se(),T(c,1,1,()=>{c=null}),Ie())},i(d){a||(k(c),a=!0)},o(d){T(c),a=!1},d(d){d&&I(e),s&&s.d(),u&&u.d(),f&&f.d(),c&&c.d()}}}function f4(t){let e,n,o,i;return e=new _o({props:{$$slots:{default:[l4]},$$scope:{ctx:t}}}),o=new po({props:{class:"max-w-64 rounded-3xl "+(t[0].type<0&&!t[0].water?"hidden":""),$$slots:{default:[u4]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment),n=q(),Y(o.$$.fragment)},m(r,l){V(e,r,l),O(r,n,l),V(o,r,l),i=!0},p(r,l){const a={};l&4215&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&1&&(s.class="max-w-64 rounded-3xl "+(r[0].type<0&&!r[0].water?"hidden":"")),l&4137&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){T(e.$$.fragment,r),T(o.$$.fragment,r),i=!1},d(r){r&&I(n),x(e,r),x(o,r)}}}function c4(t){let e,n;return e=new ho({props:{openDelay:200,closeDelay:0,$$slots:{default:[f4]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,[i]){const r={};i&4223&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function d4(t,e,n){let o,i,r,l,a;ae(t,Qe,h=>n(4,o=h)),ae(t,De,h=>n(5,i=h)),ae(t,vt,h=>n(10,r=h)),ae(t,to,h=>n(11,l=h)),ae(t,no,h=>n(6,a=h));let{data:s={id:0,active:!1,x:0,y:0,type:-1,styling:"",referencePlot:[],mineralSource:!1,disabled:!1,water:!1}}=e,u,{classText:f=""}=e,{canBeUpgraded:c=!1}=e;const d=(h,g)=>i.liege_location!=null&&h==i.liege_location[0]&&g==i.liege_location[1];function m(h,g,w){let b=document.querySelectorAll(".plot_container");if(r==!1){if(s.referencePlot!=null&&s.referencePlot[0]!==null&&g==null&&w==null&&s.referencePlot[1]!==void 0)return m(h,s.referencePlot[0],s.referencePlot[1]);if(!s.active&&!c)Me(to,l={},l),Me(Qe,o.visible=!1,o),b.forEach(C=>{C.classList.remove("selected")});else{g!=null&&w!=null?(Me(Qe,o.x=g,o),Me(Qe,o.y=w,o)):(Me(Qe,o.x=s.x,o),Me(Qe,o.y=s.y,o)),Me(Qe,o.isMineralSource=s.mineralSource,o),Me(Qe,o.visible=!0,o);const C=document.querySelector(`.plot_container[data-id="${s.id}"]`),N=document.documentElement||document.body,F=C.getBoundingClientRect(),P=window.innerHeight||N.clientHeight,D=window.innerWidth||N.clientWidth,H=N.scrollTop+F.top-P/2+225,M=N.scrollLeft+F.left-D/2;window.scrollTo({top:H,left:M,behavior:"smooth"}),b.forEach(R=>{R.classList.remove("selected")}),g!=null&&w!=null?document.querySelector(`.plot_container[data-x="${g}"][data-y="${w}"]`).classList.add("selected"):document.querySelector(`.plot_container[data-id="${s.id}"]`).classList.add("selected")}}}function p(h){r==!1&&(Me(De,i.plots[s.x][s.y].type=h,i),Me(Qe,o.visible=!1,o))}return t.$$set=h=>{"data"in h&&n(0,s=h.data),"classText"in h&&n(1,f=h.classText),"canBeUpgraded"in h&&n(2,c=h.canBeUpgraded)},t.$$.update=()=>{t.$$.dirty&1&&s.type>-1&&n(3,u=oe[s.type])},[s,f,c,u,o,i,a,d,m,p]}class m4 extends me{constructor(e){super(),de(this,e,d4,c4,ce,{data:0,classText:1,canBeUpgraded:2,changePlotType:9})}get changePlotType(){return this.$$.ctx[9]}}function Zu(t,e,n){const o=t.slice();return o[8]=e[n],o[10]=n,o}function Qu(t,e,n){const o=t.slice();return o[11]=e[n],o}function zu(t){let e,n,o,i,r,l,a,s,u,f,c,d=t[3],m,p,h=Ve(t[1].plots),g=[];for(let C=0;C<h.length;C+=1)g[C]=tf(Zu(t,h,C));const w=C=>T(g[C],1,1,()=>{g[C]=null});a=new Vu({props:{direction:"east"}}),f=new Vu({props:{direction:"south"}});let b=of(t);return{c(){e=E("div"),n=E("div"),o=E("div"),i=E("div");for(let C=0;C<g.length;C+=1)g[C].c();r=q(),l=E("span"),Y(a.$$.fragment),s=q(),u=E("span"),Y(f.$$.fragment),c=q(),b.c(),m=Re(),L(i,"class","grid plot_controller svelte-1udphho"),L(o,"class","flex flex-row items-center"),L(n,"style",t[2]),L(n,"id","plotContainerMain"),L(n,"class","items-center h-max flex flex-col pr-80 pb-80  svelte-1udphho"),L(e,"class","flex flex-col")},m(C,N){O(C,e,N),y(e,n),y(n,o),y(o,i);for(let F=0;F<g.length;F+=1)g[F]&&g[F].m(i,null);y(o,r),y(o,l),V(a,l,null),y(n,s),y(n,u),V(f,u,null),O(C,c,N),b.m(C,N),O(C,m,N),p=!0},p(C,N){if(N&3){h=Ve(C[1].plots);let F;for(F=0;F<h.length;F+=1){const P=Zu(C,h,F);g[F]?(g[F].p(P,N),k(g[F],1)):(g[F]=tf(P),g[F].c(),k(g[F],1),g[F].m(i,null))}for(Se(),F=h.length;F<g.length;F+=1)w(F);Ie()}(!p||N&4)&&L(n,"style",C[2]),N&8&&ce(d,d=C[3])?(Se(),T(b,1,1,ve),Ie(),b=of(C),b.c(),k(b,1),b.m(m.parentNode,m)):b.p(C,N)},i(C){if(!p){for(let N=0;N<h.length;N+=1)k(g[N]);k(a.$$.fragment,C),k(f.$$.fragment,C),k(b),p=!0}},o(C){g=g.filter(Boolean);for(let N=0;N<g.length;N+=1)T(g[N]);T(a.$$.fragment,C),T(f.$$.fragment,C),T(b),p=!1},d(C){C&&(I(e),I(c),I(m)),ft(g,C),x(a),x(f),b.d(C)}}}function ef(t){let e,n;return e=new m4({props:{classText:"hexagon",data:t[11],canBeUpgraded:Fo(t[11].x,t[11].y,t[1])}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,i){const r={};i&2&&(r.data=o[11]),i&2&&(r.canBeUpgraded=Fo(o[11].x,o[11].y,o[1])),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function tf(t){let e,n,o,i,r,l=Ve(t[8]),a=[];for(let u=0;u<l.length;u+=1)a[u]=ef(Qu(t,l,u));const s=u=>T(a[u],1,1,()=>{a[u]=null});return{c(){e=E("div");for(let u=0;u<a.length;u+=1)a[u].c();n=q(),L(e,"class","row "+(t[10]%2!==0?"odd-row":"")+" svelte-1udphho")},m(u,f){O(u,e,f);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(e,null);y(e,n),o=!0,i||(r=ee(e,"click",t[0]),i=!0)},p(u,f){if(f&2){l=Ve(u[8]);let c;for(c=0;c<l.length;c+=1){const d=Qu(u,l,c);a[c]?(a[c].p(d,f),k(a[c],1)):(a[c]=ef(d),a[c].c(),k(a[c],1),a[c].m(e,n))}for(Se(),c=l.length;c<a.length;c+=1)s(c);Ie()}},i(u){if(!o){for(let f=0;f<l.length;f+=1)k(a[f]);o=!0}},o(u){a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)T(a[f]);o=!1},d(u){u&&I(e),ft(a,u),i=!1,r()}}}function nf(t){let e,n;return e=new id({props:{x:t[4].x,y:t[4].y,open:t[4].visible}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,i){const r={};i&16&&(r.x=o[4].x),i&16&&(r.y=o[4].y),i&16&&(r.open=o[4].visible),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function of(t){let e,n,o=t[4].visible&&nf(t);return{c(){o&&o.c(),e=Re()},m(i,r){o&&o.m(i,r),O(i,e,r),n=!0},p(i,r){i[4].visible?o?(o.p(i,r),r&16&&k(o,1)):(o=nf(i),o.c(),k(o,1),o.m(e.parentNode,e)):o&&(Se(),T(o,1,1,()=>{o=null}),Ie())},i(i){n||(k(o),n=!0)},o(i){T(o),n=!1},d(i){i&&I(e),o&&o.d(i)}}}function p4(t){let e,n,o=t[1]!=null&&zu(t);return{c(){o&&o.c(),e=Re()},m(i,r){o&&o.m(i,r),O(i,e,r),n=!0},p(i,[r]){i[1]!=null?o?(o.p(i,r),r&2&&k(o,1)):(o=zu(i),o.c(),k(o,1),o.m(e.parentNode,e)):o&&(Se(),T(o,1,1,()=>{o=null}),Ie())},i(i){n||(k(o),n=!0)},o(i){T(o),n=!1},d(i){i&&I(e),o&&o.d(i)}}}function h4(t,e,n){let o,i,r;ae(t,to,c=>n(3,o=c)),ae(t,De,c=>n(1,i=c)),ae(t,Qe,c=>n(4,r=c));let l,a=0,s=["margin-left: 300px; margin-top: 200px; scale: 1;","margin-left: 650px; margin-top: 600px; scale: 1.5;"];document.addEventListener("keypress",function(c){c.key==="*"&&(a==s.length-1?n(5,a=0):n(5,a++,a))}),document.addEventListener("click",function(c){const d=c.target;(d.dataset.x==null&&d.dataset.type!="-1"&&d.dataset.size!=null||d.id=="plotContainerMain"||d.classList.contains("row")||d.classList.contains("grid"))&&Me(Qe,r.visible=!1,r)});function u(){let c=[];for(let d=0;d<i.plots.length;d++)for(let m=0;m<i.plots.length;m++)Fo(d,m,i)&&i.plots[d][m].active==!1&&c.push(i.plots[d][m])}function f(){Me(to,o={},o)}return t.$$.update=()=>{t.$$.dirty&2&&i&&u(),t.$$.dirty&32&&n(2,l=s[a])},[f,i,l,o,r,a]}class _4 extends me{constructor(e){super(),de(this,e,h4,p4,ce,{restartModifyPlotMenu:0})}get restartModifyPlotMenu(){return this.$$.ctx[0]}}function rf(t,e,n){const o=t.slice();return o[5]=e[n],o}function lf(t){let e,n;return e=new Kg({props:{thumb:t[5],class:"block h-4 w-4  bg-accent focus-visible:outline-none  disabled:pointer-events-none disabled:opacity-50"}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,i){const r={};i&16&&(r.thumb=o[5]),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function g4(t){let e,n,o,i,r;n=new Gg({props:{class:"absolute h-full bg-primary"}});let l=Ve(t[4]),a=[];for(let u=0;u<l.length;u+=1)a[u]=lf(rf(t,l,u));const s=u=>T(a[u],1,1,()=>{a[u]=null});return{c(){e=E("span"),Y(n.$$.fragment),o=q();for(let u=0;u<a.length;u+=1)a[u].c();i=Re(),L(e,"class","relative h-2 w-full grow overflow-hidden bg-black")},m(u,f){O(u,e,f),V(n,e,null),O(u,o,f);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(u,f);O(u,i,f),r=!0},p(u,f){if(f&16){l=Ve(u[4]);let c;for(c=0;c<l.length;c+=1){const d=rf(u,l,c);a[c]?(a[c].p(d,f),k(a[c],1)):(a[c]=lf(d),a[c].c(),k(a[c],1),a[c].m(i.parentNode,i))}for(Se(),c=l.length;c<a.length;c+=1)s(c);Ie()}},i(u){if(!r){k(n.$$.fragment,u);for(let f=0;f<l.length;f+=1)k(a[f]);r=!0}},o(u){T(n.$$.fragment,u),a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)T(a[f]);r=!1},d(u){u&&(I(e),I(o),I(i)),x(n),ft(a,u)}}}function b4(t){let e,n,o;const i=[{class:Fe("relative flex w-full touch-none select-none items-center",t[1])},t[2]];function r(a){t[3](a)}let l={$$slots:{default:[g4,({thumbs:a})=>({4:a}),({thumbs:a})=>a?16:0]},$$scope:{ctx:t}};for(let a=0;a<i.length;a+=1)l=J(l,i[a]);return t[0]!==void 0&&(l.value=t[0]),e=new $g({props:l}),Ne.push(()=>tn(e,"value",r)),{c(){Y(e.$$.fragment)},m(a,s){V(e,a,s),o=!0},p(a,[s]){const u=s&6?ye(i,[s&2&&{class:Fe("relative flex w-full touch-none select-none items-center",a[1])},s&4&&st(a[2])]):{};s&272&&(u.$$scope={dirty:s,ctx:a}),!n&&s&1&&(n=!0,u.value=a[0],en(()=>n=!1)),e.$set(u)},i(a){o||(k(e.$$.fragment,a),o=!0)},o(a){T(e.$$.fragment,a),o=!1},d(a){x(e,a)}}}function v4(t,e,n){const o=["class","value"];let i=se(e,o),{class:r=void 0}=e,{value:l=[0]}=e;function a(s){l=s,n(0,l)}return t.$$set=s=>{e=J(J({},e),Le(s)),n(2,i=se(e,o)),"class"in s&&n(1,r=s.class),"value"in s&&n(0,l=s.value)},[l,r,i,a]}class sf extends me{constructor(e){super(),de(this,e,v4,b4,ce,{class:1,value:0})}}function af(t,e,n){const o=t.slice();return o[14]=e[n],o}function uf(t){let e;return{c(){e=E("p"),e.textContent="No alerts",L(e,"class","text-center text-xs opacity-50 svelte-1m80q9z")},m(n,o){O(n,e,o)},d(n){n&&I(e)}}}function ff(t){let e,n,o,i=t[14].day+"",r,l,a,s=t[14].message+"",u,f,c;return{c(){e=E("div"),n=E("p"),o=G("DAY "),r=G(i),l=q(),a=E("p"),u=G(s),f=q(),L(n,"class","font-mono text-[10px]  svelte-1m80q9z"),L(a,"class","text-xs svelte-1m80q9z"),L(e,"class",c="px-2 py-2 rounded-2xl fade-in mb-4 "+(t[14].vibe==ot.BAD?"bg-white text-textDanger border ":t[14].vibe==ot.GOOD?"bg-green-300":(t[14].vibe==ot.NORMAL,"bg-accent"))+" svelte-1m80q9z")},m(d,m){O(d,e,m),y(e,n),y(n,o),y(n,r),y(e,l),y(e,a),y(a,u),y(e,f)},p(d,m){m&2&&i!==(i=d[14].day+"")&&fe(r,i),m&2&&s!==(s=d[14].message+"")&&fe(u,s),m&2&&c!==(c="px-2 py-2 rounded-2xl fade-in mb-4 "+(d[14].vibe==ot.BAD?"bg-white text-textDanger border ":d[14].vibe==ot.GOOD?"bg-green-300":(d[14].vibe==ot.NORMAL,"bg-accent"))+" svelte-1m80q9z")&&L(e,"class",c)},d(d){d&&I(e)}}}function y4(t){let e,n,o,i,r,l,a,s,u,f,c,d=Pt(t[1].economyAndLaws.tax_rate*100,0)+"",m,p,h,g,w,b,C,N,F,P,D=Pt(t[1].townInfo.productivity,0)+"",H,M,R,S,v,A,j,W,$,U,Q,z,te,Z,le,Ce,Ae,ne,_,X,K,re,we=t[0]=="true"?"🔇":"🔊",Oe,He,Ye,Xe,Ge,Ue,Je,Ke;g=new sf({props:{value:[t[1].economyAndLaws.tax_rate],onValueChange:t[8],min:0,max:.5,step:.05,class:"cursor-pointer w-[75%]"}}),S=new sf({props:{value:[t[1].townInfo.productivity],onValueChange:t[7],min:0,max:200,step:5,class:"cursor-pointer w-[75%]"}}),U=new Zt({props:{text:t[3]?"Select an active plot!":"👑 Set your location (boost)",onOpen:t[9]}}),z=new Zt({props:{text:"🧠 Sell Knowledge",onOpen:t[10]}}),Z=new Zt({props:{text:"🏢 Manage City",onOpen:t[11]}}),Ce=new Zt({props:{text:t[1].lab.active_experiment!==null?`${t[1].lab.active_experiment.duration}`:"🧪 Manage Lab",onOpen:t[6],opacity:$e("lab",t[1]).length>=1?100:30,onHoverText:$e("lab",t[1]).length>=1?"":"Build a Lab to perform experiments. Experiments can save lives, make money, or generally improve your town."}});let We=t[1].townLog.length==0&&uf(),Te=Ve(t[1].townLog),Pe=[];for(let Ee=0;Ee<Te.length;Ee+=1)Pe[Ee]=ff(af(t,Te,Ee));return{c(){e=E("div"),n=E("div"),o=E("div"),i=E("div"),r=E("div"),l=E("div"),a=E("h1"),a.textContent="Laws",s=q(),u=E("span"),u.textContent="Tax Rate",f=q(),c=E("span"),m=G(d),p=G("%"),h=q(),Y(g.$$.fragment),w=q(),b=E("div"),C=E("div"),N=E("span"),N.textContent="Productivity",F=q(),P=E("span"),H=G(D),M=G("%"),R=q(),Y(S.$$.fragment),v=q(),A=E("div"),j=E("h1"),j.textContent="Menus",W=q(),$=E("div"),Y(U.$$.fragment),Q=q(),Y(z.$$.fragment),te=q(),Y(Z.$$.fragment),le=q(),Y(Ce.$$.fragment),Ae=q(),ne=E("div"),_=E("div"),X=E("h3"),X.innerHTML='<h1 class="text-lg w-full text-center svelte-1m80q9z">Alerts</h1>',K=q(),re=E("button"),Oe=G(we),He=q(),Ye=E("div"),We&&We.c(),Xe=q();for(let Ee=0;Ee<Pe.length;Ee+=1)Pe[Ee].c();L(a,"class","text-lg w-full text-center pb-2 svelte-1m80q9z"),L(u,"class","text-sm svelte-1m80q9z"),L(c,"class","text-sm svelte-1m80q9z"),L(l,"class","mb-1 svelte-1m80q9z"),L(r,"class","flex flex-col justify-center w-full text-center items-center gap-1 min-h-12 pb-2 rounded-xl svelte-1m80q9z"),L(N,"class","text-sm svelte-1m80q9z"),L(P,"class","text-sm svelte-1m80q9z"),L(C,"class","mb-1 svelte-1m80q9z"),L(b,"class","flex flex-col justify-center w-full text-center items-center gap-2 svelte-1m80q9z"),L(i,"class","flex flex-col gap-2 rounded-xl text-center justify-center mb-2 mt-0 pt-2 svelte-1m80q9z"),L(j,"class","text-lg w-full text-center pb-2 svelte-1m80q9z"),L($,"class","flex flex-col gap-2 svelte-1m80q9z"),L(A,"class","svelte-1m80q9z"),L(X,"class","text-md cursor-pointer  svelte-1m80q9z"),L(re,"class","svelte-1m80q9z"),L(_,"class","flex flex-row gap-2 items-start justify-center pb-2 svelte-1m80q9z"),L(Ye,"class","overflow-y-scroll h-[100%] w-[100%] pb-4 scroll-smooth svelte-1m80q9z"),L(ne,"class","svelte-1m80q9z"),L(o,"class","flex flex-col justify-center mx-2 gap-8 svelte-1m80q9z"),L(n,"class","w-[220px] text-sidebarText bg-sidebarBackground overflow-scroll border-foregroundDark border-4 bottom-4 z-10 fixed left-3 py-2 top-[190px] drop-shadow-xl rounded-xl transition-all duration-300 svelte-1m80q9z"),L(e,"class",Ge="flex flex-row text-sidebarText bg-sidebarBackground overflow-clip "+(t[2].visible?"opacity-70":"")+" svelte-1m80q9z")},m(Ee,ze){O(Ee,e,ze),y(e,n),y(n,o),y(o,i),y(i,r),y(r,l),y(l,a),y(l,s),y(l,u),y(l,f),y(l,c),y(c,m),y(c,p),y(r,h),V(g,r,null),y(i,w),y(i,b),y(b,C),y(C,N),y(C,F),y(C,P),y(P,H),y(P,M),y(b,R),V(S,b,null),y(o,v),y(o,A),y(A,j),y(A,W),y(A,$),V(U,$,null),y($,Q),V(z,$,null),y($,te),V(Z,$,null),y($,le),V(Ce,$,null),y(o,Ae),y(o,ne),y(ne,_),y(_,X),y(_,K),y(_,re),y(re,Oe),y(ne,He),y(ne,Ye),We&&We.m(Ye,null),y(Ye,Xe);for(let lt=0;lt<Pe.length;lt+=1)Pe[lt]&&Pe[lt].m(Ye,null);Ue=!0,Je||(Ke=[ee(X,"click",t[12]),ee(re,"click",t[13])],Je=!0)},p(Ee,[ze]){(!Ue||ze&2)&&d!==(d=Pt(Ee[1].economyAndLaws.tax_rate*100,0)+"")&&fe(m,d);const lt={};ze&2&&(lt.value=[Ee[1].economyAndLaws.tax_rate]),g.$set(lt),(!Ue||ze&2)&&D!==(D=Pt(Ee[1].townInfo.productivity,0)+"")&&fe(H,D);const rt={};ze&2&&(rt.value=[Ee[1].townInfo.productivity]),S.$set(rt);const be={};ze&8&&(be.text=Ee[3]?"Select an active plot!":"👑 Set your location (boost)"),ze&8&&(be.onOpen=Ee[9]),U.$set(be);const Ze={};ze&16&&(Ze.onOpen=Ee[10]),z.$set(Ze);const B={};ze&32&&(B.onOpen=Ee[11]),Z.$set(B);const Zo={};if(ze&2&&(Zo.text=Ee[1].lab.active_experiment!==null?`${Ee[1].lab.active_experiment.duration}`:"🧪 Manage Lab"),ze&2&&(Zo.opacity=$e("lab",Ee[1]).length>=1?100:30),ze&2&&(Zo.onHoverText=$e("lab",Ee[1]).length>=1?"":"Build a Lab to perform experiments. Experiments can save lives, make money, or generally improve your town."),Ce.$set(Zo),(!Ue||ze&1)&&we!==(we=Ee[0]=="true"?"🔇":"🔊")&&fe(Oe,we),Ee[1].townLog.length==0?We||(We=uf(),We.c(),We.m(Ye,Xe)):We&&(We.d(1),We=null),ze&2){Te=Ve(Ee[1].townLog);let Ot;for(Ot=0;Ot<Te.length;Ot+=1){const Pl=af(Ee,Te,Ot);Pe[Ot]?Pe[Ot].p(Pl,ze):(Pe[Ot]=ff(Pl),Pe[Ot].c(),Pe[Ot].m(Ye,null))}for(;Ot<Pe.length;Ot+=1)Pe[Ot].d(1);Pe.length=Te.length}(!Ue||ze&4&&Ge!==(Ge="flex flex-row text-sidebarText bg-sidebarBackground overflow-clip "+(Ee[2].visible?"opacity-70":"")+" svelte-1m80q9z"))&&L(e,"class",Ge)},i(Ee){Ue||(k(g.$$.fragment,Ee),k(S.$$.fragment,Ee),k(U.$$.fragment,Ee),k(z.$$.fragment,Ee),k(Z.$$.fragment,Ee),k(Ce.$$.fragment,Ee),Ue=!0)},o(Ee){T(g.$$.fragment,Ee),T(S.$$.fragment,Ee),T(U.$$.fragment,Ee),T(z.$$.fragment,Ee),T(Z.$$.fragment,Ee),T(Ce.$$.fragment,Ee),Ue=!1},d(Ee){Ee&&I(e),x(g),x(S),x(U),x(z),x(Z),x(Ce),We&&We.d(),ft(Pe,Ee),Je=!1,Be(Ke)}}}function w4(t,e,n){let o,i,r,l,a;ae(t,De,w=>n(1,o=w)),ae(t,Qe,w=>n(2,i=w)),ae(t,no,w=>n(3,r=w)),ae(t,Ai,w=>n(4,l=w)),ae(t,Ii,w=>n(5,a=w));let s=localStorage.getItem("mute")||"false";function u(){o.hasLab&&di.set(!0)}function f(w){let b=o;b.townInfo.productivity=Pt(w[0],2),De.set(b),localStorage.setItem(Dt,JSON.stringify(b))}function c(w){let b=o;b.economyAndLaws.tax_rate=Pt(w[0],2),De.set(b),localStorage.setItem(Dt,JSON.stringify(b))}const d=function(){Me(no,r=!r,r)},m=function(){Me(Ai,l=!l,l)},p=function(){Me(Ii,a=!a,a)},h=()=>{Me(De,o.townLog=[],o)},g=()=>{localStorage.setItem("mute",s=="false"?"true":s==="true"?"false":"true"),n(0,s=localStorage.getItem("mute")||"false")};return n(0,s=localStorage.getItem("mute")||"false"),[s,o,i,r,l,a,u,f,c,d,m,p,h,g]}class k4 extends me{constructor(e){super(),de(this,e,w4,y4,ce,{})}}function C4(t){let e,n,o,i,r,l,a,s,u,f,c,d,m;return o=new t3({}),l=new k4({}),s=new _4({}),f=new nd({}),d=new id({}),{c(){e=E("div"),n=E("div"),Y(o.$$.fragment),i=q(),r=E("div"),Y(l.$$.fragment),a=q(),Y(s.$$.fragment),u=q(),Y(f.$$.fragment),c=q(),Y(d.$$.fragment),L(r,"class","flex flex-row text-accentText"),L(e,"class","flex flex-col max-h-[100%] justify-between")},m(p,h){O(p,e,h),y(e,n),V(o,n,null),y(e,i),y(e,r),V(l,r,null),y(r,a),V(s,r,null),y(r,u),V(f,r,null),y(r,c),V(d,r,null),m=!0},p:ve,i(p){m||(k(o.$$.fragment,p),k(l.$$.fragment,p),k(s.$$.fragment,p),k(f.$$.fragment,p),k(d.$$.fragment,p),m=!0)},o(p){T(o.$$.fragment,p),T(l.$$.fragment,p),T(s.$$.fragment,p),T(f.$$.fragment,p),T(d.$$.fragment,p),m=!1},d(p){p&&I(e),x(o),x(l),x(s),x(f),x(d)}}}class T4 extends me{constructor(e){super(),de(this,e,null,C4,ce,{})}}function A4(t){let e=t[1].townInfo.name+"",n;return{c(){n=G(e)},m(o,i){O(o,n,i)},p(o,i){i&2&&e!==(e=o[1].townInfo.name+"")&&fe(n,e)},d(o){o&&I(n)}}}function S4(t){let e,n,o,i=t[1].townInfo.name+"",r,l,a,s;return{c(){e=E("span"),n=G("The town of "),o=E("span"),r=G(i),l=G(` has been
          founded!`),a=q(),s=E("span"),s.textContent="Start by building some homes, some farms, and a tree farm.",L(o,"class","text-accent")},m(u,f){O(u,e,f),y(e,n),y(e,o),y(o,r),y(e,l),O(u,a,f),O(u,s,f)},p(u,f){f&2&&i!==(i=u[1].townInfo.name+"")&&fe(r,i)},d(u){u&&(I(e),I(a),I(s))}}}function I4(t){let e,n,o,i;return e=new bn({props:{class:"text-xl font-semibold text-center",$$slots:{default:[A4]},$$scope:{ctx:t}}}),o=new Bn({props:{class:"text-center mt-2 text-sm text-sidebarText/80 flex flex-col gap-2",$$slots:{default:[S4]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment),n=q(),Y(o.$$.fragment)},m(r,l){V(e,r,l),O(r,n,l),V(o,r,l),i=!0},p(r,l){const a={};l&18&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&18&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){T(e.$$.fragment,r),T(o.$$.fragment,r),i=!1},d(r){r&&I(n),x(e,r),x(o,r)}}}function O4(t){let e,n,o;return{c(){e=E("button"),e.textContent="Begin",L(e,"class","bg-accent hover:bg-accent/80 text-white px-4 py-2 rounded-md transition-colors")},m(i,r){O(i,e,r),n||(o=ee(e,"click",t[2]),n=!0)},p:ve,d(i){i&&I(e),n=!1,o()}}}function M4(t){let e,n,o,i;return e=new vn({props:{$$slots:{default:[I4]},$$scope:{ctx:t}}}),o=new qn({props:{class:"mt-4 flex justify-center",$$slots:{default:[O4]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment),n=q(),Y(o.$$.fragment)},m(r,l){V(e,r,l),O(r,n,l),V(o,r,l),i=!0},p(r,l){const a={};l&18&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&17&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){T(e.$$.fragment,r),T(o.$$.fragment,r),i=!1},d(r){r&&I(n),x(e,r),x(o,r)}}}function P4(t){let e,n;return e=new yn({props:{transition:Yo,class:"bg-sidebarBackground text-sidebarText max-w-md rounded-md shadow-xl border border-accent p-4",$$slots:{default:[M4]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,i){const r={};i&19&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function N4(t){let e,n,o;function i(l){t[3](l)}let r={$$slots:{default:[P4]},$$scope:{ctx:t}};return t[0]!==void 0&&(r.open=t[0]),e=new wn({props:r}),Ne.push(()=>tn(e,"open",i)),{c(){Y(e.$$.fragment)},m(l,a){V(e,l,a),o=!0},p(l,[a]){const s={};a&19&&(s.$$scope={dirty:a,ctx:l}),!n&&a&1&&(n=!0,s.open=l[0],en(()=>n=!1)),e.$set(s)},i(l){o||(k(e.$$.fragment,l),o=!0)},o(l){T(e.$$.fragment,l),o=!1},d(l){x(e,l)}}}function E4(t,e,n){let o,i;ae(t,ci,a=>n(0,o=a)),ae(t,De,a=>n(1,i=a));const r=()=>Me(ci,o=!1,o);function l(a){o=a,ci.set(o)}return[o,i,r,l]}class R4 extends me{constructor(e){super(),de(this,e,E4,N4,ce,{})}}function cf(t,e,n){const o=t.slice();return o[7]=e[n],o}function L4(t){let e,n,o=t[0].townInfo.name+"",i,r,l,a,s=t[0].resources.bureaucracy+"",u;return{c(){e=E("div"),n=E("span"),i=G(o),r=q(),l=E("span"),a=G("🧑‍⚖️ "),u=G(s),L(e,"class","flex justify-between mr-10")},m(f,c){O(f,e,c),y(e,n),y(n,i),y(e,r),y(e,l),y(l,a),y(l,u)},p(f,c){c&1&&o!==(o=f[0].townInfo.name+"")&&fe(i,o),c&1&&s!==(s=f[0].resources.bureaucracy+"")&&fe(u,s)},d(f){f&&I(e)}}}function df(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,p,h=t[0].townInfo.guardians+"",g,w,b,C,N,F=t[0].townInfo.population_count-t[0].townInfo.employees+"",P,D,H;return e=new St({props:{class:"mb-4"}}),d=new $t({props:{class:`bg-accent rounded-2xl h-min select-none
            `+(t[0].townInfo.guardians<=0?"opacity-50 cursor-not-allowed":"")+`
            `,$$slots:{default:[D4]},$$scope:{ctx:t}}}),d.$on("click",t[2]),b=new $t({props:{class:`bg-accent rounded-2xl h-min select-none
            
              `+(t[0].townInfo.employees>=t[0].townInfo.population_count?"opacity-50 cursor-not-allowed":"")+`
            `,$$slots:{default:[$4]},$$scope:{ctx:t}}}),b.$on("click",t[3]),{c(){Y(e.$$.fragment),n=q(),o=E("div"),i=E("span"),i.textContent="Hire Guardians ⚔️",r=q(),l=E("br"),a=q(),s=E("span"),s.textContent=`Guardians work for you and are required to expand your kingdom.
            They do not generate revenue, but still require housing & food.`,u=q(),f=E("div"),c=E("div"),Y(d.$$.fragment),m=q(),p=E("span"),g=G(h),w=q(),Y(b.$$.fragment),C=q(),N=E("span"),P=G(F),D=G(`
              unemployed available for hire.`),L(i,"class","text-lg font-bold"),L(s,"class","text-sm"),L(p,"class","text-lg font-bold select-none px-2"),L(N,"class","w-max"),L(f,"class","flex flex-row justify-between align-middle items-center pt-2 pb-2 gap-2 "),L(o,"class","w-full")},m(M,R){V(e,M,R),O(M,n,R),O(M,o,R),y(o,i),y(o,r),y(o,l),y(o,a),y(o,s),y(o,u),y(o,f),y(f,c),V(d,c,null),y(c,m),y(c,p),y(p,g),y(c,w),V(b,c,null),y(f,C),y(f,N),y(N,P),y(N,D),H=!0},p(M,R){const S={};R&1&&(S.class=`bg-accent rounded-2xl h-min select-none
            `+(M[0].townInfo.guardians<=0?"opacity-50 cursor-not-allowed":"")+`
            `),R&1024&&(S.$$scope={dirty:R,ctx:M}),d.$set(S),(!H||R&1)&&h!==(h=M[0].townInfo.guardians+"")&&fe(g,h);const v={};R&1&&(v.class=`bg-accent rounded-2xl h-min select-none
            
              `+(M[0].townInfo.employees>=M[0].townInfo.population_count?"opacity-50 cursor-not-allowed":"")+`
            `),R&1024&&(v.$$scope={dirty:R,ctx:M}),b.$set(v),(!H||R&1)&&F!==(F=M[0].townInfo.population_count-M[0].townInfo.employees+"")&&fe(P,F)},i(M){H||(k(e.$$.fragment,M),k(d.$$.fragment,M),k(b.$$.fragment,M),H=!0)},o(M){T(e.$$.fragment,M),T(d.$$.fragment,M),T(b.$$.fragment,M),H=!1},d(M){M&&(I(n),I(o)),x(e,M),x(d),x(b)}}}function D4(t){let e;return{c(){e=G("-")},m(n,o){O(n,e,o)},d(n){n&&I(e)}}}function $4(t){let e;return{c(){e=G("+")},m(n,o){O(n,e,o)},d(n){n&&I(e)}}}function F4(t){let e;return{c(){e=G("Build a City Hall to manage your city.")},m(n,o){O(n,e,o)},p:ve,i:ve,o:ve,d(n){n&&I(e)}}}function j4(t){let e,n,o,i,r=Ve(Lr),l=[];for(let s=0;s<r.length;s+=1)l[s]=mf(cf(t,r,s));const a=s=>T(l[s],1,1,()=>{l[s]=null});return{c(){e=E("span"),e.textContent="Laws 🧑‍⚖️",n=q();for(let s=0;s<l.length;s+=1)l[s].c();o=Re(),L(e,"class","text-lg font-bold")},m(s,u){O(s,e,u),O(s,n,u);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(s,u);O(s,o,u),i=!0},p(s,u){if(u&1){r=Ve(Lr);let f;for(f=0;f<r.length;f+=1){const c=cf(s,r,f);l[f]?(l[f].p(c,u),k(l[f],1)):(l[f]=mf(c),l[f].c(),k(l[f],1),l[f].m(o.parentNode,o))}for(Se(),f=r.length;f<l.length;f+=1)a(f);Ie()}},i(s){if(!i){for(let u=0;u<r.length;u+=1)k(l[u]);i=!0}},o(s){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)T(l[u]);i=!1},d(s){s&&(I(e),I(n),I(o)),ft(l,s)}}}function q4(t){let e,n=t[7].cost+"",o;return{c(){e=G("Enact for 🧑‍⚖️ "),o=G(n)},m(i,r){O(i,e,r),O(i,o,r)},d(i){i&&(I(e),I(o))}}}function B4(t){let e;return{c(){e=G("Repeal ❌")},m(n,o){O(n,e,o)},d(n){n&&I(e)}}}function H4(t){let e,n;function o(l,a){return a&1&&(e=null),e==null&&(e=!!l[0].economyAndLaws.enacted.includes(l[7].id)),e?B4:q4}let i=o(t,-1),r=i(t);return{c(){r.c(),n=Re()},m(l,a){r.m(l,a),O(l,n,a)},p(l,a){i!==(i=o(l,a))&&(r.d(1),r=i(l),r&&(r.c(),r.m(n.parentNode,n)))},d(l){l&&I(n),r.d(l)}}}function mf(t){let e,n,o,i,r,l,a;function s(){return t[4](t[7])}return i=new $t({props:{class:`bg-accent rounded-2xl 
                `+(t[0].economyAndLaws.enacted.includes(t[7].id)?"bg-textDanger":"bg-accent")+`

                `+(t[0].economyAndLaws.enacted.includes(t[7].id)||t[7].cost<=t[0].resources.bureaucracy?"cursor-pointer":"cursor-not-allowed opacity-30")+`
                `,$$slots:{default:[H4]},$$scope:{ctx:t}}}),i.$on("click",s),l=new St({props:{class:"bg-white opacity-30"}}),{c(){e=E("div"),n=E("span"),n.textContent=`${t[7].description}`,o=q(),Y(i.$$.fragment),r=q(),Y(l.$$.fragment),L(n,"class","text-sm"),L(e,"class","flex justify-between align-middle items-center pt-2 pb-2 gap-2 ")},m(u,f){O(u,e,f),y(e,n),y(e,o),V(i,e,null),O(u,r,f),V(l,u,f),a=!0},p(u,f){t=u;const c={};f&1&&(c.class=`bg-accent rounded-2xl 
                `+(t[0].economyAndLaws.enacted.includes(t[7].id)?"bg-textDanger":"bg-accent")+`

                `+(t[0].economyAndLaws.enacted.includes(t[7].id)||t[7].cost<=t[0].resources.bureaucracy?"cursor-pointer":"cursor-not-allowed opacity-30")+`
                `),f&1025&&(c.$$scope={dirty:f,ctx:t}),i.$set(c)},i(u){a||(k(i.$$.fragment,u),k(l.$$.fragment,u),a=!0)},o(u){T(i.$$.fragment,u),T(l.$$.fragment,u),a=!1},d(u){u&&(I(e),I(r)),x(i),x(l,u)}}}function G4(t){let e,n,o,i,r=$e("city_hall",t[0]).length>0,l,a,s,u,f,c,d,m;e=new bn({props:{class:"text-lg",$$slots:{default:[L4]},$$scope:{ctx:t}}}),o=new Bn({props:{class:"w-full "}});let p=r&&df(t);a=new St({props:{class:"mb-4"}});const h=[j4,F4],g=[];function w(b,C){return C&1&&(f=null),f==null&&(f=$e("city_hall",b[0]).length>0),f?0:1}return c=w(t,-1),d=g[c]=h[c](t),{c(){Y(e.$$.fragment),n=q(),Y(o.$$.fragment),i=q(),p&&p.c(),l=q(),Y(a.$$.fragment),s=q(),u=E("div"),d.c(),L(u,"class","w-full")},m(b,C){V(e,b,C),O(b,n,C),V(o,b,C),O(b,i,C),p&&p.m(b,C),O(b,l,C),V(a,b,C),O(b,s,C),O(b,u,C),g[c].m(u,null),m=!0},p(b,C){const N={};C&1025&&(N.$$scope={dirty:C,ctx:b}),e.$set(N),C&1&&(r=$e("city_hall",b[0]).length>0),r?p?(p.p(b,C),C&1&&k(p,1)):(p=df(b),p.c(),k(p,1),p.m(l.parentNode,l)):p&&(Se(),T(p,1,1,()=>{p=null}),Ie());let F=c;c=w(b,C),c===F?g[c].p(b,C):(Se(),T(g[F],1,1,()=>{g[F]=null}),Ie(),d=g[c],d?d.p(b,C):(d=g[c]=h[c](b),d.c()),k(d,1),d.m(u,null))},i(b){m||(k(e.$$.fragment,b),k(o.$$.fragment,b),k(p),k(a.$$.fragment,b),k(d),m=!0)},o(b){T(e.$$.fragment,b),T(o.$$.fragment,b),T(p),T(a.$$.fragment,b),T(d),m=!1},d(b){b&&(I(n),I(i),I(l),I(s),I(u)),x(e,b),x(o,b),p&&p.d(b),x(a,b),g[c].d()}}}function W4(t){let e,n,o,i;return e=new vn({props:{$$slots:{default:[G4]},$$scope:{ctx:t}}}),o=new qn({}),{c(){Y(e.$$.fragment),n=q(),Y(o.$$.fragment)},m(r,l){V(e,r,l),O(r,n,l),V(o,r,l),i=!0},p(r,l){const a={};l&1025&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){T(e.$$.fragment,r),T(o.$$.fragment,r),i=!1},d(r){r&&I(n),x(e,r),x(o,r)}}}function V4(t){let e,n;return e=new yn({props:{class:"bg-foreground text-accentText h-[80vh] w-full scroll",$$slots:{default:[W4]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,i){const r={};i&1025&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function x4(t){let e,n,o;function i(l){t[5](l)}let r={$$slots:{default:[V4]},$$scope:{ctx:t}};return t[1]!==void 0&&(r.open=t[1]),e=new wn({props:r}),Ne.push(()=>tn(e,"open",i)),{c(){Y(e.$$.fragment)},m(l,a){V(e,l,a),o=!0},p(l,[a]){const s={};a&1025&&(s.$$scope={dirty:a,ctx:l}),!n&&a&2&&(n=!0,s.open=l[1],en(()=>n=!1)),e.$set(s)},i(l){o||(k(e.$$.fragment,l),o=!0)},o(l){T(e.$$.fragment,l),o=!1},d(l){x(e,l)}}}function Y4(t,e,n){let o,i;ae(t,De,u=>n(0,o=u)),ae(t,Ii,u=>n(1,i=u));const r=()=>{o.townInfo.guardians>0?(Me(De,o.townInfo.guardians-=1,o),Me(De,o.townInfo.employees-=1,o)):Tt.set("No guardians to fire.")},l=()=>{o.townInfo.employees<o.townInfo.population_count?(Me(De,o.townInfo.guardians+=1,o),Me(De,o.townInfo.employees+=1,o)):Tt.set("Not enough people.")},a=u=>{o.economyAndLaws.enacted.includes(u.id)?o.economyAndLaws.enacted.splice(o.economyAndLaws.enacted.indexOf(u.id),1):u.cost<=o.resources.bureaucracy?(Me(De,o.resources.bureaucracy-=u.cost,o),o.economyAndLaws.enacted.push(u.id)):Tt.set("Not enough bureaucracy!")};function s(u){i=u,Ii.set(i)}return t.$$.update=()=>{t.$$.dirty&1},[o,i,r,l,a,s]}class U4 extends me{constructor(e){super(),de(this,e,Y4,x4,ce,{})}}function K4(t){let e;return{c(){e=G("Got it")},m(n,o){O(n,e,o)},d(n){n&&I(e)}}}function X4(t){let e,n,o,i,r,l,a,s;return r=new vc({props:{class:"bg-accent hover:scale-105 min-w-[70%] transition-all duration-150 mt-2",$$slots:{default:[K4]},$$scope:{ctx:t}}}),r.$on("click",t[1]),a=new bl({}),{c(){e=E("span"),n=G("🛎️ "),o=new Kt(!1),i=q(),Y(r.$$.fragment),l=q(),Y(a.$$.fragment),o.a=null,L(e,"class","whitespace-pre-wrap overflow-scroll text-center sm:whitespace-normal break-all sm:text-md sm:font-semibold sm:py-4 sm:items-center sm:justify-center"),tt(e,"max-height","80%")},m(u,f){O(u,e,f),y(e,n),o.m(t[0],e),O(u,i,f),V(r,u,f),O(u,l,f),V(a,u,f),s=!0},p(u,f){(!s||f&1)&&o.p(u[0]);const c={};f&4&&(c.$$scope={dirty:f,ctx:u}),r.$set(c)},i(u){s||(k(r.$$.fragment,u),k(a.$$.fragment,u),s=!0)},o(u){T(r.$$.fragment,u),T(a.$$.fragment,u),s=!1},d(u){u&&(I(e),I(i),I(l)),x(r,u),x(a,u)}}}function J4(t){let e,n;return e=new vl({props:{class:`bg-foregroundDark text-white rounded-input shadow-3xl justify-center items-center flex flex-col py-2 text-lg font-semibold p-2 min-w-96 min-h-36
         sm:rounded-2xl sm:flex sm:flex-col sm:p-6 sm:text-md sm:font-semibold sm:py-4 sm:items-center sm:justify-center max-h-[50vh]

         `,$$slots:{default:[X4]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,i){const r={};i&5&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function Z4(t){let e,n;return e=new yl({props:{open:t[0]!="",$$slots:{default:[J4]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p(o,[i]){const r={};i&1&&(r.open=o[0]!=""),i&5&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function Q4(t,e,n){let o;return ae(t,Tt,r=>n(0,o=r)),[o,()=>{Tt.set("")}]}class z4 extends me{constructor(e){super(),de(this,e,Q4,Z4,ce,{})}}function pf(t){let e,n,o,i;const r=[tC,eC],l=[];function a(s,u){return s[0]==null?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?l[e].p(s,u):(Se(),T(l[f],1,1,()=>{l[f]=null}),Ie(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){T(n),i=!1},d(s){s&&I(o),l[e].d(s)}}}function eC(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,p,h,g,w,b,C,N=t[2]==!0&&hf();n=new T4({}),i=new Nm({}),l=new Ov({}),s=new iy({}),f=new P5({}),d=new Q5({}),p=new U4({}),g=new z4({});let F=t[0].environment.day==0&&t[3]&&_f();return{c(){N&&N.c(),e=q(),Y(n.$$.fragment),o=q(),Y(i.$$.fragment),r=q(),Y(l.$$.fragment),a=q(),Y(s.$$.fragment),u=q(),Y(f.$$.fragment),c=q(),Y(d.$$.fragment),m=q(),Y(p.$$.fragment),h=q(),Y(g.$$.fragment),w=q(),F&&F.c(),b=Re()},m(P,D){N&&N.m(P,D),O(P,e,D),V(n,P,D),O(P,o,D),V(i,P,D),O(P,r,D),V(l,P,D),O(P,a,D),V(s,P,D),O(P,u,D),V(f,P,D),O(P,c,D),V(d,P,D),O(P,m,D),V(p,P,D),O(P,h,D),V(g,P,D),O(P,w,D),F&&F.m(P,D),O(P,b,D),C=!0},p(P,D){P[2]==!0?N?D&4&&k(N,1):(N=hf(),N.c(),k(N,1),N.m(e.parentNode,e)):N&&(Se(),T(N,1,1,()=>{N=null}),Ie()),P[0].environment.day==0&&P[3]?F?D&9&&k(F,1):(F=_f(),F.c(),k(F,1),F.m(b.parentNode,b)):F&&(Se(),T(F,1,1,()=>{F=null}),Ie())},i(P){C||(k(N),k(n.$$.fragment,P),k(i.$$.fragment,P),k(l.$$.fragment,P),k(s.$$.fragment,P),k(f.$$.fragment,P),k(d.$$.fragment,P),k(p.$$.fragment,P),k(g.$$.fragment,P),k(F),C=!0)},o(P){T(N),T(n.$$.fragment,P),T(i.$$.fragment,P),T(l.$$.fragment,P),T(s.$$.fragment,P),T(f.$$.fragment,P),T(d.$$.fragment,P),T(p.$$.fragment,P),T(g.$$.fragment,P),T(F),C=!1},d(P){P&&(I(e),I(o),I(r),I(a),I(u),I(c),I(m),I(h),I(w),I(b)),N&&N.d(P),x(n,P),x(i,P),x(l,P),x(s,P),x(f,P),x(d,P),x(p,P),x(g,P),F&&F.d(P)}}}function tC(t){let e,n;return e=new Xv({}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},p:ve,i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function hf(t){let e,n;return e=new gv({}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function _f(t){let e,n;return e=new R4({}),{c(){Y(e.$$.fragment)},m(o,i){V(e,o,i),n=!0},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function nC(t){let e,n,o=(t[1]||t[0]==null)&&pf(t);return{c(){o&&o.c(),e=Re()},m(i,r){o&&o.m(i,r),O(i,e,r),n=!0},p(i,[r]){i[1]||i[0]==null?o?(o.p(i,r),r&3&&k(o,1)):(o=pf(i),o.c(),k(o,1),o.m(e.parentNode,e)):o&&(Se(),T(o,1,1,()=>{o=null}),Ie())},i(i){n||(k(o),n=!0)},o(i){T(o),n=!1},d(i){i&&I(e),o&&o.d(i)}}}const oC=1e-4;function iC(t,e,n){return{r:Math.round(t.r+(e.r-t.r)*n),g:Math.round(t.g+(e.g-t.g)*n),b:Math.round(t.b+(e.b-t.b)*n)}}function rC(t,e,n){let o,i,r,l,a,s,u;ae(t,to,b=>n(10,o=b)),ae(t,Qe,b=>n(11,i=b)),ae(t,vt,b=>n(2,r=b)),ae(t,De,b=>n(0,l=b)),ae(t,no,b=>n(5,a=b)),ae(t,Eo,b=>n(12,s=b)),ae(t,ci,b=>n(3,u=b));let f=!1;bv();let c=!1;const d=[{r:85,g:60,b:40},{r:115,g:85,b:55},{r:70,g:100,b:50},{r:120,g:65,b:50}];let m=0,p=1,h=0;function g(){const b=iC(d[m],d[p],h);document.body.style.backgroundColor=`rgb(${b.r}, ${b.g}, ${b.b})`,h+=oC,h>=1&&(h=0,m=p,p=(p+1)%d.length),requestAnimationFrame(g)}g(),document.addEventListener("keydown",b=>{if((document.activeElement!=null&&document.activeElement.nodeName==="INPUT"||document.activeElement!=null&&document.activeElement.nodeName=="TEXTAREA")&&b.key!=="Escape")return;switch(b.key.toLowerCase()){case"p":if(r==!0){vt.set(!1);let N=l;N.modifiers.happiness=2,N.modifiers.health=2,Me(De,l=N,l)}else vt.set(!0),Me(Qe,i.visible=!1,i);break;case"escape":b.shiftKey?(Me(vt,r=!0,r),localStorage.setItem("reset","true"),Ti()):i.visible==!0&&Me(Qe,i.visible=!1,i),a==!0&&(no.set(!1),document.querySelectorAll(".plot_container").forEach(F=>{F.style.cursor=""}));break}});function w(b,C,N){if(c==!0)switch(N){case"up":C-=2;break;case"down":C+=1;break;case"left":b-=2;break;case"right":b+=1;break}b<0?b=0:b>l.plots.length&&(b=l.plots.length),C<0?C=0:C>l.plots.length&&(C=l.plots.length);let F=document.querySelectorAll(".plot_container"),P;if(F.forEach(D=>{D.dataset.x=="$x"&&D.dataset.y=="$y"&&(P=D)}),r==!1){if(P.dataset.canBeUpgraded==="true"?Me(Qe,i.visible=!0,i):Me(Qe,i.visible=!1,i),P.dataset.refPlotX!==void 0&&P.dataset.refPlotY!=""?(c=!0,F.forEach(D=>{D.dataset.x==P.dataset.refPlotX&&D.dataset.y==P.dataset.refPlotY&&(P=D,b=parseInt(P.dataset.x),C=parseInt(P.dataset.y))})):c=!1,P.dataset.size!=="1"&&P.dataset.size!==void 0&&(c=!0),Me(Qe,i.x=b,i),Me(Qe,i.y=C,i),F.forEach(D=>{D.classList.remove("selected"),D.style.fontWeight=""}),P.classList.add("selected"),c){let D="4px solid #00800045";P.classList.remove("selected"),P.style.borderTop=D,P.style.borderLeft=D,P.style.fontWeight="600",F.forEach(H=>{const M=parseInt(`${H.dataset.x}`),R=parseInt(`${H.dataset.y}`);M==b+1&&R==C&&(H.style.borderLeft=D,H.style.borderBottom=D),M==b&&R==C+1&&(H.style.borderTop=D,H.style.borderRight=D),M==b+1&&R==C+1&&(H.style.borderBottom=D,H.style.borderRight=D)})}P.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),Me(to,o={},o)}}return t.$$.update=()=>{t.$$.dirty&33&&(l?(Me(Eo,s.visible=!1,s),n(1,f=!0),a==!0&&document.querySelectorAll(".plot_container").forEach(C=>{C.dataset.canbeupgraded=="true"&&(C.style.cursor="pointer",C.style.cursor="url('https://github.com/josephrcox/plots/raw/main/public/liege_place.cur'), auto")})):(Me(Eo,s.visible=!0,s),n(1,f=!1)))},[l,f,r,u,w,a]}class lC extends me{constructor(e){super(),de(this,e,rC,nC,ce,{openPlotMenu:4})}get openPlotMenu(){return this.$$.ctx[4]}}new lC({target:document.getElementById("app")});
