var Jd=Object.defineProperty;var Zd=(t,e,n)=>e in t?Jd(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var dn=(t,e,n)=>(Zd(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();function Qd(t){const e=pako.gzip(JSON.stringify(t));return btoa(String.fromCharCode.apply(null,e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function xd(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=atob(e),o=new Uint8Array(n.length);for(let r=0;r<n.length;r++)o[r]=n.charCodeAt(r);const i=pako.ungzip(o,{to:"string"});return JSON.parse(i)}async function zd(){let t=localStorage.getItem("plots_active_game_db");const e=await Qd(t);console.log("http://localhost:5173/plots/?shareId="+e)}const Kr=window.location.search.substring(1).split("&").reduce((t,e)=>{const[n,o]=e.split("=");return t[n]=o,t},{});if(Kr.shareId!=null||Kr.shareId!=null){console.log("DECRYPING FROM shareId");const t=JSON.parse(xd(Kr.shareId));let e=localStorage.getItem("plots_active_game_db");(e==""||e==null)&&localStorage.setItem("plots_active_game_db",JSON.stringify(t))}else console.log("COMPRESSING GAME TO SHARE"),zd();function Ce(){}const vr=t=>t;function X(t,e){for(const n in e)t[n]=e[n];return t}function mc(t){return t()}function Gs(){return Object.create(null)}function qe(t){t.forEach(mc)}function An(t){return typeof t=="function"}function ce(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let Ti;function em(t,e){return t===e?!0:(Ti||(Ti=document.createElement("a")),Ti.href=e,t===Ti.href)}function tm(t){return Object.keys(t).length===0}function jl(t,...e){if(t==null){for(const o of e)o(void 0);return Ce}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function pc(t){let e;return jl(t,n=>e=n)(),e}function fe(t,e,n){t.$$.on_destroy.push(jl(e,n))}function me(t,e,n,o){if(t){const i=hc(t,e,n,o);return t[0](i)}}function hc(t,e,n,o){return t[1]&&o?X(n.ctx.slice(),t[1](o(e))):n.ctx}function pe(t,e,n,o){if(t[2]&&o){const i=t[2](o(n));if(e.dirty===void 0)return i;if(typeof i=="object"){const r=[],l=Math.max(e.dirty.length,i.length);for(let a=0;a<l;a+=1)r[a]=e.dirty[a]|i[a];return r}return e.dirty|i}return e.dirty}function he(t,e,n,o,i,r){if(i){const l=hc(e,n,o,r);t.p(l,i)}}function _e(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let o=0;o<n;o++)e[o]=-1;return e}return-1}function Ne(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function re(t,e){const n={};e=new Set(e);for(const o in t)!e.has(o)&&o[0]!=="$"&&(n[o]=t[o]);return n}function Ee(t,e,n){return t.set(n),e}function je(t){return t&&An(t.destroy)?t.destroy:Ce}const _c=typeof window<"u";let Bl=_c?()=>window.performance.now():()=>Date.now(),Vl=_c?t=>requestAnimationFrame(t):Ce;const lo=new Set;function gc(t){lo.forEach(e=>{e.c(t)||(lo.delete(e),e.f())}),lo.size!==0&&Vl(gc)}function Gl(t){let e;return lo.size===0&&Vl(gc),{promise:new Promise(n=>{lo.add(e={c:t,f:n})}),abort(){lo.delete(e)}}}function v(t,e){t.appendChild(e)}function bc(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function nm(t){const e=P("style");return e.textContent="/* empty */",om(bc(t),e),e.sheet}function om(t,e){return v(t.head||t,e),e.sheet}function M(t,e,n){t.insertBefore(e,n||null)}function I(t){t.parentNode&&t.parentNode.removeChild(t)}function wt(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function P(t){return document.createElement(t)}function yr(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function B(t){return document.createTextNode(t)}function V(){return B(" ")}function Re(){return B("")}function ee(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function N(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}const im=["width","height"];function le(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const o in e)e[o]==null?t.removeAttribute(o):o==="style"?t.style.cssText=e[o]:o==="__value"?t.value=t[o]=e[o]:n[o]&&n[o].set&&im.indexOf(o)===-1?t[o]=e[o]:N(t,o,e[o])}function Ki(t,e){for(const n in e)N(t,n,e[n])}function rm(t,e){Object.keys(e).forEach(n=>{lm(t,n,e[n])})}function lm(t,e,n){const o=e.toLowerCase();o in t?t[o]=typeof t[o]=="boolean"&&n===""?!0:n:e in t?t[e]=typeof t[e]=="boolean"&&n===""?!0:n:N(t,e,n)}function bn(t){return/-/.test(t)?rm:le}function sm(t){return Array.from(t.childNodes)}function ae(t,e){e=""+e,t.data!==e&&(t.data=e)}function xt(t,e){t.value=e??""}function Je(t,e,n,o){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,"")}function Hs(t,e,n){for(let o=0;o<t.options.length;o+=1){const i=t.options[o];if(i.__value===e){i.selected=!0;return}}t.selectedIndex=-1}function mn(t,e,n){t.classList.toggle(e,!!n)}function vc(t,e,{bubbles:n=!1,cancelable:o=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:o})}class pn{constructor(e=!1){dn(this,"is_svg",!1);dn(this,"e");dn(this,"n");dn(this,"t");dn(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,n,o=null){this.e||(this.is_svg?this.e=yr(n.nodeName):this.e=P(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(e)),this.i(o)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)M(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(I)}}const Ui=new Map;let Yi=0;function am(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function um(t,e){const n={stylesheet:nm(e),rules:{}};return Ui.set(t,n),n}function Xi(t,e,n,o,i,r,l,a=0){const s=16.666/o;let u=`{
`;for(let y=0;y<=1;y+=s){const w=e+(n-e)*r(y);u+=y*100+`%{${l(w,1-w)}}
`}const f=u+`100% {${l(n,1-n)}}
}`,c=`__svelte_${am(f)}_${a}`,d=bc(t),{stylesheet:p,rules:h}=Ui.get(d)||um(d,t);h[c]||(h[c]=!0,p.insertRule(`@keyframes ${c} ${f}`,p.cssRules.length));const _=t.style.animation||"";return t.style.animation=`${_?`${_}, `:""}${c} ${o}ms linear ${i}ms 1 both`,Yi+=1,c}function Ji(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?r=>r.indexOf(e)<0:r=>r.indexOf("__svelte")===-1),i=n.length-o.length;i&&(t.style.animation=o.join(", "),Yi-=i,Yi||fm())}function fm(){Vl(()=>{Yi||(Ui.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&I(e)}),Ui.clear())})}let Uo;function Wo(t){Uo=t}function ei(){if(!Uo)throw new Error("Function called outside component initialization");return Uo}function wr(t){ei().$$.on_mount.push(t)}function cm(t){ei().$$.on_destroy.push(t)}function dm(){const t=ei();return(e,n,{cancelable:o=!1}={})=>{const i=t.$$.callbacks[e];if(i){const r=vc(e,n,{cancelable:o});return i.slice().forEach(l=>{l.call(t,r)}),!r.defaultPrevented}return!0}}function kr(t,e){return ei().$$.context.set(t,e),e}function Cr(t){return ei().$$.context.get(t)}function oe(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(o=>o.call(this,e))}const oo=[],Ie=[];let so=[];const dl=[],yc=Promise.resolve();let ml=!1;function wc(){ml||(ml=!0,yc.then(kc))}function Hl(){return wc(),yc}function nt(t){so.push(t)}function Vn(t){dl.push(t)}const Ur=new Set;let zn=0;function kc(){if(zn!==0)return;const t=Uo;do{try{for(;zn<oo.length;){const e=oo[zn];zn++,Wo(e),mm(e.$$)}}catch(e){throw oo.length=0,zn=0,e}for(Wo(null),oo.length=0,zn=0;Ie.length;)Ie.pop()();for(let e=0;e<so.length;e+=1){const n=so[e];Ur.has(n)||(Ur.add(n),n())}so.length=0}while(oo.length);for(;dl.length;)dl.pop()();ml=!1,Ur.clear(),Wo(t)}function mm(t){if(t.fragment!==null){t.update(),qe(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(nt)}}function pm(t){const e=[],n=[];so.forEach(o=>t.indexOf(o)===-1?e.push(o):n.push(o)),n.forEach(o=>o()),so=e}let No;function Wl(){return No||(No=Promise.resolve(),No.then(()=>{No=null})),No}function On(t,e,n){t.dispatchEvent(vc(`${e?"intro":"outro"}${n}`))}const qi=new Set;let Ht;function Pe(){Ht={r:0,c:[],p:Ht}}function Oe(){Ht.r||qe(Ht.c),Ht=Ht.p}function A(t,e){t&&t.i&&(qi.delete(t),t.i(e))}function T(t,e,n,o){if(t&&t.o){if(qi.has(t))return;qi.add(t),Ht.c.push(()=>{qi.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}else o&&o()}const $l={duration:0};function Yt(t,e,n){const o={direction:"in"};let i=e(t,n,o),r=!1,l,a,s=0;function u(){l&&Ji(t,l)}function f(){const{delay:d=0,duration:p=300,easing:h=vr,tick:_=Ce,css:y}=i||$l;y&&(l=Xi(t,0,1,p,d,h,y,s++)),_(0,1);const w=Bl()+d,C=w+p;a&&a.abort(),r=!0,nt(()=>On(t,!0,"start")),a=Gl(k=>{if(r){if(k>=C)return _(1,0),On(t,!0,"end"),u(),r=!1;if(k>=w){const D=h((k-w)/p);_(D,1-D)}}return r})}let c=!1;return{start(){c||(c=!0,Ji(t),An(i)?(i=i(o),Wl().then(f)):f())},invalidate(){c=!1},end(){r&&(u(),r=!1)}}}function Xt(t,e,n){const o={direction:"out"};let i=e(t,n,o),r=!0,l;const a=Ht;a.r+=1;let s;function u(){const{delay:f=0,duration:c=300,easing:d=vr,tick:p=Ce,css:h}=i||$l;h&&(l=Xi(t,1,0,c,f,d,h));const _=Bl()+f,y=_+c;nt(()=>On(t,!1,"start")),"inert"in t&&(s=t.inert,t.inert=!0),Gl(w=>{if(r){if(w>=y)return p(0,1),On(t,!1,"end"),--a.r||qe(a.c),!1;if(w>=_){const C=d((w-_)/c);p(1-C,C)}}return r})}return An(i)?Wl().then(()=>{i=i(o),u()}):u(),{end(f){f&&"inert"in t&&(t.inert=s),f&&i.tick&&i.tick(1,0),r&&(l&&Ji(t,l),r=!1)}}}function Kt(t,e,n,o){let r=e(t,n,{direction:"both"}),l=o?0:1,a=null,s=null,u=null,f;function c(){u&&Ji(t,u)}function d(h,_){const y=h.b-l;return _*=Math.abs(y),{a:l,b:h.b,d:y,duration:_,start:h.start,end:h.start+_,group:h.group}}function p(h){const{delay:_=0,duration:y=300,easing:w=vr,tick:C=Ce,css:k}=r||$l,D={start:Bl()+_,b:h};h||(D.group=Ht,Ht.r+=1),"inert"in t&&(h?f!==void 0&&(t.inert=f):(f=t.inert,t.inert=!0)),a||s?s=D:(k&&(c(),u=Xi(t,l,h,y,_,w,k)),h&&C(0,1),a=d(D,y),nt(()=>On(t,h,"start")),Gl(G=>{if(s&&G>s.start&&(a=d(s,y),s=null,On(t,a.b,"start"),k&&(c(),u=Xi(t,l,a.b,a.duration,0,w,r.css))),a){if(G>=a.end)C(l=a.b,1-l),On(t,a.b,"end"),s||(a.b?c():--a.group.r||qe(a.group.c)),a=null;else if(G>=a.start){const L=G-a.start;l=a.a+a.d*w(L/a.duration),C(l,1-l)}}return!!(a||s)}))}return{run(h){An(r)?Wl().then(()=>{r=r({direction:h?"in":"out"}),p(h)}):p(h)},end(){c(),a=s=null}}}function Ye(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function hm(t,e){T(t,1,1,()=>{e.delete(t.key)})}function _m(t,e,n,o,i,r,l,a,s,u,f,c){let d=t.length,p=r.length,h=d;const _={};for(;h--;)_[t[h].key]=h;const y=[],w=new Map,C=new Map,k=[];for(h=p;h--;){const j=c(i,r,h),F=n(j);let E=l.get(F);E?k.push(()=>E.p(j,e)):(E=u(F,j),E.c()),w.set(F,y[h]=E),F in _&&C.set(F,Math.abs(h-_[F]))}const D=new Set,G=new Set;function L(j){A(j,1),j.m(a,f),l.set(j.key,j),f=j.first,p--}for(;d&&p;){const j=y[p-1],F=t[d-1],E=j.key,U=F.key;j===F?(f=j.first,d--,p--):w.has(U)?!l.has(E)||D.has(E)?L(j):G.has(U)?d--:C.get(E)>C.get(U)?(G.add(E),L(j)):(D.add(U),d--):(s(F,l),d--)}for(;d--;){const j=t[d];w.has(j.key)||s(j,l)}for(;p;)L(y[p-1]);return qe(k),y}function ve(t,e){const n={},o={},i={$$scope:1};let r=t.length;for(;r--;){const l=t[r],a=e[r];if(a){for(const s in l)s in a||(o[s]=1);for(const s in a)i[s]||(n[s]=a[s],i[s]=1);t[r]=a}else for(const s in l)i[s]=1}for(const l in o)l in n||(n[l]=void 0);return n}function rt(t){return typeof t=="object"&&t!==null?t:{}}function Gn(t,e,n){const o=t.$$.props[e];o!==void 0&&(t.$$.bound[o]=n,n(t.$$.ctx[o]))}function z(t){t&&t.c()}function Q(t,e,n){const{fragment:o,after_update:i}=t.$$;o&&o.m(e,n),nt(()=>{const r=t.$$.on_mount.map(mc).filter(An);t.$$.on_destroy?t.$$.on_destroy.push(...r):qe(r),t.$$.on_mount=[]}),i.forEach(nt)}function x(t,e){const n=t.$$;n.fragment!==null&&(pm(n.after_update),qe(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function gm(t,e){t.$$.dirty[0]===-1&&(oo.push(t),wc(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ye(t,e,n,o,i,r,l=null,a=[-1]){const s=Uo;Wo(t);const u=t.$$={fragment:null,ctx:[],props:r,update:Ce,not_equal:i,bound:Gs(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(s?s.$$.context:[])),callbacks:Gs(),dirty:a,skip_bound:!1,root:e.target||s.$$.root};l&&l(u.root);let f=!1;if(u.ctx=n?n(t,e.props||{},(c,d,...p)=>{const h=p.length?p[0]:d;return u.ctx&&i(u.ctx[c],u.ctx[c]=h)&&(!u.skip_bound&&u.bound[c]&&u.bound[c](h),f&&gm(t,c)),d}):[],u.update(),f=!0,qe(u.before_update),u.fragment=o?o(u.ctx):!1,e.target){if(e.hydrate){const c=sm(e.target);u.fragment&&u.fragment.l(c),c.forEach(I)}else u.fragment&&u.fragment.c();e.intro&&A(t.$$.fragment),Q(t,e.target,e.anchor),kc()}Wo(s)}class we{constructor(){dn(this,"$$");dn(this,"$$set")}$destroy(){x(this,1),this.$destroy=Ce}$on(e,n){if(!An(n))return Ce;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const i=o.indexOf(n);i!==-1&&o.splice(i,1)}}$set(e){this.$$set&&!tm(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const bm="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(bm);const eo=[];function Nn(t,e){return{subscribe:Ue(t,e).subscribe}}function Ue(t,e=Ce){let n;const o=new Set;function i(a){if(ce(t,a)&&(t=a,n)){const s=!eo.length;for(const u of o)u[1](),eo.push(u,t);if(s){for(let u=0;u<eo.length;u+=2)eo[u][0](eo[u+1]);eo.length=0}}}function r(a){i(a(t))}function l(a,s=Ce){const u=[a,s];return o.add(u),o.size===1&&(n=e(i,r)||Ce),a(t),()=>{o.delete(u),o.size===0&&n&&(n(),n=null)}}return{set:i,update:r,subscribe:l}}function ln(t,e,n){const o=!Array.isArray(t),i=o?[t]:t;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const r=e.length<2;return Nn(n,(l,a)=>{let s=!1;const u=[];let f=0,c=Ce;const d=()=>{if(f)return;c();const h=e(o?u[0]:u,l,a);r?l(h):c=An(h)?h:Ce},p=i.map((h,_)=>jl(h,y=>{u[_]=y,f&=~(1<<_),s&&d()},()=>{f|=1<<_}));return s=!0,d(),function(){qe(p),c(),s=!1}})}function Ws(t){return{subscribe:t.subscribe.bind(t)}}const vm={plots:[],timeSpent:0,devMode:!1,lastChangeDay:0,townLog:"",currentTutorialStep:0,townInfo:{name:"Your town",gold:150,population_count:0,population_max:0,employees:0,happiness:150,health:150,community:150,knowledge_points:0,productivity:100},resources:{food:50,wood:300,stone:300,metal:0,power:0,bureaucracy:0},resource_rate:{food:0,wood:0,stone:0,metal:0,bureaucracy:0,knowledge:0},hasCityHall:!1,hasBank:!1,hasHospital:!1,hasLab:!1,modifiers:{happiness:1,health:1,community:1},economyAndLaws:{tax_rate:.1,max_tax_rate:1,weeklyProfit:0,knowledge_gold_market_rates:[]},plotCounts:[],environment:{day:0,year:1},maximums:{health:300,happiness:300,community:300},difficulty:0,endGoal:"land",endGameDetails:{msg:"",win:!1},tick:0,overtime:!1,last_warning_happiness:0,last_warning_health:0,lab:{active_experiment:null,past_experiments:[],xp:0}},ym={username:"",stats:{games_played:0,wins:0,losses:0},achievements:[]},Kl={0:"Easy",1:"Normal",2:"Hard"},wm={0:Math.random()*(.5-.3)+.3,1:Math.random()*(.4-.2)+.2,2:Math.random()*(.4-.2)+.2},km={0:.35,1:.25,2:.25},ie=[{id:"small_homes",title:"🏠 Homes",type:"residential",description:"+16 people",revenue_per_week:0,requirements:{gold:150,plots:[],employees:0,knowledge:0,size:1,xp:0,resources:{food:0,wood:50,stone:10,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:16,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:2,stone:0,metal:0,bureaucracy:0,food:0}},{id:"farm",title:"🥕 Farm",type:"farm",description:"Produces veggies, grains, fruit",revenue_per_week:6,requirements:{gold:80,plots:[],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:10,stone:10,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.03,health:1.03,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:5,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},check_for_variety:!1},{id:"tree_farm",title:"🌲 Tree Farm",type:"lumber",description:"Produces some wood",revenue_per_week:8,requirements:{gold:300,plots:[],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},check_for_variety:!0,styling:"",affordable:null,selected:null,knowledge_points_per_month:0,generated_resources:{food:0,wood:15,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"quarry",title:"⛏️ Quarry",type:"quarry",description:"Produces stone, small amounts of metal",revenue_per_week:0,requirements:{gold:800,plots:[],employees:6,knowledge:0,size:1,xp:0,resources:{food:0,wood:50,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:.98,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:18,metal:1,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"livestock_farm",title:"🐄 Livestock",type:"farm",description:"Makes more money and food than a regular farm, but doesn't bonus from water.",revenue_per_week:42,requirements:{gold:300,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:20,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.1,health:1.05,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:14,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},check_for_variety:!1},{id:"bakery",title:"🥖 Bakery",type:"business",description:"Converts food into some extra cash. Make sure you have enough food.",revenue_per_week:90,requirements:{gold:500,plots:[],employees:3,knowledge:0,size:1,xp:0,resources:{food:0,wood:170,stone:170,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.11,health:.95,community:1},immediate_variable_changes:{happiness:25,health:0,population:0,community:0,bureaucracy:0},check_for_variety:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:15}},{id:"stables",title:"🐴 Stables",type:"business",description:"Makes money and improves health",revenue_per_week:24,requirements:{gold:400,plots:[],employees:2,knowledge:0,size:1,xp:0,resources:{food:0,wood:120,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.2,health:1.2,community:1},immediate_variable_changes:{happiness:5,health:10,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"church",title:"⛪️ Church",type:"recreation",description:"Makes people VERY happy for a short period.",revenue_per_week:0,requirements:{gold:500,plots:[],employees:1,knowledge:0,size:1,xp:0,resources:{food:0,wood:350,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:2,health:1,community:1},immediate_variable_changes:{happiness:50,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"pub",title:"🍻 Pub",type:"recreation",description:"Increases knowledge, happiness, community. Isn't great for health.",revenue_per_week:40,knowledge_points_per_month:1,requirements:{gold:500,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:100,stone:50,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.2,health:.93,community:1.1},immediate_variable_changes:{happiness:10,health:-15,population:0,community:0,bureaucracy:0},check_for_variety:!0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"village_market",title:"🛒 Village Market",type:"shop",description:"Turns food into money. Sells goods and employs many. Makes significantly more money from tourism if you have a Village Inn.",revenue_per_week:180,requirements:{gold:1400,plots:[],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:150,stone:150,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.05,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:35}},{id:"fishery",title:"🐠 Fishery",type:"business",description:"Requires metal but generates a lot of food. Must be near water.",revenue_per_week:35,requirements:{gold:1e3,plots:[],employees:9,knowledge:0,size:1,xp:0,resources:{food:0,wood:500,stone:0,metal:100,power:0,bureaucracy:0},adjacent_plots:["water"]},effect_modifiers:{happiness:1.05,health:1,community:1},immediate_variable_changes:{happiness:15,health:8,population:0,community:0,bureaucracy:0},check_for_variety:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:75,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"neighborhood",title:"🏘️ Neighborhood",type:"residential",description:"+64 people",revenue_per_week:0,requirements:{gold:700,plots:[],employees:0,knowledge:0,size:1,xp:0,resources:{food:0,wood:250,stone:250,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.1,health:1,community:1.1},immediate_variable_changes:{happiness:0,health:0,population:64,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"vineyard",title:"🍇 Vineyard",type:"farm",description:"Makes fair money, lowers health. Generates knowledge too similar to a pub.",revenue_per_week:60,requirements:{gold:700,plots:[],employees:6,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.5,health:.9,community:1},immediate_variable_changes:{happiness:0,health:-10,population:0,community:0,bureaucracy:0},knowledge_points_per_month:3,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"water_wheel",title:"💧 Water Wheel",type:"industrial",description:"Produces small amount of power",revenue_per_week:0,requirements:{gold:800,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:200,stone:50,metal:0,power:0,bureaucracy:0},adjacent_plots:["water"]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:35,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"adv_water_wheel",title:"💧 Adv. Water Wheel",type:"industrial",description:"Produces a large amount of power",revenue_per_week:0,requirements:{gold:1800,plots:[],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:400,stone:150,metal:500,power:0,bureaucracy:0},adjacent_plots:["water"]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:100,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"park",title:"🎪 Park",type:"recreation",description:"Makes people extremely happy & healthy for a period.",revenue_per_week:0,requirements:{gold:800,plots:[],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:100,stone:100,metal:20,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:2,health:2,community:1},immediate_variable_changes:{happiness:40,health:40,population:0,community:40,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"village_inn",title:"🛌 Village Inn",type:"tourism",description:"Enables tourism to your town, which increases revenue at certain stores.",revenue_per_week:23,requirements:{gold:1500,plots:[],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:150,stone:100,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:10,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:20,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"schoolhouse",title:"🏫 Schoolhouse",type:"education",description:"Produces knowledge, costs money to run.",revenue_per_week:0,knowledge_points_per_month:25,requirements:{gold:2500,plots:[],employees:20,knowledge:0,size:1,xp:0,resources:{food:0,wood:500,stone:100,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.05,health:1.1,community:1},immediate_variable_changes:{happiness:15,health:3,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:50,power:20,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"blacksmith",title:"⚒️ Blacksmith",type:"business",description:"Converts metal into tools for money. Make sure you have enough metal!",revenue_per_week:300,requirements:{gold:3e3,plots:[],employees:24,knowledge:0,size:1,xp:0,resources:{food:0,wood:250,stone:250,metal:500,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:.95},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:75,wood:0,stone:0,metal:10,bureaucracy:0,food:0}},{id:"library",title:"📕 Library",type:"recreation",description:"Produces knowledge and happiness",revenue_per_week:0,knowledge_points_per_month:10,requirements:{gold:2e3,plots:[],employees:6,knowledge:0,size:1,xp:0,resources:{food:0,wood:225,stone:100,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.3,health:1,community:1},immediate_variable_changes:{happiness:15,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"lumber_mill",title:"🏭 Lumber Mill",type:"industrial",description:"Increases wood production by 25%, has to be next to a tree farm",revenue_per_week:0,requirements:{gold:4e3,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:300,stone:100,metal:0,power:0,bureaucracy:0},adjacent_plots:["tree_farm"]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:50,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:20,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"general_store",title:"🛒 General Store",type:"shop",description:"Makes the most money of any plot, requires power. Makes significantly more from tourism if you have a Village Inn.",revenue_per_week:500,requirements:{gold:7e3,plots:[],employees:32,knowledge:0,size:1,xp:0,resources:{food:0,wood:1e3,stone:1e3,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.05,health:1,community:1},immediate_variable_changes:{happiness:20,health:0,population:0,community:0,bureaucracy:0},check_for_variety:!1,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:40,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"healing_house",title:"🏥 Healing House",type:"medical",description:"Treats the sick and continuously improves health.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:1e4,plots:[],employees:18,knowledge:0,size:1,xp:0,resources:{food:0,wood:800,stone:1e3,metal:1e3,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.25,health:1.5,community:1},immediate_variable_changes:{happiness:5,health:75,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:30,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"community_center",title:"🫶 Community Center",type:"recreation",description:"Improves community, makes people happier, costs money",revenue_per_week:0,requirements:{gold:19e3,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:1e3,stone:700,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.09,health:1,community:1},immediate_variable_changes:{happiness:50,health:15,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:10,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"town_hall",title:"🗳️ Town Hall",type:"federal",description:"Generates bureaucracy that can be used to pass laws to impact the city and expand. Costs a lot of gold every week.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:3e4,plots:[],employees:48,knowledge:500,size:1,xp:0,resources:{food:0,wood:1250,stone:800,metal:500,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:.98,health:1,community:1.1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:10},level:4,active_costs:{gold:1e3,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"mine",title:"⛏️ Mine",type:"mine",description:"Produces a significant amount of metal and stone.",revenue_per_week:0,requirements:{gold:5e4,plots:[],employees:64,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:150,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:.95,community:1},immediate_variable_changes:{happiness:0,health:0,population:16,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:50,metal:50,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:60,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"academy",title:"🏫 Academy",type:"education",description:"Produces a lot of knowledge, requires high population",revenue_per_week:0,knowledge_points_per_month:90,requirements:{gold:3e4,plots:[],employees:32,knowledge:1e3,size:1,xp:0,resources:{food:0,wood:1600,stone:1600,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:500,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"bank",title:"🏦 Bank",type:"bank",description:"Enables the conversion of knowledge to gold, and increases maximum tax rate so you can make more money.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:75e3,plots:[],employees:32,knowledge:1e3,size:1,xp:0,resources:{food:0,wood:1e3,stone:1e4,metal:5e3,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:.8,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:75,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"lab",title:"🧪 Laboratory",type:"science",description:"Designs things to help the city grow",revenue_per_week:0,knowledge_points_per_month:25,requirements:{gold:1e5,plots:[],employees:24,knowledge:1e4,size:1,xp:0,resources:{food:0,wood:0,stone:1e3,metal:3e3,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:.98,health:.99,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:300,power:35,wood:0,stone:0,metal:0,bureaucracy:0,food:0}}],Eo={empty_unusable:"rgba(21, 40, 20, 0.70)",empty_buildable:"#CBB827",residential:"#de7633",farm:"#6b8f49",lumber:"#8E805C",business:"#9273a5",recreation:"#5277b1",shop:"#d896d8",tourism:"#d896d8",education:"#BFBEEB",medical:"#4a5ba3",bank:"#8477be",federal:"#8477be",science:"#4a5ba3",mine:"#d9874a",quarry:"#868685",industrial:"#868615"};function Zi(t,e=!1){if(t<0)return t==-1?e?Eo.empty_buildable:Eo.empty_unusable:t==-2?Eo.recreation:Eo.empty_unusable;const n=ie[t];return Eo[n.type]}const $s={lab:1,city_hall:1,bank:1,community_center:1,inn:1},Lt="plots_active_game_db",Yo="plots_user_db";function Cm(){const t=["York","London","Paris","Madrid","Rome","Berlin","Vienna","Prague","Warsaw","Oslo","Lisbon","Dublin","Brussels","Amsterdam","Stockholm","Copenhagen","Edinburgh","Moscow","Beijing","Tokyo","Seoul","Bangkok","Delhi","Mumbai","Shanghai","Sydney","Melbourne","Cairo","Dubai","Istanbul","Athens","Budapest","Reykjavik","Helsinki","Tallinn","Riga","Vilnius","Sofia","Bucharest","Belgrade","Zagreb","Sarajevo","Ljubljana","Skopje","Tirana","Podgorica","Thessaloniki","Barcelona","Valencia","Seville","Granada","Malaga","Lyon","Marseille","Toulouse","Nice","Nantes","Strasbourg","Bordeaux","Lille","Venice","Milan","Florence","Naples","Turin","Bologna","Perugia","Genoa","Pisa","Verona","Palermo","Catania","Bari","Padua","Cagliari","Krakow","Gdansk","Poznan","Wroclaw","Lodz","Katowice","Bialystok","Gdynia","Sopot","Bydgoszcz","Lublin","Szczecin","Gorzow","Zakopane","Olsztyn","Torun","Rzeszow","Kielce","Radom","Siedlce","Los","Angeles","Chicago","Houston","Phoenix","San","Antonio","San","Diego","Dallas","San","Jose","Austin","Jacksonville","Fort","Worth","Columbus","Charlotte","Liverpool","Manchester","Glasgow","Birmingham","Leeds","Sheffield","Newcastle","upon","Tyne","Bristol","Nottingham","Leicester","Coventry","Belfast","Reading","Cardiff","Southampton","Aberdeen","Plymouth","Stoke","Trent","Wolverhampton","Swansea","Sunderland","Portsmouth","Yorkshire","Hull","Blackpool","Bradford","Derby","Middlesbrough","Peterborough","Stockton","on","Tees","Brighton","Poole","Bournemouth","Huddersfield","Luton","Oxford","Norwich","Oldham","Cambridge","Exeter","Walsall","Colchester","Watford","Rotherham","Newport","Gateshead","Dundee","Gloucester","Solihull","High","Wycombe","Maidstone","Slough","Basildon","Chelmsford","Salford","Bedford","Stevenage","Woking","Grimsby","Birkenhead","Halifax","Warrington","Gillingham","Wigan","Worcester","Wakefield","Lincoln","Chester","Rochdale","Dagenham","Widnes","St","Albans","Mansfield","Sutton","Coldfield","Crawley","Wokingham","Barnsley","St","Helens","Harrogate","Redditch","Scunthorpe","Nuneaton","Chesterfield","Hemel","Hempstead","Bury","Guildford","Ashford","Telford","Newcastle","under","Lyme","Aylesbury","Halesowen","Shrewsbury","Lowestoft","Loughborough","Cheltenham","Kidderminster","Basingstoke","Rugby","Stourbridge","Southport","Kettering","Royal","Leamington","Spa","Beeston","Farnborough","Wrexham","Banbury","Weymouth","Wallsend","Dartford","Grays","Tamworth","Ashford","Esher","Folkestone","Tonbridge","Taunton","Runcorn","Macclesfield","Keighley","Bridgend","Barnstaple","Letchworth","Garden","City","Worthing","Gosport","Eastleigh","Staines","upon","Thames","Lisburn","Livingston","Bognor","Regis","Scarborough","Cannock","Margate","Chippenham","Rhondda","Maidenhead","Wellingborough","Washington","Camberley","Bootle","Lancaster","Llanelli","Chatham","Cheshunt","Bishop","Auckland","Nelson","Belper","Pontefract","Barry","Braintree","Crosby","Bury","St","Edmunds","Bexhill","Margate","Aldershot","Rowley","Regis","Hoddesdon","Sittingbourne","Rugby","Newquay","Falmouth","Stretford","Camberley","Beverley","Windsor","Rochester","Wickford","Diss","Farnham","Andover","Camberwell","Bermondsey","Lewisham","Wembley","Hayes","Harrow","Ilford","Enfield","Twickenham","Richmond","Brentwood","Edgware","Ealing","Greenwich","Bromley","Hounslow","Romford","Hillingdon","Uxbridge","Wandsworth","Sutton","Kingston","upon","Thames","Bexley","Havering","Barking"],e=["ia","ville","ton","land","field","burgh","ford","wood","port","bay","beach","peak","valley","ridge","hill","dale","island","cape","spring","grove","polis","side","view","shore","haven","place","gardens","plaza","square"],n=["New","Old","North","South","East","West","Upper","Lower","Little","Great","Saint","Fort","Mount","Lake","River","The Village of","The City of","The Town of","The Borough of","The County of","The State of","The Kingdom of","The Empire of","The Republic of","The Commonwealth of","The Union of","The Federation of","Rainy","Sunny","Windy","Frosty","Snowy"];function o(s){return s[Math.floor(Math.random()*s.length)]}let i=o(n),r=o(t),l=o(e),a="";return Math.random()>.5?a=i+" "+r+l:a=r+l,a}let Le=Ue(JSON.parse(localStorage.getItem(Lt)||"null")),tn=Ue(JSON.parse(localStorage.getItem(Yo)||"null"));Tm();function Am(t,e,n,o){let i={...vm};i.economyAndLaws.max_tax_rate=wm[t],i.endGoal=e;let r=[];n=n.replace(/[^a-zA-Z0-9 ]/g,"").trim(),i.townInfo.name=n!=""?n:Cm(),i.difficulty=parseInt(t),o&&(i.devMode=!0,i.townInfo.gold=1e8,i.townInfo.happiness=1e7,i.townInfo.health=1e6,i.townInfo.knowledge_points=1e5,i.modifiers.happiness=1e4,i.modifiers.health=1e4,i.resources.food=1e6,i.resources.wood=1e6,i.resources.stone=1e6,i.resources.metal=1e6);const l=t=="0"?8:t=="1"?12:t=="2"?16:1,a=Math.floor(Math.random()*l/2)+1,s=Math.floor(Math.random()*l/2)+1;for(let u=0;u<l;u++){r.push([]);for(let f=0;f<l;f++){const c=u==a&&f==s?!1:Sm(u,f,l);r[u][f]={id:Math.random().toString(36).substring(2,9),active:!1,x:u,y:f,type:c?-9:-1,typeId:"",mineralSource:c?!1:a===u&&s===f,water:a===u&&s===f?!1:c}}}i.plots=r,localStorage.reset=!1,localStorage.setItem(Lt,JSON.stringify(i)),Le.set(i),location.reload()}function Sm(t,e,n){let o=.06;return t>0&&e>0&&t<n-1&&e<n-1&&(o*=2),(e==Math.round(n/2)||e==Math.round(n/2)-1)&&(o*=5),t==0&&e==0&&(o=0),Math.random()<o}function Tm(){if(localStorage.getItem(Yo)===null){let t=ym;t.username="my_username_click_to_change",localStorage.setItem(Yo,JSON.stringify(t)),tn.set(t)}}function Ks(t,e){var n=Math.pow(10,e);t=parseFloat((t*n).toFixed(11));var o=Math.round(t)/n;return+o.toFixed(e)}function Qi(t,e,n){let o=n.plots[t][e].type;if(n.plots[t][e].type=-1,n.plots[t][e].active=!1,o>-1&&(n.townInfo.population_count-=ie[o].immediate_variable_changes.population,n.townInfo.population_max-=ie[o].immediate_variable_changes.population,n.townInfo.happiness-=ie[o].immediate_variable_changes.happiness,n.townInfo.health-=ie[o].immediate_variable_changes.health,n.modifiers.happiness=Ks(n.modifiers.happiness/ie[o].effect_modifiers.happiness,2),n.modifiers.health=Ks(n.modifiers.health/ie[o].effect_modifiers.health,2),n.townInfo.employees-=ie[o].requirements.employees,(n.plotCounts[o]===void 0||n.plotCounts[o]===null)&&(n.plotCounts[o]=0),n.plotCounts[o]--,(ie[o].requirements.size??1)>1))for(let r=0;r<n.plots.length;r++)for(let l=0;l<n.plots[t].length;l++)n.plots[r][l].referencePlot!=null&&n.plots[r][l].referencePlot[0]===t&&n.plots[r][l].referencePlot[1]===e&&Qi(r,l,n);n.lastChangeDay=n.environment.day,Le.set(n),localStorage.setItem(Lt,JSON.stringify(n))}function et(t,e){let n=[];for(let o=0;o<e.plots.length;o++)for(let i=0;i<e.plots[o].length;i++)e.plots[o][i].active==!1||e.plots[o][i]==null||e.plots[o][i].type===null||e.plots[o][i].type<0||(ie[e.plots[o][i].type].id===t||ie[e.plots[o][i].type].type===t)&&n.push(e.plots[o][i]);return n}function Ul(t=null){localStorage.removeItem(Lt),Le.set(null),t&&(localStorage.setItem(Lt,JSON.stringify(t)),Le.set(t)),location.reload()}function Im(){Cc.update(t=>!t),localStorage.setItem("showOnlyAffordable",localStorage.getItem("showOnlyAffordable")==="true"?"false":"true")}let Qe=Ue({visible:!1,x:0,y:0,isMineralSource:!1}),$o=Ue({visible:!1});function Mm(t){tn.set(t),localStorage.setItem(Yo,JSON.stringify(t))}let fo=Ue({}),ji=Ue(!1),Pt=Ue(!1),pl=Ue(!0),Us=Ue(!1),xi=Ue(!1),zi=Ue(!1),Bi=Ue(!1),er=localStorage.getItem("showCompletedAchievements")==="true"?Ue(!0):Ue(!1),Cc=localStorage.getItem("showOnlyAffordable")==="true"?Ue(!0):Ue(!1),Ac=localStorage.getItem("pauseMenuTab")==="game"?Ue("game"):Ue("achievements"),hl=Ue(750);const ut={unemployment_num:" people can't find jobs.",bored:"People are bored. Try making some new buildings.",vairety:"People don't like going to the same places over and over again. Try making some new buildings.",nobody_home:"Build some homes!",leave_town_num:" people left town because they were unhappy.",new_people_num:" new people moved to town.",people_want_to_move_in:"People want to move in. Build more homes.",high_tax_rate:"People are unhappy with the high tax rate.",very_high_tax_rate:"People are extremely unhappy with the high tax rate.",sickAndDying:"People are sick and dying.",sickAndLeaving:"People are sick and leaving town.",happiness_zero:"The town has fallen into chaos due to extreme unhappiness.",health_zero:"The town has fallen into chaos due to extreme sickness.",population_zero:"The town has been condemned due to lack of population.",win:{land:"You have filled the grid with buildings. You win!"},hospital_advantage:"Because you have a hospital, the town is staying healthier for longer!",notEnoughVariety:"People are sick of going to the same places over and over, add some variety!"},pt={land:{short_title:"Fill the grid",description_title:"You win by filling up all possible plots in the grid, and by meeting some requirements.",win:"You have filled the grid with buildings and met the requirements. Your citizens are happy, fulfilled, hard-working, and healthy. ",requirements:{0:{population_count:200,happiness:100,health:100,employment:1,knowledge:50,required_plots:["pub","small_school","community_center"]},1:{population_count:1e3,happiness:120,health:120,employment:1,knowledge:100,required_plots:["bank"]},2:{population_count:1e3,happiness:200,health:200,employment:1,knowledge:1e3,required_plots:["bank","city_hall"]}}},free_play:{short_title:"Quests",description_title:"Play for as long as you can and build the best city you can while completing quests."}},ze=[{id:"happiness_at_300",title:"Happy Town",description:"One of your towns wins Happiest Town Award!",requirements:"Happiness reaches 300",icon:"😍",check:t=>t.townInfo.happiness>=300,prize:1e3},{id:"get_educated",title:"Get Educated",description:"The kids are finally able to learn!",requirements:"Build a school or library",icon:"📌",check:t=>et("small_school",t).length!==0||et("large_school",t).length!==0||et("library",t).length!==0,prize:1850},{id:"10k",title:"$10,000",description:"",requirements:"Gold reaches $10,000",icon:"﹩",check:t=>t.townInfo.gold>=1e4,prize:2500},{id:"25k",title:"$25,000",description:"",requirements:"Gold reaches $25,000",icon:"💵",check:t=>t.townInfo.gold>=25e3,prize:7500},{id:"stayin_frugal",title:"Stayin' Frugal!",description:"",requirements:"Gold under $50 with >=300 population",icon:"🚲",check:t=>t.townInfo.gold<=50&&t.townInfo.population_count>=300,prize:1e4},{id:"profits_to_the_moon",title:"Profits to the moon!",description:"Now you're making dough!",requirements:"Last month profit is over $10,000",icon:"🌛",check:t=>t.economyAndLaws.weeklyProfit>=1e4,prize:15e3},{id:"happily_dying",title:"Happily Dying!",description:"Not something to be proud of...",requirements:"Happiness > 275, health < 25",icon:"🌛",check:t=>t.townInfo.happiness>275&&t.townInfo.health<25,prize:2e4},{id:"long_game",title:"The Long Game",description:"So are you gonna win anytime soon?",requirements:"Still playing after 10,000 days, without winning. ",icon:"🐌",check:t=>t.endGameDetails.win===!1&&t.environment.day>1e4&&t.endGameDetails.msg==="",prize:25e3},{id:"tax_man",title:"Tax man",description:"Set the tax rate to the absolute max that the town will tolerate.",requirements:"",icon:"🙃",check:t=>{let e=Math.floor(t.economyAndLaws.max_tax_rate*20)/20;return t.economyAndLaws.tax_rate===e},prize:1500},{id:"good_job",title:"Good job",description:"Beat 'Fill the grid' with Normal difficulty in under 3,000 days.",requirements:"",icon:"👍",check:t=>t.endGameDetails.win===!0&&t.environment.day<=3e3&&t.difficulty===1&&t.endGoal==="land",prize:1e4},{id:"great_job",title:"Great job",description:"Beat 'Fill the grid' with Normal difficulty in under 2,000 days.",requirements:"",icon:"👏",check:t=>t.endGameDetails.win===!0&&t.environment.day<=2e3&&t.difficulty===1&&t.endGoal==="land",prize:45e3},{id:"superb_job",title:"SUPERB job",description:"Beat 'Fill the grid' with Normal difficulty in under 500 days.",requirements:"",icon:"👌",check:t=>t.endGameDetails.win===!0&&t.environment.day<=500&&t.difficulty===1&&t.endGoal==="land",prize:1e5},{id:"250k",title:"$250,000",description:"",requirements:"Gold reaches $250,000",icon:"💸",check:t=>t.townInfo.gold>=25e4,prize:5e4},{id:"banker",title:"Banker",description:"",requirements:"Build your first bank. ",icon:"🏦",check:t=>et("bank",t).length!==0,prize:5e3},{id:"community",title:"Community Center",description:"",requirements:"Build your first community center. ",icon:"❤️",check:t=>et("community_center",t).length!==0,prize:1e4},{id:"1m",title:"MILLIONAIRE!",description:"",requirements:"Gold reaches $1,000,000",icon:"💰",check:t=>t.townInfo.gold>=1e6,prize:15e4}],Dt=[{message:"My liege, we need places to live! Build the first homes.",isComplete:t=>t.townInfo.population_max>0,goldReward:250},{message:"My liege, the village is going to run out of food soon. Build some farms. ",isComplete:t=>t.townInfo.employees>0,goldReward:250},{message:"My liege, lumber is needed for most buildings. Build a tree farm. ",isComplete:t=>et("tree_farm",t).length>0,goldReward:250},{message:"My liege, for the village to be successful, everyone needs a job. ",isComplete:t=>t.townInfo.employees>=t.townInfo.population_count,goldReward:250},{message:"My liege, the village will need stone and metals to expand. Build a quarry. ",isComplete:t=>et("quarry",t).length>0,goldReward:500},{message:"My liege, things are picking up but we will need far more money. Get weekly revenue to >=200 gold. ",isComplete:t=>t.economyAndLaws.weeklyProfit>=200,goldReward:1e3},{message:"My liege, as the town grows, we need a lot more knowledge. Get to 250 knowledge.  ",isComplete:t=>t.townInfo.knowledge_points>=250,goldReward:1500},{message:"My liege, the village is growing - woohoo! But we need to have more workers. Get the population to 100.",isComplete:t=>t.townInfo.population_count>=100,goldReward:1500},{message:"My liege, some advanced buildings require power. Start generating power with a waterwheel.",isComplete:t=>t.resources.power>0,goldReward:2e3},{message:"My liege, we need more metals. Find a good spot for a mine and build it. ",isComplete:t=>et("mine",t).length>0,goldReward:2e3}];function Sc(t){var e,n,o="";if(typeof t=="string"||typeof t=="number")o+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Sc(t[e]))&&(o&&(o+=" "),o+=n)}else for(n in t)t[n]&&(o&&(o+=" "),o+=n);return o}function Pm(){for(var t,e,n=0,o="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Sc(t))&&(o&&(o+=" "),o+=e);return o}const Yl="-";function Om(t){const e=Em(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:o}=t;function i(l){const a=l.split(Yl);return a[0]===""&&a.length!==1&&a.shift(),Tc(a,e)||Nm(l)}function r(l,a){const s=n[l]||[];return a&&o[l]?[...s,...o[l]]:s}return{getClassGroupId:i,getConflictingClassGroupIds:r}}function Tc(t,e){var l;if(t.length===0)return e.classGroupId;const n=t[0],o=e.nextPart.get(n),i=o?Tc(t.slice(1),o):void 0;if(i)return i;if(e.validators.length===0)return;const r=t.join(Yl);return(l=e.validators.find(({validator:a})=>a(r)))==null?void 0:l.classGroupId}const Ys=/^\[(.+)\]$/;function Nm(t){if(Ys.test(t)){const e=Ys.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function Em(t){const{theme:e,prefix:n}=t,o={nextPart:new Map,validators:[]};return Dm(Object.entries(t.classGroups),n).forEach(([r,l])=>{_l(l,o,r,e)}),o}function _l(t,e,n,o){t.forEach(i=>{if(typeof i=="string"){const r=i===""?e:Xs(e,i);r.classGroupId=n;return}if(typeof i=="function"){if(Rm(i)){_l(i(o),e,n,o);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([r,l])=>{_l(l,Xs(e,r),n,o)})})}function Xs(t,e){let n=t;return e.split(Yl).forEach(o=>{n.nextPart.has(o)||n.nextPart.set(o,{nextPart:new Map,validators:[]}),n=n.nextPart.get(o)}),n}function Rm(t){return t.isThemeGetter}function Dm(t,e){return e?t.map(([n,o])=>{const i=o.map(r=>typeof r=="string"?e+r:typeof r=="object"?Object.fromEntries(Object.entries(r).map(([l,a])=>[e+l,a])):r);return[n,i]}):t}function Lm(t){if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,o=new Map;function i(r,l){n.set(r,l),e++,e>t&&(e=0,o=n,n=new Map)}return{get(r){let l=n.get(r);if(l!==void 0)return l;if((l=o.get(r))!==void 0)return i(r,l),l},set(r,l){n.has(r)?n.set(r,l):i(r,l)}}}const Ic="!";function Fm(t){const e=t.separator,n=e.length===1,o=e[0],i=e.length;return function(l){const a=[];let s=0,u=0,f;for(let _=0;_<l.length;_++){let y=l[_];if(s===0){if(y===o&&(n||l.slice(_,_+i)===e)){a.push(l.slice(u,_)),u=_+i;continue}if(y==="/"){f=_;continue}}y==="["?s++:y==="]"&&s--}const c=a.length===0?l:l.substring(u),d=c.startsWith(Ic),p=d?c.substring(1):c,h=f&&f>u?f-u:void 0;return{modifiers:a,hasImportantModifier:d,baseClassName:p,maybePostfixModifierPosition:h}}}function qm(t){if(t.length<=1)return t;const e=[];let n=[];return t.forEach(o=>{o[0]==="["?(e.push(...n.sort(),o),n=[]):n.push(o)}),e.push(...n.sort()),e}function jm(t){return{cache:Lm(t.cacheSize),splitModifiers:Fm(t),...Om(t)}}const Bm=/\s+/;function Vm(t,e){const{splitModifiers:n,getClassGroupId:o,getConflictingClassGroupIds:i}=e,r=new Set;return t.trim().split(Bm).map(l=>{const{modifiers:a,hasImportantModifier:s,baseClassName:u,maybePostfixModifierPosition:f}=n(l);let c=o(f?u.substring(0,f):u),d=!!f;if(!c){if(!f)return{isTailwindClass:!1,originalClassName:l};if(c=o(u),!c)return{isTailwindClass:!1,originalClassName:l};d=!1}const p=qm(a).join(":");return{isTailwindClass:!0,modifierId:s?p+Ic:p,classGroupId:c,originalClassName:l,hasPostfixModifier:d}}).reverse().filter(l=>{if(!l.isTailwindClass)return!0;const{modifierId:a,classGroupId:s,hasPostfixModifier:u}=l,f=a+s;return r.has(f)?!1:(r.add(f),i(s,u).forEach(c=>r.add(a+c)),!0)}).reverse().map(l=>l.originalClassName).join(" ")}function Gm(){let t=0,e,n,o="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Mc(e))&&(o&&(o+=" "),o+=n);return o}function Mc(t){if(typeof t=="string")return t;let e,n="";for(let o=0;o<t.length;o++)t[o]&&(e=Mc(t[o]))&&(n&&(n+=" "),n+=e);return n}function gl(t,...e){let n,o,i,r=l;function l(s){const u=e.reduce((f,c)=>c(f),t());return n=jm(u),o=n.cache.get,i=n.cache.set,r=a,a(s)}function a(s){const u=o(s);if(u)return u;const f=Vm(s,n);return i(s,f),f}return function(){return r(Gm.apply(null,arguments))}}function Xe(t){const e=n=>n[t]||[];return e.isThemeGetter=!0,e}const Pc=/^\[(?:([a-z-]+):)?(.+)\]$/i,Hm=/^\d+\/\d+$/,Wm=new Set(["px","full","screen"]),$m=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Km=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Um=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Ym=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Xm=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function Zt(t){return Mn(t)||Wm.has(t)||Hm.test(t)}function hn(t){return bo(t,"length",np)}function Mn(t){return!!t&&!Number.isNaN(Number(t))}function Ii(t){return bo(t,"number",Mn)}function Ro(t){return!!t&&Number.isInteger(Number(t))}function Jm(t){return t.endsWith("%")&&Mn(t.slice(0,-1))}function Be(t){return Pc.test(t)}function _n(t){return $m.test(t)}const Zm=new Set(["length","size","percentage"]);function Qm(t){return bo(t,Zm,Oc)}function xm(t){return bo(t,"position",Oc)}const zm=new Set(["image","url"]);function ep(t){return bo(t,zm,ip)}function tp(t){return bo(t,"",op)}function Do(){return!0}function bo(t,e,n){const o=Pc.exec(t);return o?o[1]?typeof e=="string"?o[1]===e:e.has(o[1]):n(o[2]):!1}function np(t){return Km.test(t)&&!Um.test(t)}function Oc(){return!1}function op(t){return Ym.test(t)}function ip(t){return Xm.test(t)}function bl(){const t=Xe("colors"),e=Xe("spacing"),n=Xe("blur"),o=Xe("brightness"),i=Xe("borderColor"),r=Xe("borderRadius"),l=Xe("borderSpacing"),a=Xe("borderWidth"),s=Xe("contrast"),u=Xe("grayscale"),f=Xe("hueRotate"),c=Xe("invert"),d=Xe("gap"),p=Xe("gradientColorStops"),h=Xe("gradientColorStopPositions"),_=Xe("inset"),y=Xe("margin"),w=Xe("opacity"),C=Xe("padding"),k=Xe("saturate"),D=Xe("scale"),G=Xe("sepia"),L=Xe("skew"),j=Xe("space"),F=Xe("translate"),E=()=>["auto","contain","none"],U=()=>["auto","hidden","clip","visible","scroll"],b=()=>["auto",Be,e],g=()=>[Be,e],S=()=>["",Zt,hn],O=()=>["auto",Mn,Be],H=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],R=()=>["solid","dashed","dotted","double","none"],J=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"],te=()=>["start","end","center","between","around","evenly","stretch"],Z=()=>["","0",Be],W=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ne=()=>[Mn,Ii],m=()=>[Mn,Be];return{cacheSize:500,separator:":",theme:{colors:[Do],spacing:[Zt,hn],blur:["none","",_n,Be],brightness:ne(),borderColor:[t],borderRadius:["none","","full",_n,Be],borderSpacing:g(),borderWidth:S(),contrast:ne(),grayscale:Z(),hueRotate:m(),invert:Z(),gap:g(),gradientColorStops:[t],gradientColorStopPositions:[Jm,hn],inset:b(),margin:b(),opacity:ne(),padding:g(),saturate:ne(),scale:ne(),sepia:Z(),skew:m(),space:g(),translate:g()},classGroups:{aspect:[{aspect:["auto","square","video",Be]}],container:["container"],columns:[{columns:[_n]}],"break-after":[{"break-after":W()}],"break-before":[{"break-before":W()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...H(),Be]}],overflow:[{overflow:U()}],"overflow-x":[{"overflow-x":U()}],"overflow-y":[{"overflow-y":U()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ro,Be]}],basis:[{basis:b()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Be]}],grow:[{grow:Z()}],shrink:[{shrink:Z()}],order:[{order:["first","last","none",Ro,Be]}],"grid-cols":[{"grid-cols":[Do]}],"col-start-end":[{col:["auto",{span:["full",Ro,Be]},Be]}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":[Do]}],"row-start-end":[{row:["auto",{span:[Ro,Be]},Be]}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Be]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Be]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal",...te()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...te(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...te(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[C]}],px:[{px:[C]}],py:[{py:[C]}],ps:[{ps:[C]}],pe:[{pe:[C]}],pt:[{pt:[C]}],pr:[{pr:[C]}],pb:[{pb:[C]}],pl:[{pl:[C]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Be,e]}],"min-w":[{"min-w":[Be,e,"min","max","fit"]}],"max-w":[{"max-w":[Be,e,"none","full","min","max","fit","prose",{screen:[_n]},_n]}],h:[{h:[Be,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Be,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Be,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Be,e,"auto","min","max","fit"]}],"font-size":[{text:["base",_n,hn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ii]}],"font-family":[{font:[Do]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Be]}],"line-clamp":[{"line-clamp":["none",Mn,Ii]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Zt,Be]}],"list-image":[{"list-image":["none",Be]}],"list-style-type":[{list:["none","disc","decimal",Be]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...R(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Zt,hn]}],"underline-offset":[{"underline-offset":["auto",Zt,Be]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:g()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Be]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Be]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...H(),xm]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Qm]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},ep]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[h]}],"gradient-via-pos":[{via:[h]}],"gradient-to-pos":[{to:[h]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[r]}],"rounded-s":[{"rounded-s":[r]}],"rounded-e":[{"rounded-e":[r]}],"rounded-t":[{"rounded-t":[r]}],"rounded-r":[{"rounded-r":[r]}],"rounded-b":[{"rounded-b":[r]}],"rounded-l":[{"rounded-l":[r]}],"rounded-ss":[{"rounded-ss":[r]}],"rounded-se":[{"rounded-se":[r]}],"rounded-ee":[{"rounded-ee":[r]}],"rounded-es":[{"rounded-es":[r]}],"rounded-tl":[{"rounded-tl":[r]}],"rounded-tr":[{"rounded-tr":[r]}],"rounded-br":[{"rounded-br":[r]}],"rounded-bl":[{"rounded-bl":[r]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...R(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:R()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...R()]}],"outline-offset":[{"outline-offset":[Zt,Be]}],"outline-w":[{outline:[Zt,hn]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:S()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[Zt,hn]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",_n,tp]}],"shadow-color":[{shadow:[Do]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":J()}],"bg-blend":[{"bg-blend":J()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[o]}],contrast:[{contrast:[s]}],"drop-shadow":[{"drop-shadow":["","none",_n,Be]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[c]}],saturate:[{saturate:[k]}],sepia:[{sepia:[G]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[o]}],"backdrop-contrast":[{"backdrop-contrast":[s]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[c]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[k]}],"backdrop-sepia":[{"backdrop-sepia":[G]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Be]}],duration:[{duration:m()}],ease:[{ease:["linear","in","out","in-out",Be]}],delay:[{delay:m()}],animate:[{animate:["none","spin","ping","pulse","bounce",Be]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[D]}],"scale-x":[{"scale-x":[D]}],"scale-y":[{"scale-y":[D]}],rotate:[{rotate:[Ro,Be]}],"translate-x":[{"translate-x":[F]}],"translate-y":[{"translate-y":[F]}],"skew-x":[{"skew-x":[L]}],"skew-y":[{"skew-y":[L]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Be]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Be]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":g()}],"scroll-mx":[{"scroll-mx":g()}],"scroll-my":[{"scroll-my":g()}],"scroll-ms":[{"scroll-ms":g()}],"scroll-me":[{"scroll-me":g()}],"scroll-mt":[{"scroll-mt":g()}],"scroll-mr":[{"scroll-mr":g()}],"scroll-mb":[{"scroll-mb":g()}],"scroll-ml":[{"scroll-ml":g()}],"scroll-p":[{"scroll-p":g()}],"scroll-px":[{"scroll-px":g()}],"scroll-py":[{"scroll-py":g()}],"scroll-ps":[{"scroll-ps":g()}],"scroll-pe":[{"scroll-pe":g()}],"scroll-pt":[{"scroll-pt":g()}],"scroll-pr":[{"scroll-pr":g()}],"scroll-pb":[{"scroll-pb":g()}],"scroll-pl":[{"scroll-pl":g()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Be]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Zt,hn,Ii]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}function rp(t,{cacheSize:e,prefix:n,separator:o,extend:i={},override:r={}}){Vi(t,"cacheSize",e),Vi(t,"prefix",n),Vi(t,"separator",o);for(const l in r)lp(t[l],r[l]);for(const l in i)sp(t[l],i[l]);return t}function Vi(t,e,n){n!==void 0&&(t[e]=n)}function lp(t,e){if(e)for(const n in e)Vi(t,n,e[n])}function sp(t,e){if(e)for(const n in e){const o=e[n];o!==void 0&&(t[n]=(t[n]||[]).concat(o))}}function ap(t,...e){return typeof t=="function"?gl(bl,t,...e):gl(()=>rp(bl(),t),...e)}const Nc=gl(bl);function up(t){const e=t-1;return e*e*e+1}function Fe(...t){return Nc(Pm(t))}const Ar=(t,e={y:-8,x:0,start:.95,duration:150})=>{const n=getComputedStyle(t),o=n.transform==="none"?"":n.transform,i=(l,a,s)=>{const[u,f]=a,[c,d]=s;return(l-u)/(f-u)*(d-c)+c},r=l=>Object.keys(l).reduce((a,s)=>l[s]===void 0?a:a+`${s}:${l[s]};`,"");return{duration:e.duration??200,delay:0,css:l=>{const a=i(l,[0,1],[e.y??5,0]),s=i(l,[0,1],[e.x??0,0]),u=i(l,[0,1],[e.start??.95,1]);return r({transform:`${o} translate3d(${s}px, ${a}px, 0) scale(${u})`,opacity:l})},easing:up}};function it(t,e){if(e===void 0&&(e=0),t==null||t==null)return 0;t=parseFloat((t*Math.pow(10,e)).toFixed(11));var n=Math.round(t)/Math.pow(10,e);return+n.toFixed(e)}function Yr(t){return t<10?"0"+t:t}function fp(t){let e=Math.floor(t/1e3),n=Math.floor(e/60);e=e%60;let o=Math.floor(n/60);return n=n%60,`${Yr(o)}:${Yr(n)}:${Yr(e)}`}function Te(t){return ie.findIndex(e=>e.id===t)}function Js(t){const n=new RegExp("\\p{Emoji}","u").exec(t);return n?n[0]:null}function vn(t,e=!0){let n=t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,");return e||(n=n.split(".")[0]),n}function co(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Zs(t,e=!0){return t=it(t/(e?3:1),2),t<0?`${t}`:`+${t}`}function Rn(t,e,n,o=!1){if(t<0||t>=n.plots.length||e<0||e>=n.plots[0].length)return!1;let i=[[t-1,e],[t+1,e],[t,e-1],[t,e+1],[t-1,e-1],[t-1,e+1],[t+1,e-1],[t+1,e+1]];for(let r=0;r<i.length;r++){let l=i[r][0],a=i[r][1];if(l>=0&&l<n.plots.length&&a>=0&&a<n.plots[0].length&&n.plots[l][a].water&&(o||n.plots[t][e].active==!0&&n.plots[t][e].type>0&&ie[n.plots[t][e].type].id=="farm"))return!0}return!1}function cp(t,e,n,o){if(t<0||t>=n.plots.length||e<0||e>=n.plots[0].length)return!1;let i=[[t-1,e],[t+1,e],[t,e-1],[t,e+1],[t-1,e-1],[t-1,e+1],[t+1,e-1],[t+1,e+1]],r=!0;for(let l=0;l<o.length;l++){let a=!1;if(o[l]=="water"&&(console.log("water"),Rn(t,e,n,!0))){a=!0;break}for(let s=0;s<i.length;s++){let u=i[s][0],f=i[s][1];if(u>=0&&u<n.plots.length&&f>=0&&f<n.plots[0].length&&n.plots[u][f].active==!0&&n.plots[u][f].type>0&&ie[n.plots[u][f].type].id==o[l]){a=!0;break}}if(!a){r=!1;break}}return r}function dp(t,e=0){let n=t*.92,o=t*1.08;return it(Math.random()*(o-n)+n,e)}const Qs=30;function mp(t){let e=!0;for(let n=0;n<t.plots.length;n++)for(let o=0;o<t.plots[n].length;o++)if(t.plots[n][o].active==!1){e=!1;break}return e}function pp(t){return t.endGameDetails!=null||(t.townInfo.happiness<70&&t.last_warning_happiness+365<t.environment.day&&(alert("Your citizens are very unhappy. You should do something about it."),t.last_warning_happiness=t.environment.day),t.townInfo.health<70&&t.last_warning_health+365<t.environment.day&&(alert("Your citizens are very unhealthy. You should do something about it."),t.last_warning_health=t.environment.day)),t}function hp(t,e,n){return t.resource_rate.food=mt(n.food-e.food,2),t.resource_rate.wood=mt(n.wood-e.wood,2),t.resource_rate.stone=mt(n.stone-e.stone,2),t.resource_rate.metal=mt(n.metal-e.metal,2),t.resource_rate.bureaucracy=mt(n.bureaucracy-e.bureaucracy,2),t}function _p(t){return t.hasBank,t}function gp(t){return t.hasCityHall,t}function bp(t){let e=t.economyAndLaws.knowledge_gold_market_rates[t.economyAndLaws.knowledge_gold_market_rates.length-1]||1;const n=-100,o=8,i=3;let r=Math.random(),l=Math.random()*i;if(r<.4){let a=Math.random()*o;Math.random()<.5?e+=a:e-=a}else Math.random()>.5?e+=l:e-=l;return e<n&&(e+=Math.random()*l/5),e=Math.round(e),t.economyAndLaws.knowledge_gold_market_rates=[...t.economyAndLaws.knowledge_gold_market_rates,e],t}function vl(t){return t.lab.active_experiment==null||t.lab.active_experiment.duration>0&&(t.lab.active_experiment.duration-=1),t}function yl(t){if(t.townInfo.happiness>150){let n=t.townInfo.happiness-150;t.townInfo.happiness-=n*.08,t.townInfo.happiness<150&&(t.townInfo.happiness=150)}if(t.townInfo.health>150){let n=t.townInfo.health-150;t.townInfo.health-=n*.08,t.townInfo.health<150&&(t.townInfo.health=150)}if(t.townInfo.community>150){let n=t.townInfo.community-150;t.townInfo.community-=n*.08,t.townInfo.community<150&&(t.townInfo.community=150)}return t}function vp(t){return t.townInfo.happiness*=t.modifiers.happiness,t.townInfo.health*=t.modifiers.health,t.townInfo.community*=t.modifiers.community,t}function mt(t,e){e===void 0&&(e=0);let n=Math.pow(10,e);return t=parseFloat((t*n).toFixed(11)),+(Math.round(t)/n).toFixed(e)}function yp(t,e,n){let o,i,r,l,a,s;fe(t,hl,m=>n(6,o=m)),fe(t,Le,m=>n(7,i=m)),fe(t,ji,m=>n(8,r=m)),fe(t,zi,m=>n(9,l=m)),fe(t,Pt,m=>n(10,a=m)),fe(t,tn,m=>n(11,s=m));function u(m){m=E(m),m=O(m),m=b(m),m=h(m),m=bp(m),m=pp(m);const $={food:m.resources.food,wood:m.resources.wood,stone:m.resources.stone,metal:m.resources.metal,bureaucracy:m.resources.bureaucracy};m=w(m),m=C(m),m=k(m),m=yl(m),m=Z(m),m=y(m);const K={food:m.resources.food,wood:m.resources.wood,stone:m.resources.stone,metal:m.resources.metal,bureaucracy:m.resources.bureaucracy};return m=hp(m,$,K),m}function f(m){return m=_p(m),m=gp(m),m=_(m),m=vp(m),m=te(m),m}function c(m){return m=g(m),m=S(m),m=U(m),m}function d(m){return m=J(m),m=R(m),m=H(m),m=vl(m),m.overtime==!1&&(m=F(m),m=D(m)),m=j(m),m=G(m),m}function p(){Le.update(m=>{if(m==null||(m.tick++,m.tick%Qs!==0)||a||!m||m.endGameDetails.msg!==""&&m.overtime==!1||m.townInfo.population_count<=0)return m;try{return m.environment.day+=1,m.environment.day%7===0&&(m=u(m)),m.environment.day%30===0&&(m.townLog="",m=f(m)),m.environment.day%90===0&&(m=c(m)),window.location.search.includes("debug=true")&&console.log(m),m=d(m),m}catch($){return console.error("Error in game loop:",$),m}})}Le.subscribe(m=>{m&&localStorage.setItem(Lt,JSON.stringify(m))}),tn.subscribe(m=>{m&&localStorage.setItem(Yo,JSON.stringify(m))});function h(m){let $=!1,K=!1,Y=!1,se=!1;for(let ue=0;ue<m.plots.length;ue++)for(let Se=0;Se<m.plots[ue].length;Se++)if(m.plots[ue][Se].active==!0&&m.plots[ue][Se].type>-1){let De=ie[m.plots[ue][Se].type].id;De=="bank"&&($=!0),De=="city_hall"&&(Y=!0),(De=="small_hospital"||De=="large_hospital")&&(K=!0),De=="lab"&&(se=!0)}return m.hasBank=$,m.hasHospital=K,m.hasCityHall=Y,m.hasLab=se,m}function _(m){const $=m.townInfo.productivity;let K=1;if($>50&&$<100)K=1.05;else{if($==100)return m;$<50?K=1.2:$>100&&$<125?K=.98:$>125&&$<150?K=.96:$>150&&$<175?K=.9:$>175&&$<200&&(K=.8)}const Y=m.townInfo.happiness;return m.townInfo.happines*=K,K>1?m=W(`Happiness has gone up by ${Math.round(m.townInfo.happiness/Y*100)}% due to productivity.`,m):m=W(`Happiness has gone down by ${100-Math.round(m.townInfo.happiness/Y*100)}% due to productivity.`,m),m}function y(m){const $=m.townInfo.population_count;return m.resources.food<$?(m.modifiers.happiness*=.95,m.modifiers.health*=.95,m=W("not enough food",m),m.resources.food=0):m.resources.food-=$,m.resources.food=Math.round(m.resources.food,2),m}function w(m){const $=m.townInfo.productivity;let K=1;$<50?K=.5:$>50&&$<100?K=.75:$==100?K=1:$>100&&$<125?K=1.25:$>125&&$<150?K=1.75:$>150&&$<175?K=3:$>175&&$<200&&(K=5),K=dp(K,2);let Y=et("lumber_mill",m).length*1.25;Y===0&&(Y=1);for(let se=0;se<m.plots.length;se++)for(let ue=0;ue<m.plots[se].length;ue++)if(m.plots[se][ue].active==!0&&m.plots[se][ue].type>-1){let Se=Rn(se,ue,m),De=ie[m.plots[se][ue].type];De.generated_resources!=null&&(m.resources.food+=Math.round(De.generated_resources.food*K)*(Se?2:1),m.resources.wood+=Math.round(De.generated_resources.wood*K*Y),m.resources.stone+=Math.round(De.generated_resources.stone*K),m.resources.metal+=Math.round(De.generated_resources.metal*K),m.resources.bureaucracy+=Math.round(De.generated_resources.bureaucracy*K))}return m.resources.food=Math.round(m.resources.food,2),m.resources.wood=Math.round(m.resources.wood,2),m.resources.stone=Math.round(m.resources.stone,2),m.resources.metal=Math.round(m.resources.metal,2),m.resources.bureaucracy=Math.round(m.resources.bureaucracy,2),m}function C(m){for(let $=0;$<m.plots.length;$++)for(let K=0;K<m.plots[$].length;K++)if(m.plots[$][K].active==!0&&m.plots[$][K].type>-1){let Y=ie[m.plots[$][K].type],se=!1;Object.keys(Y.active_costs).forEach((ue,Se)=>{const De=Object.values(Y.active_costs)[Se];ue!="power"&&(m.townInfo.gold,ue=="gold"?m.townInfo.gold<De?se=!0:m.townInfo.gold-=De:m.resources[ue]<De?se=!0:m.resources[ue]-=De)}),m.plots[$][K].disabled=se,m.plots[$][K].disabled&&(m.townInfo.happiness-=1),se&&ie[m.plots[$][K].type].type=="residential"&&(m.townInfo.population_count-=1,m.townInfo.employees-=1)}return m}function k(m){let $=0;for(let K=0;K<m.plots.length;K++)for(let Y=0;Y<m.plots[K].length;Y++)if(m.plots[K][Y].active==!0&&m.plots[K][Y].type>-1){let se=ie[m.plots[K][Y].type];se.active_costs.power!=0&&($-=se.active_costs.power),se.generated_resources.power!=0&&($+=se.generated_resources.power)}return m.resource_rate.power=$,m.resources.power=$,m}function D(m){if(m.endGoal=="land"&&m.townInfo.population_max==m.townInfo.population_count&&m.townInfo.happiness>=pt.land.requirements[m.difficulty].happiness&&m.townInfo.health>=pt.land.requirements[m.difficulty].health&&m.townInfo.employees/m.townInfo.population_count>=pt.land.requirements[m.difficulty].employment&&m.townInfo.population_count>pt.land.requirements[m.difficulty].population_count&&m.townInfo.knowledge_points>=pt.land.requirements[m.difficulty].knowledge){let K=!0;for(let se=0;se<pt.land.requirements[m.difficulty].required_plots.length;se++){let ue=pt.land.requirements[m.difficulty].required_plots[se];if(et(ue,m)==!1){K=!1;break}}mp(m)&&K&&(m.endGameDetails={msg:pt.land.win,win:!0,still_playing:!1})}return m}function G(m){if(m.devMode)return m;let $=s;for(let K=0;K<ze.length;K++)$.achievements.find(Y=>Y[0]==ze[K].id)==null&&ze[K].check(m)&&($.achievements.push([ze[K].id,m.environment.day,m.townInfo.name]),Ee(Pt,a=!0,a),Ee(zi,l=!0,l));return tn.update(()=>$),m}let L=!1;function j(m){if(L)return m;for(let $=m.currentTutorialStep;$<m.currentTutorialStep+1;$++)if(Dt[$].isComplete(m)){Ee(ji,r=!0,r),L=!0,setTimeout(()=>{Ee(ji,r=!1,r),m.currentTutorialStep++,m.townInfo.gold+=Dt[$].goldReward,L=!1},1e3);break}return console.log(m.currentTutorialStep),m}function F(m){return m.townInfo.happiness<=3&&(m.townInfo.happiness=0,m.endGameDetails={msg:ut.happiness_zero,win:!1,still_playing:!1}),m.townInfo.health<=3&&(m.townInfo.health=3,m.endGameDetails={msg:ut.health_zero,win:!1,still_playing:!1}),m.townInfo.population_count<=0&&m.townInfo.population_max>0&&(m.townInfo.population_count=0,m.endGameDetails={msg:ut.population_zero,win:!1,still_playing:!1}),m}function E(m){let $=m.townInfo.population_count-m.townInfo.employees;return $>0&&(m.townInfo.happiness-=$*.6,m=W($+ut.unemployment_num,m)),m}function U(m){let $=m.plotCounts.reduce((Y,se)=>Y+se,0),K=!1;for(let Y=0;Y<m.plotCounts.length;Y++)m.plotCounts[Y]==null||ie[Y].check_for_variety!=!0||m.plotCounts[Y]/$>=km[m.difficulty]&&(ie[Y].title,K=!0);return K&&(m=W(ut.notEnoughVariety,m),m.modifiers.happiness*.95),m}function b(m){let $=m.townInfo.health,K=0;return $>50||$<Math.random()*50&&($<25?(m=W(ut.sickAndDying,m),m.townInfo.happiness-=10,K=Math.round(m.townInfo.population_count*.1)):(m=W(ut.sickAndLeaving,m),m.townInfo.happiness-=5,K=Math.round(m.townInfo.population_count*.05)),m.townInfo.population_count-=K,m.townInfo.employees-=K),m}function g(m){return m.lastChangeDay+(Math.random()*500+365)<m.environment.day&&m.townInfo.population_count>0&&(m.townInfo.population_count>0&&(m.townInfo.population_count-=1,m.townInfo.employees-=1,m.modifiers.happiness-=.01),m=W(ut.bored,m)),m}function S(m){if(m.townInfo.population_count<m.townInfo.population_max&&m.townInfo.happiness>50){let $=m.townInfo.population_max-m.townInfo.population_count,K=Math.round(m.townInfo.happiness/100*$);m.townInfo.population_count+=K,m.townInfo.population_count>m.townInfo.population_max&&(m.townInfo.population_count=m.townInfo.population_max),m.townInfo.employees+=K,m.townInfo.employees>m.townInfo.population_count&&(m.townInfo.employees=m.townInfo.population_count),m=W(K+ut.new_people_num,m)}if(m.townInfo.happiness<50&&m.townInfo.population_count>0){let $=Math.round((100-m.townInfo.happiness)/5);m.townInfo.population_count-=$,m.townInfo.employees>0&&(m.townInfo.employees-=$),m=W($+ut.leave_town_num,m)}else m.townInfo.population_count==m.townInfo.population_max;return m}function O(m){const $=Math.random();if(m.economyAndLaws.tax_rate>m.economyAndLaws.max_tax_rate&&m.townInfo.population_count>0){let K=1;m.hasBank&&(K=2);const Y=m.difficulty==0?.7:m.difficulty==1?.4:.2;$<Y&&m.economyAndLaws.tax_rate>m.economyAndLaws.max_tax_rate*2*K?(m.modifiers.happiness-=.02,m=W(ut.very_high_tax_rate+"  ("+m.economyAndLaws.tax_rate+"%)",m)):(m.modifiers.happiness-=.01,m=W(ut.high_tax_rate+"  ("+m.economyAndLaws.tax_rate*100+"%)",m))}return m}function H(m){return m.townInfo.happiness<0&&(m.townInfo.happiness=0),m.townInfo.health<0&&(m.townInfo.health=0),m.townInfo.gold<0&&(m.townInfo.gold=0),m.townInfo.employees<0&&(m.townInfo.employees=0),m.townInfo.knowledge_points<0&&(m.townInfo.knowledge_points=0),m.townInfo.population_count<0&&(m.townInfo.population_count=0),m.townInfo.population_max==0&&m.townLog.indexOf(ut.nobody_home)==-1&&(m=W(ut.nobody_home,m)),m.economyAndLaws.weeklyProfit=mt(m.economyAndLaws.weeklyProfit,0),m.townInfo.employees>m.townInfo.population_count&&(m.townInfo.employees=m.townInfo.population_count),m.townInfo.gold=mt(m.townInfo.gold,0),m.townInfo.population_count=mt(m.townInfo.population_count,0),m.townInfo.employees=mt(m.townInfo.employees,0),m.townInfo.population_max=mt(m.townInfo.population_max,0),m.townInfo.happiness=mt(m.townInfo.happiness,2),m.townInfo.health=mt(m.townInfo.health,2),m.townInfo.knowledge_points=mt(m.townInfo.knowledge_points,0),m.townInfo.happiness>m.maximums.happiness&&(m.townInfo.happiness=m.maximums.happiness),m.townInfo.health>m.maximums.health&&(m.townInfo.health=m.maximums.health),m.modifiers.happiness<.5&&(m.modifiers.happiness=.5),m.modifiers.health<.5&&(m.modifiers.health=.5),m.modifiers.community<.5&&(m.modifiers.community=.5),m}function R(m){if(m.modifiers.happiness>1){let K=m.modifiers.happiness-1;m.modifiers.happiness-=K*.1,m.modifiers.happiness<1.05&&(m.modifiers.happiness=1)}if(m.modifiers.community>1){let K=m.modifiers.community-1;m.modifiers.community-=K*.1,m.modifiers.community<1.05&&(m.modifiers.community=1)}if(m.modifiers.health>1)if(et("healing_house",m).length>0){if(m.townLog.indexOf(ut.hospital_advantage)==-1)return m=W(ut.hospital_advantage,m);let K=m.modifiers.health-1;m.modifiers.health-=K*et("healing_house",m)?.03:.06,m.modifiers.health<1.05&&(m.modifiers.health=1)}else{let K=m.modifiers.health-1;m.modifiers.health-=K*.1,m.modifiers.health<1.05&&(m.modifiers.health=1)}else et("healing_house",m).length>0&&(m.modifiers.health+=.1);return m}function J(m){m.economyAndLaws.weeklyProfit=0;for(let $=0;$<m.plots.length;$++)for(let K=0;K<m.plots[$].length;K++)if(m.plots[$][K].active==!0&&m.plots[$][K].type>-1)if(m.plots[$][K].disabled===!0){const Y=ie[m.plots[$][K].type],se=ne(Y.revenue_per_week,m,Y.type)*(m.townInfo.productivity/100)/7;m.townInfo.gold-=se,m=W(`🚨 ${Y.title} at ${K}, ${$} is disabled and costing you $${se} a week!`,m)}else{const Y=ie[m.plots[$][K].type];let se=ne(Y.revenue_per_week,m,Y.type)*(m.townInfo.productivity/100)/7,ue=Rn($,K,m);se*=ue?2:1,m.townInfo.gold+=se,m.economyAndLaws.weeklyProfit+=se*7}return m}function te(m){return et("mine",m).length>0&&(m.modifiers.health-=.01,et("healing_house",m).length==0&&(m=W("The mine is actively hurting the health of the town. Time to look into a healing house.",m))),m}function Z(m){let $=0;for(let K=0;K<m.plots.length;K++)for(let Y=0;Y<m.plots[K].length;Y++)if(m.plots[K][Y].active==!0&&m.plots[K][Y].type>-1){let se=ie[m.plots[K][Y].type];se.knowledge_points_per_month!=null&&(m.townInfo.knowledge_points+=Math.round(se.knowledge_points_per_month/4),$+=se.knowledge_points_per_month)}return m.resource_rate.knowledge=mt($/4,0),m}function W(m,$){return $.townLog="Day "+i.environment.day+" - "+m+`
`+$.townLog,$}function ne(m,$,K){let Y=$.townInfo.happiness/100;Y>1.75?Y=1.75:Y<.75&&(Y=.75),et("village_inn",$).length>0&&K=="shop"&&(Y*=1.3);let se=m*$.economyAndLaws.tax_rate*($.townInfo.population_count/$.townInfo.population_max)*Y;return mt(se,2)}return wr(async()=>{for(;;)localStorage.reset=="true"&&(Ul(),localStorage.setItem("reset","false")),p(),await new Promise(m=>setTimeout(m,o/Qs))}),[p,vl,H,R,yl]}class wp extends we{constructor(e){super(),ye(this,e,yp,null,ce,{mainGameThreadLoop:0,_checkExperiment:1,_fixVariables:2,_bringModifiersBackToNormal:3,_bringStatsBackToNormal:4},null,[-1,-1])}get mainGameThreadLoop(){return this.$$.ctx[0]}get _checkExperiment(){return vl}get _fixVariables(){return this.$$.ctx[2]}get _bringModifiersBackToNormal(){return this.$$.ctx[3]}get _bringStatsBackToNormal(){return yl}}function kp(t){return t[t.length-1]}function gn(t){return Object.keys(t).reduce((e,n)=>t[n]===void 0?e:e+`${n}:${t[n]};`,"")}function Xr(t){return t?!0:void 0}gn({position:"absolute",opacity:0,"pointer-events":"none",margin:0,transform:"translateX(-100%)"});function Ec(t){if(t!==null)return t}function xs(t){function e(n){return n(t),()=>{}}return{subscribe:e}}function Jr(t){if(!Xo)return null;const e=document.querySelector(`[data-melt-id="${t}"]`);return yt(e)?e:null}const jo=t=>new Proxy(t,{get(e,n,o){return Reflect.get(e,n,o)},ownKeys(e){return Reflect.ownKeys(e).filter(n=>n!=="action")}}),zs=t=>typeof t=="function";ct("empty");function ct(t,e){const{stores:n,action:o,returned:i}=e??{},r=(()=>{if(n&&i)return ln(n,a=>{const s=i(a);if(zs(s)){const u=(...f)=>jo({...s(...f),[`data-melt-${t}`]:"",action:o??Ze});return u.action=o??Ze,u}return jo({...s,[`data-melt-${t}`]:"",action:o??Ze})});{const a=i,s=a==null?void 0:a();if(zs(s)){const u=(...f)=>jo({...s(...f),[`data-melt-${t}`]:"",action:o??Ze});return u.action=o??Ze,xs(u)}return xs(jo({...s,[`data-melt-${t}`]:"",action:o??Ze}))}})(),l=o??(()=>{});return l.subscribe=r.subscribe,l}function ea(t,e){const{stores:n,returned:o,action:i}=e,{subscribe:r}=ln(n,a=>o(a).map(s=>jo({...s,[`data-melt-${t}`]:"",action:i??Ze}))),l=i??(()=>{});return l.subscribe=r,l}function Sr(t){const e=r=>r?`${t}-${r}`:t,n=r=>`data-melt-${t}${r?`-${r}`:""}`,o=r=>`[data-melt-${t}${r?`-${r}`:""}]`;return{name:e,attribute:n,selector:o,getEl:r=>document.querySelector(o(r))}}const Xo=typeof document<"u",Rc=t=>typeof t=="function";function Cp(t){return t instanceof Document}function Tr(t){return t instanceof Element}function yt(t){return t instanceof HTMLElement}function ta(t){return t.pointerType==="touch"}function Ap(t){return t!==null&&typeof t=="object"}function Sp(t){return Ap(t)&&"subscribe"in t}function Wt(...t){return(...e)=>{for(const n of t)typeof n=="function"&&n(...e)}}function Ze(){}function ht(t,e,n,o){const i=Array.isArray(e)?e:[e];return i.forEach(r=>t.addEventListener(r,n,o)),()=>{i.forEach(r=>t.removeEventListener(r,n,o))}}function bt(t,e,n,o){const i=Array.isArray(e)?e:[e];if(typeof n=="function"){const r=Ip(l=>n(l));return i.forEach(l=>t.addEventListener(l,r,o)),()=>{i.forEach(l=>t.removeEventListener(l,r,o))}}return()=>void 0}function Tp(t){const e=t.currentTarget;if(!yt(e))return null;const n=new CustomEvent(`m-${t.type}`,{detail:{originalEvent:t},cancelable:!0});return e.dispatchEvent(n),n}function Ip(t){return e=>{const n=Tp(e);if(!(n!=null&&n.defaultPrevented))return t(e)}}function Ir(t,...e){const n={};for(const o of Object.keys(t))e.includes(o)||(n[o]=t[o]);return n}function en(t){return{...t,get:()=>pc(t)}}en.writable=function(t){const e=Ue(t);let n=t;return{subscribe:e.subscribe,set(o){e.set(o),n=o},update(o){const i=o(n);e.set(i),n=i},get(){return n}}};en.derived=function(t,e){const n=new Map,o=()=>{const r=Array.isArray(t)?t.map(l=>l.get()):t.get();return e(r)};return{get:o,subscribe:r=>{const l=[];return(Array.isArray(t)?t:[t]).forEach(s=>{l.push(s.subscribe(()=>{r(o())}))}),r(o()),n.set(r,l),()=>{const s=n.get(r);if(s)for(const u of s)u();n.delete(r)}}}};const Mr=(t,e)=>{const n=en(t),o=(r,l)=>{n.update(a=>{const s=r(a);let u=s;return e&&(u=e({curr:a,next:s})),l==null||l(u),u})};return{...n,update:o,set:r=>{o(()=>r)}}};function Xl(t){return new Promise(e=>setTimeout(e,t))}let Mp="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",Pp=(t=21)=>{let e="",n=t;for(;n--;)e+=Mp[Math.random()*64|0];return e};function Op(){return Pp(10)}function Jl(t){return t.reduce((e,n)=>(e[n]=Op(),e),{})}const st={ALT:"Alt",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",CAPS_LOCK:"CapsLock",CONTROL:"Control",DELETE:"Delete",END:"End",ENTER:"Enter",ESCAPE:"Escape",F1:"F1",F10:"F10",F11:"F11",F12:"F12",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",HOME:"Home",META:"Meta",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp",SHIFT:"Shift",SPACE:" ",TAB:"Tab",CTRL:"Control",ASTERISK:"*",A:"a",P:"p"},Dc=()=>typeof window<"u";function Np(){const t=navigator.userAgentData;return(t==null?void 0:t.platform)??navigator.platform}const Lc=t=>Dc()&&t.test(Np().toLowerCase()),Ep=()=>Dc()&&!!navigator.maxTouchPoints,Rp=()=>Lc(/^mac/)&&!Ep(),Dp=()=>Lc(/mac|iphone|ipad|ipod/i),Lp=()=>Dp()&&!Rp();function Fp(t){const e=t.slice();return e.sort(jp),qp(e)}function qp(t){if(t.length<=1)return t.slice();const e=[];for(let o=0;o<t.length;o++){const i=t[o];for(;e.length>=2;){const r=e[e.length-1],l=e[e.length-2];if((r.x-l.x)*(i.y-l.y)>=(r.y-l.y)*(i.x-l.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let o=t.length-1;o>=0;o--){const i=t[o];for(;n.length>=2;){const r=n[n.length-1],l=n[n.length-2];if((r.x-l.x)*(i.y-l.y)>=(r.y-l.y)*(i.x-l.x))n.pop();else break}n.push(i)}return n.pop(),e.length==1&&n.length==1&&e[0].x==n[0].x&&e[0].y==n[0].y?e:e.concat(n)}function jp(t,e){return t.x<e.x?-1:t.x>e.x?1:t.y<e.y?-1:t.y>e.y?1:0}function Bp(t){const e=t.getBoundingClientRect();return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.right,y:e.bottom},{x:e.left,y:e.bottom}]}function Vp(t){const e=t.flatMap(n=>Bp(n));return Fp(e)}function Gp(t,e){let n=!1;for(let o=0,i=e.length-1;o<e.length;i=o++){const r=e[o].x,l=e[o].y,a=e[i].x,s=e[i].y;l>t.y!=s>t.y&&t.x<(a-r)*(t.y-l)/(s-l)+r&&(n=!n)}return n}const Zr="data-melt-scroll-lock";function na(t,e){if(!t)return;const n=t.style.cssText;return Object.assign(t.style,e),()=>{t.style.cssText=n}}function Hp(t,e,n){if(!t)return;const o=t.style.getPropertyValue(e);return t.style.setProperty(e,n),()=>{o?t.style.setProperty(e,o):t.style.removeProperty(e)}}function Wp(t){const e=t.getBoundingClientRect().left;return Math.round(e)+t.scrollLeft?"paddingLeft":"paddingRight"}function $p(t){const e=document,n=e.defaultView??window,{documentElement:o,body:i}=e;if(i.hasAttribute(Zr))return Ze;i.setAttribute(Zr,"");const l=n.innerWidth-o.clientWidth,a=()=>Hp(o,"--scrollbar-width",`${l}px`),s=Wp(o),u=n.getComputedStyle(i)[s],f=()=>na(i,{overflow:"hidden",[s]:`calc(${u} + ${l}px)`}),c=()=>{const{scrollX:p,scrollY:h,visualViewport:_}=n,y=(_==null?void 0:_.offsetLeft)??0,w=(_==null?void 0:_.offsetTop)??0,C=na(i,{position:"fixed",overflow:"hidden",top:`${-(h-Math.floor(w))}px`,left:`${-(p-Math.floor(y))}px`,right:"0",[s]:`calc(${u} + ${l}px)`});return()=>{C==null||C(),n.scrollTo(p,h)}},d=[a(),Lp()?c():f()];return()=>{d.forEach(p=>p==null?void 0:p()),i.removeAttribute(Zr)}}const Kp=t=>{try{cm(t)}catch{return t}};function Mt(t,e){let n;const o=ln(t,r=>{n==null||n(),n=e(r)}).subscribe(Ze),i=()=>{o(),n==null||n()};return Kp(i),i}function Dn(t){const e={};return Object.keys(t).forEach(n=>{const o=n,i=t[o];e[o]=en(Ue(i))}),e}function Up(t){let e=t.parentElement;for(;yt(e)&&!e.hasAttribute("data-portal");)e=e.parentElement;return e||"body"}function Fc(t,e){return e!==void 0?e:Up(t)==="body"?document.body:null}async function oa(t){const{prop:e,defaultEl:n}=t;if(await Promise.all([Xl(1),Hl]),e===void 0){n==null||n.focus();return}const o=Rc(e)?e(n):e;if(typeof o=="string"){const i=document.querySelector(o);if(!yt(i))return;i.focus()}else yt(o)&&o.focus()}function Qr(t,e,n,o){const i=(t-(isNaN(e)?0:e))%o;let r=Math.abs(i)*2>=o?t+Math.sign(i)*(o-Math.abs(i)):t-i;isNaN(e)?!isNaN(n)&&r>n&&(r=Math.floor(n/o)*o):r<e?r=e:!isNaN(n)&&r>n&&(r=e+Math.floor((n-e)/o)*o);const l=o.toString(),a=l.indexOf("."),s=a>=0?l.length-a:0;if(s>0){const u=Math.pow(10,s);r=Math.round(r*u)/u}return r}Nn(void 0,t=>{function e(o){t(o),t(void 0)}return ht(document,"pointerup",e,{passive:!1,capture:!0})});const Yp=Nn(void 0,t=>{function e(o){o&&o.key===st.ESCAPE&&t(o),t(void 0)}return ht(document,"keydown",e,{passive:!1})}),ia=(t,e={})=>{let n=Ze;function o(i={}){n();const r={enabled:!0,...i},l=Sp(r.enabled)?r.enabled:Nn(r.enabled);n=Wt(Yp.subscribe(a=>{var u;if(!a||!pc(l))return;const s=a.target;if(!(!yt(s)||s.closest("[data-escapee]")!==t)){if(a.preventDefault(),r.ignore){if(Rc(r.ignore)){if(r.ignore(a))return}else if(Array.isArray(r.ignore)&&r.ignore.length>0&&r.ignore.some(f=>f&&s===f))return}(u=r.handler)==null||u.call(r,a)}}),Mt(l,a=>{a?t.dataset.escapee="":delete t.dataset.escapee}))}return o(e),{update:o,destroy(){t.removeAttribute("data-escapee"),n()}}},yn=Math.min,Ct=Math.max,tr=Math.round,Mi=Math.floor,wn=t=>({x:t,y:t}),Xp={left:"right",right:"left",bottom:"top",top:"bottom"},Jp={start:"end",end:"start"};function wl(t,e,n){return Ct(t,yn(e,n))}function vo(t,e){return typeof t=="function"?t(e):t}function kn(t){return t.split("-")[0]}function yo(t){return t.split("-")[1]}function qc(t){return t==="x"?"y":"x"}function Zl(t){return t==="y"?"height":"width"}function ti(t){return["top","bottom"].includes(kn(t))?"y":"x"}function Ql(t){return qc(ti(t))}function Zp(t,e,n){n===void 0&&(n=!1);const o=yo(t),i=Ql(t),r=Zl(i);let l=i==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return e.reference[r]>e.floating[r]&&(l=nr(l)),[l,nr(l)]}function Qp(t){const e=nr(t);return[kl(t),e,kl(e)]}function kl(t){return t.replace(/start|end/g,e=>Jp[e])}function xp(t,e,n){const o=["left","right"],i=["right","left"],r=["top","bottom"],l=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:o:e?o:i;case"left":case"right":return e?r:l;default:return[]}}function zp(t,e,n,o){const i=yo(t);let r=xp(kn(t),n==="start",o);return i&&(r=r.map(l=>l+"-"+i),e&&(r=r.concat(r.map(kl)))),r}function nr(t){return t.replace(/left|right|bottom|top/g,e=>Xp[e])}function eh(t){return{top:0,right:0,bottom:0,left:0,...t}}function jc(t){return typeof t!="number"?eh(t):{top:t,right:t,bottom:t,left:t}}function or(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function ra(t,e,n){let{reference:o,floating:i}=t;const r=ti(e),l=Ql(e),a=Zl(l),s=kn(e),u=r==="y",f=o.x+o.width/2-i.width/2,c=o.y+o.height/2-i.height/2,d=o[a]/2-i[a]/2;let p;switch(s){case"top":p={x:f,y:o.y-i.height};break;case"bottom":p={x:f,y:o.y+o.height};break;case"right":p={x:o.x+o.width,y:c};break;case"left":p={x:o.x-i.width,y:c};break;default:p={x:o.x,y:o.y}}switch(yo(e)){case"start":p[l]-=d*(n&&u?-1:1);break;case"end":p[l]+=d*(n&&u?-1:1);break}return p}const th=async(t,e,n)=>{const{placement:o="bottom",strategy:i="absolute",middleware:r=[],platform:l}=n,a=r.filter(Boolean),s=await(l.isRTL==null?void 0:l.isRTL(e));let u=await l.getElementRects({reference:t,floating:e,strategy:i}),{x:f,y:c}=ra(u,o,s),d=o,p={},h=0;for(let _=0;_<a.length;_++){const{name:y,fn:w}=a[_],{x:C,y:k,data:D,reset:G}=await w({x:f,y:c,initialPlacement:o,placement:d,strategy:i,middlewareData:p,rects:u,platform:l,elements:{reference:t,floating:e}});f=C??f,c=k??c,p={...p,[y]:{...p[y],...D}},G&&h<=50&&(h++,typeof G=="object"&&(G.placement&&(d=G.placement),G.rects&&(u=G.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:i}):G.rects),{x:f,y:c}=ra(u,d,s)),_=-1)}return{x:f,y:c,placement:d,strategy:i,middlewareData:p}};async function xl(t,e){var n;e===void 0&&(e={});const{x:o,y:i,platform:r,rects:l,elements:a,strategy:s}=t,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:c="floating",altBoundary:d=!1,padding:p=0}=vo(e,t),h=jc(p),y=a[d?c==="floating"?"reference":"floating":c],w=or(await r.getClippingRect({element:(n=await(r.isElement==null?void 0:r.isElement(y)))==null||n?y:y.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(a.floating)),boundary:u,rootBoundary:f,strategy:s})),C=c==="floating"?{...l.floating,x:o,y:i}:l.reference,k=await(r.getOffsetParent==null?void 0:r.getOffsetParent(a.floating)),D=await(r.isElement==null?void 0:r.isElement(k))?await(r.getScale==null?void 0:r.getScale(k))||{x:1,y:1}:{x:1,y:1},G=or(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:C,offsetParent:k,strategy:s}):C);return{top:(w.top-G.top+h.top)/D.y,bottom:(G.bottom-w.bottom+h.bottom)/D.y,left:(w.left-G.left+h.left)/D.x,right:(G.right-w.right+h.right)/D.x}}const nh=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:o,placement:i,rects:r,platform:l,elements:a,middlewareData:s}=e,{element:u,padding:f=0}=vo(t,e)||{};if(u==null)return{};const c=jc(f),d={x:n,y:o},p=Ql(i),h=Zl(p),_=await l.getDimensions(u),y=p==="y",w=y?"top":"left",C=y?"bottom":"right",k=y?"clientHeight":"clientWidth",D=r.reference[h]+r.reference[p]-d[p]-r.floating[h],G=d[p]-r.reference[p],L=await(l.getOffsetParent==null?void 0:l.getOffsetParent(u));let j=L?L[k]:0;(!j||!await(l.isElement==null?void 0:l.isElement(L)))&&(j=a.floating[k]||r.floating[h]);const F=D/2-G/2,E=j/2-_[h]/2-1,U=yn(c[w],E),b=yn(c[C],E),g=U,S=j-_[h]-b,O=j/2-_[h]/2+F,H=wl(g,O,S),R=!s.arrow&&yo(i)!=null&&O!==H&&r.reference[h]/2-(O<g?U:b)-_[h]/2<0,J=R?O<g?O-g:O-S:0;return{[p]:d[p]+J,data:{[p]:H,centerOffset:O-H-J,...R&&{alignmentOffset:J}},reset:R}}}),oh=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,o;const{placement:i,middlewareData:r,rects:l,initialPlacement:a,platform:s,elements:u}=e,{mainAxis:f=!0,crossAxis:c=!0,fallbackPlacements:d,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:_=!0,...y}=vo(t,e);if((n=r.arrow)!=null&&n.alignmentOffset)return{};const w=kn(i),C=kn(a)===a,k=await(s.isRTL==null?void 0:s.isRTL(u.floating)),D=d||(C||!_?[nr(a)]:Qp(a));!d&&h!=="none"&&D.push(...zp(a,_,h,k));const G=[a,...D],L=await xl(e,y),j=[];let F=((o=r.flip)==null?void 0:o.overflows)||[];if(f&&j.push(L[w]),c){const g=Zp(i,l,k);j.push(L[g[0]],L[g[1]])}if(F=[...F,{placement:i,overflows:j}],!j.every(g=>g<=0)){var E,U;const g=(((E=r.flip)==null?void 0:E.index)||0)+1,S=G[g];if(S)return{data:{index:g,overflows:F},reset:{placement:S}};let O=(U=F.filter(H=>H.overflows[0]<=0).sort((H,R)=>H.overflows[1]-R.overflows[1])[0])==null?void 0:U.placement;if(!O)switch(p){case"bestFit":{var b;const H=(b=F.map(R=>[R.placement,R.overflows.filter(J=>J>0).reduce((J,te)=>J+te,0)]).sort((R,J)=>R[1]-J[1])[0])==null?void 0:b[0];H&&(O=H);break}case"initialPlacement":O=a;break}if(i!==O)return{reset:{placement:O}}}return{}}}};async function ih(t,e){const{placement:n,platform:o,elements:i}=t,r=await(o.isRTL==null?void 0:o.isRTL(i.floating)),l=kn(n),a=yo(n),s=ti(n)==="y",u=["left","top"].includes(l)?-1:1,f=r&&s?-1:1,c=vo(e,t);let{mainAxis:d,crossAxis:p,alignmentAxis:h}=typeof c=="number"?{mainAxis:c,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...c};return a&&typeof h=="number"&&(p=a==="end"?h*-1:h),s?{x:p*f,y:d*u}:{x:d*u,y:p*f}}const rh=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,o;const{x:i,y:r,placement:l,middlewareData:a}=e,s=await ih(e,t);return l===((n=a.offset)==null?void 0:n.placement)&&(o=a.arrow)!=null&&o.alignmentOffset?{}:{x:i+s.x,y:r+s.y,data:{...s,placement:l}}}}},lh=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:o,placement:i}=e,{mainAxis:r=!0,crossAxis:l=!1,limiter:a={fn:y=>{let{x:w,y:C}=y;return{x:w,y:C}}},...s}=vo(t,e),u={x:n,y:o},f=await xl(e,s),c=ti(kn(i)),d=qc(c);let p=u[d],h=u[c];if(r){const y=d==="y"?"top":"left",w=d==="y"?"bottom":"right",C=p+f[y],k=p-f[w];p=wl(C,p,k)}if(l){const y=c==="y"?"top":"left",w=c==="y"?"bottom":"right",C=h+f[y],k=h-f[w];h=wl(C,h,k)}const _=a.fn({...e,[d]:p,[c]:h});return{..._,data:{x:_.x-n,y:_.y-o}}}}},sh=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){const{placement:n,rects:o,platform:i,elements:r}=e,{apply:l=()=>{},...a}=vo(t,e),s=await xl(e,a),u=kn(n),f=yo(n),c=ti(n)==="y",{width:d,height:p}=o.floating;let h,_;u==="top"||u==="bottom"?(h=u,_=f===(await(i.isRTL==null?void 0:i.isRTL(r.floating))?"start":"end")?"left":"right"):(_=u,h=f==="end"?"top":"bottom");const y=p-s[h],w=d-s[_],C=!e.middlewareData.shift;let k=y,D=w;if(c){const L=d-s.left-s.right;D=f||C?yn(w,L):L}else{const L=p-s.top-s.bottom;k=f||C?yn(y,L):L}if(C&&!f){const L=Ct(s.left,0),j=Ct(s.right,0),F=Ct(s.top,0),E=Ct(s.bottom,0);c?D=d-2*(L!==0||j!==0?L+j:Ct(s.left,s.right)):k=p-2*(F!==0||E!==0?F+E:Ct(s.top,s.bottom))}await l({...e,availableWidth:D,availableHeight:k});const G=await i.getDimensions(r.floating);return d!==G.width||p!==G.height?{reset:{rects:!0}}:{}}}};function Cn(t){return Bc(t)?(t.nodeName||"").toLowerCase():"#document"}function St(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function sn(t){var e;return(e=(Bc(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Bc(t){return t instanceof Node||t instanceof St(t).Node}function nn(t){return t instanceof Element||t instanceof St(t).Element}function Ut(t){return t instanceof HTMLElement||t instanceof St(t).HTMLElement}function la(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof St(t).ShadowRoot}function ni(t){const{overflow:e,overflowX:n,overflowY:o,display:i}=Ot(t);return/auto|scroll|overlay|hidden|clip/.test(e+o+n)&&!["inline","contents"].includes(i)}function ah(t){return["table","td","th"].includes(Cn(t))}function zl(t){const e=es(),n=Ot(t);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(o=>(n.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(n.contain||"").includes(o))}function uh(t){let e=mo(t);for(;Ut(e)&&!Pr(e);){if(zl(e))return e;e=mo(e)}return null}function es(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Pr(t){return["html","body","#document"].includes(Cn(t))}function Ot(t){return St(t).getComputedStyle(t)}function Or(t){return nn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function mo(t){if(Cn(t)==="html")return t;const e=t.assignedSlot||t.parentNode||la(t)&&t.host||sn(t);return la(e)?e.host:e}function Vc(t){const e=mo(t);return Pr(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ut(e)&&ni(e)?e:Vc(e)}function Jo(t,e,n){var o;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=Vc(t),r=i===((o=t.ownerDocument)==null?void 0:o.body),l=St(i);return r?e.concat(l,l.visualViewport||[],ni(i)?i:[],l.frameElement&&n?Jo(l.frameElement):[]):e.concat(i,Jo(i,[],n))}function Gc(t){const e=Ot(t);let n=parseFloat(e.width)||0,o=parseFloat(e.height)||0;const i=Ut(t),r=i?t.offsetWidth:n,l=i?t.offsetHeight:o,a=tr(n)!==r||tr(o)!==l;return a&&(n=r,o=l),{width:n,height:o,$:a}}function ts(t){return nn(t)?t:t.contextElement}function ao(t){const e=ts(t);if(!Ut(e))return wn(1);const n=e.getBoundingClientRect(),{width:o,height:i,$:r}=Gc(e);let l=(r?tr(n.width):n.width)/o,a=(r?tr(n.height):n.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!a||!Number.isFinite(a))&&(a=1),{x:l,y:a}}const fh=wn(0);function Hc(t){const e=St(t);return!es()||!e.visualViewport?fh:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function ch(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==St(t)?!1:e}function Ln(t,e,n,o){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),r=ts(t);let l=wn(1);e&&(o?nn(o)&&(l=ao(o)):l=ao(t));const a=ch(r,n,o)?Hc(r):wn(0);let s=(i.left+a.x)/l.x,u=(i.top+a.y)/l.y,f=i.width/l.x,c=i.height/l.y;if(r){const d=St(r),p=o&&nn(o)?St(o):o;let h=d,_=h.frameElement;for(;_&&o&&p!==h;){const y=ao(_),w=_.getBoundingClientRect(),C=Ot(_),k=w.left+(_.clientLeft+parseFloat(C.paddingLeft))*y.x,D=w.top+(_.clientTop+parseFloat(C.paddingTop))*y.y;s*=y.x,u*=y.y,f*=y.x,c*=y.y,s+=k,u+=D,h=St(_),_=h.frameElement}}return or({width:f,height:c,x:s,y:u})}const dh=[":popover-open",":modal"];function Wc(t){return dh.some(e=>{try{return t.matches(e)}catch{return!1}})}function mh(t){let{elements:e,rect:n,offsetParent:o,strategy:i}=t;const r=i==="fixed",l=sn(o),a=e?Wc(e.floating):!1;if(o===l||a&&r)return n;let s={scrollLeft:0,scrollTop:0},u=wn(1);const f=wn(0),c=Ut(o);if((c||!c&&!r)&&((Cn(o)!=="body"||ni(l))&&(s=Or(o)),Ut(o))){const d=Ln(o);u=ao(o),f.x=d.x+o.clientLeft,f.y=d.y+o.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-s.scrollLeft*u.x+f.x,y:n.y*u.y-s.scrollTop*u.y+f.y}}function ph(t){return Array.from(t.getClientRects())}function $c(t){return Ln(sn(t)).left+Or(t).scrollLeft}function hh(t){const e=sn(t),n=Or(t),o=t.ownerDocument.body,i=Ct(e.scrollWidth,e.clientWidth,o.scrollWidth,o.clientWidth),r=Ct(e.scrollHeight,e.clientHeight,o.scrollHeight,o.clientHeight);let l=-n.scrollLeft+$c(t);const a=-n.scrollTop;return Ot(o).direction==="rtl"&&(l+=Ct(e.clientWidth,o.clientWidth)-i),{width:i,height:r,x:l,y:a}}function _h(t,e){const n=St(t),o=sn(t),i=n.visualViewport;let r=o.clientWidth,l=o.clientHeight,a=0,s=0;if(i){r=i.width,l=i.height;const u=es();(!u||u&&e==="fixed")&&(a=i.offsetLeft,s=i.offsetTop)}return{width:r,height:l,x:a,y:s}}function gh(t,e){const n=Ln(t,!0,e==="fixed"),o=n.top+t.clientTop,i=n.left+t.clientLeft,r=Ut(t)?ao(t):wn(1),l=t.clientWidth*r.x,a=t.clientHeight*r.y,s=i*r.x,u=o*r.y;return{width:l,height:a,x:s,y:u}}function sa(t,e,n){let o;if(e==="viewport")o=_h(t,n);else if(e==="document")o=hh(sn(t));else if(nn(e))o=gh(e,n);else{const i=Hc(t);o={...e,x:e.x-i.x,y:e.y-i.y}}return or(o)}function Kc(t,e){const n=mo(t);return n===e||!nn(n)||Pr(n)?!1:Ot(n).position==="fixed"||Kc(n,e)}function bh(t,e){const n=e.get(t);if(n)return n;let o=Jo(t,[],!1).filter(a=>nn(a)&&Cn(a)!=="body"),i=null;const r=Ot(t).position==="fixed";let l=r?mo(t):t;for(;nn(l)&&!Pr(l);){const a=Ot(l),s=zl(l);!s&&a.position==="fixed"&&(i=null),(r?!s&&!i:!s&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||ni(l)&&!s&&Kc(t,l))?o=o.filter(f=>f!==l):i=a,l=mo(l)}return e.set(t,o),o}function vh(t){let{element:e,boundary:n,rootBoundary:o,strategy:i}=t;const l=[...n==="clippingAncestors"?bh(e,this._c):[].concat(n),o],a=l[0],s=l.reduce((u,f)=>{const c=sa(e,f,i);return u.top=Ct(c.top,u.top),u.right=yn(c.right,u.right),u.bottom=yn(c.bottom,u.bottom),u.left=Ct(c.left,u.left),u},sa(e,a,i));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}}function yh(t){const{width:e,height:n}=Gc(t);return{width:e,height:n}}function wh(t,e,n){const o=Ut(e),i=sn(e),r=n==="fixed",l=Ln(t,!0,r,e);let a={scrollLeft:0,scrollTop:0};const s=wn(0);if(o||!o&&!r)if((Cn(e)!=="body"||ni(i))&&(a=Or(e)),o){const c=Ln(e,!0,r,e);s.x=c.x+e.clientLeft,s.y=c.y+e.clientTop}else i&&(s.x=$c(i));const u=l.left+a.scrollLeft-s.x,f=l.top+a.scrollTop-s.y;return{x:u,y:f,width:l.width,height:l.height}}function aa(t,e){return!Ut(t)||Ot(t).position==="fixed"?null:e?e(t):t.offsetParent}function Uc(t,e){const n=St(t);if(!Ut(t)||Wc(t))return n;let o=aa(t,e);for(;o&&ah(o)&&Ot(o).position==="static";)o=aa(o,e);return o&&(Cn(o)==="html"||Cn(o)==="body"&&Ot(o).position==="static"&&!zl(o))?n:o||uh(t)||n}const kh=async function(t){const e=this.getOffsetParent||Uc,n=this.getDimensions;return{reference:wh(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,...await n(t.floating)}}};function Ch(t){return Ot(t).direction==="rtl"}const Ah={convertOffsetParentRelativeRectToViewportRelativeRect:mh,getDocumentElement:sn,getClippingRect:vh,getOffsetParent:Uc,getElementRects:kh,getClientRects:ph,getDimensions:yh,getScale:ao,isElement:nn,isRTL:Ch};function Sh(t,e){let n=null,o;const i=sn(t);function r(){var a;clearTimeout(o),(a=n)==null||a.disconnect(),n=null}function l(a,s){a===void 0&&(a=!1),s===void 0&&(s=1),r();const{left:u,top:f,width:c,height:d}=t.getBoundingClientRect();if(a||e(),!c||!d)return;const p=Mi(f),h=Mi(i.clientWidth-(u+c)),_=Mi(i.clientHeight-(f+d)),y=Mi(u),C={rootMargin:-p+"px "+-h+"px "+-_+"px "+-y+"px",threshold:Ct(0,yn(1,s))||1};let k=!0;function D(G){const L=G[0].intersectionRatio;if(L!==s){if(!k)return l();L?l(!1,L):o=setTimeout(()=>{l(!1,1e-7)},100)}k=!1}try{n=new IntersectionObserver(D,{...C,root:i.ownerDocument})}catch{n=new IntersectionObserver(D,C)}n.observe(t)}return l(!0),r}function Th(t,e,n,o){o===void 0&&(o={});const{ancestorScroll:i=!0,ancestorResize:r=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:s=!1}=o,u=ts(t),f=i||r?[...u?Jo(u):[],...Jo(e)]:[];f.forEach(w=>{i&&w.addEventListener("scroll",n,{passive:!0}),r&&w.addEventListener("resize",n)});const c=u&&a?Sh(u,n):null;let d=-1,p=null;l&&(p=new ResizeObserver(w=>{let[C]=w;C&&C.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var k;(k=p)==null||k.observe(e)})),n()}),u&&!s&&p.observe(u),p.observe(e));let h,_=s?Ln(t):null;s&&y();function y(){const w=Ln(t);_&&(w.x!==_.x||w.y!==_.y||w.width!==_.width||w.height!==_.height)&&n(),_=w,h=requestAnimationFrame(y)}return n(),()=>{var w;f.forEach(C=>{i&&C.removeEventListener("scroll",n),r&&C.removeEventListener("resize",n)}),c==null||c(),(w=p)==null||w.disconnect(),p=null,s&&cancelAnimationFrame(h)}}const Ih=lh,Mh=oh,Ph=sh,Oh=nh,Nh=(t,e,n)=>{const o=new Map,i={platform:Ah,...n},r={...i.platform,_c:o};return th(t,e,{...i,platform:r})},Eh={strategy:"absolute",placement:"top",gutter:5,flip:!0,sameWidth:!1,overflowPadding:8},Rh={bottom:"rotate(45deg)",left:"rotate(135deg)",top:"rotate(225deg)",right:"rotate(315deg)"};function Dh(t,e,n={}){if(!e||!t||n===null)return{destroy:Ze};const o={...Eh,...n},i=e.querySelector("[data-arrow=true]"),r=[];o.flip&&r.push(Mh({boundary:o.boundary,padding:o.overflowPadding}));const l=yt(i)?i.offsetHeight/2:0;if(o.gutter||o.offset){const s=o.gutter?{mainAxis:o.gutter}:o.offset;(s==null?void 0:s.mainAxis)!=null&&(s.mainAxis+=l),r.push(rh(s))}r.push(Ih({boundary:o.boundary,crossAxis:o.overlap,padding:o.overflowPadding})),i&&r.push(Oh({element:i,padding:8})),r.push(Ph({padding:o.overflowPadding,apply({rects:s,availableHeight:u,availableWidth:f}){o.sameWidth&&Object.assign(e.style,{width:`${Math.round(s.reference.width)}px`,minWidth:"unset"}),o.fitViewport&&Object.assign(e.style,{maxWidth:`${f}px`,maxHeight:`${u}px`})}}));function a(){if(!t||!e)return;const{placement:s,strategy:u}=o;Nh(t,e,{placement:s,middleware:r,strategy:u}).then(f=>{const c=Math.round(f.x),d=Math.round(f.y);if(Object.assign(e.style,{position:o.strategy,top:`${d}px`,left:`${c}px`}),yt(i)&&f.middlewareData.arrow){const{x:p,y:h}=f.middlewareData.arrow,_=f.placement.split("-")[0];Object.assign(i.style,{position:"absolute",left:p!=null?`${p}px`:"",top:h!=null?`${h}px`:"",[_]:`calc(100% - ${l}px)`,transform:Rh[_],backgroundColor:"inherit",zIndex:"inherit"})}return f})}return Object.assign(e.style,{position:o.strategy}),{destroy:Th(t,e,a)}}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Yc=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],ir=Yc.join(","),Xc=typeof Element>"u",Fn=Xc?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,rr=!Xc&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},lr=function t(e,n){var o;n===void 0&&(n=!0);var i=e==null||(o=e.getAttribute)===null||o===void 0?void 0:o.call(e,"inert"),r=i===""||i==="true",l=r||n&&e&&t(e.parentNode);return l},Lh=function(e){var n,o=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"contenteditable");return o===""||o==="true"},Jc=function(e,n,o){if(lr(e))return[];var i=Array.prototype.slice.apply(e.querySelectorAll(ir));return n&&Fn.call(e,ir)&&i.unshift(e),i=i.filter(o),i},Zc=function t(e,n,o){for(var i=[],r=Array.from(e);r.length;){var l=r.shift();if(!lr(l,!1))if(l.tagName==="SLOT"){var a=l.assignedElements(),s=a.length?a:l.children,u=t(s,!0,o);o.flatten?i.push.apply(i,u):i.push({scopeParent:l,candidates:u})}else{var f=Fn.call(l,ir);f&&o.filter(l)&&(n||!e.includes(l))&&i.push(l);var c=l.shadowRoot||typeof o.getShadowRoot=="function"&&o.getShadowRoot(l),d=!lr(c,!1)&&(!o.shadowRootFilter||o.shadowRootFilter(l));if(c&&d){var p=t(c===!0?l.children:c.children,!0,o);o.flatten?i.push.apply(i,p):i.push({scopeParent:l,candidates:p})}else r.unshift.apply(r,l.children)}}return i},Qc=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},In=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||Lh(e))&&!Qc(e)?0:e.tabIndex},Fh=function(e,n){var o=In(e);return o<0&&n&&!Qc(e)?0:o},qh=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},xc=function(e){return e.tagName==="INPUT"},jh=function(e){return xc(e)&&e.type==="hidden"},Bh=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(o){return o.tagName==="SUMMARY"});return n},Vh=function(e,n){for(var o=0;o<e.length;o++)if(e[o].checked&&e[o].form===n)return e[o]},Gh=function(e){if(!e.name)return!0;var n=e.form||rr(e),o=function(a){return n.querySelectorAll('input[type="radio"][name="'+a+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=o(window.CSS.escape(e.name));else try{i=o(e.name)}catch(l){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",l.message),!1}var r=Vh(i,e.form);return!r||r===e},Hh=function(e){return xc(e)&&e.type==="radio"},Wh=function(e){return Hh(e)&&!Gh(e)},$h=function(e){var n,o=e&&rr(e),i=(n=o)===null||n===void 0?void 0:n.host,r=!1;if(o&&o!==e){var l,a,s;for(r=!!((l=i)!==null&&l!==void 0&&(a=l.ownerDocument)!==null&&a!==void 0&&a.contains(i)||e!=null&&(s=e.ownerDocument)!==null&&s!==void 0&&s.contains(e));!r&&i;){var u,f,c;o=rr(i),i=(u=o)===null||u===void 0?void 0:u.host,r=!!((f=i)!==null&&f!==void 0&&(c=f.ownerDocument)!==null&&c!==void 0&&c.contains(i))}}return r},ua=function(e){var n=e.getBoundingClientRect(),o=n.width,i=n.height;return o===0&&i===0},Kh=function(e,n){var o=n.displayCheck,i=n.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var r=Fn.call(e,"details>summary:first-of-type"),l=r?e.parentElement:e;if(Fn.call(l,"details:not([open]) *"))return!0;if(!o||o==="full"||o==="legacy-full"){if(typeof i=="function"){for(var a=e;e;){var s=e.parentElement,u=rr(e);if(s&&!s.shadowRoot&&i(s)===!0)return ua(e);e.assignedSlot?e=e.assignedSlot:!s&&u!==e.ownerDocument?e=u.host:e=s}e=a}if($h(e))return!e.getClientRects().length;if(o!=="legacy-full")return!0}else if(o==="non-zero-area")return ua(e);return!1},Uh=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var o=0;o<n.children.length;o++){var i=n.children.item(o);if(i.tagName==="LEGEND")return Fn.call(n,"fieldset[disabled] *")?!0:!i.contains(e)}return!0}n=n.parentElement}return!1},sr=function(e,n){return!(n.disabled||lr(n)||jh(n)||Kh(n,e)||Bh(n)||Uh(n))},Cl=function(e,n){return!(Wh(n)||In(n)<0||!sr(e,n))},Yh=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},Xh=function t(e){var n=[],o=[];return e.forEach(function(i,r){var l=!!i.scopeParent,a=l?i.scopeParent:i,s=Fh(a,l),u=l?t(i.candidates):a;s===0?l?n.push.apply(n,u):n.push(a):o.push({documentOrder:r,tabIndex:s,item:i,isScope:l,content:u})}),o.sort(qh).reduce(function(i,r){return r.isScope?i.push.apply(i,r.content):i.push(r.content),i},[]).concat(n)},Jh=function(e,n){n=n||{};var o;return n.getShadowRoot?o=Zc([e],n.includeContainer,{filter:Cl.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:Yh}):o=Jc(e,n.includeContainer,Cl.bind(null,n)),Xh(o)},Zh=function(e,n){n=n||{};var o;return n.getShadowRoot?o=Zc([e],n.includeContainer,{filter:sr.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):o=Jc(e,n.includeContainer,sr.bind(null,n)),o},to=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return Fn.call(e,ir)===!1?!1:Cl(n,e)},Qh=Yc.concat("iframe").join(","),xr=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return Fn.call(e,Qh)===!1?!1:sr(n,e)};/*!
* focus-trap 7.5.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function fa(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,o)}return n}function ca(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fa(Object(n),!0).forEach(function(o){xh(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fa(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function xh(t,e,n){return e=e0(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zh(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function e0(t){var e=zh(t,"string");return typeof e=="symbol"?e:String(e)}var da={activateTrap:function(e,n){if(e.length>0){var o=e[e.length-1];o!==n&&o.pause()}var i=e.indexOf(n);i===-1||e.splice(i,1),e.push(n)},deactivateTrap:function(e,n){var o=e.indexOf(n);o!==-1&&e.splice(o,1),e.length>0&&e[e.length-1].unpause()}},t0=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},n0=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},Ko=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},o0=function(e){return Ko(e)&&!e.shiftKey},i0=function(e){return Ko(e)&&e.shiftKey},ma=function(e){return setTimeout(e,0)},pa=function(e,n){var o=-1;return e.every(function(i,r){return n(i)?(o=r,!1):!0}),o},Lo=function(e){for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return typeof e=="function"?e.apply(void 0,o):e},Pi=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},r0=[],l0=function(e,n){var o=(n==null?void 0:n.document)||document,i=(n==null?void 0:n.trapStack)||r0,r=ca({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:o0,isKeyBackward:i0},n),l={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},a,s=function(g,S,O){return g&&g[S]!==void 0?g[S]:r[O||S]},u=function(g,S){var O=typeof(S==null?void 0:S.composedPath)=="function"?S.composedPath():void 0;return l.containerGroups.findIndex(function(H){var R=H.container,J=H.tabbableNodes;return R.contains(g)||(O==null?void 0:O.includes(R))||J.find(function(te){return te===g})})},f=function(g){var S=r[g];if(typeof S=="function"){for(var O=arguments.length,H=new Array(O>1?O-1:0),R=1;R<O;R++)H[R-1]=arguments[R];S=S.apply(void 0,H)}if(S===!0&&(S=void 0),!S){if(S===void 0||S===!1)return S;throw new Error("`".concat(g,"` was specified but was not a node, or did not return a node"))}var J=S;if(typeof S=="string"&&(J=o.querySelector(S),!J))throw new Error("`".concat(g,"` as selector refers to no known node"));return J},c=function(){var g=f("initialFocus");if(g===!1)return!1;if(g===void 0||!xr(g,r.tabbableOptions))if(u(o.activeElement)>=0)g=o.activeElement;else{var S=l.tabbableGroups[0],O=S&&S.firstTabbableNode;g=O||f("fallbackFocus")}if(!g)throw new Error("Your focus-trap needs to have at least one focusable element");return g},d=function(){if(l.containerGroups=l.containers.map(function(g){var S=Jh(g,r.tabbableOptions),O=Zh(g,r.tabbableOptions),H=S.length>0?S[0]:void 0,R=S.length>0?S[S.length-1]:void 0,J=O.find(function(W){return to(W)}),te=O.slice().reverse().find(function(W){return to(W)}),Z=!!S.find(function(W){return In(W)>0});return{container:g,tabbableNodes:S,focusableNodes:O,posTabIndexesFound:Z,firstTabbableNode:H,lastTabbableNode:R,firstDomTabbableNode:J,lastDomTabbableNode:te,nextTabbableNode:function(ne){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,$=S.indexOf(ne);return $<0?m?O.slice(O.indexOf(ne)+1).find(function(K){return to(K)}):O.slice(0,O.indexOf(ne)).reverse().find(function(K){return to(K)}):S[$+(m?1:-1)]}}}),l.tabbableGroups=l.containerGroups.filter(function(g){return g.tabbableNodes.length>0}),l.tabbableGroups.length<=0&&!f("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(l.containerGroups.find(function(g){return g.posTabIndexesFound})&&l.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},p=function b(g){var S=g.activeElement;if(S)return S.shadowRoot&&S.shadowRoot.activeElement!==null?b(S.shadowRoot):S},h=function b(g){if(g!==!1&&g!==p(document)){if(!g||!g.focus){b(c());return}g.focus({preventScroll:!!r.preventScroll}),l.mostRecentlyFocusedNode=g,t0(g)&&g.select()}},_=function(g){var S=f("setReturnFocus",g);return S||(S===!1?!1:g)},y=function(g){var S=g.target,O=g.event,H=g.isBackward,R=H===void 0?!1:H;S=S||Pi(O),d();var J=null;if(l.tabbableGroups.length>0){var te=u(S,O),Z=te>=0?l.containerGroups[te]:void 0;if(te<0)R?J=l.tabbableGroups[l.tabbableGroups.length-1].lastTabbableNode:J=l.tabbableGroups[0].firstTabbableNode;else if(R){var W=pa(l.tabbableGroups,function(se){var ue=se.firstTabbableNode;return S===ue});if(W<0&&(Z.container===S||xr(S,r.tabbableOptions)&&!to(S,r.tabbableOptions)&&!Z.nextTabbableNode(S,!1))&&(W=te),W>=0){var ne=W===0?l.tabbableGroups.length-1:W-1,m=l.tabbableGroups[ne];J=In(S)>=0?m.lastTabbableNode:m.lastDomTabbableNode}else Ko(O)||(J=Z.nextTabbableNode(S,!1))}else{var $=pa(l.tabbableGroups,function(se){var ue=se.lastTabbableNode;return S===ue});if($<0&&(Z.container===S||xr(S,r.tabbableOptions)&&!to(S,r.tabbableOptions)&&!Z.nextTabbableNode(S))&&($=te),$>=0){var K=$===l.tabbableGroups.length-1?0:$+1,Y=l.tabbableGroups[K];J=In(S)>=0?Y.firstTabbableNode:Y.firstDomTabbableNode}else Ko(O)||(J=Z.nextTabbableNode(S))}}else J=f("fallbackFocus");return J},w=function(g){var S=Pi(g);if(!(u(S,g)>=0)){if(Lo(r.clickOutsideDeactivates,g)){a.deactivate({returnFocus:r.returnFocusOnDeactivate});return}Lo(r.allowOutsideClick,g)||g.preventDefault()}},C=function(g){var S=Pi(g),O=u(S,g)>=0;if(O||S instanceof Document)O&&(l.mostRecentlyFocusedNode=S);else{g.stopImmediatePropagation();var H,R=!0;if(l.mostRecentlyFocusedNode)if(In(l.mostRecentlyFocusedNode)>0){var J=u(l.mostRecentlyFocusedNode),te=l.containerGroups[J].tabbableNodes;if(te.length>0){var Z=te.findIndex(function(W){return W===l.mostRecentlyFocusedNode});Z>=0&&(r.isKeyForward(l.recentNavEvent)?Z+1<te.length&&(H=te[Z+1],R=!1):Z-1>=0&&(H=te[Z-1],R=!1))}}else l.containerGroups.some(function(W){return W.tabbableNodes.some(function(ne){return In(ne)>0})})||(R=!1);else R=!1;R&&(H=y({target:l.mostRecentlyFocusedNode,isBackward:r.isKeyBackward(l.recentNavEvent)})),h(H||l.mostRecentlyFocusedNode||c())}l.recentNavEvent=void 0},k=function(g){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;l.recentNavEvent=g;var O=y({event:g,isBackward:S});O&&(Ko(g)&&g.preventDefault(),h(O))},D=function(g){if(n0(g)&&Lo(r.escapeDeactivates,g)!==!1){g.preventDefault(),a.deactivate();return}(r.isKeyForward(g)||r.isKeyBackward(g))&&k(g,r.isKeyBackward(g))},G=function(g){var S=Pi(g);u(S,g)>=0||Lo(r.clickOutsideDeactivates,g)||Lo(r.allowOutsideClick,g)||(g.preventDefault(),g.stopImmediatePropagation())},L=function(){if(l.active)return da.activateTrap(i,a),l.delayInitialFocusTimer=r.delayInitialFocus?ma(function(){h(c())}):h(c()),o.addEventListener("focusin",C,!0),o.addEventListener("mousedown",w,{capture:!0,passive:!1}),o.addEventListener("touchstart",w,{capture:!0,passive:!1}),o.addEventListener("click",G,{capture:!0,passive:!1}),o.addEventListener("keydown",D,{capture:!0,passive:!1}),a},j=function(){if(l.active)return o.removeEventListener("focusin",C,!0),o.removeEventListener("mousedown",w,!0),o.removeEventListener("touchstart",w,!0),o.removeEventListener("click",G,!0),o.removeEventListener("keydown",D,!0),a},F=function(g){var S=g.some(function(O){var H=Array.from(O.removedNodes);return H.some(function(R){return R===l.mostRecentlyFocusedNode})});S&&h(c())},E=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(F):void 0,U=function(){E&&(E.disconnect(),l.active&&!l.paused&&l.containers.map(function(g){E.observe(g,{subtree:!0,childList:!0})}))};return a={get active(){return l.active},get paused(){return l.paused},activate:function(g){if(l.active)return this;var S=s(g,"onActivate"),O=s(g,"onPostActivate"),H=s(g,"checkCanFocusTrap");H||d(),l.active=!0,l.paused=!1,l.nodeFocusedBeforeActivation=o.activeElement,S==null||S();var R=function(){H&&d(),L(),U(),O==null||O()};return H?(H(l.containers.concat()).then(R,R),this):(R(),this)},deactivate:function(g){if(!l.active)return this;var S=ca({onDeactivate:r.onDeactivate,onPostDeactivate:r.onPostDeactivate,checkCanReturnFocus:r.checkCanReturnFocus},g);clearTimeout(l.delayInitialFocusTimer),l.delayInitialFocusTimer=void 0,j(),l.active=!1,l.paused=!1,U(),da.deactivateTrap(i,a);var O=s(S,"onDeactivate"),H=s(S,"onPostDeactivate"),R=s(S,"checkCanReturnFocus"),J=s(S,"returnFocus","returnFocusOnDeactivate");O==null||O();var te=function(){ma(function(){J&&h(_(l.nodeFocusedBeforeActivation)),H==null||H()})};return J&&R?(R(_(l.nodeFocusedBeforeActivation)).then(te,te),this):(te(),this)},pause:function(g){if(l.paused||!l.active)return this;var S=s(g,"onPause"),O=s(g,"onPostPause");return l.paused=!0,S==null||S(),j(),U(),O==null||O(),this},unpause:function(g){if(!l.paused||!l.active)return this;var S=s(g,"onUnpause"),O=s(g,"onPostUnpause");return l.paused=!1,S==null||S(),d(),L(),U(),O==null||O(),this},updateContainerElements:function(g){var S=[].concat(g).filter(Boolean);return l.containers=S.map(function(O){return typeof O=="string"?o.querySelector(O):O}),l.active&&d(),U(),this}},a.updateContainerElements(e),a};function s0(t={}){let e;const{immediate:n,...o}=t,i=Ue(!1),r=Ue(!1),l=c=>e==null?void 0:e.activate(c),a=c=>{e==null||e.deactivate(c)},s=()=>{e&&(e.pause(),r.set(!0))},u=()=>{e&&(e.unpause(),r.set(!1))};return{useFocusTrap:c=>(e=l0(c,{...o,onActivate(){var d;i.set(!0),(d=t.onActivate)==null||d.call(t)},onDeactivate(){var d;i.set(!1),(d=t.onDeactivate)==null||d.call(t)}}),n&&l(),{destroy(){a(),e=void 0}}),hasFocus:Ws(i),isPaused:Ws(r),activate:l,deactivate:a,pause:s,unpause:u}}const Oi=[];function a0(t,e){let n=Ze;function o(){const r=Oi.indexOf(t);r>=0&&Oi.splice(r,1)}function i(r){n();const{open:l,onClose:a,shouldCloseOnInteractOutside:s,closeOnInteractOutside:u}=r;Xl(100).then(()=>{l?Oi.push(t):o()});function f(){return kp(Oi)===t}function c(){f()&&a&&(a(),o())}function d(h){const _=h.target;Tr(_)&&_&&f()&&(h.preventDefault(),h.stopPropagation(),h.stopImmediatePropagation())}function p(h){s!=null&&s(h)&&f()&&(h.preventDefault(),h.stopPropagation(),h.stopImmediatePropagation(),c())}n=u0(t,{onInteractOutsideStart:d,onInteractOutside:u?p:void 0,enabled:l}).destroy}return i(e),{update:i,destroy(){o(),n()}}}const zc=(t,e="body")=>{let n;if(!yt(e)&&typeof e!="string")return{destroy:Ze};async function o(r){if(e=r,typeof e=="string"){if(n=document.querySelector(e),n===null&&(await Hl(),n=document.querySelector(e)),n===null)throw new Error(`No element found matching css selector: "${e}"`)}else if(e instanceof HTMLElement)n=e;else throw new TypeError(`Unknown portal target type: ${e===null?"null":typeof e}. Allowed types: string (CSS selector) or HTMLElement.`);t.dataset.portal="",n.appendChild(t),t.hidden=!1}function i(){t.remove()}return o(e),{update:o,destroy:i}};function u0(t,e){let n=Ze,o=!1,i=!1,r=!1;function l(u){n();const{onInteractOutside:f,onInteractOutsideStart:c,enabled:d}=u;if(!d)return;function p(y){f&&ha(y,t)&&(c==null||c(y));const w=y.target;Tr(w)&&ed(t,w)&&(i=!0),o=!0}function h(y){f==null||f(y)}const _=f0(t);if(typeof PointerEvent<"u"){const y=w=>{a(w)&&h(w),s()};n=Wt(ht(_,"pointerdown",p,!0),ht(_,"pointerup",y,!0))}else{const y=C=>{r?r=!1:a(C)&&h(C),s()},w=C=>{r=!0,a(C)&&h(C),s()};n=Wt(ht(_,"mousedown",p,!0),ht(_,"mouseup",y,!0),ht(_,"touchstart",p,!0),ht(_,"touchend",w,!0))}}function a(u){return!!(o&&!i&&ha(u,t))}function s(){o=!1,i=!1}return l(e),{update:l,destroy:n}}function ha(t,e){if("button"in t&&t.button>0)return!1;const n=t.target;if(!Tr(n))return!1;const o=n.ownerDocument;return!o||!o.documentElement.contains(n)?!1:e&&!ed(e,n)}function ed(t,e){return t===e||t.contains(e)}function f0(t){return(t==null?void 0:t.ownerDocument)??document}Nn(!1),Nn(!1),Nn(void 0);function c0(){return{elements:{root:ct("label",{action:e=>({destroy:bt(e,"mousedown",o=>{!o.defaultPrevented&&o.detail>1&&o.preventDefault()})})})}}}const{name:Sn}=Sr("dialog"),d0={preventScroll:!0,closeOnEscape:!0,closeOnOutsideClick:!0,role:"dialog",defaultOpen:!1,portal:void 0,forceVisible:!1,openFocus:void 0,closeFocus:void 0,onOutsideClick:void 0},m0=["content","title","description"];function td(t){const e={...d0,...t},n=Dn(Ir(e,"ids")),{preventScroll:o,closeOnEscape:i,closeOnOutsideClick:r,role:l,portal:a,forceVisible:s,openFocus:u,closeFocus:f,onOutsideClick:c}=n,d=en.writable(null),p=Dn({...Jl(m0),...e.ids}),h=e.open??Ue(e.defaultOpen),_=Mr(h,e==null?void 0:e.onOpenChange),y=ln([_,s],([b,g])=>b||g);let w=Ze;function C(b){const g=b.currentTarget,S=b.currentTarget;!yt(g)||!yt(S)||(_.set(!0),d.set(S))}function k(){_.set(!1),oa({prop:f.get(),defaultEl:d.get()})}const D=ct(Sn("trigger"),{stores:[_],returned:([b])=>({"aria-haspopup":"dialog","aria-expanded":b,type:"button"}),action:b=>({destroy:Wt(bt(b,"click",S=>{C(S)}),bt(b,"keydown",S=>{S.key!==st.ENTER&&S.key!==st.SPACE||(S.preventDefault(),C(S))}))})}),G=ct(Sn("overlay"),{stores:[y,_],returned:([b,g])=>({hidden:b?void 0:!0,tabindex:-1,style:gn({display:b?void 0:"none"}),"aria-hidden":!0,"data-state":g?"open":"closed"}),action:b=>{let g=Ze;if(i.get()){const S=ia(b,{handler:()=>{k()}});S&&S.destroy&&(g=S.destroy)}return{destroy(){g()}}}}),L=ct(Sn("content"),{stores:[y,p.content,p.description,p.title,_],returned:([b,g,S,O,H])=>({id:g,role:l.get(),"aria-describedby":S,"aria-labelledby":O,"aria-modal":b?"true":void 0,"data-state":H?"open":"closed",tabindex:-1,hidden:b?void 0:!0,style:gn({display:b?void 0:"none"})}),action:b=>{let g=Ze,S=Ze;const O=Wt(Mt([_],([H])=>{if(!H)return;const R=s0({immediate:!1,escapeDeactivates:!0,clickOutsideDeactivates:!0,returnFocusOnDeactivate:!1,fallbackFocus:b});g=R.activate,S=R.deactivate;const J=R.useFocusTrap(b);return J&&J.destroy?J.destroy:R.deactivate}),Mt([r,_],([H,R])=>a0(b,{open:R,closeOnInteractOutside:H,onClose(){k()},shouldCloseOnInteractOutside(J){var te;return(te=c.get())==null||te(J),!J.defaultPrevented}}).destroy),Mt([i],([H])=>{if(!H)return Ze;const R=ia(b,{handler:()=>{k()}});return R&&R.destroy?R.destroy:Ze}),Mt([y],([H])=>{Hl().then(()=>{H?g():S()})}));return{destroy:()=>{w(),O()}}}}),j=ct(Sn("portalled"),{stores:a,returned:b=>({"data-portal":Ec(b)}),action:b=>{const g=Mt([a],([S])=>{if(S===null)return Ze;const O=Fc(b,S);if(O===null)return Ze;const H=zc(b,O);return H&&H.destroy?H.destroy:Ze});return{destroy(){g()}}}}),F=ct(Sn("title"),{stores:[p.title],returned:([b])=>({id:b})}),E=ct(Sn("description"),{stores:[p.description],returned:([b])=>({id:b})}),U=ct(Sn("close"),{returned:()=>({type:"button"}),action:b=>({destroy:Wt(bt(b,"click",()=>{k()}),bt(b,"keydown",S=>{S.key!==st.SPACE&&S.key!==st.ENTER||(S.preventDefault(),k())}))})});return Mt([_,o],([b,g])=>{if(Xo){if(g&&b&&(w=$p()),b){const S=document.getElementById(p.content.get());oa({prop:u.get(),defaultEl:S})}return()=>{s.get()||w()}}}),{ids:p,elements:{content:L,trigger:D,title:F,description:E,overlay:G,close:U,portalled:j},states:{open:_},options:n}}const p0={defaultValue:0,max:100},{name:h0}=Sr("progress"),_0=t=>{const e={...p0,...t},n=Dn(Ir(e,"value")),{max:o}=n,i=e.value??Ue(e.defaultValue),r=Mr(i,e==null?void 0:e.onValueChange);return{elements:{root:ct(h0(),{stores:[r,o],returned:([a,s])=>({value:a,max:s,role:"meter","aria-valuemin":0,"aria-valuemax":s,"aria-valuenow":a,"data-value":a,"data-state":a===null?"indeterminate":a===s?"complete":"loading","data-max":s})})},states:{value:r},options:n}},g0={orientation:"horizontal",decorative:!1},b0=t=>{const e={...g0,...t},n=Dn(e),{orientation:o,decorative:i}=n;return{elements:{root:ct("separator",{stores:[o,i],returned:([l,a])=>({role:a?"none":"separator","aria-orientation":l==="vertical"?l:void 0,"aria-hidden":a,"data-orientation":l})})},options:n}},v0={defaultValue:[],min:0,max:100,step:1,orientation:"horizontal",dir:"ltr",disabled:!1},{name:Ni}=Sr("slider"),y0=t=>{const e={...v0,...t},n=Dn(Ir(e,"value","onValueChange","defaultValue")),{min:o,max:i,step:r,orientation:l,dir:a,disabled:s}=n,u=e.value??Ue(e.defaultValue),f=Mr(u,e==null?void 0:e.onValueChange),c=en(Ue(!1)),d=en(Ue(0)),p=en(Ue(null)),h=Jl(["root"]),_=(j,F)=>{f.update(E=>{if(!E)return[j];if(E[F]===j)return E;const U=[...E],b=U[F]>j?-1:1;function g(){U[F]=U[F+b],U[F+b]=j;const R=y();R&&(R[F+b].focus(),p.set({thumb:R[F+b],index:F+b}))}if(b===-1&&j<U[F-1])return g(),U;if(b===1&&j>U[F+1])return g(),U;const S=o.get(),O=i.get(),H=r.get();return U[F]=Qr(j,S,O,H),U})},y=()=>{const j=Jr(h.root);return j?Array.from(j.querySelectorAll('[data-melt-part="thumb"]')).filter(F=>yt(F)):null},w=ln([o,i],([j,F])=>E=>(E-j)/(F-j)*100),C=en.derived([l,a],([j,F])=>j==="horizontal"?F==="rtl"?"rl":"lr":F==="rtl"?"tb":"bt"),k=ct(Ni(),{stores:[s,l,a],returned:([j,F,E])=>({dir:E,disabled:Xr(j),"data-disabled":Xr(j),"data-orientation":F,style:j?void 0:`touch-action: ${F==="horizontal"?"pan-y":"pan-x"}`,"data-melt-id":h.root})}),D=ct(Ni("range"),{stores:[f,C,w],returned:([j,F,E])=>{const U=j.length>1?E(Math.min(...j)??0):0,b=100-E(Math.max(...j)??0),g={position:"absolute"};switch(F){case"lr":{g.left=`${U}%`,g.right=`${b}%`;break}case"rl":{g.right=`${U}%`,g.left=`${b}%`;break}case"bt":{g.bottom=`${U}%`,g.top=`${b}%`;break}case"tb":{g.top=`${U}%`,g.bottom=`${b}%`;break}}return{style:gn(g)}}}),G=ea(Ni("thumb"),{stores:[f,w,o,i,s,l,C],returned:([j,F,E,U,b,g,S])=>Array.from({length:j.length||1},(H,R)=>{d.get()<j.length&&d.update(ne=>ne+1);const te=j[R],Z=`${F(te)}%`,W={position:"absolute"};switch(S){case"lr":{W.left=Z,W.translate="-50% 0";break}case"rl":{W.right=Z,W.translate="50% 0";break}case"bt":{W.bottom=Z,W.translate="0 50%";break}case"tb":{W.top=Z,W.translate="0 -50%";break}}return{role:"slider","aria-valuemin":E,"aria-valuemax":U,"aria-valuenow":te,"aria-disabled":Xr(b),"aria-orientation":g,"data-melt-part":"thumb","data-value":te,style:gn(W),tabindex:b?-1:0}}),action:j=>({destroy:bt(j,"keydown",E=>{if(s.get())return;const U=E.currentTarget;if(!yt(U))return;const b=y();if(!(b!=null&&b.length))return;const g=b.indexOf(U);if(d.set(g),![st.ARROW_LEFT,st.ARROW_RIGHT,st.ARROW_UP,st.ARROW_DOWN,st.HOME,st.END].includes(E.key))return;E.preventDefault();const S=o.get(),O=i.get(),H=r.get(),R=f.get(),J=l.get(),te=C.get(),Z=R[g];switch(E.key){case st.HOME:{_(S,g);break}case st.END:{_(O,g);break}case st.ARROW_LEFT:{if(J!=="horizontal")break;E.metaKey?_(te==="rl"?O:S,g):te==="rl"&&Z<O?_(Z+H,g):te==="lr"&&Z>S&&_(Z-H,g);break}case st.ARROW_RIGHT:{if(J!=="horizontal")break;E.metaKey?_(te==="rl"?S:O,g):te==="rl"&&Z>S?_(Z-H,g):te==="lr"&&Z<O&&_(Z+H,g);break}case st.ARROW_UP:{E.metaKey?_(te==="tb"?S:O,g):te==="tb"&&Z>S?_(Z-H,g):te!=="tb"&&Z<O&&_(Z+H,g);break}case st.ARROW_DOWN:{E.metaKey?_(te==="tb"?O:S,g):te==="tb"&&Z<O?_(Z+H,g):te!=="tb"&&Z>S&&_(Z-H,g);break}}})})}),L=ea(Ni("tick"),{stores:[f,o,i,r,C],returned:([j,F,E,U,b])=>{const g=E-F;let S=Math.ceil(g/U);return g%U==0&&S++,Array.from({length:S},(O,H)=>{const R=`${H*(U/(E-F))*100}%`,J=H===0,te=H===S-1,Z=J?0:te?-100:-50,W={position:"absolute"};switch(b){case"lr":{W.left=R,W.translate=`${Z}% 0`;break}case"rl":{W.right=R,W.translate=`${-Z}% 0`;break}case"bt":{W.bottom=R,W.translate=`0 ${-Z}%`;break}case"tb":{W.top=R,W.translate=`0 ${Z}%`;break}}const ne=F+H*U;return{"data-bounded":(j.length===1?ne<=j[0]:j[0]<=ne&&ne<=j[j.length-1])?!0:void 0,"data-value":ne,style:gn(W)}})}});return Mt([k,o,i,s,l,C,r],([j,F,E,U,b,g,S])=>{if(!Xo||U)return;const O=(W,ne,m,$)=>{const Y=(W-m)/($-m)*(E-F)+F;if(Y<F)_(F,ne);else if(Y>E)_(E,ne);else{const se=S,ue=F,Se=Math.floor((Y-ue)/se),De=ue+Se*se+se/2,Ve=ue+(Se+1)*se+se/2,tt=Y>=De&&Y<Ve?(Se+1)*se+ue:Se*se+ue;tt<=E&&_(tt,ne)}},H=W=>{const ne=y();if(!ne)return;ne.forEach(Y=>Y.blur());const m=ne.map(Y=>{if(b==="horizontal"){const{left:se,right:ue}=Y.getBoundingClientRect();return Math.abs(W.clientX-(se+ue)/2)}else{const{top:se,bottom:ue}=Y.getBoundingClientRect();return Math.abs(W.clientY-(se+ue)/2)}}),$=ne[m.indexOf(Math.min(...m))],K=ne.indexOf($);return{thumb:$,index:K}},R=W=>{if(!c.get())return;W.preventDefault(),W.stopPropagation();const ne=Jr(j["data-melt-id"]),m=p.get();if(!ne||!m)return;m.thumb.focus();const{left:$,right:K,top:Y,bottom:se}=ne.getBoundingClientRect();switch(g){case"lr":{O(W.clientX,m.index,$,K);break}case"rl":{O(W.clientX,m.index,K,$);break}case"bt":{O(W.clientY,m.index,se,Y);break}case"tb":{O(W.clientY,m.index,Y,se);break}}},J=W=>{if(W.button!==0)return;const ne=Jr(j["data-melt-id"]),m=H(W);if(!m||!ne)return;const $=W.target;!yt($)||!ne.contains($)||(W.preventDefault(),p.set(m),m.thumb.focus(),c.set(!0),R(W))},te=()=>{c.set(!1)},Z=Wt(ht(document,"pointerdown",J),ht(document,"pointerup",te),ht(document,"pointerleave",te),ht(document,"pointermove",R));return()=>{Z()}}),Mt([r,o,i,f],function([F,E,U,b]){const g=O=>Qr(O,E,U,F)===O,S=O=>Qr(O,E,U,F);b.some(O=>!g(O))&&f.update(O=>O.map(S))}),{elements:{root:k,thumbs:G,range:D,ticks:L},states:{value:f},options:n}},w0={positioning:{placement:"bottom"},arrowSize:8,defaultOpen:!1,closeOnPointerDown:!0,openDelay:1e3,closeDelay:0,forceVisible:!1,portal:void 0,closeOnEscape:!0,disableHoverableContent:!1,group:void 0},{name:zr}=Sr("tooltip"),Ei=new Map,k0=["trigger","content"];function C0(t){const e={...w0,...t},n=Dn(Ir(e,"open","ids")),{positioning:o,arrowSize:i,closeOnPointerDown:r,openDelay:l,closeDelay:a,forceVisible:s,portal:u,closeOnEscape:f,disableHoverableContent:c,group:d}=n,p=e.open??Ue(e.defaultOpen),h=Mr(p,e==null?void 0:e.onOpenChange),_=Ue(null),y=Dn({...Jl(k0),...e.ids});let w=!1;const C=g=>Xo?document.getElementById(y[g].get()):null;let k=null,D=null;function G(g){D&&(window.clearTimeout(D),D=null),k||(k=window.setTimeout(()=>{h.set(!0),_.update(S=>S??g),k=null},l.get()))}function L(g){if(k&&(window.clearTimeout(k),k=null),g&&b){_.set("pointer");return}D||(D=window.setTimeout(()=>{h.set(!1),_.set(null),g&&(w=!1),D=null},a.get()))}const j=ln([h,s],([g,S])=>g||S),F=ct(zr("trigger"),{stores:[y.content,y.trigger,h],returned:([g,S,O])=>({"aria-describedby":g,id:S,"data-state":O?"open":"closed"}),action:g=>{const S=H=>{f.get()&&H.key===st.ESCAPE&&(k&&(window.clearTimeout(k),k=null),h.set(!1))};return{destroy:Wt(bt(g,"pointerdown",()=>{r.get()&&(h.set(!1),w=!0,k&&(window.clearTimeout(k),k=null))}),bt(g,"pointerenter",H=>{ta(H)||G("pointer")}),bt(g,"pointerleave",H=>{ta(H)||k&&(window.clearTimeout(k),k=null)}),bt(g,"focus",()=>{w||G("focus")}),bt(g,"blur",async()=>{await Xl(0),L(!0)}),bt(g,"keydown",S),ht(document,"keydown",S))}}}),E=ct(zr("content"),{stores:[j,h,u,y.content],returned:([g,S,O,H])=>({role:"tooltip",hidden:g?void 0:!0,tabindex:-1,style:gn({display:g?void 0:"none"}),id:H,"data-portal":Ec(O),"data-state":S?"open":"closed"}),action:g=>{let S=Ze,O=Ze;const H=Mt([j,o,u],([te,Z,W])=>{const ne=C("trigger");if(!te||!ne){O(),S();return}if(S=Dh(ne,g,Z).destroy,W===null){O();return}const $=Fc(g,W);if($){const K=zc(g,$);K&&K.destroy&&(O=K.destroy)}});function R(te){if(!h.get())return;const Z=te.target;if(!Tr(Z)&&!Cp(Z))return;const W=C("trigger");W&&Z.contains(W)&&L()}const J=Wt(bt(g,"pointerenter",()=>G("pointer")),bt(g,"pointerdown",()=>G("pointer")),ht(window,"scroll",R,{capture:!0}));return{destroy(){J(),O(),S(),H()}}}}),U=ct(zr("arrow"),{stores:i,returned:g=>({"data-arrow":!0,style:gn({position:"absolute",width:`var(--arrow-size, ${g}px)`,height:`var(--arrow-size, ${g}px)`})})});let b=!1;return Mt(h,g=>{const S=d.get();if(S===void 0||S===!1)return;if(!g){Ei.get(S)===h&&Ei.delete(S);return}const O=Ei.get(S);O==null||O.set(!1),Ei.set(S,h)}),Mt([h,_],([g,S])=>{if(!(!g||!Xo))return Wt(ht(document,"mousemove",O=>{const H=C("content"),R=C("trigger");if(!H||!R)return;const J=c.get()?[R]:[R,H],te=Vp(J);b=Gp({x:O.clientX,y:O.clientY},te),S==="pointer"&&(b||L())}))}),{ids:y,elements:{trigger:F,content:E,arrow:U},states:{open:h},options:n}}function Hn(t,e){const n={};return e.forEach(o=>{n[o]={[`data-${t}-${o}`]:""}}),o=>n[o]}function Wn(){const t=dm();return e=>{const{originalEvent:n}=e.detail,{cancelable:o}=e,i=n.type;t(i,{originalEvent:n,currentTarget:n.currentTarget},{cancelable:o})||e.preventDefault()}}function wo(t){const e={};for(const n in t){const o=t[n];o!==void 0&&(e[n]=o)}return e}function qn(t){return function(e,n){if(n===void 0)return;const o=t[e];o&&o.set(n)}}function nd(){return{NAME:"alert-dialog",PARTS:["action","cancel","content","description","overlay","portal","title","trigger"]}}function A0(t){const{NAME:e,PARTS:n}=nd(),o=Hn(e,n),i=td({...wo(t),role:"alertdialog",forceVisible:!0}),r={...i,getAttrs:o,updateOption:qn(i.options)};return kr(e,r),{...r,updateOption:qn(r.options),getAttrs:o}}function $n(){const{NAME:t}=nd();return Cr(t)}const S0=t=>({ids:t&1}),_a=t=>({ids:t[0]});function T0(t){let e;const n=t[12].default,o=me(n,t,t[11],_a);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,[r]){o&&o.p&&(!e||r&2049)&&he(o,n,i,i[11],e?pe(n,i[11],r,S0):_e(i[11]),_a)},i(i){e||(A(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function I0(t,e,n){let o,{$$slots:i={},$$scope:r}=e,{preventScroll:l=void 0}=e,{closeOnEscape:a=void 0}=e,{closeOnOutsideClick:s=!1}=e,{portal:u=void 0}=e,{open:f=void 0}=e,{onOpenChange:c=void 0}=e,{openFocus:d=void 0}=e,{closeFocus:p=void 0}=e,{onOutsideClick:h=void 0}=e;const{states:{open:_},updateOption:y,ids:w}=A0({closeOnEscape:a,preventScroll:l,closeOnOutsideClick:s,portal:u,forceVisible:!0,defaultOpen:f,openFocus:d,closeFocus:p,onOutsideClick:h,onOpenChange:({next:k})=>(f!==k&&(c==null||c(k),n(2,f=k)),k)}),C=ln([w.content,w.description,w.title],([k,D,G])=>({content:k,description:D,title:G}));return fe(t,C,k=>n(0,o=k)),t.$$set=k=>{"preventScroll"in k&&n(3,l=k.preventScroll),"closeOnEscape"in k&&n(4,a=k.closeOnEscape),"closeOnOutsideClick"in k&&n(5,s=k.closeOnOutsideClick),"portal"in k&&n(6,u=k.portal),"open"in k&&n(2,f=k.open),"onOpenChange"in k&&n(7,c=k.onOpenChange),"openFocus"in k&&n(8,d=k.openFocus),"closeFocus"in k&&n(9,p=k.closeFocus),"onOutsideClick"in k&&n(10,h=k.onOutsideClick),"$$scope"in k&&n(11,r=k.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&f!==void 0&&_.set(f),t.$$.dirty&8&&y("preventScroll",l),t.$$.dirty&16&&y("closeOnEscape",a),t.$$.dirty&32&&y("closeOnOutsideClick",s),t.$$.dirty&64&&y("portal",u),t.$$.dirty&256&&y("openFocus",d),t.$$.dirty&512&&y("closeFocus",p),t.$$.dirty&1024&&y("onOutsideClick",h)},[o,C,f,l,a,s,u,c,d,p,h,r,i]}class M0 extends we{constructor(e){super(),ye(this,e,I0,T0,ce,{preventScroll:3,closeOnEscape:4,closeOnOutsideClick:5,portal:6,open:2,onOpenChange:7,openFocus:8,closeFocus:9,onOutsideClick:10})}}const P0=t=>({builder:t&8}),ga=t=>({builder:t[3]}),O0=t=>({builder:t&8}),ba=t=>({builder:t[3]});function N0(t){let e=t[1],n,o,i=t[1]&&el(t);return{c(){i&&i.c(),n=Re()},m(r,l){i&&i.m(r,l),M(r,n,l),o=!0},p(r,l){r[1]?e?ce(e,r[1])?(i.d(1),i=el(r),e=r[1],i.c(),i.m(n.parentNode,n)):i.p(r,l):(i=el(r),e=r[1],i.c(),i.m(n.parentNode,n)):e&&(i.d(1),i=null,e=r[1])},i(r){o||(A(i,r),o=!0)},o(r){T(i,r),o=!1},d(r){r&&I(n),i&&i.d(r)}}}function E0(t){let e;const n=t[9].default,o=me(n,t,t[8],ba);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&264)&&he(o,n,i,i[8],e?pe(n,i[8],r,O0):_e(i[8]),ba)},i(i){e||(A(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function el(t){let e,n,o,i;const r=t[9].default,l=me(r,t,t[8],ga);let a=[t[3],t[5]],s={};for(let u=0;u<a.length;u+=1)s=X(s,a[u]);return{c(){e=P(t[1]),l&&l.c(),bn(t[1])(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[10](e),n=!0,o||(i=je(t[3].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&264)&&he(l,r,u,u[8],n?pe(r,u[8],f,P0):_e(u[8]),ga),bn(u[1])(e,s=ve(a,[f&8&&u[3],f&32&&u[5]]))},i(u){n||(A(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&I(e),l&&l.d(u),t[10](null),o=!1,i()}}}function R0(t){let e,n,o,i;const r=[E0,N0],l=[];function a(s,u){return s[2]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),T(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){T(n),i=!1},d(s){s&&I(o),l[e].d(s)}}}function D0(t,e,n){let o;const i=["level","asChild","id","el"];let r=re(e,i),l,{$$slots:a={},$$scope:s}=e,{level:u="h2"}=e,{asChild:f=!1}=e,{id:c=void 0}=e,{el:d=void 0}=e;const{elements:{title:p},ids:h,getAttrs:_}=$n();fe(t,p,C=>n(7,l=C));const y=_("title");function w(C){Ie[C?"unshift":"push"](()=>{d=C,n(0,d)})}return t.$$set=C=>{e=X(X({},e),Ne(C)),n(5,r=re(e,i)),"level"in C&&n(1,u=C.level),"asChild"in C&&n(2,f=C.asChild),"id"in C&&n(6,c=C.id),"el"in C&&n(0,d=C.el),"$$scope"in C&&n(8,s=C.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&c&&h.title.set(c),t.$$.dirty&128&&n(3,o=l),t.$$.dirty&8&&Object.assign(o,y)},[d,u,f,o,p,r,c,l,s,a,w]}let L0=class extends we{constructor(e){super(),ye(this,e,D0,R0,ce,{level:1,asChild:2,id:6,el:0})}};const F0=t=>({builder:t&4}),va=t=>({builder:t[2]}),q0=t=>({builder:t&4}),ya=t=>({builder:t[2]});function j0(t){let e,n,o,i;const r=t[8].default,l=me(r,t,t[7],va);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=X(s,a[u]);return{c(){e=P("button"),l&&l.c(),le(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[9](e),n=!0,o||(i=[je(t[2].action(e)),ee(e,"m-click",t[4]),ee(e,"m-keydown",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&he(l,r,u,u[7],n?pe(r,u[7],f,F0):_e(u[7]),va),le(e,s=ve(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(A(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&I(e),l&&l.d(u),t[9](null),o=!1,qe(i)}}}function B0(t){let e;const n=t[8].default,o=me(n,t,t[7],ya);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&he(o,n,i,i[7],e?pe(n,i[7],r,q0):_e(i[7]),ya)},i(i){e||(A(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function V0(t){let e,n,o,i;const r=[B0,j0],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),T(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){T(n),i=!1},d(s){s&&I(o),l[e].d(s)}}}function G0(t,e,n){let o;const i=["asChild","el"];let r=re(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:d}=$n();fe(t,c,y=>n(6,l=y));const p=Wn(),h=d("action");function _(y){Ie[y?"unshift":"push"](()=>{f=y,n(0,f)})}return t.$$set=y=>{e=X(X({},e),Ne(y)),n(5,r=re(e,i)),"asChild"in y&&n(1,u=y.asChild),"el"in y&&n(0,f=y.el),"$$scope"in y&&n(7,s=y.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,h)},[f,u,o,c,p,r,l,s,a,_]}let H0=class extends we{constructor(e){super(),ye(this,e,G0,V0,ce,{asChild:1,el:0})}};const W0=t=>({builder:t&4}),wa=t=>({builder:t[2]}),$0=t=>({builder:t&4}),ka=t=>({builder:t[2]});function K0(t){let e,n,o,i;const r=t[8].default,l=me(r,t,t[7],wa);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=X(s,a[u]);return{c(){e=P("button"),l&&l.c(),le(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[9](e),n=!0,o||(i=[je(t[2].action(e)),ee(e,"m-click",t[4]),ee(e,"m-keydown",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&he(l,r,u,u[7],n?pe(r,u[7],f,W0):_e(u[7]),wa),le(e,s=ve(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(A(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&I(e),l&&l.d(u),t[9](null),o=!1,qe(i)}}}function U0(t){let e;const n=t[8].default,o=me(n,t,t[7],ka);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&he(o,n,i,i[7],e?pe(n,i[7],r,$0):_e(i[7]),ka)},i(i){e||(A(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function Y0(t){let e,n,o,i;const r=[U0,K0],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),T(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){T(n),i=!1},d(s){s&&I(o),l[e].d(s)}}}function X0(t,e,n){let o;const i=["asChild","el"];let r=re(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:d}=$n();fe(t,c,y=>n(6,l=y));const p=Wn(),h=d("cancel");function _(y){Ie[y?"unshift":"push"](()=>{f=y,n(0,f)})}return t.$$set=y=>{e=X(X({},e),Ne(y)),n(5,r=re(e,i)),"asChild"in y&&n(1,u=y.asChild),"el"in y&&n(0,f=y.el),"$$scope"in y&&n(7,s=y.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,h)},[f,u,o,c,p,r,l,s,a,_]}let J0=class extends we{constructor(e){super(),ye(this,e,X0,Y0,ce,{asChild:1,el:0})}};const Z0=t=>({builder:t&4}),Ca=t=>({builder:t[2]}),Q0=t=>({builder:t&4}),Aa=t=>({builder:t[2]});function x0(t){let e,n,o,i;const r=t[7].default,l=me(r,t,t[6],Ca);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=X(s,a[u]);return{c(){e=P("div"),l&&l.c(),le(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[8](e),n=!0,o||(i=je(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&68)&&he(l,r,u,u[6],n?pe(r,u[6],f,Z0):_e(u[6]),Ca),le(e,s=ve(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(A(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&I(e),l&&l.d(u),t[8](null),o=!1,i()}}}function z0(t){let e;const n=t[7].default,o=me(n,t,t[6],Aa);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&68)&&he(o,n,i,i[6],e?pe(n,i[6],r,Q0):_e(i[6]),Aa)},i(i){e||(A(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function e_(t){let e,n,o,i;const r=[z0,x0],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),T(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){T(n),i=!1},d(s){s&&I(o),l[e].d(s)}}}function t_(t,e,n){let o;const i=["asChild","el"];let r=re(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{portalled:c},getAttrs:d}=$n();fe(t,c,_=>n(5,l=_));const p=d("portal");function h(_){Ie[_?"unshift":"push"](()=>{f=_,n(0,f)})}return t.$$set=_=>{e=X(X({},e),Ne(_)),n(4,r=re(e,i)),"asChild"in _&&n(1,u=_.asChild),"el"in _&&n(0,f=_.el),"$$scope"in _&&n(6,s=_.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,p)},[f,u,o,c,r,l,s,a,h]}let n_=class extends we{constructor(e){super(),ye(this,e,t_,e_,ce,{asChild:1,el:0})}};const o_=t=>({builder:t[0]&256}),Sa=t=>({builder:t[8]}),i_=t=>({builder:t[0]&256}),Ta=t=>({builder:t[8]}),r_=t=>({builder:t[0]&256}),Ia=t=>({builder:t[8]}),l_=t=>({builder:t[0]&256}),Ma=t=>({builder:t[8]}),s_=t=>({builder:t[0]&256}),Pa=t=>({builder:t[8]}),a_=t=>({builder:t[0]&256}),Oa=t=>({builder:t[8]});function u_(t){let e,n,o,i;const r=t[16].default,l=me(r,t,t[15],Sa);let a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=X(s,a[u]);return{c(){e=P("div"),l&&l.c(),le(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[56](e),n=!0,o||(i=[je(t[8].action(e)),ee(e,"pointerdown",t[45]),ee(e,"pointermove",t[46]),ee(e,"pointerup",t[47]),ee(e,"touchend",t[48]),ee(e,"touchstart",t[49]),ee(e,"touchcancel",t[50]),ee(e,"touchmove",t[51])],o=!0)},p(u,f){l&&l.p&&(!n||f[0]&33024)&&he(l,r,u,u[15],n?pe(r,u[15],f,o_):_e(u[15]),Sa),le(e,s=ve(a,[f[0]&256&&u[8],f[0]&4096&&u[12]]))},i(u){n||(A(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&I(e),l&&l.d(u),t[56](null),o=!1,qe(i)}}}function f_(t){let e,n,o,i,r;const l=t[16].default,a=me(l,t,t[15],Ta);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=X(u,s[f]);return{c(){e=P("div"),a&&a.c(),le(e,u)},m(f,c){M(f,e,c),a&&a.m(e,null),t[55](e),o=!0,i||(r=[je(t[8].action(e)),ee(e,"pointerdown",t[38]),ee(e,"pointermove",t[39]),ee(e,"pointerup",t[40]),ee(e,"touchend",t[41]),ee(e,"touchstart",t[42]),ee(e,"touchcancel",t[43]),ee(e,"touchmove",t[44])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&he(a,l,t,t[15],o?pe(l,t[15],c,i_):_e(t[15]),Ta),le(e,u=ve(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(A(a,f),n&&n.end(1),o=!0)},o(f){T(a,f),f&&(n=Xt(e,t[5],t[6])),o=!1},d(f){f&&I(e),a&&a.d(f),t[55](null),f&&n&&n.end(),i=!1,qe(r)}}}function c_(t){let e,n,o,i,r;const l=t[16].default,a=me(l,t,t[15],Ia);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=X(u,s[f]);return{c(){e=P("div"),a&&a.c(),le(e,u)},m(f,c){M(f,e,c),a&&a.m(e,null),t[54](e),o=!0,i||(r=[je(t[8].action(e)),ee(e,"pointerdown",t[31]),ee(e,"pointermove",t[32]),ee(e,"pointerup",t[33]),ee(e,"touchend",t[34]),ee(e,"touchstart",t[35]),ee(e,"touchcancel",t[36]),ee(e,"touchmove",t[37])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&he(a,l,t,t[15],o?pe(l,t[15],c,r_):_e(t[15]),Ia),le(e,u=ve(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(A(a,f),f&&(n||nt(()=>{n=Yt(e,t[3],t[4]),n.start()})),o=!0)},o(f){T(a,f),o=!1},d(f){f&&I(e),a&&a.d(f),t[54](null),i=!1,qe(r)}}}function d_(t){let e,n,o,i,r,l;const a=t[16].default,s=me(a,t,t[15],Ma);let u=[t[8],t[12]],f={};for(let c=0;c<u.length;c+=1)f=X(f,u[c]);return{c(){e=P("div"),s&&s.c(),le(e,f)},m(c,d){M(c,e,d),s&&s.m(e,null),t[53](e),i=!0,r||(l=[je(t[8].action(e)),ee(e,"pointerdown",t[24]),ee(e,"pointermove",t[25]),ee(e,"pointerup",t[26]),ee(e,"touchend",t[27]),ee(e,"touchstart",t[28]),ee(e,"touchcancel",t[29]),ee(e,"touchmove",t[30])],r=!0)},p(c,d){t=c,s&&s.p&&(!i||d[0]&33024)&&he(s,a,t,t[15],i?pe(a,t[15],d,l_):_e(t[15]),Ma),le(e,f=ve(u,[d[0]&256&&t[8],d[0]&4096&&t[12]]))},i(c){i||(A(s,c),c&&nt(()=>{i&&(o&&o.end(1),n=Yt(e,t[3],t[4]),n.start())}),i=!0)},o(c){T(s,c),n&&n.invalidate(),c&&(o=Xt(e,t[5],t[6])),i=!1},d(c){c&&I(e),s&&s.d(c),t[53](null),c&&o&&o.end(),r=!1,qe(l)}}}function m_(t){let e,n,o,i,r;const l=t[16].default,a=me(l,t,t[15],Pa);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=X(u,s[f]);return{c(){e=P("div"),a&&a.c(),le(e,u)},m(f,c){M(f,e,c),a&&a.m(e,null),t[52](e),o=!0,i||(r=[je(t[8].action(e)),ee(e,"pointerdown",t[17]),ee(e,"pointermove",t[18]),ee(e,"pointerup",t[19]),ee(e,"touchend",t[20]),ee(e,"touchstart",t[21]),ee(e,"touchcancel",t[22]),ee(e,"touchmove",t[23])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&he(a,l,t,t[15],o?pe(l,t[15],c,s_):_e(t[15]),Pa),le(e,u=ve(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(A(a,f),f&&nt(()=>{o&&(n||(n=Kt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(f){T(a,f),f&&(n||(n=Kt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(f){f&&I(e),a&&a.d(f),t[52](null),f&&n&&n.end(),i=!1,qe(r)}}}function p_(t){let e;const n=t[16].default,o=me(n,t,t[15],Oa);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r[0]&33024)&&he(o,n,i,i[15],e?pe(n,i[15],r,a_):_e(i[15]),Oa)},i(i){e||(A(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function h_(t){let e,n,o,i;const r=[p_,m_,d_,c_,f_,u_],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=Re()},m(s,u){~e&&l[e].m(s,u),M(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Pe(),T(l[f],1,1,()=>{l[f]=null}),Oe()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(A(n),i=!0)},o(s){T(n),i=!1},d(s){s&&I(o),~e&&l[e].d(s)}}}function __(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","id","asChild","el"];let r=re(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:p=void 0}=e,{outTransition:h=void 0}=e,{outTransitionConfig:_=void 0}=e,{id:y=void 0}=e,{asChild:w=!1}=e,{el:C=void 0}=e;const{elements:{content:k},states:{open:D},ids:G,getAttrs:L}=$n();fe(t,k,q=>n(14,l=q)),fe(t,D,q=>n(9,a=q));const j=L("content");function F(q){oe.call(this,t,q)}function E(q){oe.call(this,t,q)}function U(q){oe.call(this,t,q)}function b(q){oe.call(this,t,q)}function g(q){oe.call(this,t,q)}function S(q){oe.call(this,t,q)}function O(q){oe.call(this,t,q)}function H(q){oe.call(this,t,q)}function R(q){oe.call(this,t,q)}function J(q){oe.call(this,t,q)}function te(q){oe.call(this,t,q)}function Z(q){oe.call(this,t,q)}function W(q){oe.call(this,t,q)}function ne(q){oe.call(this,t,q)}function m(q){oe.call(this,t,q)}function $(q){oe.call(this,t,q)}function K(q){oe.call(this,t,q)}function Y(q){oe.call(this,t,q)}function se(q){oe.call(this,t,q)}function ue(q){oe.call(this,t,q)}function Se(q){oe.call(this,t,q)}function De(q){oe.call(this,t,q)}function Ve(q){oe.call(this,t,q)}function tt(q){oe.call(this,t,q)}function de(q){oe.call(this,t,q)}function Me(q){oe.call(this,t,q)}function He(q){oe.call(this,t,q)}function $e(q){oe.call(this,t,q)}function Ge(q){oe.call(this,t,q)}function ke(q){oe.call(this,t,q)}function Ae(q){oe.call(this,t,q)}function _t(q){oe.call(this,t,q)}function It(q){oe.call(this,t,q)}function dt(q){oe.call(this,t,q)}function qt(q){oe.call(this,t,q)}function Nt(q){Ie[q?"unshift":"push"](()=>{C=q,n(0,C)})}function ft(q){Ie[q?"unshift":"push"](()=>{C=q,n(0,C)})}function xe(q){Ie[q?"unshift":"push"](()=>{C=q,n(0,C)})}function be(q){Ie[q?"unshift":"push"](()=>{C=q,n(0,C)})}function Ke(q){Ie[q?"unshift":"push"](()=>{C=q,n(0,C)})}return t.$$set=q=>{e=X(X({},e),Ne(q)),n(12,r=re(e,i)),"transition"in q&&n(1,f=q.transition),"transitionConfig"in q&&n(2,c=q.transitionConfig),"inTransition"in q&&n(3,d=q.inTransition),"inTransitionConfig"in q&&n(4,p=q.inTransitionConfig),"outTransition"in q&&n(5,h=q.outTransition),"outTransitionConfig"in q&&n(6,_=q.outTransitionConfig),"id"in q&&n(13,y=q.id),"asChild"in q&&n(7,w=q.asChild),"el"in q&&n(0,C=q.el),"$$scope"in q&&n(15,u=q.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&8192&&y&&G.content.set(y),t.$$.dirty[0]&16384&&n(8,o=l),t.$$.dirty[0]&256&&Object.assign(o,j)},[C,f,c,d,p,h,_,w,o,a,k,D,r,y,l,u,s,F,E,U,b,g,S,O,H,R,J,te,Z,W,ne,m,$,K,Y,se,ue,Se,De,Ve,tt,de,Me,He,$e,Ge,ke,Ae,_t,It,dt,qt,Nt,ft,xe,be,Ke]}let g_=class extends we{constructor(e){super(),ye(this,e,__,h_,ce,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,id:13,asChild:7,el:0},null,[-1,-1])}};const b_=t=>({builder:t&256}),Na=t=>({builder:t[8]});function v_(t){let e,n,o,i=[t[8],t[12]],r={};for(let l=0;l<i.length;l+=1)r=X(r,i[l]);return{c(){e=P("div"),le(e,r)},m(l,a){M(l,e,a),t[20](e),n||(o=je(t[8].action(e)),n=!0)},p(l,a){le(e,r=ve(i,[a&256&&l[8],a&4096&&l[12]]))},i:Ce,o:Ce,d(l){l&&I(e),t[20](null),n=!1,o()}}}function y_(t){let e,n,o,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=X(a,l[s]);return{c(){e=P("div"),le(e,a)},m(s,u){M(s,e,u),t[19](e),o=!0,i||(r=je(t[8].action(e)),i=!0)},p(s,u){t=s,le(e,a=ve(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(n&&n.end(1),o=!0)},o(s){s&&(n=Xt(e,t[5],t[6])),o=!1},d(s){s&&I(e),t[19](null),s&&n&&n.end(),i=!1,r()}}}function w_(t){let e,n,o,i,r=[t[8],t[12]],l={};for(let a=0;a<r.length;a+=1)l=X(l,r[a]);return{c(){e=P("div"),le(e,l)},m(a,s){M(a,e,s),t[18](e),o||(i=je(t[8].action(e)),o=!0)},p(a,s){t=a,le(e,l=ve(r,[s&256&&t[8],s&4096&&t[12]]))},i(a){a&&(n||nt(()=>{n=Yt(e,t[3],t[4]),n.start()}))},o:Ce,d(a){a&&I(e),t[18](null),o=!1,i()}}}function k_(t){let e,n,o,i,r,l,a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=X(s,a[u]);return{c(){e=P("div"),le(e,s)},m(u,f){M(u,e,f),t[17](e),i=!0,r||(l=je(t[8].action(e)),r=!0)},p(u,f){t=u,le(e,s=ve(a,[f&256&&t[8],f&4096&&t[12]]))},i(u){i||(u&&nt(()=>{i&&(o&&o.end(1),n=Yt(e,t[3],t[4]),n.start())}),i=!0)},o(u){n&&n.invalidate(),u&&(o=Xt(e,t[5],t[6])),i=!1},d(u){u&&I(e),t[17](null),u&&o&&o.end(),r=!1,l()}}}function C_(t){let e,n,o,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=X(a,l[s]);return{c(){e=P("div"),le(e,a)},m(s,u){M(s,e,u),t[16](e),o=!0,i||(r=je(t[8].action(e)),i=!0)},p(s,u){t=s,le(e,a=ve(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(s&&nt(()=>{o&&(n||(n=Kt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(s){s&&(n||(n=Kt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(s){s&&I(e),t[16](null),s&&n&&n.end(),i=!1,r()}}}function A_(t){let e;const n=t[15].default,o=me(n,t,t[14],Na);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&16640)&&he(o,n,i,i[14],e?pe(n,i[14],r,b_):_e(i[14]),Na)},i(i){e||(A(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function S_(t){let e,n,o,i;const r=[A_,C_,k_,w_,y_,v_],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=Re()},m(s,u){~e&&l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Pe(),T(l[f],1,1,()=>{l[f]=null}),Oe()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(A(n),i=!0)},o(s){T(n),i=!1},d(s){s&&I(o),~e&&l[e].d(s)}}}function T_(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","el"];let r=re(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:p=void 0}=e,{outTransition:h=void 0}=e,{outTransitionConfig:_=void 0}=e,{asChild:y=!1}=e,{el:w=void 0}=e;const{elements:{overlay:C},states:{open:k},getAttrs:D}=$n();fe(t,C,b=>n(13,l=b)),fe(t,k,b=>n(9,a=b));const G=D("overlay");function L(b){Ie[b?"unshift":"push"](()=>{w=b,n(0,w)})}function j(b){Ie[b?"unshift":"push"](()=>{w=b,n(0,w)})}function F(b){Ie[b?"unshift":"push"](()=>{w=b,n(0,w)})}function E(b){Ie[b?"unshift":"push"](()=>{w=b,n(0,w)})}function U(b){Ie[b?"unshift":"push"](()=>{w=b,n(0,w)})}return t.$$set=b=>{e=X(X({},e),Ne(b)),n(12,r=re(e,i)),"transition"in b&&n(1,f=b.transition),"transitionConfig"in b&&n(2,c=b.transitionConfig),"inTransition"in b&&n(3,d=b.inTransition),"inTransitionConfig"in b&&n(4,p=b.inTransitionConfig),"outTransition"in b&&n(5,h=b.outTransition),"outTransitionConfig"in b&&n(6,_=b.outTransitionConfig),"asChild"in b&&n(7,y=b.asChild),"el"in b&&n(0,w=b.el),"$$scope"in b&&n(14,u=b.$$scope)},t.$$.update=()=>{t.$$.dirty&8192&&n(8,o=l),t.$$.dirty&256&&Object.assign(o,G)},[w,f,c,d,p,h,_,y,o,a,C,k,r,l,u,s,L,j,F,E,U]}let I_=class extends we{constructor(e){super(),ye(this,e,T_,S_,ce,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,el:0})}};const M_=t=>({builder:t&4}),Ea=t=>({builder:t[2]}),P_=t=>({builder:t&4}),Ra=t=>({builder:t[2]});function O_(t){let e,n,o,i;const r=t[8].default,l=me(r,t,t[7],Ea);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=X(s,a[u]);return{c(){e=P("div"),l&&l.c(),le(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[9](e),n=!0,o||(i=je(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&he(l,r,u,u[7],n?pe(r,u[7],f,M_):_e(u[7]),Ea),le(e,s=ve(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(A(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&I(e),l&&l.d(u),t[9](null),o=!1,i()}}}function N_(t){let e;const n=t[8].default,o=me(n,t,t[7],Ra);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&he(o,n,i,i[7],e?pe(n,i[7],r,P_):_e(i[7]),Ra)},i(i){e||(A(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function E_(t){let e,n,o,i;const r=[N_,O_],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),T(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){T(n),i=!1},d(s){s&&I(o),l[e].d(s)}}}function R_(t,e,n){let o;const i=["asChild","id","el"];let r=re(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{description:d},ids:p,getAttrs:h}=$n();fe(t,d,w=>n(6,l=w));const _=h("description");function y(w){Ie[w?"unshift":"push"](()=>{c=w,n(0,c)})}return t.$$set=w=>{e=X(X({},e),Ne(w)),n(4,r=re(e,i)),"asChild"in w&&n(1,u=w.asChild),"id"in w&&n(5,f=w.id),"el"in w&&n(0,c=w.el),"$$scope"in w&&n(7,s=w.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f&&p.description.set(f),t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,_)},[c,u,o,d,r,f,l,s,a,y]}let D_=class extends we{constructor(e){super(),ye(this,e,R_,E_,ce,{asChild:1,id:5,el:0})}};function L_(t,e){const n=[];return e.builders.forEach(o=>{const i=o.action(t);i&&n.push(i)}),{destroy:()=>{n.forEach(o=>{o.destroy&&o.destroy()})}}}function Da(t){const e={};return t.forEach(n=>{Object.keys(n).forEach(o=>{o!=="action"&&(e[o]=n[o])})}),e}function F_(t){let e=t[1]?"a":"button",n,o,i=(t[1]?"a":"button")&&tl(t);return{c(){i&&i.c(),n=Re()},m(r,l){i&&i.m(r,l),M(r,n,l),o=!0},p(r,l){r[1],e?ce(e,r[1]?"a":"button")?(i.d(1),i=tl(r),e=r[1]?"a":"button",i.c(),i.m(n.parentNode,n)):i.p(r,l):(i=tl(r),e=r[1]?"a":"button",i.c(),i.m(n.parentNode,n))},i(r){o||(A(i,r),o=!0)},o(r){T(i,r),o=!1},d(r){r&&I(n),i&&i.d(r)}}}function q_(t){let e=t[1]?"a":"button",n,o,i=(t[1]?"a":"button")&&nl(t);return{c(){i&&i.c(),n=Re()},m(r,l){i&&i.m(r,l),M(r,n,l),o=!0},p(r,l){r[1],e?ce(e,r[1]?"a":"button")?(i.d(1),i=nl(r),e=r[1]?"a":"button",i.c(),i.m(n.parentNode,n)):i.p(r,l):(i=nl(r),e=r[1]?"a":"button",i.c(),i.m(n.parentNode,n))},i(r){o||(A(i,r),o=!0)},o(r){T(i,r),o=!1},d(r){r&&I(n),i&&i.d(r)}}}function tl(t){let e,n,o,i,r;const l=t[7].default,a=me(l,t,t[6],null);let s=[{type:n=t[1]?void 0:t[2]},{href:t[1]},{tabindex:"0"},t[5],t[4]],u={};for(let f=0;f<s.length;f+=1)u=X(u,s[f]);return{c(){e=P(t[1]?"a":"button"),a&&a.c(),bn(t[1]?"a":"button")(e,u)},m(f,c){M(f,e,c),a&&a.m(e,null),o=!0,i||(r=[ee(e,"click",t[14]),ee(e,"change",t[15]),ee(e,"keydown",t[16]),ee(e,"keyup",t[17]),ee(e,"mouseenter",t[18]),ee(e,"mouseleave",t[19])],i=!0)},p(f,c){a&&a.p&&(!o||c&64)&&he(a,l,f,f[6],o?pe(l,f[6],c,null):_e(f[6]),null),bn(f[1]?"a":"button")(e,u=ve(s,[(!o||c&6&&n!==(n=f[1]?void 0:f[2]))&&{type:n},(!o||c&2)&&{href:f[1]},{tabindex:"0"},c&32&&f[5],f[4]]))},i(f){o||(A(a,f),o=!0)},o(f){T(a,f),o=!1},d(f){f&&I(e),a&&a.d(f),i=!1,qe(r)}}}function nl(t){let e,n,o,i,r,l;const a=t[7].default,s=me(a,t,t[6],null);let u=[{type:n=t[1]?void 0:t[2]},{href:t[1]},{tabindex:"0"},Da(t[3]),t[5],t[4]],f={};for(let c=0;c<u.length;c+=1)f=X(f,u[c]);return{c(){e=P(t[1]?"a":"button"),s&&s.c(),bn(t[1]?"a":"button")(e,f)},m(c,d){M(c,e,d),s&&s.m(e,null),t[20](e),i=!0,r||(l=[ee(e,"click",t[8]),ee(e,"change",t[9]),ee(e,"keydown",t[10]),ee(e,"keyup",t[11]),ee(e,"mouseenter",t[12]),ee(e,"mouseleave",t[13]),je(o=L_.call(null,e,{builders:t[3]}))],r=!0)},p(c,d){s&&s.p&&(!i||d&64)&&he(s,a,c,c[6],i?pe(a,c[6],d,null):_e(c[6]),null),bn(c[1]?"a":"button")(e,f=ve(u,[(!i||d&6&&n!==(n=c[1]?void 0:c[2]))&&{type:n},(!i||d&2)&&{href:c[1]},{tabindex:"0"},d&8&&Da(c[3]),d&32&&c[5],c[4]])),o&&An(o.update)&&d&8&&o.update.call(null,{builders:c[3]})},i(c){i||(A(s,c),i=!0)},o(c){T(s,c),i=!1},d(c){c&&I(e),s&&s.d(c),t[20](null),r=!1,qe(l)}}}function j_(t){let e,n,o,i;const r=[q_,F_],l=[];function a(s,u){return s[3]&&s[3].length?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),T(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){T(n),i=!1},d(s){s&&I(o),l[e].d(s)}}}function B_(t,e,n){const o=["href","type","builders","el"];let i=re(e,o),{$$slots:r={},$$scope:l}=e,{href:a=void 0}=e,{type:s=void 0}=e,{builders:u=[]}=e,{el:f=void 0}=e;const c={"data-button-root":""};function d(E){oe.call(this,t,E)}function p(E){oe.call(this,t,E)}function h(E){oe.call(this,t,E)}function _(E){oe.call(this,t,E)}function y(E){oe.call(this,t,E)}function w(E){oe.call(this,t,E)}function C(E){oe.call(this,t,E)}function k(E){oe.call(this,t,E)}function D(E){oe.call(this,t,E)}function G(E){oe.call(this,t,E)}function L(E){oe.call(this,t,E)}function j(E){oe.call(this,t,E)}function F(E){Ie[E?"unshift":"push"](()=>{f=E,n(0,f)})}return t.$$set=E=>{e=X(X({},e),Ne(E)),n(5,i=re(e,o)),"href"in E&&n(1,a=E.href),"type"in E&&n(2,s=E.type),"builders"in E&&n(3,u=E.builders),"el"in E&&n(0,f=E.el),"$$scope"in E&&n(6,l=E.$$scope)},[f,a,s,u,c,i,l,r,d,p,h,_,y,w,C,k,D,G,L,j,F]}let V_=class extends we{constructor(e){super(),ye(this,e,B_,j_,ce,{href:1,type:2,builders:3,el:0})}};function G_(t){return(e={})=>H_(t,e)}function H_(t,e){const o={...{side:"bottom",align:"center",sideOffset:0,alignOffset:0,sameWidth:!1,avoidCollisions:!0,collisionPadding:8,fitViewport:!1,strategy:"absolute",overlap:!1},...e};t.update(i=>({...i,placement:W_(o.side,o.align),offset:{...i.offset,mainAxis:o.sideOffset,crossAxis:o.alignOffset},gutter:0,sameWidth:o.sameWidth,flip:o.avoidCollisions,overflowPadding:o.collisionPadding,boundary:o.collisionBoundary,fitViewport:o.fitViewport,strategy:o.strategy,overlap:o.overlap}))}function W_(t,e){return e==="center"?t:`${t}-${e}`}function $_(){return{NAME:"separator",PARTS:["root"]}}function K_(t){const{NAME:e,PARTS:n}=$_(),o=Hn(e,n),i={...b0(wo(t)),getAttrs:o};return{...i,updateOption:qn(i.options)}}const U_=t=>({builder:t&4}),La=t=>({builder:t[2]});function Y_(t){let e,n,o,i=[t[2],t[4]],r={};for(let l=0;l<i.length;l+=1)r=X(r,i[l]);return{c(){e=P("div"),le(e,r)},m(l,a){M(l,e,a),t[10](e),n||(o=je(t[2].action(e)),n=!0)},p(l,a){le(e,r=ve(i,[a&4&&l[2],a&16&&l[4]]))},i:Ce,o:Ce,d(l){l&&I(e),t[10](null),n=!1,o()}}}function X_(t){let e;const n=t[9].default,o=me(n,t,t[8],La);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&260)&&he(o,n,i,i[8],e?pe(n,i[8],r,U_):_e(i[8]),La)},i(i){e||(A(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function J_(t){let e,n,o,i;const r=[X_,Y_],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),T(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){T(n),i=!1},d(s){s&&I(o),l[e].d(s)}}}function Z_(t,e,n){let o;const i=["orientation","decorative","asChild","el"];let r=re(e,i),l,{$$slots:a={},$$scope:s}=e,{orientation:u="horizontal"}=e,{decorative:f=!0}=e,{asChild:c=!1}=e,{el:d=void 0}=e;const{elements:{root:p},updateOption:h,getAttrs:_}=K_({orientation:u,decorative:f});fe(t,p,C=>n(7,l=C));const y=_("root");function w(C){Ie[C?"unshift":"push"](()=>{d=C,n(0,d)})}return t.$$set=C=>{e=X(X({},e),Ne(C)),n(4,r=re(e,i)),"orientation"in C&&n(5,u=C.orientation),"decorative"in C&&n(6,f=C.decorative),"asChild"in C&&n(1,c=C.asChild),"el"in C&&n(0,d=C.el),"$$scope"in C&&n(8,s=C.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&h("orientation",u),t.$$.dirty&64&&h("decorative",f),t.$$.dirty&128&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,y)},[d,c,o,p,r,u,f,l,s,a,w]}let Q_=class extends we{constructor(e){super(),ye(this,e,Z_,J_,ce,{orientation:5,decorative:6,asChild:1,el:0})}};function od(){return{NAME:"dialog",PARTS:["close","content","description","overlay","portal","title","trigger"]}}function x_(t){const{NAME:e,PARTS:n}=od(),o=Hn(e,n),i={...td({...wo(t),role:"dialog",forceVisible:!0}),getAttrs:o};return kr(e,i),{...i,updateOption:qn(i.options)}}function ko(){const{NAME:t}=od();return Cr(t)}const z_=t=>({ids:t&1}),Fa=t=>({ids:t[0]});function eg(t){let e;const n=t[12].default,o=me(n,t,t[11],Fa);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,[r]){o&&o.p&&(!e||r&2049)&&he(o,n,i,i[11],e?pe(n,i[11],r,z_):_e(i[11]),Fa)},i(i){e||(A(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function tg(t,e,n){let o,{$$slots:i={},$$scope:r}=e,{preventScroll:l=void 0}=e,{closeOnEscape:a=void 0}=e,{closeOnOutsideClick:s=void 0}=e,{portal:u=void 0}=e,{open:f=void 0}=e,{onOpenChange:c=void 0}=e,{openFocus:d=void 0}=e,{closeFocus:p=void 0}=e,{onOutsideClick:h=void 0}=e;const{states:{open:_},updateOption:y,ids:w}=x_({closeOnEscape:a,preventScroll:l,closeOnOutsideClick:s,portal:u,forceVisible:!0,defaultOpen:f,openFocus:d,closeFocus:p,onOutsideClick:h,onOpenChange:({next:k})=>(f!==k&&(c==null||c(k),n(2,f=k)),k)}),C=ln([w.content,w.description,w.title],([k,D,G])=>({content:k,description:D,title:G}));return fe(t,C,k=>n(0,o=k)),t.$$set=k=>{"preventScroll"in k&&n(3,l=k.preventScroll),"closeOnEscape"in k&&n(4,a=k.closeOnEscape),"closeOnOutsideClick"in k&&n(5,s=k.closeOnOutsideClick),"portal"in k&&n(6,u=k.portal),"open"in k&&n(2,f=k.open),"onOpenChange"in k&&n(7,c=k.onOpenChange),"openFocus"in k&&n(8,d=k.openFocus),"closeFocus"in k&&n(9,p=k.closeFocus),"onOutsideClick"in k&&n(10,h=k.onOutsideClick),"$$scope"in k&&n(11,r=k.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&f!==void 0&&_.set(f),t.$$.dirty&8&&y("preventScroll",l),t.$$.dirty&16&&y("closeOnEscape",a),t.$$.dirty&32&&y("closeOnOutsideClick",s),t.$$.dirty&64&&y("portal",u),t.$$.dirty&256&&y("openFocus",d),t.$$.dirty&512&&y("closeFocus",p),t.$$.dirty&1024&&y("onOutsideClick",h)},[o,C,f,l,a,s,u,c,d,p,h,r,i]}class ng extends we{constructor(e){super(),ye(this,e,tg,eg,ce,{preventScroll:3,closeOnEscape:4,closeOnOutsideClick:5,portal:6,open:2,onOpenChange:7,openFocus:8,closeFocus:9,onOutsideClick:10})}}const og=t=>({builder:t&8}),qa=t=>({builder:t[3]}),ig=t=>({builder:t&8}),ja=t=>({builder:t[3]});function rg(t){let e=t[1],n,o,i=t[1]&&ol(t);return{c(){i&&i.c(),n=Re()},m(r,l){i&&i.m(r,l),M(r,n,l),o=!0},p(r,l){r[1]?e?ce(e,r[1])?(i.d(1),i=ol(r),e=r[1],i.c(),i.m(n.parentNode,n)):i.p(r,l):(i=ol(r),e=r[1],i.c(),i.m(n.parentNode,n)):e&&(i.d(1),i=null,e=r[1])},i(r){o||(A(i,r),o=!0)},o(r){T(i,r),o=!1},d(r){r&&I(n),i&&i.d(r)}}}function lg(t){let e;const n=t[9].default,o=me(n,t,t[8],ja);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&264)&&he(o,n,i,i[8],e?pe(n,i[8],r,ig):_e(i[8]),ja)},i(i){e||(A(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function ol(t){let e,n,o,i;const r=t[9].default,l=me(r,t,t[8],qa);let a=[t[3],t[5]],s={};for(let u=0;u<a.length;u+=1)s=X(s,a[u]);return{c(){e=P(t[1]),l&&l.c(),bn(t[1])(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[10](e),n=!0,o||(i=je(t[3].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&264)&&he(l,r,u,u[8],n?pe(r,u[8],f,og):_e(u[8]),qa),bn(u[1])(e,s=ve(a,[f&8&&u[3],f&32&&u[5]]))},i(u){n||(A(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&I(e),l&&l.d(u),t[10](null),o=!1,i()}}}function sg(t){let e,n,o,i;const r=[lg,rg],l=[];function a(s,u){return s[2]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),T(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){T(n),i=!1},d(s){s&&I(o),l[e].d(s)}}}function ag(t,e,n){let o;const i=["level","asChild","id","el"];let r=re(e,i),l,{$$slots:a={},$$scope:s}=e,{level:u="h2"}=e,{asChild:f=!1}=e,{id:c=void 0}=e,{el:d=void 0}=e;const{elements:{title:p},ids:h,getAttrs:_}=ko();fe(t,p,C=>n(7,l=C));const y=_("title");function w(C){Ie[C?"unshift":"push"](()=>{d=C,n(0,d)})}return t.$$set=C=>{e=X(X({},e),Ne(C)),n(5,r=re(e,i)),"level"in C&&n(1,u=C.level),"asChild"in C&&n(2,f=C.asChild),"id"in C&&n(6,c=C.id),"el"in C&&n(0,d=C.el),"$$scope"in C&&n(8,s=C.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&c&&h.title.set(c),t.$$.dirty&128&&n(3,o=l),t.$$.dirty&8&&Object.assign(o,y)},[d,u,f,o,p,r,c,l,s,a,w]}let ug=class extends we{constructor(e){super(),ye(this,e,ag,sg,ce,{level:1,asChild:2,id:6,el:0})}};const fg=t=>({builder:t&4}),Ba=t=>({builder:t[2]}),cg=t=>({builder:t&4}),Va=t=>({builder:t[2]});function dg(t){let e,n,o,i;const r=t[8].default,l=me(r,t,t[7],Ba);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=X(s,a[u]);return{c(){e=P("button"),l&&l.c(),le(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[9](e),n=!0,o||(i=[je(t[2].action(e)),ee(e,"m-click",t[4]),ee(e,"m-keydown",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&he(l,r,u,u[7],n?pe(r,u[7],f,fg):_e(u[7]),Ba),le(e,s=ve(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(A(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&I(e),l&&l.d(u),t[9](null),o=!1,qe(i)}}}function mg(t){let e;const n=t[8].default,o=me(n,t,t[7],Va);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&he(o,n,i,i[7],e?pe(n,i[7],r,cg):_e(i[7]),Va)},i(i){e||(A(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function pg(t){let e,n,o,i;const r=[mg,dg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),T(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){T(n),i=!1},d(s){s&&I(o),l[e].d(s)}}}function hg(t,e,n){let o;const i=["asChild","el"];let r=re(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:d}=ko();fe(t,c,y=>n(6,l=y));const p=Wn(),h=d("close");function _(y){Ie[y?"unshift":"push"](()=>{f=y,n(0,f)})}return t.$$set=y=>{e=X(X({},e),Ne(y)),n(5,r=re(e,i)),"asChild"in y&&n(1,u=y.asChild),"el"in y&&n(0,f=y.el),"$$scope"in y&&n(7,s=y.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,h)},[f,u,o,c,p,r,l,s,a,_]}class _g extends we{constructor(e){super(),ye(this,e,hg,pg,ce,{asChild:1,el:0})}}const gg=t=>({builder:t&4}),Ga=t=>({builder:t[2]}),bg=t=>({builder:t&4}),Ha=t=>({builder:t[2]});function vg(t){let e,n,o,i;const r=t[7].default,l=me(r,t,t[6],Ga);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=X(s,a[u]);return{c(){e=P("div"),l&&l.c(),le(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[8](e),n=!0,o||(i=je(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&68)&&he(l,r,u,u[6],n?pe(r,u[6],f,gg):_e(u[6]),Ga),le(e,s=ve(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(A(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&I(e),l&&l.d(u),t[8](null),o=!1,i()}}}function yg(t){let e;const n=t[7].default,o=me(n,t,t[6],Ha);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&68)&&he(o,n,i,i[6],e?pe(n,i[6],r,bg):_e(i[6]),Ha)},i(i){e||(A(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function wg(t){let e,n,o,i;const r=[yg,vg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),T(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){T(n),i=!1},d(s){s&&I(o),l[e].d(s)}}}function kg(t,e,n){let o;const i=["asChild","el"];let r=re(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{portalled:c},getAttrs:d}=ko();fe(t,c,_=>n(5,l=_));const p=d("portal");function h(_){Ie[_?"unshift":"push"](()=>{f=_,n(0,f)})}return t.$$set=_=>{e=X(X({},e),Ne(_)),n(4,r=re(e,i)),"asChild"in _&&n(1,u=_.asChild),"el"in _&&n(0,f=_.el),"$$scope"in _&&n(6,s=_.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,p)},[f,u,o,c,r,l,s,a,h]}let Cg=class extends we{constructor(e){super(),ye(this,e,kg,wg,ce,{asChild:1,el:0})}};const Ag=t=>({builder:t[0]&256}),Wa=t=>({builder:t[8]}),Sg=t=>({builder:t[0]&256}),$a=t=>({builder:t[8]}),Tg=t=>({builder:t[0]&256}),Ka=t=>({builder:t[8]}),Ig=t=>({builder:t[0]&256}),Ua=t=>({builder:t[8]}),Mg=t=>({builder:t[0]&256}),Ya=t=>({builder:t[8]}),Pg=t=>({builder:t[0]&256}),Xa=t=>({builder:t[8]});function Og(t){let e,n,o,i;const r=t[16].default,l=me(r,t,t[15],Wa);let a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=X(s,a[u]);return{c(){e=P("div"),l&&l.c(),le(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[56](e),n=!0,o||(i=[je(t[8].action(e)),ee(e,"pointerdown",t[45]),ee(e,"pointermove",t[46]),ee(e,"pointerup",t[47]),ee(e,"touchend",t[48]),ee(e,"touchstart",t[49]),ee(e,"touchcancel",t[50]),ee(e,"touchmove",t[51])],o=!0)},p(u,f){l&&l.p&&(!n||f[0]&33024)&&he(l,r,u,u[15],n?pe(r,u[15],f,Ag):_e(u[15]),Wa),le(e,s=ve(a,[f[0]&256&&u[8],f[0]&4096&&u[12]]))},i(u){n||(A(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&I(e),l&&l.d(u),t[56](null),o=!1,qe(i)}}}function Ng(t){let e,n,o,i,r;const l=t[16].default,a=me(l,t,t[15],$a);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=X(u,s[f]);return{c(){e=P("div"),a&&a.c(),le(e,u)},m(f,c){M(f,e,c),a&&a.m(e,null),t[55](e),o=!0,i||(r=[je(t[8].action(e)),ee(e,"pointerdown",t[38]),ee(e,"pointermove",t[39]),ee(e,"pointerup",t[40]),ee(e,"touchend",t[41]),ee(e,"touchstart",t[42]),ee(e,"touchcancel",t[43]),ee(e,"touchmove",t[44])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&he(a,l,t,t[15],o?pe(l,t[15],c,Sg):_e(t[15]),$a),le(e,u=ve(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(A(a,f),n&&n.end(1),o=!0)},o(f){T(a,f),f&&(n=Xt(e,t[5],t[6])),o=!1},d(f){f&&I(e),a&&a.d(f),t[55](null),f&&n&&n.end(),i=!1,qe(r)}}}function Eg(t){let e,n,o,i,r;const l=t[16].default,a=me(l,t,t[15],Ka);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=X(u,s[f]);return{c(){e=P("div"),a&&a.c(),le(e,u)},m(f,c){M(f,e,c),a&&a.m(e,null),t[54](e),o=!0,i||(r=[je(t[8].action(e)),ee(e,"pointerdown",t[31]),ee(e,"pointermove",t[32]),ee(e,"pointerup",t[33]),ee(e,"touchend",t[34]),ee(e,"touchstart",t[35]),ee(e,"touchcancel",t[36]),ee(e,"touchmove",t[37])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&he(a,l,t,t[15],o?pe(l,t[15],c,Tg):_e(t[15]),Ka),le(e,u=ve(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(A(a,f),f&&(n||nt(()=>{n=Yt(e,t[3],t[4]),n.start()})),o=!0)},o(f){T(a,f),o=!1},d(f){f&&I(e),a&&a.d(f),t[54](null),i=!1,qe(r)}}}function Rg(t){let e,n,o,i,r,l;const a=t[16].default,s=me(a,t,t[15],Ua);let u=[t[8],t[12]],f={};for(let c=0;c<u.length;c+=1)f=X(f,u[c]);return{c(){e=P("div"),s&&s.c(),le(e,f)},m(c,d){M(c,e,d),s&&s.m(e,null),t[53](e),i=!0,r||(l=[je(t[8].action(e)),ee(e,"pointerdown",t[24]),ee(e,"pointermove",t[25]),ee(e,"pointerup",t[26]),ee(e,"touchend",t[27]),ee(e,"touchstart",t[28]),ee(e,"touchcancel",t[29]),ee(e,"touchmove",t[30])],r=!0)},p(c,d){t=c,s&&s.p&&(!i||d[0]&33024)&&he(s,a,t,t[15],i?pe(a,t[15],d,Ig):_e(t[15]),Ua),le(e,f=ve(u,[d[0]&256&&t[8],d[0]&4096&&t[12]]))},i(c){i||(A(s,c),c&&nt(()=>{i&&(o&&o.end(1),n=Yt(e,t[3],t[4]),n.start())}),i=!0)},o(c){T(s,c),n&&n.invalidate(),c&&(o=Xt(e,t[5],t[6])),i=!1},d(c){c&&I(e),s&&s.d(c),t[53](null),c&&o&&o.end(),r=!1,qe(l)}}}function Dg(t){let e,n,o,i,r;const l=t[16].default,a=me(l,t,t[15],Ya);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=X(u,s[f]);return{c(){e=P("div"),a&&a.c(),le(e,u)},m(f,c){M(f,e,c),a&&a.m(e,null),t[52](e),o=!0,i||(r=[je(t[8].action(e)),ee(e,"pointerdown",t[17]),ee(e,"pointermove",t[18]),ee(e,"pointerup",t[19]),ee(e,"touchend",t[20]),ee(e,"touchstart",t[21]),ee(e,"touchcancel",t[22]),ee(e,"touchmove",t[23])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&he(a,l,t,t[15],o?pe(l,t[15],c,Mg):_e(t[15]),Ya),le(e,u=ve(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(A(a,f),f&&nt(()=>{o&&(n||(n=Kt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(f){T(a,f),f&&(n||(n=Kt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(f){f&&I(e),a&&a.d(f),t[52](null),f&&n&&n.end(),i=!1,qe(r)}}}function Lg(t){let e;const n=t[16].default,o=me(n,t,t[15],Xa);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r[0]&33024)&&he(o,n,i,i[15],e?pe(n,i[15],r,Pg):_e(i[15]),Xa)},i(i){e||(A(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function Fg(t){let e,n,o,i;const r=[Lg,Dg,Rg,Eg,Ng,Og],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=Re()},m(s,u){~e&&l[e].m(s,u),M(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Pe(),T(l[f],1,1,()=>{l[f]=null}),Oe()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(A(n),i=!0)},o(s){T(n),i=!1},d(s){s&&I(o),~e&&l[e].d(s)}}}function qg(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","id","el"];let r=re(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:p=void 0}=e,{outTransition:h=void 0}=e,{outTransitionConfig:_=void 0}=e,{asChild:y=!1}=e,{id:w=void 0}=e,{el:C=void 0}=e;const{elements:{content:k},states:{open:D},ids:G,getAttrs:L}=ko();fe(t,k,q=>n(14,l=q)),fe(t,D,q=>n(9,a=q));const j=L("content");function F(q){oe.call(this,t,q)}function E(q){oe.call(this,t,q)}function U(q){oe.call(this,t,q)}function b(q){oe.call(this,t,q)}function g(q){oe.call(this,t,q)}function S(q){oe.call(this,t,q)}function O(q){oe.call(this,t,q)}function H(q){oe.call(this,t,q)}function R(q){oe.call(this,t,q)}function J(q){oe.call(this,t,q)}function te(q){oe.call(this,t,q)}function Z(q){oe.call(this,t,q)}function W(q){oe.call(this,t,q)}function ne(q){oe.call(this,t,q)}function m(q){oe.call(this,t,q)}function $(q){oe.call(this,t,q)}function K(q){oe.call(this,t,q)}function Y(q){oe.call(this,t,q)}function se(q){oe.call(this,t,q)}function ue(q){oe.call(this,t,q)}function Se(q){oe.call(this,t,q)}function De(q){oe.call(this,t,q)}function Ve(q){oe.call(this,t,q)}function tt(q){oe.call(this,t,q)}function de(q){oe.call(this,t,q)}function Me(q){oe.call(this,t,q)}function He(q){oe.call(this,t,q)}function $e(q){oe.call(this,t,q)}function Ge(q){oe.call(this,t,q)}function ke(q){oe.call(this,t,q)}function Ae(q){oe.call(this,t,q)}function _t(q){oe.call(this,t,q)}function It(q){oe.call(this,t,q)}function dt(q){oe.call(this,t,q)}function qt(q){oe.call(this,t,q)}function Nt(q){Ie[q?"unshift":"push"](()=>{C=q,n(0,C)})}function ft(q){Ie[q?"unshift":"push"](()=>{C=q,n(0,C)})}function xe(q){Ie[q?"unshift":"push"](()=>{C=q,n(0,C)})}function be(q){Ie[q?"unshift":"push"](()=>{C=q,n(0,C)})}function Ke(q){Ie[q?"unshift":"push"](()=>{C=q,n(0,C)})}return t.$$set=q=>{e=X(X({},e),Ne(q)),n(12,r=re(e,i)),"transition"in q&&n(1,f=q.transition),"transitionConfig"in q&&n(2,c=q.transitionConfig),"inTransition"in q&&n(3,d=q.inTransition),"inTransitionConfig"in q&&n(4,p=q.inTransitionConfig),"outTransition"in q&&n(5,h=q.outTransition),"outTransitionConfig"in q&&n(6,_=q.outTransitionConfig),"asChild"in q&&n(7,y=q.asChild),"id"in q&&n(13,w=q.id),"el"in q&&n(0,C=q.el),"$$scope"in q&&n(15,u=q.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&8192&&w&&G.content.set(w),t.$$.dirty[0]&16384&&n(8,o=l),t.$$.dirty[0]&256&&Object.assign(o,j)},[C,f,c,d,p,h,_,y,o,a,k,D,r,w,l,u,s,F,E,U,b,g,S,O,H,R,J,te,Z,W,ne,m,$,K,Y,se,ue,Se,De,Ve,tt,de,Me,He,$e,Ge,ke,Ae,_t,It,dt,qt,Nt,ft,xe,be,Ke]}let jg=class extends we{constructor(e){super(),ye(this,e,qg,Fg,ce,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,id:13,el:0},null,[-1,-1])}};const Bg=t=>({builder:t&256}),Ja=t=>({builder:t[8]});function Vg(t){let e,n,o,i=[t[8],t[12]],r={};for(let l=0;l<i.length;l+=1)r=X(r,i[l]);return{c(){e=P("div"),le(e,r)},m(l,a){M(l,e,a),t[25](e),n||(o=[je(t[8].action(e)),ee(e,"mouseup",t[20])],n=!0)},p(l,a){le(e,r=ve(i,[a&256&&l[8],a&4096&&l[12]]))},i:Ce,o:Ce,d(l){l&&I(e),t[25](null),n=!1,qe(o)}}}function Gg(t){let e,n,o,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=X(a,l[s]);return{c(){e=P("div"),le(e,a)},m(s,u){M(s,e,u),t[24](e),o=!0,i||(r=[je(t[8].action(e)),ee(e,"mouseup",t[19])],i=!0)},p(s,u){t=s,le(e,a=ve(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(n&&n.end(1),o=!0)},o(s){s&&(n=Xt(e,t[5],t[6])),o=!1},d(s){s&&I(e),t[24](null),s&&n&&n.end(),i=!1,qe(r)}}}function Hg(t){let e,n,o,i,r=[t[8],t[12]],l={};for(let a=0;a<r.length;a+=1)l=X(l,r[a]);return{c(){e=P("div"),le(e,l)},m(a,s){M(a,e,s),t[23](e),o||(i=[je(t[8].action(e)),ee(e,"mouseup",t[18])],o=!0)},p(a,s){t=a,le(e,l=ve(r,[s&256&&t[8],s&4096&&t[12]]))},i(a){a&&(n||nt(()=>{n=Yt(e,t[3],t[4]),n.start()}))},o:Ce,d(a){a&&I(e),t[23](null),o=!1,qe(i)}}}function Wg(t){let e,n,o,i,r,l,a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=X(s,a[u]);return{c(){e=P("div"),le(e,s)},m(u,f){M(u,e,f),t[22](e),i=!0,r||(l=[je(t[8].action(e)),ee(e,"mouseup",t[17])],r=!0)},p(u,f){t=u,le(e,s=ve(a,[f&256&&t[8],f&4096&&t[12]]))},i(u){i||(u&&nt(()=>{i&&(o&&o.end(1),n=Yt(e,t[3],t[4]),n.start())}),i=!0)},o(u){n&&n.invalidate(),u&&(o=Xt(e,t[5],t[6])),i=!1},d(u){u&&I(e),t[22](null),u&&o&&o.end(),r=!1,qe(l)}}}function $g(t){let e,n,o,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=X(a,l[s]);return{c(){e=P("div"),le(e,a)},m(s,u){M(s,e,u),t[21](e),o=!0,i||(r=[ee(e,"mouseup",t[16]),je(t[8].action(e))],i=!0)},p(s,u){t=s,le(e,a=ve(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(s&&nt(()=>{o&&(n||(n=Kt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(s){s&&(n||(n=Kt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(s){s&&I(e),t[21](null),s&&n&&n.end(),i=!1,qe(r)}}}function Kg(t){let e;const n=t[15].default,o=me(n,t,t[14],Ja);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&16640)&&he(o,n,i,i[14],e?pe(n,i[14],r,Bg):_e(i[14]),Ja)},i(i){e||(A(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function Ug(t){let e,n,o,i;const r=[Kg,$g,Wg,Hg,Gg,Vg],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=Re()},m(s,u){~e&&l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Pe(),T(l[f],1,1,()=>{l[f]=null}),Oe()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(A(n),i=!0)},o(s){T(n),i=!1},d(s){s&&I(o),~e&&l[e].d(s)}}}function Yg(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","el"];let r=re(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:p=void 0}=e,{outTransition:h=void 0}=e,{outTransitionConfig:_=void 0}=e,{asChild:y=!1}=e,{el:w=void 0}=e;const{elements:{overlay:C},states:{open:k},getAttrs:D}=ko();fe(t,C,R=>n(13,l=R)),fe(t,k,R=>n(9,a=R));const G=D("overlay");function L(R){oe.call(this,t,R)}function j(R){oe.call(this,t,R)}function F(R){oe.call(this,t,R)}function E(R){oe.call(this,t,R)}function U(R){oe.call(this,t,R)}function b(R){Ie[R?"unshift":"push"](()=>{w=R,n(0,w)})}function g(R){Ie[R?"unshift":"push"](()=>{w=R,n(0,w)})}function S(R){Ie[R?"unshift":"push"](()=>{w=R,n(0,w)})}function O(R){Ie[R?"unshift":"push"](()=>{w=R,n(0,w)})}function H(R){Ie[R?"unshift":"push"](()=>{w=R,n(0,w)})}return t.$$set=R=>{e=X(X({},e),Ne(R)),n(12,r=re(e,i)),"transition"in R&&n(1,f=R.transition),"transitionConfig"in R&&n(2,c=R.transitionConfig),"inTransition"in R&&n(3,d=R.inTransition),"inTransitionConfig"in R&&n(4,p=R.inTransitionConfig),"outTransition"in R&&n(5,h=R.outTransition),"outTransitionConfig"in R&&n(6,_=R.outTransitionConfig),"asChild"in R&&n(7,y=R.asChild),"el"in R&&n(0,w=R.el),"$$scope"in R&&n(14,u=R.$$scope)},t.$$.update=()=>{t.$$.dirty&8192&&n(8,o=l),t.$$.dirty&256&&Object.assign(o,G)},[w,f,c,d,p,h,_,y,o,a,C,k,r,l,u,s,L,j,F,E,U,b,g,S,O,H]}let Xg=class extends we{constructor(e){super(),ye(this,e,Yg,Ug,ce,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,el:0})}};const Jg=t=>({builder:t&4}),Za=t=>({builder:t[2]}),Zg=t=>({builder:t&4}),Qa=t=>({builder:t[2]});function Qg(t){let e,n,o,i;const r=t[8].default,l=me(r,t,t[7],Za);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=X(s,a[u]);return{c(){e=P("div"),l&&l.c(),le(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[9](e),n=!0,o||(i=je(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&he(l,r,u,u[7],n?pe(r,u[7],f,Jg):_e(u[7]),Za),le(e,s=ve(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(A(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&I(e),l&&l.d(u),t[9](null),o=!1,i()}}}function xg(t){let e;const n=t[8].default,o=me(n,t,t[7],Qa);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&he(o,n,i,i[7],e?pe(n,i[7],r,Zg):_e(i[7]),Qa)},i(i){e||(A(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function zg(t){let e,n,o,i;const r=[xg,Qg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),T(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){T(n),i=!1},d(s){s&&I(o),l[e].d(s)}}}function e1(t,e,n){let o;const i=["asChild","id","el"];let r=re(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{description:d},ids:p,getAttrs:h}=ko();fe(t,d,w=>n(6,l=w));const _=h("description");function y(w){Ie[w?"unshift":"push"](()=>{c=w,n(0,c)})}return t.$$set=w=>{e=X(X({},e),Ne(w)),n(4,r=re(e,i)),"asChild"in w&&n(1,u=w.asChild),"id"in w&&n(5,f=w.id),"el"in w&&n(0,c=w.el),"$$scope"in w&&n(7,s=w.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f&&p.description.set(f),t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,_)},[c,u,o,d,r,f,l,s,a,y]}let t1=class extends we{constructor(e){super(),ye(this,e,e1,zg,ce,{asChild:1,id:5,el:0})}};function n1(){const t="label",n=Hn(t,["root"]);return{NAME:t,getAttrs:n}}const o1=t=>({builder:t&4}),xa=t=>({builder:t[2]}),i1=t=>({builder:t&4}),za=t=>({builder:t[2]});function r1(t){let e,n,o,i;const r=t[8].default,l=me(r,t,t[7],xa);let a=[t[2],t[5]],s={};for(let u=0;u<a.length;u+=1)s=X(s,a[u]);return{c(){e=P("label"),l&&l.c(),le(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[9](e),n=!0,o||(i=[je(t[2].action(e)),ee(e,"m-mousedown",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&he(l,r,u,u[7],n?pe(r,u[7],f,o1):_e(u[7]),xa),le(e,s=ve(a,[f&4&&u[2],f&32&&u[5]]))},i(u){n||(A(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&I(e),l&&l.d(u),t[9](null),o=!1,qe(i)}}}function l1(t){let e;const n=t[8].default,o=me(n,t,t[7],za);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&he(o,n,i,i[7],e?pe(n,i[7],r,i1):_e(i[7]),za)},i(i){e||(A(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function s1(t){let e,n,o,i;const r=[l1,r1],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),T(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){T(n),i=!1},d(s){s&&I(o),l[e].d(s)}}}function a1(t,e,n){let o;const i=["asChild","el"];let r=re(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{root:c}}=c0();fe(t,c,y=>n(6,l=y));const d=Wn(),{getAttrs:p}=n1(),h=p("root");function _(y){Ie[y?"unshift":"push"](()=>{f=y,n(0,f)})}return t.$$set=y=>{e=X(X({},e),Ne(y)),n(5,r=re(e,i)),"asChild"in y&&n(1,u=y.asChild),"el"in y&&n(0,f=y.el),"$$scope"in y&&n(7,s=y.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,h)},[f,u,o,c,d,r,l,s,a,_]}let u1=class extends we{constructor(e){super(),ye(this,e,a1,s1,ce,{asChild:1,el:0})}};function f1(){return{NAME:"progress",PARTS:["root"]}}function c1(t){const{NAME:e,PARTS:n}=f1(),o=Hn(e,n),i={..._0(wo(t)),getAttrs:o};return{...i,updateOption:qn(i.options)}}const d1=t=>({builder:t&4}),eu=t=>({builder:t[2]}),m1=t=>({builder:t&4}),tu=t=>({builder:t[2]});function p1(t){let e,n,o,i;const r=t[10].default,l=me(r,t,t[9],eu);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=X(s,a[u]);return{c(){e=P("div"),l&&l.c(),le(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[11](e),n=!0,o||(i=je(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&516)&&he(l,r,u,u[9],n?pe(r,u[9],f,d1):_e(u[9]),eu),le(e,s=ve(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(A(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&I(e),l&&l.d(u),t[11](null),o=!1,i()}}}function h1(t){let e;const n=t[10].default,o=me(n,t,t[9],tu);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&516)&&he(o,n,i,i[9],e?pe(n,i[9],r,m1):_e(i[9]),tu)},i(i){e||(A(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function _1(t){let e,n,o,i;const r=[h1,p1],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),T(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){T(n),i=!1},d(s){s&&I(o),l[e].d(s)}}}function g1(t,e,n){let o;const i=["max","value","onValueChange","asChild","el"];let r=re(e,i),l,{$$slots:a={},$$scope:s}=e,{max:u=void 0}=e,{value:f=void 0}=e,{onValueChange:c=void 0}=e,{asChild:d=!1}=e,{el:p=void 0}=e;const{elements:{root:h},states:{value:_},updateOption:y,getAttrs:w}=c1({max:u,defaultValue:f,onValueChange:({next:D})=>(c==null||c(D),n(5,f=D),D)});fe(t,h,D=>n(8,l=D));const C=w("root");function k(D){Ie[D?"unshift":"push"](()=>{p=D,n(0,p)})}return t.$$set=D=>{e=X(X({},e),Ne(D)),n(4,r=re(e,i)),"max"in D&&n(6,u=D.max),"value"in D&&n(5,f=D.value),"onValueChange"in D&&n(7,c=D.onValueChange),"asChild"in D&&n(1,d=D.asChild),"el"in D&&n(0,p=D.el),"$$scope"in D&&n(9,s=D.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f!==void 0&&_.set(f),t.$$.dirty&64&&y("max",u),t.$$.dirty&256&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,C)},[p,d,o,h,r,f,u,c,l,s,a,k]}let b1=class extends we{constructor(e){super(),ye(this,e,g1,_1,ce,{max:6,value:5,onValueChange:7,asChild:1,el:0})}};function id(){return{NAME:"slider",PARTS:["root","input","range","thumb","tick"]}}function v1(t){const{NAME:e,PARTS:n}=id(),o=Hn(e,n),i={...y0(wo(t)),getAttrs:o};return kr(e,i),{...i,updateOption:qn(i.options)}}function rd(){const{NAME:t}=id();return Cr(t)}const y1=t=>({builder:t&4,ticks:t&8,thumbs:t&16}),nu=t=>({builder:t[2],ticks:t[3],thumbs:t[4]}),w1=t=>({builder:t&4,ticks:t&8,thumbs:t&16}),ou=t=>({builder:t[2],ticks:t[3],thumbs:t[4]});function k1(t){let e,n,o,i;const r=t[18].default,l=me(r,t,t[17],nu);let a=[t[2],t[8]],s={};for(let u=0;u<a.length;u+=1)s=X(s,a[u]);return{c(){e=P("span"),l&&l.c(),le(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[19](e),n=!0,o||(i=je(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&131100)&&he(l,r,u,u[17],n?pe(r,u[17],f,y1):_e(u[17]),nu),le(e,s=ve(a,[f&4&&u[2],f&256&&u[8]]))},i(u){n||(A(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&I(e),l&&l.d(u),t[19](null),o=!1,i()}}}function C1(t){let e;const n=t[18].default,o=me(n,t,t[17],ou);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&131100)&&he(o,n,i,i[17],e?pe(n,i[17],r,w1):_e(i[17]),ou)},i(i){e||(A(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function A1(t){let e,n,o,i;const r=[C1,k1],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),T(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){T(n),i=!1},d(s){s&&I(o),l[e].d(s)}}}function S1(t,e,n){let o;const i=["disabled","min","max","step","orientation","value","onValueChange","asChild","el"];let r=re(e,i),l,a,s,{$$slots:u={},$$scope:f}=e,{disabled:c=void 0}=e,{min:d=void 0}=e,{max:p=void 0}=e,{step:h=void 0}=e,{orientation:_=void 0}=e,{value:y=void 0}=e,{onValueChange:w=void 0}=e,{asChild:C=!1}=e,{el:k=void 0}=e;const{elements:{root:D,ticks:G,thumbs:L},states:{value:j},updateOption:F,getAttrs:E}=v1({disabled:c,min:d,max:p,step:h,orientation:_,defaultValue:y,onValueChange:({next:g})=>(y!==g&&(w==null||w(g),n(9,y=g)),g)});fe(t,D,g=>n(16,l=g)),fe(t,G,g=>n(3,a=g)),fe(t,L,g=>n(4,s=g));const U=E("root");function b(g){Ie[g?"unshift":"push"](()=>{k=g,n(0,k)})}return t.$$set=g=>{e=X(X({},e),Ne(g)),n(8,r=re(e,i)),"disabled"in g&&n(10,c=g.disabled),"min"in g&&n(11,d=g.min),"max"in g&&n(12,p=g.max),"step"in g&&n(13,h=g.step),"orientation"in g&&n(14,_=g.orientation),"value"in g&&n(9,y=g.value),"onValueChange"in g&&n(15,w=g.onValueChange),"asChild"in g&&n(1,C=g.asChild),"el"in g&&n(0,k=g.el),"$$scope"in g&&n(17,f=g.$$scope)},t.$$.update=()=>{t.$$.dirty&512&&y!==void 0&&j.set(y),t.$$.dirty&1024&&F("disabled",c),t.$$.dirty&2048&&F("min",d),t.$$.dirty&4096&&F("max",p),t.$$.dirty&8192&&F("step",h),t.$$.dirty&16384&&F("orientation",_),t.$$.dirty&65536&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,U)},[k,C,o,a,s,D,G,L,r,y,c,d,p,h,_,w,l,f,u,b]}let T1=class extends we{constructor(e){super(),ye(this,e,S1,A1,ce,{disabled:10,min:11,max:12,step:13,orientation:14,value:9,onValueChange:15,asChild:1,el:0})}};const I1=t=>({builder:t&4}),iu=t=>({builder:t[2]});function M1(t){let e,n,o,i=[t[2],t[4]],r={};for(let l=0;l<i.length;l+=1)r=X(r,i[l]);return{c(){e=P("span"),le(e,r)},m(l,a){M(l,e,a),t[8](e),n||(o=je(t[2].action(e)),n=!0)},p(l,a){le(e,r=ve(i,[a&4&&l[2],a&16&&l[4]]))},i:Ce,o:Ce,d(l){l&&I(e),t[8](null),n=!1,o()}}}function P1(t){let e;const n=t[7].default,o=me(n,t,t[6],iu);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&68)&&he(o,n,i,i[6],e?pe(n,i[6],r,I1):_e(i[6]),iu)},i(i){e||(A(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function O1(t){let e,n,o,i;const r=[P1,M1],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),T(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){T(n),i=!1},d(s){s&&I(o),l[e].d(s)}}}function N1(t,e,n){let o;const i=["asChild","el"];let r=re(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{range:c},getAttrs:d}=rd();fe(t,c,_=>n(5,l=_));const p=d("range");function h(_){Ie[_?"unshift":"push"](()=>{f=_,n(0,f)})}return t.$$set=_=>{e=X(X({},e),Ne(_)),n(4,r=re(e,i)),"asChild"in _&&n(1,u=_.asChild),"el"in _&&n(0,f=_.el),"$$scope"in _&&n(6,s=_.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,p)},[f,u,o,c,r,l,s,a,h]}class E1 extends we{constructor(e){super(),ye(this,e,N1,O1,ce,{asChild:1,el:0})}}const R1=t=>({builder:t&4}),ru=t=>({builder:t[2]});function D1(t){let e,n,o,i=[t[2],t[4]],r={};for(let l=0;l<i.length;l+=1)r=X(r,i[l]);return{c(){e=P("span"),le(e,r)},m(l,a){M(l,e,a),t[8](e),n||(o=[je(t[2].action(e)),ee(e,"m-keydown",t[3])],n=!0)},p(l,a){le(e,r=ve(i,[a&4&&l[2],a&16&&l[4]]))},i:Ce,o:Ce,d(l){l&&I(e),t[8](null),n=!1,qe(o)}}}function L1(t){let e;const n=t[7].default,o=me(n,t,t[6],ru);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&68)&&he(o,n,i,i[6],e?pe(n,i[6],r,R1):_e(i[6]),ru)},i(i){e||(A(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function F1(t){let e,n,o,i;const r=[L1,D1],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),T(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){T(n),i=!1},d(s){s&&I(o),l[e].d(s)}}}function q1(t,e,n){let o;const i=["asChild","el","thumb"];let r=re(e,i),{$$slots:l={},$$scope:a}=e,{asChild:s=!1}=e,{el:u=void 0}=e,{thumb:f}=e;const{getAttrs:c}=rd(),d=Wn(),p=c("thumb");function h(_){Ie[_?"unshift":"push"](()=>{u=_,n(0,u)})}return t.$$set=_=>{e=X(X({},e),Ne(_)),n(4,r=re(e,i)),"asChild"in _&&n(1,s=_.asChild),"el"in _&&n(0,u=_.el),"thumb"in _&&n(5,f=_.thumb),"$$scope"in _&&n(6,a=_.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=f),t.$$.dirty&4&&Object.assign(o,p)},[u,s,o,d,r,f,a,l,h]}class j1 extends we{constructor(e){super(),ye(this,e,q1,F1,ce,{asChild:1,el:0,thumb:5})}}function ld(){return{NAME:"tooltip",PARTS:["arrow","content","trigger"]}}function B1(t){const{NAME:e,PARTS:n}=ld(),o=Hn(e,n),i={...C0({positioning:{placement:"top",gutter:0},openDelay:700,...wo(t),forceVisible:!0}),getAttrs:o};return kr(e,i),{...i,updateOption:qn(i.options)}}function ns(){const{NAME:t}=ld();return Cr(t)}function V1(t){const n={...{side:"top",align:"center",sideOffset:1},...t},{options:{positioning:o}}=ns();G_(o)({...n})}const G1=t=>({ids:t&1}),lu=t=>({ids:t[0]});function H1(t){let e;const n=t[12].default,o=me(n,t,t[11],lu);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,[r]){o&&o.p&&(!e||r&2049)&&he(o,n,i,i[11],e?pe(n,i[11],r,G1):_e(i[11]),lu)},i(i){e||(A(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function W1(t,e,n){let o,{$$slots:i={},$$scope:r}=e,{closeOnEscape:l=void 0}=e,{portal:a=void 0}=e,{closeOnPointerDown:s=void 0}=e,{openDelay:u=void 0}=e,{closeDelay:f=void 0}=e,{open:c=void 0}=e,{onOpenChange:d=void 0}=e,{disableHoverableContent:p=void 0}=e,{group:h=void 0}=e;const{states:{open:_},updateOption:y,ids:w}=B1({closeOnEscape:l,portal:a,closeOnPointerDown:s,openDelay:u,closeDelay:f,forceVisible:!0,defaultOpen:c,disableHoverableContent:p,group:h,onOpenChange:({next:k})=>(c!==k&&(d==null||d(k),n(2,c=k)),k),positioning:{gutter:0,offset:{mainAxis:1}}}),C=ln([w.content,w.trigger],([k,D])=>({content:k,trigger:D}));return fe(t,C,k=>n(0,o=k)),t.$$set=k=>{"closeOnEscape"in k&&n(3,l=k.closeOnEscape),"portal"in k&&n(4,a=k.portal),"closeOnPointerDown"in k&&n(5,s=k.closeOnPointerDown),"openDelay"in k&&n(6,u=k.openDelay),"closeDelay"in k&&n(7,f=k.closeDelay),"open"in k&&n(2,c=k.open),"onOpenChange"in k&&n(8,d=k.onOpenChange),"disableHoverableContent"in k&&n(9,p=k.disableHoverableContent),"group"in k&&n(10,h=k.group),"$$scope"in k&&n(11,r=k.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&c!==void 0&&_.set(c),t.$$.dirty&8&&y("closeOnEscape",l),t.$$.dirty&16&&y("portal",a),t.$$.dirty&32&&y("closeOnPointerDown",s),t.$$.dirty&64&&y("openDelay",u),t.$$.dirty&128&&y("closeDelay",f),t.$$.dirty&1024&&y("group",h),t.$$.dirty&512&&y("disableHoverableContent",p)},[o,C,c,l,a,s,u,f,d,p,h,r,i]}class $1 extends we{constructor(e){super(),ye(this,e,W1,H1,ce,{closeOnEscape:3,portal:4,closeOnPointerDown:5,openDelay:6,closeDelay:7,open:2,onOpenChange:8,disableHoverableContent:9,group:10})}}const K1=t=>({builder:t[0]&256}),su=t=>({builder:t[8]}),U1=t=>({builder:t[0]&256}),au=t=>({builder:t[8]}),Y1=t=>({builder:t[0]&256}),uu=t=>({builder:t[8]}),X1=t=>({builder:t[0]&256}),fu=t=>({builder:t[8]}),J1=t=>({builder:t[0]&256}),cu=t=>({builder:t[8]}),Z1=t=>({builder:t[0]&256}),du=t=>({builder:t[8]});function Q1(t){let e,n,o,i;const r=t[28].default,l=me(r,t,t[27],su);let a=[t[8],t[13]],s={};for(let u=0;u<a.length;u+=1)s=X(s,a[u]);return{c(){e=P("div"),l&&l.c(),le(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[33](e),n=!0,o||(i=[je(t[8].action(e)),ee(e,"m-pointerdown",t[12]),ee(e,"m-pointerenter",t[12])],o=!0)},p(u,f){l&&l.p&&(!n||f[0]&134217984)&&he(l,r,u,u[27],n?pe(r,u[27],f,K1):_e(u[27]),su),le(e,s=ve(a,[f[0]&256&&u[8],f[0]&8192&&u[13]]))},i(u){n||(A(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&I(e),l&&l.d(u),t[33](null),o=!1,qe(i)}}}function x1(t){let e,n,o,i,r;const l=t[28].default,a=me(l,t,t[27],au);let s=[t[8],t[13]],u={};for(let f=0;f<s.length;f+=1)u=X(u,s[f]);return{c(){e=P("div"),a&&a.c(),le(e,u)},m(f,c){M(f,e,c),a&&a.m(e,null),t[32](e),o=!0,i||(r=[je(t[8].action(e)),ee(e,"m-pointerdown",t[12]),ee(e,"m-pointerenter",t[12])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&134217984)&&he(a,l,t,t[27],o?pe(l,t[27],c,U1):_e(t[27]),au),le(e,u=ve(s,[c[0]&256&&t[8],c[0]&8192&&t[13]]))},i(f){o||(A(a,f),n&&n.end(1),o=!0)},o(f){T(a,f),f&&(n=Xt(e,t[5],t[6])),o=!1},d(f){f&&I(e),a&&a.d(f),t[32](null),f&&n&&n.end(),i=!1,qe(r)}}}function z1(t){let e,n,o,i,r;const l=t[28].default,a=me(l,t,t[27],uu);let s=[t[8],t[13]],u={};for(let f=0;f<s.length;f+=1)u=X(u,s[f]);return{c(){e=P("div"),a&&a.c(),le(e,u)},m(f,c){M(f,e,c),a&&a.m(e,null),t[31](e),o=!0,i||(r=[je(t[8].action(e)),ee(e,"m-pointerdown",t[12]),ee(e,"m-pointerenter",t[12])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&134217984)&&he(a,l,t,t[27],o?pe(l,t[27],c,Y1):_e(t[27]),uu),le(e,u=ve(s,[c[0]&256&&t[8],c[0]&8192&&t[13]]))},i(f){o||(A(a,f),f&&(n||nt(()=>{n=Yt(e,t[3],t[4]),n.start()})),o=!0)},o(f){T(a,f),o=!1},d(f){f&&I(e),a&&a.d(f),t[31](null),i=!1,qe(r)}}}function eb(t){let e,n,o,i,r,l;const a=t[28].default,s=me(a,t,t[27],fu);let u=[t[8],t[13]],f={};for(let c=0;c<u.length;c+=1)f=X(f,u[c]);return{c(){e=P("div"),s&&s.c(),le(e,f)},m(c,d){M(c,e,d),s&&s.m(e,null),t[30](e),i=!0,r||(l=[je(t[8].action(e)),ee(e,"m-pointerdown",t[12]),ee(e,"m-pointerenter",t[12])],r=!0)},p(c,d){t=c,s&&s.p&&(!i||d[0]&134217984)&&he(s,a,t,t[27],i?pe(a,t[27],d,X1):_e(t[27]),fu),le(e,f=ve(u,[d[0]&256&&t[8],d[0]&8192&&t[13]]))},i(c){i||(A(s,c),c&&nt(()=>{i&&(o&&o.end(1),n=Yt(e,t[3],t[4]),n.start())}),i=!0)},o(c){T(s,c),n&&n.invalidate(),c&&(o=Xt(e,t[5],t[6])),i=!1},d(c){c&&I(e),s&&s.d(c),t[30](null),c&&o&&o.end(),r=!1,qe(l)}}}function tb(t){let e,n,o,i,r;const l=t[28].default,a=me(l,t,t[27],cu);let s=[t[8],t[13]],u={};for(let f=0;f<s.length;f+=1)u=X(u,s[f]);return{c(){e=P("div"),a&&a.c(),le(e,u)},m(f,c){M(f,e,c),a&&a.m(e,null),t[29](e),o=!0,i||(r=[je(t[8].action(e)),ee(e,"m-pointerdown",t[12]),ee(e,"m-pointerenter",t[12])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&134217984)&&he(a,l,t,t[27],o?pe(l,t[27],c,J1):_e(t[27]),cu),le(e,u=ve(s,[c[0]&256&&t[8],c[0]&8192&&t[13]]))},i(f){o||(A(a,f),f&&nt(()=>{o&&(n||(n=Kt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(f){T(a,f),f&&(n||(n=Kt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(f){f&&I(e),a&&a.d(f),t[29](null),f&&n&&n.end(),i=!1,qe(r)}}}function nb(t){let e;const n=t[28].default,o=me(n,t,t[27],du);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r[0]&134217984)&&he(o,n,i,i[27],e?pe(n,i[27],r,Z1):_e(i[27]),du)},i(i){e||(A(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function ob(t){let e,n,o,i;const r=[nb,tb,eb,z1,x1,Q1],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=Re()},m(s,u){~e&&l[e].m(s,u),M(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Pe(),T(l[f],1,1,()=>{l[f]=null}),Oe()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(A(n),i=!0)},o(s){T(n),i=!1},d(s){s&&I(o),~e&&l[e].d(s)}}}function ib(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","id","side","align","sideOffset","alignOffset","collisionPadding","avoidCollisions","collisionBoundary","sameWidth","fitViewport","strategy","overlap","el"];let r=re(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:p=void 0}=e,{outTransition:h=void 0}=e,{outTransitionConfig:_=void 0}=e,{asChild:y=!1}=e,{id:w=void 0}=e,{side:C="top"}=e,{align:k="center"}=e,{sideOffset:D=0}=e,{alignOffset:G=0}=e,{collisionPadding:L=8}=e,{avoidCollisions:j=!0}=e,{collisionBoundary:F=void 0}=e,{sameWidth:E=!1}=e,{fitViewport:U=!1}=e,{strategy:b="absolute"}=e,{overlap:g=!1}=e,{el:S=void 0}=e;const{elements:{content:O},states:{open:H},ids:R,getAttrs:J}=ns();fe(t,O,Y=>n(26,a=Y)),fe(t,H,Y=>n(9,l=Y));const te=Wn(),Z=J("content");function W(Y){Ie[Y?"unshift":"push"](()=>{S=Y,n(0,S)})}function ne(Y){Ie[Y?"unshift":"push"](()=>{S=Y,n(0,S)})}function m(Y){Ie[Y?"unshift":"push"](()=>{S=Y,n(0,S)})}function $(Y){Ie[Y?"unshift":"push"](()=>{S=Y,n(0,S)})}function K(Y){Ie[Y?"unshift":"push"](()=>{S=Y,n(0,S)})}return t.$$set=Y=>{e=X(X({},e),Ne(Y)),n(13,r=re(e,i)),"transition"in Y&&n(1,f=Y.transition),"transitionConfig"in Y&&n(2,c=Y.transitionConfig),"inTransition"in Y&&n(3,d=Y.inTransition),"inTransitionConfig"in Y&&n(4,p=Y.inTransitionConfig),"outTransition"in Y&&n(5,h=Y.outTransition),"outTransitionConfig"in Y&&n(6,_=Y.outTransitionConfig),"asChild"in Y&&n(7,y=Y.asChild),"id"in Y&&n(14,w=Y.id),"side"in Y&&n(15,C=Y.side),"align"in Y&&n(16,k=Y.align),"sideOffset"in Y&&n(17,D=Y.sideOffset),"alignOffset"in Y&&n(18,G=Y.alignOffset),"collisionPadding"in Y&&n(19,L=Y.collisionPadding),"avoidCollisions"in Y&&n(20,j=Y.avoidCollisions),"collisionBoundary"in Y&&n(21,F=Y.collisionBoundary),"sameWidth"in Y&&n(22,E=Y.sameWidth),"fitViewport"in Y&&n(23,U=Y.fitViewport),"strategy"in Y&&n(24,b=Y.strategy),"overlap"in Y&&n(25,g=Y.overlap),"el"in Y&&n(0,S=Y.el),"$$scope"in Y&&n(27,u=Y.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&16384&&w&&R.content.set(w),t.$$.dirty[0]&67108864&&n(8,o=a),t.$$.dirty[0]&256&&Object.assign(o,Z),t.$$.dirty[0]&67076608&&l&&V1({side:C,align:k,sideOffset:D,alignOffset:G,collisionPadding:L,avoidCollisions:j,collisionBoundary:F,sameWidth:E,fitViewport:U,strategy:b,overlap:g})},[S,f,c,d,p,h,_,y,o,l,O,H,te,r,w,C,k,D,G,L,j,F,E,U,b,g,a,u,s,W,ne,m,$,K]}let rb=class extends we{constructor(e){super(),ye(this,e,ib,ob,ce,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,id:14,side:15,align:16,sideOffset:17,alignOffset:18,collisionPadding:19,avoidCollisions:20,collisionBoundary:21,sameWidth:22,fitViewport:23,strategy:24,overlap:25,el:0},null,[-1,-1])}};const lb=t=>({builder:t&4}),mu=t=>({builder:t[2]}),sb=t=>({builder:t&4}),pu=t=>({builder:t[2]});function ab(t){let e,n,o,i;const r=t[9].default,l=me(r,t,t[8],mu);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=X(s,a[u]);return{c(){e=P("button"),l&&l.c(),le(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[10](e),n=!0,o||(i=[je(t[2].action(e)),ee(e,"m-blur",t[4]),ee(e,"m-focus",t[4]),ee(e,"m-keydown",t[4]),ee(e,"m-pointerdown",t[4]),ee(e,"m-pointerenter",t[4]),ee(e,"m-pointerleave",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&260)&&he(l,r,u,u[8],n?pe(r,u[8],f,lb):_e(u[8]),mu),le(e,s=ve(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(A(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&I(e),l&&l.d(u),t[10](null),o=!1,qe(i)}}}function ub(t){let e;const n=t[9].default,o=me(n,t,t[8],pu);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&260)&&he(o,n,i,i[8],e?pe(n,i[8],r,sb):_e(i[8]),pu)},i(i){e||(A(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function fb(t){let e,n,o,i;const r=[ub,ab],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),T(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){T(n),i=!1},d(s){s&&I(o),l[e].d(s)}}}function cb(t,e,n){let o;const i=["asChild","id","el"];let r=re(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{trigger:d},ids:p,getAttrs:h}=ns();fe(t,d,C=>n(7,l=C));const _=Wn(),y=h("trigger");function w(C){Ie[C?"unshift":"push"](()=>{c=C,n(0,c)})}return t.$$set=C=>{e=X(X({},e),Ne(C)),n(5,r=re(e,i)),"asChild"in C&&n(1,u=C.asChild),"id"in C&&n(6,f=C.id),"el"in C&&n(0,c=C.el),"$$scope"in C&&n(8,s=C.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&f&&p.trigger.set(f),t.$$.dirty&128&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,y)},[c,u,o,d,_,r,f,l,s,a,w]}class db extends we{constructor(e){super(),ye(this,e,cb,fb,ce,{asChild:1,id:6,el:0})}}function mb(t){let e;const n=t[5].default,o=me(n,t,t[8],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&256)&&he(o,n,i,i[8],e?pe(n,i[8],r,null):_e(i[8]),null)},i(i){e||(A(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function pb(t){let e,n;const o=[{builders:t[3]},{class:Fe(po({variant:t[1],size:t[2],className:t[0]}))},{type:"button"},t[4]];let i={$$slots:{default:[mb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=X(i,o[r]);return e=new V_({props:i}),e.$on("click",t[6]),e.$on("keydown",t[7]),{c(){z(e.$$.fragment)},m(r,l){Q(e,r,l),n=!0},p(r,[l]){const a=l&31?ve(o,[l&8&&{builders:r[3]},l&7&&{class:Fe(po({variant:r[1],size:r[2],className:r[0]}))},o[2],l&16&&rt(r[4])]):{};l&256&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){x(e,r)}}}function hb(t,e,n){const o=["class","variant","size","builders"];let i=re(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{variant:s="default"}=e,{size:u="default"}=e,{builders:f=[]}=e;function c(p){oe.call(this,t,p)}function d(p){oe.call(this,t,p)}return t.$$set=p=>{e=X(X({},e),Ne(p)),n(4,i=re(e,o)),"class"in p&&n(0,a=p.class),"variant"in p&&n(1,s=p.variant),"size"in p&&n(2,u=p.size),"builders"in p&&n(3,f=p.builders),"$$scope"in p&&n(8,l=p.$$scope)},[a,s,u,f,i,r,c,d,l]}class on extends we{constructor(e){super(),ye(this,e,hb,pb,ce,{class:0,variant:1,size:2,builders:3})}}var hu=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,kt=t=>!t||typeof t!="object"||Object.keys(t).length===0,_b=(t,e)=>JSON.stringify(t)===JSON.stringify(e);function sd(t,e){t.forEach(function(n){Array.isArray(n)?sd(n,e):e.push(n)})}function ad(t){let e=[];return sd(t,e),e}var ud=(...t)=>ad(t).filter(Boolean),fd=(t,e)=>{let n={},o=Object.keys(t),i=Object.keys(e);for(let r of o)if(i.includes(r)){let l=t[r],a=e[r];typeof l=="object"&&typeof a=="object"?n[r]=fd(l,a):Array.isArray(l)||Array.isArray(a)?n[r]=ud(a,l):n[r]=a+" "+l}else n[r]=t[r];for(let r of i)o.includes(r)||(n[r]=e[r]);return n},_u=t=>!t||typeof t!="string"?t:t.replace(/\s+/g," ").trim(),gb={twMerge:!0,twMergeConfig:{},responsiveVariants:!1},cd=t=>t||void 0,Zo=(...t)=>cd(ad(t).filter(Boolean).join(" ")),il=null,zt={},Al=!1,Fo=(...t)=>e=>e.twMerge?((!il||Al)&&(Al=!1,il=kt(zt)?Nc:ap({...zt,extend:{theme:zt.theme,classGroups:zt.classGroups,conflictingClassGroupModifiers:zt.conflictingClassGroupModifiers,conflictingClassGroups:zt.conflictingClassGroups,...zt.extend}})),cd(il(Zo(t)))):Zo(t),gu=(t,e)=>{for(let n in e)t.hasOwnProperty(n)?t[n]=Zo(t[n],e[n]):t[n]=e[n];return t},bb=(t,e)=>{let{extend:n=null,slots:o={},variants:i={},compoundVariants:r=[],compoundSlots:l=[],defaultVariants:a={}}=t,s={...gb,...e},u=n!=null&&n.base?Zo(n.base,t==null?void 0:t.base):t==null?void 0:t.base,f=n!=null&&n.variants&&!kt(n.variants)?fd(i,n.variants):i,c=n!=null&&n.defaultVariants&&!kt(n.defaultVariants)?{...n.defaultVariants,...a}:a;!kt(s.twMergeConfig)&&!_b(s.twMergeConfig,zt)&&(Al=!0,zt=s.twMergeConfig);let d=kt(n==null?void 0:n.slots),p=kt(o)?{}:{base:Zo(t==null?void 0:t.base,d&&(n==null?void 0:n.base)),...o},h=d?p:gu({...n==null?void 0:n.slots},kt(p)?{base:t==null?void 0:t.base}:p),_=w=>{if(kt(f)&&kt(o)&&d)return Fo(u,w==null?void 0:w.class,w==null?void 0:w.className)(s);if(r&&!Array.isArray(r))throw new TypeError(`The "compoundVariants" prop must be an array. Received: ${typeof r}`);if(l&&!Array.isArray(l))throw new TypeError(`The "compoundSlots" prop must be an array. Received: ${typeof l}`);let C=(g,S,O=[],H)=>{let R=O;if(typeof S=="string")R=R.concat(_u(S).split(" ").map(J=>`${g}:${J}`));else if(Array.isArray(S))R=R.concat(S.reduce((J,te)=>J.concat(`${g}:${te}`),[]));else if(typeof S=="object"&&typeof H=="string"){for(let J in S)if(S.hasOwnProperty(J)&&J===H){let te=S[J];if(te&&typeof te=="string"){let Z=_u(te);R[H]?R[H]=R[H].concat(Z.split(" ").map(W=>`${g}:${W}`)):R[H]=Z.split(" ").map(W=>`${g}:${W}`)}else Array.isArray(te)&&te.length>0&&(R[H]=te.reduce((Z,W)=>Z.concat(`${g}:${W}`),[]))}}return R},k=(g,S=f,O=null,H=null)=>{var R;let J=S[g];if(!J||kt(J))return null;let te=(R=H==null?void 0:H[g])!=null?R:w==null?void 0:w[g];if(te===null)return null;let Z=hu(te),W=Array.isArray(s.responsiveVariants)&&s.responsiveVariants.length>0||s.responsiveVariants===!0,ne=c==null?void 0:c[g],m=[];if(typeof Z=="object"&&W)for(let[Y,se]of Object.entries(Z)){let ue=J[se];if(Y==="initial"){ne=se;continue}Array.isArray(s.responsiveVariants)&&!s.responsiveVariants.includes(Y)||(m=C(Y,ue,m,O))}let $=Z!=null&&typeof Z!="object"?Z:hu(ne),K=J[$]||J.false;return typeof m=="object"&&typeof O=="string"&&m[O]?gu(m,K):m.length>0?(m.push(K),m):K},D=()=>f?Object.keys(f).map(g=>k(g,f)):null,G=(g,S)=>{if(!f||typeof f!="object")return null;let O=new Array;for(let H in f){let R=k(H,f,g,S),J=g==="base"&&typeof R=="string"?R:R&&R[g];J&&(O[O.length]=J)}return O},L={};for(let g in w)w[g]!==void 0&&(L[g]=w[g]);let j=(g,S)=>{var O;let H=typeof(w==null?void 0:w[g])=="object"?{[g]:(O=w[g])==null?void 0:O.initial}:{};return{...c,...L,...H,...S}},F=(g=[],S)=>{let O=[];for(let{class:H,className:R,...J}of g){let te=!0;for(let[Z,W]of Object.entries(J)){let ne=j(Z,S);if(Array.isArray(W)){if(!W.includes(ne[Z])){te=!1;break}}else if(ne[Z]!==W){te=!1;break}}te&&(H&&O.push(H),R&&O.push(R))}return O},E=g=>{let S=F(r,g),O=F(n==null?void 0:n.compoundVariants,g);return ud(O,S)},U=g=>{let S=E(g);if(!Array.isArray(S))return S;let O={};for(let H of S)if(typeof H=="string"&&(O.base=Fo(O.base,H)(s)),typeof H=="object")for(let[R,J]of Object.entries(H))O[R]=Fo(O[R],J)(s);return O},b=g=>{if(l.length<1)return null;let S={};for(let{slots:O=[],class:H,className:R,...J}of l){if(!kt(J)){let te=!0;for(let Z of Object.keys(J)){let W=j(Z,g)[Z];if(W===void 0||(Array.isArray(J[Z])?!J[Z].includes(W):J[Z]!==W)){te=!1;break}}if(!te)continue}for(let te of O)S[te]=S[te]||[],S[te].push([H,R])}return S};if(!kt(o)||!d){let g={};if(typeof h=="object"&&!kt(h))for(let S of Object.keys(h))g[S]=O=>{var H,R;return Fo(h[S],G(S,O),((H=U(O))!=null?H:[])[S],((R=b(O))!=null?R:[])[S],O==null?void 0:O.class,O==null?void 0:O.className)(s)};return g}return Fo(u,D(),E(),w==null?void 0:w.class,w==null?void 0:w.className)(s)},y=()=>{if(!(!f||typeof f!="object"))return Object.keys(f)};return _.variantKeys=y(),_.extend=n,_.base=u,_.slots=h,_.variants=f,_.defaultVariants=c,_.compoundSlots=l,_.compoundVariants=r,_};const po=bb({base:"inline-flex items-center justify-center rounded-md text-sm font-medium whitespace-nowrap ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}});function vb(t){let e;const n=t[2].default,o=me(n,t,t[3],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&8)&&he(o,n,i,i[3],e?pe(n,i[3],r,null):_e(i[3]),null)},i(i){e||(A(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function yb(t){let e,n;const o=[{class:Fe("text-lg font-semibold leading-none tracking-tight",t[0])},t[1]];let i={$$slots:{default:[vb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=X(i,o[r]);return e=new ug({props:i}),{c(){z(e.$$.fragment)},m(r,l){Q(e,r,l),n=!0},p(r,[l]){const a=l&3?ve(o,[l&1&&{class:Fe("text-lg font-semibold leading-none tracking-tight",r[0])},l&2&&rt(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){x(e,r)}}}function wb(t,e,n){const o=["class"];let i=re(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=X(X({},e),Ne(s)),n(1,i=re(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,l=s.$$scope)},[a,i,r,l]}class Co extends we{constructor(e){super(),ye(this,e,wb,yb,ce,{class:0})}}function kb(t){let e;const n=t[1].default,o=me(n,t,t[2],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&4)&&he(o,n,i,i[2],e?pe(n,i[2],r,null):_e(i[2]),null)},i(i){e||(A(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function Cb(t){let e,n;const o=[t[0]];let i={$$slots:{default:[kb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=X(i,o[r]);return e=new Cg({props:i}),{c(){z(e.$$.fragment)},m(r,l){Q(e,r,l),n=!0},p(r,[l]){const a=l&1?ve(o,[rt(r[0])]):{};l&4&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){x(e,r)}}}function Ab(t,e,n){const o=[];let i=re(e,o),{$$slots:r={},$$scope:l}=e;return t.$$set=a=>{e=X(X({},e),Ne(a)),n(0,i=re(e,o)),"$$scope"in a&&n(2,l=a.$$scope)},[i,r,l]}class Sb extends we{constructor(e){super(),ye(this,e,Ab,Cb,ce,{})}}function Tb(t){let e,n,o;const i=t[3].default,r=me(i,t,t[2],null);let l=[{class:n=Fe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=X(a,l[s]);return{c(){e=P("div"),r&&r.c(),le(e,a)},m(s,u){M(s,e,u),r&&r.m(e,null),o=!0},p(s,[u]){r&&r.p&&(!o||u&4)&&he(r,i,s,s[2],o?pe(i,s[2],u,null):_e(s[2]),null),le(e,a=ve(l,[(!o||u&1&&n!==(n=Fe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(A(r,s),o=!0)},o(s){T(r,s),o=!1},d(s){s&&I(e),r&&r.d(s)}}}function Ib(t,e,n){const o=["class"];let i=re(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=X(X({},e),Ne(s)),n(1,i=re(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,i,l,r]}class oi extends we{constructor(e){super(),ye(this,e,Ib,Tb,ce,{class:0})}}function Mb(t){let e,n,o;const i=t[3].default,r=me(i,t,t[2],null);let l=[{class:n=Fe("flex flex-col space-y-1.5 text-center sm:text-left",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=X(a,l[s]);return{c(){e=P("div"),r&&r.c(),le(e,a)},m(s,u){M(s,e,u),r&&r.m(e,null),o=!0},p(s,[u]){r&&r.p&&(!o||u&4)&&he(r,i,s,s[2],o?pe(i,s[2],u,null):_e(s[2]),null),le(e,a=ve(l,[(!o||u&1&&n!==(n=Fe("flex flex-col space-y-1.5 text-center sm:text-left",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(A(r,s),o=!0)},o(s){T(r,s),o=!1},d(s){s&&I(e),r&&r.d(s)}}}function Pb(t,e,n){const o=["class"];let i=re(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=X(X({},e),Ne(s)),n(1,i=re(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,i,l,r]}class Ao extends we{constructor(e){super(),ye(this,e,Pb,Mb,ce,{class:0})}}function dd(t,{delay:e=0,duration:n=400,easing:o=vr}={}){const i=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:o,css:r=>`opacity: ${r*i}`}}function Ob(t){let e,n;const o=[{transition:t[1]},{transitionConfig:t[2]},{class:Fe("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm",t[0])},t[3]];let i={};for(let r=0;r<o.length;r+=1)i=X(i,o[r]);return e=new Xg({props:i}),{c(){z(e.$$.fragment)},m(r,l){Q(e,r,l),n=!0},p(r,[l]){const a=l&15?ve(o,[l&2&&{transition:r[1]},l&4&&{transitionConfig:r[2]},l&1&&{class:Fe("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm",r[0])},l&8&&rt(r[3])]):{};e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){x(e,r)}}}function Nb(t,e,n){const o=["class","transition","transitionConfig"];let i=re(e,o),{class:r=void 0}=e,{transition:l=dd}=e,{transitionConfig:a={duration:150}}=e;return t.$$set=s=>{e=X(X({},e),Ne(s)),n(3,i=re(e,o)),"class"in s&&n(0,r=s.class),"transition"in s&&n(1,l=s.transition),"transitionConfig"in s&&n(2,a=s.transitionConfig)},[r,l,a,i]}class Eb extends we{constructor(e){super(),ye(this,e,Nb,Ob,ce,{class:0,transition:1,transitionConfig:2})}}/**
 * @license lucide-svelte v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bu={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};function vu(t,e,n){const o=t.slice();return o[11]=e[n][0],o[12]=e[n][1],o}function rl(t){let e,n=[t[12]],o={};for(let i=0;i<n.length;i+=1)o=X(o,n[i]);return{c(){e=yr(t[11]),Ki(e,o)},m(i,r){M(i,e,r)},p(i,r){Ki(e,o=ve(n,[r&32&&i[12]]))},d(i){i&&I(e)}}}function yu(t){let e=t[11],n,o=t[11]&&rl(t);return{c(){o&&o.c(),n=Re()},m(i,r){o&&o.m(i,r),M(i,n,r)},p(i,r){i[11]?e?ce(e,i[11])?(o.d(1),o=rl(i),e=i[11],o.c(),o.m(n.parentNode,n)):o.p(i,r):(o=rl(i),e=i[11],o.c(),o.m(n.parentNode,n)):e&&(o.d(1),o=null,e=i[11])},d(i){i&&I(n),o&&o.d(i)}}}function Rb(t){let e,n,o,i,r,l=Ye(t[5]),a=[];for(let d=0;d<l.length;d+=1)a[d]=yu(vu(t,l,d));const s=t[10].default,u=me(s,t,t[9],null);let f=[bu,t[7],{width:t[2]},{height:t[2]},{stroke:t[1]},{"stroke-width":o=t[4]?Number(t[3])*24/Number(t[2]):t[3]},{class:i=t[6]("lucide-icon","lucide",t[0]?`lucide-${t[0]}`:"",t[8].class)}],c={};for(let d=0;d<f.length;d+=1)c=X(c,f[d]);return{c(){e=yr("svg");for(let d=0;d<a.length;d+=1)a[d].c();n=Re(),u&&u.c(),Ki(e,c)},m(d,p){M(d,e,p);for(let h=0;h<a.length;h+=1)a[h]&&a[h].m(e,null);v(e,n),u&&u.m(e,null),r=!0},p(d,[p]){if(p&32){l=Ye(d[5]);let h;for(h=0;h<l.length;h+=1){const _=vu(d,l,h);a[h]?a[h].p(_,p):(a[h]=yu(_),a[h].c(),a[h].m(e,n))}for(;h<a.length;h+=1)a[h].d(1);a.length=l.length}u&&u.p&&(!r||p&512)&&he(u,s,d,d[9],r?pe(s,d[9],p,null):_e(d[9]),null),Ki(e,c=ve(f,[bu,p&128&&d[7],(!r||p&4)&&{width:d[2]},(!r||p&4)&&{height:d[2]},(!r||p&2)&&{stroke:d[1]},(!r||p&28&&o!==(o=d[4]?Number(d[3])*24/Number(d[2]):d[3]))&&{"stroke-width":o},(!r||p&257&&i!==(i=d[6]("lucide-icon","lucide",d[0]?`lucide-${d[0]}`:"",d[8].class)))&&{class:i}]))},i(d){r||(A(u,d),r=!0)},o(d){T(u,d),r=!1},d(d){d&&I(e),wt(a,d),u&&u.d(d)}}}function Db(t,e,n){const o=["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode","mergeClasses"];let i=re(e,o),{$$slots:r={},$$scope:l}=e,{name:a=void 0}=e,{color:s="currentColor"}=e,{size:u=24}=e,{strokeWidth:f=2}=e,{absoluteStrokeWidth:c=!1}=e,{iconNode:d}=e;const p=(...h)=>h.filter((_,y,w)=>!!_&&w.indexOf(_)===y).join(" ");return t.$$set=h=>{n(8,e=X(X({},e),Ne(h))),n(7,i=re(e,o)),"name"in h&&n(0,a=h.name),"color"in h&&n(1,s=h.color),"size"in h&&n(2,u=h.size),"strokeWidth"in h&&n(3,f=h.strokeWidth),"absoluteStrokeWidth"in h&&n(4,c=h.absoluteStrokeWidth),"iconNode"in h&&n(5,d=h.iconNode),"$$scope"in h&&n(9,l=h.$$scope)},e=Ne(e),[a,s,u,f,c,d,p,i,e,l,r]}class Lb extends we{constructor(e){super(),ye(this,e,Db,Rb,ce,{name:0,color:1,size:2,strokeWidth:3,absoluteStrokeWidth:4,iconNode:5,mergeClasses:6})}get mergeClasses(){return this.$$.ctx[6]}}function Fb(t){let e;const n=t[2].default,o=me(n,t,t[3],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&8)&&he(o,n,i,i[3],e?pe(n,i[3],r,null):_e(i[3]),null)},i(i){e||(A(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function qb(t){let e,n;const o=[{name:"x"},t[1],{iconNode:t[0]}];let i={$$slots:{default:[Fb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=X(i,o[r]);return e=new Lb({props:i}),{c(){z(e.$$.fragment)},m(r,l){Q(e,r,l),n=!0},p(r,[l]){const a=l&3?ve(o,[o[0],l&2&&rt(r[1]),l&1&&{iconNode:r[0]}]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){x(e,r)}}}function jb(t,e,n){let{$$slots:o={},$$scope:i}=e;const r=[["path",{d:"M18 6 6 18"}],["path",{d:"m6 6 12 12"}]];return t.$$set=l=>{n(1,e=X(X({},e),Ne(l))),"$$scope"in l&&n(3,i=l.$$scope)},e=Ne(e),[r,e,o,i]}class Bb extends we{constructor(e){super(),ye(this,e,jb,qb,ce,{})}}function Vb(t){let e,n,o,i;return e=new Bb({props:{class:"h-4 w-4"}}),{c(){z(e.$$.fragment),n=V(),o=P("span"),o.textContent="Close",N(o,"class","sr-only")},m(r,l){Q(e,r,l),M(r,n,l),M(r,o,l),i=!0},p:Ce,i(r){i||(A(e.$$.fragment,r),i=!0)},o(r){T(e.$$.fragment,r),i=!1},d(r){r&&(I(n),I(o)),x(e,r)}}}function Gb(t){let e,n,o;const i=t[4].default,r=me(i,t,t[5],null);return n=new _g({props:{class:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",$$slots:{default:[Vb]},$$scope:{ctx:t}}}),{c(){r&&r.c(),e=V(),z(n.$$.fragment)},m(l,a){r&&r.m(l,a),M(l,e,a),Q(n,l,a),o=!0},p(l,a){r&&r.p&&(!o||a&32)&&he(r,i,l,l[5],o?pe(i,l[5],a,null):_e(l[5]),null);const s={};a&32&&(s.$$scope={dirty:a,ctx:l}),n.$set(s)},i(l){o||(A(r,l),A(n.$$.fragment,l),o=!0)},o(l){T(r,l),T(n.$$.fragment,l),o=!1},d(l){l&&I(e),r&&r.d(l),x(n,l)}}}function Hb(t){let e,n,o,i;e=new Eb({});const r=[{transition:t[1]},{transitionConfig:t[2]},{class:Fe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg md:w-full",t[0])},t[3]];let l={$$slots:{default:[Gb]},$$scope:{ctx:t}};for(let a=0;a<r.length;a+=1)l=X(l,r[a]);return o=new jg({props:l}),{c(){z(e.$$.fragment),n=V(),z(o.$$.fragment)},m(a,s){Q(e,a,s),M(a,n,s),Q(o,a,s),i=!0},p(a,s){const u=s&15?ve(r,[s&2&&{transition:a[1]},s&4&&{transitionConfig:a[2]},s&1&&{class:Fe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg md:w-full",a[0])},s&8&&rt(a[3])]):{};s&32&&(u.$$scope={dirty:s,ctx:a}),o.$set(u)},i(a){i||(A(e.$$.fragment,a),A(o.$$.fragment,a),i=!0)},o(a){T(e.$$.fragment,a),T(o.$$.fragment,a),i=!1},d(a){a&&I(n),x(e,a),x(o,a)}}}function Wb(t){let e,n;return e=new Sb({props:{$$slots:{default:[Hb]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment)},m(o,i){Q(e,o,i),n=!0},p(o,[i]){const r={};i&47&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function $b(t,e,n){const o=["class","transition","transitionConfig"];let i=re(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{transition:s=Ar}=e,{transitionConfig:u={duration:200}}=e;return t.$$set=f=>{e=X(X({},e),Ne(f)),n(3,i=re(e,o)),"class"in f&&n(0,a=f.class),"transition"in f&&n(1,s=f.transition),"transitionConfig"in f&&n(2,u=f.transitionConfig),"$$scope"in f&&n(5,l=f.$$scope)},[a,s,u,i,r,l]}class So extends we{constructor(e){super(),ye(this,e,$b,Wb,ce,{class:0,transition:1,transitionConfig:2})}}function Kb(t){let e;const n=t[2].default,o=me(n,t,t[3],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&8)&&he(o,n,i,i[3],e?pe(n,i[3],r,null):_e(i[3]),null)},i(i){e||(A(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function Ub(t){let e,n;const o=[{class:Fe("text-sm text-muted-foreground",t[0])},t[1]];let i={$$slots:{default:[Kb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=X(i,o[r]);return e=new t1({props:i}),{c(){z(e.$$.fragment)},m(r,l){Q(e,r,l),n=!0},p(r,[l]){const a=l&3?ve(o,[l&1&&{class:Fe("text-sm text-muted-foreground",r[0])},l&2&&rt(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){x(e,r)}}}function Yb(t,e,n){const o=["class"];let i=re(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=X(X({},e),Ne(s)),n(1,i=re(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,l=s.$$scope)},[a,i,r,l]}class To extends we{constructor(e){super(),ye(this,e,Yb,Ub,ce,{class:0})}}const Io=ng;function Xb(t){let e,n,o,i,r=[{class:n=Fe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t[1])},t[2]],l={};for(let a=0;a<r.length;a+=1)l=X(l,r[a]);return{c(){e=P("input"),le(e,l)},m(a,s){M(a,e,s),e.autofocus&&e.focus(),xt(e,t[0]),o||(i=[ee(e,"input",t[17]),ee(e,"blur",t[3]),ee(e,"change",t[4]),ee(e,"click",t[5]),ee(e,"focus",t[6]),ee(e,"focusin",t[7]),ee(e,"focusout",t[8]),ee(e,"keydown",t[9]),ee(e,"keypress",t[10]),ee(e,"keyup",t[11]),ee(e,"mouseover",t[12]),ee(e,"mouseenter",t[13]),ee(e,"mouseleave",t[14]),ee(e,"paste",t[15]),ee(e,"input",t[16])],o=!0)},p(a,[s]){le(e,l=ve(r,[s&2&&n!==(n=Fe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a[1]))&&{class:n},s&4&&a[2]])),s&1&&e.value!==a[0]&&xt(e,a[0])},i:Ce,o:Ce,d(a){a&&I(e),o=!1,qe(i)}}}function Jb(t,e,n){const o=["class","value"];let i=re(e,o),{class:r=void 0}=e,{value:l=void 0}=e;function a(L){oe.call(this,t,L)}function s(L){oe.call(this,t,L)}function u(L){oe.call(this,t,L)}function f(L){oe.call(this,t,L)}function c(L){oe.call(this,t,L)}function d(L){oe.call(this,t,L)}function p(L){oe.call(this,t,L)}function h(L){oe.call(this,t,L)}function _(L){oe.call(this,t,L)}function y(L){oe.call(this,t,L)}function w(L){oe.call(this,t,L)}function C(L){oe.call(this,t,L)}function k(L){oe.call(this,t,L)}function D(L){oe.call(this,t,L)}function G(){l=this.value,n(0,l)}return t.$$set=L=>{e=X(X({},e),Ne(L)),n(2,i=re(e,o)),"class"in L&&n(1,r=L.class),"value"in L&&n(0,l=L.value)},[l,r,i,a,s,u,f,c,d,p,h,_,y,w,C,k,D,G]}class os extends we{constructor(e){super(),ye(this,e,Jb,Xb,ce,{class:1,value:0})}}function Zb(t){let e;const n=t[2].default,o=me(n,t,t[4],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&16)&&he(o,n,i,i[4],e?pe(n,i[4],r,null):_e(i[4]),null)},i(i){e||(A(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function Qb(t){let e,n;const o=[{class:Fe("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",t[0])},t[1]];let i={$$slots:{default:[Zb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=X(i,o[r]);return e=new u1({props:i}),e.$on("mousedown",t[3]),{c(){z(e.$$.fragment)},m(r,l){Q(e,r,l),n=!0},p(r,[l]){const a=l&3?ve(o,[l&1&&{class:Fe("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",r[0])},l&2&&rt(r[1])]):{};l&16&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){x(e,r)}}}function xb(t,e,n){const o=["class"];let i=re(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(u){oe.call(this,t,u)}return t.$$set=u=>{e=X(X({},e),Ne(u)),n(1,i=re(e,o)),"class"in u&&n(0,a=u.class),"$$scope"in u&&n(4,l=u.$$scope)},[a,i,r,s,l]}class io extends we{constructor(e){super(),ye(this,e,xb,Qb,ce,{class:0})}}function zb(t){let e,n;const o=[{class:Fe("shrink-0 bg-border",t[1]==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t[0])},{orientation:t[1]},{decorative:t[2]},t[3]];let i={};for(let r=0;r<o.length;r+=1)i=X(i,o[r]);return e=new Q_({props:i}),{c(){z(e.$$.fragment)},m(r,l){Q(e,r,l),n=!0},p(r,[l]){const a=l&15?ve(o,[l&3&&{class:Fe("shrink-0 bg-border",r[1]==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",r[0])},l&2&&{orientation:r[1]},l&4&&{decorative:r[2]},l&8&&rt(r[3])]):{};e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){x(e,r)}}}function ev(t,e,n){const o=["class","orientation","decorative"];let i=re(e,o),{class:r=void 0}=e,{orientation:l="horizontal"}=e,{decorative:a=void 0}=e;return t.$$set=s=>{e=X(X({},e),Ne(s)),n(3,i=re(e,o)),"class"in s&&n(0,r=s.class),"orientation"in s&&n(1,l=s.orientation),"decorative"in s&&n(2,a=s.decorative)},[r,l,a,i]}class At extends we{constructor(e){super(),ye(this,e,ev,zb,ce,{class:0,orientation:1,decorative:2})}}function tv(t){let e;const n=t[3].default,o=me(n,t,t[4],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&16)&&he(o,n,i,i[4],e?pe(n,i[4],r,null):_e(i[4]),null)},i(i){e||(A(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function nv(t){let e,n;const o=[{class:Fe("text-lg font-semibold",t[0])},{level:t[1]},t[2]];let i={$$slots:{default:[tv]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=X(i,o[r]);return e=new L0({props:i}),{c(){z(e.$$.fragment)},m(r,l){Q(e,r,l),n=!0},p(r,[l]){const a=l&7?ve(o,[l&1&&{class:Fe("text-lg font-semibold",r[0])},l&2&&{level:r[1]},l&4&&rt(r[2])]):{};l&16&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){x(e,r)}}}function ov(t,e,n){const o=["class","level"];let i=re(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{level:s="h3"}=e;return t.$$set=u=>{e=X(X({},e),Ne(u)),n(2,i=re(e,o)),"class"in u&&n(0,a=u.class),"level"in u&&n(1,s=u.level),"$$scope"in u&&n(4,l=u.$$scope)},[a,s,i,r,l]}class is extends we{constructor(e){super(),ye(this,e,ov,nv,ce,{class:0,level:1})}}const iv=t=>({builder:t&64}),wu=t=>({builder:t[6]});function rv(t){let e;const n=t[2].default,o=me(n,t,t[5],wu);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&96)&&he(o,n,i,i[5],e?pe(n,i[5],r,iv):_e(i[5]),wu)},i(i){e||(A(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function lv(t){let e,n;const o=[{class:Fe(po(),t[0])},t[1]];let i={$$slots:{default:[rv,({builder:r})=>({6:r}),({builder:r})=>r?64:0]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=X(i,o[r]);return e=new H0({props:i}),e.$on("click",t[3]),e.$on("keydown",t[4]),{c(){z(e.$$.fragment)},m(r,l){Q(e,r,l),n=!0},p(r,[l]){const a=l&3?ve(o,[l&1&&{class:Fe(po(),r[0])},l&2&&rt(r[1])]):{};l&96&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){x(e,r)}}}function sv(t,e,n){const o=["class"];let i=re(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(f){oe.call(this,t,f)}function u(f){oe.call(this,t,f)}return t.$$set=f=>{e=X(X({},e),Ne(f)),n(1,i=re(e,o)),"class"in f&&n(0,a=f.class),"$$scope"in f&&n(5,l=f.$$scope)},[a,i,r,s,u,l]}class av extends we{constructor(e){super(),ye(this,e,sv,lv,ce,{class:0})}}const uv=t=>({builder:t&64}),ku=t=>({builder:t[6]});function fv(t){let e;const n=t[2].default,o=me(n,t,t[5],ku);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&96)&&he(o,n,i,i[5],e?pe(n,i[5],r,uv):_e(i[5]),ku)},i(i){e||(A(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function cv(t){let e,n;const o=[{class:Fe(po({variant:"outline"}),"mt-2 sm:mt-0",t[0])},t[1]];let i={$$slots:{default:[fv,({builder:r})=>({6:r}),({builder:r})=>r?64:0]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=X(i,o[r]);return e=new J0({props:i}),e.$on("click",t[3]),e.$on("keydown",t[4]),{c(){z(e.$$.fragment)},m(r,l){Q(e,r,l),n=!0},p(r,[l]){const a=l&3?ve(o,[l&1&&{class:Fe(po({variant:"outline"}),"mt-2 sm:mt-0",r[0])},l&2&&rt(r[1])]):{};l&96&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){x(e,r)}}}function dv(t,e,n){const o=["class"];let i=re(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(f){oe.call(this,t,f)}function u(f){oe.call(this,t,f)}return t.$$set=f=>{e=X(X({},e),Ne(f)),n(1,i=re(e,o)),"class"in f&&n(0,a=f.class),"$$scope"in f&&n(5,l=f.$$scope)},[a,i,r,s,u,l]}class md extends we{constructor(e){super(),ye(this,e,dv,cv,ce,{class:0})}}function mv(t){let e;const n=t[1].default,o=me(n,t,t[2],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&4)&&he(o,n,i,i[2],e?pe(n,i[2],r,null):_e(i[2]),null)},i(i){e||(A(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function pv(t){let e,n;const o=[t[0]];let i={$$slots:{default:[mv]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=X(i,o[r]);return e=new n_({props:i}),{c(){z(e.$$.fragment)},m(r,l){Q(e,r,l),n=!0},p(r,[l]){const a=l&1?ve(o,[rt(r[0])]):{};l&4&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){x(e,r)}}}function hv(t,e,n){const o=[];let i=re(e,o),{$$slots:r={},$$scope:l}=e;return t.$$set=a=>{e=X(X({},e),Ne(a)),n(0,i=re(e,o)),"$$scope"in a&&n(2,l=a.$$scope)},[i,r,l]}class _v extends we{constructor(e){super(),ye(this,e,hv,pv,ce,{})}}function gv(t){let e,n,o;const i=t[3].default,r=me(i,t,t[2],null);let l=[{class:n=Fe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=X(a,l[s]);return{c(){e=P("div"),r&&r.c(),le(e,a)},m(s,u){M(s,e,u),r&&r.m(e,null),o=!0},p(s,[u]){r&&r.p&&(!o||u&4)&&he(r,i,s,s[2],o?pe(i,s[2],u,null):_e(s[2]),null),le(e,a=ve(l,[(!o||u&1&&n!==(n=Fe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(A(r,s),o=!0)},o(s){T(r,s),o=!1},d(s){s&&I(e),r&&r.d(s)}}}function bv(t,e,n){const o=["class"];let i=re(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=X(X({},e),Ne(s)),n(1,i=re(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,i,l,r]}class rs extends we{constructor(e){super(),ye(this,e,bv,gv,ce,{class:0})}}function vv(t){let e,n,o;const i=t[3].default,r=me(i,t,t[2],null);let l=[{class:n=Fe("flex flex-col space-y-2 text-center sm:text-left",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=X(a,l[s]);return{c(){e=P("div"),r&&r.c(),le(e,a)},m(s,u){M(s,e,u),r&&r.m(e,null),o=!0},p(s,[u]){r&&r.p&&(!o||u&4)&&he(r,i,s,s[2],o?pe(i,s[2],u,null):_e(s[2]),null),le(e,a=ve(l,[(!o||u&1&&n!==(n=Fe("flex flex-col space-y-2 text-center sm:text-left",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(A(r,s),o=!0)},o(s){T(r,s),o=!1},d(s){s&&I(e),r&&r.d(s)}}}function yv(t,e,n){const o=["class"];let i=re(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=X(X({},e),Ne(s)),n(1,i=re(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,i,l,r]}class ls extends we{constructor(e){super(),ye(this,e,yv,vv,ce,{class:0})}}function wv(t){let e,n;const o=[{transition:t[1]},{transitionConfig:t[2]},{class:Fe("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm ",t[0])},t[3]];let i={};for(let r=0;r<o.length;r+=1)i=X(i,o[r]);return e=new I_({props:i}),{c(){z(e.$$.fragment)},m(r,l){Q(e,r,l),n=!0},p(r,[l]){const a=l&15?ve(o,[l&2&&{transition:r[1]},l&4&&{transitionConfig:r[2]},l&1&&{class:Fe("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm ",r[0])},l&8&&rt(r[3])]):{};e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){x(e,r)}}}function kv(t,e,n){const o=["class","transition","transitionConfig"];let i=re(e,o),{class:r=void 0}=e,{transition:l=dd}=e,{transitionConfig:a={duration:150}}=e;return t.$$set=s=>{e=X(X({},e),Ne(s)),n(3,i=re(e,o)),"class"in s&&n(0,r=s.class),"transition"in s&&n(1,l=s.transition),"transitionConfig"in s&&n(2,a=s.transitionConfig)},[r,l,a,i]}class Cv extends we{constructor(e){super(),ye(this,e,kv,wv,ce,{class:0,transition:1,transitionConfig:2})}}function Av(t){let e;const n=t[4].default,o=me(n,t,t[5],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&32)&&he(o,n,i,i[5],e?pe(n,i[5],r,null):_e(i[5]),null)},i(i){e||(A(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function Sv(t){let e,n,o,i;e=new Cv({});const r=[{transition:t[0]},{transitionConfig:t[1]},{class:Fe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg md:w-full",t[2])},t[3]];let l={$$slots:{default:[Av]},$$scope:{ctx:t}};for(let a=0;a<r.length;a+=1)l=X(l,r[a]);return o=new g_({props:l}),{c(){z(e.$$.fragment),n=V(),z(o.$$.fragment)},m(a,s){Q(e,a,s),M(a,n,s),Q(o,a,s),i=!0},p(a,s){const u=s&15?ve(r,[s&1&&{transition:a[0]},s&2&&{transitionConfig:a[1]},s&4&&{class:Fe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg md:w-full",a[2])},s&8&&rt(a[3])]):{};s&32&&(u.$$scope={dirty:s,ctx:a}),o.$set(u)},i(a){i||(A(e.$$.fragment,a),A(o.$$.fragment,a),i=!0)},o(a){T(e.$$.fragment,a),T(o.$$.fragment,a),i=!1},d(a){a&&I(n),x(e,a),x(o,a)}}}function Tv(t){let e,n;return e=new _v({props:{$$slots:{default:[Sv]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment)},m(o,i){Q(e,o,i),n=!0},p(o,[i]){const r={};i&47&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function Iv(t,e,n){const o=["transition","transitionConfig","class"];let i=re(e,o),{$$slots:r={},$$scope:l}=e,{transition:a=Ar}=e,{transitionConfig:s=void 0}=e,{class:u=void 0}=e;return t.$$set=f=>{e=X(X({},e),Ne(f)),n(3,i=re(e,o)),"transition"in f&&n(0,a=f.transition),"transitionConfig"in f&&n(1,s=f.transitionConfig),"class"in f&&n(2,u=f.class),"$$scope"in f&&n(5,l=f.$$scope)},[a,s,u,i,r,l]}class ss extends we{constructor(e){super(),ye(this,e,Iv,Tv,ce,{transition:0,transitionConfig:1,class:2})}}function Mv(t){let e;const n=t[2].default,o=me(n,t,t[3],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&8)&&he(o,n,i,i[3],e?pe(n,i[3],r,null):_e(i[3]),null)},i(i){e||(A(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function Pv(t){let e,n;const o=[{class:Fe("text-sm text-muted-foreground",t[0])},t[1]];let i={$$slots:{default:[Mv]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=X(i,o[r]);return e=new D_({props:i}),{c(){z(e.$$.fragment)},m(r,l){Q(e,r,l),n=!0},p(r,[l]){const a=l&3?ve(o,[l&1&&{class:Fe("text-sm text-muted-foreground",r[0])},l&2&&rt(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){x(e,r)}}}function Ov(t,e,n){const o=["class"];let i=re(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=X(X({},e),Ne(s)),n(1,i=re(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,l=s.$$scope)},[a,i,r,l]}class as extends we{constructor(e){super(),ye(this,e,Ov,Pv,ce,{class:0})}}const us=M0;function Cu(t,e,n){const o=t.slice();return o[25]=e[n],o}function Au(t,e,n){const o=t.slice();return o[28]=e[n],o}function Nv(t){let e;return{c(){e=B("Pause Menu")},m(n,o){M(n,e,o)},d(n){n&&I(e)}}}function Ev(t){let e;return{c(){e=B("Unpause any time by pressing 'P'")},m(n,o){M(n,e,o)},d(n){n&&I(e)}}}function Rv(t){let e,n,o,i;return e=new Co({props:{$$slots:{default:[Nv]},$$scope:{ctx:t}}}),o=new To({props:{$$slots:{default:[Ev]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment),n=V(),z(o.$$.fragment)},m(r,l){Q(e,r,l),M(r,n,l),Q(o,r,l),i=!0},p(r,l){const a={};l[1]&1&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l[1]&1&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){T(e.$$.fragment,r),T(o.$$.fragment,r),i=!1},d(r){r&&I(n),x(e,r),x(o,r)}}}function Su(t){let e,n,o,i,r,l=JSON.stringify(t[5].requirements[t[2].difficulty].population_count)+"",a,s,u=JSON.stringify(t[2].townInfo.population_count)+"",f,c,d,p,h=JSON.stringify(t[5].requirements[t[2].difficulty].happiness)+"",_,y,w=JSON.stringify(t[2].townInfo.happiness)+"",C,k,D,G,L=JSON.stringify(t[5].requirements[t[2].difficulty].employment*100)+"",j,F,E=JSON.stringify((t[2].townInfo.employees/t[2].townInfo.population_count||0)*100)+"",U,b,g,S,O,H=JSON.stringify(t[5].requirements[t[2].difficulty].health)+"",R,J,te=JSON.stringify(t[2].townInfo.health)+"",Z,W,ne,m,$=JSON.stringify(t[5].requirements[t[2].difficulty].knowledge)+"",K,Y,se=JSON.stringify(t[2].townInfo.knowledge_points)+"",ue,Se,De;function Ve(be,Ke){return be[2].townInfo.population_count>=be[5].requirements[be[2].difficulty].population_count?Lv:Dv}let tt=Ve(t),de=tt(t);function Me(be,Ke){return be[2].townInfo.happiness>=be[5].requirements[be[2].difficulty].happiness?qv:Fv}let He=Me(t),$e=He(t);function Ge(be,Ke){return be[2].townInfo.employees/be[2].townInfo.population_count>=be[5].requirements[be[2].difficulty].employment?Bv:jv}let ke=Ge(t),Ae=ke(t);function _t(be,Ke){return be[2].townInfo.health>=be[5].requirements[be[2].difficulty].health?Gv:Vv}let It=_t(t),dt=It(t);function qt(be,Ke){return be[2].townInfo.knowledge_points>=be[5].requirements[be[2].difficulty].knowledge?Wv:Hv}let Nt=qt(t),ft=Nt(t),xe=t[5].requirements[t[2].difficulty].required_plots!=null&&t[5].requirements[t[2].difficulty].required_plots.length>0&&Tu(t);return{c(){e=P("div"),e.textContent=`With your difficulty (${t[6]}), you must also have:`,n=V(),o=P("ul"),i=P("li"),de.c(),r=B(`
                  Population: `),a=B(l),s=B(" - Currently at "),f=B(u),c=V(),d=P("li"),$e.c(),p=B(`
                  Happiness: `),_=B(h),y=B(" - Currently at "),C=B(w),k=V(),D=P("li"),Ae.c(),G=B(`
                  Employment: `),j=B(L),F=B("% - Currently at "),U=B(E),b=B("%"),g=V(),S=P("li"),dt.c(),O=B(`
                  Health: `),R=B(H),J=B(" - Currently at "),Z=B(te),W=V(),ne=P("li"),ft.c(),m=B(`
                  Knowledge: `),K=B($),Y=B(" - Currently at "),ue=B(se),Se=V(),xe&&xe.c(),De=Re(),N(e,"class","leading-relaxed text-sm"),N(o,"class","list-inside list-disc leading-relaxedmt-0 text-sm")},m(be,Ke){M(be,e,Ke),M(be,n,Ke),M(be,o,Ke),v(o,i),de.m(i,null),v(i,r),v(i,a),v(i,s),v(i,f),v(o,c),v(o,d),$e.m(d,null),v(d,p),v(d,_),v(d,y),v(d,C),v(o,k),v(o,D),Ae.m(D,null),v(D,G),v(D,j),v(D,F),v(D,U),v(D,b),v(o,g),v(o,S),dt.m(S,null),v(S,O),v(S,R),v(S,J),v(S,Z),v(o,W),v(o,ne),ft.m(ne,null),v(ne,m),v(ne,K),v(ne,Y),v(ne,ue),M(be,Se,Ke),xe&&xe.m(be,Ke),M(be,De,Ke)},p(be,Ke){tt!==(tt=Ve(be))&&(de.d(1),de=tt(be),de&&(de.c(),de.m(i,r))),Ke[0]&4&&l!==(l=JSON.stringify(be[5].requirements[be[2].difficulty].population_count)+"")&&ae(a,l),Ke[0]&4&&u!==(u=JSON.stringify(be[2].townInfo.population_count)+"")&&ae(f,u),He!==(He=Me(be))&&($e.d(1),$e=He(be),$e&&($e.c(),$e.m(d,p))),Ke[0]&4&&h!==(h=JSON.stringify(be[5].requirements[be[2].difficulty].happiness)+"")&&ae(_,h),Ke[0]&4&&w!==(w=JSON.stringify(be[2].townInfo.happiness)+"")&&ae(C,w),ke!==(ke=Ge(be))&&(Ae.d(1),Ae=ke(be),Ae&&(Ae.c(),Ae.m(D,G))),Ke[0]&4&&L!==(L=JSON.stringify(be[5].requirements[be[2].difficulty].employment*100)+"")&&ae(j,L),Ke[0]&4&&E!==(E=JSON.stringify((be[2].townInfo.employees/be[2].townInfo.population_count||0)*100)+"")&&ae(U,E),It!==(It=_t(be))&&(dt.d(1),dt=It(be),dt&&(dt.c(),dt.m(S,O))),Ke[0]&4&&H!==(H=JSON.stringify(be[5].requirements[be[2].difficulty].health)+"")&&ae(R,H),Ke[0]&4&&te!==(te=JSON.stringify(be[2].townInfo.health)+"")&&ae(Z,te),Nt!==(Nt=qt(be))&&(ft.d(1),ft=Nt(be),ft&&(ft.c(),ft.m(ne,m))),Ke[0]&4&&$!==($=JSON.stringify(be[5].requirements[be[2].difficulty].knowledge)+"")&&ae(K,$),Ke[0]&4&&se!==(se=JSON.stringify(be[2].townInfo.knowledge_points)+"")&&ae(ue,se),be[5].requirements[be[2].difficulty].required_plots!=null&&be[5].requirements[be[2].difficulty].required_plots.length>0?xe?xe.p(be,Ke):(xe=Tu(be),xe.c(),xe.m(De.parentNode,De)):xe&&(xe.d(1),xe=null)},d(be){be&&(I(e),I(n),I(o),I(Se),I(De)),de.d(),$e.d(),Ae.d(),dt.d(),ft.d(),xe&&xe.d(be)}}}function Dv(t){let e;return{c(){e=B("❌")},m(n,o){M(n,e,o)},d(n){n&&I(e)}}}function Lv(t){let e;return{c(){e=B("✅")},m(n,o){M(n,e,o)},d(n){n&&I(e)}}}function Fv(t){let e;return{c(){e=B("❌")},m(n,o){M(n,e,o)},d(n){n&&I(e)}}}function qv(t){let e;return{c(){e=B("✅")},m(n,o){M(n,e,o)},d(n){n&&I(e)}}}function jv(t){let e;return{c(){e=B("❌")},m(n,o){M(n,e,o)},d(n){n&&I(e)}}}function Bv(t){let e;return{c(){e=B("✅")},m(n,o){M(n,e,o)},d(n){n&&I(e)}}}function Vv(t){let e;return{c(){e=B("❌")},m(n,o){M(n,e,o)},d(n){n&&I(e)}}}function Gv(t){let e;return{c(){e=B("✅")},m(n,o){M(n,e,o)},d(n){n&&I(e)}}}function Hv(t){let e;return{c(){e=B("❌")},m(n,o){M(n,e,o)},d(n){n&&I(e)}}}function Wv(t){let e;return{c(){e=B("✅")},m(n,o){M(n,e,o)},d(n){n&&I(e)}}}function Tu(t){let e,n,o,i=Ye(t[5].requirements[t[2].difficulty].required_plots),r=[];for(let l=0;l<i.length;l+=1)r[l]=Iu(Au(t,i,l));return{c(){e=P("br"),n=B(`
                You also need to have these plots:
                `);for(let l=0;l<r.length;l+=1)r[l].c();o=Re()},m(l,a){M(l,e,a),M(l,n,a);for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(l,a);M(l,o,a)},p(l,a){if(a[0]&36){i=Ye(l[5].requirements[l[2].difficulty].required_plots);let s;for(s=0;s<i.length;s+=1){const u=Au(l,i,s);r[s]?r[s].p(u,a):(r[s]=Iu(u),r[s].c(),r[s].m(o.parentNode,o))}for(;s<r.length;s+=1)r[s].d(1);r.length=i.length}},d(l){l&&(I(e),I(n),I(o)),wt(r,l)}}}function $v(t){let e;return{c(){e=B("❌")},m(n,o){M(n,e,o)},d(n){n&&I(e)}}}function Kv(t){let e;return{c(){e=B("✅")},m(n,o){M(n,e,o)},d(n){n&&I(e)}}}function Iu(t){let e,n,o,i,r=t[28]+"",l,a;function s(c,d){return d[0]&4&&(o=null),o==null&&(o=et(c[28],c[2]).length>0),o?Kv:$v}let u=s(t,[-1,-1]),f=u(t);return{c(){e=P("div"),n=P("li"),f.c(),i=V(),l=B(r),a=V(),N(e,"class","text-sm")},m(c,d){M(c,e,d),v(e,n),f.m(n,null),v(n,i),v(n,l),v(e,a)},p(c,d){u!==(u=s(c,d))&&(f.d(1),f=u(c),f&&(f.c(),f.m(n,i))),d[0]&4&&r!==(r=c[28]+"")&&ae(l,r)},d(c){c&&I(e),f.d()}}}function Uv(t){let e;return{c(){e=B("Save game")},m(n,o){M(n,e,o)},d(n){n&&I(e)}}}function Yv(t){let e;return{c(){e=B("Save")},m(n,o){M(n,e,o)},d(n){n&&I(e)}}}function Xv(t){let e;return{c(){e=B("Upload game")},m(n,o){M(n,e,o)},d(n){n&&I(e)}}}function Mu(t){let e,n;function o(){return t[19](t[25])}return e=new on({props:{class:"bg-blue-600 hover:bg-blue-700 mt-4",id:"collectPrize-"+t[25].id,$$slots:{default:[Jv]},$$scope:{ctx:t}}}),e.$on("click",o),{c(){z(e.$$.fragment)},m(i,r){Q(e,i,r),n=!0},p(i,r){t=i;const l={};r[0]&2&&(l.id="collectPrize-"+t[25].id),r[0]&2|r[1]&1&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(i){n||(A(e.$$.fragment,i),n=!0)},o(i){T(e.$$.fragment,i),n=!1},d(i){x(e,i)}}}function Jv(t){let e,n=Ou(t[25].prize)+"",o,i;return{c(){e=B("Collect Prize: $"),o=B(n),i=B(" gold")},m(r,l){M(r,e,l),M(r,o,l),M(r,i,l)},p(r,l){l[0]&2&&n!==(n=Ou(r[25].prize)+"")&&ae(o,n)},d(r){r&&(I(e),I(o),I(i))}}}function Pu(t){let e,n,o,i,r,l,a=t[25].title+"",s,u,f,c=t[25].requirements+"",d,p,h,_=t[25].icon+"",y,w,C,k=t[25].description+"",D,G,L,j,F=t[8](t[25].id)+"",E,U,b,g=t[13](t[25].id)&&!t[9](t[25].id),S,O,H,R=g&&Mu(t);return{c(){e=P("div"),n=P("div"),o=P("div"),i=P("span"),r=P("div"),l=P("span"),s=B(a),u=V(),f=P("div"),d=B(c),p=V(),h=P("div"),y=B(_),w=V(),C=P("div"),D=B(k),G=V(),L=P("div"),j=B("✅ Completed on Day "),E=B(F),b=V(),R&&R.c(),S=V(),N(l,"class","font-semibold text-lg"),N(f,"class","font-thin text-white opacity-75 text-xs"),N(r,"class","flex flex-row gap-3 w-[100%] text- items-center "),N(h,"class","text-sm flex-grow pr-1 break-inside-avoid "),N(i,"class","flex flex-row justify-between w-[100%]"),N(o,"class","min-w-32 flex"),N(C,"class","text-white opacity-75 text-sm font-light"),N(L,"class",U=(t[13](t[25].id)?"":"hidden")+" text-xs text-green-400"),N(n,"class","flex-col flex px-3 py-2 gap-0"),N(e,"class",O="flex flex-col gap-3 cursor-default rounded-md "+(t[13](t[25].id)?"bg-green-700":"bg-gray-500 opacity-35"))},m(J,te){M(J,e,te),v(e,n),v(n,o),v(o,i),v(i,r),v(r,l),v(l,s),v(r,u),v(r,f),v(f,d),v(i,p),v(i,h),v(h,y),v(n,w),v(n,C),v(C,D),v(n,G),v(n,L),v(L,j),v(L,E),v(n,b),R&&R.m(n,null),v(e,S),H=!0},p(J,te){(!H||te[0]&2)&&a!==(a=J[25].title+"")&&ae(s,a),(!H||te[0]&2)&&c!==(c=J[25].requirements+"")&&ae(d,c),(!H||te[0]&2)&&_!==(_=J[25].icon+"")&&ae(y,_),(!H||te[0]&2)&&k!==(k=J[25].description+"")&&ae(D,k),(!H||te[0]&2)&&F!==(F=J[8](J[25].id)+"")&&ae(E,F),(!H||te[0]&2&&U!==(U=(J[13](J[25].id)?"":"hidden")+" text-xs text-green-400"))&&N(L,"class",U),te[0]&2&&(g=J[13](J[25].id)&&!J[9](J[25].id)),g?R?(R.p(J,te),te[0]&2&&A(R,1)):(R=Mu(J),R.c(),A(R,1),R.m(n,null)):R&&(Pe(),T(R,1,1,()=>{R=null}),Oe()),(!H||te[0]&2&&O!==(O="flex flex-col gap-3 cursor-default rounded-md "+(J[13](J[25].id)?"bg-green-700":"bg-gray-500 opacity-35")))&&N(e,"class",O)},i(J){H||(A(R),H=!0)},o(J){T(R),H=!1},d(J){J&&I(e),R&&R.d()}}}function Zv(t){let e,n,o,i,r,l,a,s,u,f,c,d,p,h,_,y,w,C,k,D,G,L,j,F,E,U,b,g,S,O,H,R,J,te,Z,W,ne,m,$,K,Y,se,ue;e=new Ao({props:{$$slots:{default:[Rv]},$$scope:{ctx:t}}});let Se=t[2].endGoal=="land"&&Su(t);_=new io({props:{for:"saveButton",class:`cursor-pointer bg-blue-600 rounded-md text-center p-2.5 hover:bg-blue-700 justify-center flex 
					`,$$slots:{default:[Uv]},$$scope:{ctx:t}}}),w=new on({props:{class:`
					bg-blue-600 hover:bg-blue-700 hidden
					`,id:"saveButton",$$slots:{default:[Yv]},$$scope:{ctx:t}}}),w.$on("click",t[16]),k=new io({props:{for:"upload",class:`cursor-pointer bg-blue-600 rounded-md text-center p-2.5 hover:bg-blue-700 justify-center flex 
					`,$$slots:{default:[Xv]},$$scope:{ctx:t}}}),G=new os({props:{class:"hidden",type:"file",id:"upload"}}),G.$on("change",t[12]),j=new At({props:{orientation:"vertical"}});let De=Ye(t[1]),Ve=[];for(let de=0;de<De.length;de+=1)Ve[de]=Pu(Cu(t,De,de));const tt=de=>T(Ve[de],1,1,()=>{Ve[de]=null});return{c(){z(e.$$.fragment),n=V(),o=P("div"),i=P("div"),r=P("div"),l=P("h4"),l.textContent="This game",a=V(),s=P("span"),s.textContent=`${t[5].description_title}`,u=V(),f=P("div"),Se&&Se.c(),c=V(),d=P("div"),p=P("div"),h=P("div"),z(_.$$.fragment),y=V(),z(w.$$.fragment),C=V(),z(k.$$.fragment),D=V(),z(G.$$.fragment),L=V(),z(j.$$.fragment),F=V(),E=P("div"),U=P("h4"),U.textContent=`Your achievement (${t[7].length}
          / ${ze.length})`,b=V(),g=P("span"),g.textContent="Track your progress through games & complete challenges!",S=V(),O=P("br"),H=V(),R=P("div"),J=P("input"),te=V(),Z=P("label"),Z.textContent="Show completed",W=V(),ne=P("div"),m=P("div");for(let de=0;de<Ve.length;de+=1)Ve[de].c();$=V(),K=P("span"),K.textContent=`Prizes apply to the current game you are in. You can wait to apply
          them until the right time.`,N(l,"class","underline underline-offset-4"),N(s,"class","text-sm text-gray-400"),N(f,"class","mt-6 gap-0 py-0 text-gray-400 text-sm"),N(r,"class","flex-col h-max"),N(h,"class","flex gap-10 justify-start min-w-[100%] w-[100%] items"),N(p,"class","flex flex-col gap-3 h-max"),N(i,"class","flex flex-col gap-6 justify-between"),N(U,"class","underline underline-offset-4"),N(g,"class","text-sm text-gray-400"),N(J,"type","checkbox"),N(J,"id","toggle-show-completed"),N(J,"class","rounded"),N(J,"tabindex","-1"),J.checked=localStorage.getItem("showCompletedAchievements")==="true",N(Z,"for","toggle-show-completed"),N(Z,"class","text-xs text-gray-400 select-none ml-2 no-select cursor-pointer "),N(R,"class","flex items-center"),N(m,"class","flex flex-col gap-4 overflow-scroll pb-20 scroll-smooth"),N(ne,"class","overflow-scroll mt-2 h-[55vh]"),N(K,"class","text-sm text-yellow-400 italic"),N(o,"class","flex flex-row w-full gap-10")},m(de,Me){Q(e,de,Me),M(de,n,Me),M(de,o,Me),v(o,i),v(i,r),v(r,l),v(r,a),v(r,s),v(r,u),v(r,f),Se&&Se.m(f,null),v(i,c),v(i,d),v(d,p),v(p,h),Q(_,h,null),v(h,y),Q(w,h,null),v(h,C),Q(k,h,null),v(h,D),Q(G,h,null),v(o,L),Q(j,o,null),v(o,F),v(o,E),v(E,U),v(E,b),v(E,g),v(E,S),v(E,O),v(E,H),v(E,R),v(R,J),v(R,te),v(R,Z),v(E,W),v(E,ne),v(ne,m);for(let He=0;He<Ve.length;He+=1)Ve[He]&&Ve[He].m(m,null);v(E,$),v(E,K),Y=!0,se||(ue=[ee(J,"change",t[17]),ee(J,"keydown",t[18])],se=!0)},p(de,Me){const He={};Me[1]&1&&(He.$$scope={dirty:Me,ctx:de}),e.$set(He),de[2].endGoal=="land"?Se?Se.p(de,Me):(Se=Su(de),Se.c(),Se.m(f,null)):Se&&(Se.d(1),Se=null);const $e={};Me[1]&1&&($e.$$scope={dirty:Me,ctx:de}),_.$set($e);const Ge={};Me[1]&1&&(Ge.$$scope={dirty:Me,ctx:de}),w.$set(Ge);const ke={};if(Me[1]&1&&(ke.$$scope={dirty:Me,ctx:de}),k.$set(ke),Me[0]&9986){De=Ye(de[1]);let Ae;for(Ae=0;Ae<De.length;Ae+=1){const _t=Cu(de,De,Ae);Ve[Ae]?(Ve[Ae].p(_t,Me),A(Ve[Ae],1)):(Ve[Ae]=Pu(_t),Ve[Ae].c(),A(Ve[Ae],1),Ve[Ae].m(m,null))}for(Pe(),Ae=De.length;Ae<Ve.length;Ae+=1)tt(Ae);Oe()}},i(de){if(!Y){A(e.$$.fragment,de),A(_.$$.fragment,de),A(w.$$.fragment,de),A(k.$$.fragment,de),A(G.$$.fragment,de),A(j.$$.fragment,de);for(let Me=0;Me<De.length;Me+=1)A(Ve[Me]);Y=!0}},o(de){T(e.$$.fragment,de),T(_.$$.fragment,de),T(w.$$.fragment,de),T(k.$$.fragment,de),T(G.$$.fragment,de),T(j.$$.fragment,de),Ve=Ve.filter(Boolean);for(let Me=0;Me<Ve.length;Me+=1)T(Ve[Me]);Y=!1},d(de){de&&(I(n),I(o)),x(e,de),Se&&Se.d(),x(_),x(w),x(k),x(G),x(j),wt(Ve,de),se=!1,qe(ue)}}}function Qv(t){let e,n;return e=new So({props:{class:" max-w-[90vw] max-h-[90vh] bg-foregroundDark text-foregroundText",$$slots:{default:[Zv]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment)},m(o,i){Q(e,o,i),n=!0},p(o,i){const r={};i[0]&6|i[1]&1&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function xv(t){var o;let e=((o=t[14]())==null?void 0:o.title)+"",n;return{c(){n=B(e)},m(i,r){M(i,n,r)},p:Ce,d(i){i&&I(n)}}}function zv(t){let e,n,o,i;return{c(){var r,l;e=P("div"),n=P("div"),n.textContent=`${(r=t[14]())==null?void 0:r.icon}`,o=V(),i=P("div"),i.textContent=`${(l=t[14]())==null?void 0:l.description}`,N(n,"class","text-center w-[30%] align-middle flex flex-col text-8xl"),N(i,"class","pl-8 w-[80%] align-middle flex flex-col justify-center text-lg"),N(e,"class","flex flex-row align-middle justify-evenly px-6 py-4")},m(r,l){M(r,e,l),v(e,n),v(e,o),v(e,i)},p:Ce,d(r){r&&I(e)}}}function ey(t){let e,n,o,i;return e=new is({props:{class:"text-center text-xl font-bold",$$slots:{default:[xv]},$$scope:{ctx:t}}}),o=new as({props:{$$slots:{default:[zv]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment),n=V(),z(o.$$.fragment)},m(r,l){Q(e,r,l),M(r,n,l),Q(o,r,l),i=!0},p(r,l){const a={};l[1]&1&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l[1]&1&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){T(e.$$.fragment,r),T(o.$$.fragment,r),i=!1},d(r){r&&I(n),x(e,r),x(o,r)}}}function ty(t){let e;return{c(){e=B("Close to collect prize")},m(n,o){M(n,e,o)},d(n){n&&I(e)}}}function ny(t){let e,n;return e=new md({props:{$$slots:{default:[ty]},$$scope:{ctx:t}}}),e.$on("click",t[21]),{c(){z(e.$$.fragment)},m(o,i){Q(e,o,i),n=!0},p(o,i){const r={};i[1]&1&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function oy(t){let e,n,o,i;return e=new ls({props:{$$slots:{default:[ey]},$$scope:{ctx:t}}}),o=new rs({props:{$$slots:{default:[ny]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment),n=V(),z(o.$$.fragment)},m(r,l){Q(e,r,l),M(r,n,l),Q(o,r,l),i=!0},p(r,l){const a={};l[1]&1&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l[0]&16|l[1]&1&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){T(e.$$.fragment,r),T(o.$$.fragment,r),i=!1},d(r){r&&I(n),x(e,r),x(o,r)}}}function iy(t){let e,n;return e=new ss({props:{$$slots:{default:[oy]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment)},m(o,i){Q(e,o,i),n=!0},p(o,i){const r={};i[0]&16|i[1]&1&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function ry(t){let e,n,o,i,r;function l(s){t[20](s)}let a={$$slots:{default:[Qv]},$$scope:{ctx:t}};return t[3]!==void 0&&(a.open=t[3]),e=new Io({props:a}),Ie.push(()=>Gn(e,"open",l)),i=new us({props:{open:t[4],$$slots:{default:[iy]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment),o=V(),z(i.$$.fragment)},m(s,u){Q(e,s,u),M(s,o,u),Q(i,s,u),r=!0},p(s,u){const f={};u[0]&6|u[1]&1&&(f.$$scope={dirty:u,ctx:s}),!n&&u[0]&8&&(n=!0,f.open=s[3],Vn(()=>n=!1)),e.$set(f);const c={};u[0]&16&&(c.open=s[4]),u[0]&16|u[1]&1&&(c.$$scope={dirty:u,ctx:s}),i.$set(c)},i(s){r||(A(e.$$.fragment,s),A(i.$$.fragment,s),r=!0)},o(s){T(e.$$.fragment,s),T(i.$$.fragment,s),r=!1},d(s){s&&I(o),x(e,s),x(i,s)}}}function Ou(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function ly(t){const e=JSON.parse(t);return e.townInfo!=null&&e.difficulty!=null}function sy(t,e,n){let o,i,r,l,a;fe(t,tn,b=>n(23,o=b)),fe(t,Le,b=>n(2,i=b)),fe(t,er,b=>n(15,r=b)),fe(t,Pt,b=>n(3,l=b)),fe(t,zi,b=>n(4,a=b));const u=pt[i.endGoal],f=Kl[i.difficulty]||0;ze.sort((b,g)=>C(b.id)&&!C(g.id)?-1:!C(b.id)&&C(g.id)?1:0);const c=ze.filter(b=>C(b.id));function d(b){const g=o.achievements.find(S=>S[0]==b);return g==null?0:`${g[1]} in ${g[2]}.`}function p(b){const g=o.achievements.find(S=>S[0]==b);return g==null?!1:g[3]}function h(b){const g=o.achievements.find(O=>O[0]==b);if(g==null)return;const S=ze.find(O=>O.id==b);S!=null&&(Ee(Le,i.townInfo.gold+=S.prize,i),g[3]=!0,Ee(tn,o.achievements=o.achievements.map(O=>O[0]==b?g:O),o))}let _=ze;function y(){const b=JSON.stringify(i),g=new Blob([b],{type:"text/plain"}),S=URL.createObjectURL(g),O=document.createElement("a");O.href=S,O.download=`${new Date().toISOString()}.json`,document.body.appendChild(O),O.click(),document.body.removeChild(O),URL.revokeObjectURL(S)}function w(){const g=document.getElementById("upload").files;if(g==null)return;const S=g[0],O=new FileReader;O.onload=function(H){if(H.target==null)return;const R=H.target.result;if(typeof R=="string"){if(!ly(R)){alert("Invalid game file");return}Ul(JSON.parse(R))}else alert("Invalid game file: is not String.")},O.readAsText(S)}function C(b){return o.achievements==null?!1:o.achievements.find(g=>g[0]==b)!=null}function k(){er.update(b=>!b),localStorage.setItem("showCompletedAchievements",localStorage.getItem("showCompletedAchievements")==="true"?"false":"true")}localStorage.getItem("pauseMenuTab")==null&&(localStorage.setItem("pauseMenuTab","game"),Ac.set("game"));function D(){const b=o.achievements[o.achievements.length-1];if(b!=null)return ze.find(g=>g.id==b[0])}const G=()=>y(),L=()=>{k()},j=b=>{b.key==="p"&&Pt.set(!1)},F=b=>{h(b.id);const g=document.getElementById(`collectPrize-${b.id}`);g&&(g.style.display="none")};function E(b){l=b,Pt.set(l)}const U=()=>{Ee(zi,a=!1,a)};return t.$$.update=()=>{if(t.$$.dirty[0]&32774&&i)if(r)n(1,_=ze);else{n(1,_=[]);for(let b=0;b<ze.length;b++)(!C(ze[b].id)||!p(ze[b].id))&&_.push(ze[b])}},[k,_,i,l,a,u,f,c,d,p,h,y,w,C,D,r,G,L,j,F,E,U]}class ay extends we{constructor(e){super(),ye(this,e,sy,ry,ce,{toggleShowCompleted:0},null,[-1,-1])}get toggleShowCompleted(){return this.$$.ctx[0]}}function uy(){console.log("%cRUNNING STABILITY TESTS...","color: #26bfa5;");let t=0;return console.log("%cPASSED ALL STABILITY TESTS 😍","color: #26bfa5;"),t}function fy(t){let e=t[0].endGameDetails.win==!0?"You won! 🎉":"You lost! 😭",n;return{c(){n=B(e)},m(o,i){M(o,n,i)},p(o,i){i&1&&e!==(e=o[0].endGameDetails.win==!0?"You won! 🎉":"You lost! 😭")&&ae(n,e)},d(o){o&&I(n)}}}function cy(t){let e;return{c(){e=B("Keep playin'")},m(n,o){M(n,e,o)},d(n){n&&I(e)}}}function dy(t){let e,n=t[0].endGameDetails.msg+"",o,i,r,l,a,s,u,f;return u=new on({props:{class:"bg-accent",$$slots:{default:[cy]},$$scope:{ctx:t}}}),u.$on("click",t[2]),{c(){e=P("span"),o=B(n),i=V(),r=P("br"),l=V(),a=P("br"),s=V(),z(u.$$.fragment),N(e,"class","text-gray-500 text-sm")},m(c,d){M(c,e,d),v(e,o),M(c,i,d),M(c,r,d),M(c,l,d),M(c,a,d),M(c,s,d),Q(u,c,d),f=!0},p(c,d){(!f||d&1)&&n!==(n=c[0].endGameDetails.msg+"")&&ae(o,n);const p={};d&16&&(p.$$scope={dirty:d,ctx:c}),u.$set(p)},i(c){f||(A(u.$$.fragment,c),f=!0)},o(c){T(u.$$.fragment,c),f=!1},d(c){c&&(I(e),I(i),I(r),I(l),I(a),I(s)),x(u,c)}}}function my(t){let e,n,o,i;return e=new Co({props:{$$slots:{default:[fy]},$$scope:{ctx:t}}}),o=new To({props:{$$slots:{default:[dy]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment),n=V(),z(o.$$.fragment)},m(r,l){Q(e,r,l),M(r,n,l),Q(o,r,l),i=!0},p(r,l){const a={};l&17&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&17&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){T(e.$$.fragment,r),T(o.$$.fragment,r),i=!1},d(r){r&&I(n),x(e,r),x(o,r)}}}function py(t){let e;return{c(){e=P("span"),e.textContent="Reset the game by pressing SHIFT+ESC",N(e,"class","text-gray-500 text-sm")},m(n,o){M(n,e,o)},p:Ce,d(n){n&&I(e)}}}function hy(t){let e,n,o,i;return e=new Ao({props:{$$slots:{default:[my]},$$scope:{ctx:t}}}),o=new oi({props:{$$slots:{default:[py]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment),n=V(),z(o.$$.fragment)},m(r,l){Q(e,r,l),M(r,n,l),Q(o,r,l),i=!0},p(r,l){const a={};l&17&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&16&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){T(e.$$.fragment,r),T(o.$$.fragment,r),i=!1},d(r){r&&I(n),x(e,r),x(o,r)}}}function _y(t){let e,n;return e=new So({props:{class:"bg-foregroundDark text-foregroundText",$$slots:{default:[hy]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment)},m(o,i){Q(e,o,i),n=!0},p(o,i){const r={};i&17&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function gy(t){let e,n,o;function i(l){t[3](l)}let r={$$slots:{default:[_y]},$$scope:{ctx:t}};return t[1]!==void 0&&(r.open=t[1]),e=new Io({props:r}),Ie.push(()=>Gn(e,"open",i)),{c(){z(e.$$.fragment)},m(l,a){Q(e,l,a),o=!0},p(l,[a]){const s={};a&17&&(s.$$scope={dirty:a,ctx:l}),!n&&a&2&&(n=!0,s.open=l[1],Vn(()=>n=!1)),e.$set(s)},i(l){o||(A(e.$$.fragment,l),o=!0)},o(l){T(e.$$.fragment,l),o=!1},d(l){x(e,l)}}}function by(t,e,n){let o;fe(t,Le,a=>n(0,o=a));let i=!1;function r(){let a=o;a.overtime=!0,Le.set(a),n(1,i=!1),Pt.set(!1)}function l(a){i=a,n(1,i),n(0,o)}return t.$$.update=()=>{t.$$.dirty&1&&(o.endGameDetails.msg!=""&&o.overtime==!1?n(1,i=!0):n(1,i=!1))},[o,i,r,l]}class vy extends we{constructor(e){super(),ye(this,e,by,gy,ce,{})}}function yy(t){let e;return{c(){e=B("Welcome to Plots!")},m(n,o){M(n,e,o)},d(n){n&&I(e)}}}function wy(t){let e;return{c(){e=B("Select a map size (difficulty)")},m(n,o){M(n,e,o)},d(n){n&&I(e)}}}function ky(t){let e;return{c(){e=B("Select a game mode")},m(n,o){M(n,e,o)},d(n){n&&I(e)}}}function Cy(t){let e;return{c(){e=P("p"),e.textContent=`${pt.free_play.description_title}`,N(e,"class","text-gray-500 text-sm")},m(n,o){M(n,e,o)},d(n){n&&I(e)}}}function Ay(t){let e;return{c(){e=P("p"),e.textContent=`${pt.land.description_title}`,N(e,"class","text-gray-500 text-sm")},m(n,o){M(n,e,o)},d(n){n&&I(e)}}}function Sy(t){let e;return{c(){e=B("Town Name")},m(n,o){M(n,e,o)},d(n){n&&I(e)}}}function Ty(t){let e;return{c(){e=B("Cheats")},m(n,o){M(n,e,o)},d(n){n&&I(e)}}}function Iy(t){let e,n,o,i,r,l,a,s,u,f,c,d,p,h,_,y,w,C,k,D,G,L,j,F,E,U,b,g,S,O,H,R,J;r=new io({props:{for:"difficulty",class:"mt-2",$$slots:{default:[wy]},$$scope:{ctx:t}}}),p=new io({props:{for:"endGoal",class:"mt-2",$$slots:{default:[ky]},$$scope:{ctx:t}}});function te(ne,m){return ne[0]==="land"?Ay:Cy}let Z=te(t),W=Z(t);return G=new io({props:{for:"townName",class:"mt-2",$$slots:{default:[Sy]},$$scope:{ctx:t}}}),j=new os({props:{id:"townName",class:"mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Will be randomized if you leave blank"}}),U=new io({props:{for:"cheats",class:"mt-2",$$slots:{default:[Ty]},$$scope:{ctx:t}}}),{c(){e=P("a"),e.textContent="GitHub / Learn how to play",n=V(),o=P("div"),i=P("div"),z(r.$$.fragment),l=V(),a=P("select"),s=P("option"),s.textContent="Easy (quick game)",u=P("option"),u.textContent="Normal",f=P("option"),f.textContent="Hard (longest game)",c=V(),d=P("div"),z(p.$$.fragment),h=V(),W.c(),_=V(),y=P("select"),w=P("option"),w.textContent=`${pt.land.short_title}`,C=P("option"),C.textContent=`${pt.free_play.short_title}`,k=V(),D=P("div"),z(G.$$.fragment),L=V(),z(j.$$.fragment),F=V(),E=P("div"),z(U.$$.fragment),b=V(),g=P("select"),S=P("option"),S.textContent="No cheats",O=P("option"),O.textContent="Dev mode",N(e,"href","https://github.com/josephrcox/plots#how-to-play"),N(e,"class","text-blue-500 text-sm mb-4 hover:underline"),N(e,"target","_blank"),s.__value="0",xt(s,s.__value),u.__value="1",xt(u,u.__value),u.selected=!0,f.__value="2",xt(f,f.__value),N(a,"id","difficulty"),N(a,"class","mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"),w.__value="land",xt(w,w.__value),C.__value="free_play",xt(C,C.__value),N(y,"id","endGoal"),N(y,"class","mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),S.__value="false",xt(S,S.__value),S.selected=!0,O.__value="true",xt(O,O.__value),N(g,"id","cheats"),N(g,"class","mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),N(o,"class","flex flex-col justify-center gap-5 mt-4")},m(ne,m){M(ne,e,m),M(ne,n,m),M(ne,o,m),v(o,i),Q(r,i,null),v(i,l),v(i,a),v(a,s),v(a,u),v(a,f),v(o,c),v(o,d),Q(p,d,null),v(d,h),W.m(d,null),v(d,_),v(d,y),v(y,w),v(y,C),Hs(y,t[0]),v(o,k),v(o,D),Q(G,D,null),v(D,L),Q(j,D,null),v(o,F),v(o,E),Q(U,E,null),v(E,b),v(E,g),v(g,S),v(g,O),H=!0,R||(J=ee(y,"change",t[4]),R=!0)},p(ne,m){const $={};m&128&&($.$$scope={dirty:m,ctx:ne}),r.$set($);const K={};m&128&&(K.$$scope={dirty:m,ctx:ne}),p.$set(K),Z!==(Z=te(ne))&&(W.d(1),W=Z(ne),W&&(W.c(),W.m(d,_))),(!H||m&1)&&Hs(y,ne[0]);const Y={};m&128&&(Y.$$scope={dirty:m,ctx:ne}),G.$set(Y);const se={};m&128&&(se.$$scope={dirty:m,ctx:ne}),U.$set(se)},i(ne){H||(A(r.$$.fragment,ne),A(p.$$.fragment,ne),A(G.$$.fragment,ne),A(j.$$.fragment,ne),A(U.$$.fragment,ne),H=!0)},o(ne){T(r.$$.fragment,ne),T(p.$$.fragment,ne),T(G.$$.fragment,ne),T(j.$$.fragment,ne),T(U.$$.fragment,ne),H=!1},d(ne){ne&&(I(e),I(n),I(o)),x(r),x(p),W.d(),x(G),x(j),x(U),R=!1,J()}}}function My(t){let e,n,o,i;return e=new Co({props:{$$slots:{default:[yy]},$$scope:{ctx:t}}}),o=new To({props:{$$slots:{default:[Iy]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment),n=V(),z(o.$$.fragment)},m(r,l){Q(e,r,l),M(r,n,l),Q(o,r,l),i=!0},p(r,l){const a={};l&128&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&129&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){T(e.$$.fragment,r),T(o.$$.fragment,r),i=!1},d(r){r&&I(n),x(e,r),x(o,r)}}}function Py(t){let e;return{c(){e=B("Reset user")},m(n,o){M(n,e,o)},d(n){n&&I(e)}}}function Oy(t){let e,n,o=t[1].username+"",i,r,l,a,s,u,f,c,d;return a=new on({props:{$$slots:{default:[Py]},$$scope:{ctx:t}}}),a.$on("click",Dy),{c(){e=P("div"),n=P("span"),i=B(o),r=V(),l=P("div"),z(a.$$.fragment),s=V(),u=P("button"),u.textContent="Start game",N(n,"class","italic opacity-30 text-xs py-2 text-start rounded h-full flex flex-col justify-center mr-10"),N(u,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-md"),N(e,"class","flex flex-row justify-between w-full px-1")},m(p,h){M(p,e,h),v(e,n),v(n,i),v(e,r),v(e,l),Q(a,l,null),v(l,s),v(l,u),f=!0,c||(d=[ee(n,"click",t[5]),ee(u,"click",t[3])],c=!0)},p(p,h){(!f||h&2)&&o!==(o=p[1].username+"")&&ae(i,o);const _={};h&128&&(_.$$scope={dirty:h,ctx:p}),a.$set(_)},i(p){f||(A(a.$$.fragment,p),f=!0)},o(p){T(a.$$.fragment,p),f=!1},d(p){p&&I(e),x(a),c=!1,qe(d)}}}function Ny(t){let e,n,o,i;return e=new Ao({props:{$$slots:{default:[My]},$$scope:{ctx:t}}}),o=new oi({props:{$$slots:{default:[Oy]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment),n=V(),z(o.$$.fragment)},m(r,l){Q(e,r,l),M(r,n,l),Q(o,r,l),i=!0},p(r,l){const a={};l&129&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&130&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){T(e.$$.fragment,r),T(o.$$.fragment,r),i=!1},d(r){r&&I(n),x(e,r),x(o,r)}}}function Ey(t){let e,n;return e=new So({props:{transition:Ar,class:"bg-foregroundDark text-foregroundText",$$slots:{default:[Ny]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment)},m(o,i){Q(e,o,i),n=!0},p(o,i){const r={};i&131&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function Ry(t){let e,n,o;function i(l){t[6](l)}let r={$$slots:{default:[Ey]},$$scope:{ctx:t}};return t[2].visible!==void 0&&(r.open=t[2].visible),e=new Io({props:r}),Ie.push(()=>Gn(e,"open",i)),{c(){z(e.$$.fragment)},m(l,a){Q(e,l,a),o=!0},p(l,[a]){const s={};a&131&&(s.$$scope={dirty:a,ctx:l}),!n&&a&4&&(n=!0,s.open=l[2].visible,Vn(()=>n=!1)),e.$set(s)},i(l){o||(A(e.$$.fragment,l),o=!0)},o(l){T(e.$$.fragment,l),o=!1},d(l){x(e,l)}}}function Dy(){alert("Deleted :)"),localStorage.clear(),window.location.href=""}function Ly(t,e,n){let o,i;fe(t,tn,f=>n(1,o=f)),fe(t,$o,f=>n(2,i=f)),Pt.set(!1);function r(){const f=document.getElementById("difficulty").value,c=document.getElementById("endGoal").value,d=document.getElementById("townName").value,p=document.getElementById("cheats").value=="true";Am(f,c,d,p)}let l="free_play";const a=f=>{n(0,l=f.target.value)};function s(){const f=prompt("Enter new username");let c=o;c.username=f,Mm(c)}function u(f){t.$$.not_equal(i.visible,f)&&(i.visible=f,$o.set(i))}return[l,o,i,r,a,s,u]}class Fy extends we{constructor(e){super(),ye(this,e,Ly,Ry,ce,{})}}function qy(t){let e;return{c(){e=B("Scoreboard")},m(n,o){M(n,e,o)},d(n){n&&I(e)}}}function jy(t){let e=t[1].description_title+"",n;return{c(){n=B(e)},m(o,i){M(o,n,i)},p:Ce,d(o){o&&I(n)}}}function By(t){let e,n,o,i;return e=new Co({props:{$$slots:{default:[qy]},$$scope:{ctx:t}}}),o=new To({props:{$$slots:{default:[jy]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment),n=V(),z(o.$$.fragment)},m(r,l){Q(e,r,l),M(r,n,l),Q(o,r,l),i=!0},p(r,l){const a={};l&128&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&128&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){T(e.$$.fragment,r),T(o.$$.fragment,r),i=!1},d(r){r&&I(n),x(e,r),x(o,r)}}}function Vy(t){let e;return{c(){e=B("footer")},m(n,o){M(n,e,o)},d(n){n&&I(e)}}}function Gy(t){let e,n,o,i;return e=new Ao({props:{$$slots:{default:[By]},$$scope:{ctx:t}}}),o=new oi({props:{$$slots:{default:[Vy]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment),n=B(`
		hi
		`),z(o.$$.fragment)},m(r,l){Q(e,r,l),M(r,n,l),Q(o,r,l),i=!0},p(r,l){const a={};l&128&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&128&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){T(e.$$.fragment,r),T(o.$$.fragment,r),i=!1},d(r){r&&I(n),x(e,r),x(o,r)}}}function Hy(t){let e,n;return e=new So({props:{$$slots:{default:[Gy]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment)},m(o,i){Q(e,o,i),n=!0},p(o,i){const r={};i&128&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function Wy(t){let e,n,o;function i(l){t[3](l)}let r={$$slots:{default:[Hy]},$$scope:{ctx:t}};return t[0]!==void 0&&(r.open=t[0]),e=new Io({props:r}),Ie.push(()=>Gn(e,"open",i)),{c(){z(e.$$.fragment)},m(l,a){Q(e,l,a),o=!0},p(l,[a]){const s={};a&128&&(s.$$scope={dirty:a,ctx:l}),!n&&a&1&&(n=!0,s.open=l[0],Vn(()=>n=!1)),e.$set(s)},i(l){o||(A(e.$$.fragment,l),o=!0)},o(l){T(e.$$.fragment,l),o=!1},d(l){x(e,l)}}}function $y(t,e,n){let o,i;fe(t,Le,s=>n(2,o=s)),fe(t,Us,s=>n(0,i=s));const l=pt[o.endGoal];Kl[o.difficulty];function a(s){i=s,Us.set(i)}return t.$$.update=()=>{t.$$.dirty&4},[i,l,o,a]}class Ky extends we{constructor(e){super(),ye(this,e,$y,Wy,ce,{})}}function Gi(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Uy(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function pd(t){let e,n,o;t.length!==2?(e=Gi,n=(a,s)=>Gi(t(a),s),o=(a,s)=>t(a)-s):(e=t===Gi||t===Uy?t:Yy,n=t,o=t);function i(a,s,u=0,f=a.length){if(u<f){if(e(s,s)!==0)return f;do{const c=u+f>>>1;n(a[c],s)<0?u=c+1:f=c}while(u<f)}return u}function r(a,s,u=0,f=a.length){if(u<f){if(e(s,s)!==0)return f;do{const c=u+f>>>1;n(a[c],s)<=0?u=c+1:f=c}while(u<f)}return u}function l(a,s,u=0,f=a.length){const c=i(a,s,u,f-1);return c>u&&o(a[c-1],s)>-o(a[c],s)?c-1:c}return{left:i,center:l,right:r}}function Yy(){return 0}function Xy(t){return t===null?NaN:+t}const Jy=pd(Gi),Zy=Jy.right;pd(Xy).center;const Qy=Math.sqrt(50),xy=Math.sqrt(10),zy=Math.sqrt(2);function ar(t,e,n){const o=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(o)),r=o/Math.pow(10,i),l=r>=Qy?10:r>=xy?5:r>=zy?2:1;let a,s,u;return i<0?(u=Math.pow(10,-i)/l,a=Math.round(t*u),s=Math.round(e*u),a/u<t&&++a,s/u>e&&--s,u=-u):(u=Math.pow(10,i)*l,a=Math.round(t/u),s=Math.round(e/u),a*u<t&&++a,s*u>e&&--s),s<a&&.5<=n&&n<2?ar(t,e,n*2):[a,s,u]}function ew(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const o=e<t,[i,r,l]=o?ar(e,t,n):ar(t,e,n);if(!(r>=i))return[];const a=r-i+1,s=new Array(a);if(o)if(l<0)for(let u=0;u<a;++u)s[u]=(r-u)/-l;else for(let u=0;u<a;++u)s[u]=(r-u)*l;else if(l<0)for(let u=0;u<a;++u)s[u]=(i+u)/-l;else for(let u=0;u<a;++u)s[u]=(i+u)*l;return s}function Sl(t,e,n){return e=+e,t=+t,n=+n,ar(t,e,n)[2]}function tw(t,e,n){e=+e,t=+t,n=+n;const o=e<t,i=o?Sl(e,t,n):Sl(t,e,n);return(o?-1:1)*(i<0?1/-i:i)}function nw(t){return t}var ll=1,sl=2,Tl=3,Bo=4,Nu=1e-6;function ow(t){return"translate("+t+",0)"}function iw(t){return"translate(0,"+t+")"}function rw(t){return e=>+t(e)}function lw(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function sw(){return!this.__axis}function hd(t,e){var n=[],o=null,i=null,r=6,l=6,a=3,s=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=t===ll||t===Bo?-1:1,f=t===Bo||t===sl?"x":"y",c=t===ll||t===Tl?ow:iw;function d(p){var h=o??(e.ticks?e.ticks.apply(e,n):e.domain()),_=i??(e.tickFormat?e.tickFormat.apply(e,n):nw),y=Math.max(r,0)+a,w=e.range(),C=+w[0]+s,k=+w[w.length-1]+s,D=(e.bandwidth?lw:rw)(e.copy(),s),G=p.selection?p.selection():p,L=G.selectAll(".domain").data([null]),j=G.selectAll(".tick").data(h,e).order(),F=j.exit(),E=j.enter().append("g").attr("class","tick"),U=j.select("line"),b=j.select("text");L=L.merge(L.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),j=j.merge(E),U=U.merge(E.append("line").attr("stroke","currentColor").attr(f+"2",u*r)),b=b.merge(E.append("text").attr("fill","currentColor").attr(f,u*y).attr("dy",t===ll?"0em":t===Tl?"0.71em":"0.32em")),p!==G&&(L=L.transition(p),j=j.transition(p),U=U.transition(p),b=b.transition(p),F=F.transition(p).attr("opacity",Nu).attr("transform",function(g){return isFinite(g=D(g))?c(g+s):this.getAttribute("transform")}),E.attr("opacity",Nu).attr("transform",function(g){var S=this.parentNode.__axis;return c((S&&isFinite(S=S(g))?S:D(g))+s)})),F.remove(),L.attr("d",t===Bo||t===sl?l?"M"+u*l+","+C+"H"+s+"V"+k+"H"+u*l:"M"+s+","+C+"V"+k:l?"M"+C+","+u*l+"V"+s+"H"+k+"V"+u*l:"M"+C+","+s+"H"+k),j.attr("opacity",1).attr("transform",function(g){return c(D(g)+s)}),U.attr(f+"2",u*r),b.attr(f,u*y).text(_),G.filter(sw).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===sl?"start":t===Bo?"end":"middle"),G.each(function(){this.__axis=D})}return d.scale=function(p){return arguments.length?(e=p,d):e},d.ticks=function(){return n=Array.from(arguments),d},d.tickArguments=function(p){return arguments.length?(n=p==null?[]:Array.from(p),d):n.slice()},d.tickValues=function(p){return arguments.length?(o=p==null?null:Array.from(p),d):o&&o.slice()},d.tickFormat=function(p){return arguments.length?(i=p,d):i},d.tickSize=function(p){return arguments.length?(r=l=+p,d):r},d.tickSizeInner=function(p){return arguments.length?(r=+p,d):r},d.tickSizeOuter=function(p){return arguments.length?(l=+p,d):l},d.tickPadding=function(p){return arguments.length?(a=+p,d):a},d.offset=function(p){return arguments.length?(s=+p,d):s},d}function aw(t){return hd(Tl,t)}function uw(t){return hd(Bo,t)}var fw={value:()=>{}};function _d(){for(var t=0,e=arguments.length,n={},o;t<e;++t){if(!(o=arguments[t]+"")||o in n||/[\s.]/.test(o))throw new Error("illegal type: "+o);n[o]=[]}return new Hi(n)}function Hi(t){this._=t}function cw(t,e){return t.trim().split(/^|\s+/).map(function(n){var o="",i=n.indexOf(".");if(i>=0&&(o=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:o}})}Hi.prototype=_d.prototype={constructor:Hi,on:function(t,e){var n=this._,o=cw(t+"",n),i,r=-1,l=o.length;if(arguments.length<2){for(;++r<l;)if((i=(t=o[r]).type)&&(i=dw(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++r<l;)if(i=(t=o[r]).type)n[i]=Eu(n[i],t.name,e);else if(e==null)for(i in n)n[i]=Eu(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Hi(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),o=0,i,r;o<i;++o)n[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=this._[t],o=0,i=r.length;o<i;++o)r[o].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var o=this._[t],i=0,r=o.length;i<r;++i)o[i].value.apply(e,n)}};function dw(t,e){for(var n=0,o=t.length,i;n<o;++n)if((i=t[n]).name===e)return i.value}function Eu(t,e,n){for(var o=0,i=t.length;o<i;++o)if(t[o].name===e){t[o]=fw,t=t.slice(0,o).concat(t.slice(o+1));break}return n!=null&&t.push({name:e,value:n}),t}var Il="http://www.w3.org/1999/xhtml";const Ru={svg:"http://www.w3.org/2000/svg",xhtml:Il,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Nr(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Ru.hasOwnProperty(e)?{space:Ru[e],local:t}:t}function mw(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Il&&e.documentElement.namespaceURI===Il?e.createElement(t):e.createElementNS(n,t)}}function pw(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function gd(t){var e=Nr(t);return(e.local?pw:mw)(e)}function hw(){}function fs(t){return t==null?hw:function(){return this.querySelector(t)}}function _w(t){typeof t!="function"&&(t=fs(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var r=e[i],l=r.length,a=o[i]=new Array(l),s,u,f=0;f<l;++f)(s=r[f])&&(u=t.call(s,s.__data__,f,r))&&("__data__"in s&&(u.__data__=s.__data__),a[f]=u);return new Tt(o,this._parents)}function gw(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function bw(){return[]}function bd(t){return t==null?bw:function(){return this.querySelectorAll(t)}}function vw(t){return function(){return gw(t.apply(this,arguments))}}function yw(t){typeof t=="function"?t=vw(t):t=bd(t);for(var e=this._groups,n=e.length,o=[],i=[],r=0;r<n;++r)for(var l=e[r],a=l.length,s,u=0;u<a;++u)(s=l[u])&&(o.push(t.call(s,s.__data__,u,l)),i.push(s));return new Tt(o,i)}function vd(t){return function(){return this.matches(t)}}function yd(t){return function(e){return e.matches(t)}}var ww=Array.prototype.find;function kw(t){return function(){return ww.call(this.children,t)}}function Cw(){return this.firstElementChild}function Aw(t){return this.select(t==null?Cw:kw(typeof t=="function"?t:yd(t)))}var Sw=Array.prototype.filter;function Tw(){return Array.from(this.children)}function Iw(t){return function(){return Sw.call(this.children,t)}}function Mw(t){return this.selectAll(t==null?Tw:Iw(typeof t=="function"?t:yd(t)))}function Pw(t){typeof t!="function"&&(t=vd(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var r=e[i],l=r.length,a=o[i]=[],s,u=0;u<l;++u)(s=r[u])&&t.call(s,s.__data__,u,r)&&a.push(s);return new Tt(o,this._parents)}function wd(t){return new Array(t.length)}function Ow(){return new Tt(this._enter||this._groups.map(wd),this._parents)}function ur(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}ur.prototype={constructor:ur,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Nw(t){return function(){return t}}function Ew(t,e,n,o,i,r){for(var l=0,a,s=e.length,u=r.length;l<u;++l)(a=e[l])?(a.__data__=r[l],o[l]=a):n[l]=new ur(t,r[l]);for(;l<s;++l)(a=e[l])&&(i[l]=a)}function Rw(t,e,n,o,i,r,l){var a,s,u=new Map,f=e.length,c=r.length,d=new Array(f),p;for(a=0;a<f;++a)(s=e[a])&&(d[a]=p=l.call(s,s.__data__,a,e)+"",u.has(p)?i[a]=s:u.set(p,s));for(a=0;a<c;++a)p=l.call(t,r[a],a,r)+"",(s=u.get(p))?(o[a]=s,s.__data__=r[a],u.delete(p)):n[a]=new ur(t,r[a]);for(a=0;a<f;++a)(s=e[a])&&u.get(d[a])===s&&(i[a]=s)}function Dw(t){return t.__data__}function Lw(t,e){if(!arguments.length)return Array.from(this,Dw);var n=e?Rw:Ew,o=this._parents,i=this._groups;typeof t!="function"&&(t=Nw(t));for(var r=i.length,l=new Array(r),a=new Array(r),s=new Array(r),u=0;u<r;++u){var f=o[u],c=i[u],d=c.length,p=Fw(t.call(f,f&&f.__data__,u,o)),h=p.length,_=a[u]=new Array(h),y=l[u]=new Array(h),w=s[u]=new Array(d);n(f,c,_,y,w,p,e);for(var C=0,k=0,D,G;C<h;++C)if(D=_[C]){for(C>=k&&(k=C+1);!(G=y[k])&&++k<h;);D._next=G||null}}return l=new Tt(l,o),l._enter=a,l._exit=s,l}function Fw(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function qw(){return new Tt(this._exit||this._groups.map(wd),this._parents)}function jw(t,e,n){var o=this.enter(),i=this,r=this.exit();return typeof t=="function"?(o=t(o),o&&(o=o.selection())):o=o.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?r.remove():n(r),o&&i?o.merge(i).order():i}function Bw(t){for(var e=t.selection?t.selection():t,n=this._groups,o=e._groups,i=n.length,r=o.length,l=Math.min(i,r),a=new Array(i),s=0;s<l;++s)for(var u=n[s],f=o[s],c=u.length,d=a[s]=new Array(c),p,h=0;h<c;++h)(p=u[h]||f[h])&&(d[h]=p);for(;s<i;++s)a[s]=n[s];return new Tt(a,this._parents)}function Vw(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var o=t[e],i=o.length-1,r=o[i],l;--i>=0;)(l=o[i])&&(r&&l.compareDocumentPosition(r)^4&&r.parentNode.insertBefore(l,r),r=l);return this}function Gw(t){t||(t=Hw);function e(c,d){return c&&d?t(c.__data__,d.__data__):!c-!d}for(var n=this._groups,o=n.length,i=new Array(o),r=0;r<o;++r){for(var l=n[r],a=l.length,s=i[r]=new Array(a),u,f=0;f<a;++f)(u=l[f])&&(s[f]=u);s.sort(e)}return new Tt(i,this._parents).order()}function Hw(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Ww(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function $w(){return Array.from(this)}function Kw(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var o=t[e],i=0,r=o.length;i<r;++i){var l=o[i];if(l)return l}return null}function Uw(){let t=0;for(const e of this)++t;return t}function Yw(){return!this.node()}function Xw(t){for(var e=this._groups,n=0,o=e.length;n<o;++n)for(var i=e[n],r=0,l=i.length,a;r<l;++r)(a=i[r])&&t.call(a,a.__data__,r,i);return this}function Jw(t){return function(){this.removeAttribute(t)}}function Zw(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Qw(t,e){return function(){this.setAttribute(t,e)}}function xw(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function zw(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function e2(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function t2(t,e){var n=Nr(t);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((e==null?n.local?Zw:Jw:typeof e=="function"?n.local?e2:zw:n.local?xw:Qw)(n,e))}function kd(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function n2(t){return function(){this.style.removeProperty(t)}}function o2(t,e,n){return function(){this.style.setProperty(t,e,n)}}function i2(t,e,n){return function(){var o=e.apply(this,arguments);o==null?this.style.removeProperty(t):this.style.setProperty(t,o,n)}}function r2(t,e,n){return arguments.length>1?this.each((e==null?n2:typeof e=="function"?i2:o2)(t,e,n??"")):ho(this.node(),t)}function ho(t,e){return t.style.getPropertyValue(e)||kd(t).getComputedStyle(t,null).getPropertyValue(e)}function l2(t){return function(){delete this[t]}}function s2(t,e){return function(){this[t]=e}}function a2(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function u2(t,e){return arguments.length>1?this.each((e==null?l2:typeof e=="function"?a2:s2)(t,e)):this.node()[t]}function Cd(t){return t.trim().split(/^|\s+/)}function cs(t){return t.classList||new Ad(t)}function Ad(t){this._node=t,this._names=Cd(t.getAttribute("class")||"")}Ad.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Sd(t,e){for(var n=cs(t),o=-1,i=e.length;++o<i;)n.add(e[o])}function Td(t,e){for(var n=cs(t),o=-1,i=e.length;++o<i;)n.remove(e[o])}function f2(t){return function(){Sd(this,t)}}function c2(t){return function(){Td(this,t)}}function d2(t,e){return function(){(e.apply(this,arguments)?Sd:Td)(this,t)}}function m2(t,e){var n=Cd(t+"");if(arguments.length<2){for(var o=cs(this.node()),i=-1,r=n.length;++i<r;)if(!o.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?d2:e?f2:c2)(n,e))}function p2(){this.textContent=""}function h2(t){return function(){this.textContent=t}}function _2(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function g2(t){return arguments.length?this.each(t==null?p2:(typeof t=="function"?_2:h2)(t)):this.node().textContent}function b2(){this.innerHTML=""}function v2(t){return function(){this.innerHTML=t}}function y2(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function w2(t){return arguments.length?this.each(t==null?b2:(typeof t=="function"?y2:v2)(t)):this.node().innerHTML}function k2(){this.nextSibling&&this.parentNode.appendChild(this)}function C2(){return this.each(k2)}function A2(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function S2(){return this.each(A2)}function T2(t){var e=typeof t=="function"?t:gd(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function I2(){return null}function M2(t,e){var n=typeof t=="function"?t:gd(t),o=e==null?I2:typeof e=="function"?e:fs(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)})}function P2(){var t=this.parentNode;t&&t.removeChild(this)}function O2(){return this.each(P2)}function N2(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function E2(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function R2(t){return this.select(t?E2:N2)}function D2(t){return arguments.length?this.property("__data__",t):this.node().__data__}function L2(t){return function(e){t.call(this,e,this.__data__)}}function F2(t){return t.trim().split(/^|\s+/).map(function(e){var n="",o=e.indexOf(".");return o>=0&&(n=e.slice(o+1),e=e.slice(0,o)),{type:e,name:n}})}function q2(t){return function(){var e=this.__on;if(e){for(var n=0,o=-1,i=e.length,r;n<i;++n)r=e[n],(!t.type||r.type===t.type)&&r.name===t.name?this.removeEventListener(r.type,r.listener,r.options):e[++o]=r;++o?e.length=o:delete this.__on}}}function j2(t,e,n){return function(){var o=this.__on,i,r=L2(e);if(o){for(var l=0,a=o.length;l<a;++l)if((i=o[l]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=r,i.options=n),i.value=e;return}}this.addEventListener(t.type,r,n),i={type:t.type,name:t.name,value:e,listener:r,options:n},o?o.push(i):this.__on=[i]}}function B2(t,e,n){var o=F2(t+""),i,r=o.length,l;if(arguments.length<2){var a=this.node().__on;if(a){for(var s=0,u=a.length,f;s<u;++s)for(i=0,f=a[s];i<r;++i)if((l=o[i]).type===f.type&&l.name===f.name)return f.value}return}for(a=e?j2:q2,i=0;i<r;++i)this.each(a(o[i],e,n));return this}function Id(t,e,n){var o=kd(t),i=o.CustomEvent;typeof i=="function"?i=new i(e,n):(i=o.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function V2(t,e){return function(){return Id(this,t,e)}}function G2(t,e){return function(){return Id(this,t,e.apply(this,arguments))}}function H2(t,e){return this.each((typeof e=="function"?G2:V2)(t,e))}function*W2(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var o=t[e],i=0,r=o.length,l;i<r;++i)(l=o[i])&&(yield l)}var Md=[null];function Tt(t,e){this._groups=t,this._parents=e}function ii(){return new Tt([[document.documentElement]],Md)}function $2(){return this}Tt.prototype=ii.prototype={constructor:Tt,select:_w,selectAll:yw,selectChild:Aw,selectChildren:Mw,filter:Pw,data:Lw,enter:Ow,exit:qw,join:jw,merge:Bw,selection:$2,order:Vw,sort:Gw,call:Ww,nodes:$w,node:Kw,size:Uw,empty:Yw,each:Xw,attr:t2,style:r2,property:u2,classed:m2,text:g2,html:w2,raise:C2,lower:S2,append:T2,insert:M2,remove:O2,clone:R2,datum:D2,on:B2,dispatch:H2,[Symbol.iterator]:W2};function K2(t){return typeof t=="string"?new Tt([[document.querySelector(t)]],[document.documentElement]):new Tt([[t]],Md)}function ds(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Pd(t,e){var n=Object.create(t.prototype);for(var o in e)n[o]=e[o];return n}function ri(){}var Qo=.7,fr=1/Qo,uo="\\s*([+-]?\\d+)\\s*",xo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",$t="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",U2=/^#([0-9a-f]{3,8})$/,Y2=new RegExp(`^rgb\\(${uo},${uo},${uo}\\)$`),X2=new RegExp(`^rgb\\(${$t},${$t},${$t}\\)$`),J2=new RegExp(`^rgba\\(${uo},${uo},${uo},${xo}\\)$`),Z2=new RegExp(`^rgba\\(${$t},${$t},${$t},${xo}\\)$`),Q2=new RegExp(`^hsl\\(${xo},${$t},${$t}\\)$`),x2=new RegExp(`^hsla\\(${xo},${$t},${$t},${xo}\\)$`),Du={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ds(ri,jn,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Lu,formatHex:Lu,formatHex8:z2,formatHsl:ek,formatRgb:Fu,toString:Fu});function Lu(){return this.rgb().formatHex()}function z2(){return this.rgb().formatHex8()}function ek(){return Od(this).formatHsl()}function Fu(){return this.rgb().formatRgb()}function jn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=U2.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?qu(e):n===3?new vt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Ri(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Ri(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Y2.exec(t))?new vt(e[1],e[2],e[3],1):(e=X2.exec(t))?new vt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=J2.exec(t))?Ri(e[1],e[2],e[3],e[4]):(e=Z2.exec(t))?Ri(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Q2.exec(t))?Vu(e[1],e[2]/100,e[3]/100,1):(e=x2.exec(t))?Vu(e[1],e[2]/100,e[3]/100,e[4]):Du.hasOwnProperty(t)?qu(Du[t]):t==="transparent"?new vt(NaN,NaN,NaN,0):null}function qu(t){return new vt(t>>16&255,t>>8&255,t&255,1)}function Ri(t,e,n,o){return o<=0&&(t=e=n=NaN),new vt(t,e,n,o)}function tk(t){return t instanceof ri||(t=jn(t)),t?(t=t.rgb(),new vt(t.r,t.g,t.b,t.opacity)):new vt}function Ml(t,e,n,o){return arguments.length===1?tk(t):new vt(t,e,n,o??1)}function vt(t,e,n,o){this.r=+t,this.g=+e,this.b=+n,this.opacity=+o}ds(vt,Ml,Pd(ri,{brighter(t){return t=t==null?fr:Math.pow(fr,t),new vt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Qo:Math.pow(Qo,t),new vt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new vt(En(this.r),En(this.g),En(this.b),cr(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ju,formatHex:ju,formatHex8:nk,formatRgb:Bu,toString:Bu}));function ju(){return`#${Pn(this.r)}${Pn(this.g)}${Pn(this.b)}`}function nk(){return`#${Pn(this.r)}${Pn(this.g)}${Pn(this.b)}${Pn((isNaN(this.opacity)?1:this.opacity)*255)}`}function Bu(){const t=cr(this.opacity);return`${t===1?"rgb(":"rgba("}${En(this.r)}, ${En(this.g)}, ${En(this.b)}${t===1?")":`, ${t})`}`}function cr(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function En(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Pn(t){return t=En(t),(t<16?"0":"")+t.toString(16)}function Vu(t,e,n,o){return o<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Rt(t,e,n,o)}function Od(t){if(t instanceof Rt)return new Rt(t.h,t.s,t.l,t.opacity);if(t instanceof ri||(t=jn(t)),!t)return new Rt;if(t instanceof Rt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,o=t.b/255,i=Math.min(e,n,o),r=Math.max(e,n,o),l=NaN,a=r-i,s=(r+i)/2;return a?(e===r?l=(n-o)/a+(n<o)*6:n===r?l=(o-e)/a+2:l=(e-n)/a+4,a/=s<.5?r+i:2-r-i,l*=60):a=s>0&&s<1?0:l,new Rt(l,a,s,t.opacity)}function ok(t,e,n,o){return arguments.length===1?Od(t):new Rt(t,e,n,o??1)}function Rt(t,e,n,o){this.h=+t,this.s=+e,this.l=+n,this.opacity=+o}ds(Rt,ok,Pd(ri,{brighter(t){return t=t==null?fr:Math.pow(fr,t),new Rt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Qo:Math.pow(Qo,t),new Rt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*e,i=2*n-o;return new vt(al(t>=240?t-240:t+120,i,o),al(t,i,o),al(t<120?t+240:t-120,i,o),this.opacity)},clamp(){return new Rt(Gu(this.h),Di(this.s),Di(this.l),cr(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=cr(this.opacity);return`${t===1?"hsl(":"hsla("}${Gu(this.h)}, ${Di(this.s)*100}%, ${Di(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Gu(t){return t=(t||0)%360,t<0?t+360:t}function Di(t){return Math.max(0,Math.min(1,t||0))}function al(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const ms=t=>()=>t;function ik(t,e){return function(n){return t+n*e}}function rk(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(o){return Math.pow(t+o*e,n)}}function lk(t){return(t=+t)==1?Nd:function(e,n){return n-e?rk(e,n,t):ms(isNaN(e)?n:e)}}function Nd(t,e){var n=e-t;return n?ik(t,n):ms(isNaN(t)?e:t)}const dr=function t(e){var n=lk(e);function o(i,r){var l=n((i=Ml(i)).r,(r=Ml(r)).r),a=n(i.g,r.g),s=n(i.b,r.b),u=Nd(i.opacity,r.opacity);return function(f){return i.r=l(f),i.g=a(f),i.b=s(f),i.opacity=u(f),i+""}}return o.gamma=t,o}(1);function sk(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,o=e.slice(),i;return function(r){for(i=0;i<n;++i)o[i]=t[i]*(1-r)+e[i]*r;return o}}function ak(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function uk(t,e){var n=e?e.length:0,o=t?Math.min(n,t.length):0,i=new Array(o),r=new Array(n),l;for(l=0;l<o;++l)i[l]=ps(t[l],e[l]);for(;l<n;++l)r[l]=e[l];return function(a){for(l=0;l<o;++l)r[l]=i[l](a);return r}}function fk(t,e){var n=new Date;return t=+t,e=+e,function(o){return n.setTime(t*(1-o)+e*o),n}}function Et(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function ck(t,e){var n={},o={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=ps(t[i],e[i]):o[i]=e[i];return function(r){for(i in n)o[i]=n[i](r);return o}}var Pl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ul=new RegExp(Pl.source,"g");function dk(t){return function(){return t}}function mk(t){return function(e){return t(e)+""}}function Ed(t,e){var n=Pl.lastIndex=ul.lastIndex=0,o,i,r,l=-1,a=[],s=[];for(t=t+"",e=e+"";(o=Pl.exec(t))&&(i=ul.exec(e));)(r=i.index)>n&&(r=e.slice(n,r),a[l]?a[l]+=r:a[++l]=r),(o=o[0])===(i=i[0])?a[l]?a[l]+=i:a[++l]=i:(a[++l]=null,s.push({i:l,x:Et(o,i)})),n=ul.lastIndex;return n<e.length&&(r=e.slice(n),a[l]?a[l]+=r:a[++l]=r),a.length<2?s[0]?mk(s[0].x):dk(e):(e=s.length,function(u){for(var f=0,c;f<e;++f)a[(c=s[f]).i]=c.x(u);return a.join("")})}function ps(t,e){var n=typeof e,o;return e==null||n==="boolean"?ms(e):(n==="number"?Et:n==="string"?(o=jn(e))?(e=o,dr):Ed:e instanceof jn?dr:e instanceof Date?fk:ak(e)?sk:Array.isArray(e)?uk:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?ck:Et)(t,e)}function pk(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var Hu=180/Math.PI,Ol={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Rd(t,e,n,o,i,r){var l,a,s;return(l=Math.sqrt(t*t+e*e))&&(t/=l,e/=l),(s=t*n+e*o)&&(n-=t*s,o-=e*s),(a=Math.sqrt(n*n+o*o))&&(n/=a,o/=a,s/=a),t*o<e*n&&(t=-t,e=-e,s=-s,l=-l),{translateX:i,translateY:r,rotate:Math.atan2(e,t)*Hu,skewX:Math.atan(s)*Hu,scaleX:l,scaleY:a}}var Li;function hk(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Ol:Rd(e.a,e.b,e.c,e.d,e.e,e.f)}function _k(t){return t==null||(Li||(Li=document.createElementNS("http://www.w3.org/2000/svg","g")),Li.setAttribute("transform",t),!(t=Li.transform.baseVal.consolidate()))?Ol:(t=t.matrix,Rd(t.a,t.b,t.c,t.d,t.e,t.f))}function Dd(t,e,n,o){function i(u){return u.length?u.pop()+" ":""}function r(u,f,c,d,p,h){if(u!==c||f!==d){var _=p.push("translate(",null,e,null,n);h.push({i:_-4,x:Et(u,c)},{i:_-2,x:Et(f,d)})}else(c||d)&&p.push("translate("+c+e+d+n)}function l(u,f,c,d){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),d.push({i:c.push(i(c)+"rotate(",null,o)-2,x:Et(u,f)})):f&&c.push(i(c)+"rotate("+f+o)}function a(u,f,c,d){u!==f?d.push({i:c.push(i(c)+"skewX(",null,o)-2,x:Et(u,f)}):f&&c.push(i(c)+"skewX("+f+o)}function s(u,f,c,d,p,h){if(u!==c||f!==d){var _=p.push(i(p)+"scale(",null,",",null,")");h.push({i:_-4,x:Et(u,c)},{i:_-2,x:Et(f,d)})}else(c!==1||d!==1)&&p.push(i(p)+"scale("+c+","+d+")")}return function(u,f){var c=[],d=[];return u=t(u),f=t(f),r(u.translateX,u.translateY,f.translateX,f.translateY,c,d),l(u.rotate,f.rotate,c,d),a(u.skewX,f.skewX,c,d),s(u.scaleX,u.scaleY,f.scaleX,f.scaleY,c,d),u=f=null,function(p){for(var h=-1,_=d.length,y;++h<_;)c[(y=d[h]).i]=y.x(p);return c.join("")}}}var gk=Dd(hk,"px, ","px)","deg)"),bk=Dd(_k,", ",")",")"),_o=0,Vo=0,qo=0,Ld=1e3,mr,Go,pr=0,Bn=0,Er=0,zo=typeof performance=="object"&&performance.now?performance:Date,Fd=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function hs(){return Bn||(Fd(vk),Bn=zo.now()+Er)}function vk(){Bn=0}function hr(){this._call=this._time=this._next=null}hr.prototype=qd.prototype={constructor:hr,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?hs():+n)+(e==null?0:+e),!this._next&&Go!==this&&(Go?Go._next=this:mr=this,Go=this),this._call=t,this._time=n,Nl()},stop:function(){this._call&&(this._call=null,this._time=1/0,Nl())}};function qd(t,e,n){var o=new hr;return o.restart(t,e,n),o}function yk(){hs(),++_o;for(var t=mr,e;t;)(e=Bn-t._time)>=0&&t._call.call(void 0,e),t=t._next;--_o}function Wu(){Bn=(pr=zo.now())+Er,_o=Vo=0;try{yk()}finally{_o=0,kk(),Bn=0}}function wk(){var t=zo.now(),e=t-pr;e>Ld&&(Er-=e,pr=t)}function kk(){for(var t,e=mr,n,o=1/0;e;)e._call?(o>e._time&&(o=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:mr=n);Go=t,Nl(o)}function Nl(t){if(!_o){Vo&&(Vo=clearTimeout(Vo));var e=t-Bn;e>24?(t<1/0&&(Vo=setTimeout(Wu,t-zo.now()-Er)),qo&&(qo=clearInterval(qo))):(qo||(pr=zo.now(),qo=setInterval(wk,Ld)),_o=1,Fd(Wu))}}function $u(t,e,n){var o=new hr;return e=e==null?0:+e,o.restart(i=>{o.stop(),t(i+e)},e,n),o}var Ck=_d("start","end","cancel","interrupt"),Ak=[],jd=0,Ku=1,El=2,Wi=3,Uu=4,Rl=5,$i=6;function Rr(t,e,n,o,i,r){var l=t.__transition;if(!l)t.__transition={};else if(n in l)return;Sk(t,n,{name:e,index:o,group:i,on:Ck,tween:Ak,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:jd})}function _s(t,e){var n=Ft(t,e);if(n.state>jd)throw new Error("too late; already scheduled");return n}function Jt(t,e){var n=Ft(t,e);if(n.state>Wi)throw new Error("too late; already running");return n}function Ft(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Sk(t,e,n){var o=t.__transition,i;o[e]=n,n.timer=qd(r,0,n.time);function r(u){n.state=Ku,n.timer.restart(l,n.delay,n.time),n.delay<=u&&l(u-n.delay)}function l(u){var f,c,d,p;if(n.state!==Ku)return s();for(f in o)if(p=o[f],p.name===n.name){if(p.state===Wi)return $u(l);p.state===Uu?(p.state=$i,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete o[f]):+f<e&&(p.state=$i,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete o[f])}if($u(function(){n.state===Wi&&(n.state=Uu,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=El,n.on.call("start",t,t.__data__,n.index,n.group),n.state===El){for(n.state=Wi,i=new Array(d=n.tween.length),f=0,c=-1;f<d;++f)(p=n.tween[f].value.call(t,t.__data__,n.index,n.group))&&(i[++c]=p);i.length=c+1}}function a(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(s),n.state=Rl,1),c=-1,d=i.length;++c<d;)i[c].call(t,f);n.state===Rl&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){n.state=$i,n.timer.stop(),delete o[e];for(var u in o)return;delete t.__transition}}function Tk(t,e){var n=t.__transition,o,i,r=!0,l;if(n){e=e==null?null:e+"";for(l in n){if((o=n[l]).name!==e){r=!1;continue}i=o.state>El&&o.state<Rl,o.state=$i,o.timer.stop(),o.on.call(i?"interrupt":"cancel",t,t.__data__,o.index,o.group),delete n[l]}r&&delete t.__transition}}function Ik(t){return this.each(function(){Tk(this,t)})}function Mk(t,e){var n,o;return function(){var i=Jt(this,t),r=i.tween;if(r!==n){o=n=r;for(var l=0,a=o.length;l<a;++l)if(o[l].name===e){o=o.slice(),o.splice(l,1);break}}i.tween=o}}function Pk(t,e,n){var o,i;if(typeof n!="function")throw new Error;return function(){var r=Jt(this,t),l=r.tween;if(l!==o){i=(o=l).slice();for(var a={name:e,value:n},s=0,u=i.length;s<u;++s)if(i[s].name===e){i[s]=a;break}s===u&&i.push(a)}r.tween=i}}function Ok(t,e){var n=this._id;if(t+="",arguments.length<2){for(var o=Ft(this.node(),n).tween,i=0,r=o.length,l;i<r;++i)if((l=o[i]).name===t)return l.value;return null}return this.each((e==null?Mk:Pk)(n,t,e))}function gs(t,e,n){var o=t._id;return t.each(function(){var i=Jt(this,o);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return Ft(i,o).value[e]}}function Bd(t,e){var n;return(typeof e=="number"?Et:e instanceof jn?dr:(n=jn(e))?(e=n,dr):Ed)(t,e)}function Nk(t){return function(){this.removeAttribute(t)}}function Ek(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Rk(t,e,n){var o,i=n+"",r;return function(){var l=this.getAttribute(t);return l===i?null:l===o?r:r=e(o=l,n)}}function Dk(t,e,n){var o,i=n+"",r;return function(){var l=this.getAttributeNS(t.space,t.local);return l===i?null:l===o?r:r=e(o=l,n)}}function Lk(t,e,n){var o,i,r;return function(){var l,a=n(this),s;return a==null?void this.removeAttribute(t):(l=this.getAttribute(t),s=a+"",l===s?null:l===o&&s===i?r:(i=s,r=e(o=l,a)))}}function Fk(t,e,n){var o,i,r;return function(){var l,a=n(this),s;return a==null?void this.removeAttributeNS(t.space,t.local):(l=this.getAttributeNS(t.space,t.local),s=a+"",l===s?null:l===o&&s===i?r:(i=s,r=e(o=l,a)))}}function qk(t,e){var n=Nr(t),o=n==="transform"?bk:Bd;return this.attrTween(t,typeof e=="function"?(n.local?Fk:Lk)(n,o,gs(this,"attr."+t,e)):e==null?(n.local?Ek:Nk)(n):(n.local?Dk:Rk)(n,o,e))}function jk(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Bk(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Vk(t,e){var n,o;function i(){var r=e.apply(this,arguments);return r!==o&&(n=(o=r)&&Bk(t,r)),n}return i._value=e,i}function Gk(t,e){var n,o;function i(){var r=e.apply(this,arguments);return r!==o&&(n=(o=r)&&jk(t,r)),n}return i._value=e,i}function Hk(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var o=Nr(t);return this.tween(n,(o.local?Vk:Gk)(o,e))}function Wk(t,e){return function(){_s(this,t).delay=+e.apply(this,arguments)}}function $k(t,e){return e=+e,function(){_s(this,t).delay=e}}function Kk(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Wk:$k)(e,t)):Ft(this.node(),e).delay}function Uk(t,e){return function(){Jt(this,t).duration=+e.apply(this,arguments)}}function Yk(t,e){return e=+e,function(){Jt(this,t).duration=e}}function Xk(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Uk:Yk)(e,t)):Ft(this.node(),e).duration}function Jk(t,e){if(typeof e!="function")throw new Error;return function(){Jt(this,t).ease=e}}function Zk(t){var e=this._id;return arguments.length?this.each(Jk(e,t)):Ft(this.node(),e).ease}function Qk(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Jt(this,t).ease=n}}function xk(t){if(typeof t!="function")throw new Error;return this.each(Qk(this._id,t))}function zk(t){typeof t!="function"&&(t=vd(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var r=e[i],l=r.length,a=o[i]=[],s,u=0;u<l;++u)(s=r[u])&&t.call(s,s.__data__,u,r)&&a.push(s);return new rn(o,this._parents,this._name,this._id)}function e5(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,o=e.length,i=n.length,r=Math.min(o,i),l=new Array(o),a=0;a<r;++a)for(var s=e[a],u=n[a],f=s.length,c=l[a]=new Array(f),d,p=0;p<f;++p)(d=s[p]||u[p])&&(c[p]=d);for(;a<o;++a)l[a]=e[a];return new rn(l,this._parents,this._name,this._id)}function t5(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function n5(t,e,n){var o,i,r=t5(e)?_s:Jt;return function(){var l=r(this,t),a=l.on;a!==o&&(i=(o=a).copy()).on(e,n),l.on=i}}function o5(t,e){var n=this._id;return arguments.length<2?Ft(this.node(),n).on.on(t):this.each(n5(n,t,e))}function i5(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function r5(){return this.on("end.remove",i5(this._id))}function l5(t){var e=this._name,n=this._id;typeof t!="function"&&(t=fs(t));for(var o=this._groups,i=o.length,r=new Array(i),l=0;l<i;++l)for(var a=o[l],s=a.length,u=r[l]=new Array(s),f,c,d=0;d<s;++d)(f=a[d])&&(c=t.call(f,f.__data__,d,a))&&("__data__"in f&&(c.__data__=f.__data__),u[d]=c,Rr(u[d],e,n,d,u,Ft(f,n)));return new rn(r,this._parents,e,n)}function s5(t){var e=this._name,n=this._id;typeof t!="function"&&(t=bd(t));for(var o=this._groups,i=o.length,r=[],l=[],a=0;a<i;++a)for(var s=o[a],u=s.length,f,c=0;c<u;++c)if(f=s[c]){for(var d=t.call(f,f.__data__,c,s),p,h=Ft(f,n),_=0,y=d.length;_<y;++_)(p=d[_])&&Rr(p,e,n,_,d,h);r.push(d),l.push(f)}return new rn(r,l,e,n)}var a5=ii.prototype.constructor;function u5(){return new a5(this._groups,this._parents)}function f5(t,e){var n,o,i;return function(){var r=ho(this,t),l=(this.style.removeProperty(t),ho(this,t));return r===l?null:r===n&&l===o?i:i=e(n=r,o=l)}}function Vd(t){return function(){this.style.removeProperty(t)}}function c5(t,e,n){var o,i=n+"",r;return function(){var l=ho(this,t);return l===i?null:l===o?r:r=e(o=l,n)}}function d5(t,e,n){var o,i,r;return function(){var l=ho(this,t),a=n(this),s=a+"";return a==null&&(s=a=(this.style.removeProperty(t),ho(this,t))),l===s?null:l===o&&s===i?r:(i=s,r=e(o=l,a))}}function m5(t,e){var n,o,i,r="style."+e,l="end."+r,a;return function(){var s=Jt(this,t),u=s.on,f=s.value[r]==null?a||(a=Vd(e)):void 0;(u!==n||i!==f)&&(o=(n=u).copy()).on(l,i=f),s.on=o}}function p5(t,e,n){var o=(t+="")=="transform"?gk:Bd;return e==null?this.styleTween(t,f5(t,o)).on("end.style."+t,Vd(t)):typeof e=="function"?this.styleTween(t,d5(t,o,gs(this,"style."+t,e))).each(m5(this._id,t)):this.styleTween(t,c5(t,o,e),n).on("end.style."+t,null)}function h5(t,e,n){return function(o){this.style.setProperty(t,e.call(this,o),n)}}function _5(t,e,n){var o,i;function r(){var l=e.apply(this,arguments);return l!==i&&(o=(i=l)&&h5(t,l,n)),o}return r._value=e,r}function g5(t,e,n){var o="style."+(t+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(e==null)return this.tween(o,null);if(typeof e!="function")throw new Error;return this.tween(o,_5(t,e,n??""))}function b5(t){return function(){this.textContent=t}}function v5(t){return function(){var e=t(this);this.textContent=e??""}}function y5(t){return this.tween("text",typeof t=="function"?v5(gs(this,"text",t)):b5(t==null?"":t+""))}function w5(t){return function(e){this.textContent=t.call(this,e)}}function k5(t){var e,n;function o(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&w5(i)),e}return o._value=t,o}function C5(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,k5(t))}function A5(){for(var t=this._name,e=this._id,n=Gd(),o=this._groups,i=o.length,r=0;r<i;++r)for(var l=o[r],a=l.length,s,u=0;u<a;++u)if(s=l[u]){var f=Ft(s,e);Rr(s,t,n,u,l,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new rn(o,this._parents,t,n)}function S5(){var t,e,n=this,o=n._id,i=n.size();return new Promise(function(r,l){var a={value:l},s={value:function(){--i===0&&r()}};n.each(function(){var u=Jt(this,o),f=u.on;f!==t&&(e=(t=f).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(s)),u.on=e}),i===0&&r()})}var T5=0;function rn(t,e,n,o){this._groups=t,this._parents=e,this._name=n,this._id=o}function Gd(){return++T5}var Qt=ii.prototype;rn.prototype={constructor:rn,select:l5,selectAll:s5,selectChild:Qt.selectChild,selectChildren:Qt.selectChildren,filter:zk,merge:e5,selection:u5,transition:A5,call:Qt.call,nodes:Qt.nodes,node:Qt.node,size:Qt.size,empty:Qt.empty,each:Qt.each,on:o5,attr:qk,attrTween:Hk,style:p5,styleTween:g5,text:y5,textTween:C5,remove:r5,tween:Ok,delay:Kk,duration:Xk,ease:Zk,easeVarying:xk,end:S5,[Symbol.iterator]:Qt[Symbol.iterator]};function I5(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var M5={time:null,delay:0,duration:250,ease:I5};function P5(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function O5(t){var e,n;t instanceof rn?(e=t._id,t=t._name):(e=Gd(),(n=M5).time=hs(),t=t==null?null:t+"");for(var o=this._groups,i=o.length,r=0;r<i;++r)for(var l=o[r],a=l.length,s,u=0;u<a;++u)(s=l[u])&&Rr(s,t,e,u,l,n||P5(s,e));return new rn(o,this._parents,t,e)}ii.prototype.interrupt=Ik;ii.prototype.transition=O5;const Dl=Math.PI,Ll=2*Dl,Tn=1e-6,N5=Ll-Tn;function Hd(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function E5(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Hd;const n=10**e;return function(o){this._+=o[0];for(let i=1,r=o.length;i<r;++i)this._+=Math.round(arguments[i]*n)/n+o[i]}}class R5{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Hd:E5(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,o,i){this._append`Q${+e},${+n},${this._x1=+o},${this._y1=+i}`}bezierCurveTo(e,n,o,i,r,l){this._append`C${+e},${+n},${+o},${+i},${this._x1=+r},${this._y1=+l}`}arcTo(e,n,o,i,r){if(e=+e,n=+n,o=+o,i=+i,r=+r,r<0)throw new Error(`negative radius: ${r}`);let l=this._x1,a=this._y1,s=o-e,u=i-n,f=l-e,c=a-n,d=f*f+c*c;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(d>Tn)if(!(Math.abs(c*s-u*f)>Tn)||!r)this._append`L${this._x1=e},${this._y1=n}`;else{let p=o-l,h=i-a,_=s*s+u*u,y=p*p+h*h,w=Math.sqrt(_),C=Math.sqrt(d),k=r*Math.tan((Dl-Math.acos((_+d-y)/(2*w*C)))/2),D=k/C,G=k/w;Math.abs(D-1)>Tn&&this._append`L${e+D*f},${n+D*c}`,this._append`A${r},${r},0,0,${+(c*p>f*h)},${this._x1=e+G*s},${this._y1=n+G*u}`}}arc(e,n,o,i,r,l){if(e=+e,n=+n,o=+o,l=!!l,o<0)throw new Error(`negative radius: ${o}`);let a=o*Math.cos(i),s=o*Math.sin(i),u=e+a,f=n+s,c=1^l,d=l?i-r:r-i;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>Tn||Math.abs(this._y1-f)>Tn)&&this._append`L${u},${f}`,o&&(d<0&&(d=d%Ll+Ll),d>N5?this._append`A${o},${o},0,1,${c},${e-a},${n-s}A${o},${o},0,1,${c},${this._x1=u},${this._y1=f}`:d>Tn&&this._append`A${o},${o},0,${+(d>=Dl)},${c},${this._x1=e+o*Math.cos(r)},${this._y1=n+o*Math.sin(r)}`)}rect(e,n,o,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${o=+o}v${+i}h${-o}Z`}toString(){return this._}}function D5(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function _r(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,o=t.slice(0,n);return[o.length>1?o[0]+o.slice(2):o,+t.slice(n+1)]}function go(t){return t=_r(Math.abs(t)),t?t[1]:NaN}function L5(t,e){return function(n,o){for(var i=n.length,r=[],l=0,a=t[0],s=0;i>0&&a>0&&(s+a+1>o&&(a=Math.max(1,o-s)),r.push(n.substring(i-=a,i+a)),!((s+=a+1)>o));)a=t[l=(l+1)%t.length];return r.reverse().join(e)}}function F5(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var q5=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function gr(t){if(!(e=q5.exec(t)))throw new Error("invalid format: "+t);var e;return new bs({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}gr.prototype=bs.prototype;function bs(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}bs.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function j5(t){e:for(var e=t.length,n=1,o=-1,i;n<e;++n)switch(t[n]){case".":o=i=n;break;case"0":o===0&&(o=n),i=n;break;default:if(!+t[n])break e;o>0&&(o=0);break}return o>0?t.slice(0,o)+t.slice(i+1):t}var Wd;function B5(t,e){var n=_r(t,e);if(!n)return t+"";var o=n[0],i=n[1],r=i-(Wd=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=o.length;return r===l?o:r>l?o+new Array(r-l+1).join("0"):r>0?o.slice(0,r)+"."+o.slice(r):"0."+new Array(1-r).join("0")+_r(t,Math.max(0,e+r-1))[0]}function Yu(t,e){var n=_r(t,e);if(!n)return t+"";var o=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+o:o.length>i+1?o.slice(0,i+1)+"."+o.slice(i+1):o+new Array(i-o.length+2).join("0")}const Xu={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:D5,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Yu(t*100,e),r:Yu,s:B5,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Ju(t){return t}var Zu=Array.prototype.map,Qu=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function V5(t){var e=t.grouping===void 0||t.thousands===void 0?Ju:L5(Zu.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",o=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",r=t.numerals===void 0?Ju:F5(Zu.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"−":t.minus+"",s=t.nan===void 0?"NaN":t.nan+"";function u(c){c=gr(c);var d=c.fill,p=c.align,h=c.sign,_=c.symbol,y=c.zero,w=c.width,C=c.comma,k=c.precision,D=c.trim,G=c.type;G==="n"?(C=!0,G="g"):Xu[G]||(k===void 0&&(k=12),D=!0,G="g"),(y||d==="0"&&p==="=")&&(y=!0,d="0",p="=");var L=_==="$"?n:_==="#"&&/[boxX]/.test(G)?"0"+G.toLowerCase():"",j=_==="$"?o:/[%p]/.test(G)?l:"",F=Xu[G],E=/[defgprs%]/.test(G);k=k===void 0?6:/[gprs]/.test(G)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function U(b){var g=L,S=j,O,H,R;if(G==="c")S=F(b)+S,b="";else{b=+b;var J=b<0||1/b<0;if(b=isNaN(b)?s:F(Math.abs(b),k),D&&(b=j5(b)),J&&+b==0&&h!=="+"&&(J=!1),g=(J?h==="("?h:a:h==="-"||h==="("?"":h)+g,S=(G==="s"?Qu[8+Wd/3]:"")+S+(J&&h==="("?")":""),E){for(O=-1,H=b.length;++O<H;)if(R=b.charCodeAt(O),48>R||R>57){S=(R===46?i+b.slice(O+1):b.slice(O))+S,b=b.slice(0,O);break}}}C&&!y&&(b=e(b,1/0));var te=g.length+b.length+S.length,Z=te<w?new Array(w-te+1).join(d):"";switch(C&&y&&(b=e(Z+b,Z.length?w-S.length:1/0),Z=""),p){case"<":b=g+b+S+Z;break;case"=":b=g+Z+b+S;break;case"^":b=Z.slice(0,te=Z.length>>1)+g+b+S+Z.slice(te);break;default:b=Z+g+b+S;break}return r(b)}return U.toString=function(){return c+""},U}function f(c,d){var p=u((c=gr(c),c.type="f",c)),h=Math.max(-8,Math.min(8,Math.floor(go(d)/3)))*3,_=Math.pow(10,-h),y=Qu[8+h/3];return function(w){return p(_*w)+y}}return{format:u,formatPrefix:f}}var Fi,$d,Kd;G5({thousands:",",grouping:[3],currency:["$",""]});function G5(t){return Fi=V5(t),$d=Fi.format,Kd=Fi.formatPrefix,Fi}function H5(t){return Math.max(0,-go(Math.abs(t)))}function W5(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(go(e)/3)))*3-go(Math.abs(t)))}function $5(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,go(e)-go(t))+1}function K5(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function U5(t){return function(){return t}}function Y5(t){return+t}var xu=[0,1];function ro(t){return t}function Fl(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:U5(isNaN(e)?NaN:.5)}function X5(t,e){var n;return t>e&&(n=t,t=e,e=n),function(o){return Math.max(t,Math.min(e,o))}}function J5(t,e,n){var o=t[0],i=t[1],r=e[0],l=e[1];return i<o?(o=Fl(i,o),r=n(l,r)):(o=Fl(o,i),r=n(r,l)),function(a){return r(o(a))}}function Z5(t,e,n){var o=Math.min(t.length,e.length)-1,i=new Array(o),r=new Array(o),l=-1;for(t[o]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<o;)i[l]=Fl(t[l],t[l+1]),r[l]=n(e[l],e[l+1]);return function(a){var s=Zy(t,a,1,o)-1;return r[s](i[s](a))}}function Q5(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function x5(){var t=xu,e=xu,n=ps,o,i,r,l=ro,a,s,u;function f(){var d=Math.min(t.length,e.length);return l!==ro&&(l=X5(t[0],t[d-1])),a=d>2?Z5:J5,s=u=null,c}function c(d){return d==null||isNaN(d=+d)?r:(s||(s=a(t.map(o),e,n)))(o(l(d)))}return c.invert=function(d){return l(i((u||(u=a(e,t.map(o),Et)))(d)))},c.domain=function(d){return arguments.length?(t=Array.from(d,Y5),f()):t.slice()},c.range=function(d){return arguments.length?(e=Array.from(d),f()):e.slice()},c.rangeRound=function(d){return e=Array.from(d),n=pk,f()},c.clamp=function(d){return arguments.length?(l=d?!0:ro,f()):l!==ro},c.interpolate=function(d){return arguments.length?(n=d,f()):n},c.unknown=function(d){return arguments.length?(r=d,c):r},function(d,p){return o=d,i=p,f()}}function z5(){return x5()(ro,ro)}function e3(t,e,n,o){var i=tw(t,e,n),r;switch(o=gr(o??",f"),o.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return o.precision==null&&!isNaN(r=W5(i,l))&&(o.precision=r),Kd(o,l)}case"":case"e":case"g":case"p":case"r":{o.precision==null&&!isNaN(r=$5(i,Math.max(Math.abs(t),Math.abs(e))))&&(o.precision=r-(o.type==="e"));break}case"f":case"%":{o.precision==null&&!isNaN(r=H5(i))&&(o.precision=r-(o.type==="%")*2);break}}return $d(o)}function t3(t){var e=t.domain;return t.ticks=function(n){var o=e();return ew(o[0],o[o.length-1],n??10)},t.tickFormat=function(n,o){var i=e();return e3(i[0],i[i.length-1],n??10,o)},t.nice=function(n){n==null&&(n=10);var o=e(),i=0,r=o.length-1,l=o[i],a=o[r],s,u,f=10;for(a<l&&(u=l,l=a,a=u,u=i,i=r,r=u);f-- >0;){if(u=Sl(l,a,n),u===s)return o[i]=l,o[r]=a,e(o);if(u>0)l=Math.floor(l/u)*u,a=Math.ceil(a/u)*u;else if(u<0)l=Math.ceil(l*u)/u,a=Math.floor(a*u)/u;else break;s=u}return t},t}function ql(){var t=z5();return t.copy=function(){return Q5(t,ql())},K5.apply(t,arguments),t3(t)}function no(t){return function(){return t}}function n3(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const o=Math.floor(n);if(!(o>=0))throw new RangeError(`invalid digits: ${n}`);e=o}return t},()=>new R5(e)}function o3(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Ud(t){this._context=t}Ud.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function i3(t){return new Ud(t)}function r3(t){return t[0]}function l3(t){return t[1]}function fl(t,e){var n=no(!0),o=null,i=i3,r=null,l=n3(a);t=typeof t=="function"?t:t===void 0?r3:no(t),e=typeof e=="function"?e:e===void 0?l3:no(e);function a(s){var u,f=(s=o3(s)).length,c,d=!1,p;for(o==null&&(r=i(p=l())),u=0;u<=f;++u)!(u<f&&n(c=s[u],u,s))===d&&((d=!d)?r.lineStart():r.lineEnd()),d&&r.point(+t(c,u,s),+e(c,u,s));if(p)return r=null,p+""||null}return a.x=function(s){return arguments.length?(t=typeof s=="function"?s:no(+s),a):t},a.y=function(s){return arguments.length?(e=typeof s=="function"?s:no(+s),a):e},a.defined=function(s){return arguments.length?(n=typeof s=="function"?s:no(!!s),a):n},a.curve=function(s){return arguments.length?(i=s,o!=null&&(r=i(o)),a):i},a.context=function(s){return arguments.length?(s==null?o=r=null:r=i(o=s),a):o},a}function Ho(t,e,n){this.k=t,this.x=e,this.y=n}Ho.prototype={constructor:Ho,scale:function(t){return t===1?this:new Ho(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Ho(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Ho.prototype;function s3(t){let e;return{c(){e=yr("svg"),N(e,"id","line-chart")},m(n,o){M(n,e,o)},p:Ce,i:Ce,o:Ce,d(n){n&&I(e)}}}const zu=52;function a3(t,e,n){let{data:o=[]}=e,i,r,l;const a={top:10,right:30,bottom:10,left:20},s=500-a.left-a.right,u=400-a.top-a.bottom;fl().x((h,_)=>r(_)).y(h=>l(h)),wr(()=>{n(1,i=K2("#line-chart").attr("width",s+a.left+a.right).attr("height",u+a.top+a.bottom)),r=ql().range([0,s]),l=ql().range([u,0]),o.length&&f()});function f(){const h=o.length>zu?o.slice(-zu):o;c(h),d(h),p()}function c(h){i.selectAll(".line").remove();const _=fl().defined(w=>w>-5).x((w,C)=>r(C)).y(w=>l(w)),y=fl().defined(w=>w<0).x((w,C)=>r(C)).y(w=>l(w));i.append("path").datum(h).attr("class","line positive").attr("d",_).attr("transform",`translate(${a.left},${a.top})`).attr("fill","none").attr("stroke","green").attr("stroke-width",2),i.append("path").datum(h).attr("class","line negative").attr("d",y).attr("transform",`translate(${a.left},${a.top})`).attr("fill","none").attr("stroke","red").attr("stroke-width",2)}function d(h){const _=Math.max(0,...h),y=Math.min(0,...h);r.domain([0,h.length-1]),l.domain([y,_]).nice()}function p(h){const _=aw(r).ticks(0),y=uw(l).ticks(10);i.selectAll(".axis").remove(),i.append("g").attr("class","axis x-axis").attr("transform",`translate(${a.left},${u+a.top})`).call(_),i.append("g").attr("class","axis y-axis").attr("transform",`translate(${a.left},${a.top})`).call(y)}return t.$$set=h=>{"data"in h&&n(0,o=h.data)},t.$$.update=()=>{t.$$.dirty&3&&o&&i&&f()},[o,i]}class u3 extends we{constructor(e){super(),ye(this,e,a3,s3,ce,{data:0})}}function f3(t){let e,n=t[1].townInfo.knowledge_points+"",o,i;return{c(){e=B("Manage your Knowledge ("),o=B(n),i=B(" pts)")},m(r,l){M(r,e,l),M(r,o,l),M(r,i,l)},p(r,l){l&2&&n!==(n=r[1].townInfo.knowledge_points+"")&&ae(o,n)},d(r){r&&(I(e),I(o),I(i))}}}function c3(t){let e,n,o,i;return e=new Co({props:{$$slots:{default:[f3]},$$scope:{ctx:t}}}),o=new To({}),{c(){z(e.$$.fragment),n=V(),z(o.$$.fragment)},m(r,l){Q(e,r,l),M(r,n,l),Q(o,r,l),i=!0},p(r,l){const a={};l&258&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){T(e.$$.fragment,r),T(o.$$.fragment,r),i=!1},d(r){r&&I(n),x(e,r),x(o,r)}}}function ef(t){let e,n,o=rf(t[1].townInfo.knowledge_points*t[3])+"",i,r;return{c(){e=P("br"),n=B(`
					(total value: $`),i=B(o),r=B(")")},m(l,a){M(l,e,a),M(l,n,a),M(l,i,a),M(l,r,a)},p(l,a){a&10&&o!==(o=rf(l[1].townInfo.knowledge_points*l[3])+"")&&ae(i,o)},d(l){l&&(I(e),I(n),I(i),I(r))}}}function tf(t){let e;return{c(){e=P("div"),e.innerHTML=`Wait until the market value is <span class="text-green-500">positive</span> to sell your Knowledge for Gold. Keep in mind that you need a bank to
					convert.`},m(n,o){M(n,e,o)},d(n){n&&I(e)}}}function nf(t){let e,n,o;return n=new on({props:{variant:"default",$$slots:{default:[d3]},$$scope:{ctx:t}}}),n.$on("click",t[0]),{c(){e=P("div"),z(n.$$.fragment)},m(i,r){M(i,e,r),Q(n,e,null),o=!0},p(i,r){const l={};r&256&&(l.$$scope={dirty:r,ctx:i}),n.$set(l)},i(i){o||(A(n.$$.fragment,i),o=!0)},o(i){T(n.$$.fragment,i),o=!1},d(i){i&&I(e),x(n)}}}function d3(t){let e;return{c(){e=B("Convert Knowledge to Gold")},m(n,o){M(n,e,o)},d(n){n&&I(e)}}}function of(t){let e;return{c(){e=P("div"),e.textContent="You need a bank to convert knowledge to gold."},m(n,o){M(n,e,o)},d(n){n&&I(e)}}}function m3(t){let e,n,o,i,r,l,a,s,u=(t[3]??0)+"",f,c,d,p,h,_,y,w,C,k,D,G;e=new Ao({props:{$$slots:{default:[c3]},$$scope:{ctx:t}}});let L=t[3]>0&&ef(t);_=new u3({props:{data:t[2]}});let j=t[3]<0&&tf(),F=t[1].hasBank&&t[3]>0&&nf(t),E=t[1].hasBank===!1&&of();return D=new oi({}),{c(){z(e.$$.fragment),n=V(),o=P("span"),o.textContent="Knowledge is power, unlock it!",i=V(),r=P("div"),l=P("div"),a=B("Market Rate: "),s=P("span"),f=B(u),c=B(" gold"),p=B(`
				per Knowledge Point
				`),L&&L.c(),h=V(),z(_.$$.fragment),y=V(),j&&j.c(),w=V(),F&&F.c(),C=V(),E&&E.c(),k=V(),z(D.$$.fragment),N(o,"class","italic"),N(s,"class",d=t[3]<0?"text-red-500":"text-green-500"),N(r,"class","py-0 flex flex-col gap-4 text-gray-400 overflow-x-auto")},m(U,b){Q(e,U,b),M(U,n,b),M(U,o,b),M(U,i,b),M(U,r,b),v(r,l),v(l,a),v(l,s),v(s,f),v(s,c),v(l,p),L&&L.m(l,null),v(r,h),Q(_,r,null),v(r,y),j&&j.m(r,null),v(r,w),F&&F.m(r,null),v(r,C),E&&E.m(r,null),M(U,k,b),Q(D,U,b),G=!0},p(U,b){const g={};b&258&&(g.$$scope={dirty:b,ctx:U}),e.$set(g),(!G||b&8)&&u!==(u=(U[3]??0)+"")&&ae(f,u),(!G||b&8&&d!==(d=U[3]<0?"text-red-500":"text-green-500"))&&N(s,"class",d),U[3]>0?L?L.p(U,b):(L=ef(U),L.c(),L.m(l,null)):L&&(L.d(1),L=null);const S={};b&4&&(S.data=U[2]),_.$set(S),U[3]<0?j||(j=tf(),j.c(),j.m(r,w)):j&&(j.d(1),j=null),U[1].hasBank&&U[3]>0?F?(F.p(U,b),b&10&&A(F,1)):(F=nf(U),F.c(),A(F,1),F.m(r,C)):F&&(Pe(),T(F,1,1,()=>{F=null}),Oe()),U[1].hasBank===!1?E||(E=of(),E.c(),E.m(r,null)):E&&(E.d(1),E=null)},i(U){G||(A(e.$$.fragment,U),A(_.$$.fragment,U),A(F),A(D.$$.fragment,U),G=!0)},o(U){T(e.$$.fragment,U),T(_.$$.fragment,U),T(F),T(D.$$.fragment,U),G=!1},d(U){U&&(I(n),I(o),I(i),I(r),I(k)),x(e,U),L&&L.d(),x(_),j&&j.d(),F&&F.d(),E&&E.d(),x(D,U)}}}function p3(t){let e,n;return e=new So({props:{transitionConfig:{duration:0},class:"bg-foreground text-foregroundText",$$slots:{default:[m3]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment)},m(o,i){Q(e,o,i),n=!0},p(o,i){const r={};i&270&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function h3(t){let e,n,o;function i(l){t[5](l)}let r={$$slots:{default:[p3]},$$scope:{ctx:t}};return t[4]!==void 0&&(r.open=t[4]),e=new Io({props:r}),Ie.push(()=>Gn(e,"open",i)),{c(){z(e.$$.fragment)},m(l,a){Q(e,l,a),o=!0},p(l,[a]){const s={};a&270&&(s.$$scope={dirty:a,ctx:l}),!n&&a&16&&(n=!0,s.open=l[4],Vn(()=>n=!1)),e.$set(s)},i(l){o||(A(e.$$.fragment,l),o=!0)},o(l){T(e.$$.fragment,l),o=!1},d(l){x(e,l)}}}function rf(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function _3(t,e,n){let o,i;fe(t,Le,u=>n(1,o=u)),fe(t,xi,u=>n(4,i=u));let r,l=0;function a(){let u=o;o.hasBank===!0?(u.townInfo.gold+=Math.round(u.townInfo.knowledge_points*l),u.townInfo.knowledge_points=0,Le.set(u),localStorage.setItem(Lt,JSON.stringify(u))):alert("You need a bank to convert knowledge to gold.")}function s(u){i=u,xi.set(i)}return t.$$.update=()=>{t.$$.dirty&2&&o&&(n(2,r=o.economyAndLaws.knowledge_gold_market_rates),n(3,l=o.economyAndLaws.knowledge_gold_market_rates[o.economyAndLaws.knowledge_gold_market_rates.length-1]))},[a,o,r,l,i,s]}class g3 extends we{constructor(e){super(),ye(this,e,_3,h3,ce,{convertKnowledgeToGold:0})}get convertKnowledgeToGold(){return this.$$.ctx[0]}}const b3=[{id:"sunshine",title:"Hint of Sunshine",description:`Scientist Jane T. found that more sunlight makes everyone a bit happier. 
        
        Now, every home is equipped with a pair of sunglasses and a sunhat. Enjoy happier citizens!,
        `,cost:5e3,duration:180,effect:!0},{id:"antibiotics",title:"We will call them 'Antibiotics'",description:`Scientist Alfred C. has pitched us an idea that he calls 'Antibiotics'.
        
         We don't really know what that means, but it seems to make people healthier. 
        `,cost:8e3,duration:200,effect:!0},{id:"goodbye_carrots",title:"Goodbye Carrots",description:`Scientist Jarrod M. collaborated with local carrot farms to enhance the recipe, aiming to increase consumers' height by 10%.

        Unfortunately, the experiment failed, and all the local carrot farms have gone out of business. 
        `,cost:8e3,duration:80,effect:!0},{id:"funny_cows",title:"Cowabunga!",description:`Scientist Barry T. thought that showing cows some stand-up comedy would make them produce better milk, but it didn't have the desired effect.

        The cows are now following Mike Birbiglia on Twitter, but the milk production has not increased.
        `,cost:3e3,duration:60,effect:!1},{id:"missing_treasure",title:"Missing Treasure?",description:`Scientist Sarah H. was running an experiment on tree growth and found a stash of gold near the lab. 

        She hopes nobody will miss it. Your town now has some more money. 
        `,cost:15e3,duration:180,effect:!0},{id:"tax_relief",title:"'Maybe the government is not so bad after all'",description:`Scientist Sam P. conducted a study and found that if you put a tiny bit of CHEMICAL X in the water supply, people are more likely to be ok with tax hikes. 

        We don't question it, as these experiments cost a lot of moo-lah.`,cost:7500,duration:360,effect:!0},{id:"spring_break",title:"Spring Break",description:`The Scientists took our money and spent the week at the beach. 

        We are not sure what they did, but they came back with a tan and a smile.`,cost:2e3,duration:7,effect:!1},{id:"coffee_boost_tourism",title:"Speedy Brews",description:`Scientist Claudia A. has found that a specific blend of coffee can significantly increase productivity among town employees. 

        The catch? It only works on Mondays. But hey, starting the week with a turbo-charged workforce might just be the boost we needed. The town gets a bit of extra cash from the productivity, and a bit of tourism revenue from coffee tourism.
        `,cost:8e3,duration:100,effect:!0},{id:"bee_bonanza",title:"Buzzing with Possibilities",description:`Scientist Will B. thought that introducing genetically modified super bees to the local ecosystem could help with pollination.
        
        Unfortunately, these bees prefer coffee plants over all others, leading to all coffee bean farms forced to close.`,cost:5e3,duration:120,effect:!0},{id:"wheat_whirlwind",title:"A Gust of Grain",description:`Scientist Clint C. is sulking after a botched weather control experiment aimed at improving crop yields accidentally resulted in a series of mini-tornadoes sweeping through the town's wheat farms. The wheat is gone, but the townsfolk have never been more entertained.

        Local bakers mourn the loss of wheat while selling tickets to the wheat whirlwind tours. All wheat farms are now torn down, but happiness is up.`,cost:7e3,duration:150,effect:!0},{id:"aquatic_overachievers",title:"Fishy Business",description:`An attempt to genetically enhance fish intelligence by Scientist Goldie F. in fisheries has gone awry, resulting in fish that are too smart to be caught. The fisheries are now underpopulated and shut down, but the town enjoys an unexpected tourism boom as people flock to see the genius fish who are now hanging out in local parks.

        Who knew fish could be such a draw?`,cost:6e3,duration:90,effect:!0},{id:"educational_eclipse",title:"A Sudden Drop in IQ",description:`Scientist Albert E. wanted to see if the towns' children would become smarter if THEY ran the schools. 

        This was obviously a terrible idea and the first thing the kids did was shut down the schools.`,cost:1e3,duration:45,effect:!0},{id:"education_grant",title:"Education Grant",description:`Scientist Marie C. took the funding and applied the town for a grant to improve education.

        The town wins a grant for $150,000 to build schools and improve education. (but it's up to you if that's how you want to spend the money)`,cost:4e4,duration:45,effect:!0},{id:"mindfulness_meditation_classes",title:"'Mindfulness Meditation Classes'",description:`Scientist Zen M. has introduced mindfulness meditation classes to the town after realizing that breathing in certain ways can lower stress. 
		
		Now, the town is a bit more relaxed, for now.`,cost:13e3,duration:540,effect:!0}];function lf(t,e,n){const o=t.slice();return o[17]=e[n],o}function v3(t){let e,n=t[1].lab.active_experiment.title+"",o;return{c(){e=B("🎉 Experiment Completed: "),o=B(n)},m(i,r){M(i,e,r),M(i,o,r)},p(i,r){r&2&&n!==(n=i[1].lab.active_experiment.title+"")&&ae(o,n)},d(i){i&&(I(e),I(o))}}}function y3(t){let e,n=t[1].lab.active_experiment.description+"",o;return{c(){e=P("div"),o=B(n),N(e,"class","select-none whitespace-pre-wrap text-lg text-gray-400 leading-6 px-4 py-4 text-center ")},m(i,r){M(i,e,r),v(e,o)},p(i,r){r&2&&n!==(n=i[1].lab.active_experiment.description+"")&&ae(o,n)},d(i){i&&I(e)}}}function w3(t){let e,n,o,i;return e=new is({props:{class:"text-center",$$slots:{default:[v3]},$$scope:{ctx:t}}}),o=new as({props:{$$slots:{default:[y3]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment),n=V(),z(o.$$.fragment)},m(r,l){Q(e,r,l),M(r,n,l),Q(o,r,l),i=!0},p(r,l){const a={};l&1048578&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&1048578&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){T(e.$$.fragment,r),T(o.$$.fragment,r),i=!1},d(r){r&&I(n),x(e,r),x(o,r)}}}function k3(t){let e;return{c(){e=B("Thank the scientists")},m(n,o){M(n,e,o)},d(n){n&&I(e)}}}function C3(t){let e,n;return e=new av({props:{$$slots:{default:[k3]},$$scope:{ctx:t}}}),e.$on("click",t[9]),{c(){z(e.$$.fragment)},m(o,i){Q(e,o,i),n=!0},p(o,i){const r={};i&1048576&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function A3(t){let e,n,o,i;return e=new ls({props:{$$slots:{default:[w3]},$$scope:{ctx:t}}}),o=new rs({props:{$$slots:{default:[C3]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment),n=V(),z(o.$$.fragment)},m(r,l){Q(e,r,l),M(r,n,l),Q(o,r,l),i=!0},p(r,l){const a={};l&1048578&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&1048576&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){T(e.$$.fragment,r),T(o.$$.fragment,r),i=!1},d(r){r&&I(n),x(e,r),x(o,r)}}}function S3(t){let e,n;return e=new ss({props:{$$slots:{default:[A3]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment)},m(o,i){Q(e,o,i),n=!0},p(o,i){const r={};i&1048578&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function T3(t){let e;return{c(){e=P("span"),e.textContent="Manage your Laboratory 🔬 🧪"},m(n,o){M(n,e,o)},p:Ce,d(n){n&&I(e)}}}function I3(t){let e,n,o,i=t[1].lab.xp+"",r,l,a,s;return{c(){e=P("span"),n=B("You have earned "),o=P("span"),r=B(i),l=B(" XP"),s=B(` from experiments. XP can be used to buy advanced plots and develop your
          city.`),N(o,"class",a="italic "+(t[1].lab.xp<0?"text-textDanger1":"text-primaryText"))},m(u,f){M(u,e,f),v(e,n),v(e,o),v(o,r),v(o,l),v(e,s)},p(u,f){f&2&&i!==(i=u[1].lab.xp+"")&&ae(r,i),f&2&&a!==(a="italic "+(u[1].lab.xp<0?"text-textDanger1":"text-primaryText"))&&N(o,"class",a)},d(u){u&&I(e)}}}function M3(t){let e,n,o,i;return e=new Co({props:{$$slots:{default:[T3]},$$scope:{ctx:t}}}),o=new To({props:{$$slots:{default:[I3]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment),n=V(),z(o.$$.fragment)},m(r,l){Q(e,r,l),M(r,n,l),Q(o,r,l),i=!0},p(r,l){const a={};l&1048576&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&1048578&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){T(e.$$.fragment,r),T(o.$$.fragment,r),i=!1},d(r){r&&I(n),x(e,r),x(o,r)}}}function P3(t){let e;return{c(){e=B("No more experiments available")},m(n,o){M(n,e,o)},p:Ce,i:Ce,o:Ce,d(n){n&&I(e)}}}function O3(t){let e,n,o,i,r=Ye(t[0]),l=[];for(let s=0;s<r.length;s+=1)l[s]=af(lf(t,r,s));const a=s=>T(l[s],1,1,()=>{l[s]=null});return{c(){e=P("div"),e.textContent=`It's time to fund your next experiment! Choose a project below based on
        it's funding requirement. Once the experiment is over, you will see the
        results.`,n=V(),o=P("div");for(let s=0;s<l.length;s+=1)l[s].c();N(e,"class","select-none text-sm "),N(o,"class","text-center flex flex-col justify-center items-center gap-4 ")},m(s,u){M(s,e,u),M(s,n,u),M(s,o,u);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(o,null);i=!0},p(s,u){if(u&19){r=Ye(s[0]);let f;for(f=0;f<r.length;f+=1){const c=lf(s,r,f);l[f]?(l[f].p(c,u),A(l[f],1)):(l[f]=af(c),l[f].c(),A(l[f],1),l[f].m(o,null))}for(Pe(),f=r.length;f<l.length;f+=1)a(f);Oe()}},i(s){if(!i){for(let u=0;u<r.length;u+=1)A(l[u]);i=!0}},o(s){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)T(l[u]);i=!1},d(s){s&&(I(e),I(n),I(o)),wt(l,s)}}}function N3(t){let e,n=t[1].lab.active_experiment.duration+"",o,i,r,l,a=t[1].lab.active_experiment.duration===0&&uf(t);return{c(){e=B("Currently running an experiment... check back in "),o=B(n),i=B(` days.
      `),a&&a.c(),r=Re()},m(s,u){M(s,e,u),M(s,o,u),M(s,i,u),a&&a.m(s,u),M(s,r,u),l=!0},p(s,u){(!l||u&2)&&n!==(n=s[1].lab.active_experiment.duration+"")&&ae(o,n),s[1].lab.active_experiment.duration===0?a?(a.p(s,u),u&2&&A(a,1)):(a=uf(s),a.c(),A(a,1),a.m(r.parentNode,r)):a&&(Pe(),T(a,1,1,()=>{a=null}),Oe())},i(s){l||(A(a),l=!0)},o(s){T(a),l=!1},d(s){s&&(I(e),I(o),I(i),I(r)),a&&a.d(s)}}}function sf(t){let e,n,o=t[17].id+"",i;return{c(){e=P("span"),n=B("// dev-"),i=B(o),N(e,"class","text-xs text-gray-400")},m(r,l){M(r,e,l),v(e,n),v(e,i)},p(r,l){l&1&&o!==(o=r[17].id+"")&&ae(i,o)},d(r){r&&I(e)}}}function E3(t){let e,n=ff(t[17].cost).split(".")[0]+"",o,i,r,l=t[1].devMode===!0&&sf(t);return{c(){e=B("$"),o=B(n),i=B(` gold

            `),l&&l.c(),r=V()},m(a,s){M(a,e,s),M(a,o,s),M(a,i,s),l&&l.m(a,s),M(a,r,s)},p(a,s){s&1&&n!==(n=ff(a[17].cost).split(".")[0]+"")&&ae(o,n),a[1].devMode===!0?l?l.p(a,s):(l=sf(a),l.c(),l.m(r.parentNode,r)):l&&(l.d(1),l=null)},d(a){a&&(I(e),I(o),I(i),I(r)),l&&l.d(a)}}}function af(t){let e,n;function o(){return t[11](t[17])}return e=new on({props:{variant:"outline",class:`min-w-48 w-max flex-col
				`+(t[17].cost>t[1].townInfo.gold?"cursor-not-allowed":"")+`
				`,$$slots:{default:[E3]},$$scope:{ctx:t}}}),e.$on("click",o),{c(){z(e.$$.fragment)},m(i,r){Q(e,i,r),n=!0},p(i,r){t=i;const l={};r&3&&(l.class=`min-w-48 w-max flex-col
				`+(t[17].cost>t[1].townInfo.gold?"cursor-not-allowed":"")+`
				`),r&1048579&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(i){n||(A(e.$$.fragment,i),n=!0)},o(i){T(e.$$.fragment,i),n=!1},d(i){x(e,i)}}}function uf(t){let e,n;return e=new on({props:{variant:"outline",$$slots:{default:[R3]},$$scope:{ctx:t}}}),e.$on("click",t[10]),{c(){z(e.$$.fragment)},m(o,i){Q(e,o,i),n=!0},p(o,i){const r={};i&1048576&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function R3(t){let e;return{c(){e=B("Complete experiment (and face the impact)")},m(n,o){M(n,e,o)},d(n){n&&I(e)}}}function D3(t){let e;return{c(){e=P("span"),e.textContent="Keep in mind that not all experiments yield positive results.",N(e,"class","italic text-left text-textDanger1")},m(n,o){M(n,e,o)},p:Ce,d(n){n&&I(e)}}}function L3(t){let e,n,o,i,r,l,a,s,u,f,c;e=new Ao({props:{$$slots:{default:[M3]},$$scope:{ctx:t}}}),o=new At({});const d=[N3,O3,P3],p=[];function h(_,y){return _[1].lab.active_experiment!==null?0:_[0].length>0?1:_[0].length===0?2:-1}return~(r=h(t))&&(l=p[r]=d[r](t)),s=new At({props:{class:"mt-4"}}),f=new oi({props:{$$slots:{default:[D3]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment),n=V(),z(o.$$.fragment),i=V(),l&&l.c(),a=V(),z(s.$$.fragment),u=V(),z(f.$$.fragment)},m(_,y){Q(e,_,y),M(_,n,y),Q(o,_,y),M(_,i,y),~r&&p[r].m(_,y),M(_,a,y),Q(s,_,y),M(_,u,y),Q(f,_,y),c=!0},p(_,y){const w={};y&1048578&&(w.$$scope={dirty:y,ctx:_}),e.$set(w);let C=r;r=h(_),r===C?~r&&p[r].p(_,y):(l&&(Pe(),T(p[C],1,1,()=>{p[C]=null}),Oe()),~r?(l=p[r],l?l.p(_,y):(l=p[r]=d[r](_),l.c()),A(l,1),l.m(a.parentNode,a)):l=null);const k={};y&1048576&&(k.$$scope={dirty:y,ctx:_}),f.$set(k)},i(_){c||(A(e.$$.fragment,_),A(o.$$.fragment,_),A(l),A(s.$$.fragment,_),A(f.$$.fragment,_),c=!0)},o(_){T(e.$$.fragment,_),T(o.$$.fragment,_),T(l),T(s.$$.fragment,_),T(f.$$.fragment,_),c=!1},d(_){_&&(I(n),I(i),I(a),I(u)),x(e,_),x(o,_),~r&&p[r].d(_),x(s,_),x(f,_)}}}function F3(t){let e,n;return e=new So({props:{class:"bg-foreground text-foregroundText",$$slots:{default:[L3]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment)},m(o,i){Q(e,o,i),n=!0},p(o,i){const r={};i&1048579&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function q3(t){let e,n,o,i,r;e=new us({props:{open:t[2],$$slots:{default:[S3]},$$scope:{ctx:t}}});function l(s){t[12](s)}let a={$$slots:{default:[F3]},$$scope:{ctx:t}};return t[3]!==void 0&&(a.open=t[3]),o=new Io({props:a}),Ie.push(()=>Gn(o,"open",l)),{c(){z(e.$$.fragment),n=V(),z(o.$$.fragment)},m(s,u){Q(e,s,u),M(s,n,u),Q(o,s,u),r=!0},p(s,[u]){const f={};u&4&&(f.open=s[2]),u&1048578&&(f.$$scope={dirty:u,ctx:s}),e.$set(f);const c={};u&1048579&&(c.$$scope={dirty:u,ctx:s}),!i&&u&8&&(i=!0,c.open=s[3],Vn(()=>i=!1)),o.$set(c)},i(s){r||(A(e.$$.fragment,s),A(o.$$.fragment,s),r=!0)},o(s){T(e.$$.fragment,s),T(o.$$.fragment,s),r=!1},d(s){s&&I(n),x(e,s),x(o,s)}}}function ff(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function j3(t,e,n){let o,i;fe(t,Le,k=>n(1,o=k)),fe(t,Bi,k=>n(3,i=k));var r;let l=[],a=!1,s=!1,u=!1;function f(){if(l.length>0||!a)return l;let k=[],D=b3.filter(G=>!o.lab.past_experiments.some(L=>L.id===G.id));for(let G=0;G<3;G++){let L=D[Math.floor(Math.random()*D.length)];L.cost=Math.floor(Math.random()*(L.cost*.35)+L.cost*.8),k.push(L)}return k=k.filter((G,L)=>k.indexOf(G)===L),k=k.filter(G=>G),n(8,u=!0),k}function c(k){if(o.townInfo.gold<k.cost){alert("You do not have enough gold to purchase this experiment.");return}Ee(Le,o.townInfo.gold-=k.cost,o),Ee(Le,o.lab.active_experiment=k,o),o.lab.past_experiments.push(k)}function d(){var k;switch(Ee(Bi,i=!1,i),n(2,s=!0),(k=o.lab.active_experiment)===null||k===void 0?void 0:k.id){case"sunshine":Ee(Le,o.modifiers.happiness=50,o);break;case"antibiotics":Ee(Le,o.modifiers.health=50,o);break;case"goodbye_carrots":h("carrot_farm");break;case"missing_treasure":Ee(Le,o.townInfo.gold+=Math.floor(Math.random()*o.lab.active_experiment.cost*2),o);break;case"tax_relief":Ee(Le,o.economyAndLaws.max_tax_rate=(Math.random()*.8+1.2)*o.economyAndLaws.max_tax_rate,o);break;case"bee_bonanza":h("coffee_bean_farm");break;case"wheat_whirlwind":h("wheat_farm"),Ee(Le,o.townInfo.happiness*=1.5,o),Ee(Le,o.modifiers.happiness+=3,o);break;case"educational_eclipse":h("small_school"),h("large_school"),Ee(Le,o.townInfo.knowledge_points*=.8,o);break;case"education_grant":Ee(Le,o.townInfo.knowledge_points*=1.5,o),Ee(Le,o.townInfo.gold+=15e4,o);break;case"mindfulness_meditation_classes":o.modifiers.happiness*1.5;break}Ee(Le,o.lab.active_experiment.duration=-1,o)}function p(){let k=o;k.lab.xp+=Math.round(k.lab.active_experiment.cost*(Math.random()*2+.5)),k.lab.active_experiment=null,n(2,s=!1),Ee(Le,o=k,o)}function h(k){let D=et(k,o);for(let G=0;G<D.length;G++)Qi(D[G].x,D[G].y,o)}const _=()=>{p()},y=()=>{d()},w=k=>{k.cost<o.townInfo.gold&&c(k)};function C(k){i=k,Bi.set(i)}return t.$$.update=()=>{t.$$.dirty&387&&(o?(a=!0,n(0,l=u==!1?f():l),(n(7,r=o.lab.active_experiment)===null||r===void 0?void 0:r.duration)===-1&&n(2,s=!0)):a=!1)},[l,o,s,i,c,d,p,r,u,_,y,w,C]}class B3 extends we{constructor(e){super(),ye(this,e,j3,q3,ce,{})}}function cf(t,e,n){const o=t.slice();return o[19]=e[n],o}function df(t){let e,n=Ye({length:t[6]}),o=[];for(let i=0;i<n.length;i+=1)o[i]=mf(cf(t,n,i));return{c(){e=P("div");for(let i=0;i<o.length;i+=1)o[i].c();N(e,"class","confetti-holder svelte-15ksp55"),mn(e,"rounded",t[9]),mn(e,"cone",t[10]),mn(e,"no-gravity",t[11]),mn(e,"reduced-motion",t[13])},m(i,r){M(i,e,r);for(let l=0;l<o.length;l+=1)o[l]&&o[l].m(e,null)},p(i,r){if(r&37375){n=Ye({length:i[6]});let l;for(l=0;l<n.length;l+=1){const a=cf(i,n,l);o[l]?o[l].p(a,r):(o[l]=mf(a),o[l].c(),o[l].m(e,null))}for(;l<o.length;l+=1)o[l].d(1);o.length=n.length}r&512&&mn(e,"rounded",i[9]),r&1024&&mn(e,"cone",i[10]),r&2048&&mn(e,"no-gravity",i[11]),r&8192&&mn(e,"reduced-motion",i[13])},d(i){i&&I(e),wt(o,i)}}}function mf(t){let e;return{c(){e=P("div"),N(e,"class","confetti svelte-15ksp55"),Je(e,"--fall-distance",t[8]),Je(e,"--size",t[0]+"px"),Je(e,"--color",t[15]()),Je(e,"--skew",gt(-45,45)+"deg,"+gt(-45,45)+"deg"),Je(e,"--rotation-xyz",gt(-10,10)+", "+gt(-10,10)+", "+gt(-10,10)),Je(e,"--rotation-deg",gt(0,360)+"deg"),Je(e,"--translate-y-multiplier",gt(t[2][0],t[2][1])),Je(e,"--translate-x-multiplier",gt(t[1][0],t[1][1])),Je(e,"--scale",.1*gt(2,10)),Je(e,"--transition-duration",t[4]?`calc(${t[3]}ms * var(--scale))`:`${t[3]}ms`),Je(e,"--transition-delay",gt(t[5][0],t[5][1])+"ms"),Je(e,"--transition-iteration-count",t[4]?"infinite":t[7]),Je(e,"--x-spread",1-t[12])},m(n,o){M(n,e,o)},p(n,o){o&256&&Je(e,"--fall-distance",n[8]),o&1&&Je(e,"--size",n[0]+"px"),o&4&&Je(e,"--translate-y-multiplier",gt(n[2][0],n[2][1])),o&2&&Je(e,"--translate-x-multiplier",gt(n[1][0],n[1][1])),o&24&&Je(e,"--transition-duration",n[4]?`calc(${n[3]}ms * var(--scale))`:`${n[3]}ms`),o&32&&Je(e,"--transition-delay",gt(n[5][0],n[5][1])+"ms"),o&144&&Je(e,"--transition-iteration-count",n[4]?"infinite":n[7]),o&4096&&Je(e,"--x-spread",1-n[12])},d(n){n&&I(e)}}}function V3(t){let e,n=!t[14]&&df(t);return{c(){n&&n.c(),e=Re()},m(o,i){n&&n.m(o,i),M(o,e,i)},p(o,[i]){o[14]?n&&(n.d(1),n=null):n?n.p(o,i):(n=df(o),n.c(),n.m(e.parentNode,e))},i:Ce,o:Ce,d(o){o&&I(e),n&&n.d(o)}}}function gt(t,e){return Math.random()*(e-t)+t}function G3(t,e,n){let{size:o=10}=e,{x:i=[-.5,.5]}=e,{y:r=[.25,1]}=e,{duration:l=2e3}=e,{infinite:a=!1}=e,{delay:s=[0,50]}=e,{colorRange:u=[0,360]}=e,{colorArray:f=[]}=e,{amount:c=50}=e,{iterationCount:d=1}=e,{fallDistance:p="100px"}=e,{rounded:h=!1}=e,{cone:_=!1}=e,{noGravity:y=!1}=e,{xSpread:w=.15}=e,{destroyOnComplete:C=!0}=e,{disableForReducedMotion:k=!1}=e,D=!1;wr(()=>{!C||a||d=="infinite"||setTimeout(()=>n(14,D=!0),(l+s[1])*d)});function G(){return f.length?f[Math.round(Math.random()*(f.length-1))]:`hsl(${Math.round(gt(u[0],u[1]))}, 75%, 50%)`}return t.$$set=L=>{"size"in L&&n(0,o=L.size),"x"in L&&n(1,i=L.x),"y"in L&&n(2,r=L.y),"duration"in L&&n(3,l=L.duration),"infinite"in L&&n(4,a=L.infinite),"delay"in L&&n(5,s=L.delay),"colorRange"in L&&n(16,u=L.colorRange),"colorArray"in L&&n(17,f=L.colorArray),"amount"in L&&n(6,c=L.amount),"iterationCount"in L&&n(7,d=L.iterationCount),"fallDistance"in L&&n(8,p=L.fallDistance),"rounded"in L&&n(9,h=L.rounded),"cone"in L&&n(10,_=L.cone),"noGravity"in L&&n(11,y=L.noGravity),"xSpread"in L&&n(12,w=L.xSpread),"destroyOnComplete"in L&&n(18,C=L.destroyOnComplete),"disableForReducedMotion"in L&&n(13,k=L.disableForReducedMotion)},[o,i,r,l,a,s,c,d,p,h,_,y,w,k,D,G,u,f,C]}class H3 extends we{constructor(e){super(),ye(this,e,G3,V3,ce,{size:0,x:1,y:2,duration:3,infinite:4,delay:5,colorRange:16,colorArray:17,amount:6,iterationCount:7,fallDistance:8,rounded:9,cone:10,noGravity:11,xSpread:12,destroyOnComplete:18,disableForReducedMotion:13})}}function W3(t){let e,n,o;return{c(){e=P("div"),N(e,"class",n="h-full w-full flex-1 "+t[3]+" transition-all"),N(e,"style",o=`transform: translateX(-${100-100*(t[2]??0)/(t[1]??1)}%)`)},m(i,r){M(i,e,r)},p(i,r){r&8&&n!==(n="h-full w-full flex-1 "+i[3]+" transition-all")&&N(e,"class",n),r&6&&o!==(o=`transform: translateX(-${100-100*(i[2]??0)/(i[1]??1)}%)`)&&N(e,"style",o)},d(i){i&&I(e)}}}function $3(t){let e,n;const o=[{class:Fe("relative h-4 w-full overflow-hidden rounded-full bg-white",t[0])},t[4]];let i={$$slots:{default:[W3]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=X(i,o[r]);return e=new b1({props:i}),{c(){z(e.$$.fragment)},m(r,l){Q(e,r,l),n=!0},p(r,[l]){const a=l&17?ve(o,[l&1&&{class:Fe("relative h-4 w-full overflow-hidden rounded-full bg-white",r[0])},l&16&&rt(r[4])]):{};l&46&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){x(e,r)}}}function K3(t,e,n){const o=["class","max","value","color"];let i=re(e,o),{class:r=void 0}=e,{max:l=100}=e,{value:a=void 0}=e,{color:s="bg-secondary"}=e;return t.$$set=u=>{e=X(X({},e),Ne(u)),n(4,i=re(e,o)),"class"in u&&n(0,r=u.class),"max"in u&&n(1,l=u.max),"value"in u&&n(2,a=u.value),"color"in u&&n(3,s=u.color)},[r,l,a,s,i]}class cl extends we{constructor(e){super(),ye(this,e,K3,$3,ce,{class:0,max:1,value:2,color:3})}}function U3(t){let e;const n=t[5].default,o=me(n,t,t[6],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&64)&&he(o,n,i,i[6],e?pe(n,i[6],r,null):_e(i[6]),null)},i(i){e||(A(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function Y3(t){let e,n;const o=[{transition:t[2]},{transitionConfig:t[3]},{sideOffset:t[1]},{class:Fe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-black shadow-md",t[0])},t[4]];let i={$$slots:{default:[U3]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=X(i,o[r]);return e=new rb({props:i}),{c(){z(e.$$.fragment)},m(r,l){Q(e,r,l),n=!0},p(r,[l]){const a=l&31?ve(o,[l&4&&{transition:r[2]},l&8&&{transitionConfig:r[3]},l&2&&{sideOffset:r[1]},l&1&&{class:Fe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-black shadow-md",r[0])},l&16&&rt(r[4])]):{};l&64&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){x(e,r)}}}function X3(t,e,n){const o=["class","sideOffset","transition","transitionConfig"];let i=re(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{sideOffset:s=4}=e,{transition:u=Ar}=e,{transitionConfig:f={y:8,duration:150}}=e;return t.$$set=c=>{e=X(X({},e),Ne(c)),n(4,i=re(e,o)),"class"in c&&n(0,a=c.class),"sideOffset"in c&&n(1,s=c.sideOffset),"transition"in c&&n(2,u=c.transition),"transitionConfig"in c&&n(3,f=c.transitionConfig),"$$scope"in c&&n(6,l=c.$$scope)},[a,s,u,f,i,r,l]}class li extends we{constructor(e){super(),ye(this,e,X3,Y3,ce,{class:0,sideOffset:1,transition:2,transitionConfig:3})}}const si=$1,ai=db;function J3(t){let e,n,o=t[0].economyAndLaws.weeklyProfit+"",i;return{c(){e=P("span"),n=B("+$"),i=B(o),N(e,"class","text-textPrimary")},m(r,l){M(r,e,l),v(e,n),v(e,i)},p(r,l){l&1&&o!==(o=r[0].economyAndLaws.weeklyProfit+"")&&ae(i,o)},d(r){r&&I(e)}}}function Z3(t){let e,n=t[0].economyAndLaws.weeklyProfit+"",o;return{c(){e=P("span"),o=B(n),N(e,"class","text-textDanger2")},m(i,r){M(i,e,r),v(e,o)},p(i,r){r&1&&n!==(n=i[0].economyAndLaws.weeklyProfit+"")&&ae(o,n)},d(i){i&&I(e)}}}function Q3(t){let e,n,o=t[0].economyAndLaws.weeklyProfit+"",i;return{c(){e=P("span"),n=B("+$"),i=B(o),N(e,"class","text-textHappy")},m(r,l){M(r,e,l),v(e,n),v(e,i)},p(r,l){l&1&&o!==(o=r[0].economyAndLaws.weeklyProfit+"")&&ae(i,o)},d(r){r&&I(e)}}}function x3(t){let e=it(t[0].townInfo.employees/t[0].townInfo.population_count*100,0)+"",n,o,i=t[0].townInfo.employees+"",r,l,a=t[0].townInfo.population_count+"",s,u,f=t[0].townInfo.population_count-t[0].townInfo.employees+"",c,d;return{c(){n=B(e),o=B("% employment ("),r=B(i),l=B("/"),s=B(a),u=B(" - "),c=B(f),d=B(" unemployed)")},m(p,h){M(p,n,h),M(p,o,h),M(p,r,h),M(p,l,h),M(p,s,h),M(p,u,h),M(p,c,h),M(p,d,h)},p(p,h){h&1&&e!==(e=it(p[0].townInfo.employees/p[0].townInfo.population_count*100,0)+"")&&ae(n,e),h&1&&i!==(i=p[0].townInfo.employees+"")&&ae(r,i),h&1&&a!==(a=p[0].townInfo.population_count+"")&&ae(s,a),h&1&&f!==(f=p[0].townInfo.population_count-p[0].townInfo.employees+"")&&ae(c,f)},d(p){p&&(I(n),I(o),I(r),I(l),I(s),I(u),I(c),I(d))}}}function z3(t){let e;function n(r,l){return r[0].townInfo.population_count===0?t4:e4}let o=n(t),i=o(t);return{c(){i.c(),e=Re()},m(r,l){i.m(r,l),M(r,e,l)},p(r,l){o!==(o=n(r))&&(i.d(1),i=o(r),i&&(i.c(),i.m(e.parentNode,e)))},d(r){r&&I(e),i.d(r)}}}function e4(t){let e;return{c(){e=B("All citizens employed")},m(n,o){M(n,e,o)},d(n){n&&I(e)}}}function t4(t){let e;return{c(){e=B("Nobody lives here , build some homes")},m(n,o){M(n,e,o)},d(n){n&&I(e)}}}function n4(t){let e;return{c(){e=P("div"),e.textContent="Manage Knowledge"},m(n,o){M(n,e,o)},p:Ce,d(n){n&&I(e)}}}function pf(t){let e;function n(r,l){if(r[0].lab.active_experiment.duration>0)return i4;if(r[0].lab.active_experiment.duration===0)return o4}let o=n(t),i=o&&o(t);return{c(){i&&i.c(),e=Re()},m(r,l){i&&i.m(r,l),M(r,e,l)},p(r,l){o===(o=n(r))&&i?i.p(r,l):(i&&i.d(1),i=o&&o(r),i&&(i.c(),i.m(e.parentNode,e)))},d(r){r&&I(e),i&&i.d(r)}}}function o4(t){let e;return{c(){e=P("span"),e.textContent="✅ DONE!",N(e,"class","animate-pulse ")},m(n,o){M(n,e,o)},p:Ce,d(n){n&&I(e)}}}function i4(t){let e,n=t[0].lab.active_experiment.duration+"",o,i;return{c(){e=P("span"),o=B(n),i=B("d")},m(r,l){M(r,e,l),v(e,o),v(e,i)},p(r,l){l&1&&n!==(n=r[0].lab.active_experiment.duration+"")&&ae(o,n)},d(r){r&&I(e)}}}function r4(t){let e,n,o=t[0].lab.active_experiment!==null&&pf(t);return{c(){e=P("div"),n=B(`Manage Lab
            `),o&&o.c()},m(i,r){M(i,e,r),v(e,n),o&&o.m(e,null)},p(i,r){i[0].lab.active_experiment!==null?o?o.p(i,r):(o=pf(i),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},d(i){i&&I(e),o&&o.d()}}}function hf(t){let e,n,o,i;return o=new si({props:{openDelay:400,closeDelay:0,$$slots:{default:[a4]},$$scope:{ctx:t}}}),{c(){e=P("div"),n=P("div"),z(o.$$.fragment),N(n,"class","flex flex-row justify-center text-xs bg-white rounded-t-2xl text-black py-2 whitespace-nowrap px-2 opacity-50"),N(e,"class","flex flex-col justify-center items-center ")},m(r,l){M(r,e,l),v(e,n),Q(o,n,null),i=!0},p(r,l){const a={};l&8193&&(a.$$scope={dirty:l,ctx:r}),o.$set(a)},i(r){i||(A(o.$$.fragment,r),i=!0)},o(r){T(o.$$.fragment,r),i=!1},d(r){r&&I(e),x(o)}}}function l4(t){let e,n,o,i,r=Dt[t[0].currentTutorialStep-1].goldReward+"",l;return{c(){e=P("span"),n=B(`Last reward
                  `),o=P("div"),i=B("💰"),l=B(r),N(e,"class","w-full no-select opacity-70 whitespace-nowrap text-center")},m(a,s){M(a,e,s),v(e,n),v(e,o),v(o,i),v(o,l)},p(a,s){s&1&&r!==(r=Dt[a[0].currentTutorialStep-1].goldReward+"")&&ae(l,r)},d(a){a&&I(e)}}}function s4(t){let e,n=Dt[t[0].currentTutorialStep-1].message+"",o;return{c(){e=B("Last completed task: "),o=B(n)},m(i,r){M(i,e,r),M(i,o,r)},p(i,r){r&1&&n!==(n=Dt[i[0].currentTutorialStep-1].message+"")&&ae(o,n)},d(i){i&&(I(e),I(o))}}}function a4(t){let e,n,o,i;return e=new ai({props:{$$slots:{default:[l4]},$$scope:{ctx:t}}}),o=new li({props:{class:"bg-black text-white rounded-2xl",$$slots:{default:[s4]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment),n=V(),z(o.$$.fragment)},m(r,l){Q(e,r,l),M(r,n,l),Q(o,r,l),i=!0},p(r,l){const a={};l&8193&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&8193&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){T(e.$$.fragment,r),T(o.$$.fragment,r),i=!1},d(r){r&&I(n),x(e,r),x(o,r)}}}function _f(t){let e,n;return e=new H3({props:{y:[-.5,.5],x:[-.5,.5],duration:2e3}}),{c(){z(e.$$.fragment)},m(o,i){Q(e,o,i),n=!0},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function u4(t){let e=Dt[t[0].currentTutorialStep].message+"",n,o,i,r,l=Dt[t[0].currentTutorialStep].goldReward+"",a,s;return{c(){n=B(e),o=V(),i=P("span"),r=B("(💰"),a=B(l),s=B(")"),N(i,"class","opacity-40")},m(u,f){M(u,n,f),M(u,o,f),M(u,i,f),v(i,r),v(i,a),v(i,s)},p(u,f){f&1&&e!==(e=Dt[u[0].currentTutorialStep].message+"")&&ae(n,e),f&1&&l!==(l=Dt[u[0].currentTutorialStep].goldReward+"")&&ae(a,l)},d(u){u&&(I(n),I(o),I(i))}}}function f4(t){let e;return{c(){e=B("No more goals!")},m(n,o){M(n,e,o)},p:Ce,d(n){n&&I(e)}}}function c4(t){let e,n,o,i,r,l,a,s,u,f,c=it(t[0].modifiers.happiness,2)+"",d,p,h,_,y,w,C,k,D=it(t[0].modifiers.health,2)+"",G,L,j,F,E,U,b,g,S=it(t[0].modifiers.community,2)+"",O,H,R,J,te,Z,W,ne,m,$,K=t[0].townInfo.name+"",Y,se,ue,Se,De,Ve=t[0].townInfo.population_count+"",tt,de,Me=t[0].townInfo.population_max+"",He,$e,Ge,ke,Ae,_t=vn(t[0].townInfo.gold,!1)+"",It,dt,qt,Nt,ft,xe,be,Ke,q,vs,Mo,ys,Dr,ws,Kn,an,ks,un,Cs,Po,jt,Lr,Fr,Un,ui,As,Oo,fi,Ss,ci,di,fn,qr,Ts,Yn,Xn,mi,Is,pi,hi=t[0].environment.day%365+1+"",jr,Ms,Jn,_i,Ps,gi,bi=Math.floor(t[0].environment.day/365)+1+"",Br,Os,cn,Zn,Ns,vi,Es,Qn,Rs,yi,Ds,xn,Ls,wi,ki,ot,Vr,Fs;a=new At({props:{class:"bg-white"}}),_=new cl({props:{value:t[0].townInfo.happiness,max:300,class:"w-full h-2",color:parseInt(t[0].townInfo.happiness)>200?"bg-green-500":parseInt(t[0].townInfo.happiness)>100?"bg-yellow-500":"bg-red-500"}}),F=new cl({props:{value:t[0].townInfo.health,max:300,class:"w-full h-2",color:parseInt(t[0].townInfo.health)>200?"bg-green-500":parseInt(t[0].townInfo.health)>100?"bg-yellow-500":"bg-red-500"}}),J=new cl({props:{value:t[0].townInfo.community,max:300,class:"w-full h-2",color:parseInt(t[0].townInfo.community)>200?"bg-green-500":parseInt(t[0].townInfo.community)>100?"bg-yellow-500":"bg-red-500"}});function qs(ge,We){return ge[0].economyAndLaws.weeklyProfit>0?Q3:ge[0].economyAndLaws.weeklyProfit<0?Z3:J3}let Ci=qs(t),Bt=Ci(t);function js(ge,We){return ge[0].townInfo.employees==ge[0].townInfo.population_count?z3:x3}let Ai=js(t),Vt=Ai(t);an=new on({props:{class:"text-xs flex flex-col h-min  bg-button cursor-pointer text-textPrimary p-1.5",$$slots:{default:[n4]},$$scope:{ctx:t}}}),an.$on("click",t[9]),un=new on({props:{class:"text-xs flex flex-col h-min p-1.5 "+(t[0].hasLab?"bg-button cursor-pointer text-textPrimary":"bg-button cursor-not-allowed text-textPrimary opacity-35"),$$slots:{default:[r4]},$$scope:{ctx:t}}}),un.$on("click",t[8]);let lt=t[0].currentTutorialStep!=0&&hf(t),at=t[5]&&_f();function Bs(ge,We){return ge[0].currentTutorialStep>=Dt.length?f4:u4}let Si=Bs(t),Gt=Si(t);return{c(){e=P("div"),n=P("div"),o=P("div"),i=P("span"),r=P("h2"),r.textContent="Stats",l=V(),z(a.$$.fragment),s=V(),u=P("span"),f=B("Happiness (x"),d=B(c),p=B(")"),h=V(),z(_.$$.fragment),y=V(),w=P("span"),C=P("span"),k=B("Health (x"),G=B(D),L=B(")"),j=V(),z(F.$$.fragment),E=V(),U=P("span"),b=P("span"),g=B("Community (x"),O=B(S),H=B(")"),R=V(),z(J.$$.fragment),te=V(),Z=P("div"),W=P("div"),ne=P("div"),m=P("div"),$=P("h1"),Y=B(K),se=V(),ue=P("div"),Se=P("span"),De=B("👥 "),tt=B(Ve),de=B(" / "),He=B(Me),$e=V(),Ge=P("span"),ke=P("span"),Ae=B("💰 "),It=B(_t),dt=V(),qt=P("span"),Nt=V(),Bt.c(),ft=V(),xe=P("span"),xe.textContent="(weekly)",be=V(),Ke=P("div"),Vt.c(),vs=V(),Mo=P("span"),ys=B("Game time: "),Dr=B(t[1]),ws=V(),Kn=P("div"),z(an.$$.fragment),ks=V(),z(un.$$.fragment),Cs=V(),Po=P("div"),jt=P("div"),lt&&lt.c(),Lr=V(),at&&at.c(),Fr=V(),Un=P("div"),ui=P("div"),ui.textContent="👨‍🦰",As=V(),Oo=P("div"),Gt.c(),Ss=V(),ci=P("div"),di=P("div"),fn=P("div"),qr=P("div"),qr.innerHTML='<span class="text-xs text-secondary cursor-pointer">Press P to Pause</span>',Ts=V(),Yn=P("div"),Xn=P("span"),mi=P("span"),mi.textContent="Day",Is=V(),pi=P("span"),jr=B(hi),Ms=V(),Jn=P("span"),_i=P("span"),_i.textContent="Year",Ps=V(),gi=P("span"),Br=B(bi),Os=V(),cn=P("div"),Zn=P("span"),Ns=B("Slow"),Es=V(),Qn=P("span"),Rs=B("Normal"),Ds=V(),xn=P("span"),Ls=B("Fast"),N(r,"class","text-lg text-white"),N(u,"class","text-xs"),N(C,"class","text-xs"),N(b,"class","text-xs"),N(o,"class","flex flex-col w-36 h-full justify-center text-foregroundText bg-accent p-2 rounded-xl"),N($,"class","font-bold cursor-pointer w-full pb-2 text-start select-none"),N(m,"class","cursor-pointer transition-all duration=150 min-h-8"),N(Se,"class","text-sm"),N(ke,"class","text-sm"),N(qt,"class","pl-2"),N(xe,"class","text-gray-400"),N(Ge,"class","text-xs"),N(ue,"class","flex flex-row gap-4 flex-wrap items-center"),N(Ke,"class",q="text-xs pt-1 "+(t[0].townInfo.employees==t[0].townInfo.population_count?"text-textPrimary":t[0].townInfo.employees>t[0].townInfo.population_count*.95?"text-textDanger3":t[0].townInfo.employees>t[0].townInfo.population_count*.9?"text-textDanger2":"text-textDanger1")),N(Mo,"class","text-xs text-secondary cursor-pointer"),N(ne,"class","flex flex-col justify-between"),N(W,"class","rounded-xl"),N(Kn,"class","flex flex-row gap-2 align-middle justify-center items-center "),N(Z,"class","flex justify-between flex-col"),N(n,"class","flex flex-row gap-6 my-2 h-max"),N(ui,"class","text-lg h-max"),N(Oo,"class","text-xs ml-2 overflow-auto opacity-80"),N(Un,"class","gap flex-row items-center flex bg-white text-slate-800 py-1 px-2 rounded-xl w-full"),N(jt,"class","flex flex-col justify-center w-full align-middle items-center"),N(Po,"class",fi="flex flex-row flex-wrap align-middle justify-center items-center w-64 "+(t[5]?"opacity-25 ":"")+" transition-all duration-700"),N(mi,"class","text-xs"),N(pi,"class","font-semibold text-xs"),N(Xn,"class","flex flex-col gap-2 text-center"),N(_i,"class","text-xs"),N(gi,"class","font-semibold text-xs"),N(Jn,"class","flex flex-col gap-2 text-center"),N(Yn,"class","rounded-xl bg-accent flex-row justify-between text-accentText w-36 h-14 flex px-6 items-center mb-2"),N(Zn,"class",vi=(t[2].toString()==="2000"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"),N(Qn,"class",yi=(t[2].toString()==="750"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"),N(xn,"class",wi=(t[2].toString()==="200"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"),N(cn,"class","flex flex-row gap-2 align-middle justify-center items-center"),N(fn,"class","flex flex-col items-center h-max"),N(di,"class","flex flex-col"),N(ci,"class","flex justify-center align-middle flex-col"),N(e,"class",ki="flex justify-between px-6 gap-6 flex-row text-start fixed top-0 left-0 right-0 cursor-default z-20 bg-foreground text-foregroundText h-max "+(t[3].visible?"opacity-70":""))},m(ge,We){M(ge,e,We),v(e,n),v(n,o),v(o,i),v(i,r),v(i,l),Q(a,i,null),v(i,s),v(i,u),v(u,f),v(u,d),v(u,p),v(i,h),Q(_,i,null),v(o,y),v(o,w),v(w,C),v(C,k),v(C,G),v(C,L),v(w,j),Q(F,w,null),v(o,E),v(o,U),v(U,b),v(b,g),v(b,O),v(b,H),v(U,R),Q(J,U,null),v(n,te),v(n,Z),v(Z,W),v(W,ne),v(ne,m),v(m,$),v($,Y),v(ne,se),v(ne,ue),v(ue,Se),v(Se,De),v(Se,tt),v(Se,de),v(Se,He),v(ue,$e),v(ue,Ge),v(Ge,ke),v(ke,Ae),v(ke,It),v(Ge,dt),v(Ge,qt),v(Ge,Nt),Bt.m(Ge,null),v(Ge,ft),v(Ge,xe),v(ne,be),v(ne,Ke),Vt.m(Ke,null),v(ne,vs),v(ne,Mo),v(Mo,ys),v(Mo,Dr),v(Z,ws),v(Z,Kn),Q(an,Kn,null),v(Kn,ks),Q(un,Kn,null),v(e,Cs),v(e,Po),v(Po,jt),lt&&lt.m(jt,null),v(jt,Lr),at&&at.m(jt,null),v(jt,Fr),v(jt,Un),v(Un,ui),v(Un,As),v(Un,Oo),Gt.m(Oo,null),v(e,Ss),v(e,ci),v(ci,di),v(di,fn),v(fn,qr),v(fn,Ts),v(fn,Yn),v(Yn,Xn),v(Xn,mi),v(Xn,Is),v(Xn,pi),v(pi,jr),v(Yn,Ms),v(Yn,Jn),v(Jn,_i),v(Jn,Ps),v(Jn,gi),v(gi,Br),v(fn,Os),v(fn,cn),v(cn,Zn),v(Zn,Ns),v(cn,Es),v(cn,Qn),v(Qn,Rs),v(cn,Ds),v(cn,xn),v(xn,Ls),ot=!0,Vr||(Fs=[ee(m,"click",t[6]),ee(Zn,"click",t[10]),ee(Qn,"click",t[11]),ee(xn,"click",t[12])],Vr=!0)},p(ge,[We]){(!ot||We&1)&&c!==(c=it(ge[0].modifiers.happiness,2)+"")&&ae(d,c);const Gr={};We&1&&(Gr.value=ge[0].townInfo.happiness),We&1&&(Gr.color=parseInt(ge[0].townInfo.happiness)>200?"bg-green-500":parseInt(ge[0].townInfo.happiness)>100?"bg-yellow-500":"bg-red-500"),_.$set(Gr),(!ot||We&1)&&D!==(D=it(ge[0].modifiers.health,2)+"")&&ae(G,D);const Hr={};We&1&&(Hr.value=ge[0].townInfo.health),We&1&&(Hr.color=parseInt(ge[0].townInfo.health)>200?"bg-green-500":parseInt(ge[0].townInfo.health)>100?"bg-yellow-500":"bg-red-500"),F.$set(Hr),(!ot||We&1)&&S!==(S=it(ge[0].modifiers.community,2)+"")&&ae(O,S);const Wr={};We&1&&(Wr.value=ge[0].townInfo.community),We&1&&(Wr.color=parseInt(ge[0].townInfo.community)>200?"bg-green-500":parseInt(ge[0].townInfo.community)>100?"bg-yellow-500":"bg-red-500"),J.$set(Wr),(!ot||We&1)&&K!==(K=ge[0].townInfo.name+"")&&ae(Y,K),(!ot||We&1)&&Ve!==(Ve=ge[0].townInfo.population_count+"")&&ae(tt,Ve),(!ot||We&1)&&Me!==(Me=ge[0].townInfo.population_max+"")&&ae(He,Me),(!ot||We&1)&&_t!==(_t=vn(ge[0].townInfo.gold,!1)+"")&&ae(It,_t),Ci===(Ci=qs(ge))&&Bt?Bt.p(ge,We):(Bt.d(1),Bt=Ci(ge),Bt&&(Bt.c(),Bt.m(Ge,ft))),Ai===(Ai=js(ge))&&Vt?Vt.p(ge,We):(Vt.d(1),Vt=Ai(ge),Vt&&(Vt.c(),Vt.m(Ke,null))),(!ot||We&1&&q!==(q="text-xs pt-1 "+(ge[0].townInfo.employees==ge[0].townInfo.population_count?"text-textPrimary":ge[0].townInfo.employees>ge[0].townInfo.population_count*.95?"text-textDanger3":ge[0].townInfo.employees>ge[0].townInfo.population_count*.9?"text-textDanger2":"text-textDanger1")))&&N(Ke,"class",q),(!ot||We&2)&&ae(Dr,ge[1]);const Vs={};We&8192&&(Vs.$$scope={dirty:We,ctx:ge}),an.$set(Vs);const $r={};We&1&&($r.class="text-xs flex flex-col h-min p-1.5 "+(ge[0].hasLab?"bg-button cursor-pointer text-textPrimary":"bg-button cursor-not-allowed text-textPrimary opacity-35")),We&8193&&($r.$$scope={dirty:We,ctx:ge}),un.$set($r),ge[0].currentTutorialStep!=0?lt?(lt.p(ge,We),We&1&&A(lt,1)):(lt=hf(ge),lt.c(),A(lt,1),lt.m(jt,Lr)):lt&&(Pe(),T(lt,1,1,()=>{lt=null}),Oe()),ge[5]?at?We&32&&A(at,1):(at=_f(),at.c(),A(at,1),at.m(jt,Fr)):at&&(Pe(),T(at,1,1,()=>{at=null}),Oe()),Si===(Si=Bs(ge))&&Gt?Gt.p(ge,We):(Gt.d(1),Gt=Si(ge),Gt&&(Gt.c(),Gt.m(Oo,null))),(!ot||We&32&&fi!==(fi="flex flex-row flex-wrap align-middle justify-center items-center w-64 "+(ge[5]?"opacity-25 ":"")+" transition-all duration-700"))&&N(Po,"class",fi),(!ot||We&1)&&hi!==(hi=ge[0].environment.day%365+1+"")&&ae(jr,hi),(!ot||We&1)&&bi!==(bi=Math.floor(ge[0].environment.day/365)+1+"")&&ae(Br,bi),(!ot||We&4&&vi!==(vi=(ge[2].toString()==="2000"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"))&&N(Zn,"class",vi),(!ot||We&4&&yi!==(yi=(ge[2].toString()==="750"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"))&&N(Qn,"class",yi),(!ot||We&4&&wi!==(wi=(ge[2].toString()==="200"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"))&&N(xn,"class",wi),(!ot||We&8&&ki!==(ki="flex justify-between px-6 gap-6 flex-row text-start fixed top-0 left-0 right-0 cursor-default z-20 bg-foreground text-foregroundText h-max "+(ge[3].visible?"opacity-70":"")))&&N(e,"class",ki)},i(ge){ot||(A(a.$$.fragment,ge),A(_.$$.fragment,ge),A(F.$$.fragment,ge),A(J.$$.fragment,ge),A(an.$$.fragment,ge),A(un.$$.fragment,ge),A(lt),A(at),ot=!0)},o(ge){T(a.$$.fragment,ge),T(_.$$.fragment,ge),T(F.$$.fragment,ge),T(J.$$.fragment,ge),T(an.$$.fragment,ge),T(un.$$.fragment,ge),T(lt),T(at),ot=!1},d(ge){ge&&I(e),x(a),x(_),x(F),x(J),Bt.d(),Vt.d(),x(an),x(un),lt&&lt.d(),at&&at.d(),Gt.d(),Vr=!1,qe(Fs)}}}function d4(t,e,n){let o,i,r,l,a;fe(t,Le,y=>n(0,o=y)),fe(t,hl,y=>n(2,i=y)),fe(t,Qe,y=>n(3,r=y)),fe(t,xi,y=>n(4,l=y)),fe(t,ji,y=>n(5,a=y)),wr(()=>{const y=setInterval(()=>{Ee(Le,o.timeSpent+=1e3,o)},1e3);return()=>{clearInterval(y)}});function s(){let y=prompt("Enter a new name for your town (under 200 chars)");if(y&&y.length<200&&y.length>=1){let w=o;w.townInfo.name=y,Le.set(w),localStorage.setItem(Lt,JSON.stringify(w))}}function u(y){return Ee(hl,i=y,i),document.querySelectorAll(".speedButton").forEach(C=>{C.classList.remove("active")}),i}function f(){o.hasLab&&Bi.set(!0)}let c="00:00:00";const d=function(){Ee(xi,l=!l,l)},p=()=>u(2e3),h=()=>u(750),_=()=>u(200);return t.$$.update=()=>{t.$$.dirty&1&&(o.timeSpent>0?n(1,c=fp(o.timeSpent)):n(1,c="00:00:00"))},[o,c,i,r,l,a,s,u,f,d,p,h,_]}class m4 extends we{constructor(e){super(),ye(this,e,d4,c4,ce,{})}}function gf(t,e,n){const o=t.slice();return o[4]=e[n],o[6]=n,o}function bf(t,e,n){const o=t.slice();return o[4]=e[n],o[6]=n,o}function vf(t){let e,n,o,i=ie[Te(t[0].id)].title+"",r,l,a,s=ie[Te(t[0].id)].description+"",u,f,c,d,p,h,_,y,w,C=t[3]("💰",ie[Te(t[0].id)].requirements.gold,t[2].townInfo.gold)+"",k,D,G=t[3]("🥕",ie[Te(t[0].id)].requirements.resources.food,t[2].resources.food)+"",L,j,F=t[3]("🧠",ie[Te(t[0].id)].requirements.knowledge,t[2].townInfo.knowledge_points)+"",E,U,b=t[3]("🪵",ie[Te(t[0].id)].requirements.resources.wood,t[2].resources.wood)+"",g,S,O=t[3]("🪨",ie[Te(t[0].id)].requirements.resources.stone,t[2].resources.stone)+"",H,R,J=t[3]("🧲",ie[Te(t[0].id)].requirements.resources.metal,t[2].resources.metal)+"",te,Z,W=t[3]("🔋",ie[Te(t[0].id)].active_costs.power,t[2].resources.power)+"",ne,m,$=t[3]("🧑‍⚖️",ie[Te(t[0].id)].requirements.resources.bureaucracy,t[2].resources.bureaucracy)+"",K,Y=ie[Te(t[0].id)].requirements.employees!=0,se,ue=ie[Te(t[0].id)].revenue_per_week!=0,Se,De=Object.values(ie[Te(t[0].id)].active_costs).some(Pf),Ve,tt=Object.values(ie[Te(t[0].id)].generated_resources).some(Mf),de;d=new At({props:{class:"bg-secondary opacity-25 mt-1 mb-1"}});let Me=Y&&yf(t),He=ue&&wf(t),$e=De&&kf(t),Ge=tt&&Sf(t);return{c(){e=P("div"),n=P("div"),o=P("span"),r=B(i),l=V(),a=P("span"),u=B(s),f=V(),c=P("div"),z(d.$$.fragment),p=V(),h=P("span"),h.textContent="Requirements",_=V(),y=P("div"),w=new pn(!1),k=V(),D=new pn(!1),L=V(),j=new pn(!1),E=V(),U=new pn(!1),g=V(),S=new pn(!1),H=V(),R=new pn(!1),te=V(),Z=new pn(!1),ne=V(),m=new pn(!1),K=V(),Me&&Me.c(),se=V(),He&&He.c(),Se=V(),$e&&$e.c(),Ve=V(),Ge&&Ge.c(),N(o,"class","text-md"),N(a,"class","text-xs"),N(n,"class","flex flex-col gap-2"),N(h,"class","font-semibold"),w.a=k,D.a=L,j.a=E,U.a=g,S.a=H,R.a=te,Z.a=ne,m.a=K,N(y,"class","flex flex-col gap-1"),N(c,"class","flex flex-col w-36 h-min gap-0 text-xs pb-2"),N(e,"class","p-2")},m(ke,Ae){M(ke,e,Ae),v(e,n),v(n,o),v(o,r),v(n,l),v(n,a),v(a,u),v(e,f),v(e,c),Q(d,c,null),v(c,p),v(c,h),v(c,_),v(c,y),w.m(C,y),v(y,k),D.m(G,y),v(y,L),j.m(F,y),v(y,E),U.m(b,y),v(y,g),S.m(O,y),v(y,H),R.m(J,y),v(y,te),Z.m(W,y),v(y,ne),m.m($,y),v(y,K),Me&&Me.m(y,null),v(e,se),He&&He.m(e,null),v(e,Se),$e&&$e.m(e,null),v(e,Ve),Ge&&Ge.m(e,null),de=!0},p(ke,Ae){(!de||Ae&1)&&i!==(i=ie[Te(ke[0].id)].title+"")&&ae(r,i),(!de||Ae&1)&&s!==(s=ie[Te(ke[0].id)].description+"")&&ae(u,s),(!de||Ae&5)&&C!==(C=ke[3]("💰",ie[Te(ke[0].id)].requirements.gold,ke[2].townInfo.gold)+"")&&w.p(C),(!de||Ae&5)&&G!==(G=ke[3]("🥕",ie[Te(ke[0].id)].requirements.resources.food,ke[2].resources.food)+"")&&D.p(G),(!de||Ae&5)&&F!==(F=ke[3]("🧠",ie[Te(ke[0].id)].requirements.knowledge,ke[2].townInfo.knowledge_points)+"")&&j.p(F),(!de||Ae&5)&&b!==(b=ke[3]("🪵",ie[Te(ke[0].id)].requirements.resources.wood,ke[2].resources.wood)+"")&&U.p(b),(!de||Ae&5)&&O!==(O=ke[3]("🪨",ie[Te(ke[0].id)].requirements.resources.stone,ke[2].resources.stone)+"")&&S.p(O),(!de||Ae&5)&&J!==(J=ke[3]("🧲",ie[Te(ke[0].id)].requirements.resources.metal,ke[2].resources.metal)+"")&&R.p(J),(!de||Ae&5)&&W!==(W=ke[3]("🔋",ie[Te(ke[0].id)].active_costs.power,ke[2].resources.power)+"")&&Z.p(W),(!de||Ae&5)&&$!==($=ke[3]("🧑‍⚖️",ie[Te(ke[0].id)].requirements.resources.bureaucracy,ke[2].resources.bureaucracy)+"")&&m.p($),Ae&1&&(Y=ie[Te(ke[0].id)].requirements.employees!=0),Y?Me?Me.p(ke,Ae):(Me=yf(ke),Me.c(),Me.m(y,null)):Me&&(Me.d(1),Me=null),Ae&1&&(ue=ie[Te(ke[0].id)].revenue_per_week!=0),ue?He?(He.p(ke,Ae),Ae&1&&A(He,1)):(He=wf(ke),He.c(),A(He,1),He.m(e,Se)):He&&(Pe(),T(He,1,1,()=>{He=null}),Oe()),Ae&1&&(De=Object.values(ie[Te(ke[0].id)].active_costs).some(Pf)),De?$e?($e.p(ke,Ae),Ae&1&&A($e,1)):($e=kf(ke),$e.c(),A($e,1),$e.m(e,Ve)):$e&&(Pe(),T($e,1,1,()=>{$e=null}),Oe()),Ae&1&&(tt=Object.values(ie[Te(ke[0].id)].generated_resources).some(Mf)),tt?Ge?(Ge.p(ke,Ae),Ae&1&&A(Ge,1)):(Ge=Sf(ke),Ge.c(),A(Ge,1),Ge.m(e,null)):Ge&&(Pe(),T(Ge,1,1,()=>{Ge=null}),Oe())},i(ke){de||(A(d.$$.fragment,ke),A(He),A($e),A(Ge),de=!0)},o(ke){T(d.$$.fragment,ke),T(He),T($e),T(Ge),de=!1},d(ke){ke&&I(e),x(d),Me&&Me.d(),He&&He.d(),$e&&$e.d(),Ge&&Ge.d()}}}function yf(t){let e,n,o=ie[Te(t[0].id)].requirements.employees+"",i,r,l;return{c(){e=P("span"),n=B("👥 "),i=B(o),r=B(" employees"),N(e,"class",l=ie[Te(t[0].id)].requirements.employees>t[2].townInfo.population_count-t[2].townInfo.employees&&t[1]?"px-1 text-textDanger1 font-bold border-2 border-red-400":"")},m(a,s){M(a,e,s),v(e,n),v(e,i),v(e,r)},p(a,s){s&1&&o!==(o=ie[Te(a[0].id)].requirements.employees+"")&&ae(i,o),s&7&&l!==(l=ie[Te(a[0].id)].requirements.employees>a[2].townInfo.population_count-a[2].townInfo.employees&&a[1]?"px-1 text-textDanger1 font-bold border-2 border-red-400":"")&&N(e,"class",l)},d(a){a&&I(e)}}}function wf(t){let e,n,o,i,r,l,a,s=ie[Te(t[0].id)].revenue_per_week+"",u,f;return n=new At({props:{class:"bg-secondary opacity-25 mt-0"}}),{c(){e=P("div"),z(n.$$.fragment),o=V(),i=P("span"),i.textContent="Weekly revenue",r=V(),l=P("span"),a=B("💰 "),u=B(s),N(i,"class","font-semibold"),N(e,"class","flex flex-col gap-1 text-xs")},m(c,d){M(c,e,d),Q(n,e,null),v(e,o),v(e,i),v(e,r),v(e,l),v(l,a),v(l,u),f=!0},p(c,d){(!f||d&1)&&s!==(s=ie[Te(c[0].id)].revenue_per_week+"")&&ae(u,s)},i(c){f||(A(n.$$.fragment,c),f=!0)},o(c){T(n.$$.fragment,c),f=!1},d(c){c&&I(e),x(n)}}}function kf(t){let e,n,o,i,r,l;n=new At({props:{class:"bg-secondary opacity-25 mt-2"}});let a=Ye(Object.keys(ie[Te(t[0].id)].active_costs)),s=[];for(let u=0;u<a.length;u+=1)s[u]=Af(bf(t,a,u));return{c(){e=P("div"),z(n.$$.fragment),o=V(),i=P("span"),i.textContent="Weekly Costs",r=V();for(let u=0;u<s.length;u+=1)s[u].c();N(i,"class","font-semibold"),N(e,"class","flex flex-col gap-1 text-xs")},m(u,f){M(u,e,f),Q(n,e,null),v(e,o),v(e,i),v(e,r);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(e,null);l=!0},p(u,f){if(f&1){a=Ye(Object.keys(ie[Te(u[0].id)].active_costs));let c;for(c=0;c<a.length;c+=1){const d=bf(u,a,c);s[c]?s[c].p(d,f):(s[c]=Af(d),s[c].c(),s[c].m(e,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=a.length}},i(u){l||(A(n.$$.fragment,u),l=!0)},o(u){T(n.$$.fragment,u),l=!1},d(u){u&&I(e),x(n),wt(s,u)}}}function Cf(t){let e,n=co(t[4])+"",o,i,r=br(t[4])+"",l,a,s=-1*Object.values(ie[Te(t[0].id)].active_costs)[t[6]]+"",u,f,c;return{c(){e=P("span"),o=B(n),i=V(),l=B(r),a=V(),u=B(s),f=V(),N(e,"class",c=Object.values(ie[Te(t[0].id)].active_costs)[t[6]]>0?"text-textDanger1":"text-textHappyDark")},m(d,p){M(d,e,p),v(e,o),v(e,i),v(e,l),v(e,a),v(e,u),v(e,f)},p(d,p){p&1&&n!==(n=co(d[4])+"")&&ae(o,n),p&1&&r!==(r=br(d[4])+"")&&ae(l,r),p&1&&s!==(s=-1*Object.values(ie[Te(d[0].id)].active_costs)[d[6]]+"")&&ae(u,s),p&1&&c!==(c=Object.values(ie[Te(d[0].id)].active_costs)[d[6]]>0?"text-textDanger1":"text-textHappyDark")&&N(e,"class",c)},d(d){d&&I(e)}}}function Af(t){let e=Object.values(ie[Te(t[0].id)].active_costs)[t[6]]!=0,n,o=e&&Cf(t);return{c(){o&&o.c(),n=Re()},m(i,r){o&&o.m(i,r),M(i,n,r)},p(i,r){r&1&&(e=Object.values(ie[Te(i[0].id)].active_costs)[i[6]]!=0),e?o?o.p(i,r):(o=Cf(i),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(i){i&&I(n),o&&o.d(i)}}}function Sf(t){let e,n,o,i,r,l;n=new At({props:{class:"bg-secondary opacity-25 mt-2"}});let a=Ye(Object.keys(ie[Te(t[0].id)].generated_resources)),s=[];for(let u=0;u<a.length;u+=1)s[u]=If(gf(t,a,u));return{c(){e=P("div"),z(n.$$.fragment),o=V(),i=P("span"),i.textContent="Generated Resources",r=V();for(let u=0;u<s.length;u+=1)s[u].c();N(i,"class","font-semibold"),N(e,"class","flex flex-col gap-1 text-xs")},m(u,f){M(u,e,f),Q(n,e,null),v(e,o),v(e,i),v(e,r);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(e,null);l=!0},p(u,f){if(f&1){a=Ye(Object.keys(ie[Te(u[0].id)].generated_resources));let c;for(c=0;c<a.length;c+=1){const d=gf(u,a,c);s[c]?s[c].p(d,f):(s[c]=If(d),s[c].c(),s[c].m(e,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=a.length}},i(u){l||(A(n.$$.fragment,u),l=!0)},o(u){T(n.$$.fragment,u),l=!1},d(u){u&&I(e),x(n),wt(s,u)}}}function Tf(t){let e,n=br(t[4])+"",o,i,r=co(t[4])+"",l,a,s=Zs(Object.values(ie[Te(t[0].id)].generated_resources)[t[6]],!1)+"",u,f,c;return{c(){e=P("span"),o=B(n),i=V(),l=B(r),a=V(),u=B(s),f=V(),N(e,"class",c=Object.values(ie[Te(t[0].id)].generated_resources)[t[6]]>0?"text-textHappyDark":"text-textDanger1")},m(d,p){M(d,e,p),v(e,o),v(e,i),v(e,l),v(e,a),v(e,u),v(e,f)},p(d,p){p&1&&n!==(n=br(d[4])+"")&&ae(o,n),p&1&&r!==(r=co(d[4])+"")&&ae(l,r),p&1&&s!==(s=Zs(Object.values(ie[Te(d[0].id)].generated_resources)[d[6]],!1)+"")&&ae(u,s),p&1&&c!==(c=Object.values(ie[Te(d[0].id)].generated_resources)[d[6]]>0?"text-textHappyDark":"text-textDanger1")&&N(e,"class",c)},d(d){d&&I(e)}}}function If(t){let e=Object.values(ie[Te(t[0].id)].generated_resources)[t[6]]!=0,n,o=e&&Tf(t);return{c(){o&&o.c(),n=Re()},m(i,r){o&&o.m(i,r),M(i,n,r)},p(i,r){r&1&&(e=Object.values(ie[Te(i[0].id)].generated_resources)[i[6]]!=0),e?o?o.p(i,r):(o=Tf(i),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(i){i&&I(n),o&&o.d(i)}}}function p4(t){let e,n,o=t[0]!=null&&vf(t);return{c(){o&&o.c(),e=Re()},m(i,r){o&&o.m(i,r),M(i,e,r),n=!0},p(i,[r]){i[0]!=null?o?(o.p(i,r),r&1&&A(o,1)):(o=vf(i),o.c(),A(o,1),o.m(e.parentNode,e)):o&&(Pe(),T(o,1,1,()=>{o=null}),Oe())},i(i){n||(A(o),n=!0)},o(i){T(o),n=!1},d(i){i&&I(e),o&&o.d(i)}}}function br(t){switch(t){case"food":return"🥕";case"knowledge":return"🧠";case"wood":return"🪵";case"stone":return"🪨";case"metal":return"🧲";case"power":return"🔋";case"bureaucracy":return"🧑‍⚖️";default:return"💰"}}const Mf=t=>t!=0,Pf=t=>t!=0;function h4(t,e,n){let o;fe(t,Le,a=>n(2,o=a));let{option:i}=e,{checkRequirements:r=!0}=e;function l(a,s,u){if(s==0||s==null)return"<span class='hidden'></span>";let f="",c="";return u<s&&r&&(c="text-textDanger1 border-2 border-red-400"),f=`<span class='${c}'>${a} ${s}</span>`,f}return t.$$set=a=>{"option"in a&&n(0,i=a.option),"checkRequirements"in a&&n(1,r=a.checkRequirements)},[i,r,o,l]}class Yd extends we{constructor(e){super(),ye(this,e,h4,p4,ce,{option:0,checkRequirements:1})}}function Of(t,e,n){const o=t.slice();return o[25]=e[n],o}function Nf(t,e,n){const o=t.slice();return o[28]=e[n],o}function Ef(t){let e,n,o,i,r,l,a,s,u,f,c,d,p,h,_=t[5].plots[t[0]][t[1]].type!==-1&&t[12](t[0],t[1]),y,w,C,k,D,G,L={type:"text",autofocus:!0,id:"search-bar",placeholder:"Search Plot Options...",value:t[3],class:"border rounded w-auto bg-white placeholder-black text-black text-xs"};a=new os({props:L}),t[16](a),a.$on("input",t[10]);let j=_&&Rf(t),F=Ye(t[6].isMineralSource||t[3].length>0?[1]:[1,2,3,4]),E=[];for(let b=0;b<F.length;b+=1)E[b]=Gf(Of(t,F,b));const U=b=>T(E[b],1,1,()=>{E[b]=null});return{c(){e=P("div"),n=P("div"),o=P("div"),i=P("div"),r=P("div"),l=P("div"),z(a.$$.fragment),s=V(),u=P("div"),f=P("input"),c=V(),d=P("label"),d.textContent="Buildable",p=V(),h=P("div"),j&&j.c(),y=V(),w=P("div");for(let b=0;b<E.length;b+=1)E[b].c();N(l,"class","flex items-end "),N(f,"type","checkbox"),N(f,"id","toggle-affordable"),N(f,"class","rounded"),f.checked=t[7],N(d,"for","toggle-affordable"),N(d,"class","ml-2 no-select cursor-pointer "),N(u,"class","flex items-center ml-4"),N(h,"class","flex justify-end ml-6"),N(r,"class","flex flex-row w-full "),N(i,"class","text-sm"),N(w,"class",C="flex flex-col "+(t[6].isMineralSource||t[3].length>0?"gap-0 pt-0":"gap-4")+" w-full overflow-y-scroll h-72 pb-24"),N(o,"class","flex flex-col gap-2 px-2 no-scrollbar justify-end"),N(n,"class","text-xl items-center justify-center w-[90%] align-bottom bg-foreground border-4 border-gray-400 shadow-2xl rounded-t-xl py-2 "),N(e,"class","w-[100vw] fixed bottom-0 h-["+t[9]+"] p-1 z-50 flex flex-col justify-center text-center items-center")},m(b,g){M(b,e,g),v(e,n),v(n,o),v(o,i),v(i,r),v(r,l),Q(a,l,null),v(r,s),v(r,u),v(u,f),v(u,c),v(u,d),v(r,p),v(r,h),j&&j.m(h,null),v(o,y),v(o,w);for(let S=0;S<E.length;S+=1)E[S]&&E[S].m(w,null);k=!0,D||(G=[ee(f,"change",t[17]),ee(o,"click",t[11])],D=!0)},p(b,g){const S={};if(g[0]&8&&(S.value=b[3]),a.$set(S),(!k||g[0]&128)&&(f.checked=b[7]),g[0]&35&&(_=b[5].plots[b[0]][b[1]].type!==-1&&b[12](b[0],b[1])),_?j?j.p(b,g):(j=Rf(b),j.c(),j.m(h,null)):j&&(j.d(1),j=null),g[0]&120){F=Ye(b[6].isMineralSource||b[3].length>0?[1]:[1,2,3,4]);let O;for(O=0;O<F.length;O+=1){const H=Of(b,F,O);E[O]?(E[O].p(H,g),A(E[O],1)):(E[O]=Gf(H),E[O].c(),A(E[O],1),E[O].m(w,null))}for(Pe(),O=F.length;O<E.length;O+=1)U(O);Oe()}(!k||g[0]&72&&C!==(C="flex flex-col "+(b[6].isMineralSource||b[3].length>0?"gap-0 pt-0":"gap-4")+" w-full overflow-y-scroll h-72 pb-24"))&&N(w,"class",C)},i(b){if(!k){A(a.$$.fragment,b);for(let g=0;g<F.length;g+=1)A(E[g]);k=!0}},o(b){T(a.$$.fragment,b),E=E.filter(Boolean);for(let g=0;g<E.length;g+=1)T(E[g]);k=!1},d(b){b&&I(e),t[16](null),x(a),j&&j.d(),wt(E,b),D=!1,qe(G)}}}function Rf(t){let e,n,o;return{c(){e=P("button"),e.textContent="❌ Bulldoze",N(e,"id","bulldoze"),N(e,"class","px-2 py-2 bg-red-500 rounded hover:bg-red-600 transition duration-300 ease-in-out")},m(i,r){M(i,e,r),n||(o=ee(e,"click",t[13]),n=!0)},p:Ce,d(i){i&&I(e),n=!1,o()}}}function Df(t){let e,n,o=t[25]+"",i;return{c(){e=P("div"),n=B("Level "),i=B(o),N(e,"class","text-sm font-extralight pb-3")},m(r,l){M(r,e,l),v(e,n),v(e,i)},p(r,l){l[0]&72&&o!==(o=r[25]+"")&&ae(i,o)},d(r){r&&I(e)}}}function Lf(t){let e,n,o=t[28].active_costs.power+"",i;return{c(){e=P("span"),n=B("🔋"),i=B(o),N(e,"class","bg-yellow-300 text-xs text-black tex px-1 py-0.5 rounded-2xl absolute top-[-5px] right-[-2px]")},m(r,l){M(r,e,l),v(e,n),v(e,i)},p(r,l){l[0]&88&&o!==(o=r[28].active_costs.power+"")&&ae(i,o)},d(r){r&&I(e)}}}function Ff(t){let e,n,o=et(t[28].id,t[5]).length+"",i;return{c(){e=P("span"),n=B("x"),i=B(o),N(e,"class","bg-black text-xs text-white tex px-1 py-0.5 rounded-2xl absolute top-[-5px] left-[-2px]")},m(r,l){M(r,e,l),v(e,n),v(e,i)},p(r,l){l[0]&120&&o!==(o=et(r[28].id,r[5]).length+"")&&ae(i,o)},d(r){r&&I(e)}}}function qf(t){let e,n,o=vn(t[28].revenue_per_week,!1)+"",i,r;return{c(){e=P("br"),n=B(`
                            Makes 💰 `),i=B(o),r=B("/week")},m(l,a){M(l,e,a),M(l,n,a),M(l,i,a),M(l,r,a)},p(l,a){a[0]&88&&o!==(o=vn(l[28].revenue_per_week,!1)+"")&&ae(i,o)},d(l){l&&(I(e),I(n),I(i),I(r))}}}function jf(t){let e,n,o=vn(t[28].requirements.employees,!1)+"",i;return{c(){e=P("br"),n=B(`
                            Employs `),i=B(o)},m(r,l){M(r,e,l),M(r,n,l),M(r,i,l)},p(r,l){l[0]&88&&o!==(o=vn(r[28].requirements.employees,!1)+"")&&ae(i,o)},d(r){r&&(I(e),I(n),I(i))}}}function _4(t){let e,n,o,i=(t[28].selected?"✅":Js(t[28].title))+"",r,l,a,s=t[28].title.substring(2)+"",u,f,c,d=et(t[28].id,t[5]).length>0,p,h,_,y=vn(t[28].requirements.gold,!1)+"",w,C,k,D,G,L,j=t[28].active_costs.power>0&&Lf(t),F=d&&Ff(t),E=t[28].revenue_per_week>0&&qf(t),U=t[28].requirements.employees>0&&jf(t);return{c(){e=P("div"),n=P("div"),o=P("span"),r=B(i),l=V(),a=P("span"),u=B(s),f=V(),j&&j.c(),c=V(),F&&F.c(),p=V(),h=P("span"),_=B("Costs 💰 "),w=B(y),C=V(),E&&E.c(),k=V(),U&&U.c(),N(o,"class","text-md text-center"),N(a,"class","text-xs text-center font-bold mx-1"),N(n,"class","pt-2"),N(h,"style",D=t[28].styling),N(h,"class","text-xs text-center pt-4"),N(e,"class",G="plotOption cursor-pointer min-w-40 "+(t[6].isMineralSource||t[3].length>0?"mx-1 my-2":"")+" relative h-[120px] rounded-xl flex flex-col align-middle transition-all duration-100 "+(t[28].affordable||t[28].selected?"cursor-pointer":"opacity-25 cursor-not-allowed ")+" "+(t[28].selected?"border-4 border-yellow-200 opacity-100 rounded-none":"")),N(e,"data-plotoptionid",L=t[28].id),Je(e,"background-color",Zi(Te(t[28].id),!0))},m(b,g){M(b,e,g),v(e,n),v(n,o),v(o,r),v(n,l),v(n,a),v(a,u),v(e,f),j&&j.m(e,null),v(e,c),F&&F.m(e,null),v(e,p),v(e,h),v(h,_),v(h,w),v(h,C),E&&E.m(h,null),v(h,k),U&&U.m(h,null)},p(b,g){g[0]&88&&i!==(i=(b[28].selected?"✅":Js(b[28].title))+"")&&ae(r,i),g[0]&88&&s!==(s=b[28].title.substring(2)+"")&&ae(u,s),b[28].active_costs.power>0?j?j.p(b,g):(j=Lf(b),j.c(),j.m(e,c)):j&&(j.d(1),j=null),g[0]&120&&(d=et(b[28].id,b[5]).length>0),d?F?F.p(b,g):(F=Ff(b),F.c(),F.m(e,p)):F&&(F.d(1),F=null),g[0]&88&&y!==(y=vn(b[28].requirements.gold,!1)+"")&&ae(w,y),b[28].revenue_per_week>0?E?E.p(b,g):(E=qf(b),E.c(),E.m(h,k)):E&&(E.d(1),E=null),b[28].requirements.employees>0?U?U.p(b,g):(U=jf(b),U.c(),U.m(h,null)):U&&(U.d(1),U=null),g[0]&88&&D!==(D=b[28].styling)&&N(h,"style",D),g[0]&88&&G!==(G="plotOption cursor-pointer min-w-40 "+(b[6].isMineralSource||b[3].length>0?"mx-1 my-2":"")+" relative h-[120px] rounded-xl flex flex-col align-middle transition-all duration-100 "+(b[28].affordable||b[28].selected?"cursor-pointer":"opacity-25 cursor-not-allowed ")+" "+(b[28].selected?"border-4 border-yellow-200 opacity-100 rounded-none":""))&&N(e,"class",G),g[0]&88&&L!==(L=b[28].id)&&N(e,"data-plotoptionid",L),g[0]&88&&Je(e,"background-color",Zi(Te(b[28].id),!0))},d(b){b&&I(e),j&&j.d(),F&&F.d(),E&&E.d(),U&&U.d()}}}function g4(t){let e,n;return e=new Yd({props:{option:t[28]}}),{c(){z(e.$$.fragment)},m(o,i){Q(e,o,i),n=!0},p(o,i){const r={};i[0]&88&&(r.option=o[28]),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function b4(t){let e,n,o,i;return e=new ai({props:{$$slots:{default:[_4]},$$scope:{ctx:t}}}),o=new li({props:{$$slots:{default:[g4]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment),n=V(),z(o.$$.fragment)},m(r,l){Q(e,r,l),M(r,n,l),Q(o,r,l),i=!0},p(r,l){const a={};l[0]&120|l[1]&1&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l[0]&88|l[1]&1&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){T(e.$$.fragment,r),T(o.$$.fragment,r),i=!1},d(r){r&&I(n),x(e,r),x(o,r)}}}function Bf(t,e){let n,o,i;return o=new si({props:{openDelay:400,closeDelay:0,$$slots:{default:[b4]},$$scope:{ctx:e}}}),{key:t,first:null,c(){n=Re(),z(o.$$.fragment),this.first=n},m(r,l){M(r,n,l),Q(o,r,l),i=!0},p(r,l){e=r;const a={};l[0]&120|l[1]&1&&(a.$$scope={dirty:l,ctx:e}),o.$set(a)},i(r){i||(A(o.$$.fragment,r),i=!0)},o(r){T(o.$$.fragment,r),i=!1},d(r){r&&I(n),x(o,r)}}}function Vf(t){let e;return{c(){e=P("span"),e.textContent="No plots available!",N(e,"class","text-sm pt-2")},m(n,o){M(n,e,o)},d(n){n&&I(e)}}}function Gf(t){let e,n,o,i=[],r=new Map,l,a=t[4].filter(c).length===0&&t[3].length==0&&!t[6].isMineralSource,s,u,f;function c(...w){return t[15](t[25],...w)}let d=t[3].length==0&&!t[6].isMineralSource&&Df(t);function p(...w){return t[18](t[25],...w)}let h=Ye(t[3].length==0&&!t[6].isMineralSource?t[4].filter(p):t[4]);const _=w=>w[28].id;for(let w=0;w<h.length;w+=1){let C=Nf(t,h,w),k=_(C);r.set(k,i[w]=Bf(k,C))}let y=a&&Vf();return{c(){e=P("div"),d&&d.c(),n=V(),o=P("div");for(let w=0;w<i.length;w+=1)i[w].c();l=V(),y&&y.c(),u=V(),N(o,"class",s="flex flex-row text-start justify-start items-start flex-wrap "+(t[6].isMineralSource||t[3].length>0?"pt-0 gap-0":"pt-2 gap-4")+" w-full align-middle")},m(w,C){M(w,e,C),d&&d.m(e,null),v(e,n),v(e,o);for(let k=0;k<i.length;k+=1)i[k]&&i[k].m(o,null);v(o,l),y&&y.m(o,null),v(e,u),f=!0},p(w,C){t=w,t[3].length==0&&!t[6].isMineralSource?d?d.p(t,C):(d=Df(t),d.c(),d.m(e,n)):d&&(d.d(1),d=null),C[0]&120&&(h=Ye(t[3].length==0&&!t[6].isMineralSource?t[4].filter(p):t[4]),Pe(),i=_m(i,C,_,1,t,h,r,o,hm,Bf,l,Nf),Oe()),C[0]&88&&(a=t[4].filter(c).length===0&&t[3].length==0&&!t[6].isMineralSource),a?y||(y=Vf(),y.c(),y.m(o,null)):y&&(y.d(1),y=null),(!f||C[0]&72&&s!==(s="flex flex-row text-start justify-start items-start flex-wrap "+(t[6].isMineralSource||t[3].length>0?"pt-0 gap-0":"pt-2 gap-4")+" w-full align-middle"))&&N(o,"class",s)},i(w){if(!f){for(let C=0;C<h.length;C+=1)A(i[C]);f=!0}},o(w){for(let C=0;C<i.length;C+=1)T(i[C]);f=!1},d(w){w&&I(e),d&&d.d();for(let C=0;C<i.length;C+=1)i[C].d();y&&y.d()}}}function v4(t){let e,n,o=t[2]&&Ef(t);return{c(){o&&o.c(),e=Re()},m(i,r){o&&o.m(i,r),M(i,e,r),n=!0},p(i,r){i[2]?o?(o.p(i,r),r[0]&4&&A(o,1)):(o=Ef(i),o.c(),A(o,1),o.m(e.parentNode,e)):o&&(Pe(),T(o,1,1,()=>{o=null}),Oe())},i(i){n||(A(o),n=!0)},o(i){T(o),n=!1},d(i){i&&I(e),o&&o.d(i)}}}function y4(t,e,n){let o,i,r;fe(t,Le,b=>n(5,o=b)),fe(t,Qe,b=>n(6,i=b)),fe(t,Cc,b=>n(7,r=b));let{x:l=0}=e,{y:a=0}=e,{open:s=!1}=e,{tooltip:u=""}=e,f="",c=ie,d;const p=Math.round(window.innerHeight*.2)+"px";let h=c.map(b=>Object.assign(Object.assign({},b),{affordable:w(b,o),selected:y(b)}));function _(b){n(3,f=b.target.value||"")}function y(b){return o.plots[l][a].type>-1?c[o.plots[l][a].type].id===b.id:!1}function w(b,g){let S=!0;b.requirements.gold>g.townInfo.gold&&(S=!1);let O=g.townInfo.population_count-g.townInfo.employees;return b.requirements.employees!==void 0&&b.requirements.employees>0&&b.requirements.employees>O&&(S=!1),b.requirements.knowledge!==void 0&&b.requirements.knowledge>g.townInfo.knowledge_points&&(S=!1),b.requirements.resources!==void 0&&Object.keys(b.requirements.resources).forEach(H=>{o.resources[H]<b.requirements.resources[H]&&(S=!1)}),S}function C(b){const g=b.target.closest(".plotOption");if(g){const S=g.dataset.plotoptionid;k(S)}}function k(b){document.querySelectorAll(".plotOption").forEach(O=>{O.classList.remove("active")});const S=document.querySelector(`[data-plotoptionid="${b}"]`);S&&(S.classList.add("active"),G(l,a,b))}function D(b,g){if(i.isMineralSource)return!1;let S=0;return b>0&&o.plots[b-1][g].type!==-1&&S++,b<o.plots.length-1&&o.plots[b+1][g].type!==-1&&S++,g>0&&o.plots[b][g-1].type!==-1&&S++,g<o.plots[0].length-1&&o.plots[b][g+1].type!==-1&&S++,S<=4}function G(b,g,S){let O=o;const H=ie.findIndex(Z=>Z.id===S);let R=ie[H];if(w(R,o)==!1)return alert(`${JSON.stringify(R.requirements)}`);if(R.requirements.adjacent_plots!==void 0){let Z=R.requirements.adjacent_plots;if(cp(b,g,O,R.requirements.adjacent_plots)===!1)return alert(`This plot requires adjacent plots of type: ${Z.join(", ")}`)}let J=!0;if((R.requirements.gold>O.townInfo.gold||R.requirements.employees>O.townInfo.population_count-O.townInfo.employees)&&(J=!1),R.requirements.size!=null&&R.requirements.size!=1&&J){let m=function($,K){let Y={x:$,y:K};return Y.x===0&&Y.y===0?!0:[{x:Y.x-1,y:Y.y},{x:Y.x+1,y:Y.y},{x:Y.x,y:Y.y-1},{x:Y.x,y:Y.y+1}].some(ue=>ue.x<0||ue.x>o.plots.length-1||ue.y<0||ue.y>o.plots.length-1?!1:o.plots[ue.x][ue.y].active)};var te=m;let Z=R.requirements.size,W=[],ne=c[H].title.toLowerCase().indexOf("school")!=-1;for(let $=0;$<4;$++){let K=[[b,g]];$===0?(K.push([b-(Z-1),g-(Z-1)]),K.push([b-(Z-1),g]),K.push([b,g-(Z-1)])):$===1?(K.push([b,g-(Z-1)]),K.push([b+(Z-1),g-(Z-1)]),K.push([b+(Z-1),g])):$===2?(K.push([b-(Z-1),g]),K.push([b-(Z-1),g+(Z-1)]),K.push([b,g+(Z-1)])):$===3&&(K.push([b,g+(Z-1)]),K.push([b+(Z-1),g+(Z-1)]),K.push([b+(Z-1),g])),W.push(K)}W=W.filter($=>$.every(K=>K[0]>=0&&K[0]<=O.plots.length-1&&K[1]>=0&&K[1]<=O.plots.length-1&&!O.plots[K[0]][K[1]].active&&m(K[0],K[1])==!0)),W.length===0?J=!1:W.length>0&&W[0].forEach(K=>{O.plots[K[0]][K[1]].active=!0,O.plots[K[0]][K[1]].type=ne?-3:-2,O.plots[K[0]][K[1]].referencePlot=[b,g]})}if(J===!0){if(O.plots[b][g].type!==-1&&Qi(b,g,O),n(14,u=""),O.plots[b][g].type=H,O.plots[b][g].active=!0,O.plots[b][g].referencePlot=[],O.plots[b][g].typeId=R.id,O.townInfo.gold-=R.requirements.gold,O.townInfo.gold=it(O.townInfo.gold,2),O.townInfo.population_count+=R.immediate_variable_changes.population,O.townInfo.population_max+=R.immediate_variable_changes.population,O.townInfo.happiness+=R.immediate_variable_changes.happiness,O.townInfo.health+=R.immediate_variable_changes.health,O.modifiers.happiness=it(O.modifiers.happiness*R.effect_modifiers.happiness,2),O.modifiers.health=it(O.modifiers.health*R.effect_modifiers.health,2),O.townInfo.employees+=R.requirements.employees,(O.plotCounts[H]===void 0||O.plotCounts[H]===null)&&(O.plotCounts[H]=0),O.plotCounts[H]++,O.lastChangeDay=O.environment.day,R.requirements.resources!==void 0){const W=R.requirements.resources;O.resources.food-=W.food,O.resources.wood-=W.wood,O.resources.stone-=W.stone,O.resources.metal-=W.metal}switch(R.id){case"city_hall":O.hasCityHall=!0;break;case"bank":O.hasBank=!0;break}Le.set(O),localStorage.setItem(Lt,JSON.stringify(O));let Z=!1;for(let W=b;W<O.plots.length;W++){for(let ne=g;ne<O.plots[W].length;ne++)if(O.plots[W][ne].active===!1&&O.plots[W][ne].mineralSource==!1&&O.plots[W][ne].water==!1){b=W,g=ne,Z=!0;break}if(Z)break}Ee(Qe,i.x=b,i),Ee(Qe,i.y=g,i)}else n(14,u="You do not have enough resources to purchase this plot. If it's a 'Large' plot, make sure you have a 2x2 area available. "),document.querySelectorAll(".plotOption").forEach(W=>{W.classList.remove("active")})}function L(){document.querySelectorAll(".plotOption").forEach(g=>{g.classList.remove("active")}),Qi(l,a,o)}const j=(b,g)=>g.level===b;function F(b){Ie[b?"unshift":"push"](()=>{d=b,n(8,d)})}const E=()=>{Im()},U=(b,g)=>g.level===b;return t.$$set=b=>{"x"in b&&n(0,l=b.x),"y"in b&&n(1,a=b.y),"open"in b&&n(2,s=b.open),"tooltip"in b&&n(14,u=b.tooltip)},t.$$.update=()=>{t.$$.dirty[0]&240&&o&&(n(4,h=c.map(b=>Object.assign(Object.assign({},b),{affordable:w(b,o),selected:y(b)}))),i.isMineralSource&&n(4,h=h.filter(b=>b.id==="mine")),r&&n(4,h=h.filter(b=>b.affordable)),Object.keys($s).forEach(b=>{let g=$s[b];if(g>0){let S=et(b,o).length;n(4,h=h.filter(O=>O.id!==b||S<g))}}),h.sort((b,g)=>b.selected&&!g.selected?-1:0)),t.$$.dirty[0]&24&&n(4,h=h.filter(b=>b.title.toLowerCase().includes(f.toLowerCase())))},[l,a,s,f,h,o,i,r,d,p,_,C,D,L,u,j,F,E,U]}class Xd extends we{constructor(e){super(),ye(this,e,y4,v4,ce,{x:0,y:1,open:2,tooltip:14},null,[-1,-1])}}function w4(t){return{c:Ce,m:Ce,p:Ce,d:Ce}}function k4(t){let e,n,o,i=ie[t[0].type].title.substring(0,2)+"",r,l,a,s,u,f=ie[t[0].type].title.substring(2)+"",c,d,p,h;return{c(){e=P("div"),n=P("span"),o=P("span"),r=B(i),l=V(),a=P("br"),s=V(),u=P("span"),c=B(f),N(o,"class","text-lg align-text-top select-none"),N(u,"class","text-xs align-text-top font-normal text-black from-stone-600 select-none"),N(n,"data-size",d=ie[t[0].type].requirements.size),N(n,"data-x",p=t[0].x),N(n,"data-y",h=t[0].y),N(e,"class","svelte-9dbw4v")},m(_,y){M(_,e,y),v(e,n),v(n,o),v(o,r),v(n,l),v(n,a),v(n,s),v(n,u),v(u,c)},p(_,y){y&1&&i!==(i=ie[_[0].type].title.substring(0,2)+"")&&ae(r,i),y&1&&f!==(f=ie[_[0].type].title.substring(2)+"")&&ae(c,f),y&1&&d!==(d=ie[_[0].type].requirements.size)&&N(n,"data-size",d),y&1&&p!==(p=_[0].x)&&N(n,"data-x",p),y&1&&h!==(h=_[0].y)&&N(n,"data-y",h)},d(_){_&&I(e)}}}function Hf(t){let e;return{c(){e=P("span"),e.textContent="🧲",N(e,"class","text-lg")},m(n,o){M(n,e,o)},d(n){n&&I(e)}}}function C4(t){let e,n,o,i,r,l,a,s,u,f,c,d,p,h,_,y,w,C,k;function D(F,E){if(F[0].type>-1)return k4;if(F[0].type==-1&&F[0].x==0&&F[0].y==0)return w4}let G=D(t),L=G&&G(t),j=t[0].mineralSource&&t[0].type==-1&&Hf();return{c(){e=P("button"),L&&L.c(),n=V(),j&&j.c(),N(e,"class",o="plot_container "+t[1]+" overflow-visible "+(t[0].type==-1&&t[2]==!1,"")+" "+(t[0].mineralSource?"hidden":"")+" "+(t[2]?"cursor-pointer":"cursor-not-allowed")+" "+(t[0].disabled?"animate-spin":"")+" svelte-9dbw4v"),Je(e,"background-color",t[0].water?"bg-blue-900 opacity-100":t[4].x==t[0].x&&t[4].y==t[0].y&&t[4].visible?"white":t[0].mineralSource?"black":Zi(t[0].type,t[2])),N(e,"data-active",i=t[0].active),N(e,"data-hidehoveranimation",r=t[4].visible||t[0].type==-1&&t[0].x==0&&t[0].y==0),N(e,"data-id",l=t[0].id),N(e,"data-x",a=t[0].x),N(e,"data-y",s=t[0].y),N(e,"data-optionindex",u=t[0].optionIndex),N(e,"data-canbeupgraded",t[2]),N(e,"data-type",f=t[0].type),N(e,"data-type-id",c=t[0].typeId),N(e,"data-refplotx",d=t[0].referencePlot!==void 0?t[0].referencePlot[1]:null),N(e,"data-refploty",p=t[0].referencePlot!==void 0?t[0].referencePlot[0]:null),N(e,"data-size",h=t[0].type>-1?ie[t[0].type].requirements.size:null),N(e,"data-mineralsource",_=t[0].mineralSource),N(e,"data-water",y=t[0].water),N(e,"data-nearwater",w=Rn(t[0].x,t[0].y,t[5]))},m(F,E){M(F,e,E),L&&L.m(e,null),v(e,n),j&&j.m(e,null),C||(k=ee(e,"click",t[6]),C=!0)},p(F,E){G===(G=D(F))&&L?L.p(F,E):(L&&L.d(1),L=G&&G(F),L&&(L.c(),L.m(e,n))),F[0].mineralSource&&F[0].type==-1?j||(j=Hf(),j.c(),j.m(e,null)):j&&(j.d(1),j=null),E&7&&o!==(o="plot_container "+F[1]+" overflow-visible "+(F[0].type==-1&&F[2]==!1,"")+" "+(F[0].mineralSource?"hidden":"")+" "+(F[2]?"cursor-pointer":"cursor-not-allowed")+" "+(F[0].disabled?"animate-spin":"")+" svelte-9dbw4v")&&N(e,"class",o),E&21&&Je(e,"background-color",F[0].water?"bg-blue-900 opacity-100":F[4].x==F[0].x&&F[4].y==F[0].y&&F[4].visible?"white":F[0].mineralSource?"black":Zi(F[0].type,F[2])),E&1&&i!==(i=F[0].active)&&N(e,"data-active",i),E&17&&r!==(r=F[4].visible||F[0].type==-1&&F[0].x==0&&F[0].y==0)&&N(e,"data-hidehoveranimation",r),E&1&&l!==(l=F[0].id)&&N(e,"data-id",l),E&1&&a!==(a=F[0].x)&&N(e,"data-x",a),E&1&&s!==(s=F[0].y)&&N(e,"data-y",s),E&1&&u!==(u=F[0].optionIndex)&&N(e,"data-optionindex",u),E&4&&N(e,"data-canbeupgraded",F[2]),E&1&&f!==(f=F[0].type)&&N(e,"data-type",f),E&1&&c!==(c=F[0].typeId)&&N(e,"data-type-id",c),E&1&&d!==(d=F[0].referencePlot!==void 0?F[0].referencePlot[1]:null)&&N(e,"data-refplotx",d),E&1&&p!==(p=F[0].referencePlot!==void 0?F[0].referencePlot[0]:null)&&N(e,"data-refploty",p),E&1&&h!==(h=F[0].type>-1?ie[F[0].type].requirements.size:null)&&N(e,"data-size",h),E&1&&_!==(_=F[0].mineralSource)&&N(e,"data-mineralsource",_),E&1&&y!==(y=F[0].water)&&N(e,"data-water",y),E&33&&w!==(w=Rn(F[0].x,F[0].y,F[5]))&&N(e,"data-nearwater",w)},d(F){F&&I(e),L&&L.d(),j&&j.d(),C=!1,k()}}}function Wf(t){let e;return{c(){e=B("Water - Place farms nearby for more food & revenue!")},m(n,o){M(n,e,o)},d(n){n&&I(e)}}}function $f(t){let e;return{c(){e=P("span"),e.textContent="Near water - Generating more food & revenue!",N(e,"class","text-xs bg-blue-500 text-white p-1")},m(n,o){M(n,e,o)},d(n){n&&I(e)}}}function Kf(t){let e,n;return e=new Yd({props:{option:t[3],checkRequirements:!1}}),{c(){z(e.$$.fragment)},m(o,i){Q(e,o,i),n=!0},p(o,i){const r={};i&8&&(r.option=o[3]),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function A4(t){let e,n,o=Rn(t[0].x,t[0].y,t[5]),i,r,l=t[0].water&&Wf(),a=o&&$f(),s=t[0].active&&Kf(t);return{c(){e=P("div"),l&&l.c(),n=V(),a&&a.c(),i=V(),s&&s.c(),N(e,"class","flex flex-col gap-2")},m(u,f){M(u,e,f),l&&l.m(e,null),v(e,n),a&&a.m(e,null),v(e,i),s&&s.m(e,null),r=!0},p(u,f){u[0].water?l||(l=Wf(),l.c(),l.m(e,n)):l&&(l.d(1),l=null),f&33&&(o=Rn(u[0].x,u[0].y,u[5])),o?a||(a=$f(),a.c(),a.m(e,i)):a&&(a.d(1),a=null),u[0].active?s?(s.p(u,f),f&1&&A(s,1)):(s=Kf(u),s.c(),A(s,1),s.m(e,null)):s&&(Pe(),T(s,1,1,()=>{s=null}),Oe())},i(u){r||(A(s),r=!0)},o(u){T(s),r=!1},d(u){u&&I(e),l&&l.d(),a&&a.d(),s&&s.d()}}}function S4(t){let e,n,o,i;return e=new ai({props:{$$slots:{default:[C4]},$$scope:{ctx:t}}}),o=new li({props:{class:t[0].type<0&&!t[0].water?"hidden":"",$$slots:{default:[A4]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment),n=V(),z(o.$$.fragment)},m(r,l){Q(e,r,l),M(r,n,l),Q(o,r,l),i=!0},p(r,l){const a={};l&1079&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&1&&(s.class=r[0].type<0&&!r[0].water?"hidden":""),l&1065&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){T(e.$$.fragment,r),T(o.$$.fragment,r),i=!1},d(r){r&&I(n),x(e,r),x(o,r)}}}function T4(t){let e,n;return e=new si({props:{openDelay:400,closeDelay:0,$$slots:{default:[S4]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment)},m(o,i){Q(e,o,i),n=!0},p(o,[i]){const r={};i&1087&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function I4(t,e,n){let o,i,r,l;fe(t,Qe,p=>n(4,o=p)),fe(t,Le,p=>n(5,i=p)),fe(t,Pt,p=>n(8,r=p)),fe(t,fo,p=>n(9,l=p));let{data:a={id:0,active:!1,x:0,y:0,type:-1,styling:"",referencePlot:[],mineralSource:!1,disabled:!1,water:!1}}=e,s,{classText:u=""}=e,{canBeUpgraded:f=!1}=e;function c(p,h,_){let y=document.querySelectorAll(".plot_container");if(r==!1){if(a.referencePlot!=null&&a.referencePlot[0]!==null&&h==null&&_==null&&a.referencePlot[1]!==void 0)return c(p,a.referencePlot[0],a.referencePlot[1]);!a.active&&!f?(Ee(fo,l={},l),Ee(Qe,o.visible=!1,o),y.forEach(w=>{w.classList.remove("selected")})):(h!=null&&_!=null?(Ee(Qe,o.x=h,o),Ee(Qe,o.y=_,o)):(Ee(Qe,o.x=a.x,o),Ee(Qe,o.y=a.y,o)),Ee(Qe,o.isMineralSource=a.mineralSource,o),Ee(Qe,o.visible=!0,o),y.forEach(w=>{w.classList.remove("selected")}),h!=null&&_!=null?document.querySelector(`.plot_container[data-x="${h}"][data-y="${_}"]`).classList.add("selected"):document.querySelector(`.plot_container[data-id="${a.id}"]`).classList.add("selected"))}}function d(p){r==!1&&(Ee(Le,i.plots[a.x][a.y].type=p,i),Ee(Qe,o.visible=!1,o))}return t.$$set=p=>{"data"in p&&n(0,a=p.data),"classText"in p&&n(1,u=p.classText),"canBeUpgraded"in p&&n(2,f=p.canBeUpgraded)},t.$$.update=()=>{t.$$.dirty&1&&a.type>-1&&n(3,s=ie[a.type])},[a,u,f,s,o,i,c,d]}class M4 extends we{constructor(e){super(),ye(this,e,I4,T4,ce,{data:0,classText:1,canBeUpgraded:2,changePlotType:7})}get changePlotType(){return this.$$.ctx[7]}}function Uf(t,e,n){const o=t.slice();return o[6]=e[n],o[8]=n,o}function Yf(t,e,n){const o=t.slice();return o[9]=e[n],o}function Xf(t){let e,n,o,i=t[3],r,l,a=Ye(t[2].plots),s=[];for(let c=0;c<a.length;c+=1)s[c]=Zf(Uf(t,a,c));const u=c=>T(s[c],1,1,()=>{s[c]=null});let f=xf(t);return{c(){e=P("div"),n=P("div");for(let c=0;c<s.length;c+=1)s[c].c();o=V(),f.c(),r=Re(),N(n,"class","grid overflow-x-scroll overflow-y-scroll plot_controller svelte-12aovn0"),N(e,"id","plotContainerMain"),N(e,"class","absolute left-[170px] top-[170px] overflow-scroll pl-32 pt-32 pb-80 pr-80")},m(c,d){M(c,e,d),v(e,n);for(let p=0;p<s.length;p+=1)s[p]&&s[p].m(n,null);M(c,o,d),f.m(c,d),M(c,r,d),l=!0},p(c,d){if(d&7){a=Ye(c[2].plots);let p;for(p=0;p<a.length;p+=1){const h=Uf(c,a,p);s[p]?(s[p].p(h,d),A(s[p],1)):(s[p]=Zf(h),s[p].c(),A(s[p],1),s[p].m(n,null))}for(Pe(),p=a.length;p<s.length;p+=1)u(p);Oe()}d&8&&ce(i,i=c[3])?(Pe(),T(f,1,1,Ce),Oe(),f=xf(c),f.c(),A(f,1),f.m(r.parentNode,r)):f.p(c,d)},i(c){if(!l){for(let d=0;d<a.length;d+=1)A(s[d]);A(f),l=!0}},o(c){s=s.filter(Boolean);for(let d=0;d<s.length;d+=1)T(s[d]);T(f),l=!1},d(c){c&&(I(e),I(o),I(r)),wt(s,c),f.d(c)}}}function Jf(t){let e,n;return e=new M4({props:{classText:"hexagon",data:t[9],canBeUpgraded:t[0](t[9].x,t[9].y)}}),{c(){z(e.$$.fragment)},m(o,i){Q(e,o,i),n=!0},p(o,i){const r={};i&4&&(r.data=o[9]),i&4&&(r.canBeUpgraded=o[0](o[9].x,o[9].y)),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function Zf(t){let e,n,o,i,r,l=Ye(t[6]),a=[];for(let u=0;u<l.length;u+=1)a[u]=Jf(Yf(t,l,u));const s=u=>T(a[u],1,1,()=>{a[u]=null});return{c(){e=P("div");for(let u=0;u<a.length;u+=1)a[u].c();n=V(),N(e,"class","row "+(t[8]%2!==0?"odd-row":"")+" svelte-12aovn0")},m(u,f){M(u,e,f);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(e,null);v(e,n),o=!0,i||(r=ee(e,"click",t[1]),i=!0)},p(u,f){if(f&5){l=Ye(u[6]);let c;for(c=0;c<l.length;c+=1){const d=Yf(u,l,c);a[c]?(a[c].p(d,f),A(a[c],1)):(a[c]=Jf(d),a[c].c(),A(a[c],1),a[c].m(e,n))}for(Pe(),c=l.length;c<a.length;c+=1)s(c);Oe()}},i(u){if(!o){for(let f=0;f<l.length;f+=1)A(a[f]);o=!0}},o(u){a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)T(a[f]);o=!1},d(u){u&&I(e),wt(a,u),i=!1,r()}}}function Qf(t){let e,n;return e=new Xd({props:{x:t[4].x,y:t[4].y,open:t[4].visible}}),{c(){z(e.$$.fragment)},m(o,i){Q(e,o,i),n=!0},p(o,i){const r={};i&16&&(r.x=o[4].x),i&16&&(r.y=o[4].y),i&16&&(r.open=o[4].visible),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function xf(t){let e,n,o=t[4].visible&&Qf(t);return{c(){o&&o.c(),e=Re()},m(i,r){o&&o.m(i,r),M(i,e,r),n=!0},p(i,r){i[4].visible?o?(o.p(i,r),r&16&&A(o,1)):(o=Qf(i),o.c(),A(o,1),o.m(e.parentNode,e)):o&&(Pe(),T(o,1,1,()=>{o=null}),Oe())},i(i){n||(A(o),n=!0)},o(i){T(o),n=!1},d(i){i&&I(e),o&&o.d(i)}}}function P4(t){let e,n,o=t[2]!=null&&Xf(t);return{c(){o&&o.c(),e=Re()},m(i,r){o&&o.m(i,r),M(i,e,r),n=!0},p(i,[r]){i[2]!=null?o?(o.p(i,r),r&4&&A(o,1)):(o=Xf(i),o.c(),A(o,1),o.m(e.parentNode,e)):o&&(Pe(),T(o,1,1,()=>{o=null}),Oe())},i(i){n||(A(o),n=!0)},o(i){T(o),n=!1},d(i){i&&I(e),o&&o.d(i)}}}function O4(t,e,n){let o,i,r;fe(t,fo,u=>n(3,o=u)),fe(t,Le,u=>n(2,i=u)),fe(t,Qe,u=>n(4,r=u)),document.addEventListener("click",function(u){const f=u.target;(f.dataset.x==null&&f.dataset.type!="-1"&&f.dataset.size!=null||f.id=="plotContainerMain"||f.classList.contains("row")||f.classList.contains("grid"))&&Ee(Qe,r.visible=!1,r)});function l(u,f){let c={x:u,y:f};return c.x===0&&c.y===0?!0:[{x:c.x-1,y:c.y},{x:c.x+1,y:c.y},{x:c.x,y:c.y-1},{x:c.x,y:c.y+1}].some(p=>p.x<0||p.x>=i.plots.length||p.y<0||p.y>=i.plots[p.x].length?!1:i.plots[p.x][p.y].active)}function a(){let u=[];for(let f=0;f<i.plots.length;f++)for(let c=0;c<i.plots.length;c++)l(f,c)&&i.plots[f][c].active==!1&&u.push(i.plots[f][c])}function s(){Ee(fo,o={},o)}return t.$$.update=()=>{t.$$.dirty&4&&i&&a()},[l,s,i,o,r]}class N4 extends we{constructor(e){super(),ye(this,e,O4,P4,ce,{checkIfPlotCanBeUpgraded:0,restartModifyPlotMenu:1})}get checkIfPlotCanBeUpgraded(){return this.$$.ctx[0]}get restartModifyPlotMenu(){return this.$$.ctx[1]}}function zf(t,e,n){const o=t.slice();return o[2]=e[n],o}function ec(t){let e;return{c(){e=P("span"),e.textContent="No alerts in the last 30d",N(e,"class","text-sm italic text-center opacity-70")},m(n,o){M(n,e,o)},d(n){n&&I(e)}}}function tc(t){let e,n=t[2]+"",o,i,r;return{c(){e=P("p"),o=B(n),i=V(),r=P("br"),N(e,"class","text-xs")},m(l,a){M(l,e,a),v(e,o),M(l,i,a),M(l,r,a)},p(l,a){a&2&&n!==(n=l[2]+"")&&ae(o,n)},d(l){l&&(I(e),I(i),I(r))}}}function E4(t){let e,n,o,i,r,l,a,s,u=t[1].townLog==""&&ec(),f=Ye(t[1].townLog.split(`
`)),c=[];for(let d=0;d<f.length;d+=1)c[d]=tc(zf(t,f,d));return{c(){e=P("div"),n=P("div"),o=P("h1"),o.textContent="Alerts",i=V(),u&&u.c(),r=V();for(let d=0;d<c.length;d+=1)c[d].c();l=V(),a=P("ul"),a.innerHTML="",N(o,"class","text-xl w-full pb-2 text-center "),N(a,"class","list-disc pl-5 gap-2 flex flex-col text-xs "),N(n,"class",s="bg-foreground w-[160px] border-foregroundDark border-4 "+(t[0].visible?"bottom-8  opacity-70":"bottom-2")+" z-10 fixed left-3 p-3 top-[190px] drop-shadow-xl rounded-xl transition-all duration-300"),N(e,"class","flex flex-row text-foregroundText")},m(d,p){M(d,e,p),v(e,n),v(n,o),v(n,i),u&&u.m(n,null),v(n,r);for(let h=0;h<c.length;h+=1)c[h]&&c[h].m(n,null);v(n,l),v(n,a)},p(d,[p]){if(d[1].townLog==""?u||(u=ec(),u.c(),u.m(n,r)):u&&(u.d(1),u=null),p&2){f=Ye(d[1].townLog.split(`
`));let h;for(h=0;h<f.length;h+=1){const _=zf(d,f,h);c[h]?c[h].p(_,p):(c[h]=tc(_),c[h].c(),c[h].m(n,l))}for(;h<c.length;h+=1)c[h].d(1);c.length=f.length}p&1&&s!==(s="bg-foreground w-[160px] border-foregroundDark border-4 "+(d[0].visible?"bottom-8  opacity-70":"bottom-2")+" z-10 fixed left-3 p-3 top-[190px] drop-shadow-xl rounded-xl transition-all duration-300")&&N(n,"class",s)},i:Ce,o:Ce,d(d){d&&I(e),u&&u.d(),wt(c,d)}}}function R4(t,e,n){let o,i;return fe(t,Qe,r=>n(0,o=r)),fe(t,Le,r=>n(1,i=r)),[o,i]}class D4 extends we{constructor(e){super(),ye(this,e,R4,E4,ce,{})}}function nc(t,e,n){const o=t.slice();return o[5]=e[n],o}function oc(t){let e,n;return e=new j1({props:{thumb:t[5],class:"block h-5 w-5 rounded-full border-2 border-primary bg-accent ring-accent transition-colors focus-visible:outline-none  disabled:pointer-events-none disabled:opacity-50"}}),{c(){z(e.$$.fragment)},m(o,i){Q(e,o,i),n=!0},p(o,i){const r={};i&16&&(r.thumb=o[5]),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function L4(t){let e,n,o,i,r;n=new E1({props:{class:"absolute h-full bg-primary"}});let l=Ye(t[4]),a=[];for(let u=0;u<l.length;u+=1)a[u]=oc(nc(t,l,u));const s=u=>T(a[u],1,1,()=>{a[u]=null});return{c(){e=P("span"),z(n.$$.fragment),o=V();for(let u=0;u<a.length;u+=1)a[u].c();i=Re(),N(e,"class","relative h-2 w-full grow overflow-hidden rounded-full bg-textPrimary")},m(u,f){M(u,e,f),Q(n,e,null),M(u,o,f);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(u,f);M(u,i,f),r=!0},p(u,f){if(f&16){l=Ye(u[4]);let c;for(c=0;c<l.length;c+=1){const d=nc(u,l,c);a[c]?(a[c].p(d,f),A(a[c],1)):(a[c]=oc(d),a[c].c(),A(a[c],1),a[c].m(i.parentNode,i))}for(Pe(),c=l.length;c<a.length;c+=1)s(c);Oe()}},i(u){if(!r){A(n.$$.fragment,u);for(let f=0;f<l.length;f+=1)A(a[f]);r=!0}},o(u){T(n.$$.fragment,u),a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)T(a[f]);r=!1},d(u){u&&(I(e),I(o),I(i)),x(n),wt(a,u)}}}function F4(t){let e,n,o;const i=[{class:Fe("relative flex w-full touch-none select-none items-center",t[1])},t[2]];function r(a){t[3](a)}let l={$$slots:{default:[L4,({thumbs:a})=>({4:a}),({thumbs:a})=>a?16:0]},$$scope:{ctx:t}};for(let a=0;a<i.length;a+=1)l=X(l,i[a]);return t[0]!==void 0&&(l.value=t[0]),e=new T1({props:l}),Ie.push(()=>Gn(e,"value",r)),{c(){z(e.$$.fragment)},m(a,s){Q(e,a,s),o=!0},p(a,[s]){const u=s&6?ve(i,[s&2&&{class:Fe("relative flex w-full touch-none select-none items-center",a[1])},s&4&&rt(a[2])]):{};s&272&&(u.$$scope={dirty:s,ctx:a}),!n&&s&1&&(n=!0,u.value=a[0],Vn(()=>n=!1)),e.$set(u)},i(a){o||(A(e.$$.fragment,a),o=!0)},o(a){T(e.$$.fragment,a),o=!1},d(a){x(e,a)}}}function q4(t,e,n){const o=["class","value"];let i=re(e,o),{class:r=void 0}=e,{value:l=[0]}=e;function a(s){l=s,n(0,l)}return t.$$set=s=>{e=X(X({},e),Ne(s)),n(2,i=re(e,o)),"class"in s&&n(1,r=s.class),"value"in s&&n(0,l=s.value)},[l,r,i,a]}class ic extends we{constructor(e){super(),ye(this,e,q4,F4,ce,{class:1,value:0})}}function rc(t,e,n){const o=t.slice();return o[7]=e[n].icon,o[8]=e[n].name,o[9]=e[n].value,o[10]=e[n].rate,o}function lc(t,e,n){const o=t.slice();return o[13]=e[n],o}function j4(t){let e;return{c(){e=P("div"),e.innerHTML=`Resources are generated from plots. Generation rate can be increased
            by raising the productivity of the town, at the cost of some
            happiness.
            <br/> <br/>
            There is also a slight bit of randomness as townspeople aren&#39;t robots.`,N(e,"class","text-sm")},m(n,o){M(n,e,o)},p:Ce,d(n){n&&I(e)}}}function B4(t){let e,n,o,i;return o=new li({props:{class:"text-sm w-[200px]",$$slots:{default:[j4]},$$scope:{ctx:t}}}),{c(){e=P("div"),e.innerHTML='<h1 class="text-xl w-full text-center">Resources</h1> <button class="text-textPrimary text-sm">ℹ️</button>',n=V(),z(o.$$.fragment),N(e,"class","flex flex-row items-center pb-2 gap-2")},m(r,l){M(r,e,l),M(r,n,l),Q(o,r,l),i=!0},p(r,l){const a={};l&65536&&(a.$$scope={dirty:l,ctx:r}),o.$set(a)},i(r){i||(A(o.$$.fragment,r),i=!0)},o(r){T(o.$$.fragment,r),i=!1},d(r){r&&(I(e),I(n)),x(o,r)}}}function V4(t){let e,n;return e=new ai({props:{$$slots:{default:[B4]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment)},m(o,i){Q(e,o,i),n=!0},p(o,i){const r={};i&65536&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function G4(t){let e,n,o=t[10]+"",i;return{c(){e=P("span"),n=B("+"),i=B(o),N(e,"class","text-textPrimary")},m(r,l){M(r,e,l),v(e,n),v(e,i)},p(r,l){l&2&&o!==(o=r[10]+"")&&ae(i,o)},d(r){r&&I(e)}}}function H4(t){let e;return{c(){e=P("span")},m(n,o){M(n,e,o)},p:Ce,d(n){n&&I(e)}}}function W4(t){let e,n=t[10]+"",o;return{c(){e=P("span"),o=B(n),N(e,"class","text-textDanger2")},m(i,r){M(i,e,r),v(e,o)},p(i,r){r&2&&n!==(n=i[10]+"")&&ae(o,n)},d(i){i&&I(e)}}}function $4(t){let e,n,o=t[10]+"",i;return{c(){e=P("span"),n=B("+"),i=B(o),N(e,"class","text-textHappy")},m(r,l){M(r,e,l),v(e,n),v(e,i)},p(r,l){l&2&&o!==(o=r[10]+"")&&ae(i,o)},d(r){r&&I(e)}}}function K4(t){let e;return{c(){e=P("span"),N(e,"class","display-none")},m(n,o){M(n,e,o)},p:Ce,d(n){n&&I(e)}}}function U4(t){let e,n,o=t[10]+"",i,r;return{c(){e=P("span"),n=B("+"),i=B(o),r=B(" (weekly)"),N(e,"class","")},m(l,a){M(l,e,a),v(e,n),v(e,i),v(e,r)},p(l,a){a&2&&o!==(o=l[10]+"")&&ae(i,o)},d(l){l&&I(e)}}}function Y4(t){let e,n=t[10]+"",o,i;return{c(){e=P("span"),o=B(n),i=B(" (weekly)"),N(e,"class","text-textDanger2")},m(r,l){M(r,e,l),v(e,o),v(e,i)},p(r,l){l&2&&n!==(n=r[10]+"")&&ae(o,n)},d(r){r&&I(e)}}}function X4(t){let e,n,o=t[10]+"",i,r;return{c(){e=P("span"),n=B("+"),i=B(o),r=B(" (weekly)"),N(e,"class","text-textHappy")},m(l,a){M(l,e,a),v(e,n),v(e,i),v(e,r)},p(l,a){a&2&&o!==(o=l[10]+"")&&ae(i,o)},d(l){l&&I(e)}}}function sc(t){let e,n,o,i;return e=new At({}),{c(){z(e.$$.fragment),n=V(),o=P("span"),o.textContent="Required for",N(o,"class","text-sm font-semibold")},m(r,l){Q(e,r,l),M(r,n,l),M(r,o,l),i=!0},i(r){i||(A(e.$$.fragment,r),i=!0)},o(r){T(e.$$.fragment,r),i=!1},d(r){r&&(I(n),I(o)),x(e,r)}}}function ac(t){let e,n=t[13]+"",o;return{c(){e=P("span"),o=B(n),N(e,"class","text-xs mr-4")},m(i,r){M(i,e,r),v(e,o)},p(i,r){r&2&&n!==(n=i[13]+"")&&ae(o,n)},d(i){i&&I(e)}}}function J4(t){let e,n,o=t[7]+"",i,r,l=co(t[8])+"",a,s,u,f=t[5](t[8]).length>0,c,d,p;function h(D,G){return D[10]>0?X4:D[10]<0?Y4:D[10]!=null?U4:K4}let _=h(t),y=_(t),w=f&&sc(),C=Ye(t[5](t[8])),k=[];for(let D=0;D<C.length;D+=1)k[D]=ac(lc(t,C,D));return{c(){e=P("div"),n=P("span"),i=B(o),r=V(),a=B(l),s=V(),y.c(),u=V(),w&&w.c(),c=V(),d=P("div");for(let D=0;D<k.length;D+=1)k[D].c();N(n,"class","text-md font-bold"),N(d,"class","flex flex-col flex-wrap min-w-full"),N(e,"class","flex flex-col gap-2 whitespace-nowrap min-w-fit")},m(D,G){M(D,e,G),v(e,n),v(n,i),v(n,r),v(n,a),v(e,s),y.m(e,null),v(e,u),w&&w.m(e,null),v(e,c),v(e,d);for(let L=0;L<k.length;L+=1)k[L]&&k[L].m(d,null);p=!0},p(D,G){if((!p||G&2)&&o!==(o=D[7]+"")&&ae(i,o),(!p||G&2)&&l!==(l=co(D[8])+"")&&ae(a,l),_===(_=h(D))&&y?y.p(D,G):(y.d(1),y=_(D),y&&(y.c(),y.m(e,u))),G&2&&(f=D[5](D[8]).length>0),f?w?G&2&&A(w,1):(w=sc(),w.c(),A(w,1),w.m(e,c)):w&&(Pe(),T(w,1,1,()=>{w=null}),Oe()),G&34){C=Ye(D[5](D[8]));let L;for(L=0;L<C.length;L+=1){const j=lc(D,C,L);k[L]?k[L].p(j,G):(k[L]=ac(j),k[L].c(),k[L].m(d,null))}for(;L<k.length;L+=1)k[L].d(1);k.length=C.length}},i(D){p||(A(w),p=!0)},o(D){T(w),p=!1},d(D){D&&I(e),y.d(),w&&w.d(),wt(k,D)}}}function Z4(t){let e,n=t[7]+"",o,i,r=t[9]+"",l,a,s,u,f,c;function d(_,y){return _[10]>0?$4:_[10]<0?W4:_[10]==null?H4:G4}let p=d(t),h=p(t);return f=new li({props:{$$slots:{default:[J4]},$$scope:{ctx:t}}}),{c(){e=P("span"),o=B(n),i=V(),l=B(r),a=V(),h.c(),u=V(),z(f.$$.fragment),N(e,"class",s="flex flex-row justify-between "+(t[9]<=0?"text-textDanger1 font-semibold":"text-textPrimary"))},m(_,y){M(_,e,y),v(e,o),v(e,i),v(e,l),v(e,a),h.m(e,null),M(_,u,y),Q(f,_,y),c=!0},p(_,y){(!c||y&2)&&n!==(n=_[7]+"")&&ae(o,n),(!c||y&2)&&r!==(r=_[9]+"")&&ae(l,r),p===(p=d(_))&&h?h.p(_,y):(h.d(1),h=p(_),h&&(h.c(),h.m(e,null))),(!c||y&2&&s!==(s="flex flex-row justify-between "+(_[9]<=0?"text-textDanger1 font-semibold":"text-textPrimary")))&&N(e,"class",s);const w={};y&65538&&(w.$$scope={dirty:y,ctx:_}),f.$set(w)},i(_){c||(A(f.$$.fragment,_),c=!0)},o(_){T(f.$$.fragment,_),c=!1},d(_){_&&(I(e),I(u)),h.d(),x(f,_)}}}function Q4(t){let e,n,o;return e=new ai({props:{$$slots:{default:[Z4]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment),n=V()},m(i,r){Q(e,i,r),M(i,n,r),o=!0},p(i,r){const l={};r&65538&&(l.$$scope={dirty:r,ctx:i}),e.$set(l)},i(i){o||(A(e.$$.fragment,i),o=!0)},o(i){T(e.$$.fragment,i),o=!1},d(i){i&&I(n),x(e,i)}}}function uc(t){let e,n;return e=new si({props:{openDelay:400,closeDelay:0,$$slots:{default:[Q4]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment)},m(o,i){Q(e,o,i),n=!0},p(o,i){const r={};i&65538&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function x4(t){let e,n,o,i,r,l,a,s,u,f,c,d,p,h,_=it(t[0].townInfo.productivity,0)+"",y,w,C,k,D,G,L,j,F,E,U,b=it(t[0].economyAndLaws.tax_rate*100,0)+"",g,S,O,H,R,J,te;o=new si({props:{openDelay:400,closeDelay:0,$$slots:{default:[V4]},$$scope:{ctx:t}}});let Z=Ye(t[1]),W=[];for(let m=0;m<Z.length;m+=1)W[m]=uc(rc(t,Z,m));const ne=m=>T(W[m],1,1,()=>{W[m]=null});return k=new ic({props:{value:[t[0].townInfo.productivity],onValueChange:t[4],min:0,max:200,step:5,class:"cursor-pointer w-full"}}),H=new ic({props:{value:[t[0].economyAndLaws.tax_rate],onValueChange:t[3],min:0,max:1,step:.05,class:"cursor-pointer w-full"}}),{c(){e=P("div"),n=P("div"),z(o.$$.fragment),i=V(),r=P("div"),l=P("div");for(let m=0;m<W.length;m+=1)W[m].c();a=V(),s=P("div"),u=P("div"),f=P("div"),c=P("span"),c.textContent="Productivity",d=V(),p=P("span"),h=B("("),y=B(_),w=B("%)"),C=V(),z(k.$$.fragment),D=V(),G=P("div"),L=P("div"),j=P("span"),j.textContent="Tax Rate",F=V(),E=P("span"),U=B("("),g=B(b),S=B("%)"),O=V(),z(H.$$.fragment),N(n,"class","flex flex-row justify-center"),N(l,"class","flex flex-col text-sm text-nowrap gap-2"),N(c,"class","text-xs"),N(p,"class","text-xs"),N(u,"class","flex flex-col justify-center w-full text-center items-center gap-2"),N(j,"class","text-xs"),N(E,"class","text-xs"),N(G,"class",R="flex flex-col justify-center w-full text-center items-center gap-2 min-h-12 pb-2 rounded-xl "+(t[0].economyAndLaws.tax_rate===0?"bg-textDanger1 animate-pulse font-bold":"")),N(s,"class","flex flex-col gap-6 rounded-xl text-center justify-center"),N(r,"class","flex flex-col justify-between gap-4 text-foregroundText h-full pb-12"),N(e,"class",J="bg-foreground w-[160px] sidebar border-foregroundDark border-4 "+(t[2].visible?"bottom-8 opacity-70":"bottom-2")+" z-10 fixed right-3 top-[190px] rounded-xl p-2 transition-all duration-300")},m(m,$){M(m,e,$),v(e,n),Q(o,n,null),v(e,i),v(e,r),v(r,l);for(let K=0;K<W.length;K+=1)W[K]&&W[K].m(l,null);v(r,a),v(r,s),v(s,u),v(u,f),v(f,c),v(f,d),v(f,p),v(p,h),v(p,y),v(p,w),v(u,C),Q(k,u,null),v(s,D),v(s,G),v(G,L),v(L,j),v(L,F),v(L,E),v(E,U),v(E,g),v(E,S),v(G,O),Q(H,G,null),te=!0},p(m,[$]){const K={};if($&65536&&(K.$$scope={dirty:$,ctx:m}),o.$set(K),$&34){Z=Ye(m[1]);let ue;for(ue=0;ue<Z.length;ue+=1){const Se=rc(m,Z,ue);W[ue]?(W[ue].p(Se,$),A(W[ue],1)):(W[ue]=uc(Se),W[ue].c(),A(W[ue],1),W[ue].m(l,null))}for(Pe(),ue=Z.length;ue<W.length;ue+=1)ne(ue);Oe()}(!te||$&1)&&_!==(_=it(m[0].townInfo.productivity,0)+"")&&ae(y,_);const Y={};$&1&&(Y.value=[m[0].townInfo.productivity]),k.$set(Y),(!te||$&1)&&b!==(b=it(m[0].economyAndLaws.tax_rate*100,0)+"")&&ae(g,b);const se={};$&1&&(se.value=[m[0].economyAndLaws.tax_rate]),H.$set(se),(!te||$&1&&R!==(R="flex flex-col justify-center w-full text-center items-center gap-2 min-h-12 pb-2 rounded-xl "+(m[0].economyAndLaws.tax_rate===0?"bg-textDanger1 animate-pulse font-bold":"")))&&N(G,"class",R),(!te||$&4&&J!==(J="bg-foreground w-[160px] sidebar border-foregroundDark border-4 "+(m[2].visible?"bottom-8 opacity-70":"bottom-2")+" z-10 fixed right-3 top-[190px] rounded-xl p-2 transition-all duration-300"))&&N(e,"class",J)},i(m){if(!te){A(o.$$.fragment,m);for(let $=0;$<Z.length;$+=1)A(W[$]);A(k.$$.fragment,m),A(H.$$.fragment,m),te=!0}},o(m){T(o.$$.fragment,m),W=W.filter(Boolean);for(let $=0;$<W.length;$+=1)T(W[$]);T(k.$$.fragment,m),T(H.$$.fragment,m),te=!1},d(m){m&&I(e),x(o),wt(W,m),x(k),x(H)}}}function z4(t){return["food","wood","stone","metal","power","knowledge"].includes(t)}function eC(t,e,n){let o,i;fe(t,Le,f=>n(0,o=f)),fe(t,Qe,f=>n(2,i=f));function r(f){let c=o;c.economyAndLaws.tax_rate=it(f[0],2),Le.set(c),localStorage.setItem(Lt,JSON.stringify(c))}function l(f){let c=o;c.townInfo.productivity=it(f[0],2),Le.set(c),localStorage.setItem(Lt,JSON.stringify(c))}let a=[];function s(f){let c=[];for(let d=0;d<ie.length;d++)(f!="knowledge"&&ie[d].requirements.resources[f]>0||f=="power"&&ie[d].active_costs.power>0||f=="knowledge"&&ie[d].requirements.knowledge>0)&&c.push(ie[d].title);return c}function u(f){return z4(f)?s(f):[]}return t.$$.update=()=>{t.$$.dirty&1&&n(1,a=[{icon:"🥕",name:"food",value:o.resources.food,rate:o.resource_rate.food},{icon:"🪵",name:"wood",value:o.resources.wood,rate:o.resource_rate.wood},{icon:"🪨",name:"stone",value:o.resources.stone,rate:o.resource_rate.stone},{icon:"🧠",name:"knowledge",value:o.townInfo.knowledge_points,rate:o.resource_rate.knowledge},{icon:"🧲",name:"metal",value:o.resources.metal,rate:o.resource_rate.metal},{icon:"🔋",name:"power",value:o.resources.power+" (surplus)",rate:null},{icon:"🧑‍⚖️",name:"bureaucracy",value:o.resources.bureaucracy,rate:o.resource_rate.bureaucracy}])},[o,a,i,r,l,u]}class tC extends we{constructor(e){super(),ye(this,e,eC,x4,ce,{})}}function nC(t){let e,n,o,i,r,l,a,s,u,f,c,d,p;return o=new m4({}),l=new D4({}),s=new N4({}),f=new tC({}),d=new Xd({}),{c(){e=P("div"),n=P("div"),z(o.$$.fragment),i=V(),r=P("div"),z(l.$$.fragment),a=V(),z(s.$$.fragment),u=V(),z(f.$$.fragment),c=V(),z(d.$$.fragment),N(r,"class","flex flex-row text-foregroundText"),N(e,"class","flex flex-col max-h-[100%] justify-between")},m(h,_){M(h,e,_),v(e,n),Q(o,n,null),v(e,i),v(e,r),Q(l,r,null),v(r,a),Q(s,r,null),v(r,u),Q(f,r,null),v(r,c),Q(d,r,null),p=!0},p:Ce,i(h){p||(A(o.$$.fragment,h),A(l.$$.fragment,h),A(s.$$.fragment,h),A(f.$$.fragment,h),A(d.$$.fragment,h),p=!0)},o(h){T(o.$$.fragment,h),T(l.$$.fragment,h),T(s.$$.fragment,h),T(f.$$.fragment,h),T(d.$$.fragment,h),p=!1},d(h){h&&I(e),x(o),x(l),x(s),x(f),x(d)}}}function oC(t,e,n){return fe(t,Le,o=>n(0,o)),[]}class iC extends we{constructor(e){super(),ye(this,e,oC,nC,ce,{})}}function rC(t){let e;return{c(){e=B("Welcome to Plots!")},m(n,o){M(n,e,o)},d(n){n&&I(e)}}}function lC(t){let e,n,o,i,r=t[0].townInfo.name+"",l,a,s,u,f,c,d,p,h,_,y,w,C,k,D,G,L,j,F,E,U,b,g,S,O,H,R,J,te,Z;return p=new At({props:{class:"bg-white mt-2 mb-1"}}),w=new At({props:{class:"bg-white mt-2 mb-1"}}),G=new At({props:{class:"bg-white mt-2 mb-1"}}),E=new At({props:{class:"bg-white mt-2 mb-1"}}),{c(){e=P("div"),n=P("p"),o=B(`You come across a large amount of land, and you decide to start a
            town called `),i=P("span"),l=B(r),a=B("."),s=V(),u=P("div"),f=P("p"),f.textContent="To run a successful town, you will need to have:",c=V(),d=P("ul"),z(p.$$.fragment),h=V(),_=P("li"),_.textContent=`👥 People - build homes and they will stay as long as they are
                happy.`,y=V(),z(w.$$.fragment),C=V(),k=P("li"),k.textContent=`🪵 Resources - generated by some plots and used to build others.
                some plots require sustained weekly resources (such as needing
                wood to heat homes)`,D=V(),z(G.$$.fragment),L=V(),j=P("li"),j.textContent=`💰 Gold - generated by plots through tax revenue. most plots
                make the town some amount of money but some cost a lot to
                operate.`,F=V(),z(E.$$.fragment),U=V(),b=P("p"),b.innerHTML=`The town&#39;s key metrics are <span class="font-bold text-textHappyDark">Happiness</span>
            and <span class="font-bold text-textHappyDark">Health</span>, shown
            in the top-left corner.`,g=V(),S=P("p"),S.textContent=`These metrics are affected by the plots you build. Some plots may
            not always increase happiness, and some could even be harmful enough
            to tear down an otherwise great town.`,O=V(),H=P("p"),H.textContent="Be cautious and make sure to hover over plots before you buy them.",R=V(),J=P("img"),N(i,"class","font-bold text-accent"),N(d,"class","list-desc"),em(J.src,te="welcome_example_plot.png")||N(J,"src",te),N(J,"class","max-w-[60%] object-fit"),N(e,"class","flex flex-col gap-3 max-h-[50vh] overflow-y-scroll")},m(W,ne){M(W,e,ne),v(e,n),v(n,o),v(n,i),v(i,l),v(i,a),v(e,s),v(e,u),v(u,f),v(u,c),v(u,d),Q(p,d,null),v(d,h),v(d,_),v(d,y),Q(w,d,null),v(d,C),v(d,k),v(d,D),Q(G,d,null),v(d,L),v(d,j),v(d,F),Q(E,d,null),v(e,U),v(e,b),v(e,g),v(e,S),v(e,O),v(e,H),v(e,R),v(e,J),Z=!0},p(W,ne){(!Z||ne&1)&&r!==(r=W[0].townInfo.name+"")&&ae(l,r)},i(W){Z||(A(p.$$.fragment,W),A(w.$$.fragment,W),A(G.$$.fragment,W),A(E.$$.fragment,W),Z=!0)},o(W){T(p.$$.fragment,W),T(w.$$.fragment,W),T(G.$$.fragment,W),T(E.$$.fragment,W),Z=!1},d(W){W&&I(e),x(p),x(w),x(G),x(E)}}}function sC(t){let e,n,o,i;return e=new is({props:{class:"",$$slots:{default:[rC]},$$scope:{ctx:t}}}),o=new as({props:{$$slots:{default:[lC]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment),n=V(),z(o.$$.fragment)},m(r,l){Q(e,r,l),M(r,n,l),Q(o,r,l),i=!0},p(r,l){const a={};l&524288&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&524289&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){T(e.$$.fragment,r),T(o.$$.fragment,r),i=!1},d(r){r&&I(n),x(e,r),x(o,r)}}}function aC(t){let e;return{c(){e=B("Get started")},m(n,o){M(n,e,o)},d(n){n&&I(e)}}}function uC(t){let e,n;return e=new md({props:{class:"bg-button rounded-2xl text-foregroundText px-4 py-2 hover:rounded-lg transition-all duration-300",$$slots:{default:[aC]},$$scope:{ctx:t}}}),e.$on("click",t[5]),{c(){z(e.$$.fragment)},m(o,i){Q(e,o,i),n=!0},p(o,i){const r={};i&524288&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function fC(t){let e,n,o,i;return e=new ls({props:{$$slots:{default:[sC]},$$scope:{ctx:t}}}),o=new rs({props:{$$slots:{default:[uC]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment),n=V(),z(o.$$.fragment)},m(r,l){Q(e,r,l),M(r,n,l),Q(o,r,l),i=!0},p(r,l){const a={};l&524289&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&524288&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){T(e.$$.fragment,r),T(o.$$.fragment,r),i=!1},d(r){r&&I(n),x(e,r),x(o,r)}}}function cC(t){let e,n;return e=new ss({props:{class:"bg-foregroundDark text-foregroundText",$$slots:{default:[fC]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment)},m(o,i){Q(e,o,i),n=!0},p(o,i){const r={};i&524289&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function dC(t){let e,n;return e=new us({props:{open:t[1],$$slots:{default:[cC]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment)},m(o,i){Q(e,o,i),n=!0},p(o,[i]){const r={};i&2&&(r.open=o[1]),i&524289&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function mC(t,e,n){let o,i,r,l;fe(t,tn,p=>n(7,o=p)),fe(t,Le,p=>n(0,i=p)),fe(t,er,p=>n(4,r=p)),fe(t,pl,p=>n(1,l=p)),pt[i.endGoal],Kl[i.difficulty],ze.sort((p,h)=>f(p.id)&&!f(h.id)?-1:!f(p.id)&&f(h.id)?1:0),ze.filter(p=>f(p.id));function s(p){const h=o.achievements.find(_=>_[0]==p);return h==null?!1:h[3]}let u=ze;function f(p){return o.achievements==null?!1:o.achievements.find(h=>h[0]==p)!=null}function c(){er.update(p=>!p),localStorage.setItem("showCompletedAchievements",localStorage.getItem("showCompletedAchievements")==="true"?"false":"true")}localStorage.getItem("pauseMenuTab")==null&&(localStorage.setItem("pauseMenuTab","game"),Ac.set("game"));const d=()=>{pl.set(!1)};return t.$$.update=()=>{if(t.$$.dirty&25&&i)if(r)n(3,u=ze);else{n(3,u=[]);for(let p=0;p<ze.length;p++)(!f(ze[p].id)||!s(ze[p].id))&&u.push(ze[p])}},[i,l,c,u,r,d]}class pC extends we{constructor(e){super(),ye(this,e,mC,dC,ce,{toggleShowCompleted:2})}get toggleShowCompleted(){return this.$$.ctx[2]}}function fc(t){let e,n,o,i;const r=[_C,hC],l=[];function a(s,u){return s[0]==null?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),T(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){T(n),i=!1},d(s){s&&I(o),l[e].d(s)}}}function hC(t){let e,n,o,i,r,l,a,s,u,f,c,d,p,h,_,y,w=t[2]==!0&&cc();n=new iC({}),i=new wp({}),l=new vy({}),s=new Ky({}),f=new g3({}),d=new B3({});let C=t[0].environment.day==0&&t[3]&&dc();return{c(){w&&w.c(),e=V(),z(n.$$.fragment),o=V(),z(i.$$.fragment),r=V(),z(l.$$.fragment),a=V(),z(s.$$.fragment),u=V(),z(f.$$.fragment),c=V(),z(d.$$.fragment),p=V(),C&&C.c(),h=V(),_=P("style"),_.textContent=`body {
        margin-bottom: 0;
      }
      /* no visible scrollbars */
      #plot_grid::-webkit-scrollbar {
        display: none;
      }

      ::-webkit-scrollbar {
        width: 0px;
        background: transparent; /* make scrollbar transparent */
      }

      /* no scrollbars on firefox either */
      #plot_grid {
        scrollbar-width: none;
      }

      /* no scrollbars for IE/Edge */
      #plot_grid {
        -ms-overflow-style: none;
      }`},m(k,D){w&&w.m(k,D),M(k,e,D),Q(n,k,D),M(k,o,D),Q(i,k,D),M(k,r,D),Q(l,k,D),M(k,a,D),Q(s,k,D),M(k,u,D),Q(f,k,D),M(k,c,D),Q(d,k,D),M(k,p,D),C&&C.m(k,D),M(k,h,D),M(k,_,D),y=!0},p(k,D){k[2]==!0?w?D&4&&A(w,1):(w=cc(),w.c(),A(w,1),w.m(e.parentNode,e)):w&&(Pe(),T(w,1,1,()=>{w=null}),Oe()),k[0].environment.day==0&&k[3]?C?D&9&&A(C,1):(C=dc(),C.c(),A(C,1),C.m(h.parentNode,h)):C&&(Pe(),T(C,1,1,()=>{C=null}),Oe())},i(k){y||(A(w),A(n.$$.fragment,k),A(i.$$.fragment,k),A(l.$$.fragment,k),A(s.$$.fragment,k),A(f.$$.fragment,k),A(d.$$.fragment,k),A(C),y=!0)},o(k){T(w),T(n.$$.fragment,k),T(i.$$.fragment,k),T(l.$$.fragment,k),T(s.$$.fragment,k),T(f.$$.fragment,k),T(d.$$.fragment,k),T(C),y=!1},d(k){k&&(I(e),I(o),I(r),I(a),I(u),I(c),I(p),I(h),I(_)),w&&w.d(k),x(n,k),x(i,k),x(l,k),x(s,k),x(f,k),x(d,k),C&&C.d(k)}}}function _C(t){let e,n;return e=new Fy({}),{c(){z(e.$$.fragment)},m(o,i){Q(e,o,i),n=!0},p:Ce,i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function cc(t){let e,n;return e=new ay({}),{c(){z(e.$$.fragment)},m(o,i){Q(e,o,i),n=!0},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function dc(t){let e,n;return e=new pC({}),{c(){z(e.$$.fragment)},m(o,i){Q(e,o,i),n=!0},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function gC(t){let e,n,o=(t[1]||t[0]==null)&&fc(t);return{c(){o&&o.c(),e=Re()},m(i,r){o&&o.m(i,r),M(i,e,r),n=!0},p(i,[r]){i[1]||i[0]==null?o?(o.p(i,r),r&3&&A(o,1)):(o=fc(i),o.c(),A(o,1),o.m(e.parentNode,e)):o&&(Pe(),T(o,1,1,()=>{o=null}),Oe())},i(i){n||(A(o),n=!0)},o(i){T(o),n=!1},d(i){i&&I(e),o&&o.d(i)}}}function bC(t,e,n){let o,i,r,l,a,s;fe(t,fo,d=>n(6,o=d)),fe(t,Qe,d=>n(7,i=d)),fe(t,Pt,d=>n(2,r=d)),fe(t,Le,d=>n(0,l=d)),fe(t,$o,d=>n(8,a=d)),fe(t,pl,d=>n(3,s=d));let u=!1;uy();let f=!1;document.addEventListener("keydown",d=>{if((document.activeElement!=null&&document.activeElement.nodeName==="INPUT"||document.activeElement!=null&&document.activeElement.nodeName=="TEXTAREA")&&d.key!=="Escape")return;switch(d.key.toLowerCase()){case"p":r==!0?Pt.set(!1):(Pt.set(!0),Ee(Qe,i.visible=!1,i));break;case"escape":d.shiftKey?(Ee(Pt,r=!0,r),localStorage.setItem("reset","true"),location.reload(),Ul()):i.visible==!0&&Ee(Qe,i.visible=!1,i);break}});function c(d,p,h){if(f==!0)switch(h){case"up":p-=2;break;case"down":p+=1;break;case"left":d-=2;break;case"right":d+=1;break}d<0?d=0:d>l.plots.length&&(d=l.plots.length),p<0?p=0:p>l.plots.length&&(p=l.plots.length);let _=document.querySelectorAll(".plot_container"),y;if(_.forEach(w=>{w.dataset.x=="$x"&&w.dataset.y=="$y"&&(y=w)}),r==!1){if(y.dataset.canBeUpgraded==="true"?Ee(Qe,i.visible=!0,i):Ee(Qe,i.visible=!1,i),y.dataset.refPlotX!==void 0&&y.dataset.refPlotY!=""?(f=!0,_.forEach(w=>{w.dataset.x==y.dataset.refPlotX&&w.dataset.y==y.dataset.refPlotY&&(y=w,d=parseInt(y.dataset.x),p=parseInt(y.dataset.y))})):f=!1,y.dataset.size!=="1"&&y.dataset.size!==void 0&&(f=!0),Ee(Qe,i.x=d,i),Ee(Qe,i.y=p,i),_.forEach(w=>{w.classList.remove("selected"),w.style.fontWeight=""}),y.classList.add("selected"),f){let w="4px solid #00800045";y.classList.remove("selected"),y.style.borderTop=w,y.style.borderLeft=w,y.style.fontWeight="600",_.forEach(C=>{const k=parseInt(`${C.dataset.x}`),D=parseInt(`${C.dataset.y}`);k==d+1&&D==p&&(C.style.borderLeft=w,C.style.borderBottom=w),k==d&&D==p+1&&(C.style.borderTop=w,C.style.borderRight=w),k==d+1&&D==p+1&&(C.style.borderBottom=w,C.style.borderRight=w)})}y.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),Ee(fo,o={},o)}}return t.$$.update=()=>{t.$$.dirty&1&&(l?(Ee($o,a.visible=!1,a),n(1,u=!0)):(Ee($o,a.visible=!0,a),n(1,u=!1)))},[l,u,r,s,c]}class vC extends we{constructor(e){super(),ye(this,e,bC,gC,ce,{openPlotMenu:4})}get openPlotMenu(){return this.$$.ctx[4]}}new vC({target:document.getElementById("app")});
