var au=Object.defineProperty;var uu=(t,e,n)=>e in t?au(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Et=(t,e,n)=>(uu(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();function fu(t){const e=pako.gzip(JSON.stringify(t));return btoa(String.fromCharCode.apply(null,e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function cu(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=atob(e),i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);const o=pako.ungzip(i,{to:"string"});return JSON.parse(o)}async function du(){let t=localStorage.getItem("plots_active_game_db");const e=await fu(t);console.log("http://localhost:5173/plots/?shareId="+e)}const zi=window.location.search.substring(1).split("&").reduce((t,e)=>{const[n,i]=e.split("=");return t[n]=i,t},{});if(zi.shareId!=null||zi.shareId!=null){console.log("DECRYPING FROM shareId");const t=JSON.parse(cu(zi.shareId));let e=localStorage.getItem("plots_active_game_db");(e==""||e==null)&&localStorage.setItem("plots_active_game_db",JSON.stringify(t))}else console.log("COMPRESSING GAME TO SHARE"),du();function ye(){}const Ui=t=>t;function W(t,e){for(const n in e)t[n]=e[n];return t}function Gs(t){return t()}function fr(){return Object.create(null)}function qe(t){t.forEach(Gs)}function Nt(t){return typeof t=="function"}function se(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function pu(t){return Object.keys(t).length===0}function jo(t,...e){if(t==null){for(const i of e)i(void 0);return ye}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function js(t){let e;return jo(t,n=>e=n)(),e}function ae(t,e,n){t.$$.on_destroy.push(jo(e,n))}function fe(t,e,n,i){if(t){const o=Hs(t,e,n,i);return t[0](o)}}function Hs(t,e,n,i){return t[1]&&i?W(n.ctx.slice(),t[1](i(e))):n.ctx}function ce(t,e,n,i){if(t[2]&&i){const o=t[2](i(n));if(e.dirty===void 0)return o;if(typeof o=="object"){const r=[],l=Math.max(e.dirty.length,o.length);for(let a=0;a<l;a+=1)r[a]=e.dirty[a]|o[a];return r}return e.dirty|o}return e.dirty}function de(t,e,n,i,o,r){if(o){const l=Hs(e,n,i,r);t.p(l,o)}}function pe(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let i=0;i<n;i++)e[i]=-1;return e}return-1}function Ne(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function ie(t,e){const n={};e=new Set(e);for(const i in t)!e.has(i)&&i[0]!=="$"&&(n[i]=t[i]);return n}function we(t,e,n){return t.set(n),e}function Ge(t){return t&&Nt(t.destroy)?t.destroy:ye}const Ws=typeof window<"u";let Ho=Ws?()=>window.performance.now():()=>Date.now(),Wo=Ws?t=>requestAnimationFrame(t):ye;const pn=new Set;function Vs(t){pn.forEach(e=>{e.c(t)||(pn.delete(e),e.f())}),pn.size!==0&&Wo(Vs)}function Vo(t){let e;return pn.size===0&&Wo(Vs),{promise:new Promise(n=>{pn.add(e={c:t,f:n})}),abort(){pn.delete(e)}}}function w(t,e){t.appendChild(e)}function Ks(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function hu(t){const e=P("style");return e.textContent="/* empty */",mu(Ks(t),e),e.sheet}function mu(t,e){return w(t.head||t,e),e.sheet}function C(t,e,n){t.insertBefore(e,n||null)}function k(t){t.parentNode&&t.parentNode.removeChild(t)}function vt(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function P(t){return document.createElement(t)}function Ji(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function G(t){return document.createTextNode(t)}function K(){return G(" ")}function Me(){return G("")}function U(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function O(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}const _u=["width","height"];function oe(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const i in e)e[i]==null?t.removeAttribute(i):i==="style"?t.style.cssText=e[i]:i==="__value"?t.value=t[i]=e[i]:n[i]&&n[i].set&&_u.indexOf(i)===-1?t[i]=e[i]:O(t,i,e[i])}function bi(t,e){for(const n in e)O(t,n,e[n])}function gu(t,e){Object.keys(e).forEach(n=>{bu(t,n,e[n])})}function bu(t,e,n){const i=e.toLowerCase();i in t?t[i]=typeof t[i]=="boolean"&&n===""?!0:n:e in t?t[e]=typeof t[e]=="boolean"&&n===""?!0:n:O(t,e,n)}function Ft(t){return/-/.test(t)?gu:oe}function vu(t){return Array.from(t.childNodes)}function ue(t,e){e=""+e,t.data!==e&&(t.data=e)}function St(t,e){t.value=e??""}function bn(t,e,n,i){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,i?"important":"")}function cr(t,e,n){for(let i=0;i<t.options.length;i+=1){const o=t.options[i];if(o.__value===e){o.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function Us(t,e,{bubbles:n=!1,cancelable:i=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:i})}class yu{constructor(e=!1){Et(this,"is_svg",!1);Et(this,"e");Et(this,"n");Et(this,"t");Et(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,n,i=null){this.e||(this.is_svg?this.e=Ji(n.nodeName):this.e=P(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(e)),this.i(i)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)C(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(k)}}const vi=new Map;let yi=0;function wu(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function ku(t,e){const n={stylesheet:hu(e),rules:{}};return vi.set(t,n),n}function wi(t,e,n,i,o,r,l,a=0){const s=16.666/i;let u=`{
`;for(let v=0;v<=1;v+=s){const y=e+(n-e)*r(v);u+=v*100+`%{${l(y,1-y)}}
`}const f=u+`100% {${l(n,1-n)}}
}`,c=`__svelte_${wu(f)}_${a}`,p=Ks(t),{stylesheet:h,rules:_}=vi.get(p)||ku(p,t);_[c]||(_[c]=!0,h.insertRule(`@keyframes ${c} ${f}`,h.cssRules.length));const g=t.style.animation||"";return t.style.animation=`${g?`${g}, `:""}${c} ${i}ms linear ${o}ms 1 both`,yi+=1,c}function ki(t,e){const n=(t.style.animation||"").split(", "),i=n.filter(e?r=>r.indexOf(e)<0:r=>r.indexOf("__svelte")===-1),o=n.length-i.length;o&&(t.style.animation=i.join(", "),yi-=o,yi||Cu())}function Cu(){Wo(()=>{yi||(vi.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&k(e)}),vi.clear())})}let Hn;function Bn(t){Hn=t}function Xn(){if(!Hn)throw new Error("Function called outside component initialization");return Hn}function Ko(t){Xn().$$.on_mount.push(t)}function Su(t){Xn().$$.on_destroy.push(t)}function Au(){const t=Xn();return(e,n,{cancelable:i=!1}={})=>{const o=t.$$.callbacks[e];if(o){const r=Us(e,n,{cancelable:i});return o.slice().forEach(l=>{l.call(t,r)}),!r.defaultPrevented}return!0}}function Js(t,e){return Xn().$$.context.set(t,e),e}function Ys(t){return Xn().$$.context.get(t)}function X(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(i=>i.call(this,e))}const fn=[],Ie=[];let hn=[];const _o=[],Xs=Promise.resolve();let go=!1;function xs(){go||(go=!0,Xs.then(Zs))}function Uo(){return xs(),Xs}function Ze(t){hn.push(t)}function Zt(t){_o.push(t)}const eo=new Set;let ln=0;function Zs(){if(ln!==0)return;const t=Hn;do{try{for(;ln<fn.length;){const e=fn[ln];ln++,Bn(e),Tu(e.$$)}}catch(e){throw fn.length=0,ln=0,e}for(Bn(null),fn.length=0,ln=0;Ie.length;)Ie.pop()();for(let e=0;e<hn.length;e+=1){const n=hn[e];eo.has(n)||(eo.add(n),n())}hn.length=0}while(fn.length);for(;_o.length;)_o.pop()();go=!1,eo.clear(),Bn(t)}function Tu(t){if(t.fragment!==null){t.update(),qe(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Ze)}}function Iu(t){const e=[],n=[];hn.forEach(i=>t.indexOf(i)===-1?e.push(i):n.push(i)),n.forEach(i=>i()),hn=e}let Tn;function Jo(){return Tn||(Tn=Promise.resolve(),Tn.then(()=>{Tn=null})),Tn}function Kt(t,e,n){t.dispatchEvent(Us(`${e?"intro":"outro"}${n}`))}const fi=new Set;let _t;function Fe(){_t={r:0,c:[],p:_t}}function Re(){_t.r||qe(_t.c),_t=_t.p}function S(t,e){t&&t.i&&(fi.delete(t),t.i(e))}function T(t,e,n,i){if(t&&t.o){if(fi.has(t))return;fi.add(t),_t.c.push(()=>{fi.delete(t),i&&(n&&t.d(1),i())}),t.o(e)}else i&&i()}const Yo={duration:0};function Dt(t,e,n){const i={direction:"in"};let o=e(t,n,i),r=!1,l,a,s=0;function u(){l&&ki(t,l)}function f(){const{delay:p=0,duration:h=300,easing:_=Ui,tick:g=ye,css:v}=o||Yo;v&&(l=wi(t,0,1,h,p,_,v,s++)),g(0,1);const y=Ho()+p,N=y+h;a&&a.abort(),r=!0,Ze(()=>Kt(t,!0,"start")),a=Vo(I=>{if(r){if(I>=N)return g(1,0),Kt(t,!0,"end"),u(),r=!1;if(I>=y){const J=_((I-y)/h);g(J,1-J)}}return r})}let c=!1;return{start(){c||(c=!0,ki(t),Nt(o)?(o=o(i),Jo().then(f)):f())},invalidate(){c=!1},end(){r&&(u(),r=!1)}}}function $t(t,e,n){const i={direction:"out"};let o=e(t,n,i),r=!0,l;const a=_t;a.r+=1;let s;function u(){const{delay:f=0,duration:c=300,easing:p=Ui,tick:h=ye,css:_}=o||Yo;_&&(l=wi(t,1,0,c,f,p,_));const g=Ho()+f,v=g+c;Ze(()=>Kt(t,!1,"start")),"inert"in t&&(s=t.inert,t.inert=!0),Vo(y=>{if(r){if(y>=v)return h(0,1),Kt(t,!1,"end"),--a.r||qe(a.c),!1;if(y>=g){const N=p((y-g)/c);h(1-N,N)}}return r})}return Nt(o)?Jo().then(()=>{o=o(i),u()}):u(),{end(f){f&&"inert"in t&&(t.inert=s),f&&o.tick&&o.tick(1,0),r&&(l&&ki(t,l),r=!1)}}}function Rt(t,e,n,i){let r=e(t,n,{direction:"both"}),l=i?0:1,a=null,s=null,u=null,f;function c(){u&&ki(t,u)}function p(_,g){const v=_.b-l;return g*=Math.abs(v),{a:l,b:_.b,d:v,duration:g,start:_.start,end:_.start+g,group:_.group}}function h(_){const{delay:g=0,duration:v=300,easing:y=Ui,tick:N=ye,css:I}=r||Yo,J={start:Ho()+g,b:_};_||(J.group=_t,_t.r+=1),"inert"in t&&(_?f!==void 0&&(t.inert=f):(f=t.inert,t.inert=!0)),a||s?s=J:(I&&(c(),u=wi(t,l,_,v,g,y,I)),_&&N(0,1),a=p(J,v),Ze(()=>Kt(t,_,"start")),Vo(F=>{if(s&&F>s.start&&(a=p(s,v),s=null,Kt(t,a.b,"start"),I&&(c(),u=wi(t,l,a.b,a.duration,0,y,r.css))),a){if(F>=a.end)N(l=a.b,1-l),Kt(t,a.b,"end"),s||(a.b?c():--a.group.r||qe(a.group.c)),a=null;else if(F>=a.start){const L=F-a.start;l=a.a+a.d*y(L/a.duration),N(l,1-l)}}return!!(a||s)}))}return{run(_){Nt(r)?Jo().then(()=>{r=r({direction:_?"in":"out"}),h(_)}):h(_)},end(){c(),a=s=null}}}function Je(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Nu(t,e){t.d(1),e.delete(t.key)}function Eu(t,e,n,i,o,r,l,a,s,u,f,c){let p=t.length,h=r.length,_=p;const g={};for(;_--;)g[t[_].key]=_;const v=[],y=new Map,N=new Map,I=[];for(_=h;_--;){const q=c(o,r,_),$=n(q);let R=l.get($);R?i&&I.push(()=>R.p(q,e)):(R=u($,q),R.c()),y.set($,v[_]=R),$ in g&&N.set($,Math.abs(_-g[$]))}const J=new Set,F=new Set;function L(q){S(q,1),q.m(a,f),l.set(q.key,q),f=q.first,h--}for(;p&&h;){const q=v[h-1],$=t[p-1],R=q.key,H=$.key;q===$?(f=q.first,p--,h--):y.has(H)?!l.has(R)||J.has(R)?L(q):F.has(H)?p--:N.get(R)>N.get(H)?(F.add(R),L(q)):(J.add(H),p--):(s($,l),p--)}for(;p--;){const q=t[p];y.has(q.key)||s(q,l)}for(;h;)L(v[h-1]);return qe(I),v}function he(t,e){const n={},i={},o={$$scope:1};let r=t.length;for(;r--;){const l=t[r],a=e[r];if(a){for(const s in l)s in a||(i[s]=1);for(const s in a)o[s]||(n[s]=a[s],o[s]=1);t[r]=a}else for(const s in l)o[s]=1}for(const l in i)l in n||(n[l]=void 0);return n}function it(t){return typeof t=="object"&&t!==null?t:{}}function Qt(t,e,n){const i=t.$$.props[e];i!==void 0&&(t.$$.bound[i]=n,n(t.$$.ctx[i]))}function Q(t){t&&t.c()}function x(t,e,n){const{fragment:i,after_update:o}=t.$$;i&&i.m(e,n),Ze(()=>{const r=t.$$.on_mount.map(Gs).filter(Nt);t.$$.on_destroy?t.$$.on_destroy.push(...r):qe(r),t.$$.on_mount=[]}),o.forEach(Ze)}function Z(t,e){const n=t.$$;n.fragment!==null&&(Iu(n.after_update),qe(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Mu(t,e){t.$$.dirty[0]===-1&&(fn.push(t),xs(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function me(t,e,n,i,o,r,l=null,a=[-1]){const s=Hn;Bn(t);const u=t.$$={fragment:null,ctx:[],props:r,update:ye,not_equal:o,bound:fr(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(s?s.$$.context:[])),callbacks:fr(),dirty:a,skip_bound:!1,root:e.target||s.$$.root};l&&l(u.root);let f=!1;if(u.ctx=n?n(t,e.props||{},(c,p,...h)=>{const _=h.length?h[0]:p;return u.ctx&&o(u.ctx[c],u.ctx[c]=_)&&(!u.skip_bound&&u.bound[c]&&u.bound[c](_),f&&Mu(t,c)),p}):[],u.update(),f=!0,qe(u.before_update),u.fragment=i?i(u.ctx):!1,e.target){if(e.hydrate){const c=vu(e.target);u.fragment&&u.fragment.l(c),c.forEach(k)}else u.fragment&&u.fragment.c();e.intro&&S(t.$$.fragment),x(t,e.target,e.anchor),Zs()}Bn(s)}class _e{constructor(){Et(this,"$$");Et(this,"$$set")}$destroy(){Z(this,1),this.$destroy=ye}$on(e,n){if(!Nt(n))return ye;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(n),()=>{const o=i.indexOf(n);o!==-1&&i.splice(o,1)}}$set(e){this.$$set&&!pu(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Pu="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Pu);const sn=[];function Yi(t,e){return{subscribe:Ue(t,e).subscribe}}function Ue(t,e=ye){let n;const i=new Set;function o(a){if(se(t,a)&&(t=a,n)){const s=!sn.length;for(const u of i)u[1](),sn.push(u,t);if(s){for(let u=0;u<sn.length;u+=2)sn[u][0](sn[u+1]);sn.length=0}}}function r(a){o(a(t))}function l(a,s=ye){const u=[a,s];return i.add(u),i.size===1&&(n=e(o,r)||ye),a(t),()=>{i.delete(u),i.size===0&&n&&(n(),n=null)}}return{set:o,update:r,subscribe:l}}function xn(t,e,n){const i=!Array.isArray(t),o=i?[t]:t;if(!o.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const r=e.length<2;return Yi(n,(l,a)=>{let s=!1;const u=[];let f=0,c=ye;const p=()=>{if(f)return;c();const _=e(i?u[0]:u,l,a);r?l(_):c=Nt(_)?_:ye},h=o.map((_,g)=>jo(_,v=>{u[g]=v,f&=~(1<<g),s&&p()},()=>{f|=1<<g}));return s=!0,p(),function(){qe(h),c(),s=!1}})}function dr(t){return{subscribe:t.subscribe.bind(t)}}const Ou={plots:[],timeSpent:0,devMode:!1,lastChangeDay:0,townLog:"",townInfo:{name:"Your town",gold:1e3,gold_from_tourism:0,population_count:0,population_max:0,employees:0,happiness:150,health:150,knowledge_points:0},hasCityHall:!1,hasBank:!1,hasHospital:!1,hasLab:!1,modifiers:{happiness:1,health:1},economyAndLaws:{tax_rate:0,max_tax_rate:1,last_month_profit:0,knowledge_gold_market_rates:[]},plotCounts:[],environment:{day:0,year:1,climate:-1},maximums:{health:300,happiness:300},difficulty:0,endGoal:"land",endGameDetails:{msg:"",win:!1},tick:0,overtime:!1,last_warning_happiness:0,last_warning_health:0,lab:{active_experiment:null,past_experiments:[],xp:0}},Lu={stats:{games_played:0,wins:0,losses:0},achievements:[]},Qs={0:"Easy",1:"Normal",2:"Hard"},Fu={0:Math.random()*(.5-.3)+.3,1:Math.random()*(.4-.2)+.2,2:Math.random()*(.4-.2)+.2},Ru={0:.35,1:.25,2:.25},Pe=[{id:"res_small",title:"🏠 Residential (small)",type:"residential",description:"A few basic homes (+16 people)",revenue_per_week:0,requirements:{gold:150,plots:[],employees:0,climate:null,knowledge:0,size:1,xp:0},effect_modifiers:{happiness:1,health:1},immediate_variable_changes:{happiness:0,health:0,population:16},tourism_revenue_per_week:0,styling:"",affordable:null,selected:null,check_for_variety:!1,enables_tourism:!0,knowledge_points_per_month:0},{id:"res_medium",title:"🏘️ Residential (medium)",type:"residential",description:"Some apartments (+64 people)",revenue_per_week:0,requirements:{gold:500,plots:[],employees:0,climate:null,knowledge:0,size:1,xp:0},effect_modifiers:{happiness:1,health:1},immediate_variable_changes:{happiness:0,health:0,population:64},tourism_revenue_per_week:0,styling:"",affordable:null,selected:null,check_for_variety:!1,enables_tourism:!0,knowledge_points_per_month:0},{id:"res_large",title:"🏢 Residential (big)",type:"residential",description:"Many apartments (+256 people)",revenue_per_week:0,requirements:{gold:1500,plots:[],employees:0,climate:null,knowledge:0,size:1,xp:0},effect_modifiers:{happiness:1,health:1},immediate_variable_changes:{happiness:0,health:0,population:256},tourism_revenue_per_week:0,styling:"",affordable:null,selected:null,check_for_variety:!1,enables_tourism:!0,knowledge_points_per_month:0},{id:"carrot_farm",title:"🥕 Carrot farm",type:"farm",description:"Farm for making carrots, makes money by selling them.",revenue_per_week:6,requirements:{gold:50,plots:[],employees:2,climate:null,knowledge:0,size:1,xp:0},effect_modifiers:{happiness:1.05,health:1.1},immediate_variable_changes:{happiness:0,health:0,population:0},check_for_variety:!0,tourism_revenue_per_week:0,styling:"",affordable:null,selected:null,enables_tourism:!0,knowledge_points_per_month:0},{id:"tree_farm",title:"🌲 Tree Farm",type:"farm",description:"Grow trees and sell the resources. Required for most plots.",revenue_per_week:12,requirements:{gold:400,plots:[],employees:10,climate:null,knowledge:0,size:1,xp:0},effect_modifiers:{happiness:1,health:1},immediate_variable_changes:{happiness:0,health:0,population:0},check_for_variety:!0,tourism_revenue_per_week:0,styling:"",affordable:null,selected:null,enables_tourism:!0,knowledge_points_per_month:0},{id:"apple_orchard",title:"🍎 Apple orchard",type:"farm",description:"A bunch of apple trees. Sells apple products.",revenue_per_week:8,requirements:{gold:75,plots:[],employees:4,climate:null,knowledge:0,size:1,xp:0},effect_modifiers:{happiness:1.05,health:1.1},immediate_variable_changes:{happiness:0,health:0,population:0},check_for_variety:!0,tourism_revenue_per_week:0,enables_tourism:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null},{id:"potato_farm",title:"🥔 Potato farm",type:"farm",description:"Easy to farm, sells to local grocery stores and restaurants.",revenue_per_week:9,requirements:{gold:75,plots:[],employees:2,climate:null,knowledge:0,size:1,xp:0},effect_modifiers:{happiness:1.1,health:1.1},immediate_variable_changes:{happiness:5,health:5,population:0},check_for_variety:!0,tourism_revenue_per_week:0,enables_tourism:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null},{id:"wheat_farm",title:"🌾 Wheat farm",type:"farm",description:"Easy to farm crop",revenue_per_week:6,requirements:{gold:140,plots:[],employees:4,climate:null,knowledge:0,size:1,xp:0},effect_modifiers:{happiness:1,health:1},immediate_variable_changes:{happiness:0,health:0,population:0},check_for_variety:!0,tourism_revenue_per_week:0,enables_tourism:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null},{id:"dairy_farm",title:"🐮 Dairy farm",type:"farm",description:"A few cows that produce milk, cheese, and butter.",revenue_per_week:16,requirements:{gold:300,plots:[],employees:4,climate:null,knowledge:0,size:1,xp:0},effect_modifiers:{happiness:1.2,health:1},immediate_variable_changes:{happiness:5,health:5,population:0},check_for_variety:!0,tourism_revenue_per_week:0,enables_tourism:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null},{id:"coffee_bean_farm",title:"🫘 Coffee bean farm",type:"farm",description:"A few coffee plants. Makes money by selling coffee.",revenue_per_week:3,requirements:{gold:300,plots:[],employees:1,climate:null,knowledge:0,size:1,xp:0},effect_modifiers:{happiness:1.2,health:1},immediate_variable_changes:{happiness:5,health:5,population:0},check_for_variety:!0,tourism_revenue_per_week:0,enables_tourism:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null},{id:"cafe",title:"☕️ Small café",type:"food",description:"Great for eating & relaxing, not great for long-term health.",revenue_per_week:48,requirements:{gold:300,plots:["coffee_bean_farm","bakery","dairy_farm","tree_farm"],employees:16,climate:null,knowledge:0,size:1,xp:0},effect_modifiers:{happiness:1.05,health:.95},immediate_variable_changes:{happiness:5,health:0,population:0},check_for_variety:!0,tourism_revenue_per_week:0,enables_tourism:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null},{id:"bakery",title:"🥖 Bakery",type:"farm",description:"Makes money by selling bread.",revenue_per_week:14,requirements:{gold:300,plots:["wheat_farm"],employees:3,climate:null,knowledge:0,size:1,xp:0},effect_modifiers:{happiness:1.11,health:.92},immediate_variable_changes:{happiness:25,health:0,population:0},check_for_variety:!0,tourism_revenue_per_week:0,enables_tourism:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null},{id:"grocery",title:"🏪 Grocery store",type:"food",description:"People get hungry. This is where they go to get food.",revenue_per_week:80,requirements:{gold:820,plots:["fishery","tree_farm","carrot_farm","dairy_farm","bakery","wheat_farm","coffee_bean_farm"],employees:24,climate:null,knowledge:0,size:1,xp:0},effect_modifiers:{happiness:1.05,health:1},immediate_variable_changes:{happiness:15,health:0,population:0},tourism_revenue_per_week:0,enables_tourism:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1},{id:"fishery",title:"🐠 Fishery",type:"food",description:"Carve out some land, pour some water, and fish for fun & food.",revenue_per_week:40,requirements:{gold:600,plots:["tree_farm"],employees:9,climate:null,knowledge:0,size:1,xp:0},effect_modifiers:{happiness:1.05,health:1},immediate_variable_changes:{happiness:15,health:8,population:0},check_for_variety:!0,tourism_revenue_per_week:0,enables_tourism:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null},{id:"library",title:"📕 Library",type:"recreation",description:"Reading makes people very happy, but doesn't make money.",revenue_per_week:0,knowledge_points_per_month:1,requirements:{gold:500,plots:["tree_farm"],employees:6,climate:null,knowledge:0,size:1,xp:0},effect_modifiers:{happiness:1.2,health:1},immediate_variable_changes:{happiness:10,health:0,population:0},tourism_revenue_per_week:0,enables_tourism:!0,styling:"",affordable:null,selected:null,check_for_variety:!1},{id:"pub",title:"🍻 Pub",type:"recreation",description:"Makes money, and somehow generates communal knowledge.",revenue_per_week:50,knowledge_points_per_month:1,requirements:{gold:500,plots:["church","tree_farm"],employees:6,climate:null,knowledge:0,size:1,xp:0},effect_modifiers:{happiness:1.2,health:.7},immediate_variable_changes:{happiness:10,health:-25,population:0},check_for_variety:!0,tourism_revenue_per_week:0,enables_tourism:!0,styling:"",affordable:null,selected:null},{id:"church",title:"⛪️ Church",type:"recreation",description:"This can make some people happy, but doesn't make money.",revenue_per_week:0,requirements:{gold:500,plots:["tree_farm"],employees:0,climate:null,knowledge:0,size:1,xp:0},effect_modifiers:{happiness:1.1,health:1},immediate_variable_changes:{happiness:5,health:0,population:0},tourism_revenue_per_week:0,enables_tourism:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1},{id:"stables",title:"🐴 Stables",type:"recreation",description:"People love horses. This makes them happy, and can generate some money through lessons.",revenue_per_week:25,requirements:{gold:220,plots:["tree_farm"],employees:2,climate:null,knowledge:0,size:1,xp:0},effect_modifiers:{happiness:1.05,health:1.02},immediate_variable_changes:{happiness:5,health:0,population:0},tourism_revenue_per_week:0,enables_tourism:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1},{id:"blacksmith",title:"⚔️ Blacksmith",type:"shop",description:"Enables exporting of weapons and armor, and makes money by selling them.",revenue_per_week:150,requirements:{gold:2300,plots:["large_school","tree_farm"],employees:15,climate:null,knowledge:0,size:1,xp:0},effect_modifiers:{happiness:1,health:1},immediate_variable_changes:{happiness:0,health:0,population:0},tourism_revenue_per_week:0,enables_tourism:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1},{id:"vineyard",title:"🍇 Vineyard",type:"farm",description:"Grapes are grown and made into wine. Makes money by selling wine.",revenue_per_week:50,requirements:{gold:800,plots:[],employees:6,climate:null,knowledge:0,size:1,xp:0},effect_modifiers:{happiness:1.5,health:1},immediate_variable_changes:{happiness:0,health:-10,population:0},tourism_revenue_per_week:0,enables_tourism:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1},{id:"inn",title:"🛌 Village Inn",type:"tourism",description:"Generates tourism gold that can be used if you have a bank.",revenue_per_week:0,enables_tourism:!0,tourism_revenue_per_week:1,requirements:{gold:15e3,plots:["tree_farm","cafe","stables"],employees:14,climate:null,knowledge:0,size:1,xp:0},effect_modifiers:{happiness:.9,health:1},immediate_variable_changes:{happiness:0,health:0,population:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1},{id:"park_small",title:"🌲 Small park",type:"recreation",description:"A few benches and a small grassy area.",revenue_per_week:0,requirements:{gold:80,plots:[],employees:1,climate:null,knowledge:0,size:1,xp:0},effect_modifiers:{happiness:1.01,health:1.07},immediate_variable_changes:{happiness:5,health:0,population:0},tourism_revenue_per_week:0,enables_tourism:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1},{id:"park_medium",title:"🛝 Medium park",type:"recreation",description:"Benches, grass, and a couple of swing-sets.",revenue_per_week:0,requirements:{gold:450,plots:["tree_farm"],employees:2,climate:null,knowledge:0,size:1,xp:0},effect_modifiers:{happiness:1.02,health:1.35},immediate_variable_changes:{happiness:5,health:10,population:0},tourism_revenue_per_week:0,enables_tourism:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1},{id:"park_large",title:"🎪 Large park (2x2)",type:"recreation",description:"Same as the medium park, with a nice fountain in the middle and occasional events run by the employees.",revenue_per_week:0,requirements:{gold:900,plots:["tree_farm"],employees:4,climate:null,size:2,knowledge:0,xp:0},effect_modifiers:{happiness:1.1,health:1.7},immediate_variable_changes:{happiness:15,health:15,population:0},tourism_revenue_per_week:0,enables_tourism:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1},{id:"community_center",title:"🫶 Community Center",type:"recreation",description:"A place for meeting people, growing community, and hosting events. Required for City Hall.",revenue_per_week:0,requirements:{gold:15e3,plots:["park_medium","inn","tree_farm"],employees:12,climate:null,size:1,knowledge:0,xp:0},effect_modifiers:{happiness:1.09,health:1},immediate_variable_changes:{happiness:50,health:15,population:0},tourism_revenue_per_week:0,enables_tourism:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1},{id:"small_school",title:"📚 Small school",type:"education",description:"A place where children can learn and grow, and where adults can learn new skills. Produces knowledge.",revenue_per_week:0,knowledge_points_per_month:8,requirements:{gold:1500,plots:["tree_farm"],employees:20,climate:null,size:1,knowledge:0,xp:0},effect_modifiers:{happiness:1.05,health:1.1},immediate_variable_changes:{happiness:15,health:3,population:0},tourism_revenue_per_week:0,enables_tourism:!0,styling:"",affordable:null,selected:null,check_for_variety:!1},{id:"large_school",title:"🚌 Large school (2x2)",type:"education",description:"A larger school. Produces knowledge",revenue_per_week:0,knowledge_points_per_month:26,requirements:{gold:15e3,plots:["tree_farm"],employees:40,climate:null,size:2,knowledge:50,xp:0},effect_modifiers:{happiness:1.2,health:1},immediate_variable_changes:{happiness:5,health:3,population:0},tourism_revenue_per_week:0,enables_tourism:!0,styling:"",affordable:null,selected:null,check_for_variety:!1},{id:"university",title:"🏫 Large University (2x2)",type:"education",description:"The supreme learning institution. Produces knowledge.",revenue_per_week:0,knowledge_points_per_month:300,requirements:{gold:8e4,plots:["tree_farm"],employees:101,climate:null,size:2,knowledge:100,xp:0},effect_modifiers:{happiness:1.25,health:.9},immediate_variable_changes:{happiness:25,health:25,population:0},tourism_revenue_per_week:0,enables_tourism:!0,styling:"",affordable:null,selected:null,check_for_variety:!1},{id:"small_hospital",title:"😷 Small hospital",type:"medical",description:"A great place to get fixed up from minor injuries.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:1e4,plots:["tree_farm"],employees:18,climate:null,size:1,knowledge:100,xp:0},effect_modifiers:{happiness:1.25,health:1.5},immediate_variable_changes:{happiness:5,health:75,population:0},tourism_revenue_per_week:0,enables_tourism:!0,styling:"",affordable:null,selected:null,check_for_variety:!1},{id:"large_hospital",title:"🏥 Large hospital (2x2)",type:"medical",description:"Heals people and teaches medical students. Produces knowledge.",revenue_per_week:0,knowledge_points_per_month:80,requirements:{gold:45e3,plots:["tree_farm"],employees:90,climate:null,size:2,knowledge:250,xp:0},effect_modifiers:{happiness:1.25,health:2.5},immediate_variable_changes:{happiness:5,health:150,population:0},tourism_revenue_per_week:0,enables_tourism:!0,styling:"",affordable:null,selected:null,check_for_variety:!1},{id:"bank",title:"🏦 Bank",type:"bank",description:`Rich get richer.
			<ul>
				<li>Enables converting tourism gold to gold</li>
				<li>Enables converting knowledge to gold (TODO)</li>
			</ul>`,revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:75e3,plots:["blacksmith","vineyard","tree_farm"],employees:64,climate:null,size:1,knowledge:1e3,xp:0},effect_modifiers:{happiness:.8,health:1},immediate_variable_changes:{happiness:0,health:0,population:0},tourism_revenue_per_week:0,enables_tourism:!0,styling:"",affordable:null,selected:null,check_for_variety:!1},{id:"city_hall",title:"🗳️ City Hall",type:"federal",description:"Enables the control of citizens through laws, taxes, and wealthy men.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:15e4,plots:["community_center","small_school","tree_farm"],employees:48,climate:null,size:1,knowledge:500,xp:0},effect_modifiers:{happiness:.8,health:1},immediate_variable_changes:{happiness:0,health:0,population:0},tourism_revenue_per_week:0,enables_tourism:!0,styling:"",affordable:null,selected:null,check_for_variety:!1},{id:"lab",title:"🧑‍🔬 Laboratory",type:"science",description:"Design things that can help your city grow. Experiments can cause unexpected situations. Required to build advanced plot types.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:1e5,plots:["community_center","university"],employees:24,climate:null,size:1,knowledge:1500,xp:0},effect_modifiers:{happiness:.95,health:.95},immediate_variable_changes:{happiness:0,health:0,population:0},tourism_revenue_per_week:0,enables_tourism:!0,styling:"",affordable:null,selected:null,check_for_variety:!1}],In={empty_unusable:"rgb(21 28 41);",empty_buildable:"rgb(126, 158, 255)",residential:"#e15f00",farm:"#519c1f",food:"#8a2be2",recreation:"#4070ff",shop:"#ff00ff",tourism:"#ff00ff",education:"rgba(42, 62, 230, 1.0)",medical:"rgba(42, 62, 230, 1.0)",bank:"#7b68ee",federal:"#7b68ee",science:"rgba(42, 62, 230, 1.0)"};function Ci(t,e=!1){if(t<0)return t==-1?e?In.empty_buildable:In.empty:t==-2?In.recreation:In.empty;const n=Pe[t];return In[n.type]}const pr={lab:1,city_hall:1,bank:1,community_center:1},ft="plots_active_game_db",Si="plots_user_db";function qu(){const t=["York","London","Paris","Madrid","Rome","Berlin","Vienna","Prague","Warsaw","Oslo","Lisbon","Dublin","Brussels","Amsterdam","Stockholm","Copenhagen","Edinburgh","Moscow","Beijing","Tokyo","Seoul","Bangkok","Delhi","Mumbai","Shanghai","Sydney","Melbourne","Cairo","Dubai","Istanbul","Athens","Budapest","Reykjavik","Helsinki","Tallinn","Riga","Vilnius","Sofia","Bucharest","Belgrade","Zagreb","Sarajevo","Ljubljana","Skopje","Tirana","Podgorica","Thessaloniki","Barcelona","Valencia","Seville","Granada","Malaga","Lyon","Marseille","Toulouse","Nice","Nantes","Strasbourg","Bordeaux","Lille","Venice","Milan","Florence","Naples","Turin","Bologna","Perugia","Genoa","Pisa","Verona","Palermo","Catania","Bari","Padua","Cagliari","Krakow","Gdansk","Poznan","Wroclaw","Lodz","Katowice","Bialystok","Gdynia","Sopot","Bydgoszcz","Lublin","Szczecin","Gorzow","Zakopane","Olsztyn","Torun","Rzeszow","Kielce","Radom","Siedlce","Los","Angeles","Chicago","Houston","Phoenix","San","Antonio","San","Diego","Dallas","San","Jose","Austin","Jacksonville","Fort","Worth","Columbus","Charlotte","Liverpool","Manchester","Glasgow","Birmingham","Leeds","Sheffield","Newcastle","upon","Tyne","Bristol","Nottingham","Leicester","Coventry","Belfast","Reading","Cardiff","Southampton","Aberdeen","Plymouth","Stoke","Trent","Wolverhampton","Swansea","Sunderland","Portsmouth","Yorkshire","Hull","Blackpool","Bradford","Derby","Middlesbrough","Peterborough","Stockton","on","Tees","Brighton","Poole","Bournemouth","Huddersfield","Luton","Oxford","Norwich","Oldham","Cambridge","Exeter","Walsall","Colchester","Watford","Rotherham","Newport","Gateshead","Dundee","Gloucester","Solihull","High","Wycombe","Maidstone","Slough","Basildon","Chelmsford","Salford","Bedford","Stevenage","Woking","Grimsby","Birkenhead","Halifax","Warrington","Gillingham","Wigan","Worcester","Wakefield","Lincoln","Chester","Rochdale","Dagenham","Widnes","St","Albans","Mansfield","Sutton","Coldfield","Crawley","Wokingham","Barnsley","St","Helens","Harrogate","Redditch","Scunthorpe","Nuneaton","Chesterfield","Hemel","Hempstead","Bury","Guildford","Ashford","Telford","Newcastle","under","Lyme","Aylesbury","Halesowen","Shrewsbury","Lowestoft","Loughborough","Cheltenham","Kidderminster","Basingstoke","Rugby","Stourbridge","Southport","Kettering","Royal","Leamington","Spa","Beeston","Farnborough","Wrexham","Banbury","Weymouth","Wallsend","Dartford","Grays","Tamworth","Ashford","Esher","Folkestone","Tonbridge","Taunton","Runcorn","Macclesfield","Keighley","Bridgend","Barnstaple","Letchworth","Garden","City","Worthing","Gosport","Eastleigh","Staines","upon","Thames","Lisburn","Livingston","Bognor","Regis","Scarborough","Cannock","Margate","Chippenham","Rhondda","Maidenhead","Wellingborough","Washington","Camberley","Bootle","Lancaster","Llanelli","Chatham","Cheshunt","Bishop","Auckland","Nelson","Belper","Pontefract","Barry","Braintree","Crosby","Bury","St","Edmunds","Bexhill","Margate","Aldershot","Rowley","Regis","Hoddesdon","Sittingbourne","Rugby","Newquay","Falmouth","Stretford","Camberley","Beverley","Windsor","Rochester","Wickford","Diss","Farnham","Andover","Camberwell","Bermondsey","Lewisham","Wembley","Hayes","Harrow","Ilford","Enfield","Twickenham","Richmond","Brentwood","Edgware","Ealing","Greenwich","Bromley","Hounslow","Romford","Hillingdon","Uxbridge","Wandsworth","Sutton","Kingston","upon","Thames","Bexley","Havering","Barking"],e=["ia","ville","ton","land","field","burgh","ford","wood","port","bay","beach","peak","valley","ridge","hill","dale","island","cape","spring","grove","polis","side","view","shore","haven","place","gardens","plaza","square"],n=["New","Old","North","South","East","West","Upper","Lower","Little","Great","Saint","Fort","Mount","Lake","River","The Village of","The City of","The Town of","The Borough of","The County of","The State of","The Kingdom of","The Empire of","The Republic of","The Commonwealth of","The Union of","The Federation of","Rainy","Sunny","Windy","Frosty","Snowy"];function i(s){return s[Math.floor(Math.random()*s.length)]}let o=i(n),r=i(t),l=i(e),a="";return Math.random()>.5?a=o+" "+r+l:a=r+l,a}let Se=Ue(JSON.parse(localStorage.getItem(ft)||"null")),mn=Ue(JSON.parse(localStorage.getItem(Si)||"null"));$u();function Du(t,e,n,i){let o={...Ou};o.economyAndLaws.max_tax_rate=Fu[t],o.endGoal=e;let r=[];n=n.replace(/[^a-zA-Z0-9 ]/g,"").trim(),o.townInfo.name=n!=""?n:qu(),o.difficulty=parseInt(t),i&&(o.devMode=!0,o.townInfo.gold=1e8,o.townInfo.happiness=1e7,o.townInfo.health=1e6,o.townInfo.knowledge_points=1e5,o.modifiers.happiness=1e4,o.modifiers.health=1e4);const l=t=="0"?8:t=="1"?12:t=="2"?16:1;for(let a=0;a<l;a++){r.push([]);for(let s=0;s<l;s++)r[a][s]={id:Math.random().toString(36).substring(2,9),active:!1,x:a,y:s,type:-1,typeId:""}}o.plots=r,localStorage.reset=!1,localStorage.setItem(ft,JSON.stringify(o)),Se.set(o),location.reload()}function $u(){if(localStorage.getItem(Si)===null){let t=Lu;localStorage.setItem(Si,JSON.stringify(t)),mn.set(t)}}function hr(t,e){e===void 0&&(e=0);var n=Math.pow(10,e);t=parseFloat((t*n).toFixed(11));var i=Math.round(t)/n;return+i.toFixed(e)}function Ai(t,e,n){let i=n.plots[t][e].type;if(n.plots[t][e].type=-1,n.plots[t][e].active=!1,i>-1&&(n.townInfo.population_count-=Pe[i].immediate_variable_changes.population,n.townInfo.population_max-=Pe[i].immediate_variable_changes.population,n.townInfo.happiness-=Pe[i].immediate_variable_changes.happiness,n.townInfo.health-=Pe[i].immediate_variable_changes.health,n.modifiers.happiness=hr(n.modifiers.happiness/Pe[i].effect_modifiers.happiness,2),n.modifiers.health=hr(n.modifiers.health/Pe[i].effect_modifiers.health,2),n.townInfo.employees-=Pe[i].requirements.employees,(n.plotCounts[i]===void 0||n.plotCounts[i]===null)&&(n.plotCounts[i]=0),n.plotCounts[i]--,(Pe[i].requirements.size??1)>1))for(let r=0;r<n.plots.length;r++)for(let l=0;l<n.plots[t].length;l++)n.plots[r][l].referencePlot!=null&&n.plots[r][l].referencePlot[0]===t&&n.plots[r][l].referencePlot[1]===e&&Ai(r,l,n);n.lastChangeDay=n.environment.day,Se.set(n),localStorage.setItem(ft,JSON.stringify(n))}function st(t,e){let n=[];for(let i=0;i<e.plots.length;i++)for(let o=0;o<e.plots[i].length;o++)e.plots[i][o].active==!1||e.plots[i][o]==null||e.plots[i][o].type===null||e.plots[i][o].type<0||(Pe[e.plots[i][o].type].id===t||Pe[e.plots[i][o].type].type===t)&&n.push(e.plots[i][o]);return n}function Xo(t=null){localStorage.removeItem(ft),Se.set(null),t&&(localStorage.setItem(ft,JSON.stringify(t)),Se.set(t)),location.reload()}function Bu(){zs.update(t=>!t),localStorage.setItem("showOnlyAffordable",localStorage.getItem("showOnlyAffordable")==="true"?"false":"true")}let xe=Ue({visible:!1,x:0,y:0}),Gn=Ue({visible:!1}),vn=Ue({}),gt=Ue(!1),mr=Ue(!1),Ti=Ue(!1),ci=Ue(!1),_r=localStorage.getItem("showCompletedAchievements")==="true"?Ue(!0):Ue(!1),zs=localStorage.getItem("showOnlyAffordable")==="true"?Ue(!0):Ue(!1),Gu=localStorage.getItem("pauseMenuTab")==="game"?Ue("game"):Ue("achievements"),bo=Ue(250),di=Ue(500);function ju(t){return t[t.length-1]}function vo(t){return Object.keys(t).reduce((e,n)=>t[n]===void 0?e:e+`${n}:${t[n]};`,"")}vo({position:"absolute",opacity:0,"pointer-events":"none",margin:0,transform:"translateX(-100%)"});function gr(t){function e(n){return n(t),()=>{}}return{subscribe:e}}const ti=t=>new Proxy(t,{get(e,n,i){return Reflect.get(e,n,i)},ownKeys(e){return Reflect.ownKeys(e).filter(n=>n!=="action")}}),br=t=>typeof t=="function";function At(t,e){const{stores:n,action:i,returned:o}=e??{},r=(()=>{if(n&&o)return xn(n,a=>{const s=o(a);if(br(s)){const u=(...f)=>ti({...s(...f),[`data-melt-${t}`]:"",action:i??Ye});return u.action=i??Ye,u}return ti({...s,[`data-melt-${t}`]:"",action:i??Ye})});{const a=o,s=a==null?void 0:a();if(br(s)){const u=(...f)=>ti({...s(...f),[`data-melt-${t}`]:"",action:i??Ye});return u.action=i??Ye,gr(u)}return gr(ti({...s,[`data-melt-${t}`]:"",action:i??Ye}))}})(),l=i??(()=>{});return l.subscribe=r.subscribe,l}function Hu(t){const e=r=>r?`${t}-${r}`:t,n=r=>`data-melt-${t}${r?`-${r}`:""}`,i=r=>`[data-melt-${t}${r?`-${r}`:""}]`;return{name:e,attribute:n,selector:i,getEl:r=>document.querySelector(i(r))}}const Wu=typeof document<"u",ea=t=>typeof t=="function";function ta(t){return t instanceof Element}function qt(t){return t instanceof HTMLElement}function Vu(t){return t!==null&&typeof t=="object"}function Ku(t){return Vu(t)&&"subscribe"in t}function _n(...t){return(...e)=>{for(const n of t)typeof n=="function"&&n(...e)}}function Ye(){}function Lt(t,e,n,i){const o=Array.isArray(e)?e:[e];return o.forEach(r=>t.addEventListener(r,n,i)),()=>{o.forEach(r=>t.removeEventListener(r,n,i))}}function Ln(t,e,n,i){const o=Array.isArray(e)?e:[e];if(typeof n=="function"){const r=Ju(l=>n(l));return o.forEach(l=>t.addEventListener(l,r,i)),()=>{o.forEach(l=>t.removeEventListener(l,r,i))}}return()=>void 0}function Uu(t){const e=t.currentTarget;if(!qt(e))return null;const n=new CustomEvent(`m-${t.type}`,{detail:{originalEvent:t},cancelable:!0});return e.dispatchEvent(n),n}function Ju(t){return e=>{const n=Uu(e);if(!(n!=null&&n.defaultPrevented))return t(e)}}function Yu(t,...e){const n={};for(const i of Object.keys(t))e.includes(i)||(n[i]=t[i]);return n}function Zn(t){return{...t,get:()=>js(t)}}Zn.writable=function(t){const e=Ue(t);let n=t;return{subscribe:e.subscribe,set(i){e.set(i),n=i},update(i){const o=i(n);e.set(o),n=o},get(){return n}}};Zn.derived=function(t,e){const n=new Map,i=()=>{const r=Array.isArray(t)?t.map(l=>l.get()):t.get();return e(r)};return{get:i,subscribe:r=>{const l=[];return(Array.isArray(t)?t:[t]).forEach(s=>{l.push(s.subscribe(()=>{r(i())}))}),r(i()),n.set(r,l),()=>{const s=n.get(r);if(s)for(const u of s)u();n.delete(r)}}}};const Xu=(t,e)=>{const n=Zn(t),i=(r,l)=>{n.update(a=>{const s=r(a);let u=s;return e&&(u=e({curr:a,next:s})),l==null||l(u),u})};return{...n,update:i,set:r=>{i(()=>r)}}};function na(t){return new Promise(e=>setTimeout(e,t))}let xu="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",Zu=(t=21)=>{let e="",n=t;for(;n--;)e+=xu[Math.random()*64|0];return e};function Qu(){return Zu(10)}function zu(t){return t.reduce((e,n)=>(e[n]=Qu(),e),{})}const Fn={ALT:"Alt",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",CAPS_LOCK:"CapsLock",CONTROL:"Control",DELETE:"Delete",END:"End",ENTER:"Enter",ESCAPE:"Escape",F1:"F1",F10:"F10",F11:"F11",F12:"F12",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",HOME:"Home",META:"Meta",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp",SHIFT:"Shift",SPACE:" ",TAB:"Tab",CTRL:"Control",ASTERISK:"*",A:"a",P:"p"},ia=()=>typeof window<"u";function ef(){const t=navigator.userAgentData;return(t==null?void 0:t.platform)??navigator.platform}const oa=t=>ia()&&t.test(ef().toLowerCase()),tf=()=>ia()&&!!navigator.maxTouchPoints,nf=()=>oa(/^mac/)&&!tf(),of=()=>oa(/mac|iphone|ipad|ipod/i),rf=()=>of()&&!nf(),to="data-melt-scroll-lock";function vr(t,e){if(!t)return;const n=t.style.cssText;return Object.assign(t.style,e),()=>{t.style.cssText=n}}function lf(t,e,n){if(!t)return;const i=t.style.getPropertyValue(e);return t.style.setProperty(e,n),()=>{i?t.style.setProperty(e,i):t.style.removeProperty(e)}}function sf(t){const e=t.getBoundingClientRect().left;return Math.round(e)+t.scrollLeft?"paddingLeft":"paddingRight"}function af(t){const e=t??document,n=e.defaultView??window,{documentElement:i,body:o}=e;if(o.hasAttribute(to))return Ye;o.setAttribute(to,"");const l=n.innerWidth-i.clientWidth,a=()=>lf(i,"--scrollbar-width",`${l}px`),s=sf(i),u=n.getComputedStyle(o)[s],f=()=>vr(o,{overflow:"hidden",[s]:`calc(${u} + ${l}px)`}),c=()=>{const{scrollX:h,scrollY:_,visualViewport:g}=n,v=(g==null?void 0:g.offsetLeft)??0,y=(g==null?void 0:g.offsetTop)??0,N=vr(o,{position:"fixed",overflow:"hidden",top:`${-(_-Math.floor(y))}px`,left:`${-(h-Math.floor(v))}px`,right:"0",[s]:`calc(${u} + ${l}px)`});return()=>{N==null||N(),n.scrollTo(h,_)}},p=[a(),rf()?c():f()];return()=>{p.forEach(h=>h==null?void 0:h()),o.removeAttribute(to)}}const uf=t=>{try{Su(t)}catch{return t}};function Gt(t,e){let n;const i=xn(t,r=>{n==null||n(),n=e(r)}).subscribe(Ye),o=()=>{i(),n==null||n()};return uf(o),o}function yo(t){const e={};return Object.keys(t).forEach(n=>{const i=n,o=t[i];e[i]=Zn(Ue(o))}),e}function ff(t){let e=t.parentElement;for(;qt(e)&&!e.hasAttribute("data-portal");)e=e.parentElement;return e||"body"}function cf(t,e){const n=ff(t);return e!==void 0?e:n==="body"?document.body:null}async function yr(t){const{prop:e,defaultEl:n}=t;if(await Promise.all([na(1),Uo]),e===void 0){n==null||n.focus();return}const i=ea(e)?e(n):e;if(typeof i=="string"){const o=document.querySelector(i);if(!qt(o))return;o.focus()}else qt(i)&&i.focus()}Yi(void 0,t=>{function e(i){t(i),t(void 0)}return Lt(document,"pointerup",e,{passive:!1,capture:!0})});const df=Yi(void 0,t=>{function e(i){i&&i.key===Fn.ESCAPE&&t(i),t(void 0)}return Lt(document,"keydown",e,{passive:!1})}),wr=(t,e={})=>{let n=Ye;function i(o={}){n();const r={enabled:!0,...o},l=Ku(r.enabled)?r.enabled:Yi(r.enabled);n=_n(df.subscribe(a=>{var u;if(!a||!js(l))return;const s=a.target;if(!(!qt(s)||s.closest("[data-escapee]")!==t)){if(a.preventDefault(),r.ignore){if(ea(r.ignore)){if(r.ignore(a))return}else if(Array.isArray(r.ignore)&&r.ignore.length>0&&r.ignore.some(f=>f&&s===f))return}(u=r.handler)==null||u.call(r,a)}}),Gt(l,a=>{a?t.dataset.escapee="":delete t.dataset.escapee}))}return i(e),{update:i,destroy(){t.removeAttribute("data-escapee"),n()}}};/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var ra=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Ii=ra.join(","),la=typeof Element>"u",Yt=la?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Ni=!la&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},Ei=function t(e,n){var i;n===void 0&&(n=!0);var o=e==null||(i=e.getAttribute)===null||i===void 0?void 0:i.call(e,"inert"),r=o===""||o==="true",l=r||n&&e&&t(e.parentNode);return l},pf=function(e){var n,i=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"contenteditable");return i===""||i==="true"},sa=function(e,n,i){if(Ei(e))return[];var o=Array.prototype.slice.apply(e.querySelectorAll(Ii));return n&&Yt.call(e,Ii)&&o.unshift(e),o=o.filter(i),o},aa=function t(e,n,i){for(var o=[],r=Array.from(e);r.length;){var l=r.shift();if(!Ei(l,!1))if(l.tagName==="SLOT"){var a=l.assignedElements(),s=a.length?a:l.children,u=t(s,!0,i);i.flatten?o.push.apply(o,u):o.push({scopeParent:l,candidates:u})}else{var f=Yt.call(l,Ii);f&&i.filter(l)&&(n||!e.includes(l))&&o.push(l);var c=l.shadowRoot||typeof i.getShadowRoot=="function"&&i.getShadowRoot(l),p=!Ei(c,!1)&&(!i.shadowRootFilter||i.shadowRootFilter(l));if(c&&p){var h=t(c===!0?l.children:c.children,!0,i);i.flatten?o.push.apply(o,h):o.push({scopeParent:l,candidates:h})}else r.unshift.apply(r,l.children)}}return o},ua=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},Ht=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||pf(e))&&!ua(e)?0:e.tabIndex},hf=function(e,n){var i=Ht(e);return i<0&&n&&!ua(e)?0:i},mf=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},fa=function(e){return e.tagName==="INPUT"},_f=function(e){return fa(e)&&e.type==="hidden"},gf=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(i){return i.tagName==="SUMMARY"});return n},bf=function(e,n){for(var i=0;i<e.length;i++)if(e[i].checked&&e[i].form===n)return e[i]},vf=function(e){if(!e.name)return!0;var n=e.form||Ni(e),i=function(a){return n.querySelectorAll('input[type="radio"][name="'+a+'"]')},o;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")o=i(window.CSS.escape(e.name));else try{o=i(e.name)}catch(l){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",l.message),!1}var r=bf(o,e.form);return!r||r===e},yf=function(e){return fa(e)&&e.type==="radio"},wf=function(e){return yf(e)&&!vf(e)},kf=function(e){var n,i=e&&Ni(e),o=(n=i)===null||n===void 0?void 0:n.host,r=!1;if(i&&i!==e){var l,a,s;for(r=!!((l=o)!==null&&l!==void 0&&(a=l.ownerDocument)!==null&&a!==void 0&&a.contains(o)||e!=null&&(s=e.ownerDocument)!==null&&s!==void 0&&s.contains(e));!r&&o;){var u,f,c;i=Ni(o),o=(u=i)===null||u===void 0?void 0:u.host,r=!!((f=o)!==null&&f!==void 0&&(c=f.ownerDocument)!==null&&c!==void 0&&c.contains(o))}}return r},kr=function(e){var n=e.getBoundingClientRect(),i=n.width,o=n.height;return i===0&&o===0},Cf=function(e,n){var i=n.displayCheck,o=n.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var r=Yt.call(e,"details>summary:first-of-type"),l=r?e.parentElement:e;if(Yt.call(l,"details:not([open]) *"))return!0;if(!i||i==="full"||i==="legacy-full"){if(typeof o=="function"){for(var a=e;e;){var s=e.parentElement,u=Ni(e);if(s&&!s.shadowRoot&&o(s)===!0)return kr(e);e.assignedSlot?e=e.assignedSlot:!s&&u!==e.ownerDocument?e=u.host:e=s}e=a}if(kf(e))return!e.getClientRects().length;if(i!=="legacy-full")return!0}else if(i==="non-zero-area")return kr(e);return!1},Sf=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var i=0;i<n.children.length;i++){var o=n.children.item(i);if(o.tagName==="LEGEND")return Yt.call(n,"fieldset[disabled] *")?!0:!o.contains(e)}return!0}n=n.parentElement}return!1},Mi=function(e,n){return!(n.disabled||Ei(n)||_f(n)||Cf(n,e)||gf(n)||Sf(n))},wo=function(e,n){return!(wf(n)||Ht(n)<0||!Mi(e,n))},Af=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},Tf=function t(e){var n=[],i=[];return e.forEach(function(o,r){var l=!!o.scopeParent,a=l?o.scopeParent:o,s=hf(a,l),u=l?t(o.candidates):a;s===0?l?n.push.apply(n,u):n.push(a):i.push({documentOrder:r,tabIndex:s,item:o,isScope:l,content:u})}),i.sort(mf).reduce(function(o,r){return r.isScope?o.push.apply(o,r.content):o.push(r.content),o},[]).concat(n)},If=function(e,n){n=n||{};var i;return n.getShadowRoot?i=aa([e],n.includeContainer,{filter:wo.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:Af}):i=sa(e,n.includeContainer,wo.bind(null,n)),Tf(i)},Nf=function(e,n){n=n||{};var i;return n.getShadowRoot?i=aa([e],n.includeContainer,{filter:Mi.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):i=sa(e,n.includeContainer,Mi.bind(null,n)),i},an=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return Yt.call(e,Ii)===!1?!1:wo(n,e)},Ef=ra.concat("iframe").join(","),no=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return Yt.call(e,Ef)===!1?!1:Mi(n,e)};/*!
* focus-trap 7.5.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function Cr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function Sr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Cr(Object(n),!0).forEach(function(i){Mf(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Cr(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Mf(t,e,n){return e=Of(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pf(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Of(t){var e=Pf(t,"string");return typeof e=="symbol"?e:String(e)}var Ar={activateTrap:function(e,n){if(e.length>0){var i=e[e.length-1];i!==n&&i.pause()}var o=e.indexOf(n);o===-1||e.splice(o,1),e.push(n)},deactivateTrap:function(e,n){var i=e.indexOf(n);i!==-1&&e.splice(i,1),e.length>0&&e[e.length-1].unpause()}},Lf=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},Ff=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},jn=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},Rf=function(e){return jn(e)&&!e.shiftKey},qf=function(e){return jn(e)&&e.shiftKey},Tr=function(e){return setTimeout(e,0)},Ir=function(e,n){var i=-1;return e.every(function(o,r){return n(o)?(i=r,!1):!0}),i},Nn=function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return typeof e=="function"?e.apply(void 0,i):e},ni=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},Df=[],$f=function(e,n){var i=(n==null?void 0:n.document)||document,o=(n==null?void 0:n.trapStack)||Df,r=Sr({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:Rf,isKeyBackward:qf},n),l={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},a,s=function(b,m,M){return b&&b[m]!==void 0?b[m]:r[M||m]},u=function(b,m){var M=typeof(m==null?void 0:m.composedPath)=="function"?m.composedPath():void 0;return l.containerGroups.findIndex(function(D){var A=D.container,B=D.tabbableNodes;return A.contains(b)||(M==null?void 0:M.includes(A))||B.find(function(j){return j===b})})},f=function(b){var m=r[b];if(typeof m=="function"){for(var M=arguments.length,D=new Array(M>1?M-1:0),A=1;A<M;A++)D[A-1]=arguments[A];m=m.apply(void 0,D)}if(m===!0&&(m=void 0),!m){if(m===void 0||m===!1)return m;throw new Error("`".concat(b,"` was specified but was not a node, or did not return a node"))}var B=m;if(typeof m=="string"&&(B=i.querySelector(m),!B))throw new Error("`".concat(b,"` as selector refers to no known node"));return B},c=function(){var b=f("initialFocus");if(b===!1)return!1;if(b===void 0||!no(b,r.tabbableOptions))if(u(i.activeElement)>=0)b=i.activeElement;else{var m=l.tabbableGroups[0],M=m&&m.firstTabbableNode;b=M||f("fallbackFocus")}if(!b)throw new Error("Your focus-trap needs to have at least one focusable element");return b},p=function(){if(l.containerGroups=l.containers.map(function(b){var m=If(b,r.tabbableOptions),M=Nf(b,r.tabbableOptions),D=m.length>0?m[0]:void 0,A=m.length>0?m[m.length-1]:void 0,B=M.find(function(ee){return an(ee)}),j=M.slice().reverse().find(function(ee){return an(ee)}),z=!!m.find(function(ee){return Ht(ee)>0});return{container:b,tabbableNodes:m,focusableNodes:M,posTabIndexesFound:z,firstTabbableNode:D,lastTabbableNode:A,firstDomTabbableNode:B,lastDomTabbableNode:j,nextTabbableNode:function(Y){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,ve=m.indexOf(Y);return ve<0?ne?M.slice(M.indexOf(Y)+1).find(function(V){return an(V)}):M.slice(0,M.indexOf(Y)).reverse().find(function(V){return an(V)}):m[ve+(ne?1:-1)]}}}),l.tabbableGroups=l.containerGroups.filter(function(b){return b.tabbableNodes.length>0}),l.tabbableGroups.length<=0&&!f("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(l.containerGroups.find(function(b){return b.posTabIndexesFound})&&l.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},h=function d(b){var m=b.activeElement;if(m)return m.shadowRoot&&m.shadowRoot.activeElement!==null?d(m.shadowRoot):m},_=function d(b){if(b!==!1&&b!==h(document)){if(!b||!b.focus){d(c());return}b.focus({preventScroll:!!r.preventScroll}),l.mostRecentlyFocusedNode=b,Lf(b)&&b.select()}},g=function(b){var m=f("setReturnFocus",b);return m||(m===!1?!1:b)},v=function(b){var m=b.target,M=b.event,D=b.isBackward,A=D===void 0?!1:D;m=m||ni(M),p();var B=null;if(l.tabbableGroups.length>0){var j=u(m,M),z=j>=0?l.containerGroups[j]:void 0;if(j<0)A?B=l.tabbableGroups[l.tabbableGroups.length-1].lastTabbableNode:B=l.tabbableGroups[0].firstTabbableNode;else if(A){var ee=Ir(l.tabbableGroups,function(be){var ke=be.firstTabbableNode;return m===ke});if(ee<0&&(z.container===m||no(m,r.tabbableOptions)&&!an(m,r.tabbableOptions)&&!z.nextTabbableNode(m,!1))&&(ee=j),ee>=0){var Y=ee===0?l.tabbableGroups.length-1:ee-1,ne=l.tabbableGroups[Y];B=Ht(m)>=0?ne.lastTabbableNode:ne.lastDomTabbableNode}else jn(M)||(B=z.nextTabbableNode(m,!1))}else{var ve=Ir(l.tabbableGroups,function(be){var ke=be.lastTabbableNode;return m===ke});if(ve<0&&(z.container===m||no(m,r.tabbableOptions)&&!an(m,r.tabbableOptions)&&!z.nextTabbableNode(m))&&(ve=j),ve>=0){var V=ve===l.tabbableGroups.length-1?0:ve+1,re=l.tabbableGroups[V];B=Ht(m)>=0?re.firstTabbableNode:re.firstDomTabbableNode}else jn(M)||(B=z.nextTabbableNode(m))}}else B=f("fallbackFocus");return B},y=function(b){var m=ni(b);if(!(u(m,b)>=0)){if(Nn(r.clickOutsideDeactivates,b)){a.deactivate({returnFocus:r.returnFocusOnDeactivate});return}Nn(r.allowOutsideClick,b)||b.preventDefault()}},N=function(b){var m=ni(b),M=u(m,b)>=0;if(M||m instanceof Document)M&&(l.mostRecentlyFocusedNode=m);else{b.stopImmediatePropagation();var D,A=!0;if(l.mostRecentlyFocusedNode)if(Ht(l.mostRecentlyFocusedNode)>0){var B=u(l.mostRecentlyFocusedNode),j=l.containerGroups[B].tabbableNodes;if(j.length>0){var z=j.findIndex(function(ee){return ee===l.mostRecentlyFocusedNode});z>=0&&(r.isKeyForward(l.recentNavEvent)?z+1<j.length&&(D=j[z+1],A=!1):z-1>=0&&(D=j[z-1],A=!1))}}else l.containerGroups.some(function(ee){return ee.tabbableNodes.some(function(Y){return Ht(Y)>0})})||(A=!1);else A=!1;A&&(D=v({target:l.mostRecentlyFocusedNode,isBackward:r.isKeyBackward(l.recentNavEvent)})),_(D||l.mostRecentlyFocusedNode||c())}l.recentNavEvent=void 0},I=function(b){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;l.recentNavEvent=b;var M=v({event:b,isBackward:m});M&&(jn(b)&&b.preventDefault(),_(M))},J=function(b){if(Ff(b)&&Nn(r.escapeDeactivates,b)!==!1){b.preventDefault(),a.deactivate();return}(r.isKeyForward(b)||r.isKeyBackward(b))&&I(b,r.isKeyBackward(b))},F=function(b){var m=ni(b);u(m,b)>=0||Nn(r.clickOutsideDeactivates,b)||Nn(r.allowOutsideClick,b)||(b.preventDefault(),b.stopImmediatePropagation())},L=function(){if(l.active)return Ar.activateTrap(o,a),l.delayInitialFocusTimer=r.delayInitialFocus?Tr(function(){_(c())}):_(c()),i.addEventListener("focusin",N,!0),i.addEventListener("mousedown",y,{capture:!0,passive:!1}),i.addEventListener("touchstart",y,{capture:!0,passive:!1}),i.addEventListener("click",F,{capture:!0,passive:!1}),i.addEventListener("keydown",J,{capture:!0,passive:!1}),a},q=function(){if(l.active)return i.removeEventListener("focusin",N,!0),i.removeEventListener("mousedown",y,!0),i.removeEventListener("touchstart",y,!0),i.removeEventListener("click",F,!0),i.removeEventListener("keydown",J,!0),a},$=function(b){var m=b.some(function(M){var D=Array.from(M.removedNodes);return D.some(function(A){return A===l.mostRecentlyFocusedNode})});m&&_(c())},R=typeof window<"u"&&"MutationObserver"in window?new MutationObserver($):void 0,H=function(){R&&(R.disconnect(),l.active&&!l.paused&&l.containers.map(function(b){R.observe(b,{subtree:!0,childList:!0})}))};return a={get active(){return l.active},get paused(){return l.paused},activate:function(b){if(l.active)return this;var m=s(b,"onActivate"),M=s(b,"onPostActivate"),D=s(b,"checkCanFocusTrap");D||p(),l.active=!0,l.paused=!1,l.nodeFocusedBeforeActivation=i.activeElement,m==null||m();var A=function(){D&&p(),L(),H(),M==null||M()};return D?(D(l.containers.concat()).then(A,A),this):(A(),this)},deactivate:function(b){if(!l.active)return this;var m=Sr({onDeactivate:r.onDeactivate,onPostDeactivate:r.onPostDeactivate,checkCanReturnFocus:r.checkCanReturnFocus},b);clearTimeout(l.delayInitialFocusTimer),l.delayInitialFocusTimer=void 0,q(),l.active=!1,l.paused=!1,H(),Ar.deactivateTrap(o,a);var M=s(m,"onDeactivate"),D=s(m,"onPostDeactivate"),A=s(m,"checkCanReturnFocus"),B=s(m,"returnFocus","returnFocusOnDeactivate");M==null||M();var j=function(){Tr(function(){B&&_(g(l.nodeFocusedBeforeActivation)),D==null||D()})};return B&&A?(A(g(l.nodeFocusedBeforeActivation)).then(j,j),this):(j(),this)},pause:function(b){if(l.paused||!l.active)return this;var m=s(b,"onPause"),M=s(b,"onPostPause");return l.paused=!0,m==null||m(),q(),H(),M==null||M(),this},unpause:function(b){if(!l.paused||!l.active)return this;var m=s(b,"onUnpause"),M=s(b,"onPostUnpause");return l.paused=!1,m==null||m(),p(),L(),H(),M==null||M(),this},updateContainerElements:function(b){var m=[].concat(b).filter(Boolean);return l.containers=m.map(function(M){return typeof M=="string"?i.querySelector(M):M}),l.active&&p(),H(),this}},a.updateContainerElements(e),a};function Bf(t={}){let e;const{immediate:n,...i}=t,o=Ue(!1),r=Ue(!1),l=c=>e==null?void 0:e.activate(c),a=c=>{e==null||e.deactivate(c)},s=()=>{e&&(e.pause(),r.set(!0))},u=()=>{e&&(e.unpause(),r.set(!1))};return{useFocusTrap:c=>(e=$f(c,{...i,onActivate(){var p;o.set(!0),(p=t.onActivate)==null||p.call(t)},onDeactivate(){var p;o.set(!1),(p=t.onDeactivate)==null||p.call(t)}}),n&&l(),{destroy(){a(),e=void 0}}),hasFocus:dr(o),isPaused:dr(r),activate:l,deactivate:a,pause:s,unpause:u}}const Gf=(t,e="body")=>{let n;if(!qt(e)&&typeof e!="string")return{destroy:Ye};async function i(r){if(e=r,typeof e=="string"){if(n=document.querySelector(e),n===null&&(await Uo(),n=document.querySelector(e)),n===null)throw new Error(`No element found matching css selector: "${e}"`)}else if(e instanceof HTMLElement)n=e;else throw new TypeError(`Unknown portal target type: ${e===null?"null":typeof e}. Allowed types: string (CSS selector) or HTMLElement.`);t.dataset.portal="",n.appendChild(t),t.hidden=!1}function o(){t.remove()}return i(e),{update:i,destroy:o}};function jf(t,e){let n=Ye;function i(o){n();const{onInteractOutside:r,onInteractOutsideStart:l,enabled:a}=o;if(!a)return;let s=!1,u=!1;function f(h){r&&ii(h,t)&&(l==null||l(h)),s=!0}function c(h){r==null||r(h)}const p=Hf(t);if(typeof PointerEvent<"u"){const h=_=>{s&&ii(_,t)&&c(_),s=!1};n=_n(Lt(p,"pointerdown",f,!0),Lt(p,"pointerup",h,!0))}else{const h=g=>{u?u=!1:s&&ii(g,t)&&c(g),s=!1},_=g=>{u=!0,s&&ii(g,t)&&c(g),s=!1};n=_n(Lt(p,"mousedown",f,!0),Lt(p,"mouseup",h,!0),Lt(p,"touchstart",f,!0),Lt(p,"touchend",_,!0))}}return i(e),{update:i,destroy:n}}function ii(t,e){if("button"in t&&t.button>0)return!1;const n=t.target;if(!ta(n))return!1;const i=n.ownerDocument;return!i||!i.documentElement.contains(n)?!1:e&&!e.contains(n)}function Hf(t){return(t==null?void 0:t.ownerDocument)??document}function Wf(){return{elements:{root:At("label",{action:e=>({destroy:Ln(e,"mousedown",i=>{!i.defaultPrevented&&i.detail>1&&i.preventDefault()})})})}}}const oi=[];function Vf(t,e){let n=Ye;function i(){const r=oi.indexOf(t);r>=0&&oi.splice(r,1)}function o(r){n();const{open:l,onClose:a,shouldCloseOnInteractOutside:s,closeOnInteractOutside:u}=r;na(100).then(()=>{l?oi.push(t):i()});function f(){return ju(oi)===t}function c(){f()&&a&&a()}function p(_){const g=_.target;ta(g)&&g&&f()&&(_.preventDefault(),_.stopPropagation(),_.stopImmediatePropagation())}function h(_){s!=null&&s(_)&&f()&&(_.preventDefault(),_.stopPropagation(),_.stopImmediatePropagation(),c())}n=jf(t,{onInteractOutsideStart:p,onInteractOutside:u?h:void 0,enabled:l}).destroy}return o(e),{update:o,destroy(){i(),n()}}}const{name:Bt}=Hu("dialog"),Kf={preventScroll:!0,closeOnEscape:!0,closeOnOutsideClick:!0,role:"dialog",defaultOpen:!1,portal:"body",forceVisible:!1,openFocus:void 0,closeFocus:void 0,onOutsideClick:void 0},Uf=["content","title","description"];function ca(t){const e={...Kf,...t},n=yo(Yu(e,"ids")),{preventScroll:i,closeOnEscape:o,closeOnOutsideClick:r,role:l,portal:a,forceVisible:s,openFocus:u,closeFocus:f,onOutsideClick:c}=n,p=Zn.writable(null),h=yo({...zu(Uf),...e.ids}),_=e.open??Ue(e.defaultOpen),g=Xu(_,e==null?void 0:e.onOpenChange),v=xn([g,s],([d,b])=>d||b);let y=Ye;function N(d){const b=d.currentTarget,m=d.currentTarget;!qt(b)||!qt(m)||(g.set(!0),p.set(m))}function I(){g.set(!1),yr({prop:f.get(),defaultEl:p.get()})}const J=At(Bt("trigger"),{stores:[g],returned:([d])=>({"aria-haspopup":"dialog","aria-expanded":d,type:"button"}),action:d=>({destroy:_n(Ln(d,"click",m=>{N(m)}),Ln(d,"keydown",m=>{m.key!==Fn.ENTER&&m.key!==Fn.SPACE||(m.preventDefault(),N(m))}))})}),F=At(Bt("overlay"),{stores:[v],returned:([d])=>({hidden:d?void 0:!0,tabindex:-1,style:vo({display:d?void 0:"none"}),"aria-hidden":!0,"data-state":d?"open":"closed"}),action:d=>{let b=Ye;if(o.get()){const m=wr(d,{handler:()=>{I()}});m&&m.destroy&&(b=m.destroy)}return{destroy(){b()}}}}),L=At(Bt("content"),{stores:[v,h.content,h.description,h.title],returned:([d,b,m,M])=>({id:b,role:l.get(),"aria-describedby":m,"aria-labelledby":M,"aria-modal":d?"true":void 0,"data-state":d?"open":"closed",tabindex:-1,hidden:d?void 0:!0,style:vo({display:d?void 0:"none"})}),action:d=>{let b=Ye,m=Ye;const M=_n(Gt([g],([D])=>{if(!D)return;const A=Bf({immediate:!1,escapeDeactivates:!0,clickOutsideDeactivates:!0,returnFocusOnDeactivate:!1,fallbackFocus:d});b=A.activate,m=A.deactivate;const B=A.useFocusTrap(d);return B&&B.destroy?B.destroy:A.deactivate}),Gt([r,g],([D,A])=>Vf(d,{open:A,closeOnInteractOutside:D,onClose(){I()},shouldCloseOnInteractOutside(B){var j;return(j=c.get())==null||j(B),!B.defaultPrevented}}).destroy),Gt([o],([D])=>{if(!D)return Ye;const A=wr(d,{handler:()=>{I()}});return A&&A.destroy?A.destroy:Ye}),Gt([v],([D])=>{Uo().then(()=>{D?b():m()})}));return{destroy:()=>{y(),M()}}}}),q=At(Bt("portalled"),{stores:a,returned:d=>({"data-portal":d?"":void 0}),action:d=>{const b=Gt([a],([m])=>{if(!m)return Ye;const M=cf(d,m);if(M===null)return Ye;const D=Gf(d,M);return D&&D.destroy?D.destroy:Ye});return{destroy(){b()}}}}),$=At(Bt("title"),{stores:[h.title],returned:([d])=>({id:d})}),R=At(Bt("description"),{stores:[h.description],returned:([d])=>({id:d})}),H=At(Bt("close"),{returned:()=>({type:"button"}),action:d=>({destroy:_n(Ln(d,"click",()=>{I()}),Ln(d,"keydown",m=>{m.key!==Fn.SPACE&&m.key!==Fn.ENTER||(m.preventDefault(),I())}))})});return Gt([g,i],([d,b])=>{if(Wu){if(b&&d&&(y=af()),d){const m=document.getElementById(h.content.get());yr({prop:u.get(),defaultEl:m})}return()=>{s.get()||y()}}}),{ids:h,elements:{content:L,trigger:J,title:$,description:R,overlay:F,close:H,portalled:q},states:{open:g},options:n}}const Jf={orientation:"horizontal",decorative:!1},Yf=t=>{const e={...Jf,...t},n=yo(e),{orientation:i,decorative:o}=n;return{elements:{root:At("separator",{stores:[i,o],returned:([l,a])=>({role:a?"none":"separator","aria-orientation":l==="vertical"?l:void 0,"aria-hidden":a,"data-orientation":l})})},options:n}};function Xi(t,e){const n={};return e.forEach(i=>{n[i]={[`data-${t}-${i}`]:""}}),i=>n[i]}function xo(){const t=Au();return e=>{const{originalEvent:n}=e.detail,{cancelable:i}=e,o=n.type;t(o,{originalEvent:n,currentTarget:n.currentTarget},{cancelable:i})||e.preventDefault()}}function Zo(t){const e={};for(const n in t){const i=t[n];i!==void 0&&(e[n]=i)}return e}function Pi(t){return function(e,n){if(n===void 0)return;const i=t[e];i&&i.set(n)}}function da(){return{NAME:"alert-dialog",PARTS:["action","cancel","content","description","overlay","portal","title","trigger"]}}function Xf(t){const{NAME:e,PARTS:n}=da(),i=Xi(e,n),o=ca({...Zo(t),role:"alertdialog",forceVisible:!0}),r={...o,getAttrs:i,updateOption:Pi(o.options)};return Js(e,r),{...r,updateOption:Pi(r.options),getAttrs:i}}function Cn(){const{NAME:t}=da();return Ys(t)}const xf=t=>({ids:t&1}),Nr=t=>({ids:t[0]});function Zf(t){let e;const n=t[12].default,i=fe(n,t,t[11],Nr);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,[r]){i&&i.p&&(!e||r&2049)&&de(i,n,o,o[11],e?ce(n,o[11],r,xf):pe(o[11]),Nr)},i(o){e||(S(i,o),e=!0)},o(o){T(i,o),e=!1},d(o){i&&i.d(o)}}}function Qf(t,e,n){let i,{$$slots:o={},$$scope:r}=e,{preventScroll:l=void 0}=e,{closeOnEscape:a=void 0}=e,{closeOnOutsideClick:s=!1}=e,{portal:u=void 0}=e,{open:f=void 0}=e,{onOpenChange:c=void 0}=e,{openFocus:p=void 0}=e,{closeFocus:h=void 0}=e,{onOutsideClick:_=void 0}=e;const{states:{open:g},updateOption:v,ids:y}=Xf({closeOnEscape:a,preventScroll:l,closeOnOutsideClick:s,portal:u,forceVisible:!0,defaultOpen:f,openFocus:p,closeFocus:h,onOutsideClick:_,onOpenChange:({next:I})=>(f!==I&&(c==null||c(I),n(2,f=I)),I)}),N=xn([y.content,y.description,y.title],([I,J,F])=>({content:I,description:J,title:F}));return ae(t,N,I=>n(0,i=I)),t.$$set=I=>{"preventScroll"in I&&n(3,l=I.preventScroll),"closeOnEscape"in I&&n(4,a=I.closeOnEscape),"closeOnOutsideClick"in I&&n(5,s=I.closeOnOutsideClick),"portal"in I&&n(6,u=I.portal),"open"in I&&n(2,f=I.open),"onOpenChange"in I&&n(7,c=I.onOpenChange),"openFocus"in I&&n(8,p=I.openFocus),"closeFocus"in I&&n(9,h=I.closeFocus),"onOutsideClick"in I&&n(10,_=I.onOutsideClick),"$$scope"in I&&n(11,r=I.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&f!==void 0&&g.set(f),t.$$.dirty&8&&v("preventScroll",l),t.$$.dirty&16&&v("closeOnEscape",a),t.$$.dirty&32&&v("closeOnOutsideClick",s),t.$$.dirty&64&&v("portal",u),t.$$.dirty&256&&v("openFocus",p),t.$$.dirty&512&&v("closeFocus",h),t.$$.dirty&1024&&v("onOutsideClick",_)},[i,N,f,l,a,s,u,c,p,h,_,r,o]}class zf extends _e{constructor(e){super(),me(this,e,Qf,Zf,se,{preventScroll:3,closeOnEscape:4,closeOnOutsideClick:5,portal:6,open:2,onOpenChange:7,openFocus:8,closeFocus:9,onOutsideClick:10})}}const ec=t=>({builder:t&8}),Er=t=>({builder:t[3]}),tc=t=>({builder:t&8}),Mr=t=>({builder:t[3]});function nc(t){let e=t[1],n,i,o=t[1]&&io(t);return{c(){o&&o.c(),n=Me()},m(r,l){o&&o.m(r,l),C(r,n,l),i=!0},p(r,l){r[1]?e?se(e,r[1])?(o.d(1),o=io(r),e=r[1],o.c(),o.m(n.parentNode,n)):o.p(r,l):(o=io(r),e=r[1],o.c(),o.m(n.parentNode,n)):e&&(o.d(1),o=null,e=r[1])},i(r){i||(S(o,r),i=!0)},o(r){T(o,r),i=!1},d(r){r&&k(n),o&&o.d(r)}}}function ic(t){let e;const n=t[9].default,i=fe(n,t,t[8],Mr);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&264)&&de(i,n,o,o[8],e?ce(n,o[8],r,tc):pe(o[8]),Mr)},i(o){e||(S(i,o),e=!0)},o(o){T(i,o),e=!1},d(o){i&&i.d(o)}}}function io(t){let e,n,i,o;const r=t[9].default,l=fe(r,t,t[8],Er);let a=[t[3],t[5]],s={};for(let u=0;u<a.length;u+=1)s=W(s,a[u]);return{c(){e=P(t[1]),l&&l.c(),Ft(t[1])(e,s)},m(u,f){C(u,e,f),l&&l.m(e,null),t[10](e),n=!0,i||(o=Ge(t[3].action(e)),i=!0)},p(u,f){l&&l.p&&(!n||f&264)&&de(l,r,u,u[8],n?ce(r,u[8],f,ec):pe(u[8]),Er),Ft(u[1])(e,s=he(a,[f&8&&u[3],f&32&&u[5]]))},i(u){n||(S(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&k(e),l&&l.d(u),t[10](null),i=!1,o()}}}function oc(t){let e,n,i,o;const r=[ic,nc],l=[];function a(s,u){return s[2]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),i=Me()},m(s,u){l[e].m(s,u),C(s,i,u),o=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Fe(),T(l[f],1,1,()=>{l[f]=null}),Re(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),S(n,1),n.m(i.parentNode,i))},i(s){o||(S(n),o=!0)},o(s){T(n),o=!1},d(s){s&&k(i),l[e].d(s)}}}function rc(t,e,n){let i;const o=["level","asChild","id","el"];let r=ie(e,o),l,{$$slots:a={},$$scope:s}=e,{level:u="h2"}=e,{asChild:f=!1}=e,{id:c=void 0}=e,{el:p=void 0}=e;const{elements:{title:h},ids:_,getAttrs:g}=Cn();ae(t,h,N=>n(7,l=N));const v=g("title");function y(N){Ie[N?"unshift":"push"](()=>{p=N,n(0,p)})}return t.$$set=N=>{e=W(W({},e),Ne(N)),n(5,r=ie(e,o)),"level"in N&&n(1,u=N.level),"asChild"in N&&n(2,f=N.asChild),"id"in N&&n(6,c=N.id),"el"in N&&n(0,p=N.el),"$$scope"in N&&n(8,s=N.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&c&&_.title.set(c),t.$$.dirty&128&&n(3,i=l),t.$$.dirty&8&&Object.assign(i,v)},[p,u,f,i,h,r,c,l,s,a,y]}let lc=class extends _e{constructor(e){super(),me(this,e,rc,oc,se,{level:1,asChild:2,id:6,el:0})}};const sc=t=>({builder:t&4}),Pr=t=>({builder:t[2]}),ac=t=>({builder:t&4}),Or=t=>({builder:t[2]});function uc(t){let e,n,i,o;const r=t[8].default,l=fe(r,t,t[7],Pr);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=W(s,a[u]);return{c(){e=P("button"),l&&l.c(),oe(e,s)},m(u,f){C(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[9](e),n=!0,i||(o=[Ge(t[2].action(e)),U(e,"m-click",t[4]),U(e,"m-keydown",t[4])],i=!0)},p(u,f){l&&l.p&&(!n||f&132)&&de(l,r,u,u[7],n?ce(r,u[7],f,sc):pe(u[7]),Pr),oe(e,s=he(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(S(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&k(e),l&&l.d(u),t[9](null),i=!1,qe(o)}}}function fc(t){let e;const n=t[8].default,i=fe(n,t,t[7],Or);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&132)&&de(i,n,o,o[7],e?ce(n,o[7],r,ac):pe(o[7]),Or)},i(o){e||(S(i,o),e=!0)},o(o){T(i,o),e=!1},d(o){i&&i.d(o)}}}function cc(t){let e,n,i,o;const r=[fc,uc],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),i=Me()},m(s,u){l[e].m(s,u),C(s,i,u),o=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Fe(),T(l[f],1,1,()=>{l[f]=null}),Re(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),S(n,1),n.m(i.parentNode,i))},i(s){o||(S(n),o=!0)},o(s){T(n),o=!1},d(s){s&&k(i),l[e].d(s)}}}function dc(t,e,n){let i;const o=["asChild","el"];let r=ie(e,o),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:p}=Cn();ae(t,c,v=>n(6,l=v));const h=xo(),_=p("action");function g(v){Ie[v?"unshift":"push"](()=>{f=v,n(0,f)})}return t.$$set=v=>{e=W(W({},e),Ne(v)),n(5,r=ie(e,o)),"asChild"in v&&n(1,u=v.asChild),"el"in v&&n(0,f=v.el),"$$scope"in v&&n(7,s=v.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,i=l),t.$$.dirty&4&&Object.assign(i,_)},[f,u,i,c,h,r,l,s,a,g]}let pc=class extends _e{constructor(e){super(),me(this,e,dc,cc,se,{asChild:1,el:0})}};const hc=t=>({builder:t&4}),Lr=t=>({builder:t[2]}),mc=t=>({builder:t&4}),Fr=t=>({builder:t[2]});function _c(t){let e,n,i,o;const r=t[7].default,l=fe(r,t,t[6],Lr);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=W(s,a[u]);return{c(){e=P("div"),l&&l.c(),oe(e,s)},m(u,f){C(u,e,f),l&&l.m(e,null),t[8](e),n=!0,i||(o=Ge(t[2].action(e)),i=!0)},p(u,f){l&&l.p&&(!n||f&68)&&de(l,r,u,u[6],n?ce(r,u[6],f,hc):pe(u[6]),Lr),oe(e,s=he(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(S(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&k(e),l&&l.d(u),t[8](null),i=!1,o()}}}function gc(t){let e;const n=t[7].default,i=fe(n,t,t[6],Fr);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&68)&&de(i,n,o,o[6],e?ce(n,o[6],r,mc):pe(o[6]),Fr)},i(o){e||(S(i,o),e=!0)},o(o){T(i,o),e=!1},d(o){i&&i.d(o)}}}function bc(t){let e,n,i,o;const r=[gc,_c],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),i=Me()},m(s,u){l[e].m(s,u),C(s,i,u),o=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Fe(),T(l[f],1,1,()=>{l[f]=null}),Re(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),S(n,1),n.m(i.parentNode,i))},i(s){o||(S(n),o=!0)},o(s){T(n),o=!1},d(s){s&&k(i),l[e].d(s)}}}function vc(t,e,n){let i;const o=["asChild","el"];let r=ie(e,o),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{portalled:c},getAttrs:p}=Cn();ae(t,c,g=>n(5,l=g));const h=p("portal");function _(g){Ie[g?"unshift":"push"](()=>{f=g,n(0,f)})}return t.$$set=g=>{e=W(W({},e),Ne(g)),n(4,r=ie(e,o)),"asChild"in g&&n(1,u=g.asChild),"el"in g&&n(0,f=g.el),"$$scope"in g&&n(6,s=g.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,i=l),t.$$.dirty&4&&Object.assign(i,h)},[f,u,i,c,r,l,s,a,_]}let yc=class extends _e{constructor(e){super(),me(this,e,vc,bc,se,{asChild:1,el:0})}};const wc=t=>({builder:t[0]&256}),Rr=t=>({builder:t[8]}),kc=t=>({builder:t[0]&256}),qr=t=>({builder:t[8]}),Cc=t=>({builder:t[0]&256}),Dr=t=>({builder:t[8]}),Sc=t=>({builder:t[0]&256}),$r=t=>({builder:t[8]}),Ac=t=>({builder:t[0]&256}),Br=t=>({builder:t[8]}),Tc=t=>({builder:t[0]&256}),Gr=t=>({builder:t[8]});function Ic(t){let e,n,i,o;const r=t[16].default,l=fe(r,t,t[15],Rr);let a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=W(s,a[u]);return{c(){e=P("div"),l&&l.c(),oe(e,s)},m(u,f){C(u,e,f),l&&l.m(e,null),t[56](e),n=!0,i||(o=[Ge(t[8].action(e)),U(e,"pointerdown",t[45]),U(e,"pointermove",t[46]),U(e,"pointerup",t[47]),U(e,"touchend",t[48]),U(e,"touchstart",t[49]),U(e,"touchcancel",t[50]),U(e,"touchmove",t[51])],i=!0)},p(u,f){l&&l.p&&(!n||f[0]&33024)&&de(l,r,u,u[15],n?ce(r,u[15],f,wc):pe(u[15]),Rr),oe(e,s=he(a,[f[0]&256&&u[8],f[0]&4096&&u[12]]))},i(u){n||(S(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&k(e),l&&l.d(u),t[56](null),i=!1,qe(o)}}}function Nc(t){let e,n,i,o,r;const l=t[16].default,a=fe(l,t,t[15],qr);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=W(u,s[f]);return{c(){e=P("div"),a&&a.c(),oe(e,u)},m(f,c){C(f,e,c),a&&a.m(e,null),t[55](e),i=!0,o||(r=[Ge(t[8].action(e)),U(e,"pointerdown",t[38]),U(e,"pointermove",t[39]),U(e,"pointerup",t[40]),U(e,"touchend",t[41]),U(e,"touchstart",t[42]),U(e,"touchcancel",t[43]),U(e,"touchmove",t[44])],o=!0)},p(f,c){t=f,a&&a.p&&(!i||c[0]&33024)&&de(a,l,t,t[15],i?ce(l,t[15],c,kc):pe(t[15]),qr),oe(e,u=he(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){i||(S(a,f),n&&n.end(1),i=!0)},o(f){T(a,f),f&&(n=$t(e,t[5],t[6])),i=!1},d(f){f&&k(e),a&&a.d(f),t[55](null),f&&n&&n.end(),o=!1,qe(r)}}}function Ec(t){let e,n,i,o,r;const l=t[16].default,a=fe(l,t,t[15],Dr);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=W(u,s[f]);return{c(){e=P("div"),a&&a.c(),oe(e,u)},m(f,c){C(f,e,c),a&&a.m(e,null),t[54](e),i=!0,o||(r=[Ge(t[8].action(e)),U(e,"pointerdown",t[31]),U(e,"pointermove",t[32]),U(e,"pointerup",t[33]),U(e,"touchend",t[34]),U(e,"touchstart",t[35]),U(e,"touchcancel",t[36]),U(e,"touchmove",t[37])],o=!0)},p(f,c){t=f,a&&a.p&&(!i||c[0]&33024)&&de(a,l,t,t[15],i?ce(l,t[15],c,Cc):pe(t[15]),Dr),oe(e,u=he(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){i||(S(a,f),f&&(n||Ze(()=>{n=Dt(e,t[3],t[4]),n.start()})),i=!0)},o(f){T(a,f),i=!1},d(f){f&&k(e),a&&a.d(f),t[54](null),o=!1,qe(r)}}}function Mc(t){let e,n,i,o,r,l;const a=t[16].default,s=fe(a,t,t[15],$r);let u=[t[8],t[12]],f={};for(let c=0;c<u.length;c+=1)f=W(f,u[c]);return{c(){e=P("div"),s&&s.c(),oe(e,f)},m(c,p){C(c,e,p),s&&s.m(e,null),t[53](e),o=!0,r||(l=[Ge(t[8].action(e)),U(e,"pointerdown",t[24]),U(e,"pointermove",t[25]),U(e,"pointerup",t[26]),U(e,"touchend",t[27]),U(e,"touchstart",t[28]),U(e,"touchcancel",t[29]),U(e,"touchmove",t[30])],r=!0)},p(c,p){t=c,s&&s.p&&(!o||p[0]&33024)&&de(s,a,t,t[15],o?ce(a,t[15],p,Sc):pe(t[15]),$r),oe(e,f=he(u,[p[0]&256&&t[8],p[0]&4096&&t[12]]))},i(c){o||(S(s,c),c&&Ze(()=>{o&&(i&&i.end(1),n=Dt(e,t[3],t[4]),n.start())}),o=!0)},o(c){T(s,c),n&&n.invalidate(),c&&(i=$t(e,t[5],t[6])),o=!1},d(c){c&&k(e),s&&s.d(c),t[53](null),c&&i&&i.end(),r=!1,qe(l)}}}function Pc(t){let e,n,i,o,r;const l=t[16].default,a=fe(l,t,t[15],Br);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=W(u,s[f]);return{c(){e=P("div"),a&&a.c(),oe(e,u)},m(f,c){C(f,e,c),a&&a.m(e,null),t[52](e),i=!0,o||(r=[Ge(t[8].action(e)),U(e,"pointerdown",t[17]),U(e,"pointermove",t[18]),U(e,"pointerup",t[19]),U(e,"touchend",t[20]),U(e,"touchstart",t[21]),U(e,"touchcancel",t[22]),U(e,"touchmove",t[23])],o=!0)},p(f,c){t=f,a&&a.p&&(!i||c[0]&33024)&&de(a,l,t,t[15],i?ce(l,t[15],c,Ac):pe(t[15]),Br),oe(e,u=he(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){i||(S(a,f),f&&Ze(()=>{i&&(n||(n=Rt(e,t[1],t[2],!0)),n.run(1))}),i=!0)},o(f){T(a,f),f&&(n||(n=Rt(e,t[1],t[2],!1)),n.run(0)),i=!1},d(f){f&&k(e),a&&a.d(f),t[52](null),f&&n&&n.end(),o=!1,qe(r)}}}function Oc(t){let e;const n=t[16].default,i=fe(n,t,t[15],Gr);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r[0]&33024)&&de(i,n,o,o[15],e?ce(n,o[15],r,Tc):pe(o[15]),Gr)},i(o){e||(S(i,o),e=!0)},o(o){T(i,o),e=!1},d(o){i&&i.d(o)}}}function Lc(t){let e,n,i,o;const r=[Oc,Pc,Mc,Ec,Nc,Ic],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),i=Me()},m(s,u){~e&&l[e].m(s,u),C(s,i,u),o=!0},p(s,u){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Fe(),T(l[f],1,1,()=>{l[f]=null}),Re()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),S(n,1),n.m(i.parentNode,i)):n=null)},i(s){o||(S(n),o=!0)},o(s){T(n),o=!1},d(s){s&&k(i),~e&&l[e].d(s)}}}function Fc(t,e,n){let i;const o=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","id","asChild","el"];let r=ie(e,o),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:p=void 0}=e,{inTransitionConfig:h=void 0}=e,{outTransition:_=void 0}=e,{outTransitionConfig:g=void 0}=e,{id:v=void 0}=e,{asChild:y=!1}=e,{el:N=void 0}=e;const{elements:{content:I},states:{open:J},ids:F,getAttrs:L}=Cn();ae(t,I,E=>n(14,l=E)),ae(t,J,E=>n(9,a=E));const q=L("content");function $(E){X.call(this,t,E)}function R(E){X.call(this,t,E)}function H(E){X.call(this,t,E)}function d(E){X.call(this,t,E)}function b(E){X.call(this,t,E)}function m(E){X.call(this,t,E)}function M(E){X.call(this,t,E)}function D(E){X.call(this,t,E)}function A(E){X.call(this,t,E)}function B(E){X.call(this,t,E)}function j(E){X.call(this,t,E)}function z(E){X.call(this,t,E)}function ee(E){X.call(this,t,E)}function Y(E){X.call(this,t,E)}function ne(E){X.call(this,t,E)}function ve(E){X.call(this,t,E)}function V(E){X.call(this,t,E)}function re(E){X.call(this,t,E)}function be(E){X.call(this,t,E)}function ke(E){X.call(this,t,E)}function Ae(E){X.call(this,t,E)}function Ee(E){X.call(this,t,E)}function ge(E){X.call(this,t,E)}function $e(E){X.call(this,t,E)}function le(E){X.call(this,t,E)}function Le(E){X.call(this,t,E)}function Ve(E){X.call(this,t,E)}function Xe(E){X.call(this,t,E)}function tt(E){X.call(this,t,E)}function Ke(E){X.call(this,t,E)}function De(E){X.call(this,t,E)}function ut(E){X.call(this,t,E)}function ct(E){X.call(this,t,E)}function Qe(E){X.call(this,t,E)}function ze(E){X.call(this,t,E)}function He(E){Ie[E?"unshift":"push"](()=>{N=E,n(0,N)})}function Be(E){Ie[E?"unshift":"push"](()=>{N=E,n(0,N)})}function Ce(E){Ie[E?"unshift":"push"](()=>{N=E,n(0,N)})}function te(E){Ie[E?"unshift":"push"](()=>{N=E,n(0,N)})}function je(E){Ie[E?"unshift":"push"](()=>{N=E,n(0,N)})}return t.$$set=E=>{e=W(W({},e),Ne(E)),n(12,r=ie(e,o)),"transition"in E&&n(1,f=E.transition),"transitionConfig"in E&&n(2,c=E.transitionConfig),"inTransition"in E&&n(3,p=E.inTransition),"inTransitionConfig"in E&&n(4,h=E.inTransitionConfig),"outTransition"in E&&n(5,_=E.outTransition),"outTransitionConfig"in E&&n(6,g=E.outTransitionConfig),"id"in E&&n(13,v=E.id),"asChild"in E&&n(7,y=E.asChild),"el"in E&&n(0,N=E.el),"$$scope"in E&&n(15,u=E.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&8192&&v&&F.content.set(v),t.$$.dirty[0]&16384&&n(8,i=l),t.$$.dirty[0]&256&&Object.assign(i,q)},[N,f,c,p,h,_,g,y,i,a,I,J,r,v,l,u,s,$,R,H,d,b,m,M,D,A,B,j,z,ee,Y,ne,ve,V,re,be,ke,Ae,Ee,ge,$e,le,Le,Ve,Xe,tt,Ke,De,ut,ct,Qe,ze,He,Be,Ce,te,je]}let Rc=class extends _e{constructor(e){super(),me(this,e,Fc,Lc,se,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,id:13,asChild:7,el:0},null,[-1,-1])}};const qc=t=>({builder:t&256}),jr=t=>({builder:t[8]});function Dc(t){let e,n,i,o=[t[8],t[12]],r={};for(let l=0;l<o.length;l+=1)r=W(r,o[l]);return{c(){e=P("div"),oe(e,r)},m(l,a){C(l,e,a),t[20](e),n||(i=Ge(t[8].action(e)),n=!0)},p(l,a){oe(e,r=he(o,[a&256&&l[8],a&4096&&l[12]]))},i:ye,o:ye,d(l){l&&k(e),t[20](null),n=!1,i()}}}function $c(t){let e,n,i,o,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=W(a,l[s]);return{c(){e=P("div"),oe(e,a)},m(s,u){C(s,e,u),t[19](e),i=!0,o||(r=Ge(t[8].action(e)),o=!0)},p(s,u){t=s,oe(e,a=he(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){i||(n&&n.end(1),i=!0)},o(s){s&&(n=$t(e,t[5],t[6])),i=!1},d(s){s&&k(e),t[19](null),s&&n&&n.end(),o=!1,r()}}}function Bc(t){let e,n,i,o,r=[t[8],t[12]],l={};for(let a=0;a<r.length;a+=1)l=W(l,r[a]);return{c(){e=P("div"),oe(e,l)},m(a,s){C(a,e,s),t[18](e),i||(o=Ge(t[8].action(e)),i=!0)},p(a,s){t=a,oe(e,l=he(r,[s&256&&t[8],s&4096&&t[12]]))},i(a){a&&(n||Ze(()=>{n=Dt(e,t[3],t[4]),n.start()}))},o:ye,d(a){a&&k(e),t[18](null),i=!1,o()}}}function Gc(t){let e,n,i,o,r,l,a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=W(s,a[u]);return{c(){e=P("div"),oe(e,s)},m(u,f){C(u,e,f),t[17](e),o=!0,r||(l=Ge(t[8].action(e)),r=!0)},p(u,f){t=u,oe(e,s=he(a,[f&256&&t[8],f&4096&&t[12]]))},i(u){o||(u&&Ze(()=>{o&&(i&&i.end(1),n=Dt(e,t[3],t[4]),n.start())}),o=!0)},o(u){n&&n.invalidate(),u&&(i=$t(e,t[5],t[6])),o=!1},d(u){u&&k(e),t[17](null),u&&i&&i.end(),r=!1,l()}}}function jc(t){let e,n,i,o,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=W(a,l[s]);return{c(){e=P("div"),oe(e,a)},m(s,u){C(s,e,u),t[16](e),i=!0,o||(r=Ge(t[8].action(e)),o=!0)},p(s,u){t=s,oe(e,a=he(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){i||(s&&Ze(()=>{i&&(n||(n=Rt(e,t[1],t[2],!0)),n.run(1))}),i=!0)},o(s){s&&(n||(n=Rt(e,t[1],t[2],!1)),n.run(0)),i=!1},d(s){s&&k(e),t[16](null),s&&n&&n.end(),o=!1,r()}}}function Hc(t){let e;const n=t[15].default,i=fe(n,t,t[14],jr);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&16640)&&de(i,n,o,o[14],e?ce(n,o[14],r,qc):pe(o[14]),jr)},i(o){e||(S(i,o),e=!0)},o(o){T(i,o),e=!1},d(o){i&&i.d(o)}}}function Wc(t){let e,n,i,o;const r=[Hc,jc,Gc,Bc,$c,Dc],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),i=Me()},m(s,u){~e&&l[e].m(s,u),C(s,i,u),o=!0},p(s,[u]){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Fe(),T(l[f],1,1,()=>{l[f]=null}),Re()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),S(n,1),n.m(i.parentNode,i)):n=null)},i(s){o||(S(n),o=!0)},o(s){T(n),o=!1},d(s){s&&k(i),~e&&l[e].d(s)}}}function Vc(t,e,n){let i;const o=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","el"];let r=ie(e,o),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:p=void 0}=e,{inTransitionConfig:h=void 0}=e,{outTransition:_=void 0}=e,{outTransitionConfig:g=void 0}=e,{asChild:v=!1}=e,{el:y=void 0}=e;const{elements:{overlay:N},states:{open:I},getAttrs:J}=Cn();ae(t,N,d=>n(13,l=d)),ae(t,I,d=>n(9,a=d));const F=J("overlay");function L(d){Ie[d?"unshift":"push"](()=>{y=d,n(0,y)})}function q(d){Ie[d?"unshift":"push"](()=>{y=d,n(0,y)})}function $(d){Ie[d?"unshift":"push"](()=>{y=d,n(0,y)})}function R(d){Ie[d?"unshift":"push"](()=>{y=d,n(0,y)})}function H(d){Ie[d?"unshift":"push"](()=>{y=d,n(0,y)})}return t.$$set=d=>{e=W(W({},e),Ne(d)),n(12,r=ie(e,o)),"transition"in d&&n(1,f=d.transition),"transitionConfig"in d&&n(2,c=d.transitionConfig),"inTransition"in d&&n(3,p=d.inTransition),"inTransitionConfig"in d&&n(4,h=d.inTransitionConfig),"outTransition"in d&&n(5,_=d.outTransition),"outTransitionConfig"in d&&n(6,g=d.outTransitionConfig),"asChild"in d&&n(7,v=d.asChild),"el"in d&&n(0,y=d.el),"$$scope"in d&&n(14,u=d.$$scope)},t.$$.update=()=>{t.$$.dirty&8192&&n(8,i=l),t.$$.dirty&256&&Object.assign(i,F)},[y,f,c,p,h,_,g,v,i,a,N,I,r,l,u,s,L,q,$,R,H]}let Kc=class extends _e{constructor(e){super(),me(this,e,Vc,Wc,se,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,el:0})}};const Uc=t=>({builder:t&4}),Hr=t=>({builder:t[2]}),Jc=t=>({builder:t&4}),Wr=t=>({builder:t[2]});function Yc(t){let e,n,i,o;const r=t[8].default,l=fe(r,t,t[7],Hr);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=W(s,a[u]);return{c(){e=P("div"),l&&l.c(),oe(e,s)},m(u,f){C(u,e,f),l&&l.m(e,null),t[9](e),n=!0,i||(o=Ge(t[2].action(e)),i=!0)},p(u,f){l&&l.p&&(!n||f&132)&&de(l,r,u,u[7],n?ce(r,u[7],f,Uc):pe(u[7]),Hr),oe(e,s=he(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(S(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&k(e),l&&l.d(u),t[9](null),i=!1,o()}}}function Xc(t){let e;const n=t[8].default,i=fe(n,t,t[7],Wr);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&132)&&de(i,n,o,o[7],e?ce(n,o[7],r,Jc):pe(o[7]),Wr)},i(o){e||(S(i,o),e=!0)},o(o){T(i,o),e=!1},d(o){i&&i.d(o)}}}function xc(t){let e,n,i,o;const r=[Xc,Yc],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),i=Me()},m(s,u){l[e].m(s,u),C(s,i,u),o=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Fe(),T(l[f],1,1,()=>{l[f]=null}),Re(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),S(n,1),n.m(i.parentNode,i))},i(s){o||(S(n),o=!0)},o(s){T(n),o=!1},d(s){s&&k(i),l[e].d(s)}}}function Zc(t,e,n){let i;const o=["asChild","id","el"];let r=ie(e,o),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{description:p},ids:h,getAttrs:_}=Cn();ae(t,p,y=>n(6,l=y));const g=_("description");function v(y){Ie[y?"unshift":"push"](()=>{c=y,n(0,c)})}return t.$$set=y=>{e=W(W({},e),Ne(y)),n(4,r=ie(e,o)),"asChild"in y&&n(1,u=y.asChild),"id"in y&&n(5,f=y.id),"el"in y&&n(0,c=y.el),"$$scope"in y&&n(7,s=y.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f&&h.description.set(f),t.$$.dirty&64&&n(2,i=l),t.$$.dirty&4&&Object.assign(i,g)},[c,u,i,p,r,f,l,s,a,v]}let Qc=class extends _e{constructor(e){super(),me(this,e,Zc,xc,se,{asChild:1,id:5,el:0})}};function zc(t,e){const n=[];return e.builders.forEach(i=>{const o=i.action(t);o&&n.push(o)}),{destroy:()=>{n.forEach(i=>{i.destroy&&i.destroy()})}}}function Vr(t){const e={};return t.forEach(n=>{Object.keys(n).forEach(i=>{i!=="action"&&(e[i]=n[i])})}),e}function ed(t){let e=t[1]?"a":"button",n,i,o=(t[1]?"a":"button")&&oo(t);return{c(){o&&o.c(),n=Me()},m(r,l){o&&o.m(r,l),C(r,n,l),i=!0},p(r,l){r[1],e?se(e,r[1]?"a":"button")?(o.d(1),o=oo(r),e=r[1]?"a":"button",o.c(),o.m(n.parentNode,n)):o.p(r,l):(o=oo(r),e=r[1]?"a":"button",o.c(),o.m(n.parentNode,n))},i(r){i||(S(o,r),i=!0)},o(r){T(o,r),i=!1},d(r){r&&k(n),o&&o.d(r)}}}function td(t){let e=t[1]?"a":"button",n,i,o=(t[1]?"a":"button")&&ro(t);return{c(){o&&o.c(),n=Me()},m(r,l){o&&o.m(r,l),C(r,n,l),i=!0},p(r,l){r[1],e?se(e,r[1]?"a":"button")?(o.d(1),o=ro(r),e=r[1]?"a":"button",o.c(),o.m(n.parentNode,n)):o.p(r,l):(o=ro(r),e=r[1]?"a":"button",o.c(),o.m(n.parentNode,n))},i(r){i||(S(o,r),i=!0)},o(r){T(o,r),i=!1},d(r){r&&k(n),o&&o.d(r)}}}function oo(t){let e,n,i,o,r;const l=t[7].default,a=fe(l,t,t[6],null);let s=[{type:n=t[1]?void 0:t[2]},{href:t[1]},{tabindex:"0"},t[5],t[4]],u={};for(let f=0;f<s.length;f+=1)u=W(u,s[f]);return{c(){e=P(t[1]?"a":"button"),a&&a.c(),Ft(t[1]?"a":"button")(e,u)},m(f,c){C(f,e,c),a&&a.m(e,null),i=!0,o||(r=[U(e,"click",t[14]),U(e,"change",t[15]),U(e,"keydown",t[16]),U(e,"keyup",t[17]),U(e,"mouseenter",t[18]),U(e,"mouseleave",t[19])],o=!0)},p(f,c){a&&a.p&&(!i||c&64)&&de(a,l,f,f[6],i?ce(l,f[6],c,null):pe(f[6]),null),Ft(f[1]?"a":"button")(e,u=he(s,[(!i||c&6&&n!==(n=f[1]?void 0:f[2]))&&{type:n},(!i||c&2)&&{href:f[1]},{tabindex:"0"},c&32&&f[5],f[4]]))},i(f){i||(S(a,f),i=!0)},o(f){T(a,f),i=!1},d(f){f&&k(e),a&&a.d(f),o=!1,qe(r)}}}function ro(t){let e,n,i,o,r,l;const a=t[7].default,s=fe(a,t,t[6],null);let u=[{type:n=t[1]?void 0:t[2]},{href:t[1]},{tabindex:"0"},Vr(t[3]),t[5],t[4]],f={};for(let c=0;c<u.length;c+=1)f=W(f,u[c]);return{c(){e=P(t[1]?"a":"button"),s&&s.c(),Ft(t[1]?"a":"button")(e,f)},m(c,p){C(c,e,p),s&&s.m(e,null),t[20](e),o=!0,r||(l=[U(e,"click",t[8]),U(e,"change",t[9]),U(e,"keydown",t[10]),U(e,"keyup",t[11]),U(e,"mouseenter",t[12]),U(e,"mouseleave",t[13]),Ge(i=zc.call(null,e,{builders:t[3]}))],r=!0)},p(c,p){s&&s.p&&(!o||p&64)&&de(s,a,c,c[6],o?ce(a,c[6],p,null):pe(c[6]),null),Ft(c[1]?"a":"button")(e,f=he(u,[(!o||p&6&&n!==(n=c[1]?void 0:c[2]))&&{type:n},(!o||p&2)&&{href:c[1]},{tabindex:"0"},p&8&&Vr(c[3]),p&32&&c[5],c[4]])),i&&Nt(i.update)&&p&8&&i.update.call(null,{builders:c[3]})},i(c){o||(S(s,c),o=!0)},o(c){T(s,c),o=!1},d(c){c&&k(e),s&&s.d(c),t[20](null),r=!1,qe(l)}}}function nd(t){let e,n,i,o;const r=[td,ed],l=[];function a(s,u){return s[3]&&s[3].length?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),i=Me()},m(s,u){l[e].m(s,u),C(s,i,u),o=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Fe(),T(l[f],1,1,()=>{l[f]=null}),Re(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),S(n,1),n.m(i.parentNode,i))},i(s){o||(S(n),o=!0)},o(s){T(n),o=!1},d(s){s&&k(i),l[e].d(s)}}}function id(t,e,n){const i=["href","type","builders","el"];let o=ie(e,i),{$$slots:r={},$$scope:l}=e,{href:a=void 0}=e,{type:s=void 0}=e,{builders:u=[]}=e,{el:f=void 0}=e;const c={"data-button-root":""};function p(R){X.call(this,t,R)}function h(R){X.call(this,t,R)}function _(R){X.call(this,t,R)}function g(R){X.call(this,t,R)}function v(R){X.call(this,t,R)}function y(R){X.call(this,t,R)}function N(R){X.call(this,t,R)}function I(R){X.call(this,t,R)}function J(R){X.call(this,t,R)}function F(R){X.call(this,t,R)}function L(R){X.call(this,t,R)}function q(R){X.call(this,t,R)}function $(R){Ie[R?"unshift":"push"](()=>{f=R,n(0,f)})}return t.$$set=R=>{e=W(W({},e),Ne(R)),n(5,o=ie(e,i)),"href"in R&&n(1,a=R.href),"type"in R&&n(2,s=R.type),"builders"in R&&n(3,u=R.builders),"el"in R&&n(0,f=R.el),"$$scope"in R&&n(6,l=R.$$scope)},[f,a,s,u,c,o,l,r,p,h,_,g,v,y,N,I,J,F,L,q,$]}let od=class extends _e{constructor(e){super(),me(this,e,id,nd,se,{href:1,type:2,builders:3,el:0})}};function rd(){return{NAME:"separator",PARTS:["root"]}}function ld(t){const{NAME:e,PARTS:n}=rd(),i=Xi(e,n),o={...Yf(Zo(t)),getAttrs:i};return{...o,updateOption:Pi(o.options)}}const sd=t=>({builder:t&4}),Kr=t=>({builder:t[2]});function ad(t){let e,n,i,o=[t[2],t[4]],r={};for(let l=0;l<o.length;l+=1)r=W(r,o[l]);return{c(){e=P("div"),oe(e,r)},m(l,a){C(l,e,a),t[10](e),n||(i=Ge(t[2].action(e)),n=!0)},p(l,a){oe(e,r=he(o,[a&4&&l[2],a&16&&l[4]]))},i:ye,o:ye,d(l){l&&k(e),t[10](null),n=!1,i()}}}function ud(t){let e;const n=t[9].default,i=fe(n,t,t[8],Kr);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&260)&&de(i,n,o,o[8],e?ce(n,o[8],r,sd):pe(o[8]),Kr)},i(o){e||(S(i,o),e=!0)},o(o){T(i,o),e=!1},d(o){i&&i.d(o)}}}function fd(t){let e,n,i,o;const r=[ud,ad],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),i=Me()},m(s,u){l[e].m(s,u),C(s,i,u),o=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Fe(),T(l[f],1,1,()=>{l[f]=null}),Re(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),S(n,1),n.m(i.parentNode,i))},i(s){o||(S(n),o=!0)},o(s){T(n),o=!1},d(s){s&&k(i),l[e].d(s)}}}function cd(t,e,n){let i;const o=["orientation","decorative","asChild","el"];let r=ie(e,o),l,{$$slots:a={},$$scope:s}=e,{orientation:u="horizontal"}=e,{decorative:f=!0}=e,{asChild:c=!1}=e,{el:p=void 0}=e;const{elements:{root:h},updateOption:_,getAttrs:g}=ld({orientation:u,decorative:f});ae(t,h,N=>n(7,l=N));const v=g("root");function y(N){Ie[N?"unshift":"push"](()=>{p=N,n(0,p)})}return t.$$set=N=>{e=W(W({},e),Ne(N)),n(4,r=ie(e,o)),"orientation"in N&&n(5,u=N.orientation),"decorative"in N&&n(6,f=N.decorative),"asChild"in N&&n(1,c=N.asChild),"el"in N&&n(0,p=N.el),"$$scope"in N&&n(8,s=N.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&_("orientation",u),t.$$.dirty&64&&_("decorative",f),t.$$.dirty&128&&n(2,i=l),t.$$.dirty&4&&Object.assign(i,v)},[p,c,i,h,r,u,f,l,s,a,y]}let dd=class extends _e{constructor(e){super(),me(this,e,cd,fd,se,{orientation:5,decorative:6,asChild:1,el:0})}};function pa(){return{NAME:"dialog",PARTS:["close","content","description","overlay","portal","title","trigger"]}}function pd(t){const{NAME:e,PARTS:n}=pa(),i=Xi(e,n),o={...ca({...Zo(t),role:"dialog",forceVisible:!0}),getAttrs:i};return Js(e,o),{...o,updateOption:Pi(o.options)}}function Sn(){const{NAME:t}=pa();return Ys(t)}const hd=t=>({ids:t&1}),Ur=t=>({ids:t[0]});function md(t){let e;const n=t[12].default,i=fe(n,t,t[11],Ur);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,[r]){i&&i.p&&(!e||r&2049)&&de(i,n,o,o[11],e?ce(n,o[11],r,hd):pe(o[11]),Ur)},i(o){e||(S(i,o),e=!0)},o(o){T(i,o),e=!1},d(o){i&&i.d(o)}}}function _d(t,e,n){let i,{$$slots:o={},$$scope:r}=e,{preventScroll:l=void 0}=e,{closeOnEscape:a=void 0}=e,{closeOnOutsideClick:s=void 0}=e,{portal:u=void 0}=e,{open:f=void 0}=e,{onOpenChange:c=void 0}=e,{openFocus:p=void 0}=e,{closeFocus:h=void 0}=e,{onOutsideClick:_=void 0}=e;const{states:{open:g},updateOption:v,ids:y}=pd({closeOnEscape:a,preventScroll:l,closeOnOutsideClick:s,portal:u,forceVisible:!0,defaultOpen:f,openFocus:p,closeFocus:h,onOutsideClick:_,onOpenChange:({next:I})=>(f!==I&&(c==null||c(I),n(2,f=I)),I)}),N=xn([y.content,y.description,y.title],([I,J,F])=>({content:I,description:J,title:F}));return ae(t,N,I=>n(0,i=I)),t.$$set=I=>{"preventScroll"in I&&n(3,l=I.preventScroll),"closeOnEscape"in I&&n(4,a=I.closeOnEscape),"closeOnOutsideClick"in I&&n(5,s=I.closeOnOutsideClick),"portal"in I&&n(6,u=I.portal),"open"in I&&n(2,f=I.open),"onOpenChange"in I&&n(7,c=I.onOpenChange),"openFocus"in I&&n(8,p=I.openFocus),"closeFocus"in I&&n(9,h=I.closeFocus),"onOutsideClick"in I&&n(10,_=I.onOutsideClick),"$$scope"in I&&n(11,r=I.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&f!==void 0&&g.set(f),t.$$.dirty&8&&v("preventScroll",l),t.$$.dirty&16&&v("closeOnEscape",a),t.$$.dirty&32&&v("closeOnOutsideClick",s),t.$$.dirty&64&&v("portal",u),t.$$.dirty&256&&v("openFocus",p),t.$$.dirty&512&&v("closeFocus",h),t.$$.dirty&1024&&v("onOutsideClick",_)},[i,N,f,l,a,s,u,c,p,h,_,r,o]}class gd extends _e{constructor(e){super(),me(this,e,_d,md,se,{preventScroll:3,closeOnEscape:4,closeOnOutsideClick:5,portal:6,open:2,onOpenChange:7,openFocus:8,closeFocus:9,onOutsideClick:10})}}const bd=t=>({builder:t&8}),Jr=t=>({builder:t[3]}),vd=t=>({builder:t&8}),Yr=t=>({builder:t[3]});function yd(t){let e=t[1],n,i,o=t[1]&&lo(t);return{c(){o&&o.c(),n=Me()},m(r,l){o&&o.m(r,l),C(r,n,l),i=!0},p(r,l){r[1]?e?se(e,r[1])?(o.d(1),o=lo(r),e=r[1],o.c(),o.m(n.parentNode,n)):o.p(r,l):(o=lo(r),e=r[1],o.c(),o.m(n.parentNode,n)):e&&(o.d(1),o=null,e=r[1])},i(r){i||(S(o,r),i=!0)},o(r){T(o,r),i=!1},d(r){r&&k(n),o&&o.d(r)}}}function wd(t){let e;const n=t[9].default,i=fe(n,t,t[8],Yr);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&264)&&de(i,n,o,o[8],e?ce(n,o[8],r,vd):pe(o[8]),Yr)},i(o){e||(S(i,o),e=!0)},o(o){T(i,o),e=!1},d(o){i&&i.d(o)}}}function lo(t){let e,n,i,o;const r=t[9].default,l=fe(r,t,t[8],Jr);let a=[t[3],t[5]],s={};for(let u=0;u<a.length;u+=1)s=W(s,a[u]);return{c(){e=P(t[1]),l&&l.c(),Ft(t[1])(e,s)},m(u,f){C(u,e,f),l&&l.m(e,null),t[10](e),n=!0,i||(o=Ge(t[3].action(e)),i=!0)},p(u,f){l&&l.p&&(!n||f&264)&&de(l,r,u,u[8],n?ce(r,u[8],f,bd):pe(u[8]),Jr),Ft(u[1])(e,s=he(a,[f&8&&u[3],f&32&&u[5]]))},i(u){n||(S(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&k(e),l&&l.d(u),t[10](null),i=!1,o()}}}function kd(t){let e,n,i,o;const r=[wd,yd],l=[];function a(s,u){return s[2]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),i=Me()},m(s,u){l[e].m(s,u),C(s,i,u),o=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Fe(),T(l[f],1,1,()=>{l[f]=null}),Re(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),S(n,1),n.m(i.parentNode,i))},i(s){o||(S(n),o=!0)},o(s){T(n),o=!1},d(s){s&&k(i),l[e].d(s)}}}function Cd(t,e,n){let i;const o=["level","asChild","id","el"];let r=ie(e,o),l,{$$slots:a={},$$scope:s}=e,{level:u="h2"}=e,{asChild:f=!1}=e,{id:c=void 0}=e,{el:p=void 0}=e;const{elements:{title:h},ids:_,getAttrs:g}=Sn();ae(t,h,N=>n(7,l=N));const v=g("title");function y(N){Ie[N?"unshift":"push"](()=>{p=N,n(0,p)})}return t.$$set=N=>{e=W(W({},e),Ne(N)),n(5,r=ie(e,o)),"level"in N&&n(1,u=N.level),"asChild"in N&&n(2,f=N.asChild),"id"in N&&n(6,c=N.id),"el"in N&&n(0,p=N.el),"$$scope"in N&&n(8,s=N.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&c&&_.title.set(c),t.$$.dirty&128&&n(3,i=l),t.$$.dirty&8&&Object.assign(i,v)},[p,u,f,i,h,r,c,l,s,a,y]}let Sd=class extends _e{constructor(e){super(),me(this,e,Cd,kd,se,{level:1,asChild:2,id:6,el:0})}};const Ad=t=>({builder:t&4}),Xr=t=>({builder:t[2]}),Td=t=>({builder:t&4}),xr=t=>({builder:t[2]});function Id(t){let e,n,i,o;const r=t[8].default,l=fe(r,t,t[7],Xr);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=W(s,a[u]);return{c(){e=P("button"),l&&l.c(),oe(e,s)},m(u,f){C(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[9](e),n=!0,i||(o=[Ge(t[2].action(e)),U(e,"m-click",t[4]),U(e,"m-keydown",t[4])],i=!0)},p(u,f){l&&l.p&&(!n||f&132)&&de(l,r,u,u[7],n?ce(r,u[7],f,Ad):pe(u[7]),Xr),oe(e,s=he(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(S(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&k(e),l&&l.d(u),t[9](null),i=!1,qe(o)}}}function Nd(t){let e;const n=t[8].default,i=fe(n,t,t[7],xr);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&132)&&de(i,n,o,o[7],e?ce(n,o[7],r,Td):pe(o[7]),xr)},i(o){e||(S(i,o),e=!0)},o(o){T(i,o),e=!1},d(o){i&&i.d(o)}}}function Ed(t){let e,n,i,o;const r=[Nd,Id],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),i=Me()},m(s,u){l[e].m(s,u),C(s,i,u),o=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Fe(),T(l[f],1,1,()=>{l[f]=null}),Re(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),S(n,1),n.m(i.parentNode,i))},i(s){o||(S(n),o=!0)},o(s){T(n),o=!1},d(s){s&&k(i),l[e].d(s)}}}function Md(t,e,n){let i;const o=["asChild","el"];let r=ie(e,o),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:p}=Sn();ae(t,c,v=>n(6,l=v));const h=xo(),_=p("close");function g(v){Ie[v?"unshift":"push"](()=>{f=v,n(0,f)})}return t.$$set=v=>{e=W(W({},e),Ne(v)),n(5,r=ie(e,o)),"asChild"in v&&n(1,u=v.asChild),"el"in v&&n(0,f=v.el),"$$scope"in v&&n(7,s=v.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,i=l),t.$$.dirty&4&&Object.assign(i,_)},[f,u,i,c,h,r,l,s,a,g]}class Pd extends _e{constructor(e){super(),me(this,e,Md,Ed,se,{asChild:1,el:0})}}const Od=t=>({builder:t&4}),Zr=t=>({builder:t[2]}),Ld=t=>({builder:t&4}),Qr=t=>({builder:t[2]});function Fd(t){let e,n,i,o;const r=t[7].default,l=fe(r,t,t[6],Zr);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=W(s,a[u]);return{c(){e=P("div"),l&&l.c(),oe(e,s)},m(u,f){C(u,e,f),l&&l.m(e,null),t[8](e),n=!0,i||(o=Ge(t[2].action(e)),i=!0)},p(u,f){l&&l.p&&(!n||f&68)&&de(l,r,u,u[6],n?ce(r,u[6],f,Od):pe(u[6]),Zr),oe(e,s=he(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(S(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&k(e),l&&l.d(u),t[8](null),i=!1,o()}}}function Rd(t){let e;const n=t[7].default,i=fe(n,t,t[6],Qr);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&68)&&de(i,n,o,o[6],e?ce(n,o[6],r,Ld):pe(o[6]),Qr)},i(o){e||(S(i,o),e=!0)},o(o){T(i,o),e=!1},d(o){i&&i.d(o)}}}function qd(t){let e,n,i,o;const r=[Rd,Fd],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),i=Me()},m(s,u){l[e].m(s,u),C(s,i,u),o=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Fe(),T(l[f],1,1,()=>{l[f]=null}),Re(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),S(n,1),n.m(i.parentNode,i))},i(s){o||(S(n),o=!0)},o(s){T(n),o=!1},d(s){s&&k(i),l[e].d(s)}}}function Dd(t,e,n){let i;const o=["asChild","el"];let r=ie(e,o),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{portalled:c},getAttrs:p}=Sn();ae(t,c,g=>n(5,l=g));const h=p("portal");function _(g){Ie[g?"unshift":"push"](()=>{f=g,n(0,f)})}return t.$$set=g=>{e=W(W({},e),Ne(g)),n(4,r=ie(e,o)),"asChild"in g&&n(1,u=g.asChild),"el"in g&&n(0,f=g.el),"$$scope"in g&&n(6,s=g.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,i=l),t.$$.dirty&4&&Object.assign(i,h)},[f,u,i,c,r,l,s,a,_]}let $d=class extends _e{constructor(e){super(),me(this,e,Dd,qd,se,{asChild:1,el:0})}};const Bd=t=>({builder:t[0]&256}),zr=t=>({builder:t[8]}),Gd=t=>({builder:t[0]&256}),el=t=>({builder:t[8]}),jd=t=>({builder:t[0]&256}),tl=t=>({builder:t[8]}),Hd=t=>({builder:t[0]&256}),nl=t=>({builder:t[8]}),Wd=t=>({builder:t[0]&256}),il=t=>({builder:t[8]}),Vd=t=>({builder:t[0]&256}),ol=t=>({builder:t[8]});function Kd(t){let e,n,i,o;const r=t[16].default,l=fe(r,t,t[15],zr);let a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=W(s,a[u]);return{c(){e=P("div"),l&&l.c(),oe(e,s)},m(u,f){C(u,e,f),l&&l.m(e,null),t[56](e),n=!0,i||(o=[Ge(t[8].action(e)),U(e,"pointerdown",t[45]),U(e,"pointermove",t[46]),U(e,"pointerup",t[47]),U(e,"touchend",t[48]),U(e,"touchstart",t[49]),U(e,"touchcancel",t[50]),U(e,"touchmove",t[51])],i=!0)},p(u,f){l&&l.p&&(!n||f[0]&33024)&&de(l,r,u,u[15],n?ce(r,u[15],f,Bd):pe(u[15]),zr),oe(e,s=he(a,[f[0]&256&&u[8],f[0]&4096&&u[12]]))},i(u){n||(S(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&k(e),l&&l.d(u),t[56](null),i=!1,qe(o)}}}function Ud(t){let e,n,i,o,r;const l=t[16].default,a=fe(l,t,t[15],el);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=W(u,s[f]);return{c(){e=P("div"),a&&a.c(),oe(e,u)},m(f,c){C(f,e,c),a&&a.m(e,null),t[55](e),i=!0,o||(r=[Ge(t[8].action(e)),U(e,"pointerdown",t[38]),U(e,"pointermove",t[39]),U(e,"pointerup",t[40]),U(e,"touchend",t[41]),U(e,"touchstart",t[42]),U(e,"touchcancel",t[43]),U(e,"touchmove",t[44])],o=!0)},p(f,c){t=f,a&&a.p&&(!i||c[0]&33024)&&de(a,l,t,t[15],i?ce(l,t[15],c,Gd):pe(t[15]),el),oe(e,u=he(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){i||(S(a,f),n&&n.end(1),i=!0)},o(f){T(a,f),f&&(n=$t(e,t[5],t[6])),i=!1},d(f){f&&k(e),a&&a.d(f),t[55](null),f&&n&&n.end(),o=!1,qe(r)}}}function Jd(t){let e,n,i,o,r;const l=t[16].default,a=fe(l,t,t[15],tl);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=W(u,s[f]);return{c(){e=P("div"),a&&a.c(),oe(e,u)},m(f,c){C(f,e,c),a&&a.m(e,null),t[54](e),i=!0,o||(r=[Ge(t[8].action(e)),U(e,"pointerdown",t[31]),U(e,"pointermove",t[32]),U(e,"pointerup",t[33]),U(e,"touchend",t[34]),U(e,"touchstart",t[35]),U(e,"touchcancel",t[36]),U(e,"touchmove",t[37])],o=!0)},p(f,c){t=f,a&&a.p&&(!i||c[0]&33024)&&de(a,l,t,t[15],i?ce(l,t[15],c,jd):pe(t[15]),tl),oe(e,u=he(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){i||(S(a,f),f&&(n||Ze(()=>{n=Dt(e,t[3],t[4]),n.start()})),i=!0)},o(f){T(a,f),i=!1},d(f){f&&k(e),a&&a.d(f),t[54](null),o=!1,qe(r)}}}function Yd(t){let e,n,i,o,r,l;const a=t[16].default,s=fe(a,t,t[15],nl);let u=[t[8],t[12]],f={};for(let c=0;c<u.length;c+=1)f=W(f,u[c]);return{c(){e=P("div"),s&&s.c(),oe(e,f)},m(c,p){C(c,e,p),s&&s.m(e,null),t[53](e),o=!0,r||(l=[Ge(t[8].action(e)),U(e,"pointerdown",t[24]),U(e,"pointermove",t[25]),U(e,"pointerup",t[26]),U(e,"touchend",t[27]),U(e,"touchstart",t[28]),U(e,"touchcancel",t[29]),U(e,"touchmove",t[30])],r=!0)},p(c,p){t=c,s&&s.p&&(!o||p[0]&33024)&&de(s,a,t,t[15],o?ce(a,t[15],p,Hd):pe(t[15]),nl),oe(e,f=he(u,[p[0]&256&&t[8],p[0]&4096&&t[12]]))},i(c){o||(S(s,c),c&&Ze(()=>{o&&(i&&i.end(1),n=Dt(e,t[3],t[4]),n.start())}),o=!0)},o(c){T(s,c),n&&n.invalidate(),c&&(i=$t(e,t[5],t[6])),o=!1},d(c){c&&k(e),s&&s.d(c),t[53](null),c&&i&&i.end(),r=!1,qe(l)}}}function Xd(t){let e,n,i,o,r;const l=t[16].default,a=fe(l,t,t[15],il);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=W(u,s[f]);return{c(){e=P("div"),a&&a.c(),oe(e,u)},m(f,c){C(f,e,c),a&&a.m(e,null),t[52](e),i=!0,o||(r=[Ge(t[8].action(e)),U(e,"pointerdown",t[17]),U(e,"pointermove",t[18]),U(e,"pointerup",t[19]),U(e,"touchend",t[20]),U(e,"touchstart",t[21]),U(e,"touchcancel",t[22]),U(e,"touchmove",t[23])],o=!0)},p(f,c){t=f,a&&a.p&&(!i||c[0]&33024)&&de(a,l,t,t[15],i?ce(l,t[15],c,Wd):pe(t[15]),il),oe(e,u=he(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){i||(S(a,f),f&&Ze(()=>{i&&(n||(n=Rt(e,t[1],t[2],!0)),n.run(1))}),i=!0)},o(f){T(a,f),f&&(n||(n=Rt(e,t[1],t[2],!1)),n.run(0)),i=!1},d(f){f&&k(e),a&&a.d(f),t[52](null),f&&n&&n.end(),o=!1,qe(r)}}}function xd(t){let e;const n=t[16].default,i=fe(n,t,t[15],ol);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r[0]&33024)&&de(i,n,o,o[15],e?ce(n,o[15],r,Vd):pe(o[15]),ol)},i(o){e||(S(i,o),e=!0)},o(o){T(i,o),e=!1},d(o){i&&i.d(o)}}}function Zd(t){let e,n,i,o;const r=[xd,Xd,Yd,Jd,Ud,Kd],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),i=Me()},m(s,u){~e&&l[e].m(s,u),C(s,i,u),o=!0},p(s,u){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Fe(),T(l[f],1,1,()=>{l[f]=null}),Re()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),S(n,1),n.m(i.parentNode,i)):n=null)},i(s){o||(S(n),o=!0)},o(s){T(n),o=!1},d(s){s&&k(i),~e&&l[e].d(s)}}}function Qd(t,e,n){let i;const o=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","id","el"];let r=ie(e,o),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:p=void 0}=e,{inTransitionConfig:h=void 0}=e,{outTransition:_=void 0}=e,{outTransitionConfig:g=void 0}=e,{asChild:v=!1}=e,{id:y=void 0}=e,{el:N=void 0}=e;const{elements:{content:I},states:{open:J},ids:F,getAttrs:L}=Sn();ae(t,I,E=>n(14,l=E)),ae(t,J,E=>n(9,a=E));const q=L("content");function $(E){X.call(this,t,E)}function R(E){X.call(this,t,E)}function H(E){X.call(this,t,E)}function d(E){X.call(this,t,E)}function b(E){X.call(this,t,E)}function m(E){X.call(this,t,E)}function M(E){X.call(this,t,E)}function D(E){X.call(this,t,E)}function A(E){X.call(this,t,E)}function B(E){X.call(this,t,E)}function j(E){X.call(this,t,E)}function z(E){X.call(this,t,E)}function ee(E){X.call(this,t,E)}function Y(E){X.call(this,t,E)}function ne(E){X.call(this,t,E)}function ve(E){X.call(this,t,E)}function V(E){X.call(this,t,E)}function re(E){X.call(this,t,E)}function be(E){X.call(this,t,E)}function ke(E){X.call(this,t,E)}function Ae(E){X.call(this,t,E)}function Ee(E){X.call(this,t,E)}function ge(E){X.call(this,t,E)}function $e(E){X.call(this,t,E)}function le(E){X.call(this,t,E)}function Le(E){X.call(this,t,E)}function Ve(E){X.call(this,t,E)}function Xe(E){X.call(this,t,E)}function tt(E){X.call(this,t,E)}function Ke(E){X.call(this,t,E)}function De(E){X.call(this,t,E)}function ut(E){X.call(this,t,E)}function ct(E){X.call(this,t,E)}function Qe(E){X.call(this,t,E)}function ze(E){X.call(this,t,E)}function He(E){Ie[E?"unshift":"push"](()=>{N=E,n(0,N)})}function Be(E){Ie[E?"unshift":"push"](()=>{N=E,n(0,N)})}function Ce(E){Ie[E?"unshift":"push"](()=>{N=E,n(0,N)})}function te(E){Ie[E?"unshift":"push"](()=>{N=E,n(0,N)})}function je(E){Ie[E?"unshift":"push"](()=>{N=E,n(0,N)})}return t.$$set=E=>{e=W(W({},e),Ne(E)),n(12,r=ie(e,o)),"transition"in E&&n(1,f=E.transition),"transitionConfig"in E&&n(2,c=E.transitionConfig),"inTransition"in E&&n(3,p=E.inTransition),"inTransitionConfig"in E&&n(4,h=E.inTransitionConfig),"outTransition"in E&&n(5,_=E.outTransition),"outTransitionConfig"in E&&n(6,g=E.outTransitionConfig),"asChild"in E&&n(7,v=E.asChild),"id"in E&&n(13,y=E.id),"el"in E&&n(0,N=E.el),"$$scope"in E&&n(15,u=E.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&8192&&y&&F.content.set(y),t.$$.dirty[0]&16384&&n(8,i=l),t.$$.dirty[0]&256&&Object.assign(i,q)},[N,f,c,p,h,_,g,v,i,a,I,J,r,y,l,u,s,$,R,H,d,b,m,M,D,A,B,j,z,ee,Y,ne,ve,V,re,be,ke,Ae,Ee,ge,$e,le,Le,Ve,Xe,tt,Ke,De,ut,ct,Qe,ze,He,Be,Ce,te,je]}let zd=class extends _e{constructor(e){super(),me(this,e,Qd,Zd,se,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,id:13,el:0},null,[-1,-1])}};const ep=t=>({builder:t&256}),rl=t=>({builder:t[8]});function tp(t){let e,n,i,o=[t[8],t[12]],r={};for(let l=0;l<o.length;l+=1)r=W(r,o[l]);return{c(){e=P("div"),oe(e,r)},m(l,a){C(l,e,a),t[25](e),n||(i=[Ge(t[8].action(e)),U(e,"mouseup",t[20])],n=!0)},p(l,a){oe(e,r=he(o,[a&256&&l[8],a&4096&&l[12]]))},i:ye,o:ye,d(l){l&&k(e),t[25](null),n=!1,qe(i)}}}function np(t){let e,n,i,o,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=W(a,l[s]);return{c(){e=P("div"),oe(e,a)},m(s,u){C(s,e,u),t[24](e),i=!0,o||(r=[Ge(t[8].action(e)),U(e,"mouseup",t[19])],o=!0)},p(s,u){t=s,oe(e,a=he(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){i||(n&&n.end(1),i=!0)},o(s){s&&(n=$t(e,t[5],t[6])),i=!1},d(s){s&&k(e),t[24](null),s&&n&&n.end(),o=!1,qe(r)}}}function ip(t){let e,n,i,o,r=[t[8],t[12]],l={};for(let a=0;a<r.length;a+=1)l=W(l,r[a]);return{c(){e=P("div"),oe(e,l)},m(a,s){C(a,e,s),t[23](e),i||(o=[Ge(t[8].action(e)),U(e,"mouseup",t[18])],i=!0)},p(a,s){t=a,oe(e,l=he(r,[s&256&&t[8],s&4096&&t[12]]))},i(a){a&&(n||Ze(()=>{n=Dt(e,t[3],t[4]),n.start()}))},o:ye,d(a){a&&k(e),t[23](null),i=!1,qe(o)}}}function op(t){let e,n,i,o,r,l,a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=W(s,a[u]);return{c(){e=P("div"),oe(e,s)},m(u,f){C(u,e,f),t[22](e),o=!0,r||(l=[Ge(t[8].action(e)),U(e,"mouseup",t[17])],r=!0)},p(u,f){t=u,oe(e,s=he(a,[f&256&&t[8],f&4096&&t[12]]))},i(u){o||(u&&Ze(()=>{o&&(i&&i.end(1),n=Dt(e,t[3],t[4]),n.start())}),o=!0)},o(u){n&&n.invalidate(),u&&(i=$t(e,t[5],t[6])),o=!1},d(u){u&&k(e),t[22](null),u&&i&&i.end(),r=!1,qe(l)}}}function rp(t){let e,n,i,o,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=W(a,l[s]);return{c(){e=P("div"),oe(e,a)},m(s,u){C(s,e,u),t[21](e),i=!0,o||(r=[U(e,"mouseup",t[16]),Ge(t[8].action(e))],o=!0)},p(s,u){t=s,oe(e,a=he(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){i||(s&&Ze(()=>{i&&(n||(n=Rt(e,t[1],t[2],!0)),n.run(1))}),i=!0)},o(s){s&&(n||(n=Rt(e,t[1],t[2],!1)),n.run(0)),i=!1},d(s){s&&k(e),t[21](null),s&&n&&n.end(),o=!1,qe(r)}}}function lp(t){let e;const n=t[15].default,i=fe(n,t,t[14],rl);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&16640)&&de(i,n,o,o[14],e?ce(n,o[14],r,ep):pe(o[14]),rl)},i(o){e||(S(i,o),e=!0)},o(o){T(i,o),e=!1},d(o){i&&i.d(o)}}}function sp(t){let e,n,i,o;const r=[lp,rp,op,ip,np,tp],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),i=Me()},m(s,u){~e&&l[e].m(s,u),C(s,i,u),o=!0},p(s,[u]){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Fe(),T(l[f],1,1,()=>{l[f]=null}),Re()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),S(n,1),n.m(i.parentNode,i)):n=null)},i(s){o||(S(n),o=!0)},o(s){T(n),o=!1},d(s){s&&k(i),~e&&l[e].d(s)}}}function ap(t,e,n){let i;const o=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","el"];let r=ie(e,o),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:p=void 0}=e,{inTransitionConfig:h=void 0}=e,{outTransition:_=void 0}=e,{outTransitionConfig:g=void 0}=e,{asChild:v=!1}=e,{el:y=void 0}=e;const{elements:{overlay:N},states:{open:I},getAttrs:J}=Sn();ae(t,N,A=>n(13,l=A)),ae(t,I,A=>n(9,a=A));const F=J("overlay");function L(A){X.call(this,t,A)}function q(A){X.call(this,t,A)}function $(A){X.call(this,t,A)}function R(A){X.call(this,t,A)}function H(A){X.call(this,t,A)}function d(A){Ie[A?"unshift":"push"](()=>{y=A,n(0,y)})}function b(A){Ie[A?"unshift":"push"](()=>{y=A,n(0,y)})}function m(A){Ie[A?"unshift":"push"](()=>{y=A,n(0,y)})}function M(A){Ie[A?"unshift":"push"](()=>{y=A,n(0,y)})}function D(A){Ie[A?"unshift":"push"](()=>{y=A,n(0,y)})}return t.$$set=A=>{e=W(W({},e),Ne(A)),n(12,r=ie(e,o)),"transition"in A&&n(1,f=A.transition),"transitionConfig"in A&&n(2,c=A.transitionConfig),"inTransition"in A&&n(3,p=A.inTransition),"inTransitionConfig"in A&&n(4,h=A.inTransitionConfig),"outTransition"in A&&n(5,_=A.outTransition),"outTransitionConfig"in A&&n(6,g=A.outTransitionConfig),"asChild"in A&&n(7,v=A.asChild),"el"in A&&n(0,y=A.el),"$$scope"in A&&n(14,u=A.$$scope)},t.$$.update=()=>{t.$$.dirty&8192&&n(8,i=l),t.$$.dirty&256&&Object.assign(i,F)},[y,f,c,p,h,_,g,v,i,a,N,I,r,l,u,s,L,q,$,R,H,d,b,m,M,D]}let up=class extends _e{constructor(e){super(),me(this,e,ap,sp,se,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,el:0})}};const fp=t=>({builder:t&4}),ll=t=>({builder:t[2]}),cp=t=>({builder:t&4}),sl=t=>({builder:t[2]});function dp(t){let e,n,i,o;const r=t[8].default,l=fe(r,t,t[7],ll);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=W(s,a[u]);return{c(){e=P("div"),l&&l.c(),oe(e,s)},m(u,f){C(u,e,f),l&&l.m(e,null),t[9](e),n=!0,i||(o=Ge(t[2].action(e)),i=!0)},p(u,f){l&&l.p&&(!n||f&132)&&de(l,r,u,u[7],n?ce(r,u[7],f,fp):pe(u[7]),ll),oe(e,s=he(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(S(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&k(e),l&&l.d(u),t[9](null),i=!1,o()}}}function pp(t){let e;const n=t[8].default,i=fe(n,t,t[7],sl);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&132)&&de(i,n,o,o[7],e?ce(n,o[7],r,cp):pe(o[7]),sl)},i(o){e||(S(i,o),e=!0)},o(o){T(i,o),e=!1},d(o){i&&i.d(o)}}}function hp(t){let e,n,i,o;const r=[pp,dp],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),i=Me()},m(s,u){l[e].m(s,u),C(s,i,u),o=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Fe(),T(l[f],1,1,()=>{l[f]=null}),Re(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),S(n,1),n.m(i.parentNode,i))},i(s){o||(S(n),o=!0)},o(s){T(n),o=!1},d(s){s&&k(i),l[e].d(s)}}}function mp(t,e,n){let i;const o=["asChild","id","el"];let r=ie(e,o),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{description:p},ids:h,getAttrs:_}=Sn();ae(t,p,y=>n(6,l=y));const g=_("description");function v(y){Ie[y?"unshift":"push"](()=>{c=y,n(0,c)})}return t.$$set=y=>{e=W(W({},e),Ne(y)),n(4,r=ie(e,o)),"asChild"in y&&n(1,u=y.asChild),"id"in y&&n(5,f=y.id),"el"in y&&n(0,c=y.el),"$$scope"in y&&n(7,s=y.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f&&h.description.set(f),t.$$.dirty&64&&n(2,i=l),t.$$.dirty&4&&Object.assign(i,g)},[c,u,i,p,r,f,l,s,a,v]}let _p=class extends _e{constructor(e){super(),me(this,e,mp,hp,se,{asChild:1,id:5,el:0})}};function gp(){const t="label",n=Xi(t,["root"]);return{NAME:t,getAttrs:n}}const bp=t=>({builder:t&4}),al=t=>({builder:t[2]}),vp=t=>({builder:t&4}),ul=t=>({builder:t[2]});function yp(t){let e,n,i,o;const r=t[8].default,l=fe(r,t,t[7],al);let a=[t[2],t[5]],s={};for(let u=0;u<a.length;u+=1)s=W(s,a[u]);return{c(){e=P("label"),l&&l.c(),oe(e,s)},m(u,f){C(u,e,f),l&&l.m(e,null),t[9](e),n=!0,i||(o=[Ge(t[2].action(e)),U(e,"m-mousedown",t[4])],i=!0)},p(u,f){l&&l.p&&(!n||f&132)&&de(l,r,u,u[7],n?ce(r,u[7],f,bp):pe(u[7]),al),oe(e,s=he(a,[f&4&&u[2],f&32&&u[5]]))},i(u){n||(S(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&k(e),l&&l.d(u),t[9](null),i=!1,qe(o)}}}function wp(t){let e;const n=t[8].default,i=fe(n,t,t[7],ul);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&132)&&de(i,n,o,o[7],e?ce(n,o[7],r,vp):pe(o[7]),ul)},i(o){e||(S(i,o),e=!0)},o(o){T(i,o),e=!1},d(o){i&&i.d(o)}}}function kp(t){let e,n,i,o;const r=[wp,yp],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),i=Me()},m(s,u){l[e].m(s,u),C(s,i,u),o=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Fe(),T(l[f],1,1,()=>{l[f]=null}),Re(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),S(n,1),n.m(i.parentNode,i))},i(s){o||(S(n),o=!0)},o(s){T(n),o=!1},d(s){s&&k(i),l[e].d(s)}}}function Cp(t,e,n){let i;const o=["asChild","el"];let r=ie(e,o),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{root:c}}=Wf();ae(t,c,v=>n(6,l=v));const p=xo(),{getAttrs:h}=gp(),_=h("root");function g(v){Ie[v?"unshift":"push"](()=>{f=v,n(0,f)})}return t.$$set=v=>{e=W(W({},e),Ne(v)),n(5,r=ie(e,o)),"asChild"in v&&n(1,u=v.asChild),"el"in v&&n(0,f=v.el),"$$scope"in v&&n(7,s=v.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,i=l),t.$$.dirty&4&&Object.assign(i,_)},[f,u,i,c,p,r,l,s,a,g]}let Sp=class extends _e{constructor(e){super(),me(this,e,Cp,kp,se,{asChild:1,el:0})}};function ha(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(e=0;e<o;e++)t[e]&&(n=ha(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function Ap(){for(var t,e,n=0,i="",o=arguments.length;n<o;n++)(t=arguments[n])&&(e=ha(t))&&(i&&(i+=" "),i+=e);return i}const Qo="-";function Tp(t){const e=Np(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=t;function o(l){const a=l.split(Qo);return a[0]===""&&a.length!==1&&a.shift(),ma(a,e)||Ip(l)}function r(l,a){const s=n[l]||[];return a&&i[l]?[...s,...i[l]]:s}return{getClassGroupId:o,getConflictingClassGroupIds:r}}function ma(t,e){var l;if(t.length===0)return e.classGroupId;const n=t[0],i=e.nextPart.get(n),o=i?ma(t.slice(1),i):void 0;if(o)return o;if(e.validators.length===0)return;const r=t.join(Qo);return(l=e.validators.find(({validator:a})=>a(r)))==null?void 0:l.classGroupId}const fl=/^\[(.+)\]$/;function Ip(t){if(fl.test(t)){const e=fl.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function Np(t){const{theme:e,prefix:n}=t,i={nextPart:new Map,validators:[]};return Mp(Object.entries(t.classGroups),n).forEach(([r,l])=>{ko(l,i,r,e)}),i}function ko(t,e,n,i){t.forEach(o=>{if(typeof o=="string"){const r=o===""?e:cl(e,o);r.classGroupId=n;return}if(typeof o=="function"){if(Ep(o)){ko(o(i),e,n,i);return}e.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([r,l])=>{ko(l,cl(e,r),n,i)})})}function cl(t,e){let n=t;return e.split(Qo).forEach(i=>{n.nextPart.has(i)||n.nextPart.set(i,{nextPart:new Map,validators:[]}),n=n.nextPart.get(i)}),n}function Ep(t){return t.isThemeGetter}function Mp(t,e){return e?t.map(([n,i])=>{const o=i.map(r=>typeof r=="string"?e+r:typeof r=="object"?Object.fromEntries(Object.entries(r).map(([l,a])=>[e+l,a])):r);return[n,o]}):t}function Pp(t){if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,i=new Map;function o(r,l){n.set(r,l),e++,e>t&&(e=0,i=n,n=new Map)}return{get(r){let l=n.get(r);if(l!==void 0)return l;if((l=i.get(r))!==void 0)return o(r,l),l},set(r,l){n.has(r)?n.set(r,l):o(r,l)}}}const _a="!";function Op(t){const e=t.separator,n=e.length===1,i=e[0],o=e.length;return function(l){const a=[];let s=0,u=0,f;for(let g=0;g<l.length;g++){let v=l[g];if(s===0){if(v===i&&(n||l.slice(g,g+o)===e)){a.push(l.slice(u,g)),u=g+o;continue}if(v==="/"){f=g;continue}}v==="["?s++:v==="]"&&s--}const c=a.length===0?l:l.substring(u),p=c.startsWith(_a),h=p?c.substring(1):c,_=f&&f>u?f-u:void 0;return{modifiers:a,hasImportantModifier:p,baseClassName:h,maybePostfixModifierPosition:_}}}function Lp(t){if(t.length<=1)return t;const e=[];let n=[];return t.forEach(i=>{i[0]==="["?(e.push(...n.sort(),i),n=[]):n.push(i)}),e.push(...n.sort()),e}function Fp(t){return{cache:Pp(t.cacheSize),splitModifiers:Op(t),...Tp(t)}}const Rp=/\s+/;function qp(t,e){const{splitModifiers:n,getClassGroupId:i,getConflictingClassGroupIds:o}=e,r=new Set;return t.trim().split(Rp).map(l=>{const{modifiers:a,hasImportantModifier:s,baseClassName:u,maybePostfixModifierPosition:f}=n(l);let c=i(f?u.substring(0,f):u),p=!!f;if(!c){if(!f)return{isTailwindClass:!1,originalClassName:l};if(c=i(u),!c)return{isTailwindClass:!1,originalClassName:l};p=!1}const h=Lp(a).join(":");return{isTailwindClass:!0,modifierId:s?h+_a:h,classGroupId:c,originalClassName:l,hasPostfixModifier:p}}).reverse().filter(l=>{if(!l.isTailwindClass)return!0;const{modifierId:a,classGroupId:s,hasPostfixModifier:u}=l,f=a+s;return r.has(f)?!1:(r.add(f),o(s,u).forEach(c=>r.add(a+c)),!0)}).reverse().map(l=>l.originalClassName).join(" ")}function Dp(){let t=0,e,n,i="";for(;t<arguments.length;)(e=arguments[t++])&&(n=ga(e))&&(i&&(i+=" "),i+=n);return i}function ga(t){if(typeof t=="string")return t;let e,n="";for(let i=0;i<t.length;i++)t[i]&&(e=ga(t[i]))&&(n&&(n+=" "),n+=e);return n}function Co(t,...e){let n,i,o,r=l;function l(s){const u=e.reduce((f,c)=>c(f),t());return n=Fp(u),i=n.cache.get,o=n.cache.set,r=a,a(s)}function a(s){const u=i(s);if(u)return u;const f=qp(s,n);return o(s,f),f}return function(){return r(Dp.apply(null,arguments))}}function We(t){const e=n=>n[t]||[];return e.isThemeGetter=!0,e}const ba=/^\[(?:([a-z-]+):)?(.+)\]$/i,$p=/^\d+\/\d+$/,Bp=new Set(["px","full","screen"]),Gp=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,jp=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Hp=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Wp=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Vp=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function wt(t){return Wt(t)||Bp.has(t)||$p.test(t)}function Mt(t){return An(t,"length",Qp)}function Wt(t){return!!t&&!Number.isNaN(Number(t))}function ri(t){return An(t,"number",Wt)}function En(t){return!!t&&Number.isInteger(Number(t))}function Kp(t){return t.endsWith("%")&&Wt(t.slice(0,-1))}function Te(t){return ba.test(t)}function Pt(t){return Gp.test(t)}const Up=new Set(["length","size","percentage"]);function Jp(t){return An(t,Up,va)}function Yp(t){return An(t,"position",va)}const Xp=new Set(["image","url"]);function xp(t){return An(t,Xp,eh)}function Zp(t){return An(t,"",zp)}function Mn(){return!0}function An(t,e,n){const i=ba.exec(t);return i?i[1]?typeof e=="string"?i[1]===e:e.has(i[1]):n(i[2]):!1}function Qp(t){return jp.test(t)&&!Hp.test(t)}function va(){return!1}function zp(t){return Wp.test(t)}function eh(t){return Vp.test(t)}function So(){const t=We("colors"),e=We("spacing"),n=We("blur"),i=We("brightness"),o=We("borderColor"),r=We("borderRadius"),l=We("borderSpacing"),a=We("borderWidth"),s=We("contrast"),u=We("grayscale"),f=We("hueRotate"),c=We("invert"),p=We("gap"),h=We("gradientColorStops"),_=We("gradientColorStopPositions"),g=We("inset"),v=We("margin"),y=We("opacity"),N=We("padding"),I=We("saturate"),J=We("scale"),F=We("sepia"),L=We("skew"),q=We("space"),$=We("translate"),R=()=>["auto","contain","none"],H=()=>["auto","hidden","clip","visible","scroll"],d=()=>["auto",Te,e],b=()=>[Te,e],m=()=>["",wt,Mt],M=()=>["auto",Wt,Te],D=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],A=()=>["solid","dashed","dotted","double","none"],B=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"],j=()=>["start","end","center","between","around","evenly","stretch"],z=()=>["","0",Te],ee=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Y=()=>[Wt,ri],ne=()=>[Wt,Te];return{cacheSize:500,separator:":",theme:{colors:[Mn],spacing:[wt,Mt],blur:["none","",Pt,Te],brightness:Y(),borderColor:[t],borderRadius:["none","","full",Pt,Te],borderSpacing:b(),borderWidth:m(),contrast:Y(),grayscale:z(),hueRotate:ne(),invert:z(),gap:b(),gradientColorStops:[t],gradientColorStopPositions:[Kp,Mt],inset:d(),margin:d(),opacity:Y(),padding:b(),saturate:Y(),scale:Y(),sepia:z(),skew:ne(),space:b(),translate:b()},classGroups:{aspect:[{aspect:["auto","square","video",Te]}],container:["container"],columns:[{columns:[Pt]}],"break-after":[{"break-after":ee()}],"break-before":[{"break-before":ee()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...D(),Te]}],overflow:[{overflow:H()}],"overflow-x":[{"overflow-x":H()}],"overflow-y":[{"overflow-y":H()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",En,Te]}],basis:[{basis:d()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Te]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",En,Te]}],"grid-cols":[{"grid-cols":[Mn]}],"col-start-end":[{col:["auto",{span:["full",En,Te]},Te]}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":[Mn]}],"row-start-end":[{row:["auto",{span:[En,Te]},Te]}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Te]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Te]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...j()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...j(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...j(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[N]}],px:[{px:[N]}],py:[{py:[N]}],ps:[{ps:[N]}],pe:[{pe:[N]}],pt:[{pt:[N]}],pr:[{pr:[N]}],pb:[{pb:[N]}],pl:[{pl:[N]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[q]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[q]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Te,e]}],"min-w":[{"min-w":[Te,e,"min","max","fit"]}],"max-w":[{"max-w":[Te,e,"none","full","min","max","fit","prose",{screen:[Pt]},Pt]}],h:[{h:[Te,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Te,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Te,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Te,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Pt,Mt]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ri]}],"font-family":[{font:[Mn]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Te]}],"line-clamp":[{"line-clamp":["none",Wt,ri]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",wt,Te]}],"list-image":[{"list-image":["none",Te]}],"list-style-type":[{list:["none","disc","decimal",Te]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...A(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",wt,Mt]}],"underline-offset":[{"underline-offset":["auto",wt,Te]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:b()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Te]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Te]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...D(),Yp]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Jp]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},xp]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[_]}],"gradient-via-pos":[{via:[_]}],"gradient-to-pos":[{to:[_]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[r]}],"rounded-s":[{"rounded-s":[r]}],"rounded-e":[{"rounded-e":[r]}],"rounded-t":[{"rounded-t":[r]}],"rounded-r":[{"rounded-r":[r]}],"rounded-b":[{"rounded-b":[r]}],"rounded-l":[{"rounded-l":[r]}],"rounded-ss":[{"rounded-ss":[r]}],"rounded-se":[{"rounded-se":[r]}],"rounded-ee":[{"rounded-ee":[r]}],"rounded-es":[{"rounded-es":[r]}],"rounded-tl":[{"rounded-tl":[r]}],"rounded-tr":[{"rounded-tr":[r]}],"rounded-br":[{"rounded-br":[r]}],"rounded-bl":[{"rounded-bl":[r]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...A(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:A()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...A()]}],"outline-offset":[{"outline-offset":[wt,Te]}],"outline-w":[{outline:[wt,Mt]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:m()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[wt,Mt]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Pt,Zp]}],"shadow-color":[{shadow:[Mn]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":B()}],"bg-blend":[{"bg-blend":B()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[i]}],contrast:[{contrast:[s]}],"drop-shadow":[{"drop-shadow":["","none",Pt,Te]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[c]}],saturate:[{saturate:[I]}],sepia:[{sepia:[F]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[i]}],"backdrop-contrast":[{"backdrop-contrast":[s]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[c]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[I]}],"backdrop-sepia":[{"backdrop-sepia":[F]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Te]}],duration:[{duration:ne()}],ease:[{ease:["linear","in","out","in-out",Te]}],delay:[{delay:ne()}],animate:[{animate:["none","spin","ping","pulse","bounce",Te]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[J]}],"scale-x":[{"scale-x":[J]}],"scale-y":[{"scale-y":[J]}],rotate:[{rotate:[En,Te]}],"translate-x":[{"translate-x":[$]}],"translate-y":[{"translate-y":[$]}],"skew-x":[{"skew-x":[L]}],"skew-y":[{"skew-y":[L]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Te]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Te]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":b()}],"scroll-mx":[{"scroll-mx":b()}],"scroll-my":[{"scroll-my":b()}],"scroll-ms":[{"scroll-ms":b()}],"scroll-me":[{"scroll-me":b()}],"scroll-mt":[{"scroll-mt":b()}],"scroll-mr":[{"scroll-mr":b()}],"scroll-mb":[{"scroll-mb":b()}],"scroll-ml":[{"scroll-ml":b()}],"scroll-p":[{"scroll-p":b()}],"scroll-px":[{"scroll-px":b()}],"scroll-py":[{"scroll-py":b()}],"scroll-ps":[{"scroll-ps":b()}],"scroll-pe":[{"scroll-pe":b()}],"scroll-pt":[{"scroll-pt":b()}],"scroll-pr":[{"scroll-pr":b()}],"scroll-pb":[{"scroll-pb":b()}],"scroll-pl":[{"scroll-pl":b()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Te]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[wt,Mt,ri]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}function th(t,{cacheSize:e,prefix:n,separator:i,extend:o={},override:r={}}){pi(t,"cacheSize",e),pi(t,"prefix",n),pi(t,"separator",i);for(const l in r)nh(t[l],r[l]);for(const l in o)ih(t[l],o[l]);return t}function pi(t,e,n){n!==void 0&&(t[e]=n)}function nh(t,e){if(e)for(const n in e)pi(t,n,e[n])}function ih(t,e){if(e)for(const n in e){const i=e[n];i!==void 0&&(t[n]=(t[n]||[]).concat(i))}}function oh(t,...e){return typeof t=="function"?Co(So,t,...e):Co(()=>th(So(),t),...e)}const ya=Co(So);function rh(t){const e=t-1;return e*e*e+1}function Oe(...t){return ya(Ap(t))}const zo=(t,e={y:-8,x:0,start:.95,duration:150})=>{const n=getComputedStyle(t),i=n.transform==="none"?"":n.transform,o=(l,a,s)=>{const[u,f]=a,[c,p]=s;return(l-u)/(f-u)*(p-c)+c},r=l=>Object.keys(l).reduce((a,s)=>l[s]===void 0?a:a+`${s}:${l[s]};`,"");return{duration:e.duration??200,delay:0,css:l=>{const a=o(l,[0,1],[e.y??5,0]),s=o(l,[0,1],[e.x??0,0]),u=o(l,[0,1],[e.start??.95,1]);return r({transform:`${i} translate3d(${s}px, ${a}px, 0) scale(${u})`,opacity:l})},easing:rh}};function dt(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function lh(t){let e;const n=t[2].default,i=fe(n,t,t[3],null);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&8)&&de(i,n,o,o[3],e?ce(n,o[3],r,null):pe(o[3]),null)},i(o){e||(S(i,o),e=!0)},o(o){T(i,o),e=!1},d(o){i&&i.d(o)}}}function sh(t){let e,n;const i=[{class:Oe("text-lg font-semibold leading-none tracking-tight",t[0])},t[1]];let o={$$slots:{default:[lh]},$$scope:{ctx:t}};for(let r=0;r<i.length;r+=1)o=W(o,i[r]);return e=new Sd({props:o}),{c(){Q(e.$$.fragment)},m(r,l){x(e,r,l),n=!0},p(r,[l]){const a=l&3?he(i,[l&1&&{class:Oe("text-lg font-semibold leading-none tracking-tight",r[0])},l&2&&it(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(S(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){Z(e,r)}}}function ah(t,e,n){const i=["class"];let o=ie(e,i),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=W(W({},e),Ne(s)),n(1,o=ie(e,i)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,l=s.$$scope)},[a,o,r,l]}class zt extends _e{constructor(e){super(),me(this,e,ah,sh,se,{class:0})}}function uh(t){let e;const n=t[1].default,i=fe(n,t,t[2],null);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&4)&&de(i,n,o,o[2],e?ce(n,o[2],r,null):pe(o[2]),null)},i(o){e||(S(i,o),e=!0)},o(o){T(i,o),e=!1},d(o){i&&i.d(o)}}}function fh(t){let e,n;const i=[t[0]];let o={$$slots:{default:[uh]},$$scope:{ctx:t}};for(let r=0;r<i.length;r+=1)o=W(o,i[r]);return e=new $d({props:o}),{c(){Q(e.$$.fragment)},m(r,l){x(e,r,l),n=!0},p(r,[l]){const a=l&1?he(i,[it(r[0])]):{};l&4&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(S(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){Z(e,r)}}}function ch(t,e,n){const i=[];let o=ie(e,i),{$$slots:r={},$$scope:l}=e;return t.$$set=a=>{e=W(W({},e),Ne(a)),n(0,o=ie(e,i)),"$$scope"in a&&n(2,l=a.$$scope)},[o,r,l]}class dh extends _e{constructor(e){super(),me(this,e,ch,fh,se,{})}}function ph(t){let e,n,i;const o=t[3].default,r=fe(o,t,t[2],null);let l=[{class:n=Oe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=W(a,l[s]);return{c(){e=P("div"),r&&r.c(),oe(e,a)},m(s,u){C(s,e,u),r&&r.m(e,null),i=!0},p(s,[u]){r&&r.p&&(!i||u&4)&&de(r,o,s,s[2],i?ce(o,s[2],u,null):pe(s[2]),null),oe(e,a=he(l,[(!i||u&1&&n!==(n=Oe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s[0])))&&{class:n},u&2&&s[1]]))},i(s){i||(S(r,s),i=!0)},o(s){T(r,s),i=!1},d(s){s&&k(e),r&&r.d(s)}}}function hh(t,e,n){const i=["class"];let o=ie(e,i),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=W(W({},e),Ne(s)),n(1,o=ie(e,i)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,o,l,r]}class Qn extends _e{constructor(e){super(),me(this,e,hh,ph,se,{class:0})}}function mh(t){let e,n,i;const o=t[3].default,r=fe(o,t,t[2],null);let l=[{class:n=Oe("flex flex-col space-y-1.5 text-center sm:text-left",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=W(a,l[s]);return{c(){e=P("div"),r&&r.c(),oe(e,a)},m(s,u){C(s,e,u),r&&r.m(e,null),i=!0},p(s,[u]){r&&r.p&&(!i||u&4)&&de(r,o,s,s[2],i?ce(o,s[2],u,null):pe(s[2]),null),oe(e,a=he(l,[(!i||u&1&&n!==(n=Oe("flex flex-col space-y-1.5 text-center sm:text-left",s[0])))&&{class:n},u&2&&s[1]]))},i(s){i||(S(r,s),i=!0)},o(s){T(r,s),i=!1},d(s){s&&k(e),r&&r.d(s)}}}function _h(t,e,n){const i=["class"];let o=ie(e,i),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=W(W({},e),Ne(s)),n(1,o=ie(e,i)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,o,l,r]}class en extends _e{constructor(e){super(),me(this,e,_h,mh,se,{class:0})}}function wa(t,{delay:e=0,duration:n=400,easing:i=Ui}={}){const o=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:i,css:r=>`opacity: ${r*o}`}}function gh(t){let e,n;const i=[{transition:t[1]},{transitionConfig:t[2]},{class:Oe("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm",t[0])},t[3]];let o={};for(let r=0;r<i.length;r+=1)o=W(o,i[r]);return e=new up({props:o}),{c(){Q(e.$$.fragment)},m(r,l){x(e,r,l),n=!0},p(r,[l]){const a=l&15?he(i,[l&2&&{transition:r[1]},l&4&&{transitionConfig:r[2]},l&1&&{class:Oe("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm",r[0])},l&8&&it(r[3])]):{};e.$set(a)},i(r){n||(S(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){Z(e,r)}}}function bh(t,e,n){const i=["class","transition","transitionConfig"];let o=ie(e,i),{class:r=void 0}=e,{transition:l=wa}=e,{transitionConfig:a={duration:150}}=e;return t.$$set=s=>{e=W(W({},e),Ne(s)),n(3,o=ie(e,i)),"class"in s&&n(0,r=s.class),"transition"in s&&n(1,l=s.transition),"transitionConfig"in s&&n(2,a=s.transitionConfig)},[r,l,a,o]}class vh extends _e{constructor(e){super(),me(this,e,bh,gh,se,{class:0,transition:1,transitionConfig:2})}}/**
 * @license lucide-svelte v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yh={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"},dl=yh;function pl(t,e,n){const i=t.slice();return i[10]=e[n][0],i[11]=e[n][1],i}function so(t){let e,n=[t[11]],i={};for(let o=0;o<n.length;o+=1)i=W(i,n[o]);return{c(){e=Ji(t[10]),bi(e,i)},m(o,r){C(o,e,r)},p(o,r){bi(e,i=he(n,[r&32&&o[11]]))},d(o){o&&k(e)}}}function hl(t){let e=t[10],n,i=t[10]&&so(t);return{c(){i&&i.c(),n=Me()},m(o,r){i&&i.m(o,r),C(o,n,r)},p(o,r){o[10]?e?se(e,o[10])?(i.d(1),i=so(o),e=o[10],i.c(),i.m(n.parentNode,n)):i.p(o,r):(i=so(o),e=o[10],i.c(),i.m(n.parentNode,n)):e&&(i.d(1),i=null,e=o[10])},d(o){o&&k(n),i&&i.d(o)}}}function wh(t){let e,n,i,o,r,l=Je(t[5]),a=[];for(let p=0;p<l.length;p+=1)a[p]=hl(pl(t,l,p));const s=t[9].default,u=fe(s,t,t[8],null);let f=[dl,t[6],{width:t[2]},{height:t[2]},{stroke:t[1]},{"stroke-width":i=t[4]?Number(t[3])*24/Number(t[2]):t[3]},{class:o=`lucide-icon lucide lucide-${t[0]} ${t[7].class??""}`}],c={};for(let p=0;p<f.length;p+=1)c=W(c,f[p]);return{c(){e=Ji("svg");for(let p=0;p<a.length;p+=1)a[p].c();n=Me(),u&&u.c(),bi(e,c)},m(p,h){C(p,e,h);for(let _=0;_<a.length;_+=1)a[_]&&a[_].m(e,null);w(e,n),u&&u.m(e,null),r=!0},p(p,[h]){if(h&32){l=Je(p[5]);let _;for(_=0;_<l.length;_+=1){const g=pl(p,l,_);a[_]?a[_].p(g,h):(a[_]=hl(g),a[_].c(),a[_].m(e,n))}for(;_<a.length;_+=1)a[_].d(1);a.length=l.length}u&&u.p&&(!r||h&256)&&de(u,s,p,p[8],r?ce(s,p[8],h,null):pe(p[8]),null),bi(e,c=he(f,[dl,h&64&&p[6],(!r||h&4)&&{width:p[2]},(!r||h&4)&&{height:p[2]},(!r||h&2)&&{stroke:p[1]},(!r||h&28&&i!==(i=p[4]?Number(p[3])*24/Number(p[2]):p[3]))&&{"stroke-width":i},(!r||h&129&&o!==(o=`lucide-icon lucide lucide-${p[0]} ${p[7].class??""}`))&&{class:o}]))},i(p){r||(S(u,p),r=!0)},o(p){T(u,p),r=!1},d(p){p&&k(e),vt(a,p),u&&u.d(p)}}}function kh(t,e,n){const i=["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"];let o=ie(e,i),{$$slots:r={},$$scope:l}=e,{name:a}=e,{color:s="currentColor"}=e,{size:u=24}=e,{strokeWidth:f=2}=e,{absoluteStrokeWidth:c=!1}=e,{iconNode:p}=e;return t.$$set=h=>{n(7,e=W(W({},e),Ne(h))),n(6,o=ie(e,i)),"name"in h&&n(0,a=h.name),"color"in h&&n(1,s=h.color),"size"in h&&n(2,u=h.size),"strokeWidth"in h&&n(3,f=h.strokeWidth),"absoluteStrokeWidth"in h&&n(4,c=h.absoluteStrokeWidth),"iconNode"in h&&n(5,p=h.iconNode),"$$scope"in h&&n(8,l=h.$$scope)},e=Ne(e),[a,s,u,f,c,p,o,e,l,r]}class Ch extends _e{constructor(e){super(),me(this,e,kh,wh,se,{name:0,color:1,size:2,strokeWidth:3,absoluteStrokeWidth:4,iconNode:5})}}function Sh(t){let e;const n=t[2].default,i=fe(n,t,t[3],null);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&8)&&de(i,n,o,o[3],e?ce(n,o[3],r,null):pe(o[3]),null)},i(o){e||(S(i,o),e=!0)},o(o){T(i,o),e=!1},d(o){i&&i.d(o)}}}function Ah(t){let e,n;const i=[{name:"x"},t[1],{iconNode:t[0]}];let o={$$slots:{default:[Sh]},$$scope:{ctx:t}};for(let r=0;r<i.length;r+=1)o=W(o,i[r]);return e=new Ch({props:o}),{c(){Q(e.$$.fragment)},m(r,l){x(e,r,l),n=!0},p(r,[l]){const a=l&3?he(i,[i[0],l&2&&it(r[1]),l&1&&{iconNode:r[0]}]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(S(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){Z(e,r)}}}function Th(t,e,n){let{$$slots:i={},$$scope:o}=e;const r=[["path",{d:"M18 6 6 18"}],["path",{d:"m6 6 12 12"}]];return t.$$set=l=>{n(1,e=W(W({},e),Ne(l))),"$$scope"in l&&n(3,o=l.$$scope)},e=Ne(e),[r,e,i,o]}class Ih extends _e{constructor(e){super(),me(this,e,Th,Ah,se,{})}}function Nh(t){let e,n,i,o;return e=new Ih({props:{class:"h-4 w-4"}}),{c(){Q(e.$$.fragment),n=K(),i=P("span"),i.textContent="Close",O(i,"class","sr-only")},m(r,l){x(e,r,l),C(r,n,l),C(r,i,l),o=!0},p:ye,i(r){o||(S(e.$$.fragment,r),o=!0)},o(r){T(e.$$.fragment,r),o=!1},d(r){r&&(k(n),k(i)),Z(e,r)}}}function Eh(t){let e,n,i;const o=t[4].default,r=fe(o,t,t[5],null);return n=new Pd({props:{class:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",$$slots:{default:[Nh]},$$scope:{ctx:t}}}),{c(){r&&r.c(),e=K(),Q(n.$$.fragment)},m(l,a){r&&r.m(l,a),C(l,e,a),x(n,l,a),i=!0},p(l,a){r&&r.p&&(!i||a&32)&&de(r,o,l,l[5],i?ce(o,l[5],a,null):pe(l[5]),null);const s={};a&32&&(s.$$scope={dirty:a,ctx:l}),n.$set(s)},i(l){i||(S(r,l),S(n.$$.fragment,l),i=!0)},o(l){T(r,l),T(n.$$.fragment,l),i=!1},d(l){l&&k(e),r&&r.d(l),Z(n,l)}}}function Mh(t){let e,n,i,o;e=new vh({});const r=[{transition:t[1]},{transitionConfig:t[2]},{class:Oe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg md:w-full",t[0])},t[3]];let l={$$slots:{default:[Eh]},$$scope:{ctx:t}};for(let a=0;a<r.length;a+=1)l=W(l,r[a]);return i=new zd({props:l}),{c(){Q(e.$$.fragment),n=K(),Q(i.$$.fragment)},m(a,s){x(e,a,s),C(a,n,s),x(i,a,s),o=!0},p(a,s){const u=s&15?he(r,[s&2&&{transition:a[1]},s&4&&{transitionConfig:a[2]},s&1&&{class:Oe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg md:w-full",a[0])},s&8&&it(a[3])]):{};s&32&&(u.$$scope={dirty:s,ctx:a}),i.$set(u)},i(a){o||(S(e.$$.fragment,a),S(i.$$.fragment,a),o=!0)},o(a){T(e.$$.fragment,a),T(i.$$.fragment,a),o=!1},d(a){a&&k(n),Z(e,a),Z(i,a)}}}function Ph(t){let e,n;return e=new dh({props:{$$slots:{default:[Mh]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment)},m(i,o){x(e,i,o),n=!0},p(i,[o]){const r={};o&47&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(S(e.$$.fragment,i),n=!0)},o(i){T(e.$$.fragment,i),n=!1},d(i){Z(e,i)}}}function Oh(t,e,n){const i=["class","transition","transitionConfig"];let o=ie(e,i),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{transition:s=zo}=e,{transitionConfig:u={duration:200}}=e;return t.$$set=f=>{e=W(W({},e),Ne(f)),n(3,o=ie(e,i)),"class"in f&&n(0,a=f.class),"transition"in f&&n(1,s=f.transition),"transitionConfig"in f&&n(2,u=f.transitionConfig),"$$scope"in f&&n(5,l=f.$$scope)},[a,s,u,o,r,l]}class tn extends _e{constructor(e){super(),me(this,e,Oh,Ph,se,{class:0,transition:1,transitionConfig:2})}}function Lh(t){let e;const n=t[2].default,i=fe(n,t,t[3],null);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&8)&&de(i,n,o,o[3],e?ce(n,o[3],r,null):pe(o[3]),null)},i(o){e||(S(i,o),e=!0)},o(o){T(i,o),e=!1},d(o){i&&i.d(o)}}}function Fh(t){let e,n;const i=[{class:Oe("text-sm text-muted-foreground",t[0])},t[1]];let o={$$slots:{default:[Lh]},$$scope:{ctx:t}};for(let r=0;r<i.length;r+=1)o=W(o,i[r]);return e=new _p({props:o}),{c(){Q(e.$$.fragment)},m(r,l){x(e,r,l),n=!0},p(r,[l]){const a=l&3?he(i,[l&1&&{class:Oe("text-sm text-muted-foreground",r[0])},l&2&&it(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(S(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){Z(e,r)}}}function Rh(t,e,n){const i=["class"];let o=ie(e,i),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=W(W({},e),Ne(s)),n(1,o=ie(e,i)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,l=s.$$scope)},[a,o,r,l]}class nn extends _e{constructor(e){super(),me(this,e,Rh,Fh,se,{class:0})}}const on=gd;function qh(t){let e,n;const i=[{class:Oe("shrink-0 bg-border",t[1]==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t[0])},{orientation:t[1]},{decorative:t[2]},t[3]];let o={};for(let r=0;r<i.length;r+=1)o=W(o,i[r]);return e=new dd({props:o}),{c(){Q(e.$$.fragment)},m(r,l){x(e,r,l),n=!0},p(r,[l]){const a=l&15?he(i,[l&3&&{class:Oe("shrink-0 bg-border",r[1]==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",r[0])},l&2&&{orientation:r[1]},l&4&&{decorative:r[2]},l&8&&it(r[3])]):{};e.$set(a)},i(r){n||(S(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){Z(e,r)}}}function Dh(t,e,n){const i=["class","orientation","decorative"];let o=ie(e,i),{class:r=void 0}=e,{orientation:l="horizontal"}=e,{decorative:a=void 0}=e;return t.$$set=s=>{e=W(W({},e),Ne(s)),n(3,o=ie(e,i)),"class"in s&&n(0,r=s.class),"orientation"in s&&n(1,l=s.orientation),"decorative"in s&&n(2,a=s.decorative)},[r,l,a,o]}class Wn extends _e{constructor(e){super(),me(this,e,Dh,qh,se,{class:0,orientation:1,decorative:2})}}function $h(t){let e,n,i,o,r=[{class:n=Oe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t[1])},t[2]],l={};for(let a=0;a<r.length;a+=1)l=W(l,r[a]);return{c(){e=P("input"),oe(e,l)},m(a,s){C(a,e,s),e.autofocus&&e.focus(),St(e,t[0]),i||(o=[U(e,"input",t[17]),U(e,"blur",t[3]),U(e,"change",t[4]),U(e,"click",t[5]),U(e,"focus",t[6]),U(e,"focusin",t[7]),U(e,"focusout",t[8]),U(e,"keydown",t[9]),U(e,"keypress",t[10]),U(e,"keyup",t[11]),U(e,"mouseover",t[12]),U(e,"mouseenter",t[13]),U(e,"mouseleave",t[14]),U(e,"paste",t[15]),U(e,"input",t[16])],i=!0)},p(a,[s]){oe(e,l=he(r,[s&2&&n!==(n=Oe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a[1]))&&{class:n},s&4&&a[2]])),s&1&&e.value!==a[0]&&St(e,a[0])},i:ye,o:ye,d(a){a&&k(e),i=!1,qe(o)}}}function Bh(t,e,n){const i=["class","value"];let o=ie(e,i),{class:r=void 0}=e,{value:l=void 0}=e;function a(L){X.call(this,t,L)}function s(L){X.call(this,t,L)}function u(L){X.call(this,t,L)}function f(L){X.call(this,t,L)}function c(L){X.call(this,t,L)}function p(L){X.call(this,t,L)}function h(L){X.call(this,t,L)}function _(L){X.call(this,t,L)}function g(L){X.call(this,t,L)}function v(L){X.call(this,t,L)}function y(L){X.call(this,t,L)}function N(L){X.call(this,t,L)}function I(L){X.call(this,t,L)}function J(L){X.call(this,t,L)}function F(){l=this.value,n(0,l)}return t.$$set=L=>{e=W(W({},e),Ne(L)),n(2,o=ie(e,i)),"class"in L&&n(1,r=L.class),"value"in L&&n(0,l=L.value)},[l,r,o,a,s,u,f,c,p,h,_,g,v,y,N,I,J,F]}class er extends _e{constructor(e){super(),me(this,e,Bh,$h,se,{class:1,value:0})}}function ml(t,e,n){const i=t.slice();return i[7]=e[n],i}function _l(t){let e,n=t[7].subtitle+"",i;return{c(){e=new yu(!1),i=Me(),e.a=i},m(o,r){e.m(n,o,r),C(o,i,r)},p(o,r){r&1&&n!==(n=o[7].subtitle+"")&&e.p(n)},d(o){o&&(k(i),e.d())}}}function gl(t){let e,n,i=t[7].label+"",o,r,l,a=t[7].value+"",s,u,f,c,p,h,_=t[7].subtitle!=null&&_l(t);return{c(){e=P("div"),n=P("span"),o=G(i),r=K(),l=P("span"),s=G(a),u=K(),_&&_.c(),f=K(),O(n,"class","text-xs pl-4 pr-4 rounded-lg"),O(l,"class","text-xs text-slate-500"),O(e,"class",c="flex flex-col items-center text-center flex-1 "+(t[2]=="true"?"cursor-pointer":""))},m(g,v){C(g,e,v),w(e,n),w(n,o),w(e,r),w(e,l),w(l,s),w(l,u),_&&_.m(l,null),w(e,f),p||(h=U(e,"click",function(){Nt(t[2]=="true"?t[7].tap:null)&&(t[2]=="true"?t[7].tap:null).apply(this,arguments)}),p=!0)},p(g,v){t=g,v&1&&i!==(i=t[7].label+"")&&ue(o,i),v&1&&a!==(a=t[7].value+"")&&ue(s,a),t[7].subtitle!=null?_?_.p(t,v):(_=_l(t),_.c(),_.m(l,null)):_&&(_.d(1),_=null),v&4&&c!==(c="flex flex-col items-center text-center flex-1 "+(t[2]=="true"?"cursor-pointer":""))&&O(e,"class",c)},d(g){g&&k(e),_&&_.d(),p=!1,h()}}}function Gh(t){let e,n,i=Je(t[0]),o=[];for(let r=0;r<i.length;r+=1)o[r]=gl(ml(t,i,r));return{c(){e=P("div");for(let r=0;r<o.length;r+=1)o[r].c();O(e,"class",n="flex flex-row justify-between pr-5 pl-5 "+t[1])},m(r,l){C(r,e,l);for(let a=0;a<o.length;a+=1)o[a]&&o[a].m(e,null)},p(r,[l]){if(l&5){i=Je(r[0]);let a;for(a=0;a<i.length;a+=1){const s=ml(r,i,a);o[a]?o[a].p(s,l):(o[a]=gl(s),o[a].c(),o[a].m(e,null))}for(;a<o.length;a+=1)o[a].d(1);o.length=i.length}l&2&&n!==(n="flex flex-row justify-between pr-5 pl-5 "+r[1])&&O(e,"class",n)},i:ye,o:ye,d(r){r&&k(e),vt(o,r)}}}function Ct(t,e){if(e===void 0&&(e=0),t==null||t==null)return 0;t=parseFloat((t*Math.pow(10,e)).toFixed(11));var n=Math.round(t)/Math.pow(10,e);return+n.toFixed(e)}function jh(t,e,n){let i,o;ae(t,Se,u=>n(5,i=u)),ae(t,Ti,u=>n(6,o=u));let{stats:r=[]}=e,{classText:l=""}=e,{clickEvents:a="true"}=e;function s(){let u=i;u.hasBank===!0?(u.townInfo.gold+=u.townInfo.gold_from_tourism,u.townInfo.gold_from_tourism=0,Se.set(u),localStorage.setItem(ft,JSON.stringify(u))):alert("You need a bank to transfer funds from tourism activities.")}return t.$$set=u=>{"stats"in u&&n(0,r=u.stats),"classText"in u&&n(1,l=u.classText),"clickEvents"in u&&n(2,a=u.clickEvents)},t.$$.update=()=>{t.$$.dirty&100&&n(0,r=[{label:"Population",value:`${dt(i.townInfo.population_count)}/${dt(i.townInfo.population_max)}`,subtitle:`<span
					class='
						rounded-full px-1 py-1 text-xs
						${i.townInfo.population_count<i.townInfo.population_max?"text-red-500":"text-green-500"}
					'>
					${dt(i.townInfo.population_max-i.townInfo.population_count)}
				</span>`,tap:()=>{}},{label:"Employees",value:`${dt(i.townInfo.employees)}/${dt(i.townInfo.population_count)}`,subtitle:`<span
					class='
						rounded-full px-1 py-1 text-xs
						${i.townInfo.employees<i.townInfo.population_count?"text-red-500":"text-green-500"}
					'>
					${dt(i.townInfo.population_count-i.townInfo.employees)}
				</span>`,tap:()=>{}},{label:"Knowledge",value:dt(i.townInfo.knowledge_points)+`${a=="true"?" (click me)":""}`,tap:()=>{we(Ti,o=!o,o)}},{label:"Gold",value:"$"+dt(Ct(i.townInfo.gold,0)),subtitle:`<span
					class='
						rounded-full px-1 py-1 text-xs
						${i.economyAndLaws.last_month_profit<0?"text-red-500":"text-green-500"}
					'>
					${dt(Ct(i.economyAndLaws.last_month_profit,0))}
				</span>`,tap:()=>{}},{label:"Tourism 💰",value:"$"+dt(Ct(i.townInfo.gold_from_tourism,0)),tap:()=>{s()}},{label:"Happiness",value:`${Ct(i.townInfo.happiness,0)}/${i.maximums.happiness}`,subtitle:`<span
					class='
						rounded-full px-1 py-1 text-xs text-slate-600
						${i.townInfo.happiness<50?"text-red-500":"text-green-500"}
					'>
					${i.modifiers.happiness<1?"🔴":"🟢"} (${Ct(i.modifiers.happiness,2)}x)
				</span>`,tap:()=>{}},{label:"Health",value:`${Ct(i.townInfo.health,0)}/${i.maximums.health}`,subtitle:`<span
					class='
						rounded-full px-1 py-1 text-xs text-slate-600
						${i.townInfo.health<50?"text-red-500":"text-green-500"}
					'>
					${i.modifiers.health<1?"🔴":"🟢"} (${Ct(i.modifiers.health,2)}x)
				</span>`,tap:()=>{}}])},[r,l,a,Ct,s,i,o]}class ka extends _e{constructor(e){super(),me(this,e,jh,Gh,se,{stats:0,classText:1,clickEvents:2,roundTo:3,transferFundsFromBank:4})}get roundTo(){return Ct}get transferFundsFromBank(){return this.$$.ctx[4]}}function bl(t,e,n){const i=t.slice();return i[26]=e[n],i}function vl(t,e,n){const i=t.slice();return i[29]=e[n],i}function yl(t,e,n){const i=t.slice();return i[26]=e[n],i}function Hh(t){let e,n;return{c(){e=P("span"),n=G("Set this Plot"),O(e,"class","text-2xl font-bold")},m(i,o){C(i,e,o),C(i,n,o)},p:ye,d(i){i&&(k(e),k(n))}}}function wl(t){let e,n;return e=new nn({props:{class:"text-sm",$$slots:{default:[Wh]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment)},m(i,o){x(e,i,o),n=!0},p(i,o){const r={};o[0]&2|o[1]&8&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(S(e.$$.fragment,i),n=!0)},o(i){T(e.$$.fragment,i),n=!1},d(i){Z(e,i)}}}function Wh(t){let e;return{c(){e=G(t[1])},m(n,i){C(n,e,i)},p(n,i){i[0]&2&&ue(e,n[1])},d(n){n&&k(e)}}}function Vh(t){let e,n,i,o,r,l,a,s,u;e=new zt({props:{class:"text-2xl font-bold",$$slots:{default:[Hh]},$$scope:{ctx:t}}});let f=t[1]!==""&&wl(t);return l=new ka({props:{classText:"w-full",clickEvents:"false"}}),{c(){Q(e.$$.fragment),n=K(),f&&f.c(),i=K(),o=P("div"),r=K(),Q(l.$$.fragment),a=K(),s=P("div"),O(o,"class","mt-4"),O(s,"class","mb-4")},m(c,p){x(e,c,p),C(c,n,p),f&&f.m(c,p),C(c,i,p),C(c,o,p),C(c,r,p),x(l,c,p),C(c,a,p),C(c,s,p),u=!0},p(c,p){const h={};p[1]&8&&(h.$$scope={dirty:p,ctx:c}),e.$set(h),c[1]!==""?f?(f.p(c,p),p[0]&2&&S(f,1)):(f=wl(c),f.c(),S(f,1),f.m(i.parentNode,i)):f&&(Fe(),T(f,1,1,()=>{f=null}),Re())},i(c){u||(S(e.$$.fragment,c),S(f),S(l.$$.fragment,c),u=!0)},o(c){T(e.$$.fragment,c),T(f),T(l.$$.fragment,c),u=!1},d(c){c&&(k(n),k(i),k(o),k(r),k(a),k(s)),Z(e,c),f&&f.d(c),Z(l,c)}}}function kl(t){let e,n,i;return{c(){e=P("button"),e.textContent="🔥 Bulldoze",O(e,"id","bulldoze"),O(e,"class","px-2 py-2 bg-red-500 text-white rounded hover:bg-red-600 transition duration-300 ease-in-out")},m(o,r){C(o,e,r),n||(i=U(e,"click",t[13]),n=!0)},p:ye,d(o){o&&k(e),n=!1,i()}}}function Kh(t){let e;return{c(){e=G("No options")},m(n,i){C(n,e,i)},p:ye,d(n){n&&k(e)}}}function Uh(t){let e,n=Je(t[7]),i=[];for(let o=0;o<n.length;o+=1)i[o]=Sl(yl(t,n,o));return{c(){for(let o=0;o<i.length;o+=1)i[o].c();e=Me()},m(o,r){for(let l=0;l<i.length;l+=1)i[l]&&i[l].m(o,r);C(o,e,r)},p(o,r){if(r[0]&128){n=Je(o[7]);let l;for(l=0;l<n.length;l+=1){const a=yl(o,n,l);i[l]?i[l].p(a,r):(i[l]=Sl(a),i[l].c(),i[l].m(e.parentNode,e))}for(;l<i.length;l+=1)i[l].d(1);i.length=n.length}},d(o){o&&k(e),vt(i,o)}}}function Cl(t){let e,n=Ll(t[26].title)+"",i,o,r;function l(){return t[19](t[26])}return{c(){e=P("span"),i=G(n),O(e,"class","text-xl cursor-pointer hover:bg-slate-300 rounded-lg p-1")},m(a,s){C(a,e,s),w(e,i),o||(r=U(e,"click",l),o=!0)},p(a,s){t=a,s[0]&128&&n!==(n=Ll(t[26].title)+"")&&ue(i,n)},d(a){a&&k(e),o=!1,r()}}}function Sl(t){let e,n=t[26].affordable&&Cl(t);return{c(){n&&n.c(),e=Me()},m(i,o){n&&n.m(i,o),C(i,e,o)},p(i,o){i[26].affordable?n?n.p(i,o):(n=Cl(i),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(i){i&&k(e),n&&n.d(i)}}}function Al(t){let e,n,i,o=Fi(Ut(t[8].economyAndLaws.tax_rate*t[26].revenue_per_week,2))+"",r;return{c(){e=P("div"),n=P("span"),i=G("$"),r=G(o)},m(l,a){C(l,e,a),w(e,n),w(n,i),w(n,r)},p(l,a){a[0]&384&&o!==(o=Fi(Ut(l[8].economyAndLaws.tax_rate*l[26].revenue_per_week,2))+"")&&ue(r,o)},d(l){l&&k(e)}}}function Tl(t){let e,n,i=t[26].requirements.knowledge+"",o,r;return{c(){e=P("br"),n=K(),o=G(i),r=G(" KPts")},m(l,a){C(l,e,a),C(l,n,a),C(l,o,a),C(l,r,a)},p(l,a){a[0]&128&&i!==(i=l[26].requirements.knowledge+"")&&ue(o,i)},d(l){l&&(k(e),k(n),k(o),k(r))}}}function Jh(t){let e,n=t[29]+"",i;return{c(){e=P("span"),i=G(n),O(e,"class","text-red-100 bg-red-900 p-1 rounded-sm w-min overflow-ellipsis px-2")},m(o,r){C(o,e,r),w(e,i)},p(o,r){r[0]&128&&n!==(n=o[29]+"")&&ue(i,n)},d(o){o&&k(e)}}}function Yh(t){let e,n=t[29]+"",i;return{c(){e=P("span"),i=G(n),O(e,"class","text-white bg-opacity-100 bg-green-900 p-1 rounded-sm w-min overflow-ellipsis")},m(o,r){C(o,e,r),w(e,i)},p(o,r){r[0]&128&&n!==(n=o[29]+"")&&ue(i,n)},d(o){o&&k(e)}}}function Il(t){let e,n;function i(l,a){return a[0]&384&&(e=null),e==null&&(e=st(l[29],l[8]).length>0),e?Yh:Jh}let o=i(t,[-1,-1]),r=o(t);return{c(){r.c(),n=Me()},m(l,a){r.m(l,a),C(l,n,a)},p(l,a){o===(o=i(l,a))&&r?r.p(l,a):(r.d(1),r=o(l),r&&(r.c(),r.m(n.parentNode,n)))},d(l){l&&k(n),r.d(l)}}}function Nl(t){let e,n=Oi(t[26].effect_modifiers.happiness)+"",i;return{c(){e=G("😀 "),i=G(n)},m(o,r){C(o,e,r),C(o,i,r)},p(o,r){r[0]&128&&n!==(n=Oi(o[26].effect_modifiers.happiness)+"")&&ue(i,n)},d(o){o&&(k(e),k(i))}}}function El(t){let e,n=Oi(t[26].effect_modifiers.health)+"",i;return{c(){e=G("😷 "),i=G(n)},m(o,r){C(o,e,r),C(o,i,r)},p(o,r){r[0]&128&&n!==(n=Oi(o[26].effect_modifiers.health)+"")&&ue(i,n)},d(o){o&&(k(e),k(i))}}}function Ml(t){let e,n=Li(t[26].immediate_variable_changes.happiness)+"",i;return{c(){e=G("😀 "),i=G(n)},m(o,r){C(o,e,r),C(o,i,r)},p(o,r){r[0]&128&&n!==(n=Li(o[26].immediate_variable_changes.happiness)+"")&&ue(i,n)},d(o){o&&(k(e),k(i))}}}function Pl(t){let e,n,i=Li(t[26].immediate_variable_changes.health)+"",o;return{c(){e=P("br"),n=G(`
									😷 `),o=G(i)},m(r,l){C(r,e,l),C(r,n,l),C(r,o,l)},p(r,l){l[0]&128&&i!==(i=Li(r[26].immediate_variable_changes.health)+"")&&ue(o,i)},d(r){r&&(k(e),k(n),k(o))}}}function Ol(t,e){let n,i,o=e[26].selected?`✅ SELECTED ${e[26].title.substring(2)}`:`${e[26].title}`,r,l,a,s=e[26].description+"",u,f,c,p,h=(e[26].requirements.employees||"")+"",_,g,v,y,N,I=Fi(e[26].requirements.gold)+"",J,F,L,q,$,R,H,d,b,m,M,D,A,B,j,z,ee,Y=e[26].revenue_per_week>0&&Al(e),ne=e[26].requirements.knowledge>0&&Tl(e),ve=Je(e[26].requirements.plots),V=[];for(let Ee=0;Ee<ve.length;Ee+=1)V[Ee]=Il(vl(e,ve,Ee));let re=e[26].effect_modifiers.happiness!=1&&Nl(e),be=e[26].effect_modifiers.health!=1&&El(e),ke=e[26].immediate_variable_changes.happiness!=0&&Ml(e),Ae=e[26].immediate_variable_changes.health!=0&&Pl(e);return{key:t,first:null,c(){n=P("tr"),i=P("td"),r=G(o),l=K(),a=P("td"),u=K(),f=P("td"),Y&&Y.c(),c=K(),p=P("td"),_=G(h),v=K(),y=P("td"),N=G("$"),J=G(I),F=K(),ne&&ne.c(),q=K(),$=P("td"),R=P("div");for(let Ee=0;Ee<V.length;Ee+=1)V[Ee].c();H=K(),d=P("td"),b=P("div"),re&&re.c(),m=K(),M=P("div"),be&&be.c(),D=K(),A=P("td"),ke&&ke.c(),B=K(),Ae&&Ae.c(),j=K(),O(i,"class","px-2 py-2 w-12"),O(a,"class","px-2 py-2 w-24"),O(f,"class","px-2 py-2 w-12 font-bold"),O(p,"class",g="px-2 py-2 w-8 "+(e[26].requirements.employees>e[8].townInfo.population_count-e[8].townInfo.employees?"underline bg-red-800 text-white":"")),O(y,"class",L="px-2 py-2 w-8 "+(e[26].requirements.gold>e[8].townInfo.gold?"underline bg-red-800 text-white border-none":"")),O(R,"class","flex flex-col align-middle justify-center h-max w-max gap-1"),O($,"class","px-2 py-2 w-12"),O(b,"class","text-xs"),O(M,"class","mt-2"),O(d,"class","px-2 py-2 w-12 text-xs"),O(A,"class","px-2 py-2 w-12"),O(n,"class",z="plotOption border-b border-black "+(e[26].affordable?"cursor-pointer":"unaffordable cursor-not-allowed bg-gray-200")+" "+(e[26].selected?"italic font-light opacity-50 ":"")+" svelte-bq7iir"),O(n,"data-plotoptionid",ee=e[26].id),bn(n,"background-color",e[26].selected?"gray":Ci(e[11](e[26].id),e[4](e[2],e[3]))),this.first=n},m(Ee,ge){C(Ee,n,ge),w(n,i),w(i,r),w(n,l),w(n,a),a.innerHTML=s,w(n,u),w(n,f),Y&&Y.m(f,null),w(n,c),w(n,p),w(p,_),w(n,v),w(n,y),w(y,N),w(y,J),w(y,F),ne&&ne.m(y,null),w(n,q),w(n,$),w($,R);for(let $e=0;$e<V.length;$e+=1)V[$e]&&V[$e].m(R,null);w(n,H),w(n,d),w(d,b),re&&re.m(b,null),w(d,m),w(d,M),be&&be.m(M,null),w(n,D),w(n,A),ke&&ke.m(A,null),w(A,B),Ae&&Ae.m(A,null),w(n,j)},p(Ee,ge){if(e=Ee,ge[0]&128&&o!==(o=e[26].selected?`✅ SELECTED ${e[26].title.substring(2)}`:`${e[26].title}`)&&ue(r,o),ge[0]&128&&s!==(s=e[26].description+"")&&(a.innerHTML=s),e[26].revenue_per_week>0?Y?Y.p(e,ge):(Y=Al(e),Y.c(),Y.m(f,null)):Y&&(Y.d(1),Y=null),ge[0]&128&&h!==(h=(e[26].requirements.employees||"")+"")&&ue(_,h),ge[0]&384&&g!==(g="px-2 py-2 w-8 "+(e[26].requirements.employees>e[8].townInfo.population_count-e[8].townInfo.employees?"underline bg-red-800 text-white":""))&&O(p,"class",g),ge[0]&128&&I!==(I=Fi(e[26].requirements.gold)+"")&&ue(J,I),e[26].requirements.knowledge>0?ne?ne.p(e,ge):(ne=Tl(e),ne.c(),ne.m(y,null)):ne&&(ne.d(1),ne=null),ge[0]&384&&L!==(L="px-2 py-2 w-8 "+(e[26].requirements.gold>e[8].townInfo.gold?"underline bg-red-800 text-white border-none":""))&&O(y,"class",L),ge[0]&384){ve=Je(e[26].requirements.plots);let $e;for($e=0;$e<ve.length;$e+=1){const le=vl(e,ve,$e);V[$e]?V[$e].p(le,ge):(V[$e]=Il(le),V[$e].c(),V[$e].m(R,null))}for(;$e<V.length;$e+=1)V[$e].d(1);V.length=ve.length}e[26].effect_modifiers.happiness!=1?re?re.p(e,ge):(re=Nl(e),re.c(),re.m(b,null)):re&&(re.d(1),re=null),e[26].effect_modifiers.health!=1?be?be.p(e,ge):(be=El(e),be.c(),be.m(M,null)):be&&(be.d(1),be=null),e[26].immediate_variable_changes.happiness!=0?ke?ke.p(e,ge):(ke=Ml(e),ke.c(),ke.m(A,B)):ke&&(ke.d(1),ke=null),e[26].immediate_variable_changes.health!=0?Ae?Ae.p(e,ge):(Ae=Pl(e),Ae.c(),Ae.m(A,null)):Ae&&(Ae.d(1),Ae=null),ge[0]&128&&z!==(z="plotOption border-b border-black "+(e[26].affordable?"cursor-pointer":"unaffordable cursor-not-allowed bg-gray-200")+" "+(e[26].selected?"italic font-light opacity-50 ":"")+" svelte-bq7iir")&&O(n,"class",z),ge[0]&128&&ee!==(ee=e[26].id)&&O(n,"data-plotoptionid",ee),ge[0]&140&&bn(n,"background-color",e[26].selected?"gray":Ci(e[11](e[26].id),e[4](e[2],e[3])))},d(Ee){Ee&&k(n),Y&&Y.d(),ne&&ne.d(),vt(V,Ee),re&&re.d(),be&&be.d(),ke&&ke.d(),Ae&&Ae.d()}}}function Xh(t){let e,n,i,o,r,l,a,s,u,f,c,p,h,_=t[8].plots[t[2]][t[3]].type!==-1&&t[5](t[2],t[3]),g,v,y,N,I,J,F,L,q,$,R,H,d,b=[],m=new Map,M,D,A;e=new en({props:{$$slots:{default:[Vh]},$$scope:{ctx:t}}});let B={type:"text",id:"search-bar",placeholder:"Search Plot Options...",value:t[6],class:"border rounded w-auto"};r=new er({props:B}),t[17](r),r.$on("input",t[12]);let j=_&&kl(t);function z(V,re){return V[7].length>0?Uh:Kh}let ee=z(t),Y=ee(t);F=new Wn({props:{class:""}});let ne=Je(t[7]);const ve=V=>V[26].id;for(let V=0;V<ne.length;V+=1){let re=bl(t,ne,V),be=ve(re);m.set(be,b[V]=Ol(be,re))}return{c(){Q(e.$$.fragment),n=K(),i=P("div"),o=P("div"),Q(r.$$.fragment),l=K(),a=P("div"),s=P("input"),f=K(),c=P("label"),c.textContent="Show only affordable",p=K(),h=P("div"),j&&j.c(),g=K(),v=P("label"),y=P("span"),y.textContent="Quick scroll",N=K(),I=P("div"),Y.c(),J=K(),Q(F.$$.fragment),L=K(),q=P("div"),$=P("table"),R=P("thead"),R.innerHTML='<tr class="text-xs text-left"><th class="px-2 py-2">Title</th> <th class="px-2 pr-2 py-2 w-48">Desc</th> <th class="px-2 py-2">Profit</th> <th class="px-2 py-2">Employees</th> <th class="px-2 py-2">Cost</th> <th class="px-2 py-2">Requires</th> <th class="px-2 py-2">Modifiers</th> <th class="px-2 py-2">Instant effect</th></tr>',H=K(),d=P("tbody");for(let V=0;V<b.length;V+=1)b[V].c();O(o,"class","flex items-center "),O(s,"type","checkbox"),O(s,"id","toggle-affordable"),O(s,"class","rounded"),s.checked=u=t[10]===t[7].length,O(c,"for","toggle-affordable"),O(c,"class","ml-2 no-select cursor-pointer "),O(a,"class","flex items-center ml-6"),O(h,"class","flex justify-end ml-6"),O(y,"class","mb-10"),O(v,"for","plotType"),O(v,"class","text-xs ml-4 gap-2"),O(i,"class","flex flex-row w-full px-4 py-2 text-white "),O(R,"class","sticky top-0 z-10 bg-slate-900 position-sticky text-white text-left w-full px-5 "),O(d,"class","overflow-hidden text-xs mx-2"),O($,"class","text-left table-auto text-xs w-full border-collapse rounded-lgshadow-lg"),O(q,"class","overflow-y-scroll scroll-smooth no-scrollbar max-h-[60vh] ")},m(V,re){x(e,V,re),C(V,n,re),C(V,i,re),w(i,o),x(r,o,null),w(i,l),w(i,a),w(a,s),w(a,f),w(a,c),w(i,p),w(i,h),j&&j.m(h,null),w(i,g),w(i,v),w(v,y),w(v,N),w(v,I),Y.m(I,null),C(V,J,re),x(F,V,re),C(V,L,re),C(V,q,re),w(q,$),w($,R),w($,H),w($,d);for(let be=0;be<b.length;be+=1)b[be]&&b[be].m(d,null);M=!0,D||(A=[U(s,"change",t[18]),U($,"click",t[14])],D=!0)},p(V,re){const be={};re[0]&2|re[1]&8&&(be.$$scope={dirty:re,ctx:V}),e.$set(be);const ke={};re[0]&64&&(ke.value=V[6]),r.$set(ke),(!M||re[0]&1152&&u!==(u=V[10]===V[7].length))&&(s.checked=u),re[0]&268&&(_=V[8].plots[V[2]][V[3]].type!==-1&&V[5](V[2],V[3])),_?j?j.p(V,re):(j=kl(V),j.c(),j.m(h,null)):j&&(j.d(1),j=null),ee===(ee=z(V))&&Y?Y.p(V,re):(Y.d(1),Y=ee(V),Y&&(Y.c(),Y.m(I,null))),re[0]&2460&&(ne=Je(V[7]),b=Eu(b,re,ve,1,V,ne,m,d,Nu,Ol,null,bl))},i(V){M||(S(e.$$.fragment,V),S(r.$$.fragment,V),S(F.$$.fragment,V),M=!0)},o(V){T(e.$$.fragment,V),T(r.$$.fragment,V),T(F.$$.fragment,V),M=!1},d(V){V&&(k(n),k(i),k(J),k(L),k(q)),Z(e,V),t[17](null),Z(r),j&&j.d(),Y.d(),Z(F,V);for(let re=0;re<b.length;re+=1)b[re].d();D=!1,qe(A)}}}function xh(t){let e,n;return e=new tn({props:{class:`border-gray-500 border-r-2 overflow-clip max-w-[90vw] max-h-[90vh]
		`,$$slots:{default:[Xh]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment)},m(i,o){x(e,i,o),n=!0},p(i,o){const r={};o[0]&1998|o[1]&8&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(S(e.$$.fragment,i),n=!0)},o(i){T(e.$$.fragment,i),n=!1},d(i){Z(e,i)}}}function Zh(t){let e,n,i;function o(l){t[20](l)}let r={$$slots:{default:[xh]},$$scope:{ctx:t}};return t[0]!==void 0&&(r.open=t[0]),e=new on({props:r}),Ie.push(()=>Qt(e,"open",o)),{c(){Q(e.$$.fragment)},m(l,a){x(e,l,a),i=!0},p(l,a){const s={};a[0]&1998|a[1]&8&&(s.$$scope={dirty:a,ctx:l}),!n&&a[0]&1&&(n=!0,s.open=l[0],Zt(()=>n=!1)),e.$set(s)},i(l){i||(S(e.$$.fragment,l),i=!0)},o(l){T(e.$$.fragment,l),i=!1},d(l){Z(e,l)}}}function Oi(t){let e=t<1,n=Ut(t%1*100,0);return e?`-${100-n}%`:`+${n}%`}function Li(t){return t=Ut(t/3,0),t<0?`-${t}`:`+${t}`}function Ll(t){const n=new RegExp("\\p{Emoji}","u").exec(t);return n?n[0]:null}function Ut(t,e){e===void 0&&(e=0);var n=Math.pow(10,e);t=parseFloat((t*n).toFixed(11));var i=Math.round(t)/n;return+i.toFixed(e)}function Fi(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function Qh(t,e,n){let i,o,r;ae(t,xe,m=>n(21,i=m)),ae(t,Se,m=>n(8,o=m)),ae(t,zs,m=>n(16,r=m));let{x:l=0}=e,{y:a=0}=e,{open:s=!1}=e,u="",f=Pe,{tooltip:c=""}=e,p,h,_=f.map(m=>Object.assign(Object.assign({},m),{affordable:q(m,o),selected:y(m)}));function g(m){return Pe.findIndex(M=>M.id===m)}function v(m){n(6,u=m.target.value||"")}function y(m){return o.plots[l][a].type>-1?f[o.plots[l][a].type].id===m.id:!1}function N(m,M){let D={x:m,y:M};return D.x===0&&D.y===0?!0:[{x:D.x-1,y:D.y},{x:D.x+1,y:D.y},{x:D.x,y:D.y-1},{x:D.x,y:D.y+1}].some(B=>B.x<0||B.x>o.plots.length-1||B.y<0||B.y>o.plots.length-1?!1:o.plots[B.x][B.y].active)}function I(){document.querySelectorAll(".plotOption").forEach(M=>{M.classList.remove("active")}),Ai(l,a,o)}function J(m){document.querySelectorAll(".plotOption").forEach(A=>{A.classList.remove("active")});const D=document.querySelector(`[data-plotoptionid="${m}"]`);D&&(D.classList.add("active"),L(l,a,m))}function F(m,M){let D=0;return m>0&&o.plots[m-1][M].type!==-1&&D++,m<o.plots.length-1&&o.plots[m+1][M].type!==-1&&D++,M>0&&o.plots[m][M-1].type!==-1&&D++,M<o.plots[0].length-1&&o.plots[m][M+1].type!==-1&&D++,D<=4}function L(m,M,D){let A=o;const B=Pe.findIndex(ee=>ee.id===D);let j=Pe[B];if(q(j,o)==!1)return console.log(j.requirements),alert(`${JSON.stringify(j.requirements)}`);let z=!0;if((j.requirements.gold>A.townInfo.gold||j.requirements.employees>A.townInfo.population_count-A.townInfo.employees)&&(z=!1),j.requirements.size!=null&&z){let ee=j.requirements.size,Y=[],ne=f[B].title.toLowerCase().indexOf("school")!=-1;for(let ve=0;ve<4;ve++){let V=[[m,M]];ve===0?(V.push([m-(ee-1),M-(ee-1)]),V.push([m-(ee-1),M]),V.push([m,M-(ee-1)])):ve===1?(V.push([m,M-(ee-1)]),V.push([m+(ee-1),M-(ee-1)]),V.push([m+(ee-1),M])):ve===2?(V.push([m-(ee-1),M]),V.push([m-(ee-1),M+(ee-1)]),V.push([m,M+(ee-1)])):ve===3&&(V.push([m,M+(ee-1)]),V.push([m+(ee-1),M+(ee-1)]),V.push([m+(ee-1),M])),Y.push(V)}Y=Y.filter(ve=>ve.every(V=>V[0]>=0&&V[0]<=A.plots.length-1&&V[1]>=0&&V[1]<=A.plots.length-1&&!A.plots[V[0]][V[1]].active&&N(V[0],V[1])==!0)),Y.length===0?z=!1:Y.length>0&&Y[0].forEach(V=>{A.plots[V[0]][V[1]].active=!0,A.plots[V[0]][V[1]].type=ne?-3:-2,A.plots[V[0]][V[1]].referencePlot=[m,M]})}if(z===!0){switch(A.plots[m][M].type!==-1&&Ai(m,M,A),n(1,c=""),A.plots[m][M].type=B,A.plots[m][M].active=!0,A.plots[m][M].referencePlot=[],A.plots[m][M].typeId=j.id,A.townInfo.gold-=j.requirements.gold,A.townInfo.gold=Ut(A.townInfo.gold,2),A.townInfo.population_count+=j.immediate_variable_changes.population,A.townInfo.population_max+=j.immediate_variable_changes.population,A.townInfo.happiness+=j.immediate_variable_changes.happiness,A.townInfo.health+=j.immediate_variable_changes.health,A.modifiers.happiness=Ut(A.modifiers.happiness*j.effect_modifiers.happiness,2),A.modifiers.health=Ut(A.modifiers.health*j.effect_modifiers.health,2),A.townInfo.employees+=j.requirements.employees,(A.plotCounts[B]===void 0||A.plotCounts[B]===null)&&(A.plotCounts[B]=0),A.plotCounts[B]++,A.lastChangeDay=A.environment.day,j.id){case"city_hall":A.hasCityHall=!0;break;case"bank":A.hasBank=!0;break}Se.set(A),localStorage.setItem(ft,JSON.stringify(A)),we(xe,i.visible=!1,i)}else n(1,c="You do not have enough resources to purchase this plot. If it's a 'Large' plot, make sure you have a 2x2 area available. "),document.querySelectorAll(".plotOption").forEach(Y=>{Y.classList.remove("active")})}function q(m,M){let D=!0;m.requirements.gold>M.townInfo.gold&&(D=!1);let A=M.townInfo.population_count-M.townInfo.employees;return m.requirements.employees!==void 0&&m.requirements.employees>0&&m.requirements.employees>A&&(D=!1),m.requirements.knowledge!==void 0&&m.requirements.knowledge>M.townInfo.knowledge_points&&(D=!1),m.requirements.plots!==void 0&&m.requirements.plots.length>0&&m.requirements.plots.forEach(B=>{st(B,M).length===0&&(D=!1)}),D}function $(m){const M=m.target.closest(".plotOption");if(M){const D=M.dataset.plotoptionid;J(D)}}function R(m){Ie[m?"unshift":"push"](()=>{p=m,n(9,p)})}const H=()=>{Bu()},d=m=>{const M=document.querySelector(`[data-plotoptionid="${m.id}"]`);M&&M.scrollIntoView({behavior:"smooth",block:"center"})};function b(m){s=m,n(0,s)}return t.$$set=m=>{"x"in m&&n(2,l=m.x),"y"in m&&n(3,a=m.y),"open"in m&&n(0,s=m.open),"tooltip"in m&&n(1,c=m.tooltip)},t.$$.update=()=>{t.$$.dirty[0]&65920&&o&&(n(7,_=f.map(m=>Object.assign(Object.assign({},m),{affordable:q(m,o),selected:y(m)}))),r&&n(7,_=_.filter(m=>m.affordable)),Object.keys(pr).forEach(m=>{let M=pr[m];if(M>0){let D=st(m,o).length;n(7,_=_.filter(A=>A.id!==m||D<M))}})),t.$$.dirty[0]&192&&n(7,_=_.filter(m=>m.title.toLowerCase().includes(u.toLowerCase()))),t.$$.dirty[0]&128&&n(10,h=_.filter(m=>m.affordable).length)},[s,c,l,a,N,F,u,_,o,p,h,g,v,I,$,L,r,R,H,d,b]}class zh extends _e{constructor(e){super(),me(this,e,Qh,Zh,se,{x:2,y:3,open:0,tooltip:1,checkIfPlotCanBeUpgraded:4,canBulldoze:5,purchasePlot:15},null,[-1,-1])}get checkIfPlotCanBeUpgraded(){return this.$$.ctx[4]}get canBulldoze(){return this.$$.ctx[5]}get purchasePlot(){return this.$$.ctx[15]}}function em(t){let e,n,i,o,r;return{c(){e=P("div"),n=P("span"),i=G("👋 "),o=G(t[0]),O(n,"class",r="text-xs rounded-lg p-2 whitespace-normal text-center flex justify-center w-fit m-2 shadow shadow-black hover:rotate-6 overflow-visible hover:scale-110 z-10 transition-all duration-25 "+t[1]+" "+(t[2]?"bg-green-300 text-green-900":"bg-red-900 text-red-200")),O(e,"class","overflow-visible animate-pulse")},m(l,a){C(l,e,a),w(e,n),w(n,i),w(n,o)},p(l,[a]){a&1&&ue(o,l[0]),a&6&&r!==(r="text-xs rounded-lg p-2 whitespace-normal text-center flex justify-center w-fit m-2 shadow shadow-black hover:rotate-6 overflow-visible hover:scale-110 z-10 transition-all duration-25 "+l[1]+" "+(l[2]?"bg-green-300 text-green-900":"bg-red-900 text-red-200"))&&O(n,"class",r)},i:ye,o:ye,d(l){l&&k(e)}}}function tm(t,e,n){let{text:i=""}=e,{classText:o=""}=e,{happy:r=!1}=e;return t.$$set=l=>{"text"in l&&n(0,i=l.text),"classText"in l&&n(1,o=l.classText),"happy"in l&&n(2,r=l.happy)},[i,o,r]}class Ca extends _e{constructor(e){super(),me(this,e,tm,em,se,{text:0,classText:1,happy:2})}}function nm(t){let e,n;return e=new Ca({props:{text:"Build your first home",happy:"true"}}),{c(){Q(e.$$.fragment)},m(i,o){x(e,i,o),n=!0},p:ye,i(i){n||(S(e.$$.fragment,i),n=!0)},o(i){T(e.$$.fragment,i),n=!1},d(i){Z(e,i)}}}function im(t){let e,n,i,o=Pe[t[0].type].title.substring(0,2)+"",r,l,a=Pe[t[0].type].title.substring(2)+"",s,u,f=Pe[t[0].type].requirements.size>1?`(${Pe[t[0].type].requirements.size}x${Pe[t[0].type].requirements.size})`:"",c,p;return{c(){e=P("div"),n=P("span"),i=P("span"),r=G(o),l=P("br"),s=G(a),u=K(),c=G(f),O(i,"class","text-lg"),O(n,"data-size",p=Pe[t[0].type].requirements.size),O(e,"class","svelte-i7je74")},m(h,_){C(h,e,_),w(e,n),w(n,i),w(i,r),w(n,l),w(n,s),w(n,u),w(n,c)},p(h,_){_&1&&o!==(o=Pe[h[0].type].title.substring(0,2)+"")&&ue(r,o),_&1&&a!==(a=Pe[h[0].type].title.substring(2)+"")&&ue(s,a),_&1&&f!==(f=Pe[h[0].type].requirements.size>1?`(${Pe[h[0].type].requirements.size}x${Pe[h[0].type].requirements.size})`:"")&&ue(c,f),_&1&&p!==(p=Pe[h[0].type].requirements.size)&&O(n,"data-size",p)},i:ye,o:ye,d(h){h&&k(e)}}}function om(t){let e,n,i,o,r,l,a,s,u,f,c,p,h,_,g,v,y;const N=[im,nm],I=[];function J(F,L){return F[0].type>-1?0:F[0].type==-1&&F[0].x==0&&F[0].y==0?1:-1}return~(n=J(t))&&(i=I[n]=N[n](t)),{c(){e=P("div"),i&&i.c(),O(e,"class",o="plot_container overflow-visible "+(t[0].type==-1&&t[1]==!1?"border-slate-500 border-dashed border":"")+" svelte-i7je74"),bn(e,"background-color",Ci(t[0].type,t[1])),O(e,"data-active",r=t[0].active),O(e,"data-id",l=t[0].id),O(e,"data-x",a=t[0].x),O(e,"data-y",s=t[0].y),O(e,"data-optionindex",u=t[0].optionIndex),O(e,"data-canbeupgraded",t[1]),O(e,"data-type",f=t[0].type),O(e,"data-type-id",c=t[0].typeId),O(e,"data-refplotx",p=t[0].referencePlot!==void 0?t[0].referencePlot[1]:null),O(e,"data-refploty",h=t[0].referencePlot!==void 0?t[0].referencePlot[0]:null),O(e,"data-size",_=t[0].type>-1?Pe[t[0].type].requirements.size:null)},m(F,L){C(F,e,L),~n&&I[n].m(e,null),g=!0,v||(y=U(e,"click",t[2]),v=!0)},p(F,[L]){let q=n;n=J(F),n===q?~n&&I[n].p(F,L):(i&&(Fe(),T(I[q],1,1,()=>{I[q]=null}),Re()),~n?(i=I[n],i?i.p(F,L):(i=I[n]=N[n](F),i.c()),S(i,1),i.m(e,null)):i=null),(!g||L&3&&o!==(o="plot_container overflow-visible "+(F[0].type==-1&&F[1]==!1?"border-slate-500 border-dashed border":"")+" svelte-i7je74"))&&O(e,"class",o),(!g||L&3)&&bn(e,"background-color",Ci(F[0].type,F[1])),(!g||L&1&&r!==(r=F[0].active))&&O(e,"data-active",r),(!g||L&1&&l!==(l=F[0].id))&&O(e,"data-id",l),(!g||L&1&&a!==(a=F[0].x))&&O(e,"data-x",a),(!g||L&1&&s!==(s=F[0].y))&&O(e,"data-y",s),(!g||L&1&&u!==(u=F[0].optionIndex))&&O(e,"data-optionindex",u),(!g||L&2)&&O(e,"data-canbeupgraded",F[1]),(!g||L&1&&f!==(f=F[0].type))&&O(e,"data-type",f),(!g||L&1&&c!==(c=F[0].typeId))&&O(e,"data-type-id",c),(!g||L&1&&p!==(p=F[0].referencePlot!==void 0?F[0].referencePlot[1]:null))&&O(e,"data-refplotx",p),(!g||L&1&&h!==(h=F[0].referencePlot!==void 0?F[0].referencePlot[0]:null))&&O(e,"data-refploty",h),(!g||L&1&&_!==(_=F[0].type>-1?Pe[F[0].type].requirements.size:null))&&O(e,"data-size",_)},i(F){g||(S(i),g=!0)},o(F){T(i),g=!1},d(F){F&&k(e),~n&&I[n].d(),v=!1,y()}}}function rm(t,e,n){let i,o,r,l;ae(t,xe,c=>n(4,i=c)),ae(t,Se,c=>n(5,o=c)),ae(t,gt,c=>n(6,r=c)),ae(t,vn,c=>n(7,l=c));let{data:a={id:0,active:!1,x:0,y:0,type:-1,styling:"",referencePlot:[]}}=e,{canBeUpgraded:s=!1}=e;function u(c,p,h){let _=document.querySelectorAll(".plot_container");if(r==!1){if(a.referencePlot!=null&&a.referencePlot[0]!==null&&p==null&&h==null&&a.referencePlot[1]!==void 0)return u(c,a.referencePlot[0],a.referencePlot[1]);!a.active&&!s?(we(vn,l={},l),we(xe,i.visible=!1,i),_.forEach(g=>{g.classList.remove("selected")})):(p!=null&&h!=null?(we(xe,i.x=p,i),we(xe,i.y=h,i)):(we(xe,i.x=a.x,i),we(xe,i.y=a.y,i)),we(xe,i.visible=!0,i),_.forEach(g=>{g.classList.remove("selected")}),p!=null&&h!=null?document.querySelector(`.plot_container[data-x="${p}"][data-y="${h}"]`).classList.add("selected"):document.querySelector(`.plot_container[data-id="${a.id}"]`).classList.add("selected"))}}function f(c){r==!1&&(we(Se,o.plots[a.x][a.y].type=c,o),we(xe,i.visible=!1,i))}return t.$$set=c=>{"data"in c&&n(0,a=c.data),"canBeUpgraded"in c&&n(1,s=c.canBeUpgraded)},[a,s,u,f]}class lm extends _e{constructor(e){super(),me(this,e,rm,om,se,{data:0,canBeUpgraded:1,changePlotType:3})}get changePlotType(){return this.$$.ctx[3]}}function Fl(t,e,n){const i=t.slice();return i[6]=e[n],i}function Rl(t,e,n){const i=t.slice();return i[9]=e[n],i}function ql(t){let e,n,i=t[3],o,r,l=Je(t[2].plots),a=[];for(let f=0;f<l.length;f+=1)a[f]=$l(Fl(t,l,f));const s=f=>T(a[f],1,1,()=>{a[f]=null});let u=Gl(t);return{c(){e=P("div");for(let f=0;f<a.length;f+=1)a[f].c();n=K(),u.c(),o=Me(),O(e,"class","grid overflow-x-scroll overflow-visible svelte-3cpxwu")},m(f,c){C(f,e,c);for(let p=0;p<a.length;p+=1)a[p]&&a[p].m(e,null);C(f,n,c),u.m(f,c),C(f,o,c),r=!0},p(f,c){if(c&7){l=Je(f[2].plots);let p;for(p=0;p<l.length;p+=1){const h=Fl(f,l,p);a[p]?(a[p].p(h,c),S(a[p],1)):(a[p]=$l(h),a[p].c(),S(a[p],1),a[p].m(e,null))}for(Fe(),p=l.length;p<a.length;p+=1)s(p);Re()}c&8&&se(i,i=f[3])?(Fe(),T(u,1,1,ye),Re(),u=Gl(f),u.c(),S(u,1),u.m(o.parentNode,o)):u.p(f,c)},i(f){if(!r){for(let c=0;c<l.length;c+=1)S(a[c]);S(u),r=!0}},o(f){a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)T(a[c]);T(u),r=!1},d(f){f&&(k(e),k(n),k(o)),vt(a,f),u.d(f)}}}function Dl(t){let e,n;return e=new lm({props:{data:t[9],canBeUpgraded:t[0](t[9].x,t[9].y)}}),{c(){Q(e.$$.fragment)},m(i,o){x(e,i,o),n=!0},p(i,o){const r={};o&4&&(r.data=i[9]),o&4&&(r.canBeUpgraded=i[0](i[9].x,i[9].y)),e.$set(r)},i(i){n||(S(e.$$.fragment,i),n=!0)},o(i){T(e.$$.fragment,i),n=!1},d(i){Z(e,i)}}}function $l(t){let e,n,i,o,r,l=Je(t[6]),a=[];for(let u=0;u<l.length;u+=1)a[u]=Dl(Rl(t,l,u));const s=u=>T(a[u],1,1,()=>{a[u]=null});return{c(){e=P("div");for(let u=0;u<a.length;u+=1)a[u].c();n=K(),O(e,"class","row overflow-visible svelte-3cpxwu")},m(u,f){C(u,e,f);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(e,null);w(e,n),i=!0,o||(r=U(e,"click",t[1]),o=!0)},p(u,f){if(f&5){l=Je(u[6]);let c;for(c=0;c<l.length;c+=1){const p=Rl(u,l,c);a[c]?(a[c].p(p,f),S(a[c],1)):(a[c]=Dl(p),a[c].c(),S(a[c],1),a[c].m(e,n))}for(Fe(),c=l.length;c<a.length;c+=1)s(c);Re()}},i(u){if(!i){for(let f=0;f<l.length;f+=1)S(a[f]);i=!0}},o(u){a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)T(a[f]);i=!1},d(u){u&&k(e),vt(a,u),o=!1,r()}}}function Bl(t){let e,n;return e=new zh({props:{x:t[4].x,y:t[4].y,open:t[4].visible}}),{c(){Q(e.$$.fragment)},m(i,o){x(e,i,o),n=!0},p(i,o){const r={};o&16&&(r.x=i[4].x),o&16&&(r.y=i[4].y),o&16&&(r.open=i[4].visible),e.$set(r)},i(i){n||(S(e.$$.fragment,i),n=!0)},o(i){T(e.$$.fragment,i),n=!1},d(i){Z(e,i)}}}function Gl(t){let e,n,i=t[4].visible&&Bl(t);return{c(){i&&i.c(),e=Me()},m(o,r){i&&i.m(o,r),C(o,e,r),n=!0},p(o,r){o[4].visible?i?(i.p(o,r),r&16&&S(i,1)):(i=Bl(o),i.c(),S(i,1),i.m(e.parentNode,e)):i&&(Fe(),T(i,1,1,()=>{i=null}),Re())},i(o){n||(S(i),n=!0)},o(o){T(i),n=!1},d(o){o&&k(e),i&&i.d(o)}}}function sm(t){let e,n,i=t[2]!=null&&ql(t);return{c(){i&&i.c(),e=Me()},m(o,r){i&&i.m(o,r),C(o,e,r),n=!0},p(o,[r]){o[2]!=null?i?(i.p(o,r),r&4&&S(i,1)):(i=ql(o),i.c(),S(i,1),i.m(e.parentNode,e)):i&&(Fe(),T(i,1,1,()=>{i=null}),Re())},i(o){n||(S(i),n=!0)},o(o){T(i),n=!1},d(o){o&&k(e),i&&i.d(o)}}}function am(t,e,n){let i,o,r;ae(t,vn,u=>n(3,i=u)),ae(t,Se,u=>n(2,o=u)),ae(t,xe,u=>n(4,r=u));function l(u,f){let c={x:u,y:f};return c.x===0&&c.y===0?!0:[{x:c.x-1,y:c.y},{x:c.x+1,y:c.y},{x:c.x,y:c.y-1},{x:c.x,y:c.y+1}].some(h=>h.x<0||h.x>=o.plots.length||h.y<0||h.y>=o.plots[h.x].length?!1:o.plots[h.x][h.y].active)}function a(){let u=[];for(let f=0;f<o.plots.length;f++)for(let c=0;c<o.plots.length;c++)l(f,c)&&o.plots[f][c].active==!1&&u.push(o.plots[f][c])}function s(){we(vn,i={},i)}return t.$$.update=()=>{t.$$.dirty&4&&o&&a()},[l,s,o,i,r]}class um extends _e{constructor(e){super(),me(this,e,am,sm,se,{checkIfPlotCanBeUpgraded:0,restartModifyPlotMenu:1})}get checkIfPlotCanBeUpgraded(){return this.$$.ctx[0]}get restartModifyPlotMenu(){return this.$$.ctx[1]}}const et={unemployment_num:" people can't find jobs.",bored:"People are bored. Try making some new buildings.",vairety:"People don't like going to the same places over and over again. Try making some new buildings.",nobody_home:"Build some homes!",leave_town_num:" people left town because they were unhappy.",new_people_num:" new people moved to town.",people_want_to_move_in:"People want to move in. Build more homes.",high_tax_rate:"People are unhappy with the high tax rate.",very_high_tax_rate:"People are extremely unhappy with the high tax rate.",sickAndDying:"People are sick and dying.",sickAndLeaving:"People are sick and leaving town.",happiness_zero:"The town has fallen into chaos due to extreme unhappiness.",health_zero:"The town has fallen into chaos due to extreme sickness.",population_zero:"The town has been condemned due to lack of population.",win:{land:"You have filled the grid with buildings. You win!"},hospital_advantage:"Because you have a hospital, the town is staying healthier for longer!",notEnoughVariety:"People are sick of going to the same places over and over, add some variety!"},ot={land:{short_title:"Fill the grid",description_title:"You win by filling up all possible plots in the grid, and by meeting some requirements.",win:"You have filled the grid with buildings and met the requirements. Your citizens are happy, fulfilled, hard-working, and healthy. ",requirements:{0:{population_count:200,happiness:100,health:100,employment:1,knowledge:50,required_plots:["pub","small_school","community_center"]},1:{population_count:1e3,happiness:120,health:120,employment:1,knowledge:100,required_plots:["bank"]},2:{population_count:1e3,happiness:200,health:200,employment:1,knowledge:1e3,required_plots:["bank","city_hall"]}}},free_play:{short_title:"Free Play",description_title:"Play for as long as you can and build the best city you can."}},nt=[{id:"happiness_at_300",title:"Happy Town",description:"One of your towns wins Happiest Town Award!",requirements:"Happiness reaches 300",icon:"😍",check:t=>t.townInfo.happiness>=300,prize:1e3},{id:"get_educated",title:"Get Educated",description:"The kids are finally able to learn!",requirements:"Build a school or library",icon:"📌",check:t=>st("small_school",t).length!==0||st("large_school",t).length!==0||st("library",t).length!==0,prize:1850},{id:"10k",title:"$10,000",description:"",requirements:"Gold reaches $10,000",icon:"﹩",check:t=>t.townInfo.gold>=1e4,prize:2500},{id:"25k",title:"$25,000",description:"",requirements:"Gold reaches $25,000",icon:"💵",check:t=>t.townInfo.gold>=25e3,prize:7500},{id:"stayin_frugal",title:"Stayin' Frugal!",description:"",requirements:"Gold under $50 with >=300 population",icon:"🚲",check:t=>t.townInfo.gold<=50&&t.townInfo.population_count>=300,prize:1e4},{id:"profits_to_the_moon",title:"Profits to the moon!",description:"Now you're making dough!",requirements:"Last month profit is over $10,000",icon:"🌛",check:t=>t.economyAndLaws.last_month_profit>=1e4,prize:15e3},{id:"happily_dying",title:"Happily Dying!",description:"Not something to be proud of...",requirements:"Happiness > 275, health < 25",icon:"🌛",check:t=>t.townInfo.happiness>275&&t.townInfo.health<25,prize:2e4},{id:"long_game",title:"The Long Game",description:"So are you gonna win anytime soon?",requirements:"Still playing after 10,000 days, without winning. ",icon:"🐌",check:t=>t.endGameDetails.win===!1&&t.environment.day>1e4&&t.endGameDetails.msg==="",prize:25e3},{id:"tax_man",title:"Tax man",description:"Set the tax rate to the absolute max that the town will tolerate.",requirements:"",icon:"🙃",check:t=>{let e=Math.floor(t.economyAndLaws.max_tax_rate*20)/20;return t.economyAndLaws.tax_rate===e},prize:1500},{id:"good_job",title:"Good job",description:"Beat 'Fill the grid' with Normal difficulty in under 3,000 days.",requirements:"",icon:"👍",check:t=>t.endGameDetails.win===!0&&t.environment.day<=3e3&&t.difficulty===1&&t.endGoal==="land",prize:1e4},{id:"great_job",title:"Great job",description:"Beat 'Fill the grid' with Normal difficulty in under 2,000 days.",requirements:"",icon:"👏",check:t=>t.endGameDetails.win===!0&&t.environment.day<=2e3&&t.difficulty===1&&t.endGoal==="land",prize:45e3},{id:"superb_job",title:"SUPERB job",description:"Beat 'Fill the grid' with Normal difficulty in under 500 days.",requirements:"",icon:"👌",check:t=>t.endGameDetails.win===!0&&t.environment.day<=500&&t.difficulty===1&&t.endGoal==="land",prize:1e5},{id:"100k",title:"$100,000",description:"",requirements:"Gold reaches $100,000",icon:"💸",check:t=>t.townInfo.gold>=1e5,prize:25e3},{id:"banker",title:"Banker",description:"",requirements:"Build your first bank.",icon:"🏦",check:t=>st("bank",t).length!==0,prize:5e3},{id:"tourist_town",title:"Tourist Town",description:"Reach $5,000 in tourism gold without converting to gold.",requirements:"",icon:"🏝️",check:t=>t.townInfo.gold_from_tourism>=5e3,prize:12e3},{id:"1m",title:"MILLIONAIRE!",description:"",requirements:"Gold reaches $1,000,000",icon:"💰",check:t=>t.townInfo.gold>=1e6,prize:15e4}],jl=30;function fm(t){let e=!0;for(let n=0;n<t.plots.length;n++)for(let i=0;i<t.plots[n].length;i++)if(t.plots[n][i].active==!1){e=!1;break}return e}function cm(t){return t.endGameDetails!=null||(t.townInfo.happiness<70&&t.last_warning_happiness+365<t.environment.day&&(alert("Your citizens are very unhappy. You should do something about it."),t.last_warning_happiness=t.environment.day),t.townInfo.health<70&&t.last_warning_health+365<t.environment.day&&(alert("Your citizens are very unhealthy. You should do something about it."),t.last_warning_health=t.environment.day)),t}function dm(t){return t.hasBank,t}function pm(t){return t.hasCityHall,t}function hm(t){let e=t.economyAndLaws.knowledge_gold_market_rates[t.economyAndLaws.knowledge_gold_market_rates.length-1]||1;const n=-100,i=8,o=3;let r=Math.random(),l=Math.random()*o;if(r<.4){let a=Math.random()*i;Math.random()<.5?e+=a:e-=a}else Math.random()>.5?e+=l:e-=l;return e<n&&(e+=Math.random()*l/5),e=Math.round(e),t.economyAndLaws.knowledge_gold_market_rates=[...t.economyAndLaws.knowledge_gold_market_rates,e],t}function Ao(t){return t.lab.active_experiment==null||t.lab.active_experiment.duration>0&&(t.lab.active_experiment.duration-=1),t}function To(t){if(t.townInfo.happiness>150){let n=t.townInfo.happiness-150;t.townInfo.happiness-=n*.08,t.townInfo.happiness<150&&(t.townInfo.happiness=150)}if(t.townInfo.health>150){let n=t.townInfo.health-150;t.townInfo.health-=n*.08,t.townInfo.health<150&&(t.townInfo.health=150)}return t}function mm(t){return t.townInfo.happiness*=t.modifiers.happiness,t.townInfo.health*=t.modifiers.health,t}function _m(t,e){let n=e.townInfo.happiness/100;n>2.25?n=2.25:n<.75&&(n=.75);let i=t*e.economyAndLaws.tax_rate*(e.townInfo.population_count/e.townInfo.population_max)*n;return Ot(i,2)}function Ot(t,e){e===void 0&&(e=0);var n=Math.pow(10,e);t=parseFloat((t*n).toFixed(11));var i=Math.round(t)/n;return+i.toFixed(e)}function gm(t,e,n){let i,o,r,l;ae(t,di,d=>n(5,i=d)),ae(t,Se,d=>n(6,o=d)),ae(t,mn,d=>n(7,r=d)),ae(t,gt,d=>n(8,l=d));function a(d){return d=v(d),d=F(d),d=$(d),d=mm(d),d=N(d),d=q(d),d=p(d),d=hm(d),d=cm(d),d}function s(d){return d=R(d),d=dm(d),d=pm(d),d}function u(d){return d=I(d),d=To(d),d=J(d),d=y(d),d}function f(d){return d=L(d),d=Ao(d),d.overtime==!1&&(d=g(d),d=h(d)),d=_(d),d}function c(){Se.update(d=>{if(d==null||(d.tick++,d.tick%jl!==0)||l||!d||d.endGameDetails.msg!==""&&d.overtime==!1||d.townInfo.population_count<=0)return d;try{return d.environment.day+=1,d.environment.day%7===0&&(d=a(d)),d.environment.day%30===0&&(d=s(d)),d.environment.day%90===0&&(d=u(d)),window.location.search.includes("debug=true")&&console.log(d),d=f(d),d}catch(b){return console.error("Error in game loop:",b),d}})}Se.subscribe(d=>{d&&localStorage.setItem(ft,JSON.stringify(d))}),mn.subscribe(d=>{d&&localStorage.setItem(Si,JSON.stringify(d))});function p(d){let b=!1,m=!1,M=!1,D=!1;for(let A=0;A<d.plots.length;A++)for(let B=0;B<d.plots[A].length;B++)if(d.plots[A][B].active==!0&&d.plots[A][B].type>-1){let j=Pe[d.plots[A][B].type].id;j=="bank"&&(b=!0),j=="city_hall"&&(M=!0),(j=="small_hospital"||j=="large_hospital")&&(m=!0),j=="lab"&&(D=!0)}return d.hasBank=b,d.hasHospital=m,d.hasCityHall=M,d.hasLab=D,d}function h(d){if(d.endGoal=="land"&&d.townInfo.population_max==d.townInfo.population_count&&d.townInfo.happiness>=ot.land.requirements[d.difficulty].happiness&&d.townInfo.health>=ot.land.requirements[d.difficulty].health&&d.townInfo.employees/d.townInfo.population_count>=ot.land.requirements[d.difficulty].employment&&d.townInfo.population_count>ot.land.requirements[d.difficulty].population_count&&d.townInfo.knowledge_points>=ot.land.requirements[d.difficulty].knowledge){let m=!0;for(let D=0;D<ot.land.requirements[d.difficulty].required_plots.length;D++){let A=ot.land.requirements[d.difficulty].required_plots[D];if(st(A,d)==!1){m=!1;break}}fm(d)&&m&&(d.endGameDetails={msg:ot.land.win,win:!0,still_playing:!1})}return d}function _(d){if(d.devMode)return d;let b=r;for(let m=0;m<nt.length;m++)b.achievements.find(M=>M[0]==nt[m].id)==null&&nt[m].check(d)&&(b.achievements.push([nt[m].id,d.environment.day,d.townInfo.name]),H("🎉 NEW Achievement: "+nt[m].title,d));return mn.update(()=>b),d}function g(d){return d.townInfo.happiness<=3&&(d.townInfo.happiness=0,d.endGameDetails={msg:et.happiness_zero,win:!1,still_playing:!1}),d.townInfo.health<=3&&(d.townInfo.health=3,d.endGameDetails={msg:et.health_zero,win:!1,still_playing:!1}),d.townInfo.population_count<=0&&d.townInfo.population_max>0&&(d.townInfo.population_count=0,d.endGameDetails={msg:et.population_zero,win:!1,still_playing:!1}),d}function v(d){let b=d.townInfo.population_count-d.townInfo.employees;return b>0&&(d.modifiers.happiness-=b*4e-4,d=H(b+et.unemployment_num,d)),d}function y(d){let b=d.plotCounts.reduce((M,D)=>M+D,0),m=!1;for(let M=0;M<d.plotCounts.length;M++)d.plotCounts[M]==null||Pe[M].check_for_variety!=!0||d.plotCounts[M]/b>=Ru[d.difficulty]&&(Pe[M].title,m=!0);return m&&(d=H(et.notEnoughVariety,d),d.modifiers.happiness*.95),d}function N(d){let b=d.townInfo.health,m=0;return b>50||b<Math.random()*50&&(b<25?(d=H(et.sickAndDying,d),d.townInfo.happiness-=10,m=Math.round(d.townInfo.population_count*.1)):(d=H(et.sickAndLeaving,d),d.townInfo.happiness-=5,m=Math.round(d.townInfo.population_count*.05)),d.townInfo.population_count-=m,d.townInfo.employees-=m),d}function I(d){return d.lastChangeDay+(Math.random()*500+180)<d.environment.day&&d.townInfo.population_count>0&&(d.townInfo.population_count>0&&(d.townInfo.population_count-=1,d.townInfo.employees-=1,d.modifiers.happiness-=.01),d=H(et.bored,d)),d}function J(d){if(d.townInfo.population_count<d.townInfo.population_max&&d.townInfo.happiness>50){let b=d.townInfo.population_max-d.townInfo.population_count,m=Math.round(d.townInfo.happiness/100*b);d.townInfo.population_count+=m,d.townInfo.population_count>d.townInfo.population_max&&(d.townInfo.population_count=d.townInfo.population_max),d.townInfo.employees+=m,d.townInfo.employees>d.townInfo.population_count&&(d.townInfo.employees=d.townInfo.population_count),d=H(m+et.new_people_num,d)}if(d.townInfo.happiness<50&&d.townInfo.population_count>0){let b=Math.round((100-d.townInfo.happiness)/5);d.townInfo.population_count-=b,d.townInfo.employees>0&&(d.townInfo.employees-=b),d=H(b+et.leave_town_num,d)}else d.townInfo.population_count==d.townInfo.population_max;return d}function F(d){const b=Math.random();if(d.economyAndLaws.tax_rate>d.economyAndLaws.max_tax_rate&&d.townInfo.population_count>0){const m=d.difficulty==0?.7:d.difficulty==1?.4:.2;b<m&&d.economyAndLaws.tax_rate>d.economyAndLaws.max_tax_rate*2?(d.modifiers.happiness-=.03,d=H(et.very_high_tax_rate+"  ("+d.economyAndLaws.tax_rate+"%)",d)):(d.modifiers.happiness-=.01,d=H(et.high_tax_rate+"  ("+d.economyAndLaws.tax_rate*100+"%)",d))}return d}function L(d){return d.townInfo.happiness<0&&(d.townInfo.happiness=0),d.townInfo.health<0&&(d.townInfo.health=0),d.townInfo.gold<0&&(d.townInfo.gold=0),d.townInfo.employees<0&&(d.townInfo.employees=0),d.townInfo.knowledge_points<0&&(d.townInfo.knowledge_points=0),d.townInfo.population_count<0&&(d.townInfo.population_count=0),d.townInfo.population_max==0&&d.townLog.indexOf(et.nobody_home)==-1&&(d=H(et.nobody_home,d)),d.economyAndLaws.last_month_profit=Ot(d.economyAndLaws.last_month_profit,2),d.townInfo.employees>d.townInfo.population_count&&(d.townInfo.employees=d.townInfo.population_count),d.townInfo.gold=Ot(d.townInfo.gold,2),d.townInfo.population_count=Ot(d.townInfo.population_count,0),d.townInfo.employees=Ot(d.townInfo.employees,0),d.townInfo.population_max=Ot(d.townInfo.population_max,0),d.townInfo.happiness=Ot(d.townInfo.happiness,2),d.townInfo.health=Ot(d.townInfo.health,2),d.townInfo.happiness>d.maximums.happiness&&(d.townInfo.happiness=d.maximums.happiness),d.townInfo.health>d.maximums.health&&(d.townInfo.health=d.maximums.health),d.modifiers.happiness<.5&&(d.modifiers.happiness=.5),d.modifiers.health<.5&&(d.modifiers.health=.5),d}function q(d){if(d.modifiers.happiness>1){let b=d.modifiers.happiness-1;d.modifiers.happiness-=b*.08,d.modifiers.happiness<1.05&&(d.modifiers.happiness=1)}if(d.modifiers.health>1)if(st("small_hospital",d)||st("large_hospital",d)){if(d.townLog.indexOf(et.hospital_advantage)==-1)return d=H(et.hospital_advantage,d);let b=d.modifiers.health-1;d.modifiers.health-=b*st("large_hospital",d)?.04:.06,d.modifiers.health<1.03&&(d.modifiers.health=1)}else{let b=d.modifiers.health-1;d.modifiers.health-=b*.08,d.modifiers.health<1.05&&(d.modifiers.health=1)}return d}function $(d){d.economyAndLaws.last_month_profit=0;for(let b=0;b<d.plots.length;b++)for(let m=0;m<d.plots[b].length;m++)if(d.plots[b][m].active==!0&&d.plots[b][m].type>-1){let M=Pe[d.plots[b][m].type],D=_m(M.revenue_per_week,d);d.townInfo.gold+=D,d.economyAndLaws.last_month_profit+=D,M.enables_tourism==!0&&(d.townInfo.gold_from_tourism+=M.tourism_revenue_per_week*d.economyAndLaws.tax_rate*d.townInfo.population_count)}return d}function R(d){for(let b=0;b<d.plots.length;b++)for(let m=0;m<d.plots[b].length;m++)if(d.plots[b][m].active==!0&&d.plots[b][m].type>-1){let M=Pe[d.plots[b][m].type];M.knowledge_points_per_month!=null&&(d.townInfo.knowledge_points+=M.knowledge_points_per_month)}return d}function H(d,b){return b.townLog="Day "+o.environment.day+" - "+d+`
`+b.townLog,b}return Ko(async()=>{for(;;)localStorage.reset=="true"&&(Xo(),localStorage.setItem("reset","false")),c(),await new Promise(d=>setTimeout(d,i/jl))}),[c,Ao,L,q,To]}class bm extends _e{constructor(e){super(),me(this,e,gm,null,se,{mainGameThreadLoop:0,_checkExperiment:1,_fixVariables:2,_bringModifiersBackToNormal:3,_bringStatsBackToNormal:4})}get mainGameThreadLoop(){return this.$$.ctx[0]}get _checkExperiment(){return Ao}get _fixVariables(){return this.$$.ctx[2]}get _bringModifiersBackToNormal(){return this.$$.ctx[3]}get _bringStatsBackToNormal(){return To}}var Hl=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,lt=t=>!t||typeof t!="object"||Object.keys(t).length===0,vm=(t,e)=>JSON.stringify(t)===JSON.stringify(e);function Sa(t,e){t.forEach(function(n){Array.isArray(n)?Sa(n,e):e.push(n)})}function Aa(t){let e=[];return Sa(t,e),e}var Ta=(...t)=>Aa(t).filter(Boolean),Ia=(t,e)=>{let n={},i=Object.keys(t),o=Object.keys(e);for(let r of i)if(o.includes(r)){let l=t[r],a=e[r];typeof l=="object"&&typeof a=="object"?n[r]=Ia(l,a):Array.isArray(l)||Array.isArray(a)?n[r]=Ta(a,l):n[r]=a+" "+l}else n[r]=t[r];for(let r of o)i.includes(r)||(n[r]=e[r]);return n},Wl=t=>!t||typeof t!="string"?t:t.replace(/\s+/g," ").trim(),ym={twMerge:!0,twMergeConfig:{},responsiveVariants:!1},Na=t=>t||void 0,Vn=(...t)=>Na(Aa(t).filter(Boolean).join(" ")),ao=null,Tt={},Io=!1,Pn=(...t)=>e=>e.twMerge?((!ao||Io)&&(Io=!1,ao=lt(Tt)?ya:oh({...Tt,extend:{theme:Tt.theme,classGroups:Tt.classGroups,conflictingClassGroupModifiers:Tt.conflictingClassGroupModifiers,conflictingClassGroups:Tt.conflictingClassGroups,...Tt.extend}})),Na(ao(Vn(t)))):Vn(t),Vl=(t,e)=>{for(let n in e)t.hasOwnProperty(n)?t[n]=Vn(t[n],e[n]):t[n]=e[n];return t},wm=(t,e)=>{let{extend:n=null,slots:i={},variants:o={},compoundVariants:r=[],compoundSlots:l=[],defaultVariants:a={}}=t,s={...ym,...e},u=n!=null&&n.base?Vn(n.base,t==null?void 0:t.base):t==null?void 0:t.base,f=n!=null&&n.variants&&!lt(n.variants)?Ia(o,n.variants):o,c=n!=null&&n.defaultVariants&&!lt(n.defaultVariants)?{...n.defaultVariants,...a}:a;!lt(s.twMergeConfig)&&!vm(s.twMergeConfig,Tt)&&(Io=!0,Tt=s.twMergeConfig);let p=lt(n==null?void 0:n.slots),h=lt(i)?{}:{base:Vn(t==null?void 0:t.base,p&&(n==null?void 0:n.base)),...i},_=p?h:Vl({...n==null?void 0:n.slots},lt(h)?{base:t==null?void 0:t.base}:h),g=y=>{if(lt(f)&&lt(i)&&p)return Pn(u,y==null?void 0:y.class,y==null?void 0:y.className)(s);if(r&&!Array.isArray(r))throw new TypeError(`The "compoundVariants" prop must be an array. Received: ${typeof r}`);if(l&&!Array.isArray(l))throw new TypeError(`The "compoundSlots" prop must be an array. Received: ${typeof l}`);let N=(b,m,M=[],D)=>{let A=M;if(typeof m=="string")A=A.concat(Wl(m).split(" ").map(B=>`${b}:${B}`));else if(Array.isArray(m))A=A.concat(m.reduce((B,j)=>B.concat(`${b}:${j}`),[]));else if(typeof m=="object"&&typeof D=="string"){for(let B in m)if(m.hasOwnProperty(B)&&B===D){let j=m[B];if(j&&typeof j=="string"){let z=Wl(j);A[D]?A[D]=A[D].concat(z.split(" ").map(ee=>`${b}:${ee}`)):A[D]=z.split(" ").map(ee=>`${b}:${ee}`)}else Array.isArray(j)&&j.length>0&&(A[D]=j.reduce((z,ee)=>z.concat(`${b}:${ee}`),[]))}}return A},I=(b,m=f,M=null,D=null)=>{var A;let B=m[b];if(!B||lt(B))return null;let j=(A=D==null?void 0:D[b])!=null?A:y==null?void 0:y[b];if(j===null)return null;let z=Hl(j),ee=Array.isArray(s.responsiveVariants)&&s.responsiveVariants.length>0||s.responsiveVariants===!0,Y=c==null?void 0:c[b],ne=[];if(typeof z=="object"&&ee)for(let[re,be]of Object.entries(z)){let ke=B[be];if(re==="initial"){Y=be;continue}Array.isArray(s.responsiveVariants)&&!s.responsiveVariants.includes(re)||(ne=N(re,ke,ne,M))}let ve=z!=null&&typeof z!="object"?z:Hl(Y),V=B[ve]||B.false;return typeof ne=="object"&&typeof M=="string"&&ne[M]?Vl(ne,V):ne.length>0?(ne.push(V),ne):V},J=()=>f?Object.keys(f).map(b=>I(b,f)):null,F=(b,m)=>{if(!f||typeof f!="object")return null;let M=new Array;for(let D in f){let A=I(D,f,b,m),B=b==="base"&&typeof A=="string"?A:A&&A[b];B&&(M[M.length]=B)}return M},L={};for(let b in y)y[b]!==void 0&&(L[b]=y[b]);let q=(b,m)=>{var M;let D=typeof(y==null?void 0:y[b])=="object"?{[b]:(M=y[b])==null?void 0:M.initial}:{};return{...c,...L,...D,...m}},$=(b=[],m)=>{let M=[];for(let{class:D,className:A,...B}of b){let j=!0;for(let[z,ee]of Object.entries(B)){let Y=q(z,m);if(Array.isArray(ee)){if(!ee.includes(Y[z])){j=!1;break}}else if(Y[z]!==ee){j=!1;break}}j&&(D&&M.push(D),A&&M.push(A))}return M},R=b=>{let m=$(r,b),M=$(n==null?void 0:n.compoundVariants,b);return Ta(M,m)},H=b=>{let m=R(b);if(!Array.isArray(m))return m;let M={};for(let D of m)if(typeof D=="string"&&(M.base=Pn(M.base,D)(s)),typeof D=="object")for(let[A,B]of Object.entries(D))M[A]=Pn(M[A],B)(s);return M},d=b=>{if(l.length<1)return null;let m={};for(let{slots:M=[],class:D,className:A,...B}of l){if(!lt(B)){let j=!0;for(let z of Object.keys(B)){let ee=q(z,b)[z];if(ee===void 0||(Array.isArray(B[z])?!B[z].includes(ee):B[z]!==ee)){j=!1;break}}if(!j)continue}for(let j of M)m[j]=m[j]||[],m[j].push([D,A])}return m};if(!lt(i)||!p){let b={};if(typeof _=="object"&&!lt(_))for(let m of Object.keys(_))b[m]=M=>{var D,A;return Pn(_[m],F(m,M),((D=H(M))!=null?D:[])[m],((A=d(M))!=null?A:[])[m],M==null?void 0:M.class,M==null?void 0:M.className)(s)};return b}return Pn(u,J(),R(),y==null?void 0:y.class,y==null?void 0:y.className)(s)},v=()=>{if(!(!f||typeof f!="object"))return Object.keys(f)};return g.variantKeys=v(),g.extend=n,g.base=u,g.slots=_,g.variants=f,g.defaultVariants=c,g.compoundSlots=l,g.compoundVariants=r,g};const Ri=wm({base:"inline-flex items-center justify-center rounded-md text-sm font-medium whitespace-nowrap ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}});function km(t){let e;const n=t[5].default,i=fe(n,t,t[8],null);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&256)&&de(i,n,o,o[8],e?ce(n,o[8],r,null):pe(o[8]),null)},i(o){e||(S(i,o),e=!0)},o(o){T(i,o),e=!1},d(o){i&&i.d(o)}}}function Cm(t){let e,n;const i=[{builders:t[3]},{class:Oe(Ri({variant:t[1],size:t[2],className:t[0]}))},{type:"button"},t[4]];let o={$$slots:{default:[km]},$$scope:{ctx:t}};for(let r=0;r<i.length;r+=1)o=W(o,i[r]);return e=new od({props:o}),e.$on("click",t[6]),e.$on("keydown",t[7]),{c(){Q(e.$$.fragment)},m(r,l){x(e,r,l),n=!0},p(r,[l]){const a=l&31?he(i,[l&8&&{builders:r[3]},l&7&&{class:Oe(Ri({variant:r[1],size:r[2],className:r[0]}))},i[2],l&16&&it(r[4])]):{};l&256&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(S(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){Z(e,r)}}}function Sm(t,e,n){const i=["class","variant","size","builders"];let o=ie(e,i),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{variant:s="default"}=e,{size:u="default"}=e,{builders:f=[]}=e;function c(h){X.call(this,t,h)}function p(h){X.call(this,t,h)}return t.$$set=h=>{e=W(W({},e),Ne(h)),n(4,o=ie(e,i)),"class"in h&&n(0,a=h.class),"variant"in h&&n(1,s=h.variant),"size"in h&&n(2,u=h.size),"builders"in h&&n(3,f=h.builders),"$$scope"in h&&n(8,l=h.$$scope)},[a,s,u,f,o,r,c,p,l]}class rn extends _e{constructor(e){super(),me(this,e,Sm,Cm,se,{class:0,variant:1,size:2,builders:3})}}function Kl(t,e,n){const i=t.slice();return i[14]=e[n],i}function Am(t){let e;return{c(){e=P("span"),e.textContent="No Alerts",O(e,"class","townLog text-xs text-slate-500 text-center")},m(n,i){C(n,e,i)},p:ye,d(n){n&&k(e)}}}function Tm(t){let e,n=t[1].townLog.split(`
`)[0]+"",i,o,r,l=Je(t[1].townLog.split(`
`).slice(1,300)),a=[];for(let s=0;s<l.length;s+=1)a[s]=Ul(Kl(t,l,s));return{c(){e=P("div"),i=G(n),o=K();for(let s=0;s<a.length;s+=1)a[s].c();r=Me(),O(e,"class","townLog text-xs text-center")},m(s,u){C(s,e,u),w(e,i),C(s,o,u);for(let f=0;f<a.length;f+=1)a[f]&&a[f].m(s,u);C(s,r,u)},p(s,u){if(u&2&&n!==(n=s[1].townLog.split(`
`)[0]+"")&&ue(i,n),u&2){l=Je(s[1].townLog.split(`
`).slice(1,300));let f;for(f=0;f<l.length;f+=1){const c=Kl(s,l,f);a[f]?a[f].p(c,u):(a[f]=Ul(c),a[f].c(),a[f].m(r.parentNode,r))}for(;f<a.length;f+=1)a[f].d(1);a.length=l.length}},d(s){s&&(k(e),k(o),k(r)),vt(a,s)}}}function Ul(t){let e,n=t[14]+"",i,o;return{c(){e=P("span"),i=G(n),o=K(),O(e,"class","townLog text-xs text-center cursor-pointer")},m(r,l){C(r,e,l),w(e,i),w(e,o)},p(r,l){l&2&&n!==(n=r[14]+"")&&ue(i,n)},d(r){r&&k(e)}}}function Jl(t){let e,n;return e=new Ca({props:{text:"Set this!!!"}}),{c(){Q(e.$$.fragment)},m(i,o){x(e,i,o),n=!0},i(i){n||(S(e.$$.fragment,i),n=!0)},o(i){T(e.$$.fragment,i),n=!1},d(i){Z(e,i)}}}function Yl(t){let e,n;return e=new rn({props:{class:"text-xs flex flex-col h-min mt-2",$$slots:{default:[Em]},$$scope:{ctx:t}}}),e.$on("click",t[9]),{c(){Q(e.$$.fragment)},m(i,o){x(e,i,o),n=!0},p(i,o){const r={};o&131074&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(S(e.$$.fragment,i),n=!0)},o(i){T(e.$$.fragment,i),n=!1},d(i){Z(e,i)}}}function Xl(t){let e;function n(r,l){if(r[1].lab.active_experiment.duration>0)return Nm;if(r[1].lab.active_experiment.duration===0)return Im}let i=n(t),o=i&&i(t);return{c(){o&&o.c(),e=Me()},m(r,l){o&&o.m(r,l),C(r,e,l)},p(r,l){i===(i=n(r))&&o?o.p(r,l):(o&&o.d(1),o=i&&i(r),o&&(o.c(),o.m(e.parentNode,e)))},d(r){r&&k(e),o&&o.d(r)}}}function Im(t){let e;return{c(){e=P("span"),e.textContent="✅ DONE!",O(e,"class","animate-pulse ")},m(n,i){C(n,e,i)},p:ye,d(n){n&&k(e)}}}function Nm(t){let e,n=t[1].lab.active_experiment.duration+"",i,o;return{c(){e=P("span"),i=G(n),o=G("d")},m(r,l){C(r,e,l),w(e,i),w(e,o)},p(r,l){l&2&&n!==(n=r[1].lab.active_experiment.duration+"")&&ue(i,n)},d(r){r&&k(e)}}}function Em(t){let e,n,i,o=t[1].lab.active_experiment!==null&&Xl(t);return{c(){e=P("div"),e.textContent="Manage Lab",n=K(),o&&o.c(),i=Me()},m(r,l){C(r,e,l),C(r,n,l),o&&o.m(r,l),C(r,i,l)},p(r,l){r[1].lab.active_experiment!==null?o?o.p(r,l):(o=Xl(r),o.c(),o.m(i.parentNode,i)):o&&(o.d(1),o=null)},d(r){r&&(k(e),k(n),k(i)),o&&o.d(r)}}}function Mm(t){let e,n,i,o,r,l=t[1].townInfo.name+"",a,s,u,f,c,p,h,_,g,v,y,N,I,J,F,L,q,$,R,H,d,b,m,M,D,A,B,j,z,ee,Y,ne,ve=Kn(t[1].economyAndLaws.tax_rate*100,0)+"",V,re,be,ke,Ae,Ee,ge,$e,le,Le,Ve,Xe,tt,Ke,De,ut;function ct(Ce,te){return Ce[1].townLog.length>0?Tm:Am}let Qe=ct(t),ze=Qe(t),He=t[1].economyAndLaws.tax_rate==0&&Jl(),Be=t[1].hasLab&&Yl(t);return Ve=new Wn({props:{class:`mb-3 mt-0 bg-slate-700
	`}}),tt=new ka({}),{c(){e=P("div"),n=P("div"),i=P("div"),o=P("div"),r=P("div"),a=G(l),s=K(),u=P("span"),f=P("div"),c=P("span"),p=G(t[4]),h=G(" speed"),_=K(),g=P("span"),v=G("Day "),y=G(t[3]),N=G(" Year "),I=G(t[2]),J=K(),F=P("span"),F.textContent="Press P to Pause or learn how to play",L=K(),q=P("span"),$=G("("),R=G(t[5]),H=G(")"),d=K(),b=P("div"),m=P("div"),m.textContent="🚨 Alerts",M=K(),ze.c(),D=K(),A=P("div"),B=P("div"),j=P("div"),z=P("span"),z.textContent="Tax Rate",ee=K(),Y=P("span"),ne=G("("),V=G(ve),re=G("%)"),be=K(),ke=P("input"),Ee=K(),ge=P("br"),$e=K(),He&&He.c(),le=K(),Be&&Be.c(),Le=K(),Q(Ve.$$.fragment),Xe=K(),Q(tt.$$.fragment),O(r,"class","text-2xl font-bold cursor-pointer text-emerald-700"),O(r,"id","townName"),O(f,"class","flex flex-row gap-3"),O(u,"class","text-xs gap-2 cursor-pointer hover:text-blue-600"),O(F,"class","text-xs text-col"),O(q,"class","text-xs text-gray-400"),O(o,"class","flex flex-col gap-1"),O(m,"class","text-md cursor-pointer"),O(b,"class","flex flex-col gap-2 drop-shadow-md text-center pb-6 rounded-lg max-h-24 h-24 hover:max-h-48 hover:h-48 transition-all ml-2 mr-2 overflow-y-scroll scroll-smooth no-scrollbar cursor-pointer text-slate-500 hover:text-blue-600 w-1/4 "),O(z,"class","text-slate-500"),O(Y,"class","text-sm text-gray-700"),O(j,"class","text-sm"),O(ke,"type","range"),O(ke,"min","0"),O(ke,"max","1.0"),O(ke,"step","0.05"),ke.value=Ae=t[1].economyAndLaws.tax_rate,O(ke,"class","cursor-pointer w-100 svelte-j064ft"),O(B,"class","pb-2 rounded-lg text-center"),O(A,"class",""),O(i,"class","select-none flex justify-evenly"),O(n,"class","select-none flex flex-col justify-start align-left text-left bg-slate-300 border-b-2 border-black text-black p-3 border-r-20 rounded-lg w-10/12"),O(n,"id","headerObject"),O(e,"class","<!-- center horizontally --> flex justify-center text-center p-3 fixed top-0 left-0 right-0 z-20 ")},m(Ce,te){C(Ce,e,te),w(e,n),w(n,i),w(i,o),w(o,r),w(r,a),w(o,s),w(o,u),w(u,f),w(f,c),w(c,p),w(c,h),w(f,_),w(f,g),w(g,v),w(g,y),w(g,N),w(g,I),w(o,J),w(o,F),w(o,L),w(o,q),w(q,$),w(q,R),w(q,H),w(i,d),w(i,b),w(b,m),w(b,M),ze.m(b,null),w(i,D),w(i,A),w(A,B),w(B,j),w(j,z),w(j,ee),w(j,Y),w(Y,ne),w(Y,V),w(Y,re),w(B,be),w(B,ke),w(B,Ee),w(B,ge),w(B,$e),He&&He.m(B,null),w(B,le),Be&&Be.m(B,null),w(n,Le),x(Ve,n,null),w(n,Xe),x(tt,n,null),Ke=!0,De||(ut=[U(r,"click",t[6]),U(u,"click",t[7]),U(b,"click",t[11]),U(ke,"input",t[8])],De=!0)},p(Ce,[te]){(!Ke||te&2)&&l!==(l=Ce[1].townInfo.name+"")&&ue(a,l),(!Ke||te&16)&&ue(p,Ce[4]),(!Ke||te&8)&&ue(y,Ce[3]),(!Ke||te&4)&&ue(I,Ce[2]),(!Ke||te&32)&&ue(R,Ce[5]),Qe===(Qe=ct(Ce))&&ze?ze.p(Ce,te):(ze.d(1),ze=Qe(Ce),ze&&(ze.c(),ze.m(b,null))),(!Ke||te&2)&&ve!==(ve=Kn(Ce[1].economyAndLaws.tax_rate*100,0)+"")&&ue(V,ve),(!Ke||te&2&&Ae!==(Ae=Ce[1].economyAndLaws.tax_rate))&&(ke.value=Ae),Ce[1].economyAndLaws.tax_rate==0?He?te&2&&S(He,1):(He=Jl(),He.c(),S(He,1),He.m(B,le)):He&&(Fe(),T(He,1,1,()=>{He=null}),Re()),Ce[1].hasLab?Be?(Be.p(Ce,te),te&2&&S(Be,1)):(Be=Yl(Ce),Be.c(),S(Be,1),Be.m(B,null)):Be&&(Fe(),T(Be,1,1,()=>{Be=null}),Re())},i(Ce){Ke||(S(He),S(Be),S(Ve.$$.fragment,Ce),S(tt.$$.fragment,Ce),Ke=!0)},o(Ce){T(He),T(Be),T(Ve.$$.fragment,Ce),T(tt.$$.fragment,Ce),Ke=!1},d(Ce){Ce&&k(e),ze.d(),He&&He.d(),Be&&Be.d(),Z(Ve),Z(tt),De=!1,qe(ut)}}}function Kn(t,e){if(e===void 0&&(e=0),t==null||t==null)return 0;t=parseFloat((t*Math.pow(10,e)).toFixed(11));var n=Math.round(t)/Math.pow(10,e);return+n.toFixed(e)}function Pm(t){let e=Math.floor(t/1e3),n=Math.floor(e/60);e=e%60;let i=Math.floor(n/60);return n=n%60,`${uo(i)}:${uo(n)}:${uo(e)}`}function uo(t){return t<10?"0"+t:t}function Om(t,e,n){let i,o,r;ae(t,Se,v=>n(1,i=v)),ae(t,di,v=>n(12,o=v)),ae(t,bo,v=>n(13,r=v));let l,a;Ko(()=>{const v=setInterval(()=>{we(Se,i.timeSpent+=1e3,i)},1e3);return()=>{clearInterval(v)}});function s(){let v=prompt("Enter a new name for your town (under 200 chars)");if(v&&v.length<200){let y=i;y.townInfo.name=v,Se.set(y),localStorage.setItem(ft,JSON.stringify(y))}}let u="Normal";function f(){o==500?(we(di,o=250,o),n(4,u="Fast")):(we(di,o=500,o),n(4,u="Normal"))}function c(v){let y=i;y.economyAndLaws.tax_rate=Kn(v.target.value,2),Se.set(y),localStorage.setItem(ft,JSON.stringify(y))}function p(){let v=i;v.hasBank===!0?(v.townInfo.gold+=v.townInfo.gold_from_tourism,v.townInfo.gold_from_tourism=0,Se.set(v),localStorage.setItem(ft,JSON.stringify(v))):alert("You need a bank to transfer funds from tourism activities.")}document.addEventListener("keydown",v=>{switch(v.key.toLowerCase()){case"1":v.preventDefault(),f();break;case"2":v.preventDefault(),f();break}});function h(){ci.set(!0)}let _="00:00:00";const g=()=>{we(Se,i.townLog="",i)};return t.$$.update=()=>{if(t.$$.dirty&2){const v=document.getElementById("headerObject");v&&we(bo,r=v.offsetHeight+32,r),n(2,l=Math.floor(i.environment.day/365)+1),n(3,a=dt(i.environment.day))}t.$$.dirty&2&&(i.timeSpent>0?n(5,_=Pm(i.timeSpent)):n(5,_="00:00:00"))},[Kn,i,l,a,u,_,s,f,c,h,p,g]}class Lm extends _e{constructor(e){super(),me(this,e,Om,Mm,se,{roundTo:0,transferFundsFromBank:10})}get roundTo(){return Kn}get transferFundsFromBank(){return this.$$.ctx[10]}}function Fm(t){let e;const n=t[2].default,i=fe(n,t,t[4],null);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&16)&&de(i,n,o,o[4],e?ce(n,o[4],r,null):pe(o[4]),null)},i(o){e||(S(i,o),e=!0)},o(o){T(i,o),e=!1},d(o){i&&i.d(o)}}}function Rm(t){let e,n;const i=[{class:Oe("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",t[0])},t[1]];let o={$$slots:{default:[Fm]},$$scope:{ctx:t}};for(let r=0;r<i.length;r+=1)o=W(o,i[r]);return e=new Sp({props:o}),e.$on("mousedown",t[3]),{c(){Q(e.$$.fragment)},m(r,l){x(e,r,l),n=!0},p(r,[l]){const a=l&3?he(i,[l&1&&{class:Oe("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",r[0])},l&2&&it(r[1])]):{};l&16&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(S(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){Z(e,r)}}}function qm(t,e,n){const i=["class"];let o=ie(e,i),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(u){X.call(this,t,u)}return t.$$set=u=>{e=W(W({},e),Ne(u)),n(1,o=ie(e,i)),"class"in u&&n(0,a=u.class),"$$scope"in u&&n(4,l=u.$$scope)},[a,o,r,s,l]}class cn extends _e{constructor(e){super(),me(this,e,qm,Rm,se,{class:0})}}function xl(t,e,n){const i=t.slice();return i[22]=e[n],i}function Zl(t,e,n){const i=t.slice();return i[25]=e[n],i}function Dm(t){let e;return{c(){e=G("Pause Menu")},m(n,i){C(n,e,i)},d(n){n&&k(e)}}}function $m(t){let e;return{c(){e=G("Unpause any time by pressing 'P'")},m(n,i){C(n,e,i)},d(n){n&&k(e)}}}function Bm(t){let e,n,i,o;return e=new zt({props:{$$slots:{default:[Dm]},$$scope:{ctx:t}}}),i=new nn({props:{$$slots:{default:[$m]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment),n=K(),Q(i.$$.fragment)},m(r,l){x(e,r,l),C(r,n,l),x(i,r,l),o=!0},p(r,l){const a={};l&268435456&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&268435456&&(s.$$scope={dirty:l,ctx:r}),i.$set(s)},i(r){o||(S(e.$$.fragment,r),S(i.$$.fragment,r),o=!0)},o(r){T(e.$$.fragment,r),T(i.$$.fragment,r),o=!1},d(r){r&&k(n),Z(e,r),Z(i,r)}}}function Ql(t){let e,n,i,o,r,l=JSON.stringify(t[4].requirements[t[2].difficulty].population_count)+"",a,s,u=JSON.stringify(t[2].townInfo.population_count)+"",f,c,p,h,_=JSON.stringify(t[4].requirements[t[2].difficulty].happiness)+"",g,v,y=JSON.stringify(t[2].townInfo.happiness)+"",N,I,J,F,L=JSON.stringify(t[4].requirements[t[2].difficulty].employment*100)+"",q,$,R=JSON.stringify((t[2].townInfo.employees/t[2].townInfo.population_count||0)*100)+"",H,d,b,m,M,D=JSON.stringify(t[4].requirements[t[2].difficulty].health)+"",A,B,j=JSON.stringify(t[2].townInfo.health)+"",z,ee,Y,ne,ve=JSON.stringify(t[4].requirements[t[2].difficulty].knowledge)+"",V,re,be=JSON.stringify(t[2].townInfo.knowledge_points)+"",ke,Ae,Ee;function ge(te,je){return te[2].townInfo.population_count>=te[4].requirements[te[2].difficulty].population_count?jm:Gm}let $e=ge(t),le=$e(t);function Le(te,je){return te[2].townInfo.happiness>=te[4].requirements[te[2].difficulty].happiness?Wm:Hm}let Ve=Le(t),Xe=Ve(t);function tt(te,je){return te[2].townInfo.employees/te[2].townInfo.population_count>=te[4].requirements[te[2].difficulty].employment?Km:Vm}let Ke=tt(t),De=Ke(t);function ut(te,je){return te[2].townInfo.health>=te[4].requirements[te[2].difficulty].health?Jm:Um}let ct=ut(t),Qe=ct(t);function ze(te,je){return te[2].townInfo.knowledge_points>=te[4].requirements[te[2].difficulty].knowledge?Xm:Ym}let He=ze(t),Be=He(t),Ce=t[4].requirements[t[2].difficulty].required_plots!=null&&t[4].requirements[t[2].difficulty].required_plots.length>0&&zl(t);return{c(){e=P("div"),e.textContent=`With your difficulty (${t[5]}), you must also have:`,n=K(),i=P("ul"),o=P("li"),le.c(),r=G(`
									Population: `),a=G(l),s=G(" - Currently at "),f=G(u),c=K(),p=P("li"),Xe.c(),h=G(`
									Happiness: `),g=G(_),v=G(" - Currently at "),N=G(y),I=K(),J=P("li"),De.c(),F=G(`
									Employment: `),q=G(L),$=G("% - Currently at "),H=G(R),d=G("%"),b=K(),m=P("li"),Qe.c(),M=G(`
									Health: `),A=G(D),B=G(" - Currently at "),z=G(j),ee=K(),Y=P("li"),Be.c(),ne=G(`
									Knowledge: `),V=G(ve),re=G(" - Currently at "),ke=G(be),Ae=K(),Ce&&Ce.c(),Ee=Me(),O(e,"class","leading-relaxed text-sm"),O(i,"class","list-inside list-disc leading-relaxedmt-0 text-sm")},m(te,je){C(te,e,je),C(te,n,je),C(te,i,je),w(i,o),le.m(o,null),w(o,r),w(o,a),w(o,s),w(o,f),w(i,c),w(i,p),Xe.m(p,null),w(p,h),w(p,g),w(p,v),w(p,N),w(i,I),w(i,J),De.m(J,null),w(J,F),w(J,q),w(J,$),w(J,H),w(J,d),w(i,b),w(i,m),Qe.m(m,null),w(m,M),w(m,A),w(m,B),w(m,z),w(i,ee),w(i,Y),Be.m(Y,null),w(Y,ne),w(Y,V),w(Y,re),w(Y,ke),C(te,Ae,je),Ce&&Ce.m(te,je),C(te,Ee,je)},p(te,je){$e!==($e=ge(te))&&(le.d(1),le=$e(te),le&&(le.c(),le.m(o,r))),je&4&&l!==(l=JSON.stringify(te[4].requirements[te[2].difficulty].population_count)+"")&&ue(a,l),je&4&&u!==(u=JSON.stringify(te[2].townInfo.population_count)+"")&&ue(f,u),Ve!==(Ve=Le(te))&&(Xe.d(1),Xe=Ve(te),Xe&&(Xe.c(),Xe.m(p,h))),je&4&&_!==(_=JSON.stringify(te[4].requirements[te[2].difficulty].happiness)+"")&&ue(g,_),je&4&&y!==(y=JSON.stringify(te[2].townInfo.happiness)+"")&&ue(N,y),Ke!==(Ke=tt(te))&&(De.d(1),De=Ke(te),De&&(De.c(),De.m(J,F))),je&4&&L!==(L=JSON.stringify(te[4].requirements[te[2].difficulty].employment*100)+"")&&ue(q,L),je&4&&R!==(R=JSON.stringify((te[2].townInfo.employees/te[2].townInfo.population_count||0)*100)+"")&&ue(H,R),ct!==(ct=ut(te))&&(Qe.d(1),Qe=ct(te),Qe&&(Qe.c(),Qe.m(m,M))),je&4&&D!==(D=JSON.stringify(te[4].requirements[te[2].difficulty].health)+"")&&ue(A,D),je&4&&j!==(j=JSON.stringify(te[2].townInfo.health)+"")&&ue(z,j),He!==(He=ze(te))&&(Be.d(1),Be=He(te),Be&&(Be.c(),Be.m(Y,ne))),je&4&&ve!==(ve=JSON.stringify(te[4].requirements[te[2].difficulty].knowledge)+"")&&ue(V,ve),je&4&&be!==(be=JSON.stringify(te[2].townInfo.knowledge_points)+"")&&ue(ke,be),te[4].requirements[te[2].difficulty].required_plots!=null&&te[4].requirements[te[2].difficulty].required_plots.length>0?Ce?Ce.p(te,je):(Ce=zl(te),Ce.c(),Ce.m(Ee.parentNode,Ee)):Ce&&(Ce.d(1),Ce=null)},d(te){te&&(k(e),k(n),k(i),k(Ae),k(Ee)),le.d(),Xe.d(),De.d(),Qe.d(),Be.d(),Ce&&Ce.d(te)}}}function Gm(t){let e;return{c(){e=G("❌")},m(n,i){C(n,e,i)},d(n){n&&k(e)}}}function jm(t){let e;return{c(){e=G("✅")},m(n,i){C(n,e,i)},d(n){n&&k(e)}}}function Hm(t){let e;return{c(){e=G("❌")},m(n,i){C(n,e,i)},d(n){n&&k(e)}}}function Wm(t){let e;return{c(){e=G("✅")},m(n,i){C(n,e,i)},d(n){n&&k(e)}}}function Vm(t){let e;return{c(){e=G("❌")},m(n,i){C(n,e,i)},d(n){n&&k(e)}}}function Km(t){let e;return{c(){e=G("✅")},m(n,i){C(n,e,i)},d(n){n&&k(e)}}}function Um(t){let e;return{c(){e=G("❌")},m(n,i){C(n,e,i)},d(n){n&&k(e)}}}function Jm(t){let e;return{c(){e=G("✅")},m(n,i){C(n,e,i)},d(n){n&&k(e)}}}function Ym(t){let e;return{c(){e=G("❌")},m(n,i){C(n,e,i)},d(n){n&&k(e)}}}function Xm(t){let e;return{c(){e=G("✅")},m(n,i){C(n,e,i)},d(n){n&&k(e)}}}function zl(t){let e,n,i,o=Je(t[4].requirements[t[2].difficulty].required_plots),r=[];for(let l=0;l<o.length;l+=1)r[l]=es(Zl(t,o,l));return{c(){e=P("br"),n=G(`
								You also need to have these plots:
								`);for(let l=0;l<r.length;l+=1)r[l].c();i=Me()},m(l,a){C(l,e,a),C(l,n,a);for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(l,a);C(l,i,a)},p(l,a){if(a&20){o=Je(l[4].requirements[l[2].difficulty].required_plots);let s;for(s=0;s<o.length;s+=1){const u=Zl(l,o,s);r[s]?r[s].p(u,a):(r[s]=es(u),r[s].c(),r[s].m(i.parentNode,i))}for(;s<r.length;s+=1)r[s].d(1);r.length=o.length}},d(l){l&&(k(e),k(n),k(i)),vt(r,l)}}}function xm(t){let e;return{c(){e=G("❌")},m(n,i){C(n,e,i)},d(n){n&&k(e)}}}function Zm(t){let e;return{c(){e=G("✅")},m(n,i){C(n,e,i)},d(n){n&&k(e)}}}function es(t){let e,n,i,o,r=t[25]+"",l,a;function s(c,p){return p&4&&(i=null),i==null&&(i=st(c[25],c[2]).length>0),i?Zm:xm}let u=s(t,-1),f=u(t);return{c(){e=P("div"),n=P("li"),f.c(),o=K(),l=G(r),a=K(),O(e,"class","text-sm")},m(c,p){C(c,e,p),w(e,n),f.m(n,null),w(n,o),w(n,l),w(e,a)},p(c,p){u!==(u=s(c,p))&&(f.d(1),f=u(c),f&&(f.c(),f.m(n,o))),p&4&&r!==(r=c[25]+"")&&ue(l,r)},d(c){c&&k(e),f.d()}}}function Qm(t){let e;return{c(){e=G("Save game")},m(n,i){C(n,e,i)},d(n){n&&k(e)}}}function zm(t){let e;return{c(){e=G("Save")},m(n,i){C(n,e,i)},d(n){n&&k(e)}}}function e_(t){let e;return{c(){e=G("Upload game")},m(n,i){C(n,e,i)},d(n){n&&k(e)}}}function ts(t){let e,n;function i(){return t[17](t[22])}return e=new rn({props:{class:"bg-blue-600 hover:bg-blue-700 mt-4",id:"collectPrize-"+t[22].id,$$slots:{default:[t_]},$$scope:{ctx:t}}}),e.$on("click",i),{c(){Q(e.$$.fragment)},m(o,r){x(e,o,r),n=!0},p(o,r){t=o;const l={};r&2&&(l.id="collectPrize-"+t[22].id),r&268435458&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(o){n||(S(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){Z(e,o)}}}function t_(t){let e,n=is(t[22].prize)+"",i,o;return{c(){e=G("Collect Prize: $"),i=G(n),o=G(" gold")},m(r,l){C(r,e,l),C(r,i,l),C(r,o,l)},p(r,l){l&2&&n!==(n=is(r[22].prize)+"")&&ue(i,n)},d(r){r&&(k(e),k(i),k(o))}}}function ns(t){let e,n,i,o,r,l,a=t[22].title+"",s,u,f,c=t[22].requirements+"",p,h,_,g=t[22].icon+"",v,y,N,I=t[22].description+"",J,F,L,q,$=t[7](t[22].id)+"",R,H,d,b=t[12](t[22].id)&&!t[8](t[22].id),m,M,D,A=b&&ts(t);return{c(){e=P("div"),n=P("div"),i=P("div"),o=P("span"),r=P("div"),l=P("span"),s=G(a),u=K(),f=P("div"),p=G(c),h=K(),_=P("div"),v=G(g),y=K(),N=P("div"),J=G(I),F=K(),L=P("div"),q=G("✅ Completed on Day "),R=G($),d=K(),A&&A.c(),m=K(),O(l,"class","font-semibold text-lg"),O(f,"class","font-thin text-white opacity-75 text-xs"),O(r,"class","flex flex-row gap-3 w-[100%] text- items-center "),O(_,"class","text-sm flex-grow pr-1 break-inside-avoid "),O(o,"class","flex flex-row justify-between w-[100%]"),O(i,"class","min-w-32 flex "),O(N,"class","text-white opacity-75 text-sm font-light"),O(L,"class",H=(t[12](t[22].id)?"":"hidden")+" text-xs text-green-400"),O(n,"class","flex-col flex px-3 py-2 gap-0"),O(e,"class",M="flex flex-col gap-3 cursor-default rounded-md "+(t[12](t[22].id)?"bg-green-700":"bg-gray-500 opacity-35"))},m(B,j){C(B,e,j),w(e,n),w(n,i),w(i,o),w(o,r),w(r,l),w(l,s),w(r,u),w(r,f),w(f,p),w(o,h),w(o,_),w(_,v),w(n,y),w(n,N),w(N,J),w(n,F),w(n,L),w(L,q),w(L,R),w(n,d),A&&A.m(n,null),w(e,m),D=!0},p(B,j){(!D||j&2)&&a!==(a=B[22].title+"")&&ue(s,a),(!D||j&2)&&c!==(c=B[22].requirements+"")&&ue(p,c),(!D||j&2)&&g!==(g=B[22].icon+"")&&ue(v,g),(!D||j&2)&&I!==(I=B[22].description+"")&&ue(J,I),(!D||j&2)&&$!==($=B[7](B[22].id)+"")&&ue(R,$),(!D||j&2&&H!==(H=(B[12](B[22].id)?"":"hidden")+" text-xs text-green-400"))&&O(L,"class",H),j&2&&(b=B[12](B[22].id)&&!B[8](B[22].id)),b?A?(A.p(B,j),j&2&&S(A,1)):(A=ts(B),A.c(),S(A,1),A.m(n,null)):A&&(Fe(),T(A,1,1,()=>{A=null}),Re()),(!D||j&2&&M!==(M="flex flex-col gap-3 cursor-default rounded-md "+(B[12](B[22].id)?"bg-green-700":"bg-gray-500 opacity-35")))&&O(e,"class",M)},i(B){D||(S(A),D=!0)},o(B){T(A),D=!1},d(B){B&&k(e),A&&A.d()}}}function n_(t){let e,n,i,o,r,l,a,s,u,f,c,p,h,_,g,v,y,N,I,J,F,L,q,$,R,H,d,b,m,M,D,A,B,j,z,ee,Y,ne,ve,V,re,be,ke;e=new en({props:{$$slots:{default:[Bm]},$$scope:{ctx:t}}});let Ae=t[2].endGoal=="land"&&Ql(t);g=new cn({props:{for:"saveButton",class:`cursor-pointer bg-blue-600 rounded-md text-center p-2.5 hover:bg-blue-700 justify-center flex 
					`,$$slots:{default:[Qm]},$$scope:{ctx:t}}}),y=new rn({props:{class:`
					bg-blue-600 hover:bg-blue-700 hidden
					`,id:"saveButton",$$slots:{default:[zm]},$$scope:{ctx:t}}}),y.$on("click",t[14]),I=new cn({props:{for:"upload",class:`cursor-pointer bg-blue-600 rounded-md text-center p-2.5 hover:bg-blue-700 justify-center flex 
					`,$$slots:{default:[e_]},$$scope:{ctx:t}}}),F=new er({props:{class:"hidden",type:"file",id:"upload"}}),F.$on("change",t[11]),q=new Wn({props:{orientation:"vertical"}});let Ee=Je(t[1]),ge=[];for(let le=0;le<Ee.length;le+=1)ge[le]=ns(xl(t,Ee,le));const $e=le=>T(ge[le],1,1,()=>{ge[le]=null});return{c(){Q(e.$$.fragment),n=K(),i=P("div"),o=P("div"),r=P("div"),l=P("h4"),l.textContent="This game",a=K(),s=P("span"),s.textContent=`${t[4].description_title}`,u=K(),f=P("div"),Ae&&Ae.c(),c=K(),p=P("div"),h=P("div"),_=P("div"),Q(g.$$.fragment),v=K(),Q(y.$$.fragment),N=K(),Q(I.$$.fragment),J=K(),Q(F.$$.fragment),L=K(),Q(q.$$.fragment),$=K(),R=P("div"),H=P("h4"),H.textContent=`Your achievement (${t[6].length}
					/ ${nt.length})`,d=K(),b=P("span"),b.textContent="Track your progress through games & complete challenges!",m=K(),M=P("br"),D=K(),A=P("div"),B=P("input"),j=K(),z=P("label"),z.textContent="Show completed",ee=K(),Y=P("div"),ne=P("div");for(let le=0;le<ge.length;le+=1)ge[le].c();ve=K(),V=P("span"),V.textContent=`Prizes apply to the current game you are in. You can wait to apply
					them until the right time.`,O(l,"class","underline underline-offset-4"),O(s,"class","text-sm text-gray-400"),O(f,"class","mt-6 gap-0 py-0 text-gray-400 text-sm"),O(r,"class","flex-col h-max"),O(_,"class","flex gap-10 justify-start min-w-[100%] w-[100%] items"),O(h,"class","flex flex-col gap-3 h-max"),O(o,"class","flex flex-col gap-6 justify-between"),O(H,"class","underline underline-offset-4"),O(b,"class","text-sm text-gray-400"),O(B,"type","checkbox"),O(B,"id","toggle-show-completed"),O(B,"class","rounded"),O(B,"tabindex","-1"),B.checked=localStorage.getItem("showCompletedAchievements")==="true",O(z,"for","toggle-show-completed"),O(z,"class","text-xs text-gray-400 select-none ml-2 no-select cursor-pointer "),O(A,"class","flex items-center"),O(ne,"class","flex flex-col gap-4 overflow-scroll pb-20 scroll-smooth"),O(Y,"class","overflow-scroll mt-2 h-[55vh]"),O(V,"class","text-sm text-yellow-400 italic"),O(i,"class","flex flex-row w-full gap-10")},m(le,Le){x(e,le,Le),C(le,n,Le),C(le,i,Le),w(i,o),w(o,r),w(r,l),w(r,a),w(r,s),w(r,u),w(r,f),Ae&&Ae.m(f,null),w(o,c),w(o,p),w(p,h),w(h,_),x(g,_,null),w(_,v),x(y,_,null),w(_,N),x(I,_,null),w(_,J),x(F,_,null),w(i,L),x(q,i,null),w(i,$),w(i,R),w(R,H),w(R,d),w(R,b),w(R,m),w(R,M),w(R,D),w(R,A),w(A,B),w(A,j),w(A,z),w(R,ee),w(R,Y),w(Y,ne);for(let Ve=0;Ve<ge.length;Ve+=1)ge[Ve]&&ge[Ve].m(ne,null);w(R,ve),w(R,V),re=!0,be||(ke=[U(B,"change",t[15]),U(B,"keydown",t[16])],be=!0)},p(le,Le){const Ve={};Le&268435456&&(Ve.$$scope={dirty:Le,ctx:le}),e.$set(Ve),le[2].endGoal=="land"?Ae?Ae.p(le,Le):(Ae=Ql(le),Ae.c(),Ae.m(f,null)):Ae&&(Ae.d(1),Ae=null);const Xe={};Le&268435456&&(Xe.$$scope={dirty:Le,ctx:le}),g.$set(Xe);const tt={};Le&268435456&&(tt.$$scope={dirty:Le,ctx:le}),y.$set(tt);const Ke={};if(Le&268435456&&(Ke.$$scope={dirty:Le,ctx:le}),I.$set(Ke),Le&4994){Ee=Je(le[1]);let De;for(De=0;De<Ee.length;De+=1){const ut=xl(le,Ee,De);ge[De]?(ge[De].p(ut,Le),S(ge[De],1)):(ge[De]=ns(ut),ge[De].c(),S(ge[De],1),ge[De].m(ne,null))}for(Fe(),De=Ee.length;De<ge.length;De+=1)$e(De);Re()}},i(le){if(!re){S(e.$$.fragment,le),S(g.$$.fragment,le),S(y.$$.fragment,le),S(I.$$.fragment,le),S(F.$$.fragment,le),S(q.$$.fragment,le);for(let Le=0;Le<Ee.length;Le+=1)S(ge[Le]);re=!0}},o(le){T(e.$$.fragment,le),T(g.$$.fragment,le),T(y.$$.fragment,le),T(I.$$.fragment,le),T(F.$$.fragment,le),T(q.$$.fragment,le),ge=ge.filter(Boolean);for(let Le=0;Le<ge.length;Le+=1)T(ge[Le]);re=!1},d(le){le&&(k(n),k(i)),Z(e,le),Ae&&Ae.d(),Z(g),Z(y),Z(I),Z(F),Z(q),vt(ge,le),be=!1,qe(ke)}}}function i_(t){let e,n;return e=new tn({props:{class:" max-w-[90vw] max-h-[90vh]",$$slots:{default:[n_]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment)},m(i,o){x(e,i,o),n=!0},p(i,o){const r={};o&268435462&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(S(e.$$.fragment,i),n=!0)},o(i){T(e.$$.fragment,i),n=!1},d(i){Z(e,i)}}}function o_(t){let e,n,i;function o(l){t[18](l)}let r={$$slots:{default:[i_]},$$scope:{ctx:t}};return t[3]!==void 0&&(r.open=t[3]),e=new on({props:r}),Ie.push(()=>Qt(e,"open",o)),{c(){Q(e.$$.fragment)},m(l,a){x(e,l,a),i=!0},p(l,[a]){const s={};a&268435462&&(s.$$scope={dirty:a,ctx:l}),!n&&a&8&&(n=!0,s.open=l[3],Zt(()=>n=!1)),e.$set(s)},i(l){i||(S(e.$$.fragment,l),i=!0)},o(l){T(e.$$.fragment,l),i=!1},d(l){Z(e,l)}}}function is(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function r_(t){const e=JSON.parse(t);return e.townInfo!=null&&e.difficulty!=null}function l_(t,e,n){let i,o,r,l;ae(t,mn,$=>n(20,i=$)),ae(t,Se,$=>n(2,o=$)),ae(t,_r,$=>n(13,r=$)),ae(t,gt,$=>n(3,l=$));const s=ot[o.endGoal],u=Qs[o.difficulty]||0;nt.sort(($,R)=>y($.id)&&!y(R.id)?-1:!y($.id)&&y(R.id)?1:0);const f=nt.filter($=>y($.id));function c($){const R=i.achievements.find(H=>H[0]==$);return R==null?0:`${R[1]} in ${R[2]}.`}function p($){const R=i.achievements.find(H=>H[0]==$);return R==null?!1:R[3]}function h($){const R=i.achievements.find(d=>d[0]==$);if(R==null)return;const H=nt.find(d=>d.id==$);H!=null&&(we(Se,o.townInfo.gold+=H.prize,o),R[3]=!0,we(mn,i.achievements=i.achievements.map(d=>d[0]==$?R:d),i))}let _=nt;function g(){const $=JSON.stringify(o),R=new Blob([$],{type:"text/plain"}),H=URL.createObjectURL(R),d=document.createElement("a");d.href=H,d.download=`${new Date().toISOString()}.json`,document.body.appendChild(d),d.click(),document.body.removeChild(d),URL.revokeObjectURL(H)}function v(){const R=document.getElementById("upload").files;if(R==null)return;const H=R[0],d=new FileReader;d.onload=function(b){if(b.target==null)return;const m=b.target.result;if(typeof m=="string"){if(!r_(m)){alert("Invalid game file");return}Xo(JSON.parse(m))}else alert("Invalid game file: is not String.")},d.readAsText(H)}function y($){return i.achievements==null?!1:i.achievements.find(R=>R[0]==$)!=null}function N(){_r.update($=>!$),localStorage.setItem("showCompletedAchievements",localStorage.getItem("showCompletedAchievements")==="true"?"false":"true")}localStorage.getItem("pauseMenuTab")==null&&(localStorage.setItem("pauseMenuTab","game"),Gu.set("game"));const I=()=>g(),J=()=>{N()},F=$=>{$.key==="p"&&gt.set(!1)},L=$=>{h($.id);const R=document.getElementById(`collectPrize-${$.id}`);R&&(R.style.display="none")};function q($){l=$,gt.set(l)}return t.$$.update=()=>{if(t.$$.dirty&8198&&o)if(r)n(1,_=nt);else{n(1,_=[]);for(let $=0;$<nt.length;$++)(!y(nt[$].id)||!p(nt[$].id))&&_.push(nt[$])}},[N,_,o,l,s,u,f,c,p,h,g,v,y,r,I,J,F,L,q]}class s_ extends _e{constructor(e){super(),me(this,e,l_,o_,se,{toggleShowCompleted:0})}get toggleShowCompleted(){return this.$$.ctx[0]}}function a_(){console.log("%cRUNNING STABILITY TESTS...","color: #26bfa5;");let t=0;return console.log("%cPASSED ALL STABILITY TESTS 😍","color: #26bfa5;"),t}function u_(t){let e=t[0].endGameDetails.win==!0?"You won! 🎉":"You lost! 😭",n;return{c(){n=G(e)},m(i,o){C(i,n,o)},p(i,o){o&1&&e!==(e=i[0].endGameDetails.win==!0?"You won! 🎉":"You lost! 😭")&&ue(n,e)},d(i){i&&k(n)}}}function f_(t){let e;return{c(){e=G("Keep playin'")},m(n,i){C(n,e,i)},d(n){n&&k(e)}}}function c_(t){let e,n=t[0].endGameDetails.msg+"",i,o,r,l,a,s,u,f;return u=new rn({props:{$$slots:{default:[f_]},$$scope:{ctx:t}}}),u.$on("click",t[2]),{c(){e=P("span"),i=G(n),o=K(),r=P("br"),l=K(),a=P("br"),s=K(),Q(u.$$.fragment),O(e,"class","text-gray-500 text-sm")},m(c,p){C(c,e,p),w(e,i),C(c,o,p),C(c,r,p),C(c,l,p),C(c,a,p),C(c,s,p),x(u,c,p),f=!0},p(c,p){(!f||p&1)&&n!==(n=c[0].endGameDetails.msg+"")&&ue(i,n);const h={};p&16&&(h.$$scope={dirty:p,ctx:c}),u.$set(h)},i(c){f||(S(u.$$.fragment,c),f=!0)},o(c){T(u.$$.fragment,c),f=!1},d(c){c&&(k(e),k(o),k(r),k(l),k(a),k(s)),Z(u,c)}}}function d_(t){let e,n,i,o;return e=new zt({props:{$$slots:{default:[u_]},$$scope:{ctx:t}}}),i=new nn({props:{$$slots:{default:[c_]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment),n=K(),Q(i.$$.fragment)},m(r,l){x(e,r,l),C(r,n,l),x(i,r,l),o=!0},p(r,l){const a={};l&17&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&17&&(s.$$scope={dirty:l,ctx:r}),i.$set(s)},i(r){o||(S(e.$$.fragment,r),S(i.$$.fragment,r),o=!0)},o(r){T(e.$$.fragment,r),T(i.$$.fragment,r),o=!1},d(r){r&&k(n),Z(e,r),Z(i,r)}}}function p_(t){let e;return{c(){e=P("span"),e.textContent="Reset the game by pressing SHIFT+ESC",O(e,"class","text-gray-500 text-sm")},m(n,i){C(n,e,i)},p:ye,d(n){n&&k(e)}}}function h_(t){let e,n,i,o;return e=new en({props:{$$slots:{default:[d_]},$$scope:{ctx:t}}}),i=new Qn({props:{$$slots:{default:[p_]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment),n=K(),Q(i.$$.fragment)},m(r,l){x(e,r,l),C(r,n,l),x(i,r,l),o=!0},p(r,l){const a={};l&17&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&16&&(s.$$scope={dirty:l,ctx:r}),i.$set(s)},i(r){o||(S(e.$$.fragment,r),S(i.$$.fragment,r),o=!0)},o(r){T(e.$$.fragment,r),T(i.$$.fragment,r),o=!1},d(r){r&&k(n),Z(e,r),Z(i,r)}}}function m_(t){let e,n;return e=new tn({props:{$$slots:{default:[h_]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment)},m(i,o){x(e,i,o),n=!0},p(i,o){const r={};o&17&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(S(e.$$.fragment,i),n=!0)},o(i){T(e.$$.fragment,i),n=!1},d(i){Z(e,i)}}}function __(t){let e,n,i;function o(l){t[3](l)}let r={$$slots:{default:[m_]},$$scope:{ctx:t}};return t[1]!==void 0&&(r.open=t[1]),e=new on({props:r}),Ie.push(()=>Qt(e,"open",o)),{c(){Q(e.$$.fragment)},m(l,a){x(e,l,a),i=!0},p(l,[a]){const s={};a&17&&(s.$$scope={dirty:a,ctx:l}),!n&&a&2&&(n=!0,s.open=l[1],Zt(()=>n=!1)),e.$set(s)},i(l){i||(S(e.$$.fragment,l),i=!0)},o(l){T(e.$$.fragment,l),i=!1},d(l){Z(e,l)}}}function g_(t,e,n){let i;ae(t,Se,a=>n(0,i=a));let o=!1;function r(){let a=i;a.overtime=!0,Se.set(a),n(1,o=!1),gt.set(!1)}function l(a){o=a,n(1,o),n(0,i)}return t.$$.update=()=>{t.$$.dirty&1&&(i.endGameDetails.msg!=""&&i.overtime==!1?n(1,o=!0):n(1,o=!1))},[i,o,r,l]}class b_ extends _e{constructor(e){super(),me(this,e,g_,__,se,{})}}function v_(t){let e;return{c(){e=G("Welcome to Plots!")},m(n,i){C(n,e,i)},d(n){n&&k(e)}}}function y_(t){let e;return{c(){e=G("Select a map size (difficulty)")},m(n,i){C(n,e,i)},d(n){n&&k(e)}}}function w_(t){let e;return{c(){e=G("Select a game mode")},m(n,i){C(n,e,i)},d(n){n&&k(e)}}}function k_(t){let e;return{c(){e=P("p"),e.textContent=`${ot.free_play.description_title}`,O(e,"class","text-gray-500 text-sm")},m(n,i){C(n,e,i)},d(n){n&&k(e)}}}function C_(t){let e;return{c(){e=P("p"),e.textContent=`${ot.land.description_title}`,O(e,"class","text-gray-500 text-sm")},m(n,i){C(n,e,i)},d(n){n&&k(e)}}}function S_(t){let e;return{c(){e=G("Town Name")},m(n,i){C(n,e,i)},d(n){n&&k(e)}}}function A_(t){let e;return{c(){e=G("Cheats")},m(n,i){C(n,e,i)},d(n){n&&k(e)}}}function T_(t){let e,n,i,o,r,l,a,s,u,f,c,p,h,_,g,v,y,N,I,J,F,L,q,$,R,H,d,b,m,M,D,A,B;r=new cn({props:{for:"difficulty",class:"mt-2",$$slots:{default:[y_]},$$scope:{ctx:t}}}),h=new cn({props:{for:"endGoal",class:"mt-2",$$slots:{default:[w_]},$$scope:{ctx:t}}});function j(Y,ne){return Y[0]==="land"?C_:k_}let z=j(t),ee=z(t);return F=new cn({props:{for:"townName",class:"mt-2",$$slots:{default:[S_]},$$scope:{ctx:t}}}),q=new er({props:{id:"townName",class:"mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Will be randomized if you leave blank"}}),H=new cn({props:{for:"cheats",class:"mt-2",$$slots:{default:[A_]},$$scope:{ctx:t}}}),{c(){e=P("a"),e.textContent="GitHub / Learn how to play",n=K(),i=P("div"),o=P("div"),Q(r.$$.fragment),l=K(),a=P("select"),s=P("option"),s.textContent="Easy (quick game)",u=P("option"),u.textContent="Normal",f=P("option"),f.textContent="Hard (longest game)",c=K(),p=P("div"),Q(h.$$.fragment),_=K(),ee.c(),g=K(),v=P("select"),y=P("option"),y.textContent=`${ot.land.short_title}`,N=P("option"),N.textContent=`${ot.free_play.short_title}`,I=K(),J=P("div"),Q(F.$$.fragment),L=K(),Q(q.$$.fragment),$=K(),R=P("div"),Q(H.$$.fragment),d=K(),b=P("select"),m=P("option"),m.textContent="No cheats",M=P("option"),M.textContent="Dev mode",O(e,"href","https://github.com/josephrcox/plots#how-to-play"),O(e,"class","text-blue-500 text-sm mb-4 hover:underline"),O(e,"target","_blank"),s.__value="0",St(s,s.__value),u.__value="1",St(u,u.__value),u.selected=!0,f.__value="2",St(f,f.__value),O(a,"id","difficulty"),O(a,"class","mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),y.__value="land",St(y,y.__value),N.__value="free_play",St(N,N.__value),O(v,"id","endGoal"),O(v,"class","mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),m.__value="false",St(m,m.__value),m.selected=!0,M.__value="true",St(M,M.__value),O(b,"id","cheats"),O(b,"class","mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),O(i,"class","flex flex-col justify-center gap-5 mt-4")},m(Y,ne){C(Y,e,ne),C(Y,n,ne),C(Y,i,ne),w(i,o),x(r,o,null),w(o,l),w(o,a),w(a,s),w(a,u),w(a,f),w(i,c),w(i,p),x(h,p,null),w(p,_),ee.m(p,null),w(p,g),w(p,v),w(v,y),w(v,N),cr(v,t[0]),w(i,I),w(i,J),x(F,J,null),w(J,L),x(q,J,null),w(i,$),w(i,R),x(H,R,null),w(R,d),w(R,b),w(b,m),w(b,M),D=!0,A||(B=U(v,"change",t[3]),A=!0)},p(Y,ne){const ve={};ne&32&&(ve.$$scope={dirty:ne,ctx:Y}),r.$set(ve);const V={};ne&32&&(V.$$scope={dirty:ne,ctx:Y}),h.$set(V),z!==(z=j(Y))&&(ee.d(1),ee=z(Y),ee&&(ee.c(),ee.m(p,g))),(!D||ne&1)&&cr(v,Y[0]);const re={};ne&32&&(re.$$scope={dirty:ne,ctx:Y}),F.$set(re);const be={};ne&32&&(be.$$scope={dirty:ne,ctx:Y}),H.$set(be)},i(Y){D||(S(r.$$.fragment,Y),S(h.$$.fragment,Y),S(F.$$.fragment,Y),S(q.$$.fragment,Y),S(H.$$.fragment,Y),D=!0)},o(Y){T(r.$$.fragment,Y),T(h.$$.fragment,Y),T(F.$$.fragment,Y),T(q.$$.fragment,Y),T(H.$$.fragment,Y),D=!1},d(Y){Y&&(k(e),k(n),k(i)),Z(r),Z(h),ee.d(),Z(F),Z(q),Z(H),A=!1,B()}}}function I_(t){let e,n,i,o;return e=new zt({props:{$$slots:{default:[v_]},$$scope:{ctx:t}}}),i=new nn({props:{$$slots:{default:[T_]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment),n=K(),Q(i.$$.fragment)},m(r,l){x(e,r,l),C(r,n,l),x(i,r,l),o=!0},p(r,l){const a={};l&32&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&33&&(s.$$scope={dirty:l,ctx:r}),i.$set(s)},i(r){o||(S(e.$$.fragment,r),S(i.$$.fragment,r),o=!0)},o(r){T(e.$$.fragment,r),T(i.$$.fragment,r),o=!1},d(r){r&&k(n),Z(e,r),Z(i,r)}}}function N_(t){let e,n,i;return{c(){e=P("button"),e.textContent="Start game",O(e,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-md")},m(o,r){C(o,e,r),n||(i=U(e,"click",t[2]),n=!0)},p:ye,d(o){o&&k(e),n=!1,i()}}}function E_(t){let e,n,i,o;return e=new en({props:{$$slots:{default:[I_]},$$scope:{ctx:t}}}),i=new Qn({props:{$$slots:{default:[N_]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment),n=K(),Q(i.$$.fragment)},m(r,l){x(e,r,l),C(r,n,l),x(i,r,l),o=!0},p(r,l){const a={};l&33&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&32&&(s.$$scope={dirty:l,ctx:r}),i.$set(s)},i(r){o||(S(e.$$.fragment,r),S(i.$$.fragment,r),o=!0)},o(r){T(e.$$.fragment,r),T(i.$$.fragment,r),o=!1},d(r){r&&k(n),Z(e,r),Z(i,r)}}}function M_(t){let e,n;return e=new tn({props:{transition:zo,$$slots:{default:[E_]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment)},m(i,o){x(e,i,o),n=!0},p(i,o){const r={};o&33&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(S(e.$$.fragment,i),n=!0)},o(i){T(e.$$.fragment,i),n=!1},d(i){Z(e,i)}}}function P_(t){let e,n,i;function o(l){t[4](l)}let r={$$slots:{default:[M_]},$$scope:{ctx:t}};return t[1].visible!==void 0&&(r.open=t[1].visible),e=new on({props:r}),Ie.push(()=>Qt(e,"open",o)),{c(){Q(e.$$.fragment)},m(l,a){x(e,l,a),i=!0},p(l,[a]){const s={};a&33&&(s.$$scope={dirty:a,ctx:l}),!n&&a&2&&(n=!0,s.open=l[1].visible,Zt(()=>n=!1)),e.$set(s)},i(l){i||(S(e.$$.fragment,l),i=!0)},o(l){T(e.$$.fragment,l),i=!1},d(l){Z(e,l)}}}function O_(t,e,n){let i;ae(t,Gn,s=>n(1,i=s));function o(){const s=document.getElementById("difficulty").value,u=document.getElementById("endGoal").value,f=document.getElementById("townName").value,c=document.getElementById("cheats").value=="true";Du(s,u,f,c)}let r="land";const l=s=>{n(0,r=s.target.value)};function a(s){t.$$.not_equal(i.visible,s)&&(i.visible=s,Gn.set(i))}return[r,i,o,l,a]}class L_ extends _e{constructor(e){super(),me(this,e,O_,P_,se,{})}}function F_(t){let e;return{c(){e=G("Scoreboard")},m(n,i){C(n,e,i)},d(n){n&&k(e)}}}function R_(t){let e=t[1].description_title+"",n;return{c(){n=G(e)},m(i,o){C(i,n,o)},p:ye,d(i){i&&k(n)}}}function q_(t){let e,n,i,o;return e=new zt({props:{$$slots:{default:[F_]},$$scope:{ctx:t}}}),i=new nn({props:{$$slots:{default:[R_]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment),n=K(),Q(i.$$.fragment)},m(r,l){x(e,r,l),C(r,n,l),x(i,r,l),o=!0},p(r,l){const a={};l&128&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&128&&(s.$$scope={dirty:l,ctx:r}),i.$set(s)},i(r){o||(S(e.$$.fragment,r),S(i.$$.fragment,r),o=!0)},o(r){T(e.$$.fragment,r),T(i.$$.fragment,r),o=!1},d(r){r&&k(n),Z(e,r),Z(i,r)}}}function D_(t){let e;return{c(){e=G("footer")},m(n,i){C(n,e,i)},d(n){n&&k(e)}}}function $_(t){let e,n,i,o;return e=new en({props:{$$slots:{default:[q_]},$$scope:{ctx:t}}}),i=new Qn({props:{$$slots:{default:[D_]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment),n=G(`
		hi
		`),Q(i.$$.fragment)},m(r,l){x(e,r,l),C(r,n,l),x(i,r,l),o=!0},p(r,l){const a={};l&128&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&128&&(s.$$scope={dirty:l,ctx:r}),i.$set(s)},i(r){o||(S(e.$$.fragment,r),S(i.$$.fragment,r),o=!0)},o(r){T(e.$$.fragment,r),T(i.$$.fragment,r),o=!1},d(r){r&&k(n),Z(e,r),Z(i,r)}}}function B_(t){let e,n;return e=new tn({props:{$$slots:{default:[$_]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment)},m(i,o){x(e,i,o),n=!0},p(i,o){const r={};o&128&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(S(e.$$.fragment,i),n=!0)},o(i){T(e.$$.fragment,i),n=!1},d(i){Z(e,i)}}}function G_(t){let e,n,i;function o(l){t[3](l)}let r={$$slots:{default:[B_]},$$scope:{ctx:t}};return t[0]!==void 0&&(r.open=t[0]),e=new on({props:r}),Ie.push(()=>Qt(e,"open",o)),{c(){Q(e.$$.fragment)},m(l,a){x(e,l,a),i=!0},p(l,[a]){const s={};a&128&&(s.$$scope={dirty:a,ctx:l}),!n&&a&1&&(n=!0,s.open=l[0],Zt(()=>n=!1)),e.$set(s)},i(l){i||(S(e.$$.fragment,l),i=!0)},o(l){T(e.$$.fragment,l),i=!1},d(l){Z(e,l)}}}function j_(t,e,n){let i,o;ae(t,Se,s=>n(2,i=s)),ae(t,mr,s=>n(0,o=s));const l=ot[i.endGoal];Qs[i.difficulty];function a(s){o=s,mr.set(o)}return t.$$.update=()=>{t.$$.dirty&4},[o,l,i,a]}class H_ extends _e{constructor(e){super(),me(this,e,j_,G_,se,{})}}function hi(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function W_(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Ea(t){let e,n,i;t.length!==2?(e=hi,n=(a,s)=>hi(t(a),s),i=(a,s)=>t(a)-s):(e=t===hi||t===W_?t:V_,n=t,i=t);function o(a,s,u=0,f=a.length){if(u<f){if(e(s,s)!==0)return f;do{const c=u+f>>>1;n(a[c],s)<0?u=c+1:f=c}while(u<f)}return u}function r(a,s,u=0,f=a.length){if(u<f){if(e(s,s)!==0)return f;do{const c=u+f>>>1;n(a[c],s)<=0?u=c+1:f=c}while(u<f)}return u}function l(a,s,u=0,f=a.length){const c=o(a,s,u,f-1);return c>u&&i(a[c-1],s)>-i(a[c],s)?c-1:c}return{left:o,center:l,right:r}}function V_(){return 0}function K_(t){return t===null?NaN:+t}const U_=Ea(hi),J_=U_.right;Ea(K_).center;const Y_=Math.sqrt(50),X_=Math.sqrt(10),x_=Math.sqrt(2);function qi(t,e,n){const i=(e-t)/Math.max(0,n),o=Math.floor(Math.log10(i)),r=i/Math.pow(10,o),l=r>=Y_?10:r>=X_?5:r>=x_?2:1;let a,s,u;return o<0?(u=Math.pow(10,-o)/l,a=Math.round(t*u),s=Math.round(e*u),a/u<t&&++a,s/u>e&&--s,u=-u):(u=Math.pow(10,o)*l,a=Math.round(t/u),s=Math.round(e/u),a*u<t&&++a,s*u>e&&--s),s<a&&.5<=n&&n<2?qi(t,e,n*2):[a,s,u]}function Z_(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const i=e<t,[o,r,l]=i?qi(e,t,n):qi(t,e,n);if(!(r>=o))return[];const a=r-o+1,s=new Array(a);if(i)if(l<0)for(let u=0;u<a;++u)s[u]=(r-u)/-l;else for(let u=0;u<a;++u)s[u]=(r-u)*l;else if(l<0)for(let u=0;u<a;++u)s[u]=(o+u)/-l;else for(let u=0;u<a;++u)s[u]=(o+u)*l;return s}function No(t,e,n){return e=+e,t=+t,n=+n,qi(t,e,n)[2]}function Q_(t,e,n){e=+e,t=+t,n=+n;const i=e<t,o=i?No(e,t,n):No(t,e,n);return(i?-1:1)*(o<0?1/-o:o)}function z_(t){return t}var fo=1,co=2,Eo=3,Rn=4,os=1e-6;function eg(t){return"translate("+t+",0)"}function tg(t){return"translate(0,"+t+")"}function ng(t){return e=>+t(e)}function ig(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function og(){return!this.__axis}function Ma(t,e){var n=[],i=null,o=null,r=6,l=6,a=3,s=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=t===fo||t===Rn?-1:1,f=t===Rn||t===co?"x":"y",c=t===fo||t===Eo?eg:tg;function p(h){var _=i??(e.ticks?e.ticks.apply(e,n):e.domain()),g=o??(e.tickFormat?e.tickFormat.apply(e,n):z_),v=Math.max(r,0)+a,y=e.range(),N=+y[0]+s,I=+y[y.length-1]+s,J=(e.bandwidth?ig:ng)(e.copy(),s),F=h.selection?h.selection():h,L=F.selectAll(".domain").data([null]),q=F.selectAll(".tick").data(_,e).order(),$=q.exit(),R=q.enter().append("g").attr("class","tick"),H=q.select("line"),d=q.select("text");L=L.merge(L.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),q=q.merge(R),H=H.merge(R.append("line").attr("stroke","currentColor").attr(f+"2",u*r)),d=d.merge(R.append("text").attr("fill","currentColor").attr(f,u*v).attr("dy",t===fo?"0em":t===Eo?"0.71em":"0.32em")),h!==F&&(L=L.transition(h),q=q.transition(h),H=H.transition(h),d=d.transition(h),$=$.transition(h).attr("opacity",os).attr("transform",function(b){return isFinite(b=J(b))?c(b+s):this.getAttribute("transform")}),R.attr("opacity",os).attr("transform",function(b){var m=this.parentNode.__axis;return c((m&&isFinite(m=m(b))?m:J(b))+s)})),$.remove(),L.attr("d",t===Rn||t===co?l?"M"+u*l+","+N+"H"+s+"V"+I+"H"+u*l:"M"+s+","+N+"V"+I:l?"M"+N+","+u*l+"V"+s+"H"+I+"V"+u*l:"M"+N+","+s+"H"+I),q.attr("opacity",1).attr("transform",function(b){return c(J(b)+s)}),H.attr(f+"2",u*r),d.attr(f,u*v).text(g),F.filter(og).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===co?"start":t===Rn?"end":"middle"),F.each(function(){this.__axis=J})}return p.scale=function(h){return arguments.length?(e=h,p):e},p.ticks=function(){return n=Array.from(arguments),p},p.tickArguments=function(h){return arguments.length?(n=h==null?[]:Array.from(h),p):n.slice()},p.tickValues=function(h){return arguments.length?(i=h==null?null:Array.from(h),p):i&&i.slice()},p.tickFormat=function(h){return arguments.length?(o=h,p):o},p.tickSize=function(h){return arguments.length?(r=l=+h,p):r},p.tickSizeInner=function(h){return arguments.length?(r=+h,p):r},p.tickSizeOuter=function(h){return arguments.length?(l=+h,p):l},p.tickPadding=function(h){return arguments.length?(a=+h,p):a},p.offset=function(h){return arguments.length?(s=+h,p):s},p}function rg(t){return Ma(Eo,t)}function lg(t){return Ma(Rn,t)}var sg={value:()=>{}};function Pa(){for(var t=0,e=arguments.length,n={},i;t<e;++t){if(!(i=arguments[t]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new mi(n)}function mi(t){this._=t}function ag(t,e){return t.trim().split(/^|\s+/).map(function(n){var i="",o=n.indexOf(".");if(o>=0&&(i=n.slice(o+1),n=n.slice(0,o)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}mi.prototype=Pa.prototype={constructor:mi,on:function(t,e){var n=this._,i=ag(t+"",n),o,r=-1,l=i.length;if(arguments.length<2){for(;++r<l;)if((o=(t=i[r]).type)&&(o=ug(n[o],t.name)))return o;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++r<l;)if(o=(t=i[r]).type)n[o]=rs(n[o],t.name,e);else if(e==null)for(o in n)n[o]=rs(n[o],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new mi(t)},call:function(t,e){if((o=arguments.length-2)>0)for(var n=new Array(o),i=0,o,r;i<o;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],o=0,r=i.length;o<r;++o)i[o].value.apply(e,n)}};function ug(t,e){for(var n=0,i=t.length,o;n<i;++n)if((o=t[n]).name===e)return o.value}function rs(t,e,n){for(var i=0,o=t.length;i<o;++i)if(t[i].name===e){t[i]=sg,t=t.slice(0,i).concat(t.slice(i+1));break}return n!=null&&t.push({name:e,value:n}),t}var Mo="http://www.w3.org/1999/xhtml";const ls={svg:"http://www.w3.org/2000/svg",xhtml:Mo,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function xi(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),ls.hasOwnProperty(e)?{space:ls[e],local:t}:t}function fg(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Mo&&e.documentElement.namespaceURI===Mo?e.createElement(t):e.createElementNS(n,t)}}function cg(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Oa(t){var e=xi(t);return(e.local?cg:fg)(e)}function dg(){}function tr(t){return t==null?dg:function(){return this.querySelector(t)}}function pg(t){typeof t!="function"&&(t=tr(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var r=e[o],l=r.length,a=i[o]=new Array(l),s,u,f=0;f<l;++f)(s=r[f])&&(u=t.call(s,s.__data__,f,r))&&("__data__"in s&&(u.__data__=s.__data__),a[f]=u);return new at(i,this._parents)}function hg(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function mg(){return[]}function La(t){return t==null?mg:function(){return this.querySelectorAll(t)}}function _g(t){return function(){return hg(t.apply(this,arguments))}}function gg(t){typeof t=="function"?t=_g(t):t=La(t);for(var e=this._groups,n=e.length,i=[],o=[],r=0;r<n;++r)for(var l=e[r],a=l.length,s,u=0;u<a;++u)(s=l[u])&&(i.push(t.call(s,s.__data__,u,l)),o.push(s));return new at(i,o)}function Fa(t){return function(){return this.matches(t)}}function Ra(t){return function(e){return e.matches(t)}}var bg=Array.prototype.find;function vg(t){return function(){return bg.call(this.children,t)}}function yg(){return this.firstElementChild}function wg(t){return this.select(t==null?yg:vg(typeof t=="function"?t:Ra(t)))}var kg=Array.prototype.filter;function Cg(){return Array.from(this.children)}function Sg(t){return function(){return kg.call(this.children,t)}}function Ag(t){return this.selectAll(t==null?Cg:Sg(typeof t=="function"?t:Ra(t)))}function Tg(t){typeof t!="function"&&(t=Fa(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var r=e[o],l=r.length,a=i[o]=[],s,u=0;u<l;++u)(s=r[u])&&t.call(s,s.__data__,u,r)&&a.push(s);return new at(i,this._parents)}function qa(t){return new Array(t.length)}function Ig(){return new at(this._enter||this._groups.map(qa),this._parents)}function Di(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Di.prototype={constructor:Di,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Ng(t){return function(){return t}}function Eg(t,e,n,i,o,r){for(var l=0,a,s=e.length,u=r.length;l<u;++l)(a=e[l])?(a.__data__=r[l],i[l]=a):n[l]=new Di(t,r[l]);for(;l<s;++l)(a=e[l])&&(o[l]=a)}function Mg(t,e,n,i,o,r,l){var a,s,u=new Map,f=e.length,c=r.length,p=new Array(f),h;for(a=0;a<f;++a)(s=e[a])&&(p[a]=h=l.call(s,s.__data__,a,e)+"",u.has(h)?o[a]=s:u.set(h,s));for(a=0;a<c;++a)h=l.call(t,r[a],a,r)+"",(s=u.get(h))?(i[a]=s,s.__data__=r[a],u.delete(h)):n[a]=new Di(t,r[a]);for(a=0;a<f;++a)(s=e[a])&&u.get(p[a])===s&&(o[a]=s)}function Pg(t){return t.__data__}function Og(t,e){if(!arguments.length)return Array.from(this,Pg);var n=e?Mg:Eg,i=this._parents,o=this._groups;typeof t!="function"&&(t=Ng(t));for(var r=o.length,l=new Array(r),a=new Array(r),s=new Array(r),u=0;u<r;++u){var f=i[u],c=o[u],p=c.length,h=Lg(t.call(f,f&&f.__data__,u,i)),_=h.length,g=a[u]=new Array(_),v=l[u]=new Array(_),y=s[u]=new Array(p);n(f,c,g,v,y,h,e);for(var N=0,I=0,J,F;N<_;++N)if(J=g[N]){for(N>=I&&(I=N+1);!(F=v[I])&&++I<_;);J._next=F||null}}return l=new at(l,i),l._enter=a,l._exit=s,l}function Lg(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Fg(){return new at(this._exit||this._groups.map(qa),this._parents)}function Rg(t,e,n){var i=this.enter(),o=this,r=this.exit();return typeof t=="function"?(i=t(i),i&&(i=i.selection())):i=i.append(t+""),e!=null&&(o=e(o),o&&(o=o.selection())),n==null?r.remove():n(r),i&&o?i.merge(o).order():o}function qg(t){for(var e=t.selection?t.selection():t,n=this._groups,i=e._groups,o=n.length,r=i.length,l=Math.min(o,r),a=new Array(o),s=0;s<l;++s)for(var u=n[s],f=i[s],c=u.length,p=a[s]=new Array(c),h,_=0;_<c;++_)(h=u[_]||f[_])&&(p[_]=h);for(;s<o;++s)a[s]=n[s];return new at(a,this._parents)}function Dg(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i=t[e],o=i.length-1,r=i[o],l;--o>=0;)(l=i[o])&&(r&&l.compareDocumentPosition(r)^4&&r.parentNode.insertBefore(l,r),r=l);return this}function $g(t){t||(t=Bg);function e(c,p){return c&&p?t(c.__data__,p.__data__):!c-!p}for(var n=this._groups,i=n.length,o=new Array(i),r=0;r<i;++r){for(var l=n[r],a=l.length,s=o[r]=new Array(a),u,f=0;f<a;++f)(u=l[f])&&(s[f]=u);s.sort(e)}return new at(o,this._parents).order()}function Bg(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Gg(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function jg(){return Array.from(this)}function Hg(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],o=0,r=i.length;o<r;++o){var l=i[o];if(l)return l}return null}function Wg(){let t=0;for(const e of this)++t;return t}function Vg(){return!this.node()}function Kg(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var o=e[n],r=0,l=o.length,a;r<l;++r)(a=o[r])&&t.call(a,a.__data__,r,o);return this}function Ug(t){return function(){this.removeAttribute(t)}}function Jg(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Yg(t,e){return function(){this.setAttribute(t,e)}}function Xg(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function xg(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Zg(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Qg(t,e){var n=xi(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((e==null?n.local?Jg:Ug:typeof e=="function"?n.local?Zg:xg:n.local?Xg:Yg)(n,e))}function Da(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function zg(t){return function(){this.style.removeProperty(t)}}function e0(t,e,n){return function(){this.style.setProperty(t,e,n)}}function t0(t,e,n){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function n0(t,e,n){return arguments.length>1?this.each((e==null?zg:typeof e=="function"?t0:e0)(t,e,n??"")):yn(this.node(),t)}function yn(t,e){return t.style.getPropertyValue(e)||Da(t).getComputedStyle(t,null).getPropertyValue(e)}function i0(t){return function(){delete this[t]}}function o0(t,e){return function(){this[t]=e}}function r0(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function l0(t,e){return arguments.length>1?this.each((e==null?i0:typeof e=="function"?r0:o0)(t,e)):this.node()[t]}function $a(t){return t.trim().split(/^|\s+/)}function nr(t){return t.classList||new Ba(t)}function Ba(t){this._node=t,this._names=$a(t.getAttribute("class")||"")}Ba.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Ga(t,e){for(var n=nr(t),i=-1,o=e.length;++i<o;)n.add(e[i])}function ja(t,e){for(var n=nr(t),i=-1,o=e.length;++i<o;)n.remove(e[i])}function s0(t){return function(){Ga(this,t)}}function a0(t){return function(){ja(this,t)}}function u0(t,e){return function(){(e.apply(this,arguments)?Ga:ja)(this,t)}}function f0(t,e){var n=$a(t+"");if(arguments.length<2){for(var i=nr(this.node()),o=-1,r=n.length;++o<r;)if(!i.contains(n[o]))return!1;return!0}return this.each((typeof e=="function"?u0:e?s0:a0)(n,e))}function c0(){this.textContent=""}function d0(t){return function(){this.textContent=t}}function p0(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function h0(t){return arguments.length?this.each(t==null?c0:(typeof t=="function"?p0:d0)(t)):this.node().textContent}function m0(){this.innerHTML=""}function _0(t){return function(){this.innerHTML=t}}function g0(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function b0(t){return arguments.length?this.each(t==null?m0:(typeof t=="function"?g0:_0)(t)):this.node().innerHTML}function v0(){this.nextSibling&&this.parentNode.appendChild(this)}function y0(){return this.each(v0)}function w0(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function k0(){return this.each(w0)}function C0(t){var e=typeof t=="function"?t:Oa(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function S0(){return null}function A0(t,e){var n=typeof t=="function"?t:Oa(t),i=e==null?S0:typeof e=="function"?e:tr(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function T0(){var t=this.parentNode;t&&t.removeChild(this)}function I0(){return this.each(T0)}function N0(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function E0(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function M0(t){return this.select(t?E0:N0)}function P0(t){return arguments.length?this.property("__data__",t):this.node().__data__}function O0(t){return function(e){t.call(this,e,this.__data__)}}function L0(t){return t.trim().split(/^|\s+/).map(function(e){var n="",i=e.indexOf(".");return i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),{type:e,name:n}})}function F0(t){return function(){var e=this.__on;if(e){for(var n=0,i=-1,o=e.length,r;n<o;++n)r=e[n],(!t.type||r.type===t.type)&&r.name===t.name?this.removeEventListener(r.type,r.listener,r.options):e[++i]=r;++i?e.length=i:delete this.__on}}}function R0(t,e,n){return function(){var i=this.__on,o,r=O0(e);if(i){for(var l=0,a=i.length;l<a;++l)if((o=i[l]).type===t.type&&o.name===t.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=r,o.options=n),o.value=e;return}}this.addEventListener(t.type,r,n),o={type:t.type,name:t.name,value:e,listener:r,options:n},i?i.push(o):this.__on=[o]}}function q0(t,e,n){var i=L0(t+""),o,r=i.length,l;if(arguments.length<2){var a=this.node().__on;if(a){for(var s=0,u=a.length,f;s<u;++s)for(o=0,f=a[s];o<r;++o)if((l=i[o]).type===f.type&&l.name===f.name)return f.value}return}for(a=e?R0:F0,o=0;o<r;++o)this.each(a(i[o],e,n));return this}function Ha(t,e,n){var i=Da(t),o=i.CustomEvent;typeof o=="function"?o=new o(e,n):(o=i.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function D0(t,e){return function(){return Ha(this,t,e)}}function $0(t,e){return function(){return Ha(this,t,e.apply(this,arguments))}}function B0(t,e){return this.each((typeof e=="function"?$0:D0)(t,e))}function*G0(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],o=0,r=i.length,l;o<r;++o)(l=i[o])&&(yield l)}var Wa=[null];function at(t,e){this._groups=t,this._parents=e}function zn(){return new at([[document.documentElement]],Wa)}function j0(){return this}at.prototype=zn.prototype={constructor:at,select:pg,selectAll:gg,selectChild:wg,selectChildren:Ag,filter:Tg,data:Og,enter:Ig,exit:Fg,join:Rg,merge:qg,selection:j0,order:Dg,sort:$g,call:Gg,nodes:jg,node:Hg,size:Wg,empty:Vg,each:Kg,attr:Qg,style:n0,property:l0,classed:f0,text:h0,html:b0,raise:y0,lower:k0,append:C0,insert:A0,remove:I0,clone:M0,datum:P0,on:q0,dispatch:B0,[Symbol.iterator]:G0};function H0(t){return typeof t=="string"?new at([[document.querySelector(t)]],[document.documentElement]):new at([[t]],Wa)}function ir(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Va(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function ei(){}var Un=.7,$i=1/Un,gn="\\s*([+-]?\\d+)\\s*",Jn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",bt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",W0=/^#([0-9a-f]{3,8})$/,V0=new RegExp(`^rgb\\(${gn},${gn},${gn}\\)$`),K0=new RegExp(`^rgb\\(${bt},${bt},${bt}\\)$`),U0=new RegExp(`^rgba\\(${gn},${gn},${gn},${Jn}\\)$`),J0=new RegExp(`^rgba\\(${bt},${bt},${bt},${Jn}\\)$`),Y0=new RegExp(`^hsl\\(${Jn},${bt},${bt}\\)$`),X0=new RegExp(`^hsla\\(${Jn},${bt},${bt},${Jn}\\)$`),ss={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ir(ei,Xt,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:as,formatHex:as,formatHex8:x0,formatHsl:Z0,formatRgb:us,toString:us});function as(){return this.rgb().formatHex()}function x0(){return this.rgb().formatHex8()}function Z0(){return Ka(this).formatHsl()}function us(){return this.rgb().formatRgb()}function Xt(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=W0.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?fs(e):n===3?new rt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?li(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?li(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=V0.exec(t))?new rt(e[1],e[2],e[3],1):(e=K0.exec(t))?new rt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=U0.exec(t))?li(e[1],e[2],e[3],e[4]):(e=J0.exec(t))?li(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Y0.exec(t))?ps(e[1],e[2]/100,e[3]/100,1):(e=X0.exec(t))?ps(e[1],e[2]/100,e[3]/100,e[4]):ss.hasOwnProperty(t)?fs(ss[t]):t==="transparent"?new rt(NaN,NaN,NaN,0):null}function fs(t){return new rt(t>>16&255,t>>8&255,t&255,1)}function li(t,e,n,i){return i<=0&&(t=e=n=NaN),new rt(t,e,n,i)}function Q0(t){return t instanceof ei||(t=Xt(t)),t?(t=t.rgb(),new rt(t.r,t.g,t.b,t.opacity)):new rt}function Po(t,e,n,i){return arguments.length===1?Q0(t):new rt(t,e,n,i??1)}function rt(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}ir(rt,Po,Va(ei,{brighter(t){return t=t==null?$i:Math.pow($i,t),new rt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Un:Math.pow(Un,t),new rt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new rt(Jt(this.r),Jt(this.g),Jt(this.b),Bi(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:cs,formatHex:cs,formatHex8:z0,formatRgb:ds,toString:ds}));function cs(){return`#${Vt(this.r)}${Vt(this.g)}${Vt(this.b)}`}function z0(){return`#${Vt(this.r)}${Vt(this.g)}${Vt(this.b)}${Vt((isNaN(this.opacity)?1:this.opacity)*255)}`}function ds(){const t=Bi(this.opacity);return`${t===1?"rgb(":"rgba("}${Jt(this.r)}, ${Jt(this.g)}, ${Jt(this.b)}${t===1?")":`, ${t})`}`}function Bi(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Jt(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Vt(t){return t=Jt(t),(t<16?"0":"")+t.toString(16)}function ps(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ht(t,e,n,i)}function Ka(t){if(t instanceof ht)return new ht(t.h,t.s,t.l,t.opacity);if(t instanceof ei||(t=Xt(t)),!t)return new ht;if(t instanceof ht)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,o=Math.min(e,n,i),r=Math.max(e,n,i),l=NaN,a=r-o,s=(r+o)/2;return a?(e===r?l=(n-i)/a+(n<i)*6:n===r?l=(i-e)/a+2:l=(e-n)/a+4,a/=s<.5?r+o:2-r-o,l*=60):a=s>0&&s<1?0:l,new ht(l,a,s,t.opacity)}function eb(t,e,n,i){return arguments.length===1?Ka(t):new ht(t,e,n,i??1)}function ht(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}ir(ht,eb,Va(ei,{brighter(t){return t=t==null?$i:Math.pow($i,t),new ht(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Un:Math.pow(Un,t),new ht(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,o=2*n-i;return new rt(po(t>=240?t-240:t+120,o,i),po(t,o,i),po(t<120?t+240:t-120,o,i),this.opacity)},clamp(){return new ht(hs(this.h),si(this.s),si(this.l),Bi(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Bi(this.opacity);return`${t===1?"hsl(":"hsla("}${hs(this.h)}, ${si(this.s)*100}%, ${si(this.l)*100}%${t===1?")":`, ${t})`}`}}));function hs(t){return t=(t||0)%360,t<0?t+360:t}function si(t){return Math.max(0,Math.min(1,t||0))}function po(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const or=t=>()=>t;function tb(t,e){return function(n){return t+n*e}}function nb(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function ib(t){return(t=+t)==1?Ua:function(e,n){return n-e?nb(e,n,t):or(isNaN(e)?n:e)}}function Ua(t,e){var n=e-t;return n?tb(t,n):or(isNaN(t)?e:t)}const Gi=function t(e){var n=ib(e);function i(o,r){var l=n((o=Po(o)).r,(r=Po(r)).r),a=n(o.g,r.g),s=n(o.b,r.b),u=Ua(o.opacity,r.opacity);return function(f){return o.r=l(f),o.g=a(f),o.b=s(f),o.opacity=u(f),o+""}}return i.gamma=t,i}(1);function ob(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,i=e.slice(),o;return function(r){for(o=0;o<n;++o)i[o]=t[o]*(1-r)+e[o]*r;return i}}function rb(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function lb(t,e){var n=e?e.length:0,i=t?Math.min(n,t.length):0,o=new Array(i),r=new Array(n),l;for(l=0;l<i;++l)o[l]=rr(t[l],e[l]);for(;l<n;++l)r[l]=e[l];return function(a){for(l=0;l<i;++l)r[l]=o[l](a);return r}}function sb(t,e){var n=new Date;return t=+t,e=+e,function(i){return n.setTime(t*(1-i)+e*i),n}}function pt(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function ab(t,e){var n={},i={},o;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(o in e)o in t?n[o]=rr(t[o],e[o]):i[o]=e[o];return function(r){for(o in n)i[o]=n[o](r);return i}}var Oo=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ho=new RegExp(Oo.source,"g");function ub(t){return function(){return t}}function fb(t){return function(e){return t(e)+""}}function Ja(t,e){var n=Oo.lastIndex=ho.lastIndex=0,i,o,r,l=-1,a=[],s=[];for(t=t+"",e=e+"";(i=Oo.exec(t))&&(o=ho.exec(e));)(r=o.index)>n&&(r=e.slice(n,r),a[l]?a[l]+=r:a[++l]=r),(i=i[0])===(o=o[0])?a[l]?a[l]+=o:a[++l]=o:(a[++l]=null,s.push({i:l,x:pt(i,o)})),n=ho.lastIndex;return n<e.length&&(r=e.slice(n),a[l]?a[l]+=r:a[++l]=r),a.length<2?s[0]?fb(s[0].x):ub(e):(e=s.length,function(u){for(var f=0,c;f<e;++f)a[(c=s[f]).i]=c.x(u);return a.join("")})}function rr(t,e){var n=typeof e,i;return e==null||n==="boolean"?or(e):(n==="number"?pt:n==="string"?(i=Xt(e))?(e=i,Gi):Ja:e instanceof Xt?Gi:e instanceof Date?sb:rb(e)?ob:Array.isArray(e)?lb:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?ab:pt)(t,e)}function cb(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var ms=180/Math.PI,Lo={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ya(t,e,n,i,o,r){var l,a,s;return(l=Math.sqrt(t*t+e*e))&&(t/=l,e/=l),(s=t*n+e*i)&&(n-=t*s,i-=e*s),(a=Math.sqrt(n*n+i*i))&&(n/=a,i/=a,s/=a),t*i<e*n&&(t=-t,e=-e,s=-s,l=-l),{translateX:o,translateY:r,rotate:Math.atan2(e,t)*ms,skewX:Math.atan(s)*ms,scaleX:l,scaleY:a}}var ai;function db(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Lo:Ya(e.a,e.b,e.c,e.d,e.e,e.f)}function pb(t){return t==null||(ai||(ai=document.createElementNS("http://www.w3.org/2000/svg","g")),ai.setAttribute("transform",t),!(t=ai.transform.baseVal.consolidate()))?Lo:(t=t.matrix,Ya(t.a,t.b,t.c,t.d,t.e,t.f))}function Xa(t,e,n,i){function o(u){return u.length?u.pop()+" ":""}function r(u,f,c,p,h,_){if(u!==c||f!==p){var g=h.push("translate(",null,e,null,n);_.push({i:g-4,x:pt(u,c)},{i:g-2,x:pt(f,p)})}else(c||p)&&h.push("translate("+c+e+p+n)}function l(u,f,c,p){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),p.push({i:c.push(o(c)+"rotate(",null,i)-2,x:pt(u,f)})):f&&c.push(o(c)+"rotate("+f+i)}function a(u,f,c,p){u!==f?p.push({i:c.push(o(c)+"skewX(",null,i)-2,x:pt(u,f)}):f&&c.push(o(c)+"skewX("+f+i)}function s(u,f,c,p,h,_){if(u!==c||f!==p){var g=h.push(o(h)+"scale(",null,",",null,")");_.push({i:g-4,x:pt(u,c)},{i:g-2,x:pt(f,p)})}else(c!==1||p!==1)&&h.push(o(h)+"scale("+c+","+p+")")}return function(u,f){var c=[],p=[];return u=t(u),f=t(f),r(u.translateX,u.translateY,f.translateX,f.translateY,c,p),l(u.rotate,f.rotate,c,p),a(u.skewX,f.skewX,c,p),s(u.scaleX,u.scaleY,f.scaleX,f.scaleY,c,p),u=f=null,function(h){for(var _=-1,g=p.length,v;++_<g;)c[(v=p[_]).i]=v.x(h);return c.join("")}}}var hb=Xa(db,"px, ","px)","deg)"),mb=Xa(pb,", ",")",")"),wn=0,qn=0,On=0,xa=1e3,ji,Dn,Hi=0,xt=0,Zi=0,Yn=typeof performance=="object"&&performance.now?performance:Date,Za=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function lr(){return xt||(Za(_b),xt=Yn.now()+Zi)}function _b(){xt=0}function Wi(){this._call=this._time=this._next=null}Wi.prototype=Qa.prototype={constructor:Wi,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?lr():+n)+(e==null?0:+e),!this._next&&Dn!==this&&(Dn?Dn._next=this:ji=this,Dn=this),this._call=t,this._time=n,Fo()},stop:function(){this._call&&(this._call=null,this._time=1/0,Fo())}};function Qa(t,e,n){var i=new Wi;return i.restart(t,e,n),i}function gb(){lr(),++wn;for(var t=ji,e;t;)(e=xt-t._time)>=0&&t._call.call(void 0,e),t=t._next;--wn}function _s(){xt=(Hi=Yn.now())+Zi,wn=qn=0;try{gb()}finally{wn=0,vb(),xt=0}}function bb(){var t=Yn.now(),e=t-Hi;e>xa&&(Zi-=e,Hi=t)}function vb(){for(var t,e=ji,n,i=1/0;e;)e._call?(i>e._time&&(i=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:ji=n);Dn=t,Fo(i)}function Fo(t){if(!wn){qn&&(qn=clearTimeout(qn));var e=t-xt;e>24?(t<1/0&&(qn=setTimeout(_s,t-Yn.now()-Zi)),On&&(On=clearInterval(On))):(On||(Hi=Yn.now(),On=setInterval(bb,xa)),wn=1,Za(_s))}}function gs(t,e,n){var i=new Wi;return e=e==null?0:+e,i.restart(o=>{i.stop(),t(o+e)},e,n),i}var yb=Pa("start","end","cancel","interrupt"),wb=[],za=0,bs=1,Ro=2,_i=3,vs=4,qo=5,gi=6;function Qi(t,e,n,i,o,r){var l=t.__transition;if(!l)t.__transition={};else if(n in l)return;kb(t,n,{name:e,index:i,group:o,on:yb,tween:wb,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:za})}function sr(t,e){var n=mt(t,e);if(n.state>za)throw new Error("too late; already scheduled");return n}function yt(t,e){var n=mt(t,e);if(n.state>_i)throw new Error("too late; already running");return n}function mt(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function kb(t,e,n){var i=t.__transition,o;i[e]=n,n.timer=Qa(r,0,n.time);function r(u){n.state=bs,n.timer.restart(l,n.delay,n.time),n.delay<=u&&l(u-n.delay)}function l(u){var f,c,p,h;if(n.state!==bs)return s();for(f in i)if(h=i[f],h.name===n.name){if(h.state===_i)return gs(l);h.state===vs?(h.state=gi,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[f]):+f<e&&(h.state=gi,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[f])}if(gs(function(){n.state===_i&&(n.state=vs,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=Ro,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Ro){for(n.state=_i,o=new Array(p=n.tween.length),f=0,c=-1;f<p;++f)(h=n.tween[f].value.call(t,t.__data__,n.index,n.group))&&(o[++c]=h);o.length=c+1}}function a(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(s),n.state=qo,1),c=-1,p=o.length;++c<p;)o[c].call(t,f);n.state===qo&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){n.state=gi,n.timer.stop(),delete i[e];for(var u in i)return;delete t.__transition}}function Cb(t,e){var n=t.__transition,i,o,r=!0,l;if(n){e=e==null?null:e+"";for(l in n){if((i=n[l]).name!==e){r=!1;continue}o=i.state>Ro&&i.state<qo,i.state=gi,i.timer.stop(),i.on.call(o?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete n[l]}r&&delete t.__transition}}function Sb(t){return this.each(function(){Cb(this,t)})}function Ab(t,e){var n,i;return function(){var o=yt(this,t),r=o.tween;if(r!==n){i=n=r;for(var l=0,a=i.length;l<a;++l)if(i[l].name===e){i=i.slice(),i.splice(l,1);break}}o.tween=i}}function Tb(t,e,n){var i,o;if(typeof n!="function")throw new Error;return function(){var r=yt(this,t),l=r.tween;if(l!==i){o=(i=l).slice();for(var a={name:e,value:n},s=0,u=o.length;s<u;++s)if(o[s].name===e){o[s]=a;break}s===u&&o.push(a)}r.tween=o}}function Ib(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i=mt(this.node(),n).tween,o=0,r=i.length,l;o<r;++o)if((l=i[o]).name===t)return l.value;return null}return this.each((e==null?Ab:Tb)(n,t,e))}function ar(t,e,n){var i=t._id;return t.each(function(){var o=yt(this,i);(o.value||(o.value={}))[e]=n.apply(this,arguments)}),function(o){return mt(o,i).value[e]}}function eu(t,e){var n;return(typeof e=="number"?pt:e instanceof Xt?Gi:(n=Xt(e))?(e=n,Gi):Ja)(t,e)}function Nb(t){return function(){this.removeAttribute(t)}}function Eb(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Mb(t,e,n){var i,o=n+"",r;return function(){var l=this.getAttribute(t);return l===o?null:l===i?r:r=e(i=l,n)}}function Pb(t,e,n){var i,o=n+"",r;return function(){var l=this.getAttributeNS(t.space,t.local);return l===o?null:l===i?r:r=e(i=l,n)}}function Ob(t,e,n){var i,o,r;return function(){var l,a=n(this),s;return a==null?void this.removeAttribute(t):(l=this.getAttribute(t),s=a+"",l===s?null:l===i&&s===o?r:(o=s,r=e(i=l,a)))}}function Lb(t,e,n){var i,o,r;return function(){var l,a=n(this),s;return a==null?void this.removeAttributeNS(t.space,t.local):(l=this.getAttributeNS(t.space,t.local),s=a+"",l===s?null:l===i&&s===o?r:(o=s,r=e(i=l,a)))}}function Fb(t,e){var n=xi(t),i=n==="transform"?mb:eu;return this.attrTween(t,typeof e=="function"?(n.local?Lb:Ob)(n,i,ar(this,"attr."+t,e)):e==null?(n.local?Eb:Nb)(n):(n.local?Pb:Mb)(n,i,e))}function Rb(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function qb(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Db(t,e){var n,i;function o(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&qb(t,r)),n}return o._value=e,o}function $b(t,e){var n,i;function o(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&Rb(t,r)),n}return o._value=e,o}function Bb(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var i=xi(t);return this.tween(n,(i.local?Db:$b)(i,e))}function Gb(t,e){return function(){sr(this,t).delay=+e.apply(this,arguments)}}function jb(t,e){return e=+e,function(){sr(this,t).delay=e}}function Hb(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Gb:jb)(e,t)):mt(this.node(),e).delay}function Wb(t,e){return function(){yt(this,t).duration=+e.apply(this,arguments)}}function Vb(t,e){return e=+e,function(){yt(this,t).duration=e}}function Kb(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Wb:Vb)(e,t)):mt(this.node(),e).duration}function Ub(t,e){if(typeof e!="function")throw new Error;return function(){yt(this,t).ease=e}}function Jb(t){var e=this._id;return arguments.length?this.each(Ub(e,t)):mt(this.node(),e).ease}function Yb(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;yt(this,t).ease=n}}function Xb(t){if(typeof t!="function")throw new Error;return this.each(Yb(this._id,t))}function xb(t){typeof t!="function"&&(t=Fa(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var r=e[o],l=r.length,a=i[o]=[],s,u=0;u<l;++u)(s=r[u])&&t.call(s,s.__data__,u,r)&&a.push(s);return new It(i,this._parents,this._name,this._id)}function Zb(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,o=n.length,r=Math.min(i,o),l=new Array(i),a=0;a<r;++a)for(var s=e[a],u=n[a],f=s.length,c=l[a]=new Array(f),p,h=0;h<f;++h)(p=s[h]||u[h])&&(c[h]=p);for(;a<i;++a)l[a]=e[a];return new It(l,this._parents,this._name,this._id)}function Qb(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function zb(t,e,n){var i,o,r=Qb(e)?sr:yt;return function(){var l=r(this,t),a=l.on;a!==i&&(o=(i=a).copy()).on(e,n),l.on=o}}function e1(t,e){var n=this._id;return arguments.length<2?mt(this.node(),n).on.on(t):this.each(zb(n,t,e))}function t1(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function n1(){return this.on("end.remove",t1(this._id))}function i1(t){var e=this._name,n=this._id;typeof t!="function"&&(t=tr(t));for(var i=this._groups,o=i.length,r=new Array(o),l=0;l<o;++l)for(var a=i[l],s=a.length,u=r[l]=new Array(s),f,c,p=0;p<s;++p)(f=a[p])&&(c=t.call(f,f.__data__,p,a))&&("__data__"in f&&(c.__data__=f.__data__),u[p]=c,Qi(u[p],e,n,p,u,mt(f,n)));return new It(r,this._parents,e,n)}function o1(t){var e=this._name,n=this._id;typeof t!="function"&&(t=La(t));for(var i=this._groups,o=i.length,r=[],l=[],a=0;a<o;++a)for(var s=i[a],u=s.length,f,c=0;c<u;++c)if(f=s[c]){for(var p=t.call(f,f.__data__,c,s),h,_=mt(f,n),g=0,v=p.length;g<v;++g)(h=p[g])&&Qi(h,e,n,g,p,_);r.push(p),l.push(f)}return new It(r,l,e,n)}var r1=zn.prototype.constructor;function l1(){return new r1(this._groups,this._parents)}function s1(t,e){var n,i,o;return function(){var r=yn(this,t),l=(this.style.removeProperty(t),yn(this,t));return r===l?null:r===n&&l===i?o:o=e(n=r,i=l)}}function tu(t){return function(){this.style.removeProperty(t)}}function a1(t,e,n){var i,o=n+"",r;return function(){var l=yn(this,t);return l===o?null:l===i?r:r=e(i=l,n)}}function u1(t,e,n){var i,o,r;return function(){var l=yn(this,t),a=n(this),s=a+"";return a==null&&(s=a=(this.style.removeProperty(t),yn(this,t))),l===s?null:l===i&&s===o?r:(o=s,r=e(i=l,a))}}function f1(t,e){var n,i,o,r="style."+e,l="end."+r,a;return function(){var s=yt(this,t),u=s.on,f=s.value[r]==null?a||(a=tu(e)):void 0;(u!==n||o!==f)&&(i=(n=u).copy()).on(l,o=f),s.on=i}}function c1(t,e,n){var i=(t+="")=="transform"?hb:eu;return e==null?this.styleTween(t,s1(t,i)).on("end.style."+t,tu(t)):typeof e=="function"?this.styleTween(t,u1(t,i,ar(this,"style."+t,e))).each(f1(this._id,t)):this.styleTween(t,a1(t,i,e),n).on("end.style."+t,null)}function d1(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}function p1(t,e,n){var i,o;function r(){var l=e.apply(this,arguments);return l!==o&&(i=(o=l)&&d1(t,l,n)),i}return r._value=e,r}function h1(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,p1(t,e,n??""))}function m1(t){return function(){this.textContent=t}}function _1(t){return function(){var e=t(this);this.textContent=e??""}}function g1(t){return this.tween("text",typeof t=="function"?_1(ar(this,"text",t)):m1(t==null?"":t+""))}function b1(t){return function(e){this.textContent=t.call(this,e)}}function v1(t){var e,n;function i(){var o=t.apply(this,arguments);return o!==n&&(e=(n=o)&&b1(o)),e}return i._value=t,i}function y1(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,v1(t))}function w1(){for(var t=this._name,e=this._id,n=nu(),i=this._groups,o=i.length,r=0;r<o;++r)for(var l=i[r],a=l.length,s,u=0;u<a;++u)if(s=l[u]){var f=mt(s,e);Qi(s,t,n,u,l,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new It(i,this._parents,t,n)}function k1(){var t,e,n=this,i=n._id,o=n.size();return new Promise(function(r,l){var a={value:l},s={value:function(){--o===0&&r()}};n.each(function(){var u=yt(this,i),f=u.on;f!==t&&(e=(t=f).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(s)),u.on=e}),o===0&&r()})}var C1=0;function It(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function nu(){return++C1}var kt=zn.prototype;It.prototype={constructor:It,select:i1,selectAll:o1,selectChild:kt.selectChild,selectChildren:kt.selectChildren,filter:xb,merge:Zb,selection:l1,transition:w1,call:kt.call,nodes:kt.nodes,node:kt.node,size:kt.size,empty:kt.empty,each:kt.each,on:e1,attr:Fb,attrTween:Bb,style:c1,styleTween:h1,text:g1,textTween:y1,remove:n1,tween:Ib,delay:Hb,duration:Kb,ease:Jb,easeVarying:Xb,end:k1,[Symbol.iterator]:kt[Symbol.iterator]};function S1(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var A1={time:null,delay:0,duration:250,ease:S1};function T1(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function I1(t){var e,n;t instanceof It?(e=t._id,t=t._name):(e=nu(),(n=A1).time=lr(),t=t==null?null:t+"");for(var i=this._groups,o=i.length,r=0;r<o;++r)for(var l=i[r],a=l.length,s,u=0;u<a;++u)(s=l[u])&&Qi(s,t,e,u,l,n||T1(s,e));return new It(i,this._parents,t,e)}zn.prototype.interrupt=Sb;zn.prototype.transition=I1;const Do=Math.PI,$o=2*Do,jt=1e-6,N1=$o-jt;function iu(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function E1(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return iu;const n=10**e;return function(i){this._+=i[0];for(let o=1,r=i.length;o<r;++o)this._+=Math.round(arguments[o]*n)/n+i[o]}}class M1{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?iu:E1(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,i,o){this._append`Q${+e},${+n},${this._x1=+i},${this._y1=+o}`}bezierCurveTo(e,n,i,o,r,l){this._append`C${+e},${+n},${+i},${+o},${this._x1=+r},${this._y1=+l}`}arcTo(e,n,i,o,r){if(e=+e,n=+n,i=+i,o=+o,r=+r,r<0)throw new Error(`negative radius: ${r}`);let l=this._x1,a=this._y1,s=i-e,u=o-n,f=l-e,c=a-n,p=f*f+c*c;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(p>jt)if(!(Math.abs(c*s-u*f)>jt)||!r)this._append`L${this._x1=e},${this._y1=n}`;else{let h=i-l,_=o-a,g=s*s+u*u,v=h*h+_*_,y=Math.sqrt(g),N=Math.sqrt(p),I=r*Math.tan((Do-Math.acos((g+p-v)/(2*y*N)))/2),J=I/N,F=I/y;Math.abs(J-1)>jt&&this._append`L${e+J*f},${n+J*c}`,this._append`A${r},${r},0,0,${+(c*h>f*_)},${this._x1=e+F*s},${this._y1=n+F*u}`}}arc(e,n,i,o,r,l){if(e=+e,n=+n,i=+i,l=!!l,i<0)throw new Error(`negative radius: ${i}`);let a=i*Math.cos(o),s=i*Math.sin(o),u=e+a,f=n+s,c=1^l,p=l?o-r:r-o;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>jt||Math.abs(this._y1-f)>jt)&&this._append`L${u},${f}`,i&&(p<0&&(p=p%$o+$o),p>N1?this._append`A${i},${i},0,1,${c},${e-a},${n-s}A${i},${i},0,1,${c},${this._x1=u},${this._y1=f}`:p>jt&&this._append`A${i},${i},0,${+(p>=Do)},${c},${this._x1=e+i*Math.cos(r)},${this._y1=n+i*Math.sin(r)}`)}rect(e,n,i,o){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${i=+i}v${+o}h${-i}Z`}toString(){return this._}}function P1(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Vi(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]}function kn(t){return t=Vi(Math.abs(t)),t?t[1]:NaN}function O1(t,e){return function(n,i){for(var o=n.length,r=[],l=0,a=t[0],s=0;o>0&&a>0&&(s+a+1>i&&(a=Math.max(1,i-s)),r.push(n.substring(o-=a,o+a)),!((s+=a+1)>i));)a=t[l=(l+1)%t.length];return r.reverse().join(e)}}function L1(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var F1=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ki(t){if(!(e=F1.exec(t)))throw new Error("invalid format: "+t);var e;return new ur({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Ki.prototype=ur.prototype;function ur(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}ur.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function R1(t){e:for(var e=t.length,n=1,i=-1,o;n<e;++n)switch(t[n]){case".":i=o=n;break;case"0":i===0&&(i=n),o=n;break;default:if(!+t[n])break e;i>0&&(i=0);break}return i>0?t.slice(0,i)+t.slice(o+1):t}var ou;function q1(t,e){var n=Vi(t,e);if(!n)return t+"";var i=n[0],o=n[1],r=o-(ou=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,l=i.length;return r===l?i:r>l?i+new Array(r-l+1).join("0"):r>0?i.slice(0,r)+"."+i.slice(r):"0."+new Array(1-r).join("0")+Vi(t,Math.max(0,e+r-1))[0]}function ys(t,e){var n=Vi(t,e);if(!n)return t+"";var i=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+i:i.length>o+1?i.slice(0,o+1)+"."+i.slice(o+1):i+new Array(o-i.length+2).join("0")}const ws={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:P1,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>ys(t*100,e),r:ys,s:q1,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function ks(t){return t}var Cs=Array.prototype.map,Ss=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function D1(t){var e=t.grouping===void 0||t.thousands===void 0?ks:O1(Cs.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",i=t.currency===void 0?"":t.currency[1]+"",o=t.decimal===void 0?".":t.decimal+"",r=t.numerals===void 0?ks:L1(Cs.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"−":t.minus+"",s=t.nan===void 0?"NaN":t.nan+"";function u(c){c=Ki(c);var p=c.fill,h=c.align,_=c.sign,g=c.symbol,v=c.zero,y=c.width,N=c.comma,I=c.precision,J=c.trim,F=c.type;F==="n"?(N=!0,F="g"):ws[F]||(I===void 0&&(I=12),J=!0,F="g"),(v||p==="0"&&h==="=")&&(v=!0,p="0",h="=");var L=g==="$"?n:g==="#"&&/[boxX]/.test(F)?"0"+F.toLowerCase():"",q=g==="$"?i:/[%p]/.test(F)?l:"",$=ws[F],R=/[defgprs%]/.test(F);I=I===void 0?6:/[gprs]/.test(F)?Math.max(1,Math.min(21,I)):Math.max(0,Math.min(20,I));function H(d){var b=L,m=q,M,D,A;if(F==="c")m=$(d)+m,d="";else{d=+d;var B=d<0||1/d<0;if(d=isNaN(d)?s:$(Math.abs(d),I),J&&(d=R1(d)),B&&+d==0&&_!=="+"&&(B=!1),b=(B?_==="("?_:a:_==="-"||_==="("?"":_)+b,m=(F==="s"?Ss[8+ou/3]:"")+m+(B&&_==="("?")":""),R){for(M=-1,D=d.length;++M<D;)if(A=d.charCodeAt(M),48>A||A>57){m=(A===46?o+d.slice(M+1):d.slice(M))+m,d=d.slice(0,M);break}}}N&&!v&&(d=e(d,1/0));var j=b.length+d.length+m.length,z=j<y?new Array(y-j+1).join(p):"";switch(N&&v&&(d=e(z+d,z.length?y-m.length:1/0),z=""),h){case"<":d=b+d+m+z;break;case"=":d=b+z+d+m;break;case"^":d=z.slice(0,j=z.length>>1)+b+d+m+z.slice(j);break;default:d=z+b+d+m;break}return r(d)}return H.toString=function(){return c+""},H}function f(c,p){var h=u((c=Ki(c),c.type="f",c)),_=Math.max(-8,Math.min(8,Math.floor(kn(p)/3)))*3,g=Math.pow(10,-_),v=Ss[8+_/3];return function(y){return h(g*y)+v}}return{format:u,formatPrefix:f}}var ui,ru,lu;$1({thousands:",",grouping:[3],currency:["$",""]});function $1(t){return ui=D1(t),ru=ui.format,lu=ui.formatPrefix,ui}function B1(t){return Math.max(0,-kn(Math.abs(t)))}function G1(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(kn(e)/3)))*3-kn(Math.abs(t)))}function j1(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,kn(e)-kn(t))+1}function H1(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function W1(t){return function(){return t}}function V1(t){return+t}var As=[0,1];function dn(t){return t}function Bo(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:W1(isNaN(e)?NaN:.5)}function K1(t,e){var n;return t>e&&(n=t,t=e,e=n),function(i){return Math.max(t,Math.min(e,i))}}function U1(t,e,n){var i=t[0],o=t[1],r=e[0],l=e[1];return o<i?(i=Bo(o,i),r=n(l,r)):(i=Bo(i,o),r=n(r,l)),function(a){return r(i(a))}}function J1(t,e,n){var i=Math.min(t.length,e.length)-1,o=new Array(i),r=new Array(i),l=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<i;)o[l]=Bo(t[l],t[l+1]),r[l]=n(e[l],e[l+1]);return function(a){var s=J_(t,a,1,i)-1;return r[s](o[s](a))}}function Y1(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function X1(){var t=As,e=As,n=rr,i,o,r,l=dn,a,s,u;function f(){var p=Math.min(t.length,e.length);return l!==dn&&(l=K1(t[0],t[p-1])),a=p>2?J1:U1,s=u=null,c}function c(p){return p==null||isNaN(p=+p)?r:(s||(s=a(t.map(i),e,n)))(i(l(p)))}return c.invert=function(p){return l(o((u||(u=a(e,t.map(i),pt)))(p)))},c.domain=function(p){return arguments.length?(t=Array.from(p,V1),f()):t.slice()},c.range=function(p){return arguments.length?(e=Array.from(p),f()):e.slice()},c.rangeRound=function(p){return e=Array.from(p),n=cb,f()},c.clamp=function(p){return arguments.length?(l=p?!0:dn,f()):l!==dn},c.interpolate=function(p){return arguments.length?(n=p,f()):n},c.unknown=function(p){return arguments.length?(r=p,c):r},function(p,h){return i=p,o=h,f()}}function x1(){return X1()(dn,dn)}function Z1(t,e,n,i){var o=Q_(t,e,n),r;switch(i=Ki(i??",f"),i.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return i.precision==null&&!isNaN(r=G1(o,l))&&(i.precision=r),lu(i,l)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(r=j1(o,Math.max(Math.abs(t),Math.abs(e))))&&(i.precision=r-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(r=B1(o))&&(i.precision=r-(i.type==="%")*2);break}}return ru(i)}function Q1(t){var e=t.domain;return t.ticks=function(n){var i=e();return Z_(i[0],i[i.length-1],n??10)},t.tickFormat=function(n,i){var o=e();return Z1(o[0],o[o.length-1],n??10,i)},t.nice=function(n){n==null&&(n=10);var i=e(),o=0,r=i.length-1,l=i[o],a=i[r],s,u,f=10;for(a<l&&(u=l,l=a,a=u,u=o,o=r,r=u);f-- >0;){if(u=No(l,a,n),u===s)return i[o]=l,i[r]=a,e(i);if(u>0)l=Math.floor(l/u)*u,a=Math.ceil(a/u)*u;else if(u<0)l=Math.ceil(l*u)/u,a=Math.floor(a*u)/u;else break;s=u}return t},t}function Go(){var t=x1();return t.copy=function(){return Y1(t,Go())},H1.apply(t,arguments),Q1(t)}function un(t){return function(){return t}}function z1(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const i=Math.floor(n);if(!(i>=0))throw new RangeError(`invalid digits: ${n}`);e=i}return t},()=>new M1(e)}function ev(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function su(t){this._context=t}su.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function tv(t){return new su(t)}function nv(t){return t[0]}function iv(t){return t[1]}function mo(t,e){var n=un(!0),i=null,o=tv,r=null,l=z1(a);t=typeof t=="function"?t:t===void 0?nv:un(t),e=typeof e=="function"?e:e===void 0?iv:un(e);function a(s){var u,f=(s=ev(s)).length,c,p=!1,h;for(i==null&&(r=o(h=l())),u=0;u<=f;++u)!(u<f&&n(c=s[u],u,s))===p&&((p=!p)?r.lineStart():r.lineEnd()),p&&r.point(+t(c,u,s),+e(c,u,s));if(h)return r=null,h+""||null}return a.x=function(s){return arguments.length?(t=typeof s=="function"?s:un(+s),a):t},a.y=function(s){return arguments.length?(e=typeof s=="function"?s:un(+s),a):e},a.defined=function(s){return arguments.length?(n=typeof s=="function"?s:un(!!s),a):n},a.curve=function(s){return arguments.length?(o=s,i!=null&&(r=o(i)),a):o},a.context=function(s){return arguments.length?(s==null?i=r=null:r=o(i=s),a):i},a}function $n(t,e,n){this.k=t,this.x=e,this.y=n}$n.prototype={constructor:$n,scale:function(t){return t===1?this:new $n(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new $n(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};$n.prototype;function ov(t){let e;return{c(){e=Ji("svg"),O(e,"id","line-chart")},m(n,i){C(n,e,i)},p:ye,i:ye,o:ye,d(n){n&&k(e)}}}const Ts=52;function rv(t,e,n){let{data:i=[]}=e,o,r,l;const a={top:10,right:30,bottom:10,left:20},s=500-a.left-a.right,u=400-a.top-a.bottom;mo().x((_,g)=>r(g)).y(_=>l(_)),Ko(()=>{n(1,o=H0("#line-chart").attr("width",s+a.left+a.right).attr("height",u+a.top+a.bottom)),r=Go().range([0,s]),l=Go().range([u,0]),i.length&&f()});function f(){const _=i.length>Ts?i.slice(-Ts):i;c(_),p(_),h()}function c(_){o.selectAll(".line").remove();const g=mo().defined(y=>y>-5).x((y,N)=>r(N)).y(y=>l(y)),v=mo().defined(y=>y<0).x((y,N)=>r(N)).y(y=>l(y));o.append("path").datum(_).attr("class","line positive").attr("d",g).attr("transform",`translate(${a.left},${a.top})`).attr("fill","none").attr("stroke","green").attr("stroke-width",2),o.append("path").datum(_).attr("class","line negative").attr("d",v).attr("transform",`translate(${a.left},${a.top})`).attr("fill","none").attr("stroke","red").attr("stroke-width",2)}function p(_){const g=Math.max(0,..._),v=Math.min(0,..._);r.domain([0,_.length-1]),l.domain([v,g]).nice()}function h(_){const g=rg(r).ticks(0),v=lg(l).ticks(10);o.selectAll(".axis").remove(),o.append("g").attr("class","axis x-axis").attr("transform",`translate(${a.left},${u+a.top})`).call(g),o.append("g").attr("class","axis y-axis").attr("transform",`translate(${a.left},${a.top})`).call(v)}return t.$$set=_=>{"data"in _&&n(0,i=_.data)},t.$$.update=()=>{t.$$.dirty&3&&i&&o&&f()},[i,o]}class lv extends _e{constructor(e){super(),me(this,e,rv,ov,se,{data:0})}}function sv(t){let e,n=t[1].townInfo.knowledge_points+"",i,o;return{c(){e=G("Manage your Knowledge ("),i=G(n),o=G(" pts)")},m(r,l){C(r,e,l),C(r,i,l),C(r,o,l)},p(r,l){l&2&&n!==(n=r[1].townInfo.knowledge_points+"")&&ue(i,n)},d(r){r&&(k(e),k(i),k(o))}}}function av(t){let e,n,i,o;return e=new zt({props:{$$slots:{default:[sv]},$$scope:{ctx:t}}}),i=new nn({}),{c(){Q(e.$$.fragment),n=K(),Q(i.$$.fragment)},m(r,l){x(e,r,l),C(r,n,l),x(i,r,l),o=!0},p(r,l){const a={};l&258&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){o||(S(e.$$.fragment,r),S(i.$$.fragment,r),o=!0)},o(r){T(e.$$.fragment,r),T(i.$$.fragment,r),o=!1},d(r){r&&k(n),Z(e,r),Z(i,r)}}}function Is(t){let e,n,i=Ps(t[1].townInfo.knowledge_points*t[3])+"",o,r;return{c(){e=P("br"),n=G(`
					(total value: $`),o=G(i),r=G(")")},m(l,a){C(l,e,a),C(l,n,a),C(l,o,a),C(l,r,a)},p(l,a){a&10&&i!==(i=Ps(l[1].townInfo.knowledge_points*l[3])+"")&&ue(o,i)},d(l){l&&(k(e),k(n),k(o),k(r))}}}function Ns(t){let e;return{c(){e=P("div"),e.innerHTML=`Wait until the market value is <span class="text-green-500">positive</span> to sell your Knowledge for Gold. Keep in mind that you need a bank to
					convert.`},m(n,i){C(n,e,i)},d(n){n&&k(e)}}}function Es(t){let e,n,i;return n=new rn({props:{variant:"default",$$slots:{default:[uv]},$$scope:{ctx:t}}}),n.$on("click",t[0]),{c(){e=P("div"),Q(n.$$.fragment)},m(o,r){C(o,e,r),x(n,e,null),i=!0},p(o,r){const l={};r&256&&(l.$$scope={dirty:r,ctx:o}),n.$set(l)},i(o){i||(S(n.$$.fragment,o),i=!0)},o(o){T(n.$$.fragment,o),i=!1},d(o){o&&k(e),Z(n)}}}function uv(t){let e;return{c(){e=G("Convert Knowledge to Gold")},m(n,i){C(n,e,i)},d(n){n&&k(e)}}}function Ms(t){let e;return{c(){e=P("div"),e.textContent="You need a bank to convert knowledge to gold."},m(n,i){C(n,e,i)},d(n){n&&k(e)}}}function fv(t){let e,n,i,o,r,l,a,s,u=(t[3]??0)+"",f,c,p,h,_,g,v,y,N,I,J,F;e=new en({props:{$$slots:{default:[av]},$$scope:{ctx:t}}});let L=t[3]>0&&Is(t);g=new lv({props:{data:t[2]}});let q=t[3]<0&&Ns(),$=t[1].hasBank&&t[3]>0&&Es(t),R=t[1].hasBank===!1&&Ms();return J=new Qn({}),{c(){Q(e.$$.fragment),n=K(),i=P("span"),i.textContent="Knowledge is power, unlock it!",o=K(),r=P("div"),l=P("div"),a=G("Market Rate: "),s=P("span"),f=G(u),c=G(" gold"),h=G(`
				per Knowledge Point
				`),L&&L.c(),_=K(),Q(g.$$.fragment),v=K(),q&&q.c(),y=K(),$&&$.c(),N=K(),R&&R.c(),I=K(),Q(J.$$.fragment),O(i,"class","italic"),O(s,"class",p=t[3]<0?"text-red-500":"text-green-500"),O(r,"class","py-0 flex flex-col gap-4 text-gray-400 overflow-x-auto")},m(H,d){x(e,H,d),C(H,n,d),C(H,i,d),C(H,o,d),C(H,r,d),w(r,l),w(l,a),w(l,s),w(s,f),w(s,c),w(l,h),L&&L.m(l,null),w(r,_),x(g,r,null),w(r,v),q&&q.m(r,null),w(r,y),$&&$.m(r,null),w(r,N),R&&R.m(r,null),C(H,I,d),x(J,H,d),F=!0},p(H,d){const b={};d&258&&(b.$$scope={dirty:d,ctx:H}),e.$set(b),(!F||d&8)&&u!==(u=(H[3]??0)+"")&&ue(f,u),(!F||d&8&&p!==(p=H[3]<0?"text-red-500":"text-green-500"))&&O(s,"class",p),H[3]>0?L?L.p(H,d):(L=Is(H),L.c(),L.m(l,null)):L&&(L.d(1),L=null);const m={};d&4&&(m.data=H[2]),g.$set(m),H[3]<0?q||(q=Ns(),q.c(),q.m(r,y)):q&&(q.d(1),q=null),H[1].hasBank&&H[3]>0?$?($.p(H,d),d&10&&S($,1)):($=Es(H),$.c(),S($,1),$.m(r,N)):$&&(Fe(),T($,1,1,()=>{$=null}),Re()),H[1].hasBank===!1?R||(R=Ms(),R.c(),R.m(r,null)):R&&(R.d(1),R=null)},i(H){F||(S(e.$$.fragment,H),S(g.$$.fragment,H),S($),S(J.$$.fragment,H),F=!0)},o(H){T(e.$$.fragment,H),T(g.$$.fragment,H),T($),T(J.$$.fragment,H),F=!1},d(H){H&&(k(n),k(i),k(o),k(r),k(I)),Z(e,H),L&&L.d(),Z(g),q&&q.d(),$&&$.d(),R&&R.d(),Z(J,H)}}}function cv(t){let e,n;return e=new tn({props:{transitionConfig:{duration:0},$$slots:{default:[fv]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment)},m(i,o){x(e,i,o),n=!0},p(i,o){const r={};o&270&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(S(e.$$.fragment,i),n=!0)},o(i){T(e.$$.fragment,i),n=!1},d(i){Z(e,i)}}}function dv(t){let e,n,i;function o(l){t[5](l)}let r={$$slots:{default:[cv]},$$scope:{ctx:t}};return t[4]!==void 0&&(r.open=t[4]),e=new on({props:r}),Ie.push(()=>Qt(e,"open",o)),{c(){Q(e.$$.fragment)},m(l,a){x(e,l,a),i=!0},p(l,[a]){const s={};a&270&&(s.$$scope={dirty:a,ctx:l}),!n&&a&16&&(n=!0,s.open=l[4],Zt(()=>n=!1)),e.$set(s)},i(l){i||(S(e.$$.fragment,l),i=!0)},o(l){T(e.$$.fragment,l),i=!1},d(l){Z(e,l)}}}function Ps(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function pv(t,e,n){let i,o;ae(t,Se,u=>n(1,i=u)),ae(t,Ti,u=>n(4,o=u));let r,l=0;function a(){let u=i;i.hasBank===!0?(u.townInfo.gold+=Math.round(u.townInfo.knowledge_points*l),u.townInfo.knowledge_points=0,Se.set(u),localStorage.setItem(ft,JSON.stringify(u))):alert("You need a bank to convert knowledge to gold.")}function s(u){o=u,Ti.set(o)}return t.$$.update=()=>{t.$$.dirty&2&&i&&(n(2,r=i.economyAndLaws.knowledge_gold_market_rates),n(3,l=i.economyAndLaws.knowledge_gold_market_rates[i.economyAndLaws.knowledge_gold_market_rates.length-1]))},[a,i,r,l,o,s]}class hv extends _e{constructor(e){super(),me(this,e,pv,dv,se,{convertKnowledgeToGold:0})}get convertKnowledgeToGold(){return this.$$.ctx[0]}}function mv(t){let e;const n=t[3].default,i=fe(n,t,t[4],null);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&16)&&de(i,n,o,o[4],e?ce(n,o[4],r,null):pe(o[4]),null)},i(o){e||(S(i,o),e=!0)},o(o){T(i,o),e=!1},d(o){i&&i.d(o)}}}function _v(t){let e,n;const i=[{class:Oe("text-lg font-semibold",t[0])},{level:t[1]},t[2]];let o={$$slots:{default:[mv]},$$scope:{ctx:t}};for(let r=0;r<i.length;r+=1)o=W(o,i[r]);return e=new lc({props:o}),{c(){Q(e.$$.fragment)},m(r,l){x(e,r,l),n=!0},p(r,[l]){const a=l&7?he(i,[l&1&&{class:Oe("text-lg font-semibold",r[0])},l&2&&{level:r[1]},l&4&&it(r[2])]):{};l&16&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(S(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){Z(e,r)}}}function gv(t,e,n){const i=["class","level"];let o=ie(e,i),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{level:s="h3"}=e;return t.$$set=u=>{e=W(W({},e),Ne(u)),n(2,o=ie(e,i)),"class"in u&&n(0,a=u.class),"level"in u&&n(1,s=u.level),"$$scope"in u&&n(4,l=u.$$scope)},[a,s,o,r,l]}class bv extends _e{constructor(e){super(),me(this,e,gv,_v,se,{class:0,level:1})}}const vv=t=>({builder:t&64}),Os=t=>({builder:t[6]});function yv(t){let e;const n=t[2].default,i=fe(n,t,t[5],Os);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&96)&&de(i,n,o,o[5],e?ce(n,o[5],r,vv):pe(o[5]),Os)},i(o){e||(S(i,o),e=!0)},o(o){T(i,o),e=!1},d(o){i&&i.d(o)}}}function wv(t){let e,n;const i=[{class:Oe(Ri(),t[0])},t[1]];let o={$$slots:{default:[yv,({builder:r})=>({6:r}),({builder:r})=>r?64:0]},$$scope:{ctx:t}};for(let r=0;r<i.length;r+=1)o=W(o,i[r]);return e=new pc({props:o}),e.$on("click",t[3]),e.$on("keydown",t[4]),{c(){Q(e.$$.fragment)},m(r,l){x(e,r,l),n=!0},p(r,[l]){const a=l&3?he(i,[l&1&&{class:Oe(Ri(),r[0])},l&2&&it(r[1])]):{};l&96&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(S(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){Z(e,r)}}}function kv(t,e,n){const i=["class"];let o=ie(e,i),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(f){X.call(this,t,f)}function u(f){X.call(this,t,f)}return t.$$set=f=>{e=W(W({},e),Ne(f)),n(1,o=ie(e,i)),"class"in f&&n(0,a=f.class),"$$scope"in f&&n(5,l=f.$$scope)},[a,o,r,s,u,l]}class Cv extends _e{constructor(e){super(),me(this,e,kv,wv,se,{class:0})}}function Sv(t){let e;const n=t[1].default,i=fe(n,t,t[2],null);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&4)&&de(i,n,o,o[2],e?ce(n,o[2],r,null):pe(o[2]),null)},i(o){e||(S(i,o),e=!0)},o(o){T(i,o),e=!1},d(o){i&&i.d(o)}}}function Av(t){let e,n;const i=[t[0]];let o={$$slots:{default:[Sv]},$$scope:{ctx:t}};for(let r=0;r<i.length;r+=1)o=W(o,i[r]);return e=new yc({props:o}),{c(){Q(e.$$.fragment)},m(r,l){x(e,r,l),n=!0},p(r,[l]){const a=l&1?he(i,[it(r[0])]):{};l&4&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(S(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){Z(e,r)}}}function Tv(t,e,n){const i=[];let o=ie(e,i),{$$slots:r={},$$scope:l}=e;return t.$$set=a=>{e=W(W({},e),Ne(a)),n(0,o=ie(e,i)),"$$scope"in a&&n(2,l=a.$$scope)},[o,r,l]}class Iv extends _e{constructor(e){super(),me(this,e,Tv,Av,se,{})}}function Nv(t){let e,n,i;const o=t[3].default,r=fe(o,t,t[2],null);let l=[{class:n=Oe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=W(a,l[s]);return{c(){e=P("div"),r&&r.c(),oe(e,a)},m(s,u){C(s,e,u),r&&r.m(e,null),i=!0},p(s,[u]){r&&r.p&&(!i||u&4)&&de(r,o,s,s[2],i?ce(o,s[2],u,null):pe(s[2]),null),oe(e,a=he(l,[(!i||u&1&&n!==(n=Oe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s[0])))&&{class:n},u&2&&s[1]]))},i(s){i||(S(r,s),i=!0)},o(s){T(r,s),i=!1},d(s){s&&k(e),r&&r.d(s)}}}function Ev(t,e,n){const i=["class"];let o=ie(e,i),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=W(W({},e),Ne(s)),n(1,o=ie(e,i)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,o,l,r]}class Mv extends _e{constructor(e){super(),me(this,e,Ev,Nv,se,{class:0})}}function Pv(t){let e,n,i;const o=t[3].default,r=fe(o,t,t[2],null);let l=[{class:n=Oe("flex flex-col space-y-2 text-center sm:text-left",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=W(a,l[s]);return{c(){e=P("div"),r&&r.c(),oe(e,a)},m(s,u){C(s,e,u),r&&r.m(e,null),i=!0},p(s,[u]){r&&r.p&&(!i||u&4)&&de(r,o,s,s[2],i?ce(o,s[2],u,null):pe(s[2]),null),oe(e,a=he(l,[(!i||u&1&&n!==(n=Oe("flex flex-col space-y-2 text-center sm:text-left",s[0])))&&{class:n},u&2&&s[1]]))},i(s){i||(S(r,s),i=!0)},o(s){T(r,s),i=!1},d(s){s&&k(e),r&&r.d(s)}}}function Ov(t,e,n){const i=["class"];let o=ie(e,i),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=W(W({},e),Ne(s)),n(1,o=ie(e,i)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,o,l,r]}class Lv extends _e{constructor(e){super(),me(this,e,Ov,Pv,se,{class:0})}}function Fv(t){let e,n;const i=[{transition:t[1]},{transitionConfig:t[2]},{class:Oe("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm ",t[0])},t[3]];let o={};for(let r=0;r<i.length;r+=1)o=W(o,i[r]);return e=new Kc({props:o}),{c(){Q(e.$$.fragment)},m(r,l){x(e,r,l),n=!0},p(r,[l]){const a=l&15?he(i,[l&2&&{transition:r[1]},l&4&&{transitionConfig:r[2]},l&1&&{class:Oe("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm ",r[0])},l&8&&it(r[3])]):{};e.$set(a)},i(r){n||(S(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){Z(e,r)}}}function Rv(t,e,n){const i=["class","transition","transitionConfig"];let o=ie(e,i),{class:r=void 0}=e,{transition:l=wa}=e,{transitionConfig:a={duration:150}}=e;return t.$$set=s=>{e=W(W({},e),Ne(s)),n(3,o=ie(e,i)),"class"in s&&n(0,r=s.class),"transition"in s&&n(1,l=s.transition),"transitionConfig"in s&&n(2,a=s.transitionConfig)},[r,l,a,o]}class qv extends _e{constructor(e){super(),me(this,e,Rv,Fv,se,{class:0,transition:1,transitionConfig:2})}}function Dv(t){let e;const n=t[4].default,i=fe(n,t,t[5],null);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&32)&&de(i,n,o,o[5],e?ce(n,o[5],r,null):pe(o[5]),null)},i(o){e||(S(i,o),e=!0)},o(o){T(i,o),e=!1},d(o){i&&i.d(o)}}}function $v(t){let e,n,i,o;e=new qv({});const r=[{transition:t[0]},{transitionConfig:t[1]},{class:Oe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg md:w-full",t[2])},t[3]];let l={$$slots:{default:[Dv]},$$scope:{ctx:t}};for(let a=0;a<r.length;a+=1)l=W(l,r[a]);return i=new Rc({props:l}),{c(){Q(e.$$.fragment),n=K(),Q(i.$$.fragment)},m(a,s){x(e,a,s),C(a,n,s),x(i,a,s),o=!0},p(a,s){const u=s&15?he(r,[s&1&&{transition:a[0]},s&2&&{transitionConfig:a[1]},s&4&&{class:Oe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg md:w-full",a[2])},s&8&&it(a[3])]):{};s&32&&(u.$$scope={dirty:s,ctx:a}),i.$set(u)},i(a){o||(S(e.$$.fragment,a),S(i.$$.fragment,a),o=!0)},o(a){T(e.$$.fragment,a),T(i.$$.fragment,a),o=!1},d(a){a&&k(n),Z(e,a),Z(i,a)}}}function Bv(t){let e,n;return e=new Iv({props:{$$slots:{default:[$v]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment)},m(i,o){x(e,i,o),n=!0},p(i,[o]){const r={};o&47&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(S(e.$$.fragment,i),n=!0)},o(i){T(e.$$.fragment,i),n=!1},d(i){Z(e,i)}}}function Gv(t,e,n){const i=["transition","transitionConfig","class"];let o=ie(e,i),{$$slots:r={},$$scope:l}=e,{transition:a=zo}=e,{transitionConfig:s=void 0}=e,{class:u=void 0}=e;return t.$$set=f=>{e=W(W({},e),Ne(f)),n(3,o=ie(e,i)),"transition"in f&&n(0,a=f.transition),"transitionConfig"in f&&n(1,s=f.transitionConfig),"class"in f&&n(2,u=f.class),"$$scope"in f&&n(5,l=f.$$scope)},[a,s,u,o,r,l]}class jv extends _e{constructor(e){super(),me(this,e,Gv,Bv,se,{transition:0,transitionConfig:1,class:2})}}function Hv(t){let e;const n=t[2].default,i=fe(n,t,t[3],null);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&8)&&de(i,n,o,o[3],e?ce(n,o[3],r,null):pe(o[3]),null)},i(o){e||(S(i,o),e=!0)},o(o){T(i,o),e=!1},d(o){i&&i.d(o)}}}function Wv(t){let e,n;const i=[{class:Oe("text-sm text-muted-foreground",t[0])},t[1]];let o={$$slots:{default:[Hv]},$$scope:{ctx:t}};for(let r=0;r<i.length;r+=1)o=W(o,i[r]);return e=new Qc({props:o}),{c(){Q(e.$$.fragment)},m(r,l){x(e,r,l),n=!0},p(r,[l]){const a=l&3?he(i,[l&1&&{class:Oe("text-sm text-muted-foreground",r[0])},l&2&&it(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(S(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){Z(e,r)}}}function Vv(t,e,n){const i=["class"];let o=ie(e,i),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=W(W({},e),Ne(s)),n(1,o=ie(e,i)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,l=s.$$scope)},[a,o,r,l]}class Kv extends _e{constructor(e){super(),me(this,e,Vv,Wv,se,{class:0})}}const Uv=zf,Jv=[{id:"sunshine",title:"Hint of Sunshine",description:`Scientist Jane T. found that more sunlight makes everyone a bit happier. 
        
        Now, every home is equipped with a pair of sunglasses and a sunhat. Enjoy happier citizens!,
        `,cost:5e3,duration:180,effect:!0},{id:"antibiotics",title:"We will call them 'Antibiotics'",description:`Scientist Alfred C. has pitched us an idea that he calls 'Antibiotics'.
        
         We don't really know what that means, but it seems to make people healthier. 
        `,cost:8e3,duration:200,effect:!0},{id:"goodbye_carrots",title:"Goodbye Carrots",description:`Scientist Jarrod M. collaborated with local carrot farms to enhance the recipe, aiming to increase consumers' height by 10%.

        Unfortunately, the experiment failed, and all the local carrot farms have gone out of business. 
        `,cost:8e3,duration:80,effect:!0},{id:"funny_cows",title:"Cowabunga!",description:`Scientist Barry T. thought that showing cows some stand-up comedy would make them produce better milk, but it didn't have the desired effect.

        The cows are now following Mike Birbiglia on Twitter, but the milk production has not increased.
        `,cost:3e3,duration:60,effect:!1},{id:"missing_treasure",title:"Missing Treasure?",description:`Scientist Sarah H. was running an experiment on tree growth and found a stash of gold near the lab. 

        She hopes nobody will miss it. Your town now has some more money. 
        `,cost:15e3,duration:180,effect:!0},{id:"tax_relief",title:"'Maybe the government is not so bad after all'",description:`Scientist Sam P. conducted a study and found that if you put a tiny bit of CHEMICAL X in the water supply, people are more likely to be ok with tax hikes. 

        We don't question it, as these experiments cost a lot of moo-lah.`,cost:7500,duration:360,effect:!0},{id:"spring_break",title:"Spring Break",description:`The Scientists took our money and spent the week at the beach. 

        We are not sure what they did, but they came back with a tan and a smile.`,cost:2e3,duration:7,effect:!1},{id:"coffee_boost_tourism",title:"Speedy Brews",description:`Scientist Claudia A. has found that a specific blend of coffee can significantly increase productivity among town employees. 

        The catch? It only works on Mondays. But hey, starting the week with a turbo-charged workforce might just be the boost we needed. The town gets a bit of extra cash from the productivity, and a bit of tourism revenue from coffee tourism.
        `,cost:8e3,duration:100,effect:!0},{id:"bee_bonanza",title:"Buzzing with Possibilities",description:`Scientist Will B. thought that introducing genetically modified super bees to the local ecosystem could help with pollination.
        
        Unfortunately, these bees prefer coffee plants over all others, leading to all coffee bean farms forced to close.`,cost:5e3,duration:120,effect:!0},{id:"wheat_whirlwind",title:"A Gust of Grain",description:`Scientist Clint C. is sulking after a botched weather control experiment aimed at improving crop yields accidentally resulted in a series of mini-tornadoes sweeping through the town's wheat farms. The wheat is gone, but the townsfolk have never been more entertained.

        Local bakers mourn the loss of wheat while selling tickets to the wheat whirlwind tours. All wheat farms are now torn down, but happiness is up.`,cost:7e3,duration:150,effect:!0},{id:"aquatic_overachievers",title:"Fishy Business",description:`An attempt to genetically enhance fish intelligence by Scientist Goldie F. in fisheries has gone awry, resulting in fish that are too smart to be caught. The fisheries are now underpopulated and shut down, but the town enjoys an unexpected tourism boom as people flock to see the genius fish who are now hanging out in local parks.

        Who knew fish could be such a draw?`,cost:6e3,duration:90,effect:!0},{id:"educational_eclipse",title:"A Sudden Drop in IQ",description:`Scientist Albert E. wanted to see if the towns' children would become smarter if THEY ran the schools. 

        This was obviously a terrible idea and the first thing the kids did was shut down the schools.`,cost:1e3,duration:45,effect:!0},{id:"education_grant",title:"Education Grant",description:`Scientist Marie C. took the funding and applied the town for a grant to improve education.

        The town wins a grant for $150,000 to build schools and improve education. (but it's up to you if that's how you want to spend the money)`,cost:4e4,duration:45,effect:!0},{id:"mindfulness_meditation_classes",title:"'Mindfulness Meditation Classes'",description:`Scientist Zen M. has introduced mindfulness meditation classes to the town after realizing that breathing in certain ways can lower stress. 
		
		Now, the town is a bit more relaxed, for now.`,cost:13e3,duration:540,effect:!0}];function Ls(t,e,n){const i=t.slice();return i[17]=e[n],i}function Yv(t){let e,n=t[1].lab.active_experiment.title+"",i;return{c(){e=G("🎉 Experiment Completed: "),i=G(n)},m(o,r){C(o,e,r),C(o,i,r)},p(o,r){r&2&&n!==(n=o[1].lab.active_experiment.title+"")&&ue(i,n)},d(o){o&&(k(e),k(i))}}}function Xv(t){let e,n=t[1].lab.active_experiment.description+"",i;return{c(){e=P("div"),i=G(n),O(e,"class","select-none whitespace-pre-wrap text-lg text-gray-400 leading-6 px-4 py-4 text-center ")},m(o,r){C(o,e,r),w(e,i)},p(o,r){r&2&&n!==(n=o[1].lab.active_experiment.description+"")&&ue(i,n)},d(o){o&&k(e)}}}function xv(t){let e,n,i,o;return e=new bv({props:{class:"text-center",$$slots:{default:[Yv]},$$scope:{ctx:t}}}),i=new Kv({props:{$$slots:{default:[Xv]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment),n=K(),Q(i.$$.fragment)},m(r,l){x(e,r,l),C(r,n,l),x(i,r,l),o=!0},p(r,l){const a={};l&1048578&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&1048578&&(s.$$scope={dirty:l,ctx:r}),i.$set(s)},i(r){o||(S(e.$$.fragment,r),S(i.$$.fragment,r),o=!0)},o(r){T(e.$$.fragment,r),T(i.$$.fragment,r),o=!1},d(r){r&&k(n),Z(e,r),Z(i,r)}}}function Zv(t){let e;return{c(){e=G("Thank the scientists")},m(n,i){C(n,e,i)},d(n){n&&k(e)}}}function Qv(t){let e,n;return e=new Cv({props:{$$slots:{default:[Zv]},$$scope:{ctx:t}}}),e.$on("click",t[9]),{c(){Q(e.$$.fragment)},m(i,o){x(e,i,o),n=!0},p(i,o){const r={};o&1048576&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(S(e.$$.fragment,i),n=!0)},o(i){T(e.$$.fragment,i),n=!1},d(i){Z(e,i)}}}function zv(t){let e,n,i,o;return e=new Lv({props:{$$slots:{default:[xv]},$$scope:{ctx:t}}}),i=new Mv({props:{$$slots:{default:[Qv]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment),n=K(),Q(i.$$.fragment)},m(r,l){x(e,r,l),C(r,n,l),x(i,r,l),o=!0},p(r,l){const a={};l&1048578&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&1048576&&(s.$$scope={dirty:l,ctx:r}),i.$set(s)},i(r){o||(S(e.$$.fragment,r),S(i.$$.fragment,r),o=!0)},o(r){T(e.$$.fragment,r),T(i.$$.fragment,r),o=!1},d(r){r&&k(n),Z(e,r),Z(i,r)}}}function ey(t){let e,n;return e=new jv({props:{$$slots:{default:[zv]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment)},m(i,o){x(e,i,o),n=!0},p(i,o){const r={};o&1048578&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(S(e.$$.fragment,i),n=!0)},o(i){T(e.$$.fragment,i),n=!1},d(i){Z(e,i)}}}function ty(t){let e;return{c(){e=P("span"),e.textContent="Manage your Laboratory 🔬 🧪"},m(n,i){C(n,e,i)},p:ye,d(n){n&&k(e)}}}function ny(t){let e,n,i,o=t[1].lab.xp+"",r,l,a,s;return{c(){e=P("span"),n=G("You have earned "),i=P("span"),r=G(o),l=G(" XP"),s=G(` from experiments. XP can be used to buy advanced plots and develop your
					city.`),O(i,"class",a="italic "+(t[1].lab.xp<0?"text-red-500":"text-green-500"))},m(u,f){C(u,e,f),w(e,n),w(e,i),w(i,r),w(i,l),w(e,s)},p(u,f){f&2&&o!==(o=u[1].lab.xp+"")&&ue(r,o),f&2&&a!==(a="italic "+(u[1].lab.xp<0?"text-red-500":"text-green-500"))&&O(i,"class",a)},d(u){u&&k(e)}}}function iy(t){let e,n,i,o;return e=new zt({props:{$$slots:{default:[ty]},$$scope:{ctx:t}}}),i=new nn({props:{$$slots:{default:[ny]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment),n=K(),Q(i.$$.fragment)},m(r,l){x(e,r,l),C(r,n,l),x(i,r,l),o=!0},p(r,l){const a={};l&1048576&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&1048578&&(s.$$scope={dirty:l,ctx:r}),i.$set(s)},i(r){o||(S(e.$$.fragment,r),S(i.$$.fragment,r),o=!0)},o(r){T(e.$$.fragment,r),T(i.$$.fragment,r),o=!1},d(r){r&&k(n),Z(e,r),Z(i,r)}}}function oy(t){let e;return{c(){e=G("No more experiments available")},m(n,i){C(n,e,i)},p:ye,i:ye,o:ye,d(n){n&&k(e)}}}function ry(t){let e,n,i,o,r=Je(t[0]),l=[];for(let s=0;s<r.length;s+=1)l[s]=Rs(Ls(t,r,s));const a=s=>T(l[s],1,1,()=>{l[s]=null});return{c(){e=P("div"),e.textContent=`It's time to fund your next experiment! Choose a project below based on
				it's funding requirement. Once the experiment is over, you will see the
				results.`,n=K(),i=P("div");for(let s=0;s<l.length;s+=1)l[s].c();O(e,"class","select-none text-sm "),O(i,"class","text-center flex flex-col justify-center items-center gap-4 ")},m(s,u){C(s,e,u),C(s,n,u),C(s,i,u);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(i,null);o=!0},p(s,u){if(u&19){r=Je(s[0]);let f;for(f=0;f<r.length;f+=1){const c=Ls(s,r,f);l[f]?(l[f].p(c,u),S(l[f],1)):(l[f]=Rs(c),l[f].c(),S(l[f],1),l[f].m(i,null))}for(Fe(),f=r.length;f<l.length;f+=1)a(f);Re()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)S(l[u]);o=!0}},o(s){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)T(l[u]);o=!1},d(s){s&&(k(e),k(n),k(i)),vt(l,s)}}}function ly(t){let e,n=t[1].lab.active_experiment.duration+"",i,o,r,l,a=t[1].lab.active_experiment.duration===0&&qs(t);return{c(){e=G("Currently running an experiment... check back in "),i=G(n),o=G(` days.
			`),a&&a.c(),r=Me()},m(s,u){C(s,e,u),C(s,i,u),C(s,o,u),a&&a.m(s,u),C(s,r,u),l=!0},p(s,u){(!l||u&2)&&n!==(n=s[1].lab.active_experiment.duration+"")&&ue(i,n),s[1].lab.active_experiment.duration===0?a?(a.p(s,u),u&2&&S(a,1)):(a=qs(s),a.c(),S(a,1),a.m(r.parentNode,r)):a&&(Fe(),T(a,1,1,()=>{a=null}),Re())},i(s){l||(S(a),l=!0)},o(s){T(a),l=!1},d(s){s&&(k(e),k(i),k(o),k(r)),a&&a.d(s)}}}function Fs(t){let e,n,i=t[17].id+"",o;return{c(){e=P("span"),n=G("// dev-"),o=G(i),O(e,"class","text-xs text-gray-400")},m(r,l){C(r,e,l),w(e,n),w(e,o)},p(r,l){l&1&&i!==(i=r[17].id+"")&&ue(o,i)},d(r){r&&k(e)}}}function sy(t){let e,n=Ds(t[17].cost).split(".")[0]+"",i,o,r,l=t[1].devMode===!0&&Fs(t);return{c(){e=G("$"),i=G(n),o=G(` gold

						`),l&&l.c(),r=K()},m(a,s){C(a,e,s),C(a,i,s),C(a,o,s),l&&l.m(a,s),C(a,r,s)},p(a,s){s&1&&n!==(n=Ds(a[17].cost).split(".")[0]+"")&&ue(i,n),a[1].devMode===!0?l?l.p(a,s):(l=Fs(a),l.c(),l.m(r.parentNode,r)):l&&(l.d(1),l=null)},d(a){a&&(k(e),k(i),k(o),k(r)),l&&l.d(a)}}}function Rs(t){let e,n;function i(){return t[11](t[17])}return e=new rn({props:{variant:"outline",class:`min-w-48 w-max flex-col
				`+(t[17].cost>t[1].townInfo.gold?"cursor-not-allowed":"")+`
				`,$$slots:{default:[sy]},$$scope:{ctx:t}}}),e.$on("click",i),{c(){Q(e.$$.fragment)},m(o,r){x(e,o,r),n=!0},p(o,r){t=o;const l={};r&3&&(l.class=`min-w-48 w-max flex-col
				`+(t[17].cost>t[1].townInfo.gold?"cursor-not-allowed":"")+`
				`),r&1048579&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(o){n||(S(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){Z(e,o)}}}function qs(t){let e,n;return e=new rn({props:{variant:"outline",$$slots:{default:[ay]},$$scope:{ctx:t}}}),e.$on("click",t[10]),{c(){Q(e.$$.fragment)},m(i,o){x(e,i,o),n=!0},p(i,o){const r={};o&1048576&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(S(e.$$.fragment,i),n=!0)},o(i){T(e.$$.fragment,i),n=!1},d(i){Z(e,i)}}}function ay(t){let e;return{c(){e=G("Complete experiment (and face the impact)")},m(n,i){C(n,e,i)},d(n){n&&k(e)}}}function uy(t){let e;return{c(){e=P("span"),e.textContent="Keep in mind that not all experiments yield positive results.",O(e,"class","italic text-left text-red-800")},m(n,i){C(n,e,i)},p:ye,d(n){n&&k(e)}}}function fy(t){let e,n,i,o,r,l,a,s,u,f,c;e=new en({props:{$$slots:{default:[iy]},$$scope:{ctx:t}}}),i=new Wn({});const p=[ly,ry,oy],h=[];function _(g,v){return g[1].lab.active_experiment!==null?0:g[0].length>0?1:g[0].length===0?2:-1}return~(r=_(t))&&(l=h[r]=p[r](t)),s=new Wn({props:{class:"mt-4"}}),f=new Qn({props:{$$slots:{default:[uy]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment),n=K(),Q(i.$$.fragment),o=K(),l&&l.c(),a=K(),Q(s.$$.fragment),u=K(),Q(f.$$.fragment)},m(g,v){x(e,g,v),C(g,n,v),x(i,g,v),C(g,o,v),~r&&h[r].m(g,v),C(g,a,v),x(s,g,v),C(g,u,v),x(f,g,v),c=!0},p(g,v){const y={};v&1048578&&(y.$$scope={dirty:v,ctx:g}),e.$set(y);let N=r;r=_(g),r===N?~r&&h[r].p(g,v):(l&&(Fe(),T(h[N],1,1,()=>{h[N]=null}),Re()),~r?(l=h[r],l?l.p(g,v):(l=h[r]=p[r](g),l.c()),S(l,1),l.m(a.parentNode,a)):l=null);const I={};v&1048576&&(I.$$scope={dirty:v,ctx:g}),f.$set(I)},i(g){c||(S(e.$$.fragment,g),S(i.$$.fragment,g),S(l),S(s.$$.fragment,g),S(f.$$.fragment,g),c=!0)},o(g){T(e.$$.fragment,g),T(i.$$.fragment,g),T(l),T(s.$$.fragment,g),T(f.$$.fragment,g),c=!1},d(g){g&&(k(n),k(o),k(a),k(u)),Z(e,g),Z(i,g),~r&&h[r].d(g),Z(s,g),Z(f,g)}}}function cy(t){let e,n;return e=new tn({props:{$$slots:{default:[fy]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment)},m(i,o){x(e,i,o),n=!0},p(i,o){const r={};o&1048579&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(S(e.$$.fragment,i),n=!0)},o(i){T(e.$$.fragment,i),n=!1},d(i){Z(e,i)}}}function dy(t){let e,n,i,o,r;e=new Uv({props:{open:t[2],$$slots:{default:[ey]},$$scope:{ctx:t}}});function l(s){t[12](s)}let a={$$slots:{default:[cy]},$$scope:{ctx:t}};return t[3]!==void 0&&(a.open=t[3]),i=new on({props:a}),Ie.push(()=>Qt(i,"open",l)),{c(){Q(e.$$.fragment),n=K(),Q(i.$$.fragment)},m(s,u){x(e,s,u),C(s,n,u),x(i,s,u),r=!0},p(s,[u]){const f={};u&4&&(f.open=s[2]),u&1048578&&(f.$$scope={dirty:u,ctx:s}),e.$set(f);const c={};u&1048579&&(c.$$scope={dirty:u,ctx:s}),!o&&u&8&&(o=!0,c.open=s[3],Zt(()=>o=!1)),i.$set(c)},i(s){r||(S(e.$$.fragment,s),S(i.$$.fragment,s),r=!0)},o(s){T(e.$$.fragment,s),T(i.$$.fragment,s),r=!1},d(s){s&&k(n),Z(e,s),Z(i,s)}}}function Ds(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function py(t,e,n){let i,o;ae(t,Se,I=>n(1,i=I)),ae(t,ci,I=>n(3,o=I));var r;let l=[],a=!1,s=!1,u=!1;function f(){if(l.length>0||!a)return l;let I=[],J=Jv.filter(F=>!i.lab.past_experiments.some(L=>L.id===F.id));for(let F=0;F<3;F++){let L=J[Math.floor(Math.random()*J.length)];L.cost=Math.floor(Math.random()*(L.cost*.35)+L.cost*.8),I.push(L)}return I=I.filter((F,L)=>I.indexOf(F)===L),I=I.filter(F=>F),n(8,u=!0),I}function c(I){if(i.townInfo.gold<I.cost){alert("You do not have enough gold to purchase this experiment.");return}we(Se,i.townInfo.gold-=I.cost,i),we(Se,i.lab.active_experiment=I,i),i.lab.past_experiments.push(I)}function p(){var I;switch(we(ci,o=!1,o),n(2,s=!0),(I=i.lab.active_experiment)===null||I===void 0?void 0:I.id){case"sunshine":we(Se,i.modifiers.happiness=50,i);break;case"antibiotics":we(Se,i.modifiers.health=50,i);break;case"goodbye_carrots":_("carrot_farm");break;case"missing_treasure":we(Se,i.townInfo.gold+=Math.floor(Math.random()*i.lab.active_experiment.cost*2),i);break;case"tax_relief":we(Se,i.economyAndLaws.max_tax_rate=(Math.random()*.8+1.2)*i.economyAndLaws.max_tax_rate,i);break;case"coffee_boost_tourism":we(Se,i.townInfo.gold+=5e3,i),we(Se,i.townInfo.gold_from_tourism+=1e4,i);break;case"bee_bonanza":_("coffee_bean_farm");break;case"wheat_whirlwind":_("wheat_farm"),we(Se,i.townInfo.happiness*=1.5,i),we(Se,i.modifiers.happiness+=3,i);break;case"aquatic_overachievers":_("fishery"),we(Se,i.townInfo.gold_from_tourism+=3e4,i);break;case"educational_eclipse":_("small_school"),_("large_school"),we(Se,i.townInfo.knowledge_points*=.8,i);break;case"education_grant":we(Se,i.townInfo.knowledge_points*=1.5,i),we(Se,i.townInfo.gold+=15e4,i);break;case"mindfulness_meditation_classes":i.modifiers.happiness*1.5;break}we(Se,i.lab.active_experiment.duration=-1,i)}function h(){let I=i;I.lab.xp+=Math.round(I.lab.active_experiment.cost*(Math.random()*2+.5)),I.lab.active_experiment=null,n(2,s=!1),we(Se,i=I,i)}function _(I){let J=st(I,i);for(let F=0;F<J.length;F++)Ai(J[F].x,J[F].y,i)}const g=()=>{h()},v=()=>{p()},y=I=>{I.cost<i.townInfo.gold&&c(I)};function N(I){o=I,ci.set(o)}return t.$$.update=()=>{t.$$.dirty&387&&(i?(a=!0,n(0,l=u==!1?f():l),(n(7,r=i.lab.active_experiment)===null||r===void 0?void 0:r.duration)===-1&&n(2,s=!0)):a=!1)},[l,i,s,o,c,p,h,r,u,g,v,y,N]}class hy extends _e{constructor(e){super(),me(this,e,py,dy,se,{})}}function $s(t){let e,n,i,o;const r=[_y,my],l=[];function a(s,u){return s[0]==null?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),i=Me()},m(s,u){l[e].m(s,u),C(s,i,u),o=!0},p(s,u){let f=e;e=a(s),e===f?l[e].p(s,u):(Fe(),T(l[f],1,1,()=>{l[f]=null}),Re(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),S(n,1),n.m(i.parentNode,i))},i(s){o||(S(n),o=!0)},o(s){T(n),o=!1},d(s){s&&k(i),l[e].d(s)}}}function my(t){let e,n,i,o,r,l,a,s,u,f,c,p,h,_,g,v,y,N,I,J,F,L=t[2]==!0&&Bs();return n=new Lm({}),o=new bm({}),l=new b_({}),s=new H_({}),f=new hv({}),p=new hy({}),v=new um({}),{c(){L&&L.c(),e=K(),Q(n.$$.fragment),i=K(),Q(o.$$.fragment),r=K(),Q(l.$$.fragment),a=K(),Q(s.$$.fragment),u=K(),Q(f.$$.fragment),c=K(),Q(p.$$.fragment),h=K(),_=P("div"),g=P("div"),Q(v.$$.fragment),y=K(),N=P("br"),I=K(),J=P("style"),J.textContent=`#plot_grid {
				overflow-x: scroll;
				overflow-y: scroll;
				scroll-behavior: smooth;
			}
			/* no visible scrollbars */
			#plot_grid::-webkit-scrollbar {
				display: none;
			}

			html {
				overflow: scroll;
			}

			::-webkit-scrollbar {
				width: 0px;
				background: transparent; /* make scrollbar transparent */
			}`,O(g,"id","plot_grid"),bn(g,"margin-top",t[3]+"px"),O(g,"class","scroll-smooth no-scrollbar overflow-x "),O(_,"class","justify-center text-center align-middle <!-- center horiz --> flex ")},m(q,$){L&&L.m(q,$),C(q,e,$),x(n,q,$),C(q,i,$),x(o,q,$),C(q,r,$),x(l,q,$),C(q,a,$),x(s,q,$),C(q,u,$),x(f,q,$),C(q,c,$),x(p,q,$),C(q,h,$),C(q,_,$),w(_,g),x(v,g,null),w(g,y),w(g,N),C(q,I,$),C(q,J,$),F=!0},p(q,$){q[2]==!0?L?$&4&&S(L,1):(L=Bs(),L.c(),S(L,1),L.m(e.parentNode,e)):L&&(Fe(),T(L,1,1,()=>{L=null}),Re()),(!F||$&8)&&bn(g,"margin-top",q[3]+"px")},i(q){F||(S(L),S(n.$$.fragment,q),S(o.$$.fragment,q),S(l.$$.fragment,q),S(s.$$.fragment,q),S(f.$$.fragment,q),S(p.$$.fragment,q),S(v.$$.fragment,q),F=!0)},o(q){T(L),T(n.$$.fragment,q),T(o.$$.fragment,q),T(l.$$.fragment,q),T(s.$$.fragment,q),T(f.$$.fragment,q),T(p.$$.fragment,q),T(v.$$.fragment,q),F=!1},d(q){q&&(k(e),k(i),k(r),k(a),k(u),k(c),k(h),k(_),k(I),k(J)),L&&L.d(q),Z(n,q),Z(o,q),Z(l,q),Z(s,q),Z(f,q),Z(p,q),Z(v)}}}function _y(t){let e,n;return e=new L_({}),{c(){Q(e.$$.fragment)},m(i,o){x(e,i,o),n=!0},p:ye,i(i){n||(S(e.$$.fragment,i),n=!0)},o(i){T(e.$$.fragment,i),n=!1},d(i){Z(e,i)}}}function Bs(t){let e,n;return e=new s_({}),{c(){Q(e.$$.fragment)},m(i,o){x(e,i,o),n=!0},i(i){n||(S(e.$$.fragment,i),n=!0)},o(i){T(e.$$.fragment,i),n=!1},d(i){Z(e,i)}}}function gy(t){let e,n,i=(t[1]||t[0]==null)&&$s(t);return{c(){i&&i.c(),e=Me()},m(o,r){i&&i.m(o,r),C(o,e,r),n=!0},p(o,[r]){o[1]||o[0]==null?i?(i.p(o,r),r&3&&S(i,1)):(i=$s(o),i.c(),S(i,1),i.m(e.parentNode,e)):i&&(Fe(),T(i,1,1,()=>{i=null}),Re())},i(o){n||(S(i),n=!0)},o(o){T(i),n=!1},d(o){o&&k(e),i&&i.d(o)}}}function by(t,e,n){let i,o,r,l,a,s;ae(t,vn,h=>n(6,i=h)),ae(t,xe,h=>n(7,o=h)),ae(t,gt,h=>n(2,r=h)),ae(t,Se,h=>n(0,l=h)),ae(t,Gn,h=>n(8,a=h)),ae(t,bo,h=>n(3,s=h));let u=!1;a_();let f=!1;document.addEventListener("keydown",h=>{if((document.activeElement!=null&&document.activeElement.nodeName==="INPUT"||document.activeElement!=null&&document.activeElement.nodeName=="TEXTAREA")&&h.key!=="Escape")return;switch(h.key.toLowerCase()){case"p":r==!0?gt.set(!1):(gt.set(!0),we(xe,o.visible=!1,o));break;case"escape":h.shiftKey?(we(gt,r=!0,r),localStorage.setItem("reset","true"),location.reload(),Xo()):o.visible==!0&&we(xe,o.visible=!1,o);break;case"arrowleft":case"a":h.preventDefault(),c(0,-1,"up");break;case"arrowright":case"d":h.preventDefault(),c(0,1,"down");break;case"arrowup":case"w":h.preventDefault(),c(-1,0,"left");break;case"arrowdown":case"s":h.preventDefault(),c(1,0,"right");break}});function c(h,_,g){if(o.visible===!1&&o.x===0&&o.y===0)p(0,0,g);else{let v=o.x,y=o.y;v+h<0?v=0:v+h>l.plots.length?v=l.plots.length:v+=h,y+_<0?y=0:y+_>l.plots.length?y=l.plots.length:y+=_,p(v,y,g)}}function p(h,_,g){if(f==!0)switch(g){case"up":_-=2;break;case"down":_+=1;break;case"left":h-=2;break;case"right":h+=1;break}h<0?h=0:h>l.plots.length&&(h=l.plots.length),_<0?_=0:_>l.plots.length&&(_=l.plots.length);let v=document.querySelectorAll(".plot_container"),y;if(v.forEach(N=>{N.dataset.x=="$x"&&N.dataset.y=="$y"&&(y=N)}),r==!1){if(y.dataset.canBeUpgraded==="true"?we(xe,o.visible=!0,o):we(xe,o.visible=!1,o),y.dataset.refPlotX!==void 0&&y.dataset.refPlotY!=""?(f=!0,v.forEach(N=>{N.dataset.x==y.dataset.refPlotX&&N.dataset.y==y.dataset.refPlotY&&(y=N,h=parseInt(y.dataset.x),_=parseInt(y.dataset.y))})):f=!1,y.dataset.size!=="1"&&y.dataset.size!==void 0&&(f=!0),we(xe,o.x=h,o),we(xe,o.y=_,o),v.forEach(N=>{N.classList.remove("selected"),N.style.fontWeight=""}),y.classList.add("selected"),f){let N="4px solid #00800045";y.classList.remove("selected"),y.style.borderTop=N,y.style.borderLeft=N,y.style.fontWeight="600",v.forEach(I=>{const J=parseInt(`${I.dataset.x}`),F=parseInt(`${I.dataset.y}`);J==h+1&&F==_&&(I.style.borderLeft=N,I.style.borderBottom=N),J==h&&F==_+1&&(I.style.borderTop=N,I.style.borderRight=N),J==h+1&&F==_+1&&(I.style.borderBottom=N,I.style.borderRight=N)})}y.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),we(vn,i={},i)}}return t.$$.update=()=>{t.$$.dirty&1&&(l?(we(Gn,a.visible=!1,a),n(1,u=!0)):(we(Gn,a.visible=!0,a),n(1,u=!1)))},[l,u,r,s,p]}class vy extends _e{constructor(e){super(),me(this,e,by,gy,se,{openPlotMenu:4})}get openPlotMenu(){return this.$$.ctx[4]}}new vy({target:document.getElementById("app")});
