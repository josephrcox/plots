var sd=Object.defineProperty;var ad=(t,e,n)=>e in t?sd(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var fn=(t,e,n)=>(ad(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();function ud(t){const e=pako.gzip(JSON.stringify(t));return btoa(String.fromCharCode.apply(null,e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function fd(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=atob(e),o=new Uint8Array(n.length);for(let r=0;r<n.length;r++)o[r]=n.charCodeAt(r);const i=pako.ungzip(o,{to:"string"});return JSON.parse(i)}async function cd(){let t=localStorage.getItem("plots_active_game_db");const e=await ud(t);console.log("http://localhost:5173/plots/?shareId="+e)}const sr=window.location.search.substring(1).split("&").reduce((t,e)=>{const[n,o]=e.split("=");return t[n]=o,t},{});if(sr.shareId!=null||sr.shareId!=null){console.log("DECRYPING FROM shareId");const t=JSON.parse(fd(sr.shareId));let e=localStorage.getItem("plots_active_game_db");(e==""||e==null)&&localStorage.setItem("plots_active_game_db",JSON.stringify(t))}else console.log("COMPRESSING GAME TO SHARE"),cd();function ye(){}const Ki=t=>t;function J(t,e){for(const n in e)t[n]=e[n];return t}function vf(t){return t()}function $l(){return Object.create(null)}function xe(t){t.forEach(vf)}function Ft(t){return typeof t=="function"}function ce(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function dd(t){return Object.keys(t).length===0}function ol(t,...e){if(t==null){for(const o of e)o(void 0);return ye}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function yf(t){let e;return ol(t,n=>e=n)(),e}function le(t,e,n){t.$$.on_destroy.push(ol(e,n))}function he(t,e,n,o){if(t){const i=wf(t,e,n,o);return t[0](i)}}function wf(t,e,n,o){return t[1]&&o?J(n.ctx.slice(),t[1](o(e))):n.ctx}function _e(t,e,n,o){if(t[2]&&o){const i=t[2](o(n));if(e.dirty===void 0)return i;if(typeof i=="object"){const r=[],l=Math.max(e.dirty.length,i.length);for(let a=0;a<l;a+=1)r[a]=e.dirty[a]|i[a];return r}return e.dirty|i}return e.dirty}function ge(t,e,n,o,i,r){if(i){const l=wf(e,n,o,r);t.p(l,i)}}function be(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let o=0;o<n;o++)e[o]=-1;return e}return-1}function je(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function ae(t,e){const n={};e=new Set(e);for(const o in t)!e.has(o)&&o[0]!=="$"&&(n[o]=t[o]);return n}function Se(t,e,n){return t.set(n),e}function We(t){return t&&Ft(t.destroy)?t.destroy:ye}const kf=typeof window<"u";let il=kf?()=>window.performance.now():()=>Date.now(),rl=kf?t=>requestAnimationFrame(t):ye;const Xn=new Set;function Cf(t){Xn.forEach(e=>{e.c(t)||(Xn.delete(e),e.f())}),Xn.size!==0&&rl(Cf)}function ll(t){let e;return Xn.size===0&&rl(Cf),{promise:new Promise(n=>{Xn.add(e={c:t,f:n})}),abort(){Xn.delete(e)}}}const md=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function v(t,e){t.appendChild(e)}function Tf(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function pd(t){const e=P("style");return e.textContent="/* empty */",hd(Tf(t),e),e.sheet}function hd(t,e){return v(t.head||t,e),e.sheet}function O(t,e,n){t.insertBefore(e,n||null)}function M(t){t.parentNode&&t.parentNode.removeChild(t)}function ut(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function P(t){return document.createElement(t)}function Xi(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function G(t){return document.createTextNode(t)}function B(){return G(" ")}function Le(){return G("")}function ee(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function _d(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function E(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}const gd=["width","height"];function fe(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const o in e)e[o]==null?t.removeAttribute(o):o==="style"?t.style.cssText=e[o]:o==="__value"?t.value=t[o]=e[o]:n[o]&&n[o].set&&gd.indexOf(o)===-1?t[o]=e[o]:E(t,o,e[o])}function wi(t,e){for(const n in e)E(t,n,e[n])}function bd(t,e){Object.keys(e).forEach(n=>{vd(t,n,e[n])})}function vd(t,e,n){const o=e.toLowerCase();o in t?t[o]=typeof t[o]=="boolean"&&n===""?!0:n:e in t?t[e]=typeof t[e]=="boolean"&&n===""?!0:n:E(t,e,n)}function gn(t){return/-/.test(t)?bd:fe}function yd(t){return Array.from(t.childNodes)}function se(t,e){e=""+e,t.data!==e&&(t.data=e)}function ki(t,e){t.value=e??""}function tt(t,e,n,o){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,"")}function Rl(t,e,n){for(let o=0;o<t.options.length;o+=1){const i=t.options[o];if(i.__value===e){i.selected=!0;return}}t.selectedIndex=-1}function _t(t,e,n){t.classList.toggle(e,!!n)}function Af(t,e,{bubbles:n=!1,cancelable:o=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:o})}class Zt{constructor(e=!1){fn(this,"is_svg",!1);fn(this,"e");fn(this,"n");fn(this,"t");fn(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,n,o=null){this.e||(this.is_svg?this.e=Xi(n.nodeName):this.e=P(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(e)),this.i(o)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)O(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(M)}}const Ci=new Map;let Ti=0;function wd(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function kd(t,e){const n={stylesheet:pd(e),rules:{}};return Ci.set(t,n),n}function Ai(t,e,n,o,i,r,l,a=0){const s=16.666/o;let u=`{
`;for(let p=0;p<=1;p+=s){const w=e+(n-e)*r(p);u+=p*100+`%{${l(w,1-w)}}
`}const f=u+`100% {${l(n,1-n)}}
}`,c=`__svelte_${wd(f)}_${a}`,d=Tf(t),{stylesheet:m,rules:h}=Ci.get(d)||kd(d,t);h[c]||(h[c]=!0,m.insertRule(`@keyframes ${c} ${f}`,m.cssRules.length));const _=t.style.animation||"";return t.style.animation=`${_?`${_}, `:""}${c} ${o}ms linear ${i}ms 1 both`,Ti+=1,c}function Si(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?r=>r.indexOf(e)<0:r=>r.indexOf("__svelte")===-1),i=n.length-o.length;i&&(t.style.animation=o.join(", "),Ti-=i,Ti||Cd())}function Cd(){rl(()=>{Ti||(Ci.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&M(e)}),Ci.clear())})}let Go;function Fo(t){Go=t}function Jo(){if(!Go)throw new Error("Function called outside component initialization");return Go}function Zo(t){Jo().$$.on_mount.push(t)}function Sf(t){Jo().$$.on_destroy.push(t)}function Td(){const t=Jo();return(e,n,{cancelable:o=!1}={})=>{const i=t.$$.callbacks[e];if(i){const r=Af(e,n,{cancelable:o});return i.slice().forEach(l=>{l.call(t,r)}),!r.defaultPrevented}return!0}}function Ji(t,e){return Jo().$$.context.set(t,e),e}function Zi(t){return Jo().$$.context.get(t)}function re(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(o=>o.call(this,e))}const Yn=[],Ee=[];let Jn=[];const Mr=[],If=Promise.resolve();let Or=!1;function Mf(){Or||(Or=!0,If.then(Of))}function sl(){return Mf(),If}function it(t){Jn.push(t)}function Vt(t){Mr.push(t)}const ar=new Set;let Gn=0;function Of(){if(Gn!==0)return;const t=Go;do{try{for(;Gn<Yn.length;){const e=Yn[Gn];Gn++,Fo(e),Ad(e.$$)}}catch(e){throw Yn.length=0,Gn=0,e}for(Fo(null),Yn.length=0,Gn=0;Ee.length;)Ee.pop()();for(let e=0;e<Jn.length;e+=1){const n=Jn[e];ar.has(n)||(ar.add(n),n())}Jn.length=0}while(Yn.length);for(;Mr.length;)Mr.pop()();Or=!1,ar.clear(),Fo(t)}function Ad(t){if(t.fragment!==null){t.update(),xe(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(it)}}function Sd(t){const e=[],n=[];Jn.forEach(o=>t.indexOf(o)===-1?e.push(o):n.push(o)),n.forEach(o=>o()),Jn=e}let Co;function al(){return Co||(Co=Promise.resolve(),Co.then(()=>{Co=null})),Co}function On(t,e,n){t.dispatchEvent(Af(`${e?"intro":"outro"}${n}`))}const pi=new Set;let qt;function Me(){qt={r:0,c:[],p:qt}}function Oe(){qt.r||xe(qt.c),qt=qt.p}function k(t,e){t&&t.i&&(pi.delete(t),t.i(e))}function T(t,e,n,o){if(t&&t.o){if(pi.has(t))return;pi.add(t),qt.c.push(()=>{pi.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}else o&&o()}const ul={duration:0};function xt(t,e,n){const o={direction:"in"};let i=e(t,n,o),r=!1,l,a,s=0;function u(){l&&Si(t,l)}function f(){const{delay:d=0,duration:m=300,easing:h=Ki,tick:_=ye,css:p}=i||ul;p&&(l=Ai(t,0,1,m,d,h,p,s++)),_(0,1);const w=il()+d,y=w+m;a&&a.abort(),r=!0,it(()=>On(t,!0,"start")),a=ll(S=>{if(r){if(S>=y)return _(1,0),On(t,!0,"end"),u(),r=!1;if(S>=w){const R=h((S-w)/m);_(R,1-R)}}return r})}let c=!1;return{start(){c||(c=!0,Si(t),Ft(i)?(i=i(o),al().then(f)):f())},invalidate(){c=!1},end(){r&&(u(),r=!1)}}}function Yt(t,e,n){const o={direction:"out"};let i=e(t,n,o),r=!0,l;const a=qt;a.r+=1;let s;function u(){const{delay:f=0,duration:c=300,easing:d=Ki,tick:m=ye,css:h}=i||ul;h&&(l=Ai(t,1,0,c,f,d,h));const _=il()+f,p=_+c;it(()=>On(t,!1,"start")),"inert"in t&&(s=t.inert,t.inert=!0),ll(w=>{if(r){if(w>=p)return m(0,1),On(t,!1,"end"),--a.r||xe(a.c),!1;if(w>=_){const y=d((w-_)/c);m(1-y,y)}}return r})}return Ft(i)?al().then(()=>{i=i(o),u()}):u(),{end(f){f&&"inert"in t&&(t.inert=s),f&&i.tick&&i.tick(1,0),r&&(l&&Si(t,l),r=!1)}}}function bt(t,e,n,o){let r=e(t,n,{direction:"both"}),l=o?0:1,a=null,s=null,u=null,f;function c(){u&&Si(t,u)}function d(h,_){const p=h.b-l;return _*=Math.abs(p),{a:l,b:h.b,d:p,duration:_,start:h.start,end:h.start+_,group:h.group}}function m(h){const{delay:_=0,duration:p=300,easing:w=Ki,tick:y=ye,css:S}=r||ul,R={start:il()+_,b:h};h||(R.group=qt,qt.r+=1),"inert"in t&&(h?f!==void 0&&(t.inert=f):(f=t.inert,t.inert=!0)),a||s?s=R:(S&&(c(),u=Ai(t,l,h,p,_,w,S)),h&&y(0,1),a=d(R,p),it(()=>On(t,h,"start")),ll(q=>{if(s&&q>s.start&&(a=d(s,p),s=null,On(t,a.b,"start"),S&&(c(),u=Ai(t,l,a.b,a.duration,0,w,r.css))),a){if(q>=a.end)y(l=a.b,1-l),On(t,a.b,"end"),s||(a.b?c():--a.group.r||xe(a.group.c)),a=null;else if(q>=a.start){const j=q-a.start;l=a.a+a.d*w(j/a.duration),y(l,1-l)}}return!!(a||s)}))}return{run(h){Ft(r)?al().then(()=>{r=r({direction:h?"in":"out"}),m(h)}):m(h)},end(){c(),a=s=null}}}function Ue(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Id(t,e){T(t,1,1,()=>{e.delete(t.key)})}function Md(t,e,n,o,i,r,l,a,s,u,f,c){let d=t.length,m=r.length,h=d;const _={};for(;h--;)_[t[h].key]=h;const p=[],w=new Map,y=new Map,S=[];for(h=m;h--;){const $=c(i,r,h),L=n($);let I=l.get(L);I?S.push(()=>I.p($,e)):(I=u(L,$),I.c()),w.set(L,p[h]=I),L in _&&y.set(L,Math.abs(h-_[L]))}const R=new Set,q=new Set;function j($){k($,1),$.m(a,f),l.set($.key,$),f=$.first,m--}for(;d&&m;){const $=p[m-1],L=t[d-1],I=$.key,N=L.key;$===L?(f=$.first,d--,m--):w.has(N)?!l.has(I)||R.has(I)?j($):q.has(N)?d--:y.get(I)>y.get(N)?(q.add(I),j($)):(R.add(N),d--):(s(L,l),d--)}for(;d--;){const $=t[d];w.has($.key)||s($,l)}for(;m;)j(p[m-1]);return xe(S),p}function Ce(t,e){const n={},o={},i={$$scope:1};let r=t.length;for(;r--;){const l=t[r],a=e[r];if(a){for(const s in l)s in a||(o[s]=1);for(const s in a)i[s]||(n[s]=a[s],i[s]=1);t[r]=a}else for(const s in l)i[s]=1}for(const l in o)l in n||(n[l]=void 0);return n}function st(t){return typeof t=="object"&&t!==null?t:{}}function Ut(t,e,n){const o=t.$$.props[e];o!==void 0&&(t.$$.bound[o]=n,n(t.$$.ctx[o]))}function U(t){t&&t.c()}function x(t,e,n){const{fragment:o,after_update:i}=t.$$;o&&o.m(e,n),it(()=>{const r=t.$$.on_mount.map(vf).filter(Ft);t.$$.on_destroy?t.$$.on_destroy.push(...r):xe(r),t.$$.on_mount=[]}),i.forEach(it)}function Y(t,e){const n=t.$$;n.fragment!==null&&(Sd(n.after_update),xe(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Od(t,e){t.$$.dirty[0]===-1&&(Yn.push(t),Mf(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function me(t,e,n,o,i,r,l=null,a=[-1]){const s=Go;Fo(t);const u=t.$$={fragment:null,ctx:[],props:r,update:ye,not_equal:i,bound:$l(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(s?s.$$.context:[])),callbacks:$l(),dirty:a,skip_bound:!1,root:e.target||s.$$.root};l&&l(u.root);let f=!1;if(u.ctx=n?n(t,e.props||{},(c,d,...m)=>{const h=m.length?m[0]:d;return u.ctx&&i(u.ctx[c],u.ctx[c]=h)&&(!u.skip_bound&&u.bound[c]&&u.bound[c](h),f&&Od(t,c)),d}):[],u.update(),f=!0,xe(u.before_update),u.fragment=o?o(u.ctx):!1,e.target){if(e.hydrate){const c=yd(e.target);u.fragment&&u.fragment.l(c),c.forEach(M)}else u.fragment&&u.fragment.c();e.intro&&k(t.$$.fragment),x(t,e.target,e.anchor),Of()}Fo(s)}class pe{constructor(){fn(this,"$$");fn(this,"$$set")}$destroy(){Y(this,1),this.$destroy=ye}$on(e,n){if(!Ft(n))return ye;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const i=o.indexOf(n);i!==-1&&o.splice(i,1)}}$set(e){this.$$set&&!dd(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Pd="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Pd);const Wn=[];function Pn(t,e){return{subscribe:Ke(t,e).subscribe}}function Ke(t,e=ye){let n;const o=new Set;function i(a){if(ce(t,a)&&(t=a,n)){const s=!Wn.length;for(const u of o)u[1](),Wn.push(u,t);if(s){for(let u=0;u<Wn.length;u+=2)Wn[u][0](Wn[u+1]);Wn.length=0}}}function r(a){i(a(t))}function l(a,s=ye){const u=[a,s];return o.add(u),o.size===1&&(n=e(i,r)||ye),a(t),()=>{o.delete(u),o.size===0&&n&&(n(),n=null)}}return{set:i,update:r,subscribe:l}}function on(t,e,n){const o=!Array.isArray(t),i=o?[t]:t;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const r=e.length<2;return Pn(n,(l,a)=>{let s=!1;const u=[];let f=0,c=ye;const d=()=>{if(f)return;c();const h=e(o?u[0]:u,l,a);r?l(h):c=Ft(h)?h:ye},m=i.map((h,_)=>ol(h,p=>{u[_]=p,f&=~(1<<_),s&&d()},()=>{f|=1<<_}));return s=!0,d(),function(){xe(m),c(),s=!1}})}function Ll(t){return{subscribe:t.subscribe.bind(t)}}const Nd={plots:[],timeSpent:0,lastChangeDay:0,townLog:[],currentTutorialStep:0,gameSettings:[],resource_capacity:1e3,townInfo:{name:"Your town",gold:150,population_count:0,population_max:0,employees:0,guardians:0,happiness:150,health:150,recreation:0,community:150,knowledge_points:0,productivity:100},kingdom_expansions:0,resources:{food:150,wood:750,stone:750,metal:5,power:0,bureaucracy:0},resource_rate:{food:0,wood:0,stone:0,metal:0,bureaucracy:0,knowledge:0},hasCityHall:!1,hasBank:!1,hasHospital:!1,hasLab:!1,modifiers:{happiness:1,health:1,community:1},economyAndLaws:{tax_rate:.1,max_tax_rate:1,weeklyProfit:0,knowledge_gold_market_rates:[],enacted:[]},plotCounts:[],environment:{day:0,year:1},maximums:{health:300,happiness:300,community:300},difficulty:0,endGoal:"land",endGameDetails:{msg:"",win:!1,still_playing:!0},tick:0,overtime:!1,last_warning_happiness:0,last_warning_health:0,lab:{active_experiment:null,past_experiments:[],xp:0},liege_location:null},Ed={username:"",stats:{games_played:0,wins:0,losses:0},achievements:[]};var ot=(t=>(t[t.GOOD=0]="GOOD",t[t.BAD=1]="BAD",t[t.NORMAL=2]="NORMAL",t))(ot||{}),Pf=(t=>(t.START_GAME="start_game",t.BUILD_PLOT="build_plot",t))(Pf||{});const Nf={0:"Easy",1:"Normal",2:"Hard"},$d={0:Math.random()*(.5-.3)+.3,1:Math.random()*(.4-.2)+.2,2:Math.random()*(.4-.2)+.2},ie=[{id:"small_homes",emoji:"🏠",title:"Homes",type:"residential",description:"+16 people",revenue_per_week:0,requirements:{gold:150,plots:[],employees:0,knowledge:0,size:1,xp:0,resources:{food:0,wood:50,stone:10,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:16,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:2,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"Listen to the townspeople."},{id:"large_homes",emoji:"🏡",title:"Large Homes",type:"residential",description:"+32 people",revenue_per_week:0,requirements:{gold:1800,plots:[],employees:0,knowledge:0,size:1,xp:0,resources:{food:0,wood:350,stone:100,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.01,health:1,community:1},immediate_variable_changes:{happiness:10,health:0,population:32,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:40,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"Listen to the townspeople."},{id:"farm",emoji:"🥕",title:"Farm",type:"farm",description:"Produces veggies, grains, fruit",revenue_per_week:6,requirements:{gold:80,plots:[],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:10,stone:10,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.03,health:1.03,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:5,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},check_for_variety:!1,liege_on_plot_hint:"Your presence on the farm is encouraging the farmers to work harder!"},{id:"tree_farm",emoji:"🌲",title:"Tree Farm",type:"lumber",description:"Produces some wood",revenue_per_week:8,requirements:{gold:300,plots:[],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},check_for_variety:!0,styling:"",affordable:null,selected:null,knowledge_points_per_month:0,generated_resources:{food:0,wood:10,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"Your presence on the farm is encouraging the farmers to work harder!"},{id:"quarry",emoji:"⛏️",title:"Quarry",type:"quarry",description:"Produces stone, small amounts of metal. Isn't great for health. ",revenue_per_week:0,requirements:{gold:800,plots:[],employees:6,knowledge:0,size:1,xp:0,resources:{food:0,wood:50,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:.98,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:18,metal:1,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"The workers at the quarry are working harder with the presence of their liege."},{id:"Apothecary",emoji:"🌿",title:"Apothecary",type:"medical",description:"Produces medicine from herbs and plants found in the forest. Increases health overall for a short bit. Fine until you can build a Healing House.",revenue_per_week:0,requirements:{gold:600,plots:[],employees:2,knowledge:0,size:1,xp:0,resources:{food:0,wood:250,stone:250,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.01,health:1.06,community:1},immediate_variable_changes:{happiness:25,health:70,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"livestock_farm",emoji:"🐄",title:"Livestock",type:"farm",description:"Makes more money and food than a regular farm, but doesn't bonus from water.",revenue_per_week:60,requirements:{gold:600,plots:[],employees:8,knowledge:0,size:1,xp:0,resources:{food:0,wood:20,stone:20,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.1,health:1.05,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:14,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},check_for_variety:!1,liege_on_plot_hint:"The cows are producing more milk and cheese when you are hanging out on the farm."},{id:"stockpile",emoji:"📦",title:"Stockpile",type:"stockpile",description:"Enables you to store more resources. Costs gold weekly.",revenue_per_week:0,requirements:{gold:600,plots:[],employees:2,knowledge:0,size:1,xp:0,resources:{food:0,wood:220,stone:60,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:30,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},check_for_variety:!1,liege_on_plot_hint:null},{id:"adv_stockpile",emoji:"📦📦",title:"Adv. Stockpile",type:"stockpile",description:"Stores more than a normal Stockpile. Costs more to build & operate.",revenue_per_week:0,requirements:{gold:3e3,plots:[],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:2e3,stone:2e3,metal:200,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:100,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},check_for_variety:!1,liege_on_plot_hint:null},{id:"bakery",emoji:"🥖",title:"Bakery",type:"business",description:"Converts food into some extra cash. Make sure you have enough food.",revenue_per_week:80,requirements:{gold:1800,plots:[],employees:3,knowledge:0,size:1,xp:0,resources:{food:0,wood:300,stone:300,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.11,health:.95,community:1},immediate_variable_changes:{happiness:25,health:0,population:0,community:0,bureaucracy:0},check_for_variety:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:15},liege_on_plot_hint:null},{id:"stables",emoji:"🐴",title:"Stables",type:"recreation",description:"Improves the health of the town and provides recreation.",revenue_per_week:24,requirements:{gold:1700,plots:[],employees:2,knowledge:0,size:1,xp:0,resources:{food:0,wood:280,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.2,health:1.2,community:1},immediate_variable_changes:{happiness:5,health:10,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"church",emoji:"⛪️",title:"Church",type:"recreation",description:"Makes people VERY happy for a short period.",revenue_per_week:0,requirements:{gold:900,plots:[],employees:1,knowledge:0,size:1,xp:0,resources:{food:0,wood:1250,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:2,health:1,community:1.3},immediate_variable_changes:{happiness:25,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"pub",emoji:"🍻",title:"Pub",type:"recreation",description:"Generates knowledge, happiness, community. Isn't great for health.",revenue_per_week:100,knowledge_points_per_month:1,requirements:{gold:2e3,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:1200,stone:250,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.2,health:.97,community:1.1},immediate_variable_changes:{happiness:10,health:-15,population:0,community:0,bureaucracy:0},check_for_variety:!0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"village_market",emoji:"🛒",title:"Market",type:"shop",description:"Turns food into money. Sells goods and employs many. Makes significantly more money from tourism if you have a Village Inn.",revenue_per_week:150,requirements:{gold:3e3,plots:[],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:1600,stone:600,metal:5,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.05,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:35},liege_on_plot_hint:"Your presence is helping the market make more money."},{id:"fishery",emoji:"🐠",title:"Fishery",type:"business",description:"Requires metal but generates a lot of food. Must be near water.",revenue_per_week:35,requirements:{gold:3500,plots:[],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:2500,stone:0,metal:100,power:0,bureaucracy:0},adjacent_plots:["water"]},effect_modifiers:{happiness:1.05,health:1,community:1},immediate_variable_changes:{happiness:15,health:8,population:0,community:0,bureaucracy:0},check_for_variety:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:130,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"Your expertise in fishing is helping the town reel in far more fish!"},{id:"vineyard",emoji:"🍇",title:"Vineyard",type:"recreation",description:"Makes fair money, lowers health. Generates knowledge too similar to a pub.",revenue_per_week:60,requirements:{gold:1800,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:1200,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.2,health:.9,community:1},immediate_variable_changes:{happiness:0,health:-10,population:0,community:0,bureaucracy:0},knowledge_points_per_month:3,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"water_wheel",emoji:"💧",title:"Water Wheel",type:"industrial",description:"Produces small amount of power",revenue_per_week:0,requirements:{gold:1600,plots:[],employees:15,knowledge:0,size:1,xp:0,resources:{food:0,wood:2e3,stone:25,metal:0,power:0,bureaucracy:0},adjacent_plots:["water"]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:35,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"You are trying to improve the efficiency of the water wheel, but you aren't making a difference."},{id:"adv_water_wheel",emoji:"💧💧",title:"Adv. Water Wheel",type:"industrial",description:"Produces a large amount of power",revenue_per_week:0,requirements:{gold:3e3,plots:["blacksmith"],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:1200,stone:150,metal:500,power:0,bureaucracy:0},adjacent_plots:["water"]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:250,bureaucracy:0},level:4,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"You are trying to improve the efficiency of the water wheel, but you aren't making a difference."},{id:"adv_farm",emoji:"🌾",title:"Adv. Farm",type:"farm",description:"Uses knowledge and technology to produce more food, with only 1 employee.",revenue_per_week:60,requirements:{gold:750,plots:[],employees:1,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:300,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:15,health:15,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:180,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:100,wood:0,stone:0,metal:3,bureaucracy:0,food:0},check_for_variety:!1,liege_on_plot_hint:"Your presence on the farm is encouraging the farmer to work harder!"},{id:"park",emoji:"🎪",title:"Park",type:"recreation",description:"Makes people extremely happy & healthy for a period. Improves community.",revenue_per_week:0,requirements:{gold:600,plots:[],employees:3,knowledge:0,size:1,xp:0,resources:{food:0,wood:100,stone:100,metal:10,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.5,health:1.5,community:1.3},immediate_variable_changes:{happiness:40,health:40,population:0,community:40,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"village_inn",emoji:"🛌",title:"Village Inn",type:"tourism",description:"Each inn brings more visitors to your town, increasing profits for the Market and other stores.",revenue_per_week:40,requirements:{gold:5500,plots:[],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:3e3,stone:100,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1.02},immediate_variable_changes:{happiness:10,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:20,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"schoolhouse",emoji:"🏫",title:"Schoolhouse",type:"education",description:"Produces knowledge, costs money to run.",revenue_per_week:0,knowledge_points_per_month:75,requirements:{gold:15e3,plots:["lumber_mill"],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:3e3,stone:600,metal:100,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.1,health:1.1,community:1.2},immediate_variable_changes:{happiness:15,health:3,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:50,power:20,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"The children seem to be learning worse when you are around, maybe you are a distraction from the teachers."},{id:"blacksmith",emoji:"⚒️",title:"Blacksmith",type:"business",description:"Converts metal into tools for money. Make sure you have enough metal!",revenue_per_week:300,requirements:{gold:12500,plots:[],employees:24,knowledge:0,size:1,xp:0,resources:{food:0,wood:250,stone:4e3,metal:500,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:.95},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:30,wood:0,stone:0,metal:5,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"library",emoji:"📕",title:"Library",type:"recreation",description:"Produces knowledge and happiness",revenue_per_week:0,knowledge_points_per_month:10,requirements:{gold:2e3,plots:["lumber_mill"],employees:6,knowledge:0,size:1,xp:0,resources:{food:0,wood:2025,stone:500,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.3,health:1,community:1.1},immediate_variable_changes:{happiness:15,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"lumber_mill",emoji:"🏭",title:"Lumber Mill",type:"industrial",description:"Increases wood production by 50%, has to be next to a tree farm, but increases production at all.",revenue_per_week:0,requirements:{gold:12e3,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:100,stone:100,metal:300,power:0,bureaucracy:0},adjacent_plots:["tree_farm"]},effect_modifiers:{happiness:1.2,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:50,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:40,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"solar_farm",emoji:"☀️",title:"Solar farm",type:"industrial",description:"Produces a lot of power without the need of water. Requires a lot of metal every week.",revenue_per_week:0,requirements:{gold:3e4,plots:["blacksmith","library"],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:500,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:750,bureaucracy:0},level:4,active_costs:{gold:0,power:0,wood:0,stone:0,metal:25,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"general_store",emoji:"🛒",title:"General Store",type:"shop",description:"Makes the most money of any plot, requires power. Makes significantly more from tourism if you have a Village Inn.",revenue_per_week:750,requirements:{gold:27500,plots:[],employees:32,knowledge:0,size:1,xp:0,resources:{food:0,wood:3e4,stone:5e3,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:2,health:2,community:1.1},immediate_variable_changes:{happiness:50,health:50,population:0,community:50,bureaucracy:0},check_for_variety:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:160,wood:0,stone:0,metal:0,bureaucracy:0,food:100},liege_on_plot_hint:"Your experience managing towns is increasing the profits at the general store!"},{id:"healing_house",emoji:"🏥",title:"Healing House",type:"medical",description:"Treats the sick and continuously improves health.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:3e4,plots:["mine"],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:1e3,stone:2e3,metal:500,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.25,health:1.5,community:1.1},immediate_variable_changes:{happiness:5,health:75,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:30,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"community_center",emoji:"🫶",title:"Community Center",type:"recreation",description:"Improves community, makes people happier, costs money",revenue_per_week:0,requirements:{gold:16e3,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:7500,stone:700,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.09,health:1,community:2},immediate_variable_changes:{happiness:50,health:15,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:10,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"city_hall",emoji:"🗳️",title:"City Hall",type:"federal",description:"Generates bureaucracy that can be used to pass laws to impact the city and expand. Costs a LOT of gold every week.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:125e3,plots:[],employees:32,knowledge:1e4,size:1,xp:0,resources:{food:0,wood:3250,stone:2e3,metal:200,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1.3},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:10},level:5,active_costs:{gold:600,power:20,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"mine",emoji:"⛏️",title:"Mine",type:"mine",description:"Produces a significant amount of metal and stone.",revenue_per_week:0,requirements:{gold:3e4,plots:["blacksmith"],employees:48,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:110,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:.95,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:10,metal:60,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:80,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"academy",emoji:"🏫",title:"Academy",type:"education",description:"Produces a lot of knowledge, more than a schoolhouse or library. But freakishly expensive.",revenue_per_week:0,knowledge_points_per_month:400,requirements:{gold:99e3,plots:["lumber_mill","schoolhouse"],employees:24,knowledge:3e3,size:1,xp:0,resources:{food:0,wood:3e3,stone:1600,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:5,active_costs:{gold:300,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"bank",emoji:"🏦",title:"Bank",type:"bank",description:"Enables the conversion of knowledge to gold, and increases maximum tax rate so you can make more money.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:1e5,plots:["academy"],employees:32,knowledge:25e3,size:1,xp:0,resources:{food:0,wood:1e3,stone:1e4,metal:1e3,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:.8,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:5,active_costs:{gold:0,power:100,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"lab",emoji:"🧪",title:"Laboratory",type:"science",description:"Designs things to help the city grow",revenue_per_week:0,knowledge_points_per_month:300,requirements:{gold:1e5,plots:["academy"],employees:48,knowledge:15e3,size:1,xp:0,resources:{food:0,wood:0,stone:1e4,metal:5e3,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:.98,health:.99,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:5,active_costs:{gold:0,power:700,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null}],To={empty_unusable:"rgba(255,255,255,0.50)",empty_buildable:"rgba(239,234,90,1.0)",residential:"rgba(222,118,51,1.0)",farm:"rgba(107,143,73,1.0)",lumber:"rgba(145,116,44,1.0)",business:"rgba(146,115,165,1.0)",recreation:"rgba(82,119,177,1.0)",shop:"rgba(82,119,177,1.0)",tourism:"rgba(216,150,216,1.0)",education:"rgba(153,151,223,1.0)",medical:"rgba(74,91,163,1.0)",bank:"rgba(132,119,190,1.0)",federal:"rgba(132,119,190,1.0)",science:"rgba(74,91,163,1.0)",mine:"rgba(217,135,74,1.0)",quarry:"rgba(134,134,133,1.0)",industrial:"rgba(134,134,21,1.0)",stockpile:"rgba(134,134,133,1.0)"};function Pr(t,e=!1,n=22){if(t<0)return t==-1?e?To.empty_buildable:To.empty_unusable:t==-2?To.recreation:To.empty_unusable;const o=ie[t];return Ld(To[o.type],n)}const Rd={lab:1,city_hall:1,bank:1,community_center:1,inn:1},Ld=(t,e=20)=>{const n=(l,a,s)=>{l/=255,a/=255,s/=255;const u=Math.max(l,a,s),f=Math.min(l,a,s);let c=0,d=0,m=(u+f)/2;if(u!==f){const h=u-f;switch(d=m>.5?h/(2-u-f):h/(u+f),u){case l:c=(a-s)/h+(a<s?6:0);break;case a:c=(s-l)/h+2;break;case s:c=(l-a)/h+4;break}c/=6}return[c*360,d,m]},o=(l,a,s,u)=>{const f=Math.min(1,s+u/100);return`hsl(${l}, ${(a*100).toFixed(1)}%, ${(f*100).toFixed(1)}%)`},i=l=>{const a=l.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)/);return a?[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]:null};let r=null;if(t.startsWith("#")){const l=t.replace("#",""),a=parseInt(l,16);r=[a>>16&255,a>>8&255,a&255]}else(t.startsWith("rgba")||t.startsWith("rgb"))&&(r=i(t));if(r){const[l,a,s]=n(r[0],r[1],r[2]);return o(l,a,s,e)}throw new Error("Invalid color format")};function Ef(t){var e,n,o="";if(typeof t=="string"||typeof t=="number")o+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Ef(t[e]))&&(o&&(o+=" "),o+=n)}else for(n in t)t[n]&&(o&&(o+=" "),o+=n);return o}function Dd(){for(var t,e,n=0,o="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Ef(t))&&(o&&(o+=" "),o+=e);return o}const fl="-";function Fd(t){const e=qd(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:o}=t;function i(l){const a=l.split(fl);return a[0]===""&&a.length!==1&&a.shift(),$f(a,e)||jd(l)}function r(l,a){const s=n[l]||[];return a&&o[l]?[...s,...o[l]]:s}return{getClassGroupId:i,getConflictingClassGroupIds:r}}function $f(t,e){var l;if(t.length===0)return e.classGroupId;const n=t[0],o=e.nextPart.get(n),i=o?$f(t.slice(1),o):void 0;if(i)return i;if(e.validators.length===0)return;const r=t.join(fl);return(l=e.validators.find(({validator:a})=>a(r)))==null?void 0:l.classGroupId}const Dl=/^\[(.+)\]$/;function jd(t){if(Dl.test(t)){const e=Dl.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function qd(t){const{theme:e,prefix:n}=t,o={nextPart:new Map,validators:[]};return Hd(Object.entries(t.classGroups),n).forEach(([r,l])=>{Nr(l,o,r,e)}),o}function Nr(t,e,n,o){t.forEach(i=>{if(typeof i=="string"){const r=i===""?e:Fl(e,i);r.classGroupId=n;return}if(typeof i=="function"){if(Bd(i)){Nr(i(o),e,n,o);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([r,l])=>{Nr(l,Fl(e,r),n,o)})})}function Fl(t,e){let n=t;return e.split(fl).forEach(o=>{n.nextPart.has(o)||n.nextPart.set(o,{nextPart:new Map,validators:[]}),n=n.nextPart.get(o)}),n}function Bd(t){return t.isThemeGetter}function Hd(t,e){return e?t.map(([n,o])=>{const i=o.map(r=>typeof r=="string"?e+r:typeof r=="object"?Object.fromEntries(Object.entries(r).map(([l,a])=>[e+l,a])):r);return[n,i]}):t}function Gd(t){if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,o=new Map;function i(r,l){n.set(r,l),e++,e>t&&(e=0,o=n,n=new Map)}return{get(r){let l=n.get(r);if(l!==void 0)return l;if((l=o.get(r))!==void 0)return i(r,l),l},set(r,l){n.has(r)?n.set(r,l):i(r,l)}}}const Rf="!";function Wd(t){const e=t.separator,n=e.length===1,o=e[0],i=e.length;return function(l){const a=[];let s=0,u=0,f;for(let _=0;_<l.length;_++){let p=l[_];if(s===0){if(p===o&&(n||l.slice(_,_+i)===e)){a.push(l.slice(u,_)),u=_+i;continue}if(p==="/"){f=_;continue}}p==="["?s++:p==="]"&&s--}const c=a.length===0?l:l.substring(u),d=c.startsWith(Rf),m=d?c.substring(1):c,h=f&&f>u?f-u:void 0;return{modifiers:a,hasImportantModifier:d,baseClassName:m,maybePostfixModifierPosition:h}}}function Vd(t){if(t.length<=1)return t;const e=[];let n=[];return t.forEach(o=>{o[0]==="["?(e.push(...n.sort(),o),n=[]):n.push(o)}),e.push(...n.sort()),e}function xd(t){return{cache:Gd(t.cacheSize),splitModifiers:Wd(t),...Fd(t)}}const Yd=/\s+/;function Ud(t,e){const{splitModifiers:n,getClassGroupId:o,getConflictingClassGroupIds:i}=e,r=new Set;return t.trim().split(Yd).map(l=>{const{modifiers:a,hasImportantModifier:s,baseClassName:u,maybePostfixModifierPosition:f}=n(l);let c=o(f?u.substring(0,f):u),d=!!f;if(!c){if(!f)return{isTailwindClass:!1,originalClassName:l};if(c=o(u),!c)return{isTailwindClass:!1,originalClassName:l};d=!1}const m=Vd(a).join(":");return{isTailwindClass:!0,modifierId:s?m+Rf:m,classGroupId:c,originalClassName:l,hasPostfixModifier:d}}).reverse().filter(l=>{if(!l.isTailwindClass)return!0;const{modifierId:a,classGroupId:s,hasPostfixModifier:u}=l,f=a+s;return r.has(f)?!1:(r.add(f),i(s,u).forEach(c=>r.add(a+c)),!0)}).reverse().map(l=>l.originalClassName).join(" ")}function Kd(){let t=0,e,n,o="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Lf(e))&&(o&&(o+=" "),o+=n);return o}function Lf(t){if(typeof t=="string")return t;let e,n="";for(let o=0;o<t.length;o++)t[o]&&(e=Lf(t[o]))&&(n&&(n+=" "),n+=e);return n}function Er(t,...e){let n,o,i,r=l;function l(s){const u=e.reduce((f,c)=>c(f),t());return n=xd(u),o=n.cache.get,i=n.cache.set,r=a,a(s)}function a(s){const u=o(s);if(u)return u;const f=Ud(s,n);return i(s,f),f}return function(){return r(Kd.apply(null,arguments))}}function et(t){const e=n=>n[t]||[];return e.isThemeGetter=!0,e}const Df=/^\[(?:([a-z-]+):)?(.+)\]$/i,Xd=/^\d+\/\d+$/,Jd=new Set(["px","full","screen"]),Zd=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Qd=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,zd=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,em=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,tm=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function Xt(t){return In(t)||Jd.has(t)||Xd.test(t)}function cn(t){return po(t,"length",um)}function In(t){return!!t&&!Number.isNaN(Number(t))}function oi(t){return po(t,"number",In)}function Ao(t){return!!t&&Number.isInteger(Number(t))}function nm(t){return t.endsWith("%")&&In(t.slice(0,-1))}function Ve(t){return Df.test(t)}function dn(t){return Zd.test(t)}const om=new Set(["length","size","percentage"]);function im(t){return po(t,om,Ff)}function rm(t){return po(t,"position",Ff)}const lm=new Set(["image","url"]);function sm(t){return po(t,lm,cm)}function am(t){return po(t,"",fm)}function So(){return!0}function po(t,e,n){const o=Df.exec(t);return o?o[1]?typeof e=="string"?o[1]===e:e.has(o[1]):n(o[2]):!1}function um(t){return Qd.test(t)&&!zd.test(t)}function Ff(){return!1}function fm(t){return em.test(t)}function cm(t){return tm.test(t)}function $r(){const t=et("colors"),e=et("spacing"),n=et("blur"),o=et("brightness"),i=et("borderColor"),r=et("borderRadius"),l=et("borderSpacing"),a=et("borderWidth"),s=et("contrast"),u=et("grayscale"),f=et("hueRotate"),c=et("invert"),d=et("gap"),m=et("gradientColorStops"),h=et("gradientColorStopPositions"),_=et("inset"),p=et("margin"),w=et("opacity"),y=et("padding"),S=et("saturate"),R=et("scale"),q=et("sepia"),j=et("skew"),$=et("space"),L=et("translate"),I=()=>["auto","contain","none"],N=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto",Ve,e],g=()=>[Ve,e],C=()=>["",Xt,cn],D=()=>["auto",In,Ve],W=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],F=()=>["solid","dashed","dotted","double","none"],V=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"],K=()=>["start","end","center","between","around","evenly","stretch"],Z=()=>["","0",Ve],te=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>[In,oi],ne=()=>[In,Ve];return{cacheSize:500,separator:":",theme:{colors:[So],spacing:[Xt,cn],blur:["none","",dn,Ve],brightness:z(),borderColor:[t],borderRadius:["none","","full",dn,Ve],borderSpacing:g(),borderWidth:C(),contrast:z(),grayscale:Z(),hueRotate:ne(),invert:Z(),gap:g(),gradientColorStops:[t],gradientColorStopPositions:[nm,cn],inset:A(),margin:A(),opacity:z(),padding:g(),saturate:z(),scale:z(),sepia:Z(),skew:ne(),space:g(),translate:g()},classGroups:{aspect:[{aspect:["auto","square","video",Ve]}],container:["container"],columns:[{columns:[dn]}],"break-after":[{"break-after":te()}],"break-before":[{"break-before":te()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...W(),Ve]}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ao,Ve]}],basis:[{basis:A()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ve]}],grow:[{grow:Z()}],shrink:[{shrink:Z()}],order:[{order:["first","last","none",Ao,Ve]}],"grid-cols":[{"grid-cols":[So]}],"col-start-end":[{col:["auto",{span:["full",Ao,Ve]},Ve]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[So]}],"row-start-end":[{row:["auto",{span:[Ao,Ve]},Ve]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ve]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ve]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal",...K()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...K(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...K(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[p]}],mx:[{mx:[p]}],my:[{my:[p]}],ms:[{ms:[p]}],me:[{me:[p]}],mt:[{mt:[p]}],mr:[{mr:[p]}],mb:[{mb:[p]}],ml:[{ml:[p]}],"space-x":[{"space-x":[$]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[$]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ve,e]}],"min-w":[{"min-w":[Ve,e,"min","max","fit"]}],"max-w":[{"max-w":[Ve,e,"none","full","min","max","fit","prose",{screen:[dn]},dn]}],h:[{h:[Ve,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ve,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ve,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ve,e,"auto","min","max","fit"]}],"font-size":[{text:["base",dn,cn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",oi]}],"font-family":[{font:[So]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ve]}],"line-clamp":[{"line-clamp":["none",In,oi]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Xt,Ve]}],"list-image":[{"list-image":["none",Ve]}],"list-style-type":[{list:["none","disc","decimal",Ve]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...F(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Xt,cn]}],"underline-offset":[{"underline-offset":["auto",Xt,Ve]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:g()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ve]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ve]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...W(),rm]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",im]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},sm]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[h]}],"gradient-via-pos":[{via:[h]}],"gradient-to-pos":[{to:[h]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[r]}],"rounded-s":[{"rounded-s":[r]}],"rounded-e":[{"rounded-e":[r]}],"rounded-t":[{"rounded-t":[r]}],"rounded-r":[{"rounded-r":[r]}],"rounded-b":[{"rounded-b":[r]}],"rounded-l":[{"rounded-l":[r]}],"rounded-ss":[{"rounded-ss":[r]}],"rounded-se":[{"rounded-se":[r]}],"rounded-ee":[{"rounded-ee":[r]}],"rounded-es":[{"rounded-es":[r]}],"rounded-tl":[{"rounded-tl":[r]}],"rounded-tr":[{"rounded-tr":[r]}],"rounded-br":[{"rounded-br":[r]}],"rounded-bl":[{"rounded-bl":[r]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...F(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:F()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...F()]}],"outline-offset":[{"outline-offset":[Xt,Ve]}],"outline-w":[{outline:[Xt,cn]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:C()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[Xt,cn]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",dn,am]}],"shadow-color":[{shadow:[So]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":V()}],"bg-blend":[{"bg-blend":V()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[o]}],contrast:[{contrast:[s]}],"drop-shadow":[{"drop-shadow":["","none",dn,Ve]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[c]}],saturate:[{saturate:[S]}],sepia:[{sepia:[q]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[o]}],"backdrop-contrast":[{"backdrop-contrast":[s]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[c]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[q]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ve]}],duration:[{duration:ne()}],ease:[{ease:["linear","in","out","in-out",Ve]}],delay:[{delay:ne()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ve]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[R]}],"scale-x":[{"scale-x":[R]}],"scale-y":[{"scale-y":[R]}],rotate:[{rotate:[Ao,Ve]}],"translate-x":[{"translate-x":[L]}],"translate-y":[{"translate-y":[L]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ve]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ve]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":g()}],"scroll-mx":[{"scroll-mx":g()}],"scroll-my":[{"scroll-my":g()}],"scroll-ms":[{"scroll-ms":g()}],"scroll-me":[{"scroll-me":g()}],"scroll-mt":[{"scroll-mt":g()}],"scroll-mr":[{"scroll-mr":g()}],"scroll-mb":[{"scroll-mb":g()}],"scroll-ml":[{"scroll-ml":g()}],"scroll-p":[{"scroll-p":g()}],"scroll-px":[{"scroll-px":g()}],"scroll-py":[{"scroll-py":g()}],"scroll-ps":[{"scroll-ps":g()}],"scroll-pe":[{"scroll-pe":g()}],"scroll-pt":[{"scroll-pt":g()}],"scroll-pr":[{"scroll-pr":g()}],"scroll-pb":[{"scroll-pb":g()}],"scroll-pl":[{"scroll-pl":g()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ve]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Xt,cn,oi]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}function dm(t,{cacheSize:e,prefix:n,separator:o,extend:i={},override:r={}}){hi(t,"cacheSize",e),hi(t,"prefix",n),hi(t,"separator",o);for(const l in r)mm(t[l],r[l]);for(const l in i)pm(t[l],i[l]);return t}function hi(t,e,n){n!==void 0&&(t[e]=n)}function mm(t,e){if(e)for(const n in e)hi(t,n,e[n])}function pm(t,e){if(e)for(const n in e){const o=e[n];o!==void 0&&(t[n]=(t[n]||[]).concat(o))}}function hm(t,...e){return typeof t=="function"?Er($r,t,...e):Er(()=>dm($r(),t),...e)}const jf=Er($r);function qf(t){const e=t-1;return e*e*e+1}function Ge(...t){return jf(Dd(t))}function _m(t,e,n){const r={...{townName:t.townInfo.name,population:t.townInfo.population_count,gold:t.townInfo.gold,day:t.environment.day*t.environment.year,tick:t.tick},...n};gtag("event",e,r)}const ho=(t,e={y:-8,x:0,start:.95,duration:150})=>{const n=getComputedStyle(t),o=n.transform==="none"?"":n.transform,i=(l,a,s)=>{const[u,f]=a,[c,d]=s;return(l-u)/(f-u)*(d-c)+c},r=l=>Object.keys(l).reduce((a,s)=>l[s]===void 0?a:a+`${s}:${l[s]};`,"");return{duration:e.duration??200,delay:0,css:l=>{const a=i(l,[0,1],[e.y??5,0]),s=i(l,[0,1],[e.x??0,0]),u=i(l,[0,1],[e.start??.95,1]);return r({transform:`${o} translate3d(${s}px, ${a}px, 0) scale(${u})`,opacity:l})},easing:qf}};function Nt(t,e){if(e===void 0&&(e=0),t==null||t==null)return 0;t=parseFloat((t*Math.pow(10,e)).toFixed(11));var n=Math.round(t)/Math.pow(10,e);return+n.toFixed(e)}function ur(t){return t<10?"0"+t:t}function gm(t){let e=Math.floor(t/1e3),n=Math.floor(e/60);e=e%60;let o=Math.floor(n/60);return n=n%60,`${ur(o)}:${ur(n)}:${ur(e)}`}function Ae(t){return ie.findIndex(e=>e.id===t)}function jl(t){return ie.find(e=>e.id===t)}function bn(t,e=!0){let n=t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,");return e||(n=n.split(".")[0]),n}function eo(t){return t.charAt(0).toUpperCase()+t.slice(1)}function ql(t,e=!0){return t=Nt(t/(e?3:1),2),t<0?`${t}`:`+${t}`}function to(t,e,n,o=!1){if(t<0||t>=n.plots.length||e<0||e>=n.plots[0].length)return!1;let i=[[t-1,e],[t+1,e],[t,e-1],[t,e+1],[t-1,e-1],[t-1,e+1],[t+1,e-1],[t+1,e+1]];for(let r=0;r<i.length;r++){let l=i[r][0],a=i[r][1];if(l>=0&&l<n.plots.length&&a>=0&&a<n.plots[0].length&&n.plots[l][a].water&&(o||n.plots[t][e].active==!0&&n.plots[t][e].type>0&&ie[n.plots[t][e].type].id=="farm"))return!0}return!1}function bm(t,e=0){let n=t*.95,o=t*1.05;return Nt(Math.random()*(o-n)+n,e)}function Wo(t,e,n){let o={x:t,y:e};return o.x===0&&o.y===0?!0:[{x:o.x-1,y:o.y},{x:o.x+1,y:o.y},{x:o.x,y:o.y-1},{x:o.x,y:o.y+1}].some(r=>r.x<0||r.x>=n.plots.length||r.y<0||r.y>=n.plots[r.x].length?!1:n.plots[r.x][r.y].active)}const At="plots_active_game_db",no="plots_user_db";function vm(){const t=["York","London","Paris","Madrid","Rome","Berlin","Vienna","Prague","Warsaw","Oslo","Lisbon","Dublin","Brussels","Amsterdam","Stockholm","Copenhagen","Edinburgh","Moscow","Beijing","Tokyo","Seoul","Bangkok","Delhi","Mumbai","Shanghai","Sydney","Melbourne","Cairo","Dubai","Istanbul","Athens","Budapest","Reykjavik","Helsinki","Tallinn","Riga","Vilnius","Sofia","Bucharest","Belgrade","Zagreb","Sarajevo","Ljubljana","Skopje","Tirana","Podgorica","Thessaloniki","Barcelona","Valencia","Seville","Granada","Malaga","Lyon","Marseille","Toulouse","Nice","Nantes","Strasbourg","Bordeaux","Lille","Venice","Milan","Florence","Naples","Turin","Bologna","Perugia","Genoa","Pisa","Verona","Palermo","Catania","Bari","Padua","Cagliari","Krakow","Gdansk","Poznan","Wroclaw","Lodz","Katowice","Bialystok","Gdynia","Sopot","Bydgoszcz","Lublin","Szczecin","Gorzow","Zakopane","Olsztyn","Torun","Rzeszow","Kielce","Radom","Siedlce","Los","Angeles","Chicago","Houston","Phoenix","San","Antonio","San","Diego","Dallas","San","Jose","Austin","Jacksonville","Fort","Worth","Columbus","Charlotte","Liverpool","Manchester","Glasgow","Birmingham","Leeds","Sheffield","Newcastle","upon","Tyne","Bristol","Nottingham","Leicester","Coventry","Belfast","Reading","Cardiff","Southampton","Aberdeen","Plymouth","Stoke","Trent","Wolverhampton","Swansea","Sunderland","Portsmouth","Yorkshire","Hull","Blackpool","Bradford","Derby","Middlesbrough","Peterborough","Stockton","on","Tees","Brighton","Poole","Bournemouth","Huddersfield","Luton","Oxford","Norwich","Oldham","Cambridge","Exeter","Walsall","Colchester","Watford","Rotherham","Newport","Gateshead","Dundee","Gloucester","Solihull","High","Wycombe","Maidstone","Slough","Basildon","Chelmsford","Salford","Bedford","Stevenage","Woking","Grimsby","Birkenhead","Halifax","Warrington","Gillingham","Wigan","Worcester","Wakefield","Lincoln","Chester","Rochdale","Dagenham","Widnes","St","Albans","Mansfield","Sutton","Coldfield","Crawley","Wokingham","Barnsley","St","Helens","Harrogate","Redditch","Scunthorpe","Nuneaton","Chesterfield","Hemel","Hempstead","Bury","Guildford","Ashford","Telford","Newcastle","under","Lyme","Aylesbury","Halesowen","Shrewsbury","Lowestoft","Loughborough","Cheltenham","Kidderminster","Basingstoke","Rugby","Stourbridge","Southport","Kettering","Royal","Leamington","Spa","Beeston","Farnborough","Wrexham","Banbury","Weymouth","Wallsend","Dartford","Grays","Tamworth","Ashford","Esher","Folkestone","Tonbridge","Taunton","Runcorn","Macclesfield","Keighley","Bridgend","Barnstaple","Letchworth","Garden","City","Worthing","Gosport","Eastleigh","Staines","upon","Thames","Lisburn","Livingston","Bognor","Regis","Scarborough","Cannock","Margate","Chippenham","Rhondda","Maidenhead","Wellingborough","Washington","Camberley","Bootle","Lancaster","Llanelli","Chatham","Cheshunt","Bishop","Auckland","Nelson","Belper","Pontefract","Barry","Braintree","Crosby","Bury","St","Edmunds","Bexhill","Margate","Aldershot","Rowley","Regis","Hoddesdon","Sittingbourne","Rugby","Newquay","Falmouth","Stretford","Camberley","Beverley","Windsor","Rochester","Wickford","Diss","Farnham","Andover","Camberwell","Bermondsey","Lewisham","Wembley","Hayes","Harrow","Ilford","Enfield","Twickenham","Richmond","Brentwood","Edgware","Ealing","Greenwich","Bromley","Hounslow","Romford","Hillingdon","Uxbridge","Wandsworth","Sutton","Kingston","upon","Thames","Bexley","Havering","Barking"],e=["ia","ville","ton","land","field","burgh","ford","wood","port","bay","beach","peak","valley","ridge","hill","dale","island","cape","spring","grove","polis","side","view","shore","haven","place","gardens","plaza","square"],n=["New","Old","North","South","East","West","Upper","Lower","Little","Great","Saint","Fort","Mount","Lake","River","The Village of","The City of","The Town of","The Borough of","The County of","The State of","The Kingdom of","The Empire of","The Republic of","The Commonwealth of","The Union of","The Federation of","Rainy","Sunny","Windy","Frosty","Snowy"];function o(s){return s[Math.floor(Math.random()*s.length)]}let i=o(n),r=o(t),l=o(e),a="";return Math.random()>.5?a=i+" "+r+l:a=r+l,a}let $e=Ke(JSON.parse(localStorage.getItem(At)||"null")),hn=Ke(JSON.parse(localStorage.getItem(no)||"null"));wm();function ym(t,e,n,o){localStorage.removeItem(At),$e.set(null);let i={...Nd};i.gameSettings=o,i.economyAndLaws.max_tax_rate=$d[t],i.endGoal=e;let r=[];n=n.replace(/[^a-zA-Z0-9 ]/g,"").trim(),i.townInfo.name=n!=""?n:vm(),i.difficulty=parseInt(t),JSON.parse(localStorage.getItem(no)||"null").username=="dev"&&o.push("devMode"),o.includes("devMode")&&(i.townInfo.gold=1e8,i.townInfo.happiness=1e7,i.townInfo.health=1e6,i.townInfo.knowledge_points=1e5,i.modifiers.happiness=1e4,i.modifiers.health=1e4,i.resources.food=1e6,i.resources.wood=1e6,i.resources.stone=1e6,i.resources.metal=1e6);const a=12,s=Math.floor(Math.random()*a/2)+1,u=Math.floor(Math.random()*a/2)+1;for(let f=0;f<a;f++){r.push([]);for(let c=0;c<a;c++){const d=f==s&&c==u?!1:Rr(f,c,a);r[f][c]={id:Math.random().toString(36).substring(2,9),active:!1,x:f,y:c,type:d?-9:-1,typeId:"",mineralSource:d?!1:s===f&&u===c,water:s===f&&u===c?!1:d}}}i.plots=r,localStorage.setItem(At,JSON.stringify(i)),$e.set(i),localStorage.reset=!1,_m(i,Pf.START_GAME,{difficulty:t,end_goal:e,settings:o.join(",")}),location.reload()}function Rr(t,e,n){let o=.08;return t>0&&e>0&&t<n-1&&e<n-1&&(o*=2),(e==Math.round(n/2)||e==Math.round(n/2)-1)&&(o*=3),t==0&&e==0&&(o=0),Math.random()<o}function wm(){if(localStorage.getItem(no)===null){let t=Ed;t.username="my_username_click_to_change",localStorage.setItem(no,JSON.stringify(t)),hn.set(t)}}function oo(t,e,n){let o=n.plots[t][e].type;if(n.plots[t][e].type=-1,n.plots[t][e].typeId="",n.plots[t][e].active=!1,o>-1&&(n.townInfo.population_count-=ie[o].immediate_variable_changes.population,n.townInfo.population_max-=ie[o].immediate_variable_changes.population,n.townInfo.employees-=ie[o].requirements.employees,(n.plotCounts[o]===void 0||n.plotCounts[o]===null)&&(n.plotCounts[o]=0),n.plotCounts[o]--,(ie[o].requirements.size??1)>1))for(let r=0;r<n.plots.length;r++)for(let l=0;l<n.plots[t].length;l++)n.plots[r][l].referencePlot!=null&&n.plots[r][l].referencePlot[0]===t&&n.plots[r][l].referencePlot[1]===e&&oo(r,l,n);n.lastChangeDay=n.environment.day,$e.set(n),localStorage.setItem(At,JSON.stringify(n))}function Be(t,e){let n=[];for(let o=0;o<e.plots.length;o++)for(let i=0;i<e.plots[o].length;i++)e.plots[o][i].active==!1||e.plots[o][i]==null||e.plots[o][i].type===null||e.plots[o][i].type<0||(ie[e.plots[o][i].type].id===t||ie[e.plots[o][i].type].type===t)&&n.push(e.plots[o][i]);return n}function Un(t,e,n){return n.liege_location!=null&&n.liege_location[0]===t&&n.liege_location[1]===e}function km(t,e){const n=t.plots.length,o=n>0?t.plots[0].length:0,i=e=="east"?5:0,r=e=="south"?5:0,l=Math.round(Math.pow(1.7,t.kingdom_expansions+5));if(t.townInfo.guardians<l)return`You need ${l-t.townInfo.guardians} more Guardians to expand the kingdom. See the City mgmt menu.`;for(let a=0;a<n;a++)for(let s=o;s<o+i;s++)t.plots[a].push({id:Math.random().toString(36).substring(2,9),active:!1,x:a,y:s,type:-1,typeId:"",mineralSource:!1,water:Rr(a,s,n+r),disabled:!1,referencePlot:null});for(let a=n;a<n+r;a++){const s=[];for(let u=0;u<o+i;u++)s.push({id:Math.random().toString(36).substring(2,9),active:!1,x:a,y:u,type:-1,typeId:"",mineralSource:!1,water:Rr(a,u,n+r)});t.plots.push(s)}t.kingdom_expansions++,$e.set(t)}function Lr(t=null){localStorage.removeItem(At),$e.set(null),t&&(localStorage.setItem(At,JSON.stringify(t)),$e.set(t))}function Bl(t,e,n){n.liege_location=[t,e],lo.set(!1),document.querySelectorAll(".plot_container").forEach(i=>{i.style.cursor=""}),$e.set(n)}let Qe=Ke({visible:!1,x:0,y:0,isMineralSource:!1}),jo=Ke({visible:!1});function Cm(t){hn.set(t),localStorage.setItem(no,JSON.stringify(t))}let io=Ke({}),qo=Ke(!1),Et=Ke(!1),_i=Ke(!0),Ii=Ke(!1),ro=Ke(!1),Mi=Ke(!1),Zn=Ke(!1),lo=Ke(!1),so=Ke(!1),Ct=Ke(""),Hl=localStorage.getItem("showCompletedAchievements")==="true"?Ke(!0):Ke(!1);localStorage.getItem("showOnlyAffordable")==="true"?Ke(!0):Ke(!1);let Tm=localStorage.getItem("pauseMenuTab")==="game"?Ke("game"):Ke("achievements"),No=Ke(750),Bt=Ke({visible:!1,plotName:"",location:"",missingResources:[],plotCost:0,x:0,y:0});const Rt={unemployment_num:" people can't find jobs.",bored:"People are bored. Try making some new buildings.",vairety:"People don't like going to the same places over and over again. Try making some new buildings.",nobody_home:"Build some homes!",leave_town_num:" people left town because they were unhappy.",new_people_num:" new people moved to town.",people_want_to_move_in:"People want to move in. Build more homes.",high_tax_rate:"People are unhappy with the high tax rate.",very_high_tax_rate:"People are extremely unhappy with the high tax rate.",sickAndDying:"People are sick and dying.",sickAndLeaving:"People are sick and leaving town.",happiness_zero:"The town has fallen into chaos due to extreme unhappiness.",health_zero:"The town has fallen into chaos due to extreme sickness.",population_zero:"The town has been condemned due to lack of population.",win:{land:"You have filled the grid with buildings. You win!"},hospital_advantage:"Because you have a hospital, the town is staying healthier for longer!",notEnoughVariety:"People are sick of going to the same places over and over, add some variety!"},mt=[{id:"happiness_at_300",title:"Happy Town",description:"One of your towns wins Happiest Town Award!",requirements:"Happiness reaches 300",icon:"😍",check:t=>t.townInfo.happiness>=300,prize:1e3},{id:"get_educated",title:"Get Educated",description:"The kids are finally able to learn!",requirements:"Build a school or library",icon:"📌",check:t=>Be("small_school",t).length!==0||Be("large_school",t).length!==0||Be("library",t).length!==0,prize:1850},{id:"10k",title:"$10,000",description:"",requirements:"Gold reaches $10,000",icon:"﹩",check:t=>t.townInfo.gold>=1e4,prize:2500},{id:"25k",title:"$25,000",description:"",requirements:"Gold reaches $25,000",icon:"💵",check:t=>t.townInfo.gold>=25e3,prize:7500},{id:"stayin_frugal",title:"Stayin' Frugal!",description:"",requirements:"Gold under $50 with >=300 population",icon:"🚲",check:t=>t.townInfo.gold<=50&&t.townInfo.population_count>=300,prize:1e4},{id:"profits_to_the_moon",title:"Profits to the moon!",description:"Now you're making dough!",requirements:"Last month profit is over $10,000",icon:"🌛",check:t=>t.economyAndLaws.weeklyProfit>=1e4,prize:15e3},{id:"happily_dying",title:"Happily Dying!",description:"Not something to be proud of...",requirements:"Happiness > 275, health < 25",icon:"🌛",check:t=>t.townInfo.happiness>275&&t.townInfo.health<25,prize:2e4},{id:"long_game",title:"The Long Game",description:"So are you gonna win anytime soon?",requirements:"Still playing after 10,000 days, without winning. ",icon:"🐌",check:t=>t.endGameDetails.win===!1&&t.environment.day>1e4&&t.endGameDetails.msg==="",prize:25e3},{id:"tax_man",title:"Tax man",description:"Set the tax rate to the absolute max that the town will tolerate.",requirements:"",icon:"🙃",check:t=>{let e=Math.floor(t.economyAndLaws.max_tax_rate*20)/20;return t.economyAndLaws.tax_rate===e},prize:1500},{id:"good_job",title:"Good job",description:"Beat 'Fill the grid' with Normal difficulty in under 3,000 days.",requirements:"",icon:"👍",check:t=>t.endGameDetails.win===!0&&t.environment.day<=3e3&&t.difficulty===1&&t.endGoal==="land",prize:1e4},{id:"great_job",title:"Great job",description:"Beat 'Fill the grid' with Normal difficulty in under 2,000 days.",requirements:"",icon:"👏",check:t=>t.endGameDetails.win===!0&&t.environment.day<=2e3&&t.difficulty===1&&t.endGoal==="land",prize:45e3},{id:"superb_job",title:"SUPERB job",description:"Beat 'Fill the grid' with Normal difficulty in under 500 days.",requirements:"",icon:"👌",check:t=>t.endGameDetails.win===!0&&t.environment.day<=500&&t.difficulty===1&&t.endGoal==="land",prize:1e5},{id:"250k",title:"$250,000",description:"",requirements:"Gold reaches $250,000",icon:"💸",check:t=>t.townInfo.gold>=25e4,prize:5e4},{id:"banker",title:"Banker",description:"",requirements:"Build your first bank. ",icon:"🏦",check:t=>Be("bank",t).length!==0,prize:5e3},{id:"community",title:"Community Center",description:"",requirements:"Build your first community center. ",icon:"❤️",check:t=>Be("community_center",t).length!==0,prize:1e4},{id:"1m",title:"MILLIONAIRE!",description:"",requirements:"Gold reaches $1,000,000",icon:"💰",check:t=>t.townInfo.gold>=1e6,prize:15e4},{id:"pub_knowledge",title:"Street smartz",description:"You get 250 knowledge without building a school or library.",requirements:"Knowledge >= 250 without building a school or library",icon:"🤓",check:t=>Be("small_school",t).length===0&&Be("large_school",t).length===0&&Be("library",t).length===0&&t.townInfo.knowledge_points>=250,prize:5e4}],Bo=[{message:"Build homes to start growing our village",isComplete:t=>t.townInfo.population_max>0,goldReward:750},{message:"Start producing food and wood to keep the town running",isComplete:t=>Be("farm",t).length>=1&&Be("tree_farm",t).length>=1,goldReward:500},{message:"We need stone and metals. Build a quarry",isComplete:t=>Be("quarry",t).length>0,goldReward:700},{message:"Weekly revenue >= 200 gold",isComplete:t=>t.economyAndLaws.weeklyProfit>=200,goldReward:3e3},{message:"Grow our population to 100.",isComplete:t=>t.townInfo.population_count>=100,goldReward:8e3},{message:"Start generating power. Build a water wheel or solar farm",isComplete:t=>t.resources.power>0,goldReward:1e4},{message:"Knowledge >= 250",isComplete:t=>t.townInfo.knowledge_points>=250,goldReward:5e3},{message:"Population >= 200",isComplete:t=>t.townInfo.population_count>=200,goldReward:2e4},{message:"Build a mine to boost our metal supply",isComplete:t=>Be("mine",t).length>0,goldReward:2e4},{message:"Establish a City Hall to advance our town",isComplete:t=>Be("city_hall",t).length>0,goldReward:5e4}];let Io=function(t){return t.gameSettings.includes("casual")?3:1};const Dr=[{id:"organic_farming",description:"Organic Farming. Make townspeople healthier and happier, while decreasing overall food production.",cost:150,weekly_effect:t=>(t.modifiers.happiness*=1.01,t.modifiers.health*=1.01,t.resources.food-=2*Io(t)*Be("farm",t).length,t)},{id:"tax_free",description:"Tax-Free Month. For 1 month, the town loses all revenue from taxes, but happiness and health increase quite a lot. Automatically ends after 4 weeks.",cost:250,weekly_effect:t=>(localStorage.getItem("tax_free")===null?(localStorage.setItem("tax_free","0"),t.economyAndLaws.weeklyProfit=-1*t.economyAndLaws.weeklyProfit):localStorage.setItem("tax_free",(parseInt(localStorage.getItem("tax_free"))+1).toString()),parseInt(localStorage.getItem("tax_free"))>=4?(t.modifiers.happiness*=1,t.modifiers.health*=1,localStorage.removeItem("tax_free"),t.economyAndLaws.enacted=t.economyAndLaws.enacted.filter(e=>e!=="tax_free")):(t.modifiers.happiness*=1.02,t.modifiers.health*=1.01),t)},{id:"healthy_mining",description:"Healthy mining. Miners must mine with proper ventilation, but they move like molasses.",cost:250,weekly_effect:t=>(ie.find(e=>e.id==="mine"),t.modifiers.health*=1.1,t.resources.stone-=5*Io(t)*Be("quarry",t).length,t.resources.stone-=7*Io(t)*Be("mine",t).length,t.resources.metal-=15*Io(t)*Be("mine",t).length,t)},{id:"complicated_tax_forms",description:"Complicated Tax Forms. You sneak in a clause to charge 5% more in taxes. Now, if you adjust your tax rate 5% higher, they won't be upset. This can be enacted multiple times to stack.",cost:500,weekly_effect:t=>(t.economyAndLaws.max_tax_rate+=.05,t.economyAndLaws.enacted=t.economyAndLaws.enacted.filter(e=>e!=="complicated_tax_forms"),t)},{id:"legalize_it",description:"Legalize it. You legalize a substance that makes people happy, but it also gives them 'the munchies'. Food consumption and happiness go up.",cost:350,weekly_effect:t=>(t.resources.food-=Math.round(.2*Io(t)*t.townInfo.population_count),t.modifiers.happiness*=1.1,t)},{id:"park_upgrade",description:"Park upgrade. You hold a community forum and add the top 5 things that the people want in their parks. This increases happiness for each park.",cost:350,weekly_effect:t=>(t.townInfo.happiness+=2*Be("park",t).length,t)},{id:"career_politician",description:"Career Politician. You hire a career politician to help you with your town. They cost the town $100 per week, but they earn bureaucracy points faster.",cost:200,weekly_effect:t=>(t.townInfo.gold-=100,t.resources.bureaucracy+=25,t)},{id:"the_big_wood_deal",description:"The Big Wood Deal. This law allows you to sell all of the wood in your town for $5/wood at once. This won't make the town happy, but may be necessary in a pinch. Can be enacted multiple times to sell to other buyers.",cost:500,weekly_effect:t=>(t.townInfo.gold+=5*t.resources.wood,t.resources.wood=0,t.resource_rate.wood=0,t.townInfo.happiness*=.95,t.economyAndLaws.enacted=t.economyAndLaws.enacted.filter(e=>e!=="the_big_wood_deal"),t)},{id:"picky_eating_liege",description:"Picky Eater Liege. There is some food that the town makes that you just really hate. By passing this law, you insist that they sell off that gross food for $1/food every week. You won't make as much food, but you won't have to eat it either.",cost:200,weekly_effect:t=>{const e=Be("farm",t).length*2,n=Math.floor(Math.random()*(.15*e-.05*e)+.05*e);return t.resources.food-=n,t.townInfo.gold+=n,t.townInfo.happiness=.95*t.townInfo.happiness,t}},{id:"stone_statue",description:"Stone Statue. You insist that we use ALL of our stone to build a massive statue. We lose all of our stone, but for some reason, the town has perfect health for a while, I guess.",cost:1e3,weekly_effect:t=>(t.resources.stone=0,t.modifiers.health=5,t)},{id:"out_of_town",description:"TODO: Out of town. Everyone needs a vacation, right? When this is enacted, EVERYONE must leave the town for 10 days. During this time, no resources are produced, no taxes are collected, and you must take a break from the game.",cost:1e3,weekly_effect:t=>t}],Gl=30;function Am(t){return t=Pm(t),t=t,t}function Sm(t){const e=[()=>t.townInfo.happiness<100?"I heard that the town is unhappy. We miss our churches and parks...":"",()=>t.townInfo.health<100?"My kids keep getting sick, probably not enough farms around here!":"",()=>t.townInfo.happiness<50?"I'm thinking of moving out if things don't improve soon!":"",()=>t.townInfo.employees<t.townInfo.population_count?"I am unemployed and I hate it here":"",()=>t.townInfo.knowledge_points<100?"I wish we had more schools!":"",()=>t.economyAndLaws.tax_rate>t.economyAndLaws.max_tax_rate?"I wish the taxes were lower, I could use a break!":"",()=>t.townInfo.productivity>100?"I think we should take a day or two to just be chill, we've been working hard!":"",()=>t.economyAndLaws.tax_rate<t.economyAndLaws.max_tax_rate?"We would probably be ok chipping in more gold for village improvements.":""],n=Math.floor(Math.random()*e.length);return e[n]()}function Im(t,e,n){return t.resource_rate.food=ct(n.food-e.food,2),t.resource_rate.wood=ct(n.wood-e.wood,2),t.resource_rate.stone=ct(n.stone-e.stone,2),t.resource_rate.metal=ct(n.metal-e.metal,2),t.resource_rate.bureaucracy=ct(n.bureaucracy-e.bureaucracy,2),t}function Mm(t){return t.hasBank,t}function Om(t){let e=t.economyAndLaws.knowledge_gold_market_rates[t.economyAndLaws.knowledge_gold_market_rates.length-1]||1;const n=-100,o=8,i=3;let r=Math.random(),l=Math.random()*i;if(r<.4){let a=Math.random()*o;Math.random()<.5?e+=a:e-=a}else Math.random()>.5?e+=l:e-=l;return e<n&&(e+=Math.random()*l/5),e=Math.round(e),t.economyAndLaws.knowledge_gold_market_rates=[...t.economyAndLaws.knowledge_gold_market_rates,e],t}function Pm(t){if(t.townInfo.population_count<t.townInfo.population_max&&t.townInfo.happiness>50){let e=t.townInfo.population_max-t.townInfo.population_count,n=Math.round(t.townInfo.happiness/100*e);t.townInfo.population_count+=n,t.townInfo.population_count>t.townInfo.population_max&&(t.townInfo.population_count=t.townInfo.population_max),t.townInfo.employees+=n,t.townInfo.employees>t.townInfo.population_count&&(t.townInfo.employees=t.townInfo.population_count)}if(t.townInfo.happiness<50&&t.townInfo.population_count>0){let e=Math.round((150-t.townInfo.happiness)/5);t.townInfo.population_count-=e,t.townInfo.employees>0&&(t.townInfo.employees-=e)}else t.townInfo.population_count==t.townInfo.population_max;return t}function Fr(t){return t.lab.active_experiment==null||t.lab.active_experiment.duration>0&&(t.lab.active_experiment.duration-=1),t}function jr(t){t.townInfo.happiness<0&&(t.townInfo.happiness=0),t.townInfo.health<0&&(t.townInfo.health=0),t.townInfo.community<0&&(t.townInfo.community=0),t.townInfo.gold<0&&(t.townInfo.gold=0),t.townInfo.employees<0&&(t.townInfo.employees=0),t.townInfo.knowledge_points<0&&(t.townInfo.knowledge_points=0),t.townInfo.population_count<0&&(t.townInfo.population_count=0),t.economyAndLaws.weeklyProfit=ct(t.economyAndLaws.weeklyProfit,0),t.townInfo.employees>t.townInfo.population_count&&(t.townInfo.employees=t.townInfo.population_count),t.townInfo.gold=ct(t.townInfo.gold,0),t.townInfo.population_count=ct(t.townInfo.population_count,0),t.townInfo.employees=ct(t.townInfo.employees,0),t.townInfo.population_max=ct(t.townInfo.population_max,0),t.townInfo.happiness=ct(t.townInfo.happiness,2),t.townInfo.health=ct(t.townInfo.health,2),t.townInfo.knowledge_points=ct(t.townInfo.knowledge_points,0),t.townInfo.happiness>t.maximums.happiness&&(t.townInfo.happiness=t.maximums.happiness),t.townInfo.health>t.maximums.health&&(t.townInfo.health=t.maximums.health),t.townInfo.community>300&&(t.townInfo.community=300),t.modifiers.happiness<.5&&(t.modifiers.happiness=.5),t.modifiers.health<.5&&(t.modifiers.health=.5),t.modifiers.community<.5&&(t.modifiers.community=.5),t.modifiers.happiness>2&&(t.modifiers.happiness=2),t.modifiers.health>2&&(t.modifiers.health=2),t.modifiers.community>2&&(t.modifiers.community=2);for(let e=0;e<t.plots.length;e++)for(let n=0;n<t.plots[e].length;n++)t.plots[e][n].active==!1&&t.plots[e][n].disabled==!0&&(t.plots[e][n].disabled=!1);return t}function qr(t){if(t.townInfo.happiness>150){let n=t.townInfo.happiness-150;t.townInfo.happiness-=n*.08,t.townInfo.happiness<150&&(t.townInfo.happiness=150)}if(t.townInfo.health>150){let n=t.townInfo.health-150;t.townInfo.health-=n*.08,t.townInfo.health<150&&(t.townInfo.health=150)}if(t.townInfo.community>150){let n=t.townInfo.community-150;t.townInfo.community-=n*.08,t.townInfo.community<150&&(t.townInfo.community=150)}return t}function Nm(t){return t.townInfo.happiness*=t.modifiers.happiness,t.townInfo.health*=t.modifiers.health,t.townInfo.community*=t.modifiers.community,t}function ft(t,e,n){let o=e.townLog||[];return o.filter(i=>i.message==t).length>0||o.unshift({message:t,day:e.environment.day,vibe:n}),e}function ct(t,e){e===void 0&&(e=0);let n=Math.pow(10,e);return t=parseFloat((t*n).toFixed(11)),+(Math.round(t)/n).toFixed(e)}function Em(t,e,n){let o,i,r,l,a,s;le(t,No,b=>n(7,o=b)),le(t,qo,b=>n(8,i=b)),le(t,Mi,b=>n(9,r=b)),le(t,Et,b=>n(10,l=b)),le(t,hn,b=>n(11,a=b)),le(t,Bt,b=>n(12,s=b)),le(t,$e,b=>n(13,b));function u(b){b=z(b),b=te(b),b=h(b),b=Om(b),b=ne(b),b=S(b);const Q={food:b.resources.food,wood:b.resources.wood,stone:b.resources.stone,metal:b.resources.metal,bureaucracy:b.resources.bureaucracy,power:b.resources.power};b=N(b),b=Z(b),b=g(b),b=C(b),b=oe(b),b=I(b);const X={food:b.resources.food,wood:b.resources.wood,stone:b.resources.stone,metal:b.resources.metal,bureaucracy:b.resources.bureaucracy,power:b.resources.power};return b.environment.day%14===0&&(b=Nm(b)),b=Im(b,Q,X),b}function f(b){return b=Mm(b),b=y(b),b=we(b),b=qr(b),b=K(b),b=$(b),b=_(b),b}function c(b){return b=ke(b),b=jr(b),b=Fr(b),b=L(b),b=j(b),b=m(b),b=p(b),b.overtime==!1&&(b=V(b),b=b),b=F(b),b=D(b),b=w(b),b}function d(){$e.update(b=>{if(b==null||(b.tick++,b.tick%Gl!==0))return b;if(s.visible||l||!b||b.endGameDetails.msg!==""&&b.overtime==!1||b.townInfo.population_count<=0)return console.info("The game is over, or paused. Not running the game loop."),b;console.log(s.visible);try{return b.environment.day+=1,b.environment.day%7===0&&(b=u(b)),b.environment.day%30===0&&(b=f(b)),b.environment.day%90===0&&(b=Am(b)),window.location.search.includes("debug=true")&&console.log(b),b=c(b),b}catch(Q){return window.location.hostname==="localhost"&&alert("Error in game loop: "+Q),console.error("Error in game loop:",Q),b}})}$e.subscribe(b=>{b&&localStorage.setItem(At,JSON.stringify(b))}),hn.subscribe(b=>{b&&localStorage.setItem(no,JSON.stringify(b))});function m(b){let Q=b.townInfo.population_count-b.townInfo.employees,X=`${Q} people can't find jobs!`;return b.townLog=b.townLog.filter(ue=>!ue.message.includes("people can't find jobs")),Q>0&&(b=ft(X,b,ot.BAD)),b}function h(b){let Q=!1,X=!1,ue=!1,Te=!1;for(let de=0;de<b.plots.length;de++)for(let Pe=0;Pe<b.plots[de].length;Pe++)if(b.plots[de][Pe].active==!0&&b.plots[de][Pe].type>-1){let qe=ie[b.plots[de][Pe].type].id;qe=="bank"&&(Q=!0),qe=="city_hall"&&(ue=!0),(qe=="small_hospital"||qe=="large_hospital")&&(X=!0),qe=="lab"&&(Te=!0)}return b.hasBank=Q,b.hasHospital=X,b.hasCityHall=ue,b.hasLab=Te,b}function _(b){let Q=0,X=0;for(let ue=0;ue<b.plots.length;ue++)for(let Te=0;Te<b.plots[ue].length;Te++)if(b.plots[ue][Te].active==!0&&b.plots[ue][Te].type>-1){let de=ie[b.plots[ue][Te].type].type;X++,(de=="recreation"||de=="shop")&&Q++}return b.townInfo.recreation=Q,X>40&&(Q/X<.2?(b.modifiers.happiness*.95,b=ft("The city is growing and citizens are demanding more recreation, look for plots with 🛝 icons.",b,ot.BAD)):(b.modifiers.happiness*1.01,b=ft("The city is growing and citizens are happy with the amount of recreation available.",b,ot.GOOD))),b}function p(b){let Q=0;for(let X=0;X<b.plots.length;X++)for(let ue=0;ue<b.plots[X].length;ue++)if(b.plots[X][ue].active==!0&&b.plots[X][ue].type>-1){let de=ie[b.plots[X][ue].type].requirements.employees;Q+=de}return Q!=b.townInfo.employees&&(Q>b.townInfo.population_max,b.townInfo.employees=Q),b}function w(b){for(let Q=0;Q<b.plots.length;Q++)for(let X=0;X<b.plots[Q].length;X++)b.plots[Q][X].active==!0&&(b.plots[Q][X].type=Ae(b.plots[Q][X].typeId));return b}function y(b){const Q=b.townInfo.productivity;let X=1;if(Q>50&&Q<100)X=1.05;else{if(Q==100)return b;Q<50?X=1.3:Q>100&&Q<125?X=.95:Q>125&&Q<150?X=.9:Q>150&&Q<175?X=.85:Q>175&&Q<200&&(X=.75)}const ue=b.townInfo.happiness;return b.townInfo.happiness*=X,X>1?b=ft(`Happiness has gone up by ${Math.round(b.townInfo.happiness/ue*100)}% due to productivity.`,b,ot.GOOD):b=ft(`Happiness has gone down by ${100-Math.round(b.townInfo.happiness/ue*100)}% due to productivity.`,b,ot.BAD),b}function S(b){return b.endGameDetails!=null||(b.townInfo.happiness<70&&b.last_warning_happiness+365<b.environment.day&&(Ct.set("Your citizens are very unhappy. You should do something about it."),b.last_warning_happiness=b.environment.day),b.townInfo.health<70&&b.last_warning_health+365<b.environment.day&&(Ct.set("Your citizens are very unhealthy. You should do something about it."),b.last_warning_health=b.environment.day)),b}const R=["Abigail","Elijah","Mabel","Silas","Beatrice","Clarence","Dorothy","Edgar","Florence","George","Harriet","Isaac","Josephine","Levi","Matilda","Nathaniel","Olive","Percy","Quincy","Rose","Samuel","Theodore","Ursula","Vincent","Winifred","Xavier","Yvette","Zachary","Amos","Betsy","Cecil","Delia","Emmett","Fanny","Gideon","Hazel","Irving","Jeannette","Karl","Lucinda","Mortimer","Nettie","Otis","Prudence","Rufus","Sophronia","Titus","Ulysses","Vera","Winston","Xenia","Yolanda","Zeke","Ada","Bernard","Cornelia","Duncan","Esther","Fletcher","Genevieve"],q=["Farmer","Blacksmith","Biscuit Sculptor","Baker","Carpenter","Chicken Whisperer","Fisher","Herbalist","Miner","Mason","Mustache Twirler","Brewer","Butcher","Candlemaker","Cloud Watcher","Dressmaker","Gardener","Hunter","Innkeeper","Jeweler","Locksmith","Miller","Painter","Potter","Quilter","Rancher","Saddler","Tanner","Upholsterer","Vintner","Watchmaker","Wheelwright","Wooly Sock Knitter","Yarn Spinner","Zodiac Interpreter","Archivist","Bookbinder","Cobbler","Dyer","Engraver","Fletcher","Glassblower","Haberdasher","Illuminator","Joiner","Knitter","Lace Maker","Mapmaker","Navigator","Orchardist","Potion Tester","Quarryman","Roofer","Soapmaker","Tobacconist","Undertaker","Victualler","Wainwright","Xylographer","Yeoman","Pumpkin Carver","Mud Pie Maker","Folk Tale Teller","Leaf Collector","Sunset Chaser","Dream Interpreter","Star Gazer"];function j(b){if(b.gameSettings.includes("bagOfHolding"))return b.resource_capacity=972024,b;let Q=Be("stockpile",b).length,X=Be("adv_stockpile",b).length,ue=1e3+Q*2e3+X*12e3;return b.resource_capacity=ue,Object.keys(b.resources).forEach(Te=>{b.resources[Te]>ue&&(b.resources[Te]=ue)}),b}function $(b){for(let Q=0;Q<b.plots.length;Q++)for(let X=0;X<b.plots[Q].length;X++)if(Un(Q,X,b)&&b.plots[Q][X].active==!0&&ie[b.plots[Q][X].type].type=="residential"&&Math.random()<.99){let ue=`👑🏠 ${R[Math.floor(Math.random()*R.length)]} the ${q[Math.floor(Math.random()*q.length)]}: `,Te=Sm(b);ue+=Te,Te!=""&&(b=ft(ue,b,ot.NORMAL))}return b}function L(b){let Q=0;for(let X=0;X<b.plots.length;X++)for(let ue=0;ue<b.plots[X].length;ue++)if(b.plots[X][ue].active==!0&&b.plots[X][ue].type>-1){let Te=ie[b.plots[X][ue].type].type;(Te=="recreation"||Te=="shop")&&Q++}return b.townInfo.recreation=Q,b}function I(b){const Q=b.townInfo.population_count;return b.resources.food<Q?(b.modifiers.happiness*=.95,b.modifiers.health*=.95,b=ft("There isn't enough food for everyone!",b,ot.BAD),b.resources.food=0):(b.townLog=b.townLog.filter(ue=>!ue.message.includes("There isn't enough food for everyone!")),b.resources.food-=Q),b.resources.food=Math.round(b.resources.food),b}function N(b){const Q=b.townInfo.productivity;let X=1;Q<50?X=.5:Q>50&&Q<100?X=.75:Q==100?X=1:Q>100&&Q<125?X=1.25:Q>125&&Q<150?X=1.75:Q>150&&Q<175?X=3:Q>175&&Q<200&&(X=5);const ue=b.gameSettings.includes("casual")?2.2:1;X*=ue,X=bm(X,2);let Te=Be("lumber_mill",b).length*1.5;Te===0&&(Te=1);for(let de=0;de<b.plots.length;de++)for(let Pe=0;Pe<b.plots[de].length;Pe++)if(b.plots[de][Pe].active==!0&&b.plots[de][Pe].type>-1&&b.plots[de][Pe].disabled==!1){let qe=to(de,Pe,b),He=Un(de,Pe,b)?2:1,De=ie[b.plots[de][Pe].type];De.generated_resources!=null&&(b.resources.food+=Math.round(De.generated_resources.food*X)*(qe?2:1)*He,b.resources.wood+=Math.round(De.generated_resources.wood*X*Te)*He,b.resources.stone+=Math.round(De.generated_resources.stone*X)*He,b.resources.metal+=Math.round(De.generated_resources.metal*X)*He,b.resources.bureaucracy+=Math.round(De.generated_resources.bureaucracy*X)*He)}return b.resources.food=Math.round(b.resources.food),b.resources.wood=Math.round(b.resources.wood),b.resources.stone=Math.round(b.resources.stone),b.resources.metal=Math.round(b.resources.metal),b.resources.bureaucracy=Math.round(b.resources.bureaucracy),b}var A;(function(b){b.food="food",b.wood="wood",b.stone="stone",b.metal="metal",b.bureaucracy="bureaucracy"})(A||(A={}));function g(b){for(let Q=0;Q<b.plots.length;Q++)for(let X=0;X<b.plots[Q].length;X++)if(b.plots[Q][X].active&&b.plots[Q][X].type>-1&&!b.plots[Q][X].disabled){let ue=ie[b.plots[Q][X].type],Te=!1,de=[];const Pe=b.plots[Q][X].snoozedUntil&&b.environment.day<=(b.plots[Q][X].snoozedUntil||0);Object.keys(ue.active_costs).forEach((qe,He)=>{const De=Object.values(ue.active_costs)[He];qe!="power"&&(qe=="gold"?b.townInfo.gold<De?(Te=!0,de.push(`💰${De-b.townInfo.gold} gold`)):Pe||(b.townInfo.gold-=De):b.resources[qe]<De?(Te=!0,de.push(`${De-b.resources[qe]} ${qe}`)):Pe||(b.resources[qe]-=De))}),Te&&!Pe&&(Bt.set({visible:!0,plotName:ue.title,location:`at (${X}, ${Q})`,missingResources:de,plotCost:ue.requirements.gold,x:Q,y:X}),b.plots[Q][X].disabled=!0),b.plots[Q][X].disabled=!Pe&&Te}else b.plots[Q][X].active||(b.plots[Q][X].disabled=!1);return b}function C(b){let Q=0;for(let X=0;X<b.plots.length;X++)for(let ue=0;ue<b.plots[X].length;ue++)if(b.plots[X][ue].active==!0&&b.plots[X][ue].type>-1){let Te=ie[b.plots[X][ue].type];Te.active_costs.power!=0&&(Q-=Te.active_costs.power),Te.generated_resources.power!=0&&(Q+=Te.generated_resources.power)}return b.resources.power=Q,b.resources.power<0&&(b.modifiers.happiness*.98,b.townInfo.happiness-=5,b=ft("🔋 POWER SHORTAGE. HAPPINESS DROPPING THROUGH BLACKOUTS.",b,ot.BAD)),b}function D(b){if(b.gameSettings.includes("devMode"))return b;let Q=a;for(let X=0;X<mt.length;X++)Q.achievements.find(ue=>ue[0]==mt[X].id)==null&&mt[X].check(b)&&(Q.achievements.push([mt[X].id,b.environment.day,b.townInfo.name]),Se(Et,l=!0,l),Se(Mi,r=!0,r));return hn.update(()=>Q),b}let W=!1;function F(b){if(W||b.currentTutorialStep>=Bo.length)return b;for(let Q=b.currentTutorialStep;Q<b.currentTutorialStep+1;Q++)if(Bo[Q].isComplete(b)){Se(qo,i=!0,i),W=!0,b.townInfo.gold+=Bo[Q].goldReward,setTimeout(()=>{Se(qo,i=!1,i),b.currentTutorialStep++,W=!1},3e3);break}return b}function V(b){return b.gameSettings.includes("tomPetty")&&(b.townInfo.happiness<=3||b.townInfo.health<=3)?(b.townInfo.happiness=300,b.modifiers.happiness=1,b.townInfo.health=300,b.modifiers.health=1,b.townInfo.gold=ct(b.townInfo.gold*.1,0),alert("Since you are playing in Tom Petty mode, you have been given another chance. All it took was 90% of your gold. Good luck!"),b):(b.townInfo.happiness<=3&&(b.townInfo.happiness=0,b.endGameDetails={msg:Rt.happiness_zero,win:!1,still_playing:!1}),b.townInfo.health<=3&&(b.townInfo.health=3,b.endGameDetails={msg:Rt.health_zero,win:!1,still_playing:!1}),b.townInfo.population_count<=0&&b.townInfo.population_max>0&&(b.townInfo.population_count=0,b.endGameDetails={msg:Rt.population_zero,win:!1,still_playing:!1}),b)}function K(b){let Q=b.townInfo.population_count-b.townInfo.employees;if(b.gameSettings.includes("casual")&&Math.random()<.75)return b;if(Q>0){let X=Q*.2;X>10&&(X=10),b.townInfo.happiness-=X,b=ft(Q+Rt.unemployment_num,b,ot.BAD)}else b.townLog=b.townLog.filter(X=>!X.message.includes(Rt.unemployment_num));return b}function Z(b){for(let Q=0;Q<b.economyAndLaws.enacted.length;Q++){let X=Dr.find(ue=>ue.id==b.economyAndLaws.enacted[Q]);X!=null&&X.weekly_effect!=null&&(b=X.weekly_effect(b))}return b}function te(b){let Q=b.townInfo.health,X=0;return Q>50||Q<Math.random()*50&&(Q<25?(b=ft(Rt.sickAndDying,b,ot.BAD),b.townInfo.happiness-=10,X=Math.round(b.townInfo.population_count*.1)):(b=ft(Rt.sickAndLeaving,b,ot.BAD),b.townInfo.happiness-=5,X=Math.round(b.townInfo.population_count*.05)),b.townInfo.population_count-=X,b.townInfo.employees-=X),b}function z(b){const Q=Math.random();if(b.economyAndLaws.tax_rate>b.economyAndLaws.max_tax_rate&&b.townInfo.population_count>0){let X=1;b.hasBank&&(X=2);const ue=b.difficulty==0?.7:b.difficulty==1?.4:.2;Q<ue&&b.economyAndLaws.tax_rate>b.economyAndLaws.max_tax_rate*2*X?(b.modifiers.happiness-=.02,b=ft(Rt.very_high_tax_rate+"  ("+b.economyAndLaws.tax_rate+"%)",b,ot.BAD)):(b.modifiers.happiness-=.01,b=ft(Rt.high_tax_rate+"  ("+b.economyAndLaws.tax_rate*100+"%)",b,ot.BAD))}return b}function ne(b){if(b.modifiers.happiness>1){let X=b.modifiers.happiness-1;b.modifiers.happiness-=X*.3,b.modifiers.happiness<1.02&&(b.modifiers.happiness=1)}if(b.modifiers.community>1){let X=b.modifiers.community-1;b.modifiers.community-=X*.3,b.modifiers.community<1.02&&(b.modifiers.community=1)}if(b.modifiers.health>1)if(Be("healing_house",b).length>0){b=ft(Rt.hospital_advantage,b,ot.GOOD);let X=b.modifiers.health-1;b.modifiers.health-=X*Be("healing_house",b).length?.03:.06,b.modifiers.health<1.02&&(b.modifiers.health=1)}else{let X=b.modifiers.health-1;b.modifiers.health-=X*.3,b.modifiers.health<1.02&&(b.modifiers.health=1)}else Be("healing_house",b).length>0&&(b.modifiers.health+=.8,b.townInfo.health+=Math.floor(Math.random()*10)+5);return b}function ke(b){b.economyAndLaws.weeklyProfit=0;for(let Q=0;Q<b.plots.length;Q++)for(let X=0;X<b.plots[Q].length;X++)if(b.plots[Q][X].active==!0&&b.plots[Q][X].type>-1){const ue=ie[b.plots[Q][X].type];let Te=Fe(ue.revenue_per_week,b,ue.type,Q,X)*(b.townInfo.productivity/100)/7,de=to(Q,X,b);const Pe=b.gameSettings.includes("casual")?3:1;Te*=Pe,Te*=de?2:1,b.townInfo.gold+=Te,b.economyAndLaws.weeklyProfit+=Te*7}return b}function we(b){return b.gameSettings.includes("casual")&&Math.random()<.75||Be("mine",b).length>0&&(b.townInfo.health-=7,Be("healing_house",b).length==0&&(b=ft("The mine is actively hurting the health of the town. A Healing House can counteract this.",b,ot.BAD))),b}function oe(b){let Q=0;for(let X=0;X<b.plots.length;X++)for(let ue=0;ue<b.plots[X].length;ue++)if(b.plots[X][ue].active==!0&&b.plots[X][ue].type>-1){let Te=ie[b.plots[X][ue].type],de=Un(X,ue,b)?.75:1;Te.knowledge_points_per_month!=null&&(b.townInfo.knowledge_points+=Math.round(Te.knowledge_points_per_month*de/4),Q+=Te.knowledge_points_per_month*de/4)}return b.resource_rate.knowledge=ct(Q,0),b}function Fe(b,Q,X,ue,Te){let de=Q.townInfo.happiness/100;de>2?de=2:de<.75&&(de=.75);let Pe=Be("village_inn",Q).length;X=="shop"&&(de*=1.35*Pe),Un(ue,Te,Q)&&(de*=1.5);let He=ie[Q.plots[ue][Te].type].active_costs.gold,De=Math.round(b*Q.economyAndLaws.tax_rate*(Q.townInfo.population_count/Q.townInfo.population_max)*de*(Q.economyAndLaws.enacted.includes("tax_free")?-1:1)-He);return ct(De,2)}return Zo(async()=>{for(;;)localStorage.reset=="true"&&(Lr(),localStorage.setItem("reset","false")),d(),await new Promise(b=>setTimeout(b,o/Gl))}),[d,Fr,jr,ne,qr]}class $m extends pe{constructor(e){super(),me(this,e,Em,null,ce,{mainGameThreadLoop:0,_checkExperiment:1,_fixVariables:2,_bringModifiersBackToNormal:3,_bringStatsBackToNormal:4},null,[-1,-1])}get mainGameThreadLoop(){return this.$$.ctx[0]}get _checkExperiment(){return Fr}get _fixVariables(){return jr}get _bringModifiersBackToNormal(){return this.$$.ctx[3]}get _bringStatsBackToNormal(){return qr}}function Rm(t){return t[t.length-1]}function _n(t){return Object.keys(t).reduce((e,n)=>t[n]===void 0?e:e+`${n}:${t[n]};`,"")}function fr(t){return t?!0:void 0}_n({position:"absolute",opacity:0,"pointer-events":"none",margin:0,transform:"translateX(-100%)"});function Bf(t){if(t!==null)return t}function Wl(t){function e(n){return n(t),()=>{}}return{subscribe:e}}function cr(t){if(!Vo)return null;const e=document.querySelector(`[data-melt-id="${t}"]`);return yt(e)?e:null}const Eo=t=>new Proxy(t,{get(e,n,o){return Reflect.get(e,n,o)},ownKeys(e){return Reflect.ownKeys(e).filter(n=>n!=="action")}}),Vl=t=>typeof t=="function";dt("empty");function dt(t,e){const{stores:n,action:o,returned:i}=e??{},r=(()=>{if(n&&i)return on(n,a=>{const s=i(a);if(Vl(s)){const u=(...f)=>Eo({...s(...f),[`data-melt-${t}`]:"",action:o??nt});return u.action=o??nt,u}return Eo({...s,[`data-melt-${t}`]:"",action:o??nt})});{const a=i,s=a==null?void 0:a();if(Vl(s)){const u=(...f)=>Eo({...s(...f),[`data-melt-${t}`]:"",action:o??nt});return u.action=o??nt,Wl(u)}return Wl(Eo({...s,[`data-melt-${t}`]:"",action:o??nt}))}})(),l=o??(()=>{});return l.subscribe=r.subscribe,l}function xl(t,e){const{stores:n,returned:o,action:i}=e,{subscribe:r}=on(n,a=>o(a).map(s=>Eo({...s,[`data-melt-${t}`]:"",action:i??nt}))),l=i??(()=>{});return l.subscribe=r,l}function Qi(t){const e=r=>r?`${t}-${r}`:t,n=r=>`data-melt-${t}${r?`-${r}`:""}`,o=r=>`[data-melt-${t}${r?`-${r}`:""}]`;return{name:e,attribute:n,selector:o,getEl:r=>document.querySelector(o(r))}}const Vo=typeof document<"u",Hf=t=>typeof t=="function";function Lm(t){return t instanceof Document}function zi(t){return t instanceof Element}function yt(t){return t instanceof HTMLElement}function Yl(t){return t.pointerType==="touch"}function Dm(t){return t!==null&&typeof t=="object"}function Fm(t){return Dm(t)&&"subscribe"in t}function Ht(...t){return(...e)=>{for(const n of t)typeof n=="function"&&n(...e)}}function nt(){}function pt(t,e,n,o){const i=Array.isArray(e)?e:[e];return i.forEach(r=>t.addEventListener(r,n,o)),()=>{i.forEach(r=>t.removeEventListener(r,n,o))}}function gt(t,e,n,o){const i=Array.isArray(e)?e:[e];if(typeof n=="function"){const r=qm(l=>n(l));return i.forEach(l=>t.addEventListener(l,r,o)),()=>{i.forEach(l=>t.removeEventListener(l,r,o))}}return()=>void 0}function jm(t){const e=t.currentTarget;if(!yt(e))return null;const n=new CustomEvent(`m-${t.type}`,{detail:{originalEvent:t},cancelable:!0});return e.dispatchEvent(n),n}function qm(t){return e=>{const n=jm(e);if(!(n!=null&&n.defaultPrevented))return t(e)}}function er(t,...e){const n={};for(const o of Object.keys(t))e.includes(o)||(n[o]=t[o]);return n}function zt(t){return{...t,get:()=>yf(t)}}zt.writable=function(t){const e=Ke(t);let n=t;return{subscribe:e.subscribe,set(o){e.set(o),n=o},update(o){const i=o(n);e.set(i),n=i},get(){return n}}};zt.derived=function(t,e){const n=new Map,o=()=>{const r=Array.isArray(t)?t.map(l=>l.get()):t.get();return e(r)};return{get:o,subscribe:r=>{const l=[];return(Array.isArray(t)?t:[t]).forEach(s=>{l.push(s.subscribe(()=>{r(o())}))}),r(o()),n.set(r,l),()=>{const s=n.get(r);if(s)for(const u of s)u();n.delete(r)}}}};const tr=(t,e)=>{const n=zt(t),o=(r,l)=>{n.update(a=>{const s=r(a);let u=s;return e&&(u=e({curr:a,next:s})),l==null||l(u),u})};return{...n,update:o,set:r=>{o(()=>r)}}};function cl(t){return new Promise(e=>setTimeout(e,t))}let Bm="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",Hm=(t=21)=>{let e="",n=t;for(;n--;)e+=Bm[Math.random()*64|0];return e};function Gm(){return Hm(10)}function dl(t){return t.reduce((e,n)=>(e[n]=Gm(),e),{})}const at={ALT:"Alt",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",CAPS_LOCK:"CapsLock",CONTROL:"Control",DELETE:"Delete",END:"End",ENTER:"Enter",ESCAPE:"Escape",F1:"F1",F10:"F10",F11:"F11",F12:"F12",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",HOME:"Home",META:"Meta",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp",SHIFT:"Shift",SPACE:" ",TAB:"Tab",CTRL:"Control",ASTERISK:"*",A:"a",P:"p"},Gf=()=>typeof window<"u";function Wm(){const t=navigator.userAgentData;return(t==null?void 0:t.platform)??navigator.platform}const Wf=t=>Gf()&&t.test(Wm().toLowerCase()),Vm=()=>Gf()&&!!navigator.maxTouchPoints,xm=()=>Wf(/^mac/)&&!Vm(),Ym=()=>Wf(/mac|iphone|ipad|ipod/i),Um=()=>Ym()&&!xm();function Km(t){const e=t.slice();return e.sort(Jm),Xm(e)}function Xm(t){if(t.length<=1)return t.slice();const e=[];for(let o=0;o<t.length;o++){const i=t[o];for(;e.length>=2;){const r=e[e.length-1],l=e[e.length-2];if((r.x-l.x)*(i.y-l.y)>=(r.y-l.y)*(i.x-l.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let o=t.length-1;o>=0;o--){const i=t[o];for(;n.length>=2;){const r=n[n.length-1],l=n[n.length-2];if((r.x-l.x)*(i.y-l.y)>=(r.y-l.y)*(i.x-l.x))n.pop();else break}n.push(i)}return n.pop(),e.length==1&&n.length==1&&e[0].x==n[0].x&&e[0].y==n[0].y?e:e.concat(n)}function Jm(t,e){return t.x<e.x?-1:t.x>e.x?1:t.y<e.y?-1:t.y>e.y?1:0}function Zm(t){const e=t.getBoundingClientRect();return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.right,y:e.bottom},{x:e.left,y:e.bottom}]}function Qm(t){const e=t.flatMap(n=>Zm(n));return Km(e)}function zm(t,e){let n=!1;for(let o=0,i=e.length-1;o<e.length;i=o++){const r=e[o].x,l=e[o].y,a=e[i].x,s=e[i].y;l>t.y!=s>t.y&&t.x<(a-r)*(t.y-l)/(s-l)+r&&(n=!n)}return n}const dr="data-melt-scroll-lock";function Ul(t,e){if(!t)return;const n=t.style.cssText;return Object.assign(t.style,e),()=>{t.style.cssText=n}}function ep(t,e,n){if(!t)return;const o=t.style.getPropertyValue(e);return t.style.setProperty(e,n),()=>{o?t.style.setProperty(e,o):t.style.removeProperty(e)}}function tp(t){const e=t.getBoundingClientRect().left;return Math.round(e)+t.scrollLeft?"paddingLeft":"paddingRight"}function np(t){const e=document,n=e.defaultView??window,{documentElement:o,body:i}=e;if(i.hasAttribute(dr))return nt;i.setAttribute(dr,"");const l=n.innerWidth-o.clientWidth,a=()=>ep(o,"--scrollbar-width",`${l}px`),s=tp(o),u=n.getComputedStyle(i)[s],f=()=>Ul(i,{overflow:"hidden",[s]:`calc(${u} + ${l}px)`}),c=()=>{const{scrollX:m,scrollY:h,visualViewport:_}=n,p=(_==null?void 0:_.offsetLeft)??0,w=(_==null?void 0:_.offsetTop)??0,y=Ul(i,{position:"fixed",overflow:"hidden",top:`${-(h-Math.floor(w))}px`,left:`${-(m-Math.floor(p))}px`,right:"0",[s]:`calc(${u} + ${l}px)`});return()=>{y==null||y(),n.scrollTo(m,h)}},d=[a(),Um()?c():f()];return()=>{d.forEach(m=>m==null?void 0:m()),i.removeAttribute(dr)}}const op=t=>{try{Sf(t)}catch{return t}};function Pt(t,e){let n;const o=on(t,r=>{n==null||n(),n=e(r)}).subscribe(nt),i=()=>{o(),n==null||n()};return op(i),i}function En(t){const e={};return Object.keys(t).forEach(n=>{const o=n,i=t[o];e[o]=zt(Ke(i))}),e}function ip(t){let e=t.parentElement;for(;yt(e)&&!e.hasAttribute("data-portal");)e=e.parentElement;return e||"body"}function Vf(t,e){return e!==void 0?e:ip(t)==="body"?document.body:null}async function Kl(t){const{prop:e,defaultEl:n}=t;if(await Promise.all([cl(1),sl]),e===void 0){n==null||n.focus();return}const o=Hf(e)?e(n):e;if(typeof o=="string"){const i=document.querySelector(o);if(!yt(i))return;i.focus()}else yt(o)&&o.focus()}function mr(t,e,n,o){const i=(t-(isNaN(e)?0:e))%o;let r=Math.abs(i)*2>=o?t+Math.sign(i)*(o-Math.abs(i)):t-i;isNaN(e)?!isNaN(n)&&r>n&&(r=Math.floor(n/o)*o):r<e?r=e:!isNaN(n)&&r>n&&(r=e+Math.floor((n-e)/o)*o);const l=o.toString(),a=l.indexOf("."),s=a>=0?l.length-a:0;if(s>0){const u=Math.pow(10,s);r=Math.round(r*u)/u}return r}Pn(void 0,t=>{function e(o){t(o),t(void 0)}return pt(document,"pointerup",e,{passive:!1,capture:!0})});const rp=Pn(void 0,t=>{function e(o){o&&o.key===at.ESCAPE&&t(o),t(void 0)}return pt(document,"keydown",e,{passive:!1})}),Xl=(t,e={})=>{let n=nt;function o(i={}){n();const r={enabled:!0,...i},l=Fm(r.enabled)?r.enabled:Pn(r.enabled);n=Ht(rp.subscribe(a=>{var u;if(!a||!yf(l))return;const s=a.target;if(!(!yt(s)||s.closest("[data-escapee]")!==t)){if(a.preventDefault(),r.ignore){if(Hf(r.ignore)){if(r.ignore(a))return}else if(Array.isArray(r.ignore)&&r.ignore.length>0&&r.ignore.some(f=>f&&s===f))return}(u=r.handler)==null||u.call(r,a)}}),Pt(l,a=>{a?t.dataset.escapee="":delete t.dataset.escapee}))}return o(e),{update:o,destroy(){t.removeAttribute("data-escapee"),n()}}},vn=Math.min,kt=Math.max,Oi=Math.round,ii=Math.floor,yn=t=>({x:t,y:t}),lp={left:"right",right:"left",bottom:"top",top:"bottom"},sp={start:"end",end:"start"};function Br(t,e,n){return kt(t,vn(e,n))}function _o(t,e){return typeof t=="function"?t(e):t}function wn(t){return t.split("-")[0]}function go(t){return t.split("-")[1]}function xf(t){return t==="x"?"y":"x"}function ml(t){return t==="y"?"height":"width"}function Qo(t){return["top","bottom"].includes(wn(t))?"y":"x"}function pl(t){return xf(Qo(t))}function ap(t,e,n){n===void 0&&(n=!1);const o=go(t),i=pl(t),r=ml(i);let l=i==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return e.reference[r]>e.floating[r]&&(l=Pi(l)),[l,Pi(l)]}function up(t){const e=Pi(t);return[Hr(t),e,Hr(e)]}function Hr(t){return t.replace(/start|end/g,e=>sp[e])}function fp(t,e,n){const o=["left","right"],i=["right","left"],r=["top","bottom"],l=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:o:e?o:i;case"left":case"right":return e?r:l;default:return[]}}function cp(t,e,n,o){const i=go(t);let r=fp(wn(t),n==="start",o);return i&&(r=r.map(l=>l+"-"+i),e&&(r=r.concat(r.map(Hr)))),r}function Pi(t){return t.replace(/left|right|bottom|top/g,e=>lp[e])}function dp(t){return{top:0,right:0,bottom:0,left:0,...t}}function Yf(t){return typeof t!="number"?dp(t):{top:t,right:t,bottom:t,left:t}}function Ni(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function Jl(t,e,n){let{reference:o,floating:i}=t;const r=Qo(e),l=pl(e),a=ml(l),s=wn(e),u=r==="y",f=o.x+o.width/2-i.width/2,c=o.y+o.height/2-i.height/2,d=o[a]/2-i[a]/2;let m;switch(s){case"top":m={x:f,y:o.y-i.height};break;case"bottom":m={x:f,y:o.y+o.height};break;case"right":m={x:o.x+o.width,y:c};break;case"left":m={x:o.x-i.width,y:c};break;default:m={x:o.x,y:o.y}}switch(go(e)){case"start":m[l]-=d*(n&&u?-1:1);break;case"end":m[l]+=d*(n&&u?-1:1);break}return m}const mp=async(t,e,n)=>{const{placement:o="bottom",strategy:i="absolute",middleware:r=[],platform:l}=n,a=r.filter(Boolean),s=await(l.isRTL==null?void 0:l.isRTL(e));let u=await l.getElementRects({reference:t,floating:e,strategy:i}),{x:f,y:c}=Jl(u,o,s),d=o,m={},h=0;for(let _=0;_<a.length;_++){const{name:p,fn:w}=a[_],{x:y,y:S,data:R,reset:q}=await w({x:f,y:c,initialPlacement:o,placement:d,strategy:i,middlewareData:m,rects:u,platform:l,elements:{reference:t,floating:e}});f=y??f,c=S??c,m={...m,[p]:{...m[p],...R}},q&&h<=50&&(h++,typeof q=="object"&&(q.placement&&(d=q.placement),q.rects&&(u=q.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:i}):q.rects),{x:f,y:c}=Jl(u,d,s)),_=-1)}return{x:f,y:c,placement:d,strategy:i,middlewareData:m}};async function hl(t,e){var n;e===void 0&&(e={});const{x:o,y:i,platform:r,rects:l,elements:a,strategy:s}=t,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:c="floating",altBoundary:d=!1,padding:m=0}=_o(e,t),h=Yf(m),p=a[d?c==="floating"?"reference":"floating":c],w=Ni(await r.getClippingRect({element:(n=await(r.isElement==null?void 0:r.isElement(p)))==null||n?p:p.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(a.floating)),boundary:u,rootBoundary:f,strategy:s})),y=c==="floating"?{...l.floating,x:o,y:i}:l.reference,S=await(r.getOffsetParent==null?void 0:r.getOffsetParent(a.floating)),R=await(r.isElement==null?void 0:r.isElement(S))?await(r.getScale==null?void 0:r.getScale(S))||{x:1,y:1}:{x:1,y:1},q=Ni(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:S,strategy:s}):y);return{top:(w.top-q.top+h.top)/R.y,bottom:(q.bottom-w.bottom+h.bottom)/R.y,left:(w.left-q.left+h.left)/R.x,right:(q.right-w.right+h.right)/R.x}}const pp=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:o,placement:i,rects:r,platform:l,elements:a,middlewareData:s}=e,{element:u,padding:f=0}=_o(t,e)||{};if(u==null)return{};const c=Yf(f),d={x:n,y:o},m=pl(i),h=ml(m),_=await l.getDimensions(u),p=m==="y",w=p?"top":"left",y=p?"bottom":"right",S=p?"clientHeight":"clientWidth",R=r.reference[h]+r.reference[m]-d[m]-r.floating[h],q=d[m]-r.reference[m],j=await(l.getOffsetParent==null?void 0:l.getOffsetParent(u));let $=j?j[S]:0;(!$||!await(l.isElement==null?void 0:l.isElement(j)))&&($=a.floating[S]||r.floating[h]);const L=R/2-q/2,I=$/2-_[h]/2-1,N=vn(c[w],I),A=vn(c[y],I),g=N,C=$-_[h]-A,D=$/2-_[h]/2+L,W=Br(g,D,C),F=!s.arrow&&go(i)!=null&&D!==W&&r.reference[h]/2-(D<g?N:A)-_[h]/2<0,V=F?D<g?D-g:D-C:0;return{[m]:d[m]+V,data:{[m]:W,centerOffset:D-W-V,...F&&{alignmentOffset:V}},reset:F}}}),hp=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,o;const{placement:i,middlewareData:r,rects:l,initialPlacement:a,platform:s,elements:u}=e,{mainAxis:f=!0,crossAxis:c=!0,fallbackPlacements:d,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:_=!0,...p}=_o(t,e);if((n=r.arrow)!=null&&n.alignmentOffset)return{};const w=wn(i),y=wn(a)===a,S=await(s.isRTL==null?void 0:s.isRTL(u.floating)),R=d||(y||!_?[Pi(a)]:up(a));!d&&h!=="none"&&R.push(...cp(a,_,h,S));const q=[a,...R],j=await hl(e,p),$=[];let L=((o=r.flip)==null?void 0:o.overflows)||[];if(f&&$.push(j[w]),c){const g=ap(i,l,S);$.push(j[g[0]],j[g[1]])}if(L=[...L,{placement:i,overflows:$}],!$.every(g=>g<=0)){var I,N;const g=(((I=r.flip)==null?void 0:I.index)||0)+1,C=q[g];if(C)return{data:{index:g,overflows:L},reset:{placement:C}};let D=(N=L.filter(W=>W.overflows[0]<=0).sort((W,F)=>W.overflows[1]-F.overflows[1])[0])==null?void 0:N.placement;if(!D)switch(m){case"bestFit":{var A;const W=(A=L.map(F=>[F.placement,F.overflows.filter(V=>V>0).reduce((V,K)=>V+K,0)]).sort((F,V)=>F[1]-V[1])[0])==null?void 0:A[0];W&&(D=W);break}case"initialPlacement":D=a;break}if(i!==D)return{reset:{placement:D}}}return{}}}};async function _p(t,e){const{placement:n,platform:o,elements:i}=t,r=await(o.isRTL==null?void 0:o.isRTL(i.floating)),l=wn(n),a=go(n),s=Qo(n)==="y",u=["left","top"].includes(l)?-1:1,f=r&&s?-1:1,c=_o(e,t);let{mainAxis:d,crossAxis:m,alignmentAxis:h}=typeof c=="number"?{mainAxis:c,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...c};return a&&typeof h=="number"&&(m=a==="end"?h*-1:h),s?{x:m*f,y:d*u}:{x:d*u,y:m*f}}const gp=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,o;const{x:i,y:r,placement:l,middlewareData:a}=e,s=await _p(e,t);return l===((n=a.offset)==null?void 0:n.placement)&&(o=a.arrow)!=null&&o.alignmentOffset?{}:{x:i+s.x,y:r+s.y,data:{...s,placement:l}}}}},bp=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:o,placement:i}=e,{mainAxis:r=!0,crossAxis:l=!1,limiter:a={fn:p=>{let{x:w,y}=p;return{x:w,y}}},...s}=_o(t,e),u={x:n,y:o},f=await hl(e,s),c=Qo(wn(i)),d=xf(c);let m=u[d],h=u[c];if(r){const p=d==="y"?"top":"left",w=d==="y"?"bottom":"right",y=m+f[p],S=m-f[w];m=Br(y,m,S)}if(l){const p=c==="y"?"top":"left",w=c==="y"?"bottom":"right",y=h+f[p],S=h-f[w];h=Br(y,h,S)}const _=a.fn({...e,[d]:m,[c]:h});return{..._,data:{x:_.x-n,y:_.y-o}}}}},vp=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){const{placement:n,rects:o,platform:i,elements:r}=e,{apply:l=()=>{},...a}=_o(t,e),s=await hl(e,a),u=wn(n),f=go(n),c=Qo(n)==="y",{width:d,height:m}=o.floating;let h,_;u==="top"||u==="bottom"?(h=u,_=f===(await(i.isRTL==null?void 0:i.isRTL(r.floating))?"start":"end")?"left":"right"):(_=u,h=f==="end"?"top":"bottom");const p=m-s[h],w=d-s[_],y=!e.middlewareData.shift;let S=p,R=w;if(c){const j=d-s.left-s.right;R=f||y?vn(w,j):j}else{const j=m-s.top-s.bottom;S=f||y?vn(p,j):j}if(y&&!f){const j=kt(s.left,0),$=kt(s.right,0),L=kt(s.top,0),I=kt(s.bottom,0);c?R=d-2*(j!==0||$!==0?j+$:kt(s.left,s.right)):S=m-2*(L!==0||I!==0?L+I:kt(s.top,s.bottom))}await l({...e,availableWidth:R,availableHeight:S});const q=await i.getDimensions(r.floating);return d!==q.width||m!==q.height?{reset:{rects:!0}}:{}}}};function kn(t){return Uf(t)?(t.nodeName||"").toLowerCase():"#document"}function Tt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function rn(t){var e;return(e=(Uf(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Uf(t){return t instanceof Node||t instanceof Tt(t).Node}function tn(t){return t instanceof Element||t instanceof Tt(t).Element}function Wt(t){return t instanceof HTMLElement||t instanceof Tt(t).HTMLElement}function Zl(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Tt(t).ShadowRoot}function zo(t){const{overflow:e,overflowX:n,overflowY:o,display:i}=$t(t);return/auto|scroll|overlay|hidden|clip/.test(e+o+n)&&!["inline","contents"].includes(i)}function yp(t){return["table","td","th"].includes(kn(t))}function _l(t){const e=gl(),n=$t(t);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(o=>(n.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(n.contain||"").includes(o))}function wp(t){let e=ao(t);for(;Wt(e)&&!nr(e);){if(_l(e))return e;e=ao(e)}return null}function gl(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function nr(t){return["html","body","#document"].includes(kn(t))}function $t(t){return Tt(t).getComputedStyle(t)}function or(t){return tn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function ao(t){if(kn(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Zl(t)&&t.host||rn(t);return Zl(e)?e.host:e}function Kf(t){const e=ao(t);return nr(e)?t.ownerDocument?t.ownerDocument.body:t.body:Wt(e)&&zo(e)?e:Kf(e)}function xo(t,e,n){var o;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=Kf(t),r=i===((o=t.ownerDocument)==null?void 0:o.body),l=Tt(i);return r?e.concat(l,l.visualViewport||[],zo(i)?i:[],l.frameElement&&n?xo(l.frameElement):[]):e.concat(i,xo(i,[],n))}function Xf(t){const e=$t(t);let n=parseFloat(e.width)||0,o=parseFloat(e.height)||0;const i=Wt(t),r=i?t.offsetWidth:n,l=i?t.offsetHeight:o,a=Oi(n)!==r||Oi(o)!==l;return a&&(n=r,o=l),{width:n,height:o,$:a}}function bl(t){return tn(t)?t:t.contextElement}function Qn(t){const e=bl(t);if(!Wt(e))return yn(1);const n=e.getBoundingClientRect(),{width:o,height:i,$:r}=Xf(e);let l=(r?Oi(n.width):n.width)/o,a=(r?Oi(n.height):n.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!a||!Number.isFinite(a))&&(a=1),{x:l,y:a}}const kp=yn(0);function Jf(t){const e=Tt(t);return!gl()||!e.visualViewport?kp:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Cp(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Tt(t)?!1:e}function $n(t,e,n,o){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),r=bl(t);let l=yn(1);e&&(o?tn(o)&&(l=Qn(o)):l=Qn(t));const a=Cp(r,n,o)?Jf(r):yn(0);let s=(i.left+a.x)/l.x,u=(i.top+a.y)/l.y,f=i.width/l.x,c=i.height/l.y;if(r){const d=Tt(r),m=o&&tn(o)?Tt(o):o;let h=d,_=h.frameElement;for(;_&&o&&m!==h;){const p=Qn(_),w=_.getBoundingClientRect(),y=$t(_),S=w.left+(_.clientLeft+parseFloat(y.paddingLeft))*p.x,R=w.top+(_.clientTop+parseFloat(y.paddingTop))*p.y;s*=p.x,u*=p.y,f*=p.x,c*=p.y,s+=S,u+=R,h=Tt(_),_=h.frameElement}}return Ni({width:f,height:c,x:s,y:u})}const Tp=[":popover-open",":modal"];function Zf(t){return Tp.some(e=>{try{return t.matches(e)}catch{return!1}})}function Ap(t){let{elements:e,rect:n,offsetParent:o,strategy:i}=t;const r=i==="fixed",l=rn(o),a=e?Zf(e.floating):!1;if(o===l||a&&r)return n;let s={scrollLeft:0,scrollTop:0},u=yn(1);const f=yn(0),c=Wt(o);if((c||!c&&!r)&&((kn(o)!=="body"||zo(l))&&(s=or(o)),Wt(o))){const d=$n(o);u=Qn(o),f.x=d.x+o.clientLeft,f.y=d.y+o.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-s.scrollLeft*u.x+f.x,y:n.y*u.y-s.scrollTop*u.y+f.y}}function Sp(t){return Array.from(t.getClientRects())}function Qf(t){return $n(rn(t)).left+or(t).scrollLeft}function Ip(t){const e=rn(t),n=or(t),o=t.ownerDocument.body,i=kt(e.scrollWidth,e.clientWidth,o.scrollWidth,o.clientWidth),r=kt(e.scrollHeight,e.clientHeight,o.scrollHeight,o.clientHeight);let l=-n.scrollLeft+Qf(t);const a=-n.scrollTop;return $t(o).direction==="rtl"&&(l+=kt(e.clientWidth,o.clientWidth)-i),{width:i,height:r,x:l,y:a}}function Mp(t,e){const n=Tt(t),o=rn(t),i=n.visualViewport;let r=o.clientWidth,l=o.clientHeight,a=0,s=0;if(i){r=i.width,l=i.height;const u=gl();(!u||u&&e==="fixed")&&(a=i.offsetLeft,s=i.offsetTop)}return{width:r,height:l,x:a,y:s}}function Op(t,e){const n=$n(t,!0,e==="fixed"),o=n.top+t.clientTop,i=n.left+t.clientLeft,r=Wt(t)?Qn(t):yn(1),l=t.clientWidth*r.x,a=t.clientHeight*r.y,s=i*r.x,u=o*r.y;return{width:l,height:a,x:s,y:u}}function Ql(t,e,n){let o;if(e==="viewport")o=Mp(t,n);else if(e==="document")o=Ip(rn(t));else if(tn(e))o=Op(e,n);else{const i=Jf(t);o={...e,x:e.x-i.x,y:e.y-i.y}}return Ni(o)}function zf(t,e){const n=ao(t);return n===e||!tn(n)||nr(n)?!1:$t(n).position==="fixed"||zf(n,e)}function Pp(t,e){const n=e.get(t);if(n)return n;let o=xo(t,[],!1).filter(a=>tn(a)&&kn(a)!=="body"),i=null;const r=$t(t).position==="fixed";let l=r?ao(t):t;for(;tn(l)&&!nr(l);){const a=$t(l),s=_l(l);!s&&a.position==="fixed"&&(i=null),(r?!s&&!i:!s&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||zo(l)&&!s&&zf(t,l))?o=o.filter(f=>f!==l):i=a,l=ao(l)}return e.set(t,o),o}function Np(t){let{element:e,boundary:n,rootBoundary:o,strategy:i}=t;const l=[...n==="clippingAncestors"?Pp(e,this._c):[].concat(n),o],a=l[0],s=l.reduce((u,f)=>{const c=Ql(e,f,i);return u.top=kt(c.top,u.top),u.right=vn(c.right,u.right),u.bottom=vn(c.bottom,u.bottom),u.left=kt(c.left,u.left),u},Ql(e,a,i));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}}function Ep(t){const{width:e,height:n}=Xf(t);return{width:e,height:n}}function $p(t,e,n){const o=Wt(e),i=rn(e),r=n==="fixed",l=$n(t,!0,r,e);let a={scrollLeft:0,scrollTop:0};const s=yn(0);if(o||!o&&!r)if((kn(e)!=="body"||zo(i))&&(a=or(e)),o){const c=$n(e,!0,r,e);s.x=c.x+e.clientLeft,s.y=c.y+e.clientTop}else i&&(s.x=Qf(i));const u=l.left+a.scrollLeft-s.x,f=l.top+a.scrollTop-s.y;return{x:u,y:f,width:l.width,height:l.height}}function zl(t,e){return!Wt(t)||$t(t).position==="fixed"?null:e?e(t):t.offsetParent}function ec(t,e){const n=Tt(t);if(!Wt(t)||Zf(t))return n;let o=zl(t,e);for(;o&&yp(o)&&$t(o).position==="static";)o=zl(o,e);return o&&(kn(o)==="html"||kn(o)==="body"&&$t(o).position==="static"&&!_l(o))?n:o||wp(t)||n}const Rp=async function(t){const e=this.getOffsetParent||ec,n=this.getDimensions;return{reference:$p(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,...await n(t.floating)}}};function Lp(t){return $t(t).direction==="rtl"}const Dp={convertOffsetParentRelativeRectToViewportRelativeRect:Ap,getDocumentElement:rn,getClippingRect:Np,getOffsetParent:ec,getElementRects:Rp,getClientRects:Sp,getDimensions:Ep,getScale:Qn,isElement:tn,isRTL:Lp};function Fp(t,e){let n=null,o;const i=rn(t);function r(){var a;clearTimeout(o),(a=n)==null||a.disconnect(),n=null}function l(a,s){a===void 0&&(a=!1),s===void 0&&(s=1),r();const{left:u,top:f,width:c,height:d}=t.getBoundingClientRect();if(a||e(),!c||!d)return;const m=ii(f),h=ii(i.clientWidth-(u+c)),_=ii(i.clientHeight-(f+d)),p=ii(u),y={rootMargin:-m+"px "+-h+"px "+-_+"px "+-p+"px",threshold:kt(0,vn(1,s))||1};let S=!0;function R(q){const j=q[0].intersectionRatio;if(j!==s){if(!S)return l();j?l(!1,j):o=setTimeout(()=>{l(!1,1e-7)},100)}S=!1}try{n=new IntersectionObserver(R,{...y,root:i.ownerDocument})}catch{n=new IntersectionObserver(R,y)}n.observe(t)}return l(!0),r}function jp(t,e,n,o){o===void 0&&(o={});const{ancestorScroll:i=!0,ancestorResize:r=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:s=!1}=o,u=bl(t),f=i||r?[...u?xo(u):[],...xo(e)]:[];f.forEach(w=>{i&&w.addEventListener("scroll",n,{passive:!0}),r&&w.addEventListener("resize",n)});const c=u&&a?Fp(u,n):null;let d=-1,m=null;l&&(m=new ResizeObserver(w=>{let[y]=w;y&&y.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var S;(S=m)==null||S.observe(e)})),n()}),u&&!s&&m.observe(u),m.observe(e));let h,_=s?$n(t):null;s&&p();function p(){const w=$n(t);_&&(w.x!==_.x||w.y!==_.y||w.width!==_.width||w.height!==_.height)&&n(),_=w,h=requestAnimationFrame(p)}return n(),()=>{var w;f.forEach(y=>{i&&y.removeEventListener("scroll",n),r&&y.removeEventListener("resize",n)}),c==null||c(),(w=m)==null||w.disconnect(),m=null,s&&cancelAnimationFrame(h)}}const qp=bp,Bp=hp,Hp=vp,Gp=pp,Wp=(t,e,n)=>{const o=new Map,i={platform:Dp,...n},r={...i.platform,_c:o};return mp(t,e,{...i,platform:r})},Vp={strategy:"absolute",placement:"top",gutter:5,flip:!0,sameWidth:!1,overflowPadding:8},xp={bottom:"rotate(45deg)",left:"rotate(135deg)",top:"rotate(225deg)",right:"rotate(315deg)"};function Yp(t,e,n={}){if(!e||!t||n===null)return{destroy:nt};const o={...Vp,...n},i=e.querySelector("[data-arrow=true]"),r=[];o.flip&&r.push(Bp({boundary:o.boundary,padding:o.overflowPadding}));const l=yt(i)?i.offsetHeight/2:0;if(o.gutter||o.offset){const s=o.gutter?{mainAxis:o.gutter}:o.offset;(s==null?void 0:s.mainAxis)!=null&&(s.mainAxis+=l),r.push(gp(s))}r.push(qp({boundary:o.boundary,crossAxis:o.overlap,padding:o.overflowPadding})),i&&r.push(Gp({element:i,padding:8})),r.push(Hp({padding:o.overflowPadding,apply({rects:s,availableHeight:u,availableWidth:f}){o.sameWidth&&Object.assign(e.style,{width:`${Math.round(s.reference.width)}px`,minWidth:"unset"}),o.fitViewport&&Object.assign(e.style,{maxWidth:`${f}px`,maxHeight:`${u}px`})}}));function a(){if(!t||!e)return;const{placement:s,strategy:u}=o;Wp(t,e,{placement:s,middleware:r,strategy:u}).then(f=>{const c=Math.round(f.x),d=Math.round(f.y);if(Object.assign(e.style,{position:o.strategy,top:`${d}px`,left:`${c}px`}),yt(i)&&f.middlewareData.arrow){const{x:m,y:h}=f.middlewareData.arrow,_=f.placement.split("-")[0];Object.assign(i.style,{position:"absolute",left:m!=null?`${m}px`:"",top:h!=null?`${h}px`:"",[_]:`calc(100% - ${l}px)`,transform:xp[_],backgroundColor:"inherit",zIndex:"inherit"})}return f})}return Object.assign(e.style,{position:o.strategy}),{destroy:jp(t,e,a)}}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var tc=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Ei=tc.join(","),nc=typeof Element>"u",Rn=nc?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,$i=!nc&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},Ri=function t(e,n){var o;n===void 0&&(n=!0);var i=e==null||(o=e.getAttribute)===null||o===void 0?void 0:o.call(e,"inert"),r=i===""||i==="true",l=r||n&&e&&t(e.parentNode);return l},Up=function(e){var n,o=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"contenteditable");return o===""||o==="true"},oc=function(e,n,o){if(Ri(e))return[];var i=Array.prototype.slice.apply(e.querySelectorAll(Ei));return n&&Rn.call(e,Ei)&&i.unshift(e),i=i.filter(o),i},ic=function t(e,n,o){for(var i=[],r=Array.from(e);r.length;){var l=r.shift();if(!Ri(l,!1))if(l.tagName==="SLOT"){var a=l.assignedElements(),s=a.length?a:l.children,u=t(s,!0,o);o.flatten?i.push.apply(i,u):i.push({scopeParent:l,candidates:u})}else{var f=Rn.call(l,Ei);f&&o.filter(l)&&(n||!e.includes(l))&&i.push(l);var c=l.shadowRoot||typeof o.getShadowRoot=="function"&&o.getShadowRoot(l),d=!Ri(c,!1)&&(!o.shadowRootFilter||o.shadowRootFilter(l));if(c&&d){var m=t(c===!0?l.children:c.children,!0,o);o.flatten?i.push.apply(i,m):i.push({scopeParent:l,candidates:m})}else r.unshift.apply(r,l.children)}}return i},rc=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},Sn=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||Up(e))&&!rc(e)?0:e.tabIndex},Kp=function(e,n){var o=Sn(e);return o<0&&n&&!rc(e)?0:o},Xp=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},lc=function(e){return e.tagName==="INPUT"},Jp=function(e){return lc(e)&&e.type==="hidden"},Zp=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(o){return o.tagName==="SUMMARY"});return n},Qp=function(e,n){for(var o=0;o<e.length;o++)if(e[o].checked&&e[o].form===n)return e[o]},zp=function(e){if(!e.name)return!0;var n=e.form||$i(e),o=function(a){return n.querySelectorAll('input[type="radio"][name="'+a+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=o(window.CSS.escape(e.name));else try{i=o(e.name)}catch(l){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",l.message),!1}var r=Qp(i,e.form);return!r||r===e},eh=function(e){return lc(e)&&e.type==="radio"},th=function(e){return eh(e)&&!zp(e)},nh=function(e){var n,o=e&&$i(e),i=(n=o)===null||n===void 0?void 0:n.host,r=!1;if(o&&o!==e){var l,a,s;for(r=!!((l=i)!==null&&l!==void 0&&(a=l.ownerDocument)!==null&&a!==void 0&&a.contains(i)||e!=null&&(s=e.ownerDocument)!==null&&s!==void 0&&s.contains(e));!r&&i;){var u,f,c;o=$i(i),i=(u=o)===null||u===void 0?void 0:u.host,r=!!((f=i)!==null&&f!==void 0&&(c=f.ownerDocument)!==null&&c!==void 0&&c.contains(i))}}return r},es=function(e){var n=e.getBoundingClientRect(),o=n.width,i=n.height;return o===0&&i===0},oh=function(e,n){var o=n.displayCheck,i=n.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var r=Rn.call(e,"details>summary:first-of-type"),l=r?e.parentElement:e;if(Rn.call(l,"details:not([open]) *"))return!0;if(!o||o==="full"||o==="legacy-full"){if(typeof i=="function"){for(var a=e;e;){var s=e.parentElement,u=$i(e);if(s&&!s.shadowRoot&&i(s)===!0)return es(e);e.assignedSlot?e=e.assignedSlot:!s&&u!==e.ownerDocument?e=u.host:e=s}e=a}if(nh(e))return!e.getClientRects().length;if(o!=="legacy-full")return!0}else if(o==="non-zero-area")return es(e);return!1},ih=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var o=0;o<n.children.length;o++){var i=n.children.item(o);if(i.tagName==="LEGEND")return Rn.call(n,"fieldset[disabled] *")?!0:!i.contains(e)}return!0}n=n.parentElement}return!1},Li=function(e,n){return!(n.disabled||Ri(n)||Jp(n)||oh(n,e)||Zp(n)||ih(n))},Gr=function(e,n){return!(th(n)||Sn(n)<0||!Li(e,n))},rh=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},lh=function t(e){var n=[],o=[];return e.forEach(function(i,r){var l=!!i.scopeParent,a=l?i.scopeParent:i,s=Kp(a,l),u=l?t(i.candidates):a;s===0?l?n.push.apply(n,u):n.push(a):o.push({documentOrder:r,tabIndex:s,item:i,isScope:l,content:u})}),o.sort(Xp).reduce(function(i,r){return r.isScope?i.push.apply(i,r.content):i.push(r.content),i},[]).concat(n)},sh=function(e,n){n=n||{};var o;return n.getShadowRoot?o=ic([e],n.includeContainer,{filter:Gr.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:rh}):o=oc(e,n.includeContainer,Gr.bind(null,n)),lh(o)},ah=function(e,n){n=n||{};var o;return n.getShadowRoot?o=ic([e],n.includeContainer,{filter:Li.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):o=oc(e,n.includeContainer,Li.bind(null,n)),o},Vn=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return Rn.call(e,Ei)===!1?!1:Gr(n,e)},uh=tc.concat("iframe").join(","),pr=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return Rn.call(e,uh)===!1?!1:Li(n,e)};/*!
* focus-trap 7.5.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function ts(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,o)}return n}function ns(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ts(Object(n),!0).forEach(function(o){fh(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ts(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function fh(t,e,n){return e=dh(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ch(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dh(t){var e=ch(t,"string");return typeof e=="symbol"?e:String(e)}var os={activateTrap:function(e,n){if(e.length>0){var o=e[e.length-1];o!==n&&o.pause()}var i=e.indexOf(n);i===-1||e.splice(i,1),e.push(n)},deactivateTrap:function(e,n){var o=e.indexOf(n);o!==-1&&e.splice(o,1),e.length>0&&e[e.length-1].unpause()}},mh=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},ph=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},Ho=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},hh=function(e){return Ho(e)&&!e.shiftKey},_h=function(e){return Ho(e)&&e.shiftKey},is=function(e){return setTimeout(e,0)},rs=function(e,n){var o=-1;return e.every(function(i,r){return n(i)?(o=r,!1):!0}),o},Mo=function(e){for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return typeof e=="function"?e.apply(void 0,o):e},ri=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},gh=[],bh=function(e,n){var o=(n==null?void 0:n.document)||document,i=(n==null?void 0:n.trapStack)||gh,r=ns({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:hh,isKeyBackward:_h},n),l={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},a,s=function(g,C,D){return g&&g[C]!==void 0?g[C]:r[D||C]},u=function(g,C){var D=typeof(C==null?void 0:C.composedPath)=="function"?C.composedPath():void 0;return l.containerGroups.findIndex(function(W){var F=W.container,V=W.tabbableNodes;return F.contains(g)||(D==null?void 0:D.includes(F))||V.find(function(K){return K===g})})},f=function(g){var C=r[g];if(typeof C=="function"){for(var D=arguments.length,W=new Array(D>1?D-1:0),F=1;F<D;F++)W[F-1]=arguments[F];C=C.apply(void 0,W)}if(C===!0&&(C=void 0),!C){if(C===void 0||C===!1)return C;throw new Error("`".concat(g,"` was specified but was not a node, or did not return a node"))}var V=C;if(typeof C=="string"&&(V=o.querySelector(C),!V))throw new Error("`".concat(g,"` as selector refers to no known node"));return V},c=function(){var g=f("initialFocus");if(g===!1)return!1;if(g===void 0||!pr(g,r.tabbableOptions))if(u(o.activeElement)>=0)g=o.activeElement;else{var C=l.tabbableGroups[0],D=C&&C.firstTabbableNode;g=D||f("fallbackFocus")}if(!g)throw new Error("Your focus-trap needs to have at least one focusable element");return g},d=function(){if(l.containerGroups=l.containers.map(function(g){var C=sh(g,r.tabbableOptions),D=ah(g,r.tabbableOptions),W=C.length>0?C[0]:void 0,F=C.length>0?C[C.length-1]:void 0,V=D.find(function(te){return Vn(te)}),K=D.slice().reverse().find(function(te){return Vn(te)}),Z=!!C.find(function(te){return Sn(te)>0});return{container:g,tabbableNodes:C,focusableNodes:D,posTabIndexesFound:Z,firstTabbableNode:W,lastTabbableNode:F,firstDomTabbableNode:V,lastDomTabbableNode:K,nextTabbableNode:function(z){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,ke=C.indexOf(z);return ke<0?ne?D.slice(D.indexOf(z)+1).find(function(we){return Vn(we)}):D.slice(0,D.indexOf(z)).reverse().find(function(we){return Vn(we)}):C[ke+(ne?1:-1)]}}}),l.tabbableGroups=l.containerGroups.filter(function(g){return g.tabbableNodes.length>0}),l.tabbableGroups.length<=0&&!f("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(l.containerGroups.find(function(g){return g.posTabIndexesFound})&&l.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},m=function A(g){var C=g.activeElement;if(C)return C.shadowRoot&&C.shadowRoot.activeElement!==null?A(C.shadowRoot):C},h=function A(g){if(g!==!1&&g!==m(document)){if(!g||!g.focus){A(c());return}g.focus({preventScroll:!!r.preventScroll}),l.mostRecentlyFocusedNode=g,mh(g)&&g.select()}},_=function(g){var C=f("setReturnFocus",g);return C||(C===!1?!1:g)},p=function(g){var C=g.target,D=g.event,W=g.isBackward,F=W===void 0?!1:W;C=C||ri(D),d();var V=null;if(l.tabbableGroups.length>0){var K=u(C,D),Z=K>=0?l.containerGroups[K]:void 0;if(K<0)F?V=l.tabbableGroups[l.tabbableGroups.length-1].lastTabbableNode:V=l.tabbableGroups[0].firstTabbableNode;else if(F){var te=rs(l.tabbableGroups,function(Fe){var b=Fe.firstTabbableNode;return C===b});if(te<0&&(Z.container===C||pr(C,r.tabbableOptions)&&!Vn(C,r.tabbableOptions)&&!Z.nextTabbableNode(C,!1))&&(te=K),te>=0){var z=te===0?l.tabbableGroups.length-1:te-1,ne=l.tabbableGroups[z];V=Sn(C)>=0?ne.lastTabbableNode:ne.lastDomTabbableNode}else Ho(D)||(V=Z.nextTabbableNode(C,!1))}else{var ke=rs(l.tabbableGroups,function(Fe){var b=Fe.lastTabbableNode;return C===b});if(ke<0&&(Z.container===C||pr(C,r.tabbableOptions)&&!Vn(C,r.tabbableOptions)&&!Z.nextTabbableNode(C))&&(ke=K),ke>=0){var we=ke===l.tabbableGroups.length-1?0:ke+1,oe=l.tabbableGroups[we];V=Sn(C)>=0?oe.firstTabbableNode:oe.firstDomTabbableNode}else Ho(D)||(V=Z.nextTabbableNode(C))}}else V=f("fallbackFocus");return V},w=function(g){var C=ri(g);if(!(u(C,g)>=0)){if(Mo(r.clickOutsideDeactivates,g)){a.deactivate({returnFocus:r.returnFocusOnDeactivate});return}Mo(r.allowOutsideClick,g)||g.preventDefault()}},y=function(g){var C=ri(g),D=u(C,g)>=0;if(D||C instanceof Document)D&&(l.mostRecentlyFocusedNode=C);else{g.stopImmediatePropagation();var W,F=!0;if(l.mostRecentlyFocusedNode)if(Sn(l.mostRecentlyFocusedNode)>0){var V=u(l.mostRecentlyFocusedNode),K=l.containerGroups[V].tabbableNodes;if(K.length>0){var Z=K.findIndex(function(te){return te===l.mostRecentlyFocusedNode});Z>=0&&(r.isKeyForward(l.recentNavEvent)?Z+1<K.length&&(W=K[Z+1],F=!1):Z-1>=0&&(W=K[Z-1],F=!1))}}else l.containerGroups.some(function(te){return te.tabbableNodes.some(function(z){return Sn(z)>0})})||(F=!1);else F=!1;F&&(W=p({target:l.mostRecentlyFocusedNode,isBackward:r.isKeyBackward(l.recentNavEvent)})),h(W||l.mostRecentlyFocusedNode||c())}l.recentNavEvent=void 0},S=function(g){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;l.recentNavEvent=g;var D=p({event:g,isBackward:C});D&&(Ho(g)&&g.preventDefault(),h(D))},R=function(g){if(ph(g)&&Mo(r.escapeDeactivates,g)!==!1){g.preventDefault(),a.deactivate();return}(r.isKeyForward(g)||r.isKeyBackward(g))&&S(g,r.isKeyBackward(g))},q=function(g){var C=ri(g);u(C,g)>=0||Mo(r.clickOutsideDeactivates,g)||Mo(r.allowOutsideClick,g)||(g.preventDefault(),g.stopImmediatePropagation())},j=function(){if(l.active)return os.activateTrap(i,a),l.delayInitialFocusTimer=r.delayInitialFocus?is(function(){h(c())}):h(c()),o.addEventListener("focusin",y,!0),o.addEventListener("mousedown",w,{capture:!0,passive:!1}),o.addEventListener("touchstart",w,{capture:!0,passive:!1}),o.addEventListener("click",q,{capture:!0,passive:!1}),o.addEventListener("keydown",R,{capture:!0,passive:!1}),a},$=function(){if(l.active)return o.removeEventListener("focusin",y,!0),o.removeEventListener("mousedown",w,!0),o.removeEventListener("touchstart",w,!0),o.removeEventListener("click",q,!0),o.removeEventListener("keydown",R,!0),a},L=function(g){var C=g.some(function(D){var W=Array.from(D.removedNodes);return W.some(function(F){return F===l.mostRecentlyFocusedNode})});C&&h(c())},I=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(L):void 0,N=function(){I&&(I.disconnect(),l.active&&!l.paused&&l.containers.map(function(g){I.observe(g,{subtree:!0,childList:!0})}))};return a={get active(){return l.active},get paused(){return l.paused},activate:function(g){if(l.active)return this;var C=s(g,"onActivate"),D=s(g,"onPostActivate"),W=s(g,"checkCanFocusTrap");W||d(),l.active=!0,l.paused=!1,l.nodeFocusedBeforeActivation=o.activeElement,C==null||C();var F=function(){W&&d(),j(),N(),D==null||D()};return W?(W(l.containers.concat()).then(F,F),this):(F(),this)},deactivate:function(g){if(!l.active)return this;var C=ns({onDeactivate:r.onDeactivate,onPostDeactivate:r.onPostDeactivate,checkCanReturnFocus:r.checkCanReturnFocus},g);clearTimeout(l.delayInitialFocusTimer),l.delayInitialFocusTimer=void 0,$(),l.active=!1,l.paused=!1,N(),os.deactivateTrap(i,a);var D=s(C,"onDeactivate"),W=s(C,"onPostDeactivate"),F=s(C,"checkCanReturnFocus"),V=s(C,"returnFocus","returnFocusOnDeactivate");D==null||D();var K=function(){is(function(){V&&h(_(l.nodeFocusedBeforeActivation)),W==null||W()})};return V&&F?(F(_(l.nodeFocusedBeforeActivation)).then(K,K),this):(K(),this)},pause:function(g){if(l.paused||!l.active)return this;var C=s(g,"onPause"),D=s(g,"onPostPause");return l.paused=!0,C==null||C(),$(),N(),D==null||D(),this},unpause:function(g){if(!l.paused||!l.active)return this;var C=s(g,"onUnpause"),D=s(g,"onPostUnpause");return l.paused=!1,C==null||C(),d(),j(),N(),D==null||D(),this},updateContainerElements:function(g){var C=[].concat(g).filter(Boolean);return l.containers=C.map(function(D){return typeof D=="string"?o.querySelector(D):D}),l.active&&d(),N(),this}},a.updateContainerElements(e),a};function vh(t={}){let e;const{immediate:n,...o}=t,i=Ke(!1),r=Ke(!1),l=c=>e==null?void 0:e.activate(c),a=c=>{e==null||e.deactivate(c)},s=()=>{e&&(e.pause(),r.set(!0))},u=()=>{e&&(e.unpause(),r.set(!1))};return{useFocusTrap:c=>(e=bh(c,{...o,onActivate(){var d;i.set(!0),(d=t.onActivate)==null||d.call(t)},onDeactivate(){var d;i.set(!1),(d=t.onDeactivate)==null||d.call(t)}}),n&&l(),{destroy(){a(),e=void 0}}),hasFocus:Ll(i),isPaused:Ll(r),activate:l,deactivate:a,pause:s,unpause:u}}const li=[];function yh(t,e){let n=nt;function o(){const r=li.indexOf(t);r>=0&&li.splice(r,1)}function i(r){n();const{open:l,onClose:a,shouldCloseOnInteractOutside:s,closeOnInteractOutside:u}=r;cl(100).then(()=>{l?li.push(t):o()});function f(){return Rm(li)===t}function c(){f()&&a&&(a(),o())}function d(h){const _=h.target;zi(_)&&_&&f()&&(h.preventDefault(),h.stopPropagation(),h.stopImmediatePropagation())}function m(h){s!=null&&s(h)&&f()&&(h.preventDefault(),h.stopPropagation(),h.stopImmediatePropagation(),c())}n=wh(t,{onInteractOutsideStart:d,onInteractOutside:u?m:void 0,enabled:l}).destroy}return i(e),{update:i,destroy(){o(),n()}}}const sc=(t,e="body")=>{let n;if(!yt(e)&&typeof e!="string")return{destroy:nt};async function o(r){if(e=r,typeof e=="string"){if(n=document.querySelector(e),n===null&&(await sl(),n=document.querySelector(e)),n===null)throw new Error(`No element found matching css selector: "${e}"`)}else if(e instanceof HTMLElement)n=e;else throw new TypeError(`Unknown portal target type: ${e===null?"null":typeof e}. Allowed types: string (CSS selector) or HTMLElement.`);t.dataset.portal="",n.appendChild(t),t.hidden=!1}function i(){t.remove()}return o(e),{update:o,destroy:i}};function wh(t,e){let n=nt,o=!1,i=!1,r=!1;function l(u){n();const{onInteractOutside:f,onInteractOutsideStart:c,enabled:d}=u;if(!d)return;function m(p){f&&ls(p,t)&&(c==null||c(p));const w=p.target;zi(w)&&ac(t,w)&&(i=!0),o=!0}function h(p){f==null||f(p)}const _=kh(t);if(typeof PointerEvent<"u"){const p=w=>{a(w)&&h(w),s()};n=Ht(pt(_,"pointerdown",m,!0),pt(_,"pointerup",p,!0))}else{const p=y=>{r?r=!1:a(y)&&h(y),s()},w=y=>{r=!0,a(y)&&h(y),s()};n=Ht(pt(_,"mousedown",m,!0),pt(_,"mouseup",p,!0),pt(_,"touchstart",m,!0),pt(_,"touchend",w,!0))}}function a(u){return!!(o&&!i&&ls(u,t))}function s(){o=!1,i=!1}return l(e),{update:l,destroy:n}}function ls(t,e){if("button"in t&&t.button>0)return!1;const n=t.target;if(!zi(n))return!1;const o=n.ownerDocument;return!o||!o.documentElement.contains(n)?!1:e&&!ac(e,n)}function ac(t,e){return t===e||t.contains(e)}function kh(t){return(t==null?void 0:t.ownerDocument)??document}Pn(!1),Pn(!1),Pn(void 0);function Ch(){return{elements:{root:dt("label",{action:e=>({destroy:gt(e,"mousedown",o=>{!o.defaultPrevented&&o.detail>1&&o.preventDefault()})})})}}}const{name:Tn}=Qi("dialog"),Th={preventScroll:!0,closeOnEscape:!0,closeOnOutsideClick:!0,role:"dialog",defaultOpen:!1,portal:void 0,forceVisible:!1,openFocus:void 0,closeFocus:void 0,onOutsideClick:void 0},Ah=["content","title","description"];function uc(t){const e={...Th,...t},n=En(er(e,"ids")),{preventScroll:o,closeOnEscape:i,closeOnOutsideClick:r,role:l,portal:a,forceVisible:s,openFocus:u,closeFocus:f,onOutsideClick:c}=n,d=zt.writable(null),m=En({...dl(Ah),...e.ids}),h=e.open??Ke(e.defaultOpen),_=tr(h,e==null?void 0:e.onOpenChange),p=on([_,s],([A,g])=>A||g);let w=nt;function y(A){const g=A.currentTarget,C=A.currentTarget;!yt(g)||!yt(C)||(_.set(!0),d.set(C))}function S(){_.set(!1),Kl({prop:f.get(),defaultEl:d.get()})}const R=dt(Tn("trigger"),{stores:[_],returned:([A])=>({"aria-haspopup":"dialog","aria-expanded":A,type:"button"}),action:A=>({destroy:Ht(gt(A,"click",C=>{y(C)}),gt(A,"keydown",C=>{C.key!==at.ENTER&&C.key!==at.SPACE||(C.preventDefault(),y(C))}))})}),q=dt(Tn("overlay"),{stores:[p,_],returned:([A,g])=>({hidden:A?void 0:!0,tabindex:-1,style:_n({display:A?void 0:"none"}),"aria-hidden":!0,"data-state":g?"open":"closed"}),action:A=>{let g=nt;if(i.get()){const C=Xl(A,{handler:()=>{S()}});C&&C.destroy&&(g=C.destroy)}return{destroy(){g()}}}}),j=dt(Tn("content"),{stores:[p,m.content,m.description,m.title,_],returned:([A,g,C,D,W])=>({id:g,role:l.get(),"aria-describedby":C,"aria-labelledby":D,"aria-modal":A?"true":void 0,"data-state":W?"open":"closed",tabindex:-1,hidden:A?void 0:!0,style:_n({display:A?void 0:"none"})}),action:A=>{let g=nt,C=nt;const D=Ht(Pt([_],([W])=>{if(!W)return;const F=vh({immediate:!1,escapeDeactivates:!0,clickOutsideDeactivates:!0,returnFocusOnDeactivate:!1,fallbackFocus:A});g=F.activate,C=F.deactivate;const V=F.useFocusTrap(A);return V&&V.destroy?V.destroy:F.deactivate}),Pt([r,_],([W,F])=>yh(A,{open:F,closeOnInteractOutside:W,onClose(){S()},shouldCloseOnInteractOutside(V){var K;return(K=c.get())==null||K(V),!V.defaultPrevented}}).destroy),Pt([i],([W])=>{if(!W)return nt;const F=Xl(A,{handler:()=>{S()}});return F&&F.destroy?F.destroy:nt}),Pt([p],([W])=>{sl().then(()=>{W?g():C()})}));return{destroy:()=>{w(),D()}}}}),$=dt(Tn("portalled"),{stores:a,returned:A=>({"data-portal":Bf(A)}),action:A=>{const g=Pt([a],([C])=>{if(C===null)return nt;const D=Vf(A,C);if(D===null)return nt;const W=sc(A,D);return W&&W.destroy?W.destroy:nt});return{destroy(){g()}}}}),L=dt(Tn("title"),{stores:[m.title],returned:([A])=>({id:A})}),I=dt(Tn("description"),{stores:[m.description],returned:([A])=>({id:A})}),N=dt(Tn("close"),{returned:()=>({type:"button"}),action:A=>({destroy:Ht(gt(A,"click",()=>{S()}),gt(A,"keydown",C=>{C.key!==at.SPACE&&C.key!==at.ENTER||(C.preventDefault(),S())}))})});return Pt([_,o],([A,g])=>{if(Vo){if(g&&A&&(w=np()),A){const C=document.getElementById(m.content.get());Kl({prop:u.get(),defaultEl:C})}return()=>{s.get()||w()}}}),{ids:m,elements:{content:j,trigger:R,title:L,description:I,overlay:q,close:N,portalled:$},states:{open:_},options:n}}const Sh={defaultValue:0,max:100},{name:Ih}=Qi("progress"),Mh=t=>{const e={...Sh,...t},n=En(er(e,"value")),{max:o}=n,i=e.value??Ke(e.defaultValue),r=tr(i,e==null?void 0:e.onValueChange);return{elements:{root:dt(Ih(),{stores:[r,o],returned:([a,s])=>({value:a,max:s,role:"meter","aria-valuemin":0,"aria-valuemax":s,"aria-valuenow":a,"data-value":a,"data-state":a===null?"indeterminate":a===s?"complete":"loading","data-max":s})})},states:{value:r},options:n}},Oh={orientation:"horizontal",decorative:!1},Ph=t=>{const e={...Oh,...t},n=En(e),{orientation:o,decorative:i}=n;return{elements:{root:dt("separator",{stores:[o,i],returned:([l,a])=>({role:a?"none":"separator","aria-orientation":l==="vertical"?l:void 0,"aria-hidden":a,"data-orientation":l})})},options:n}},Nh={defaultValue:[],min:0,max:100,step:1,orientation:"horizontal",dir:"ltr",disabled:!1},{name:si}=Qi("slider"),Eh=t=>{const e={...Nh,...t},n=En(er(e,"value","onValueChange","defaultValue")),{min:o,max:i,step:r,orientation:l,dir:a,disabled:s}=n,u=e.value??Ke(e.defaultValue),f=tr(u,e==null?void 0:e.onValueChange),c=zt(Ke(!1)),d=zt(Ke(0)),m=zt(Ke(null)),h=dl(["root"]),_=($,L)=>{f.update(I=>{if(!I)return[$];if(I[L]===$)return I;const N=[...I],A=N[L]>$?-1:1;function g(){N[L]=N[L+A],N[L+A]=$;const F=p();F&&(F[L+A].focus(),m.set({thumb:F[L+A],index:L+A}))}if(A===-1&&$<N[L-1])return g(),N;if(A===1&&$>N[L+1])return g(),N;const C=o.get(),D=i.get(),W=r.get();return N[L]=mr($,C,D,W),N})},p=()=>{const $=cr(h.root);return $?Array.from($.querySelectorAll('[data-melt-part="thumb"]')).filter(L=>yt(L)):null},w=on([o,i],([$,L])=>I=>(I-$)/(L-$)*100),y=zt.derived([l,a],([$,L])=>$==="horizontal"?L==="rtl"?"rl":"lr":L==="rtl"?"tb":"bt"),S=dt(si(),{stores:[s,l,a],returned:([$,L,I])=>({dir:I,disabled:fr($),"data-disabled":fr($),"data-orientation":L,style:$?void 0:`touch-action: ${L==="horizontal"?"pan-y":"pan-x"}`,"data-melt-id":h.root})}),R=dt(si("range"),{stores:[f,y,w],returned:([$,L,I])=>{const N=$.length>1?I(Math.min(...$)??0):0,A=100-I(Math.max(...$)??0),g={position:"absolute"};switch(L){case"lr":{g.left=`${N}%`,g.right=`${A}%`;break}case"rl":{g.right=`${N}%`,g.left=`${A}%`;break}case"bt":{g.bottom=`${N}%`,g.top=`${A}%`;break}case"tb":{g.top=`${N}%`,g.bottom=`${A}%`;break}}return{style:_n(g)}}}),q=xl(si("thumb"),{stores:[f,w,o,i,s,l,y],returned:([$,L,I,N,A,g,C])=>Array.from({length:$.length||1},(W,F)=>{d.get()<$.length&&d.update(z=>z+1);const K=$[F],Z=`${L(K)}%`,te={position:"absolute"};switch(C){case"lr":{te.left=Z,te.translate="-50% 0";break}case"rl":{te.right=Z,te.translate="50% 0";break}case"bt":{te.bottom=Z,te.translate="0 50%";break}case"tb":{te.top=Z,te.translate="0 -50%";break}}return{role:"slider","aria-valuemin":I,"aria-valuemax":N,"aria-valuenow":K,"aria-disabled":fr(A),"aria-orientation":g,"data-melt-part":"thumb","data-value":K,style:_n(te),tabindex:A?-1:0}}),action:$=>({destroy:gt($,"keydown",I=>{if(s.get())return;const N=I.currentTarget;if(!yt(N))return;const A=p();if(!(A!=null&&A.length))return;const g=A.indexOf(N);if(d.set(g),![at.ARROW_LEFT,at.ARROW_RIGHT,at.ARROW_UP,at.ARROW_DOWN,at.HOME,at.END].includes(I.key))return;I.preventDefault();const C=o.get(),D=i.get(),W=r.get(),F=f.get(),V=l.get(),K=y.get(),Z=F[g];switch(I.key){case at.HOME:{_(C,g);break}case at.END:{_(D,g);break}case at.ARROW_LEFT:{if(V!=="horizontal")break;I.metaKey?_(K==="rl"?D:C,g):K==="rl"&&Z<D?_(Z+W,g):K==="lr"&&Z>C&&_(Z-W,g);break}case at.ARROW_RIGHT:{if(V!=="horizontal")break;I.metaKey?_(K==="rl"?C:D,g):K==="rl"&&Z>C?_(Z-W,g):K==="lr"&&Z<D&&_(Z+W,g);break}case at.ARROW_UP:{I.metaKey?_(K==="tb"?C:D,g):K==="tb"&&Z>C?_(Z-W,g):K!=="tb"&&Z<D&&_(Z+W,g);break}case at.ARROW_DOWN:{I.metaKey?_(K==="tb"?D:C,g):K==="tb"&&Z<D?_(Z+W,g):K!=="tb"&&Z>C&&_(Z-W,g);break}}})})}),j=xl(si("tick"),{stores:[f,o,i,r,y],returned:([$,L,I,N,A])=>{const g=I-L;let C=Math.ceil(g/N);return g%N==0&&C++,Array.from({length:C},(D,W)=>{const F=`${W*(N/(I-L))*100}%`,V=W===0,K=W===C-1,Z=V?0:K?-100:-50,te={position:"absolute"};switch(A){case"lr":{te.left=F,te.translate=`${Z}% 0`;break}case"rl":{te.right=F,te.translate=`${-Z}% 0`;break}case"bt":{te.bottom=F,te.translate=`0 ${-Z}%`;break}case"tb":{te.top=F,te.translate=`0 ${Z}%`;break}}const z=L+W*N;return{"data-bounded":($.length===1?z<=$[0]:$[0]<=z&&z<=$[$.length-1])?!0:void 0,"data-value":z,style:_n(te)}})}});return Pt([S,o,i,s,l,y,r],([$,L,I,N,A,g,C])=>{if(!Vo||N)return;const D=(te,z,ne,ke)=>{const oe=(te-ne)/(ke-ne)*(I-L)+L;if(oe<L)_(L,z);else if(oe>I)_(I,z);else{const Fe=C,b=L,Q=Math.floor((oe-b)/Fe),X=b+Q*Fe+Fe/2,ue=b+(Q+1)*Fe+Fe/2,Te=oe>=X&&oe<ue?(Q+1)*Fe+b:Q*Fe+b;Te<=I&&_(Te,z)}},W=te=>{const z=p();if(!z)return;z.forEach(oe=>oe.blur());const ne=z.map(oe=>{if(A==="horizontal"){const{left:Fe,right:b}=oe.getBoundingClientRect();return Math.abs(te.clientX-(Fe+b)/2)}else{const{top:Fe,bottom:b}=oe.getBoundingClientRect();return Math.abs(te.clientY-(Fe+b)/2)}}),ke=z[ne.indexOf(Math.min(...ne))],we=z.indexOf(ke);return{thumb:ke,index:we}},F=te=>{if(!c.get())return;te.preventDefault(),te.stopPropagation();const z=cr($["data-melt-id"]),ne=m.get();if(!z||!ne)return;ne.thumb.focus();const{left:ke,right:we,top:oe,bottom:Fe}=z.getBoundingClientRect();switch(g){case"lr":{D(te.clientX,ne.index,ke,we);break}case"rl":{D(te.clientX,ne.index,we,ke);break}case"bt":{D(te.clientY,ne.index,Fe,oe);break}case"tb":{D(te.clientY,ne.index,oe,Fe);break}}},V=te=>{if(te.button!==0)return;const z=cr($["data-melt-id"]),ne=W(te);if(!ne||!z)return;const ke=te.target;!yt(ke)||!z.contains(ke)||(te.preventDefault(),m.set(ne),ne.thumb.focus(),c.set(!0),F(te))},K=()=>{c.set(!1)},Z=Ht(pt(document,"pointerdown",V),pt(document,"pointerup",K),pt(document,"pointerleave",K),pt(document,"pointermove",F));return()=>{Z()}}),Pt([r,o,i,f],function([L,I,N,A]){const g=D=>mr(D,I,N,L)===D,C=D=>mr(D,I,N,L);A.some(D=>!g(D))&&f.update(D=>D.map(C))}),{elements:{root:S,thumbs:q,range:R,ticks:j},states:{value:f},options:n}},$h={positioning:{placement:"bottom"},arrowSize:8,defaultOpen:!1,closeOnPointerDown:!0,openDelay:1e3,closeDelay:0,forceVisible:!1,portal:void 0,closeOnEscape:!0,disableHoverableContent:!1,group:void 0},{name:hr}=Qi("tooltip"),ai=new Map,Rh=["trigger","content"];function Lh(t){const e={...$h,...t},n=En(er(e,"open","ids")),{positioning:o,arrowSize:i,closeOnPointerDown:r,openDelay:l,closeDelay:a,forceVisible:s,portal:u,closeOnEscape:f,disableHoverableContent:c,group:d}=n,m=e.open??Ke(e.defaultOpen),h=tr(m,e==null?void 0:e.onOpenChange),_=Ke(null),p=En({...dl(Rh),...e.ids});let w=!1;const y=g=>Vo?document.getElementById(p[g].get()):null;let S=null,R=null;function q(g){R&&(window.clearTimeout(R),R=null),S||(S=window.setTimeout(()=>{h.set(!0),_.update(C=>C??g),S=null},l.get()))}function j(g){if(S&&(window.clearTimeout(S),S=null),g&&A){_.set("pointer");return}R||(R=window.setTimeout(()=>{h.set(!1),_.set(null),g&&(w=!1),R=null},a.get()))}const $=on([h,s],([g,C])=>g||C),L=dt(hr("trigger"),{stores:[p.content,p.trigger,h],returned:([g,C,D])=>({"aria-describedby":g,id:C,"data-state":D?"open":"closed"}),action:g=>{const C=W=>{f.get()&&W.key===at.ESCAPE&&(S&&(window.clearTimeout(S),S=null),h.set(!1))};return{destroy:Ht(gt(g,"pointerdown",()=>{r.get()&&(h.set(!1),w=!0,S&&(window.clearTimeout(S),S=null))}),gt(g,"pointerenter",W=>{Yl(W)||q("pointer")}),gt(g,"pointerleave",W=>{Yl(W)||S&&(window.clearTimeout(S),S=null)}),gt(g,"focus",()=>{w||q("focus")}),gt(g,"blur",async()=>{await cl(0),j(!0)}),gt(g,"keydown",C),pt(document,"keydown",C))}}}),I=dt(hr("content"),{stores:[$,h,u,p.content],returned:([g,C,D,W])=>({role:"tooltip",hidden:g?void 0:!0,tabindex:-1,style:_n({display:g?void 0:"none"}),id:W,"data-portal":Bf(D),"data-state":C?"open":"closed"}),action:g=>{let C=nt,D=nt;const W=Pt([$,o,u],([K,Z,te])=>{const z=y("trigger");if(!K||!z){D(),C();return}if(C=Yp(z,g,Z).destroy,te===null){D();return}const ke=Vf(g,te);if(ke){const we=sc(g,ke);we&&we.destroy&&(D=we.destroy)}});function F(K){if(!h.get())return;const Z=K.target;if(!zi(Z)&&!Lm(Z))return;const te=y("trigger");te&&Z.contains(te)&&j()}const V=Ht(gt(g,"pointerenter",()=>q("pointer")),gt(g,"pointerdown",()=>q("pointer")),pt(window,"scroll",F,{capture:!0}));return{destroy(){V(),D(),C(),W()}}}}),N=dt(hr("arrow"),{stores:i,returned:g=>({"data-arrow":!0,style:_n({position:"absolute",width:`var(--arrow-size, ${g}px)`,height:`var(--arrow-size, ${g}px)`})})});let A=!1;return Pt(h,g=>{const C=d.get();if(C===void 0||C===!1)return;if(!g){ai.get(C)===h&&ai.delete(C);return}const D=ai.get(C);D==null||D.set(!1),ai.set(C,h)}),Pt([h,_],([g,C])=>{if(!(!g||!Vo))return Ht(pt(document,"mousemove",D=>{const W=y("content"),F=y("trigger");if(!W||!F)return;const V=c.get()?[F]:[F,W],K=Qm(V);A=zm({x:D.clientX,y:D.clientY},K),C==="pointer"&&(A||j())}))}),{ids:p,elements:{trigger:L,content:I,arrow:N},states:{open:h},options:n}}function jn(t,e){const n={};return e.forEach(o=>{n[o]={[`data-${t}-${o}`]:""}}),o=>n[o]}function qn(){const t=Td();return e=>{const{originalEvent:n}=e.detail,{cancelable:o}=e,i=n.type;t(i,{originalEvent:n,currentTarget:n.currentTarget},{cancelable:o})||e.preventDefault()}}function bo(t){const e={};for(const n in t){const o=t[n];o!==void 0&&(e[n]=o)}return e}function Ln(t){return function(e,n){if(n===void 0)return;const o=t[e];o&&o.set(n)}}function fc(){return{NAME:"alert-dialog",PARTS:["action","cancel","content","description","overlay","portal","title","trigger"]}}function Dh(t){const{NAME:e,PARTS:n}=fc(),o=jn(e,n),i=uc({...bo(t),role:"alertdialog",forceVisible:!0}),r={...i,getAttrs:o,updateOption:Ln(i.options)};return Ji(e,r),{...r,updateOption:Ln(r.options),getAttrs:o}}function Bn(){const{NAME:t}=fc();return Zi(t)}const Fh=t=>({ids:t&1}),ss=t=>({ids:t[0]});function jh(t){let e;const n=t[12].default,o=he(n,t,t[11],ss);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,[r]){o&&o.p&&(!e||r&2049)&&ge(o,n,i,i[11],e?_e(n,i[11],r,Fh):be(i[11]),ss)},i(i){e||(k(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function qh(t,e,n){let o,{$$slots:i={},$$scope:r}=e,{preventScroll:l=void 0}=e,{closeOnEscape:a=void 0}=e,{closeOnOutsideClick:s=!1}=e,{portal:u=void 0}=e,{open:f=void 0}=e,{onOpenChange:c=void 0}=e,{openFocus:d=void 0}=e,{closeFocus:m=void 0}=e,{onOutsideClick:h=void 0}=e;const{states:{open:_},updateOption:p,ids:w}=Dh({closeOnEscape:a,preventScroll:l,closeOnOutsideClick:s,portal:u,forceVisible:!0,defaultOpen:f,openFocus:d,closeFocus:m,onOutsideClick:h,onOpenChange:({next:S})=>(f!==S&&(c==null||c(S),n(2,f=S)),S)}),y=on([w.content,w.description,w.title],([S,R,q])=>({content:S,description:R,title:q}));return le(t,y,S=>n(0,o=S)),t.$$set=S=>{"preventScroll"in S&&n(3,l=S.preventScroll),"closeOnEscape"in S&&n(4,a=S.closeOnEscape),"closeOnOutsideClick"in S&&n(5,s=S.closeOnOutsideClick),"portal"in S&&n(6,u=S.portal),"open"in S&&n(2,f=S.open),"onOpenChange"in S&&n(7,c=S.onOpenChange),"openFocus"in S&&n(8,d=S.openFocus),"closeFocus"in S&&n(9,m=S.closeFocus),"onOutsideClick"in S&&n(10,h=S.onOutsideClick),"$$scope"in S&&n(11,r=S.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&f!==void 0&&_.set(f),t.$$.dirty&8&&p("preventScroll",l),t.$$.dirty&16&&p("closeOnEscape",a),t.$$.dirty&32&&p("closeOnOutsideClick",s),t.$$.dirty&64&&p("portal",u),t.$$.dirty&256&&p("openFocus",d),t.$$.dirty&512&&p("closeFocus",m),t.$$.dirty&1024&&p("onOutsideClick",h)},[o,y,f,l,a,s,u,c,d,m,h,r,i]}class Bh extends pe{constructor(e){super(),me(this,e,qh,jh,ce,{preventScroll:3,closeOnEscape:4,closeOnOutsideClick:5,portal:6,open:2,onOpenChange:7,openFocus:8,closeFocus:9,onOutsideClick:10})}}const Hh=t=>({builder:t&8}),as=t=>({builder:t[3]}),Gh=t=>({builder:t&8}),us=t=>({builder:t[3]});function Wh(t){let e=t[1],n,o,i=t[1]&&_r(t);return{c(){i&&i.c(),n=Le()},m(r,l){i&&i.m(r,l),O(r,n,l),o=!0},p(r,l){r[1]?e?ce(e,r[1])?(i.d(1),i=_r(r),e=r[1],i.c(),i.m(n.parentNode,n)):i.p(r,l):(i=_r(r),e=r[1],i.c(),i.m(n.parentNode,n)):e&&(i.d(1),i=null,e=r[1])},i(r){o||(k(i,r),o=!0)},o(r){T(i,r),o=!1},d(r){r&&M(n),i&&i.d(r)}}}function Vh(t){let e;const n=t[9].default,o=he(n,t,t[8],us);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&264)&&ge(o,n,i,i[8],e?_e(n,i[8],r,Gh):be(i[8]),us)},i(i){e||(k(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function _r(t){let e,n,o,i;const r=t[9].default,l=he(r,t,t[8],as);let a=[t[3],t[5]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=P(t[1]),l&&l.c(),gn(t[1])(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[10](e),n=!0,o||(i=We(t[3].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&264)&&ge(l,r,u,u[8],n?_e(r,u[8],f,Hh):be(u[8]),as),gn(u[1])(e,s=Ce(a,[f&8&&u[3],f&32&&u[5]]))},i(u){n||(k(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&M(e),l&&l.d(u),t[10](null),o=!1,i()}}}function xh(t){let e,n,o,i;const r=[Vh,Wh],l=[];function a(s,u){return s[2]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Le()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),T(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){T(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function Yh(t,e,n){let o;const i=["level","asChild","id","el"];let r=ae(e,i),l,{$$slots:a={},$$scope:s}=e,{level:u="h2"}=e,{asChild:f=!1}=e,{id:c=void 0}=e,{el:d=void 0}=e;const{elements:{title:m},ids:h,getAttrs:_}=Bn();le(t,m,y=>n(7,l=y));const p=_("title");function w(y){Ee[y?"unshift":"push"](()=>{d=y,n(0,d)})}return t.$$set=y=>{e=J(J({},e),je(y)),n(5,r=ae(e,i)),"level"in y&&n(1,u=y.level),"asChild"in y&&n(2,f=y.asChild),"id"in y&&n(6,c=y.id),"el"in y&&n(0,d=y.el),"$$scope"in y&&n(8,s=y.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&c&&h.title.set(c),t.$$.dirty&128&&n(3,o=l),t.$$.dirty&8&&Object.assign(o,p)},[d,u,f,o,m,r,c,l,s,a,w]}let Uh=class extends pe{constructor(e){super(),me(this,e,Yh,xh,ce,{level:1,asChild:2,id:6,el:0})}};const Kh=t=>({builder:t&4}),fs=t=>({builder:t[2]}),Xh=t=>({builder:t&4}),cs=t=>({builder:t[2]});function Jh(t){let e,n,o,i;const r=t[8].default,l=he(r,t,t[7],fs);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=P("button"),l&&l.c(),fe(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[9](e),n=!0,o||(i=[We(t[2].action(e)),ee(e,"m-click",t[4]),ee(e,"m-keydown",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&ge(l,r,u,u[7],n?_e(r,u[7],f,Kh):be(u[7]),fs),fe(e,s=Ce(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(k(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&M(e),l&&l.d(u),t[9](null),o=!1,xe(i)}}}function Zh(t){let e;const n=t[8].default,o=he(n,t,t[7],cs);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&ge(o,n,i,i[7],e?_e(n,i[7],r,Xh):be(i[7]),cs)},i(i){e||(k(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function Qh(t){let e,n,o,i;const r=[Zh,Jh],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Le()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),T(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){T(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function zh(t,e,n){let o;const i=["asChild","el"];let r=ae(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:d}=Bn();le(t,c,p=>n(6,l=p));const m=qn(),h=d("action");function _(p){Ee[p?"unshift":"push"](()=>{f=p,n(0,f)})}return t.$$set=p=>{e=J(J({},e),je(p)),n(5,r=ae(e,i)),"asChild"in p&&n(1,u=p.asChild),"el"in p&&n(0,f=p.el),"$$scope"in p&&n(7,s=p.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,h)},[f,u,o,c,m,r,l,s,a,_]}let e_=class extends pe{constructor(e){super(),me(this,e,zh,Qh,ce,{asChild:1,el:0})}};const t_=t=>({builder:t&4}),ds=t=>({builder:t[2]}),n_=t=>({builder:t&4}),ms=t=>({builder:t[2]});function o_(t){let e,n,o,i;const r=t[8].default,l=he(r,t,t[7],ds);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=P("button"),l&&l.c(),fe(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[9](e),n=!0,o||(i=[We(t[2].action(e)),ee(e,"m-click",t[4]),ee(e,"m-keydown",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&ge(l,r,u,u[7],n?_e(r,u[7],f,t_):be(u[7]),ds),fe(e,s=Ce(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(k(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&M(e),l&&l.d(u),t[9](null),o=!1,xe(i)}}}function i_(t){let e;const n=t[8].default,o=he(n,t,t[7],ms);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&ge(o,n,i,i[7],e?_e(n,i[7],r,n_):be(i[7]),ms)},i(i){e||(k(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function r_(t){let e,n,o,i;const r=[i_,o_],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Le()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),T(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){T(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function l_(t,e,n){let o;const i=["asChild","el"];let r=ae(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:d}=Bn();le(t,c,p=>n(6,l=p));const m=qn(),h=d("cancel");function _(p){Ee[p?"unshift":"push"](()=>{f=p,n(0,f)})}return t.$$set=p=>{e=J(J({},e),je(p)),n(5,r=ae(e,i)),"asChild"in p&&n(1,u=p.asChild),"el"in p&&n(0,f=p.el),"$$scope"in p&&n(7,s=p.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,h)},[f,u,o,c,m,r,l,s,a,_]}let s_=class extends pe{constructor(e){super(),me(this,e,l_,r_,ce,{asChild:1,el:0})}};const a_=t=>({builder:t&4}),ps=t=>({builder:t[2]}),u_=t=>({builder:t&4}),hs=t=>({builder:t[2]});function f_(t){let e,n,o,i;const r=t[7].default,l=he(r,t,t[6],ps);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=P("div"),l&&l.c(),fe(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[8](e),n=!0,o||(i=We(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&68)&&ge(l,r,u,u[6],n?_e(r,u[6],f,a_):be(u[6]),ps),fe(e,s=Ce(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(k(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&M(e),l&&l.d(u),t[8](null),o=!1,i()}}}function c_(t){let e;const n=t[7].default,o=he(n,t,t[6],hs);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&68)&&ge(o,n,i,i[6],e?_e(n,i[6],r,u_):be(i[6]),hs)},i(i){e||(k(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function d_(t){let e,n,o,i;const r=[c_,f_],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Le()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),T(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){T(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function m_(t,e,n){let o;const i=["asChild","el"];let r=ae(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{portalled:c},getAttrs:d}=Bn();le(t,c,_=>n(5,l=_));const m=d("portal");function h(_){Ee[_?"unshift":"push"](()=>{f=_,n(0,f)})}return t.$$set=_=>{e=J(J({},e),je(_)),n(4,r=ae(e,i)),"asChild"in _&&n(1,u=_.asChild),"el"in _&&n(0,f=_.el),"$$scope"in _&&n(6,s=_.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,m)},[f,u,o,c,r,l,s,a,h]}let p_=class extends pe{constructor(e){super(),me(this,e,m_,d_,ce,{asChild:1,el:0})}};const h_=t=>({builder:t[0]&256}),_s=t=>({builder:t[8]}),__=t=>({builder:t[0]&256}),gs=t=>({builder:t[8]}),g_=t=>({builder:t[0]&256}),bs=t=>({builder:t[8]}),b_=t=>({builder:t[0]&256}),vs=t=>({builder:t[8]}),v_=t=>({builder:t[0]&256}),ys=t=>({builder:t[8]}),y_=t=>({builder:t[0]&256}),ws=t=>({builder:t[8]});function w_(t){let e,n,o,i;const r=t[16].default,l=he(r,t,t[15],_s);let a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=P("div"),l&&l.c(),fe(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[56](e),n=!0,o||(i=[We(t[8].action(e)),ee(e,"pointerdown",t[45]),ee(e,"pointermove",t[46]),ee(e,"pointerup",t[47]),ee(e,"touchend",t[48]),ee(e,"touchstart",t[49]),ee(e,"touchcancel",t[50]),ee(e,"touchmove",t[51])],o=!0)},p(u,f){l&&l.p&&(!n||f[0]&33024)&&ge(l,r,u,u[15],n?_e(r,u[15],f,h_):be(u[15]),_s),fe(e,s=Ce(a,[f[0]&256&&u[8],f[0]&4096&&u[12]]))},i(u){n||(k(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&M(e),l&&l.d(u),t[56](null),o=!1,xe(i)}}}function k_(t){let e,n,o,i,r;const l=t[16].default,a=he(l,t,t[15],gs);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=J(u,s[f]);return{c(){e=P("div"),a&&a.c(),fe(e,u)},m(f,c){O(f,e,c),a&&a.m(e,null),t[55](e),o=!0,i||(r=[We(t[8].action(e)),ee(e,"pointerdown",t[38]),ee(e,"pointermove",t[39]),ee(e,"pointerup",t[40]),ee(e,"touchend",t[41]),ee(e,"touchstart",t[42]),ee(e,"touchcancel",t[43]),ee(e,"touchmove",t[44])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&ge(a,l,t,t[15],o?_e(l,t[15],c,__):be(t[15]),gs),fe(e,u=Ce(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(k(a,f),n&&n.end(1),o=!0)},o(f){T(a,f),f&&(n=Yt(e,t[5],t[6])),o=!1},d(f){f&&M(e),a&&a.d(f),t[55](null),f&&n&&n.end(),i=!1,xe(r)}}}function C_(t){let e,n,o,i,r;const l=t[16].default,a=he(l,t,t[15],bs);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=J(u,s[f]);return{c(){e=P("div"),a&&a.c(),fe(e,u)},m(f,c){O(f,e,c),a&&a.m(e,null),t[54](e),o=!0,i||(r=[We(t[8].action(e)),ee(e,"pointerdown",t[31]),ee(e,"pointermove",t[32]),ee(e,"pointerup",t[33]),ee(e,"touchend",t[34]),ee(e,"touchstart",t[35]),ee(e,"touchcancel",t[36]),ee(e,"touchmove",t[37])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&ge(a,l,t,t[15],o?_e(l,t[15],c,g_):be(t[15]),bs),fe(e,u=Ce(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(k(a,f),f&&(n||it(()=>{n=xt(e,t[3],t[4]),n.start()})),o=!0)},o(f){T(a,f),o=!1},d(f){f&&M(e),a&&a.d(f),t[54](null),i=!1,xe(r)}}}function T_(t){let e,n,o,i,r,l;const a=t[16].default,s=he(a,t,t[15],vs);let u=[t[8],t[12]],f={};for(let c=0;c<u.length;c+=1)f=J(f,u[c]);return{c(){e=P("div"),s&&s.c(),fe(e,f)},m(c,d){O(c,e,d),s&&s.m(e,null),t[53](e),i=!0,r||(l=[We(t[8].action(e)),ee(e,"pointerdown",t[24]),ee(e,"pointermove",t[25]),ee(e,"pointerup",t[26]),ee(e,"touchend",t[27]),ee(e,"touchstart",t[28]),ee(e,"touchcancel",t[29]),ee(e,"touchmove",t[30])],r=!0)},p(c,d){t=c,s&&s.p&&(!i||d[0]&33024)&&ge(s,a,t,t[15],i?_e(a,t[15],d,b_):be(t[15]),vs),fe(e,f=Ce(u,[d[0]&256&&t[8],d[0]&4096&&t[12]]))},i(c){i||(k(s,c),c&&it(()=>{i&&(o&&o.end(1),n=xt(e,t[3],t[4]),n.start())}),i=!0)},o(c){T(s,c),n&&n.invalidate(),c&&(o=Yt(e,t[5],t[6])),i=!1},d(c){c&&M(e),s&&s.d(c),t[53](null),c&&o&&o.end(),r=!1,xe(l)}}}function A_(t){let e,n,o,i,r;const l=t[16].default,a=he(l,t,t[15],ys);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=J(u,s[f]);return{c(){e=P("div"),a&&a.c(),fe(e,u)},m(f,c){O(f,e,c),a&&a.m(e,null),t[52](e),o=!0,i||(r=[We(t[8].action(e)),ee(e,"pointerdown",t[17]),ee(e,"pointermove",t[18]),ee(e,"pointerup",t[19]),ee(e,"touchend",t[20]),ee(e,"touchstart",t[21]),ee(e,"touchcancel",t[22]),ee(e,"touchmove",t[23])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&ge(a,l,t,t[15],o?_e(l,t[15],c,v_):be(t[15]),ys),fe(e,u=Ce(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(k(a,f),f&&it(()=>{o&&(n||(n=bt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(f){T(a,f),f&&(n||(n=bt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(f){f&&M(e),a&&a.d(f),t[52](null),f&&n&&n.end(),i=!1,xe(r)}}}function S_(t){let e;const n=t[16].default,o=he(n,t,t[15],ws);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r[0]&33024)&&ge(o,n,i,i[15],e?_e(n,i[15],r,y_):be(i[15]),ws)},i(i){e||(k(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function I_(t){let e,n,o,i;const r=[S_,A_,T_,C_,k_,w_],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=Le()},m(s,u){~e&&l[e].m(s,u),O(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Me(),T(l[f],1,1,()=>{l[f]=null}),Oe()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(k(n),i=!0)},o(s){T(n),i=!1},d(s){s&&M(o),~e&&l[e].d(s)}}}function M_(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","id","asChild","el"];let r=ae(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:h=void 0}=e,{outTransitionConfig:_=void 0}=e,{id:p=void 0}=e,{asChild:w=!1}=e,{el:y=void 0}=e;const{elements:{content:S},states:{open:R},ids:q,getAttrs:j}=Bn();le(t,S,H=>n(14,l=H)),le(t,R,H=>n(9,a=H));const $=j("content");function L(H){re.call(this,t,H)}function I(H){re.call(this,t,H)}function N(H){re.call(this,t,H)}function A(H){re.call(this,t,H)}function g(H){re.call(this,t,H)}function C(H){re.call(this,t,H)}function D(H){re.call(this,t,H)}function W(H){re.call(this,t,H)}function F(H){re.call(this,t,H)}function V(H){re.call(this,t,H)}function K(H){re.call(this,t,H)}function Z(H){re.call(this,t,H)}function te(H){re.call(this,t,H)}function z(H){re.call(this,t,H)}function ne(H){re.call(this,t,H)}function ke(H){re.call(this,t,H)}function we(H){re.call(this,t,H)}function oe(H){re.call(this,t,H)}function Fe(H){re.call(this,t,H)}function b(H){re.call(this,t,H)}function Q(H){re.call(this,t,H)}function X(H){re.call(this,t,H)}function ue(H){re.call(this,t,H)}function Te(H){re.call(this,t,H)}function de(H){re.call(this,t,H)}function Pe(H){re.call(this,t,H)}function qe(H){re.call(this,t,H)}function He(H){re.call(this,t,H)}function De(H){re.call(this,t,H)}function Je(H){re.call(this,t,H)}function Xe(H){re.call(this,t,H)}function Ye(H){re.call(this,t,H)}function Ie(H){re.call(this,t,H)}function Ne(H){re.call(this,t,H)}function Re(H){re.call(this,t,H)}function ze(H){Ee[H?"unshift":"push"](()=>{y=H,n(0,y)})}function lt(H){Ee[H?"unshift":"push"](()=>{y=H,n(0,y)})}function rt(H){Ee[H?"unshift":"push"](()=>{y=H,n(0,y)})}function ve(H){Ee[H?"unshift":"push"](()=>{y=H,n(0,y)})}function Ze(H){Ee[H?"unshift":"push"](()=>{y=H,n(0,y)})}return t.$$set=H=>{e=J(J({},e),je(H)),n(12,r=ae(e,i)),"transition"in H&&n(1,f=H.transition),"transitionConfig"in H&&n(2,c=H.transitionConfig),"inTransition"in H&&n(3,d=H.inTransition),"inTransitionConfig"in H&&n(4,m=H.inTransitionConfig),"outTransition"in H&&n(5,h=H.outTransition),"outTransitionConfig"in H&&n(6,_=H.outTransitionConfig),"id"in H&&n(13,p=H.id),"asChild"in H&&n(7,w=H.asChild),"el"in H&&n(0,y=H.el),"$$scope"in H&&n(15,u=H.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&8192&&p&&q.content.set(p),t.$$.dirty[0]&16384&&n(8,o=l),t.$$.dirty[0]&256&&Object.assign(o,$)},[y,f,c,d,m,h,_,w,o,a,S,R,r,p,l,u,s,L,I,N,A,g,C,D,W,F,V,K,Z,te,z,ne,ke,we,oe,Fe,b,Q,X,ue,Te,de,Pe,qe,He,De,Je,Xe,Ye,Ie,Ne,Re,ze,lt,rt,ve,Ze]}let O_=class extends pe{constructor(e){super(),me(this,e,M_,I_,ce,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,id:13,asChild:7,el:0},null,[-1,-1])}};const P_=t=>({builder:t&256}),ks=t=>({builder:t[8]});function N_(t){let e,n,o,i=[t[8],t[12]],r={};for(let l=0;l<i.length;l+=1)r=J(r,i[l]);return{c(){e=P("div"),fe(e,r)},m(l,a){O(l,e,a),t[20](e),n||(o=We(t[8].action(e)),n=!0)},p(l,a){fe(e,r=Ce(i,[a&256&&l[8],a&4096&&l[12]]))},i:ye,o:ye,d(l){l&&M(e),t[20](null),n=!1,o()}}}function E_(t){let e,n,o,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=J(a,l[s]);return{c(){e=P("div"),fe(e,a)},m(s,u){O(s,e,u),t[19](e),o=!0,i||(r=We(t[8].action(e)),i=!0)},p(s,u){t=s,fe(e,a=Ce(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(n&&n.end(1),o=!0)},o(s){s&&(n=Yt(e,t[5],t[6])),o=!1},d(s){s&&M(e),t[19](null),s&&n&&n.end(),i=!1,r()}}}function $_(t){let e,n,o,i,r=[t[8],t[12]],l={};for(let a=0;a<r.length;a+=1)l=J(l,r[a]);return{c(){e=P("div"),fe(e,l)},m(a,s){O(a,e,s),t[18](e),o||(i=We(t[8].action(e)),o=!0)},p(a,s){t=a,fe(e,l=Ce(r,[s&256&&t[8],s&4096&&t[12]]))},i(a){a&&(n||it(()=>{n=xt(e,t[3],t[4]),n.start()}))},o:ye,d(a){a&&M(e),t[18](null),o=!1,i()}}}function R_(t){let e,n,o,i,r,l,a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=P("div"),fe(e,s)},m(u,f){O(u,e,f),t[17](e),i=!0,r||(l=We(t[8].action(e)),r=!0)},p(u,f){t=u,fe(e,s=Ce(a,[f&256&&t[8],f&4096&&t[12]]))},i(u){i||(u&&it(()=>{i&&(o&&o.end(1),n=xt(e,t[3],t[4]),n.start())}),i=!0)},o(u){n&&n.invalidate(),u&&(o=Yt(e,t[5],t[6])),i=!1},d(u){u&&M(e),t[17](null),u&&o&&o.end(),r=!1,l()}}}function L_(t){let e,n,o,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=J(a,l[s]);return{c(){e=P("div"),fe(e,a)},m(s,u){O(s,e,u),t[16](e),o=!0,i||(r=We(t[8].action(e)),i=!0)},p(s,u){t=s,fe(e,a=Ce(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(s&&it(()=>{o&&(n||(n=bt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(s){s&&(n||(n=bt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(s){s&&M(e),t[16](null),s&&n&&n.end(),i=!1,r()}}}function D_(t){let e;const n=t[15].default,o=he(n,t,t[14],ks);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&16640)&&ge(o,n,i,i[14],e?_e(n,i[14],r,P_):be(i[14]),ks)},i(i){e||(k(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function F_(t){let e,n,o,i;const r=[D_,L_,R_,$_,E_,N_],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=Le()},m(s,u){~e&&l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Me(),T(l[f],1,1,()=>{l[f]=null}),Oe()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(k(n),i=!0)},o(s){T(n),i=!1},d(s){s&&M(o),~e&&l[e].d(s)}}}function j_(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","el"];let r=ae(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:h=void 0}=e,{outTransitionConfig:_=void 0}=e,{asChild:p=!1}=e,{el:w=void 0}=e;const{elements:{overlay:y},states:{open:S},getAttrs:R}=Bn();le(t,y,A=>n(13,l=A)),le(t,S,A=>n(9,a=A));const q=R("overlay");function j(A){Ee[A?"unshift":"push"](()=>{w=A,n(0,w)})}function $(A){Ee[A?"unshift":"push"](()=>{w=A,n(0,w)})}function L(A){Ee[A?"unshift":"push"](()=>{w=A,n(0,w)})}function I(A){Ee[A?"unshift":"push"](()=>{w=A,n(0,w)})}function N(A){Ee[A?"unshift":"push"](()=>{w=A,n(0,w)})}return t.$$set=A=>{e=J(J({},e),je(A)),n(12,r=ae(e,i)),"transition"in A&&n(1,f=A.transition),"transitionConfig"in A&&n(2,c=A.transitionConfig),"inTransition"in A&&n(3,d=A.inTransition),"inTransitionConfig"in A&&n(4,m=A.inTransitionConfig),"outTransition"in A&&n(5,h=A.outTransition),"outTransitionConfig"in A&&n(6,_=A.outTransitionConfig),"asChild"in A&&n(7,p=A.asChild),"el"in A&&n(0,w=A.el),"$$scope"in A&&n(14,u=A.$$scope)},t.$$.update=()=>{t.$$.dirty&8192&&n(8,o=l),t.$$.dirty&256&&Object.assign(o,q)},[w,f,c,d,m,h,_,p,o,a,y,S,r,l,u,s,j,$,L,I,N]}let q_=class extends pe{constructor(e){super(),me(this,e,j_,F_,ce,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,el:0})}};const B_=t=>({builder:t&4}),Cs=t=>({builder:t[2]}),H_=t=>({builder:t&4}),Ts=t=>({builder:t[2]});function G_(t){let e,n,o,i;const r=t[8].default,l=he(r,t,t[7],Cs);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=P("div"),l&&l.c(),fe(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[9](e),n=!0,o||(i=We(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&ge(l,r,u,u[7],n?_e(r,u[7],f,B_):be(u[7]),Cs),fe(e,s=Ce(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(k(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&M(e),l&&l.d(u),t[9](null),o=!1,i()}}}function W_(t){let e;const n=t[8].default,o=he(n,t,t[7],Ts);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&ge(o,n,i,i[7],e?_e(n,i[7],r,H_):be(i[7]),Ts)},i(i){e||(k(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function V_(t){let e,n,o,i;const r=[W_,G_],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Le()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),T(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){T(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function x_(t,e,n){let o;const i=["asChild","id","el"];let r=ae(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{description:d},ids:m,getAttrs:h}=Bn();le(t,d,w=>n(6,l=w));const _=h("description");function p(w){Ee[w?"unshift":"push"](()=>{c=w,n(0,c)})}return t.$$set=w=>{e=J(J({},e),je(w)),n(4,r=ae(e,i)),"asChild"in w&&n(1,u=w.asChild),"id"in w&&n(5,f=w.id),"el"in w&&n(0,c=w.el),"$$scope"in w&&n(7,s=w.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f&&m.description.set(f),t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,_)},[c,u,o,d,r,f,l,s,a,p]}let Y_=class extends pe{constructor(e){super(),me(this,e,x_,V_,ce,{asChild:1,id:5,el:0})}};function U_(t,e){const n=[];return e.builders.forEach(o=>{const i=o.action(t);i&&n.push(i)}),{destroy:()=>{n.forEach(o=>{o.destroy&&o.destroy()})}}}function As(t){const e={};return t.forEach(n=>{Object.keys(n).forEach(o=>{o!=="action"&&(e[o]=n[o])})}),e}function K_(t){let e=t[1]?"a":"button",n,o,i=(t[1]?"a":"button")&&gr(t);return{c(){i&&i.c(),n=Le()},m(r,l){i&&i.m(r,l),O(r,n,l),o=!0},p(r,l){r[1],e?ce(e,r[1]?"a":"button")?(i.d(1),i=gr(r),e=r[1]?"a":"button",i.c(),i.m(n.parentNode,n)):i.p(r,l):(i=gr(r),e=r[1]?"a":"button",i.c(),i.m(n.parentNode,n))},i(r){o||(k(i,r),o=!0)},o(r){T(i,r),o=!1},d(r){r&&M(n),i&&i.d(r)}}}function X_(t){let e=t[1]?"a":"button",n,o,i=(t[1]?"a":"button")&&br(t);return{c(){i&&i.c(),n=Le()},m(r,l){i&&i.m(r,l),O(r,n,l),o=!0},p(r,l){r[1],e?ce(e,r[1]?"a":"button")?(i.d(1),i=br(r),e=r[1]?"a":"button",i.c(),i.m(n.parentNode,n)):i.p(r,l):(i=br(r),e=r[1]?"a":"button",i.c(),i.m(n.parentNode,n))},i(r){o||(k(i,r),o=!0)},o(r){T(i,r),o=!1},d(r){r&&M(n),i&&i.d(r)}}}function gr(t){let e,n,o,i,r;const l=t[7].default,a=he(l,t,t[6],null);let s=[{type:n=t[1]?void 0:t[2]},{href:t[1]},{tabindex:"0"},t[5],t[4]],u={};for(let f=0;f<s.length;f+=1)u=J(u,s[f]);return{c(){e=P(t[1]?"a":"button"),a&&a.c(),gn(t[1]?"a":"button")(e,u)},m(f,c){O(f,e,c),a&&a.m(e,null),o=!0,i||(r=[ee(e,"click",t[14]),ee(e,"change",t[15]),ee(e,"keydown",t[16]),ee(e,"keyup",t[17]),ee(e,"mouseenter",t[18]),ee(e,"mouseleave",t[19])],i=!0)},p(f,c){a&&a.p&&(!o||c&64)&&ge(a,l,f,f[6],o?_e(l,f[6],c,null):be(f[6]),null),gn(f[1]?"a":"button")(e,u=Ce(s,[(!o||c&6&&n!==(n=f[1]?void 0:f[2]))&&{type:n},(!o||c&2)&&{href:f[1]},{tabindex:"0"},c&32&&f[5],f[4]]))},i(f){o||(k(a,f),o=!0)},o(f){T(a,f),o=!1},d(f){f&&M(e),a&&a.d(f),i=!1,xe(r)}}}function br(t){let e,n,o,i,r,l;const a=t[7].default,s=he(a,t,t[6],null);let u=[{type:n=t[1]?void 0:t[2]},{href:t[1]},{tabindex:"0"},As(t[3]),t[5],t[4]],f={};for(let c=0;c<u.length;c+=1)f=J(f,u[c]);return{c(){e=P(t[1]?"a":"button"),s&&s.c(),gn(t[1]?"a":"button")(e,f)},m(c,d){O(c,e,d),s&&s.m(e,null),t[20](e),i=!0,r||(l=[ee(e,"click",t[8]),ee(e,"change",t[9]),ee(e,"keydown",t[10]),ee(e,"keyup",t[11]),ee(e,"mouseenter",t[12]),ee(e,"mouseleave",t[13]),We(o=U_.call(null,e,{builders:t[3]}))],r=!0)},p(c,d){s&&s.p&&(!i||d&64)&&ge(s,a,c,c[6],i?_e(a,c[6],d,null):be(c[6]),null),gn(c[1]?"a":"button")(e,f=Ce(u,[(!i||d&6&&n!==(n=c[1]?void 0:c[2]))&&{type:n},(!i||d&2)&&{href:c[1]},{tabindex:"0"},d&8&&As(c[3]),d&32&&c[5],c[4]])),o&&Ft(o.update)&&d&8&&o.update.call(null,{builders:c[3]})},i(c){i||(k(s,c),i=!0)},o(c){T(s,c),i=!1},d(c){c&&M(e),s&&s.d(c),t[20](null),r=!1,xe(l)}}}function J_(t){let e,n,o,i;const r=[X_,K_],l=[];function a(s,u){return s[3]&&s[3].length?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Le()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),T(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){T(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function Z_(t,e,n){const o=["href","type","builders","el"];let i=ae(e,o),{$$slots:r={},$$scope:l}=e,{href:a=void 0}=e,{type:s=void 0}=e,{builders:u=[]}=e,{el:f=void 0}=e;const c={"data-button-root":""};function d(I){re.call(this,t,I)}function m(I){re.call(this,t,I)}function h(I){re.call(this,t,I)}function _(I){re.call(this,t,I)}function p(I){re.call(this,t,I)}function w(I){re.call(this,t,I)}function y(I){re.call(this,t,I)}function S(I){re.call(this,t,I)}function R(I){re.call(this,t,I)}function q(I){re.call(this,t,I)}function j(I){re.call(this,t,I)}function $(I){re.call(this,t,I)}function L(I){Ee[I?"unshift":"push"](()=>{f=I,n(0,f)})}return t.$$set=I=>{e=J(J({},e),je(I)),n(5,i=ae(e,o)),"href"in I&&n(1,a=I.href),"type"in I&&n(2,s=I.type),"builders"in I&&n(3,u=I.builders),"el"in I&&n(0,f=I.el),"$$scope"in I&&n(6,l=I.$$scope)},[f,a,s,u,c,i,l,r,d,m,h,_,p,w,y,S,R,q,j,$,L]}let Q_=class extends pe{constructor(e){super(),me(this,e,Z_,J_,ce,{href:1,type:2,builders:3,el:0})}};function z_(t){return(e={})=>e0(t,e)}function e0(t,e){const o={...{side:"bottom",align:"center",sideOffset:0,alignOffset:0,sameWidth:!1,avoidCollisions:!0,collisionPadding:8,fitViewport:!1,strategy:"absolute",overlap:!1},...e};t.update(i=>({...i,placement:t0(o.side,o.align),offset:{...i.offset,mainAxis:o.sideOffset,crossAxis:o.alignOffset},gutter:0,sameWidth:o.sameWidth,flip:o.avoidCollisions,overflowPadding:o.collisionPadding,boundary:o.collisionBoundary,fitViewport:o.fitViewport,strategy:o.strategy,overlap:o.overlap}))}function t0(t,e){return e==="center"?t:`${t}-${e}`}function n0(){return{NAME:"separator",PARTS:["root"]}}function o0(t){const{NAME:e,PARTS:n}=n0(),o=jn(e,n),i={...Ph(bo(t)),getAttrs:o};return{...i,updateOption:Ln(i.options)}}const i0=t=>({builder:t&4}),Ss=t=>({builder:t[2]});function r0(t){let e,n,o,i=[t[2],t[4]],r={};for(let l=0;l<i.length;l+=1)r=J(r,i[l]);return{c(){e=P("div"),fe(e,r)},m(l,a){O(l,e,a),t[10](e),n||(o=We(t[2].action(e)),n=!0)},p(l,a){fe(e,r=Ce(i,[a&4&&l[2],a&16&&l[4]]))},i:ye,o:ye,d(l){l&&M(e),t[10](null),n=!1,o()}}}function l0(t){let e;const n=t[9].default,o=he(n,t,t[8],Ss);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&260)&&ge(o,n,i,i[8],e?_e(n,i[8],r,i0):be(i[8]),Ss)},i(i){e||(k(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function s0(t){let e,n,o,i;const r=[l0,r0],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Le()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),T(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){T(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function a0(t,e,n){let o;const i=["orientation","decorative","asChild","el"];let r=ae(e,i),l,{$$slots:a={},$$scope:s}=e,{orientation:u="horizontal"}=e,{decorative:f=!0}=e,{asChild:c=!1}=e,{el:d=void 0}=e;const{elements:{root:m},updateOption:h,getAttrs:_}=o0({orientation:u,decorative:f});le(t,m,y=>n(7,l=y));const p=_("root");function w(y){Ee[y?"unshift":"push"](()=>{d=y,n(0,d)})}return t.$$set=y=>{e=J(J({},e),je(y)),n(4,r=ae(e,i)),"orientation"in y&&n(5,u=y.orientation),"decorative"in y&&n(6,f=y.decorative),"asChild"in y&&n(1,c=y.asChild),"el"in y&&n(0,d=y.el),"$$scope"in y&&n(8,s=y.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&h("orientation",u),t.$$.dirty&64&&h("decorative",f),t.$$.dirty&128&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,p)},[d,c,o,m,r,u,f,l,s,a,w]}let u0=class extends pe{constructor(e){super(),me(this,e,a0,s0,ce,{orientation:5,decorative:6,asChild:1,el:0})}};function cc(){return{NAME:"dialog",PARTS:["close","content","description","overlay","portal","title","trigger"]}}function f0(t){const{NAME:e,PARTS:n}=cc(),o=jn(e,n),i={...uc({...bo(t),role:"dialog",forceVisible:!0}),getAttrs:o};return Ji(e,i),{...i,updateOption:Ln(i.options)}}function vo(){const{NAME:t}=cc();return Zi(t)}const c0=t=>({ids:t&1}),Is=t=>({ids:t[0]});function d0(t){let e;const n=t[12].default,o=he(n,t,t[11],Is);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,[r]){o&&o.p&&(!e||r&2049)&&ge(o,n,i,i[11],e?_e(n,i[11],r,c0):be(i[11]),Is)},i(i){e||(k(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function m0(t,e,n){let o,{$$slots:i={},$$scope:r}=e,{preventScroll:l=void 0}=e,{closeOnEscape:a=void 0}=e,{closeOnOutsideClick:s=void 0}=e,{portal:u=void 0}=e,{open:f=void 0}=e,{onOpenChange:c=void 0}=e,{openFocus:d=void 0}=e,{closeFocus:m=void 0}=e,{onOutsideClick:h=void 0}=e;const{states:{open:_},updateOption:p,ids:w}=f0({closeOnEscape:a,preventScroll:l,closeOnOutsideClick:s,portal:u,forceVisible:!0,defaultOpen:f,openFocus:d,closeFocus:m,onOutsideClick:h,onOpenChange:({next:S})=>(f!==S&&(c==null||c(S),n(2,f=S)),S)}),y=on([w.content,w.description,w.title],([S,R,q])=>({content:S,description:R,title:q}));return le(t,y,S=>n(0,o=S)),t.$$set=S=>{"preventScroll"in S&&n(3,l=S.preventScroll),"closeOnEscape"in S&&n(4,a=S.closeOnEscape),"closeOnOutsideClick"in S&&n(5,s=S.closeOnOutsideClick),"portal"in S&&n(6,u=S.portal),"open"in S&&n(2,f=S.open),"onOpenChange"in S&&n(7,c=S.onOpenChange),"openFocus"in S&&n(8,d=S.openFocus),"closeFocus"in S&&n(9,m=S.closeFocus),"onOutsideClick"in S&&n(10,h=S.onOutsideClick),"$$scope"in S&&n(11,r=S.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&f!==void 0&&_.set(f),t.$$.dirty&8&&p("preventScroll",l),t.$$.dirty&16&&p("closeOnEscape",a),t.$$.dirty&32&&p("closeOnOutsideClick",s),t.$$.dirty&64&&p("portal",u),t.$$.dirty&256&&p("openFocus",d),t.$$.dirty&512&&p("closeFocus",m),t.$$.dirty&1024&&p("onOutsideClick",h)},[o,y,f,l,a,s,u,c,d,m,h,r,i]}class p0 extends pe{constructor(e){super(),me(this,e,m0,d0,ce,{preventScroll:3,closeOnEscape:4,closeOnOutsideClick:5,portal:6,open:2,onOpenChange:7,openFocus:8,closeFocus:9,onOutsideClick:10})}}const h0=t=>({builder:t&8}),Ms=t=>({builder:t[3]}),_0=t=>({builder:t&8}),Os=t=>({builder:t[3]});function g0(t){let e=t[1],n,o,i=t[1]&&vr(t);return{c(){i&&i.c(),n=Le()},m(r,l){i&&i.m(r,l),O(r,n,l),o=!0},p(r,l){r[1]?e?ce(e,r[1])?(i.d(1),i=vr(r),e=r[1],i.c(),i.m(n.parentNode,n)):i.p(r,l):(i=vr(r),e=r[1],i.c(),i.m(n.parentNode,n)):e&&(i.d(1),i=null,e=r[1])},i(r){o||(k(i,r),o=!0)},o(r){T(i,r),o=!1},d(r){r&&M(n),i&&i.d(r)}}}function b0(t){let e;const n=t[9].default,o=he(n,t,t[8],Os);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&264)&&ge(o,n,i,i[8],e?_e(n,i[8],r,_0):be(i[8]),Os)},i(i){e||(k(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function vr(t){let e,n,o,i;const r=t[9].default,l=he(r,t,t[8],Ms);let a=[t[3],t[5]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=P(t[1]),l&&l.c(),gn(t[1])(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[10](e),n=!0,o||(i=We(t[3].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&264)&&ge(l,r,u,u[8],n?_e(r,u[8],f,h0):be(u[8]),Ms),gn(u[1])(e,s=Ce(a,[f&8&&u[3],f&32&&u[5]]))},i(u){n||(k(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&M(e),l&&l.d(u),t[10](null),o=!1,i()}}}function v0(t){let e,n,o,i;const r=[b0,g0],l=[];function a(s,u){return s[2]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Le()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),T(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){T(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function y0(t,e,n){let o;const i=["level","asChild","id","el"];let r=ae(e,i),l,{$$slots:a={},$$scope:s}=e,{level:u="h2"}=e,{asChild:f=!1}=e,{id:c=void 0}=e,{el:d=void 0}=e;const{elements:{title:m},ids:h,getAttrs:_}=vo();le(t,m,y=>n(7,l=y));const p=_("title");function w(y){Ee[y?"unshift":"push"](()=>{d=y,n(0,d)})}return t.$$set=y=>{e=J(J({},e),je(y)),n(5,r=ae(e,i)),"level"in y&&n(1,u=y.level),"asChild"in y&&n(2,f=y.asChild),"id"in y&&n(6,c=y.id),"el"in y&&n(0,d=y.el),"$$scope"in y&&n(8,s=y.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&c&&h.title.set(c),t.$$.dirty&128&&n(3,o=l),t.$$.dirty&8&&Object.assign(o,p)},[d,u,f,o,m,r,c,l,s,a,w]}let w0=class extends pe{constructor(e){super(),me(this,e,y0,v0,ce,{level:1,asChild:2,id:6,el:0})}};const k0=t=>({builder:t&4}),Ps=t=>({builder:t[2]}),C0=t=>({builder:t&4}),Ns=t=>({builder:t[2]});function T0(t){let e,n,o,i;const r=t[8].default,l=he(r,t,t[7],Ps);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=P("button"),l&&l.c(),fe(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[9](e),n=!0,o||(i=[We(t[2].action(e)),ee(e,"m-click",t[4]),ee(e,"m-keydown",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&ge(l,r,u,u[7],n?_e(r,u[7],f,k0):be(u[7]),Ps),fe(e,s=Ce(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(k(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&M(e),l&&l.d(u),t[9](null),o=!1,xe(i)}}}function A0(t){let e;const n=t[8].default,o=he(n,t,t[7],Ns);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&ge(o,n,i,i[7],e?_e(n,i[7],r,C0):be(i[7]),Ns)},i(i){e||(k(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function S0(t){let e,n,o,i;const r=[A0,T0],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Le()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),T(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){T(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function I0(t,e,n){let o;const i=["asChild","el"];let r=ae(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:d}=vo();le(t,c,p=>n(6,l=p));const m=qn(),h=d("close");function _(p){Ee[p?"unshift":"push"](()=>{f=p,n(0,f)})}return t.$$set=p=>{e=J(J({},e),je(p)),n(5,r=ae(e,i)),"asChild"in p&&n(1,u=p.asChild),"el"in p&&n(0,f=p.el),"$$scope"in p&&n(7,s=p.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,h)},[f,u,o,c,m,r,l,s,a,_]}class M0 extends pe{constructor(e){super(),me(this,e,I0,S0,ce,{asChild:1,el:0})}}const O0=t=>({builder:t&4}),Es=t=>({builder:t[2]}),P0=t=>({builder:t&4}),$s=t=>({builder:t[2]});function N0(t){let e,n,o,i;const r=t[7].default,l=he(r,t,t[6],Es);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=P("div"),l&&l.c(),fe(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[8](e),n=!0,o||(i=We(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&68)&&ge(l,r,u,u[6],n?_e(r,u[6],f,O0):be(u[6]),Es),fe(e,s=Ce(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(k(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&M(e),l&&l.d(u),t[8](null),o=!1,i()}}}function E0(t){let e;const n=t[7].default,o=he(n,t,t[6],$s);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&68)&&ge(o,n,i,i[6],e?_e(n,i[6],r,P0):be(i[6]),$s)},i(i){e||(k(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function $0(t){let e,n,o,i;const r=[E0,N0],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Le()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),T(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){T(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function R0(t,e,n){let o;const i=["asChild","el"];let r=ae(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{portalled:c},getAttrs:d}=vo();le(t,c,_=>n(5,l=_));const m=d("portal");function h(_){Ee[_?"unshift":"push"](()=>{f=_,n(0,f)})}return t.$$set=_=>{e=J(J({},e),je(_)),n(4,r=ae(e,i)),"asChild"in _&&n(1,u=_.asChild),"el"in _&&n(0,f=_.el),"$$scope"in _&&n(6,s=_.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,m)},[f,u,o,c,r,l,s,a,h]}let L0=class extends pe{constructor(e){super(),me(this,e,R0,$0,ce,{asChild:1,el:0})}};const D0=t=>({builder:t[0]&256}),Rs=t=>({builder:t[8]}),F0=t=>({builder:t[0]&256}),Ls=t=>({builder:t[8]}),j0=t=>({builder:t[0]&256}),Ds=t=>({builder:t[8]}),q0=t=>({builder:t[0]&256}),Fs=t=>({builder:t[8]}),B0=t=>({builder:t[0]&256}),js=t=>({builder:t[8]}),H0=t=>({builder:t[0]&256}),qs=t=>({builder:t[8]});function G0(t){let e,n,o,i;const r=t[16].default,l=he(r,t,t[15],Rs);let a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=P("div"),l&&l.c(),fe(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[56](e),n=!0,o||(i=[We(t[8].action(e)),ee(e,"pointerdown",t[45]),ee(e,"pointermove",t[46]),ee(e,"pointerup",t[47]),ee(e,"touchend",t[48]),ee(e,"touchstart",t[49]),ee(e,"touchcancel",t[50]),ee(e,"touchmove",t[51])],o=!0)},p(u,f){l&&l.p&&(!n||f[0]&33024)&&ge(l,r,u,u[15],n?_e(r,u[15],f,D0):be(u[15]),Rs),fe(e,s=Ce(a,[f[0]&256&&u[8],f[0]&4096&&u[12]]))},i(u){n||(k(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&M(e),l&&l.d(u),t[56](null),o=!1,xe(i)}}}function W0(t){let e,n,o,i,r;const l=t[16].default,a=he(l,t,t[15],Ls);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=J(u,s[f]);return{c(){e=P("div"),a&&a.c(),fe(e,u)},m(f,c){O(f,e,c),a&&a.m(e,null),t[55](e),o=!0,i||(r=[We(t[8].action(e)),ee(e,"pointerdown",t[38]),ee(e,"pointermove",t[39]),ee(e,"pointerup",t[40]),ee(e,"touchend",t[41]),ee(e,"touchstart",t[42]),ee(e,"touchcancel",t[43]),ee(e,"touchmove",t[44])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&ge(a,l,t,t[15],o?_e(l,t[15],c,F0):be(t[15]),Ls),fe(e,u=Ce(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(k(a,f),n&&n.end(1),o=!0)},o(f){T(a,f),f&&(n=Yt(e,t[5],t[6])),o=!1},d(f){f&&M(e),a&&a.d(f),t[55](null),f&&n&&n.end(),i=!1,xe(r)}}}function V0(t){let e,n,o,i,r;const l=t[16].default,a=he(l,t,t[15],Ds);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=J(u,s[f]);return{c(){e=P("div"),a&&a.c(),fe(e,u)},m(f,c){O(f,e,c),a&&a.m(e,null),t[54](e),o=!0,i||(r=[We(t[8].action(e)),ee(e,"pointerdown",t[31]),ee(e,"pointermove",t[32]),ee(e,"pointerup",t[33]),ee(e,"touchend",t[34]),ee(e,"touchstart",t[35]),ee(e,"touchcancel",t[36]),ee(e,"touchmove",t[37])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&ge(a,l,t,t[15],o?_e(l,t[15],c,j0):be(t[15]),Ds),fe(e,u=Ce(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(k(a,f),f&&(n||it(()=>{n=xt(e,t[3],t[4]),n.start()})),o=!0)},o(f){T(a,f),o=!1},d(f){f&&M(e),a&&a.d(f),t[54](null),i=!1,xe(r)}}}function x0(t){let e,n,o,i,r,l;const a=t[16].default,s=he(a,t,t[15],Fs);let u=[t[8],t[12]],f={};for(let c=0;c<u.length;c+=1)f=J(f,u[c]);return{c(){e=P("div"),s&&s.c(),fe(e,f)},m(c,d){O(c,e,d),s&&s.m(e,null),t[53](e),i=!0,r||(l=[We(t[8].action(e)),ee(e,"pointerdown",t[24]),ee(e,"pointermove",t[25]),ee(e,"pointerup",t[26]),ee(e,"touchend",t[27]),ee(e,"touchstart",t[28]),ee(e,"touchcancel",t[29]),ee(e,"touchmove",t[30])],r=!0)},p(c,d){t=c,s&&s.p&&(!i||d[0]&33024)&&ge(s,a,t,t[15],i?_e(a,t[15],d,q0):be(t[15]),Fs),fe(e,f=Ce(u,[d[0]&256&&t[8],d[0]&4096&&t[12]]))},i(c){i||(k(s,c),c&&it(()=>{i&&(o&&o.end(1),n=xt(e,t[3],t[4]),n.start())}),i=!0)},o(c){T(s,c),n&&n.invalidate(),c&&(o=Yt(e,t[5],t[6])),i=!1},d(c){c&&M(e),s&&s.d(c),t[53](null),c&&o&&o.end(),r=!1,xe(l)}}}function Y0(t){let e,n,o,i,r;const l=t[16].default,a=he(l,t,t[15],js);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=J(u,s[f]);return{c(){e=P("div"),a&&a.c(),fe(e,u)},m(f,c){O(f,e,c),a&&a.m(e,null),t[52](e),o=!0,i||(r=[We(t[8].action(e)),ee(e,"pointerdown",t[17]),ee(e,"pointermove",t[18]),ee(e,"pointerup",t[19]),ee(e,"touchend",t[20]),ee(e,"touchstart",t[21]),ee(e,"touchcancel",t[22]),ee(e,"touchmove",t[23])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&ge(a,l,t,t[15],o?_e(l,t[15],c,B0):be(t[15]),js),fe(e,u=Ce(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(k(a,f),f&&it(()=>{o&&(n||(n=bt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(f){T(a,f),f&&(n||(n=bt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(f){f&&M(e),a&&a.d(f),t[52](null),f&&n&&n.end(),i=!1,xe(r)}}}function U0(t){let e;const n=t[16].default,o=he(n,t,t[15],qs);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r[0]&33024)&&ge(o,n,i,i[15],e?_e(n,i[15],r,H0):be(i[15]),qs)},i(i){e||(k(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function K0(t){let e,n,o,i;const r=[U0,Y0,x0,V0,W0,G0],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=Le()},m(s,u){~e&&l[e].m(s,u),O(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Me(),T(l[f],1,1,()=>{l[f]=null}),Oe()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(k(n),i=!0)},o(s){T(n),i=!1},d(s){s&&M(o),~e&&l[e].d(s)}}}function X0(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","id","el"];let r=ae(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:h=void 0}=e,{outTransitionConfig:_=void 0}=e,{asChild:p=!1}=e,{id:w=void 0}=e,{el:y=void 0}=e;const{elements:{content:S},states:{open:R},ids:q,getAttrs:j}=vo();le(t,S,H=>n(14,l=H)),le(t,R,H=>n(9,a=H));const $=j("content");function L(H){re.call(this,t,H)}function I(H){re.call(this,t,H)}function N(H){re.call(this,t,H)}function A(H){re.call(this,t,H)}function g(H){re.call(this,t,H)}function C(H){re.call(this,t,H)}function D(H){re.call(this,t,H)}function W(H){re.call(this,t,H)}function F(H){re.call(this,t,H)}function V(H){re.call(this,t,H)}function K(H){re.call(this,t,H)}function Z(H){re.call(this,t,H)}function te(H){re.call(this,t,H)}function z(H){re.call(this,t,H)}function ne(H){re.call(this,t,H)}function ke(H){re.call(this,t,H)}function we(H){re.call(this,t,H)}function oe(H){re.call(this,t,H)}function Fe(H){re.call(this,t,H)}function b(H){re.call(this,t,H)}function Q(H){re.call(this,t,H)}function X(H){re.call(this,t,H)}function ue(H){re.call(this,t,H)}function Te(H){re.call(this,t,H)}function de(H){re.call(this,t,H)}function Pe(H){re.call(this,t,H)}function qe(H){re.call(this,t,H)}function He(H){re.call(this,t,H)}function De(H){re.call(this,t,H)}function Je(H){re.call(this,t,H)}function Xe(H){re.call(this,t,H)}function Ye(H){re.call(this,t,H)}function Ie(H){re.call(this,t,H)}function Ne(H){re.call(this,t,H)}function Re(H){re.call(this,t,H)}function ze(H){Ee[H?"unshift":"push"](()=>{y=H,n(0,y)})}function lt(H){Ee[H?"unshift":"push"](()=>{y=H,n(0,y)})}function rt(H){Ee[H?"unshift":"push"](()=>{y=H,n(0,y)})}function ve(H){Ee[H?"unshift":"push"](()=>{y=H,n(0,y)})}function Ze(H){Ee[H?"unshift":"push"](()=>{y=H,n(0,y)})}return t.$$set=H=>{e=J(J({},e),je(H)),n(12,r=ae(e,i)),"transition"in H&&n(1,f=H.transition),"transitionConfig"in H&&n(2,c=H.transitionConfig),"inTransition"in H&&n(3,d=H.inTransition),"inTransitionConfig"in H&&n(4,m=H.inTransitionConfig),"outTransition"in H&&n(5,h=H.outTransition),"outTransitionConfig"in H&&n(6,_=H.outTransitionConfig),"asChild"in H&&n(7,p=H.asChild),"id"in H&&n(13,w=H.id),"el"in H&&n(0,y=H.el),"$$scope"in H&&n(15,u=H.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&8192&&w&&q.content.set(w),t.$$.dirty[0]&16384&&n(8,o=l),t.$$.dirty[0]&256&&Object.assign(o,$)},[y,f,c,d,m,h,_,p,o,a,S,R,r,w,l,u,s,L,I,N,A,g,C,D,W,F,V,K,Z,te,z,ne,ke,we,oe,Fe,b,Q,X,ue,Te,de,Pe,qe,He,De,Je,Xe,Ye,Ie,Ne,Re,ze,lt,rt,ve,Ze]}let J0=class extends pe{constructor(e){super(),me(this,e,X0,K0,ce,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,id:13,el:0},null,[-1,-1])}};const Z0=t=>({builder:t&256}),Bs=t=>({builder:t[8]});function Q0(t){let e,n,o,i=[t[8],t[12]],r={};for(let l=0;l<i.length;l+=1)r=J(r,i[l]);return{c(){e=P("div"),fe(e,r)},m(l,a){O(l,e,a),t[25](e),n||(o=[We(t[8].action(e)),ee(e,"mouseup",t[20])],n=!0)},p(l,a){fe(e,r=Ce(i,[a&256&&l[8],a&4096&&l[12]]))},i:ye,o:ye,d(l){l&&M(e),t[25](null),n=!1,xe(o)}}}function z0(t){let e,n,o,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=J(a,l[s]);return{c(){e=P("div"),fe(e,a)},m(s,u){O(s,e,u),t[24](e),o=!0,i||(r=[We(t[8].action(e)),ee(e,"mouseup",t[19])],i=!0)},p(s,u){t=s,fe(e,a=Ce(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(n&&n.end(1),o=!0)},o(s){s&&(n=Yt(e,t[5],t[6])),o=!1},d(s){s&&M(e),t[24](null),s&&n&&n.end(),i=!1,xe(r)}}}function eg(t){let e,n,o,i,r=[t[8],t[12]],l={};for(let a=0;a<r.length;a+=1)l=J(l,r[a]);return{c(){e=P("div"),fe(e,l)},m(a,s){O(a,e,s),t[23](e),o||(i=[We(t[8].action(e)),ee(e,"mouseup",t[18])],o=!0)},p(a,s){t=a,fe(e,l=Ce(r,[s&256&&t[8],s&4096&&t[12]]))},i(a){a&&(n||it(()=>{n=xt(e,t[3],t[4]),n.start()}))},o:ye,d(a){a&&M(e),t[23](null),o=!1,xe(i)}}}function tg(t){let e,n,o,i,r,l,a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=P("div"),fe(e,s)},m(u,f){O(u,e,f),t[22](e),i=!0,r||(l=[We(t[8].action(e)),ee(e,"mouseup",t[17])],r=!0)},p(u,f){t=u,fe(e,s=Ce(a,[f&256&&t[8],f&4096&&t[12]]))},i(u){i||(u&&it(()=>{i&&(o&&o.end(1),n=xt(e,t[3],t[4]),n.start())}),i=!0)},o(u){n&&n.invalidate(),u&&(o=Yt(e,t[5],t[6])),i=!1},d(u){u&&M(e),t[22](null),u&&o&&o.end(),r=!1,xe(l)}}}function ng(t){let e,n,o,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=J(a,l[s]);return{c(){e=P("div"),fe(e,a)},m(s,u){O(s,e,u),t[21](e),o=!0,i||(r=[ee(e,"mouseup",t[16]),We(t[8].action(e))],i=!0)},p(s,u){t=s,fe(e,a=Ce(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(s&&it(()=>{o&&(n||(n=bt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(s){s&&(n||(n=bt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(s){s&&M(e),t[21](null),s&&n&&n.end(),i=!1,xe(r)}}}function og(t){let e;const n=t[15].default,o=he(n,t,t[14],Bs);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&16640)&&ge(o,n,i,i[14],e?_e(n,i[14],r,Z0):be(i[14]),Bs)},i(i){e||(k(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function ig(t){let e,n,o,i;const r=[og,ng,tg,eg,z0,Q0],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=Le()},m(s,u){~e&&l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Me(),T(l[f],1,1,()=>{l[f]=null}),Oe()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(k(n),i=!0)},o(s){T(n),i=!1},d(s){s&&M(o),~e&&l[e].d(s)}}}function rg(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","el"];let r=ae(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:h=void 0}=e,{outTransitionConfig:_=void 0}=e,{asChild:p=!1}=e,{el:w=void 0}=e;const{elements:{overlay:y},states:{open:S},getAttrs:R}=vo();le(t,y,F=>n(13,l=F)),le(t,S,F=>n(9,a=F));const q=R("overlay");function j(F){re.call(this,t,F)}function $(F){re.call(this,t,F)}function L(F){re.call(this,t,F)}function I(F){re.call(this,t,F)}function N(F){re.call(this,t,F)}function A(F){Ee[F?"unshift":"push"](()=>{w=F,n(0,w)})}function g(F){Ee[F?"unshift":"push"](()=>{w=F,n(0,w)})}function C(F){Ee[F?"unshift":"push"](()=>{w=F,n(0,w)})}function D(F){Ee[F?"unshift":"push"](()=>{w=F,n(0,w)})}function W(F){Ee[F?"unshift":"push"](()=>{w=F,n(0,w)})}return t.$$set=F=>{e=J(J({},e),je(F)),n(12,r=ae(e,i)),"transition"in F&&n(1,f=F.transition),"transitionConfig"in F&&n(2,c=F.transitionConfig),"inTransition"in F&&n(3,d=F.inTransition),"inTransitionConfig"in F&&n(4,m=F.inTransitionConfig),"outTransition"in F&&n(5,h=F.outTransition),"outTransitionConfig"in F&&n(6,_=F.outTransitionConfig),"asChild"in F&&n(7,p=F.asChild),"el"in F&&n(0,w=F.el),"$$scope"in F&&n(14,u=F.$$scope)},t.$$.update=()=>{t.$$.dirty&8192&&n(8,o=l),t.$$.dirty&256&&Object.assign(o,q)},[w,f,c,d,m,h,_,p,o,a,y,S,r,l,u,s,j,$,L,I,N,A,g,C,D,W]}let lg=class extends pe{constructor(e){super(),me(this,e,rg,ig,ce,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,el:0})}};const sg=t=>({builder:t&4}),Hs=t=>({builder:t[2]}),ag=t=>({builder:t&4}),Gs=t=>({builder:t[2]});function ug(t){let e,n,o,i;const r=t[8].default,l=he(r,t,t[7],Hs);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=P("div"),l&&l.c(),fe(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[9](e),n=!0,o||(i=We(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&ge(l,r,u,u[7],n?_e(r,u[7],f,sg):be(u[7]),Hs),fe(e,s=Ce(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(k(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&M(e),l&&l.d(u),t[9](null),o=!1,i()}}}function fg(t){let e;const n=t[8].default,o=he(n,t,t[7],Gs);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&ge(o,n,i,i[7],e?_e(n,i[7],r,ag):be(i[7]),Gs)},i(i){e||(k(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function cg(t){let e,n,o,i;const r=[fg,ug],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Le()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),T(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){T(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function dg(t,e,n){let o;const i=["asChild","id","el"];let r=ae(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{description:d},ids:m,getAttrs:h}=vo();le(t,d,w=>n(6,l=w));const _=h("description");function p(w){Ee[w?"unshift":"push"](()=>{c=w,n(0,c)})}return t.$$set=w=>{e=J(J({},e),je(w)),n(4,r=ae(e,i)),"asChild"in w&&n(1,u=w.asChild),"id"in w&&n(5,f=w.id),"el"in w&&n(0,c=w.el),"$$scope"in w&&n(7,s=w.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f&&m.description.set(f),t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,_)},[c,u,o,d,r,f,l,s,a,p]}let mg=class extends pe{constructor(e){super(),me(this,e,dg,cg,ce,{asChild:1,id:5,el:0})}};function pg(){const t="label",n=jn(t,["root"]);return{NAME:t,getAttrs:n}}const hg=t=>({builder:t&4}),Ws=t=>({builder:t[2]}),_g=t=>({builder:t&4}),Vs=t=>({builder:t[2]});function gg(t){let e,n,o,i;const r=t[8].default,l=he(r,t,t[7],Ws);let a=[t[2],t[5]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=P("label"),l&&l.c(),fe(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[9](e),n=!0,o||(i=[We(t[2].action(e)),ee(e,"m-mousedown",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&ge(l,r,u,u[7],n?_e(r,u[7],f,hg):be(u[7]),Ws),fe(e,s=Ce(a,[f&4&&u[2],f&32&&u[5]]))},i(u){n||(k(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&M(e),l&&l.d(u),t[9](null),o=!1,xe(i)}}}function bg(t){let e;const n=t[8].default,o=he(n,t,t[7],Vs);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&ge(o,n,i,i[7],e?_e(n,i[7],r,_g):be(i[7]),Vs)},i(i){e||(k(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function vg(t){let e,n,o,i;const r=[bg,gg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Le()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),T(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){T(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function yg(t,e,n){let o;const i=["asChild","el"];let r=ae(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{root:c}}=Ch();le(t,c,p=>n(6,l=p));const d=qn(),{getAttrs:m}=pg(),h=m("root");function _(p){Ee[p?"unshift":"push"](()=>{f=p,n(0,f)})}return t.$$set=p=>{e=J(J({},e),je(p)),n(5,r=ae(e,i)),"asChild"in p&&n(1,u=p.asChild),"el"in p&&n(0,f=p.el),"$$scope"in p&&n(7,s=p.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,h)},[f,u,o,c,d,r,l,s,a,_]}let wg=class extends pe{constructor(e){super(),me(this,e,yg,vg,ce,{asChild:1,el:0})}};function kg(){return{NAME:"progress",PARTS:["root"]}}function Cg(t){const{NAME:e,PARTS:n}=kg(),o=jn(e,n),i={...Mh(bo(t)),getAttrs:o};return{...i,updateOption:Ln(i.options)}}const Tg=t=>({builder:t&4}),xs=t=>({builder:t[2]}),Ag=t=>({builder:t&4}),Ys=t=>({builder:t[2]});function Sg(t){let e,n,o,i;const r=t[10].default,l=he(r,t,t[9],xs);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=P("div"),l&&l.c(),fe(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[11](e),n=!0,o||(i=We(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&516)&&ge(l,r,u,u[9],n?_e(r,u[9],f,Tg):be(u[9]),xs),fe(e,s=Ce(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(k(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&M(e),l&&l.d(u),t[11](null),o=!1,i()}}}function Ig(t){let e;const n=t[10].default,o=he(n,t,t[9],Ys);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&516)&&ge(o,n,i,i[9],e?_e(n,i[9],r,Ag):be(i[9]),Ys)},i(i){e||(k(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function Mg(t){let e,n,o,i;const r=[Ig,Sg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Le()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),T(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){T(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function Og(t,e,n){let o;const i=["max","value","onValueChange","asChild","el"];let r=ae(e,i),l,{$$slots:a={},$$scope:s}=e,{max:u=void 0}=e,{value:f=void 0}=e,{onValueChange:c=void 0}=e,{asChild:d=!1}=e,{el:m=void 0}=e;const{elements:{root:h},states:{value:_},updateOption:p,getAttrs:w}=Cg({max:u,defaultValue:f,onValueChange:({next:R})=>(c==null||c(R),n(5,f=R),R)});le(t,h,R=>n(8,l=R));const y=w("root");function S(R){Ee[R?"unshift":"push"](()=>{m=R,n(0,m)})}return t.$$set=R=>{e=J(J({},e),je(R)),n(4,r=ae(e,i)),"max"in R&&n(6,u=R.max),"value"in R&&n(5,f=R.value),"onValueChange"in R&&n(7,c=R.onValueChange),"asChild"in R&&n(1,d=R.asChild),"el"in R&&n(0,m=R.el),"$$scope"in R&&n(9,s=R.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f!==void 0&&_.set(f),t.$$.dirty&64&&p("max",u),t.$$.dirty&256&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,y)},[m,d,o,h,r,f,u,c,l,s,a,S]}let Pg=class extends pe{constructor(e){super(),me(this,e,Og,Mg,ce,{max:6,value:5,onValueChange:7,asChild:1,el:0})}};function dc(){return{NAME:"slider",PARTS:["root","input","range","thumb","tick"]}}function Ng(t){const{NAME:e,PARTS:n}=dc(),o=jn(e,n),i={...Eh(bo(t)),getAttrs:o};return Ji(e,i),{...i,updateOption:Ln(i.options)}}function mc(){const{NAME:t}=dc();return Zi(t)}const Eg=t=>({builder:t&4,ticks:t&8,thumbs:t&16}),Us=t=>({builder:t[2],ticks:t[3],thumbs:t[4]}),$g=t=>({builder:t&4,ticks:t&8,thumbs:t&16}),Ks=t=>({builder:t[2],ticks:t[3],thumbs:t[4]});function Rg(t){let e,n,o,i;const r=t[18].default,l=he(r,t,t[17],Us);let a=[t[2],t[8]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=P("span"),l&&l.c(),fe(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[19](e),n=!0,o||(i=We(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&131100)&&ge(l,r,u,u[17],n?_e(r,u[17],f,Eg):be(u[17]),Us),fe(e,s=Ce(a,[f&4&&u[2],f&256&&u[8]]))},i(u){n||(k(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&M(e),l&&l.d(u),t[19](null),o=!1,i()}}}function Lg(t){let e;const n=t[18].default,o=he(n,t,t[17],Ks);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&131100)&&ge(o,n,i,i[17],e?_e(n,i[17],r,$g):be(i[17]),Ks)},i(i){e||(k(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function Dg(t){let e,n,o,i;const r=[Lg,Rg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Le()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),T(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){T(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function Fg(t,e,n){let o;const i=["disabled","min","max","step","orientation","value","onValueChange","asChild","el"];let r=ae(e,i),l,a,s,{$$slots:u={},$$scope:f}=e,{disabled:c=void 0}=e,{min:d=void 0}=e,{max:m=void 0}=e,{step:h=void 0}=e,{orientation:_=void 0}=e,{value:p=void 0}=e,{onValueChange:w=void 0}=e,{asChild:y=!1}=e,{el:S=void 0}=e;const{elements:{root:R,ticks:q,thumbs:j},states:{value:$},updateOption:L,getAttrs:I}=Ng({disabled:c,min:d,max:m,step:h,orientation:_,defaultValue:p,onValueChange:({next:g})=>(p!==g&&(w==null||w(g),n(9,p=g)),g)});le(t,R,g=>n(16,l=g)),le(t,q,g=>n(3,a=g)),le(t,j,g=>n(4,s=g));const N=I("root");function A(g){Ee[g?"unshift":"push"](()=>{S=g,n(0,S)})}return t.$$set=g=>{e=J(J({},e),je(g)),n(8,r=ae(e,i)),"disabled"in g&&n(10,c=g.disabled),"min"in g&&n(11,d=g.min),"max"in g&&n(12,m=g.max),"step"in g&&n(13,h=g.step),"orientation"in g&&n(14,_=g.orientation),"value"in g&&n(9,p=g.value),"onValueChange"in g&&n(15,w=g.onValueChange),"asChild"in g&&n(1,y=g.asChild),"el"in g&&n(0,S=g.el),"$$scope"in g&&n(17,f=g.$$scope)},t.$$.update=()=>{t.$$.dirty&512&&p!==void 0&&$.set(p),t.$$.dirty&1024&&L("disabled",c),t.$$.dirty&2048&&L("min",d),t.$$.dirty&4096&&L("max",m),t.$$.dirty&8192&&L("step",h),t.$$.dirty&16384&&L("orientation",_),t.$$.dirty&65536&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,N)},[S,y,o,a,s,R,q,j,r,p,c,d,m,h,_,w,l,f,u,A]}let jg=class extends pe{constructor(e){super(),me(this,e,Fg,Dg,ce,{disabled:10,min:11,max:12,step:13,orientation:14,value:9,onValueChange:15,asChild:1,el:0})}};const qg=t=>({builder:t&4}),Xs=t=>({builder:t[2]});function Bg(t){let e,n,o,i=[t[2],t[4]],r={};for(let l=0;l<i.length;l+=1)r=J(r,i[l]);return{c(){e=P("span"),fe(e,r)},m(l,a){O(l,e,a),t[8](e),n||(o=We(t[2].action(e)),n=!0)},p(l,a){fe(e,r=Ce(i,[a&4&&l[2],a&16&&l[4]]))},i:ye,o:ye,d(l){l&&M(e),t[8](null),n=!1,o()}}}function Hg(t){let e;const n=t[7].default,o=he(n,t,t[6],Xs);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&68)&&ge(o,n,i,i[6],e?_e(n,i[6],r,qg):be(i[6]),Xs)},i(i){e||(k(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function Gg(t){let e,n,o,i;const r=[Hg,Bg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Le()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),T(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){T(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function Wg(t,e,n){let o;const i=["asChild","el"];let r=ae(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{range:c},getAttrs:d}=mc();le(t,c,_=>n(5,l=_));const m=d("range");function h(_){Ee[_?"unshift":"push"](()=>{f=_,n(0,f)})}return t.$$set=_=>{e=J(J({},e),je(_)),n(4,r=ae(e,i)),"asChild"in _&&n(1,u=_.asChild),"el"in _&&n(0,f=_.el),"$$scope"in _&&n(6,s=_.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,m)},[f,u,o,c,r,l,s,a,h]}class Vg extends pe{constructor(e){super(),me(this,e,Wg,Gg,ce,{asChild:1,el:0})}}const xg=t=>({builder:t&4}),Js=t=>({builder:t[2]});function Yg(t){let e,n,o,i=[t[2],t[4]],r={};for(let l=0;l<i.length;l+=1)r=J(r,i[l]);return{c(){e=P("span"),fe(e,r)},m(l,a){O(l,e,a),t[8](e),n||(o=[We(t[2].action(e)),ee(e,"m-keydown",t[3])],n=!0)},p(l,a){fe(e,r=Ce(i,[a&4&&l[2],a&16&&l[4]]))},i:ye,o:ye,d(l){l&&M(e),t[8](null),n=!1,xe(o)}}}function Ug(t){let e;const n=t[7].default,o=he(n,t,t[6],Js);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&68)&&ge(o,n,i,i[6],e?_e(n,i[6],r,xg):be(i[6]),Js)},i(i){e||(k(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function Kg(t){let e,n,o,i;const r=[Ug,Yg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Le()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),T(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){T(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function Xg(t,e,n){let o;const i=["asChild","el","thumb"];let r=ae(e,i),{$$slots:l={},$$scope:a}=e,{asChild:s=!1}=e,{el:u=void 0}=e,{thumb:f}=e;const{getAttrs:c}=mc(),d=qn(),m=c("thumb");function h(_){Ee[_?"unshift":"push"](()=>{u=_,n(0,u)})}return t.$$set=_=>{e=J(J({},e),je(_)),n(4,r=ae(e,i)),"asChild"in _&&n(1,s=_.asChild),"el"in _&&n(0,u=_.el),"thumb"in _&&n(5,f=_.thumb),"$$scope"in _&&n(6,a=_.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=f),t.$$.dirty&4&&Object.assign(o,m)},[u,s,o,d,r,f,a,l,h]}class Jg extends pe{constructor(e){super(),me(this,e,Xg,Kg,ce,{asChild:1,el:0,thumb:5})}}function pc(){return{NAME:"tooltip",PARTS:["arrow","content","trigger"]}}function Zg(t){const{NAME:e,PARTS:n}=pc(),o=jn(e,n),i={...Lh({positioning:{placement:"top",gutter:0},openDelay:700,...bo(t),forceVisible:!0}),getAttrs:o};return Ji(e,i),{...i,updateOption:Ln(i.options)}}function vl(){const{NAME:t}=pc();return Zi(t)}function Qg(t){const n={...{side:"top",align:"center",sideOffset:1},...t},{options:{positioning:o}}=vl();z_(o)({...n})}const zg=t=>({ids:t&1}),Zs=t=>({ids:t[0]});function e1(t){let e;const n=t[12].default,o=he(n,t,t[11],Zs);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,[r]){o&&o.p&&(!e||r&2049)&&ge(o,n,i,i[11],e?_e(n,i[11],r,zg):be(i[11]),Zs)},i(i){e||(k(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function t1(t,e,n){let o,{$$slots:i={},$$scope:r}=e,{closeOnEscape:l=void 0}=e,{portal:a=void 0}=e,{closeOnPointerDown:s=void 0}=e,{openDelay:u=void 0}=e,{closeDelay:f=void 0}=e,{open:c=void 0}=e,{onOpenChange:d=void 0}=e,{disableHoverableContent:m=void 0}=e,{group:h=void 0}=e;const{states:{open:_},updateOption:p,ids:w}=Zg({closeOnEscape:l,portal:a,closeOnPointerDown:s,openDelay:u,closeDelay:f,forceVisible:!0,defaultOpen:c,disableHoverableContent:m,group:h,onOpenChange:({next:S})=>(c!==S&&(d==null||d(S),n(2,c=S)),S),positioning:{gutter:0,offset:{mainAxis:1}}}),y=on([w.content,w.trigger],([S,R])=>({content:S,trigger:R}));return le(t,y,S=>n(0,o=S)),t.$$set=S=>{"closeOnEscape"in S&&n(3,l=S.closeOnEscape),"portal"in S&&n(4,a=S.portal),"closeOnPointerDown"in S&&n(5,s=S.closeOnPointerDown),"openDelay"in S&&n(6,u=S.openDelay),"closeDelay"in S&&n(7,f=S.closeDelay),"open"in S&&n(2,c=S.open),"onOpenChange"in S&&n(8,d=S.onOpenChange),"disableHoverableContent"in S&&n(9,m=S.disableHoverableContent),"group"in S&&n(10,h=S.group),"$$scope"in S&&n(11,r=S.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&c!==void 0&&_.set(c),t.$$.dirty&8&&p("closeOnEscape",l),t.$$.dirty&16&&p("portal",a),t.$$.dirty&32&&p("closeOnPointerDown",s),t.$$.dirty&64&&p("openDelay",u),t.$$.dirty&128&&p("closeDelay",f),t.$$.dirty&1024&&p("group",h),t.$$.dirty&512&&p("disableHoverableContent",m)},[o,y,c,l,a,s,u,f,d,m,h,r,i]}class n1 extends pe{constructor(e){super(),me(this,e,t1,e1,ce,{closeOnEscape:3,portal:4,closeOnPointerDown:5,openDelay:6,closeDelay:7,open:2,onOpenChange:8,disableHoverableContent:9,group:10})}}const o1=t=>({builder:t[0]&256}),Qs=t=>({builder:t[8]}),i1=t=>({builder:t[0]&256}),zs=t=>({builder:t[8]}),r1=t=>({builder:t[0]&256}),ea=t=>({builder:t[8]}),l1=t=>({builder:t[0]&256}),ta=t=>({builder:t[8]}),s1=t=>({builder:t[0]&256}),na=t=>({builder:t[8]}),a1=t=>({builder:t[0]&256}),oa=t=>({builder:t[8]});function u1(t){let e,n,o,i;const r=t[28].default,l=he(r,t,t[27],Qs);let a=[t[8],t[13]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=P("div"),l&&l.c(),fe(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[33](e),n=!0,o||(i=[We(t[8].action(e)),ee(e,"m-pointerdown",t[12]),ee(e,"m-pointerenter",t[12])],o=!0)},p(u,f){l&&l.p&&(!n||f[0]&134217984)&&ge(l,r,u,u[27],n?_e(r,u[27],f,o1):be(u[27]),Qs),fe(e,s=Ce(a,[f[0]&256&&u[8],f[0]&8192&&u[13]]))},i(u){n||(k(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&M(e),l&&l.d(u),t[33](null),o=!1,xe(i)}}}function f1(t){let e,n,o,i,r;const l=t[28].default,a=he(l,t,t[27],zs);let s=[t[8],t[13]],u={};for(let f=0;f<s.length;f+=1)u=J(u,s[f]);return{c(){e=P("div"),a&&a.c(),fe(e,u)},m(f,c){O(f,e,c),a&&a.m(e,null),t[32](e),o=!0,i||(r=[We(t[8].action(e)),ee(e,"m-pointerdown",t[12]),ee(e,"m-pointerenter",t[12])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&134217984)&&ge(a,l,t,t[27],o?_e(l,t[27],c,i1):be(t[27]),zs),fe(e,u=Ce(s,[c[0]&256&&t[8],c[0]&8192&&t[13]]))},i(f){o||(k(a,f),n&&n.end(1),o=!0)},o(f){T(a,f),f&&(n=Yt(e,t[5],t[6])),o=!1},d(f){f&&M(e),a&&a.d(f),t[32](null),f&&n&&n.end(),i=!1,xe(r)}}}function c1(t){let e,n,o,i,r;const l=t[28].default,a=he(l,t,t[27],ea);let s=[t[8],t[13]],u={};for(let f=0;f<s.length;f+=1)u=J(u,s[f]);return{c(){e=P("div"),a&&a.c(),fe(e,u)},m(f,c){O(f,e,c),a&&a.m(e,null),t[31](e),o=!0,i||(r=[We(t[8].action(e)),ee(e,"m-pointerdown",t[12]),ee(e,"m-pointerenter",t[12])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&134217984)&&ge(a,l,t,t[27],o?_e(l,t[27],c,r1):be(t[27]),ea),fe(e,u=Ce(s,[c[0]&256&&t[8],c[0]&8192&&t[13]]))},i(f){o||(k(a,f),f&&(n||it(()=>{n=xt(e,t[3],t[4]),n.start()})),o=!0)},o(f){T(a,f),o=!1},d(f){f&&M(e),a&&a.d(f),t[31](null),i=!1,xe(r)}}}function d1(t){let e,n,o,i,r,l;const a=t[28].default,s=he(a,t,t[27],ta);let u=[t[8],t[13]],f={};for(let c=0;c<u.length;c+=1)f=J(f,u[c]);return{c(){e=P("div"),s&&s.c(),fe(e,f)},m(c,d){O(c,e,d),s&&s.m(e,null),t[30](e),i=!0,r||(l=[We(t[8].action(e)),ee(e,"m-pointerdown",t[12]),ee(e,"m-pointerenter",t[12])],r=!0)},p(c,d){t=c,s&&s.p&&(!i||d[0]&134217984)&&ge(s,a,t,t[27],i?_e(a,t[27],d,l1):be(t[27]),ta),fe(e,f=Ce(u,[d[0]&256&&t[8],d[0]&8192&&t[13]]))},i(c){i||(k(s,c),c&&it(()=>{i&&(o&&o.end(1),n=xt(e,t[3],t[4]),n.start())}),i=!0)},o(c){T(s,c),n&&n.invalidate(),c&&(o=Yt(e,t[5],t[6])),i=!1},d(c){c&&M(e),s&&s.d(c),t[30](null),c&&o&&o.end(),r=!1,xe(l)}}}function m1(t){let e,n,o,i,r;const l=t[28].default,a=he(l,t,t[27],na);let s=[t[8],t[13]],u={};for(let f=0;f<s.length;f+=1)u=J(u,s[f]);return{c(){e=P("div"),a&&a.c(),fe(e,u)},m(f,c){O(f,e,c),a&&a.m(e,null),t[29](e),o=!0,i||(r=[We(t[8].action(e)),ee(e,"m-pointerdown",t[12]),ee(e,"m-pointerenter",t[12])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&134217984)&&ge(a,l,t,t[27],o?_e(l,t[27],c,s1):be(t[27]),na),fe(e,u=Ce(s,[c[0]&256&&t[8],c[0]&8192&&t[13]]))},i(f){o||(k(a,f),f&&it(()=>{o&&(n||(n=bt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(f){T(a,f),f&&(n||(n=bt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(f){f&&M(e),a&&a.d(f),t[29](null),f&&n&&n.end(),i=!1,xe(r)}}}function p1(t){let e;const n=t[28].default,o=he(n,t,t[27],oa);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r[0]&134217984)&&ge(o,n,i,i[27],e?_e(n,i[27],r,a1):be(i[27]),oa)},i(i){e||(k(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function h1(t){let e,n,o,i;const r=[p1,m1,d1,c1,f1,u1],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=Le()},m(s,u){~e&&l[e].m(s,u),O(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Me(),T(l[f],1,1,()=>{l[f]=null}),Oe()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(k(n),i=!0)},o(s){T(n),i=!1},d(s){s&&M(o),~e&&l[e].d(s)}}}function _1(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","id","side","align","sideOffset","alignOffset","collisionPadding","avoidCollisions","collisionBoundary","sameWidth","fitViewport","strategy","overlap","el"];let r=ae(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:h=void 0}=e,{outTransitionConfig:_=void 0}=e,{asChild:p=!1}=e,{id:w=void 0}=e,{side:y="top"}=e,{align:S="center"}=e,{sideOffset:R=0}=e,{alignOffset:q=0}=e,{collisionPadding:j=8}=e,{avoidCollisions:$=!0}=e,{collisionBoundary:L=void 0}=e,{sameWidth:I=!1}=e,{fitViewport:N=!1}=e,{strategy:A="absolute"}=e,{overlap:g=!1}=e,{el:C=void 0}=e;const{elements:{content:D},states:{open:W},ids:F,getAttrs:V}=vl();le(t,D,oe=>n(26,a=oe)),le(t,W,oe=>n(9,l=oe));const K=qn(),Z=V("content");function te(oe){Ee[oe?"unshift":"push"](()=>{C=oe,n(0,C)})}function z(oe){Ee[oe?"unshift":"push"](()=>{C=oe,n(0,C)})}function ne(oe){Ee[oe?"unshift":"push"](()=>{C=oe,n(0,C)})}function ke(oe){Ee[oe?"unshift":"push"](()=>{C=oe,n(0,C)})}function we(oe){Ee[oe?"unshift":"push"](()=>{C=oe,n(0,C)})}return t.$$set=oe=>{e=J(J({},e),je(oe)),n(13,r=ae(e,i)),"transition"in oe&&n(1,f=oe.transition),"transitionConfig"in oe&&n(2,c=oe.transitionConfig),"inTransition"in oe&&n(3,d=oe.inTransition),"inTransitionConfig"in oe&&n(4,m=oe.inTransitionConfig),"outTransition"in oe&&n(5,h=oe.outTransition),"outTransitionConfig"in oe&&n(6,_=oe.outTransitionConfig),"asChild"in oe&&n(7,p=oe.asChild),"id"in oe&&n(14,w=oe.id),"side"in oe&&n(15,y=oe.side),"align"in oe&&n(16,S=oe.align),"sideOffset"in oe&&n(17,R=oe.sideOffset),"alignOffset"in oe&&n(18,q=oe.alignOffset),"collisionPadding"in oe&&n(19,j=oe.collisionPadding),"avoidCollisions"in oe&&n(20,$=oe.avoidCollisions),"collisionBoundary"in oe&&n(21,L=oe.collisionBoundary),"sameWidth"in oe&&n(22,I=oe.sameWidth),"fitViewport"in oe&&n(23,N=oe.fitViewport),"strategy"in oe&&n(24,A=oe.strategy),"overlap"in oe&&n(25,g=oe.overlap),"el"in oe&&n(0,C=oe.el),"$$scope"in oe&&n(27,u=oe.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&16384&&w&&F.content.set(w),t.$$.dirty[0]&67108864&&n(8,o=a),t.$$.dirty[0]&256&&Object.assign(o,Z),t.$$.dirty[0]&67076608&&l&&Qg({side:y,align:S,sideOffset:R,alignOffset:q,collisionPadding:j,avoidCollisions:$,collisionBoundary:L,sameWidth:I,fitViewport:N,strategy:A,overlap:g})},[C,f,c,d,m,h,_,p,o,l,D,W,K,r,w,y,S,R,q,j,$,L,I,N,A,g,a,u,s,te,z,ne,ke,we]}let g1=class extends pe{constructor(e){super(),me(this,e,_1,h1,ce,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,id:14,side:15,align:16,sideOffset:17,alignOffset:18,collisionPadding:19,avoidCollisions:20,collisionBoundary:21,sameWidth:22,fitViewport:23,strategy:24,overlap:25,el:0},null,[-1,-1])}};const b1=t=>({builder:t&4}),ia=t=>({builder:t[2]}),v1=t=>({builder:t&4}),ra=t=>({builder:t[2]});function y1(t){let e,n,o,i;const r=t[9].default,l=he(r,t,t[8],ia);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=P("button"),l&&l.c(),fe(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[10](e),n=!0,o||(i=[We(t[2].action(e)),ee(e,"m-blur",t[4]),ee(e,"m-focus",t[4]),ee(e,"m-keydown",t[4]),ee(e,"m-pointerdown",t[4]),ee(e,"m-pointerenter",t[4]),ee(e,"m-pointerleave",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&260)&&ge(l,r,u,u[8],n?_e(r,u[8],f,b1):be(u[8]),ia),fe(e,s=Ce(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(k(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&M(e),l&&l.d(u),t[10](null),o=!1,xe(i)}}}function w1(t){let e;const n=t[9].default,o=he(n,t,t[8],ra);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&260)&&ge(o,n,i,i[8],e?_e(n,i[8],r,v1):be(i[8]),ra)},i(i){e||(k(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function k1(t){let e,n,o,i;const r=[w1,y1],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Le()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),T(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){T(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function C1(t,e,n){let o;const i=["asChild","id","el"];let r=ae(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{trigger:d},ids:m,getAttrs:h}=vl();le(t,d,y=>n(7,l=y));const _=qn(),p=h("trigger");function w(y){Ee[y?"unshift":"push"](()=>{c=y,n(0,c)})}return t.$$set=y=>{e=J(J({},e),je(y)),n(5,r=ae(e,i)),"asChild"in y&&n(1,u=y.asChild),"id"in y&&n(6,f=y.id),"el"in y&&n(0,c=y.el),"$$scope"in y&&n(8,s=y.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&f&&m.trigger.set(f),t.$$.dirty&128&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,p)},[c,u,o,d,_,r,f,l,s,a,w]}class T1 extends pe{constructor(e){super(),me(this,e,C1,k1,ce,{asChild:1,id:6,el:0})}}function A1(t){let e;const n=t[2].default,o=he(n,t,t[3],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&8)&&ge(o,n,i,i[3],e?_e(n,i[3],r,null):be(i[3]),null)},i(i){e||(k(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function S1(t){let e,n;const o=[{class:Ge("text-lg font-semibold leading-none tracking-tight",t[0])},t[1]];let i={$$slots:{default:[A1]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=J(i,o[r]);return e=new w0({props:i}),{c(){U(e.$$.fragment)},m(r,l){x(e,r,l),n=!0},p(r,[l]){const a=l&3?Ce(o,[l&1&&{class:Ge("text-lg font-semibold leading-none tracking-tight",r[0])},l&2&&st(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){Y(e,r)}}}function I1(t,e,n){const o=["class"];let i=ae(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=J(J({},e),je(s)),n(1,i=ae(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,l=s.$$scope)},[a,i,r,l]}class ln extends pe{constructor(e){super(),me(this,e,I1,S1,ce,{class:0})}}function M1(t){let e;const n=t[1].default,o=he(n,t,t[2],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&4)&&ge(o,n,i,i[2],e?_e(n,i[2],r,null):be(i[2]),null)},i(i){e||(k(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function O1(t){let e,n;const o=[t[0]];let i={$$slots:{default:[M1]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=J(i,o[r]);return e=new L0({props:i}),{c(){U(e.$$.fragment)},m(r,l){x(e,r,l),n=!0},p(r,[l]){const a=l&1?Ce(o,[st(r[0])]):{};l&4&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){Y(e,r)}}}function P1(t,e,n){const o=[];let i=ae(e,o),{$$slots:r={},$$scope:l}=e;return t.$$set=a=>{e=J(J({},e),je(a)),n(0,i=ae(e,o)),"$$scope"in a&&n(2,l=a.$$scope)},[i,r,l]}class N1 extends pe{constructor(e){super(),me(this,e,P1,O1,ce,{})}}function E1(t){let e,n,o;const i=t[3].default,r=he(i,t,t[2],null);let l=[{class:n=Ge("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=J(a,l[s]);return{c(){e=P("div"),r&&r.c(),fe(e,a)},m(s,u){O(s,e,u),r&&r.m(e,null),o=!0},p(s,[u]){r&&r.p&&(!o||u&4)&&ge(r,i,s,s[2],o?_e(i,s[2],u,null):be(s[2]),null),fe(e,a=Ce(l,[(!o||u&1&&n!==(n=Ge("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(k(r,s),o=!0)},o(s){T(r,s),o=!1},d(s){s&&M(e),r&&r.d(s)}}}function $1(t,e,n){const o=["class"];let i=ae(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=J(J({},e),je(s)),n(1,i=ae(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,i,l,r]}class Cn extends pe{constructor(e){super(),me(this,e,$1,E1,ce,{class:0})}}function R1(t){let e,n,o;const i=t[3].default,r=he(i,t,t[2],null);let l=[{class:n=Ge("flex flex-col space-y-1.5 text-center sm:text-left",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=J(a,l[s]);return{c(){e=P("div"),r&&r.c(),fe(e,a)},m(s,u){O(s,e,u),r&&r.m(e,null),o=!0},p(s,[u]){r&&r.p&&(!o||u&4)&&ge(r,i,s,s[2],o?_e(i,s[2],u,null):be(s[2]),null),fe(e,a=Ce(l,[(!o||u&1&&n!==(n=Ge("flex flex-col space-y-1.5 text-center sm:text-left",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(k(r,s),o=!0)},o(s){T(r,s),o=!1},d(s){s&&M(e),r&&r.d(s)}}}function L1(t,e,n){const o=["class"];let i=ae(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=J(J({},e),je(s)),n(1,i=ae(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,i,l,r]}class sn extends pe{constructor(e){super(),me(this,e,L1,R1,ce,{class:0})}}function Di(t,{delay:e=0,duration:n=400,easing:o=Ki}={}){const i=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:o,css:r=>`opacity: ${r*i}`}}function la(t,{delay:e=0,duration:n=400,easing:o=qf,axis:i="y"}={}){const r=getComputedStyle(t),l=+r.opacity,a=i==="y"?"height":"width",s=parseFloat(r[a]),u=i==="y"?["top","bottom"]:["left","right"],f=u.map(w=>`${w[0].toUpperCase()}${w.slice(1)}`),c=parseFloat(r[`padding${f[0]}`]),d=parseFloat(r[`padding${f[1]}`]),m=parseFloat(r[`margin${f[0]}`]),h=parseFloat(r[`margin${f[1]}`]),_=parseFloat(r[`border${f[0]}Width`]),p=parseFloat(r[`border${f[1]}Width`]);return{delay:e,duration:n,easing:o,css:w=>`overflow: hidden;opacity: ${Math.min(w*20,1)*l};${a}: ${w*s}px;padding-${u[0]}: ${w*c}px;padding-${u[1]}: ${w*d}px;margin-${u[0]}: ${w*m}px;margin-${u[1]}: ${w*h}px;border-${u[0]}-width: ${w*_}px;border-${u[1]}-width: ${w*p}px;`}}function D1(t){let e,n;const o=[{transition:t[1]},{transitionConfig:t[2]},{class:Ge("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm",t[0])},t[3]];let i={};for(let r=0;r<o.length;r+=1)i=J(i,o[r]);return e=new lg({props:i}),{c(){U(e.$$.fragment)},m(r,l){x(e,r,l),n=!0},p(r,[l]){const a=l&15?Ce(o,[l&2&&{transition:r[1]},l&4&&{transitionConfig:r[2]},l&1&&{class:Ge("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm",r[0])},l&8&&st(r[3])]):{};e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){Y(e,r)}}}function F1(t,e,n){const o=["class","transition","transitionConfig"];let i=ae(e,o),{class:r=void 0}=e,{transition:l=Di}=e,{transitionConfig:a={duration:150}}=e;return t.$$set=s=>{e=J(J({},e),je(s)),n(3,i=ae(e,o)),"class"in s&&n(0,r=s.class),"transition"in s&&n(1,l=s.transition),"transitionConfig"in s&&n(2,a=s.transitionConfig)},[r,l,a,i]}class j1 extends pe{constructor(e){super(),me(this,e,F1,D1,ce,{class:0,transition:1,transitionConfig:2})}}/**
 * @license lucide-svelte v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};function aa(t,e,n){const o=t.slice();return o[11]=e[n][0],o[12]=e[n][1],o}function yr(t){let e,n=[t[12]],o={};for(let i=0;i<n.length;i+=1)o=J(o,n[i]);return{c(){e=Xi(t[11]),wi(e,o)},m(i,r){O(i,e,r)},p(i,r){wi(e,o=Ce(n,[r&32&&i[12]]))},d(i){i&&M(e)}}}function ua(t){let e=t[11],n,o=t[11]&&yr(t);return{c(){o&&o.c(),n=Le()},m(i,r){o&&o.m(i,r),O(i,n,r)},p(i,r){i[11]?e?ce(e,i[11])?(o.d(1),o=yr(i),e=i[11],o.c(),o.m(n.parentNode,n)):o.p(i,r):(o=yr(i),e=i[11],o.c(),o.m(n.parentNode,n)):e&&(o.d(1),o=null,e=i[11])},d(i){i&&M(n),o&&o.d(i)}}}function q1(t){let e,n,o,i,r,l=Ue(t[5]),a=[];for(let d=0;d<l.length;d+=1)a[d]=ua(aa(t,l,d));const s=t[10].default,u=he(s,t,t[9],null);let f=[sa,t[7],{width:t[2]},{height:t[2]},{stroke:t[1]},{"stroke-width":o=t[4]?Number(t[3])*24/Number(t[2]):t[3]},{class:i=t[6]("lucide-icon","lucide",t[0]?`lucide-${t[0]}`:"",t[8].class)}],c={};for(let d=0;d<f.length;d+=1)c=J(c,f[d]);return{c(){e=Xi("svg");for(let d=0;d<a.length;d+=1)a[d].c();n=Le(),u&&u.c(),wi(e,c)},m(d,m){O(d,e,m);for(let h=0;h<a.length;h+=1)a[h]&&a[h].m(e,null);v(e,n),u&&u.m(e,null),r=!0},p(d,[m]){if(m&32){l=Ue(d[5]);let h;for(h=0;h<l.length;h+=1){const _=aa(d,l,h);a[h]?a[h].p(_,m):(a[h]=ua(_),a[h].c(),a[h].m(e,n))}for(;h<a.length;h+=1)a[h].d(1);a.length=l.length}u&&u.p&&(!r||m&512)&&ge(u,s,d,d[9],r?_e(s,d[9],m,null):be(d[9]),null),wi(e,c=Ce(f,[sa,m&128&&d[7],(!r||m&4)&&{width:d[2]},(!r||m&4)&&{height:d[2]},(!r||m&2)&&{stroke:d[1]},(!r||m&28&&o!==(o=d[4]?Number(d[3])*24/Number(d[2]):d[3]))&&{"stroke-width":o},(!r||m&257&&i!==(i=d[6]("lucide-icon","lucide",d[0]?`lucide-${d[0]}`:"",d[8].class)))&&{class:i}]))},i(d){r||(k(u,d),r=!0)},o(d){T(u,d),r=!1},d(d){d&&M(e),ut(a,d),u&&u.d(d)}}}function B1(t,e,n){const o=["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode","mergeClasses"];let i=ae(e,o),{$$slots:r={},$$scope:l}=e,{name:a=void 0}=e,{color:s="currentColor"}=e,{size:u=24}=e,{strokeWidth:f=2}=e,{absoluteStrokeWidth:c=!1}=e,{iconNode:d}=e;const m=(...h)=>h.filter((_,p,w)=>!!_&&w.indexOf(_)===p).join(" ");return t.$$set=h=>{n(8,e=J(J({},e),je(h))),n(7,i=ae(e,o)),"name"in h&&n(0,a=h.name),"color"in h&&n(1,s=h.color),"size"in h&&n(2,u=h.size),"strokeWidth"in h&&n(3,f=h.strokeWidth),"absoluteStrokeWidth"in h&&n(4,c=h.absoluteStrokeWidth),"iconNode"in h&&n(5,d=h.iconNode),"$$scope"in h&&n(9,l=h.$$scope)},e=je(e),[a,s,u,f,c,d,m,i,e,l,r]}class H1 extends pe{constructor(e){super(),me(this,e,B1,q1,ce,{name:0,color:1,size:2,strokeWidth:3,absoluteStrokeWidth:4,iconNode:5,mergeClasses:6})}get mergeClasses(){return this.$$.ctx[6]}}function G1(t){let e;const n=t[2].default,o=he(n,t,t[3],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&8)&&ge(o,n,i,i[3],e?_e(n,i[3],r,null):be(i[3]),null)},i(i){e||(k(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function W1(t){let e,n;const o=[{name:"x"},t[1],{iconNode:t[0]}];let i={$$slots:{default:[G1]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=J(i,o[r]);return e=new H1({props:i}),{c(){U(e.$$.fragment)},m(r,l){x(e,r,l),n=!0},p(r,[l]){const a=l&3?Ce(o,[o[0],l&2&&st(r[1]),l&1&&{iconNode:r[0]}]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){Y(e,r)}}}function V1(t,e,n){let{$$slots:o={},$$scope:i}=e;const r=[["path",{d:"M18 6 6 18"}],["path",{d:"m6 6 12 12"}]];return t.$$set=l=>{n(1,e=J(J({},e),je(l))),"$$scope"in l&&n(3,i=l.$$scope)},e=je(e),[r,e,o,i]}class x1 extends pe{constructor(e){super(),me(this,e,V1,W1,ce,{})}}function Y1(t){let e,n,o,i;return e=new x1({props:{class:"h-4 w-4"}}),{c(){U(e.$$.fragment),n=B(),o=P("span"),o.textContent="Close",E(o,"class","sr-only")},m(r,l){x(e,r,l),O(r,n,l),O(r,o,l),i=!0},p:ye,i(r){i||(k(e.$$.fragment,r),i=!0)},o(r){T(e.$$.fragment,r),i=!1},d(r){r&&(M(n),M(o)),Y(e,r)}}}function U1(t){let e,n,o;const i=t[4].default,r=he(i,t,t[5],null);return n=new M0({props:{class:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",$$slots:{default:[Y1]},$$scope:{ctx:t}}}),{c(){r&&r.c(),e=B(),U(n.$$.fragment)},m(l,a){r&&r.m(l,a),O(l,e,a),x(n,l,a),o=!0},p(l,a){r&&r.p&&(!o||a&32)&&ge(r,i,l,l[5],o?_e(i,l[5],a,null):be(l[5]),null);const s={};a&32&&(s.$$scope={dirty:a,ctx:l}),n.$set(s)},i(l){o||(k(r,l),k(n.$$.fragment,l),o=!0)},o(l){T(r,l),T(n.$$.fragment,l),o=!1},d(l){l&&M(e),r&&r.d(l),Y(n,l)}}}function K1(t){let e,n,o,i;e=new j1({});const r=[{transition:t[1]},{transitionConfig:t[2]},{class:Ge("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg rounded-3xl md:w-full",t[0])},t[3]];let l={$$slots:{default:[U1]},$$scope:{ctx:t}};for(let a=0;a<r.length;a+=1)l=J(l,r[a]);return o=new J0({props:l}),{c(){U(e.$$.fragment),n=B(),U(o.$$.fragment)},m(a,s){x(e,a,s),O(a,n,s),x(o,a,s),i=!0},p(a,s){const u=s&15?Ce(r,[s&2&&{transition:a[1]},s&4&&{transitionConfig:a[2]},s&1&&{class:Ge("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg rounded-3xl md:w-full",a[0])},s&8&&st(a[3])]):{};s&32&&(u.$$scope={dirty:s,ctx:a}),o.$set(u)},i(a){i||(k(e.$$.fragment,a),k(o.$$.fragment,a),i=!0)},o(a){T(e.$$.fragment,a),T(o.$$.fragment,a),i=!1},d(a){a&&M(n),Y(e,a),Y(o,a)}}}function X1(t){let e,n;return e=new N1({props:{$$slots:{default:[K1]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(o,i){x(e,o,i),n=!0},p(o,[i]){const r={};i&47&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function J1(t,e,n){const o=["class","transition","transitionConfig"];let i=ae(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{transition:s=ho}=e,{transitionConfig:u={duration:400}}=e;return t.$$set=f=>{e=J(J({},e),je(f)),n(3,i=ae(e,o)),"class"in f&&n(0,a=f.class),"transition"in f&&n(1,s=f.transition),"transitionConfig"in f&&n(2,u=f.transitionConfig),"$$scope"in f&&n(5,l=f.$$scope)},[a,s,u,i,r,l]}class an extends pe{constructor(e){super(),me(this,e,J1,X1,ce,{class:0,transition:1,transitionConfig:2})}}function Z1(t){let e;const n=t[2].default,o=he(n,t,t[3],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&8)&&ge(o,n,i,i[3],e?_e(n,i[3],r,null):be(i[3]),null)},i(i){e||(k(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function Q1(t){let e,n;const o=[{class:Ge("text-sm text-muted-foreground",t[0])},t[1]];let i={$$slots:{default:[Z1]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=J(i,o[r]);return e=new mg({props:i}),{c(){U(e.$$.fragment)},m(r,l){x(e,r,l),n=!0},p(r,[l]){const a=l&3?Ce(o,[l&1&&{class:Ge("text-sm text-muted-foreground",r[0])},l&2&&st(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){Y(e,r)}}}function z1(t,e,n){const o=["class"];let i=ae(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=J(J({},e),je(s)),n(1,i=ae(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,l=s.$$scope)},[a,i,r,l]}class Hn extends pe{constructor(e){super(),me(this,e,z1,Q1,ce,{class:0})}}const un=p0,mn={land:{short_title:"Fill the grid",description_title:"You win by filling up all possible plots in the grid, and by meeting some requirements.",win:"You have filled the grid with buildings and met the requirements. Your citizens are happy, fulfilled, hard-working, and healthy. ",requirements:{0:{population_count:200,happiness:100,health:100,employment:1,knowledge:50,required_plots:["pub","small_school","community_center"]},1:{population_count:1e3,happiness:120,health:120,employment:1,knowledge:100,required_plots:["bank"]},2:{population_count:1e3,happiness:200,health:200,employment:1,knowledge:1e3,required_plots:["bank","city_hall"]}}},free_play:{short_title:"Quests",description_title:"Play for as long as you can and build the best city you can while completing quests."}};function eb(t){let e,n;const o=[{class:Ge("shrink-0 bg-border",t[1]==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t[0])},{orientation:t[1]},{decorative:t[2]},t[3]];let i={};for(let r=0;r<o.length;r+=1)i=J(i,o[r]);return e=new u0({props:i}),{c(){U(e.$$.fragment)},m(r,l){x(e,r,l),n=!0},p(r,[l]){const a=l&15?Ce(o,[l&3&&{class:Ge("shrink-0 bg-border",r[1]==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",r[0])},l&2&&{orientation:r[1]},l&4&&{decorative:r[2]},l&8&&st(r[3])]):{};e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){Y(e,r)}}}function tb(t,e,n){const o=["class","orientation","decorative"];let i=ae(e,o),{class:r=void 0}=e,{orientation:l="horizontal"}=e,{decorative:a=void 0}=e;return t.$$set=s=>{e=J(J({},e),je(s)),n(3,i=ae(e,o)),"class"in s&&n(0,r=s.class),"orientation"in s&&n(1,l=s.orientation),"decorative"in s&&n(2,a=s.decorative)},[r,l,a,i]}class St extends pe{constructor(e){super(),me(this,e,tb,eb,ce,{class:0,orientation:1,decorative:2})}}function nb(t){let e;const n=t[3].default,o=he(n,t,t[4],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&16)&&ge(o,n,i,i[4],e?_e(n,i[4],r,null):be(i[4]),null)},i(i){e||(k(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function ob(t){let e,n;const o=[{class:Ge("text-lg font-semibold",t[0])},{level:t[1]},t[2]];let i={$$slots:{default:[nb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=J(i,o[r]);return e=new Uh({props:i}),{c(){U(e.$$.fragment)},m(r,l){x(e,r,l),n=!0},p(r,[l]){const a=l&7?Ce(o,[l&1&&{class:Ge("text-lg font-semibold",r[0])},l&2&&{level:r[1]},l&4&&st(r[2])]):{};l&16&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){Y(e,r)}}}function ib(t,e,n){const o=["class","level"];let i=ae(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{level:s="h3"}=e;return t.$$set=u=>{e=J(J({},e),je(u)),n(2,i=ae(e,o)),"class"in u&&n(0,a=u.class),"level"in u&&n(1,s=u.level),"$$scope"in u&&n(4,l=u.$$scope)},[a,s,i,r,l]}class hc extends pe{constructor(e){super(),me(this,e,ib,ob,ce,{class:0,level:1})}}function rb(t){let e;const n=t[5].default,o=he(n,t,t[8],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&256)&&ge(o,n,i,i[8],e?_e(n,i[8],r,null):be(i[8]),null)},i(i){e||(k(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function lb(t){let e,n;const o=[{builders:t[3]},{class:Ge(uo({variant:t[1],size:t[2]}),t[0])},{type:"button"},t[4]];let i={$$slots:{default:[rb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=J(i,o[r]);return e=new Q_({props:i}),e.$on("click",t[6]),e.$on("keydown",t[7]),{c(){U(e.$$.fragment)},m(r,l){x(e,r,l),n=!0},p(r,[l]){const a=l&31?Ce(o,[l&8&&{builders:r[3]},l&7&&{class:Ge(uo({variant:r[1],size:r[2]}),r[0])},o[2],l&16&&st(r[4])]):{};l&256&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){Y(e,r)}}}function sb(t,e,n){const o=["class","variant","size","builders"];let i=ae(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{variant:s="default"}=e,{size:u="default"}=e,{builders:f=[]}=e;function c(m){re.call(this,t,m)}function d(m){re.call(this,t,m)}return t.$$set=m=>{e=J(J({},e),je(m)),n(4,i=ae(e,o)),"class"in m&&n(0,a=m.class),"variant"in m&&n(1,s=m.variant),"size"in m&&n(2,u=m.size),"builders"in m&&n(3,f=m.builders),"$$scope"in m&&n(8,l=m.$$scope)},[a,s,u,f,i,r,c,d,l]}class It extends pe{constructor(e){super(),me(this,e,sb,lb,ce,{class:0,variant:1,size:2,builders:3})}}var fa=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,wt=t=>!t||typeof t!="object"||Object.keys(t).length===0,ab=(t,e)=>JSON.stringify(t)===JSON.stringify(e);function _c(t,e){t.forEach(function(n){Array.isArray(n)?_c(n,e):e.push(n)})}function gc(t){let e=[];return _c(t,e),e}var bc=(...t)=>gc(t).filter(Boolean),vc=(t,e)=>{let n={},o=Object.keys(t),i=Object.keys(e);for(let r of o)if(i.includes(r)){let l=t[r],a=e[r];typeof l=="object"&&typeof a=="object"?n[r]=vc(l,a):Array.isArray(l)||Array.isArray(a)?n[r]=bc(a,l):n[r]=a+" "+l}else n[r]=t[r];for(let r of i)o.includes(r)||(n[r]=e[r]);return n},ca=t=>!t||typeof t!="string"?t:t.replace(/\s+/g," ").trim(),ub={twMerge:!0,twMergeConfig:{},responsiveVariants:!1},yc=t=>t||void 0,Yo=(...t)=>yc(gc(t).filter(Boolean).join(" ")),wr=null,Qt={},Wr=!1,Oo=(...t)=>e=>e.twMerge?((!wr||Wr)&&(Wr=!1,wr=wt(Qt)?jf:hm({...Qt,extend:{theme:Qt.theme,classGroups:Qt.classGroups,conflictingClassGroupModifiers:Qt.conflictingClassGroupModifiers,conflictingClassGroups:Qt.conflictingClassGroups,...Qt.extend}})),yc(wr(Yo(t)))):Yo(t),da=(t,e)=>{for(let n in e)t.hasOwnProperty(n)?t[n]=Yo(t[n],e[n]):t[n]=e[n];return t},fb=(t,e)=>{let{extend:n=null,slots:o={},variants:i={},compoundVariants:r=[],compoundSlots:l=[],defaultVariants:a={}}=t,s={...ub,...e},u=n!=null&&n.base?Yo(n.base,t==null?void 0:t.base):t==null?void 0:t.base,f=n!=null&&n.variants&&!wt(n.variants)?vc(i,n.variants):i,c=n!=null&&n.defaultVariants&&!wt(n.defaultVariants)?{...n.defaultVariants,...a}:a;!wt(s.twMergeConfig)&&!ab(s.twMergeConfig,Qt)&&(Wr=!0,Qt=s.twMergeConfig);let d=wt(n==null?void 0:n.slots),m=wt(o)?{}:{base:Yo(t==null?void 0:t.base,d&&(n==null?void 0:n.base)),...o},h=d?m:da({...n==null?void 0:n.slots},wt(m)?{base:t==null?void 0:t.base}:m),_=w=>{if(wt(f)&&wt(o)&&d)return Oo(u,w==null?void 0:w.class,w==null?void 0:w.className)(s);if(r&&!Array.isArray(r))throw new TypeError(`The "compoundVariants" prop must be an array. Received: ${typeof r}`);if(l&&!Array.isArray(l))throw new TypeError(`The "compoundSlots" prop must be an array. Received: ${typeof l}`);let y=(g,C,D=[],W)=>{let F=D;if(typeof C=="string")F=F.concat(ca(C).split(" ").map(V=>`${g}:${V}`));else if(Array.isArray(C))F=F.concat(C.reduce((V,K)=>V.concat(`${g}:${K}`),[]));else if(typeof C=="object"&&typeof W=="string"){for(let V in C)if(C.hasOwnProperty(V)&&V===W){let K=C[V];if(K&&typeof K=="string"){let Z=ca(K);F[W]?F[W]=F[W].concat(Z.split(" ").map(te=>`${g}:${te}`)):F[W]=Z.split(" ").map(te=>`${g}:${te}`)}else Array.isArray(K)&&K.length>0&&(F[W]=K.reduce((Z,te)=>Z.concat(`${g}:${te}`),[]))}}return F},S=(g,C=f,D=null,W=null)=>{var F;let V=C[g];if(!V||wt(V))return null;let K=(F=W==null?void 0:W[g])!=null?F:w==null?void 0:w[g];if(K===null)return null;let Z=fa(K),te=Array.isArray(s.responsiveVariants)&&s.responsiveVariants.length>0||s.responsiveVariants===!0,z=c==null?void 0:c[g],ne=[];if(typeof Z=="object"&&te)for(let[oe,Fe]of Object.entries(Z)){let b=V[Fe];if(oe==="initial"){z=Fe;continue}Array.isArray(s.responsiveVariants)&&!s.responsiveVariants.includes(oe)||(ne=y(oe,b,ne,D))}let ke=Z!=null&&typeof Z!="object"?Z:fa(z),we=V[ke]||V.false;return typeof ne=="object"&&typeof D=="string"&&ne[D]?da(ne,we):ne.length>0?(ne.push(we),ne):we},R=()=>f?Object.keys(f).map(g=>S(g,f)):null,q=(g,C)=>{if(!f||typeof f!="object")return null;let D=new Array;for(let W in f){let F=S(W,f,g,C),V=g==="base"&&typeof F=="string"?F:F&&F[g];V&&(D[D.length]=V)}return D},j={};for(let g in w)w[g]!==void 0&&(j[g]=w[g]);let $=(g,C)=>{var D;let W=typeof(w==null?void 0:w[g])=="object"?{[g]:(D=w[g])==null?void 0:D.initial}:{};return{...c,...j,...W,...C}},L=(g=[],C)=>{let D=[];for(let{class:W,className:F,...V}of g){let K=!0;for(let[Z,te]of Object.entries(V)){let z=$(Z,C);if(Array.isArray(te)){if(!te.includes(z[Z])){K=!1;break}}else if(z[Z]!==te){K=!1;break}}K&&(W&&D.push(W),F&&D.push(F))}return D},I=g=>{let C=L(r,g),D=L(n==null?void 0:n.compoundVariants,g);return bc(D,C)},N=g=>{let C=I(g);if(!Array.isArray(C))return C;let D={};for(let W of C)if(typeof W=="string"&&(D.base=Oo(D.base,W)(s)),typeof W=="object")for(let[F,V]of Object.entries(W))D[F]=Oo(D[F],V)(s);return D},A=g=>{if(l.length<1)return null;let C={};for(let{slots:D=[],class:W,className:F,...V}of l){if(!wt(V)){let K=!0;for(let Z of Object.keys(V)){let te=$(Z,g)[Z];if(te===void 0||(Array.isArray(V[Z])?!V[Z].includes(te):V[Z]!==te)){K=!1;break}}if(!K)continue}for(let K of D)C[K]=C[K]||[],C[K].push([W,F])}return C};if(!wt(o)||!d){let g={};if(typeof h=="object"&&!wt(h))for(let C of Object.keys(h))g[C]=D=>{var W,F;return Oo(h[C],q(C,D),((W=N(D))!=null?W:[])[C],((F=A(D))!=null?F:[])[C],D==null?void 0:D.class,D==null?void 0:D.className)(s)};return g}return Oo(u,R(),I(),w==null?void 0:w.class,w==null?void 0:w.className)(s)},p=()=>{if(!(!f||typeof f!="object"))return Object.keys(f)};return _.variantKeys=p(),_.extend=n,_.base=u,_.slots=h,_.variants=f,_.defaultVariants=c,_.compoundSlots=l,_.compoundVariants=r,_};const uo=fb({base:"inline-flex items-center justify-center rounded-md text-sm font-medium whitespace-nowrap transition-colors focus-visible:outline-none disabled:pointer-events-none disabled:opacity-50",variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg- hover:bg-accent hover:text-accent-foreground",secondary:"bg-accent text-accent-foreground hover:bg-accent/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),cb=t=>({builder:t&64}),ma=t=>({builder:t[6]});function db(t){let e;const n=t[2].default,o=he(n,t,t[5],ma);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&96)&&ge(o,n,i,i[5],e?_e(n,i[5],r,cb):be(i[5]),ma)},i(i){e||(k(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function mb(t){let e,n;const o=[{class:Ge(uo(),t[0])},t[1]];let i={$$slots:{default:[db,({builder:r})=>({6:r}),({builder:r})=>r?64:0]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=J(i,o[r]);return e=new e_({props:i}),e.$on("click",t[3]),e.$on("keydown",t[4]),{c(){U(e.$$.fragment)},m(r,l){x(e,r,l),n=!0},p(r,[l]){const a=l&3?Ce(o,[l&1&&{class:Ge(uo(),r[0])},l&2&&st(r[1])]):{};l&96&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){Y(e,r)}}}function pb(t,e,n){const o=["class"];let i=ae(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(f){re.call(this,t,f)}function u(f){re.call(this,t,f)}return t.$$set=f=>{e=J(J({},e),je(f)),n(1,i=ae(e,o)),"class"in f&&n(0,a=f.class),"$$scope"in f&&n(5,l=f.$$scope)},[a,i,r,s,u,l]}class wc extends pe{constructor(e){super(),me(this,e,pb,mb,ce,{class:0})}}const hb=t=>({builder:t&64}),pa=t=>({builder:t[6]});function _b(t){let e;const n=t[2].default,o=he(n,t,t[5],pa);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&96)&&ge(o,n,i,i[5],e?_e(n,i[5],r,hb):be(i[5]),pa)},i(i){e||(k(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function gb(t){let e,n;const o=[{class:Ge(uo({variant:"default"}),"mt-2 sm:mt-0",t[0])},t[1]];let i={$$slots:{default:[_b,({builder:r})=>({6:r}),({builder:r})=>r?64:0]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=J(i,o[r]);return e=new s_({props:i}),e.$on("click",t[3]),e.$on("keydown",t[4]),{c(){U(e.$$.fragment)},m(r,l){x(e,r,l),n=!0},p(r,[l]){const a=l&3?Ce(o,[l&1&&{class:Ge(uo({variant:"default"}),"mt-2 sm:mt-0",r[0])},l&2&&st(r[1])]):{};l&96&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){Y(e,r)}}}function bb(t,e,n){const o=["class"];let i=ae(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(f){re.call(this,t,f)}function u(f){re.call(this,t,f)}return t.$$set=f=>{e=J(J({},e),je(f)),n(1,i=ae(e,o)),"class"in f&&n(0,a=f.class),"$$scope"in f&&n(5,l=f.$$scope)},[a,i,r,s,u,l]}class vb extends pe{constructor(e){super(),me(this,e,bb,gb,ce,{class:0})}}function yb(t){let e;const n=t[1].default,o=he(n,t,t[2],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&4)&&ge(o,n,i,i[2],e?_e(n,i[2],r,null):be(i[2]),null)},i(i){e||(k(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function wb(t){let e,n;const o=[t[0]];let i={$$slots:{default:[yb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=J(i,o[r]);return e=new p_({props:i}),{c(){U(e.$$.fragment)},m(r,l){x(e,r,l),n=!0},p(r,[l]){const a=l&1?Ce(o,[st(r[0])]):{};l&4&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){Y(e,r)}}}function kb(t,e,n){const o=[];let i=ae(e,o),{$$slots:r={},$$scope:l}=e;return t.$$set=a=>{e=J(J({},e),je(a)),n(0,i=ae(e,o)),"$$scope"in a&&n(2,l=a.$$scope)},[i,r,l]}class Cb extends pe{constructor(e){super(),me(this,e,kb,wb,ce,{})}}function Tb(t){let e,n,o;const i=t[3].default,r=he(i,t,t[2],null);let l=[{class:n=Ge("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=J(a,l[s]);return{c(){e=P("div"),r&&r.c(),fe(e,a)},m(s,u){O(s,e,u),r&&r.m(e,null),o=!0},p(s,[u]){r&&r.p&&(!o||u&4)&&ge(r,i,s,s[2],o?_e(i,s[2],u,null):be(s[2]),null),fe(e,a=Ce(l,[(!o||u&1&&n!==(n=Ge("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(k(r,s),o=!0)},o(s){T(r,s),o=!1},d(s){s&&M(e),r&&r.d(s)}}}function Ab(t,e,n){const o=["class"];let i=ae(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=J(J({},e),je(s)),n(1,i=ae(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,i,l,r]}class yl extends pe{constructor(e){super(),me(this,e,Ab,Tb,ce,{class:0})}}function Sb(t){let e,n,o;const i=t[3].default,r=he(i,t,t[2],null);let l=[{class:n=Ge("flex flex-col space-y-2 text-center sm:text-left",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=J(a,l[s]);return{c(){e=P("div"),r&&r.c(),fe(e,a)},m(s,u){O(s,e,u),r&&r.m(e,null),o=!0},p(s,[u]){r&&r.p&&(!o||u&4)&&ge(r,i,s,s[2],o?_e(i,s[2],u,null):be(s[2]),null),fe(e,a=Ce(l,[(!o||u&1&&n!==(n=Ge("flex flex-col space-y-2 text-center sm:text-left",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(k(r,s),o=!0)},o(s){T(r,s),o=!1},d(s){s&&M(e),r&&r.d(s)}}}function Ib(t,e,n){const o=["class"];let i=ae(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=J(J({},e),je(s)),n(1,i=ae(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,i,l,r]}class kc extends pe{constructor(e){super(),me(this,e,Ib,Sb,ce,{class:0})}}function Mb(t){let e,n;const o=[{transition:t[1]},{transitionConfig:t[2]},{class:Ge("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm ",t[0])},t[3]];let i={};for(let r=0;r<o.length;r+=1)i=J(i,o[r]);return e=new q_({props:i}),{c(){U(e.$$.fragment)},m(r,l){x(e,r,l),n=!0},p(r,[l]){const a=l&15?Ce(o,[l&2&&{transition:r[1]},l&4&&{transitionConfig:r[2]},l&1&&{class:Ge("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm ",r[0])},l&8&&st(r[3])]):{};e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){Y(e,r)}}}function Ob(t,e,n){const o=["class","transition","transitionConfig"];let i=ae(e,o),{class:r=void 0}=e,{transition:l=Di}=e,{transitionConfig:a={duration:150}}=e;return t.$$set=s=>{e=J(J({},e),je(s)),n(3,i=ae(e,o)),"class"in s&&n(0,r=s.class),"transition"in s&&n(1,l=s.transition),"transitionConfig"in s&&n(2,a=s.transitionConfig)},[r,l,a,i]}class Pb extends pe{constructor(e){super(),me(this,e,Ob,Mb,ce,{class:0,transition:1,transitionConfig:2})}}function Nb(t){let e;const n=t[4].default,o=he(n,t,t[5],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&32)&&ge(o,n,i,i[5],e?_e(n,i[5],r,null):be(i[5]),null)},i(i){e||(k(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function Eb(t){let e,n,o,i;e=new Pb({});const r=[{transition:t[0]},{transitionConfig:t[1]},{class:Ge("fixed rounded-2xl left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-sidebarBackground text-sidebarText p-6 shadow-lg md:w-full",t[2])},t[3]];let l={$$slots:{default:[Nb]},$$scope:{ctx:t}};for(let a=0;a<r.length;a+=1)l=J(l,r[a]);return o=new O_({props:l}),{c(){U(e.$$.fragment),n=B(),U(o.$$.fragment)},m(a,s){x(e,a,s),O(a,n,s),x(o,a,s),i=!0},p(a,s){const u=s&15?Ce(r,[s&1&&{transition:a[0]},s&2&&{transitionConfig:a[1]},s&4&&{class:Ge("fixed rounded-2xl left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-sidebarBackground text-sidebarText p-6 shadow-lg md:w-full",a[2])},s&8&&st(a[3])]):{};s&32&&(u.$$scope={dirty:s,ctx:a}),o.$set(u)},i(a){i||(k(e.$$.fragment,a),k(o.$$.fragment,a),i=!0)},o(a){T(e.$$.fragment,a),T(o.$$.fragment,a),i=!1},d(a){a&&M(n),Y(e,a),Y(o,a)}}}function $b(t){let e,n;return e=new Cb({props:{$$slots:{default:[Eb]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(o,i){x(e,o,i),n=!0},p(o,[i]){const r={};i&47&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function Rb(t,e,n){const o=["transition","transitionConfig","class"];let i=ae(e,o),{$$slots:r={},$$scope:l}=e,{transition:a=ho}=e,{transitionConfig:s=void 0}=e,{class:u=void 0}=e;return t.$$set=f=>{e=J(J({},e),je(f)),n(3,i=ae(e,o)),"transition"in f&&n(0,a=f.transition),"transitionConfig"in f&&n(1,s=f.transitionConfig),"class"in f&&n(2,u=f.class),"$$scope"in f&&n(5,l=f.$$scope)},[a,s,u,i,r,l]}class wl extends pe{constructor(e){super(),me(this,e,Rb,$b,ce,{transition:0,transitionConfig:1,class:2})}}function Lb(t){let e;const n=t[2].default,o=he(n,t,t[3],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&8)&&ge(o,n,i,i[3],e?_e(n,i[3],r,null):be(i[3]),null)},i(i){e||(k(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function Db(t){let e,n;const o=[{class:Ge("text-sm text-muted-foreground",t[0])},t[1]];let i={$$slots:{default:[Lb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=J(i,o[r]);return e=new Y_({props:i}),{c(){U(e.$$.fragment)},m(r,l){x(e,r,l),n=!0},p(r,[l]){const a=l&3?Ce(o,[l&1&&{class:Ge("text-sm text-muted-foreground",r[0])},l&2&&st(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){Y(e,r)}}}function Fb(t,e,n){const o=["class"];let i=ae(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=J(J({},e),je(s)),n(1,i=ae(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,l=s.$$scope)},[a,i,r,l]}class Cc extends pe{constructor(e){super(),me(this,e,Fb,Db,ce,{class:0})}}const kl=Bh;function jb(t){let e;const n=t[5].default,o=he(n,t,t[6],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&64)&&ge(o,n,i,i[6],e?_e(n,i[6],r,null):be(i[6]),null)},i(i){e||(k(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function qb(t){let e,n;const o=[{transition:t[2]},{transitionConfig:t[3]},{sideOffset:t[1]},{class:Ge("z-[1000] overflow-hidden border bg-sidebarBackground px-3 py-1.5 text-sm text-black shadow-md rounded-2xl",t[0])},t[4]];let i={$$slots:{default:[jb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=J(i,o[r]);return e=new g1({props:i}),{c(){U(e.$$.fragment)},m(r,l){x(e,r,l),n=!0},p(r,[l]){const a=l&31?Ce(o,[l&4&&{transition:r[2]},l&8&&{transitionConfig:r[3]},l&2&&{sideOffset:r[1]},l&1&&{class:Ge("z-[1000] overflow-hidden border bg-sidebarBackground px-3 py-1.5 text-sm text-black shadow-md rounded-2xl",r[0])},l&16&&st(r[4])]):{};l&64&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){Y(e,r)}}}function Bb(t,e,n){const o=["class","sideOffset","transition","transitionConfig"];let i=ae(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{sideOffset:s=16}=e,{transition:u=ho}=e,{transitionConfig:f={y:6,duration:100}}=e;return t.$$set=c=>{e=J(J({},e),je(c)),n(4,i=ae(e,o)),"class"in c&&n(0,a=c.class),"sideOffset"in c&&n(1,s=c.sideOffset),"transition"in c&&n(2,u=c.transition),"transitionConfig"in c&&n(3,f=c.transitionConfig),"$$scope"in c&&n(6,l=c.$$scope)},[a,s,u,f,i,r,l]}class yo extends pe{constructor(e){super(),me(this,e,Bb,qb,ce,{class:0,sideOffset:1,transition:2,transitionConfig:3})}}const wo=n1,ko=T1;function Hb(t){let e=(t[4].length>0?t[4]:"Why are you hovering here?")+"",n;return{c(){n=G(e)},m(o,i){O(o,n,i)},p(o,i){i&16&&e!==(e=(o[4].length>0?o[4]:"Why are you hovering here?")+"")&&se(n,e)},d(o){o&&M(n)}}}function Gb(t){let e,n;return{c(){e=P("div"),n=G(t[0])},m(o,i){O(o,e,i),v(e,n)},p(o,i){i&1&&se(n,o[0])},d(o){o&&M(e)}}}function Wb(t){let e,n;return e=new It({props:{class:`text-sm flex flex-col  cursor-pointer py-1.5 rounded-xl bg-accent text-accentText
  `+t[2]+" cursor-pointer opacity-"+t[3]+" "+(t[3]<100?"hover:opacity-40":"")+` transition-all duration-150 filter hover:brightness-110
  `,$$slots:{default:[Gb]},$$scope:{ctx:t}}}),e.$on("click",function(){Ft(t[1])&&t[1].apply(this,arguments)}),{c(){U(e.$$.fragment)},m(o,i){x(e,o,i),n=!0},p(o,i){t=o;const r={};i&12&&(r.class=`text-sm flex flex-col  cursor-pointer py-1.5 rounded-xl bg-accent text-accentText
  `+t[2]+" cursor-pointer opacity-"+t[3]+" "+(t[3]<100?"hover:opacity-40":"")+` transition-all duration-150 filter hover:brightness-110
  `),i&33&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function Vb(t){let e,n,o,i;return e=new yo({props:{$$slots:{default:[Hb]},$$scope:{ctx:t}}}),o=new ko({props:{class:"flex flex-col ",$$slots:{default:[Wb]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),n=B(),U(o.$$.fragment)},m(r,l){x(e,r,l),O(r,n,l),x(o,r,l),i=!0},p(r,l){const a={};l&48&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&47&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){T(e.$$.fragment,r),T(o.$$.fragment,r),i=!1},d(r){r&&M(n),Y(e,r),Y(o,r)}}}function xb(t){let e,n;return e=new wo({props:{openDelay:t[4].length>0?200:1e4,closeDelay:0,$$slots:{default:[Vb]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(o,i){x(e,o,i),n=!0},p(o,[i]){const r={};i&16&&(r.openDelay=o[4].length>0?200:1e4),i&63&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function Yb(t,e,n){let{text:o}=e,{onOpen:i}=e,{styling:r="bg-accent text-accentText"}=e,{opacity:l=100}=e,{onHoverText:a=""}=e;return t.$$set=s=>{"text"in s&&n(0,o=s.text),"onOpen"in s&&n(1,i=s.onOpen),"styling"in s&&n(2,r=s.styling),"opacity"in s&&n(3,l=s.opacity),"onHoverText"in s&&n(4,a=s.onHoverText)},[o,i,r,l,a]}class en extends pe{constructor(e){super(),me(this,e,Yb,xb,ce,{text:0,onOpen:1,styling:2,opacity:3,onHoverText:4})}}function ha(t,e,n){const o=t.slice();return o[24]=e[n],o}function _a(t,e,n){const o=t.slice();return o[27]=e[n],o}function Ub(t){let e;return{c(){e=G("Pause Menu")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function Kb(t){let e,n,o,i;return e=new ln({props:{class:"text-3xl font-semibold text-accentText",$$slots:{default:[Ub]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),n=B(),o=P("span"),o.textContent="Unpause any time by pressing 'P'"},m(r,l){x(e,r,l),O(r,n,l),O(r,o,l),i=!0},p(r,l){const a={};l&1073741824&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){i||(k(e.$$.fragment,r),i=!0)},o(r){T(e.$$.fragment,r),i=!1},d(r){r&&(M(n),M(o)),Y(e,r)}}}function ga(t){let e,n,o,i,r,l=JSON.stringify(t[4].requirements[t[1].difficulty].population_count)+"",a,s,u=JSON.stringify(t[1].townInfo.population_count)+"",f,c,d,m,h=JSON.stringify(t[4].requirements[t[1].difficulty].happiness)+"",_,p,w=JSON.stringify(t[1].townInfo.happiness)+"",y,S,R,q,j=JSON.stringify(t[4].requirements[t[1].difficulty].employment*100)+"",$,L,I=JSON.stringify((t[1].townInfo.employees/t[1].townInfo.population_count||0)*100)+"",N,A,g,C,D,W=JSON.stringify(t[4].requirements[t[1].difficulty].health)+"",F,V,K=JSON.stringify(t[1].townInfo.health)+"",Z,te,z,ne,ke=JSON.stringify(t[4].requirements[t[1].difficulty].knowledge)+"",we,oe,Fe=JSON.stringify(t[1].townInfo.knowledge_points)+"",b,Q,X;function ue(ve,Ze){return ve[1].townInfo.population_count>=ve[4].requirements[ve[1].difficulty].population_count?Jb:Xb}let Te=ue(t),de=Te(t);function Pe(ve,Ze){return ve[1].townInfo.happiness>=ve[4].requirements[ve[1].difficulty].happiness?Qb:Zb}let qe=Pe(t),He=qe(t);function De(ve,Ze){return ve[1].townInfo.employees/ve[1].townInfo.population_count>=ve[4].requirements[ve[1].difficulty].employment?ev:zb}let Je=De(t),Xe=Je(t);function Ye(ve,Ze){return ve[1].townInfo.health>=ve[4].requirements[ve[1].difficulty].health?nv:tv}let Ie=Ye(t),Ne=Ie(t);function Re(ve,Ze){return ve[1].townInfo.knowledge_points>=ve[4].requirements[ve[1].difficulty].knowledge?iv:ov}let ze=Re(t),lt=ze(t),rt=t[4].requirements[t[1].difficulty].required_plots!=null&&t[4].requirements[t[1].difficulty].required_plots.length>0&&ba(t);return{c(){e=P("div"),e.textContent=`With your difficulty (${t[5]}), you must also have:`,n=B(),o=P("ul"),i=P("li"),de.c(),r=G(`
                  Population: `),a=G(l),s=G(" - Currently at "),f=G(u),c=B(),d=P("li"),He.c(),m=G(`
                  Happiness: `),_=G(h),p=G(" - Currently at "),y=G(w),S=B(),R=P("li"),Xe.c(),q=G(`
                  Employment: `),$=G(j),L=G("% - Currently at "),N=G(I),A=G("%"),g=B(),C=P("li"),Ne.c(),D=G(`
                  Health: `),F=G(W),V=G(" - Currently at "),Z=G(K),te=B(),z=P("li"),lt.c(),ne=G(`
                  Knowledge: `),we=G(ke),oe=G(" - Currently at "),b=G(Fe),Q=B(),rt&&rt.c(),X=Le(),E(e,"class","leading-relaxed text-sm"),E(o,"class","list-inside list-disc leading-relaxedmt-0 text-sm")},m(ve,Ze){O(ve,e,Ze),O(ve,n,Ze),O(ve,o,Ze),v(o,i),de.m(i,null),v(i,r),v(i,a),v(i,s),v(i,f),v(o,c),v(o,d),He.m(d,null),v(d,m),v(d,_),v(d,p),v(d,y),v(o,S),v(o,R),Xe.m(R,null),v(R,q),v(R,$),v(R,L),v(R,N),v(R,A),v(o,g),v(o,C),Ne.m(C,null),v(C,D),v(C,F),v(C,V),v(C,Z),v(o,te),v(o,z),lt.m(z,null),v(z,ne),v(z,we),v(z,oe),v(z,b),O(ve,Q,Ze),rt&&rt.m(ve,Ze),O(ve,X,Ze)},p(ve,Ze){Te!==(Te=ue(ve))&&(de.d(1),de=Te(ve),de&&(de.c(),de.m(i,r))),Ze&2&&l!==(l=JSON.stringify(ve[4].requirements[ve[1].difficulty].population_count)+"")&&se(a,l),Ze&2&&u!==(u=JSON.stringify(ve[1].townInfo.population_count)+"")&&se(f,u),qe!==(qe=Pe(ve))&&(He.d(1),He=qe(ve),He&&(He.c(),He.m(d,m))),Ze&2&&h!==(h=JSON.stringify(ve[4].requirements[ve[1].difficulty].happiness)+"")&&se(_,h),Ze&2&&w!==(w=JSON.stringify(ve[1].townInfo.happiness)+"")&&se(y,w),Je!==(Je=De(ve))&&(Xe.d(1),Xe=Je(ve),Xe&&(Xe.c(),Xe.m(R,q))),Ze&2&&j!==(j=JSON.stringify(ve[4].requirements[ve[1].difficulty].employment*100)+"")&&se($,j),Ze&2&&I!==(I=JSON.stringify((ve[1].townInfo.employees/ve[1].townInfo.population_count||0)*100)+"")&&se(N,I),Ie!==(Ie=Ye(ve))&&(Ne.d(1),Ne=Ie(ve),Ne&&(Ne.c(),Ne.m(C,D))),Ze&2&&W!==(W=JSON.stringify(ve[4].requirements[ve[1].difficulty].health)+"")&&se(F,W),Ze&2&&K!==(K=JSON.stringify(ve[1].townInfo.health)+"")&&se(Z,K),ze!==(ze=Re(ve))&&(lt.d(1),lt=ze(ve),lt&&(lt.c(),lt.m(z,ne))),Ze&2&&ke!==(ke=JSON.stringify(ve[4].requirements[ve[1].difficulty].knowledge)+"")&&se(we,ke),Ze&2&&Fe!==(Fe=JSON.stringify(ve[1].townInfo.knowledge_points)+"")&&se(b,Fe),ve[4].requirements[ve[1].difficulty].required_plots!=null&&ve[4].requirements[ve[1].difficulty].required_plots.length>0?rt?rt.p(ve,Ze):(rt=ba(ve),rt.c(),rt.m(X.parentNode,X)):rt&&(rt.d(1),rt=null)},d(ve){ve&&(M(e),M(n),M(o),M(Q),M(X)),de.d(),He.d(),Xe.d(),Ne.d(),lt.d(),rt&&rt.d(ve)}}}function Xb(t){let e;return{c(){e=G("❌")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function Jb(t){let e;return{c(){e=G("✅")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function Zb(t){let e;return{c(){e=G("❌")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function Qb(t){let e;return{c(){e=G("✅")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function zb(t){let e;return{c(){e=G("❌")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function ev(t){let e;return{c(){e=G("✅")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function tv(t){let e;return{c(){e=G("❌")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function nv(t){let e;return{c(){e=G("✅")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function ov(t){let e;return{c(){e=G("❌")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function iv(t){let e;return{c(){e=G("✅")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function ba(t){let e,n,o,i=Ue(t[4].requirements[t[1].difficulty].required_plots),r=[];for(let l=0;l<i.length;l+=1)r[l]=va(_a(t,i,l));return{c(){e=P("br"),n=G(`
                You also need to have these plots:
                `);for(let l=0;l<r.length;l+=1)r[l].c();o=Le()},m(l,a){O(l,e,a),O(l,n,a);for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(l,a);O(l,o,a)},p(l,a){if(a&18){i=Ue(l[4].requirements[l[1].difficulty].required_plots);let s;for(s=0;s<i.length;s+=1){const u=_a(l,i,s);r[s]?r[s].p(u,a):(r[s]=va(u),r[s].c(),r[s].m(o.parentNode,o))}for(;s<r.length;s+=1)r[s].d(1);r.length=i.length}},d(l){l&&(M(e),M(n),M(o)),ut(r,l)}}}function rv(t){let e;return{c(){e=G("❌")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function lv(t){let e;return{c(){e=G("✅")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function va(t){let e,n,o,i,r=t[27]+"",l,a;function s(c,d){return d&2&&(o=null),o==null&&(o=Be(c[27],c[1]).length>0),o?lv:rv}let u=s(t,-1),f=u(t);return{c(){e=P("div"),n=P("li"),f.c(),i=B(),l=G(r),a=B(),E(e,"class","text-sm")},m(c,d){O(c,e,d),v(e,n),f.m(n,null),v(n,i),v(n,l),v(e,a)},p(c,d){u!==(u=s(c,d))&&(f.d(1),f=u(c),f&&(f.c(),f.m(n,i))),d&2&&r!==(r=c[27]+"")&&se(l,r)},d(c){c&&M(e),f.d()}}}function ya(t){let e,n;function o(){return t[18](t[24])}return e=new en({props:{text:`💰 Collect Prize: $${ka(t[24].prize)} gold`,styling:"bg-yellow-300 text-black",onOpen:o}}),{c(){U(e.$$.fragment)},m(i,r){x(e,i,r),n=!0},p(i,r){t=i;const l={};r&1&&(l.text=`💰 Collect Prize: $${ka(t[24].prize)} gold`),r&1&&(l.onOpen=o),e.$set(l)},i(i){n||(k(e.$$.fragment,i),n=!0)},o(i){T(e.$$.fragment,i),n=!1},d(i){Y(e,i)}}}function wa(t){let e,n,o,i,r,l,a=t[24].title+"",s,u,f,c=t[24].requirements+"",d,m,h,_=t[24].icon+"",p,w,y,S=t[24].description+"",R,q,j,$,L=t[7](t[24].id)+"",I,N,A,g=t[12](t[24].id)&&!t[8](t[24].id),C,D,W,F=g&&ya(t);return{c(){e=P("div"),n=P("div"),o=P("div"),i=P("span"),r=P("div"),l=P("span"),s=G(a),u=B(),f=P("div"),d=G(c),m=B(),h=P("div"),p=G(_),w=B(),y=P("div"),R=G(S),q=B(),j=P("div"),$=G("✅ Completed on Day "),I=G(L),A=B(),F&&F.c(),C=B(),E(l,"class","font-semibold text-lg"),E(f,"class","font-thin opacity-75 text-xs"),E(r,"class","flex flex-row gap-3 w-[100%] text- items-center "),E(h,"class","text-2xl pr-1 break-inside-avoid "),E(i,"class","flex flex-row justify-between w-[100%]"),E(o,"class","min-w-32 flex"),E(y,"class","opacity-85 text-xs font-light"),E(j,"class",N="pb-2"+(t[12](t[24].id)?"":"hidden")+" text-xs text-green-400"),E(n,"class","flex-col flex px-3 py-2 gap-0"),E(e,"class",D="flex flex-col gap-3 cursor-default rounded-xl "+(t[12](t[24].id)?"bg-green-700 text-accentText":"bg-gray-500 opacity-35"))},m(V,K){O(V,e,K),v(e,n),v(n,o),v(o,i),v(i,r),v(r,l),v(l,s),v(r,u),v(r,f),v(f,d),v(i,m),v(i,h),v(h,p),v(n,w),v(n,y),v(y,R),v(n,q),v(n,j),v(j,$),v(j,I),v(n,A),F&&F.m(n,null),v(e,C),W=!0},p(V,K){(!W||K&1)&&a!==(a=V[24].title+"")&&se(s,a),(!W||K&1)&&c!==(c=V[24].requirements+"")&&se(d,c),(!W||K&1)&&_!==(_=V[24].icon+"")&&se(p,_),(!W||K&1)&&S!==(S=V[24].description+"")&&se(R,S),(!W||K&1)&&L!==(L=V[7](V[24].id)+"")&&se(I,L),(!W||K&1&&N!==(N="pb-2"+(V[12](V[24].id)?"":"hidden")+" text-xs text-green-400"))&&E(j,"class",N),K&1&&(g=V[12](V[24].id)&&!V[8](V[24].id)),g?F?(F.p(V,K),K&1&&k(F,1)):(F=ya(V),F.c(),k(F,1),F.m(n,null)):F&&(Me(),T(F,1,1,()=>{F=null}),Oe()),(!W||K&1&&D!==(D="flex flex-col gap-3 cursor-default rounded-xl "+(V[12](V[24].id)?"bg-green-700 text-accentText":"bg-gray-500 opacity-35")))&&E(e,"class",D)},i(V){W||(k(F),W=!0)},o(V){T(F),W=!1},d(V){V&&M(e),F&&F.d()}}}function sv(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,h,_,p,w,y,S,R,q,j,$,L,I,N,A,g,C,D,W,F;e=new sn({props:{$$slots:{default:[Kb]},$$scope:{ctx:t}}});let V=t[1].endGoal=="land"&&ga(t);m=new en({props:{styling:"w-min",text:"💾 Save Game",onOpen:t[10]}}),_=new en({props:{styling:"w-min",text:"📤 Load Game",onOpen:t[17]}}),w=new en({props:{styling:"bg-black opacity-50 w-min",text:"🔄 New Game",onOpen:t[14]}}),S=new St({props:{orientation:"vertical"}});let K=Ue(t[0]),Z=[];for(let z=0;z<K.length;z+=1)Z[z]=wa(ha(t,K,z));const te=z=>T(Z[z],1,1,()=>{Z[z]=null});return{c(){U(e.$$.fragment),n=B(),o=P("div"),i=P("div"),r=P("div"),l=P("h4"),l.textContent="This game",a=B(),s=P("span"),s.textContent=`${t[4].description_title}`,u=B(),f=P("div"),V&&V.c(),c=B(),d=P("div"),U(m.$$.fragment),h=B(),U(_.$$.fragment),p=B(),U(w.$$.fragment),y=B(),U(S.$$.fragment),R=B(),q=P("div"),j=P("h4"),j.textContent=`Your achievement (${t[6].length}
          / ${mt.length})`,$=B(),L=P("span"),L.textContent="Track your progress through games & complete challenges!",I=B(),N=P("br"),A=B(),g=P("div"),C=P("div");for(let z=0;z<Z.length;z+=1)Z[z].c();D=B(),W=P("span"),W.textContent=`Prizes apply to the current game you are in. You can wait to apply
          them until the right time.`,E(l,"class","text-xl font-semibold mb-2"),E(s,"class","text-sm text-accentText opacity-75"),E(f,"class","mt-6 gap-0 py-0 text-accentText opacity-75 text-sm"),E(r,"class","flex-col h-max"),E(d,"class","flex flex-row gap-3"),E(i,"class","flex flex-col gap-6 justify-between"),E(j,"class","underline underline-offset-4"),E(L,"class","text-sm text-gray-400"),E(C,"class","flex flex-col gap-4 overflow-scroll pb-10 scroll-smooth"),E(g,"class","overflow-scroll mt-2 h-[60vh]"),E(W,"class","text-sm text-yellow-400"),E(o,"class","flex flex-row w-full gap-10")},m(z,ne){x(e,z,ne),O(z,n,ne),O(z,o,ne),v(o,i),v(i,r),v(r,l),v(r,a),v(r,s),v(r,u),v(r,f),V&&V.m(f,null),v(i,c),v(i,d),x(m,d,null),v(d,h),x(_,d,null),v(d,p),x(w,d,null),v(o,y),x(S,o,null),v(o,R),v(o,q),v(q,j),v(q,$),v(q,L),v(q,I),v(q,N),v(q,A),v(q,g),v(g,C);for(let ke=0;ke<Z.length;ke+=1)Z[ke]&&Z[ke].m(C,null);v(q,D),v(q,W),F=!0},p(z,ne){const ke={};if(ne&1073741824&&(ke.$$scope={dirty:ne,ctx:z}),e.$set(ke),z[1].endGoal=="land"?V?V.p(z,ne):(V=ga(z),V.c(),V.m(f,null)):V&&(V.d(1),V=null),ne&4993){K=Ue(z[0]);let we;for(we=0;we<K.length;we+=1){const oe=ha(z,K,we);Z[we]?(Z[we].p(oe,ne),k(Z[we],1)):(Z[we]=wa(oe),Z[we].c(),k(Z[we],1),Z[we].m(C,null))}for(Me(),we=K.length;we<Z.length;we+=1)te(we);Oe()}},i(z){if(!F){k(e.$$.fragment,z),k(m.$$.fragment,z),k(_.$$.fragment,z),k(w.$$.fragment,z),k(S.$$.fragment,z);for(let ne=0;ne<K.length;ne+=1)k(Z[ne]);F=!0}},o(z){T(e.$$.fragment,z),T(m.$$.fragment,z),T(_.$$.fragment,z),T(w.$$.fragment,z),T(S.$$.fragment,z),Z=Z.filter(Boolean);for(let ne=0;ne<Z.length;ne+=1)T(Z[ne]);F=!1},d(z){z&&(M(n),M(o)),Y(e,z),V&&V.d(),Y(m),Y(_),Y(w),Y(S),ut(Z,z)}}}function av(t){let e,n;return e=new an({props:{class:"max-w-[90vw] max-h-[90vh] bg-popupBackground text-accentText",$$slots:{default:[sv]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(o,i){x(e,o,i),n=!0},p(o,i){const r={};i&1073741827&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function uv(t){var o;let e=((o=t[13]())==null?void 0:o.title)+"",n;return{c(){n=G(e)},m(i,r){O(i,n,r)},p:ye,d(i){i&&M(n)}}}function fv(t){let e,n,o,i;return{c(){var r,l;e=P("div"),n=P("div"),n.textContent=`${(r=t[13]())==null?void 0:r.icon}`,o=B(),i=P("div"),i.textContent=`${(l=t[13]())==null?void 0:l.description}`,E(n,"class","text-center w-[30%] align-middle flex flex-col text-8xl"),E(i,"class","pl-8 w-[80%] align-middle flex flex-col justify-center text-lg"),E(e,"class","flex flex-row align-middle justify-evenly px-6 py-4")},m(r,l){O(r,e,l),v(e,n),v(e,o),v(e,i)},p:ye,d(r){r&&M(e)}}}function cv(t){let e,n,o,i;return e=new hc({props:{class:"text-center text-lg font-bold",$$slots:{default:[uv]},$$scope:{ctx:t}}}),o=new Cc({props:{$$slots:{default:[fv]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),n=B(),U(o.$$.fragment)},m(r,l){x(e,r,l),O(r,n,l),x(o,r,l),i=!0},p(r,l){const a={};l&1073741824&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&1073741824&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){T(e.$$.fragment,r),T(o.$$.fragment,r),i=!1},d(r){r&&M(n),Y(e,r),Y(o,r)}}}function dv(t){let e;return{c(){e=G("Close to collect prize")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function mv(t){let e,n;return e=new vb({props:{$$slots:{default:[dv]},$$scope:{ctx:t}}}),e.$on("click",t[20]),{c(){U(e.$$.fragment)},m(o,i){x(e,o,i),n=!0},p(o,i){const r={};i&1073741824&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function pv(t){let e,n,o,i;return e=new kc({props:{$$slots:{default:[cv]},$$scope:{ctx:t}}}),o=new yl({props:{$$slots:{default:[mv]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),n=B(),U(o.$$.fragment)},m(r,l){x(e,r,l),O(r,n,l),x(o,r,l),i=!0},p(r,l){const a={};l&1073741824&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&1073741832&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){T(e.$$.fragment,r),T(o.$$.fragment,r),i=!1},d(r){r&&M(n),Y(e,r),Y(o,r)}}}function hv(t){let e,n;return e=new wl({props:{$$slots:{default:[pv]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(o,i){x(e,o,i),n=!0},p(o,i){const r={};i&1073741832&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function _v(t){let e,n,o,i,r;function l(s){t[19](s)}let a={$$slots:{default:[av]},$$scope:{ctx:t}};return t[2]!==void 0&&(a.open=t[2]),e=new un({props:a}),Ee.push(()=>Ut(e,"open",l)),i=new kl({props:{open:t[3],$$slots:{default:[hv]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),o=B(),U(i.$$.fragment)},m(s,u){x(e,s,u),O(s,o,u),x(i,s,u),r=!0},p(s,[u]){const f={};u&1073741827&&(f.$$scope={dirty:u,ctx:s}),!n&&u&4&&(n=!0,f.open=s[2],Vt(()=>n=!1)),e.$set(f);const c={};u&8&&(c.open=s[3]),u&1073741832&&(c.$$scope={dirty:u,ctx:s}),i.$set(c)},i(s){r||(k(e.$$.fragment,s),k(i.$$.fragment,s),r=!0)},o(s){T(e.$$.fragment,s),T(i.$$.fragment,s),r=!1},d(s){s&&M(o),Y(e,s),Y(i,s)}}}function ka(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function gv(t){const e=JSON.parse(t);return e.townInfo!=null&&e.difficulty!=null}function bv(t,e,n){let o,i,r,l,a;le(t,$e,N=>n(1,o=N)),le(t,Et,N=>n(2,i=N)),le(t,hn,N=>n(22,r=N)),le(t,Hl,N=>n(16,l=N)),le(t,Mi,N=>n(3,a=N));const u=mn[o.endGoal],f=Nf[o.difficulty]||0;mt.sort((N,A)=>y(N.id)&&!y(A.id)?-1:!y(N.id)&&y(A.id)?1:0);const c=mt.filter(N=>y(N.id));function d(N){const A=r.achievements.find(g=>g[0]==N);return A==null?0:`${A[1]} in ${A[2]}.`}function m(N){const A=r.achievements.find(g=>g[0]==N);return A==null?!1:A[3]}function h(N){const A=r.achievements.find(C=>C[0]==N);if(A==null)return;const g=mt.find(C=>C.id==N);g!=null&&(Se($e,o.townInfo.gold+=g.prize,o),A[3]=!0,Se(hn,r.achievements=r.achievements.map(C=>C[0]==N?A:C),r))}let _=mt;function p(){const N=JSON.stringify(o),A=new Blob([N],{type:"text/plain"}),g=URL.createObjectURL(A),C=document.createElement("a");C.href=g,C.download=`${new Date().toISOString()}.json`,document.body.appendChild(C),C.click(),document.body.removeChild(C),URL.revokeObjectURL(g)}function w(N){const A=N.target.files;if(A==null)return;const g=A[0],C=new FileReader;C.onload=function(D){if(D.target==null)return;const W=D.target.result;if(typeof W=="string"){if(!gv(W)){Ct.set("Invalid game file");return}Lr(JSON.parse(W))}else Ct.set("Invalid game file: is not String.")},C.readAsText(g)}function y(N){return r.achievements==null?!1:r.achievements.find(A=>A[0]==N)!=null}function S(){Hl.update(N=>!N),localStorage.setItem("showCompletedAchievements",localStorage.getItem("showCompletedAchievements")==="true"?"false":"true")}localStorage.getItem("pauseMenuTab")==null&&(localStorage.setItem("pauseMenuTab","game"),Tm.set("game"));function R(){const N=r.achievements[r.achievements.length-1];if(N!=null)return mt.find(A=>A.id==N[0])}function q(){Se(Et,i=!0,i),localStorage.setItem("reset","true"),Se($e,o=null,o),localStorage.removeItem(At),Lr()}const j=()=>{const N=document.createElement("input");N.type="file",N.onchange=A=>w(A),N.click()},$=N=>{h(N.id);const A=document.getElementById(`collectPrize-${N.id}`);A&&(A.style.display="none")};function L(N){i=N,Et.set(i)}const I=()=>{Se(Mi,a=!1,a)};return t.$$.update=()=>{if(t.$$.dirty&65539&&o)if(l)n(0,_=mt);else{n(0,_=[]);for(let N=0;N<mt.length;N++)(!y(mt[N].id)||!m(mt[N].id))&&_.push(mt[N])}},[_,o,i,a,u,f,c,d,m,h,p,w,y,R,q,S,l,j,$,L,I]}class vv extends pe{constructor(e){super(),me(this,e,bv,_v,ce,{toggleShowCompleted:15})}get toggleShowCompleted(){return this.$$.ctx[15]}}function Ca(t,e,n){const o=t.slice();return o[5]=e[n],o}function yv(t){let e;return{c(){e=G("🚨 Plot Disabled Warning")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function wv(t){let e,n;return e=new ln({props:{class:"text-xl font-semibold",$$slots:{default:[yv]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(o,i){x(e,o,i),n=!0},p(o,i){const r={};i&256&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function Ta(t){let e,n=t[5]+"",o;return{c(){e=P("li"),o=G(n)},m(i,r){O(i,e,r),v(e,o)},p(i,r){r&1&&n!==(n=i[5]+"")&&se(o,n)},d(i){i&&M(e)}}}function kv(t){let e;return{c(){e=G("Bulldoze")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function Cv(t){let e,n=t[0].plotCost+"",o,i;return{c(){e=G("Snooze ("),o=G(n),i=G(" gold)")},m(r,l){O(r,e,l),O(r,o,l),O(r,i,l)},p(r,l){l&1&&n!==(n=r[0].plotCost+"")&&se(o,n)},d(r){r&&(M(e),M(o),M(i))}}}function Tv(t){let e,n,o,i;return e=new It({props:{variant:"destructive",$$slots:{default:[kv]},$$scope:{ctx:t}}}),e.$on("click",t[3]),o=new It({props:{variant:"default",disabled:t[1].townInfo.gold<t[0].plotCost,$$slots:{default:[Cv]},$$scope:{ctx:t}}}),o.$on("click",t[2]),{c(){U(e.$$.fragment),n=B(),U(o.$$.fragment)},m(r,l){x(e,r,l),O(r,n,l),x(o,r,l),i=!0},p(r,l){const a={};l&256&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&3&&(s.disabled=r[1].townInfo.gold<r[0].plotCost),l&257&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){T(e.$$.fragment,r),T(o.$$.fragment,r),i=!1},d(r){r&&M(n),Y(e,r),Y(o,r)}}}function Av(t){let e,n,o,i,r,l=t[0].plotName+"",a,s,u=t[0].location+"",f,c,d,m,h,_,p,w,y,S,R,q,j,$,L,I,N=t[0].plotCost+"",A,g,C,D,W;e=new sn({props:{class:"p-4 border-b border-accent/20",$$slots:{default:[wv]},$$scope:{ctx:t}}});let F=Ue(t[0].missingResources),V=[];for(let K=0;K<F.length;K+=1)V[K]=Ta(Ca(t,F,K));return D=new Cn({props:{class:"p-4 border-t border-accent/20 flex justify-end gap-2",$$slots:{default:[Tv]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),n=B(),o=P("div"),i=P("p"),r=G("Your "),a=G(l),s=B(),f=G(u),c=G(" is about to be disabled!"),d=B(),m=P("div"),h=P("p"),h.textContent="Missing Resources:",_=B(),p=P("ul");for(let K=0;K<V.length;K+=1)V[K].c();w=B(),y=P("div"),S=P("p"),S.textContent="You have two options:",R=B(),q=P("ol"),j=P("li"),j.textContent="Bulldoze the plot (free)",$=B(),L=P("li"),I=G("Snooze for 30 days (costs "),A=G(N),g=G(" gold)"),C=B(),U(D.$$.fragment),E(h,"class","font-semibold"),E(p,"class","list-disc list-inside"),E(m,"class","bg-red-500/10 p-3 rounded-md"),E(q,"class","list-decimal list-inside"),E(y,"class","bg-accent/10 p-3 rounded-md"),E(o,"class","p-4 space-y-4")},m(K,Z){x(e,K,Z),O(K,n,Z),O(K,o,Z),v(o,i),v(i,r),v(i,a),v(i,s),v(i,f),v(i,c),v(o,d),v(o,m),v(m,h),v(m,_),v(m,p);for(let te=0;te<V.length;te+=1)V[te]&&V[te].m(p,null);v(o,w),v(o,y),v(y,S),v(y,R),v(y,q),v(q,j),v(q,$),v(q,L),v(L,I),v(L,A),v(L,g),O(K,C,Z),x(D,K,Z),W=!0},p(K,Z){const te={};if(Z&256&&(te.$$scope={dirty:Z,ctx:K}),e.$set(te),(!W||Z&1)&&l!==(l=K[0].plotName+"")&&se(a,l),(!W||Z&1)&&u!==(u=K[0].location+"")&&se(f,u),Z&1){F=Ue(K[0].missingResources);let ne;for(ne=0;ne<F.length;ne+=1){const ke=Ca(K,F,ne);V[ne]?V[ne].p(ke,Z):(V[ne]=Ta(ke),V[ne].c(),V[ne].m(p,null))}for(;ne<V.length;ne+=1)V[ne].d(1);V.length=F.length}(!W||Z&1)&&N!==(N=K[0].plotCost+"")&&se(A,N);const z={};Z&259&&(z.$$scope={dirty:Z,ctx:K}),D.$set(z)},i(K){W||(k(e.$$.fragment,K),k(D.$$.fragment,K),W=!0)},o(K){T(e.$$.fragment,K),T(D.$$.fragment,K),W=!1},d(K){K&&(M(n),M(o),M(C)),Y(e,K),ut(V,K),Y(D,K)}}}function Sv(t){let e,n;return e=new an({props:{transition:ho,class:"bg-sidebarBackground text-sidebarText max-w-md rounded-md shadow-xl border border-accent",$$slots:{default:[Av]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(o,i){x(e,o,i),n=!0},p(o,i){const r={};i&259&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function Iv(t){let e,n,o;function i(l){t[4](l)}let r={$$slots:{default:[Sv]},$$scope:{ctx:t}};return t[0].visible!==void 0&&(r.open=t[0].visible),e=new un({props:r}),Ee.push(()=>Ut(e,"open",i)),{c(){U(e.$$.fragment)},m(l,a){x(e,l,a),o=!0},p(l,[a]){const s={};a&259&&(s.$$scope={dirty:a,ctx:l}),!n&&a&1&&(n=!0,s.open=l[0].visible,Vt(()=>n=!1)),e.$set(s)},i(l){o||(k(e.$$.fragment,l),o=!0)},o(l){T(e.$$.fragment,l),o=!1},d(l){Y(e,l)}}}function Mv(t,e,n){let o,i;le(t,Bt,s=>n(0,o=s)),le(t,$e,s=>n(1,i=s));function r(){i.townInfo.gold>=o.plotCost&&(Se($e,i.townInfo.gold-=o.plotCost,i),Se($e,i.plots[o.x][o.y].snoozedUntil=i.environment.day+10,i),Se($e,i.plots[o.x][o.y].disabled=!1,i)),Se(Bt,o.visible=!1,o)}function l(){console.log("x:",o.x),console.log("y:",o.y),oo(o.x,o.y,i),Se(Bt,o.visible=!1,o)}function a(s){t.$$.not_equal(o.visible,s)&&(o.visible=s,Bt.set(o))}return[o,i,r,l,a]}class Ov extends pe{constructor(e){super(),me(this,e,Mv,Iv,ce,{})}}function Pv(){console.log("%cRUNNING STABILITY TESTS...","color: #26bfa5;");let t=0;return console.log("%cPASSED ALL STABILITY TESTS 😍","color: #26bfa5;"),t}function Nv(t){let e=t[0].endGameDetails.win==!0?"You won! 🎉":"You lost! 😭",n;return{c(){n=G(e)},m(o,i){O(o,n,i)},p(o,i){i&1&&e!==(e=o[0].endGameDetails.win==!0?"You won! 🎉":"You lost! 😭")&&se(n,e)},d(o){o&&M(n)}}}function Ev(t){let e;return{c(){e=G("Keep playin'")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function $v(t){let e,n=t[0].endGameDetails.msg+"",o,i,r,l,a,s,u,f;return u=new It({props:{class:"bg-accent",$$slots:{default:[Ev]},$$scope:{ctx:t}}}),u.$on("click",t[2]),{c(){e=P("span"),o=G(n),i=B(),r=P("br"),l=B(),a=P("br"),s=B(),U(u.$$.fragment),E(e,"class","text-gray-500 text-sm")},m(c,d){O(c,e,d),v(e,o),O(c,i,d),O(c,r,d),O(c,l,d),O(c,a,d),O(c,s,d),x(u,c,d),f=!0},p(c,d){(!f||d&1)&&n!==(n=c[0].endGameDetails.msg+"")&&se(o,n);const m={};d&16&&(m.$$scope={dirty:d,ctx:c}),u.$set(m)},i(c){f||(k(u.$$.fragment,c),f=!0)},o(c){T(u.$$.fragment,c),f=!1},d(c){c&&(M(e),M(i),M(r),M(l),M(a),M(s)),Y(u,c)}}}function Rv(t){let e,n,o,i;return e=new ln({props:{$$slots:{default:[Nv]},$$scope:{ctx:t}}}),o=new Hn({props:{$$slots:{default:[$v]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),n=B(),U(o.$$.fragment)},m(r,l){x(e,r,l),O(r,n,l),x(o,r,l),i=!0},p(r,l){const a={};l&17&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&17&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){T(e.$$.fragment,r),T(o.$$.fragment,r),i=!1},d(r){r&&M(n),Y(e,r),Y(o,r)}}}function Lv(t){let e;return{c(){e=P("span"),e.textContent="Reset the game by pressing SHIFT+ESC",E(e,"class","text-gray-500 text-sm")},m(n,o){O(n,e,o)},p:ye,d(n){n&&M(e)}}}function Dv(t){let e,n,o,i;return e=new sn({props:{$$slots:{default:[Rv]},$$scope:{ctx:t}}}),o=new Cn({props:{$$slots:{default:[Lv]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),n=B(),U(o.$$.fragment)},m(r,l){x(e,r,l),O(r,n,l),x(o,r,l),i=!0},p(r,l){const a={};l&17&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&16&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){T(e.$$.fragment,r),T(o.$$.fragment,r),i=!1},d(r){r&&M(n),Y(e,r),Y(o,r)}}}function Fv(t){let e,n;return e=new an({props:{class:"bg-foregroundDark text-accentText",$$slots:{default:[Dv]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(o,i){x(e,o,i),n=!0},p(o,i){const r={};i&17&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function jv(t){let e,n,o;function i(l){t[3](l)}let r={$$slots:{default:[Fv]},$$scope:{ctx:t}};return t[1]!==void 0&&(r.open=t[1]),e=new un({props:r}),Ee.push(()=>Ut(e,"open",i)),{c(){U(e.$$.fragment)},m(l,a){x(e,l,a),o=!0},p(l,[a]){const s={};a&17&&(s.$$scope={dirty:a,ctx:l}),!n&&a&2&&(n=!0,s.open=l[1],Vt(()=>n=!1)),e.$set(s)},i(l){o||(k(e.$$.fragment,l),o=!0)},o(l){T(e.$$.fragment,l),o=!1},d(l){Y(e,l)}}}function qv(t,e,n){let o;le(t,$e,a=>n(0,o=a));let i=!1;function r(){let a=o;a.overtime=!0,$e.set(a),n(1,i=!1),Et.set(!1)}function l(a){i=a,n(1,i),n(0,o)}return t.$$.update=()=>{t.$$.dirty&1&&(o.endGameDetails.msg!=""&&o.overtime==!1?n(1,i=!0):n(1,i=!1))},[o,i,r,l]}class Bv extends pe{constructor(e){super(),me(this,e,qv,jv,ce,{})}}function Hv(t){let e,n,o,i,r=[{class:n=Ge("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t[1])},t[2]],l={};for(let a=0;a<r.length;a+=1)l=J(l,r[a]);return{c(){e=P("input"),fe(e,l)},m(a,s){O(a,e,s),e.autofocus&&e.focus(),ki(e,t[0]),o||(i=[ee(e,"input",t[17]),ee(e,"blur",t[3]),ee(e,"change",t[4]),ee(e,"click",t[5]),ee(e,"focus",t[6]),ee(e,"focusin",t[7]),ee(e,"focusout",t[8]),ee(e,"keydown",t[9]),ee(e,"keypress",t[10]),ee(e,"keyup",t[11]),ee(e,"mouseover",t[12]),ee(e,"mouseenter",t[13]),ee(e,"mouseleave",t[14]),ee(e,"paste",t[15]),ee(e,"input",t[16])],o=!0)},p(a,[s]){fe(e,l=Ce(r,[s&2&&n!==(n=Ge("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a[1]))&&{class:n},s&4&&a[2]])),s&1&&e.value!==a[0]&&ki(e,a[0])},i:ye,o:ye,d(a){a&&M(e),o=!1,xe(i)}}}function Gv(t,e,n){const o=["class","value"];let i=ae(e,o),{class:r=void 0}=e,{value:l=void 0}=e;function a(j){re.call(this,t,j)}function s(j){re.call(this,t,j)}function u(j){re.call(this,t,j)}function f(j){re.call(this,t,j)}function c(j){re.call(this,t,j)}function d(j){re.call(this,t,j)}function m(j){re.call(this,t,j)}function h(j){re.call(this,t,j)}function _(j){re.call(this,t,j)}function p(j){re.call(this,t,j)}function w(j){re.call(this,t,j)}function y(j){re.call(this,t,j)}function S(j){re.call(this,t,j)}function R(j){re.call(this,t,j)}function q(){l=this.value,n(0,l)}return t.$$set=j=>{e=J(J({},e),je(j)),n(2,i=ae(e,o)),"class"in j&&n(1,r=j.class),"value"in j&&n(0,l=j.value)},[l,r,i,a,s,u,f,c,d,m,h,_,p,w,y,S,R,q]}class Wv extends pe{constructor(e){super(),me(this,e,Gv,Hv,ce,{class:1,value:0})}}function Vv(t){let e;const n=t[2].default,o=he(n,t,t[4],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&16)&&ge(o,n,i,i[4],e?_e(n,i[4],r,null):be(i[4]),null)},i(i){e||(k(o,i),e=!0)},o(i){T(o,i),e=!1},d(i){o&&o.d(i)}}}function xv(t){let e,n;const o=[{class:Ge("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",t[0])},t[1]];let i={$$slots:{default:[Vv]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=J(i,o[r]);return e=new wg({props:i}),e.$on("mousedown",t[3]),{c(){U(e.$$.fragment)},m(r,l){x(e,r,l),n=!0},p(r,[l]){const a=l&3?Ce(o,[l&1&&{class:Ge("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",r[0])},l&2&&st(r[1])]):{};l&16&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){Y(e,r)}}}function Yv(t,e,n){const o=["class"];let i=ae(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(u){re.call(this,t,u)}return t.$$set=u=>{e=J(J({},e),je(u)),n(1,i=ae(e,o)),"class"in u&&n(0,a=u.class),"$$scope"in u&&n(4,l=u.$$scope)},[a,i,r,s,l]}class kr extends pe{constructor(e){super(),me(this,e,Yv,xv,ce,{class:0})}}function Uv(t){let e;return{c(){e=G("Welcome to Plots!")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function Kv(t){let e;return{c(){e=P("a"),e.textContent="GitHub / Learn how to play",E(e,"href","https://github.com/josephrcox/plots#how-to-play"),E(e,"class","text-accent hover:text-accent/80 text-sm mb-4 hover:underline inline-block"),E(e,"target","_blank")},m(n,o){O(n,e,o)},p:ye,d(n){n&&M(e)}}}function Xv(t){let e,n,o,i;return e=new ln({props:{class:"text-2xl font-semibold",$$slots:{default:[Uv]},$$scope:{ctx:t}}}),o=new Hn({props:{$$slots:{default:[Kv]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),n=B(),U(o.$$.fragment)},m(r,l){x(e,r,l),O(r,n,l),x(o,r,l),i=!0},p(r,l){const a={};l&256&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&256&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){T(e.$$.fragment,r),T(o.$$.fragment,r),i=!1},d(r){r&&M(n),Y(e,r),Y(o,r)}}}function Jv(t){let e;return{c(){e=G("Game Mode")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function Zv(t){let e;return{c(){e=G("Town Name")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function Qv(t){let e;return{c(){e=G("Game Settings")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function zv(t){let e;return{c(){e=G("Reset user")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function ey(t){let e;return{c(){e=G("Start game")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function ty(t){let e,n=t[1].username+"",o,i,r,l,a,s,u,f,c;return l=new It({props:{variant:"outline",class:"border-accent/20 hover:bg-accent/10",$$slots:{default:[zv]},$$scope:{ctx:t}}}),l.$on("click",t[5]),s=new It({props:{class:"bg-accent hover:bg-accent/80 text-white",$$slots:{default:[ey]},$$scope:{ctx:t}}}),s.$on("click",t[3]),{c(){e=P("span"),o=G(n),i=B(),r=P("div"),U(l.$$.fragment),a=B(),U(s.$$.fragment),E(e,"class","text-xs text-sidebarText/50 hover:text-sidebarText cursor-pointer"),E(r,"class","space-x-2")},m(d,m){O(d,e,m),v(e,o),O(d,i,m),O(d,r,m),x(l,r,null),v(r,a),x(s,r,null),u=!0,f||(c=ee(e,"click",t[6]),f=!0)},p(d,m){(!u||m&2)&&n!==(n=d[1].username+"")&&se(o,n);const h={};m&256&&(h.$$scope={dirty:m,ctx:d}),l.$set(h);const _={};m&256&&(_.$$scope={dirty:m,ctx:d}),s.$set(_)},i(d){u||(k(l.$$.fragment,d),k(s.$$.fragment,d),u=!0)},o(d){T(l.$$.fragment,d),T(s.$$.fragment,d),u=!1},d(d){d&&(M(e),M(i),M(r)),Y(l),Y(s),f=!1,c()}}}function ny(t){let e,n,o,i,r,l,a,s,u,f,c,d,m=(t[0]==="land"?mn.land.description_title:mn.free_play.description_title)+"",h,_,p,w,y,S,R,q,j,$,L,I,N,A,g,C,D,W,F,V,K,Z;e=new sn({props:{class:"p-4 border-b border-accent/20",$$slots:{default:[Xv]},$$scope:{ctx:t}}});let te=ry;return l=new kr({props:{for:"endGoal",class:"text-sm font-medium",$$slots:{default:[Jv]},$$scope:{ctx:t}}}),w=new kr({props:{for:"townName",class:"text-sm font-medium",$$slots:{default:[Zv]},$$scope:{ctx:t}}}),S=new Wv({props:{id:"townName",class:"w-full p-2 rounded-md border border-accent/20 bg-sidebarBackground text-sidebarText focus:ring-2 focus:ring-accent/50",placeholder:"Will be randomized if left blank"}}),j=new kr({props:{class:"text-sm font-medium",$$slots:{default:[Qv]},$$scope:{ctx:t}}}),F=new Cn({props:{class:"p-4 border-t border-accent/20 flex justify-between items-center",$$slots:{default:[ty]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),n=B(),o=P("div"),i=B(),r=P("div"),U(l.$$.fragment),a=B(),s=P("select"),u=P("option"),u.textContent=`${mn.land.short_title}`,f=P("option"),f.textContent=`${mn.free_play.short_title}`,c=B(),d=P("p"),h=G(m),_=B(),p=P("div"),U(w.$$.fragment),y=B(),U(S.$$.fragment),R=B(),q=P("div"),U(j.$$.fragment),$=B(),L=P("div"),L.innerHTML='<input type="checkbox" id="devMode" class="svelte-1fiuyps"/>',I=B(),N=P("div"),N.innerHTML=`<input type="checkbox" id="tomPetty" class="mt-1 rounded border-accent/20 svelte-1fiuyps"/> <label for="tomPetty" class="text-sm">The &#39;Tom Petty&#39; mode: If your happiness or health reaches 0, you
            lose 90% of your gold and continue the game. You won&#39;t back down.</label>`,A=B(),g=P("div"),g.innerHTML=`<input type="checkbox" id="casual" class="mt-1 rounded border-accent/20 svelte-1fiuyps"/> <label for="casual" class="text-sm">Casual game: Faster and easier overall while exposing more of the
            game mechanics.</label>`,C=B(),D=P("div"),D.innerHTML='<input type="checkbox" id="bagOfHolding" class="mt-1 rounded border-accent/20 svelte-1fiuyps"/> <label for="bagOfHolding" class="text-sm">Bag of Holding: No resource cap or need to purchase stockpiles.</label>',W=B(),U(F.$$.fragment),u.__value="land",ki(u,u.__value),f.__value="free_play",ki(f,f.__value),E(s,"id","endGoal"),E(s,"class","w-full p-2 rounded-md border border-accent/20 bg-sidebarBackground text-sidebarText focus:ring-2 focus:ring-accent/50"),E(d,"class","text-sm text-sidebarText/80 mt-1"),E(r,"class","space-y-2"),E(p,"class","space-y-2"),E(L,"class","hidden"),E(N,"class","flex items-start space-x-2"),E(g,"class","flex items-start space-x-2"),E(D,"class","flex items-start space-x-2"),E(q,"class","space-y-4"),E(o,"class","p-4 space-y-4")},m(z,ne){x(e,z,ne),O(z,n,ne),O(z,o,ne),v(o,i),v(o,r),x(l,r,null),v(r,a),v(r,s),v(s,u),v(s,f),Rl(s,t[0]),v(r,c),v(r,d),v(d,h),v(o,_),v(o,p),x(w,p,null),v(p,y),x(S,p,null),v(o,R),v(o,q),x(j,q,null),v(q,$),v(q,L),v(q,I),v(q,N),v(q,A),v(q,g),v(q,C),v(q,D),O(z,W,ne),x(F,z,ne),V=!0,K||(Z=ee(s,"change",t[4]),K=!0)},p(z,ne){const ke={};ne&256&&(ke.$$scope={dirty:ne,ctx:z}),e.$set(ke);const we={};ne&256&&(we.$$scope={dirty:ne,ctx:z}),l.$set(we),(!V||ne&1)&&Rl(s,z[0]),(!V||ne&1)&&m!==(m=(z[0]==="land"?mn.land.description_title:mn.free_play.description_title)+"")&&se(h,m);const oe={};ne&256&&(oe.$$scope={dirty:ne,ctx:z}),w.$set(oe);const Fe={};ne&256&&(Fe.$$scope={dirty:ne,ctx:z}),j.$set(Fe);const b={};ne&258&&(b.$$scope={dirty:ne,ctx:z}),F.$set(b)},i(z){V||(k(e.$$.fragment,z),k(te),k(l.$$.fragment,z),k(w.$$.fragment,z),k(S.$$.fragment,z),k(j.$$.fragment,z),k(F.$$.fragment,z),V=!0)},o(z){T(e.$$.fragment,z),T(te),T(l.$$.fragment,z),T(w.$$.fragment,z),T(S.$$.fragment,z),T(j.$$.fragment,z),T(F.$$.fragment,z),V=!1},d(z){z&&(M(n),M(o),M(W)),Y(e,z),Y(l),Y(w),Y(S),Y(j),Y(F,z),K=!1,Z()}}}function oy(t){let e,n;return e=new an({props:{transition:ho,class:"bg-sidebarBackground text-sidebarText max-w-xl rounded-md shadow-xl border border-accent",$$slots:{default:[ny]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(o,i){x(e,o,i),n=!0},p(o,i){const r={};i&259&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function iy(t){let e,n,o;function i(l){t[7](l)}let r={$$slots:{default:[oy]},$$scope:{ctx:t}};return t[2].visible!==void 0&&(r.open=t[2].visible),e=new un({props:r}),Ee.push(()=>Ut(e,"open",i)),{c(){U(e.$$.fragment)},m(l,a){x(e,l,a),o=!0},p(l,[a]){const s={};a&259&&(s.$$scope={dirty:a,ctx:l}),!n&&a&4&&(n=!0,s.open=l[2].visible,Vt(()=>n=!1)),e.$set(s)},i(l){o||(k(e.$$.fragment,l),o=!0)},o(l){T(e.$$.fragment,l),o=!1},d(l){Y(e,l)}}}const ry=!1;function ly(t,e,n){let o,i;le(t,hn,c=>n(1,o=c)),le(t,jo,c=>n(2,i=c)),Et.set(!1);function r(){const c="1",d=document.getElementById("endGoal").value,m=document.getElementById("townName").value,_=["devMode","tomPetty","casual","bagOfHolding"].filter(y=>document.getElementById(y).checked);ym(c,d,m,_)}let l="free_play";const a=c=>{n(0,l=c.target.value)};function s(){Ct.set("Deleted :)"),localStorage.clear(),window.location.href=""}function u(){const c=prompt("Enter new username");let d=o;d.username=c,Cm(d)}function f(c){t.$$.not_equal(i.visible,c)&&(i.visible=c,jo.set(i))}return[l,o,i,r,a,s,u,f]}class sy extends pe{constructor(e){super(),me(this,e,ly,iy,ce,{})}}function ay(t){let e;return{c(){e=G("Scoreboard")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function uy(t){let e=t[1].description_title+"",n;return{c(){n=G(e)},m(o,i){O(o,n,i)},p:ye,d(o){o&&M(n)}}}function fy(t){let e,n,o,i;return e=new ln({props:{$$slots:{default:[ay]},$$scope:{ctx:t}}}),o=new Hn({props:{$$slots:{default:[uy]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),n=B(),U(o.$$.fragment)},m(r,l){x(e,r,l),O(r,n,l),x(o,r,l),i=!0},p(r,l){const a={};l&128&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&128&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){T(e.$$.fragment,r),T(o.$$.fragment,r),i=!1},d(r){r&&M(n),Y(e,r),Y(o,r)}}}function cy(t){let e;return{c(){e=G("footer")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function dy(t){let e,n,o,i;return e=new sn({props:{$$slots:{default:[fy]},$$scope:{ctx:t}}}),o=new Cn({props:{$$slots:{default:[cy]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),n=G(`
		hi
		`),U(o.$$.fragment)},m(r,l){x(e,r,l),O(r,n,l),x(o,r,l),i=!0},p(r,l){const a={};l&128&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&128&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){T(e.$$.fragment,r),T(o.$$.fragment,r),i=!1},d(r){r&&M(n),Y(e,r),Y(o,r)}}}function my(t){let e,n;return e=new an({props:{$$slots:{default:[dy]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(o,i){x(e,o,i),n=!0},p(o,i){const r={};i&128&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function py(t){let e,n,o;function i(l){t[3](l)}let r={$$slots:{default:[my]},$$scope:{ctx:t}};return t[0]!==void 0&&(r.open=t[0]),e=new un({props:r}),Ee.push(()=>Ut(e,"open",i)),{c(){U(e.$$.fragment)},m(l,a){x(e,l,a),o=!0},p(l,[a]){const s={};a&128&&(s.$$scope={dirty:a,ctx:l}),!n&&a&1&&(n=!0,s.open=l[0],Vt(()=>n=!1)),e.$set(s)},i(l){o||(k(e.$$.fragment,l),o=!0)},o(l){T(e.$$.fragment,l),o=!1},d(l){Y(e,l)}}}function hy(t,e,n){let o,i;le(t,$e,s=>n(2,o=s)),le(t,Ii,s=>n(0,i=s));const l=mn[o.endGoal];Nf[o.difficulty];function a(s){i=s,Ii.set(i)}return t.$$.update=()=>{t.$$.dirty&4},[i,l,o,a]}class _y extends pe{constructor(e){super(),me(this,e,hy,py,ce,{})}}function gi(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function gy(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Tc(t){let e,n,o;t.length!==2?(e=gi,n=(a,s)=>gi(t(a),s),o=(a,s)=>t(a)-s):(e=t===gi||t===gy?t:by,n=t,o=t);function i(a,s,u=0,f=a.length){if(u<f){if(e(s,s)!==0)return f;do{const c=u+f>>>1;n(a[c],s)<0?u=c+1:f=c}while(u<f)}return u}function r(a,s,u=0,f=a.length){if(u<f){if(e(s,s)!==0)return f;do{const c=u+f>>>1;n(a[c],s)<=0?u=c+1:f=c}while(u<f)}return u}function l(a,s,u=0,f=a.length){const c=i(a,s,u,f-1);return c>u&&o(a[c-1],s)>-o(a[c],s)?c-1:c}return{left:i,center:l,right:r}}function by(){return 0}function vy(t){return t===null?NaN:+t}const yy=Tc(gi),wy=yy.right;Tc(vy).center;const ky=Math.sqrt(50),Cy=Math.sqrt(10),Ty=Math.sqrt(2);function Fi(t,e,n){const o=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(o)),r=o/Math.pow(10,i),l=r>=ky?10:r>=Cy?5:r>=Ty?2:1;let a,s,u;return i<0?(u=Math.pow(10,-i)/l,a=Math.round(t*u),s=Math.round(e*u),a/u<t&&++a,s/u>e&&--s,u=-u):(u=Math.pow(10,i)*l,a=Math.round(t/u),s=Math.round(e/u),a*u<t&&++a,s*u>e&&--s),s<a&&.5<=n&&n<2?Fi(t,e,n*2):[a,s,u]}function Ay(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const o=e<t,[i,r,l]=o?Fi(e,t,n):Fi(t,e,n);if(!(r>=i))return[];const a=r-i+1,s=new Array(a);if(o)if(l<0)for(let u=0;u<a;++u)s[u]=(r-u)/-l;else for(let u=0;u<a;++u)s[u]=(r-u)*l;else if(l<0)for(let u=0;u<a;++u)s[u]=(i+u)/-l;else for(let u=0;u<a;++u)s[u]=(i+u)*l;return s}function Vr(t,e,n){return e=+e,t=+t,n=+n,Fi(t,e,n)[2]}function Sy(t,e,n){e=+e,t=+t,n=+n;const o=e<t,i=o?Vr(e,t,n):Vr(t,e,n);return(o?-1:1)*(i<0?1/-i:i)}function Iy(t){return t}var Cr=1,Tr=2,xr=3,$o=4,Aa=1e-6;function My(t){return"translate("+t+",0)"}function Oy(t){return"translate(0,"+t+")"}function Py(t){return e=>+t(e)}function Ny(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function Ey(){return!this.__axis}function Ac(t,e){var n=[],o=null,i=null,r=6,l=6,a=3,s=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=t===Cr||t===$o?-1:1,f=t===$o||t===Tr?"x":"y",c=t===Cr||t===xr?My:Oy;function d(m){var h=o??(e.ticks?e.ticks.apply(e,n):e.domain()),_=i??(e.tickFormat?e.tickFormat.apply(e,n):Iy),p=Math.max(r,0)+a,w=e.range(),y=+w[0]+s,S=+w[w.length-1]+s,R=(e.bandwidth?Ny:Py)(e.copy(),s),q=m.selection?m.selection():m,j=q.selectAll(".domain").data([null]),$=q.selectAll(".tick").data(h,e).order(),L=$.exit(),I=$.enter().append("g").attr("class","tick"),N=$.select("line"),A=$.select("text");j=j.merge(j.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),$=$.merge(I),N=N.merge(I.append("line").attr("stroke","currentColor").attr(f+"2",u*r)),A=A.merge(I.append("text").attr("fill","currentColor").attr(f,u*p).attr("dy",t===Cr?"0em":t===xr?"0.71em":"0.32em")),m!==q&&(j=j.transition(m),$=$.transition(m),N=N.transition(m),A=A.transition(m),L=L.transition(m).attr("opacity",Aa).attr("transform",function(g){return isFinite(g=R(g))?c(g+s):this.getAttribute("transform")}),I.attr("opacity",Aa).attr("transform",function(g){var C=this.parentNode.__axis;return c((C&&isFinite(C=C(g))?C:R(g))+s)})),L.remove(),j.attr("d",t===$o||t===Tr?l?"M"+u*l+","+y+"H"+s+"V"+S+"H"+u*l:"M"+s+","+y+"V"+S:l?"M"+y+","+u*l+"V"+s+"H"+S+"V"+u*l:"M"+y+","+s+"H"+S),$.attr("opacity",1).attr("transform",function(g){return c(R(g)+s)}),N.attr(f+"2",u*r),A.attr(f,u*p).text(_),q.filter(Ey).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Tr?"start":t===$o?"end":"middle"),q.each(function(){this.__axis=R})}return d.scale=function(m){return arguments.length?(e=m,d):e},d.ticks=function(){return n=Array.from(arguments),d},d.tickArguments=function(m){return arguments.length?(n=m==null?[]:Array.from(m),d):n.slice()},d.tickValues=function(m){return arguments.length?(o=m==null?null:Array.from(m),d):o&&o.slice()},d.tickFormat=function(m){return arguments.length?(i=m,d):i},d.tickSize=function(m){return arguments.length?(r=l=+m,d):r},d.tickSizeInner=function(m){return arguments.length?(r=+m,d):r},d.tickSizeOuter=function(m){return arguments.length?(l=+m,d):l},d.tickPadding=function(m){return arguments.length?(a=+m,d):a},d.offset=function(m){return arguments.length?(s=+m,d):s},d}function $y(t){return Ac(xr,t)}function Ry(t){return Ac($o,t)}var Ly={value:()=>{}};function Sc(){for(var t=0,e=arguments.length,n={},o;t<e;++t){if(!(o=arguments[t]+"")||o in n||/[\s.]/.test(o))throw new Error("illegal type: "+o);n[o]=[]}return new bi(n)}function bi(t){this._=t}function Dy(t,e){return t.trim().split(/^|\s+/).map(function(n){var o="",i=n.indexOf(".");if(i>=0&&(o=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:o}})}bi.prototype=Sc.prototype={constructor:bi,on:function(t,e){var n=this._,o=Dy(t+"",n),i,r=-1,l=o.length;if(arguments.length<2){for(;++r<l;)if((i=(t=o[r]).type)&&(i=Fy(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++r<l;)if(i=(t=o[r]).type)n[i]=Sa(n[i],t.name,e);else if(e==null)for(i in n)n[i]=Sa(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new bi(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),o=0,i,r;o<i;++o)n[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=this._[t],o=0,i=r.length;o<i;++o)r[o].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var o=this._[t],i=0,r=o.length;i<r;++i)o[i].value.apply(e,n)}};function Fy(t,e){for(var n=0,o=t.length,i;n<o;++n)if((i=t[n]).name===e)return i.value}function Sa(t,e,n){for(var o=0,i=t.length;o<i;++o)if(t[o].name===e){t[o]=Ly,t=t.slice(0,o).concat(t.slice(o+1));break}return n!=null&&t.push({name:e,value:n}),t}var Yr="http://www.w3.org/1999/xhtml";const Ia={svg:"http://www.w3.org/2000/svg",xhtml:Yr,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ir(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Ia.hasOwnProperty(e)?{space:Ia[e],local:t}:t}function jy(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Yr&&e.documentElement.namespaceURI===Yr?e.createElement(t):e.createElementNS(n,t)}}function qy(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Ic(t){var e=ir(t);return(e.local?qy:jy)(e)}function By(){}function Cl(t){return t==null?By:function(){return this.querySelector(t)}}function Hy(t){typeof t!="function"&&(t=Cl(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var r=e[i],l=r.length,a=o[i]=new Array(l),s,u,f=0;f<l;++f)(s=r[f])&&(u=t.call(s,s.__data__,f,r))&&("__data__"in s&&(u.__data__=s.__data__),a[f]=u);return new Mt(o,this._parents)}function Gy(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Wy(){return[]}function Mc(t){return t==null?Wy:function(){return this.querySelectorAll(t)}}function Vy(t){return function(){return Gy(t.apply(this,arguments))}}function xy(t){typeof t=="function"?t=Vy(t):t=Mc(t);for(var e=this._groups,n=e.length,o=[],i=[],r=0;r<n;++r)for(var l=e[r],a=l.length,s,u=0;u<a;++u)(s=l[u])&&(o.push(t.call(s,s.__data__,u,l)),i.push(s));return new Mt(o,i)}function Oc(t){return function(){return this.matches(t)}}function Pc(t){return function(e){return e.matches(t)}}var Yy=Array.prototype.find;function Uy(t){return function(){return Yy.call(this.children,t)}}function Ky(){return this.firstElementChild}function Xy(t){return this.select(t==null?Ky:Uy(typeof t=="function"?t:Pc(t)))}var Jy=Array.prototype.filter;function Zy(){return Array.from(this.children)}function Qy(t){return function(){return Jy.call(this.children,t)}}function zy(t){return this.selectAll(t==null?Zy:Qy(typeof t=="function"?t:Pc(t)))}function ew(t){typeof t!="function"&&(t=Oc(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var r=e[i],l=r.length,a=o[i]=[],s,u=0;u<l;++u)(s=r[u])&&t.call(s,s.__data__,u,r)&&a.push(s);return new Mt(o,this._parents)}function Nc(t){return new Array(t.length)}function tw(){return new Mt(this._enter||this._groups.map(Nc),this._parents)}function ji(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}ji.prototype={constructor:ji,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function nw(t){return function(){return t}}function ow(t,e,n,o,i,r){for(var l=0,a,s=e.length,u=r.length;l<u;++l)(a=e[l])?(a.__data__=r[l],o[l]=a):n[l]=new ji(t,r[l]);for(;l<s;++l)(a=e[l])&&(i[l]=a)}function iw(t,e,n,o,i,r,l){var a,s,u=new Map,f=e.length,c=r.length,d=new Array(f),m;for(a=0;a<f;++a)(s=e[a])&&(d[a]=m=l.call(s,s.__data__,a,e)+"",u.has(m)?i[a]=s:u.set(m,s));for(a=0;a<c;++a)m=l.call(t,r[a],a,r)+"",(s=u.get(m))?(o[a]=s,s.__data__=r[a],u.delete(m)):n[a]=new ji(t,r[a]);for(a=0;a<f;++a)(s=e[a])&&u.get(d[a])===s&&(i[a]=s)}function rw(t){return t.__data__}function lw(t,e){if(!arguments.length)return Array.from(this,rw);var n=e?iw:ow,o=this._parents,i=this._groups;typeof t!="function"&&(t=nw(t));for(var r=i.length,l=new Array(r),a=new Array(r),s=new Array(r),u=0;u<r;++u){var f=o[u],c=i[u],d=c.length,m=sw(t.call(f,f&&f.__data__,u,o)),h=m.length,_=a[u]=new Array(h),p=l[u]=new Array(h),w=s[u]=new Array(d);n(f,c,_,p,w,m,e);for(var y=0,S=0,R,q;y<h;++y)if(R=_[y]){for(y>=S&&(S=y+1);!(q=p[S])&&++S<h;);R._next=q||null}}return l=new Mt(l,o),l._enter=a,l._exit=s,l}function sw(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function aw(){return new Mt(this._exit||this._groups.map(Nc),this._parents)}function uw(t,e,n){var o=this.enter(),i=this,r=this.exit();return typeof t=="function"?(o=t(o),o&&(o=o.selection())):o=o.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?r.remove():n(r),o&&i?o.merge(i).order():i}function fw(t){for(var e=t.selection?t.selection():t,n=this._groups,o=e._groups,i=n.length,r=o.length,l=Math.min(i,r),a=new Array(i),s=0;s<l;++s)for(var u=n[s],f=o[s],c=u.length,d=a[s]=new Array(c),m,h=0;h<c;++h)(m=u[h]||f[h])&&(d[h]=m);for(;s<i;++s)a[s]=n[s];return new Mt(a,this._parents)}function cw(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var o=t[e],i=o.length-1,r=o[i],l;--i>=0;)(l=o[i])&&(r&&l.compareDocumentPosition(r)^4&&r.parentNode.insertBefore(l,r),r=l);return this}function dw(t){t||(t=mw);function e(c,d){return c&&d?t(c.__data__,d.__data__):!c-!d}for(var n=this._groups,o=n.length,i=new Array(o),r=0;r<o;++r){for(var l=n[r],a=l.length,s=i[r]=new Array(a),u,f=0;f<a;++f)(u=l[f])&&(s[f]=u);s.sort(e)}return new Mt(i,this._parents).order()}function mw(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function pw(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function hw(){return Array.from(this)}function _w(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var o=t[e],i=0,r=o.length;i<r;++i){var l=o[i];if(l)return l}return null}function gw(){let t=0;for(const e of this)++t;return t}function bw(){return!this.node()}function vw(t){for(var e=this._groups,n=0,o=e.length;n<o;++n)for(var i=e[n],r=0,l=i.length,a;r<l;++r)(a=i[r])&&t.call(a,a.__data__,r,i);return this}function yw(t){return function(){this.removeAttribute(t)}}function ww(t){return function(){this.removeAttributeNS(t.space,t.local)}}function kw(t,e){return function(){this.setAttribute(t,e)}}function Cw(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Tw(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Aw(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Sw(t,e){var n=ir(t);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((e==null?n.local?ww:yw:typeof e=="function"?n.local?Aw:Tw:n.local?Cw:kw)(n,e))}function Ec(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Iw(t){return function(){this.style.removeProperty(t)}}function Mw(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Ow(t,e,n){return function(){var o=e.apply(this,arguments);o==null?this.style.removeProperty(t):this.style.setProperty(t,o,n)}}function Pw(t,e,n){return arguments.length>1?this.each((e==null?Iw:typeof e=="function"?Ow:Mw)(t,e,n??"")):fo(this.node(),t)}function fo(t,e){return t.style.getPropertyValue(e)||Ec(t).getComputedStyle(t,null).getPropertyValue(e)}function Nw(t){return function(){delete this[t]}}function Ew(t,e){return function(){this[t]=e}}function $w(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Rw(t,e){return arguments.length>1?this.each((e==null?Nw:typeof e=="function"?$w:Ew)(t,e)):this.node()[t]}function $c(t){return t.trim().split(/^|\s+/)}function Tl(t){return t.classList||new Rc(t)}function Rc(t){this._node=t,this._names=$c(t.getAttribute("class")||"")}Rc.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Lc(t,e){for(var n=Tl(t),o=-1,i=e.length;++o<i;)n.add(e[o])}function Dc(t,e){for(var n=Tl(t),o=-1,i=e.length;++o<i;)n.remove(e[o])}function Lw(t){return function(){Lc(this,t)}}function Dw(t){return function(){Dc(this,t)}}function Fw(t,e){return function(){(e.apply(this,arguments)?Lc:Dc)(this,t)}}function jw(t,e){var n=$c(t+"");if(arguments.length<2){for(var o=Tl(this.node()),i=-1,r=n.length;++i<r;)if(!o.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?Fw:e?Lw:Dw)(n,e))}function qw(){this.textContent=""}function Bw(t){return function(){this.textContent=t}}function Hw(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Gw(t){return arguments.length?this.each(t==null?qw:(typeof t=="function"?Hw:Bw)(t)):this.node().textContent}function Ww(){this.innerHTML=""}function Vw(t){return function(){this.innerHTML=t}}function xw(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Yw(t){return arguments.length?this.each(t==null?Ww:(typeof t=="function"?xw:Vw)(t)):this.node().innerHTML}function Uw(){this.nextSibling&&this.parentNode.appendChild(this)}function Kw(){return this.each(Uw)}function Xw(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Jw(){return this.each(Xw)}function Zw(t){var e=typeof t=="function"?t:Ic(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Qw(){return null}function zw(t,e){var n=typeof t=="function"?t:Ic(t),o=e==null?Qw:typeof e=="function"?e:Cl(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)})}function e2(){var t=this.parentNode;t&&t.removeChild(this)}function t2(){return this.each(e2)}function n2(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function o2(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function i2(t){return this.select(t?o2:n2)}function r2(t){return arguments.length?this.property("__data__",t):this.node().__data__}function l2(t){return function(e){t.call(this,e,this.__data__)}}function s2(t){return t.trim().split(/^|\s+/).map(function(e){var n="",o=e.indexOf(".");return o>=0&&(n=e.slice(o+1),e=e.slice(0,o)),{type:e,name:n}})}function a2(t){return function(){var e=this.__on;if(e){for(var n=0,o=-1,i=e.length,r;n<i;++n)r=e[n],(!t.type||r.type===t.type)&&r.name===t.name?this.removeEventListener(r.type,r.listener,r.options):e[++o]=r;++o?e.length=o:delete this.__on}}}function u2(t,e,n){return function(){var o=this.__on,i,r=l2(e);if(o){for(var l=0,a=o.length;l<a;++l)if((i=o[l]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=r,i.options=n),i.value=e;return}}this.addEventListener(t.type,r,n),i={type:t.type,name:t.name,value:e,listener:r,options:n},o?o.push(i):this.__on=[i]}}function f2(t,e,n){var o=s2(t+""),i,r=o.length,l;if(arguments.length<2){var a=this.node().__on;if(a){for(var s=0,u=a.length,f;s<u;++s)for(i=0,f=a[s];i<r;++i)if((l=o[i]).type===f.type&&l.name===f.name)return f.value}return}for(a=e?u2:a2,i=0;i<r;++i)this.each(a(o[i],e,n));return this}function Fc(t,e,n){var o=Ec(t),i=o.CustomEvent;typeof i=="function"?i=new i(e,n):(i=o.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function c2(t,e){return function(){return Fc(this,t,e)}}function d2(t,e){return function(){return Fc(this,t,e.apply(this,arguments))}}function m2(t,e){return this.each((typeof e=="function"?d2:c2)(t,e))}function*p2(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var o=t[e],i=0,r=o.length,l;i<r;++i)(l=o[i])&&(yield l)}var jc=[null];function Mt(t,e){this._groups=t,this._parents=e}function ei(){return new Mt([[document.documentElement]],jc)}function h2(){return this}Mt.prototype=ei.prototype={constructor:Mt,select:Hy,selectAll:xy,selectChild:Xy,selectChildren:zy,filter:ew,data:lw,enter:tw,exit:aw,join:uw,merge:fw,selection:h2,order:cw,sort:dw,call:pw,nodes:hw,node:_w,size:gw,empty:bw,each:vw,attr:Sw,style:Pw,property:Rw,classed:jw,text:Gw,html:Yw,raise:Kw,lower:Jw,append:Zw,insert:zw,remove:t2,clone:i2,datum:r2,on:f2,dispatch:m2,[Symbol.iterator]:p2};function _2(t){return typeof t=="string"?new Mt([[document.querySelector(t)]],[document.documentElement]):new Mt([[t]],jc)}function Al(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function qc(t,e){var n=Object.create(t.prototype);for(var o in e)n[o]=e[o];return n}function ti(){}var Uo=.7,qi=1/Uo,zn="\\s*([+-]?\\d+)\\s*",Ko="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Gt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",g2=/^#([0-9a-f]{3,8})$/,b2=new RegExp(`^rgb\\(${zn},${zn},${zn}\\)$`),v2=new RegExp(`^rgb\\(${Gt},${Gt},${Gt}\\)$`),y2=new RegExp(`^rgba\\(${zn},${zn},${zn},${Ko}\\)$`),w2=new RegExp(`^rgba\\(${Gt},${Gt},${Gt},${Ko}\\)$`),k2=new RegExp(`^hsl\\(${Ko},${Gt},${Gt}\\)$`),C2=new RegExp(`^hsla\\(${Ko},${Gt},${Gt},${Ko}\\)$`),Ma={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Al(ti,Dn,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Oa,formatHex:Oa,formatHex8:T2,formatHsl:A2,formatRgb:Pa,toString:Pa});function Oa(){return this.rgb().formatHex()}function T2(){return this.rgb().formatHex8()}function A2(){return Bc(this).formatHsl()}function Pa(){return this.rgb().formatRgb()}function Dn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=g2.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Na(e):n===3?new vt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?ui(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?ui(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=b2.exec(t))?new vt(e[1],e[2],e[3],1):(e=v2.exec(t))?new vt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=y2.exec(t))?ui(e[1],e[2],e[3],e[4]):(e=w2.exec(t))?ui(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=k2.exec(t))?Ra(e[1],e[2]/100,e[3]/100,1):(e=C2.exec(t))?Ra(e[1],e[2]/100,e[3]/100,e[4]):Ma.hasOwnProperty(t)?Na(Ma[t]):t==="transparent"?new vt(NaN,NaN,NaN,0):null}function Na(t){return new vt(t>>16&255,t>>8&255,t&255,1)}function ui(t,e,n,o){return o<=0&&(t=e=n=NaN),new vt(t,e,n,o)}function S2(t){return t instanceof ti||(t=Dn(t)),t?(t=t.rgb(),new vt(t.r,t.g,t.b,t.opacity)):new vt}function Ur(t,e,n,o){return arguments.length===1?S2(t):new vt(t,e,n,o??1)}function vt(t,e,n,o){this.r=+t,this.g=+e,this.b=+n,this.opacity=+o}Al(vt,Ur,qc(ti,{brighter(t){return t=t==null?qi:Math.pow(qi,t),new vt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Uo:Math.pow(Uo,t),new vt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new vt(Nn(this.r),Nn(this.g),Nn(this.b),Bi(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ea,formatHex:Ea,formatHex8:I2,formatRgb:$a,toString:$a}));function Ea(){return`#${Mn(this.r)}${Mn(this.g)}${Mn(this.b)}`}function I2(){return`#${Mn(this.r)}${Mn(this.g)}${Mn(this.b)}${Mn((isNaN(this.opacity)?1:this.opacity)*255)}`}function $a(){const t=Bi(this.opacity);return`${t===1?"rgb(":"rgba("}${Nn(this.r)}, ${Nn(this.g)}, ${Nn(this.b)}${t===1?")":`, ${t})`}`}function Bi(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Nn(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Mn(t){return t=Nn(t),(t<16?"0":"")+t.toString(16)}function Ra(t,e,n,o){return o<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Dt(t,e,n,o)}function Bc(t){if(t instanceof Dt)return new Dt(t.h,t.s,t.l,t.opacity);if(t instanceof ti||(t=Dn(t)),!t)return new Dt;if(t instanceof Dt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,o=t.b/255,i=Math.min(e,n,o),r=Math.max(e,n,o),l=NaN,a=r-i,s=(r+i)/2;return a?(e===r?l=(n-o)/a+(n<o)*6:n===r?l=(o-e)/a+2:l=(e-n)/a+4,a/=s<.5?r+i:2-r-i,l*=60):a=s>0&&s<1?0:l,new Dt(l,a,s,t.opacity)}function M2(t,e,n,o){return arguments.length===1?Bc(t):new Dt(t,e,n,o??1)}function Dt(t,e,n,o){this.h=+t,this.s=+e,this.l=+n,this.opacity=+o}Al(Dt,M2,qc(ti,{brighter(t){return t=t==null?qi:Math.pow(qi,t),new Dt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Uo:Math.pow(Uo,t),new Dt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*e,i=2*n-o;return new vt(Ar(t>=240?t-240:t+120,i,o),Ar(t,i,o),Ar(t<120?t+240:t-120,i,o),this.opacity)},clamp(){return new Dt(La(this.h),fi(this.s),fi(this.l),Bi(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Bi(this.opacity);return`${t===1?"hsl(":"hsla("}${La(this.h)}, ${fi(this.s)*100}%, ${fi(this.l)*100}%${t===1?")":`, ${t})`}`}}));function La(t){return t=(t||0)%360,t<0?t+360:t}function fi(t){return Math.max(0,Math.min(1,t||0))}function Ar(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Sl=t=>()=>t;function O2(t,e){return function(n){return t+n*e}}function P2(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(o){return Math.pow(t+o*e,n)}}function N2(t){return(t=+t)==1?Hc:function(e,n){return n-e?P2(e,n,t):Sl(isNaN(e)?n:e)}}function Hc(t,e){var n=e-t;return n?O2(t,n):Sl(isNaN(t)?e:t)}const Hi=function t(e){var n=N2(e);function o(i,r){var l=n((i=Ur(i)).r,(r=Ur(r)).r),a=n(i.g,r.g),s=n(i.b,r.b),u=Hc(i.opacity,r.opacity);return function(f){return i.r=l(f),i.g=a(f),i.b=s(f),i.opacity=u(f),i+""}}return o.gamma=t,o}(1);function E2(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,o=e.slice(),i;return function(r){for(i=0;i<n;++i)o[i]=t[i]*(1-r)+e[i]*r;return o}}function $2(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function R2(t,e){var n=e?e.length:0,o=t?Math.min(n,t.length):0,i=new Array(o),r=new Array(n),l;for(l=0;l<o;++l)i[l]=Il(t[l],e[l]);for(;l<n;++l)r[l]=e[l];return function(a){for(l=0;l<o;++l)r[l]=i[l](a);return r}}function L2(t,e){var n=new Date;return t=+t,e=+e,function(o){return n.setTime(t*(1-o)+e*o),n}}function Lt(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function D2(t,e){var n={},o={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Il(t[i],e[i]):o[i]=e[i];return function(r){for(i in n)o[i]=n[i](r);return o}}var Kr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Sr=new RegExp(Kr.source,"g");function F2(t){return function(){return t}}function j2(t){return function(e){return t(e)+""}}function Gc(t,e){var n=Kr.lastIndex=Sr.lastIndex=0,o,i,r,l=-1,a=[],s=[];for(t=t+"",e=e+"";(o=Kr.exec(t))&&(i=Sr.exec(e));)(r=i.index)>n&&(r=e.slice(n,r),a[l]?a[l]+=r:a[++l]=r),(o=o[0])===(i=i[0])?a[l]?a[l]+=i:a[++l]=i:(a[++l]=null,s.push({i:l,x:Lt(o,i)})),n=Sr.lastIndex;return n<e.length&&(r=e.slice(n),a[l]?a[l]+=r:a[++l]=r),a.length<2?s[0]?j2(s[0].x):F2(e):(e=s.length,function(u){for(var f=0,c;f<e;++f)a[(c=s[f]).i]=c.x(u);return a.join("")})}function Il(t,e){var n=typeof e,o;return e==null||n==="boolean"?Sl(e):(n==="number"?Lt:n==="string"?(o=Dn(e))?(e=o,Hi):Gc:e instanceof Dn?Hi:e instanceof Date?L2:$2(e)?E2:Array.isArray(e)?R2:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?D2:Lt)(t,e)}function q2(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var Da=180/Math.PI,Xr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Wc(t,e,n,o,i,r){var l,a,s;return(l=Math.sqrt(t*t+e*e))&&(t/=l,e/=l),(s=t*n+e*o)&&(n-=t*s,o-=e*s),(a=Math.sqrt(n*n+o*o))&&(n/=a,o/=a,s/=a),t*o<e*n&&(t=-t,e=-e,s=-s,l=-l),{translateX:i,translateY:r,rotate:Math.atan2(e,t)*Da,skewX:Math.atan(s)*Da,scaleX:l,scaleY:a}}var ci;function B2(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Xr:Wc(e.a,e.b,e.c,e.d,e.e,e.f)}function H2(t){return t==null||(ci||(ci=document.createElementNS("http://www.w3.org/2000/svg","g")),ci.setAttribute("transform",t),!(t=ci.transform.baseVal.consolidate()))?Xr:(t=t.matrix,Wc(t.a,t.b,t.c,t.d,t.e,t.f))}function Vc(t,e,n,o){function i(u){return u.length?u.pop()+" ":""}function r(u,f,c,d,m,h){if(u!==c||f!==d){var _=m.push("translate(",null,e,null,n);h.push({i:_-4,x:Lt(u,c)},{i:_-2,x:Lt(f,d)})}else(c||d)&&m.push("translate("+c+e+d+n)}function l(u,f,c,d){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),d.push({i:c.push(i(c)+"rotate(",null,o)-2,x:Lt(u,f)})):f&&c.push(i(c)+"rotate("+f+o)}function a(u,f,c,d){u!==f?d.push({i:c.push(i(c)+"skewX(",null,o)-2,x:Lt(u,f)}):f&&c.push(i(c)+"skewX("+f+o)}function s(u,f,c,d,m,h){if(u!==c||f!==d){var _=m.push(i(m)+"scale(",null,",",null,")");h.push({i:_-4,x:Lt(u,c)},{i:_-2,x:Lt(f,d)})}else(c!==1||d!==1)&&m.push(i(m)+"scale("+c+","+d+")")}return function(u,f){var c=[],d=[];return u=t(u),f=t(f),r(u.translateX,u.translateY,f.translateX,f.translateY,c,d),l(u.rotate,f.rotate,c,d),a(u.skewX,f.skewX,c,d),s(u.scaleX,u.scaleY,f.scaleX,f.scaleY,c,d),u=f=null,function(m){for(var h=-1,_=d.length,p;++h<_;)c[(p=d[h]).i]=p.x(m);return c.join("")}}}var G2=Vc(B2,"px, ","px)","deg)"),W2=Vc(H2,", ",")",")"),co=0,Ro=0,Po=0,xc=1e3,Gi,Lo,Wi=0,Fn=0,rr=0,Xo=typeof performance=="object"&&performance.now?performance:Date,Yc=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Ml(){return Fn||(Yc(V2),Fn=Xo.now()+rr)}function V2(){Fn=0}function Vi(){this._call=this._time=this._next=null}Vi.prototype=Uc.prototype={constructor:Vi,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Ml():+n)+(e==null?0:+e),!this._next&&Lo!==this&&(Lo?Lo._next=this:Gi=this,Lo=this),this._call=t,this._time=n,Jr()},stop:function(){this._call&&(this._call=null,this._time=1/0,Jr())}};function Uc(t,e,n){var o=new Vi;return o.restart(t,e,n),o}function x2(){Ml(),++co;for(var t=Gi,e;t;)(e=Fn-t._time)>=0&&t._call.call(void 0,e),t=t._next;--co}function Fa(){Fn=(Wi=Xo.now())+rr,co=Ro=0;try{x2()}finally{co=0,U2(),Fn=0}}function Y2(){var t=Xo.now(),e=t-Wi;e>xc&&(rr-=e,Wi=t)}function U2(){for(var t,e=Gi,n,o=1/0;e;)e._call?(o>e._time&&(o=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Gi=n);Lo=t,Jr(o)}function Jr(t){if(!co){Ro&&(Ro=clearTimeout(Ro));var e=t-Fn;e>24?(t<1/0&&(Ro=setTimeout(Fa,t-Xo.now()-rr)),Po&&(Po=clearInterval(Po))):(Po||(Wi=Xo.now(),Po=setInterval(Y2,xc)),co=1,Yc(Fa))}}function ja(t,e,n){var o=new Vi;return e=e==null?0:+e,o.restart(i=>{o.stop(),t(i+e)},e,n),o}var K2=Sc("start","end","cancel","interrupt"),X2=[],Kc=0,qa=1,Zr=2,vi=3,Ba=4,Qr=5,yi=6;function lr(t,e,n,o,i,r){var l=t.__transition;if(!l)t.__transition={};else if(n in l)return;J2(t,n,{name:e,index:o,group:i,on:K2,tween:X2,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:Kc})}function Ol(t,e){var n=jt(t,e);if(n.state>Kc)throw new Error("too late; already scheduled");return n}function Kt(t,e){var n=jt(t,e);if(n.state>vi)throw new Error("too late; already running");return n}function jt(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function J2(t,e,n){var o=t.__transition,i;o[e]=n,n.timer=Uc(r,0,n.time);function r(u){n.state=qa,n.timer.restart(l,n.delay,n.time),n.delay<=u&&l(u-n.delay)}function l(u){var f,c,d,m;if(n.state!==qa)return s();for(f in o)if(m=o[f],m.name===n.name){if(m.state===vi)return ja(l);m.state===Ba?(m.state=yi,m.timer.stop(),m.on.call("interrupt",t,t.__data__,m.index,m.group),delete o[f]):+f<e&&(m.state=yi,m.timer.stop(),m.on.call("cancel",t,t.__data__,m.index,m.group),delete o[f])}if(ja(function(){n.state===vi&&(n.state=Ba,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=Zr,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Zr){for(n.state=vi,i=new Array(d=n.tween.length),f=0,c=-1;f<d;++f)(m=n.tween[f].value.call(t,t.__data__,n.index,n.group))&&(i[++c]=m);i.length=c+1}}function a(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(s),n.state=Qr,1),c=-1,d=i.length;++c<d;)i[c].call(t,f);n.state===Qr&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){n.state=yi,n.timer.stop(),delete o[e];for(var u in o)return;delete t.__transition}}function Z2(t,e){var n=t.__transition,o,i,r=!0,l;if(n){e=e==null?null:e+"";for(l in n){if((o=n[l]).name!==e){r=!1;continue}i=o.state>Zr&&o.state<Qr,o.state=yi,o.timer.stop(),o.on.call(i?"interrupt":"cancel",t,t.__data__,o.index,o.group),delete n[l]}r&&delete t.__transition}}function Q2(t){return this.each(function(){Z2(this,t)})}function z2(t,e){var n,o;return function(){var i=Kt(this,t),r=i.tween;if(r!==n){o=n=r;for(var l=0,a=o.length;l<a;++l)if(o[l].name===e){o=o.slice(),o.splice(l,1);break}}i.tween=o}}function ek(t,e,n){var o,i;if(typeof n!="function")throw new Error;return function(){var r=Kt(this,t),l=r.tween;if(l!==o){i=(o=l).slice();for(var a={name:e,value:n},s=0,u=i.length;s<u;++s)if(i[s].name===e){i[s]=a;break}s===u&&i.push(a)}r.tween=i}}function tk(t,e){var n=this._id;if(t+="",arguments.length<2){for(var o=jt(this.node(),n).tween,i=0,r=o.length,l;i<r;++i)if((l=o[i]).name===t)return l.value;return null}return this.each((e==null?z2:ek)(n,t,e))}function Pl(t,e,n){var o=t._id;return t.each(function(){var i=Kt(this,o);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return jt(i,o).value[e]}}function Xc(t,e){var n;return(typeof e=="number"?Lt:e instanceof Dn?Hi:(n=Dn(e))?(e=n,Hi):Gc)(t,e)}function nk(t){return function(){this.removeAttribute(t)}}function ok(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ik(t,e,n){var o,i=n+"",r;return function(){var l=this.getAttribute(t);return l===i?null:l===o?r:r=e(o=l,n)}}function rk(t,e,n){var o,i=n+"",r;return function(){var l=this.getAttributeNS(t.space,t.local);return l===i?null:l===o?r:r=e(o=l,n)}}function lk(t,e,n){var o,i,r;return function(){var l,a=n(this),s;return a==null?void this.removeAttribute(t):(l=this.getAttribute(t),s=a+"",l===s?null:l===o&&s===i?r:(i=s,r=e(o=l,a)))}}function sk(t,e,n){var o,i,r;return function(){var l,a=n(this),s;return a==null?void this.removeAttributeNS(t.space,t.local):(l=this.getAttributeNS(t.space,t.local),s=a+"",l===s?null:l===o&&s===i?r:(i=s,r=e(o=l,a)))}}function ak(t,e){var n=ir(t),o=n==="transform"?W2:Xc;return this.attrTween(t,typeof e=="function"?(n.local?sk:lk)(n,o,Pl(this,"attr."+t,e)):e==null?(n.local?ok:nk)(n):(n.local?rk:ik)(n,o,e))}function uk(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function fk(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function ck(t,e){var n,o;function i(){var r=e.apply(this,arguments);return r!==o&&(n=(o=r)&&fk(t,r)),n}return i._value=e,i}function dk(t,e){var n,o;function i(){var r=e.apply(this,arguments);return r!==o&&(n=(o=r)&&uk(t,r)),n}return i._value=e,i}function mk(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var o=ir(t);return this.tween(n,(o.local?ck:dk)(o,e))}function pk(t,e){return function(){Ol(this,t).delay=+e.apply(this,arguments)}}function hk(t,e){return e=+e,function(){Ol(this,t).delay=e}}function _k(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?pk:hk)(e,t)):jt(this.node(),e).delay}function gk(t,e){return function(){Kt(this,t).duration=+e.apply(this,arguments)}}function bk(t,e){return e=+e,function(){Kt(this,t).duration=e}}function vk(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?gk:bk)(e,t)):jt(this.node(),e).duration}function yk(t,e){if(typeof e!="function")throw new Error;return function(){Kt(this,t).ease=e}}function wk(t){var e=this._id;return arguments.length?this.each(yk(e,t)):jt(this.node(),e).ease}function kk(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Kt(this,t).ease=n}}function Ck(t){if(typeof t!="function")throw new Error;return this.each(kk(this._id,t))}function Tk(t){typeof t!="function"&&(t=Oc(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var r=e[i],l=r.length,a=o[i]=[],s,u=0;u<l;++u)(s=r[u])&&t.call(s,s.__data__,u,r)&&a.push(s);return new nn(o,this._parents,this._name,this._id)}function Ak(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,o=e.length,i=n.length,r=Math.min(o,i),l=new Array(o),a=0;a<r;++a)for(var s=e[a],u=n[a],f=s.length,c=l[a]=new Array(f),d,m=0;m<f;++m)(d=s[m]||u[m])&&(c[m]=d);for(;a<o;++a)l[a]=e[a];return new nn(l,this._parents,this._name,this._id)}function Sk(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Ik(t,e,n){var o,i,r=Sk(e)?Ol:Kt;return function(){var l=r(this,t),a=l.on;a!==o&&(i=(o=a).copy()).on(e,n),l.on=i}}function Mk(t,e){var n=this._id;return arguments.length<2?jt(this.node(),n).on.on(t):this.each(Ik(n,t,e))}function Ok(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Pk(){return this.on("end.remove",Ok(this._id))}function Nk(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Cl(t));for(var o=this._groups,i=o.length,r=new Array(i),l=0;l<i;++l)for(var a=o[l],s=a.length,u=r[l]=new Array(s),f,c,d=0;d<s;++d)(f=a[d])&&(c=t.call(f,f.__data__,d,a))&&("__data__"in f&&(c.__data__=f.__data__),u[d]=c,lr(u[d],e,n,d,u,jt(f,n)));return new nn(r,this._parents,e,n)}function Ek(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Mc(t));for(var o=this._groups,i=o.length,r=[],l=[],a=0;a<i;++a)for(var s=o[a],u=s.length,f,c=0;c<u;++c)if(f=s[c]){for(var d=t.call(f,f.__data__,c,s),m,h=jt(f,n),_=0,p=d.length;_<p;++_)(m=d[_])&&lr(m,e,n,_,d,h);r.push(d),l.push(f)}return new nn(r,l,e,n)}var $k=ei.prototype.constructor;function Rk(){return new $k(this._groups,this._parents)}function Lk(t,e){var n,o,i;return function(){var r=fo(this,t),l=(this.style.removeProperty(t),fo(this,t));return r===l?null:r===n&&l===o?i:i=e(n=r,o=l)}}function Jc(t){return function(){this.style.removeProperty(t)}}function Dk(t,e,n){var o,i=n+"",r;return function(){var l=fo(this,t);return l===i?null:l===o?r:r=e(o=l,n)}}function Fk(t,e,n){var o,i,r;return function(){var l=fo(this,t),a=n(this),s=a+"";return a==null&&(s=a=(this.style.removeProperty(t),fo(this,t))),l===s?null:l===o&&s===i?r:(i=s,r=e(o=l,a))}}function jk(t,e){var n,o,i,r="style."+e,l="end."+r,a;return function(){var s=Kt(this,t),u=s.on,f=s.value[r]==null?a||(a=Jc(e)):void 0;(u!==n||i!==f)&&(o=(n=u).copy()).on(l,i=f),s.on=o}}function qk(t,e,n){var o=(t+="")=="transform"?G2:Xc;return e==null?this.styleTween(t,Lk(t,o)).on("end.style."+t,Jc(t)):typeof e=="function"?this.styleTween(t,Fk(t,o,Pl(this,"style."+t,e))).each(jk(this._id,t)):this.styleTween(t,Dk(t,o,e),n).on("end.style."+t,null)}function Bk(t,e,n){return function(o){this.style.setProperty(t,e.call(this,o),n)}}function Hk(t,e,n){var o,i;function r(){var l=e.apply(this,arguments);return l!==i&&(o=(i=l)&&Bk(t,l,n)),o}return r._value=e,r}function Gk(t,e,n){var o="style."+(t+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(e==null)return this.tween(o,null);if(typeof e!="function")throw new Error;return this.tween(o,Hk(t,e,n??""))}function Wk(t){return function(){this.textContent=t}}function Vk(t){return function(){var e=t(this);this.textContent=e??""}}function xk(t){return this.tween("text",typeof t=="function"?Vk(Pl(this,"text",t)):Wk(t==null?"":t+""))}function Yk(t){return function(e){this.textContent=t.call(this,e)}}function Uk(t){var e,n;function o(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&Yk(i)),e}return o._value=t,o}function Kk(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Uk(t))}function Xk(){for(var t=this._name,e=this._id,n=Zc(),o=this._groups,i=o.length,r=0;r<i;++r)for(var l=o[r],a=l.length,s,u=0;u<a;++u)if(s=l[u]){var f=jt(s,e);lr(s,t,n,u,l,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new nn(o,this._parents,t,n)}function Jk(){var t,e,n=this,o=n._id,i=n.size();return new Promise(function(r,l){var a={value:l},s={value:function(){--i===0&&r()}};n.each(function(){var u=Kt(this,o),f=u.on;f!==t&&(e=(t=f).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(s)),u.on=e}),i===0&&r()})}var Zk=0;function nn(t,e,n,o){this._groups=t,this._parents=e,this._name=n,this._id=o}function Zc(){return++Zk}var Jt=ei.prototype;nn.prototype={constructor:nn,select:Nk,selectAll:Ek,selectChild:Jt.selectChild,selectChildren:Jt.selectChildren,filter:Tk,merge:Ak,selection:Rk,transition:Xk,call:Jt.call,nodes:Jt.nodes,node:Jt.node,size:Jt.size,empty:Jt.empty,each:Jt.each,on:Mk,attr:ak,attrTween:mk,style:qk,styleTween:Gk,text:xk,textTween:Kk,remove:Pk,tween:tk,delay:_k,duration:vk,ease:wk,easeVarying:Ck,end:Jk,[Symbol.iterator]:Jt[Symbol.iterator]};function Qk(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var zk={time:null,delay:0,duration:250,ease:Qk};function e5(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function t5(t){var e,n;t instanceof nn?(e=t._id,t=t._name):(e=Zc(),(n=zk).time=Ml(),t=t==null?null:t+"");for(var o=this._groups,i=o.length,r=0;r<i;++r)for(var l=o[r],a=l.length,s,u=0;u<a;++u)(s=l[u])&&lr(s,t,e,u,l,n||e5(s,e));return new nn(o,this._parents,t,e)}ei.prototype.interrupt=Q2;ei.prototype.transition=t5;const zr=Math.PI,el=2*zr,An=1e-6,n5=el-An;function Qc(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function o5(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Qc;const n=10**e;return function(o){this._+=o[0];for(let i=1,r=o.length;i<r;++i)this._+=Math.round(arguments[i]*n)/n+o[i]}}class i5{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Qc:o5(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,o,i){this._append`Q${+e},${+n},${this._x1=+o},${this._y1=+i}`}bezierCurveTo(e,n,o,i,r,l){this._append`C${+e},${+n},${+o},${+i},${this._x1=+r},${this._y1=+l}`}arcTo(e,n,o,i,r){if(e=+e,n=+n,o=+o,i=+i,r=+r,r<0)throw new Error(`negative radius: ${r}`);let l=this._x1,a=this._y1,s=o-e,u=i-n,f=l-e,c=a-n,d=f*f+c*c;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(d>An)if(!(Math.abs(c*s-u*f)>An)||!r)this._append`L${this._x1=e},${this._y1=n}`;else{let m=o-l,h=i-a,_=s*s+u*u,p=m*m+h*h,w=Math.sqrt(_),y=Math.sqrt(d),S=r*Math.tan((zr-Math.acos((_+d-p)/(2*w*y)))/2),R=S/y,q=S/w;Math.abs(R-1)>An&&this._append`L${e+R*f},${n+R*c}`,this._append`A${r},${r},0,0,${+(c*m>f*h)},${this._x1=e+q*s},${this._y1=n+q*u}`}}arc(e,n,o,i,r,l){if(e=+e,n=+n,o=+o,l=!!l,o<0)throw new Error(`negative radius: ${o}`);let a=o*Math.cos(i),s=o*Math.sin(i),u=e+a,f=n+s,c=1^l,d=l?i-r:r-i;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>An||Math.abs(this._y1-f)>An)&&this._append`L${u},${f}`,o&&(d<0&&(d=d%el+el),d>n5?this._append`A${o},${o},0,1,${c},${e-a},${n-s}A${o},${o},0,1,${c},${this._x1=u},${this._y1=f}`:d>An&&this._append`A${o},${o},0,${+(d>=zr)},${c},${this._x1=e+o*Math.cos(r)},${this._y1=n+o*Math.sin(r)}`)}rect(e,n,o,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${o=+o}v${+i}h${-o}Z`}toString(){return this._}}function r5(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function xi(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,o=t.slice(0,n);return[o.length>1?o[0]+o.slice(2):o,+t.slice(n+1)]}function mo(t){return t=xi(Math.abs(t)),t?t[1]:NaN}function l5(t,e){return function(n,o){for(var i=n.length,r=[],l=0,a=t[0],s=0;i>0&&a>0&&(s+a+1>o&&(a=Math.max(1,o-s)),r.push(n.substring(i-=a,i+a)),!((s+=a+1)>o));)a=t[l=(l+1)%t.length];return r.reverse().join(e)}}function s5(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var a5=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Yi(t){if(!(e=a5.exec(t)))throw new Error("invalid format: "+t);var e;return new Nl({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Yi.prototype=Nl.prototype;function Nl(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Nl.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function u5(t){e:for(var e=t.length,n=1,o=-1,i;n<e;++n)switch(t[n]){case".":o=i=n;break;case"0":o===0&&(o=n),i=n;break;default:if(!+t[n])break e;o>0&&(o=0);break}return o>0?t.slice(0,o)+t.slice(i+1):t}var zc;function f5(t,e){var n=xi(t,e);if(!n)return t+"";var o=n[0],i=n[1],r=i-(zc=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=o.length;return r===l?o:r>l?o+new Array(r-l+1).join("0"):r>0?o.slice(0,r)+"."+o.slice(r):"0."+new Array(1-r).join("0")+xi(t,Math.max(0,e+r-1))[0]}function Ha(t,e){var n=xi(t,e);if(!n)return t+"";var o=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+o:o.length>i+1?o.slice(0,i+1)+"."+o.slice(i+1):o+new Array(i-o.length+2).join("0")}const Ga={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:r5,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Ha(t*100,e),r:Ha,s:f5,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Wa(t){return t}var Va=Array.prototype.map,xa=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function c5(t){var e=t.grouping===void 0||t.thousands===void 0?Wa:l5(Va.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",o=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",r=t.numerals===void 0?Wa:s5(Va.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"−":t.minus+"",s=t.nan===void 0?"NaN":t.nan+"";function u(c){c=Yi(c);var d=c.fill,m=c.align,h=c.sign,_=c.symbol,p=c.zero,w=c.width,y=c.comma,S=c.precision,R=c.trim,q=c.type;q==="n"?(y=!0,q="g"):Ga[q]||(S===void 0&&(S=12),R=!0,q="g"),(p||d==="0"&&m==="=")&&(p=!0,d="0",m="=");var j=_==="$"?n:_==="#"&&/[boxX]/.test(q)?"0"+q.toLowerCase():"",$=_==="$"?o:/[%p]/.test(q)?l:"",L=Ga[q],I=/[defgprs%]/.test(q);S=S===void 0?6:/[gprs]/.test(q)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function N(A){var g=j,C=$,D,W,F;if(q==="c")C=L(A)+C,A="";else{A=+A;var V=A<0||1/A<0;if(A=isNaN(A)?s:L(Math.abs(A),S),R&&(A=u5(A)),V&&+A==0&&h!=="+"&&(V=!1),g=(V?h==="("?h:a:h==="-"||h==="("?"":h)+g,C=(q==="s"?xa[8+zc/3]:"")+C+(V&&h==="("?")":""),I){for(D=-1,W=A.length;++D<W;)if(F=A.charCodeAt(D),48>F||F>57){C=(F===46?i+A.slice(D+1):A.slice(D))+C,A=A.slice(0,D);break}}}y&&!p&&(A=e(A,1/0));var K=g.length+A.length+C.length,Z=K<w?new Array(w-K+1).join(d):"";switch(y&&p&&(A=e(Z+A,Z.length?w-C.length:1/0),Z=""),m){case"<":A=g+A+C+Z;break;case"=":A=g+Z+A+C;break;case"^":A=Z.slice(0,K=Z.length>>1)+g+A+C+Z.slice(K);break;default:A=Z+g+A+C;break}return r(A)}return N.toString=function(){return c+""},N}function f(c,d){var m=u((c=Yi(c),c.type="f",c)),h=Math.max(-8,Math.min(8,Math.floor(mo(d)/3)))*3,_=Math.pow(10,-h),p=xa[8+h/3];return function(w){return m(_*w)+p}}return{format:u,formatPrefix:f}}var di,ed,td;d5({thousands:",",grouping:[3],currency:["$",""]});function d5(t){return di=c5(t),ed=di.format,td=di.formatPrefix,di}function m5(t){return Math.max(0,-mo(Math.abs(t)))}function p5(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(mo(e)/3)))*3-mo(Math.abs(t)))}function h5(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,mo(e)-mo(t))+1}function _5(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function g5(t){return function(){return t}}function b5(t){return+t}var Ya=[0,1];function Kn(t){return t}function tl(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:g5(isNaN(e)?NaN:.5)}function v5(t,e){var n;return t>e&&(n=t,t=e,e=n),function(o){return Math.max(t,Math.min(e,o))}}function y5(t,e,n){var o=t[0],i=t[1],r=e[0],l=e[1];return i<o?(o=tl(i,o),r=n(l,r)):(o=tl(o,i),r=n(r,l)),function(a){return r(o(a))}}function w5(t,e,n){var o=Math.min(t.length,e.length)-1,i=new Array(o),r=new Array(o),l=-1;for(t[o]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<o;)i[l]=tl(t[l],t[l+1]),r[l]=n(e[l],e[l+1]);return function(a){var s=wy(t,a,1,o)-1;return r[s](i[s](a))}}function k5(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function C5(){var t=Ya,e=Ya,n=Il,o,i,r,l=Kn,a,s,u;function f(){var d=Math.min(t.length,e.length);return l!==Kn&&(l=v5(t[0],t[d-1])),a=d>2?w5:y5,s=u=null,c}function c(d){return d==null||isNaN(d=+d)?r:(s||(s=a(t.map(o),e,n)))(o(l(d)))}return c.invert=function(d){return l(i((u||(u=a(e,t.map(o),Lt)))(d)))},c.domain=function(d){return arguments.length?(t=Array.from(d,b5),f()):t.slice()},c.range=function(d){return arguments.length?(e=Array.from(d),f()):e.slice()},c.rangeRound=function(d){return e=Array.from(d),n=q2,f()},c.clamp=function(d){return arguments.length?(l=d?!0:Kn,f()):l!==Kn},c.interpolate=function(d){return arguments.length?(n=d,f()):n},c.unknown=function(d){return arguments.length?(r=d,c):r},function(d,m){return o=d,i=m,f()}}function T5(){return C5()(Kn,Kn)}function A5(t,e,n,o){var i=Sy(t,e,n),r;switch(o=Yi(o??",f"),o.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return o.precision==null&&!isNaN(r=p5(i,l))&&(o.precision=r),td(o,l)}case"":case"e":case"g":case"p":case"r":{o.precision==null&&!isNaN(r=h5(i,Math.max(Math.abs(t),Math.abs(e))))&&(o.precision=r-(o.type==="e"));break}case"f":case"%":{o.precision==null&&!isNaN(r=m5(i))&&(o.precision=r-(o.type==="%")*2);break}}return ed(o)}function S5(t){var e=t.domain;return t.ticks=function(n){var o=e();return Ay(o[0],o[o.length-1],n??10)},t.tickFormat=function(n,o){var i=e();return A5(i[0],i[i.length-1],n??10,o)},t.nice=function(n){n==null&&(n=10);var o=e(),i=0,r=o.length-1,l=o[i],a=o[r],s,u,f=10;for(a<l&&(u=l,l=a,a=u,u=i,i=r,r=u);f-- >0;){if(u=Vr(l,a,n),u===s)return o[i]=l,o[r]=a,e(o);if(u>0)l=Math.floor(l/u)*u,a=Math.ceil(a/u)*u;else if(u<0)l=Math.ceil(l*u)/u,a=Math.floor(a*u)/u;else break;s=u}return t},t}function nl(){var t=T5();return t.copy=function(){return k5(t,nl())},_5.apply(t,arguments),S5(t)}function xn(t){return function(){return t}}function I5(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const o=Math.floor(n);if(!(o>=0))throw new RangeError(`invalid digits: ${n}`);e=o}return t},()=>new i5(e)}function M5(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function nd(t){this._context=t}nd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function O5(t){return new nd(t)}function P5(t){return t[0]}function N5(t){return t[1]}function Ir(t,e){var n=xn(!0),o=null,i=O5,r=null,l=I5(a);t=typeof t=="function"?t:t===void 0?P5:xn(t),e=typeof e=="function"?e:e===void 0?N5:xn(e);function a(s){var u,f=(s=M5(s)).length,c,d=!1,m;for(o==null&&(r=i(m=l())),u=0;u<=f;++u)!(u<f&&n(c=s[u],u,s))===d&&((d=!d)?r.lineStart():r.lineEnd()),d&&r.point(+t(c,u,s),+e(c,u,s));if(m)return r=null,m+""||null}return a.x=function(s){return arguments.length?(t=typeof s=="function"?s:xn(+s),a):t},a.y=function(s){return arguments.length?(e=typeof s=="function"?s:xn(+s),a):e},a.defined=function(s){return arguments.length?(n=typeof s=="function"?s:xn(!!s),a):n},a.curve=function(s){return arguments.length?(i=s,o!=null&&(r=i(o)),a):i},a.context=function(s){return arguments.length?(s==null?o=r=null:r=i(o=s),a):o},a}function Do(t,e,n){this.k=t,this.x=e,this.y=n}Do.prototype={constructor:Do,scale:function(t){return t===1?this:new Do(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Do(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Do.prototype;function E5(t){let e;return{c(){e=Xi("svg"),E(e,"id","line-chart")},m(n,o){O(n,e,o)},p:ye,i:ye,o:ye,d(n){n&&M(e)}}}const Ua=52;function $5(t,e,n){let{data:o=[]}=e,i,r,l;const a={top:10,right:30,bottom:10,left:20},s=500-a.left-a.right,u=400-a.top-a.bottom;Ir().x((h,_)=>r(_)).y(h=>l(h)),Zo(()=>{n(1,i=_2("#line-chart").attr("width",s+a.left+a.right).attr("height",u+a.top+a.bottom)),r=nl().range([0,s]),l=nl().range([u,0]),o.length&&f()});function f(){const h=o.length>Ua?o.slice(-Ua):o;c(h),d(h),m()}function c(h){i.selectAll(".line").remove();const _=Ir().defined(w=>w>-5).x((w,y)=>r(y)).y(w=>l(w)),p=Ir().defined(w=>w<0).x((w,y)=>r(y)).y(w=>l(w));i.append("path").datum(h).attr("class","line positive").attr("d",_).attr("transform",`translate(${a.left},${a.top})`).attr("fill","none").attr("stroke","green").attr("stroke-width",2),i.append("path").datum(h).attr("class","line negative").attr("d",p).attr("transform",`translate(${a.left},${a.top})`).attr("fill","none").attr("stroke","red").attr("stroke-width",2)}function d(h){const _=Math.max(0,...h),p=Math.min(0,...h);r.domain([0,h.length-1]),l.domain([p,_]).nice()}function m(h){const _=$y(r).ticks(0),p=Ry(l).ticks(10);i.selectAll(".axis").remove(),i.append("g").attr("class","axis x-axis").attr("transform",`translate(${a.left},${u+a.top})`).call(_),i.append("g").attr("class","axis y-axis").attr("transform",`translate(${a.left},${a.top})`).call(p)}return t.$$set=h=>{"data"in h&&n(0,o=h.data)},t.$$.update=()=>{t.$$.dirty&3&&o&&i&&f()},[o,i]}class R5 extends pe{constructor(e){super(),me(this,e,$5,E5,ce,{data:0})}}function L5(t){let e,n=t[1].townInfo.knowledge_points+"",o,i;return{c(){e=G("Manage your Knowledge ("),o=G(n),i=G(" pts)")},m(r,l){O(r,e,l),O(r,o,l),O(r,i,l)},p(r,l){l&2&&n!==(n=r[1].townInfo.knowledge_points+"")&&se(o,n)},d(r){r&&(M(e),M(o),M(i))}}}function D5(t){let e,n,o,i;return e=new ln({props:{$$slots:{default:[L5]},$$scope:{ctx:t}}}),o=new Hn({}),{c(){U(e.$$.fragment),n=B(),U(o.$$.fragment)},m(r,l){x(e,r,l),O(r,n,l),x(o,r,l),i=!0},p(r,l){const a={};l&130&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){T(e.$$.fragment,r),T(o.$$.fragment,r),i=!1},d(r){r&&M(n),Y(e,r),Y(o,r)}}}function Ka(t){let e,n,o=Qa(t[1].townInfo.knowledge_points*t[3])+"",i,r;return{c(){e=P("br"),n=G(`
          (total value: $`),i=G(o),r=G(")")},m(l,a){O(l,e,a),O(l,n,a),O(l,i,a),O(l,r,a)},p(l,a){a&10&&o!==(o=Qa(l[1].townInfo.knowledge_points*l[3])+"")&&se(i,o)},d(l){l&&(M(e),M(n),M(i),M(r))}}}function Xa(t){let e;return{c(){e=P("div"),e.innerHTML=`Wait until the market value is <span class="text-green-500">positive</span> to sell your Knowledge for Gold. Keep in mind that you need a bank to
          convert.`},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function Ja(t){let e,n,o;return n=new It({props:{variant:"default",$$slots:{default:[F5]},$$scope:{ctx:t}}}),n.$on("click",t[0]),{c(){e=P("div"),U(n.$$.fragment)},m(i,r){O(i,e,r),x(n,e,null),o=!0},p(i,r){const l={};r&128&&(l.$$scope={dirty:r,ctx:i}),n.$set(l)},i(i){o||(k(n.$$.fragment,i),o=!0)},o(i){T(n.$$.fragment,i),o=!1},d(i){i&&M(e),Y(n)}}}function F5(t){let e;return{c(){e=G("Convert Knowledge to Gold")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function Za(t){let e;return{c(){e=P("div"),e.textContent="You need a bank to convert knowledge to gold."},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function j5(t){let e,n,o,i,r,l,a,s,u=(t[3]??0)+"",f,c,d,m,h,_,p,w,y,S,R,q;e=new sn({props:{$$slots:{default:[D5]},$$scope:{ctx:t}}});let j=t[3]>0&&Ka(t);_=new R5({props:{data:t[2]}});let $=t[3]<0&&Xa(),L=t[1].hasBank&&t[3]>0&&Ja(t),I=t[1].hasBank===!1&&Za();return R=new Cn({}),{c(){U(e.$$.fragment),n=B(),o=P("span"),o.textContent="Knowledge is power, unlock it!",i=B(),r=P("div"),l=P("div"),a=G("Market Rate: "),s=P("span"),f=G(u),c=G(" gold"),m=G(`
        per Knowledge Point
        `),j&&j.c(),h=B(),U(_.$$.fragment),p=B(),$&&$.c(),w=B(),L&&L.c(),y=B(),I&&I.c(),S=B(),U(R.$$.fragment),E(o,"class",""),E(s,"class",d=t[3]<0?"text-red-500":"text-green-500"),E(r,"class","py-0 flex flex-col gap-4 text-gray-400 overflow-x-auto")},m(N,A){x(e,N,A),O(N,n,A),O(N,o,A),O(N,i,A),O(N,r,A),v(r,l),v(l,a),v(l,s),v(s,f),v(s,c),v(l,m),j&&j.m(l,null),v(r,h),x(_,r,null),v(r,p),$&&$.m(r,null),v(r,w),L&&L.m(r,null),v(r,y),I&&I.m(r,null),O(N,S,A),x(R,N,A),q=!0},p(N,A){const g={};A&130&&(g.$$scope={dirty:A,ctx:N}),e.$set(g),(!q||A&8)&&u!==(u=(N[3]??0)+"")&&se(f,u),(!q||A&8&&d!==(d=N[3]<0?"text-red-500":"text-green-500"))&&E(s,"class",d),N[3]>0?j?j.p(N,A):(j=Ka(N),j.c(),j.m(l,null)):j&&(j.d(1),j=null);const C={};A&4&&(C.data=N[2]),_.$set(C),N[3]<0?$||($=Xa(),$.c(),$.m(r,w)):$&&($.d(1),$=null),N[1].hasBank&&N[3]>0?L?(L.p(N,A),A&10&&k(L,1)):(L=Ja(N),L.c(),k(L,1),L.m(r,y)):L&&(Me(),T(L,1,1,()=>{L=null}),Oe()),N[1].hasBank===!1?I||(I=Za(),I.c(),I.m(r,null)):I&&(I.d(1),I=null)},i(N){q||(k(e.$$.fragment,N),k(_.$$.fragment,N),k(L),k(R.$$.fragment,N),q=!0)},o(N){T(e.$$.fragment,N),T(_.$$.fragment,N),T(L),T(R.$$.fragment,N),q=!1},d(N){N&&(M(n),M(o),M(i),M(r),M(S)),Y(e,N),j&&j.d(),Y(_),$&&$.d(),L&&L.d(),I&&I.d(),Y(R,N)}}}function q5(t){let e,n;return e=new an({props:{transitionConfig:{duration:0},class:"bg-foreground text-accentText",$$slots:{default:[j5]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(o,i){x(e,o,i),n=!0},p(o,i){const r={};i&142&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function B5(t){let e,n,o;function i(l){t[5](l)}let r={$$slots:{default:[q5]},$$scope:{ctx:t}};return t[4]!==void 0&&(r.open=t[4]),e=new un({props:r}),Ee.push(()=>Ut(e,"open",i)),{c(){U(e.$$.fragment)},m(l,a){x(e,l,a),o=!0},p(l,[a]){const s={};a&142&&(s.$$scope={dirty:a,ctx:l}),!n&&a&16&&(n=!0,s.open=l[4],Vt(()=>n=!1)),e.$set(s)},i(l){o||(k(e.$$.fragment,l),o=!0)},o(l){T(e.$$.fragment,l),o=!1},d(l){Y(e,l)}}}function Qa(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function H5(t,e,n){let o,i;le(t,$e,u=>n(1,o=u)),le(t,ro,u=>n(4,i=u));let r,l=0;function a(){let u=o;o.hasBank===!0?(u.townInfo.gold+=Math.round(u.townInfo.knowledge_points*l),u.townInfo.knowledge_points=0,$e.set(u),localStorage.setItem(At,JSON.stringify(u))):Ct.set("You need a bank to convert knowledge to gold.")}function s(u){i=u,ro.set(i)}return t.$$.update=()=>{t.$$.dirty&2&&o&&(n(2,r=o.economyAndLaws.knowledge_gold_market_rates),n(3,l=o.economyAndLaws.knowledge_gold_market_rates[o.economyAndLaws.knowledge_gold_market_rates.length-1]))},[a,o,r,l,i,s]}class G5 extends pe{constructor(e){super(),me(this,e,H5,B5,ce,{convertKnowledgeToGold:0})}get convertKnowledgeToGold(){return this.$$.ctx[0]}}const W5=[{id:"sunshine",title:"Hint of Sunshine",description:`Scientist Jane T. found that more sunlight makes everyone a bit happier.
          Now, every home is equipped with a pair of sunglasses and a sunhat. Enjoy happier citizens!,
          `,cost:5e3,duration:180,effect:t=>(t.townInfo.happiness+=100,t)},{id:"antibiotics",title:"We will call them 'Antibiotics'",description:`Scientist Alfred C. has pitched us an idea that he calls 'Antibiotics'.
           We don't really know what that means, but it seems to make people healthier.
          `,cost:8e3,duration:200,effect:t=>(t.townInfo.health+=180,t.townInfo.happiness+=25,t)},{id:"funny_cows",title:"Cowabunga!",description:`Scientist Barry T. thought that showing cows some stand-up comedy would make them produce better milk, but it didn't have the desired effect.
          The cows are now following Mike Birbiglia on Twitter, but the milk production has not increased.
          `,cost:3e3,duration:60,effect:t=>t},{id:"missing_treasure",title:"Missing Treasure?",description:`Scientist Sarah H. was running an experiment on tree growth and found a stash of gold near the lab.
          She hopes nobody will miss it. Your town now has some more money.
          `,cost:15e3,duration:180,effect:t=>(t.townInfo.gold+=Math.floor(Math.random()*35e3),t)},{id:"tax_relief",title:"'Maybe the government is not so bad after all'",description:`Scientist Sam P. conducted a study and found that if you put a tiny bit of CHEMICAL X in the water supply, people are more likely to be ok with tax hikes.
          We don't question it, as these experiments cost a lot of moo-lah.`,cost:7500,duration:360,effect:t=>(t.economyAndLaws.max_tax_rate=(Math.random()*.8+1.2)*t.economyAndLaws.max_tax_rate,t)},{id:"spring_break",title:"Spring Break",description:`The Scientists took our money and spent the week at the beach.
          We are not sure what they did, but they came back with a tan and a smile.`,cost:2e3,duration:7,effect:t=>t},{id:"tornado",title:"A Gust of Grain",description:`Scientist Clint C. is sulking after a botched weather experiment caused about half of the food supply to be sucked into a tornado.
  		The only positive seems to be that the town now knows what a tornado is, and that makes us a bit smarter as a whole.`,cost:7e3,duration:150,effect:t=>(t.townInfo.knowledge_points+=3e3,t.resources.food=Math.floor(t.resources.food/2),t)},{id:"aquatic_overachievers",title:"Fishy Business",description:`An attempt to genetically enhance fish intelligence by Scientist Goldie F. in fisheries has gone awry, resulting in fish that are too smart to be caught. The fisheries are now underpopulated and shut down, but the town enjoys an unexpected tourism boom as people flock to see the genius fish who are now hanging out in local parks.
          Who knew fish could be such a draw?`,cost:6e3,duration:90,effect:t=>(t.townInfo.gold+=1e4,za("fishery",t),t)},{id:"educational_eclipse",title:"A Sudden Drop in IQ",description:`Scientist Albert E. wanted to see if the towns' children would become smarter if THEY ran the schools.
          This was obviously a terrible idea and the first thing the kids did was shut down the schools.`,cost:1e3,duration:45,effect:t=>(za("schoolhouse",t),t)},{id:"education_grant",title:"Education Grant",description:`Scientist Marie C. took this experiments funding and applied the town for a grant to improve education.
          The town wins a grant for $150,000 to build schools and improve education. (but it's up to you if that's how you want to spend the money)`,cost:25e3,duration:45,effect:t=>(t.townInfo.gold+=15e4,t)},{id:"mindfulness_meditation_classes",title:"'Mindfulness Meditation Classes'",description:`Scientist Zen M. has introduced mindfulness meditation classes to the town after realizing that breathing in certain ways can lower stress.
  		Now, the town is a bit more relaxed, for now.`,cost:13e3,duration:540,effect:t=>(t.townInfo.happiness+=75,t)}];function za(t,e){let n=Be(t,e);for(let o=0;o<n.length;o++)oo(n[o].x,n[o].y,e)}function eu(t,e,n){const o=t.slice();return o[15]=e[n],o}function V5(t){let e,n=t[1].lab.active_experiment.title+"",o;return{c(){e=G("🎉 Experiment Completed: "),o=G(n)},m(i,r){O(i,e,r),O(i,o,r)},p(i,r){r&2&&n!==(n=i[1].lab.active_experiment.title+"")&&se(o,n)},d(i){i&&(M(e),M(o))}}}function x5(t){let e,n=t[1].lab.active_experiment.description+"",o;return{c(){e=P("div"),o=G(n),E(e,"class","select-none whitespace-pre-wrap text-lg text-gray-400 leading-6 px-4 py-4 text-center ")},m(i,r){O(i,e,r),v(e,o)},p(i,r){r&2&&n!==(n=i[1].lab.active_experiment.description+"")&&se(o,n)},d(i){i&&M(e)}}}function Y5(t){let e,n,o,i;return e=new hc({props:{class:"text-center",$$slots:{default:[V5]},$$scope:{ctx:t}}}),o=new Cc({props:{$$slots:{default:[x5]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),n=B(),U(o.$$.fragment)},m(r,l){x(e,r,l),O(r,n,l),x(o,r,l),i=!0},p(r,l){const a={};l&262146&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&262146&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){T(e.$$.fragment,r),T(o.$$.fragment,r),i=!1},d(r){r&&M(n),Y(e,r),Y(o,r)}}}function U5(t){let e;return{c(){e=G("Thank the scientists")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function K5(t){let e,n;return e=new wc({props:{$$slots:{default:[U5]},$$scope:{ctx:t}}}),e.$on("click",t[9]),{c(){U(e.$$.fragment)},m(o,i){x(e,o,i),n=!0},p(o,i){const r={};i&262144&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function X5(t){let e,n,o,i;return e=new kc({props:{$$slots:{default:[Y5]},$$scope:{ctx:t}}}),o=new yl({props:{$$slots:{default:[K5]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),n=B(),U(o.$$.fragment)},m(r,l){x(e,r,l),O(r,n,l),x(o,r,l),i=!0},p(r,l){const a={};l&262146&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&262144&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){T(e.$$.fragment,r),T(o.$$.fragment,r),i=!1},d(r){r&&M(n),Y(e,r),Y(o,r)}}}function J5(t){let e,n;return e=new wl({props:{$$slots:{default:[X5]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(o,i){x(e,o,i),n=!0},p(o,i){const r={};i&262146&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function Z5(t){let e;return{c(){e=P("span"),e.textContent="Manage your Laboratory 🔬 🧪"},m(n,o){O(n,e,o)},p:ye,d(n){n&&M(e)}}}function Q5(t){let e,n,o,i=t[1].lab.xp+"",r,l,a,s;return{c(){e=P("span"),n=G("You have earned "),o=P("span"),r=G(i),l=G(" XP"),s=G(` from experiments. XP can be used to buy advanced plots and develop your
          city.`),E(o,"class",a=t[1].lab.xp<0?"text-textDanger":"text-primaryText")},m(u,f){O(u,e,f),v(e,n),v(e,o),v(o,r),v(o,l),v(e,s)},p(u,f){f&2&&i!==(i=u[1].lab.xp+"")&&se(r,i),f&2&&a!==(a=u[1].lab.xp<0?"text-textDanger":"text-primaryText")&&E(o,"class",a)},d(u){u&&M(e)}}}function z5(t){let e,n,o,i;return e=new ln({props:{$$slots:{default:[Z5]},$$scope:{ctx:t}}}),o=new Hn({props:{$$slots:{default:[Q5]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),n=B(),U(o.$$.fragment)},m(r,l){x(e,r,l),O(r,n,l),x(o,r,l),i=!0},p(r,l){const a={};l&262144&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&262146&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){T(e.$$.fragment,r),T(o.$$.fragment,r),i=!1},d(r){r&&M(n),Y(e,r),Y(o,r)}}}function e3(t){let e;return{c(){e=G("No more experiments available")},m(n,o){O(n,e,o)},p:ye,i:ye,o:ye,d(n){n&&M(e)}}}function t3(t){let e,n,o,i,r=Ue(t[0]),l=[];for(let s=0;s<r.length;s+=1)l[s]=nu(eu(t,r,s));const a=s=>T(l[s],1,1,()=>{l[s]=null});return{c(){e=P("div"),e.textContent=`It's time to fund your next experiment! Choose a project below based on
        it's funding requirement. Once the experiment is over, you will see the
        results.`,n=B(),o=P("div");for(let s=0;s<l.length;s+=1)l[s].c();E(e,"class","select-none text-sm "),E(o,"class","text-center flex flex-col justify-center items-center gap-4 ")},m(s,u){O(s,e,u),O(s,n,u),O(s,o,u);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(o,null);i=!0},p(s,u){if(u&19){r=Ue(s[0]);let f;for(f=0;f<r.length;f+=1){const c=eu(s,r,f);l[f]?(l[f].p(c,u),k(l[f],1)):(l[f]=nu(c),l[f].c(),k(l[f],1),l[f].m(o,null))}for(Me(),f=r.length;f<l.length;f+=1)a(f);Oe()}},i(s){if(!i){for(let u=0;u<r.length;u+=1)k(l[u]);i=!0}},o(s){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)T(l[u]);i=!1},d(s){s&&(M(e),M(n),M(o)),ut(l,s)}}}function n3(t){let e,n=t[1].lab.active_experiment.duration+"",o,i,r,l,a=t[1].lab.active_experiment.duration===0&&ou(t);return{c(){e=G("Currently running an experiment... check back in "),o=G(n),i=G(` days.
      `),a&&a.c(),r=Le()},m(s,u){O(s,e,u),O(s,o,u),O(s,i,u),a&&a.m(s,u),O(s,r,u),l=!0},p(s,u){(!l||u&2)&&n!==(n=s[1].lab.active_experiment.duration+"")&&se(o,n),s[1].lab.active_experiment.duration===0?a?(a.p(s,u),u&2&&k(a,1)):(a=ou(s),a.c(),k(a,1),a.m(r.parentNode,r)):a&&(Me(),T(a,1,1,()=>{a=null}),Oe())},i(s){l||(k(a),l=!0)},o(s){T(a),l=!1},d(s){s&&(M(e),M(o),M(i),M(r)),a&&a.d(s)}}}function tu(t){let e,n,o=t[15].id+"",i;return{c(){e=P("span"),n=G("// dev-"),i=G(o),E(e,"class","text-xs text-gray-400")},m(r,l){O(r,e,l),v(e,n),v(e,i)},p(r,l){l&1&&o!==(o=r[15].id+"")&&se(i,o)},d(r){r&&M(e)}}}function o3(t){let e,n=iu(t[15].cost).split(".")[0]+"",o,i,r,l=t[1].devMode===!0&&tu(t);return{c(){e=G("$"),o=G(n),i=G(` gold

            `),l&&l.c(),r=B()},m(a,s){O(a,e,s),O(a,o,s),O(a,i,s),l&&l.m(a,s),O(a,r,s)},p(a,s){s&1&&n!==(n=iu(a[15].cost).split(".")[0]+"")&&se(o,n),a[1].devMode===!0?l?l.p(a,s):(l=tu(a),l.c(),l.m(r.parentNode,r)):l&&(l.d(1),l=null)},d(a){a&&(M(e),M(o),M(i),M(r)),l&&l.d(a)}}}function nu(t){let e,n;function o(){return t[11](t[15])}return e=new It({props:{variant:"outline",class:`min-w-48 w-max flex-col
				`+(t[15].cost>t[1].townInfo.gold?"cursor-not-allowed":"")+`
				`,$$slots:{default:[o3]},$$scope:{ctx:t}}}),e.$on("click",o),{c(){U(e.$$.fragment)},m(i,r){x(e,i,r),n=!0},p(i,r){t=i;const l={};r&3&&(l.class=`min-w-48 w-max flex-col
				`+(t[15].cost>t[1].townInfo.gold?"cursor-not-allowed":"")+`
				`),r&262147&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(i){n||(k(e.$$.fragment,i),n=!0)},o(i){T(e.$$.fragment,i),n=!1},d(i){Y(e,i)}}}function ou(t){let e,n;return e=new It({props:{variant:"outline",$$slots:{default:[i3]},$$scope:{ctx:t}}}),e.$on("click",t[10]),{c(){U(e.$$.fragment)},m(o,i){x(e,o,i),n=!0},p(o,i){const r={};i&262144&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function i3(t){let e;return{c(){e=G("Complete experiment (and face the impact)")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function r3(t){let e;return{c(){e=P("span"),e.textContent="Keep in mind that not all experiments yield positive results.",E(e,"class","text-left text-textDanger")},m(n,o){O(n,e,o)},p:ye,d(n){n&&M(e)}}}function l3(t){let e,n,o,i,r,l,a,s,u,f,c;e=new sn({props:{$$slots:{default:[z5]},$$scope:{ctx:t}}}),o=new St({});const d=[n3,t3,e3],m=[];function h(_,p){return _[1].lab.active_experiment!==null?0:_[0].length>0?1:_[0].length===0?2:-1}return~(r=h(t))&&(l=m[r]=d[r](t)),s=new St({props:{class:"mt-4"}}),f=new Cn({props:{$$slots:{default:[r3]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),n=B(),U(o.$$.fragment),i=B(),l&&l.c(),a=B(),U(s.$$.fragment),u=B(),U(f.$$.fragment)},m(_,p){x(e,_,p),O(_,n,p),x(o,_,p),O(_,i,p),~r&&m[r].m(_,p),O(_,a,p),x(s,_,p),O(_,u,p),x(f,_,p),c=!0},p(_,p){const w={};p&262146&&(w.$$scope={dirty:p,ctx:_}),e.$set(w);let y=r;r=h(_),r===y?~r&&m[r].p(_,p):(l&&(Me(),T(m[y],1,1,()=>{m[y]=null}),Oe()),~r?(l=m[r],l?l.p(_,p):(l=m[r]=d[r](_),l.c()),k(l,1),l.m(a.parentNode,a)):l=null);const S={};p&262144&&(S.$$scope={dirty:p,ctx:_}),f.$set(S)},i(_){c||(k(e.$$.fragment,_),k(o.$$.fragment,_),k(l),k(s.$$.fragment,_),k(f.$$.fragment,_),c=!0)},o(_){T(e.$$.fragment,_),T(o.$$.fragment,_),T(l),T(s.$$.fragment,_),T(f.$$.fragment,_),c=!1},d(_){_&&(M(n),M(i),M(a),M(u)),Y(e,_),Y(o,_),~r&&m[r].d(_),Y(s,_),Y(f,_)}}}function s3(t){let e,n;return e=new an({props:{class:"bg-foreground text-accentText",$$slots:{default:[l3]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(o,i){x(e,o,i),n=!0},p(o,i){const r={};i&262147&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function a3(t){let e,n,o,i,r;e=new kl({props:{open:t[2],$$slots:{default:[J5]},$$scope:{ctx:t}}});function l(s){t[12](s)}let a={$$slots:{default:[s3]},$$scope:{ctx:t}};return t[3]!==void 0&&(a.open=t[3]),o=new un({props:a}),Ee.push(()=>Ut(o,"open",l)),{c(){U(e.$$.fragment),n=B(),U(o.$$.fragment)},m(s,u){x(e,s,u),O(s,n,u),x(o,s,u),r=!0},p(s,[u]){const f={};u&4&&(f.open=s[2]),u&262146&&(f.$$scope={dirty:u,ctx:s}),e.$set(f);const c={};u&262147&&(c.$$scope={dirty:u,ctx:s}),!i&&u&8&&(i=!0,c.open=s[3],Vt(()=>i=!1)),o.$set(c)},i(s){r||(k(e.$$.fragment,s),k(o.$$.fragment,s),r=!0)},o(s){T(e.$$.fragment,s),T(o.$$.fragment,s),r=!1},d(s){s&&M(n),Y(e,s),Y(o,s)}}}function iu(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function u3(t,e,n){let o,i;le(t,$e,y=>n(1,o=y)),le(t,Zn,y=>n(3,i=y));var r;let l=[],a=!1,s=!1,u=!1;function f(){if(l.length>0||!a)return l;let y=[],S=W5.filter(R=>!o.lab.past_experiments.some(q=>q.id===R.id));if(S.length===0)return[];for(let R=0;R<3;R++){let q=S[Math.floor(Math.random()*S.length)];q.cost=Math.floor(Math.random()*(q.cost*.35)+q.cost*.8),y.push(q)}return y=y.filter((R,q)=>y.indexOf(R)===q),y=y.filter(R=>R),n(8,u=!0),y}function c(y){if(o.townInfo.gold<y.cost){Ct.set("You do not have enough gold to purchase this experiment.");return}Se($e,o.townInfo.gold-=y.cost,o),Se($e,o.lab.active_experiment=y,o),o.lab.past_experiments.push(y)}function d(){Se(Zn,i=!1,i),n(2,s=!0);let y=l.find(R=>R.id===o.lab.active_experiment.id),S=y!=null?y.effect(o):o;Se($e,o=S,o),Se($e,o.lab.active_experiment.duration=-1,o)}function m(){let y=o;y.lab.xp+=Math.round(y.lab.active_experiment.cost*(Math.random()*2+.5)),y.lab.active_experiment=null,n(2,s=!1),Se($e,o=y,o)}const h=()=>{m()},_=()=>{d()},p=y=>{y.cost<o.townInfo.gold&&c(y)};function w(y){i=y,Zn.set(i)}return t.$$.update=()=>{t.$$.dirty&387&&(o?(a=!0,n(0,l=u==!1?f():l),(n(7,r=o.lab.active_experiment)===null||r===void 0?void 0:r.duration)===-1&&n(2,s=!0)):a=!1)},[l,o,s,i,c,d,m,r,u,h,_,p,w]}class f3 extends pe{constructor(e){super(),me(this,e,u3,a3,ce,{})}}function c3(t){let e,n,o,i,r,l,a,s,u,f=t[0].townInfo.name+"",c,d,m,h,_,p,w,y=t[0].townInfo.population_count+"",S,R,q,j,$,L,I,N=Math.floor(t[0].environment.day/365)+1+"",A,g,C=t[0].environment.day+"",D,W,F,V,K,Z,te,z=t[0].environment.day%365+1+"",ne,ke,we,oe=t[1]==0?"Normal":t[1]==1?"Fast":"Superfast",Fe,b,Q,X,ue,Te;return n=new en({props:{text:"Pause game",onOpen:t[6],styling:"fixed top-2 right-2"}}),{c(){e=P("div"),U(n.$$.fragment),o=B(),i=P("div"),r=P("div"),l=P("div"),a=P("div"),s=P("div"),u=P("h1"),c=G(f),d=B(),m=P("div"),h=P("div"),_=P("div"),p=P("span"),w=G("👥 "),S=G(y),R=B(),q=P("div"),j=P("span"),$=P("span"),$.textContent="Year",L=B(),I=P("span"),A=G(N),g=G(" ("),D=G(C),W=G(")"),F=B(),V=P("span"),K=P("span"),K.textContent="Day",Z=B(),te=P("span"),ne=G(z),ke=B(),we=P("span"),Fe=G(oe),b=G(" Speed"),E(u,"class","cursor-pointer w-full text-center select-none"),E(s,"class","cursor-pointer flex flex-row justify-center text-center w-full"),E(a,"class","text-4xl flex flex-row items-center"),E(p,"class","text-xs px-4 min-w-24"),E($,"class","text-xs"),E(I,"class","font-semibold text-xs"),E(j,"class","flex flex-col"),E(K,"class","text-xs"),E(te,"class","font-semibold text-xs"),E(V,"class","flex flex-col"),E(q,"class","rounded-xl flex-row text-accentText gap-4 w-20 flex items-center max-w-24"),E(we,"class","cursor text-blue-200 text-nowrap noselect text-end w-36"),_t(we,"text-blue-200",t[1]==0),_t(we,"text-yellow-200",t[1]==1),_t(we,"text-red-200",t[1]==2),E(_,"class","flex align-middle items-center text-accentText flex-row w-full justify-center gap-2 h-max"),E(h,"class","flex flex-col align-middle justify-center"),E(l,"class","flex flex-col gap-2 justify-center w-full "),E(r,"class","rounded-xl"),E(i,"class","flex justify-between flex-col align-middle items-center w-full"),E(e,"id","header"),E(e,"class",Q="flex px-6 gap-6 justify-center flex-row fixed top-0 left-0 right-0 cursor-default z-10 bg-black text-[white] py-3 align-middle border-b-4 border-sidebarBackground "+(t[2].visible?"opacity-70":""))},m(de,Pe){O(de,e,Pe),x(n,e,null),v(e,o),v(e,i),v(i,r),v(r,l),v(l,a),v(a,s),v(s,u),v(u,c),v(l,d),v(l,m),v(m,h),v(h,_),v(_,p),v(p,w),v(p,S),v(_,R),v(_,q),v(q,j),v(j,$),v(j,L),v(j,I),v(I,A),v(I,g),v(I,D),v(I,W),v(q,F),v(q,V),v(V,K),v(V,Z),v(V,te),v(te,ne),v(_,ke),v(_,we),v(we,Fe),v(we,b),X=!0,ue||(Te=[ee(s,"click",t[4]),ee(we,"click",t[7])],ue=!0)},p(de,[Pe]){const qe={};Pe&8&&(qe.onOpen=de[6]),n.$set(qe),(!X||Pe&1)&&f!==(f=de[0].townInfo.name+"")&&se(c,f),(!X||Pe&1)&&y!==(y=de[0].townInfo.population_count+"")&&se(S,y),(!X||Pe&1)&&N!==(N=Math.floor(de[0].environment.day/365)+1+"")&&se(A,N),(!X||Pe&1)&&C!==(C=de[0].environment.day+"")&&se(D,C),(!X||Pe&1)&&z!==(z=de[0].environment.day%365+1+"")&&se(ne,z),(!X||Pe&2)&&oe!==(oe=de[1]==0?"Normal":de[1]==1?"Fast":"Superfast")&&se(Fe,oe),(!X||Pe&2)&&_t(we,"text-blue-200",de[1]==0),(!X||Pe&2)&&_t(we,"text-yellow-200",de[1]==1),(!X||Pe&2)&&_t(we,"text-red-200",de[1]==2),(!X||Pe&4&&Q!==(Q="flex px-6 gap-6 justify-center flex-row fixed top-0 left-0 right-0 cursor-default z-10 bg-black text-[white] py-3 align-middle border-b-4 border-sidebarBackground "+(de[2].visible?"opacity-70":"")))&&E(e,"class",Q)},i(de){X||(k(n.$$.fragment,de),X=!0)},o(de){T(n.$$.fragment,de),X=!1},d(de){de&&M(e),Y(n),ue=!1,xe(Te)}}}function d3(t,e,n){let o,i,r,l;le(t,$e,m=>n(0,o=m)),le(t,No,m=>n(9,i=m)),le(t,Qe,m=>n(2,r=m)),le(t,Et,m=>n(3,l=m));const a=o.gameSettings.includes("casual")?[375,200,100]:[550,375,100];let s=0;Zo(()=>{o.gameSettings.includes("casual")?Se(No,i=375,i):Se(No,i=550,i);const m=setInterval(()=>{Se($e,o.timeSpent+=1e3,o)},1e3);return()=>{clearInterval(m)}});function u(){let m=prompt("Enter a new name for your town (under 200 chars)");if(m&&m.length<200&&m.length>=1){let h=o;h.townInfo.name=m,$e.set(h),localStorage.setItem(At,JSON.stringify(h))}}function f(){s==a.length-1?n(1,s=0):n(1,s++,s),Se(No,i=a[s],i)}const c=()=>Se(Et,l=!0,l),d=()=>{f()};return t.$$.update=()=>{t.$$.dirty&1&&o.timeSpent>0&&gm(o.timeSpent)},[o,s,r,l,u,f,c,d]}class m3 extends pe{constructor(e){super(),me(this,e,d3,c3,ce,{})}}function p3(t){let e,n,o;return{c(){e=P("div"),E(e,"class",n="h-full w-full flex-1 "+t[3]+" transition-all"),E(e,"style",o=`transform: translateX(-${100-100*(t[2]??0)/(t[1]??1)}%)`)},m(i,r){O(i,e,r)},p(i,r){r&8&&n!==(n="h-full w-full flex-1 "+i[3]+" transition-all")&&E(e,"class",n),r&6&&o!==(o=`transform: translateX(-${100-100*(i[2]??0)/(i[1]??1)}%)`)&&E(e,"style",o)},d(i){i&&M(e)}}}function h3(t){let e,n;const o=[{class:Ge("relative h-4 w-full overflow-hidden  bg-black border border-gray-300",t[0])},t[4]];let i={$$slots:{default:[p3]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=J(i,o[r]);return e=new Pg({props:i}),{c(){U(e.$$.fragment)},m(r,l){x(e,r,l),n=!0},p(r,[l]){const a=l&17?Ce(o,[l&1&&{class:Ge("relative h-4 w-full overflow-hidden  bg-black border border-gray-300",r[0])},l&16&&st(r[4])]):{};l&46&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){Y(e,r)}}}function _3(t,e,n){const o=["class","max","value","color"];let i=ae(e,o),{class:r=void 0}=e,{max:l=100}=e,{value:a=void 0}=e,{color:s="bg-accent"}=e;return t.$$set=u=>{e=J(J({},e),je(u)),n(4,i=ae(e,o)),"class"in u&&n(0,r=u.class),"max"in u&&n(1,l=u.max),"value"in u&&n(2,a=u.value),"color"in u&&n(3,s=u.color)},[r,l,a,s,i]}class g3 extends pe{constructor(e){super(),me(this,e,_3,h3,ce,{class:0,max:1,value:2,color:3})}}function ru(t,e,n){const o=t.slice();return o[19]=e[n],o}function lu(t){let e,n=Ue({length:t[6]}),o=[];for(let i=0;i<n.length;i+=1)o[i]=su(ru(t,n,i));return{c(){e=P("div");for(let i=0;i<o.length;i+=1)o[i].c();E(e,"class","confetti-holder svelte-15ksp55"),_t(e,"rounded",t[9]),_t(e,"cone",t[10]),_t(e,"no-gravity",t[11]),_t(e,"reduced-motion",t[13])},m(i,r){O(i,e,r);for(let l=0;l<o.length;l+=1)o[l]&&o[l].m(e,null)},p(i,r){if(r&37375){n=Ue({length:i[6]});let l;for(l=0;l<n.length;l+=1){const a=ru(i,n,l);o[l]?o[l].p(a,r):(o[l]=su(a),o[l].c(),o[l].m(e,null))}for(;l<o.length;l+=1)o[l].d(1);o.length=n.length}r&512&&_t(e,"rounded",i[9]),r&1024&&_t(e,"cone",i[10]),r&2048&&_t(e,"no-gravity",i[11]),r&8192&&_t(e,"reduced-motion",i[13])},d(i){i&&M(e),ut(o,i)}}}function su(t){let e;return{c(){e=P("div"),E(e,"class","confetti svelte-15ksp55"),tt(e,"--fall-distance",t[8]),tt(e,"--size",t[0]+"px"),tt(e,"--color",t[15]()),tt(e,"--skew",ht(-45,45)+"deg,"+ht(-45,45)+"deg"),tt(e,"--rotation-xyz",ht(-10,10)+", "+ht(-10,10)+", "+ht(-10,10)),tt(e,"--rotation-deg",ht(0,360)+"deg"),tt(e,"--translate-y-multiplier",ht(t[2][0],t[2][1])),tt(e,"--translate-x-multiplier",ht(t[1][0],t[1][1])),tt(e,"--scale",.1*ht(2,10)),tt(e,"--transition-duration",t[4]?`calc(${t[3]}ms * var(--scale))`:`${t[3]}ms`),tt(e,"--transition-delay",ht(t[5][0],t[5][1])+"ms"),tt(e,"--transition-iteration-count",t[4]?"infinite":t[7]),tt(e,"--x-spread",1-t[12])},m(n,o){O(n,e,o)},p(n,o){o&256&&tt(e,"--fall-distance",n[8]),o&1&&tt(e,"--size",n[0]+"px"),o&4&&tt(e,"--translate-y-multiplier",ht(n[2][0],n[2][1])),o&2&&tt(e,"--translate-x-multiplier",ht(n[1][0],n[1][1])),o&24&&tt(e,"--transition-duration",n[4]?`calc(${n[3]}ms * var(--scale))`:`${n[3]}ms`),o&32&&tt(e,"--transition-delay",ht(n[5][0],n[5][1])+"ms"),o&144&&tt(e,"--transition-iteration-count",n[4]?"infinite":n[7]),o&4096&&tt(e,"--x-spread",1-n[12])},d(n){n&&M(e)}}}function b3(t){let e,n=!t[14]&&lu(t);return{c(){n&&n.c(),e=Le()},m(o,i){n&&n.m(o,i),O(o,e,i)},p(o,[i]){o[14]?n&&(n.d(1),n=null):n?n.p(o,i):(n=lu(o),n.c(),n.m(e.parentNode,e))},i:ye,o:ye,d(o){o&&M(e),n&&n.d(o)}}}function ht(t,e){return Math.random()*(e-t)+t}function v3(t,e,n){let{size:o=10}=e,{x:i=[-.5,.5]}=e,{y:r=[.25,1]}=e,{duration:l=2e3}=e,{infinite:a=!1}=e,{delay:s=[0,50]}=e,{colorRange:u=[0,360]}=e,{colorArray:f=[]}=e,{amount:c=50}=e,{iterationCount:d=1}=e,{fallDistance:m="100px"}=e,{rounded:h=!1}=e,{cone:_=!1}=e,{noGravity:p=!1}=e,{xSpread:w=.15}=e,{destroyOnComplete:y=!0}=e,{disableForReducedMotion:S=!1}=e,R=!1;Zo(()=>{!y||a||d=="infinite"||setTimeout(()=>n(14,R=!0),(l+s[1])*d)});function q(){return f.length?f[Math.round(Math.random()*(f.length-1))]:`hsl(${Math.round(ht(u[0],u[1]))}, 75%, 50%)`}return t.$$set=j=>{"size"in j&&n(0,o=j.size),"x"in j&&n(1,i=j.x),"y"in j&&n(2,r=j.y),"duration"in j&&n(3,l=j.duration),"infinite"in j&&n(4,a=j.infinite),"delay"in j&&n(5,s=j.delay),"colorRange"in j&&n(16,u=j.colorRange),"colorArray"in j&&n(17,f=j.colorArray),"amount"in j&&n(6,c=j.amount),"iterationCount"in j&&n(7,d=j.iterationCount),"fallDistance"in j&&n(8,m=j.fallDistance),"rounded"in j&&n(9,h=j.rounded),"cone"in j&&n(10,_=j.cone),"noGravity"in j&&n(11,p=j.noGravity),"xSpread"in j&&n(12,w=j.xSpread),"destroyOnComplete"in j&&n(18,y=j.destroyOnComplete),"disableForReducedMotion"in j&&n(13,S=j.disableForReducedMotion)},[o,i,r,l,a,s,c,d,m,h,_,p,w,S,R,q,u,f,y]}class pn extends pe{constructor(e){super(),me(this,e,v3,b3,ce,{size:0,x:1,y:2,duration:3,infinite:4,delay:5,colorRange:16,colorArray:17,amount:6,iterationCount:7,fallDistance:8,rounded:9,cone:10,noGravity:11,xSpread:12,destroyOnComplete:18,disableForReducedMotion:13})}}function au(t){let e,n,o,i,r,l,a,s;return e=new pn({props:{cone:!0,x:[-.5,.5]}}),o=new pn({props:{cone:!0,amount:10,x:[-1,-.4],y:[.25,.75],rounded:!0,size:15}}),r=new pn({props:{cone:!0,amount:10,x:[.4,1],y:[.25,.75]}}),a=new pn({props:{infinite:!0,amount:75,delay:[0,200]}}),{c(){U(e.$$.fragment),n=B(),U(o.$$.fragment),i=B(),U(r.$$.fragment),l=B(),U(a.$$.fragment)},m(u,f){x(e,u,f),O(u,n,f),x(o,u,f),O(u,i,f),x(r,u,f),O(u,l,f),x(a,u,f),s=!0},i(u){s||(k(e.$$.fragment,u),k(o.$$.fragment,u),k(r.$$.fragment,u),k(a.$$.fragment,u),s=!0)},o(u){T(e.$$.fragment,u),T(o.$$.fragment,u),T(r.$$.fragment,u),T(a.$$.fragment,u),s=!1},d(u){u&&(M(n),M(i),M(l)),Y(e,u),Y(o,u),Y(r,u),Y(a,u)}}}function y3(t){let e,n,o,i=t[1].isComplete(t[2])||t[3]&&t[2].currentTutorialStep==t[0]?"✅":"⬜️",r,l,a,s=t[1].message+"",u,f,c,d=t[3]&&t[2].currentTutorialStep==t[0]&&au();return{c(){e=P("div"),d&&d.c(),n=B(),o=P("span"),r=G(i),l=B(),a=P("span"),u=G(s),E(o,"class","flex flex-row gap-1"),E(e,"class",f="text-sm flex flex-row justify-start align-middle pb-2 mb-2 transition-all duration-300 noselect "+(t[2].currentTutorialStep==t[0]?"opacity-100":"opacity-50"))},m(m,h){O(m,e,h),d&&d.m(e,null),v(e,n),v(e,o),v(o,r),v(o,l),v(o,a),v(a,u),c=!0},p(m,[h]){m[3]&&m[2].currentTutorialStep==m[0]?d?h&13&&k(d,1):(d=au(),d.c(),k(d,1),d.m(e,n)):d&&(Me(),T(d,1,1,()=>{d=null}),Oe()),(!c||h&15)&&i!==(i=m[1].isComplete(m[2])||m[3]&&m[2].currentTutorialStep==m[0]?"✅":"⬜️")&&se(r,i),(!c||h&2)&&s!==(s=m[1].message+"")&&se(u,s),(!c||h&5&&f!==(f="text-sm flex flex-row justify-start align-middle pb-2 mb-2 transition-all duration-300 noselect "+(m[2].currentTutorialStep==m[0]?"opacity-100":"opacity-50")))&&E(e,"class",f)},i(m){c||(k(d),c=!0)},o(m){T(d),c=!1},d(m){m&&M(e),d&&d.d()}}}function w3(t,e,n){let o,i;le(t,$e,a=>n(2,o=a)),le(t,qo,a=>n(3,i=a));let{index:r}=e,{step:l}=e;return t.$$set=a=>{"index"in a&&n(0,r=a.index),"step"in a&&n(1,l=a.step)},[r,l,o,i]}class od extends pe{constructor(e){super(),me(this,e,w3,y3,ce,{index:0,step:1})}}function uu(t,e,n){const o=t.slice();return o[13]=e[n],o[15]=n,o}function fu(t,e,n){const o=t.slice();return o[16]=e[n].icon,o[17]=e[n].name,o[18]=e[n].value,o[19]=e[n].rate,o}function cu(t,e,n){const o=t.slice();return o[22]=e[n],o}function du(t,e,n){const o=t.slice();return o[17]=e[n].name,o[18]=e[n].value,o[25]=e[n].modifier,o[26]=e[n].color,o[27]=e[n].hover,o[28]=e[n].description,o[29]=e[n].max,o}function k3(t){let e,n=t[17]+"",o,i,r,l;return r=new g3({props:{value:t[18],max:t[29]??300,class:"min-w-[80px] max-w-[80px] ",color:t[26]}}),{c(){e=P("span"),o=G(n),i=B(),U(r.$$.fragment),E(e,"class","text-md pr-2")},m(a,s){O(a,e,s),v(e,o),O(a,i,s),x(r,a,s),l=!0},p(a,s){(!l||s[0]&32)&&n!==(n=a[17]+"")&&se(o,n);const u={};s[0]&32&&(u.value=a[18]),s[0]&32&&(u.max=a[29]??300),s[0]&32&&(u.color=a[26]),r.$set(u)},i(a){l||(k(r.$$.fragment,a),l=!0)},o(a){T(r.$$.fragment,a),l=!1},d(a){a&&(M(e),M(i)),Y(r,a)}}}function mu(t){let e,n;return e=new yo({props:{class:"rounded-2xl text-white "+(t[26]??t[9](t[18])),$$slots:{default:[C3]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(o,i){x(e,o,i),n=!0},p(o,i){const r={};i[0]&32&&(r.class="rounded-2xl text-white "+(o[26]??o[9](o[18]))),i[0]&32|i[1]&2&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function C3(t){let e,n,o=t[17]+"",i,r,l=bn(t[18],!1)+"",a,s,u=t[29]?`out of ${t[29]}`:"",f,c,d,m,h,_=t[28]+"",p;return d=new St({props:{class:"mb-2 mt-1"}}),{c(){e=P("div"),n=P("span"),i=G(o),r=G(": "),a=G(l),s=B(),f=G(u),c=B(),U(d.$$.fragment),m=B(),h=P("span"),E(n,"class","text-md"),E(e,"class","flex flex-col justify-between max-w-48")},m(w,y){O(w,e,y),v(e,n),v(n,i),v(n,r),v(n,a),v(n,s),v(n,f),v(e,c),x(d,e,null),v(e,m),v(e,h),h.innerHTML=_,p=!0},p(w,y){(!p||y[0]&32)&&o!==(o=w[17]+"")&&se(i,o),(!p||y[0]&32)&&l!==(l=bn(w[18],!1)+"")&&se(a,l),(!p||y[0]&32)&&u!==(u=w[29]?`out of ${w[29]}`:"")&&se(f,u),(!p||y[0]&32)&&_!==(_=w[28]+"")&&(h.innerHTML=_)},i(w){p||(k(d.$$.fragment,w),p=!0)},o(w){T(d.$$.fragment,w),p=!1},d(w){w&&M(e),Y(d)}}}function T3(t){let e,n,o,i;e=new ko({props:{class:"w-full flex flex-row align-middle justify-between text-sm filter hover:brightness-110",$$slots:{default:[k3]},$$scope:{ctx:t}}});let r=t[27]&&mu(t);return{c(){U(e.$$.fragment),n=B(),r&&r.c(),o=Le()},m(l,a){x(e,l,a),O(l,n,a),r&&r.m(l,a),O(l,o,a),i=!0},p(l,a){const s={};a[0]&32|a[1]&2&&(s.$$scope={dirty:a,ctx:l}),e.$set(s),l[27]?r?(r.p(l,a),a[0]&32&&k(r,1)):(r=mu(l),r.c(),k(r,1),r.m(o.parentNode,o)):r&&(Me(),T(r,1,1,()=>{r=null}),Oe())},i(l){i||(k(e.$$.fragment,l),k(r),i=!0)},o(l){T(e.$$.fragment,l),T(r),i=!1},d(l){l&&(M(n),M(o)),Y(e,l),r&&r.d(l)}}}function pu(t){let e,n,o,i;return n=new wo({props:{openDelay:200,closeDelay:0,$$slots:{default:[T3]},$$scope:{ctx:t}}}),{c(){e=P("div"),U(n.$$.fragment),o=B(),E(e,"class","flex flex-col gap-1")},m(r,l){O(r,e,l),x(n,e,null),v(e,o),i=!0},p(r,l){const a={};l[0]&32|l[1]&2&&(a.$$scope={dirty:l,ctx:r}),n.$set(a)},i(r){i||(k(n.$$.fragment,r),i=!0)},o(r){T(n.$$.fragment,r),i=!1},d(r){r&&M(e),Y(n)}}}function A3(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,h,_,p,w,y,S,R,q,j=t[1].gameSettings.includes("bagOfHolding")?"There is no resource cap in this game mode! (Bag of Holding)":"",$;return{c(){e=P("div"),n=G(`ℹ️ Resources are generated from plots. Generation rate can be
            increased by raising the productivity of the town, at the cost of
            some happiness.
            `),o=P("br"),i=B(),r=P("br"),l=G(`
            There is also a slight bit of randomness as townspeople aren't robots.
            `),a=P("br"),s=B(),u=P("br"),f=B(),c=P("span"),c.textContent="Stockpile plots",d=G(` increase the maximum
            amount of resources you can store.
            `),m=P("br"),h=B(),_=P("br"),p=G(`
            If the cap is 500, then you can store 500 of each resource before the
            cap is reached.
            `),w=P("br"),y=G(`
            Capacity is increased by 2,000 per Stockpile plot.
            `),S=P("br"),R=B(),q=P("span"),$=G(j),E(c,"class","font-bold"),E(q,"class","text-red-800 font-bold"),E(e,"class","text-sm")},m(L,I){O(L,e,I),v(e,n),v(e,o),v(e,i),v(e,r),v(e,l),v(e,a),v(e,s),v(e,u),v(e,f),v(e,c),v(e,d),v(e,m),v(e,h),v(e,_),v(e,p),v(e,w),v(e,y),v(e,S),v(e,R),v(e,q),v(q,$)},p(L,I){I[0]&2&&j!==(j=L[1].gameSettings.includes("bagOfHolding")?"There is no resource cap in this game mode! (Bag of Holding)":"")&&se($,j)},d(L){L&&M(e)}}}function S3(t){let e,n,o,i=t[1].gameSettings.includes("bagOfHolding")?"No resource cap":`Capacity: ${bn(t[1].resource_capacity,!1)}`,r,l,a,s,u;return s=new yo({props:{class:"text-sm max-h-[200px] overflow-y-scroll",$$slots:{default:[A3]},$$scope:{ctx:t}}}),{c(){e=P("h1"),n=G(`Resources

          `),o=P("div"),r=G(i),a=B(),U(s.$$.fragment),E(o,"class",l="text-xs w-full text-center mb-2 cursor-pointer "+(t[2]==!0?"text-textDanger animate-pulse font-bold":"")+" "+(t[1].gameSettings.includes("bagOfHolding")?"opacity-30":"")),E(e,"class","text-lg w-full text-center pb-2")},m(f,c){O(f,e,c),v(e,n),v(e,o),v(o,r),O(f,a,c),x(s,f,c),u=!0},p(f,c){(!u||c[0]&2)&&i!==(i=f[1].gameSettings.includes("bagOfHolding")?"No resource cap":`Capacity: ${bn(f[1].resource_capacity,!1)}`)&&se(r,i),(!u||c[0]&6&&l!==(l="text-xs w-full text-center mb-2 cursor-pointer "+(f[2]==!0?"text-textDanger animate-pulse font-bold":"")+" "+(f[1].gameSettings.includes("bagOfHolding")?"opacity-30":"")))&&E(o,"class",l);const d={};c[0]&2|c[1]&2&&(d.$$scope={dirty:c,ctx:f}),s.$set(d)},i(f){u||(k(s.$$.fragment,f),u=!0)},o(f){T(s.$$.fragment,f),u=!1},d(f){f&&(M(e),M(a)),Y(s,f)}}}function I3(t){let e,n;return e=new ko({props:{$$slots:{default:[S3]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(o,i){x(e,o,i),n=!0},p(o,i){const r={};i[0]&6|i[1]&2&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function M3(t){let e,n,o=t[19]+"",i;return{c(){e=P("span"),n=G("+"),i=G(o),E(e,"class","")},m(r,l){O(r,e,l),v(e,n),v(e,i)},p(r,l){l[0]&16&&o!==(o=r[19]+"")&&se(i,o)},d(r){r&&M(e)}}}function O3(t){let e;return{c(){e=P("span")},m(n,o){O(n,e,o)},p:ye,d(n){n&&M(e)}}}function P3(t){let e,n=t[19]+"",o;return{c(){e=P("span"),o=G(n),E(e,"class","text-textDanger")},m(i,r){O(i,e,r),v(e,o)},p(i,r){r[0]&16&&n!==(n=i[19]+"")&&se(o,n)},d(i){i&&M(e)}}}function N3(t){let e,n,o=t[19]+"",i;return{c(){e=P("span"),n=G("+"),i=G(o),E(e,"class","text-textHappy")},m(r,l){O(r,e,l),v(e,n),v(e,i)},p(r,l){l[0]&16&&o!==(o=r[19]+"")&&se(i,o)},d(r){r&&M(e)}}}function E3(t){let e;return{c(){e=P("span"),e.textContent="⚠️ CAP",E(e,"class","text-textDanger")},m(n,o){O(n,e,o)},p:ye,d(n){n&&M(e)}}}function $3(t){let e;return{c(){e=P("span"),E(e,"class","display-none")},m(n,o){O(n,e,o)},p:ye,d(n){n&&M(e)}}}function R3(t){let e,n,o=t[19]+"",i,r;return{c(){e=P("span"),n=G("+"),i=G(o),r=G(" (weekly)"),E(e,"class","text-gray-600")},m(l,a){O(l,e,a),v(e,n),v(e,i),v(e,r)},p(l,a){a[0]&16&&o!==(o=l[19]+"")&&se(i,o)},d(l){l&&M(e)}}}function L3(t){let e,n=t[19]+"",o,i;return{c(){e=P("span"),o=G(n),i=G(" (weekly)"),E(e,"class","text-textDanger")},m(r,l){O(r,e,l),v(e,o),v(e,i)},p(r,l){l[0]&16&&n!==(n=r[19]+"")&&se(o,n)},d(r){r&&M(e)}}}function D3(t){let e,n,o=t[19]+"",i,r;return{c(){e=P("span"),n=G("+"),i=G(o),r=G(" (weekly)"),E(e,"class","text-textHappy")},m(l,a){O(l,e,a),v(e,n),v(e,i),v(e,r)},p(l,a){a[0]&16&&o!==(o=l[19]+"")&&se(i,o)},d(l){l&&M(e)}}}function hu(t){let e,n,o,i,r,l;e=new St({props:{class:"bg-gray-400"}});let a=Ue(t[8](t[17])),s=[];for(let u=0;u<a.length;u+=1)s[u]=_u(cu(t,a,u));return{c(){U(e.$$.fragment),n=B(),o=P("span"),o.textContent="Required for",i=B(),r=P("div");for(let u=0;u<s.length;u+=1)s[u].c();E(o,"class","text-sm font-semibold"),E(r,"class","grid grid-cols-3 justify-between")},m(u,f){x(e,u,f),O(u,n,f),O(u,o,f),O(u,i,f),O(u,r,f);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(r,null);l=!0},p(u,f){if(f[0]&272){a=Ue(u[8](u[17]));let c;for(c=0;c<a.length;c+=1){const d=cu(u,a,c);s[c]?s[c].p(d,f):(s[c]=_u(d),s[c].c(),s[c].m(r,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=a.length}},i(u){l||(k(e.$$.fragment,u),l=!0)},o(u){T(e.$$.fragment,u),l=!1},d(u){u&&(M(n),M(o),M(i),M(r)),Y(e,u),ut(s,u)}}}function _u(t){let e,n=t[22]+"",o;return{c(){e=P("span"),o=G(n),E(e,"class","text-xs pr-3")},m(i,r){O(i,e,r),v(e,o)},p(i,r){r[0]&16&&n!==(n=i[22]+"")&&se(o,n)},d(i){i&&M(e)}}}function F3(t){let e,n,o,i=t[16]+"",r,l,a=eo(t[17])+"",s,u,f,c=t[8](t[17]).length>0,d;function m(w,y){return w[19]>0?D3:w[19]<0?L3:w[19]!=null?R3:$3}let h=m(t),_=h(t),p=c&&hu(t);return{c(){e=P("div"),n=P("div"),o=P("span"),r=G(i),l=B(),s=G(a),u=B(),_.c(),f=B(),p&&p.c(),E(o,"class","text-md font-bold"),E(e,"class","flex flex-col gap-2 whitespace-nowrap min-w-fit rounded-lg text-black")},m(w,y){O(w,e,y),v(e,n),v(n,o),v(o,r),v(o,l),v(o,s),v(n,u),_.m(n,null),v(e,f),p&&p.m(e,null),d=!0},p(w,y){(!d||y[0]&16)&&i!==(i=w[16]+"")&&se(r,i),(!d||y[0]&16)&&a!==(a=eo(w[17])+"")&&se(s,a),h===(h=m(w))&&_?_.p(w,y):(_.d(1),_=h(w),_&&(_.c(),_.m(n,null))),y[0]&16&&(c=w[8](w[17]).length>0),c?p?(p.p(w,y),y[0]&16&&k(p,1)):(p=hu(w),p.c(),k(p,1),p.m(e,null)):p&&(Me(),T(p,1,1,()=>{p=null}),Oe())},i(w){d||(k(p),d=!0)},o(w){T(p),d=!1},d(w){w&&M(e),_.d(),p&&p.d()}}}function j3(t){let e,n=t[16]+"",o,i,r=bn(parseInt(t[18]),!1)+"",l,a,s,u,f,c;function d(_,p){return _[18]>=_[1].resource_capacity&&_[17]!="gold"?E3:_[19]>0?N3:_[19]<0?P3:_[19]==null?O3:M3}let m=d(t),h=m(t);return f=new yo({props:{$$slots:{default:[F3]},$$scope:{ctx:t}}}),{c(){e=P("span"),o=G(n),i=B(),l=G(r),a=B(),h.c(),u=B(),U(f.$$.fragment),E(e,"class",s="flex flex-row justify-between text-sm "+(t[18]<=0?"text-textDanger font-semibold":""))},m(_,p){O(_,e,p),v(e,o),v(e,i),v(e,l),v(e,a),h.m(e,null),O(_,u,p),x(f,_,p),c=!0},p(_,p){(!c||p[0]&16)&&n!==(n=_[16]+"")&&se(o,n),(!c||p[0]&16)&&r!==(r=bn(parseInt(_[18]),!1)+"")&&se(l,r),m===(m=d(_))&&h?h.p(_,p):(h.d(1),h=m(_),h&&(h.c(),h.m(e,null))),(!c||p[0]&16&&s!==(s="flex flex-row justify-between text-sm "+(_[18]<=0?"text-textDanger font-semibold":"")))&&E(e,"class",s);const w={};p[0]&16|p[1]&2&&(w.$$scope={dirty:p,ctx:_}),f.$set(w)},i(_){c||(k(f.$$.fragment,_),c=!0)},o(_){T(f.$$.fragment,_),c=!1},d(_){_&&(M(e),M(u)),h.d(),Y(f,_)}}}function q3(t){let e,n,o;return e=new ko({props:{$$slots:{default:[j3]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),n=B()},m(i,r){x(e,i,r),O(i,n,r),o=!0},p(i,r){const l={};r[0]&18|r[1]&2&&(l.$$scope={dirty:r,ctx:i}),e.$set(l)},i(i){o||(k(e.$$.fragment,i),o=!0)},o(i){T(e.$$.fragment,i),o=!1},d(i){i&&M(n),Y(e,i)}}}function gu(t){let e,n;return e=new wo({props:{openDelay:200,closeDelay:0,$$slots:{default:[q3]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(o,i){x(e,o,i),n=!0},p(o,i){const r={};i[0]&18|i[1]&2&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function B3(t){let e;return{c(){e=P("br")},m(n,o){O(n,e,o)},p:ye,i:ye,o:ye,d(n){n&&M(e)}}}function H3(t){let e,n,o,i,r,l,a,s,u,f,c=t[7]&&bu(),d=t[1].currentTutorialStep>0&&vu(t),m=Ue(Bo),h=[];for(let p=0;p<m.length;p+=1)h[p]=wu(uu(t,m,p));const _=p=>T(h[p],1,1,()=>{h[p]=null});return{c(){e=P("div"),n=P("div"),c&&c.c(),o=B(),i=P("h1"),i.textContent="Milestones",r=B(),d&&d.c(),l=B(),a=P("div");for(let p=0;p<h.length;p+=1)h[p].c();E(i,"class","text-lg w-full text-center"),E(n,"class","text-lg w-full text-center noselect flex flex-col no-select"),E(a,"class","scroll overflow-y-scroll")},m(p,w){O(p,e,w),v(e,n),c&&c.m(n,null),v(n,o),v(n,i),v(n,r),d&&d.m(n,null),v(e,l),v(e,a);for(let y=0;y<h.length;y+=1)h[y]&&h[y].m(a,null);s=!0,u||(f=ee(n,"click",t[10]),u=!0)},p(p,w){if(p[7]?c?w[0]&128&&k(c,1):(c=bu(),c.c(),k(c,1),c.m(n,o)):c&&(Me(),T(c,1,1,()=>{c=null}),Oe()),p[1].currentTutorialStep>0?d?d.p(p,w):(d=vu(p),d.c(),d.m(n,null)):d&&(d.d(1),d=null),w[0]&10){m=Ue(Bo);let y;for(y=0;y<m.length;y+=1){const S=uu(p,m,y);h[y]?(h[y].p(S,w),k(h[y],1)):(h[y]=wu(S),h[y].c(),k(h[y],1),h[y].m(a,null))}for(Me(),y=m.length;y<h.length;y+=1)_(y);Oe()}},i(p){if(!s){k(c);for(let w=0;w<m.length;w+=1)k(h[w]);s=!0}},o(p){T(c),h=h.filter(Boolean);for(let w=0;w<h.length;w+=1)T(h[w]);s=!1},d(p){p&&M(e),c&&c.d(),d&&d.d(),ut(h,p),u=!1,f()}}}function bu(t){let e,n,o,i,r,l,a,s;return e=new pn({props:{cone:!0,x:[-.5,.5]}}),o=new pn({props:{cone:!0,amount:10,x:[-1,-.4],y:[.25,.75],rounded:!0,size:15}}),r=new pn({props:{cone:!0,amount:10,x:[.4,1],y:[.25,.75]}}),a=new pn({props:{infinite:!0,amount:75,delay:[0,200]}}),{c(){U(e.$$.fragment),n=B(),U(o.$$.fragment),i=B(),U(r.$$.fragment),l=B(),U(a.$$.fragment)},m(u,f){x(e,u,f),O(u,n,f),x(o,u,f),O(u,i,f),x(r,u,f),O(u,l,f),x(a,u,f),s=!0},i(u){s||(k(e.$$.fragment,u),k(o.$$.fragment,u),k(r.$$.fragment,u),k(a.$$.fragment,u),s=!0)},o(u){T(e.$$.fragment,u),T(o.$$.fragment,u),T(r.$$.fragment,u),T(a.$$.fragment,u),s=!1},d(u){u&&(M(n),M(i),M(l)),Y(e,u),Y(o,u),Y(r,u),Y(a,u)}}}function vu(t){let e,n=t[3]?`Hide ${t[1].currentTutorialStep} completed`:`Show ${t[1].currentTutorialStep} completed`,o;return{c(){e=P("span"),o=G(n),E(e,"class","text-xs opacity-65 cursor-pointer pb-2")},m(i,r){O(i,e,r),v(e,o)},p(i,r){r[0]&10&&n!==(n=i[3]?`Hide ${i[1].currentTutorialStep} completed`:`Show ${i[1].currentTutorialStep} completed`)&&se(o,n)},d(i){i&&M(e)}}}function G3(t){let e,n;return e=new od({props:{index:t[15],step:t[13]}}),{c(){U(e.$$.fragment)},m(o,i){x(e,o,i),n=!0},p:ye,i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function W3(t){let e,n,o=t[3]&&yu(t);return{c(){o&&o.c(),e=Le()},m(i,r){o&&o.m(i,r),O(i,e,r),n=!0},p(i,r){i[3]?o?r[0]&8&&k(o,1):(o=yu(i),o.c(),k(o,1),o.m(e.parentNode,e)):o&&(Me(),T(o,1,1,()=>{o=null}),Oe())},i(i){n||(k(o),n=!0)},o(i){T(o),n=!1},d(i){i&&M(e),o&&o.d(i)}}}function yu(t){let e,n;return e=new od({props:{index:t[15],step:t[13]}}),{c(){U(e.$$.fragment)},m(o,i){x(e,o,i),n=!0},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function wu(t){let e,n,o,i;const r=[W3,G3],l=[];function a(s,u){return s[1].currentTutorialStep>s[15]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Le()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),T(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){T(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function V3(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,h,_,p,w,y,S=Ue(t[5]),R=[];for(let g=0;g<S.length;g+=1)R[g]=pu(du(t,S,g));const q=g=>T(R[g],1,1,()=>{R[g]=null});s=new wo({props:{openDelay:200,closeDelay:0,$$slots:{default:[I3]},$$scope:{ctx:t}}});let j=Ue(t[4]),$=[];for(let g=0;g<j.length;g+=1)$[g]=gu(fu(t,j,g));const L=g=>T($[g],1,1,()=>{$[g]=null}),I=[H3,B3],N=[];function A(g,C){return g[0]?1:0}return _=A(t),p=N[_]=I[_](t),{c(){e=P("div"),n=P("div"),o=P("div"),i=P("h1"),i.textContent="Stats",r=B();for(let g=0;g<R.length;g+=1)R[g].c();l=B(),a=P("div"),U(s.$$.fragment),u=B(),f=P("div"),c=B(),d=P("div"),m=P("div");for(let g=0;g<$.length;g+=1)$[g].c();h=B(),p.c(),E(i,"class","text-lg w-full text-center pb-1"),E(o,"class","flex flex-col rounded-xl gap-2 w-full"),E(n,"class","flex flex-row w-full pb-6"),E(a,"class","flex flex-row justify-center"),E(f,"class","w-[full] flex flex-row justify-center"),E(m,"class","flex flex-col text-md text-nowrap gap-2"),E(d,"class","flex flex-col gap-8 h-full"),E(e,"class",w="bg-sidebarBackground text-sidebarText border-foreground border-4 "+(t[6].visible&&!t[0]?"opacity-0":"")+" z-10 rounded-xl px-2 pt-2 transition-all duration-300 overflow-y-scroll scroll "+(t[0]?"min-w-56":"fixed right-3 top-[190px] sidebar w-[220px] bottom-4"))},m(g,C){O(g,e,C),v(e,n),v(n,o),v(o,i),v(o,r);for(let D=0;D<R.length;D+=1)R[D]&&R[D].m(o,null);v(e,l),v(e,a),x(s,a,null),v(e,u),v(e,f),v(e,c),v(e,d),v(d,m);for(let D=0;D<$.length;D+=1)$[D]&&$[D].m(m,null);v(d,h),N[_].m(d,null),y=!0},p(g,C){if(C[0]&544){S=Ue(g[5]);let F;for(F=0;F<S.length;F+=1){const V=du(g,S,F);R[F]?(R[F].p(V,C),k(R[F],1)):(R[F]=pu(V),R[F].c(),k(R[F],1),R[F].m(o,null))}for(Me(),F=S.length;F<R.length;F+=1)q(F);Oe()}const D={};if(C[0]&6|C[1]&2&&(D.$$scope={dirty:C,ctx:g}),s.$set(D),C[0]&274){j=Ue(g[4]);let F;for(F=0;F<j.length;F+=1){const V=fu(g,j,F);$[F]?($[F].p(V,C),k($[F],1)):($[F]=gu(V),$[F].c(),k($[F],1),$[F].m(m,null))}for(Me(),F=j.length;F<$.length;F+=1)L(F);Oe()}let W=_;_=A(g),_===W?N[_].p(g,C):(Me(),T(N[W],1,1,()=>{N[W]=null}),Oe(),p=N[_],p?p.p(g,C):(p=N[_]=I[_](g),p.c()),k(p,1),p.m(d,null)),(!y||C[0]&65&&w!==(w="bg-sidebarBackground text-sidebarText border-foreground border-4 "+(g[6].visible&&!g[0]?"opacity-0":"")+" z-10 rounded-xl px-2 pt-2 transition-all duration-300 overflow-y-scroll scroll "+(g[0]?"min-w-56":"fixed right-3 top-[190px] sidebar w-[220px] bottom-4")))&&E(e,"class",w)},i(g){if(!y){for(let C=0;C<S.length;C+=1)k(R[C]);k(s.$$.fragment,g);for(let C=0;C<j.length;C+=1)k($[C]);k(p),y=!0}},o(g){R=R.filter(Boolean);for(let C=0;C<R.length;C+=1)T(R[C]);T(s.$$.fragment,g),$=$.filter(Boolean);for(let C=0;C<$.length;C+=1)T($[C]);T(p),y=!1},d(g){g&&M(e),ut(R,g),Y(s),ut($,g),N[_].d()}}}function x3(t){return["food","wood","stone","metal","power","knowledge"].includes(t)}function ku(t){let e=0;for(let n=0;n<t.plots.length;n++)for(let o=0;o<t.plots[n].length;o++)t.plots[n][o].active==!0&&t.plots[n][o].type>-1&&e++;return e}function Y3(t,e,n){let o,i,r;le(t,$e,p=>n(1,o=p)),le(t,Qe,p=>n(6,i=p)),le(t,qo,p=>n(7,r=p));let l=!1,a=!1,{mini:s=!1}=e,u=[];function f(p){let w=[];for(let y=0;y<ie.length;y++)(p!="knowledge"&&ie[y].requirements.resources[p]>0||p=="power"&&ie[y].active_costs.power>0||p=="knowledge"&&ie[y].requirements.knowledge>0)&&w.push(ie[y].title);return w}function c(p){return x3(p)?f(p):[]}let d;const m=p=>p===1?"bg-green-500":p>.9?"bg-yellow-500":"bg-red-500",h=p=>p>149?"bg-green-500":p>99?"bg-yellow-500":"bg-red-500",_=()=>{n(3,a=!a)};return t.$$set=p=>{"mini"in p&&n(0,s=p.mini)},t.$$.update=()=>{t.$$.dirty[0]&2&&n(2,l=o.resources.food>=o.resource_capacity||o.resources.wood>=o.resource_capacity||o.resources.stone>=o.resource_capacity||o.resources.metal>=o.resource_capacity),t.$$.dirty[0]&2&&n(4,u=[{icon:"💰",name:"gold",value:o.townInfo.gold,rate:o.economyAndLaws.weeklyProfit},{icon:"🥕",name:"food",value:o.resources.food,rate:o.resource_rate.food},{icon:"🪵",name:"wood",value:o.resources.wood,rate:o.resource_rate.wood},{icon:"🪨",name:"stone",value:o.resources.stone,rate:o.resource_rate.stone},{icon:"🧠",name:"knowledge",value:o.townInfo.knowledge_points,rate:o.resource_rate.knowledge},{icon:"🧲",name:"metal",value:o.resources.metal,rate:o.resource_rate.metal},{icon:"🔋",name:"power",value:o.resources.power,rate:null},{icon:"🧑‍⚖️",name:"bureaucracy",value:o.resources.bureaucracy,rate:o.resource_rate.bureaucracy}]),t.$$.dirty[0]&2&&n(5,d=[{name:"Happiness",description:"Happy townspeople spend more money and are less likely to leave.",value:o.townInfo.happiness,modifier:o.modifiers.happiness,color:h(o.townInfo.happiness),hover:!0,max:300},{name:"Health",description:"Healthy townspeople are less likely to die (and leave the town obviously).",value:o.townInfo.health,modifier:o.modifiers.health,color:h(o.townInfo.health),hover:!0,max:300},{name:"Community",description:"Townspeople that feel at home are less likely to leave, and less likely to get bored.",value:o.townInfo.community,modifier:o.modifiers.community,color:h(o.townInfo.community),hover:!0,max:300},{name:"Employment",description:"The number of people employed in your town. Unemployed people are more likely to leave.",value:o.townInfo.employees,modifier:null,color:m(o.townInfo.employees/o.townInfo.population_count),hover:!0,max:o.townInfo.population_count},{name:"🛝 Recreation",description:"Tracker for how many plots you have for recreation, which keeps townspeople happy. <br/><br/>Make sure as your town grows that you build enough 🛝 plots. ",value:o.townInfo.recreation,modifier:null,color:o.townInfo.recreation/ku(o)>=.2?"bg-green-500":"bg-orange-300",hover:!0,max:ku(o)}])},[s,o,l,a,u,d,i,r,c,h,_]}class id extends pe{constructor(e){super(),me(this,e,Y3,V3,ce,{mini:0},null,[-1,-1])}}function Cu(t,e,n){const o=t.slice();return o[4]=e[n],o[6]=n,o}function Tu(t,e,n){const o=t.slice();return o[4]=e[n],o[6]=n,o}function Au(t,e,n){const o=t.slice();return o[4]=e[n],o[6]=n,o}function Su(t){let e,n,o,i=ie[Ae(t[0].id)].title+"",r,l,a,s=ie[Ae(t[0].id)].description+"",u,f,c,d,m,h,_,p,w,y=t[3]("💰",ie[Ae(t[0].id)].requirements.gold,t[2].townInfo.gold)+"",S,R,q=t[3]("🥕",ie[Ae(t[0].id)].requirements.resources.food,t[2].resources.food)+"",j,$,L=t[3]("🧠",ie[Ae(t[0].id)].requirements.knowledge,t[2].townInfo.knowledge_points)+"",I,N,A=t[3]("🪵",ie[Ae(t[0].id)].requirements.resources.wood,t[2].resources.wood)+"",g,C,D=t[3]("🪨",ie[Ae(t[0].id)].requirements.resources.stone,t[2].resources.stone)+"",W,F,V=t[3]("🧲",ie[Ae(t[0].id)].requirements.resources.metal,t[2].resources.metal)+"",K,Z,te=t[3]("🔋",ie[Ae(t[0].id)].active_costs.power,t[2].resources.power)+"",z,ne,ke=t[3]("🧑‍⚖️",ie[Ae(t[0].id)].requirements.resources.bureaucracy,t[2].resources.bureaucracy)+"",we,oe=ie[Ae(t[0].id)].requirements.employees!=0,Fe,b=ie[Ae(t[0].id)].revenue_per_week!=0,Q,X=Object.values(ie[Ae(t[0].id)].active_costs).some(Bu),ue,Te=Object.values(ie[Ae(t[0].id)].requirements.plots).length>0,de,Pe=Object.values(ie[Ae(t[0].id)].generated_resources).some(qu)||ie[Ae(t[0].id)].knowledge_points_per_month>0,qe;d=new St({props:{class:"bg-accent opacity-25 mt-1 mb-1"}});let He=oe&&Iu(t),De=b&&Mu(t),Je=X&&Ou(t),Xe=Te&&Eu(t),Ye=Pe&&Lu(t);return{c(){e=P("div"),n=P("div"),o=P("span"),r=G(i),l=B(),a=P("span"),u=G(s),f=B(),c=P("div"),U(d.$$.fragment),m=B(),h=P("span"),h.textContent="Requirements",_=B(),p=P("div"),w=new Zt(!1),S=B(),R=new Zt(!1),j=B(),$=new Zt(!1),I=B(),N=new Zt(!1),g=B(),C=new Zt(!1),W=B(),F=new Zt(!1),K=B(),Z=new Zt(!1),z=B(),ne=new Zt(!1),we=B(),He&&He.c(),Fe=B(),De&&De.c(),Q=B(),Je&&Je.c(),ue=B(),Xe&&Xe.c(),de=B(),Ye&&Ye.c(),E(o,"class","text-md"),E(a,"class","text-xs"),E(n,"class","flex flex-col gap-2"),E(h,"class","font-semibold"),w.a=S,R.a=j,$.a=I,N.a=g,C.a=W,F.a=K,Z.a=z,ne.a=we,E(p,"class","flex flex-row gap-1 flex-wrap"),E(c,"class","flex flex-col w-36 h-min gap-0 text-xs pb-2"),E(e,"class","p-2 max-w-64")},m(Ie,Ne){O(Ie,e,Ne),v(e,n),v(n,o),v(o,r),v(n,l),v(n,a),v(a,u),v(e,f),v(e,c),x(d,c,null),v(c,m),v(c,h),v(c,_),v(c,p),w.m(y,p),v(p,S),R.m(q,p),v(p,j),$.m(L,p),v(p,I),N.m(A,p),v(p,g),C.m(D,p),v(p,W),F.m(V,p),v(p,K),Z.m(te,p),v(p,z),ne.m(ke,p),v(p,we),He&&He.m(p,null),v(e,Fe),De&&De.m(e,null),v(e,Q),Je&&Je.m(e,null),v(e,ue),Xe&&Xe.m(e,null),v(e,de),Ye&&Ye.m(e,null),qe=!0},p(Ie,Ne){(!qe||Ne&1)&&i!==(i=ie[Ae(Ie[0].id)].title+"")&&se(r,i),(!qe||Ne&1)&&s!==(s=ie[Ae(Ie[0].id)].description+"")&&se(u,s),(!qe||Ne&5)&&y!==(y=Ie[3]("💰",ie[Ae(Ie[0].id)].requirements.gold,Ie[2].townInfo.gold)+"")&&w.p(y),(!qe||Ne&5)&&q!==(q=Ie[3]("🥕",ie[Ae(Ie[0].id)].requirements.resources.food,Ie[2].resources.food)+"")&&R.p(q),(!qe||Ne&5)&&L!==(L=Ie[3]("🧠",ie[Ae(Ie[0].id)].requirements.knowledge,Ie[2].townInfo.knowledge_points)+"")&&$.p(L),(!qe||Ne&5)&&A!==(A=Ie[3]("🪵",ie[Ae(Ie[0].id)].requirements.resources.wood,Ie[2].resources.wood)+"")&&N.p(A),(!qe||Ne&5)&&D!==(D=Ie[3]("🪨",ie[Ae(Ie[0].id)].requirements.resources.stone,Ie[2].resources.stone)+"")&&C.p(D),(!qe||Ne&5)&&V!==(V=Ie[3]("🧲",ie[Ae(Ie[0].id)].requirements.resources.metal,Ie[2].resources.metal)+"")&&F.p(V),(!qe||Ne&5)&&te!==(te=Ie[3]("🔋",ie[Ae(Ie[0].id)].active_costs.power,Ie[2].resources.power)+"")&&Z.p(te),(!qe||Ne&5)&&ke!==(ke=Ie[3]("🧑‍⚖️",ie[Ae(Ie[0].id)].requirements.resources.bureaucracy,Ie[2].resources.bureaucracy)+"")&&ne.p(ke),Ne&1&&(oe=ie[Ae(Ie[0].id)].requirements.employees!=0),oe?He?He.p(Ie,Ne):(He=Iu(Ie),He.c(),He.m(p,null)):He&&(He.d(1),He=null),Ne&1&&(b=ie[Ae(Ie[0].id)].revenue_per_week!=0),b?De?(De.p(Ie,Ne),Ne&1&&k(De,1)):(De=Mu(Ie),De.c(),k(De,1),De.m(e,Q)):De&&(Me(),T(De,1,1,()=>{De=null}),Oe()),Ne&1&&(X=Object.values(ie[Ae(Ie[0].id)].active_costs).some(Bu)),X?Je?(Je.p(Ie,Ne),Ne&1&&k(Je,1)):(Je=Ou(Ie),Je.c(),k(Je,1),Je.m(e,ue)):Je&&(Me(),T(Je,1,1,()=>{Je=null}),Oe()),Ne&1&&(Te=Object.values(ie[Ae(Ie[0].id)].requirements.plots).length>0),Te?Xe?(Xe.p(Ie,Ne),Ne&1&&k(Xe,1)):(Xe=Eu(Ie),Xe.c(),k(Xe,1),Xe.m(e,de)):Xe&&(Me(),T(Xe,1,1,()=>{Xe=null}),Oe()),Ne&1&&(Pe=Object.values(ie[Ae(Ie[0].id)].generated_resources).some(qu)||ie[Ae(Ie[0].id)].knowledge_points_per_month>0),Pe?Ye?(Ye.p(Ie,Ne),Ne&1&&k(Ye,1)):(Ye=Lu(Ie),Ye.c(),k(Ye,1),Ye.m(e,null)):Ye&&(Me(),T(Ye,1,1,()=>{Ye=null}),Oe())},i(Ie){qe||(k(d.$$.fragment,Ie),k(De),k(Je),k(Xe),k(Ye),qe=!0)},o(Ie){T(d.$$.fragment,Ie),T(De),T(Je),T(Xe),T(Ye),qe=!1},d(Ie){Ie&&M(e),Y(d),He&&He.d(),De&&De.d(),Je&&Je.d(),Xe&&Xe.d(),Ye&&Ye.d()}}}function Iu(t){let e,n,o=ie[Ae(t[0].id)].requirements.employees+"",i,r,l;return{c(){e=P("span"),n=G("👥 "),i=G(o),r=G(" employees"),E(e,"class",l=ie[Ae(t[0].id)].requirements.employees>t[2].townInfo.population_count-t[2].townInfo.employees&&t[1]?"px-1 text-textDanger font-bold border-2 border-red-400":"")},m(a,s){O(a,e,s),v(e,n),v(e,i),v(e,r)},p(a,s){s&1&&o!==(o=ie[Ae(a[0].id)].requirements.employees+"")&&se(i,o),s&7&&l!==(l=ie[Ae(a[0].id)].requirements.employees>a[2].townInfo.population_count-a[2].townInfo.employees&&a[1]?"px-1 text-textDanger font-bold border-2 border-red-400":"")&&E(e,"class",l)},d(a){a&&M(e)}}}function Mu(t){let e,n,o,i,r,l,a,s=ie[Ae(t[0].id)].revenue_per_week+"",u,f;return n=new St({props:{class:"bg-accent opacity-25 mt-0"}}),{c(){e=P("div"),U(n.$$.fragment),o=B(),i=P("span"),i.textContent="Weekly revenue",r=B(),l=P("span"),a=G("💰 "),u=G(s),E(i,"class","font-semibold"),E(e,"class","flex flex-col gap-1 text-xs")},m(c,d){O(c,e,d),x(n,e,null),v(e,o),v(e,i),v(e,r),v(e,l),v(l,a),v(l,u),f=!0},p(c,d){(!f||d&1)&&s!==(s=ie[Ae(c[0].id)].revenue_per_week+"")&&se(u,s)},i(c){f||(k(n.$$.fragment,c),f=!0)},o(c){T(n.$$.fragment,c),f=!1},d(c){c&&M(e),Y(n)}}}function Ou(t){let e,n,o,i,r,l;n=new St({props:{class:"bg-accent opacity-25 mt-2"}});let a=Ue(Object.keys(ie[Ae(t[0].id)].active_costs)),s=[];for(let u=0;u<a.length;u+=1)s[u]=Nu(Au(t,a,u));return{c(){e=P("div"),U(n.$$.fragment),o=B(),i=P("span"),i.textContent="Weekly Costs",r=B();for(let u=0;u<s.length;u+=1)s[u].c();E(i,"class","font-semibold"),E(e,"class","flex flex-col gap-1 text-xs")},m(u,f){O(u,e,f),x(n,e,null),v(e,o),v(e,i),v(e,r);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(e,null);l=!0},p(u,f){if(f&1){a=Ue(Object.keys(ie[Ae(u[0].id)].active_costs));let c;for(c=0;c<a.length;c+=1){const d=Au(u,a,c);s[c]?s[c].p(d,f):(s[c]=Nu(d),s[c].c(),s[c].m(e,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=a.length}},i(u){l||(k(n.$$.fragment,u),l=!0)},o(u){T(n.$$.fragment,u),l=!1},d(u){u&&M(e),Y(n),ut(s,u)}}}function Pu(t){let e,n=eo(t[4])+"",o,i,r=Ui(t[4])+"",l,a,s=-1*Object.values(ie[Ae(t[0].id)].active_costs)[t[6]]+"",u,f,c;return{c(){e=P("span"),o=G(n),i=B(),l=G(r),a=B(),u=G(s),f=B(),E(e,"class",c=Object.values(ie[Ae(t[0].id)].active_costs)[t[6]]>0?"text-textDanger":"text-textHappy")},m(d,m){O(d,e,m),v(e,o),v(e,i),v(e,l),v(e,a),v(e,u),v(e,f)},p(d,m){m&1&&n!==(n=eo(d[4])+"")&&se(o,n),m&1&&r!==(r=Ui(d[4])+"")&&se(l,r),m&1&&s!==(s=-1*Object.values(ie[Ae(d[0].id)].active_costs)[d[6]]+"")&&se(u,s),m&1&&c!==(c=Object.values(ie[Ae(d[0].id)].active_costs)[d[6]]>0?"text-textDanger":"text-textHappy")&&E(e,"class",c)},d(d){d&&M(e)}}}function Nu(t){let e=Object.values(ie[Ae(t[0].id)].active_costs)[t[6]]!=0,n,o=e&&Pu(t);return{c(){o&&o.c(),n=Le()},m(i,r){o&&o.m(i,r),O(i,n,r)},p(i,r){r&1&&(e=Object.values(ie[Ae(i[0].id)].active_costs)[i[6]]!=0),e?o?o.p(i,r):(o=Pu(i),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(i){i&&M(n),o&&o.d(i)}}}function Eu(t){let e,n,o,i,r,l;n=new St({props:{class:"bg-accent opacity-25 mt-2"}});let a=Ue(Object.keys(ie[Ae(t[0].id)].requirements.plots)),s=[];for(let u=0;u<a.length;u+=1)s[u]=Ru(Tu(t,a,u));return{c(){e=P("div"),U(n.$$.fragment),o=B(),i=P("span"),i.textContent="Required Plots",r=B();for(let u=0;u<s.length;u+=1)s[u].c();E(i,"class","font-semibold"),E(e,"class","flex flex-col gap-1 text-xs")},m(u,f){O(u,e,f),x(n,e,null),v(e,o),v(e,i),v(e,r);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(e,null);l=!0},p(u,f){if(f&5){a=Ue(Object.keys(ie[Ae(u[0].id)].requirements.plots));let c;for(c=0;c<a.length;c+=1){const d=Tu(u,a,c);s[c]?s[c].p(d,f):(s[c]=Ru(d),s[c].c(),s[c].m(e,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=a.length}},i(u){l||(k(n.$$.fragment,u),l=!0)},o(u){T(n.$$.fragment,u),l=!1},d(u){u&&M(e),Y(n),ut(s,u)}}}function $u(t){var l;let e,n=((l=jl(Object.values(ie[Ae(t[0].id)].requirements.plots)[t[6]]))==null?void 0:l.title)+"",o,i,r;return{c(){e=P("span"),o=G(n),i=B(),E(e,"class",r=Be(Object.values(ie[Ae(t[0].id)].requirements.plots)[t[6]],t[2]).length==0?"text-textDanger border-2 border-red-400 font-semibold px-1":"text-textHappy")},m(a,s){O(a,e,s),v(e,o),v(e,i)},p(a,s){var u;s&1&&n!==(n=((u=jl(Object.values(ie[Ae(a[0].id)].requirements.plots)[a[6]]))==null?void 0:u.title)+"")&&se(o,n),s&5&&r!==(r=Be(Object.values(ie[Ae(a[0].id)].requirements.plots)[a[6]],a[2]).length==0?"text-textDanger border-2 border-red-400 font-semibold px-1":"text-textHappy")&&E(e,"class",r)},d(a){a&&M(e)}}}function Ru(t){let e=Object.values(ie[Ae(t[0].id)].requirements.plots)[t[6]]!=0,n,o=e&&$u(t);return{c(){o&&o.c(),n=Le()},m(i,r){o&&o.m(i,r),O(i,n,r)},p(i,r){r&1&&(e=Object.values(ie[Ae(i[0].id)].requirements.plots)[i[6]]!=0),e?o?o.p(i,r):(o=$u(i),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(i){i&&M(n),o&&o.d(i)}}}function Lu(t){let e,n,o,i,r,l=ie[Ae(t[0].id)].knowledge_points_per_month>0,a,s;n=new St({props:{class:"bg-accent opacity-25 mt-2"}});let u=l&&Du(t),f=Ue(Object.keys(ie[Ae(t[0].id)].generated_resources)),c=[];for(let d=0;d<f.length;d+=1)c[d]=ju(Cu(t,f,d));return{c(){e=P("div"),U(n.$$.fragment),o=B(),i=P("span"),i.textContent="Generated Resources",r=B(),u&&u.c(),a=B();for(let d=0;d<c.length;d+=1)c[d].c();E(i,"class","font-semibold"),E(e,"class","flex flex-col gap-1 text-xs")},m(d,m){O(d,e,m),x(n,e,null),v(e,o),v(e,i),v(e,r),u&&u.m(e,null),v(e,a);for(let h=0;h<c.length;h+=1)c[h]&&c[h].m(e,null);s=!0},p(d,m){if(m&1&&(l=ie[Ae(d[0].id)].knowledge_points_per_month>0),l?u?u.p(d,m):(u=Du(d),u.c(),u.m(e,a)):u&&(u.d(1),u=null),m&1){f=Ue(Object.keys(ie[Ae(d[0].id)].generated_resources));let h;for(h=0;h<f.length;h+=1){const _=Cu(d,f,h);c[h]?c[h].p(_,m):(c[h]=ju(_),c[h].c(),c[h].m(e,null))}for(;h<c.length;h+=1)c[h].d(1);c.length=f.length}},i(d){s||(k(n.$$.fragment,d),s=!0)},o(d){T(n.$$.fragment,d),s=!1},d(d){d&&M(e),Y(n),u&&u.d(),ut(c,d)}}}function Du(t){let e,n,o=Math.round(ie[Ae(t[0].id)].knowledge_points_per_month)+"",i,r;return{c(){e=P("span"),n=G("🧠 "),i=G(o),r=G(" (monthly)")},m(l,a){O(l,e,a),v(e,n),v(e,i),v(e,r)},p(l,a){a&1&&o!==(o=Math.round(ie[Ae(l[0].id)].knowledge_points_per_month)+"")&&se(i,o)},d(l){l&&M(e)}}}function Fu(t){let e,n=Ui(t[4])+"",o,i,r=eo(t[4])+"",l,a,s=ql(Object.values(ie[Ae(t[0].id)].generated_resources)[t[6]],!1)+"",u,f,c;return{c(){e=P("span"),o=G(n),i=B(),l=G(r),a=B(),u=G(s),f=B(),E(e,"class",c=Object.values(ie[Ae(t[0].id)].generated_resources)[t[6]]>0?"text-textHappy":"text-textDanger")},m(d,m){O(d,e,m),v(e,o),v(e,i),v(e,l),v(e,a),v(e,u),v(e,f)},p(d,m){m&1&&n!==(n=Ui(d[4])+"")&&se(o,n),m&1&&r!==(r=eo(d[4])+"")&&se(l,r),m&1&&s!==(s=ql(Object.values(ie[Ae(d[0].id)].generated_resources)[d[6]],!1)+"")&&se(u,s),m&1&&c!==(c=Object.values(ie[Ae(d[0].id)].generated_resources)[d[6]]>0?"text-textHappy":"text-textDanger")&&E(e,"class",c)},d(d){d&&M(e)}}}function ju(t){let e=Object.values(ie[Ae(t[0].id)].generated_resources)[t[6]]!=0,n,o=e&&Fu(t);return{c(){o&&o.c(),n=Le()},m(i,r){o&&o.m(i,r),O(i,n,r)},p(i,r){r&1&&(e=Object.values(ie[Ae(i[0].id)].generated_resources)[i[6]]!=0),e?o?o.p(i,r):(o=Fu(i),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(i){i&&M(n),o&&o.d(i)}}}function U3(t){let e,n,o=t[0]!=null&&Su(t);return{c(){o&&o.c(),e=Le()},m(i,r){o&&o.m(i,r),O(i,e,r),n=!0},p(i,[r]){i[0]!=null?o?(o.p(i,r),r&1&&k(o,1)):(o=Su(i),o.c(),k(o,1),o.m(e.parentNode,e)):o&&(Me(),T(o,1,1,()=>{o=null}),Oe())},i(i){n||(k(o),n=!0)},o(i){T(o),n=!1},d(i){i&&M(e),o&&o.d(i)}}}function Ui(t){switch(t){case"food":return"🥕";case"knowledge":return"🧠";case"wood":return"🪵";case"stone":return"🪨";case"metal":return"🧲";case"power":return"🔋";case"bureaucracy":return"🧑‍⚖️";default:return"💰"}}const qu=t=>t!=0,Bu=t=>t!=0;function K3(t,e,n){let o;le(t,$e,a=>n(2,o=a));let{option:i}=e,{checkRequirements:r=!0}=e;function l(a,s,u){if(s==0||s==null)return"<span class='hidden'></span>";let f="",c="";return u<s&&r&&(c="text-textDanger border-2 border-red-400 px-2"),f=`<span class='${c}'>${a} ${s}</span>`,f}return t.$$set=a=>{"option"in a&&n(0,i=a.option),"checkRequirements"in a&&n(1,r=a.checkRequirements)},[i,r,o,l]}class rd extends pe{constructor(e){super(),me(this,e,K3,U3,ce,{option:0,checkRequirements:1})}}function X3(t){let e,n;return{c(){e=P("span"),n=G(t[3]),E(e,"class","text-[11px] text-wrap")},m(o,i){O(o,e,i),v(e,n)},p(o,i){i&8&&se(n,o[3])},d(o){o&&M(e)}}}function J3(t){let e;return{c(){e=P("span"),e.textContent="Click to bulldoze",E(e,"class","text-[11px] text-wrap text-yellow-300")},m(n,o){O(n,e,o)},p:ye,d(n){n&&M(e)}}}function Z3(t){let e,n,o,i,r;return{c(){e=P("span"),n=G(`Hires
              `),o=P("span"),i=G(t[9]),r=G(`

              employees`),E(o,"class",t[10]+" font-medium"),E(e,"class","text-[11px] opacity-80")},m(l,a){O(l,e,a),v(e,n),v(e,o),v(o,i),v(e,r)},p:ye,d(l){l&&M(e)}}}function Q3(t){let e;return{c(){e=P("span"),e.textContent=`+💰${bn(t[8],!1)}/wk`},m(n,o){O(n,e,o)},p:ye,d(n){n&&M(e)}}}function z3(t){let e;return{c(){e=P("span"),e.textContent=`🔌${t[11]}`},m(n,o){O(n,e,o)},p:ye,d(n){n&&M(e)}}}function e4(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,h=bn(t[6],!1)+"",_,p,w,y,S,R,q,j;function $(C,D){if(C[0].selected)return J3;if(C[3])return X3}let L=$(t),I=L&&L(t),N=t[9]&&Z3(t),A=t[8]>0&&Q3(t),g=t[11]>0&&z3(t);return{c(){e=P("div"),n=P("div"),o=P("div"),i=P("span"),i.textContent=`${t[5]}`,r=B(),l=P("span"),l.textContent=`${t[4]}`,a=B(),I&&I.c(),s=B(),u=P("div"),N&&N.c(),f=B(),c=P("div"),d=P("span"),m=G("💰"),_=G(h),p=B(),A&&A.c(),w=B(),y=P("div"),g&&g.c(),E(i,"class","text-3xl"),E(l,"class","font-medium text-center text-md"),E(o,"class","flex flex-col flex-grow rounded-xl p-2 gap-0 justify-center items-center"),E(d,"class",""+t[7]),E(c,"class","flex flex-row justify-between mx-2 text-[11px] font-mono items-center"),E(y,"class","flex flex-row justify-between mx-2 text-[11px] font-mono"),E(u,"class","bg-sidebarBackground text-black rounded-t-lg py-1"),E(n,"class",S="flex flex-col w-36 h-48 min-h-32 min-w-36 rounded-xl text-white drop-shadow-lg border-black border-2 hover:translate-y-[-8px] transition-transform duration-300 ease-in-out z-100 "+(t[2]||t[0].selected?"cursor-pointer":"cursor-not-allowed opacity-30")+" "+(t[0].selected?"border-4 border-white scale-105":"")),tt(n,"background",t[12]),E(e,"class","plotOption"),E(e,"data-plotoptionid",R=t[0].id)},m(C,D){O(C,e,D),v(e,n),v(n,o),v(o,i),v(o,r),v(o,l),v(o,a),I&&I.m(o,null),v(n,s),v(n,u),N&&N.m(u,null),v(u,f),v(u,c),v(c,d),v(d,m),v(d,_),v(c,p),A&&A.m(c,null),v(u,w),v(u,y),g&&g.m(y,null),q||(j=ee(e,"click",function(){Ft(t[2]?t[15]:Hu)&&(t[2]?t[15]:Hu).apply(this,arguments)}),q=!0)},p(C,D){t=C,L===(L=$(t))&&I?I.p(t,D):(I&&I.d(1),I=L&&L(t),I&&(I.c(),I.m(o,null))),t[9]&&N.p(t,D),t[8]>0&&A.p(t,D),t[11]>0&&g.p(t,D),D&5&&S!==(S="flex flex-col w-36 h-48 min-h-32 min-w-36 rounded-xl text-white drop-shadow-lg border-black border-2 hover:translate-y-[-8px] transition-transform duration-300 ease-in-out z-100 "+(t[2]||t[0].selected?"cursor-pointer":"cursor-not-allowed opacity-30")+" "+(t[0].selected?"border-4 border-white scale-105":""))&&E(n,"class",S),D&1&&R!==(R=t[0].id)&&E(e,"data-plotoptionid",R)},d(C){C&&M(e),I&&I.d(),N&&N.d(),A&&A.d(),g&&g.d(),q=!1,j()}}}function t4(t){let e,n;return e=new rd({props:{option:t[0],checkRequirements:!0}}),{c(){U(e.$$.fragment)},m(o,i){x(e,o,i),n=!0},p(o,i){const r={};i&1&&(r.option=o[0]),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function n4(t){let e,n,o,i;return e=new ko({props:{$$slots:{default:[e4]},$$scope:{ctx:t}}}),o=new yo({props:{$$slots:{default:[t4]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),n=B(),U(o.$$.fragment)},m(r,l){x(e,r,l),O(r,n,l),x(o,r,l),i=!0},p(r,l){const a={};l&262159&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&262145&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){T(e.$$.fragment,r),T(o.$$.fragment,r),i=!1},d(r){r&&M(n),Y(e,r),Y(o,r)}}}function o4(t){let e,n;return e=new wo({props:{openDelay:200,closeDelay:0,$$slots:{default:[n4]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(o,i){x(e,o,i),n=!0},p(o,[i]){const r={};i&262159&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}const Hu=()=>{};function i4(t,e,n){let o;le(t,$e,R=>n(14,o=R));let{option:i}=e,{purchaseCallback:r}=e,{canPurchase:l}=e,a=i.title,s=i.emoji,u=i.requirements.gold,f=o.townInfo.gold<u?"text-red-500 font-semibold":"",c=i.revenue_per_week,d=i.requirements.employees,m=o.townInfo.population_count-o.townInfo.employees<d?"text-red-500 font-semibold":"",h=i.active_costs.power,_=Pr(Ae(i.id),!1,5),{count:p=0}=e,w="";const y=Object.entries(i.generated_resources).filter(([R,q])=>q>0).map(([R,q])=>`${q} ${R}`);y.length>0&&(w=`Produces: ${y.join(", ")}`);const S=()=>r(i);return t.$$set=R=>{"option"in R&&n(0,i=R.option),"purchaseCallback"in R&&n(1,r=R.purchaseCallback),"canPurchase"in R&&n(2,l=R.canPurchase),"count"in R&&n(13,p=R.count)},t.$$.update=()=>{t.$$.dirty&16384},[i,r,l,w,a,s,u,f,c,d,m,h,_,p,o,S]}class r4 extends pe{constructor(e){super(),me(this,e,i4,o4,ce,{option:0,purchaseCallback:1,canPurchase:2,count:13})}}const{Map:l4}=md;function Gu(t,e,n){const o=t.slice();return o[25]=e[n],o}function Wu(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,h,_,p,w,y,S,R,q;const j=[a4,s4],$=[];function L(I,N){return N&6&&(c=null),c==null&&(c=!!Wo(I[1].x,I[1].y,I[2])),c?0:1}return d=L(t,-1),m=$[d]=j[d](t),w=new id({props:{mini:!0}}),{c(){e=P("div"),o=B(),i=P("div"),r=P("div"),l=P("div"),a=P("div"),s=P("div"),u=P("div"),f=P("div"),m.c(),_=B(),p=P("div"),U(w.$$.fragment),E(e,"class","fixed inset-0 bg-black/20 z-[998]"),E(f,"class",h="flex flex-row text-start justify-start items-start flex-wrap py-8 px-8 "+(t[1].isMineralSource,"pt-6 gap-2")+" w-full align-middle"),E(s,"class","flex gap-1 pb-24 overflow-scroll max-h-["+xu+"]"),E(a,"class","flex flex-row gap-2 justify-start pt-8 flex-grow w-full"),E(r,"class","h-max w-full flex-grow"),E(i,"class","w-[100vw] fixed bottom-0 max-h-["+xu+"] z-[999] flex flex-row justify-center text-center items-center bg-popupBackground text-sidebarText px-4 shadow-2xl rounded-t-2xl")},m(I,N){O(I,e,N),O(I,o,N),O(I,i,N),v(i,r),v(r,l),v(l,a),v(a,s),v(s,u),v(u,f),$[d].m(f,null),v(i,_),v(i,p),x(w,p,null),S=!0,R||(q=[ee(e,"click",t[10]),ee(a,"click",t[4]),ee(i,"click",_d(t[9]))],R=!0)},p(I,N){let A=d;d=L(I,N),d===A?$[d].p(I,N):(Me(),T($[A],1,1,()=>{$[A]=null}),Oe(),m=$[d],m?m.p(I,N):(m=$[d]=j[d](I),m.c()),k(m,1),m.m(f,null)),(!S||N&2&&h!==(h="flex flex-row text-start justify-start items-start flex-wrap py-8 px-8 "+(I[1].isMineralSource,"pt-6 gap-2")+" w-full align-middle"))&&E(f,"class",h)},i(I){S||(I&&it(()=>{S&&(n||(n=bt(e,Di,{duration:200},!0)),n.run(1))}),k(m),k(w.$$.fragment,I),I&&it(()=>{S&&(y||(y=bt(i,la,{duration:200,axis:"y"},!0)),y.run(1))}),S=!0)},o(I){I&&(n||(n=bt(e,Di,{duration:200},!1)),n.run(0)),T(m),T(w.$$.fragment,I),I&&(y||(y=bt(i,la,{duration:200,axis:"y"},!1)),y.run(0)),S=!1},d(I){I&&(M(e),M(o),M(i)),I&&n&&n.end(),$[d].d(),Y(w),I&&y&&y.end(),R=!1,xe(q)}}}function s4(t){let e;return{c(){e=P("div"),e.innerHTML=`You can only expand your kingdom through adjacent plots.
                    Select one of the <span class="text-yellow-500 bold">yellow</span> plots.`,E(e,"class","text-white font-semibold")},m(n,o){O(n,e,o)},p:ye,i:ye,o:ye,d(n){n&&M(e)}}}function a4(t){let e=[],n=new l4,o,i,r=Ue(t[3].filter(t[11]));const l=a=>a[25].id;for(let a=0;a<r.length;a+=1){let s=Gu(t,r,a),u=l(s);n.set(u,e[a]=Vu(u,s))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();o=Le()},m(a,s){for(let u=0;u<e.length;u+=1)e[u]&&e[u].m(a,s);O(a,o,s),i=!0},p(a,s){s&10&&(r=Ue(a[3].filter(a[11])),Me(),e=Md(e,s,l,1,a,r,n,o.parentNode,Id,Vu,o,Gu),Oe())},i(a){if(!i){for(let s=0;s<r.length;s+=1)k(e[s]);i=!0}},o(a){for(let s=0;s<e.length;s+=1)T(e[s]);i=!1},d(a){a&&M(o);for(let s=0;s<e.length;s+=1)e[s].d(a)}}}function Vu(t,e){let n,o,i;return o=new r4({props:{option:e[25],purchaseCallback:c4,canPurchase:e[25].affordable??!1}}),{key:t,first:null,c(){n=Le(),U(o.$$.fragment),this.first=n},m(r,l){O(r,n,l),x(o,r,l),i=!0},p(r,l){e=r;const a={};l&10&&(a.option=e[25]),l&10&&(a.canPurchase=e[25].affordable??!1),o.$set(a)},i(r){i||(k(o.$$.fragment,r),i=!0)},o(r){T(o.$$.fragment,r),i=!1},d(r){r&&M(n),Y(o,r)}}}function u4(t){let e,n,o=t[0]&&Wu(t);return{c(){o&&o.c(),e=Le()},m(i,r){o&&o.m(i,r),O(i,e,r),n=!0},p(i,[r]){i[0]?o?(o.p(i,r),r&1&&k(o,1)):(o=Wu(i),o.c(),k(o,1),o.m(e.parentNode,e)):o&&(Me(),T(o,1,1,()=>{o=null}),Oe())},i(i){n||(k(o),n=!0)},o(i){T(o),n=!1},d(i){i&&M(e),o&&o.d(i)}}}const xu="50vh";function f4(t,e,n){return t>=0&&t<n.length&&e>=0&&e<n[0].length&&!n[t][e].water&&!n[t][e].disabled}function mi(t,e,n,o,i){let r=t+n,l=e+o;for(;r>=0&&r<i.length&&l>=0&&l<i[0].length;){if(f4(r,l,i))return[r,l];r+=n,l+=o}return null}const c4=()=>{};function d4(t,e,n){let o,i,r,l;le(t,Qe,I=>n(1,r=I)),le(t,$e,I=>n(2,l=I)),console.log("hello world");let{x:a=0}=e,{y:s=0}=e,{open:u=!1}=e,{tooltip:f=""}=e,c=ie,d;const m=new Map;function h(I){return m.has(I)||m.set(I,ie.findIndex(N=>N.id===I)),m.get(I)}function _(I,N,A){if(!A||!A.plots||!A.plots.length)return null;const g=A.plots.length,C=A.plots[0].length;for(let D=1;D<g+C;D++)for(let W=-D;W<=D;W++)for(let F=-D;F<=D;F++){if(Math.abs(W)+Math.abs(F)!==D)continue;const V=I+W,K=N+F;if(!(V<0||V>=g||K<0||K>=C)&&!A.plots[V][K].active&&!A.plots[V][K].mineralSource&&!A.plots[V][K].water&&!A.plots[V][K].disabled&&Wo(V,K,A))return[V,K]}return null}function p(I){return l.plots[a][s].type>-1?c[l.plots[a][s].type].id===I.id:!1}function w(I,N){let A=!0,g=!0;I.requirements.gold>N.townInfo.gold&&(A=!1,g=!1),I.requirements.knowledge!==void 0&&I.requirements.knowledge>N.townInfo.knowledge_points&&(A=!1,g=!1),I.requirements.resources!==void 0&&Object.keys(I.requirements.resources).forEach(D=>{I.requirements.resources[D]!=0&&l.resources[D]<I.requirements.resources[D]&&(A=!1,g=!1)});let C=N.townInfo.population_count-N.townInfo.employees;if(I.requirements.employees!==void 0&&I.requirements.employees>0){const D=N.plots[a][s];if(D.type!==-1){const F=c[D.type].requirements.employees||0;g&&I.requirements.employees<=F?A=!0:I.requirements.employees>C+F&&(A=!1)}else I.requirements.employees>C&&(A=!1)}return I.active_costs!==void 0&&(I.active_costs.gold>N.townInfo.gold||I.active_costs.power>N.resources.power||I.active_costs.wood>N.resources.wood||I.active_costs.stone>N.resources.stone||I.active_costs.metal>N.resources.metal||I.active_costs.bureaucracy>N.resources.bureaucracy||I.active_costs.food>N.resources.food)&&(A=!1,g=!1),I.requirements.plots.length>0&&I.requirements.plots.forEach(D=>{Be(D,N).length===0&&(A=!1,g=!1)}),A}function y(I){const N=I.target.closest(".plotOption");if(N){const A=N.dataset.plotoptionid;if(A===l.plots[a][s].typeId){R();return}S(A)}}function S(I){const N=h(I),A=c[N];let g=l;if(w(A,g)){if(g.plots[a][s].type!==-1&&oo(a,s,g),n(7,f=""),g.plots[a][s].type=N,g.plots[a][s].active=!0,g.plots[a][s].referencePlot=[],g.plots[a][s].typeId=A.id,g.townInfo.gold-=A.requirements.gold,g.townInfo.gold=Nt(g.townInfo.gold,2),g.townInfo.population_count+=A.immediate_variable_changes.population,g.townInfo.population_max+=A.immediate_variable_changes.population,g.townInfo.happiness+=A.immediate_variable_changes.happiness,g.townInfo.health+=A.immediate_variable_changes.health,g.modifiers.happiness=Nt(g.modifiers.happiness*A.effect_modifiers.happiness,2),g.modifiers.health=Nt(g.modifiers.health*A.effect_modifiers.health,2),g.modifiers.community=Nt(g.modifiers.community*A.effect_modifiers.community,2),g.townInfo.employees+=A.requirements.employees,(g.plotCounts[N]===void 0||g.plotCounts[N]===null)&&(g.plotCounts[N]=0),g.plotCounts[N]++,g.lastChangeDay=g.environment.day,A.requirements.resources!==void 0){const D=A.requirements.resources;g.resources.food-=D.food,g.resources.wood-=D.wood,g.resources.stone-=D.stone,g.resources.metal-=D.metal}switch(A.id){case"city_hall":g.hasCityHall=!0;break;case"bank":g.hasBank=!0;break}$e.set(g),localStorage.setItem(At,JSON.stringify(g));const C=_(a,s,g);if(C){const[D,W]=C;n(5,a=D),n(6,s=W),Se(Qe,r.x=D,r),Se(Qe,r.y=W,r);const F=document.querySelector(`.plot_container[data-x="${D}"][data-y="${W}"]`);if(F){const V=F.getBoundingClientRect(),K=window.innerHeight||d.clientHeight,Z=window.innerWidth||d.clientWidth,te=d.scrollTop+V.top-K/2+225,z=d.scrollLeft+V.left-Z/2;window.scrollTo({top:te,left:z,behavior:"smooth"}),document.querySelectorAll(".plot_container").forEach(ke=>ke.classList.remove("selected")),F.classList.add("selected")}}}else n(7,f="You do not have enough resources to purchase this plot. If it's a 'Large' plot, make sure you have a 2x2 area available. "),document.querySelectorAll(".plotOption").forEach(D=>{D.classList.remove("active")})}function R(){document.querySelectorAll(".plotOption").forEach(N=>{N.classList.remove("active")}),oo(a,s,l)}function q(I){if(!u)return;let N=null;switch(I.key.toLowerCase()){case"arrowup":case"w":N=mi(r.x,r.y,-1,0,l.plots);break;case"arrowdown":case"s":N=mi(r.x,r.y,1,0,l.plots);break;case"arrowleft":case"a":N=mi(r.x,r.y,0,-1,l.plots);break;case"arrowright":case"d":N=mi(r.x,r.y,0,1,l.plots);break;default:return}if(!N)return;const[A,g]=N;Se(Qe,r.x=A,r),Se(Qe,r.y=g,r);const C=document.querySelector(`.plot_container[data-x="${A}"][data-y="${g}"]`);if(C){const D=C.getBoundingClientRect(),W=window.innerHeight||d.clientHeight,F=window.innerWidth||d.clientWidth,V=d.scrollTop+D.top-W/2+225,K=d.scrollLeft+D.left-F/2;window.scrollTo({top:V,left:K,behavior:"smooth"}),document.querySelectorAll(".plot_container").forEach(te=>te.classList.remove("selected")),C.classList.add("selected")}}Zo(()=>{d=document.documentElement||document.body,window.addEventListener("keydown",q)}),Sf(()=>{window.removeEventListener("keydown",q)});function j(I){re.call(this,t,I)}const $=()=>Se(Qe,r.visible=!1,r),L=I=>r.isMineralSource?I.id==="mine":!0;return t.$$set=I=>{"x"in I&&n(5,a=I.x),"y"in I&&n(6,s=I.y),"open"in I&&n(0,u=I.open),"tooltip"in I&&n(7,f=I.tooltip)},t.$$.update=()=>{t.$$.dirty&4&&l&&c.filter(I=>I.id==="mine"),t.$$.dirty&4&&n(8,o=l?c.map(I=>Object.assign(Object.assign({},I),{affordable:w(I,l),selected:p(I)})):[]),t.$$.dirty&262&&n(3,i=l?(()=>{let I=[...o];if(r.isMineralSource)return I.filter(N=>N.id==="mine");Be("tree_farm",l).length===0&&(I=I.filter(N=>["small_homes","farm","tree_farm"].includes(N.id)));for(const[N,A]of Object.entries(Rd))typeof A=="number"&&A>0&&Be(N,l).length>=A&&(I=I.filter(g=>g.id!==N));return I.sort((N,A)=>N.selected&&!A.selected?-1:0)})():[])},[u,r,l,i,y,a,s,f,o,j,$,L]}class ld extends pe{constructor(e){super(),me(this,e,d4,u4,ce,{x:5,y:6,open:0,tooltip:7})}}function m4(t){let e,n,o;return{c(){e=P("span"),n=G("My liege, if you build a City Hall, you can expand your city "),o=G(t[0]),E(e,"class","text-xs")},m(i,r){O(i,e,r),v(e,n),v(e,o)},p(i,r){r&1&&se(o,i[0])},i:ye,o:ye,d(i){i&&M(e)}}}function p4(t){let e,n;return e=new It({props:{class:"bg-accent h-max rounded-2xl hover:scale-110 transition-transform duration-200 ease-in-out hover:drop-shadow-2xl",$$slots:{default:[h4]},$$scope:{ctx:t}}}),e.$on("click",t[2]),{c(){U(e.$$.fragment)},m(o,i){x(e,o,i),n=!0},p(o,i){const r={};i&11&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function h4(t){let e,n,o,i,r,l=t[0].toUpperCase()+"",a,s,u,f,c,d,m,h,_,p,w,y=Math.round(Math.pow(1.7,t[1].kingdom_expansions+5))+"",S,R,q,j;return{c(){e=P("div"),n=G("My liege, you can expand your "),o=P("br"),i=G(`kingdom
        `),r=P("span"),a=G(l),s=G(`
        using
        `),u=P("br"),f=G(`your
        `),c=P("span"),c.textContent="City Hall",d=G("!"),m=P("br"),h=P("br"),_=B(),p=P("span"),w=G("Requires "),S=G(y),R=G(` Guardians
          `),q=P("br"),j=G("to be employed. (see city mgmt menu)"),E(r,"class","font-extrabold text-blue-200"),E(c,"class","text-blue-200 bold"),E(p,"class","opacity-75 text-xs")},m($,L){O($,e,L),v(e,n),v(e,o),v(e,i),v(e,r),v(r,a),v(e,s),v(e,u),v(e,f),v(e,c),v(e,d),v(e,m),v(e,h),v(e,_),v(e,p),v(p,w),v(p,S),v(p,R),v(p,q),v(p,j)},p($,L){L&1&&l!==(l=$[0].toUpperCase()+"")&&se(a,l),L&2&&y!==(y=Math.round(Math.pow(1.7,$[1].kingdom_expansions+5))+"")&&se(S,y)},d($){$&&M(e)}}}function _4(t){let e,n,o,i,r;const l=[p4,m4],a=[];function s(u,f){return f&2&&(n=null),n==null&&(n=Be("city_hall",u[1]).length>0),n?0:1}return o=s(t,-1),i=a[o]=l[o](t),{c(){e=P("div"),i.c(),E(e,"class","w-48 h-max")},m(u,f){O(u,e,f),a[o].m(e,null),r=!0},p(u,[f]){let c=o;o=s(u,f),o===c?a[o].p(u,f):(Me(),T(a[c],1,1,()=>{a[c]=null}),Oe(),i=a[o],i?i.p(u,f):(i=a[o]=l[o](u),i.c()),k(i,1),i.m(e,null))},i(u){r||(k(i),r=!0)},o(u){T(i),r=!1},d(u){u&&M(e),a[o].d()}}}function g4(t,e,n){let o;le(t,$e,l=>n(1,o=l));let{direction:i}=e;const r=()=>{const l=km(o,i);l&&Ct.set(l)};return t.$$set=l=>{"direction"in l&&n(0,i=l.direction)},[i,o,r]}class Yu extends pe{constructor(e){super(),me(this,e,g4,_4,ce,{direction:0})}}function b4(t){return{c:ye,m:ye,p:ye,d:ye}}function v4(t){let e,n,o,i=ie[t[0].type].emoji+"",r,l,a,s,u,f=ie[t[0].type].title+"",c,d,m,h;return{c(){e=P("div"),n=P("span"),o=P("span"),r=G(i),l=B(),a=P("br"),s=B(),u=P("span"),c=G(f),E(o,"class","text-lg align-text-top select-none"),E(u,"class","text-sm align-text-top text-black select-none"),E(n,"data-size",d=ie[t[0].type].requirements.size),E(n,"data-x",m=t[0].x),E(n,"data-y",h=t[0].y),E(e,"class","svelte-lm6uio")},m(_,p){O(_,e,p),v(e,n),v(n,o),v(o,r),v(n,l),v(n,a),v(n,s),v(n,u),v(u,c)},p(_,p){p&1&&i!==(i=ie[_[0].type].emoji+"")&&se(r,i),p&1&&f!==(f=ie[_[0].type].title+"")&&se(c,f),p&1&&d!==(d=ie[_[0].type].requirements.size)&&E(n,"data-size",d),p&1&&m!==(m=_[0].x)&&E(n,"data-x",m),p&1&&h!==(h=_[0].y)&&E(n,"data-y",h)},d(_){_&&M(e)}}}function Uu(t){let e;return{c(){e=P("span"),e.textContent="🧲",E(e,"class","text-lg")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function Ku(t){let e;return{c(){e=P("span"),e.textContent="👑",E(e,"class","text-lg absolute top-0")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function y4(t){let e,n,o,i=t[7](t[0].x,t[0].y),r,l,a,s,u,f,c,d,m,h,_,p,w,y,S,R,q,j;function $(g,C){if(g[0].type>-1)return v4;if(g[0].type==-1&&g[0].x==0&&g[0].y==0)return b4}let L=$(t),I=L&&L(t),N=t[0].mineralSource&&t[0].type==-1&&Uu(),A=i&&Ku();return{c(){e=P("button"),I&&I.c(),n=B(),N&&N.c(),o=B(),A&&A.c(),E(e,"class",r="plot_container "+t[1]+" overflow-visible "+(t[0].type==-1&&t[2]==!1,"")+" "+(t[0].mineralSource?"hidden":"")+" "+(t[2]?"cursor-pointer":"cursor-not-allowed")+" svelte-lm6uio"),tt(e,"background-color",t[0].water?"rgba(66, 135, 245, 1)":t[5].x==t[0].x&&t[5].y==t[0].y&&t[5].visible?"white":t[0].mineralSource?"black":Pr(t[0].type,t[2])),E(e,"data-active",l=t[0].active),E(e,"data-hidehoveranimation",a=t[5].visible||t[0].type==-1&&t[0].x==0&&t[0].y==0),E(e,"data-id",s=t[0].id),E(e,"data-x",u=t[0].x),E(e,"data-y",f=t[0].y),E(e,"data-optionindex",c=t[0].optionIndex),E(e,"data-canbeupgraded",t[2]),E(e,"data-type",d=t[0].type),E(e,"data-type-id",m=t[0].typeId),E(e,"data-refplotx",h=t[0].referencePlot!==void 0?t[0].referencePlot[1]:null),E(e,"data-refploty",_=t[0].referencePlot!==void 0?t[0].referencePlot[0]:null),E(e,"data-size",p=t[0].type>-1?ie[t[0].type].requirements.size:null),E(e,"data-mineralsource",w=t[0].mineralSource),E(e,"data-water",y=t[0].water),E(e,"data-nearwater",S=to(t[0].x,t[0].y,t[3])),E(e,"data-liegelocation",R=t[7](t[0].x,t[0].y))},m(g,C){O(g,e,C),I&&I.m(e,null),v(e,n),N&&N.m(e,null),v(e,o),A&&A.m(e,null),q||(j=ee(e,"click",function(){Ft(t[0].water?null:t[6]?Bl(t[0].x,t[0].y,t[3]):t[8])&&(t[0].water?null:t[6]?Bl(t[0].x,t[0].y,t[3]):t[8]).apply(this,arguments)}),q=!0)},p(g,C){t=g,L===(L=$(t))&&I?I.p(t,C):(I&&I.d(1),I=L&&L(t),I&&(I.c(),I.m(e,n))),t[0].mineralSource&&t[0].type==-1?N||(N=Uu(),N.c(),N.m(e,o)):N&&(N.d(1),N=null),C&1&&(i=t[7](t[0].x,t[0].y)),i?A||(A=Ku(),A.c(),A.m(e,null)):A&&(A.d(1),A=null),C&7&&r!==(r="plot_container "+t[1]+" overflow-visible "+(t[0].type==-1&&t[2]==!1,"")+" "+(t[0].mineralSource?"hidden":"")+" "+(t[2]?"cursor-pointer":"cursor-not-allowed")+" svelte-lm6uio")&&E(e,"class",r),C&37&&tt(e,"background-color",t[0].water?"rgba(66, 135, 245, 1)":t[5].x==t[0].x&&t[5].y==t[0].y&&t[5].visible?"white":t[0].mineralSource?"black":Pr(t[0].type,t[2])),C&1&&l!==(l=t[0].active)&&E(e,"data-active",l),C&33&&a!==(a=t[5].visible||t[0].type==-1&&t[0].x==0&&t[0].y==0)&&E(e,"data-hidehoveranimation",a),C&1&&s!==(s=t[0].id)&&E(e,"data-id",s),C&1&&u!==(u=t[0].x)&&E(e,"data-x",u),C&1&&f!==(f=t[0].y)&&E(e,"data-y",f),C&1&&c!==(c=t[0].optionIndex)&&E(e,"data-optionindex",c),C&4&&E(e,"data-canbeupgraded",t[2]),C&1&&d!==(d=t[0].type)&&E(e,"data-type",d),C&1&&m!==(m=t[0].typeId)&&E(e,"data-type-id",m),C&1&&h!==(h=t[0].referencePlot!==void 0?t[0].referencePlot[1]:null)&&E(e,"data-refplotx",h),C&1&&_!==(_=t[0].referencePlot!==void 0?t[0].referencePlot[0]:null)&&E(e,"data-refploty",_),C&1&&p!==(p=t[0].type>-1?ie[t[0].type].requirements.size:null)&&E(e,"data-size",p),C&1&&w!==(w=t[0].mineralSource)&&E(e,"data-mineralsource",w),C&1&&y!==(y=t[0].water)&&E(e,"data-water",y),C&9&&S!==(S=to(t[0].x,t[0].y,t[3]))&&E(e,"data-nearwater",S),C&1&&R!==(R=t[7](t[0].x,t[0].y))&&E(e,"data-liegelocation",R)},d(g){g&&M(e),I&&I.d(),N&&N.d(),A&&A.d(),q=!1,j()}}}function Xu(t){let e;return{c(){e=G("Water - Place farms nearby for more food & revenue!")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function Ju(t){let e;return{c(){e=P("span"),e.textContent="Near water - Generating more food & revenue!",E(e,"class","text-xs bg-blue-500 text-white px-2 py-3 rounded-2xl text-center")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function Zu(t){let e;function n(r,l){return ie[r[0].type].liege_on_plot_hint==null?k4:w4}let o=n(t),i=o(t);return{c(){e=P("span"),i.c(),E(e,"class","text-xs bg-pink-700 text-white px-2 py-3 rounded-2xl text-center")},m(r,l){O(r,e,l),i.m(e,null)},p(r,l){o===(o=n(r))&&i?i.p(r,l):(i.d(1),i=o(r),i&&(i.c(),i.m(e,null)))},d(r){r&&M(e),i.d()}}}function w4(t){let e=ie[t[0].type].liege_on_plot_hint+"",n;return{c(){n=G(e)},m(o,i){O(o,n,i)},p(o,i){i&1&&e!==(e=ie[o[0].type].liege_on_plot_hint+"")&&se(n,e)},d(o){o&&M(n)}}}function k4(t){let e,n=ie[t[0].type].title+"",o,i;return{c(){e=G("You are hanging out on the "),o=G(n),i=G(` plot, but nothing
            seems to be changing except a revenue boost.`)},m(r,l){O(r,e,l),O(r,o,l),O(r,i,l)},p(r,l){l&1&&n!==(n=ie[r[0].type].title+"")&&se(o,n)},d(r){r&&(M(e),M(o),M(i))}}}function Qu(t){let e,n;return e=new rd({props:{option:t[4],checkRequirements:!1}}),{c(){U(e.$$.fragment)},m(o,i){x(e,o,i),n=!0},p(o,i){const r={};i&16&&(r.option=o[4]),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function C4(t){let e,n,o=to(t[0].x,t[0].y,t[3]),i,r=Un(t[0].x,t[0].y,t[3]),l,a,s=t[0].water&&Xu(),u=o&&Ju(),f=r&&Zu(t),c=t[0].active&&Qu(t);return{c(){e=P("div"),s&&s.c(),n=B(),u&&u.c(),i=B(),f&&f.c(),l=B(),c&&c.c(),E(e,"class","flex flex-col gap-2")},m(d,m){O(d,e,m),s&&s.m(e,null),v(e,n),u&&u.m(e,null),v(e,i),f&&f.m(e,null),v(e,l),c&&c.m(e,null),a=!0},p(d,m){d[0].water?s||(s=Xu(),s.c(),s.m(e,n)):s&&(s.d(1),s=null),m&9&&(o=to(d[0].x,d[0].y,d[3])),o?u||(u=Ju(),u.c(),u.m(e,i)):u&&(u.d(1),u=null),m&9&&(r=Un(d[0].x,d[0].y,d[3])),r?f?f.p(d,m):(f=Zu(d),f.c(),f.m(e,l)):f&&(f.d(1),f=null),d[0].active?c?(c.p(d,m),m&1&&k(c,1)):(c=Qu(d),c.c(),k(c,1),c.m(e,null)):c&&(Me(),T(c,1,1,()=>{c=null}),Oe())},i(d){a||(k(c),a=!0)},o(d){T(c),a=!1},d(d){d&&M(e),s&&s.d(),u&&u.d(),f&&f.d(),c&&c.d()}}}function T4(t){let e,n,o,i;return e=new ko({props:{$$slots:{default:[y4]},$$scope:{ctx:t}}}),o=new yo({props:{class:"max-w-64 rounded-3xl "+(t[0].type<0&&!t[0].water?"hidden":""),$$slots:{default:[C4]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),n=B(),U(o.$$.fragment)},m(r,l){x(e,r,l),O(r,n,l),x(o,r,l),i=!0},p(r,l){const a={};l&8303&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&1&&(s.class="max-w-64 rounded-3xl "+(r[0].type<0&&!r[0].water?"hidden":"")),l&8217&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){T(e.$$.fragment,r),T(o.$$.fragment,r),i=!1},d(r){r&&M(n),Y(e,r),Y(o,r)}}}function A4(t){let e,n;return e=new wo({props:{openDelay:200,closeDelay:0,$$slots:{default:[T4]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(o,i){x(e,o,i),n=!0},p(o,[i]){const r={};i&8319&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function S4(t,e,n){let o,i,r,l,a,s;le(t,Qe,p=>n(5,o=p)),le(t,$e,p=>n(3,i=p)),le(t,Et,p=>n(11,r=p)),le(t,io,p=>n(12,l=p)),le(t,Bt,p=>n(10,a=p)),le(t,lo,p=>n(6,s=p));let{data:u={id:0,active:!1,x:0,y:0,type:-1,styling:"",referencePlot:[],mineralSource:!1,disabled:!1,water:!1}}=e,f,{classText:c=""}=e,{canBeUpgraded:d=!1}=e;const m=(p,w)=>i.liege_location!=null&&p==i.liege_location[0]&&w==i.liege_location[1];function h(p,w,y){let S=document.querySelectorAll(".plot_container");if(r==!1){if(u.referencePlot!=null&&u.referencePlot[0]!==null&&w==null&&y==null&&u.referencePlot[1]!==void 0)return h(p,u.referencePlot[0],u.referencePlot[1]);if(!u.active&&!d)Se(io,l={},l),Se(Qe,o.visible=!1,o),S.forEach(R=>{R.classList.remove("selected")});else{w!=null&&y!=null?(Se(Qe,o.x=w,o),Se(Qe,o.y=y,o)):(Se(Qe,o.x=u.x,o),Se(Qe,o.y=u.y,o)),Se(Qe,o.isMineralSource=u.mineralSource,o),Se(Qe,o.visible=!0,o);const R=document.querySelector(`.plot_container[data-id="${u.id}"]`),q=document.documentElement||document.body,j=R.getBoundingClientRect(),$=window.innerHeight||q.clientHeight,L=window.innerWidth||q.clientWidth,I=q.scrollTop+j.top-$/2+225,N=q.scrollLeft+j.left-L/2;window.scrollTo({top:I,left:N,behavior:"smooth"}),S.forEach(A=>{A.classList.remove("selected")}),w!=null&&y!=null?document.querySelector(`.plot_container[data-x="${w}"][data-y="${y}"]`).classList.add("selected"):document.querySelector(`.plot_container[data-id="${u.id}"]`).classList.add("selected")}}}function _(p){r==!1&&(Se($e,i.plots[u.x][u.y].type=p,i),Se(Qe,o.visible=!1,o))}return t.$$set=p=>{"data"in p&&n(0,u=p.data),"classText"in p&&n(1,c=p.classText),"canBeUpgraded"in p&&n(2,d=p.canBeUpgraded)},t.$$.update=()=>{t.$$.dirty&1033&&(u.type>-1&&n(4,f=ie[u.type]),u.disabled==!0&&a.visible==!1&&(oo(u.x,u.y,i),n(0,u.disabled=!1,u),Se(Bt,a.visible=!1,a)))},[u,c,d,i,f,o,s,m,h,_,a]}class I4 extends pe{constructor(e){super(),me(this,e,S4,A4,ce,{data:0,classText:1,canBeUpgraded:2,changePlotType:9})}get changePlotType(){return this.$$.ctx[9]}}function zu(t,e,n){const o=t.slice();return o[8]=e[n],o[10]=n,o}function ef(t,e,n){const o=t.slice();return o[11]=e[n],o}function tf(t){let e,n,o,i,r,l,a,s,u,f,c,d=t[3],m,h,_=Ue(t[1].plots),p=[];for(let S=0;S<_.length;S+=1)p[S]=of(zu(t,_,S));const w=S=>T(p[S],1,1,()=>{p[S]=null});a=new Yu({props:{direction:"east"}}),f=new Yu({props:{direction:"south"}});let y=lf(t);return{c(){e=P("div"),n=P("div"),o=P("div"),i=P("div");for(let S=0;S<p.length;S+=1)p[S].c();r=B(),l=P("span"),U(a.$$.fragment),s=B(),u=P("span"),U(f.$$.fragment),c=B(),y.c(),m=Le(),E(i,"class","grid plot_controller svelte-1udphho"),E(o,"class","flex flex-row items-center"),E(n,"style",t[2]),E(n,"id","plotContainerMain"),E(n,"class","items-center h-max flex flex-col pr-80 pb-80  svelte-1udphho"),E(e,"class","flex flex-col")},m(S,R){O(S,e,R),v(e,n),v(n,o),v(o,i);for(let q=0;q<p.length;q+=1)p[q]&&p[q].m(i,null);v(o,r),v(o,l),x(a,l,null),v(n,s),v(n,u),x(f,u,null),O(S,c,R),y.m(S,R),O(S,m,R),h=!0},p(S,R){if(R&3){_=Ue(S[1].plots);let q;for(q=0;q<_.length;q+=1){const j=zu(S,_,q);p[q]?(p[q].p(j,R),k(p[q],1)):(p[q]=of(j),p[q].c(),k(p[q],1),p[q].m(i,null))}for(Me(),q=_.length;q<p.length;q+=1)w(q);Oe()}(!h||R&4)&&E(n,"style",S[2]),R&8&&ce(d,d=S[3])?(Me(),T(y,1,1,ye),Oe(),y=lf(S),y.c(),k(y,1),y.m(m.parentNode,m)):y.p(S,R)},i(S){if(!h){for(let R=0;R<_.length;R+=1)k(p[R]);k(a.$$.fragment,S),k(f.$$.fragment,S),k(y),h=!0}},o(S){p=p.filter(Boolean);for(let R=0;R<p.length;R+=1)T(p[R]);T(a.$$.fragment,S),T(f.$$.fragment,S),T(y),h=!1},d(S){S&&(M(e),M(c),M(m)),ut(p,S),Y(a),Y(f),y.d(S)}}}function nf(t){let e,n;return e=new I4({props:{classText:"hexagon",data:t[11],canBeUpgraded:Wo(t[11].x,t[11].y,t[1])}}),{c(){U(e.$$.fragment)},m(o,i){x(e,o,i),n=!0},p(o,i){const r={};i&2&&(r.data=o[11]),i&2&&(r.canBeUpgraded=Wo(o[11].x,o[11].y,o[1])),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function of(t){let e,n,o,i,r,l=Ue(t[8]),a=[];for(let u=0;u<l.length;u+=1)a[u]=nf(ef(t,l,u));const s=u=>T(a[u],1,1,()=>{a[u]=null});return{c(){e=P("div");for(let u=0;u<a.length;u+=1)a[u].c();n=B(),E(e,"class","row "+(t[10]%2!==0?"odd-row":"")+" svelte-1udphho")},m(u,f){O(u,e,f);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(e,null);v(e,n),o=!0,i||(r=ee(e,"click",t[0]),i=!0)},p(u,f){if(f&2){l=Ue(u[8]);let c;for(c=0;c<l.length;c+=1){const d=ef(u,l,c);a[c]?(a[c].p(d,f),k(a[c],1)):(a[c]=nf(d),a[c].c(),k(a[c],1),a[c].m(e,n))}for(Me(),c=l.length;c<a.length;c+=1)s(c);Oe()}},i(u){if(!o){for(let f=0;f<l.length;f+=1)k(a[f]);o=!0}},o(u){a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)T(a[f]);o=!1},d(u){u&&M(e),ut(a,u),i=!1,r()}}}function rf(t){let e,n;return e=new ld({props:{x:t[4].x,y:t[4].y,open:t[4].visible}}),{c(){U(e.$$.fragment)},m(o,i){x(e,o,i),n=!0},p(o,i){const r={};i&16&&(r.x=o[4].x),i&16&&(r.y=o[4].y),i&16&&(r.open=o[4].visible),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function lf(t){let e,n,o=t[4].visible&&rf(t);return{c(){o&&o.c(),e=Le()},m(i,r){o&&o.m(i,r),O(i,e,r),n=!0},p(i,r){i[4].visible?o?(o.p(i,r),r&16&&k(o,1)):(o=rf(i),o.c(),k(o,1),o.m(e.parentNode,e)):o&&(Me(),T(o,1,1,()=>{o=null}),Oe())},i(i){n||(k(o),n=!0)},o(i){T(o),n=!1},d(i){i&&M(e),o&&o.d(i)}}}function M4(t){let e,n,o=t[1]!=null&&tf(t);return{c(){o&&o.c(),e=Le()},m(i,r){o&&o.m(i,r),O(i,e,r),n=!0},p(i,[r]){i[1]!=null?o?(o.p(i,r),r&2&&k(o,1)):(o=tf(i),o.c(),k(o,1),o.m(e.parentNode,e)):o&&(Me(),T(o,1,1,()=>{o=null}),Oe())},i(i){n||(k(o),n=!0)},o(i){T(o),n=!1},d(i){i&&M(e),o&&o.d(i)}}}function O4(t,e,n){let o,i,r;le(t,io,c=>n(3,o=c)),le(t,$e,c=>n(1,i=c)),le(t,Qe,c=>n(4,r=c));let l,a=0,s=["margin-left: -50px; margin-top: -50px; scale: 0.6;","margin-left: 300px; margin-top: 200px; scale: 1;","margin-left: 650px; margin-top: 600px; scale: 1.5;"];document.addEventListener("keypress",function(c){c.key==="z"&&(a==s.length-1?n(5,a=0):n(5,a++,a))}),document.addEventListener("click",function(c){const d=c.target;(d.dataset.x==null&&d.dataset.type!="-1"&&d.dataset.size!=null||d.id=="plotContainerMain"||d.classList.contains("row")||d.classList.contains("grid"))&&Se(Qe,r.visible=!1,r)});function u(){let c=[];for(let d=0;d<i.plots.length;d++)for(let m=0;m<i.plots.length;m++)Wo(d,m,i)&&i.plots[d][m].active==!1&&c.push(i.plots[d][m])}function f(){Se(io,o={},o)}return t.$$.update=()=>{t.$$.dirty&2&&i&&u(),t.$$.dirty&32&&n(2,l=s[a])},[f,i,l,o,r,a]}class P4 extends pe{constructor(e){super(),me(this,e,O4,M4,ce,{restartModifyPlotMenu:0})}get restartModifyPlotMenu(){return this.$$.ctx[0]}}function sf(t,e,n){const o=t.slice();return o[5]=e[n],o}function af(t){let e,n;return e=new Jg({props:{thumb:t[5],class:"block h-4 w-4  bg-accent focus-visible:outline-none  disabled:pointer-events-none disabled:opacity-50"}}),{c(){U(e.$$.fragment)},m(o,i){x(e,o,i),n=!0},p(o,i){const r={};i&16&&(r.thumb=o[5]),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function N4(t){let e,n,o,i,r;n=new Vg({props:{class:"absolute h-full bg-primary"}});let l=Ue(t[4]),a=[];for(let u=0;u<l.length;u+=1)a[u]=af(sf(t,l,u));const s=u=>T(a[u],1,1,()=>{a[u]=null});return{c(){e=P("span"),U(n.$$.fragment),o=B();for(let u=0;u<a.length;u+=1)a[u].c();i=Le(),E(e,"class","relative h-2 w-full grow overflow-hidden bg-black")},m(u,f){O(u,e,f),x(n,e,null),O(u,o,f);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(u,f);O(u,i,f),r=!0},p(u,f){if(f&16){l=Ue(u[4]);let c;for(c=0;c<l.length;c+=1){const d=sf(u,l,c);a[c]?(a[c].p(d,f),k(a[c],1)):(a[c]=af(d),a[c].c(),k(a[c],1),a[c].m(i.parentNode,i))}for(Me(),c=l.length;c<a.length;c+=1)s(c);Oe()}},i(u){if(!r){k(n.$$.fragment,u);for(let f=0;f<l.length;f+=1)k(a[f]);r=!0}},o(u){T(n.$$.fragment,u),a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)T(a[f]);r=!1},d(u){u&&(M(e),M(o),M(i)),Y(n),ut(a,u)}}}function E4(t){let e,n,o;const i=[{class:Ge("relative flex w-full touch-none select-none items-center",t[1])},t[2]];function r(a){t[3](a)}let l={$$slots:{default:[N4,({thumbs:a})=>({4:a}),({thumbs:a})=>a?16:0]},$$scope:{ctx:t}};for(let a=0;a<i.length;a+=1)l=J(l,i[a]);return t[0]!==void 0&&(l.value=t[0]),e=new jg({props:l}),Ee.push(()=>Ut(e,"value",r)),{c(){U(e.$$.fragment)},m(a,s){x(e,a,s),o=!0},p(a,[s]){const u=s&6?Ce(i,[s&2&&{class:Ge("relative flex w-full touch-none select-none items-center",a[1])},s&4&&st(a[2])]):{};s&272&&(u.$$scope={dirty:s,ctx:a}),!n&&s&1&&(n=!0,u.value=a[0],Vt(()=>n=!1)),e.$set(u)},i(a){o||(k(e.$$.fragment,a),o=!0)},o(a){T(e.$$.fragment,a),o=!1},d(a){Y(e,a)}}}function $4(t,e,n){const o=["class","value"];let i=ae(e,o),{class:r=void 0}=e,{value:l=[0]}=e;function a(s){l=s,n(0,l)}return t.$$set=s=>{e=J(J({},e),je(s)),n(2,i=ae(e,o)),"class"in s&&n(1,r=s.class),"value"in s&&n(0,l=s.value)},[l,r,i,a]}class uf extends pe{constructor(e){super(),me(this,e,$4,E4,ce,{class:1,value:0})}}function ff(t,e,n){const o=t.slice();return o[14]=e[n],o}function cf(t){let e;return{c(){e=P("p"),e.textContent="No alerts",E(e,"class","text-center text-xs opacity-50 svelte-1m80q9z")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function df(t){let e,n,o,i=t[14].day+"",r,l,a,s=t[14].message+"",u,f,c;return{c(){e=P("div"),n=P("p"),o=G("DAY "),r=G(i),l=B(),a=P("p"),u=G(s),f=B(),E(n,"class","font-mono text-[10px]  svelte-1m80q9z"),E(a,"class","text-xs svelte-1m80q9z"),E(e,"class",c="px-2 py-2 rounded-2xl fade-in mb-4 "+(t[14].vibe==ot.BAD?"bg-white text-textDanger border ":t[14].vibe==ot.GOOD?"bg-green-300":(t[14].vibe==ot.NORMAL,"bg-accent"))+" svelte-1m80q9z")},m(d,m){O(d,e,m),v(e,n),v(n,o),v(n,r),v(e,l),v(e,a),v(a,u),v(e,f)},p(d,m){m&2&&i!==(i=d[14].day+"")&&se(r,i),m&2&&s!==(s=d[14].message+"")&&se(u,s),m&2&&c!==(c="px-2 py-2 rounded-2xl fade-in mb-4 "+(d[14].vibe==ot.BAD?"bg-white text-textDanger border ":d[14].vibe==ot.GOOD?"bg-green-300":(d[14].vibe==ot.NORMAL,"bg-accent"))+" svelte-1m80q9z")&&E(e,"class",c)},d(d){d&&M(e)}}}function R4(t){let e,n,o,i,r,l,a,s,u,f,c,d=Nt(t[1].economyAndLaws.tax_rate*100,0)+"",m,h,_,p,w,y,S,R,q,j,$=Nt(t[1].townInfo.productivity,0)+"",L,I,N,A,g,C,D,W,F,V,K,Z,te,z,ne,ke,we,oe,Fe,b,Q,X,ue=t[0]=="true"?"🔇":"🔊",Te,de,Pe,qe,He,De,Je,Xe;p=new uf({props:{value:[t[1].economyAndLaws.tax_rate],onValueChange:t[8],min:0,max:.5,step:.05,class:"cursor-pointer w-[75%]"}}),A=new uf({props:{value:[t[1].townInfo.productivity],onValueChange:t[7],min:0,max:200,step:5,class:"cursor-pointer w-[75%]"}}),V=new en({props:{text:t[3]?"Select an active plot!":"👑 Set your location (boost)",onOpen:t[9]}}),Z=new en({props:{text:"🧠 Sell Knowledge",onOpen:t[10]}}),z=new en({props:{text:"🏢 Manage City",onOpen:t[11]}}),ke=new en({props:{text:t[1].lab.active_experiment!==null?`${t[1].lab.active_experiment.duration}`:"🧪 Manage Lab",onOpen:t[6],opacity:Be("lab",t[1]).length>=1?100:30,onHoverText:Be("lab",t[1]).length>=1?"":"Build a Lab to perform experiments. Experiments can save lives, make money, or generally improve your town."}});let Ye=t[1].townLog.length==0&&cf(),Ie=Ue(t[1].townLog),Ne=[];for(let Re=0;Re<Ie.length;Re+=1)Ne[Re]=df(ff(t,Ie,Re));return{c(){e=P("div"),n=P("div"),o=P("div"),i=P("div"),r=P("div"),l=P("div"),a=P("h1"),a.textContent="Laws",s=B(),u=P("span"),u.textContent="Tax Rate",f=B(),c=P("span"),m=G(d),h=G("%"),_=B(),U(p.$$.fragment),w=B(),y=P("div"),S=P("div"),R=P("span"),R.textContent="Productivity",q=B(),j=P("span"),L=G($),I=G("%"),N=B(),U(A.$$.fragment),g=B(),C=P("div"),D=P("h1"),D.textContent="Menus",W=B(),F=P("div"),U(V.$$.fragment),K=B(),U(Z.$$.fragment),te=B(),U(z.$$.fragment),ne=B(),U(ke.$$.fragment),we=B(),oe=P("div"),Fe=P("div"),b=P("h3"),b.innerHTML='<h1 class="text-lg w-full text-center svelte-1m80q9z">Alerts</h1>',Q=B(),X=P("button"),Te=G(ue),de=B(),Pe=P("div"),Ye&&Ye.c(),qe=B();for(let Re=0;Re<Ne.length;Re+=1)Ne[Re].c();E(a,"class","text-lg w-full text-center pb-2 svelte-1m80q9z"),E(u,"class","text-sm svelte-1m80q9z"),E(c,"class","text-sm svelte-1m80q9z"),E(l,"class","mb-1 svelte-1m80q9z"),E(r,"class","flex flex-col justify-center w-full text-center items-center gap-1 min-h-12 pb-2 rounded-xl svelte-1m80q9z"),E(R,"class","text-sm svelte-1m80q9z"),E(j,"class","text-sm svelte-1m80q9z"),E(S,"class","mb-1 svelte-1m80q9z"),E(y,"class","flex flex-col justify-center w-full text-center items-center gap-2 svelte-1m80q9z"),E(i,"class","flex flex-col gap-2 rounded-xl text-center justify-center mb-2 mt-0 pt-2 svelte-1m80q9z"),E(D,"class","text-lg w-full text-center pb-2 svelte-1m80q9z"),E(F,"class","flex flex-col gap-2 svelte-1m80q9z"),E(C,"class","svelte-1m80q9z"),E(b,"class","text-md cursor-pointer  svelte-1m80q9z"),E(X,"class","svelte-1m80q9z"),E(Fe,"class","flex flex-row gap-2 items-start justify-center pb-2 svelte-1m80q9z"),E(Pe,"class","overflow-y-scroll h-[100%] w-[100%] pb-4 scroll-smooth svelte-1m80q9z"),E(oe,"class","svelte-1m80q9z"),E(o,"class","flex flex-col justify-center mx-2 gap-8 svelte-1m80q9z"),E(n,"class","w-[220px] text-sidebarText bg-sidebarBackground overflow-scroll border-foregroundDark border-4 bottom-4 z-10 fixed left-3 py-2 top-[190px] drop-shadow-xl rounded-xl transition-all duration-300 svelte-1m80q9z"),E(e,"class",He="flex flex-row text-sidebarText bg-sidebarBackground overflow-clip "+(t[2].visible?"opacity-10":"")+" svelte-1m80q9z")},m(Re,ze){O(Re,e,ze),v(e,n),v(n,o),v(o,i),v(i,r),v(r,l),v(l,a),v(l,s),v(l,u),v(l,f),v(l,c),v(c,m),v(c,h),v(r,_),x(p,r,null),v(i,w),v(i,y),v(y,S),v(S,R),v(S,q),v(S,j),v(j,L),v(j,I),v(y,N),x(A,y,null),v(o,g),v(o,C),v(C,D),v(C,W),v(C,F),x(V,F,null),v(F,K),x(Z,F,null),v(F,te),x(z,F,null),v(F,ne),x(ke,F,null),v(o,we),v(o,oe),v(oe,Fe),v(Fe,b),v(Fe,Q),v(Fe,X),v(X,Te),v(oe,de),v(oe,Pe),Ye&&Ye.m(Pe,null),v(Pe,qe);for(let lt=0;lt<Ne.length;lt+=1)Ne[lt]&&Ne[lt].m(Pe,null);De=!0,Je||(Xe=[ee(b,"click",t[12]),ee(X,"click",t[13])],Je=!0)},p(Re,[ze]){(!De||ze&2)&&d!==(d=Nt(Re[1].economyAndLaws.tax_rate*100,0)+"")&&se(m,d);const lt={};ze&2&&(lt.value=[Re[1].economyAndLaws.tax_rate]),p.$set(lt),(!De||ze&2)&&$!==($=Nt(Re[1].townInfo.productivity,0)+"")&&se(L,$);const rt={};ze&2&&(rt.value=[Re[1].townInfo.productivity]),A.$set(rt);const ve={};ze&8&&(ve.text=Re[3]?"Select an active plot!":"👑 Set your location (boost)"),ze&8&&(ve.onOpen=Re[9]),V.$set(ve);const Ze={};ze&16&&(Ze.onOpen=Re[10]),Z.$set(Ze);const H={};ze&32&&(H.onOpen=Re[11]),z.$set(H);const ni={};if(ze&2&&(ni.text=Re[1].lab.active_experiment!==null?`${Re[1].lab.active_experiment.duration}`:"🧪 Manage Lab"),ze&2&&(ni.opacity=Be("lab",Re[1]).length>=1?100:30),ze&2&&(ni.onHoverText=Be("lab",Re[1]).length>=1?"":"Build a Lab to perform experiments. Experiments can save lives, make money, or generally improve your town."),ke.$set(ni),(!De||ze&1)&&ue!==(ue=Re[0]=="true"?"🔇":"🔊")&&se(Te,ue),Re[1].townLog.length==0?Ye||(Ye=cf(),Ye.c(),Ye.m(Pe,qe)):Ye&&(Ye.d(1),Ye=null),ze&2){Ie=Ue(Re[1].townLog);let Ot;for(Ot=0;Ot<Ie.length;Ot+=1){const El=ff(Re,Ie,Ot);Ne[Ot]?Ne[Ot].p(El,ze):(Ne[Ot]=df(El),Ne[Ot].c(),Ne[Ot].m(Pe,null))}for(;Ot<Ne.length;Ot+=1)Ne[Ot].d(1);Ne.length=Ie.length}(!De||ze&4&&He!==(He="flex flex-row text-sidebarText bg-sidebarBackground overflow-clip "+(Re[2].visible?"opacity-10":"")+" svelte-1m80q9z"))&&E(e,"class",He)},i(Re){De||(k(p.$$.fragment,Re),k(A.$$.fragment,Re),k(V.$$.fragment,Re),k(Z.$$.fragment,Re),k(z.$$.fragment,Re),k(ke.$$.fragment,Re),De=!0)},o(Re){T(p.$$.fragment,Re),T(A.$$.fragment,Re),T(V.$$.fragment,Re),T(Z.$$.fragment,Re),T(z.$$.fragment,Re),T(ke.$$.fragment,Re),De=!1},d(Re){Re&&M(e),Y(p),Y(A),Y(V),Y(Z),Y(z),Y(ke),Ye&&Ye.d(),ut(Ne,Re),Je=!1,xe(Xe)}}}function L4(t,e,n){let o,i,r,l,a;le(t,$e,w=>n(1,o=w)),le(t,Qe,w=>n(2,i=w)),le(t,lo,w=>n(3,r=w)),le(t,ro,w=>n(4,l=w)),le(t,so,w=>n(5,a=w));let s=localStorage.getItem("mute")||"false";function u(){o.hasLab&&Zn.set(!0)}function f(w){let y=o;y.townInfo.productivity=Nt(w[0],2),$e.set(y),localStorage.setItem(At,JSON.stringify(y))}function c(w){let y=o;y.economyAndLaws.tax_rate=Nt(w[0],2),$e.set(y),localStorage.setItem(At,JSON.stringify(y))}const d=function(){Se(lo,r=!r,r)},m=function(){Se(ro,l=!l,l)},h=function(){Se(so,a=!a,a)},_=()=>{Se($e,o.townLog=[],o)},p=()=>{localStorage.setItem("mute",s=="false"?"true":s==="true"?"false":"true"),n(0,s=localStorage.getItem("mute")||"false")};return n(0,s=localStorage.getItem("mute")||"false"),[s,o,i,r,l,a,u,f,c,d,m,h,_,p]}class D4 extends pe{constructor(e){super(),me(this,e,L4,R4,ce,{})}}function F4(t){let e,n,o,i,r,l,a,s,u,f,c,d,m;return o=new m3({}),l=new D4({}),s=new P4({}),f=new id({}),d=new ld({}),{c(){e=P("div"),n=P("div"),U(o.$$.fragment),i=B(),r=P("div"),U(l.$$.fragment),a=B(),U(s.$$.fragment),u=B(),U(f.$$.fragment),c=B(),U(d.$$.fragment),E(r,"class","flex flex-row text-accentText"),E(e,"class","flex flex-col max-h-[100%] justify-between")},m(h,_){O(h,e,_),v(e,n),x(o,n,null),v(e,i),v(e,r),x(l,r,null),v(r,a),x(s,r,null),v(r,u),x(f,r,null),v(r,c),x(d,r,null),m=!0},p:ye,i(h){m||(k(o.$$.fragment,h),k(l.$$.fragment,h),k(s.$$.fragment,h),k(f.$$.fragment,h),k(d.$$.fragment,h),m=!0)},o(h){T(o.$$.fragment,h),T(l.$$.fragment,h),T(s.$$.fragment,h),T(f.$$.fragment,h),T(d.$$.fragment,h),m=!1},d(h){h&&M(e),Y(o),Y(l),Y(s),Y(f),Y(d)}}}class j4 extends pe{constructor(e){super(),me(this,e,null,F4,ce,{})}}function q4(t){let e=t[1].townInfo.name+"",n;return{c(){n=G(e)},m(o,i){O(o,n,i)},p(o,i){i&2&&e!==(e=o[1].townInfo.name+"")&&se(n,e)},d(o){o&&M(n)}}}function B4(t){let e,n,o,i=t[1].townInfo.name+"",r,l,a,s;return{c(){e=P("span"),n=G("The town of "),o=P("span"),r=G(i),l=G(` has been
          founded!`),a=B(),s=P("span"),s.textContent="Start by building some homes, some farms, and a tree farm.",E(o,"class","text-accent")},m(u,f){O(u,e,f),v(e,n),v(e,o),v(o,r),v(e,l),O(u,a,f),O(u,s,f)},p(u,f){f&2&&i!==(i=u[1].townInfo.name+"")&&se(r,i)},d(u){u&&(M(e),M(a),M(s))}}}function H4(t){let e,n,o,i;return e=new ln({props:{class:"text-xl font-semibold text-center",$$slots:{default:[q4]},$$scope:{ctx:t}}}),o=new Hn({props:{class:"text-center mt-2 text-sm text-sidebarText/80 flex flex-col gap-2",$$slots:{default:[B4]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),n=B(),U(o.$$.fragment)},m(r,l){x(e,r,l),O(r,n,l),x(o,r,l),i=!0},p(r,l){const a={};l&18&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&18&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){T(e.$$.fragment,r),T(o.$$.fragment,r),i=!1},d(r){r&&M(n),Y(e,r),Y(o,r)}}}function G4(t){let e,n,o;return{c(){e=P("button"),e.textContent="Begin",E(e,"class","bg-accent hover:bg-accent/80 text-white px-4 py-2 rounded-md transition-colors")},m(i,r){O(i,e,r),n||(o=ee(e,"click",t[2]),n=!0)},p:ye,d(i){i&&M(e),n=!1,o()}}}function W4(t){let e,n,o,i;return e=new sn({props:{$$slots:{default:[H4]},$$scope:{ctx:t}}}),o=new Cn({props:{class:"mt-4 flex justify-center",$$slots:{default:[G4]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),n=B(),U(o.$$.fragment)},m(r,l){x(e,r,l),O(r,n,l),x(o,r,l),i=!0},p(r,l){const a={};l&18&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&17&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){T(e.$$.fragment,r),T(o.$$.fragment,r),i=!1},d(r){r&&M(n),Y(e,r),Y(o,r)}}}function V4(t){let e,n;return e=new an({props:{transition:ho,class:"bg-sidebarBackground text-sidebarText max-w-md rounded-md shadow-xl border border-accent p-4",$$slots:{default:[W4]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(o,i){x(e,o,i),n=!0},p(o,i){const r={};i&19&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function x4(t){let e,n,o;function i(l){t[3](l)}let r={$$slots:{default:[V4]},$$scope:{ctx:t}};return t[0]!==void 0&&(r.open=t[0]),e=new un({props:r}),Ee.push(()=>Ut(e,"open",i)),{c(){U(e.$$.fragment)},m(l,a){x(e,l,a),o=!0},p(l,[a]){const s={};a&19&&(s.$$scope={dirty:a,ctx:l}),!n&&a&1&&(n=!0,s.open=l[0],Vt(()=>n=!1)),e.$set(s)},i(l){o||(k(e.$$.fragment,l),o=!0)},o(l){T(e.$$.fragment,l),o=!1},d(l){Y(e,l)}}}function Y4(t,e,n){let o,i;le(t,_i,a=>n(0,o=a)),le(t,$e,a=>n(1,i=a));const r=()=>Se(_i,o=!1,o);function l(a){o=a,_i.set(o)}return[o,i,r,l]}class U4 extends pe{constructor(e){super(),me(this,e,Y4,x4,ce,{})}}function mf(t,e,n){const o=t.slice();return o[7]=e[n],o}function K4(t){let e,n,o=t[0].townInfo.name+"",i,r,l,a,s=t[0].resources.bureaucracy+"",u;return{c(){e=P("div"),n=P("span"),i=G(o),r=B(),l=P("span"),a=G("🧑‍⚖️ "),u=G(s),E(e,"class","flex justify-between mr-10")},m(f,c){O(f,e,c),v(e,n),v(n,i),v(e,r),v(e,l),v(l,a),v(l,u)},p(f,c){c&1&&o!==(o=f[0].townInfo.name+"")&&se(i,o),c&1&&s!==(s=f[0].resources.bureaucracy+"")&&se(u,s)},d(f){f&&M(e)}}}function pf(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,h,_=t[0].townInfo.guardians+"",p,w,y,S,R,q=t[0].townInfo.population_count-t[0].townInfo.employees+"",j,$,L;return e=new St({props:{class:"mb-4"}}),d=new It({props:{class:`bg-accent rounded-2xl h-min select-none
            `+(t[0].townInfo.guardians<=0?"opacity-50 cursor-not-allowed":"")+`
            `,$$slots:{default:[X4]},$$scope:{ctx:t}}}),d.$on("click",t[2]),y=new It({props:{class:`bg-accent rounded-2xl h-min select-none
            
              `+(t[0].townInfo.employees>=t[0].townInfo.population_count?"opacity-50 cursor-not-allowed":"")+`
            `,$$slots:{default:[J4]},$$scope:{ctx:t}}}),y.$on("click",t[3]),{c(){U(e.$$.fragment),n=B(),o=P("div"),i=P("span"),i.textContent="Hire Guardians ⚔️",r=B(),l=P("br"),a=B(),s=P("span"),s.textContent=`Guardians work for you and are required to expand your kingdom.
            They do not generate revenue, but still require housing & food.`,u=B(),f=P("div"),c=P("div"),U(d.$$.fragment),m=B(),h=P("span"),p=G(_),w=B(),U(y.$$.fragment),S=B(),R=P("span"),j=G(q),$=G(`
              unemployed available for hire.`),E(i,"class","text-lg font-bold"),E(s,"class","text-sm"),E(h,"class","text-lg font-bold select-none px-2"),E(R,"class","w-max"),E(f,"class","flex flex-row justify-between align-middle items-center pt-2 pb-2 gap-2 "),E(o,"class","w-full")},m(I,N){x(e,I,N),O(I,n,N),O(I,o,N),v(o,i),v(o,r),v(o,l),v(o,a),v(o,s),v(o,u),v(o,f),v(f,c),x(d,c,null),v(c,m),v(c,h),v(h,p),v(c,w),x(y,c,null),v(f,S),v(f,R),v(R,j),v(R,$),L=!0},p(I,N){const A={};N&1&&(A.class=`bg-accent rounded-2xl h-min select-none
            `+(I[0].townInfo.guardians<=0?"opacity-50 cursor-not-allowed":"")+`
            `),N&1024&&(A.$$scope={dirty:N,ctx:I}),d.$set(A),(!L||N&1)&&_!==(_=I[0].townInfo.guardians+"")&&se(p,_);const g={};N&1&&(g.class=`bg-accent rounded-2xl h-min select-none
            
              `+(I[0].townInfo.employees>=I[0].townInfo.population_count?"opacity-50 cursor-not-allowed":"")+`
            `),N&1024&&(g.$$scope={dirty:N,ctx:I}),y.$set(g),(!L||N&1)&&q!==(q=I[0].townInfo.population_count-I[0].townInfo.employees+"")&&se(j,q)},i(I){L||(k(e.$$.fragment,I),k(d.$$.fragment,I),k(y.$$.fragment,I),L=!0)},o(I){T(e.$$.fragment,I),T(d.$$.fragment,I),T(y.$$.fragment,I),L=!1},d(I){I&&(M(n),M(o)),Y(e,I),Y(d),Y(y)}}}function X4(t){let e;return{c(){e=G("-")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function J4(t){let e;return{c(){e=G("+")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function Z4(t){let e;return{c(){e=G("Build a City Hall to manage your city.")},m(n,o){O(n,e,o)},p:ye,i:ye,o:ye,d(n){n&&M(e)}}}function Q4(t){let e,n,o,i,r=Ue(Dr),l=[];for(let s=0;s<r.length;s+=1)l[s]=hf(mf(t,r,s));const a=s=>T(l[s],1,1,()=>{l[s]=null});return{c(){e=P("span"),e.textContent="Laws 🧑‍⚖️",n=B();for(let s=0;s<l.length;s+=1)l[s].c();o=Le(),E(e,"class","text-lg font-bold")},m(s,u){O(s,e,u),O(s,n,u);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(s,u);O(s,o,u),i=!0},p(s,u){if(u&1){r=Ue(Dr);let f;for(f=0;f<r.length;f+=1){const c=mf(s,r,f);l[f]?(l[f].p(c,u),k(l[f],1)):(l[f]=hf(c),l[f].c(),k(l[f],1),l[f].m(o.parentNode,o))}for(Me(),f=r.length;f<l.length;f+=1)a(f);Oe()}},i(s){if(!i){for(let u=0;u<r.length;u+=1)k(l[u]);i=!0}},o(s){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)T(l[u]);i=!1},d(s){s&&(M(e),M(n),M(o)),ut(l,s)}}}function z4(t){let e,n=t[7].cost+"",o;return{c(){e=G("Enact for 🧑‍⚖️ "),o=G(n)},m(i,r){O(i,e,r),O(i,o,r)},d(i){i&&(M(e),M(o))}}}function eC(t){let e;return{c(){e=G("Repeal ❌")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function tC(t){let e,n;function o(l,a){return a&1&&(e=null),e==null&&(e=!!l[0].economyAndLaws.enacted.includes(l[7].id)),e?eC:z4}let i=o(t,-1),r=i(t);return{c(){r.c(),n=Le()},m(l,a){r.m(l,a),O(l,n,a)},p(l,a){i!==(i=o(l,a))&&(r.d(1),r=i(l),r&&(r.c(),r.m(n.parentNode,n)))},d(l){l&&M(n),r.d(l)}}}function hf(t){let e,n,o,i,r,l,a;function s(){return t[4](t[7])}return i=new It({props:{class:`bg-accent rounded-2xl 
                `+(t[0].economyAndLaws.enacted.includes(t[7].id)?"bg-textDanger":"bg-accent")+`

                `+(t[0].economyAndLaws.enacted.includes(t[7].id)||t[7].cost<=t[0].resources.bureaucracy?"cursor-pointer":"cursor-not-allowed opacity-30")+`
                `,$$slots:{default:[tC]},$$scope:{ctx:t}}}),i.$on("click",s),l=new St({props:{class:"bg-white opacity-30"}}),{c(){e=P("div"),n=P("span"),n.textContent=`${t[7].description}`,o=B(),U(i.$$.fragment),r=B(),U(l.$$.fragment),E(n,"class","text-sm"),E(e,"class","flex justify-between align-middle items-center pt-2 pb-2 gap-2 ")},m(u,f){O(u,e,f),v(e,n),v(e,o),x(i,e,null),O(u,r,f),x(l,u,f),a=!0},p(u,f){t=u;const c={};f&1&&(c.class=`bg-accent rounded-2xl 
                `+(t[0].economyAndLaws.enacted.includes(t[7].id)?"bg-textDanger":"bg-accent")+`

                `+(t[0].economyAndLaws.enacted.includes(t[7].id)||t[7].cost<=t[0].resources.bureaucracy?"cursor-pointer":"cursor-not-allowed opacity-30")+`
                `),f&1025&&(c.$$scope={dirty:f,ctx:t}),i.$set(c)},i(u){a||(k(i.$$.fragment,u),k(l.$$.fragment,u),a=!0)},o(u){T(i.$$.fragment,u),T(l.$$.fragment,u),a=!1},d(u){u&&(M(e),M(r)),Y(i),Y(l,u)}}}function nC(t){let e,n,o,i,r=Be("city_hall",t[0]).length>0,l,a,s,u,f,c,d,m;e=new ln({props:{class:"text-lg",$$slots:{default:[K4]},$$scope:{ctx:t}}}),o=new Hn({props:{class:"w-full "}});let h=r&&pf(t);a=new St({props:{class:"mb-4"}});const _=[Q4,Z4],p=[];function w(y,S){return S&1&&(f=null),f==null&&(f=Be("city_hall",y[0]).length>0),f?0:1}return c=w(t,-1),d=p[c]=_[c](t),{c(){U(e.$$.fragment),n=B(),U(o.$$.fragment),i=B(),h&&h.c(),l=B(),U(a.$$.fragment),s=B(),u=P("div"),d.c(),E(u,"class","w-full")},m(y,S){x(e,y,S),O(y,n,S),x(o,y,S),O(y,i,S),h&&h.m(y,S),O(y,l,S),x(a,y,S),O(y,s,S),O(y,u,S),p[c].m(u,null),m=!0},p(y,S){const R={};S&1025&&(R.$$scope={dirty:S,ctx:y}),e.$set(R),S&1&&(r=Be("city_hall",y[0]).length>0),r?h?(h.p(y,S),S&1&&k(h,1)):(h=pf(y),h.c(),k(h,1),h.m(l.parentNode,l)):h&&(Me(),T(h,1,1,()=>{h=null}),Oe());let q=c;c=w(y,S),c===q?p[c].p(y,S):(Me(),T(p[q],1,1,()=>{p[q]=null}),Oe(),d=p[c],d?d.p(y,S):(d=p[c]=_[c](y),d.c()),k(d,1),d.m(u,null))},i(y){m||(k(e.$$.fragment,y),k(o.$$.fragment,y),k(h),k(a.$$.fragment,y),k(d),m=!0)},o(y){T(e.$$.fragment,y),T(o.$$.fragment,y),T(h),T(a.$$.fragment,y),T(d),m=!1},d(y){y&&(M(n),M(i),M(l),M(s),M(u)),Y(e,y),Y(o,y),h&&h.d(y),Y(a,y),p[c].d()}}}function oC(t){let e,n,o,i;return e=new sn({props:{$$slots:{default:[nC]},$$scope:{ctx:t}}}),o=new Cn({}),{c(){U(e.$$.fragment),n=B(),U(o.$$.fragment)},m(r,l){x(e,r,l),O(r,n,l),x(o,r,l),i=!0},p(r,l){const a={};l&1025&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){T(e.$$.fragment,r),T(o.$$.fragment,r),i=!1},d(r){r&&M(n),Y(e,r),Y(o,r)}}}function iC(t){let e,n;return e=new an({props:{class:"bg-foreground text-accentText h-[80vh] w-full scroll",$$slots:{default:[oC]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(o,i){x(e,o,i),n=!0},p(o,i){const r={};i&1025&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function rC(t){let e,n,o;function i(l){t[5](l)}let r={$$slots:{default:[iC]},$$scope:{ctx:t}};return t[1]!==void 0&&(r.open=t[1]),e=new un({props:r}),Ee.push(()=>Ut(e,"open",i)),{c(){U(e.$$.fragment)},m(l,a){x(e,l,a),o=!0},p(l,[a]){const s={};a&1025&&(s.$$scope={dirty:a,ctx:l}),!n&&a&2&&(n=!0,s.open=l[1],Vt(()=>n=!1)),e.$set(s)},i(l){o||(k(e.$$.fragment,l),o=!0)},o(l){T(e.$$.fragment,l),o=!1},d(l){Y(e,l)}}}function lC(t,e,n){let o,i;le(t,$e,u=>n(0,o=u)),le(t,so,u=>n(1,i=u));const r=()=>{o.townInfo.guardians>0?(Se($e,o.townInfo.guardians-=1,o),Se($e,o.townInfo.employees-=1,o)):Ct.set("No guardians to fire.")},l=()=>{o.townInfo.employees<o.townInfo.population_count?(Se($e,o.townInfo.guardians+=1,o),Se($e,o.townInfo.employees+=1,o)):Ct.set("Not enough people.")},a=u=>{o.economyAndLaws.enacted.includes(u.id)?o.economyAndLaws.enacted.splice(o.economyAndLaws.enacted.indexOf(u.id),1):u.cost<=o.resources.bureaucracy?(Se($e,o.resources.bureaucracy-=u.cost,o),o.economyAndLaws.enacted.push(u.id)):Ct.set("Not enough bureaucracy!")};function s(u){i=u,so.set(i)}return t.$$.update=()=>{t.$$.dirty&1},[o,i,r,l,a,s]}class sC extends pe{constructor(e){super(),me(this,e,lC,rC,ce,{})}}function aC(t){let e;return{c(){e=G("Got it")},m(n,o){O(n,e,o)},d(n){n&&M(e)}}}function uC(t){let e,n,o,i,r,l,a,s;return r=new wc({props:{class:"bg-accent hover:scale-105 min-w-[70%] transition-all duration-150 mt-2",$$slots:{default:[aC]},$$scope:{ctx:t}}}),r.$on("click",t[1]),a=new yl({}),{c(){e=P("span"),n=G("🛎️ "),o=new Zt(!1),i=B(),U(r.$$.fragment),l=B(),U(a.$$.fragment),o.a=null,E(e,"class","whitespace-pre-wrap overflow-scroll text-center sm:whitespace-normal break-all sm:text-md sm:font-semibold sm:py-4 sm:items-center sm:justify-center"),tt(e,"max-height","80%")},m(u,f){O(u,e,f),v(e,n),o.m(t[0],e),O(u,i,f),x(r,u,f),O(u,l,f),x(a,u,f),s=!0},p(u,f){(!s||f&1)&&o.p(u[0]);const c={};f&4&&(c.$$scope={dirty:f,ctx:u}),r.$set(c)},i(u){s||(k(r.$$.fragment,u),k(a.$$.fragment,u),s=!0)},o(u){T(r.$$.fragment,u),T(a.$$.fragment,u),s=!1},d(u){u&&(M(e),M(i),M(l)),Y(r,u),Y(a,u)}}}function fC(t){let e,n;return e=new wl({props:{class:`bg-foregroundDark text-white rounded-input shadow-3xl justify-center items-center flex flex-col py-2 text-lg font-semibold p-2 min-w-96 min-h-36
         sm:rounded-2xl sm:flex sm:flex-col sm:p-6 sm:text-md sm:font-semibold sm:py-4 sm:items-center sm:justify-center max-h-[50vh]

         `,$$slots:{default:[uC]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(o,i){x(e,o,i),n=!0},p(o,i){const r={};i&5&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function cC(t){let e,n;return e=new kl({props:{open:t[0]!="",$$slots:{default:[fC]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(o,i){x(e,o,i),n=!0},p(o,[i]){const r={};i&1&&(r.open=o[0]!=""),i&5&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function dC(t,e,n){let o;return le(t,Ct,r=>n(0,o=r)),[o,()=>{Ct.set("")}]}class mC extends pe{constructor(e){super(),me(this,e,dC,cC,ce,{})}}function _f(t){let e,n,o,i;const r=[hC,pC],l=[];function a(s,u){return s[0]==null?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Le()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),T(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){T(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function pC(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,h,_,p,w,y,S,R,q,j=t[2]==!0&&gf();n=new j4({}),i=new $m({}),l=new Bv({}),s=new _y({}),f=new G5({}),d=new f3({}),h=new sC({}),p=new mC({}),y=new Ov({});let $=t[0].environment.day==0&&t[3]&&bf();return{c(){j&&j.c(),e=B(),U(n.$$.fragment),o=B(),U(i.$$.fragment),r=B(),U(l.$$.fragment),a=B(),U(s.$$.fragment),u=B(),U(f.$$.fragment),c=B(),U(d.$$.fragment),m=B(),U(h.$$.fragment),_=B(),U(p.$$.fragment),w=B(),U(y.$$.fragment),S=B(),$&&$.c(),R=Le()},m(L,I){j&&j.m(L,I),O(L,e,I),x(n,L,I),O(L,o,I),x(i,L,I),O(L,r,I),x(l,L,I),O(L,a,I),x(s,L,I),O(L,u,I),x(f,L,I),O(L,c,I),x(d,L,I),O(L,m,I),x(h,L,I),O(L,_,I),x(p,L,I),O(L,w,I),x(y,L,I),O(L,S,I),$&&$.m(L,I),O(L,R,I),q=!0},p(L,I){L[2]==!0?j?I&4&&k(j,1):(j=gf(),j.c(),k(j,1),j.m(e.parentNode,e)):j&&(Me(),T(j,1,1,()=>{j=null}),Oe()),L[0].environment.day==0&&L[3]?$?I&9&&k($,1):($=bf(),$.c(),k($,1),$.m(R.parentNode,R)):$&&(Me(),T($,1,1,()=>{$=null}),Oe())},i(L){q||(k(j),k(n.$$.fragment,L),k(i.$$.fragment,L),k(l.$$.fragment,L),k(s.$$.fragment,L),k(f.$$.fragment,L),k(d.$$.fragment,L),k(h.$$.fragment,L),k(p.$$.fragment,L),k(y.$$.fragment,L),k($),q=!0)},o(L){T(j),T(n.$$.fragment,L),T(i.$$.fragment,L),T(l.$$.fragment,L),T(s.$$.fragment,L),T(f.$$.fragment,L),T(d.$$.fragment,L),T(h.$$.fragment,L),T(p.$$.fragment,L),T(y.$$.fragment,L),T($),q=!1},d(L){L&&(M(e),M(o),M(r),M(a),M(u),M(c),M(m),M(_),M(w),M(S),M(R)),j&&j.d(L),Y(n,L),Y(i,L),Y(l,L),Y(s,L),Y(f,L),Y(d,L),Y(h,L),Y(p,L),Y(y,L),$&&$.d(L)}}}function hC(t){let e,n;return e=new sy({}),{c(){U(e.$$.fragment)},m(o,i){x(e,o,i),n=!0},p:ye,i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function gf(t){let e,n;return e=new vv({}),{c(){U(e.$$.fragment)},m(o,i){x(e,o,i),n=!0},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function bf(t){let e,n;return e=new U4({}),{c(){U(e.$$.fragment)},m(o,i){x(e,o,i),n=!0},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function _C(t){let e,n,o=(t[1]||t[0]==null)&&_f(t);return{c(){o&&o.c(),e=Le()},m(i,r){o&&o.m(i,r),O(i,e,r),n=!0},p(i,[r]){i[1]||i[0]==null?o?(o.p(i,r),r&3&&k(o,1)):(o=_f(i),o.c(),k(o,1),o.m(e.parentNode,e)):o&&(Me(),T(o,1,1,()=>{o=null}),Oe())},i(i){n||(k(o),n=!0)},o(i){T(o),n=!1},d(i){i&&M(e),o&&o.d(i)}}}const gC=1e-4;function bC(t,e,n){return{r:Math.round(t.r+(e.r-t.r)*n),g:Math.round(t.g+(e.g-t.g)*n),b:Math.round(t.b+(e.b-t.b)*n)}}function vC(t,e,n){let o,i,r,l,a,s,u,f,c,d,m,h;le(t,io,$=>n(10,o=$)),le(t,Qe,$=>n(11,i=$)),le(t,Et,$=>n(2,r=$)),le(t,$e,$=>n(0,l=$)),le(t,lo,$=>n(5,a=$)),le(t,Bt,$=>n(12,s=$)),le(t,Ii,$=>n(13,u=$)),le(t,so,$=>n(14,f=$)),le(t,Zn,$=>n(15,c=$)),le(t,ro,$=>n(16,d=$)),le(t,jo,$=>n(17,m=$)),le(t,_i,$=>n(3,h=$));let _=!1;Pv();let p=!1;const w=[{r:85,g:60,b:40},{r:115,g:85,b:55},{r:70,g:100,b:50},{r:120,g:65,b:50}];let y=0,S=1,R=0;function q(){const $=bC(w[y],w[S],R);document.body.style.backgroundColor=`rgb(${$.r}, ${$.g}, ${$.b})`,R+=gC,R>=1&&(R=0,y=S,S=(S+1)%w.length),requestAnimationFrame(q)}q(),document.addEventListener("keydown",$=>{if((document.activeElement!=null&&document.activeElement.nodeName==="INPUT"||document.activeElement!=null&&document.activeElement.nodeName=="TEXTAREA")&&$.key!=="Escape")return;switch($.key.toLowerCase()){case"p":case"escape":if(d){Se(ro,d=!1,d);break}if(c){Se(Zn,c=!1,c);break}if(f){Se(so,f=!1,f);break}if(u){Se(Ii,u=!1,u);break}if(i.visible){Se(Qe,i.visible=!1,i);break}if(s.visible){const I=l.plots[s.x][s.y];I.active=!1,I.type=-1,I.disabled=!1,Se(Bt,s.visible=!1,s);break}if(a){lo.set(!1),document.querySelectorAll(".plot_container").forEach(N=>{N.style.cursor=""});break}Et.set(!r),r&&Se(Qe,i.visible=!1,i);break}});function j($,L,I){if(p==!0)switch(I){case"up":L-=2;break;case"down":L+=1;break;case"left":$-=2;break;case"right":$+=1;break}$<0?$=0:$>l.plots.length&&($=l.plots.length),L<0?L=0:L>l.plots.length&&(L=l.plots.length);let N=document.querySelectorAll(".plot_container"),A;if(N.forEach(g=>{g.dataset.x=="$x"&&g.dataset.y=="$y"&&(A=g)}),r==!1){if(A.dataset.canBeUpgraded==="true"?Se(Qe,i.visible=!0,i):Se(Qe,i.visible=!1,i),A.dataset.refPlotX!==void 0&&A.dataset.refPlotY!=""?(p=!0,N.forEach(g=>{g.dataset.x==A.dataset.refPlotX&&g.dataset.y==A.dataset.refPlotY&&(A=g,$=parseInt(A.dataset.x),L=parseInt(A.dataset.y))})):p=!1,A.dataset.size!=="1"&&A.dataset.size!==void 0&&(p=!0),Se(Qe,i.x=$,i),Se(Qe,i.y=L,i),N.forEach(g=>{g.classList.remove("selected"),g.style.fontWeight=""}),A.classList.add("selected"),p){let g="4px solid #00800045";A.classList.remove("selected"),A.style.borderTop=g,A.style.borderLeft=g,A.style.fontWeight="600",N.forEach(C=>{const D=parseInt(`${C.dataset.x}`),W=parseInt(`${C.dataset.y}`);D==$+1&&W==L&&(C.style.borderLeft=g,C.style.borderBottom=g),D==$&&W==L+1&&(C.style.borderTop=g,C.style.borderRight=g),D==$+1&&W==L+1&&(C.style.borderBottom=g,C.style.borderRight=g)})}A.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),Se(io,o={},o)}}return t.$$.update=()=>{t.$$.dirty&33&&(l?(Se(jo,m.visible=!1,m),n(1,_=!0),a==!0&&document.querySelectorAll(".plot_container").forEach(L=>{L.dataset.canbeupgraded=="true"&&(L.style.cursor="pointer",L.style.cursor="url('https://github.com/josephrcox/plots/raw/main/public/liege_place.cur'), auto")})):(Se(jo,m.visible=!0,m),n(1,_=!1)))},[l,_,r,h,j,a]}class yC extends pe{constructor(e){super(),me(this,e,vC,_C,ce,{openPlotMenu:4})}get openPlotMenu(){return this.$$.ctx[4]}}new yC({target:document.getElementById("app")});
