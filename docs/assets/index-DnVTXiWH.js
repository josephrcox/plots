var Cu=Object.defineProperty;var Su=(t,e,n)=>e in t?Cu(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Et=(t,e,n)=>(Su(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();function Au(t){const e=pako.gzip(JSON.stringify(t));return btoa(String.fromCharCode.apply(null,e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function Tu(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=atob(e),i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);const o=pako.ungzip(i,{to:"string"});return JSON.parse(o)}async function Iu(){let t=localStorage.getItem("plots_active_game_db");const e=await Au(t);console.log("http://localhost:5173/plots/?shareId="+e)}const eo=window.location.search.substring(1).split("&").reduce((t,e)=>{const[n,i]=e.split("=");return t[n]=i,t},{});if(eo.shareId!=null||eo.shareId!=null){console.log("DECRYPING FROM shareId");const t=JSON.parse(Tu(eo.shareId));let e=localStorage.getItem("plots_active_game_db");(e==""||e==null)&&localStorage.setItem("plots_active_game_db",JSON.stringify(t))}else console.log("COMPRESSING GAME TO SHARE"),Iu();function ue(){}const Yi=t=>t;function V(t,e){for(const n in e)t[n]=e[n];return t}function Zs(t){return t()}function dr(){return Object.create(null)}function qe(t){t.forEach(Zs)}function Mt(t){return typeof t=="function"}function le(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Nu(t){return Object.keys(t).length===0}function Ho(t,...e){if(t==null){for(const i of e)i(void 0);return ue}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Qs(t){let e;return Ho(t,n=>e=n)(),e}function se(t,e,n){t.$$.on_destroy.push(Ho(e,n))}function fe(t,e,n,i){if(t){const o=xs(t,e,n,i);return t[0](o)}}function xs(t,e,n,i){return t[1]&&i?V(n.ctx.slice(),t[1](i(e))):n.ctx}function ce(t,e,n,i){if(t[2]&&i){const o=t[2](i(n));if(e.dirty===void 0)return o;if(typeof o=="object"){const r=[],l=Math.max(e.dirty.length,o.length);for(let a=0;a<l;a+=1)r[a]=e.dirty[a]|o[a];return r}return e.dirty|o}return e.dirty}function de(t,e,n,i,o,r){if(o){const l=xs(e,n,i,r);t.p(l,o)}}function pe(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let i=0;i<n;i++)e[i]=-1;return e}return-1}function Ne(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function ne(t,e){const n={};e=new Set(e);for(const i in t)!e.has(i)&&i[0]!=="$"&&(n[i]=t[i]);return n}function ge(t,e,n){return t.set(n),e}function De(t){return t&&Mt(t.destroy)?t.destroy:ue}const zs=typeof window<"u";let Vo=zs?()=>window.performance.now():()=>Date.now(),Wo=zs?t=>requestAnimationFrame(t):ue;const _n=new Set;function ea(t){_n.forEach(e=>{e.c(t)||(_n.delete(e),e.f())}),_n.size!==0&&Wo(ea)}function Ko(t){let e;return _n.size===0&&Wo(ea),{promise:new Promise(n=>{_n.add(e={c:t,f:n})}),abort(){_n.delete(e)}}}function y(t,e){t.appendChild(e)}function ta(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function Mu(t){const e=P("style");return e.textContent="/* empty */",Eu(ta(t),e),e.sheet}function Eu(t,e){return y(t.head||t,e),e.sheet}function A(t,e,n){t.insertBefore(e,n||null)}function C(t){t.parentNode&&t.parentNode.removeChild(t)}function yt(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function P(t){return document.createElement(t)}function Ji(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function D(t){return document.createTextNode(t)}function G(){return D(" ")}function Pe(){return D("")}function K(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function O(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}const Pu=["width","height"];function re(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const i in e)e[i]==null?t.removeAttribute(i):i==="style"?t.style.cssText=e[i]:i==="__value"?t.value=t[i]=e[i]:n[i]&&n[i].set&&Pu.indexOf(i)===-1?t[i]=e[i]:O(t,i,e[i])}function yi(t,e){for(const n in e)O(t,n,e[n])}function Ou(t,e){Object.keys(e).forEach(n=>{$u(t,n,e[n])})}function $u(t,e,n){const i=e.toLowerCase();i in t?t[i]=typeof t[i]=="boolean"&&n===""?!0:n:e in t?t[e]=typeof t[e]=="boolean"&&n===""?!0:n:O(t,e,n)}function Ft(t){return/-/.test(t)?Ou:re}function Lu(t){return Array.from(t.childNodes)}function ae(t,e){e=""+e,t.data!==e&&(t.data=e)}function At(t,e){t.value=e??""}function wn(t,e,n,i){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,"")}function pr(t,e,n){for(let i=0;i<t.options.length;i+=1){const o=t.options[i];if(o.__value===e){o.selected=!0;return}}t.selectedIndex=-1}function na(t,e,{bubbles:n=!1,cancelable:i=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:i})}class Fu{constructor(e=!1){Et(this,"is_svg",!1);Et(this,"e");Et(this,"n");Et(this,"t");Et(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,n,i=null){this.e||(this.is_svg?this.e=Ji(n.nodeName):this.e=P(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(e)),this.i(i)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)A(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(C)}}const wi=new Map;let ki=0;function qu(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function Ru(t,e){const n={stylesheet:Mu(e),rules:{}};return wi.set(t,n),n}function Ci(t,e,n,i,o,r,l,a=0){const s=16.666/i;let u=`{
`;for(let g=0;g<=1;g+=s){const k=e+(n-e)*r(g);u+=g*100+`%{${l(k,1-k)}}
`}const f=u+`100% {${l(n,1-n)}}
}`,c=`__svelte_${qu(f)}_${a}`,p=ta(t),{stylesheet:h,rules:m}=wi.get(p)||Ru(p,t);m[c]||(m[c]=!0,h.insertRule(`@keyframes ${c} ${f}`,h.cssRules.length));const _=t.style.animation||"";return t.style.animation=`${_?`${_}, `:""}${c} ${i}ms linear ${o}ms 1 both`,ki+=1,c}function Si(t,e){const n=(t.style.animation||"").split(", "),i=n.filter(e?r=>r.indexOf(e)<0:r=>r.indexOf("__svelte")===-1),o=n.length-i.length;o&&(t.style.animation=i.join(", "),ki-=o,ki||Du())}function Du(){Wo(()=>{ki||(wi.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&C(e)}),wi.clear())})}let Kn;function Hn(t){Kn=t}function xn(){if(!Kn)throw new Error("Function called outside component initialization");return Kn}function Uo(t){xn().$$.on_mount.push(t)}function Bu(t){xn().$$.on_destroy.push(t)}function Gu(){const t=xn();return(e,n,{cancelable:i=!1}={})=>{const o=t.$$.callbacks[e];if(o){const r=na(e,n,{cancelable:i});return o.slice().forEach(l=>{l.call(t,r)}),!r.defaultPrevented}return!0}}function ia(t,e){return xn().$$.context.set(t,e),e}function oa(t){return xn().$$.context.get(t)}function Z(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(i=>i.call(this,e))}const pn=[],Ae=[];let gn=[];const go=[],ra=Promise.resolve();let bo=!1;function la(){bo||(bo=!0,ra.then(sa))}function Yo(){return la(),ra}function Qe(t){gn.push(t)}function en(t){go.push(t)}const to=new Set;let un=0;function sa(){if(un!==0)return;const t=Kn;do{try{for(;un<pn.length;){const e=pn[un];un++,Hn(e),ju(e.$$)}}catch(e){throw pn.length=0,un=0,e}for(Hn(null),pn.length=0,un=0;Ae.length;)Ae.pop()();for(let e=0;e<gn.length;e+=1){const n=gn[e];to.has(n)||(to.add(n),n())}gn.length=0}while(pn.length);for(;go.length;)go.pop()();bo=!1,to.clear(),Hn(t)}function ju(t){if(t.fragment!==null){t.update(),qe(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Qe)}}function Hu(t){const e=[],n=[];gn.forEach(i=>t.indexOf(i)===-1?e.push(i):n.push(i)),n.forEach(i=>i()),gn=e}let Mn;function Jo(){return Mn||(Mn=Promise.resolve(),Mn.then(()=>{Mn=null})),Mn}function Yt(t,e,n){t.dispatchEvent(na(`${e?"intro":"outro"}${n}`))}const di=new Set;let bt;function Me(){bt={r:0,c:[],p:bt}}function Ee(){bt.r||qe(bt.c),bt=bt.p}function w(t,e){t&&t.i&&(di.delete(t),t.i(e))}function T(t,e,n,i){if(t&&t.o){if(di.has(t))return;di.add(t),bt.c.push(()=>{di.delete(t),i&&(n&&t.d(1),i())}),t.o(e)}else i&&i()}const Xo={duration:0};function Dt(t,e,n){const i={direction:"in"};let o=e(t,n,i),r=!1,l,a,s=0;function u(){l&&Si(t,l)}function f(){const{delay:p=0,duration:h=300,easing:m=Yi,tick:_=ue,css:g}=o||Xo;g&&(l=Ci(t,0,1,h,p,m,g,s++)),_(0,1);const k=Vo()+p,I=k+h;a&&a.abort(),r=!0,Qe(()=>Yt(t,!0,"start")),a=Ko(M=>{if(r){if(M>=I)return _(1,0),Yt(t,!0,"end"),u(),r=!1;if(M>=k){const B=m((M-k)/h);_(B,1-B)}}return r})}let c=!1;return{start(){c||(c=!0,Si(t),Mt(o)?(o=o(i),Jo().then(f)):f())},invalidate(){c=!1},end(){r&&(u(),r=!1)}}}function Bt(t,e,n){const i={direction:"out"};let o=e(t,n,i),r=!0,l;const a=bt;a.r+=1;let s;function u(){const{delay:f=0,duration:c=300,easing:p=Yi,tick:h=ue,css:m}=o||Xo;m&&(l=Ci(t,1,0,c,f,p,m));const _=Vo()+f,g=_+c;Qe(()=>Yt(t,!1,"start")),"inert"in t&&(s=t.inert,t.inert=!0),Ko(k=>{if(r){if(k>=g)return h(0,1),Yt(t,!1,"end"),--a.r||qe(a.c),!1;if(k>=_){const I=p((k-_)/c);h(1-I,I)}}return r})}return Mt(o)?Jo().then(()=>{o=o(i),u()}):u(),{end(f){f&&"inert"in t&&(t.inert=s),f&&o.tick&&o.tick(1,0),r&&(l&&Si(t,l),r=!1)}}}function qt(t,e,n,i){let r=e(t,n,{direction:"both"}),l=i?0:1,a=null,s=null,u=null,f;function c(){u&&Si(t,u)}function p(m,_){const g=m.b-l;return _*=Math.abs(g),{a:l,b:m.b,d:g,duration:_,start:m.start,end:m.start+_,group:m.group}}function h(m){const{delay:_=0,duration:g=300,easing:k=Yi,tick:I=ue,css:M}=r||Xo,B={start:Vo()+_,b:m};m||(B.group=bt,bt.r+=1),"inert"in t&&(m?f!==void 0&&(t.inert=f):(f=t.inert,t.inert=!0)),a||s?s=B:(M&&(c(),u=Ci(t,l,m,g,_,k,M)),m&&I(0,1),a=p(B,g),Qe(()=>Yt(t,m,"start")),Ko(R=>{if(s&&R>s.start&&(a=p(s,g),s=null,Yt(t,a.b,"start"),M&&(c(),u=Ci(t,l,a.b,a.duration,0,k,r.css))),a){if(R>=a.end)I(l=a.b,1-l),Yt(t,a.b,"end"),s||(a.b?c():--a.group.r||qe(a.group.c)),a=null;else if(R>=a.start){const L=R-a.start;l=a.a+a.d*k(L/a.duration),I(l,1-l)}}return!!(a||s)}))}return{run(m){Mt(r)?Jo().then(()=>{r=r({direction:m?"in":"out"}),h(m)}):h(m)},end(){c(),a=s=null}}}function Ye(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Vu(t,e){t.d(1),e.delete(t.key)}function Wu(t,e,n,i,o,r,l,a,s,u,f,c){let p=t.length,h=r.length,m=p;const _={};for(;m--;)_[t[m].key]=m;const g=[],k=new Map,I=new Map,M=[];for(m=h;m--;){const H=c(o,r,m),x=n(H);let F=l.get(x);F?M.push(()=>F.p(H,e)):(F=u(x,H),F.c()),k.set(x,g[m]=F),x in _&&I.set(x,Math.abs(m-_[x]))}const B=new Set,R=new Set;function L(H){w(H,1),H.m(a,f),l.set(H.key,H),f=H.first,h--}for(;p&&h;){const H=g[h-1],x=t[p-1],F=H.key,W=x.key;H===x?(f=H.first,p--,h--):k.has(W)?!l.has(F)||B.has(F)?L(H):R.has(W)?p--:I.get(F)>I.get(W)?(R.add(F),L(H)):(B.add(W),p--):(s(x,l),p--)}for(;p--;){const H=t[p];k.has(H.key)||s(H,l)}for(;h;)L(g[h-1]);return qe(M),g}function me(t,e){const n={},i={},o={$$scope:1};let r=t.length;for(;r--;){const l=t[r],a=e[r];if(a){for(const s in l)s in a||(i[s]=1);for(const s in a)o[s]||(n[s]=a[s],o[s]=1);t[r]=a}else for(const s in l)o[s]=1}for(const l in i)l in n||(n[l]=void 0);return n}function it(t){return typeof t=="object"&&t!==null?t:{}}function tn(t,e,n){const i=t.$$.props[e];i!==void 0&&(t.$$.bound[i]=n,n(t.$$.ctx[i]))}function X(t){t&&t.c()}function Y(t,e,n){const{fragment:i,after_update:o}=t.$$;i&&i.m(e,n),Qe(()=>{const r=t.$$.on_mount.map(Zs).filter(Mt);t.$$.on_destroy?t.$$.on_destroy.push(...r):qe(r),t.$$.on_mount=[]}),o.forEach(Qe)}function J(t,e){const n=t.$$;n.fragment!==null&&(Hu(n.after_update),qe(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Ku(t,e){t.$$.dirty[0]===-1&&(pn.push(t),la(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function he(t,e,n,i,o,r,l=null,a=[-1]){const s=Kn;Hn(t);const u=t.$$={fragment:null,ctx:[],props:r,update:ue,not_equal:o,bound:dr(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(s?s.$$.context:[])),callbacks:dr(),dirty:a,skip_bound:!1,root:e.target||s.$$.root};l&&l(u.root);let f=!1;if(u.ctx=n?n(t,e.props||{},(c,p,...h)=>{const m=h.length?h[0]:p;return u.ctx&&o(u.ctx[c],u.ctx[c]=m)&&(!u.skip_bound&&u.bound[c]&&u.bound[c](m),f&&Ku(t,c)),p}):[],u.update(),f=!0,qe(u.before_update),u.fragment=i?i(u.ctx):!1,e.target){if(e.hydrate){const c=Lu(e.target);u.fragment&&u.fragment.l(c),c.forEach(C)}else u.fragment&&u.fragment.c();e.intro&&w(t.$$.fragment),Y(t,e.target,e.anchor),sa()}Hn(s)}class _e{constructor(){Et(this,"$$");Et(this,"$$set")}$destroy(){J(this,1),this.$destroy=ue}$on(e,n){if(!Mt(n))return ue;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(n),()=>{const o=i.indexOf(n);o!==-1&&i.splice(o,1)}}$set(e){this.$$set&&!Nu(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Uu="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Uu);const fn=[];function Jt(t,e){return{subscribe:We(t,e).subscribe}}function We(t,e=ue){let n;const i=new Set;function o(a){if(le(t,a)&&(t=a,n)){const s=!fn.length;for(const u of i)u[1](),fn.push(u,t);if(s){for(let u=0;u<fn.length;u+=2)fn[u][0](fn[u+1]);fn.length=0}}}function r(a){o(a(t))}function l(a,s=ue){const u=[a,s];return i.add(u),i.size===1&&(n=e(o,r)||ue),a(t),()=>{i.delete(u),i.size===0&&n&&(n(),n=null)}}return{set:o,update:r,subscribe:l}}function zn(t,e,n){const i=!Array.isArray(t),o=i?[t]:t;if(!o.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const r=e.length<2;return Jt(n,(l,a)=>{let s=!1;const u=[];let f=0,c=ue;const p=()=>{if(f)return;c();const m=e(i?u[0]:u,l,a);r?l(m):c=Mt(m)?m:ue},h=o.map((m,_)=>Ho(m,g=>{u[_]=g,f&=~(1<<_),s&&p()},()=>{f|=1<<_}));return s=!0,p(),function(){qe(h),c(),s=!1}})}function mr(t){return{subscribe:t.subscribe.bind(t)}}const Yu={plots:[],timeSpent:0,devMode:!1,lastChangeDay:0,townLog:"",townInfo:{name:"Your town",gold:1e3,gold_from_tourism:0,population_count:0,population_max:0,employees:0,happiness:150,health:150,knowledge_points:0},hasCityHall:!1,hasBank:!1,hasHospital:!1,hasLab:!1,modifiers:{happiness:1,health:1},economyAndLaws:{tax_rate:0,max_tax_rate:1,last_month_profit:0,knowledge_gold_market_rates:[]},plotCounts:[],environment:{day:0,year:1,climate:-1},maximums:{health:300,happiness:300},difficulty:0,endGoal:"land",endGameDetails:{msg:"",win:!1},tick:0,overtime:!1,last_warning_happiness:0,last_warning_health:0,lab:{active_experiment:null,past_experiments:[],xp:0}},Ju={stats:{games_played:0,wins:0,losses:0},achievements:[]},aa={0:"Easy",1:"Normal",2:"Hard"},Xu={0:Math.random()*(.5-.3)+.3,1:Math.random()*(.4-.2)+.2,2:Math.random()*(.4-.2)+.2},Zu={0:.35,1:.25,2:.25},Ge=[{id:"mine",title:"⛏️ Mine",type:"mine",description:"",revenue_per_week:0,requirements:{gold:3e4,plots:[],employees:85,climate:null,knowledge:0,size:1,xp:0},effect_modifiers:{happiness:1,health:1},immediate_variable_changes:{happiness:0,health:0,population:16},tourism_revenue_per_week:0,styling:"",affordable:null,selected:null,check_for_variety:!1,enables_tourism:!1,knowledge_points_per_month:0},{id:"res_small",title:"🏠 Small homes",type:"residential",description:"+16 people",revenue_per_week:0,requirements:{gold:150,plots:[],employees:0,climate:null,knowledge:0,size:1,xp:0},effect_modifiers:{happiness:1,health:1},immediate_variable_changes:{happiness:0,health:0,population:16},tourism_revenue_per_week:0,styling:"",affordable:null,selected:null,check_for_variety:!1,enables_tourism:!1,knowledge_points_per_month:0},{id:"res_medium",title:"🏘️ Residential Complex",type:"residential",description:"+64 people",revenue_per_week:0,requirements:{gold:500,plots:["tree_farm"],employees:0,climate:null,knowledge:0,size:1,xp:0},effect_modifiers:{happiness:1,health:1},immediate_variable_changes:{happiness:0,health:0,population:64},tourism_revenue_per_week:0,styling:"",affordable:null,selected:null,check_for_variety:!1,enables_tourism:!1,knowledge_points_per_month:0},{id:"res_large",title:"🏢 Group of homes",type:"residential",description:"+256 people",revenue_per_week:0,requirements:{gold:1500,plots:["tree_farm"],employees:0,climate:null,knowledge:0,size:1,xp:0},effect_modifiers:{happiness:1,health:1},immediate_variable_changes:{happiness:0,health:0,population:256},tourism_revenue_per_week:0,styling:"",affordable:null,selected:null,check_for_variety:!1,enables_tourism:!1,knowledge_points_per_month:0},{id:"tree_farm",title:"🌲 Tree Farm",type:"farm",description:"Grow trees and sell the resources. Required for most plots.",revenue_per_week:12,requirements:{gold:400,plots:[],employees:10,climate:null,knowledge:0,size:1,xp:0},effect_modifiers:{happiness:1,health:1},immediate_variable_changes:{happiness:0,health:0,population:0},check_for_variety:!0,tourism_revenue_per_week:0,styling:"",affordable:null,selected:null,enables_tourism:!1,knowledge_points_per_month:0},{id:"apple_orchard",title:"🍎 Apple orchard",type:"farm",description:"A bunch of apple trees. Sells apple products.",revenue_per_week:8,requirements:{gold:75,plots:[],employees:4,climate:null,knowledge:0,size:1,xp:0},effect_modifiers:{happiness:1.05,health:1.1},immediate_variable_changes:{happiness:0,health:0,population:0},check_for_variety:!0,tourism_revenue_per_week:0,enables_tourism:!1,knowledge_points_per_month:0,styling:"",affordable:null,selected:null},{id:"potato_and_carrot_farm",title:"🚜 Potato & Carrot farm",type:"farm",description:"Easy to farm, sells to local grocery stores and restaurants.",revenue_per_week:9,requirements:{gold:75,plots:[],employees:2,climate:null,knowledge:0,size:1,xp:0},effect_modifiers:{happiness:1.03,health:1.03},immediate_variable_changes:{happiness:5,health:5,population:0},check_for_variety:!0,tourism_revenue_per_week:0,enables_tourism:!1,knowledge_points_per_month:0,styling:"",affordable:null,selected:null},{id:"wheat_farm",title:"🌾 Wheat farm",type:"farm",description:"Easy to farm crop",revenue_per_week:12,requirements:{gold:140,plots:[],employees:4,climate:null,knowledge:0,size:1,xp:0},effect_modifiers:{happiness:1,health:1},immediate_variable_changes:{happiness:0,health:0,population:0},check_for_variety:!0,tourism_revenue_per_week:0,enables_tourism:!1,knowledge_points_per_month:0,styling:"",affordable:null,selected:null},{id:"bakery",title:"🥖 Bakery",type:"business",description:"Makes money by selling bread.",revenue_per_week:14,requirements:{gold:300,plots:["wheat_farm"],employees:3,climate:null,knowledge:0,size:1,xp:0},effect_modifiers:{happiness:1.11,health:.92},immediate_variable_changes:{happiness:25,health:0,population:0},check_for_variety:!0,tourism_revenue_per_week:0,enables_tourism:!1,knowledge_points_per_month:0,styling:"",affordable:null,selected:null},{id:"dairy_farm",title:"🐮 Dairy farm",type:"farm",description:"A few cows that produce milk, cheese, and butter.",revenue_per_week:16,requirements:{gold:300,plots:[],employees:4,climate:null,knowledge:0,size:1,xp:0},effect_modifiers:{happiness:1.2,health:1},immediate_variable_changes:{happiness:5,health:5,population:0},check_for_variety:!0,tourism_revenue_per_week:0,enables_tourism:!1,knowledge_points_per_month:0,styling:"",affordable:null,selected:null},{id:"coffee_bean_farm",title:"🫘 Coffee bean farm",type:"farm",description:"A few coffee plants. Makes money by selling coffee.",revenue_per_week:3,requirements:{gold:300,plots:[],employees:1,climate:null,knowledge:0,size:1,xp:0},effect_modifiers:{happiness:1.2,health:1},immediate_variable_changes:{happiness:5,health:5,population:0},check_for_variety:!0,tourism_revenue_per_week:0,enables_tourism:!1,knowledge_points_per_month:0,styling:"",affordable:null,selected:null},{id:"cafe",title:"☕️ Small café",type:"business",description:"Great for eating & relaxing, not great for long-term health.",revenue_per_week:64,requirements:{gold:300,plots:["coffee_bean_farm","bakery","dairy_farm","tree_farm"],employees:16,climate:null,knowledge:0,size:1,xp:0},effect_modifiers:{happiness:1.05,health:.95},immediate_variable_changes:{happiness:5,health:0,population:0},check_for_variety:!0,tourism_revenue_per_week:0,enables_tourism:!1,knowledge_points_per_month:0,styling:"",affordable:null,selected:null},{id:"fishery",title:"🐠 Fishery",type:"business",description:"Carve out some land, pour some water, and fish for fun & food.",revenue_per_week:40,requirements:{gold:600,plots:["tree_farm"],employees:9,climate:null,knowledge:0,size:1,xp:0},effect_modifiers:{happiness:1.05,health:1},immediate_variable_changes:{happiness:15,health:8,population:0},check_for_variety:!0,tourism_revenue_per_week:0,enables_tourism:!1,knowledge_points_per_month:0,styling:"",affordable:null,selected:null},{id:"grocery",title:"🏪 Grocery store",type:"business",description:"People get hungry. This is where they go to get food.",revenue_per_week:140,requirements:{gold:820,plots:["fishery","tree_farm","potato_and_carrot_farm","dairy_farm","bakery","wheat_farm","coffee_bean_farm"],employees:24,climate:null,knowledge:0,size:1,xp:0},effect_modifiers:{happiness:1.05,health:1},immediate_variable_changes:{happiness:15,health:0,population:0},tourism_revenue_per_week:0,enables_tourism:!1,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1},{id:"library",title:"📕 Library",type:"recreation",description:"Reading makes people very happy, but doesn't make money.",revenue_per_week:0,knowledge_points_per_month:1,requirements:{gold:500,plots:["tree_farm"],employees:6,climate:null,knowledge:0,size:1,xp:0},effect_modifiers:{happiness:1.2,health:1},immediate_variable_changes:{happiness:10,health:0,population:0},tourism_revenue_per_week:0,enables_tourism:!1,styling:"",affordable:null,selected:null,check_for_variety:!1},{id:"pub",title:"🍻 Pub",type:"recreation",description:"Makes money, and somehow generates communal knowledge.",revenue_per_week:50,knowledge_points_per_month:1,requirements:{gold:500,plots:["church","tree_farm"],employees:6,climate:null,knowledge:0,size:1,xp:0},effect_modifiers:{happiness:1.2,health:.8},immediate_variable_changes:{happiness:10,health:-15,population:0},check_for_variety:!0,tourism_revenue_per_week:0,enables_tourism:!1,styling:"",affordable:null,selected:null},{id:"church",title:"⛪️ Church",type:"recreation",description:"This can make some people happy, but doesn't make money.",revenue_per_week:0,requirements:{gold:500,plots:["tree_farm"],employees:0,climate:null,knowledge:0,size:1,xp:0},effect_modifiers:{happiness:1.1,health:1},immediate_variable_changes:{happiness:5,health:0,population:0},tourism_revenue_per_week:0,enables_tourism:!1,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1},{id:"stables",title:"🐴 Stables",type:"business",description:"People love horses. This makes them happy, and can generate some money through lessons.",revenue_per_week:19,requirements:{gold:400,plots:["tree_farm"],employees:2,climate:null,knowledge:0,size:1,xp:0},effect_modifiers:{happiness:1.05,health:1.02},immediate_variable_changes:{happiness:5,health:0,population:0},tourism_revenue_per_week:0,enables_tourism:!1,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1},{id:"blacksmith",title:"⚔️ Blacksmith",type:"business",description:"Enables exporting of weapons and armor, and makes money by selling them.",revenue_per_week:150,requirements:{gold:3500,plots:["large_school","tree_farm","mine"],employees:8,climate:null,knowledge:0,size:1,xp:0},effect_modifiers:{happiness:1,health:1},immediate_variable_changes:{happiness:0,health:0,population:0},tourism_revenue_per_week:0,enables_tourism:!1,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1},{id:"vineyard",title:"🍇 Vineyard",type:"farm",description:"Grapes are grown and made into wine. Makes money by selling wine.",revenue_per_week:50,requirements:{gold:800,plots:["library","tree_farm","small_school"],employees:6,climate:null,knowledge:0,size:1,xp:0},effect_modifiers:{happiness:1.5,health:1},immediate_variable_changes:{happiness:0,health:-10,population:0},tourism_revenue_per_week:0,enables_tourism:!1,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1},{id:"inn",title:"🛌 Village Inn",type:"tourism",description:"Generates tourism gold that can be used if you have a bank.",revenue_per_week:0,enables_tourism:!0,tourism_revenue_per_week:1,requirements:{gold:3e4,plots:["tree_farm","cafe","stables"],employees:14,climate:null,knowledge:0,size:1,xp:0},effect_modifiers:{happiness:.9,health:1},immediate_variable_changes:{happiness:0,health:0,population:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1},{id:"park_small",title:"🌲 Small park",type:"recreation",description:"A few benches and a small grassy area.",revenue_per_week:0,requirements:{gold:190,plots:[],employees:1,climate:null,knowledge:0,size:1,xp:0},effect_modifiers:{happiness:1.05,health:1.1},immediate_variable_changes:{happiness:15,health:15,population:0},tourism_revenue_per_week:0,enables_tourism:!1,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1},{id:"park_large",title:"🎪 Large park (2x2)",type:"recreation",description:"Same as the medium park, with a nice fountain in the middle and occasional events run by the employees.",revenue_per_week:0,requirements:{gold:900,plots:["tree_farm"],employees:4,climate:null,size:2,knowledge:0,xp:0},effect_modifiers:{happiness:1.1,health:1.7},immediate_variable_changes:{happiness:15,health:15,population:0},tourism_revenue_per_week:0,enables_tourism:!1,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1},{id:"community_center",title:"🫶 Community Center",type:"recreation",description:"A place for meeting people, growing community, and hosting events. Required for City Hall.",revenue_per_week:0,requirements:{gold:4e4,plots:["inn","tree_farm"],employees:12,climate:null,size:1,knowledge:0,xp:0},effect_modifiers:{happiness:1.09,health:1},immediate_variable_changes:{happiness:50,health:15,population:0},tourism_revenue_per_week:0,enables_tourism:!1,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1},{id:"small_school",title:"📚 Small school",type:"education",description:"A place where children can learn and grow, and where adults can learn new skills. Produces knowledge.",revenue_per_week:0,knowledge_points_per_month:8,requirements:{gold:1500,plots:["tree_farm"],employees:20,climate:null,size:1,knowledge:0,xp:0},effect_modifiers:{happiness:1.05,health:1.1},immediate_variable_changes:{happiness:15,health:3,population:0},tourism_revenue_per_week:0,enables_tourism:!1,styling:"",affordable:null,selected:null,check_for_variety:!1},{id:"large_school",title:"🚌 Large school (2x2)",type:"education",description:"A larger school. Produces knowledge",revenue_per_week:0,knowledge_points_per_month:26,requirements:{gold:15e3,plots:["tree_farm"],employees:40,climate:null,size:2,knowledge:50,xp:0},effect_modifiers:{happiness:1.2,health:1},immediate_variable_changes:{happiness:5,health:3,population:0},tourism_revenue_per_week:0,enables_tourism:!1,styling:"",affordable:null,selected:null,check_for_variety:!1},{id:"university",title:"🏫 Large University (2x2)",type:"education",description:"The supreme learning institution. Produces knowledge.",revenue_per_week:0,knowledge_points_per_month:300,requirements:{gold:8e4,plots:["tree_farm"],employees:101,climate:null,size:2,knowledge:100,xp:0},effect_modifiers:{happiness:1.25,health:.9},immediate_variable_changes:{happiness:25,health:25,population:0},tourism_revenue_per_week:0,enables_tourism:!1,styling:"",affordable:null,selected:null,check_for_variety:!1},{id:"small_hospital",title:"😷 Small hospital",type:"medical",description:"A great place to get fixed up from minor injuries.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:1e4,plots:["tree_farm","mine"],employees:18,climate:null,size:1,knowledge:100,xp:0},effect_modifiers:{happiness:1.25,health:1.5},immediate_variable_changes:{happiness:5,health:75,population:0},tourism_revenue_per_week:0,enables_tourism:!1,styling:"",affordable:null,selected:null,check_for_variety:!1},{id:"large_hospital",title:"🏥 Large hospital (2x2)",type:"medical",description:"Heals people and teaches medical students. Produces knowledge.",revenue_per_week:0,knowledge_points_per_month:80,requirements:{gold:45e3,plots:["tree_farm","mine"],employees:90,climate:null,size:2,knowledge:250,xp:0},effect_modifiers:{happiness:1.25,health:2.5},immediate_variable_changes:{happiness:5,health:150,population:0},tourism_revenue_per_week:0,enables_tourism:!1,styling:"",affordable:null,selected:null,check_for_variety:!1},{id:"bank",title:"🏦 Bank",type:"bank",description:`Rich get richer.
			<ul>
				<li>Enables converting tourism gold to gold</li>
				<li>Enables converting knowledge to gold</li>
			</ul>`,revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:75e3,plots:["blacksmith","vineyard","tree_farm"],employees:64,climate:null,size:1,knowledge:1e3,xp:0},effect_modifiers:{happiness:.8,health:1},immediate_variable_changes:{happiness:0,health:0,population:0},tourism_revenue_per_week:0,enables_tourism:!1,styling:"",affordable:null,selected:null,check_for_variety:!1},{id:"city_hall",title:"🗳️ City Hall",type:"federal",description:"Enables the control of citizens through laws, taxes, and wealthy men.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:15e4,plots:["community_center","small_school","tree_farm"],employees:48,climate:null,size:1,knowledge:500,xp:0},effect_modifiers:{happiness:.8,health:1},immediate_variable_changes:{happiness:0,health:0,population:0},tourism_revenue_per_week:0,enables_tourism:!1,styling:"",affordable:null,selected:null,check_for_variety:!1},{id:"lab",title:"🧑‍🔬 Laboratory",type:"science",description:"Design things that can help your city grow. Experiments can cause unexpected situations. Required to build advanced plot types.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:1e5,plots:["community_center","university","mine"],employees:24,climate:null,size:1,knowledge:1500,xp:0},effect_modifiers:{happiness:.95,health:.95},immediate_variable_changes:{happiness:0,health:0,population:0},tourism_revenue_per_week:0,enables_tourism:!1,styling:"",affordable:null,selected:null,check_for_variety:!1}],En={empty_unusable:"rgb(21 28 41);",empty_buildable:"rgb(204, 218, 209)",residential:"#de7633",farm:"#6b8f49",business:"#9273a5",recreation:"#5277b1",shop:"#d896d8",tourism:"#d896d8",education:"#BFBEEB",medical:"#4a5ba3",bank:"#8477be",federal:"#8477be",science:"#4a5ba3",mine:"#d9874a"};function Ai(t,e=!1){if(t<0)return t==-1?e?En.empty_buildable:En.empty_unusable:t==-2?En.recreation:En.empty_unusable;const n=Ge[t];return En[n.type]}const hr={lab:1,city_hall:1,bank:1,community_center:1,inn:1},ft="plots_active_game_db",Ti="plots_user_db";function Qu(){const t=["York","London","Paris","Madrid","Rome","Berlin","Vienna","Prague","Warsaw","Oslo","Lisbon","Dublin","Brussels","Amsterdam","Stockholm","Copenhagen","Edinburgh","Moscow","Beijing","Tokyo","Seoul","Bangkok","Delhi","Mumbai","Shanghai","Sydney","Melbourne","Cairo","Dubai","Istanbul","Athens","Budapest","Reykjavik","Helsinki","Tallinn","Riga","Vilnius","Sofia","Bucharest","Belgrade","Zagreb","Sarajevo","Ljubljana","Skopje","Tirana","Podgorica","Thessaloniki","Barcelona","Valencia","Seville","Granada","Malaga","Lyon","Marseille","Toulouse","Nice","Nantes","Strasbourg","Bordeaux","Lille","Venice","Milan","Florence","Naples","Turin","Bologna","Perugia","Genoa","Pisa","Verona","Palermo","Catania","Bari","Padua","Cagliari","Krakow","Gdansk","Poznan","Wroclaw","Lodz","Katowice","Bialystok","Gdynia","Sopot","Bydgoszcz","Lublin","Szczecin","Gorzow","Zakopane","Olsztyn","Torun","Rzeszow","Kielce","Radom","Siedlce","Los","Angeles","Chicago","Houston","Phoenix","San","Antonio","San","Diego","Dallas","San","Jose","Austin","Jacksonville","Fort","Worth","Columbus","Charlotte","Liverpool","Manchester","Glasgow","Birmingham","Leeds","Sheffield","Newcastle","upon","Tyne","Bristol","Nottingham","Leicester","Coventry","Belfast","Reading","Cardiff","Southampton","Aberdeen","Plymouth","Stoke","Trent","Wolverhampton","Swansea","Sunderland","Portsmouth","Yorkshire","Hull","Blackpool","Bradford","Derby","Middlesbrough","Peterborough","Stockton","on","Tees","Brighton","Poole","Bournemouth","Huddersfield","Luton","Oxford","Norwich","Oldham","Cambridge","Exeter","Walsall","Colchester","Watford","Rotherham","Newport","Gateshead","Dundee","Gloucester","Solihull","High","Wycombe","Maidstone","Slough","Basildon","Chelmsford","Salford","Bedford","Stevenage","Woking","Grimsby","Birkenhead","Halifax","Warrington","Gillingham","Wigan","Worcester","Wakefield","Lincoln","Chester","Rochdale","Dagenham","Widnes","St","Albans","Mansfield","Sutton","Coldfield","Crawley","Wokingham","Barnsley","St","Helens","Harrogate","Redditch","Scunthorpe","Nuneaton","Chesterfield","Hemel","Hempstead","Bury","Guildford","Ashford","Telford","Newcastle","under","Lyme","Aylesbury","Halesowen","Shrewsbury","Lowestoft","Loughborough","Cheltenham","Kidderminster","Basingstoke","Rugby","Stourbridge","Southport","Kettering","Royal","Leamington","Spa","Beeston","Farnborough","Wrexham","Banbury","Weymouth","Wallsend","Dartford","Grays","Tamworth","Ashford","Esher","Folkestone","Tonbridge","Taunton","Runcorn","Macclesfield","Keighley","Bridgend","Barnstaple","Letchworth","Garden","City","Worthing","Gosport","Eastleigh","Staines","upon","Thames","Lisburn","Livingston","Bognor","Regis","Scarborough","Cannock","Margate","Chippenham","Rhondda","Maidenhead","Wellingborough","Washington","Camberley","Bootle","Lancaster","Llanelli","Chatham","Cheshunt","Bishop","Auckland","Nelson","Belper","Pontefract","Barry","Braintree","Crosby","Bury","St","Edmunds","Bexhill","Margate","Aldershot","Rowley","Regis","Hoddesdon","Sittingbourne","Rugby","Newquay","Falmouth","Stretford","Camberley","Beverley","Windsor","Rochester","Wickford","Diss","Farnham","Andover","Camberwell","Bermondsey","Lewisham","Wembley","Hayes","Harrow","Ilford","Enfield","Twickenham","Richmond","Brentwood","Edgware","Ealing","Greenwich","Bromley","Hounslow","Romford","Hillingdon","Uxbridge","Wandsworth","Sutton","Kingston","upon","Thames","Bexley","Havering","Barking"],e=["ia","ville","ton","land","field","burgh","ford","wood","port","bay","beach","peak","valley","ridge","hill","dale","island","cape","spring","grove","polis","side","view","shore","haven","place","gardens","plaza","square"],n=["New","Old","North","South","East","West","Upper","Lower","Little","Great","Saint","Fort","Mount","Lake","River","The Village of","The City of","The Town of","The Borough of","The County of","The State of","The Kingdom of","The Empire of","The Republic of","The Commonwealth of","The Union of","The Federation of","Rainy","Sunny","Windy","Frosty","Snowy"];function i(s){return s[Math.floor(Math.random()*s.length)]}let o=i(n),r=i(t),l=i(e),a="";return Math.random()>.5?a=o+" "+r+l:a=r+l,a}let ke=We(JSON.parse(localStorage.getItem(ft)||"null")),bn=We(JSON.parse(localStorage.getItem(Ti)||"null"));zu();function xu(t,e,n,i){let o={...Yu};o.economyAndLaws.max_tax_rate=Xu[t],o.endGoal=e;let r=[];n=n.replace(/[^a-zA-Z0-9 ]/g,"").trim(),o.townInfo.name=n!=""?n:Qu(),o.difficulty=parseInt(t),i&&(o.devMode=!0,o.townInfo.gold=1e8,o.townInfo.happiness=1e7,o.townInfo.health=1e6,o.townInfo.knowledge_points=1e5,o.modifiers.happiness=1e4,o.modifiers.health=1e4);const l=t=="0"?8:t=="1"?12:t=="2"?16:1,a=Math.floor(Math.random()*(l-3))+3,s=Math.floor(Math.random()*(l-3))+3;for(let u=0;u<l;u++){r.push([]);for(let f=0;f<l;f++)r[u][f]={id:Math.random().toString(36).substring(2,9),active:!1,x:u,y:f,type:-1,typeId:"",mineralSource:a===u&&s===f}}o.plots=r,localStorage.reset=!1,localStorage.setItem(ft,JSON.stringify(o)),ke.set(o),location.reload()}function zu(){if(localStorage.getItem(Ti)===null){let t=Ju;localStorage.setItem(Ti,JSON.stringify(t)),bn.set(t)}}function _r(t,e){var n=Math.pow(10,e);t=parseFloat((t*n).toFixed(11));var i=Math.round(t)/n;return+i.toFixed(e)}function Ii(t,e,n){let i=n.plots[t][e].type;if(n.plots[t][e].type=-1,n.plots[t][e].active=!1,i>-1&&(n.townInfo.population_count-=Ge[i].immediate_variable_changes.population,n.townInfo.population_max-=Ge[i].immediate_variable_changes.population,n.townInfo.happiness-=Ge[i].immediate_variable_changes.happiness,n.townInfo.health-=Ge[i].immediate_variable_changes.health,n.modifiers.happiness=_r(n.modifiers.happiness/Ge[i].effect_modifiers.happiness,2),n.modifiers.health=_r(n.modifiers.health/Ge[i].effect_modifiers.health,2),n.townInfo.employees-=Ge[i].requirements.employees,(n.plotCounts[i]===void 0||n.plotCounts[i]===null)&&(n.plotCounts[i]=0),n.plotCounts[i]--,(Ge[i].requirements.size??1)>1))for(let r=0;r<n.plots.length;r++)for(let l=0;l<n.plots[t].length;l++)n.plots[r][l].referencePlot!=null&&n.plots[r][l].referencePlot[0]===t&&n.plots[r][l].referencePlot[1]===e&&Ii(r,l,n);n.lastChangeDay=n.environment.day,ke.set(n),localStorage.setItem(ft,JSON.stringify(n))}function tt(t,e){let n=[];for(let i=0;i<e.plots.length;i++)for(let o=0;o<e.plots[i].length;o++)e.plots[i][o].active==!1||e.plots[i][o]==null||e.plots[i][o].type===null||e.plots[i][o].type<0||(Ge[e.plots[i][o].type].id===t||Ge[e.plots[i][o].type].type===t)&&n.push(e.plots[i][o]);return n}function Zo(t=null){localStorage.removeItem(ft),ke.set(null),t&&(localStorage.setItem(ft,JSON.stringify(t)),ke.set(t)),location.reload()}function ef(){ua.update(t=>!t),localStorage.setItem("showOnlyAffordable",localStorage.getItem("showOnlyAffordable")==="true"?"false":"true")}let Xe=We({visible:!1,x:0,y:0,isMineralSource:!1}),Vn=We({visible:!1}),kn=We({}),ht=We(!1),gr=We(!1),Ni=We(!1),Mi=We(!1),pi=We(!1),br=localStorage.getItem("showCompletedAchievements")==="true"?We(!0):We(!1),ua=localStorage.getItem("showOnlyAffordable")==="true"?We(!0):We(!1),tf=localStorage.getItem("pauseMenuTab")==="game"?We("game"):We("achievements"),vo=We(250),mi=We(500);function nf(t){return t[t.length-1]}function yo(t){return Object.keys(t).reduce((e,n)=>t[n]===void 0?e:e+`${n}:${t[n]};`,"")}yo({position:"absolute",opacity:0,"pointer-events":"none",margin:0,transform:"translateX(-100%)"});function of(t){if(t!==null)return t}function vr(t){function e(n){return n(t),()=>{}}return{subscribe:e}}const oi=t=>new Proxy(t,{get(e,n,i){return Reflect.get(e,n,i)},ownKeys(e){return Reflect.ownKeys(e).filter(n=>n!=="action")}}),yr=t=>typeof t=="function";gt("empty");function gt(t,e){const{stores:n,action:i,returned:o}=e??{},r=(()=>{if(n&&o)return zn(n,a=>{const s=o(a);if(yr(s)){const u=(...f)=>oi({...s(...f),[`data-melt-${t}`]:"",action:i??Je});return u.action=i??Je,u}return oi({...s,[`data-melt-${t}`]:"",action:i??Je})});{const a=o,s=a==null?void 0:a();if(yr(s)){const u=(...f)=>oi({...s(...f),[`data-melt-${t}`]:"",action:i??Je});return u.action=i??Je,vr(u)}return vr(oi({...s,[`data-melt-${t}`]:"",action:i??Je}))}})(),l=i??(()=>{});return l.subscribe=r.subscribe,l}function rf(t){const e=r=>r?`${t}-${r}`:t,n=r=>`data-melt-${t}${r?`-${r}`:""}`,i=r=>`[data-melt-${t}${r?`-${r}`:""}]`;return{name:e,attribute:n,selector:i,getEl:r=>document.querySelector(i(r))}}const lf=typeof document<"u",fa=t=>typeof t=="function";function Qo(t){return t instanceof Element}function Rt(t){return t instanceof HTMLElement}function sf(t){return t!==null&&typeof t=="object"}function af(t){return sf(t)&&"subscribe"in t}function vn(...t){return(...e)=>{for(const n of t)typeof n=="function"&&n(...e)}}function Je(){}function Lt(t,e,n,i){const o=Array.isArray(e)?e:[e];return o.forEach(r=>t.addEventListener(r,n,i)),()=>{o.forEach(r=>t.removeEventListener(r,n,i))}}function qn(t,e,n,i){const o=Array.isArray(e)?e:[e];if(typeof n=="function"){const r=ff(l=>n(l));return o.forEach(l=>t.addEventListener(l,r,i)),()=>{o.forEach(l=>t.removeEventListener(l,r,i))}}return()=>void 0}function uf(t){const e=t.currentTarget;if(!Rt(e))return null;const n=new CustomEvent(`m-${t.type}`,{detail:{originalEvent:t},cancelable:!0});return e.dispatchEvent(n),n}function ff(t){return e=>{const n=uf(e);if(!(n!=null&&n.defaultPrevented))return t(e)}}function cf(t,...e){const n={};for(const i of Object.keys(t))e.includes(i)||(n[i]=t[i]);return n}function ei(t){return{...t,get:()=>Qs(t)}}ei.writable=function(t){const e=We(t);let n=t;return{subscribe:e.subscribe,set(i){e.set(i),n=i},update(i){const o=i(n);e.set(o),n=o},get(){return n}}};ei.derived=function(t,e){const n=new Map,i=()=>{const r=Array.isArray(t)?t.map(l=>l.get()):t.get();return e(r)};return{get:i,subscribe:r=>{const l=[];return(Array.isArray(t)?t:[t]).forEach(s=>{l.push(s.subscribe(()=>{r(i())}))}),r(i()),n.set(r,l),()=>{const s=n.get(r);if(s)for(const u of s)u();n.delete(r)}}}};const df=(t,e)=>{const n=ei(t),i=(r,l)=>{n.update(a=>{const s=r(a);let u=s;return e&&(u=e({curr:a,next:s})),l==null||l(u),u})};return{...n,update:i,set:r=>{i(()=>r)}}};function ca(t){return new Promise(e=>setTimeout(e,t))}let pf="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",mf=(t=21)=>{let e="",n=t;for(;n--;)e+=pf[Math.random()*64|0];return e};function hf(){return mf(10)}function _f(t){return t.reduce((e,n)=>(e[n]=hf(),e),{})}const Rn={ALT:"Alt",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",CAPS_LOCK:"CapsLock",CONTROL:"Control",DELETE:"Delete",END:"End",ENTER:"Enter",ESCAPE:"Escape",F1:"F1",F10:"F10",F11:"F11",F12:"F12",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",HOME:"Home",META:"Meta",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp",SHIFT:"Shift",SPACE:" ",TAB:"Tab",CTRL:"Control",ASTERISK:"*",A:"a",P:"p"},da=()=>typeof window<"u";function gf(){const t=navigator.userAgentData;return(t==null?void 0:t.platform)??navigator.platform}const pa=t=>da()&&t.test(gf().toLowerCase()),bf=()=>da()&&!!navigator.maxTouchPoints,vf=()=>pa(/^mac/)&&!bf(),yf=()=>pa(/mac|iphone|ipad|ipod/i),wf=()=>yf()&&!vf(),no="data-melt-scroll-lock";function wr(t,e){if(!t)return;const n=t.style.cssText;return Object.assign(t.style,e),()=>{t.style.cssText=n}}function kf(t,e,n){if(!t)return;const i=t.style.getPropertyValue(e);return t.style.setProperty(e,n),()=>{i?t.style.setProperty(e,i):t.style.removeProperty(e)}}function Cf(t){const e=t.getBoundingClientRect().left;return Math.round(e)+t.scrollLeft?"paddingLeft":"paddingRight"}function Sf(t){const e=document,n=e.defaultView??window,{documentElement:i,body:o}=e;if(o.hasAttribute(no))return Je;o.setAttribute(no,"");const l=n.innerWidth-i.clientWidth,a=()=>kf(i,"--scrollbar-width",`${l}px`),s=Cf(i),u=n.getComputedStyle(o)[s],f=()=>wr(o,{overflow:"hidden",[s]:`calc(${u} + ${l}px)`}),c=()=>{const{scrollX:h,scrollY:m,visualViewport:_}=n,g=(_==null?void 0:_.offsetLeft)??0,k=(_==null?void 0:_.offsetTop)??0,I=wr(o,{position:"fixed",overflow:"hidden",top:`${-(m-Math.floor(k))}px`,left:`${-(h-Math.floor(g))}px`,right:"0",[s]:`calc(${u} + ${l}px)`});return()=>{I==null||I(),n.scrollTo(h,m)}},p=[a(),wf()?c():f()];return()=>{p.forEach(h=>h==null?void 0:h()),o.removeAttribute(no)}}const Af=t=>{try{Bu(t)}catch{return t}};function Ht(t,e){let n;const i=zn(t,r=>{n==null||n(),n=e(r)}).subscribe(Je),o=()=>{i(),n==null||n()};return Af(o),o}function wo(t){const e={};return Object.keys(t).forEach(n=>{const i=n,o=t[i];e[i]=ei(We(o))}),e}function Tf(t){let e=t.parentElement;for(;Rt(e)&&!e.hasAttribute("data-portal");)e=e.parentElement;return e||"body"}function If(t,e){return e!==void 0?e:Tf(t)==="body"?document.body:null}async function kr(t){const{prop:e,defaultEl:n}=t;if(await Promise.all([ca(1),Yo]),e===void 0){n==null||n.focus();return}const i=fa(e)?e(n):e;if(typeof i=="string"){const o=document.querySelector(i);if(!Rt(o))return;o.focus()}else Rt(i)&&i.focus()}Jt(void 0,t=>{function e(i){t(i),t(void 0)}return Lt(document,"pointerup",e,{passive:!1,capture:!0})});const Nf=Jt(void 0,t=>{function e(i){i&&i.key===Rn.ESCAPE&&t(i),t(void 0)}return Lt(document,"keydown",e,{passive:!1})}),Cr=(t,e={})=>{let n=Je;function i(o={}){n();const r={enabled:!0,...o},l=af(r.enabled)?r.enabled:Jt(r.enabled);n=vn(Nf.subscribe(a=>{var u;if(!a||!Qs(l))return;const s=a.target;if(!(!Rt(s)||s.closest("[data-escapee]")!==t)){if(a.preventDefault(),r.ignore){if(fa(r.ignore)){if(r.ignore(a))return}else if(Array.isArray(r.ignore)&&r.ignore.length>0&&r.ignore.some(f=>f&&s===f))return}(u=r.handler)==null||u.call(r,a)}}),Ht(l,a=>{a?t.dataset.escapee="":delete t.dataset.escapee}))}return i(e),{update:i,destroy(){t.removeAttribute("data-escapee"),n()}}};/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var ma=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Ei=ma.join(","),ha=typeof Element>"u",Qt=ha?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Pi=!ha&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},Oi=function t(e,n){var i;n===void 0&&(n=!0);var o=e==null||(i=e.getAttribute)===null||i===void 0?void 0:i.call(e,"inert"),r=o===""||o==="true",l=r||n&&e&&t(e.parentNode);return l},Mf=function(e){var n,i=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"contenteditable");return i===""||i==="true"},_a=function(e,n,i){if(Oi(e))return[];var o=Array.prototype.slice.apply(e.querySelectorAll(Ei));return n&&Qt.call(e,Ei)&&o.unshift(e),o=o.filter(i),o},ga=function t(e,n,i){for(var o=[],r=Array.from(e);r.length;){var l=r.shift();if(!Oi(l,!1))if(l.tagName==="SLOT"){var a=l.assignedElements(),s=a.length?a:l.children,u=t(s,!0,i);i.flatten?o.push.apply(o,u):o.push({scopeParent:l,candidates:u})}else{var f=Qt.call(l,Ei);f&&i.filter(l)&&(n||!e.includes(l))&&o.push(l);var c=l.shadowRoot||typeof i.getShadowRoot=="function"&&i.getShadowRoot(l),p=!Oi(c,!1)&&(!i.shadowRootFilter||i.shadowRootFilter(l));if(c&&p){var h=t(c===!0?l.children:c.children,!0,i);i.flatten?o.push.apply(o,h):o.push({scopeParent:l,candidates:h})}else r.unshift.apply(r,l.children)}}return o},ba=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},Wt=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||Mf(e))&&!ba(e)?0:e.tabIndex},Ef=function(e,n){var i=Wt(e);return i<0&&n&&!ba(e)?0:i},Pf=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},va=function(e){return e.tagName==="INPUT"},Of=function(e){return va(e)&&e.type==="hidden"},$f=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(i){return i.tagName==="SUMMARY"});return n},Lf=function(e,n){for(var i=0;i<e.length;i++)if(e[i].checked&&e[i].form===n)return e[i]},Ff=function(e){if(!e.name)return!0;var n=e.form||Pi(e),i=function(a){return n.querySelectorAll('input[type="radio"][name="'+a+'"]')},o;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")o=i(window.CSS.escape(e.name));else try{o=i(e.name)}catch(l){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",l.message),!1}var r=Lf(o,e.form);return!r||r===e},qf=function(e){return va(e)&&e.type==="radio"},Rf=function(e){return qf(e)&&!Ff(e)},Df=function(e){var n,i=e&&Pi(e),o=(n=i)===null||n===void 0?void 0:n.host,r=!1;if(i&&i!==e){var l,a,s;for(r=!!((l=o)!==null&&l!==void 0&&(a=l.ownerDocument)!==null&&a!==void 0&&a.contains(o)||e!=null&&(s=e.ownerDocument)!==null&&s!==void 0&&s.contains(e));!r&&o;){var u,f,c;i=Pi(o),o=(u=i)===null||u===void 0?void 0:u.host,r=!!((f=o)!==null&&f!==void 0&&(c=f.ownerDocument)!==null&&c!==void 0&&c.contains(o))}}return r},Sr=function(e){var n=e.getBoundingClientRect(),i=n.width,o=n.height;return i===0&&o===0},Bf=function(e,n){var i=n.displayCheck,o=n.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var r=Qt.call(e,"details>summary:first-of-type"),l=r?e.parentElement:e;if(Qt.call(l,"details:not([open]) *"))return!0;if(!i||i==="full"||i==="legacy-full"){if(typeof o=="function"){for(var a=e;e;){var s=e.parentElement,u=Pi(e);if(s&&!s.shadowRoot&&o(s)===!0)return Sr(e);e.assignedSlot?e=e.assignedSlot:!s&&u!==e.ownerDocument?e=u.host:e=s}e=a}if(Df(e))return!e.getClientRects().length;if(i!=="legacy-full")return!0}else if(i==="non-zero-area")return Sr(e);return!1},Gf=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var i=0;i<n.children.length;i++){var o=n.children.item(i);if(o.tagName==="LEGEND")return Qt.call(n,"fieldset[disabled] *")?!0:!o.contains(e)}return!0}n=n.parentElement}return!1},$i=function(e,n){return!(n.disabled||Oi(n)||Of(n)||Bf(n,e)||$f(n)||Gf(n))},ko=function(e,n){return!(Rf(n)||Wt(n)<0||!$i(e,n))},jf=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},Hf=function t(e){var n=[],i=[];return e.forEach(function(o,r){var l=!!o.scopeParent,a=l?o.scopeParent:o,s=Ef(a,l),u=l?t(o.candidates):a;s===0?l?n.push.apply(n,u):n.push(a):i.push({documentOrder:r,tabIndex:s,item:o,isScope:l,content:u})}),i.sort(Pf).reduce(function(o,r){return r.isScope?o.push.apply(o,r.content):o.push(r.content),o},[]).concat(n)},Vf=function(e,n){n=n||{};var i;return n.getShadowRoot?i=ga([e],n.includeContainer,{filter:ko.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:jf}):i=_a(e,n.includeContainer,ko.bind(null,n)),Hf(i)},Wf=function(e,n){n=n||{};var i;return n.getShadowRoot?i=ga([e],n.includeContainer,{filter:$i.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):i=_a(e,n.includeContainer,$i.bind(null,n)),i},cn=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return Qt.call(e,Ei)===!1?!1:ko(n,e)},Kf=ma.concat("iframe").join(","),io=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return Qt.call(e,Kf)===!1?!1:$i(n,e)};/*!
* focus-trap 7.5.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function Ar(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function Tr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ar(Object(n),!0).forEach(function(i){Uf(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ar(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Uf(t,e,n){return e=Jf(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yf(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jf(t){var e=Yf(t,"string");return typeof e=="symbol"?e:String(e)}var Ir={activateTrap:function(e,n){if(e.length>0){var i=e[e.length-1];i!==n&&i.pause()}var o=e.indexOf(n);o===-1||e.splice(o,1),e.push(n)},deactivateTrap:function(e,n){var i=e.indexOf(n);i!==-1&&e.splice(i,1),e.length>0&&e[e.length-1].unpause()}},Xf=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},Zf=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},Wn=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},Qf=function(e){return Wn(e)&&!e.shiftKey},xf=function(e){return Wn(e)&&e.shiftKey},Nr=function(e){return setTimeout(e,0)},Mr=function(e,n){var i=-1;return e.every(function(o,r){return n(o)?(i=r,!1):!0}),i},Pn=function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return typeof e=="function"?e.apply(void 0,i):e},ri=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},zf=[],ec=function(e,n){var i=(n==null?void 0:n.document)||document,o=(n==null?void 0:n.trapStack)||zf,r=Tr({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:Qf,isKeyBackward:xf},n),l={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},a,s=function(d,v,b){return d&&d[v]!==void 0?d[v]:r[b||v]},u=function(d,v){var b=typeof(v==null?void 0:v.composedPath)=="function"?v.composedPath():void 0;return l.containerGroups.findIndex(function($){var N=$.container,q=$.tabbableNodes;return N.contains(d)||(b==null?void 0:b.includes(N))||q.find(function(j){return j===d})})},f=function(d){var v=r[d];if(typeof v=="function"){for(var b=arguments.length,$=new Array(b>1?b-1:0),N=1;N<b;N++)$[N-1]=arguments[N];v=v.apply(void 0,$)}if(v===!0&&(v=void 0),!v){if(v===void 0||v===!1)return v;throw new Error("`".concat(d,"` was specified but was not a node, or did not return a node"))}var q=v;if(typeof v=="string"&&(q=i.querySelector(v),!q))throw new Error("`".concat(d,"` as selector refers to no known node"));return q},c=function(){var d=f("initialFocus");if(d===!1)return!1;if(d===void 0||!io(d,r.tabbableOptions))if(u(i.activeElement)>=0)d=i.activeElement;else{var v=l.tabbableGroups[0],b=v&&v.firstTabbableNode;d=b||f("fallbackFocus")}if(!d)throw new Error("Your focus-trap needs to have at least one focusable element");return d},p=function(){if(l.containerGroups=l.containers.map(function(d){var v=Vf(d,r.tabbableOptions),b=Wf(d,r.tabbableOptions),$=v.length>0?v[0]:void 0,N=v.length>0?v[v.length-1]:void 0,q=b.find(function(ie){return cn(ie)}),j=b.slice().reverse().find(function(ie){return cn(ie)}),U=!!v.find(function(ie){return Wt(ie)>0});return{container:d,tabbableNodes:v,focusableNodes:b,posTabIndexesFound:U,firstTabbableNode:$,lastTabbableNode:N,firstDomTabbableNode:q,lastDomTabbableNode:j,nextTabbableNode:function(Q){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,ve=v.indexOf(Q);return ve<0?te?b.slice(b.indexOf(Q)+1).find(function(ye){return cn(ye)}):b.slice(0,b.indexOf(Q)).reverse().find(function(ye){return cn(ye)}):v[ve+(te?1:-1)]}}}),l.tabbableGroups=l.containerGroups.filter(function(d){return d.tabbableNodes.length>0}),l.tabbableGroups.length<=0&&!f("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(l.containerGroups.find(function(d){return d.posTabIndexesFound})&&l.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},h=function S(d){var v=d.activeElement;if(v)return v.shadowRoot&&v.shadowRoot.activeElement!==null?S(v.shadowRoot):v},m=function S(d){if(d!==!1&&d!==h(document)){if(!d||!d.focus){S(c());return}d.focus({preventScroll:!!r.preventScroll}),l.mostRecentlyFocusedNode=d,Xf(d)&&d.select()}},_=function(d){var v=f("setReturnFocus",d);return v||(v===!1?!1:d)},g=function(d){var v=d.target,b=d.event,$=d.isBackward,N=$===void 0?!1:$;v=v||ri(b),p();var q=null;if(l.tabbableGroups.length>0){var j=u(v,b),U=j>=0?l.containerGroups[j]:void 0;if(j<0)N?q=l.tabbableGroups[l.tabbableGroups.length-1].lastTabbableNode:q=l.tabbableGroups[0].firstTabbableNode;else if(N){var ie=Mr(l.tabbableGroups,function(Ie){var Ce=Ie.firstTabbableNode;return v===Ce});if(ie<0&&(U.container===v||io(v,r.tabbableOptions)&&!cn(v,r.tabbableOptions)&&!U.nextTabbableNode(v,!1))&&(ie=j),ie>=0){var Q=ie===0?l.tabbableGroups.length-1:ie-1,te=l.tabbableGroups[Q];q=Wt(v)>=0?te.lastTabbableNode:te.lastDomTabbableNode}else Wn(b)||(q=U.nextTabbableNode(v,!1))}else{var ve=Mr(l.tabbableGroups,function(Ie){var Ce=Ie.lastTabbableNode;return v===Ce});if(ve<0&&(U.container===v||io(v,r.tabbableOptions)&&!cn(v,r.tabbableOptions)&&!U.nextTabbableNode(v))&&(ve=j),ve>=0){var ye=ve===l.tabbableGroups.length-1?0:ve+1,oe=l.tabbableGroups[ye];q=Wt(v)>=0?oe.firstTabbableNode:oe.firstDomTabbableNode}else Wn(b)||(q=U.nextTabbableNode(v))}}else q=f("fallbackFocus");return q},k=function(d){var v=ri(d);if(!(u(v,d)>=0)){if(Pn(r.clickOutsideDeactivates,d)){a.deactivate({returnFocus:r.returnFocusOnDeactivate});return}Pn(r.allowOutsideClick,d)||d.preventDefault()}},I=function(d){var v=ri(d),b=u(v,d)>=0;if(b||v instanceof Document)b&&(l.mostRecentlyFocusedNode=v);else{d.stopImmediatePropagation();var $,N=!0;if(l.mostRecentlyFocusedNode)if(Wt(l.mostRecentlyFocusedNode)>0){var q=u(l.mostRecentlyFocusedNode),j=l.containerGroups[q].tabbableNodes;if(j.length>0){var U=j.findIndex(function(ie){return ie===l.mostRecentlyFocusedNode});U>=0&&(r.isKeyForward(l.recentNavEvent)?U+1<j.length&&($=j[U+1],N=!1):U-1>=0&&($=j[U-1],N=!1))}}else l.containerGroups.some(function(ie){return ie.tabbableNodes.some(function(Q){return Wt(Q)>0})})||(N=!1);else N=!1;N&&($=g({target:l.mostRecentlyFocusedNode,isBackward:r.isKeyBackward(l.recentNavEvent)})),m($||l.mostRecentlyFocusedNode||c())}l.recentNavEvent=void 0},M=function(d){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;l.recentNavEvent=d;var b=g({event:d,isBackward:v});b&&(Wn(d)&&d.preventDefault(),m(b))},B=function(d){if(Zf(d)&&Pn(r.escapeDeactivates,d)!==!1){d.preventDefault(),a.deactivate();return}(r.isKeyForward(d)||r.isKeyBackward(d))&&M(d,r.isKeyBackward(d))},R=function(d){var v=ri(d);u(v,d)>=0||Pn(r.clickOutsideDeactivates,d)||Pn(r.allowOutsideClick,d)||(d.preventDefault(),d.stopImmediatePropagation())},L=function(){if(l.active)return Ir.activateTrap(o,a),l.delayInitialFocusTimer=r.delayInitialFocus?Nr(function(){m(c())}):m(c()),i.addEventListener("focusin",I,!0),i.addEventListener("mousedown",k,{capture:!0,passive:!1}),i.addEventListener("touchstart",k,{capture:!0,passive:!1}),i.addEventListener("click",R,{capture:!0,passive:!1}),i.addEventListener("keydown",B,{capture:!0,passive:!1}),a},H=function(){if(l.active)return i.removeEventListener("focusin",I,!0),i.removeEventListener("mousedown",k,!0),i.removeEventListener("touchstart",k,!0),i.removeEventListener("click",R,!0),i.removeEventListener("keydown",B,!0),a},x=function(d){var v=d.some(function(b){var $=Array.from(b.removedNodes);return $.some(function(N){return N===l.mostRecentlyFocusedNode})});v&&m(c())},F=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(x):void 0,W=function(){F&&(F.disconnect(),l.active&&!l.paused&&l.containers.map(function(d){F.observe(d,{subtree:!0,childList:!0})}))};return a={get active(){return l.active},get paused(){return l.paused},activate:function(d){if(l.active)return this;var v=s(d,"onActivate"),b=s(d,"onPostActivate"),$=s(d,"checkCanFocusTrap");$||p(),l.active=!0,l.paused=!1,l.nodeFocusedBeforeActivation=i.activeElement,v==null||v();var N=function(){$&&p(),L(),W(),b==null||b()};return $?($(l.containers.concat()).then(N,N),this):(N(),this)},deactivate:function(d){if(!l.active)return this;var v=Tr({onDeactivate:r.onDeactivate,onPostDeactivate:r.onPostDeactivate,checkCanReturnFocus:r.checkCanReturnFocus},d);clearTimeout(l.delayInitialFocusTimer),l.delayInitialFocusTimer=void 0,H(),l.active=!1,l.paused=!1,W(),Ir.deactivateTrap(o,a);var b=s(v,"onDeactivate"),$=s(v,"onPostDeactivate"),N=s(v,"checkCanReturnFocus"),q=s(v,"returnFocus","returnFocusOnDeactivate");b==null||b();var j=function(){Nr(function(){q&&m(_(l.nodeFocusedBeforeActivation)),$==null||$()})};return q&&N?(N(_(l.nodeFocusedBeforeActivation)).then(j,j),this):(j(),this)},pause:function(d){if(l.paused||!l.active)return this;var v=s(d,"onPause"),b=s(d,"onPostPause");return l.paused=!0,v==null||v(),H(),W(),b==null||b(),this},unpause:function(d){if(!l.paused||!l.active)return this;var v=s(d,"onUnpause"),b=s(d,"onPostUnpause");return l.paused=!1,v==null||v(),p(),L(),W(),b==null||b(),this},updateContainerElements:function(d){var v=[].concat(d).filter(Boolean);return l.containers=v.map(function(b){return typeof b=="string"?i.querySelector(b):b}),l.active&&p(),W(),this}},a.updateContainerElements(e),a};function tc(t={}){let e;const{immediate:n,...i}=t,o=We(!1),r=We(!1),l=c=>e==null?void 0:e.activate(c),a=c=>{e==null||e.deactivate(c)},s=()=>{e&&(e.pause(),r.set(!0))},u=()=>{e&&(e.unpause(),r.set(!1))};return{useFocusTrap:c=>(e=ec(c,{...i,onActivate(){var p;o.set(!0),(p=t.onActivate)==null||p.call(t)},onDeactivate(){var p;o.set(!1),(p=t.onDeactivate)==null||p.call(t)}}),n&&l(),{destroy(){a(),e=void 0}}),hasFocus:mr(o),isPaused:mr(r),activate:l,deactivate:a,pause:s,unpause:u}}const li=[];function nc(t,e){let n=Je;function i(){const r=li.indexOf(t);r>=0&&li.splice(r,1)}function o(r){n();const{open:l,onClose:a,shouldCloseOnInteractOutside:s,closeOnInteractOutside:u}=r;ca(100).then(()=>{l?li.push(t):i()});function f(){return nf(li)===t}function c(){f()&&a&&(a(),i())}function p(m){const _=m.target;Qo(_)&&_&&f()&&(m.preventDefault(),m.stopPropagation(),m.stopImmediatePropagation())}function h(m){s!=null&&s(m)&&f()&&(m.preventDefault(),m.stopPropagation(),m.stopImmediatePropagation(),c())}n=oc(t,{onInteractOutsideStart:p,onInteractOutside:u?h:void 0,enabled:l}).destroy}return o(e),{update:o,destroy(){i(),n()}}}const ic=(t,e="body")=>{let n;if(!Rt(e)&&typeof e!="string")return{destroy:Je};async function i(r){if(e=r,typeof e=="string"){if(n=document.querySelector(e),n===null&&(await Yo(),n=document.querySelector(e)),n===null)throw new Error(`No element found matching css selector: "${e}"`)}else if(e instanceof HTMLElement)n=e;else throw new TypeError(`Unknown portal target type: ${e===null?"null":typeof e}. Allowed types: string (CSS selector) or HTMLElement.`);t.dataset.portal="",n.appendChild(t),t.hidden=!1}function o(){t.remove()}return i(e),{update:i,destroy:o}};function oc(t,e){let n=Je,i=!1,o=!1,r=!1;function l(u){n();const{onInteractOutside:f,onInteractOutsideStart:c,enabled:p}=u;if(!p)return;function h(g){f&&Er(g,t)&&(c==null||c(g));const k=g.target;Qo(k)&&ya(t,k)&&(o=!0),i=!0}function m(g){f==null||f(g)}const _=rc(t);if(typeof PointerEvent<"u"){const g=k=>{a(k)&&m(k),s()};n=vn(Lt(_,"pointerdown",h,!0),Lt(_,"pointerup",g,!0))}else{const g=I=>{r?r=!1:a(I)&&m(I),s()},k=I=>{r=!0,a(I)&&m(I),s()};n=vn(Lt(_,"mousedown",h,!0),Lt(_,"mouseup",g,!0),Lt(_,"touchstart",h,!0),Lt(_,"touchend",k,!0))}}function a(u){return!!(i&&!o&&Er(u,t))}function s(){i=!1,o=!1}return l(e),{update:l,destroy:n}}function Er(t,e){if("button"in t&&t.button>0)return!1;const n=t.target;if(!Qo(n))return!1;const i=n.ownerDocument;return!i||!i.documentElement.contains(n)?!1:e&&!ya(e,n)}function ya(t,e){return t===e||t.contains(e)}function rc(t){return(t==null?void 0:t.ownerDocument)??document}Jt(!1),Jt(!1),Jt(void 0);function lc(){return{elements:{root:gt("label",{action:e=>({destroy:qn(e,"mousedown",i=>{!i.defaultPrevented&&i.detail>1&&i.preventDefault()})})})}}}const{name:jt}=rf("dialog"),sc={preventScroll:!0,closeOnEscape:!0,closeOnOutsideClick:!0,role:"dialog",defaultOpen:!1,portal:void 0,forceVisible:!1,openFocus:void 0,closeFocus:void 0,onOutsideClick:void 0},ac=["content","title","description"];function wa(t){const e={...sc,...t},n=wo(cf(e,"ids")),{preventScroll:i,closeOnEscape:o,closeOnOutsideClick:r,role:l,portal:a,forceVisible:s,openFocus:u,closeFocus:f,onOutsideClick:c}=n,p=ei.writable(null),h=wo({..._f(ac),...e.ids}),m=e.open??We(e.defaultOpen),_=df(m,e==null?void 0:e.onOpenChange),g=zn([_,s],([S,d])=>S||d);let k=Je;function I(S){const d=S.currentTarget,v=S.currentTarget;!Rt(d)||!Rt(v)||(_.set(!0),p.set(v))}function M(){_.set(!1),kr({prop:f.get(),defaultEl:p.get()})}const B=gt(jt("trigger"),{stores:[_],returned:([S])=>({"aria-haspopup":"dialog","aria-expanded":S,type:"button"}),action:S=>({destroy:vn(qn(S,"click",v=>{I(v)}),qn(S,"keydown",v=>{v.key!==Rn.ENTER&&v.key!==Rn.SPACE||(v.preventDefault(),I(v))}))})}),R=gt(jt("overlay"),{stores:[g,_],returned:([S,d])=>({hidden:S?void 0:!0,tabindex:-1,style:yo({display:S?void 0:"none"}),"aria-hidden":!0,"data-state":d?"open":"closed"}),action:S=>{let d=Je;if(o.get()){const v=Cr(S,{handler:()=>{M()}});v&&v.destroy&&(d=v.destroy)}return{destroy(){d()}}}}),L=gt(jt("content"),{stores:[g,h.content,h.description,h.title,_],returned:([S,d,v,b,$])=>({id:d,role:l.get(),"aria-describedby":v,"aria-labelledby":b,"aria-modal":S?"true":void 0,"data-state":$?"open":"closed",tabindex:-1,hidden:S?void 0:!0,style:yo({display:S?void 0:"none"})}),action:S=>{let d=Je,v=Je;const b=vn(Ht([_],([$])=>{if(!$)return;const N=tc({immediate:!1,escapeDeactivates:!0,clickOutsideDeactivates:!0,returnFocusOnDeactivate:!1,fallbackFocus:S});d=N.activate,v=N.deactivate;const q=N.useFocusTrap(S);return q&&q.destroy?q.destroy:N.deactivate}),Ht([r,_],([$,N])=>nc(S,{open:N,closeOnInteractOutside:$,onClose(){M()},shouldCloseOnInteractOutside(q){var j;return(j=c.get())==null||j(q),!q.defaultPrevented}}).destroy),Ht([o],([$])=>{if(!$)return Je;const N=Cr(S,{handler:()=>{M()}});return N&&N.destroy?N.destroy:Je}),Ht([g],([$])=>{Yo().then(()=>{$?d():v()})}));return{destroy:()=>{k(),b()}}}}),H=gt(jt("portalled"),{stores:a,returned:S=>({"data-portal":of(S)}),action:S=>{const d=Ht([a],([v])=>{if(v===null)return Je;const b=If(S,v);if(b===null)return Je;const $=ic(S,b);return $&&$.destroy?$.destroy:Je});return{destroy(){d()}}}}),x=gt(jt("title"),{stores:[h.title],returned:([S])=>({id:S})}),F=gt(jt("description"),{stores:[h.description],returned:([S])=>({id:S})}),W=gt(jt("close"),{returned:()=>({type:"button"}),action:S=>({destroy:vn(qn(S,"click",()=>{M()}),qn(S,"keydown",v=>{v.key!==Rn.SPACE&&v.key!==Rn.ENTER||(v.preventDefault(),M())}))})});return Ht([_,i],([S,d])=>{if(lf){if(d&&S&&(k=Sf()),S){const v=document.getElementById(h.content.get());kr({prop:u.get(),defaultEl:v})}return()=>{s.get()||k()}}}),{ids:h,elements:{content:L,trigger:B,title:x,description:F,overlay:R,close:W,portalled:H},states:{open:_},options:n}}const uc={orientation:"horizontal",decorative:!1},fc=t=>{const e={...uc,...t},n=wo(e),{orientation:i,decorative:o}=n;return{elements:{root:gt("separator",{stores:[i,o],returned:([l,a])=>({role:a?"none":"separator","aria-orientation":l==="vertical"?l:void 0,"aria-hidden":a,"data-orientation":l})})},options:n}};function Xi(t,e){const n={};return e.forEach(i=>{n[i]={[`data-${t}-${i}`]:""}}),i=>n[i]}function Zi(){const t=Gu();return e=>{const{originalEvent:n}=e.detail,{cancelable:i}=e,o=n.type;t(o,{originalEvent:n,currentTarget:n.currentTarget},{cancelable:i})||e.preventDefault()}}function xo(t){const e={};for(const n in t){const i=t[n];i!==void 0&&(e[n]=i)}return e}function Li(t){return function(e,n){if(n===void 0)return;const i=t[e];i&&i.set(n)}}function ka(){return{NAME:"alert-dialog",PARTS:["action","cancel","content","description","overlay","portal","title","trigger"]}}function cc(t){const{NAME:e,PARTS:n}=ka(),i=Xi(e,n),o=wa({...xo(t),role:"alertdialog",forceVisible:!0}),r={...o,getAttrs:i,updateOption:Li(o.options)};return ia(e,r),{...r,updateOption:Li(r.options),getAttrs:i}}function nn(){const{NAME:t}=ka();return oa(t)}const dc=t=>({ids:t&1}),Pr=t=>({ids:t[0]});function pc(t){let e;const n=t[12].default,i=fe(n,t,t[11],Pr);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,[r]){i&&i.p&&(!e||r&2049)&&de(i,n,o,o[11],e?ce(n,o[11],r,dc):pe(o[11]),Pr)},i(o){e||(w(i,o),e=!0)},o(o){T(i,o),e=!1},d(o){i&&i.d(o)}}}function mc(t,e,n){let i,{$$slots:o={},$$scope:r}=e,{preventScroll:l=void 0}=e,{closeOnEscape:a=void 0}=e,{closeOnOutsideClick:s=!1}=e,{portal:u=void 0}=e,{open:f=void 0}=e,{onOpenChange:c=void 0}=e,{openFocus:p=void 0}=e,{closeFocus:h=void 0}=e,{onOutsideClick:m=void 0}=e;const{states:{open:_},updateOption:g,ids:k}=cc({closeOnEscape:a,preventScroll:l,closeOnOutsideClick:s,portal:u,forceVisible:!0,defaultOpen:f,openFocus:p,closeFocus:h,onOutsideClick:m,onOpenChange:({next:M})=>(f!==M&&(c==null||c(M),n(2,f=M)),M)}),I=zn([k.content,k.description,k.title],([M,B,R])=>({content:M,description:B,title:R}));return se(t,I,M=>n(0,i=M)),t.$$set=M=>{"preventScroll"in M&&n(3,l=M.preventScroll),"closeOnEscape"in M&&n(4,a=M.closeOnEscape),"closeOnOutsideClick"in M&&n(5,s=M.closeOnOutsideClick),"portal"in M&&n(6,u=M.portal),"open"in M&&n(2,f=M.open),"onOpenChange"in M&&n(7,c=M.onOpenChange),"openFocus"in M&&n(8,p=M.openFocus),"closeFocus"in M&&n(9,h=M.closeFocus),"onOutsideClick"in M&&n(10,m=M.onOutsideClick),"$$scope"in M&&n(11,r=M.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&f!==void 0&&_.set(f),t.$$.dirty&8&&g("preventScroll",l),t.$$.dirty&16&&g("closeOnEscape",a),t.$$.dirty&32&&g("closeOnOutsideClick",s),t.$$.dirty&64&&g("portal",u),t.$$.dirty&256&&g("openFocus",p),t.$$.dirty&512&&g("closeFocus",h),t.$$.dirty&1024&&g("onOutsideClick",m)},[i,I,f,l,a,s,u,c,p,h,m,r,o]}class hc extends _e{constructor(e){super(),he(this,e,mc,pc,le,{preventScroll:3,closeOnEscape:4,closeOnOutsideClick:5,portal:6,open:2,onOpenChange:7,openFocus:8,closeFocus:9,onOutsideClick:10})}}const _c=t=>({builder:t&8}),Or=t=>({builder:t[3]}),gc=t=>({builder:t&8}),$r=t=>({builder:t[3]});function bc(t){let e=t[1],n,i,o=t[1]&&oo(t);return{c(){o&&o.c(),n=Pe()},m(r,l){o&&o.m(r,l),A(r,n,l),i=!0},p(r,l){r[1]?e?le(e,r[1])?(o.d(1),o=oo(r),e=r[1],o.c(),o.m(n.parentNode,n)):o.p(r,l):(o=oo(r),e=r[1],o.c(),o.m(n.parentNode,n)):e&&(o.d(1),o=null,e=r[1])},i(r){i||(w(o,r),i=!0)},o(r){T(o,r),i=!1},d(r){r&&C(n),o&&o.d(r)}}}function vc(t){let e;const n=t[9].default,i=fe(n,t,t[8],$r);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&264)&&de(i,n,o,o[8],e?ce(n,o[8],r,gc):pe(o[8]),$r)},i(o){e||(w(i,o),e=!0)},o(o){T(i,o),e=!1},d(o){i&&i.d(o)}}}function oo(t){let e,n,i,o;const r=t[9].default,l=fe(r,t,t[8],Or);let a=[t[3],t[5]],s={};for(let u=0;u<a.length;u+=1)s=V(s,a[u]);return{c(){e=P(t[1]),l&&l.c(),Ft(t[1])(e,s)},m(u,f){A(u,e,f),l&&l.m(e,null),t[10](e),n=!0,i||(o=De(t[3].action(e)),i=!0)},p(u,f){l&&l.p&&(!n||f&264)&&de(l,r,u,u[8],n?ce(r,u[8],f,_c):pe(u[8]),Or),Ft(u[1])(e,s=me(a,[f&8&&u[3],f&32&&u[5]]))},i(u){n||(w(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&C(e),l&&l.d(u),t[10](null),i=!1,o()}}}function yc(t){let e,n,i,o;const r=[vc,bc],l=[];function a(s,u){return s[2]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),i=Pe()},m(s,u){l[e].m(s,u),A(s,i,u),o=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),T(l[f],1,1,()=>{l[f]=null}),Ee(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),w(n,1),n.m(i.parentNode,i))},i(s){o||(w(n),o=!0)},o(s){T(n),o=!1},d(s){s&&C(i),l[e].d(s)}}}function wc(t,e,n){let i;const o=["level","asChild","id","el"];let r=ne(e,o),l,{$$slots:a={},$$scope:s}=e,{level:u="h2"}=e,{asChild:f=!1}=e,{id:c=void 0}=e,{el:p=void 0}=e;const{elements:{title:h},ids:m,getAttrs:_}=nn();se(t,h,I=>n(7,l=I));const g=_("title");function k(I){Ae[I?"unshift":"push"](()=>{p=I,n(0,p)})}return t.$$set=I=>{e=V(V({},e),Ne(I)),n(5,r=ne(e,o)),"level"in I&&n(1,u=I.level),"asChild"in I&&n(2,f=I.asChild),"id"in I&&n(6,c=I.id),"el"in I&&n(0,p=I.el),"$$scope"in I&&n(8,s=I.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&c&&m.title.set(c),t.$$.dirty&128&&n(3,i=l),t.$$.dirty&8&&Object.assign(i,g)},[p,u,f,i,h,r,c,l,s,a,k]}let kc=class extends _e{constructor(e){super(),he(this,e,wc,yc,le,{level:1,asChild:2,id:6,el:0})}};const Cc=t=>({builder:t&4}),Lr=t=>({builder:t[2]}),Sc=t=>({builder:t&4}),Fr=t=>({builder:t[2]});function Ac(t){let e,n,i,o;const r=t[8].default,l=fe(r,t,t[7],Lr);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=V(s,a[u]);return{c(){e=P("button"),l&&l.c(),re(e,s)},m(u,f){A(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[9](e),n=!0,i||(o=[De(t[2].action(e)),K(e,"m-click",t[4]),K(e,"m-keydown",t[4])],i=!0)},p(u,f){l&&l.p&&(!n||f&132)&&de(l,r,u,u[7],n?ce(r,u[7],f,Cc):pe(u[7]),Lr),re(e,s=me(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(w(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&C(e),l&&l.d(u),t[9](null),i=!1,qe(o)}}}function Tc(t){let e;const n=t[8].default,i=fe(n,t,t[7],Fr);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&132)&&de(i,n,o,o[7],e?ce(n,o[7],r,Sc):pe(o[7]),Fr)},i(o){e||(w(i,o),e=!0)},o(o){T(i,o),e=!1},d(o){i&&i.d(o)}}}function Ic(t){let e,n,i,o;const r=[Tc,Ac],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),i=Pe()},m(s,u){l[e].m(s,u),A(s,i,u),o=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),T(l[f],1,1,()=>{l[f]=null}),Ee(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),w(n,1),n.m(i.parentNode,i))},i(s){o||(w(n),o=!0)},o(s){T(n),o=!1},d(s){s&&C(i),l[e].d(s)}}}function Nc(t,e,n){let i;const o=["asChild","el"];let r=ne(e,o),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:p}=nn();se(t,c,g=>n(6,l=g));const h=Zi(),m=p("action");function _(g){Ae[g?"unshift":"push"](()=>{f=g,n(0,f)})}return t.$$set=g=>{e=V(V({},e),Ne(g)),n(5,r=ne(e,o)),"asChild"in g&&n(1,u=g.asChild),"el"in g&&n(0,f=g.el),"$$scope"in g&&n(7,s=g.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,i=l),t.$$.dirty&4&&Object.assign(i,m)},[f,u,i,c,h,r,l,s,a,_]}let Mc=class extends _e{constructor(e){super(),he(this,e,Nc,Ic,le,{asChild:1,el:0})}};const Ec=t=>({builder:t&4}),qr=t=>({builder:t[2]}),Pc=t=>({builder:t&4}),Rr=t=>({builder:t[2]});function Oc(t){let e,n,i,o;const r=t[8].default,l=fe(r,t,t[7],qr);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=V(s,a[u]);return{c(){e=P("button"),l&&l.c(),re(e,s)},m(u,f){A(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[9](e),n=!0,i||(o=[De(t[2].action(e)),K(e,"m-click",t[4]),K(e,"m-keydown",t[4])],i=!0)},p(u,f){l&&l.p&&(!n||f&132)&&de(l,r,u,u[7],n?ce(r,u[7],f,Ec):pe(u[7]),qr),re(e,s=me(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(w(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&C(e),l&&l.d(u),t[9](null),i=!1,qe(o)}}}function $c(t){let e;const n=t[8].default,i=fe(n,t,t[7],Rr);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&132)&&de(i,n,o,o[7],e?ce(n,o[7],r,Pc):pe(o[7]),Rr)},i(o){e||(w(i,o),e=!0)},o(o){T(i,o),e=!1},d(o){i&&i.d(o)}}}function Lc(t){let e,n,i,o;const r=[$c,Oc],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),i=Pe()},m(s,u){l[e].m(s,u),A(s,i,u),o=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),T(l[f],1,1,()=>{l[f]=null}),Ee(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),w(n,1),n.m(i.parentNode,i))},i(s){o||(w(n),o=!0)},o(s){T(n),o=!1},d(s){s&&C(i),l[e].d(s)}}}function Fc(t,e,n){let i;const o=["asChild","el"];let r=ne(e,o),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:p}=nn();se(t,c,g=>n(6,l=g));const h=Zi(),m=p("cancel");function _(g){Ae[g?"unshift":"push"](()=>{f=g,n(0,f)})}return t.$$set=g=>{e=V(V({},e),Ne(g)),n(5,r=ne(e,o)),"asChild"in g&&n(1,u=g.asChild),"el"in g&&n(0,f=g.el),"$$scope"in g&&n(7,s=g.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,i=l),t.$$.dirty&4&&Object.assign(i,m)},[f,u,i,c,h,r,l,s,a,_]}let qc=class extends _e{constructor(e){super(),he(this,e,Fc,Lc,le,{asChild:1,el:0})}};const Rc=t=>({builder:t&4}),Dr=t=>({builder:t[2]}),Dc=t=>({builder:t&4}),Br=t=>({builder:t[2]});function Bc(t){let e,n,i,o;const r=t[7].default,l=fe(r,t,t[6],Dr);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=V(s,a[u]);return{c(){e=P("div"),l&&l.c(),re(e,s)},m(u,f){A(u,e,f),l&&l.m(e,null),t[8](e),n=!0,i||(o=De(t[2].action(e)),i=!0)},p(u,f){l&&l.p&&(!n||f&68)&&de(l,r,u,u[6],n?ce(r,u[6],f,Rc):pe(u[6]),Dr),re(e,s=me(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(w(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&C(e),l&&l.d(u),t[8](null),i=!1,o()}}}function Gc(t){let e;const n=t[7].default,i=fe(n,t,t[6],Br);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&68)&&de(i,n,o,o[6],e?ce(n,o[6],r,Dc):pe(o[6]),Br)},i(o){e||(w(i,o),e=!0)},o(o){T(i,o),e=!1},d(o){i&&i.d(o)}}}function jc(t){let e,n,i,o;const r=[Gc,Bc],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),i=Pe()},m(s,u){l[e].m(s,u),A(s,i,u),o=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),T(l[f],1,1,()=>{l[f]=null}),Ee(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),w(n,1),n.m(i.parentNode,i))},i(s){o||(w(n),o=!0)},o(s){T(n),o=!1},d(s){s&&C(i),l[e].d(s)}}}function Hc(t,e,n){let i;const o=["asChild","el"];let r=ne(e,o),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{portalled:c},getAttrs:p}=nn();se(t,c,_=>n(5,l=_));const h=p("portal");function m(_){Ae[_?"unshift":"push"](()=>{f=_,n(0,f)})}return t.$$set=_=>{e=V(V({},e),Ne(_)),n(4,r=ne(e,o)),"asChild"in _&&n(1,u=_.asChild),"el"in _&&n(0,f=_.el),"$$scope"in _&&n(6,s=_.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,i=l),t.$$.dirty&4&&Object.assign(i,h)},[f,u,i,c,r,l,s,a,m]}let Vc=class extends _e{constructor(e){super(),he(this,e,Hc,jc,le,{asChild:1,el:0})}};const Wc=t=>({builder:t[0]&256}),Gr=t=>({builder:t[8]}),Kc=t=>({builder:t[0]&256}),jr=t=>({builder:t[8]}),Uc=t=>({builder:t[0]&256}),Hr=t=>({builder:t[8]}),Yc=t=>({builder:t[0]&256}),Vr=t=>({builder:t[8]}),Jc=t=>({builder:t[0]&256}),Wr=t=>({builder:t[8]}),Xc=t=>({builder:t[0]&256}),Kr=t=>({builder:t[8]});function Zc(t){let e,n,i,o;const r=t[16].default,l=fe(r,t,t[15],Gr);let a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=V(s,a[u]);return{c(){e=P("div"),l&&l.c(),re(e,s)},m(u,f){A(u,e,f),l&&l.m(e,null),t[56](e),n=!0,i||(o=[De(t[8].action(e)),K(e,"pointerdown",t[45]),K(e,"pointermove",t[46]),K(e,"pointerup",t[47]),K(e,"touchend",t[48]),K(e,"touchstart",t[49]),K(e,"touchcancel",t[50]),K(e,"touchmove",t[51])],i=!0)},p(u,f){l&&l.p&&(!n||f[0]&33024)&&de(l,r,u,u[15],n?ce(r,u[15],f,Wc):pe(u[15]),Gr),re(e,s=me(a,[f[0]&256&&u[8],f[0]&4096&&u[12]]))},i(u){n||(w(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&C(e),l&&l.d(u),t[56](null),i=!1,qe(o)}}}function Qc(t){let e,n,i,o,r;const l=t[16].default,a=fe(l,t,t[15],jr);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=V(u,s[f]);return{c(){e=P("div"),a&&a.c(),re(e,u)},m(f,c){A(f,e,c),a&&a.m(e,null),t[55](e),i=!0,o||(r=[De(t[8].action(e)),K(e,"pointerdown",t[38]),K(e,"pointermove",t[39]),K(e,"pointerup",t[40]),K(e,"touchend",t[41]),K(e,"touchstart",t[42]),K(e,"touchcancel",t[43]),K(e,"touchmove",t[44])],o=!0)},p(f,c){t=f,a&&a.p&&(!i||c[0]&33024)&&de(a,l,t,t[15],i?ce(l,t[15],c,Kc):pe(t[15]),jr),re(e,u=me(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){i||(w(a,f),n&&n.end(1),i=!0)},o(f){T(a,f),f&&(n=Bt(e,t[5],t[6])),i=!1},d(f){f&&C(e),a&&a.d(f),t[55](null),f&&n&&n.end(),o=!1,qe(r)}}}function xc(t){let e,n,i,o,r;const l=t[16].default,a=fe(l,t,t[15],Hr);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=V(u,s[f]);return{c(){e=P("div"),a&&a.c(),re(e,u)},m(f,c){A(f,e,c),a&&a.m(e,null),t[54](e),i=!0,o||(r=[De(t[8].action(e)),K(e,"pointerdown",t[31]),K(e,"pointermove",t[32]),K(e,"pointerup",t[33]),K(e,"touchend",t[34]),K(e,"touchstart",t[35]),K(e,"touchcancel",t[36]),K(e,"touchmove",t[37])],o=!0)},p(f,c){t=f,a&&a.p&&(!i||c[0]&33024)&&de(a,l,t,t[15],i?ce(l,t[15],c,Uc):pe(t[15]),Hr),re(e,u=me(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){i||(w(a,f),f&&(n||Qe(()=>{n=Dt(e,t[3],t[4]),n.start()})),i=!0)},o(f){T(a,f),i=!1},d(f){f&&C(e),a&&a.d(f),t[54](null),o=!1,qe(r)}}}function zc(t){let e,n,i,o,r,l;const a=t[16].default,s=fe(a,t,t[15],Vr);let u=[t[8],t[12]],f={};for(let c=0;c<u.length;c+=1)f=V(f,u[c]);return{c(){e=P("div"),s&&s.c(),re(e,f)},m(c,p){A(c,e,p),s&&s.m(e,null),t[53](e),o=!0,r||(l=[De(t[8].action(e)),K(e,"pointerdown",t[24]),K(e,"pointermove",t[25]),K(e,"pointerup",t[26]),K(e,"touchend",t[27]),K(e,"touchstart",t[28]),K(e,"touchcancel",t[29]),K(e,"touchmove",t[30])],r=!0)},p(c,p){t=c,s&&s.p&&(!o||p[0]&33024)&&de(s,a,t,t[15],o?ce(a,t[15],p,Yc):pe(t[15]),Vr),re(e,f=me(u,[p[0]&256&&t[8],p[0]&4096&&t[12]]))},i(c){o||(w(s,c),c&&Qe(()=>{o&&(i&&i.end(1),n=Dt(e,t[3],t[4]),n.start())}),o=!0)},o(c){T(s,c),n&&n.invalidate(),c&&(i=Bt(e,t[5],t[6])),o=!1},d(c){c&&C(e),s&&s.d(c),t[53](null),c&&i&&i.end(),r=!1,qe(l)}}}function ed(t){let e,n,i,o,r;const l=t[16].default,a=fe(l,t,t[15],Wr);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=V(u,s[f]);return{c(){e=P("div"),a&&a.c(),re(e,u)},m(f,c){A(f,e,c),a&&a.m(e,null),t[52](e),i=!0,o||(r=[De(t[8].action(e)),K(e,"pointerdown",t[17]),K(e,"pointermove",t[18]),K(e,"pointerup",t[19]),K(e,"touchend",t[20]),K(e,"touchstart",t[21]),K(e,"touchcancel",t[22]),K(e,"touchmove",t[23])],o=!0)},p(f,c){t=f,a&&a.p&&(!i||c[0]&33024)&&de(a,l,t,t[15],i?ce(l,t[15],c,Jc):pe(t[15]),Wr),re(e,u=me(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){i||(w(a,f),f&&Qe(()=>{i&&(n||(n=qt(e,t[1],t[2],!0)),n.run(1))}),i=!0)},o(f){T(a,f),f&&(n||(n=qt(e,t[1],t[2],!1)),n.run(0)),i=!1},d(f){f&&C(e),a&&a.d(f),t[52](null),f&&n&&n.end(),o=!1,qe(r)}}}function td(t){let e;const n=t[16].default,i=fe(n,t,t[15],Kr);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r[0]&33024)&&de(i,n,o,o[15],e?ce(n,o[15],r,Xc):pe(o[15]),Kr)},i(o){e||(w(i,o),e=!0)},o(o){T(i,o),e=!1},d(o){i&&i.d(o)}}}function nd(t){let e,n,i,o;const r=[td,ed,zc,xc,Qc,Zc],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),i=Pe()},m(s,u){~e&&l[e].m(s,u),A(s,i,u),o=!0},p(s,u){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Me(),T(l[f],1,1,()=>{l[f]=null}),Ee()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),w(n,1),n.m(i.parentNode,i)):n=null)},i(s){o||(w(n),o=!0)},o(s){T(n),o=!1},d(s){s&&C(i),~e&&l[e].d(s)}}}function id(t,e,n){let i;const o=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","id","asChild","el"];let r=ne(e,o),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:p=void 0}=e,{inTransitionConfig:h=void 0}=e,{outTransition:m=void 0}=e,{outTransitionConfig:_=void 0}=e,{id:g=void 0}=e,{asChild:k=!1}=e,{el:I=void 0}=e;const{elements:{content:M},states:{open:B},ids:R,getAttrs:L}=nn();se(t,M,E=>n(14,l=E)),se(t,B,E=>n(9,a=E));const H=L("content");function x(E){Z.call(this,t,E)}function F(E){Z.call(this,t,E)}function W(E){Z.call(this,t,E)}function S(E){Z.call(this,t,E)}function d(E){Z.call(this,t,E)}function v(E){Z.call(this,t,E)}function b(E){Z.call(this,t,E)}function $(E){Z.call(this,t,E)}function N(E){Z.call(this,t,E)}function q(E){Z.call(this,t,E)}function j(E){Z.call(this,t,E)}function U(E){Z.call(this,t,E)}function ie(E){Z.call(this,t,E)}function Q(E){Z.call(this,t,E)}function te(E){Z.call(this,t,E)}function ve(E){Z.call(this,t,E)}function ye(E){Z.call(this,t,E)}function oe(E){Z.call(this,t,E)}function Ie(E){Z.call(this,t,E)}function Ce(E){Z.call(this,t,E)}function Se(E){Z.call(this,t,E)}function Le(E){Z.call(this,t,E)}function be(E){Z.call(this,t,E)}function Fe(E){Z.call(this,t,E)}function ee(E){Z.call(this,t,E)}function Oe(E){Z.call(this,t,E)}function Ke(E){Z.call(this,t,E)}function Ze(E){Z.call(this,t,E)}function nt(E){Z.call(this,t,E)}function Ue(E){Z.call(this,t,E)}function Re(E){Z.call(this,t,E)}function ut(E){Z.call(this,t,E)}function ct(E){Z.call(this,t,E)}function xe(E){Z.call(this,t,E)}function ze(E){Z.call(this,t,E)}function He(E){Ae[E?"unshift":"push"](()=>{I=E,n(0,I)})}function Be(E){Ae[E?"unshift":"push"](()=>{I=E,n(0,I)})}function we(E){Ae[E?"unshift":"push"](()=>{I=E,n(0,I)})}function z(E){Ae[E?"unshift":"push"](()=>{I=E,n(0,I)})}function je(E){Ae[E?"unshift":"push"](()=>{I=E,n(0,I)})}return t.$$set=E=>{e=V(V({},e),Ne(E)),n(12,r=ne(e,o)),"transition"in E&&n(1,f=E.transition),"transitionConfig"in E&&n(2,c=E.transitionConfig),"inTransition"in E&&n(3,p=E.inTransition),"inTransitionConfig"in E&&n(4,h=E.inTransitionConfig),"outTransition"in E&&n(5,m=E.outTransition),"outTransitionConfig"in E&&n(6,_=E.outTransitionConfig),"id"in E&&n(13,g=E.id),"asChild"in E&&n(7,k=E.asChild),"el"in E&&n(0,I=E.el),"$$scope"in E&&n(15,u=E.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&8192&&g&&R.content.set(g),t.$$.dirty[0]&16384&&n(8,i=l),t.$$.dirty[0]&256&&Object.assign(i,H)},[I,f,c,p,h,m,_,k,i,a,M,B,r,g,l,u,s,x,F,W,S,d,v,b,$,N,q,j,U,ie,Q,te,ve,ye,oe,Ie,Ce,Se,Le,be,Fe,ee,Oe,Ke,Ze,nt,Ue,Re,ut,ct,xe,ze,He,Be,we,z,je]}let od=class extends _e{constructor(e){super(),he(this,e,id,nd,le,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,id:13,asChild:7,el:0},null,[-1,-1])}};const rd=t=>({builder:t&256}),Ur=t=>({builder:t[8]});function ld(t){let e,n,i,o=[t[8],t[12]],r={};for(let l=0;l<o.length;l+=1)r=V(r,o[l]);return{c(){e=P("div"),re(e,r)},m(l,a){A(l,e,a),t[20](e),n||(i=De(t[8].action(e)),n=!0)},p(l,a){re(e,r=me(o,[a&256&&l[8],a&4096&&l[12]]))},i:ue,o:ue,d(l){l&&C(e),t[20](null),n=!1,i()}}}function sd(t){let e,n,i,o,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=V(a,l[s]);return{c(){e=P("div"),re(e,a)},m(s,u){A(s,e,u),t[19](e),i=!0,o||(r=De(t[8].action(e)),o=!0)},p(s,u){t=s,re(e,a=me(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){i||(n&&n.end(1),i=!0)},o(s){s&&(n=Bt(e,t[5],t[6])),i=!1},d(s){s&&C(e),t[19](null),s&&n&&n.end(),o=!1,r()}}}function ad(t){let e,n,i,o,r=[t[8],t[12]],l={};for(let a=0;a<r.length;a+=1)l=V(l,r[a]);return{c(){e=P("div"),re(e,l)},m(a,s){A(a,e,s),t[18](e),i||(o=De(t[8].action(e)),i=!0)},p(a,s){t=a,re(e,l=me(r,[s&256&&t[8],s&4096&&t[12]]))},i(a){a&&(n||Qe(()=>{n=Dt(e,t[3],t[4]),n.start()}))},o:ue,d(a){a&&C(e),t[18](null),i=!1,o()}}}function ud(t){let e,n,i,o,r,l,a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=V(s,a[u]);return{c(){e=P("div"),re(e,s)},m(u,f){A(u,e,f),t[17](e),o=!0,r||(l=De(t[8].action(e)),r=!0)},p(u,f){t=u,re(e,s=me(a,[f&256&&t[8],f&4096&&t[12]]))},i(u){o||(u&&Qe(()=>{o&&(i&&i.end(1),n=Dt(e,t[3],t[4]),n.start())}),o=!0)},o(u){n&&n.invalidate(),u&&(i=Bt(e,t[5],t[6])),o=!1},d(u){u&&C(e),t[17](null),u&&i&&i.end(),r=!1,l()}}}function fd(t){let e,n,i,o,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=V(a,l[s]);return{c(){e=P("div"),re(e,a)},m(s,u){A(s,e,u),t[16](e),i=!0,o||(r=De(t[8].action(e)),o=!0)},p(s,u){t=s,re(e,a=me(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){i||(s&&Qe(()=>{i&&(n||(n=qt(e,t[1],t[2],!0)),n.run(1))}),i=!0)},o(s){s&&(n||(n=qt(e,t[1],t[2],!1)),n.run(0)),i=!1},d(s){s&&C(e),t[16](null),s&&n&&n.end(),o=!1,r()}}}function cd(t){let e;const n=t[15].default,i=fe(n,t,t[14],Ur);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&16640)&&de(i,n,o,o[14],e?ce(n,o[14],r,rd):pe(o[14]),Ur)},i(o){e||(w(i,o),e=!0)},o(o){T(i,o),e=!1},d(o){i&&i.d(o)}}}function dd(t){let e,n,i,o;const r=[cd,fd,ud,ad,sd,ld],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),i=Pe()},m(s,u){~e&&l[e].m(s,u),A(s,i,u),o=!0},p(s,[u]){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Me(),T(l[f],1,1,()=>{l[f]=null}),Ee()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),w(n,1),n.m(i.parentNode,i)):n=null)},i(s){o||(w(n),o=!0)},o(s){T(n),o=!1},d(s){s&&C(i),~e&&l[e].d(s)}}}function pd(t,e,n){let i;const o=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","el"];let r=ne(e,o),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:p=void 0}=e,{inTransitionConfig:h=void 0}=e,{outTransition:m=void 0}=e,{outTransitionConfig:_=void 0}=e,{asChild:g=!1}=e,{el:k=void 0}=e;const{elements:{overlay:I},states:{open:M},getAttrs:B}=nn();se(t,I,S=>n(13,l=S)),se(t,M,S=>n(9,a=S));const R=B("overlay");function L(S){Ae[S?"unshift":"push"](()=>{k=S,n(0,k)})}function H(S){Ae[S?"unshift":"push"](()=>{k=S,n(0,k)})}function x(S){Ae[S?"unshift":"push"](()=>{k=S,n(0,k)})}function F(S){Ae[S?"unshift":"push"](()=>{k=S,n(0,k)})}function W(S){Ae[S?"unshift":"push"](()=>{k=S,n(0,k)})}return t.$$set=S=>{e=V(V({},e),Ne(S)),n(12,r=ne(e,o)),"transition"in S&&n(1,f=S.transition),"transitionConfig"in S&&n(2,c=S.transitionConfig),"inTransition"in S&&n(3,p=S.inTransition),"inTransitionConfig"in S&&n(4,h=S.inTransitionConfig),"outTransition"in S&&n(5,m=S.outTransition),"outTransitionConfig"in S&&n(6,_=S.outTransitionConfig),"asChild"in S&&n(7,g=S.asChild),"el"in S&&n(0,k=S.el),"$$scope"in S&&n(14,u=S.$$scope)},t.$$.update=()=>{t.$$.dirty&8192&&n(8,i=l),t.$$.dirty&256&&Object.assign(i,R)},[k,f,c,p,h,m,_,g,i,a,I,M,r,l,u,s,L,H,x,F,W]}let md=class extends _e{constructor(e){super(),he(this,e,pd,dd,le,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,el:0})}};const hd=t=>({builder:t&4}),Yr=t=>({builder:t[2]}),_d=t=>({builder:t&4}),Jr=t=>({builder:t[2]});function gd(t){let e,n,i,o;const r=t[8].default,l=fe(r,t,t[7],Yr);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=V(s,a[u]);return{c(){e=P("div"),l&&l.c(),re(e,s)},m(u,f){A(u,e,f),l&&l.m(e,null),t[9](e),n=!0,i||(o=De(t[2].action(e)),i=!0)},p(u,f){l&&l.p&&(!n||f&132)&&de(l,r,u,u[7],n?ce(r,u[7],f,hd):pe(u[7]),Yr),re(e,s=me(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(w(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&C(e),l&&l.d(u),t[9](null),i=!1,o()}}}function bd(t){let e;const n=t[8].default,i=fe(n,t,t[7],Jr);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&132)&&de(i,n,o,o[7],e?ce(n,o[7],r,_d):pe(o[7]),Jr)},i(o){e||(w(i,o),e=!0)},o(o){T(i,o),e=!1},d(o){i&&i.d(o)}}}function vd(t){let e,n,i,o;const r=[bd,gd],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),i=Pe()},m(s,u){l[e].m(s,u),A(s,i,u),o=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),T(l[f],1,1,()=>{l[f]=null}),Ee(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),w(n,1),n.m(i.parentNode,i))},i(s){o||(w(n),o=!0)},o(s){T(n),o=!1},d(s){s&&C(i),l[e].d(s)}}}function yd(t,e,n){let i;const o=["asChild","id","el"];let r=ne(e,o),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{description:p},ids:h,getAttrs:m}=nn();se(t,p,k=>n(6,l=k));const _=m("description");function g(k){Ae[k?"unshift":"push"](()=>{c=k,n(0,c)})}return t.$$set=k=>{e=V(V({},e),Ne(k)),n(4,r=ne(e,o)),"asChild"in k&&n(1,u=k.asChild),"id"in k&&n(5,f=k.id),"el"in k&&n(0,c=k.el),"$$scope"in k&&n(7,s=k.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f&&h.description.set(f),t.$$.dirty&64&&n(2,i=l),t.$$.dirty&4&&Object.assign(i,_)},[c,u,i,p,r,f,l,s,a,g]}let wd=class extends _e{constructor(e){super(),he(this,e,yd,vd,le,{asChild:1,id:5,el:0})}};function kd(t,e){const n=[];return e.builders.forEach(i=>{const o=i.action(t);o&&n.push(o)}),{destroy:()=>{n.forEach(i=>{i.destroy&&i.destroy()})}}}function Xr(t){const e={};return t.forEach(n=>{Object.keys(n).forEach(i=>{i!=="action"&&(e[i]=n[i])})}),e}function Cd(t){let e=t[1]?"a":"button",n,i,o=(t[1]?"a":"button")&&ro(t);return{c(){o&&o.c(),n=Pe()},m(r,l){o&&o.m(r,l),A(r,n,l),i=!0},p(r,l){r[1],e?le(e,r[1]?"a":"button")?(o.d(1),o=ro(r),e=r[1]?"a":"button",o.c(),o.m(n.parentNode,n)):o.p(r,l):(o=ro(r),e=r[1]?"a":"button",o.c(),o.m(n.parentNode,n))},i(r){i||(w(o,r),i=!0)},o(r){T(o,r),i=!1},d(r){r&&C(n),o&&o.d(r)}}}function Sd(t){let e=t[1]?"a":"button",n,i,o=(t[1]?"a":"button")&&lo(t);return{c(){o&&o.c(),n=Pe()},m(r,l){o&&o.m(r,l),A(r,n,l),i=!0},p(r,l){r[1],e?le(e,r[1]?"a":"button")?(o.d(1),o=lo(r),e=r[1]?"a":"button",o.c(),o.m(n.parentNode,n)):o.p(r,l):(o=lo(r),e=r[1]?"a":"button",o.c(),o.m(n.parentNode,n))},i(r){i||(w(o,r),i=!0)},o(r){T(o,r),i=!1},d(r){r&&C(n),o&&o.d(r)}}}function ro(t){let e,n,i,o,r;const l=t[7].default,a=fe(l,t,t[6],null);let s=[{type:n=t[1]?void 0:t[2]},{href:t[1]},{tabindex:"0"},t[5],t[4]],u={};for(let f=0;f<s.length;f+=1)u=V(u,s[f]);return{c(){e=P(t[1]?"a":"button"),a&&a.c(),Ft(t[1]?"a":"button")(e,u)},m(f,c){A(f,e,c),a&&a.m(e,null),i=!0,o||(r=[K(e,"click",t[14]),K(e,"change",t[15]),K(e,"keydown",t[16]),K(e,"keyup",t[17]),K(e,"mouseenter",t[18]),K(e,"mouseleave",t[19])],o=!0)},p(f,c){a&&a.p&&(!i||c&64)&&de(a,l,f,f[6],i?ce(l,f[6],c,null):pe(f[6]),null),Ft(f[1]?"a":"button")(e,u=me(s,[(!i||c&6&&n!==(n=f[1]?void 0:f[2]))&&{type:n},(!i||c&2)&&{href:f[1]},{tabindex:"0"},c&32&&f[5],f[4]]))},i(f){i||(w(a,f),i=!0)},o(f){T(a,f),i=!1},d(f){f&&C(e),a&&a.d(f),o=!1,qe(r)}}}function lo(t){let e,n,i,o,r,l;const a=t[7].default,s=fe(a,t,t[6],null);let u=[{type:n=t[1]?void 0:t[2]},{href:t[1]},{tabindex:"0"},Xr(t[3]),t[5],t[4]],f={};for(let c=0;c<u.length;c+=1)f=V(f,u[c]);return{c(){e=P(t[1]?"a":"button"),s&&s.c(),Ft(t[1]?"a":"button")(e,f)},m(c,p){A(c,e,p),s&&s.m(e,null),t[20](e),o=!0,r||(l=[K(e,"click",t[8]),K(e,"change",t[9]),K(e,"keydown",t[10]),K(e,"keyup",t[11]),K(e,"mouseenter",t[12]),K(e,"mouseleave",t[13]),De(i=kd.call(null,e,{builders:t[3]}))],r=!0)},p(c,p){s&&s.p&&(!o||p&64)&&de(s,a,c,c[6],o?ce(a,c[6],p,null):pe(c[6]),null),Ft(c[1]?"a":"button")(e,f=me(u,[(!o||p&6&&n!==(n=c[1]?void 0:c[2]))&&{type:n},(!o||p&2)&&{href:c[1]},{tabindex:"0"},p&8&&Xr(c[3]),p&32&&c[5],c[4]])),i&&Mt(i.update)&&p&8&&i.update.call(null,{builders:c[3]})},i(c){o||(w(s,c),o=!0)},o(c){T(s,c),o=!1},d(c){c&&C(e),s&&s.d(c),t[20](null),r=!1,qe(l)}}}function Ad(t){let e,n,i,o;const r=[Sd,Cd],l=[];function a(s,u){return s[3]&&s[3].length?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),i=Pe()},m(s,u){l[e].m(s,u),A(s,i,u),o=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),T(l[f],1,1,()=>{l[f]=null}),Ee(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),w(n,1),n.m(i.parentNode,i))},i(s){o||(w(n),o=!0)},o(s){T(n),o=!1},d(s){s&&C(i),l[e].d(s)}}}function Td(t,e,n){const i=["href","type","builders","el"];let o=ne(e,i),{$$slots:r={},$$scope:l}=e,{href:a=void 0}=e,{type:s=void 0}=e,{builders:u=[]}=e,{el:f=void 0}=e;const c={"data-button-root":""};function p(F){Z.call(this,t,F)}function h(F){Z.call(this,t,F)}function m(F){Z.call(this,t,F)}function _(F){Z.call(this,t,F)}function g(F){Z.call(this,t,F)}function k(F){Z.call(this,t,F)}function I(F){Z.call(this,t,F)}function M(F){Z.call(this,t,F)}function B(F){Z.call(this,t,F)}function R(F){Z.call(this,t,F)}function L(F){Z.call(this,t,F)}function H(F){Z.call(this,t,F)}function x(F){Ae[F?"unshift":"push"](()=>{f=F,n(0,f)})}return t.$$set=F=>{e=V(V({},e),Ne(F)),n(5,o=ne(e,i)),"href"in F&&n(1,a=F.href),"type"in F&&n(2,s=F.type),"builders"in F&&n(3,u=F.builders),"el"in F&&n(0,f=F.el),"$$scope"in F&&n(6,l=F.$$scope)},[f,a,s,u,c,o,l,r,p,h,m,_,g,k,I,M,B,R,L,H,x]}let Id=class extends _e{constructor(e){super(),he(this,e,Td,Ad,le,{href:1,type:2,builders:3,el:0})}};function Nd(){return{NAME:"separator",PARTS:["root"]}}function Md(t){const{NAME:e,PARTS:n}=Nd(),i=Xi(e,n),o={...fc(xo(t)),getAttrs:i};return{...o,updateOption:Li(o.options)}}const Ed=t=>({builder:t&4}),Zr=t=>({builder:t[2]});function Pd(t){let e,n,i,o=[t[2],t[4]],r={};for(let l=0;l<o.length;l+=1)r=V(r,o[l]);return{c(){e=P("div"),re(e,r)},m(l,a){A(l,e,a),t[10](e),n||(i=De(t[2].action(e)),n=!0)},p(l,a){re(e,r=me(o,[a&4&&l[2],a&16&&l[4]]))},i:ue,o:ue,d(l){l&&C(e),t[10](null),n=!1,i()}}}function Od(t){let e;const n=t[9].default,i=fe(n,t,t[8],Zr);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&260)&&de(i,n,o,o[8],e?ce(n,o[8],r,Ed):pe(o[8]),Zr)},i(o){e||(w(i,o),e=!0)},o(o){T(i,o),e=!1},d(o){i&&i.d(o)}}}function $d(t){let e,n,i,o;const r=[Od,Pd],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),i=Pe()},m(s,u){l[e].m(s,u),A(s,i,u),o=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),T(l[f],1,1,()=>{l[f]=null}),Ee(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),w(n,1),n.m(i.parentNode,i))},i(s){o||(w(n),o=!0)},o(s){T(n),o=!1},d(s){s&&C(i),l[e].d(s)}}}function Ld(t,e,n){let i;const o=["orientation","decorative","asChild","el"];let r=ne(e,o),l,{$$slots:a={},$$scope:s}=e,{orientation:u="horizontal"}=e,{decorative:f=!0}=e,{asChild:c=!1}=e,{el:p=void 0}=e;const{elements:{root:h},updateOption:m,getAttrs:_}=Md({orientation:u,decorative:f});se(t,h,I=>n(7,l=I));const g=_("root");function k(I){Ae[I?"unshift":"push"](()=>{p=I,n(0,p)})}return t.$$set=I=>{e=V(V({},e),Ne(I)),n(4,r=ne(e,o)),"orientation"in I&&n(5,u=I.orientation),"decorative"in I&&n(6,f=I.decorative),"asChild"in I&&n(1,c=I.asChild),"el"in I&&n(0,p=I.el),"$$scope"in I&&n(8,s=I.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&m("orientation",u),t.$$.dirty&64&&m("decorative",f),t.$$.dirty&128&&n(2,i=l),t.$$.dirty&4&&Object.assign(i,g)},[p,c,i,h,r,u,f,l,s,a,k]}let Fd=class extends _e{constructor(e){super(),he(this,e,Ld,$d,le,{orientation:5,decorative:6,asChild:1,el:0})}};function Ca(){return{NAME:"dialog",PARTS:["close","content","description","overlay","portal","title","trigger"]}}function qd(t){const{NAME:e,PARTS:n}=Ca(),i=Xi(e,n),o={...wa({...xo(t),role:"dialog",forceVisible:!0}),getAttrs:i};return ia(e,o),{...o,updateOption:Li(o.options)}}function In(){const{NAME:t}=Ca();return oa(t)}const Rd=t=>({ids:t&1}),Qr=t=>({ids:t[0]});function Dd(t){let e;const n=t[12].default,i=fe(n,t,t[11],Qr);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,[r]){i&&i.p&&(!e||r&2049)&&de(i,n,o,o[11],e?ce(n,o[11],r,Rd):pe(o[11]),Qr)},i(o){e||(w(i,o),e=!0)},o(o){T(i,o),e=!1},d(o){i&&i.d(o)}}}function Bd(t,e,n){let i,{$$slots:o={},$$scope:r}=e,{preventScroll:l=void 0}=e,{closeOnEscape:a=void 0}=e,{closeOnOutsideClick:s=void 0}=e,{portal:u=void 0}=e,{open:f=void 0}=e,{onOpenChange:c=void 0}=e,{openFocus:p=void 0}=e,{closeFocus:h=void 0}=e,{onOutsideClick:m=void 0}=e;const{states:{open:_},updateOption:g,ids:k}=qd({closeOnEscape:a,preventScroll:l,closeOnOutsideClick:s,portal:u,forceVisible:!0,defaultOpen:f,openFocus:p,closeFocus:h,onOutsideClick:m,onOpenChange:({next:M})=>(f!==M&&(c==null||c(M),n(2,f=M)),M)}),I=zn([k.content,k.description,k.title],([M,B,R])=>({content:M,description:B,title:R}));return se(t,I,M=>n(0,i=M)),t.$$set=M=>{"preventScroll"in M&&n(3,l=M.preventScroll),"closeOnEscape"in M&&n(4,a=M.closeOnEscape),"closeOnOutsideClick"in M&&n(5,s=M.closeOnOutsideClick),"portal"in M&&n(6,u=M.portal),"open"in M&&n(2,f=M.open),"onOpenChange"in M&&n(7,c=M.onOpenChange),"openFocus"in M&&n(8,p=M.openFocus),"closeFocus"in M&&n(9,h=M.closeFocus),"onOutsideClick"in M&&n(10,m=M.onOutsideClick),"$$scope"in M&&n(11,r=M.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&f!==void 0&&_.set(f),t.$$.dirty&8&&g("preventScroll",l),t.$$.dirty&16&&g("closeOnEscape",a),t.$$.dirty&32&&g("closeOnOutsideClick",s),t.$$.dirty&64&&g("portal",u),t.$$.dirty&256&&g("openFocus",p),t.$$.dirty&512&&g("closeFocus",h),t.$$.dirty&1024&&g("onOutsideClick",m)},[i,I,f,l,a,s,u,c,p,h,m,r,o]}class Gd extends _e{constructor(e){super(),he(this,e,Bd,Dd,le,{preventScroll:3,closeOnEscape:4,closeOnOutsideClick:5,portal:6,open:2,onOpenChange:7,openFocus:8,closeFocus:9,onOutsideClick:10})}}const jd=t=>({builder:t&8}),xr=t=>({builder:t[3]}),Hd=t=>({builder:t&8}),zr=t=>({builder:t[3]});function Vd(t){let e=t[1],n,i,o=t[1]&&so(t);return{c(){o&&o.c(),n=Pe()},m(r,l){o&&o.m(r,l),A(r,n,l),i=!0},p(r,l){r[1]?e?le(e,r[1])?(o.d(1),o=so(r),e=r[1],o.c(),o.m(n.parentNode,n)):o.p(r,l):(o=so(r),e=r[1],o.c(),o.m(n.parentNode,n)):e&&(o.d(1),o=null,e=r[1])},i(r){i||(w(o,r),i=!0)},o(r){T(o,r),i=!1},d(r){r&&C(n),o&&o.d(r)}}}function Wd(t){let e;const n=t[9].default,i=fe(n,t,t[8],zr);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&264)&&de(i,n,o,o[8],e?ce(n,o[8],r,Hd):pe(o[8]),zr)},i(o){e||(w(i,o),e=!0)},o(o){T(i,o),e=!1},d(o){i&&i.d(o)}}}function so(t){let e,n,i,o;const r=t[9].default,l=fe(r,t,t[8],xr);let a=[t[3],t[5]],s={};for(let u=0;u<a.length;u+=1)s=V(s,a[u]);return{c(){e=P(t[1]),l&&l.c(),Ft(t[1])(e,s)},m(u,f){A(u,e,f),l&&l.m(e,null),t[10](e),n=!0,i||(o=De(t[3].action(e)),i=!0)},p(u,f){l&&l.p&&(!n||f&264)&&de(l,r,u,u[8],n?ce(r,u[8],f,jd):pe(u[8]),xr),Ft(u[1])(e,s=me(a,[f&8&&u[3],f&32&&u[5]]))},i(u){n||(w(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&C(e),l&&l.d(u),t[10](null),i=!1,o()}}}function Kd(t){let e,n,i,o;const r=[Wd,Vd],l=[];function a(s,u){return s[2]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),i=Pe()},m(s,u){l[e].m(s,u),A(s,i,u),o=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),T(l[f],1,1,()=>{l[f]=null}),Ee(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),w(n,1),n.m(i.parentNode,i))},i(s){o||(w(n),o=!0)},o(s){T(n),o=!1},d(s){s&&C(i),l[e].d(s)}}}function Ud(t,e,n){let i;const o=["level","asChild","id","el"];let r=ne(e,o),l,{$$slots:a={},$$scope:s}=e,{level:u="h2"}=e,{asChild:f=!1}=e,{id:c=void 0}=e,{el:p=void 0}=e;const{elements:{title:h},ids:m,getAttrs:_}=In();se(t,h,I=>n(7,l=I));const g=_("title");function k(I){Ae[I?"unshift":"push"](()=>{p=I,n(0,p)})}return t.$$set=I=>{e=V(V({},e),Ne(I)),n(5,r=ne(e,o)),"level"in I&&n(1,u=I.level),"asChild"in I&&n(2,f=I.asChild),"id"in I&&n(6,c=I.id),"el"in I&&n(0,p=I.el),"$$scope"in I&&n(8,s=I.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&c&&m.title.set(c),t.$$.dirty&128&&n(3,i=l),t.$$.dirty&8&&Object.assign(i,g)},[p,u,f,i,h,r,c,l,s,a,k]}let Yd=class extends _e{constructor(e){super(),he(this,e,Ud,Kd,le,{level:1,asChild:2,id:6,el:0})}};const Jd=t=>({builder:t&4}),el=t=>({builder:t[2]}),Xd=t=>({builder:t&4}),tl=t=>({builder:t[2]});function Zd(t){let e,n,i,o;const r=t[8].default,l=fe(r,t,t[7],el);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=V(s,a[u]);return{c(){e=P("button"),l&&l.c(),re(e,s)},m(u,f){A(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[9](e),n=!0,i||(o=[De(t[2].action(e)),K(e,"m-click",t[4]),K(e,"m-keydown",t[4])],i=!0)},p(u,f){l&&l.p&&(!n||f&132)&&de(l,r,u,u[7],n?ce(r,u[7],f,Jd):pe(u[7]),el),re(e,s=me(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(w(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&C(e),l&&l.d(u),t[9](null),i=!1,qe(o)}}}function Qd(t){let e;const n=t[8].default,i=fe(n,t,t[7],tl);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&132)&&de(i,n,o,o[7],e?ce(n,o[7],r,Xd):pe(o[7]),tl)},i(o){e||(w(i,o),e=!0)},o(o){T(i,o),e=!1},d(o){i&&i.d(o)}}}function xd(t){let e,n,i,o;const r=[Qd,Zd],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),i=Pe()},m(s,u){l[e].m(s,u),A(s,i,u),o=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),T(l[f],1,1,()=>{l[f]=null}),Ee(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),w(n,1),n.m(i.parentNode,i))},i(s){o||(w(n),o=!0)},o(s){T(n),o=!1},d(s){s&&C(i),l[e].d(s)}}}function zd(t,e,n){let i;const o=["asChild","el"];let r=ne(e,o),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:p}=In();se(t,c,g=>n(6,l=g));const h=Zi(),m=p("close");function _(g){Ae[g?"unshift":"push"](()=>{f=g,n(0,f)})}return t.$$set=g=>{e=V(V({},e),Ne(g)),n(5,r=ne(e,o)),"asChild"in g&&n(1,u=g.asChild),"el"in g&&n(0,f=g.el),"$$scope"in g&&n(7,s=g.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,i=l),t.$$.dirty&4&&Object.assign(i,m)},[f,u,i,c,h,r,l,s,a,_]}class ep extends _e{constructor(e){super(),he(this,e,zd,xd,le,{asChild:1,el:0})}}const tp=t=>({builder:t&4}),nl=t=>({builder:t[2]}),np=t=>({builder:t&4}),il=t=>({builder:t[2]});function ip(t){let e,n,i,o;const r=t[7].default,l=fe(r,t,t[6],nl);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=V(s,a[u]);return{c(){e=P("div"),l&&l.c(),re(e,s)},m(u,f){A(u,e,f),l&&l.m(e,null),t[8](e),n=!0,i||(o=De(t[2].action(e)),i=!0)},p(u,f){l&&l.p&&(!n||f&68)&&de(l,r,u,u[6],n?ce(r,u[6],f,tp):pe(u[6]),nl),re(e,s=me(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(w(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&C(e),l&&l.d(u),t[8](null),i=!1,o()}}}function op(t){let e;const n=t[7].default,i=fe(n,t,t[6],il);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&68)&&de(i,n,o,o[6],e?ce(n,o[6],r,np):pe(o[6]),il)},i(o){e||(w(i,o),e=!0)},o(o){T(i,o),e=!1},d(o){i&&i.d(o)}}}function rp(t){let e,n,i,o;const r=[op,ip],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),i=Pe()},m(s,u){l[e].m(s,u),A(s,i,u),o=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),T(l[f],1,1,()=>{l[f]=null}),Ee(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),w(n,1),n.m(i.parentNode,i))},i(s){o||(w(n),o=!0)},o(s){T(n),o=!1},d(s){s&&C(i),l[e].d(s)}}}function lp(t,e,n){let i;const o=["asChild","el"];let r=ne(e,o),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{portalled:c},getAttrs:p}=In();se(t,c,_=>n(5,l=_));const h=p("portal");function m(_){Ae[_?"unshift":"push"](()=>{f=_,n(0,f)})}return t.$$set=_=>{e=V(V({},e),Ne(_)),n(4,r=ne(e,o)),"asChild"in _&&n(1,u=_.asChild),"el"in _&&n(0,f=_.el),"$$scope"in _&&n(6,s=_.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,i=l),t.$$.dirty&4&&Object.assign(i,h)},[f,u,i,c,r,l,s,a,m]}let sp=class extends _e{constructor(e){super(),he(this,e,lp,rp,le,{asChild:1,el:0})}};const ap=t=>({builder:t[0]&256}),ol=t=>({builder:t[8]}),up=t=>({builder:t[0]&256}),rl=t=>({builder:t[8]}),fp=t=>({builder:t[0]&256}),ll=t=>({builder:t[8]}),cp=t=>({builder:t[0]&256}),sl=t=>({builder:t[8]}),dp=t=>({builder:t[0]&256}),al=t=>({builder:t[8]}),pp=t=>({builder:t[0]&256}),ul=t=>({builder:t[8]});function mp(t){let e,n,i,o;const r=t[16].default,l=fe(r,t,t[15],ol);let a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=V(s,a[u]);return{c(){e=P("div"),l&&l.c(),re(e,s)},m(u,f){A(u,e,f),l&&l.m(e,null),t[56](e),n=!0,i||(o=[De(t[8].action(e)),K(e,"pointerdown",t[45]),K(e,"pointermove",t[46]),K(e,"pointerup",t[47]),K(e,"touchend",t[48]),K(e,"touchstart",t[49]),K(e,"touchcancel",t[50]),K(e,"touchmove",t[51])],i=!0)},p(u,f){l&&l.p&&(!n||f[0]&33024)&&de(l,r,u,u[15],n?ce(r,u[15],f,ap):pe(u[15]),ol),re(e,s=me(a,[f[0]&256&&u[8],f[0]&4096&&u[12]]))},i(u){n||(w(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&C(e),l&&l.d(u),t[56](null),i=!1,qe(o)}}}function hp(t){let e,n,i,o,r;const l=t[16].default,a=fe(l,t,t[15],rl);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=V(u,s[f]);return{c(){e=P("div"),a&&a.c(),re(e,u)},m(f,c){A(f,e,c),a&&a.m(e,null),t[55](e),i=!0,o||(r=[De(t[8].action(e)),K(e,"pointerdown",t[38]),K(e,"pointermove",t[39]),K(e,"pointerup",t[40]),K(e,"touchend",t[41]),K(e,"touchstart",t[42]),K(e,"touchcancel",t[43]),K(e,"touchmove",t[44])],o=!0)},p(f,c){t=f,a&&a.p&&(!i||c[0]&33024)&&de(a,l,t,t[15],i?ce(l,t[15],c,up):pe(t[15]),rl),re(e,u=me(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){i||(w(a,f),n&&n.end(1),i=!0)},o(f){T(a,f),f&&(n=Bt(e,t[5],t[6])),i=!1},d(f){f&&C(e),a&&a.d(f),t[55](null),f&&n&&n.end(),o=!1,qe(r)}}}function _p(t){let e,n,i,o,r;const l=t[16].default,a=fe(l,t,t[15],ll);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=V(u,s[f]);return{c(){e=P("div"),a&&a.c(),re(e,u)},m(f,c){A(f,e,c),a&&a.m(e,null),t[54](e),i=!0,o||(r=[De(t[8].action(e)),K(e,"pointerdown",t[31]),K(e,"pointermove",t[32]),K(e,"pointerup",t[33]),K(e,"touchend",t[34]),K(e,"touchstart",t[35]),K(e,"touchcancel",t[36]),K(e,"touchmove",t[37])],o=!0)},p(f,c){t=f,a&&a.p&&(!i||c[0]&33024)&&de(a,l,t,t[15],i?ce(l,t[15],c,fp):pe(t[15]),ll),re(e,u=me(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){i||(w(a,f),f&&(n||Qe(()=>{n=Dt(e,t[3],t[4]),n.start()})),i=!0)},o(f){T(a,f),i=!1},d(f){f&&C(e),a&&a.d(f),t[54](null),o=!1,qe(r)}}}function gp(t){let e,n,i,o,r,l;const a=t[16].default,s=fe(a,t,t[15],sl);let u=[t[8],t[12]],f={};for(let c=0;c<u.length;c+=1)f=V(f,u[c]);return{c(){e=P("div"),s&&s.c(),re(e,f)},m(c,p){A(c,e,p),s&&s.m(e,null),t[53](e),o=!0,r||(l=[De(t[8].action(e)),K(e,"pointerdown",t[24]),K(e,"pointermove",t[25]),K(e,"pointerup",t[26]),K(e,"touchend",t[27]),K(e,"touchstart",t[28]),K(e,"touchcancel",t[29]),K(e,"touchmove",t[30])],r=!0)},p(c,p){t=c,s&&s.p&&(!o||p[0]&33024)&&de(s,a,t,t[15],o?ce(a,t[15],p,cp):pe(t[15]),sl),re(e,f=me(u,[p[0]&256&&t[8],p[0]&4096&&t[12]]))},i(c){o||(w(s,c),c&&Qe(()=>{o&&(i&&i.end(1),n=Dt(e,t[3],t[4]),n.start())}),o=!0)},o(c){T(s,c),n&&n.invalidate(),c&&(i=Bt(e,t[5],t[6])),o=!1},d(c){c&&C(e),s&&s.d(c),t[53](null),c&&i&&i.end(),r=!1,qe(l)}}}function bp(t){let e,n,i,o,r;const l=t[16].default,a=fe(l,t,t[15],al);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=V(u,s[f]);return{c(){e=P("div"),a&&a.c(),re(e,u)},m(f,c){A(f,e,c),a&&a.m(e,null),t[52](e),i=!0,o||(r=[De(t[8].action(e)),K(e,"pointerdown",t[17]),K(e,"pointermove",t[18]),K(e,"pointerup",t[19]),K(e,"touchend",t[20]),K(e,"touchstart",t[21]),K(e,"touchcancel",t[22]),K(e,"touchmove",t[23])],o=!0)},p(f,c){t=f,a&&a.p&&(!i||c[0]&33024)&&de(a,l,t,t[15],i?ce(l,t[15],c,dp):pe(t[15]),al),re(e,u=me(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){i||(w(a,f),f&&Qe(()=>{i&&(n||(n=qt(e,t[1],t[2],!0)),n.run(1))}),i=!0)},o(f){T(a,f),f&&(n||(n=qt(e,t[1],t[2],!1)),n.run(0)),i=!1},d(f){f&&C(e),a&&a.d(f),t[52](null),f&&n&&n.end(),o=!1,qe(r)}}}function vp(t){let e;const n=t[16].default,i=fe(n,t,t[15],ul);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r[0]&33024)&&de(i,n,o,o[15],e?ce(n,o[15],r,pp):pe(o[15]),ul)},i(o){e||(w(i,o),e=!0)},o(o){T(i,o),e=!1},d(o){i&&i.d(o)}}}function yp(t){let e,n,i,o;const r=[vp,bp,gp,_p,hp,mp],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),i=Pe()},m(s,u){~e&&l[e].m(s,u),A(s,i,u),o=!0},p(s,u){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Me(),T(l[f],1,1,()=>{l[f]=null}),Ee()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),w(n,1),n.m(i.parentNode,i)):n=null)},i(s){o||(w(n),o=!0)},o(s){T(n),o=!1},d(s){s&&C(i),~e&&l[e].d(s)}}}function wp(t,e,n){let i;const o=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","id","el"];let r=ne(e,o),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:p=void 0}=e,{inTransitionConfig:h=void 0}=e,{outTransition:m=void 0}=e,{outTransitionConfig:_=void 0}=e,{asChild:g=!1}=e,{id:k=void 0}=e,{el:I=void 0}=e;const{elements:{content:M},states:{open:B},ids:R,getAttrs:L}=In();se(t,M,E=>n(14,l=E)),se(t,B,E=>n(9,a=E));const H=L("content");function x(E){Z.call(this,t,E)}function F(E){Z.call(this,t,E)}function W(E){Z.call(this,t,E)}function S(E){Z.call(this,t,E)}function d(E){Z.call(this,t,E)}function v(E){Z.call(this,t,E)}function b(E){Z.call(this,t,E)}function $(E){Z.call(this,t,E)}function N(E){Z.call(this,t,E)}function q(E){Z.call(this,t,E)}function j(E){Z.call(this,t,E)}function U(E){Z.call(this,t,E)}function ie(E){Z.call(this,t,E)}function Q(E){Z.call(this,t,E)}function te(E){Z.call(this,t,E)}function ve(E){Z.call(this,t,E)}function ye(E){Z.call(this,t,E)}function oe(E){Z.call(this,t,E)}function Ie(E){Z.call(this,t,E)}function Ce(E){Z.call(this,t,E)}function Se(E){Z.call(this,t,E)}function Le(E){Z.call(this,t,E)}function be(E){Z.call(this,t,E)}function Fe(E){Z.call(this,t,E)}function ee(E){Z.call(this,t,E)}function Oe(E){Z.call(this,t,E)}function Ke(E){Z.call(this,t,E)}function Ze(E){Z.call(this,t,E)}function nt(E){Z.call(this,t,E)}function Ue(E){Z.call(this,t,E)}function Re(E){Z.call(this,t,E)}function ut(E){Z.call(this,t,E)}function ct(E){Z.call(this,t,E)}function xe(E){Z.call(this,t,E)}function ze(E){Z.call(this,t,E)}function He(E){Ae[E?"unshift":"push"](()=>{I=E,n(0,I)})}function Be(E){Ae[E?"unshift":"push"](()=>{I=E,n(0,I)})}function we(E){Ae[E?"unshift":"push"](()=>{I=E,n(0,I)})}function z(E){Ae[E?"unshift":"push"](()=>{I=E,n(0,I)})}function je(E){Ae[E?"unshift":"push"](()=>{I=E,n(0,I)})}return t.$$set=E=>{e=V(V({},e),Ne(E)),n(12,r=ne(e,o)),"transition"in E&&n(1,f=E.transition),"transitionConfig"in E&&n(2,c=E.transitionConfig),"inTransition"in E&&n(3,p=E.inTransition),"inTransitionConfig"in E&&n(4,h=E.inTransitionConfig),"outTransition"in E&&n(5,m=E.outTransition),"outTransitionConfig"in E&&n(6,_=E.outTransitionConfig),"asChild"in E&&n(7,g=E.asChild),"id"in E&&n(13,k=E.id),"el"in E&&n(0,I=E.el),"$$scope"in E&&n(15,u=E.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&8192&&k&&R.content.set(k),t.$$.dirty[0]&16384&&n(8,i=l),t.$$.dirty[0]&256&&Object.assign(i,H)},[I,f,c,p,h,m,_,g,i,a,M,B,r,k,l,u,s,x,F,W,S,d,v,b,$,N,q,j,U,ie,Q,te,ve,ye,oe,Ie,Ce,Se,Le,be,Fe,ee,Oe,Ke,Ze,nt,Ue,Re,ut,ct,xe,ze,He,Be,we,z,je]}let kp=class extends _e{constructor(e){super(),he(this,e,wp,yp,le,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,id:13,el:0},null,[-1,-1])}};const Cp=t=>({builder:t&256}),fl=t=>({builder:t[8]});function Sp(t){let e,n,i,o=[t[8],t[12]],r={};for(let l=0;l<o.length;l+=1)r=V(r,o[l]);return{c(){e=P("div"),re(e,r)},m(l,a){A(l,e,a),t[25](e),n||(i=[De(t[8].action(e)),K(e,"mouseup",t[20])],n=!0)},p(l,a){re(e,r=me(o,[a&256&&l[8],a&4096&&l[12]]))},i:ue,o:ue,d(l){l&&C(e),t[25](null),n=!1,qe(i)}}}function Ap(t){let e,n,i,o,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=V(a,l[s]);return{c(){e=P("div"),re(e,a)},m(s,u){A(s,e,u),t[24](e),i=!0,o||(r=[De(t[8].action(e)),K(e,"mouseup",t[19])],o=!0)},p(s,u){t=s,re(e,a=me(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){i||(n&&n.end(1),i=!0)},o(s){s&&(n=Bt(e,t[5],t[6])),i=!1},d(s){s&&C(e),t[24](null),s&&n&&n.end(),o=!1,qe(r)}}}function Tp(t){let e,n,i,o,r=[t[8],t[12]],l={};for(let a=0;a<r.length;a+=1)l=V(l,r[a]);return{c(){e=P("div"),re(e,l)},m(a,s){A(a,e,s),t[23](e),i||(o=[De(t[8].action(e)),K(e,"mouseup",t[18])],i=!0)},p(a,s){t=a,re(e,l=me(r,[s&256&&t[8],s&4096&&t[12]]))},i(a){a&&(n||Qe(()=>{n=Dt(e,t[3],t[4]),n.start()}))},o:ue,d(a){a&&C(e),t[23](null),i=!1,qe(o)}}}function Ip(t){let e,n,i,o,r,l,a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=V(s,a[u]);return{c(){e=P("div"),re(e,s)},m(u,f){A(u,e,f),t[22](e),o=!0,r||(l=[De(t[8].action(e)),K(e,"mouseup",t[17])],r=!0)},p(u,f){t=u,re(e,s=me(a,[f&256&&t[8],f&4096&&t[12]]))},i(u){o||(u&&Qe(()=>{o&&(i&&i.end(1),n=Dt(e,t[3],t[4]),n.start())}),o=!0)},o(u){n&&n.invalidate(),u&&(i=Bt(e,t[5],t[6])),o=!1},d(u){u&&C(e),t[22](null),u&&i&&i.end(),r=!1,qe(l)}}}function Np(t){let e,n,i,o,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=V(a,l[s]);return{c(){e=P("div"),re(e,a)},m(s,u){A(s,e,u),t[21](e),i=!0,o||(r=[K(e,"mouseup",t[16]),De(t[8].action(e))],o=!0)},p(s,u){t=s,re(e,a=me(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){i||(s&&Qe(()=>{i&&(n||(n=qt(e,t[1],t[2],!0)),n.run(1))}),i=!0)},o(s){s&&(n||(n=qt(e,t[1],t[2],!1)),n.run(0)),i=!1},d(s){s&&C(e),t[21](null),s&&n&&n.end(),o=!1,qe(r)}}}function Mp(t){let e;const n=t[15].default,i=fe(n,t,t[14],fl);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&16640)&&de(i,n,o,o[14],e?ce(n,o[14],r,Cp):pe(o[14]),fl)},i(o){e||(w(i,o),e=!0)},o(o){T(i,o),e=!1},d(o){i&&i.d(o)}}}function Ep(t){let e,n,i,o;const r=[Mp,Np,Ip,Tp,Ap,Sp],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),i=Pe()},m(s,u){~e&&l[e].m(s,u),A(s,i,u),o=!0},p(s,[u]){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Me(),T(l[f],1,1,()=>{l[f]=null}),Ee()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),w(n,1),n.m(i.parentNode,i)):n=null)},i(s){o||(w(n),o=!0)},o(s){T(n),o=!1},d(s){s&&C(i),~e&&l[e].d(s)}}}function Pp(t,e,n){let i;const o=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","el"];let r=ne(e,o),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:p=void 0}=e,{inTransitionConfig:h=void 0}=e,{outTransition:m=void 0}=e,{outTransitionConfig:_=void 0}=e,{asChild:g=!1}=e,{el:k=void 0}=e;const{elements:{overlay:I},states:{open:M},getAttrs:B}=In();se(t,I,N=>n(13,l=N)),se(t,M,N=>n(9,a=N));const R=B("overlay");function L(N){Z.call(this,t,N)}function H(N){Z.call(this,t,N)}function x(N){Z.call(this,t,N)}function F(N){Z.call(this,t,N)}function W(N){Z.call(this,t,N)}function S(N){Ae[N?"unshift":"push"](()=>{k=N,n(0,k)})}function d(N){Ae[N?"unshift":"push"](()=>{k=N,n(0,k)})}function v(N){Ae[N?"unshift":"push"](()=>{k=N,n(0,k)})}function b(N){Ae[N?"unshift":"push"](()=>{k=N,n(0,k)})}function $(N){Ae[N?"unshift":"push"](()=>{k=N,n(0,k)})}return t.$$set=N=>{e=V(V({},e),Ne(N)),n(12,r=ne(e,o)),"transition"in N&&n(1,f=N.transition),"transitionConfig"in N&&n(2,c=N.transitionConfig),"inTransition"in N&&n(3,p=N.inTransition),"inTransitionConfig"in N&&n(4,h=N.inTransitionConfig),"outTransition"in N&&n(5,m=N.outTransition),"outTransitionConfig"in N&&n(6,_=N.outTransitionConfig),"asChild"in N&&n(7,g=N.asChild),"el"in N&&n(0,k=N.el),"$$scope"in N&&n(14,u=N.$$scope)},t.$$.update=()=>{t.$$.dirty&8192&&n(8,i=l),t.$$.dirty&256&&Object.assign(i,R)},[k,f,c,p,h,m,_,g,i,a,I,M,r,l,u,s,L,H,x,F,W,S,d,v,b,$]}let Op=class extends _e{constructor(e){super(),he(this,e,Pp,Ep,le,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,el:0})}};const $p=t=>({builder:t&4}),cl=t=>({builder:t[2]}),Lp=t=>({builder:t&4}),dl=t=>({builder:t[2]});function Fp(t){let e,n,i,o;const r=t[8].default,l=fe(r,t,t[7],cl);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=V(s,a[u]);return{c(){e=P("div"),l&&l.c(),re(e,s)},m(u,f){A(u,e,f),l&&l.m(e,null),t[9](e),n=!0,i||(o=De(t[2].action(e)),i=!0)},p(u,f){l&&l.p&&(!n||f&132)&&de(l,r,u,u[7],n?ce(r,u[7],f,$p):pe(u[7]),cl),re(e,s=me(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(w(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&C(e),l&&l.d(u),t[9](null),i=!1,o()}}}function qp(t){let e;const n=t[8].default,i=fe(n,t,t[7],dl);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&132)&&de(i,n,o,o[7],e?ce(n,o[7],r,Lp):pe(o[7]),dl)},i(o){e||(w(i,o),e=!0)},o(o){T(i,o),e=!1},d(o){i&&i.d(o)}}}function Rp(t){let e,n,i,o;const r=[qp,Fp],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),i=Pe()},m(s,u){l[e].m(s,u),A(s,i,u),o=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),T(l[f],1,1,()=>{l[f]=null}),Ee(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),w(n,1),n.m(i.parentNode,i))},i(s){o||(w(n),o=!0)},o(s){T(n),o=!1},d(s){s&&C(i),l[e].d(s)}}}function Dp(t,e,n){let i;const o=["asChild","id","el"];let r=ne(e,o),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{description:p},ids:h,getAttrs:m}=In();se(t,p,k=>n(6,l=k));const _=m("description");function g(k){Ae[k?"unshift":"push"](()=>{c=k,n(0,c)})}return t.$$set=k=>{e=V(V({},e),Ne(k)),n(4,r=ne(e,o)),"asChild"in k&&n(1,u=k.asChild),"id"in k&&n(5,f=k.id),"el"in k&&n(0,c=k.el),"$$scope"in k&&n(7,s=k.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f&&h.description.set(f),t.$$.dirty&64&&n(2,i=l),t.$$.dirty&4&&Object.assign(i,_)},[c,u,i,p,r,f,l,s,a,g]}let Bp=class extends _e{constructor(e){super(),he(this,e,Dp,Rp,le,{asChild:1,id:5,el:0})}};function Gp(){const t="label",n=Xi(t,["root"]);return{NAME:t,getAttrs:n}}const jp=t=>({builder:t&4}),pl=t=>({builder:t[2]}),Hp=t=>({builder:t&4}),ml=t=>({builder:t[2]});function Vp(t){let e,n,i,o;const r=t[8].default,l=fe(r,t,t[7],pl);let a=[t[2],t[5]],s={};for(let u=0;u<a.length;u+=1)s=V(s,a[u]);return{c(){e=P("label"),l&&l.c(),re(e,s)},m(u,f){A(u,e,f),l&&l.m(e,null),t[9](e),n=!0,i||(o=[De(t[2].action(e)),K(e,"m-mousedown",t[4])],i=!0)},p(u,f){l&&l.p&&(!n||f&132)&&de(l,r,u,u[7],n?ce(r,u[7],f,jp):pe(u[7]),pl),re(e,s=me(a,[f&4&&u[2],f&32&&u[5]]))},i(u){n||(w(l,u),n=!0)},o(u){T(l,u),n=!1},d(u){u&&C(e),l&&l.d(u),t[9](null),i=!1,qe(o)}}}function Wp(t){let e;const n=t[8].default,i=fe(n,t,t[7],ml);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&132)&&de(i,n,o,o[7],e?ce(n,o[7],r,Hp):pe(o[7]),ml)},i(o){e||(w(i,o),e=!0)},o(o){T(i,o),e=!1},d(o){i&&i.d(o)}}}function Kp(t){let e,n,i,o;const r=[Wp,Vp],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),i=Pe()},m(s,u){l[e].m(s,u),A(s,i,u),o=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),T(l[f],1,1,()=>{l[f]=null}),Ee(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),w(n,1),n.m(i.parentNode,i))},i(s){o||(w(n),o=!0)},o(s){T(n),o=!1},d(s){s&&C(i),l[e].d(s)}}}function Up(t,e,n){let i;const o=["asChild","el"];let r=ne(e,o),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{root:c}}=lc();se(t,c,g=>n(6,l=g));const p=Zi(),{getAttrs:h}=Gp(),m=h("root");function _(g){Ae[g?"unshift":"push"](()=>{f=g,n(0,f)})}return t.$$set=g=>{e=V(V({},e),Ne(g)),n(5,r=ne(e,o)),"asChild"in g&&n(1,u=g.asChild),"el"in g&&n(0,f=g.el),"$$scope"in g&&n(7,s=g.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,i=l),t.$$.dirty&4&&Object.assign(i,m)},[f,u,i,c,p,r,l,s,a,_]}let Yp=class extends _e{constructor(e){super(),he(this,e,Up,Kp,le,{asChild:1,el:0})}};function Sa(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(e=0;e<o;e++)t[e]&&(n=Sa(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function Jp(){for(var t,e,n=0,i="",o=arguments.length;n<o;n++)(t=arguments[n])&&(e=Sa(t))&&(i&&(i+=" "),i+=e);return i}const zo="-";function Xp(t){const e=Qp(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=t;function o(l){const a=l.split(zo);return a[0]===""&&a.length!==1&&a.shift(),Aa(a,e)||Zp(l)}function r(l,a){const s=n[l]||[];return a&&i[l]?[...s,...i[l]]:s}return{getClassGroupId:o,getConflictingClassGroupIds:r}}function Aa(t,e){var l;if(t.length===0)return e.classGroupId;const n=t[0],i=e.nextPart.get(n),o=i?Aa(t.slice(1),i):void 0;if(o)return o;if(e.validators.length===0)return;const r=t.join(zo);return(l=e.validators.find(({validator:a})=>a(r)))==null?void 0:l.classGroupId}const hl=/^\[(.+)\]$/;function Zp(t){if(hl.test(t)){const e=hl.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function Qp(t){const{theme:e,prefix:n}=t,i={nextPart:new Map,validators:[]};return zp(Object.entries(t.classGroups),n).forEach(([r,l])=>{Co(l,i,r,e)}),i}function Co(t,e,n,i){t.forEach(o=>{if(typeof o=="string"){const r=o===""?e:_l(e,o);r.classGroupId=n;return}if(typeof o=="function"){if(xp(o)){Co(o(i),e,n,i);return}e.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([r,l])=>{Co(l,_l(e,r),n,i)})})}function _l(t,e){let n=t;return e.split(zo).forEach(i=>{n.nextPart.has(i)||n.nextPart.set(i,{nextPart:new Map,validators:[]}),n=n.nextPart.get(i)}),n}function xp(t){return t.isThemeGetter}function zp(t,e){return e?t.map(([n,i])=>{const o=i.map(r=>typeof r=="string"?e+r:typeof r=="object"?Object.fromEntries(Object.entries(r).map(([l,a])=>[e+l,a])):r);return[n,o]}):t}function em(t){if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,i=new Map;function o(r,l){n.set(r,l),e++,e>t&&(e=0,i=n,n=new Map)}return{get(r){let l=n.get(r);if(l!==void 0)return l;if((l=i.get(r))!==void 0)return o(r,l),l},set(r,l){n.has(r)?n.set(r,l):o(r,l)}}}const Ta="!";function tm(t){const e=t.separator,n=e.length===1,i=e[0],o=e.length;return function(l){const a=[];let s=0,u=0,f;for(let _=0;_<l.length;_++){let g=l[_];if(s===0){if(g===i&&(n||l.slice(_,_+o)===e)){a.push(l.slice(u,_)),u=_+o;continue}if(g==="/"){f=_;continue}}g==="["?s++:g==="]"&&s--}const c=a.length===0?l:l.substring(u),p=c.startsWith(Ta),h=p?c.substring(1):c,m=f&&f>u?f-u:void 0;return{modifiers:a,hasImportantModifier:p,baseClassName:h,maybePostfixModifierPosition:m}}}function nm(t){if(t.length<=1)return t;const e=[];let n=[];return t.forEach(i=>{i[0]==="["?(e.push(...n.sort(),i),n=[]):n.push(i)}),e.push(...n.sort()),e}function im(t){return{cache:em(t.cacheSize),splitModifiers:tm(t),...Xp(t)}}const om=/\s+/;function rm(t,e){const{splitModifiers:n,getClassGroupId:i,getConflictingClassGroupIds:o}=e,r=new Set;return t.trim().split(om).map(l=>{const{modifiers:a,hasImportantModifier:s,baseClassName:u,maybePostfixModifierPosition:f}=n(l);let c=i(f?u.substring(0,f):u),p=!!f;if(!c){if(!f)return{isTailwindClass:!1,originalClassName:l};if(c=i(u),!c)return{isTailwindClass:!1,originalClassName:l};p=!1}const h=nm(a).join(":");return{isTailwindClass:!0,modifierId:s?h+Ta:h,classGroupId:c,originalClassName:l,hasPostfixModifier:p}}).reverse().filter(l=>{if(!l.isTailwindClass)return!0;const{modifierId:a,classGroupId:s,hasPostfixModifier:u}=l,f=a+s;return r.has(f)?!1:(r.add(f),o(s,u).forEach(c=>r.add(a+c)),!0)}).reverse().map(l=>l.originalClassName).join(" ")}function lm(){let t=0,e,n,i="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Ia(e))&&(i&&(i+=" "),i+=n);return i}function Ia(t){if(typeof t=="string")return t;let e,n="";for(let i=0;i<t.length;i++)t[i]&&(e=Ia(t[i]))&&(n&&(n+=" "),n+=e);return n}function So(t,...e){let n,i,o,r=l;function l(s){const u=e.reduce((f,c)=>c(f),t());return n=im(u),i=n.cache.get,o=n.cache.set,r=a,a(s)}function a(s){const u=i(s);if(u)return u;const f=rm(s,n);return o(s,f),f}return function(){return r(lm.apply(null,arguments))}}function Ve(t){const e=n=>n[t]||[];return e.isThemeGetter=!0,e}const Na=/^\[(?:([a-z-]+):)?(.+)\]$/i,sm=/^\d+\/\d+$/,am=new Set(["px","full","screen"]),um=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,fm=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,cm=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,dm=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,pm=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function kt(t){return Kt(t)||am.has(t)||sm.test(t)}function Pt(t){return Nn(t,"length",wm)}function Kt(t){return!!t&&!Number.isNaN(Number(t))}function si(t){return Nn(t,"number",Kt)}function On(t){return!!t&&Number.isInteger(Number(t))}function mm(t){return t.endsWith("%")&&Kt(t.slice(0,-1))}function Te(t){return Na.test(t)}function Ot(t){return um.test(t)}const hm=new Set(["length","size","percentage"]);function _m(t){return Nn(t,hm,Ma)}function gm(t){return Nn(t,"position",Ma)}const bm=new Set(["image","url"]);function vm(t){return Nn(t,bm,Cm)}function ym(t){return Nn(t,"",km)}function $n(){return!0}function Nn(t,e,n){const i=Na.exec(t);return i?i[1]?typeof e=="string"?i[1]===e:e.has(i[1]):n(i[2]):!1}function wm(t){return fm.test(t)&&!cm.test(t)}function Ma(){return!1}function km(t){return dm.test(t)}function Cm(t){return pm.test(t)}function Ao(){const t=Ve("colors"),e=Ve("spacing"),n=Ve("blur"),i=Ve("brightness"),o=Ve("borderColor"),r=Ve("borderRadius"),l=Ve("borderSpacing"),a=Ve("borderWidth"),s=Ve("contrast"),u=Ve("grayscale"),f=Ve("hueRotate"),c=Ve("invert"),p=Ve("gap"),h=Ve("gradientColorStops"),m=Ve("gradientColorStopPositions"),_=Ve("inset"),g=Ve("margin"),k=Ve("opacity"),I=Ve("padding"),M=Ve("saturate"),B=Ve("scale"),R=Ve("sepia"),L=Ve("skew"),H=Ve("space"),x=Ve("translate"),F=()=>["auto","contain","none"],W=()=>["auto","hidden","clip","visible","scroll"],S=()=>["auto",Te,e],d=()=>[Te,e],v=()=>["",kt,Pt],b=()=>["auto",Kt,Te],$=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],N=()=>["solid","dashed","dotted","double","none"],q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"],j=()=>["start","end","center","between","around","evenly","stretch"],U=()=>["","0",Te],ie=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Q=()=>[Kt,si],te=()=>[Kt,Te];return{cacheSize:500,separator:":",theme:{colors:[$n],spacing:[kt,Pt],blur:["none","",Ot,Te],brightness:Q(),borderColor:[t],borderRadius:["none","","full",Ot,Te],borderSpacing:d(),borderWidth:v(),contrast:Q(),grayscale:U(),hueRotate:te(),invert:U(),gap:d(),gradientColorStops:[t],gradientColorStopPositions:[mm,Pt],inset:S(),margin:S(),opacity:Q(),padding:d(),saturate:Q(),scale:Q(),sepia:U(),skew:te(),space:d(),translate:d()},classGroups:{aspect:[{aspect:["auto","square","video",Te]}],container:["container"],columns:[{columns:[Ot]}],"break-after":[{"break-after":ie()}],"break-before":[{"break-before":ie()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...$(),Te]}],overflow:[{overflow:W()}],"overflow-x":[{"overflow-x":W()}],"overflow-y":[{"overflow-y":W()}],overscroll:[{overscroll:F()}],"overscroll-x":[{"overscroll-x":F()}],"overscroll-y":[{"overscroll-y":F()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",On,Te]}],basis:[{basis:S()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Te]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",On,Te]}],"grid-cols":[{"grid-cols":[$n]}],"col-start-end":[{col:["auto",{span:["full",On,Te]},Te]}],"col-start":[{"col-start":b()}],"col-end":[{"col-end":b()}],"grid-rows":[{"grid-rows":[$n]}],"row-start-end":[{row:["auto",{span:[On,Te]},Te]}],"row-start":[{"row-start":b()}],"row-end":[{"row-end":b()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Te]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Te]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...j()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...j(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...j(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[I]}],px:[{px:[I]}],py:[{py:[I]}],ps:[{ps:[I]}],pe:[{pe:[I]}],pt:[{pt:[I]}],pr:[{pr:[I]}],pb:[{pb:[I]}],pl:[{pl:[I]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[H]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[H]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Te,e]}],"min-w":[{"min-w":[Te,e,"min","max","fit"]}],"max-w":[{"max-w":[Te,e,"none","full","min","max","fit","prose",{screen:[Ot]},Ot]}],h:[{h:[Te,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Te,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Te,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Te,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ot,Pt]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",si]}],"font-family":[{font:[$n]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Te]}],"line-clamp":[{"line-clamp":["none",Kt,si]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",kt,Te]}],"list-image":[{"list-image":["none",Te]}],"list-style-type":[{list:["none","disc","decimal",Te]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[k]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[k]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...N(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",kt,Pt]}],"underline-offset":[{"underline-offset":["auto",kt,Te]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:d()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Te]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Te]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[k]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...$(),gm]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",_m]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},vm]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[r]}],"rounded-s":[{"rounded-s":[r]}],"rounded-e":[{"rounded-e":[r]}],"rounded-t":[{"rounded-t":[r]}],"rounded-r":[{"rounded-r":[r]}],"rounded-b":[{"rounded-b":[r]}],"rounded-l":[{"rounded-l":[r]}],"rounded-ss":[{"rounded-ss":[r]}],"rounded-se":[{"rounded-se":[r]}],"rounded-ee":[{"rounded-ee":[r]}],"rounded-es":[{"rounded-es":[r]}],"rounded-tl":[{"rounded-tl":[r]}],"rounded-tr":[{"rounded-tr":[r]}],"rounded-br":[{"rounded-br":[r]}],"rounded-bl":[{"rounded-bl":[r]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[k]}],"border-style":[{border:[...N(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[k]}],"divide-style":[{divide:N()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...N()]}],"outline-offset":[{"outline-offset":[kt,Te]}],"outline-w":[{outline:[kt,Pt]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:v()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[k]}],"ring-offset-w":[{"ring-offset":[kt,Pt]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ot,ym]}],"shadow-color":[{shadow:[$n]}],opacity:[{opacity:[k]}],"mix-blend":[{"mix-blend":q()}],"bg-blend":[{"bg-blend":q()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[i]}],contrast:[{contrast:[s]}],"drop-shadow":[{"drop-shadow":["","none",Ot,Te]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[c]}],saturate:[{saturate:[M]}],sepia:[{sepia:[R]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[i]}],"backdrop-contrast":[{"backdrop-contrast":[s]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[c]}],"backdrop-opacity":[{"backdrop-opacity":[k]}],"backdrop-saturate":[{"backdrop-saturate":[M]}],"backdrop-sepia":[{"backdrop-sepia":[R]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Te]}],duration:[{duration:te()}],ease:[{ease:["linear","in","out","in-out",Te]}],delay:[{delay:te()}],animate:[{animate:["none","spin","ping","pulse","bounce",Te]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[B]}],"scale-x":[{"scale-x":[B]}],"scale-y":[{"scale-y":[B]}],rotate:[{rotate:[On,Te]}],"translate-x":[{"translate-x":[x]}],"translate-y":[{"translate-y":[x]}],"skew-x":[{"skew-x":[L]}],"skew-y":[{"skew-y":[L]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Te]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Te]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":d()}],"scroll-mx":[{"scroll-mx":d()}],"scroll-my":[{"scroll-my":d()}],"scroll-ms":[{"scroll-ms":d()}],"scroll-me":[{"scroll-me":d()}],"scroll-mt":[{"scroll-mt":d()}],"scroll-mr":[{"scroll-mr":d()}],"scroll-mb":[{"scroll-mb":d()}],"scroll-ml":[{"scroll-ml":d()}],"scroll-p":[{"scroll-p":d()}],"scroll-px":[{"scroll-px":d()}],"scroll-py":[{"scroll-py":d()}],"scroll-ps":[{"scroll-ps":d()}],"scroll-pe":[{"scroll-pe":d()}],"scroll-pt":[{"scroll-pt":d()}],"scroll-pr":[{"scroll-pr":d()}],"scroll-pb":[{"scroll-pb":d()}],"scroll-pl":[{"scroll-pl":d()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Te]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[kt,Pt,si]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}function Sm(t,{cacheSize:e,prefix:n,separator:i,extend:o={},override:r={}}){hi(t,"cacheSize",e),hi(t,"prefix",n),hi(t,"separator",i);for(const l in r)Am(t[l],r[l]);for(const l in o)Tm(t[l],o[l]);return t}function hi(t,e,n){n!==void 0&&(t[e]=n)}function Am(t,e){if(e)for(const n in e)hi(t,n,e[n])}function Tm(t,e){if(e)for(const n in e){const i=e[n];i!==void 0&&(t[n]=(t[n]||[]).concat(i))}}function Im(t,...e){return typeof t=="function"?So(Ao,t,...e):So(()=>Sm(Ao(),t),...e)}const Ea=So(Ao);function Nm(t){const e=t-1;return e*e*e+1}function $e(...t){return Ea(Jp(t))}const er=(t,e={y:-8,x:0,start:.95,duration:150})=>{const n=getComputedStyle(t),i=n.transform==="none"?"":n.transform,o=(l,a,s)=>{const[u,f]=a,[c,p]=s;return(l-u)/(f-u)*(p-c)+c},r=l=>Object.keys(l).reduce((a,s)=>l[s]===void 0?a:a+`${s}:${l[s]};`,"");return{duration:e.duration??200,delay:0,css:l=>{const a=o(l,[0,1],[e.y??5,0]),s=o(l,[0,1],[e.x??0,0]),u=o(l,[0,1],[e.start??.95,1]);return r({transform:`${i} translate3d(${s}px, ${a}px, 0) scale(${u})`,opacity:l})},easing:Nm}};function dt(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function Mm(t){let e;const n=t[2].default,i=fe(n,t,t[3],null);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&8)&&de(i,n,o,o[3],e?ce(n,o[3],r,null):pe(o[3]),null)},i(o){e||(w(i,o),e=!0)},o(o){T(i,o),e=!1},d(o){i&&i.d(o)}}}function Em(t){let e,n;const i=[{class:$e("text-lg font-semibold leading-none tracking-tight",t[0])},t[1]];let o={$$slots:{default:[Mm]},$$scope:{ctx:t}};for(let r=0;r<i.length;r+=1)o=V(o,i[r]);return e=new Yd({props:o}),{c(){X(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&3?me(i,[l&1&&{class:$e("text-lg font-semibold leading-none tracking-tight",r[0])},l&2&&it(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){J(e,r)}}}function Pm(t,e,n){const i=["class"];let o=ne(e,i),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=V(V({},e),Ne(s)),n(1,o=ne(e,i)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,l=s.$$scope)},[a,o,r,l]}class on extends _e{constructor(e){super(),he(this,e,Pm,Em,le,{class:0})}}function Om(t){let e;const n=t[1].default,i=fe(n,t,t[2],null);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&4)&&de(i,n,o,o[2],e?ce(n,o[2],r,null):pe(o[2]),null)},i(o){e||(w(i,o),e=!0)},o(o){T(i,o),e=!1},d(o){i&&i.d(o)}}}function $m(t){let e,n;const i=[t[0]];let o={$$slots:{default:[Om]},$$scope:{ctx:t}};for(let r=0;r<i.length;r+=1)o=V(o,i[r]);return e=new sp({props:o}),{c(){X(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&1?me(i,[it(r[0])]):{};l&4&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){J(e,r)}}}function Lm(t,e,n){const i=[];let o=ne(e,i),{$$slots:r={},$$scope:l}=e;return t.$$set=a=>{e=V(V({},e),Ne(a)),n(0,o=ne(e,i)),"$$scope"in a&&n(2,l=a.$$scope)},[o,r,l]}class Fm extends _e{constructor(e){super(),he(this,e,Lm,$m,le,{})}}function qm(t){let e,n,i;const o=t[3].default,r=fe(o,t,t[2],null);let l=[{class:n=$e("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=V(a,l[s]);return{c(){e=P("div"),r&&r.c(),re(e,a)},m(s,u){A(s,e,u),r&&r.m(e,null),i=!0},p(s,[u]){r&&r.p&&(!i||u&4)&&de(r,o,s,s[2],i?ce(o,s[2],u,null):pe(s[2]),null),re(e,a=me(l,[(!i||u&1&&n!==(n=$e("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s[0])))&&{class:n},u&2&&s[1]]))},i(s){i||(w(r,s),i=!0)},o(s){T(r,s),i=!1},d(s){s&&C(e),r&&r.d(s)}}}function Rm(t,e,n){const i=["class"];let o=ne(e,i),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=V(V({},e),Ne(s)),n(1,o=ne(e,i)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,o,l,r]}class ti extends _e{constructor(e){super(),he(this,e,Rm,qm,le,{class:0})}}function Dm(t){let e,n,i;const o=t[3].default,r=fe(o,t,t[2],null);let l=[{class:n=$e("flex flex-col space-y-1.5 text-center sm:text-left",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=V(a,l[s]);return{c(){e=P("div"),r&&r.c(),re(e,a)},m(s,u){A(s,e,u),r&&r.m(e,null),i=!0},p(s,[u]){r&&r.p&&(!i||u&4)&&de(r,o,s,s[2],i?ce(o,s[2],u,null):pe(s[2]),null),re(e,a=me(l,[(!i||u&1&&n!==(n=$e("flex flex-col space-y-1.5 text-center sm:text-left",s[0])))&&{class:n},u&2&&s[1]]))},i(s){i||(w(r,s),i=!0)},o(s){T(r,s),i=!1},d(s){s&&C(e),r&&r.d(s)}}}function Bm(t,e,n){const i=["class"];let o=ne(e,i),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=V(V({},e),Ne(s)),n(1,o=ne(e,i)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,o,l,r]}class rn extends _e{constructor(e){super(),he(this,e,Bm,Dm,le,{class:0})}}function Pa(t,{delay:e=0,duration:n=400,easing:i=Yi}={}){const o=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:i,css:r=>`opacity: ${r*o}`}}function Gm(t){let e,n;const i=[{transition:t[1]},{transitionConfig:t[2]},{class:$e("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm",t[0])},t[3]];let o={};for(let r=0;r<i.length;r+=1)o=V(o,i[r]);return e=new Op({props:o}),{c(){X(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&15?me(i,[l&2&&{transition:r[1]},l&4&&{transitionConfig:r[2]},l&1&&{class:$e("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm",r[0])},l&8&&it(r[3])]):{};e.$set(a)},i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){J(e,r)}}}function jm(t,e,n){const i=["class","transition","transitionConfig"];let o=ne(e,i),{class:r=void 0}=e,{transition:l=Pa}=e,{transitionConfig:a={duration:150}}=e;return t.$$set=s=>{e=V(V({},e),Ne(s)),n(3,o=ne(e,i)),"class"in s&&n(0,r=s.class),"transition"in s&&n(1,l=s.transition),"transitionConfig"in s&&n(2,a=s.transitionConfig)},[r,l,a,o]}class Hm extends _e{constructor(e){super(),he(this,e,jm,Gm,le,{class:0,transition:1,transitionConfig:2})}}/**
 * @license lucide-svelte v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gl={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};function bl(t,e,n){const i=t.slice();return i[11]=e[n][0],i[12]=e[n][1],i}function ao(t){let e,n=[t[12]],i={};for(let o=0;o<n.length;o+=1)i=V(i,n[o]);return{c(){e=Ji(t[11]),yi(e,i)},m(o,r){A(o,e,r)},p(o,r){yi(e,i=me(n,[r&32&&o[12]]))},d(o){o&&C(e)}}}function vl(t){let e=t[11],n,i=t[11]&&ao(t);return{c(){i&&i.c(),n=Pe()},m(o,r){i&&i.m(o,r),A(o,n,r)},p(o,r){o[11]?e?le(e,o[11])?(i.d(1),i=ao(o),e=o[11],i.c(),i.m(n.parentNode,n)):i.p(o,r):(i=ao(o),e=o[11],i.c(),i.m(n.parentNode,n)):e&&(i.d(1),i=null,e=o[11])},d(o){o&&C(n),i&&i.d(o)}}}function Vm(t){let e,n,i,o,r,l=Ye(t[5]),a=[];for(let p=0;p<l.length;p+=1)a[p]=vl(bl(t,l,p));const s=t[10].default,u=fe(s,t,t[9],null);let f=[gl,t[7],{width:t[2]},{height:t[2]},{stroke:t[1]},{"stroke-width":i=t[4]?Number(t[3])*24/Number(t[2]):t[3]},{class:o=t[6]("lucide-icon","lucide",t[0]?`lucide-${t[0]}`:"",t[8].class)}],c={};for(let p=0;p<f.length;p+=1)c=V(c,f[p]);return{c(){e=Ji("svg");for(let p=0;p<a.length;p+=1)a[p].c();n=Pe(),u&&u.c(),yi(e,c)},m(p,h){A(p,e,h);for(let m=0;m<a.length;m+=1)a[m]&&a[m].m(e,null);y(e,n),u&&u.m(e,null),r=!0},p(p,[h]){if(h&32){l=Ye(p[5]);let m;for(m=0;m<l.length;m+=1){const _=bl(p,l,m);a[m]?a[m].p(_,h):(a[m]=vl(_),a[m].c(),a[m].m(e,n))}for(;m<a.length;m+=1)a[m].d(1);a.length=l.length}u&&u.p&&(!r||h&512)&&de(u,s,p,p[9],r?ce(s,p[9],h,null):pe(p[9]),null),yi(e,c=me(f,[gl,h&128&&p[7],(!r||h&4)&&{width:p[2]},(!r||h&4)&&{height:p[2]},(!r||h&2)&&{stroke:p[1]},(!r||h&28&&i!==(i=p[4]?Number(p[3])*24/Number(p[2]):p[3]))&&{"stroke-width":i},(!r||h&257&&o!==(o=p[6]("lucide-icon","lucide",p[0]?`lucide-${p[0]}`:"",p[8].class)))&&{class:o}]))},i(p){r||(w(u,p),r=!0)},o(p){T(u,p),r=!1},d(p){p&&C(e),yt(a,p),u&&u.d(p)}}}function Wm(t,e,n){const i=["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode","mergeClasses"];let o=ne(e,i),{$$slots:r={},$$scope:l}=e,{name:a=void 0}=e,{color:s="currentColor"}=e,{size:u=24}=e,{strokeWidth:f=2}=e,{absoluteStrokeWidth:c=!1}=e,{iconNode:p}=e;const h=(...m)=>m.filter((_,g,k)=>!!_&&k.indexOf(_)===g).join(" ");return t.$$set=m=>{n(8,e=V(V({},e),Ne(m))),n(7,o=ne(e,i)),"name"in m&&n(0,a=m.name),"color"in m&&n(1,s=m.color),"size"in m&&n(2,u=m.size),"strokeWidth"in m&&n(3,f=m.strokeWidth),"absoluteStrokeWidth"in m&&n(4,c=m.absoluteStrokeWidth),"iconNode"in m&&n(5,p=m.iconNode),"$$scope"in m&&n(9,l=m.$$scope)},e=Ne(e),[a,s,u,f,c,p,h,o,e,l,r]}class Km extends _e{constructor(e){super(),he(this,e,Wm,Vm,le,{name:0,color:1,size:2,strokeWidth:3,absoluteStrokeWidth:4,iconNode:5,mergeClasses:6})}get mergeClasses(){return this.$$.ctx[6]}}function Um(t){let e;const n=t[2].default,i=fe(n,t,t[3],null);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&8)&&de(i,n,o,o[3],e?ce(n,o[3],r,null):pe(o[3]),null)},i(o){e||(w(i,o),e=!0)},o(o){T(i,o),e=!1},d(o){i&&i.d(o)}}}function Ym(t){let e,n;const i=[{name:"x"},t[1],{iconNode:t[0]}];let o={$$slots:{default:[Um]},$$scope:{ctx:t}};for(let r=0;r<i.length;r+=1)o=V(o,i[r]);return e=new Km({props:o}),{c(){X(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&3?me(i,[i[0],l&2&&it(r[1]),l&1&&{iconNode:r[0]}]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){J(e,r)}}}function Jm(t,e,n){let{$$slots:i={},$$scope:o}=e;const r=[["path",{d:"M18 6 6 18"}],["path",{d:"m6 6 12 12"}]];return t.$$set=l=>{n(1,e=V(V({},e),Ne(l))),"$$scope"in l&&n(3,o=l.$$scope)},e=Ne(e),[r,e,i,o]}class Xm extends _e{constructor(e){super(),he(this,e,Jm,Ym,le,{})}}function Zm(t){let e,n,i,o;return e=new Xm({props:{class:"h-4 w-4"}}),{c(){X(e.$$.fragment),n=G(),i=P("span"),i.textContent="Close",O(i,"class","sr-only")},m(r,l){Y(e,r,l),A(r,n,l),A(r,i,l),o=!0},p:ue,i(r){o||(w(e.$$.fragment,r),o=!0)},o(r){T(e.$$.fragment,r),o=!1},d(r){r&&(C(n),C(i)),J(e,r)}}}function Qm(t){let e,n,i;const o=t[4].default,r=fe(o,t,t[5],null);return n=new ep({props:{class:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",$$slots:{default:[Zm]},$$scope:{ctx:t}}}),{c(){r&&r.c(),e=G(),X(n.$$.fragment)},m(l,a){r&&r.m(l,a),A(l,e,a),Y(n,l,a),i=!0},p(l,a){r&&r.p&&(!i||a&32)&&de(r,o,l,l[5],i?ce(o,l[5],a,null):pe(l[5]),null);const s={};a&32&&(s.$$scope={dirty:a,ctx:l}),n.$set(s)},i(l){i||(w(r,l),w(n.$$.fragment,l),i=!0)},o(l){T(r,l),T(n.$$.fragment,l),i=!1},d(l){l&&C(e),r&&r.d(l),J(n,l)}}}function xm(t){let e,n,i,o;e=new Hm({});const r=[{transition:t[1]},{transitionConfig:t[2]},{class:$e("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg md:w-full",t[0])},t[3]];let l={$$slots:{default:[Qm]},$$scope:{ctx:t}};for(let a=0;a<r.length;a+=1)l=V(l,r[a]);return i=new kp({props:l}),{c(){X(e.$$.fragment),n=G(),X(i.$$.fragment)},m(a,s){Y(e,a,s),A(a,n,s),Y(i,a,s),o=!0},p(a,s){const u=s&15?me(r,[s&2&&{transition:a[1]},s&4&&{transitionConfig:a[2]},s&1&&{class:$e("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg md:w-full",a[0])},s&8&&it(a[3])]):{};s&32&&(u.$$scope={dirty:s,ctx:a}),i.$set(u)},i(a){o||(w(e.$$.fragment,a),w(i.$$.fragment,a),o=!0)},o(a){T(e.$$.fragment,a),T(i.$$.fragment,a),o=!1},d(a){a&&C(n),J(e,a),J(i,a)}}}function zm(t){let e,n;return e=new Fm({props:{$$slots:{default:[xm]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},p(i,[o]){const r={};o&47&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(w(e.$$.fragment,i),n=!0)},o(i){T(e.$$.fragment,i),n=!1},d(i){J(e,i)}}}function eh(t,e,n){const i=["class","transition","transitionConfig"];let o=ne(e,i),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{transition:s=er}=e,{transitionConfig:u={duration:200}}=e;return t.$$set=f=>{e=V(V({},e),Ne(f)),n(3,o=ne(e,i)),"class"in f&&n(0,a=f.class),"transition"in f&&n(1,s=f.transition),"transitionConfig"in f&&n(2,u=f.transitionConfig),"$$scope"in f&&n(5,l=f.$$scope)},[a,s,u,o,r,l]}class ln extends _e{constructor(e){super(),he(this,e,eh,zm,le,{class:0,transition:1,transitionConfig:2})}}function th(t){let e;const n=t[2].default,i=fe(n,t,t[3],null);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&8)&&de(i,n,o,o[3],e?ce(n,o[3],r,null):pe(o[3]),null)},i(o){e||(w(i,o),e=!0)},o(o){T(i,o),e=!1},d(o){i&&i.d(o)}}}function nh(t){let e,n;const i=[{class:$e("text-sm text-muted-foreground",t[0])},t[1]];let o={$$slots:{default:[th]},$$scope:{ctx:t}};for(let r=0;r<i.length;r+=1)o=V(o,i[r]);return e=new Bp({props:o}),{c(){X(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&3?me(i,[l&1&&{class:$e("text-sm text-muted-foreground",r[0])},l&2&&it(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){J(e,r)}}}function ih(t,e,n){const i=["class"];let o=ne(e,i),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=V(V({},e),Ne(s)),n(1,o=ne(e,i)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,l=s.$$scope)},[a,o,r,l]}class sn extends _e{constructor(e){super(),he(this,e,ih,nh,le,{class:0})}}const an=Gd;function oh(t){let e,n;const i=[{class:$e("shrink-0 bg-border",t[1]==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t[0])},{orientation:t[1]},{decorative:t[2]},t[3]];let o={};for(let r=0;r<i.length;r+=1)o=V(o,i[r]);return e=new Fd({props:o}),{c(){X(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&15?me(i,[l&3&&{class:$e("shrink-0 bg-border",r[1]==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",r[0])},l&2&&{orientation:r[1]},l&4&&{decorative:r[2]},l&8&&it(r[3])]):{};e.$set(a)},i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){J(e,r)}}}function rh(t,e,n){const i=["class","orientation","decorative"];let o=ne(e,i),{class:r=void 0}=e,{orientation:l="horizontal"}=e,{decorative:a=void 0}=e;return t.$$set=s=>{e=V(V({},e),Ne(s)),n(3,o=ne(e,i)),"class"in s&&n(0,r=s.class),"orientation"in s&&n(1,l=s.orientation),"decorative"in s&&n(2,a=s.decorative)},[r,l,a,o]}class Un extends _e{constructor(e){super(),he(this,e,rh,oh,le,{class:0,orientation:1,decorative:2})}}function lh(t){let e,n,i,o,r=[{class:n=$e("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t[1])},t[2]],l={};for(let a=0;a<r.length;a+=1)l=V(l,r[a]);return{c(){e=P("input"),re(e,l)},m(a,s){A(a,e,s),e.autofocus&&e.focus(),At(e,t[0]),i||(o=[K(e,"input",t[17]),K(e,"blur",t[3]),K(e,"change",t[4]),K(e,"click",t[5]),K(e,"focus",t[6]),K(e,"focusin",t[7]),K(e,"focusout",t[8]),K(e,"keydown",t[9]),K(e,"keypress",t[10]),K(e,"keyup",t[11]),K(e,"mouseover",t[12]),K(e,"mouseenter",t[13]),K(e,"mouseleave",t[14]),K(e,"paste",t[15]),K(e,"input",t[16])],i=!0)},p(a,[s]){re(e,l=me(r,[s&2&&n!==(n=$e("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a[1]))&&{class:n},s&4&&a[2]])),s&1&&e.value!==a[0]&&At(e,a[0])},i:ue,o:ue,d(a){a&&C(e),i=!1,qe(o)}}}function sh(t,e,n){const i=["class","value"];let o=ne(e,i),{class:r=void 0}=e,{value:l=void 0}=e;function a(L){Z.call(this,t,L)}function s(L){Z.call(this,t,L)}function u(L){Z.call(this,t,L)}function f(L){Z.call(this,t,L)}function c(L){Z.call(this,t,L)}function p(L){Z.call(this,t,L)}function h(L){Z.call(this,t,L)}function m(L){Z.call(this,t,L)}function _(L){Z.call(this,t,L)}function g(L){Z.call(this,t,L)}function k(L){Z.call(this,t,L)}function I(L){Z.call(this,t,L)}function M(L){Z.call(this,t,L)}function B(L){Z.call(this,t,L)}function R(){l=this.value,n(0,l)}return t.$$set=L=>{e=V(V({},e),Ne(L)),n(2,o=ne(e,i)),"class"in L&&n(1,r=L.class),"value"in L&&n(0,l=L.value)},[l,r,o,a,s,u,f,c,p,h,m,_,g,k,I,M,B,R]}class tr extends _e{constructor(e){super(),he(this,e,sh,lh,le,{class:1,value:0})}}function yl(t,e,n){const i=t.slice();return i[7]=e[n],i}function wl(t){let e,n=t[7].subtitle+"",i;return{c(){e=new Fu(!1),i=Pe(),e.a=i},m(o,r){e.m(n,o,r),A(o,i,r)},p(o,r){r&1&&n!==(n=o[7].subtitle+"")&&e.p(n)},d(o){o&&(C(i),e.d())}}}function kl(t){let e,n,i=t[7].label+"",o,r,l,a=t[7].value+"",s,u,f,c,p,h,m=t[7].subtitle!=null&&wl(t);return{c(){e=P("div"),n=P("span"),o=D(i),r=G(),l=P("span"),s=D(a),u=G(),m&&m.c(),f=G(),O(n,"class","text-xs pl-4 pr-4 whitespace-nowrap font-bold underline underline-offset-4 mb-1"),O(l,"class","text-xs"),O(e,"class",c="flex flex-col items-center text-center flex-1 "+(t[2]=="true"?"cursor-pointer":""))},m(_,g){A(_,e,g),y(e,n),y(n,o),y(e,r),y(e,l),y(l,s),y(l,u),m&&m.m(l,null),y(e,f),p||(h=K(e,"click",function(){Mt(t[2]=="true"?t[7].tap:null)&&(t[2]=="true"?t[7].tap:null).apply(this,arguments)}),p=!0)},p(_,g){t=_,g&1&&i!==(i=t[7].label+"")&&ae(o,i),g&1&&a!==(a=t[7].value+"")&&ae(s,a),t[7].subtitle!=null?m?m.p(t,g):(m=wl(t),m.c(),m.m(l,null)):m&&(m.d(1),m=null),g&4&&c!==(c="flex flex-col items-center text-center flex-1 "+(t[2]=="true"?"cursor-pointer":""))&&O(e,"class",c)},d(_){_&&C(e),m&&m.d(),p=!1,h()}}}function ah(t){let e,n,i=Ye(t[0]),o=[];for(let r=0;r<i.length;r+=1)o[r]=kl(yl(t,i,r));return{c(){e=P("div");for(let r=0;r<o.length;r+=1)o[r].c();O(e,"class",n="flex flex-row justify-between pr-5 pl-5 "+t[1])},m(r,l){A(r,e,l);for(let a=0;a<o.length;a+=1)o[a]&&o[a].m(e,null)},p(r,[l]){if(l&5){i=Ye(r[0]);let a;for(a=0;a<i.length;a+=1){const s=yl(r,i,a);o[a]?o[a].p(s,l):(o[a]=kl(s),o[a].c(),o[a].m(e,null))}for(;a<o.length;a+=1)o[a].d(1);o.length=i.length}l&2&&n!==(n="flex flex-row justify-between pr-5 pl-5 "+r[1])&&O(e,"class",n)},i:ue,o:ue,d(r){r&&C(e),yt(o,r)}}}function St(t,e){if(e===void 0&&(e=0),t==null||t==null)return 0;t=parseFloat((t*Math.pow(10,e)).toFixed(11));var n=Math.round(t)/Math.pow(10,e);return+n.toFixed(e)}function uh(t,e,n){let i,o;se(t,ke,u=>n(5,i=u)),se(t,Ni,u=>n(6,o=u));let{stats:r=[]}=e,{classText:l=""}=e,{clickEvents:a="true"}=e;function s(){let u=i;u.hasBank===!0?(u.townInfo.gold+=u.townInfo.gold_from_tourism,u.townInfo.gold_from_tourism=0,ke.set(u),localStorage.setItem(ft,JSON.stringify(u))):alert("You need a bank to transfer funds from tourism activities.")}return t.$$set=u=>{"stats"in u&&n(0,r=u.stats),"classText"in u&&n(1,l=u.classText),"clickEvents"in u&&n(2,a=u.clickEvents)},t.$$.update=()=>{t.$$.dirty&100&&n(0,r=[{label:"Population",value:`${dt(i.townInfo.population_count)}/${dt(i.townInfo.population_max)}`,subtitle:`<span
					class='
						rounded-full px-1 py-1 text-xs
						${i.townInfo.population_count<i.townInfo.population_max?"text-red-300":"text-green-500"}
					'>
					${dt(i.townInfo.population_max-i.townInfo.population_count)}
				</span>`,tap:()=>{}},{label:"Employees",value:`${dt(i.townInfo.employees)}/${dt(i.townInfo.population_count)}`,subtitle:`<span
					class='
						rounded-full px-1 py-1 text-xs
						${i.townInfo.employees<i.townInfo.population_count?"text-red-300":"text-green-500"}
					'>
					${dt(i.townInfo.population_count-i.townInfo.employees)}
				</span>`,tap:()=>{}},{label:"Knowledge",value:dt(i.townInfo.knowledge_points)+`${a=="true"?" (click me)":""}`,tap:()=>{ge(Ni,o=!o,o)}},{label:"Gold",value:"$"+dt(St(i.townInfo.gold,0)),subtitle:`<span
					class='
						rounded-full px-1 py-1 text-xs
						${i.economyAndLaws.last_month_profit<0?"text-red-300":"text-green-500"}
					'>
					${dt(St(i.economyAndLaws.last_month_profit,0))}
				</span>`,tap:()=>{}},{label:"Tourism Gold",value:"$"+dt(St(i.townInfo.gold_from_tourism,0)),tap:()=>{s()}},{label:"Happiness",value:`${St(i.townInfo.happiness,0)}/${i.maximums.happiness}`,subtitle:`<span
					class='
						rounded-full px-1 py-1 text-xs 
						${i.modifiers.happiness<1?"text-red-500 opacity-100":"text-green-500 opacity-70"}
					'>
					${i.modifiers.happiness<1,""} (${St(i.modifiers.happiness,2)}x)
				</span>`,tap:()=>{}},{label:"Health",value:`${St(i.townInfo.health,0)}/${i.maximums.health}`,subtitle:`<span
					class='
						rounded-full px-1 py-1 text-xs transition-all duration-300
						${i.modifiers.health<1?"text-red-500 opacity-100":"text-green-500 opacity-70"}
					'>
					${i.modifiers.health<1,""} (${St(i.modifiers.health,2)}x)
				</span>`,tap:()=>{}}])},[r,l,a,St,s,i,o]}class Oa extends _e{constructor(e){super(),he(this,e,uh,ah,le,{stats:0,classText:1,clickEvents:2,roundTo:3,transferFundsFromBank:4})}get roundTo(){return St}get transferFundsFromBank(){return this.$$.ctx[4]}}var Cl=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,st=t=>!t||typeof t!="object"||Object.keys(t).length===0,fh=(t,e)=>JSON.stringify(t)===JSON.stringify(e);function $a(t,e){t.forEach(function(n){Array.isArray(n)?$a(n,e):e.push(n)})}function La(t){let e=[];return $a(t,e),e}var Fa=(...t)=>La(t).filter(Boolean),qa=(t,e)=>{let n={},i=Object.keys(t),o=Object.keys(e);for(let r of i)if(o.includes(r)){let l=t[r],a=e[r];typeof l=="object"&&typeof a=="object"?n[r]=qa(l,a):Array.isArray(l)||Array.isArray(a)?n[r]=Fa(a,l):n[r]=a+" "+l}else n[r]=t[r];for(let r of o)i.includes(r)||(n[r]=e[r]);return n},Sl=t=>!t||typeof t!="string"?t:t.replace(/\s+/g," ").trim(),ch={twMerge:!0,twMergeConfig:{},responsiveVariants:!1},Ra=t=>t||void 0,Yn=(...t)=>Ra(La(t).filter(Boolean).join(" ")),uo=null,Tt={},To=!1,Ln=(...t)=>e=>e.twMerge?((!uo||To)&&(To=!1,uo=st(Tt)?Ea:Im({...Tt,extend:{theme:Tt.theme,classGroups:Tt.classGroups,conflictingClassGroupModifiers:Tt.conflictingClassGroupModifiers,conflictingClassGroups:Tt.conflictingClassGroups,...Tt.extend}})),Ra(uo(Yn(t)))):Yn(t),Al=(t,e)=>{for(let n in e)t.hasOwnProperty(n)?t[n]=Yn(t[n],e[n]):t[n]=e[n];return t},dh=(t,e)=>{let{extend:n=null,slots:i={},variants:o={},compoundVariants:r=[],compoundSlots:l=[],defaultVariants:a={}}=t,s={...ch,...e},u=n!=null&&n.base?Yn(n.base,t==null?void 0:t.base):t==null?void 0:t.base,f=n!=null&&n.variants&&!st(n.variants)?qa(o,n.variants):o,c=n!=null&&n.defaultVariants&&!st(n.defaultVariants)?{...n.defaultVariants,...a}:a;!st(s.twMergeConfig)&&!fh(s.twMergeConfig,Tt)&&(To=!0,Tt=s.twMergeConfig);let p=st(n==null?void 0:n.slots),h=st(i)?{}:{base:Yn(t==null?void 0:t.base,p&&(n==null?void 0:n.base)),...i},m=p?h:Al({...n==null?void 0:n.slots},st(h)?{base:t==null?void 0:t.base}:h),_=k=>{if(st(f)&&st(i)&&p)return Ln(u,k==null?void 0:k.class,k==null?void 0:k.className)(s);if(r&&!Array.isArray(r))throw new TypeError(`The "compoundVariants" prop must be an array. Received: ${typeof r}`);if(l&&!Array.isArray(l))throw new TypeError(`The "compoundSlots" prop must be an array. Received: ${typeof l}`);let I=(d,v,b=[],$)=>{let N=b;if(typeof v=="string")N=N.concat(Sl(v).split(" ").map(q=>`${d}:${q}`));else if(Array.isArray(v))N=N.concat(v.reduce((q,j)=>q.concat(`${d}:${j}`),[]));else if(typeof v=="object"&&typeof $=="string"){for(let q in v)if(v.hasOwnProperty(q)&&q===$){let j=v[q];if(j&&typeof j=="string"){let U=Sl(j);N[$]?N[$]=N[$].concat(U.split(" ").map(ie=>`${d}:${ie}`)):N[$]=U.split(" ").map(ie=>`${d}:${ie}`)}else Array.isArray(j)&&j.length>0&&(N[$]=j.reduce((U,ie)=>U.concat(`${d}:${ie}`),[]))}}return N},M=(d,v=f,b=null,$=null)=>{var N;let q=v[d];if(!q||st(q))return null;let j=(N=$==null?void 0:$[d])!=null?N:k==null?void 0:k[d];if(j===null)return null;let U=Cl(j),ie=Array.isArray(s.responsiveVariants)&&s.responsiveVariants.length>0||s.responsiveVariants===!0,Q=c==null?void 0:c[d],te=[];if(typeof U=="object"&&ie)for(let[oe,Ie]of Object.entries(U)){let Ce=q[Ie];if(oe==="initial"){Q=Ie;continue}Array.isArray(s.responsiveVariants)&&!s.responsiveVariants.includes(oe)||(te=I(oe,Ce,te,b))}let ve=U!=null&&typeof U!="object"?U:Cl(Q),ye=q[ve]||q.false;return typeof te=="object"&&typeof b=="string"&&te[b]?Al(te,ye):te.length>0?(te.push(ye),te):ye},B=()=>f?Object.keys(f).map(d=>M(d,f)):null,R=(d,v)=>{if(!f||typeof f!="object")return null;let b=new Array;for(let $ in f){let N=M($,f,d,v),q=d==="base"&&typeof N=="string"?N:N&&N[d];q&&(b[b.length]=q)}return b},L={};for(let d in k)k[d]!==void 0&&(L[d]=k[d]);let H=(d,v)=>{var b;let $=typeof(k==null?void 0:k[d])=="object"?{[d]:(b=k[d])==null?void 0:b.initial}:{};return{...c,...L,...$,...v}},x=(d=[],v)=>{let b=[];for(let{class:$,className:N,...q}of d){let j=!0;for(let[U,ie]of Object.entries(q)){let Q=H(U,v);if(Array.isArray(ie)){if(!ie.includes(Q[U])){j=!1;break}}else if(Q[U]!==ie){j=!1;break}}j&&($&&b.push($),N&&b.push(N))}return b},F=d=>{let v=x(r,d),b=x(n==null?void 0:n.compoundVariants,d);return Fa(b,v)},W=d=>{let v=F(d);if(!Array.isArray(v))return v;let b={};for(let $ of v)if(typeof $=="string"&&(b.base=Ln(b.base,$)(s)),typeof $=="object")for(let[N,q]of Object.entries($))b[N]=Ln(b[N],q)(s);return b},S=d=>{if(l.length<1)return null;let v={};for(let{slots:b=[],class:$,className:N,...q}of l){if(!st(q)){let j=!0;for(let U of Object.keys(q)){let ie=H(U,d)[U];if(ie===void 0||(Array.isArray(q[U])?!q[U].includes(ie):q[U]!==ie)){j=!1;break}}if(!j)continue}for(let j of b)v[j]=v[j]||[],v[j].push([$,N])}return v};if(!st(i)||!p){let d={};if(typeof m=="object"&&!st(m))for(let v of Object.keys(m))d[v]=b=>{var $,N;return Ln(m[v],R(v,b),(($=W(b))!=null?$:[])[v],((N=S(b))!=null?N:[])[v],b==null?void 0:b.class,b==null?void 0:b.className)(s)};return d}return Ln(u,B(),F(),k==null?void 0:k.class,k==null?void 0:k.className)(s)},g=()=>{if(!(!f||typeof f!="object"))return Object.keys(f)};return _.variantKeys=g(),_.extend=n,_.base=u,_.slots=m,_.variants=f,_.defaultVariants=c,_.compoundSlots=l,_.compoundVariants=r,_};const Cn=dh({base:"inline-flex items-center justify-center rounded-md text-sm font-medium whitespace-nowrap ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}});function ph(t){let e;const n=t[5].default,i=fe(n,t,t[8],null);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&256)&&de(i,n,o,o[8],e?ce(n,o[8],r,null):pe(o[8]),null)},i(o){e||(w(i,o),e=!0)},o(o){T(i,o),e=!1},d(o){i&&i.d(o)}}}function mh(t){let e,n;const i=[{builders:t[3]},{class:$e(Cn({variant:t[1],size:t[2],className:t[0]}))},{type:"button"},t[4]];let o={$$slots:{default:[ph]},$$scope:{ctx:t}};for(let r=0;r<i.length;r+=1)o=V(o,i[r]);return e=new Id({props:o}),e.$on("click",t[6]),e.$on("keydown",t[7]),{c(){X(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&31?me(i,[l&8&&{builders:r[3]},l&7&&{class:$e(Cn({variant:r[1],size:r[2],className:r[0]}))},i[2],l&16&&it(r[4])]):{};l&256&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){J(e,r)}}}function hh(t,e,n){const i=["class","variant","size","builders"];let o=ne(e,i),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{variant:s="default"}=e,{size:u="default"}=e,{builders:f=[]}=e;function c(h){Z.call(this,t,h)}function p(h){Z.call(this,t,h)}return t.$$set=h=>{e=V(V({},e),Ne(h)),n(4,o=ne(e,i)),"class"in h&&n(0,a=h.class),"variant"in h&&n(1,s=h.variant),"size"in h&&n(2,u=h.size),"builders"in h&&n(3,f=h.builders),"$$scope"in h&&n(8,l=h.$$scope)},[a,s,u,f,o,r,c,p,l]}class Gt extends _e{constructor(e){super(),he(this,e,hh,mh,le,{class:0,variant:1,size:2,builders:3})}}function Tl(t,e,n){const i=t.slice();return i[27]=e[n],i}function Il(t,e,n){const i=t.slice();return i[30]=e[n],i}function Nl(t,e,n){const i=t.slice();return i[27]=e[n],i}function _h(t){let e,n;return{c(){e=P("span"),n=D("Set this Plot"),O(e,"class","text-2xl font-bold")},m(i,o){A(i,e,o),A(i,n,o)},p:ue,d(i){i&&(C(e),C(n))}}}function Ml(t){let e,n;return e=new sn({props:{class:"text-sm",$$slots:{default:[gh]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},p(i,o){const r={};o[0]&2|o[1]&16&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(w(e.$$.fragment,i),n=!0)},o(i){T(e.$$.fragment,i),n=!1},d(i){J(e,i)}}}function gh(t){let e;return{c(){e=D(t[1])},m(n,i){A(n,e,i)},p(n,i){i[0]&2&&ae(e,n[1])},d(n){n&&C(e)}}}function bh(t){let e,n,i,o,r,l,a,s,u;e=new on({props:{class:"text-2xl font-bold",$$slots:{default:[_h]},$$scope:{ctx:t}}});let f=t[1]!==""&&Ml(t);return l=new Oa({props:{classText:"w-full",clickEvents:"false"}}),{c(){X(e.$$.fragment),n=G(),f&&f.c(),i=G(),o=P("div"),r=G(),X(l.$$.fragment),a=G(),s=P("div"),O(o,"class","mt-4"),O(s,"class","mb-4")},m(c,p){Y(e,c,p),A(c,n,p),f&&f.m(c,p),A(c,i,p),A(c,o,p),A(c,r,p),Y(l,c,p),A(c,a,p),A(c,s,p),u=!0},p(c,p){const h={};p[1]&16&&(h.$$scope={dirty:p,ctx:c}),e.$set(h),c[1]!==""?f?(f.p(c,p),p[0]&2&&w(f,1)):(f=Ml(c),f.c(),w(f,1),f.m(i.parentNode,i)):f&&(Me(),T(f,1,1,()=>{f=null}),Ee())},i(c){u||(w(e.$$.fragment,c),w(f),w(l.$$.fragment,c),u=!0)},o(c){T(e.$$.fragment,c),T(f),T(l.$$.fragment,c),u=!1},d(c){c&&(C(n),C(i),C(o),C(r),C(a),C(s)),J(e,c),f&&f.d(c),J(l,c)}}}function El(t){let e,n,i,o,r,l={type:"text",id:"search-bar",placeholder:"Search Plot Options...",value:t[7],class:"border rounded w-auto bg-primary-foreground text-primary"};i=new tr({props:l}),t[20](i),i.$on("input",t[15]);let a=t[12].isMineralSource===!1&&Pl(t);return{c(){e=P("div"),n=P("div"),X(i.$$.fragment),o=G(),a&&a.c(),O(n,"class","flex items-center "),O(e,"class","flex flex-row w-full px-4 py-2 ")},m(s,u){A(s,e,u),y(e,n),Y(i,n,null),y(e,o),a&&a.m(e,null),r=!0},p(s,u){const f={};u[0]&128&&(f.value=s[7]),i.$set(f),s[12].isMineralSource===!1?a?a.p(s,u):(a=Pl(s),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},i(s){r||(w(i.$$.fragment,s),r=!0)},o(s){T(i.$$.fragment,s),r=!1},d(s){s&&C(e),t[20](null),J(i),a&&a.d()}}}function Pl(t){let e,n,i,o,r,l,a,s=t[9].plots[t[2]][t[3]].type!==-1&&t[5](t[2],t[3]),u,f,c,p,h,m,_,g=s&&Ol(t);function k(B,R){return B[8].length>0?yh:vh}let I=k(t),M=I(t);return{c(){e=P("div"),n=P("input"),o=G(),r=P("label"),r.textContent="Show only buildable",l=G(),a=P("div"),g&&g.c(),u=G(),f=P("label"),c=P("span"),c.textContent="Quick scroll",p=G(),h=P("div"),M.c(),O(n,"type","checkbox"),O(n,"id","toggle-affordable"),O(n,"class","rounded"),n.checked=i=t[11]===t[8].length,O(r,"for","toggle-affordable"),O(r,"class","ml-2 no-select cursor-pointer "),O(e,"class","flex items-center ml-6"),O(a,"class","flex justify-end ml-6"),O(c,"class","mb-10"),O(f,"for","plotType"),O(f,"class","text-xs ml-4 gap-2")},m(B,R){A(B,e,R),y(e,n),y(e,o),y(e,r),A(B,l,R),A(B,a,R),g&&g.m(a,null),A(B,u,R),A(B,f,R),y(f,c),y(f,p),y(f,h),M.m(h,null),m||(_=K(n,"change",t[21]),m=!0)},p(B,R){R[0]&2304&&i!==(i=B[11]===B[8].length)&&(n.checked=i),R[0]&524&&(s=B[9].plots[B[2]][B[3]].type!==-1&&B[5](B[2],B[3])),s?g?g.p(B,R):(g=Ol(B),g.c(),g.m(a,null)):g&&(g.d(1),g=null),I===(I=k(B))&&M?M.p(B,R):(M.d(1),M=I(B),M&&(M.c(),M.m(h,null)))},d(B){B&&(C(e),C(l),C(a),C(u),C(f)),g&&g.d(),M.d(),m=!1,_()}}}function Ol(t){let e,n,i;return{c(){e=P("button"),e.textContent="🔥 Bulldoze",O(e,"id","bulldoze"),O(e,"class","px-2 py-2 bg-red-500 rounded hover:bg-red-600 transition duration-300 ease-in-out")},m(o,r){A(o,e,r),n||(i=K(e,"click",t[16]),n=!0)},p:ue,d(o){o&&C(e),n=!1,i()}}}function vh(t){let e;return{c(){e=D("No options")},m(n,i){A(n,e,i)},p:ue,d(n){n&&C(e)}}}function yh(t){let e,n=Ye(t[8]),i=[];for(let o=0;o<n.length;o+=1)i[o]=Ll(Nl(t,n,o));return{c(){for(let o=0;o<i.length;o+=1)i[o].c();e=Pe()},m(o,r){for(let l=0;l<i.length;l+=1)i[l]&&i[l].m(o,r);A(o,e,r)},p(o,r){if(r[0]&256){n=Ye(o[8]);let l;for(l=0;l<n.length;l+=1){const a=Nl(o,n,l);i[l]?i[l].p(a,r):(i[l]=Ll(a),i[l].c(),i[l].m(e.parentNode,e))}for(;l<i.length;l+=1)i[l].d(1);i.length=n.length}},d(o){o&&C(e),yt(i,o)}}}function $l(t){let e,n=Wl(t[27].title)+"",i,o,r;function l(){return t[22](t[27])}return{c(){e=P("span"),i=D(n),O(e,"class","text-xl cursor-pointer hover:bg-slate-300 rounded-lg p-1")},m(a,s){A(a,e,s),y(e,i),o||(r=K(e,"click",l),o=!0)},p(a,s){t=a,s[0]&256&&n!==(n=Wl(t[27].title)+"")&&ae(i,n)},d(a){a&&C(e),o=!1,r()}}}function Ll(t){let e,n=t[27].affordable&&$l(t);return{c(){n&&n.c(),e=Pe()},m(i,o){n&&n.m(i,o),A(i,e,o)},p(i,o){i[27].affordable?n?n.p(i,o):(n=$l(i),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(i){i&&C(e),n&&n.d(i)}}}function wh(t){let e,n,i,o,r,l,a,s=t[9].townInfo.gold>=t[13][t[14]("mine")].requirements.gold?"✅":"❌",u,f,c=It(t[13][t[14]("mine")].requirements.gold)+"",p,h,m,_,g=t[9].townInfo.population_count-t[9].townInfo.employees>=t[13][t[14]("mine")].requirements.employees?"✅":"❌",k,I,M=t[13][t[14]("mine")].requirements.employees+"",B,R=" ",L,H,x,F,W,S,d,v,b;const $=[Sh,Ch],N=[];function q(j,U){return U[0]&512&&(S=null),S==null&&(S=tt("mine",j[9]).length===0),S?0:1}return d=q(t,[-1,-1]),v=N[d]=$[d](t),{c(){e=P("div"),n=P("div"),i=P("div"),i.textContent="Build a mine",o=G(),r=P("div"),l=P("ul"),a=P("li"),u=D(s),f=D(`
									$`),p=D(c),h=D(" gold"),m=G(),_=P("li"),k=D(g),I=G(),B=D(M),L=D(R),H=D(`
									employees`),x=G(),F=P("div"),F.innerHTML=`<div class="text-8xl text-center h-5/6 mt-2 flex flex-col justify-center items-center align-middle w-1/3"><div>⛏️</div></div> <div class="w-2/3 text-start pl-6">Used to extract minerals needed to build many advanced plots
								including hospitals, labs, and more.</div>`,W=G(),v.c(),O(i,"class","text-2xl pb-2"),O(l,"class","flex flex-row justify-between px-6 bg-blue-900 text-blue-200 text-sm rounded-md py-1"),O(F,"class","flex flex-row w-full justify-between px-6 mt-4 h-full"),O(n,"class","flex flex-col w-1/3 h-3/5 p-2 bg-blue-800 rounded-lg"),O(e,"class","flex justify-center items-start p-3 text-center w-full")},m(j,U){A(j,e,U),y(e,n),y(n,i),y(n,o),y(n,r),y(r,l),y(l,a),y(a,u),y(a,f),y(a,p),y(a,h),y(l,m),y(l,_),y(_,k),y(_,I),y(_,B),y(_,L),y(_,H),y(n,x),y(n,F),y(n,W),N[d].m(n,null),b=!0},p(j,U){(!b||U[0]&512)&&s!==(s=j[9].townInfo.gold>=j[13][j[14]("mine")].requirements.gold?"✅":"❌")&&ae(u,s),(!b||U[0]&512)&&g!==(g=j[9].townInfo.population_count-j[9].townInfo.employees>=j[13][j[14]("mine")].requirements.employees?"✅":"❌")&&ae(k,g);let ie=d;d=q(j,U),d===ie?N[d].p(j,U):(Me(),T(N[ie],1,1,()=>{N[ie]=null}),Ee(),v=N[d],v?v.p(j,U):(v=N[d]=$[d](j),v.c()),w(v,1),v.m(n,null))},i(j){b||(w(v),b=!0)},o(j){T(v),b=!1},d(j){j&&C(e),N[d].d()}}}function kh(t){let e,n,i,o,r=[],l=new Map,a,s,u=Ye(t[8]);const f=c=>c[27].id;for(let c=0;c<u.length;c+=1){let p=Tl(t,u,c),h=f(p);l.set(h,r[c]=Vl(h,p))}return{c(){e=P("table"),n=P("thead"),n.innerHTML='<tr class="text-xs text-left"><th class="px-2 py-2">Title</th> <th class="px-2 pr-2 py-2 w-48">Desc</th> <th class="px-2 py-2">Profit</th> <th class="px-2 py-2">Employees</th> <th class="px-2 py-2">Cost</th> <th class="px-2 py-2">Requires</th> <th class="px-2 py-2">Modifiers</th> <th class="px-2 py-2">Instant effect</th></tr>',i=G(),o=P("tbody");for(let c=0;c<r.length;c+=1)r[c].c();O(n,"class","sticky top-0 z-10 bg-slate-900 position-sticky text-left w-full px-5 "),O(o,"class","overflow-hidden text-xs mx-2"),O(e,"class","text-left table-auto text-xs w-full border-collapse rounded-lgshadow-lg")},m(c,p){A(c,e,p),y(e,n),y(e,i),y(e,o);for(let h=0;h<r.length;h+=1)r[h]&&r[h].m(o,null);a||(s=K(e,"click",t[18]),a=!0)},p(c,p){p[0]&25372&&(u=Ye(c[8]),r=Wu(r,p,f,1,c,u,l,o,Vu,Vl,null,Tl))},i:ue,o:ue,d(c){c&&C(e);for(let p=0;p<r.length;p+=1)r[p].d();a=!1,s()}}}function Ch(t){let e;return{c(){e=P("div"),e.textContent="You have built a mine here, and mine's can not be destroyed.",O(e,"class","text-yellow-500 text-xs mt-4 text-center")},m(n,i){A(n,e,i)},p:ue,i:ue,o:ue,d(n){n&&C(e)}}}function Sh(t){let e,n;return e=new Gt({props:{class:`my-6 w-full 
								`+(t[17](t[13][t[14]("mine")],t[9])?"bg-green-500 hover:bg-green-600":"bg-gray-900 hover:bg-gray-900 opacity-75 cursor-not-allowed")+` disabled'}
							`,tabindex:-1,$$slots:{default:[Ah]},$$scope:{ctx:t}}}),e.$on("click",t[23]),{c(){X(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},p(i,o){const r={};o[0]&512&&(r.class=`my-6 w-full 
								`+(i[17](i[13][i[14]("mine")],i[9])?"bg-green-500 hover:bg-green-600":"bg-gray-900 hover:bg-gray-900 opacity-75 cursor-not-allowed")+` disabled'}
							`),o[1]&16&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(w(e.$$.fragment,i),n=!0)},o(i){T(e.$$.fragment,i),n=!1},d(i){J(e,i)}}}function Ah(t){let e;return{c(){e=D("Build")},m(n,i){A(n,e,i)},d(n){n&&C(e)}}}function Fl(t){let e,n,i,o=It(Xt(t[9].economyAndLaws.tax_rate*t[27].revenue_per_week,2))+"",r;return{c(){e=P("div"),n=P("span"),i=D("$"),r=D(o)},m(l,a){A(l,e,a),y(e,n),y(n,i),y(n,r)},p(l,a){a[0]&768&&o!==(o=It(Xt(l[9].economyAndLaws.tax_rate*l[27].revenue_per_week,2))+"")&&ae(r,o)},d(l){l&&C(e)}}}function ql(t){let e,n=It(t[27].requirements.employees,!1)+"",i,o;return{c(){e=P("span"),i=D(n),O(e,"class",o=t[27].requirements.employees>t[9].townInfo.population_count-t[9].townInfo.employees?"bg-red-800  px-2 py-1 rounded-sm overflow-ellipsis flex justify-center text-center mr-2":"")},m(r,l){A(r,e,l),y(e,i)},p(r,l){l[0]&256&&n!==(n=It(r[27].requirements.employees,!1)+"")&&ae(i,n),l[0]&768&&o!==(o=r[27].requirements.employees>r[9].townInfo.population_count-r[9].townInfo.employees?"bg-red-800  px-2 py-1 rounded-sm overflow-ellipsis flex justify-center text-center mr-2":"")&&O(e,"class",o)},d(r){r&&C(e)}}}function Rl(t){let e,n,i=It(t[27].requirements.knowledge,!1)+"",o;return{c(){e=P("span"),n=D("🧠 "),o=D(i),O(e,"class","bg-red-800 px-2 py-1 rounded-sm w-min overflow-ellipsis")},m(r,l){A(r,e,l),y(e,n),y(e,o)},p(r,l){l[0]&256&&i!==(i=It(r[27].requirements.knowledge,!1)+"")&&ae(o,i)},d(r){r&&C(e)}}}function Th(t){let e,n=t[13][t[14](t[30])].title.substring(2)+"",i;return{c(){e=P("span"),i=D(n),O(e,"class","bg-red-900 p-1 rounded-sm w-min text-xs text-nowrap overflow-ellipsis px-2")},m(o,r){A(o,e,r),y(e,i)},p(o,r){r[0]&256&&n!==(n=o[13][o[14](o[30])].title.substring(2)+"")&&ae(i,n)},d(o){o&&C(e)}}}function Ih(t){let e,n=t[13][t[14](t[30])].title.substring(2)+"",i,o;return{c(){e=P("span"),i=D(n),o=G(),O(e,"class","bg-opacity-100 bg-green-900 p-1 rounded-sm text-xs text-nowrap overflow-ellipsis w-max")},m(r,l){A(r,e,l),y(e,i),y(e,o)},p(r,l){l[0]&256&&n!==(n=r[13][r[14](r[30])].title.substring(2)+"")&&ae(i,n)},d(r){r&&C(e)}}}function Dl(t){let e,n;function i(l,a){return a[0]&768&&(e=null),e==null&&(e=tt(l[30],l[9]).length>0),e?Ih:Th}let o=i(t,[-1,-1]),r=o(t);return{c(){r.c(),n=Pe()},m(l,a){r.m(l,a),A(l,n,a)},p(l,a){o===(o=i(l,a))&&r?r.p(l,a):(r.d(1),r=o(l),r&&(r.c(),r.m(n.parentNode,n)))},d(l){l&&C(n),r.d(l)}}}function Bl(t){let e,n=Fi(t[27].effect_modifiers.happiness)+"",i;return{c(){e=D("😀 "),i=D(n)},m(o,r){A(o,e,r),A(o,i,r)},p(o,r){r[0]&256&&n!==(n=Fi(o[27].effect_modifiers.happiness)+"")&&ae(i,n)},d(o){o&&(C(e),C(i))}}}function Gl(t){let e,n=Fi(t[27].effect_modifiers.health)+"",i;return{c(){e=D("😷 "),i=D(n)},m(o,r){A(o,e,r),A(o,i,r)},p(o,r){r[0]&256&&n!==(n=Fi(o[27].effect_modifiers.health)+"")&&ae(i,n)},d(o){o&&(C(e),C(i))}}}function jl(t){let e,n=qi(t[27].immediate_variable_changes.happiness)+"",i;return{c(){e=D("😀 "),i=D(n)},m(o,r){A(o,e,r),A(o,i,r)},p(o,r){r[0]&256&&n!==(n=qi(o[27].immediate_variable_changes.happiness)+"")&&ae(i,n)},d(o){o&&(C(e),C(i))}}}function Hl(t){let e,n,i=qi(t[27].immediate_variable_changes.health)+"",o;return{c(){e=P("br"),n=D(`
										😷 `),o=D(i)},m(r,l){A(r,e,l),A(r,n,l),A(r,o,l)},p(r,l){l[0]&256&&i!==(i=qi(r[27].immediate_variable_changes.health)+"")&&ae(o,i)},d(r){r&&(C(e),C(n),C(o))}}}function Vl(t,e){let n,i,o=e[27].selected?`✅ SELECTED ${e[27].title.substring(2)}`:`${e[27].title}`,r,l,a,s=e[27].description+"",u,f,c,p,h,m,_,g,k=It(e[27].requirements.gold)+"",I,M,B,R,L,H,x,F,W,S,d,v,b,$,N,q,j,U,ie,Q=e[27].revenue_per_week>0&&Fl(e),te=e[27].requirements.employees>0&&ql(e),ve=e[27].requirements.knowledge>e[9].townInfo.knowledge_points&&Rl(e),ye=Ye(e[27].requirements.plots),oe=[];for(let be=0;be<ye.length;be+=1)oe[be]=Dl(Il(e,ye,be));let Ie=e[27].effect_modifiers.happiness!=1&&Bl(e),Ce=e[27].effect_modifiers.health!=1&&Gl(e),Se=e[27].immediate_variable_changes.happiness!=0&&jl(e),Le=e[27].immediate_variable_changes.health!=0&&Hl(e);return{key:t,first:null,c(){n=P("tr"),i=P("td"),r=D(o),l=G(),a=P("td"),u=G(),f=P("td"),Q&&Q.c(),c=G(),p=P("td"),te&&te.c(),h=G(),m=P("td"),_=P("span"),g=D("$"),I=D(k),B=G(),R=P("div"),ve&&ve.c(),H=G(),x=P("td"),F=P("div");for(let be=0;be<oe.length;be+=1)oe[be].c();W=G(),S=P("td"),d=P("div"),Ie&&Ie.c(),v=G(),b=P("div"),Ce&&Ce.c(),$=G(),N=P("td"),Se&&Se.c(),q=G(),Le&&Le.c(),j=G(),O(i,"class","px-2 py-2 w-12"),O(a,"class","px-2 py-2 w-24"),O(f,"class","px-2 py-2 w-12 font-bold"),O(p,"class","px-2 py-2 w-8"),O(_,"class",M=e[27].requirements.gold>e[9].townInfo.gold?"bg-red-800  px-2 py-1 rounded-sm w-min overflow-ellipsis":""),O(R,"class",L=e[27].requirements.knowledge!=0?"mt-3":""),O(m,"class","px-2 py-2 w-8"),O(F,"class","flex flex-col align-middle justify-center h-max w-max gap-2"),O(x,"class","px-2 py-2 w-12"),O(d,"class","text-xs"),O(b,"class","mt-2"),O(S,"class","px-2 py-2 w-12 text-xs"),O(N,"class","px-2 py-2 w-12"),O(n,"class",U="plotOption border-b border-black "+(e[27].affordable?"cursor-pointer":"unaffordable cursor-not-allowed bg-gray-200")+" "+(e[27].selected?"italic font-light opacity-50 ":"")+" svelte-bq7iir"),O(n,"data-plotoptionid",ie=e[27].id),wn(n,"background-color",e[27].selected?"gray":Ai(e[14](e[27].id),e[4](e[2],e[3]))),this.first=n},m(be,Fe){A(be,n,Fe),y(n,i),y(i,r),y(n,l),y(n,a),a.innerHTML=s,y(n,u),y(n,f),Q&&Q.m(f,null),y(n,c),y(n,p),te&&te.m(p,null),y(n,h),y(n,m),y(m,_),y(_,g),y(_,I),y(m,B),y(m,R),ve&&ve.m(R,null),y(n,H),y(n,x),y(x,F);for(let ee=0;ee<oe.length;ee+=1)oe[ee]&&oe[ee].m(F,null);y(n,W),y(n,S),y(S,d),Ie&&Ie.m(d,null),y(S,v),y(S,b),Ce&&Ce.m(b,null),y(n,$),y(n,N),Se&&Se.m(N,null),y(N,q),Le&&Le.m(N,null),y(n,j)},p(be,Fe){if(e=be,Fe[0]&256&&o!==(o=e[27].selected?`✅ SELECTED ${e[27].title.substring(2)}`:`${e[27].title}`)&&ae(r,o),Fe[0]&256&&s!==(s=e[27].description+"")&&(a.innerHTML=s),e[27].revenue_per_week>0?Q?Q.p(e,Fe):(Q=Fl(e),Q.c(),Q.m(f,null)):Q&&(Q.d(1),Q=null),e[27].requirements.employees>0?te?te.p(e,Fe):(te=ql(e),te.c(),te.m(p,null)):te&&(te.d(1),te=null),Fe[0]&256&&k!==(k=It(e[27].requirements.gold)+"")&&ae(I,k),Fe[0]&768&&M!==(M=e[27].requirements.gold>e[9].townInfo.gold?"bg-red-800  px-2 py-1 rounded-sm w-min overflow-ellipsis":"")&&O(_,"class",M),e[27].requirements.knowledge>e[9].townInfo.knowledge_points?ve?ve.p(e,Fe):(ve=Rl(e),ve.c(),ve.m(R,null)):ve&&(ve.d(1),ve=null),Fe[0]&256&&L!==(L=e[27].requirements.knowledge!=0?"mt-3":"")&&O(R,"class",L),Fe[0]&25344){ye=Ye(e[27].requirements.plots);let ee;for(ee=0;ee<ye.length;ee+=1){const Oe=Il(e,ye,ee);oe[ee]?oe[ee].p(Oe,Fe):(oe[ee]=Dl(Oe),oe[ee].c(),oe[ee].m(F,null))}for(;ee<oe.length;ee+=1)oe[ee].d(1);oe.length=ye.length}e[27].effect_modifiers.happiness!=1?Ie?Ie.p(e,Fe):(Ie=Bl(e),Ie.c(),Ie.m(d,null)):Ie&&(Ie.d(1),Ie=null),e[27].effect_modifiers.health!=1?Ce?Ce.p(e,Fe):(Ce=Gl(e),Ce.c(),Ce.m(b,null)):Ce&&(Ce.d(1),Ce=null),e[27].immediate_variable_changes.happiness!=0?Se?Se.p(e,Fe):(Se=jl(e),Se.c(),Se.m(N,q)):Se&&(Se.d(1),Se=null),e[27].immediate_variable_changes.health!=0?Le?Le.p(e,Fe):(Le=Hl(e),Le.c(),Le.m(N,null)):Le&&(Le.d(1),Le=null),Fe[0]&256&&U!==(U="plotOption border-b border-black "+(e[27].affordable?"cursor-pointer":"unaffordable cursor-not-allowed bg-gray-200")+" "+(e[27].selected?"italic font-light opacity-50 ":"")+" svelte-bq7iir")&&O(n,"class",U),Fe[0]&256&&ie!==(ie=e[27].id)&&O(n,"data-plotoptionid",ie),Fe[0]&268&&wn(n,"background-color",e[27].selected?"gray":Ai(e[14](e[27].id),e[4](e[2],e[3])))},d(be){be&&C(n),Q&&Q.d(),te&&te.d(),ve&&ve.d(),yt(oe,be),Ie&&Ie.d(),Ce&&Ce.d(),Se&&Se.d(),Le&&Le.d()}}}function Nh(t){let e,n,i,o,r,l,a,s,u;e=new rn({props:{$$slots:{default:[bh]},$$scope:{ctx:t}}});let f=t[12].isMineralSource===!1&&El(t);o=new Un({props:{class:""}});const c=[kh,wh],p=[];function h(m,_){return m[12].isMineralSource===!1?0:1}return a=h(t),s=p[a]=c[a](t),{c(){X(e.$$.fragment),n=G(),f&&f.c(),i=G(),X(o.$$.fragment),r=G(),l=P("div"),s.c(),O(l,"class","overflow-y-scroll scroll-smooth no-scrollbar max-h-[60vh] ")},m(m,_){Y(e,m,_),A(m,n,_),f&&f.m(m,_),A(m,i,_),Y(o,m,_),A(m,r,_),A(m,l,_),p[a].m(l,null),u=!0},p(m,_){const g={};_[0]&2|_[1]&16&&(g.$$scope={dirty:_,ctx:m}),e.$set(g),m[12].isMineralSource===!1?f?(f.p(m,_),_[0]&4096&&w(f,1)):(f=El(m),f.c(),w(f,1),f.m(i.parentNode,i)):f&&(Me(),T(f,1,1,()=>{f=null}),Ee());let k=a;a=h(m),a===k?p[a].p(m,_):(Me(),T(p[k],1,1,()=>{p[k]=null}),Ee(),s=p[a],s?s.p(m,_):(s=p[a]=c[a](m),s.c()),w(s,1),s.m(l,null))},i(m){u||(w(e.$$.fragment,m),w(f),w(o.$$.fragment,m),w(s),u=!0)},o(m){T(e.$$.fragment,m),T(f),T(o.$$.fragment,m),T(s),u=!1},d(m){m&&(C(n),C(i),C(r),C(l)),J(e,m),f&&f.d(m),J(o,m),p[a].d()}}}function Mh(t){let e,n;return e=new ln({props:{class:`border-gray-500 border-r-2 overflow-clip max-w-[90vw] max-h-[90vh] bg-card-foreground text-primary-foreground
		`,$$slots:{default:[Nh]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},p(i,o){const r={};o[0]&8078|o[1]&16&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(w(e.$$.fragment,i),n=!0)},o(i){T(e.$$.fragment,i),n=!1},d(i){J(e,i)}}}function Eh(t){let e,n,i;function o(l){t[24](l)}let r={$$slots:{default:[Mh]},$$scope:{ctx:t}};return t[0]!==void 0&&(r.open=t[0]),e=new an({props:r}),Ae.push(()=>tn(e,"open",o)),{c(){X(e.$$.fragment)},m(l,a){Y(e,l,a),i=!0},p(l,a){const s={};a[0]&8078|a[1]&16&&(s.$$scope={dirty:a,ctx:l}),!n&&a[0]&1&&(n=!0,s.open=l[0],en(()=>n=!1)),e.$set(s)},i(l){i||(w(e.$$.fragment,l),i=!0)},o(l){T(e.$$.fragment,l),i=!1},d(l){J(e,l)}}}function Fi(t){let e=t<1,n=Xt(t%1*100,0);return e?`-${100-n}%`:`+${n}%`}function qi(t){return t=Xt(t/3,0),t<0?`${t}`:`+${t}`}function Wl(t){const n=new RegExp("\\p{Emoji}","u").exec(t);return n?n[0]:null}function Xt(t,e){e===void 0&&(e=0);var n=Math.pow(10,e);t=parseFloat((t*n).toFixed(11));var i=Math.round(t)/n;return+i.toFixed(e)}function It(t,e=!0){let n=t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,");return e||(n=n.split(".")[0]),n}function Ph(t,e,n){let i,o,r;se(t,Xe,b=>n(12,i=b)),se(t,ke,b=>n(9,o=b)),se(t,ua,b=>n(19,r=b));let{x:l=0}=e,{y:a=0}=e,{open:s=!1}=e,u="",f=Ge,{tooltip:c=""}=e,p,h,m=f.map(b=>Object.assign(Object.assign({},b),{affordable:H(b,o),selected:k(b)}));function _(b){return Ge.findIndex($=>$.id===b)}function g(b){n(7,u=b.target.value||"")}function k(b){return o.plots[l][a].type>-1?f[o.plots[l][a].type].id===b.id:!1}function I(b,$){let N={x:b,y:$};return N.x===0&&N.y===0?!0:[{x:N.x-1,y:N.y},{x:N.x+1,y:N.y},{x:N.x,y:N.y-1},{x:N.x,y:N.y+1}].some(j=>j.x<0||j.x>o.plots.length-1||j.y<0||j.y>o.plots.length-1?!1:o.plots[j.x][j.y].active)}function M(){document.querySelectorAll(".plotOption").forEach($=>{$.classList.remove("active")}),Ii(l,a,o)}function B(b){document.querySelectorAll(".plotOption").forEach(q=>{q.classList.remove("active")});const N=document.querySelector(`[data-plotoptionid="${b}"]`);N&&(N.classList.add("active"),L(l,a,b))}function R(b,$){if(i.isMineralSource)return!1;let N=0;return b>0&&o.plots[b-1][$].type!==-1&&N++,b<o.plots.length-1&&o.plots[b+1][$].type!==-1&&N++,$>0&&o.plots[b][$-1].type!==-1&&N++,$<o.plots[0].length-1&&o.plots[b][$+1].type!==-1&&N++,N<=4}function L(b,$,N){let q=o;const j=Ge.findIndex(Q=>Q.id===N);let U=Ge[j];if(H(U,o)==!1)return console.log(U.requirements),alert(`${JSON.stringify(U.requirements)}`);let ie=!0;if((U.requirements.gold>q.townInfo.gold||U.requirements.employees>q.townInfo.population_count-q.townInfo.employees)&&(ie=!1),U.requirements.size!=null&&ie){let Q=U.requirements.size,te=[],ve=f[j].title.toLowerCase().indexOf("school")!=-1;for(let ye=0;ye<4;ye++){let oe=[[b,$]];ye===0?(oe.push([b-(Q-1),$-(Q-1)]),oe.push([b-(Q-1),$]),oe.push([b,$-(Q-1)])):ye===1?(oe.push([b,$-(Q-1)]),oe.push([b+(Q-1),$-(Q-1)]),oe.push([b+(Q-1),$])):ye===2?(oe.push([b-(Q-1),$]),oe.push([b-(Q-1),$+(Q-1)]),oe.push([b,$+(Q-1)])):ye===3&&(oe.push([b,$+(Q-1)]),oe.push([b+(Q-1),$+(Q-1)]),oe.push([b+(Q-1),$])),te.push(oe)}te=te.filter(ye=>ye.every(oe=>oe[0]>=0&&oe[0]<=q.plots.length-1&&oe[1]>=0&&oe[1]<=q.plots.length-1&&!q.plots[oe[0]][oe[1]].active&&I(oe[0],oe[1])==!0)),te.length===0?ie=!1:te.length>0&&te[0].forEach(oe=>{q.plots[oe[0]][oe[1]].active=!0,q.plots[oe[0]][oe[1]].type=ve?-3:-2,q.plots[oe[0]][oe[1]].referencePlot=[b,$]})}if(ie===!0){switch(q.plots[b][$].type!==-1&&Ii(b,$,q),n(1,c=""),q.plots[b][$].type=j,q.plots[b][$].active=!0,q.plots[b][$].referencePlot=[],q.plots[b][$].typeId=U.id,q.townInfo.gold-=U.requirements.gold,q.townInfo.gold=Xt(q.townInfo.gold,2),q.townInfo.population_count+=U.immediate_variable_changes.population,q.townInfo.population_max+=U.immediate_variable_changes.population,q.townInfo.happiness+=U.immediate_variable_changes.happiness,q.townInfo.health+=U.immediate_variable_changes.health,q.modifiers.happiness=Xt(q.modifiers.happiness*U.effect_modifiers.happiness,2),q.modifiers.health=Xt(q.modifiers.health*U.effect_modifiers.health,2),q.townInfo.employees+=U.requirements.employees,(q.plotCounts[j]===void 0||q.plotCounts[j]===null)&&(q.plotCounts[j]=0),q.plotCounts[j]++,q.lastChangeDay=q.environment.day,U.id){case"city_hall":q.hasCityHall=!0;break;case"bank":q.hasBank=!0;break}ke.set(q),localStorage.setItem(ft,JSON.stringify(q)),ge(Xe,i.visible=!1,i)}else n(1,c="You do not have enough resources to purchase this plot. If it's a 'Large' plot, make sure you have a 2x2 area available. "),document.querySelectorAll(".plotOption").forEach(te=>{te.classList.remove("active")})}function H(b,$){let N=!0;b.requirements.gold>$.townInfo.gold&&(N=!1);let q=$.townInfo.population_count-$.townInfo.employees;return b.requirements.employees!==void 0&&b.requirements.employees>0&&b.requirements.employees>q&&(N=!1),b.requirements.knowledge!==void 0&&b.requirements.knowledge>$.townInfo.knowledge_points&&(N=!1),b.requirements.plots!==void 0&&b.requirements.plots.length>0&&b.requirements.plots.forEach(j=>{tt(j,$).length===0&&(N=!1)}),N}function x(b){const $=b.target.closest(".plotOption");if($){const N=$.dataset.plotoptionid;B(N)}}function F(b){Ae[b?"unshift":"push"](()=>{p=b,n(10,p)})}const W=()=>{ef()},S=b=>{const $=document.querySelector(`[data-plotoptionid="${b.id}"]`);$&&$.scrollIntoView({behavior:"smooth",block:"center"})},d=()=>{L(l,a,"mine")};function v(b){s=b,n(0,s)}return t.$$set=b=>{"x"in b&&n(2,l=b.x),"y"in b&&n(3,a=b.y),"open"in b&&n(0,s=b.open),"tooltip"in b&&n(1,c=b.tooltip)},t.$$.update=()=>{t.$$.dirty[0]&525056&&o&&(n(8,m=f.map(b=>Object.assign(Object.assign({},b),{affordable:H(b,o),selected:k(b)}))),n(8,m=m.filter(b=>b.id!=="mine")),r&&n(8,m=m.filter(b=>b.affordable)),Object.keys(hr).forEach(b=>{let $=hr[b];if($>0){let N=tt(b,o).length;n(8,m=m.filter(q=>q.id!==b||N<$))}})),t.$$.dirty[0]&384&&n(8,m=m.filter(b=>b.title.toLowerCase().includes(u.toLowerCase()))),t.$$.dirty[0]&256&&n(11,h=m.filter(b=>b.affordable).length)},[s,c,l,a,I,R,L,u,m,o,p,h,i,f,_,g,M,H,x,r,F,W,S,d,v]}class Oh extends _e{constructor(e){super(),he(this,e,Ph,Eh,le,{x:2,y:3,open:0,tooltip:1,checkIfPlotCanBeUpgraded:4,canBulldoze:5,purchasePlot:6},null,[-1,-1])}get checkIfPlotCanBeUpgraded(){return this.$$.ctx[4]}get canBulldoze(){return this.$$.ctx[5]}get purchasePlot(){return this.$$.ctx[6]}}function $h(t){let e,n,i,o,r,l;return{c(){e=P("div"),n=P("span"),i=D(t[3]),o=G(),r=D(t[0]),O(n,"class",l="text-xs rounded-lg p-2 whitespace-normal text-center flex justify-center w-fit m-2 shadow shadow-black hover:rotate-6 overflow-visible hover:scale-110 z-2 transition-all "+t[1]+" "+(t[2]==="happy"?"bg-green-300 text-green-900":t[2]==="standard"?"bg-blue-600 text-blue-200":t[2]==="alert"?"bg-red-600 text-red-200":"bg-gray-300 text-gray-900")),O(e,"class","overflow-visible")},m(a,s){A(a,e,s),y(e,n),y(n,i),y(n,o),y(n,r)},p(a,[s]){s&8&&ae(i,a[3]),s&1&&ae(r,a[0]),s&6&&l!==(l="text-xs rounded-lg p-2 whitespace-normal text-center flex justify-center w-fit m-2 shadow shadow-black hover:rotate-6 overflow-visible hover:scale-110 z-2 transition-all "+a[1]+" "+(a[2]==="happy"?"bg-green-300 text-green-900":a[2]==="standard"?"bg-blue-600 text-blue-200":a[2]==="alert"?"bg-red-600 text-red-200":"bg-gray-300 text-gray-900"))&&O(n,"class",l)},i:ue,o:ue,d(a){a&&C(e)}}}function Lh(t,e,n){let{text:i=""}=e,{classText:o=""}=e,{tone:r="standard"}=e,{emoji:l="👋"}=e;return t.$$set=a=>{"text"in a&&n(0,i=a.text),"classText"in a&&n(1,o=a.classText),"tone"in a&&n(2,r=a.tone),"emoji"in a&&n(3,l=a.emoji)},[i,o,r,l]}class nr extends _e{constructor(e){super(),he(this,e,Lh,$h,le,{text:0,classText:1,tone:2,emoji:3})}}function Fh(t){let e,n;return e=new nr({props:{text:"Build your first home",tone:"happy"}}),{c(){X(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},p:ue,i(i){n||(w(e.$$.fragment,i),n=!0)},o(i){T(e.$$.fragment,i),n=!1},d(i){J(e,i)}}}function qh(t){let e,n,i,o=Ge[t[0].type].title.substring(0,2)+"",r,l,a,s,u,f=Ge[t[0].type].title.substring(2)+"",c,p;return{c(){e=P("div"),n=P("span"),i=P("span"),r=D(o),l=G(),a=P("br"),s=G(),u=P("span"),c=D(f),O(i,"class","text-lg align-text-top select-none"),O(u,"class","text-xs align-text-top font-normal text-black from-stone-600 select-none"),O(n,"data-size",p=Ge[t[0].type].requirements.size),O(e,"class","svelte-qwnb34")},m(h,m){A(h,e,m),y(e,n),y(n,i),y(i,r),y(n,l),y(n,a),y(n,s),y(n,u),y(u,c)},p(h,m){m&1&&o!==(o=Ge[h[0].type].title.substring(0,2)+"")&&ae(r,o),m&1&&f!==(f=Ge[h[0].type].title.substring(2)+"")&&ae(c,f),m&1&&p!==(p=Ge[h[0].type].requirements.size)&&O(n,"data-size",p)},i:ue,o:ue,d(h){h&&C(e)}}}function Kl(t){let e,n;return e=new nr({props:{text:"Mineral Source (mine)",emoji:"⛏️",tone:"standard"}}),{c(){X(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},i(i){n||(w(e.$$.fragment,i),n=!0)},o(i){T(e.$$.fragment,i),n=!1},d(i){J(e,i)}}}function Rh(t){let e,n,i,o,r,l,a,s,u,f,c,p,h,m,_,g,k,I,M,B;const R=[qh,Fh],L=[];function H(F,W){return F[0].type>-1?0:F[0].type==-1&&F[0].x==0&&F[0].y==0?1:-1}~(n=H(t))&&(i=L[n]=R[n](t));let x=t[0].mineralSource&&t[0].type==-1&&Kl();return{c(){e=P("div"),i&&i.c(),o=G(),x&&x.c(),O(e,"class",r="plot_container "+t[1]+" overflow-visible "+(t[0].type==-1&&t[2]==!1,"")+" "+(t[0].mineralSource?"hidden":"")+" "+(t[2]?"cursor-pointer":"cursor-not-allowed")+" svelte-qwnb34"),wn(e,"background-color",Ai(t[0].type,t[2])),O(e,"data-active",l=t[0].active),O(e,"data-hidehoveranimation",a=t[0].type==-1&&t[0].x==0&&t[0].y==0),O(e,"data-id",s=t[0].id),O(e,"data-x",u=t[0].x),O(e,"data-y",f=t[0].y),O(e,"data-optionindex",c=t[0].optionIndex),O(e,"data-canbeupgraded",t[2]),O(e,"data-type",p=t[0].type),O(e,"data-type-id",h=t[0].typeId),O(e,"data-refplotx",m=t[0].referencePlot!==void 0?t[0].referencePlot[1]:null),O(e,"data-refploty",_=t[0].referencePlot!==void 0?t[0].referencePlot[0]:null),O(e,"data-size",g=t[0].type>-1?Ge[t[0].type].requirements.size:null),O(e,"data-mineralsource",k=t[0].mineralSource)},m(F,W){A(F,e,W),~n&&L[n].m(e,null),y(e,o),x&&x.m(e,null),I=!0,M||(B=K(e,"click",t[3]),M=!0)},p(F,[W]){let S=n;n=H(F),n===S?~n&&L[n].p(F,W):(i&&(Me(),T(L[S],1,1,()=>{L[S]=null}),Ee()),~n?(i=L[n],i?i.p(F,W):(i=L[n]=R[n](F),i.c()),w(i,1),i.m(e,o)):i=null),F[0].mineralSource&&F[0].type==-1?x?W&1&&w(x,1):(x=Kl(),x.c(),w(x,1),x.m(e,null)):x&&(Me(),T(x,1,1,()=>{x=null}),Ee()),(!I||W&7&&r!==(r="plot_container "+F[1]+" overflow-visible "+(F[0].type==-1&&F[2]==!1,"")+" "+(F[0].mineralSource?"hidden":"")+" "+(F[2]?"cursor-pointer":"cursor-not-allowed")+" svelte-qwnb34"))&&O(e,"class",r),(!I||W&5)&&wn(e,"background-color",Ai(F[0].type,F[2])),(!I||W&1&&l!==(l=F[0].active))&&O(e,"data-active",l),(!I||W&1&&a!==(a=F[0].type==-1&&F[0].x==0&&F[0].y==0))&&O(e,"data-hidehoveranimation",a),(!I||W&1&&s!==(s=F[0].id))&&O(e,"data-id",s),(!I||W&1&&u!==(u=F[0].x))&&O(e,"data-x",u),(!I||W&1&&f!==(f=F[0].y))&&O(e,"data-y",f),(!I||W&1&&c!==(c=F[0].optionIndex))&&O(e,"data-optionindex",c),(!I||W&4)&&O(e,"data-canbeupgraded",F[2]),(!I||W&1&&p!==(p=F[0].type))&&O(e,"data-type",p),(!I||W&1&&h!==(h=F[0].typeId))&&O(e,"data-type-id",h),(!I||W&1&&m!==(m=F[0].referencePlot!==void 0?F[0].referencePlot[1]:null))&&O(e,"data-refplotx",m),(!I||W&1&&_!==(_=F[0].referencePlot!==void 0?F[0].referencePlot[0]:null))&&O(e,"data-refploty",_),(!I||W&1&&g!==(g=F[0].type>-1?Ge[F[0].type].requirements.size:null))&&O(e,"data-size",g),(!I||W&1&&k!==(k=F[0].mineralSource))&&O(e,"data-mineralsource",k)},i(F){I||(w(i),w(x),I=!0)},o(F){T(i),T(x),I=!1},d(F){F&&C(e),~n&&L[n].d(),x&&x.d(),M=!1,B()}}}function Dh(t,e,n){let i,o,r,l;se(t,Xe,p=>n(5,i=p)),se(t,ke,p=>n(6,o=p)),se(t,ht,p=>n(7,r=p)),se(t,kn,p=>n(8,l=p));let{data:a={id:0,active:!1,x:0,y:0,type:-1,styling:"",referencePlot:[],mineralSource:!1}}=e,{classText:s=""}=e,{canBeUpgraded:u=!1}=e;function f(p,h,m){let _=document.querySelectorAll(".plot_container");if(r==!1){if(a.referencePlot!=null&&a.referencePlot[0]!==null&&h==null&&m==null&&a.referencePlot[1]!==void 0)return f(p,a.referencePlot[0],a.referencePlot[1]);!a.active&&!u?(ge(kn,l={},l),ge(Xe,i.visible=!1,i),_.forEach(g=>{g.classList.remove("selected")})):(h!=null&&m!=null?(ge(Xe,i.x=h,i),ge(Xe,i.y=m,i)):(ge(Xe,i.x=a.x,i),ge(Xe,i.y=a.y,i)),ge(Xe,i.isMineralSource=a.mineralSource,i),ge(Xe,i.visible=!0,i),_.forEach(g=>{g.classList.remove("selected")}),h!=null&&m!=null?document.querySelector(`.plot_container[data-x="${h}"][data-y="${m}"]`).classList.add("selected"):document.querySelector(`.plot_container[data-id="${a.id}"]`).classList.add("selected"))}}function c(p){r==!1&&(ge(ke,o.plots[a.x][a.y].type=p,o),ge(Xe,i.visible=!1,i))}return t.$$set=p=>{"data"in p&&n(0,a=p.data),"classText"in p&&n(1,s=p.classText),"canBeUpgraded"in p&&n(2,u=p.canBeUpgraded)},[a,s,u,f,c]}class Bh extends _e{constructor(e){super(),he(this,e,Dh,Rh,le,{data:0,classText:1,canBeUpgraded:2,changePlotType:4})}get changePlotType(){return this.$$.ctx[4]}}function Ul(t,e,n){const i=t.slice();return i[6]=e[n],i[8]=n,i}function Yl(t,e,n){const i=t.slice();return i[9]=e[n],i}function Jl(t){let e,n,i=t[3],o,r,l=Ye(t[2].plots),a=[];for(let f=0;f<l.length;f+=1)a[f]=Zl(Ul(t,l,f));const s=f=>T(a[f],1,1,()=>{a[f]=null});let u=xl(t);return{c(){e=P("div");for(let f=0;f<a.length;f+=1)a[f].c();n=G(),u.c(),o=Pe(),O(e,"class","grid overflow-x-scroll overflow-y-scroll plot_controller svelte-1n4bcnx")},m(f,c){A(f,e,c);for(let p=0;p<a.length;p+=1)a[p]&&a[p].m(e,null);A(f,n,c),u.m(f,c),A(f,o,c),r=!0},p(f,c){if(c&7){l=Ye(f[2].plots);let p;for(p=0;p<l.length;p+=1){const h=Ul(f,l,p);a[p]?(a[p].p(h,c),w(a[p],1)):(a[p]=Zl(h),a[p].c(),w(a[p],1),a[p].m(e,null))}for(Me(),p=l.length;p<a.length;p+=1)s(p);Ee()}c&8&&le(i,i=f[3])?(Me(),T(u,1,1,ue),Ee(),u=xl(f),u.c(),w(u,1),u.m(o.parentNode,o)):u.p(f,c)},i(f){if(!r){for(let c=0;c<l.length;c+=1)w(a[c]);w(u),r=!0}},o(f){a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)T(a[c]);T(u),r=!1},d(f){f&&(C(e),C(n),C(o)),yt(a,f),u.d(f)}}}function Xl(t){let e,n;return e=new Bh({props:{classText:"hexagon",data:t[9],canBeUpgraded:t[0](t[9].x,t[9].y)}}),{c(){X(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},p(i,o){const r={};o&4&&(r.data=i[9]),o&4&&(r.canBeUpgraded=i[0](i[9].x,i[9].y)),e.$set(r)},i(i){n||(w(e.$$.fragment,i),n=!0)},o(i){T(e.$$.fragment,i),n=!1},d(i){J(e,i)}}}function Zl(t){let e,n,i,o,r,l=Ye(t[6]),a=[];for(let u=0;u<l.length;u+=1)a[u]=Xl(Yl(t,l,u));const s=u=>T(a[u],1,1,()=>{a[u]=null});return{c(){e=P("div");for(let u=0;u<a.length;u+=1)a[u].c();n=G(),O(e,"class","row "+(t[8]%2!==0?"odd-row":"")+" svelte-1n4bcnx")},m(u,f){A(u,e,f);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(e,null);y(e,n),i=!0,o||(r=K(e,"click",t[1]),o=!0)},p(u,f){if(f&5){l=Ye(u[6]);let c;for(c=0;c<l.length;c+=1){const p=Yl(u,l,c);a[c]?(a[c].p(p,f),w(a[c],1)):(a[c]=Xl(p),a[c].c(),w(a[c],1),a[c].m(e,n))}for(Me(),c=l.length;c<a.length;c+=1)s(c);Ee()}},i(u){if(!i){for(let f=0;f<l.length;f+=1)w(a[f]);i=!0}},o(u){a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)T(a[f]);i=!1},d(u){u&&C(e),yt(a,u),o=!1,r()}}}function Ql(t){let e,n;return e=new Oh({props:{x:t[4].x,y:t[4].y,open:t[4].visible}}),{c(){X(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},p(i,o){const r={};o&16&&(r.x=i[4].x),o&16&&(r.y=i[4].y),o&16&&(r.open=i[4].visible),e.$set(r)},i(i){n||(w(e.$$.fragment,i),n=!0)},o(i){T(e.$$.fragment,i),n=!1},d(i){J(e,i)}}}function xl(t){let e,n,i=t[4].visible&&Ql(t);return{c(){i&&i.c(),e=Pe()},m(o,r){i&&i.m(o,r),A(o,e,r),n=!0},p(o,r){o[4].visible?i?(i.p(o,r),r&16&&w(i,1)):(i=Ql(o),i.c(),w(i,1),i.m(e.parentNode,e)):i&&(Me(),T(i,1,1,()=>{i=null}),Ee())},i(o){n||(w(i),n=!0)},o(o){T(i),n=!1},d(o){o&&C(e),i&&i.d(o)}}}function Gh(t){let e,n,i=t[2]!=null&&Jl(t);return{c(){i&&i.c(),e=Pe()},m(o,r){i&&i.m(o,r),A(o,e,r),n=!0},p(o,[r]){o[2]!=null?i?(i.p(o,r),r&4&&w(i,1)):(i=Jl(o),i.c(),w(i,1),i.m(e.parentNode,e)):i&&(Me(),T(i,1,1,()=>{i=null}),Ee())},i(o){n||(w(i),n=!0)},o(o){T(i),n=!1},d(o){o&&C(e),i&&i.d(o)}}}function jh(t,e,n){let i,o,r;se(t,kn,u=>n(3,i=u)),se(t,ke,u=>n(2,o=u)),se(t,Xe,u=>n(4,r=u));function l(u,f){let c={x:u,y:f};return c.x===0&&c.y===0?!0:[{x:c.x-1,y:c.y},{x:c.x+1,y:c.y},{x:c.x,y:c.y-1},{x:c.x,y:c.y+1}].some(h=>h.x<0||h.x>=o.plots.length||h.y<0||h.y>=o.plots[h.x].length?!1:o.plots[h.x][h.y].active)}function a(){let u=[];for(let f=0;f<o.plots.length;f++)for(let c=0;c<o.plots.length;c++)l(f,c)&&o.plots[f][c].active==!1&&u.push(o.plots[f][c])}function s(){ge(kn,i={},i)}return t.$$.update=()=>{t.$$.dirty&4&&o&&a()},[l,s,o,i,r]}class Hh extends _e{constructor(e){super(),he(this,e,jh,Gh,le,{checkIfPlotCanBeUpgraded:0,restartModifyPlotMenu:1})}get checkIfPlotCanBeUpgraded(){return this.$$.ctx[0]}get restartModifyPlotMenu(){return this.$$.ctx[1]}}const et={unemployment_num:" people can't find jobs.",bored:"People are bored. Try making some new buildings.",vairety:"People don't like going to the same places over and over again. Try making some new buildings.",nobody_home:"Build some homes!",leave_town_num:" people left town because they were unhappy.",new_people_num:" new people moved to town.",people_want_to_move_in:"People want to move in. Build more homes.",high_tax_rate:"People are unhappy with the high tax rate.",very_high_tax_rate:"People are extremely unhappy with the high tax rate.",sickAndDying:"People are sick and dying.",sickAndLeaving:"People are sick and leaving town.",happiness_zero:"The town has fallen into chaos due to extreme unhappiness.",health_zero:"The town has fallen into chaos due to extreme sickness.",population_zero:"The town has been condemned due to lack of population.",win:{land:"You have filled the grid with buildings. You win!"},hospital_advantage:"Because you have a hospital, the town is staying healthier for longer!",notEnoughVariety:"People are sick of going to the same places over and over, add some variety!"},rt={land:{short_title:"Fill the grid",description_title:"You win by filling up all possible plots in the grid, and by meeting some requirements.",win:"You have filled the grid with buildings and met the requirements. Your citizens are happy, fulfilled, hard-working, and healthy. ",requirements:{0:{population_count:200,happiness:100,health:100,employment:1,knowledge:50,required_plots:["pub","small_school","community_center"]},1:{population_count:1e3,happiness:120,health:120,employment:1,knowledge:100,required_plots:["bank"]},2:{population_count:1e3,happiness:200,health:200,employment:1,knowledge:1e3,required_plots:["bank","city_hall"]}}},free_play:{short_title:"Free Play",description_title:"Play for as long as you can and build the best city you can."}},ot=[{id:"happiness_at_300",title:"Happy Town",description:"One of your towns wins Happiest Town Award!",requirements:"Happiness reaches 300",icon:"😍",check:t=>t.townInfo.happiness>=300,prize:1e3},{id:"get_educated",title:"Get Educated",description:"The kids are finally able to learn!",requirements:"Build a school or library",icon:"📌",check:t=>tt("small_school",t).length!==0||tt("large_school",t).length!==0||tt("library",t).length!==0,prize:1850},{id:"10k",title:"$10,000",description:"",requirements:"Gold reaches $10,000",icon:"﹩",check:t=>t.townInfo.gold>=1e4,prize:2500},{id:"25k",title:"$25,000",description:"",requirements:"Gold reaches $25,000",icon:"💵",check:t=>t.townInfo.gold>=25e3,prize:7500},{id:"stayin_frugal",title:"Stayin' Frugal!",description:"",requirements:"Gold under $50 with >=300 population",icon:"🚲",check:t=>t.townInfo.gold<=50&&t.townInfo.population_count>=300,prize:1e4},{id:"profits_to_the_moon",title:"Profits to the moon!",description:"Now you're making dough!",requirements:"Last month profit is over $10,000",icon:"🌛",check:t=>t.economyAndLaws.last_month_profit>=1e4,prize:15e3},{id:"happily_dying",title:"Happily Dying!",description:"Not something to be proud of...",requirements:"Happiness > 275, health < 25",icon:"🌛",check:t=>t.townInfo.happiness>275&&t.townInfo.health<25,prize:2e4},{id:"long_game",title:"The Long Game",description:"So are you gonna win anytime soon?",requirements:"Still playing after 10,000 days, without winning. ",icon:"🐌",check:t=>t.endGameDetails.win===!1&&t.environment.day>1e4&&t.endGameDetails.msg==="",prize:25e3},{id:"tax_man",title:"Tax man",description:"Set the tax rate to the absolute max that the town will tolerate.",requirements:"",icon:"🙃",check:t=>{let e=Math.floor(t.economyAndLaws.max_tax_rate*20)/20;return t.economyAndLaws.tax_rate===e},prize:1500},{id:"good_job",title:"Good job",description:"Beat 'Fill the grid' with Normal difficulty in under 3,000 days.",requirements:"",icon:"👍",check:t=>t.endGameDetails.win===!0&&t.environment.day<=3e3&&t.difficulty===1&&t.endGoal==="land",prize:1e4},{id:"great_job",title:"Great job",description:"Beat 'Fill the grid' with Normal difficulty in under 2,000 days.",requirements:"",icon:"👏",check:t=>t.endGameDetails.win===!0&&t.environment.day<=2e3&&t.difficulty===1&&t.endGoal==="land",prize:45e3},{id:"superb_job",title:"SUPERB job",description:"Beat 'Fill the grid' with Normal difficulty in under 500 days.",requirements:"",icon:"👌",check:t=>t.endGameDetails.win===!0&&t.environment.day<=500&&t.difficulty===1&&t.endGoal==="land",prize:1e5},{id:"250k",title:"$250,000",description:"",requirements:"Gold reaches $250,000",icon:"💸",check:t=>t.townInfo.gold>=25e4,prize:5e4},{id:"banker",title:"Banker",description:"",requirements:"Build your first bank. ",icon:"🏦",check:t=>tt("bank",t).length!==0,prize:5e3},{id:"community",title:"Community Center",description:"",requirements:"Build your first community center. ",icon:"❤️",check:t=>tt("community_center",t).length!==0,prize:1e4},{id:"tourist_town",title:"Tourist Town",description:"Reach $50,000 in tourism gold without converting to gold.",requirements:"",icon:"🏝️",check:t=>t.townInfo.gold_from_tourism>=5e4,prize:5e4},{id:"1m",title:"MILLIONAIRE!",description:"",requirements:"Gold reaches $1,000,000",icon:"💰",check:t=>t.townInfo.gold>=1e6,prize:15e4}],zl=30;function Vh(t){let e=!0;for(let n=0;n<t.plots.length;n++)for(let i=0;i<t.plots[n].length;i++)if(t.plots[n][i].active==!1){e=!1;break}return e}function Wh(t){return t.endGameDetails!=null||(t.townInfo.happiness<70&&t.last_warning_happiness+365<t.environment.day&&(alert("Your citizens are very unhappy. You should do something about it."),t.last_warning_happiness=t.environment.day),t.townInfo.health<70&&t.last_warning_health+365<t.environment.day&&(alert("Your citizens are very unhealthy. You should do something about it."),t.last_warning_health=t.environment.day)),t}function Kh(t){return t.hasBank,t}function Uh(t){return t.hasCityHall,t}function Yh(t){let e=t.economyAndLaws.knowledge_gold_market_rates[t.economyAndLaws.knowledge_gold_market_rates.length-1]||1;const n=-100,i=8,o=3;let r=Math.random(),l=Math.random()*o;if(r<.4){let a=Math.random()*i;Math.random()<.5?e+=a:e-=a}else Math.random()>.5?e+=l:e-=l;return e<n&&(e+=Math.random()*l/5),e=Math.round(e),t.economyAndLaws.knowledge_gold_market_rates=[...t.economyAndLaws.knowledge_gold_market_rates,e],t}function Io(t){return t.lab.active_experiment==null||t.lab.active_experiment.duration>0&&(t.lab.active_experiment.duration-=1),t}function No(t){if(t.townInfo.happiness>150){let n=t.townInfo.happiness-150;t.townInfo.happiness-=n*.08,t.townInfo.happiness<150&&(t.townInfo.happiness=150)}if(t.townInfo.health>150){let n=t.townInfo.health-150;t.townInfo.health-=n*.08,t.townInfo.health<150&&(t.townInfo.health=150)}return t}function Jh(t){return t.townInfo.happiness*=t.modifiers.happiness,t.townInfo.health*=t.modifiers.health,t}function Xh(t,e){let n=e.townInfo.happiness/100;n>2.25?n=2.25:n<.75&&(n=.75);let i=t*e.economyAndLaws.tax_rate*(e.townInfo.population_count/e.townInfo.population_max)*n;return $t(i,2)}function $t(t,e){e===void 0&&(e=0);var n=Math.pow(10,e);t=parseFloat((t*n).toFixed(11));var i=Math.round(t)/n;return+i.toFixed(e)}function Zh(t,e,n){let i,o,r,l,a;se(t,mi,d=>n(5,i=d)),se(t,ke,d=>n(6,o=d)),se(t,Mi,d=>n(7,r=d)),se(t,ht,d=>n(8,l=d)),se(t,bn,d=>n(9,a=d));function s(d){return d=k(d),d=L(d),d=F(d),d=Jh(d),d=M(d),d=x(d),d=h(d),d=Yh(d),d=Wh(d),d}function u(d){return d=W(d),d=Kh(d),d=Uh(d),d}function f(d){return d=B(d),d=No(d),d=R(d),d=I(d),d}function c(d){return d=H(d),d=Io(d),d.overtime==!1&&(d=g(d),d=m(d)),d=_(d),d}function p(){ke.update(d=>{if(d==null||(d.tick++,d.tick%zl!==0)||l||!d||d.endGameDetails.msg!==""&&d.overtime==!1||d.townInfo.population_count<=0)return d;try{return d.environment.day+=1,d.environment.day%7===0&&(d=s(d)),d.environment.day%30===0&&(d=u(d)),d.environment.day%90===0&&(d=f(d)),window.location.search.includes("debug=true")&&console.log(d),d=c(d),d}catch(v){return console.error("Error in game loop:",v),d}})}ke.subscribe(d=>{d&&localStorage.setItem(ft,JSON.stringify(d))}),bn.subscribe(d=>{d&&localStorage.setItem(Ti,JSON.stringify(d))});function h(d){let v=!1,b=!1,$=!1,N=!1;for(let q=0;q<d.plots.length;q++)for(let j=0;j<d.plots[q].length;j++)if(d.plots[q][j].active==!0&&d.plots[q][j].type>-1){let U=Ge[d.plots[q][j].type].id;U=="bank"&&(v=!0),U=="city_hall"&&($=!0),(U=="small_hospital"||U=="large_hospital")&&(b=!0),U=="lab"&&(N=!0)}return d.hasBank=v,d.hasHospital=b,d.hasCityHall=$,d.hasLab=N,d}function m(d){if(d.endGoal=="land"&&d.townInfo.population_max==d.townInfo.population_count&&d.townInfo.happiness>=rt.land.requirements[d.difficulty].happiness&&d.townInfo.health>=rt.land.requirements[d.difficulty].health&&d.townInfo.employees/d.townInfo.population_count>=rt.land.requirements[d.difficulty].employment&&d.townInfo.population_count>rt.land.requirements[d.difficulty].population_count&&d.townInfo.knowledge_points>=rt.land.requirements[d.difficulty].knowledge){let b=!0;for(let N=0;N<rt.land.requirements[d.difficulty].required_plots.length;N++){let q=rt.land.requirements[d.difficulty].required_plots[N];if(tt(q,d)==!1){b=!1;break}}Vh(d)&&b&&(d.endGameDetails={msg:rt.land.win,win:!0,still_playing:!1})}return d}function _(d){if(d.devMode)return d;let v=a;for(let b=0;b<ot.length;b++)v.achievements.find($=>$[0]==ot[b].id)==null&&ot[b].check(d)&&(v.achievements.push([ot[b].id,d.environment.day,d.townInfo.name]),ge(ht,l=!0,l),ge(Mi,r=!0,r));return bn.update(()=>v),d}function g(d){return d.townInfo.happiness<=3&&(d.townInfo.happiness=0,d.endGameDetails={msg:et.happiness_zero,win:!1,still_playing:!1}),d.townInfo.health<=3&&(d.townInfo.health=3,d.endGameDetails={msg:et.health_zero,win:!1,still_playing:!1}),d.townInfo.population_count<=0&&d.townInfo.population_max>0&&(d.townInfo.population_count=0,d.endGameDetails={msg:et.population_zero,win:!1,still_playing:!1}),d}function k(d){let v=d.townInfo.population_count-d.townInfo.employees;return v>0&&(d.modifiers.happiness-=v*4e-4,d=S(v+et.unemployment_num,d)),d}function I(d){let v=d.plotCounts.reduce(($,N)=>$+N,0),b=!1;for(let $=0;$<d.plotCounts.length;$++)d.plotCounts[$]==null||Ge[$].check_for_variety!=!0||d.plotCounts[$]/v>=Zu[d.difficulty]&&(Ge[$].title,b=!0);return b&&(d=S(et.notEnoughVariety,d),d.modifiers.happiness*.95),d}function M(d){let v=d.townInfo.health,b=0;return v>50||v<Math.random()*50&&(v<25?(d=S(et.sickAndDying,d),d.townInfo.happiness-=10,b=Math.round(d.townInfo.population_count*.1)):(d=S(et.sickAndLeaving,d),d.townInfo.happiness-=5,b=Math.round(d.townInfo.population_count*.05)),d.townInfo.population_count-=b,d.townInfo.employees-=b),d}function B(d){return d.lastChangeDay+(Math.random()*500+180)<d.environment.day&&d.townInfo.population_count>0&&(d.townInfo.population_count>0&&(d.townInfo.population_count-=1,d.townInfo.employees-=1,d.modifiers.happiness-=.01),d=S(et.bored,d)),d}function R(d){if(d.townInfo.population_count<d.townInfo.population_max&&d.townInfo.happiness>50){let v=d.townInfo.population_max-d.townInfo.population_count,b=Math.round(d.townInfo.happiness/100*v);d.townInfo.population_count+=b,d.townInfo.population_count>d.townInfo.population_max&&(d.townInfo.population_count=d.townInfo.population_max),d.townInfo.employees+=b,d.townInfo.employees>d.townInfo.population_count&&(d.townInfo.employees=d.townInfo.population_count),d=S(b+et.new_people_num,d)}if(d.townInfo.happiness<50&&d.townInfo.population_count>0){let v=Math.round((100-d.townInfo.happiness)/5);d.townInfo.population_count-=v,d.townInfo.employees>0&&(d.townInfo.employees-=v),d=S(v+et.leave_town_num,d)}else d.townInfo.population_count==d.townInfo.population_max;return d}function L(d){const v=Math.random();if(d.economyAndLaws.tax_rate>d.economyAndLaws.max_tax_rate&&d.townInfo.population_count>0){const b=d.difficulty==0?.7:d.difficulty==1?.4:.2;v<b&&d.economyAndLaws.tax_rate>d.economyAndLaws.max_tax_rate*2?(d.modifiers.happiness-=.03,d=S(et.very_high_tax_rate+"  ("+d.economyAndLaws.tax_rate+"%)",d)):(d.modifiers.happiness-=.01,d=S(et.high_tax_rate+"  ("+d.economyAndLaws.tax_rate*100+"%)",d))}return d}function H(d){return d.townInfo.happiness<0&&(d.townInfo.happiness=0),d.townInfo.health<0&&(d.townInfo.health=0),d.townInfo.gold<0&&(d.townInfo.gold=0),d.townInfo.employees<0&&(d.townInfo.employees=0),d.townInfo.knowledge_points<0&&(d.townInfo.knowledge_points=0),d.townInfo.population_count<0&&(d.townInfo.population_count=0),d.townInfo.population_max==0&&d.townLog.indexOf(et.nobody_home)==-1&&(d=S(et.nobody_home,d)),d.economyAndLaws.last_month_profit=$t(d.economyAndLaws.last_month_profit,2),d.townInfo.employees>d.townInfo.population_count&&(d.townInfo.employees=d.townInfo.population_count),d.townInfo.gold=$t(d.townInfo.gold,2),d.townInfo.population_count=$t(d.townInfo.population_count,0),d.townInfo.employees=$t(d.townInfo.employees,0),d.townInfo.population_max=$t(d.townInfo.population_max,0),d.townInfo.happiness=$t(d.townInfo.happiness,2),d.townInfo.health=$t(d.townInfo.health,2),d.townInfo.happiness>d.maximums.happiness&&(d.townInfo.happiness=d.maximums.happiness),d.townInfo.health>d.maximums.health&&(d.townInfo.health=d.maximums.health),d.modifiers.happiness<.5&&(d.modifiers.happiness=.5),d.modifiers.health<.5&&(d.modifiers.health=.5),d}function x(d){if(d.modifiers.happiness>1){let v=d.modifiers.happiness-1;d.modifiers.happiness-=v*.08,d.modifiers.happiness<1.05&&(d.modifiers.happiness=1)}if(d.modifiers.health>1)if(tt("small_hospital",d).length>0||tt("large_hospital",d).length>0){if(console.log(tt("small_hospital",d).length),console.log(tt("large_hospital",d).length),d.townLog.indexOf(et.hospital_advantage)==-1)return d=S(et.hospital_advantage,d);let v=d.modifiers.health-1;d.modifiers.health-=v*tt("large_hospital",d)?.04:.06,d.modifiers.health<1.03&&(d.modifiers.health=1)}else{let v=d.modifiers.health-1;d.modifiers.health-=v*.08,d.modifiers.health<1.05&&(d.modifiers.health=1)}return d}function F(d){d.economyAndLaws.last_month_profit=0;for(let v=0;v<d.plots.length;v++)for(let b=0;b<d.plots[v].length;b++)if(d.plots[v][b].active==!0&&d.plots[v][b].type>-1){let $=Ge[d.plots[v][b].type],N=Xh($.revenue_per_week,d);d.townInfo.gold+=N,d.economyAndLaws.last_month_profit+=N,$.enables_tourism==!0&&(d.townInfo.gold_from_tourism+=$.tourism_revenue_per_week*d.economyAndLaws.tax_rate*d.townInfo.population_count)}return d}function W(d){for(let v=0;v<d.plots.length;v++)for(let b=0;b<d.plots[v].length;b++)if(d.plots[v][b].active==!0&&d.plots[v][b].type>-1){let $=Ge[d.plots[v][b].type];$.knowledge_points_per_month!=null&&(d.townInfo.knowledge_points+=$.knowledge_points_per_month)}return d}function S(d,v){return v.townLog="Day "+o.environment.day+" - "+d+`
`+v.townLog,v}return Uo(async()=>{for(;;)localStorage.reset=="true"&&(Zo(),localStorage.setItem("reset","false")),p(),await new Promise(d=>setTimeout(d,i/zl))}),[p,Io,H,x,No]}class Qh extends _e{constructor(e){super(),he(this,e,Zh,null,le,{mainGameThreadLoop:0,_checkExperiment:1,_fixVariables:2,_bringModifiersBackToNormal:3,_bringStatsBackToNormal:4})}get mainGameThreadLoop(){return this.$$.ctx[0]}get _checkExperiment(){return Io}get _fixVariables(){return this.$$.ctx[2]}get _bringModifiersBackToNormal(){return this.$$.ctx[3]}get _bringStatsBackToNormal(){return No}}function es(t,e,n){const i=t.slice();return i[14]=e[n],i}function xh(t){let e;return{c(){e=P("span"),e.textContent="No Alerts",O(e,"class","townLog text-xs text-slate-500 text-center")},m(n,i){A(n,e,i)},p:ue,d(n){n&&C(e)}}}function zh(t){let e,n=t[1].townLog.split(`
`)[0]+"",i,o,r,l=Ye(t[1].townLog.split(`
`).slice(1,300)),a=[];for(let s=0;s<l.length;s+=1)a[s]=ts(es(t,l,s));return{c(){e=P("div"),i=D(n),o=G();for(let s=0;s<a.length;s+=1)a[s].c();r=Pe(),O(e,"class","townLog text-xs text-center")},m(s,u){A(s,e,u),y(e,i),A(s,o,u);for(let f=0;f<a.length;f+=1)a[f]&&a[f].m(s,u);A(s,r,u)},p(s,u){if(u&2&&n!==(n=s[1].townLog.split(`
`)[0]+"")&&ae(i,n),u&2){l=Ye(s[1].townLog.split(`
`).slice(1,300));let f;for(f=0;f<l.length;f+=1){const c=es(s,l,f);a[f]?a[f].p(c,u):(a[f]=ts(c),a[f].c(),a[f].m(r.parentNode,r))}for(;f<a.length;f+=1)a[f].d(1);a.length=l.length}},d(s){s&&(C(e),C(o),C(r)),yt(a,s)}}}function ts(t){let e,n=t[14]+"",i,o;return{c(){e=P("span"),i=D(n),o=G(),O(e,"class","townLog text-xs text-center cursor-pointer")},m(r,l){A(r,e,l),y(e,i),y(e,o)},p(r,l){l&2&&n!==(n=r[14]+"")&&ae(i,n)},d(r){r&&C(e)}}}function ns(t){let e,n;return e=new nr({props:{text:"Set this!!!",tone:"alert",emoji:"⬆️"}}),{c(){X(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},i(i){n||(w(e.$$.fragment,i),n=!0)},o(i){T(e.$$.fragment,i),n=!1},d(i){J(e,i)}}}function is(t){let e,n;return e=new Gt({props:{class:"text-xs flex flex-col h-min mt-2",$$slots:{default:[n_]},$$scope:{ctx:t}}}),e.$on("click",t[9]),{c(){X(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},p(i,o){const r={};o&131074&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(w(e.$$.fragment,i),n=!0)},o(i){T(e.$$.fragment,i),n=!1},d(i){J(e,i)}}}function os(t){let e;function n(r,l){if(r[1].lab.active_experiment.duration>0)return t_;if(r[1].lab.active_experiment.duration===0)return e_}let i=n(t),o=i&&i(t);return{c(){o&&o.c(),e=Pe()},m(r,l){o&&o.m(r,l),A(r,e,l)},p(r,l){i===(i=n(r))&&o?o.p(r,l):(o&&o.d(1),o=i&&i(r),o&&(o.c(),o.m(e.parentNode,e)))},d(r){r&&C(e),o&&o.d(r)}}}function e_(t){let e;return{c(){e=P("span"),e.textContent="✅ DONE!",O(e,"class","animate-pulse ")},m(n,i){A(n,e,i)},p:ue,d(n){n&&C(e)}}}function t_(t){let e,n=t[1].lab.active_experiment.duration+"",i,o;return{c(){e=P("span"),i=D(n),o=D("d")},m(r,l){A(r,e,l),y(e,i),y(e,o)},p(r,l){l&2&&n!==(n=r[1].lab.active_experiment.duration+"")&&ae(i,n)},d(r){r&&C(e)}}}function n_(t){let e,n,i,o=t[1].lab.active_experiment!==null&&os(t);return{c(){e=P("div"),e.textContent="Manage Lab",n=G(),o&&o.c(),i=Pe()},m(r,l){A(r,e,l),A(r,n,l),o&&o.m(r,l),A(r,i,l)},p(r,l){r[1].lab.active_experiment!==null?o?o.p(r,l):(o=os(r),o.c(),o.m(i.parentNode,i)):o&&(o.d(1),o=null)},d(r){r&&(C(e),C(n),C(i)),o&&o.d(r)}}}function i_(t){let e,n,i,o,r,l=t[1].townInfo.name+"",a,s,u,f,c,p,h,m,_,g,k,I,M,B,R,L,H,x,F,W,S,d,v,b,$,N,q,j,U,ie,Q,te,ve=Jn(t[1].economyAndLaws.tax_rate*100,0)+"",ye,oe,Ie,Ce,Se,Le,be,Fe,ee,Oe,Ke,Ze,nt,Ue,Re,ut;function ct(we,z){return we[1].townLog.length>0?zh:xh}let xe=ct(t),ze=xe(t),He=t[1].economyAndLaws.tax_rate==0&&ns(),Be=t[1].hasLab&&is(t);return Ke=new Un({props:{class:"mb-3 mt-0 bg-slate-700"}}),nt=new Oa({}),{c(){e=P("div"),n=P("div"),i=P("div"),o=P("div"),r=P("div"),a=D(l),s=G(),u=P("span"),f=P("div"),c=P("span"),p=D(t[4]),h=D(" speed"),m=G(),_=P("span"),g=D("Day "),k=D(t[3]),I=D(" Year "),M=D(t[2]),B=G(),R=P("span"),R.textContent="Press P to Pause or learn how to play",L=G(),H=P("span"),x=D("("),F=D(t[5]),W=D(")"),S=G(),d=P("div"),v=P("div"),v.textContent="🚨 Alerts",b=G(),ze.c(),$=G(),N=P("div"),q=P("div"),j=P("div"),U=P("span"),U.textContent="Tax Rate",ie=G(),Q=P("span"),te=D("("),ye=D(ve),oe=D("%)"),Ie=G(),Ce=P("input"),Le=G(),be=P("br"),Fe=G(),He&&He.c(),ee=G(),Be&&Be.c(),Oe=G(),X(Ke.$$.fragment),Ze=G(),X(nt.$$.fragment),O(r,"class","text-2xl font-bold cursor-pointer text-emerald-700"),O(r,"id","townName"),O(f,"class","flex flex-row gap-3"),O(u,"class","text-xs gap-2 cursor-pointer hover:text-blue-600"),O(R,"class","text-xs text-col"),O(H,"class","text-xs text-gray-400"),O(o,"class","flex flex-col gap-1"),O(v,"class","text-md cursor-pointer"),O(d,"class","flex flex-col gap-2 drop-shadow-md text-center pb-6 rounded-lg max-h-24 h-24 hover:max-h-36 hover:h-36 transition-all ml-2 mr-2 overflow-y-scroll scroll-smooth no-scrollbar cursor-pointer hover:opacity-35 w-1/4 "),O(U,"class","text-slate-500"),O(Q,"class","text-sm text-gray-700"),O(j,"class","text-sm"),O(Ce,"type","range"),O(Ce,"min","0"),O(Ce,"max","1.0"),O(Ce,"step","0.05"),Ce.value=Se=t[1].economyAndLaws.tax_rate,O(Ce,"class","cursor-pointer w-32 svelte-1jnwbc1"),O(q,"class","pb-2 rounded-lg text-center"),O(N,"class",""),O(i,"class","select-none flex justify-evenly"),O(n,"class","select-none flex flex-col justify-start align-left text-left border-b-2 border-black text-black p-3 border-r-20 rounded-lg w-10/12 bg-foreground shadow-lg"),O(n,"id","headerObject"),O(e,"class","<!-- center horizontally --> flex justify-center text-center p-3 fixed top-0 left-0 right-0 z-20 ")},m(we,z){A(we,e,z),y(e,n),y(n,i),y(i,o),y(o,r),y(r,a),y(o,s),y(o,u),y(u,f),y(f,c),y(c,p),y(c,h),y(f,m),y(f,_),y(_,g),y(_,k),y(_,I),y(_,M),y(o,B),y(o,R),y(o,L),y(o,H),y(H,x),y(H,F),y(H,W),y(i,S),y(i,d),y(d,v),y(d,b),ze.m(d,null),y(i,$),y(i,N),y(N,q),y(q,j),y(j,U),y(j,ie),y(j,Q),y(Q,te),y(Q,ye),y(Q,oe),y(q,Ie),y(q,Ce),y(q,Le),y(q,be),y(q,Fe),He&&He.m(q,null),y(q,ee),Be&&Be.m(q,null),y(n,Oe),Y(Ke,n,null),y(n,Ze),Y(nt,n,null),Ue=!0,Re||(ut=[K(r,"click",t[6]),K(u,"click",t[7]),K(d,"click",t[11]),K(Ce,"input",t[8])],Re=!0)},p(we,[z]){(!Ue||z&2)&&l!==(l=we[1].townInfo.name+"")&&ae(a,l),(!Ue||z&16)&&ae(p,we[4]),(!Ue||z&8)&&ae(k,we[3]),(!Ue||z&4)&&ae(M,we[2]),(!Ue||z&32)&&ae(F,we[5]),xe===(xe=ct(we))&&ze?ze.p(we,z):(ze.d(1),ze=xe(we),ze&&(ze.c(),ze.m(d,null))),(!Ue||z&2)&&ve!==(ve=Jn(we[1].economyAndLaws.tax_rate*100,0)+"")&&ae(ye,ve),(!Ue||z&2&&Se!==(Se=we[1].economyAndLaws.tax_rate))&&(Ce.value=Se),we[1].economyAndLaws.tax_rate==0?He?z&2&&w(He,1):(He=ns(),He.c(),w(He,1),He.m(q,ee)):He&&(Me(),T(He,1,1,()=>{He=null}),Ee()),we[1].hasLab?Be?(Be.p(we,z),z&2&&w(Be,1)):(Be=is(we),Be.c(),w(Be,1),Be.m(q,null)):Be&&(Me(),T(Be,1,1,()=>{Be=null}),Ee())},i(we){Ue||(w(He),w(Be),w(Ke.$$.fragment,we),w(nt.$$.fragment,we),Ue=!0)},o(we){T(He),T(Be),T(Ke.$$.fragment,we),T(nt.$$.fragment,we),Ue=!1},d(we){we&&C(e),ze.d(),He&&He.d(),Be&&Be.d(),J(Ke),J(nt),Re=!1,qe(ut)}}}function Jn(t,e){if(e===void 0&&(e=0),t==null||t==null)return 0;t=parseFloat((t*Math.pow(10,e)).toFixed(11));var n=Math.round(t)/Math.pow(10,e);return+n.toFixed(e)}function o_(t){let e=Math.floor(t/1e3),n=Math.floor(e/60);e=e%60;let i=Math.floor(n/60);return n=n%60,`${fo(i)}:${fo(n)}:${fo(e)}`}function fo(t){return t<10?"0"+t:t}function r_(t,e,n){let i,o,r;se(t,ke,g=>n(1,i=g)),se(t,mi,g=>n(12,o=g)),se(t,vo,g=>n(13,r=g));let l,a;Uo(()=>{const g=setInterval(()=>{ge(ke,i.timeSpent+=1e3,i)},1e3);return()=>{clearInterval(g)}});function s(){let g=prompt("Enter a new name for your town (under 200 chars)");if(g&&g.length<200){let k=i;k.townInfo.name=g,ke.set(k),localStorage.setItem(ft,JSON.stringify(k))}}let u="Normal";function f(){o==500?(ge(mi,o=250,o),n(4,u="Fast")):(ge(mi,o=500,o),n(4,u="Normal"))}function c(g){let k=i;k.economyAndLaws.tax_rate=Jn(g.target.value,2),ke.set(k),localStorage.setItem(ft,JSON.stringify(k))}function p(){let g=i;g.hasBank===!0?(g.townInfo.gold+=g.townInfo.gold_from_tourism,g.townInfo.gold_from_tourism=0,ke.set(g),localStorage.setItem(ft,JSON.stringify(g))):alert("You need a bank to transfer funds from tourism activities.")}document.addEventListener("keydown",g=>{switch(g.key.toLowerCase()){case"1":g.preventDefault(),f();break;case"2":g.preventDefault(),f();break}});function h(){pi.set(!0)}let m="00:00:00";const _=()=>{ge(ke,i.townLog="",i)};return t.$$.update=()=>{if(t.$$.dirty&2){const g=document.getElementById("headerObject");g&&ge(vo,r=g.offsetHeight+32,r),n(2,l=Math.floor(i.environment.day/365)+1),n(3,a=dt(i.environment.day))}t.$$.dirty&2&&(i.timeSpent>0?n(5,m=o_(i.timeSpent)):n(5,m="00:00:00"))},[Jn,i,l,a,u,m,s,f,c,h,p,_]}class l_ extends _e{constructor(e){super(),he(this,e,r_,i_,le,{roundTo:0,transferFundsFromBank:10})}get roundTo(){return Jn}get transferFundsFromBank(){return this.$$.ctx[10]}}function s_(t){let e;const n=t[2].default,i=fe(n,t,t[4],null);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&16)&&de(i,n,o,o[4],e?ce(n,o[4],r,null):pe(o[4]),null)},i(o){e||(w(i,o),e=!0)},o(o){T(i,o),e=!1},d(o){i&&i.d(o)}}}function a_(t){let e,n;const i=[{class:$e("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",t[0])},t[1]];let o={$$slots:{default:[s_]},$$scope:{ctx:t}};for(let r=0;r<i.length;r+=1)o=V(o,i[r]);return e=new Yp({props:o}),e.$on("mousedown",t[3]),{c(){X(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&3?me(i,[l&1&&{class:$e("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",r[0])},l&2&&it(r[1])]):{};l&16&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){J(e,r)}}}function u_(t,e,n){const i=["class"];let o=ne(e,i),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(u){Z.call(this,t,u)}return t.$$set=u=>{e=V(V({},e),Ne(u)),n(1,o=ne(e,i)),"class"in u&&n(0,a=u.class),"$$scope"in u&&n(4,l=u.$$scope)},[a,o,r,s,l]}class mn extends _e{constructor(e){super(),he(this,e,u_,a_,le,{class:0})}}function f_(t){let e;const n=t[3].default,i=fe(n,t,t[4],null);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&16)&&de(i,n,o,o[4],e?ce(n,o[4],r,null):pe(o[4]),null)},i(o){e||(w(i,o),e=!0)},o(o){T(i,o),e=!1},d(o){i&&i.d(o)}}}function c_(t){let e,n;const i=[{class:$e("text-lg font-semibold",t[0])},{level:t[1]},t[2]];let o={$$slots:{default:[f_]},$$scope:{ctx:t}};for(let r=0;r<i.length;r+=1)o=V(o,i[r]);return e=new kc({props:o}),{c(){X(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&7?me(i,[l&1&&{class:$e("text-lg font-semibold",r[0])},l&2&&{level:r[1]},l&4&&it(r[2])]):{};l&16&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){J(e,r)}}}function d_(t,e,n){const i=["class","level"];let o=ne(e,i),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{level:s="h3"}=e;return t.$$set=u=>{e=V(V({},e),Ne(u)),n(2,o=ne(e,i)),"class"in u&&n(0,a=u.class),"level"in u&&n(1,s=u.level),"$$scope"in u&&n(4,l=u.$$scope)},[a,s,o,r,l]}class Da extends _e{constructor(e){super(),he(this,e,d_,c_,le,{class:0,level:1})}}const p_=t=>({builder:t&64}),rs=t=>({builder:t[6]});function m_(t){let e;const n=t[2].default,i=fe(n,t,t[5],rs);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&96)&&de(i,n,o,o[5],e?ce(n,o[5],r,p_):pe(o[5]),rs)},i(o){e||(w(i,o),e=!0)},o(o){T(i,o),e=!1},d(o){i&&i.d(o)}}}function h_(t){let e,n;const i=[{class:$e(Cn(),t[0])},t[1]];let o={$$slots:{default:[m_,({builder:r})=>({6:r}),({builder:r})=>r?64:0]},$$scope:{ctx:t}};for(let r=0;r<i.length;r+=1)o=V(o,i[r]);return e=new Mc({props:o}),e.$on("click",t[3]),e.$on("keydown",t[4]),{c(){X(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&3?me(i,[l&1&&{class:$e(Cn(),r[0])},l&2&&it(r[1])]):{};l&96&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){J(e,r)}}}function __(t,e,n){const i=["class"];let o=ne(e,i),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(f){Z.call(this,t,f)}function u(f){Z.call(this,t,f)}return t.$$set=f=>{e=V(V({},e),Ne(f)),n(1,o=ne(e,i)),"class"in f&&n(0,a=f.class),"$$scope"in f&&n(5,l=f.$$scope)},[a,o,r,s,u,l]}class g_ extends _e{constructor(e){super(),he(this,e,__,h_,le,{class:0})}}const b_=t=>({builder:t&64}),ls=t=>({builder:t[6]});function v_(t){let e;const n=t[2].default,i=fe(n,t,t[5],ls);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&96)&&de(i,n,o,o[5],e?ce(n,o[5],r,b_):pe(o[5]),ls)},i(o){e||(w(i,o),e=!0)},o(o){T(i,o),e=!1},d(o){i&&i.d(o)}}}function y_(t){let e,n;const i=[{class:$e(Cn({variant:"outline"}),"mt-2 sm:mt-0",t[0])},t[1]];let o={$$slots:{default:[v_,({builder:r})=>({6:r}),({builder:r})=>r?64:0]},$$scope:{ctx:t}};for(let r=0;r<i.length;r+=1)o=V(o,i[r]);return e=new qc({props:o}),e.$on("click",t[3]),e.$on("keydown",t[4]),{c(){X(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&3?me(i,[l&1&&{class:$e(Cn({variant:"outline"}),"mt-2 sm:mt-0",r[0])},l&2&&it(r[1])]):{};l&96&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){J(e,r)}}}function w_(t,e,n){const i=["class"];let o=ne(e,i),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(f){Z.call(this,t,f)}function u(f){Z.call(this,t,f)}return t.$$set=f=>{e=V(V({},e),Ne(f)),n(1,o=ne(e,i)),"class"in f&&n(0,a=f.class),"$$scope"in f&&n(5,l=f.$$scope)},[a,o,r,s,u,l]}class k_ extends _e{constructor(e){super(),he(this,e,w_,y_,le,{class:0})}}function C_(t){let e;const n=t[1].default,i=fe(n,t,t[2],null);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&4)&&de(i,n,o,o[2],e?ce(n,o[2],r,null):pe(o[2]),null)},i(o){e||(w(i,o),e=!0)},o(o){T(i,o),e=!1},d(o){i&&i.d(o)}}}function S_(t){let e,n;const i=[t[0]];let o={$$slots:{default:[C_]},$$scope:{ctx:t}};for(let r=0;r<i.length;r+=1)o=V(o,i[r]);return e=new Vc({props:o}),{c(){X(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&1?me(i,[it(r[0])]):{};l&4&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){J(e,r)}}}function A_(t,e,n){const i=[];let o=ne(e,i),{$$slots:r={},$$scope:l}=e;return t.$$set=a=>{e=V(V({},e),Ne(a)),n(0,o=ne(e,i)),"$$scope"in a&&n(2,l=a.$$scope)},[o,r,l]}class T_ extends _e{constructor(e){super(),he(this,e,A_,S_,le,{})}}function I_(t){let e,n,i;const o=t[3].default,r=fe(o,t,t[2],null);let l=[{class:n=$e("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=V(a,l[s]);return{c(){e=P("div"),r&&r.c(),re(e,a)},m(s,u){A(s,e,u),r&&r.m(e,null),i=!0},p(s,[u]){r&&r.p&&(!i||u&4)&&de(r,o,s,s[2],i?ce(o,s[2],u,null):pe(s[2]),null),re(e,a=me(l,[(!i||u&1&&n!==(n=$e("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s[0])))&&{class:n},u&2&&s[1]]))},i(s){i||(w(r,s),i=!0)},o(s){T(r,s),i=!1},d(s){s&&C(e),r&&r.d(s)}}}function N_(t,e,n){const i=["class"];let o=ne(e,i),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=V(V({},e),Ne(s)),n(1,o=ne(e,i)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,o,l,r]}class Ba extends _e{constructor(e){super(),he(this,e,N_,I_,le,{class:0})}}function M_(t){let e,n,i;const o=t[3].default,r=fe(o,t,t[2],null);let l=[{class:n=$e("flex flex-col space-y-2 text-center sm:text-left",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=V(a,l[s]);return{c(){e=P("div"),r&&r.c(),re(e,a)},m(s,u){A(s,e,u),r&&r.m(e,null),i=!0},p(s,[u]){r&&r.p&&(!i||u&4)&&de(r,o,s,s[2],i?ce(o,s[2],u,null):pe(s[2]),null),re(e,a=me(l,[(!i||u&1&&n!==(n=$e("flex flex-col space-y-2 text-center sm:text-left",s[0])))&&{class:n},u&2&&s[1]]))},i(s){i||(w(r,s),i=!0)},o(s){T(r,s),i=!1},d(s){s&&C(e),r&&r.d(s)}}}function E_(t,e,n){const i=["class"];let o=ne(e,i),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=V(V({},e),Ne(s)),n(1,o=ne(e,i)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,o,l,r]}class Ga extends _e{constructor(e){super(),he(this,e,E_,M_,le,{class:0})}}function P_(t){let e,n;const i=[{transition:t[1]},{transitionConfig:t[2]},{class:$e("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm ",t[0])},t[3]];let o={};for(let r=0;r<i.length;r+=1)o=V(o,i[r]);return e=new md({props:o}),{c(){X(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&15?me(i,[l&2&&{transition:r[1]},l&4&&{transitionConfig:r[2]},l&1&&{class:$e("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm ",r[0])},l&8&&it(r[3])]):{};e.$set(a)},i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){J(e,r)}}}function O_(t,e,n){const i=["class","transition","transitionConfig"];let o=ne(e,i),{class:r=void 0}=e,{transition:l=Pa}=e,{transitionConfig:a={duration:150}}=e;return t.$$set=s=>{e=V(V({},e),Ne(s)),n(3,o=ne(e,i)),"class"in s&&n(0,r=s.class),"transition"in s&&n(1,l=s.transition),"transitionConfig"in s&&n(2,a=s.transitionConfig)},[r,l,a,o]}class $_ extends _e{constructor(e){super(),he(this,e,O_,P_,le,{class:0,transition:1,transitionConfig:2})}}function L_(t){let e;const n=t[4].default,i=fe(n,t,t[5],null);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&32)&&de(i,n,o,o[5],e?ce(n,o[5],r,null):pe(o[5]),null)},i(o){e||(w(i,o),e=!0)},o(o){T(i,o),e=!1},d(o){i&&i.d(o)}}}function F_(t){let e,n,i,o;e=new $_({});const r=[{transition:t[0]},{transitionConfig:t[1]},{class:$e("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg md:w-full",t[2])},t[3]];let l={$$slots:{default:[L_]},$$scope:{ctx:t}};for(let a=0;a<r.length;a+=1)l=V(l,r[a]);return i=new od({props:l}),{c(){X(e.$$.fragment),n=G(),X(i.$$.fragment)},m(a,s){Y(e,a,s),A(a,n,s),Y(i,a,s),o=!0},p(a,s){const u=s&15?me(r,[s&1&&{transition:a[0]},s&2&&{transitionConfig:a[1]},s&4&&{class:$e("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg md:w-full",a[2])},s&8&&it(a[3])]):{};s&32&&(u.$$scope={dirty:s,ctx:a}),i.$set(u)},i(a){o||(w(e.$$.fragment,a),w(i.$$.fragment,a),o=!0)},o(a){T(e.$$.fragment,a),T(i.$$.fragment,a),o=!1},d(a){a&&C(n),J(e,a),J(i,a)}}}function q_(t){let e,n;return e=new T_({props:{$$slots:{default:[F_]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},p(i,[o]){const r={};o&47&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(w(e.$$.fragment,i),n=!0)},o(i){T(e.$$.fragment,i),n=!1},d(i){J(e,i)}}}function R_(t,e,n){const i=["transition","transitionConfig","class"];let o=ne(e,i),{$$slots:r={},$$scope:l}=e,{transition:a=er}=e,{transitionConfig:s=void 0}=e,{class:u=void 0}=e;return t.$$set=f=>{e=V(V({},e),Ne(f)),n(3,o=ne(e,i)),"transition"in f&&n(0,a=f.transition),"transitionConfig"in f&&n(1,s=f.transitionConfig),"class"in f&&n(2,u=f.class),"$$scope"in f&&n(5,l=f.$$scope)},[a,s,u,o,r,l]}class ja extends _e{constructor(e){super(),he(this,e,R_,q_,le,{transition:0,transitionConfig:1,class:2})}}function D_(t){let e;const n=t[2].default,i=fe(n,t,t[3],null);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&8)&&de(i,n,o,o[3],e?ce(n,o[3],r,null):pe(o[3]),null)},i(o){e||(w(i,o),e=!0)},o(o){T(i,o),e=!1},d(o){i&&i.d(o)}}}function B_(t){let e,n;const i=[{class:$e("text-sm text-muted-foreground",t[0])},t[1]];let o={$$slots:{default:[D_]},$$scope:{ctx:t}};for(let r=0;r<i.length;r+=1)o=V(o,i[r]);return e=new wd({props:o}),{c(){X(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&3?me(i,[l&1&&{class:$e("text-sm text-muted-foreground",r[0])},l&2&&it(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){J(e,r)}}}function G_(t,e,n){const i=["class"];let o=ne(e,i),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=V(V({},e),Ne(s)),n(1,o=ne(e,i)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,l=s.$$scope)},[a,o,r,l]}class Ha extends _e{constructor(e){super(),he(this,e,G_,B_,le,{class:0})}}const Va=hc;function ss(t,e,n){const i=t.slice();return i[25]=e[n],i}function as(t,e,n){const i=t.slice();return i[28]=e[n],i}function j_(t){let e;return{c(){e=D("Pause Menu")},m(n,i){A(n,e,i)},d(n){n&&C(e)}}}function H_(t){let e;return{c(){e=D("Unpause any time by pressing 'P'")},m(n,i){A(n,e,i)},d(n){n&&C(e)}}}function V_(t){let e,n,i,o;return e=new on({props:{$$slots:{default:[j_]},$$scope:{ctx:t}}}),i=new sn({props:{$$slots:{default:[H_]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=G(),X(i.$$.fragment)},m(r,l){Y(e,r,l),A(r,n,l),Y(i,r,l),o=!0},p(r,l){const a={};l[1]&1&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l[1]&1&&(s.$$scope={dirty:l,ctx:r}),i.$set(s)},i(r){o||(w(e.$$.fragment,r),w(i.$$.fragment,r),o=!0)},o(r){T(e.$$.fragment,r),T(i.$$.fragment,r),o=!1},d(r){r&&C(n),J(e,r),J(i,r)}}}function us(t){let e,n,i,o,r,l=JSON.stringify(t[5].requirements[t[2].difficulty].population_count)+"",a,s,u=JSON.stringify(t[2].townInfo.population_count)+"",f,c,p,h,m=JSON.stringify(t[5].requirements[t[2].difficulty].happiness)+"",_,g,k=JSON.stringify(t[2].townInfo.happiness)+"",I,M,B,R,L=JSON.stringify(t[5].requirements[t[2].difficulty].employment*100)+"",H,x,F=JSON.stringify((t[2].townInfo.employees/t[2].townInfo.population_count||0)*100)+"",W,S,d,v,b,$=JSON.stringify(t[5].requirements[t[2].difficulty].health)+"",N,q,j=JSON.stringify(t[2].townInfo.health)+"",U,ie,Q,te,ve=JSON.stringify(t[5].requirements[t[2].difficulty].knowledge)+"",ye,oe,Ie=JSON.stringify(t[2].townInfo.knowledge_points)+"",Ce,Se,Le;function be(z,je){return z[2].townInfo.population_count>=z[5].requirements[z[2].difficulty].population_count?K_:W_}let Fe=be(t),ee=Fe(t);function Oe(z,je){return z[2].townInfo.happiness>=z[5].requirements[z[2].difficulty].happiness?Y_:U_}let Ke=Oe(t),Ze=Ke(t);function nt(z,je){return z[2].townInfo.employees/z[2].townInfo.population_count>=z[5].requirements[z[2].difficulty].employment?X_:J_}let Ue=nt(t),Re=Ue(t);function ut(z,je){return z[2].townInfo.health>=z[5].requirements[z[2].difficulty].health?Q_:Z_}let ct=ut(t),xe=ct(t);function ze(z,je){return z[2].townInfo.knowledge_points>=z[5].requirements[z[2].difficulty].knowledge?z_:x_}let He=ze(t),Be=He(t),we=t[5].requirements[t[2].difficulty].required_plots!=null&&t[5].requirements[t[2].difficulty].required_plots.length>0&&fs(t);return{c(){e=P("div"),e.textContent=`With your difficulty (${t[6]}), you must also have:`,n=G(),i=P("ul"),o=P("li"),ee.c(),r=D(`
									Population: `),a=D(l),s=D(" - Currently at "),f=D(u),c=G(),p=P("li"),Ze.c(),h=D(`
									Happiness: `),_=D(m),g=D(" - Currently at "),I=D(k),M=G(),B=P("li"),Re.c(),R=D(`
									Employment: `),H=D(L),x=D("% - Currently at "),W=D(F),S=D("%"),d=G(),v=P("li"),xe.c(),b=D(`
									Health: `),N=D($),q=D(" - Currently at "),U=D(j),ie=G(),Q=P("li"),Be.c(),te=D(`
									Knowledge: `),ye=D(ve),oe=D(" - Currently at "),Ce=D(Ie),Se=G(),we&&we.c(),Le=Pe(),O(e,"class","leading-relaxed text-sm"),O(i,"class","list-inside list-disc leading-relaxedmt-0 text-sm")},m(z,je){A(z,e,je),A(z,n,je),A(z,i,je),y(i,o),ee.m(o,null),y(o,r),y(o,a),y(o,s),y(o,f),y(i,c),y(i,p),Ze.m(p,null),y(p,h),y(p,_),y(p,g),y(p,I),y(i,M),y(i,B),Re.m(B,null),y(B,R),y(B,H),y(B,x),y(B,W),y(B,S),y(i,d),y(i,v),xe.m(v,null),y(v,b),y(v,N),y(v,q),y(v,U),y(i,ie),y(i,Q),Be.m(Q,null),y(Q,te),y(Q,ye),y(Q,oe),y(Q,Ce),A(z,Se,je),we&&we.m(z,je),A(z,Le,je)},p(z,je){Fe!==(Fe=be(z))&&(ee.d(1),ee=Fe(z),ee&&(ee.c(),ee.m(o,r))),je[0]&4&&l!==(l=JSON.stringify(z[5].requirements[z[2].difficulty].population_count)+"")&&ae(a,l),je[0]&4&&u!==(u=JSON.stringify(z[2].townInfo.population_count)+"")&&ae(f,u),Ke!==(Ke=Oe(z))&&(Ze.d(1),Ze=Ke(z),Ze&&(Ze.c(),Ze.m(p,h))),je[0]&4&&m!==(m=JSON.stringify(z[5].requirements[z[2].difficulty].happiness)+"")&&ae(_,m),je[0]&4&&k!==(k=JSON.stringify(z[2].townInfo.happiness)+"")&&ae(I,k),Ue!==(Ue=nt(z))&&(Re.d(1),Re=Ue(z),Re&&(Re.c(),Re.m(B,R))),je[0]&4&&L!==(L=JSON.stringify(z[5].requirements[z[2].difficulty].employment*100)+"")&&ae(H,L),je[0]&4&&F!==(F=JSON.stringify((z[2].townInfo.employees/z[2].townInfo.population_count||0)*100)+"")&&ae(W,F),ct!==(ct=ut(z))&&(xe.d(1),xe=ct(z),xe&&(xe.c(),xe.m(v,b))),je[0]&4&&$!==($=JSON.stringify(z[5].requirements[z[2].difficulty].health)+"")&&ae(N,$),je[0]&4&&j!==(j=JSON.stringify(z[2].townInfo.health)+"")&&ae(U,j),He!==(He=ze(z))&&(Be.d(1),Be=He(z),Be&&(Be.c(),Be.m(Q,te))),je[0]&4&&ve!==(ve=JSON.stringify(z[5].requirements[z[2].difficulty].knowledge)+"")&&ae(ye,ve),je[0]&4&&Ie!==(Ie=JSON.stringify(z[2].townInfo.knowledge_points)+"")&&ae(Ce,Ie),z[5].requirements[z[2].difficulty].required_plots!=null&&z[5].requirements[z[2].difficulty].required_plots.length>0?we?we.p(z,je):(we=fs(z),we.c(),we.m(Le.parentNode,Le)):we&&(we.d(1),we=null)},d(z){z&&(C(e),C(n),C(i),C(Se),C(Le)),ee.d(),Ze.d(),Re.d(),xe.d(),Be.d(),we&&we.d(z)}}}function W_(t){let e;return{c(){e=D("❌")},m(n,i){A(n,e,i)},d(n){n&&C(e)}}}function K_(t){let e;return{c(){e=D("✅")},m(n,i){A(n,e,i)},d(n){n&&C(e)}}}function U_(t){let e;return{c(){e=D("❌")},m(n,i){A(n,e,i)},d(n){n&&C(e)}}}function Y_(t){let e;return{c(){e=D("✅")},m(n,i){A(n,e,i)},d(n){n&&C(e)}}}function J_(t){let e;return{c(){e=D("❌")},m(n,i){A(n,e,i)},d(n){n&&C(e)}}}function X_(t){let e;return{c(){e=D("✅")},m(n,i){A(n,e,i)},d(n){n&&C(e)}}}function Z_(t){let e;return{c(){e=D("❌")},m(n,i){A(n,e,i)},d(n){n&&C(e)}}}function Q_(t){let e;return{c(){e=D("✅")},m(n,i){A(n,e,i)},d(n){n&&C(e)}}}function x_(t){let e;return{c(){e=D("❌")},m(n,i){A(n,e,i)},d(n){n&&C(e)}}}function z_(t){let e;return{c(){e=D("✅")},m(n,i){A(n,e,i)},d(n){n&&C(e)}}}function fs(t){let e,n,i,o=Ye(t[5].requirements[t[2].difficulty].required_plots),r=[];for(let l=0;l<o.length;l+=1)r[l]=cs(as(t,o,l));return{c(){e=P("br"),n=D(`
								You also need to have these plots:
								`);for(let l=0;l<r.length;l+=1)r[l].c();i=Pe()},m(l,a){A(l,e,a),A(l,n,a);for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(l,a);A(l,i,a)},p(l,a){if(a[0]&36){o=Ye(l[5].requirements[l[2].difficulty].required_plots);let s;for(s=0;s<o.length;s+=1){const u=as(l,o,s);r[s]?r[s].p(u,a):(r[s]=cs(u),r[s].c(),r[s].m(i.parentNode,i))}for(;s<r.length;s+=1)r[s].d(1);r.length=o.length}},d(l){l&&(C(e),C(n),C(i)),yt(r,l)}}}function eg(t){let e;return{c(){e=D("❌")},m(n,i){A(n,e,i)},d(n){n&&C(e)}}}function tg(t){let e;return{c(){e=D("✅")},m(n,i){A(n,e,i)},d(n){n&&C(e)}}}function cs(t){let e,n,i,o,r=t[28]+"",l,a;function s(c,p){return p[0]&4&&(i=null),i==null&&(i=tt(c[28],c[2]).length>0),i?tg:eg}let u=s(t,[-1,-1]),f=u(t);return{c(){e=P("div"),n=P("li"),f.c(),o=G(),l=D(r),a=G(),O(e,"class","text-sm")},m(c,p){A(c,e,p),y(e,n),f.m(n,null),y(n,o),y(n,l),y(e,a)},p(c,p){u!==(u=s(c,p))&&(f.d(1),f=u(c),f&&(f.c(),f.m(n,o))),p[0]&4&&r!==(r=c[28]+"")&&ae(l,r)},d(c){c&&C(e),f.d()}}}function ng(t){let e;return{c(){e=D("Save game")},m(n,i){A(n,e,i)},d(n){n&&C(e)}}}function ig(t){let e;return{c(){e=D("Save")},m(n,i){A(n,e,i)},d(n){n&&C(e)}}}function og(t){let e;return{c(){e=D("Upload game")},m(n,i){A(n,e,i)},d(n){n&&C(e)}}}function ds(t){let e,n;function i(){return t[19](t[25])}return e=new Gt({props:{class:"bg-blue-600 hover:bg-blue-700 mt-4",id:"collectPrize-"+t[25].id,$$slots:{default:[rg]},$$scope:{ctx:t}}}),e.$on("click",i),{c(){X(e.$$.fragment)},m(o,r){Y(e,o,r),n=!0},p(o,r){t=o;const l={};r[0]&2&&(l.id="collectPrize-"+t[25].id),r[0]&2|r[1]&1&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){J(e,o)}}}function rg(t){let e,n=ms(t[25].prize)+"",i,o;return{c(){e=D("Collect Prize: $"),i=D(n),o=D(" gold")},m(r,l){A(r,e,l),A(r,i,l),A(r,o,l)},p(r,l){l[0]&2&&n!==(n=ms(r[25].prize)+"")&&ae(i,n)},d(r){r&&(C(e),C(i),C(o))}}}function ps(t){let e,n,i,o,r,l,a=t[25].title+"",s,u,f,c=t[25].requirements+"",p,h,m,_=t[25].icon+"",g,k,I,M=t[25].description+"",B,R,L,H,x=t[8](t[25].id)+"",F,W,S,d=t[13](t[25].id)&&!t[9](t[25].id),v,b,$,N=d&&ds(t);return{c(){e=P("div"),n=P("div"),i=P("div"),o=P("span"),r=P("div"),l=P("span"),s=D(a),u=G(),f=P("div"),p=D(c),h=G(),m=P("div"),g=D(_),k=G(),I=P("div"),B=D(M),R=G(),L=P("div"),H=D("✅ Completed on Day "),F=D(x),S=G(),N&&N.c(),v=G(),O(l,"class","font-semibold text-lg"),O(f,"class","font-thin text-white opacity-75 text-xs"),O(r,"class","flex flex-row gap-3 w-[100%] text- items-center "),O(m,"class","text-sm flex-grow pr-1 break-inside-avoid "),O(o,"class","flex flex-row justify-between w-[100%]"),O(i,"class","min-w-32 flex "),O(I,"class","text-white opacity-75 text-sm font-light"),O(L,"class",W=(t[13](t[25].id)?"":"hidden")+" text-xs text-green-400"),O(n,"class","flex-col flex px-3 py-2 gap-0"),O(e,"class",b="flex flex-col gap-3 cursor-default rounded-md "+(t[13](t[25].id)?"bg-green-700":"bg-gray-500 opacity-35"))},m(q,j){A(q,e,j),y(e,n),y(n,i),y(i,o),y(o,r),y(r,l),y(l,s),y(r,u),y(r,f),y(f,p),y(o,h),y(o,m),y(m,g),y(n,k),y(n,I),y(I,B),y(n,R),y(n,L),y(L,H),y(L,F),y(n,S),N&&N.m(n,null),y(e,v),$=!0},p(q,j){(!$||j[0]&2)&&a!==(a=q[25].title+"")&&ae(s,a),(!$||j[0]&2)&&c!==(c=q[25].requirements+"")&&ae(p,c),(!$||j[0]&2)&&_!==(_=q[25].icon+"")&&ae(g,_),(!$||j[0]&2)&&M!==(M=q[25].description+"")&&ae(B,M),(!$||j[0]&2)&&x!==(x=q[8](q[25].id)+"")&&ae(F,x),(!$||j[0]&2&&W!==(W=(q[13](q[25].id)?"":"hidden")+" text-xs text-green-400"))&&O(L,"class",W),j[0]&2&&(d=q[13](q[25].id)&&!q[9](q[25].id)),d?N?(N.p(q,j),j[0]&2&&w(N,1)):(N=ds(q),N.c(),w(N,1),N.m(n,null)):N&&(Me(),T(N,1,1,()=>{N=null}),Ee()),(!$||j[0]&2&&b!==(b="flex flex-col gap-3 cursor-default rounded-md "+(q[13](q[25].id)?"bg-green-700":"bg-gray-500 opacity-35")))&&O(e,"class",b)},i(q){$||(w(N),$=!0)},o(q){T(N),$=!1},d(q){q&&C(e),N&&N.d()}}}function lg(t){let e,n,i,o,r,l,a,s,u,f,c,p,h,m,_,g,k,I,M,B,R,L,H,x,F,W,S,d,v,b,$,N,q,j,U,ie,Q,te,ve,ye,oe,Ie,Ce;e=new rn({props:{$$slots:{default:[V_]},$$scope:{ctx:t}}});let Se=t[2].endGoal=="land"&&us(t);_=new mn({props:{for:"saveButton",class:`cursor-pointer bg-blue-600 rounded-md text-center p-2.5 hover:bg-blue-700 justify-center flex 
					`,$$slots:{default:[ng]},$$scope:{ctx:t}}}),k=new Gt({props:{class:`
					bg-blue-600 hover:bg-blue-700 hidden
					`,id:"saveButton",$$slots:{default:[ig]},$$scope:{ctx:t}}}),k.$on("click",t[16]),M=new mn({props:{for:"upload",class:`cursor-pointer bg-blue-600 rounded-md text-center p-2.5 hover:bg-blue-700 justify-center flex 
					`,$$slots:{default:[og]},$$scope:{ctx:t}}}),R=new tr({props:{class:"hidden",type:"file",id:"upload"}}),R.$on("change",t[12]),H=new Un({props:{orientation:"vertical"}});let Le=Ye(t[1]),be=[];for(let ee=0;ee<Le.length;ee+=1)be[ee]=ps(ss(t,Le,ee));const Fe=ee=>T(be[ee],1,1,()=>{be[ee]=null});return{c(){X(e.$$.fragment),n=G(),i=P("div"),o=P("div"),r=P("div"),l=P("h4"),l.textContent="This game",a=G(),s=P("span"),s.textContent=`${t[5].description_title}`,u=G(),f=P("div"),Se&&Se.c(),c=G(),p=P("div"),h=P("div"),m=P("div"),X(_.$$.fragment),g=G(),X(k.$$.fragment),I=G(),X(M.$$.fragment),B=G(),X(R.$$.fragment),L=G(),X(H.$$.fragment),x=G(),F=P("div"),W=P("h4"),W.textContent=`Your achievement (${t[7].length}
					/ ${ot.length})`,S=G(),d=P("span"),d.textContent="Track your progress through games & complete challenges!",v=G(),b=P("br"),$=G(),N=P("div"),q=P("input"),j=G(),U=P("label"),U.textContent="Show completed",ie=G(),Q=P("div"),te=P("div");for(let ee=0;ee<be.length;ee+=1)be[ee].c();ve=G(),ye=P("span"),ye.textContent=`Prizes apply to the current game you are in. You can wait to apply
					them until the right time.`,O(l,"class","underline underline-offset-4"),O(s,"class","text-sm text-gray-400"),O(f,"class","mt-6 gap-0 py-0 text-gray-400 text-sm"),O(r,"class","flex-col h-max"),O(m,"class","flex gap-10 justify-start min-w-[100%] w-[100%] items"),O(h,"class","flex flex-col gap-3 h-max"),O(o,"class","flex flex-col gap-6 justify-between"),O(W,"class","underline underline-offset-4"),O(d,"class","text-sm text-gray-400"),O(q,"type","checkbox"),O(q,"id","toggle-show-completed"),O(q,"class","rounded"),O(q,"tabindex","-1"),q.checked=localStorage.getItem("showCompletedAchievements")==="true",O(U,"for","toggle-show-completed"),O(U,"class","text-xs text-gray-400 select-none ml-2 no-select cursor-pointer "),O(N,"class","flex items-center"),O(te,"class","flex flex-col gap-4 overflow-scroll pb-20 scroll-smooth"),O(Q,"class","overflow-scroll mt-2 h-[55vh]"),O(ye,"class","text-sm text-yellow-400 italic"),O(i,"class","flex flex-row w-full gap-10")},m(ee,Oe){Y(e,ee,Oe),A(ee,n,Oe),A(ee,i,Oe),y(i,o),y(o,r),y(r,l),y(r,a),y(r,s),y(r,u),y(r,f),Se&&Se.m(f,null),y(o,c),y(o,p),y(p,h),y(h,m),Y(_,m,null),y(m,g),Y(k,m,null),y(m,I),Y(M,m,null),y(m,B),Y(R,m,null),y(i,L),Y(H,i,null),y(i,x),y(i,F),y(F,W),y(F,S),y(F,d),y(F,v),y(F,b),y(F,$),y(F,N),y(N,q),y(N,j),y(N,U),y(F,ie),y(F,Q),y(Q,te);for(let Ke=0;Ke<be.length;Ke+=1)be[Ke]&&be[Ke].m(te,null);y(F,ve),y(F,ye),oe=!0,Ie||(Ce=[K(q,"change",t[17]),K(q,"keydown",t[18])],Ie=!0)},p(ee,Oe){const Ke={};Oe[1]&1&&(Ke.$$scope={dirty:Oe,ctx:ee}),e.$set(Ke),ee[2].endGoal=="land"?Se?Se.p(ee,Oe):(Se=us(ee),Se.c(),Se.m(f,null)):Se&&(Se.d(1),Se=null);const Ze={};Oe[1]&1&&(Ze.$$scope={dirty:Oe,ctx:ee}),_.$set(Ze);const nt={};Oe[1]&1&&(nt.$$scope={dirty:Oe,ctx:ee}),k.$set(nt);const Ue={};if(Oe[1]&1&&(Ue.$$scope={dirty:Oe,ctx:ee}),M.$set(Ue),Oe[0]&9986){Le=Ye(ee[1]);let Re;for(Re=0;Re<Le.length;Re+=1){const ut=ss(ee,Le,Re);be[Re]?(be[Re].p(ut,Oe),w(be[Re],1)):(be[Re]=ps(ut),be[Re].c(),w(be[Re],1),be[Re].m(te,null))}for(Me(),Re=Le.length;Re<be.length;Re+=1)Fe(Re);Ee()}},i(ee){if(!oe){w(e.$$.fragment,ee),w(_.$$.fragment,ee),w(k.$$.fragment,ee),w(M.$$.fragment,ee),w(R.$$.fragment,ee),w(H.$$.fragment,ee);for(let Oe=0;Oe<Le.length;Oe+=1)w(be[Oe]);oe=!0}},o(ee){T(e.$$.fragment,ee),T(_.$$.fragment,ee),T(k.$$.fragment,ee),T(M.$$.fragment,ee),T(R.$$.fragment,ee),T(H.$$.fragment,ee),be=be.filter(Boolean);for(let Oe=0;Oe<be.length;Oe+=1)T(be[Oe]);oe=!1},d(ee){ee&&(C(n),C(i)),J(e,ee),Se&&Se.d(),J(_),J(k),J(M),J(R),J(H),yt(be,ee),Ie=!1,qe(Ce)}}}function sg(t){let e,n;return e=new ln({props:{class:" max-w-[90vw] max-h-[90vh] bg-black",$$slots:{default:[lg]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},p(i,o){const r={};o[0]&6|o[1]&1&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(w(e.$$.fragment,i),n=!0)},o(i){T(e.$$.fragment,i),n=!1},d(i){J(e,i)}}}function ag(t){var i;let e=((i=t[14]())==null?void 0:i.title)+"",n;return{c(){n=D(e)},m(o,r){A(o,n,r)},p:ue,d(o){o&&C(n)}}}function ug(t){let e,n,i,o;return{c(){var r,l;e=P("div"),n=P("div"),n.textContent=`${(r=t[14]())==null?void 0:r.icon}`,i=G(),o=P("div"),o.textContent=`${(l=t[14]())==null?void 0:l.description}`,O(n,"class","text-center w-[30%] align-middle flex flex-col text-8xl"),O(o,"class","pl-8 w-[80%] align-middle flex flex-col justify-center text-lg"),O(e,"class","flex flex-row align-middle justify-evenly px-6 py-4")},m(r,l){A(r,e,l),y(e,n),y(e,i),y(e,o)},p:ue,d(r){r&&C(e)}}}function fg(t){let e,n,i,o;return e=new Da({props:{class:"text-center text-xl font-bold",$$slots:{default:[ag]},$$scope:{ctx:t}}}),i=new Ha({props:{$$slots:{default:[ug]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=G(),X(i.$$.fragment)},m(r,l){Y(e,r,l),A(r,n,l),Y(i,r,l),o=!0},p(r,l){const a={};l[1]&1&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l[1]&1&&(s.$$scope={dirty:l,ctx:r}),i.$set(s)},i(r){o||(w(e.$$.fragment,r),w(i.$$.fragment,r),o=!0)},o(r){T(e.$$.fragment,r),T(i.$$.fragment,r),o=!1},d(r){r&&C(n),J(e,r),J(i,r)}}}function cg(t){let e;return{c(){e=D("Close to collect prize")},m(n,i){A(n,e,i)},d(n){n&&C(e)}}}function dg(t){let e,n;return e=new k_({props:{$$slots:{default:[cg]},$$scope:{ctx:t}}}),e.$on("click",t[21]),{c(){X(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},p(i,o){const r={};o[1]&1&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(w(e.$$.fragment,i),n=!0)},o(i){T(e.$$.fragment,i),n=!1},d(i){J(e,i)}}}function pg(t){let e,n,i,o;return e=new Ga({props:{$$slots:{default:[fg]},$$scope:{ctx:t}}}),i=new Ba({props:{$$slots:{default:[dg]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=G(),X(i.$$.fragment)},m(r,l){Y(e,r,l),A(r,n,l),Y(i,r,l),o=!0},p(r,l){const a={};l[1]&1&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l[0]&16|l[1]&1&&(s.$$scope={dirty:l,ctx:r}),i.$set(s)},i(r){o||(w(e.$$.fragment,r),w(i.$$.fragment,r),o=!0)},o(r){T(e.$$.fragment,r),T(i.$$.fragment,r),o=!1},d(r){r&&C(n),J(e,r),J(i,r)}}}function mg(t){let e,n;return e=new ja({props:{$$slots:{default:[pg]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},p(i,o){const r={};o[0]&16|o[1]&1&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(w(e.$$.fragment,i),n=!0)},o(i){T(e.$$.fragment,i),n=!1},d(i){J(e,i)}}}function hg(t){let e,n,i,o,r;function l(s){t[20](s)}let a={$$slots:{default:[sg]},$$scope:{ctx:t}};return t[3]!==void 0&&(a.open=t[3]),e=new an({props:a}),Ae.push(()=>tn(e,"open",l)),o=new Va({props:{open:t[4],$$slots:{default:[mg]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),i=G(),X(o.$$.fragment)},m(s,u){Y(e,s,u),A(s,i,u),Y(o,s,u),r=!0},p(s,u){const f={};u[0]&6|u[1]&1&&(f.$$scope={dirty:u,ctx:s}),!n&&u[0]&8&&(n=!0,f.open=s[3],en(()=>n=!1)),e.$set(f);const c={};u[0]&16&&(c.open=s[4]),u[0]&16|u[1]&1&&(c.$$scope={dirty:u,ctx:s}),o.$set(c)},i(s){r||(w(e.$$.fragment,s),w(o.$$.fragment,s),r=!0)},o(s){T(e.$$.fragment,s),T(o.$$.fragment,s),r=!1},d(s){s&&C(i),J(e,s),J(o,s)}}}function ms(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function _g(t){const e=JSON.parse(t);return e.townInfo!=null&&e.difficulty!=null}function gg(t,e,n){let i,o,r,l,a;se(t,bn,S=>n(23,i=S)),se(t,ke,S=>n(2,o=S)),se(t,br,S=>n(15,r=S)),se(t,ht,S=>n(3,l=S)),se(t,Mi,S=>n(4,a=S));const u=rt[o.endGoal],f=aa[o.difficulty]||0;ot.sort((S,d)=>I(S.id)&&!I(d.id)?-1:!I(S.id)&&I(d.id)?1:0);const c=ot.filter(S=>I(S.id));function p(S){const d=i.achievements.find(v=>v[0]==S);return d==null?0:`${d[1]} in ${d[2]}.`}function h(S){const d=i.achievements.find(v=>v[0]==S);return d==null?!1:d[3]}function m(S){const d=i.achievements.find(b=>b[0]==S);if(d==null)return;const v=ot.find(b=>b.id==S);v!=null&&(ge(ke,o.townInfo.gold+=v.prize,o),d[3]=!0,ge(bn,i.achievements=i.achievements.map(b=>b[0]==S?d:b),i))}let _=ot;function g(){const S=JSON.stringify(o),d=new Blob([S],{type:"text/plain"}),v=URL.createObjectURL(d),b=document.createElement("a");b.href=v,b.download=`${new Date().toISOString()}.json`,document.body.appendChild(b),b.click(),document.body.removeChild(b),URL.revokeObjectURL(v)}function k(){const d=document.getElementById("upload").files;if(d==null)return;const v=d[0],b=new FileReader;b.onload=function($){if($.target==null)return;const N=$.target.result;if(typeof N=="string"){if(!_g(N)){alert("Invalid game file");return}Zo(JSON.parse(N))}else alert("Invalid game file: is not String.")},b.readAsText(v)}function I(S){return i.achievements==null?!1:i.achievements.find(d=>d[0]==S)!=null}function M(){br.update(S=>!S),localStorage.setItem("showCompletedAchievements",localStorage.getItem("showCompletedAchievements")==="true"?"false":"true")}localStorage.getItem("pauseMenuTab")==null&&(localStorage.setItem("pauseMenuTab","game"),tf.set("game"));function B(){const S=i.achievements[i.achievements.length-1];if(S!=null)return ot.find(d=>d.id==S[0])}const R=()=>g(),L=()=>{M()},H=S=>{S.key==="p"&&ht.set(!1)},x=S=>{m(S.id);const d=document.getElementById(`collectPrize-${S.id}`);d&&(d.style.display="none")};function F(S){l=S,ht.set(l)}const W=()=>{ge(Mi,a=!1,a)};return t.$$.update=()=>{if(t.$$.dirty[0]&32774&&o)if(r)n(1,_=ot);else{n(1,_=[]);for(let S=0;S<ot.length;S++)(!I(ot[S].id)||!h(ot[S].id))&&_.push(ot[S])}},[M,_,o,l,a,u,f,c,p,h,m,g,k,I,B,r,R,L,H,x,F,W]}class bg extends _e{constructor(e){super(),he(this,e,gg,hg,le,{toggleShowCompleted:0},null,[-1,-1])}get toggleShowCompleted(){return this.$$.ctx[0]}}function vg(){console.log("%cRUNNING STABILITY TESTS...","color: #26bfa5;");let t=0;return console.log("%cPASSED ALL STABILITY TESTS 😍","color: #26bfa5;"),t}function yg(t){let e=t[0].endGameDetails.win==!0?"You won! 🎉":"You lost! 😭",n;return{c(){n=D(e)},m(i,o){A(i,n,o)},p(i,o){o&1&&e!==(e=i[0].endGameDetails.win==!0?"You won! 🎉":"You lost! 😭")&&ae(n,e)},d(i){i&&C(n)}}}function wg(t){let e;return{c(){e=D("Keep playin'")},m(n,i){A(n,e,i)},d(n){n&&C(e)}}}function kg(t){let e,n=t[0].endGameDetails.msg+"",i,o,r,l,a,s,u,f;return u=new Gt({props:{$$slots:{default:[wg]},$$scope:{ctx:t}}}),u.$on("click",t[2]),{c(){e=P("span"),i=D(n),o=G(),r=P("br"),l=G(),a=P("br"),s=G(),X(u.$$.fragment),O(e,"class","text-gray-500 text-sm")},m(c,p){A(c,e,p),y(e,i),A(c,o,p),A(c,r,p),A(c,l,p),A(c,a,p),A(c,s,p),Y(u,c,p),f=!0},p(c,p){(!f||p&1)&&n!==(n=c[0].endGameDetails.msg+"")&&ae(i,n);const h={};p&16&&(h.$$scope={dirty:p,ctx:c}),u.$set(h)},i(c){f||(w(u.$$.fragment,c),f=!0)},o(c){T(u.$$.fragment,c),f=!1},d(c){c&&(C(e),C(o),C(r),C(l),C(a),C(s)),J(u,c)}}}function Cg(t){let e,n,i,o;return e=new on({props:{$$slots:{default:[yg]},$$scope:{ctx:t}}}),i=new sn({props:{$$slots:{default:[kg]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=G(),X(i.$$.fragment)},m(r,l){Y(e,r,l),A(r,n,l),Y(i,r,l),o=!0},p(r,l){const a={};l&17&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&17&&(s.$$scope={dirty:l,ctx:r}),i.$set(s)},i(r){o||(w(e.$$.fragment,r),w(i.$$.fragment,r),o=!0)},o(r){T(e.$$.fragment,r),T(i.$$.fragment,r),o=!1},d(r){r&&C(n),J(e,r),J(i,r)}}}function Sg(t){let e;return{c(){e=P("span"),e.textContent="Reset the game by pressing SHIFT+ESC",O(e,"class","text-gray-500 text-sm")},m(n,i){A(n,e,i)},p:ue,d(n){n&&C(e)}}}function Ag(t){let e,n,i,o;return e=new rn({props:{$$slots:{default:[Cg]},$$scope:{ctx:t}}}),i=new ti({props:{$$slots:{default:[Sg]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=G(),X(i.$$.fragment)},m(r,l){Y(e,r,l),A(r,n,l),Y(i,r,l),o=!0},p(r,l){const a={};l&17&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&16&&(s.$$scope={dirty:l,ctx:r}),i.$set(s)},i(r){o||(w(e.$$.fragment,r),w(i.$$.fragment,r),o=!0)},o(r){T(e.$$.fragment,r),T(i.$$.fragment,r),o=!1},d(r){r&&C(n),J(e,r),J(i,r)}}}function Tg(t){let e,n;return e=new ln({props:{class:"bg-black",$$slots:{default:[Ag]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},p(i,o){const r={};o&17&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(w(e.$$.fragment,i),n=!0)},o(i){T(e.$$.fragment,i),n=!1},d(i){J(e,i)}}}function Ig(t){let e,n,i;function o(l){t[3](l)}let r={$$slots:{default:[Tg]},$$scope:{ctx:t}};return t[1]!==void 0&&(r.open=t[1]),e=new an({props:r}),Ae.push(()=>tn(e,"open",o)),{c(){X(e.$$.fragment)},m(l,a){Y(e,l,a),i=!0},p(l,[a]){const s={};a&17&&(s.$$scope={dirty:a,ctx:l}),!n&&a&2&&(n=!0,s.open=l[1],en(()=>n=!1)),e.$set(s)},i(l){i||(w(e.$$.fragment,l),i=!0)},o(l){T(e.$$.fragment,l),i=!1},d(l){J(e,l)}}}function Ng(t,e,n){let i;se(t,ke,a=>n(0,i=a));let o=!1;function r(){let a=i;a.overtime=!0,ke.set(a),n(1,o=!1),ht.set(!1)}function l(a){o=a,n(1,o),n(0,i)}return t.$$.update=()=>{t.$$.dirty&1&&(i.endGameDetails.msg!=""&&i.overtime==!1?n(1,o=!0):n(1,o=!1))},[i,o,r,l]}class Mg extends _e{constructor(e){super(),he(this,e,Ng,Ig,le,{})}}function Eg(t){let e;return{c(){e=D("Welcome to Plots!")},m(n,i){A(n,e,i)},d(n){n&&C(e)}}}function Pg(t){let e;return{c(){e=D("Select a map size (difficulty)")},m(n,i){A(n,e,i)},d(n){n&&C(e)}}}function Og(t){let e;return{c(){e=D("Select a game mode")},m(n,i){A(n,e,i)},d(n){n&&C(e)}}}function $g(t){let e;return{c(){e=P("p"),e.textContent=`${rt.free_play.description_title}`,O(e,"class","text-gray-500 text-sm")},m(n,i){A(n,e,i)},d(n){n&&C(e)}}}function Lg(t){let e;return{c(){e=P("p"),e.textContent=`${rt.land.description_title}`,O(e,"class","text-gray-500 text-sm")},m(n,i){A(n,e,i)},d(n){n&&C(e)}}}function Fg(t){let e;return{c(){e=D("Town Name")},m(n,i){A(n,e,i)},d(n){n&&C(e)}}}function qg(t){let e;return{c(){e=D("Cheats")},m(n,i){A(n,e,i)},d(n){n&&C(e)}}}function Rg(t){let e,n,i,o,r,l,a,s,u,f,c,p,h,m,_,g,k,I,M,B,R,L,H,x,F,W,S,d,v,b,$,N,q;r=new mn({props:{for:"difficulty",class:"mt-2",$$slots:{default:[Pg]},$$scope:{ctx:t}}}),h=new mn({props:{for:"endGoal",class:"mt-2",$$slots:{default:[Og]},$$scope:{ctx:t}}});function j(Q,te){return Q[0]==="land"?Lg:$g}let U=j(t),ie=U(t);return R=new mn({props:{for:"townName",class:"mt-2",$$slots:{default:[Fg]},$$scope:{ctx:t}}}),H=new tr({props:{id:"townName",class:"mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Will be randomized if you leave blank"}}),W=new mn({props:{for:"cheats",class:"mt-2",$$slots:{default:[qg]},$$scope:{ctx:t}}}),{c(){e=P("a"),e.textContent="GitHub / Learn how to play",n=G(),i=P("div"),o=P("div"),X(r.$$.fragment),l=G(),a=P("select"),s=P("option"),s.textContent="Easy (quick game)",u=P("option"),u.textContent="Normal",f=P("option"),f.textContent="Hard (longest game)",c=G(),p=P("div"),X(h.$$.fragment),m=G(),ie.c(),_=G(),g=P("select"),k=P("option"),k.textContent=`${rt.land.short_title}`,I=P("option"),I.textContent=`${rt.free_play.short_title}`,M=G(),B=P("div"),X(R.$$.fragment),L=G(),X(H.$$.fragment),x=G(),F=P("div"),X(W.$$.fragment),S=G(),d=P("select"),v=P("option"),v.textContent="No cheats",b=P("option"),b.textContent="Dev mode",O(e,"href","https://github.com/josephrcox/plots#how-to-play"),O(e,"class","text-blue-500 text-sm mb-4 hover:underline"),O(e,"target","_blank"),s.__value="0",At(s,s.__value),u.__value="1",At(u,u.__value),u.selected=!0,f.__value="2",At(f,f.__value),O(a,"id","difficulty"),O(a,"class","mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),k.__value="land",At(k,k.__value),I.__value="free_play",At(I,I.__value),O(g,"id","endGoal"),O(g,"class","mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),v.__value="false",At(v,v.__value),v.selected=!0,b.__value="true",At(b,b.__value),O(d,"id","cheats"),O(d,"class","mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),O(i,"class","flex flex-col justify-center gap-5 mt-4")},m(Q,te){A(Q,e,te),A(Q,n,te),A(Q,i,te),y(i,o),Y(r,o,null),y(o,l),y(o,a),y(a,s),y(a,u),y(a,f),y(i,c),y(i,p),Y(h,p,null),y(p,m),ie.m(p,null),y(p,_),y(p,g),y(g,k),y(g,I),pr(g,t[0]),y(i,M),y(i,B),Y(R,B,null),y(B,L),Y(H,B,null),y(i,x),y(i,F),Y(W,F,null),y(F,S),y(F,d),y(d,v),y(d,b),$=!0,N||(q=K(g,"change",t[3]),N=!0)},p(Q,te){const ve={};te&32&&(ve.$$scope={dirty:te,ctx:Q}),r.$set(ve);const ye={};te&32&&(ye.$$scope={dirty:te,ctx:Q}),h.$set(ye),U!==(U=j(Q))&&(ie.d(1),ie=U(Q),ie&&(ie.c(),ie.m(p,_))),(!$||te&1)&&pr(g,Q[0]);const oe={};te&32&&(oe.$$scope={dirty:te,ctx:Q}),R.$set(oe);const Ie={};te&32&&(Ie.$$scope={dirty:te,ctx:Q}),W.$set(Ie)},i(Q){$||(w(r.$$.fragment,Q),w(h.$$.fragment,Q),w(R.$$.fragment,Q),w(H.$$.fragment,Q),w(W.$$.fragment,Q),$=!0)},o(Q){T(r.$$.fragment,Q),T(h.$$.fragment,Q),T(R.$$.fragment,Q),T(H.$$.fragment,Q),T(W.$$.fragment,Q),$=!1},d(Q){Q&&(C(e),C(n),C(i)),J(r),J(h),ie.d(),J(R),J(H),J(W),N=!1,q()}}}function Dg(t){let e,n,i,o;return e=new on({props:{$$slots:{default:[Eg]},$$scope:{ctx:t}}}),i=new sn({props:{$$slots:{default:[Rg]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=G(),X(i.$$.fragment)},m(r,l){Y(e,r,l),A(r,n,l),Y(i,r,l),o=!0},p(r,l){const a={};l&32&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&33&&(s.$$scope={dirty:l,ctx:r}),i.$set(s)},i(r){o||(w(e.$$.fragment,r),w(i.$$.fragment,r),o=!0)},o(r){T(e.$$.fragment,r),T(i.$$.fragment,r),o=!1},d(r){r&&C(n),J(e,r),J(i,r)}}}function Bg(t){let e,n,i;return{c(){e=P("button"),e.textContent="Start game",O(e,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-md")},m(o,r){A(o,e,r),n||(i=K(e,"click",t[2]),n=!0)},p:ue,d(o){o&&C(e),n=!1,i()}}}function Gg(t){let e,n,i,o;return e=new rn({props:{$$slots:{default:[Dg]},$$scope:{ctx:t}}}),i=new ti({props:{$$slots:{default:[Bg]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=G(),X(i.$$.fragment)},m(r,l){Y(e,r,l),A(r,n,l),Y(i,r,l),o=!0},p(r,l){const a={};l&33&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&32&&(s.$$scope={dirty:l,ctx:r}),i.$set(s)},i(r){o||(w(e.$$.fragment,r),w(i.$$.fragment,r),o=!0)},o(r){T(e.$$.fragment,r),T(i.$$.fragment,r),o=!1},d(r){r&&C(n),J(e,r),J(i,r)}}}function jg(t){let e,n;return e=new ln({props:{transition:er,class:"bg-black",$$slots:{default:[Gg]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},p(i,o){const r={};o&33&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(w(e.$$.fragment,i),n=!0)},o(i){T(e.$$.fragment,i),n=!1},d(i){J(e,i)}}}function Hg(t){let e,n,i;function o(l){t[4](l)}let r={$$slots:{default:[jg]},$$scope:{ctx:t}};return t[1].visible!==void 0&&(r.open=t[1].visible),e=new an({props:r}),Ae.push(()=>tn(e,"open",o)),{c(){X(e.$$.fragment)},m(l,a){Y(e,l,a),i=!0},p(l,[a]){const s={};a&33&&(s.$$scope={dirty:a,ctx:l}),!n&&a&2&&(n=!0,s.open=l[1].visible,en(()=>n=!1)),e.$set(s)},i(l){i||(w(e.$$.fragment,l),i=!0)},o(l){T(e.$$.fragment,l),i=!1},d(l){J(e,l)}}}function Vg(t,e,n){let i;se(t,Vn,s=>n(1,i=s));function o(){const s=document.getElementById("difficulty").value,u=document.getElementById("endGoal").value,f=document.getElementById("townName").value,c=document.getElementById("cheats").value=="true";xu(s,u,f,c)}let r="land";const l=s=>{n(0,r=s.target.value)};function a(s){t.$$.not_equal(i.visible,s)&&(i.visible=s,Vn.set(i))}return[r,i,o,l,a]}class Wg extends _e{constructor(e){super(),he(this,e,Vg,Hg,le,{})}}function Kg(t){let e;return{c(){e=D("Scoreboard")},m(n,i){A(n,e,i)},d(n){n&&C(e)}}}function Ug(t){let e=t[1].description_title+"",n;return{c(){n=D(e)},m(i,o){A(i,n,o)},p:ue,d(i){i&&C(n)}}}function Yg(t){let e,n,i,o;return e=new on({props:{$$slots:{default:[Kg]},$$scope:{ctx:t}}}),i=new sn({props:{$$slots:{default:[Ug]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=G(),X(i.$$.fragment)},m(r,l){Y(e,r,l),A(r,n,l),Y(i,r,l),o=!0},p(r,l){const a={};l&128&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&128&&(s.$$scope={dirty:l,ctx:r}),i.$set(s)},i(r){o||(w(e.$$.fragment,r),w(i.$$.fragment,r),o=!0)},o(r){T(e.$$.fragment,r),T(i.$$.fragment,r),o=!1},d(r){r&&C(n),J(e,r),J(i,r)}}}function Jg(t){let e;return{c(){e=D("footer")},m(n,i){A(n,e,i)},d(n){n&&C(e)}}}function Xg(t){let e,n,i,o;return e=new rn({props:{$$slots:{default:[Yg]},$$scope:{ctx:t}}}),i=new ti({props:{$$slots:{default:[Jg]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=D(`
		hi
		`),X(i.$$.fragment)},m(r,l){Y(e,r,l),A(r,n,l),Y(i,r,l),o=!0},p(r,l){const a={};l&128&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&128&&(s.$$scope={dirty:l,ctx:r}),i.$set(s)},i(r){o||(w(e.$$.fragment,r),w(i.$$.fragment,r),o=!0)},o(r){T(e.$$.fragment,r),T(i.$$.fragment,r),o=!1},d(r){r&&C(n),J(e,r),J(i,r)}}}function Zg(t){let e,n;return e=new ln({props:{$$slots:{default:[Xg]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},p(i,o){const r={};o&128&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(w(e.$$.fragment,i),n=!0)},o(i){T(e.$$.fragment,i),n=!1},d(i){J(e,i)}}}function Qg(t){let e,n,i;function o(l){t[3](l)}let r={$$slots:{default:[Zg]},$$scope:{ctx:t}};return t[0]!==void 0&&(r.open=t[0]),e=new an({props:r}),Ae.push(()=>tn(e,"open",o)),{c(){X(e.$$.fragment)},m(l,a){Y(e,l,a),i=!0},p(l,[a]){const s={};a&128&&(s.$$scope={dirty:a,ctx:l}),!n&&a&1&&(n=!0,s.open=l[0],en(()=>n=!1)),e.$set(s)},i(l){i||(w(e.$$.fragment,l),i=!0)},o(l){T(e.$$.fragment,l),i=!1},d(l){J(e,l)}}}function xg(t,e,n){let i,o;se(t,ke,s=>n(2,i=s)),se(t,gr,s=>n(0,o=s));const l=rt[i.endGoal];aa[i.difficulty];function a(s){o=s,gr.set(o)}return t.$$.update=()=>{t.$$.dirty&4},[o,l,i,a]}class zg extends _e{constructor(e){super(),he(this,e,xg,Qg,le,{})}}function _i(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function e0(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Wa(t){let e,n,i;t.length!==2?(e=_i,n=(a,s)=>_i(t(a),s),i=(a,s)=>t(a)-s):(e=t===_i||t===e0?t:t0,n=t,i=t);function o(a,s,u=0,f=a.length){if(u<f){if(e(s,s)!==0)return f;do{const c=u+f>>>1;n(a[c],s)<0?u=c+1:f=c}while(u<f)}return u}function r(a,s,u=0,f=a.length){if(u<f){if(e(s,s)!==0)return f;do{const c=u+f>>>1;n(a[c],s)<=0?u=c+1:f=c}while(u<f)}return u}function l(a,s,u=0,f=a.length){const c=o(a,s,u,f-1);return c>u&&i(a[c-1],s)>-i(a[c],s)?c-1:c}return{left:o,center:l,right:r}}function t0(){return 0}function n0(t){return t===null?NaN:+t}const i0=Wa(_i),o0=i0.right;Wa(n0).center;const r0=Math.sqrt(50),l0=Math.sqrt(10),s0=Math.sqrt(2);function Ri(t,e,n){const i=(e-t)/Math.max(0,n),o=Math.floor(Math.log10(i)),r=i/Math.pow(10,o),l=r>=r0?10:r>=l0?5:r>=s0?2:1;let a,s,u;return o<0?(u=Math.pow(10,-o)/l,a=Math.round(t*u),s=Math.round(e*u),a/u<t&&++a,s/u>e&&--s,u=-u):(u=Math.pow(10,o)*l,a=Math.round(t/u),s=Math.round(e/u),a*u<t&&++a,s*u>e&&--s),s<a&&.5<=n&&n<2?Ri(t,e,n*2):[a,s,u]}function a0(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const i=e<t,[o,r,l]=i?Ri(e,t,n):Ri(t,e,n);if(!(r>=o))return[];const a=r-o+1,s=new Array(a);if(i)if(l<0)for(let u=0;u<a;++u)s[u]=(r-u)/-l;else for(let u=0;u<a;++u)s[u]=(r-u)*l;else if(l<0)for(let u=0;u<a;++u)s[u]=(o+u)/-l;else for(let u=0;u<a;++u)s[u]=(o+u)*l;return s}function Mo(t,e,n){return e=+e,t=+t,n=+n,Ri(t,e,n)[2]}function u0(t,e,n){e=+e,t=+t,n=+n;const i=e<t,o=i?Mo(e,t,n):Mo(t,e,n);return(i?-1:1)*(o<0?1/-o:o)}function f0(t){return t}var co=1,po=2,Eo=3,Dn=4,hs=1e-6;function c0(t){return"translate("+t+",0)"}function d0(t){return"translate(0,"+t+")"}function p0(t){return e=>+t(e)}function m0(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function h0(){return!this.__axis}function Ka(t,e){var n=[],i=null,o=null,r=6,l=6,a=3,s=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=t===co||t===Dn?-1:1,f=t===Dn||t===po?"x":"y",c=t===co||t===Eo?c0:d0;function p(h){var m=i??(e.ticks?e.ticks.apply(e,n):e.domain()),_=o??(e.tickFormat?e.tickFormat.apply(e,n):f0),g=Math.max(r,0)+a,k=e.range(),I=+k[0]+s,M=+k[k.length-1]+s,B=(e.bandwidth?m0:p0)(e.copy(),s),R=h.selection?h.selection():h,L=R.selectAll(".domain").data([null]),H=R.selectAll(".tick").data(m,e).order(),x=H.exit(),F=H.enter().append("g").attr("class","tick"),W=H.select("line"),S=H.select("text");L=L.merge(L.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),H=H.merge(F),W=W.merge(F.append("line").attr("stroke","currentColor").attr(f+"2",u*r)),S=S.merge(F.append("text").attr("fill","currentColor").attr(f,u*g).attr("dy",t===co?"0em":t===Eo?"0.71em":"0.32em")),h!==R&&(L=L.transition(h),H=H.transition(h),W=W.transition(h),S=S.transition(h),x=x.transition(h).attr("opacity",hs).attr("transform",function(d){return isFinite(d=B(d))?c(d+s):this.getAttribute("transform")}),F.attr("opacity",hs).attr("transform",function(d){var v=this.parentNode.__axis;return c((v&&isFinite(v=v(d))?v:B(d))+s)})),x.remove(),L.attr("d",t===Dn||t===po?l?"M"+u*l+","+I+"H"+s+"V"+M+"H"+u*l:"M"+s+","+I+"V"+M:l?"M"+I+","+u*l+"V"+s+"H"+M+"V"+u*l:"M"+I+","+s+"H"+M),H.attr("opacity",1).attr("transform",function(d){return c(B(d)+s)}),W.attr(f+"2",u*r),S.attr(f,u*g).text(_),R.filter(h0).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===po?"start":t===Dn?"end":"middle"),R.each(function(){this.__axis=B})}return p.scale=function(h){return arguments.length?(e=h,p):e},p.ticks=function(){return n=Array.from(arguments),p},p.tickArguments=function(h){return arguments.length?(n=h==null?[]:Array.from(h),p):n.slice()},p.tickValues=function(h){return arguments.length?(i=h==null?null:Array.from(h),p):i&&i.slice()},p.tickFormat=function(h){return arguments.length?(o=h,p):o},p.tickSize=function(h){return arguments.length?(r=l=+h,p):r},p.tickSizeInner=function(h){return arguments.length?(r=+h,p):r},p.tickSizeOuter=function(h){return arguments.length?(l=+h,p):l},p.tickPadding=function(h){return arguments.length?(a=+h,p):a},p.offset=function(h){return arguments.length?(s=+h,p):s},p}function _0(t){return Ka(Eo,t)}function g0(t){return Ka(Dn,t)}var b0={value:()=>{}};function Ua(){for(var t=0,e=arguments.length,n={},i;t<e;++t){if(!(i=arguments[t]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new gi(n)}function gi(t){this._=t}function v0(t,e){return t.trim().split(/^|\s+/).map(function(n){var i="",o=n.indexOf(".");if(o>=0&&(i=n.slice(o+1),n=n.slice(0,o)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}gi.prototype=Ua.prototype={constructor:gi,on:function(t,e){var n=this._,i=v0(t+"",n),o,r=-1,l=i.length;if(arguments.length<2){for(;++r<l;)if((o=(t=i[r]).type)&&(o=y0(n[o],t.name)))return o;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++r<l;)if(o=(t=i[r]).type)n[o]=_s(n[o],t.name,e);else if(e==null)for(o in n)n[o]=_s(n[o],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new gi(t)},call:function(t,e){if((o=arguments.length-2)>0)for(var n=new Array(o),i=0,o,r;i<o;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],o=0,r=i.length;o<r;++o)i[o].value.apply(e,n)}};function y0(t,e){for(var n=0,i=t.length,o;n<i;++n)if((o=t[n]).name===e)return o.value}function _s(t,e,n){for(var i=0,o=t.length;i<o;++i)if(t[i].name===e){t[i]=b0,t=t.slice(0,i).concat(t.slice(i+1));break}return n!=null&&t.push({name:e,value:n}),t}var Po="http://www.w3.org/1999/xhtml";const gs={svg:"http://www.w3.org/2000/svg",xhtml:Po,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Qi(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),gs.hasOwnProperty(e)?{space:gs[e],local:t}:t}function w0(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Po&&e.documentElement.namespaceURI===Po?e.createElement(t):e.createElementNS(n,t)}}function k0(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Ya(t){var e=Qi(t);return(e.local?k0:w0)(e)}function C0(){}function ir(t){return t==null?C0:function(){return this.querySelector(t)}}function S0(t){typeof t!="function"&&(t=ir(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var r=e[o],l=r.length,a=i[o]=new Array(l),s,u,f=0;f<l;++f)(s=r[f])&&(u=t.call(s,s.__data__,f,r))&&("__data__"in s&&(u.__data__=s.__data__),a[f]=u);return new at(i,this._parents)}function A0(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function T0(){return[]}function Ja(t){return t==null?T0:function(){return this.querySelectorAll(t)}}function I0(t){return function(){return A0(t.apply(this,arguments))}}function N0(t){typeof t=="function"?t=I0(t):t=Ja(t);for(var e=this._groups,n=e.length,i=[],o=[],r=0;r<n;++r)for(var l=e[r],a=l.length,s,u=0;u<a;++u)(s=l[u])&&(i.push(t.call(s,s.__data__,u,l)),o.push(s));return new at(i,o)}function Xa(t){return function(){return this.matches(t)}}function Za(t){return function(e){return e.matches(t)}}var M0=Array.prototype.find;function E0(t){return function(){return M0.call(this.children,t)}}function P0(){return this.firstElementChild}function O0(t){return this.select(t==null?P0:E0(typeof t=="function"?t:Za(t)))}var $0=Array.prototype.filter;function L0(){return Array.from(this.children)}function F0(t){return function(){return $0.call(this.children,t)}}function q0(t){return this.selectAll(t==null?L0:F0(typeof t=="function"?t:Za(t)))}function R0(t){typeof t!="function"&&(t=Xa(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var r=e[o],l=r.length,a=i[o]=[],s,u=0;u<l;++u)(s=r[u])&&t.call(s,s.__data__,u,r)&&a.push(s);return new at(i,this._parents)}function Qa(t){return new Array(t.length)}function D0(){return new at(this._enter||this._groups.map(Qa),this._parents)}function Di(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Di.prototype={constructor:Di,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function B0(t){return function(){return t}}function G0(t,e,n,i,o,r){for(var l=0,a,s=e.length,u=r.length;l<u;++l)(a=e[l])?(a.__data__=r[l],i[l]=a):n[l]=new Di(t,r[l]);for(;l<s;++l)(a=e[l])&&(o[l]=a)}function j0(t,e,n,i,o,r,l){var a,s,u=new Map,f=e.length,c=r.length,p=new Array(f),h;for(a=0;a<f;++a)(s=e[a])&&(p[a]=h=l.call(s,s.__data__,a,e)+"",u.has(h)?o[a]=s:u.set(h,s));for(a=0;a<c;++a)h=l.call(t,r[a],a,r)+"",(s=u.get(h))?(i[a]=s,s.__data__=r[a],u.delete(h)):n[a]=new Di(t,r[a]);for(a=0;a<f;++a)(s=e[a])&&u.get(p[a])===s&&(o[a]=s)}function H0(t){return t.__data__}function V0(t,e){if(!arguments.length)return Array.from(this,H0);var n=e?j0:G0,i=this._parents,o=this._groups;typeof t!="function"&&(t=B0(t));for(var r=o.length,l=new Array(r),a=new Array(r),s=new Array(r),u=0;u<r;++u){var f=i[u],c=o[u],p=c.length,h=W0(t.call(f,f&&f.__data__,u,i)),m=h.length,_=a[u]=new Array(m),g=l[u]=new Array(m),k=s[u]=new Array(p);n(f,c,_,g,k,h,e);for(var I=0,M=0,B,R;I<m;++I)if(B=_[I]){for(I>=M&&(M=I+1);!(R=g[M])&&++M<m;);B._next=R||null}}return l=new at(l,i),l._enter=a,l._exit=s,l}function W0(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function K0(){return new at(this._exit||this._groups.map(Qa),this._parents)}function U0(t,e,n){var i=this.enter(),o=this,r=this.exit();return typeof t=="function"?(i=t(i),i&&(i=i.selection())):i=i.append(t+""),e!=null&&(o=e(o),o&&(o=o.selection())),n==null?r.remove():n(r),i&&o?i.merge(o).order():o}function Y0(t){for(var e=t.selection?t.selection():t,n=this._groups,i=e._groups,o=n.length,r=i.length,l=Math.min(o,r),a=new Array(o),s=0;s<l;++s)for(var u=n[s],f=i[s],c=u.length,p=a[s]=new Array(c),h,m=0;m<c;++m)(h=u[m]||f[m])&&(p[m]=h);for(;s<o;++s)a[s]=n[s];return new at(a,this._parents)}function J0(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i=t[e],o=i.length-1,r=i[o],l;--o>=0;)(l=i[o])&&(r&&l.compareDocumentPosition(r)^4&&r.parentNode.insertBefore(l,r),r=l);return this}function X0(t){t||(t=Z0);function e(c,p){return c&&p?t(c.__data__,p.__data__):!c-!p}for(var n=this._groups,i=n.length,o=new Array(i),r=0;r<i;++r){for(var l=n[r],a=l.length,s=o[r]=new Array(a),u,f=0;f<a;++f)(u=l[f])&&(s[f]=u);s.sort(e)}return new at(o,this._parents).order()}function Z0(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Q0(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function x0(){return Array.from(this)}function z0(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],o=0,r=i.length;o<r;++o){var l=i[o];if(l)return l}return null}function eb(){let t=0;for(const e of this)++t;return t}function tb(){return!this.node()}function nb(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var o=e[n],r=0,l=o.length,a;r<l;++r)(a=o[r])&&t.call(a,a.__data__,r,o);return this}function ib(t){return function(){this.removeAttribute(t)}}function ob(t){return function(){this.removeAttributeNS(t.space,t.local)}}function rb(t,e){return function(){this.setAttribute(t,e)}}function lb(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function sb(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function ab(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function ub(t,e){var n=Qi(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((e==null?n.local?ob:ib:typeof e=="function"?n.local?ab:sb:n.local?lb:rb)(n,e))}function xa(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function fb(t){return function(){this.style.removeProperty(t)}}function cb(t,e,n){return function(){this.style.setProperty(t,e,n)}}function db(t,e,n){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function pb(t,e,n){return arguments.length>1?this.each((e==null?fb:typeof e=="function"?db:cb)(t,e,n??"")):Sn(this.node(),t)}function Sn(t,e){return t.style.getPropertyValue(e)||xa(t).getComputedStyle(t,null).getPropertyValue(e)}function mb(t){return function(){delete this[t]}}function hb(t,e){return function(){this[t]=e}}function _b(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function gb(t,e){return arguments.length>1?this.each((e==null?mb:typeof e=="function"?_b:hb)(t,e)):this.node()[t]}function za(t){return t.trim().split(/^|\s+/)}function or(t){return t.classList||new eu(t)}function eu(t){this._node=t,this._names=za(t.getAttribute("class")||"")}eu.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function tu(t,e){for(var n=or(t),i=-1,o=e.length;++i<o;)n.add(e[i])}function nu(t,e){for(var n=or(t),i=-1,o=e.length;++i<o;)n.remove(e[i])}function bb(t){return function(){tu(this,t)}}function vb(t){return function(){nu(this,t)}}function yb(t,e){return function(){(e.apply(this,arguments)?tu:nu)(this,t)}}function wb(t,e){var n=za(t+"");if(arguments.length<2){for(var i=or(this.node()),o=-1,r=n.length;++o<r;)if(!i.contains(n[o]))return!1;return!0}return this.each((typeof e=="function"?yb:e?bb:vb)(n,e))}function kb(){this.textContent=""}function Cb(t){return function(){this.textContent=t}}function Sb(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Ab(t){return arguments.length?this.each(t==null?kb:(typeof t=="function"?Sb:Cb)(t)):this.node().textContent}function Tb(){this.innerHTML=""}function Ib(t){return function(){this.innerHTML=t}}function Nb(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Mb(t){return arguments.length?this.each(t==null?Tb:(typeof t=="function"?Nb:Ib)(t)):this.node().innerHTML}function Eb(){this.nextSibling&&this.parentNode.appendChild(this)}function Pb(){return this.each(Eb)}function Ob(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function $b(){return this.each(Ob)}function Lb(t){var e=typeof t=="function"?t:Ya(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Fb(){return null}function qb(t,e){var n=typeof t=="function"?t:Ya(t),i=e==null?Fb:typeof e=="function"?e:ir(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function Rb(){var t=this.parentNode;t&&t.removeChild(this)}function Db(){return this.each(Rb)}function Bb(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Gb(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function jb(t){return this.select(t?Gb:Bb)}function Hb(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Vb(t){return function(e){t.call(this,e,this.__data__)}}function Wb(t){return t.trim().split(/^|\s+/).map(function(e){var n="",i=e.indexOf(".");return i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),{type:e,name:n}})}function Kb(t){return function(){var e=this.__on;if(e){for(var n=0,i=-1,o=e.length,r;n<o;++n)r=e[n],(!t.type||r.type===t.type)&&r.name===t.name?this.removeEventListener(r.type,r.listener,r.options):e[++i]=r;++i?e.length=i:delete this.__on}}}function Ub(t,e,n){return function(){var i=this.__on,o,r=Vb(e);if(i){for(var l=0,a=i.length;l<a;++l)if((o=i[l]).type===t.type&&o.name===t.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=r,o.options=n),o.value=e;return}}this.addEventListener(t.type,r,n),o={type:t.type,name:t.name,value:e,listener:r,options:n},i?i.push(o):this.__on=[o]}}function Yb(t,e,n){var i=Wb(t+""),o,r=i.length,l;if(arguments.length<2){var a=this.node().__on;if(a){for(var s=0,u=a.length,f;s<u;++s)for(o=0,f=a[s];o<r;++o)if((l=i[o]).type===f.type&&l.name===f.name)return f.value}return}for(a=e?Ub:Kb,o=0;o<r;++o)this.each(a(i[o],e,n));return this}function iu(t,e,n){var i=xa(t),o=i.CustomEvent;typeof o=="function"?o=new o(e,n):(o=i.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function Jb(t,e){return function(){return iu(this,t,e)}}function Xb(t,e){return function(){return iu(this,t,e.apply(this,arguments))}}function Zb(t,e){return this.each((typeof e=="function"?Xb:Jb)(t,e))}function*Qb(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],o=0,r=i.length,l;o<r;++o)(l=i[o])&&(yield l)}var ou=[null];function at(t,e){this._groups=t,this._parents=e}function ni(){return new at([[document.documentElement]],ou)}function xb(){return this}at.prototype=ni.prototype={constructor:at,select:S0,selectAll:N0,selectChild:O0,selectChildren:q0,filter:R0,data:V0,enter:D0,exit:K0,join:U0,merge:Y0,selection:xb,order:J0,sort:X0,call:Q0,nodes:x0,node:z0,size:eb,empty:tb,each:nb,attr:ub,style:pb,property:gb,classed:wb,text:Ab,html:Mb,raise:Pb,lower:$b,append:Lb,insert:qb,remove:Db,clone:jb,datum:Hb,on:Yb,dispatch:Zb,[Symbol.iterator]:Qb};function zb(t){return typeof t=="string"?new at([[document.querySelector(t)]],[document.documentElement]):new at([[t]],ou)}function rr(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function ru(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function ii(){}var Xn=.7,Bi=1/Xn,yn="\\s*([+-]?\\d+)\\s*",Zn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",vt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",e1=/^#([0-9a-f]{3,8})$/,t1=new RegExp(`^rgb\\(${yn},${yn},${yn}\\)$`),n1=new RegExp(`^rgb\\(${vt},${vt},${vt}\\)$`),i1=new RegExp(`^rgba\\(${yn},${yn},${yn},${Zn}\\)$`),o1=new RegExp(`^rgba\\(${vt},${vt},${vt},${Zn}\\)$`),r1=new RegExp(`^hsl\\(${Zn},${vt},${vt}\\)$`),l1=new RegExp(`^hsla\\(${Zn},${vt},${vt},${Zn}\\)$`),bs={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};rr(ii,xt,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:vs,formatHex:vs,formatHex8:s1,formatHsl:a1,formatRgb:ys,toString:ys});function vs(){return this.rgb().formatHex()}function s1(){return this.rgb().formatHex8()}function a1(){return lu(this).formatHsl()}function ys(){return this.rgb().formatRgb()}function xt(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=e1.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?ws(e):n===3?new lt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?ai(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?ai(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=t1.exec(t))?new lt(e[1],e[2],e[3],1):(e=n1.exec(t))?new lt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=i1.exec(t))?ai(e[1],e[2],e[3],e[4]):(e=o1.exec(t))?ai(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=r1.exec(t))?Ss(e[1],e[2]/100,e[3]/100,1):(e=l1.exec(t))?Ss(e[1],e[2]/100,e[3]/100,e[4]):bs.hasOwnProperty(t)?ws(bs[t]):t==="transparent"?new lt(NaN,NaN,NaN,0):null}function ws(t){return new lt(t>>16&255,t>>8&255,t&255,1)}function ai(t,e,n,i){return i<=0&&(t=e=n=NaN),new lt(t,e,n,i)}function u1(t){return t instanceof ii||(t=xt(t)),t?(t=t.rgb(),new lt(t.r,t.g,t.b,t.opacity)):new lt}function Oo(t,e,n,i){return arguments.length===1?u1(t):new lt(t,e,n,i??1)}function lt(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}rr(lt,Oo,ru(ii,{brighter(t){return t=t==null?Bi:Math.pow(Bi,t),new lt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Xn:Math.pow(Xn,t),new lt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new lt(Zt(this.r),Zt(this.g),Zt(this.b),Gi(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ks,formatHex:ks,formatHex8:f1,formatRgb:Cs,toString:Cs}));function ks(){return`#${Ut(this.r)}${Ut(this.g)}${Ut(this.b)}`}function f1(){return`#${Ut(this.r)}${Ut(this.g)}${Ut(this.b)}${Ut((isNaN(this.opacity)?1:this.opacity)*255)}`}function Cs(){const t=Gi(this.opacity);return`${t===1?"rgb(":"rgba("}${Zt(this.r)}, ${Zt(this.g)}, ${Zt(this.b)}${t===1?")":`, ${t})`}`}function Gi(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Zt(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ut(t){return t=Zt(t),(t<16?"0":"")+t.toString(16)}function Ss(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new mt(t,e,n,i)}function lu(t){if(t instanceof mt)return new mt(t.h,t.s,t.l,t.opacity);if(t instanceof ii||(t=xt(t)),!t)return new mt;if(t instanceof mt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,o=Math.min(e,n,i),r=Math.max(e,n,i),l=NaN,a=r-o,s=(r+o)/2;return a?(e===r?l=(n-i)/a+(n<i)*6:n===r?l=(i-e)/a+2:l=(e-n)/a+4,a/=s<.5?r+o:2-r-o,l*=60):a=s>0&&s<1?0:l,new mt(l,a,s,t.opacity)}function c1(t,e,n,i){return arguments.length===1?lu(t):new mt(t,e,n,i??1)}function mt(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}rr(mt,c1,ru(ii,{brighter(t){return t=t==null?Bi:Math.pow(Bi,t),new mt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Xn:Math.pow(Xn,t),new mt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,o=2*n-i;return new lt(mo(t>=240?t-240:t+120,o,i),mo(t,o,i),mo(t<120?t+240:t-120,o,i),this.opacity)},clamp(){return new mt(As(this.h),ui(this.s),ui(this.l),Gi(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Gi(this.opacity);return`${t===1?"hsl(":"hsla("}${As(this.h)}, ${ui(this.s)*100}%, ${ui(this.l)*100}%${t===1?")":`, ${t})`}`}}));function As(t){return t=(t||0)%360,t<0?t+360:t}function ui(t){return Math.max(0,Math.min(1,t||0))}function mo(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const lr=t=>()=>t;function d1(t,e){return function(n){return t+n*e}}function p1(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function m1(t){return(t=+t)==1?su:function(e,n){return n-e?p1(e,n,t):lr(isNaN(e)?n:e)}}function su(t,e){var n=e-t;return n?d1(t,n):lr(isNaN(t)?e:t)}const ji=function t(e){var n=m1(e);function i(o,r){var l=n((o=Oo(o)).r,(r=Oo(r)).r),a=n(o.g,r.g),s=n(o.b,r.b),u=su(o.opacity,r.opacity);return function(f){return o.r=l(f),o.g=a(f),o.b=s(f),o.opacity=u(f),o+""}}return i.gamma=t,i}(1);function h1(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,i=e.slice(),o;return function(r){for(o=0;o<n;++o)i[o]=t[o]*(1-r)+e[o]*r;return i}}function _1(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function g1(t,e){var n=e?e.length:0,i=t?Math.min(n,t.length):0,o=new Array(i),r=new Array(n),l;for(l=0;l<i;++l)o[l]=sr(t[l],e[l]);for(;l<n;++l)r[l]=e[l];return function(a){for(l=0;l<i;++l)r[l]=o[l](a);return r}}function b1(t,e){var n=new Date;return t=+t,e=+e,function(i){return n.setTime(t*(1-i)+e*i),n}}function pt(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function v1(t,e){var n={},i={},o;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(o in e)o in t?n[o]=sr(t[o],e[o]):i[o]=e[o];return function(r){for(o in n)i[o]=n[o](r);return i}}var $o=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ho=new RegExp($o.source,"g");function y1(t){return function(){return t}}function w1(t){return function(e){return t(e)+""}}function au(t,e){var n=$o.lastIndex=ho.lastIndex=0,i,o,r,l=-1,a=[],s=[];for(t=t+"",e=e+"";(i=$o.exec(t))&&(o=ho.exec(e));)(r=o.index)>n&&(r=e.slice(n,r),a[l]?a[l]+=r:a[++l]=r),(i=i[0])===(o=o[0])?a[l]?a[l]+=o:a[++l]=o:(a[++l]=null,s.push({i:l,x:pt(i,o)})),n=ho.lastIndex;return n<e.length&&(r=e.slice(n),a[l]?a[l]+=r:a[++l]=r),a.length<2?s[0]?w1(s[0].x):y1(e):(e=s.length,function(u){for(var f=0,c;f<e;++f)a[(c=s[f]).i]=c.x(u);return a.join("")})}function sr(t,e){var n=typeof e,i;return e==null||n==="boolean"?lr(e):(n==="number"?pt:n==="string"?(i=xt(e))?(e=i,ji):au:e instanceof xt?ji:e instanceof Date?b1:_1(e)?h1:Array.isArray(e)?g1:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?v1:pt)(t,e)}function k1(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var Ts=180/Math.PI,Lo={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function uu(t,e,n,i,o,r){var l,a,s;return(l=Math.sqrt(t*t+e*e))&&(t/=l,e/=l),(s=t*n+e*i)&&(n-=t*s,i-=e*s),(a=Math.sqrt(n*n+i*i))&&(n/=a,i/=a,s/=a),t*i<e*n&&(t=-t,e=-e,s=-s,l=-l),{translateX:o,translateY:r,rotate:Math.atan2(e,t)*Ts,skewX:Math.atan(s)*Ts,scaleX:l,scaleY:a}}var fi;function C1(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Lo:uu(e.a,e.b,e.c,e.d,e.e,e.f)}function S1(t){return t==null||(fi||(fi=document.createElementNS("http://www.w3.org/2000/svg","g")),fi.setAttribute("transform",t),!(t=fi.transform.baseVal.consolidate()))?Lo:(t=t.matrix,uu(t.a,t.b,t.c,t.d,t.e,t.f))}function fu(t,e,n,i){function o(u){return u.length?u.pop()+" ":""}function r(u,f,c,p,h,m){if(u!==c||f!==p){var _=h.push("translate(",null,e,null,n);m.push({i:_-4,x:pt(u,c)},{i:_-2,x:pt(f,p)})}else(c||p)&&h.push("translate("+c+e+p+n)}function l(u,f,c,p){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),p.push({i:c.push(o(c)+"rotate(",null,i)-2,x:pt(u,f)})):f&&c.push(o(c)+"rotate("+f+i)}function a(u,f,c,p){u!==f?p.push({i:c.push(o(c)+"skewX(",null,i)-2,x:pt(u,f)}):f&&c.push(o(c)+"skewX("+f+i)}function s(u,f,c,p,h,m){if(u!==c||f!==p){var _=h.push(o(h)+"scale(",null,",",null,")");m.push({i:_-4,x:pt(u,c)},{i:_-2,x:pt(f,p)})}else(c!==1||p!==1)&&h.push(o(h)+"scale("+c+","+p+")")}return function(u,f){var c=[],p=[];return u=t(u),f=t(f),r(u.translateX,u.translateY,f.translateX,f.translateY,c,p),l(u.rotate,f.rotate,c,p),a(u.skewX,f.skewX,c,p),s(u.scaleX,u.scaleY,f.scaleX,f.scaleY,c,p),u=f=null,function(h){for(var m=-1,_=p.length,g;++m<_;)c[(g=p[m]).i]=g.x(h);return c.join("")}}}var A1=fu(C1,"px, ","px)","deg)"),T1=fu(S1,", ",")",")"),An=0,Bn=0,Fn=0,cu=1e3,Hi,Gn,Vi=0,zt=0,xi=0,Qn=typeof performance=="object"&&performance.now?performance:Date,du=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function ar(){return zt||(du(I1),zt=Qn.now()+xi)}function I1(){zt=0}function Wi(){this._call=this._time=this._next=null}Wi.prototype=pu.prototype={constructor:Wi,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?ar():+n)+(e==null?0:+e),!this._next&&Gn!==this&&(Gn?Gn._next=this:Hi=this,Gn=this),this._call=t,this._time=n,Fo()},stop:function(){this._call&&(this._call=null,this._time=1/0,Fo())}};function pu(t,e,n){var i=new Wi;return i.restart(t,e,n),i}function N1(){ar(),++An;for(var t=Hi,e;t;)(e=zt-t._time)>=0&&t._call.call(void 0,e),t=t._next;--An}function Is(){zt=(Vi=Qn.now())+xi,An=Bn=0;try{N1()}finally{An=0,E1(),zt=0}}function M1(){var t=Qn.now(),e=t-Vi;e>cu&&(xi-=e,Vi=t)}function E1(){for(var t,e=Hi,n,i=1/0;e;)e._call?(i>e._time&&(i=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Hi=n);Gn=t,Fo(i)}function Fo(t){if(!An){Bn&&(Bn=clearTimeout(Bn));var e=t-zt;e>24?(t<1/0&&(Bn=setTimeout(Is,t-Qn.now()-xi)),Fn&&(Fn=clearInterval(Fn))):(Fn||(Vi=Qn.now(),Fn=setInterval(M1,cu)),An=1,du(Is))}}function Ns(t,e,n){var i=new Wi;return e=e==null?0:+e,i.restart(o=>{i.stop(),t(o+e)},e,n),i}var P1=Ua("start","end","cancel","interrupt"),O1=[],mu=0,Ms=1,qo=2,bi=3,Es=4,Ro=5,vi=6;function zi(t,e,n,i,o,r){var l=t.__transition;if(!l)t.__transition={};else if(n in l)return;$1(t,n,{name:e,index:i,group:o,on:P1,tween:O1,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:mu})}function ur(t,e){var n=_t(t,e);if(n.state>mu)throw new Error("too late; already scheduled");return n}function wt(t,e){var n=_t(t,e);if(n.state>bi)throw new Error("too late; already running");return n}function _t(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function $1(t,e,n){var i=t.__transition,o;i[e]=n,n.timer=pu(r,0,n.time);function r(u){n.state=Ms,n.timer.restart(l,n.delay,n.time),n.delay<=u&&l(u-n.delay)}function l(u){var f,c,p,h;if(n.state!==Ms)return s();for(f in i)if(h=i[f],h.name===n.name){if(h.state===bi)return Ns(l);h.state===Es?(h.state=vi,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[f]):+f<e&&(h.state=vi,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[f])}if(Ns(function(){n.state===bi&&(n.state=Es,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=qo,n.on.call("start",t,t.__data__,n.index,n.group),n.state===qo){for(n.state=bi,o=new Array(p=n.tween.length),f=0,c=-1;f<p;++f)(h=n.tween[f].value.call(t,t.__data__,n.index,n.group))&&(o[++c]=h);o.length=c+1}}function a(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(s),n.state=Ro,1),c=-1,p=o.length;++c<p;)o[c].call(t,f);n.state===Ro&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){n.state=vi,n.timer.stop(),delete i[e];for(var u in i)return;delete t.__transition}}function L1(t,e){var n=t.__transition,i,o,r=!0,l;if(n){e=e==null?null:e+"";for(l in n){if((i=n[l]).name!==e){r=!1;continue}o=i.state>qo&&i.state<Ro,i.state=vi,i.timer.stop(),i.on.call(o?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete n[l]}r&&delete t.__transition}}function F1(t){return this.each(function(){L1(this,t)})}function q1(t,e){var n,i;return function(){var o=wt(this,t),r=o.tween;if(r!==n){i=n=r;for(var l=0,a=i.length;l<a;++l)if(i[l].name===e){i=i.slice(),i.splice(l,1);break}}o.tween=i}}function R1(t,e,n){var i,o;if(typeof n!="function")throw new Error;return function(){var r=wt(this,t),l=r.tween;if(l!==i){o=(i=l).slice();for(var a={name:e,value:n},s=0,u=o.length;s<u;++s)if(o[s].name===e){o[s]=a;break}s===u&&o.push(a)}r.tween=o}}function D1(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i=_t(this.node(),n).tween,o=0,r=i.length,l;o<r;++o)if((l=i[o]).name===t)return l.value;return null}return this.each((e==null?q1:R1)(n,t,e))}function fr(t,e,n){var i=t._id;return t.each(function(){var o=wt(this,i);(o.value||(o.value={}))[e]=n.apply(this,arguments)}),function(o){return _t(o,i).value[e]}}function hu(t,e){var n;return(typeof e=="number"?pt:e instanceof xt?ji:(n=xt(e))?(e=n,ji):au)(t,e)}function B1(t){return function(){this.removeAttribute(t)}}function G1(t){return function(){this.removeAttributeNS(t.space,t.local)}}function j1(t,e,n){var i,o=n+"",r;return function(){var l=this.getAttribute(t);return l===o?null:l===i?r:r=e(i=l,n)}}function H1(t,e,n){var i,o=n+"",r;return function(){var l=this.getAttributeNS(t.space,t.local);return l===o?null:l===i?r:r=e(i=l,n)}}function V1(t,e,n){var i,o,r;return function(){var l,a=n(this),s;return a==null?void this.removeAttribute(t):(l=this.getAttribute(t),s=a+"",l===s?null:l===i&&s===o?r:(o=s,r=e(i=l,a)))}}function W1(t,e,n){var i,o,r;return function(){var l,a=n(this),s;return a==null?void this.removeAttributeNS(t.space,t.local):(l=this.getAttributeNS(t.space,t.local),s=a+"",l===s?null:l===i&&s===o?r:(o=s,r=e(i=l,a)))}}function K1(t,e){var n=Qi(t),i=n==="transform"?T1:hu;return this.attrTween(t,typeof e=="function"?(n.local?W1:V1)(n,i,fr(this,"attr."+t,e)):e==null?(n.local?G1:B1)(n):(n.local?H1:j1)(n,i,e))}function U1(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Y1(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function J1(t,e){var n,i;function o(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&Y1(t,r)),n}return o._value=e,o}function X1(t,e){var n,i;function o(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&U1(t,r)),n}return o._value=e,o}function Z1(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var i=Qi(t);return this.tween(n,(i.local?J1:X1)(i,e))}function Q1(t,e){return function(){ur(this,t).delay=+e.apply(this,arguments)}}function x1(t,e){return e=+e,function(){ur(this,t).delay=e}}function z1(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Q1:x1)(e,t)):_t(this.node(),e).delay}function ev(t,e){return function(){wt(this,t).duration=+e.apply(this,arguments)}}function tv(t,e){return e=+e,function(){wt(this,t).duration=e}}function nv(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?ev:tv)(e,t)):_t(this.node(),e).duration}function iv(t,e){if(typeof e!="function")throw new Error;return function(){wt(this,t).ease=e}}function ov(t){var e=this._id;return arguments.length?this.each(iv(e,t)):_t(this.node(),e).ease}function rv(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;wt(this,t).ease=n}}function lv(t){if(typeof t!="function")throw new Error;return this.each(rv(this._id,t))}function sv(t){typeof t!="function"&&(t=Xa(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var r=e[o],l=r.length,a=i[o]=[],s,u=0;u<l;++u)(s=r[u])&&t.call(s,s.__data__,u,r)&&a.push(s);return new Nt(i,this._parents,this._name,this._id)}function av(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,o=n.length,r=Math.min(i,o),l=new Array(i),a=0;a<r;++a)for(var s=e[a],u=n[a],f=s.length,c=l[a]=new Array(f),p,h=0;h<f;++h)(p=s[h]||u[h])&&(c[h]=p);for(;a<i;++a)l[a]=e[a];return new Nt(l,this._parents,this._name,this._id)}function uv(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function fv(t,e,n){var i,o,r=uv(e)?ur:wt;return function(){var l=r(this,t),a=l.on;a!==i&&(o=(i=a).copy()).on(e,n),l.on=o}}function cv(t,e){var n=this._id;return arguments.length<2?_t(this.node(),n).on.on(t):this.each(fv(n,t,e))}function dv(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function pv(){return this.on("end.remove",dv(this._id))}function mv(t){var e=this._name,n=this._id;typeof t!="function"&&(t=ir(t));for(var i=this._groups,o=i.length,r=new Array(o),l=0;l<o;++l)for(var a=i[l],s=a.length,u=r[l]=new Array(s),f,c,p=0;p<s;++p)(f=a[p])&&(c=t.call(f,f.__data__,p,a))&&("__data__"in f&&(c.__data__=f.__data__),u[p]=c,zi(u[p],e,n,p,u,_t(f,n)));return new Nt(r,this._parents,e,n)}function hv(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Ja(t));for(var i=this._groups,o=i.length,r=[],l=[],a=0;a<o;++a)for(var s=i[a],u=s.length,f,c=0;c<u;++c)if(f=s[c]){for(var p=t.call(f,f.__data__,c,s),h,m=_t(f,n),_=0,g=p.length;_<g;++_)(h=p[_])&&zi(h,e,n,_,p,m);r.push(p),l.push(f)}return new Nt(r,l,e,n)}var _v=ni.prototype.constructor;function gv(){return new _v(this._groups,this._parents)}function bv(t,e){var n,i,o;return function(){var r=Sn(this,t),l=(this.style.removeProperty(t),Sn(this,t));return r===l?null:r===n&&l===i?o:o=e(n=r,i=l)}}function _u(t){return function(){this.style.removeProperty(t)}}function vv(t,e,n){var i,o=n+"",r;return function(){var l=Sn(this,t);return l===o?null:l===i?r:r=e(i=l,n)}}function yv(t,e,n){var i,o,r;return function(){var l=Sn(this,t),a=n(this),s=a+"";return a==null&&(s=a=(this.style.removeProperty(t),Sn(this,t))),l===s?null:l===i&&s===o?r:(o=s,r=e(i=l,a))}}function wv(t,e){var n,i,o,r="style."+e,l="end."+r,a;return function(){var s=wt(this,t),u=s.on,f=s.value[r]==null?a||(a=_u(e)):void 0;(u!==n||o!==f)&&(i=(n=u).copy()).on(l,o=f),s.on=i}}function kv(t,e,n){var i=(t+="")=="transform"?A1:hu;return e==null?this.styleTween(t,bv(t,i)).on("end.style."+t,_u(t)):typeof e=="function"?this.styleTween(t,yv(t,i,fr(this,"style."+t,e))).each(wv(this._id,t)):this.styleTween(t,vv(t,i,e),n).on("end.style."+t,null)}function Cv(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}function Sv(t,e,n){var i,o;function r(){var l=e.apply(this,arguments);return l!==o&&(i=(o=l)&&Cv(t,l,n)),i}return r._value=e,r}function Av(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,Sv(t,e,n??""))}function Tv(t){return function(){this.textContent=t}}function Iv(t){return function(){var e=t(this);this.textContent=e??""}}function Nv(t){return this.tween("text",typeof t=="function"?Iv(fr(this,"text",t)):Tv(t==null?"":t+""))}function Mv(t){return function(e){this.textContent=t.call(this,e)}}function Ev(t){var e,n;function i(){var o=t.apply(this,arguments);return o!==n&&(e=(n=o)&&Mv(o)),e}return i._value=t,i}function Pv(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Ev(t))}function Ov(){for(var t=this._name,e=this._id,n=gu(),i=this._groups,o=i.length,r=0;r<o;++r)for(var l=i[r],a=l.length,s,u=0;u<a;++u)if(s=l[u]){var f=_t(s,e);zi(s,t,n,u,l,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new Nt(i,this._parents,t,n)}function $v(){var t,e,n=this,i=n._id,o=n.size();return new Promise(function(r,l){var a={value:l},s={value:function(){--o===0&&r()}};n.each(function(){var u=wt(this,i),f=u.on;f!==t&&(e=(t=f).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(s)),u.on=e}),o===0&&r()})}var Lv=0;function Nt(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function gu(){return++Lv}var Ct=ni.prototype;Nt.prototype={constructor:Nt,select:mv,selectAll:hv,selectChild:Ct.selectChild,selectChildren:Ct.selectChildren,filter:sv,merge:av,selection:gv,transition:Ov,call:Ct.call,nodes:Ct.nodes,node:Ct.node,size:Ct.size,empty:Ct.empty,each:Ct.each,on:cv,attr:K1,attrTween:Z1,style:kv,styleTween:Av,text:Nv,textTween:Pv,remove:pv,tween:D1,delay:z1,duration:nv,ease:ov,easeVarying:lv,end:$v,[Symbol.iterator]:Ct[Symbol.iterator]};function Fv(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var qv={time:null,delay:0,duration:250,ease:Fv};function Rv(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Dv(t){var e,n;t instanceof Nt?(e=t._id,t=t._name):(e=gu(),(n=qv).time=ar(),t=t==null?null:t+"");for(var i=this._groups,o=i.length,r=0;r<o;++r)for(var l=i[r],a=l.length,s,u=0;u<a;++u)(s=l[u])&&zi(s,t,e,u,l,n||Rv(s,e));return new Nt(i,this._parents,t,e)}ni.prototype.interrupt=F1;ni.prototype.transition=Dv;const Do=Math.PI,Bo=2*Do,Vt=1e-6,Bv=Bo-Vt;function bu(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Gv(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return bu;const n=10**e;return function(i){this._+=i[0];for(let o=1,r=i.length;o<r;++o)this._+=Math.round(arguments[o]*n)/n+i[o]}}class jv{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?bu:Gv(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,i,o){this._append`Q${+e},${+n},${this._x1=+i},${this._y1=+o}`}bezierCurveTo(e,n,i,o,r,l){this._append`C${+e},${+n},${+i},${+o},${this._x1=+r},${this._y1=+l}`}arcTo(e,n,i,o,r){if(e=+e,n=+n,i=+i,o=+o,r=+r,r<0)throw new Error(`negative radius: ${r}`);let l=this._x1,a=this._y1,s=i-e,u=o-n,f=l-e,c=a-n,p=f*f+c*c;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(p>Vt)if(!(Math.abs(c*s-u*f)>Vt)||!r)this._append`L${this._x1=e},${this._y1=n}`;else{let h=i-l,m=o-a,_=s*s+u*u,g=h*h+m*m,k=Math.sqrt(_),I=Math.sqrt(p),M=r*Math.tan((Do-Math.acos((_+p-g)/(2*k*I)))/2),B=M/I,R=M/k;Math.abs(B-1)>Vt&&this._append`L${e+B*f},${n+B*c}`,this._append`A${r},${r},0,0,${+(c*h>f*m)},${this._x1=e+R*s},${this._y1=n+R*u}`}}arc(e,n,i,o,r,l){if(e=+e,n=+n,i=+i,l=!!l,i<0)throw new Error(`negative radius: ${i}`);let a=i*Math.cos(o),s=i*Math.sin(o),u=e+a,f=n+s,c=1^l,p=l?o-r:r-o;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>Vt||Math.abs(this._y1-f)>Vt)&&this._append`L${u},${f}`,i&&(p<0&&(p=p%Bo+Bo),p>Bv?this._append`A${i},${i},0,1,${c},${e-a},${n-s}A${i},${i},0,1,${c},${this._x1=u},${this._y1=f}`:p>Vt&&this._append`A${i},${i},0,${+(p>=Do)},${c},${this._x1=e+i*Math.cos(r)},${this._y1=n+i*Math.sin(r)}`)}rect(e,n,i,o){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${i=+i}v${+o}h${-i}Z`}toString(){return this._}}function Hv(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Ki(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]}function Tn(t){return t=Ki(Math.abs(t)),t?t[1]:NaN}function Vv(t,e){return function(n,i){for(var o=n.length,r=[],l=0,a=t[0],s=0;o>0&&a>0&&(s+a+1>i&&(a=Math.max(1,i-s)),r.push(n.substring(o-=a,o+a)),!((s+=a+1)>i));)a=t[l=(l+1)%t.length];return r.reverse().join(e)}}function Wv(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Kv=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ui(t){if(!(e=Kv.exec(t)))throw new Error("invalid format: "+t);var e;return new cr({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Ui.prototype=cr.prototype;function cr(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}cr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Uv(t){e:for(var e=t.length,n=1,i=-1,o;n<e;++n)switch(t[n]){case".":i=o=n;break;case"0":i===0&&(i=n),o=n;break;default:if(!+t[n])break e;i>0&&(i=0);break}return i>0?t.slice(0,i)+t.slice(o+1):t}var vu;function Yv(t,e){var n=Ki(t,e);if(!n)return t+"";var i=n[0],o=n[1],r=o-(vu=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,l=i.length;return r===l?i:r>l?i+new Array(r-l+1).join("0"):r>0?i.slice(0,r)+"."+i.slice(r):"0."+new Array(1-r).join("0")+Ki(t,Math.max(0,e+r-1))[0]}function Ps(t,e){var n=Ki(t,e);if(!n)return t+"";var i=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+i:i.length>o+1?i.slice(0,o+1)+"."+i.slice(o+1):i+new Array(o-i.length+2).join("0")}const Os={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Hv,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Ps(t*100,e),r:Ps,s:Yv,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function $s(t){return t}var Ls=Array.prototype.map,Fs=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Jv(t){var e=t.grouping===void 0||t.thousands===void 0?$s:Vv(Ls.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",i=t.currency===void 0?"":t.currency[1]+"",o=t.decimal===void 0?".":t.decimal+"",r=t.numerals===void 0?$s:Wv(Ls.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"−":t.minus+"",s=t.nan===void 0?"NaN":t.nan+"";function u(c){c=Ui(c);var p=c.fill,h=c.align,m=c.sign,_=c.symbol,g=c.zero,k=c.width,I=c.comma,M=c.precision,B=c.trim,R=c.type;R==="n"?(I=!0,R="g"):Os[R]||(M===void 0&&(M=12),B=!0,R="g"),(g||p==="0"&&h==="=")&&(g=!0,p="0",h="=");var L=_==="$"?n:_==="#"&&/[boxX]/.test(R)?"0"+R.toLowerCase():"",H=_==="$"?i:/[%p]/.test(R)?l:"",x=Os[R],F=/[defgprs%]/.test(R);M=M===void 0?6:/[gprs]/.test(R)?Math.max(1,Math.min(21,M)):Math.max(0,Math.min(20,M));function W(S){var d=L,v=H,b,$,N;if(R==="c")v=x(S)+v,S="";else{S=+S;var q=S<0||1/S<0;if(S=isNaN(S)?s:x(Math.abs(S),M),B&&(S=Uv(S)),q&&+S==0&&m!=="+"&&(q=!1),d=(q?m==="("?m:a:m==="-"||m==="("?"":m)+d,v=(R==="s"?Fs[8+vu/3]:"")+v+(q&&m==="("?")":""),F){for(b=-1,$=S.length;++b<$;)if(N=S.charCodeAt(b),48>N||N>57){v=(N===46?o+S.slice(b+1):S.slice(b))+v,S=S.slice(0,b);break}}}I&&!g&&(S=e(S,1/0));var j=d.length+S.length+v.length,U=j<k?new Array(k-j+1).join(p):"";switch(I&&g&&(S=e(U+S,U.length?k-v.length:1/0),U=""),h){case"<":S=d+S+v+U;break;case"=":S=d+U+S+v;break;case"^":S=U.slice(0,j=U.length>>1)+d+S+v+U.slice(j);break;default:S=U+d+S+v;break}return r(S)}return W.toString=function(){return c+""},W}function f(c,p){var h=u((c=Ui(c),c.type="f",c)),m=Math.max(-8,Math.min(8,Math.floor(Tn(p)/3)))*3,_=Math.pow(10,-m),g=Fs[8+m/3];return function(k){return h(_*k)+g}}return{format:u,formatPrefix:f}}var ci,yu,wu;Xv({thousands:",",grouping:[3],currency:["$",""]});function Xv(t){return ci=Jv(t),yu=ci.format,wu=ci.formatPrefix,ci}function Zv(t){return Math.max(0,-Tn(Math.abs(t)))}function Qv(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Tn(e)/3)))*3-Tn(Math.abs(t)))}function xv(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Tn(e)-Tn(t))+1}function zv(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ey(t){return function(){return t}}function ty(t){return+t}var qs=[0,1];function hn(t){return t}function Go(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:ey(isNaN(e)?NaN:.5)}function ny(t,e){var n;return t>e&&(n=t,t=e,e=n),function(i){return Math.max(t,Math.min(e,i))}}function iy(t,e,n){var i=t[0],o=t[1],r=e[0],l=e[1];return o<i?(i=Go(o,i),r=n(l,r)):(i=Go(i,o),r=n(r,l)),function(a){return r(i(a))}}function oy(t,e,n){var i=Math.min(t.length,e.length)-1,o=new Array(i),r=new Array(i),l=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<i;)o[l]=Go(t[l],t[l+1]),r[l]=n(e[l],e[l+1]);return function(a){var s=o0(t,a,1,i)-1;return r[s](o[s](a))}}function ry(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function ly(){var t=qs,e=qs,n=sr,i,o,r,l=hn,a,s,u;function f(){var p=Math.min(t.length,e.length);return l!==hn&&(l=ny(t[0],t[p-1])),a=p>2?oy:iy,s=u=null,c}function c(p){return p==null||isNaN(p=+p)?r:(s||(s=a(t.map(i),e,n)))(i(l(p)))}return c.invert=function(p){return l(o((u||(u=a(e,t.map(i),pt)))(p)))},c.domain=function(p){return arguments.length?(t=Array.from(p,ty),f()):t.slice()},c.range=function(p){return arguments.length?(e=Array.from(p),f()):e.slice()},c.rangeRound=function(p){return e=Array.from(p),n=k1,f()},c.clamp=function(p){return arguments.length?(l=p?!0:hn,f()):l!==hn},c.interpolate=function(p){return arguments.length?(n=p,f()):n},c.unknown=function(p){return arguments.length?(r=p,c):r},function(p,h){return i=p,o=h,f()}}function sy(){return ly()(hn,hn)}function ay(t,e,n,i){var o=u0(t,e,n),r;switch(i=Ui(i??",f"),i.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return i.precision==null&&!isNaN(r=Qv(o,l))&&(i.precision=r),wu(i,l)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(r=xv(o,Math.max(Math.abs(t),Math.abs(e))))&&(i.precision=r-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(r=Zv(o))&&(i.precision=r-(i.type==="%")*2);break}}return yu(i)}function uy(t){var e=t.domain;return t.ticks=function(n){var i=e();return a0(i[0],i[i.length-1],n??10)},t.tickFormat=function(n,i){var o=e();return ay(o[0],o[o.length-1],n??10,i)},t.nice=function(n){n==null&&(n=10);var i=e(),o=0,r=i.length-1,l=i[o],a=i[r],s,u,f=10;for(a<l&&(u=l,l=a,a=u,u=o,o=r,r=u);f-- >0;){if(u=Mo(l,a,n),u===s)return i[o]=l,i[r]=a,e(i);if(u>0)l=Math.floor(l/u)*u,a=Math.ceil(a/u)*u;else if(u<0)l=Math.ceil(l*u)/u,a=Math.floor(a*u)/u;else break;s=u}return t},t}function jo(){var t=sy();return t.copy=function(){return ry(t,jo())},zv.apply(t,arguments),uy(t)}function dn(t){return function(){return t}}function fy(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const i=Math.floor(n);if(!(i>=0))throw new RangeError(`invalid digits: ${n}`);e=i}return t},()=>new jv(e)}function cy(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function ku(t){this._context=t}ku.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function dy(t){return new ku(t)}function py(t){return t[0]}function my(t){return t[1]}function _o(t,e){var n=dn(!0),i=null,o=dy,r=null,l=fy(a);t=typeof t=="function"?t:t===void 0?py:dn(t),e=typeof e=="function"?e:e===void 0?my:dn(e);function a(s){var u,f=(s=cy(s)).length,c,p=!1,h;for(i==null&&(r=o(h=l())),u=0;u<=f;++u)!(u<f&&n(c=s[u],u,s))===p&&((p=!p)?r.lineStart():r.lineEnd()),p&&r.point(+t(c,u,s),+e(c,u,s));if(h)return r=null,h+""||null}return a.x=function(s){return arguments.length?(t=typeof s=="function"?s:dn(+s),a):t},a.y=function(s){return arguments.length?(e=typeof s=="function"?s:dn(+s),a):e},a.defined=function(s){return arguments.length?(n=typeof s=="function"?s:dn(!!s),a):n},a.curve=function(s){return arguments.length?(o=s,i!=null&&(r=o(i)),a):o},a.context=function(s){return arguments.length?(s==null?i=r=null:r=o(i=s),a):i},a}function jn(t,e,n){this.k=t,this.x=e,this.y=n}jn.prototype={constructor:jn,scale:function(t){return t===1?this:new jn(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new jn(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};jn.prototype;function hy(t){let e;return{c(){e=Ji("svg"),O(e,"id","line-chart")},m(n,i){A(n,e,i)},p:ue,i:ue,o:ue,d(n){n&&C(e)}}}const Rs=52;function _y(t,e,n){let{data:i=[]}=e,o,r,l;const a={top:10,right:30,bottom:10,left:20},s=500-a.left-a.right,u=400-a.top-a.bottom;_o().x((m,_)=>r(_)).y(m=>l(m)),Uo(()=>{n(1,o=zb("#line-chart").attr("width",s+a.left+a.right).attr("height",u+a.top+a.bottom)),r=jo().range([0,s]),l=jo().range([u,0]),i.length&&f()});function f(){const m=i.length>Rs?i.slice(-Rs):i;c(m),p(m),h()}function c(m){o.selectAll(".line").remove();const _=_o().defined(k=>k>-5).x((k,I)=>r(I)).y(k=>l(k)),g=_o().defined(k=>k<0).x((k,I)=>r(I)).y(k=>l(k));o.append("path").datum(m).attr("class","line positive").attr("d",_).attr("transform",`translate(${a.left},${a.top})`).attr("fill","none").attr("stroke","green").attr("stroke-width",2),o.append("path").datum(m).attr("class","line negative").attr("d",g).attr("transform",`translate(${a.left},${a.top})`).attr("fill","none").attr("stroke","red").attr("stroke-width",2)}function p(m){const _=Math.max(0,...m),g=Math.min(0,...m);r.domain([0,m.length-1]),l.domain([g,_]).nice()}function h(m){const _=_0(r).ticks(0),g=g0(l).ticks(10);o.selectAll(".axis").remove(),o.append("g").attr("class","axis x-axis").attr("transform",`translate(${a.left},${u+a.top})`).call(_),o.append("g").attr("class","axis y-axis").attr("transform",`translate(${a.left},${a.top})`).call(g)}return t.$$set=m=>{"data"in m&&n(0,i=m.data)},t.$$.update=()=>{t.$$.dirty&3&&i&&o&&f()},[i,o]}class gy extends _e{constructor(e){super(),he(this,e,_y,hy,le,{data:0})}}function by(t){let e,n=t[1].townInfo.knowledge_points+"",i,o;return{c(){e=D("Manage your Knowledge ("),i=D(n),o=D(" pts)")},m(r,l){A(r,e,l),A(r,i,l),A(r,o,l)},p(r,l){l&2&&n!==(n=r[1].townInfo.knowledge_points+"")&&ae(i,n)},d(r){r&&(C(e),C(i),C(o))}}}function vy(t){let e,n,i,o;return e=new on({props:{$$slots:{default:[by]},$$scope:{ctx:t}}}),i=new sn({}),{c(){X(e.$$.fragment),n=G(),X(i.$$.fragment)},m(r,l){Y(e,r,l),A(r,n,l),Y(i,r,l),o=!0},p(r,l){const a={};l&258&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){o||(w(e.$$.fragment,r),w(i.$$.fragment,r),o=!0)},o(r){T(e.$$.fragment,r),T(i.$$.fragment,r),o=!1},d(r){r&&C(n),J(e,r),J(i,r)}}}function Ds(t){let e,n,i=Hs(t[1].townInfo.knowledge_points*t[3])+"",o,r;return{c(){e=P("br"),n=D(`
					(total value: $`),o=D(i),r=D(")")},m(l,a){A(l,e,a),A(l,n,a),A(l,o,a),A(l,r,a)},p(l,a){a&10&&i!==(i=Hs(l[1].townInfo.knowledge_points*l[3])+"")&&ae(o,i)},d(l){l&&(C(e),C(n),C(o),C(r))}}}function Bs(t){let e;return{c(){e=P("div"),e.innerHTML=`Wait until the market value is <span class="text-green-500">positive</span> to sell your Knowledge for Gold. Keep in mind that you need a bank to
					convert.`},m(n,i){A(n,e,i)},d(n){n&&C(e)}}}function Gs(t){let e,n,i;return n=new Gt({props:{variant:"default",$$slots:{default:[yy]},$$scope:{ctx:t}}}),n.$on("click",t[0]),{c(){e=P("div"),X(n.$$.fragment)},m(o,r){A(o,e,r),Y(n,e,null),i=!0},p(o,r){const l={};r&256&&(l.$$scope={dirty:r,ctx:o}),n.$set(l)},i(o){i||(w(n.$$.fragment,o),i=!0)},o(o){T(n.$$.fragment,o),i=!1},d(o){o&&C(e),J(n)}}}function yy(t){let e;return{c(){e=D("Convert Knowledge to Gold")},m(n,i){A(n,e,i)},d(n){n&&C(e)}}}function js(t){let e;return{c(){e=P("div"),e.textContent="You need a bank to convert knowledge to gold."},m(n,i){A(n,e,i)},d(n){n&&C(e)}}}function wy(t){let e,n,i,o,r,l,a,s,u=(t[3]??0)+"",f,c,p,h,m,_,g,k,I,M,B,R;e=new rn({props:{$$slots:{default:[vy]},$$scope:{ctx:t}}});let L=t[3]>0&&Ds(t);_=new gy({props:{data:t[2]}});let H=t[3]<0&&Bs(),x=t[1].hasBank&&t[3]>0&&Gs(t),F=t[1].hasBank===!1&&js();return B=new ti({}),{c(){X(e.$$.fragment),n=G(),i=P("span"),i.textContent="Knowledge is power, unlock it!",o=G(),r=P("div"),l=P("div"),a=D("Market Rate: "),s=P("span"),f=D(u),c=D(" gold"),h=D(`
				per Knowledge Point
				`),L&&L.c(),m=G(),X(_.$$.fragment),g=G(),H&&H.c(),k=G(),x&&x.c(),I=G(),F&&F.c(),M=G(),X(B.$$.fragment),O(i,"class","italic"),O(s,"class",p=t[3]<0?"text-red-500":"text-green-500"),O(r,"class","py-0 flex flex-col gap-4 text-gray-400 overflow-x-auto")},m(W,S){Y(e,W,S),A(W,n,S),A(W,i,S),A(W,o,S),A(W,r,S),y(r,l),y(l,a),y(l,s),y(s,f),y(s,c),y(l,h),L&&L.m(l,null),y(r,m),Y(_,r,null),y(r,g),H&&H.m(r,null),y(r,k),x&&x.m(r,null),y(r,I),F&&F.m(r,null),A(W,M,S),Y(B,W,S),R=!0},p(W,S){const d={};S&258&&(d.$$scope={dirty:S,ctx:W}),e.$set(d),(!R||S&8)&&u!==(u=(W[3]??0)+"")&&ae(f,u),(!R||S&8&&p!==(p=W[3]<0?"text-red-500":"text-green-500"))&&O(s,"class",p),W[3]>0?L?L.p(W,S):(L=Ds(W),L.c(),L.m(l,null)):L&&(L.d(1),L=null);const v={};S&4&&(v.data=W[2]),_.$set(v),W[3]<0?H||(H=Bs(),H.c(),H.m(r,k)):H&&(H.d(1),H=null),W[1].hasBank&&W[3]>0?x?(x.p(W,S),S&10&&w(x,1)):(x=Gs(W),x.c(),w(x,1),x.m(r,I)):x&&(Me(),T(x,1,1,()=>{x=null}),Ee()),W[1].hasBank===!1?F||(F=js(),F.c(),F.m(r,null)):F&&(F.d(1),F=null)},i(W){R||(w(e.$$.fragment,W),w(_.$$.fragment,W),w(x),w(B.$$.fragment,W),R=!0)},o(W){T(e.$$.fragment,W),T(_.$$.fragment,W),T(x),T(B.$$.fragment,W),R=!1},d(W){W&&(C(n),C(i),C(o),C(r),C(M)),J(e,W),L&&L.d(),J(_),H&&H.d(),x&&x.d(),F&&F.d(),J(B,W)}}}function ky(t){let e,n;return e=new ln({props:{transitionConfig:{duration:0},class:"bg-card-foreground",$$slots:{default:[wy]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},p(i,o){const r={};o&270&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(w(e.$$.fragment,i),n=!0)},o(i){T(e.$$.fragment,i),n=!1},d(i){J(e,i)}}}function Cy(t){let e,n,i;function o(l){t[5](l)}let r={$$slots:{default:[ky]},$$scope:{ctx:t}};return t[4]!==void 0&&(r.open=t[4]),e=new an({props:r}),Ae.push(()=>tn(e,"open",o)),{c(){X(e.$$.fragment)},m(l,a){Y(e,l,a),i=!0},p(l,[a]){const s={};a&270&&(s.$$scope={dirty:a,ctx:l}),!n&&a&16&&(n=!0,s.open=l[4],en(()=>n=!1)),e.$set(s)},i(l){i||(w(e.$$.fragment,l),i=!0)},o(l){T(e.$$.fragment,l),i=!1},d(l){J(e,l)}}}function Hs(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function Sy(t,e,n){let i,o;se(t,ke,u=>n(1,i=u)),se(t,Ni,u=>n(4,o=u));let r,l=0;function a(){let u=i;i.hasBank===!0?(u.townInfo.gold+=Math.round(u.townInfo.knowledge_points*l),u.townInfo.knowledge_points=0,ke.set(u),localStorage.setItem(ft,JSON.stringify(u))):alert("You need a bank to convert knowledge to gold.")}function s(u){o=u,Ni.set(o)}return t.$$.update=()=>{t.$$.dirty&2&&i&&(n(2,r=i.economyAndLaws.knowledge_gold_market_rates),n(3,l=i.economyAndLaws.knowledge_gold_market_rates[i.economyAndLaws.knowledge_gold_market_rates.length-1]))},[a,i,r,l,o,s]}class Ay extends _e{constructor(e){super(),he(this,e,Sy,Cy,le,{convertKnowledgeToGold:0})}get convertKnowledgeToGold(){return this.$$.ctx[0]}}const Ty=[{id:"sunshine",title:"Hint of Sunshine",description:`Scientist Jane T. found that more sunlight makes everyone a bit happier. 
        
        Now, every home is equipped with a pair of sunglasses and a sunhat. Enjoy happier citizens!,
        `,cost:5e3,duration:180,effect:!0},{id:"antibiotics",title:"We will call them 'Antibiotics'",description:`Scientist Alfred C. has pitched us an idea that he calls 'Antibiotics'.
        
         We don't really know what that means, but it seems to make people healthier. 
        `,cost:8e3,duration:200,effect:!0},{id:"goodbye_carrots",title:"Goodbye Carrots",description:`Scientist Jarrod M. collaborated with local carrot farms to enhance the recipe, aiming to increase consumers' height by 10%.

        Unfortunately, the experiment failed, and all the local carrot farms have gone out of business. 
        `,cost:8e3,duration:80,effect:!0},{id:"funny_cows",title:"Cowabunga!",description:`Scientist Barry T. thought that showing cows some stand-up comedy would make them produce better milk, but it didn't have the desired effect.

        The cows are now following Mike Birbiglia on Twitter, but the milk production has not increased.
        `,cost:3e3,duration:60,effect:!1},{id:"missing_treasure",title:"Missing Treasure?",description:`Scientist Sarah H. was running an experiment on tree growth and found a stash of gold near the lab. 

        She hopes nobody will miss it. Your town now has some more money. 
        `,cost:15e3,duration:180,effect:!0},{id:"tax_relief",title:"'Maybe the government is not so bad after all'",description:`Scientist Sam P. conducted a study and found that if you put a tiny bit of CHEMICAL X in the water supply, people are more likely to be ok with tax hikes. 

        We don't question it, as these experiments cost a lot of moo-lah.`,cost:7500,duration:360,effect:!0},{id:"spring_break",title:"Spring Break",description:`The Scientists took our money and spent the week at the beach. 

        We are not sure what they did, but they came back with a tan and a smile.`,cost:2e3,duration:7,effect:!1},{id:"coffee_boost_tourism",title:"Speedy Brews",description:`Scientist Claudia A. has found that a specific blend of coffee can significantly increase productivity among town employees. 

        The catch? It only works on Mondays. But hey, starting the week with a turbo-charged workforce might just be the boost we needed. The town gets a bit of extra cash from the productivity, and a bit of tourism revenue from coffee tourism.
        `,cost:8e3,duration:100,effect:!0},{id:"bee_bonanza",title:"Buzzing with Possibilities",description:`Scientist Will B. thought that introducing genetically modified super bees to the local ecosystem could help with pollination.
        
        Unfortunately, these bees prefer coffee plants over all others, leading to all coffee bean farms forced to close.`,cost:5e3,duration:120,effect:!0},{id:"wheat_whirlwind",title:"A Gust of Grain",description:`Scientist Clint C. is sulking after a botched weather control experiment aimed at improving crop yields accidentally resulted in a series of mini-tornadoes sweeping through the town's wheat farms. The wheat is gone, but the townsfolk have never been more entertained.

        Local bakers mourn the loss of wheat while selling tickets to the wheat whirlwind tours. All wheat farms are now torn down, but happiness is up.`,cost:7e3,duration:150,effect:!0},{id:"aquatic_overachievers",title:"Fishy Business",description:`An attempt to genetically enhance fish intelligence by Scientist Goldie F. in fisheries has gone awry, resulting in fish that are too smart to be caught. The fisheries are now underpopulated and shut down, but the town enjoys an unexpected tourism boom as people flock to see the genius fish who are now hanging out in local parks.

        Who knew fish could be such a draw?`,cost:6e3,duration:90,effect:!0},{id:"educational_eclipse",title:"A Sudden Drop in IQ",description:`Scientist Albert E. wanted to see if the towns' children would become smarter if THEY ran the schools. 

        This was obviously a terrible idea and the first thing the kids did was shut down the schools.`,cost:1e3,duration:45,effect:!0},{id:"education_grant",title:"Education Grant",description:`Scientist Marie C. took the funding and applied the town for a grant to improve education.

        The town wins a grant for $150,000 to build schools and improve education. (but it's up to you if that's how you want to spend the money)`,cost:4e4,duration:45,effect:!0},{id:"mindfulness_meditation_classes",title:"'Mindfulness Meditation Classes'",description:`Scientist Zen M. has introduced mindfulness meditation classes to the town after realizing that breathing in certain ways can lower stress. 
		
		Now, the town is a bit more relaxed, for now.`,cost:13e3,duration:540,effect:!0}];function Vs(t,e,n){const i=t.slice();return i[17]=e[n],i}function Iy(t){let e,n=t[1].lab.active_experiment.title+"",i;return{c(){e=D("🎉 Experiment Completed: "),i=D(n)},m(o,r){A(o,e,r),A(o,i,r)},p(o,r){r&2&&n!==(n=o[1].lab.active_experiment.title+"")&&ae(i,n)},d(o){o&&(C(e),C(i))}}}function Ny(t){let e,n=t[1].lab.active_experiment.description+"",i;return{c(){e=P("div"),i=D(n),O(e,"class","select-none whitespace-pre-wrap text-lg text-gray-400 leading-6 px-4 py-4 text-center ")},m(o,r){A(o,e,r),y(e,i)},p(o,r){r&2&&n!==(n=o[1].lab.active_experiment.description+"")&&ae(i,n)},d(o){o&&C(e)}}}function My(t){let e,n,i,o;return e=new Da({props:{class:"text-center",$$slots:{default:[Iy]},$$scope:{ctx:t}}}),i=new Ha({props:{$$slots:{default:[Ny]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=G(),X(i.$$.fragment)},m(r,l){Y(e,r,l),A(r,n,l),Y(i,r,l),o=!0},p(r,l){const a={};l&1048578&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&1048578&&(s.$$scope={dirty:l,ctx:r}),i.$set(s)},i(r){o||(w(e.$$.fragment,r),w(i.$$.fragment,r),o=!0)},o(r){T(e.$$.fragment,r),T(i.$$.fragment,r),o=!1},d(r){r&&C(n),J(e,r),J(i,r)}}}function Ey(t){let e;return{c(){e=D("Thank the scientists")},m(n,i){A(n,e,i)},d(n){n&&C(e)}}}function Py(t){let e,n;return e=new g_({props:{$$slots:{default:[Ey]},$$scope:{ctx:t}}}),e.$on("click",t[9]),{c(){X(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},p(i,o){const r={};o&1048576&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(w(e.$$.fragment,i),n=!0)},o(i){T(e.$$.fragment,i),n=!1},d(i){J(e,i)}}}function Oy(t){let e,n,i,o;return e=new Ga({props:{$$slots:{default:[My]},$$scope:{ctx:t}}}),i=new Ba({props:{$$slots:{default:[Py]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=G(),X(i.$$.fragment)},m(r,l){Y(e,r,l),A(r,n,l),Y(i,r,l),o=!0},p(r,l){const a={};l&1048578&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&1048576&&(s.$$scope={dirty:l,ctx:r}),i.$set(s)},i(r){o||(w(e.$$.fragment,r),w(i.$$.fragment,r),o=!0)},o(r){T(e.$$.fragment,r),T(i.$$.fragment,r),o=!1},d(r){r&&C(n),J(e,r),J(i,r)}}}function $y(t){let e,n;return e=new ja({props:{$$slots:{default:[Oy]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},p(i,o){const r={};o&1048578&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(w(e.$$.fragment,i),n=!0)},o(i){T(e.$$.fragment,i),n=!1},d(i){J(e,i)}}}function Ly(t){let e;return{c(){e=P("span"),e.textContent="Manage your Laboratory 🔬 🧪"},m(n,i){A(n,e,i)},p:ue,d(n){n&&C(e)}}}function Fy(t){let e,n,i,o=t[1].lab.xp+"",r,l,a,s;return{c(){e=P("span"),n=D("You have earned "),i=P("span"),r=D(o),l=D(" XP"),s=D(` from experiments. XP can be used to buy advanced plots and develop your
					city.`),O(i,"class",a="italic "+(t[1].lab.xp<0?"text-red-500":"text-green-500"))},m(u,f){A(u,e,f),y(e,n),y(e,i),y(i,r),y(i,l),y(e,s)},p(u,f){f&2&&o!==(o=u[1].lab.xp+"")&&ae(r,o),f&2&&a!==(a="italic "+(u[1].lab.xp<0?"text-red-500":"text-green-500"))&&O(i,"class",a)},d(u){u&&C(e)}}}function qy(t){let e,n,i,o;return e=new on({props:{$$slots:{default:[Ly]},$$scope:{ctx:t}}}),i=new sn({props:{$$slots:{default:[Fy]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=G(),X(i.$$.fragment)},m(r,l){Y(e,r,l),A(r,n,l),Y(i,r,l),o=!0},p(r,l){const a={};l&1048576&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&1048578&&(s.$$scope={dirty:l,ctx:r}),i.$set(s)},i(r){o||(w(e.$$.fragment,r),w(i.$$.fragment,r),o=!0)},o(r){T(e.$$.fragment,r),T(i.$$.fragment,r),o=!1},d(r){r&&C(n),J(e,r),J(i,r)}}}function Ry(t){let e;return{c(){e=D("No more experiments available")},m(n,i){A(n,e,i)},p:ue,i:ue,o:ue,d(n){n&&C(e)}}}function Dy(t){let e,n,i,o,r=Ye(t[0]),l=[];for(let s=0;s<r.length;s+=1)l[s]=Ks(Vs(t,r,s));const a=s=>T(l[s],1,1,()=>{l[s]=null});return{c(){e=P("div"),e.textContent=`It's time to fund your next experiment! Choose a project below based on
				it's funding requirement. Once the experiment is over, you will see the
				results.`,n=G(),i=P("div");for(let s=0;s<l.length;s+=1)l[s].c();O(e,"class","select-none text-sm "),O(i,"class","text-center flex flex-col justify-center items-center gap-4 ")},m(s,u){A(s,e,u),A(s,n,u),A(s,i,u);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(i,null);o=!0},p(s,u){if(u&19){r=Ye(s[0]);let f;for(f=0;f<r.length;f+=1){const c=Vs(s,r,f);l[f]?(l[f].p(c,u),w(l[f],1)):(l[f]=Ks(c),l[f].c(),w(l[f],1),l[f].m(i,null))}for(Me(),f=r.length;f<l.length;f+=1)a(f);Ee()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)w(l[u]);o=!0}},o(s){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)T(l[u]);o=!1},d(s){s&&(C(e),C(n),C(i)),yt(l,s)}}}function By(t){let e,n=t[1].lab.active_experiment.duration+"",i,o,r,l,a=t[1].lab.active_experiment.duration===0&&Us(t);return{c(){e=D("Currently running an experiment... check back in "),i=D(n),o=D(` days.
			`),a&&a.c(),r=Pe()},m(s,u){A(s,e,u),A(s,i,u),A(s,o,u),a&&a.m(s,u),A(s,r,u),l=!0},p(s,u){(!l||u&2)&&n!==(n=s[1].lab.active_experiment.duration+"")&&ae(i,n),s[1].lab.active_experiment.duration===0?a?(a.p(s,u),u&2&&w(a,1)):(a=Us(s),a.c(),w(a,1),a.m(r.parentNode,r)):a&&(Me(),T(a,1,1,()=>{a=null}),Ee())},i(s){l||(w(a),l=!0)},o(s){T(a),l=!1},d(s){s&&(C(e),C(i),C(o),C(r)),a&&a.d(s)}}}function Ws(t){let e,n,i=t[17].id+"",o;return{c(){e=P("span"),n=D("// dev-"),o=D(i),O(e,"class","text-xs text-gray-400")},m(r,l){A(r,e,l),y(e,n),y(e,o)},p(r,l){l&1&&i!==(i=r[17].id+"")&&ae(o,i)},d(r){r&&C(e)}}}function Gy(t){let e,n=Ys(t[17].cost).split(".")[0]+"",i,o,r,l=t[1].devMode===!0&&Ws(t);return{c(){e=D("$"),i=D(n),o=D(` gold

						`),l&&l.c(),r=G()},m(a,s){A(a,e,s),A(a,i,s),A(a,o,s),l&&l.m(a,s),A(a,r,s)},p(a,s){s&1&&n!==(n=Ys(a[17].cost).split(".")[0]+"")&&ae(i,n),a[1].devMode===!0?l?l.p(a,s):(l=Ws(a),l.c(),l.m(r.parentNode,r)):l&&(l.d(1),l=null)},d(a){a&&(C(e),C(i),C(o),C(r)),l&&l.d(a)}}}function Ks(t){let e,n;function i(){return t[11](t[17])}return e=new Gt({props:{variant:"outline",class:`min-w-48 w-max flex-col
				`+(t[17].cost>t[1].townInfo.gold?"cursor-not-allowed":"")+`
				`,$$slots:{default:[Gy]},$$scope:{ctx:t}}}),e.$on("click",i),{c(){X(e.$$.fragment)},m(o,r){Y(e,o,r),n=!0},p(o,r){t=o;const l={};r&3&&(l.class=`min-w-48 w-max flex-col
				`+(t[17].cost>t[1].townInfo.gold?"cursor-not-allowed":"")+`
				`),r&1048579&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){J(e,o)}}}function Us(t){let e,n;return e=new Gt({props:{variant:"outline",$$slots:{default:[jy]},$$scope:{ctx:t}}}),e.$on("click",t[10]),{c(){X(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},p(i,o){const r={};o&1048576&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(w(e.$$.fragment,i),n=!0)},o(i){T(e.$$.fragment,i),n=!1},d(i){J(e,i)}}}function jy(t){let e;return{c(){e=D("Complete experiment (and face the impact)")},m(n,i){A(n,e,i)},d(n){n&&C(e)}}}function Hy(t){let e;return{c(){e=P("span"),e.textContent="Keep in mind that not all experiments yield positive results.",O(e,"class","italic text-left text-red-800")},m(n,i){A(n,e,i)},p:ue,d(n){n&&C(e)}}}function Vy(t){let e,n,i,o,r,l,a,s,u,f,c;e=new rn({props:{$$slots:{default:[qy]},$$scope:{ctx:t}}}),i=new Un({});const p=[By,Dy,Ry],h=[];function m(_,g){return _[1].lab.active_experiment!==null?0:_[0].length>0?1:_[0].length===0?2:-1}return~(r=m(t))&&(l=h[r]=p[r](t)),s=new Un({props:{class:"mt-4"}}),f=new ti({props:{$$slots:{default:[Hy]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=G(),X(i.$$.fragment),o=G(),l&&l.c(),a=G(),X(s.$$.fragment),u=G(),X(f.$$.fragment)},m(_,g){Y(e,_,g),A(_,n,g),Y(i,_,g),A(_,o,g),~r&&h[r].m(_,g),A(_,a,g),Y(s,_,g),A(_,u,g),Y(f,_,g),c=!0},p(_,g){const k={};g&1048578&&(k.$$scope={dirty:g,ctx:_}),e.$set(k);let I=r;r=m(_),r===I?~r&&h[r].p(_,g):(l&&(Me(),T(h[I],1,1,()=>{h[I]=null}),Ee()),~r?(l=h[r],l?l.p(_,g):(l=h[r]=p[r](_),l.c()),w(l,1),l.m(a.parentNode,a)):l=null);const M={};g&1048576&&(M.$$scope={dirty:g,ctx:_}),f.$set(M)},i(_){c||(w(e.$$.fragment,_),w(i.$$.fragment,_),w(l),w(s.$$.fragment,_),w(f.$$.fragment,_),c=!0)},o(_){T(e.$$.fragment,_),T(i.$$.fragment,_),T(l),T(s.$$.fragment,_),T(f.$$.fragment,_),c=!1},d(_){_&&(C(n),C(o),C(a),C(u)),J(e,_),J(i,_),~r&&h[r].d(_),J(s,_),J(f,_)}}}function Wy(t){let e,n;return e=new ln({props:{$$slots:{default:[Vy]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},p(i,o){const r={};o&1048579&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(w(e.$$.fragment,i),n=!0)},o(i){T(e.$$.fragment,i),n=!1},d(i){J(e,i)}}}function Ky(t){let e,n,i,o,r;e=new Va({props:{open:t[2],$$slots:{default:[$y]},$$scope:{ctx:t}}});function l(s){t[12](s)}let a={$$slots:{default:[Wy]},$$scope:{ctx:t}};return t[3]!==void 0&&(a.open=t[3]),i=new an({props:a}),Ae.push(()=>tn(i,"open",l)),{c(){X(e.$$.fragment),n=G(),X(i.$$.fragment)},m(s,u){Y(e,s,u),A(s,n,u),Y(i,s,u),r=!0},p(s,[u]){const f={};u&4&&(f.open=s[2]),u&1048578&&(f.$$scope={dirty:u,ctx:s}),e.$set(f);const c={};u&1048579&&(c.$$scope={dirty:u,ctx:s}),!o&&u&8&&(o=!0,c.open=s[3],en(()=>o=!1)),i.$set(c)},i(s){r||(w(e.$$.fragment,s),w(i.$$.fragment,s),r=!0)},o(s){T(e.$$.fragment,s),T(i.$$.fragment,s),r=!1},d(s){s&&C(n),J(e,s),J(i,s)}}}function Ys(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function Uy(t,e,n){let i,o;se(t,ke,M=>n(1,i=M)),se(t,pi,M=>n(3,o=M));var r;let l=[],a=!1,s=!1,u=!1;function f(){if(l.length>0||!a)return l;let M=[],B=Ty.filter(R=>!i.lab.past_experiments.some(L=>L.id===R.id));for(let R=0;R<3;R++){let L=B[Math.floor(Math.random()*B.length)];L.cost=Math.floor(Math.random()*(L.cost*.35)+L.cost*.8),M.push(L)}return M=M.filter((R,L)=>M.indexOf(R)===L),M=M.filter(R=>R),n(8,u=!0),M}function c(M){if(i.townInfo.gold<M.cost){alert("You do not have enough gold to purchase this experiment.");return}ge(ke,i.townInfo.gold-=M.cost,i),ge(ke,i.lab.active_experiment=M,i),i.lab.past_experiments.push(M)}function p(){var M;switch(ge(pi,o=!1,o),n(2,s=!0),(M=i.lab.active_experiment)===null||M===void 0?void 0:M.id){case"sunshine":ge(ke,i.modifiers.happiness=50,i);break;case"antibiotics":ge(ke,i.modifiers.health=50,i);break;case"goodbye_carrots":m("carrot_farm");break;case"missing_treasure":ge(ke,i.townInfo.gold+=Math.floor(Math.random()*i.lab.active_experiment.cost*2),i);break;case"tax_relief":ge(ke,i.economyAndLaws.max_tax_rate=(Math.random()*.8+1.2)*i.economyAndLaws.max_tax_rate,i);break;case"coffee_boost_tourism":ge(ke,i.townInfo.gold+=5e3,i),ge(ke,i.townInfo.gold_from_tourism+=1e4,i);break;case"bee_bonanza":m("coffee_bean_farm");break;case"wheat_whirlwind":m("wheat_farm"),ge(ke,i.townInfo.happiness*=1.5,i),ge(ke,i.modifiers.happiness+=3,i);break;case"aquatic_overachievers":m("fishery"),ge(ke,i.townInfo.gold_from_tourism+=3e4,i);break;case"educational_eclipse":m("small_school"),m("large_school"),ge(ke,i.townInfo.knowledge_points*=.8,i);break;case"education_grant":ge(ke,i.townInfo.knowledge_points*=1.5,i),ge(ke,i.townInfo.gold+=15e4,i);break;case"mindfulness_meditation_classes":i.modifiers.happiness*1.5;break}ge(ke,i.lab.active_experiment.duration=-1,i)}function h(){let M=i;M.lab.xp+=Math.round(M.lab.active_experiment.cost*(Math.random()*2+.5)),M.lab.active_experiment=null,n(2,s=!1),ge(ke,i=M,i)}function m(M){let B=tt(M,i);for(let R=0;R<B.length;R++)Ii(B[R].x,B[R].y,i)}const _=()=>{h()},g=()=>{p()},k=M=>{M.cost<i.townInfo.gold&&c(M)};function I(M){o=M,pi.set(o)}return t.$$.update=()=>{t.$$.dirty&387&&(i?(a=!0,n(0,l=u==!1?f():l),(n(7,r=i.lab.active_experiment)===null||r===void 0?void 0:r.duration)===-1&&n(2,s=!0)):a=!1)},[l,i,s,o,c,p,h,r,u,_,g,k,I]}class Yy extends _e{constructor(e){super(),he(this,e,Uy,Ky,le,{})}}function Js(t){let e,n,i,o;const r=[Xy,Jy],l=[];function a(s,u){return s[0]==null?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),i=Pe()},m(s,u){l[e].m(s,u),A(s,i,u),o=!0},p(s,u){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),T(l[f],1,1,()=>{l[f]=null}),Ee(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),w(n,1),n.m(i.parentNode,i))},i(s){o||(w(n),o=!0)},o(s){T(n),o=!1},d(s){s&&C(i),l[e].d(s)}}}function Jy(t){let e,n,i,o,r,l,a,s,u,f,c,p,h,m,_,g,k,I,M,B,R=t[2]==!0&&Xs();return n=new l_({}),o=new Qh({}),l=new Mg({}),s=new zg({}),f=new Ay({}),p=new Yy({}),_=new Hh({}),{c(){R&&R.c(),e=G(),X(n.$$.fragment),i=G(),X(o.$$.fragment),r=G(),X(l.$$.fragment),a=G(),X(s.$$.fragment),u=G(),X(f.$$.fragment),c=G(),X(p.$$.fragment),h=G(),m=P("div"),X(_.$$.fragment),g=G(),k=P("br"),I=G(),M=P("style"),M.textContent=`#plot_grid {
				overflow-x: scroll;
				overflow-y: scroll;
				scroll-behavior: smooth;
			}
			/* no visible scrollbars */
			#plot_grid::-webkit-scrollbar {
				display: none;
			}

			html {
				overflow: scroll;
			}

			::-webkit-scrollbar {
				width: 0px;
				background: transparent; /* make scrollbar transparent */
			}`,O(m,"id","plot_grid"),wn(m,"margin-top",t[3]+"px"),O(m,"class","scroll-smooth no-scrollbar overflow-y-scroll overflow-x-scroll ")},m(L,H){R&&R.m(L,H),A(L,e,H),Y(n,L,H),A(L,i,H),Y(o,L,H),A(L,r,H),Y(l,L,H),A(L,a,H),Y(s,L,H),A(L,u,H),Y(f,L,H),A(L,c,H),Y(p,L,H),A(L,h,H),A(L,m,H),Y(_,m,null),y(m,g),y(m,k),A(L,I,H),A(L,M,H),B=!0},p(L,H){L[2]==!0?R?H&4&&w(R,1):(R=Xs(),R.c(),w(R,1),R.m(e.parentNode,e)):R&&(Me(),T(R,1,1,()=>{R=null}),Ee()),(!B||H&8)&&wn(m,"margin-top",L[3]+"px")},i(L){B||(w(R),w(n.$$.fragment,L),w(o.$$.fragment,L),w(l.$$.fragment,L),w(s.$$.fragment,L),w(f.$$.fragment,L),w(p.$$.fragment,L),w(_.$$.fragment,L),B=!0)},o(L){T(R),T(n.$$.fragment,L),T(o.$$.fragment,L),T(l.$$.fragment,L),T(s.$$.fragment,L),T(f.$$.fragment,L),T(p.$$.fragment,L),T(_.$$.fragment,L),B=!1},d(L){L&&(C(e),C(i),C(r),C(a),C(u),C(c),C(h),C(m),C(I),C(M)),R&&R.d(L),J(n,L),J(o,L),J(l,L),J(s,L),J(f,L),J(p,L),J(_)}}}function Xy(t){let e,n;return e=new Wg({}),{c(){X(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},p:ue,i(i){n||(w(e.$$.fragment,i),n=!0)},o(i){T(e.$$.fragment,i),n=!1},d(i){J(e,i)}}}function Xs(t){let e,n;return e=new bg({}),{c(){X(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},i(i){n||(w(e.$$.fragment,i),n=!0)},o(i){T(e.$$.fragment,i),n=!1},d(i){J(e,i)}}}function Zy(t){let e,n,i=(t[1]||t[0]==null)&&Js(t);return{c(){i&&i.c(),e=Pe()},m(o,r){i&&i.m(o,r),A(o,e,r),n=!0},p(o,[r]){o[1]||o[0]==null?i?(i.p(o,r),r&3&&w(i,1)):(i=Js(o),i.c(),w(i,1),i.m(e.parentNode,e)):i&&(Me(),T(i,1,1,()=>{i=null}),Ee())},i(o){n||(w(i),n=!0)},o(o){T(i),n=!1},d(o){o&&C(e),i&&i.d(o)}}}function Qy(t,e,n){let i,o,r,l,a,s;se(t,kn,p=>n(6,i=p)),se(t,Xe,p=>n(7,o=p)),se(t,ht,p=>n(2,r=p)),se(t,ke,p=>n(0,l=p)),se(t,Vn,p=>n(8,a=p)),se(t,vo,p=>n(3,s=p));let u=!1;vg();let f=!1;document.addEventListener("keydown",p=>{if((document.activeElement!=null&&document.activeElement.nodeName==="INPUT"||document.activeElement!=null&&document.activeElement.nodeName=="TEXTAREA")&&p.key!=="Escape")return;switch(p.key.toLowerCase()){case"p":r==!0?ht.set(!1):(ht.set(!0),ge(Xe,o.visible=!1,o));break;case"escape":p.shiftKey?(ge(ht,r=!0,r),localStorage.setItem("reset","true"),location.reload(),Zo()):o.visible==!0&&ge(Xe,o.visible=!1,o);break}});function c(p,h,m){if(f==!0)switch(m){case"up":h-=2;break;case"down":h+=1;break;case"left":p-=2;break;case"right":p+=1;break}p<0?p=0:p>l.plots.length&&(p=l.plots.length),h<0?h=0:h>l.plots.length&&(h=l.plots.length);let _=document.querySelectorAll(".plot_container"),g;if(_.forEach(k=>{k.dataset.x=="$x"&&k.dataset.y=="$y"&&(g=k)}),r==!1){if(g.dataset.canBeUpgraded==="true"?ge(Xe,o.visible=!0,o):ge(Xe,o.visible=!1,o),g.dataset.refPlotX!==void 0&&g.dataset.refPlotY!=""?(f=!0,_.forEach(k=>{k.dataset.x==g.dataset.refPlotX&&k.dataset.y==g.dataset.refPlotY&&(g=k,p=parseInt(g.dataset.x),h=parseInt(g.dataset.y))})):f=!1,g.dataset.size!=="1"&&g.dataset.size!==void 0&&(f=!0),ge(Xe,o.x=p,o),ge(Xe,o.y=h,o),_.forEach(k=>{k.classList.remove("selected"),k.style.fontWeight=""}),g.classList.add("selected"),f){let k="4px solid #00800045";g.classList.remove("selected"),g.style.borderTop=k,g.style.borderLeft=k,g.style.fontWeight="600",_.forEach(I=>{const M=parseInt(`${I.dataset.x}`),B=parseInt(`${I.dataset.y}`);M==p+1&&B==h&&(I.style.borderLeft=k,I.style.borderBottom=k),M==p&&B==h+1&&(I.style.borderTop=k,I.style.borderRight=k),M==p+1&&B==h+1&&(I.style.borderBottom=k,I.style.borderRight=k)})}g.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),ge(kn,i={},i)}}return t.$$.update=()=>{t.$$.dirty&1&&(l?(ge(Vn,a.visible=!1,a),n(1,u=!0)):(ge(Vn,a.visible=!0,a),n(1,u=!1)))},[l,u,r,s,c]}class xy extends _e{constructor(e){super(),he(this,e,Qy,Zy,le,{openPlotMenu:4})}get openPlotMenu(){return this.$$.ctx[4]}}new xy({target:document.getElementById("app")});
