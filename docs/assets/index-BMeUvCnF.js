var eu=Object.defineProperty;var tu=(t,e,n)=>e in t?eu(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Tt=(t,e,n)=>(tu(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();function ae(){}const Hi=t=>t;function G(t,e){for(const n in e)t[n]=e[n];return t}function Ps(t){return t()}function rr(){return Object.create(null)}function Le(t){t.forEach(Ps)}function Nt(t){return typeof t=="function"}function le(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function nu(t){return Object.keys(t).length===0}function $o(t,...e){if(t==null){for(const i of e)i(void 0);return ae}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Os(t){let e;return $o(t,n=>e=n)(),e}function se(t,e,n){t.$$.on_destroy.push($o(e,n))}function ue(t,e,n,i){if(t){const o=Ls(t,e,n,i);return t[0](o)}}function Ls(t,e,n,i){return t[1]&&i?G(n.ctx.slice(),t[1](i(e))):n.ctx}function fe(t,e,n,i){if(t[2]&&i){const o=t[2](i(n));if(e.dirty===void 0)return o;if(typeof o=="object"){const r=[],l=Math.max(e.dirty.length,o.length);for(let a=0;a<l;a+=1)r[a]=e.dirty[a]|o[a];return r}return e.dirty|o}return e.dirty}function ce(t,e,n,i,o,r){if(o){const l=Ls(e,n,i,r);t.p(l,o)}}function de(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let i=0;i<n;i++)e[i]=-1;return e}return-1}function ke(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function te(t,e){const n={};e=new Set(e);for(const i in t)!e.has(i)&&i[0]!=="$"&&(n[i]=t[i]);return n}function Ce(t,e,n){return t.set(n),e}function Fe(t){return t&&Nt(t.destroy)?t.destroy:ae}const Fs=typeof window<"u";let Do=Fs?()=>window.performance.now():()=>Date.now(),Bo=Fs?t=>requestAnimationFrame(t):ae;const fn=new Set;function Rs(t){fn.forEach(e=>{e.c(t)||(fn.delete(e),e.f())}),fn.size!==0&&Bo(Rs)}function Go(t){let e;return fn.size===0&&Bo(Rs),{promise:new Promise(n=>{fn.add(e={c:t,f:n})}),abort(){fn.delete(e)}}}function I(t,e){t.appendChild(e)}function qs(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function iu(t){const e=O("style");return e.textContent="/* empty */",ou(qs(t),e),e.sheet}function ou(t,e){return I(t.head||t,e),e.sheet}function w(t,e,n){t.insertBefore(e,n||null)}function y(t){t.parentNode&&t.parentNode.removeChild(t)}function _t(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function O(t){return document.createElement(t)}function Vi(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function B(t){return document.createTextNode(t)}function W(){return B(" ")}function Se(){return B("")}function V(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function L(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}const ru=["width","height"];function oe(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const i in e)e[i]==null?t.removeAttribute(i):i==="style"?t.style.cssText=e[i]:i==="__value"?t.value=t[i]=e[i]:n[i]&&n[i].set&&ru.indexOf(i)===-1?t[i]=e[i]:L(t,i,e[i])}function hi(t,e){for(const n in e)L(t,n,e[n])}function lu(t,e){Object.keys(e).forEach(n=>{su(t,n,e[n])})}function su(t,e,n){const i=e.toLowerCase();i in t?t[i]=typeof t[i]=="boolean"&&n===""?!0:n:e in t?t[e]=typeof t[e]=="boolean"&&n===""?!0:n:L(t,e,n)}function Lt(t){return/-/.test(t)?lu:oe}function au(t){return Array.from(t.childNodes)}function ge(t,e){e=""+e,t.data!==e&&(t.data=e)}function wt(t,e){t.value=e??""}function hn(t,e,n,i){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,i?"important":"")}function lr(t,e,n){for(let i=0;i<t.options.length;i+=1){const o=t.options[i];if(o.__value===e){o.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function $s(t,e,{bubbles:n=!1,cancelable:i=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:i})}class uu{constructor(e=!1){Tt(this,"is_svg",!1);Tt(this,"e");Tt(this,"n");Tt(this,"t");Tt(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,n,i=null){this.e||(this.is_svg?this.e=Vi(n.nodeName):this.e=O(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(e)),this.i(i)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)w(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(y)}}const mi=new Map;let _i=0;function fu(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function cu(t,e){const n={stylesheet:iu(e),rules:{}};return mi.set(t,n),n}function gi(t,e,n,i,o,r,l,a=0){const s=16.666/i;let u=`{
`;for(let v=0;v<=1;v+=s){const k=e+(n-e)*r(v);u+=v*100+`%{${l(k,1-k)}}
`}const f=u+`100% {${l(n,1-n)}}
}`,c=`__svelte_${fu(f)}_${a}`,d=qs(t),{stylesheet:h,rules:_}=mi.get(d)||cu(d,t);_[c]||(_[c]=!0,h.insertRule(`@keyframes ${c} ${f}`,h.cssRules.length));const g=t.style.animation||"";return t.style.animation=`${g?`${g}, `:""}${c} ${i}ms linear ${o}ms 1 both`,_i+=1,c}function bi(t,e){const n=(t.style.animation||"").split(", "),i=n.filter(e?r=>r.indexOf(e)<0:r=>r.indexOf("__svelte")===-1),o=n.length-i.length;o&&(t.style.animation=i.join(", "),_i-=o,_i||du())}function du(){Bo(()=>{_i||(mi.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&y(e)}),mi.clear())})}let Gn;function $n(t){Gn=t}function Un(){if(!Gn)throw new Error("Function called outside component initialization");return Gn}function Ds(t){Un().$$.on_mount.push(t)}function pu(t){Un().$$.on_destroy.push(t)}function hu(){const t=Un();return(e,n,{cancelable:i=!1}={})=>{const o=t.$$.callbacks[e];if(o){const r=$s(e,n,{cancelable:i});return o.slice().forEach(l=>{l.call(t,r)}),!r.defaultPrevented}return!0}}function Bs(t,e){return Un().$$.context.set(t,e),e}function Gs(t){return Un().$$.context.get(t)}function Z(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(i=>i.call(this,e))}const sn=[],we=[];let cn=[];const co=[],js=Promise.resolve();let po=!1;function Hs(){po||(po=!0,js.then(Vs))}function jo(){return Hs(),js}function Ze(t){cn.push(t)}function Xt(t){co.push(t)}const Qi=new Set;let nn=0;function Vs(){if(nn!==0)return;const t=Gn;do{try{for(;nn<sn.length;){const e=sn[nn];nn++,$n(e),mu(e.$$)}}catch(e){throw sn.length=0,nn=0,e}for($n(null),sn.length=0,nn=0;we.length;)we.pop()();for(let e=0;e<cn.length;e+=1){const n=cn[e];Qi.has(n)||(Qi.add(n),n())}cn.length=0}while(sn.length);for(;co.length;)co.pop()();po=!1,Qi.clear(),$n(t)}function mu(t){if(t.fragment!==null){t.update(),Le(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Ze)}}function _u(t){const e=[],n=[];cn.forEach(i=>t.indexOf(i)===-1?e.push(i):n.push(i)),n.forEach(i=>i()),cn=e}let An;function Ho(){return An||(An=Promise.resolve(),An.then(()=>{An=null})),An}function Wt(t,e,n){t.dispatchEvent($s(`${e?"intro":"outro"}${n}`))}const li=new Set;let ht;function Pe(){ht={r:0,c:[],p:ht}}function Oe(){ht.r||Le(ht.c),ht=ht.p}function C(t,e){t&&t.i&&(li.delete(t),t.i(e))}function S(t,e,n,i){if(t&&t.o){if(li.has(t))return;li.add(t),ht.c.push(()=>{li.delete(t),i&&(n&&t.d(1),i())}),t.o(e)}else i&&i()}const Vo={duration:0};function qt(t,e,n){const i={direction:"in"};let o=e(t,n,i),r=!1,l,a,s=0;function u(){l&&bi(t,l)}function f(){const{delay:d=0,duration:h=300,easing:_=Hi,tick:g=ae,css:v}=o||Vo;v&&(l=gi(t,0,1,h,d,_,v,s++)),g(0,1);const k=Do()+d,A=k+h;a&&a.abort(),r=!0,Ze(()=>Wt(t,!0,"start")),a=Go(P=>{if(r){if(P>=A)return g(1,0),Wt(t,!0,"end"),u(),r=!1;if(P>=k){const $=_((P-k)/h);g($,1-$)}}return r})}let c=!1;return{start(){c||(c=!0,bi(t),Nt(o)?(o=o(i),Ho().then(f)):f())},invalidate(){c=!1},end(){r&&(u(),r=!1)}}}function $t(t,e,n){const i={direction:"out"};let o=e(t,n,i),r=!0,l;const a=ht;a.r+=1;let s;function u(){const{delay:f=0,duration:c=300,easing:d=Hi,tick:h=ae,css:_}=o||Vo;_&&(l=gi(t,1,0,c,f,d,_));const g=Do()+f,v=g+c;Ze(()=>Wt(t,!1,"start")),"inert"in t&&(s=t.inert,t.inert=!0),Go(k=>{if(r){if(k>=v)return h(0,1),Wt(t,!1,"end"),--a.r||Le(a.c),!1;if(k>=g){const A=d((k-g)/c);h(1-A,A)}}return r})}return Nt(o)?Ho().then(()=>{o=o(i),u()}):u(),{end(f){f&&"inert"in t&&(t.inert=s),f&&o.tick&&o.tick(1,0),r&&(l&&bi(t,l),r=!1)}}}function Ft(t,e,n,i){let r=e(t,n,{direction:"both"}),l=i?0:1,a=null,s=null,u=null,f;function c(){u&&bi(t,u)}function d(_,g){const v=_.b-l;return g*=Math.abs(v),{a:l,b:_.b,d:v,duration:g,start:_.start,end:_.start+g,group:_.group}}function h(_){const{delay:g=0,duration:v=300,easing:k=Hi,tick:A=ae,css:P}=r||Vo,$={start:Do()+g,b:_};_||($.group=ht,ht.r+=1),"inert"in t&&(_?f!==void 0&&(t.inert=f):(f=t.inert,t.inert=!0)),a||s?s=$:(P&&(c(),u=gi(t,l,_,v,g,k,P)),_&&A(0,1),a=d($,v),Ze(()=>Wt(t,_,"start")),Go(R=>{if(s&&R>s.start&&(a=d(s,v),s=null,Wt(t,a.b,"start"),P&&(c(),u=gi(t,l,a.b,a.duration,0,k,r.css))),a){if(R>=a.end)A(l=a.b,1-l),Wt(t,a.b,"end"),s||(a.b?c():--a.group.r||Le(a.group.c)),a=null;else if(R>=a.start){const F=R-a.start;l=a.a+a.d*k(F/a.duration),A(l,1-l)}}return!!(a||s)}))}return{run(_){Nt(r)?Ho().then(()=>{r=r({direction:_?"in":"out"}),h(_)}):h(_)},end(){c(),a=s=null}}}function Ue(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function gu(t,e){t.d(1),e.delete(t.key)}function bu(t,e,n,i,o,r,l,a,s,u,f,c){let d=t.length,h=r.length,_=d;const g={};for(;_--;)g[t[_].key]=_;const v=[],k=new Map,A=new Map,P=[];for(_=h;_--;){const j=c(o,r,_),K=n(j);let p=l.get(K);p?i&&P.push(()=>p.p(j,e)):(p=u(K,j),p.c()),k.set(K,v[_]=p),K in g&&A.set(K,Math.abs(_-g[K]))}const $=new Set,R=new Set;function F(j){C(j,1),j.m(a,f),l.set(j.key,j),f=j.first,h--}for(;d&&h;){const j=v[h-1],K=t[d-1],p=j.key,D=K.key;j===K?(f=j.first,d--,h--):k.has(D)?!l.has(p)||$.has(p)?F(j):R.has(D)?d--:A.get(p)>A.get(D)?(R.add(p),F(j)):($.add(D),d--):(s(K,l),d--)}for(;d--;){const j=t[d];k.has(j.key)||s(j,l)}for(;h;)F(v[h-1]);return Le(P),v}function pe(t,e){const n={},i={},o={$$scope:1};let r=t.length;for(;r--;){const l=t[r],a=e[r];if(a){for(const s in l)s in a||(i[s]=1);for(const s in a)o[s]||(n[s]=a[s],o[s]=1);t[r]=a}else for(const s in l)o[s]=1}for(const l in i)l in n||(n[l]=void 0);return n}function et(t){return typeof t=="object"&&t!==null?t:{}}function Zt(t,e,n){const i=t.$$.props[e];i!==void 0&&(t.$$.bound[i]=n,n(t.$$.ctx[i]))}function Q(t){t&&t.c()}function Y(t,e,n){const{fragment:i,after_update:o}=t.$$;i&&i.m(e,n),Ze(()=>{const r=t.$$.on_mount.map(Ps).filter(Nt);t.$$.on_destroy?t.$$.on_destroy.push(...r):Le(r),t.$$.on_mount=[]}),o.forEach(Ze)}function X(t,e){const n=t.$$;n.fragment!==null&&(_u(n.after_update),Le(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function vu(t,e){t.$$.dirty[0]===-1&&(sn.push(t),Hs(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function he(t,e,n,i,o,r,l=null,a=[-1]){const s=Gn;$n(t);const u=t.$$={fragment:null,ctx:[],props:r,update:ae,not_equal:o,bound:rr(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(s?s.$$.context:[])),callbacks:rr(),dirty:a,skip_bound:!1,root:e.target||s.$$.root};l&&l(u.root);let f=!1;if(u.ctx=n?n(t,e.props||{},(c,d,...h)=>{const _=h.length?h[0]:d;return u.ctx&&o(u.ctx[c],u.ctx[c]=_)&&(!u.skip_bound&&u.bound[c]&&u.bound[c](_),f&&vu(t,c)),d}):[],u.update(),f=!0,Le(u.before_update),u.fragment=i?i(u.ctx):!1,e.target){if(e.hydrate){const c=au(e.target);u.fragment&&u.fragment.l(c),c.forEach(y)}else u.fragment&&u.fragment.c();e.intro&&C(t.$$.fragment),Y(t,e.target,e.anchor),Vs()}$n(s)}class me{constructor(){Tt(this,"$$");Tt(this,"$$set")}$destroy(){X(this,1),this.$destroy=ae}$on(e,n){if(!Nt(n))return ae;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(n),()=>{const o=i.indexOf(n);o!==-1&&i.splice(o,1)}}$set(e){this.$$set&&!nu(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const yu="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(yu);const on=[];function Wi(t,e){return{subscribe:Xe(t,e).subscribe}}function Xe(t,e=ae){let n;const i=new Set;function o(a){if(le(t,a)&&(t=a,n)){const s=!on.length;for(const u of i)u[1](),on.push(u,t);if(s){for(let u=0;u<on.length;u+=2)on[u][0](on[u+1]);on.length=0}}}function r(a){o(a(t))}function l(a,s=ae){const u=[a,s];return i.add(u),i.size===1&&(n=e(o,r)||ae),a(t),()=>{i.delete(u),i.size===0&&n&&(n(),n=null)}}return{set:o,update:r,subscribe:l}}function Jn(t,e,n){const i=!Array.isArray(t),o=i?[t]:t;if(!o.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const r=e.length<2;return Wi(n,(l,a)=>{let s=!1;const u=[];let f=0,c=ae;const d=()=>{if(f)return;c();const _=e(i?u[0]:u,l,a);r?l(_):c=Nt(_)?_:ae},h=o.map((_,g)=>$o(_,v=>{u[g]=v,f&=~(1<<g),s&&d()},()=>{f|=1<<g}));return s=!0,d(),function(){Le(h),c(),s=!1}})}function sr(t){return{subscribe:t.subscribe.bind(t)}}const wu={plots:[],devMode:!1,lastChangeDay:0,townLog:"",townInfo:{name:"Your town",gold:1e3,gold_from_tourism:0,population_count:0,population_max:0,employees:0,happiness:150,health:150,knowledge_points:0},hasCityHall:!1,hasBank:!1,hasHospital:!1,hasLab:!1,modifiers:{happiness:1,health:1},economyAndLaws:{tax_rate:0,max_tax_rate:1,balance_sheet_history:[],last_month_profit:0,knowledge_gold_market_rates:[]},plotCounts:[],environment:{day:0,year:1,climate:-1},difficulty:0,endGoal:"land",endGameDetails:{msg:"",win:!1},tick:0,overtime:!1,last_warning_happiness:0,last_warning_health:0,lab:{active_experiment:null,past_experiments:[],xp:0}},Ki={0:"Easy",1:"Normal",2:"Hard"},ku={0:Math.random()*(.5-.3)+.3,1:Math.random()*(.4-.2)+.2,2:Math.random()*(.3-.1)+.1},Cu={0:.4,1:.4,2:.3},Ne=[{id:"res_small",title:"üè† Residential (small)",subtitle:"for living",type:"residential",description:"A few basic homes (+16 people)",revenue_per_week:0,requirements:{gold:150,plots:[],employees:0,climate:null,knowledge:0},effect_modifiers:{happiness:1,health:1},immediate_variable_changes:{happiness:0,health:0,population:16}},{id:"res_medium",title:"üèòÔ∏è Residential (medium)",subtitle:"for living",type:"residential",description:"Some apartments (+64 people)",revenue_per_week:0,requirements:{gold:500,plots:[],employees:0,climate:null,knowledge:0},effect_modifiers:{happiness:1,health:1},immediate_variable_changes:{happiness:0,health:0,population:64}},{id:"res_large",title:"üè¢ Residential (big)",subtitle:"for living",type:"residential",description:"Many apartments (+256 people)",revenue_per_week:0,requirements:{gold:1500,plots:[],employees:0,climate:null,knowledge:0},effect_modifiers:{happiness:1,health:1},immediate_variable_changes:{happiness:0,health:0,population:256}},{id:"carrot_farm",title:"ü•ï Carrot farm",subtitle:"for farming",type:"farm",description:"Farm for making carrots, makes money by selling them.",revenue_per_week:6,requirements:{gold:50,plots:[],employees:2,climate:null,knowledge:0},effect_modifiers:{happiness:1.05,health:1.1},immediate_variable_changes:{happiness:0,health:0,population:0},check_for_variety:!0},{id:"apple_orchard",title:"üçé Apple orchard",subtitle:"for farming",type:"farm",description:"A bunch of apple trees. Sells apple products.",revenue_per_week:8,requirements:{gold:75,plots:[],employees:4,climate:null,knowledge:0},effect_modifiers:{happiness:1.05,health:1.1},immediate_variable_changes:{happiness:0,health:0,population:0},check_for_variety:!0},{id:"potato_farm",title:"ü•î Potato farm",subtitle:"for farming",type:"farm",description:"Easy to farm, sells to local grocery stores and restaurants.",revenue_per_week:9,requirements:{gold:75,plots:[],employees:2,climate:null,knowledge:0},effect_modifiers:{happiness:1.1,health:1.1},immediate_variable_changes:{happiness:5,health:5,population:0},check_for_variety:!0},{id:"wheat_farm",title:"üåæ Wheat farm",subtitle:"for farming",type:"farm",description:"Easy to farm crop",revenue_per_week:6,requirements:{gold:140,plots:[],employees:4,climate:null,knowledge:0},effect_modifiers:{happiness:1,health:1},immediate_variable_changes:{happiness:0,health:0,population:0},check_for_variety:!0},{id:"dairy_farm",title:"üêÆ Dairy farm",subtitle:"for farming",type:"farm",description:"A few cows that produce milk, cheese, and butter.",revenue_per_week:16,requirements:{gold:300,plots:[],employees:4,climate:null,knowledge:0},effect_modifiers:{happiness:1.2,health:1},immediate_variable_changes:{happiness:5,health:5,population:0},check_for_variety:!0},{id:"coffee_bean_farm",title:"ü´ò Coffee bean farm",subtitle:"for farming",type:"farm",description:"A few coffee plants. Makes money by selling coffee.",revenue_per_week:3,requirements:{gold:300,plots:[],employees:1,climate:null,knowledge:0},effect_modifiers:{happiness:1.2,health:1},immediate_variable_changes:{happiness:5,health:5,population:0},check_for_variety:!0},{id:"cafe",title:"‚òïÔ∏è Small caf√©",subtitle:"for recreation & food",type:"food",description:"Great for eating & relaxing, not great for long-term health.",revenue_per_week:48,requirements:{gold:300,plots:["coffee_bean_farm","bakery","dairy_farm"],employees:16,climate:null,knowledge:0},effect_modifiers:{happiness:1.05,health:.95},immediate_variable_changes:{happiness:5,health:0,population:0},check_for_variety:!0},{id:"bakery",title:"ü•ñ Bakery",subtitle:"for baking",type:"farm",description:"Makes money by selling bread.",revenue_per_week:14,requirements:{gold:300,plots:["wheat_farm"],employees:3,climate:null,knowledge:0},effect_modifiers:{happiness:1.11,health:.92},immediate_variable_changes:{happiness:25,health:0,population:0},check_for_variety:!0},{id:"grocery",title:"üè™ Grocery store",subtitle:"for living",type:"food",description:"People get hungry. This is where they go to get food.",revenue_per_week:80,requirements:{gold:620,plots:["fishery"],employees:24,climate:null,knowledge:0},effect_modifiers:{happiness:1.05,health:1},immediate_variable_changes:{happiness:15,health:0,population:0}},{id:"fishery",title:"üê† Fishery",subtitle:"for fishing",type:"food",description:"Carve out some land, pour some water, and fish for fun & food.",revenue_per_week:40,requirements:{gold:600,plots:[],employees:9,climate:null,knowledge:0},effect_modifiers:{happiness:1.05,health:1},immediate_variable_changes:{happiness:15,health:8,population:0},check_for_variety:!0},{id:"library",title:"üìï Library",subtitle:"for reading",type:"recreation",description:"Reading makes people very happy, but doesn't make money.",revenue_per_week:0,knowledge_points_per_month:1,requirements:{gold:500,plots:[],employees:6,climate:null,knowledge:0},effect_modifiers:{happiness:1.2,health:1},immediate_variable_changes:{happiness:10,health:0,population:0}},{id:"pub",title:"üçª Pub",subtitle:"for hanging",type:"recreation",description:"Makes money, and somehow generates communal knowledge.",revenue_per_week:50,knowledge_points_per_month:1,requirements:{gold:500,plots:["church"],employees:6,climate:null,knowledge:0},effect_modifiers:{happiness:1.2,health:.7},immediate_variable_changes:{happiness:10,health:-25,population:0},check_for_variety:!0},{id:"church",title:"‚õ™Ô∏è Church",subtitle:"for worship & community",type:"recreation",description:"This can make some people happy, but doesn't make money.",revenue_per_week:0,requirements:{gold:500,plots:[],employees:0,climate:null,knowledge:0},effect_modifiers:{happiness:1.1,health:1},immediate_variable_changes:{happiness:5,health:0,population:0}},{id:"stables",title:"üê¥ Stables",subtitle:"for friends",type:"recreation",description:"People love horses. This makes them happy, and can generate some money through lessons.",revenue_per_week:25,requirements:{gold:220,plots:[],employees:2,climate:null,knowledge:0},effect_modifiers:{happiness:1.05,health:1.02},immediate_variable_changes:{happiness:5,health:0,population:0}},{id:"blacksmith",title:"‚öîÔ∏è Blacksmith",subtitle:"for making shiny things",type:"shop",description:"Enables exporting of weapons and armor, and makes money by selling them.",revenue_per_week:150,requirements:{gold:2300,plots:["large_school"],employees:15,climate:null,knowledge:0},effect_modifiers:{happiness:1,health:1},immediate_variable_changes:{happiness:0,health:0,population:0}},{id:"vineyard",title:"üçá Vineyard",subtitle:"",type:"farm",description:"Grapes are grown and made into wine. Makes money by selling wine.",revenue_per_week:50,requirements:{gold:800,plots:[],employees:6,climate:null,knowledge:0},effect_modifiers:{happiness:1.5,health:1},immediate_variable_changes:{happiness:0,health:-10,population:0}},{id:"inn",title:"üõå Village Inn",subtitle:"for a night out",type:"tourism",description:"Generates tourism gold that can be used if you have a bank.",revenue_per_week:0,enables_tourism:!0,tourism_revenue_per_week:1,requirements:{gold:1500,plots:[],employees:14,climate:null,knowledge:0},effect_modifiers:{happiness:.9,health:1},immediate_variable_changes:{happiness:0,health:0,population:0}},{id:"park_small",title:"üå≤ Small park",subtitle:"for bringing your dog, or eating a sandwich",type:"recreation",description:"A few benches and a small grassy area.",revenue_per_week:0,requirements:{gold:80,plots:[],employees:1,climate:null,knowledge:0},effect_modifiers:{happiness:1.01,health:1.07},immediate_variable_changes:{happiness:5,health:0,population:0}},{id:"park_medium",title:"üõù Medium park",subtitle:"for bringing your dog, or eating a sandwich",type:"recreation",description:"Benches, grass, and a couple of swing-sets.",revenue_per_week:0,requirements:{gold:450,plots:[],employees:2,climate:null,knowledge:0},effect_modifiers:{happiness:1.02,health:1.35},immediate_variable_changes:{happiness:5,health:10,population:0}},{id:"park_large",title:"üé™ Large park (2x2)",subtitle:"for bringing your dog, or eating a sandwich",type:"recreation",description:"Same as the medium park, with a nice fountain in the middle and occasional events run by the employees.",revenue_per_week:0,requirements:{gold:900,plots:[],employees:4,climate:null,size:2,knowledge:0},effect_modifiers:{happiness:1.1,health:1.7},immediate_variable_changes:{happiness:15,health:15,population:0}},{id:"community_center",title:"ü´∂ Community Center",subtitle:"for community",type:"recreation",description:"A place for meeting people, growing community, and hosting events. Required for City Hall.",revenue_per_week:0,requirements:{gold:15e3,plots:["park_medium","inn"],employees:12,climate:null,size:1,knowledge:0},effect_modifiers:{happiness:1.09,health:1},immediate_variable_changes:{happiness:50,health:15,population:0}},{id:"small_school",title:"üìö Small school",subtitle:"for learning",type:"education",description:"A place where children can learn and grow, and where adults can learn new skills. Produces knowledge.",revenue_per_week:0,knowledge_points_per_month:8,requirements:{gold:1500,plots:[],employees:20,climate:null,size:1,knowledge:0},effect_modifiers:{happiness:1.05,health:1.1},immediate_variable_changes:{happiness:15,health:3,population:0}},{id:"large_school",title:"üöå Large school (2x2)",subtitle:"for learning",type:"education",description:"A larger school. Produces knowledge",revenue_per_week:0,knowledge_points_per_month:26,requirements:{gold:15e3,plots:[],employees:40,climate:null,size:2,knowledge:50},effect_modifiers:{happiness:1.2,health:1},immediate_variable_changes:{happiness:5,health:3,population:0}},{id:"university",title:"üè´ Large University (2x2)",subtitle:"for learning",type:"education",description:"The supreme learning institution. Produces knowledge.",revenue_per_week:0,knowledge_points_per_month:300,requirements:{gold:8e4,plots:[],employees:101,climate:null,size:2,knowledge:100},effect_modifiers:{happiness:1.25,health:.9},immediate_variable_changes:{happiness:25,health:25,population:0}},{id:"small_hospital",title:"üò∑ Small hospital",subtitle:"for healing",type:"medical",description:"A great place to get fixed up from minor injuries.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:1e4,plots:[],employees:18,climate:null,size:1,knowledge:100},effect_modifiers:{happiness:1.25,health:1.5},immediate_variable_changes:{happiness:5,health:75,population:0}},{id:"large_hospital",title:"üè• Large hospital (2x2)",subtitle:"for healing",type:"medical",description:"Heals people and teaches medical students. Produces knowledge.",revenue_per_week:0,knowledge_points_per_month:80,requirements:{gold:45e3,plots:[],employees:90,climate:null,size:2,knowledge:250},effect_modifiers:{happiness:1.25,health:2.5},immediate_variable_changes:{happiness:5,health:150,population:0}},{id:"bank",title:"üè¶ Bank (2x2)",subtitle:"for storing and accessing funds",type:"bank",description:`Rich get richer.
			<ul>
				<li>Enables converting tourism gold to gold</li>
				<li>Enables converting knowledge to gold (TODO)</li>
			</ul>`,revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:5e4,plots:["blacksmith","vineyard"],employees:64,climate:null,size:1,knowledge:300},effect_modifiers:{happiness:.8,health:1},immediate_variable_changes:{happiness:0,health:0,population:0}},{id:"city_hall",title:"üó≥Ô∏è City Hall",subtitle:"for bureaucracy",type:"federal",description:"Enables the control of citizens through laws, taxes, and wealthy men.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:15e4,plots:["community_center","small_school"],employees:48,climate:null,size:1,knowledge:500},effect_modifiers:{happiness:.8,health:1},immediate_variable_changes:{happiness:0,health:0,population:0}},{id:"lab",title:"üßë‚Äçüî¨ Laboratory",subtitle:"",type:"science",description:"Design things that can help your city grow. Experiments can cause unexpected situations. Possibly can generate revenue or knowledge.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:1e5,plots:["community_center","university"],employees:24,climate:null,size:1,knowledge:500},effect_modifiers:{happiness:.95,health:.95},immediate_variable_changes:{happiness:0,health:0,population:0}}],Sn={empty_unusable:"rgb(21 28 41);",empty_buildable:"rgb(126, 158, 255)",residential:"#e15f00",farm:"#519c1f",food:"#8a2be2",recreation:"#4070ff",shop:"#ff00ff",tourism:"#ff00ff",education:"rgba(42, 62, 250, 0.9)",medical:"rgba(42, 62, 250, 0.9)",bank:"#7b68ee",federal:"#7b68ee",science:"rgba(42, 62, 250, 0.9)"};function vi(t,e=!1){if(t<0)return t==-1?e?Sn.empty_buildable:Sn.empty:t==-2?Sn.recreation:(console.log(t),Sn.empty);const n=Ne[t];return Sn[n.type]}const rt="plots_active_game_db";function Au(){const t=["York","London","Paris","Madrid","Rome","Berlin","Vienna","Prague","Warsaw","Oslo","Lisbon","Dublin","Brussels","Amsterdam","Stockholm","Copenhagen","Edinburgh","Moscow","Beijing","Tokyo","Seoul","Bangkok","Delhi","Mumbai","Shanghai","Sydney","Melbourne","Cairo","Dubai","Istanbul","Athens","Budapest","Reykjavik","Helsinki","Tallinn","Riga","Vilnius","Sofia","Bucharest","Belgrade","Zagreb","Sarajevo","Ljubljana","Skopje","Tirana","Podgorica","Thessaloniki","Barcelona","Valencia","Seville","Granada","Malaga","Lyon","Marseille","Toulouse","Nice","Nantes","Strasbourg","Bordeaux","Lille","Venice","Milan","Florence","Naples","Turin","Bologna","Perugia","Genoa","Pisa","Verona","Palermo","Catania","Bari","Padua","Cagliari","Krakow","Gdansk","Poznan","Wroclaw","Lodz","Katowice","Bialystok","Gdynia","Sopot","Bydgoszcz","Lublin","Szczecin","Gorzow","Zakopane","Olsztyn","Torun","Rzeszow","Kielce","Radom","Siedlce","Los","Angeles","Chicago","Houston","Phoenix","San","Antonio","San","Diego","Dallas","San","Jose","Austin","Jacksonville","Fort","Worth","Columbus","Charlotte","Liverpool","Manchester","Glasgow","Birmingham","Leeds","Sheffield","Newcastle","upon","Tyne","Bristol","Nottingham","Leicester","Coventry","Belfast","Reading","Cardiff","Southampton","Aberdeen","Plymouth","Stoke","Trent","Wolverhampton","Swansea","Sunderland","Portsmouth","Yorkshire","Hull","Blackpool","Bradford","Derby","Middlesbrough","Peterborough","Stockton","on","Tees","Brighton","Poole","Bournemouth","Huddersfield","Luton","Oxford","Norwich","Oldham","Cambridge","Exeter","Walsall","Colchester","Watford","Rotherham","Newport","Gateshead","Dundee","Gloucester","Solihull","High","Wycombe","Maidstone","Slough","Basildon","Chelmsford","Salford","Bedford","Stevenage","Woking","Grimsby","Birkenhead","Halifax","Warrington","Gillingham","Wigan","Worcester","Wakefield","Lincoln","Chester","Rochdale","Dagenham","Widnes","St","Albans","Mansfield","Sutton","Coldfield","Crawley","Wokingham","Barnsley","St","Helens","Harrogate","Redditch","Scunthorpe","Nuneaton","Chesterfield","Hemel","Hempstead","Bury","Guildford","Ashford","Telford","Newcastle","under","Lyme","Aylesbury","Halesowen","Shrewsbury","Lowestoft","Loughborough","Cheltenham","Kidderminster","Basingstoke","Rugby","Stourbridge","Southport","Kettering","Royal","Leamington","Spa","Beeston","Farnborough","Wrexham","Banbury","Weymouth","Wallsend","Dartford","Grays","Tamworth","Ashford","Esher","Folkestone","Tonbridge","Taunton","Runcorn","Macclesfield","Keighley","Bridgend","Barnstaple","Letchworth","Garden","City","Worthing","Gosport","Eastleigh","Staines","upon","Thames","Lisburn","Livingston","Bognor","Regis","Scarborough","Cannock","Margate","Chippenham","Rhondda","Maidenhead","Wellingborough","Washington","Camberley","Bootle","Lancaster","Llanelli","Chatham","Cheshunt","Bishop","Auckland","Nelson","Belper","Pontefract","Barry","Braintree","Crosby","Bury","St","Edmunds","Bexhill","Margate","Aldershot","Rowley","Regis","Hoddesdon","Sittingbourne","Rugby","Newquay","Falmouth","Stretford","Camberley","Beverley","Windsor","Rochester","Wickford","Diss","Farnham","Andover","Camberwell","Bermondsey","Lewisham","Wembley","Hayes","Harrow","Ilford","Enfield","Twickenham","Richmond","Brentwood","Edgware","Ealing","Greenwich","Bromley","Hounslow","Romford","Hillingdon","Uxbridge","Wandsworth","Sutton","Kingston","upon","Thames","Bexley","Havering","Barking"],e=["ia","ville","ton","land","field","burgh","ford","wood","port","bay","beach","peak","valley","ridge","hill","dale","island","cape","spring","grove","polis","side","view","shore","haven","place","gardens","plaza","square"],n=["New","Old","North","South","East","West","Upper","Lower","Little","Great","Saint","Fort","Mount","Lake","River","The Village of","The City of","The Town of","The Borough of","The County of","The State of","The Kingdom of","The Empire of","The Republic of","The Commonwealth of","The Union of","The Federation of","Rainy","Sunny","Windy","Frosty","Snowy"];function i(s){return s[Math.floor(Math.random()*s.length)]}let o=i(n),r=i(t),l=i(e),a="";return Math.random()>.5?a=o+" "+r+l:a=r+l,a}let Ie=Xe(JSON.parse(localStorage.getItem(rt)||"null"));function Su(t,e,n,i){let o={...wu};o.economyAndLaws.max_tax_rate=ku[t],o.endGoal=e;let r=[];n=n.replace(/[^a-zA-Z0-9 ]/g,"").trim(),o.townInfo.name=n!=""?n:Au(),o.difficulty=parseInt(t),i&&(o.townInfo.gold=1e8,o.townInfo.happiness=1e7,o.townInfo.health=1e6,o.townInfo.knowledge_points=1e5,o.modifiers.happiness=1e4,o.modifiers.health=1e4);const l=t=="0"?8:t=="1"?12:t=="2"?16:1;for(let a=0;a<l;a++){r.push([]);for(let s=0;s<l;s++)r[a][s]={id:Math.random().toString(36).substring(2,9),active:!1,x:a,y:s,type:-1,typeId:""}}o.plots=r,localStorage.reset=!1,localStorage.setItem(rt,JSON.stringify(o)),Ie.set(o),location.reload()}function ar(t,e){e===void 0&&(e=0);var n=Math.pow(10,e);t=parseFloat((t*n).toFixed(11));var i=Math.round(t)/n;return+i.toFixed(e)}function yi(t,e,n){let i=n.plots[t][e].type;if(n.plots[t][e].type=-1,n.plots[t][e].active=!1,i>-1&&(n.townInfo.population_count-=Ne[i].immediate_variable_changes.population,n.townInfo.population_max-=Ne[i].immediate_variable_changes.population,n.townInfo.happiness-=Ne[i].immediate_variable_changes.happiness,n.townInfo.health-=Ne[i].immediate_variable_changes.health,n.modifiers.happiness=ar(n.modifiers.happiness/Ne[i].effect_modifiers.happiness,2),n.modifiers.health=ar(n.modifiers.health/Ne[i].effect_modifiers.health,2),n.townInfo.employees-=Ne[i].requirements.employees,(n.plotCounts[i]===void 0||n.plotCounts[i]===null)&&(n.plotCounts[i]=0),n.plotCounts[i]--,(Ne[i].requirements.size??1)>1))for(let r=0;r<n.plots.length;r++)for(let l=0;l<n.plots[t].length;l++)n.plots[r][l].referencePlot!=null&&n.plots[r][l].referencePlot[0]===t&&n.plots[r][l].referencePlot[1]===e&&yi(r,l,n);n.lastChangeDay=n.environment.day,Ie.set(n),localStorage.setItem(rt,JSON.stringify(n))}function Ui(t,e){let n=[];for(let i=0;i<e.plots.length;i++)for(let o=0;o<e.plots[i].length;o++)e.plots[i][o].active==!1||e.plots[i][o]==null||e.plots[i][o].type===null||e.plots[i][o].type<0||(Ne[e.plots[i][o].type].id===t||Ne[e.plots[i][o].type].typeId===t)&&n.push(e.plots[i][o]);return n}function Wo(t=null){localStorage.removeItem(rt),Ie.set(null),t&&(localStorage.setItem(rt,JSON.stringify(t)),Ie.set(t)),location.reload()}function Nu(){Ws.update(t=>!t),localStorage.setItem("showOnlyAffordable",localStorage.getItem("showOnlyAffordable")==="true"?"false":"true")}let Ke=Xe({visible:!1,x:0,y:0}),Dn=Xe({visible:!1}),mn=Xe({}),At=Xe(!1),ur=Xe(!1),wi=Xe(!1),ki=Xe(!1),si=Xe(!1),Ws=localStorage.getItem("showOnlyAffordable")==="true"?Xe(!0):Xe(!1),ho=Xe(250),ai=Xe(500);function Tu(t){return t[t.length-1]}function mo(t){return Object.keys(t).reduce((e,n)=>t[n]===void 0?e:e+`${n}:${t[n]};`,"")}mo({position:"absolute",opacity:0,"pointer-events":"none",margin:0,transform:"translateX(-100%)"});function fr(t){function e(n){return n(t),()=>{}}return{subscribe:e}}const Qn=t=>new Proxy(t,{get(e,n,i){return Reflect.get(e,n,i)},ownKeys(e){return Reflect.ownKeys(e).filter(n=>n!=="action")}}),cr=t=>typeof t=="function";function kt(t,e){const{stores:n,action:i,returned:o}=e??{},r=(()=>{if(n&&o)return Jn(n,a=>{const s=o(a);if(cr(s)){const u=(...f)=>Qn({...s(...f),[`data-melt-${t}`]:"",action:i??Je});return u.action=i??Je,u}return Qn({...s,[`data-melt-${t}`]:"",action:i??Je})});{const a=o,s=a==null?void 0:a();if(cr(s)){const u=(...f)=>Qn({...s(...f),[`data-melt-${t}`]:"",action:i??Je});return u.action=i??Je,fr(u)}return fr(Qn({...s,[`data-melt-${t}`]:"",action:i??Je}))}})(),l=i??(()=>{});return l.subscribe=r.subscribe,l}function Iu(t){const e=r=>r?`${t}-${r}`:t,n=r=>`data-melt-${t}${r?`-${r}`:""}`,i=r=>`[data-melt-${t}${r?`-${r}`:""}]`;return{name:e,attribute:n,selector:i,getEl:r=>document.querySelector(i(r))}}const Eu=typeof document<"u",Ks=t=>typeof t=="function";function Us(t){return t instanceof Element}function Rt(t){return t instanceof HTMLElement}function Mu(t){return t!==null&&typeof t=="object"}function Pu(t){return Mu(t)&&"subscribe"in t}function dn(...t){return(...e)=>{for(const n of t)typeof n=="function"&&n(...e)}}function Je(){}function Pt(t,e,n,i){const o=Array.isArray(e)?e:[e];return o.forEach(r=>t.addEventListener(r,n,i)),()=>{o.forEach(r=>t.removeEventListener(r,n,i))}}function Pn(t,e,n,i){const o=Array.isArray(e)?e:[e];if(typeof n=="function"){const r=Lu(l=>n(l));return o.forEach(l=>t.addEventListener(l,r,i)),()=>{o.forEach(l=>t.removeEventListener(l,r,i))}}return()=>void 0}function Ou(t){const e=t.currentTarget;if(!Rt(e))return null;const n=new CustomEvent(`m-${t.type}`,{detail:{originalEvent:t},cancelable:!0});return e.dispatchEvent(n),n}function Lu(t){return e=>{const n=Ou(e);if(!(n!=null&&n.defaultPrevented))return t(e)}}function Fu(t,...e){const n={};for(const i of Object.keys(t))e.includes(i)||(n[i]=t[i]);return n}function Yn(t){return{...t,get:()=>Os(t)}}Yn.writable=function(t){const e=Xe(t);let n=t;return{subscribe:e.subscribe,set(i){e.set(i),n=i},update(i){const o=i(n);e.set(o),n=o},get(){return n}}};Yn.derived=function(t,e){const n=new Map,i=()=>{const r=Array.isArray(t)?t.map(l=>l.get()):t.get();return e(r)};return{get:i,subscribe:r=>{const l=[];return(Array.isArray(t)?t:[t]).forEach(s=>{l.push(s.subscribe(()=>{r(i())}))}),r(i()),n.set(r,l),()=>{const s=n.get(r);if(s)for(const u of s)u();n.delete(r)}}}};const Ru=(t,e)=>{const n=Yn(t),i=(r,l)=>{n.update(a=>{const s=r(a);let u=s;return e&&(u=e({curr:a,next:s})),l==null||l(u),u})};return{...n,update:i,set:r=>{i(()=>r)}}};function Js(t){return new Promise(e=>setTimeout(e,t))}let qu="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",$u=(t=21)=>{let e="",n=t;for(;n--;)e+=qu[Math.random()*64|0];return e};function Du(){return $u(10)}function Bu(t){return t.reduce((e,n)=>(e[n]=Du(),e),{})}const On={ALT:"Alt",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",CAPS_LOCK:"CapsLock",CONTROL:"Control",DELETE:"Delete",END:"End",ENTER:"Enter",ESCAPE:"Escape",F1:"F1",F10:"F10",F11:"F11",F12:"F12",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",HOME:"Home",META:"Meta",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp",SHIFT:"Shift",SPACE:" ",TAB:"Tab",CTRL:"Control",ASTERISK:"*",A:"a",P:"p"},Ys=()=>typeof window<"u";function Gu(){const t=navigator.userAgentData;return(t==null?void 0:t.platform)??navigator.platform}const Xs=t=>Ys()&&t.test(Gu().toLowerCase()),ju=()=>Ys()&&!!navigator.maxTouchPoints,Hu=()=>Xs(/^mac/)&&!ju(),Vu=()=>Xs(/mac|iphone|ipad|ipod/i),Wu=()=>Vu()&&!Hu(),xi="data-melt-scroll-lock";function dr(t,e){if(!t)return;const n=t.style.cssText;return Object.assign(t.style,e),()=>{t.style.cssText=n}}function Ku(t,e,n){if(!t)return;const i=t.style.getPropertyValue(e);return t.style.setProperty(e,n),()=>{i?t.style.setProperty(e,i):t.style.removeProperty(e)}}function Uu(t){const e=t.getBoundingClientRect().left;return Math.round(e)+t.scrollLeft?"paddingLeft":"paddingRight"}function Ju(t){const e=t??document,n=e.defaultView??window,{documentElement:i,body:o}=e;if(o.hasAttribute(xi))return Je;o.setAttribute(xi,"");const l=n.innerWidth-i.clientWidth,a=()=>Ku(i,"--scrollbar-width",`${l}px`),s=Uu(i),u=n.getComputedStyle(o)[s],f=()=>dr(o,{overflow:"hidden",[s]:`calc(${u} + ${l}px)`}),c=()=>{const{scrollX:h,scrollY:_,visualViewport:g}=n,v=(g==null?void 0:g.offsetLeft)??0,k=(g==null?void 0:g.offsetTop)??0,A=dr(o,{position:"fixed",overflow:"hidden",top:`${-(_-Math.floor(k))}px`,left:`${-(h-Math.floor(v))}px`,right:"0",[s]:`calc(${u} + ${l}px)`});return()=>{A==null||A(),n.scrollTo(h,_)}},d=[a(),Wu()?c():f()];return()=>{d.forEach(h=>h==null?void 0:h()),o.removeAttribute(xi)}}const Yu=t=>{try{pu(t)}catch{return t}};function Bt(t,e){let n;const i=Jn(t,r=>{n==null||n(),n=e(r)}).subscribe(Je),o=()=>{i(),n==null||n()};return Yu(o),o}function _o(t){const e={};return Object.keys(t).forEach(n=>{const i=n,o=t[i];e[i]=Yn(Xe(o))}),e}function Xu(t){let e=t.parentElement;for(;Rt(e)&&!e.hasAttribute("data-portal");)e=e.parentElement;return e||"body"}function Zu(t,e){const n=Xu(t);return e!==void 0?e:n==="body"?document.body:null}async function pr(t){const{prop:e,defaultEl:n}=t;if(await Promise.all([Js(1),jo]),e===void 0){n==null||n.focus();return}const i=Ks(e)?e(n):e;if(typeof i=="string"){const o=document.querySelector(i);if(!Rt(o))return;o.focus()}else Rt(i)&&i.focus()}Wi(void 0,t=>{function e(i){t(i),t(void 0)}return Pt(document,"pointerup",e,{passive:!1,capture:!0})});const Qu=Wi(void 0,t=>{function e(i){i&&i.key===On.ESCAPE&&t(i),t(void 0)}return Pt(document,"keydown",e,{passive:!1})}),hr=(t,e={})=>{let n=Je;function i(o={}){n();const r={enabled:!0,...o},l=Pu(r.enabled)?r.enabled:Wi(r.enabled);n=dn(Qu.subscribe(a=>{var u;if(!a||!Os(l))return;const s=a.target;if(!(!Rt(s)||s.closest("[data-escapee]")!==t)){if(a.preventDefault(),r.ignore){if(Ks(r.ignore)){if(r.ignore(a))return}else if(Array.isArray(r.ignore)&&r.ignore.length>0&&r.ignore.some(f=>f&&s===f))return}(u=r.handler)==null||u.call(r,a)}}),Bt(l,a=>{a?t.dataset.escapee="":delete t.dataset.escapee}))}return i(e),{update:i,destroy(){t.removeAttribute("data-escapee"),n()}}};/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Zs=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Ci=Zs.join(","),Qs=typeof Element>"u",Ut=Qs?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Ai=!Qs&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},Si=function t(e,n){var i;n===void 0&&(n=!0);var o=e==null||(i=e.getAttribute)===null||i===void 0?void 0:i.call(e,"inert"),r=o===""||o==="true",l=r||n&&e&&t(e.parentNode);return l},xu=function(e){var n,i=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"contenteditable");return i===""||i==="true"},xs=function(e,n,i){if(Si(e))return[];var o=Array.prototype.slice.apply(e.querySelectorAll(Ci));return n&&Ut.call(e,Ci)&&o.unshift(e),o=o.filter(i),o},zs=function t(e,n,i){for(var o=[],r=Array.from(e);r.length;){var l=r.shift();if(!Si(l,!1))if(l.tagName==="SLOT"){var a=l.assignedElements(),s=a.length?a:l.children,u=t(s,!0,i);i.flatten?o.push.apply(o,u):o.push({scopeParent:l,candidates:u})}else{var f=Ut.call(l,Ci);f&&i.filter(l)&&(n||!e.includes(l))&&o.push(l);var c=l.shadowRoot||typeof i.getShadowRoot=="function"&&i.getShadowRoot(l),d=!Si(c,!1)&&(!i.shadowRootFilter||i.shadowRootFilter(l));if(c&&d){var h=t(c===!0?l.children:c.children,!0,i);i.flatten?o.push.apply(o,h):o.push({scopeParent:l,candidates:h})}else r.unshift.apply(r,l.children)}}return o},ea=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},jt=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||xu(e))&&!ea(e)?0:e.tabIndex},zu=function(e,n){var i=jt(e);return i<0&&n&&!ea(e)?0:i},ef=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},ta=function(e){return e.tagName==="INPUT"},tf=function(e){return ta(e)&&e.type==="hidden"},nf=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(i){return i.tagName==="SUMMARY"});return n},of=function(e,n){for(var i=0;i<e.length;i++)if(e[i].checked&&e[i].form===n)return e[i]},rf=function(e){if(!e.name)return!0;var n=e.form||Ai(e),i=function(a){return n.querySelectorAll('input[type="radio"][name="'+a+'"]')},o;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")o=i(window.CSS.escape(e.name));else try{o=i(e.name)}catch(l){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",l.message),!1}var r=of(o,e.form);return!r||r===e},lf=function(e){return ta(e)&&e.type==="radio"},sf=function(e){return lf(e)&&!rf(e)},af=function(e){var n,i=e&&Ai(e),o=(n=i)===null||n===void 0?void 0:n.host,r=!1;if(i&&i!==e){var l,a,s;for(r=!!((l=o)!==null&&l!==void 0&&(a=l.ownerDocument)!==null&&a!==void 0&&a.contains(o)||e!=null&&(s=e.ownerDocument)!==null&&s!==void 0&&s.contains(e));!r&&o;){var u,f,c;i=Ai(o),o=(u=i)===null||u===void 0?void 0:u.host,r=!!((f=o)!==null&&f!==void 0&&(c=f.ownerDocument)!==null&&c!==void 0&&c.contains(o))}}return r},mr=function(e){var n=e.getBoundingClientRect(),i=n.width,o=n.height;return i===0&&o===0},uf=function(e,n){var i=n.displayCheck,o=n.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var r=Ut.call(e,"details>summary:first-of-type"),l=r?e.parentElement:e;if(Ut.call(l,"details:not([open]) *"))return!0;if(!i||i==="full"||i==="legacy-full"){if(typeof o=="function"){for(var a=e;e;){var s=e.parentElement,u=Ai(e);if(s&&!s.shadowRoot&&o(s)===!0)return mr(e);e.assignedSlot?e=e.assignedSlot:!s&&u!==e.ownerDocument?e=u.host:e=s}e=a}if(af(e))return!e.getClientRects().length;if(i!=="legacy-full")return!0}else if(i==="non-zero-area")return mr(e);return!1},ff=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var i=0;i<n.children.length;i++){var o=n.children.item(i);if(o.tagName==="LEGEND")return Ut.call(n,"fieldset[disabled] *")?!0:!o.contains(e)}return!0}n=n.parentElement}return!1},Ni=function(e,n){return!(n.disabled||Si(n)||tf(n)||uf(n,e)||nf(n)||ff(n))},go=function(e,n){return!(sf(n)||jt(n)<0||!Ni(e,n))},cf=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},df=function t(e){var n=[],i=[];return e.forEach(function(o,r){var l=!!o.scopeParent,a=l?o.scopeParent:o,s=zu(a,l),u=l?t(o.candidates):a;s===0?l?n.push.apply(n,u):n.push(a):i.push({documentOrder:r,tabIndex:s,item:o,isScope:l,content:u})}),i.sort(ef).reduce(function(o,r){return r.isScope?o.push.apply(o,r.content):o.push(r.content),o},[]).concat(n)},pf=function(e,n){n=n||{};var i;return n.getShadowRoot?i=zs([e],n.includeContainer,{filter:go.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:cf}):i=xs(e,n.includeContainer,go.bind(null,n)),df(i)},hf=function(e,n){n=n||{};var i;return n.getShadowRoot?i=zs([e],n.includeContainer,{filter:Ni.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):i=xs(e,n.includeContainer,Ni.bind(null,n)),i},rn=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return Ut.call(e,Ci)===!1?!1:go(n,e)},mf=Zs.concat("iframe").join(","),zi=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return Ut.call(e,mf)===!1?!1:Ni(n,e)};/*!
* focus-trap 7.5.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function _r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function gr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_r(Object(n),!0).forEach(function(i){_f(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_r(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _f(t,e,n){return e=bf(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gf(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bf(t){var e=gf(t,"string");return typeof e=="symbol"?e:String(e)}var br={activateTrap:function(e,n){if(e.length>0){var i=e[e.length-1];i!==n&&i.pause()}var o=e.indexOf(n);o===-1||e.splice(o,1),e.push(n)},deactivateTrap:function(e,n){var i=e.indexOf(n);i!==-1&&e.splice(i,1),e.length>0&&e[e.length-1].unpause()}},vf=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},yf=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},Bn=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},wf=function(e){return Bn(e)&&!e.shiftKey},kf=function(e){return Bn(e)&&e.shiftKey},vr=function(e){return setTimeout(e,0)},yr=function(e,n){var i=-1;return e.every(function(o,r){return n(o)?(i=r,!1):!0}),i},Nn=function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return typeof e=="function"?e.apply(void 0,i):e},xn=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},Cf=[],Af=function(e,n){var i=(n==null?void 0:n.document)||document,o=(n==null?void 0:n.trapStack)||Cf,r=gr({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:wf,isKeyBackward:kf},n),l={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},a,s=function(b,m,M){return b&&b[m]!==void 0?b[m]:r[M||m]},u=function(b,m){var M=typeof(m==null?void 0:m.composedPath)=="function"?m.composedPath():void 0;return l.containerGroups.findIndex(function(q){var E=q.container,U=q.tabbableNodes;return E.contains(b)||(M==null?void 0:M.includes(E))||U.find(function(J){return J===b})})},f=function(b){var m=r[b];if(typeof m=="function"){for(var M=arguments.length,q=new Array(M>1?M-1:0),E=1;E<M;E++)q[E-1]=arguments[E];m=m.apply(void 0,q)}if(m===!0&&(m=void 0),!m){if(m===void 0||m===!1)return m;throw new Error("`".concat(b,"` was specified but was not a node, or did not return a node"))}var U=m;if(typeof m=="string"&&(U=i.querySelector(m),!U))throw new Error("`".concat(b,"` as selector refers to no known node"));return U},c=function(){var b=f("initialFocus");if(b===!1)return!1;if(b===void 0||!zi(b,r.tabbableOptions))if(u(i.activeElement)>=0)b=i.activeElement;else{var m=l.tabbableGroups[0],M=m&&m.firstTabbableNode;b=M||f("fallbackFocus")}if(!b)throw new Error("Your focus-trap needs to have at least one focusable element");return b},d=function(){if(l.containerGroups=l.containers.map(function(b){var m=pf(b,r.tabbableOptions),M=hf(b,r.tabbableOptions),q=m.length>0?m[0]:void 0,E=m.length>0?m[m.length-1]:void 0,U=M.find(function(z){return rn(z)}),J=M.slice().reverse().find(function(z){return rn(z)}),ee=!!m.find(function(z){return jt(z)>0});return{container:b,tabbableNodes:m,focusableNodes:M,posTabIndexesFound:ee,firstTabbableNode:q,lastTabbableNode:E,firstDomTabbableNode:U,lastDomTabbableNode:J,nextTabbableNode:function(x){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,_e=m.indexOf(x);return _e<0?ne?M.slice(M.indexOf(x)+1).find(function(H){return rn(H)}):M.slice(0,M.indexOf(x)).reverse().find(function(H){return rn(H)}):m[_e+(ne?1:-1)]}}}),l.tabbableGroups=l.containerGroups.filter(function(b){return b.tabbableNodes.length>0}),l.tabbableGroups.length<=0&&!f("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(l.containerGroups.find(function(b){return b.posTabIndexesFound})&&l.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},h=function T(b){var m=b.activeElement;if(m)return m.shadowRoot&&m.shadowRoot.activeElement!==null?T(m.shadowRoot):m},_=function T(b){if(b!==!1&&b!==h(document)){if(!b||!b.focus){T(c());return}b.focus({preventScroll:!!r.preventScroll}),l.mostRecentlyFocusedNode=b,vf(b)&&b.select()}},g=function(b){var m=f("setReturnFocus",b);return m||(m===!1?!1:b)},v=function(b){var m=b.target,M=b.event,q=b.isBackward,E=q===void 0?!1:q;m=m||xn(M),d();var U=null;if(l.tabbableGroups.length>0){var J=u(m,M),ee=J>=0?l.containerGroups[J]:void 0;if(J<0)E?U=l.tabbableGroups[l.tabbableGroups.length-1].lastTabbableNode:U=l.tabbableGroups[0].firstTabbableNode;else if(E){var z=yr(l.tabbableGroups,function(be){var Te=be.firstTabbableNode;return m===Te});if(z<0&&(ee.container===m||zi(m,r.tabbableOptions)&&!rn(m,r.tabbableOptions)&&!ee.nextTabbableNode(m,!1))&&(z=J),z>=0){var x=z===0?l.tabbableGroups.length-1:z-1,ne=l.tabbableGroups[x];U=jt(m)>=0?ne.lastTabbableNode:ne.lastDomTabbableNode}else Bn(M)||(U=ee.nextTabbableNode(m,!1))}else{var _e=yr(l.tabbableGroups,function(be){var Te=be.lastTabbableNode;return m===Te});if(_e<0&&(ee.container===m||zi(m,r.tabbableOptions)&&!rn(m,r.tabbableOptions)&&!ee.nextTabbableNode(m))&&(_e=J),_e>=0){var H=_e===l.tabbableGroups.length-1?0:_e+1,re=l.tabbableGroups[H];U=jt(m)>=0?re.firstTabbableNode:re.firstDomTabbableNode}else Bn(M)||(U=ee.nextTabbableNode(m))}}else U=f("fallbackFocus");return U},k=function(b){var m=xn(b);if(!(u(m,b)>=0)){if(Nn(r.clickOutsideDeactivates,b)){a.deactivate({returnFocus:r.returnFocusOnDeactivate});return}Nn(r.allowOutsideClick,b)||b.preventDefault()}},A=function(b){var m=xn(b),M=u(m,b)>=0;if(M||m instanceof Document)M&&(l.mostRecentlyFocusedNode=m);else{b.stopImmediatePropagation();var q,E=!0;if(l.mostRecentlyFocusedNode)if(jt(l.mostRecentlyFocusedNode)>0){var U=u(l.mostRecentlyFocusedNode),J=l.containerGroups[U].tabbableNodes;if(J.length>0){var ee=J.findIndex(function(z){return z===l.mostRecentlyFocusedNode});ee>=0&&(r.isKeyForward(l.recentNavEvent)?ee+1<J.length&&(q=J[ee+1],E=!1):ee-1>=0&&(q=J[ee-1],E=!1))}}else l.containerGroups.some(function(z){return z.tabbableNodes.some(function(x){return jt(x)>0})})||(E=!1);else E=!1;E&&(q=v({target:l.mostRecentlyFocusedNode,isBackward:r.isKeyBackward(l.recentNavEvent)})),_(q||l.mostRecentlyFocusedNode||c())}l.recentNavEvent=void 0},P=function(b){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;l.recentNavEvent=b;var M=v({event:b,isBackward:m});M&&(Bn(b)&&b.preventDefault(),_(M))},$=function(b){if(yf(b)&&Nn(r.escapeDeactivates,b)!==!1){b.preventDefault(),a.deactivate();return}(r.isKeyForward(b)||r.isKeyBackward(b))&&P(b,r.isKeyBackward(b))},R=function(b){var m=xn(b);u(m,b)>=0||Nn(r.clickOutsideDeactivates,b)||Nn(r.allowOutsideClick,b)||(b.preventDefault(),b.stopImmediatePropagation())},F=function(){if(l.active)return br.activateTrap(o,a),l.delayInitialFocusTimer=r.delayInitialFocus?vr(function(){_(c())}):_(c()),i.addEventListener("focusin",A,!0),i.addEventListener("mousedown",k,{capture:!0,passive:!1}),i.addEventListener("touchstart",k,{capture:!0,passive:!1}),i.addEventListener("click",R,{capture:!0,passive:!1}),i.addEventListener("keydown",$,{capture:!0,passive:!1}),a},j=function(){if(l.active)return i.removeEventListener("focusin",A,!0),i.removeEventListener("mousedown",k,!0),i.removeEventListener("touchstart",k,!0),i.removeEventListener("click",R,!0),i.removeEventListener("keydown",$,!0),a},K=function(b){var m=b.some(function(M){var q=Array.from(M.removedNodes);return q.some(function(E){return E===l.mostRecentlyFocusedNode})});m&&_(c())},p=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(K):void 0,D=function(){p&&(p.disconnect(),l.active&&!l.paused&&l.containers.map(function(b){p.observe(b,{subtree:!0,childList:!0})}))};return a={get active(){return l.active},get paused(){return l.paused},activate:function(b){if(l.active)return this;var m=s(b,"onActivate"),M=s(b,"onPostActivate"),q=s(b,"checkCanFocusTrap");q||d(),l.active=!0,l.paused=!1,l.nodeFocusedBeforeActivation=i.activeElement,m==null||m();var E=function(){q&&d(),F(),D(),M==null||M()};return q?(q(l.containers.concat()).then(E,E),this):(E(),this)},deactivate:function(b){if(!l.active)return this;var m=gr({onDeactivate:r.onDeactivate,onPostDeactivate:r.onPostDeactivate,checkCanReturnFocus:r.checkCanReturnFocus},b);clearTimeout(l.delayInitialFocusTimer),l.delayInitialFocusTimer=void 0,j(),l.active=!1,l.paused=!1,D(),br.deactivateTrap(o,a);var M=s(m,"onDeactivate"),q=s(m,"onPostDeactivate"),E=s(m,"checkCanReturnFocus"),U=s(m,"returnFocus","returnFocusOnDeactivate");M==null||M();var J=function(){vr(function(){U&&_(g(l.nodeFocusedBeforeActivation)),q==null||q()})};return U&&E?(E(g(l.nodeFocusedBeforeActivation)).then(J,J),this):(J(),this)},pause:function(b){if(l.paused||!l.active)return this;var m=s(b,"onPause"),M=s(b,"onPostPause");return l.paused=!0,m==null||m(),j(),D(),M==null||M(),this},unpause:function(b){if(!l.paused||!l.active)return this;var m=s(b,"onUnpause"),M=s(b,"onPostUnpause");return l.paused=!1,m==null||m(),d(),F(),D(),M==null||M(),this},updateContainerElements:function(b){var m=[].concat(b).filter(Boolean);return l.containers=m.map(function(M){return typeof M=="string"?i.querySelector(M):M}),l.active&&d(),D(),this}},a.updateContainerElements(e),a};function Sf(t={}){let e;const{immediate:n,...i}=t,o=Xe(!1),r=Xe(!1),l=c=>e==null?void 0:e.activate(c),a=c=>{e==null||e.deactivate(c)},s=()=>{e&&(e.pause(),r.set(!0))},u=()=>{e&&(e.unpause(),r.set(!1))};return{useFocusTrap:c=>(e=Af(c,{...i,onActivate(){var d;o.set(!0),(d=t.onActivate)==null||d.call(t)},onDeactivate(){var d;o.set(!1),(d=t.onDeactivate)==null||d.call(t)}}),n&&l(),{destroy(){a(),e=void 0}}),hasFocus:sr(o),isPaused:sr(r),activate:l,deactivate:a,pause:s,unpause:u}}const Nf=(t,e="body")=>{let n;if(!Rt(e)&&typeof e!="string")return{destroy:Je};async function i(r){if(e=r,typeof e=="string"){if(n=document.querySelector(e),n===null&&(await jo(),n=document.querySelector(e)),n===null)throw new Error(`No element found matching css selector: "${e}"`)}else if(e instanceof HTMLElement)n=e;else throw new TypeError(`Unknown portal target type: ${e===null?"null":typeof e}. Allowed types: string (CSS selector) or HTMLElement.`);t.dataset.portal="",n.appendChild(t),t.hidden=!1}function o(){t.remove()}return i(e),{update:i,destroy:o}};function Tf(t,e){let n=Je;function i(o){n();const{onInteractOutside:r,onInteractOutsideStart:l,enabled:a}=o;if(!a)return;let s=!1,u=!1;function f(h){r&&zn(h,t)&&(l==null||l(h)),s=!0}function c(h){r==null||r(h)}const d=If(t);if(typeof PointerEvent<"u"){const h=_=>{s&&zn(_,t)&&c(_),s=!1};n=dn(Pt(d,"pointerdown",f,!0),Pt(d,"pointerup",h,!0))}else{const h=g=>{u?u=!1:s&&zn(g,t)&&c(g),s=!1},_=g=>{u=!0,s&&zn(g,t)&&c(g),s=!1};n=dn(Pt(d,"mousedown",f,!0),Pt(d,"mouseup",h,!0),Pt(d,"touchstart",f,!0),Pt(d,"touchend",_,!0))}}return i(e),{update:i,destroy:n}}function zn(t,e){if("button"in t&&t.button>0)return!1;const n=t.target;if(!Us(n))return!1;const i=n.ownerDocument;return!i||!i.documentElement.contains(n)?!1:e&&!e.contains(n)}function If(t){return(t==null?void 0:t.ownerDocument)??document}function Ef(){return{elements:{root:kt("label",{action:e=>({destroy:Pn(e,"mousedown",i=>{!i.defaultPrevented&&i.detail>1&&i.preventDefault()})})})}}}const ei=[];function Mf(t,e){let n=Je;function i(){const r=ei.indexOf(t);r>=0&&ei.splice(r,1)}function o(r){n();const{open:l,onClose:a,shouldCloseOnInteractOutside:s,closeOnInteractOutside:u}=r;Js(100).then(()=>{l?ei.push(t):i()});function f(){return Tu(ei)===t}function c(){f()&&a&&a()}function d(_){const g=_.target;Us(g)&&g&&f()&&(_.preventDefault(),_.stopPropagation(),_.stopImmediatePropagation())}function h(_){s!=null&&s(_)&&f()&&(_.preventDefault(),_.stopPropagation(),_.stopImmediatePropagation(),c())}n=Tf(t,{onInteractOutsideStart:d,onInteractOutside:u?h:void 0,enabled:l}).destroy}return o(e),{update:o,destroy(){i(),n()}}}const{name:Dt}=Iu("dialog"),Pf={preventScroll:!0,closeOnEscape:!0,closeOnOutsideClick:!0,role:"dialog",defaultOpen:!1,portal:"body",forceVisible:!1,openFocus:void 0,closeFocus:void 0,onOutsideClick:void 0},Of=["content","title","description"];function na(t){const e={...Pf,...t},n=_o(Fu(e,"ids")),{preventScroll:i,closeOnEscape:o,closeOnOutsideClick:r,role:l,portal:a,forceVisible:s,openFocus:u,closeFocus:f,onOutsideClick:c}=n,d=Yn.writable(null),h=_o({...Bu(Of),...e.ids}),_=e.open??Xe(e.defaultOpen),g=Ru(_,e==null?void 0:e.onOpenChange),v=Jn([g,s],([T,b])=>T||b);let k=Je;function A(T){const b=T.currentTarget,m=T.currentTarget;!Rt(b)||!Rt(m)||(g.set(!0),d.set(m))}function P(){g.set(!1),pr({prop:f.get(),defaultEl:d.get()})}const $=kt(Dt("trigger"),{stores:[g],returned:([T])=>({"aria-haspopup":"dialog","aria-expanded":T,type:"button"}),action:T=>({destroy:dn(Pn(T,"click",m=>{A(m)}),Pn(T,"keydown",m=>{m.key!==On.ENTER&&m.key!==On.SPACE||(m.preventDefault(),A(m))}))})}),R=kt(Dt("overlay"),{stores:[v],returned:([T])=>({hidden:T?void 0:!0,tabindex:-1,style:mo({display:T?void 0:"none"}),"aria-hidden":!0,"data-state":T?"open":"closed"}),action:T=>{let b=Je;if(o.get()){const m=hr(T,{handler:()=>{P()}});m&&m.destroy&&(b=m.destroy)}return{destroy(){b()}}}}),F=kt(Dt("content"),{stores:[v,h.content,h.description,h.title],returned:([T,b,m,M])=>({id:b,role:l.get(),"aria-describedby":m,"aria-labelledby":M,"aria-modal":T?"true":void 0,"data-state":T?"open":"closed",tabindex:-1,hidden:T?void 0:!0,style:mo({display:T?void 0:"none"})}),action:T=>{let b=Je,m=Je;const M=dn(Bt([g],([q])=>{if(!q)return;const E=Sf({immediate:!1,escapeDeactivates:!0,clickOutsideDeactivates:!0,returnFocusOnDeactivate:!1,fallbackFocus:T});b=E.activate,m=E.deactivate;const U=E.useFocusTrap(T);return U&&U.destroy?U.destroy:E.deactivate}),Bt([r,g],([q,E])=>Mf(T,{open:E,closeOnInteractOutside:q,onClose(){P()},shouldCloseOnInteractOutside(U){var J;return(J=c.get())==null||J(U),!U.defaultPrevented}}).destroy),Bt([o],([q])=>{if(!q)return Je;const E=hr(T,{handler:()=>{P()}});return E&&E.destroy?E.destroy:Je}),Bt([v],([q])=>{jo().then(()=>{q?b():m()})}));return{destroy:()=>{k(),M()}}}}),j=kt(Dt("portalled"),{stores:a,returned:T=>({"data-portal":T?"":void 0}),action:T=>{const b=Bt([a],([m])=>{if(!m)return Je;const M=Zu(T,m);if(M===null)return Je;const q=Nf(T,M);return q&&q.destroy?q.destroy:Je});return{destroy(){b()}}}}),K=kt(Dt("title"),{stores:[h.title],returned:([T])=>({id:T})}),p=kt(Dt("description"),{stores:[h.description],returned:([T])=>({id:T})}),D=kt(Dt("close"),{returned:()=>({type:"button"}),action:T=>({destroy:dn(Pn(T,"click",()=>{P()}),Pn(T,"keydown",m=>{m.key!==On.SPACE&&m.key!==On.ENTER||(m.preventDefault(),P())}))})});return Bt([g,i],([T,b])=>{if(Eu){if(b&&T&&(k=Ju()),T){const m=document.getElementById(h.content.get());pr({prop:u.get(),defaultEl:m})}return()=>{s.get()||k()}}}),{ids:h,elements:{content:F,trigger:$,title:K,description:p,overlay:R,close:D,portalled:j},states:{open:g},options:n}}const Lf={orientation:"horizontal",decorative:!1},Ff=t=>{const e={...Lf,...t},n=_o(e),{orientation:i,decorative:o}=n;return{elements:{root:kt("separator",{stores:[i,o],returned:([l,a])=>({role:a?"none":"separator","aria-orientation":l==="vertical"?l:void 0,"aria-hidden":a,"data-orientation":l})})},options:n}};function Ji(t,e){const n={};return e.forEach(i=>{n[i]={[`data-${t}-${i}`]:""}}),i=>n[i]}function Ko(){const t=hu();return e=>{const{originalEvent:n}=e.detail,{cancelable:i}=e,o=n.type;t(o,{originalEvent:n,currentTarget:n.currentTarget},{cancelable:i})||e.preventDefault()}}function Uo(t){const e={};for(const n in t){const i=t[n];i!==void 0&&(e[n]=i)}return e}function Ti(t){return function(e,n){if(n===void 0)return;const i=t[e];i&&i.set(n)}}function ia(){return{NAME:"alert-dialog",PARTS:["action","cancel","content","description","overlay","portal","title","trigger"]}}function Rf(t){const{NAME:e,PARTS:n}=ia(),i=Ji(e,n),o=na({...Uo(t),role:"alertdialog",forceVisible:!0}),r={...o,getAttrs:i,updateOption:Ti(o.options)};return Bs(e,r),{...r,updateOption:Ti(r.options),getAttrs:i}}function vn(){const{NAME:t}=ia();return Gs(t)}const qf=t=>({ids:t&1}),wr=t=>({ids:t[0]});function $f(t){let e;const n=t[12].default,i=ue(n,t,t[11],wr);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,[r]){i&&i.p&&(!e||r&2049)&&ce(i,n,o,o[11],e?fe(n,o[11],r,qf):de(o[11]),wr)},i(o){e||(C(i,o),e=!0)},o(o){S(i,o),e=!1},d(o){i&&i.d(o)}}}function Df(t,e,n){let i,{$$slots:o={},$$scope:r}=e,{preventScroll:l=void 0}=e,{closeOnEscape:a=void 0}=e,{closeOnOutsideClick:s=!1}=e,{portal:u=void 0}=e,{open:f=void 0}=e,{onOpenChange:c=void 0}=e,{openFocus:d=void 0}=e,{closeFocus:h=void 0}=e,{onOutsideClick:_=void 0}=e;const{states:{open:g},updateOption:v,ids:k}=Rf({closeOnEscape:a,preventScroll:l,closeOnOutsideClick:s,portal:u,forceVisible:!0,defaultOpen:f,openFocus:d,closeFocus:h,onOutsideClick:_,onOpenChange:({next:P})=>(f!==P&&(c==null||c(P),n(2,f=P)),P)}),A=Jn([k.content,k.description,k.title],([P,$,R])=>({content:P,description:$,title:R}));return se(t,A,P=>n(0,i=P)),t.$$set=P=>{"preventScroll"in P&&n(3,l=P.preventScroll),"closeOnEscape"in P&&n(4,a=P.closeOnEscape),"closeOnOutsideClick"in P&&n(5,s=P.closeOnOutsideClick),"portal"in P&&n(6,u=P.portal),"open"in P&&n(2,f=P.open),"onOpenChange"in P&&n(7,c=P.onOpenChange),"openFocus"in P&&n(8,d=P.openFocus),"closeFocus"in P&&n(9,h=P.closeFocus),"onOutsideClick"in P&&n(10,_=P.onOutsideClick),"$$scope"in P&&n(11,r=P.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&f!==void 0&&g.set(f),t.$$.dirty&8&&v("preventScroll",l),t.$$.dirty&16&&v("closeOnEscape",a),t.$$.dirty&32&&v("closeOnOutsideClick",s),t.$$.dirty&64&&v("portal",u),t.$$.dirty&256&&v("openFocus",d),t.$$.dirty&512&&v("closeFocus",h),t.$$.dirty&1024&&v("onOutsideClick",_)},[i,A,f,l,a,s,u,c,d,h,_,r,o]}class Bf extends me{constructor(e){super(),he(this,e,Df,$f,le,{preventScroll:3,closeOnEscape:4,closeOnOutsideClick:5,portal:6,open:2,onOpenChange:7,openFocus:8,closeFocus:9,onOutsideClick:10})}}const Gf=t=>({builder:t&8}),kr=t=>({builder:t[3]}),jf=t=>({builder:t&8}),Cr=t=>({builder:t[3]});function Hf(t){let e=t[1],n,i,o=t[1]&&eo(t);return{c(){o&&o.c(),n=Se()},m(r,l){o&&o.m(r,l),w(r,n,l),i=!0},p(r,l){r[1]?e?le(e,r[1])?(o.d(1),o=eo(r),e=r[1],o.c(),o.m(n.parentNode,n)):o.p(r,l):(o=eo(r),e=r[1],o.c(),o.m(n.parentNode,n)):e&&(o.d(1),o=null,e=r[1])},i(r){i||(C(o,r),i=!0)},o(r){S(o,r),i=!1},d(r){r&&y(n),o&&o.d(r)}}}function Vf(t){let e;const n=t[9].default,i=ue(n,t,t[8],Cr);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&264)&&ce(i,n,o,o[8],e?fe(n,o[8],r,jf):de(o[8]),Cr)},i(o){e||(C(i,o),e=!0)},o(o){S(i,o),e=!1},d(o){i&&i.d(o)}}}function eo(t){let e,n,i,o;const r=t[9].default,l=ue(r,t,t[8],kr);let a=[t[3],t[5]],s={};for(let u=0;u<a.length;u+=1)s=G(s,a[u]);return{c(){e=O(t[1]),l&&l.c(),Lt(t[1])(e,s)},m(u,f){w(u,e,f),l&&l.m(e,null),t[10](e),n=!0,i||(o=Fe(t[3].action(e)),i=!0)},p(u,f){l&&l.p&&(!n||f&264)&&ce(l,r,u,u[8],n?fe(r,u[8],f,Gf):de(u[8]),kr),Lt(u[1])(e,s=pe(a,[f&8&&u[3],f&32&&u[5]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&y(e),l&&l.d(u),t[10](null),i=!1,o()}}}function Wf(t){let e,n,i,o;const r=[Vf,Hf],l=[];function a(s,u){return s[2]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),i=Se()},m(s,u){l[e].m(s,u),w(s,i,u),o=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(i.parentNode,i))},i(s){o||(C(n),o=!0)},o(s){S(n),o=!1},d(s){s&&y(i),l[e].d(s)}}}function Kf(t,e,n){let i;const o=["level","asChild","id","el"];let r=te(e,o),l,{$$slots:a={},$$scope:s}=e,{level:u="h2"}=e,{asChild:f=!1}=e,{id:c=void 0}=e,{el:d=void 0}=e;const{elements:{title:h},ids:_,getAttrs:g}=vn();se(t,h,A=>n(7,l=A));const v=g("title");function k(A){we[A?"unshift":"push"](()=>{d=A,n(0,d)})}return t.$$set=A=>{e=G(G({},e),ke(A)),n(5,r=te(e,o)),"level"in A&&n(1,u=A.level),"asChild"in A&&n(2,f=A.asChild),"id"in A&&n(6,c=A.id),"el"in A&&n(0,d=A.el),"$$scope"in A&&n(8,s=A.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&c&&_.title.set(c),t.$$.dirty&128&&n(3,i=l),t.$$.dirty&8&&Object.assign(i,v)},[d,u,f,i,h,r,c,l,s,a,k]}let Uf=class extends me{constructor(e){super(),he(this,e,Kf,Wf,le,{level:1,asChild:2,id:6,el:0})}};const Jf=t=>({builder:t&4}),Ar=t=>({builder:t[2]}),Yf=t=>({builder:t&4}),Sr=t=>({builder:t[2]});function Xf(t){let e,n,i,o;const r=t[8].default,l=ue(r,t,t[7],Ar);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=G(s,a[u]);return{c(){e=O("button"),l&&l.c(),oe(e,s)},m(u,f){w(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[9](e),n=!0,i||(o=[Fe(t[2].action(e)),V(e,"m-click",t[4]),V(e,"m-keydown",t[4])],i=!0)},p(u,f){l&&l.p&&(!n||f&132)&&ce(l,r,u,u[7],n?fe(r,u[7],f,Jf):de(u[7]),Ar),oe(e,s=pe(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&y(e),l&&l.d(u),t[9](null),i=!1,Le(o)}}}function Zf(t){let e;const n=t[8].default,i=ue(n,t,t[7],Sr);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&132)&&ce(i,n,o,o[7],e?fe(n,o[7],r,Yf):de(o[7]),Sr)},i(o){e||(C(i,o),e=!0)},o(o){S(i,o),e=!1},d(o){i&&i.d(o)}}}function Qf(t){let e,n,i,o;const r=[Zf,Xf],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),i=Se()},m(s,u){l[e].m(s,u),w(s,i,u),o=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(i.parentNode,i))},i(s){o||(C(n),o=!0)},o(s){S(n),o=!1},d(s){s&&y(i),l[e].d(s)}}}function xf(t,e,n){let i;const o=["asChild","el"];let r=te(e,o),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:d}=vn();se(t,c,v=>n(6,l=v));const h=Ko(),_=d("action");function g(v){we[v?"unshift":"push"](()=>{f=v,n(0,f)})}return t.$$set=v=>{e=G(G({},e),ke(v)),n(5,r=te(e,o)),"asChild"in v&&n(1,u=v.asChild),"el"in v&&n(0,f=v.el),"$$scope"in v&&n(7,s=v.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,i=l),t.$$.dirty&4&&Object.assign(i,_)},[f,u,i,c,h,r,l,s,a,g]}let zf=class extends me{constructor(e){super(),he(this,e,xf,Qf,le,{asChild:1,el:0})}};const ec=t=>({builder:t&4}),Nr=t=>({builder:t[2]}),tc=t=>({builder:t&4}),Tr=t=>({builder:t[2]});function nc(t){let e,n,i,o;const r=t[7].default,l=ue(r,t,t[6],Nr);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=G(s,a[u]);return{c(){e=O("div"),l&&l.c(),oe(e,s)},m(u,f){w(u,e,f),l&&l.m(e,null),t[8](e),n=!0,i||(o=Fe(t[2].action(e)),i=!0)},p(u,f){l&&l.p&&(!n||f&68)&&ce(l,r,u,u[6],n?fe(r,u[6],f,ec):de(u[6]),Nr),oe(e,s=pe(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&y(e),l&&l.d(u),t[8](null),i=!1,o()}}}function ic(t){let e;const n=t[7].default,i=ue(n,t,t[6],Tr);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&68)&&ce(i,n,o,o[6],e?fe(n,o[6],r,tc):de(o[6]),Tr)},i(o){e||(C(i,o),e=!0)},o(o){S(i,o),e=!1},d(o){i&&i.d(o)}}}function oc(t){let e,n,i,o;const r=[ic,nc],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),i=Se()},m(s,u){l[e].m(s,u),w(s,i,u),o=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(i.parentNode,i))},i(s){o||(C(n),o=!0)},o(s){S(n),o=!1},d(s){s&&y(i),l[e].d(s)}}}function rc(t,e,n){let i;const o=["asChild","el"];let r=te(e,o),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{portalled:c},getAttrs:d}=vn();se(t,c,g=>n(5,l=g));const h=d("portal");function _(g){we[g?"unshift":"push"](()=>{f=g,n(0,f)})}return t.$$set=g=>{e=G(G({},e),ke(g)),n(4,r=te(e,o)),"asChild"in g&&n(1,u=g.asChild),"el"in g&&n(0,f=g.el),"$$scope"in g&&n(6,s=g.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,i=l),t.$$.dirty&4&&Object.assign(i,h)},[f,u,i,c,r,l,s,a,_]}let lc=class extends me{constructor(e){super(),he(this,e,rc,oc,le,{asChild:1,el:0})}};const sc=t=>({builder:t[0]&256}),Ir=t=>({builder:t[8]}),ac=t=>({builder:t[0]&256}),Er=t=>({builder:t[8]}),uc=t=>({builder:t[0]&256}),Mr=t=>({builder:t[8]}),fc=t=>({builder:t[0]&256}),Pr=t=>({builder:t[8]}),cc=t=>({builder:t[0]&256}),Or=t=>({builder:t[8]}),dc=t=>({builder:t[0]&256}),Lr=t=>({builder:t[8]});function pc(t){let e,n,i,o;const r=t[16].default,l=ue(r,t,t[15],Ir);let a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=G(s,a[u]);return{c(){e=O("div"),l&&l.c(),oe(e,s)},m(u,f){w(u,e,f),l&&l.m(e,null),t[56](e),n=!0,i||(o=[Fe(t[8].action(e)),V(e,"pointerdown",t[45]),V(e,"pointermove",t[46]),V(e,"pointerup",t[47]),V(e,"touchend",t[48]),V(e,"touchstart",t[49]),V(e,"touchcancel",t[50]),V(e,"touchmove",t[51])],i=!0)},p(u,f){l&&l.p&&(!n||f[0]&33024)&&ce(l,r,u,u[15],n?fe(r,u[15],f,sc):de(u[15]),Ir),oe(e,s=pe(a,[f[0]&256&&u[8],f[0]&4096&&u[12]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&y(e),l&&l.d(u),t[56](null),i=!1,Le(o)}}}function hc(t){let e,n,i,o,r;const l=t[16].default,a=ue(l,t,t[15],Er);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=G(u,s[f]);return{c(){e=O("div"),a&&a.c(),oe(e,u)},m(f,c){w(f,e,c),a&&a.m(e,null),t[55](e),i=!0,o||(r=[Fe(t[8].action(e)),V(e,"pointerdown",t[38]),V(e,"pointermove",t[39]),V(e,"pointerup",t[40]),V(e,"touchend",t[41]),V(e,"touchstart",t[42]),V(e,"touchcancel",t[43]),V(e,"touchmove",t[44])],o=!0)},p(f,c){t=f,a&&a.p&&(!i||c[0]&33024)&&ce(a,l,t,t[15],i?fe(l,t[15],c,ac):de(t[15]),Er),oe(e,u=pe(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){i||(C(a,f),n&&n.end(1),i=!0)},o(f){S(a,f),f&&(n=$t(e,t[5],t[6])),i=!1},d(f){f&&y(e),a&&a.d(f),t[55](null),f&&n&&n.end(),o=!1,Le(r)}}}function mc(t){let e,n,i,o,r;const l=t[16].default,a=ue(l,t,t[15],Mr);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=G(u,s[f]);return{c(){e=O("div"),a&&a.c(),oe(e,u)},m(f,c){w(f,e,c),a&&a.m(e,null),t[54](e),i=!0,o||(r=[Fe(t[8].action(e)),V(e,"pointerdown",t[31]),V(e,"pointermove",t[32]),V(e,"pointerup",t[33]),V(e,"touchend",t[34]),V(e,"touchstart",t[35]),V(e,"touchcancel",t[36]),V(e,"touchmove",t[37])],o=!0)},p(f,c){t=f,a&&a.p&&(!i||c[0]&33024)&&ce(a,l,t,t[15],i?fe(l,t[15],c,uc):de(t[15]),Mr),oe(e,u=pe(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){i||(C(a,f),f&&(n||Ze(()=>{n=qt(e,t[3],t[4]),n.start()})),i=!0)},o(f){S(a,f),i=!1},d(f){f&&y(e),a&&a.d(f),t[54](null),o=!1,Le(r)}}}function _c(t){let e,n,i,o,r,l;const a=t[16].default,s=ue(a,t,t[15],Pr);let u=[t[8],t[12]],f={};for(let c=0;c<u.length;c+=1)f=G(f,u[c]);return{c(){e=O("div"),s&&s.c(),oe(e,f)},m(c,d){w(c,e,d),s&&s.m(e,null),t[53](e),o=!0,r||(l=[Fe(t[8].action(e)),V(e,"pointerdown",t[24]),V(e,"pointermove",t[25]),V(e,"pointerup",t[26]),V(e,"touchend",t[27]),V(e,"touchstart",t[28]),V(e,"touchcancel",t[29]),V(e,"touchmove",t[30])],r=!0)},p(c,d){t=c,s&&s.p&&(!o||d[0]&33024)&&ce(s,a,t,t[15],o?fe(a,t[15],d,fc):de(t[15]),Pr),oe(e,f=pe(u,[d[0]&256&&t[8],d[0]&4096&&t[12]]))},i(c){o||(C(s,c),c&&Ze(()=>{o&&(i&&i.end(1),n=qt(e,t[3],t[4]),n.start())}),o=!0)},o(c){S(s,c),n&&n.invalidate(),c&&(i=$t(e,t[5],t[6])),o=!1},d(c){c&&y(e),s&&s.d(c),t[53](null),c&&i&&i.end(),r=!1,Le(l)}}}function gc(t){let e,n,i,o,r;const l=t[16].default,a=ue(l,t,t[15],Or);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=G(u,s[f]);return{c(){e=O("div"),a&&a.c(),oe(e,u)},m(f,c){w(f,e,c),a&&a.m(e,null),t[52](e),i=!0,o||(r=[Fe(t[8].action(e)),V(e,"pointerdown",t[17]),V(e,"pointermove",t[18]),V(e,"pointerup",t[19]),V(e,"touchend",t[20]),V(e,"touchstart",t[21]),V(e,"touchcancel",t[22]),V(e,"touchmove",t[23])],o=!0)},p(f,c){t=f,a&&a.p&&(!i||c[0]&33024)&&ce(a,l,t,t[15],i?fe(l,t[15],c,cc):de(t[15]),Or),oe(e,u=pe(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){i||(C(a,f),f&&Ze(()=>{i&&(n||(n=Ft(e,t[1],t[2],!0)),n.run(1))}),i=!0)},o(f){S(a,f),f&&(n||(n=Ft(e,t[1],t[2],!1)),n.run(0)),i=!1},d(f){f&&y(e),a&&a.d(f),t[52](null),f&&n&&n.end(),o=!1,Le(r)}}}function bc(t){let e;const n=t[16].default,i=ue(n,t,t[15],Lr);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r[0]&33024)&&ce(i,n,o,o[15],e?fe(n,o[15],r,dc):de(o[15]),Lr)},i(o){e||(C(i,o),e=!0)},o(o){S(i,o),e=!1},d(o){i&&i.d(o)}}}function vc(t){let e,n,i,o;const r=[bc,gc,_c,mc,hc,pc],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),i=Se()},m(s,u){~e&&l[e].m(s,u),w(s,i,u),o=!0},p(s,u){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Pe(),S(l[f],1,1,()=>{l[f]=null}),Oe()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(i.parentNode,i)):n=null)},i(s){o||(C(n),o=!0)},o(s){S(n),o=!1},d(s){s&&y(i),~e&&l[e].d(s)}}}function yc(t,e,n){let i;const o=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","id","asChild","el"];let r=te(e,o),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:h=void 0}=e,{outTransition:_=void 0}=e,{outTransitionConfig:g=void 0}=e,{id:v=void 0}=e,{asChild:k=!1}=e,{el:A=void 0}=e;const{elements:{content:P},states:{open:$},ids:R,getAttrs:F}=vn();se(t,P,N=>n(14,l=N)),se(t,$,N=>n(9,a=N));const j=F("content");function K(N){Z.call(this,t,N)}function p(N){Z.call(this,t,N)}function D(N){Z.call(this,t,N)}function T(N){Z.call(this,t,N)}function b(N){Z.call(this,t,N)}function m(N){Z.call(this,t,N)}function M(N){Z.call(this,t,N)}function q(N){Z.call(this,t,N)}function E(N){Z.call(this,t,N)}function U(N){Z.call(this,t,N)}function J(N){Z.call(this,t,N)}function ee(N){Z.call(this,t,N)}function z(N){Z.call(this,t,N)}function x(N){Z.call(this,t,N)}function ne(N){Z.call(this,t,N)}function _e(N){Z.call(this,t,N)}function H(N){Z.call(this,t,N)}function re(N){Z.call(this,t,N)}function be(N){Z.call(this,t,N)}function Te(N){Z.call(this,t,N)}function Be(N){Z.call(this,t,N)}function $e(N){Z.call(this,t,N)}function Me(N){Z.call(this,t,N)}function qe(N){Z.call(this,t,N)}function Ve(N){Z.call(this,t,N)}function dt(N){Z.call(this,t,N)}function tt(N){Z.call(this,t,N)}function He(N){Z.call(this,t,N)}function pt(N){Z.call(this,t,N)}function lt(N){Z.call(this,t,N)}function xe(N){Z.call(this,t,N)}function st(N){Z.call(this,t,N)}function Ye(N){Z.call(this,t,N)}function Re(N){Z.call(this,t,N)}function We(N){Z.call(this,t,N)}function Ge(N){we[N?"unshift":"push"](()=>{A=N,n(0,A)})}function ve(N){we[N?"unshift":"push"](()=>{A=N,n(0,A)})}function Ae(N){we[N?"unshift":"push"](()=>{A=N,n(0,A)})}function ie(N){we[N?"unshift":"push"](()=>{A=N,n(0,A)})}function De(N){we[N?"unshift":"push"](()=>{A=N,n(0,A)})}return t.$$set=N=>{e=G(G({},e),ke(N)),n(12,r=te(e,o)),"transition"in N&&n(1,f=N.transition),"transitionConfig"in N&&n(2,c=N.transitionConfig),"inTransition"in N&&n(3,d=N.inTransition),"inTransitionConfig"in N&&n(4,h=N.inTransitionConfig),"outTransition"in N&&n(5,_=N.outTransition),"outTransitionConfig"in N&&n(6,g=N.outTransitionConfig),"id"in N&&n(13,v=N.id),"asChild"in N&&n(7,k=N.asChild),"el"in N&&n(0,A=N.el),"$$scope"in N&&n(15,u=N.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&8192&&v&&R.content.set(v),t.$$.dirty[0]&16384&&n(8,i=l),t.$$.dirty[0]&256&&Object.assign(i,j)},[A,f,c,d,h,_,g,k,i,a,P,$,r,v,l,u,s,K,p,D,T,b,m,M,q,E,U,J,ee,z,x,ne,_e,H,re,be,Te,Be,$e,Me,qe,Ve,dt,tt,He,pt,lt,xe,st,Ye,Re,We,Ge,ve,Ae,ie,De]}let wc=class extends me{constructor(e){super(),he(this,e,yc,vc,le,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,id:13,asChild:7,el:0},null,[-1,-1])}};const kc=t=>({builder:t&256}),Fr=t=>({builder:t[8]});function Cc(t){let e,n,i,o=[t[8],t[12]],r={};for(let l=0;l<o.length;l+=1)r=G(r,o[l]);return{c(){e=O("div"),oe(e,r)},m(l,a){w(l,e,a),t[20](e),n||(i=Fe(t[8].action(e)),n=!0)},p(l,a){oe(e,r=pe(o,[a&256&&l[8],a&4096&&l[12]]))},i:ae,o:ae,d(l){l&&y(e),t[20](null),n=!1,i()}}}function Ac(t){let e,n,i,o,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=G(a,l[s]);return{c(){e=O("div"),oe(e,a)},m(s,u){w(s,e,u),t[19](e),i=!0,o||(r=Fe(t[8].action(e)),o=!0)},p(s,u){t=s,oe(e,a=pe(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){i||(n&&n.end(1),i=!0)},o(s){s&&(n=$t(e,t[5],t[6])),i=!1},d(s){s&&y(e),t[19](null),s&&n&&n.end(),o=!1,r()}}}function Sc(t){let e,n,i,o,r=[t[8],t[12]],l={};for(let a=0;a<r.length;a+=1)l=G(l,r[a]);return{c(){e=O("div"),oe(e,l)},m(a,s){w(a,e,s),t[18](e),i||(o=Fe(t[8].action(e)),i=!0)},p(a,s){t=a,oe(e,l=pe(r,[s&256&&t[8],s&4096&&t[12]]))},i(a){a&&(n||Ze(()=>{n=qt(e,t[3],t[4]),n.start()}))},o:ae,d(a){a&&y(e),t[18](null),i=!1,o()}}}function Nc(t){let e,n,i,o,r,l,a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=G(s,a[u]);return{c(){e=O("div"),oe(e,s)},m(u,f){w(u,e,f),t[17](e),o=!0,r||(l=Fe(t[8].action(e)),r=!0)},p(u,f){t=u,oe(e,s=pe(a,[f&256&&t[8],f&4096&&t[12]]))},i(u){o||(u&&Ze(()=>{o&&(i&&i.end(1),n=qt(e,t[3],t[4]),n.start())}),o=!0)},o(u){n&&n.invalidate(),u&&(i=$t(e,t[5],t[6])),o=!1},d(u){u&&y(e),t[17](null),u&&i&&i.end(),r=!1,l()}}}function Tc(t){let e,n,i,o,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=G(a,l[s]);return{c(){e=O("div"),oe(e,a)},m(s,u){w(s,e,u),t[16](e),i=!0,o||(r=Fe(t[8].action(e)),o=!0)},p(s,u){t=s,oe(e,a=pe(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){i||(s&&Ze(()=>{i&&(n||(n=Ft(e,t[1],t[2],!0)),n.run(1))}),i=!0)},o(s){s&&(n||(n=Ft(e,t[1],t[2],!1)),n.run(0)),i=!1},d(s){s&&y(e),t[16](null),s&&n&&n.end(),o=!1,r()}}}function Ic(t){let e;const n=t[15].default,i=ue(n,t,t[14],Fr);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&16640)&&ce(i,n,o,o[14],e?fe(n,o[14],r,kc):de(o[14]),Fr)},i(o){e||(C(i,o),e=!0)},o(o){S(i,o),e=!1},d(o){i&&i.d(o)}}}function Ec(t){let e,n,i,o;const r=[Ic,Tc,Nc,Sc,Ac,Cc],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),i=Se()},m(s,u){~e&&l[e].m(s,u),w(s,i,u),o=!0},p(s,[u]){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Pe(),S(l[f],1,1,()=>{l[f]=null}),Oe()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(i.parentNode,i)):n=null)},i(s){o||(C(n),o=!0)},o(s){S(n),o=!1},d(s){s&&y(i),~e&&l[e].d(s)}}}function Mc(t,e,n){let i;const o=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","el"];let r=te(e,o),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:h=void 0}=e,{outTransition:_=void 0}=e,{outTransitionConfig:g=void 0}=e,{asChild:v=!1}=e,{el:k=void 0}=e;const{elements:{overlay:A},states:{open:P},getAttrs:$}=vn();se(t,A,T=>n(13,l=T)),se(t,P,T=>n(9,a=T));const R=$("overlay");function F(T){we[T?"unshift":"push"](()=>{k=T,n(0,k)})}function j(T){we[T?"unshift":"push"](()=>{k=T,n(0,k)})}function K(T){we[T?"unshift":"push"](()=>{k=T,n(0,k)})}function p(T){we[T?"unshift":"push"](()=>{k=T,n(0,k)})}function D(T){we[T?"unshift":"push"](()=>{k=T,n(0,k)})}return t.$$set=T=>{e=G(G({},e),ke(T)),n(12,r=te(e,o)),"transition"in T&&n(1,f=T.transition),"transitionConfig"in T&&n(2,c=T.transitionConfig),"inTransition"in T&&n(3,d=T.inTransition),"inTransitionConfig"in T&&n(4,h=T.inTransitionConfig),"outTransition"in T&&n(5,_=T.outTransition),"outTransitionConfig"in T&&n(6,g=T.outTransitionConfig),"asChild"in T&&n(7,v=T.asChild),"el"in T&&n(0,k=T.el),"$$scope"in T&&n(14,u=T.$$scope)},t.$$.update=()=>{t.$$.dirty&8192&&n(8,i=l),t.$$.dirty&256&&Object.assign(i,R)},[k,f,c,d,h,_,g,v,i,a,A,P,r,l,u,s,F,j,K,p,D]}let Pc=class extends me{constructor(e){super(),he(this,e,Mc,Ec,le,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,el:0})}};const Oc=t=>({builder:t&4}),Rr=t=>({builder:t[2]}),Lc=t=>({builder:t&4}),qr=t=>({builder:t[2]});function Fc(t){let e,n,i,o;const r=t[8].default,l=ue(r,t,t[7],Rr);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=G(s,a[u]);return{c(){e=O("div"),l&&l.c(),oe(e,s)},m(u,f){w(u,e,f),l&&l.m(e,null),t[9](e),n=!0,i||(o=Fe(t[2].action(e)),i=!0)},p(u,f){l&&l.p&&(!n||f&132)&&ce(l,r,u,u[7],n?fe(r,u[7],f,Oc):de(u[7]),Rr),oe(e,s=pe(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&y(e),l&&l.d(u),t[9](null),i=!1,o()}}}function Rc(t){let e;const n=t[8].default,i=ue(n,t,t[7],qr);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&132)&&ce(i,n,o,o[7],e?fe(n,o[7],r,Lc):de(o[7]),qr)},i(o){e||(C(i,o),e=!0)},o(o){S(i,o),e=!1},d(o){i&&i.d(o)}}}function qc(t){let e,n,i,o;const r=[Rc,Fc],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),i=Se()},m(s,u){l[e].m(s,u),w(s,i,u),o=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(i.parentNode,i))},i(s){o||(C(n),o=!0)},o(s){S(n),o=!1},d(s){s&&y(i),l[e].d(s)}}}function $c(t,e,n){let i;const o=["asChild","id","el"];let r=te(e,o),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{description:d},ids:h,getAttrs:_}=vn();se(t,d,k=>n(6,l=k));const g=_("description");function v(k){we[k?"unshift":"push"](()=>{c=k,n(0,c)})}return t.$$set=k=>{e=G(G({},e),ke(k)),n(4,r=te(e,o)),"asChild"in k&&n(1,u=k.asChild),"id"in k&&n(5,f=k.id),"el"in k&&n(0,c=k.el),"$$scope"in k&&n(7,s=k.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f&&h.description.set(f),t.$$.dirty&64&&n(2,i=l),t.$$.dirty&4&&Object.assign(i,g)},[c,u,i,d,r,f,l,s,a,v]}let Dc=class extends me{constructor(e){super(),he(this,e,$c,qc,le,{asChild:1,id:5,el:0})}};function Bc(t,e){const n=[];return e.builders.forEach(i=>{const o=i.action(t);o&&n.push(o)}),{destroy:()=>{n.forEach(i=>{i.destroy&&i.destroy()})}}}function $r(t){const e={};return t.forEach(n=>{Object.keys(n).forEach(i=>{i!=="action"&&(e[i]=n[i])})}),e}function Gc(t){let e=t[1]?"a":"button",n,i,o=(t[1]?"a":"button")&&to(t);return{c(){o&&o.c(),n=Se()},m(r,l){o&&o.m(r,l),w(r,n,l),i=!0},p(r,l){r[1],e?le(e,r[1]?"a":"button")?(o.d(1),o=to(r),e=r[1]?"a":"button",o.c(),o.m(n.parentNode,n)):o.p(r,l):(o=to(r),e=r[1]?"a":"button",o.c(),o.m(n.parentNode,n))},i(r){i||(C(o,r),i=!0)},o(r){S(o,r),i=!1},d(r){r&&y(n),o&&o.d(r)}}}function jc(t){let e=t[1]?"a":"button",n,i,o=(t[1]?"a":"button")&&no(t);return{c(){o&&o.c(),n=Se()},m(r,l){o&&o.m(r,l),w(r,n,l),i=!0},p(r,l){r[1],e?le(e,r[1]?"a":"button")?(o.d(1),o=no(r),e=r[1]?"a":"button",o.c(),o.m(n.parentNode,n)):o.p(r,l):(o=no(r),e=r[1]?"a":"button",o.c(),o.m(n.parentNode,n))},i(r){i||(C(o,r),i=!0)},o(r){S(o,r),i=!1},d(r){r&&y(n),o&&o.d(r)}}}function to(t){let e,n,i,o,r;const l=t[7].default,a=ue(l,t,t[6],null);let s=[{type:n=t[1]?void 0:t[2]},{href:t[1]},{tabindex:"0"},t[5],t[4]],u={};for(let f=0;f<s.length;f+=1)u=G(u,s[f]);return{c(){e=O(t[1]?"a":"button"),a&&a.c(),Lt(t[1]?"a":"button")(e,u)},m(f,c){w(f,e,c),a&&a.m(e,null),i=!0,o||(r=[V(e,"click",t[14]),V(e,"change",t[15]),V(e,"keydown",t[16]),V(e,"keyup",t[17]),V(e,"mouseenter",t[18]),V(e,"mouseleave",t[19])],o=!0)},p(f,c){a&&a.p&&(!i||c&64)&&ce(a,l,f,f[6],i?fe(l,f[6],c,null):de(f[6]),null),Lt(f[1]?"a":"button")(e,u=pe(s,[(!i||c&6&&n!==(n=f[1]?void 0:f[2]))&&{type:n},(!i||c&2)&&{href:f[1]},{tabindex:"0"},c&32&&f[5],f[4]]))},i(f){i||(C(a,f),i=!0)},o(f){S(a,f),i=!1},d(f){f&&y(e),a&&a.d(f),o=!1,Le(r)}}}function no(t){let e,n,i,o,r,l;const a=t[7].default,s=ue(a,t,t[6],null);let u=[{type:n=t[1]?void 0:t[2]},{href:t[1]},{tabindex:"0"},$r(t[3]),t[5],t[4]],f={};for(let c=0;c<u.length;c+=1)f=G(f,u[c]);return{c(){e=O(t[1]?"a":"button"),s&&s.c(),Lt(t[1]?"a":"button")(e,f)},m(c,d){w(c,e,d),s&&s.m(e,null),t[20](e),o=!0,r||(l=[V(e,"click",t[8]),V(e,"change",t[9]),V(e,"keydown",t[10]),V(e,"keyup",t[11]),V(e,"mouseenter",t[12]),V(e,"mouseleave",t[13]),Fe(i=Bc.call(null,e,{builders:t[3]}))],r=!0)},p(c,d){s&&s.p&&(!o||d&64)&&ce(s,a,c,c[6],o?fe(a,c[6],d,null):de(c[6]),null),Lt(c[1]?"a":"button")(e,f=pe(u,[(!o||d&6&&n!==(n=c[1]?void 0:c[2]))&&{type:n},(!o||d&2)&&{href:c[1]},{tabindex:"0"},d&8&&$r(c[3]),d&32&&c[5],c[4]])),i&&Nt(i.update)&&d&8&&i.update.call(null,{builders:c[3]})},i(c){o||(C(s,c),o=!0)},o(c){S(s,c),o=!1},d(c){c&&y(e),s&&s.d(c),t[20](null),r=!1,Le(l)}}}function Hc(t){let e,n,i,o;const r=[jc,Gc],l=[];function a(s,u){return s[3]&&s[3].length?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),i=Se()},m(s,u){l[e].m(s,u),w(s,i,u),o=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(i.parentNode,i))},i(s){o||(C(n),o=!0)},o(s){S(n),o=!1},d(s){s&&y(i),l[e].d(s)}}}function Vc(t,e,n){const i=["href","type","builders","el"];let o=te(e,i),{$$slots:r={},$$scope:l}=e,{href:a=void 0}=e,{type:s=void 0}=e,{builders:u=[]}=e,{el:f=void 0}=e;const c={"data-button-root":""};function d(p){Z.call(this,t,p)}function h(p){Z.call(this,t,p)}function _(p){Z.call(this,t,p)}function g(p){Z.call(this,t,p)}function v(p){Z.call(this,t,p)}function k(p){Z.call(this,t,p)}function A(p){Z.call(this,t,p)}function P(p){Z.call(this,t,p)}function $(p){Z.call(this,t,p)}function R(p){Z.call(this,t,p)}function F(p){Z.call(this,t,p)}function j(p){Z.call(this,t,p)}function K(p){we[p?"unshift":"push"](()=>{f=p,n(0,f)})}return t.$$set=p=>{e=G(G({},e),ke(p)),n(5,o=te(e,i)),"href"in p&&n(1,a=p.href),"type"in p&&n(2,s=p.type),"builders"in p&&n(3,u=p.builders),"el"in p&&n(0,f=p.el),"$$scope"in p&&n(6,l=p.$$scope)},[f,a,s,u,c,o,l,r,d,h,_,g,v,k,A,P,$,R,F,j,K]}let Wc=class extends me{constructor(e){super(),he(this,e,Vc,Hc,le,{href:1,type:2,builders:3,el:0})}};function Kc(){return{NAME:"separator",PARTS:["root"]}}function Uc(t){const{NAME:e,PARTS:n}=Kc(),i=Ji(e,n),o={...Ff(Uo(t)),getAttrs:i};return{...o,updateOption:Ti(o.options)}}const Jc=t=>({builder:t&4}),Dr=t=>({builder:t[2]});function Yc(t){let e,n,i,o=[t[2],t[4]],r={};for(let l=0;l<o.length;l+=1)r=G(r,o[l]);return{c(){e=O("div"),oe(e,r)},m(l,a){w(l,e,a),t[10](e),n||(i=Fe(t[2].action(e)),n=!0)},p(l,a){oe(e,r=pe(o,[a&4&&l[2],a&16&&l[4]]))},i:ae,o:ae,d(l){l&&y(e),t[10](null),n=!1,i()}}}function Xc(t){let e;const n=t[9].default,i=ue(n,t,t[8],Dr);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&260)&&ce(i,n,o,o[8],e?fe(n,o[8],r,Jc):de(o[8]),Dr)},i(o){e||(C(i,o),e=!0)},o(o){S(i,o),e=!1},d(o){i&&i.d(o)}}}function Zc(t){let e,n,i,o;const r=[Xc,Yc],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),i=Se()},m(s,u){l[e].m(s,u),w(s,i,u),o=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(i.parentNode,i))},i(s){o||(C(n),o=!0)},o(s){S(n),o=!1},d(s){s&&y(i),l[e].d(s)}}}function Qc(t,e,n){let i;const o=["orientation","decorative","asChild","el"];let r=te(e,o),l,{$$slots:a={},$$scope:s}=e,{orientation:u="horizontal"}=e,{decorative:f=!0}=e,{asChild:c=!1}=e,{el:d=void 0}=e;const{elements:{root:h},updateOption:_,getAttrs:g}=Uc({orientation:u,decorative:f});se(t,h,A=>n(7,l=A));const v=g("root");function k(A){we[A?"unshift":"push"](()=>{d=A,n(0,d)})}return t.$$set=A=>{e=G(G({},e),ke(A)),n(4,r=te(e,o)),"orientation"in A&&n(5,u=A.orientation),"decorative"in A&&n(6,f=A.decorative),"asChild"in A&&n(1,c=A.asChild),"el"in A&&n(0,d=A.el),"$$scope"in A&&n(8,s=A.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&_("orientation",u),t.$$.dirty&64&&_("decorative",f),t.$$.dirty&128&&n(2,i=l),t.$$.dirty&4&&Object.assign(i,v)},[d,c,i,h,r,u,f,l,s,a,k]}let xc=class extends me{constructor(e){super(),he(this,e,Qc,Zc,le,{orientation:5,decorative:6,asChild:1,el:0})}};function oa(){return{NAME:"dialog",PARTS:["close","content","description","overlay","portal","title","trigger"]}}function zc(t){const{NAME:e,PARTS:n}=oa(),i=Ji(e,n),o={...na({...Uo(t),role:"dialog",forceVisible:!0}),getAttrs:i};return Bs(e,o),{...o,updateOption:Ti(o.options)}}function yn(){const{NAME:t}=oa();return Gs(t)}const ed=t=>({ids:t&1}),Br=t=>({ids:t[0]});function td(t){let e;const n=t[12].default,i=ue(n,t,t[11],Br);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,[r]){i&&i.p&&(!e||r&2049)&&ce(i,n,o,o[11],e?fe(n,o[11],r,ed):de(o[11]),Br)},i(o){e||(C(i,o),e=!0)},o(o){S(i,o),e=!1},d(o){i&&i.d(o)}}}function nd(t,e,n){let i,{$$slots:o={},$$scope:r}=e,{preventScroll:l=void 0}=e,{closeOnEscape:a=void 0}=e,{closeOnOutsideClick:s=void 0}=e,{portal:u=void 0}=e,{open:f=void 0}=e,{onOpenChange:c=void 0}=e,{openFocus:d=void 0}=e,{closeFocus:h=void 0}=e,{onOutsideClick:_=void 0}=e;const{states:{open:g},updateOption:v,ids:k}=zc({closeOnEscape:a,preventScroll:l,closeOnOutsideClick:s,portal:u,forceVisible:!0,defaultOpen:f,openFocus:d,closeFocus:h,onOutsideClick:_,onOpenChange:({next:P})=>(f!==P&&(c==null||c(P),n(2,f=P)),P)}),A=Jn([k.content,k.description,k.title],([P,$,R])=>({content:P,description:$,title:R}));return se(t,A,P=>n(0,i=P)),t.$$set=P=>{"preventScroll"in P&&n(3,l=P.preventScroll),"closeOnEscape"in P&&n(4,a=P.closeOnEscape),"closeOnOutsideClick"in P&&n(5,s=P.closeOnOutsideClick),"portal"in P&&n(6,u=P.portal),"open"in P&&n(2,f=P.open),"onOpenChange"in P&&n(7,c=P.onOpenChange),"openFocus"in P&&n(8,d=P.openFocus),"closeFocus"in P&&n(9,h=P.closeFocus),"onOutsideClick"in P&&n(10,_=P.onOutsideClick),"$$scope"in P&&n(11,r=P.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&f!==void 0&&g.set(f),t.$$.dirty&8&&v("preventScroll",l),t.$$.dirty&16&&v("closeOnEscape",a),t.$$.dirty&32&&v("closeOnOutsideClick",s),t.$$.dirty&64&&v("portal",u),t.$$.dirty&256&&v("openFocus",d),t.$$.dirty&512&&v("closeFocus",h),t.$$.dirty&1024&&v("onOutsideClick",_)},[i,A,f,l,a,s,u,c,d,h,_,r,o]}class id extends me{constructor(e){super(),he(this,e,nd,td,le,{preventScroll:3,closeOnEscape:4,closeOnOutsideClick:5,portal:6,open:2,onOpenChange:7,openFocus:8,closeFocus:9,onOutsideClick:10})}}const od=t=>({builder:t&8}),Gr=t=>({builder:t[3]}),rd=t=>({builder:t&8}),jr=t=>({builder:t[3]});function ld(t){let e=t[1],n,i,o=t[1]&&io(t);return{c(){o&&o.c(),n=Se()},m(r,l){o&&o.m(r,l),w(r,n,l),i=!0},p(r,l){r[1]?e?le(e,r[1])?(o.d(1),o=io(r),e=r[1],o.c(),o.m(n.parentNode,n)):o.p(r,l):(o=io(r),e=r[1],o.c(),o.m(n.parentNode,n)):e&&(o.d(1),o=null,e=r[1])},i(r){i||(C(o,r),i=!0)},o(r){S(o,r),i=!1},d(r){r&&y(n),o&&o.d(r)}}}function sd(t){let e;const n=t[9].default,i=ue(n,t,t[8],jr);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&264)&&ce(i,n,o,o[8],e?fe(n,o[8],r,rd):de(o[8]),jr)},i(o){e||(C(i,o),e=!0)},o(o){S(i,o),e=!1},d(o){i&&i.d(o)}}}function io(t){let e,n,i,o;const r=t[9].default,l=ue(r,t,t[8],Gr);let a=[t[3],t[5]],s={};for(let u=0;u<a.length;u+=1)s=G(s,a[u]);return{c(){e=O(t[1]),l&&l.c(),Lt(t[1])(e,s)},m(u,f){w(u,e,f),l&&l.m(e,null),t[10](e),n=!0,i||(o=Fe(t[3].action(e)),i=!0)},p(u,f){l&&l.p&&(!n||f&264)&&ce(l,r,u,u[8],n?fe(r,u[8],f,od):de(u[8]),Gr),Lt(u[1])(e,s=pe(a,[f&8&&u[3],f&32&&u[5]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&y(e),l&&l.d(u),t[10](null),i=!1,o()}}}function ad(t){let e,n,i,o;const r=[sd,ld],l=[];function a(s,u){return s[2]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),i=Se()},m(s,u){l[e].m(s,u),w(s,i,u),o=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(i.parentNode,i))},i(s){o||(C(n),o=!0)},o(s){S(n),o=!1},d(s){s&&y(i),l[e].d(s)}}}function ud(t,e,n){let i;const o=["level","asChild","id","el"];let r=te(e,o),l,{$$slots:a={},$$scope:s}=e,{level:u="h2"}=e,{asChild:f=!1}=e,{id:c=void 0}=e,{el:d=void 0}=e;const{elements:{title:h},ids:_,getAttrs:g}=yn();se(t,h,A=>n(7,l=A));const v=g("title");function k(A){we[A?"unshift":"push"](()=>{d=A,n(0,d)})}return t.$$set=A=>{e=G(G({},e),ke(A)),n(5,r=te(e,o)),"level"in A&&n(1,u=A.level),"asChild"in A&&n(2,f=A.asChild),"id"in A&&n(6,c=A.id),"el"in A&&n(0,d=A.el),"$$scope"in A&&n(8,s=A.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&c&&_.title.set(c),t.$$.dirty&128&&n(3,i=l),t.$$.dirty&8&&Object.assign(i,v)},[d,u,f,i,h,r,c,l,s,a,k]}let fd=class extends me{constructor(e){super(),he(this,e,ud,ad,le,{level:1,asChild:2,id:6,el:0})}};const cd=t=>({builder:t&4}),Hr=t=>({builder:t[2]}),dd=t=>({builder:t&4}),Vr=t=>({builder:t[2]});function pd(t){let e,n,i,o;const r=t[8].default,l=ue(r,t,t[7],Hr);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=G(s,a[u]);return{c(){e=O("button"),l&&l.c(),oe(e,s)},m(u,f){w(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[9](e),n=!0,i||(o=[Fe(t[2].action(e)),V(e,"m-click",t[4]),V(e,"m-keydown",t[4])],i=!0)},p(u,f){l&&l.p&&(!n||f&132)&&ce(l,r,u,u[7],n?fe(r,u[7],f,cd):de(u[7]),Hr),oe(e,s=pe(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&y(e),l&&l.d(u),t[9](null),i=!1,Le(o)}}}function hd(t){let e;const n=t[8].default,i=ue(n,t,t[7],Vr);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&132)&&ce(i,n,o,o[7],e?fe(n,o[7],r,dd):de(o[7]),Vr)},i(o){e||(C(i,o),e=!0)},o(o){S(i,o),e=!1},d(o){i&&i.d(o)}}}function md(t){let e,n,i,o;const r=[hd,pd],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),i=Se()},m(s,u){l[e].m(s,u),w(s,i,u),o=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(i.parentNode,i))},i(s){o||(C(n),o=!0)},o(s){S(n),o=!1},d(s){s&&y(i),l[e].d(s)}}}function _d(t,e,n){let i;const o=["asChild","el"];let r=te(e,o),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:d}=yn();se(t,c,v=>n(6,l=v));const h=Ko(),_=d("close");function g(v){we[v?"unshift":"push"](()=>{f=v,n(0,f)})}return t.$$set=v=>{e=G(G({},e),ke(v)),n(5,r=te(e,o)),"asChild"in v&&n(1,u=v.asChild),"el"in v&&n(0,f=v.el),"$$scope"in v&&n(7,s=v.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,i=l),t.$$.dirty&4&&Object.assign(i,_)},[f,u,i,c,h,r,l,s,a,g]}class gd extends me{constructor(e){super(),he(this,e,_d,md,le,{asChild:1,el:0})}}const bd=t=>({builder:t&4}),Wr=t=>({builder:t[2]}),vd=t=>({builder:t&4}),Kr=t=>({builder:t[2]});function yd(t){let e,n,i,o;const r=t[7].default,l=ue(r,t,t[6],Wr);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=G(s,a[u]);return{c(){e=O("div"),l&&l.c(),oe(e,s)},m(u,f){w(u,e,f),l&&l.m(e,null),t[8](e),n=!0,i||(o=Fe(t[2].action(e)),i=!0)},p(u,f){l&&l.p&&(!n||f&68)&&ce(l,r,u,u[6],n?fe(r,u[6],f,bd):de(u[6]),Wr),oe(e,s=pe(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&y(e),l&&l.d(u),t[8](null),i=!1,o()}}}function wd(t){let e;const n=t[7].default,i=ue(n,t,t[6],Kr);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&68)&&ce(i,n,o,o[6],e?fe(n,o[6],r,vd):de(o[6]),Kr)},i(o){e||(C(i,o),e=!0)},o(o){S(i,o),e=!1},d(o){i&&i.d(o)}}}function kd(t){let e,n,i,o;const r=[wd,yd],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),i=Se()},m(s,u){l[e].m(s,u),w(s,i,u),o=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(i.parentNode,i))},i(s){o||(C(n),o=!0)},o(s){S(n),o=!1},d(s){s&&y(i),l[e].d(s)}}}function Cd(t,e,n){let i;const o=["asChild","el"];let r=te(e,o),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{portalled:c},getAttrs:d}=yn();se(t,c,g=>n(5,l=g));const h=d("portal");function _(g){we[g?"unshift":"push"](()=>{f=g,n(0,f)})}return t.$$set=g=>{e=G(G({},e),ke(g)),n(4,r=te(e,o)),"asChild"in g&&n(1,u=g.asChild),"el"in g&&n(0,f=g.el),"$$scope"in g&&n(6,s=g.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,i=l),t.$$.dirty&4&&Object.assign(i,h)},[f,u,i,c,r,l,s,a,_]}let Ad=class extends me{constructor(e){super(),he(this,e,Cd,kd,le,{asChild:1,el:0})}};const Sd=t=>({builder:t[0]&256}),Ur=t=>({builder:t[8]}),Nd=t=>({builder:t[0]&256}),Jr=t=>({builder:t[8]}),Td=t=>({builder:t[0]&256}),Yr=t=>({builder:t[8]}),Id=t=>({builder:t[0]&256}),Xr=t=>({builder:t[8]}),Ed=t=>({builder:t[0]&256}),Zr=t=>({builder:t[8]}),Md=t=>({builder:t[0]&256}),Qr=t=>({builder:t[8]});function Pd(t){let e,n,i,o;const r=t[16].default,l=ue(r,t,t[15],Ur);let a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=G(s,a[u]);return{c(){e=O("div"),l&&l.c(),oe(e,s)},m(u,f){w(u,e,f),l&&l.m(e,null),t[56](e),n=!0,i||(o=[Fe(t[8].action(e)),V(e,"pointerdown",t[45]),V(e,"pointermove",t[46]),V(e,"pointerup",t[47]),V(e,"touchend",t[48]),V(e,"touchstart",t[49]),V(e,"touchcancel",t[50]),V(e,"touchmove",t[51])],i=!0)},p(u,f){l&&l.p&&(!n||f[0]&33024)&&ce(l,r,u,u[15],n?fe(r,u[15],f,Sd):de(u[15]),Ur),oe(e,s=pe(a,[f[0]&256&&u[8],f[0]&4096&&u[12]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&y(e),l&&l.d(u),t[56](null),i=!1,Le(o)}}}function Od(t){let e,n,i,o,r;const l=t[16].default,a=ue(l,t,t[15],Jr);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=G(u,s[f]);return{c(){e=O("div"),a&&a.c(),oe(e,u)},m(f,c){w(f,e,c),a&&a.m(e,null),t[55](e),i=!0,o||(r=[Fe(t[8].action(e)),V(e,"pointerdown",t[38]),V(e,"pointermove",t[39]),V(e,"pointerup",t[40]),V(e,"touchend",t[41]),V(e,"touchstart",t[42]),V(e,"touchcancel",t[43]),V(e,"touchmove",t[44])],o=!0)},p(f,c){t=f,a&&a.p&&(!i||c[0]&33024)&&ce(a,l,t,t[15],i?fe(l,t[15],c,Nd):de(t[15]),Jr),oe(e,u=pe(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){i||(C(a,f),n&&n.end(1),i=!0)},o(f){S(a,f),f&&(n=$t(e,t[5],t[6])),i=!1},d(f){f&&y(e),a&&a.d(f),t[55](null),f&&n&&n.end(),o=!1,Le(r)}}}function Ld(t){let e,n,i,o,r;const l=t[16].default,a=ue(l,t,t[15],Yr);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=G(u,s[f]);return{c(){e=O("div"),a&&a.c(),oe(e,u)},m(f,c){w(f,e,c),a&&a.m(e,null),t[54](e),i=!0,o||(r=[Fe(t[8].action(e)),V(e,"pointerdown",t[31]),V(e,"pointermove",t[32]),V(e,"pointerup",t[33]),V(e,"touchend",t[34]),V(e,"touchstart",t[35]),V(e,"touchcancel",t[36]),V(e,"touchmove",t[37])],o=!0)},p(f,c){t=f,a&&a.p&&(!i||c[0]&33024)&&ce(a,l,t,t[15],i?fe(l,t[15],c,Td):de(t[15]),Yr),oe(e,u=pe(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){i||(C(a,f),f&&(n||Ze(()=>{n=qt(e,t[3],t[4]),n.start()})),i=!0)},o(f){S(a,f),i=!1},d(f){f&&y(e),a&&a.d(f),t[54](null),o=!1,Le(r)}}}function Fd(t){let e,n,i,o,r,l;const a=t[16].default,s=ue(a,t,t[15],Xr);let u=[t[8],t[12]],f={};for(let c=0;c<u.length;c+=1)f=G(f,u[c]);return{c(){e=O("div"),s&&s.c(),oe(e,f)},m(c,d){w(c,e,d),s&&s.m(e,null),t[53](e),o=!0,r||(l=[Fe(t[8].action(e)),V(e,"pointerdown",t[24]),V(e,"pointermove",t[25]),V(e,"pointerup",t[26]),V(e,"touchend",t[27]),V(e,"touchstart",t[28]),V(e,"touchcancel",t[29]),V(e,"touchmove",t[30])],r=!0)},p(c,d){t=c,s&&s.p&&(!o||d[0]&33024)&&ce(s,a,t,t[15],o?fe(a,t[15],d,Id):de(t[15]),Xr),oe(e,f=pe(u,[d[0]&256&&t[8],d[0]&4096&&t[12]]))},i(c){o||(C(s,c),c&&Ze(()=>{o&&(i&&i.end(1),n=qt(e,t[3],t[4]),n.start())}),o=!0)},o(c){S(s,c),n&&n.invalidate(),c&&(i=$t(e,t[5],t[6])),o=!1},d(c){c&&y(e),s&&s.d(c),t[53](null),c&&i&&i.end(),r=!1,Le(l)}}}function Rd(t){let e,n,i,o,r;const l=t[16].default,a=ue(l,t,t[15],Zr);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=G(u,s[f]);return{c(){e=O("div"),a&&a.c(),oe(e,u)},m(f,c){w(f,e,c),a&&a.m(e,null),t[52](e),i=!0,o||(r=[Fe(t[8].action(e)),V(e,"pointerdown",t[17]),V(e,"pointermove",t[18]),V(e,"pointerup",t[19]),V(e,"touchend",t[20]),V(e,"touchstart",t[21]),V(e,"touchcancel",t[22]),V(e,"touchmove",t[23])],o=!0)},p(f,c){t=f,a&&a.p&&(!i||c[0]&33024)&&ce(a,l,t,t[15],i?fe(l,t[15],c,Ed):de(t[15]),Zr),oe(e,u=pe(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){i||(C(a,f),f&&Ze(()=>{i&&(n||(n=Ft(e,t[1],t[2],!0)),n.run(1))}),i=!0)},o(f){S(a,f),f&&(n||(n=Ft(e,t[1],t[2],!1)),n.run(0)),i=!1},d(f){f&&y(e),a&&a.d(f),t[52](null),f&&n&&n.end(),o=!1,Le(r)}}}function qd(t){let e;const n=t[16].default,i=ue(n,t,t[15],Qr);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r[0]&33024)&&ce(i,n,o,o[15],e?fe(n,o[15],r,Md):de(o[15]),Qr)},i(o){e||(C(i,o),e=!0)},o(o){S(i,o),e=!1},d(o){i&&i.d(o)}}}function $d(t){let e,n,i,o;const r=[qd,Rd,Fd,Ld,Od,Pd],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),i=Se()},m(s,u){~e&&l[e].m(s,u),w(s,i,u),o=!0},p(s,u){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Pe(),S(l[f],1,1,()=>{l[f]=null}),Oe()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(i.parentNode,i)):n=null)},i(s){o||(C(n),o=!0)},o(s){S(n),o=!1},d(s){s&&y(i),~e&&l[e].d(s)}}}function Dd(t,e,n){let i;const o=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","id","el"];let r=te(e,o),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:h=void 0}=e,{outTransition:_=void 0}=e,{outTransitionConfig:g=void 0}=e,{asChild:v=!1}=e,{id:k=void 0}=e,{el:A=void 0}=e;const{elements:{content:P},states:{open:$},ids:R,getAttrs:F}=yn();se(t,P,N=>n(14,l=N)),se(t,$,N=>n(9,a=N));const j=F("content");function K(N){Z.call(this,t,N)}function p(N){Z.call(this,t,N)}function D(N){Z.call(this,t,N)}function T(N){Z.call(this,t,N)}function b(N){Z.call(this,t,N)}function m(N){Z.call(this,t,N)}function M(N){Z.call(this,t,N)}function q(N){Z.call(this,t,N)}function E(N){Z.call(this,t,N)}function U(N){Z.call(this,t,N)}function J(N){Z.call(this,t,N)}function ee(N){Z.call(this,t,N)}function z(N){Z.call(this,t,N)}function x(N){Z.call(this,t,N)}function ne(N){Z.call(this,t,N)}function _e(N){Z.call(this,t,N)}function H(N){Z.call(this,t,N)}function re(N){Z.call(this,t,N)}function be(N){Z.call(this,t,N)}function Te(N){Z.call(this,t,N)}function Be(N){Z.call(this,t,N)}function $e(N){Z.call(this,t,N)}function Me(N){Z.call(this,t,N)}function qe(N){Z.call(this,t,N)}function Ve(N){Z.call(this,t,N)}function dt(N){Z.call(this,t,N)}function tt(N){Z.call(this,t,N)}function He(N){Z.call(this,t,N)}function pt(N){Z.call(this,t,N)}function lt(N){Z.call(this,t,N)}function xe(N){Z.call(this,t,N)}function st(N){Z.call(this,t,N)}function Ye(N){Z.call(this,t,N)}function Re(N){Z.call(this,t,N)}function We(N){Z.call(this,t,N)}function Ge(N){we[N?"unshift":"push"](()=>{A=N,n(0,A)})}function ve(N){we[N?"unshift":"push"](()=>{A=N,n(0,A)})}function Ae(N){we[N?"unshift":"push"](()=>{A=N,n(0,A)})}function ie(N){we[N?"unshift":"push"](()=>{A=N,n(0,A)})}function De(N){we[N?"unshift":"push"](()=>{A=N,n(0,A)})}return t.$$set=N=>{e=G(G({},e),ke(N)),n(12,r=te(e,o)),"transition"in N&&n(1,f=N.transition),"transitionConfig"in N&&n(2,c=N.transitionConfig),"inTransition"in N&&n(3,d=N.inTransition),"inTransitionConfig"in N&&n(4,h=N.inTransitionConfig),"outTransition"in N&&n(5,_=N.outTransition),"outTransitionConfig"in N&&n(6,g=N.outTransitionConfig),"asChild"in N&&n(7,v=N.asChild),"id"in N&&n(13,k=N.id),"el"in N&&n(0,A=N.el),"$$scope"in N&&n(15,u=N.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&8192&&k&&R.content.set(k),t.$$.dirty[0]&16384&&n(8,i=l),t.$$.dirty[0]&256&&Object.assign(i,j)},[A,f,c,d,h,_,g,v,i,a,P,$,r,k,l,u,s,K,p,D,T,b,m,M,q,E,U,J,ee,z,x,ne,_e,H,re,be,Te,Be,$e,Me,qe,Ve,dt,tt,He,pt,lt,xe,st,Ye,Re,We,Ge,ve,Ae,ie,De]}let Bd=class extends me{constructor(e){super(),he(this,e,Dd,$d,le,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,id:13,el:0},null,[-1,-1])}};const Gd=t=>({builder:t&256}),xr=t=>({builder:t[8]});function jd(t){let e,n,i,o=[t[8],t[12]],r={};for(let l=0;l<o.length;l+=1)r=G(r,o[l]);return{c(){e=O("div"),oe(e,r)},m(l,a){w(l,e,a),t[25](e),n||(i=[Fe(t[8].action(e)),V(e,"mouseup",t[20])],n=!0)},p(l,a){oe(e,r=pe(o,[a&256&&l[8],a&4096&&l[12]]))},i:ae,o:ae,d(l){l&&y(e),t[25](null),n=!1,Le(i)}}}function Hd(t){let e,n,i,o,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=G(a,l[s]);return{c(){e=O("div"),oe(e,a)},m(s,u){w(s,e,u),t[24](e),i=!0,o||(r=[Fe(t[8].action(e)),V(e,"mouseup",t[19])],o=!0)},p(s,u){t=s,oe(e,a=pe(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){i||(n&&n.end(1),i=!0)},o(s){s&&(n=$t(e,t[5],t[6])),i=!1},d(s){s&&y(e),t[24](null),s&&n&&n.end(),o=!1,Le(r)}}}function Vd(t){let e,n,i,o,r=[t[8],t[12]],l={};for(let a=0;a<r.length;a+=1)l=G(l,r[a]);return{c(){e=O("div"),oe(e,l)},m(a,s){w(a,e,s),t[23](e),i||(o=[Fe(t[8].action(e)),V(e,"mouseup",t[18])],i=!0)},p(a,s){t=a,oe(e,l=pe(r,[s&256&&t[8],s&4096&&t[12]]))},i(a){a&&(n||Ze(()=>{n=qt(e,t[3],t[4]),n.start()}))},o:ae,d(a){a&&y(e),t[23](null),i=!1,Le(o)}}}function Wd(t){let e,n,i,o,r,l,a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=G(s,a[u]);return{c(){e=O("div"),oe(e,s)},m(u,f){w(u,e,f),t[22](e),o=!0,r||(l=[Fe(t[8].action(e)),V(e,"mouseup",t[17])],r=!0)},p(u,f){t=u,oe(e,s=pe(a,[f&256&&t[8],f&4096&&t[12]]))},i(u){o||(u&&Ze(()=>{o&&(i&&i.end(1),n=qt(e,t[3],t[4]),n.start())}),o=!0)},o(u){n&&n.invalidate(),u&&(i=$t(e,t[5],t[6])),o=!1},d(u){u&&y(e),t[22](null),u&&i&&i.end(),r=!1,Le(l)}}}function Kd(t){let e,n,i,o,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=G(a,l[s]);return{c(){e=O("div"),oe(e,a)},m(s,u){w(s,e,u),t[21](e),i=!0,o||(r=[V(e,"mouseup",t[16]),Fe(t[8].action(e))],o=!0)},p(s,u){t=s,oe(e,a=pe(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){i||(s&&Ze(()=>{i&&(n||(n=Ft(e,t[1],t[2],!0)),n.run(1))}),i=!0)},o(s){s&&(n||(n=Ft(e,t[1],t[2],!1)),n.run(0)),i=!1},d(s){s&&y(e),t[21](null),s&&n&&n.end(),o=!1,Le(r)}}}function Ud(t){let e;const n=t[15].default,i=ue(n,t,t[14],xr);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&16640)&&ce(i,n,o,o[14],e?fe(n,o[14],r,Gd):de(o[14]),xr)},i(o){e||(C(i,o),e=!0)},o(o){S(i,o),e=!1},d(o){i&&i.d(o)}}}function Jd(t){let e,n,i,o;const r=[Ud,Kd,Wd,Vd,Hd,jd],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),i=Se()},m(s,u){~e&&l[e].m(s,u),w(s,i,u),o=!0},p(s,[u]){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Pe(),S(l[f],1,1,()=>{l[f]=null}),Oe()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(i.parentNode,i)):n=null)},i(s){o||(C(n),o=!0)},o(s){S(n),o=!1},d(s){s&&y(i),~e&&l[e].d(s)}}}function Yd(t,e,n){let i;const o=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","el"];let r=te(e,o),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:h=void 0}=e,{outTransition:_=void 0}=e,{outTransitionConfig:g=void 0}=e,{asChild:v=!1}=e,{el:k=void 0}=e;const{elements:{overlay:A},states:{open:P},getAttrs:$}=yn();se(t,A,E=>n(13,l=E)),se(t,P,E=>n(9,a=E));const R=$("overlay");function F(E){Z.call(this,t,E)}function j(E){Z.call(this,t,E)}function K(E){Z.call(this,t,E)}function p(E){Z.call(this,t,E)}function D(E){Z.call(this,t,E)}function T(E){we[E?"unshift":"push"](()=>{k=E,n(0,k)})}function b(E){we[E?"unshift":"push"](()=>{k=E,n(0,k)})}function m(E){we[E?"unshift":"push"](()=>{k=E,n(0,k)})}function M(E){we[E?"unshift":"push"](()=>{k=E,n(0,k)})}function q(E){we[E?"unshift":"push"](()=>{k=E,n(0,k)})}return t.$$set=E=>{e=G(G({},e),ke(E)),n(12,r=te(e,o)),"transition"in E&&n(1,f=E.transition),"transitionConfig"in E&&n(2,c=E.transitionConfig),"inTransition"in E&&n(3,d=E.inTransition),"inTransitionConfig"in E&&n(4,h=E.inTransitionConfig),"outTransition"in E&&n(5,_=E.outTransition),"outTransitionConfig"in E&&n(6,g=E.outTransitionConfig),"asChild"in E&&n(7,v=E.asChild),"el"in E&&n(0,k=E.el),"$$scope"in E&&n(14,u=E.$$scope)},t.$$.update=()=>{t.$$.dirty&8192&&n(8,i=l),t.$$.dirty&256&&Object.assign(i,R)},[k,f,c,d,h,_,g,v,i,a,A,P,r,l,u,s,F,j,K,p,D,T,b,m,M,q]}let Xd=class extends me{constructor(e){super(),he(this,e,Yd,Jd,le,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,el:0})}};const Zd=t=>({builder:t&4}),zr=t=>({builder:t[2]}),Qd=t=>({builder:t&4}),el=t=>({builder:t[2]});function xd(t){let e,n,i,o;const r=t[8].default,l=ue(r,t,t[7],zr);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=G(s,a[u]);return{c(){e=O("div"),l&&l.c(),oe(e,s)},m(u,f){w(u,e,f),l&&l.m(e,null),t[9](e),n=!0,i||(o=Fe(t[2].action(e)),i=!0)},p(u,f){l&&l.p&&(!n||f&132)&&ce(l,r,u,u[7],n?fe(r,u[7],f,Zd):de(u[7]),zr),oe(e,s=pe(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&y(e),l&&l.d(u),t[9](null),i=!1,o()}}}function zd(t){let e;const n=t[8].default,i=ue(n,t,t[7],el);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&132)&&ce(i,n,o,o[7],e?fe(n,o[7],r,Qd):de(o[7]),el)},i(o){e||(C(i,o),e=!0)},o(o){S(i,o),e=!1},d(o){i&&i.d(o)}}}function ep(t){let e,n,i,o;const r=[zd,xd],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),i=Se()},m(s,u){l[e].m(s,u),w(s,i,u),o=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(i.parentNode,i))},i(s){o||(C(n),o=!0)},o(s){S(n),o=!1},d(s){s&&y(i),l[e].d(s)}}}function tp(t,e,n){let i;const o=["asChild","id","el"];let r=te(e,o),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{description:d},ids:h,getAttrs:_}=yn();se(t,d,k=>n(6,l=k));const g=_("description");function v(k){we[k?"unshift":"push"](()=>{c=k,n(0,c)})}return t.$$set=k=>{e=G(G({},e),ke(k)),n(4,r=te(e,o)),"asChild"in k&&n(1,u=k.asChild),"id"in k&&n(5,f=k.id),"el"in k&&n(0,c=k.el),"$$scope"in k&&n(7,s=k.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f&&h.description.set(f),t.$$.dirty&64&&n(2,i=l),t.$$.dirty&4&&Object.assign(i,g)},[c,u,i,d,r,f,l,s,a,v]}let np=class extends me{constructor(e){super(),he(this,e,tp,ep,le,{asChild:1,id:5,el:0})}};function ip(){const t="label",n=Ji(t,["root"]);return{NAME:t,getAttrs:n}}const op=t=>({builder:t&4}),tl=t=>({builder:t[2]}),rp=t=>({builder:t&4}),nl=t=>({builder:t[2]});function lp(t){let e,n,i,o;const r=t[8].default,l=ue(r,t,t[7],tl);let a=[t[2],t[5]],s={};for(let u=0;u<a.length;u+=1)s=G(s,a[u]);return{c(){e=O("label"),l&&l.c(),oe(e,s)},m(u,f){w(u,e,f),l&&l.m(e,null),t[9](e),n=!0,i||(o=[Fe(t[2].action(e)),V(e,"m-mousedown",t[4])],i=!0)},p(u,f){l&&l.p&&(!n||f&132)&&ce(l,r,u,u[7],n?fe(r,u[7],f,op):de(u[7]),tl),oe(e,s=pe(a,[f&4&&u[2],f&32&&u[5]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&y(e),l&&l.d(u),t[9](null),i=!1,Le(o)}}}function sp(t){let e;const n=t[8].default,i=ue(n,t,t[7],nl);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&132)&&ce(i,n,o,o[7],e?fe(n,o[7],r,rp):de(o[7]),nl)},i(o){e||(C(i,o),e=!0)},o(o){S(i,o),e=!1},d(o){i&&i.d(o)}}}function ap(t){let e,n,i,o;const r=[sp,lp],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),i=Se()},m(s,u){l[e].m(s,u),w(s,i,u),o=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(i.parentNode,i))},i(s){o||(C(n),o=!0)},o(s){S(n),o=!1},d(s){s&&y(i),l[e].d(s)}}}function up(t,e,n){let i;const o=["asChild","el"];let r=te(e,o),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{root:c}}=Ef();se(t,c,v=>n(6,l=v));const d=Ko(),{getAttrs:h}=ip(),_=h("root");function g(v){we[v?"unshift":"push"](()=>{f=v,n(0,f)})}return t.$$set=v=>{e=G(G({},e),ke(v)),n(5,r=te(e,o)),"asChild"in v&&n(1,u=v.asChild),"el"in v&&n(0,f=v.el),"$$scope"in v&&n(7,s=v.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,i=l),t.$$.dirty&4&&Object.assign(i,_)},[f,u,i,c,d,r,l,s,a,g]}let fp=class extends me{constructor(e){super(),he(this,e,up,ap,le,{asChild:1,el:0})}};function ra(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(e=0;e<o;e++)t[e]&&(n=ra(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function cp(){for(var t,e,n=0,i="",o=arguments.length;n<o;n++)(t=arguments[n])&&(e=ra(t))&&(i&&(i+=" "),i+=e);return i}const Jo="-";function dp(t){const e=hp(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=t;function o(l){const a=l.split(Jo);return a[0]===""&&a.length!==1&&a.shift(),la(a,e)||pp(l)}function r(l,a){const s=n[l]||[];return a&&i[l]?[...s,...i[l]]:s}return{getClassGroupId:o,getConflictingClassGroupIds:r}}function la(t,e){var l;if(t.length===0)return e.classGroupId;const n=t[0],i=e.nextPart.get(n),o=i?la(t.slice(1),i):void 0;if(o)return o;if(e.validators.length===0)return;const r=t.join(Jo);return(l=e.validators.find(({validator:a})=>a(r)))==null?void 0:l.classGroupId}const il=/^\[(.+)\]$/;function pp(t){if(il.test(t)){const e=il.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function hp(t){const{theme:e,prefix:n}=t,i={nextPart:new Map,validators:[]};return _p(Object.entries(t.classGroups),n).forEach(([r,l])=>{bo(l,i,r,e)}),i}function bo(t,e,n,i){t.forEach(o=>{if(typeof o=="string"){const r=o===""?e:ol(e,o);r.classGroupId=n;return}if(typeof o=="function"){if(mp(o)){bo(o(i),e,n,i);return}e.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([r,l])=>{bo(l,ol(e,r),n,i)})})}function ol(t,e){let n=t;return e.split(Jo).forEach(i=>{n.nextPart.has(i)||n.nextPart.set(i,{nextPart:new Map,validators:[]}),n=n.nextPart.get(i)}),n}function mp(t){return t.isThemeGetter}function _p(t,e){return e?t.map(([n,i])=>{const o=i.map(r=>typeof r=="string"?e+r:typeof r=="object"?Object.fromEntries(Object.entries(r).map(([l,a])=>[e+l,a])):r);return[n,o]}):t}function gp(t){if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,i=new Map;function o(r,l){n.set(r,l),e++,e>t&&(e=0,i=n,n=new Map)}return{get(r){let l=n.get(r);if(l!==void 0)return l;if((l=i.get(r))!==void 0)return o(r,l),l},set(r,l){n.has(r)?n.set(r,l):o(r,l)}}}const sa="!";function bp(t){const e=t.separator,n=e.length===1,i=e[0],o=e.length;return function(l){const a=[];let s=0,u=0,f;for(let g=0;g<l.length;g++){let v=l[g];if(s===0){if(v===i&&(n||l.slice(g,g+o)===e)){a.push(l.slice(u,g)),u=g+o;continue}if(v==="/"){f=g;continue}}v==="["?s++:v==="]"&&s--}const c=a.length===0?l:l.substring(u),d=c.startsWith(sa),h=d?c.substring(1):c,_=f&&f>u?f-u:void 0;return{modifiers:a,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:_}}}function vp(t){if(t.length<=1)return t;const e=[];let n=[];return t.forEach(i=>{i[0]==="["?(e.push(...n.sort(),i),n=[]):n.push(i)}),e.push(...n.sort()),e}function yp(t){return{cache:gp(t.cacheSize),splitModifiers:bp(t),...dp(t)}}const wp=/\s+/;function kp(t,e){const{splitModifiers:n,getClassGroupId:i,getConflictingClassGroupIds:o}=e,r=new Set;return t.trim().split(wp).map(l=>{const{modifiers:a,hasImportantModifier:s,baseClassName:u,maybePostfixModifierPosition:f}=n(l);let c=i(f?u.substring(0,f):u),d=!!f;if(!c){if(!f)return{isTailwindClass:!1,originalClassName:l};if(c=i(u),!c)return{isTailwindClass:!1,originalClassName:l};d=!1}const h=vp(a).join(":");return{isTailwindClass:!0,modifierId:s?h+sa:h,classGroupId:c,originalClassName:l,hasPostfixModifier:d}}).reverse().filter(l=>{if(!l.isTailwindClass)return!0;const{modifierId:a,classGroupId:s,hasPostfixModifier:u}=l,f=a+s;return r.has(f)?!1:(r.add(f),o(s,u).forEach(c=>r.add(a+c)),!0)}).reverse().map(l=>l.originalClassName).join(" ")}function Cp(){let t=0,e,n,i="";for(;t<arguments.length;)(e=arguments[t++])&&(n=aa(e))&&(i&&(i+=" "),i+=n);return i}function aa(t){if(typeof t=="string")return t;let e,n="";for(let i=0;i<t.length;i++)t[i]&&(e=aa(t[i]))&&(n&&(n+=" "),n+=e);return n}function vo(t,...e){let n,i,o,r=l;function l(s){const u=e.reduce((f,c)=>c(f),t());return n=yp(u),i=n.cache.get,o=n.cache.set,r=a,a(s)}function a(s){const u=i(s);if(u)return u;const f=kp(s,n);return o(s,f),f}return function(){return r(Cp.apply(null,arguments))}}function je(t){const e=n=>n[t]||[];return e.isThemeGetter=!0,e}const ua=/^\[(?:([a-z-]+):)?(.+)\]$/i,Ap=/^\d+\/\d+$/,Sp=new Set(["px","full","screen"]),Np=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Tp=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Ip=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Ep=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Mp=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function bt(t){return Ht(t)||Sp.has(t)||Ap.test(t)}function It(t){return wn(t,"length",Dp)}function Ht(t){return!!t&&!Number.isNaN(Number(t))}function ti(t){return wn(t,"number",Ht)}function Tn(t){return!!t&&Number.isInteger(Number(t))}function Pp(t){return t.endsWith("%")&&Ht(t.slice(0,-1))}function ye(t){return ua.test(t)}function Et(t){return Np.test(t)}const Op=new Set(["length","size","percentage"]);function Lp(t){return wn(t,Op,fa)}function Fp(t){return wn(t,"position",fa)}const Rp=new Set(["image","url"]);function qp(t){return wn(t,Rp,Gp)}function $p(t){return wn(t,"",Bp)}function In(){return!0}function wn(t,e,n){const i=ua.exec(t);return i?i[1]?typeof e=="string"?i[1]===e:e.has(i[1]):n(i[2]):!1}function Dp(t){return Tp.test(t)&&!Ip.test(t)}function fa(){return!1}function Bp(t){return Ep.test(t)}function Gp(t){return Mp.test(t)}function yo(){const t=je("colors"),e=je("spacing"),n=je("blur"),i=je("brightness"),o=je("borderColor"),r=je("borderRadius"),l=je("borderSpacing"),a=je("borderWidth"),s=je("contrast"),u=je("grayscale"),f=je("hueRotate"),c=je("invert"),d=je("gap"),h=je("gradientColorStops"),_=je("gradientColorStopPositions"),g=je("inset"),v=je("margin"),k=je("opacity"),A=je("padding"),P=je("saturate"),$=je("scale"),R=je("sepia"),F=je("skew"),j=je("space"),K=je("translate"),p=()=>["auto","contain","none"],D=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto",ye,e],b=()=>[ye,e],m=()=>["",bt,It],M=()=>["auto",Ht,ye],q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],E=()=>["solid","dashed","dotted","double","none"],U=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"],J=()=>["start","end","center","between","around","evenly","stretch"],ee=()=>["","0",ye],z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],x=()=>[Ht,ti],ne=()=>[Ht,ye];return{cacheSize:500,separator:":",theme:{colors:[In],spacing:[bt,It],blur:["none","",Et,ye],brightness:x(),borderColor:[t],borderRadius:["none","","full",Et,ye],borderSpacing:b(),borderWidth:m(),contrast:x(),grayscale:ee(),hueRotate:ne(),invert:ee(),gap:b(),gradientColorStops:[t],gradientColorStopPositions:[Pp,It],inset:T(),margin:T(),opacity:x(),padding:b(),saturate:x(),scale:x(),sepia:ee(),skew:ne(),space:b(),translate:b()},classGroups:{aspect:[{aspect:["auto","square","video",ye]}],container:["container"],columns:[{columns:[Et]}],"break-after":[{"break-after":z()}],"break-before":[{"break-before":z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...q(),ye]}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:p()}],"overscroll-x":[{"overscroll-x":p()}],"overscroll-y":[{"overscroll-y":p()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Tn,ye]}],basis:[{basis:T()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ye]}],grow:[{grow:ee()}],shrink:[{shrink:ee()}],order:[{order:["first","last","none",Tn,ye]}],"grid-cols":[{"grid-cols":[In]}],"col-start-end":[{col:["auto",{span:["full",Tn,ye]},ye]}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":[In]}],"row-start-end":[{row:["auto",{span:[Tn,ye]},ye]}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ye]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ye]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal",...J()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...J(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...J(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[A]}],px:[{px:[A]}],py:[{py:[A]}],ps:[{ps:[A]}],pe:[{pe:[A]}],pt:[{pt:[A]}],pr:[{pr:[A]}],pb:[{pb:[A]}],pl:[{pl:[A]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ye,e]}],"min-w":[{"min-w":[ye,e,"min","max","fit"]}],"max-w":[{"max-w":[ye,e,"none","full","min","max","fit","prose",{screen:[Et]},Et]}],h:[{h:[ye,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ye,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ye,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ye,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Et,It]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ti]}],"font-family":[{font:[In]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ye]}],"line-clamp":[{"line-clamp":["none",Ht,ti]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",bt,ye]}],"list-image":[{"list-image":["none",ye]}],"list-style-type":[{list:["none","disc","decimal",ye]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[k]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[k]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...E(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",bt,It]}],"underline-offset":[{"underline-offset":["auto",bt,ye]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:b()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ye]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ye]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[k]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...q(),Fp]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Lp]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},qp]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[_]}],"gradient-via-pos":[{via:[_]}],"gradient-to-pos":[{to:[_]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[r]}],"rounded-s":[{"rounded-s":[r]}],"rounded-e":[{"rounded-e":[r]}],"rounded-t":[{"rounded-t":[r]}],"rounded-r":[{"rounded-r":[r]}],"rounded-b":[{"rounded-b":[r]}],"rounded-l":[{"rounded-l":[r]}],"rounded-ss":[{"rounded-ss":[r]}],"rounded-se":[{"rounded-se":[r]}],"rounded-ee":[{"rounded-ee":[r]}],"rounded-es":[{"rounded-es":[r]}],"rounded-tl":[{"rounded-tl":[r]}],"rounded-tr":[{"rounded-tr":[r]}],"rounded-br":[{"rounded-br":[r]}],"rounded-bl":[{"rounded-bl":[r]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[k]}],"border-style":[{border:[...E(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[k]}],"divide-style":[{divide:E()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...E()]}],"outline-offset":[{"outline-offset":[bt,ye]}],"outline-w":[{outline:[bt,It]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:m()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[k]}],"ring-offset-w":[{"ring-offset":[bt,It]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Et,$p]}],"shadow-color":[{shadow:[In]}],opacity:[{opacity:[k]}],"mix-blend":[{"mix-blend":U()}],"bg-blend":[{"bg-blend":U()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[i]}],contrast:[{contrast:[s]}],"drop-shadow":[{"drop-shadow":["","none",Et,ye]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[c]}],saturate:[{saturate:[P]}],sepia:[{sepia:[R]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[i]}],"backdrop-contrast":[{"backdrop-contrast":[s]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[c]}],"backdrop-opacity":[{"backdrop-opacity":[k]}],"backdrop-saturate":[{"backdrop-saturate":[P]}],"backdrop-sepia":[{"backdrop-sepia":[R]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ye]}],duration:[{duration:ne()}],ease:[{ease:["linear","in","out","in-out",ye]}],delay:[{delay:ne()}],animate:[{animate:["none","spin","ping","pulse","bounce",ye]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[$]}],"scale-x":[{"scale-x":[$]}],"scale-y":[{"scale-y":[$]}],rotate:[{rotate:[Tn,ye]}],"translate-x":[{"translate-x":[K]}],"translate-y":[{"translate-y":[K]}],"skew-x":[{"skew-x":[F]}],"skew-y":[{"skew-y":[F]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ye]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ye]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":b()}],"scroll-mx":[{"scroll-mx":b()}],"scroll-my":[{"scroll-my":b()}],"scroll-ms":[{"scroll-ms":b()}],"scroll-me":[{"scroll-me":b()}],"scroll-mt":[{"scroll-mt":b()}],"scroll-mr":[{"scroll-mr":b()}],"scroll-mb":[{"scroll-mb":b()}],"scroll-ml":[{"scroll-ml":b()}],"scroll-p":[{"scroll-p":b()}],"scroll-px":[{"scroll-px":b()}],"scroll-py":[{"scroll-py":b()}],"scroll-ps":[{"scroll-ps":b()}],"scroll-pe":[{"scroll-pe":b()}],"scroll-pt":[{"scroll-pt":b()}],"scroll-pr":[{"scroll-pr":b()}],"scroll-pb":[{"scroll-pb":b()}],"scroll-pl":[{"scroll-pl":b()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ye]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[bt,It,ti]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}function jp(t,{cacheSize:e,prefix:n,separator:i,extend:o={},override:r={}}){ui(t,"cacheSize",e),ui(t,"prefix",n),ui(t,"separator",i);for(const l in r)Hp(t[l],r[l]);for(const l in o)Vp(t[l],o[l]);return t}function ui(t,e,n){n!==void 0&&(t[e]=n)}function Hp(t,e){if(e)for(const n in e)ui(t,n,e[n])}function Vp(t,e){if(e)for(const n in e){const i=e[n];i!==void 0&&(t[n]=(t[n]||[]).concat(i))}}function Wp(t,...e){return typeof t=="function"?vo(yo,t,...e):vo(()=>jp(yo(),t),...e)}const ca=vo(yo);function Kp(t){const e=t-1;return e*e*e+1}function Ee(...t){return ca(cp(t))}const Yo=(t,e={y:-8,x:0,start:.95,duration:150})=>{const n=getComputedStyle(t),i=n.transform==="none"?"":n.transform,o=(l,a,s)=>{const[u,f]=a,[c,d]=s;return(l-u)/(f-u)*(d-c)+c},r=l=>Object.keys(l).reduce((a,s)=>l[s]===void 0?a:a+`${s}:${l[s]};`,"");return{duration:e.duration??200,delay:0,css:l=>{const a=o(l,[0,1],[e.y??5,0]),s=o(l,[0,1],[e.x??0,0]),u=o(l,[0,1],[e.start??.95,1]);return r({transform:`${i} translate3d(${s}px, ${a}px, 0) scale(${u})`,opacity:l})},easing:Kp}};function at(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function Up(t){let e;const n=t[2].default,i=ue(n,t,t[3],null);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&8)&&ce(i,n,o,o[3],e?fe(n,o[3],r,null):de(o[3]),null)},i(o){e||(C(i,o),e=!0)},o(o){S(i,o),e=!1},d(o){i&&i.d(o)}}}function Jp(t){let e,n;const i=[{class:Ee("text-lg font-semibold leading-none tracking-tight",t[0])},t[1]];let o={$$slots:{default:[Up]},$$scope:{ctx:t}};for(let r=0;r<i.length;r+=1)o=G(o,i[r]);return e=new fd({props:o}),{c(){Q(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&3?pe(i,[l&1&&{class:Ee("text-lg font-semibold leading-none tracking-tight",r[0])},l&2&&et(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function Yp(t,e,n){const i=["class"];let o=te(e,i),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=G(G({},e),ke(s)),n(1,o=te(e,i)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,l=s.$$scope)},[a,o,r,l]}class Qt extends me{constructor(e){super(),he(this,e,Yp,Jp,le,{class:0})}}function Xp(t){let e;const n=t[1].default,i=ue(n,t,t[2],null);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&4)&&ce(i,n,o,o[2],e?fe(n,o[2],r,null):de(o[2]),null)},i(o){e||(C(i,o),e=!0)},o(o){S(i,o),e=!1},d(o){i&&i.d(o)}}}function Zp(t){let e,n;const i=[t[0]];let o={$$slots:{default:[Xp]},$$scope:{ctx:t}};for(let r=0;r<i.length;r+=1)o=G(o,i[r]);return e=new Ad({props:o}),{c(){Q(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&1?pe(i,[et(r[0])]):{};l&4&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function Qp(t,e,n){const i=[];let o=te(e,i),{$$slots:r={},$$scope:l}=e;return t.$$set=a=>{e=G(G({},e),ke(a)),n(0,o=te(e,i)),"$$scope"in a&&n(2,l=a.$$scope)},[o,r,l]}class xp extends me{constructor(e){super(),he(this,e,Qp,Zp,le,{})}}function zp(t){let e,n,i;const o=t[3].default,r=ue(o,t,t[2],null);let l=[{class:n=Ee("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=G(a,l[s]);return{c(){e=O("div"),r&&r.c(),oe(e,a)},m(s,u){w(s,e,u),r&&r.m(e,null),i=!0},p(s,[u]){r&&r.p&&(!i||u&4)&&ce(r,o,s,s[2],i?fe(o,s[2],u,null):de(s[2]),null),oe(e,a=pe(l,[(!i||u&1&&n!==(n=Ee("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s[0])))&&{class:n},u&2&&s[1]]))},i(s){i||(C(r,s),i=!0)},o(s){S(r,s),i=!1},d(s){s&&y(e),r&&r.d(s)}}}function eh(t,e,n){const i=["class"];let o=te(e,i),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=G(G({},e),ke(s)),n(1,o=te(e,i)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,o,l,r]}class kn extends me{constructor(e){super(),he(this,e,eh,zp,le,{class:0})}}function th(t){let e,n,i;const o=t[3].default,r=ue(o,t,t[2],null);let l=[{class:n=Ee("flex flex-col space-y-1.5 text-center sm:text-left",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=G(a,l[s]);return{c(){e=O("div"),r&&r.c(),oe(e,a)},m(s,u){w(s,e,u),r&&r.m(e,null),i=!0},p(s,[u]){r&&r.p&&(!i||u&4)&&ce(r,o,s,s[2],i?fe(o,s[2],u,null):de(s[2]),null),oe(e,a=pe(l,[(!i||u&1&&n!==(n=Ee("flex flex-col space-y-1.5 text-center sm:text-left",s[0])))&&{class:n},u&2&&s[1]]))},i(s){i||(C(r,s),i=!0)},o(s){S(r,s),i=!1},d(s){s&&y(e),r&&r.d(s)}}}function nh(t,e,n){const i=["class"];let o=te(e,i),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=G(G({},e),ke(s)),n(1,o=te(e,i)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,o,l,r]}class xt extends me{constructor(e){super(),he(this,e,nh,th,le,{class:0})}}function da(t,{delay:e=0,duration:n=400,easing:i=Hi}={}){const o=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:i,css:r=>`opacity: ${r*o}`}}function ih(t){let e,n;const i=[{transition:t[1]},{transitionConfig:t[2]},{class:Ee("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm",t[0])},t[3]];let o={};for(let r=0;r<i.length;r+=1)o=G(o,i[r]);return e=new Xd({props:o}),{c(){Q(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&15?pe(i,[l&2&&{transition:r[1]},l&4&&{transitionConfig:r[2]},l&1&&{class:Ee("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm",r[0])},l&8&&et(r[3])]):{};e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function oh(t,e,n){const i=["class","transition","transitionConfig"];let o=te(e,i),{class:r=void 0}=e,{transition:l=da}=e,{transitionConfig:a={duration:150}}=e;return t.$$set=s=>{e=G(G({},e),ke(s)),n(3,o=te(e,i)),"class"in s&&n(0,r=s.class),"transition"in s&&n(1,l=s.transition),"transitionConfig"in s&&n(2,a=s.transitionConfig)},[r,l,a,o]}class rh extends me{constructor(e){super(),he(this,e,oh,ih,le,{class:0,transition:1,transitionConfig:2})}}/**
 * @license lucide-svelte v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lh={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"},rl=lh;function ll(t,e,n){const i=t.slice();return i[10]=e[n][0],i[11]=e[n][1],i}function oo(t){let e,n=[t[11]],i={};for(let o=0;o<n.length;o+=1)i=G(i,n[o]);return{c(){e=Vi(t[10]),hi(e,i)},m(o,r){w(o,e,r)},p(o,r){hi(e,i=pe(n,[r&32&&o[11]]))},d(o){o&&y(e)}}}function sl(t){let e=t[10],n,i=t[10]&&oo(t);return{c(){i&&i.c(),n=Se()},m(o,r){i&&i.m(o,r),w(o,n,r)},p(o,r){o[10]?e?le(e,o[10])?(i.d(1),i=oo(o),e=o[10],i.c(),i.m(n.parentNode,n)):i.p(o,r):(i=oo(o),e=o[10],i.c(),i.m(n.parentNode,n)):e&&(i.d(1),i=null,e=o[10])},d(o){o&&y(n),i&&i.d(o)}}}function sh(t){let e,n,i,o,r,l=Ue(t[5]),a=[];for(let d=0;d<l.length;d+=1)a[d]=sl(ll(t,l,d));const s=t[9].default,u=ue(s,t,t[8],null);let f=[rl,t[6],{width:t[2]},{height:t[2]},{stroke:t[1]},{"stroke-width":i=t[4]?Number(t[3])*24/Number(t[2]):t[3]},{class:o=`lucide-icon lucide lucide-${t[0]} ${t[7].class??""}`}],c={};for(let d=0;d<f.length;d+=1)c=G(c,f[d]);return{c(){e=Vi("svg");for(let d=0;d<a.length;d+=1)a[d].c();n=Se(),u&&u.c(),hi(e,c)},m(d,h){w(d,e,h);for(let _=0;_<a.length;_+=1)a[_]&&a[_].m(e,null);I(e,n),u&&u.m(e,null),r=!0},p(d,[h]){if(h&32){l=Ue(d[5]);let _;for(_=0;_<l.length;_+=1){const g=ll(d,l,_);a[_]?a[_].p(g,h):(a[_]=sl(g),a[_].c(),a[_].m(e,n))}for(;_<a.length;_+=1)a[_].d(1);a.length=l.length}u&&u.p&&(!r||h&256)&&ce(u,s,d,d[8],r?fe(s,d[8],h,null):de(d[8]),null),hi(e,c=pe(f,[rl,h&64&&d[6],(!r||h&4)&&{width:d[2]},(!r||h&4)&&{height:d[2]},(!r||h&2)&&{stroke:d[1]},(!r||h&28&&i!==(i=d[4]?Number(d[3])*24/Number(d[2]):d[3]))&&{"stroke-width":i},(!r||h&129&&o!==(o=`lucide-icon lucide lucide-${d[0]} ${d[7].class??""}`))&&{class:o}]))},i(d){r||(C(u,d),r=!0)},o(d){S(u,d),r=!1},d(d){d&&y(e),_t(a,d),u&&u.d(d)}}}function ah(t,e,n){const i=["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"];let o=te(e,i),{$$slots:r={},$$scope:l}=e,{name:a}=e,{color:s="currentColor"}=e,{size:u=24}=e,{strokeWidth:f=2}=e,{absoluteStrokeWidth:c=!1}=e,{iconNode:d}=e;return t.$$set=h=>{n(7,e=G(G({},e),ke(h))),n(6,o=te(e,i)),"name"in h&&n(0,a=h.name),"color"in h&&n(1,s=h.color),"size"in h&&n(2,u=h.size),"strokeWidth"in h&&n(3,f=h.strokeWidth),"absoluteStrokeWidth"in h&&n(4,c=h.absoluteStrokeWidth),"iconNode"in h&&n(5,d=h.iconNode),"$$scope"in h&&n(8,l=h.$$scope)},e=ke(e),[a,s,u,f,c,d,o,e,l,r]}class uh extends me{constructor(e){super(),he(this,e,ah,sh,le,{name:0,color:1,size:2,strokeWidth:3,absoluteStrokeWidth:4,iconNode:5})}}function fh(t){let e;const n=t[2].default,i=ue(n,t,t[3],null);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&8)&&ce(i,n,o,o[3],e?fe(n,o[3],r,null):de(o[3]),null)},i(o){e||(C(i,o),e=!0)},o(o){S(i,o),e=!1},d(o){i&&i.d(o)}}}function ch(t){let e,n;const i=[{name:"x"},t[1],{iconNode:t[0]}];let o={$$slots:{default:[fh]},$$scope:{ctx:t}};for(let r=0;r<i.length;r+=1)o=G(o,i[r]);return e=new uh({props:o}),{c(){Q(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&3?pe(i,[i[0],l&2&&et(r[1]),l&1&&{iconNode:r[0]}]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function dh(t,e,n){let{$$slots:i={},$$scope:o}=e;const r=[["path",{d:"M18 6 6 18"}],["path",{d:"m6 6 12 12"}]];return t.$$set=l=>{n(1,e=G(G({},e),ke(l))),"$$scope"in l&&n(3,o=l.$$scope)},e=ke(e),[r,e,i,o]}class ph extends me{constructor(e){super(),he(this,e,dh,ch,le,{})}}function hh(t){let e,n,i,o;return e=new ph({props:{class:"h-4 w-4"}}),{c(){Q(e.$$.fragment),n=W(),i=O("span"),i.textContent="Close",L(i,"class","sr-only")},m(r,l){Y(e,r,l),w(r,n,l),w(r,i,l),o=!0},p:ae,i(r){o||(C(e.$$.fragment,r),o=!0)},o(r){S(e.$$.fragment,r),o=!1},d(r){r&&(y(n),y(i)),X(e,r)}}}function mh(t){let e,n,i;const o=t[4].default,r=ue(o,t,t[5],null);return n=new gd({props:{class:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",$$slots:{default:[hh]},$$scope:{ctx:t}}}),{c(){r&&r.c(),e=W(),Q(n.$$.fragment)},m(l,a){r&&r.m(l,a),w(l,e,a),Y(n,l,a),i=!0},p(l,a){r&&r.p&&(!i||a&32)&&ce(r,o,l,l[5],i?fe(o,l[5],a,null):de(l[5]),null);const s={};a&32&&(s.$$scope={dirty:a,ctx:l}),n.$set(s)},i(l){i||(C(r,l),C(n.$$.fragment,l),i=!0)},o(l){S(r,l),S(n.$$.fragment,l),i=!1},d(l){l&&y(e),r&&r.d(l),X(n,l)}}}function _h(t){let e,n,i,o;e=new rh({});const r=[{transition:t[1]},{transitionConfig:t[2]},{class:Ee("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg md:w-full",t[0])},t[3]];let l={$$slots:{default:[mh]},$$scope:{ctx:t}};for(let a=0;a<r.length;a+=1)l=G(l,r[a]);return i=new Bd({props:l}),{c(){Q(e.$$.fragment),n=W(),Q(i.$$.fragment)},m(a,s){Y(e,a,s),w(a,n,s),Y(i,a,s),o=!0},p(a,s){const u=s&15?pe(r,[s&2&&{transition:a[1]},s&4&&{transitionConfig:a[2]},s&1&&{class:Ee("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg md:w-full",a[0])},s&8&&et(a[3])]):{};s&32&&(u.$$scope={dirty:s,ctx:a}),i.$set(u)},i(a){o||(C(e.$$.fragment,a),C(i.$$.fragment,a),o=!0)},o(a){S(e.$$.fragment,a),S(i.$$.fragment,a),o=!1},d(a){a&&y(n),X(e,a),X(i,a)}}}function gh(t){let e,n;return e=new xp({props:{$$slots:{default:[_h]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},p(i,[o]){const r={};o&47&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(C(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){X(e,i)}}}function bh(t,e,n){const i=["class","transition","transitionConfig"];let o=te(e,i),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{transition:s=Yo}=e,{transitionConfig:u={duration:200}}=e;return t.$$set=f=>{e=G(G({},e),ke(f)),n(3,o=te(e,i)),"class"in f&&n(0,a=f.class),"transition"in f&&n(1,s=f.transition),"transitionConfig"in f&&n(2,u=f.transitionConfig),"$$scope"in f&&n(5,l=f.$$scope)},[a,s,u,o,r,l]}class zt extends me{constructor(e){super(),he(this,e,bh,gh,le,{class:0,transition:1,transitionConfig:2})}}function vh(t){let e;const n=t[2].default,i=ue(n,t,t[3],null);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&8)&&ce(i,n,o,o[3],e?fe(n,o[3],r,null):de(o[3]),null)},i(o){e||(C(i,o),e=!0)},o(o){S(i,o),e=!1},d(o){i&&i.d(o)}}}function yh(t){let e,n;const i=[{class:Ee("text-sm text-muted-foreground",t[0])},t[1]];let o={$$slots:{default:[vh]},$$scope:{ctx:t}};for(let r=0;r<i.length;r+=1)o=G(o,i[r]);return e=new np({props:o}),{c(){Q(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&3?pe(i,[l&1&&{class:Ee("text-sm text-muted-foreground",r[0])},l&2&&et(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function wh(t,e,n){const i=["class"];let o=te(e,i),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=G(G({},e),ke(s)),n(1,o=te(e,i)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,l=s.$$scope)},[a,o,r,l]}class en extends me{constructor(e){super(),he(this,e,wh,yh,le,{class:0})}}const tn=id;function kh(t){let e,n;const i=[{class:Ee("shrink-0 bg-border",t[1]==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t[0])},{orientation:t[1]},{decorative:t[2]},t[3]];let o={};for(let r=0;r<i.length;r+=1)o=G(o,i[r]);return e=new xc({props:o}),{c(){Q(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&15?pe(i,[l&3&&{class:Ee("shrink-0 bg-border",r[1]==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",r[0])},l&2&&{orientation:r[1]},l&4&&{decorative:r[2]},l&8&&et(r[3])]):{};e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function Ch(t,e,n){const i=["class","orientation","decorative"];let o=te(e,i),{class:r=void 0}=e,{orientation:l="horizontal"}=e,{decorative:a=void 0}=e;return t.$$set=s=>{e=G(G({},e),ke(s)),n(3,o=te(e,i)),"class"in s&&n(0,r=s.class),"orientation"in s&&n(1,l=s.orientation),"decorative"in s&&n(2,a=s.decorative)},[r,l,a,o]}class Ii extends me{constructor(e){super(),he(this,e,Ch,kh,le,{class:0,orientation:1,decorative:2})}}function Ah(t){let e,n,i,o,r=[{class:n=Ee("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t[1])},t[2]],l={};for(let a=0;a<r.length;a+=1)l=G(l,r[a]);return{c(){e=O("input"),oe(e,l)},m(a,s){w(a,e,s),e.autofocus&&e.focus(),wt(e,t[0]),i||(o=[V(e,"input",t[17]),V(e,"blur",t[3]),V(e,"change",t[4]),V(e,"click",t[5]),V(e,"focus",t[6]),V(e,"focusin",t[7]),V(e,"focusout",t[8]),V(e,"keydown",t[9]),V(e,"keypress",t[10]),V(e,"keyup",t[11]),V(e,"mouseover",t[12]),V(e,"mouseenter",t[13]),V(e,"mouseleave",t[14]),V(e,"paste",t[15]),V(e,"input",t[16])],i=!0)},p(a,[s]){oe(e,l=pe(r,[s&2&&n!==(n=Ee("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a[1]))&&{class:n},s&4&&a[2]])),s&1&&e.value!==a[0]&&wt(e,a[0])},i:ae,o:ae,d(a){a&&y(e),i=!1,Le(o)}}}function Sh(t,e,n){const i=["class","value"];let o=te(e,i),{class:r=void 0}=e,{value:l=void 0}=e;function a(F){Z.call(this,t,F)}function s(F){Z.call(this,t,F)}function u(F){Z.call(this,t,F)}function f(F){Z.call(this,t,F)}function c(F){Z.call(this,t,F)}function d(F){Z.call(this,t,F)}function h(F){Z.call(this,t,F)}function _(F){Z.call(this,t,F)}function g(F){Z.call(this,t,F)}function v(F){Z.call(this,t,F)}function k(F){Z.call(this,t,F)}function A(F){Z.call(this,t,F)}function P(F){Z.call(this,t,F)}function $(F){Z.call(this,t,F)}function R(){l=this.value,n(0,l)}return t.$$set=F=>{e=G(G({},e),ke(F)),n(2,o=te(e,i)),"class"in F&&n(1,r=F.class),"value"in F&&n(0,l=F.value)},[l,r,o,a,s,u,f,c,d,h,_,g,v,k,A,P,$,R]}class Xo extends me{constructor(e){super(),he(this,e,Sh,Ah,le,{class:1,value:0})}}function al(t,e,n){const i=t.slice();return i[8]=e[n],i}function ul(t){let e,n=t[8].subtitle+"",i;return{c(){e=new uu(!1),i=Se(),e.a=i},m(o,r){e.m(n,o,r),w(o,i,r)},p(o,r){r&1&&n!==(n=o[8].subtitle+"")&&e.p(n)},d(o){o&&(y(i),e.d())}}}function fl(t){let e,n,i=t[8].label+"",o,r,l,a=t[8].value+"",s,u,f,c,d,h,_=t[8].subtitle!=null&&ul(t);return{c(){e=O("div"),n=O("span"),o=B(i),r=W(),l=O("span"),s=B(a),u=W(),_&&_.c(),f=W(),L(n,"class","text-xs pl-4 pr-4 rounded-lg"),L(l,"class","text-xs text-slate-500"),L(e,"class",c="flex flex-col items-center text-center flex-1 "+(t[2]=="true"?"cursor-pointer":""))},m(g,v){w(g,e,v),I(e,n),I(n,o),I(e,r),I(e,l),I(l,s),I(l,u),_&&_.m(l,null),I(e,f),d||(h=V(e,"click",function(){Nt(t[2]=="true"?t[8].tap:null)&&(t[2]=="true"?t[8].tap:null).apply(this,arguments)}),d=!0)},p(g,v){t=g,v&1&&i!==(i=t[8].label+"")&&ge(o,i),v&1&&a!==(a=t[8].value+"")&&ge(s,a),t[8].subtitle!=null?_?_.p(t,v):(_=ul(t),_.c(),_.m(l,null)):_&&(_.d(1),_=null),v&4&&c!==(c="flex flex-col items-center text-center flex-1 "+(t[2]=="true"?"cursor-pointer":""))&&L(e,"class",c)},d(g){g&&y(e),_&&_.d(),d=!1,h()}}}function Nh(t){let e,n,i=Ue(t[0]),o=[];for(let r=0;r<i.length;r+=1)o[r]=fl(al(t,i,r));return{c(){e=O("div");for(let r=0;r<o.length;r+=1)o[r].c();L(e,"class",n="flex flex-row justify-between pr-5 pl-5 "+t[1])},m(r,l){w(r,e,l);for(let a=0;a<o.length;a+=1)o[a]&&o[a].m(e,null)},p(r,[l]){if(l&5){i=Ue(r[0]);let a;for(a=0;a<i.length;a+=1){const s=al(r,i,a);o[a]?o[a].p(s,l):(o[a]=fl(s),o[a].c(),o[a].m(e,null))}for(;a<o.length;a+=1)o[a].d(1);o.length=i.length}l&2&&n!==(n="flex flex-row justify-between pr-5 pl-5 "+r[1])&&L(e,"class",n)},i:ae,o:ae,d(r){r&&y(e),_t(o,r)}}}function yt(t,e){if(e===void 0&&(e=0),t==null||t==null)return 0;t=parseFloat((t*Math.pow(10,e)).toFixed(11));var n=Math.round(t)/Math.pow(10,e);return+n.toFixed(e)}function Th(t,e,n){let i,o,r;se(t,Ie,f=>n(5,i=f)),se(t,wi,f=>n(6,o=f)),se(t,ki,f=>n(7,r=f));let{stats:l=[]}=e,{classText:a=""}=e,{clickEvents:s="true"}=e;function u(){let f=i;f.hasBank===!0?(f.townInfo.gold+=f.townInfo.gold_from_tourism,f.townInfo.gold_from_tourism=0,Ie.set(f),localStorage.setItem(rt,JSON.stringify(f))):alert("You need a bank to transfer funds from tourism activities.")}return t.$$set=f=>{"stats"in f&&n(0,l=f.stats),"classText"in f&&n(1,a=f.classText),"clickEvents"in f&&n(2,s=f.clickEvents)},t.$$.update=()=>{t.$$.dirty&228&&n(0,l=[{label:"Population",value:`${at(i.townInfo.population_count)}/${at(i.townInfo.population_max)}`,subtitle:`<span
					class='
						rounded-full px-1 py-1 text-xs
						${i.townInfo.population_count<i.townInfo.population_max?"text-red-500":"text-green-500"}
					'>
					${at(i.townInfo.population_max-i.townInfo.population_count)}
				</span>`,tap:()=>{}},{label:"Employees",value:`${at(i.townInfo.employees)}/${at(i.townInfo.population_count)}`,subtitle:`<span
					class='
						rounded-full px-1 py-1 text-xs
						${i.townInfo.employees<i.townInfo.population_count?"text-red-500":"text-green-500"}
					'>
					${at(i.townInfo.population_count-i.townInfo.employees)}
				</span>`,tap:()=>{}},{label:"Knowledge",value:at(i.townInfo.knowledge_points)+`${s=="true"?" (click me)":""}`,tap:()=>{Ce(ki,r=!r,r)}},{label:"Gold",value:"$"+at(yt(i.townInfo.gold,0)),subtitle:`<span
					class='
						rounded-full px-1 py-1 text-xs
						${i.economyAndLaws.last_month_profit<0?"text-red-500":"text-green-500"}
					'>
					${at(yt(i.economyAndLaws.last_month_profit,0))}
				</span>`,tap:()=>{Ce(wi,o=!o,o)}},{label:"Tourism üí∞",value:"$"+at(yt(i.townInfo.gold_from_tourism,0)),tap:()=>{u()}},{label:"Happiness",value:`${yt(i.townInfo.happiness/3,0)}/100`,subtitle:`<span
					class='
						rounded-full px-1 py-1 text-xs text-slate-600
						${i.townInfo.happiness<50?"text-red-500":"text-green-500"}
					'>
					${i.modifiers.happiness<1?"üî¥":"üü¢"} (${yt(i.modifiers.happiness,2)}x)
				</span>`,tap:()=>{}},{label:"Health",value:`${yt(i.townInfo.health/3,0)}/100`,subtitle:`<span
					class='
						rounded-full px-1 py-1 text-xs text-slate-600
						${i.townInfo.health<50?"text-red-500":"text-green-500"}
					'>
					${i.modifiers.health<1?"üî¥":"üü¢"} (${yt(i.modifiers.health,2)}x)
				</span>`,tap:()=>{}}])},[l,a,s,yt,u,i,o,r]}class pa extends me{constructor(e){super(),he(this,e,Th,Nh,le,{stats:0,classText:1,clickEvents:2,roundTo:3,transferFundsFromBank:4})}get roundTo(){return yt}get transferFundsFromBank(){return this.$$.ctx[4]}}function cl(t,e,n){const i=t.slice();return i[27]=e[n],i}function dl(t,e,n){const i=t.slice();return i[30]=e[n],i}function pl(t,e,n){const i=t.slice();return i[27]=e[n],i}function Ih(t){let e,n;return{c(){e=O("span"),n=B("Set this Plot"),L(e,"class","text-2xl font-bold")},m(i,o){w(i,e,o),w(i,n,o)},p:ae,d(i){i&&(y(e),y(n))}}}function hl(t){let e,n;return e=new en({props:{class:"text-sm",$$slots:{default:[Eh]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},p(i,o){const r={};o[0]&2|o[1]&16&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(C(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){X(e,i)}}}function Eh(t){let e;return{c(){e=B(t[1])},m(n,i){w(n,e,i)},p(n,i){i[0]&2&&ge(e,n[1])},d(n){n&&y(e)}}}function Mh(t){let e,n,i,o,r,l,a,s,u;e=new Qt({props:{class:"text-2xl font-bold",$$slots:{default:[Ih]},$$scope:{ctx:t}}});let f=t[1]!==""&&hl(t);return l=new pa({props:{classText:"w-full",clickEvents:"false"}}),{c(){Q(e.$$.fragment),n=W(),f&&f.c(),i=W(),o=O("div"),r=W(),Q(l.$$.fragment),a=W(),s=O("div"),L(o,"class","mt-4"),L(s,"class","mb-4")},m(c,d){Y(e,c,d),w(c,n,d),f&&f.m(c,d),w(c,i,d),w(c,o,d),w(c,r,d),Y(l,c,d),w(c,a,d),w(c,s,d),u=!0},p(c,d){const h={};d[1]&16&&(h.$$scope={dirty:d,ctx:c}),e.$set(h),c[1]!==""?f?(f.p(c,d),d[0]&2&&C(f,1)):(f=hl(c),f.c(),C(f,1),f.m(i.parentNode,i)):f&&(Pe(),S(f,1,1,()=>{f=null}),Oe())},i(c){u||(C(e.$$.fragment,c),C(f),C(l.$$.fragment,c),u=!0)},o(c){S(e.$$.fragment,c),S(f),S(l.$$.fragment,c),u=!1},d(c){c&&(y(n),y(i),y(o),y(r),y(a),y(s)),X(e,c),f&&f.d(c),X(l,c)}}}function ml(t){let e,n,i;return{c(){e=O("button"),e.textContent="üî• Bulldoze",L(e,"id","bulldoze"),L(e,"class","px-2 py-2 bg-red-500 text-white rounded hover:bg-red-600 transition duration-300 ease-in-out")},m(o,r){w(o,e,r),n||(i=V(e,"click",t[13]),n=!0)},p:ae,d(o){o&&y(e),n=!1,i()}}}function Ph(t){let e;return{c(){e=B("No options")},m(n,i){w(n,e,i)},p:ae,d(n){n&&y(e)}}}function Oh(t){let e,n=Ue(t[7]),i=[];for(let o=0;o<n.length;o+=1)i[o]=gl(pl(t,n,o));return{c(){for(let o=0;o<i.length;o+=1)i[o].c();e=Se()},m(o,r){for(let l=0;l<i.length;l+=1)i[l]&&i[l].m(o,r);w(o,e,r)},p(o,r){if(r[0]&128){n=Ue(o[7]);let l;for(l=0;l<n.length;l+=1){const a=pl(o,n,l);i[l]?i[l].p(a,r):(i[l]=gl(a),i[l].c(),i[l].m(e.parentNode,e))}for(;l<i.length;l+=1)i[l].d(1);i.length=n.length}},d(o){o&&y(e),_t(i,o)}}}function _l(t){let e,n=Nl(t[27].title)+"",i,o,r;function l(){return t[19](t[27])}return{c(){e=O("span"),i=B(n),L(e,"class","text-xl cursor-pointer hover:bg-slate-300 rounded-lg p-1")},m(a,s){w(a,e,s),I(e,i),o||(r=V(e,"click",l),o=!0)},p(a,s){t=a,s[0]&128&&n!==(n=Nl(t[27].title)+"")&&ge(i,n)},d(a){a&&y(e),o=!1,r()}}}function gl(t){let e,n=t[27].affordable&&_l(t);return{c(){n&&n.c(),e=Se()},m(i,o){n&&n.m(i,o),w(i,e,o)},p(i,o){i[27].affordable?n?n.p(i,o):(n=_l(i),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(i){i&&y(e),n&&n.d(i)}}}function bl(t){let e,n,i,o=Ot(t[8].economyAndLaws.tax_rate*t[27].revenue_per_week,2)+"",r;return{c(){e=O("div"),n=O("span"),i=B("$"),r=B(o)},m(l,a){w(l,e,a),I(e,n),I(n,i),I(n,r)},p(l,a){a[0]&384&&o!==(o=Ot(l[8].economyAndLaws.tax_rate*l[27].revenue_per_week,2)+"")&&ge(r,o)},d(l){l&&y(e)}}}function vl(t){let e,n,i=t[27].requirements.knowledge+"",o,r;return{c(){e=O("br"),n=W(),o=B(i),r=B(" KPts")},m(l,a){w(l,e,a),w(l,n,a),w(l,o,a),w(l,r,a)},p(l,a){a[0]&128&&i!==(i=l[27].requirements.knowledge+"")&&ge(o,i)},d(l){l&&(y(e),y(n),y(o),y(r))}}}function Lh(t){let e;return{c(){e=O("span"),e.textContent="‚ùå",L(e,"class","text-red-500")},m(n,i){w(n,e,i)},d(n){n&&y(e)}}}function Fh(t){let e;return{c(){e=O("span"),e.textContent="‚úÖ",L(e,"class","text-green-500")},m(n,i){w(n,e,i)},d(n){n&&y(e)}}}function yl(t){let e,n,i=t[30]+"",o,r,l;function a(f,c){return c[0]&384&&(e=null),e==null&&(e=Ui(f[30],f[8]).length>0),e?Fh:Lh}let s=a(t,[-1,-1]),u=s(t);return{c(){u.c(),n=W(),o=B(i),r=W(),l=O("br")},m(f,c){u.m(f,c),w(f,n,c),w(f,o,c),w(f,r,c),w(f,l,c)},p(f,c){s!==(s=a(f,c))&&(u.d(1),u=s(f),u&&(u.c(),u.m(n.parentNode,n))),c[0]&128&&i!==(i=f[30]+"")&&ge(o,i)},d(f){f&&(y(n),y(o),y(r),y(l)),u.d(f)}}}function wl(t){let e,n=Ei(t[27].effect_modifiers.happiness)+"",i;return{c(){e=B("üòÄ "),i=B(n)},m(o,r){w(o,e,r),w(o,i,r)},p(o,r){r[0]&128&&n!==(n=Ei(o[27].effect_modifiers.happiness)+"")&&ge(i,n)},d(o){o&&(y(e),y(i))}}}function kl(t){let e,n=Ei(t[27].effect_modifiers.health)+"",i;return{c(){e=B("üò∑ "),i=B(n)},m(o,r){w(o,e,r),w(o,i,r)},p(o,r){r[0]&128&&n!==(n=Ei(o[27].effect_modifiers.health)+"")&&ge(i,n)},d(o){o&&(y(e),y(i))}}}function Cl(t){let e,n=Mi(t[27].immediate_variable_changes.happiness)+"",i;return{c(){e=B("üòÄ "),i=B(n)},m(o,r){w(o,e,r),w(o,i,r)},p(o,r){r[0]&128&&n!==(n=Mi(o[27].immediate_variable_changes.happiness)+"")&&ge(i,n)},d(o){o&&(y(e),y(i))}}}function Al(t){let e,n,i=Mi(t[27].immediate_variable_changes.health)+"",o;return{c(){e=O("br"),n=B(`
									üò∑ `),o=B(i)},m(r,l){w(r,e,l),w(r,n,l),w(r,o,l)},p(r,l){l[0]&128&&i!==(i=Mi(r[27].immediate_variable_changes.health)+"")&&ge(o,i)},d(r){r&&(y(e),y(n),y(o))}}}function Sl(t,e){let n,i,o=e[27].selected?`‚úÖ SELECTED ${e[27].title.substring(2)}`:`${e[27].title}`,r,l,a,s=e[27].description+"",u,f,c,d,h=(e[27].requirements.employees||"")+"",_,g,v,k,A,P=Tl(e[27].requirements.gold)+"",$,R,F,j,K,p,D,T,b,m,M,q,E,U,J,ee,z,x=e[27].revenue_per_week>0&&bl(e),ne=e[27].requirements.knowledge>0&&vl(e),_e=Ue(e[27].requirements.plots),H=[];for(let $e=0;$e<_e.length;$e+=1)H[$e]=yl(dl(e,_e,$e));let re=e[27].effect_modifiers.happiness!=1&&wl(e),be=e[27].effect_modifiers.health!=1&&kl(e),Te=e[27].immediate_variable_changes.happiness!=0&&Cl(e),Be=e[27].immediate_variable_changes.health!=0&&Al(e);return{key:t,first:null,c(){n=O("tr"),i=O("td"),r=B(o),l=W(),a=O("td"),u=W(),f=O("td"),x&&x.c(),c=W(),d=O("td"),_=B(h),v=W(),k=O("td"),A=B("$"),$=B(P),R=W(),ne&&ne.c(),j=W(),K=O("td"),p=O("div");for(let $e=0;$e<H.length;$e+=1)H[$e].c();D=W(),T=O("td"),b=O("div"),re&&re.c(),m=W(),M=O("div"),be&&be.c(),q=W(),E=O("td"),Te&&Te.c(),U=W(),Be&&Be.c(),J=W(),L(i,"class","px-2 py-2 w-12"),L(a,"class","px-2 py-2 w-24"),L(f,"class","px-2 py-2 w-12 font-bold"),L(d,"class",g="px-2 py-2 w-8 "+(e[27].requirements.employees>e[8].townInfo.population_count-e[8].townInfo.employees?"underline bg-red-800 text-white":"")),L(k,"class",F="px-2 py-2 w-8 "+(e[27].requirements.gold>e[8].townInfo.gold?"underline bg-red-800 text-white border-none":"")),L(K,"class","px-2 py-2 w-12"),L(b,"class","text-xs"),L(M,"class","mt-2"),L(T,"class","px-2 py-2 w-12 text-xs"),L(E,"class","px-2 py-2 w-12"),L(n,"class",ee="plotOption border-b border-black "+(e[27].affordable?"cursor-pointer":"unaffordable cursor-not-allowed bg-gray-200")+" "+(e[27].selected?"italic font-light opacity-50 ":"")+" svelte-bq7iir"),L(n,"data-plotoptionid",z=e[27].id),hn(n,"background-color",e[27].selected?"gray":vi(e[11](e[27].id),e[4](e[2],e[3]))),this.first=n},m($e,Me){w($e,n,Me),I(n,i),I(i,r),I(n,l),I(n,a),a.innerHTML=s,I(n,u),I(n,f),x&&x.m(f,null),I(n,c),I(n,d),I(d,_),I(n,v),I(n,k),I(k,A),I(k,$),I(k,R),ne&&ne.m(k,null),I(n,j),I(n,K),I(K,p);for(let qe=0;qe<H.length;qe+=1)H[qe]&&H[qe].m(p,null);I(n,D),I(n,T),I(T,b),re&&re.m(b,null),I(T,m),I(T,M),be&&be.m(M,null),I(n,q),I(n,E),Te&&Te.m(E,null),I(E,U),Be&&Be.m(E,null),I(n,J)},p($e,Me){if(e=$e,Me[0]&128&&o!==(o=e[27].selected?`‚úÖ SELECTED ${e[27].title.substring(2)}`:`${e[27].title}`)&&ge(r,o),Me[0]&128&&s!==(s=e[27].description+"")&&(a.innerHTML=s),e[27].revenue_per_week>0?x?x.p(e,Me):(x=bl(e),x.c(),x.m(f,null)):x&&(x.d(1),x=null),Me[0]&128&&h!==(h=(e[27].requirements.employees||"")+"")&&ge(_,h),Me[0]&384&&g!==(g="px-2 py-2 w-8 "+(e[27].requirements.employees>e[8].townInfo.population_count-e[8].townInfo.employees?"underline bg-red-800 text-white":""))&&L(d,"class",g),Me[0]&128&&P!==(P=Tl(e[27].requirements.gold)+"")&&ge($,P),e[27].requirements.knowledge>0?ne?ne.p(e,Me):(ne=vl(e),ne.c(),ne.m(k,null)):ne&&(ne.d(1),ne=null),Me[0]&384&&F!==(F="px-2 py-2 w-8 "+(e[27].requirements.gold>e[8].townInfo.gold?"underline bg-red-800 text-white border-none":""))&&L(k,"class",F),Me[0]&384){_e=Ue(e[27].requirements.plots);let qe;for(qe=0;qe<_e.length;qe+=1){const Ve=dl(e,_e,qe);H[qe]?H[qe].p(Ve,Me):(H[qe]=yl(Ve),H[qe].c(),H[qe].m(p,null))}for(;qe<H.length;qe+=1)H[qe].d(1);H.length=_e.length}e[27].effect_modifiers.happiness!=1?re?re.p(e,Me):(re=wl(e),re.c(),re.m(b,null)):re&&(re.d(1),re=null),e[27].effect_modifiers.health!=1?be?be.p(e,Me):(be=kl(e),be.c(),be.m(M,null)):be&&(be.d(1),be=null),e[27].immediate_variable_changes.happiness!=0?Te?Te.p(e,Me):(Te=Cl(e),Te.c(),Te.m(E,U)):Te&&(Te.d(1),Te=null),e[27].immediate_variable_changes.health!=0?Be?Be.p(e,Me):(Be=Al(e),Be.c(),Be.m(E,null)):Be&&(Be.d(1),Be=null),Me[0]&128&&ee!==(ee="plotOption border-b border-black "+(e[27].affordable?"cursor-pointer":"unaffordable cursor-not-allowed bg-gray-200")+" "+(e[27].selected?"italic font-light opacity-50 ":"")+" svelte-bq7iir")&&L(n,"class",ee),Me[0]&128&&z!==(z=e[27].id)&&L(n,"data-plotoptionid",z),Me[0]&140&&hn(n,"background-color",e[27].selected?"gray":vi(e[11](e[27].id),e[4](e[2],e[3])))},d($e){$e&&y(n),x&&x.d(),ne&&ne.d(),_t(H,$e),re&&re.d(),be&&be.d(),Te&&Te.d(),Be&&Be.d()}}}function Rh(t){let e,n,i,o,r,l,a,s,u,f,c,d,h,_=t[8].plots[t[2]][t[3]].type!==-1&&t[5](t[2],t[3]),g,v,k,A,P,$,R,F,j,K,p,D,T,b=[],m=new Map,M,q,E;e=new xt({props:{$$slots:{default:[Mh]},$$scope:{ctx:t}}});let U={type:"text",id:"search-bar",placeholder:"Search Plot Options...",value:t[6],class:"border rounded w-auto"};r=new Xo({props:U}),t[17](r),r.$on("input",t[12]);let J=_&&ml(t);function ee(H,re){return H[7].length>0?Oh:Ph}let z=ee(t),x=z(t);R=new Ii({props:{class:""}});let ne=Ue(t[7]);const _e=H=>H[27].id;for(let H=0;H<ne.length;H+=1){let re=cl(t,ne,H),be=_e(re);m.set(be,b[H]=Sl(be,re))}return{c(){Q(e.$$.fragment),n=W(),i=O("div"),o=O("div"),Q(r.$$.fragment),l=W(),a=O("div"),s=O("input"),f=W(),c=O("label"),c.textContent="Show only affordable",d=W(),h=O("div"),J&&J.c(),g=W(),v=O("label"),k=O("span"),k.textContent="Quick scroll",A=W(),P=O("div"),x.c(),$=W(),Q(R.$$.fragment),F=W(),j=O("div"),K=O("table"),p=O("thead"),p.innerHTML='<tr class="text-xs text-left"><th class="px-2 py-2">Title</th> <th class="px-2 pr-2 py-2 w-48">Desc</th> <th class="px-2 py-2">Profit</th> <th class="px-2 py-2">Employees</th> <th class="px-2 py-2">Cost</th> <th class="px-2 py-2">Requires</th> <th class="px-2 py-2">Modifiers</th> <th class="px-2 py-2">Instant effect</th></tr>',D=W(),T=O("tbody");for(let H=0;H<b.length;H+=1)b[H].c();L(o,"class","flex items-center "),L(s,"type","checkbox"),L(s,"id","toggle-affordable"),L(s,"class","rounded"),s.checked=u=t[10]===t[7].length,L(c,"for","toggle-affordable"),L(c,"class","ml-2 no-select cursor-pointer "),L(a,"class","flex items-center ml-6"),L(h,"class","flex justify-end ml-6"),L(k,"class","mb-10"),L(v,"for","plotType"),L(v,"class","text-xs ml-4 gap-2"),L(i,"class","flex flex-row w-full px-4 py-2 text-white "),L(p,"class","sticky top-0 z-10 bg-slate-900 position-sticky text-white text-left w-full px-5 "),L(T,"class","overflow-hidden text-xs mx-2"),L(K,"class","text-left table-auto text-xs w-full border-collapse rounded-lgshadow-lg"),L(j,"class","overflow-y-scroll scroll-smooth no-scrollbar max-h-[60vh] ")},m(H,re){Y(e,H,re),w(H,n,re),w(H,i,re),I(i,o),Y(r,o,null),I(i,l),I(i,a),I(a,s),I(a,f),I(a,c),I(i,d),I(i,h),J&&J.m(h,null),I(i,g),I(i,v),I(v,k),I(v,A),I(v,P),x.m(P,null),w(H,$,re),Y(R,H,re),w(H,F,re),w(H,j,re),I(j,K),I(K,p),I(K,D),I(K,T);for(let be=0;be<b.length;be+=1)b[be]&&b[be].m(T,null);M=!0,q||(E=[V(s,"change",t[18]),V(K,"click",t[14])],q=!0)},p(H,re){const be={};re[0]&2|re[1]&16&&(be.$$scope={dirty:re,ctx:H}),e.$set(be);const Te={};re[0]&64&&(Te.value=H[6]),r.$set(Te),(!M||re[0]&1152&&u!==(u=H[10]===H[7].length))&&(s.checked=u),re[0]&268&&(_=H[8].plots[H[2]][H[3]].type!==-1&&H[5](H[2],H[3])),_?J?J.p(H,re):(J=ml(H),J.c(),J.m(h,null)):J&&(J.d(1),J=null),z===(z=ee(H))&&x?x.p(H,re):(x.d(1),x=z(H),x&&(x.c(),x.m(P,null))),re[0]&2460&&(ne=Ue(H[7]),b=bu(b,re,_e,1,H,ne,m,T,gu,Sl,null,cl))},i(H){M||(C(e.$$.fragment,H),C(r.$$.fragment,H),C(R.$$.fragment,H),M=!0)},o(H){S(e.$$.fragment,H),S(r.$$.fragment,H),S(R.$$.fragment,H),M=!1},d(H){H&&(y(n),y(i),y($),y(F),y(j)),X(e,H),t[17](null),X(r),J&&J.d(),x.d(),X(R,H);for(let re=0;re<b.length;re+=1)b[re].d();q=!1,Le(E)}}}function qh(t){let e,n;return e=new zt({props:{class:`border-gray-500 border-r-2 overflow-clip max-w-[90vw] max-h-[90vh]
		`,$$slots:{default:[Rh]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},p(i,o){const r={};o[0]&1998|o[1]&16&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(C(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){X(e,i)}}}function $h(t){let e,n,i;function o(l){t[20](l)}let r={$$slots:{default:[qh]},$$scope:{ctx:t}};return t[0]!==void 0&&(r.open=t[0]),e=new tn({props:r}),we.push(()=>Zt(e,"open",o)),{c(){Q(e.$$.fragment)},m(l,a){Y(e,l,a),i=!0},p(l,a){const s={};a[0]&1998|a[1]&16&&(s.$$scope={dirty:a,ctx:l}),!n&&a[0]&1&&(n=!0,s.open=l[0],Xt(()=>n=!1)),e.$set(s)},i(l){i||(C(e.$$.fragment,l),i=!0)},o(l){S(e.$$.fragment,l),i=!1},d(l){X(e,l)}}}function Ei(t){let e=t<1,n=Ot(t%1*100,0);return e?`-${100-n}%`:`+${n}%`}function Mi(t){return t=Ot(t/3,0),t<0?`-${t}`:`+${t}`}function Nl(t){const n=new RegExp("\\p{Emoji}","u").exec(t);return n?n[0]:null}function Ot(t,e){e===void 0&&(e=0);var n=Math.pow(10,e);t=parseFloat((t*n).toFixed(11));var i=Math.round(t)/n;return+i.toFixed(e)}function Tl(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function Dh(t,e,n){let i,o,r;se(t,Ke,m=>n(21,i=m)),se(t,Ie,m=>n(8,o=m)),se(t,Ws,m=>n(16,r=m));let{x:l=0}=e,{y:a=0}=e,{open:s=!1}=e,u="",f=Ne,{tooltip:c=""}=e,d,h,_=f.map(m=>Object.assign(Object.assign({},m),{affordable:j(m,o),selected:k(m)}));function g(m){return Ne.findIndex(M=>M.id===m)}function v(m){n(6,u=m.target.value||"")}function k(m){return o.plots[l][a].type>-1?f[o.plots[l][a].type].id===m.id:!1}function A(m,M){let q={x:m,y:M};return q.x===0&&q.y===0?!0:[{x:q.x-1,y:q.y},{x:q.x+1,y:q.y},{x:q.x,y:q.y-1},{x:q.x,y:q.y+1}].some(U=>U.x<0||U.x>o.plots.length-1||U.y<0||U.y>o.plots.length-1?!1:o.plots[U.x][U.y].active)}function P(){document.querySelectorAll(".plotOption").forEach(M=>{M.classList.remove("active")}),yi(l,a,o)}function $(m){document.querySelectorAll(".plotOption").forEach(E=>{E.classList.remove("active")});const q=document.querySelector(`[data-plotoptionid="${m}"]`);q&&(q.classList.add("active"),F(l,a,m))}function R(m,M){let q=0;return m>0&&o.plots[m-1][M].type!==-1&&q++,m<o.plots.length-1&&o.plots[m+1][M].type!==-1&&q++,M>0&&o.plots[m][M-1].type!==-1&&q++,M<o.plots[0].length-1&&o.plots[m][M+1].type!==-1&&q++,q<=4}function F(m,M,q){let E=o;const U=Ne.findIndex(z=>z.id===q);let J=Ne[U];if(j(J,o)==!1)return console.log(J.requirements),alert(`${JSON.stringify(J.requirements)}`);let ee=!0;if((J.requirements.gold>E.townInfo.gold||J.requirements.employees>E.townInfo.population_count-E.townInfo.employees)&&(ee=!1),J.requirements.size!=null&&ee){let z=J.requirements.size,x=[],ne=f[U].title.toLowerCase().indexOf("school")!=-1;for(let _e=0;_e<4;_e++){let H=[[m,M]];_e===0?(H.push([m-(z-1),M-(z-1)]),H.push([m-(z-1),M]),H.push([m,M-(z-1)])):_e===1?(H.push([m,M-(z-1)]),H.push([m+(z-1),M-(z-1)]),H.push([m+(z-1),M])):_e===2?(H.push([m-(z-1),M]),H.push([m-(z-1),M+(z-1)]),H.push([m,M+(z-1)])):_e===3&&(H.push([m,M+(z-1)]),H.push([m+(z-1),M+(z-1)]),H.push([m+(z-1),M])),x.push(H)}x=x.filter(_e=>_e.every(H=>H[0]>=0&&H[0]<=E.plots.length-1&&H[1]>=0&&H[1]<=E.plots.length-1&&!E.plots[H[0]][H[1]].active&&A(H[0],H[1])==!0)),x.length===0?ee=!1:x.length>0&&x[0].forEach(H=>{E.plots[H[0]][H[1]].active=!0,E.plots[H[0]][H[1]].type=ne?-3:-2,E.plots[H[0]][H[1]].referencePlot=[m,M]})}if(ee===!0){switch(E.plots[m][M].type!==-1&&yi(m,M,E),n(1,c=""),E.plots[m][M].type=U,E.plots[m][M].active=!0,E.plots[m][M].referencePlot=[],E.plots[m][M].typeId=J.id,E.townInfo.gold-=J.requirements.gold,E.townInfo.gold=Ot(E.townInfo.gold,2),E.townInfo.population_count+=J.immediate_variable_changes.population,E.townInfo.population_max+=J.immediate_variable_changes.population,E.townInfo.happiness+=J.immediate_variable_changes.happiness,E.townInfo.health+=J.immediate_variable_changes.health,E.modifiers.happiness=Ot(E.modifiers.happiness*J.effect_modifiers.happiness,2),E.modifiers.health=Ot(E.modifiers.health*J.effect_modifiers.health,2),E.townInfo.employees+=J.requirements.employees,(E.plotCounts[U]===void 0||E.plotCounts[U]===null)&&(E.plotCounts[U]=0),E.plotCounts[U]++,E.lastChangeDay=E.environment.day,E.economyAndLaws.balance_sheet_history=[{day:E.environment.day,plot:`${m},${M}`,profits:J.requirements.gold*-1,balance:Ot(E.townInfo.gold,2)},...E.economyAndLaws.balance_sheet_history],J.id){case"city_hall":E.hasCityHall=!0;break;case"bank":E.hasBank=!0;break}Ie.set(E),localStorage.setItem(rt,JSON.stringify(E)),Ce(Ke,i.visible=!1,i)}else n(1,c="You do not have enough resources to purchase this plot. If it's a 'Large' plot, make sure you have a 2x2 area available. "),document.querySelectorAll(".plotOption").forEach(x=>{x.classList.remove("active")})}function j(m,M){let q=!0;m.requirements.gold>M.townInfo.gold&&(q=!1);let E=M.townInfo.population_count-M.townInfo.employees;return m.requirements.employees!==void 0&&m.requirements.employees>0&&m.requirements.employees>E&&(q=!1),m.requirements.knowledge!==void 0&&m.requirements.knowledge>M.townInfo.knowledge_points&&(q=!1),m.requirements.plots!==void 0&&m.requirements.plots.length>0&&m.requirements.plots.forEach(U=>{Ui(U,M).length===0&&(q=!1)}),q}function K(m){const M=m.target.closest(".plotOption");if(M){const q=M.dataset.plotoptionid;$(q)}}function p(m){we[m?"unshift":"push"](()=>{d=m,n(9,d)})}const D=()=>{Nu()},T=m=>{const M=document.querySelector(`[data-plotoptionid="${m.id}"]`);M&&M.scrollIntoView({behavior:"smooth",block:"center"})};function b(m){s=m,n(0,s)}return t.$$set=m=>{"x"in m&&n(2,l=m.x),"y"in m&&n(3,a=m.y),"open"in m&&n(0,s=m.open),"tooltip"in m&&n(1,c=m.tooltip)},t.$$.update=()=>{t.$$.dirty[0]&65920&&o&&(n(7,_=f.map(m=>Object.assign(Object.assign({},m),{affordable:j(m,o),selected:k(m)}))),r&&n(7,_=_.filter(m=>m.affordable))),t.$$.dirty[0]&192&&n(7,_=_.filter(m=>m.title.toLowerCase().includes(u.toLowerCase()))),t.$$.dirty[0]&128&&n(10,h=_.filter(m=>m.affordable).length)},[s,c,l,a,A,R,u,_,o,d,h,g,v,P,K,F,r,p,D,T,b]}class Bh extends me{constructor(e){super(),he(this,e,Dh,$h,le,{x:2,y:3,open:0,tooltip:1,checkIfPlotCanBeUpgraded:4,canBulldoze:5,purchasePlot:15},null,[-1,-1])}get checkIfPlotCanBeUpgraded(){return this.$$.ctx[4]}get canBulldoze(){return this.$$.ctx[5]}get purchasePlot(){return this.$$.ctx[15]}}function Gh(t){let e,n,i,o,r;return{c(){e=O("div"),n=O("span"),i=B("üëã "),o=B(t[0]),L(n,"class",r="text-xs rounded-lg p-2 whitespace-normal text-center flex justify-center w-fit m-2 shadow shadow-black hover:rotate-6 overflow-visible hover:scale-110 z-50 transition-all duration-25 "+t[1]+" "+(t[2]?"bg-green-300 text-green-900":"bg-red-900 text-red-200")),L(e,"class","overflow-visible animate-pulse")},m(l,a){w(l,e,a),I(e,n),I(n,i),I(n,o)},p(l,[a]){a&1&&ge(o,l[0]),a&6&&r!==(r="text-xs rounded-lg p-2 whitespace-normal text-center flex justify-center w-fit m-2 shadow shadow-black hover:rotate-6 overflow-visible hover:scale-110 z-50 transition-all duration-25 "+l[1]+" "+(l[2]?"bg-green-300 text-green-900":"bg-red-900 text-red-200"))&&L(n,"class",r)},i:ae,o:ae,d(l){l&&y(e)}}}function jh(t,e,n){let{text:i=""}=e,{classText:o=""}=e,{happy:r=!1}=e;return t.$$set=l=>{"text"in l&&n(0,i=l.text),"classText"in l&&n(1,o=l.classText),"happy"in l&&n(2,r=l.happy)},[i,o,r]}class ha extends me{constructor(e){super(),he(this,e,jh,Gh,le,{text:0,classText:1,happy:2})}}function Hh(t){let e,n;return e=new ha({props:{text:"Build your first home",happy:"true"}}),{c(){Q(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},p:ae,i(i){n||(C(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){X(e,i)}}}function Vh(t){let e,n,i,o=Ne[t[0].type].title.substring(0,2)+"",r,l,a=Ne[t[0].type].title.substring(2)+"",s,u,f=Ne[t[0].type].requirements.size>1?`(${Ne[t[0].type].requirements.size}x${Ne[t[0].type].requirements.size})`:"",c,d;return{c(){e=O("div"),n=O("span"),i=O("span"),r=B(o),l=O("br"),s=B(a),u=W(),c=B(f),L(i,"class","text-lg"),L(n,"data-size",d=Ne[t[0].type].requirements.size),L(e,"class","svelte-119mikc")},m(h,_){w(h,e,_),I(e,n),I(n,i),I(i,r),I(n,l),I(n,s),I(n,u),I(n,c)},p(h,_){_&1&&o!==(o=Ne[h[0].type].title.substring(0,2)+"")&&ge(r,o),_&1&&a!==(a=Ne[h[0].type].title.substring(2)+"")&&ge(s,a),_&1&&f!==(f=Ne[h[0].type].requirements.size>1?`(${Ne[h[0].type].requirements.size}x${Ne[h[0].type].requirements.size})`:"")&&ge(c,f),_&1&&d!==(d=Ne[h[0].type].requirements.size)&&L(n,"data-size",d)},i:ae,o:ae,d(h){h&&y(e)}}}function Wh(t){let e,n,i,o,r,l,a,s,u,f,c,d,h,_,g,v,k;const A=[Vh,Hh],P=[];function $(R,F){return R[0].type>-1?0:R[0].type==-1&&R[0].x==0&&R[0].y==0?1:-1}return~(n=$(t))&&(i=P[n]=A[n](t)),{c(){e=O("div"),i&&i.c(),L(e,"class",o="plot_container overflow-visible "+(t[0].type==-1&&t[1]==!1?"border-slate-500 border-dashed border":"")+" svelte-119mikc"),hn(e,"background-color",vi(t[0].type,t[1])),L(e,"data-active",r=t[0].active),L(e,"data-id",l=t[0].id),L(e,"data-x",a=t[0].x),L(e,"data-y",s=t[0].y),L(e,"data-optionindex",u=t[0].optionIndex),L(e,"data-canbeupgraded",t[1]),L(e,"data-type",f=t[0].type),L(e,"data-type-id",c=t[0].typeId),L(e,"data-refplotx",d=t[0].referencePlot!==void 0?t[0].referencePlot[1]:null),L(e,"data-refploty",h=t[0].referencePlot!==void 0?t[0].referencePlot[0]:null),L(e,"data-size",_=t[0].type>-1?Ne[t[0].type].requirements.size:null)},m(R,F){w(R,e,F),~n&&P[n].m(e,null),g=!0,v||(k=V(e,"click",t[2]),v=!0)},p(R,[F]){let j=n;n=$(R),n===j?~n&&P[n].p(R,F):(i&&(Pe(),S(P[j],1,1,()=>{P[j]=null}),Oe()),~n?(i=P[n],i?i.p(R,F):(i=P[n]=A[n](R),i.c()),C(i,1),i.m(e,null)):i=null),(!g||F&3&&o!==(o="plot_container overflow-visible "+(R[0].type==-1&&R[1]==!1?"border-slate-500 border-dashed border":"")+" svelte-119mikc"))&&L(e,"class",o),(!g||F&3)&&hn(e,"background-color",vi(R[0].type,R[1])),(!g||F&1&&r!==(r=R[0].active))&&L(e,"data-active",r),(!g||F&1&&l!==(l=R[0].id))&&L(e,"data-id",l),(!g||F&1&&a!==(a=R[0].x))&&L(e,"data-x",a),(!g||F&1&&s!==(s=R[0].y))&&L(e,"data-y",s),(!g||F&1&&u!==(u=R[0].optionIndex))&&L(e,"data-optionindex",u),(!g||F&2)&&L(e,"data-canbeupgraded",R[1]),(!g||F&1&&f!==(f=R[0].type))&&L(e,"data-type",f),(!g||F&1&&c!==(c=R[0].typeId))&&L(e,"data-type-id",c),(!g||F&1&&d!==(d=R[0].referencePlot!==void 0?R[0].referencePlot[1]:null))&&L(e,"data-refplotx",d),(!g||F&1&&h!==(h=R[0].referencePlot!==void 0?R[0].referencePlot[0]:null))&&L(e,"data-refploty",h),(!g||F&1&&_!==(_=R[0].type>-1?Ne[R[0].type].requirements.size:null))&&L(e,"data-size",_)},i(R){g||(C(i),g=!0)},o(R){S(i),g=!1},d(R){R&&y(e),~n&&P[n].d(),v=!1,k()}}}function Kh(t,e,n){let i,o,r,l;se(t,Ke,c=>n(4,i=c)),se(t,Ie,c=>n(5,o=c)),se(t,At,c=>n(6,r=c)),se(t,mn,c=>n(7,l=c));let{data:a={id:0,active:!1,x:0,y:0,type:-1,styling:"",referencePlot:[]}}=e,{canBeUpgraded:s=!1}=e;function u(c,d,h){let _=document.querySelectorAll(".plot_container");if(r==!1){if(a.referencePlot!=null&&a.referencePlot[0]!==null&&d==null&&h==null&&a.referencePlot[1]!==void 0)return u(c,a.referencePlot[0],a.referencePlot[1]);!a.active&&!s?(Ce(mn,l={},l),Ce(Ke,i.visible=!1,i),_.forEach(g=>{g.classList.remove("selected")})):(d!=null&&h!=null?(Ce(Ke,i.x=d,i),Ce(Ke,i.y=h,i)):(Ce(Ke,i.x=a.x,i),Ce(Ke,i.y=a.y,i)),Ce(Ke,i.visible=!0,i),_.forEach(g=>{g.classList.remove("selected")}),d!=null&&h!=null?document.querySelector(`.plot_container[data-x="${d}"][data-y="${h}"]`).classList.add("selected"):document.querySelector(`.plot_container[data-id="${a.id}"]`).classList.add("selected"))}}function f(c){r==!1&&(Ce(Ie,o.plots[a.x][a.y].type=c,o),Ce(Ke,i.visible=!1,i))}return t.$$set=c=>{"data"in c&&n(0,a=c.data),"canBeUpgraded"in c&&n(1,s=c.canBeUpgraded)},[a,s,u,f]}class Uh extends me{constructor(e){super(),he(this,e,Kh,Wh,le,{data:0,canBeUpgraded:1,changePlotType:3})}get changePlotType(){return this.$$.ctx[3]}}function Il(t,e,n){const i=t.slice();return i[6]=e[n],i}function El(t,e,n){const i=t.slice();return i[9]=e[n],i}function Ml(t){let e,n,i=t[3],o,r,l=Ue(t[2].plots),a=[];for(let f=0;f<l.length;f+=1)a[f]=Ol(Il(t,l,f));const s=f=>S(a[f],1,1,()=>{a[f]=null});let u=Fl(t);return{c(){e=O("div");for(let f=0;f<a.length;f+=1)a[f].c();n=W(),u.c(),o=Se(),L(e,"class","grid overflow-x-scroll overflow-visible svelte-3cpxwu")},m(f,c){w(f,e,c);for(let d=0;d<a.length;d+=1)a[d]&&a[d].m(e,null);w(f,n,c),u.m(f,c),w(f,o,c),r=!0},p(f,c){if(c&7){l=Ue(f[2].plots);let d;for(d=0;d<l.length;d+=1){const h=Il(f,l,d);a[d]?(a[d].p(h,c),C(a[d],1)):(a[d]=Ol(h),a[d].c(),C(a[d],1),a[d].m(e,null))}for(Pe(),d=l.length;d<a.length;d+=1)s(d);Oe()}c&8&&le(i,i=f[3])?(Pe(),S(u,1,1,ae),Oe(),u=Fl(f),u.c(),C(u,1),u.m(o.parentNode,o)):u.p(f,c)},i(f){if(!r){for(let c=0;c<l.length;c+=1)C(a[c]);C(u),r=!0}},o(f){a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)S(a[c]);S(u),r=!1},d(f){f&&(y(e),y(n),y(o)),_t(a,f),u.d(f)}}}function Pl(t){let e,n;return e=new Uh({props:{data:t[9],canBeUpgraded:t[0](t[9].x,t[9].y)}}),{c(){Q(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},p(i,o){const r={};o&4&&(r.data=i[9]),o&4&&(r.canBeUpgraded=i[0](i[9].x,i[9].y)),e.$set(r)},i(i){n||(C(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){X(e,i)}}}function Ol(t){let e,n,i,o,r,l=Ue(t[6]),a=[];for(let u=0;u<l.length;u+=1)a[u]=Pl(El(t,l,u));const s=u=>S(a[u],1,1,()=>{a[u]=null});return{c(){e=O("div");for(let u=0;u<a.length;u+=1)a[u].c();n=W(),L(e,"class","row overflow-visible svelte-3cpxwu")},m(u,f){w(u,e,f);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(e,null);I(e,n),i=!0,o||(r=V(e,"click",t[1]),o=!0)},p(u,f){if(f&5){l=Ue(u[6]);let c;for(c=0;c<l.length;c+=1){const d=El(u,l,c);a[c]?(a[c].p(d,f),C(a[c],1)):(a[c]=Pl(d),a[c].c(),C(a[c],1),a[c].m(e,n))}for(Pe(),c=l.length;c<a.length;c+=1)s(c);Oe()}},i(u){if(!i){for(let f=0;f<l.length;f+=1)C(a[f]);i=!0}},o(u){a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)S(a[f]);i=!1},d(u){u&&y(e),_t(a,u),o=!1,r()}}}function Ll(t){let e,n;return e=new Bh({props:{x:t[4].x,y:t[4].y,open:t[4].visible}}),{c(){Q(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},p(i,o){const r={};o&16&&(r.x=i[4].x),o&16&&(r.y=i[4].y),o&16&&(r.open=i[4].visible),e.$set(r)},i(i){n||(C(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){X(e,i)}}}function Fl(t){let e,n,i=t[4].visible&&Ll(t);return{c(){i&&i.c(),e=Se()},m(o,r){i&&i.m(o,r),w(o,e,r),n=!0},p(o,r){o[4].visible?i?(i.p(o,r),r&16&&C(i,1)):(i=Ll(o),i.c(),C(i,1),i.m(e.parentNode,e)):i&&(Pe(),S(i,1,1,()=>{i=null}),Oe())},i(o){n||(C(i),n=!0)},o(o){S(i),n=!1},d(o){o&&y(e),i&&i.d(o)}}}function Jh(t){let e,n,i=t[2]!=null&&Ml(t);return{c(){i&&i.c(),e=Se()},m(o,r){i&&i.m(o,r),w(o,e,r),n=!0},p(o,[r]){o[2]!=null?i?(i.p(o,r),r&4&&C(i,1)):(i=Ml(o),i.c(),C(i,1),i.m(e.parentNode,e)):i&&(Pe(),S(i,1,1,()=>{i=null}),Oe())},i(o){n||(C(i),n=!0)},o(o){S(i),n=!1},d(o){o&&y(e),i&&i.d(o)}}}function Yh(t,e,n){let i,o,r;se(t,mn,u=>n(3,i=u)),se(t,Ie,u=>n(2,o=u)),se(t,Ke,u=>n(4,r=u));function l(u,f){let c={x:u,y:f};return c.x===0&&c.y===0?!0:[{x:c.x-1,y:c.y},{x:c.x+1,y:c.y},{x:c.x,y:c.y-1},{x:c.x,y:c.y+1}].some(h=>h.x<0||h.x>=o.plots.length||h.y<0||h.y>=o.plots[h.x].length?!1:o.plots[h.x][h.y].active)}function a(){let u=[];for(let f=0;f<o.plots.length;f++)for(let c=0;c<o.plots.length;c++)l(f,c)&&o.plots[f][c].active==!1&&u.push(o.plots[f][c])}function s(){Ce(mn,i={},i)}return t.$$.update=()=>{t.$$.dirty&4&&o&&a()},[l,s,o,i,r]}class Xh extends me{constructor(e){super(),he(this,e,Yh,Jh,le,{checkIfPlotCanBeUpgraded:0,restartModifyPlotMenu:1})}get checkIfPlotCanBeUpgraded(){return this.$$.ctx[0]}get restartModifyPlotMenu(){return this.$$.ctx[1]}}const Qe={unemployment_num:" people can't find jobs.",bored:"People are bored. Try making some new buildings.",vairety:"People don't like going to the same places over and over again. Try making some new buildings.",nobody_home:"Build some homes!",leave_town_num:" people left town because they were unhappy.",new_people_num:" new people moved to town.",people_want_to_move_in:"People want to move in. Build more homes.",high_tax_rate:"People are unhappy with the high tax rate.",very_high_tax_rate:"People are extremely unhappy with the high tax rate.",sickAndDying:"People are sick and dying.",sickAndLeaving:"People are sick and leaving town.",happiness_zero:"The town has fallen into chaos due to extreme unhappiness.",health_zero:"The town has fallen into chaos due to extreme sickness.",population_zero:"The town has been condemned due to lack of population.",win:{land:"You have filled the grid with buildings. You win!"},hospital_advantage:"Because you have a hospital, the town is staying healthier for longer!",notEnoughVariety:"People are sick of going to the same places over and over, add some variety!"},ze={land:{short_title:"Fill the grid",description_title:"You win by filling up all possible plots in the grid, and by meeting some requirements.",win:"You have filled the grid with buildings and met the requirements. Your citizens are happy, fulfilled, hard-working, and healthy. ",requirements:{0:{population_count:150,happiness:100,health:100,employment:1,knowledge:50,required_plots:["pub","small_school","community_center"]},1:{population_count:500,happiness:120,health:120,employment:1,knowledge:100,required_plots:["bank"]},2:{population_count:1e3,happiness:200,health:200,employment:1,knowledge:1e3,required_plots:["bank","city_hall"]}}},political:{short_title:"PLACEHOLDER",description_title:"PLACEHOLDER",win:"PLACEHOLDER",requirements:{0:{population_count:200,happiness:100,health:100,employment:1},1:{population_count:500,happiness:100,health:100,employment:1},2:{population_count:1e3,happiness:100,health:100,employment:1}}}},Rl=30;function Zh(t){let e=!0;for(let n=0;n<t.plots.length;n++)for(let i=0;i<t.plots[n].length;i++)if(t.plots[n][i].active==!1){e=!1;break}return e}function Qh(t){return t.endGameDetails!=null||(t.townInfo.happiness<70&&t.last_warning_happiness+365<t.environment.day&&(alert("Your citizens are very unhappy. You should do something about it."),t.last_warning_happiness=t.environment.day),t.townInfo.health<70&&t.last_warning_health+365<t.environment.day&&(alert("Your citizens are very unhealthy. You should do something about it."),t.last_warning_health=t.environment.day)),t}function xh(t){return t.hasBank,t}function zh(t){return t.hasCityHall,t}function em(t){let e=t.economyAndLaws.knowledge_gold_market_rates[t.economyAndLaws.knowledge_gold_market_rates.length-1]||1;const n=-100,i=8,o=3;let r=Math.random(),l=Math.random()*o;if(r<.4){let a=Math.random()*i;Math.random()<.5?e+=a:e-=a}else Math.random()>.5?e+=l:e-=l;return e<n&&(e+=Math.random()*l/5),e=Math.round(e),t.economyAndLaws.knowledge_gold_market_rates=[...t.economyAndLaws.knowledge_gold_market_rates,e],t}function wo(t){return t.lab.active_experiment==null||t.lab.active_experiment.duration>0&&(t.lab.active_experiment.duration-=1),t}function ko(t){if(t.townInfo.happiness>150){let n=t.townInfo.happiness-150;t.townInfo.happiness-=n*.08,t.townInfo.happiness<150&&(t.townInfo.happiness=150)}if(t.townInfo.health>150){let n=t.townInfo.health-150;t.townInfo.health-=n*.08,t.townInfo.health<150&&(t.townInfo.health=150)}return t}function tm(t){return t.townInfo.happiness*=t.modifiers.happiness,t.townInfo.health*=t.modifiers.health,t}function nm(t,e){let n=e.townInfo.happiness/100;n>2.25?n=2.25:n<.75&&(n=.75);let i=t*e.economyAndLaws.tax_rate*(e.townInfo.population_count/e.townInfo.population_max)*n;return Mt(i,2)}function Mt(t,e){e===void 0&&(e=0);var n=Math.pow(10,e);t=parseFloat((t*n).toFixed(11));var i=Math.round(t)/n;return+i.toFixed(e)}function im(t,e,n){let i,o,r;se(t,ai,p=>n(5,i=p)),se(t,Ie,p=>n(6,o=p)),se(t,At,p=>n(7,r=p));function l(p){return p=_(p),p=P(p),p=F(p),p=tm(p),p=v(p),p=R(p),p=c(p),p=em(p),p=Qh(p),p}function a(p){return p=j(p),p=xh(p),p=zh(p),p}function s(p){return p=k(p),p=ko(p),p=g(p),p=A(p),p}function u(p){return p=$(p),p=wo(p),p.overtime==!1&&(p=h(p),p=d(p)),p}function f(){Ie.update(p=>{if(p==null||(p.tick++,p.tick%Rl!==0)||r||!p||p.endGameDetails!=null&&p.overtime==!1)return p;try{return p.environment.day+=1,p.environment.day%7===0&&(p=l(p)),p.environment.day%30===0&&(p=a(p)),p.environment.day%90===0&&(p=s(p)),window.location.search.includes("debug=true")&&console.log(p),p=u(p),p}catch(D){return console.error("Error in game loop:",D),p}})}Ie.subscribe(p=>{p&&localStorage.setItem(rt,JSON.stringify(p))});function c(p){let D=!1,T=!1,b=!1;for(let m=0;m<p.plots.length;m++)for(let M=0;M<p.plots[m].length;M++)if(p.plots[m][M].active==!0&&p.plots[m][M].type>-1){let q=Ne[p.plots[m][M].type].id;q=="bank"&&(D=!0),q=="city_hall"&&(b=!0),(q=="small_hospital"||q=="large_hospital")&&(T=!0)}return p.hasBank=D,p.hasHospital=T,p.hasCityHall=b,p}function d(p){if(p.endGoal=="land"&&p.townInfo.population_max==p.townInfo.population_count&&p.townInfo.happiness>=ze.land.requirements[p.difficulty].happiness&&p.townInfo.health>=ze.land.requirements[p.difficulty].health&&p.townInfo.employees/p.townInfo.population_count>=ze.land.requirements[p.difficulty].employment&&p.townInfo.population_count>ze.land.requirements[p.difficulty].population_count&&p.townInfo.knowledge_points>=ze.land.requirements[p.difficulty].knowledge){let T=!0;for(let m=0;m<ze.land.requirements[p.difficulty].required_plots.length;m++){let M=ze.land.requirements[p.difficulty].required_plots[m],q=!1;for(let E=0;E<p.plots.length;E++)for(let U=0;U<p.plots[E].length;U++)if(Ne[p.plots[E][U].type].id==M){q=!0;break}if(q==!1){T=!1;break}}Zh(p)&&T&&(p.endGameDetails={msg:ze.land.win,win:!0,still_playing:!1})}return p}function h(p){return p.townInfo.happiness<=3&&(p.townInfo.happiness=0,p.endGameDetails={msg:Qe.happiness_zero,win:!1,still_playing:!1}),p.townInfo.health<=3&&(p.townInfo.health=3,p.endGameDetails={msg:Qe.health_zero,win:!1,still_playing:!1}),p.townInfo.population_count<=0&&p.townInfo.population_max>0&&(p.townInfo.population_count=0,p.endGameDetails={msg:Qe.population_zero,win:!1,still_playing:!1}),p}function _(p){let D=p.townInfo.population_count-p.townInfo.employees;return D>0&&(p.modifiers.happiness-=D*9e-4,p=K(D+Qe.unemployment_num,p)),p}function g(p){let D=p.plotCounts.reduce((b,m)=>b+m,0),T=!1;for(let b=0;b<p.plotCounts.length;b++)p.plotCounts[b]==null||Ne[b].check_for_variety!=!0||p.plotCounts[b]/D>=Cu[p.difficulty]&&(Ne[b].title,T=!0);return T&&(p=K(Qe.notEnoughVariety,p),p.modifiers.happiness*.95),p}function v(p){let D=p.townInfo.health,T=0;return D>50||D<Math.random()*50&&(D<25?(p=K(Qe.sickAndDying,p),p.townInfo.happiness-=10,T=Math.round(p.townInfo.population_count*.1)):(p=K(Qe.sickAndLeaving,p),p.townInfo.happiness-=5,T=Math.round(p.townInfo.population_count*.05)),p.townInfo.population_count-=T,p.townInfo.employees-=T),p}function k(p){return p.lastChangeDay+(Math.random()*500+180)<p.environment.day&&p.townInfo.population_count>0&&(p.townInfo.population_count>0&&(p.townInfo.population_count-=1,p.townInfo.employees-=1,p.modifiers.happiness-=.01),p=K(Qe.bored,p)),p}function A(p){if(p.townInfo.population_count<p.townInfo.population_max&&p.townInfo.happiness>50){let D=p.townInfo.population_max-p.townInfo.population_count,T=Math.round(p.townInfo.happiness/100*D);p.townInfo.population_count+=T,p.townInfo.population_count>p.townInfo.population_max&&(p.townInfo.population_count=p.townInfo.population_max),p.townInfo.employees+=T,p.townInfo.employees>p.townInfo.population_count&&(p.townInfo.employees=p.townInfo.population_count),p=K(T+Qe.new_people_num,p)}if(p.townInfo.happiness<50&&p.townInfo.population_count>0){let D=Math.round((100-p.townInfo.happiness)/5);p.townInfo.population_count-=D,p.townInfo.employees>0&&(p.townInfo.employees-=D),p=K(D+Qe.leave_town_num,p)}else p.townInfo.population_count==p.townInfo.population_max;return p}function P(p){const D=Math.random();if(p.economyAndLaws.tax_rate>p.economyAndLaws.max_tax_rate&&p.townInfo.population_count>0){const T=p.difficulty==0?.7:p.difficulty==1?.4:.2;D<T&&p.economyAndLaws.tax_rate>p.economyAndLaws.max_tax_rate*2?(p.modifiers.happiness-=.03,p=K(Qe.very_high_tax_rate+"  ("+p.economyAndLaws.tax_rate+"%)",p)):(p.modifiers.happiness-=.01,p=K(Qe.high_tax_rate+"  ("+p.economyAndLaws.tax_rate*100+"%)",p))}return p}function $(p){return p.townInfo.happiness<0&&(p.townInfo.happiness=0),p.townInfo.health<0&&(p.townInfo.health=0),p.townInfo.gold<0&&(p.townInfo.gold=0),p.townInfo.employees<0&&(p.townInfo.employees=0),p.townInfo.knowledge_points<0&&(p.townInfo.knowledge_points=0),p.townInfo.population_count<0&&(p.townInfo.population_count=0),p.townInfo.population_max==0&&p.townLog.indexOf(Qe.nobody_home)==-1&&(p=K(Qe.nobody_home,p)),p.economyAndLaws.last_month_profit=Mt(p.economyAndLaws.last_month_profit,2),p.townInfo.employees>p.townInfo.population_count&&(p.townInfo.employees=p.townInfo.population_count),p.townInfo.gold=Mt(p.townInfo.gold,2),p.townInfo.population_count=Mt(p.townInfo.population_count,0),p.townInfo.employees=Mt(p.townInfo.employees,0),p.townInfo.population_max=Mt(p.townInfo.population_max,0),p.townInfo.happiness=Mt(p.townInfo.happiness,2),p.townInfo.health=Mt(p.townInfo.health,2),p.townInfo.happiness>300&&(p.townInfo.happiness=300),p.townInfo.health>300&&(p.townInfo.health=300),p.modifiers.happiness<.5&&(p.modifiers.happiness=.5),p.modifiers.health<.5&&(p.modifiers.health=.5),p}function R(p){if(p.modifiers.happiness>1){let D=p.modifiers.happiness-1;p.modifiers.happiness-=D*.08,p.modifiers.happiness<1.05&&(p.modifiers.happiness=1)}if(p.modifiers.health>1){if(p.hasHospital&&p.townLog.indexOf(Qe.hospital_advantage)==-1)return p=K(Qe.hospital_advantage,p);let D=p.modifiers.health-1;p.modifiers.health-=D*.08,p.modifiers.health<1.05&&(p.modifiers.health=1)}return p}function F(p){p.economyAndLaws.last_month_profit=0;for(let D=0;D<p.plots.length;D++)for(let T=0;T<p.plots[D].length;T++)if(p.plots[D][T].active==!0&&p.plots[D][T].type>-1){let b=Ne[p.plots[D][T].type],m=nm(b.revenue_per_week,p);p.townInfo.gold+=m,p.economyAndLaws.last_month_profit+=m,m>0&&(p.economyAndLaws.balance_sheet_history=[{day:p.environment.day,plot:`${D},${T}`,profits:m,taxRate:p.economyAndLaws.tax_rate},...p.economyAndLaws.balance_sheet_history],p.economyAndLaws.balance_sheet_history.length>250&&(p.economyAndLaws.balance_sheet_history=p.economyAndLaws.balance_sheet_history.slice(0,250))),b.enables_tourism==!0&&(p.townInfo.gold_from_tourism+=b.tourism_revenue_per_week*p.economyAndLaws.tax_rate*p.townInfo.population_count)}return p}function j(p){for(let D=0;D<p.plots.length;D++)for(let T=0;T<p.plots[D].length;T++)if(p.plots[D][T].active==!0&&p.plots[D][T].type>-1){let b=Ne[p.plots[D][T].type];b.knowledge_points_per_month!=null&&(p.townInfo.knowledge_points+=b.knowledge_points_per_month)}return p}function K(p,D){return D.townLog="Day "+o.environment.day+" - "+p+`
`+D.townLog,D}return Ds(async()=>{for(;;)localStorage.reset=="true"&&(Wo(),localStorage.setItem("reset","false")),f(),await new Promise(p=>setTimeout(p,i/Rl))}),[f,wo,$,R,ko]}class om extends me{constructor(e){super(),he(this,e,im,null,le,{mainGameThreadLoop:0,_checkExperiment:1,_fixVariables:2,_bringModifiersBackToNormal:3,_bringStatsBackToNormal:4})}get mainGameThreadLoop(){return this.$$.ctx[0]}get _checkExperiment(){return wo}get _fixVariables(){return this.$$.ctx[2]}get _bringModifiersBackToNormal(){return this.$$.ctx[3]}get _bringStatsBackToNormal(){return ko}}function ql(t,e,n){const i=t.slice();return i[4]=e[n],i}function rm(t){let e,n,i,o,r=Ue(t[0].economyAndLaws.balance_sheet_history),l=[];for(let a=0;a<r.length;a+=1)l[a]=$l(ql(t,r,a));return{c(){e=O("table"),n=O("thead"),n.innerHTML='<tr class="svelte-1m5x2x2"><th>Day</th> <th>Plot</th> <th>Profits</th> <th>Tax rate</th></tr>',i=W(),o=O("tbody");for(let a=0;a<l.length;a+=1)l[a].c();L(e,"class","svelte-1m5x2x2")},m(a,s){w(a,e,s),I(e,n),I(e,i),I(e,o);for(let u=0;u<l.length;u+=1)l[u]&&l[u].m(o,null)},p(a,s){if(s&3){r=Ue(a[0].economyAndLaws.balance_sheet_history);let u;for(u=0;u<r.length;u+=1){const f=ql(a,r,u);l[u]?l[u].p(f,s):(l[u]=$l(f),l[u].c(),l[u].m(o,null))}for(;u<l.length;u+=1)l[u].d(1);l.length=r.length}},d(a){a&&y(e),_t(l,a)}}}function lm(t){let e;return{c(){e=O("div"),e.textContent=`No data to display yet. Build some buildings and make sure that the tax
				rate is above 0%.`,L(e,"class","text-center padding-sides")},m(n,i){w(n,e,i)},p:ae,d(n){n&&y(e)}}}function $l(t){let e,n,i=t[4].day+"",o,r,l,a=t[4].plot+"",s,u,f,c=t[4].profits+"",d,h,_,g=t[4].taxRate+"",v,k,A,P;function $(){return t[2](t[4])}return{c(){e=O("tr"),n=O("td"),o=B(i),r=W(),l=O("th"),s=B(a),u=W(),f=O("td"),d=B(c),h=W(),_=O("td"),v=B(g),k=W(),L(n,"class","svelte-1m5x2x2"),L(l,"class","plot_link svelte-1m5x2x2"),L(f,"class","svelte-1m5x2x2"),L(_,"class","svelte-1m5x2x2"),L(e,"class","svelte-1m5x2x2")},m(R,F){w(R,e,F),I(e,n),I(n,o),I(e,r),I(e,l),I(l,s),I(e,u),I(e,f),I(f,d),I(e,h),I(e,_),I(_,v),I(e,k),A||(P=V(l,"click",$),A=!0)},p(R,F){t=R,F&1&&i!==(i=t[4].day+"")&&ge(o,i),F&1&&a!==(a=t[4].plot+"")&&ge(s,a),F&1&&c!==(c=t[4].profits+"")&&ge(d,c),F&1&&g!==(g=t[4].taxRate+"")&&ge(v,g)},d(R){R&&y(e),A=!1,P()}}}function sm(t){let e,n,i,o,r,l;function a(f,c){return f[0].economyAndLaws.balance_sheet_history.length==0?lm:rm}let s=a(t),u=s(t);return{c(){e=O("div"),n=O("div"),i=O("div"),i.textContent="Balance Sheet",o=W(),r=O("br"),l=W(),u.c(),L(i,"class","heading_m svelte-1m5x2x2"),L(n,"class","dialog-content svelte-1m5x2x2"),L(e,"class","dialog svelte-1m5x2x2")},m(f,c){w(f,e,c),I(e,n),I(n,i),I(n,o),I(n,r),I(n,l),u.m(n,null)},p(f,[c]){s===(s=a(f))&&u?u.p(f,c):(u.d(1),u=s(f),u&&(u.c(),u.m(n,null)))},i:ae,o:ae,d(f){f&&y(e),u.d()}}}function am(t,e,n){let i,o;se(t,Ke,a=>n(3,i=a)),se(t,Ie,a=>n(0,o=a));function r(a){let s=parseInt(a.split(",")[0]),u=parseInt(a.split(",")[1]);Ce(Ke,i.x=s,i),Ce(Ke,i.y=u,i),Ce(Ke,i.visible=!0,i)}return[o,r,a=>{r(a.plot)}]}class ma extends me{constructor(e){super(),he(this,e,am,sm,le,{})}}var Dl=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,it=t=>!t||typeof t!="object"||Object.keys(t).length===0,um=(t,e)=>JSON.stringify(t)===JSON.stringify(e);function _a(t,e){t.forEach(function(n){Array.isArray(n)?_a(n,e):e.push(n)})}function ga(t){let e=[];return _a(t,e),e}var ba=(...t)=>ga(t).filter(Boolean),va=(t,e)=>{let n={},i=Object.keys(t),o=Object.keys(e);for(let r of i)if(o.includes(r)){let l=t[r],a=e[r];typeof l=="object"&&typeof a=="object"?n[r]=va(l,a):Array.isArray(l)||Array.isArray(a)?n[r]=ba(a,l):n[r]=a+" "+l}else n[r]=t[r];for(let r of o)i.includes(r)||(n[r]=e[r]);return n},Bl=t=>!t||typeof t!="string"?t:t.replace(/\s+/g," ").trim(),fm={twMerge:!0,twMergeConfig:{},responsiveVariants:!1},ya=t=>t||void 0,jn=(...t)=>ya(ga(t).filter(Boolean).join(" ")),ro=null,Ct={},Co=!1,En=(...t)=>e=>e.twMerge?((!ro||Co)&&(Co=!1,ro=it(Ct)?ca:Wp({...Ct,extend:{theme:Ct.theme,classGroups:Ct.classGroups,conflictingClassGroupModifiers:Ct.conflictingClassGroupModifiers,conflictingClassGroups:Ct.conflictingClassGroups,...Ct.extend}})),ya(ro(jn(t)))):jn(t),Gl=(t,e)=>{for(let n in e)t.hasOwnProperty(n)?t[n]=jn(t[n],e[n]):t[n]=e[n];return t},cm=(t,e)=>{let{extend:n=null,slots:i={},variants:o={},compoundVariants:r=[],compoundSlots:l=[],defaultVariants:a={}}=t,s={...fm,...e},u=n!=null&&n.base?jn(n.base,t==null?void 0:t.base):t==null?void 0:t.base,f=n!=null&&n.variants&&!it(n.variants)?va(o,n.variants):o,c=n!=null&&n.defaultVariants&&!it(n.defaultVariants)?{...n.defaultVariants,...a}:a;!it(s.twMergeConfig)&&!um(s.twMergeConfig,Ct)&&(Co=!0,Ct=s.twMergeConfig);let d=it(n==null?void 0:n.slots),h=it(i)?{}:{base:jn(t==null?void 0:t.base,d&&(n==null?void 0:n.base)),...i},_=d?h:Gl({...n==null?void 0:n.slots},it(h)?{base:t==null?void 0:t.base}:h),g=k=>{if(it(f)&&it(i)&&d)return En(u,k==null?void 0:k.class,k==null?void 0:k.className)(s);if(r&&!Array.isArray(r))throw new TypeError(`The "compoundVariants" prop must be an array. Received: ${typeof r}`);if(l&&!Array.isArray(l))throw new TypeError(`The "compoundSlots" prop must be an array. Received: ${typeof l}`);let A=(b,m,M=[],q)=>{let E=M;if(typeof m=="string")E=E.concat(Bl(m).split(" ").map(U=>`${b}:${U}`));else if(Array.isArray(m))E=E.concat(m.reduce((U,J)=>U.concat(`${b}:${J}`),[]));else if(typeof m=="object"&&typeof q=="string"){for(let U in m)if(m.hasOwnProperty(U)&&U===q){let J=m[U];if(J&&typeof J=="string"){let ee=Bl(J);E[q]?E[q]=E[q].concat(ee.split(" ").map(z=>`${b}:${z}`)):E[q]=ee.split(" ").map(z=>`${b}:${z}`)}else Array.isArray(J)&&J.length>0&&(E[q]=J.reduce((ee,z)=>ee.concat(`${b}:${z}`),[]))}}return E},P=(b,m=f,M=null,q=null)=>{var E;let U=m[b];if(!U||it(U))return null;let J=(E=q==null?void 0:q[b])!=null?E:k==null?void 0:k[b];if(J===null)return null;let ee=Dl(J),z=Array.isArray(s.responsiveVariants)&&s.responsiveVariants.length>0||s.responsiveVariants===!0,x=c==null?void 0:c[b],ne=[];if(typeof ee=="object"&&z)for(let[re,be]of Object.entries(ee)){let Te=U[be];if(re==="initial"){x=be;continue}Array.isArray(s.responsiveVariants)&&!s.responsiveVariants.includes(re)||(ne=A(re,Te,ne,M))}let _e=ee!=null&&typeof ee!="object"?ee:Dl(x),H=U[_e]||U.false;return typeof ne=="object"&&typeof M=="string"&&ne[M]?Gl(ne,H):ne.length>0?(ne.push(H),ne):H},$=()=>f?Object.keys(f).map(b=>P(b,f)):null,R=(b,m)=>{if(!f||typeof f!="object")return null;let M=new Array;for(let q in f){let E=P(q,f,b,m),U=b==="base"&&typeof E=="string"?E:E&&E[b];U&&(M[M.length]=U)}return M},F={};for(let b in k)k[b]!==void 0&&(F[b]=k[b]);let j=(b,m)=>{var M;let q=typeof(k==null?void 0:k[b])=="object"?{[b]:(M=k[b])==null?void 0:M.initial}:{};return{...c,...F,...q,...m}},K=(b=[],m)=>{let M=[];for(let{class:q,className:E,...U}of b){let J=!0;for(let[ee,z]of Object.entries(U)){let x=j(ee,m);if(Array.isArray(z)){if(!z.includes(x[ee])){J=!1;break}}else if(x[ee]!==z){J=!1;break}}J&&(q&&M.push(q),E&&M.push(E))}return M},p=b=>{let m=K(r,b),M=K(n==null?void 0:n.compoundVariants,b);return ba(M,m)},D=b=>{let m=p(b);if(!Array.isArray(m))return m;let M={};for(let q of m)if(typeof q=="string"&&(M.base=En(M.base,q)(s)),typeof q=="object")for(let[E,U]of Object.entries(q))M[E]=En(M[E],U)(s);return M},T=b=>{if(l.length<1)return null;let m={};for(let{slots:M=[],class:q,className:E,...U}of l){if(!it(U)){let J=!0;for(let ee of Object.keys(U)){let z=j(ee,b)[ee];if(z===void 0||(Array.isArray(U[ee])?!U[ee].includes(z):U[ee]!==z)){J=!1;break}}if(!J)continue}for(let J of M)m[J]=m[J]||[],m[J].push([q,E])}return m};if(!it(i)||!d){let b={};if(typeof _=="object"&&!it(_))for(let m of Object.keys(_))b[m]=M=>{var q,E;return En(_[m],R(m,M),((q=D(M))!=null?q:[])[m],((E=T(M))!=null?E:[])[m],M==null?void 0:M.class,M==null?void 0:M.className)(s)};return b}return En(u,$(),p(),k==null?void 0:k.class,k==null?void 0:k.className)(s)},v=()=>{if(!(!f||typeof f!="object"))return Object.keys(f)};return g.variantKeys=v(),g.extend=n,g.base=u,g.slots=_,g.variants=f,g.defaultVariants=c,g.compoundSlots=l,g.compoundVariants=r,g};const Pi=cm({base:"inline-flex items-center justify-center rounded-md text-sm font-medium whitespace-nowrap ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}});function dm(t){let e;const n=t[5].default,i=ue(n,t,t[8],null);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&256)&&ce(i,n,o,o[8],e?fe(n,o[8],r,null):de(o[8]),null)},i(o){e||(C(i,o),e=!0)},o(o){S(i,o),e=!1},d(o){i&&i.d(o)}}}function pm(t){let e,n;const i=[{builders:t[3]},{class:Ee(Pi({variant:t[1],size:t[2],className:t[0]}))},{type:"button"},t[4]];let o={$$slots:{default:[dm]},$$scope:{ctx:t}};for(let r=0;r<i.length;r+=1)o=G(o,i[r]);return e=new Wc({props:o}),e.$on("click",t[6]),e.$on("keydown",t[7]),{c(){Q(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&31?pe(i,[l&8&&{builders:r[3]},l&7&&{class:Ee(Pi({variant:r[1],size:r[2],className:r[0]}))},i[2],l&16&&et(r[4])]):{};l&256&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function hm(t,e,n){const i=["class","variant","size","builders"];let o=te(e,i),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{variant:s="default"}=e,{size:u="default"}=e,{builders:f=[]}=e;function c(h){Z.call(this,t,h)}function d(h){Z.call(this,t,h)}return t.$$set=h=>{e=G(G({},e),ke(h)),n(4,o=te(e,i)),"class"in h&&n(0,a=h.class),"variant"in h&&n(1,s=h.variant),"size"in h&&n(2,u=h.size),"builders"in h&&n(3,f=h.builders),"$$scope"in h&&n(8,l=h.$$scope)},[a,s,u,f,o,r,c,d,l]}class Cn extends me{constructor(e){super(),he(this,e,hm,pm,le,{class:0,variant:1,size:2,builders:3})}}function mm(t){let e;const n=t[3].default,i=ue(n,t,t[4],null);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&16)&&ce(i,n,o,o[4],e?fe(n,o[4],r,null):de(o[4]),null)},i(o){e||(C(i,o),e=!0)},o(o){S(i,o),e=!1},d(o){i&&i.d(o)}}}function _m(t){let e,n;const i=[{class:Ee("text-lg font-semibold",t[0])},{level:t[1]},t[2]];let o={$$slots:{default:[mm]},$$scope:{ctx:t}};for(let r=0;r<i.length;r+=1)o=G(o,i[r]);return e=new Uf({props:o}),{c(){Q(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&7?pe(i,[l&1&&{class:Ee("text-lg font-semibold",r[0])},l&2&&{level:r[1]},l&4&&et(r[2])]):{};l&16&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function gm(t,e,n){const i=["class","level"];let o=te(e,i),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{level:s="h3"}=e;return t.$$set=u=>{e=G(G({},e),ke(u)),n(2,o=te(e,i)),"class"in u&&n(0,a=u.class),"level"in u&&n(1,s=u.level),"$$scope"in u&&n(4,l=u.$$scope)},[a,s,o,r,l]}class bm extends me{constructor(e){super(),he(this,e,gm,_m,le,{class:0,level:1})}}const vm=t=>({builder:t&64}),jl=t=>({builder:t[6]});function ym(t){let e;const n=t[2].default,i=ue(n,t,t[5],jl);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&96)&&ce(i,n,o,o[5],e?fe(n,o[5],r,vm):de(o[5]),jl)},i(o){e||(C(i,o),e=!0)},o(o){S(i,o),e=!1},d(o){i&&i.d(o)}}}function wm(t){let e,n;const i=[{class:Ee(Pi(),t[0])},t[1]];let o={$$slots:{default:[ym,({builder:r})=>({6:r}),({builder:r})=>r?64:0]},$$scope:{ctx:t}};for(let r=0;r<i.length;r+=1)o=G(o,i[r]);return e=new zf({props:o}),e.$on("click",t[3]),e.$on("keydown",t[4]),{c(){Q(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&3?pe(i,[l&1&&{class:Ee(Pi(),r[0])},l&2&&et(r[1])]):{};l&96&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function km(t,e,n){const i=["class"];let o=te(e,i),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(f){Z.call(this,t,f)}function u(f){Z.call(this,t,f)}return t.$$set=f=>{e=G(G({},e),ke(f)),n(1,o=te(e,i)),"class"in f&&n(0,a=f.class),"$$scope"in f&&n(5,l=f.$$scope)},[a,o,r,s,u,l]}class Cm extends me{constructor(e){super(),he(this,e,km,wm,le,{class:0})}}function Am(t){let e;const n=t[1].default,i=ue(n,t,t[2],null);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&4)&&ce(i,n,o,o[2],e?fe(n,o[2],r,null):de(o[2]),null)},i(o){e||(C(i,o),e=!0)},o(o){S(i,o),e=!1},d(o){i&&i.d(o)}}}function Sm(t){let e,n;const i=[t[0]];let o={$$slots:{default:[Am]},$$scope:{ctx:t}};for(let r=0;r<i.length;r+=1)o=G(o,i[r]);return e=new lc({props:o}),{c(){Q(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&1?pe(i,[et(r[0])]):{};l&4&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function Nm(t,e,n){const i=[];let o=te(e,i),{$$slots:r={},$$scope:l}=e;return t.$$set=a=>{e=G(G({},e),ke(a)),n(0,o=te(e,i)),"$$scope"in a&&n(2,l=a.$$scope)},[o,r,l]}class Tm extends me{constructor(e){super(),he(this,e,Nm,Sm,le,{})}}function Im(t){let e,n,i;const o=t[3].default,r=ue(o,t,t[2],null);let l=[{class:n=Ee("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=G(a,l[s]);return{c(){e=O("div"),r&&r.c(),oe(e,a)},m(s,u){w(s,e,u),r&&r.m(e,null),i=!0},p(s,[u]){r&&r.p&&(!i||u&4)&&ce(r,o,s,s[2],i?fe(o,s[2],u,null):de(s[2]),null),oe(e,a=pe(l,[(!i||u&1&&n!==(n=Ee("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s[0])))&&{class:n},u&2&&s[1]]))},i(s){i||(C(r,s),i=!0)},o(s){S(r,s),i=!1},d(s){s&&y(e),r&&r.d(s)}}}function Em(t,e,n){const i=["class"];let o=te(e,i),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=G(G({},e),ke(s)),n(1,o=te(e,i)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,o,l,r]}class Mm extends me{constructor(e){super(),he(this,e,Em,Im,le,{class:0})}}function Pm(t){let e,n,i;const o=t[3].default,r=ue(o,t,t[2],null);let l=[{class:n=Ee("flex flex-col space-y-2 text-center sm:text-left",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=G(a,l[s]);return{c(){e=O("div"),r&&r.c(),oe(e,a)},m(s,u){w(s,e,u),r&&r.m(e,null),i=!0},p(s,[u]){r&&r.p&&(!i||u&4)&&ce(r,o,s,s[2],i?fe(o,s[2],u,null):de(s[2]),null),oe(e,a=pe(l,[(!i||u&1&&n!==(n=Ee("flex flex-col space-y-2 text-center sm:text-left",s[0])))&&{class:n},u&2&&s[1]]))},i(s){i||(C(r,s),i=!0)},o(s){S(r,s),i=!1},d(s){s&&y(e),r&&r.d(s)}}}function Om(t,e,n){const i=["class"];let o=te(e,i),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=G(G({},e),ke(s)),n(1,o=te(e,i)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,o,l,r]}class Lm extends me{constructor(e){super(),he(this,e,Om,Pm,le,{class:0})}}function Fm(t){let e,n;const i=[{transition:t[1]},{transitionConfig:t[2]},{class:Ee("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm ",t[0])},t[3]];let o={};for(let r=0;r<i.length;r+=1)o=G(o,i[r]);return e=new Pc({props:o}),{c(){Q(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&15?pe(i,[l&2&&{transition:r[1]},l&4&&{transitionConfig:r[2]},l&1&&{class:Ee("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm ",r[0])},l&8&&et(r[3])]):{};e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function Rm(t,e,n){const i=["class","transition","transitionConfig"];let o=te(e,i),{class:r=void 0}=e,{transition:l=da}=e,{transitionConfig:a={duration:150}}=e;return t.$$set=s=>{e=G(G({},e),ke(s)),n(3,o=te(e,i)),"class"in s&&n(0,r=s.class),"transition"in s&&n(1,l=s.transition),"transitionConfig"in s&&n(2,a=s.transitionConfig)},[r,l,a,o]}class qm extends me{constructor(e){super(),he(this,e,Rm,Fm,le,{class:0,transition:1,transitionConfig:2})}}function $m(t){let e;const n=t[4].default,i=ue(n,t,t[5],null);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&32)&&ce(i,n,o,o[5],e?fe(n,o[5],r,null):de(o[5]),null)},i(o){e||(C(i,o),e=!0)},o(o){S(i,o),e=!1},d(o){i&&i.d(o)}}}function Dm(t){let e,n,i,o;e=new qm({});const r=[{transition:t[0]},{transitionConfig:t[1]},{class:Ee("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg md:w-full",t[2])},t[3]];let l={$$slots:{default:[$m]},$$scope:{ctx:t}};for(let a=0;a<r.length;a+=1)l=G(l,r[a]);return i=new wc({props:l}),{c(){Q(e.$$.fragment),n=W(),Q(i.$$.fragment)},m(a,s){Y(e,a,s),w(a,n,s),Y(i,a,s),o=!0},p(a,s){const u=s&15?pe(r,[s&1&&{transition:a[0]},s&2&&{transitionConfig:a[1]},s&4&&{class:Ee("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg md:w-full",a[2])},s&8&&et(a[3])]):{};s&32&&(u.$$scope={dirty:s,ctx:a}),i.$set(u)},i(a){o||(C(e.$$.fragment,a),C(i.$$.fragment,a),o=!0)},o(a){S(e.$$.fragment,a),S(i.$$.fragment,a),o=!1},d(a){a&&y(n),X(e,a),X(i,a)}}}function Bm(t){let e,n;return e=new Tm({props:{$$slots:{default:[Dm]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},p(i,[o]){const r={};o&47&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(C(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){X(e,i)}}}function Gm(t,e,n){const i=["transition","transitionConfig","class"];let o=te(e,i),{$$slots:r={},$$scope:l}=e,{transition:a=Yo}=e,{transitionConfig:s=void 0}=e,{class:u=void 0}=e;return t.$$set=f=>{e=G(G({},e),ke(f)),n(3,o=te(e,i)),"transition"in f&&n(0,a=f.transition),"transitionConfig"in f&&n(1,s=f.transitionConfig),"class"in f&&n(2,u=f.class),"$$scope"in f&&n(5,l=f.$$scope)},[a,s,u,o,r,l]}class jm extends me{constructor(e){super(),he(this,e,Gm,Bm,le,{transition:0,transitionConfig:1,class:2})}}function Hm(t){let e;const n=t[2].default,i=ue(n,t,t[3],null);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&8)&&ce(i,n,o,o[3],e?fe(n,o[3],r,null):de(o[3]),null)},i(o){e||(C(i,o),e=!0)},o(o){S(i,o),e=!1},d(o){i&&i.d(o)}}}function Vm(t){let e,n;const i=[{class:Ee("text-sm text-muted-foreground",t[0])},t[1]];let o={$$slots:{default:[Hm]},$$scope:{ctx:t}};for(let r=0;r<i.length;r+=1)o=G(o,i[r]);return e=new Dc({props:o}),{c(){Q(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&3?pe(i,[l&1&&{class:Ee("text-sm text-muted-foreground",r[0])},l&2&&et(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function Wm(t,e,n){const i=["class"];let o=te(e,i),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=G(G({},e),ke(s)),n(1,o=te(e,i)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,l=s.$$scope)},[a,o,r,l]}class Km extends me{constructor(e){super(),he(this,e,Wm,Vm,le,{class:0})}}const Um=Bf,Jm=[{id:"sunshine",title:"Hint of Sunshine",description:`Scientist Jane P. found that more sunlight makes everyone a bit happier. 
        
        Now, every home is equipped with a pair of sunglasses and a sunhat. Enjoy happier citizens!,
        `,cost:5e3,duration:180},{id:"antibiotics",title:"We will call them 'Antibiotics'",description:`Scientist Alfred C. has pitched us an idea that he calls Antibiotics.
        
         We don't really know what that means, but it seems to make people healthier. 
        `,cost:8e3,duration:200},{id:"goodbye_carrots",title:"Goodbye Carrots",description:`Scientist Jarrod M. collaborated with local carrot farms to enhance the recipe, aiming to increase consumers' height by 10%.

        Unfortunately, the experiment failed, and all the local carrot farms have gone out of business. 
        `,cost:8e3,duration:80}];function Hl(t,e,n){const i=t.slice();return i[19]=e[n],i}function Ym(t){let e,n=t[1].lab.active_experiment.title+"",i;return{c(){e=B("üéâ Experiment Completed: "),i=B(n)},m(o,r){w(o,e,r),w(o,i,r)},p(o,r){r&2&&n!==(n=o[1].lab.active_experiment.title+"")&&ge(i,n)},d(o){o&&(y(e),y(i))}}}function Xm(t){let e,n=t[1].lab.active_experiment.description+"",i;return{c(){e=O("div"),i=B(n),L(e,"class","select-none whitespace-pre-wrap text-lg text-gray-400 leading-6 px-4 py-4 text-center ")},m(o,r){w(o,e,r),I(e,i)},p(o,r){r&2&&n!==(n=o[1].lab.active_experiment.description+"")&&ge(i,n)},d(o){o&&y(e)}}}function Zm(t){let e,n,i,o;return e=new bm({props:{class:"text-center",$$slots:{default:[Ym]},$$scope:{ctx:t}}}),i=new Km({props:{$$slots:{default:[Xm]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment),n=W(),Q(i.$$.fragment)},m(r,l){Y(e,r,l),w(r,n,l),Y(i,r,l),o=!0},p(r,l){const a={};l&4194306&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&4194306&&(s.$$scope={dirty:l,ctx:r}),i.$set(s)},i(r){o||(C(e.$$.fragment,r),C(i.$$.fragment,r),o=!0)},o(r){S(e.$$.fragment,r),S(i.$$.fragment,r),o=!1},d(r){r&&y(n),X(e,r),X(i,r)}}}function Qm(t){let e;return{c(){e=B("Thank the scientists")},m(n,i){w(n,e,i)},d(n){n&&y(e)}}}function xm(t){let e,n;return e=new Cm({props:{$$slots:{default:[Qm]},$$scope:{ctx:t}}}),e.$on("click",t[9]),{c(){Q(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},p(i,o){const r={};o&4194304&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(C(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){X(e,i)}}}function zm(t){let e,n,i,o;return e=new Lm({props:{$$slots:{default:[Zm]},$$scope:{ctx:t}}}),i=new Mm({props:{$$slots:{default:[xm]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment),n=W(),Q(i.$$.fragment)},m(r,l){Y(e,r,l),w(r,n,l),Y(i,r,l),o=!0},p(r,l){const a={};l&4194306&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&4194304&&(s.$$scope={dirty:l,ctx:r}),i.$set(s)},i(r){o||(C(e.$$.fragment,r),C(i.$$.fragment,r),o=!0)},o(r){S(e.$$.fragment,r),S(i.$$.fragment,r),o=!1},d(r){r&&y(n),X(e,r),X(i,r)}}}function e_(t){let e,n;return e=new jm({props:{$$slots:{default:[zm]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},p(i,o){const r={};o&4194306&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(C(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){X(e,i)}}}function t_(t){let e;return{c(){e=O("span"),e.textContent="Manage your Laboratory üî¨ üß™"},m(n,i){w(n,e,i)},p:ae,d(n){n&&y(e)}}}function n_(t){let e,n,i,o=t[1].lab.xp+"",r,l,a,s;return{c(){e=O("span"),n=B("You have earned "),i=O("span"),r=B(o),l=B(" XP"),s=B(` from experiments. XP can be used to buy advanced plots and develop your
					city.`),L(i,"class",a="italic "+(t[1].lab.xp<0?"text-red-500":"text-green-500"))},m(u,f){w(u,e,f),I(e,n),I(e,i),I(i,r),I(i,l),I(e,s)},p(u,f){f&2&&o!==(o=u[1].lab.xp+"")&&ge(r,o),f&2&&a!==(a="italic "+(u[1].lab.xp<0?"text-red-500":"text-green-500"))&&L(i,"class",a)},d(u){u&&y(e)}}}function i_(t){let e,n,i,o;return e=new Qt({props:{$$slots:{default:[t_]},$$scope:{ctx:t}}}),i=new en({props:{$$slots:{default:[n_]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment),n=W(),Q(i.$$.fragment)},m(r,l){Y(e,r,l),w(r,n,l),Y(i,r,l),o=!0},p(r,l){const a={};l&4194304&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&4194306&&(s.$$scope={dirty:l,ctx:r}),i.$set(s)},i(r){o||(C(e.$$.fragment,r),C(i.$$.fragment,r),o=!0)},o(r){S(e.$$.fragment,r),S(i.$$.fragment,r),o=!1},d(r){r&&y(n),X(e,r),X(i,r)}}}function o_(t){let e;return{c(){e=B("No more experiments available")},m(n,i){w(n,e,i)},p:ae,i:ae,o:ae,d(n){n&&y(e)}}}function r_(t){let e,n,i,o,r=Ue(t[0]),l=[];for(let s=0;s<r.length;s+=1)l[s]=Vl(Hl(t,r,s));const a=s=>S(l[s],1,1,()=>{l[s]=null});return{c(){e=O("div"),e.textContent=`It's time to fund your next experiment! Choose a project below based on
				it's funding requirement. Once the experiment is over, you will see the
				results.`,n=W(),i=O("div");for(let s=0;s<l.length;s+=1)l[s].c();L(e,"class","select-none text-sm "),L(i,"class","text-center flex flex-col justify-center items-center gap-4 ")},m(s,u){w(s,e,u),w(s,n,u),w(s,i,u);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(i,null);o=!0},p(s,u){if(u&19){r=Ue(s[0]);let f;for(f=0;f<r.length;f+=1){const c=Hl(s,r,f);l[f]?(l[f].p(c,u),C(l[f],1)):(l[f]=Vl(c),l[f].c(),C(l[f],1),l[f].m(i,null))}for(Pe(),f=r.length;f<l.length;f+=1)a(f);Oe()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)C(l[u]);o=!0}},o(s){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)S(l[u]);o=!1},d(s){s&&(y(e),y(n),y(i)),_t(l,s)}}}function l_(t){let e,n=t[1].lab.active_experiment.duration+"",i,o,r,l,a=t[1].lab.active_experiment.duration===0&&Wl(t);return{c(){e=B("Currently running an experiment... check back in "),i=B(n),o=B(` days.
			`),a&&a.c(),r=Se()},m(s,u){w(s,e,u),w(s,i,u),w(s,o,u),a&&a.m(s,u),w(s,r,u),l=!0},p(s,u){(!l||u&2)&&n!==(n=s[1].lab.active_experiment.duration+"")&&ge(i,n),s[1].lab.active_experiment.duration===0?a?(a.p(s,u),u&2&&C(a,1)):(a=Wl(s),a.c(),C(a,1),a.m(r.parentNode,r)):a&&(Pe(),S(a,1,1,()=>{a=null}),Oe())},i(s){l||(C(a),l=!0)},o(s){S(a),l=!1},d(s){s&&(y(e),y(i),y(o),y(r)),a&&a.d(s)}}}function s_(t){let e,n=Kl(t[19].cost).split(".")[0]+"",i,o;return{c(){e=B("$"),i=B(n),o=B(" gold")},m(r,l){w(r,e,l),w(r,i,l),w(r,o,l)},p(r,l){l&1&&n!==(n=Kl(r[19].cost).split(".")[0]+"")&&ge(i,n)},d(r){r&&(y(e),y(i),y(o))}}}function Vl(t){let e,n;function i(){return t[11](t[19])}return e=new Cn({props:{variant:"outline",class:`min-w-48 w-max
				`+(t[19].cost>t[1].townInfo.gold?"cursor-not-allowed":"")+`
				`,$$slots:{default:[s_]},$$scope:{ctx:t}}}),e.$on("click",i),{c(){Q(e.$$.fragment)},m(o,r){Y(e,o,r),n=!0},p(o,r){t=o;const l={};r&3&&(l.class=`min-w-48 w-max
				`+(t[19].cost>t[1].townInfo.gold?"cursor-not-allowed":"")+`
				`),r&4194305&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function Wl(t){let e,n;return e=new Cn({props:{variant:"outline",$$slots:{default:[a_]},$$scope:{ctx:t}}}),e.$on("click",t[10]),{c(){Q(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},p(i,o){const r={};o&4194304&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(C(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){X(e,i)}}}function a_(t){let e;return{c(){e=B("Complete experiment (and face the impact)")},m(n,i){w(n,e,i)},d(n){n&&y(e)}}}function u_(t){let e;return{c(){e=O("span"),e.textContent="Keep in mind that not all experiments yield positive results.",L(e,"class","italic text-left text-red-800")},m(n,i){w(n,e,i)},p:ae,d(n){n&&y(e)}}}function f_(t){let e,n,i,o,r,l,a,s,u,f,c;e=new xt({props:{$$slots:{default:[i_]},$$scope:{ctx:t}}}),i=new Ii({});const d=[l_,r_,o_],h=[];function _(g,v){return g[1].lab.active_experiment!==null?0:g[0].length>0?1:g[0].length===0?2:-1}return~(r=_(t))&&(l=h[r]=d[r](t)),s=new Ii({props:{class:"mt-4"}}),f=new kn({props:{$$slots:{default:[u_]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment),n=W(),Q(i.$$.fragment),o=W(),l&&l.c(),a=W(),Q(s.$$.fragment),u=W(),Q(f.$$.fragment)},m(g,v){Y(e,g,v),w(g,n,v),Y(i,g,v),w(g,o,v),~r&&h[r].m(g,v),w(g,a,v),Y(s,g,v),w(g,u,v),Y(f,g,v),c=!0},p(g,v){const k={};v&4194306&&(k.$$scope={dirty:v,ctx:g}),e.$set(k);let A=r;r=_(g),r===A?~r&&h[r].p(g,v):(l&&(Pe(),S(h[A],1,1,()=>{h[A]=null}),Oe()),~r?(l=h[r],l?l.p(g,v):(l=h[r]=d[r](g),l.c()),C(l,1),l.m(a.parentNode,a)):l=null);const P={};v&4194304&&(P.$$scope={dirty:v,ctx:g}),f.$set(P)},i(g){c||(C(e.$$.fragment,g),C(i.$$.fragment,g),C(l),C(s.$$.fragment,g),C(f.$$.fragment,g),c=!0)},o(g){S(e.$$.fragment,g),S(i.$$.fragment,g),S(l),S(s.$$.fragment,g),S(f.$$.fragment,g),c=!1},d(g){g&&(y(n),y(o),y(a),y(u)),X(e,g),X(i,g),~r&&h[r].d(g),X(s,g),X(f,g)}}}function c_(t){let e,n;return e=new zt({props:{$$slots:{default:[f_]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},p(i,o){const r={};o&4194307&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(C(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){X(e,i)}}}function d_(t){let e,n,i,o,r;e=new Um({props:{open:t[2],$$slots:{default:[e_]},$$scope:{ctx:t}}});function l(s){t[12](s)}let a={$$slots:{default:[c_]},$$scope:{ctx:t}};return t[3]!==void 0&&(a.open=t[3]),i=new tn({props:a}),we.push(()=>Zt(i,"open",l)),{c(){Q(e.$$.fragment),n=W(),Q(i.$$.fragment)},m(s,u){Y(e,s,u),w(s,n,u),Y(i,s,u),r=!0},p(s,[u]){const f={};u&4&&(f.open=s[2]),u&4194306&&(f.$$scope={dirty:u,ctx:s}),e.$set(f);const c={};u&4194307&&(c.$$scope={dirty:u,ctx:s}),!o&&u&8&&(o=!0,c.open=s[3],Xt(()=>o=!1)),i.$set(c)},i(s){r||(C(e.$$.fragment,s),C(i.$$.fragment,s),r=!0)},o(s){S(e.$$.fragment,s),S(i.$$.fragment,s),r=!1},d(s){s&&y(n),X(e,s),X(i,s)}}}function Kl(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function p_(t,e,n){let i,o;se(t,Ie,$=>n(1,i=$)),se(t,si,$=>n(3,o=$));var r;ze[i.endGoal],Ki[i.difficulty];let a=[],s=!1,u=!1,f=!1;function c(){if(a.length>0||!s)return a;let $=[],R=Jm.filter(F=>!i.lab.past_experiments.some(j=>j.id===F.id));for(let F=0;F<3;F++){let j=R[Math.floor(Math.random()*R.length)];j.cost=Math.floor(j.cost*(Math.random()*1.5+.8)),$.push(j)}return $=$.filter((F,j)=>$.indexOf(F)===j),$=$.filter(F=>F),n(8,f=!0),$}function d($){if(i.townInfo.gold<$.cost){alert("You do not have enough gold to purchase this experiment.");return}Ce(Ie,i.townInfo.gold-=$.cost,i),Ce(Ie,i.lab.active_experiment=$,i),i.lab.past_experiments.push($)}function h(){var $;switch(Ce(si,o=!1,o),n(2,u=!0),($=i.lab.active_experiment)===null||$===void 0?void 0:$.id){case"sunshine":Ce(Ie,i.modifiers.happiness=50,i);break;case"antibiotics":Ce(Ie,i.modifiers.health=50,i);break;case"goodbye_carrots":g("carrot_farm");break}Ce(Ie,i.lab.active_experiment.duration=-1,i)}function _(){let $=i;$.lab.xp+=Math.round($.lab.active_experiment.cost*(Math.random()*2+.5)),$.lab.active_experiment=null,n(2,u=!1),Ce(Ie,i=$,i)}function g($){let R=Ui($,i);for(let F=0;F<R.length;F++)yi(R[F].x,R[F].y,i)}const v=()=>{_()},k=()=>{h()},A=$=>{$.cost<i.townInfo.gold&&d($)};function P($){o=$,si.set(o)}return t.$$.update=()=>{t.$$.dirty&387&&(i?(s=!0,n(0,a=f==!1?c():a),(n(7,r=i.lab.active_experiment)===null||r===void 0?void 0:r.duration)===-1&&n(2,u=!0)):s=!1)},[a,i,u,o,d,h,_,r,f,v,k,A,P]}class h_ extends me{constructor(e){super(),he(this,e,p_,d_,le,{})}}function Ul(t,e,n){const i=t.slice();return i[14]=e[n],i}function m_(t){let e;return{c(){e=O("span"),e.textContent="No Alerts",L(e,"class","townLog text-xs text-slate-500 text-center")},m(n,i){w(n,e,i)},p:ae,d(n){n&&y(e)}}}function __(t){let e,n=t[1].townLog.split(`
`)[0]+"",i,o,r,l=Ue(t[1].townLog.split(`
`).slice(1,300)),a=[];for(let s=0;s<l.length;s+=1)a[s]=Jl(Ul(t,l,s));return{c(){e=O("div"),i=B(n),o=W();for(let s=0;s<a.length;s+=1)a[s].c();r=Se(),L(e,"class","townLog text-xs text-center")},m(s,u){w(s,e,u),I(e,i),w(s,o,u);for(let f=0;f<a.length;f+=1)a[f]&&a[f].m(s,u);w(s,r,u)},p(s,u){if(u&2&&n!==(n=s[1].townLog.split(`
`)[0]+"")&&ge(i,n),u&2){l=Ue(s[1].townLog.split(`
`).slice(1,300));let f;for(f=0;f<l.length;f+=1){const c=Ul(s,l,f);a[f]?a[f].p(c,u):(a[f]=Jl(c),a[f].c(),a[f].m(r.parentNode,r))}for(;f<a.length;f+=1)a[f].d(1);a.length=l.length}},d(s){s&&(y(e),y(o),y(r)),_t(a,s)}}}function Jl(t){let e,n=t[14]+"",i,o;return{c(){e=O("span"),i=B(n),o=W(),L(e,"class","townLog text-xs text-center cursor-pointer")},m(r,l){w(r,e,l),I(e,i),I(e,o)},p(r,l){l&2&&n!==(n=r[14]+"")&&ge(i,n)},d(r){r&&y(e)}}}function Yl(t){let e,n;return e=new ha({props:{text:"Set this!!!"}}),{c(){Q(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},i(i){n||(C(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){X(e,i)}}}function Xl(t){let e,n;return e=new Cn({props:{class:"text-xs flex flex-col h-min mt-2",$$slots:{default:[v_]},$$scope:{ctx:t}}}),e.$on("click",t[9]),{c(){Q(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},p(i,o){const r={};o&131074&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(C(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){X(e,i)}}}function Zl(t){let e;function n(r,l){if(r[1].lab.active_experiment.duration>0)return b_;if(r[1].lab.active_experiment.duration===0)return g_}let i=n(t),o=i&&i(t);return{c(){o&&o.c(),e=Se()},m(r,l){o&&o.m(r,l),w(r,e,l)},p(r,l){i===(i=n(r))&&o?o.p(r,l):(o&&o.d(1),o=i&&i(r),o&&(o.c(),o.m(e.parentNode,e)))},d(r){r&&y(e),o&&o.d(r)}}}function g_(t){let e;return{c(){e=O("span"),e.textContent="‚úÖ DONE!",L(e,"class","animate-pulse ")},m(n,i){w(n,e,i)},p:ae,d(n){n&&y(e)}}}function b_(t){let e,n=t[1].lab.active_experiment.duration+"",i,o;return{c(){e=O("span"),i=B(n),o=B("d")},m(r,l){w(r,e,l),I(e,i),I(e,o)},p(r,l){l&2&&n!==(n=r[1].lab.active_experiment.duration+"")&&ge(i,n)},d(r){r&&y(e)}}}function v_(t){let e,n,i,o=t[1].lab.active_experiment!==null&&Zl(t);return{c(){e=O("div"),e.textContent="Manage Lab",n=W(),o&&o.c(),i=Se()},m(r,l){w(r,e,l),w(r,n,l),o&&o.m(r,l),w(r,i,l)},p(r,l){r[1].lab.active_experiment!==null?o?o.p(r,l):(o=Zl(r),o.c(),o.m(i.parentNode,i)):o&&(o.d(1),o=null)},d(r){r&&(y(e),y(n),y(i)),o&&o.d(r)}}}function Ql(t){let e,n;return e=new ma({}),{c(){Q(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},i(i){n||(C(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){X(e,i)}}}function y_(t){let e,n,i,o,r,l=t[1].townInfo.name+"",a,s,u,f,c,d,h,_,g,v,k,A,P,$,R,F,j,K,p,D,T,b,m,M,q,E,U,J,ee=Hn(t[1].economyAndLaws.tax_rate*100,0)+"",z,x,ne,_e,H,re,be,Te,Be,$e,Me,qe,Ve,dt,tt,He,pt,lt;function xe(ve,Ae){return ve[1].townLog.length>0?__:m_}let st=xe(t),Ye=st(t),Re=t[1].economyAndLaws.tax_rate==0&&Yl(),We=(t[1].hasLab||!0)&&Xl(t);Me=new Ii({props:{class:`mb-3 mt-0 bg-slate-700
	`}}),Ve=new pa({});let Ge=t[5]&&Ql();return{c(){e=O("div"),n=O("div"),i=O("div"),o=O("div"),r=O("div"),a=B(l),s=W(),u=O("div"),f=O("div"),c=O("span"),d=B(t[4]),h=B(" speed"),_=W(),g=O("span"),v=B("Day "),k=B(t[3]),A=B(" ("),P=B(t[2]),$=B("y)"),R=W(),F=O("span"),F.textContent="üí° Press P to Pause or learn how to play",j=W(),K=O("div"),p=O("div"),p.textContent="üö® Alerts (scroll)",D=W(),Ye.c(),T=W(),b=O("div"),m=O("div"),M=O("div"),q=O("span"),q.textContent="Tax Rate",E=W(),U=O("span"),J=B("("),z=B(ee),x=B("%)"),ne=W(),_e=O("input"),re=W(),be=O("br"),Te=W(),Re&&Re.c(),Be=W(),We&&We.c(),$e=W(),Q(Me.$$.fragment),qe=W(),Q(Ve.$$.fragment),dt=W(),Ge&&Ge.c(),tt=Se(),L(r,"class","text-2xl font-bold cursor-pointer text-emerald-700"),L(r,"id","townName"),L(f,"class","flex flex-col"),L(u,"class","text-xs gap-2 cursor-pointer hover:text-blue-600"),L(F,"class","text-xs text-col"),L(p,"class","text-md cursor-pointer"),L(K,"class","flex flex-col gap-1 drop-shadow-md text-center pb-6 rounded-lg max-h-24 h-24 hover:max-h-48 hover:h-48 transition-all ml-6 mr-4 overflow-y-scroll scroll-smooth no-scrollbar cursor-pointer text-slate-500 hover:text-blue-600 w-1/2 "),L(q,"class","text-slate-500"),L(U,"class","text-sm text-gray-700"),L(M,"class","text-sm"),L(_e,"type","range"),L(_e,"min","0"),L(_e,"max","1.0"),L(_e,"step","0.05"),_e.value=H=t[1].economyAndLaws.tax_rate,L(_e,"class","cursor-pointer w-100 svelte-j064ft"),L(m,"class","pb-2 rounded-lg text-center"),L(b,"class",""),L(i,"class","select-none flex justify-evenly"),L(n,"class","select-none flex flex-col justify-start align-left text-left bg-slate-300 border-b-2 border-black text-black p-3 border-r-20 rounded-lg w-10/12"),L(n,"id","headerObject"),L(e,"class","<!-- center horizontally --> flex justify-center text-center p-3 fixed top-0 left-0 right-0 ")},m(ve,Ae){w(ve,e,Ae),I(e,n),I(n,i),I(i,o),I(o,r),I(r,a),I(o,s),I(o,u),I(u,f),I(f,c),I(c,d),I(c,h),I(f,_),I(f,g),I(g,v),I(g,k),I(g,A),I(g,P),I(g,$),I(o,R),I(o,F),I(i,j),I(i,K),I(K,p),I(K,D),Ye.m(K,null),I(i,T),I(i,b),I(b,m),I(m,M),I(M,q),I(M,E),I(M,U),I(U,J),I(U,z),I(U,x),I(m,ne),I(m,_e),I(m,re),I(m,be),I(m,Te),Re&&Re.m(m,null),I(m,Be),We&&We.m(m,null),I(n,$e),Y(Me,n,null),I(n,qe),Y(Ve,n,null),w(ve,dt,Ae),Ge&&Ge.m(ve,Ae),w(ve,tt,Ae),He=!0,pt||(lt=[V(r,"click",t[6]),V(u,"click",t[7]),V(K,"click",t[11]),V(_e,"input",t[8])],pt=!0)},p(ve,[Ae]){(!He||Ae&2)&&l!==(l=ve[1].townInfo.name+"")&&ge(a,l),(!He||Ae&16)&&ge(d,ve[4]),(!He||Ae&8)&&ge(k,ve[3]),(!He||Ae&4)&&ge(P,ve[2]),st===(st=xe(ve))&&Ye?Ye.p(ve,Ae):(Ye.d(1),Ye=st(ve),Ye&&(Ye.c(),Ye.m(K,null))),(!He||Ae&2)&&ee!==(ee=Hn(ve[1].economyAndLaws.tax_rate*100,0)+"")&&ge(z,ee),(!He||Ae&2&&H!==(H=ve[1].economyAndLaws.tax_rate))&&(_e.value=H),ve[1].economyAndLaws.tax_rate==0?Re?Ae&2&&C(Re,1):(Re=Yl(),Re.c(),C(Re,1),Re.m(m,Be)):Re&&(Pe(),S(Re,1,1,()=>{Re=null}),Oe()),ve[1].hasLab,We?(We.p(ve,Ae),Ae&2&&C(We,1)):(We=Xl(ve),We.c(),C(We,1),We.m(m,null)),ve[5]?Ge?Ae&32&&C(Ge,1):(Ge=Ql(),Ge.c(),C(Ge,1),Ge.m(tt.parentNode,tt)):Ge&&(Pe(),S(Ge,1,1,()=>{Ge=null}),Oe())},i(ve){He||(C(Re),C(We),C(Me.$$.fragment,ve),C(Ve.$$.fragment,ve),C(Ge),He=!0)},o(ve){S(Re),S(We),S(Me.$$.fragment,ve),S(Ve.$$.fragment,ve),S(Ge),He=!1},d(ve){ve&&(y(e),y(dt),y(tt)),Ye.d(),Re&&Re.d(),We&&We.d(),X(Me),X(Ve),Ge&&Ge.d(ve),pt=!1,Le(lt)}}}function Hn(t,e){if(e===void 0&&(e=0),t==null||t==null)return 0;t=parseFloat((t*Math.pow(10,e)).toFixed(11));var n=Math.round(t)/Math.pow(10,e);return+n.toFixed(e)}function w_(t,e,n){let i,o,r,l;se(t,Ie,v=>n(1,i=v)),se(t,ai,v=>n(12,o=v)),se(t,ho,v=>n(13,r=v)),se(t,wi,v=>n(5,l=v));let a,s;function u(){let v=prompt("Enter a new name for your town (under 200 chars)");if(v&&v.length<200){let k=i;k.townInfo.name=v,Ie.set(k),localStorage.setItem(rt,JSON.stringify(k))}}let f="Normal";function c(){o==500?(Ce(ai,o=250,o),n(4,f="Fast")):(Ce(ai,o=500,o),n(4,f="Normal"))}function d(v){let k=i;k.economyAndLaws.tax_rate=Hn(v.target.value,2),Ie.set(k),localStorage.setItem(rt,JSON.stringify(k))}function h(){let v=i;v.hasBank===!0?(v.townInfo.gold+=v.townInfo.gold_from_tourism,v.townInfo.gold_from_tourism=0,Ie.set(v),localStorage.setItem(rt,JSON.stringify(v))):alert("You need a bank to transfer funds from tourism activities.")}document.addEventListener("keydown",v=>{switch(v.key.toLowerCase()){case"1":v.preventDefault(),c();break;case"2":v.preventDefault(),c();break}});function _(){si.set(!0)}const g=()=>{Ce(Ie,i.townLog="",i)};return t.$$.update=()=>{if(t.$$.dirty&2){const v=document.getElementById("headerObject");v&&Ce(ho,r=v.offsetHeight+32,r),n(2,a=Math.floor(i.environment.day/365)+1),n(3,s=at(i.environment.day))}},[Hn,i,a,s,f,l,u,c,d,_,h,g]}class k_ extends me{constructor(e){super(),he(this,e,w_,y_,le,{roundTo:0,transferFundsFromBank:10})}get roundTo(){return Hn}get transferFundsFromBank(){return this.$$.ctx[10]}}function C_(t){let e;const n=t[2].default,i=ue(n,t,t[4],null);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r&16)&&ce(i,n,o,o[4],e?fe(n,o[4],r,null):de(o[4]),null)},i(o){e||(C(i,o),e=!0)},o(o){S(i,o),e=!1},d(o){i&&i.d(o)}}}function A_(t){let e,n;const i=[{class:Ee("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",t[0])},t[1]];let o={$$slots:{default:[C_]},$$scope:{ctx:t}};for(let r=0;r<i.length;r+=1)o=G(o,i[r]);return e=new fp({props:o}),e.$on("mousedown",t[3]),{c(){Q(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&3?pe(i,[l&1&&{class:Ee("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",r[0])},l&2&&et(r[1])]):{};l&16&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function S_(t,e,n){const i=["class"];let o=te(e,i),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(u){Z.call(this,t,u)}return t.$$set=u=>{e=G(G({},e),ke(u)),n(1,o=te(e,i)),"class"in u&&n(0,a=u.class),"$$scope"in u&&n(4,l=u.$$scope)},[a,o,r,s,l]}class an extends me{constructor(e){super(),he(this,e,S_,A_,le,{class:0})}}function xl(t,e,n){const i=t.slice();return i[10]=e[n],i}function N_(t){let e;return{c(){e=B("Pause Menu")},m(n,i){w(n,e,i)},d(n){n&&y(e)}}}function T_(t){let e;return{c(){e=B("Unpause any time by pressing 'P'")},m(n,i){w(n,e,i)},d(n){n&&y(e)}}}function I_(t){let e,n,i,o;return e=new Qt({props:{$$slots:{default:[N_]},$$scope:{ctx:t}}}),i=new en({props:{$$slots:{default:[T_]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment),n=W(),Q(i.$$.fragment)},m(r,l){Y(e,r,l),w(r,n,l),Y(i,r,l),o=!0},p(r,l){const a={};l&8192&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&8192&&(s.$$scope={dirty:l,ctx:r}),i.$set(s)},i(r){o||(C(e.$$.fragment,r),C(i.$$.fragment,r),o=!0)},o(r){S(e.$$.fragment,r),S(i.$$.fragment,r),o=!1},d(r){r&&y(n),X(e,r),X(i,r)}}}function zl(t){let e,n,i,o,r,l=JSON.stringify(t[2].requirements[t[0].difficulty].population_count)+"",a,s,u=JSON.stringify(t[0].townInfo.population_count)+"",f,c,d,h,_=JSON.stringify(t[2].requirements[t[0].difficulty].happiness)+"",g,v,k=JSON.stringify(t[0].townInfo.happiness)+"",A,P,$,R,F=JSON.stringify(t[2].requirements[t[0].difficulty].employment*100)+"",j,K,p=JSON.stringify((t[0].townInfo.employees/t[0].townInfo.population_count||0)*100)+"",D,T,b,m,M,q=JSON.stringify(t[2].requirements[t[0].difficulty].health)+"",E,U,J=JSON.stringify(t[0].townInfo.health)+"",ee,z,x,ne,_e=JSON.stringify(t[2].requirements[t[0].difficulty].knowledge)+"",H,re,be=JSON.stringify(t[0].townInfo.knowledge_points)+"",Te,Be,$e;function Me(ie,De){return ie[0].townInfo.population_count>=ie[2].requirements[ie[0].difficulty].population_count?M_:E_}let qe=Me(t),Ve=qe(t);function dt(ie,De){return ie[0].townInfo.happiness>=ie[2].requirements[ie[0].difficulty].happiness?O_:P_}let tt=dt(t),He=tt(t);function pt(ie,De){return ie[0].townInfo.employees/ie[0].townInfo.population_count>=ie[2].requirements[ie[0].difficulty].employment?F_:L_}let lt=pt(t),xe=lt(t);function st(ie,De){return ie[0].townInfo.health>=ie[2].requirements[ie[0].difficulty].health?q_:R_}let Ye=st(t),Re=Ye(t);function We(ie,De){return ie[0].townInfo.knowledge_points>=ie[2].requirements[ie[0].difficulty].knowledge?D_:$_}let Ge=We(t),ve=Ge(t),Ae=t[2].requirements[t[0].difficulty].required_plots!=null&&t[2].requirements[t[0].difficulty].required_plots.length>0&&es(t);return{c(){e=O("div"),e.textContent=`With your difficulty (${t[3]}), you must also have:`,n=W(),i=O("ul"),o=O("li"),Ve.c(),r=B(`
						Population: `),a=B(l),s=B(" - Currently at "),f=B(u),c=W(),d=O("li"),He.c(),h=B(`
						Happiness: `),g=B(_),v=B(" - Currently at "),A=B(k),P=W(),$=O("li"),xe.c(),R=B(`
						Employment: `),j=B(F),K=B("% - Currently at "),D=B(p),T=B("%"),b=W(),m=O("li"),Re.c(),M=B(`
						Health: `),E=B(q),U=B(" - Currently at "),ee=B(J),z=W(),x=O("li"),ve.c(),ne=B(`
						Knowledge: `),H=B(_e),re=B(" - Currently at "),Te=B(be),Be=W(),Ae&&Ae.c(),$e=Se(),L(e,"class","text-base leading-relaxed"),L(i,"class","list-inside list-disc text-base leading-relaxedmt-0")},m(ie,De){w(ie,e,De),w(ie,n,De),w(ie,i,De),I(i,o),Ve.m(o,null),I(o,r),I(o,a),I(o,s),I(o,f),I(i,c),I(i,d),He.m(d,null),I(d,h),I(d,g),I(d,v),I(d,A),I(i,P),I(i,$),xe.m($,null),I($,R),I($,j),I($,K),I($,D),I($,T),I(i,b),I(i,m),Re.m(m,null),I(m,M),I(m,E),I(m,U),I(m,ee),I(i,z),I(i,x),ve.m(x,null),I(x,ne),I(x,H),I(x,re),I(x,Te),w(ie,Be,De),Ae&&Ae.m(ie,De),w(ie,$e,De)},p(ie,De){qe!==(qe=Me(ie))&&(Ve.d(1),Ve=qe(ie),Ve&&(Ve.c(),Ve.m(o,r))),De&1&&l!==(l=JSON.stringify(ie[2].requirements[ie[0].difficulty].population_count)+"")&&ge(a,l),De&1&&u!==(u=JSON.stringify(ie[0].townInfo.population_count)+"")&&ge(f,u),tt!==(tt=dt(ie))&&(He.d(1),He=tt(ie),He&&(He.c(),He.m(d,h))),De&1&&_!==(_=JSON.stringify(ie[2].requirements[ie[0].difficulty].happiness)+"")&&ge(g,_),De&1&&k!==(k=JSON.stringify(ie[0].townInfo.happiness)+"")&&ge(A,k),lt!==(lt=pt(ie))&&(xe.d(1),xe=lt(ie),xe&&(xe.c(),xe.m($,R))),De&1&&F!==(F=JSON.stringify(ie[2].requirements[ie[0].difficulty].employment*100)+"")&&ge(j,F),De&1&&p!==(p=JSON.stringify((ie[0].townInfo.employees/ie[0].townInfo.population_count||0)*100)+"")&&ge(D,p),Ye!==(Ye=st(ie))&&(Re.d(1),Re=Ye(ie),Re&&(Re.c(),Re.m(m,M))),De&1&&q!==(q=JSON.stringify(ie[2].requirements[ie[0].difficulty].health)+"")&&ge(E,q),De&1&&J!==(J=JSON.stringify(ie[0].townInfo.health)+"")&&ge(ee,J),Ge!==(Ge=We(ie))&&(ve.d(1),ve=Ge(ie),ve&&(ve.c(),ve.m(x,ne))),De&1&&_e!==(_e=JSON.stringify(ie[2].requirements[ie[0].difficulty].knowledge)+"")&&ge(H,_e),De&1&&be!==(be=JSON.stringify(ie[0].townInfo.knowledge_points)+"")&&ge(Te,be),ie[2].requirements[ie[0].difficulty].required_plots!=null&&ie[2].requirements[ie[0].difficulty].required_plots.length>0?Ae?Ae.p(ie,De):(Ae=es(ie),Ae.c(),Ae.m($e.parentNode,$e)):Ae&&(Ae.d(1),Ae=null)},d(ie){ie&&(y(e),y(n),y(i),y(Be),y($e)),Ve.d(),He.d(),xe.d(),Re.d(),ve.d(),Ae&&Ae.d(ie)}}}function E_(t){let e;return{c(){e=B("‚ùå")},m(n,i){w(n,e,i)},d(n){n&&y(e)}}}function M_(t){let e;return{c(){e=B("‚úÖ")},m(n,i){w(n,e,i)},d(n){n&&y(e)}}}function P_(t){let e;return{c(){e=B("‚ùå")},m(n,i){w(n,e,i)},d(n){n&&y(e)}}}function O_(t){let e;return{c(){e=B("‚úÖ")},m(n,i){w(n,e,i)},d(n){n&&y(e)}}}function L_(t){let e;return{c(){e=B("‚ùå")},m(n,i){w(n,e,i)},d(n){n&&y(e)}}}function F_(t){let e;return{c(){e=B("‚úÖ")},m(n,i){w(n,e,i)},d(n){n&&y(e)}}}function R_(t){let e;return{c(){e=B("‚ùå")},m(n,i){w(n,e,i)},d(n){n&&y(e)}}}function q_(t){let e;return{c(){e=B("‚úÖ")},m(n,i){w(n,e,i)},d(n){n&&y(e)}}}function $_(t){let e;return{c(){e=B("‚ùå")},m(n,i){w(n,e,i)},d(n){n&&y(e)}}}function D_(t){let e;return{c(){e=B("‚úÖ")},m(n,i){w(n,e,i)},d(n){n&&y(e)}}}function es(t){let e,n,i,o=Ue(t[2].requirements[t[0].difficulty].required_plots),r=[];for(let l=0;l<o.length;l+=1)r[l]=ts(xl(t,o,l));return{c(){e=O("br"),n=B(`
					You also need to have these plots:
					`);for(let l=0;l<r.length;l+=1)r[l].c();i=Se()},m(l,a){w(l,e,a),w(l,n,a);for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(l,a);w(l,i,a)},p(l,a){if(a&5){o=Ue(l[2].requirements[l[0].difficulty].required_plots);let s;for(s=0;s<o.length;s+=1){const u=xl(l,o,s);r[s]?r[s].p(u,a):(r[s]=ts(u),r[s].c(),r[s].m(i.parentNode,i))}for(;s<r.length;s+=1)r[s].d(1);r.length=o.length}},d(l){l&&(y(e),y(n),y(i)),_t(r,l)}}}function B_(t){let e;return{c(){e=B("‚ùå")},m(n,i){w(n,e,i)},d(n){n&&y(e)}}}function G_(t){let e;return{c(){e=B("‚úÖ")},m(n,i){w(n,e,i)},d(n){n&&y(e)}}}function ts(t){let e,n,i,o,r=t[10]+"",l,a;function s(c,d){return d&1&&(i=null),i==null&&(i=Ui(c[10],c[0]).length>0),i?G_:B_}let u=s(t,-1),f=u(t);return{c(){e=O("div"),n=O("li"),f.c(),o=W(),l=B(r),a=W(),L(e,"class","text-base leading-relaxed")},m(c,d){w(c,e,d),I(e,n),f.m(n,null),I(n,o),I(n,l),I(e,a)},p(c,d){u!==(u=s(c,d))&&(f.d(1),f=u(c),f&&(f.c(),f.m(n,o))),d&1&&r!==(r=c[10]+"")&&ge(l,r)},d(c){c&&y(e),f.d()}}}function j_(t){let e;return{c(){e=B("Save game")},m(n,i){w(n,e,i)},d(n){n&&y(e)}}}function H_(t){let e;return{c(){e=B("Save")},m(n,i){w(n,e,i)},d(n){n&&y(e)}}}function V_(t){let e;return{c(){e=B("Upload game")},m(n,i){w(n,e,i)},d(n){n&&y(e)}}}function W_(t){let e,n,i,o,r,l,a,s,u,f;return i=new an({props:{for:"saveButton",class:`cursor-pointer bg-blue-600 rounded-md text-center p-2.5 hover:bg-blue-700 justify-center flex 
					`,$$slots:{default:[j_]},$$scope:{ctx:t}}}),r=new Cn({props:{class:`
					bg-blue-600 hover:bg-blue-700 hidden
					`,id:"saveButton",$$slots:{default:[H_]},$$scope:{ctx:t}}}),r.$on("click",t[6]),a=new an({props:{for:"upload",class:`cursor-pointer bg-blue-600 rounded-md text-center p-2.5 hover:bg-blue-700 justify-center flex 
					`,$$slots:{default:[V_]},$$scope:{ctx:t}}}),u=new Xo({props:{class:"hidden",type:"file",id:"upload"}}),u.$on("change",t[5]),{c(){e=O("div"),n=O("div"),Q(i.$$.fragment),o=W(),Q(r.$$.fragment),l=W(),Q(a.$$.fragment),s=W(),Q(u.$$.fragment),L(n,"class","flex gap-10"),L(e,"class","flex flex-col gap-3")},m(c,d){w(c,e,d),I(e,n),Y(i,n,null),I(n,o),Y(r,n,null),I(n,l),Y(a,n,null),I(n,s),Y(u,n,null),f=!0},p(c,d){const h={};d&8192&&(h.$$scope={dirty:d,ctx:c}),i.$set(h);const _={};d&8192&&(_.$$scope={dirty:d,ctx:c}),r.$set(_);const g={};d&8192&&(g.$$scope={dirty:d,ctx:c}),a.$set(g)},i(c){f||(C(i.$$.fragment,c),C(r.$$.fragment,c),C(a.$$.fragment,c),C(u.$$.fragment,c),f=!0)},o(c){S(i.$$.fragment,c),S(r.$$.fragment,c),S(a.$$.fragment,c),S(u.$$.fragment,c),f=!1},d(c){c&&y(e),X(i),X(r),X(a),X(u)}}}function K_(t){let e,n,i,o,r,l,a,s;e=new xt({props:{$$slots:{default:[I_]},$$scope:{ctx:t}}});let u=t[0].endGoal=="land"&&zl(t);return a=new kn({props:{$$slots:{default:[W_]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment),n=W(),i=O("span"),i.textContent=`${t[2].description_title}`,o=W(),r=O("div"),u&&u.c(),l=W(),Q(a.$$.fragment),L(i,"class","italic"),L(r,"class","gap-0 py-0 text-gray-400")},m(f,c){Y(e,f,c),w(f,n,c),w(f,i,c),w(f,o,c),w(f,r,c),u&&u.m(r,null),w(f,l,c),Y(a,f,c),s=!0},p(f,c){const d={};c&8192&&(d.$$scope={dirty:c,ctx:f}),e.$set(d),f[0].endGoal=="land"?u?u.p(f,c):(u=zl(f),u.c(),u.m(r,null)):u&&(u.d(1),u=null);const h={};c&8192&&(h.$$scope={dirty:c,ctx:f}),a.$set(h)},i(f){s||(C(e.$$.fragment,f),C(a.$$.fragment,f),s=!0)},o(f){S(e.$$.fragment,f),S(a.$$.fragment,f),s=!1},d(f){f&&(y(n),y(i),y(o),y(r),y(l)),X(e,f),u&&u.d(),X(a,f)}}}function U_(t){let e,n;return e=new zt({props:{$$slots:{default:[K_]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},p(i,o){const r={};o&8193&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(C(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){X(e,i)}}}function J_(t){let e,n,i;function o(l){t[7](l)}let r={$$slots:{default:[U_]},$$scope:{ctx:t}};return t[1]!==void 0&&(r.open=t[1]),e=new tn({props:r}),we.push(()=>Zt(e,"open",o)),{c(){Q(e.$$.fragment)},m(l,a){Y(e,l,a),i=!0},p(l,[a]){const s={};a&8193&&(s.$$scope={dirty:a,ctx:l}),!n&&a&2&&(n=!0,s.open=l[1],Xt(()=>n=!1)),e.$set(s)},i(l){i||(C(e.$$.fragment,l),i=!0)},o(l){S(e.$$.fragment,l),i=!1},d(l){X(e,l)}}}function Y_(t){const e=JSON.parse(t);return e.townInfo!=null&&e.difficulty!=null}function X_(t,e,n){let i,o;se(t,Ie,d=>n(0,i=d)),se(t,At,d=>n(1,o=d));const l=ze[i.endGoal],a=Ki[i.difficulty]||0;function s(){const d=JSON.stringify(i),h=new Blob([d],{type:"text/plain"}),_=URL.createObjectURL(h),g=document.createElement("a");g.href=_,g.download=`${new Date().toISOString()}.json`,document.body.appendChild(g),g.click(),document.body.removeChild(g),URL.revokeObjectURL(_)}function u(){const h=document.getElementById("upload").files;if(h==null)return;const _=h[0],g=new FileReader;g.onload=function(v){if(v.target==null)return;const k=v.target.result;if(typeof k=="string"){if(!Y_(k)){alert("Invalid game file");return}Wo(JSON.parse(k))}else alert("Invalid game file: is not String.")},g.readAsText(_)}const f=()=>s();function c(d){o=d,At.set(o)}return t.$$.update=()=>{t.$$.dirty&1},[i,o,l,a,s,u,f,c]}class Z_ extends me{constructor(e){super(),he(this,e,X_,J_,le,{})}}function Q_(t){let e=t[0].endGameDetails.win==!0?"You won! üéâ":"You lost! üò≠",n;return{c(){n=B(e)},m(i,o){w(i,n,o)},p(i,o){o&1&&e!==(e=i[0].endGameDetails.win==!0?"You won! üéâ":"You lost! üò≠")&&ge(n,e)},d(i){i&&y(n)}}}function x_(t){let e;return{c(){e=B("Keep playin'")},m(n,i){w(n,e,i)},d(n){n&&y(e)}}}function z_(t){let e,n=t[0].endGameDetails.msg+"",i,o,r,l,a,s,u,f;return u=new Cn({props:{$$slots:{default:[x_]},$$scope:{ctx:t}}}),u.$on("click",t[2]),{c(){e=O("span"),i=B(n),o=W(),r=O("br"),l=W(),a=O("br"),s=W(),Q(u.$$.fragment),L(e,"class","text-gray-500 text-sm")},m(c,d){w(c,e,d),I(e,i),w(c,o,d),w(c,r,d),w(c,l,d),w(c,a,d),w(c,s,d),Y(u,c,d),f=!0},p(c,d){(!f||d&1)&&n!==(n=c[0].endGameDetails.msg+"")&&ge(i,n);const h={};d&16&&(h.$$scope={dirty:d,ctx:c}),u.$set(h)},i(c){f||(C(u.$$.fragment,c),f=!0)},o(c){S(u.$$.fragment,c),f=!1},d(c){c&&(y(e),y(o),y(r),y(l),y(a),y(s)),X(u,c)}}}function eg(t){let e,n,i,o;return e=new Qt({props:{$$slots:{default:[Q_]},$$scope:{ctx:t}}}),i=new en({props:{$$slots:{default:[z_]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment),n=W(),Q(i.$$.fragment)},m(r,l){Y(e,r,l),w(r,n,l),Y(i,r,l),o=!0},p(r,l){const a={};l&17&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&17&&(s.$$scope={dirty:l,ctx:r}),i.$set(s)},i(r){o||(C(e.$$.fragment,r),C(i.$$.fragment,r),o=!0)},o(r){S(e.$$.fragment,r),S(i.$$.fragment,r),o=!1},d(r){r&&y(n),X(e,r),X(i,r)}}}function tg(t){let e;return{c(){e=O("span"),e.textContent="Reset the game by pressing SHIFT+ESC",L(e,"class","text-gray-500 text-sm")},m(n,i){w(n,e,i)},p:ae,d(n){n&&y(e)}}}function ng(t){let e,n,i,o;return e=new xt({props:{$$slots:{default:[eg]},$$scope:{ctx:t}}}),i=new kn({props:{$$slots:{default:[tg]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment),n=W(),Q(i.$$.fragment)},m(r,l){Y(e,r,l),w(r,n,l),Y(i,r,l),o=!0},p(r,l){const a={};l&17&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&16&&(s.$$scope={dirty:l,ctx:r}),i.$set(s)},i(r){o||(C(e.$$.fragment,r),C(i.$$.fragment,r),o=!0)},o(r){S(e.$$.fragment,r),S(i.$$.fragment,r),o=!1},d(r){r&&y(n),X(e,r),X(i,r)}}}function ig(t){let e,n;return e=new zt({props:{$$slots:{default:[ng]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},p(i,o){const r={};o&17&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(C(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){X(e,i)}}}function og(t){let e,n,i;function o(l){t[3](l)}let r={$$slots:{default:[ig]},$$scope:{ctx:t}};return t[1]!==void 0&&(r.open=t[1]),e=new tn({props:r}),we.push(()=>Zt(e,"open",o)),{c(){Q(e.$$.fragment)},m(l,a){Y(e,l,a),i=!0},p(l,[a]){const s={};a&17&&(s.$$scope={dirty:a,ctx:l}),!n&&a&2&&(n=!0,s.open=l[1],Xt(()=>n=!1)),e.$set(s)},i(l){i||(C(e.$$.fragment,l),i=!0)},o(l){S(e.$$.fragment,l),i=!1},d(l){X(e,l)}}}function rg(t,e,n){let i;se(t,Ie,a=>n(0,i=a));let o=!1;function r(){let a=i;a.overtime=!0,Ie.set(a),n(1,o=!1),At.set(!1)}function l(a){o=a,n(1,o),n(0,i)}return t.$$.update=()=>{t.$$.dirty&1&&(i.endGameDetails!=null&&i.overtime==!1?n(1,o=!0):n(1,o=!1))},[i,o,r,l]}class lg extends me{constructor(e){super(),he(this,e,rg,og,le,{})}}function sg(t){let e;return{c(){e=B("Welcome to Plots!")},m(n,i){w(n,e,i)},d(n){n&&y(e)}}}function ag(t){let e;return{c(){e=B("Select a difficulty")},m(n,i){w(n,e,i)},d(n){n&&y(e)}}}function ug(t){let e;return{c(){e=B("Select a game mode")},m(n,i){w(n,e,i)},d(n){n&&y(e)}}}function fg(t){let e;return{c(){e=O("p"),e.textContent=`${ze.political.description_title}`,L(e,"class","text-gray-500 text-sm")},m(n,i){w(n,e,i)},d(n){n&&y(e)}}}function cg(t){let e;return{c(){e=O("p"),e.textContent=`${ze.land.description_title}`,L(e,"class","text-gray-500 text-sm")},m(n,i){w(n,e,i)},d(n){n&&y(e)}}}function dg(t){let e;return{c(){e=B("Town Name")},m(n,i){w(n,e,i)},d(n){n&&y(e)}}}function pg(t){let e;return{c(){e=B("Cheats")},m(n,i){w(n,e,i)},d(n){n&&y(e)}}}function hg(t){let e,n,i,o,r,l,a,s,u,f,c,d,h,_,g,v,k,A,P,$,R,F,j,K,p,D,T,b,m,M,q,E,U;r=new an({props:{for:"difficulty",class:"mt-2",$$slots:{default:[ag]},$$scope:{ctx:t}}}),h=new an({props:{for:"endGoal",class:"mt-2",$$slots:{default:[ug]},$$scope:{ctx:t}}});function J(x,ne){return x[0]==="land"?cg:fg}let ee=J(t),z=ee(t);return R=new an({props:{for:"townName",class:"mt-2",$$slots:{default:[dg]},$$scope:{ctx:t}}}),j=new Xo({props:{id:"townName",class:"mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Will be randomized if you leave blank"}}),D=new an({props:{for:"cheats",class:"mt-2",$$slots:{default:[pg]},$$scope:{ctx:t}}}),{c(){e=O("a"),e.textContent="GitHub / Learn how to play",n=W(),i=O("div"),o=O("div"),Q(r.$$.fragment),l=W(),a=O("select"),s=O("option"),s.textContent="Easy (quick game)",u=O("option"),u.textContent="Normal",f=O("option"),f.textContent="Hard (longest game)",c=W(),d=O("div"),Q(h.$$.fragment),_=W(),z.c(),g=W(),v=O("select"),k=O("option"),k.textContent=`${ze.land.short_title}`,A=O("option"),A.textContent="Rule the world through politics",P=W(),$=O("div"),Q(R.$$.fragment),F=W(),Q(j.$$.fragment),K=W(),p=O("div"),Q(D.$$.fragment),T=W(),b=O("select"),m=O("option"),m.textContent="No cheats",M=O("option"),M.textContent="Dev mode",L(e,"href","https://github.com/josephrcox/plots#how-to-play"),L(e,"class","text-blue-500 text-sm mb-4 hover:underline"),L(e,"target","_blank"),s.__value="0",wt(s,s.__value),u.__value="1",wt(u,u.__value),u.selected=!0,f.__value="2",wt(f,f.__value),L(a,"id","difficulty"),L(a,"class","mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),k.__value="land",wt(k,k.__value),A.__value="political",wt(A,A.__value),L(v,"id","endGoal"),L(v,"class","mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),m.__value="false",wt(m,m.__value),m.selected=!0,M.__value="true",wt(M,M.__value),L(b,"id","cheats"),L(b,"class","mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),L(i,"class","flex flex-col justify-center gap-5 mt-4")},m(x,ne){w(x,e,ne),w(x,n,ne),w(x,i,ne),I(i,o),Y(r,o,null),I(o,l),I(o,a),I(a,s),I(a,u),I(a,f),I(i,c),I(i,d),Y(h,d,null),I(d,_),z.m(d,null),I(d,g),I(d,v),I(v,k),I(v,A),lr(v,t[0]),I(i,P),I(i,$),Y(R,$,null),I($,F),Y(j,$,null),I(i,K),I(i,p),Y(D,p,null),I(p,T),I(p,b),I(b,m),I(b,M),q=!0,E||(U=V(v,"change",t[3]),E=!0)},p(x,ne){const _e={};ne&32&&(_e.$$scope={dirty:ne,ctx:x}),r.$set(_e);const H={};ne&32&&(H.$$scope={dirty:ne,ctx:x}),h.$set(H),ee!==(ee=J(x))&&(z.d(1),z=ee(x),z&&(z.c(),z.m(d,g))),(!q||ne&1)&&lr(v,x[0]);const re={};ne&32&&(re.$$scope={dirty:ne,ctx:x}),R.$set(re);const be={};ne&32&&(be.$$scope={dirty:ne,ctx:x}),D.$set(be)},i(x){q||(C(r.$$.fragment,x),C(h.$$.fragment,x),C(R.$$.fragment,x),C(j.$$.fragment,x),C(D.$$.fragment,x),q=!0)},o(x){S(r.$$.fragment,x),S(h.$$.fragment,x),S(R.$$.fragment,x),S(j.$$.fragment,x),S(D.$$.fragment,x),q=!1},d(x){x&&(y(e),y(n),y(i)),X(r),X(h),z.d(),X(R),X(j),X(D),E=!1,U()}}}function mg(t){let e,n,i,o;return e=new Qt({props:{$$slots:{default:[sg]},$$scope:{ctx:t}}}),i=new en({props:{$$slots:{default:[hg]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment),n=W(),Q(i.$$.fragment)},m(r,l){Y(e,r,l),w(r,n,l),Y(i,r,l),o=!0},p(r,l){const a={};l&32&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&33&&(s.$$scope={dirty:l,ctx:r}),i.$set(s)},i(r){o||(C(e.$$.fragment,r),C(i.$$.fragment,r),o=!0)},o(r){S(e.$$.fragment,r),S(i.$$.fragment,r),o=!1},d(r){r&&y(n),X(e,r),X(i,r)}}}function _g(t){let e,n,i;return{c(){e=O("button"),e.textContent="Start game",L(e,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-md")},m(o,r){w(o,e,r),n||(i=V(e,"click",t[2]),n=!0)},p:ae,d(o){o&&y(e),n=!1,i()}}}function gg(t){let e,n,i,o;return e=new xt({props:{$$slots:{default:[mg]},$$scope:{ctx:t}}}),i=new kn({props:{$$slots:{default:[_g]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment),n=W(),Q(i.$$.fragment)},m(r,l){Y(e,r,l),w(r,n,l),Y(i,r,l),o=!0},p(r,l){const a={};l&33&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&32&&(s.$$scope={dirty:l,ctx:r}),i.$set(s)},i(r){o||(C(e.$$.fragment,r),C(i.$$.fragment,r),o=!0)},o(r){S(e.$$.fragment,r),S(i.$$.fragment,r),o=!1},d(r){r&&y(n),X(e,r),X(i,r)}}}function bg(t){let e,n;return e=new zt({props:{transition:Yo,$$slots:{default:[gg]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},p(i,o){const r={};o&33&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(C(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){X(e,i)}}}function vg(t){let e,n,i;function o(l){t[4](l)}let r={$$slots:{default:[bg]},$$scope:{ctx:t}};return t[1].visible!==void 0&&(r.open=t[1].visible),e=new tn({props:r}),we.push(()=>Zt(e,"open",o)),{c(){Q(e.$$.fragment)},m(l,a){Y(e,l,a),i=!0},p(l,[a]){const s={};a&33&&(s.$$scope={dirty:a,ctx:l}),!n&&a&2&&(n=!0,s.open=l[1].visible,Xt(()=>n=!1)),e.$set(s)},i(l){i||(C(e.$$.fragment,l),i=!0)},o(l){S(e.$$.fragment,l),i=!1},d(l){X(e,l)}}}function yg(t,e,n){let i;se(t,Dn,s=>n(1,i=s));function o(){const s=document.getElementById("difficulty").value,u=document.getElementById("endGoal").value,f=document.getElementById("townName").value,c=document.getElementById("cheats").value=="true";Su(s,u,f,c)}let r="land";const l=s=>{n(0,r=s.target.value)};function a(s){t.$$.not_equal(i.visible,s)&&(i.visible=s,Dn.set(i))}return[r,i,o,l,a]}class wg extends me{constructor(e){super(),he(this,e,yg,vg,le,{})}}function kg(t){let e;return{c(){e=B("Scoreboard")},m(n,i){w(n,e,i)},d(n){n&&y(e)}}}function Cg(t){let e=t[1].description_title+"",n;return{c(){n=B(e)},m(i,o){w(i,n,o)},p:ae,d(i){i&&y(n)}}}function Ag(t){let e,n,i,o;return e=new Qt({props:{$$slots:{default:[kg]},$$scope:{ctx:t}}}),i=new en({props:{$$slots:{default:[Cg]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment),n=W(),Q(i.$$.fragment)},m(r,l){Y(e,r,l),w(r,n,l),Y(i,r,l),o=!0},p(r,l){const a={};l&128&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&128&&(s.$$scope={dirty:l,ctx:r}),i.$set(s)},i(r){o||(C(e.$$.fragment,r),C(i.$$.fragment,r),o=!0)},o(r){S(e.$$.fragment,r),S(i.$$.fragment,r),o=!1},d(r){r&&y(n),X(e,r),X(i,r)}}}function Sg(t){let e;return{c(){e=B("footer")},m(n,i){w(n,e,i)},d(n){n&&y(e)}}}function Ng(t){let e,n,i,o;return e=new xt({props:{$$slots:{default:[Ag]},$$scope:{ctx:t}}}),i=new kn({props:{$$slots:{default:[Sg]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment),n=B(`
		hi
		`),Q(i.$$.fragment)},m(r,l){Y(e,r,l),w(r,n,l),Y(i,r,l),o=!0},p(r,l){const a={};l&128&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&128&&(s.$$scope={dirty:l,ctx:r}),i.$set(s)},i(r){o||(C(e.$$.fragment,r),C(i.$$.fragment,r),o=!0)},o(r){S(e.$$.fragment,r),S(i.$$.fragment,r),o=!1},d(r){r&&y(n),X(e,r),X(i,r)}}}function Tg(t){let e,n;return e=new zt({props:{$$slots:{default:[Ng]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},p(i,o){const r={};o&128&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(C(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){X(e,i)}}}function Ig(t){let e,n,i;function o(l){t[3](l)}let r={$$slots:{default:[Tg]},$$scope:{ctx:t}};return t[0]!==void 0&&(r.open=t[0]),e=new tn({props:r}),we.push(()=>Zt(e,"open",o)),{c(){Q(e.$$.fragment)},m(l,a){Y(e,l,a),i=!0},p(l,[a]){const s={};a&128&&(s.$$scope={dirty:a,ctx:l}),!n&&a&1&&(n=!0,s.open=l[0],Xt(()=>n=!1)),e.$set(s)},i(l){i||(C(e.$$.fragment,l),i=!0)},o(l){S(e.$$.fragment,l),i=!1},d(l){X(e,l)}}}function Eg(t,e,n){let i,o;se(t,Ie,s=>n(2,i=s)),se(t,ur,s=>n(0,o=s));const l=ze[i.endGoal];Ki[i.difficulty];function a(s){o=s,ur.set(o)}return t.$$.update=()=>{t.$$.dirty&4},[o,l,i,a]}class Mg extends me{constructor(e){super(),he(this,e,Eg,Ig,le,{})}}function fi(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Pg(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function wa(t){let e,n,i;t.length!==2?(e=fi,n=(a,s)=>fi(t(a),s),i=(a,s)=>t(a)-s):(e=t===fi||t===Pg?t:Og,n=t,i=t);function o(a,s,u=0,f=a.length){if(u<f){if(e(s,s)!==0)return f;do{const c=u+f>>>1;n(a[c],s)<0?u=c+1:f=c}while(u<f)}return u}function r(a,s,u=0,f=a.length){if(u<f){if(e(s,s)!==0)return f;do{const c=u+f>>>1;n(a[c],s)<=0?u=c+1:f=c}while(u<f)}return u}function l(a,s,u=0,f=a.length){const c=o(a,s,u,f-1);return c>u&&i(a[c-1],s)>-i(a[c],s)?c-1:c}return{left:o,center:l,right:r}}function Og(){return 0}function Lg(t){return t===null?NaN:+t}const Fg=wa(fi),Rg=Fg.right;wa(Lg).center;const qg=Math.sqrt(50),$g=Math.sqrt(10),Dg=Math.sqrt(2);function Oi(t,e,n){const i=(e-t)/Math.max(0,n),o=Math.floor(Math.log10(i)),r=i/Math.pow(10,o),l=r>=qg?10:r>=$g?5:r>=Dg?2:1;let a,s,u;return o<0?(u=Math.pow(10,-o)/l,a=Math.round(t*u),s=Math.round(e*u),a/u<t&&++a,s/u>e&&--s,u=-u):(u=Math.pow(10,o)*l,a=Math.round(t/u),s=Math.round(e/u),a*u<t&&++a,s*u>e&&--s),s<a&&.5<=n&&n<2?Oi(t,e,n*2):[a,s,u]}function Bg(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const i=e<t,[o,r,l]=i?Oi(e,t,n):Oi(t,e,n);if(!(r>=o))return[];const a=r-o+1,s=new Array(a);if(i)if(l<0)for(let u=0;u<a;++u)s[u]=(r-u)/-l;else for(let u=0;u<a;++u)s[u]=(r-u)*l;else if(l<0)for(let u=0;u<a;++u)s[u]=(o+u)/-l;else for(let u=0;u<a;++u)s[u]=(o+u)*l;return s}function Ao(t,e,n){return e=+e,t=+t,n=+n,Oi(t,e,n)[2]}function Gg(t,e,n){e=+e,t=+t,n=+n;const i=e<t,o=i?Ao(e,t,n):Ao(t,e,n);return(i?-1:1)*(o<0?1/-o:o)}function jg(t){return t}var lo=1,so=2,So=3,Ln=4,ns=1e-6;function Hg(t){return"translate("+t+",0)"}function Vg(t){return"translate(0,"+t+")"}function Wg(t){return e=>+t(e)}function Kg(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function Ug(){return!this.__axis}function ka(t,e){var n=[],i=null,o=null,r=6,l=6,a=3,s=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=t===lo||t===Ln?-1:1,f=t===Ln||t===so?"x":"y",c=t===lo||t===So?Hg:Vg;function d(h){var _=i??(e.ticks?e.ticks.apply(e,n):e.domain()),g=o??(e.tickFormat?e.tickFormat.apply(e,n):jg),v=Math.max(r,0)+a,k=e.range(),A=+k[0]+s,P=+k[k.length-1]+s,$=(e.bandwidth?Kg:Wg)(e.copy(),s),R=h.selection?h.selection():h,F=R.selectAll(".domain").data([null]),j=R.selectAll(".tick").data(_,e).order(),K=j.exit(),p=j.enter().append("g").attr("class","tick"),D=j.select("line"),T=j.select("text");F=F.merge(F.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),j=j.merge(p),D=D.merge(p.append("line").attr("stroke","currentColor").attr(f+"2",u*r)),T=T.merge(p.append("text").attr("fill","currentColor").attr(f,u*v).attr("dy",t===lo?"0em":t===So?"0.71em":"0.32em")),h!==R&&(F=F.transition(h),j=j.transition(h),D=D.transition(h),T=T.transition(h),K=K.transition(h).attr("opacity",ns).attr("transform",function(b){return isFinite(b=$(b))?c(b+s):this.getAttribute("transform")}),p.attr("opacity",ns).attr("transform",function(b){var m=this.parentNode.__axis;return c((m&&isFinite(m=m(b))?m:$(b))+s)})),K.remove(),F.attr("d",t===Ln||t===so?l?"M"+u*l+","+A+"H"+s+"V"+P+"H"+u*l:"M"+s+","+A+"V"+P:l?"M"+A+","+u*l+"V"+s+"H"+P+"V"+u*l:"M"+A+","+s+"H"+P),j.attr("opacity",1).attr("transform",function(b){return c($(b)+s)}),D.attr(f+"2",u*r),T.attr(f,u*v).text(g),R.filter(Ug).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===so?"start":t===Ln?"end":"middle"),R.each(function(){this.__axis=$})}return d.scale=function(h){return arguments.length?(e=h,d):e},d.ticks=function(){return n=Array.from(arguments),d},d.tickArguments=function(h){return arguments.length?(n=h==null?[]:Array.from(h),d):n.slice()},d.tickValues=function(h){return arguments.length?(i=h==null?null:Array.from(h),d):i&&i.slice()},d.tickFormat=function(h){return arguments.length?(o=h,d):o},d.tickSize=function(h){return arguments.length?(r=l=+h,d):r},d.tickSizeInner=function(h){return arguments.length?(r=+h,d):r},d.tickSizeOuter=function(h){return arguments.length?(l=+h,d):l},d.tickPadding=function(h){return arguments.length?(a=+h,d):a},d.offset=function(h){return arguments.length?(s=+h,d):s},d}function Jg(t){return ka(So,t)}function Yg(t){return ka(Ln,t)}var Xg={value:()=>{}};function Ca(){for(var t=0,e=arguments.length,n={},i;t<e;++t){if(!(i=arguments[t]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new ci(n)}function ci(t){this._=t}function Zg(t,e){return t.trim().split(/^|\s+/).map(function(n){var i="",o=n.indexOf(".");if(o>=0&&(i=n.slice(o+1),n=n.slice(0,o)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}ci.prototype=Ca.prototype={constructor:ci,on:function(t,e){var n=this._,i=Zg(t+"",n),o,r=-1,l=i.length;if(arguments.length<2){for(;++r<l;)if((o=(t=i[r]).type)&&(o=Qg(n[o],t.name)))return o;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++r<l;)if(o=(t=i[r]).type)n[o]=is(n[o],t.name,e);else if(e==null)for(o in n)n[o]=is(n[o],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new ci(t)},call:function(t,e){if((o=arguments.length-2)>0)for(var n=new Array(o),i=0,o,r;i<o;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],o=0,r=i.length;o<r;++o)i[o].value.apply(e,n)}};function Qg(t,e){for(var n=0,i=t.length,o;n<i;++n)if((o=t[n]).name===e)return o.value}function is(t,e,n){for(var i=0,o=t.length;i<o;++i)if(t[i].name===e){t[i]=Xg,t=t.slice(0,i).concat(t.slice(i+1));break}return n!=null&&t.push({name:e,value:n}),t}var No="http://www.w3.org/1999/xhtml";const os={svg:"http://www.w3.org/2000/svg",xhtml:No,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Yi(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),os.hasOwnProperty(e)?{space:os[e],local:t}:t}function xg(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===No&&e.documentElement.namespaceURI===No?e.createElement(t):e.createElementNS(n,t)}}function zg(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Aa(t){var e=Yi(t);return(e.local?zg:xg)(e)}function e0(){}function Zo(t){return t==null?e0:function(){return this.querySelector(t)}}function t0(t){typeof t!="function"&&(t=Zo(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var r=e[o],l=r.length,a=i[o]=new Array(l),s,u,f=0;f<l;++f)(s=r[f])&&(u=t.call(s,s.__data__,f,r))&&("__data__"in s&&(u.__data__=s.__data__),a[f]=u);return new ot(i,this._parents)}function n0(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function i0(){return[]}function Sa(t){return t==null?i0:function(){return this.querySelectorAll(t)}}function o0(t){return function(){return n0(t.apply(this,arguments))}}function r0(t){typeof t=="function"?t=o0(t):t=Sa(t);for(var e=this._groups,n=e.length,i=[],o=[],r=0;r<n;++r)for(var l=e[r],a=l.length,s,u=0;u<a;++u)(s=l[u])&&(i.push(t.call(s,s.__data__,u,l)),o.push(s));return new ot(i,o)}function Na(t){return function(){return this.matches(t)}}function Ta(t){return function(e){return e.matches(t)}}var l0=Array.prototype.find;function s0(t){return function(){return l0.call(this.children,t)}}function a0(){return this.firstElementChild}function u0(t){return this.select(t==null?a0:s0(typeof t=="function"?t:Ta(t)))}var f0=Array.prototype.filter;function c0(){return Array.from(this.children)}function d0(t){return function(){return f0.call(this.children,t)}}function p0(t){return this.selectAll(t==null?c0:d0(typeof t=="function"?t:Ta(t)))}function h0(t){typeof t!="function"&&(t=Na(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var r=e[o],l=r.length,a=i[o]=[],s,u=0;u<l;++u)(s=r[u])&&t.call(s,s.__data__,u,r)&&a.push(s);return new ot(i,this._parents)}function Ia(t){return new Array(t.length)}function m0(){return new ot(this._enter||this._groups.map(Ia),this._parents)}function Li(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Li.prototype={constructor:Li,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function _0(t){return function(){return t}}function g0(t,e,n,i,o,r){for(var l=0,a,s=e.length,u=r.length;l<u;++l)(a=e[l])?(a.__data__=r[l],i[l]=a):n[l]=new Li(t,r[l]);for(;l<s;++l)(a=e[l])&&(o[l]=a)}function b0(t,e,n,i,o,r,l){var a,s,u=new Map,f=e.length,c=r.length,d=new Array(f),h;for(a=0;a<f;++a)(s=e[a])&&(d[a]=h=l.call(s,s.__data__,a,e)+"",u.has(h)?o[a]=s:u.set(h,s));for(a=0;a<c;++a)h=l.call(t,r[a],a,r)+"",(s=u.get(h))?(i[a]=s,s.__data__=r[a],u.delete(h)):n[a]=new Li(t,r[a]);for(a=0;a<f;++a)(s=e[a])&&u.get(d[a])===s&&(o[a]=s)}function v0(t){return t.__data__}function y0(t,e){if(!arguments.length)return Array.from(this,v0);var n=e?b0:g0,i=this._parents,o=this._groups;typeof t!="function"&&(t=_0(t));for(var r=o.length,l=new Array(r),a=new Array(r),s=new Array(r),u=0;u<r;++u){var f=i[u],c=o[u],d=c.length,h=w0(t.call(f,f&&f.__data__,u,i)),_=h.length,g=a[u]=new Array(_),v=l[u]=new Array(_),k=s[u]=new Array(d);n(f,c,g,v,k,h,e);for(var A=0,P=0,$,R;A<_;++A)if($=g[A]){for(A>=P&&(P=A+1);!(R=v[P])&&++P<_;);$._next=R||null}}return l=new ot(l,i),l._enter=a,l._exit=s,l}function w0(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function k0(){return new ot(this._exit||this._groups.map(Ia),this._parents)}function C0(t,e,n){var i=this.enter(),o=this,r=this.exit();return typeof t=="function"?(i=t(i),i&&(i=i.selection())):i=i.append(t+""),e!=null&&(o=e(o),o&&(o=o.selection())),n==null?r.remove():n(r),i&&o?i.merge(o).order():o}function A0(t){for(var e=t.selection?t.selection():t,n=this._groups,i=e._groups,o=n.length,r=i.length,l=Math.min(o,r),a=new Array(o),s=0;s<l;++s)for(var u=n[s],f=i[s],c=u.length,d=a[s]=new Array(c),h,_=0;_<c;++_)(h=u[_]||f[_])&&(d[_]=h);for(;s<o;++s)a[s]=n[s];return new ot(a,this._parents)}function S0(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i=t[e],o=i.length-1,r=i[o],l;--o>=0;)(l=i[o])&&(r&&l.compareDocumentPosition(r)^4&&r.parentNode.insertBefore(l,r),r=l);return this}function N0(t){t||(t=T0);function e(c,d){return c&&d?t(c.__data__,d.__data__):!c-!d}for(var n=this._groups,i=n.length,o=new Array(i),r=0;r<i;++r){for(var l=n[r],a=l.length,s=o[r]=new Array(a),u,f=0;f<a;++f)(u=l[f])&&(s[f]=u);s.sort(e)}return new ot(o,this._parents).order()}function T0(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function I0(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function E0(){return Array.from(this)}function M0(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],o=0,r=i.length;o<r;++o){var l=i[o];if(l)return l}return null}function P0(){let t=0;for(const e of this)++t;return t}function O0(){return!this.node()}function L0(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var o=e[n],r=0,l=o.length,a;r<l;++r)(a=o[r])&&t.call(a,a.__data__,r,o);return this}function F0(t){return function(){this.removeAttribute(t)}}function R0(t){return function(){this.removeAttributeNS(t.space,t.local)}}function q0(t,e){return function(){this.setAttribute(t,e)}}function $0(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function D0(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function B0(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function G0(t,e){var n=Yi(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((e==null?n.local?R0:F0:typeof e=="function"?n.local?B0:D0:n.local?$0:q0)(n,e))}function Ea(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function j0(t){return function(){this.style.removeProperty(t)}}function H0(t,e,n){return function(){this.style.setProperty(t,e,n)}}function V0(t,e,n){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function W0(t,e,n){return arguments.length>1?this.each((e==null?j0:typeof e=="function"?V0:H0)(t,e,n??"")):_n(this.node(),t)}function _n(t,e){return t.style.getPropertyValue(e)||Ea(t).getComputedStyle(t,null).getPropertyValue(e)}function K0(t){return function(){delete this[t]}}function U0(t,e){return function(){this[t]=e}}function J0(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Y0(t,e){return arguments.length>1?this.each((e==null?K0:typeof e=="function"?J0:U0)(t,e)):this.node()[t]}function Ma(t){return t.trim().split(/^|\s+/)}function Qo(t){return t.classList||new Pa(t)}function Pa(t){this._node=t,this._names=Ma(t.getAttribute("class")||"")}Pa.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Oa(t,e){for(var n=Qo(t),i=-1,o=e.length;++i<o;)n.add(e[i])}function La(t,e){for(var n=Qo(t),i=-1,o=e.length;++i<o;)n.remove(e[i])}function X0(t){return function(){Oa(this,t)}}function Z0(t){return function(){La(this,t)}}function Q0(t,e){return function(){(e.apply(this,arguments)?Oa:La)(this,t)}}function x0(t,e){var n=Ma(t+"");if(arguments.length<2){for(var i=Qo(this.node()),o=-1,r=n.length;++o<r;)if(!i.contains(n[o]))return!1;return!0}return this.each((typeof e=="function"?Q0:e?X0:Z0)(n,e))}function z0(){this.textContent=""}function eb(t){return function(){this.textContent=t}}function tb(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function nb(t){return arguments.length?this.each(t==null?z0:(typeof t=="function"?tb:eb)(t)):this.node().textContent}function ib(){this.innerHTML=""}function ob(t){return function(){this.innerHTML=t}}function rb(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function lb(t){return arguments.length?this.each(t==null?ib:(typeof t=="function"?rb:ob)(t)):this.node().innerHTML}function sb(){this.nextSibling&&this.parentNode.appendChild(this)}function ab(){return this.each(sb)}function ub(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function fb(){return this.each(ub)}function cb(t){var e=typeof t=="function"?t:Aa(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function db(){return null}function pb(t,e){var n=typeof t=="function"?t:Aa(t),i=e==null?db:typeof e=="function"?e:Zo(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function hb(){var t=this.parentNode;t&&t.removeChild(this)}function mb(){return this.each(hb)}function _b(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function gb(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function bb(t){return this.select(t?gb:_b)}function vb(t){return arguments.length?this.property("__data__",t):this.node().__data__}function yb(t){return function(e){t.call(this,e,this.__data__)}}function wb(t){return t.trim().split(/^|\s+/).map(function(e){var n="",i=e.indexOf(".");return i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),{type:e,name:n}})}function kb(t){return function(){var e=this.__on;if(e){for(var n=0,i=-1,o=e.length,r;n<o;++n)r=e[n],(!t.type||r.type===t.type)&&r.name===t.name?this.removeEventListener(r.type,r.listener,r.options):e[++i]=r;++i?e.length=i:delete this.__on}}}function Cb(t,e,n){return function(){var i=this.__on,o,r=yb(e);if(i){for(var l=0,a=i.length;l<a;++l)if((o=i[l]).type===t.type&&o.name===t.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=r,o.options=n),o.value=e;return}}this.addEventListener(t.type,r,n),o={type:t.type,name:t.name,value:e,listener:r,options:n},i?i.push(o):this.__on=[o]}}function Ab(t,e,n){var i=wb(t+""),o,r=i.length,l;if(arguments.length<2){var a=this.node().__on;if(a){for(var s=0,u=a.length,f;s<u;++s)for(o=0,f=a[s];o<r;++o)if((l=i[o]).type===f.type&&l.name===f.name)return f.value}return}for(a=e?Cb:kb,o=0;o<r;++o)this.each(a(i[o],e,n));return this}function Fa(t,e,n){var i=Ea(t),o=i.CustomEvent;typeof o=="function"?o=new o(e,n):(o=i.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function Sb(t,e){return function(){return Fa(this,t,e)}}function Nb(t,e){return function(){return Fa(this,t,e.apply(this,arguments))}}function Tb(t,e){return this.each((typeof e=="function"?Nb:Sb)(t,e))}function*Ib(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],o=0,r=i.length,l;o<r;++o)(l=i[o])&&(yield l)}var Ra=[null];function ot(t,e){this._groups=t,this._parents=e}function Xn(){return new ot([[document.documentElement]],Ra)}function Eb(){return this}ot.prototype=Xn.prototype={constructor:ot,select:t0,selectAll:r0,selectChild:u0,selectChildren:p0,filter:h0,data:y0,enter:m0,exit:k0,join:C0,merge:A0,selection:Eb,order:S0,sort:N0,call:I0,nodes:E0,node:M0,size:P0,empty:O0,each:L0,attr:G0,style:W0,property:Y0,classed:x0,text:nb,html:lb,raise:ab,lower:fb,append:cb,insert:pb,remove:mb,clone:bb,datum:vb,on:Ab,dispatch:Tb,[Symbol.iterator]:Ib};function Mb(t){return typeof t=="string"?new ot([[document.querySelector(t)]],[document.documentElement]):new ot([[t]],Ra)}function xo(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function qa(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function Zn(){}var Vn=.7,Fi=1/Vn,pn="\\s*([+-]?\\d+)\\s*",Wn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",mt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Pb=/^#([0-9a-f]{3,8})$/,Ob=new RegExp(`^rgb\\(${pn},${pn},${pn}\\)$`),Lb=new RegExp(`^rgb\\(${mt},${mt},${mt}\\)$`),Fb=new RegExp(`^rgba\\(${pn},${pn},${pn},${Wn}\\)$`),Rb=new RegExp(`^rgba\\(${mt},${mt},${mt},${Wn}\\)$`),qb=new RegExp(`^hsl\\(${Wn},${mt},${mt}\\)$`),$b=new RegExp(`^hsla\\(${Wn},${mt},${mt},${Wn}\\)$`),rs={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};xo(Zn,Jt,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:ls,formatHex:ls,formatHex8:Db,formatHsl:Bb,formatRgb:ss,toString:ss});function ls(){return this.rgb().formatHex()}function Db(){return this.rgb().formatHex8()}function Bb(){return $a(this).formatHsl()}function ss(){return this.rgb().formatRgb()}function Jt(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Pb.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?as(e):n===3?new nt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?ni(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?ni(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Ob.exec(t))?new nt(e[1],e[2],e[3],1):(e=Lb.exec(t))?new nt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Fb.exec(t))?ni(e[1],e[2],e[3],e[4]):(e=Rb.exec(t))?ni(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=qb.exec(t))?cs(e[1],e[2]/100,e[3]/100,1):(e=$b.exec(t))?cs(e[1],e[2]/100,e[3]/100,e[4]):rs.hasOwnProperty(t)?as(rs[t]):t==="transparent"?new nt(NaN,NaN,NaN,0):null}function as(t){return new nt(t>>16&255,t>>8&255,t&255,1)}function ni(t,e,n,i){return i<=0&&(t=e=n=NaN),new nt(t,e,n,i)}function Gb(t){return t instanceof Zn||(t=Jt(t)),t?(t=t.rgb(),new nt(t.r,t.g,t.b,t.opacity)):new nt}function To(t,e,n,i){return arguments.length===1?Gb(t):new nt(t,e,n,i??1)}function nt(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}xo(nt,To,qa(Zn,{brighter(t){return t=t==null?Fi:Math.pow(Fi,t),new nt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Vn:Math.pow(Vn,t),new nt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new nt(Kt(this.r),Kt(this.g),Kt(this.b),Ri(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:us,formatHex:us,formatHex8:jb,formatRgb:fs,toString:fs}));function us(){return`#${Vt(this.r)}${Vt(this.g)}${Vt(this.b)}`}function jb(){return`#${Vt(this.r)}${Vt(this.g)}${Vt(this.b)}${Vt((isNaN(this.opacity)?1:this.opacity)*255)}`}function fs(){const t=Ri(this.opacity);return`${t===1?"rgb(":"rgba("}${Kt(this.r)}, ${Kt(this.g)}, ${Kt(this.b)}${t===1?")":`, ${t})`}`}function Ri(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Kt(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Vt(t){return t=Kt(t),(t<16?"0":"")+t.toString(16)}function cs(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ft(t,e,n,i)}function $a(t){if(t instanceof ft)return new ft(t.h,t.s,t.l,t.opacity);if(t instanceof Zn||(t=Jt(t)),!t)return new ft;if(t instanceof ft)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,o=Math.min(e,n,i),r=Math.max(e,n,i),l=NaN,a=r-o,s=(r+o)/2;return a?(e===r?l=(n-i)/a+(n<i)*6:n===r?l=(i-e)/a+2:l=(e-n)/a+4,a/=s<.5?r+o:2-r-o,l*=60):a=s>0&&s<1?0:l,new ft(l,a,s,t.opacity)}function Hb(t,e,n,i){return arguments.length===1?$a(t):new ft(t,e,n,i??1)}function ft(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}xo(ft,Hb,qa(Zn,{brighter(t){return t=t==null?Fi:Math.pow(Fi,t),new ft(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Vn:Math.pow(Vn,t),new ft(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,o=2*n-i;return new nt(ao(t>=240?t-240:t+120,o,i),ao(t,o,i),ao(t<120?t+240:t-120,o,i),this.opacity)},clamp(){return new ft(ds(this.h),ii(this.s),ii(this.l),Ri(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ri(this.opacity);return`${t===1?"hsl(":"hsla("}${ds(this.h)}, ${ii(this.s)*100}%, ${ii(this.l)*100}%${t===1?")":`, ${t})`}`}}));function ds(t){return t=(t||0)%360,t<0?t+360:t}function ii(t){return Math.max(0,Math.min(1,t||0))}function ao(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const zo=t=>()=>t;function Vb(t,e){return function(n){return t+n*e}}function Wb(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function Kb(t){return(t=+t)==1?Da:function(e,n){return n-e?Wb(e,n,t):zo(isNaN(e)?n:e)}}function Da(t,e){var n=e-t;return n?Vb(t,n):zo(isNaN(t)?e:t)}const qi=function t(e){var n=Kb(e);function i(o,r){var l=n((o=To(o)).r,(r=To(r)).r),a=n(o.g,r.g),s=n(o.b,r.b),u=Da(o.opacity,r.opacity);return function(f){return o.r=l(f),o.g=a(f),o.b=s(f),o.opacity=u(f),o+""}}return i.gamma=t,i}(1);function Ub(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,i=e.slice(),o;return function(r){for(o=0;o<n;++o)i[o]=t[o]*(1-r)+e[o]*r;return i}}function Jb(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Yb(t,e){var n=e?e.length:0,i=t?Math.min(n,t.length):0,o=new Array(i),r=new Array(n),l;for(l=0;l<i;++l)o[l]=er(t[l],e[l]);for(;l<n;++l)r[l]=e[l];return function(a){for(l=0;l<i;++l)r[l]=o[l](a);return r}}function Xb(t,e){var n=new Date;return t=+t,e=+e,function(i){return n.setTime(t*(1-i)+e*i),n}}function ut(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Zb(t,e){var n={},i={},o;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(o in e)o in t?n[o]=er(t[o],e[o]):i[o]=e[o];return function(r){for(o in n)i[o]=n[o](r);return i}}var Io=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,uo=new RegExp(Io.source,"g");function Qb(t){return function(){return t}}function xb(t){return function(e){return t(e)+""}}function Ba(t,e){var n=Io.lastIndex=uo.lastIndex=0,i,o,r,l=-1,a=[],s=[];for(t=t+"",e=e+"";(i=Io.exec(t))&&(o=uo.exec(e));)(r=o.index)>n&&(r=e.slice(n,r),a[l]?a[l]+=r:a[++l]=r),(i=i[0])===(o=o[0])?a[l]?a[l]+=o:a[++l]=o:(a[++l]=null,s.push({i:l,x:ut(i,o)})),n=uo.lastIndex;return n<e.length&&(r=e.slice(n),a[l]?a[l]+=r:a[++l]=r),a.length<2?s[0]?xb(s[0].x):Qb(e):(e=s.length,function(u){for(var f=0,c;f<e;++f)a[(c=s[f]).i]=c.x(u);return a.join("")})}function er(t,e){var n=typeof e,i;return e==null||n==="boolean"?zo(e):(n==="number"?ut:n==="string"?(i=Jt(e))?(e=i,qi):Ba:e instanceof Jt?qi:e instanceof Date?Xb:Jb(e)?Ub:Array.isArray(e)?Yb:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Zb:ut)(t,e)}function zb(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var ps=180/Math.PI,Eo={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ga(t,e,n,i,o,r){var l,a,s;return(l=Math.sqrt(t*t+e*e))&&(t/=l,e/=l),(s=t*n+e*i)&&(n-=t*s,i-=e*s),(a=Math.sqrt(n*n+i*i))&&(n/=a,i/=a,s/=a),t*i<e*n&&(t=-t,e=-e,s=-s,l=-l),{translateX:o,translateY:r,rotate:Math.atan2(e,t)*ps,skewX:Math.atan(s)*ps,scaleX:l,scaleY:a}}var oi;function e1(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Eo:Ga(e.a,e.b,e.c,e.d,e.e,e.f)}function t1(t){return t==null||(oi||(oi=document.createElementNS("http://www.w3.org/2000/svg","g")),oi.setAttribute("transform",t),!(t=oi.transform.baseVal.consolidate()))?Eo:(t=t.matrix,Ga(t.a,t.b,t.c,t.d,t.e,t.f))}function ja(t,e,n,i){function o(u){return u.length?u.pop()+" ":""}function r(u,f,c,d,h,_){if(u!==c||f!==d){var g=h.push("translate(",null,e,null,n);_.push({i:g-4,x:ut(u,c)},{i:g-2,x:ut(f,d)})}else(c||d)&&h.push("translate("+c+e+d+n)}function l(u,f,c,d){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),d.push({i:c.push(o(c)+"rotate(",null,i)-2,x:ut(u,f)})):f&&c.push(o(c)+"rotate("+f+i)}function a(u,f,c,d){u!==f?d.push({i:c.push(o(c)+"skewX(",null,i)-2,x:ut(u,f)}):f&&c.push(o(c)+"skewX("+f+i)}function s(u,f,c,d,h,_){if(u!==c||f!==d){var g=h.push(o(h)+"scale(",null,",",null,")");_.push({i:g-4,x:ut(u,c)},{i:g-2,x:ut(f,d)})}else(c!==1||d!==1)&&h.push(o(h)+"scale("+c+","+d+")")}return function(u,f){var c=[],d=[];return u=t(u),f=t(f),r(u.translateX,u.translateY,f.translateX,f.translateY,c,d),l(u.rotate,f.rotate,c,d),a(u.skewX,f.skewX,c,d),s(u.scaleX,u.scaleY,f.scaleX,f.scaleY,c,d),u=f=null,function(h){for(var _=-1,g=d.length,v;++_<g;)c[(v=d[_]).i]=v.x(h);return c.join("")}}}var n1=ja(e1,"px, ","px)","deg)"),i1=ja(t1,", ",")",")"),gn=0,Fn=0,Mn=0,Ha=1e3,$i,Rn,Di=0,Yt=0,Xi=0,Kn=typeof performance=="object"&&performance.now?performance:Date,Va=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function tr(){return Yt||(Va(o1),Yt=Kn.now()+Xi)}function o1(){Yt=0}function Bi(){this._call=this._time=this._next=null}Bi.prototype=Wa.prototype={constructor:Bi,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?tr():+n)+(e==null?0:+e),!this._next&&Rn!==this&&(Rn?Rn._next=this:$i=this,Rn=this),this._call=t,this._time=n,Mo()},stop:function(){this._call&&(this._call=null,this._time=1/0,Mo())}};function Wa(t,e,n){var i=new Bi;return i.restart(t,e,n),i}function r1(){tr(),++gn;for(var t=$i,e;t;)(e=Yt-t._time)>=0&&t._call.call(void 0,e),t=t._next;--gn}function hs(){Yt=(Di=Kn.now())+Xi,gn=Fn=0;try{r1()}finally{gn=0,s1(),Yt=0}}function l1(){var t=Kn.now(),e=t-Di;e>Ha&&(Xi-=e,Di=t)}function s1(){for(var t,e=$i,n,i=1/0;e;)e._call?(i>e._time&&(i=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:$i=n);Rn=t,Mo(i)}function Mo(t){if(!gn){Fn&&(Fn=clearTimeout(Fn));var e=t-Yt;e>24?(t<1/0&&(Fn=setTimeout(hs,t-Kn.now()-Xi)),Mn&&(Mn=clearInterval(Mn))):(Mn||(Di=Kn.now(),Mn=setInterval(l1,Ha)),gn=1,Va(hs))}}function ms(t,e,n){var i=new Bi;return e=e==null?0:+e,i.restart(o=>{i.stop(),t(o+e)},e,n),i}var a1=Ca("start","end","cancel","interrupt"),u1=[],Ka=0,_s=1,Po=2,di=3,gs=4,Oo=5,pi=6;function Zi(t,e,n,i,o,r){var l=t.__transition;if(!l)t.__transition={};else if(n in l)return;f1(t,n,{name:e,index:i,group:o,on:a1,tween:u1,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:Ka})}function nr(t,e){var n=ct(t,e);if(n.state>Ka)throw new Error("too late; already scheduled");return n}function gt(t,e){var n=ct(t,e);if(n.state>di)throw new Error("too late; already running");return n}function ct(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function f1(t,e,n){var i=t.__transition,o;i[e]=n,n.timer=Wa(r,0,n.time);function r(u){n.state=_s,n.timer.restart(l,n.delay,n.time),n.delay<=u&&l(u-n.delay)}function l(u){var f,c,d,h;if(n.state!==_s)return s();for(f in i)if(h=i[f],h.name===n.name){if(h.state===di)return ms(l);h.state===gs?(h.state=pi,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[f]):+f<e&&(h.state=pi,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[f])}if(ms(function(){n.state===di&&(n.state=gs,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=Po,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Po){for(n.state=di,o=new Array(d=n.tween.length),f=0,c=-1;f<d;++f)(h=n.tween[f].value.call(t,t.__data__,n.index,n.group))&&(o[++c]=h);o.length=c+1}}function a(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(s),n.state=Oo,1),c=-1,d=o.length;++c<d;)o[c].call(t,f);n.state===Oo&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){n.state=pi,n.timer.stop(),delete i[e];for(var u in i)return;delete t.__transition}}function c1(t,e){var n=t.__transition,i,o,r=!0,l;if(n){e=e==null?null:e+"";for(l in n){if((i=n[l]).name!==e){r=!1;continue}o=i.state>Po&&i.state<Oo,i.state=pi,i.timer.stop(),i.on.call(o?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete n[l]}r&&delete t.__transition}}function d1(t){return this.each(function(){c1(this,t)})}function p1(t,e){var n,i;return function(){var o=gt(this,t),r=o.tween;if(r!==n){i=n=r;for(var l=0,a=i.length;l<a;++l)if(i[l].name===e){i=i.slice(),i.splice(l,1);break}}o.tween=i}}function h1(t,e,n){var i,o;if(typeof n!="function")throw new Error;return function(){var r=gt(this,t),l=r.tween;if(l!==i){o=(i=l).slice();for(var a={name:e,value:n},s=0,u=o.length;s<u;++s)if(o[s].name===e){o[s]=a;break}s===u&&o.push(a)}r.tween=o}}function m1(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i=ct(this.node(),n).tween,o=0,r=i.length,l;o<r;++o)if((l=i[o]).name===t)return l.value;return null}return this.each((e==null?p1:h1)(n,t,e))}function ir(t,e,n){var i=t._id;return t.each(function(){var o=gt(this,i);(o.value||(o.value={}))[e]=n.apply(this,arguments)}),function(o){return ct(o,i).value[e]}}function Ua(t,e){var n;return(typeof e=="number"?ut:e instanceof Jt?qi:(n=Jt(e))?(e=n,qi):Ba)(t,e)}function _1(t){return function(){this.removeAttribute(t)}}function g1(t){return function(){this.removeAttributeNS(t.space,t.local)}}function b1(t,e,n){var i,o=n+"",r;return function(){var l=this.getAttribute(t);return l===o?null:l===i?r:r=e(i=l,n)}}function v1(t,e,n){var i,o=n+"",r;return function(){var l=this.getAttributeNS(t.space,t.local);return l===o?null:l===i?r:r=e(i=l,n)}}function y1(t,e,n){var i,o,r;return function(){var l,a=n(this),s;return a==null?void this.removeAttribute(t):(l=this.getAttribute(t),s=a+"",l===s?null:l===i&&s===o?r:(o=s,r=e(i=l,a)))}}function w1(t,e,n){var i,o,r;return function(){var l,a=n(this),s;return a==null?void this.removeAttributeNS(t.space,t.local):(l=this.getAttributeNS(t.space,t.local),s=a+"",l===s?null:l===i&&s===o?r:(o=s,r=e(i=l,a)))}}function k1(t,e){var n=Yi(t),i=n==="transform"?i1:Ua;return this.attrTween(t,typeof e=="function"?(n.local?w1:y1)(n,i,ir(this,"attr."+t,e)):e==null?(n.local?g1:_1)(n):(n.local?v1:b1)(n,i,e))}function C1(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function A1(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function S1(t,e){var n,i;function o(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&A1(t,r)),n}return o._value=e,o}function N1(t,e){var n,i;function o(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&C1(t,r)),n}return o._value=e,o}function T1(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var i=Yi(t);return this.tween(n,(i.local?S1:N1)(i,e))}function I1(t,e){return function(){nr(this,t).delay=+e.apply(this,arguments)}}function E1(t,e){return e=+e,function(){nr(this,t).delay=e}}function M1(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?I1:E1)(e,t)):ct(this.node(),e).delay}function P1(t,e){return function(){gt(this,t).duration=+e.apply(this,arguments)}}function O1(t,e){return e=+e,function(){gt(this,t).duration=e}}function L1(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?P1:O1)(e,t)):ct(this.node(),e).duration}function F1(t,e){if(typeof e!="function")throw new Error;return function(){gt(this,t).ease=e}}function R1(t){var e=this._id;return arguments.length?this.each(F1(e,t)):ct(this.node(),e).ease}function q1(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;gt(this,t).ease=n}}function $1(t){if(typeof t!="function")throw new Error;return this.each(q1(this._id,t))}function D1(t){typeof t!="function"&&(t=Na(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var r=e[o],l=r.length,a=i[o]=[],s,u=0;u<l;++u)(s=r[u])&&t.call(s,s.__data__,u,r)&&a.push(s);return new St(i,this._parents,this._name,this._id)}function B1(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,o=n.length,r=Math.min(i,o),l=new Array(i),a=0;a<r;++a)for(var s=e[a],u=n[a],f=s.length,c=l[a]=new Array(f),d,h=0;h<f;++h)(d=s[h]||u[h])&&(c[h]=d);for(;a<i;++a)l[a]=e[a];return new St(l,this._parents,this._name,this._id)}function G1(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function j1(t,e,n){var i,o,r=G1(e)?nr:gt;return function(){var l=r(this,t),a=l.on;a!==i&&(o=(i=a).copy()).on(e,n),l.on=o}}function H1(t,e){var n=this._id;return arguments.length<2?ct(this.node(),n).on.on(t):this.each(j1(n,t,e))}function V1(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function W1(){return this.on("end.remove",V1(this._id))}function K1(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Zo(t));for(var i=this._groups,o=i.length,r=new Array(o),l=0;l<o;++l)for(var a=i[l],s=a.length,u=r[l]=new Array(s),f,c,d=0;d<s;++d)(f=a[d])&&(c=t.call(f,f.__data__,d,a))&&("__data__"in f&&(c.__data__=f.__data__),u[d]=c,Zi(u[d],e,n,d,u,ct(f,n)));return new St(r,this._parents,e,n)}function U1(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Sa(t));for(var i=this._groups,o=i.length,r=[],l=[],a=0;a<o;++a)for(var s=i[a],u=s.length,f,c=0;c<u;++c)if(f=s[c]){for(var d=t.call(f,f.__data__,c,s),h,_=ct(f,n),g=0,v=d.length;g<v;++g)(h=d[g])&&Zi(h,e,n,g,d,_);r.push(d),l.push(f)}return new St(r,l,e,n)}var J1=Xn.prototype.constructor;function Y1(){return new J1(this._groups,this._parents)}function X1(t,e){var n,i,o;return function(){var r=_n(this,t),l=(this.style.removeProperty(t),_n(this,t));return r===l?null:r===n&&l===i?o:o=e(n=r,i=l)}}function Ja(t){return function(){this.style.removeProperty(t)}}function Z1(t,e,n){var i,o=n+"",r;return function(){var l=_n(this,t);return l===o?null:l===i?r:r=e(i=l,n)}}function Q1(t,e,n){var i,o,r;return function(){var l=_n(this,t),a=n(this),s=a+"";return a==null&&(s=a=(this.style.removeProperty(t),_n(this,t))),l===s?null:l===i&&s===o?r:(o=s,r=e(i=l,a))}}function x1(t,e){var n,i,o,r="style."+e,l="end."+r,a;return function(){var s=gt(this,t),u=s.on,f=s.value[r]==null?a||(a=Ja(e)):void 0;(u!==n||o!==f)&&(i=(n=u).copy()).on(l,o=f),s.on=i}}function z1(t,e,n){var i=(t+="")=="transform"?n1:Ua;return e==null?this.styleTween(t,X1(t,i)).on("end.style."+t,Ja(t)):typeof e=="function"?this.styleTween(t,Q1(t,i,ir(this,"style."+t,e))).each(x1(this._id,t)):this.styleTween(t,Z1(t,i,e),n).on("end.style."+t,null)}function ev(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}function tv(t,e,n){var i,o;function r(){var l=e.apply(this,arguments);return l!==o&&(i=(o=l)&&ev(t,l,n)),i}return r._value=e,r}function nv(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,tv(t,e,n??""))}function iv(t){return function(){this.textContent=t}}function ov(t){return function(){var e=t(this);this.textContent=e??""}}function rv(t){return this.tween("text",typeof t=="function"?ov(ir(this,"text",t)):iv(t==null?"":t+""))}function lv(t){return function(e){this.textContent=t.call(this,e)}}function sv(t){var e,n;function i(){var o=t.apply(this,arguments);return o!==n&&(e=(n=o)&&lv(o)),e}return i._value=t,i}function av(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,sv(t))}function uv(){for(var t=this._name,e=this._id,n=Ya(),i=this._groups,o=i.length,r=0;r<o;++r)for(var l=i[r],a=l.length,s,u=0;u<a;++u)if(s=l[u]){var f=ct(s,e);Zi(s,t,n,u,l,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new St(i,this._parents,t,n)}function fv(){var t,e,n=this,i=n._id,o=n.size();return new Promise(function(r,l){var a={value:l},s={value:function(){--o===0&&r()}};n.each(function(){var u=gt(this,i),f=u.on;f!==t&&(e=(t=f).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(s)),u.on=e}),o===0&&r()})}var cv=0;function St(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function Ya(){return++cv}var vt=Xn.prototype;St.prototype={constructor:St,select:K1,selectAll:U1,selectChild:vt.selectChild,selectChildren:vt.selectChildren,filter:D1,merge:B1,selection:Y1,transition:uv,call:vt.call,nodes:vt.nodes,node:vt.node,size:vt.size,empty:vt.empty,each:vt.each,on:H1,attr:k1,attrTween:T1,style:z1,styleTween:nv,text:rv,textTween:av,remove:W1,tween:m1,delay:M1,duration:L1,ease:R1,easeVarying:$1,end:fv,[Symbol.iterator]:vt[Symbol.iterator]};function dv(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var pv={time:null,delay:0,duration:250,ease:dv};function hv(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function mv(t){var e,n;t instanceof St?(e=t._id,t=t._name):(e=Ya(),(n=pv).time=tr(),t=t==null?null:t+"");for(var i=this._groups,o=i.length,r=0;r<o;++r)for(var l=i[r],a=l.length,s,u=0;u<a;++u)(s=l[u])&&Zi(s,t,e,u,l,n||hv(s,e));return new St(i,this._parents,t,e)}Xn.prototype.interrupt=d1;Xn.prototype.transition=mv;const Lo=Math.PI,Fo=2*Lo,Gt=1e-6,_v=Fo-Gt;function Xa(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function gv(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Xa;const n=10**e;return function(i){this._+=i[0];for(let o=1,r=i.length;o<r;++o)this._+=Math.round(arguments[o]*n)/n+i[o]}}class bv{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Xa:gv(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,i,o){this._append`Q${+e},${+n},${this._x1=+i},${this._y1=+o}`}bezierCurveTo(e,n,i,o,r,l){this._append`C${+e},${+n},${+i},${+o},${this._x1=+r},${this._y1=+l}`}arcTo(e,n,i,o,r){if(e=+e,n=+n,i=+i,o=+o,r=+r,r<0)throw new Error(`negative radius: ${r}`);let l=this._x1,a=this._y1,s=i-e,u=o-n,f=l-e,c=a-n,d=f*f+c*c;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(d>Gt)if(!(Math.abs(c*s-u*f)>Gt)||!r)this._append`L${this._x1=e},${this._y1=n}`;else{let h=i-l,_=o-a,g=s*s+u*u,v=h*h+_*_,k=Math.sqrt(g),A=Math.sqrt(d),P=r*Math.tan((Lo-Math.acos((g+d-v)/(2*k*A)))/2),$=P/A,R=P/k;Math.abs($-1)>Gt&&this._append`L${e+$*f},${n+$*c}`,this._append`A${r},${r},0,0,${+(c*h>f*_)},${this._x1=e+R*s},${this._y1=n+R*u}`}}arc(e,n,i,o,r,l){if(e=+e,n=+n,i=+i,l=!!l,i<0)throw new Error(`negative radius: ${i}`);let a=i*Math.cos(o),s=i*Math.sin(o),u=e+a,f=n+s,c=1^l,d=l?o-r:r-o;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>Gt||Math.abs(this._y1-f)>Gt)&&this._append`L${u},${f}`,i&&(d<0&&(d=d%Fo+Fo),d>_v?this._append`A${i},${i},0,1,${c},${e-a},${n-s}A${i},${i},0,1,${c},${this._x1=u},${this._y1=f}`:d>Gt&&this._append`A${i},${i},0,${+(d>=Lo)},${c},${this._x1=e+i*Math.cos(r)},${this._y1=n+i*Math.sin(r)}`)}rect(e,n,i,o){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${i=+i}v${+o}h${-i}Z`}toString(){return this._}}function vv(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Gi(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]}function bn(t){return t=Gi(Math.abs(t)),t?t[1]:NaN}function yv(t,e){return function(n,i){for(var o=n.length,r=[],l=0,a=t[0],s=0;o>0&&a>0&&(s+a+1>i&&(a=Math.max(1,i-s)),r.push(n.substring(o-=a,o+a)),!((s+=a+1)>i));)a=t[l=(l+1)%t.length];return r.reverse().join(e)}}function wv(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var kv=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ji(t){if(!(e=kv.exec(t)))throw new Error("invalid format: "+t);var e;return new or({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}ji.prototype=or.prototype;function or(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}or.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Cv(t){e:for(var e=t.length,n=1,i=-1,o;n<e;++n)switch(t[n]){case".":i=o=n;break;case"0":i===0&&(i=n),o=n;break;default:if(!+t[n])break e;i>0&&(i=0);break}return i>0?t.slice(0,i)+t.slice(o+1):t}var Za;function Av(t,e){var n=Gi(t,e);if(!n)return t+"";var i=n[0],o=n[1],r=o-(Za=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,l=i.length;return r===l?i:r>l?i+new Array(r-l+1).join("0"):r>0?i.slice(0,r)+"."+i.slice(r):"0."+new Array(1-r).join("0")+Gi(t,Math.max(0,e+r-1))[0]}function bs(t,e){var n=Gi(t,e);if(!n)return t+"";var i=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+i:i.length>o+1?i.slice(0,o+1)+"."+i.slice(o+1):i+new Array(o-i.length+2).join("0")}const vs={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:vv,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>bs(t*100,e),r:bs,s:Av,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function ys(t){return t}var ws=Array.prototype.map,ks=["y","z","a","f","p","n","¬µ","m","","k","M","G","T","P","E","Z","Y"];function Sv(t){var e=t.grouping===void 0||t.thousands===void 0?ys:yv(ws.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",i=t.currency===void 0?"":t.currency[1]+"",o=t.decimal===void 0?".":t.decimal+"",r=t.numerals===void 0?ys:wv(ws.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"‚àí":t.minus+"",s=t.nan===void 0?"NaN":t.nan+"";function u(c){c=ji(c);var d=c.fill,h=c.align,_=c.sign,g=c.symbol,v=c.zero,k=c.width,A=c.comma,P=c.precision,$=c.trim,R=c.type;R==="n"?(A=!0,R="g"):vs[R]||(P===void 0&&(P=12),$=!0,R="g"),(v||d==="0"&&h==="=")&&(v=!0,d="0",h="=");var F=g==="$"?n:g==="#"&&/[boxX]/.test(R)?"0"+R.toLowerCase():"",j=g==="$"?i:/[%p]/.test(R)?l:"",K=vs[R],p=/[defgprs%]/.test(R);P=P===void 0?6:/[gprs]/.test(R)?Math.max(1,Math.min(21,P)):Math.max(0,Math.min(20,P));function D(T){var b=F,m=j,M,q,E;if(R==="c")m=K(T)+m,T="";else{T=+T;var U=T<0||1/T<0;if(T=isNaN(T)?s:K(Math.abs(T),P),$&&(T=Cv(T)),U&&+T==0&&_!=="+"&&(U=!1),b=(U?_==="("?_:a:_==="-"||_==="("?"":_)+b,m=(R==="s"?ks[8+Za/3]:"")+m+(U&&_==="("?")":""),p){for(M=-1,q=T.length;++M<q;)if(E=T.charCodeAt(M),48>E||E>57){m=(E===46?o+T.slice(M+1):T.slice(M))+m,T=T.slice(0,M);break}}}A&&!v&&(T=e(T,1/0));var J=b.length+T.length+m.length,ee=J<k?new Array(k-J+1).join(d):"";switch(A&&v&&(T=e(ee+T,ee.length?k-m.length:1/0),ee=""),h){case"<":T=b+T+m+ee;break;case"=":T=b+ee+T+m;break;case"^":T=ee.slice(0,J=ee.length>>1)+b+T+m+ee.slice(J);break;default:T=ee+b+T+m;break}return r(T)}return D.toString=function(){return c+""},D}function f(c,d){var h=u((c=ji(c),c.type="f",c)),_=Math.max(-8,Math.min(8,Math.floor(bn(d)/3)))*3,g=Math.pow(10,-_),v=ks[8+_/3];return function(k){return h(g*k)+v}}return{format:u,formatPrefix:f}}var ri,Qa,xa;Nv({thousands:",",grouping:[3],currency:["$",""]});function Nv(t){return ri=Sv(t),Qa=ri.format,xa=ri.formatPrefix,ri}function Tv(t){return Math.max(0,-bn(Math.abs(t)))}function Iv(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(bn(e)/3)))*3-bn(Math.abs(t)))}function Ev(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,bn(e)-bn(t))+1}function Mv(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Pv(t){return function(){return t}}function Ov(t){return+t}var Cs=[0,1];function un(t){return t}function Ro(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Pv(isNaN(e)?NaN:.5)}function Lv(t,e){var n;return t>e&&(n=t,t=e,e=n),function(i){return Math.max(t,Math.min(e,i))}}function Fv(t,e,n){var i=t[0],o=t[1],r=e[0],l=e[1];return o<i?(i=Ro(o,i),r=n(l,r)):(i=Ro(i,o),r=n(r,l)),function(a){return r(i(a))}}function Rv(t,e,n){var i=Math.min(t.length,e.length)-1,o=new Array(i),r=new Array(i),l=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<i;)o[l]=Ro(t[l],t[l+1]),r[l]=n(e[l],e[l+1]);return function(a){var s=Rg(t,a,1,i)-1;return r[s](o[s](a))}}function qv(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function $v(){var t=Cs,e=Cs,n=er,i,o,r,l=un,a,s,u;function f(){var d=Math.min(t.length,e.length);return l!==un&&(l=Lv(t[0],t[d-1])),a=d>2?Rv:Fv,s=u=null,c}function c(d){return d==null||isNaN(d=+d)?r:(s||(s=a(t.map(i),e,n)))(i(l(d)))}return c.invert=function(d){return l(o((u||(u=a(e,t.map(i),ut)))(d)))},c.domain=function(d){return arguments.length?(t=Array.from(d,Ov),f()):t.slice()},c.range=function(d){return arguments.length?(e=Array.from(d),f()):e.slice()},c.rangeRound=function(d){return e=Array.from(d),n=zb,f()},c.clamp=function(d){return arguments.length?(l=d?!0:un,f()):l!==un},c.interpolate=function(d){return arguments.length?(n=d,f()):n},c.unknown=function(d){return arguments.length?(r=d,c):r},function(d,h){return i=d,o=h,f()}}function Dv(){return $v()(un,un)}function Bv(t,e,n,i){var o=Gg(t,e,n),r;switch(i=ji(i??",f"),i.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return i.precision==null&&!isNaN(r=Iv(o,l))&&(i.precision=r),xa(i,l)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(r=Ev(o,Math.max(Math.abs(t),Math.abs(e))))&&(i.precision=r-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(r=Tv(o))&&(i.precision=r-(i.type==="%")*2);break}}return Qa(i)}function Gv(t){var e=t.domain;return t.ticks=function(n){var i=e();return Bg(i[0],i[i.length-1],n??10)},t.tickFormat=function(n,i){var o=e();return Bv(o[0],o[o.length-1],n??10,i)},t.nice=function(n){n==null&&(n=10);var i=e(),o=0,r=i.length-1,l=i[o],a=i[r],s,u,f=10;for(a<l&&(u=l,l=a,a=u,u=o,o=r,r=u);f-- >0;){if(u=Ao(l,a,n),u===s)return i[o]=l,i[r]=a,e(i);if(u>0)l=Math.floor(l/u)*u,a=Math.ceil(a/u)*u;else if(u<0)l=Math.ceil(l*u)/u,a=Math.floor(a*u)/u;else break;s=u}return t},t}function qo(){var t=Dv();return t.copy=function(){return qv(t,qo())},Mv.apply(t,arguments),Gv(t)}function ln(t){return function(){return t}}function jv(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const i=Math.floor(n);if(!(i>=0))throw new RangeError(`invalid digits: ${n}`);e=i}return t},()=>new bv(e)}function Hv(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function za(t){this._context=t}za.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Vv(t){return new za(t)}function Wv(t){return t[0]}function Kv(t){return t[1]}function fo(t,e){var n=ln(!0),i=null,o=Vv,r=null,l=jv(a);t=typeof t=="function"?t:t===void 0?Wv:ln(t),e=typeof e=="function"?e:e===void 0?Kv:ln(e);function a(s){var u,f=(s=Hv(s)).length,c,d=!1,h;for(i==null&&(r=o(h=l())),u=0;u<=f;++u)!(u<f&&n(c=s[u],u,s))===d&&((d=!d)?r.lineStart():r.lineEnd()),d&&r.point(+t(c,u,s),+e(c,u,s));if(h)return r=null,h+""||null}return a.x=function(s){return arguments.length?(t=typeof s=="function"?s:ln(+s),a):t},a.y=function(s){return arguments.length?(e=typeof s=="function"?s:ln(+s),a):e},a.defined=function(s){return arguments.length?(n=typeof s=="function"?s:ln(!!s),a):n},a.curve=function(s){return arguments.length?(o=s,i!=null&&(r=o(i)),a):o},a.context=function(s){return arguments.length?(s==null?i=r=null:r=o(i=s),a):i},a}function qn(t,e,n){this.k=t,this.x=e,this.y=n}qn.prototype={constructor:qn,scale:function(t){return t===1?this:new qn(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new qn(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};qn.prototype;function Uv(t){let e;return{c(){e=Vi("svg"),L(e,"id","line-chart")},m(n,i){w(n,e,i)},p:ae,i:ae,o:ae,d(n){n&&y(e)}}}const As=52;function Jv(t,e,n){let{data:i=[]}=e,o,r,l;const a={top:10,right:30,bottom:10,left:20},s=500-a.left-a.right,u=400-a.top-a.bottom;fo().x((_,g)=>r(g)).y(_=>l(_)),Ds(()=>{n(1,o=Mb("#line-chart").attr("width",s+a.left+a.right).attr("height",u+a.top+a.bottom)),r=qo().range([0,s]),l=qo().range([u,0]),i.length&&f()});function f(){const _=i.length>As?i.slice(-As):i;c(_),d(_),h()}function c(_){o.selectAll(".line").remove();const g=fo().defined(k=>k>-5).x((k,A)=>r(A)).y(k=>l(k)),v=fo().defined(k=>k<0).x((k,A)=>r(A)).y(k=>l(k));o.append("path").datum(_).attr("class","line positive").attr("d",g).attr("transform",`translate(${a.left},${a.top})`).attr("fill","none").attr("stroke","green").attr("stroke-width",2),o.append("path").datum(_).attr("class","line negative").attr("d",v).attr("transform",`translate(${a.left},${a.top})`).attr("fill","none").attr("stroke","red").attr("stroke-width",2)}function d(_){const g=Math.max(0,..._),v=Math.min(0,..._);r.domain([0,_.length-1]),l.domain([v,g]).nice()}function h(_){const g=Jg(r).ticks(0),v=Yg(l).ticks(10);o.selectAll(".axis").remove(),o.append("g").attr("class","axis x-axis").attr("transform",`translate(${a.left},${u+a.top})`).call(g),o.append("g").attr("class","axis y-axis").attr("transform",`translate(${a.left},${a.top})`).call(v)}return t.$$set=_=>{"data"in _&&n(0,i=_.data)},t.$$.update=()=>{t.$$.dirty&3&&i&&o&&f()},[i,o]}class Yv extends me{constructor(e){super(),he(this,e,Jv,Uv,le,{data:0})}}function Xv(t){let e,n=t[1].townInfo.knowledge_points+"",i,o;return{c(){e=B("Manage your Knowledge ("),i=B(n),o=B(" pts)")},m(r,l){w(r,e,l),w(r,i,l),w(r,o,l)},p(r,l){l&2&&n!==(n=r[1].townInfo.knowledge_points+"")&&ge(i,n)},d(r){r&&(y(e),y(i),y(o))}}}function Zv(t){let e,n,i,o;return e=new Qt({props:{$$slots:{default:[Xv]},$$scope:{ctx:t}}}),i=new en({}),{c(){Q(e.$$.fragment),n=W(),Q(i.$$.fragment)},m(r,l){Y(e,r,l),w(r,n,l),Y(i,r,l),o=!0},p(r,l){const a={};l&1026&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){o||(C(e.$$.fragment,r),C(i.$$.fragment,r),o=!0)},o(r){S(e.$$.fragment,r),S(i.$$.fragment,r),o=!1},d(r){r&&y(n),X(e,r),X(i,r)}}}function Ss(t){let e,n,i=Ts(t[1].townInfo.knowledge_points*t[3])+"",o,r;return{c(){e=O("br"),n=B(`
					(total value: $`),o=B(i),r=B(")")},m(l,a){w(l,e,a),w(l,n,a),w(l,o,a),w(l,r,a)},p(l,a){a&10&&i!==(i=Ts(l[1].townInfo.knowledge_points*l[3])+"")&&ge(o,i)},d(l){l&&(y(e),y(n),y(o),y(r))}}}function Ns(t){let e;return{c(){e=O("div"),e.innerHTML='Wait until the market value is <span class="text-green-500">positive</span> to sell your Knowledge for Gold.'},m(n,i){w(n,e,i)},d(n){n&&y(e)}}}function Qv(t){let e;return{c(){e=O("div"),e.textContent="Get a bank to convert üè¶",L(e,"class","font-bold")},m(n,i){w(n,e,i)},p:ae,i:ae,o:ae,d(n){n&&y(e)}}}function xv(t){let e,n,i;return n=new Cn({props:{variant:"default",$$slots:{default:[zv]},$$scope:{ctx:t}}}),n.$on("click",t[0]),{c(){e=O("div"),Q(n.$$.fragment)},m(o,r){w(o,e,r),Y(n,e,null),i=!0},p(o,r){const l={};r&1024&&(l.$$scope={dirty:r,ctx:o}),n.$set(l)},i(o){i||(C(n.$$.fragment,o),i=!0)},o(o){S(n.$$.fragment,o),i=!1},d(o){o&&y(e),X(n)}}}function zv(t){let e;return{c(){e=B("Convert Knowledge to Gold")},m(n,i){w(n,e,i)},d(n){n&&y(e)}}}function ey(t){let e,n,i,o,r,l,a,s,u=(t[3]??0)+"",f,c,d,h,_,g,v,k,A,P,$,R,F;e=new xt({props:{$$slots:{default:[Zv]},$$scope:{ctx:t}}});let j=t[3]>0&&Ss(t);g=new Yv({props:{data:t[2]}});let K=t[3]<0&&Ns();const p=[xv,Qv],D=[];function T(b,m){return b[1].hasBank&&b[3]>0?0:b[3]>0?1:-1}return~(A=T(t))&&(P=D[A]=p[A](t)),R=new kn({}),{c(){Q(e.$$.fragment),n=W(),i=O("span"),i.textContent="Knowledge is power, unlock it!",o=W(),r=O("div"),l=O("div"),a=B("Market Rate: "),s=O("span"),f=B(u),c=B(" gold"),h=B(`
				per Knowledge Point
				`),j&&j.c(),_=W(),Q(g.$$.fragment),v=W(),K&&K.c(),k=W(),P&&P.c(),$=W(),Q(R.$$.fragment),L(i,"class","italic"),L(s,"class",d=t[3]<0?"text-red-500":"text-green-500"),L(r,"class","py-0 flex flex-col gap-4 text-gray-400 overflow-x-auto")},m(b,m){Y(e,b,m),w(b,n,m),w(b,i,m),w(b,o,m),w(b,r,m),I(r,l),I(l,a),I(l,s),I(s,f),I(s,c),I(l,h),j&&j.m(l,null),I(r,_),Y(g,r,null),I(r,v),K&&K.m(r,null),I(r,k),~A&&D[A].m(r,null),w(b,$,m),Y(R,b,m),F=!0},p(b,m){const M={};m&1026&&(M.$$scope={dirty:m,ctx:b}),e.$set(M),(!F||m&8)&&u!==(u=(b[3]??0)+"")&&ge(f,u),(!F||m&8&&d!==(d=b[3]<0?"text-red-500":"text-green-500"))&&L(s,"class",d),b[3]>0?j?j.p(b,m):(j=Ss(b),j.c(),j.m(l,null)):j&&(j.d(1),j=null);const q={};m&4&&(q.data=b[2]),g.$set(q),b[3]<0?K||(K=Ns(),K.c(),K.m(r,k)):K&&(K.d(1),K=null);let E=A;A=T(b),A===E?~A&&D[A].p(b,m):(P&&(Pe(),S(D[E],1,1,()=>{D[E]=null}),Oe()),~A?(P=D[A],P?P.p(b,m):(P=D[A]=p[A](b),P.c()),C(P,1),P.m(r,null)):P=null)},i(b){F||(C(e.$$.fragment,b),C(g.$$.fragment,b),C(P),C(R.$$.fragment,b),F=!0)},o(b){S(e.$$.fragment,b),S(g.$$.fragment,b),S(P),S(R.$$.fragment,b),F=!1},d(b){b&&(y(n),y(i),y(o),y(r),y($)),X(e,b),j&&j.d(),X(g),K&&K.d(),~A&&D[A].d(),X(R,b)}}}function ty(t){let e,n;return e=new zt({props:{$$slots:{default:[ey]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},p(i,o){const r={};o&1038&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(C(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){X(e,i)}}}function ny(t){let e,n,i;function o(l){t[5](l)}let r={$$slots:{default:[ty]},$$scope:{ctx:t}};return t[4]!==void 0&&(r.open=t[4]),e=new tn({props:r}),we.push(()=>Zt(e,"open",o)),{c(){Q(e.$$.fragment)},m(l,a){Y(e,l,a),i=!0},p(l,[a]){const s={};a&1038&&(s.$$scope={dirty:a,ctx:l}),!n&&a&16&&(n=!0,s.open=l[4],Xt(()=>n=!1)),e.$set(s)},i(l){i||(C(e.$$.fragment,l),i=!0)},o(l){S(e.$$.fragment,l),i=!1},d(l){X(e,l)}}}function Ts(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function iy(t,e,n){let i,o;se(t,Ie,f=>n(1,i=f)),se(t,ki,f=>n(4,o=f)),ze[i.endGoal],Ki[i.difficulty];let l,a=0;function s(){let f=i;i.hasBank===!0?(f.townInfo.gold+=Math.round(f.townInfo.knowledge_points*a),f.townInfo.knowledge_points=0,Ie.set(f),localStorage.setItem(rt,JSON.stringify(f))):alert("You need a bank to convert knowledge to gold.")}function u(f){o=f,ki.set(o)}return t.$$.update=()=>{t.$$.dirty&2&&i&&(n(2,l=i.economyAndLaws.knowledge_gold_market_rates),n(3,a=i.economyAndLaws.knowledge_gold_market_rates[i.economyAndLaws.knowledge_gold_market_rates.length-1]))},[s,i,l,a,o,u]}class oy extends me{constructor(e){super(),he(this,e,iy,ny,le,{convertKnowledgeToGold:0})}get convertKnowledgeToGold(){return this.$$.ctx[0]}}function Is(t){let e,n,i,o;const r=[ly,ry],l=[];function a(s,u){return s[0]==null?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),i=Se()},m(s,u){l[e].m(s,u),w(s,i,u),o=!0},p(s,u){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(i.parentNode,i))},i(s){o||(C(n),o=!0)},o(s){S(n),o=!1},d(s){s&&y(i),l[e].d(s)}}}function ry(t){let e,n,i,o,r,l,a,s,u,f,c,d,h,_,g,v,k,A,P,$,R,F,j=t[2]==!0&&Es(),K=t[3]==!0&&Ms();return i=new k_({}),r=new om({}),a=new lg({}),u=new Mg({}),c=new oy({}),h=new h_({}),k=new Xh({}),{c(){j&&j.c(),e=W(),K&&K.c(),n=W(),Q(i.$$.fragment),o=W(),Q(r.$$.fragment),l=W(),Q(a.$$.fragment),s=W(),Q(u.$$.fragment),f=W(),Q(c.$$.fragment),d=W(),Q(h.$$.fragment),_=W(),g=O("div"),v=O("div"),Q(k.$$.fragment),A=W(),P=O("br"),$=W(),R=O("style"),R.textContent=`#plot_grid {
				overflow-x: scroll;
				overflow-y: scroll;
				scroll-behavior: smooth;
			}
			/* no visible scrollbars */
			#plot_grid::-webkit-scrollbar {
				display: none;
			}

			#plot_grid[data-marginRight='true'] {
				/* This is for when the balanceSheet is being shown. */
				margin-right: 224px;
			}

			html {
				overflow: scroll;
			}

			::-webkit-scrollbar {
				width: 0px;
				background: transparent; /* make scrollbar transparent */
			}`,L(v,"id","plot_grid"),L(v,"data-marginright",t[3]),hn(v,"margin-top",t[4]+"px"),L(v,"class","scroll-smooth no-scrollbar overflow-x "),L(g,"class","justify-center text-center align-middle <!-- center horiz --> flex ")},m(p,D){j&&j.m(p,D),w(p,e,D),K&&K.m(p,D),w(p,n,D),Y(i,p,D),w(p,o,D),Y(r,p,D),w(p,l,D),Y(a,p,D),w(p,s,D),Y(u,p,D),w(p,f,D),Y(c,p,D),w(p,d,D),Y(h,p,D),w(p,_,D),w(p,g,D),I(g,v),Y(k,v,null),I(v,A),I(v,P),w(p,$,D),w(p,R,D),F=!0},p(p,D){p[2]==!0?j?D&4&&C(j,1):(j=Es(),j.c(),C(j,1),j.m(e.parentNode,e)):j&&(Pe(),S(j,1,1,()=>{j=null}),Oe()),p[3]==!0?K?D&8&&C(K,1):(K=Ms(),K.c(),C(K,1),K.m(n.parentNode,n)):K&&(Pe(),S(K,1,1,()=>{K=null}),Oe()),(!F||D&8)&&L(v,"data-marginright",p[3]),(!F||D&16)&&hn(v,"margin-top",p[4]+"px")},i(p){F||(C(j),C(K),C(i.$$.fragment,p),C(r.$$.fragment,p),C(a.$$.fragment,p),C(u.$$.fragment,p),C(c.$$.fragment,p),C(h.$$.fragment,p),C(k.$$.fragment,p),F=!0)},o(p){S(j),S(K),S(i.$$.fragment,p),S(r.$$.fragment,p),S(a.$$.fragment,p),S(u.$$.fragment,p),S(c.$$.fragment,p),S(h.$$.fragment,p),S(k.$$.fragment,p),F=!1},d(p){p&&(y(e),y(n),y(o),y(l),y(s),y(f),y(d),y(_),y(g),y($),y(R)),j&&j.d(p),K&&K.d(p),X(i,p),X(r,p),X(a,p),X(u,p),X(c,p),X(h,p),X(k)}}}function ly(t){let e,n;return e=new wg({}),{c(){Q(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},p:ae,i(i){n||(C(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){X(e,i)}}}function Es(t){let e,n;return e=new Z_({}),{c(){Q(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},i(i){n||(C(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){X(e,i)}}}function Ms(t){let e,n;return e=new ma({}),{c(){Q(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},i(i){n||(C(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){X(e,i)}}}function sy(t){let e,n,i=(t[1]||t[0]==null)&&Is(t);return{c(){i&&i.c(),e=Se()},m(o,r){i&&i.m(o,r),w(o,e,r),n=!0},p(o,[r]){o[1]||o[0]==null?i?(i.p(o,r),r&3&&C(i,1)):(i=Is(o),i.c(),C(i,1),i.m(e.parentNode,e)):i&&(Pe(),S(i,1,1,()=>{i=null}),Oe())},i(o){n||(C(i),n=!0)},o(o){S(i),n=!1},d(o){o&&y(e),i&&i.d(o)}}}function ay(t,e,n){let i,o,r,l,a,s,u;se(t,mn,_=>n(7,i=_)),se(t,Ke,_=>n(8,o=_)),se(t,At,_=>n(2,r=_)),se(t,Ie,_=>n(0,l=_)),se(t,Dn,_=>n(9,a=_)),se(t,wi,_=>n(3,s=_)),se(t,ho,_=>n(4,u=_));let f=!1,c=!1;window.addEventListener("resize",()=>{window.innerWidth<800&&alert("Your screen is too small to play this game. Please use a larger screen.")}),document.addEventListener("keydown",_=>{if((document.activeElement!=null&&document.activeElement.nodeName==="INPUT"||document.activeElement!=null&&document.activeElement.nodeName=="TEXTAREA")&&_.key!=="Escape")return;switch(_.key.toLowerCase()){case"p":r==!0?At.set(!1):(At.set(!0),Ce(Ke,o.visible=!1,o));break;case"escape":_.shiftKey?(Ce(At,r=!0,r),localStorage.setItem("reset","true"),location.reload(),Wo()):o.visible==!0&&Ce(Ke,o.visible=!1,o);break;case"arrowleft":case"a":_.preventDefault(),d(0,-1,"up");break;case"arrowright":case"d":_.preventDefault(),d(0,1,"down");break;case"arrowup":case"w":_.preventDefault(),d(-1,0,"left");break;case"arrowdown":case"s":_.preventDefault(),d(1,0,"right");break}});function d(_,g,v){if(o.visible===!1&&o.x===0&&o.y===0)h(0,0,v);else{let k=o.x,A=o.y;k+_<0?k=0:k+_>l.plots.length?k=l.plots.length:k+=_,A+g<0?A=0:A+g>l.plots.length?A=l.plots.length:A+=g,h(k,A,v)}}function h(_,g,v){if(c==!0)switch(v){case"up":g-=2;break;case"down":g+=1;break;case"left":_-=2;break;case"right":_+=1;break}_<0?_=0:_>l.plots.length&&(_=l.plots.length),g<0?g=0:g>l.plots.length&&(g=l.plots.length);let k=document.querySelectorAll(".plot_container"),A;if(k.forEach(P=>{P.dataset.x=="$x"&&P.dataset.y=="$y"&&(A=P)}),r==!1){if(A.dataset.canBeUpgraded==="true"?Ce(Ke,o.visible=!0,o):Ce(Ke,o.visible=!1,o),A.dataset.refPlotX!==void 0&&A.dataset.refPlotY!=""?(c=!0,k.forEach(P=>{P.dataset.x==A.dataset.refPlotX&&P.dataset.y==A.dataset.refPlotY&&(A=P,_=parseInt(A.dataset.x),g=parseInt(A.dataset.y))})):c=!1,A.dataset.size!=="1"&&A.dataset.size!==void 0&&(c=!0),Ce(Ke,o.x=_,o),Ce(Ke,o.y=g,o),k.forEach(P=>{P.classList.remove("selected"),P.style.fontWeight=""}),A.classList.add("selected"),c){let P="4px solid #00800045";A.classList.remove("selected"),A.style.borderTop=P,A.style.borderLeft=P,A.style.fontWeight="600",k.forEach($=>{const R=parseInt(`${$.dataset.x}`),F=parseInt(`${$.dataset.y}`);R==_+1&&F==g&&($.style.borderLeft=P,$.style.borderBottom=P),R==_&&F==g+1&&($.style.borderTop=P,$.style.borderRight=P),R==_+1&&F==g+1&&($.style.borderBottom=P,$.style.borderRight=P)})}A.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),Ce(mn,i={},i)}}return t.$$.update=()=>{t.$$.dirty&1&&(l?(Ce(Dn,a.visible=!1,a),n(1,f=!0)):(Ce(Dn,a.visible=!0,a),n(1,f=!1)))},[l,f,r,s,u,h]}class uy extends me{constructor(e){super(),he(this,e,ay,sy,le,{openPlotMenu:5})}get openPlotMenu(){return this.$$.ctx[5]}}new uy({target:document.getElementById("app")});
