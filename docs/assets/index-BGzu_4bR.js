var Jd=Object.defineProperty;var xd=(t,e,n)=>e in t?Jd(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var mn=(t,e,n)=>(xd(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();function Zd(t){const e=pako.gzip(JSON.stringify(t));return btoa(String.fromCharCode.apply(null,e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function Qd(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=atob(e),o=new Uint8Array(n.length);for(let r=0;r<n.length;r++)o[r]=n.charCodeAt(r);const i=pako.ungzip(o,{to:"string"});return JSON.parse(i)}async function zd(){let t=localStorage.getItem("plots_active_game_db");const e=await Zd(t);console.log("http://localhost:5173/plots/?shareId="+e)}const Kr=window.location.search.substring(1).split("&").reduce((t,e)=>{const[n,o]=e.split("=");return t[n]=o,t},{});if(Kr.shareId!=null||Kr.shareId!=null){console.log("DECRYPING FROM shareId");const t=JSON.parse(Qd(Kr.shareId));let e=localStorage.getItem("plots_active_game_db");(e==""||e==null)&&localStorage.setItem("plots_active_game_db",JSON.stringify(t))}else console.log("COMPRESSING GAME TO SHARE"),zd();function Ae(){}const vr=t=>t;function Y(t,e){for(const n in e)t[n]=e[n];return t}function mc(t){return t()}function Vs(){return Object.create(null)}function je(t){t.forEach(mc)}function An(t){return typeof t=="function"}function fe(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let Ti;function em(t,e){return t===e?!0:(Ti||(Ti=document.createElement("a")),Ti.href=e,t===Ti.href)}function tm(t){return Object.keys(t).length===0}function jl(t,...e){if(t==null){for(const o of e)o(void 0);return Ae}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function pc(t){let e;return jl(t,n=>e=n)(),e}function ae(t,e,n){t.$$.on_destroy.push(jl(e,n))}function de(t,e,n,o){if(t){const i=hc(t,e,n,o);return t[0](i)}}function hc(t,e,n,o){return t[1]&&o?Y(n.ctx.slice(),t[1](o(e))):n.ctx}function me(t,e,n,o){if(t[2]&&o){const i=t[2](o(n));if(e.dirty===void 0)return i;if(typeof i=="object"){const r=[],l=Math.max(e.dirty.length,i.length);for(let a=0;a<l;a+=1)r[a]=e.dirty[a]|i[a];return r}return e.dirty|i}return e.dirty}function pe(t,e,n,o,i,r){if(i){const l=hc(e,n,o,r);t.p(l,i)}}function he(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let o=0;o<n;o++)e[o]=-1;return e}return-1}function Ne(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function re(t,e){const n={};e=new Set(e);for(const o in t)!e.has(o)&&o[0]!=="$"&&(n[o]=t[o]);return n}function Ee(t,e,n){return t.set(n),e}function Fe(t){return t&&An(t.destroy)?t.destroy:Ae}const _c=typeof window<"u";let Bl=_c?()=>window.performance.now():()=>Date.now(),Gl=_c?t=>requestAnimationFrame(t):Ae;const lo=new Set;function gc(t){lo.forEach(e=>{e.c(t)||(lo.delete(e),e.f())}),lo.size!==0&&Gl(gc)}function Vl(t){let e;return lo.size===0&&Gl(gc),{promise:new Promise(n=>{lo.add(e={c:t,f:n})}),abort(){lo.delete(e)}}}function v(t,e){t.appendChild(e)}function bc(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function nm(t){const e=M("style");return e.textContent="/* empty */",om(bc(t),e),e.sheet}function om(t,e){return v(t.head||t,e),e.sheet}function I(t,e,n){t.insertBefore(e,n||null)}function T(t){t.parentNode&&t.parentNode.removeChild(t)}function wt(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function M(t){return document.createElement(t)}function yr(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function G(t){return document.createTextNode(t)}function W(){return G(" ")}function Re(){return G("")}function te(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function O(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}const im=["width","height"];function le(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const o in e)e[o]==null?t.removeAttribute(o):o==="style"?t.style.cssText=e[o]:o==="__value"?t.value=t[o]=e[o]:n[o]&&n[o].set&&im.indexOf(o)===-1?t[o]=e[o]:O(t,o,e[o])}function Ki(t,e){for(const n in e)O(t,n,e[n])}function rm(t,e){Object.keys(e).forEach(n=>{lm(t,n,e[n])})}function lm(t,e,n){const o=e.toLowerCase();o in t?t[o]=typeof t[o]=="boolean"&&n===""?!0:n:e in t?t[e]=typeof t[e]=="boolean"&&n===""?!0:n:O(t,e,n)}function vn(t){return/-/.test(t)?rm:le}function sm(t){return Array.from(t.childNodes)}function se(t,e){e=""+e,t.data!==e&&(t.data=e)}function zt(t,e){t.value=e??""}function Je(t,e,n,o){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,"")}function Hs(t,e,n){for(let o=0;o<t.options.length;o+=1){const i=t.options[o];if(i.__value===e){i.selected=!0;return}}t.selectedIndex=-1}function pn(t,e,n){t.classList.toggle(e,!!n)}function vc(t,e,{bubbles:n=!1,cancelable:o=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:o})}class hn{constructor(e=!1){mn(this,"is_svg",!1);mn(this,"e");mn(this,"n");mn(this,"t");mn(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,n,o=null){this.e||(this.is_svg?this.e=yr(n.nodeName):this.e=M(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(e)),this.i(o)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)I(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(T)}}const Ui=new Map;let Yi=0;function am(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function um(t,e){const n={stylesheet:nm(e),rules:{}};return Ui.set(t,n),n}function Xi(t,e,n,o,i,r,l,a=0){const s=16.666/o;let u=`{
`;for(let b=0;b<=1;b+=s){const y=e+(n-e)*r(b);u+=b*100+`%{${l(y,1-y)}}
`}const f=u+`100% {${l(n,1-n)}}
}`,c=`__svelte_${am(f)}_${a}`,d=bc(t),{stylesheet:m,rules:_}=Ui.get(d)||um(d,t);_[c]||(_[c]=!0,m.insertRule(`@keyframes ${c} ${f}`,m.cssRules.length));const h=t.style.animation||"";return t.style.animation=`${h?`${h}, `:""}${c} ${o}ms linear ${i}ms 1 both`,Yi+=1,c}function Ji(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?r=>r.indexOf(e)<0:r=>r.indexOf("__svelte")===-1),i=n.length-o.length;i&&(t.style.animation=o.join(", "),Yi-=i,Yi||fm())}function fm(){Gl(()=>{Yi||(Ui.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&T(e)}),Ui.clear())})}let Uo;function Wo(t){Uo=t}function ei(){if(!Uo)throw new Error("Function called outside component initialization");return Uo}function wr(t){ei().$$.on_mount.push(t)}function cm(t){ei().$$.on_destroy.push(t)}function dm(){const t=ei();return(e,n,{cancelable:o=!1}={})=>{const i=t.$$.callbacks[e];if(i){const r=vc(e,n,{cancelable:o});return i.slice().forEach(l=>{l.call(t,r)}),!r.defaultPrevented}return!0}}function kr(t,e){return ei().$$.context.set(t,e),e}function Cr(t){return ei().$$.context.get(t)}function oe(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(o=>o.call(this,e))}const oo=[],Pe=[];let so=[];const dl=[],yc=Promise.resolve();let ml=!1;function wc(){ml||(ml=!0,yc.then(kc))}function Hl(){return wc(),yc}function tt(t){so.push(t)}function Gn(t){dl.push(t)}const Ur=new Set;let zn=0;function kc(){if(zn!==0)return;const t=Uo;do{try{for(;zn<oo.length;){const e=oo[zn];zn++,Wo(e),mm(e.$$)}}catch(e){throw oo.length=0,zn=0,e}for(Wo(null),oo.length=0,zn=0;Pe.length;)Pe.pop()();for(let e=0;e<so.length;e+=1){const n=so[e];Ur.has(n)||(Ur.add(n),n())}so.length=0}while(oo.length);for(;dl.length;)dl.pop()();ml=!1,Ur.clear(),Wo(t)}function mm(t){if(t.fragment!==null){t.update(),je(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(tt)}}function pm(t){const e=[],n=[];so.forEach(o=>t.indexOf(o)===-1?e.push(o):n.push(o)),n.forEach(o=>o()),so=e}let No;function Wl(){return No||(No=Promise.resolve(),No.then(()=>{No=null})),No}function On(t,e,n){t.dispatchEvent(vc(`${e?"intro":"outro"}${n}`))}const qi=new Set;let Ht;function Ie(){Ht={r:0,c:[],p:Ht}}function Me(){Ht.r||je(Ht.c),Ht=Ht.p}function C(t,e){t&&t.i&&(qi.delete(t),t.i(e))}function S(t,e,n,o){if(t&&t.o){if(qi.has(t))return;qi.add(t),Ht.c.push(()=>{qi.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}else o&&o()}const $l={duration:0};function Xt(t,e,n){const o={direction:"in"};let i=e(t,n,o),r=!1,l,a,s=0;function u(){l&&Ji(t,l)}function f(){const{delay:d=0,duration:m=300,easing:_=vr,tick:h=Ae,css:b}=i||$l;b&&(l=Xi(t,0,1,m,d,_,b,s++)),h(0,1);const y=Bl()+d,A=y+m;a&&a.abort(),r=!0,tt(()=>On(t,!0,"start")),a=Vl(w=>{if(r){if(w>=A)return h(1,0),On(t,!0,"end"),u(),r=!1;if(w>=y){const R=_((w-y)/m);h(R,1-R)}}return r})}let c=!1;return{start(){c||(c=!0,Ji(t),An(i)?(i=i(o),Wl().then(f)):f())},invalidate(){c=!1},end(){r&&(u(),r=!1)}}}function Jt(t,e,n){const o={direction:"out"};let i=e(t,n,o),r=!0,l;const a=Ht;a.r+=1;let s;function u(){const{delay:f=0,duration:c=300,easing:d=vr,tick:m=Ae,css:_}=i||$l;_&&(l=Xi(t,1,0,c,f,d,_));const h=Bl()+f,b=h+c;tt(()=>On(t,!1,"start")),"inert"in t&&(s=t.inert,t.inert=!0),Vl(y=>{if(r){if(y>=b)return m(0,1),On(t,!1,"end"),--a.r||je(a.c),!1;if(y>=h){const A=d((y-h)/c);m(1-A,A)}}return r})}return An(i)?Wl().then(()=>{i=i(o),u()}):u(),{end(f){f&&"inert"in t&&(t.inert=s),f&&i.tick&&i.tick(1,0),r&&(l&&Ji(t,l),r=!1)}}}function Kt(t,e,n,o){let r=e(t,n,{direction:"both"}),l=o?0:1,a=null,s=null,u=null,f;function c(){u&&Ji(t,u)}function d(_,h){const b=_.b-l;return h*=Math.abs(b),{a:l,b:_.b,d:b,duration:h,start:_.start,end:_.start+h,group:_.group}}function m(_){const{delay:h=0,duration:b=300,easing:y=vr,tick:A=Ae,css:w}=r||$l,R={start:Bl()+h,b:_};_||(R.group=Ht,Ht.r+=1),"inert"in t&&(_?f!==void 0&&(t.inert=f):(f=t.inert,t.inert=!0)),a||s?s=R:(w&&(c(),u=Xi(t,l,_,b,h,y,w)),_&&A(0,1),a=d(R,b),tt(()=>On(t,_,"start")),Vl(V=>{if(s&&V>s.start&&(a=d(s,b),s=null,On(t,a.b,"start"),w&&(c(),u=Xi(t,l,a.b,a.duration,0,y,r.css))),a){if(V>=a.end)A(l=a.b,1-l),On(t,a.b,"end"),s||(a.b?c():--a.group.r||je(a.group.c)),a=null;else if(V>=a.start){const N=V-a.start;l=a.a+a.d*y(N/a.duration),A(l,1-l)}}return!!(a||s)}))}return{run(_){An(r)?Wl().then(()=>{r=r({direction:_?"in":"out"}),m(_)}):m(_)},end(){c(),a=s=null}}}function Ue(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function hm(t,e){S(t,1,1,()=>{e.delete(t.key)})}function _m(t,e,n,o,i,r,l,a,s,u,f,c){let d=t.length,m=r.length,_=d;const h={};for(;_--;)h[t[_].key]=_;const b=[],y=new Map,A=new Map,w=[];for(_=m;_--;){const H=c(i,r,_),F=n(H);let L=l.get(F);L?w.push(()=>L.p(H,e)):(L=u(F,H),L.c()),y.set(F,b[_]=L),F in h&&A.set(F,Math.abs(_-h[F]))}const R=new Set,V=new Set;function N(H){C(H,1),H.m(a,f),l.set(H.key,H),f=H.first,m--}for(;d&&m;){const H=b[m-1],F=t[d-1],L=H.key,X=F.key;H===F?(f=H.first,d--,m--):y.has(X)?!l.has(L)||R.has(L)?N(H):V.has(X)?d--:A.get(L)>A.get(X)?(V.add(L),N(H)):(R.add(X),d--):(s(F,l),d--)}for(;d--;){const H=t[d];y.has(H.key)||s(H,l)}for(;m;)N(b[m-1]);return je(w),b}function be(t,e){const n={},o={},i={$$scope:1};let r=t.length;for(;r--;){const l=t[r],a=e[r];if(a){for(const s in l)s in a||(o[s]=1);for(const s in a)i[s]||(n[s]=a[s],i[s]=1);t[r]=a}else for(const s in l)i[s]=1}for(const l in o)l in n||(n[l]=void 0);return n}function it(t){return typeof t=="object"&&t!==null?t:{}}function Vn(t,e,n){const o=t.$$.props[e];o!==void 0&&(t.$$.bound[o]=n,n(t.$$.ctx[o]))}function ee(t){t&&t.c()}function Q(t,e,n){const{fragment:o,after_update:i}=t.$$;o&&o.m(e,n),tt(()=>{const r=t.$$.on_mount.map(mc).filter(An);t.$$.on_destroy?t.$$.on_destroy.push(...r):je(r),t.$$.on_mount=[]}),i.forEach(tt)}function z(t,e){const n=t.$$;n.fragment!==null&&(pm(n.after_update),je(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function gm(t,e){t.$$.dirty[0]===-1&&(oo.push(t),wc(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ve(t,e,n,o,i,r,l=null,a=[-1]){const s=Uo;Wo(t);const u=t.$$={fragment:null,ctx:[],props:r,update:Ae,not_equal:i,bound:Vs(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(s?s.$$.context:[])),callbacks:Vs(),dirty:a,skip_bound:!1,root:e.target||s.$$.root};l&&l(u.root);let f=!1;if(u.ctx=n?n(t,e.props||{},(c,d,...m)=>{const _=m.length?m[0]:d;return u.ctx&&i(u.ctx[c],u.ctx[c]=_)&&(!u.skip_bound&&u.bound[c]&&u.bound[c](_),f&&gm(t,c)),d}):[],u.update(),f=!0,je(u.before_update),u.fragment=o?o(u.ctx):!1,e.target){if(e.hydrate){const c=sm(e.target);u.fragment&&u.fragment.l(c),c.forEach(T)}else u.fragment&&u.fragment.c();e.intro&&C(t.$$.fragment),Q(t,e.target,e.anchor),kc()}Wo(s)}class ye{constructor(){mn(this,"$$");mn(this,"$$set")}$destroy(){z(this,1),this.$destroy=Ae}$on(e,n){if(!An(n))return Ae;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const i=o.indexOf(n);i!==-1&&o.splice(i,1)}}$set(e){this.$$set&&!tm(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const bm="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(bm);const eo=[];function Nn(t,e){return{subscribe:Ke(t,e).subscribe}}function Ke(t,e=Ae){let n;const o=new Set;function i(a){if(fe(t,a)&&(t=a,n)){const s=!eo.length;for(const u of o)u[1](),eo.push(u,t);if(s){for(let u=0;u<eo.length;u+=2)eo[u][0](eo[u+1]);eo.length=0}}}function r(a){i(a(t))}function l(a,s=Ae){const u=[a,s];return o.add(u),o.size===1&&(n=e(i,r)||Ae),a(t),()=>{o.delete(u),o.size===0&&n&&(n(),n=null)}}return{set:i,update:r,subscribe:l}}function sn(t,e,n){const o=!Array.isArray(t),i=o?[t]:t;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const r=e.length<2;return Nn(n,(l,a)=>{let s=!1;const u=[];let f=0,c=Ae;const d=()=>{if(f)return;c();const _=e(o?u[0]:u,l,a);r?l(_):c=An(_)?_:Ae},m=i.map((_,h)=>jl(_,b=>{u[h]=b,f&=~(1<<h),s&&d()},()=>{f|=1<<h}));return s=!0,d(),function(){je(m),c(),s=!1}})}function Ws(t){return{subscribe:t.subscribe.bind(t)}}const vm={plots:[],timeSpent:0,devMode:!1,lastChangeDay:0,townLog:"",currentTutorialStep:0,townInfo:{name:"Your town",gold:150,population_count:0,population_max:0,employees:0,happiness:150,health:150,community:150,knowledge_points:0,productivity:100},resources:{food:50,wood:300,stone:300,metal:0,power:0,bureaucracy:0},resource_rate:{food:0,wood:0,stone:0,metal:0,bureaucracy:0,knowledge:0},hasCityHall:!1,hasBank:!1,hasHospital:!1,hasLab:!1,modifiers:{happiness:1,health:1,community:1},economyAndLaws:{tax_rate:.1,max_tax_rate:1,weeklyProfit:0,knowledge_gold_market_rates:[]},plotCounts:[],environment:{day:0,year:1},maximums:{health:300,happiness:300,community:300},difficulty:0,endGoal:"land",endGameDetails:{msg:"",win:!1},tick:0,overtime:!1,last_warning_happiness:0,last_warning_health:0,lab:{active_experiment:null,past_experiments:[],xp:0}},ym={username:"",stats:{games_played:0,wins:0,losses:0},achievements:[]},Kl={0:"Easy",1:"Normal",2:"Hard"},wm={0:Math.random()*(.5-.3)+.3,1:Math.random()*(.4-.2)+.2,2:Math.random()*(.4-.2)+.2},km={0:.35,1:.25,2:.25},ie=[{id:"small_homes",title:"ðŸ  Homes",type:"residential",description:"+16 people",revenue_per_week:0,requirements:{gold:150,plots:[],employees:0,knowledge:0,size:1,xp:0,resources:{food:0,wood:50,stone:10,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:16,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:2,stone:0,metal:0,bureaucracy:0,food:0}},{id:"farm",title:"ðŸ¥• Farm",type:"farm",description:"Produces veggies, grains, fruit",revenue_per_week:6,requirements:{gold:80,plots:[],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:10,stone:10,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.03,health:1.03,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:5,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},check_for_variety:!1},{id:"tree_farm",title:"ðŸŒ² Tree Farm",type:"lumber",description:"Produces some wood",revenue_per_week:8,requirements:{gold:300,plots:[],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},check_for_variety:!0,styling:"",affordable:null,selected:null,knowledge_points_per_month:0,generated_resources:{food:0,wood:15,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"quarry",title:"â›ï¸ Quarry",type:"quarry",description:"Produces stone, small amounts of metal",revenue_per_week:0,requirements:{gold:800,plots:[],employees:6,knowledge:0,size:1,xp:0,resources:{food:0,wood:50,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:.98,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:18,metal:1,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"livestock_farm",title:"ðŸ„ Livestock",type:"farm",description:"Makes more money and food than a regular farm, but doesn't bonus from water.",revenue_per_week:42,requirements:{gold:300,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:20,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.1,health:1.05,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:14,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},check_for_variety:!1},{id:"bakery",title:"ðŸ¥– Bakery",type:"business",description:"Converts food into some extra cash. Make sure you have enough food.",revenue_per_week:90,requirements:{gold:500,plots:[],employees:3,knowledge:0,size:1,xp:0,resources:{food:0,wood:170,stone:170,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.11,health:.95,community:1},immediate_variable_changes:{happiness:25,health:0,population:0,community:0,bureaucracy:0},check_for_variety:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:15}},{id:"stables",title:"ðŸ´ Stables",type:"business",description:"Makes money and improves health",revenue_per_week:24,requirements:{gold:400,plots:[],employees:2,knowledge:0,size:1,xp:0,resources:{food:0,wood:120,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.2,health:1.2,community:1},immediate_variable_changes:{happiness:5,health:10,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"church",title:"â›ªï¸ Church",type:"recreation",description:"Makes people VERY happy for a short period.",revenue_per_week:0,requirements:{gold:500,plots:[],employees:1,knowledge:0,size:1,xp:0,resources:{food:0,wood:350,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:2,health:1,community:1},immediate_variable_changes:{happiness:50,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"pub",title:"ðŸ» Pub",type:"recreation",description:"Increases knowledge, happiness, community. Isn't great for health.",revenue_per_week:40,knowledge_points_per_month:1,requirements:{gold:500,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:100,stone:50,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.2,health:.93,community:1.1},immediate_variable_changes:{happiness:10,health:-15,population:0,community:0,bureaucracy:0},check_for_variety:!0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"village_market",title:"ðŸ›’ Village Market",type:"shop",description:"Turns food into money. Sells goods and employs many. Makes significantly more money from tourism if you have a Village Inn.",revenue_per_week:180,requirements:{gold:1400,plots:[],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:150,stone:150,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.05,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:35}},{id:"fishery",title:"ðŸ  Fishery",type:"business",description:"Requires metal but generates a lot of food. Must be near water.",revenue_per_week:35,requirements:{gold:950,plots:[],employees:9,knowledge:0,size:1,xp:0,resources:{food:0,wood:500,stone:0,metal:100,power:0,bureaucracy:0},adjacent_plots:["water"]},effect_modifiers:{happiness:1.05,health:1,community:1},immediate_variable_changes:{happiness:15,health:8,population:0,community:0,bureaucracy:0},check_for_variety:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:75,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"neighborhood",title:"ðŸ˜ï¸ Neighborhood",type:"residential",description:"+64 people",revenue_per_week:0,requirements:{gold:700,plots:[],employees:0,knowledge:0,size:1,xp:0,resources:{food:0,wood:250,stone:250,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.1,health:1,community:1.1},immediate_variable_changes:{happiness:0,health:0,population:64,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"vineyard",title:"ðŸ‡ Vineyard",type:"farm",description:"Makes fair money, lowers health. Generates knowledge too similar to a pub.",revenue_per_week:60,requirements:{gold:700,plots:[],employees:6,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.5,health:.9,community:1},immediate_variable_changes:{happiness:0,health:-10,population:0,community:0,bureaucracy:0},knowledge_points_per_month:3,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"water_wheel",title:"ðŸ’§ Water Wheel",type:"industrial",description:"Produces small amount of power",revenue_per_week:0,requirements:{gold:800,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:200,stone:50,metal:0,power:0,bureaucracy:0},adjacent_plots:["water"]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:35,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"adv_water_wheel",title:"ðŸ’§ Adv. Water Wheel",type:"industrial",description:"Produces a large amount of power",revenue_per_week:0,requirements:{gold:1800,plots:[],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:400,stone:150,metal:500,power:0,bureaucracy:0},adjacent_plots:["water"]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:100,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"park",title:"ðŸŽª Park",type:"recreation",description:"Makes people extremely happy & healthy for a period.",revenue_per_week:0,requirements:{gold:800,plots:[],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:100,stone:100,metal:20,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:2,health:2,community:1},immediate_variable_changes:{happiness:40,health:40,population:0,community:40,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"village_inn",title:"ðŸ›Œ Village Inn",type:"tourism",description:"Enables tourism to your town, which increases revenue at certain stores.",revenue_per_week:23,requirements:{gold:1500,plots:[],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:150,stone:100,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:10,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:20,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"schoolhouse",title:"ðŸ« Schoolhouse",type:"education",description:"Produces knowledge, costs money to run.",revenue_per_week:0,knowledge_points_per_month:25,requirements:{gold:2e3,plots:[],employees:20,knowledge:0,size:1,xp:0,resources:{food:0,wood:500,stone:100,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.05,health:1.1,community:1},immediate_variable_changes:{happiness:15,health:3,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:50,power:20,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"blacksmith",title:"âš’ï¸ Blacksmith",type:"business",description:"Converts metal into tools for money. Make sure you have enough metal!",revenue_per_week:300,requirements:{gold:3e3,plots:[],employees:24,knowledge:0,size:1,xp:0,resources:{food:0,wood:250,stone:250,metal:500,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:.95},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:75,wood:0,stone:0,metal:10,bureaucracy:0,food:0}},{id:"library",title:"ðŸ“• Library",type:"recreation",description:"Produces knowledge and happiness",revenue_per_week:0,knowledge_points_per_month:15,requirements:{gold:2e3,plots:[],employees:6,knowledge:0,size:1,xp:0,resources:{food:0,wood:225,stone:100,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.3,health:1,community:1},immediate_variable_changes:{happiness:15,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"lumber_mill",title:"ðŸ­ Lumber Mill",type:"industrial",description:"Increases wood production by 25%, has to be next to a tree farm",revenue_per_week:0,requirements:{gold:4e3,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:300,stone:100,metal:0,power:0,bureaucracy:0},adjacent_plots:["tree_farm"]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:50,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:20,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"general_store",title:"ðŸ›’ General Store",type:"shop",description:"Makes the most money of any plot, requires power. Makes significantly more from tourism if you have a Village Inn.",revenue_per_week:500,requirements:{gold:7e3,plots:[],employees:32,knowledge:0,size:1,xp:0,resources:{food:0,wood:1e3,stone:1e3,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.05,health:1,community:1},immediate_variable_changes:{happiness:20,health:0,population:0,community:0,bureaucracy:0},check_for_variety:!1,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:40,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"healing_house",title:"ðŸ¥ Healing House",type:"medical",description:"Treats the sick and continuously improves health.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:1e4,plots:[],employees:18,knowledge:0,size:1,xp:0,resources:{food:0,wood:800,stone:1e3,metal:1e3,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.25,health:1.5,community:1},immediate_variable_changes:{happiness:5,health:75,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:30,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"community_center",title:"ðŸ«¶ Community Center",type:"recreation",description:"Improves community, makes people happier, costs money",revenue_per_week:0,requirements:{gold:19e3,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:1e3,stone:700,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.09,health:1,community:1},immediate_variable_changes:{happiness:50,health:15,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:10,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"town_hall",title:"ðŸ—³ï¸ Town Hall",type:"federal",description:"Generates bureaucracy that can be used to pass laws to impact the city and expand. Costs a lot of gold every week.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:3e4,plots:[],employees:48,knowledge:500,size:1,xp:0,resources:{food:0,wood:1250,stone:800,metal:500,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:.98,health:1,community:1.1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:10},level:4,active_costs:{gold:1e3,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"mine",title:"â›ï¸ Mine",type:"mine",description:"Produces metal and gold, requires power",revenue_per_week:0,requirements:{gold:4e3,plots:[],employees:64,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:1e3,metal:50,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:16,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:100,metal:50,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:30,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"academy",title:"ðŸ« Academy",type:"education",description:"Produces a lot of knowledge, requires high population",revenue_per_week:0,knowledge_points_per_month:90,requirements:{gold:3e4,plots:[],employees:32,knowledge:1e3,size:1,xp:0,resources:{food:0,wood:1600,stone:1600,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:500,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"bank",title:"ðŸ¦ Bank",type:"bank",description:"Enables the conversion of knowledge to gold, and increases maximum tax rate so you can make more money.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:75e3,plots:[],employees:32,knowledge:1e3,size:1,xp:0,resources:{food:0,wood:1e3,stone:1e4,metal:5e3,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:.8,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:75,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"lab",title:"ðŸ§ª Laboratory",type:"science",description:"Designs things to help the city grow",revenue_per_week:0,knowledge_points_per_month:25,requirements:{gold:1e5,plots:[],employees:24,knowledge:1e4,size:1,xp:0,resources:{food:0,wood:0,stone:1e3,metal:3e3,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:.98,health:.99,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:300,power:35,wood:0,stone:0,metal:0,bureaucracy:0,food:0}}],Eo={empty_unusable:"rgba(21, 40, 20, 0.70)",empty_buildable:"#CBB827",residential:"#de7633",farm:"#6b8f49",lumber:"#8E805C",business:"#9273a5",recreation:"#5277b1",shop:"#d896d8",tourism:"#d896d8",education:"#BFBEEB",medical:"#4a5ba3",bank:"#8477be",federal:"#8477be",science:"#4a5ba3",mine:"#d9874a",quarry:"#868685",industrial:"#868615"};function xi(t,e=!1){if(t<0)return t==-1?e?Eo.empty_buildable:Eo.empty_unusable:t==-2?Eo.recreation:Eo.empty_unusable;const n=ie[t];return Eo[n.type]}const $s={lab:1,city_hall:1,bank:1,community_center:1,inn:1},Lt="plots_active_game_db",Yo="plots_user_db";function Cm(){const t=["York","London","Paris","Madrid","Rome","Berlin","Vienna","Prague","Warsaw","Oslo","Lisbon","Dublin","Brussels","Amsterdam","Stockholm","Copenhagen","Edinburgh","Moscow","Beijing","Tokyo","Seoul","Bangkok","Delhi","Mumbai","Shanghai","Sydney","Melbourne","Cairo","Dubai","Istanbul","Athens","Budapest","Reykjavik","Helsinki","Tallinn","Riga","Vilnius","Sofia","Bucharest","Belgrade","Zagreb","Sarajevo","Ljubljana","Skopje","Tirana","Podgorica","Thessaloniki","Barcelona","Valencia","Seville","Granada","Malaga","Lyon","Marseille","Toulouse","Nice","Nantes","Strasbourg","Bordeaux","Lille","Venice","Milan","Florence","Naples","Turin","Bologna","Perugia","Genoa","Pisa","Verona","Palermo","Catania","Bari","Padua","Cagliari","Krakow","Gdansk","Poznan","Wroclaw","Lodz","Katowice","Bialystok","Gdynia","Sopot","Bydgoszcz","Lublin","Szczecin","Gorzow","Zakopane","Olsztyn","Torun","Rzeszow","Kielce","Radom","Siedlce","Los","Angeles","Chicago","Houston","Phoenix","San","Antonio","San","Diego","Dallas","San","Jose","Austin","Jacksonville","Fort","Worth","Columbus","Charlotte","Liverpool","Manchester","Glasgow","Birmingham","Leeds","Sheffield","Newcastle","upon","Tyne","Bristol","Nottingham","Leicester","Coventry","Belfast","Reading","Cardiff","Southampton","Aberdeen","Plymouth","Stoke","Trent","Wolverhampton","Swansea","Sunderland","Portsmouth","Yorkshire","Hull","Blackpool","Bradford","Derby","Middlesbrough","Peterborough","Stockton","on","Tees","Brighton","Poole","Bournemouth","Huddersfield","Luton","Oxford","Norwich","Oldham","Cambridge","Exeter","Walsall","Colchester","Watford","Rotherham","Newport","Gateshead","Dundee","Gloucester","Solihull","High","Wycombe","Maidstone","Slough","Basildon","Chelmsford","Salford","Bedford","Stevenage","Woking","Grimsby","Birkenhead","Halifax","Warrington","Gillingham","Wigan","Worcester","Wakefield","Lincoln","Chester","Rochdale","Dagenham","Widnes","St","Albans","Mansfield","Sutton","Coldfield","Crawley","Wokingham","Barnsley","St","Helens","Harrogate","Redditch","Scunthorpe","Nuneaton","Chesterfield","Hemel","Hempstead","Bury","Guildford","Ashford","Telford","Newcastle","under","Lyme","Aylesbury","Halesowen","Shrewsbury","Lowestoft","Loughborough","Cheltenham","Kidderminster","Basingstoke","Rugby","Stourbridge","Southport","Kettering","Royal","Leamington","Spa","Beeston","Farnborough","Wrexham","Banbury","Weymouth","Wallsend","Dartford","Grays","Tamworth","Ashford","Esher","Folkestone","Tonbridge","Taunton","Runcorn","Macclesfield","Keighley","Bridgend","Barnstaple","Letchworth","Garden","City","Worthing","Gosport","Eastleigh","Staines","upon","Thames","Lisburn","Livingston","Bognor","Regis","Scarborough","Cannock","Margate","Chippenham","Rhondda","Maidenhead","Wellingborough","Washington","Camberley","Bootle","Lancaster","Llanelli","Chatham","Cheshunt","Bishop","Auckland","Nelson","Belper","Pontefract","Barry","Braintree","Crosby","Bury","St","Edmunds","Bexhill","Margate","Aldershot","Rowley","Regis","Hoddesdon","Sittingbourne","Rugby","Newquay","Falmouth","Stretford","Camberley","Beverley","Windsor","Rochester","Wickford","Diss","Farnham","Andover","Camberwell","Bermondsey","Lewisham","Wembley","Hayes","Harrow","Ilford","Enfield","Twickenham","Richmond","Brentwood","Edgware","Ealing","Greenwich","Bromley","Hounslow","Romford","Hillingdon","Uxbridge","Wandsworth","Sutton","Kingston","upon","Thames","Bexley","Havering","Barking"],e=["ia","ville","ton","land","field","burgh","ford","wood","port","bay","beach","peak","valley","ridge","hill","dale","island","cape","spring","grove","polis","side","view","shore","haven","place","gardens","plaza","square"],n=["New","Old","North","South","East","West","Upper","Lower","Little","Great","Saint","Fort","Mount","Lake","River","The Village of","The City of","The Town of","The Borough of","The County of","The State of","The Kingdom of","The Empire of","The Republic of","The Commonwealth of","The Union of","The Federation of","Rainy","Sunny","Windy","Frosty","Snowy"];function o(s){return s[Math.floor(Math.random()*s.length)]}let i=o(n),r=o(t),l=o(e),a="";return Math.random()>.5?a=i+" "+r+l:a=r+l,a}let De=Ke(JSON.parse(localStorage.getItem(Lt)||"null")),nn=Ke(JSON.parse(localStorage.getItem(Yo)||"null"));Tm();function Am(t,e,n,o){let i={...vm};i.economyAndLaws.max_tax_rate=wm[t],i.endGoal=e;let r=[];n=n.replace(/[^a-zA-Z0-9 ]/g,"").trim(),i.townInfo.name=n!=""?n:Cm(),i.difficulty=parseInt(t),o&&(i.devMode=!0,i.townInfo.gold=1e8,i.townInfo.happiness=1e7,i.townInfo.health=1e6,i.townInfo.knowledge_points=1e5,i.modifiers.happiness=1e4,i.modifiers.health=1e4,i.resources.food=1e6,i.resources.wood=1e6,i.resources.stone=1e6,i.resources.metal=1e6);const l=t=="0"?8:t=="1"?12:t=="2"?16:1,a=Math.floor(Math.random()*l/2)+1,s=Math.floor(Math.random()*l/2)+1;for(let u=0;u<l;u++){r.push([]);for(let f=0;f<l;f++){const c=Sm(u,f,l);r[u][f]={id:Math.random().toString(36).substring(2,9),active:!1,x:u,y:f,type:c?-9:-1,typeId:"",mineralSource:c?!1:a===u&&s===f,water:a===u&&s===f?!1:c}}}i.plots=r,localStorage.reset=!1,localStorage.setItem(Lt,JSON.stringify(i)),De.set(i),location.reload()}function Sm(t,e,n){let o=.06;return t>0&&e>0&&t<n-1&&e<n-1&&(o*=2),(e==Math.round(n/2)||e==Math.round(n/2)-1)&&(o*=5),t==0&&e==0&&(o=0),Math.random()<o}function Tm(){if(localStorage.getItem(Yo)===null){let t=ym;t.username="my_username_click_to_change",localStorage.setItem(Yo,JSON.stringify(t)),nn.set(t)}}function Ks(t,e){var n=Math.pow(10,e);t=parseFloat((t*n).toFixed(11));var o=Math.round(t)/n;return+o.toFixed(e)}function Zi(t,e,n){let o=n.plots[t][e].type;if(n.plots[t][e].type=-1,n.plots[t][e].active=!1,o>-1&&(n.townInfo.population_count-=ie[o].immediate_variable_changes.population,n.townInfo.population_max-=ie[o].immediate_variable_changes.population,n.townInfo.happiness-=ie[o].immediate_variable_changes.happiness,n.townInfo.health-=ie[o].immediate_variable_changes.health,n.modifiers.happiness=Ks(n.modifiers.happiness/ie[o].effect_modifiers.happiness,2),n.modifiers.health=Ks(n.modifiers.health/ie[o].effect_modifiers.health,2),n.townInfo.employees-=ie[o].requirements.employees,(n.plotCounts[o]===void 0||n.plotCounts[o]===null)&&(n.plotCounts[o]=0),n.plotCounts[o]--,(ie[o].requirements.size??1)>1))for(let r=0;r<n.plots.length;r++)for(let l=0;l<n.plots[t].length;l++)n.plots[r][l].referencePlot!=null&&n.plots[r][l].referencePlot[0]===t&&n.plots[r][l].referencePlot[1]===e&&Zi(r,l,n);n.lastChangeDay=n.environment.day,De.set(n),localStorage.setItem(Lt,JSON.stringify(n))}function st(t,e){let n=[];for(let o=0;o<e.plots.length;o++)for(let i=0;i<e.plots[o].length;i++)e.plots[o][i].active==!1||e.plots[o][i]==null||e.plots[o][i].type===null||e.plots[o][i].type<0||(ie[e.plots[o][i].type].id===t||ie[e.plots[o][i].type].type===t)&&n.push(e.plots[o][i]);return n}function Ul(t=null){localStorage.removeItem(Lt),De.set(null),t&&(localStorage.setItem(Lt,JSON.stringify(t)),De.set(t)),location.reload()}function Im(){Cc.update(t=>!t),localStorage.setItem("showOnlyAffordable",localStorage.getItem("showOnlyAffordable")==="true"?"false":"true")}let Ze=Ke({visible:!1,x:0,y:0,isMineralSource:!1}),$o=Ke({visible:!1});function Mm(t){nn.set(t),localStorage.setItem(Yo,JSON.stringify(t))}let fo=Ke({}),ji=Ke(!1),Pt=Ke(!1),pl=Ke(!0),Us=Ke(!1),Qi=Ke(!1),zi=Ke(!1),Bi=Ke(!1),er=localStorage.getItem("showCompletedAchievements")==="true"?Ke(!0):Ke(!1),Cc=localStorage.getItem("showOnlyAffordable")==="true"?Ke(!0):Ke(!1),Ac=localStorage.getItem("pauseMenuTab")==="game"?Ke("game"):Ke("achievements"),hl=Ke(750);const ut={unemployment_num:" people can't find jobs.",bored:"People are bored. Try making some new buildings.",vairety:"People don't like going to the same places over and over again. Try making some new buildings.",nobody_home:"Build some homes!",leave_town_num:" people left town because they were unhappy.",new_people_num:" new people moved to town.",people_want_to_move_in:"People want to move in. Build more homes.",high_tax_rate:"People are unhappy with the high tax rate.",very_high_tax_rate:"People are extremely unhappy with the high tax rate.",sickAndDying:"People are sick and dying.",sickAndLeaving:"People are sick and leaving town.",happiness_zero:"The town has fallen into chaos due to extreme unhappiness.",health_zero:"The town has fallen into chaos due to extreme sickness.",population_zero:"The town has been condemned due to lack of population.",win:{land:"You have filled the grid with buildings. You win!"},hospital_advantage:"Because you have a hospital, the town is staying healthier for longer!",notEnoughVariety:"People are sick of going to the same places over and over, add some variety!"},pt={land:{short_title:"Fill the grid",description_title:"You win by filling up all possible plots in the grid, and by meeting some requirements.",win:"You have filled the grid with buildings and met the requirements. Your citizens are happy, fulfilled, hard-working, and healthy. ",requirements:{0:{population_count:200,happiness:100,health:100,employment:1,knowledge:50,required_plots:["pub","small_school","community_center"]},1:{population_count:1e3,happiness:120,health:120,employment:1,knowledge:100,required_plots:["bank"]},2:{population_count:1e3,happiness:200,health:200,employment:1,knowledge:1e3,required_plots:["bank","city_hall"]}}},free_play:{short_title:"Quests",description_title:"Play for as long as you can and build the best city you can while completing quests."}},ze=[{id:"happiness_at_300",title:"Happy Town",description:"One of your towns wins Happiest Town Award!",requirements:"Happiness reaches 300",icon:"ðŸ˜",check:t=>t.townInfo.happiness>=300,prize:1e3},{id:"get_educated",title:"Get Educated",description:"The kids are finally able to learn!",requirements:"Build a school or library",icon:"ðŸ“Œ",check:t=>st("small_school",t).length!==0||st("large_school",t).length!==0||st("library",t).length!==0,prize:1850},{id:"10k",title:"$10,000",description:"",requirements:"Gold reaches $10,000",icon:"ï¹©",check:t=>t.townInfo.gold>=1e4,prize:2500},{id:"25k",title:"$25,000",description:"",requirements:"Gold reaches $25,000",icon:"ðŸ’µ",check:t=>t.townInfo.gold>=25e3,prize:7500},{id:"stayin_frugal",title:"Stayin' Frugal!",description:"",requirements:"Gold under $50 with >=300 population",icon:"ðŸš²",check:t=>t.townInfo.gold<=50&&t.townInfo.population_count>=300,prize:1e4},{id:"profits_to_the_moon",title:"Profits to the moon!",description:"Now you're making dough!",requirements:"Last month profit is over $10,000",icon:"ðŸŒ›",check:t=>t.economyAndLaws.weeklyProfit>=1e4,prize:15e3},{id:"happily_dying",title:"Happily Dying!",description:"Not something to be proud of...",requirements:"Happiness > 275, health < 25",icon:"ðŸŒ›",check:t=>t.townInfo.happiness>275&&t.townInfo.health<25,prize:2e4},{id:"long_game",title:"The Long Game",description:"So are you gonna win anytime soon?",requirements:"Still playing after 10,000 days, without winning. ",icon:"ðŸŒ",check:t=>t.endGameDetails.win===!1&&t.environment.day>1e4&&t.endGameDetails.msg==="",prize:25e3},{id:"tax_man",title:"Tax man",description:"Set the tax rate to the absolute max that the town will tolerate.",requirements:"",icon:"ðŸ™ƒ",check:t=>{let e=Math.floor(t.economyAndLaws.max_tax_rate*20)/20;return t.economyAndLaws.tax_rate===e},prize:1500},{id:"good_job",title:"Good job",description:"Beat 'Fill the grid' with Normal difficulty in under 3,000 days.",requirements:"",icon:"ðŸ‘",check:t=>t.endGameDetails.win===!0&&t.environment.day<=3e3&&t.difficulty===1&&t.endGoal==="land",prize:1e4},{id:"great_job",title:"Great job",description:"Beat 'Fill the grid' with Normal difficulty in under 2,000 days.",requirements:"",icon:"ðŸ‘",check:t=>t.endGameDetails.win===!0&&t.environment.day<=2e3&&t.difficulty===1&&t.endGoal==="land",prize:45e3},{id:"superb_job",title:"SUPERB job",description:"Beat 'Fill the grid' with Normal difficulty in under 500 days.",requirements:"",icon:"ðŸ‘Œ",check:t=>t.endGameDetails.win===!0&&t.environment.day<=500&&t.difficulty===1&&t.endGoal==="land",prize:1e5},{id:"250k",title:"$250,000",description:"",requirements:"Gold reaches $250,000",icon:"ðŸ’¸",check:t=>t.townInfo.gold>=25e4,prize:5e4},{id:"banker",title:"Banker",description:"",requirements:"Build your first bank. ",icon:"ðŸ¦",check:t=>st("bank",t).length!==0,prize:5e3},{id:"community",title:"Community Center",description:"",requirements:"Build your first community center. ",icon:"â¤ï¸",check:t=>st("community_center",t).length!==0,prize:1e4},{id:"1m",title:"MILLIONAIRE!",description:"",requirements:"Gold reaches $1,000,000",icon:"ðŸ’°",check:t=>t.townInfo.gold>=1e6,prize:15e4}],Dt=[{message:"My liege, we need places to live! Build the first homes.",isComplete:t=>t.townInfo.population_max>0,goldReward:250},{message:"My liege, the village is going to run out of food soon. Build some farms. ",isComplete:t=>t.townInfo.employees>0,goldReward:250},{message:"My liege, lumber is needed for most buildings. Build a tree farm. ",isComplete:t=>st("tree_farm",t).length>0,goldReward:250},{message:"My liege, for the village to be successful, everyone needs a job. ",isComplete:t=>t.townInfo.employees>=t.townInfo.population_count,goldReward:250},{message:"My liege, the village will need stone and metals to expand. Build a quarry. ",isComplete:t=>st("quarry",t).length>0,goldReward:500},{message:"My liege, things are picking up but we will need far more money. Get weekly revenue to >=200 gold. ",isComplete:t=>t.economyAndLaws.weeklyProfit>=200,goldReward:1e3},{message:"My liege, as the town grows, we need a lot more knowledge. Get to 250 knowledge.  ",isComplete:t=>t.townInfo.knowledge_points>=250,goldReward:1500},{message:"My liege, the village is growing - woohoo! But we need to have more workers. Get the population to 100.",isComplete:t=>t.townInfo.population_count>=100,goldReward:1500},{message:"My liege, some advanced buildings require power. Start generating power with a waterwheel.",isComplete:t=>t.resources.power>0,goldReward:2e3},{message:"My liege, we need more metals. Find a good spot for a mine and build it. ",isComplete:t=>st("mine",t).length>0,goldReward:2e3}];function Sc(t){var e,n,o="";if(typeof t=="string"||typeof t=="number")o+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Sc(t[e]))&&(o&&(o+=" "),o+=n)}else for(n in t)t[n]&&(o&&(o+=" "),o+=n);return o}function Pm(){for(var t,e,n=0,o="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Sc(t))&&(o&&(o+=" "),o+=e);return o}const Yl="-";function Om(t){const e=Em(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:o}=t;function i(l){const a=l.split(Yl);return a[0]===""&&a.length!==1&&a.shift(),Tc(a,e)||Nm(l)}function r(l,a){const s=n[l]||[];return a&&o[l]?[...s,...o[l]]:s}return{getClassGroupId:i,getConflictingClassGroupIds:r}}function Tc(t,e){var l;if(t.length===0)return e.classGroupId;const n=t[0],o=e.nextPart.get(n),i=o?Tc(t.slice(1),o):void 0;if(i)return i;if(e.validators.length===0)return;const r=t.join(Yl);return(l=e.validators.find(({validator:a})=>a(r)))==null?void 0:l.classGroupId}const Ys=/^\[(.+)\]$/;function Nm(t){if(Ys.test(t)){const e=Ys.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function Em(t){const{theme:e,prefix:n}=t,o={nextPart:new Map,validators:[]};return Dm(Object.entries(t.classGroups),n).forEach(([r,l])=>{_l(l,o,r,e)}),o}function _l(t,e,n,o){t.forEach(i=>{if(typeof i=="string"){const r=i===""?e:Xs(e,i);r.classGroupId=n;return}if(typeof i=="function"){if(Rm(i)){_l(i(o),e,n,o);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([r,l])=>{_l(l,Xs(e,r),n,o)})})}function Xs(t,e){let n=t;return e.split(Yl).forEach(o=>{n.nextPart.has(o)||n.nextPart.set(o,{nextPart:new Map,validators:[]}),n=n.nextPart.get(o)}),n}function Rm(t){return t.isThemeGetter}function Dm(t,e){return e?t.map(([n,o])=>{const i=o.map(r=>typeof r=="string"?e+r:typeof r=="object"?Object.fromEntries(Object.entries(r).map(([l,a])=>[e+l,a])):r);return[n,i]}):t}function Lm(t){if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,o=new Map;function i(r,l){n.set(r,l),e++,e>t&&(e=0,o=n,n=new Map)}return{get(r){let l=n.get(r);if(l!==void 0)return l;if((l=o.get(r))!==void 0)return i(r,l),l},set(r,l){n.has(r)?n.set(r,l):i(r,l)}}}const Ic="!";function Fm(t){const e=t.separator,n=e.length===1,o=e[0],i=e.length;return function(l){const a=[];let s=0,u=0,f;for(let h=0;h<l.length;h++){let b=l[h];if(s===0){if(b===o&&(n||l.slice(h,h+i)===e)){a.push(l.slice(u,h)),u=h+i;continue}if(b==="/"){f=h;continue}}b==="["?s++:b==="]"&&s--}const c=a.length===0?l:l.substring(u),d=c.startsWith(Ic),m=d?c.substring(1):c,_=f&&f>u?f-u:void 0;return{modifiers:a,hasImportantModifier:d,baseClassName:m,maybePostfixModifierPosition:_}}}function qm(t){if(t.length<=1)return t;const e=[];let n=[];return t.forEach(o=>{o[0]==="["?(e.push(...n.sort(),o),n=[]):n.push(o)}),e.push(...n.sort()),e}function jm(t){return{cache:Lm(t.cacheSize),splitModifiers:Fm(t),...Om(t)}}const Bm=/\s+/;function Gm(t,e){const{splitModifiers:n,getClassGroupId:o,getConflictingClassGroupIds:i}=e,r=new Set;return t.trim().split(Bm).map(l=>{const{modifiers:a,hasImportantModifier:s,baseClassName:u,maybePostfixModifierPosition:f}=n(l);let c=o(f?u.substring(0,f):u),d=!!f;if(!c){if(!f)return{isTailwindClass:!1,originalClassName:l};if(c=o(u),!c)return{isTailwindClass:!1,originalClassName:l};d=!1}const m=qm(a).join(":");return{isTailwindClass:!0,modifierId:s?m+Ic:m,classGroupId:c,originalClassName:l,hasPostfixModifier:d}}).reverse().filter(l=>{if(!l.isTailwindClass)return!0;const{modifierId:a,classGroupId:s,hasPostfixModifier:u}=l,f=a+s;return r.has(f)?!1:(r.add(f),i(s,u).forEach(c=>r.add(a+c)),!0)}).reverse().map(l=>l.originalClassName).join(" ")}function Vm(){let t=0,e,n,o="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Mc(e))&&(o&&(o+=" "),o+=n);return o}function Mc(t){if(typeof t=="string")return t;let e,n="";for(let o=0;o<t.length;o++)t[o]&&(e=Mc(t[o]))&&(n&&(n+=" "),n+=e);return n}function gl(t,...e){let n,o,i,r=l;function l(s){const u=e.reduce((f,c)=>c(f),t());return n=jm(u),o=n.cache.get,i=n.cache.set,r=a,a(s)}function a(s){const u=o(s);if(u)return u;const f=Gm(s,n);return i(s,f),f}return function(){return r(Vm.apply(null,arguments))}}function Xe(t){const e=n=>n[t]||[];return e.isThemeGetter=!0,e}const Pc=/^\[(?:([a-z-]+):)?(.+)\]$/i,Hm=/^\d+\/\d+$/,Wm=new Set(["px","full","screen"]),$m=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Km=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Um=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Ym=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Xm=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function Zt(t){return Mn(t)||Wm.has(t)||Hm.test(t)}function _n(t){return bo(t,"length",np)}function Mn(t){return!!t&&!Number.isNaN(Number(t))}function Ii(t){return bo(t,"number",Mn)}function Ro(t){return!!t&&Number.isInteger(Number(t))}function Jm(t){return t.endsWith("%")&&Mn(t.slice(0,-1))}function qe(t){return Pc.test(t)}function gn(t){return $m.test(t)}const xm=new Set(["length","size","percentage"]);function Zm(t){return bo(t,xm,Oc)}function Qm(t){return bo(t,"position",Oc)}const zm=new Set(["image","url"]);function ep(t){return bo(t,zm,ip)}function tp(t){return bo(t,"",op)}function Do(){return!0}function bo(t,e,n){const o=Pc.exec(t);return o?o[1]?typeof e=="string"?o[1]===e:e.has(o[1]):n(o[2]):!1}function np(t){return Km.test(t)&&!Um.test(t)}function Oc(){return!1}function op(t){return Ym.test(t)}function ip(t){return Xm.test(t)}function bl(){const t=Xe("colors"),e=Xe("spacing"),n=Xe("blur"),o=Xe("brightness"),i=Xe("borderColor"),r=Xe("borderRadius"),l=Xe("borderSpacing"),a=Xe("borderWidth"),s=Xe("contrast"),u=Xe("grayscale"),f=Xe("hueRotate"),c=Xe("invert"),d=Xe("gap"),m=Xe("gradientColorStops"),_=Xe("gradientColorStopPositions"),h=Xe("inset"),b=Xe("margin"),y=Xe("opacity"),A=Xe("padding"),w=Xe("saturate"),R=Xe("scale"),V=Xe("sepia"),N=Xe("skew"),H=Xe("space"),F=Xe("translate"),L=()=>["auto","contain","none"],X=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto",qe,e],g=()=>[qe,e],k=()=>["",Zt,_n],E=()=>["auto",Mn,qe],q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],D=()=>["solid","dashed","dotted","double","none"],K=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"],Z=()=>["start","end","center","between","around","evenly","stretch"],x=()=>["","0",qe],$=()=>["auto","avoid","all","avoid-page","page","left","right","column"],p=()=>[Mn,Ii],j=()=>[Mn,qe];return{cacheSize:500,separator:":",theme:{colors:[Do],spacing:[Zt,_n],blur:["none","",gn,qe],brightness:p(),borderColor:[t],borderRadius:["none","","full",gn,qe],borderSpacing:g(),borderWidth:k(),contrast:p(),grayscale:x(),hueRotate:j(),invert:x(),gap:g(),gradientColorStops:[t],gradientColorStopPositions:[Jm,_n],inset:P(),margin:P(),opacity:p(),padding:g(),saturate:p(),scale:p(),sepia:x(),skew:j(),space:g(),translate:g()},classGroups:{aspect:[{aspect:["auto","square","video",qe]}],container:["container"],columns:[{columns:[gn]}],"break-after":[{"break-after":$()}],"break-before":[{"break-before":$()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...q(),qe]}],overflow:[{overflow:X()}],"overflow-x":[{"overflow-x":X()}],"overflow-y":[{"overflow-y":X()}],overscroll:[{overscroll:L()}],"overscroll-x":[{"overscroll-x":L()}],"overscroll-y":[{"overscroll-y":L()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[h]}],"inset-x":[{"inset-x":[h]}],"inset-y":[{"inset-y":[h]}],start:[{start:[h]}],end:[{end:[h]}],top:[{top:[h]}],right:[{right:[h]}],bottom:[{bottom:[h]}],left:[{left:[h]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ro,qe]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",qe]}],grow:[{grow:x()}],shrink:[{shrink:x()}],order:[{order:["first","last","none",Ro,qe]}],"grid-cols":[{"grid-cols":[Do]}],"col-start-end":[{col:["auto",{span:["full",Ro,qe]},qe]}],"col-start":[{"col-start":E()}],"col-end":[{"col-end":E()}],"grid-rows":[{"grid-rows":[Do]}],"row-start-end":[{row:["auto",{span:[Ro,qe]},qe]}],"row-start":[{"row-start":E()}],"row-end":[{"row-end":E()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",qe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",qe]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal",...Z()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Z(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Z(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[A]}],px:[{px:[A]}],py:[{py:[A]}],ps:[{ps:[A]}],pe:[{pe:[A]}],pt:[{pt:[A]}],pr:[{pr:[A]}],pb:[{pb:[A]}],pl:[{pl:[A]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[H]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[H]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",qe,e]}],"min-w":[{"min-w":[qe,e,"min","max","fit"]}],"max-w":[{"max-w":[qe,e,"none","full","min","max","fit","prose",{screen:[gn]},gn]}],h:[{h:[qe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[qe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[qe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[qe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",gn,_n]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ii]}],"font-family":[{font:[Do]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",qe]}],"line-clamp":[{"line-clamp":["none",Mn,Ii]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Zt,qe]}],"list-image":[{"list-image":["none",qe]}],"list-style-type":[{list:["none","disc","decimal",qe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...D(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Zt,_n]}],"underline-offset":[{"underline-offset":["auto",Zt,qe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:g()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",qe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",qe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...q(),Qm]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Zm]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},ep]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[_]}],"gradient-via-pos":[{via:[_]}],"gradient-to-pos":[{to:[_]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[r]}],"rounded-s":[{"rounded-s":[r]}],"rounded-e":[{"rounded-e":[r]}],"rounded-t":[{"rounded-t":[r]}],"rounded-r":[{"rounded-r":[r]}],"rounded-b":[{"rounded-b":[r]}],"rounded-l":[{"rounded-l":[r]}],"rounded-ss":[{"rounded-ss":[r]}],"rounded-se":[{"rounded-se":[r]}],"rounded-ee":[{"rounded-ee":[r]}],"rounded-es":[{"rounded-es":[r]}],"rounded-tl":[{"rounded-tl":[r]}],"rounded-tr":[{"rounded-tr":[r]}],"rounded-br":[{"rounded-br":[r]}],"rounded-bl":[{"rounded-bl":[r]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...D(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:D()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...D()]}],"outline-offset":[{"outline-offset":[Zt,qe]}],"outline-w":[{outline:[Zt,_n]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:k()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Zt,_n]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",gn,tp]}],"shadow-color":[{shadow:[Do]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":K()}],"bg-blend":[{"bg-blend":K()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[o]}],contrast:[{contrast:[s]}],"drop-shadow":[{"drop-shadow":["","none",gn,qe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[c]}],saturate:[{saturate:[w]}],sepia:[{sepia:[V]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[o]}],"backdrop-contrast":[{"backdrop-contrast":[s]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[c]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[V]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",qe]}],duration:[{duration:j()}],ease:[{ease:["linear","in","out","in-out",qe]}],delay:[{delay:j()}],animate:[{animate:["none","spin","ping","pulse","bounce",qe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[R]}],"scale-x":[{"scale-x":[R]}],"scale-y":[{"scale-y":[R]}],rotate:[{rotate:[Ro,qe]}],"translate-x":[{"translate-x":[F]}],"translate-y":[{"translate-y":[F]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",qe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",qe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":g()}],"scroll-mx":[{"scroll-mx":g()}],"scroll-my":[{"scroll-my":g()}],"scroll-ms":[{"scroll-ms":g()}],"scroll-me":[{"scroll-me":g()}],"scroll-mt":[{"scroll-mt":g()}],"scroll-mr":[{"scroll-mr":g()}],"scroll-mb":[{"scroll-mb":g()}],"scroll-ml":[{"scroll-ml":g()}],"scroll-p":[{"scroll-p":g()}],"scroll-px":[{"scroll-px":g()}],"scroll-py":[{"scroll-py":g()}],"scroll-ps":[{"scroll-ps":g()}],"scroll-pe":[{"scroll-pe":g()}],"scroll-pt":[{"scroll-pt":g()}],"scroll-pr":[{"scroll-pr":g()}],"scroll-pb":[{"scroll-pb":g()}],"scroll-pl":[{"scroll-pl":g()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",qe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Zt,_n,Ii]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}function rp(t,{cacheSize:e,prefix:n,separator:o,extend:i={},override:r={}}){Gi(t,"cacheSize",e),Gi(t,"prefix",n),Gi(t,"separator",o);for(const l in r)lp(t[l],r[l]);for(const l in i)sp(t[l],i[l]);return t}function Gi(t,e,n){n!==void 0&&(t[e]=n)}function lp(t,e){if(e)for(const n in e)Gi(t,n,e[n])}function sp(t,e){if(e)for(const n in e){const o=e[n];o!==void 0&&(t[n]=(t[n]||[]).concat(o))}}function ap(t,...e){return typeof t=="function"?gl(bl,t,...e):gl(()=>rp(bl(),t),...e)}const Nc=gl(bl);function up(t){const e=t-1;return e*e*e+1}function Le(...t){return Nc(Pm(t))}const Ar=(t,e={y:-8,x:0,start:.95,duration:150})=>{const n=getComputedStyle(t),o=n.transform==="none"?"":n.transform,i=(l,a,s)=>{const[u,f]=a,[c,d]=s;return(l-u)/(f-u)*(d-c)+c},r=l=>Object.keys(l).reduce((a,s)=>l[s]===void 0?a:a+`${s}:${l[s]};`,"");return{duration:e.duration??200,delay:0,css:l=>{const a=i(l,[0,1],[e.y??5,0]),s=i(l,[0,1],[e.x??0,0]),u=i(l,[0,1],[e.start??.95,1]);return r({transform:`${o} translate3d(${s}px, ${a}px, 0) scale(${u})`,opacity:l})},easing:up}};function ot(t,e){if(e===void 0&&(e=0),t==null||t==null)return 0;t=parseFloat((t*Math.pow(10,e)).toFixed(11));var n=Math.round(t)/Math.pow(10,e);return+n.toFixed(e)}function Yr(t){return t<10?"0"+t:t}function fp(t){let e=Math.floor(t/1e3),n=Math.floor(e/60);e=e%60;let o=Math.floor(n/60);return n=n%60,`${Yr(o)}:${Yr(n)}:${Yr(e)}`}function Se(t){return ie.findIndex(e=>e.id===t)}function Js(t){const n=new RegExp("\\p{Emoji}","u").exec(t);return n?n[0]:null}function on(t,e=!0){let n=t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,");return e||(n=n.split(".")[0]),n}function co(t){return t.charAt(0).toUpperCase()+t.slice(1)}function xs(t,e=!0){return t=ot(t/(e?3:1),2),t<0?`${t}`:`+${t}`}function Rn(t,e,n,o=!1){if(t<0||t>=n.plots.length||e<0||e>=n.plots[0].length)return!1;let i=[[t-1,e],[t+1,e],[t,e-1],[t,e+1],[t-1,e-1],[t-1,e+1],[t+1,e-1],[t+1,e+1]];for(let r=0;r<i.length;r++){let l=i[r][0],a=i[r][1];if(l>=0&&l<n.plots.length&&a>=0&&a<n.plots[0].length&&n.plots[l][a].water&&(o||n.plots[t][e].active==!0&&n.plots[t][e].type>0&&ie[n.plots[t][e].type].id=="farm"))return!0}return!1}function cp(t,e,n,o){if(t<0||t>=n.plots.length||e<0||e>=n.plots[0].length)return!1;let i=[[t-1,e],[t+1,e],[t,e-1],[t,e+1],[t-1,e-1],[t-1,e+1],[t+1,e-1],[t+1,e+1]],r=!0;for(let l=0;l<o.length;l++){let a=!1;if(o[l]=="water"&&(console.log("water"),Rn(t,e,n,!0))){a=!0;break}for(let s=0;s<i.length;s++){let u=i[s][0],f=i[s][1];if(u>=0&&u<n.plots.length&&f>=0&&f<n.plots[0].length&&n.plots[u][f].active==!0&&n.plots[u][f].type>0&&ie[n.plots[u][f].type].id==o[l]){a=!0;break}}if(!a){r=!1;break}}return r}function dp(t,e=0){let n=t*.85,o=t*1.15;return ot(Math.random()*(o-n)+n,e)}const Zs=30;function mp(t){let e=!0;for(let n=0;n<t.plots.length;n++)for(let o=0;o<t.plots[n].length;o++)if(t.plots[n][o].active==!1){e=!1;break}return e}function pp(t){return t.endGameDetails!=null||(t.townInfo.happiness<70&&t.last_warning_happiness+365<t.environment.day&&(alert("Your citizens are very unhappy. You should do something about it."),t.last_warning_happiness=t.environment.day),t.townInfo.health<70&&t.last_warning_health+365<t.environment.day&&(alert("Your citizens are very unhealthy. You should do something about it."),t.last_warning_health=t.environment.day)),t}function hp(t,e,n){return t.resource_rate.food=mt(n.food-e.food,2),t.resource_rate.wood=mt(n.wood-e.wood,2),t.resource_rate.stone=mt(n.stone-e.stone,2),t.resource_rate.metal=mt(n.metal-e.metal,2),t.resource_rate.bureaucracy=mt(n.bureaucracy-e.bureaucracy,2),t}function _p(t){return t.hasBank,t}function gp(t){return t.hasCityHall,t}function bp(t){let e=t.economyAndLaws.knowledge_gold_market_rates[t.economyAndLaws.knowledge_gold_market_rates.length-1]||1;const n=-100,o=8,i=3;let r=Math.random(),l=Math.random()*i;if(r<.4){let a=Math.random()*o;Math.random()<.5?e+=a:e-=a}else Math.random()>.5?e+=l:e-=l;return e<n&&(e+=Math.random()*l/5),e=Math.round(e),t.economyAndLaws.knowledge_gold_market_rates=[...t.economyAndLaws.knowledge_gold_market_rates,e],t}function vl(t){return t.lab.active_experiment==null||t.lab.active_experiment.duration>0&&(t.lab.active_experiment.duration-=1),t}function yl(t){if(t.townInfo.happiness>150){let n=t.townInfo.happiness-150;t.townInfo.happiness-=n*.08,t.townInfo.happiness<150&&(t.townInfo.happiness=150)}if(t.townInfo.health>150){let n=t.townInfo.health-150;t.townInfo.health-=n*.08,t.townInfo.health<150&&(t.townInfo.health=150)}if(t.townInfo.community>150){let n=t.townInfo.community-150;t.townInfo.community-=n*.08,t.townInfo.community<150&&(t.townInfo.community=150)}return t}function vp(t){return t.townInfo.happiness*=t.modifiers.happiness,t.townInfo.health*=t.modifiers.health,t.townInfo.community*=t.modifiers.community,t}function mt(t,e){e===void 0&&(e=0);let n=Math.pow(10,e);return t=parseFloat((t*n).toFixed(11)),+(Math.round(t)/n).toFixed(e)}function yp(t,e,n){let o,i,r,l,a,s;ae(t,hl,p=>n(6,o=p)),ae(t,De,p=>n(7,i=p)),ae(t,ji,p=>n(8,r=p)),ae(t,zi,p=>n(9,l=p)),ae(t,Pt,p=>n(10,a=p)),ae(t,nn,p=>n(11,s=p));function u(p){p=L(p),p=E(p),p=vp(p),p=P(p),p=D(p),p=_(p),p=bp(p),p=pp(p);const j={food:p.resources.food,wood:p.resources.wood,stone:p.resources.stone,metal:p.resources.metal,bureaucracy:p.resources.bureaucracy};p=y(p),p=A(p),p=w(p),p=yl(p),p=Z(p),p=b(p);const J={food:p.resources.food,wood:p.resources.wood,stone:p.resources.stone,metal:p.resources.metal,bureaucracy:p.resources.bureaucracy};return p=hp(p,j,J),p}function f(p){return p=_p(p),p=gp(p),p=h(p),p}function c(p){return p=g(p),p=k(p),p=X(p),p}function d(p){return p=K(p),p=q(p),p=vl(p),p.overtime==!1&&(p=F(p),p=R(p)),p=H(p),p=V(p),p}function m(){De.update(p=>{if(p==null||(p.tick++,p.tick%Zs!==0)||a||!p||p.endGameDetails.msg!==""&&p.overtime==!1||p.townInfo.population_count<=0)return p;try{return p.environment.day+=1,p.environment.day%7===0&&(p=u(p)),p.environment.day%30===0&&(p.townLog="",p=f(p)),p.environment.day%90===0&&(p=c(p)),window.location.search.includes("debug=true")&&console.log(p),p=d(p),p}catch(j){return console.error("Error in game loop:",j),p}})}De.subscribe(p=>{p&&localStorage.setItem(Lt,JSON.stringify(p))}),nn.subscribe(p=>{p&&localStorage.setItem(Yo,JSON.stringify(p))});function _(p){let j=!1,J=!1,ne=!1,U=!1;for(let ue=0;ue<p.plots.length;ue++)for(let ke=0;ke<p.plots[ue].length;ke++)if(p.plots[ue][ke].active==!0&&p.plots[ue][ke].type>-1){let we=ie[p.plots[ue][ke].type].id;we=="bank"&&(j=!0),we=="city_hall"&&(ne=!0),(we=="small_hospital"||we=="large_hospital")&&(J=!0),we=="lab"&&(U=!0)}return p.hasBank=j,p.hasHospital=J,p.hasCityHall=ne,p.hasLab=U,p}function h(p){const j=p.townInfo.productivity;let J=1;if(j>50&&j<100)J=1.08;else{if(j==100)return p;j>100&&j<125?J=.98:j>125&&j<150?J=.95:j>150&&j<175?J=.9:j>175&&j<200&&(J=.8)}const ne=p.townInfo.happiness;return p.townInfo.happiness*=J,p=x(`Happiness has gone down by ${100-Math.round(p.townInfo.happiness/ne*100)}% due to productivity.`,p),p}function b(p){const j=p.townInfo.population_count;return p.resources.food<j?(p.modifiers.happiness*=.95,p.modifiers.health*=.95,p=x("not enough food",p),p.resources.food=0):p.resources.food-=j,p.resources.food=Math.round(p.resources.food,2),p}function y(p){const j=p.townInfo.productivity;let J=1;j<50?J=.5:j>50&&j<100?J=.75:j==100?J=1:j>100&&j<125?J=1.25:j>125&&j<150?J=1.75:j>150&&j<175?J=3:j>175&&j<200&&(J=5),J=dp(J,2);let ne=st("lumber_mill",p).length*1.25;ne===0&&(ne=1);for(let U=0;U<p.plots.length;U++)for(let ue=0;ue<p.plots[U].length;ue++)if(p.plots[U][ue].active==!0&&p.plots[U][ue].type>-1){let ke=Rn(U,ue,p),we=ie[p.plots[U][ue].type];we.generated_resources!=null&&(p.resources.food+=Math.round(we.generated_resources.food*J)*(ke?2:1),p.resources.wood+=Math.round(we.generated_resources.wood*J*ne),p.resources.stone+=Math.round(we.generated_resources.stone*J),p.resources.metal+=Math.round(we.generated_resources.metal*J),p.resources.bureaucracy+=Math.round(we.generated_resources.bureaucracy*J))}return p.resources.food=Math.round(p.resources.food,2),p.resources.wood=Math.round(p.resources.wood,2),p.resources.stone=Math.round(p.resources.stone,2),p.resources.metal=Math.round(p.resources.metal,2),p.resources.bureaucracy=Math.round(p.resources.bureaucracy,2),p}function A(p){for(let j=0;j<p.plots.length;j++)for(let J=0;J<p.plots[j].length;J++)if(p.plots[j][J].active==!0&&p.plots[j][J].type>-1){let ne=ie[p.plots[j][J].type],U=!1;Object.keys(ne.active_costs).forEach((ue,ke)=>{const we=Object.values(ne.active_costs)[ke];ue!="power"&&(p.townInfo.gold,ue=="gold"?p.townInfo.gold<we?U=!0:p.townInfo.gold-=we:p.resources[ue]<we?U=!0:p.resources[ue]-=we)}),p.plots[j][J].disabled=U,p.plots[j][J].disabled&&(p.townInfo.happiness-=1),U&&ie[p.plots[j][J].type].type=="residential"&&(p.townInfo.population_count-=1,p.townInfo.employees-=1)}return p}function w(p){let j=0;for(let J=0;J<p.plots.length;J++)for(let ne=0;ne<p.plots[J].length;ne++)if(p.plots[J][ne].active==!0&&p.plots[J][ne].type>-1){let U=ie[p.plots[J][ne].type];U.active_costs.power!=0&&(j-=U.active_costs.power),U.generated_resources.power!=0&&(j+=U.generated_resources.power)}return p.resource_rate.power=j,p.resources.power=j,p}function R(p){if(p.endGoal=="land"&&p.townInfo.population_max==p.townInfo.population_count&&p.townInfo.happiness>=pt.land.requirements[p.difficulty].happiness&&p.townInfo.health>=pt.land.requirements[p.difficulty].health&&p.townInfo.employees/p.townInfo.population_count>=pt.land.requirements[p.difficulty].employment&&p.townInfo.population_count>pt.land.requirements[p.difficulty].population_count&&p.townInfo.knowledge_points>=pt.land.requirements[p.difficulty].knowledge){let J=!0;for(let U=0;U<pt.land.requirements[p.difficulty].required_plots.length;U++){let ue=pt.land.requirements[p.difficulty].required_plots[U];if(st(ue,p)==!1){J=!1;break}}mp(p)&&J&&(p.endGameDetails={msg:pt.land.win,win:!0,still_playing:!1})}return p}function V(p){if(p.devMode)return p;let j=s;for(let J=0;J<ze.length;J++)j.achievements.find(ne=>ne[0]==ze[J].id)==null&&ze[J].check(p)&&(j.achievements.push([ze[J].id,p.environment.day,p.townInfo.name]),Ee(Pt,a=!0,a),Ee(zi,l=!0,l));return nn.update(()=>j),p}let N=!1;function H(p){if(N)return p;for(let j=p.currentTutorialStep;j<p.currentTutorialStep+1;j++)if(Dt[j].isComplete(p)){Ee(ji,r=!0,r),N=!0,setTimeout(()=>{Ee(ji,r=!1,r),p.currentTutorialStep++,p.townInfo.gold+=Dt[j].goldReward,N=!1},1e3);break}return console.log(p.currentTutorialStep),p}function F(p){return p.townInfo.happiness<=3&&(p.townInfo.happiness=0,p.endGameDetails={msg:ut.happiness_zero,win:!1,still_playing:!1}),p.townInfo.health<=3&&(p.townInfo.health=3,p.endGameDetails={msg:ut.health_zero,win:!1,still_playing:!1}),p.townInfo.population_count<=0&&p.townInfo.population_max>0&&(p.townInfo.population_count=0,p.endGameDetails={msg:ut.population_zero,win:!1,still_playing:!1}),p}function L(p){let j=p.townInfo.population_count-p.townInfo.employees;return j>0&&(p.modifiers.happiness-=j*4e-4,p=x(j+ut.unemployment_num,p)),p}function X(p){let j=p.plotCounts.reduce((ne,U)=>ne+U,0),J=!1;for(let ne=0;ne<p.plotCounts.length;ne++)p.plotCounts[ne]==null||ie[ne].check_for_variety!=!0||p.plotCounts[ne]/j>=km[p.difficulty]&&(ie[ne].title,J=!0);return J&&(p=x(ut.notEnoughVariety,p),p.modifiers.happiness*.95),p}function P(p){let j=p.townInfo.health,J=0;return j>50||j<Math.random()*50&&(j<25?(p=x(ut.sickAndDying,p),p.townInfo.happiness-=10,J=Math.round(p.townInfo.population_count*.1)):(p=x(ut.sickAndLeaving,p),p.townInfo.happiness-=5,J=Math.round(p.townInfo.population_count*.05)),p.townInfo.population_count-=J,p.townInfo.employees-=J),p}function g(p){return p.lastChangeDay+(Math.random()*500+365)<p.environment.day&&p.townInfo.population_count>0&&(p.townInfo.population_count>0&&(p.townInfo.population_count-=1,p.townInfo.employees-=1,p.modifiers.happiness-=.01),p=x(ut.bored,p)),p}function k(p){if(p.townInfo.population_count<p.townInfo.population_max&&p.townInfo.happiness>50){let j=p.townInfo.population_max-p.townInfo.population_count,J=Math.round(p.townInfo.happiness/100*j);p.townInfo.population_count+=J,p.townInfo.population_count>p.townInfo.population_max&&(p.townInfo.population_count=p.townInfo.population_max),p.townInfo.employees+=J,p.townInfo.employees>p.townInfo.population_count&&(p.townInfo.employees=p.townInfo.population_count),p=x(J+ut.new_people_num,p)}if(p.townInfo.happiness<50&&p.townInfo.population_count>0){let j=Math.round((100-p.townInfo.happiness)/5);p.townInfo.population_count-=j,p.townInfo.employees>0&&(p.townInfo.employees-=j),p=x(j+ut.leave_town_num,p)}else p.townInfo.population_count==p.townInfo.population_max;return p}function E(p){const j=Math.random();if(p.economyAndLaws.tax_rate>p.economyAndLaws.max_tax_rate&&p.townInfo.population_count>0){let J=1;p.hasBank&&(J=2);const ne=p.difficulty==0?.7:p.difficulty==1?.4:.2;j<ne&&p.economyAndLaws.tax_rate>p.economyAndLaws.max_tax_rate*2*J?(p.modifiers.happiness-=.02,p=x(ut.very_high_tax_rate+"  ("+p.economyAndLaws.tax_rate+"%)",p)):(p.modifiers.happiness-=.01,p=x(ut.high_tax_rate+"  ("+p.economyAndLaws.tax_rate*100+"%)",p))}return p}function q(p){return p.townInfo.happiness<0&&(p.townInfo.happiness=0),p.townInfo.health<0&&(p.townInfo.health=0),p.townInfo.gold<0&&(p.townInfo.gold=0),p.townInfo.employees<0&&(p.townInfo.employees=0),p.townInfo.knowledge_points<0&&(p.townInfo.knowledge_points=0),p.townInfo.population_count<0&&(p.townInfo.population_count=0),p.townInfo.population_max==0&&p.townLog.indexOf(ut.nobody_home)==-1&&(p=x(ut.nobody_home,p)),p.economyAndLaws.weeklyProfit=mt(p.economyAndLaws.weeklyProfit,0),p.townInfo.employees>p.townInfo.population_count&&(p.townInfo.employees=p.townInfo.population_count),p.townInfo.gold=mt(p.townInfo.gold,0),p.townInfo.population_count=mt(p.townInfo.population_count,0),p.townInfo.employees=mt(p.townInfo.employees,0),p.townInfo.population_max=mt(p.townInfo.population_max,0),p.townInfo.happiness=mt(p.townInfo.happiness,2),p.townInfo.health=mt(p.townInfo.health,2),p.townInfo.knowledge_points=mt(p.townInfo.knowledge_points,0),p.townInfo.happiness>p.maximums.happiness&&(p.townInfo.happiness=p.maximums.happiness),p.townInfo.health>p.maximums.health&&(p.townInfo.health=p.maximums.health),p.modifiers.happiness<.5&&(p.modifiers.happiness=.5),p.modifiers.health<.5&&(p.modifiers.health=.5),p.modifiers.community<.5&&(p.modifiers.community=.5),p}function D(p){if(p.modifiers.happiness>1){let j=p.modifiers.happiness-1;p.modifiers.happiness-=j*.08,p.modifiers.happiness<1.05&&(p.modifiers.happiness=1)}if(p.modifiers.community>1){let j=p.modifiers.community-1;p.modifiers.community-=j*.08,p.modifiers.community<1.05&&(p.modifiers.community=1)}if(p.modifiers.health>1)if(st("healing_house",p).length>0){if(p.townLog.indexOf(ut.hospital_advantage)==-1)return p=x(ut.hospital_advantage,p);let j=p.modifiers.health-1;p.modifiers.health-=j*st("healing_house",p)?.03:.06,p.modifiers.health<1.05&&(p.modifiers.health=1)}else{let j=p.modifiers.health-1;p.modifiers.health-=j*.08,p.modifiers.health<1.05&&(p.modifiers.health=1)}else st("healing_house",p).length>0&&(p.modifiers.health+=.1);return p}function K(p){p.economyAndLaws.weeklyProfit=0;for(let j=0;j<p.plots.length;j++)for(let J=0;J<p.plots[j].length;J++)if(p.plots[j][J].active==!0&&p.plots[j][J].type>-1)if(p.plots[j][J].disabled===!0){const ne=ie[p.plots[j][J].type],U=$(ne.revenue_per_week,p,ne.type)*(p.townInfo.productivity/100)/7;p.townInfo.gold-=U,p=x(`ðŸš¨ ${ne.title} at ${J}, ${j} is disabled and costing you $${U} a week!`,p)}else{const ne=ie[p.plots[j][J].type];let U=$(ne.revenue_per_week,p,ne.type)*(p.townInfo.productivity/100)/7,ue=Rn(j,J,p);U*=ue?2:1,p.townInfo.gold+=U,p.economyAndLaws.weeklyProfit+=U*7}return p}function Z(p){let j=0;for(let J=0;J<p.plots.length;J++)for(let ne=0;ne<p.plots[J].length;ne++)if(p.plots[J][ne].active==!0&&p.plots[J][ne].type>-1){let U=ie[p.plots[J][ne].type];U.knowledge_points_per_month!=null&&(p.townInfo.knowledge_points+=Math.round(U.knowledge_points_per_month/4),j+=U.knowledge_points_per_month)}return p.resource_rate.knowledge=mt(j/4,0),p}function x(p,j){return j.townLog="Day "+i.environment.day+" - "+p+`
`+j.townLog,j}function $(p,j,J){let ne=j.townInfo.happiness/100;ne>1.75?ne=1.75:ne<.75&&(ne=.75),st("village_inn",j).length>0&&J=="shop"&&(ne*=1.3);let U=p*j.economyAndLaws.tax_rate*(j.townInfo.population_count/j.townInfo.population_max)*ne;return mt(U,2)}return wr(async()=>{for(;;)localStorage.reset=="true"&&(Ul(),localStorage.setItem("reset","false")),m(),await new Promise(p=>setTimeout(p,o/Zs))}),[m,vl,q,D,yl]}class wp extends ye{constructor(e){super(),ve(this,e,yp,null,fe,{mainGameThreadLoop:0,_checkExperiment:1,_fixVariables:2,_bringModifiersBackToNormal:3,_bringStatsBackToNormal:4},null,[-1,-1])}get mainGameThreadLoop(){return this.$$.ctx[0]}get _checkExperiment(){return vl}get _fixVariables(){return this.$$.ctx[2]}get _bringModifiersBackToNormal(){return this.$$.ctx[3]}get _bringStatsBackToNormal(){return yl}}function kp(t){return t[t.length-1]}function bn(t){return Object.keys(t).reduce((e,n)=>t[n]===void 0?e:e+`${n}:${t[n]};`,"")}function Xr(t){return t?!0:void 0}bn({position:"absolute",opacity:0,"pointer-events":"none",margin:0,transform:"translateX(-100%)"});function Ec(t){if(t!==null)return t}function Qs(t){function e(n){return n(t),()=>{}}return{subscribe:e}}function Jr(t){if(!Xo)return null;const e=document.querySelector(`[data-melt-id="${t}"]`);return yt(e)?e:null}const jo=t=>new Proxy(t,{get(e,n,o){return Reflect.get(e,n,o)},ownKeys(e){return Reflect.ownKeys(e).filter(n=>n!=="action")}}),zs=t=>typeof t=="function";ct("empty");function ct(t,e){const{stores:n,action:o,returned:i}=e??{},r=(()=>{if(n&&i)return sn(n,a=>{const s=i(a);if(zs(s)){const u=(...f)=>jo({...s(...f),[`data-melt-${t}`]:"",action:o??xe});return u.action=o??xe,u}return jo({...s,[`data-melt-${t}`]:"",action:o??xe})});{const a=i,s=a==null?void 0:a();if(zs(s)){const u=(...f)=>jo({...s(...f),[`data-melt-${t}`]:"",action:o??xe});return u.action=o??xe,Qs(u)}return Qs(jo({...s,[`data-melt-${t}`]:"",action:o??xe}))}})(),l=o??(()=>{});return l.subscribe=r.subscribe,l}function ea(t,e){const{stores:n,returned:o,action:i}=e,{subscribe:r}=sn(n,a=>o(a).map(s=>jo({...s,[`data-melt-${t}`]:"",action:i??xe}))),l=i??(()=>{});return l.subscribe=r,l}function Sr(t){const e=r=>r?`${t}-${r}`:t,n=r=>`data-melt-${t}${r?`-${r}`:""}`,o=r=>`[data-melt-${t}${r?`-${r}`:""}]`;return{name:e,attribute:n,selector:o,getEl:r=>document.querySelector(o(r))}}const Xo=typeof document<"u",Rc=t=>typeof t=="function";function Cp(t){return t instanceof Document}function Tr(t){return t instanceof Element}function yt(t){return t instanceof HTMLElement}function ta(t){return t.pointerType==="touch"}function Ap(t){return t!==null&&typeof t=="object"}function Sp(t){return Ap(t)&&"subscribe"in t}function Wt(...t){return(...e)=>{for(const n of t)typeof n=="function"&&n(...e)}}function xe(){}function ht(t,e,n,o){const i=Array.isArray(e)?e:[e];return i.forEach(r=>t.addEventListener(r,n,o)),()=>{i.forEach(r=>t.removeEventListener(r,n,o))}}function bt(t,e,n,o){const i=Array.isArray(e)?e:[e];if(typeof n=="function"){const r=Ip(l=>n(l));return i.forEach(l=>t.addEventListener(l,r,o)),()=>{i.forEach(l=>t.removeEventListener(l,r,o))}}return()=>void 0}function Tp(t){const e=t.currentTarget;if(!yt(e))return null;const n=new CustomEvent(`m-${t.type}`,{detail:{originalEvent:t},cancelable:!0});return e.dispatchEvent(n),n}function Ip(t){return e=>{const n=Tp(e);if(!(n!=null&&n.defaultPrevented))return t(e)}}function Ir(t,...e){const n={};for(const o of Object.keys(t))e.includes(o)||(n[o]=t[o]);return n}function tn(t){return{...t,get:()=>pc(t)}}tn.writable=function(t){const e=Ke(t);let n=t;return{subscribe:e.subscribe,set(o){e.set(o),n=o},update(o){const i=o(n);e.set(i),n=i},get(){return n}}};tn.derived=function(t,e){const n=new Map,o=()=>{const r=Array.isArray(t)?t.map(l=>l.get()):t.get();return e(r)};return{get:o,subscribe:r=>{const l=[];return(Array.isArray(t)?t:[t]).forEach(s=>{l.push(s.subscribe(()=>{r(o())}))}),r(o()),n.set(r,l),()=>{const s=n.get(r);if(s)for(const u of s)u();n.delete(r)}}}};const Mr=(t,e)=>{const n=tn(t),o=(r,l)=>{n.update(a=>{const s=r(a);let u=s;return e&&(u=e({curr:a,next:s})),l==null||l(u),u})};return{...n,update:o,set:r=>{o(()=>r)}}};function Xl(t){return new Promise(e=>setTimeout(e,t))}let Mp="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",Pp=(t=21)=>{let e="",n=t;for(;n--;)e+=Mp[Math.random()*64|0];return e};function Op(){return Pp(10)}function Jl(t){return t.reduce((e,n)=>(e[n]=Op(),e),{})}const lt={ALT:"Alt",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",CAPS_LOCK:"CapsLock",CONTROL:"Control",DELETE:"Delete",END:"End",ENTER:"Enter",ESCAPE:"Escape",F1:"F1",F10:"F10",F11:"F11",F12:"F12",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",HOME:"Home",META:"Meta",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp",SHIFT:"Shift",SPACE:" ",TAB:"Tab",CTRL:"Control",ASTERISK:"*",A:"a",P:"p"},Dc=()=>typeof window<"u";function Np(){const t=navigator.userAgentData;return(t==null?void 0:t.platform)??navigator.platform}const Lc=t=>Dc()&&t.test(Np().toLowerCase()),Ep=()=>Dc()&&!!navigator.maxTouchPoints,Rp=()=>Lc(/^mac/)&&!Ep(),Dp=()=>Lc(/mac|iphone|ipad|ipod/i),Lp=()=>Dp()&&!Rp();function Fp(t){const e=t.slice();return e.sort(jp),qp(e)}function qp(t){if(t.length<=1)return t.slice();const e=[];for(let o=0;o<t.length;o++){const i=t[o];for(;e.length>=2;){const r=e[e.length-1],l=e[e.length-2];if((r.x-l.x)*(i.y-l.y)>=(r.y-l.y)*(i.x-l.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let o=t.length-1;o>=0;o--){const i=t[o];for(;n.length>=2;){const r=n[n.length-1],l=n[n.length-2];if((r.x-l.x)*(i.y-l.y)>=(r.y-l.y)*(i.x-l.x))n.pop();else break}n.push(i)}return n.pop(),e.length==1&&n.length==1&&e[0].x==n[0].x&&e[0].y==n[0].y?e:e.concat(n)}function jp(t,e){return t.x<e.x?-1:t.x>e.x?1:t.y<e.y?-1:t.y>e.y?1:0}function Bp(t){const e=t.getBoundingClientRect();return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.right,y:e.bottom},{x:e.left,y:e.bottom}]}function Gp(t){const e=t.flatMap(n=>Bp(n));return Fp(e)}function Vp(t,e){let n=!1;for(let o=0,i=e.length-1;o<e.length;i=o++){const r=e[o].x,l=e[o].y,a=e[i].x,s=e[i].y;l>t.y!=s>t.y&&t.x<(a-r)*(t.y-l)/(s-l)+r&&(n=!n)}return n}const xr="data-melt-scroll-lock";function na(t,e){if(!t)return;const n=t.style.cssText;return Object.assign(t.style,e),()=>{t.style.cssText=n}}function Hp(t,e,n){if(!t)return;const o=t.style.getPropertyValue(e);return t.style.setProperty(e,n),()=>{o?t.style.setProperty(e,o):t.style.removeProperty(e)}}function Wp(t){const e=t.getBoundingClientRect().left;return Math.round(e)+t.scrollLeft?"paddingLeft":"paddingRight"}function $p(t){const e=document,n=e.defaultView??window,{documentElement:o,body:i}=e;if(i.hasAttribute(xr))return xe;i.setAttribute(xr,"");const l=n.innerWidth-o.clientWidth,a=()=>Hp(o,"--scrollbar-width",`${l}px`),s=Wp(o),u=n.getComputedStyle(i)[s],f=()=>na(i,{overflow:"hidden",[s]:`calc(${u} + ${l}px)`}),c=()=>{const{scrollX:m,scrollY:_,visualViewport:h}=n,b=(h==null?void 0:h.offsetLeft)??0,y=(h==null?void 0:h.offsetTop)??0,A=na(i,{position:"fixed",overflow:"hidden",top:`${-(_-Math.floor(y))}px`,left:`${-(m-Math.floor(b))}px`,right:"0",[s]:`calc(${u} + ${l}px)`});return()=>{A==null||A(),n.scrollTo(m,_)}},d=[a(),Lp()?c():f()];return()=>{d.forEach(m=>m==null?void 0:m()),i.removeAttribute(xr)}}const Kp=t=>{try{cm(t)}catch{return t}};function Mt(t,e){let n;const o=sn(t,r=>{n==null||n(),n=e(r)}).subscribe(xe),i=()=>{o(),n==null||n()};return Kp(i),i}function Dn(t){const e={};return Object.keys(t).forEach(n=>{const o=n,i=t[o];e[o]=tn(Ke(i))}),e}function Up(t){let e=t.parentElement;for(;yt(e)&&!e.hasAttribute("data-portal");)e=e.parentElement;return e||"body"}function Fc(t,e){return e!==void 0?e:Up(t)==="body"?document.body:null}async function oa(t){const{prop:e,defaultEl:n}=t;if(await Promise.all([Xl(1),Hl]),e===void 0){n==null||n.focus();return}const o=Rc(e)?e(n):e;if(typeof o=="string"){const i=document.querySelector(o);if(!yt(i))return;i.focus()}else yt(o)&&o.focus()}function Zr(t,e,n,o){const i=(t-(isNaN(e)?0:e))%o;let r=Math.abs(i)*2>=o?t+Math.sign(i)*(o-Math.abs(i)):t-i;isNaN(e)?!isNaN(n)&&r>n&&(r=Math.floor(n/o)*o):r<e?r=e:!isNaN(n)&&r>n&&(r=e+Math.floor((n-e)/o)*o);const l=o.toString(),a=l.indexOf("."),s=a>=0?l.length-a:0;if(s>0){const u=Math.pow(10,s);r=Math.round(r*u)/u}return r}Nn(void 0,t=>{function e(o){t(o),t(void 0)}return ht(document,"pointerup",e,{passive:!1,capture:!0})});const Yp=Nn(void 0,t=>{function e(o){o&&o.key===lt.ESCAPE&&t(o),t(void 0)}return ht(document,"keydown",e,{passive:!1})}),ia=(t,e={})=>{let n=xe;function o(i={}){n();const r={enabled:!0,...i},l=Sp(r.enabled)?r.enabled:Nn(r.enabled);n=Wt(Yp.subscribe(a=>{var u;if(!a||!pc(l))return;const s=a.target;if(!(!yt(s)||s.closest("[data-escapee]")!==t)){if(a.preventDefault(),r.ignore){if(Rc(r.ignore)){if(r.ignore(a))return}else if(Array.isArray(r.ignore)&&r.ignore.length>0&&r.ignore.some(f=>f&&s===f))return}(u=r.handler)==null||u.call(r,a)}}),Mt(l,a=>{a?t.dataset.escapee="":delete t.dataset.escapee}))}return o(e),{update:o,destroy(){t.removeAttribute("data-escapee"),n()}}},yn=Math.min,Ct=Math.max,tr=Math.round,Mi=Math.floor,wn=t=>({x:t,y:t}),Xp={left:"right",right:"left",bottom:"top",top:"bottom"},Jp={start:"end",end:"start"};function wl(t,e,n){return Ct(t,yn(e,n))}function vo(t,e){return typeof t=="function"?t(e):t}function kn(t){return t.split("-")[0]}function yo(t){return t.split("-")[1]}function qc(t){return t==="x"?"y":"x"}function xl(t){return t==="y"?"height":"width"}function ti(t){return["top","bottom"].includes(kn(t))?"y":"x"}function Zl(t){return qc(ti(t))}function xp(t,e,n){n===void 0&&(n=!1);const o=yo(t),i=Zl(t),r=xl(i);let l=i==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return e.reference[r]>e.floating[r]&&(l=nr(l)),[l,nr(l)]}function Zp(t){const e=nr(t);return[kl(t),e,kl(e)]}function kl(t){return t.replace(/start|end/g,e=>Jp[e])}function Qp(t,e,n){const o=["left","right"],i=["right","left"],r=["top","bottom"],l=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:o:e?o:i;case"left":case"right":return e?r:l;default:return[]}}function zp(t,e,n,o){const i=yo(t);let r=Qp(kn(t),n==="start",o);return i&&(r=r.map(l=>l+"-"+i),e&&(r=r.concat(r.map(kl)))),r}function nr(t){return t.replace(/left|right|bottom|top/g,e=>Xp[e])}function eh(t){return{top:0,right:0,bottom:0,left:0,...t}}function jc(t){return typeof t!="number"?eh(t):{top:t,right:t,bottom:t,left:t}}function or(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function ra(t,e,n){let{reference:o,floating:i}=t;const r=ti(e),l=Zl(e),a=xl(l),s=kn(e),u=r==="y",f=o.x+o.width/2-i.width/2,c=o.y+o.height/2-i.height/2,d=o[a]/2-i[a]/2;let m;switch(s){case"top":m={x:f,y:o.y-i.height};break;case"bottom":m={x:f,y:o.y+o.height};break;case"right":m={x:o.x+o.width,y:c};break;case"left":m={x:o.x-i.width,y:c};break;default:m={x:o.x,y:o.y}}switch(yo(e)){case"start":m[l]-=d*(n&&u?-1:1);break;case"end":m[l]+=d*(n&&u?-1:1);break}return m}const th=async(t,e,n)=>{const{placement:o="bottom",strategy:i="absolute",middleware:r=[],platform:l}=n,a=r.filter(Boolean),s=await(l.isRTL==null?void 0:l.isRTL(e));let u=await l.getElementRects({reference:t,floating:e,strategy:i}),{x:f,y:c}=ra(u,o,s),d=o,m={},_=0;for(let h=0;h<a.length;h++){const{name:b,fn:y}=a[h],{x:A,y:w,data:R,reset:V}=await y({x:f,y:c,initialPlacement:o,placement:d,strategy:i,middlewareData:m,rects:u,platform:l,elements:{reference:t,floating:e}});f=A??f,c=w??c,m={...m,[b]:{...m[b],...R}},V&&_<=50&&(_++,typeof V=="object"&&(V.placement&&(d=V.placement),V.rects&&(u=V.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:i}):V.rects),{x:f,y:c}=ra(u,d,s)),h=-1)}return{x:f,y:c,placement:d,strategy:i,middlewareData:m}};async function Ql(t,e){var n;e===void 0&&(e={});const{x:o,y:i,platform:r,rects:l,elements:a,strategy:s}=t,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:c="floating",altBoundary:d=!1,padding:m=0}=vo(e,t),_=jc(m),b=a[d?c==="floating"?"reference":"floating":c],y=or(await r.getClippingRect({element:(n=await(r.isElement==null?void 0:r.isElement(b)))==null||n?b:b.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(a.floating)),boundary:u,rootBoundary:f,strategy:s})),A=c==="floating"?{...l.floating,x:o,y:i}:l.reference,w=await(r.getOffsetParent==null?void 0:r.getOffsetParent(a.floating)),R=await(r.isElement==null?void 0:r.isElement(w))?await(r.getScale==null?void 0:r.getScale(w))||{x:1,y:1}:{x:1,y:1},V=or(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:A,offsetParent:w,strategy:s}):A);return{top:(y.top-V.top+_.top)/R.y,bottom:(V.bottom-y.bottom+_.bottom)/R.y,left:(y.left-V.left+_.left)/R.x,right:(V.right-y.right+_.right)/R.x}}const nh=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:o,placement:i,rects:r,platform:l,elements:a,middlewareData:s}=e,{element:u,padding:f=0}=vo(t,e)||{};if(u==null)return{};const c=jc(f),d={x:n,y:o},m=Zl(i),_=xl(m),h=await l.getDimensions(u),b=m==="y",y=b?"top":"left",A=b?"bottom":"right",w=b?"clientHeight":"clientWidth",R=r.reference[_]+r.reference[m]-d[m]-r.floating[_],V=d[m]-r.reference[m],N=await(l.getOffsetParent==null?void 0:l.getOffsetParent(u));let H=N?N[w]:0;(!H||!await(l.isElement==null?void 0:l.isElement(N)))&&(H=a.floating[w]||r.floating[_]);const F=R/2-V/2,L=H/2-h[_]/2-1,X=yn(c[y],L),P=yn(c[A],L),g=X,k=H-h[_]-P,E=H/2-h[_]/2+F,q=wl(g,E,k),D=!s.arrow&&yo(i)!=null&&E!==q&&r.reference[_]/2-(E<g?X:P)-h[_]/2<0,K=D?E<g?E-g:E-k:0;return{[m]:d[m]+K,data:{[m]:q,centerOffset:E-q-K,...D&&{alignmentOffset:K}},reset:D}}}),oh=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,o;const{placement:i,middlewareData:r,rects:l,initialPlacement:a,platform:s,elements:u}=e,{mainAxis:f=!0,crossAxis:c=!0,fallbackPlacements:d,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:h=!0,...b}=vo(t,e);if((n=r.arrow)!=null&&n.alignmentOffset)return{};const y=kn(i),A=kn(a)===a,w=await(s.isRTL==null?void 0:s.isRTL(u.floating)),R=d||(A||!h?[nr(a)]:Zp(a));!d&&_!=="none"&&R.push(...zp(a,h,_,w));const V=[a,...R],N=await Ql(e,b),H=[];let F=((o=r.flip)==null?void 0:o.overflows)||[];if(f&&H.push(N[y]),c){const g=xp(i,l,w);H.push(N[g[0]],N[g[1]])}if(F=[...F,{placement:i,overflows:H}],!H.every(g=>g<=0)){var L,X;const g=(((L=r.flip)==null?void 0:L.index)||0)+1,k=V[g];if(k)return{data:{index:g,overflows:F},reset:{placement:k}};let E=(X=F.filter(q=>q.overflows[0]<=0).sort((q,D)=>q.overflows[1]-D.overflows[1])[0])==null?void 0:X.placement;if(!E)switch(m){case"bestFit":{var P;const q=(P=F.map(D=>[D.placement,D.overflows.filter(K=>K>0).reduce((K,Z)=>K+Z,0)]).sort((D,K)=>D[1]-K[1])[0])==null?void 0:P[0];q&&(E=q);break}case"initialPlacement":E=a;break}if(i!==E)return{reset:{placement:E}}}return{}}}};async function ih(t,e){const{placement:n,platform:o,elements:i}=t,r=await(o.isRTL==null?void 0:o.isRTL(i.floating)),l=kn(n),a=yo(n),s=ti(n)==="y",u=["left","top"].includes(l)?-1:1,f=r&&s?-1:1,c=vo(e,t);let{mainAxis:d,crossAxis:m,alignmentAxis:_}=typeof c=="number"?{mainAxis:c,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...c};return a&&typeof _=="number"&&(m=a==="end"?_*-1:_),s?{x:m*f,y:d*u}:{x:d*u,y:m*f}}const rh=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,o;const{x:i,y:r,placement:l,middlewareData:a}=e,s=await ih(e,t);return l===((n=a.offset)==null?void 0:n.placement)&&(o=a.arrow)!=null&&o.alignmentOffset?{}:{x:i+s.x,y:r+s.y,data:{...s,placement:l}}}}},lh=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:o,placement:i}=e,{mainAxis:r=!0,crossAxis:l=!1,limiter:a={fn:b=>{let{x:y,y:A}=b;return{x:y,y:A}}},...s}=vo(t,e),u={x:n,y:o},f=await Ql(e,s),c=ti(kn(i)),d=qc(c);let m=u[d],_=u[c];if(r){const b=d==="y"?"top":"left",y=d==="y"?"bottom":"right",A=m+f[b],w=m-f[y];m=wl(A,m,w)}if(l){const b=c==="y"?"top":"left",y=c==="y"?"bottom":"right",A=_+f[b],w=_-f[y];_=wl(A,_,w)}const h=a.fn({...e,[d]:m,[c]:_});return{...h,data:{x:h.x-n,y:h.y-o}}}}},sh=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){const{placement:n,rects:o,platform:i,elements:r}=e,{apply:l=()=>{},...a}=vo(t,e),s=await Ql(e,a),u=kn(n),f=yo(n),c=ti(n)==="y",{width:d,height:m}=o.floating;let _,h;u==="top"||u==="bottom"?(_=u,h=f===(await(i.isRTL==null?void 0:i.isRTL(r.floating))?"start":"end")?"left":"right"):(h=u,_=f==="end"?"top":"bottom");const b=m-s[_],y=d-s[h],A=!e.middlewareData.shift;let w=b,R=y;if(c){const N=d-s.left-s.right;R=f||A?yn(y,N):N}else{const N=m-s.top-s.bottom;w=f||A?yn(b,N):N}if(A&&!f){const N=Ct(s.left,0),H=Ct(s.right,0),F=Ct(s.top,0),L=Ct(s.bottom,0);c?R=d-2*(N!==0||H!==0?N+H:Ct(s.left,s.right)):w=m-2*(F!==0||L!==0?F+L:Ct(s.top,s.bottom))}await l({...e,availableWidth:R,availableHeight:w});const V=await i.getDimensions(r.floating);return d!==V.width||m!==V.height?{reset:{rects:!0}}:{}}}};function Cn(t){return Bc(t)?(t.nodeName||"").toLowerCase():"#document"}function St(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function an(t){var e;return(e=(Bc(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Bc(t){return t instanceof Node||t instanceof St(t).Node}function rn(t){return t instanceof Element||t instanceof St(t).Element}function Ut(t){return t instanceof HTMLElement||t instanceof St(t).HTMLElement}function la(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof St(t).ShadowRoot}function ni(t){const{overflow:e,overflowX:n,overflowY:o,display:i}=Ot(t);return/auto|scroll|overlay|hidden|clip/.test(e+o+n)&&!["inline","contents"].includes(i)}function ah(t){return["table","td","th"].includes(Cn(t))}function zl(t){const e=es(),n=Ot(t);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(o=>(n.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(n.contain||"").includes(o))}function uh(t){let e=mo(t);for(;Ut(e)&&!Pr(e);){if(zl(e))return e;e=mo(e)}return null}function es(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Pr(t){return["html","body","#document"].includes(Cn(t))}function Ot(t){return St(t).getComputedStyle(t)}function Or(t){return rn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function mo(t){if(Cn(t)==="html")return t;const e=t.assignedSlot||t.parentNode||la(t)&&t.host||an(t);return la(e)?e.host:e}function Gc(t){const e=mo(t);return Pr(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ut(e)&&ni(e)?e:Gc(e)}function Jo(t,e,n){var o;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=Gc(t),r=i===((o=t.ownerDocument)==null?void 0:o.body),l=St(i);return r?e.concat(l,l.visualViewport||[],ni(i)?i:[],l.frameElement&&n?Jo(l.frameElement):[]):e.concat(i,Jo(i,[],n))}function Vc(t){const e=Ot(t);let n=parseFloat(e.width)||0,o=parseFloat(e.height)||0;const i=Ut(t),r=i?t.offsetWidth:n,l=i?t.offsetHeight:o,a=tr(n)!==r||tr(o)!==l;return a&&(n=r,o=l),{width:n,height:o,$:a}}function ts(t){return rn(t)?t:t.contextElement}function ao(t){const e=ts(t);if(!Ut(e))return wn(1);const n=e.getBoundingClientRect(),{width:o,height:i,$:r}=Vc(e);let l=(r?tr(n.width):n.width)/o,a=(r?tr(n.height):n.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!a||!Number.isFinite(a))&&(a=1),{x:l,y:a}}const fh=wn(0);function Hc(t){const e=St(t);return!es()||!e.visualViewport?fh:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function ch(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==St(t)?!1:e}function Ln(t,e,n,o){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),r=ts(t);let l=wn(1);e&&(o?rn(o)&&(l=ao(o)):l=ao(t));const a=ch(r,n,o)?Hc(r):wn(0);let s=(i.left+a.x)/l.x,u=(i.top+a.y)/l.y,f=i.width/l.x,c=i.height/l.y;if(r){const d=St(r),m=o&&rn(o)?St(o):o;let _=d,h=_.frameElement;for(;h&&o&&m!==_;){const b=ao(h),y=h.getBoundingClientRect(),A=Ot(h),w=y.left+(h.clientLeft+parseFloat(A.paddingLeft))*b.x,R=y.top+(h.clientTop+parseFloat(A.paddingTop))*b.y;s*=b.x,u*=b.y,f*=b.x,c*=b.y,s+=w,u+=R,_=St(h),h=_.frameElement}}return or({width:f,height:c,x:s,y:u})}const dh=[":popover-open",":modal"];function Wc(t){return dh.some(e=>{try{return t.matches(e)}catch{return!1}})}function mh(t){let{elements:e,rect:n,offsetParent:o,strategy:i}=t;const r=i==="fixed",l=an(o),a=e?Wc(e.floating):!1;if(o===l||a&&r)return n;let s={scrollLeft:0,scrollTop:0},u=wn(1);const f=wn(0),c=Ut(o);if((c||!c&&!r)&&((Cn(o)!=="body"||ni(l))&&(s=Or(o)),Ut(o))){const d=Ln(o);u=ao(o),f.x=d.x+o.clientLeft,f.y=d.y+o.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-s.scrollLeft*u.x+f.x,y:n.y*u.y-s.scrollTop*u.y+f.y}}function ph(t){return Array.from(t.getClientRects())}function $c(t){return Ln(an(t)).left+Or(t).scrollLeft}function hh(t){const e=an(t),n=Or(t),o=t.ownerDocument.body,i=Ct(e.scrollWidth,e.clientWidth,o.scrollWidth,o.clientWidth),r=Ct(e.scrollHeight,e.clientHeight,o.scrollHeight,o.clientHeight);let l=-n.scrollLeft+$c(t);const a=-n.scrollTop;return Ot(o).direction==="rtl"&&(l+=Ct(e.clientWidth,o.clientWidth)-i),{width:i,height:r,x:l,y:a}}function _h(t,e){const n=St(t),o=an(t),i=n.visualViewport;let r=o.clientWidth,l=o.clientHeight,a=0,s=0;if(i){r=i.width,l=i.height;const u=es();(!u||u&&e==="fixed")&&(a=i.offsetLeft,s=i.offsetTop)}return{width:r,height:l,x:a,y:s}}function gh(t,e){const n=Ln(t,!0,e==="fixed"),o=n.top+t.clientTop,i=n.left+t.clientLeft,r=Ut(t)?ao(t):wn(1),l=t.clientWidth*r.x,a=t.clientHeight*r.y,s=i*r.x,u=o*r.y;return{width:l,height:a,x:s,y:u}}function sa(t,e,n){let o;if(e==="viewport")o=_h(t,n);else if(e==="document")o=hh(an(t));else if(rn(e))o=gh(e,n);else{const i=Hc(t);o={...e,x:e.x-i.x,y:e.y-i.y}}return or(o)}function Kc(t,e){const n=mo(t);return n===e||!rn(n)||Pr(n)?!1:Ot(n).position==="fixed"||Kc(n,e)}function bh(t,e){const n=e.get(t);if(n)return n;let o=Jo(t,[],!1).filter(a=>rn(a)&&Cn(a)!=="body"),i=null;const r=Ot(t).position==="fixed";let l=r?mo(t):t;for(;rn(l)&&!Pr(l);){const a=Ot(l),s=zl(l);!s&&a.position==="fixed"&&(i=null),(r?!s&&!i:!s&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||ni(l)&&!s&&Kc(t,l))?o=o.filter(f=>f!==l):i=a,l=mo(l)}return e.set(t,o),o}function vh(t){let{element:e,boundary:n,rootBoundary:o,strategy:i}=t;const l=[...n==="clippingAncestors"?bh(e,this._c):[].concat(n),o],a=l[0],s=l.reduce((u,f)=>{const c=sa(e,f,i);return u.top=Ct(c.top,u.top),u.right=yn(c.right,u.right),u.bottom=yn(c.bottom,u.bottom),u.left=Ct(c.left,u.left),u},sa(e,a,i));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}}function yh(t){const{width:e,height:n}=Vc(t);return{width:e,height:n}}function wh(t,e,n){const o=Ut(e),i=an(e),r=n==="fixed",l=Ln(t,!0,r,e);let a={scrollLeft:0,scrollTop:0};const s=wn(0);if(o||!o&&!r)if((Cn(e)!=="body"||ni(i))&&(a=Or(e)),o){const c=Ln(e,!0,r,e);s.x=c.x+e.clientLeft,s.y=c.y+e.clientTop}else i&&(s.x=$c(i));const u=l.left+a.scrollLeft-s.x,f=l.top+a.scrollTop-s.y;return{x:u,y:f,width:l.width,height:l.height}}function aa(t,e){return!Ut(t)||Ot(t).position==="fixed"?null:e?e(t):t.offsetParent}function Uc(t,e){const n=St(t);if(!Ut(t)||Wc(t))return n;let o=aa(t,e);for(;o&&ah(o)&&Ot(o).position==="static";)o=aa(o,e);return o&&(Cn(o)==="html"||Cn(o)==="body"&&Ot(o).position==="static"&&!zl(o))?n:o||uh(t)||n}const kh=async function(t){const e=this.getOffsetParent||Uc,n=this.getDimensions;return{reference:wh(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,...await n(t.floating)}}};function Ch(t){return Ot(t).direction==="rtl"}const Ah={convertOffsetParentRelativeRectToViewportRelativeRect:mh,getDocumentElement:an,getClippingRect:vh,getOffsetParent:Uc,getElementRects:kh,getClientRects:ph,getDimensions:yh,getScale:ao,isElement:rn,isRTL:Ch};function Sh(t,e){let n=null,o;const i=an(t);function r(){var a;clearTimeout(o),(a=n)==null||a.disconnect(),n=null}function l(a,s){a===void 0&&(a=!1),s===void 0&&(s=1),r();const{left:u,top:f,width:c,height:d}=t.getBoundingClientRect();if(a||e(),!c||!d)return;const m=Mi(f),_=Mi(i.clientWidth-(u+c)),h=Mi(i.clientHeight-(f+d)),b=Mi(u),A={rootMargin:-m+"px "+-_+"px "+-h+"px "+-b+"px",threshold:Ct(0,yn(1,s))||1};let w=!0;function R(V){const N=V[0].intersectionRatio;if(N!==s){if(!w)return l();N?l(!1,N):o=setTimeout(()=>{l(!1,1e-7)},100)}w=!1}try{n=new IntersectionObserver(R,{...A,root:i.ownerDocument})}catch{n=new IntersectionObserver(R,A)}n.observe(t)}return l(!0),r}function Th(t,e,n,o){o===void 0&&(o={});const{ancestorScroll:i=!0,ancestorResize:r=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:s=!1}=o,u=ts(t),f=i||r?[...u?Jo(u):[],...Jo(e)]:[];f.forEach(y=>{i&&y.addEventListener("scroll",n,{passive:!0}),r&&y.addEventListener("resize",n)});const c=u&&a?Sh(u,n):null;let d=-1,m=null;l&&(m=new ResizeObserver(y=>{let[A]=y;A&&A.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(e)})),n()}),u&&!s&&m.observe(u),m.observe(e));let _,h=s?Ln(t):null;s&&b();function b(){const y=Ln(t);h&&(y.x!==h.x||y.y!==h.y||y.width!==h.width||y.height!==h.height)&&n(),h=y,_=requestAnimationFrame(b)}return n(),()=>{var y;f.forEach(A=>{i&&A.removeEventListener("scroll",n),r&&A.removeEventListener("resize",n)}),c==null||c(),(y=m)==null||y.disconnect(),m=null,s&&cancelAnimationFrame(_)}}const Ih=lh,Mh=oh,Ph=sh,Oh=nh,Nh=(t,e,n)=>{const o=new Map,i={platform:Ah,...n},r={...i.platform,_c:o};return th(t,e,{...i,platform:r})},Eh={strategy:"absolute",placement:"top",gutter:5,flip:!0,sameWidth:!1,overflowPadding:8},Rh={bottom:"rotate(45deg)",left:"rotate(135deg)",top:"rotate(225deg)",right:"rotate(315deg)"};function Dh(t,e,n={}){if(!e||!t||n===null)return{destroy:xe};const o={...Eh,...n},i=e.querySelector("[data-arrow=true]"),r=[];o.flip&&r.push(Mh({boundary:o.boundary,padding:o.overflowPadding}));const l=yt(i)?i.offsetHeight/2:0;if(o.gutter||o.offset){const s=o.gutter?{mainAxis:o.gutter}:o.offset;(s==null?void 0:s.mainAxis)!=null&&(s.mainAxis+=l),r.push(rh(s))}r.push(Ih({boundary:o.boundary,crossAxis:o.overlap,padding:o.overflowPadding})),i&&r.push(Oh({element:i,padding:8})),r.push(Ph({padding:o.overflowPadding,apply({rects:s,availableHeight:u,availableWidth:f}){o.sameWidth&&Object.assign(e.style,{width:`${Math.round(s.reference.width)}px`,minWidth:"unset"}),o.fitViewport&&Object.assign(e.style,{maxWidth:`${f}px`,maxHeight:`${u}px`})}}));function a(){if(!t||!e)return;const{placement:s,strategy:u}=o;Nh(t,e,{placement:s,middleware:r,strategy:u}).then(f=>{const c=Math.round(f.x),d=Math.round(f.y);if(Object.assign(e.style,{position:o.strategy,top:`${d}px`,left:`${c}px`}),yt(i)&&f.middlewareData.arrow){const{x:m,y:_}=f.middlewareData.arrow,h=f.placement.split("-")[0];Object.assign(i.style,{position:"absolute",left:m!=null?`${m}px`:"",top:_!=null?`${_}px`:"",[h]:`calc(100% - ${l}px)`,transform:Rh[h],backgroundColor:"inherit",zIndex:"inherit"})}return f})}return Object.assign(e.style,{position:o.strategy}),{destroy:Th(t,e,a)}}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Yc=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],ir=Yc.join(","),Xc=typeof Element>"u",Fn=Xc?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,rr=!Xc&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},lr=function t(e,n){var o;n===void 0&&(n=!0);var i=e==null||(o=e.getAttribute)===null||o===void 0?void 0:o.call(e,"inert"),r=i===""||i==="true",l=r||n&&e&&t(e.parentNode);return l},Lh=function(e){var n,o=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"contenteditable");return o===""||o==="true"},Jc=function(e,n,o){if(lr(e))return[];var i=Array.prototype.slice.apply(e.querySelectorAll(ir));return n&&Fn.call(e,ir)&&i.unshift(e),i=i.filter(o),i},xc=function t(e,n,o){for(var i=[],r=Array.from(e);r.length;){var l=r.shift();if(!lr(l,!1))if(l.tagName==="SLOT"){var a=l.assignedElements(),s=a.length?a:l.children,u=t(s,!0,o);o.flatten?i.push.apply(i,u):i.push({scopeParent:l,candidates:u})}else{var f=Fn.call(l,ir);f&&o.filter(l)&&(n||!e.includes(l))&&i.push(l);var c=l.shadowRoot||typeof o.getShadowRoot=="function"&&o.getShadowRoot(l),d=!lr(c,!1)&&(!o.shadowRootFilter||o.shadowRootFilter(l));if(c&&d){var m=t(c===!0?l.children:c.children,!0,o);o.flatten?i.push.apply(i,m):i.push({scopeParent:l,candidates:m})}else r.unshift.apply(r,l.children)}}return i},Zc=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},In=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||Lh(e))&&!Zc(e)?0:e.tabIndex},Fh=function(e,n){var o=In(e);return o<0&&n&&!Zc(e)?0:o},qh=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},Qc=function(e){return e.tagName==="INPUT"},jh=function(e){return Qc(e)&&e.type==="hidden"},Bh=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(o){return o.tagName==="SUMMARY"});return n},Gh=function(e,n){for(var o=0;o<e.length;o++)if(e[o].checked&&e[o].form===n)return e[o]},Vh=function(e){if(!e.name)return!0;var n=e.form||rr(e),o=function(a){return n.querySelectorAll('input[type="radio"][name="'+a+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=o(window.CSS.escape(e.name));else try{i=o(e.name)}catch(l){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",l.message),!1}var r=Gh(i,e.form);return!r||r===e},Hh=function(e){return Qc(e)&&e.type==="radio"},Wh=function(e){return Hh(e)&&!Vh(e)},$h=function(e){var n,o=e&&rr(e),i=(n=o)===null||n===void 0?void 0:n.host,r=!1;if(o&&o!==e){var l,a,s;for(r=!!((l=i)!==null&&l!==void 0&&(a=l.ownerDocument)!==null&&a!==void 0&&a.contains(i)||e!=null&&(s=e.ownerDocument)!==null&&s!==void 0&&s.contains(e));!r&&i;){var u,f,c;o=rr(i),i=(u=o)===null||u===void 0?void 0:u.host,r=!!((f=i)!==null&&f!==void 0&&(c=f.ownerDocument)!==null&&c!==void 0&&c.contains(i))}}return r},ua=function(e){var n=e.getBoundingClientRect(),o=n.width,i=n.height;return o===0&&i===0},Kh=function(e,n){var o=n.displayCheck,i=n.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var r=Fn.call(e,"details>summary:first-of-type"),l=r?e.parentElement:e;if(Fn.call(l,"details:not([open]) *"))return!0;if(!o||o==="full"||o==="legacy-full"){if(typeof i=="function"){for(var a=e;e;){var s=e.parentElement,u=rr(e);if(s&&!s.shadowRoot&&i(s)===!0)return ua(e);e.assignedSlot?e=e.assignedSlot:!s&&u!==e.ownerDocument?e=u.host:e=s}e=a}if($h(e))return!e.getClientRects().length;if(o!=="legacy-full")return!0}else if(o==="non-zero-area")return ua(e);return!1},Uh=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var o=0;o<n.children.length;o++){var i=n.children.item(o);if(i.tagName==="LEGEND")return Fn.call(n,"fieldset[disabled] *")?!0:!i.contains(e)}return!0}n=n.parentElement}return!1},sr=function(e,n){return!(n.disabled||lr(n)||jh(n)||Kh(n,e)||Bh(n)||Uh(n))},Cl=function(e,n){return!(Wh(n)||In(n)<0||!sr(e,n))},Yh=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},Xh=function t(e){var n=[],o=[];return e.forEach(function(i,r){var l=!!i.scopeParent,a=l?i.scopeParent:i,s=Fh(a,l),u=l?t(i.candidates):a;s===0?l?n.push.apply(n,u):n.push(a):o.push({documentOrder:r,tabIndex:s,item:i,isScope:l,content:u})}),o.sort(qh).reduce(function(i,r){return r.isScope?i.push.apply(i,r.content):i.push(r.content),i},[]).concat(n)},Jh=function(e,n){n=n||{};var o;return n.getShadowRoot?o=xc([e],n.includeContainer,{filter:Cl.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:Yh}):o=Jc(e,n.includeContainer,Cl.bind(null,n)),Xh(o)},xh=function(e,n){n=n||{};var o;return n.getShadowRoot?o=xc([e],n.includeContainer,{filter:sr.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):o=Jc(e,n.includeContainer,sr.bind(null,n)),o},to=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return Fn.call(e,ir)===!1?!1:Cl(n,e)},Zh=Yc.concat("iframe").join(","),Qr=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return Fn.call(e,Zh)===!1?!1:sr(n,e)};/*!
* focus-trap 7.5.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function fa(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,o)}return n}function ca(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fa(Object(n),!0).forEach(function(o){Qh(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fa(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function Qh(t,e,n){return e=e_(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zh(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function e_(t){var e=zh(t,"string");return typeof e=="symbol"?e:String(e)}var da={activateTrap:function(e,n){if(e.length>0){var o=e[e.length-1];o!==n&&o.pause()}var i=e.indexOf(n);i===-1||e.splice(i,1),e.push(n)},deactivateTrap:function(e,n){var o=e.indexOf(n);o!==-1&&e.splice(o,1),e.length>0&&e[e.length-1].unpause()}},t_=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},n_=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},Ko=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},o_=function(e){return Ko(e)&&!e.shiftKey},i_=function(e){return Ko(e)&&e.shiftKey},ma=function(e){return setTimeout(e,0)},pa=function(e,n){var o=-1;return e.every(function(i,r){return n(i)?(o=r,!1):!0}),o},Lo=function(e){for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return typeof e=="function"?e.apply(void 0,o):e},Pi=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},r_=[],l_=function(e,n){var o=(n==null?void 0:n.document)||document,i=(n==null?void 0:n.trapStack)||r_,r=ca({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:o_,isKeyBackward:i_},n),l={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},a,s=function(g,k,E){return g&&g[k]!==void 0?g[k]:r[E||k]},u=function(g,k){var E=typeof(k==null?void 0:k.composedPath)=="function"?k.composedPath():void 0;return l.containerGroups.findIndex(function(q){var D=q.container,K=q.tabbableNodes;return D.contains(g)||(E==null?void 0:E.includes(D))||K.find(function(Z){return Z===g})})},f=function(g){var k=r[g];if(typeof k=="function"){for(var E=arguments.length,q=new Array(E>1?E-1:0),D=1;D<E;D++)q[D-1]=arguments[D];k=k.apply(void 0,q)}if(k===!0&&(k=void 0),!k){if(k===void 0||k===!1)return k;throw new Error("`".concat(g,"` was specified but was not a node, or did not return a node"))}var K=k;if(typeof k=="string"&&(K=o.querySelector(k),!K))throw new Error("`".concat(g,"` as selector refers to no known node"));return K},c=function(){var g=f("initialFocus");if(g===!1)return!1;if(g===void 0||!Qr(g,r.tabbableOptions))if(u(o.activeElement)>=0)g=o.activeElement;else{var k=l.tabbableGroups[0],E=k&&k.firstTabbableNode;g=E||f("fallbackFocus")}if(!g)throw new Error("Your focus-trap needs to have at least one focusable element");return g},d=function(){if(l.containerGroups=l.containers.map(function(g){var k=Jh(g,r.tabbableOptions),E=xh(g,r.tabbableOptions),q=k.length>0?k[0]:void 0,D=k.length>0?k[k.length-1]:void 0,K=E.find(function($){return to($)}),Z=E.slice().reverse().find(function($){return to($)}),x=!!k.find(function($){return In($)>0});return{container:g,tabbableNodes:k,focusableNodes:E,posTabIndexesFound:x,firstTabbableNode:q,lastTabbableNode:D,firstDomTabbableNode:K,lastDomTabbableNode:Z,nextTabbableNode:function(p){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,J=k.indexOf(p);return J<0?j?E.slice(E.indexOf(p)+1).find(function(ne){return to(ne)}):E.slice(0,E.indexOf(p)).reverse().find(function(ne){return to(ne)}):k[J+(j?1:-1)]}}}),l.tabbableGroups=l.containerGroups.filter(function(g){return g.tabbableNodes.length>0}),l.tabbableGroups.length<=0&&!f("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(l.containerGroups.find(function(g){return g.posTabIndexesFound})&&l.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},m=function P(g){var k=g.activeElement;if(k)return k.shadowRoot&&k.shadowRoot.activeElement!==null?P(k.shadowRoot):k},_=function P(g){if(g!==!1&&g!==m(document)){if(!g||!g.focus){P(c());return}g.focus({preventScroll:!!r.preventScroll}),l.mostRecentlyFocusedNode=g,t_(g)&&g.select()}},h=function(g){var k=f("setReturnFocus",g);return k||(k===!1?!1:g)},b=function(g){var k=g.target,E=g.event,q=g.isBackward,D=q===void 0?!1:q;k=k||Pi(E),d();var K=null;if(l.tabbableGroups.length>0){var Z=u(k,E),x=Z>=0?l.containerGroups[Z]:void 0;if(Z<0)D?K=l.tabbableGroups[l.tabbableGroups.length-1].lastTabbableNode:K=l.tabbableGroups[0].firstTabbableNode;else if(D){var $=pa(l.tabbableGroups,function(ue){var ke=ue.firstTabbableNode;return k===ke});if($<0&&(x.container===k||Qr(k,r.tabbableOptions)&&!to(k,r.tabbableOptions)&&!x.nextTabbableNode(k,!1))&&($=Z),$>=0){var p=$===0?l.tabbableGroups.length-1:$-1,j=l.tabbableGroups[p];K=In(k)>=0?j.lastTabbableNode:j.lastDomTabbableNode}else Ko(E)||(K=x.nextTabbableNode(k,!1))}else{var J=pa(l.tabbableGroups,function(ue){var ke=ue.lastTabbableNode;return k===ke});if(J<0&&(x.container===k||Qr(k,r.tabbableOptions)&&!to(k,r.tabbableOptions)&&!x.nextTabbableNode(k))&&(J=Z),J>=0){var ne=J===l.tabbableGroups.length-1?0:J+1,U=l.tabbableGroups[ne];K=In(k)>=0?U.firstTabbableNode:U.firstDomTabbableNode}else Ko(E)||(K=x.nextTabbableNode(k))}}else K=f("fallbackFocus");return K},y=function(g){var k=Pi(g);if(!(u(k,g)>=0)){if(Lo(r.clickOutsideDeactivates,g)){a.deactivate({returnFocus:r.returnFocusOnDeactivate});return}Lo(r.allowOutsideClick,g)||g.preventDefault()}},A=function(g){var k=Pi(g),E=u(k,g)>=0;if(E||k instanceof Document)E&&(l.mostRecentlyFocusedNode=k);else{g.stopImmediatePropagation();var q,D=!0;if(l.mostRecentlyFocusedNode)if(In(l.mostRecentlyFocusedNode)>0){var K=u(l.mostRecentlyFocusedNode),Z=l.containerGroups[K].tabbableNodes;if(Z.length>0){var x=Z.findIndex(function($){return $===l.mostRecentlyFocusedNode});x>=0&&(r.isKeyForward(l.recentNavEvent)?x+1<Z.length&&(q=Z[x+1],D=!1):x-1>=0&&(q=Z[x-1],D=!1))}}else l.containerGroups.some(function($){return $.tabbableNodes.some(function(p){return In(p)>0})})||(D=!1);else D=!1;D&&(q=b({target:l.mostRecentlyFocusedNode,isBackward:r.isKeyBackward(l.recentNavEvent)})),_(q||l.mostRecentlyFocusedNode||c())}l.recentNavEvent=void 0},w=function(g){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;l.recentNavEvent=g;var E=b({event:g,isBackward:k});E&&(Ko(g)&&g.preventDefault(),_(E))},R=function(g){if(n_(g)&&Lo(r.escapeDeactivates,g)!==!1){g.preventDefault(),a.deactivate();return}(r.isKeyForward(g)||r.isKeyBackward(g))&&w(g,r.isKeyBackward(g))},V=function(g){var k=Pi(g);u(k,g)>=0||Lo(r.clickOutsideDeactivates,g)||Lo(r.allowOutsideClick,g)||(g.preventDefault(),g.stopImmediatePropagation())},N=function(){if(l.active)return da.activateTrap(i,a),l.delayInitialFocusTimer=r.delayInitialFocus?ma(function(){_(c())}):_(c()),o.addEventListener("focusin",A,!0),o.addEventListener("mousedown",y,{capture:!0,passive:!1}),o.addEventListener("touchstart",y,{capture:!0,passive:!1}),o.addEventListener("click",V,{capture:!0,passive:!1}),o.addEventListener("keydown",R,{capture:!0,passive:!1}),a},H=function(){if(l.active)return o.removeEventListener("focusin",A,!0),o.removeEventListener("mousedown",y,!0),o.removeEventListener("touchstart",y,!0),o.removeEventListener("click",V,!0),o.removeEventListener("keydown",R,!0),a},F=function(g){var k=g.some(function(E){var q=Array.from(E.removedNodes);return q.some(function(D){return D===l.mostRecentlyFocusedNode})});k&&_(c())},L=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(F):void 0,X=function(){L&&(L.disconnect(),l.active&&!l.paused&&l.containers.map(function(g){L.observe(g,{subtree:!0,childList:!0})}))};return a={get active(){return l.active},get paused(){return l.paused},activate:function(g){if(l.active)return this;var k=s(g,"onActivate"),E=s(g,"onPostActivate"),q=s(g,"checkCanFocusTrap");q||d(),l.active=!0,l.paused=!1,l.nodeFocusedBeforeActivation=o.activeElement,k==null||k();var D=function(){q&&d(),N(),X(),E==null||E()};return q?(q(l.containers.concat()).then(D,D),this):(D(),this)},deactivate:function(g){if(!l.active)return this;var k=ca({onDeactivate:r.onDeactivate,onPostDeactivate:r.onPostDeactivate,checkCanReturnFocus:r.checkCanReturnFocus},g);clearTimeout(l.delayInitialFocusTimer),l.delayInitialFocusTimer=void 0,H(),l.active=!1,l.paused=!1,X(),da.deactivateTrap(i,a);var E=s(k,"onDeactivate"),q=s(k,"onPostDeactivate"),D=s(k,"checkCanReturnFocus"),K=s(k,"returnFocus","returnFocusOnDeactivate");E==null||E();var Z=function(){ma(function(){K&&_(h(l.nodeFocusedBeforeActivation)),q==null||q()})};return K&&D?(D(h(l.nodeFocusedBeforeActivation)).then(Z,Z),this):(Z(),this)},pause:function(g){if(l.paused||!l.active)return this;var k=s(g,"onPause"),E=s(g,"onPostPause");return l.paused=!0,k==null||k(),H(),X(),E==null||E(),this},unpause:function(g){if(!l.paused||!l.active)return this;var k=s(g,"onUnpause"),E=s(g,"onPostUnpause");return l.paused=!1,k==null||k(),d(),N(),X(),E==null||E(),this},updateContainerElements:function(g){var k=[].concat(g).filter(Boolean);return l.containers=k.map(function(E){return typeof E=="string"?o.querySelector(E):E}),l.active&&d(),X(),this}},a.updateContainerElements(e),a};function s_(t={}){let e;const{immediate:n,...o}=t,i=Ke(!1),r=Ke(!1),l=c=>e==null?void 0:e.activate(c),a=c=>{e==null||e.deactivate(c)},s=()=>{e&&(e.pause(),r.set(!0))},u=()=>{e&&(e.unpause(),r.set(!1))};return{useFocusTrap:c=>(e=l_(c,{...o,onActivate(){var d;i.set(!0),(d=t.onActivate)==null||d.call(t)},onDeactivate(){var d;i.set(!1),(d=t.onDeactivate)==null||d.call(t)}}),n&&l(),{destroy(){a(),e=void 0}}),hasFocus:Ws(i),isPaused:Ws(r),activate:l,deactivate:a,pause:s,unpause:u}}const Oi=[];function a_(t,e){let n=xe;function o(){const r=Oi.indexOf(t);r>=0&&Oi.splice(r,1)}function i(r){n();const{open:l,onClose:a,shouldCloseOnInteractOutside:s,closeOnInteractOutside:u}=r;Xl(100).then(()=>{l?Oi.push(t):o()});function f(){return kp(Oi)===t}function c(){f()&&a&&(a(),o())}function d(_){const h=_.target;Tr(h)&&h&&f()&&(_.preventDefault(),_.stopPropagation(),_.stopImmediatePropagation())}function m(_){s!=null&&s(_)&&f()&&(_.preventDefault(),_.stopPropagation(),_.stopImmediatePropagation(),c())}n=u_(t,{onInteractOutsideStart:d,onInteractOutside:u?m:void 0,enabled:l}).destroy}return i(e),{update:i,destroy(){o(),n()}}}const zc=(t,e="body")=>{let n;if(!yt(e)&&typeof e!="string")return{destroy:xe};async function o(r){if(e=r,typeof e=="string"){if(n=document.querySelector(e),n===null&&(await Hl(),n=document.querySelector(e)),n===null)throw new Error(`No element found matching css selector: "${e}"`)}else if(e instanceof HTMLElement)n=e;else throw new TypeError(`Unknown portal target type: ${e===null?"null":typeof e}. Allowed types: string (CSS selector) or HTMLElement.`);t.dataset.portal="",n.appendChild(t),t.hidden=!1}function i(){t.remove()}return o(e),{update:o,destroy:i}};function u_(t,e){let n=xe,o=!1,i=!1,r=!1;function l(u){n();const{onInteractOutside:f,onInteractOutsideStart:c,enabled:d}=u;if(!d)return;function m(b){f&&ha(b,t)&&(c==null||c(b));const y=b.target;Tr(y)&&ed(t,y)&&(i=!0),o=!0}function _(b){f==null||f(b)}const h=f_(t);if(typeof PointerEvent<"u"){const b=y=>{a(y)&&_(y),s()};n=Wt(ht(h,"pointerdown",m,!0),ht(h,"pointerup",b,!0))}else{const b=A=>{r?r=!1:a(A)&&_(A),s()},y=A=>{r=!0,a(A)&&_(A),s()};n=Wt(ht(h,"mousedown",m,!0),ht(h,"mouseup",b,!0),ht(h,"touchstart",m,!0),ht(h,"touchend",y,!0))}}function a(u){return!!(o&&!i&&ha(u,t))}function s(){o=!1,i=!1}return l(e),{update:l,destroy:n}}function ha(t,e){if("button"in t&&t.button>0)return!1;const n=t.target;if(!Tr(n))return!1;const o=n.ownerDocument;return!o||!o.documentElement.contains(n)?!1:e&&!ed(e,n)}function ed(t,e){return t===e||t.contains(e)}function f_(t){return(t==null?void 0:t.ownerDocument)??document}Nn(!1),Nn(!1),Nn(void 0);function c_(){return{elements:{root:ct("label",{action:e=>({destroy:bt(e,"mousedown",o=>{!o.defaultPrevented&&o.detail>1&&o.preventDefault()})})})}}}const{name:Sn}=Sr("dialog"),d_={preventScroll:!0,closeOnEscape:!0,closeOnOutsideClick:!0,role:"dialog",defaultOpen:!1,portal:void 0,forceVisible:!1,openFocus:void 0,closeFocus:void 0,onOutsideClick:void 0},m_=["content","title","description"];function td(t){const e={...d_,...t},n=Dn(Ir(e,"ids")),{preventScroll:o,closeOnEscape:i,closeOnOutsideClick:r,role:l,portal:a,forceVisible:s,openFocus:u,closeFocus:f,onOutsideClick:c}=n,d=tn.writable(null),m=Dn({...Jl(m_),...e.ids}),_=e.open??Ke(e.defaultOpen),h=Mr(_,e==null?void 0:e.onOpenChange),b=sn([h,s],([P,g])=>P||g);let y=xe;function A(P){const g=P.currentTarget,k=P.currentTarget;!yt(g)||!yt(k)||(h.set(!0),d.set(k))}function w(){h.set(!1),oa({prop:f.get(),defaultEl:d.get()})}const R=ct(Sn("trigger"),{stores:[h],returned:([P])=>({"aria-haspopup":"dialog","aria-expanded":P,type:"button"}),action:P=>({destroy:Wt(bt(P,"click",k=>{A(k)}),bt(P,"keydown",k=>{k.key!==lt.ENTER&&k.key!==lt.SPACE||(k.preventDefault(),A(k))}))})}),V=ct(Sn("overlay"),{stores:[b,h],returned:([P,g])=>({hidden:P?void 0:!0,tabindex:-1,style:bn({display:P?void 0:"none"}),"aria-hidden":!0,"data-state":g?"open":"closed"}),action:P=>{let g=xe;if(i.get()){const k=ia(P,{handler:()=>{w()}});k&&k.destroy&&(g=k.destroy)}return{destroy(){g()}}}}),N=ct(Sn("content"),{stores:[b,m.content,m.description,m.title,h],returned:([P,g,k,E,q])=>({id:g,role:l.get(),"aria-describedby":k,"aria-labelledby":E,"aria-modal":P?"true":void 0,"data-state":q?"open":"closed",tabindex:-1,hidden:P?void 0:!0,style:bn({display:P?void 0:"none"})}),action:P=>{let g=xe,k=xe;const E=Wt(Mt([h],([q])=>{if(!q)return;const D=s_({immediate:!1,escapeDeactivates:!0,clickOutsideDeactivates:!0,returnFocusOnDeactivate:!1,fallbackFocus:P});g=D.activate,k=D.deactivate;const K=D.useFocusTrap(P);return K&&K.destroy?K.destroy:D.deactivate}),Mt([r,h],([q,D])=>a_(P,{open:D,closeOnInteractOutside:q,onClose(){w()},shouldCloseOnInteractOutside(K){var Z;return(Z=c.get())==null||Z(K),!K.defaultPrevented}}).destroy),Mt([i],([q])=>{if(!q)return xe;const D=ia(P,{handler:()=>{w()}});return D&&D.destroy?D.destroy:xe}),Mt([b],([q])=>{Hl().then(()=>{q?g():k()})}));return{destroy:()=>{y(),E()}}}}),H=ct(Sn("portalled"),{stores:a,returned:P=>({"data-portal":Ec(P)}),action:P=>{const g=Mt([a],([k])=>{if(k===null)return xe;const E=Fc(P,k);if(E===null)return xe;const q=zc(P,E);return q&&q.destroy?q.destroy:xe});return{destroy(){g()}}}}),F=ct(Sn("title"),{stores:[m.title],returned:([P])=>({id:P})}),L=ct(Sn("description"),{stores:[m.description],returned:([P])=>({id:P})}),X=ct(Sn("close"),{returned:()=>({type:"button"}),action:P=>({destroy:Wt(bt(P,"click",()=>{w()}),bt(P,"keydown",k=>{k.key!==lt.SPACE&&k.key!==lt.ENTER||(k.preventDefault(),w())}))})});return Mt([h,o],([P,g])=>{if(Xo){if(g&&P&&(y=$p()),P){const k=document.getElementById(m.content.get());oa({prop:u.get(),defaultEl:k})}return()=>{s.get()||y()}}}),{ids:m,elements:{content:N,trigger:R,title:F,description:L,overlay:V,close:X,portalled:H},states:{open:h},options:n}}const p_={defaultValue:0,max:100},{name:h_}=Sr("progress"),__=t=>{const e={...p_,...t},n=Dn(Ir(e,"value")),{max:o}=n,i=e.value??Ke(e.defaultValue),r=Mr(i,e==null?void 0:e.onValueChange);return{elements:{root:ct(h_(),{stores:[r,o],returned:([a,s])=>({value:a,max:s,role:"meter","aria-valuemin":0,"aria-valuemax":s,"aria-valuenow":a,"data-value":a,"data-state":a===null?"indeterminate":a===s?"complete":"loading","data-max":s})})},states:{value:r},options:n}},g_={orientation:"horizontal",decorative:!1},b_=t=>{const e={...g_,...t},n=Dn(e),{orientation:o,decorative:i}=n;return{elements:{root:ct("separator",{stores:[o,i],returned:([l,a])=>({role:a?"none":"separator","aria-orientation":l==="vertical"?l:void 0,"aria-hidden":a,"data-orientation":l})})},options:n}},v_={defaultValue:[],min:0,max:100,step:1,orientation:"horizontal",dir:"ltr",disabled:!1},{name:Ni}=Sr("slider"),y_=t=>{const e={...v_,...t},n=Dn(Ir(e,"value","onValueChange","defaultValue")),{min:o,max:i,step:r,orientation:l,dir:a,disabled:s}=n,u=e.value??Ke(e.defaultValue),f=Mr(u,e==null?void 0:e.onValueChange),c=tn(Ke(!1)),d=tn(Ke(0)),m=tn(Ke(null)),_=Jl(["root"]),h=(H,F)=>{f.update(L=>{if(!L)return[H];if(L[F]===H)return L;const X=[...L],P=X[F]>H?-1:1;function g(){X[F]=X[F+P],X[F+P]=H;const D=b();D&&(D[F+P].focus(),m.set({thumb:D[F+P],index:F+P}))}if(P===-1&&H<X[F-1])return g(),X;if(P===1&&H>X[F+1])return g(),X;const k=o.get(),E=i.get(),q=r.get();return X[F]=Zr(H,k,E,q),X})},b=()=>{const H=Jr(_.root);return H?Array.from(H.querySelectorAll('[data-melt-part="thumb"]')).filter(F=>yt(F)):null},y=sn([o,i],([H,F])=>L=>(L-H)/(F-H)*100),A=tn.derived([l,a],([H,F])=>H==="horizontal"?F==="rtl"?"rl":"lr":F==="rtl"?"tb":"bt"),w=ct(Ni(),{stores:[s,l,a],returned:([H,F,L])=>({dir:L,disabled:Xr(H),"data-disabled":Xr(H),"data-orientation":F,style:H?void 0:`touch-action: ${F==="horizontal"?"pan-y":"pan-x"}`,"data-melt-id":_.root})}),R=ct(Ni("range"),{stores:[f,A,y],returned:([H,F,L])=>{const X=H.length>1?L(Math.min(...H)??0):0,P=100-L(Math.max(...H)??0),g={position:"absolute"};switch(F){case"lr":{g.left=`${X}%`,g.right=`${P}%`;break}case"rl":{g.right=`${X}%`,g.left=`${P}%`;break}case"bt":{g.bottom=`${X}%`,g.top=`${P}%`;break}case"tb":{g.top=`${X}%`,g.bottom=`${P}%`;break}}return{style:bn(g)}}}),V=ea(Ni("thumb"),{stores:[f,y,o,i,s,l,A],returned:([H,F,L,X,P,g,k])=>Array.from({length:H.length||1},(q,D)=>{d.get()<H.length&&d.update(p=>p+1);const Z=H[D],x=`${F(Z)}%`,$={position:"absolute"};switch(k){case"lr":{$.left=x,$.translate="-50% 0";break}case"rl":{$.right=x,$.translate="50% 0";break}case"bt":{$.bottom=x,$.translate="0 50%";break}case"tb":{$.top=x,$.translate="0 -50%";break}}return{role:"slider","aria-valuemin":L,"aria-valuemax":X,"aria-valuenow":Z,"aria-disabled":Xr(P),"aria-orientation":g,"data-melt-part":"thumb","data-value":Z,style:bn($),tabindex:P?-1:0}}),action:H=>({destroy:bt(H,"keydown",L=>{if(s.get())return;const X=L.currentTarget;if(!yt(X))return;const P=b();if(!(P!=null&&P.length))return;const g=P.indexOf(X);if(d.set(g),![lt.ARROW_LEFT,lt.ARROW_RIGHT,lt.ARROW_UP,lt.ARROW_DOWN,lt.HOME,lt.END].includes(L.key))return;L.preventDefault();const k=o.get(),E=i.get(),q=r.get(),D=f.get(),K=l.get(),Z=A.get(),x=D[g];switch(L.key){case lt.HOME:{h(k,g);break}case lt.END:{h(E,g);break}case lt.ARROW_LEFT:{if(K!=="horizontal")break;L.metaKey?h(Z==="rl"?E:k,g):Z==="rl"&&x<E?h(x+q,g):Z==="lr"&&x>k&&h(x-q,g);break}case lt.ARROW_RIGHT:{if(K!=="horizontal")break;L.metaKey?h(Z==="rl"?k:E,g):Z==="rl"&&x>k?h(x-q,g):Z==="lr"&&x<E&&h(x+q,g);break}case lt.ARROW_UP:{L.metaKey?h(Z==="tb"?k:E,g):Z==="tb"&&x>k?h(x-q,g):Z!=="tb"&&x<E&&h(x+q,g);break}case lt.ARROW_DOWN:{L.metaKey?h(Z==="tb"?E:k,g):Z==="tb"&&x<E?h(x+q,g):Z!=="tb"&&x>k&&h(x-q,g);break}}})})}),N=ea(Ni("tick"),{stores:[f,o,i,r,A],returned:([H,F,L,X,P])=>{const g=L-F;let k=Math.ceil(g/X);return g%X==0&&k++,Array.from({length:k},(E,q)=>{const D=`${q*(X/(L-F))*100}%`,K=q===0,Z=q===k-1,x=K?0:Z?-100:-50,$={position:"absolute"};switch(P){case"lr":{$.left=D,$.translate=`${x}% 0`;break}case"rl":{$.right=D,$.translate=`${-x}% 0`;break}case"bt":{$.bottom=D,$.translate=`0 ${-x}%`;break}case"tb":{$.top=D,$.translate=`0 ${x}%`;break}}const p=F+q*X;return{"data-bounded":(H.length===1?p<=H[0]:H[0]<=p&&p<=H[H.length-1])?!0:void 0,"data-value":p,style:bn($)}})}});return Mt([w,o,i,s,l,A,r],([H,F,L,X,P,g,k])=>{if(!Xo||X)return;const E=($,p,j,J)=>{const U=($-j)/(J-j)*(L-F)+F;if(U<F)h(F,p);else if(U>L)h(L,p);else{const ue=k,ke=F,we=Math.floor((U-ke)/ue),Ye=ke+we*ue+ue/2,Be=ke+(we+1)*ue+ue/2,et=U>=Ye&&U<Be?(we+1)*ue+ke:we*ue+ke;et<=L&&h(et,p)}},q=$=>{const p=b();if(!p)return;p.forEach(U=>U.blur());const j=p.map(U=>{if(P==="horizontal"){const{left:ue,right:ke}=U.getBoundingClientRect();return Math.abs($.clientX-(ue+ke)/2)}else{const{top:ue,bottom:ke}=U.getBoundingClientRect();return Math.abs($.clientY-(ue+ke)/2)}}),J=p[j.indexOf(Math.min(...j))],ne=p.indexOf(J);return{thumb:J,index:ne}},D=$=>{if(!c.get())return;$.preventDefault(),$.stopPropagation();const p=Jr(H["data-melt-id"]),j=m.get();if(!p||!j)return;j.thumb.focus();const{left:J,right:ne,top:U,bottom:ue}=p.getBoundingClientRect();switch(g){case"lr":{E($.clientX,j.index,J,ne);break}case"rl":{E($.clientX,j.index,ne,J);break}case"bt":{E($.clientY,j.index,ue,U);break}case"tb":{E($.clientY,j.index,U,ue);break}}},K=$=>{if($.button!==0)return;const p=Jr(H["data-melt-id"]),j=q($);if(!j||!p)return;const J=$.target;!yt(J)||!p.contains(J)||($.preventDefault(),m.set(j),j.thumb.focus(),c.set(!0),D($))},Z=()=>{c.set(!1)},x=Wt(ht(document,"pointerdown",K),ht(document,"pointerup",Z),ht(document,"pointerleave",Z),ht(document,"pointermove",D));return()=>{x()}}),Mt([r,o,i,f],function([F,L,X,P]){const g=E=>Zr(E,L,X,F)===E,k=E=>Zr(E,L,X,F);P.some(E=>!g(E))&&f.update(E=>E.map(k))}),{elements:{root:w,thumbs:V,range:R,ticks:N},states:{value:f},options:n}},w_={positioning:{placement:"bottom"},arrowSize:8,defaultOpen:!1,closeOnPointerDown:!0,openDelay:1e3,closeDelay:0,forceVisible:!1,portal:void 0,closeOnEscape:!0,disableHoverableContent:!1,group:void 0},{name:zr}=Sr("tooltip"),Ei=new Map,k_=["trigger","content"];function C_(t){const e={...w_,...t},n=Dn(Ir(e,"open","ids")),{positioning:o,arrowSize:i,closeOnPointerDown:r,openDelay:l,closeDelay:a,forceVisible:s,portal:u,closeOnEscape:f,disableHoverableContent:c,group:d}=n,m=e.open??Ke(e.defaultOpen),_=Mr(m,e==null?void 0:e.onOpenChange),h=Ke(null),b=Dn({...Jl(k_),...e.ids});let y=!1;const A=g=>Xo?document.getElementById(b[g].get()):null;let w=null,R=null;function V(g){R&&(window.clearTimeout(R),R=null),w||(w=window.setTimeout(()=>{_.set(!0),h.update(k=>k??g),w=null},l.get()))}function N(g){if(w&&(window.clearTimeout(w),w=null),g&&P){h.set("pointer");return}R||(R=window.setTimeout(()=>{_.set(!1),h.set(null),g&&(y=!1),R=null},a.get()))}const H=sn([_,s],([g,k])=>g||k),F=ct(zr("trigger"),{stores:[b.content,b.trigger,_],returned:([g,k,E])=>({"aria-describedby":g,id:k,"data-state":E?"open":"closed"}),action:g=>{const k=q=>{f.get()&&q.key===lt.ESCAPE&&(w&&(window.clearTimeout(w),w=null),_.set(!1))};return{destroy:Wt(bt(g,"pointerdown",()=>{r.get()&&(_.set(!1),y=!0,w&&(window.clearTimeout(w),w=null))}),bt(g,"pointerenter",q=>{ta(q)||V("pointer")}),bt(g,"pointerleave",q=>{ta(q)||w&&(window.clearTimeout(w),w=null)}),bt(g,"focus",()=>{y||V("focus")}),bt(g,"blur",async()=>{await Xl(0),N(!0)}),bt(g,"keydown",k),ht(document,"keydown",k))}}}),L=ct(zr("content"),{stores:[H,_,u,b.content],returned:([g,k,E,q])=>({role:"tooltip",hidden:g?void 0:!0,tabindex:-1,style:bn({display:g?void 0:"none"}),id:q,"data-portal":Ec(E),"data-state":k?"open":"closed"}),action:g=>{let k=xe,E=xe;const q=Mt([H,o,u],([Z,x,$])=>{const p=A("trigger");if(!Z||!p){E(),k();return}if(k=Dh(p,g,x).destroy,$===null){E();return}const J=Fc(g,$);if(J){const ne=zc(g,J);ne&&ne.destroy&&(E=ne.destroy)}});function D(Z){if(!_.get())return;const x=Z.target;if(!Tr(x)&&!Cp(x))return;const $=A("trigger");$&&x.contains($)&&N()}const K=Wt(bt(g,"pointerenter",()=>V("pointer")),bt(g,"pointerdown",()=>V("pointer")),ht(window,"scroll",D,{capture:!0}));return{destroy(){K(),E(),k(),q()}}}}),X=ct(zr("arrow"),{stores:i,returned:g=>({"data-arrow":!0,style:bn({position:"absolute",width:`var(--arrow-size, ${g}px)`,height:`var(--arrow-size, ${g}px)`})})});let P=!1;return Mt(_,g=>{const k=d.get();if(k===void 0||k===!1)return;if(!g){Ei.get(k)===_&&Ei.delete(k);return}const E=Ei.get(k);E==null||E.set(!1),Ei.set(k,_)}),Mt([_,h],([g,k])=>{if(!(!g||!Xo))return Wt(ht(document,"mousemove",E=>{const q=A("content"),D=A("trigger");if(!q||!D)return;const K=c.get()?[D]:[D,q],Z=Gp(K);P=Vp({x:E.clientX,y:E.clientY},Z),k==="pointer"&&(P||N())}))}),{ids:b,elements:{trigger:F,content:L,arrow:X},states:{open:_},options:n}}function Hn(t,e){const n={};return e.forEach(o=>{n[o]={[`data-${t}-${o}`]:""}}),o=>n[o]}function Wn(){const t=dm();return e=>{const{originalEvent:n}=e.detail,{cancelable:o}=e,i=n.type;t(i,{originalEvent:n,currentTarget:n.currentTarget},{cancelable:o})||e.preventDefault()}}function wo(t){const e={};for(const n in t){const o=t[n];o!==void 0&&(e[n]=o)}return e}function qn(t){return function(e,n){if(n===void 0)return;const o=t[e];o&&o.set(n)}}function nd(){return{NAME:"alert-dialog",PARTS:["action","cancel","content","description","overlay","portal","title","trigger"]}}function A_(t){const{NAME:e,PARTS:n}=nd(),o=Hn(e,n),i=td({...wo(t),role:"alertdialog",forceVisible:!0}),r={...i,getAttrs:o,updateOption:qn(i.options)};return kr(e,r),{...r,updateOption:qn(r.options),getAttrs:o}}function $n(){const{NAME:t}=nd();return Cr(t)}const S_=t=>({ids:t&1}),_a=t=>({ids:t[0]});function T_(t){let e;const n=t[12].default,o=de(n,t,t[11],_a);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,[r]){o&&o.p&&(!e||r&2049)&&pe(o,n,i,i[11],e?me(n,i[11],r,S_):he(i[11]),_a)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function I_(t,e,n){let o,{$$slots:i={},$$scope:r}=e,{preventScroll:l=void 0}=e,{closeOnEscape:a=void 0}=e,{closeOnOutsideClick:s=!1}=e,{portal:u=void 0}=e,{open:f=void 0}=e,{onOpenChange:c=void 0}=e,{openFocus:d=void 0}=e,{closeFocus:m=void 0}=e,{onOutsideClick:_=void 0}=e;const{states:{open:h},updateOption:b,ids:y}=A_({closeOnEscape:a,preventScroll:l,closeOnOutsideClick:s,portal:u,forceVisible:!0,defaultOpen:f,openFocus:d,closeFocus:m,onOutsideClick:_,onOpenChange:({next:w})=>(f!==w&&(c==null||c(w),n(2,f=w)),w)}),A=sn([y.content,y.description,y.title],([w,R,V])=>({content:w,description:R,title:V}));return ae(t,A,w=>n(0,o=w)),t.$$set=w=>{"preventScroll"in w&&n(3,l=w.preventScroll),"closeOnEscape"in w&&n(4,a=w.closeOnEscape),"closeOnOutsideClick"in w&&n(5,s=w.closeOnOutsideClick),"portal"in w&&n(6,u=w.portal),"open"in w&&n(2,f=w.open),"onOpenChange"in w&&n(7,c=w.onOpenChange),"openFocus"in w&&n(8,d=w.openFocus),"closeFocus"in w&&n(9,m=w.closeFocus),"onOutsideClick"in w&&n(10,_=w.onOutsideClick),"$$scope"in w&&n(11,r=w.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&f!==void 0&&h.set(f),t.$$.dirty&8&&b("preventScroll",l),t.$$.dirty&16&&b("closeOnEscape",a),t.$$.dirty&32&&b("closeOnOutsideClick",s),t.$$.dirty&64&&b("portal",u),t.$$.dirty&256&&b("openFocus",d),t.$$.dirty&512&&b("closeFocus",m),t.$$.dirty&1024&&b("onOutsideClick",_)},[o,A,f,l,a,s,u,c,d,m,_,r,i]}class M_ extends ye{constructor(e){super(),ve(this,e,I_,T_,fe,{preventScroll:3,closeOnEscape:4,closeOnOutsideClick:5,portal:6,open:2,onOpenChange:7,openFocus:8,closeFocus:9,onOutsideClick:10})}}const P_=t=>({builder:t&8}),ga=t=>({builder:t[3]}),O_=t=>({builder:t&8}),ba=t=>({builder:t[3]});function N_(t){let e=t[1],n,o,i=t[1]&&el(t);return{c(){i&&i.c(),n=Re()},m(r,l){i&&i.m(r,l),I(r,n,l),o=!0},p(r,l){r[1]?e?fe(e,r[1])?(i.d(1),i=el(r),e=r[1],i.c(),i.m(n.parentNode,n)):i.p(r,l):(i=el(r),e=r[1],i.c(),i.m(n.parentNode,n)):e&&(i.d(1),i=null,e=r[1])},i(r){o||(C(i,r),o=!0)},o(r){S(i,r),o=!1},d(r){r&&T(n),i&&i.d(r)}}}function E_(t){let e;const n=t[9].default,o=de(n,t,t[8],ba);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&264)&&pe(o,n,i,i[8],e?me(n,i[8],r,O_):he(i[8]),ba)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function el(t){let e,n,o,i;const r=t[9].default,l=de(r,t,t[8],ga);let a=[t[3],t[5]],s={};for(let u=0;u<a.length;u+=1)s=Y(s,a[u]);return{c(){e=M(t[1]),l&&l.c(),vn(t[1])(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),t[10](e),n=!0,o||(i=Fe(t[3].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&264)&&pe(l,r,u,u[8],n?me(r,u[8],f,P_):he(u[8]),ga),vn(u[1])(e,s=be(a,[f&8&&u[3],f&32&&u[5]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[10](null),o=!1,i()}}}function R_(t){let e,n,o,i;const r=[E_,N_],l=[];function a(s,u){return s[2]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Me(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function D_(t,e,n){let o;const i=["level","asChild","id","el"];let r=re(e,i),l,{$$slots:a={},$$scope:s}=e,{level:u="h2"}=e,{asChild:f=!1}=e,{id:c=void 0}=e,{el:d=void 0}=e;const{elements:{title:m},ids:_,getAttrs:h}=$n();ae(t,m,A=>n(7,l=A));const b=h("title");function y(A){Pe[A?"unshift":"push"](()=>{d=A,n(0,d)})}return t.$$set=A=>{e=Y(Y({},e),Ne(A)),n(5,r=re(e,i)),"level"in A&&n(1,u=A.level),"asChild"in A&&n(2,f=A.asChild),"id"in A&&n(6,c=A.id),"el"in A&&n(0,d=A.el),"$$scope"in A&&n(8,s=A.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&c&&_.title.set(c),t.$$.dirty&128&&n(3,o=l),t.$$.dirty&8&&Object.assign(o,b)},[d,u,f,o,m,r,c,l,s,a,y]}let L_=class extends ye{constructor(e){super(),ve(this,e,D_,R_,fe,{level:1,asChild:2,id:6,el:0})}};const F_=t=>({builder:t&4}),va=t=>({builder:t[2]}),q_=t=>({builder:t&4}),ya=t=>({builder:t[2]});function j_(t){let e,n,o,i;const r=t[8].default,l=de(r,t,t[7],va);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=Y(s,a[u]);return{c(){e=M("button"),l&&l.c(),le(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[9](e),n=!0,o||(i=[Fe(t[2].action(e)),te(e,"m-click",t[4]),te(e,"m-keydown",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&pe(l,r,u,u[7],n?me(r,u[7],f,F_):he(u[7]),va),le(e,s=be(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[9](null),o=!1,je(i)}}}function B_(t){let e;const n=t[8].default,o=de(n,t,t[7],ya);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&pe(o,n,i,i[7],e?me(n,i[7],r,q_):he(i[7]),ya)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function G_(t){let e,n,o,i;const r=[B_,j_],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Me(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function V_(t,e,n){let o;const i=["asChild","el"];let r=re(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:d}=$n();ae(t,c,b=>n(6,l=b));const m=Wn(),_=d("action");function h(b){Pe[b?"unshift":"push"](()=>{f=b,n(0,f)})}return t.$$set=b=>{e=Y(Y({},e),Ne(b)),n(5,r=re(e,i)),"asChild"in b&&n(1,u=b.asChild),"el"in b&&n(0,f=b.el),"$$scope"in b&&n(7,s=b.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,_)},[f,u,o,c,m,r,l,s,a,h]}let H_=class extends ye{constructor(e){super(),ve(this,e,V_,G_,fe,{asChild:1,el:0})}};const W_=t=>({builder:t&4}),wa=t=>({builder:t[2]}),$_=t=>({builder:t&4}),ka=t=>({builder:t[2]});function K_(t){let e,n,o,i;const r=t[8].default,l=de(r,t,t[7],wa);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=Y(s,a[u]);return{c(){e=M("button"),l&&l.c(),le(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[9](e),n=!0,o||(i=[Fe(t[2].action(e)),te(e,"m-click",t[4]),te(e,"m-keydown",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&pe(l,r,u,u[7],n?me(r,u[7],f,W_):he(u[7]),wa),le(e,s=be(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[9](null),o=!1,je(i)}}}function U_(t){let e;const n=t[8].default,o=de(n,t,t[7],ka);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&pe(o,n,i,i[7],e?me(n,i[7],r,$_):he(i[7]),ka)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Y_(t){let e,n,o,i;const r=[U_,K_],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Me(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function X_(t,e,n){let o;const i=["asChild","el"];let r=re(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:d}=$n();ae(t,c,b=>n(6,l=b));const m=Wn(),_=d("cancel");function h(b){Pe[b?"unshift":"push"](()=>{f=b,n(0,f)})}return t.$$set=b=>{e=Y(Y({},e),Ne(b)),n(5,r=re(e,i)),"asChild"in b&&n(1,u=b.asChild),"el"in b&&n(0,f=b.el),"$$scope"in b&&n(7,s=b.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,_)},[f,u,o,c,m,r,l,s,a,h]}let J_=class extends ye{constructor(e){super(),ve(this,e,X_,Y_,fe,{asChild:1,el:0})}};const x_=t=>({builder:t&4}),Ca=t=>({builder:t[2]}),Z_=t=>({builder:t&4}),Aa=t=>({builder:t[2]});function Q_(t){let e,n,o,i;const r=t[7].default,l=de(r,t,t[6],Ca);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=Y(s,a[u]);return{c(){e=M("div"),l&&l.c(),le(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),t[8](e),n=!0,o||(i=Fe(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&68)&&pe(l,r,u,u[6],n?me(r,u[6],f,x_):he(u[6]),Ca),le(e,s=be(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[8](null),o=!1,i()}}}function z_(t){let e;const n=t[7].default,o=de(n,t,t[6],Aa);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&68)&&pe(o,n,i,i[6],e?me(n,i[6],r,Z_):he(i[6]),Aa)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function e0(t){let e,n,o,i;const r=[z_,Q_],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Me(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function t0(t,e,n){let o;const i=["asChild","el"];let r=re(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{portalled:c},getAttrs:d}=$n();ae(t,c,h=>n(5,l=h));const m=d("portal");function _(h){Pe[h?"unshift":"push"](()=>{f=h,n(0,f)})}return t.$$set=h=>{e=Y(Y({},e),Ne(h)),n(4,r=re(e,i)),"asChild"in h&&n(1,u=h.asChild),"el"in h&&n(0,f=h.el),"$$scope"in h&&n(6,s=h.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,m)},[f,u,o,c,r,l,s,a,_]}let n0=class extends ye{constructor(e){super(),ve(this,e,t0,e0,fe,{asChild:1,el:0})}};const o0=t=>({builder:t[0]&256}),Sa=t=>({builder:t[8]}),i0=t=>({builder:t[0]&256}),Ta=t=>({builder:t[8]}),r0=t=>({builder:t[0]&256}),Ia=t=>({builder:t[8]}),l0=t=>({builder:t[0]&256}),Ma=t=>({builder:t[8]}),s0=t=>({builder:t[0]&256}),Pa=t=>({builder:t[8]}),a0=t=>({builder:t[0]&256}),Oa=t=>({builder:t[8]});function u0(t){let e,n,o,i;const r=t[16].default,l=de(r,t,t[15],Sa);let a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=Y(s,a[u]);return{c(){e=M("div"),l&&l.c(),le(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),t[56](e),n=!0,o||(i=[Fe(t[8].action(e)),te(e,"pointerdown",t[45]),te(e,"pointermove",t[46]),te(e,"pointerup",t[47]),te(e,"touchend",t[48]),te(e,"touchstart",t[49]),te(e,"touchcancel",t[50]),te(e,"touchmove",t[51])],o=!0)},p(u,f){l&&l.p&&(!n||f[0]&33024)&&pe(l,r,u,u[15],n?me(r,u[15],f,o0):he(u[15]),Sa),le(e,s=be(a,[f[0]&256&&u[8],f[0]&4096&&u[12]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[56](null),o=!1,je(i)}}}function f0(t){let e,n,o,i,r;const l=t[16].default,a=de(l,t,t[15],Ta);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Y(u,s[f]);return{c(){e=M("div"),a&&a.c(),le(e,u)},m(f,c){I(f,e,c),a&&a.m(e,null),t[55](e),o=!0,i||(r=[Fe(t[8].action(e)),te(e,"pointerdown",t[38]),te(e,"pointermove",t[39]),te(e,"pointerup",t[40]),te(e,"touchend",t[41]),te(e,"touchstart",t[42]),te(e,"touchcancel",t[43]),te(e,"touchmove",t[44])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&pe(a,l,t,t[15],o?me(l,t[15],c,i0):he(t[15]),Ta),le(e,u=be(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(C(a,f),n&&n.end(1),o=!0)},o(f){S(a,f),f&&(n=Jt(e,t[5],t[6])),o=!1},d(f){f&&T(e),a&&a.d(f),t[55](null),f&&n&&n.end(),i=!1,je(r)}}}function c0(t){let e,n,o,i,r;const l=t[16].default,a=de(l,t,t[15],Ia);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Y(u,s[f]);return{c(){e=M("div"),a&&a.c(),le(e,u)},m(f,c){I(f,e,c),a&&a.m(e,null),t[54](e),o=!0,i||(r=[Fe(t[8].action(e)),te(e,"pointerdown",t[31]),te(e,"pointermove",t[32]),te(e,"pointerup",t[33]),te(e,"touchend",t[34]),te(e,"touchstart",t[35]),te(e,"touchcancel",t[36]),te(e,"touchmove",t[37])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&pe(a,l,t,t[15],o?me(l,t[15],c,r0):he(t[15]),Ia),le(e,u=be(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(C(a,f),f&&(n||tt(()=>{n=Xt(e,t[3],t[4]),n.start()})),o=!0)},o(f){S(a,f),o=!1},d(f){f&&T(e),a&&a.d(f),t[54](null),i=!1,je(r)}}}function d0(t){let e,n,o,i,r,l;const a=t[16].default,s=de(a,t,t[15],Ma);let u=[t[8],t[12]],f={};for(let c=0;c<u.length;c+=1)f=Y(f,u[c]);return{c(){e=M("div"),s&&s.c(),le(e,f)},m(c,d){I(c,e,d),s&&s.m(e,null),t[53](e),i=!0,r||(l=[Fe(t[8].action(e)),te(e,"pointerdown",t[24]),te(e,"pointermove",t[25]),te(e,"pointerup",t[26]),te(e,"touchend",t[27]),te(e,"touchstart",t[28]),te(e,"touchcancel",t[29]),te(e,"touchmove",t[30])],r=!0)},p(c,d){t=c,s&&s.p&&(!i||d[0]&33024)&&pe(s,a,t,t[15],i?me(a,t[15],d,l0):he(t[15]),Ma),le(e,f=be(u,[d[0]&256&&t[8],d[0]&4096&&t[12]]))},i(c){i||(C(s,c),c&&tt(()=>{i&&(o&&o.end(1),n=Xt(e,t[3],t[4]),n.start())}),i=!0)},o(c){S(s,c),n&&n.invalidate(),c&&(o=Jt(e,t[5],t[6])),i=!1},d(c){c&&T(e),s&&s.d(c),t[53](null),c&&o&&o.end(),r=!1,je(l)}}}function m0(t){let e,n,o,i,r;const l=t[16].default,a=de(l,t,t[15],Pa);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Y(u,s[f]);return{c(){e=M("div"),a&&a.c(),le(e,u)},m(f,c){I(f,e,c),a&&a.m(e,null),t[52](e),o=!0,i||(r=[Fe(t[8].action(e)),te(e,"pointerdown",t[17]),te(e,"pointermove",t[18]),te(e,"pointerup",t[19]),te(e,"touchend",t[20]),te(e,"touchstart",t[21]),te(e,"touchcancel",t[22]),te(e,"touchmove",t[23])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&pe(a,l,t,t[15],o?me(l,t[15],c,s0):he(t[15]),Pa),le(e,u=be(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(C(a,f),f&&tt(()=>{o&&(n||(n=Kt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(f){S(a,f),f&&(n||(n=Kt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(f){f&&T(e),a&&a.d(f),t[52](null),f&&n&&n.end(),i=!1,je(r)}}}function p0(t){let e;const n=t[16].default,o=de(n,t,t[15],Oa);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r[0]&33024)&&pe(o,n,i,i[15],e?me(n,i[15],r,a0):he(i[15]),Oa)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function h0(t){let e,n,o,i;const r=[p0,m0,d0,c0,f0,u0],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=Re()},m(s,u){~e&&l[e].m(s,u),I(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Ie(),S(l[f],1,1,()=>{l[f]=null}),Me()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),~e&&l[e].d(s)}}}function _0(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","id","asChild","el"];let r=re(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:_=void 0}=e,{outTransitionConfig:h=void 0}=e,{id:b=void 0}=e,{asChild:y=!1}=e,{el:A=void 0}=e;const{elements:{content:w},states:{open:R},ids:V,getAttrs:N}=$n();ae(t,w,B=>n(14,l=B)),ae(t,R,B=>n(9,a=B));const H=N("content");function F(B){oe.call(this,t,B)}function L(B){oe.call(this,t,B)}function X(B){oe.call(this,t,B)}function P(B){oe.call(this,t,B)}function g(B){oe.call(this,t,B)}function k(B){oe.call(this,t,B)}function E(B){oe.call(this,t,B)}function q(B){oe.call(this,t,B)}function D(B){oe.call(this,t,B)}function K(B){oe.call(this,t,B)}function Z(B){oe.call(this,t,B)}function x(B){oe.call(this,t,B)}function $(B){oe.call(this,t,B)}function p(B){oe.call(this,t,B)}function j(B){oe.call(this,t,B)}function J(B){oe.call(this,t,B)}function ne(B){oe.call(this,t,B)}function U(B){oe.call(this,t,B)}function ue(B){oe.call(this,t,B)}function ke(B){oe.call(this,t,B)}function we(B){oe.call(this,t,B)}function Ye(B){oe.call(this,t,B)}function Be(B){oe.call(this,t,B)}function et(B){oe.call(this,t,B)}function ce(B){oe.call(this,t,B)}function Oe(B){oe.call(this,t,B)}function Ve(B){oe.call(this,t,B)}function We(B){oe.call(this,t,B)}function Ge(B){oe.call(this,t,B)}function Ce(B){oe.call(this,t,B)}function Te(B){oe.call(this,t,B)}function _t(B){oe.call(this,t,B)}function It(B){oe.call(this,t,B)}function dt(B){oe.call(this,t,B)}function qt(B){oe.call(this,t,B)}function Nt(B){Pe[B?"unshift":"push"](()=>{A=B,n(0,A)})}function ft(B){Pe[B?"unshift":"push"](()=>{A=B,n(0,A)})}function Qe(B){Pe[B?"unshift":"push"](()=>{A=B,n(0,A)})}function ge(B){Pe[B?"unshift":"push"](()=>{A=B,n(0,A)})}function $e(B){Pe[B?"unshift":"push"](()=>{A=B,n(0,A)})}return t.$$set=B=>{e=Y(Y({},e),Ne(B)),n(12,r=re(e,i)),"transition"in B&&n(1,f=B.transition),"transitionConfig"in B&&n(2,c=B.transitionConfig),"inTransition"in B&&n(3,d=B.inTransition),"inTransitionConfig"in B&&n(4,m=B.inTransitionConfig),"outTransition"in B&&n(5,_=B.outTransition),"outTransitionConfig"in B&&n(6,h=B.outTransitionConfig),"id"in B&&n(13,b=B.id),"asChild"in B&&n(7,y=B.asChild),"el"in B&&n(0,A=B.el),"$$scope"in B&&n(15,u=B.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&8192&&b&&V.content.set(b),t.$$.dirty[0]&16384&&n(8,o=l),t.$$.dirty[0]&256&&Object.assign(o,H)},[A,f,c,d,m,_,h,y,o,a,w,R,r,b,l,u,s,F,L,X,P,g,k,E,q,D,K,Z,x,$,p,j,J,ne,U,ue,ke,we,Ye,Be,et,ce,Oe,Ve,We,Ge,Ce,Te,_t,It,dt,qt,Nt,ft,Qe,ge,$e]}let g0=class extends ye{constructor(e){super(),ve(this,e,_0,h0,fe,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,id:13,asChild:7,el:0},null,[-1,-1])}};const b0=t=>({builder:t&256}),Na=t=>({builder:t[8]});function v0(t){let e,n,o,i=[t[8],t[12]],r={};for(let l=0;l<i.length;l+=1)r=Y(r,i[l]);return{c(){e=M("div"),le(e,r)},m(l,a){I(l,e,a),t[20](e),n||(o=Fe(t[8].action(e)),n=!0)},p(l,a){le(e,r=be(i,[a&256&&l[8],a&4096&&l[12]]))},i:Ae,o:Ae,d(l){l&&T(e),t[20](null),n=!1,o()}}}function y0(t){let e,n,o,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=Y(a,l[s]);return{c(){e=M("div"),le(e,a)},m(s,u){I(s,e,u),t[19](e),o=!0,i||(r=Fe(t[8].action(e)),i=!0)},p(s,u){t=s,le(e,a=be(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(n&&n.end(1),o=!0)},o(s){s&&(n=Jt(e,t[5],t[6])),o=!1},d(s){s&&T(e),t[19](null),s&&n&&n.end(),i=!1,r()}}}function w0(t){let e,n,o,i,r=[t[8],t[12]],l={};for(let a=0;a<r.length;a+=1)l=Y(l,r[a]);return{c(){e=M("div"),le(e,l)},m(a,s){I(a,e,s),t[18](e),o||(i=Fe(t[8].action(e)),o=!0)},p(a,s){t=a,le(e,l=be(r,[s&256&&t[8],s&4096&&t[12]]))},i(a){a&&(n||tt(()=>{n=Xt(e,t[3],t[4]),n.start()}))},o:Ae,d(a){a&&T(e),t[18](null),o=!1,i()}}}function k0(t){let e,n,o,i,r,l,a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=Y(s,a[u]);return{c(){e=M("div"),le(e,s)},m(u,f){I(u,e,f),t[17](e),i=!0,r||(l=Fe(t[8].action(e)),r=!0)},p(u,f){t=u,le(e,s=be(a,[f&256&&t[8],f&4096&&t[12]]))},i(u){i||(u&&tt(()=>{i&&(o&&o.end(1),n=Xt(e,t[3],t[4]),n.start())}),i=!0)},o(u){n&&n.invalidate(),u&&(o=Jt(e,t[5],t[6])),i=!1},d(u){u&&T(e),t[17](null),u&&o&&o.end(),r=!1,l()}}}function C0(t){let e,n,o,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=Y(a,l[s]);return{c(){e=M("div"),le(e,a)},m(s,u){I(s,e,u),t[16](e),o=!0,i||(r=Fe(t[8].action(e)),i=!0)},p(s,u){t=s,le(e,a=be(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(s&&tt(()=>{o&&(n||(n=Kt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(s){s&&(n||(n=Kt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(s){s&&T(e),t[16](null),s&&n&&n.end(),i=!1,r()}}}function A0(t){let e;const n=t[15].default,o=de(n,t,t[14],Na);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&16640)&&pe(o,n,i,i[14],e?me(n,i[14],r,b0):he(i[14]),Na)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function S0(t){let e,n,o,i;const r=[A0,C0,k0,w0,y0,v0],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=Re()},m(s,u){~e&&l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Ie(),S(l[f],1,1,()=>{l[f]=null}),Me()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),~e&&l[e].d(s)}}}function T0(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","el"];let r=re(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:_=void 0}=e,{outTransitionConfig:h=void 0}=e,{asChild:b=!1}=e,{el:y=void 0}=e;const{elements:{overlay:A},states:{open:w},getAttrs:R}=$n();ae(t,A,P=>n(13,l=P)),ae(t,w,P=>n(9,a=P));const V=R("overlay");function N(P){Pe[P?"unshift":"push"](()=>{y=P,n(0,y)})}function H(P){Pe[P?"unshift":"push"](()=>{y=P,n(0,y)})}function F(P){Pe[P?"unshift":"push"](()=>{y=P,n(0,y)})}function L(P){Pe[P?"unshift":"push"](()=>{y=P,n(0,y)})}function X(P){Pe[P?"unshift":"push"](()=>{y=P,n(0,y)})}return t.$$set=P=>{e=Y(Y({},e),Ne(P)),n(12,r=re(e,i)),"transition"in P&&n(1,f=P.transition),"transitionConfig"in P&&n(2,c=P.transitionConfig),"inTransition"in P&&n(3,d=P.inTransition),"inTransitionConfig"in P&&n(4,m=P.inTransitionConfig),"outTransition"in P&&n(5,_=P.outTransition),"outTransitionConfig"in P&&n(6,h=P.outTransitionConfig),"asChild"in P&&n(7,b=P.asChild),"el"in P&&n(0,y=P.el),"$$scope"in P&&n(14,u=P.$$scope)},t.$$.update=()=>{t.$$.dirty&8192&&n(8,o=l),t.$$.dirty&256&&Object.assign(o,V)},[y,f,c,d,m,_,h,b,o,a,A,w,r,l,u,s,N,H,F,L,X]}let I0=class extends ye{constructor(e){super(),ve(this,e,T0,S0,fe,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,el:0})}};const M0=t=>({builder:t&4}),Ea=t=>({builder:t[2]}),P0=t=>({builder:t&4}),Ra=t=>({builder:t[2]});function O0(t){let e,n,o,i;const r=t[8].default,l=de(r,t,t[7],Ea);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=Y(s,a[u]);return{c(){e=M("div"),l&&l.c(),le(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),t[9](e),n=!0,o||(i=Fe(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&pe(l,r,u,u[7],n?me(r,u[7],f,M0):he(u[7]),Ea),le(e,s=be(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[9](null),o=!1,i()}}}function N0(t){let e;const n=t[8].default,o=de(n,t,t[7],Ra);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&pe(o,n,i,i[7],e?me(n,i[7],r,P0):he(i[7]),Ra)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function E0(t){let e,n,o,i;const r=[N0,O0],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Me(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function R0(t,e,n){let o;const i=["asChild","id","el"];let r=re(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{description:d},ids:m,getAttrs:_}=$n();ae(t,d,y=>n(6,l=y));const h=_("description");function b(y){Pe[y?"unshift":"push"](()=>{c=y,n(0,c)})}return t.$$set=y=>{e=Y(Y({},e),Ne(y)),n(4,r=re(e,i)),"asChild"in y&&n(1,u=y.asChild),"id"in y&&n(5,f=y.id),"el"in y&&n(0,c=y.el),"$$scope"in y&&n(7,s=y.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f&&m.description.set(f),t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,h)},[c,u,o,d,r,f,l,s,a,b]}let D0=class extends ye{constructor(e){super(),ve(this,e,R0,E0,fe,{asChild:1,id:5,el:0})}};function L0(t,e){const n=[];return e.builders.forEach(o=>{const i=o.action(t);i&&n.push(i)}),{destroy:()=>{n.forEach(o=>{o.destroy&&o.destroy()})}}}function Da(t){const e={};return t.forEach(n=>{Object.keys(n).forEach(o=>{o!=="action"&&(e[o]=n[o])})}),e}function F0(t){let e=t[1]?"a":"button",n,o,i=(t[1]?"a":"button")&&tl(t);return{c(){i&&i.c(),n=Re()},m(r,l){i&&i.m(r,l),I(r,n,l),o=!0},p(r,l){r[1],e?fe(e,r[1]?"a":"button")?(i.d(1),i=tl(r),e=r[1]?"a":"button",i.c(),i.m(n.parentNode,n)):i.p(r,l):(i=tl(r),e=r[1]?"a":"button",i.c(),i.m(n.parentNode,n))},i(r){o||(C(i,r),o=!0)},o(r){S(i,r),o=!1},d(r){r&&T(n),i&&i.d(r)}}}function q0(t){let e=t[1]?"a":"button",n,o,i=(t[1]?"a":"button")&&nl(t);return{c(){i&&i.c(),n=Re()},m(r,l){i&&i.m(r,l),I(r,n,l),o=!0},p(r,l){r[1],e?fe(e,r[1]?"a":"button")?(i.d(1),i=nl(r),e=r[1]?"a":"button",i.c(),i.m(n.parentNode,n)):i.p(r,l):(i=nl(r),e=r[1]?"a":"button",i.c(),i.m(n.parentNode,n))},i(r){o||(C(i,r),o=!0)},o(r){S(i,r),o=!1},d(r){r&&T(n),i&&i.d(r)}}}function tl(t){let e,n,o,i,r;const l=t[7].default,a=de(l,t,t[6],null);let s=[{type:n=t[1]?void 0:t[2]},{href:t[1]},{tabindex:"0"},t[5],t[4]],u={};for(let f=0;f<s.length;f+=1)u=Y(u,s[f]);return{c(){e=M(t[1]?"a":"button"),a&&a.c(),vn(t[1]?"a":"button")(e,u)},m(f,c){I(f,e,c),a&&a.m(e,null),o=!0,i||(r=[te(e,"click",t[14]),te(e,"change",t[15]),te(e,"keydown",t[16]),te(e,"keyup",t[17]),te(e,"mouseenter",t[18]),te(e,"mouseleave",t[19])],i=!0)},p(f,c){a&&a.p&&(!o||c&64)&&pe(a,l,f,f[6],o?me(l,f[6],c,null):he(f[6]),null),vn(f[1]?"a":"button")(e,u=be(s,[(!o||c&6&&n!==(n=f[1]?void 0:f[2]))&&{type:n},(!o||c&2)&&{href:f[1]},{tabindex:"0"},c&32&&f[5],f[4]]))},i(f){o||(C(a,f),o=!0)},o(f){S(a,f),o=!1},d(f){f&&T(e),a&&a.d(f),i=!1,je(r)}}}function nl(t){let e,n,o,i,r,l;const a=t[7].default,s=de(a,t,t[6],null);let u=[{type:n=t[1]?void 0:t[2]},{href:t[1]},{tabindex:"0"},Da(t[3]),t[5],t[4]],f={};for(let c=0;c<u.length;c+=1)f=Y(f,u[c]);return{c(){e=M(t[1]?"a":"button"),s&&s.c(),vn(t[1]?"a":"button")(e,f)},m(c,d){I(c,e,d),s&&s.m(e,null),t[20](e),i=!0,r||(l=[te(e,"click",t[8]),te(e,"change",t[9]),te(e,"keydown",t[10]),te(e,"keyup",t[11]),te(e,"mouseenter",t[12]),te(e,"mouseleave",t[13]),Fe(o=L0.call(null,e,{builders:t[3]}))],r=!0)},p(c,d){s&&s.p&&(!i||d&64)&&pe(s,a,c,c[6],i?me(a,c[6],d,null):he(c[6]),null),vn(c[1]?"a":"button")(e,f=be(u,[(!i||d&6&&n!==(n=c[1]?void 0:c[2]))&&{type:n},(!i||d&2)&&{href:c[1]},{tabindex:"0"},d&8&&Da(c[3]),d&32&&c[5],c[4]])),o&&An(o.update)&&d&8&&o.update.call(null,{builders:c[3]})},i(c){i||(C(s,c),i=!0)},o(c){S(s,c),i=!1},d(c){c&&T(e),s&&s.d(c),t[20](null),r=!1,je(l)}}}function j0(t){let e,n,o,i;const r=[q0,F0],l=[];function a(s,u){return s[3]&&s[3].length?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Me(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function B0(t,e,n){const o=["href","type","builders","el"];let i=re(e,o),{$$slots:r={},$$scope:l}=e,{href:a=void 0}=e,{type:s=void 0}=e,{builders:u=[]}=e,{el:f=void 0}=e;const c={"data-button-root":""};function d(L){oe.call(this,t,L)}function m(L){oe.call(this,t,L)}function _(L){oe.call(this,t,L)}function h(L){oe.call(this,t,L)}function b(L){oe.call(this,t,L)}function y(L){oe.call(this,t,L)}function A(L){oe.call(this,t,L)}function w(L){oe.call(this,t,L)}function R(L){oe.call(this,t,L)}function V(L){oe.call(this,t,L)}function N(L){oe.call(this,t,L)}function H(L){oe.call(this,t,L)}function F(L){Pe[L?"unshift":"push"](()=>{f=L,n(0,f)})}return t.$$set=L=>{e=Y(Y({},e),Ne(L)),n(5,i=re(e,o)),"href"in L&&n(1,a=L.href),"type"in L&&n(2,s=L.type),"builders"in L&&n(3,u=L.builders),"el"in L&&n(0,f=L.el),"$$scope"in L&&n(6,l=L.$$scope)},[f,a,s,u,c,i,l,r,d,m,_,h,b,y,A,w,R,V,N,H,F]}let G0=class extends ye{constructor(e){super(),ve(this,e,B0,j0,fe,{href:1,type:2,builders:3,el:0})}};function V0(t){return(e={})=>H0(t,e)}function H0(t,e){const o={...{side:"bottom",align:"center",sideOffset:0,alignOffset:0,sameWidth:!1,avoidCollisions:!0,collisionPadding:8,fitViewport:!1,strategy:"absolute",overlap:!1},...e};t.update(i=>({...i,placement:W0(o.side,o.align),offset:{...i.offset,mainAxis:o.sideOffset,crossAxis:o.alignOffset},gutter:0,sameWidth:o.sameWidth,flip:o.avoidCollisions,overflowPadding:o.collisionPadding,boundary:o.collisionBoundary,fitViewport:o.fitViewport,strategy:o.strategy,overlap:o.overlap}))}function W0(t,e){return e==="center"?t:`${t}-${e}`}function $0(){return{NAME:"separator",PARTS:["root"]}}function K0(t){const{NAME:e,PARTS:n}=$0(),o=Hn(e,n),i={...b_(wo(t)),getAttrs:o};return{...i,updateOption:qn(i.options)}}const U0=t=>({builder:t&4}),La=t=>({builder:t[2]});function Y0(t){let e,n,o,i=[t[2],t[4]],r={};for(let l=0;l<i.length;l+=1)r=Y(r,i[l]);return{c(){e=M("div"),le(e,r)},m(l,a){I(l,e,a),t[10](e),n||(o=Fe(t[2].action(e)),n=!0)},p(l,a){le(e,r=be(i,[a&4&&l[2],a&16&&l[4]]))},i:Ae,o:Ae,d(l){l&&T(e),t[10](null),n=!1,o()}}}function X0(t){let e;const n=t[9].default,o=de(n,t,t[8],La);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&260)&&pe(o,n,i,i[8],e?me(n,i[8],r,U0):he(i[8]),La)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function J0(t){let e,n,o,i;const r=[X0,Y0],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Me(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function x0(t,e,n){let o;const i=["orientation","decorative","asChild","el"];let r=re(e,i),l,{$$slots:a={},$$scope:s}=e,{orientation:u="horizontal"}=e,{decorative:f=!0}=e,{asChild:c=!1}=e,{el:d=void 0}=e;const{elements:{root:m},updateOption:_,getAttrs:h}=K0({orientation:u,decorative:f});ae(t,m,A=>n(7,l=A));const b=h("root");function y(A){Pe[A?"unshift":"push"](()=>{d=A,n(0,d)})}return t.$$set=A=>{e=Y(Y({},e),Ne(A)),n(4,r=re(e,i)),"orientation"in A&&n(5,u=A.orientation),"decorative"in A&&n(6,f=A.decorative),"asChild"in A&&n(1,c=A.asChild),"el"in A&&n(0,d=A.el),"$$scope"in A&&n(8,s=A.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&_("orientation",u),t.$$.dirty&64&&_("decorative",f),t.$$.dirty&128&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,b)},[d,c,o,m,r,u,f,l,s,a,y]}let Z0=class extends ye{constructor(e){super(),ve(this,e,x0,J0,fe,{orientation:5,decorative:6,asChild:1,el:0})}};function od(){return{NAME:"dialog",PARTS:["close","content","description","overlay","portal","title","trigger"]}}function Q0(t){const{NAME:e,PARTS:n}=od(),o=Hn(e,n),i={...td({...wo(t),role:"dialog",forceVisible:!0}),getAttrs:o};return kr(e,i),{...i,updateOption:qn(i.options)}}function ko(){const{NAME:t}=od();return Cr(t)}const z0=t=>({ids:t&1}),Fa=t=>({ids:t[0]});function eg(t){let e;const n=t[12].default,o=de(n,t,t[11],Fa);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,[r]){o&&o.p&&(!e||r&2049)&&pe(o,n,i,i[11],e?me(n,i[11],r,z0):he(i[11]),Fa)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function tg(t,e,n){let o,{$$slots:i={},$$scope:r}=e,{preventScroll:l=void 0}=e,{closeOnEscape:a=void 0}=e,{closeOnOutsideClick:s=void 0}=e,{portal:u=void 0}=e,{open:f=void 0}=e,{onOpenChange:c=void 0}=e,{openFocus:d=void 0}=e,{closeFocus:m=void 0}=e,{onOutsideClick:_=void 0}=e;const{states:{open:h},updateOption:b,ids:y}=Q0({closeOnEscape:a,preventScroll:l,closeOnOutsideClick:s,portal:u,forceVisible:!0,defaultOpen:f,openFocus:d,closeFocus:m,onOutsideClick:_,onOpenChange:({next:w})=>(f!==w&&(c==null||c(w),n(2,f=w)),w)}),A=sn([y.content,y.description,y.title],([w,R,V])=>({content:w,description:R,title:V}));return ae(t,A,w=>n(0,o=w)),t.$$set=w=>{"preventScroll"in w&&n(3,l=w.preventScroll),"closeOnEscape"in w&&n(4,a=w.closeOnEscape),"closeOnOutsideClick"in w&&n(5,s=w.closeOnOutsideClick),"portal"in w&&n(6,u=w.portal),"open"in w&&n(2,f=w.open),"onOpenChange"in w&&n(7,c=w.onOpenChange),"openFocus"in w&&n(8,d=w.openFocus),"closeFocus"in w&&n(9,m=w.closeFocus),"onOutsideClick"in w&&n(10,_=w.onOutsideClick),"$$scope"in w&&n(11,r=w.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&f!==void 0&&h.set(f),t.$$.dirty&8&&b("preventScroll",l),t.$$.dirty&16&&b("closeOnEscape",a),t.$$.dirty&32&&b("closeOnOutsideClick",s),t.$$.dirty&64&&b("portal",u),t.$$.dirty&256&&b("openFocus",d),t.$$.dirty&512&&b("closeFocus",m),t.$$.dirty&1024&&b("onOutsideClick",_)},[o,A,f,l,a,s,u,c,d,m,_,r,i]}class ng extends ye{constructor(e){super(),ve(this,e,tg,eg,fe,{preventScroll:3,closeOnEscape:4,closeOnOutsideClick:5,portal:6,open:2,onOpenChange:7,openFocus:8,closeFocus:9,onOutsideClick:10})}}const og=t=>({builder:t&8}),qa=t=>({builder:t[3]}),ig=t=>({builder:t&8}),ja=t=>({builder:t[3]});function rg(t){let e=t[1],n,o,i=t[1]&&ol(t);return{c(){i&&i.c(),n=Re()},m(r,l){i&&i.m(r,l),I(r,n,l),o=!0},p(r,l){r[1]?e?fe(e,r[1])?(i.d(1),i=ol(r),e=r[1],i.c(),i.m(n.parentNode,n)):i.p(r,l):(i=ol(r),e=r[1],i.c(),i.m(n.parentNode,n)):e&&(i.d(1),i=null,e=r[1])},i(r){o||(C(i,r),o=!0)},o(r){S(i,r),o=!1},d(r){r&&T(n),i&&i.d(r)}}}function lg(t){let e;const n=t[9].default,o=de(n,t,t[8],ja);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&264)&&pe(o,n,i,i[8],e?me(n,i[8],r,ig):he(i[8]),ja)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function ol(t){let e,n,o,i;const r=t[9].default,l=de(r,t,t[8],qa);let a=[t[3],t[5]],s={};for(let u=0;u<a.length;u+=1)s=Y(s,a[u]);return{c(){e=M(t[1]),l&&l.c(),vn(t[1])(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),t[10](e),n=!0,o||(i=Fe(t[3].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&264)&&pe(l,r,u,u[8],n?me(r,u[8],f,og):he(u[8]),qa),vn(u[1])(e,s=be(a,[f&8&&u[3],f&32&&u[5]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[10](null),o=!1,i()}}}function sg(t){let e,n,o,i;const r=[lg,rg],l=[];function a(s,u){return s[2]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Me(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function ag(t,e,n){let o;const i=["level","asChild","id","el"];let r=re(e,i),l,{$$slots:a={},$$scope:s}=e,{level:u="h2"}=e,{asChild:f=!1}=e,{id:c=void 0}=e,{el:d=void 0}=e;const{elements:{title:m},ids:_,getAttrs:h}=ko();ae(t,m,A=>n(7,l=A));const b=h("title");function y(A){Pe[A?"unshift":"push"](()=>{d=A,n(0,d)})}return t.$$set=A=>{e=Y(Y({},e),Ne(A)),n(5,r=re(e,i)),"level"in A&&n(1,u=A.level),"asChild"in A&&n(2,f=A.asChild),"id"in A&&n(6,c=A.id),"el"in A&&n(0,d=A.el),"$$scope"in A&&n(8,s=A.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&c&&_.title.set(c),t.$$.dirty&128&&n(3,o=l),t.$$.dirty&8&&Object.assign(o,b)},[d,u,f,o,m,r,c,l,s,a,y]}let ug=class extends ye{constructor(e){super(),ve(this,e,ag,sg,fe,{level:1,asChild:2,id:6,el:0})}};const fg=t=>({builder:t&4}),Ba=t=>({builder:t[2]}),cg=t=>({builder:t&4}),Ga=t=>({builder:t[2]});function dg(t){let e,n,o,i;const r=t[8].default,l=de(r,t,t[7],Ba);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=Y(s,a[u]);return{c(){e=M("button"),l&&l.c(),le(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[9](e),n=!0,o||(i=[Fe(t[2].action(e)),te(e,"m-click",t[4]),te(e,"m-keydown",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&pe(l,r,u,u[7],n?me(r,u[7],f,fg):he(u[7]),Ba),le(e,s=be(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[9](null),o=!1,je(i)}}}function mg(t){let e;const n=t[8].default,o=de(n,t,t[7],Ga);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&pe(o,n,i,i[7],e?me(n,i[7],r,cg):he(i[7]),Ga)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function pg(t){let e,n,o,i;const r=[mg,dg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Me(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function hg(t,e,n){let o;const i=["asChild","el"];let r=re(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:d}=ko();ae(t,c,b=>n(6,l=b));const m=Wn(),_=d("close");function h(b){Pe[b?"unshift":"push"](()=>{f=b,n(0,f)})}return t.$$set=b=>{e=Y(Y({},e),Ne(b)),n(5,r=re(e,i)),"asChild"in b&&n(1,u=b.asChild),"el"in b&&n(0,f=b.el),"$$scope"in b&&n(7,s=b.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,_)},[f,u,o,c,m,r,l,s,a,h]}class _g extends ye{constructor(e){super(),ve(this,e,hg,pg,fe,{asChild:1,el:0})}}const gg=t=>({builder:t&4}),Va=t=>({builder:t[2]}),bg=t=>({builder:t&4}),Ha=t=>({builder:t[2]});function vg(t){let e,n,o,i;const r=t[7].default,l=de(r,t,t[6],Va);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=Y(s,a[u]);return{c(){e=M("div"),l&&l.c(),le(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),t[8](e),n=!0,o||(i=Fe(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&68)&&pe(l,r,u,u[6],n?me(r,u[6],f,gg):he(u[6]),Va),le(e,s=be(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[8](null),o=!1,i()}}}function yg(t){let e;const n=t[7].default,o=de(n,t,t[6],Ha);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&68)&&pe(o,n,i,i[6],e?me(n,i[6],r,bg):he(i[6]),Ha)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function wg(t){let e,n,o,i;const r=[yg,vg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Me(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function kg(t,e,n){let o;const i=["asChild","el"];let r=re(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{portalled:c},getAttrs:d}=ko();ae(t,c,h=>n(5,l=h));const m=d("portal");function _(h){Pe[h?"unshift":"push"](()=>{f=h,n(0,f)})}return t.$$set=h=>{e=Y(Y({},e),Ne(h)),n(4,r=re(e,i)),"asChild"in h&&n(1,u=h.asChild),"el"in h&&n(0,f=h.el),"$$scope"in h&&n(6,s=h.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,m)},[f,u,o,c,r,l,s,a,_]}let Cg=class extends ye{constructor(e){super(),ve(this,e,kg,wg,fe,{asChild:1,el:0})}};const Ag=t=>({builder:t[0]&256}),Wa=t=>({builder:t[8]}),Sg=t=>({builder:t[0]&256}),$a=t=>({builder:t[8]}),Tg=t=>({builder:t[0]&256}),Ka=t=>({builder:t[8]}),Ig=t=>({builder:t[0]&256}),Ua=t=>({builder:t[8]}),Mg=t=>({builder:t[0]&256}),Ya=t=>({builder:t[8]}),Pg=t=>({builder:t[0]&256}),Xa=t=>({builder:t[8]});function Og(t){let e,n,o,i;const r=t[16].default,l=de(r,t,t[15],Wa);let a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=Y(s,a[u]);return{c(){e=M("div"),l&&l.c(),le(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),t[56](e),n=!0,o||(i=[Fe(t[8].action(e)),te(e,"pointerdown",t[45]),te(e,"pointermove",t[46]),te(e,"pointerup",t[47]),te(e,"touchend",t[48]),te(e,"touchstart",t[49]),te(e,"touchcancel",t[50]),te(e,"touchmove",t[51])],o=!0)},p(u,f){l&&l.p&&(!n||f[0]&33024)&&pe(l,r,u,u[15],n?me(r,u[15],f,Ag):he(u[15]),Wa),le(e,s=be(a,[f[0]&256&&u[8],f[0]&4096&&u[12]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[56](null),o=!1,je(i)}}}function Ng(t){let e,n,o,i,r;const l=t[16].default,a=de(l,t,t[15],$a);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Y(u,s[f]);return{c(){e=M("div"),a&&a.c(),le(e,u)},m(f,c){I(f,e,c),a&&a.m(e,null),t[55](e),o=!0,i||(r=[Fe(t[8].action(e)),te(e,"pointerdown",t[38]),te(e,"pointermove",t[39]),te(e,"pointerup",t[40]),te(e,"touchend",t[41]),te(e,"touchstart",t[42]),te(e,"touchcancel",t[43]),te(e,"touchmove",t[44])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&pe(a,l,t,t[15],o?me(l,t[15],c,Sg):he(t[15]),$a),le(e,u=be(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(C(a,f),n&&n.end(1),o=!0)},o(f){S(a,f),f&&(n=Jt(e,t[5],t[6])),o=!1},d(f){f&&T(e),a&&a.d(f),t[55](null),f&&n&&n.end(),i=!1,je(r)}}}function Eg(t){let e,n,o,i,r;const l=t[16].default,a=de(l,t,t[15],Ka);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Y(u,s[f]);return{c(){e=M("div"),a&&a.c(),le(e,u)},m(f,c){I(f,e,c),a&&a.m(e,null),t[54](e),o=!0,i||(r=[Fe(t[8].action(e)),te(e,"pointerdown",t[31]),te(e,"pointermove",t[32]),te(e,"pointerup",t[33]),te(e,"touchend",t[34]),te(e,"touchstart",t[35]),te(e,"touchcancel",t[36]),te(e,"touchmove",t[37])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&pe(a,l,t,t[15],o?me(l,t[15],c,Tg):he(t[15]),Ka),le(e,u=be(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(C(a,f),f&&(n||tt(()=>{n=Xt(e,t[3],t[4]),n.start()})),o=!0)},o(f){S(a,f),o=!1},d(f){f&&T(e),a&&a.d(f),t[54](null),i=!1,je(r)}}}function Rg(t){let e,n,o,i,r,l;const a=t[16].default,s=de(a,t,t[15],Ua);let u=[t[8],t[12]],f={};for(let c=0;c<u.length;c+=1)f=Y(f,u[c]);return{c(){e=M("div"),s&&s.c(),le(e,f)},m(c,d){I(c,e,d),s&&s.m(e,null),t[53](e),i=!0,r||(l=[Fe(t[8].action(e)),te(e,"pointerdown",t[24]),te(e,"pointermove",t[25]),te(e,"pointerup",t[26]),te(e,"touchend",t[27]),te(e,"touchstart",t[28]),te(e,"touchcancel",t[29]),te(e,"touchmove",t[30])],r=!0)},p(c,d){t=c,s&&s.p&&(!i||d[0]&33024)&&pe(s,a,t,t[15],i?me(a,t[15],d,Ig):he(t[15]),Ua),le(e,f=be(u,[d[0]&256&&t[8],d[0]&4096&&t[12]]))},i(c){i||(C(s,c),c&&tt(()=>{i&&(o&&o.end(1),n=Xt(e,t[3],t[4]),n.start())}),i=!0)},o(c){S(s,c),n&&n.invalidate(),c&&(o=Jt(e,t[5],t[6])),i=!1},d(c){c&&T(e),s&&s.d(c),t[53](null),c&&o&&o.end(),r=!1,je(l)}}}function Dg(t){let e,n,o,i,r;const l=t[16].default,a=de(l,t,t[15],Ya);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Y(u,s[f]);return{c(){e=M("div"),a&&a.c(),le(e,u)},m(f,c){I(f,e,c),a&&a.m(e,null),t[52](e),o=!0,i||(r=[Fe(t[8].action(e)),te(e,"pointerdown",t[17]),te(e,"pointermove",t[18]),te(e,"pointerup",t[19]),te(e,"touchend",t[20]),te(e,"touchstart",t[21]),te(e,"touchcancel",t[22]),te(e,"touchmove",t[23])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&pe(a,l,t,t[15],o?me(l,t[15],c,Mg):he(t[15]),Ya),le(e,u=be(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(C(a,f),f&&tt(()=>{o&&(n||(n=Kt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(f){S(a,f),f&&(n||(n=Kt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(f){f&&T(e),a&&a.d(f),t[52](null),f&&n&&n.end(),i=!1,je(r)}}}function Lg(t){let e;const n=t[16].default,o=de(n,t,t[15],Xa);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r[0]&33024)&&pe(o,n,i,i[15],e?me(n,i[15],r,Pg):he(i[15]),Xa)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Fg(t){let e,n,o,i;const r=[Lg,Dg,Rg,Eg,Ng,Og],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=Re()},m(s,u){~e&&l[e].m(s,u),I(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Ie(),S(l[f],1,1,()=>{l[f]=null}),Me()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),~e&&l[e].d(s)}}}function qg(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","id","el"];let r=re(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:_=void 0}=e,{outTransitionConfig:h=void 0}=e,{asChild:b=!1}=e,{id:y=void 0}=e,{el:A=void 0}=e;const{elements:{content:w},states:{open:R},ids:V,getAttrs:N}=ko();ae(t,w,B=>n(14,l=B)),ae(t,R,B=>n(9,a=B));const H=N("content");function F(B){oe.call(this,t,B)}function L(B){oe.call(this,t,B)}function X(B){oe.call(this,t,B)}function P(B){oe.call(this,t,B)}function g(B){oe.call(this,t,B)}function k(B){oe.call(this,t,B)}function E(B){oe.call(this,t,B)}function q(B){oe.call(this,t,B)}function D(B){oe.call(this,t,B)}function K(B){oe.call(this,t,B)}function Z(B){oe.call(this,t,B)}function x(B){oe.call(this,t,B)}function $(B){oe.call(this,t,B)}function p(B){oe.call(this,t,B)}function j(B){oe.call(this,t,B)}function J(B){oe.call(this,t,B)}function ne(B){oe.call(this,t,B)}function U(B){oe.call(this,t,B)}function ue(B){oe.call(this,t,B)}function ke(B){oe.call(this,t,B)}function we(B){oe.call(this,t,B)}function Ye(B){oe.call(this,t,B)}function Be(B){oe.call(this,t,B)}function et(B){oe.call(this,t,B)}function ce(B){oe.call(this,t,B)}function Oe(B){oe.call(this,t,B)}function Ve(B){oe.call(this,t,B)}function We(B){oe.call(this,t,B)}function Ge(B){oe.call(this,t,B)}function Ce(B){oe.call(this,t,B)}function Te(B){oe.call(this,t,B)}function _t(B){oe.call(this,t,B)}function It(B){oe.call(this,t,B)}function dt(B){oe.call(this,t,B)}function qt(B){oe.call(this,t,B)}function Nt(B){Pe[B?"unshift":"push"](()=>{A=B,n(0,A)})}function ft(B){Pe[B?"unshift":"push"](()=>{A=B,n(0,A)})}function Qe(B){Pe[B?"unshift":"push"](()=>{A=B,n(0,A)})}function ge(B){Pe[B?"unshift":"push"](()=>{A=B,n(0,A)})}function $e(B){Pe[B?"unshift":"push"](()=>{A=B,n(0,A)})}return t.$$set=B=>{e=Y(Y({},e),Ne(B)),n(12,r=re(e,i)),"transition"in B&&n(1,f=B.transition),"transitionConfig"in B&&n(2,c=B.transitionConfig),"inTransition"in B&&n(3,d=B.inTransition),"inTransitionConfig"in B&&n(4,m=B.inTransitionConfig),"outTransition"in B&&n(5,_=B.outTransition),"outTransitionConfig"in B&&n(6,h=B.outTransitionConfig),"asChild"in B&&n(7,b=B.asChild),"id"in B&&n(13,y=B.id),"el"in B&&n(0,A=B.el),"$$scope"in B&&n(15,u=B.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&8192&&y&&V.content.set(y),t.$$.dirty[0]&16384&&n(8,o=l),t.$$.dirty[0]&256&&Object.assign(o,H)},[A,f,c,d,m,_,h,b,o,a,w,R,r,y,l,u,s,F,L,X,P,g,k,E,q,D,K,Z,x,$,p,j,J,ne,U,ue,ke,we,Ye,Be,et,ce,Oe,Ve,We,Ge,Ce,Te,_t,It,dt,qt,Nt,ft,Qe,ge,$e]}let jg=class extends ye{constructor(e){super(),ve(this,e,qg,Fg,fe,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,id:13,el:0},null,[-1,-1])}};const Bg=t=>({builder:t&256}),Ja=t=>({builder:t[8]});function Gg(t){let e,n,o,i=[t[8],t[12]],r={};for(let l=0;l<i.length;l+=1)r=Y(r,i[l]);return{c(){e=M("div"),le(e,r)},m(l,a){I(l,e,a),t[25](e),n||(o=[Fe(t[8].action(e)),te(e,"mouseup",t[20])],n=!0)},p(l,a){le(e,r=be(i,[a&256&&l[8],a&4096&&l[12]]))},i:Ae,o:Ae,d(l){l&&T(e),t[25](null),n=!1,je(o)}}}function Vg(t){let e,n,o,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=Y(a,l[s]);return{c(){e=M("div"),le(e,a)},m(s,u){I(s,e,u),t[24](e),o=!0,i||(r=[Fe(t[8].action(e)),te(e,"mouseup",t[19])],i=!0)},p(s,u){t=s,le(e,a=be(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(n&&n.end(1),o=!0)},o(s){s&&(n=Jt(e,t[5],t[6])),o=!1},d(s){s&&T(e),t[24](null),s&&n&&n.end(),i=!1,je(r)}}}function Hg(t){let e,n,o,i,r=[t[8],t[12]],l={};for(let a=0;a<r.length;a+=1)l=Y(l,r[a]);return{c(){e=M("div"),le(e,l)},m(a,s){I(a,e,s),t[23](e),o||(i=[Fe(t[8].action(e)),te(e,"mouseup",t[18])],o=!0)},p(a,s){t=a,le(e,l=be(r,[s&256&&t[8],s&4096&&t[12]]))},i(a){a&&(n||tt(()=>{n=Xt(e,t[3],t[4]),n.start()}))},o:Ae,d(a){a&&T(e),t[23](null),o=!1,je(i)}}}function Wg(t){let e,n,o,i,r,l,a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=Y(s,a[u]);return{c(){e=M("div"),le(e,s)},m(u,f){I(u,e,f),t[22](e),i=!0,r||(l=[Fe(t[8].action(e)),te(e,"mouseup",t[17])],r=!0)},p(u,f){t=u,le(e,s=be(a,[f&256&&t[8],f&4096&&t[12]]))},i(u){i||(u&&tt(()=>{i&&(o&&o.end(1),n=Xt(e,t[3],t[4]),n.start())}),i=!0)},o(u){n&&n.invalidate(),u&&(o=Jt(e,t[5],t[6])),i=!1},d(u){u&&T(e),t[22](null),u&&o&&o.end(),r=!1,je(l)}}}function $g(t){let e,n,o,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=Y(a,l[s]);return{c(){e=M("div"),le(e,a)},m(s,u){I(s,e,u),t[21](e),o=!0,i||(r=[te(e,"mouseup",t[16]),Fe(t[8].action(e))],i=!0)},p(s,u){t=s,le(e,a=be(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(s&&tt(()=>{o&&(n||(n=Kt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(s){s&&(n||(n=Kt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(s){s&&T(e),t[21](null),s&&n&&n.end(),i=!1,je(r)}}}function Kg(t){let e;const n=t[15].default,o=de(n,t,t[14],Ja);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&16640)&&pe(o,n,i,i[14],e?me(n,i[14],r,Bg):he(i[14]),Ja)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Ug(t){let e,n,o,i;const r=[Kg,$g,Wg,Hg,Vg,Gg],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=Re()},m(s,u){~e&&l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Ie(),S(l[f],1,1,()=>{l[f]=null}),Me()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),~e&&l[e].d(s)}}}function Yg(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","el"];let r=re(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:_=void 0}=e,{outTransitionConfig:h=void 0}=e,{asChild:b=!1}=e,{el:y=void 0}=e;const{elements:{overlay:A},states:{open:w},getAttrs:R}=ko();ae(t,A,D=>n(13,l=D)),ae(t,w,D=>n(9,a=D));const V=R("overlay");function N(D){oe.call(this,t,D)}function H(D){oe.call(this,t,D)}function F(D){oe.call(this,t,D)}function L(D){oe.call(this,t,D)}function X(D){oe.call(this,t,D)}function P(D){Pe[D?"unshift":"push"](()=>{y=D,n(0,y)})}function g(D){Pe[D?"unshift":"push"](()=>{y=D,n(0,y)})}function k(D){Pe[D?"unshift":"push"](()=>{y=D,n(0,y)})}function E(D){Pe[D?"unshift":"push"](()=>{y=D,n(0,y)})}function q(D){Pe[D?"unshift":"push"](()=>{y=D,n(0,y)})}return t.$$set=D=>{e=Y(Y({},e),Ne(D)),n(12,r=re(e,i)),"transition"in D&&n(1,f=D.transition),"transitionConfig"in D&&n(2,c=D.transitionConfig),"inTransition"in D&&n(3,d=D.inTransition),"inTransitionConfig"in D&&n(4,m=D.inTransitionConfig),"outTransition"in D&&n(5,_=D.outTransition),"outTransitionConfig"in D&&n(6,h=D.outTransitionConfig),"asChild"in D&&n(7,b=D.asChild),"el"in D&&n(0,y=D.el),"$$scope"in D&&n(14,u=D.$$scope)},t.$$.update=()=>{t.$$.dirty&8192&&n(8,o=l),t.$$.dirty&256&&Object.assign(o,V)},[y,f,c,d,m,_,h,b,o,a,A,w,r,l,u,s,N,H,F,L,X,P,g,k,E,q]}let Xg=class extends ye{constructor(e){super(),ve(this,e,Yg,Ug,fe,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,el:0})}};const Jg=t=>({builder:t&4}),xa=t=>({builder:t[2]}),xg=t=>({builder:t&4}),Za=t=>({builder:t[2]});function Zg(t){let e,n,o,i;const r=t[8].default,l=de(r,t,t[7],xa);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=Y(s,a[u]);return{c(){e=M("div"),l&&l.c(),le(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),t[9](e),n=!0,o||(i=Fe(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&pe(l,r,u,u[7],n?me(r,u[7],f,Jg):he(u[7]),xa),le(e,s=be(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[9](null),o=!1,i()}}}function Qg(t){let e;const n=t[8].default,o=de(n,t,t[7],Za);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&pe(o,n,i,i[7],e?me(n,i[7],r,xg):he(i[7]),Za)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function zg(t){let e,n,o,i;const r=[Qg,Zg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Me(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function e1(t,e,n){let o;const i=["asChild","id","el"];let r=re(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{description:d},ids:m,getAttrs:_}=ko();ae(t,d,y=>n(6,l=y));const h=_("description");function b(y){Pe[y?"unshift":"push"](()=>{c=y,n(0,c)})}return t.$$set=y=>{e=Y(Y({},e),Ne(y)),n(4,r=re(e,i)),"asChild"in y&&n(1,u=y.asChild),"id"in y&&n(5,f=y.id),"el"in y&&n(0,c=y.el),"$$scope"in y&&n(7,s=y.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f&&m.description.set(f),t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,h)},[c,u,o,d,r,f,l,s,a,b]}let t1=class extends ye{constructor(e){super(),ve(this,e,e1,zg,fe,{asChild:1,id:5,el:0})}};function n1(){const t="label",n=Hn(t,["root"]);return{NAME:t,getAttrs:n}}const o1=t=>({builder:t&4}),Qa=t=>({builder:t[2]}),i1=t=>({builder:t&4}),za=t=>({builder:t[2]});function r1(t){let e,n,o,i;const r=t[8].default,l=de(r,t,t[7],Qa);let a=[t[2],t[5]],s={};for(let u=0;u<a.length;u+=1)s=Y(s,a[u]);return{c(){e=M("label"),l&&l.c(),le(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),t[9](e),n=!0,o||(i=[Fe(t[2].action(e)),te(e,"m-mousedown",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&pe(l,r,u,u[7],n?me(r,u[7],f,o1):he(u[7]),Qa),le(e,s=be(a,[f&4&&u[2],f&32&&u[5]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[9](null),o=!1,je(i)}}}function l1(t){let e;const n=t[8].default,o=de(n,t,t[7],za);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&pe(o,n,i,i[7],e?me(n,i[7],r,i1):he(i[7]),za)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function s1(t){let e,n,o,i;const r=[l1,r1],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Me(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function a1(t,e,n){let o;const i=["asChild","el"];let r=re(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{root:c}}=c_();ae(t,c,b=>n(6,l=b));const d=Wn(),{getAttrs:m}=n1(),_=m("root");function h(b){Pe[b?"unshift":"push"](()=>{f=b,n(0,f)})}return t.$$set=b=>{e=Y(Y({},e),Ne(b)),n(5,r=re(e,i)),"asChild"in b&&n(1,u=b.asChild),"el"in b&&n(0,f=b.el),"$$scope"in b&&n(7,s=b.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,_)},[f,u,o,c,d,r,l,s,a,h]}let u1=class extends ye{constructor(e){super(),ve(this,e,a1,s1,fe,{asChild:1,el:0})}};function f1(){return{NAME:"progress",PARTS:["root"]}}function c1(t){const{NAME:e,PARTS:n}=f1(),o=Hn(e,n),i={...__(wo(t)),getAttrs:o};return{...i,updateOption:qn(i.options)}}const d1=t=>({builder:t&4}),eu=t=>({builder:t[2]}),m1=t=>({builder:t&4}),tu=t=>({builder:t[2]});function p1(t){let e,n,o,i;const r=t[10].default,l=de(r,t,t[9],eu);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=Y(s,a[u]);return{c(){e=M("div"),l&&l.c(),le(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),t[11](e),n=!0,o||(i=Fe(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&516)&&pe(l,r,u,u[9],n?me(r,u[9],f,d1):he(u[9]),eu),le(e,s=be(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[11](null),o=!1,i()}}}function h1(t){let e;const n=t[10].default,o=de(n,t,t[9],tu);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&516)&&pe(o,n,i,i[9],e?me(n,i[9],r,m1):he(i[9]),tu)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function _1(t){let e,n,o,i;const r=[h1,p1],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Me(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function g1(t,e,n){let o;const i=["max","value","onValueChange","asChild","el"];let r=re(e,i),l,{$$slots:a={},$$scope:s}=e,{max:u=void 0}=e,{value:f=void 0}=e,{onValueChange:c=void 0}=e,{asChild:d=!1}=e,{el:m=void 0}=e;const{elements:{root:_},states:{value:h},updateOption:b,getAttrs:y}=c1({max:u,defaultValue:f,onValueChange:({next:R})=>(c==null||c(R),n(5,f=R),R)});ae(t,_,R=>n(8,l=R));const A=y("root");function w(R){Pe[R?"unshift":"push"](()=>{m=R,n(0,m)})}return t.$$set=R=>{e=Y(Y({},e),Ne(R)),n(4,r=re(e,i)),"max"in R&&n(6,u=R.max),"value"in R&&n(5,f=R.value),"onValueChange"in R&&n(7,c=R.onValueChange),"asChild"in R&&n(1,d=R.asChild),"el"in R&&n(0,m=R.el),"$$scope"in R&&n(9,s=R.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f!==void 0&&h.set(f),t.$$.dirty&64&&b("max",u),t.$$.dirty&256&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,A)},[m,d,o,_,r,f,u,c,l,s,a,w]}let b1=class extends ye{constructor(e){super(),ve(this,e,g1,_1,fe,{max:6,value:5,onValueChange:7,asChild:1,el:0})}};function id(){return{NAME:"slider",PARTS:["root","input","range","thumb","tick"]}}function v1(t){const{NAME:e,PARTS:n}=id(),o=Hn(e,n),i={...y_(wo(t)),getAttrs:o};return kr(e,i),{...i,updateOption:qn(i.options)}}function rd(){const{NAME:t}=id();return Cr(t)}const y1=t=>({builder:t&4,ticks:t&8,thumbs:t&16}),nu=t=>({builder:t[2],ticks:t[3],thumbs:t[4]}),w1=t=>({builder:t&4,ticks:t&8,thumbs:t&16}),ou=t=>({builder:t[2],ticks:t[3],thumbs:t[4]});function k1(t){let e,n,o,i;const r=t[18].default,l=de(r,t,t[17],nu);let a=[t[2],t[8]],s={};for(let u=0;u<a.length;u+=1)s=Y(s,a[u]);return{c(){e=M("span"),l&&l.c(),le(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),t[19](e),n=!0,o||(i=Fe(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&131100)&&pe(l,r,u,u[17],n?me(r,u[17],f,y1):he(u[17]),nu),le(e,s=be(a,[f&4&&u[2],f&256&&u[8]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[19](null),o=!1,i()}}}function C1(t){let e;const n=t[18].default,o=de(n,t,t[17],ou);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&131100)&&pe(o,n,i,i[17],e?me(n,i[17],r,w1):he(i[17]),ou)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function A1(t){let e,n,o,i;const r=[C1,k1],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Me(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function S1(t,e,n){let o;const i=["disabled","min","max","step","orientation","value","onValueChange","asChild","el"];let r=re(e,i),l,a,s,{$$slots:u={},$$scope:f}=e,{disabled:c=void 0}=e,{min:d=void 0}=e,{max:m=void 0}=e,{step:_=void 0}=e,{orientation:h=void 0}=e,{value:b=void 0}=e,{onValueChange:y=void 0}=e,{asChild:A=!1}=e,{el:w=void 0}=e;const{elements:{root:R,ticks:V,thumbs:N},states:{value:H},updateOption:F,getAttrs:L}=v1({disabled:c,min:d,max:m,step:_,orientation:h,defaultValue:b,onValueChange:({next:g})=>(b!==g&&(y==null||y(g),n(9,b=g)),g)});ae(t,R,g=>n(16,l=g)),ae(t,V,g=>n(3,a=g)),ae(t,N,g=>n(4,s=g));const X=L("root");function P(g){Pe[g?"unshift":"push"](()=>{w=g,n(0,w)})}return t.$$set=g=>{e=Y(Y({},e),Ne(g)),n(8,r=re(e,i)),"disabled"in g&&n(10,c=g.disabled),"min"in g&&n(11,d=g.min),"max"in g&&n(12,m=g.max),"step"in g&&n(13,_=g.step),"orientation"in g&&n(14,h=g.orientation),"value"in g&&n(9,b=g.value),"onValueChange"in g&&n(15,y=g.onValueChange),"asChild"in g&&n(1,A=g.asChild),"el"in g&&n(0,w=g.el),"$$scope"in g&&n(17,f=g.$$scope)},t.$$.update=()=>{t.$$.dirty&512&&b!==void 0&&H.set(b),t.$$.dirty&1024&&F("disabled",c),t.$$.dirty&2048&&F("min",d),t.$$.dirty&4096&&F("max",m),t.$$.dirty&8192&&F("step",_),t.$$.dirty&16384&&F("orientation",h),t.$$.dirty&65536&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,X)},[w,A,o,a,s,R,V,N,r,b,c,d,m,_,h,y,l,f,u,P]}let T1=class extends ye{constructor(e){super(),ve(this,e,S1,A1,fe,{disabled:10,min:11,max:12,step:13,orientation:14,value:9,onValueChange:15,asChild:1,el:0})}};const I1=t=>({builder:t&4}),iu=t=>({builder:t[2]});function M1(t){let e,n,o,i=[t[2],t[4]],r={};for(let l=0;l<i.length;l+=1)r=Y(r,i[l]);return{c(){e=M("span"),le(e,r)},m(l,a){I(l,e,a),t[8](e),n||(o=Fe(t[2].action(e)),n=!0)},p(l,a){le(e,r=be(i,[a&4&&l[2],a&16&&l[4]]))},i:Ae,o:Ae,d(l){l&&T(e),t[8](null),n=!1,o()}}}function P1(t){let e;const n=t[7].default,o=de(n,t,t[6],iu);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&68)&&pe(o,n,i,i[6],e?me(n,i[6],r,I1):he(i[6]),iu)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function O1(t){let e,n,o,i;const r=[P1,M1],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Me(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function N1(t,e,n){let o;const i=["asChild","el"];let r=re(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{range:c},getAttrs:d}=rd();ae(t,c,h=>n(5,l=h));const m=d("range");function _(h){Pe[h?"unshift":"push"](()=>{f=h,n(0,f)})}return t.$$set=h=>{e=Y(Y({},e),Ne(h)),n(4,r=re(e,i)),"asChild"in h&&n(1,u=h.asChild),"el"in h&&n(0,f=h.el),"$$scope"in h&&n(6,s=h.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,m)},[f,u,o,c,r,l,s,a,_]}class E1 extends ye{constructor(e){super(),ve(this,e,N1,O1,fe,{asChild:1,el:0})}}const R1=t=>({builder:t&4}),ru=t=>({builder:t[2]});function D1(t){let e,n,o,i=[t[2],t[4]],r={};for(let l=0;l<i.length;l+=1)r=Y(r,i[l]);return{c(){e=M("span"),le(e,r)},m(l,a){I(l,e,a),t[8](e),n||(o=[Fe(t[2].action(e)),te(e,"m-keydown",t[3])],n=!0)},p(l,a){le(e,r=be(i,[a&4&&l[2],a&16&&l[4]]))},i:Ae,o:Ae,d(l){l&&T(e),t[8](null),n=!1,je(o)}}}function L1(t){let e;const n=t[7].default,o=de(n,t,t[6],ru);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&68)&&pe(o,n,i,i[6],e?me(n,i[6],r,R1):he(i[6]),ru)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function F1(t){let e,n,o,i;const r=[L1,D1],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Me(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function q1(t,e,n){let o;const i=["asChild","el","thumb"];let r=re(e,i),{$$slots:l={},$$scope:a}=e,{asChild:s=!1}=e,{el:u=void 0}=e,{thumb:f}=e;const{getAttrs:c}=rd(),d=Wn(),m=c("thumb");function _(h){Pe[h?"unshift":"push"](()=>{u=h,n(0,u)})}return t.$$set=h=>{e=Y(Y({},e),Ne(h)),n(4,r=re(e,i)),"asChild"in h&&n(1,s=h.asChild),"el"in h&&n(0,u=h.el),"thumb"in h&&n(5,f=h.thumb),"$$scope"in h&&n(6,a=h.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=f),t.$$.dirty&4&&Object.assign(o,m)},[u,s,o,d,r,f,a,l,_]}class j1 extends ye{constructor(e){super(),ve(this,e,q1,F1,fe,{asChild:1,el:0,thumb:5})}}function ld(){return{NAME:"tooltip",PARTS:["arrow","content","trigger"]}}function B1(t){const{NAME:e,PARTS:n}=ld(),o=Hn(e,n),i={...C_({positioning:{placement:"top",gutter:0},openDelay:700,...wo(t),forceVisible:!0}),getAttrs:o};return kr(e,i),{...i,updateOption:qn(i.options)}}function ns(){const{NAME:t}=ld();return Cr(t)}function G1(t){const n={...{side:"top",align:"center",sideOffset:1},...t},{options:{positioning:o}}=ns();V0(o)({...n})}const V1=t=>({ids:t&1}),lu=t=>({ids:t[0]});function H1(t){let e;const n=t[12].default,o=de(n,t,t[11],lu);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,[r]){o&&o.p&&(!e||r&2049)&&pe(o,n,i,i[11],e?me(n,i[11],r,V1):he(i[11]),lu)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function W1(t,e,n){let o,{$$slots:i={},$$scope:r}=e,{closeOnEscape:l=void 0}=e,{portal:a=void 0}=e,{closeOnPointerDown:s=void 0}=e,{openDelay:u=void 0}=e,{closeDelay:f=void 0}=e,{open:c=void 0}=e,{onOpenChange:d=void 0}=e,{disableHoverableContent:m=void 0}=e,{group:_=void 0}=e;const{states:{open:h},updateOption:b,ids:y}=B1({closeOnEscape:l,portal:a,closeOnPointerDown:s,openDelay:u,closeDelay:f,forceVisible:!0,defaultOpen:c,disableHoverableContent:m,group:_,onOpenChange:({next:w})=>(c!==w&&(d==null||d(w),n(2,c=w)),w),positioning:{gutter:0,offset:{mainAxis:1}}}),A=sn([y.content,y.trigger],([w,R])=>({content:w,trigger:R}));return ae(t,A,w=>n(0,o=w)),t.$$set=w=>{"closeOnEscape"in w&&n(3,l=w.closeOnEscape),"portal"in w&&n(4,a=w.portal),"closeOnPointerDown"in w&&n(5,s=w.closeOnPointerDown),"openDelay"in w&&n(6,u=w.openDelay),"closeDelay"in w&&n(7,f=w.closeDelay),"open"in w&&n(2,c=w.open),"onOpenChange"in w&&n(8,d=w.onOpenChange),"disableHoverableContent"in w&&n(9,m=w.disableHoverableContent),"group"in w&&n(10,_=w.group),"$$scope"in w&&n(11,r=w.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&c!==void 0&&h.set(c),t.$$.dirty&8&&b("closeOnEscape",l),t.$$.dirty&16&&b("portal",a),t.$$.dirty&32&&b("closeOnPointerDown",s),t.$$.dirty&64&&b("openDelay",u),t.$$.dirty&128&&b("closeDelay",f),t.$$.dirty&1024&&b("group",_),t.$$.dirty&512&&b("disableHoverableContent",m)},[o,A,c,l,a,s,u,f,d,m,_,r,i]}class $1 extends ye{constructor(e){super(),ve(this,e,W1,H1,fe,{closeOnEscape:3,portal:4,closeOnPointerDown:5,openDelay:6,closeDelay:7,open:2,onOpenChange:8,disableHoverableContent:9,group:10})}}const K1=t=>({builder:t[0]&256}),su=t=>({builder:t[8]}),U1=t=>({builder:t[0]&256}),au=t=>({builder:t[8]}),Y1=t=>({builder:t[0]&256}),uu=t=>({builder:t[8]}),X1=t=>({builder:t[0]&256}),fu=t=>({builder:t[8]}),J1=t=>({builder:t[0]&256}),cu=t=>({builder:t[8]}),x1=t=>({builder:t[0]&256}),du=t=>({builder:t[8]});function Z1(t){let e,n,o,i;const r=t[28].default,l=de(r,t,t[27],su);let a=[t[8],t[13]],s={};for(let u=0;u<a.length;u+=1)s=Y(s,a[u]);return{c(){e=M("div"),l&&l.c(),le(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),t[33](e),n=!0,o||(i=[Fe(t[8].action(e)),te(e,"m-pointerdown",t[12]),te(e,"m-pointerenter",t[12])],o=!0)},p(u,f){l&&l.p&&(!n||f[0]&134217984)&&pe(l,r,u,u[27],n?me(r,u[27],f,K1):he(u[27]),su),le(e,s=be(a,[f[0]&256&&u[8],f[0]&8192&&u[13]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[33](null),o=!1,je(i)}}}function Q1(t){let e,n,o,i,r;const l=t[28].default,a=de(l,t,t[27],au);let s=[t[8],t[13]],u={};for(let f=0;f<s.length;f+=1)u=Y(u,s[f]);return{c(){e=M("div"),a&&a.c(),le(e,u)},m(f,c){I(f,e,c),a&&a.m(e,null),t[32](e),o=!0,i||(r=[Fe(t[8].action(e)),te(e,"m-pointerdown",t[12]),te(e,"m-pointerenter",t[12])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&134217984)&&pe(a,l,t,t[27],o?me(l,t[27],c,U1):he(t[27]),au),le(e,u=be(s,[c[0]&256&&t[8],c[0]&8192&&t[13]]))},i(f){o||(C(a,f),n&&n.end(1),o=!0)},o(f){S(a,f),f&&(n=Jt(e,t[5],t[6])),o=!1},d(f){f&&T(e),a&&a.d(f),t[32](null),f&&n&&n.end(),i=!1,je(r)}}}function z1(t){let e,n,o,i,r;const l=t[28].default,a=de(l,t,t[27],uu);let s=[t[8],t[13]],u={};for(let f=0;f<s.length;f+=1)u=Y(u,s[f]);return{c(){e=M("div"),a&&a.c(),le(e,u)},m(f,c){I(f,e,c),a&&a.m(e,null),t[31](e),o=!0,i||(r=[Fe(t[8].action(e)),te(e,"m-pointerdown",t[12]),te(e,"m-pointerenter",t[12])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&134217984)&&pe(a,l,t,t[27],o?me(l,t[27],c,Y1):he(t[27]),uu),le(e,u=be(s,[c[0]&256&&t[8],c[0]&8192&&t[13]]))},i(f){o||(C(a,f),f&&(n||tt(()=>{n=Xt(e,t[3],t[4]),n.start()})),o=!0)},o(f){S(a,f),o=!1},d(f){f&&T(e),a&&a.d(f),t[31](null),i=!1,je(r)}}}function eb(t){let e,n,o,i,r,l;const a=t[28].default,s=de(a,t,t[27],fu);let u=[t[8],t[13]],f={};for(let c=0;c<u.length;c+=1)f=Y(f,u[c]);return{c(){e=M("div"),s&&s.c(),le(e,f)},m(c,d){I(c,e,d),s&&s.m(e,null),t[30](e),i=!0,r||(l=[Fe(t[8].action(e)),te(e,"m-pointerdown",t[12]),te(e,"m-pointerenter",t[12])],r=!0)},p(c,d){t=c,s&&s.p&&(!i||d[0]&134217984)&&pe(s,a,t,t[27],i?me(a,t[27],d,X1):he(t[27]),fu),le(e,f=be(u,[d[0]&256&&t[8],d[0]&8192&&t[13]]))},i(c){i||(C(s,c),c&&tt(()=>{i&&(o&&o.end(1),n=Xt(e,t[3],t[4]),n.start())}),i=!0)},o(c){S(s,c),n&&n.invalidate(),c&&(o=Jt(e,t[5],t[6])),i=!1},d(c){c&&T(e),s&&s.d(c),t[30](null),c&&o&&o.end(),r=!1,je(l)}}}function tb(t){let e,n,o,i,r;const l=t[28].default,a=de(l,t,t[27],cu);let s=[t[8],t[13]],u={};for(let f=0;f<s.length;f+=1)u=Y(u,s[f]);return{c(){e=M("div"),a&&a.c(),le(e,u)},m(f,c){I(f,e,c),a&&a.m(e,null),t[29](e),o=!0,i||(r=[Fe(t[8].action(e)),te(e,"m-pointerdown",t[12]),te(e,"m-pointerenter",t[12])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&134217984)&&pe(a,l,t,t[27],o?me(l,t[27],c,J1):he(t[27]),cu),le(e,u=be(s,[c[0]&256&&t[8],c[0]&8192&&t[13]]))},i(f){o||(C(a,f),f&&tt(()=>{o&&(n||(n=Kt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(f){S(a,f),f&&(n||(n=Kt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(f){f&&T(e),a&&a.d(f),t[29](null),f&&n&&n.end(),i=!1,je(r)}}}function nb(t){let e;const n=t[28].default,o=de(n,t,t[27],du);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r[0]&134217984)&&pe(o,n,i,i[27],e?me(n,i[27],r,x1):he(i[27]),du)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function ob(t){let e,n,o,i;const r=[nb,tb,eb,z1,Q1,Z1],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=Re()},m(s,u){~e&&l[e].m(s,u),I(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Ie(),S(l[f],1,1,()=>{l[f]=null}),Me()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),~e&&l[e].d(s)}}}function ib(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","id","side","align","sideOffset","alignOffset","collisionPadding","avoidCollisions","collisionBoundary","sameWidth","fitViewport","strategy","overlap","el"];let r=re(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:_=void 0}=e,{outTransitionConfig:h=void 0}=e,{asChild:b=!1}=e,{id:y=void 0}=e,{side:A="top"}=e,{align:w="center"}=e,{sideOffset:R=0}=e,{alignOffset:V=0}=e,{collisionPadding:N=8}=e,{avoidCollisions:H=!0}=e,{collisionBoundary:F=void 0}=e,{sameWidth:L=!1}=e,{fitViewport:X=!1}=e,{strategy:P="absolute"}=e,{overlap:g=!1}=e,{el:k=void 0}=e;const{elements:{content:E},states:{open:q},ids:D,getAttrs:K}=ns();ae(t,E,U=>n(26,a=U)),ae(t,q,U=>n(9,l=U));const Z=Wn(),x=K("content");function $(U){Pe[U?"unshift":"push"](()=>{k=U,n(0,k)})}function p(U){Pe[U?"unshift":"push"](()=>{k=U,n(0,k)})}function j(U){Pe[U?"unshift":"push"](()=>{k=U,n(0,k)})}function J(U){Pe[U?"unshift":"push"](()=>{k=U,n(0,k)})}function ne(U){Pe[U?"unshift":"push"](()=>{k=U,n(0,k)})}return t.$$set=U=>{e=Y(Y({},e),Ne(U)),n(13,r=re(e,i)),"transition"in U&&n(1,f=U.transition),"transitionConfig"in U&&n(2,c=U.transitionConfig),"inTransition"in U&&n(3,d=U.inTransition),"inTransitionConfig"in U&&n(4,m=U.inTransitionConfig),"outTransition"in U&&n(5,_=U.outTransition),"outTransitionConfig"in U&&n(6,h=U.outTransitionConfig),"asChild"in U&&n(7,b=U.asChild),"id"in U&&n(14,y=U.id),"side"in U&&n(15,A=U.side),"align"in U&&n(16,w=U.align),"sideOffset"in U&&n(17,R=U.sideOffset),"alignOffset"in U&&n(18,V=U.alignOffset),"collisionPadding"in U&&n(19,N=U.collisionPadding),"avoidCollisions"in U&&n(20,H=U.avoidCollisions),"collisionBoundary"in U&&n(21,F=U.collisionBoundary),"sameWidth"in U&&n(22,L=U.sameWidth),"fitViewport"in U&&n(23,X=U.fitViewport),"strategy"in U&&n(24,P=U.strategy),"overlap"in U&&n(25,g=U.overlap),"el"in U&&n(0,k=U.el),"$$scope"in U&&n(27,u=U.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&16384&&y&&D.content.set(y),t.$$.dirty[0]&67108864&&n(8,o=a),t.$$.dirty[0]&256&&Object.assign(o,x),t.$$.dirty[0]&67076608&&l&&G1({side:A,align:w,sideOffset:R,alignOffset:V,collisionPadding:N,avoidCollisions:H,collisionBoundary:F,sameWidth:L,fitViewport:X,strategy:P,overlap:g})},[k,f,c,d,m,_,h,b,o,l,E,q,Z,r,y,A,w,R,V,N,H,F,L,X,P,g,a,u,s,$,p,j,J,ne]}let rb=class extends ye{constructor(e){super(),ve(this,e,ib,ob,fe,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,id:14,side:15,align:16,sideOffset:17,alignOffset:18,collisionPadding:19,avoidCollisions:20,collisionBoundary:21,sameWidth:22,fitViewport:23,strategy:24,overlap:25,el:0},null,[-1,-1])}};const lb=t=>({builder:t&4}),mu=t=>({builder:t[2]}),sb=t=>({builder:t&4}),pu=t=>({builder:t[2]});function ab(t){let e,n,o,i;const r=t[9].default,l=de(r,t,t[8],mu);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=Y(s,a[u]);return{c(){e=M("button"),l&&l.c(),le(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[10](e),n=!0,o||(i=[Fe(t[2].action(e)),te(e,"m-blur",t[4]),te(e,"m-focus",t[4]),te(e,"m-keydown",t[4]),te(e,"m-pointerdown",t[4]),te(e,"m-pointerenter",t[4]),te(e,"m-pointerleave",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&260)&&pe(l,r,u,u[8],n?me(r,u[8],f,lb):he(u[8]),mu),le(e,s=be(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[10](null),o=!1,je(i)}}}function ub(t){let e;const n=t[9].default,o=de(n,t,t[8],pu);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&260)&&pe(o,n,i,i[8],e?me(n,i[8],r,sb):he(i[8]),pu)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function fb(t){let e,n,o,i;const r=[ub,ab],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Me(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function cb(t,e,n){let o;const i=["asChild","id","el"];let r=re(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{trigger:d},ids:m,getAttrs:_}=ns();ae(t,d,A=>n(7,l=A));const h=Wn(),b=_("trigger");function y(A){Pe[A?"unshift":"push"](()=>{c=A,n(0,c)})}return t.$$set=A=>{e=Y(Y({},e),Ne(A)),n(5,r=re(e,i)),"asChild"in A&&n(1,u=A.asChild),"id"in A&&n(6,f=A.id),"el"in A&&n(0,c=A.el),"$$scope"in A&&n(8,s=A.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&f&&m.trigger.set(f),t.$$.dirty&128&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,b)},[c,u,o,d,h,r,f,l,s,a,y]}class db extends ye{constructor(e){super(),ve(this,e,cb,fb,fe,{asChild:1,id:6,el:0})}}function mb(t){let e;const n=t[5].default,o=de(n,t,t[8],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&256)&&pe(o,n,i,i[8],e?me(n,i[8],r,null):he(i[8]),null)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function pb(t){let e,n;const o=[{builders:t[3]},{class:Le(po({variant:t[1],size:t[2],className:t[0]}))},{type:"button"},t[4]];let i={$$slots:{default:[mb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Y(i,o[r]);return e=new G0({props:i}),e.$on("click",t[6]),e.$on("keydown",t[7]),{c(){ee(e.$$.fragment)},m(r,l){Q(e,r,l),n=!0},p(r,[l]){const a=l&31?be(o,[l&8&&{builders:r[3]},l&7&&{class:Le(po({variant:r[1],size:r[2],className:r[0]}))},o[2],l&16&&it(r[4])]):{};l&256&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){z(e,r)}}}function hb(t,e,n){const o=["class","variant","size","builders"];let i=re(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{variant:s="default"}=e,{size:u="default"}=e,{builders:f=[]}=e;function c(m){oe.call(this,t,m)}function d(m){oe.call(this,t,m)}return t.$$set=m=>{e=Y(Y({},e),Ne(m)),n(4,i=re(e,o)),"class"in m&&n(0,a=m.class),"variant"in m&&n(1,s=m.variant),"size"in m&&n(2,u=m.size),"builders"in m&&n(3,f=m.builders),"$$scope"in m&&n(8,l=m.$$scope)},[a,s,u,f,i,r,c,d,l]}class Yt extends ye{constructor(e){super(),ve(this,e,hb,pb,fe,{class:0,variant:1,size:2,builders:3})}}var hu=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,kt=t=>!t||typeof t!="object"||Object.keys(t).length===0,_b=(t,e)=>JSON.stringify(t)===JSON.stringify(e);function sd(t,e){t.forEach(function(n){Array.isArray(n)?sd(n,e):e.push(n)})}function ad(t){let e=[];return sd(t,e),e}var ud=(...t)=>ad(t).filter(Boolean),fd=(t,e)=>{let n={},o=Object.keys(t),i=Object.keys(e);for(let r of o)if(i.includes(r)){let l=t[r],a=e[r];typeof l=="object"&&typeof a=="object"?n[r]=fd(l,a):Array.isArray(l)||Array.isArray(a)?n[r]=ud(a,l):n[r]=a+" "+l}else n[r]=t[r];for(let r of i)o.includes(r)||(n[r]=e[r]);return n},_u=t=>!t||typeof t!="string"?t:t.replace(/\s+/g," ").trim(),gb={twMerge:!0,twMergeConfig:{},responsiveVariants:!1},cd=t=>t||void 0,xo=(...t)=>cd(ad(t).filter(Boolean).join(" ")),il=null,en={},Al=!1,Fo=(...t)=>e=>e.twMerge?((!il||Al)&&(Al=!1,il=kt(en)?Nc:ap({...en,extend:{theme:en.theme,classGroups:en.classGroups,conflictingClassGroupModifiers:en.conflictingClassGroupModifiers,conflictingClassGroups:en.conflictingClassGroups,...en.extend}})),cd(il(xo(t)))):xo(t),gu=(t,e)=>{for(let n in e)t.hasOwnProperty(n)?t[n]=xo(t[n],e[n]):t[n]=e[n];return t},bb=(t,e)=>{let{extend:n=null,slots:o={},variants:i={},compoundVariants:r=[],compoundSlots:l=[],defaultVariants:a={}}=t,s={...gb,...e},u=n!=null&&n.base?xo(n.base,t==null?void 0:t.base):t==null?void 0:t.base,f=n!=null&&n.variants&&!kt(n.variants)?fd(i,n.variants):i,c=n!=null&&n.defaultVariants&&!kt(n.defaultVariants)?{...n.defaultVariants,...a}:a;!kt(s.twMergeConfig)&&!_b(s.twMergeConfig,en)&&(Al=!0,en=s.twMergeConfig);let d=kt(n==null?void 0:n.slots),m=kt(o)?{}:{base:xo(t==null?void 0:t.base,d&&(n==null?void 0:n.base)),...o},_=d?m:gu({...n==null?void 0:n.slots},kt(m)?{base:t==null?void 0:t.base}:m),h=y=>{if(kt(f)&&kt(o)&&d)return Fo(u,y==null?void 0:y.class,y==null?void 0:y.className)(s);if(r&&!Array.isArray(r))throw new TypeError(`The "compoundVariants" prop must be an array. Received: ${typeof r}`);if(l&&!Array.isArray(l))throw new TypeError(`The "compoundSlots" prop must be an array. Received: ${typeof l}`);let A=(g,k,E=[],q)=>{let D=E;if(typeof k=="string")D=D.concat(_u(k).split(" ").map(K=>`${g}:${K}`));else if(Array.isArray(k))D=D.concat(k.reduce((K,Z)=>K.concat(`${g}:${Z}`),[]));else if(typeof k=="object"&&typeof q=="string"){for(let K in k)if(k.hasOwnProperty(K)&&K===q){let Z=k[K];if(Z&&typeof Z=="string"){let x=_u(Z);D[q]?D[q]=D[q].concat(x.split(" ").map($=>`${g}:${$}`)):D[q]=x.split(" ").map($=>`${g}:${$}`)}else Array.isArray(Z)&&Z.length>0&&(D[q]=Z.reduce((x,$)=>x.concat(`${g}:${$}`),[]))}}return D},w=(g,k=f,E=null,q=null)=>{var D;let K=k[g];if(!K||kt(K))return null;let Z=(D=q==null?void 0:q[g])!=null?D:y==null?void 0:y[g];if(Z===null)return null;let x=hu(Z),$=Array.isArray(s.responsiveVariants)&&s.responsiveVariants.length>0||s.responsiveVariants===!0,p=c==null?void 0:c[g],j=[];if(typeof x=="object"&&$)for(let[U,ue]of Object.entries(x)){let ke=K[ue];if(U==="initial"){p=ue;continue}Array.isArray(s.responsiveVariants)&&!s.responsiveVariants.includes(U)||(j=A(U,ke,j,E))}let J=x!=null&&typeof x!="object"?x:hu(p),ne=K[J]||K.false;return typeof j=="object"&&typeof E=="string"&&j[E]?gu(j,ne):j.length>0?(j.push(ne),j):ne},R=()=>f?Object.keys(f).map(g=>w(g,f)):null,V=(g,k)=>{if(!f||typeof f!="object")return null;let E=new Array;for(let q in f){let D=w(q,f,g,k),K=g==="base"&&typeof D=="string"?D:D&&D[g];K&&(E[E.length]=K)}return E},N={};for(let g in y)y[g]!==void 0&&(N[g]=y[g]);let H=(g,k)=>{var E;let q=typeof(y==null?void 0:y[g])=="object"?{[g]:(E=y[g])==null?void 0:E.initial}:{};return{...c,...N,...q,...k}},F=(g=[],k)=>{let E=[];for(let{class:q,className:D,...K}of g){let Z=!0;for(let[x,$]of Object.entries(K)){let p=H(x,k);if(Array.isArray($)){if(!$.includes(p[x])){Z=!1;break}}else if(p[x]!==$){Z=!1;break}}Z&&(q&&E.push(q),D&&E.push(D))}return E},L=g=>{let k=F(r,g),E=F(n==null?void 0:n.compoundVariants,g);return ud(E,k)},X=g=>{let k=L(g);if(!Array.isArray(k))return k;let E={};for(let q of k)if(typeof q=="string"&&(E.base=Fo(E.base,q)(s)),typeof q=="object")for(let[D,K]of Object.entries(q))E[D]=Fo(E[D],K)(s);return E},P=g=>{if(l.length<1)return null;let k={};for(let{slots:E=[],class:q,className:D,...K}of l){if(!kt(K)){let Z=!0;for(let x of Object.keys(K)){let $=H(x,g)[x];if($===void 0||(Array.isArray(K[x])?!K[x].includes($):K[x]!==$)){Z=!1;break}}if(!Z)continue}for(let Z of E)k[Z]=k[Z]||[],k[Z].push([q,D])}return k};if(!kt(o)||!d){let g={};if(typeof _=="object"&&!kt(_))for(let k of Object.keys(_))g[k]=E=>{var q,D;return Fo(_[k],V(k,E),((q=X(E))!=null?q:[])[k],((D=P(E))!=null?D:[])[k],E==null?void 0:E.class,E==null?void 0:E.className)(s)};return g}return Fo(u,R(),L(),y==null?void 0:y.class,y==null?void 0:y.className)(s)},b=()=>{if(!(!f||typeof f!="object"))return Object.keys(f)};return h.variantKeys=b(),h.extend=n,h.base=u,h.slots=_,h.variants=f,h.defaultVariants=c,h.compoundSlots=l,h.compoundVariants=r,h};const po=bb({base:"inline-flex items-center justify-center rounded-md text-sm font-medium whitespace-nowrap ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}});function vb(t){let e;const n=t[2].default,o=de(n,t,t[3],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&8)&&pe(o,n,i,i[3],e?me(n,i[3],r,null):he(i[3]),null)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function yb(t){let e,n;const o=[{class:Le("text-lg font-semibold leading-none tracking-tight",t[0])},t[1]];let i={$$slots:{default:[vb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Y(i,o[r]);return e=new ug({props:i}),{c(){ee(e.$$.fragment)},m(r,l){Q(e,r,l),n=!0},p(r,[l]){const a=l&3?be(o,[l&1&&{class:Le("text-lg font-semibold leading-none tracking-tight",r[0])},l&2&&it(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){z(e,r)}}}function wb(t,e,n){const o=["class"];let i=re(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Y(Y({},e),Ne(s)),n(1,i=re(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,l=s.$$scope)},[a,i,r,l]}class Co extends ye{constructor(e){super(),ve(this,e,wb,yb,fe,{class:0})}}function kb(t){let e;const n=t[1].default,o=de(n,t,t[2],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&4)&&pe(o,n,i,i[2],e?me(n,i[2],r,null):he(i[2]),null)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Cb(t){let e,n;const o=[t[0]];let i={$$slots:{default:[kb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Y(i,o[r]);return e=new Cg({props:i}),{c(){ee(e.$$.fragment)},m(r,l){Q(e,r,l),n=!0},p(r,[l]){const a=l&1?be(o,[it(r[0])]):{};l&4&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){z(e,r)}}}function Ab(t,e,n){const o=[];let i=re(e,o),{$$slots:r={},$$scope:l}=e;return t.$$set=a=>{e=Y(Y({},e),Ne(a)),n(0,i=re(e,o)),"$$scope"in a&&n(2,l=a.$$scope)},[i,r,l]}class Sb extends ye{constructor(e){super(),ve(this,e,Ab,Cb,fe,{})}}function Tb(t){let e,n,o;const i=t[3].default,r=de(i,t,t[2],null);let l=[{class:n=Le("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=Y(a,l[s]);return{c(){e=M("div"),r&&r.c(),le(e,a)},m(s,u){I(s,e,u),r&&r.m(e,null),o=!0},p(s,[u]){r&&r.p&&(!o||u&4)&&pe(r,i,s,s[2],o?me(i,s[2],u,null):he(s[2]),null),le(e,a=be(l,[(!o||u&1&&n!==(n=Le("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(C(r,s),o=!0)},o(s){S(r,s),o=!1},d(s){s&&T(e),r&&r.d(s)}}}function Ib(t,e,n){const o=["class"];let i=re(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Y(Y({},e),Ne(s)),n(1,i=re(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,i,l,r]}class oi extends ye{constructor(e){super(),ve(this,e,Ib,Tb,fe,{class:0})}}function Mb(t){let e,n,o;const i=t[3].default,r=de(i,t,t[2],null);let l=[{class:n=Le("flex flex-col space-y-1.5 text-center sm:text-left",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=Y(a,l[s]);return{c(){e=M("div"),r&&r.c(),le(e,a)},m(s,u){I(s,e,u),r&&r.m(e,null),o=!0},p(s,[u]){r&&r.p&&(!o||u&4)&&pe(r,i,s,s[2],o?me(i,s[2],u,null):he(s[2]),null),le(e,a=be(l,[(!o||u&1&&n!==(n=Le("flex flex-col space-y-1.5 text-center sm:text-left",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(C(r,s),o=!0)},o(s){S(r,s),o=!1},d(s){s&&T(e),r&&r.d(s)}}}function Pb(t,e,n){const o=["class"];let i=re(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Y(Y({},e),Ne(s)),n(1,i=re(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,i,l,r]}class Ao extends ye{constructor(e){super(),ve(this,e,Pb,Mb,fe,{class:0})}}function dd(t,{delay:e=0,duration:n=400,easing:o=vr}={}){const i=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:o,css:r=>`opacity: ${r*i}`}}function Ob(t){let e,n;const o=[{transition:t[1]},{transitionConfig:t[2]},{class:Le("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm",t[0])},t[3]];let i={};for(let r=0;r<o.length;r+=1)i=Y(i,o[r]);return e=new Xg({props:i}),{c(){ee(e.$$.fragment)},m(r,l){Q(e,r,l),n=!0},p(r,[l]){const a=l&15?be(o,[l&2&&{transition:r[1]},l&4&&{transitionConfig:r[2]},l&1&&{class:Le("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm",r[0])},l&8&&it(r[3])]):{};e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){z(e,r)}}}function Nb(t,e,n){const o=["class","transition","transitionConfig"];let i=re(e,o),{class:r=void 0}=e,{transition:l=dd}=e,{transitionConfig:a={duration:150}}=e;return t.$$set=s=>{e=Y(Y({},e),Ne(s)),n(3,i=re(e,o)),"class"in s&&n(0,r=s.class),"transition"in s&&n(1,l=s.transition),"transitionConfig"in s&&n(2,a=s.transitionConfig)},[r,l,a,i]}class Eb extends ye{constructor(e){super(),ve(this,e,Nb,Ob,fe,{class:0,transition:1,transitionConfig:2})}}/**
 * @license lucide-svelte v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bu={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};function vu(t,e,n){const o=t.slice();return o[11]=e[n][0],o[12]=e[n][1],o}function rl(t){let e,n=[t[12]],o={};for(let i=0;i<n.length;i+=1)o=Y(o,n[i]);return{c(){e=yr(t[11]),Ki(e,o)},m(i,r){I(i,e,r)},p(i,r){Ki(e,o=be(n,[r&32&&i[12]]))},d(i){i&&T(e)}}}function yu(t){let e=t[11],n,o=t[11]&&rl(t);return{c(){o&&o.c(),n=Re()},m(i,r){o&&o.m(i,r),I(i,n,r)},p(i,r){i[11]?e?fe(e,i[11])?(o.d(1),o=rl(i),e=i[11],o.c(),o.m(n.parentNode,n)):o.p(i,r):(o=rl(i),e=i[11],o.c(),o.m(n.parentNode,n)):e&&(o.d(1),o=null,e=i[11])},d(i){i&&T(n),o&&o.d(i)}}}function Rb(t){let e,n,o,i,r,l=Ue(t[5]),a=[];for(let d=0;d<l.length;d+=1)a[d]=yu(vu(t,l,d));const s=t[10].default,u=de(s,t,t[9],null);let f=[bu,t[7],{width:t[2]},{height:t[2]},{stroke:t[1]},{"stroke-width":o=t[4]?Number(t[3])*24/Number(t[2]):t[3]},{class:i=t[6]("lucide-icon","lucide",t[0]?`lucide-${t[0]}`:"",t[8].class)}],c={};for(let d=0;d<f.length;d+=1)c=Y(c,f[d]);return{c(){e=yr("svg");for(let d=0;d<a.length;d+=1)a[d].c();n=Re(),u&&u.c(),Ki(e,c)},m(d,m){I(d,e,m);for(let _=0;_<a.length;_+=1)a[_]&&a[_].m(e,null);v(e,n),u&&u.m(e,null),r=!0},p(d,[m]){if(m&32){l=Ue(d[5]);let _;for(_=0;_<l.length;_+=1){const h=vu(d,l,_);a[_]?a[_].p(h,m):(a[_]=yu(h),a[_].c(),a[_].m(e,n))}for(;_<a.length;_+=1)a[_].d(1);a.length=l.length}u&&u.p&&(!r||m&512)&&pe(u,s,d,d[9],r?me(s,d[9],m,null):he(d[9]),null),Ki(e,c=be(f,[bu,m&128&&d[7],(!r||m&4)&&{width:d[2]},(!r||m&4)&&{height:d[2]},(!r||m&2)&&{stroke:d[1]},(!r||m&28&&o!==(o=d[4]?Number(d[3])*24/Number(d[2]):d[3]))&&{"stroke-width":o},(!r||m&257&&i!==(i=d[6]("lucide-icon","lucide",d[0]?`lucide-${d[0]}`:"",d[8].class)))&&{class:i}]))},i(d){r||(C(u,d),r=!0)},o(d){S(u,d),r=!1},d(d){d&&T(e),wt(a,d),u&&u.d(d)}}}function Db(t,e,n){const o=["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode","mergeClasses"];let i=re(e,o),{$$slots:r={},$$scope:l}=e,{name:a=void 0}=e,{color:s="currentColor"}=e,{size:u=24}=e,{strokeWidth:f=2}=e,{absoluteStrokeWidth:c=!1}=e,{iconNode:d}=e;const m=(..._)=>_.filter((h,b,y)=>!!h&&y.indexOf(h)===b).join(" ");return t.$$set=_=>{n(8,e=Y(Y({},e),Ne(_))),n(7,i=re(e,o)),"name"in _&&n(0,a=_.name),"color"in _&&n(1,s=_.color),"size"in _&&n(2,u=_.size),"strokeWidth"in _&&n(3,f=_.strokeWidth),"absoluteStrokeWidth"in _&&n(4,c=_.absoluteStrokeWidth),"iconNode"in _&&n(5,d=_.iconNode),"$$scope"in _&&n(9,l=_.$$scope)},e=Ne(e),[a,s,u,f,c,d,m,i,e,l,r]}class Lb extends ye{constructor(e){super(),ve(this,e,Db,Rb,fe,{name:0,color:1,size:2,strokeWidth:3,absoluteStrokeWidth:4,iconNode:5,mergeClasses:6})}get mergeClasses(){return this.$$.ctx[6]}}function Fb(t){let e;const n=t[2].default,o=de(n,t,t[3],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&8)&&pe(o,n,i,i[3],e?me(n,i[3],r,null):he(i[3]),null)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function qb(t){let e,n;const o=[{name:"x"},t[1],{iconNode:t[0]}];let i={$$slots:{default:[Fb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Y(i,o[r]);return e=new Lb({props:i}),{c(){ee(e.$$.fragment)},m(r,l){Q(e,r,l),n=!0},p(r,[l]){const a=l&3?be(o,[o[0],l&2&&it(r[1]),l&1&&{iconNode:r[0]}]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){z(e,r)}}}function jb(t,e,n){let{$$slots:o={},$$scope:i}=e;const r=[["path",{d:"M18 6 6 18"}],["path",{d:"m6 6 12 12"}]];return t.$$set=l=>{n(1,e=Y(Y({},e),Ne(l))),"$$scope"in l&&n(3,i=l.$$scope)},e=Ne(e),[r,e,o,i]}class Bb extends ye{constructor(e){super(),ve(this,e,jb,qb,fe,{})}}function Gb(t){let e,n,o,i;return e=new Bb({props:{class:"h-4 w-4"}}),{c(){ee(e.$$.fragment),n=W(),o=M("span"),o.textContent="Close",O(o,"class","sr-only")},m(r,l){Q(e,r,l),I(r,n,l),I(r,o,l),i=!0},p:Ae,i(r){i||(C(e.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),i=!1},d(r){r&&(T(n),T(o)),z(e,r)}}}function Vb(t){let e,n,o;const i=t[4].default,r=de(i,t,t[5],null);return n=new _g({props:{class:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",$$slots:{default:[Gb]},$$scope:{ctx:t}}}),{c(){r&&r.c(),e=W(),ee(n.$$.fragment)},m(l,a){r&&r.m(l,a),I(l,e,a),Q(n,l,a),o=!0},p(l,a){r&&r.p&&(!o||a&32)&&pe(r,i,l,l[5],o?me(i,l[5],a,null):he(l[5]),null);const s={};a&32&&(s.$$scope={dirty:a,ctx:l}),n.$set(s)},i(l){o||(C(r,l),C(n.$$.fragment,l),o=!0)},o(l){S(r,l),S(n.$$.fragment,l),o=!1},d(l){l&&T(e),r&&r.d(l),z(n,l)}}}function Hb(t){let e,n,o,i;e=new Eb({});const r=[{transition:t[1]},{transitionConfig:t[2]},{class:Le("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg md:w-full",t[0])},t[3]];let l={$$slots:{default:[Vb]},$$scope:{ctx:t}};for(let a=0;a<r.length;a+=1)l=Y(l,r[a]);return o=new jg({props:l}),{c(){ee(e.$$.fragment),n=W(),ee(o.$$.fragment)},m(a,s){Q(e,a,s),I(a,n,s),Q(o,a,s),i=!0},p(a,s){const u=s&15?be(r,[s&2&&{transition:a[1]},s&4&&{transitionConfig:a[2]},s&1&&{class:Le("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg md:w-full",a[0])},s&8&&it(a[3])]):{};s&32&&(u.$$scope={dirty:s,ctx:a}),o.$set(u)},i(a){i||(C(e.$$.fragment,a),C(o.$$.fragment,a),i=!0)},o(a){S(e.$$.fragment,a),S(o.$$.fragment,a),i=!1},d(a){a&&T(n),z(e,a),z(o,a)}}}function Wb(t){let e,n;return e=new Sb({props:{$$slots:{default:[Hb]},$$scope:{ctx:t}}}),{c(){ee(e.$$.fragment)},m(o,i){Q(e,o,i),n=!0},p(o,[i]){const r={};i&47&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){z(e,o)}}}function $b(t,e,n){const o=["class","transition","transitionConfig"];let i=re(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{transition:s=Ar}=e,{transitionConfig:u={duration:200}}=e;return t.$$set=f=>{e=Y(Y({},e),Ne(f)),n(3,i=re(e,o)),"class"in f&&n(0,a=f.class),"transition"in f&&n(1,s=f.transition),"transitionConfig"in f&&n(2,u=f.transitionConfig),"$$scope"in f&&n(5,l=f.$$scope)},[a,s,u,i,r,l]}class So extends ye{constructor(e){super(),ve(this,e,$b,Wb,fe,{class:0,transition:1,transitionConfig:2})}}function Kb(t){let e;const n=t[2].default,o=de(n,t,t[3],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&8)&&pe(o,n,i,i[3],e?me(n,i[3],r,null):he(i[3]),null)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Ub(t){let e,n;const o=[{class:Le("text-sm text-muted-foreground",t[0])},t[1]];let i={$$slots:{default:[Kb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Y(i,o[r]);return e=new t1({props:i}),{c(){ee(e.$$.fragment)},m(r,l){Q(e,r,l),n=!0},p(r,[l]){const a=l&3?be(o,[l&1&&{class:Le("text-sm text-muted-foreground",r[0])},l&2&&it(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){z(e,r)}}}function Yb(t,e,n){const o=["class"];let i=re(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Y(Y({},e),Ne(s)),n(1,i=re(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,l=s.$$scope)},[a,i,r,l]}class To extends ye{constructor(e){super(),ve(this,e,Yb,Ub,fe,{class:0})}}const Io=ng;function Xb(t){let e,n,o,i,r=[{class:n=Le("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t[1])},t[2]],l={};for(let a=0;a<r.length;a+=1)l=Y(l,r[a]);return{c(){e=M("input"),le(e,l)},m(a,s){I(a,e,s),e.autofocus&&e.focus(),zt(e,t[0]),o||(i=[te(e,"input",t[17]),te(e,"blur",t[3]),te(e,"change",t[4]),te(e,"click",t[5]),te(e,"focus",t[6]),te(e,"focusin",t[7]),te(e,"focusout",t[8]),te(e,"keydown",t[9]),te(e,"keypress",t[10]),te(e,"keyup",t[11]),te(e,"mouseover",t[12]),te(e,"mouseenter",t[13]),te(e,"mouseleave",t[14]),te(e,"paste",t[15]),te(e,"input",t[16])],o=!0)},p(a,[s]){le(e,l=be(r,[s&2&&n!==(n=Le("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a[1]))&&{class:n},s&4&&a[2]])),s&1&&e.value!==a[0]&&zt(e,a[0])},i:Ae,o:Ae,d(a){a&&T(e),o=!1,je(i)}}}function Jb(t,e,n){const o=["class","value"];let i=re(e,o),{class:r=void 0}=e,{value:l=void 0}=e;function a(N){oe.call(this,t,N)}function s(N){oe.call(this,t,N)}function u(N){oe.call(this,t,N)}function f(N){oe.call(this,t,N)}function c(N){oe.call(this,t,N)}function d(N){oe.call(this,t,N)}function m(N){oe.call(this,t,N)}function _(N){oe.call(this,t,N)}function h(N){oe.call(this,t,N)}function b(N){oe.call(this,t,N)}function y(N){oe.call(this,t,N)}function A(N){oe.call(this,t,N)}function w(N){oe.call(this,t,N)}function R(N){oe.call(this,t,N)}function V(){l=this.value,n(0,l)}return t.$$set=N=>{e=Y(Y({},e),Ne(N)),n(2,i=re(e,o)),"class"in N&&n(1,r=N.class),"value"in N&&n(0,l=N.value)},[l,r,i,a,s,u,f,c,d,m,_,h,b,y,A,w,R,V]}class os extends ye{constructor(e){super(),ve(this,e,Jb,Xb,fe,{class:1,value:0})}}function xb(t){let e;const n=t[2].default,o=de(n,t,t[4],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&16)&&pe(o,n,i,i[4],e?me(n,i[4],r,null):he(i[4]),null)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Zb(t){let e,n;const o=[{class:Le("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",t[0])},t[1]];let i={$$slots:{default:[xb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Y(i,o[r]);return e=new u1({props:i}),e.$on("mousedown",t[3]),{c(){ee(e.$$.fragment)},m(r,l){Q(e,r,l),n=!0},p(r,[l]){const a=l&3?be(o,[l&1&&{class:Le("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",r[0])},l&2&&it(r[1])]):{};l&16&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){z(e,r)}}}function Qb(t,e,n){const o=["class"];let i=re(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(u){oe.call(this,t,u)}return t.$$set=u=>{e=Y(Y({},e),Ne(u)),n(1,i=re(e,o)),"class"in u&&n(0,a=u.class),"$$scope"in u&&n(4,l=u.$$scope)},[a,i,r,s,l]}class io extends ye{constructor(e){super(),ve(this,e,Qb,Zb,fe,{class:0})}}function zb(t){let e,n;const o=[{class:Le("shrink-0 bg-border",t[1]==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t[0])},{orientation:t[1]},{decorative:t[2]},t[3]];let i={};for(let r=0;r<o.length;r+=1)i=Y(i,o[r]);return e=new Z0({props:i}),{c(){ee(e.$$.fragment)},m(r,l){Q(e,r,l),n=!0},p(r,[l]){const a=l&15?be(o,[l&3&&{class:Le("shrink-0 bg-border",r[1]==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",r[0])},l&2&&{orientation:r[1]},l&4&&{decorative:r[2]},l&8&&it(r[3])]):{};e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){z(e,r)}}}function ev(t,e,n){const o=["class","orientation","decorative"];let i=re(e,o),{class:r=void 0}=e,{orientation:l="horizontal"}=e,{decorative:a=void 0}=e;return t.$$set=s=>{e=Y(Y({},e),Ne(s)),n(3,i=re(e,o)),"class"in s&&n(0,r=s.class),"orientation"in s&&n(1,l=s.orientation),"decorative"in s&&n(2,a=s.decorative)},[r,l,a,i]}class At extends ye{constructor(e){super(),ve(this,e,ev,zb,fe,{class:0,orientation:1,decorative:2})}}function tv(t){let e;const n=t[3].default,o=de(n,t,t[4],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&16)&&pe(o,n,i,i[4],e?me(n,i[4],r,null):he(i[4]),null)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function nv(t){let e,n;const o=[{class:Le("text-lg font-semibold",t[0])},{level:t[1]},t[2]];let i={$$slots:{default:[tv]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Y(i,o[r]);return e=new L_({props:i}),{c(){ee(e.$$.fragment)},m(r,l){Q(e,r,l),n=!0},p(r,[l]){const a=l&7?be(o,[l&1&&{class:Le("text-lg font-semibold",r[0])},l&2&&{level:r[1]},l&4&&it(r[2])]):{};l&16&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){z(e,r)}}}function ov(t,e,n){const o=["class","level"];let i=re(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{level:s="h3"}=e;return t.$$set=u=>{e=Y(Y({},e),Ne(u)),n(2,i=re(e,o)),"class"in u&&n(0,a=u.class),"level"in u&&n(1,s=u.level),"$$scope"in u&&n(4,l=u.$$scope)},[a,s,i,r,l]}class is extends ye{constructor(e){super(),ve(this,e,ov,nv,fe,{class:0,level:1})}}const iv=t=>({builder:t&64}),wu=t=>({builder:t[6]});function rv(t){let e;const n=t[2].default,o=de(n,t,t[5],wu);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&96)&&pe(o,n,i,i[5],e?me(n,i[5],r,iv):he(i[5]),wu)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function lv(t){let e,n;const o=[{class:Le(po(),t[0])},t[1]];let i={$$slots:{default:[rv,({builder:r})=>({6:r}),({builder:r})=>r?64:0]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Y(i,o[r]);return e=new H_({props:i}),e.$on("click",t[3]),e.$on("keydown",t[4]),{c(){ee(e.$$.fragment)},m(r,l){Q(e,r,l),n=!0},p(r,[l]){const a=l&3?be(o,[l&1&&{class:Le(po(),r[0])},l&2&&it(r[1])]):{};l&96&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){z(e,r)}}}function sv(t,e,n){const o=["class"];let i=re(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(f){oe.call(this,t,f)}function u(f){oe.call(this,t,f)}return t.$$set=f=>{e=Y(Y({},e),Ne(f)),n(1,i=re(e,o)),"class"in f&&n(0,a=f.class),"$$scope"in f&&n(5,l=f.$$scope)},[a,i,r,s,u,l]}class av extends ye{constructor(e){super(),ve(this,e,sv,lv,fe,{class:0})}}const uv=t=>({builder:t&64}),ku=t=>({builder:t[6]});function fv(t){let e;const n=t[2].default,o=de(n,t,t[5],ku);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&96)&&pe(o,n,i,i[5],e?me(n,i[5],r,uv):he(i[5]),ku)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function cv(t){let e,n;const o=[{class:Le(po({variant:"outline"}),"mt-2 sm:mt-0",t[0])},t[1]];let i={$$slots:{default:[fv,({builder:r})=>({6:r}),({builder:r})=>r?64:0]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Y(i,o[r]);return e=new J_({props:i}),e.$on("click",t[3]),e.$on("keydown",t[4]),{c(){ee(e.$$.fragment)},m(r,l){Q(e,r,l),n=!0},p(r,[l]){const a=l&3?be(o,[l&1&&{class:Le(po({variant:"outline"}),"mt-2 sm:mt-0",r[0])},l&2&&it(r[1])]):{};l&96&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){z(e,r)}}}function dv(t,e,n){const o=["class"];let i=re(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(f){oe.call(this,t,f)}function u(f){oe.call(this,t,f)}return t.$$set=f=>{e=Y(Y({},e),Ne(f)),n(1,i=re(e,o)),"class"in f&&n(0,a=f.class),"$$scope"in f&&n(5,l=f.$$scope)},[a,i,r,s,u,l]}class md extends ye{constructor(e){super(),ve(this,e,dv,cv,fe,{class:0})}}function mv(t){let e;const n=t[1].default,o=de(n,t,t[2],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&4)&&pe(o,n,i,i[2],e?me(n,i[2],r,null):he(i[2]),null)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function pv(t){let e,n;const o=[t[0]];let i={$$slots:{default:[mv]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Y(i,o[r]);return e=new n0({props:i}),{c(){ee(e.$$.fragment)},m(r,l){Q(e,r,l),n=!0},p(r,[l]){const a=l&1?be(o,[it(r[0])]):{};l&4&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){z(e,r)}}}function hv(t,e,n){const o=[];let i=re(e,o),{$$slots:r={},$$scope:l}=e;return t.$$set=a=>{e=Y(Y({},e),Ne(a)),n(0,i=re(e,o)),"$$scope"in a&&n(2,l=a.$$scope)},[i,r,l]}class _v extends ye{constructor(e){super(),ve(this,e,hv,pv,fe,{})}}function gv(t){let e,n,o;const i=t[3].default,r=de(i,t,t[2],null);let l=[{class:n=Le("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=Y(a,l[s]);return{c(){e=M("div"),r&&r.c(),le(e,a)},m(s,u){I(s,e,u),r&&r.m(e,null),o=!0},p(s,[u]){r&&r.p&&(!o||u&4)&&pe(r,i,s,s[2],o?me(i,s[2],u,null):he(s[2]),null),le(e,a=be(l,[(!o||u&1&&n!==(n=Le("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(C(r,s),o=!0)},o(s){S(r,s),o=!1},d(s){s&&T(e),r&&r.d(s)}}}function bv(t,e,n){const o=["class"];let i=re(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Y(Y({},e),Ne(s)),n(1,i=re(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,i,l,r]}class rs extends ye{constructor(e){super(),ve(this,e,bv,gv,fe,{class:0})}}function vv(t){let e,n,o;const i=t[3].default,r=de(i,t,t[2],null);let l=[{class:n=Le("flex flex-col space-y-2 text-center sm:text-left",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=Y(a,l[s]);return{c(){e=M("div"),r&&r.c(),le(e,a)},m(s,u){I(s,e,u),r&&r.m(e,null),o=!0},p(s,[u]){r&&r.p&&(!o||u&4)&&pe(r,i,s,s[2],o?me(i,s[2],u,null):he(s[2]),null),le(e,a=be(l,[(!o||u&1&&n!==(n=Le("flex flex-col space-y-2 text-center sm:text-left",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(C(r,s),o=!0)},o(s){S(r,s),o=!1},d(s){s&&T(e),r&&r.d(s)}}}function yv(t,e,n){const o=["class"];let i=re(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Y(Y({},e),Ne(s)),n(1,i=re(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,i,l,r]}class ls extends ye{constructor(e){super(),ve(this,e,yv,vv,fe,{class:0})}}function wv(t){let e,n;const o=[{transition:t[1]},{transitionConfig:t[2]},{class:Le("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm ",t[0])},t[3]];let i={};for(let r=0;r<o.length;r+=1)i=Y(i,o[r]);return e=new I0({props:i}),{c(){ee(e.$$.fragment)},m(r,l){Q(e,r,l),n=!0},p(r,[l]){const a=l&15?be(o,[l&2&&{transition:r[1]},l&4&&{transitionConfig:r[2]},l&1&&{class:Le("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm ",r[0])},l&8&&it(r[3])]):{};e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){z(e,r)}}}function kv(t,e,n){const o=["class","transition","transitionConfig"];let i=re(e,o),{class:r=void 0}=e,{transition:l=dd}=e,{transitionConfig:a={duration:150}}=e;return t.$$set=s=>{e=Y(Y({},e),Ne(s)),n(3,i=re(e,o)),"class"in s&&n(0,r=s.class),"transition"in s&&n(1,l=s.transition),"transitionConfig"in s&&n(2,a=s.transitionConfig)},[r,l,a,i]}class Cv extends ye{constructor(e){super(),ve(this,e,kv,wv,fe,{class:0,transition:1,transitionConfig:2})}}function Av(t){let e;const n=t[4].default,o=de(n,t,t[5],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&32)&&pe(o,n,i,i[5],e?me(n,i[5],r,null):he(i[5]),null)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Sv(t){let e,n,o,i;e=new Cv({});const r=[{transition:t[0]},{transitionConfig:t[1]},{class:Le("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg md:w-full",t[2])},t[3]];let l={$$slots:{default:[Av]},$$scope:{ctx:t}};for(let a=0;a<r.length;a+=1)l=Y(l,r[a]);return o=new g0({props:l}),{c(){ee(e.$$.fragment),n=W(),ee(o.$$.fragment)},m(a,s){Q(e,a,s),I(a,n,s),Q(o,a,s),i=!0},p(a,s){const u=s&15?be(r,[s&1&&{transition:a[0]},s&2&&{transitionConfig:a[1]},s&4&&{class:Le("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg md:w-full",a[2])},s&8&&it(a[3])]):{};s&32&&(u.$$scope={dirty:s,ctx:a}),o.$set(u)},i(a){i||(C(e.$$.fragment,a),C(o.$$.fragment,a),i=!0)},o(a){S(e.$$.fragment,a),S(o.$$.fragment,a),i=!1},d(a){a&&T(n),z(e,a),z(o,a)}}}function Tv(t){let e,n;return e=new _v({props:{$$slots:{default:[Sv]},$$scope:{ctx:t}}}),{c(){ee(e.$$.fragment)},m(o,i){Q(e,o,i),n=!0},p(o,[i]){const r={};i&47&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){z(e,o)}}}function Iv(t,e,n){const o=["transition","transitionConfig","class"];let i=re(e,o),{$$slots:r={},$$scope:l}=e,{transition:a=Ar}=e,{transitionConfig:s=void 0}=e,{class:u=void 0}=e;return t.$$set=f=>{e=Y(Y({},e),Ne(f)),n(3,i=re(e,o)),"transition"in f&&n(0,a=f.transition),"transitionConfig"in f&&n(1,s=f.transitionConfig),"class"in f&&n(2,u=f.class),"$$scope"in f&&n(5,l=f.$$scope)},[a,s,u,i,r,l]}class ss extends ye{constructor(e){super(),ve(this,e,Iv,Tv,fe,{transition:0,transitionConfig:1,class:2})}}function Mv(t){let e;const n=t[2].default,o=de(n,t,t[3],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&8)&&pe(o,n,i,i[3],e?me(n,i[3],r,null):he(i[3]),null)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Pv(t){let e,n;const o=[{class:Le("text-sm text-muted-foreground",t[0])},t[1]];let i={$$slots:{default:[Mv]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Y(i,o[r]);return e=new D0({props:i}),{c(){ee(e.$$.fragment)},m(r,l){Q(e,r,l),n=!0},p(r,[l]){const a=l&3?be(o,[l&1&&{class:Le("text-sm text-muted-foreground",r[0])},l&2&&it(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){z(e,r)}}}function Ov(t,e,n){const o=["class"];let i=re(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Y(Y({},e),Ne(s)),n(1,i=re(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,l=s.$$scope)},[a,i,r,l]}class as extends ye{constructor(e){super(),ve(this,e,Ov,Pv,fe,{class:0})}}const us=M_;function Cu(t,e,n){const o=t.slice();return o[25]=e[n],o}function Au(t,e,n){const o=t.slice();return o[28]=e[n],o}function Nv(t){let e;return{c(){e=G("Pause Menu")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Ev(t){let e;return{c(){e=G("Unpause any time by pressing 'P'")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Rv(t){let e,n,o,i;return e=new Co({props:{$$slots:{default:[Nv]},$$scope:{ctx:t}}}),o=new To({props:{$$slots:{default:[Ev]},$$scope:{ctx:t}}}),{c(){ee(e.$$.fragment),n=W(),ee(o.$$.fragment)},m(r,l){Q(e,r,l),I(r,n,l),Q(o,r,l),i=!0},p(r,l){const a={};l[1]&1&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l[1]&1&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),z(e,r),z(o,r)}}}function Su(t){let e,n,o,i,r,l=JSON.stringify(t[5].requirements[t[2].difficulty].population_count)+"",a,s,u=JSON.stringify(t[2].townInfo.population_count)+"",f,c,d,m,_=JSON.stringify(t[5].requirements[t[2].difficulty].happiness)+"",h,b,y=JSON.stringify(t[2].townInfo.happiness)+"",A,w,R,V,N=JSON.stringify(t[5].requirements[t[2].difficulty].employment*100)+"",H,F,L=JSON.stringify((t[2].townInfo.employees/t[2].townInfo.population_count||0)*100)+"",X,P,g,k,E,q=JSON.stringify(t[5].requirements[t[2].difficulty].health)+"",D,K,Z=JSON.stringify(t[2].townInfo.health)+"",x,$,p,j,J=JSON.stringify(t[5].requirements[t[2].difficulty].knowledge)+"",ne,U,ue=JSON.stringify(t[2].townInfo.knowledge_points)+"",ke,we,Ye;function Be(ge,$e){return ge[2].townInfo.population_count>=ge[5].requirements[ge[2].difficulty].population_count?Lv:Dv}let et=Be(t),ce=et(t);function Oe(ge,$e){return ge[2].townInfo.happiness>=ge[5].requirements[ge[2].difficulty].happiness?qv:Fv}let Ve=Oe(t),We=Ve(t);function Ge(ge,$e){return ge[2].townInfo.employees/ge[2].townInfo.population_count>=ge[5].requirements[ge[2].difficulty].employment?Bv:jv}let Ce=Ge(t),Te=Ce(t);function _t(ge,$e){return ge[2].townInfo.health>=ge[5].requirements[ge[2].difficulty].health?Vv:Gv}let It=_t(t),dt=It(t);function qt(ge,$e){return ge[2].townInfo.knowledge_points>=ge[5].requirements[ge[2].difficulty].knowledge?Wv:Hv}let Nt=qt(t),ft=Nt(t),Qe=t[5].requirements[t[2].difficulty].required_plots!=null&&t[5].requirements[t[2].difficulty].required_plots.length>0&&Tu(t);return{c(){e=M("div"),e.textContent=`With your difficulty (${t[6]}), you must also have:`,n=W(),o=M("ul"),i=M("li"),ce.c(),r=G(`
                  Population: `),a=G(l),s=G(" - Currently at "),f=G(u),c=W(),d=M("li"),We.c(),m=G(`
                  Happiness: `),h=G(_),b=G(" - Currently at "),A=G(y),w=W(),R=M("li"),Te.c(),V=G(`
                  Employment: `),H=G(N),F=G("% - Currently at "),X=G(L),P=G("%"),g=W(),k=M("li"),dt.c(),E=G(`
                  Health: `),D=G(q),K=G(" - Currently at "),x=G(Z),$=W(),p=M("li"),ft.c(),j=G(`
                  Knowledge: `),ne=G(J),U=G(" - Currently at "),ke=G(ue),we=W(),Qe&&Qe.c(),Ye=Re(),O(e,"class","leading-relaxed text-sm"),O(o,"class","list-inside list-disc leading-relaxedmt-0 text-sm")},m(ge,$e){I(ge,e,$e),I(ge,n,$e),I(ge,o,$e),v(o,i),ce.m(i,null),v(i,r),v(i,a),v(i,s),v(i,f),v(o,c),v(o,d),We.m(d,null),v(d,m),v(d,h),v(d,b),v(d,A),v(o,w),v(o,R),Te.m(R,null),v(R,V),v(R,H),v(R,F),v(R,X),v(R,P),v(o,g),v(o,k),dt.m(k,null),v(k,E),v(k,D),v(k,K),v(k,x),v(o,$),v(o,p),ft.m(p,null),v(p,j),v(p,ne),v(p,U),v(p,ke),I(ge,we,$e),Qe&&Qe.m(ge,$e),I(ge,Ye,$e)},p(ge,$e){et!==(et=Be(ge))&&(ce.d(1),ce=et(ge),ce&&(ce.c(),ce.m(i,r))),$e[0]&4&&l!==(l=JSON.stringify(ge[5].requirements[ge[2].difficulty].population_count)+"")&&se(a,l),$e[0]&4&&u!==(u=JSON.stringify(ge[2].townInfo.population_count)+"")&&se(f,u),Ve!==(Ve=Oe(ge))&&(We.d(1),We=Ve(ge),We&&(We.c(),We.m(d,m))),$e[0]&4&&_!==(_=JSON.stringify(ge[5].requirements[ge[2].difficulty].happiness)+"")&&se(h,_),$e[0]&4&&y!==(y=JSON.stringify(ge[2].townInfo.happiness)+"")&&se(A,y),Ce!==(Ce=Ge(ge))&&(Te.d(1),Te=Ce(ge),Te&&(Te.c(),Te.m(R,V))),$e[0]&4&&N!==(N=JSON.stringify(ge[5].requirements[ge[2].difficulty].employment*100)+"")&&se(H,N),$e[0]&4&&L!==(L=JSON.stringify((ge[2].townInfo.employees/ge[2].townInfo.population_count||0)*100)+"")&&se(X,L),It!==(It=_t(ge))&&(dt.d(1),dt=It(ge),dt&&(dt.c(),dt.m(k,E))),$e[0]&4&&q!==(q=JSON.stringify(ge[5].requirements[ge[2].difficulty].health)+"")&&se(D,q),$e[0]&4&&Z!==(Z=JSON.stringify(ge[2].townInfo.health)+"")&&se(x,Z),Nt!==(Nt=qt(ge))&&(ft.d(1),ft=Nt(ge),ft&&(ft.c(),ft.m(p,j))),$e[0]&4&&J!==(J=JSON.stringify(ge[5].requirements[ge[2].difficulty].knowledge)+"")&&se(ne,J),$e[0]&4&&ue!==(ue=JSON.stringify(ge[2].townInfo.knowledge_points)+"")&&se(ke,ue),ge[5].requirements[ge[2].difficulty].required_plots!=null&&ge[5].requirements[ge[2].difficulty].required_plots.length>0?Qe?Qe.p(ge,$e):(Qe=Tu(ge),Qe.c(),Qe.m(Ye.parentNode,Ye)):Qe&&(Qe.d(1),Qe=null)},d(ge){ge&&(T(e),T(n),T(o),T(we),T(Ye)),ce.d(),We.d(),Te.d(),dt.d(),ft.d(),Qe&&Qe.d(ge)}}}function Dv(t){let e;return{c(){e=G("âŒ")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Lv(t){let e;return{c(){e=G("âœ…")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Fv(t){let e;return{c(){e=G("âŒ")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function qv(t){let e;return{c(){e=G("âœ…")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function jv(t){let e;return{c(){e=G("âŒ")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Bv(t){let e;return{c(){e=G("âœ…")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Gv(t){let e;return{c(){e=G("âŒ")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Vv(t){let e;return{c(){e=G("âœ…")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Hv(t){let e;return{c(){e=G("âŒ")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Wv(t){let e;return{c(){e=G("âœ…")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Tu(t){let e,n,o,i=Ue(t[5].requirements[t[2].difficulty].required_plots),r=[];for(let l=0;l<i.length;l+=1)r[l]=Iu(Au(t,i,l));return{c(){e=M("br"),n=G(`
                You also need to have these plots:
                `);for(let l=0;l<r.length;l+=1)r[l].c();o=Re()},m(l,a){I(l,e,a),I(l,n,a);for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(l,a);I(l,o,a)},p(l,a){if(a[0]&36){i=Ue(l[5].requirements[l[2].difficulty].required_plots);let s;for(s=0;s<i.length;s+=1){const u=Au(l,i,s);r[s]?r[s].p(u,a):(r[s]=Iu(u),r[s].c(),r[s].m(o.parentNode,o))}for(;s<r.length;s+=1)r[s].d(1);r.length=i.length}},d(l){l&&(T(e),T(n),T(o)),wt(r,l)}}}function $v(t){let e;return{c(){e=G("âŒ")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Kv(t){let e;return{c(){e=G("âœ…")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Iu(t){let e,n,o,i,r=t[28]+"",l,a;function s(c,d){return d[0]&4&&(o=null),o==null&&(o=st(c[28],c[2]).length>0),o?Kv:$v}let u=s(t,[-1,-1]),f=u(t);return{c(){e=M("div"),n=M("li"),f.c(),i=W(),l=G(r),a=W(),O(e,"class","text-sm")},m(c,d){I(c,e,d),v(e,n),f.m(n,null),v(n,i),v(n,l),v(e,a)},p(c,d){u!==(u=s(c,d))&&(f.d(1),f=u(c),f&&(f.c(),f.m(n,i))),d[0]&4&&r!==(r=c[28]+"")&&se(l,r)},d(c){c&&T(e),f.d()}}}function Uv(t){let e;return{c(){e=G("Save game")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Yv(t){let e;return{c(){e=G("Save")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Xv(t){let e;return{c(){e=G("Upload game")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Mu(t){let e,n;function o(){return t[19](t[25])}return e=new Yt({props:{class:"bg-blue-600 hover:bg-blue-700 mt-4",id:"collectPrize-"+t[25].id,$$slots:{default:[Jv]},$$scope:{ctx:t}}}),e.$on("click",o),{c(){ee(e.$$.fragment)},m(i,r){Q(e,i,r),n=!0},p(i,r){t=i;const l={};r[0]&2&&(l.id="collectPrize-"+t[25].id),r[0]&2|r[1]&1&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(i){n||(C(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){z(e,i)}}}function Jv(t){let e,n=Ou(t[25].prize)+"",o,i;return{c(){e=G("Collect Prize: $"),o=G(n),i=G(" gold")},m(r,l){I(r,e,l),I(r,o,l),I(r,i,l)},p(r,l){l[0]&2&&n!==(n=Ou(r[25].prize)+"")&&se(o,n)},d(r){r&&(T(e),T(o),T(i))}}}function Pu(t){let e,n,o,i,r,l,a=t[25].title+"",s,u,f,c=t[25].requirements+"",d,m,_,h=t[25].icon+"",b,y,A,w=t[25].description+"",R,V,N,H,F=t[8](t[25].id)+"",L,X,P,g=t[13](t[25].id)&&!t[9](t[25].id),k,E,q,D=g&&Mu(t);return{c(){e=M("div"),n=M("div"),o=M("div"),i=M("span"),r=M("div"),l=M("span"),s=G(a),u=W(),f=M("div"),d=G(c),m=W(),_=M("div"),b=G(h),y=W(),A=M("div"),R=G(w),V=W(),N=M("div"),H=G("âœ… Completed on Day "),L=G(F),P=W(),D&&D.c(),k=W(),O(l,"class","font-semibold text-lg"),O(f,"class","font-thin text-white opacity-75 text-xs"),O(r,"class","flex flex-row gap-3 w-[100%] text- items-center "),O(_,"class","text-sm flex-grow pr-1 break-inside-avoid "),O(i,"class","flex flex-row justify-between w-[100%]"),O(o,"class","min-w-32 flex"),O(A,"class","text-white opacity-75 text-sm font-light"),O(N,"class",X=(t[13](t[25].id)?"":"hidden")+" text-xs text-green-400"),O(n,"class","flex-col flex px-3 py-2 gap-0"),O(e,"class",E="flex flex-col gap-3 cursor-default rounded-md "+(t[13](t[25].id)?"bg-green-700":"bg-gray-500 opacity-35"))},m(K,Z){I(K,e,Z),v(e,n),v(n,o),v(o,i),v(i,r),v(r,l),v(l,s),v(r,u),v(r,f),v(f,d),v(i,m),v(i,_),v(_,b),v(n,y),v(n,A),v(A,R),v(n,V),v(n,N),v(N,H),v(N,L),v(n,P),D&&D.m(n,null),v(e,k),q=!0},p(K,Z){(!q||Z[0]&2)&&a!==(a=K[25].title+"")&&se(s,a),(!q||Z[0]&2)&&c!==(c=K[25].requirements+"")&&se(d,c),(!q||Z[0]&2)&&h!==(h=K[25].icon+"")&&se(b,h),(!q||Z[0]&2)&&w!==(w=K[25].description+"")&&se(R,w),(!q||Z[0]&2)&&F!==(F=K[8](K[25].id)+"")&&se(L,F),(!q||Z[0]&2&&X!==(X=(K[13](K[25].id)?"":"hidden")+" text-xs text-green-400"))&&O(N,"class",X),Z[0]&2&&(g=K[13](K[25].id)&&!K[9](K[25].id)),g?D?(D.p(K,Z),Z[0]&2&&C(D,1)):(D=Mu(K),D.c(),C(D,1),D.m(n,null)):D&&(Ie(),S(D,1,1,()=>{D=null}),Me()),(!q||Z[0]&2&&E!==(E="flex flex-col gap-3 cursor-default rounded-md "+(K[13](K[25].id)?"bg-green-700":"bg-gray-500 opacity-35")))&&O(e,"class",E)},i(K){q||(C(D),q=!0)},o(K){S(D),q=!1},d(K){K&&T(e),D&&D.d()}}}function xv(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,_,h,b,y,A,w,R,V,N,H,F,L,X,P,g,k,E,q,D,K,Z,x,$,p,j,J,ne,U,ue,ke;e=new Ao({props:{$$slots:{default:[Rv]},$$scope:{ctx:t}}});let we=t[2].endGoal=="land"&&Su(t);h=new io({props:{for:"saveButton",class:`cursor-pointer bg-blue-600 rounded-md text-center p-2.5 hover:bg-blue-700 justify-center flex 
					`,$$slots:{default:[Uv]},$$scope:{ctx:t}}}),y=new Yt({props:{class:`
					bg-blue-600 hover:bg-blue-700 hidden
					`,id:"saveButton",$$slots:{default:[Yv]},$$scope:{ctx:t}}}),y.$on("click",t[16]),w=new io({props:{for:"upload",class:`cursor-pointer bg-blue-600 rounded-md text-center p-2.5 hover:bg-blue-700 justify-center flex 
					`,$$slots:{default:[Xv]},$$scope:{ctx:t}}}),V=new os({props:{class:"hidden",type:"file",id:"upload"}}),V.$on("change",t[12]),H=new At({props:{orientation:"vertical"}});let Ye=Ue(t[1]),Be=[];for(let ce=0;ce<Ye.length;ce+=1)Be[ce]=Pu(Cu(t,Ye,ce));const et=ce=>S(Be[ce],1,1,()=>{Be[ce]=null});return{c(){ee(e.$$.fragment),n=W(),o=M("div"),i=M("div"),r=M("div"),l=M("h4"),l.textContent="This game",a=W(),s=M("span"),s.textContent=`${t[5].description_title}`,u=W(),f=M("div"),we&&we.c(),c=W(),d=M("div"),m=M("div"),_=M("div"),ee(h.$$.fragment),b=W(),ee(y.$$.fragment),A=W(),ee(w.$$.fragment),R=W(),ee(V.$$.fragment),N=W(),ee(H.$$.fragment),F=W(),L=M("div"),X=M("h4"),X.textContent=`Your achievement (${t[7].length}
          / ${ze.length})`,P=W(),g=M("span"),g.textContent="Track your progress through games & complete challenges!",k=W(),E=M("br"),q=W(),D=M("div"),K=M("input"),Z=W(),x=M("label"),x.textContent="Show completed",$=W(),p=M("div"),j=M("div");for(let ce=0;ce<Be.length;ce+=1)Be[ce].c();J=W(),ne=M("span"),ne.textContent=`Prizes apply to the current game you are in. You can wait to apply
          them until the right time.`,O(l,"class","underline underline-offset-4"),O(s,"class","text-sm text-gray-400"),O(f,"class","mt-6 gap-0 py-0 text-gray-400 text-sm"),O(r,"class","flex-col h-max"),O(_,"class","flex gap-10 justify-start min-w-[100%] w-[100%] items"),O(m,"class","flex flex-col gap-3 h-max"),O(i,"class","flex flex-col gap-6 justify-between"),O(X,"class","underline underline-offset-4"),O(g,"class","text-sm text-gray-400"),O(K,"type","checkbox"),O(K,"id","toggle-show-completed"),O(K,"class","rounded"),O(K,"tabindex","-1"),K.checked=localStorage.getItem("showCompletedAchievements")==="true",O(x,"for","toggle-show-completed"),O(x,"class","text-xs text-gray-400 select-none ml-2 no-select cursor-pointer "),O(D,"class","flex items-center"),O(j,"class","flex flex-col gap-4 overflow-scroll pb-20 scroll-smooth"),O(p,"class","overflow-scroll mt-2 h-[55vh]"),O(ne,"class","text-sm text-yellow-400 italic"),O(o,"class","flex flex-row w-full gap-10")},m(ce,Oe){Q(e,ce,Oe),I(ce,n,Oe),I(ce,o,Oe),v(o,i),v(i,r),v(r,l),v(r,a),v(r,s),v(r,u),v(r,f),we&&we.m(f,null),v(i,c),v(i,d),v(d,m),v(m,_),Q(h,_,null),v(_,b),Q(y,_,null),v(_,A),Q(w,_,null),v(_,R),Q(V,_,null),v(o,N),Q(H,o,null),v(o,F),v(o,L),v(L,X),v(L,P),v(L,g),v(L,k),v(L,E),v(L,q),v(L,D),v(D,K),v(D,Z),v(D,x),v(L,$),v(L,p),v(p,j);for(let Ve=0;Ve<Be.length;Ve+=1)Be[Ve]&&Be[Ve].m(j,null);v(L,J),v(L,ne),U=!0,ue||(ke=[te(K,"change",t[17]),te(K,"keydown",t[18])],ue=!0)},p(ce,Oe){const Ve={};Oe[1]&1&&(Ve.$$scope={dirty:Oe,ctx:ce}),e.$set(Ve),ce[2].endGoal=="land"?we?we.p(ce,Oe):(we=Su(ce),we.c(),we.m(f,null)):we&&(we.d(1),we=null);const We={};Oe[1]&1&&(We.$$scope={dirty:Oe,ctx:ce}),h.$set(We);const Ge={};Oe[1]&1&&(Ge.$$scope={dirty:Oe,ctx:ce}),y.$set(Ge);const Ce={};if(Oe[1]&1&&(Ce.$$scope={dirty:Oe,ctx:ce}),w.$set(Ce),Oe[0]&9986){Ye=Ue(ce[1]);let Te;for(Te=0;Te<Ye.length;Te+=1){const _t=Cu(ce,Ye,Te);Be[Te]?(Be[Te].p(_t,Oe),C(Be[Te],1)):(Be[Te]=Pu(_t),Be[Te].c(),C(Be[Te],1),Be[Te].m(j,null))}for(Ie(),Te=Ye.length;Te<Be.length;Te+=1)et(Te);Me()}},i(ce){if(!U){C(e.$$.fragment,ce),C(h.$$.fragment,ce),C(y.$$.fragment,ce),C(w.$$.fragment,ce),C(V.$$.fragment,ce),C(H.$$.fragment,ce);for(let Oe=0;Oe<Ye.length;Oe+=1)C(Be[Oe]);U=!0}},o(ce){S(e.$$.fragment,ce),S(h.$$.fragment,ce),S(y.$$.fragment,ce),S(w.$$.fragment,ce),S(V.$$.fragment,ce),S(H.$$.fragment,ce),Be=Be.filter(Boolean);for(let Oe=0;Oe<Be.length;Oe+=1)S(Be[Oe]);U=!1},d(ce){ce&&(T(n),T(o)),z(e,ce),we&&we.d(),z(h),z(y),z(w),z(V),z(H),wt(Be,ce),ue=!1,je(ke)}}}function Zv(t){let e,n;return e=new So({props:{class:" max-w-[90vw] max-h-[90vh] bg-foregroundDark text-foregroundText",$$slots:{default:[xv]},$$scope:{ctx:t}}}),{c(){ee(e.$$.fragment)},m(o,i){Q(e,o,i),n=!0},p(o,i){const r={};i[0]&6|i[1]&1&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){z(e,o)}}}function Qv(t){var o;let e=((o=t[14]())==null?void 0:o.title)+"",n;return{c(){n=G(e)},m(i,r){I(i,n,r)},p:Ae,d(i){i&&T(n)}}}function zv(t){let e,n,o,i;return{c(){var r,l;e=M("div"),n=M("div"),n.textContent=`${(r=t[14]())==null?void 0:r.icon}`,o=W(),i=M("div"),i.textContent=`${(l=t[14]())==null?void 0:l.description}`,O(n,"class","text-center w-[30%] align-middle flex flex-col text-8xl"),O(i,"class","pl-8 w-[80%] align-middle flex flex-col justify-center text-lg"),O(e,"class","flex flex-row align-middle justify-evenly px-6 py-4")},m(r,l){I(r,e,l),v(e,n),v(e,o),v(e,i)},p:Ae,d(r){r&&T(e)}}}function ey(t){let e,n,o,i;return e=new is({props:{class:"text-center text-xl font-bold",$$slots:{default:[Qv]},$$scope:{ctx:t}}}),o=new as({props:{$$slots:{default:[zv]},$$scope:{ctx:t}}}),{c(){ee(e.$$.fragment),n=W(),ee(o.$$.fragment)},m(r,l){Q(e,r,l),I(r,n,l),Q(o,r,l),i=!0},p(r,l){const a={};l[1]&1&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l[1]&1&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),z(e,r),z(o,r)}}}function ty(t){let e;return{c(){e=G("Close to collect prize")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function ny(t){let e,n;return e=new md({props:{$$slots:{default:[ty]},$$scope:{ctx:t}}}),e.$on("click",t[21]),{c(){ee(e.$$.fragment)},m(o,i){Q(e,o,i),n=!0},p(o,i){const r={};i[1]&1&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){z(e,o)}}}function oy(t){let e,n,o,i;return e=new ls({props:{$$slots:{default:[ey]},$$scope:{ctx:t}}}),o=new rs({props:{$$slots:{default:[ny]},$$scope:{ctx:t}}}),{c(){ee(e.$$.fragment),n=W(),ee(o.$$.fragment)},m(r,l){Q(e,r,l),I(r,n,l),Q(o,r,l),i=!0},p(r,l){const a={};l[1]&1&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l[0]&16|l[1]&1&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),z(e,r),z(o,r)}}}function iy(t){let e,n;return e=new ss({props:{$$slots:{default:[oy]},$$scope:{ctx:t}}}),{c(){ee(e.$$.fragment)},m(o,i){Q(e,o,i),n=!0},p(o,i){const r={};i[0]&16|i[1]&1&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){z(e,o)}}}function ry(t){let e,n,o,i,r;function l(s){t[20](s)}let a={$$slots:{default:[Zv]},$$scope:{ctx:t}};return t[3]!==void 0&&(a.open=t[3]),e=new Io({props:a}),Pe.push(()=>Vn(e,"open",l)),i=new us({props:{open:t[4],$$slots:{default:[iy]},$$scope:{ctx:t}}}),{c(){ee(e.$$.fragment),o=W(),ee(i.$$.fragment)},m(s,u){Q(e,s,u),I(s,o,u),Q(i,s,u),r=!0},p(s,u){const f={};u[0]&6|u[1]&1&&(f.$$scope={dirty:u,ctx:s}),!n&&u[0]&8&&(n=!0,f.open=s[3],Gn(()=>n=!1)),e.$set(f);const c={};u[0]&16&&(c.open=s[4]),u[0]&16|u[1]&1&&(c.$$scope={dirty:u,ctx:s}),i.$set(c)},i(s){r||(C(e.$$.fragment,s),C(i.$$.fragment,s),r=!0)},o(s){S(e.$$.fragment,s),S(i.$$.fragment,s),r=!1},d(s){s&&T(o),z(e,s),z(i,s)}}}function Ou(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function ly(t){const e=JSON.parse(t);return e.townInfo!=null&&e.difficulty!=null}function sy(t,e,n){let o,i,r,l,a;ae(t,nn,P=>n(23,o=P)),ae(t,De,P=>n(2,i=P)),ae(t,er,P=>n(15,r=P)),ae(t,Pt,P=>n(3,l=P)),ae(t,zi,P=>n(4,a=P));const u=pt[i.endGoal],f=Kl[i.difficulty]||0;ze.sort((P,g)=>A(P.id)&&!A(g.id)?-1:!A(P.id)&&A(g.id)?1:0);const c=ze.filter(P=>A(P.id));function d(P){const g=o.achievements.find(k=>k[0]==P);return g==null?0:`${g[1]} in ${g[2]}.`}function m(P){const g=o.achievements.find(k=>k[0]==P);return g==null?!1:g[3]}function _(P){const g=o.achievements.find(E=>E[0]==P);if(g==null)return;const k=ze.find(E=>E.id==P);k!=null&&(Ee(De,i.townInfo.gold+=k.prize,i),g[3]=!0,Ee(nn,o.achievements=o.achievements.map(E=>E[0]==P?g:E),o))}let h=ze;function b(){const P=JSON.stringify(i),g=new Blob([P],{type:"text/plain"}),k=URL.createObjectURL(g),E=document.createElement("a");E.href=k,E.download=`${new Date().toISOString()}.json`,document.body.appendChild(E),E.click(),document.body.removeChild(E),URL.revokeObjectURL(k)}function y(){const g=document.getElementById("upload").files;if(g==null)return;const k=g[0],E=new FileReader;E.onload=function(q){if(q.target==null)return;const D=q.target.result;if(typeof D=="string"){if(!ly(D)){alert("Invalid game file");return}Ul(JSON.parse(D))}else alert("Invalid game file: is not String.")},E.readAsText(k)}function A(P){return o.achievements==null?!1:o.achievements.find(g=>g[0]==P)!=null}function w(){er.update(P=>!P),localStorage.setItem("showCompletedAchievements",localStorage.getItem("showCompletedAchievements")==="true"?"false":"true")}localStorage.getItem("pauseMenuTab")==null&&(localStorage.setItem("pauseMenuTab","game"),Ac.set("game"));function R(){const P=o.achievements[o.achievements.length-1];if(P!=null)return ze.find(g=>g.id==P[0])}const V=()=>b(),N=()=>{w()},H=P=>{P.key==="p"&&Pt.set(!1)},F=P=>{_(P.id);const g=document.getElementById(`collectPrize-${P.id}`);g&&(g.style.display="none")};function L(P){l=P,Pt.set(l)}const X=()=>{Ee(zi,a=!1,a)};return t.$$.update=()=>{if(t.$$.dirty[0]&32774&&i)if(r)n(1,h=ze);else{n(1,h=[]);for(let P=0;P<ze.length;P++)(!A(ze[P].id)||!m(ze[P].id))&&h.push(ze[P])}},[w,h,i,l,a,u,f,c,d,m,_,b,y,A,R,r,V,N,H,F,L,X]}class ay extends ye{constructor(e){super(),ve(this,e,sy,ry,fe,{toggleShowCompleted:0},null,[-1,-1])}get toggleShowCompleted(){return this.$$.ctx[0]}}function uy(){console.log("%cRUNNING STABILITY TESTS...","color: #26bfa5;");let t=0;return console.log("%cPASSED ALL STABILITY TESTS ðŸ˜","color: #26bfa5;"),t}function fy(t){let e=t[0].endGameDetails.win==!0?"You won! ðŸŽ‰":"You lost! ðŸ˜­",n;return{c(){n=G(e)},m(o,i){I(o,n,i)},p(o,i){i&1&&e!==(e=o[0].endGameDetails.win==!0?"You won! ðŸŽ‰":"You lost! ðŸ˜­")&&se(n,e)},d(o){o&&T(n)}}}function cy(t){let e;return{c(){e=G("Keep playin'")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function dy(t){let e,n=t[0].endGameDetails.msg+"",o,i,r,l,a,s,u,f;return u=new Yt({props:{class:"bg-accent",$$slots:{default:[cy]},$$scope:{ctx:t}}}),u.$on("click",t[2]),{c(){e=M("span"),o=G(n),i=W(),r=M("br"),l=W(),a=M("br"),s=W(),ee(u.$$.fragment),O(e,"class","text-gray-500 text-sm")},m(c,d){I(c,e,d),v(e,o),I(c,i,d),I(c,r,d),I(c,l,d),I(c,a,d),I(c,s,d),Q(u,c,d),f=!0},p(c,d){(!f||d&1)&&n!==(n=c[0].endGameDetails.msg+"")&&se(o,n);const m={};d&16&&(m.$$scope={dirty:d,ctx:c}),u.$set(m)},i(c){f||(C(u.$$.fragment,c),f=!0)},o(c){S(u.$$.fragment,c),f=!1},d(c){c&&(T(e),T(i),T(r),T(l),T(a),T(s)),z(u,c)}}}function my(t){let e,n,o,i;return e=new Co({props:{$$slots:{default:[fy]},$$scope:{ctx:t}}}),o=new To({props:{$$slots:{default:[dy]},$$scope:{ctx:t}}}),{c(){ee(e.$$.fragment),n=W(),ee(o.$$.fragment)},m(r,l){Q(e,r,l),I(r,n,l),Q(o,r,l),i=!0},p(r,l){const a={};l&17&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&17&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),z(e,r),z(o,r)}}}function py(t){let e;return{c(){e=M("span"),e.textContent="Reset the game by pressing SHIFT+ESC",O(e,"class","text-gray-500 text-sm")},m(n,o){I(n,e,o)},p:Ae,d(n){n&&T(e)}}}function hy(t){let e,n,o,i;return e=new Ao({props:{$$slots:{default:[my]},$$scope:{ctx:t}}}),o=new oi({props:{$$slots:{default:[py]},$$scope:{ctx:t}}}),{c(){ee(e.$$.fragment),n=W(),ee(o.$$.fragment)},m(r,l){Q(e,r,l),I(r,n,l),Q(o,r,l),i=!0},p(r,l){const a={};l&17&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&16&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),z(e,r),z(o,r)}}}function _y(t){let e,n;return e=new So({props:{class:"bg-foregroundDark text-foregroundText",$$slots:{default:[hy]},$$scope:{ctx:t}}}),{c(){ee(e.$$.fragment)},m(o,i){Q(e,o,i),n=!0},p(o,i){const r={};i&17&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){z(e,o)}}}function gy(t){let e,n,o;function i(l){t[3](l)}let r={$$slots:{default:[_y]},$$scope:{ctx:t}};return t[1]!==void 0&&(r.open=t[1]),e=new Io({props:r}),Pe.push(()=>Vn(e,"open",i)),{c(){ee(e.$$.fragment)},m(l,a){Q(e,l,a),o=!0},p(l,[a]){const s={};a&17&&(s.$$scope={dirty:a,ctx:l}),!n&&a&2&&(n=!0,s.open=l[1],Gn(()=>n=!1)),e.$set(s)},i(l){o||(C(e.$$.fragment,l),o=!0)},o(l){S(e.$$.fragment,l),o=!1},d(l){z(e,l)}}}function by(t,e,n){let o;ae(t,De,a=>n(0,o=a));let i=!1;function r(){let a=o;a.overtime=!0,De.set(a),n(1,i=!1),Pt.set(!1)}function l(a){i=a,n(1,i),n(0,o)}return t.$$.update=()=>{t.$$.dirty&1&&(o.endGameDetails.msg!=""&&o.overtime==!1?n(1,i=!0):n(1,i=!1))},[o,i,r,l]}class vy extends ye{constructor(e){super(),ve(this,e,by,gy,fe,{})}}function yy(t){let e;return{c(){e=G("Welcome to Plots!")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function wy(t){let e;return{c(){e=G("Select a map size (difficulty)")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function ky(t){let e;return{c(){e=G("Select a game mode")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Cy(t){let e;return{c(){e=M("p"),e.textContent=`${pt.free_play.description_title}`,O(e,"class","text-gray-500 text-sm")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Ay(t){let e;return{c(){e=M("p"),e.textContent=`${pt.land.description_title}`,O(e,"class","text-gray-500 text-sm")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Sy(t){let e;return{c(){e=G("Town Name")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Ty(t){let e;return{c(){e=G("Cheats")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Iy(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,_,h,b,y,A,w,R,V,N,H,F,L,X,P,g,k,E,q,D,K;r=new io({props:{for:"difficulty",class:"mt-2",$$slots:{default:[wy]},$$scope:{ctx:t}}}),m=new io({props:{for:"endGoal",class:"mt-2",$$slots:{default:[ky]},$$scope:{ctx:t}}});function Z(p,j){return p[0]==="land"?Ay:Cy}let x=Z(t),$=x(t);return V=new io({props:{for:"townName",class:"mt-2",$$slots:{default:[Sy]},$$scope:{ctx:t}}}),H=new os({props:{id:"townName",class:"mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Will be randomized if you leave blank"}}),X=new io({props:{for:"cheats",class:"mt-2",$$slots:{default:[Ty]},$$scope:{ctx:t}}}),{c(){e=M("a"),e.textContent="GitHub / Learn how to play",n=W(),o=M("div"),i=M("div"),ee(r.$$.fragment),l=W(),a=M("select"),s=M("option"),s.textContent="Easy (quick game)",u=M("option"),u.textContent="Normal",f=M("option"),f.textContent="Hard (longest game)",c=W(),d=M("div"),ee(m.$$.fragment),_=W(),$.c(),h=W(),b=M("select"),y=M("option"),y.textContent=`${pt.land.short_title}`,A=M("option"),A.textContent=`${pt.free_play.short_title}`,w=W(),R=M("div"),ee(V.$$.fragment),N=W(),ee(H.$$.fragment),F=W(),L=M("div"),ee(X.$$.fragment),P=W(),g=M("select"),k=M("option"),k.textContent="No cheats",E=M("option"),E.textContent="Dev mode",O(e,"href","https://github.com/josephrcox/plots#how-to-play"),O(e,"class","text-blue-500 text-sm mb-4 hover:underline"),O(e,"target","_blank"),s.__value="0",zt(s,s.__value),u.__value="1",zt(u,u.__value),u.selected=!0,f.__value="2",zt(f,f.__value),O(a,"id","difficulty"),O(a,"class","mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"),y.__value="land",zt(y,y.__value),A.__value="free_play",zt(A,A.__value),O(b,"id","endGoal"),O(b,"class","mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),k.__value="false",zt(k,k.__value),k.selected=!0,E.__value="true",zt(E,E.__value),O(g,"id","cheats"),O(g,"class","mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),O(o,"class","flex flex-col justify-center gap-5 mt-4")},m(p,j){I(p,e,j),I(p,n,j),I(p,o,j),v(o,i),Q(r,i,null),v(i,l),v(i,a),v(a,s),v(a,u),v(a,f),v(o,c),v(o,d),Q(m,d,null),v(d,_),$.m(d,null),v(d,h),v(d,b),v(b,y),v(b,A),Hs(b,t[0]),v(o,w),v(o,R),Q(V,R,null),v(R,N),Q(H,R,null),v(o,F),v(o,L),Q(X,L,null),v(L,P),v(L,g),v(g,k),v(g,E),q=!0,D||(K=te(b,"change",t[4]),D=!0)},p(p,j){const J={};j&128&&(J.$$scope={dirty:j,ctx:p}),r.$set(J);const ne={};j&128&&(ne.$$scope={dirty:j,ctx:p}),m.$set(ne),x!==(x=Z(p))&&($.d(1),$=x(p),$&&($.c(),$.m(d,h))),(!q||j&1)&&Hs(b,p[0]);const U={};j&128&&(U.$$scope={dirty:j,ctx:p}),V.$set(U);const ue={};j&128&&(ue.$$scope={dirty:j,ctx:p}),X.$set(ue)},i(p){q||(C(r.$$.fragment,p),C(m.$$.fragment,p),C(V.$$.fragment,p),C(H.$$.fragment,p),C(X.$$.fragment,p),q=!0)},o(p){S(r.$$.fragment,p),S(m.$$.fragment,p),S(V.$$.fragment,p),S(H.$$.fragment,p),S(X.$$.fragment,p),q=!1},d(p){p&&(T(e),T(n),T(o)),z(r),z(m),$.d(),z(V),z(H),z(X),D=!1,K()}}}function My(t){let e,n,o,i;return e=new Co({props:{$$slots:{default:[yy]},$$scope:{ctx:t}}}),o=new To({props:{$$slots:{default:[Iy]},$$scope:{ctx:t}}}),{c(){ee(e.$$.fragment),n=W(),ee(o.$$.fragment)},m(r,l){Q(e,r,l),I(r,n,l),Q(o,r,l),i=!0},p(r,l){const a={};l&128&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&129&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),z(e,r),z(o,r)}}}function Py(t){let e;return{c(){e=G("Reset user")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Oy(t){let e,n,o=t[1].username+"",i,r,l,a,s,u,f,c,d;return a=new Yt({props:{$$slots:{default:[Py]},$$scope:{ctx:t}}}),a.$on("click",Dy),{c(){e=M("div"),n=M("span"),i=G(o),r=W(),l=M("div"),ee(a.$$.fragment),s=W(),u=M("button"),u.textContent="Start game",O(n,"class","italic opacity-30 text-xs py-2 text-start rounded h-full flex flex-col justify-center mr-10"),O(u,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-md"),O(e,"class","flex flex-row justify-between w-full px-1")},m(m,_){I(m,e,_),v(e,n),v(n,i),v(e,r),v(e,l),Q(a,l,null),v(l,s),v(l,u),f=!0,c||(d=[te(n,"click",t[5]),te(u,"click",t[3])],c=!0)},p(m,_){(!f||_&2)&&o!==(o=m[1].username+"")&&se(i,o);const h={};_&128&&(h.$$scope={dirty:_,ctx:m}),a.$set(h)},i(m){f||(C(a.$$.fragment,m),f=!0)},o(m){S(a.$$.fragment,m),f=!1},d(m){m&&T(e),z(a),c=!1,je(d)}}}function Ny(t){let e,n,o,i;return e=new Ao({props:{$$slots:{default:[My]},$$scope:{ctx:t}}}),o=new oi({props:{$$slots:{default:[Oy]},$$scope:{ctx:t}}}),{c(){ee(e.$$.fragment),n=W(),ee(o.$$.fragment)},m(r,l){Q(e,r,l),I(r,n,l),Q(o,r,l),i=!0},p(r,l){const a={};l&129&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&130&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),z(e,r),z(o,r)}}}function Ey(t){let e,n;return e=new So({props:{transition:Ar,class:"bg-foregroundDark text-foregroundText",$$slots:{default:[Ny]},$$scope:{ctx:t}}}),{c(){ee(e.$$.fragment)},m(o,i){Q(e,o,i),n=!0},p(o,i){const r={};i&131&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){z(e,o)}}}function Ry(t){let e,n,o;function i(l){t[6](l)}let r={$$slots:{default:[Ey]},$$scope:{ctx:t}};return t[2].visible!==void 0&&(r.open=t[2].visible),e=new Io({props:r}),Pe.push(()=>Vn(e,"open",i)),{c(){ee(e.$$.fragment)},m(l,a){Q(e,l,a),o=!0},p(l,[a]){const s={};a&131&&(s.$$scope={dirty:a,ctx:l}),!n&&a&4&&(n=!0,s.open=l[2].visible,Gn(()=>n=!1)),e.$set(s)},i(l){o||(C(e.$$.fragment,l),o=!0)},o(l){S(e.$$.fragment,l),o=!1},d(l){z(e,l)}}}function Dy(){alert("Deleted :)"),localStorage.clear(),window.location.href=""}function Ly(t,e,n){let o,i;ae(t,nn,f=>n(1,o=f)),ae(t,$o,f=>n(2,i=f)),Pt.set(!1);function r(){const f=document.getElementById("difficulty").value,c=document.getElementById("endGoal").value,d=document.getElementById("townName").value,m=document.getElementById("cheats").value=="true";Am(f,c,d,m)}let l="free_play";const a=f=>{n(0,l=f.target.value)};function s(){const f=prompt("Enter new username");let c=o;c.username=f,Mm(c)}function u(f){t.$$.not_equal(i.visible,f)&&(i.visible=f,$o.set(i))}return[l,o,i,r,a,s,u]}class Fy extends ye{constructor(e){super(),ve(this,e,Ly,Ry,fe,{})}}function qy(t){let e;return{c(){e=G("Scoreboard")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function jy(t){let e=t[1].description_title+"",n;return{c(){n=G(e)},m(o,i){I(o,n,i)},p:Ae,d(o){o&&T(n)}}}function By(t){let e,n,o,i;return e=new Co({props:{$$slots:{default:[qy]},$$scope:{ctx:t}}}),o=new To({props:{$$slots:{default:[jy]},$$scope:{ctx:t}}}),{c(){ee(e.$$.fragment),n=W(),ee(o.$$.fragment)},m(r,l){Q(e,r,l),I(r,n,l),Q(o,r,l),i=!0},p(r,l){const a={};l&128&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&128&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),z(e,r),z(o,r)}}}function Gy(t){let e;return{c(){e=G("footer")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Vy(t){let e,n,o,i;return e=new Ao({props:{$$slots:{default:[By]},$$scope:{ctx:t}}}),o=new oi({props:{$$slots:{default:[Gy]},$$scope:{ctx:t}}}),{c(){ee(e.$$.fragment),n=G(`
		hi
		`),ee(o.$$.fragment)},m(r,l){Q(e,r,l),I(r,n,l),Q(o,r,l),i=!0},p(r,l){const a={};l&128&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&128&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),z(e,r),z(o,r)}}}function Hy(t){let e,n;return e=new So({props:{$$slots:{default:[Vy]},$$scope:{ctx:t}}}),{c(){ee(e.$$.fragment)},m(o,i){Q(e,o,i),n=!0},p(o,i){const r={};i&128&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){z(e,o)}}}function Wy(t){let e,n,o;function i(l){t[3](l)}let r={$$slots:{default:[Hy]},$$scope:{ctx:t}};return t[0]!==void 0&&(r.open=t[0]),e=new Io({props:r}),Pe.push(()=>Vn(e,"open",i)),{c(){ee(e.$$.fragment)},m(l,a){Q(e,l,a),o=!0},p(l,[a]){const s={};a&128&&(s.$$scope={dirty:a,ctx:l}),!n&&a&1&&(n=!0,s.open=l[0],Gn(()=>n=!1)),e.$set(s)},i(l){o||(C(e.$$.fragment,l),o=!0)},o(l){S(e.$$.fragment,l),o=!1},d(l){z(e,l)}}}function $y(t,e,n){let o,i;ae(t,De,s=>n(2,o=s)),ae(t,Us,s=>n(0,i=s));const l=pt[o.endGoal];Kl[o.difficulty];function a(s){i=s,Us.set(i)}return t.$$.update=()=>{t.$$.dirty&4},[i,l,o,a]}class Ky extends ye{constructor(e){super(),ve(this,e,$y,Wy,fe,{})}}function Vi(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Uy(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function pd(t){let e,n,o;t.length!==2?(e=Vi,n=(a,s)=>Vi(t(a),s),o=(a,s)=>t(a)-s):(e=t===Vi||t===Uy?t:Yy,n=t,o=t);function i(a,s,u=0,f=a.length){if(u<f){if(e(s,s)!==0)return f;do{const c=u+f>>>1;n(a[c],s)<0?u=c+1:f=c}while(u<f)}return u}function r(a,s,u=0,f=a.length){if(u<f){if(e(s,s)!==0)return f;do{const c=u+f>>>1;n(a[c],s)<=0?u=c+1:f=c}while(u<f)}return u}function l(a,s,u=0,f=a.length){const c=i(a,s,u,f-1);return c>u&&o(a[c-1],s)>-o(a[c],s)?c-1:c}return{left:i,center:l,right:r}}function Yy(){return 0}function Xy(t){return t===null?NaN:+t}const Jy=pd(Vi),xy=Jy.right;pd(Xy).center;const Zy=Math.sqrt(50),Qy=Math.sqrt(10),zy=Math.sqrt(2);function ar(t,e,n){const o=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(o)),r=o/Math.pow(10,i),l=r>=Zy?10:r>=Qy?5:r>=zy?2:1;let a,s,u;return i<0?(u=Math.pow(10,-i)/l,a=Math.round(t*u),s=Math.round(e*u),a/u<t&&++a,s/u>e&&--s,u=-u):(u=Math.pow(10,i)*l,a=Math.round(t/u),s=Math.round(e/u),a*u<t&&++a,s*u>e&&--s),s<a&&.5<=n&&n<2?ar(t,e,n*2):[a,s,u]}function ew(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const o=e<t,[i,r,l]=o?ar(e,t,n):ar(t,e,n);if(!(r>=i))return[];const a=r-i+1,s=new Array(a);if(o)if(l<0)for(let u=0;u<a;++u)s[u]=(r-u)/-l;else for(let u=0;u<a;++u)s[u]=(r-u)*l;else if(l<0)for(let u=0;u<a;++u)s[u]=(i+u)/-l;else for(let u=0;u<a;++u)s[u]=(i+u)*l;return s}function Sl(t,e,n){return e=+e,t=+t,n=+n,ar(t,e,n)[2]}function tw(t,e,n){e=+e,t=+t,n=+n;const o=e<t,i=o?Sl(e,t,n):Sl(t,e,n);return(o?-1:1)*(i<0?1/-i:i)}function nw(t){return t}var ll=1,sl=2,Tl=3,Bo=4,Nu=1e-6;function ow(t){return"translate("+t+",0)"}function iw(t){return"translate(0,"+t+")"}function rw(t){return e=>+t(e)}function lw(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function sw(){return!this.__axis}function hd(t,e){var n=[],o=null,i=null,r=6,l=6,a=3,s=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=t===ll||t===Bo?-1:1,f=t===Bo||t===sl?"x":"y",c=t===ll||t===Tl?ow:iw;function d(m){var _=o??(e.ticks?e.ticks.apply(e,n):e.domain()),h=i??(e.tickFormat?e.tickFormat.apply(e,n):nw),b=Math.max(r,0)+a,y=e.range(),A=+y[0]+s,w=+y[y.length-1]+s,R=(e.bandwidth?lw:rw)(e.copy(),s),V=m.selection?m.selection():m,N=V.selectAll(".domain").data([null]),H=V.selectAll(".tick").data(_,e).order(),F=H.exit(),L=H.enter().append("g").attr("class","tick"),X=H.select("line"),P=H.select("text");N=N.merge(N.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),H=H.merge(L),X=X.merge(L.append("line").attr("stroke","currentColor").attr(f+"2",u*r)),P=P.merge(L.append("text").attr("fill","currentColor").attr(f,u*b).attr("dy",t===ll?"0em":t===Tl?"0.71em":"0.32em")),m!==V&&(N=N.transition(m),H=H.transition(m),X=X.transition(m),P=P.transition(m),F=F.transition(m).attr("opacity",Nu).attr("transform",function(g){return isFinite(g=R(g))?c(g+s):this.getAttribute("transform")}),L.attr("opacity",Nu).attr("transform",function(g){var k=this.parentNode.__axis;return c((k&&isFinite(k=k(g))?k:R(g))+s)})),F.remove(),N.attr("d",t===Bo||t===sl?l?"M"+u*l+","+A+"H"+s+"V"+w+"H"+u*l:"M"+s+","+A+"V"+w:l?"M"+A+","+u*l+"V"+s+"H"+w+"V"+u*l:"M"+A+","+s+"H"+w),H.attr("opacity",1).attr("transform",function(g){return c(R(g)+s)}),X.attr(f+"2",u*r),P.attr(f,u*b).text(h),V.filter(sw).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===sl?"start":t===Bo?"end":"middle"),V.each(function(){this.__axis=R})}return d.scale=function(m){return arguments.length?(e=m,d):e},d.ticks=function(){return n=Array.from(arguments),d},d.tickArguments=function(m){return arguments.length?(n=m==null?[]:Array.from(m),d):n.slice()},d.tickValues=function(m){return arguments.length?(o=m==null?null:Array.from(m),d):o&&o.slice()},d.tickFormat=function(m){return arguments.length?(i=m,d):i},d.tickSize=function(m){return arguments.length?(r=l=+m,d):r},d.tickSizeInner=function(m){return arguments.length?(r=+m,d):r},d.tickSizeOuter=function(m){return arguments.length?(l=+m,d):l},d.tickPadding=function(m){return arguments.length?(a=+m,d):a},d.offset=function(m){return arguments.length?(s=+m,d):s},d}function aw(t){return hd(Tl,t)}function uw(t){return hd(Bo,t)}var fw={value:()=>{}};function _d(){for(var t=0,e=arguments.length,n={},o;t<e;++t){if(!(o=arguments[t]+"")||o in n||/[\s.]/.test(o))throw new Error("illegal type: "+o);n[o]=[]}return new Hi(n)}function Hi(t){this._=t}function cw(t,e){return t.trim().split(/^|\s+/).map(function(n){var o="",i=n.indexOf(".");if(i>=0&&(o=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:o}})}Hi.prototype=_d.prototype={constructor:Hi,on:function(t,e){var n=this._,o=cw(t+"",n),i,r=-1,l=o.length;if(arguments.length<2){for(;++r<l;)if((i=(t=o[r]).type)&&(i=dw(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++r<l;)if(i=(t=o[r]).type)n[i]=Eu(n[i],t.name,e);else if(e==null)for(i in n)n[i]=Eu(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Hi(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),o=0,i,r;o<i;++o)n[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=this._[t],o=0,i=r.length;o<i;++o)r[o].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var o=this._[t],i=0,r=o.length;i<r;++i)o[i].value.apply(e,n)}};function dw(t,e){for(var n=0,o=t.length,i;n<o;++n)if((i=t[n]).name===e)return i.value}function Eu(t,e,n){for(var o=0,i=t.length;o<i;++o)if(t[o].name===e){t[o]=fw,t=t.slice(0,o).concat(t.slice(o+1));break}return n!=null&&t.push({name:e,value:n}),t}var Il="http://www.w3.org/1999/xhtml";const Ru={svg:"http://www.w3.org/2000/svg",xhtml:Il,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Nr(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Ru.hasOwnProperty(e)?{space:Ru[e],local:t}:t}function mw(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Il&&e.documentElement.namespaceURI===Il?e.createElement(t):e.createElementNS(n,t)}}function pw(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function gd(t){var e=Nr(t);return(e.local?pw:mw)(e)}function hw(){}function fs(t){return t==null?hw:function(){return this.querySelector(t)}}function _w(t){typeof t!="function"&&(t=fs(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var r=e[i],l=r.length,a=o[i]=new Array(l),s,u,f=0;f<l;++f)(s=r[f])&&(u=t.call(s,s.__data__,f,r))&&("__data__"in s&&(u.__data__=s.__data__),a[f]=u);return new Tt(o,this._parents)}function gw(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function bw(){return[]}function bd(t){return t==null?bw:function(){return this.querySelectorAll(t)}}function vw(t){return function(){return gw(t.apply(this,arguments))}}function yw(t){typeof t=="function"?t=vw(t):t=bd(t);for(var e=this._groups,n=e.length,o=[],i=[],r=0;r<n;++r)for(var l=e[r],a=l.length,s,u=0;u<a;++u)(s=l[u])&&(o.push(t.call(s,s.__data__,u,l)),i.push(s));return new Tt(o,i)}function vd(t){return function(){return this.matches(t)}}function yd(t){return function(e){return e.matches(t)}}var ww=Array.prototype.find;function kw(t){return function(){return ww.call(this.children,t)}}function Cw(){return this.firstElementChild}function Aw(t){return this.select(t==null?Cw:kw(typeof t=="function"?t:yd(t)))}var Sw=Array.prototype.filter;function Tw(){return Array.from(this.children)}function Iw(t){return function(){return Sw.call(this.children,t)}}function Mw(t){return this.selectAll(t==null?Tw:Iw(typeof t=="function"?t:yd(t)))}function Pw(t){typeof t!="function"&&(t=vd(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var r=e[i],l=r.length,a=o[i]=[],s,u=0;u<l;++u)(s=r[u])&&t.call(s,s.__data__,u,r)&&a.push(s);return new Tt(o,this._parents)}function wd(t){return new Array(t.length)}function Ow(){return new Tt(this._enter||this._groups.map(wd),this._parents)}function ur(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}ur.prototype={constructor:ur,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Nw(t){return function(){return t}}function Ew(t,e,n,o,i,r){for(var l=0,a,s=e.length,u=r.length;l<u;++l)(a=e[l])?(a.__data__=r[l],o[l]=a):n[l]=new ur(t,r[l]);for(;l<s;++l)(a=e[l])&&(i[l]=a)}function Rw(t,e,n,o,i,r,l){var a,s,u=new Map,f=e.length,c=r.length,d=new Array(f),m;for(a=0;a<f;++a)(s=e[a])&&(d[a]=m=l.call(s,s.__data__,a,e)+"",u.has(m)?i[a]=s:u.set(m,s));for(a=0;a<c;++a)m=l.call(t,r[a],a,r)+"",(s=u.get(m))?(o[a]=s,s.__data__=r[a],u.delete(m)):n[a]=new ur(t,r[a]);for(a=0;a<f;++a)(s=e[a])&&u.get(d[a])===s&&(i[a]=s)}function Dw(t){return t.__data__}function Lw(t,e){if(!arguments.length)return Array.from(this,Dw);var n=e?Rw:Ew,o=this._parents,i=this._groups;typeof t!="function"&&(t=Nw(t));for(var r=i.length,l=new Array(r),a=new Array(r),s=new Array(r),u=0;u<r;++u){var f=o[u],c=i[u],d=c.length,m=Fw(t.call(f,f&&f.__data__,u,o)),_=m.length,h=a[u]=new Array(_),b=l[u]=new Array(_),y=s[u]=new Array(d);n(f,c,h,b,y,m,e);for(var A=0,w=0,R,V;A<_;++A)if(R=h[A]){for(A>=w&&(w=A+1);!(V=b[w])&&++w<_;);R._next=V||null}}return l=new Tt(l,o),l._enter=a,l._exit=s,l}function Fw(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function qw(){return new Tt(this._exit||this._groups.map(wd),this._parents)}function jw(t,e,n){var o=this.enter(),i=this,r=this.exit();return typeof t=="function"?(o=t(o),o&&(o=o.selection())):o=o.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?r.remove():n(r),o&&i?o.merge(i).order():i}function Bw(t){for(var e=t.selection?t.selection():t,n=this._groups,o=e._groups,i=n.length,r=o.length,l=Math.min(i,r),a=new Array(i),s=0;s<l;++s)for(var u=n[s],f=o[s],c=u.length,d=a[s]=new Array(c),m,_=0;_<c;++_)(m=u[_]||f[_])&&(d[_]=m);for(;s<i;++s)a[s]=n[s];return new Tt(a,this._parents)}function Gw(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var o=t[e],i=o.length-1,r=o[i],l;--i>=0;)(l=o[i])&&(r&&l.compareDocumentPosition(r)^4&&r.parentNode.insertBefore(l,r),r=l);return this}function Vw(t){t||(t=Hw);function e(c,d){return c&&d?t(c.__data__,d.__data__):!c-!d}for(var n=this._groups,o=n.length,i=new Array(o),r=0;r<o;++r){for(var l=n[r],a=l.length,s=i[r]=new Array(a),u,f=0;f<a;++f)(u=l[f])&&(s[f]=u);s.sort(e)}return new Tt(i,this._parents).order()}function Hw(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Ww(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function $w(){return Array.from(this)}function Kw(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var o=t[e],i=0,r=o.length;i<r;++i){var l=o[i];if(l)return l}return null}function Uw(){let t=0;for(const e of this)++t;return t}function Yw(){return!this.node()}function Xw(t){for(var e=this._groups,n=0,o=e.length;n<o;++n)for(var i=e[n],r=0,l=i.length,a;r<l;++r)(a=i[r])&&t.call(a,a.__data__,r,i);return this}function Jw(t){return function(){this.removeAttribute(t)}}function xw(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Zw(t,e){return function(){this.setAttribute(t,e)}}function Qw(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function zw(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function e2(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function t2(t,e){var n=Nr(t);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((e==null?n.local?xw:Jw:typeof e=="function"?n.local?e2:zw:n.local?Qw:Zw)(n,e))}function kd(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function n2(t){return function(){this.style.removeProperty(t)}}function o2(t,e,n){return function(){this.style.setProperty(t,e,n)}}function i2(t,e,n){return function(){var o=e.apply(this,arguments);o==null?this.style.removeProperty(t):this.style.setProperty(t,o,n)}}function r2(t,e,n){return arguments.length>1?this.each((e==null?n2:typeof e=="function"?i2:o2)(t,e,n??"")):ho(this.node(),t)}function ho(t,e){return t.style.getPropertyValue(e)||kd(t).getComputedStyle(t,null).getPropertyValue(e)}function l2(t){return function(){delete this[t]}}function s2(t,e){return function(){this[t]=e}}function a2(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function u2(t,e){return arguments.length>1?this.each((e==null?l2:typeof e=="function"?a2:s2)(t,e)):this.node()[t]}function Cd(t){return t.trim().split(/^|\s+/)}function cs(t){return t.classList||new Ad(t)}function Ad(t){this._node=t,this._names=Cd(t.getAttribute("class")||"")}Ad.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Sd(t,e){for(var n=cs(t),o=-1,i=e.length;++o<i;)n.add(e[o])}function Td(t,e){for(var n=cs(t),o=-1,i=e.length;++o<i;)n.remove(e[o])}function f2(t){return function(){Sd(this,t)}}function c2(t){return function(){Td(this,t)}}function d2(t,e){return function(){(e.apply(this,arguments)?Sd:Td)(this,t)}}function m2(t,e){var n=Cd(t+"");if(arguments.length<2){for(var o=cs(this.node()),i=-1,r=n.length;++i<r;)if(!o.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?d2:e?f2:c2)(n,e))}function p2(){this.textContent=""}function h2(t){return function(){this.textContent=t}}function _2(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function g2(t){return arguments.length?this.each(t==null?p2:(typeof t=="function"?_2:h2)(t)):this.node().textContent}function b2(){this.innerHTML=""}function v2(t){return function(){this.innerHTML=t}}function y2(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function w2(t){return arguments.length?this.each(t==null?b2:(typeof t=="function"?y2:v2)(t)):this.node().innerHTML}function k2(){this.nextSibling&&this.parentNode.appendChild(this)}function C2(){return this.each(k2)}function A2(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function S2(){return this.each(A2)}function T2(t){var e=typeof t=="function"?t:gd(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function I2(){return null}function M2(t,e){var n=typeof t=="function"?t:gd(t),o=e==null?I2:typeof e=="function"?e:fs(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)})}function P2(){var t=this.parentNode;t&&t.removeChild(this)}function O2(){return this.each(P2)}function N2(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function E2(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function R2(t){return this.select(t?E2:N2)}function D2(t){return arguments.length?this.property("__data__",t):this.node().__data__}function L2(t){return function(e){t.call(this,e,this.__data__)}}function F2(t){return t.trim().split(/^|\s+/).map(function(e){var n="",o=e.indexOf(".");return o>=0&&(n=e.slice(o+1),e=e.slice(0,o)),{type:e,name:n}})}function q2(t){return function(){var e=this.__on;if(e){for(var n=0,o=-1,i=e.length,r;n<i;++n)r=e[n],(!t.type||r.type===t.type)&&r.name===t.name?this.removeEventListener(r.type,r.listener,r.options):e[++o]=r;++o?e.length=o:delete this.__on}}}function j2(t,e,n){return function(){var o=this.__on,i,r=L2(e);if(o){for(var l=0,a=o.length;l<a;++l)if((i=o[l]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=r,i.options=n),i.value=e;return}}this.addEventListener(t.type,r,n),i={type:t.type,name:t.name,value:e,listener:r,options:n},o?o.push(i):this.__on=[i]}}function B2(t,e,n){var o=F2(t+""),i,r=o.length,l;if(arguments.length<2){var a=this.node().__on;if(a){for(var s=0,u=a.length,f;s<u;++s)for(i=0,f=a[s];i<r;++i)if((l=o[i]).type===f.type&&l.name===f.name)return f.value}return}for(a=e?j2:q2,i=0;i<r;++i)this.each(a(o[i],e,n));return this}function Id(t,e,n){var o=kd(t),i=o.CustomEvent;typeof i=="function"?i=new i(e,n):(i=o.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function G2(t,e){return function(){return Id(this,t,e)}}function V2(t,e){return function(){return Id(this,t,e.apply(this,arguments))}}function H2(t,e){return this.each((typeof e=="function"?V2:G2)(t,e))}function*W2(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var o=t[e],i=0,r=o.length,l;i<r;++i)(l=o[i])&&(yield l)}var Md=[null];function Tt(t,e){this._groups=t,this._parents=e}function ii(){return new Tt([[document.documentElement]],Md)}function $2(){return this}Tt.prototype=ii.prototype={constructor:Tt,select:_w,selectAll:yw,selectChild:Aw,selectChildren:Mw,filter:Pw,data:Lw,enter:Ow,exit:qw,join:jw,merge:Bw,selection:$2,order:Gw,sort:Vw,call:Ww,nodes:$w,node:Kw,size:Uw,empty:Yw,each:Xw,attr:t2,style:r2,property:u2,classed:m2,text:g2,html:w2,raise:C2,lower:S2,append:T2,insert:M2,remove:O2,clone:R2,datum:D2,on:B2,dispatch:H2,[Symbol.iterator]:W2};function K2(t){return typeof t=="string"?new Tt([[document.querySelector(t)]],[document.documentElement]):new Tt([[t]],Md)}function ds(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Pd(t,e){var n=Object.create(t.prototype);for(var o in e)n[o]=e[o];return n}function ri(){}var Zo=.7,fr=1/Zo,uo="\\s*([+-]?\\d+)\\s*",Qo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",$t="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",U2=/^#([0-9a-f]{3,8})$/,Y2=new RegExp(`^rgb\\(${uo},${uo},${uo}\\)$`),X2=new RegExp(`^rgb\\(${$t},${$t},${$t}\\)$`),J2=new RegExp(`^rgba\\(${uo},${uo},${uo},${Qo}\\)$`),x2=new RegExp(`^rgba\\(${$t},${$t},${$t},${Qo}\\)$`),Z2=new RegExp(`^hsl\\(${Qo},${$t},${$t}\\)$`),Q2=new RegExp(`^hsla\\(${Qo},${$t},${$t},${Qo}\\)$`),Du={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ds(ri,jn,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Lu,formatHex:Lu,formatHex8:z2,formatHsl:ek,formatRgb:Fu,toString:Fu});function Lu(){return this.rgb().formatHex()}function z2(){return this.rgb().formatHex8()}function ek(){return Od(this).formatHsl()}function Fu(){return this.rgb().formatRgb()}function jn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=U2.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?qu(e):n===3?new vt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Ri(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Ri(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Y2.exec(t))?new vt(e[1],e[2],e[3],1):(e=X2.exec(t))?new vt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=J2.exec(t))?Ri(e[1],e[2],e[3],e[4]):(e=x2.exec(t))?Ri(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Z2.exec(t))?Gu(e[1],e[2]/100,e[3]/100,1):(e=Q2.exec(t))?Gu(e[1],e[2]/100,e[3]/100,e[4]):Du.hasOwnProperty(t)?qu(Du[t]):t==="transparent"?new vt(NaN,NaN,NaN,0):null}function qu(t){return new vt(t>>16&255,t>>8&255,t&255,1)}function Ri(t,e,n,o){return o<=0&&(t=e=n=NaN),new vt(t,e,n,o)}function tk(t){return t instanceof ri||(t=jn(t)),t?(t=t.rgb(),new vt(t.r,t.g,t.b,t.opacity)):new vt}function Ml(t,e,n,o){return arguments.length===1?tk(t):new vt(t,e,n,o??1)}function vt(t,e,n,o){this.r=+t,this.g=+e,this.b=+n,this.opacity=+o}ds(vt,Ml,Pd(ri,{brighter(t){return t=t==null?fr:Math.pow(fr,t),new vt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Zo:Math.pow(Zo,t),new vt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new vt(En(this.r),En(this.g),En(this.b),cr(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ju,formatHex:ju,formatHex8:nk,formatRgb:Bu,toString:Bu}));function ju(){return`#${Pn(this.r)}${Pn(this.g)}${Pn(this.b)}`}function nk(){return`#${Pn(this.r)}${Pn(this.g)}${Pn(this.b)}${Pn((isNaN(this.opacity)?1:this.opacity)*255)}`}function Bu(){const t=cr(this.opacity);return`${t===1?"rgb(":"rgba("}${En(this.r)}, ${En(this.g)}, ${En(this.b)}${t===1?")":`, ${t})`}`}function cr(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function En(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Pn(t){return t=En(t),(t<16?"0":"")+t.toString(16)}function Gu(t,e,n,o){return o<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Rt(t,e,n,o)}function Od(t){if(t instanceof Rt)return new Rt(t.h,t.s,t.l,t.opacity);if(t instanceof ri||(t=jn(t)),!t)return new Rt;if(t instanceof Rt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,o=t.b/255,i=Math.min(e,n,o),r=Math.max(e,n,o),l=NaN,a=r-i,s=(r+i)/2;return a?(e===r?l=(n-o)/a+(n<o)*6:n===r?l=(o-e)/a+2:l=(e-n)/a+4,a/=s<.5?r+i:2-r-i,l*=60):a=s>0&&s<1?0:l,new Rt(l,a,s,t.opacity)}function ok(t,e,n,o){return arguments.length===1?Od(t):new Rt(t,e,n,o??1)}function Rt(t,e,n,o){this.h=+t,this.s=+e,this.l=+n,this.opacity=+o}ds(Rt,ok,Pd(ri,{brighter(t){return t=t==null?fr:Math.pow(fr,t),new Rt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Zo:Math.pow(Zo,t),new Rt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*e,i=2*n-o;return new vt(al(t>=240?t-240:t+120,i,o),al(t,i,o),al(t<120?t+240:t-120,i,o),this.opacity)},clamp(){return new Rt(Vu(this.h),Di(this.s),Di(this.l),cr(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=cr(this.opacity);return`${t===1?"hsl(":"hsla("}${Vu(this.h)}, ${Di(this.s)*100}%, ${Di(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Vu(t){return t=(t||0)%360,t<0?t+360:t}function Di(t){return Math.max(0,Math.min(1,t||0))}function al(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const ms=t=>()=>t;function ik(t,e){return function(n){return t+n*e}}function rk(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(o){return Math.pow(t+o*e,n)}}function lk(t){return(t=+t)==1?Nd:function(e,n){return n-e?rk(e,n,t):ms(isNaN(e)?n:e)}}function Nd(t,e){var n=e-t;return n?ik(t,n):ms(isNaN(t)?e:t)}const dr=function t(e){var n=lk(e);function o(i,r){var l=n((i=Ml(i)).r,(r=Ml(r)).r),a=n(i.g,r.g),s=n(i.b,r.b),u=Nd(i.opacity,r.opacity);return function(f){return i.r=l(f),i.g=a(f),i.b=s(f),i.opacity=u(f),i+""}}return o.gamma=t,o}(1);function sk(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,o=e.slice(),i;return function(r){for(i=0;i<n;++i)o[i]=t[i]*(1-r)+e[i]*r;return o}}function ak(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function uk(t,e){var n=e?e.length:0,o=t?Math.min(n,t.length):0,i=new Array(o),r=new Array(n),l;for(l=0;l<o;++l)i[l]=ps(t[l],e[l]);for(;l<n;++l)r[l]=e[l];return function(a){for(l=0;l<o;++l)r[l]=i[l](a);return r}}function fk(t,e){var n=new Date;return t=+t,e=+e,function(o){return n.setTime(t*(1-o)+e*o),n}}function Et(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function ck(t,e){var n={},o={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=ps(t[i],e[i]):o[i]=e[i];return function(r){for(i in n)o[i]=n[i](r);return o}}var Pl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ul=new RegExp(Pl.source,"g");function dk(t){return function(){return t}}function mk(t){return function(e){return t(e)+""}}function Ed(t,e){var n=Pl.lastIndex=ul.lastIndex=0,o,i,r,l=-1,a=[],s=[];for(t=t+"",e=e+"";(o=Pl.exec(t))&&(i=ul.exec(e));)(r=i.index)>n&&(r=e.slice(n,r),a[l]?a[l]+=r:a[++l]=r),(o=o[0])===(i=i[0])?a[l]?a[l]+=i:a[++l]=i:(a[++l]=null,s.push({i:l,x:Et(o,i)})),n=ul.lastIndex;return n<e.length&&(r=e.slice(n),a[l]?a[l]+=r:a[++l]=r),a.length<2?s[0]?mk(s[0].x):dk(e):(e=s.length,function(u){for(var f=0,c;f<e;++f)a[(c=s[f]).i]=c.x(u);return a.join("")})}function ps(t,e){var n=typeof e,o;return e==null||n==="boolean"?ms(e):(n==="number"?Et:n==="string"?(o=jn(e))?(e=o,dr):Ed:e instanceof jn?dr:e instanceof Date?fk:ak(e)?sk:Array.isArray(e)?uk:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?ck:Et)(t,e)}function pk(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var Hu=180/Math.PI,Ol={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Rd(t,e,n,o,i,r){var l,a,s;return(l=Math.sqrt(t*t+e*e))&&(t/=l,e/=l),(s=t*n+e*o)&&(n-=t*s,o-=e*s),(a=Math.sqrt(n*n+o*o))&&(n/=a,o/=a,s/=a),t*o<e*n&&(t=-t,e=-e,s=-s,l=-l),{translateX:i,translateY:r,rotate:Math.atan2(e,t)*Hu,skewX:Math.atan(s)*Hu,scaleX:l,scaleY:a}}var Li;function hk(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Ol:Rd(e.a,e.b,e.c,e.d,e.e,e.f)}function _k(t){return t==null||(Li||(Li=document.createElementNS("http://www.w3.org/2000/svg","g")),Li.setAttribute("transform",t),!(t=Li.transform.baseVal.consolidate()))?Ol:(t=t.matrix,Rd(t.a,t.b,t.c,t.d,t.e,t.f))}function Dd(t,e,n,o){function i(u){return u.length?u.pop()+" ":""}function r(u,f,c,d,m,_){if(u!==c||f!==d){var h=m.push("translate(",null,e,null,n);_.push({i:h-4,x:Et(u,c)},{i:h-2,x:Et(f,d)})}else(c||d)&&m.push("translate("+c+e+d+n)}function l(u,f,c,d){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),d.push({i:c.push(i(c)+"rotate(",null,o)-2,x:Et(u,f)})):f&&c.push(i(c)+"rotate("+f+o)}function a(u,f,c,d){u!==f?d.push({i:c.push(i(c)+"skewX(",null,o)-2,x:Et(u,f)}):f&&c.push(i(c)+"skewX("+f+o)}function s(u,f,c,d,m,_){if(u!==c||f!==d){var h=m.push(i(m)+"scale(",null,",",null,")");_.push({i:h-4,x:Et(u,c)},{i:h-2,x:Et(f,d)})}else(c!==1||d!==1)&&m.push(i(m)+"scale("+c+","+d+")")}return function(u,f){var c=[],d=[];return u=t(u),f=t(f),r(u.translateX,u.translateY,f.translateX,f.translateY,c,d),l(u.rotate,f.rotate,c,d),a(u.skewX,f.skewX,c,d),s(u.scaleX,u.scaleY,f.scaleX,f.scaleY,c,d),u=f=null,function(m){for(var _=-1,h=d.length,b;++_<h;)c[(b=d[_]).i]=b.x(m);return c.join("")}}}var gk=Dd(hk,"px, ","px)","deg)"),bk=Dd(_k,", ",")",")"),_o=0,Go=0,qo=0,Ld=1e3,mr,Vo,pr=0,Bn=0,Er=0,zo=typeof performance=="object"&&performance.now?performance:Date,Fd=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function hs(){return Bn||(Fd(vk),Bn=zo.now()+Er)}function vk(){Bn=0}function hr(){this._call=this._time=this._next=null}hr.prototype=qd.prototype={constructor:hr,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?hs():+n)+(e==null?0:+e),!this._next&&Vo!==this&&(Vo?Vo._next=this:mr=this,Vo=this),this._call=t,this._time=n,Nl()},stop:function(){this._call&&(this._call=null,this._time=1/0,Nl())}};function qd(t,e,n){var o=new hr;return o.restart(t,e,n),o}function yk(){hs(),++_o;for(var t=mr,e;t;)(e=Bn-t._time)>=0&&t._call.call(void 0,e),t=t._next;--_o}function Wu(){Bn=(pr=zo.now())+Er,_o=Go=0;try{yk()}finally{_o=0,kk(),Bn=0}}function wk(){var t=zo.now(),e=t-pr;e>Ld&&(Er-=e,pr=t)}function kk(){for(var t,e=mr,n,o=1/0;e;)e._call?(o>e._time&&(o=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:mr=n);Vo=t,Nl(o)}function Nl(t){if(!_o){Go&&(Go=clearTimeout(Go));var e=t-Bn;e>24?(t<1/0&&(Go=setTimeout(Wu,t-zo.now()-Er)),qo&&(qo=clearInterval(qo))):(qo||(pr=zo.now(),qo=setInterval(wk,Ld)),_o=1,Fd(Wu))}}function $u(t,e,n){var o=new hr;return e=e==null?0:+e,o.restart(i=>{o.stop(),t(i+e)},e,n),o}var Ck=_d("start","end","cancel","interrupt"),Ak=[],jd=0,Ku=1,El=2,Wi=3,Uu=4,Rl=5,$i=6;function Rr(t,e,n,o,i,r){var l=t.__transition;if(!l)t.__transition={};else if(n in l)return;Sk(t,n,{name:e,index:o,group:i,on:Ck,tween:Ak,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:jd})}function _s(t,e){var n=Ft(t,e);if(n.state>jd)throw new Error("too late; already scheduled");return n}function xt(t,e){var n=Ft(t,e);if(n.state>Wi)throw new Error("too late; already running");return n}function Ft(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Sk(t,e,n){var o=t.__transition,i;o[e]=n,n.timer=qd(r,0,n.time);function r(u){n.state=Ku,n.timer.restart(l,n.delay,n.time),n.delay<=u&&l(u-n.delay)}function l(u){var f,c,d,m;if(n.state!==Ku)return s();for(f in o)if(m=o[f],m.name===n.name){if(m.state===Wi)return $u(l);m.state===Uu?(m.state=$i,m.timer.stop(),m.on.call("interrupt",t,t.__data__,m.index,m.group),delete o[f]):+f<e&&(m.state=$i,m.timer.stop(),m.on.call("cancel",t,t.__data__,m.index,m.group),delete o[f])}if($u(function(){n.state===Wi&&(n.state=Uu,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=El,n.on.call("start",t,t.__data__,n.index,n.group),n.state===El){for(n.state=Wi,i=new Array(d=n.tween.length),f=0,c=-1;f<d;++f)(m=n.tween[f].value.call(t,t.__data__,n.index,n.group))&&(i[++c]=m);i.length=c+1}}function a(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(s),n.state=Rl,1),c=-1,d=i.length;++c<d;)i[c].call(t,f);n.state===Rl&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){n.state=$i,n.timer.stop(),delete o[e];for(var u in o)return;delete t.__transition}}function Tk(t,e){var n=t.__transition,o,i,r=!0,l;if(n){e=e==null?null:e+"";for(l in n){if((o=n[l]).name!==e){r=!1;continue}i=o.state>El&&o.state<Rl,o.state=$i,o.timer.stop(),o.on.call(i?"interrupt":"cancel",t,t.__data__,o.index,o.group),delete n[l]}r&&delete t.__transition}}function Ik(t){return this.each(function(){Tk(this,t)})}function Mk(t,e){var n,o;return function(){var i=xt(this,t),r=i.tween;if(r!==n){o=n=r;for(var l=0,a=o.length;l<a;++l)if(o[l].name===e){o=o.slice(),o.splice(l,1);break}}i.tween=o}}function Pk(t,e,n){var o,i;if(typeof n!="function")throw new Error;return function(){var r=xt(this,t),l=r.tween;if(l!==o){i=(o=l).slice();for(var a={name:e,value:n},s=0,u=i.length;s<u;++s)if(i[s].name===e){i[s]=a;break}s===u&&i.push(a)}r.tween=i}}function Ok(t,e){var n=this._id;if(t+="",arguments.length<2){for(var o=Ft(this.node(),n).tween,i=0,r=o.length,l;i<r;++i)if((l=o[i]).name===t)return l.value;return null}return this.each((e==null?Mk:Pk)(n,t,e))}function gs(t,e,n){var o=t._id;return t.each(function(){var i=xt(this,o);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return Ft(i,o).value[e]}}function Bd(t,e){var n;return(typeof e=="number"?Et:e instanceof jn?dr:(n=jn(e))?(e=n,dr):Ed)(t,e)}function Nk(t){return function(){this.removeAttribute(t)}}function Ek(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Rk(t,e,n){var o,i=n+"",r;return function(){var l=this.getAttribute(t);return l===i?null:l===o?r:r=e(o=l,n)}}function Dk(t,e,n){var o,i=n+"",r;return function(){var l=this.getAttributeNS(t.space,t.local);return l===i?null:l===o?r:r=e(o=l,n)}}function Lk(t,e,n){var o,i,r;return function(){var l,a=n(this),s;return a==null?void this.removeAttribute(t):(l=this.getAttribute(t),s=a+"",l===s?null:l===o&&s===i?r:(i=s,r=e(o=l,a)))}}function Fk(t,e,n){var o,i,r;return function(){var l,a=n(this),s;return a==null?void this.removeAttributeNS(t.space,t.local):(l=this.getAttributeNS(t.space,t.local),s=a+"",l===s?null:l===o&&s===i?r:(i=s,r=e(o=l,a)))}}function qk(t,e){var n=Nr(t),o=n==="transform"?bk:Bd;return this.attrTween(t,typeof e=="function"?(n.local?Fk:Lk)(n,o,gs(this,"attr."+t,e)):e==null?(n.local?Ek:Nk)(n):(n.local?Dk:Rk)(n,o,e))}function jk(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Bk(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Gk(t,e){var n,o;function i(){var r=e.apply(this,arguments);return r!==o&&(n=(o=r)&&Bk(t,r)),n}return i._value=e,i}function Vk(t,e){var n,o;function i(){var r=e.apply(this,arguments);return r!==o&&(n=(o=r)&&jk(t,r)),n}return i._value=e,i}function Hk(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var o=Nr(t);return this.tween(n,(o.local?Gk:Vk)(o,e))}function Wk(t,e){return function(){_s(this,t).delay=+e.apply(this,arguments)}}function $k(t,e){return e=+e,function(){_s(this,t).delay=e}}function Kk(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Wk:$k)(e,t)):Ft(this.node(),e).delay}function Uk(t,e){return function(){xt(this,t).duration=+e.apply(this,arguments)}}function Yk(t,e){return e=+e,function(){xt(this,t).duration=e}}function Xk(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Uk:Yk)(e,t)):Ft(this.node(),e).duration}function Jk(t,e){if(typeof e!="function")throw new Error;return function(){xt(this,t).ease=e}}function xk(t){var e=this._id;return arguments.length?this.each(Jk(e,t)):Ft(this.node(),e).ease}function Zk(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;xt(this,t).ease=n}}function Qk(t){if(typeof t!="function")throw new Error;return this.each(Zk(this._id,t))}function zk(t){typeof t!="function"&&(t=vd(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var r=e[i],l=r.length,a=o[i]=[],s,u=0;u<l;++u)(s=r[u])&&t.call(s,s.__data__,u,r)&&a.push(s);return new ln(o,this._parents,this._name,this._id)}function e5(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,o=e.length,i=n.length,r=Math.min(o,i),l=new Array(o),a=0;a<r;++a)for(var s=e[a],u=n[a],f=s.length,c=l[a]=new Array(f),d,m=0;m<f;++m)(d=s[m]||u[m])&&(c[m]=d);for(;a<o;++a)l[a]=e[a];return new ln(l,this._parents,this._name,this._id)}function t5(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function n5(t,e,n){var o,i,r=t5(e)?_s:xt;return function(){var l=r(this,t),a=l.on;a!==o&&(i=(o=a).copy()).on(e,n),l.on=i}}function o5(t,e){var n=this._id;return arguments.length<2?Ft(this.node(),n).on.on(t):this.each(n5(n,t,e))}function i5(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function r5(){return this.on("end.remove",i5(this._id))}function l5(t){var e=this._name,n=this._id;typeof t!="function"&&(t=fs(t));for(var o=this._groups,i=o.length,r=new Array(i),l=0;l<i;++l)for(var a=o[l],s=a.length,u=r[l]=new Array(s),f,c,d=0;d<s;++d)(f=a[d])&&(c=t.call(f,f.__data__,d,a))&&("__data__"in f&&(c.__data__=f.__data__),u[d]=c,Rr(u[d],e,n,d,u,Ft(f,n)));return new ln(r,this._parents,e,n)}function s5(t){var e=this._name,n=this._id;typeof t!="function"&&(t=bd(t));for(var o=this._groups,i=o.length,r=[],l=[],a=0;a<i;++a)for(var s=o[a],u=s.length,f,c=0;c<u;++c)if(f=s[c]){for(var d=t.call(f,f.__data__,c,s),m,_=Ft(f,n),h=0,b=d.length;h<b;++h)(m=d[h])&&Rr(m,e,n,h,d,_);r.push(d),l.push(f)}return new ln(r,l,e,n)}var a5=ii.prototype.constructor;function u5(){return new a5(this._groups,this._parents)}function f5(t,e){var n,o,i;return function(){var r=ho(this,t),l=(this.style.removeProperty(t),ho(this,t));return r===l?null:r===n&&l===o?i:i=e(n=r,o=l)}}function Gd(t){return function(){this.style.removeProperty(t)}}function c5(t,e,n){var o,i=n+"",r;return function(){var l=ho(this,t);return l===i?null:l===o?r:r=e(o=l,n)}}function d5(t,e,n){var o,i,r;return function(){var l=ho(this,t),a=n(this),s=a+"";return a==null&&(s=a=(this.style.removeProperty(t),ho(this,t))),l===s?null:l===o&&s===i?r:(i=s,r=e(o=l,a))}}function m5(t,e){var n,o,i,r="style."+e,l="end."+r,a;return function(){var s=xt(this,t),u=s.on,f=s.value[r]==null?a||(a=Gd(e)):void 0;(u!==n||i!==f)&&(o=(n=u).copy()).on(l,i=f),s.on=o}}function p5(t,e,n){var o=(t+="")=="transform"?gk:Bd;return e==null?this.styleTween(t,f5(t,o)).on("end.style."+t,Gd(t)):typeof e=="function"?this.styleTween(t,d5(t,o,gs(this,"style."+t,e))).each(m5(this._id,t)):this.styleTween(t,c5(t,o,e),n).on("end.style."+t,null)}function h5(t,e,n){return function(o){this.style.setProperty(t,e.call(this,o),n)}}function _5(t,e,n){var o,i;function r(){var l=e.apply(this,arguments);return l!==i&&(o=(i=l)&&h5(t,l,n)),o}return r._value=e,r}function g5(t,e,n){var o="style."+(t+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(e==null)return this.tween(o,null);if(typeof e!="function")throw new Error;return this.tween(o,_5(t,e,n??""))}function b5(t){return function(){this.textContent=t}}function v5(t){return function(){var e=t(this);this.textContent=e??""}}function y5(t){return this.tween("text",typeof t=="function"?v5(gs(this,"text",t)):b5(t==null?"":t+""))}function w5(t){return function(e){this.textContent=t.call(this,e)}}function k5(t){var e,n;function o(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&w5(i)),e}return o._value=t,o}function C5(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,k5(t))}function A5(){for(var t=this._name,e=this._id,n=Vd(),o=this._groups,i=o.length,r=0;r<i;++r)for(var l=o[r],a=l.length,s,u=0;u<a;++u)if(s=l[u]){var f=Ft(s,e);Rr(s,t,n,u,l,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new ln(o,this._parents,t,n)}function S5(){var t,e,n=this,o=n._id,i=n.size();return new Promise(function(r,l){var a={value:l},s={value:function(){--i===0&&r()}};n.each(function(){var u=xt(this,o),f=u.on;f!==t&&(e=(t=f).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(s)),u.on=e}),i===0&&r()})}var T5=0;function ln(t,e,n,o){this._groups=t,this._parents=e,this._name=n,this._id=o}function Vd(){return++T5}var Qt=ii.prototype;ln.prototype={constructor:ln,select:l5,selectAll:s5,selectChild:Qt.selectChild,selectChildren:Qt.selectChildren,filter:zk,merge:e5,selection:u5,transition:A5,call:Qt.call,nodes:Qt.nodes,node:Qt.node,size:Qt.size,empty:Qt.empty,each:Qt.each,on:o5,attr:qk,attrTween:Hk,style:p5,styleTween:g5,text:y5,textTween:C5,remove:r5,tween:Ok,delay:Kk,duration:Xk,ease:xk,easeVarying:Qk,end:S5,[Symbol.iterator]:Qt[Symbol.iterator]};function I5(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var M5={time:null,delay:0,duration:250,ease:I5};function P5(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function O5(t){var e,n;t instanceof ln?(e=t._id,t=t._name):(e=Vd(),(n=M5).time=hs(),t=t==null?null:t+"");for(var o=this._groups,i=o.length,r=0;r<i;++r)for(var l=o[r],a=l.length,s,u=0;u<a;++u)(s=l[u])&&Rr(s,t,e,u,l,n||P5(s,e));return new ln(o,this._parents,t,e)}ii.prototype.interrupt=Ik;ii.prototype.transition=O5;const Dl=Math.PI,Ll=2*Dl,Tn=1e-6,N5=Ll-Tn;function Hd(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function E5(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Hd;const n=10**e;return function(o){this._+=o[0];for(let i=1,r=o.length;i<r;++i)this._+=Math.round(arguments[i]*n)/n+o[i]}}class R5{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Hd:E5(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,o,i){this._append`Q${+e},${+n},${this._x1=+o},${this._y1=+i}`}bezierCurveTo(e,n,o,i,r,l){this._append`C${+e},${+n},${+o},${+i},${this._x1=+r},${this._y1=+l}`}arcTo(e,n,o,i,r){if(e=+e,n=+n,o=+o,i=+i,r=+r,r<0)throw new Error(`negative radius: ${r}`);let l=this._x1,a=this._y1,s=o-e,u=i-n,f=l-e,c=a-n,d=f*f+c*c;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(d>Tn)if(!(Math.abs(c*s-u*f)>Tn)||!r)this._append`L${this._x1=e},${this._y1=n}`;else{let m=o-l,_=i-a,h=s*s+u*u,b=m*m+_*_,y=Math.sqrt(h),A=Math.sqrt(d),w=r*Math.tan((Dl-Math.acos((h+d-b)/(2*y*A)))/2),R=w/A,V=w/y;Math.abs(R-1)>Tn&&this._append`L${e+R*f},${n+R*c}`,this._append`A${r},${r},0,0,${+(c*m>f*_)},${this._x1=e+V*s},${this._y1=n+V*u}`}}arc(e,n,o,i,r,l){if(e=+e,n=+n,o=+o,l=!!l,o<0)throw new Error(`negative radius: ${o}`);let a=o*Math.cos(i),s=o*Math.sin(i),u=e+a,f=n+s,c=1^l,d=l?i-r:r-i;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>Tn||Math.abs(this._y1-f)>Tn)&&this._append`L${u},${f}`,o&&(d<0&&(d=d%Ll+Ll),d>N5?this._append`A${o},${o},0,1,${c},${e-a},${n-s}A${o},${o},0,1,${c},${this._x1=u},${this._y1=f}`:d>Tn&&this._append`A${o},${o},0,${+(d>=Dl)},${c},${this._x1=e+o*Math.cos(r)},${this._y1=n+o*Math.sin(r)}`)}rect(e,n,o,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${o=+o}v${+i}h${-o}Z`}toString(){return this._}}function D5(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function _r(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,o=t.slice(0,n);return[o.length>1?o[0]+o.slice(2):o,+t.slice(n+1)]}function go(t){return t=_r(Math.abs(t)),t?t[1]:NaN}function L5(t,e){return function(n,o){for(var i=n.length,r=[],l=0,a=t[0],s=0;i>0&&a>0&&(s+a+1>o&&(a=Math.max(1,o-s)),r.push(n.substring(i-=a,i+a)),!((s+=a+1)>o));)a=t[l=(l+1)%t.length];return r.reverse().join(e)}}function F5(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var q5=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function gr(t){if(!(e=q5.exec(t)))throw new Error("invalid format: "+t);var e;return new bs({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}gr.prototype=bs.prototype;function bs(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}bs.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function j5(t){e:for(var e=t.length,n=1,o=-1,i;n<e;++n)switch(t[n]){case".":o=i=n;break;case"0":o===0&&(o=n),i=n;break;default:if(!+t[n])break e;o>0&&(o=0);break}return o>0?t.slice(0,o)+t.slice(i+1):t}var Wd;function B5(t,e){var n=_r(t,e);if(!n)return t+"";var o=n[0],i=n[1],r=i-(Wd=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=o.length;return r===l?o:r>l?o+new Array(r-l+1).join("0"):r>0?o.slice(0,r)+"."+o.slice(r):"0."+new Array(1-r).join("0")+_r(t,Math.max(0,e+r-1))[0]}function Yu(t,e){var n=_r(t,e);if(!n)return t+"";var o=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+o:o.length>i+1?o.slice(0,i+1)+"."+o.slice(i+1):o+new Array(i-o.length+2).join("0")}const Xu={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:D5,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Yu(t*100,e),r:Yu,s:B5,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Ju(t){return t}var xu=Array.prototype.map,Zu=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function G5(t){var e=t.grouping===void 0||t.thousands===void 0?Ju:L5(xu.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",o=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",r=t.numerals===void 0?Ju:F5(xu.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"âˆ’":t.minus+"",s=t.nan===void 0?"NaN":t.nan+"";function u(c){c=gr(c);var d=c.fill,m=c.align,_=c.sign,h=c.symbol,b=c.zero,y=c.width,A=c.comma,w=c.precision,R=c.trim,V=c.type;V==="n"?(A=!0,V="g"):Xu[V]||(w===void 0&&(w=12),R=!0,V="g"),(b||d==="0"&&m==="=")&&(b=!0,d="0",m="=");var N=h==="$"?n:h==="#"&&/[boxX]/.test(V)?"0"+V.toLowerCase():"",H=h==="$"?o:/[%p]/.test(V)?l:"",F=Xu[V],L=/[defgprs%]/.test(V);w=w===void 0?6:/[gprs]/.test(V)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function X(P){var g=N,k=H,E,q,D;if(V==="c")k=F(P)+k,P="";else{P=+P;var K=P<0||1/P<0;if(P=isNaN(P)?s:F(Math.abs(P),w),R&&(P=j5(P)),K&&+P==0&&_!=="+"&&(K=!1),g=(K?_==="("?_:a:_==="-"||_==="("?"":_)+g,k=(V==="s"?Zu[8+Wd/3]:"")+k+(K&&_==="("?")":""),L){for(E=-1,q=P.length;++E<q;)if(D=P.charCodeAt(E),48>D||D>57){k=(D===46?i+P.slice(E+1):P.slice(E))+k,P=P.slice(0,E);break}}}A&&!b&&(P=e(P,1/0));var Z=g.length+P.length+k.length,x=Z<y?new Array(y-Z+1).join(d):"";switch(A&&b&&(P=e(x+P,x.length?y-k.length:1/0),x=""),m){case"<":P=g+P+k+x;break;case"=":P=g+x+P+k;break;case"^":P=x.slice(0,Z=x.length>>1)+g+P+k+x.slice(Z);break;default:P=x+g+P+k;break}return r(P)}return X.toString=function(){return c+""},X}function f(c,d){var m=u((c=gr(c),c.type="f",c)),_=Math.max(-8,Math.min(8,Math.floor(go(d)/3)))*3,h=Math.pow(10,-_),b=Zu[8+_/3];return function(y){return m(h*y)+b}}return{format:u,formatPrefix:f}}var Fi,$d,Kd;V5({thousands:",",grouping:[3],currency:["$",""]});function V5(t){return Fi=G5(t),$d=Fi.format,Kd=Fi.formatPrefix,Fi}function H5(t){return Math.max(0,-go(Math.abs(t)))}function W5(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(go(e)/3)))*3-go(Math.abs(t)))}function $5(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,go(e)-go(t))+1}function K5(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function U5(t){return function(){return t}}function Y5(t){return+t}var Qu=[0,1];function ro(t){return t}function Fl(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:U5(isNaN(e)?NaN:.5)}function X5(t,e){var n;return t>e&&(n=t,t=e,e=n),function(o){return Math.max(t,Math.min(e,o))}}function J5(t,e,n){var o=t[0],i=t[1],r=e[0],l=e[1];return i<o?(o=Fl(i,o),r=n(l,r)):(o=Fl(o,i),r=n(r,l)),function(a){return r(o(a))}}function x5(t,e,n){var o=Math.min(t.length,e.length)-1,i=new Array(o),r=new Array(o),l=-1;for(t[o]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<o;)i[l]=Fl(t[l],t[l+1]),r[l]=n(e[l],e[l+1]);return function(a){var s=xy(t,a,1,o)-1;return r[s](i[s](a))}}function Z5(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Q5(){var t=Qu,e=Qu,n=ps,o,i,r,l=ro,a,s,u;function f(){var d=Math.min(t.length,e.length);return l!==ro&&(l=X5(t[0],t[d-1])),a=d>2?x5:J5,s=u=null,c}function c(d){return d==null||isNaN(d=+d)?r:(s||(s=a(t.map(o),e,n)))(o(l(d)))}return c.invert=function(d){return l(i((u||(u=a(e,t.map(o),Et)))(d)))},c.domain=function(d){return arguments.length?(t=Array.from(d,Y5),f()):t.slice()},c.range=function(d){return arguments.length?(e=Array.from(d),f()):e.slice()},c.rangeRound=function(d){return e=Array.from(d),n=pk,f()},c.clamp=function(d){return arguments.length?(l=d?!0:ro,f()):l!==ro},c.interpolate=function(d){return arguments.length?(n=d,f()):n},c.unknown=function(d){return arguments.length?(r=d,c):r},function(d,m){return o=d,i=m,f()}}function z5(){return Q5()(ro,ro)}function e3(t,e,n,o){var i=tw(t,e,n),r;switch(o=gr(o??",f"),o.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return o.precision==null&&!isNaN(r=W5(i,l))&&(o.precision=r),Kd(o,l)}case"":case"e":case"g":case"p":case"r":{o.precision==null&&!isNaN(r=$5(i,Math.max(Math.abs(t),Math.abs(e))))&&(o.precision=r-(o.type==="e"));break}case"f":case"%":{o.precision==null&&!isNaN(r=H5(i))&&(o.precision=r-(o.type==="%")*2);break}}return $d(o)}function t3(t){var e=t.domain;return t.ticks=function(n){var o=e();return ew(o[0],o[o.length-1],n??10)},t.tickFormat=function(n,o){var i=e();return e3(i[0],i[i.length-1],n??10,o)},t.nice=function(n){n==null&&(n=10);var o=e(),i=0,r=o.length-1,l=o[i],a=o[r],s,u,f=10;for(a<l&&(u=l,l=a,a=u,u=i,i=r,r=u);f-- >0;){if(u=Sl(l,a,n),u===s)return o[i]=l,o[r]=a,e(o);if(u>0)l=Math.floor(l/u)*u,a=Math.ceil(a/u)*u;else if(u<0)l=Math.ceil(l*u)/u,a=Math.floor(a*u)/u;else break;s=u}return t},t}function ql(){var t=z5();return t.copy=function(){return Z5(t,ql())},K5.apply(t,arguments),t3(t)}function no(t){return function(){return t}}function n3(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const o=Math.floor(n);if(!(o>=0))throw new RangeError(`invalid digits: ${n}`);e=o}return t},()=>new R5(e)}function o3(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Ud(t){this._context=t}Ud.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function i3(t){return new Ud(t)}function r3(t){return t[0]}function l3(t){return t[1]}function fl(t,e){var n=no(!0),o=null,i=i3,r=null,l=n3(a);t=typeof t=="function"?t:t===void 0?r3:no(t),e=typeof e=="function"?e:e===void 0?l3:no(e);function a(s){var u,f=(s=o3(s)).length,c,d=!1,m;for(o==null&&(r=i(m=l())),u=0;u<=f;++u)!(u<f&&n(c=s[u],u,s))===d&&((d=!d)?r.lineStart():r.lineEnd()),d&&r.point(+t(c,u,s),+e(c,u,s));if(m)return r=null,m+""||null}return a.x=function(s){return arguments.length?(t=typeof s=="function"?s:no(+s),a):t},a.y=function(s){return arguments.length?(e=typeof s=="function"?s:no(+s),a):e},a.defined=function(s){return arguments.length?(n=typeof s=="function"?s:no(!!s),a):n},a.curve=function(s){return arguments.length?(i=s,o!=null&&(r=i(o)),a):i},a.context=function(s){return arguments.length?(s==null?o=r=null:r=i(o=s),a):o},a}function Ho(t,e,n){this.k=t,this.x=e,this.y=n}Ho.prototype={constructor:Ho,scale:function(t){return t===1?this:new Ho(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Ho(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Ho.prototype;function s3(t){let e;return{c(){e=yr("svg"),O(e,"id","line-chart")},m(n,o){I(n,e,o)},p:Ae,i:Ae,o:Ae,d(n){n&&T(e)}}}const zu=52;function a3(t,e,n){let{data:o=[]}=e,i,r,l;const a={top:10,right:30,bottom:10,left:20},s=500-a.left-a.right,u=400-a.top-a.bottom;fl().x((_,h)=>r(h)).y(_=>l(_)),wr(()=>{n(1,i=K2("#line-chart").attr("width",s+a.left+a.right).attr("height",u+a.top+a.bottom)),r=ql().range([0,s]),l=ql().range([u,0]),o.length&&f()});function f(){const _=o.length>zu?o.slice(-zu):o;c(_),d(_),m()}function c(_){i.selectAll(".line").remove();const h=fl().defined(y=>y>-5).x((y,A)=>r(A)).y(y=>l(y)),b=fl().defined(y=>y<0).x((y,A)=>r(A)).y(y=>l(y));i.append("path").datum(_).attr("class","line positive").attr("d",h).attr("transform",`translate(${a.left},${a.top})`).attr("fill","none").attr("stroke","green").attr("stroke-width",2),i.append("path").datum(_).attr("class","line negative").attr("d",b).attr("transform",`translate(${a.left},${a.top})`).attr("fill","none").attr("stroke","red").attr("stroke-width",2)}function d(_){const h=Math.max(0,..._),b=Math.min(0,..._);r.domain([0,_.length-1]),l.domain([b,h]).nice()}function m(_){const h=aw(r).ticks(0),b=uw(l).ticks(10);i.selectAll(".axis").remove(),i.append("g").attr("class","axis x-axis").attr("transform",`translate(${a.left},${u+a.top})`).call(h),i.append("g").attr("class","axis y-axis").attr("transform",`translate(${a.left},${a.top})`).call(b)}return t.$$set=_=>{"data"in _&&n(0,o=_.data)},t.$$.update=()=>{t.$$.dirty&3&&o&&i&&f()},[o,i]}class u3 extends ye{constructor(e){super(),ve(this,e,a3,s3,fe,{data:0})}}function f3(t){let e,n=t[1].townInfo.knowledge_points+"",o,i;return{c(){e=G("Manage your Knowledge ("),o=G(n),i=G(" pts)")},m(r,l){I(r,e,l),I(r,o,l),I(r,i,l)},p(r,l){l&2&&n!==(n=r[1].townInfo.knowledge_points+"")&&se(o,n)},d(r){r&&(T(e),T(o),T(i))}}}function c3(t){let e,n,o,i;return e=new Co({props:{$$slots:{default:[f3]},$$scope:{ctx:t}}}),o=new To({}),{c(){ee(e.$$.fragment),n=W(),ee(o.$$.fragment)},m(r,l){Q(e,r,l),I(r,n,l),Q(o,r,l),i=!0},p(r,l){const a={};l&258&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),z(e,r),z(o,r)}}}function ef(t){let e,n,o=rf(t[1].townInfo.knowledge_points*t[3])+"",i,r;return{c(){e=M("br"),n=G(`
					(total value: $`),i=G(o),r=G(")")},m(l,a){I(l,e,a),I(l,n,a),I(l,i,a),I(l,r,a)},p(l,a){a&10&&o!==(o=rf(l[1].townInfo.knowledge_points*l[3])+"")&&se(i,o)},d(l){l&&(T(e),T(n),T(i),T(r))}}}function tf(t){let e;return{c(){e=M("div"),e.innerHTML=`Wait until the market value is <span class="text-green-500">positive</span> to sell your Knowledge for Gold. Keep in mind that you need a bank to
					convert.`},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function nf(t){let e,n,o;return n=new Yt({props:{variant:"default",$$slots:{default:[d3]},$$scope:{ctx:t}}}),n.$on("click",t[0]),{c(){e=M("div"),ee(n.$$.fragment)},m(i,r){I(i,e,r),Q(n,e,null),o=!0},p(i,r){const l={};r&256&&(l.$$scope={dirty:r,ctx:i}),n.$set(l)},i(i){o||(C(n.$$.fragment,i),o=!0)},o(i){S(n.$$.fragment,i),o=!1},d(i){i&&T(e),z(n)}}}function d3(t){let e;return{c(){e=G("Convert Knowledge to Gold")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function of(t){let e;return{c(){e=M("div"),e.textContent="You need a bank to convert knowledge to gold."},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function m3(t){let e,n,o,i,r,l,a,s,u=(t[3]??0)+"",f,c,d,m,_,h,b,y,A,w,R,V;e=new Ao({props:{$$slots:{default:[c3]},$$scope:{ctx:t}}});let N=t[3]>0&&ef(t);h=new u3({props:{data:t[2]}});let H=t[3]<0&&tf(),F=t[1].hasBank&&t[3]>0&&nf(t),L=t[1].hasBank===!1&&of();return R=new oi({}),{c(){ee(e.$$.fragment),n=W(),o=M("span"),o.textContent="Knowledge is power, unlock it!",i=W(),r=M("div"),l=M("div"),a=G("Market Rate: "),s=M("span"),f=G(u),c=G(" gold"),m=G(`
				per Knowledge Point
				`),N&&N.c(),_=W(),ee(h.$$.fragment),b=W(),H&&H.c(),y=W(),F&&F.c(),A=W(),L&&L.c(),w=W(),ee(R.$$.fragment),O(o,"class","italic"),O(s,"class",d=t[3]<0?"text-red-500":"text-green-500"),O(r,"class","py-0 flex flex-col gap-4 text-gray-400 overflow-x-auto")},m(X,P){Q(e,X,P),I(X,n,P),I(X,o,P),I(X,i,P),I(X,r,P),v(r,l),v(l,a),v(l,s),v(s,f),v(s,c),v(l,m),N&&N.m(l,null),v(r,_),Q(h,r,null),v(r,b),H&&H.m(r,null),v(r,y),F&&F.m(r,null),v(r,A),L&&L.m(r,null),I(X,w,P),Q(R,X,P),V=!0},p(X,P){const g={};P&258&&(g.$$scope={dirty:P,ctx:X}),e.$set(g),(!V||P&8)&&u!==(u=(X[3]??0)+"")&&se(f,u),(!V||P&8&&d!==(d=X[3]<0?"text-red-500":"text-green-500"))&&O(s,"class",d),X[3]>0?N?N.p(X,P):(N=ef(X),N.c(),N.m(l,null)):N&&(N.d(1),N=null);const k={};P&4&&(k.data=X[2]),h.$set(k),X[3]<0?H||(H=tf(),H.c(),H.m(r,y)):H&&(H.d(1),H=null),X[1].hasBank&&X[3]>0?F?(F.p(X,P),P&10&&C(F,1)):(F=nf(X),F.c(),C(F,1),F.m(r,A)):F&&(Ie(),S(F,1,1,()=>{F=null}),Me()),X[1].hasBank===!1?L||(L=of(),L.c(),L.m(r,null)):L&&(L.d(1),L=null)},i(X){V||(C(e.$$.fragment,X),C(h.$$.fragment,X),C(F),C(R.$$.fragment,X),V=!0)},o(X){S(e.$$.fragment,X),S(h.$$.fragment,X),S(F),S(R.$$.fragment,X),V=!1},d(X){X&&(T(n),T(o),T(i),T(r),T(w)),z(e,X),N&&N.d(),z(h),H&&H.d(),F&&F.d(),L&&L.d(),z(R,X)}}}function p3(t){let e,n;return e=new So({props:{transitionConfig:{duration:0},class:"bg-foreground text-foregroundText",$$slots:{default:[m3]},$$scope:{ctx:t}}}),{c(){ee(e.$$.fragment)},m(o,i){Q(e,o,i),n=!0},p(o,i){const r={};i&270&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){z(e,o)}}}function h3(t){let e,n,o;function i(l){t[5](l)}let r={$$slots:{default:[p3]},$$scope:{ctx:t}};return t[4]!==void 0&&(r.open=t[4]),e=new Io({props:r}),Pe.push(()=>Vn(e,"open",i)),{c(){ee(e.$$.fragment)},m(l,a){Q(e,l,a),o=!0},p(l,[a]){const s={};a&270&&(s.$$scope={dirty:a,ctx:l}),!n&&a&16&&(n=!0,s.open=l[4],Gn(()=>n=!1)),e.$set(s)},i(l){o||(C(e.$$.fragment,l),o=!0)},o(l){S(e.$$.fragment,l),o=!1},d(l){z(e,l)}}}function rf(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function _3(t,e,n){let o,i;ae(t,De,u=>n(1,o=u)),ae(t,Qi,u=>n(4,i=u));let r,l=0;function a(){let u=o;o.hasBank===!0?(u.townInfo.gold+=Math.round(u.townInfo.knowledge_points*l),u.townInfo.knowledge_points=0,De.set(u),localStorage.setItem(Lt,JSON.stringify(u))):alert("You need a bank to convert knowledge to gold.")}function s(u){i=u,Qi.set(i)}return t.$$.update=()=>{t.$$.dirty&2&&o&&(n(2,r=o.economyAndLaws.knowledge_gold_market_rates),n(3,l=o.economyAndLaws.knowledge_gold_market_rates[o.economyAndLaws.knowledge_gold_market_rates.length-1]))},[a,o,r,l,i,s]}class g3 extends ye{constructor(e){super(),ve(this,e,_3,h3,fe,{convertKnowledgeToGold:0})}get convertKnowledgeToGold(){return this.$$.ctx[0]}}const b3=[{id:"sunshine",title:"Hint of Sunshine",description:`Scientist Jane T. found that more sunlight makes everyone a bit happier. 
        
        Now, every home is equipped with a pair of sunglasses and a sunhat. Enjoy happier citizens!,
        `,cost:5e3,duration:180,effect:!0},{id:"antibiotics",title:"We will call them 'Antibiotics'",description:`Scientist Alfred C. has pitched us an idea that he calls 'Antibiotics'.
        
         We don't really know what that means, but it seems to make people healthier. 
        `,cost:8e3,duration:200,effect:!0},{id:"goodbye_carrots",title:"Goodbye Carrots",description:`Scientist Jarrod M. collaborated with local carrot farms to enhance the recipe, aiming to increase consumers' height by 10%.

        Unfortunately, the experiment failed, and all the local carrot farms have gone out of business. 
        `,cost:8e3,duration:80,effect:!0},{id:"funny_cows",title:"Cowabunga!",description:`Scientist Barry T. thought that showing cows some stand-up comedy would make them produce better milk, but it didn't have the desired effect.

        The cows are now following Mike Birbiglia on Twitter, but the milk production has not increased.
        `,cost:3e3,duration:60,effect:!1},{id:"missing_treasure",title:"Missing Treasure?",description:`Scientist Sarah H. was running an experiment on tree growth and found a stash of gold near the lab. 

        She hopes nobody will miss it. Your town now has some more money. 
        `,cost:15e3,duration:180,effect:!0},{id:"tax_relief",title:"'Maybe the government is not so bad after all'",description:`Scientist Sam P. conducted a study and found that if you put a tiny bit of CHEMICAL X in the water supply, people are more likely to be ok with tax hikes. 

        We don't question it, as these experiments cost a lot of moo-lah.`,cost:7500,duration:360,effect:!0},{id:"spring_break",title:"Spring Break",description:`The Scientists took our money and spent the week at the beach. 

        We are not sure what they did, but they came back with a tan and a smile.`,cost:2e3,duration:7,effect:!1},{id:"coffee_boost_tourism",title:"Speedy Brews",description:`Scientist Claudia A. has found that a specific blend of coffee can significantly increase productivity among town employees. 

        The catch? It only works on Mondays. But hey, starting the week with a turbo-charged workforce might just be the boost we needed. The town gets a bit of extra cash from the productivity, and a bit of tourism revenue from coffee tourism.
        `,cost:8e3,duration:100,effect:!0},{id:"bee_bonanza",title:"Buzzing with Possibilities",description:`Scientist Will B. thought that introducing genetically modified super bees to the local ecosystem could help with pollination.
        
        Unfortunately, these bees prefer coffee plants over all others, leading to all coffee bean farms forced to close.`,cost:5e3,duration:120,effect:!0},{id:"wheat_whirlwind",title:"A Gust of Grain",description:`Scientist Clint C. is sulking after a botched weather control experiment aimed at improving crop yields accidentally resulted in a series of mini-tornadoes sweeping through the town's wheat farms. The wheat is gone, but the townsfolk have never been more entertained.

        Local bakers mourn the loss of wheat while selling tickets to the wheat whirlwind tours. All wheat farms are now torn down, but happiness is up.`,cost:7e3,duration:150,effect:!0},{id:"aquatic_overachievers",title:"Fishy Business",description:`An attempt to genetically enhance fish intelligence by Scientist Goldie F. in fisheries has gone awry, resulting in fish that are too smart to be caught. The fisheries are now underpopulated and shut down, but the town enjoys an unexpected tourism boom as people flock to see the genius fish who are now hanging out in local parks.

        Who knew fish could be such a draw?`,cost:6e3,duration:90,effect:!0},{id:"educational_eclipse",title:"A Sudden Drop in IQ",description:`Scientist Albert E. wanted to see if the towns' children would become smarter if THEY ran the schools. 

        This was obviously a terrible idea and the first thing the kids did was shut down the schools.`,cost:1e3,duration:45,effect:!0},{id:"education_grant",title:"Education Grant",description:`Scientist Marie C. took the funding and applied the town for a grant to improve education.

        The town wins a grant for $150,000 to build schools and improve education. (but it's up to you if that's how you want to spend the money)`,cost:4e4,duration:45,effect:!0},{id:"mindfulness_meditation_classes",title:"'Mindfulness Meditation Classes'",description:`Scientist Zen M. has introduced mindfulness meditation classes to the town after realizing that breathing in certain ways can lower stress. 
		
		Now, the town is a bit more relaxed, for now.`,cost:13e3,duration:540,effect:!0}];function lf(t,e,n){const o=t.slice();return o[17]=e[n],o}function v3(t){let e,n=t[1].lab.active_experiment.title+"",o;return{c(){e=G("ðŸŽ‰ Experiment Completed: "),o=G(n)},m(i,r){I(i,e,r),I(i,o,r)},p(i,r){r&2&&n!==(n=i[1].lab.active_experiment.title+"")&&se(o,n)},d(i){i&&(T(e),T(o))}}}function y3(t){let e,n=t[1].lab.active_experiment.description+"",o;return{c(){e=M("div"),o=G(n),O(e,"class","select-none whitespace-pre-wrap text-lg text-gray-400 leading-6 px-4 py-4 text-center ")},m(i,r){I(i,e,r),v(e,o)},p(i,r){r&2&&n!==(n=i[1].lab.active_experiment.description+"")&&se(o,n)},d(i){i&&T(e)}}}function w3(t){let e,n,o,i;return e=new is({props:{class:"text-center",$$slots:{default:[v3]},$$scope:{ctx:t}}}),o=new as({props:{$$slots:{default:[y3]},$$scope:{ctx:t}}}),{c(){ee(e.$$.fragment),n=W(),ee(o.$$.fragment)},m(r,l){Q(e,r,l),I(r,n,l),Q(o,r,l),i=!0},p(r,l){const a={};l&1048578&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&1048578&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),z(e,r),z(o,r)}}}function k3(t){let e;return{c(){e=G("Thank the scientists")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function C3(t){let e,n;return e=new av({props:{$$slots:{default:[k3]},$$scope:{ctx:t}}}),e.$on("click",t[9]),{c(){ee(e.$$.fragment)},m(o,i){Q(e,o,i),n=!0},p(o,i){const r={};i&1048576&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){z(e,o)}}}function A3(t){let e,n,o,i;return e=new ls({props:{$$slots:{default:[w3]},$$scope:{ctx:t}}}),o=new rs({props:{$$slots:{default:[C3]},$$scope:{ctx:t}}}),{c(){ee(e.$$.fragment),n=W(),ee(o.$$.fragment)},m(r,l){Q(e,r,l),I(r,n,l),Q(o,r,l),i=!0},p(r,l){const a={};l&1048578&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&1048576&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),z(e,r),z(o,r)}}}function S3(t){let e,n;return e=new ss({props:{$$slots:{default:[A3]},$$scope:{ctx:t}}}),{c(){ee(e.$$.fragment)},m(o,i){Q(e,o,i),n=!0},p(o,i){const r={};i&1048578&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){z(e,o)}}}function T3(t){let e;return{c(){e=M("span"),e.textContent="Manage your Laboratory ðŸ”¬ ðŸ§ª"},m(n,o){I(n,e,o)},p:Ae,d(n){n&&T(e)}}}function I3(t){let e,n,o,i=t[1].lab.xp+"",r,l,a,s;return{c(){e=M("span"),n=G("You have earned "),o=M("span"),r=G(i),l=G(" XP"),s=G(` from experiments. XP can be used to buy advanced plots and develop your
          city.`),O(o,"class",a="italic "+(t[1].lab.xp<0?"text-textDanger1":"text-primaryText"))},m(u,f){I(u,e,f),v(e,n),v(e,o),v(o,r),v(o,l),v(e,s)},p(u,f){f&2&&i!==(i=u[1].lab.xp+"")&&se(r,i),f&2&&a!==(a="italic "+(u[1].lab.xp<0?"text-textDanger1":"text-primaryText"))&&O(o,"class",a)},d(u){u&&T(e)}}}function M3(t){let e,n,o,i;return e=new Co({props:{$$slots:{default:[T3]},$$scope:{ctx:t}}}),o=new To({props:{$$slots:{default:[I3]},$$scope:{ctx:t}}}),{c(){ee(e.$$.fragment),n=W(),ee(o.$$.fragment)},m(r,l){Q(e,r,l),I(r,n,l),Q(o,r,l),i=!0},p(r,l){const a={};l&1048576&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&1048578&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),z(e,r),z(o,r)}}}function P3(t){let e;return{c(){e=G("No more experiments available")},m(n,o){I(n,e,o)},p:Ae,i:Ae,o:Ae,d(n){n&&T(e)}}}function O3(t){let e,n,o,i,r=Ue(t[0]),l=[];for(let s=0;s<r.length;s+=1)l[s]=af(lf(t,r,s));const a=s=>S(l[s],1,1,()=>{l[s]=null});return{c(){e=M("div"),e.textContent=`It's time to fund your next experiment! Choose a project below based on
        it's funding requirement. Once the experiment is over, you will see the
        results.`,n=W(),o=M("div");for(let s=0;s<l.length;s+=1)l[s].c();O(e,"class","select-none text-sm "),O(o,"class","text-center flex flex-col justify-center items-center gap-4 ")},m(s,u){I(s,e,u),I(s,n,u),I(s,o,u);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(o,null);i=!0},p(s,u){if(u&19){r=Ue(s[0]);let f;for(f=0;f<r.length;f+=1){const c=lf(s,r,f);l[f]?(l[f].p(c,u),C(l[f],1)):(l[f]=af(c),l[f].c(),C(l[f],1),l[f].m(o,null))}for(Ie(),f=r.length;f<l.length;f+=1)a(f);Me()}},i(s){if(!i){for(let u=0;u<r.length;u+=1)C(l[u]);i=!0}},o(s){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)S(l[u]);i=!1},d(s){s&&(T(e),T(n),T(o)),wt(l,s)}}}function N3(t){let e,n=t[1].lab.active_experiment.duration+"",o,i,r,l,a=t[1].lab.active_experiment.duration===0&&uf(t);return{c(){e=G("Currently running an experiment... check back in "),o=G(n),i=G(` days.
      `),a&&a.c(),r=Re()},m(s,u){I(s,e,u),I(s,o,u),I(s,i,u),a&&a.m(s,u),I(s,r,u),l=!0},p(s,u){(!l||u&2)&&n!==(n=s[1].lab.active_experiment.duration+"")&&se(o,n),s[1].lab.active_experiment.duration===0?a?(a.p(s,u),u&2&&C(a,1)):(a=uf(s),a.c(),C(a,1),a.m(r.parentNode,r)):a&&(Ie(),S(a,1,1,()=>{a=null}),Me())},i(s){l||(C(a),l=!0)},o(s){S(a),l=!1},d(s){s&&(T(e),T(o),T(i),T(r)),a&&a.d(s)}}}function sf(t){let e,n,o=t[17].id+"",i;return{c(){e=M("span"),n=G("// dev-"),i=G(o),O(e,"class","text-xs text-gray-400")},m(r,l){I(r,e,l),v(e,n),v(e,i)},p(r,l){l&1&&o!==(o=r[17].id+"")&&se(i,o)},d(r){r&&T(e)}}}function E3(t){let e,n=ff(t[17].cost).split(".")[0]+"",o,i,r,l=t[1].devMode===!0&&sf(t);return{c(){e=G("$"),o=G(n),i=G(` gold

            `),l&&l.c(),r=W()},m(a,s){I(a,e,s),I(a,o,s),I(a,i,s),l&&l.m(a,s),I(a,r,s)},p(a,s){s&1&&n!==(n=ff(a[17].cost).split(".")[0]+"")&&se(o,n),a[1].devMode===!0?l?l.p(a,s):(l=sf(a),l.c(),l.m(r.parentNode,r)):l&&(l.d(1),l=null)},d(a){a&&(T(e),T(o),T(i),T(r)),l&&l.d(a)}}}function af(t){let e,n;function o(){return t[11](t[17])}return e=new Yt({props:{variant:"outline",class:`min-w-48 w-max flex-col
				`+(t[17].cost>t[1].townInfo.gold?"cursor-not-allowed":"")+`
				`,$$slots:{default:[E3]},$$scope:{ctx:t}}}),e.$on("click",o),{c(){ee(e.$$.fragment)},m(i,r){Q(e,i,r),n=!0},p(i,r){t=i;const l={};r&3&&(l.class=`min-w-48 w-max flex-col
				`+(t[17].cost>t[1].townInfo.gold?"cursor-not-allowed":"")+`
				`),r&1048579&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(i){n||(C(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){z(e,i)}}}function uf(t){let e,n;return e=new Yt({props:{variant:"outline",$$slots:{default:[R3]},$$scope:{ctx:t}}}),e.$on("click",t[10]),{c(){ee(e.$$.fragment)},m(o,i){Q(e,o,i),n=!0},p(o,i){const r={};i&1048576&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){z(e,o)}}}function R3(t){let e;return{c(){e=G("Complete experiment (and face the impact)")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function D3(t){let e;return{c(){e=M("span"),e.textContent="Keep in mind that not all experiments yield positive results.",O(e,"class","italic text-left text-textDanger1")},m(n,o){I(n,e,o)},p:Ae,d(n){n&&T(e)}}}function L3(t){let e,n,o,i,r,l,a,s,u,f,c;e=new Ao({props:{$$slots:{default:[M3]},$$scope:{ctx:t}}}),o=new At({});const d=[N3,O3,P3],m=[];function _(h,b){return h[1].lab.active_experiment!==null?0:h[0].length>0?1:h[0].length===0?2:-1}return~(r=_(t))&&(l=m[r]=d[r](t)),s=new At({props:{class:"mt-4"}}),f=new oi({props:{$$slots:{default:[D3]},$$scope:{ctx:t}}}),{c(){ee(e.$$.fragment),n=W(),ee(o.$$.fragment),i=W(),l&&l.c(),a=W(),ee(s.$$.fragment),u=W(),ee(f.$$.fragment)},m(h,b){Q(e,h,b),I(h,n,b),Q(o,h,b),I(h,i,b),~r&&m[r].m(h,b),I(h,a,b),Q(s,h,b),I(h,u,b),Q(f,h,b),c=!0},p(h,b){const y={};b&1048578&&(y.$$scope={dirty:b,ctx:h}),e.$set(y);let A=r;r=_(h),r===A?~r&&m[r].p(h,b):(l&&(Ie(),S(m[A],1,1,()=>{m[A]=null}),Me()),~r?(l=m[r],l?l.p(h,b):(l=m[r]=d[r](h),l.c()),C(l,1),l.m(a.parentNode,a)):l=null);const w={};b&1048576&&(w.$$scope={dirty:b,ctx:h}),f.$set(w)},i(h){c||(C(e.$$.fragment,h),C(o.$$.fragment,h),C(l),C(s.$$.fragment,h),C(f.$$.fragment,h),c=!0)},o(h){S(e.$$.fragment,h),S(o.$$.fragment,h),S(l),S(s.$$.fragment,h),S(f.$$.fragment,h),c=!1},d(h){h&&(T(n),T(i),T(a),T(u)),z(e,h),z(o,h),~r&&m[r].d(h),z(s,h),z(f,h)}}}function F3(t){let e,n;return e=new So({props:{class:"bg-foreground text-foregroundText",$$slots:{default:[L3]},$$scope:{ctx:t}}}),{c(){ee(e.$$.fragment)},m(o,i){Q(e,o,i),n=!0},p(o,i){const r={};i&1048579&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){z(e,o)}}}function q3(t){let e,n,o,i,r;e=new us({props:{open:t[2],$$slots:{default:[S3]},$$scope:{ctx:t}}});function l(s){t[12](s)}let a={$$slots:{default:[F3]},$$scope:{ctx:t}};return t[3]!==void 0&&(a.open=t[3]),o=new Io({props:a}),Pe.push(()=>Vn(o,"open",l)),{c(){ee(e.$$.fragment),n=W(),ee(o.$$.fragment)},m(s,u){Q(e,s,u),I(s,n,u),Q(o,s,u),r=!0},p(s,[u]){const f={};u&4&&(f.open=s[2]),u&1048578&&(f.$$scope={dirty:u,ctx:s}),e.$set(f);const c={};u&1048579&&(c.$$scope={dirty:u,ctx:s}),!i&&u&8&&(i=!0,c.open=s[3],Gn(()=>i=!1)),o.$set(c)},i(s){r||(C(e.$$.fragment,s),C(o.$$.fragment,s),r=!0)},o(s){S(e.$$.fragment,s),S(o.$$.fragment,s),r=!1},d(s){s&&T(n),z(e,s),z(o,s)}}}function ff(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function j3(t,e,n){let o,i;ae(t,De,w=>n(1,o=w)),ae(t,Bi,w=>n(3,i=w));var r;let l=[],a=!1,s=!1,u=!1;function f(){if(l.length>0||!a)return l;let w=[],R=b3.filter(V=>!o.lab.past_experiments.some(N=>N.id===V.id));for(let V=0;V<3;V++){let N=R[Math.floor(Math.random()*R.length)];N.cost=Math.floor(Math.random()*(N.cost*.35)+N.cost*.8),w.push(N)}return w=w.filter((V,N)=>w.indexOf(V)===N),w=w.filter(V=>V),n(8,u=!0),w}function c(w){if(o.townInfo.gold<w.cost){alert("You do not have enough gold to purchase this experiment.");return}Ee(De,o.townInfo.gold-=w.cost,o),Ee(De,o.lab.active_experiment=w,o),o.lab.past_experiments.push(w)}function d(){var w;switch(Ee(Bi,i=!1,i),n(2,s=!0),(w=o.lab.active_experiment)===null||w===void 0?void 0:w.id){case"sunshine":Ee(De,o.modifiers.happiness=50,o);break;case"antibiotics":Ee(De,o.modifiers.health=50,o);break;case"goodbye_carrots":_("carrot_farm");break;case"missing_treasure":Ee(De,o.townInfo.gold+=Math.floor(Math.random()*o.lab.active_experiment.cost*2),o);break;case"tax_relief":Ee(De,o.economyAndLaws.max_tax_rate=(Math.random()*.8+1.2)*o.economyAndLaws.max_tax_rate,o);break;case"bee_bonanza":_("coffee_bean_farm");break;case"wheat_whirlwind":_("wheat_farm"),Ee(De,o.townInfo.happiness*=1.5,o),Ee(De,o.modifiers.happiness+=3,o);break;case"educational_eclipse":_("small_school"),_("large_school"),Ee(De,o.townInfo.knowledge_points*=.8,o);break;case"education_grant":Ee(De,o.townInfo.knowledge_points*=1.5,o),Ee(De,o.townInfo.gold+=15e4,o);break;case"mindfulness_meditation_classes":o.modifiers.happiness*1.5;break}Ee(De,o.lab.active_experiment.duration=-1,o)}function m(){let w=o;w.lab.xp+=Math.round(w.lab.active_experiment.cost*(Math.random()*2+.5)),w.lab.active_experiment=null,n(2,s=!1),Ee(De,o=w,o)}function _(w){let R=st(w,o);for(let V=0;V<R.length;V++)Zi(R[V].x,R[V].y,o)}const h=()=>{m()},b=()=>{d()},y=w=>{w.cost<o.townInfo.gold&&c(w)};function A(w){i=w,Bi.set(i)}return t.$$.update=()=>{t.$$.dirty&387&&(o?(a=!0,n(0,l=u==!1?f():l),(n(7,r=o.lab.active_experiment)===null||r===void 0?void 0:r.duration)===-1&&n(2,s=!0)):a=!1)},[l,o,s,i,c,d,m,r,u,h,b,y,A]}class B3 extends ye{constructor(e){super(),ve(this,e,j3,q3,fe,{})}}function cf(t,e,n){const o=t.slice();return o[19]=e[n],o}function df(t){let e,n=Ue({length:t[6]}),o=[];for(let i=0;i<n.length;i+=1)o[i]=mf(cf(t,n,i));return{c(){e=M("div");for(let i=0;i<o.length;i+=1)o[i].c();O(e,"class","confetti-holder svelte-15ksp55"),pn(e,"rounded",t[9]),pn(e,"cone",t[10]),pn(e,"no-gravity",t[11]),pn(e,"reduced-motion",t[13])},m(i,r){I(i,e,r);for(let l=0;l<o.length;l+=1)o[l]&&o[l].m(e,null)},p(i,r){if(r&37375){n=Ue({length:i[6]});let l;for(l=0;l<n.length;l+=1){const a=cf(i,n,l);o[l]?o[l].p(a,r):(o[l]=mf(a),o[l].c(),o[l].m(e,null))}for(;l<o.length;l+=1)o[l].d(1);o.length=n.length}r&512&&pn(e,"rounded",i[9]),r&1024&&pn(e,"cone",i[10]),r&2048&&pn(e,"no-gravity",i[11]),r&8192&&pn(e,"reduced-motion",i[13])},d(i){i&&T(e),wt(o,i)}}}function mf(t){let e;return{c(){e=M("div"),O(e,"class","confetti svelte-15ksp55"),Je(e,"--fall-distance",t[8]),Je(e,"--size",t[0]+"px"),Je(e,"--color",t[15]()),Je(e,"--skew",gt(-45,45)+"deg,"+gt(-45,45)+"deg"),Je(e,"--rotation-xyz",gt(-10,10)+", "+gt(-10,10)+", "+gt(-10,10)),Je(e,"--rotation-deg",gt(0,360)+"deg"),Je(e,"--translate-y-multiplier",gt(t[2][0],t[2][1])),Je(e,"--translate-x-multiplier",gt(t[1][0],t[1][1])),Je(e,"--scale",.1*gt(2,10)),Je(e,"--transition-duration",t[4]?`calc(${t[3]}ms * var(--scale))`:`${t[3]}ms`),Je(e,"--transition-delay",gt(t[5][0],t[5][1])+"ms"),Je(e,"--transition-iteration-count",t[4]?"infinite":t[7]),Je(e,"--x-spread",1-t[12])},m(n,o){I(n,e,o)},p(n,o){o&256&&Je(e,"--fall-distance",n[8]),o&1&&Je(e,"--size",n[0]+"px"),o&4&&Je(e,"--translate-y-multiplier",gt(n[2][0],n[2][1])),o&2&&Je(e,"--translate-x-multiplier",gt(n[1][0],n[1][1])),o&24&&Je(e,"--transition-duration",n[4]?`calc(${n[3]}ms * var(--scale))`:`${n[3]}ms`),o&32&&Je(e,"--transition-delay",gt(n[5][0],n[5][1])+"ms"),o&144&&Je(e,"--transition-iteration-count",n[4]?"infinite":n[7]),o&4096&&Je(e,"--x-spread",1-n[12])},d(n){n&&T(e)}}}function G3(t){let e,n=!t[14]&&df(t);return{c(){n&&n.c(),e=Re()},m(o,i){n&&n.m(o,i),I(o,e,i)},p(o,[i]){o[14]?n&&(n.d(1),n=null):n?n.p(o,i):(n=df(o),n.c(),n.m(e.parentNode,e))},i:Ae,o:Ae,d(o){o&&T(e),n&&n.d(o)}}}function gt(t,e){return Math.random()*(e-t)+t}function V3(t,e,n){let{size:o=10}=e,{x:i=[-.5,.5]}=e,{y:r=[.25,1]}=e,{duration:l=2e3}=e,{infinite:a=!1}=e,{delay:s=[0,50]}=e,{colorRange:u=[0,360]}=e,{colorArray:f=[]}=e,{amount:c=50}=e,{iterationCount:d=1}=e,{fallDistance:m="100px"}=e,{rounded:_=!1}=e,{cone:h=!1}=e,{noGravity:b=!1}=e,{xSpread:y=.15}=e,{destroyOnComplete:A=!0}=e,{disableForReducedMotion:w=!1}=e,R=!1;wr(()=>{!A||a||d=="infinite"||setTimeout(()=>n(14,R=!0),(l+s[1])*d)});function V(){return f.length?f[Math.round(Math.random()*(f.length-1))]:`hsl(${Math.round(gt(u[0],u[1]))}, 75%, 50%)`}return t.$$set=N=>{"size"in N&&n(0,o=N.size),"x"in N&&n(1,i=N.x),"y"in N&&n(2,r=N.y),"duration"in N&&n(3,l=N.duration),"infinite"in N&&n(4,a=N.infinite),"delay"in N&&n(5,s=N.delay),"colorRange"in N&&n(16,u=N.colorRange),"colorArray"in N&&n(17,f=N.colorArray),"amount"in N&&n(6,c=N.amount),"iterationCount"in N&&n(7,d=N.iterationCount),"fallDistance"in N&&n(8,m=N.fallDistance),"rounded"in N&&n(9,_=N.rounded),"cone"in N&&n(10,h=N.cone),"noGravity"in N&&n(11,b=N.noGravity),"xSpread"in N&&n(12,y=N.xSpread),"destroyOnComplete"in N&&n(18,A=N.destroyOnComplete),"disableForReducedMotion"in N&&n(13,w=N.disableForReducedMotion)},[o,i,r,l,a,s,c,d,m,_,h,b,y,w,R,V,u,f,A]}class H3 extends ye{constructor(e){super(),ve(this,e,V3,G3,fe,{size:0,x:1,y:2,duration:3,infinite:4,delay:5,colorRange:16,colorArray:17,amount:6,iterationCount:7,fallDistance:8,rounded:9,cone:10,noGravity:11,xSpread:12,destroyOnComplete:18,disableForReducedMotion:13})}}function W3(t){let e,n,o;return{c(){e=M("div"),O(e,"class",n="h-full w-full flex-1 "+t[3]+" transition-all"),O(e,"style",o=`transform: translateX(-${100-100*(t[2]??0)/(t[1]??1)}%)`)},m(i,r){I(i,e,r)},p(i,r){r&8&&n!==(n="h-full w-full flex-1 "+i[3]+" transition-all")&&O(e,"class",n),r&6&&o!==(o=`transform: translateX(-${100-100*(i[2]??0)/(i[1]??1)}%)`)&&O(e,"style",o)},d(i){i&&T(e)}}}function $3(t){let e,n;const o=[{class:Le("relative h-4 w-full overflow-hidden rounded-full bg-white",t[0])},t[4]];let i={$$slots:{default:[W3]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Y(i,o[r]);return e=new b1({props:i}),{c(){ee(e.$$.fragment)},m(r,l){Q(e,r,l),n=!0},p(r,[l]){const a=l&17?be(o,[l&1&&{class:Le("relative h-4 w-full overflow-hidden rounded-full bg-white",r[0])},l&16&&it(r[4])]):{};l&46&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){z(e,r)}}}function K3(t,e,n){const o=["class","max","value","color"];let i=re(e,o),{class:r=void 0}=e,{max:l=100}=e,{value:a=void 0}=e,{color:s="bg-secondary"}=e;return t.$$set=u=>{e=Y(Y({},e),Ne(u)),n(4,i=re(e,o)),"class"in u&&n(0,r=u.class),"max"in u&&n(1,l=u.max),"value"in u&&n(2,a=u.value),"color"in u&&n(3,s=u.color)},[r,l,a,s,i]}class cl extends ye{constructor(e){super(),ve(this,e,K3,$3,fe,{class:0,max:1,value:2,color:3})}}function U3(t){let e;const n=t[5].default,o=de(n,t,t[6],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&64)&&pe(o,n,i,i[6],e?me(n,i[6],r,null):he(i[6]),null)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Y3(t){let e,n;const o=[{transition:t[2]},{transitionConfig:t[3]},{sideOffset:t[1]},{class:Le("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-black shadow-md",t[0])},t[4]];let i={$$slots:{default:[U3]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Y(i,o[r]);return e=new rb({props:i}),{c(){ee(e.$$.fragment)},m(r,l){Q(e,r,l),n=!0},p(r,[l]){const a=l&31?be(o,[l&4&&{transition:r[2]},l&8&&{transitionConfig:r[3]},l&2&&{sideOffset:r[1]},l&1&&{class:Le("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-black shadow-md",r[0])},l&16&&it(r[4])]):{};l&64&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){z(e,r)}}}function X3(t,e,n){const o=["class","sideOffset","transition","transitionConfig"];let i=re(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{sideOffset:s=4}=e,{transition:u=Ar}=e,{transitionConfig:f={y:8,duration:150}}=e;return t.$$set=c=>{e=Y(Y({},e),Ne(c)),n(4,i=re(e,o)),"class"in c&&n(0,a=c.class),"sideOffset"in c&&n(1,s=c.sideOffset),"transition"in c&&n(2,u=c.transition),"transitionConfig"in c&&n(3,f=c.transitionConfig),"$$scope"in c&&n(6,l=c.$$scope)},[a,s,u,f,i,r,l]}class li extends ye{constructor(e){super(),ve(this,e,X3,Y3,fe,{class:0,sideOffset:1,transition:2,transitionConfig:3})}}const si=$1,ai=db;function J3(t){let e,n,o=t[0].economyAndLaws.weeklyProfit+"",i;return{c(){e=M("span"),n=G("+$"),i=G(o),O(e,"class","text-textPrimary")},m(r,l){I(r,e,l),v(e,n),v(e,i)},p(r,l){l&1&&o!==(o=r[0].economyAndLaws.weeklyProfit+"")&&se(i,o)},d(r){r&&T(e)}}}function x3(t){let e,n=t[0].economyAndLaws.weeklyProfit+"",o;return{c(){e=M("span"),o=G(n),O(e,"class","text-textDanger2")},m(i,r){I(i,e,r),v(e,o)},p(i,r){r&1&&n!==(n=i[0].economyAndLaws.weeklyProfit+"")&&se(o,n)},d(i){i&&T(e)}}}function Z3(t){let e,n,o=t[0].economyAndLaws.weeklyProfit+"",i;return{c(){e=M("span"),n=G("+$"),i=G(o),O(e,"class","text-textHappy")},m(r,l){I(r,e,l),v(e,n),v(e,i)},p(r,l){l&1&&o!==(o=r[0].economyAndLaws.weeklyProfit+"")&&se(i,o)},d(r){r&&T(e)}}}function Q3(t){let e=ot(t[0].townInfo.employees/t[0].townInfo.population_count*100,0)+"",n,o,i=t[0].townInfo.employees+"",r,l,a=t[0].townInfo.population_count+"",s,u,f=t[0].townInfo.population_count-t[0].townInfo.employees+"",c,d;return{c(){n=G(e),o=G("% employment ("),r=G(i),l=G("/"),s=G(a),u=G(" - "),c=G(f),d=G(" unemployed)")},m(m,_){I(m,n,_),I(m,o,_),I(m,r,_),I(m,l,_),I(m,s,_),I(m,u,_),I(m,c,_),I(m,d,_)},p(m,_){_&1&&e!==(e=ot(m[0].townInfo.employees/m[0].townInfo.population_count*100,0)+"")&&se(n,e),_&1&&i!==(i=m[0].townInfo.employees+"")&&se(r,i),_&1&&a!==(a=m[0].townInfo.population_count+"")&&se(s,a),_&1&&f!==(f=m[0].townInfo.population_count-m[0].townInfo.employees+"")&&se(c,f)},d(m){m&&(T(n),T(o),T(r),T(l),T(s),T(u),T(c),T(d))}}}function z3(t){let e;function n(r,l){return r[0].townInfo.population_count===0?t4:e4}let o=n(t),i=o(t);return{c(){i.c(),e=Re()},m(r,l){i.m(r,l),I(r,e,l)},p(r,l){o!==(o=n(r))&&(i.d(1),i=o(r),i&&(i.c(),i.m(e.parentNode,e)))},d(r){r&&T(e),i.d(r)}}}function e4(t){let e;return{c(){e=G("All citizens employed")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function t4(t){let e;return{c(){e=G("Nobody lives here , build some homes")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function n4(t){let e;return{c(){e=M("div"),e.textContent="Manage Knowledge"},m(n,o){I(n,e,o)},p:Ae,d(n){n&&T(e)}}}function pf(t){let e;function n(r,l){if(r[0].lab.active_experiment.duration>0)return i4;if(r[0].lab.active_experiment.duration===0)return o4}let o=n(t),i=o&&o(t);return{c(){i&&i.c(),e=Re()},m(r,l){i&&i.m(r,l),I(r,e,l)},p(r,l){o===(o=n(r))&&i?i.p(r,l):(i&&i.d(1),i=o&&o(r),i&&(i.c(),i.m(e.parentNode,e)))},d(r){r&&T(e),i&&i.d(r)}}}function o4(t){let e;return{c(){e=M("span"),e.textContent="âœ… DONE!",O(e,"class","animate-pulse ")},m(n,o){I(n,e,o)},p:Ae,d(n){n&&T(e)}}}function i4(t){let e,n=t[0].lab.active_experiment.duration+"",o,i;return{c(){e=M("span"),o=G(n),i=G("d")},m(r,l){I(r,e,l),v(e,o),v(e,i)},p(r,l){l&1&&n!==(n=r[0].lab.active_experiment.duration+"")&&se(o,n)},d(r){r&&T(e)}}}function r4(t){let e,n,o=t[0].lab.active_experiment!==null&&pf(t);return{c(){e=M("div"),n=G(`Manage Lab
            `),o&&o.c()},m(i,r){I(i,e,r),v(e,n),o&&o.m(e,null)},p(i,r){i[0].lab.active_experiment!==null?o?o.p(i,r):(o=pf(i),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},d(i){i&&T(e),o&&o.d()}}}function hf(t){let e,n,o,i;return o=new si({props:{openDelay:200,closeDelay:0,$$slots:{default:[a4]},$$scope:{ctx:t}}}),{c(){e=M("div"),n=M("div"),ee(o.$$.fragment),O(n,"class","flex flex-row justify-center text-xs bg-white rounded-t-2xl text-black py-2 whitespace-nowrap px-2 opacity-50"),O(e,"class","flex flex-col justify-center items-center ")},m(r,l){I(r,e,l),v(e,n),Q(o,n,null),i=!0},p(r,l){const a={};l&8193&&(a.$$scope={dirty:l,ctx:r}),o.$set(a)},i(r){i||(C(o.$$.fragment,r),i=!0)},o(r){S(o.$$.fragment,r),i=!1},d(r){r&&T(e),z(o)}}}function l4(t){let e,n,o,i,r=Dt[t[0].currentTutorialStep-1].goldReward+"",l;return{c(){e=M("span"),n=G(`Last reward
                  `),o=M("div"),i=G("ðŸ’°"),l=G(r),O(e,"class","w-full no-select opacity-70 whitespace-nowrap text-center")},m(a,s){I(a,e,s),v(e,n),v(e,o),v(o,i),v(o,l)},p(a,s){s&1&&r!==(r=Dt[a[0].currentTutorialStep-1].goldReward+"")&&se(l,r)},d(a){a&&T(e)}}}function s4(t){let e,n=Dt[t[0].currentTutorialStep-1].message+"",o;return{c(){e=G("Last completed task: "),o=G(n)},m(i,r){I(i,e,r),I(i,o,r)},p(i,r){r&1&&n!==(n=Dt[i[0].currentTutorialStep-1].message+"")&&se(o,n)},d(i){i&&(T(e),T(o))}}}function a4(t){let e,n,o,i;return e=new ai({props:{$$slots:{default:[l4]},$$scope:{ctx:t}}}),o=new li({props:{class:"bg-black text-white rounded-2xl",$$slots:{default:[s4]},$$scope:{ctx:t}}}),{c(){ee(e.$$.fragment),n=W(),ee(o.$$.fragment)},m(r,l){Q(e,r,l),I(r,n,l),Q(o,r,l),i=!0},p(r,l){const a={};l&8193&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&8193&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),z(e,r),z(o,r)}}}function _f(t){let e,n;return e=new H3({props:{y:[-.5,.5],x:[-.5,.5],duration:2e3}}),{c(){ee(e.$$.fragment)},m(o,i){Q(e,o,i),n=!0},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){z(e,o)}}}function u4(t){let e=Dt[t[0].currentTutorialStep].message+"",n,o,i,r,l=Dt[t[0].currentTutorialStep].goldReward+"",a,s;return{c(){n=G(e),o=W(),i=M("span"),r=G("(ðŸ’°"),a=G(l),s=G(")"),O(i,"class","opacity-40")},m(u,f){I(u,n,f),I(u,o,f),I(u,i,f),v(i,r),v(i,a),v(i,s)},p(u,f){f&1&&e!==(e=Dt[u[0].currentTutorialStep].message+"")&&se(n,e),f&1&&l!==(l=Dt[u[0].currentTutorialStep].goldReward+"")&&se(a,l)},d(u){u&&(T(n),T(o),T(i))}}}function f4(t){let e;return{c(){e=G("No more goals!")},m(n,o){I(n,e,o)},p:Ae,d(n){n&&T(e)}}}function c4(t){let e,n,o,i,r,l,a,s,u,f,c=ot(t[0].modifiers.happiness,2)+"",d,m,_,h,b,y,A,w,R=ot(t[0].modifiers.health,2)+"",V,N,H,F,L,X,P,g,k=ot(t[0].modifiers.community,2)+"",E,q,D,K,Z,x,$,p,j,J,ne=t[0].townInfo.name+"",U,ue,ke,we,Ye,Be=t[0].townInfo.population_count+"",et,ce,Oe=t[0].townInfo.population_max+"",Ve,We,Ge,Ce,Te,_t=on(t[0].townInfo.gold,!1)+"",It,dt,qt,Nt,ft,Qe,ge,$e,B,vs,Mo,ys,Dr,ws,Kn,un,ks,fn,Cs,Po,jt,Lr,Fr,Un,ui,As,Oo,fi,Ss,ci,di,cn,qr,Ts,Yn,Xn,mi,Is,pi,hi=t[0].environment.day%365+1+"",jr,Ms,Jn,_i,Ps,gi,bi=Math.floor(t[0].environment.day/365)+1+"",Br,Os,dn,xn,Ns,vi,Es,Zn,Rs,yi,Ds,Qn,Ls,wi,ki,nt,Gr,Fs;a=new At({props:{class:"bg-white"}}),h=new cl({props:{value:t[0].townInfo.happiness,max:300,class:"w-full h-2",color:parseInt(t[0].townInfo.happiness)>200?"bg-green-500":parseInt(t[0].townInfo.happiness)>100?"bg-yellow-500":"bg-red-500"}}),F=new cl({props:{value:t[0].townInfo.health,max:300,class:"w-full h-2",color:parseInt(t[0].townInfo.health)>200?"bg-green-500":parseInt(t[0].townInfo.health)>100?"bg-yellow-500":"bg-red-500"}}),K=new cl({props:{value:t[0].townInfo.community,max:300,class:"w-full h-2",color:parseInt(t[0].townInfo.community)>200?"bg-green-500":parseInt(t[0].townInfo.community)>100?"bg-yellow-500":"bg-red-500"}});function qs(_e,He){return _e[0].economyAndLaws.weeklyProfit>0?Z3:_e[0].economyAndLaws.weeklyProfit<0?x3:J3}let Ci=qs(t),Bt=Ci(t);function js(_e,He){return _e[0].townInfo.employees==_e[0].townInfo.population_count?z3:Q3}let Ai=js(t),Gt=Ai(t);un=new Yt({props:{class:"text-xs flex flex-col h-min  bg-button cursor-pointer text-textPrimary p-1.5",$$slots:{default:[n4]},$$scope:{ctx:t}}}),un.$on("click",t[9]),fn=new Yt({props:{class:"text-xs flex flex-col h-min p-1.5 "+(t[0].hasLab?"bg-button cursor-pointer text-textPrimary":"bg-button cursor-not-allowed text-textPrimary opacity-35"),$$slots:{default:[r4]},$$scope:{ctx:t}}}),fn.$on("click",t[8]);let rt=t[0].currentTutorialStep!=0&&hf(t),at=t[5]&&_f();function Bs(_e,He){return _e[0].currentTutorialStep>=Dt.length?f4:u4}let Si=Bs(t),Vt=Si(t);return{c(){e=M("div"),n=M("div"),o=M("div"),i=M("span"),r=M("h2"),r.textContent="Stats",l=W(),ee(a.$$.fragment),s=W(),u=M("span"),f=G("Happiness (x"),d=G(c),m=G(")"),_=W(),ee(h.$$.fragment),b=W(),y=M("span"),A=M("span"),w=G("Health (x"),V=G(R),N=G(")"),H=W(),ee(F.$$.fragment),L=W(),X=M("span"),P=M("span"),g=G("Community (x"),E=G(k),q=G(")"),D=W(),ee(K.$$.fragment),Z=W(),x=M("div"),$=M("div"),p=M("div"),j=M("div"),J=M("h1"),U=G(ne),ue=W(),ke=M("div"),we=M("span"),Ye=G("ðŸ‘¥ "),et=G(Be),ce=G(" / "),Ve=G(Oe),We=W(),Ge=M("span"),Ce=M("span"),Te=G("ðŸ’° "),It=G(_t),dt=W(),qt=M("span"),Nt=W(),Bt.c(),ft=W(),Qe=M("span"),Qe.textContent="(weekly)",ge=W(),$e=M("div"),Gt.c(),vs=W(),Mo=M("span"),ys=G("Game time: "),Dr=G(t[1]),ws=W(),Kn=M("div"),ee(un.$$.fragment),ks=W(),ee(fn.$$.fragment),Cs=W(),Po=M("div"),jt=M("div"),rt&&rt.c(),Lr=W(),at&&at.c(),Fr=W(),Un=M("div"),ui=M("div"),ui.textContent="ðŸ‘¨â€ðŸ¦°",As=W(),Oo=M("div"),Vt.c(),Ss=W(),ci=M("div"),di=M("div"),cn=M("div"),qr=M("div"),qr.innerHTML='<span class="text-xs text-secondary cursor-pointer">Press P to Pause</span>',Ts=W(),Yn=M("div"),Xn=M("span"),mi=M("span"),mi.textContent="Day",Is=W(),pi=M("span"),jr=G(hi),Ms=W(),Jn=M("span"),_i=M("span"),_i.textContent="Year",Ps=W(),gi=M("span"),Br=G(bi),Os=W(),dn=M("div"),xn=M("span"),Ns=G("Slow"),Es=W(),Zn=M("span"),Rs=G("Normal"),Ds=W(),Qn=M("span"),Ls=G("Fast"),O(r,"class","text-lg text-white"),O(u,"class","text-xs"),O(A,"class","text-xs"),O(P,"class","text-xs"),O(o,"class","flex flex-col w-36 h-full justify-center text-foregroundText bg-accent p-2 rounded-xl"),O(J,"class","font-bold cursor-pointer w-full pb-2 text-start select-none"),O(j,"class","cursor-pointer transition-all duration=150 min-h-8"),O(we,"class","text-sm"),O(Ce,"class","text-sm"),O(qt,"class","pl-2"),O(Qe,"class","text-gray-400"),O(Ge,"class","text-xs"),O(ke,"class","flex flex-row gap-4 flex-wrap items-center"),O($e,"class",B="text-xs pt-1 "+(t[0].townInfo.employees==t[0].townInfo.population_count?"text-textPrimary":t[0].townInfo.employees>t[0].townInfo.population_count*.95?"text-textDanger3":t[0].townInfo.employees>t[0].townInfo.population_count*.9?"text-textDanger2":"text-textDanger1")),O(Mo,"class","text-xs text-secondary cursor-pointer"),O(p,"class","flex flex-col justify-between"),O($,"class","rounded-xl"),O(Kn,"class","flex flex-row gap-2 align-middle justify-center items-center "),O(x,"class","flex justify-between flex-col"),O(n,"class","flex flex-row gap-6 my-2 h-max"),O(ui,"class","text-lg h-max"),O(Oo,"class","text-xs ml-2 overflow-auto opacity-80"),O(Un,"class","gap flex-row items-center flex bg-white text-slate-800 py-1 px-2 rounded-xl w-full"),O(jt,"class","flex flex-col justify-center w-full align-middle items-center"),O(Po,"class",fi="flex flex-row flex-wrap align-middle justify-center items-center w-64 "+(t[5]?"opacity-25 ":"")+" transition-all duration-700"),O(mi,"class","text-xs"),O(pi,"class","font-semibold text-xs"),O(Xn,"class","flex flex-col gap-2 text-center"),O(_i,"class","text-xs"),O(gi,"class","font-semibold text-xs"),O(Jn,"class","flex flex-col gap-2 text-center"),O(Yn,"class","rounded-xl bg-accent flex-row justify-between text-accentText w-36 h-14 flex px-6 items-center mb-2"),O(xn,"class",vi=(t[2].toString()==="2000"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"),O(Zn,"class",yi=(t[2].toString()==="750"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"),O(Qn,"class",wi=(t[2].toString()==="200"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"),O(dn,"class","flex flex-row gap-2 align-middle justify-center items-center"),O(cn,"class","flex flex-col items-center h-max"),O(di,"class","flex flex-col"),O(ci,"class","flex justify-center align-middle flex-col"),O(e,"class",ki="flex justify-between px-6 gap-6 flex-row text-start fixed top-0 left-0 right-0 cursor-default z-20 bg-foreground text-foregroundText h-max "+(t[3].visible?"opacity-70":""))},m(_e,He){I(_e,e,He),v(e,n),v(n,o),v(o,i),v(i,r),v(i,l),Q(a,i,null),v(i,s),v(i,u),v(u,f),v(u,d),v(u,m),v(i,_),Q(h,i,null),v(o,b),v(o,y),v(y,A),v(A,w),v(A,V),v(A,N),v(y,H),Q(F,y,null),v(o,L),v(o,X),v(X,P),v(P,g),v(P,E),v(P,q),v(X,D),Q(K,X,null),v(n,Z),v(n,x),v(x,$),v($,p),v(p,j),v(j,J),v(J,U),v(p,ue),v(p,ke),v(ke,we),v(we,Ye),v(we,et),v(we,ce),v(we,Ve),v(ke,We),v(ke,Ge),v(Ge,Ce),v(Ce,Te),v(Ce,It),v(Ge,dt),v(Ge,qt),v(Ge,Nt),Bt.m(Ge,null),v(Ge,ft),v(Ge,Qe),v(p,ge),v(p,$e),Gt.m($e,null),v(p,vs),v(p,Mo),v(Mo,ys),v(Mo,Dr),v(x,ws),v(x,Kn),Q(un,Kn,null),v(Kn,ks),Q(fn,Kn,null),v(e,Cs),v(e,Po),v(Po,jt),rt&&rt.m(jt,null),v(jt,Lr),at&&at.m(jt,null),v(jt,Fr),v(jt,Un),v(Un,ui),v(Un,As),v(Un,Oo),Vt.m(Oo,null),v(e,Ss),v(e,ci),v(ci,di),v(di,cn),v(cn,qr),v(cn,Ts),v(cn,Yn),v(Yn,Xn),v(Xn,mi),v(Xn,Is),v(Xn,pi),v(pi,jr),v(Yn,Ms),v(Yn,Jn),v(Jn,_i),v(Jn,Ps),v(Jn,gi),v(gi,Br),v(cn,Os),v(cn,dn),v(dn,xn),v(xn,Ns),v(dn,Es),v(dn,Zn),v(Zn,Rs),v(dn,Ds),v(dn,Qn),v(Qn,Ls),nt=!0,Gr||(Fs=[te(j,"click",t[6]),te(xn,"click",t[10]),te(Zn,"click",t[11]),te(Qn,"click",t[12])],Gr=!0)},p(_e,[He]){(!nt||He&1)&&c!==(c=ot(_e[0].modifiers.happiness,2)+"")&&se(d,c);const Vr={};He&1&&(Vr.value=_e[0].townInfo.happiness),He&1&&(Vr.color=parseInt(_e[0].townInfo.happiness)>200?"bg-green-500":parseInt(_e[0].townInfo.happiness)>100?"bg-yellow-500":"bg-red-500"),h.$set(Vr),(!nt||He&1)&&R!==(R=ot(_e[0].modifiers.health,2)+"")&&se(V,R);const Hr={};He&1&&(Hr.value=_e[0].townInfo.health),He&1&&(Hr.color=parseInt(_e[0].townInfo.health)>200?"bg-green-500":parseInt(_e[0].townInfo.health)>100?"bg-yellow-500":"bg-red-500"),F.$set(Hr),(!nt||He&1)&&k!==(k=ot(_e[0].modifiers.community,2)+"")&&se(E,k);const Wr={};He&1&&(Wr.value=_e[0].townInfo.community),He&1&&(Wr.color=parseInt(_e[0].townInfo.community)>200?"bg-green-500":parseInt(_e[0].townInfo.community)>100?"bg-yellow-500":"bg-red-500"),K.$set(Wr),(!nt||He&1)&&ne!==(ne=_e[0].townInfo.name+"")&&se(U,ne),(!nt||He&1)&&Be!==(Be=_e[0].townInfo.population_count+"")&&se(et,Be),(!nt||He&1)&&Oe!==(Oe=_e[0].townInfo.population_max+"")&&se(Ve,Oe),(!nt||He&1)&&_t!==(_t=on(_e[0].townInfo.gold,!1)+"")&&se(It,_t),Ci===(Ci=qs(_e))&&Bt?Bt.p(_e,He):(Bt.d(1),Bt=Ci(_e),Bt&&(Bt.c(),Bt.m(Ge,ft))),Ai===(Ai=js(_e))&&Gt?Gt.p(_e,He):(Gt.d(1),Gt=Ai(_e),Gt&&(Gt.c(),Gt.m($e,null))),(!nt||He&1&&B!==(B="text-xs pt-1 "+(_e[0].townInfo.employees==_e[0].townInfo.population_count?"text-textPrimary":_e[0].townInfo.employees>_e[0].townInfo.population_count*.95?"text-textDanger3":_e[0].townInfo.employees>_e[0].townInfo.population_count*.9?"text-textDanger2":"text-textDanger1")))&&O($e,"class",B),(!nt||He&2)&&se(Dr,_e[1]);const Gs={};He&8192&&(Gs.$$scope={dirty:He,ctx:_e}),un.$set(Gs);const $r={};He&1&&($r.class="text-xs flex flex-col h-min p-1.5 "+(_e[0].hasLab?"bg-button cursor-pointer text-textPrimary":"bg-button cursor-not-allowed text-textPrimary opacity-35")),He&8193&&($r.$$scope={dirty:He,ctx:_e}),fn.$set($r),_e[0].currentTutorialStep!=0?rt?(rt.p(_e,He),He&1&&C(rt,1)):(rt=hf(_e),rt.c(),C(rt,1),rt.m(jt,Lr)):rt&&(Ie(),S(rt,1,1,()=>{rt=null}),Me()),_e[5]?at?He&32&&C(at,1):(at=_f(),at.c(),C(at,1),at.m(jt,Fr)):at&&(Ie(),S(at,1,1,()=>{at=null}),Me()),Si===(Si=Bs(_e))&&Vt?Vt.p(_e,He):(Vt.d(1),Vt=Si(_e),Vt&&(Vt.c(),Vt.m(Oo,null))),(!nt||He&32&&fi!==(fi="flex flex-row flex-wrap align-middle justify-center items-center w-64 "+(_e[5]?"opacity-25 ":"")+" transition-all duration-700"))&&O(Po,"class",fi),(!nt||He&1)&&hi!==(hi=_e[0].environment.day%365+1+"")&&se(jr,hi),(!nt||He&1)&&bi!==(bi=Math.floor(_e[0].environment.day/365)+1+"")&&se(Br,bi),(!nt||He&4&&vi!==(vi=(_e[2].toString()==="2000"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"))&&O(xn,"class",vi),(!nt||He&4&&yi!==(yi=(_e[2].toString()==="750"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"))&&O(Zn,"class",yi),(!nt||He&4&&wi!==(wi=(_e[2].toString()==="200"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"))&&O(Qn,"class",wi),(!nt||He&8&&ki!==(ki="flex justify-between px-6 gap-6 flex-row text-start fixed top-0 left-0 right-0 cursor-default z-20 bg-foreground text-foregroundText h-max "+(_e[3].visible?"opacity-70":"")))&&O(e,"class",ki)},i(_e){nt||(C(a.$$.fragment,_e),C(h.$$.fragment,_e),C(F.$$.fragment,_e),C(K.$$.fragment,_e),C(un.$$.fragment,_e),C(fn.$$.fragment,_e),C(rt),C(at),nt=!0)},o(_e){S(a.$$.fragment,_e),S(h.$$.fragment,_e),S(F.$$.fragment,_e),S(K.$$.fragment,_e),S(un.$$.fragment,_e),S(fn.$$.fragment,_e),S(rt),S(at),nt=!1},d(_e){_e&&T(e),z(a),z(h),z(F),z(K),Bt.d(),Gt.d(),z(un),z(fn),rt&&rt.d(),at&&at.d(),Vt.d(),Gr=!1,je(Fs)}}}function d4(t,e,n){let o,i,r,l,a;ae(t,De,b=>n(0,o=b)),ae(t,hl,b=>n(2,i=b)),ae(t,Ze,b=>n(3,r=b)),ae(t,Qi,b=>n(4,l=b)),ae(t,ji,b=>n(5,a=b)),wr(()=>{const b=setInterval(()=>{Ee(De,o.timeSpent+=1e3,o)},1e3);return()=>{clearInterval(b)}});function s(){let b=prompt("Enter a new name for your town (under 200 chars)");if(b&&b.length<200&&b.length>=1){let y=o;y.townInfo.name=b,De.set(y),localStorage.setItem(Lt,JSON.stringify(y))}}function u(b){return Ee(hl,i=b,i),document.querySelectorAll(".speedButton").forEach(A=>{A.classList.remove("active")}),i}function f(){o.hasLab&&Bi.set(!0)}let c="00:00:00";const d=function(){Ee(Qi,l=!l,l)},m=()=>u(2e3),_=()=>u(750),h=()=>u(200);return t.$$.update=()=>{t.$$.dirty&1&&(o.timeSpent>0?n(1,c=fp(o.timeSpent)):n(1,c="00:00:00"))},[o,c,i,r,l,a,s,u,f,d,m,_,h]}class m4 extends ye{constructor(e){super(),ve(this,e,d4,c4,fe,{})}}function gf(t,e,n){const o=t.slice();return o[4]=e[n],o[6]=n,o}function bf(t,e,n){const o=t.slice();return o[4]=e[n],o[6]=n,o}function vf(t){let e,n,o,i=ie[Se(t[0].id)].title+"",r,l,a,s=ie[Se(t[0].id)].description+"",u,f,c,d,m,_,h,b,y,A=t[3]("ðŸ’°",ie[Se(t[0].id)].requirements.gold,t[2].townInfo.gold)+"",w,R,V=t[3]("ðŸ¥•",ie[Se(t[0].id)].requirements.resources.food,t[2].resources.food)+"",N,H,F=t[3]("ðŸ§ ",ie[Se(t[0].id)].requirements.knowledge,t[2].townInfo.knowledge_points)+"",L,X,P=t[3]("ðŸªµ",ie[Se(t[0].id)].requirements.resources.wood,t[2].resources.wood)+"",g,k,E=t[3]("ðŸª¨",ie[Se(t[0].id)].requirements.resources.stone,t[2].resources.stone)+"",q,D,K=t[3]("ðŸ§²",ie[Se(t[0].id)].requirements.resources.metal,t[2].resources.metal)+"",Z,x,$=t[3]("ðŸ”‹",ie[Se(t[0].id)].active_costs.power,t[2].resources.power)+"",p,j,J=t[3]("ðŸ§‘â€âš–ï¸",ie[Se(t[0].id)].requirements.resources.bureaucracy,t[2].resources.bureaucracy)+"",ne,U=ie[Se(t[0].id)].requirements.employees!=0,ue,ke=ie[Se(t[0].id)].revenue_per_week!=0,we,Ye=Object.values(ie[Se(t[0].id)].active_costs).some(Pf),Be,et=Object.values(ie[Se(t[0].id)].generated_resources).some(Mf),ce;d=new At({props:{class:"bg-secondary opacity-25 mt-1 mb-1"}});let Oe=U&&yf(t),Ve=ke&&wf(t),We=Ye&&kf(t),Ge=et&&Sf(t);return{c(){e=M("div"),n=M("div"),o=M("span"),r=G(i),l=W(),a=M("span"),u=G(s),f=W(),c=M("div"),ee(d.$$.fragment),m=W(),_=M("span"),_.textContent="Requirements",h=W(),b=M("div"),y=new hn(!1),w=W(),R=new hn(!1),N=W(),H=new hn(!1),L=W(),X=new hn(!1),g=W(),k=new hn(!1),q=W(),D=new hn(!1),Z=W(),x=new hn(!1),p=W(),j=new hn(!1),ne=W(),Oe&&Oe.c(),ue=W(),Ve&&Ve.c(),we=W(),We&&We.c(),Be=W(),Ge&&Ge.c(),O(o,"class","text-md"),O(a,"class","text-xs"),O(n,"class","flex flex-col gap-2"),O(_,"class","font-semibold"),y.a=w,R.a=N,H.a=L,X.a=g,k.a=q,D.a=Z,x.a=p,j.a=ne,O(b,"class","flex flex-col gap-1"),O(c,"class","flex flex-col w-36 h-min gap-0 text-xs pb-2"),O(e,"class","p-2")},m(Ce,Te){I(Ce,e,Te),v(e,n),v(n,o),v(o,r),v(n,l),v(n,a),v(a,u),v(e,f),v(e,c),Q(d,c,null),v(c,m),v(c,_),v(c,h),v(c,b),y.m(A,b),v(b,w),R.m(V,b),v(b,N),H.m(F,b),v(b,L),X.m(P,b),v(b,g),k.m(E,b),v(b,q),D.m(K,b),v(b,Z),x.m($,b),v(b,p),j.m(J,b),v(b,ne),Oe&&Oe.m(b,null),v(e,ue),Ve&&Ve.m(e,null),v(e,we),We&&We.m(e,null),v(e,Be),Ge&&Ge.m(e,null),ce=!0},p(Ce,Te){(!ce||Te&1)&&i!==(i=ie[Se(Ce[0].id)].title+"")&&se(r,i),(!ce||Te&1)&&s!==(s=ie[Se(Ce[0].id)].description+"")&&se(u,s),(!ce||Te&5)&&A!==(A=Ce[3]("ðŸ’°",ie[Se(Ce[0].id)].requirements.gold,Ce[2].townInfo.gold)+"")&&y.p(A),(!ce||Te&5)&&V!==(V=Ce[3]("ðŸ¥•",ie[Se(Ce[0].id)].requirements.resources.food,Ce[2].resources.food)+"")&&R.p(V),(!ce||Te&5)&&F!==(F=Ce[3]("ðŸ§ ",ie[Se(Ce[0].id)].requirements.knowledge,Ce[2].townInfo.knowledge_points)+"")&&H.p(F),(!ce||Te&5)&&P!==(P=Ce[3]("ðŸªµ",ie[Se(Ce[0].id)].requirements.resources.wood,Ce[2].resources.wood)+"")&&X.p(P),(!ce||Te&5)&&E!==(E=Ce[3]("ðŸª¨",ie[Se(Ce[0].id)].requirements.resources.stone,Ce[2].resources.stone)+"")&&k.p(E),(!ce||Te&5)&&K!==(K=Ce[3]("ðŸ§²",ie[Se(Ce[0].id)].requirements.resources.metal,Ce[2].resources.metal)+"")&&D.p(K),(!ce||Te&5)&&$!==($=Ce[3]("ðŸ”‹",ie[Se(Ce[0].id)].active_costs.power,Ce[2].resources.power)+"")&&x.p($),(!ce||Te&5)&&J!==(J=Ce[3]("ðŸ§‘â€âš–ï¸",ie[Se(Ce[0].id)].requirements.resources.bureaucracy,Ce[2].resources.bureaucracy)+"")&&j.p(J),Te&1&&(U=ie[Se(Ce[0].id)].requirements.employees!=0),U?Oe?Oe.p(Ce,Te):(Oe=yf(Ce),Oe.c(),Oe.m(b,null)):Oe&&(Oe.d(1),Oe=null),Te&1&&(ke=ie[Se(Ce[0].id)].revenue_per_week!=0),ke?Ve?(Ve.p(Ce,Te),Te&1&&C(Ve,1)):(Ve=wf(Ce),Ve.c(),C(Ve,1),Ve.m(e,we)):Ve&&(Ie(),S(Ve,1,1,()=>{Ve=null}),Me()),Te&1&&(Ye=Object.values(ie[Se(Ce[0].id)].active_costs).some(Pf)),Ye?We?(We.p(Ce,Te),Te&1&&C(We,1)):(We=kf(Ce),We.c(),C(We,1),We.m(e,Be)):We&&(Ie(),S(We,1,1,()=>{We=null}),Me()),Te&1&&(et=Object.values(ie[Se(Ce[0].id)].generated_resources).some(Mf)),et?Ge?(Ge.p(Ce,Te),Te&1&&C(Ge,1)):(Ge=Sf(Ce),Ge.c(),C(Ge,1),Ge.m(e,null)):Ge&&(Ie(),S(Ge,1,1,()=>{Ge=null}),Me())},i(Ce){ce||(C(d.$$.fragment,Ce),C(Ve),C(We),C(Ge),ce=!0)},o(Ce){S(d.$$.fragment,Ce),S(Ve),S(We),S(Ge),ce=!1},d(Ce){Ce&&T(e),z(d),Oe&&Oe.d(),Ve&&Ve.d(),We&&We.d(),Ge&&Ge.d()}}}function yf(t){let e,n,o=ie[Se(t[0].id)].requirements.employees+"",i,r,l;return{c(){e=M("span"),n=G("ðŸ‘¥ "),i=G(o),r=G(" employees"),O(e,"class",l=ie[Se(t[0].id)].requirements.employees>t[2].townInfo.population_count-t[2].townInfo.employees&&t[1]?"px-1 text-textDanger1 font-bold border-2 border-red-400":"")},m(a,s){I(a,e,s),v(e,n),v(e,i),v(e,r)},p(a,s){s&1&&o!==(o=ie[Se(a[0].id)].requirements.employees+"")&&se(i,o),s&7&&l!==(l=ie[Se(a[0].id)].requirements.employees>a[2].townInfo.population_count-a[2].townInfo.employees&&a[1]?"px-1 text-textDanger1 font-bold border-2 border-red-400":"")&&O(e,"class",l)},d(a){a&&T(e)}}}function wf(t){let e,n,o,i,r,l,a,s=ie[Se(t[0].id)].revenue_per_week+"",u,f;return n=new At({props:{class:"bg-secondary opacity-25 mt-0"}}),{c(){e=M("div"),ee(n.$$.fragment),o=W(),i=M("span"),i.textContent="Weekly revenue",r=W(),l=M("span"),a=G("ðŸ’° "),u=G(s),O(i,"class","font-semibold"),O(e,"class","flex flex-col gap-1 text-xs")},m(c,d){I(c,e,d),Q(n,e,null),v(e,o),v(e,i),v(e,r),v(e,l),v(l,a),v(l,u),f=!0},p(c,d){(!f||d&1)&&s!==(s=ie[Se(c[0].id)].revenue_per_week+"")&&se(u,s)},i(c){f||(C(n.$$.fragment,c),f=!0)},o(c){S(n.$$.fragment,c),f=!1},d(c){c&&T(e),z(n)}}}function kf(t){let e,n,o,i,r,l;n=new At({props:{class:"bg-secondary opacity-25 mt-2"}});let a=Ue(Object.keys(ie[Se(t[0].id)].active_costs)),s=[];for(let u=0;u<a.length;u+=1)s[u]=Af(bf(t,a,u));return{c(){e=M("div"),ee(n.$$.fragment),o=W(),i=M("span"),i.textContent="Weekly Costs",r=W();for(let u=0;u<s.length;u+=1)s[u].c();O(i,"class","font-semibold"),O(e,"class","flex flex-col gap-1 text-xs")},m(u,f){I(u,e,f),Q(n,e,null),v(e,o),v(e,i),v(e,r);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(e,null);l=!0},p(u,f){if(f&1){a=Ue(Object.keys(ie[Se(u[0].id)].active_costs));let c;for(c=0;c<a.length;c+=1){const d=bf(u,a,c);s[c]?s[c].p(d,f):(s[c]=Af(d),s[c].c(),s[c].m(e,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=a.length}},i(u){l||(C(n.$$.fragment,u),l=!0)},o(u){S(n.$$.fragment,u),l=!1},d(u){u&&T(e),z(n),wt(s,u)}}}function Cf(t){let e,n=co(t[4])+"",o,i,r=br(t[4])+"",l,a,s=-1*Object.values(ie[Se(t[0].id)].active_costs)[t[6]]+"",u,f,c;return{c(){e=M("span"),o=G(n),i=W(),l=G(r),a=W(),u=G(s),f=W(),O(e,"class",c=Object.values(ie[Se(t[0].id)].active_costs)[t[6]]>0?"text-textDanger1":"text-textHappyDark")},m(d,m){I(d,e,m),v(e,o),v(e,i),v(e,l),v(e,a),v(e,u),v(e,f)},p(d,m){m&1&&n!==(n=co(d[4])+"")&&se(o,n),m&1&&r!==(r=br(d[4])+"")&&se(l,r),m&1&&s!==(s=-1*Object.values(ie[Se(d[0].id)].active_costs)[d[6]]+"")&&se(u,s),m&1&&c!==(c=Object.values(ie[Se(d[0].id)].active_costs)[d[6]]>0?"text-textDanger1":"text-textHappyDark")&&O(e,"class",c)},d(d){d&&T(e)}}}function Af(t){let e=Object.values(ie[Se(t[0].id)].active_costs)[t[6]]!=0,n,o=e&&Cf(t);return{c(){o&&o.c(),n=Re()},m(i,r){o&&o.m(i,r),I(i,n,r)},p(i,r){r&1&&(e=Object.values(ie[Se(i[0].id)].active_costs)[i[6]]!=0),e?o?o.p(i,r):(o=Cf(i),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(i){i&&T(n),o&&o.d(i)}}}function Sf(t){let e,n,o,i,r,l;n=new At({props:{class:"bg-secondary opacity-25 mt-2"}});let a=Ue(Object.keys(ie[Se(t[0].id)].generated_resources)),s=[];for(let u=0;u<a.length;u+=1)s[u]=If(gf(t,a,u));return{c(){e=M("div"),ee(n.$$.fragment),o=W(),i=M("span"),i.textContent="Generated Resources",r=W();for(let u=0;u<s.length;u+=1)s[u].c();O(i,"class","font-semibold"),O(e,"class","flex flex-col gap-1 text-xs")},m(u,f){I(u,e,f),Q(n,e,null),v(e,o),v(e,i),v(e,r);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(e,null);l=!0},p(u,f){if(f&1){a=Ue(Object.keys(ie[Se(u[0].id)].generated_resources));let c;for(c=0;c<a.length;c+=1){const d=gf(u,a,c);s[c]?s[c].p(d,f):(s[c]=If(d),s[c].c(),s[c].m(e,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=a.length}},i(u){l||(C(n.$$.fragment,u),l=!0)},o(u){S(n.$$.fragment,u),l=!1},d(u){u&&T(e),z(n),wt(s,u)}}}function Tf(t){let e,n=br(t[4])+"",o,i,r=co(t[4])+"",l,a,s=xs(Object.values(ie[Se(t[0].id)].generated_resources)[t[6]],!1)+"",u,f,c;return{c(){e=M("span"),o=G(n),i=W(),l=G(r),a=W(),u=G(s),f=W(),O(e,"class",c=Object.values(ie[Se(t[0].id)].generated_resources)[t[6]]>0?"text-textHappyDark":"text-textDanger1")},m(d,m){I(d,e,m),v(e,o),v(e,i),v(e,l),v(e,a),v(e,u),v(e,f)},p(d,m){m&1&&n!==(n=br(d[4])+"")&&se(o,n),m&1&&r!==(r=co(d[4])+"")&&se(l,r),m&1&&s!==(s=xs(Object.values(ie[Se(d[0].id)].generated_resources)[d[6]],!1)+"")&&se(u,s),m&1&&c!==(c=Object.values(ie[Se(d[0].id)].generated_resources)[d[6]]>0?"text-textHappyDark":"text-textDanger1")&&O(e,"class",c)},d(d){d&&T(e)}}}function If(t){let e=Object.values(ie[Se(t[0].id)].generated_resources)[t[6]]!=0,n,o=e&&Tf(t);return{c(){o&&o.c(),n=Re()},m(i,r){o&&o.m(i,r),I(i,n,r)},p(i,r){r&1&&(e=Object.values(ie[Se(i[0].id)].generated_resources)[i[6]]!=0),e?o?o.p(i,r):(o=Tf(i),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(i){i&&T(n),o&&o.d(i)}}}function p4(t){let e,n,o=t[0]!=null&&vf(t);return{c(){o&&o.c(),e=Re()},m(i,r){o&&o.m(i,r),I(i,e,r),n=!0},p(i,[r]){i[0]!=null?o?(o.p(i,r),r&1&&C(o,1)):(o=vf(i),o.c(),C(o,1),o.m(e.parentNode,e)):o&&(Ie(),S(o,1,1,()=>{o=null}),Me())},i(i){n||(C(o),n=!0)},o(i){S(o),n=!1},d(i){i&&T(e),o&&o.d(i)}}}function br(t){switch(t){case"food":return"ðŸ¥•";case"knowledge":return"ðŸ§ ";case"wood":return"ðŸªµ";case"stone":return"ðŸª¨";case"metal":return"ðŸ§²";case"power":return"ðŸ”‹";case"bureaucracy":return"ðŸ§‘â€âš–ï¸";default:return"ðŸ’°"}}const Mf=t=>t!=0,Pf=t=>t!=0;function h4(t,e,n){let o;ae(t,De,a=>n(2,o=a));let{option:i}=e,{checkRequirements:r=!0}=e;function l(a,s,u){if(s==0||s==null)return"<span class='hidden'></span>";let f="",c="";return u<s&&r&&(c="text-textDanger1 border-2 border-red-400"),f=`<span class='${c}'>${a} ${s}</span>`,f}return t.$$set=a=>{"option"in a&&n(0,i=a.option),"checkRequirements"in a&&n(1,r=a.checkRequirements)},[i,r,o,l]}class Yd extends ye{constructor(e){super(),ve(this,e,h4,p4,fe,{option:0,checkRequirements:1})}}function Of(t,e,n){const o=t.slice();return o[26]=e[n],o}function Nf(t,e,n){const o=t.slice();return o[29]=e[n],o}function Ef(t){let e,n,o,i,r,l,a,s,u,f,c,d,m=t[8].isMineralSource===!1&&Rf(t);const _=[g4,_4],h=[];function b(y,A){return y[8].isMineralSource===!0?0:1}return a=b(t),s=h[a]=_[a](t),{c(){e=M("div"),n=M("div"),o=M("div"),i=M("div"),r=M("div"),m&&m.c(),l=W(),s.c(),O(r,"class","flex flex-row w-full "),O(i,"class","text-sm"),O(o,"class","flex flex-col gap-2 px-2 no-scrollbar justify-end"),O(n,"class","text-xl items-center justify-center w-[90%] align-bottom bg-foreground border-4 border-gray-400 shadow-2xl rounded-t-xl py-2 "),O(e,"class",u="w-[100vw] fixed bottom-0 h-["+t[10]+"] "+(t[8].isMineralSource===!0?"mb-[60px]":"mb-[0px]")+" p-1 z-50 flex flex-col justify-center text-center items-center")},m(y,A){I(y,e,A),v(e,n),v(n,o),v(o,i),v(i,r),m&&m.m(r,null),v(o,l),h[a].m(o,null),f=!0,c||(d=te(o,"click",t[13]),c=!0)},p(y,A){y[8].isMineralSource===!1?m?(m.p(y,A),A[0]&256&&C(m,1)):(m=Rf(y),m.c(),C(m,1),m.m(r,null)):m&&(Ie(),S(m,1,1,()=>{m=null}),Me());let w=a;a=b(y),a===w?h[a].p(y,A):(Ie(),S(h[w],1,1,()=>{h[w]=null}),Me(),s=h[a],s?s.p(y,A):(s=h[a]=_[a](y),s.c()),C(s,1),s.m(o,null)),(!f||A[0]&256&&u!==(u="w-[100vw] fixed bottom-0 h-["+y[10]+"] "+(y[8].isMineralSource===!0?"mb-[60px]":"mb-[0px]")+" p-1 z-50 flex flex-col justify-center text-center items-center"))&&O(e,"class",u)},i(y){f||(C(m),C(s),f=!0)},o(y){S(m),S(s),f=!1},d(y){y&&T(e),m&&m.d(),h[a].d(),c=!1,d()}}}function Rf(t){let e,n,o,i,r,l,a,s,u,f=t[5].plots[t[0]][t[1]].type!==-1&&t[14](t[0],t[1]),c,d,m,_={type:"text",autofocus:!0,id:"search-bar",placeholder:"Search Plot Options...",value:t[3],class:"border rounded w-auto bg-white placeholder-black text-black text-xs"};n=new os({props:_}),t[19](n),n.$on("input",t[11]);let h=f&&Df(t);return{c(){e=M("div"),ee(n.$$.fragment),o=W(),i=M("div"),r=M("input"),l=W(),a=M("label"),a.textContent="Buildable",s=W(),u=M("div"),h&&h.c(),O(e,"class","flex items-end "),O(r,"type","checkbox"),O(r,"id","toggle-affordable"),O(r,"class","rounded"),r.checked=t[6],O(a,"for","toggle-affordable"),O(a,"class","ml-2 no-select cursor-pointer "),O(i,"class","flex items-center ml-4"),O(u,"class","flex justify-end ml-6")},m(b,y){I(b,e,y),Q(n,e,null),I(b,o,y),I(b,i,y),v(i,r),v(i,l),v(i,a),I(b,s,y),I(b,u,y),h&&h.m(u,null),c=!0,d||(m=te(r,"change",t[20]),d=!0)},p(b,y){const A={};y[0]&8&&(A.value=b[3]),n.$set(A),(!c||y[0]&64)&&(r.checked=b[6]),y[0]&35&&(f=b[5].plots[b[0]][b[1]].type!==-1&&b[14](b[0],b[1])),f?h?h.p(b,y):(h=Df(b),h.c(),h.m(u,null)):h&&(h.d(1),h=null)},i(b){c||(C(n.$$.fragment,b),c=!0)},o(b){S(n.$$.fragment,b),c=!1},d(b){b&&(T(e),T(o),T(i),T(s),T(u)),t[19](null),z(n),h&&h.d(),d=!1,m()}}}function Df(t){let e,n,o;return{c(){e=M("button"),e.textContent="âŒ Bulldoze",O(e,"id","bulldoze"),O(e,"class","px-2 py-2 bg-red-500 rounded hover:bg-red-600 transition duration-300 ease-in-out")},m(i,r){I(i,e,r),n||(o=te(e,"click",t[16]),n=!0)},p:Ae,d(i){i&&T(e),n=!1,o()}}}function _4(t){let e,n,o=Ue([1,2,3,4]),i=[];for(let l=0;l<4;l+=1)i[l]=Vf(Of(t,o,l));const r=l=>S(i[l],1,1,()=>{i[l]=null});return{c(){e=M("div");for(let l=0;l<4;l+=1)i[l].c();O(e,"class","flex flex-col gap-8 w-full overflow-y-scroll h-72 pb-24")},m(l,a){I(l,e,a);for(let s=0;s<4;s+=1)i[s]&&i[s].m(e,null);n=!0},p(l,a){if(a[0]&24){o=Ue([1,2,3,4]);let s;for(s=0;s<4;s+=1){const u=Of(l,o,s);i[s]?(i[s].p(u,a),C(i[s],1)):(i[s]=Vf(u),i[s].c(),C(i[s],1),i[s].m(e,null))}for(Ie(),s=4;s<4;s+=1)r(s);Me()}},i(l){if(!n){for(let a=0;a<4;a+=1)C(i[a]);n=!0}},o(l){i=i.filter(Boolean);for(let a=0;a<4;a+=1)S(i[a]);n=!1},d(l){l&&T(e),wt(i,l)}}}function g4(t){let e,n,o,i,r,l,a,s=t[5].townInfo.gold>=t[9][Se("mine")].requirements.gold?"âœ…":"âŒ",u,f,c=on(t[9][Se("mine")].requirements.gold)+"",d,m,_,h,b=t[5].townInfo.population_count-t[5].townInfo.employees>=t[9][Se("mine")].requirements.employees?"âœ…":"âŒ",y,A,w=t[9][Se("mine")].requirements.employees+"",R,V=" ",N,H,F,L,X,P,g,k,E;const q=[k4,w4],D=[];function K(Z,x){return x[0]&32&&(P=null),P==null&&(P=st("mine",Z[5]).length===0),P?0:1}return g=K(t,[-1,-1]),k=D[g]=q[g](t),{c(){e=M("div"),n=M("div"),o=M("div"),o.textContent="Build a mine",i=W(),r=M("div"),l=M("ul"),a=M("li"),u=G(s),f=G(`
                    $`),d=G(c),m=G(" gold"),_=W(),h=M("li"),y=G(b),A=W(),R=G(w),N=G(V),H=G(`
                    employees`),F=W(),L=M("div"),L.innerHTML=`<div class="text-8xl text-center h-5/6 mt-2 flex flex-col justify-center items-center align-middle w-1/3"><div>â›ï¸</div></div> <div class="w-2/3 text-start pl-6">Used to extract minerals needed to build many advanced plots
                  including hospitals, labs, and more.</div>`,X=W(),k.c(),O(o,"class","text-2xl pb-2"),O(l,"class","flex flex-row justify-between px-6 bg-blue-900 text-blue-200 text-sm rounded-md py-1"),O(L,"class","flex flex-row w-full justify-between px-6 mt-4 h-full"),O(n,"class","flex flex-col p-2 w-1/2 bg-blue-800 rounded-lg"),O(e,"class","flex justify-center items-start p-1 text-center w-full")},m(Z,x){I(Z,e,x),v(e,n),v(n,o),v(n,i),v(n,r),v(r,l),v(l,a),v(a,u),v(a,f),v(a,d),v(a,m),v(l,_),v(l,h),v(h,y),v(h,A),v(h,R),v(h,N),v(h,H),v(n,F),v(n,L),v(n,X),D[g].m(n,null),E=!0},p(Z,x){(!E||x[0]&32)&&s!==(s=Z[5].townInfo.gold>=Z[9][Se("mine")].requirements.gold?"âœ…":"âŒ")&&se(u,s),(!E||x[0]&32)&&b!==(b=Z[5].townInfo.population_count-Z[5].townInfo.employees>=Z[9][Se("mine")].requirements.employees?"âœ…":"âŒ")&&se(y,b);let $=g;g=K(Z,x),g===$?D[g].p(Z,x):(Ie(),S(D[$],1,1,()=>{D[$]=null}),Me(),k=D[g],k?k.p(Z,x):(k=D[g]=q[g](Z),k.c()),C(k,1),k.m(n,null))},i(Z){E||(C(k),E=!0)},o(Z){S(k),E=!1},d(Z){Z&&T(e),D[g].d()}}}function Lf(t){let e;return{c(){e=M("div"),e.textContent=`Level ${t[26]}`,O(e,"class","text-xl font-bold")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Ff(t){let e,n,o=t[29].active_costs.power+"",i;return{c(){e=M("span"),n=G("ðŸ”‹"),i=G(o),O(e,"class","bg-yellow-300 text-xs text-black tex px-1 py-0.5 rounded-2xl absolute top-[-5px] right-[-5px]")},m(r,l){I(r,e,l),v(e,n),v(e,i)},p(r,l){l[0]&16&&o!==(o=r[29].active_costs.power+"")&&se(i,o)},d(r){r&&T(e)}}}function qf(t){let e,n,o=on(t[29].revenue_per_week,!1)+"",i,r;return{c(){e=M("br"),n=G(`
                              Makes ðŸ’° `),i=G(o),r=G("/week")},m(l,a){I(l,e,a),I(l,n,a),I(l,i,a),I(l,r,a)},p(l,a){a[0]&16&&o!==(o=on(l[29].revenue_per_week,!1)+"")&&se(i,o)},d(l){l&&(T(e),T(n),T(i),T(r))}}}function jf(t){let e,n,o=on(t[29].requirements.employees,!1)+"",i;return{c(){e=M("br"),n=G(`
                              Employs `),i=G(o)},m(r,l){I(r,e,l),I(r,n,l),I(r,i,l)},p(r,l){l[0]&16&&o!==(o=on(r[29].requirements.employees,!1)+"")&&se(i,o)},d(r){r&&(T(e),T(n),T(i))}}}function b4(t){let e,n,o,i=(t[29].selected?"âœ…":Js(t[29].title))+"",r,l,a,s=t[29].title.substring(2)+"",u,f,c,d,m,_=on(t[29].requirements.gold,!1)+"",h,b,y,A,w,R,V=t[29].active_costs.power>0&&Ff(t),N=t[29].revenue_per_week>0&&qf(t),H=t[29].requirements.employees>0&&jf(t);return{c(){e=M("div"),n=M("div"),o=M("span"),r=G(i),l=W(),a=M("span"),u=G(s),f=W(),V&&V.c(),c=W(),d=M("span"),m=G("Costs ðŸ’° "),h=G(_),b=W(),N&&N.c(),y=W(),H&&H.c(),O(o,"class","text-md text-center"),O(a,"class","text-xs text-center font-bold mx-1"),O(n,"class","pt-2"),O(d,"style",A=t[29].styling),O(d,"class","text-xs text-center pt-4"),O(e,"class",w="plotOption cursor-pointer min-w-40 relative h-[120px] rounded-xl flex flex-col align-middle transition-all duration-100 "+(t[29].affordable||t[29].selected?"cursor-pointer":"opacity-25 cursor-not-allowed ")+" "+(t[29].selected?"border-4 border-yellow-200 opacity-100 rounded-none":"")),O(e,"data-plotoptionid",R=t[29].id),Je(e,"background-color",xi(Se(t[29].id),!0))},m(F,L){I(F,e,L),v(e,n),v(n,o),v(o,r),v(n,l),v(n,a),v(a,u),v(e,f),V&&V.m(e,null),v(e,c),v(e,d),v(d,m),v(d,h),v(d,b),N&&N.m(d,null),v(d,y),H&&H.m(d,null)},p(F,L){L[0]&16&&i!==(i=(F[29].selected?"âœ…":Js(F[29].title))+"")&&se(r,i),L[0]&16&&s!==(s=F[29].title.substring(2)+"")&&se(u,s),F[29].active_costs.power>0?V?V.p(F,L):(V=Ff(F),V.c(),V.m(e,c)):V&&(V.d(1),V=null),L[0]&16&&_!==(_=on(F[29].requirements.gold,!1)+"")&&se(h,_),F[29].revenue_per_week>0?N?N.p(F,L):(N=qf(F),N.c(),N.m(d,y)):N&&(N.d(1),N=null),F[29].requirements.employees>0?H?H.p(F,L):(H=jf(F),H.c(),H.m(d,null)):H&&(H.d(1),H=null),L[0]&16&&A!==(A=F[29].styling)&&O(d,"style",A),L[0]&16&&w!==(w="plotOption cursor-pointer min-w-40 relative h-[120px] rounded-xl flex flex-col align-middle transition-all duration-100 "+(F[29].affordable||F[29].selected?"cursor-pointer":"opacity-25 cursor-not-allowed ")+" "+(F[29].selected?"border-4 border-yellow-200 opacity-100 rounded-none":""))&&O(e,"class",w),L[0]&16&&R!==(R=F[29].id)&&O(e,"data-plotoptionid",R),L[0]&16&&Je(e,"background-color",xi(Se(F[29].id),!0))},d(F){F&&T(e),V&&V.d(),N&&N.d(),H&&H.d()}}}function v4(t){let e,n;return e=new Yd({props:{option:t[29]}}),{c(){ee(e.$$.fragment)},m(o,i){Q(e,o,i),n=!0},p(o,i){const r={};i[0]&16&&(r.option=o[29]),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){z(e,o)}}}function y4(t){let e,n,o,i;return e=new ai({props:{$$slots:{default:[b4]},$$scope:{ctx:t}}}),o=new li({props:{$$slots:{default:[v4]},$$scope:{ctx:t}}}),{c(){ee(e.$$.fragment),n=W(),ee(o.$$.fragment)},m(r,l){Q(e,r,l),I(r,n,l),Q(o,r,l),i=!0},p(r,l){const a={};l[0]&16|l[1]&2&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l[0]&16|l[1]&2&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),z(e,r),z(o,r)}}}function Bf(t,e){let n,o,i;return o=new si({props:{openDelay:200,closeDelay:0,$$slots:{default:[y4]},$$scope:{ctx:e}}}),{key:t,first:null,c(){n=Re(),ee(o.$$.fragment),this.first=n},m(r,l){I(r,n,l),Q(o,r,l),i=!0},p(r,l){e=r;const a={};l[0]&16|l[1]&2&&(a.$$scope={dirty:l,ctx:e}),o.$set(a)},i(r){i||(C(o.$$.fragment,r),i=!0)},o(r){S(o.$$.fragment,r),i=!1},d(r){r&&T(n),z(o,r)}}}function Gf(t){let e;return{c(){e=M("span"),e.textContent="No plots available!",O(e,"class","text-sm pt-2")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Vf(t){let e,n,o,i=[],r=new Map,l,a=t[4].filter(f).length===0&&t[3].length==0,s,u;function f(...b){return t[18](t[26],...b)}let c=t[3].length==0&&Lf(t);function d(...b){return t[22](t[26],...b)}let m=Ue(t[4].filter(d));const _=b=>b[29].id;for(let b=0;b<m.length;b+=1){let y=Nf(t,m,b),A=_(y);r.set(A,i[b]=Bf(A,y))}let h=a&&Gf();return{c(){e=M("div"),c&&c.c(),n=W(),o=M("div");for(let b=0;b<i.length;b+=1)i[b].c();l=W(),h&&h.c(),s=W(),O(o,"class","flex flex-row text-start justify-start items-start flex-wrap pt-2 w-full align-middle gap-4")},m(b,y){I(b,e,y),c&&c.m(e,null),v(e,n),v(e,o);for(let A=0;A<i.length;A+=1)i[A]&&i[A].m(o,null);v(o,l),h&&h.m(o,null),v(e,s),u=!0},p(b,y){t=b,t[3].length==0?c||(c=Lf(t),c.c(),c.m(e,n)):c&&(c.d(1),c=null),y[0]&16&&(m=Ue(t[4].filter(d)),Ie(),i=_m(i,y,_,1,t,m,r,o,hm,Bf,l,Nf),Me()),y[0]&24&&(a=t[4].filter(f).length===0&&t[3].length==0),a?h||(h=Gf(),h.c(),h.m(o,null)):h&&(h.d(1),h=null)},i(b){if(!u){for(let y=0;y<m.length;y+=1)C(i[y]);u=!0}},o(b){for(let y=0;y<i.length;y+=1)S(i[y]);u=!1},d(b){b&&T(e),c&&c.d();for(let y=0;y<i.length;y+=1)i[y].d();h&&h.d()}}}function w4(t){let e;return{c(){e=M("div"),e.textContent="You have built a mine here, and mine's can not be destroyed.",O(e,"class","text-yellow-500 text-xs mt-4 text-center")},m(n,o){I(n,e,o)},p:Ae,i:Ae,o:Ae,d(n){n&&T(e)}}}function k4(t){let e,n;return e=new Yt({props:{class:`my-6 w-full 
								`+(t[12](t[9][Se("mine")],t[5])?"bg-green-500 hover:bg-green-600":"bg-gray-900 hover:bg-gray-900 opacity-75 cursor-not-allowed")+` disabled'}
							`,tabindex:-1,$$slots:{default:[C4]},$$scope:{ctx:t}}}),e.$on("click",t[21]),{c(){ee(e.$$.fragment)},m(o,i){Q(e,o,i),n=!0},p(o,i){const r={};i[0]&32&&(r.class=`my-6 w-full 
								`+(o[12](o[9][Se("mine")],o[5])?"bg-green-500 hover:bg-green-600":"bg-gray-900 hover:bg-gray-900 opacity-75 cursor-not-allowed")+` disabled'}
							`),i[1]&2&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){z(e,o)}}}function C4(t){let e;return{c(){e=G("Build")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function A4(t){let e,n,o=t[2]&&Ef(t);return{c(){o&&o.c(),e=Re()},m(i,r){o&&o.m(i,r),I(i,e,r),n=!0},p(i,r){i[2]?o?(o.p(i,r),r[0]&4&&C(o,1)):(o=Ef(i),o.c(),C(o,1),o.m(e.parentNode,e)):o&&(Ie(),S(o,1,1,()=>{o=null}),Me())},i(i){n||(C(o),n=!0)},o(i){S(o),n=!1},d(i){i&&T(e),o&&o.d(i)}}}function S4(t,e,n){let o,i,r;ae(t,De,g=>n(5,o=g)),ae(t,Ze,g=>n(8,i=g)),ae(t,Cc,g=>n(6,r=g));let{x:l=0}=e,{y:a=0}=e,{open:s=!1}=e,{tooltip:u=""}=e,f="",c=ie,d;const m=Math.round(window.innerHeight*.2)+"px";let _=c.map(g=>Object.assign(Object.assign({},g),{affordable:y(g,o),selected:b(g)}));function h(g){n(3,f=g.target.value||"")}function b(g){return o.plots[l][a].type>-1?c[o.plots[l][a].type].id===g.id:!1}function y(g,k){let E=!0;g.requirements.gold>k.townInfo.gold&&(E=!1);let q=k.townInfo.population_count-k.townInfo.employees;return g.requirements.employees!==void 0&&g.requirements.employees>0&&g.requirements.employees>q&&(E=!1),g.requirements.knowledge!==void 0&&g.requirements.knowledge>k.townInfo.knowledge_points&&(E=!1),g.requirements.resources!==void 0&&Object.keys(g.requirements.resources).forEach(D=>{o.resources[D]<g.requirements.resources[D]&&(E=!1)}),E}function A(g){const k=g.target.closest(".plotOption");if(k){const E=k.dataset.plotoptionid;w(E)}}function w(g){document.querySelectorAll(".plotOption").forEach(q=>{q.classList.remove("active")});const E=document.querySelector(`[data-plotoptionid="${g}"]`);E&&(E.classList.add("active"),V(l,a,g))}function R(g,k){if(i.isMineralSource)return!1;let E=0;return g>0&&o.plots[g-1][k].type!==-1&&E++,g<o.plots.length-1&&o.plots[g+1][k].type!==-1&&E++,k>0&&o.plots[g][k-1].type!==-1&&E++,k<o.plots[0].length-1&&o.plots[g][k+1].type!==-1&&E++,E<=4}function V(g,k,E){let q=o;const D=ie.findIndex($=>$.id===E);let K=ie[D];if(y(K,o)==!1)return alert(`${JSON.stringify(K.requirements)}`);if(K.requirements.adjacent_plots!==void 0){let $=K.requirements.adjacent_plots;if(cp(g,k,q,K.requirements.adjacent_plots)===!1)return alert(`This plot requires adjacent plots of type: ${$.join(", ")}`)}let Z=!0;if((K.requirements.gold>q.townInfo.gold||K.requirements.employees>q.townInfo.population_count-q.townInfo.employees)&&(Z=!1),K.requirements.size!=null&&K.requirements.size!=1&&Z){let J=function(ne,U){let ue={x:ne,y:U};return ue.x===0&&ue.y===0?!0:[{x:ue.x-1,y:ue.y},{x:ue.x+1,y:ue.y},{x:ue.x,y:ue.y-1},{x:ue.x,y:ue.y+1}].some(we=>we.x<0||we.x>o.plots.length-1||we.y<0||we.y>o.plots.length-1?!1:o.plots[we.x][we.y].active)};var x=J;let $=K.requirements.size,p=[],j=c[D].title.toLowerCase().indexOf("school")!=-1;for(let ne=0;ne<4;ne++){let U=[[g,k]];ne===0?(U.push([g-($-1),k-($-1)]),U.push([g-($-1),k]),U.push([g,k-($-1)])):ne===1?(U.push([g,k-($-1)]),U.push([g+($-1),k-($-1)]),U.push([g+($-1),k])):ne===2?(U.push([g-($-1),k]),U.push([g-($-1),k+($-1)]),U.push([g,k+($-1)])):ne===3&&(U.push([g,k+($-1)]),U.push([g+($-1),k+($-1)]),U.push([g+($-1),k])),p.push(U)}p=p.filter(ne=>ne.every(U=>U[0]>=0&&U[0]<=q.plots.length-1&&U[1]>=0&&U[1]<=q.plots.length-1&&!q.plots[U[0]][U[1]].active&&J(U[0],U[1])==!0)),p.length===0?Z=!1:p.length>0&&p[0].forEach(U=>{q.plots[U[0]][U[1]].active=!0,q.plots[U[0]][U[1]].type=j?-3:-2,q.plots[U[0]][U[1]].referencePlot=[g,k]})}if(Z===!0){if(q.plots[g][k].type!==-1&&Zi(g,k,q),n(17,u=""),q.plots[g][k].type=D,q.plots[g][k].active=!0,q.plots[g][k].referencePlot=[],q.plots[g][k].typeId=K.id,q.townInfo.gold-=K.requirements.gold,q.townInfo.gold=ot(q.townInfo.gold,2),q.townInfo.population_count+=K.immediate_variable_changes.population,q.townInfo.population_max+=K.immediate_variable_changes.population,q.townInfo.happiness+=K.immediate_variable_changes.happiness,q.townInfo.health+=K.immediate_variable_changes.health,q.modifiers.happiness=ot(q.modifiers.happiness*K.effect_modifiers.happiness,2),q.modifiers.health=ot(q.modifiers.health*K.effect_modifiers.health,2),q.townInfo.employees+=K.requirements.employees,(q.plotCounts[D]===void 0||q.plotCounts[D]===null)&&(q.plotCounts[D]=0),q.plotCounts[D]++,q.lastChangeDay=q.environment.day,K.requirements.resources!==void 0){const p=K.requirements.resources;q.resources.food-=p.food,q.resources.wood-=p.wood,q.resources.stone-=p.stone,q.resources.metal-=p.metal}switch(K.id){case"city_hall":q.hasCityHall=!0;break;case"bank":q.hasBank=!0;break}De.set(q),localStorage.setItem(Lt,JSON.stringify(q));let $=!1;for(let p=g;p<q.plots.length;p++){for(let j=k;j<q.plots[p].length;j++)if(q.plots[p][j].active===!1&&q.plots[p][j].mineralSource==!1&&q.plots[p][j].water==!1){g=p,k=j,$=!0;break}if($)break}Ee(Ze,i.x=g,i),Ee(Ze,i.y=k,i)}else n(17,u="You do not have enough resources to purchase this plot. If it's a 'Large' plot, make sure you have a 2x2 area available. "),document.querySelectorAll(".plotOption").forEach(p=>{p.classList.remove("active")})}function N(){document.querySelectorAll(".plotOption").forEach(k=>{k.classList.remove("active")}),Zi(l,a,o)}const H=(g,k)=>k.level===g;function F(g){Pe[g?"unshift":"push"](()=>{d=g,n(7,d)})}const L=()=>{Im()},X=()=>{V(l,a,"mine")},P=(g,k)=>k.level===g;return t.$$set=g=>{"x"in g&&n(0,l=g.x),"y"in g&&n(1,a=g.y),"open"in g&&n(2,s=g.open),"tooltip"in g&&n(17,u=g.tooltip)},t.$$.update=()=>{t.$$.dirty[0]&112&&o&&(n(4,_=c.map(g=>Object.assign(Object.assign({},g),{affordable:y(g,o),selected:b(g)}))),n(4,_=_.filter(g=>g.id!=="mine")),r&&n(4,_=_.filter(g=>g.affordable)),Object.keys($s).forEach(g=>{let k=$s[g];if(k>0){let E=st(g,o).length;n(4,_=_.filter(q=>q.id!==g||E<k))}}),_.sort((g,k)=>g.selected&&!k.selected?-1:0)),t.$$.dirty[0]&24&&n(4,_=_.filter(g=>g.title.toLowerCase().includes(f.toLowerCase())))},[l,a,s,f,_,o,r,d,i,c,m,h,y,A,R,V,N,u,H,F,L,X,P]}class Xd extends ye{constructor(e){super(),ve(this,e,S4,A4,fe,{x:0,y:1,open:2,tooltip:17},null,[-1,-1])}}function T4(t){return{c:Ae,m:Ae,p:Ae,d:Ae}}function I4(t){let e,n,o,i=ie[t[0].type].title.substring(0,2)+"",r,l,a,s,u,f=ie[t[0].type].title.substring(2)+"",c,d,m,_;return{c(){e=M("div"),n=M("span"),o=M("span"),r=G(i),l=W(),a=M("br"),s=W(),u=M("span"),c=G(f),O(o,"class","text-lg align-text-top select-none"),O(u,"class","text-xs align-text-top font-normal text-black from-stone-600 select-none"),O(n,"data-size",d=ie[t[0].type].requirements.size),O(n,"data-x",m=t[0].x),O(n,"data-y",_=t[0].y),O(e,"class","svelte-9dbw4v")},m(h,b){I(h,e,b),v(e,n),v(n,o),v(o,r),v(n,l),v(n,a),v(n,s),v(n,u),v(u,c)},p(h,b){b&1&&i!==(i=ie[h[0].type].title.substring(0,2)+"")&&se(r,i),b&1&&f!==(f=ie[h[0].type].title.substring(2)+"")&&se(c,f),b&1&&d!==(d=ie[h[0].type].requirements.size)&&O(n,"data-size",d),b&1&&m!==(m=h[0].x)&&O(n,"data-x",m),b&1&&_!==(_=h[0].y)&&O(n,"data-y",_)},d(h){h&&T(e)}}}function Hf(t){let e;return{c(){e=M("span"),e.textContent="Mineral source",O(e,"class","text-xs")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function M4(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,_,h,b,y,A,w;function R(F,L){if(F[0].type>-1)return I4;if(F[0].type==-1&&F[0].x==0&&F[0].y==0)return T4}let V=R(t),N=V&&V(t),H=t[0].mineralSource&&t[0].type==-1&&Hf();return{c(){e=M("button"),N&&N.c(),n=W(),H&&H.c(),O(e,"class",o="plot_container "+t[1]+" overflow-visible "+(t[0].type==-1&&t[2]==!1,"")+" "+(t[0].mineralSource?"hidden":"")+" "+(t[2]?"cursor-pointer":"cursor-not-allowed")+" "+(t[0].disabled?"animate-spin":"")+" svelte-9dbw4v"),Je(e,"background-color",t[0].water?"bg-blue-900 opacity-100":t[4].x==t[0].x&&t[4].y==t[0].y&&t[4].visible?"white":xi(t[0].type,t[2])),O(e,"data-active",i=t[0].active),O(e,"data-hidehoveranimation",r=t[4].visible||t[0].type==-1&&t[0].x==0&&t[0].y==0),O(e,"data-id",l=t[0].id),O(e,"data-x",a=t[0].x),O(e,"data-y",s=t[0].y),O(e,"data-optionindex",u=t[0].optionIndex),O(e,"data-canbeupgraded",t[2]),O(e,"data-type",f=t[0].type),O(e,"data-type-id",c=t[0].typeId),O(e,"data-refplotx",d=t[0].referencePlot!==void 0?t[0].referencePlot[1]:null),O(e,"data-refploty",m=t[0].referencePlot!==void 0?t[0].referencePlot[0]:null),O(e,"data-size",_=t[0].type>-1?ie[t[0].type].requirements.size:null),O(e,"data-mineralsource",h=t[0].mineralSource),O(e,"data-water",b=t[0].water),O(e,"data-nearwater",y=Rn(t[0].x,t[0].y,t[5]))},m(F,L){I(F,e,L),N&&N.m(e,null),v(e,n),H&&H.m(e,null),A||(w=te(e,"click",t[6]),A=!0)},p(F,L){V===(V=R(F))&&N?N.p(F,L):(N&&N.d(1),N=V&&V(F),N&&(N.c(),N.m(e,n))),F[0].mineralSource&&F[0].type==-1?H||(H=Hf(),H.c(),H.m(e,null)):H&&(H.d(1),H=null),L&7&&o!==(o="plot_container "+F[1]+" overflow-visible "+(F[0].type==-1&&F[2]==!1,"")+" "+(F[0].mineralSource?"hidden":"")+" "+(F[2]?"cursor-pointer":"cursor-not-allowed")+" "+(F[0].disabled?"animate-spin":"")+" svelte-9dbw4v")&&O(e,"class",o),L&21&&Je(e,"background-color",F[0].water?"bg-blue-900 opacity-100":F[4].x==F[0].x&&F[4].y==F[0].y&&F[4].visible?"white":xi(F[0].type,F[2])),L&1&&i!==(i=F[0].active)&&O(e,"data-active",i),L&17&&r!==(r=F[4].visible||F[0].type==-1&&F[0].x==0&&F[0].y==0)&&O(e,"data-hidehoveranimation",r),L&1&&l!==(l=F[0].id)&&O(e,"data-id",l),L&1&&a!==(a=F[0].x)&&O(e,"data-x",a),L&1&&s!==(s=F[0].y)&&O(e,"data-y",s),L&1&&u!==(u=F[0].optionIndex)&&O(e,"data-optionindex",u),L&4&&O(e,"data-canbeupgraded",F[2]),L&1&&f!==(f=F[0].type)&&O(e,"data-type",f),L&1&&c!==(c=F[0].typeId)&&O(e,"data-type-id",c),L&1&&d!==(d=F[0].referencePlot!==void 0?F[0].referencePlot[1]:null)&&O(e,"data-refplotx",d),L&1&&m!==(m=F[0].referencePlot!==void 0?F[0].referencePlot[0]:null)&&O(e,"data-refploty",m),L&1&&_!==(_=F[0].type>-1?ie[F[0].type].requirements.size:null)&&O(e,"data-size",_),L&1&&h!==(h=F[0].mineralSource)&&O(e,"data-mineralsource",h),L&1&&b!==(b=F[0].water)&&O(e,"data-water",b),L&33&&y!==(y=Rn(F[0].x,F[0].y,F[5]))&&O(e,"data-nearwater",y)},d(F){F&&T(e),N&&N.d(),H&&H.d(),A=!1,w()}}}function Wf(t){let e;return{c(){e=G("Water - Place farms nearby for more food & revenue!")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function $f(t){let e;return{c(){e=M("span"),e.textContent="Near water - Generating more food & revenue!",O(e,"class","text-xs bg-blue-500 text-white p-1")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Kf(t){let e,n;return e=new Yd({props:{option:t[3],checkRequirements:!1}}),{c(){ee(e.$$.fragment)},m(o,i){Q(e,o,i),n=!0},p(o,i){const r={};i&8&&(r.option=o[3]),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){z(e,o)}}}function P4(t){let e,n,o=Rn(t[0].x,t[0].y,t[5]),i,r,l=t[0].water&&Wf(),a=o&&$f(),s=t[0].active&&Kf(t);return{c(){e=M("div"),l&&l.c(),n=W(),a&&a.c(),i=W(),s&&s.c(),O(e,"class","flex flex-col gap-2")},m(u,f){I(u,e,f),l&&l.m(e,null),v(e,n),a&&a.m(e,null),v(e,i),s&&s.m(e,null),r=!0},p(u,f){u[0].water?l||(l=Wf(),l.c(),l.m(e,n)):l&&(l.d(1),l=null),f&33&&(o=Rn(u[0].x,u[0].y,u[5])),o?a||(a=$f(),a.c(),a.m(e,i)):a&&(a.d(1),a=null),u[0].active?s?(s.p(u,f),f&1&&C(s,1)):(s=Kf(u),s.c(),C(s,1),s.m(e,null)):s&&(Ie(),S(s,1,1,()=>{s=null}),Me())},i(u){r||(C(s),r=!0)},o(u){S(s),r=!1},d(u){u&&T(e),l&&l.d(),a&&a.d(),s&&s.d()}}}function O4(t){let e,n,o,i;return e=new ai({props:{$$slots:{default:[M4]},$$scope:{ctx:t}}}),o=new li({props:{class:t[0].type<0&&!t[0].water?"hidden":"",$$slots:{default:[P4]},$$scope:{ctx:t}}}),{c(){ee(e.$$.fragment),n=W(),ee(o.$$.fragment)},m(r,l){Q(e,r,l),I(r,n,l),Q(o,r,l),i=!0},p(r,l){const a={};l&1079&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&1&&(s.class=r[0].type<0&&!r[0].water?"hidden":""),l&1065&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),z(e,r),z(o,r)}}}function N4(t){let e,n;return e=new si({props:{openDelay:100,closeDelay:0,$$slots:{default:[O4]},$$scope:{ctx:t}}}),{c(){ee(e.$$.fragment)},m(o,i){Q(e,o,i),n=!0},p(o,[i]){const r={};i&1087&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){z(e,o)}}}function E4(t,e,n){let o,i,r,l;ae(t,Ze,m=>n(4,o=m)),ae(t,De,m=>n(5,i=m)),ae(t,Pt,m=>n(8,r=m)),ae(t,fo,m=>n(9,l=m));let{data:a={id:0,active:!1,x:0,y:0,type:-1,styling:"",referencePlot:[],mineralSource:!1,disabled:!1,water:!1}}=e,s,{classText:u=""}=e,{canBeUpgraded:f=!1}=e;function c(m,_,h){let b=document.querySelectorAll(".plot_container");if(r==!1){if(a.referencePlot!=null&&a.referencePlot[0]!==null&&_==null&&h==null&&a.referencePlot[1]!==void 0)return c(m,a.referencePlot[0],a.referencePlot[1]);!a.active&&!f?(Ee(fo,l={},l),Ee(Ze,o.visible=!1,o),b.forEach(y=>{y.classList.remove("selected")})):(_!=null&&h!=null?(Ee(Ze,o.x=_,o),Ee(Ze,o.y=h,o)):(Ee(Ze,o.x=a.x,o),Ee(Ze,o.y=a.y,o)),Ee(Ze,o.isMineralSource=a.mineralSource,o),Ee(Ze,o.visible=!0,o),b.forEach(y=>{y.classList.remove("selected")}),_!=null&&h!=null?document.querySelector(`.plot_container[data-x="${_}"][data-y="${h}"]`).classList.add("selected"):document.querySelector(`.plot_container[data-id="${a.id}"]`).classList.add("selected"))}}function d(m){r==!1&&(Ee(De,i.plots[a.x][a.y].type=m,i),Ee(Ze,o.visible=!1,o))}return t.$$set=m=>{"data"in m&&n(0,a=m.data),"classText"in m&&n(1,u=m.classText),"canBeUpgraded"in m&&n(2,f=m.canBeUpgraded)},t.$$.update=()=>{t.$$.dirty&1&&a.type>-1&&n(3,s=ie[a.type])},[a,u,f,s,o,i,c,d]}class R4 extends ye{constructor(e){super(),ve(this,e,E4,N4,fe,{data:0,classText:1,canBeUpgraded:2,changePlotType:7})}get changePlotType(){return this.$$.ctx[7]}}function Uf(t,e,n){const o=t.slice();return o[6]=e[n],o[8]=n,o}function Yf(t,e,n){const o=t.slice();return o[9]=e[n],o}function Xf(t){let e,n,o,i=t[3],r,l,a=Ue(t[2].plots),s=[];for(let c=0;c<a.length;c+=1)s[c]=xf(Uf(t,a,c));const u=c=>S(s[c],1,1,()=>{s[c]=null});let f=Qf(t);return{c(){e=M("div"),n=M("div");for(let c=0;c<s.length;c+=1)s[c].c();o=W(),f.c(),r=Re(),O(n,"class","grid overflow-x-scroll overflow-y-scroll plot_controller svelte-12aovn0"),O(e,"id","plotContainerMain"),O(e,"class","absolute left-[170px] top-[170px] overflow-scroll pl-32 pt-32 pb-80 pr-80")},m(c,d){I(c,e,d),v(e,n);for(let m=0;m<s.length;m+=1)s[m]&&s[m].m(n,null);I(c,o,d),f.m(c,d),I(c,r,d),l=!0},p(c,d){if(d&7){a=Ue(c[2].plots);let m;for(m=0;m<a.length;m+=1){const _=Uf(c,a,m);s[m]?(s[m].p(_,d),C(s[m],1)):(s[m]=xf(_),s[m].c(),C(s[m],1),s[m].m(n,null))}for(Ie(),m=a.length;m<s.length;m+=1)u(m);Me()}d&8&&fe(i,i=c[3])?(Ie(),S(f,1,1,Ae),Me(),f=Qf(c),f.c(),C(f,1),f.m(r.parentNode,r)):f.p(c,d)},i(c){if(!l){for(let d=0;d<a.length;d+=1)C(s[d]);C(f),l=!0}},o(c){s=s.filter(Boolean);for(let d=0;d<s.length;d+=1)S(s[d]);S(f),l=!1},d(c){c&&(T(e),T(o),T(r)),wt(s,c),f.d(c)}}}function Jf(t){let e,n;return e=new R4({props:{classText:"hexagon",data:t[9],canBeUpgraded:t[0](t[9].x,t[9].y)}}),{c(){ee(e.$$.fragment)},m(o,i){Q(e,o,i),n=!0},p(o,i){const r={};i&4&&(r.data=o[9]),i&4&&(r.canBeUpgraded=o[0](o[9].x,o[9].y)),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){z(e,o)}}}function xf(t){let e,n,o,i,r,l=Ue(t[6]),a=[];for(let u=0;u<l.length;u+=1)a[u]=Jf(Yf(t,l,u));const s=u=>S(a[u],1,1,()=>{a[u]=null});return{c(){e=M("div");for(let u=0;u<a.length;u+=1)a[u].c();n=W(),O(e,"class","row "+(t[8]%2!==0?"odd-row":"")+" svelte-12aovn0")},m(u,f){I(u,e,f);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(e,null);v(e,n),o=!0,i||(r=te(e,"click",t[1]),i=!0)},p(u,f){if(f&5){l=Ue(u[6]);let c;for(c=0;c<l.length;c+=1){const d=Yf(u,l,c);a[c]?(a[c].p(d,f),C(a[c],1)):(a[c]=Jf(d),a[c].c(),C(a[c],1),a[c].m(e,n))}for(Ie(),c=l.length;c<a.length;c+=1)s(c);Me()}},i(u){if(!o){for(let f=0;f<l.length;f+=1)C(a[f]);o=!0}},o(u){a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)S(a[f]);o=!1},d(u){u&&T(e),wt(a,u),i=!1,r()}}}function Zf(t){let e,n;return e=new Xd({props:{x:t[4].x,y:t[4].y,open:t[4].visible}}),{c(){ee(e.$$.fragment)},m(o,i){Q(e,o,i),n=!0},p(o,i){const r={};i&16&&(r.x=o[4].x),i&16&&(r.y=o[4].y),i&16&&(r.open=o[4].visible),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){z(e,o)}}}function Qf(t){let e,n,o=t[4].visible&&Zf(t);return{c(){o&&o.c(),e=Re()},m(i,r){o&&o.m(i,r),I(i,e,r),n=!0},p(i,r){i[4].visible?o?(o.p(i,r),r&16&&C(o,1)):(o=Zf(i),o.c(),C(o,1),o.m(e.parentNode,e)):o&&(Ie(),S(o,1,1,()=>{o=null}),Me())},i(i){n||(C(o),n=!0)},o(i){S(o),n=!1},d(i){i&&T(e),o&&o.d(i)}}}function D4(t){let e,n,o=t[2]!=null&&Xf(t);return{c(){o&&o.c(),e=Re()},m(i,r){o&&o.m(i,r),I(i,e,r),n=!0},p(i,[r]){i[2]!=null?o?(o.p(i,r),r&4&&C(o,1)):(o=Xf(i),o.c(),C(o,1),o.m(e.parentNode,e)):o&&(Ie(),S(o,1,1,()=>{o=null}),Me())},i(i){n||(C(o),n=!0)},o(i){S(o),n=!1},d(i){i&&T(e),o&&o.d(i)}}}function L4(t,e,n){let o,i,r;ae(t,fo,u=>n(3,o=u)),ae(t,De,u=>n(2,i=u)),ae(t,Ze,u=>n(4,r=u)),document.addEventListener("click",function(u){const f=u.target;(f.dataset.x==null&&f.dataset.type!="-1"&&f.dataset.size!=null||f.id=="plotContainerMain"||f.classList.contains("row")||f.classList.contains("grid"))&&Ee(Ze,r.visible=!1,r)});function l(u,f){let c={x:u,y:f};return c.x===0&&c.y===0?!0:[{x:c.x-1,y:c.y},{x:c.x+1,y:c.y},{x:c.x,y:c.y-1},{x:c.x,y:c.y+1}].some(m=>m.x<0||m.x>=i.plots.length||m.y<0||m.y>=i.plots[m.x].length?!1:i.plots[m.x][m.y].active)}function a(){let u=[];for(let f=0;f<i.plots.length;f++)for(let c=0;c<i.plots.length;c++)l(f,c)&&i.plots[f][c].active==!1&&u.push(i.plots[f][c])}function s(){Ee(fo,o={},o)}return t.$$.update=()=>{t.$$.dirty&4&&i&&a()},[l,s,i,o,r]}class F4 extends ye{constructor(e){super(),ve(this,e,L4,D4,fe,{checkIfPlotCanBeUpgraded:0,restartModifyPlotMenu:1})}get checkIfPlotCanBeUpgraded(){return this.$$.ctx[0]}get restartModifyPlotMenu(){return this.$$.ctx[1]}}function zf(t,e,n){const o=t.slice();return o[2]=e[n],o}function ec(t){let e;return{c(){e=M("span"),e.textContent="No alerts in the last 30d",O(e,"class","text-sm italic text-center opacity-70")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function tc(t){let e,n=t[2]+"",o,i,r;return{c(){e=M("p"),o=G(n),i=W(),r=M("br"),O(e,"class","text-xs")},m(l,a){I(l,e,a),v(e,o),I(l,i,a),I(l,r,a)},p(l,a){a&2&&n!==(n=l[2]+"")&&se(o,n)},d(l){l&&(T(e),T(i),T(r))}}}function q4(t){let e,n,o,i,r,l,a,s,u=t[1].townLog==""&&ec(),f=Ue(t[1].townLog.split(`
`)),c=[];for(let d=0;d<f.length;d+=1)c[d]=tc(zf(t,f,d));return{c(){e=M("div"),n=M("div"),o=M("h1"),o.textContent="Alerts",i=W(),u&&u.c(),r=W();for(let d=0;d<c.length;d+=1)c[d].c();l=W(),a=M("ul"),a.innerHTML="",O(o,"class","text-xl w-full pb-2 text-center "),O(a,"class","list-disc pl-5 gap-2 flex flex-col text-xs "),O(n,"class",s="bg-foreground w-[160px] border-foregroundDark border-4 "+(t[0].visible?"bottom-8  opacity-70":"bottom-2")+" z-10 fixed left-3 p-3 top-[190px] drop-shadow-xl rounded-xl transition-all duration-300"),O(e,"class","flex flex-row text-foregroundText")},m(d,m){I(d,e,m),v(e,n),v(n,o),v(n,i),u&&u.m(n,null),v(n,r);for(let _=0;_<c.length;_+=1)c[_]&&c[_].m(n,null);v(n,l),v(n,a)},p(d,[m]){if(d[1].townLog==""?u||(u=ec(),u.c(),u.m(n,r)):u&&(u.d(1),u=null),m&2){f=Ue(d[1].townLog.split(`
`));let _;for(_=0;_<f.length;_+=1){const h=zf(d,f,_);c[_]?c[_].p(h,m):(c[_]=tc(h),c[_].c(),c[_].m(n,l))}for(;_<c.length;_+=1)c[_].d(1);c.length=f.length}m&1&&s!==(s="bg-foreground w-[160px] border-foregroundDark border-4 "+(d[0].visible?"bottom-8  opacity-70":"bottom-2")+" z-10 fixed left-3 p-3 top-[190px] drop-shadow-xl rounded-xl transition-all duration-300")&&O(n,"class",s)},i:Ae,o:Ae,d(d){d&&T(e),u&&u.d(),wt(c,d)}}}function j4(t,e,n){let o,i;return ae(t,Ze,r=>n(0,o=r)),ae(t,De,r=>n(1,i=r)),[o,i]}class B4 extends ye{constructor(e){super(),ve(this,e,j4,q4,fe,{})}}function nc(t,e,n){const o=t.slice();return o[5]=e[n],o}function oc(t){let e,n;return e=new j1({props:{thumb:t[5],class:"block h-5 w-5 rounded-full border-2 border-primary bg-accent ring-accent transition-colors focus-visible:outline-none  disabled:pointer-events-none disabled:opacity-50"}}),{c(){ee(e.$$.fragment)},m(o,i){Q(e,o,i),n=!0},p(o,i){const r={};i&16&&(r.thumb=o[5]),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){z(e,o)}}}function G4(t){let e,n,o,i,r;n=new E1({props:{class:"absolute h-full bg-primary"}});let l=Ue(t[4]),a=[];for(let u=0;u<l.length;u+=1)a[u]=oc(nc(t,l,u));const s=u=>S(a[u],1,1,()=>{a[u]=null});return{c(){e=M("span"),ee(n.$$.fragment),o=W();for(let u=0;u<a.length;u+=1)a[u].c();i=Re(),O(e,"class","relative h-2 w-full grow overflow-hidden rounded-full bg-textPrimary")},m(u,f){I(u,e,f),Q(n,e,null),I(u,o,f);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(u,f);I(u,i,f),r=!0},p(u,f){if(f&16){l=Ue(u[4]);let c;for(c=0;c<l.length;c+=1){const d=nc(u,l,c);a[c]?(a[c].p(d,f),C(a[c],1)):(a[c]=oc(d),a[c].c(),C(a[c],1),a[c].m(i.parentNode,i))}for(Ie(),c=l.length;c<a.length;c+=1)s(c);Me()}},i(u){if(!r){C(n.$$.fragment,u);for(let f=0;f<l.length;f+=1)C(a[f]);r=!0}},o(u){S(n.$$.fragment,u),a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)S(a[f]);r=!1},d(u){u&&(T(e),T(o),T(i)),z(n),wt(a,u)}}}function V4(t){let e,n,o;const i=[{class:Le("relative flex w-full touch-none select-none items-center",t[1])},t[2]];function r(a){t[3](a)}let l={$$slots:{default:[G4,({thumbs:a})=>({4:a}),({thumbs:a})=>a?16:0]},$$scope:{ctx:t}};for(let a=0;a<i.length;a+=1)l=Y(l,i[a]);return t[0]!==void 0&&(l.value=t[0]),e=new T1({props:l}),Pe.push(()=>Vn(e,"value",r)),{c(){ee(e.$$.fragment)},m(a,s){Q(e,a,s),o=!0},p(a,[s]){const u=s&6?be(i,[s&2&&{class:Le("relative flex w-full touch-none select-none items-center",a[1])},s&4&&it(a[2])]):{};s&272&&(u.$$scope={dirty:s,ctx:a}),!n&&s&1&&(n=!0,u.value=a[0],Gn(()=>n=!1)),e.$set(u)},i(a){o||(C(e.$$.fragment,a),o=!0)},o(a){S(e.$$.fragment,a),o=!1},d(a){z(e,a)}}}function H4(t,e,n){const o=["class","value"];let i=re(e,o),{class:r=void 0}=e,{value:l=[0]}=e;function a(s){l=s,n(0,l)}return t.$$set=s=>{e=Y(Y({},e),Ne(s)),n(2,i=re(e,o)),"class"in s&&n(1,r=s.class),"value"in s&&n(0,l=s.value)},[l,r,i,a]}class ic extends ye{constructor(e){super(),ve(this,e,H4,V4,fe,{class:1,value:0})}}function rc(t,e,n){const o=t.slice();return o[7]=e[n].icon,o[8]=e[n].name,o[9]=e[n].value,o[10]=e[n].rate,o}function lc(t,e,n){const o=t.slice();return o[13]=e[n],o}function W4(t){let e;return{c(){e=M("div"),e.innerHTML=`Resources are generated from plots. Generation rate can be increased
            by raising the productivity of the town, at the cost of some
            happiness.
            <br/> <br/>
            There is also a slight bit of randomness as townspeople aren&#39;t robots.`,O(e,"class","text-sm")},m(n,o){I(n,e,o)},p:Ae,d(n){n&&T(e)}}}function $4(t){let e,n,o,i;return o=new li({props:{class:"text-sm w-[200px]",$$slots:{default:[W4]},$$scope:{ctx:t}}}),{c(){e=M("div"),e.innerHTML='<h1 class="text-xl w-full text-center">Resources</h1> <button class="text-textPrimary text-sm">â„¹ï¸</button>',n=W(),ee(o.$$.fragment),O(e,"class","flex flex-row items-center pb-2 gap-2")},m(r,l){I(r,e,l),I(r,n,l),Q(o,r,l),i=!0},p(r,l){const a={};l&65536&&(a.$$scope={dirty:l,ctx:r}),o.$set(a)},i(r){i||(C(o.$$.fragment,r),i=!0)},o(r){S(o.$$.fragment,r),i=!1},d(r){r&&(T(e),T(n)),z(o,r)}}}function K4(t){let e,n;return e=new ai({props:{$$slots:{default:[$4]},$$scope:{ctx:t}}}),{c(){ee(e.$$.fragment)},m(o,i){Q(e,o,i),n=!0},p(o,i){const r={};i&65536&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){z(e,o)}}}function U4(t){let e,n,o=t[10]+"",i;return{c(){e=M("span"),n=G("+"),i=G(o),O(e,"class","text-textPrimary")},m(r,l){I(r,e,l),v(e,n),v(e,i)},p(r,l){l&2&&o!==(o=r[10]+"")&&se(i,o)},d(r){r&&T(e)}}}function Y4(t){let e;return{c(){e=M("span")},m(n,o){I(n,e,o)},p:Ae,d(n){n&&T(e)}}}function X4(t){let e,n=t[10]+"",o;return{c(){e=M("span"),o=G(n),O(e,"class","text-textDanger2")},m(i,r){I(i,e,r),v(e,o)},p(i,r){r&2&&n!==(n=i[10]+"")&&se(o,n)},d(i){i&&T(e)}}}function J4(t){let e,n,o=t[10]+"",i;return{c(){e=M("span"),n=G("+"),i=G(o),O(e,"class","text-textHappy")},m(r,l){I(r,e,l),v(e,n),v(e,i)},p(r,l){l&2&&o!==(o=r[10]+"")&&se(i,o)},d(r){r&&T(e)}}}function x4(t){let e;return{c(){e=M("span"),O(e,"class","display-none")},m(n,o){I(n,e,o)},p:Ae,d(n){n&&T(e)}}}function Z4(t){let e,n,o=t[10]+"",i,r;return{c(){e=M("span"),n=G("+"),i=G(o),r=G(" (weekly)"),O(e,"class","")},m(l,a){I(l,e,a),v(e,n),v(e,i),v(e,r)},p(l,a){a&2&&o!==(o=l[10]+"")&&se(i,o)},d(l){l&&T(e)}}}function Q4(t){let e,n=t[10]+"",o,i;return{c(){e=M("span"),o=G(n),i=G(" (weekly)"),O(e,"class","text-textDanger2")},m(r,l){I(r,e,l),v(e,o),v(e,i)},p(r,l){l&2&&n!==(n=r[10]+"")&&se(o,n)},d(r){r&&T(e)}}}function z4(t){let e,n,o=t[10]+"",i,r;return{c(){e=M("span"),n=G("+"),i=G(o),r=G(" (weekly)"),O(e,"class","text-textHappy")},m(l,a){I(l,e,a),v(e,n),v(e,i),v(e,r)},p(l,a){a&2&&o!==(o=l[10]+"")&&se(i,o)},d(l){l&&T(e)}}}function sc(t){let e,n,o,i;return e=new At({}),{c(){ee(e.$$.fragment),n=W(),o=M("span"),o.textContent="Required for",O(o,"class","text-sm font-semibold")},m(r,l){Q(e,r,l),I(r,n,l),I(r,o,l),i=!0},i(r){i||(C(e.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),i=!1},d(r){r&&(T(n),T(o)),z(e,r)}}}function ac(t){let e,n=t[13]+"",o;return{c(){e=M("span"),o=G(n),O(e,"class","text-xs mr-4")},m(i,r){I(i,e,r),v(e,o)},p(i,r){r&2&&n!==(n=i[13]+"")&&se(o,n)},d(i){i&&T(e)}}}function eC(t){let e,n,o=t[7]+"",i,r,l=co(t[8])+"",a,s,u,f=t[5](t[8]).length>0,c,d,m;function _(R,V){return R[10]>0?z4:R[10]<0?Q4:R[10]!=null?Z4:x4}let h=_(t),b=h(t),y=f&&sc(),A=Ue(t[5](t[8])),w=[];for(let R=0;R<A.length;R+=1)w[R]=ac(lc(t,A,R));return{c(){e=M("div"),n=M("span"),i=G(o),r=W(),a=G(l),s=W(),b.c(),u=W(),y&&y.c(),c=W(),d=M("div");for(let R=0;R<w.length;R+=1)w[R].c();O(n,"class","text-md font-bold"),O(d,"class","flex flex-col flex-wrap min-w-full"),O(e,"class","flex flex-col gap-2 whitespace-nowrap min-w-fit")},m(R,V){I(R,e,V),v(e,n),v(n,i),v(n,r),v(n,a),v(e,s),b.m(e,null),v(e,u),y&&y.m(e,null),v(e,c),v(e,d);for(let N=0;N<w.length;N+=1)w[N]&&w[N].m(d,null);m=!0},p(R,V){if((!m||V&2)&&o!==(o=R[7]+"")&&se(i,o),(!m||V&2)&&l!==(l=co(R[8])+"")&&se(a,l),h===(h=_(R))&&b?b.p(R,V):(b.d(1),b=h(R),b&&(b.c(),b.m(e,u))),V&2&&(f=R[5](R[8]).length>0),f?y?V&2&&C(y,1):(y=sc(),y.c(),C(y,1),y.m(e,c)):y&&(Ie(),S(y,1,1,()=>{y=null}),Me()),V&34){A=Ue(R[5](R[8]));let N;for(N=0;N<A.length;N+=1){const H=lc(R,A,N);w[N]?w[N].p(H,V):(w[N]=ac(H),w[N].c(),w[N].m(d,null))}for(;N<w.length;N+=1)w[N].d(1);w.length=A.length}},i(R){m||(C(y),m=!0)},o(R){S(y),m=!1},d(R){R&&T(e),b.d(),y&&y.d(),wt(w,R)}}}function tC(t){let e,n=t[7]+"",o,i,r=t[9]+"",l,a,s,u,f,c;function d(h,b){return h[10]>0?J4:h[10]<0?X4:h[10]==null?Y4:U4}let m=d(t),_=m(t);return f=new li({props:{$$slots:{default:[eC]},$$scope:{ctx:t}}}),{c(){e=M("span"),o=G(n),i=W(),l=G(r),a=W(),_.c(),u=W(),ee(f.$$.fragment),O(e,"class",s="flex flex-row justify-between "+(t[9]<=0?"text-textDanger1 font-semibold":"text-textPrimary"))},m(h,b){I(h,e,b),v(e,o),v(e,i),v(e,l),v(e,a),_.m(e,null),I(h,u,b),Q(f,h,b),c=!0},p(h,b){(!c||b&2)&&n!==(n=h[7]+"")&&se(o,n),(!c||b&2)&&r!==(r=h[9]+"")&&se(l,r),m===(m=d(h))&&_?_.p(h,b):(_.d(1),_=m(h),_&&(_.c(),_.m(e,null))),(!c||b&2&&s!==(s="flex flex-row justify-between "+(h[9]<=0?"text-textDanger1 font-semibold":"text-textPrimary")))&&O(e,"class",s);const y={};b&65538&&(y.$$scope={dirty:b,ctx:h}),f.$set(y)},i(h){c||(C(f.$$.fragment,h),c=!0)},o(h){S(f.$$.fragment,h),c=!1},d(h){h&&(T(e),T(u)),_.d(),z(f,h)}}}function nC(t){let e,n,o;return e=new ai({props:{$$slots:{default:[tC]},$$scope:{ctx:t}}}),{c(){ee(e.$$.fragment),n=W()},m(i,r){Q(e,i,r),I(i,n,r),o=!0},p(i,r){const l={};r&65538&&(l.$$scope={dirty:r,ctx:i}),e.$set(l)},i(i){o||(C(e.$$.fragment,i),o=!0)},o(i){S(e.$$.fragment,i),o=!1},d(i){i&&T(n),z(e,i)}}}function uc(t){let e,n;return e=new si({props:{openDelay:200,closeDelay:0,$$slots:{default:[nC]},$$scope:{ctx:t}}}),{c(){ee(e.$$.fragment)},m(o,i){Q(e,o,i),n=!0},p(o,i){const r={};i&65538&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){z(e,o)}}}function oC(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,_,h=ot(t[0].townInfo.productivity,0)+"",b,y,A,w,R,V,N,H,F,L,X,P=ot(t[0].economyAndLaws.tax_rate*100,0)+"",g,k,E,q,D,K,Z;o=new si({props:{openDelay:200,closeDelay:0,$$slots:{default:[K4]},$$scope:{ctx:t}}});let x=Ue(t[1]),$=[];for(let j=0;j<x.length;j+=1)$[j]=uc(rc(t,x,j));const p=j=>S($[j],1,1,()=>{$[j]=null});return w=new ic({props:{value:[t[0].townInfo.productivity],onValueChange:t[4],min:0,max:200,step:5,class:"cursor-pointer w-full"}}),q=new ic({props:{value:[t[0].economyAndLaws.tax_rate],onValueChange:t[3],min:0,max:1,step:.05,class:"cursor-pointer w-full"}}),{c(){e=M("div"),n=M("div"),ee(o.$$.fragment),i=W(),r=M("div"),l=M("div");for(let j=0;j<$.length;j+=1)$[j].c();a=W(),s=M("div"),u=M("div"),f=M("div"),c=M("span"),c.textContent="Productivity",d=W(),m=M("span"),_=G("("),b=G(h),y=G("%)"),A=W(),ee(w.$$.fragment),R=W(),V=M("div"),N=M("div"),H=M("span"),H.textContent="Tax Rate",F=W(),L=M("span"),X=G("("),g=G(P),k=G("%)"),E=W(),ee(q.$$.fragment),O(n,"class","flex flex-row justify-center"),O(l,"class","flex flex-col text-sm text-nowrap gap-2"),O(c,"class","text-xs"),O(m,"class","text-xs"),O(u,"class","flex flex-col justify-center w-full text-center items-center gap-2"),O(H,"class","text-xs"),O(L,"class","text-xs"),O(V,"class",D="flex flex-col justify-center w-full text-center items-center gap-2 min-h-12 pb-2 rounded-xl "+(t[0].economyAndLaws.tax_rate===0?"bg-textDanger1 animate-pulse font-bold":"")),O(s,"class","flex flex-col gap-6 rounded-xl text-center justify-center"),O(r,"class","flex flex-col justify-between gap-4 text-foregroundText h-full pb-12"),O(e,"class",K="bg-foreground w-[160px] sidebar border-foregroundDark border-4 "+(t[2].visible?"bottom-8 opacity-70":"bottom-2")+" z-10 fixed right-3 top-[190px] rounded-xl p-2 transition-all duration-300")},m(j,J){I(j,e,J),v(e,n),Q(o,n,null),v(e,i),v(e,r),v(r,l);for(let ne=0;ne<$.length;ne+=1)$[ne]&&$[ne].m(l,null);v(r,a),v(r,s),v(s,u),v(u,f),v(f,c),v(f,d),v(f,m),v(m,_),v(m,b),v(m,y),v(u,A),Q(w,u,null),v(s,R),v(s,V),v(V,N),v(N,H),v(N,F),v(N,L),v(L,X),v(L,g),v(L,k),v(V,E),Q(q,V,null),Z=!0},p(j,[J]){const ne={};if(J&65536&&(ne.$$scope={dirty:J,ctx:j}),o.$set(ne),J&34){x=Ue(j[1]);let ke;for(ke=0;ke<x.length;ke+=1){const we=rc(j,x,ke);$[ke]?($[ke].p(we,J),C($[ke],1)):($[ke]=uc(we),$[ke].c(),C($[ke],1),$[ke].m(l,null))}for(Ie(),ke=x.length;ke<$.length;ke+=1)p(ke);Me()}(!Z||J&1)&&h!==(h=ot(j[0].townInfo.productivity,0)+"")&&se(b,h);const U={};J&1&&(U.value=[j[0].townInfo.productivity]),w.$set(U),(!Z||J&1)&&P!==(P=ot(j[0].economyAndLaws.tax_rate*100,0)+"")&&se(g,P);const ue={};J&1&&(ue.value=[j[0].economyAndLaws.tax_rate]),q.$set(ue),(!Z||J&1&&D!==(D="flex flex-col justify-center w-full text-center items-center gap-2 min-h-12 pb-2 rounded-xl "+(j[0].economyAndLaws.tax_rate===0?"bg-textDanger1 animate-pulse font-bold":"")))&&O(V,"class",D),(!Z||J&4&&K!==(K="bg-foreground w-[160px] sidebar border-foregroundDark border-4 "+(j[2].visible?"bottom-8 opacity-70":"bottom-2")+" z-10 fixed right-3 top-[190px] rounded-xl p-2 transition-all duration-300"))&&O(e,"class",K)},i(j){if(!Z){C(o.$$.fragment,j);for(let J=0;J<x.length;J+=1)C($[J]);C(w.$$.fragment,j),C(q.$$.fragment,j),Z=!0}},o(j){S(o.$$.fragment,j),$=$.filter(Boolean);for(let J=0;J<$.length;J+=1)S($[J]);S(w.$$.fragment,j),S(q.$$.fragment,j),Z=!1},d(j){j&&T(e),z(o),wt($,j),z(w),z(q)}}}function iC(t){return["food","wood","stone","metal","power","knowledge"].includes(t)}function rC(t,e,n){let o,i;ae(t,De,f=>n(0,o=f)),ae(t,Ze,f=>n(2,i=f));function r(f){let c=o;c.economyAndLaws.tax_rate=ot(f[0],2),De.set(c),localStorage.setItem(Lt,JSON.stringify(c))}function l(f){let c=o;c.townInfo.productivity=ot(f[0],2),De.set(c),localStorage.setItem(Lt,JSON.stringify(c))}let a=[];function s(f){let c=[];for(let d=0;d<ie.length;d++)(f!="knowledge"&&ie[d].requirements.resources[f]>0||f=="power"&&ie[d].active_costs.power>0||f=="knowledge"&&ie[d].requirements.knowledge>0)&&c.push(ie[d].title);return c}function u(f){return iC(f)?s(f):[]}return t.$$.update=()=>{t.$$.dirty&1&&n(1,a=[{icon:"ðŸ¥•",name:"food",value:o.resources.food,rate:o.resource_rate.food},{icon:"ðŸªµ",name:"wood",value:o.resources.wood,rate:o.resource_rate.wood},{icon:"ðŸª¨",name:"stone",value:o.resources.stone,rate:o.resource_rate.stone},{icon:"ðŸ§ ",name:"knowledge",value:o.townInfo.knowledge_points,rate:o.resource_rate.knowledge},{icon:"ðŸ§²",name:"metal",value:o.resources.metal,rate:o.resource_rate.metal},{icon:"ðŸ”‹",name:"power",value:o.resources.power+" (surplus)",rate:null},{icon:"ðŸ§‘â€âš–ï¸",name:"bureaucracy",value:o.resources.bureaucracy,rate:o.resource_rate.bureaucracy}])},[o,a,i,r,l,u]}class lC extends ye{constructor(e){super(),ve(this,e,rC,oC,fe,{})}}function sC(t){let e,n,o,i,r,l,a,s,u,f,c,d,m;return o=new m4({}),l=new B4({}),s=new F4({}),f=new lC({}),d=new Xd({}),{c(){e=M("div"),n=M("div"),ee(o.$$.fragment),i=W(),r=M("div"),ee(l.$$.fragment),a=W(),ee(s.$$.fragment),u=W(),ee(f.$$.fragment),c=W(),ee(d.$$.fragment),O(r,"class","flex flex-row text-foregroundText"),O(e,"class","flex flex-col max-h-[100%] justify-between")},m(_,h){I(_,e,h),v(e,n),Q(o,n,null),v(e,i),v(e,r),Q(l,r,null),v(r,a),Q(s,r,null),v(r,u),Q(f,r,null),v(r,c),Q(d,r,null),m=!0},p:Ae,i(_){m||(C(o.$$.fragment,_),C(l.$$.fragment,_),C(s.$$.fragment,_),C(f.$$.fragment,_),C(d.$$.fragment,_),m=!0)},o(_){S(o.$$.fragment,_),S(l.$$.fragment,_),S(s.$$.fragment,_),S(f.$$.fragment,_),S(d.$$.fragment,_),m=!1},d(_){_&&T(e),z(o),z(l),z(s),z(f),z(d)}}}function aC(t,e,n){return ae(t,De,o=>n(0,o)),[]}class uC extends ye{constructor(e){super(),ve(this,e,aC,sC,fe,{})}}function fC(t){let e;return{c(){e=G("Welcome to Plots!")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function cC(t){let e,n,o,i,r=t[0].townInfo.name+"",l,a,s,u,f,c,d,m,_,h,b,y,A,w,R,V,N,H,F,L,X,P,g,k,E,q,D,K,Z,x;return m=new At({props:{class:"bg-white mt-2 mb-1"}}),y=new At({props:{class:"bg-white mt-2 mb-1"}}),V=new At({props:{class:"bg-white mt-2 mb-1"}}),L=new At({props:{class:"bg-white mt-2 mb-1"}}),{c(){e=M("div"),n=M("p"),o=G(`You come across a large amount of land, and you decide to start a
            town called `),i=M("span"),l=G(r),a=G("."),s=W(),u=M("div"),f=M("p"),f.textContent="To run a successful town, you will need to have:",c=W(),d=M("ul"),ee(m.$$.fragment),_=W(),h=M("li"),h.textContent=`ðŸ‘¥ People - build homes and they will stay as long as they are
                happy.`,b=W(),ee(y.$$.fragment),A=W(),w=M("li"),w.textContent=`ðŸªµ Resources - generated by some plots and used to build others.
                some plots require sustained weekly resources (such as needing
                wood to heat homes)`,R=W(),ee(V.$$.fragment),N=W(),H=M("li"),H.textContent=`ðŸ’° Gold - generated by plots through tax revenue. most plots
                make the town some amount of money but some cost a lot to
                operate.`,F=W(),ee(L.$$.fragment),X=W(),P=M("p"),P.innerHTML=`The town&#39;s key metrics are <span class="font-bold text-textHappyDark">Happiness</span>
            and <span class="font-bold text-textHappyDark">Health</span>, shown
            in the top-left corner.`,g=W(),k=M("p"),k.textContent=`These metrics are affected by the plots you build. Some plots may
            not always increase happiness, and some could even be harmful enough
            to tear down an otherwise great town.`,E=W(),q=M("p"),q.textContent="Be cautious and make sure to hover over plots before you buy them.",D=W(),K=M("img"),O(i,"class","font-bold text-accent"),O(d,"class","list-desc"),em(K.src,Z="welcome_example_plot.png")||O(K,"src",Z),O(K,"class","max-w-[60%] object-fit"),O(e,"class","flex flex-col gap-3 max-h-[50vh] overflow-y-scroll")},m($,p){I($,e,p),v(e,n),v(n,o),v(n,i),v(i,l),v(i,a),v(e,s),v(e,u),v(u,f),v(u,c),v(u,d),Q(m,d,null),v(d,_),v(d,h),v(d,b),Q(y,d,null),v(d,A),v(d,w),v(d,R),Q(V,d,null),v(d,N),v(d,H),v(d,F),Q(L,d,null),v(e,X),v(e,P),v(e,g),v(e,k),v(e,E),v(e,q),v(e,D),v(e,K),x=!0},p($,p){(!x||p&1)&&r!==(r=$[0].townInfo.name+"")&&se(l,r)},i($){x||(C(m.$$.fragment,$),C(y.$$.fragment,$),C(V.$$.fragment,$),C(L.$$.fragment,$),x=!0)},o($){S(m.$$.fragment,$),S(y.$$.fragment,$),S(V.$$.fragment,$),S(L.$$.fragment,$),x=!1},d($){$&&T(e),z(m),z(y),z(V),z(L)}}}function dC(t){let e,n,o,i;return e=new is({props:{class:"",$$slots:{default:[fC]},$$scope:{ctx:t}}}),o=new as({props:{$$slots:{default:[cC]},$$scope:{ctx:t}}}),{c(){ee(e.$$.fragment),n=W(),ee(o.$$.fragment)},m(r,l){Q(e,r,l),I(r,n,l),Q(o,r,l),i=!0},p(r,l){const a={};l&524288&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&524289&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),z(e,r),z(o,r)}}}function mC(t){let e;return{c(){e=G("Get started")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function pC(t){let e,n;return e=new md({props:{class:"bg-button rounded-2xl text-foregroundText px-4 py-2 hover:rounded-lg transition-all duration-300",$$slots:{default:[mC]},$$scope:{ctx:t}}}),e.$on("click",t[5]),{c(){ee(e.$$.fragment)},m(o,i){Q(e,o,i),n=!0},p(o,i){const r={};i&524288&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){z(e,o)}}}function hC(t){let e,n,o,i;return e=new ls({props:{$$slots:{default:[dC]},$$scope:{ctx:t}}}),o=new rs({props:{$$slots:{default:[pC]},$$scope:{ctx:t}}}),{c(){ee(e.$$.fragment),n=W(),ee(o.$$.fragment)},m(r,l){Q(e,r,l),I(r,n,l),Q(o,r,l),i=!0},p(r,l){const a={};l&524289&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&524288&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),z(e,r),z(o,r)}}}function _C(t){let e,n;return e=new ss({props:{class:"bg-foregroundDark text-foregroundText",$$slots:{default:[hC]},$$scope:{ctx:t}}}),{c(){ee(e.$$.fragment)},m(o,i){Q(e,o,i),n=!0},p(o,i){const r={};i&524289&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){z(e,o)}}}function gC(t){let e,n;return e=new us({props:{open:t[1],$$slots:{default:[_C]},$$scope:{ctx:t}}}),{c(){ee(e.$$.fragment)},m(o,i){Q(e,o,i),n=!0},p(o,[i]){const r={};i&2&&(r.open=o[1]),i&524289&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){z(e,o)}}}function bC(t,e,n){let o,i,r,l;ae(t,nn,m=>n(7,o=m)),ae(t,De,m=>n(0,i=m)),ae(t,er,m=>n(4,r=m)),ae(t,pl,m=>n(1,l=m)),pt[i.endGoal],Kl[i.difficulty],ze.sort((m,_)=>f(m.id)&&!f(_.id)?-1:!f(m.id)&&f(_.id)?1:0),ze.filter(m=>f(m.id));function s(m){const _=o.achievements.find(h=>h[0]==m);return _==null?!1:_[3]}let u=ze;function f(m){return o.achievements==null?!1:o.achievements.find(_=>_[0]==m)!=null}function c(){er.update(m=>!m),localStorage.setItem("showCompletedAchievements",localStorage.getItem("showCompletedAchievements")==="true"?"false":"true")}localStorage.getItem("pauseMenuTab")==null&&(localStorage.setItem("pauseMenuTab","game"),Ac.set("game"));const d=()=>{pl.set(!1)};return t.$$.update=()=>{if(t.$$.dirty&25&&i)if(r)n(3,u=ze);else{n(3,u=[]);for(let m=0;m<ze.length;m++)(!f(ze[m].id)||!s(ze[m].id))&&u.push(ze[m])}},[i,l,c,u,r,d]}class vC extends ye{constructor(e){super(),ve(this,e,bC,gC,fe,{toggleShowCompleted:2})}get toggleShowCompleted(){return this.$$.ctx[2]}}function fc(t){let e,n,o,i;const r=[wC,yC],l=[];function a(s,u){return s[0]==null?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Me(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function yC(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,_,h,b,y=t[2]==!0&&cc();n=new uC({}),i=new wp({}),l=new vy({}),s=new Ky({}),f=new g3({}),d=new B3({});let A=t[0].environment.day==0&&t[3]&&dc();return{c(){y&&y.c(),e=W(),ee(n.$$.fragment),o=W(),ee(i.$$.fragment),r=W(),ee(l.$$.fragment),a=W(),ee(s.$$.fragment),u=W(),ee(f.$$.fragment),c=W(),ee(d.$$.fragment),m=W(),A&&A.c(),_=W(),h=M("style"),h.textContent=`body {
        margin-bottom: 0;
      }
      /* no visible scrollbars */
      #plot_grid::-webkit-scrollbar {
        display: none;
      }

      ::-webkit-scrollbar {
        width: 0px;
        background: transparent; /* make scrollbar transparent */
      }

      /* no scrollbars on firefox either */
      #plot_grid {
        scrollbar-width: none;
      }

      /* no scrollbars for IE/Edge */
      #plot_grid {
        -ms-overflow-style: none;
      }`},m(w,R){y&&y.m(w,R),I(w,e,R),Q(n,w,R),I(w,o,R),Q(i,w,R),I(w,r,R),Q(l,w,R),I(w,a,R),Q(s,w,R),I(w,u,R),Q(f,w,R),I(w,c,R),Q(d,w,R),I(w,m,R),A&&A.m(w,R),I(w,_,R),I(w,h,R),b=!0},p(w,R){w[2]==!0?y?R&4&&C(y,1):(y=cc(),y.c(),C(y,1),y.m(e.parentNode,e)):y&&(Ie(),S(y,1,1,()=>{y=null}),Me()),w[0].environment.day==0&&w[3]?A?R&9&&C(A,1):(A=dc(),A.c(),C(A,1),A.m(_.parentNode,_)):A&&(Ie(),S(A,1,1,()=>{A=null}),Me())},i(w){b||(C(y),C(n.$$.fragment,w),C(i.$$.fragment,w),C(l.$$.fragment,w),C(s.$$.fragment,w),C(f.$$.fragment,w),C(d.$$.fragment,w),C(A),b=!0)},o(w){S(y),S(n.$$.fragment,w),S(i.$$.fragment,w),S(l.$$.fragment,w),S(s.$$.fragment,w),S(f.$$.fragment,w),S(d.$$.fragment,w),S(A),b=!1},d(w){w&&(T(e),T(o),T(r),T(a),T(u),T(c),T(m),T(_),T(h)),y&&y.d(w),z(n,w),z(i,w),z(l,w),z(s,w),z(f,w),z(d,w),A&&A.d(w)}}}function wC(t){let e,n;return e=new Fy({}),{c(){ee(e.$$.fragment)},m(o,i){Q(e,o,i),n=!0},p:Ae,i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){z(e,o)}}}function cc(t){let e,n;return e=new ay({}),{c(){ee(e.$$.fragment)},m(o,i){Q(e,o,i),n=!0},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){z(e,o)}}}function dc(t){let e,n;return e=new vC({}),{c(){ee(e.$$.fragment)},m(o,i){Q(e,o,i),n=!0},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){z(e,o)}}}function kC(t){let e,n,o=(t[1]||t[0]==null)&&fc(t);return{c(){o&&o.c(),e=Re()},m(i,r){o&&o.m(i,r),I(i,e,r),n=!0},p(i,[r]){i[1]||i[0]==null?o?(o.p(i,r),r&3&&C(o,1)):(o=fc(i),o.c(),C(o,1),o.m(e.parentNode,e)):o&&(Ie(),S(o,1,1,()=>{o=null}),Me())},i(i){n||(C(o),n=!0)},o(i){S(o),n=!1},d(i){i&&T(e),o&&o.d(i)}}}function CC(t,e,n){let o,i,r,l,a,s;ae(t,fo,d=>n(6,o=d)),ae(t,Ze,d=>n(7,i=d)),ae(t,Pt,d=>n(2,r=d)),ae(t,De,d=>n(0,l=d)),ae(t,$o,d=>n(8,a=d)),ae(t,pl,d=>n(3,s=d));let u=!1;uy();let f=!1;document.addEventListener("keydown",d=>{if((document.activeElement!=null&&document.activeElement.nodeName==="INPUT"||document.activeElement!=null&&document.activeElement.nodeName=="TEXTAREA")&&d.key!=="Escape")return;switch(d.key.toLowerCase()){case"p":r==!0?Pt.set(!1):(Pt.set(!0),Ee(Ze,i.visible=!1,i));break;case"escape":d.shiftKey?(Ee(Pt,r=!0,r),localStorage.setItem("reset","true"),location.reload(),Ul()):i.visible==!0&&Ee(Ze,i.visible=!1,i);break}});function c(d,m,_){if(f==!0)switch(_){case"up":m-=2;break;case"down":m+=1;break;case"left":d-=2;break;case"right":d+=1;break}d<0?d=0:d>l.plots.length&&(d=l.plots.length),m<0?m=0:m>l.plots.length&&(m=l.plots.length);let h=document.querySelectorAll(".plot_container"),b;if(h.forEach(y=>{y.dataset.x=="$x"&&y.dataset.y=="$y"&&(b=y)}),r==!1){if(b.dataset.canBeUpgraded==="true"?Ee(Ze,i.visible=!0,i):Ee(Ze,i.visible=!1,i),b.dataset.refPlotX!==void 0&&b.dataset.refPlotY!=""?(f=!0,h.forEach(y=>{y.dataset.x==b.dataset.refPlotX&&y.dataset.y==b.dataset.refPlotY&&(b=y,d=parseInt(b.dataset.x),m=parseInt(b.dataset.y))})):f=!1,b.dataset.size!=="1"&&b.dataset.size!==void 0&&(f=!0),Ee(Ze,i.x=d,i),Ee(Ze,i.y=m,i),h.forEach(y=>{y.classList.remove("selected"),y.style.fontWeight=""}),b.classList.add("selected"),f){let y="4px solid #00800045";b.classList.remove("selected"),b.style.borderTop=y,b.style.borderLeft=y,b.style.fontWeight="600",h.forEach(A=>{const w=parseInt(`${A.dataset.x}`),R=parseInt(`${A.dataset.y}`);w==d+1&&R==m&&(A.style.borderLeft=y,A.style.borderBottom=y),w==d&&R==m+1&&(A.style.borderTop=y,A.style.borderRight=y),w==d+1&&R==m+1&&(A.style.borderBottom=y,A.style.borderRight=y)})}b.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),Ee(fo,o={},o)}}return t.$$.update=()=>{t.$$.dirty&1&&(l?(Ee($o,a.visible=!1,a),n(1,u=!0)):(Ee($o,a.visible=!0,a),n(1,u=!1)))},[l,u,r,s,c]}class AC extends ye{constructor(e){super(),ve(this,e,CC,kC,fe,{openPlotMenu:4})}get openPlotMenu(){return this.$$.ctx[4]}}new AC({target:document.getElementById("app")});
