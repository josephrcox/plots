var Jl=Object.defineProperty;var Yl=(t,e,n)=>e in t?Jl(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var st=(t,e,n)=>(Yl(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&o(r)}).observe(document,{childList:!0,subtree:!0});function n(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerPolicy&&(i.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?i.credentials="include":l.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(l){if(l.ep)return;l.ep=!0;const i=n(l);fetch(l.href,i)}})();function pe(){}const _n=t=>t;function G(t,e){for(const n in e)t[n]=e[n];return t}function Ui(t){return t()}function uo(){return Object.create(null)}function Ne(t){t.forEach(Ui)}function lt(t){return typeof t=="function"}function te(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Xl(t){return Object.keys(t).length===0}function Kn(t,...e){if(t==null){for(const o of e)o(void 0);return pe}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Ki(t){let e;return Kn(t,n=>e=n)(),e}function le(t,e,n){t.$$.on_destroy.push(Kn(e,n))}function me(t,e,n,o){if(t){const l=Hi(t,e,n,o);return t[0](l)}}function Hi(t,e,n,o){return t[1]&&o?G(n.ctx.slice(),t[1](o(e))):n.ctx}function he(t,e,n,o){if(t[2]&&o){const l=t[2](o(n));if(e.dirty===void 0)return l;if(typeof l=="object"){const i=[],r=Math.max(e.dirty.length,l.length);for(let a=0;a<r;a+=1)i[a]=e.dirty[a]|l[a];return i}return e.dirty|l}return e.dirty}function _e(t,e,n,o,l,i){if(l){const r=Hi(e,n,o,i);t.p(r,l)}}function ge(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let o=0;o<n;o++)e[o]=-1;return e}return-1}function Te(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function z(t,e){const n={};e=new Set(e);for(const o in t)!e.has(o)&&o[0]!=="$"&&(n[o]=t[o]);return n}function de(t,e,n){return t.set(n),e}function Ue(t){return t&&lt(t.destroy)?t.destroy:pe}function fo(t){const e=typeof t=="string"&&t.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[t,"px"]}const Ji=typeof window<"u";let Hn=Ji?()=>window.performance.now():()=>Date.now(),Jn=Ji?t=>requestAnimationFrame(t):pe;const At=new Set;function Yi(t){At.forEach(e=>{e.c(t)||(At.delete(e),e.f())}),At.size!==0&&Jn(Yi)}function Yn(t){let e;return At.size===0&&Jn(Yi),{promise:new Promise(n=>{At.add(e={c:t,f:n})}),abort(){At.delete(e)}}}function y(t,e){t.appendChild(e)}function Xi(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function Zl(t){const e=F("style");return e.textContent="/* empty */",Ql(Xi(t),e),e.sheet}function Ql(t,e){return y(t.head||t,e),e.sheet}function E(t,e,n){t.insertBefore(e,n||null)}function N(t){t.parentNode&&t.parentNode.removeChild(t)}function kt(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function F(t){return document.createElement(t)}function Xn(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function j(t){return document.createTextNode(t)}function K(){return j(" ")}function Ee(){return j("")}function H(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function R(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}const $l=["width","height"];function re(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const o in e)e[o]==null?t.removeAttribute(o):o==="style"?t.style.cssText=e[o]:o==="__value"?t.value=t[o]=e[o]:n[o]&&n[o].set&&$l.indexOf(o)===-1?t[o]=e[o]:R(t,o,e[o])}function rn(t,e){for(const n in e)R(t,n,e[n])}function zl(t,e){Object.keys(e).forEach(n=>{xl(t,n,e[n])})}function xl(t,e,n){const o=e.toLowerCase();o in t?t[o]=typeof t[o]=="boolean"&&n===""?!0:n:e in t?t[e]=typeof t[e]=="boolean"&&n===""?!0:n:R(t,e,n)}function Et(t){return/-/.test(t)?zl:re}function er(t){return Array.from(t.childNodes)}function ne(t,e){e=""+e,t.data!==e&&(t.data=e)}function gt(t,e){t.value=e??""}function co(t,e,n,o){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,o?"important":"")}function po(t,e,n){for(let o=0;o<t.options.length;o+=1){const l=t.options[o];if(l.__value===e){l.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function Zi(t,e,{bubbles:n=!1,cancelable:o=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:o})}class tr{constructor(e=!1){st(this,"is_svg",!1);st(this,"e");st(this,"n");st(this,"t");st(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,n,o=null){this.e||(this.is_svg?this.e=Xn(n.nodeName):this.e=F(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(e)),this.i(o)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)E(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(N)}}const sn=new Map;let an=0;function nr(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function or(t,e){const n={stylesheet:Zl(e),rules:{}};return sn.set(t,n),n}function un(t,e,n,o,l,i,r,a=0){const s=16.666/o;let u=`{
`;for(let b=0;b<=1;b+=s){const C=e+(n-e)*i(b);u+=b*100+`%{${r(C,1-C)}}
`}const f=u+`100% {${r(n,1-n)}}
}`,c=`__svelte_${nr(f)}_${a}`,p=Xi(t),{stylesheet:h,rules:m}=sn.get(p)||or(p,t);m[c]||(m[c]=!0,h.insertRule(`@keyframes ${c} ${f}`,h.cssRules.length));const _=t.style.animation||"";return t.style.animation=`${_?`${_}, `:""}${c} ${o}ms linear ${l}ms 1 both`,an+=1,c}function fn(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?i=>i.indexOf(e)<0:i=>i.indexOf("__svelte")===-1),l=n.length-o.length;l&&(t.style.animation=o.join(", "),an-=l,an||ir())}function ir(){Jn(()=>{an||(sn.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&N(e)}),sn.clear())})}let Ht;function Wt(t){Ht=t}function Yt(){if(!Ht)throw new Error("Function called outside component initialization");return Ht}function Qi(t){Yt().$$.on_mount.push(t)}function lr(t){Yt().$$.on_destroy.push(t)}function rr(){const t=Yt();return(e,n,{cancelable:o=!1}={})=>{const l=t.$$.callbacks[e];if(l){const i=Zi(e,n,{cancelable:o});return l.slice().forEach(r=>{r.call(t,i)}),!i.defaultPrevented}return!0}}function sr(t,e){return Yt().$$.context.set(t,e),e}function ar(t){return Yt().$$.context.get(t)}function X(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(o=>o.call(this,e))}const St=[],Oe=[];let Pt=[];const On=[],$i=Promise.resolve();let Mn=!1;function zi(){Mn||(Mn=!0,$i.then(xi))}function Zn(){return zi(),$i}function ze(t){Pt.push(t)}function gn(t){On.push(t)}const Cn=new Set;let Ct=0;function xi(){if(Ct!==0)return;const t=Ht;do{try{for(;Ct<St.length;){const e=St[Ct];Ct++,Wt(e),ur(e.$$)}}catch(e){throw St.length=0,Ct=0,e}for(Wt(null),St.length=0,Ct=0;Oe.length;)Oe.pop()();for(let e=0;e<Pt.length;e+=1){const n=Pt[e];Cn.has(n)||(Cn.add(n),n())}Pt.length=0}while(St.length);for(;On.length;)On.pop()();Mn=!1,Cn.clear(),Wt(t)}function ur(t){if(t.fragment!==null){t.update(),Ne(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ze)}}function fr(t){const e=[],n=[];Pt.forEach(o=>t.indexOf(o)===-1?e.push(o):n.push(o)),n.forEach(o=>o()),Pt=e}let Ft;function Qn(){return Ft||(Ft=Promise.resolve(),Ft.then(()=>{Ft=null})),Ft}function yt(t,e,n){t.dispatchEvent(Zi(`${e?"intro":"outro"}${n}`))}const nn=new Set;let xe;function qe(){xe={r:0,c:[],p:xe}}function je(){xe.r||Ne(xe.c),xe=xe.p}function A(t,e){t&&t.i&&(nn.delete(t),t.i(e))}function M(t,e,n,o){if(t&&t.o){if(nn.has(t))return;nn.add(t),xe.c.push(()=>{nn.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}else o&&o()}const $n={duration:0};function bn(t,e,n){const o={direction:"in"};let l=e(t,n,o),i=!1,r,a,s=0;function u(){r&&fn(t,r)}function f(){const{delay:p=0,duration:h=300,easing:m=_n,tick:_=pe,css:b}=l||$n;b&&(r=un(t,0,1,h,p,m,b,s++)),_(0,1);const C=Hn()+p,k=C+h;a&&a.abort(),i=!0,ze(()=>yt(t,!0,"start")),a=Yn(P=>{if(i){if(P>=k)return _(1,0),yt(t,!0,"end"),u(),i=!1;if(P>=C){const W=m((P-C)/h);_(W,1-W)}}return i})}let c=!1;return{start(){c||(c=!0,fn(t),lt(l)?(l=l(o),Qn().then(f)):f())},invalidate(){c=!1},end(){i&&(u(),i=!1)}}}function vn(t,e,n){const o={direction:"out"};let l=e(t,n,o),i=!0,r;const a=xe;a.r+=1;let s;function u(){const{delay:f=0,duration:c=300,easing:p=_n,tick:h=pe,css:m}=l||$n;m&&(r=un(t,1,0,c,f,p,m));const _=Hn()+f,b=_+c;ze(()=>yt(t,!1,"start")),"inert"in t&&(s=t.inert,t.inert=!0),Yn(C=>{if(i){if(C>=b)return h(0,1),yt(t,!1,"end"),--a.r||Ne(a.c),!1;if(C>=_){const k=p((C-_)/c);h(1-k,k)}}return i})}return lt(l)?Qn().then(()=>{l=l(o),u()}):u(),{end(f){f&&"inert"in t&&(t.inert=s),f&&l.tick&&l.tick(1,0),i&&(r&&fn(t,r),i=!1)}}}function cn(t,e,n,o){let i=e(t,n,{direction:"both"}),r=o?0:1,a=null,s=null,u=null,f;function c(){u&&fn(t,u)}function p(m,_){const b=m.b-r;return _*=Math.abs(b),{a:r,b:m.b,d:b,duration:_,start:m.start,end:m.start+_,group:m.group}}function h(m){const{delay:_=0,duration:b=300,easing:C=_n,tick:k=pe,css:P}=i||$n,W={start:Hn()+_,b:m};m||(W.group=xe,xe.r+=1),"inert"in t&&(m?f!==void 0&&(t.inert=f):(f=t.inert,t.inert=!0)),a||s?s=W:(P&&(c(),u=un(t,r,m,b,_,C,P)),m&&k(0,1),a=p(W,b),ze(()=>yt(t,m,"start")),Yn(Y=>{if(s&&Y>s.start&&(a=p(s,b),s=null,yt(t,a.b,"start"),P&&(c(),u=un(t,r,a.b,a.duration,0,C,i.css))),a){if(Y>=a.end)k(r=a.b,1-r),yt(t,a.b,"end"),s||(a.b?c():--a.group.r||Ne(a.group.c)),a=null;else if(Y>=a.start){const d=Y-a.start;r=a.a+a.d*C(d/a.duration),k(r,1-r)}}return!!(a||s)}))}return{run(m){lt(i)?Qn().then(()=>{i=i({direction:m?"in":"out"}),h(m)}):h(m)},end(){c(),a=s=null}}}function Je(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function cr(t,e){t.d(1),e.delete(t.key)}function dr(t,e,n,o,l,i,r,a,s,u,f,c){let p=t.length,h=i.length,m=p;const _={};for(;m--;)_[t[m].key]=m;const b=[],C=new Map,k=new Map,P=[];for(m=h;m--;){const B=c(l,i,m),I=n(B);let L=r.get(I);L?o&&P.push(()=>L.p(B,e)):(L=u(I,B),L.c()),C.set(I,b[m]=L),I in _&&k.set(I,Math.abs(m-_[I]))}const W=new Set,Y=new Set;function d(B){A(B,1),B.m(a,f),r.set(B.key,B),f=B.first,h--}for(;p&&h;){const B=b[h-1],I=t[p-1],L=B.key,q=I.key;B===I?(f=B.first,p--,h--):C.has(q)?!r.has(L)||W.has(L)?d(B):Y.has(q)?p--:k.get(L)>k.get(q)?(Y.add(L),d(B)):(W.add(q),p--):(s(I,r),p--)}for(;p--;){const B=t[p];C.has(B.key)||s(B,r)}for(;h;)d(b[h-1]);return Ne(P),b}function ce(t,e){const n={},o={},l={$$scope:1};let i=t.length;for(;i--;){const r=t[i],a=e[i];if(a){for(const s in r)s in a||(o[s]=1);for(const s in a)l[s]||(n[s]=a[s],l[s]=1);t[i]=a}else for(const s in r)l[s]=1}for(const r in o)r in n||(n[r]=void 0);return n}function Ze(t){return typeof t=="object"&&t!==null?t:{}}function yn(t,e,n){const o=t.$$.props[e];o!==void 0&&(t.$$.bound[o]=n,n(t.$$.ctx[o]))}function $(t){t&&t.c()}function Z(t,e,n){const{fragment:o,after_update:l}=t.$$;o&&o.m(e,n),ze(()=>{const i=t.$$.on_mount.map(Ui).filter(lt);t.$$.on_destroy?t.$$.on_destroy.push(...i):Ne(i),t.$$.on_mount=[]}),l.forEach(ze)}function Q(t,e){const n=t.$$;n.fragment!==null&&(fr(n.after_update),Ne(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function pr(t,e){t.$$.dirty[0]===-1&&(St.push(t),zi(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function se(t,e,n,o,l,i,r=null,a=[-1]){const s=Ht;Wt(t);const u=t.$$={fragment:null,ctx:[],props:i,update:pe,not_equal:l,bound:uo(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(s?s.$$.context:[])),callbacks:uo(),dirty:a,skip_bound:!1,root:e.target||s.$$.root};r&&r(u.root);let f=!1;if(u.ctx=n?n(t,e.props||{},(c,p,...h)=>{const m=h.length?h[0]:p;return u.ctx&&l(u.ctx[c],u.ctx[c]=m)&&(!u.skip_bound&&u.bound[c]&&u.bound[c](m),f&&pr(t,c)),p}):[],u.update(),f=!0,Ne(u.before_update),u.fragment=o?o(u.ctx):!1,e.target){if(e.hydrate){const c=er(e.target);u.fragment&&u.fragment.l(c),c.forEach(N)}else u.fragment&&u.fragment.c();e.intro&&A(t.$$.fragment),Z(t,e.target,e.anchor),xi()}Wt(s)}class ae{constructor(){st(this,"$$");st(this,"$$set")}$destroy(){Q(this,1),this.$destroy=pe}$on(e,n){if(!lt(n))return pe;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const l=o.indexOf(n);l!==-1&&o.splice(l,1)}}$set(e){this.$$set&&!Xl(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const mr="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(mr);const It=[];function wn(t,e){return{subscribe:Ye(t,e).subscribe}}function Ye(t,e=pe){let n;const o=new Set;function l(a){if(te(t,a)&&(t=a,n)){const s=!It.length;for(const u of o)u[1](),It.push(u,t);if(s){for(let u=0;u<It.length;u+=2)It[u][0](It[u+1]);It.length=0}}}function i(a){l(a(t))}function r(a,s=pe){const u=[a,s];return o.add(u),o.size===1&&(n=e(l,i)||pe),a(t),()=>{o.delete(u),o.size===0&&n&&(n(),n=null)}}return{set:l,update:i,subscribe:r}}function kn(t,e,n){const o=!Array.isArray(t),l=o?[t]:t;if(!l.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const i=e.length<2;return wn(n,(r,a)=>{let s=!1;const u=[];let f=0,c=pe;const p=()=>{if(f)return;c();const m=e(o?u[0]:u,r,a);i?r(m):c=lt(m)?m:pe},h=l.map((m,_)=>Kn(m,b=>{u[_]=b,f&=~(1<<_),s&&p()},()=>{f|=1<<_}));return s=!0,p(),function(){Ne(h),c(),s=!1}})}function mo(t){return{subscribe:t.subscribe.bind(t)}}const hr={plots:[],lastChangeDay:0,townLog:"",townInfo:{name:"Your town",gold:1e3,gold_from_tourism:0,population_count:0,population_max:0,employees:0,happiness:150,health:150,knowledge_points:0},hasCityHall:!1,hasBank:!1,modifiers:{happiness:1,health:1},economyAndLaws:{tax_rate:0,max_tax_rate:1,balance_sheet_history:[],last_month_profit:0},plotCounts:[],environment:{day:0,year:1,climate:-1},difficulty:0,endGoal:"land",endGameDetails:null,tick:0},_r={0:"Easy",1:"Normal",2:"Hard"},gr={0:Math.random()*(.5-.3)+.3,1:Math.random()*(.4-.2)+.2,2:Math.random()*(.3-.1)+.1},et="plots_active_game_db";function br(){const t=["Green","River","Mountain","North","South","East","West","Lake","Forest","Spring","Golden","Silver","Crystal","Sun","Moon","Star","Valley","Pine","Maple","Oak","Wild","Misty","Rainbow","Snow","Summer","Autumn","Winter","Thunder","Storm","Crystal","Diamond"],e=["wood","ville","town","field","ford","brook","hill","dale","bury","port","view","crest","meadow","side","grove","haven","crossing","junction","landing","ridge","summit","slope","strand","creek","isle","glen","bay","harbor","glade","peak","plateau"],n=t[Math.floor(Math.random()*t.length)],o=e[Math.floor(Math.random()*e.length)];return`${n}${o}`}let Ie=Ye(JSON.parse(localStorage.getItem(et)||"null"));function vr(t,e,n){let o={...hr};o.economyAndLaws.max_tax_rate=gr[t],console.log(o.economyAndLaws.max_tax_rate),o.endGoal=e;let l=[];n=n.replace(/[^a-zA-Z0-9 ]/g,"").trim(),o.townInfo.name=n!=""?n:br();const i=t=="0"?6:t=="1"?Math.floor(Math.random()*4)+7:t=="2"?Math.floor(Math.random()*9)+12:35;for(let r=0;r<i;r++){l.push([]);for(let a=0;a<i;a++)l[r][a]={id:Math.random().toString(36).substring(2,9),active:!1,x:r,y:a,type:-1}}it.set(!1),o.plots=l,localStorage.reset=!1,localStorage.setItem(et,JSON.stringify(o)),Ie.set(o),location.reload()}function zn(t=null){localStorage.removeItem(et),Ie.set(null),t&&(localStorage.setItem(et,JSON.stringify(t)),Ie.set(t)),location.reload()}let Fe=Ye({visible:!1,x:0,y:0}),Vt=Ye({visible:!1}),Ot=Ye({}),it=Ye(!1),Ln=Ye(!1),Fn=Ye(250),on=Ye(500);Ye(localStorage.getItem("showUnaffordablePlotOptions")==="true");const Re=[{id:"res_small",title:"🏠 Residential (small)",subtitle:"for living",type:"residential",description:"A few basic homes that can hold 16 people.",revenue_per_week:0,requirements:{gold:150,plots:[],employees:0,climate:null,knowledge:0},effect_modifiers:{happiness:1,health:1},immediate_variable_changes:{happiness:0,health:0,population:16},styling:"background-color: #e15f00"},{id:"res_medium",title:"🏘️ Residential (medium)",subtitle:"for living",type:"residential",description:"A few high-density buildings that can hold 64 people.",revenue_per_week:0,requirements:{gold:500,plots:[],employees:0,climate:null,knowledge:0},effect_modifiers:{happiness:1,health:1},immediate_variable_changes:{happiness:0,health:0,population:64},styling:"background-color: #e15f00"},{id:"res_large",title:"🏢 Residential (large)",subtitle:"for living",type:"residential",description:"Many high-density buildings that can hold 256 people.",revenue_per_week:0,requirements:{gold:1500,plots:[],employees:0,climate:null,knowledge:0},effect_modifiers:{happiness:1,health:1},immediate_variable_changes:{happiness:0,health:0,population:256},styling:"background-color: #e15f00"},{id:"cafe",title:"☕️ Small café",subtitle:"for recreation & food",type:"food",description:"Great for eating & relaxing, not great for long-term health.",revenue_per_week:12,requirements:{gold:100,plots:[],employees:16,climate:null,knowledge:0},effect_modifiers:{happiness:1.05,health:.95},immediate_variable_changes:{happiness:5,health:0,population:0},styling:"background-color: #d24646;"},{id:"carrot_farm",title:"🥕 Carrot farm",subtitle:"for farming",type:"farm",description:"Farm for making carrots, makes money by selling them.",revenue_per_week:6,requirements:{gold:25,plots:[],employees:2,climate:null,knowledge:0},effect_modifiers:{happiness:1.05,health:1.1},immediate_variable_changes:{happiness:0,health:0,population:0},styling:"background-color: #008000;"},{id:"apple_orchard",title:"🍎 Apple orchard",subtitle:"for farming",type:"farm",description:"A bunch of trees that make apples, makes money by selling them and by selling apple-related products.",revenue_per_week:8,requirements:{gold:50,plots:[],employees:4,climate:null,knowledge:0},effect_modifiers:{happiness:1.05,health:1.1},immediate_variable_changes:{happiness:0,health:0,population:0},styling:"background-color: #008000;"},{id:"bakery",title:"🥖 Bakery",subtitle:"for baking",type:"farm",description:"Makes money by selling bread.",revenue_per_week:12,requirements:{gold:100,plots:[],employees:3,climate:null,knowledge:0},effect_modifiers:{happiness:1.11,health:.92},immediate_variable_changes:{happiness:25,health:0,population:0},styling:"background-color: #008000;"},{id:"grocery",title:"🏪 Grocery store",subtitle:"for living",type:"food",description:"People get hungry. This is where they go to get food.",revenue_per_week:40,requirements:{gold:320,plots:[],employees:24,climate:null,knowledge:0},effect_modifiers:{happiness:1.05,health:1},immediate_variable_changes:{happiness:15,health:0,population:0},styling:"background-color: #d24646;"},{id:"fishery",title:"🐠 Fishery",subtitle:"for fishing",type:"food",description:"Carve out some land, pour some water, and fish for fun & food.",revenue_per_week:25,requirements:{gold:400,plots:[],employees:9,climate:null,knowledge:0},effect_modifiers:{happiness:1.05,health:1},immediate_variable_changes:{happiness:15,health:0,population:0},styling:"background-color: #d24646;"},{id:"library",title:"📕 Library",subtitle:"for reading",type:"recreation",description:"Reading makes people very happy, but doesn't make money.",revenue_per_week:0,knowledge_points_per_month:1,requirements:{gold:500,plots:[],employees:6,climate:null,knowledge:0},effect_modifiers:{happiness:1.2,health:1},immediate_variable_changes:{happiness:10,health:0,population:0},styling:"background-color: #4169e1;"},{id:"pub",title:"🍻 Pub",subtitle:"for hanging",type:"recreation",description:"Makes money, and somehow generates communal knowledge.",revenue_per_week:50,knowledge_points_per_month:1,requirements:{gold:500,plots:[],employees:6,climate:null,knowledge:0},effect_modifiers:{happiness:1.2,health:.7},immediate_variable_changes:{happiness:10,health:-25,population:0},styling:"background-color: #4169e1;"},{id:"church",title:"⛪️ Church",subtitle:"for worship & community",type:"recreation",description:"This can make some people happy, but doesn't make money.",revenue_per_week:0,requirements:{gold:100,plots:[],employees:0,climate:null,knowledge:0},effect_modifiers:{happiness:1.1,health:1},immediate_variable_changes:{happiness:5,health:0,population:0},styling:"background-color: #4169e1;"},{id:"stables",title:"🐴 Stables",subtitle:"for friends",type:"recreation",description:"People love horses. This makes them happy, and can generate some money through lessons.",revenue_per_week:10,requirements:{gold:220,plots:[],employees:2,climate:null,knowledge:0},effect_modifiers:{happiness:1.1,health:1},immediate_variable_changes:{happiness:5,health:0,population:0},styling:"background-color: #4169e1;"},{id:"blacksmith",title:"⚔️ Blacksmith",subtitle:"for making shiny things",type:"shop",description:"Sometimes problems can only be dealt with by a hunk of metal. Makes money by selling weapons, tools, & armor.",revenue_per_week:50,requirements:{gold:1300,plots:[],employees:13,climate:null,knowledge:0},effect_modifiers:{happiness:.9,health:1.5},immediate_variable_changes:{happiness:0,health:0,population:0},styling:"background-color: #ff00ff;"},{id:"inn",title:"🛌 Village Inn",subtitle:"for a night out",type:"tourism",description:"Generates tourism gold that can be used if you have a bank.",revenue_per_week:0,enables_tourism:!0,tourism_revenue_per_week:15,requirements:{gold:1500,plots:[],employees:14,climate:null,knowledge:0},effect_modifiers:{happiness:.9,health:1},immediate_variable_changes:{happiness:0,health:0,population:0},styling:"background-color: #ff00ff;"},{id:"park_small",title:"🌲 Small park",subtitle:"for bringing your dog, or eating a sandwich",type:"recreation",description:"A few benches and a small grassy area.",revenue_per_week:0,requirements:{gold:80,plots:[],employees:1,climate:null,knowledge:0},effect_modifiers:{happiness:1.01,health:1.07},immediate_variable_changes:{happiness:5,health:0,population:0},styling:"background-color: #ffff00;"},{id:"park_medium",title:"🛝 Medium park",subtitle:"for bringing your dog, or eating a sandwich",type:"recreation",description:"Benches, grass, and a couple of swing-sets.",revenue_per_week:0,requirements:{gold:150,plots:[],employees:2,climate:null,knowledge:0},effect_modifiers:{happiness:1.02,health:1.15},immediate_variable_changes:{happiness:10,health:0,population:0},styling:"background-color: #ffff00;"},{id:"park_large",title:"🎪 Large park",subtitle:"for bringing your dog, or eating a sandwich",type:"recreation",description:"Same as the medium park, with a nice fountain in the middle and occasional events run by the employees.",revenue_per_week:0,requirements:{gold:300,plots:[],employees:4,climate:null,size:2,knowledge:0},effect_modifiers:{happiness:1.09,health:1.25},immediate_variable_changes:{happiness:30,health:0,population:0},styling:"background-color: #ffff00;"},{id:"school_small",title:"📚 Small school",subtitle:"for learning",type:"education",description:"A place where children can learn and grow, and where adults can learn new skills. Produces knowledge.",revenue_per_week:0,knowledge_points_per_month:2,requirements:{gold:850,plots:[],employees:20,climate:null,size:1,knowledge:0},effect_modifiers:{happiness:1.05,health:1.1},immediate_variable_changes:{happiness:15,health:3,population:0},styling:"background-color: #4caf50;"},{id:"school_large",title:"🚌 Large school",subtitle:"for learning",type:"education",description:"A larger school. Produces knowledge",revenue_per_week:0,knowledge_points_per_month:8,requirements:{gold:1300,plots:[],employees:40,climate:null,size:2,knowledge:10},effect_modifiers:{happiness:1.05,health:1},immediate_variable_changes:{happiness:5,health:3,population:0},styling:"background-color: #4caf50;"},{id:"university",title:"🏫 University",subtitle:"for learning",type:"education",description:"The supreme learning institution. Produces knowledge.",revenue_per_week:0,knowledge_points_per_month:25,requirements:{gold:3500,plots:[],employees:64,climate:null,size:2,knowledge:100},effect_modifiers:{happiness:1.25,health:1},immediate_variable_changes:{happiness:25,health:25,population:0},styling:"background-color: #4caf50;"},{id:"small_hospital",title:"🚑 Small hospital",subtitle:"for healing",type:"medical",description:"A great place to get fixed up from minor injuries.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:800,plots:[],employees:8,climate:null,size:1,knowledge:50},effect_modifiers:{happiness:1.25,health:1.5},immediate_variable_changes:{happiness:5,health:50,population:0},styling:"background-color: #ff0000;"},{id:"large_hospital",title:"🏥 Large hospital",subtitle:"for healing",type:"medical",description:"A great place to get fixed up from all injuries.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:4e3,plots:[],employees:64,climate:null,size:1,knowledge:200},effect_modifiers:{happiness:1.25,health:2.5},immediate_variable_changes:{happiness:5,health:75,population:0},styling:"background-color: #ff0000;"},{id:"bank",title:"🏦 Bank",subtitle:"for storing and accessing funds",type:"bank",description:"Rich get richer.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:3e4,plots:[],employees:64,climate:null,size:1,knowledge:300},effect_modifiers:{happiness:.8,health:1},immediate_variable_changes:{happiness:0,health:0,population:0},styling:"background-color: #7b68ee;"},{id:"city-hall",title:"🗳️ City Hall",subtitle:"for bureaucracy",type:"federal",description:"For running the government.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:3e4,plots:[],employees:24,climate:null,size:1,knowledge:500},effect_modifiers:{happiness:.8,health:1},immediate_variable_changes:{happiness:0,health:0,population:0},styling:"background-color: #7b68ee;"}];function yr(t){return t[t.length-1]}function Rn(t){return Object.keys(t).reduce((e,n)=>t[n]===void 0?e:e+`${n}:${t[n]};`,"")}Rn({position:"absolute",opacity:0,"pointer-events":"none",margin:0,transform:"translateX(-100%)"});function ho(t){function e(n){return n(t),()=>{}}return{subscribe:e}}const Qt=t=>new Proxy(t,{get(e,n,o){return Reflect.get(e,n,o)},ownKeys(e){return Reflect.ownKeys(e).filter(n=>n!=="action")}}),_o=t=>typeof t=="function";function nt(t,e){const{stores:n,action:o,returned:l}=e??{},i=(()=>{if(n&&l)return kn(n,a=>{const s=l(a);if(_o(s)){const u=(...f)=>Qt({...s(...f),[`data-melt-${t}`]:"",action:o??De});return u.action=o??De,u}return Qt({...s,[`data-melt-${t}`]:"",action:o??De})});{const a=l,s=a==null?void 0:a();if(_o(s)){const u=(...f)=>Qt({...s(...f),[`data-melt-${t}`]:"",action:o??De});return u.action=o??De,ho(u)}return ho(Qt({...s,[`data-melt-${t}`]:"",action:o??De}))}})(),r=o??(()=>{});return r.subscribe=i.subscribe,r}function wr(t){const e=i=>i?`${t}-${i}`:t,n=i=>`data-melt-${t}${i?`-${i}`:""}`,o=i=>`[data-melt-${t}${i?`-${i}`:""}]`;return{name:e,attribute:n,selector:o,getEl:i=>document.querySelector(o(i))}}const kr=typeof document<"u",el=t=>typeof t=="function";function tl(t){return t instanceof Element}function mt(t){return t instanceof HTMLElement}function Cr(t){return t!==null&&typeof t=="object"}function Ir(t){return Cr(t)&&"subscribe"in t}function Nt(...t){return(...e)=>{for(const n of t)typeof n=="function"&&n(...e)}}function De(){}function ct(t,e,n,o){const l=Array.isArray(e)?e:[e];return l.forEach(i=>t.addEventListener(i,n,o)),()=>{l.forEach(i=>t.removeEventListener(i,n,o))}}function Bt(t,e,n,o){const l=Array.isArray(e)?e:[e];if(typeof n=="function"){const i=Sr(r=>n(r));return l.forEach(r=>t.addEventListener(r,i,o)),()=>{l.forEach(r=>t.removeEventListener(r,i,o))}}return()=>void 0}function Tr(t){const e=t.currentTarget;if(!mt(e))return null;const n=new CustomEvent(`m-${t.type}`,{detail:{originalEvent:t},cancelable:!0});return e.dispatchEvent(n),n}function Sr(t){return e=>{const n=Tr(e);if(!(n!=null&&n.defaultPrevented))return t(e)}}function Ar(t,...e){const n={};for(const o of Object.keys(t))e.includes(o)||(n[o]=t[o]);return n}function Xt(t){return{...t,get:()=>Ki(t)}}Xt.writable=function(t){const e=Ye(t);let n=t;return{subscribe:e.subscribe,set(o){e.set(o),n=o},update(o){const l=o(n);e.set(l),n=l},get(){return n}}};Xt.derived=function(t,e){const n=new Map,o=()=>{const i=Array.isArray(t)?t.map(r=>r.get()):t.get();return e(i)};return{get:o,subscribe:i=>{const r=[];return(Array.isArray(t)?t:[t]).forEach(s=>{r.push(s.subscribe(()=>{i(o())}))}),i(o()),n.set(i,r),()=>{const s=n.get(i);if(s)for(const u of s)u();n.delete(i)}}}};const Pr=(t,e)=>{const n=Xt(t),o=(i,r)=>{n.update(a=>{const s=i(a);let u=s;return e&&(u=e({curr:a,next:s})),r==null||r(u),u})};return{...n,update:o,set:i=>{o(()=>i)}}};function nl(t){return new Promise(e=>setTimeout(e,t))}let Nr="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",Er=(t=21)=>{let e="",n=t;for(;n--;)e+=Nr[Math.random()*64|0];return e};function Or(){return Er(10)}function Mr(t){return t.reduce((e,n)=>(e[n]=Or(),e),{})}const Gt={ALT:"Alt",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",CAPS_LOCK:"CapsLock",CONTROL:"Control",DELETE:"Delete",END:"End",ENTER:"Enter",ESCAPE:"Escape",F1:"F1",F10:"F10",F11:"F11",F12:"F12",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",HOME:"Home",META:"Meta",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp",SHIFT:"Shift",SPACE:" ",TAB:"Tab",CTRL:"Control",ASTERISK:"*",A:"a",P:"p"},ol=()=>typeof window<"u";function Lr(){const t=navigator.userAgentData;return(t==null?void 0:t.platform)??navigator.platform}const il=t=>ol()&&t.test(Lr().toLowerCase()),Fr=()=>ol()&&!!navigator.maxTouchPoints,Rr=()=>il(/^mac/)&&!Fr(),Dr=()=>il(/mac|iphone|ipad|ipod/i),qr=()=>Dr()&&!Rr(),In="data-melt-scroll-lock";function go(t,e){if(!t)return;const n=t.style.cssText;return Object.assign(t.style,e),()=>{t.style.cssText=n}}function jr(t,e,n){if(!t)return;const o=t.style.getPropertyValue(e);return t.style.setProperty(e,n),()=>{o?t.style.setProperty(e,o):t.style.removeProperty(e)}}function Br(t){const e=t.getBoundingClientRect().left;return Math.round(e)+t.scrollLeft?"paddingLeft":"paddingRight"}function Gr(t){const e=t??document,n=e.defaultView??window,{documentElement:o,body:l}=e;if(l.hasAttribute(In))return De;l.setAttribute(In,"");const r=n.innerWidth-o.clientWidth,a=()=>jr(o,"--scrollbar-width",`${r}px`),s=Br(o),u=n.getComputedStyle(l)[s],f=()=>go(l,{overflow:"hidden",[s]:`calc(${u} + ${r}px)`}),c=()=>{const{scrollX:h,scrollY:m,visualViewport:_}=n,b=(_==null?void 0:_.offsetLeft)??0,C=(_==null?void 0:_.offsetTop)??0,k=go(l,{position:"fixed",overflow:"hidden",top:`${-(m-Math.floor(C))}px`,left:`${-(h-Math.floor(b))}px`,right:"0",[s]:`calc(${u} + ${r}px)`});return()=>{k==null||k(),n.scrollTo(h,m)}},p=[a(),qr()?c():f()];return()=>{p.forEach(h=>h==null?void 0:h()),l.removeAttribute(In)}}const Wr=t=>{try{lr(t)}catch{return t}};function _t(t,e){let n;const o=kn(t,i=>{n==null||n(),n=e(i)}).subscribe(De),l=()=>{o(),n==null||n()};return Wr(l),l}function Dn(t){const e={};return Object.keys(t).forEach(n=>{const o=n,l=t[o];e[o]=Xt(Ye(l))}),e}function Vr(t){let e=t.parentElement;for(;mt(e)&&!e.hasAttribute("data-portal");)e=e.parentElement;return e||"body"}function Ur(t,e){const n=Vr(t);return e!==void 0?e:n==="body"?document.body:null}async function bo(t){const{prop:e,defaultEl:n}=t;if(await Promise.all([nl(1),Zn]),e===void 0){n==null||n.focus();return}const o=el(e)?e(n):e;if(typeof o=="string"){const l=document.querySelector(o);if(!mt(l))return;l.focus()}else mt(o)&&o.focus()}wn(void 0,t=>{function e(o){t(o),t(void 0)}return ct(document,"pointerup",e,{passive:!1,capture:!0})});const Kr=wn(void 0,t=>{function e(o){o&&o.key===Gt.ESCAPE&&t(o),t(void 0)}return ct(document,"keydown",e,{passive:!1})}),vo=(t,e={})=>{let n=De;function o(l={}){n();const i={enabled:!0,...l},r=Ir(i.enabled)?i.enabled:wn(i.enabled);n=Nt(Kr.subscribe(a=>{var u;if(!a||!Ki(r))return;const s=a.target;if(!(!mt(s)||s.closest("[data-escapee]")!==t)){if(a.preventDefault(),i.ignore){if(el(i.ignore)){if(i.ignore(a))return}else if(Array.isArray(i.ignore)&&i.ignore.length>0&&i.ignore.some(f=>f&&s===f))return}(u=i.handler)==null||u.call(i,a)}}),_t(r,a=>{a?t.dataset.escapee="":delete t.dataset.escapee}))}return o(e),{update:o,destroy(){t.removeAttribute("data-escapee"),n()}}};/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var ll=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],dn=ll.join(","),rl=typeof Element>"u",wt=rl?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,pn=!rl&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},mn=function t(e,n){var o;n===void 0&&(n=!0);var l=e==null||(o=e.getAttribute)===null||o===void 0?void 0:o.call(e,"inert"),i=l===""||l==="true",r=i||n&&e&&t(e.parentNode);return r},Hr=function(e){var n,o=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"contenteditable");return o===""||o==="true"},sl=function(e,n,o){if(mn(e))return[];var l=Array.prototype.slice.apply(e.querySelectorAll(dn));return n&&wt.call(e,dn)&&l.unshift(e),l=l.filter(o),l},al=function t(e,n,o){for(var l=[],i=Array.from(e);i.length;){var r=i.shift();if(!mn(r,!1))if(r.tagName==="SLOT"){var a=r.assignedElements(),s=a.length?a:r.children,u=t(s,!0,o);o.flatten?l.push.apply(l,u):l.push({scopeParent:r,candidates:u})}else{var f=wt.call(r,dn);f&&o.filter(r)&&(n||!e.includes(r))&&l.push(r);var c=r.shadowRoot||typeof o.getShadowRoot=="function"&&o.getShadowRoot(r),p=!mn(c,!1)&&(!o.shadowRootFilter||o.shadowRootFilter(r));if(c&&p){var h=t(c===!0?r.children:c.children,!0,o);o.flatten?l.push.apply(l,h):l.push({scopeParent:r,candidates:h})}else i.unshift.apply(i,r.children)}}return l},ul=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},bt=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||Hr(e))&&!ul(e)?0:e.tabIndex},Jr=function(e,n){var o=bt(e);return o<0&&n&&!ul(e)?0:o},Yr=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},fl=function(e){return e.tagName==="INPUT"},Xr=function(e){return fl(e)&&e.type==="hidden"},Zr=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(o){return o.tagName==="SUMMARY"});return n},Qr=function(e,n){for(var o=0;o<e.length;o++)if(e[o].checked&&e[o].form===n)return e[o]},$r=function(e){if(!e.name)return!0;var n=e.form||pn(e),o=function(a){return n.querySelectorAll('input[type="radio"][name="'+a+'"]')},l;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")l=o(window.CSS.escape(e.name));else try{l=o(e.name)}catch(r){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",r.message),!1}var i=Qr(l,e.form);return!i||i===e},zr=function(e){return fl(e)&&e.type==="radio"},xr=function(e){return zr(e)&&!$r(e)},es=function(e){var n,o=e&&pn(e),l=(n=o)===null||n===void 0?void 0:n.host,i=!1;if(o&&o!==e){var r,a,s;for(i=!!((r=l)!==null&&r!==void 0&&(a=r.ownerDocument)!==null&&a!==void 0&&a.contains(l)||e!=null&&(s=e.ownerDocument)!==null&&s!==void 0&&s.contains(e));!i&&l;){var u,f,c;o=pn(l),l=(u=o)===null||u===void 0?void 0:u.host,i=!!((f=l)!==null&&f!==void 0&&(c=f.ownerDocument)!==null&&c!==void 0&&c.contains(l))}}return i},yo=function(e){var n=e.getBoundingClientRect(),o=n.width,l=n.height;return o===0&&l===0},ts=function(e,n){var o=n.displayCheck,l=n.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var i=wt.call(e,"details>summary:first-of-type"),r=i?e.parentElement:e;if(wt.call(r,"details:not([open]) *"))return!0;if(!o||o==="full"||o==="legacy-full"){if(typeof l=="function"){for(var a=e;e;){var s=e.parentElement,u=pn(e);if(s&&!s.shadowRoot&&l(s)===!0)return yo(e);e.assignedSlot?e=e.assignedSlot:!s&&u!==e.ownerDocument?e=u.host:e=s}e=a}if(es(e))return!e.getClientRects().length;if(o!=="legacy-full")return!0}else if(o==="non-zero-area")return yo(e);return!1},ns=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var o=0;o<n.children.length;o++){var l=n.children.item(o);if(l.tagName==="LEGEND")return wt.call(n,"fieldset[disabled] *")?!0:!l.contains(e)}return!0}n=n.parentElement}return!1},hn=function(e,n){return!(n.disabled||mn(n)||Xr(n)||ts(n,e)||Zr(n)||ns(n))},qn=function(e,n){return!(xr(n)||bt(n)<0||!hn(e,n))},os=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},is=function t(e){var n=[],o=[];return e.forEach(function(l,i){var r=!!l.scopeParent,a=r?l.scopeParent:l,s=Jr(a,r),u=r?t(l.candidates):a;s===0?r?n.push.apply(n,u):n.push(a):o.push({documentOrder:i,tabIndex:s,item:l,isScope:r,content:u})}),o.sort(Yr).reduce(function(l,i){return i.isScope?l.push.apply(l,i.content):l.push(i.content),l},[]).concat(n)},ls=function(e,n){n=n||{};var o;return n.getShadowRoot?o=al([e],n.includeContainer,{filter:qn.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:os}):o=sl(e,n.includeContainer,qn.bind(null,n)),is(o)},rs=function(e,n){n=n||{};var o;return n.getShadowRoot?o=al([e],n.includeContainer,{filter:hn.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):o=sl(e,n.includeContainer,hn.bind(null,n)),o},Tt=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return wt.call(e,dn)===!1?!1:qn(n,e)},ss=ll.concat("iframe").join(","),Tn=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return wt.call(e,ss)===!1?!1:hn(n,e)};/*!
* focus-trap 7.5.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function wo(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function ko(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wo(Object(n),!0).forEach(function(o){as(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wo(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function as(t,e,n){return e=fs(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function us(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fs(t){var e=us(t,"string");return typeof e=="symbol"?e:String(e)}var Co={activateTrap:function(e,n){if(e.length>0){var o=e[e.length-1];o!==n&&o.pause()}var l=e.indexOf(n);l===-1||e.splice(l,1),e.push(n)},deactivateTrap:function(e,n){var o=e.indexOf(n);o!==-1&&e.splice(o,1),e.length>0&&e[e.length-1].unpause()}},cs=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},ds=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},Ut=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},ps=function(e){return Ut(e)&&!e.shiftKey},ms=function(e){return Ut(e)&&e.shiftKey},Io=function(e){return setTimeout(e,0)},To=function(e,n){var o=-1;return e.every(function(l,i){return n(l)?(o=i,!1):!0}),o},Rt=function(e){for(var n=arguments.length,o=new Array(n>1?n-1:0),l=1;l<n;l++)o[l-1]=arguments[l];return typeof e=="function"?e.apply(void 0,o):e},$t=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},hs=[],_s=function(e,n){var o=(n==null?void 0:n.document)||document,l=(n==null?void 0:n.trapStack)||hs,i=ko({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:ps,isKeyBackward:ms},n),r={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},a,s=function(g,v,w){return g&&g[v]!==void 0?g[v]:i[w||v]},u=function(g,v){var w=typeof(v==null?void 0:v.composedPath)=="function"?v.composedPath():void 0;return r.containerGroups.findIndex(function(O){var S=O.container,V=O.tabbableNodes;return S.contains(g)||(w==null?void 0:w.includes(S))||V.find(function(J){return J===g})})},f=function(g){var v=i[g];if(typeof v=="function"){for(var w=arguments.length,O=new Array(w>1?w-1:0),S=1;S<w;S++)O[S-1]=arguments[S];v=v.apply(void 0,O)}if(v===!0&&(v=void 0),!v){if(v===void 0||v===!1)return v;throw new Error("`".concat(g,"` was specified but was not a node, or did not return a node"))}var V=v;if(typeof v=="string"&&(V=o.querySelector(v),!V))throw new Error("`".concat(g,"` as selector refers to no known node"));return V},c=function(){var g=f("initialFocus");if(g===!1)return!1;if(g===void 0||!Tn(g,i.tabbableOptions))if(u(o.activeElement)>=0)g=o.activeElement;else{var v=r.tabbableGroups[0],w=v&&v.firstTabbableNode;g=w||f("fallbackFocus")}if(!g)throw new Error("Your focus-trap needs to have at least one focusable element");return g},p=function(){if(r.containerGroups=r.containers.map(function(g){var v=ls(g,i.tabbableOptions),w=rs(g,i.tabbableOptions),O=v.length>0?v[0]:void 0,S=v.length>0?v[v.length-1]:void 0,V=w.find(function(ee){return Tt(ee)}),J=w.slice().reverse().find(function(ee){return Tt(ee)}),U=!!v.find(function(ee){return bt(ee)>0});return{container:g,tabbableNodes:v,focusableNodes:w,posTabIndexesFound:U,firstTabbableNode:O,lastTabbableNode:S,firstDomTabbableNode:V,lastDomTabbableNode:J,nextTabbableNode:function(ie){var ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,Me=v.indexOf(ie);return Me<0?ue?w.slice(w.indexOf(ie)+1).find(function(Se){return Tt(Se)}):w.slice(0,w.indexOf(ie)).reverse().find(function(Se){return Tt(Se)}):v[Me+(ue?1:-1)]}}}),r.tabbableGroups=r.containerGroups.filter(function(g){return g.tabbableNodes.length>0}),r.tabbableGroups.length<=0&&!f("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(r.containerGroups.find(function(g){return g.posTabIndexesFound})&&r.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},h=function T(g){var v=g.activeElement;if(v)return v.shadowRoot&&v.shadowRoot.activeElement!==null?T(v.shadowRoot):v},m=function T(g){if(g!==!1&&g!==h(document)){if(!g||!g.focus){T(c());return}g.focus({preventScroll:!!i.preventScroll}),r.mostRecentlyFocusedNode=g,cs(g)&&g.select()}},_=function(g){var v=f("setReturnFocus",g);return v||(v===!1?!1:g)},b=function(g){var v=g.target,w=g.event,O=g.isBackward,S=O===void 0?!1:O;v=v||$t(w),p();var V=null;if(r.tabbableGroups.length>0){var J=u(v,w),U=J>=0?r.containerGroups[J]:void 0;if(J<0)S?V=r.tabbableGroups[r.tabbableGroups.length-1].lastTabbableNode:V=r.tabbableGroups[0].firstTabbableNode;else if(S){var ee=To(r.tabbableGroups,function(ve){var we=ve.firstTabbableNode;return v===we});if(ee<0&&(U.container===v||Tn(v,i.tabbableOptions)&&!Tt(v,i.tabbableOptions)&&!U.nextTabbableNode(v,!1))&&(ee=J),ee>=0){var ie=ee===0?r.tabbableGroups.length-1:ee-1,ue=r.tabbableGroups[ie];V=bt(v)>=0?ue.lastTabbableNode:ue.lastDomTabbableNode}else Ut(w)||(V=U.nextTabbableNode(v,!1))}else{var Me=To(r.tabbableGroups,function(ve){var we=ve.lastTabbableNode;return v===we});if(Me<0&&(U.container===v||Tn(v,i.tabbableOptions)&&!Tt(v,i.tabbableOptions)&&!U.nextTabbableNode(v))&&(Me=J),Me>=0){var Se=Me===r.tabbableGroups.length-1?0:Me+1,be=r.tabbableGroups[Se];V=bt(v)>=0?be.firstTabbableNode:be.firstDomTabbableNode}else Ut(w)||(V=U.nextTabbableNode(v))}}else V=f("fallbackFocus");return V},C=function(g){var v=$t(g);if(!(u(v,g)>=0)){if(Rt(i.clickOutsideDeactivates,g)){a.deactivate({returnFocus:i.returnFocusOnDeactivate});return}Rt(i.allowOutsideClick,g)||g.preventDefault()}},k=function(g){var v=$t(g),w=u(v,g)>=0;if(w||v instanceof Document)w&&(r.mostRecentlyFocusedNode=v);else{g.stopImmediatePropagation();var O,S=!0;if(r.mostRecentlyFocusedNode)if(bt(r.mostRecentlyFocusedNode)>0){var V=u(r.mostRecentlyFocusedNode),J=r.containerGroups[V].tabbableNodes;if(J.length>0){var U=J.findIndex(function(ee){return ee===r.mostRecentlyFocusedNode});U>=0&&(i.isKeyForward(r.recentNavEvent)?U+1<J.length&&(O=J[U+1],S=!1):U-1>=0&&(O=J[U-1],S=!1))}}else r.containerGroups.some(function(ee){return ee.tabbableNodes.some(function(ie){return bt(ie)>0})})||(S=!1);else S=!1;S&&(O=b({target:r.mostRecentlyFocusedNode,isBackward:i.isKeyBackward(r.recentNavEvent)})),m(O||r.mostRecentlyFocusedNode||c())}r.recentNavEvent=void 0},P=function(g){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;r.recentNavEvent=g;var w=b({event:g,isBackward:v});w&&(Ut(g)&&g.preventDefault(),m(w))},W=function(g){if(ds(g)&&Rt(i.escapeDeactivates,g)!==!1){g.preventDefault(),a.deactivate();return}(i.isKeyForward(g)||i.isKeyBackward(g))&&P(g,i.isKeyBackward(g))},Y=function(g){var v=$t(g);u(v,g)>=0||Rt(i.clickOutsideDeactivates,g)||Rt(i.allowOutsideClick,g)||(g.preventDefault(),g.stopImmediatePropagation())},d=function(){if(r.active)return Co.activateTrap(l,a),r.delayInitialFocusTimer=i.delayInitialFocus?Io(function(){m(c())}):m(c()),o.addEventListener("focusin",k,!0),o.addEventListener("mousedown",C,{capture:!0,passive:!1}),o.addEventListener("touchstart",C,{capture:!0,passive:!1}),o.addEventListener("click",Y,{capture:!0,passive:!1}),o.addEventListener("keydown",W,{capture:!0,passive:!1}),a},B=function(){if(r.active)return o.removeEventListener("focusin",k,!0),o.removeEventListener("mousedown",C,!0),o.removeEventListener("touchstart",C,!0),o.removeEventListener("click",Y,!0),o.removeEventListener("keydown",W,!0),a},I=function(g){var v=g.some(function(w){var O=Array.from(w.removedNodes);return O.some(function(S){return S===r.mostRecentlyFocusedNode})});v&&m(c())},L=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(I):void 0,q=function(){L&&(L.disconnect(),r.active&&!r.paused&&r.containers.map(function(g){L.observe(g,{subtree:!0,childList:!0})}))};return a={get active(){return r.active},get paused(){return r.paused},activate:function(g){if(r.active)return this;var v=s(g,"onActivate"),w=s(g,"onPostActivate"),O=s(g,"checkCanFocusTrap");O||p(),r.active=!0,r.paused=!1,r.nodeFocusedBeforeActivation=o.activeElement,v==null||v();var S=function(){O&&p(),d(),q(),w==null||w()};return O?(O(r.containers.concat()).then(S,S),this):(S(),this)},deactivate:function(g){if(!r.active)return this;var v=ko({onDeactivate:i.onDeactivate,onPostDeactivate:i.onPostDeactivate,checkCanReturnFocus:i.checkCanReturnFocus},g);clearTimeout(r.delayInitialFocusTimer),r.delayInitialFocusTimer=void 0,B(),r.active=!1,r.paused=!1,q(),Co.deactivateTrap(l,a);var w=s(v,"onDeactivate"),O=s(v,"onPostDeactivate"),S=s(v,"checkCanReturnFocus"),V=s(v,"returnFocus","returnFocusOnDeactivate");w==null||w();var J=function(){Io(function(){V&&m(_(r.nodeFocusedBeforeActivation)),O==null||O()})};return V&&S?(S(_(r.nodeFocusedBeforeActivation)).then(J,J),this):(J(),this)},pause:function(g){if(r.paused||!r.active)return this;var v=s(g,"onPause"),w=s(g,"onPostPause");return r.paused=!0,v==null||v(),B(),q(),w==null||w(),this},unpause:function(g){if(!r.paused||!r.active)return this;var v=s(g,"onUnpause"),w=s(g,"onPostUnpause");return r.paused=!1,v==null||v(),p(),d(),q(),w==null||w(),this},updateContainerElements:function(g){var v=[].concat(g).filter(Boolean);return r.containers=v.map(function(w){return typeof w=="string"?o.querySelector(w):w}),r.active&&p(),q(),this}},a.updateContainerElements(e),a};function gs(t={}){let e;const{immediate:n,...o}=t,l=Ye(!1),i=Ye(!1),r=c=>e==null?void 0:e.activate(c),a=c=>{e==null||e.deactivate(c)},s=()=>{e&&(e.pause(),i.set(!0))},u=()=>{e&&(e.unpause(),i.set(!1))};return{useFocusTrap:c=>(e=_s(c,{...o,onActivate(){var p;l.set(!0),(p=t.onActivate)==null||p.call(t)},onDeactivate(){var p;l.set(!1),(p=t.onDeactivate)==null||p.call(t)}}),n&&r(),{destroy(){a(),e=void 0}}),hasFocus:mo(l),isPaused:mo(i),activate:r,deactivate:a,pause:s,unpause:u}}const bs=(t,e="body")=>{let n;if(!mt(e)&&typeof e!="string")return{destroy:De};async function o(i){if(e=i,typeof e=="string"){if(n=document.querySelector(e),n===null&&(await Zn(),n=document.querySelector(e)),n===null)throw new Error(`No element found matching css selector: "${e}"`)}else if(e instanceof HTMLElement)n=e;else throw new TypeError(`Unknown portal target type: ${e===null?"null":typeof e}. Allowed types: string (CSS selector) or HTMLElement.`);t.dataset.portal="",n.appendChild(t),t.hidden=!1}function l(){t.remove()}return o(e),{update:o,destroy:l}};function vs(t,e){let n=De;function o(l){n();const{onInteractOutside:i,onInteractOutsideStart:r,enabled:a}=l;if(!a)return;let s=!1,u=!1;function f(h){i&&zt(h,t)&&(r==null||r(h)),s=!0}function c(h){i==null||i(h)}const p=ys(t);if(typeof PointerEvent<"u"){const h=m=>{s&&zt(m,t)&&c(m),s=!1};n=Nt(ct(p,"pointerdown",f,!0),ct(p,"pointerup",h,!0))}else{const h=_=>{u?u=!1:s&&zt(_,t)&&c(_),s=!1},m=_=>{u=!0,s&&zt(_,t)&&c(_),s=!1};n=Nt(ct(p,"mousedown",f,!0),ct(p,"mouseup",h,!0),ct(p,"touchstart",f,!0),ct(p,"touchend",m,!0))}}return o(e),{update:o,destroy:n}}function zt(t,e){if("button"in t&&t.button>0)return!1;const n=t.target;if(!tl(n))return!1;const o=n.ownerDocument;return!o||!o.documentElement.contains(n)?!1:e&&!e.contains(n)}function ys(t){return(t==null?void 0:t.ownerDocument)??document}function ws(){return{elements:{root:nt("label",{action:e=>({destroy:Bt(e,"mousedown",o=>{!o.defaultPrevented&&o.detail>1&&o.preventDefault()})})})}}}const xt=[];function ks(t,e){let n=De;function o(){const i=xt.indexOf(t);i>=0&&xt.splice(i,1)}function l(i){n();const{open:r,onClose:a,shouldCloseOnInteractOutside:s,closeOnInteractOutside:u}=i;nl(100).then(()=>{r?xt.push(t):o()});function f(){return yr(xt)===t}function c(){f()&&a&&a()}function p(m){const _=m.target;tl(_)&&_&&f()&&(m.preventDefault(),m.stopPropagation(),m.stopImmediatePropagation())}function h(m){s!=null&&s(m)&&f()&&(m.preventDefault(),m.stopPropagation(),m.stopImmediatePropagation(),c())}n=vs(t,{onInteractOutsideStart:p,onInteractOutside:u?h:void 0,enabled:r}).destroy}return l(e),{update:l,destroy(){o(),n()}}}const{name:ht}=wr("dialog"),Cs={preventScroll:!0,closeOnEscape:!0,closeOnOutsideClick:!0,role:"dialog",defaultOpen:!1,portal:"body",forceVisible:!1,openFocus:void 0,closeFocus:void 0,onOutsideClick:void 0},Is=["content","title","description"];function Ts(t){const e={...Cs,...t},n=Dn(Ar(e,"ids")),{preventScroll:o,closeOnEscape:l,closeOnOutsideClick:i,role:r,portal:a,forceVisible:s,openFocus:u,closeFocus:f,onOutsideClick:c}=n,p=Xt.writable(null),h=Dn({...Mr(Is),...e.ids}),m=e.open??Ye(e.defaultOpen),_=Pr(m,e==null?void 0:e.onOpenChange),b=kn([_,s],([T,g])=>T||g);let C=De;function k(T){const g=T.currentTarget,v=T.currentTarget;!mt(g)||!mt(v)||(_.set(!0),p.set(v))}function P(){_.set(!1),bo({prop:f.get(),defaultEl:p.get()})}const W=nt(ht("trigger"),{stores:[_],returned:([T])=>({"aria-haspopup":"dialog","aria-expanded":T,type:"button"}),action:T=>({destroy:Nt(Bt(T,"click",v=>{k(v)}),Bt(T,"keydown",v=>{v.key!==Gt.ENTER&&v.key!==Gt.SPACE||(v.preventDefault(),k(v))}))})}),Y=nt(ht("overlay"),{stores:[b],returned:([T])=>({hidden:T?void 0:!0,tabindex:-1,style:Rn({display:T?void 0:"none"}),"aria-hidden":!0,"data-state":T?"open":"closed"}),action:T=>{let g=De;if(l.get()){const v=vo(T,{handler:()=>{P()}});v&&v.destroy&&(g=v.destroy)}return{destroy(){g()}}}}),d=nt(ht("content"),{stores:[b,h.content,h.description,h.title],returned:([T,g,v,w])=>({id:g,role:r.get(),"aria-describedby":v,"aria-labelledby":w,"aria-modal":T?"true":void 0,"data-state":T?"open":"closed",tabindex:-1,hidden:T?void 0:!0,style:Rn({display:T?void 0:"none"})}),action:T=>{let g=De,v=De;const w=Nt(_t([_],([O])=>{if(!O)return;const S=gs({immediate:!1,escapeDeactivates:!0,clickOutsideDeactivates:!0,returnFocusOnDeactivate:!1,fallbackFocus:T});g=S.activate,v=S.deactivate;const V=S.useFocusTrap(T);return V&&V.destroy?V.destroy:S.deactivate}),_t([i,_],([O,S])=>ks(T,{open:S,closeOnInteractOutside:O,onClose(){P()},shouldCloseOnInteractOutside(V){var J;return(J=c.get())==null||J(V),!V.defaultPrevented}}).destroy),_t([l],([O])=>{if(!O)return De;const S=vo(T,{handler:()=>{P()}});return S&&S.destroy?S.destroy:De}),_t([b],([O])=>{Zn().then(()=>{O?g():v()})}));return{destroy:()=>{C(),w()}}}}),B=nt(ht("portalled"),{stores:a,returned:T=>({"data-portal":T?"":void 0}),action:T=>{const g=_t([a],([v])=>{if(!v)return De;const w=Ur(T,v);if(w===null)return De;const O=bs(T,w);return O&&O.destroy?O.destroy:De});return{destroy(){g()}}}}),I=nt(ht("title"),{stores:[h.title],returned:([T])=>({id:T})}),L=nt(ht("description"),{stores:[h.description],returned:([T])=>({id:T})}),q=nt(ht("close"),{returned:()=>({type:"button"}),action:T=>({destroy:Nt(Bt(T,"click",()=>{P()}),Bt(T,"keydown",v=>{v.key!==Gt.SPACE&&v.key!==Gt.ENTER||(v.preventDefault(),P())}))})});return _t([_,o],([T,g])=>{if(kr){if(g&&T&&(C=Gr()),T){const v=document.getElementById(h.content.get());bo({prop:u.get(),defaultEl:v})}return()=>{s.get()||C()}}}),{ids:h,elements:{content:d,trigger:W,title:I,description:L,overlay:Y,close:q,portalled:B},states:{open:_},options:n}}const Ss={orientation:"horizontal",decorative:!1},As=t=>{const e={...Ss,...t},n=Dn(e),{orientation:o,decorative:l}=n;return{elements:{root:nt("separator",{stores:[o,l],returned:([r,a])=>({role:a?"none":"separator","aria-orientation":r==="vertical"?r:void 0,"aria-hidden":a,"data-orientation":r})})},options:n}};function xn(t,e){const n={};return e.forEach(o=>{n[o]={[`data-${t}-${o}`]:""}}),o=>n[o]}function cl(){const t=rr();return e=>{const{originalEvent:n}=e.detail,{cancelable:o}=e,l=n.type;t(l,{originalEvent:n,currentTarget:n.currentTarget},{cancelable:o})||e.preventDefault()}}function dl(t){const e={};for(const n in t){const o=t[n];o!==void 0&&(e[n]=o)}return e}function pl(t){return function(e,n){if(n===void 0)return;const o=t[e];o&&o.set(n)}}function Ps(t,e){const n=[];return e.builders.forEach(o=>{const l=o.action(t);l&&n.push(l)}),{destroy:()=>{n.forEach(o=>{o.destroy&&o.destroy()})}}}function So(t){const e={};return t.forEach(n=>{Object.keys(n).forEach(o=>{o!=="action"&&(e[o]=n[o])})}),e}function Ns(t){let e=t[1]?"a":"button",n,o,l=(t[1]?"a":"button")&&Sn(t);return{c(){l&&l.c(),n=Ee()},m(i,r){l&&l.m(i,r),E(i,n,r),o=!0},p(i,r){i[1],e?te(e,i[1]?"a":"button")?(l.d(1),l=Sn(i),e=i[1]?"a":"button",l.c(),l.m(n.parentNode,n)):l.p(i,r):(l=Sn(i),e=i[1]?"a":"button",l.c(),l.m(n.parentNode,n))},i(i){o||(A(l,i),o=!0)},o(i){M(l,i),o=!1},d(i){i&&N(n),l&&l.d(i)}}}function Es(t){let e=t[1]?"a":"button",n,o,l=(t[1]?"a":"button")&&An(t);return{c(){l&&l.c(),n=Ee()},m(i,r){l&&l.m(i,r),E(i,n,r),o=!0},p(i,r){i[1],e?te(e,i[1]?"a":"button")?(l.d(1),l=An(i),e=i[1]?"a":"button",l.c(),l.m(n.parentNode,n)):l.p(i,r):(l=An(i),e=i[1]?"a":"button",l.c(),l.m(n.parentNode,n))},i(i){o||(A(l,i),o=!0)},o(i){M(l,i),o=!1},d(i){i&&N(n),l&&l.d(i)}}}function Sn(t){let e,n,o,l,i;const r=t[7].default,a=me(r,t,t[6],null);let s=[{type:n=t[1]?void 0:t[2]},{href:t[1]},{tabindex:"0"},t[5],t[4]],u={};for(let f=0;f<s.length;f+=1)u=G(u,s[f]);return{c(){e=F(t[1]?"a":"button"),a&&a.c(),Et(t[1]?"a":"button")(e,u)},m(f,c){E(f,e,c),a&&a.m(e,null),o=!0,l||(i=[H(e,"click",t[14]),H(e,"change",t[15]),H(e,"keydown",t[16]),H(e,"keyup",t[17]),H(e,"mouseenter",t[18]),H(e,"mouseleave",t[19])],l=!0)},p(f,c){a&&a.p&&(!o||c&64)&&_e(a,r,f,f[6],o?he(r,f[6],c,null):ge(f[6]),null),Et(f[1]?"a":"button")(e,u=ce(s,[(!o||c&6&&n!==(n=f[1]?void 0:f[2]))&&{type:n},(!o||c&2)&&{href:f[1]},{tabindex:"0"},c&32&&f[5],f[4]]))},i(f){o||(A(a,f),o=!0)},o(f){M(a,f),o=!1},d(f){f&&N(e),a&&a.d(f),l=!1,Ne(i)}}}function An(t){let e,n,o,l,i,r;const a=t[7].default,s=me(a,t,t[6],null);let u=[{type:n=t[1]?void 0:t[2]},{href:t[1]},{tabindex:"0"},So(t[3]),t[5],t[4]],f={};for(let c=0;c<u.length;c+=1)f=G(f,u[c]);return{c(){e=F(t[1]?"a":"button"),s&&s.c(),Et(t[1]?"a":"button")(e,f)},m(c,p){E(c,e,p),s&&s.m(e,null),t[20](e),l=!0,i||(r=[H(e,"click",t[8]),H(e,"change",t[9]),H(e,"keydown",t[10]),H(e,"keyup",t[11]),H(e,"mouseenter",t[12]),H(e,"mouseleave",t[13]),Ue(o=Ps.call(null,e,{builders:t[3]}))],i=!0)},p(c,p){s&&s.p&&(!l||p&64)&&_e(s,a,c,c[6],l?he(a,c[6],p,null):ge(c[6]),null),Et(c[1]?"a":"button")(e,f=ce(u,[(!l||p&6&&n!==(n=c[1]?void 0:c[2]))&&{type:n},(!l||p&2)&&{href:c[1]},{tabindex:"0"},p&8&&So(c[3]),p&32&&c[5],c[4]])),o&&lt(o.update)&&p&8&&o.update.call(null,{builders:c[3]})},i(c){l||(A(s,c),l=!0)},o(c){M(s,c),l=!1},d(c){c&&N(e),s&&s.d(c),t[20](null),i=!1,Ne(r)}}}function Os(t){let e,n,o,l;const i=[Es,Ns],r=[];function a(s,u){return s[3]&&s[3].length?0:1}return e=a(t),n=r[e]=i[e](t),{c(){n.c(),o=Ee()},m(s,u){r[e].m(s,u),E(s,o,u),l=!0},p(s,[u]){let f=e;e=a(s),e===f?r[e].p(s,u):(qe(),M(r[f],1,1,()=>{r[f]=null}),je(),n=r[e],n?n.p(s,u):(n=r[e]=i[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){l||(A(n),l=!0)},o(s){M(n),l=!1},d(s){s&&N(o),r[e].d(s)}}}function Ms(t,e,n){const o=["href","type","builders","el"];let l=z(e,o),{$$slots:i={},$$scope:r}=e,{href:a=void 0}=e,{type:s=void 0}=e,{builders:u=[]}=e,{el:f=void 0}=e;const c={"data-button-root":""};function p(L){X.call(this,t,L)}function h(L){X.call(this,t,L)}function m(L){X.call(this,t,L)}function _(L){X.call(this,t,L)}function b(L){X.call(this,t,L)}function C(L){X.call(this,t,L)}function k(L){X.call(this,t,L)}function P(L){X.call(this,t,L)}function W(L){X.call(this,t,L)}function Y(L){X.call(this,t,L)}function d(L){X.call(this,t,L)}function B(L){X.call(this,t,L)}function I(L){Oe[L?"unshift":"push"](()=>{f=L,n(0,f)})}return t.$$set=L=>{e=G(G({},e),Te(L)),n(5,l=z(e,o)),"href"in L&&n(1,a=L.href),"type"in L&&n(2,s=L.type),"builders"in L&&n(3,u=L.builders),"el"in L&&n(0,f=L.el),"$$scope"in L&&n(6,r=L.$$scope)},[f,a,s,u,c,l,r,i,p,h,m,_,b,C,k,P,W,Y,d,B,I]}let Ls=class extends ae{constructor(e){super(),se(this,e,Ms,Os,te,{href:1,type:2,builders:3,el:0})}};function Fs(){return{NAME:"separator",PARTS:["root"]}}function Rs(t){const{NAME:e,PARTS:n}=Fs(),o=xn(e,n),l={...As(dl(t)),getAttrs:o};return{...l,updateOption:pl(l.options)}}const Ds=t=>({builder:t&4}),Ao=t=>({builder:t[2]});function qs(t){let e,n,o,l=[t[2],t[4]],i={};for(let r=0;r<l.length;r+=1)i=G(i,l[r]);return{c(){e=F("div"),re(e,i)},m(r,a){E(r,e,a),t[10](e),n||(o=Ue(t[2].action(e)),n=!0)},p(r,a){re(e,i=ce(l,[a&4&&r[2],a&16&&r[4]]))},i:pe,o:pe,d(r){r&&N(e),t[10](null),n=!1,o()}}}function js(t){let e;const n=t[9].default,o=me(n,t,t[8],Ao);return{c(){o&&o.c()},m(l,i){o&&o.m(l,i),e=!0},p(l,i){o&&o.p&&(!e||i&260)&&_e(o,n,l,l[8],e?he(n,l[8],i,Ds):ge(l[8]),Ao)},i(l){e||(A(o,l),e=!0)},o(l){M(o,l),e=!1},d(l){o&&o.d(l)}}}function Bs(t){let e,n,o,l;const i=[js,qs],r=[];function a(s,u){return s[1]?0:1}return e=a(t),n=r[e]=i[e](t),{c(){n.c(),o=Ee()},m(s,u){r[e].m(s,u),E(s,o,u),l=!0},p(s,[u]){let f=e;e=a(s),e===f?r[e].p(s,u):(qe(),M(r[f],1,1,()=>{r[f]=null}),je(),n=r[e],n?n.p(s,u):(n=r[e]=i[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){l||(A(n),l=!0)},o(s){M(n),l=!1},d(s){s&&N(o),r[e].d(s)}}}function Gs(t,e,n){let o;const l=["orientation","decorative","asChild","el"];let i=z(e,l),r,{$$slots:a={},$$scope:s}=e,{orientation:u="horizontal"}=e,{decorative:f=!0}=e,{asChild:c=!1}=e,{el:p=void 0}=e;const{elements:{root:h},updateOption:m,getAttrs:_}=Rs({orientation:u,decorative:f});le(t,h,k=>n(7,r=k));const b=_("root");function C(k){Oe[k?"unshift":"push"](()=>{p=k,n(0,p)})}return t.$$set=k=>{e=G(G({},e),Te(k)),n(4,i=z(e,l)),"orientation"in k&&n(5,u=k.orientation),"decorative"in k&&n(6,f=k.decorative),"asChild"in k&&n(1,c=k.asChild),"el"in k&&n(0,p=k.el),"$$scope"in k&&n(8,s=k.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&m("orientation",u),t.$$.dirty&64&&m("decorative",f),t.$$.dirty&128&&n(2,o=r),t.$$.dirty&4&&Object.assign(o,b)},[p,c,o,h,i,u,f,r,s,a,C]}let Ws=class extends ae{constructor(e){super(),se(this,e,Gs,Bs,te,{orientation:5,decorative:6,asChild:1,el:0})}};function ml(){return{NAME:"dialog",PARTS:["close","content","description","overlay","portal","title","trigger"]}}function Vs(t){const{NAME:e,PARTS:n}=ml(),o=xn(e,n),l={...Ts({...dl(t),role:"dialog",forceVisible:!0}),getAttrs:o};return sr(e,l),{...l,updateOption:pl(l.options)}}function Mt(){const{NAME:t}=ml();return ar(t)}const Us=t=>({ids:t&1}),Po=t=>({ids:t[0]});function Ks(t){let e;const n=t[12].default,o=me(n,t,t[11],Po);return{c(){o&&o.c()},m(l,i){o&&o.m(l,i),e=!0},p(l,[i]){o&&o.p&&(!e||i&2049)&&_e(o,n,l,l[11],e?he(n,l[11],i,Us):ge(l[11]),Po)},i(l){e||(A(o,l),e=!0)},o(l){M(o,l),e=!1},d(l){o&&o.d(l)}}}function Hs(t,e,n){let o,{$$slots:l={},$$scope:i}=e,{preventScroll:r=void 0}=e,{closeOnEscape:a=void 0}=e,{closeOnOutsideClick:s=void 0}=e,{portal:u=void 0}=e,{open:f=void 0}=e,{onOpenChange:c=void 0}=e,{openFocus:p=void 0}=e,{closeFocus:h=void 0}=e,{onOutsideClick:m=void 0}=e;const{states:{open:_},updateOption:b,ids:C}=Vs({closeOnEscape:a,preventScroll:r,closeOnOutsideClick:s,portal:u,forceVisible:!0,defaultOpen:f,openFocus:p,closeFocus:h,onOutsideClick:m,onOpenChange:({next:P})=>(f!==P&&(c==null||c(P),n(2,f=P)),P)}),k=kn([C.content,C.description,C.title],([P,W,Y])=>({content:P,description:W,title:Y}));return le(t,k,P=>n(0,o=P)),t.$$set=P=>{"preventScroll"in P&&n(3,r=P.preventScroll),"closeOnEscape"in P&&n(4,a=P.closeOnEscape),"closeOnOutsideClick"in P&&n(5,s=P.closeOnOutsideClick),"portal"in P&&n(6,u=P.portal),"open"in P&&n(2,f=P.open),"onOpenChange"in P&&n(7,c=P.onOpenChange),"openFocus"in P&&n(8,p=P.openFocus),"closeFocus"in P&&n(9,h=P.closeFocus),"onOutsideClick"in P&&n(10,m=P.onOutsideClick),"$$scope"in P&&n(11,i=P.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&f!==void 0&&_.set(f),t.$$.dirty&8&&b("preventScroll",r),t.$$.dirty&16&&b("closeOnEscape",a),t.$$.dirty&32&&b("closeOnOutsideClick",s),t.$$.dirty&64&&b("portal",u),t.$$.dirty&256&&b("openFocus",p),t.$$.dirty&512&&b("closeFocus",h),t.$$.dirty&1024&&b("onOutsideClick",m)},[o,k,f,r,a,s,u,c,p,h,m,i,l]}class hl extends ae{constructor(e){super(),se(this,e,Hs,Ks,te,{preventScroll:3,closeOnEscape:4,closeOnOutsideClick:5,portal:6,open:2,onOpenChange:7,openFocus:8,closeFocus:9,onOutsideClick:10})}}const Js=t=>({builder:t&8}),No=t=>({builder:t[3]}),Ys=t=>({builder:t&8}),Eo=t=>({builder:t[3]});function Xs(t){let e=t[1],n,o,l=t[1]&&Pn(t);return{c(){l&&l.c(),n=Ee()},m(i,r){l&&l.m(i,r),E(i,n,r),o=!0},p(i,r){i[1]?e?te(e,i[1])?(l.d(1),l=Pn(i),e=i[1],l.c(),l.m(n.parentNode,n)):l.p(i,r):(l=Pn(i),e=i[1],l.c(),l.m(n.parentNode,n)):e&&(l.d(1),l=null,e=i[1])},i(i){o||(A(l,i),o=!0)},o(i){M(l,i),o=!1},d(i){i&&N(n),l&&l.d(i)}}}function Zs(t){let e;const n=t[9].default,o=me(n,t,t[8],Eo);return{c(){o&&o.c()},m(l,i){o&&o.m(l,i),e=!0},p(l,i){o&&o.p&&(!e||i&264)&&_e(o,n,l,l[8],e?he(n,l[8],i,Ys):ge(l[8]),Eo)},i(l){e||(A(o,l),e=!0)},o(l){M(o,l),e=!1},d(l){o&&o.d(l)}}}function Pn(t){let e,n,o,l;const i=t[9].default,r=me(i,t,t[8],No);let a=[t[3],t[5]],s={};for(let u=0;u<a.length;u+=1)s=G(s,a[u]);return{c(){e=F(t[1]),r&&r.c(),Et(t[1])(e,s)},m(u,f){E(u,e,f),r&&r.m(e,null),t[10](e),n=!0,o||(l=Ue(t[3].action(e)),o=!0)},p(u,f){r&&r.p&&(!n||f&264)&&_e(r,i,u,u[8],n?he(i,u[8],f,Js):ge(u[8]),No),Et(u[1])(e,s=ce(a,[f&8&&u[3],f&32&&u[5]]))},i(u){n||(A(r,u),n=!0)},o(u){M(r,u),n=!1},d(u){u&&N(e),r&&r.d(u),t[10](null),o=!1,l()}}}function Qs(t){let e,n,o,l;const i=[Zs,Xs],r=[];function a(s,u){return s[2]?0:1}return e=a(t),n=r[e]=i[e](t),{c(){n.c(),o=Ee()},m(s,u){r[e].m(s,u),E(s,o,u),l=!0},p(s,[u]){let f=e;e=a(s),e===f?r[e].p(s,u):(qe(),M(r[f],1,1,()=>{r[f]=null}),je(),n=r[e],n?n.p(s,u):(n=r[e]=i[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){l||(A(n),l=!0)},o(s){M(n),l=!1},d(s){s&&N(o),r[e].d(s)}}}function $s(t,e,n){let o;const l=["level","asChild","id","el"];let i=z(e,l),r,{$$slots:a={},$$scope:s}=e,{level:u="h2"}=e,{asChild:f=!1}=e,{id:c=void 0}=e,{el:p=void 0}=e;const{elements:{title:h},ids:m,getAttrs:_}=Mt();le(t,h,k=>n(7,r=k));const b=_("title");function C(k){Oe[k?"unshift":"push"](()=>{p=k,n(0,p)})}return t.$$set=k=>{e=G(G({},e),Te(k)),n(5,i=z(e,l)),"level"in k&&n(1,u=k.level),"asChild"in k&&n(2,f=k.asChild),"id"in k&&n(6,c=k.id),"el"in k&&n(0,p=k.el),"$$scope"in k&&n(8,s=k.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&c&&m.title.set(c),t.$$.dirty&128&&n(3,o=r),t.$$.dirty&8&&Object.assign(o,b)},[p,u,f,o,h,i,c,r,s,a,C]}let _l=class extends ae{constructor(e){super(),se(this,e,$s,Qs,te,{level:1,asChild:2,id:6,el:0})}};const zs=t=>({builder:t&4}),Oo=t=>({builder:t[2]}),xs=t=>({builder:t&4}),Mo=t=>({builder:t[2]});function ea(t){let e,n,o,l;const i=t[8].default,r=me(i,t,t[7],Oo);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=G(s,a[u]);return{c(){e=F("button"),r&&r.c(),re(e,s)},m(u,f){E(u,e,f),r&&r.m(e,null),e.autofocus&&e.focus(),t[9](e),n=!0,o||(l=[Ue(t[2].action(e)),H(e,"m-click",t[4]),H(e,"m-keydown",t[4])],o=!0)},p(u,f){r&&r.p&&(!n||f&132)&&_e(r,i,u,u[7],n?he(i,u[7],f,zs):ge(u[7]),Oo),re(e,s=ce(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(A(r,u),n=!0)},o(u){M(r,u),n=!1},d(u){u&&N(e),r&&r.d(u),t[9](null),o=!1,Ne(l)}}}function ta(t){let e;const n=t[8].default,o=me(n,t,t[7],Mo);return{c(){o&&o.c()},m(l,i){o&&o.m(l,i),e=!0},p(l,i){o&&o.p&&(!e||i&132)&&_e(o,n,l,l[7],e?he(n,l[7],i,xs):ge(l[7]),Mo)},i(l){e||(A(o,l),e=!0)},o(l){M(o,l),e=!1},d(l){o&&o.d(l)}}}function na(t){let e,n,o,l;const i=[ta,ea],r=[];function a(s,u){return s[1]?0:1}return e=a(t),n=r[e]=i[e](t),{c(){n.c(),o=Ee()},m(s,u){r[e].m(s,u),E(s,o,u),l=!0},p(s,[u]){let f=e;e=a(s),e===f?r[e].p(s,u):(qe(),M(r[f],1,1,()=>{r[f]=null}),je(),n=r[e],n?n.p(s,u):(n=r[e]=i[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){l||(A(n),l=!0)},o(s){M(n),l=!1},d(s){s&&N(o),r[e].d(s)}}}function oa(t,e,n){let o;const l=["asChild","el"];let i=z(e,l),r,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:p}=Mt();le(t,c,b=>n(6,r=b));const h=cl(),m=p("close");function _(b){Oe[b?"unshift":"push"](()=>{f=b,n(0,f)})}return t.$$set=b=>{e=G(G({},e),Te(b)),n(5,i=z(e,l)),"asChild"in b&&n(1,u=b.asChild),"el"in b&&n(0,f=b.el),"$$scope"in b&&n(7,s=b.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=r),t.$$.dirty&4&&Object.assign(o,m)},[f,u,o,c,h,i,r,s,a,_]}class gl extends ae{constructor(e){super(),se(this,e,oa,na,te,{asChild:1,el:0})}}const ia=t=>({builder:t&4}),Lo=t=>({builder:t[2]}),la=t=>({builder:t&4}),Fo=t=>({builder:t[2]});function ra(t){let e,n,o,l;const i=t[7].default,r=me(i,t,t[6],Lo);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=G(s,a[u]);return{c(){e=F("div"),r&&r.c(),re(e,s)},m(u,f){E(u,e,f),r&&r.m(e,null),t[8](e),n=!0,o||(l=Ue(t[2].action(e)),o=!0)},p(u,f){r&&r.p&&(!n||f&68)&&_e(r,i,u,u[6],n?he(i,u[6],f,ia):ge(u[6]),Lo),re(e,s=ce(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(A(r,u),n=!0)},o(u){M(r,u),n=!1},d(u){u&&N(e),r&&r.d(u),t[8](null),o=!1,l()}}}function sa(t){let e;const n=t[7].default,o=me(n,t,t[6],Fo);return{c(){o&&o.c()},m(l,i){o&&o.m(l,i),e=!0},p(l,i){o&&o.p&&(!e||i&68)&&_e(o,n,l,l[6],e?he(n,l[6],i,la):ge(l[6]),Fo)},i(l){e||(A(o,l),e=!0)},o(l){M(o,l),e=!1},d(l){o&&o.d(l)}}}function aa(t){let e,n,o,l;const i=[sa,ra],r=[];function a(s,u){return s[1]?0:1}return e=a(t),n=r[e]=i[e](t),{c(){n.c(),o=Ee()},m(s,u){r[e].m(s,u),E(s,o,u),l=!0},p(s,[u]){let f=e;e=a(s),e===f?r[e].p(s,u):(qe(),M(r[f],1,1,()=>{r[f]=null}),je(),n=r[e],n?n.p(s,u):(n=r[e]=i[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){l||(A(n),l=!0)},o(s){M(n),l=!1},d(s){s&&N(o),r[e].d(s)}}}function ua(t,e,n){let o;const l=["asChild","el"];let i=z(e,l),r,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{portalled:c},getAttrs:p}=Mt();le(t,c,_=>n(5,r=_));const h=p("portal");function m(_){Oe[_?"unshift":"push"](()=>{f=_,n(0,f)})}return t.$$set=_=>{e=G(G({},e),Te(_)),n(4,i=z(e,l)),"asChild"in _&&n(1,u=_.asChild),"el"in _&&n(0,f=_.el),"$$scope"in _&&n(6,s=_.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=r),t.$$.dirty&4&&Object.assign(o,h)},[f,u,o,c,i,r,s,a,m]}let bl=class extends ae{constructor(e){super(),se(this,e,ua,aa,te,{asChild:1,el:0})}};const fa=t=>({builder:t[0]&256}),Ro=t=>({builder:t[8]}),ca=t=>({builder:t[0]&256}),Do=t=>({builder:t[8]}),da=t=>({builder:t[0]&256}),qo=t=>({builder:t[8]}),pa=t=>({builder:t[0]&256}),jo=t=>({builder:t[8]}),ma=t=>({builder:t[0]&256}),Bo=t=>({builder:t[8]}),ha=t=>({builder:t[0]&256}),Go=t=>({builder:t[8]});function _a(t){let e,n,o,l;const i=t[16].default,r=me(i,t,t[15],Ro);let a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=G(s,a[u]);return{c(){e=F("div"),r&&r.c(),re(e,s)},m(u,f){E(u,e,f),r&&r.m(e,null),t[56](e),n=!0,o||(l=[Ue(t[8].action(e)),H(e,"pointerdown",t[45]),H(e,"pointermove",t[46]),H(e,"pointerup",t[47]),H(e,"touchend",t[48]),H(e,"touchstart",t[49]),H(e,"touchcancel",t[50]),H(e,"touchmove",t[51])],o=!0)},p(u,f){r&&r.p&&(!n||f[0]&33024)&&_e(r,i,u,u[15],n?he(i,u[15],f,fa):ge(u[15]),Ro),re(e,s=ce(a,[f[0]&256&&u[8],f[0]&4096&&u[12]]))},i(u){n||(A(r,u),n=!0)},o(u){M(r,u),n=!1},d(u){u&&N(e),r&&r.d(u),t[56](null),o=!1,Ne(l)}}}function ga(t){let e,n,o,l,i;const r=t[16].default,a=me(r,t,t[15],Do);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=G(u,s[f]);return{c(){e=F("div"),a&&a.c(),re(e,u)},m(f,c){E(f,e,c),a&&a.m(e,null),t[55](e),o=!0,l||(i=[Ue(t[8].action(e)),H(e,"pointerdown",t[38]),H(e,"pointermove",t[39]),H(e,"pointerup",t[40]),H(e,"touchend",t[41]),H(e,"touchstart",t[42]),H(e,"touchcancel",t[43]),H(e,"touchmove",t[44])],l=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&_e(a,r,t,t[15],o?he(r,t[15],c,ca):ge(t[15]),Do),re(e,u=ce(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(A(a,f),n&&n.end(1),o=!0)},o(f){M(a,f),f&&(n=vn(e,t[5],t[6])),o=!1},d(f){f&&N(e),a&&a.d(f),t[55](null),f&&n&&n.end(),l=!1,Ne(i)}}}function ba(t){let e,n,o,l,i;const r=t[16].default,a=me(r,t,t[15],qo);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=G(u,s[f]);return{c(){e=F("div"),a&&a.c(),re(e,u)},m(f,c){E(f,e,c),a&&a.m(e,null),t[54](e),o=!0,l||(i=[Ue(t[8].action(e)),H(e,"pointerdown",t[31]),H(e,"pointermove",t[32]),H(e,"pointerup",t[33]),H(e,"touchend",t[34]),H(e,"touchstart",t[35]),H(e,"touchcancel",t[36]),H(e,"touchmove",t[37])],l=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&_e(a,r,t,t[15],o?he(r,t[15],c,da):ge(t[15]),qo),re(e,u=ce(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(A(a,f),f&&(n||ze(()=>{n=bn(e,t[3],t[4]),n.start()})),o=!0)},o(f){M(a,f),o=!1},d(f){f&&N(e),a&&a.d(f),t[54](null),l=!1,Ne(i)}}}function va(t){let e,n,o,l,i,r;const a=t[16].default,s=me(a,t,t[15],jo);let u=[t[8],t[12]],f={};for(let c=0;c<u.length;c+=1)f=G(f,u[c]);return{c(){e=F("div"),s&&s.c(),re(e,f)},m(c,p){E(c,e,p),s&&s.m(e,null),t[53](e),l=!0,i||(r=[Ue(t[8].action(e)),H(e,"pointerdown",t[24]),H(e,"pointermove",t[25]),H(e,"pointerup",t[26]),H(e,"touchend",t[27]),H(e,"touchstart",t[28]),H(e,"touchcancel",t[29]),H(e,"touchmove",t[30])],i=!0)},p(c,p){t=c,s&&s.p&&(!l||p[0]&33024)&&_e(s,a,t,t[15],l?he(a,t[15],p,pa):ge(t[15]),jo),re(e,f=ce(u,[p[0]&256&&t[8],p[0]&4096&&t[12]]))},i(c){l||(A(s,c),c&&ze(()=>{l&&(o&&o.end(1),n=bn(e,t[3],t[4]),n.start())}),l=!0)},o(c){M(s,c),n&&n.invalidate(),c&&(o=vn(e,t[5],t[6])),l=!1},d(c){c&&N(e),s&&s.d(c),t[53](null),c&&o&&o.end(),i=!1,Ne(r)}}}function ya(t){let e,n,o,l,i;const r=t[16].default,a=me(r,t,t[15],Bo);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=G(u,s[f]);return{c(){e=F("div"),a&&a.c(),re(e,u)},m(f,c){E(f,e,c),a&&a.m(e,null),t[52](e),o=!0,l||(i=[Ue(t[8].action(e)),H(e,"pointerdown",t[17]),H(e,"pointermove",t[18]),H(e,"pointerup",t[19]),H(e,"touchend",t[20]),H(e,"touchstart",t[21]),H(e,"touchcancel",t[22]),H(e,"touchmove",t[23])],l=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&_e(a,r,t,t[15],o?he(r,t[15],c,ma):ge(t[15]),Bo),re(e,u=ce(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(A(a,f),f&&ze(()=>{o&&(n||(n=cn(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(f){M(a,f),f&&(n||(n=cn(e,t[1],t[2],!1)),n.run(0)),o=!1},d(f){f&&N(e),a&&a.d(f),t[52](null),f&&n&&n.end(),l=!1,Ne(i)}}}function wa(t){let e;const n=t[16].default,o=me(n,t,t[15],Go);return{c(){o&&o.c()},m(l,i){o&&o.m(l,i),e=!0},p(l,i){o&&o.p&&(!e||i[0]&33024)&&_e(o,n,l,l[15],e?he(n,l[15],i,ha):ge(l[15]),Go)},i(l){e||(A(o,l),e=!0)},o(l){M(o,l),e=!1},d(l){o&&o.d(l)}}}function ka(t){let e,n,o,l;const i=[wa,ya,va,ba,ga,_a],r=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=r[e]=i[e](t)),{c(){n&&n.c(),o=Ee()},m(s,u){~e&&r[e].m(s,u),E(s,o,u),l=!0},p(s,u){let f=e;e=a(s),e===f?~e&&r[e].p(s,u):(n&&(qe(),M(r[f],1,1,()=>{r[f]=null}),je()),~e?(n=r[e],n?n.p(s,u):(n=r[e]=i[e](s),n.c()),A(n,1),n.m(o.parentNode,o)):n=null)},i(s){l||(A(n),l=!0)},o(s){M(n),l=!1},d(s){s&&N(o),~e&&r[e].d(s)}}}function Ca(t,e,n){let o;const l=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","id","el"];let i=z(e,l),r,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:p=void 0}=e,{inTransitionConfig:h=void 0}=e,{outTransition:m=void 0}=e,{outTransitionConfig:_=void 0}=e,{asChild:b=!1}=e,{id:C=void 0}=e,{el:k=void 0}=e;const{elements:{content:P},states:{open:W},ids:Y,getAttrs:d}=Mt();le(t,P,D=>n(14,r=D)),le(t,W,D=>n(9,a=D));const B=d("content");function I(D){X.call(this,t,D)}function L(D){X.call(this,t,D)}function q(D){X.call(this,t,D)}function T(D){X.call(this,t,D)}function g(D){X.call(this,t,D)}function v(D){X.call(this,t,D)}function w(D){X.call(this,t,D)}function O(D){X.call(this,t,D)}function S(D){X.call(this,t,D)}function V(D){X.call(this,t,D)}function J(D){X.call(this,t,D)}function U(D){X.call(this,t,D)}function ee(D){X.call(this,t,D)}function ie(D){X.call(this,t,D)}function ue(D){X.call(this,t,D)}function Me(D){X.call(this,t,D)}function Se(D){X.call(this,t,D)}function be(D){X.call(this,t,D)}function ve(D){X.call(this,t,D)}function we(D){X.call(this,t,D)}function ke(D){X.call(this,t,D)}function Ce(D){X.call(this,t,D)}function Ke(D){X.call(this,t,D)}function Ae(D){X.call(this,t,D)}function x(D){X.call(this,t,D)}function Le(D){X.call(this,t,D)}function $e(D){X.call(this,t,D)}function rt(D){X.call(this,t,D)}function Ve(D){X.call(this,t,D)}function Be(D){X.call(this,t,D)}function fe(D){X.call(this,t,D)}function We(D){X.call(this,t,D)}function Ge(D){X.call(this,t,D)}function Zt(D){X.call(this,t,D)}function Gl(D){X.call(this,t,D)}function Wl(D){Oe[D?"unshift":"push"](()=>{k=D,n(0,k)})}function Vl(D){Oe[D?"unshift":"push"](()=>{k=D,n(0,k)})}function Ul(D){Oe[D?"unshift":"push"](()=>{k=D,n(0,k)})}function Kl(D){Oe[D?"unshift":"push"](()=>{k=D,n(0,k)})}function Hl(D){Oe[D?"unshift":"push"](()=>{k=D,n(0,k)})}return t.$$set=D=>{e=G(G({},e),Te(D)),n(12,i=z(e,l)),"transition"in D&&n(1,f=D.transition),"transitionConfig"in D&&n(2,c=D.transitionConfig),"inTransition"in D&&n(3,p=D.inTransition),"inTransitionConfig"in D&&n(4,h=D.inTransitionConfig),"outTransition"in D&&n(5,m=D.outTransition),"outTransitionConfig"in D&&n(6,_=D.outTransitionConfig),"asChild"in D&&n(7,b=D.asChild),"id"in D&&n(13,C=D.id),"el"in D&&n(0,k=D.el),"$$scope"in D&&n(15,u=D.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&8192&&C&&Y.content.set(C),t.$$.dirty[0]&16384&&n(8,o=r),t.$$.dirty[0]&256&&Object.assign(o,B)},[k,f,c,p,h,m,_,b,o,a,P,W,i,C,r,u,s,I,L,q,T,g,v,w,O,S,V,J,U,ee,ie,ue,Me,Se,be,ve,we,ke,Ce,Ke,Ae,x,Le,$e,rt,Ve,Be,fe,We,Ge,Zt,Gl,Wl,Vl,Ul,Kl,Hl]}let vl=class extends ae{constructor(e){super(),se(this,e,Ca,ka,te,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,id:13,el:0},null,[-1,-1])}};const Ia=t=>({builder:t&256}),Wo=t=>({builder:t[8]});function Ta(t){let e,n,o,l=[t[8],t[12]],i={};for(let r=0;r<l.length;r+=1)i=G(i,l[r]);return{c(){e=F("div"),re(e,i)},m(r,a){E(r,e,a),t[25](e),n||(o=[Ue(t[8].action(e)),H(e,"mouseup",t[20])],n=!0)},p(r,a){re(e,i=ce(l,[a&256&&r[8],a&4096&&r[12]]))},i:pe,o:pe,d(r){r&&N(e),t[25](null),n=!1,Ne(o)}}}function Sa(t){let e,n,o,l,i,r=[t[8],t[12]],a={};for(let s=0;s<r.length;s+=1)a=G(a,r[s]);return{c(){e=F("div"),re(e,a)},m(s,u){E(s,e,u),t[24](e),o=!0,l||(i=[Ue(t[8].action(e)),H(e,"mouseup",t[19])],l=!0)},p(s,u){t=s,re(e,a=ce(r,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(n&&n.end(1),o=!0)},o(s){s&&(n=vn(e,t[5],t[6])),o=!1},d(s){s&&N(e),t[24](null),s&&n&&n.end(),l=!1,Ne(i)}}}function Aa(t){let e,n,o,l,i=[t[8],t[12]],r={};for(let a=0;a<i.length;a+=1)r=G(r,i[a]);return{c(){e=F("div"),re(e,r)},m(a,s){E(a,e,s),t[23](e),o||(l=[Ue(t[8].action(e)),H(e,"mouseup",t[18])],o=!0)},p(a,s){t=a,re(e,r=ce(i,[s&256&&t[8],s&4096&&t[12]]))},i(a){a&&(n||ze(()=>{n=bn(e,t[3],t[4]),n.start()}))},o:pe,d(a){a&&N(e),t[23](null),o=!1,Ne(l)}}}function Pa(t){let e,n,o,l,i,r,a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=G(s,a[u]);return{c(){e=F("div"),re(e,s)},m(u,f){E(u,e,f),t[22](e),l=!0,i||(r=[Ue(t[8].action(e)),H(e,"mouseup",t[17])],i=!0)},p(u,f){t=u,re(e,s=ce(a,[f&256&&t[8],f&4096&&t[12]]))},i(u){l||(u&&ze(()=>{l&&(o&&o.end(1),n=bn(e,t[3],t[4]),n.start())}),l=!0)},o(u){n&&n.invalidate(),u&&(o=vn(e,t[5],t[6])),l=!1},d(u){u&&N(e),t[22](null),u&&o&&o.end(),i=!1,Ne(r)}}}function Na(t){let e,n,o,l,i,r=[t[8],t[12]],a={};for(let s=0;s<r.length;s+=1)a=G(a,r[s]);return{c(){e=F("div"),re(e,a)},m(s,u){E(s,e,u),t[21](e),o=!0,l||(i=[H(e,"mouseup",t[16]),Ue(t[8].action(e))],l=!0)},p(s,u){t=s,re(e,a=ce(r,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(s&&ze(()=>{o&&(n||(n=cn(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(s){s&&(n||(n=cn(e,t[1],t[2],!1)),n.run(0)),o=!1},d(s){s&&N(e),t[21](null),s&&n&&n.end(),l=!1,Ne(i)}}}function Ea(t){let e;const n=t[15].default,o=me(n,t,t[14],Wo);return{c(){o&&o.c()},m(l,i){o&&o.m(l,i),e=!0},p(l,i){o&&o.p&&(!e||i&16640)&&_e(o,n,l,l[14],e?he(n,l[14],i,Ia):ge(l[14]),Wo)},i(l){e||(A(o,l),e=!0)},o(l){M(o,l),e=!1},d(l){o&&o.d(l)}}}function Oa(t){let e,n,o,l;const i=[Ea,Na,Pa,Aa,Sa,Ta],r=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=r[e]=i[e](t)),{c(){n&&n.c(),o=Ee()},m(s,u){~e&&r[e].m(s,u),E(s,o,u),l=!0},p(s,[u]){let f=e;e=a(s),e===f?~e&&r[e].p(s,u):(n&&(qe(),M(r[f],1,1,()=>{r[f]=null}),je()),~e?(n=r[e],n?n.p(s,u):(n=r[e]=i[e](s),n.c()),A(n,1),n.m(o.parentNode,o)):n=null)},i(s){l||(A(n),l=!0)},o(s){M(n),l=!1},d(s){s&&N(o),~e&&r[e].d(s)}}}function Ma(t,e,n){let o;const l=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","el"];let i=z(e,l),r,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:p=void 0}=e,{inTransitionConfig:h=void 0}=e,{outTransition:m=void 0}=e,{outTransitionConfig:_=void 0}=e,{asChild:b=!1}=e,{el:C=void 0}=e;const{elements:{overlay:k},states:{open:P},getAttrs:W}=Mt();le(t,k,S=>n(13,r=S)),le(t,P,S=>n(9,a=S));const Y=W("overlay");function d(S){X.call(this,t,S)}function B(S){X.call(this,t,S)}function I(S){X.call(this,t,S)}function L(S){X.call(this,t,S)}function q(S){X.call(this,t,S)}function T(S){Oe[S?"unshift":"push"](()=>{C=S,n(0,C)})}function g(S){Oe[S?"unshift":"push"](()=>{C=S,n(0,C)})}function v(S){Oe[S?"unshift":"push"](()=>{C=S,n(0,C)})}function w(S){Oe[S?"unshift":"push"](()=>{C=S,n(0,C)})}function O(S){Oe[S?"unshift":"push"](()=>{C=S,n(0,C)})}return t.$$set=S=>{e=G(G({},e),Te(S)),n(12,i=z(e,l)),"transition"in S&&n(1,f=S.transition),"transitionConfig"in S&&n(2,c=S.transitionConfig),"inTransition"in S&&n(3,p=S.inTransition),"inTransitionConfig"in S&&n(4,h=S.inTransitionConfig),"outTransition"in S&&n(5,m=S.outTransition),"outTransitionConfig"in S&&n(6,_=S.outTransitionConfig),"asChild"in S&&n(7,b=S.asChild),"el"in S&&n(0,C=S.el),"$$scope"in S&&n(14,u=S.$$scope)},t.$$.update=()=>{t.$$.dirty&8192&&n(8,o=r),t.$$.dirty&256&&Object.assign(o,Y)},[C,f,c,p,h,m,_,b,o,a,k,P,i,r,u,s,d,B,I,L,q,T,g,v,w,O]}let yl=class extends ae{constructor(e){super(),se(this,e,Ma,Oa,te,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,el:0})}};const La=t=>({builder:t&4}),Vo=t=>({builder:t[2]}),Fa=t=>({builder:t&4}),Uo=t=>({builder:t[2]});function Ra(t){let e,n,o,l;const i=t[8].default,r=me(i,t,t[7],Vo);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=G(s,a[u]);return{c(){e=F("div"),r&&r.c(),re(e,s)},m(u,f){E(u,e,f),r&&r.m(e,null),t[9](e),n=!0,o||(l=Ue(t[2].action(e)),o=!0)},p(u,f){r&&r.p&&(!n||f&132)&&_e(r,i,u,u[7],n?he(i,u[7],f,La):ge(u[7]),Vo),re(e,s=ce(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(A(r,u),n=!0)},o(u){M(r,u),n=!1},d(u){u&&N(e),r&&r.d(u),t[9](null),o=!1,l()}}}function Da(t){let e;const n=t[8].default,o=me(n,t,t[7],Uo);return{c(){o&&o.c()},m(l,i){o&&o.m(l,i),e=!0},p(l,i){o&&o.p&&(!e||i&132)&&_e(o,n,l,l[7],e?he(n,l[7],i,Fa):ge(l[7]),Uo)},i(l){e||(A(o,l),e=!0)},o(l){M(o,l),e=!1},d(l){o&&o.d(l)}}}function qa(t){let e,n,o,l;const i=[Da,Ra],r=[];function a(s,u){return s[1]?0:1}return e=a(t),n=r[e]=i[e](t),{c(){n.c(),o=Ee()},m(s,u){r[e].m(s,u),E(s,o,u),l=!0},p(s,[u]){let f=e;e=a(s),e===f?r[e].p(s,u):(qe(),M(r[f],1,1,()=>{r[f]=null}),je(),n=r[e],n?n.p(s,u):(n=r[e]=i[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){l||(A(n),l=!0)},o(s){M(n),l=!1},d(s){s&&N(o),r[e].d(s)}}}function ja(t,e,n){let o;const l=["asChild","id","el"];let i=z(e,l),r,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{description:p},ids:h,getAttrs:m}=Mt();le(t,p,C=>n(6,r=C));const _=m("description");function b(C){Oe[C?"unshift":"push"](()=>{c=C,n(0,c)})}return t.$$set=C=>{e=G(G({},e),Te(C)),n(4,i=z(e,l)),"asChild"in C&&n(1,u=C.asChild),"id"in C&&n(5,f=C.id),"el"in C&&n(0,c=C.el),"$$scope"in C&&n(7,s=C.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f&&h.description.set(f),t.$$.dirty&64&&n(2,o=r),t.$$.dirty&4&&Object.assign(o,_)},[c,u,o,p,i,f,r,s,a,b]}let wl=class extends ae{constructor(e){super(),se(this,e,ja,qa,te,{asChild:1,id:5,el:0})}};function Ba(){const t="label",n=xn(t,["root"]);return{NAME:t,getAttrs:n}}const Ga=t=>({builder:t&4}),Ko=t=>({builder:t[2]}),Wa=t=>({builder:t&4}),Ho=t=>({builder:t[2]});function Va(t){let e,n,o,l;const i=t[8].default,r=me(i,t,t[7],Ko);let a=[t[2],t[5]],s={};for(let u=0;u<a.length;u+=1)s=G(s,a[u]);return{c(){e=F("label"),r&&r.c(),re(e,s)},m(u,f){E(u,e,f),r&&r.m(e,null),t[9](e),n=!0,o||(l=[Ue(t[2].action(e)),H(e,"m-mousedown",t[4])],o=!0)},p(u,f){r&&r.p&&(!n||f&132)&&_e(r,i,u,u[7],n?he(i,u[7],f,Ga):ge(u[7]),Ko),re(e,s=ce(a,[f&4&&u[2],f&32&&u[5]]))},i(u){n||(A(r,u),n=!0)},o(u){M(r,u),n=!1},d(u){u&&N(e),r&&r.d(u),t[9](null),o=!1,Ne(l)}}}function Ua(t){let e;const n=t[8].default,o=me(n,t,t[7],Ho);return{c(){o&&o.c()},m(l,i){o&&o.m(l,i),e=!0},p(l,i){o&&o.p&&(!e||i&132)&&_e(o,n,l,l[7],e?he(n,l[7],i,Wa):ge(l[7]),Ho)},i(l){e||(A(o,l),e=!0)},o(l){M(o,l),e=!1},d(l){o&&o.d(l)}}}function Ka(t){let e,n,o,l;const i=[Ua,Va],r=[];function a(s,u){return s[1]?0:1}return e=a(t),n=r[e]=i[e](t),{c(){n.c(),o=Ee()},m(s,u){r[e].m(s,u),E(s,o,u),l=!0},p(s,[u]){let f=e;e=a(s),e===f?r[e].p(s,u):(qe(),M(r[f],1,1,()=>{r[f]=null}),je(),n=r[e],n?n.p(s,u):(n=r[e]=i[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){l||(A(n),l=!0)},o(s){M(n),l=!1},d(s){s&&N(o),r[e].d(s)}}}function Ha(t,e,n){let o;const l=["asChild","el"];let i=z(e,l),r,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{root:c}}=ws();le(t,c,b=>n(6,r=b));const p=cl(),{getAttrs:h}=Ba(),m=h("root");function _(b){Oe[b?"unshift":"push"](()=>{f=b,n(0,f)})}return t.$$set=b=>{e=G(G({},e),Te(b)),n(5,i=z(e,l)),"asChild"in b&&n(1,u=b.asChild),"el"in b&&n(0,f=b.el),"$$scope"in b&&n(7,s=b.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=r),t.$$.dirty&4&&Object.assign(o,m)},[f,u,o,c,p,i,r,s,a,_]}let Ja=class extends ae{constructor(e){super(),se(this,e,Ha,Ka,te,{asChild:1,el:0})}};function kl(t){var e,n,o="";if(typeof t=="string"||typeof t=="number")o+=t;else if(typeof t=="object")if(Array.isArray(t)){var l=t.length;for(e=0;e<l;e++)t[e]&&(n=kl(t[e]))&&(o&&(o+=" "),o+=n)}else for(n in t)t[n]&&(o&&(o+=" "),o+=n);return o}function Ya(){for(var t,e,n=0,o="",l=arguments.length;n<l;n++)(t=arguments[n])&&(e=kl(t))&&(o&&(o+=" "),o+=e);return o}const eo="-";function Xa(t){const e=Qa(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:o}=t;function l(r){const a=r.split(eo);return a[0]===""&&a.length!==1&&a.shift(),Cl(a,e)||Za(r)}function i(r,a){const s=n[r]||[];return a&&o[r]?[...s,...o[r]]:s}return{getClassGroupId:l,getConflictingClassGroupIds:i}}function Cl(t,e){var r;if(t.length===0)return e.classGroupId;const n=t[0],o=e.nextPart.get(n),l=o?Cl(t.slice(1),o):void 0;if(l)return l;if(e.validators.length===0)return;const i=t.join(eo);return(r=e.validators.find(({validator:a})=>a(i)))==null?void 0:r.classGroupId}const Jo=/^\[(.+)\]$/;function Za(t){if(Jo.test(t)){const e=Jo.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function Qa(t){const{theme:e,prefix:n}=t,o={nextPart:new Map,validators:[]};return za(Object.entries(t.classGroups),n).forEach(([i,r])=>{jn(r,o,i,e)}),o}function jn(t,e,n,o){t.forEach(l=>{if(typeof l=="string"){const i=l===""?e:Yo(e,l);i.classGroupId=n;return}if(typeof l=="function"){if($a(l)){jn(l(o),e,n,o);return}e.validators.push({validator:l,classGroupId:n});return}Object.entries(l).forEach(([i,r])=>{jn(r,Yo(e,i),n,o)})})}function Yo(t,e){let n=t;return e.split(eo).forEach(o=>{n.nextPart.has(o)||n.nextPart.set(o,{nextPart:new Map,validators:[]}),n=n.nextPart.get(o)}),n}function $a(t){return t.isThemeGetter}function za(t,e){return e?t.map(([n,o])=>{const l=o.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([r,a])=>[e+r,a])):i);return[n,l]}):t}function xa(t){if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,o=new Map;function l(i,r){n.set(i,r),e++,e>t&&(e=0,o=n,n=new Map)}return{get(i){let r=n.get(i);if(r!==void 0)return r;if((r=o.get(i))!==void 0)return l(i,r),r},set(i,r){n.has(i)?n.set(i,r):l(i,r)}}}const Il="!";function eu(t){const e=t.separator,n=e.length===1,o=e[0],l=e.length;return function(r){const a=[];let s=0,u=0,f;for(let _=0;_<r.length;_++){let b=r[_];if(s===0){if(b===o&&(n||r.slice(_,_+l)===e)){a.push(r.slice(u,_)),u=_+l;continue}if(b==="/"){f=_;continue}}b==="["?s++:b==="]"&&s--}const c=a.length===0?r:r.substring(u),p=c.startsWith(Il),h=p?c.substring(1):c,m=f&&f>u?f-u:void 0;return{modifiers:a,hasImportantModifier:p,baseClassName:h,maybePostfixModifierPosition:m}}}function tu(t){if(t.length<=1)return t;const e=[];let n=[];return t.forEach(o=>{o[0]==="["?(e.push(...n.sort(),o),n=[]):n.push(o)}),e.push(...n.sort()),e}function nu(t){return{cache:xa(t.cacheSize),splitModifiers:eu(t),...Xa(t)}}const ou=/\s+/;function iu(t,e){const{splitModifiers:n,getClassGroupId:o,getConflictingClassGroupIds:l}=e,i=new Set;return t.trim().split(ou).map(r=>{const{modifiers:a,hasImportantModifier:s,baseClassName:u,maybePostfixModifierPosition:f}=n(r);let c=o(f?u.substring(0,f):u),p=!!f;if(!c){if(!f)return{isTailwindClass:!1,originalClassName:r};if(c=o(u),!c)return{isTailwindClass:!1,originalClassName:r};p=!1}const h=tu(a).join(":");return{isTailwindClass:!0,modifierId:s?h+Il:h,classGroupId:c,originalClassName:r,hasPostfixModifier:p}}).reverse().filter(r=>{if(!r.isTailwindClass)return!0;const{modifierId:a,classGroupId:s,hasPostfixModifier:u}=r,f=a+s;return i.has(f)?!1:(i.add(f),l(s,u).forEach(c=>i.add(a+c)),!0)}).reverse().map(r=>r.originalClassName).join(" ")}function lu(){let t=0,e,n,o="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Tl(e))&&(o&&(o+=" "),o+=n);return o}function Tl(t){if(typeof t=="string")return t;let e,n="";for(let o=0;o<t.length;o++)t[o]&&(e=Tl(t[o]))&&(n&&(n+=" "),n+=e);return n}function Bn(t,...e){let n,o,l,i=r;function r(s){const u=e.reduce((f,c)=>c(f),t());return n=nu(u),o=n.cache.get,l=n.cache.set,i=a,a(s)}function a(s){const u=o(s);if(u)return u;const f=iu(s,n);return l(s,f),f}return function(){return i(lu.apply(null,arguments))}}function Pe(t){const e=n=>n[t]||[];return e.isThemeGetter=!0,e}const Sl=/^\[(?:([a-z-]+):)?(.+)\]$/i,ru=/^\d+\/\d+$/,su=new Set(["px","full","screen"]),au=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,uu=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,fu=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,cu=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,du=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function tt(t){return vt(t)||su.has(t)||ru.test(t)}function at(t){return Lt(t,"length",yu)}function vt(t){return!!t&&!Number.isNaN(Number(t))}function en(t){return Lt(t,"number",vt)}function Dt(t){return!!t&&Number.isInteger(Number(t))}function pu(t){return t.endsWith("%")&&vt(t.slice(0,-1))}function oe(t){return Sl.test(t)}function ut(t){return au.test(t)}const mu=new Set(["length","size","percentage"]);function hu(t){return Lt(t,mu,Al)}function _u(t){return Lt(t,"position",Al)}const gu=new Set(["image","url"]);function bu(t){return Lt(t,gu,ku)}function vu(t){return Lt(t,"",wu)}function qt(){return!0}function Lt(t,e,n){const o=Sl.exec(t);return o?o[1]?typeof e=="string"?o[1]===e:e.has(o[1]):n(o[2]):!1}function yu(t){return uu.test(t)&&!fu.test(t)}function Al(){return!1}function wu(t){return cu.test(t)}function ku(t){return du.test(t)}function Gn(){const t=Pe("colors"),e=Pe("spacing"),n=Pe("blur"),o=Pe("brightness"),l=Pe("borderColor"),i=Pe("borderRadius"),r=Pe("borderSpacing"),a=Pe("borderWidth"),s=Pe("contrast"),u=Pe("grayscale"),f=Pe("hueRotate"),c=Pe("invert"),p=Pe("gap"),h=Pe("gradientColorStops"),m=Pe("gradientColorStopPositions"),_=Pe("inset"),b=Pe("margin"),C=Pe("opacity"),k=Pe("padding"),P=Pe("saturate"),W=Pe("scale"),Y=Pe("sepia"),d=Pe("skew"),B=Pe("space"),I=Pe("translate"),L=()=>["auto","contain","none"],q=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto",oe,e],g=()=>[oe,e],v=()=>["",tt,at],w=()=>["auto",vt,oe],O=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],S=()=>["solid","dashed","dotted","double","none"],V=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"],J=()=>["start","end","center","between","around","evenly","stretch"],U=()=>["","0",oe],ee=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ie=()=>[vt,en],ue=()=>[vt,oe];return{cacheSize:500,separator:":",theme:{colors:[qt],spacing:[tt,at],blur:["none","",ut,oe],brightness:ie(),borderColor:[t],borderRadius:["none","","full",ut,oe],borderSpacing:g(),borderWidth:v(),contrast:ie(),grayscale:U(),hueRotate:ue(),invert:U(),gap:g(),gradientColorStops:[t],gradientColorStopPositions:[pu,at],inset:T(),margin:T(),opacity:ie(),padding:g(),saturate:ie(),scale:ie(),sepia:U(),skew:ue(),space:g(),translate:g()},classGroups:{aspect:[{aspect:["auto","square","video",oe]}],container:["container"],columns:[{columns:[ut]}],"break-after":[{"break-after":ee()}],"break-before":[{"break-before":ee()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...O(),oe]}],overflow:[{overflow:q()}],"overflow-x":[{"overflow-x":q()}],"overflow-y":[{"overflow-y":q()}],overscroll:[{overscroll:L()}],"overscroll-x":[{"overscroll-x":L()}],"overscroll-y":[{"overscroll-y":L()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Dt,oe]}],basis:[{basis:T()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",oe]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",Dt,oe]}],"grid-cols":[{"grid-cols":[qt]}],"col-start-end":[{col:["auto",{span:["full",Dt,oe]},oe]}],"col-start":[{"col-start":w()}],"col-end":[{"col-end":w()}],"grid-rows":[{"grid-rows":[qt]}],"row-start-end":[{row:["auto",{span:[Dt,oe]},oe]}],"row-start":[{"row-start":w()}],"row-end":[{"row-end":w()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",oe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",oe]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...J()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...J(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...J(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[k]}],px:[{px:[k]}],py:[{py:[k]}],ps:[{ps:[k]}],pe:[{pe:[k]}],pt:[{pt:[k]}],pr:[{pr:[k]}],pb:[{pb:[k]}],pl:[{pl:[k]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[B]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[B]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",oe,e]}],"min-w":[{"min-w":[oe,e,"min","max","fit"]}],"max-w":[{"max-w":[oe,e,"none","full","min","max","fit","prose",{screen:[ut]},ut]}],h:[{h:[oe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[oe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[oe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[oe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ut,at]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",en]}],"font-family":[{font:[qt]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",oe]}],"line-clamp":[{"line-clamp":["none",vt,en]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",tt,oe]}],"list-image":[{"list-image":["none",oe]}],"list-style-type":[{list:["none","disc","decimal",oe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[C]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[C]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...S(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",tt,at]}],"underline-offset":[{"underline-offset":["auto",tt,oe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:g()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",oe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",oe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[C]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...O(),_u]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",hu]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},bu]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[C]}],"border-style":[{border:[...S(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[C]}],"divide-style":[{divide:S()}],"border-color":[{border:[l]}],"border-color-x":[{"border-x":[l]}],"border-color-y":[{"border-y":[l]}],"border-color-t":[{"border-t":[l]}],"border-color-r":[{"border-r":[l]}],"border-color-b":[{"border-b":[l]}],"border-color-l":[{"border-l":[l]}],"divide-color":[{divide:[l]}],"outline-style":[{outline:["",...S()]}],"outline-offset":[{"outline-offset":[tt,oe]}],"outline-w":[{outline:[tt,at]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:v()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[C]}],"ring-offset-w":[{"ring-offset":[tt,at]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ut,vu]}],"shadow-color":[{shadow:[qt]}],opacity:[{opacity:[C]}],"mix-blend":[{"mix-blend":V()}],"bg-blend":[{"bg-blend":V()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[o]}],contrast:[{contrast:[s]}],"drop-shadow":[{"drop-shadow":["","none",ut,oe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[c]}],saturate:[{saturate:[P]}],sepia:[{sepia:[Y]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[o]}],"backdrop-contrast":[{"backdrop-contrast":[s]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[c]}],"backdrop-opacity":[{"backdrop-opacity":[C]}],"backdrop-saturate":[{"backdrop-saturate":[P]}],"backdrop-sepia":[{"backdrop-sepia":[Y]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[r]}],"border-spacing-x":[{"border-spacing-x":[r]}],"border-spacing-y":[{"border-spacing-y":[r]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",oe]}],duration:[{duration:ue()}],ease:[{ease:["linear","in","out","in-out",oe]}],delay:[{delay:ue()}],animate:[{animate:["none","spin","ping","pulse","bounce",oe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[W]}],"scale-x":[{"scale-x":[W]}],"scale-y":[{"scale-y":[W]}],rotate:[{rotate:[Dt,oe]}],"translate-x":[{"translate-x":[I]}],"translate-y":[{"translate-y":[I]}],"skew-x":[{"skew-x":[d]}],"skew-y":[{"skew-y":[d]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",oe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",oe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":g()}],"scroll-mx":[{"scroll-mx":g()}],"scroll-my":[{"scroll-my":g()}],"scroll-ms":[{"scroll-ms":g()}],"scroll-me":[{"scroll-me":g()}],"scroll-mt":[{"scroll-mt":g()}],"scroll-mr":[{"scroll-mr":g()}],"scroll-mb":[{"scroll-mb":g()}],"scroll-ml":[{"scroll-ml":g()}],"scroll-p":[{"scroll-p":g()}],"scroll-px":[{"scroll-px":g()}],"scroll-py":[{"scroll-py":g()}],"scroll-ps":[{"scroll-ps":g()}],"scroll-pe":[{"scroll-pe":g()}],"scroll-pt":[{"scroll-pt":g()}],"scroll-pr":[{"scroll-pr":g()}],"scroll-pb":[{"scroll-pb":g()}],"scroll-pl":[{"scroll-pl":g()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",oe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[tt,at,en]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}function Cu(t,{cacheSize:e,prefix:n,separator:o,extend:l={},override:i={}}){ln(t,"cacheSize",e),ln(t,"prefix",n),ln(t,"separator",o);for(const r in i)Iu(t[r],i[r]);for(const r in l)Tu(t[r],l[r]);return t}function ln(t,e,n){n!==void 0&&(t[e]=n)}function Iu(t,e){if(e)for(const n in e)ln(t,n,e[n])}function Tu(t,e){if(e)for(const n in e){const o=e[n];o!==void 0&&(t[n]=(t[n]||[]).concat(o))}}function Su(t,...e){return typeof t=="function"?Bn(Gn,t,...e):Bn(()=>Cu(Gn(),t),...e)}const Pl=Bn(Gn);function Nl(t){const e=t-1;return e*e*e+1}function ye(...t){return Pl(Ya(t))}const El=(t,e={y:-8,x:0,start:.95,duration:150})=>{const n=getComputedStyle(t),o=n.transform==="none"?"":n.transform,l=(r,a,s)=>{const[u,f]=a,[c,p]=s;return(r-u)/(f-u)*(p-c)+c},i=r=>Object.keys(r).reduce((a,s)=>r[s]===void 0?a:a+`${s}:${r[s]};`,"");return{duration:e.duration??200,delay:0,css:r=>{const a=l(r,[0,1],[e.y??5,0]),s=l(r,[0,1],[e.x??0,0]),u=l(r,[0,1],[e.start??.95,1]);return i({transform:`${o} translate3d(${s}px, ${a}px, 0) scale(${u})`,opacity:r})},easing:Nl}};function Au(t){let e,n;const o=[{class:ye("shrink-0 bg-border",t[1]==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t[0])},{orientation:t[1]},{decorative:t[2]},t[3]];let l={};for(let i=0;i<o.length;i+=1)l=G(l,o[i]);return e=new Ws({props:l}),{c(){$(e.$$.fragment)},m(i,r){Z(e,i,r),n=!0},p(i,[r]){const a=r&15?ce(o,[r&3&&{class:ye("shrink-0 bg-border",i[1]==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",i[0])},r&2&&{orientation:i[1]},r&4&&{decorative:i[2]},r&8&&Ze(i[3])]):{};e.$set(a)},i(i){n||(A(e.$$.fragment,i),n=!0)},o(i){M(e.$$.fragment,i),n=!1},d(i){Q(e,i)}}}function Pu(t,e,n){const o=["class","orientation","decorative"];let l=z(e,o),{class:i=void 0}=e,{orientation:r="horizontal"}=e,{decorative:a=void 0}=e;return t.$$set=s=>{e=G(G({},e),Te(s)),n(3,l=z(e,o)),"class"in s&&n(0,i=s.class),"orientation"in s&&n(1,r=s.orientation),"decorative"in s&&n(2,a=s.decorative)},[i,r,a,l]}class Ol extends ae{constructor(e){super(),se(this,e,Pu,Au,te,{class:0,orientation:1,decorative:2})}}var Xo=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Qe=t=>!t||typeof t!="object"||Object.keys(t).length===0,Nu=(t,e)=>JSON.stringify(t)===JSON.stringify(e);function Ml(t,e){t.forEach(function(n){Array.isArray(n)?Ml(n,e):e.push(n)})}function Ll(t){let e=[];return Ml(t,e),e}var Fl=(...t)=>Ll(t).filter(Boolean),Rl=(t,e)=>{let n={},o=Object.keys(t),l=Object.keys(e);for(let i of o)if(l.includes(i)){let r=t[i],a=e[i];typeof r=="object"&&typeof a=="object"?n[i]=Rl(r,a):Array.isArray(r)||Array.isArray(a)?n[i]=Fl(a,r):n[i]=a+" "+r}else n[i]=t[i];for(let i of l)o.includes(i)||(n[i]=e[i]);return n},Zo=t=>!t||typeof t!="string"?t:t.replace(/\s+/g," ").trim(),Eu={twMerge:!0,twMergeConfig:{},responsiveVariants:!1},Dl=t=>t||void 0,Jt=(...t)=>Dl(Ll(t).filter(Boolean).join(" ")),Nn=null,ot={},Wn=!1,jt=(...t)=>e=>e.twMerge?((!Nn||Wn)&&(Wn=!1,Nn=Qe(ot)?Pl:Su({...ot,extend:{theme:ot.theme,classGroups:ot.classGroups,conflictingClassGroupModifiers:ot.conflictingClassGroupModifiers,conflictingClassGroups:ot.conflictingClassGroups,...ot.extend}})),Dl(Nn(Jt(t)))):Jt(t),Qo=(t,e)=>{for(let n in e)t.hasOwnProperty(n)?t[n]=Jt(t[n],e[n]):t[n]=e[n];return t},to=(t,e)=>{let{extend:n=null,slots:o={},variants:l={},compoundVariants:i=[],compoundSlots:r=[],defaultVariants:a={}}=t,s={...Eu,...e},u=n!=null&&n.base?Jt(n.base,t==null?void 0:t.base):t==null?void 0:t.base,f=n!=null&&n.variants&&!Qe(n.variants)?Rl(l,n.variants):l,c=n!=null&&n.defaultVariants&&!Qe(n.defaultVariants)?{...n.defaultVariants,...a}:a;!Qe(s.twMergeConfig)&&!Nu(s.twMergeConfig,ot)&&(Wn=!0,ot=s.twMergeConfig);let p=Qe(n==null?void 0:n.slots),h=Qe(o)?{}:{base:Jt(t==null?void 0:t.base,p&&(n==null?void 0:n.base)),...o},m=p?h:Qo({...n==null?void 0:n.slots},Qe(h)?{base:t==null?void 0:t.base}:h),_=C=>{if(Qe(f)&&Qe(o)&&p)return jt(u,C==null?void 0:C.class,C==null?void 0:C.className)(s);if(i&&!Array.isArray(i))throw new TypeError(`The "compoundVariants" prop must be an array. Received: ${typeof i}`);if(r&&!Array.isArray(r))throw new TypeError(`The "compoundSlots" prop must be an array. Received: ${typeof r}`);let k=(g,v,w=[],O)=>{let S=w;if(typeof v=="string")S=S.concat(Zo(v).split(" ").map(V=>`${g}:${V}`));else if(Array.isArray(v))S=S.concat(v.reduce((V,J)=>V.concat(`${g}:${J}`),[]));else if(typeof v=="object"&&typeof O=="string"){for(let V in v)if(v.hasOwnProperty(V)&&V===O){let J=v[V];if(J&&typeof J=="string"){let U=Zo(J);S[O]?S[O]=S[O].concat(U.split(" ").map(ee=>`${g}:${ee}`)):S[O]=U.split(" ").map(ee=>`${g}:${ee}`)}else Array.isArray(J)&&J.length>0&&(S[O]=J.reduce((U,ee)=>U.concat(`${g}:${ee}`),[]))}}return S},P=(g,v=f,w=null,O=null)=>{var S;let V=v[g];if(!V||Qe(V))return null;let J=(S=O==null?void 0:O[g])!=null?S:C==null?void 0:C[g];if(J===null)return null;let U=Xo(J),ee=Array.isArray(s.responsiveVariants)&&s.responsiveVariants.length>0||s.responsiveVariants===!0,ie=c==null?void 0:c[g],ue=[];if(typeof U=="object"&&ee)for(let[be,ve]of Object.entries(U)){let we=V[ve];if(be==="initial"){ie=ve;continue}Array.isArray(s.responsiveVariants)&&!s.responsiveVariants.includes(be)||(ue=k(be,we,ue,w))}let Me=U!=null&&typeof U!="object"?U:Xo(ie),Se=V[Me]||V.false;return typeof ue=="object"&&typeof w=="string"&&ue[w]?Qo(ue,Se):ue.length>0?(ue.push(Se),ue):Se},W=()=>f?Object.keys(f).map(g=>P(g,f)):null,Y=(g,v)=>{if(!f||typeof f!="object")return null;let w=new Array;for(let O in f){let S=P(O,f,g,v),V=g==="base"&&typeof S=="string"?S:S&&S[g];V&&(w[w.length]=V)}return w},d={};for(let g in C)C[g]!==void 0&&(d[g]=C[g]);let B=(g,v)=>{var w;let O=typeof(C==null?void 0:C[g])=="object"?{[g]:(w=C[g])==null?void 0:w.initial}:{};return{...c,...d,...O,...v}},I=(g=[],v)=>{let w=[];for(let{class:O,className:S,...V}of g){let J=!0;for(let[U,ee]of Object.entries(V)){let ie=B(U,v);if(Array.isArray(ee)){if(!ee.includes(ie[U])){J=!1;break}}else if(ie[U]!==ee){J=!1;break}}J&&(O&&w.push(O),S&&w.push(S))}return w},L=g=>{let v=I(i,g),w=I(n==null?void 0:n.compoundVariants,g);return Fl(w,v)},q=g=>{let v=L(g);if(!Array.isArray(v))return v;let w={};for(let O of v)if(typeof O=="string"&&(w.base=jt(w.base,O)(s)),typeof O=="object")for(let[S,V]of Object.entries(O))w[S]=jt(w[S],V)(s);return w},T=g=>{if(r.length<1)return null;let v={};for(let{slots:w=[],class:O,className:S,...V}of r){if(!Qe(V)){let J=!0;for(let U of Object.keys(V)){let ee=B(U,g)[U];if(ee===void 0||(Array.isArray(V[U])?!V[U].includes(ee):V[U]!==ee)){J=!1;break}}if(!J)continue}for(let J of w)v[J]=v[J]||[],v[J].push([O,S])}return v};if(!Qe(o)||!p){let g={};if(typeof m=="object"&&!Qe(m))for(let v of Object.keys(m))g[v]=w=>{var O,S;return jt(m[v],Y(v,w),((O=q(w))!=null?O:[])[v],((S=T(w))!=null?S:[])[v],w==null?void 0:w.class,w==null?void 0:w.className)(s)};return g}return jt(u,W(),L(),C==null?void 0:C.class,C==null?void 0:C.className)(s)},b=()=>{if(!(!f||typeof f!="object"))return Object.keys(f)};return _.variantKeys=b(),_.extend=n,_.base=u,_.slots=m,_.variants=f,_.defaultVariants=c,_.compoundSlots=r,_.compoundVariants=i,_};function Ou(t){let e;const n=t[2].default,o=me(n,t,t[3],null);return{c(){o&&o.c()},m(l,i){o&&o.m(l,i),e=!0},p(l,i){o&&o.p&&(!e||i&8)&&_e(o,n,l,l[3],e?he(n,l[3],i,null):ge(l[3]),null)},i(l){e||(A(o,l),e=!0)},o(l){M(o,l),e=!1},d(l){o&&o.d(l)}}}function Mu(t){let e,n;const o=[{class:ye(t[0])},t[1]];let l={$$slots:{default:[Ou]},$$scope:{ctx:t}};for(let i=0;i<o.length;i+=1)l=G(l,o[i]);return e=new bl({props:l}),{c(){$(e.$$.fragment)},m(i,r){Z(e,i,r),n=!0},p(i,[r]){const a=r&3?ce(o,[r&1&&{class:ye(i[0])},r&2&&Ze(i[1])]):{};r&8&&(a.$$scope={dirty:r,ctx:i}),e.$set(a)},i(i){n||(A(e.$$.fragment,i),n=!0)},o(i){M(e.$$.fragment,i),n=!1},d(i){Q(e,i)}}}function Lu(t,e,n){const o=["class"];let l=z(e,o),{$$slots:i={},$$scope:r}=e,{class:a=void 0}=e;return t.$$set=s=>{e=G(G({},e),Te(s)),n(1,l=z(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,r=s.$$scope)},[a,l,i,r]}class Fu extends ae{constructor(e){super(),se(this,e,Lu,Mu,te,{class:0})}}function ql(t,{delay:e=0,duration:n=400,easing:o=_n}={}){const l=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:o,css:i=>`opacity: ${i*l}`}}function $o(t,{delay:e=0,duration:n=400,easing:o=Nl,x:l=0,y:i=0,opacity:r=0}={}){const a=getComputedStyle(t),s=+a.opacity,u=a.transform==="none"?"":a.transform,f=s*(1-r),[c,p]=fo(l),[h,m]=fo(i);return{delay:e,duration:n,easing:o,css:(_,b)=>`
			transform: ${u} translate(${(1-_)*c}${p}, ${(1-_)*h}${m});
			opacity: ${s-f*b}`}}function Ru(t){let e,n;const o=[{transition:t[1]},{transitionConfig:t[2]},{class:ye("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm ",t[0])},t[3]];let l={};for(let i=0;i<o.length;i+=1)l=G(l,o[i]);return e=new yl({props:l}),{c(){$(e.$$.fragment)},m(i,r){Z(e,i,r),n=!0},p(i,[r]){const a=r&15?ce(o,[r&2&&{transition:i[1]},r&4&&{transitionConfig:i[2]},r&1&&{class:ye("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm ",i[0])},r&8&&Ze(i[3])]):{};e.$set(a)},i(i){n||(A(e.$$.fragment,i),n=!0)},o(i){M(e.$$.fragment,i),n=!1},d(i){Q(e,i)}}}function Du(t,e,n){const o=["class","transition","transitionConfig"];let l=z(e,o),{class:i=void 0}=e,{transition:r=ql}=e,{transitionConfig:a={duration:150}}=e;return t.$$set=s=>{e=G(G({},e),Te(s)),n(3,l=z(e,o)),"class"in s&&n(0,i=s.class),"transition"in s&&n(1,r=s.transition),"transitionConfig"in s&&n(2,a=s.transitionConfig)},[i,r,a,l]}class qu extends ae{constructor(e){super(),se(this,e,Du,Ru,te,{class:0,transition:1,transitionConfig:2})}}/**
 * @license lucide-svelte v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ju={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"},zo=ju;function xo(t,e,n){const o=t.slice();return o[10]=e[n][0],o[11]=e[n][1],o}function En(t){let e,n=[t[11]],o={};for(let l=0;l<n.length;l+=1)o=G(o,n[l]);return{c(){e=Xn(t[10]),rn(e,o)},m(l,i){E(l,e,i)},p(l,i){rn(e,o=ce(n,[i&32&&l[11]]))},d(l){l&&N(e)}}}function ei(t){let e=t[10],n,o=t[10]&&En(t);return{c(){o&&o.c(),n=Ee()},m(l,i){o&&o.m(l,i),E(l,n,i)},p(l,i){l[10]?e?te(e,l[10])?(o.d(1),o=En(l),e=l[10],o.c(),o.m(n.parentNode,n)):o.p(l,i):(o=En(l),e=l[10],o.c(),o.m(n.parentNode,n)):e&&(o.d(1),o=null,e=l[10])},d(l){l&&N(n),o&&o.d(l)}}}function Bu(t){let e,n,o,l,i,r=Je(t[5]),a=[];for(let p=0;p<r.length;p+=1)a[p]=ei(xo(t,r,p));const s=t[9].default,u=me(s,t,t[8],null);let f=[zo,t[6],{width:t[2]},{height:t[2]},{stroke:t[1]},{"stroke-width":o=t[4]?Number(t[3])*24/Number(t[2]):t[3]},{class:l=`lucide-icon lucide lucide-${t[0]} ${t[7].class??""}`}],c={};for(let p=0;p<f.length;p+=1)c=G(c,f[p]);return{c(){e=Xn("svg");for(let p=0;p<a.length;p+=1)a[p].c();n=Ee(),u&&u.c(),rn(e,c)},m(p,h){E(p,e,h);for(let m=0;m<a.length;m+=1)a[m]&&a[m].m(e,null);y(e,n),u&&u.m(e,null),i=!0},p(p,[h]){if(h&32){r=Je(p[5]);let m;for(m=0;m<r.length;m+=1){const _=xo(p,r,m);a[m]?a[m].p(_,h):(a[m]=ei(_),a[m].c(),a[m].m(e,n))}for(;m<a.length;m+=1)a[m].d(1);a.length=r.length}u&&u.p&&(!i||h&256)&&_e(u,s,p,p[8],i?he(s,p[8],h,null):ge(p[8]),null),rn(e,c=ce(f,[zo,h&64&&p[6],(!i||h&4)&&{width:p[2]},(!i||h&4)&&{height:p[2]},(!i||h&2)&&{stroke:p[1]},(!i||h&28&&o!==(o=p[4]?Number(p[3])*24/Number(p[2]):p[3]))&&{"stroke-width":o},(!i||h&129&&l!==(l=`lucide-icon lucide lucide-${p[0]} ${p[7].class??""}`))&&{class:l}]))},i(p){i||(A(u,p),i=!0)},o(p){M(u,p),i=!1},d(p){p&&N(e),kt(a,p),u&&u.d(p)}}}function Gu(t,e,n){const o=["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"];let l=z(e,o),{$$slots:i={},$$scope:r}=e,{name:a}=e,{color:s="currentColor"}=e,{size:u=24}=e,{strokeWidth:f=2}=e,{absoluteStrokeWidth:c=!1}=e,{iconNode:p}=e;return t.$$set=h=>{n(7,e=G(G({},e),Te(h))),n(6,l=z(e,o)),"name"in h&&n(0,a=h.name),"color"in h&&n(1,s=h.color),"size"in h&&n(2,u=h.size),"strokeWidth"in h&&n(3,f=h.strokeWidth),"absoluteStrokeWidth"in h&&n(4,c=h.absoluteStrokeWidth),"iconNode"in h&&n(5,p=h.iconNode),"$$scope"in h&&n(8,r=h.$$scope)},e=Te(e),[a,s,u,f,c,p,l,e,r,i]}class Wu extends ae{constructor(e){super(),se(this,e,Gu,Bu,te,{name:0,color:1,size:2,strokeWidth:3,absoluteStrokeWidth:4,iconNode:5})}}function Vu(t){let e;const n=t[2].default,o=me(n,t,t[3],null);return{c(){o&&o.c()},m(l,i){o&&o.m(l,i),e=!0},p(l,i){o&&o.p&&(!e||i&8)&&_e(o,n,l,l[3],e?he(n,l[3],i,null):ge(l[3]),null)},i(l){e||(A(o,l),e=!0)},o(l){M(o,l),e=!1},d(l){o&&o.d(l)}}}function Uu(t){let e,n;const o=[{name:"x"},t[1],{iconNode:t[0]}];let l={$$slots:{default:[Vu]},$$scope:{ctx:t}};for(let i=0;i<o.length;i+=1)l=G(l,o[i]);return e=new Wu({props:l}),{c(){$(e.$$.fragment)},m(i,r){Z(e,i,r),n=!0},p(i,[r]){const a=r&3?ce(o,[o[0],r&2&&Ze(i[1]),r&1&&{iconNode:i[0]}]):{};r&8&&(a.$$scope={dirty:r,ctx:i}),e.$set(a)},i(i){n||(A(e.$$.fragment,i),n=!0)},o(i){M(e.$$.fragment,i),n=!1},d(i){Q(e,i)}}}function Ku(t,e,n){let{$$slots:o={},$$scope:l}=e;const i=[["path",{d:"M18 6 6 18"}],["path",{d:"m6 6 12 12"}]];return t.$$set=r=>{n(1,e=G(G({},e),Te(r))),"$$scope"in r&&n(3,l=r.$$scope)},e=Te(e),[i,e,o,l]}class jl extends ae{constructor(e){super(),se(this,e,Ku,Uu,te,{})}}function Hu(t){let e,n,o,l;return e=new jl({props:{class:"h-4 w-4"}}),{c(){$(e.$$.fragment),n=K(),o=F("span"),o.textContent="Close",R(o,"class","sr-only")},m(i,r){Z(e,i,r),E(i,n,r),E(i,o,r),l=!0},p:pe,i(i){l||(A(e.$$.fragment,i),l=!0)},o(i){M(e.$$.fragment,i),l=!1},d(i){i&&(N(n),N(o)),Q(e,i)}}}function Ju(t){let e,n,o;const l=t[7].default,i=me(l,t,t[8],null);return n=new gl({props:{class:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",$$slots:{default:[Hu]},$$scope:{ctx:t}}}),{c(){i&&i.c(),e=K(),$(n.$$.fragment)},m(r,a){i&&i.m(r,a),E(r,e,a),Z(n,r,a),o=!0},p(r,a){i&&i.p&&(!o||a&256)&&_e(i,l,r,r[8],o?he(l,r[8],a,null):ge(r[8]),null);const s={};a&256&&(s.$$scope={dirty:a,ctx:r}),n.$set(s)},i(r){o||(A(i,r),A(n.$$.fragment,r),o=!0)},o(r){M(i,r),M(n.$$.fragment,r),o=!1},d(r){r&&N(e),i&&i.d(r),Q(n,r)}}}function Yu(t){let e,n,o,l;e=new qu({});const i=[{inTransition:t[2]},{inTransitionConfig:t[3]},{outTransition:t[4]},{outTransitionConfig:t[5]},{class:ye(ti({side:t[1]}),t[0])},t[6]];let r={$$slots:{default:[Ju]},$$scope:{ctx:t}};for(let a=0;a<i.length;a+=1)r=G(r,i[a]);return o=new vl({props:r}),{c(){$(e.$$.fragment),n=K(),$(o.$$.fragment)},m(a,s){Z(e,a,s),E(a,n,s),Z(o,a,s),l=!0},p(a,s){const u=s&127?ce(i,[s&4&&{inTransition:a[2]},s&8&&{inTransitionConfig:a[3]},s&16&&{outTransition:a[4]},s&32&&{outTransitionConfig:a[5]},s&3&&{class:ye(ti({side:a[1]}),a[0])},s&64&&Ze(a[6])]):{};s&256&&(u.$$scope={dirty:s,ctx:a}),o.$set(u)},i(a){l||(A(e.$$.fragment,a),A(o.$$.fragment,a),l=!0)},o(a){M(e.$$.fragment,a),M(o.$$.fragment,a),l=!1},d(a){a&&N(n),Q(e,a),Q(o,a)}}}function Xu(t){let e,n;return e=new Fu({props:{$$slots:{default:[Yu]},$$scope:{ctx:t}}}),{c(){$(e.$$.fragment)},m(o,l){Z(e,o,l),n=!0},p(o,[l]){const i={};l&383&&(i.$$scope={dirty:l,ctx:o}),e.$set(i)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){Q(e,o)}}}function Zu(t,e,n){const o=["class","side","inTransition","inTransitionConfig","outTransition","outTransitionConfig"];let l=z(e,o),{$$slots:i={},$$scope:r}=e,{class:a=void 0}=e,{side:s="right"}=e,{inTransition:u=$o}=e,{inTransitionConfig:f=ni[s||"right"].in}=e,{outTransition:c=$o}=e,{outTransitionConfig:p=ni[s||"right"].out}=e;return t.$$set=h=>{e=G(G({},e),Te(h)),n(6,l=z(e,o)),"class"in h&&n(0,a=h.class),"side"in h&&n(1,s=h.side),"inTransition"in h&&n(2,u=h.inTransition),"inTransitionConfig"in h&&n(3,f=h.inTransitionConfig),"outTransition"in h&&n(4,c=h.outTransition),"outTransitionConfig"in h&&n(5,p=h.outTransitionConfig),"$$scope"in h&&n(8,r=h.$$scope)},[a,s,u,f,c,p,l,i,r]}class Qu extends ae{constructor(e){super(),se(this,e,Zu,Xu,te,{class:0,side:1,inTransition:2,inTransitionConfig:3,outTransition:4,outTransitionConfig:5})}}function $u(t){let e,n,o;const l=t[3].default,i=me(l,t,t[2],null);let r=[{class:n=ye("flex flex-col space-y-2 text-center sm:text-left",t[0])},t[1]],a={};for(let s=0;s<r.length;s+=1)a=G(a,r[s]);return{c(){e=F("div"),i&&i.c(),re(e,a)},m(s,u){E(s,e,u),i&&i.m(e,null),o=!0},p(s,[u]){i&&i.p&&(!o||u&4)&&_e(i,l,s,s[2],o?he(l,s[2],u,null):ge(s[2]),null),re(e,a=ce(r,[(!o||u&1&&n!==(n=ye("flex flex-col space-y-2 text-center sm:text-left",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(A(i,s),o=!0)},o(s){M(i,s),o=!1},d(s){s&&N(e),i&&i.d(s)}}}function zu(t,e,n){const o=["class"];let l=z(e,o),{$$slots:i={},$$scope:r}=e,{class:a=void 0}=e;return t.$$set=s=>{e=G(G({},e),Te(s)),n(1,l=z(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,r=s.$$scope)},[a,l,r,i]}class xu extends ae{constructor(e){super(),se(this,e,zu,$u,te,{class:0})}}function ef(t){let e;const n=t[2].default,o=me(n,t,t[3],null);return{c(){o&&o.c()},m(l,i){o&&o.m(l,i),e=!0},p(l,i){o&&o.p&&(!e||i&8)&&_e(o,n,l,l[3],e?he(n,l[3],i,null):ge(l[3]),null)},i(l){e||(A(o,l),e=!0)},o(l){M(o,l),e=!1},d(l){o&&o.d(l)}}}function tf(t){let e,n;const o=[{class:ye("text-lg font-semibold text-foreground",t[0])},t[1]];let l={$$slots:{default:[ef]},$$scope:{ctx:t}};for(let i=0;i<o.length;i+=1)l=G(l,o[i]);return e=new _l({props:l}),{c(){$(e.$$.fragment)},m(i,r){Z(e,i,r),n=!0},p(i,[r]){const a=r&3?ce(o,[r&1&&{class:ye("text-lg font-semibold text-foreground",i[0])},r&2&&Ze(i[1])]):{};r&8&&(a.$$scope={dirty:r,ctx:i}),e.$set(a)},i(i){n||(A(e.$$.fragment,i),n=!0)},o(i){M(e.$$.fragment,i),n=!1},d(i){Q(e,i)}}}function nf(t,e,n){const o=["class"];let l=z(e,o),{$$slots:i={},$$scope:r}=e,{class:a=void 0}=e;return t.$$set=s=>{e=G(G({},e),Te(s)),n(1,l=z(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,r=s.$$scope)},[a,l,i,r]}class of extends ae{constructor(e){super(),se(this,e,nf,tf,te,{class:0})}}function lf(t){let e;const n=t[2].default,o=me(n,t,t[3],null);return{c(){o&&o.c()},m(l,i){o&&o.m(l,i),e=!0},p(l,i){o&&o.p&&(!e||i&8)&&_e(o,n,l,l[3],e?he(n,l[3],i,null):ge(l[3]),null)},i(l){e||(A(o,l),e=!0)},o(l){M(o,l),e=!1},d(l){o&&o.d(l)}}}function rf(t){let e,n;const o=[{class:ye("text-sm text-muted-foreground",t[0])},t[1]];let l={$$slots:{default:[lf]},$$scope:{ctx:t}};for(let i=0;i<o.length;i+=1)l=G(l,o[i]);return e=new wl({props:l}),{c(){$(e.$$.fragment)},m(i,r){Z(e,i,r),n=!0},p(i,[r]){const a=r&3?ce(o,[r&1&&{class:ye("text-sm text-muted-foreground",i[0])},r&2&&Ze(i[1])]):{};r&8&&(a.$$scope={dirty:r,ctx:i}),e.$set(a)},i(i){n||(A(e.$$.fragment,i),n=!0)},o(i){M(e.$$.fragment,i),n=!1},d(i){Q(e,i)}}}function sf(t,e,n){const o=["class"];let l=z(e,o),{$$slots:i={},$$scope:r}=e,{class:a=void 0}=e;return t.$$set=s=>{e=G(G({},e),Te(s)),n(1,l=z(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,r=s.$$scope)},[a,l,i,r]}class af extends ae{constructor(e){super(),se(this,e,sf,rf,te,{class:0})}}const uf=hl,ti=to({base:"fixed z-50 gap-4 bg-background p-6 shadow-lg",variants:{side:{top:"inset-x-0 top-0 border-b",bottom:"inset-x-0 bottom-0 border-t",left:"inset-y-0 left-0 h-full w-3/4 border-r ",right:"inset-y-0 right-0 h-full w-3/4  border-l"}},defaultVariants:{side:"right"}}),ni={top:{in:{y:"-100%",duration:500,opacity:1},out:{y:"-100%",duration:300,opacity:1}},bottom:{in:{y:"100%",duration:500,opacity:1},out:{y:"100%",duration:300,opacity:1}},left:{in:{x:"-100%",duration:500,opacity:1},out:{x:"-100%",duration:300,opacity:1}},right:{in:{x:"100%",duration:500,opacity:1},out:{x:"100%",duration:300,opacity:1}}};function ff(t){let e,n,o,l,i=[{class:n=ye("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t[1])},t[2]],r={};for(let a=0;a<i.length;a+=1)r=G(r,i[a]);return{c(){e=F("input"),re(e,r)},m(a,s){E(a,e,s),e.autofocus&&e.focus(),gt(e,t[0]),o||(l=[H(e,"input",t[17]),H(e,"blur",t[3]),H(e,"change",t[4]),H(e,"click",t[5]),H(e,"focus",t[6]),H(e,"focusin",t[7]),H(e,"focusout",t[8]),H(e,"keydown",t[9]),H(e,"keypress",t[10]),H(e,"keyup",t[11]),H(e,"mouseover",t[12]),H(e,"mouseenter",t[13]),H(e,"mouseleave",t[14]),H(e,"paste",t[15]),H(e,"input",t[16])],o=!0)},p(a,[s]){re(e,r=ce(i,[s&2&&n!==(n=ye("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a[1]))&&{class:n},s&4&&a[2]])),s&1&&e.value!==a[0]&&gt(e,a[0])},i:pe,o:pe,d(a){a&&N(e),o=!1,Ne(l)}}}function cf(t,e,n){const o=["class","value"];let l=z(e,o),{class:i=void 0}=e,{value:r=void 0}=e;function a(d){X.call(this,t,d)}function s(d){X.call(this,t,d)}function u(d){X.call(this,t,d)}function f(d){X.call(this,t,d)}function c(d){X.call(this,t,d)}function p(d){X.call(this,t,d)}function h(d){X.call(this,t,d)}function m(d){X.call(this,t,d)}function _(d){X.call(this,t,d)}function b(d){X.call(this,t,d)}function C(d){X.call(this,t,d)}function k(d){X.call(this,t,d)}function P(d){X.call(this,t,d)}function W(d){X.call(this,t,d)}function Y(){r=this.value,n(0,r)}return t.$$set=d=>{e=G(G({},e),Te(d)),n(2,l=z(e,o)),"class"in d&&n(1,i=d.class),"value"in d&&n(0,r=d.value)},[r,i,l,a,s,u,f,c,p,h,m,_,b,C,k,P,W,Y]}class no extends ae{constructor(e){super(),se(this,e,cf,ff,te,{class:1,value:0})}}function oi(t,e,n){const o=t.slice();return o[23]=e[n],o}function ii(t,e,n){const o=t.slice();return o[23]=e[n],o}function df(t){let e,n,o=t[2]+1+"",l,i,r=t[1]+1+"",a,s,u;return{c(){e=F("span"),n=j("Set Plot: "),l=j(o),i=j("-"),a=j(r),s=K(),u=F("span"),u.textContent="(press esc to close)",R(e,"class","text-2xl font-bold"),R(u,"class","text-sm")},m(f,c){E(f,e,c),E(f,n,c),E(f,l,c),E(f,i,c),E(f,a,c),E(f,s,c),E(f,u,c)},p(f,c){c&4&&o!==(o=f[2]+1+"")&&ne(l,o),c&2&&r!==(r=f[1]+1+"")&&ne(a,r)},d(f){f&&(N(e),N(n),N(l),N(i),N(a),N(s),N(u))}}}function li(t){let e,n;return e=new af({props:{class:"text-sm",$$slots:{default:[pf]},$$scope:{ctx:t}}}),{c(){$(e.$$.fragment)},m(o,l){Z(e,o,l),n=!0},p(o,l){const i={};l&268435457&&(i.$$scope={dirty:l,ctx:o}),e.$set(i)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){Q(e,o)}}}function pf(t){let e;return{c(){e=j(t[0])},m(n,o){E(n,e,o)},p(n,o){o&1&&ne(e,n[0])},d(n){n&&N(e)}}}function mf(t){let e,n,o,l;e=new of({props:{class:"text-2xl font-bold",$$slots:{default:[df]},$$scope:{ctx:t}}});let i=t[0]!==""&&li(t);return{c(){$(e.$$.fragment),n=K(),i&&i.c(),o=Ee()},m(r,a){Z(e,r,a),E(r,n,a),i&&i.m(r,a),E(r,o,a),l=!0},p(r,a){const s={};a&268435462&&(s.$$scope={dirty:a,ctx:r}),e.$set(s),r[0]!==""?i?(i.p(r,a),a&1&&A(i,1)):(i=li(r),i.c(),A(i,1),i.m(o.parentNode,o)):i&&(qe(),M(i,1,1,()=>{i=null}),je())},i(r){l||(A(e.$$.fragment,r),A(i),l=!0)},o(r){M(e.$$.fragment,r),M(i),l=!1},d(r){r&&(N(n),N(o)),Q(e,r),i&&i.d(r)}}}function ri(t){let e,n,o;return{c(){e=F("button"),e.textContent="🔥 Bulldoze",R(e,"id","bulldoze"),R(e,"class","px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600 transition duration-300 ease-in-out")},m(l,i){E(l,e,i),n||(o=H(e,"click",t[10]),n=!0)},p:pe,d(l){l&&N(e),n=!1,o()}}}function hf(t){let e;return{c(){e=j("No options")},m(n,o){E(n,e,o)},p:pe,d(n){n&&N(e)}}}function _f(t){let e,n=Je(t[5]),o=[];for(let l=0;l<n.length;l+=1)o[l]=ai(ii(t,n,l));return{c(){for(let l=0;l<o.length;l+=1)o[l].c();e=Ee()},m(l,i){for(let r=0;r<o.length;r+=1)o[r]&&o[r].m(l,i);E(l,e,i)},p(l,i){if(i&32){n=Je(l[5]);let r;for(r=0;r<n.length;r+=1){const a=ii(l,n,r);o[r]?o[r].p(a,i):(o[r]=ai(a),o[r].c(),o[r].m(e.parentNode,e))}for(;r<o.length;r+=1)o[r].d(1);o.length=n.length}},d(l){l&&N(e),kt(o,l)}}}function si(t){let e,n=vi(t[23].title)+"",o,l,i;function r(){return t[16](t[23])}return{c(){e=F("span"),o=j(n),R(e,"class","text-xl cursor-pointer hover:bg-slate-300 rounded-lg p-1")},m(a,s){E(a,e,s),y(e,o),l||(i=H(e,"click",r),l=!0)},p(a,s){t=a,s&32&&n!==(n=vi(t[23].title)+"")&&ne(o,n)},d(a){a&&N(e),l=!1,i()}}}function ai(t){let e,n=t[23].affordable&&si(t);return{c(){n&&n.c(),e=Ee()},m(o,l){n&&n.m(o,l),E(o,e,l)},p(o,l){o[23].affordable?n?n.p(o,l):(n=si(o),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(o){o&&N(e),n&&n.d(o)}}}function ui(t){let e,n,o,l,i=t[23].revenue_per_week>0&&fi(t),r=t[23].tourism_revenue_per_week>0&&ci(t);return{c(){e=F("div"),n=F("span"),n.textContent="Profits",o=K(),i&&i.c(),l=K(),r&&r.c(),R(n,"class","text-sm font-semibold"),R(e,"class","profits")},m(a,s){E(a,e,s),y(e,n),y(e,o),i&&i.m(e,null),y(e,l),r&&r.m(e,null)},p(a,s){a[23].revenue_per_week>0?i?i.p(a,s):(i=fi(a),i.c(),i.m(e,l)):i&&(i.d(1),i=null),a[23].tourism_revenue_per_week>0?r?r.p(a,s):(r=ci(a),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},d(a){a&&N(e),i&&i.d(),r&&r.d()}}}function fi(t){let e,n,o,l=He(t[23].revenue_per_week*1,2)+"",i,r,a,s,u=He(t[6].economyAndLaws.tax_rate*t[23].revenue_per_week,2)+"",f,c;return{c(){e=F("p"),n=j(`Profit with Tax Rate:
											
											`),o=F("span"),i=j(l),r=K(),a=F("span"),s=j("("),f=j(u),c=j(" gold)"),R(o,"class","line-through text-xs"),R(a,"class","text-xs"),R(e,"class","text-sm")},m(p,h){E(p,e,h),y(e,n),y(e,o),y(o,i),y(e,r),y(e,a),y(a,s),y(a,f),y(a,c)},p(p,h){h&32&&l!==(l=He(p[23].revenue_per_week*1,2)+"")&&ne(i,l),h&96&&u!==(u=He(p[6].economyAndLaws.tax_rate*p[23].revenue_per_week,2)+"")&&ne(f,u)},d(p){p&&N(e)}}}function ci(t){let e,n,o=t[23].tourism_revenue_per_week+"",l,i,r,a,s=He(t[6].economyAndLaws.tax_rate*t[23].tourism_revenue_per_week*t[6].townInfo.population_count,2)+"",u,f;return{c(){e=F("p"),n=j("Tourism Revenue: "),l=j(o),i=K(),r=F("p"),a=j("Taxed Tourism Revenue: "),u=j(s),f=j(" gold"),R(e,"class","text-xs"),R(r,"class","text-xs")},m(c,p){E(c,e,p),y(e,n),y(e,l),E(c,i,p),E(c,r,p),y(r,a),y(r,u),y(r,f)},p(c,p){p&32&&o!==(o=c[23].tourism_revenue_per_week+"")&&ne(l,o),p&96&&s!==(s=He(c[6].economyAndLaws.tax_rate*c[23].tourism_revenue_per_week*c[6].townInfo.population_count,2)+"")&&ne(u,s)},d(c){c&&(N(e),N(i),N(r))}}}function di(t){let e,n=t[23].requirements.gold+"",o,l,i,r,a=He(t[6].townInfo.gold,0)+"",s,u;return{c(){e=F("p"),o=j(n),l=j(` gold
											`),i=F("span"),r=j("("),s=j(a),u=j(")"),R(i,"class","text-xs"),R(e,"class","text-xs")},m(f,c){E(f,e,c),y(e,o),y(e,l),y(e,i),y(i,r),y(i,s),y(i,u)},p(f,c){c&32&&n!==(n=f[23].requirements.gold+"")&&ne(o,n),c&64&&a!==(a=He(f[6].townInfo.gold,0)+"")&&ne(s,a)},d(f){f&&N(e)}}}function pi(t){let e,n=t[23].requirements.employees+"",o,l,i,r,a=He(t[6].townInfo.population_count-t[6].townInfo.employees,0)+"",s,u;return{c(){e=F("p"),o=j(n),l=j(` employees
											`),i=F("span"),r=j("("),s=j(a),u=j(")"),R(i,"class","text-xs"),R(e,"class","text-sm")},m(f,c){E(f,e,c),y(e,o),y(e,l),y(e,i),y(i,r),y(i,s),y(i,u)},p(f,c){c&32&&n!==(n=f[23].requirements.employees+"")&&ne(o,n),c&64&&a!==(a=He(f[6].townInfo.population_count-f[6].townInfo.employees,0)+"")&&ne(s,a)},d(f){f&&N(e)}}}function mi(t){let e,n=t[23].requirements.knowledge+"",o,l;return{c(){e=F("p"),o=j(n),l=j(" knowledge"),R(e,"class","text-xs")},m(i,r){E(i,e,r),y(e,o),y(e,l)},p(i,r){r&32&&n!==(n=i[23].requirements.knowledge+"")&&ne(o,n)},d(i){i&&N(e)}}}function hi(t){let e,n,o,l,i=t[23].immediate_variable_changes.happiness!==0&&_i(t),r=t[23].immediate_variable_changes.health!==0&&gi(t);return{c(){e=F("div"),n=F("span"),n.textContent="Instant changes",o=K(),i&&i.c(),l=K(),r&&r.c(),R(n,"class","text-sm font-semibold"),R(e,"class","immediate_changes mt-4")},m(a,s){E(a,e,s),y(e,n),y(e,o),i&&i.m(e,null),y(e,l),r&&r.m(e,null)},p(a,s){a[23].immediate_variable_changes.happiness!==0?i?i.p(a,s):(i=_i(a),i.c(),i.m(e,l)):i&&(i.d(1),i=null),a[23].immediate_variable_changes.health!==0?r?r.p(a,s):(r=gi(a),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},d(a){a&&N(e),i&&i.d(),r&&r.d()}}}function _i(t){let e,n,o=t[23].immediate_variable_changes.happiness+"",l;return{c(){e=F("p"),n=j("Happiness: "),l=j(o),R(e,"class","text-xs")},m(i,r){E(i,e,r),y(e,n),y(e,l)},p(i,r){r&32&&o!==(o=i[23].immediate_variable_changes.happiness+"")&&ne(l,o)},d(i){i&&N(e)}}}function gi(t){let e,n,o=t[23].immediate_variable_changes.health+"",l;return{c(){e=F("p"),n=j("Health: "),l=j(o),R(e,"class","text-xs")},m(i,r){E(i,e,r),y(e,n),y(e,l)},p(i,r){r&32&&o!==(o=i[23].immediate_variable_changes.health+"")&&ne(l,o)},d(i){i&&N(e)}}}function bi(t,e){let n,o,l,i=e[23].title+"",r,a,s,u=e[23].subtitle+"",f,c,p,h=e[23].description+"",m,_,b,C,k,P,W,Y,d,B,I,L,q,T,g,v,w=(e[23].effect_modifiers.happiness==1?"No effect":tn(e[23].effect_modifiers.happiness))+"",O,S,V,J,U=(e[23].effect_modifiers.health==1?"No effect":tn(e[23].effect_modifiers.health))+"",ee,ie,ue,Me,Se,be=(e[23].revenue_per_week>0||e[23].tourism_revenue_per_week>0)&&ui(e),ve=e[23].requirements.gold!==0&&di(e),we=e[23].requirements.employees!==0&&pi(e),ke=e[23].requirements.knowledge!=null&&e[23].requirements.knowledge!==0&&mi(e),Ce=(e[23].immediate_variable_changes.happiness!==0||e[23].immediate_variable_changes.health!==0)&&hi(e);return{key:t,first:null,c(){n=F("div"),o=F("div"),l=F("h2"),r=j(i),a=K(),s=F("span"),f=j(u),c=K(),p=F("p"),m=j(h),_=K(),b=F("div"),be&&be.c(),C=K(),k=F("div"),P=F("div"),W=F("span"),W.textContent="Requirements",Y=K(),ve&&ve.c(),d=K(),we&&we.c(),B=K(),ke&&ke.c(),I=K(),L=F("div"),q=F("span"),q.textContent="Multiplier",T=K(),g=F("p"),v=j("Happiness: "),O=j(w),S=K(),V=F("p"),J=j("Health: "),ee=j(U),ie=K(),Ce&&Ce.c(),ue=K(),R(s,"class","text-xs font-light italic opacity-50"),R(l,"class","text-md font-semibold"),R(p,"class","text-xs opacity-75"),R(W,"class","text-sm font-semibold"),R(q,"class","text-sm font-semibold"),R(g,"class","text-xs"),R(V,"class","text-xs"),R(k,"class","reqs_and_mods mt-4 flex flex-row justify-between gap-2"),R(b,"class","mt-4"),R(n,"class",Me="plotOption min-w-min overflow-x-auto "+(e[23].affordable?"cursor-pointer":"unaffordable cursor-not-allowed")+" border rounded-md p-4 mb-4 "+(e[23].selected?"bg-teal-900":"")+" svelte-bq7iir"),R(n,"data-plotoptionid",Se=e[23].id),this.first=n},m(Ke,Ae){E(Ke,n,Ae),y(n,o),y(o,l),y(l,r),y(l,a),y(l,s),y(s,f),y(o,c),y(o,p),y(p,m),y(n,_),y(n,b),be&&be.m(b,null),y(b,C),y(b,k),y(k,P),y(P,W),y(P,Y),ve&&ve.m(P,null),y(P,d),we&&we.m(P,null),y(P,B),ke&&ke.m(P,null),y(k,I),y(k,L),y(L,q),y(L,T),y(L,g),y(g,v),y(g,O),y(L,S),y(L,V),y(V,J),y(V,ee),y(b,ie),Ce&&Ce.m(b,null),y(n,ue)},p(Ke,Ae){e=Ke,Ae&32&&i!==(i=e[23].title+"")&&ne(r,i),Ae&32&&u!==(u=e[23].subtitle+"")&&ne(f,u),Ae&32&&h!==(h=e[23].description+"")&&ne(m,h),e[23].revenue_per_week>0||e[23].tourism_revenue_per_week>0?be?be.p(e,Ae):(be=ui(e),be.c(),be.m(b,C)):be&&(be.d(1),be=null),e[23].requirements.gold!==0?ve?ve.p(e,Ae):(ve=di(e),ve.c(),ve.m(P,d)):ve&&(ve.d(1),ve=null),e[23].requirements.employees!==0?we?we.p(e,Ae):(we=pi(e),we.c(),we.m(P,B)):we&&(we.d(1),we=null),e[23].requirements.knowledge!=null&&e[23].requirements.knowledge!==0?ke?ke.p(e,Ae):(ke=mi(e),ke.c(),ke.m(P,null)):ke&&(ke.d(1),ke=null),Ae&32&&w!==(w=(e[23].effect_modifiers.happiness==1?"No effect":tn(e[23].effect_modifiers.happiness))+"")&&ne(O,w),Ae&32&&U!==(U=(e[23].effect_modifiers.health==1?"No effect":tn(e[23].effect_modifiers.health))+"")&&ne(ee,U),e[23].immediate_variable_changes.happiness!==0||e[23].immediate_variable_changes.health!==0?Ce?Ce.p(e,Ae):(Ce=hi(e),Ce.c(),Ce.m(b,null)):Ce&&(Ce.d(1),Ce=null),Ae&32&&Me!==(Me="plotOption min-w-min overflow-x-auto "+(e[23].affordable?"cursor-pointer":"unaffordable cursor-not-allowed")+" border rounded-md p-4 mb-4 "+(e[23].selected?"bg-teal-900":"")+" svelte-bq7iir")&&R(n,"class",Me),Ae&32&&Se!==(Se=e[23].id)&&R(n,"data-plotoptionid",Se)},d(Ke){Ke&&N(n),be&&be.d(),ve&&ve.d(),we&&we.d(),ke&&ke.d(),Ce&&Ce.d()}}}function gf(t){let e,n,o,l,i,r,a=t[6].plots[t[1]][t[2]].type!==-1&&t[3](t[1],t[2]),s,u,f,c,p,h,m,_,b,C,k=[],P=new Map,W,Y,d;e=new xu({props:{$$slots:{default:[mf]},$$scope:{ctx:t}}});let B={type:"text",id:"search-bar",placeholder:"Search Plot Options...",value:t[4],class:"border rounded w-auto"};l=new no({props:B}),t[15](l),l.$on("input",t[9]);let I=a&&ri(t);function L(w,O){return w[5].length>0?_f:hf}let q=L(t),T=q(t);m=new Ol({props:{class:"my-4"}});let g=Je(t[5]);const v=w=>w[23].id;for(let w=0;w<g.length;w+=1){let O=oi(t,g,w),S=v(O);P.set(S,k[w]=bi(S,O))}return{c(){$(e.$$.fragment),n=K(),o=F("div"),$(l.$$.fragment),i=K(),r=F("div"),I&&I.c(),s=K(),u=F("label"),f=F("span"),f.textContent="Quick scroll",c=K(),p=F("div"),T.c(),h=K(),$(m.$$.fragment),_=K(),b=F("div"),C=F("div");for(let w=0;w<k.length;w+=1)k[w].c();R(r,"class","flex justify-end ml-6"),R(f,"class","mb-10"),R(u,"for","plotType"),R(u,"class","text-xs ml-4 gap-2"),R(o,"class","flex mt-4"),R(C,"class","plotOptions grid grid-flow-row grid-cols-2 <!-- on big width, use 3 columns --> lg:grid-cols-3 flex-auto flex-grid gap-6 mt-4 "),R(b,"class","scrollable-y")},m(w,O){Z(e,w,O),E(w,n,O),E(w,o,O),Z(l,o,null),y(o,i),y(o,r),I&&I.m(r,null),y(o,s),y(o,u),y(u,f),y(u,c),y(u,p),T.m(p,null),E(w,h,O),Z(m,w,O),E(w,_,O),E(w,b,O),y(b,C);for(let S=0;S<k.length;S+=1)k[S]&&k[S].m(C,null);W=!0,Y||(d=H(C,"click",t[11]),Y=!0)},p(w,O){const S={};O&268435463&&(S.$$scope={dirty:O,ctx:w}),e.$set(S);const V={};O&16&&(V.value=w[4]),l.$set(V),O&70&&(a=w[6].plots[w[1]][w[2]].type!==-1&&w[3](w[1],w[2])),a?I?I.p(w,O):(I=ri(w),I.c(),I.m(r,null)):I&&(I.d(1),I=null),q===(q=L(w))&&T?T.p(w,O):(T.d(1),T=q(w),T&&(T.c(),T.m(p,null))),O&96&&(g=Je(w[5]),k=dr(k,O,v,1,w,g,P,C,cr,bi,null,oi))},i(w){W||(A(e.$$.fragment,w),A(l.$$.fragment,w),A(m.$$.fragment,w),W=!0)},o(w){M(e.$$.fragment,w),M(l.$$.fragment,w),M(m.$$.fragment,w),W=!1},d(w){w&&(N(n),N(o),N(h),N(_),N(b)),Q(e,w),t[15](null),Q(l),I&&I.d(),T.d(),Q(m,w);for(let O=0;O<k.length;O+=1)k[O].d();Y=!1,d()}}}function bf(t){let e,n;return e=new Qu({props:{class:`overflow-scroll
		h-full
		absolute
		top-0
		right-0
		
	`,side:"right",$$slots:{default:[gf]},$$scope:{ctx:t}}}),{c(){$(e.$$.fragment)},m(o,l){Z(e,o,l),n=!0},p(o,l){const i={};l&268435703&&(i.$$scope={dirty:l,ctx:o}),e.$set(i)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){Q(e,o)}}}function vf(t){let e,n,o;function l(r){t[17](r)}let i={$$slots:{default:[bf]},$$scope:{ctx:t}};return t[8].visible!==void 0&&(i.open=t[8].visible),e=new uf({props:i}),Oe.push(()=>yn(e,"open",l)),{c(){$(e.$$.fragment)},m(r,a){Z(e,r,a),o=!0},p(r,[a]){const s={};a&268435703&&(s.$$scope={dirty:a,ctx:r}),!n&&a&256&&(n=!0,s.open=r[8].visible,gn(()=>n=!1)),e.$set(s)},i(r){o||(A(e.$$.fragment,r),o=!0)},o(r){M(e.$$.fragment,r),o=!1},d(r){Q(e,r)}}}function vi(t){const n=new RegExp("\\p{Emoji}","u").exec(t);return n?n[0]:null}function He(t,e){e===void 0&&(e=0);var n=Math.pow(10,e);t=parseFloat((t*n).toFixed(11));var o=Math.round(t)/n;return+o.toFixed(e)}function tn(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function yi(t,e){let n=!0;t.requirements.gold>e.townInfo.gold&&(n=!1);let o=e.townInfo.population_count-e.townInfo.employees;return t.requirements.employees!==void 0&&t.requirements.employees>0&&t.requirements.employees>o&&(n=!1),t.requirements.knowledge!==void 0&&t.requirements.knowledge>e.townInfo.knowledge_points&&(n=!1),n}function yf(t,e,n){let o,l;le(t,Ie,I=>n(6,o=I)),le(t,Fe,I=>n(8,l=I));let{x:i=0}=e,{y:r=0}=e,a="",s=Re,{tooltip:u=""}=e,f,c=s.map(I=>Object.assign(Object.assign({},I),{affordable:yi(I,o),selected:h(I)}));function p(I){n(4,a=I.target.value||"")}function h(I){return o.plots[i][r].type>-1?s[o.plots[i][r].type].id===I.id:!1}function m(I,L){let q={x:I,y:L};return q.x===0&&q.y===0?!0:[{x:q.x-1,y:q.y},{x:q.x+1,y:q.y},{x:q.x,y:q.y-1},{x:q.x,y:q.y+1}].some(g=>g.x<0||g.x>o.plots.length-1||g.y<0||g.y>o.plots.length-1?!1:o.plots[g.x][g.y].active)}function _(){document.querySelectorAll(".plotOption").forEach(L=>{L.classList.remove("active")}),P(i,r)}function b(I){document.querySelectorAll(".plotOption").forEach(T=>{T.classList.remove("active")});const q=document.querySelector(`[data-plotoptionid="${I}"]`);q&&(q.classList.add("active"),k(i,r,I))}function C(I,L){let q=0;return I>0&&o.plots[I-1][L].type!==-1&&q++,I<o.plots.length-1&&o.plots[I+1][L].type!==-1&&q++,L>0&&o.plots[I][L-1].type!==-1&&q++,L<o.plots[0].length-1&&o.plots[I][L+1].type!==-1&&q++,q<=4}function k(I,L,q){let T=o;const g=Re.findIndex(O=>O.id===q);let v=Re[g],w=!0;if((v.requirements.gold>T.townInfo.gold||v.requirements.employees>T.townInfo.population_count-T.townInfo.employees)&&(w=!1),v.requirements.size!=null&&w){let O=v.requirements.size,S=[],V=s[g].title.toLowerCase().indexOf("school")!=-1;for(let J=0;J<4;J++){let U=[[I,L]];J===0?(U.push([I-(O-1),L-(O-1)]),U.push([I-(O-1),L]),U.push([I,L-(O-1)])):J===1?(U.push([I,L-(O-1)]),U.push([I+(O-1),L-(O-1)]),U.push([I+(O-1),L])):J===2?(U.push([I-(O-1),L]),U.push([I-(O-1),L+(O-1)]),U.push([I,L+(O-1)])):J===3&&(U.push([I,L+(O-1)]),U.push([I+(O-1),L+(O-1)]),U.push([I+(O-1),L])),S.push(U)}S=S.filter(J=>J.every(U=>U[0]>=0&&U[0]<=T.plots.length-1&&U[1]>=0&&U[1]<=T.plots.length-1&&!T.plots[U[0]][U[1]].active&&m(U[0],U[1])==!0)),S.length===0?w=!1:S.length>0&&S[0].forEach(U=>{T.plots[U[0]][U[1]].active=!0,T.plots[U[0]][U[1]].type=V?-3:-2,T.plots[U[0]][U[1]].referencePlot=[I,L]})}if(w===!0){switch(T.plots[I][L].type!==-1&&P(I,L),n(0,u=""),T.plots[I][L].type=g,T.plots[I][L].active=!0,T.plots[I][L].referencePlot=[],T.townInfo.gold-=v.requirements.gold,T.townInfo.gold=He(T.townInfo.gold,2),T.townInfo.population_count+=v.immediate_variable_changes.population,T.townInfo.population_max+=v.immediate_variable_changes.population,T.townInfo.happiness+=v.immediate_variable_changes.happiness,T.townInfo.health+=v.immediate_variable_changes.health,T.modifiers.happiness=He(T.modifiers.happiness*v.effect_modifiers.happiness,2),T.modifiers.health=He(T.modifiers.health*v.effect_modifiers.health,2),T.townInfo.employees+=v.requirements.employees,(T.plotCounts[g]===void 0||T.plotCounts[g]===null)&&(T.plotCounts[g]=0),T.plotCounts[g]++,T.lastChangeDay=T.environment.day,T.economyAndLaws.balance_sheet_history=[{day:T.environment.day,plot:`${I},${L}`,profits:v.requirements.gold*-1,balance:He(T.townInfo.gold,2)},...T.economyAndLaws.balance_sheet_history],v.id){case"city-hall":T.hasCityHall=!0;break;case"bank":T.hasBank=!0;break}Ie.set(T),localStorage.setItem(et,JSON.stringify(T)),de(Fe,l.visible=!1,l)}else n(0,u="You do not have enough resources to purchase this plot."),document.querySelectorAll(".plotOption").forEach(S=>{S.classList.remove("active")})}function P(I,L){let q=o,T=q.plots[I][L].type;q.plots[I][L].type=-1,q.plots[I][L].active=!1,T>-1&&(q.townInfo.population_count-=Re[T].immediate_variable_changes.population,q.townInfo.population_max-=Re[T].immediate_variable_changes.population,q.townInfo.happiness-=Re[T].immediate_variable_changes.happiness,q.townInfo.health-=Re[T].immediate_variable_changes.health,q.modifiers.happiness=He(q.modifiers.happiness/Re[T].effect_modifiers.happiness,2),q.modifiers.health=He(q.modifiers.health/Re[T].effect_modifiers.health,2),q.townInfo.employees-=Re[T].requirements.employees,(q.plotCounts[T]===void 0||q.plotCounts[T]===null)&&(q.plotCounts[T]=0),q.plotCounts[T]--),q.lastChangeDay=q.environment.day,Ie.set(q),localStorage.setItem(et,JSON.stringify(q))}function W(I){const L=I.target.closest(".plotOption");if(L){const q=L.dataset.plotoptionid;b(q)}}function Y(I){Oe[I?"unshift":"push"](()=>{f=I,n(7,f)})}const d=I=>{const L=document.querySelector(`[data-plotoptionid="${I.id}"]`);L&&L.scrollIntoView({behavior:"smooth",block:"center"})};function B(I){t.$$.not_equal(l.visible,I)&&(l.visible=I,Fe.set(l))}return t.$$set=I=>{"x"in I&&n(1,i=I.x),"y"in I&&n(2,r=I.y),"tooltip"in I&&n(0,u=I.tooltip)},t.$$.update=()=>{t.$$.dirty&64&&o&&n(5,c=s.map(I=>Object.assign(Object.assign({},I),{affordable:yi(I,o),selected:h(I)}))),t.$$.dirty&48&&n(5,c=c.filter(I=>I.title.toLowerCase().includes(a.toLowerCase()))),t.$$.dirty&32&&c.filter(I=>I.affordable).length},[u,i,r,C,a,c,o,f,l,p,_,W,m,k,P,Y,d,B]}class wf extends ae{constructor(e){super(),se(this,e,yf,vf,te,{x:1,y:2,tooltip:0,checkIfPlotCanBeUpgraded:12,canBulldoze:3,purchasePlot:13,reverseClear:14})}get checkIfPlotCanBeUpgraded(){return this.$$.ctx[12]}get canBulldoze(){return this.$$.ctx[3]}get purchasePlot(){return this.$$.ctx[13]}get reverseClear(){return this.$$.ctx[14]}}function wi(t){let e,n,o=Re[t[0].type].title+"",l,i;return{c(){e=F("div"),n=F("span"),l=j(o),R(n,"data-size",i=Re[t[0].type].requirements.size),R(n,"class","svelte-16jthqd"),R(e,"class","svelte-16jthqd")},m(r,a){E(r,e,a),y(e,n),y(n,l)},p(r,a){a&1&&o!==(o=Re[r[0].type].title+"")&&ne(l,o),a&1&&i!==(i=Re[r[0].type].requirements.size)&&R(n,"data-size",i)},d(r){r&&N(e)}}}function kf(t){let e,n,o,l,i,r,a,s,u,f,c,p,h,m=t[0].type>-1&&wi(t);return{c(){e=F("div"),m&&m.c(),R(e,"class",n="plot_container "+(t[0].type==-1&&t[1]==!1?"border-slate-500 border-dashed border":"")+" svelte-16jthqd"),R(e,"data-active",o=t[0].active),R(e,"data-id",l=t[0].id),R(e,"data-x",i=t[0].x),R(e,"data-y",r=t[0].y),R(e,"data-optionindex",a=t[0].optionIndex),R(e,"data-canbeupgraded",t[1]),R(e,"style",t[2]),R(e,"data-type",s=t[0].type),R(e,"data-referenceplotx",u=t[0].referencePlot!==void 0?t[0].referencePlot[0]:null),R(e,"data-referenceploty",f=t[0].referencePlot!==void 0?t[0].referencePlot[1]:null),R(e,"data-size",c=t[0].type>-1?Re[t[0].type].requirements.size:null)},m(_,b){E(_,e,b),m&&m.m(e,null),p||(h=H(e,"click",t[3]),p=!0)},p(_,[b]){_[0].type>-1?m?m.p(_,b):(m=wi(_),m.c(),m.m(e,null)):m&&(m.d(1),m=null),b&3&&n!==(n="plot_container "+(_[0].type==-1&&_[1]==!1?"border-slate-500 border-dashed border":"")+" svelte-16jthqd")&&R(e,"class",n),b&1&&o!==(o=_[0].active)&&R(e,"data-active",o),b&1&&l!==(l=_[0].id)&&R(e,"data-id",l),b&1&&i!==(i=_[0].x)&&R(e,"data-x",i),b&1&&r!==(r=_[0].y)&&R(e,"data-y",r),b&1&&a!==(a=_[0].optionIndex)&&R(e,"data-optionindex",a),b&2&&R(e,"data-canbeupgraded",_[1]),b&4&&R(e,"style",_[2]),b&1&&s!==(s=_[0].type)&&R(e,"data-type",s),b&1&&u!==(u=_[0].referencePlot!==void 0?_[0].referencePlot[0]:null)&&R(e,"data-referenceplotx",u),b&1&&f!==(f=_[0].referencePlot!==void 0?_[0].referencePlot[1]:null)&&R(e,"data-referenceploty",f),b&1&&c!==(c=_[0].type>-1?Re[_[0].type].requirements.size:null)&&R(e,"data-size",c)},i:pe,o:pe,d(_){_&&N(e),m&&m.d(),p=!1,h()}}}function Cf(t,e,n){let o,l,i,r;le(t,Fe,m=>n(5,o=m)),le(t,Ie,m=>n(6,l=m)),le(t,it,m=>n(7,i=m)),le(t,Ot,m=>n(8,r=m));let{data:a={id:0,active:!1,x:0,y:0,type:-1,styling:"",referencePlot:[]}}=e,{canBeUpgraded:s=!1}=e;function u(...m){c()}let f=a.styling;Qi(async()=>{a.type>=0&&Re[a.type].styling&&n(2,f=Re[a.type].styling)});function c(){a.type>=0&&Re[a.type].styling&&n(2,f=Re[a.type].styling),a.type<0&&n(2,f="")}function p(m,_,b){let C=document.querySelectorAll(".plot_container");if(i==!1){if(a.referencePlot!=null&&a.referencePlot[0]!==null&&_==null&&b==null&&a.referencePlot[1]!==void 0)return p(m,a.referencePlot[0],a.referencePlot[1]);!a.active&&!s?(de(Ot,r={},r),de(Fe,o.visible=!1,o),C.forEach(k=>{k.classList.remove("selected")})):(_!=null&&b!=null?(de(Fe,o.x=_,o),de(Fe,o.y=b,o)):(de(Fe,o.x=a.x,o),de(Fe,o.y=a.y,o)),de(Fe,o.visible=!0,o),C.forEach(k=>{k.classList.remove("selected")}),_!=null&&b!=null?document.querySelector(`.plot_container[data-x="${_}"][data-y="${b}"]`).classList.add("selected"):document.querySelector(`.plot_container[data-id="${a.id}"]`).classList.add("selected"))}}function h(m){i==!1&&(de(Ie,l.plots[a.x][a.y].type=m,l),de(Fe,o.visible=!1,o))}return t.$$set=m=>{"data"in m&&n(0,a=m.data),"canBeUpgraded"in m&&n(1,s=m.canBeUpgraded)},t.$$.update=()=>{t.$$.dirty&1&&u(a)},[a,s,f,p,h]}class If extends ae{constructor(e){super(),se(this,e,Cf,kf,te,{data:0,canBeUpgraded:1,changePlotType:4})}get changePlotType(){return this.$$.ctx[4]}}function ki(t,e,n){const o=t.slice();return o[6]=e[n],o}function Ci(t,e,n){const o=t.slice();return o[9]=e[n],o}function Ii(t){let e,n,o=t[3],l,i,r=Je(t[2].plots),a=[];for(let f=0;f<r.length;f+=1)a[f]=Si(ki(t,r,f));const s=f=>M(a[f],1,1,()=>{a[f]=null});let u=Pi(t);return{c(){e=F("div");for(let f=0;f<a.length;f+=1)a[f].c();n=K(),u.c(),l=Ee(),R(e,"class","grid overflow-x-scroll svelte-3cpxwu")},m(f,c){E(f,e,c);for(let p=0;p<a.length;p+=1)a[p]&&a[p].m(e,null);E(f,n,c),u.m(f,c),E(f,l,c),i=!0},p(f,c){if(c&7){r=Je(f[2].plots);let p;for(p=0;p<r.length;p+=1){const h=ki(f,r,p);a[p]?(a[p].p(h,c),A(a[p],1)):(a[p]=Si(h),a[p].c(),A(a[p],1),a[p].m(e,null))}for(qe(),p=r.length;p<a.length;p+=1)s(p);je()}c&8&&te(o,o=f[3])?(qe(),M(u,1,1,pe),je(),u=Pi(f),u.c(),A(u,1),u.m(l.parentNode,l)):u.p(f,c)},i(f){if(!i){for(let c=0;c<r.length;c+=1)A(a[c]);A(u),i=!0}},o(f){a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)M(a[c]);M(u),i=!1},d(f){f&&(N(e),N(n),N(l)),kt(a,f),u.d(f)}}}function Ti(t){let e,n;return e=new If({props:{data:t[9],canBeUpgraded:t[0](t[9].x,t[9].y)}}),{c(){$(e.$$.fragment)},m(o,l){Z(e,o,l),n=!0},p(o,l){const i={};l&4&&(i.data=o[9]),l&4&&(i.canBeUpgraded=o[0](o[9].x,o[9].y)),e.$set(i)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){Q(e,o)}}}function Si(t){let e,n,o,l,i,r=Je(t[6]),a=[];for(let u=0;u<r.length;u+=1)a[u]=Ti(Ci(t,r,u));const s=u=>M(a[u],1,1,()=>{a[u]=null});return{c(){e=F("div");for(let u=0;u<a.length;u+=1)a[u].c();n=K(),R(e,"class","row svelte-3cpxwu")},m(u,f){E(u,e,f);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(e,null);y(e,n),o=!0,l||(i=H(e,"click",t[1]),l=!0)},p(u,f){if(f&5){r=Je(u[6]);let c;for(c=0;c<r.length;c+=1){const p=Ci(u,r,c);a[c]?(a[c].p(p,f),A(a[c],1)):(a[c]=Ti(p),a[c].c(),A(a[c],1),a[c].m(e,n))}for(qe(),c=r.length;c<a.length;c+=1)s(c);je()}},i(u){if(!o){for(let f=0;f<r.length;f+=1)A(a[f]);o=!0}},o(u){a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)M(a[f]);o=!1},d(u){u&&N(e),kt(a,u),l=!1,i()}}}function Ai(t){let e,n;return e=new wf({props:{x:t[4].x,y:t[4].y}}),{c(){$(e.$$.fragment)},m(o,l){Z(e,o,l),n=!0},p(o,l){const i={};l&16&&(i.x=o[4].x),l&16&&(i.y=o[4].y),e.$set(i)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){Q(e,o)}}}function Pi(t){let e,n,o=t[4].visible&&Ai(t);return{c(){o&&o.c(),e=Ee()},m(l,i){o&&o.m(l,i),E(l,e,i),n=!0},p(l,i){l[4].visible?o?(o.p(l,i),i&16&&A(o,1)):(o=Ai(l),o.c(),A(o,1),o.m(e.parentNode,e)):o&&(qe(),M(o,1,1,()=>{o=null}),je())},i(l){n||(A(o),n=!0)},o(l){M(o),n=!1},d(l){l&&N(e),o&&o.d(l)}}}function Tf(t){let e,n,o=t[2]!=null&&Ii(t);return{c(){o&&o.c(),e=Ee()},m(l,i){o&&o.m(l,i),E(l,e,i),n=!0},p(l,[i]){l[2]!=null?o?(o.p(l,i),i&4&&A(o,1)):(o=Ii(l),o.c(),A(o,1),o.m(e.parentNode,e)):o&&(qe(),M(o,1,1,()=>{o=null}),je())},i(l){n||(A(o),n=!0)},o(l){M(o),n=!1},d(l){l&&N(e),o&&o.d(l)}}}function Sf(t,e,n){let o,l,i;le(t,Ie,u=>n(2,o=u)),le(t,Ot,u=>n(3,l=u)),le(t,Fe,u=>n(4,i=u));function r(u,f){let c={x:u,y:f};return c.x===0&&c.y===0?!0:[{x:c.x-1,y:c.y},{x:c.x+1,y:c.y},{x:c.x,y:c.y-1},{x:c.x,y:c.y+1}].some(h=>h.x<0||h.x>=o.plots.length||h.y<0||h.y>=o.plots[h.x].length?!1:o.plots[h.x][h.y].active)}function a(){let u=[];for(let f=0;f<o.plots.length;f++)for(let c=0;c<o.plots.length;c++)r(f,c)&&o.plots[f][c].active==!1&&u.push(o.plots[f][c])}function s(){de(Ot,l={},l)}return window.location.search.includes("dev=true")&&(de(Ie,o.townInfo.name="DevTown",o),de(Ie,o.townInfo.gold=1e8,o),de(Ie,o.townInfo.population=0,o),de(Ie,o.townInfo.happiness=1e5,o),de(Ie,o.townInfo.health=1e5,o),de(Ie,o.modifiers.happiness=1e5,o),de(Ie,o.modifiers.health=1e5,o),de(Ie,o.townInfo.knowledge_points=1e4,o)),t.$$.update=()=>{t.$$.dirty&4&&o&&a()},[r,s,o,l,i]}class Af extends ae{constructor(e){super(),se(this,e,Sf,Tf,te,{checkIfPlotCanBeUpgraded:0,restartModifyPlotMenu:1})}get checkIfPlotCanBeUpgraded(){return this.$$.ctx[0]}get restartModifyPlotMenu(){return this.$$.ctx[1]}}const Xe={unemployment_num:" people can't find jobs.",bored:"People are bored. Try making some new buildings.",vairety:"People don't like going to the same places over and over again. Try making some new buildings.",nobody_home:"Nobody can live here. Build some residential buildings.",leave_town_num:" people left town because they were unhappy.",new_people_num:" new people moved to town.",people_want_to_move_in:"People want to move in. Build more homes.",high_tax_rate:"People are unhappy with the high tax rate.",very_high_tax_rate:"People are extremely unhappy with the high tax rate.",sickAndDying:"People are sick and dying.",sickAndLeaving:"People are sick and leaving town.",happiness_zero:"The town has fallen into chaos due to extreme unhappiness.",health_zero:"The town has fallen into chaos due to extreme sickness.",population_zero:"The town has been condemned due to lack of population.",win:{land:"You have filled the grid with buildings. You win!"}},dt={land:{short_title:"Fill the grid",description_title:"You win by filling up all possible plots in the grid, and by meeting some requirements.",win:"You have filled the grid with buildings and met the requirements. Your citizens are happy, fulfilled, hard-working, and healthy. ",requirements:{0:{population_count:110,happiness:100,health:100,employment:1},1:{population_count:300,happiness:120,health:120,employment:1},2:{population_count:600,happiness:200,health:200,employment:1}}},political:{short_title:"PLACEHOLDER",description_title:"PLACEHOLDER",win:"PLACEHOLDER",requirements:{0:{population_count:200,happiness:100,health:100,employment:1},1:{population_count:500,happiness:100,health:100,employment:1},2:{population_count:1e3,happiness:100,health:100,employment:1}}}},Ni=30;function Pf(t){return t.hasBank,t}function Nf(t){return t.hasCityHall,t}function Vn(t){if(t.modifiers.happiness>1){let e=t.modifiers.happiness-1;t.modifiers.happiness-=e*.08,t.modifiers.happiness<1.05&&(t.modifiers.happiness=1)}if(t.modifiers.health>1){let e=t.modifiers.health-1;t.modifiers.health-=e*.08,t.modifiers.health<1.05&&(t.modifiers.health=1)}return t}function Un(t){if(t.townInfo.happiness>150){let n=t.townInfo.happiness-150;t.townInfo.happiness-=n*.08,t.townInfo.happiness<150&&(t.townInfo.happiness=150)}if(t.townInfo.health>150){let n=t.townInfo.health-150;t.townInfo.health-=n*.08,t.townInfo.health<150&&(t.townInfo.health=150)}return t}function Ef(t){return t.townInfo.happiness*=t.modifiers.happiness,t.townInfo.health*=t.modifiers.health,t}function Of(t,e){let n=e.townInfo.happiness/100;n>2.25?n=2.25:n<.75&&(n=.75);let o=t*e.economyAndLaws.tax_rate*(e.townInfo.population_count/e.townInfo.population_max)*n;return ft(o,2)}function ft(t,e){e===void 0&&(e=0);var n=Math.pow(10,e);t=parseFloat((t*n).toFixed(11));var o=Math.round(t)/n;return+o.toFixed(e)}function Mf(t,e,n){let o,l,i;le(t,on,d=>n(4,o=d)),le(t,Ie,d=>n(5,l=d)),le(t,it,d=>n(6,i=d));function r(d){return d=h(d),d=C(d),d=P(d),d=Ef(d),d=m(d),d=Vn(d),d}function a(d){return d=W(d),d=b(d),d=Pf(d),d=Nf(d),d}function s(d){return d=_(d),d=Un(d),d}function u(d){return d=k(d),d=p(d),d=c(d),d}function f(){Ie.update(d=>{if(d.tick++,d.tick%Ni!==0||i||!d||d.endGameDetails)return d;try{return d.environment.day+=1,d.environment.day%7===0&&(d=r(d)),d.environment.day%30===0&&(d=a(d)),d.environment.day%90===0&&(d=s(d)),window.location.search.includes("debug=true")&&console.log(d),d=u(d),d}catch(B){return console.error("Error in game loop:",B),d}})}Ie.subscribe(d=>{d&&localStorage.setItem(et,JSON.stringify(d))});function c(d){if(d.endGoal=="land"&&d.townInfo.population_max==d.townInfo.population_count&&d.townInfo.happiness>=dt.land.requirements[d.difficulty].happiness&&d.townInfo.health>=dt.land.requirements[d.difficulty].health&&d.townInfo.employees/d.townInfo.population_count>=dt.land.requirements[d.difficulty].employment&&d.townInfo.population_count>dt.land.requirements[d.difficulty].population_count){let I=!0;for(let L=0;L<d.plots.length;L++)for(let q=0;q<d.plots[L].length;q++)if(d.plots[L][q].active==!1){I=!1;break}I&&(d.endGameDetails={msg:dt.land.win,win:!0})}return d}function p(d){return d.townInfo.happiness<=0&&(d.townInfo.happiness=0,d.endGameDetails={msg:Xe.happiness_zero,win:!1}),d.townInfo.health<=0&&(d.townInfo.health=0,d.endGameDetails={msg:Xe.health_zero,win:!1}),d.townInfo.population_count<=0&&d.townInfo.population_max>0&&(d.townInfo.population_count=0,d.endGameDetails={msg:Xe.population_zero,win:!1}),d}function h(d){let B=d.townInfo.population_count-d.townInfo.employees;return B>0&&(d.modifiers.happiness-=B*9e-4,d=Y(B+Xe.unemployment_num,d)),d}function m(d){let B=d.townInfo.health,I=0;return B>50||B<Math.random()*50&&(B<25?(d=Y(Xe.sickAndDying,d),d.townInfo.happiness-=10,I=Math.round(d.townInfo.population_count*.1)):(d=Y(Xe.sickAndLeaving,d),d.townInfo.happiness-=5,I=Math.round(d.townInfo.population_count*.05)),d.townInfo.population_count-=I,d.townInfo.employees-=I),d}function _(d){return d.lastChangeDay+(Math.random()*160+50)<d.environment.day&&(d.townInfo.population_count>0&&(d.townInfo.population_count-=1,d.townInfo.employees-=1,d.modifiers.happiness-=.01),d=Y(Xe.bored,d)),d}function b(d){if(d.townInfo.population_count<d.townInfo.population_max&&d.townInfo.happiness>50){let B=d.townInfo.population_max-d.townInfo.population_count,I=Math.round(d.townInfo.happiness/100*B);d.townInfo.population_count+=I,d.townInfo.population_count>d.townInfo.population_max&&(d.townInfo.population_count=d.townInfo.population_max),d.townInfo.employees+=I,d.townInfo.employees>d.townInfo.population_count&&(d.townInfo.employees=d.townInfo.population_count),d=Y(I+Xe.new_people_num,d)}if(d.townInfo.happiness<50&&d.townInfo.population_count>0){let B=Math.round((100-d.townInfo.happiness)/5);d.townInfo.population_count-=B,d.townInfo.employees>0&&(d.townInfo.employees-=B),d=Y(B+Xe.leave_town_num,d)}else d.townInfo.population_count==d.townInfo.population_max&&(d=Y(Xe.people_want_to_move_in,d));return d}function C(d){const B=Math.random();if(d.economyAndLaws.tax_rate>d.economyAndLaws.max_tax_rate){const I=d.difficulty==0?.7:d.difficulty==1?.4:.2;B<I&&d.economyAndLaws.tax_rate>d.economyAndLaws.max_tax_rate*2?(d.modifiers.happiness-=.03,d=Y(Xe.very_high_tax_rate+"  ("+d.economyAndLaws.tax_rate+"%)",d)):(d.modifiers.happiness-=.01,d=Y(Xe.high_tax_rate+"  ("+d.economyAndLaws.tax_rate*100+"%)",d))}return d}function k(d){return d.townInfo.happiness<0&&(d.townInfo.happiness=0),d.townInfo.health<0&&(d.townInfo.health=0),d.townInfo.gold<0&&(d.townInfo.gold=0),d.townInfo.employees<0&&(d.townInfo.employees=0),d.townInfo.knowledge_points<0&&(d.townInfo.knowledge_points=0),d.townInfo.population_count<0&&(d.townInfo.population_count=0),d.townInfo.population_max==0&&(d=Y(Xe.nobody_home,d)),d.economyAndLaws.last_month_profit=ft(d.economyAndLaws.last_month_profit,2),d.townInfo.employees>d.townInfo.population_count&&(d.townInfo.employees=d.townInfo.population_count),d.townInfo.gold=ft(d.townInfo.gold,2),d.townInfo.population_count=ft(d.townInfo.population_count,0),d.townInfo.employees=ft(d.townInfo.employees,0),d.townInfo.population_max=ft(d.townInfo.population_max,0),d.townInfo.happiness=ft(d.townInfo.happiness,2),d.townInfo.health=ft(d.townInfo.health,2),d.townInfo.happiness>300&&(d.townInfo.happiness=300),d.townInfo.health>300&&(d.townInfo.health=300),d.modifiers.happiness<.5&&(d.modifiers.happiness=.5),d.modifiers.health<.5&&(d.modifiers.health=.5),d}function P(d){d.economyAndLaws.last_month_profit=0;for(let B=0;B<d.plots.length;B++)for(let I=0;I<d.plots[B].length;I++)if(d.plots[B][I].active==!0&&d.plots[B][I].type>-1){let L=Re[d.plots[B][I].type],q=Of(L.revenue_per_week,d);d.townInfo.gold+=q,d.economyAndLaws.last_month_profit+=q,q>0&&(d.economyAndLaws.balance_sheet_history=[{day:d.environment.day,plot:`${B},${I}`,profits:q,taxRate:d.economyAndLaws.tax_rate},...d.economyAndLaws.balance_sheet_history],d.economyAndLaws.balance_sheet_history.length>250&&(d.economyAndLaws.balance_sheet_history=d.economyAndLaws.balance_sheet_history.slice(0,250))),L.enables_tourism==!0&&(d.townInfo.gold_from_tourism+=L.tourism_revenue_per_week*d.economyAndLaws.tax_rate*d.townInfo.population_count)}return d}function W(d){for(let B=0;B<d.plots.length;B++)for(let I=0;I<d.plots[B].length;I++)if(d.plots[B][I].active==!0&&d.plots[B][I].type>-1){let L=Re[d.plots[B][I].type];L.knowledge_points_per_month!=null&&(d.townInfo.knowledge_points+=L.knowledge_points_per_month)}return d}function Y(d,B){return B.townLog="Day "+l.environment.day+" - "+d+`
`+B.townLog,B}return Qi(async()=>{for(;;)localStorage.reset=="true"&&(zn(),localStorage.setItem("reset","false")),f(),await new Promise(d=>setTimeout(d,o/Ni))}),[f,k,Vn,Un]}class Lf extends ae{constructor(e){super(),se(this,e,Mf,null,te,{mainGameThreadLoop:0,_fixVariables:1,_bringModifiersBackToNormal:2,_bringStatsBackToNormal:3})}get mainGameThreadLoop(){return this.$$.ctx[0]}get _fixVariables(){return this.$$.ctx[1]}get _bringModifiersBackToNormal(){return Vn}get _bringStatsBackToNormal(){return Un}}function Ei(t,e,n){const o=t.slice();return o[4]=e[n],o}function Ff(t){let e,n,o,l,i=Je(t[0].economyAndLaws.balance_sheet_history),r=[];for(let a=0;a<i.length;a+=1)r[a]=Oi(Ei(t,i,a));return{c(){e=F("table"),n=F("thead"),n.innerHTML='<tr class="svelte-1m5x2x2"><th>Day</th> <th>Plot</th> <th>Profits</th> <th>Tax rate</th></tr>',o=K(),l=F("tbody");for(let a=0;a<r.length;a+=1)r[a].c();R(e,"class","svelte-1m5x2x2")},m(a,s){E(a,e,s),y(e,n),y(e,o),y(e,l);for(let u=0;u<r.length;u+=1)r[u]&&r[u].m(l,null)},p(a,s){if(s&3){i=Je(a[0].economyAndLaws.balance_sheet_history);let u;for(u=0;u<i.length;u+=1){const f=Ei(a,i,u);r[u]?r[u].p(f,s):(r[u]=Oi(f),r[u].c(),r[u].m(l,null))}for(;u<r.length;u+=1)r[u].d(1);r.length=i.length}},d(a){a&&N(e),kt(r,a)}}}function Rf(t){let e;return{c(){e=F("div"),e.textContent=`No data to display yet. Build some buildings and make sure that the tax
				rate is above 0%.`,R(e,"class","text-center padding-sides")},m(n,o){E(n,e,o)},p:pe,d(n){n&&N(e)}}}function Oi(t){let e,n,o=t[4].day+"",l,i,r,a=t[4].plot+"",s,u,f,c=t[4].profits+"",p,h,m,_=t[4].taxRate+"",b,C,k,P;function W(){return t[2](t[4])}return{c(){e=F("tr"),n=F("td"),l=j(o),i=K(),r=F("th"),s=j(a),u=K(),f=F("td"),p=j(c),h=K(),m=F("td"),b=j(_),C=K(),R(n,"class","svelte-1m5x2x2"),R(r,"class","plot_link svelte-1m5x2x2"),R(f,"class","svelte-1m5x2x2"),R(m,"class","svelte-1m5x2x2"),R(e,"class","svelte-1m5x2x2")},m(Y,d){E(Y,e,d),y(e,n),y(n,l),y(e,i),y(e,r),y(r,s),y(e,u),y(e,f),y(f,p),y(e,h),y(e,m),y(m,b),y(e,C),k||(P=H(r,"click",W),k=!0)},p(Y,d){t=Y,d&1&&o!==(o=t[4].day+"")&&ne(l,o),d&1&&a!==(a=t[4].plot+"")&&ne(s,a),d&1&&c!==(c=t[4].profits+"")&&ne(p,c),d&1&&_!==(_=t[4].taxRate+"")&&ne(b,_)},d(Y){Y&&N(e),k=!1,P()}}}function Df(t){let e,n,o,l,i,r;function a(f,c){return f[0].economyAndLaws.balance_sheet_history.length==0?Rf:Ff}let s=a(t),u=s(t);return{c(){e=F("div"),n=F("div"),o=F("div"),o.textContent="Balance Sheet",l=K(),i=F("br"),r=K(),u.c(),R(o,"class","heading_m svelte-1m5x2x2"),R(n,"class","dialog-content svelte-1m5x2x2"),R(e,"class","dialog svelte-1m5x2x2")},m(f,c){E(f,e,c),y(e,n),y(n,o),y(n,l),y(n,i),y(n,r),u.m(n,null)},p(f,[c]){s===(s=a(f))&&u?u.p(f,c):(u.d(1),u=s(f),u&&(u.c(),u.m(n,null)))},i:pe,o:pe,d(f){f&&N(e),u.d()}}}function qf(t,e,n){let o,l;le(t,Fe,a=>n(3,o=a)),le(t,Ie,a=>n(0,l=a));function i(a){let s=parseInt(a.split(",")[0]),u=parseInt(a.split(",")[1]);de(Fe,o.x=s,o),de(Fe,o.y=u,o),de(Fe,o.visible=!0,o)}return[l,i,a=>{i(a.plot)}]}class Bl extends ae{constructor(e){super(),se(this,e,qf,Df,te,{})}}to({base:"inline-flex items-center border rounded-full px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none select-none focus:ring-2 focus:ring-ring focus:ring-offset-2",variants:{variant:{default:"bg-primary hover:bg-primary/80 border-transparent text-primary-foreground",secondary:"bg-secondary hover:bg-secondary/80 border-transparent text-secondary-foreground",destructive:"bg-destructive hover:bg-destructive/80 border-transparent text-destructive-foreground",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function jf(t){let e;const n=t[5].default,o=me(n,t,t[8],null);return{c(){o&&o.c()},m(l,i){o&&o.m(l,i),e=!0},p(l,i){o&&o.p&&(!e||i&256)&&_e(o,n,l,l[8],e?he(n,l[8],i,null):ge(l[8]),null)},i(l){e||(A(o,l),e=!0)},o(l){M(o,l),e=!1},d(l){o&&o.d(l)}}}function Bf(t){let e,n;const o=[{builders:t[3]},{class:ye(Mi({variant:t[1],size:t[2],className:t[0]}))},{type:"button"},t[4]];let l={$$slots:{default:[jf]},$$scope:{ctx:t}};for(let i=0;i<o.length;i+=1)l=G(l,o[i]);return e=new Ls({props:l}),e.$on("click",t[6]),e.$on("keydown",t[7]),{c(){$(e.$$.fragment)},m(i,r){Z(e,i,r),n=!0},p(i,[r]){const a=r&31?ce(o,[r&8&&{builders:i[3]},r&7&&{class:ye(Mi({variant:i[1],size:i[2],className:i[0]}))},o[2],r&16&&Ze(i[4])]):{};r&256&&(a.$$scope={dirty:r,ctx:i}),e.$set(a)},i(i){n||(A(e.$$.fragment,i),n=!0)},o(i){M(e.$$.fragment,i),n=!1},d(i){Q(e,i)}}}function Gf(t,e,n){const o=["class","variant","size","builders"];let l=z(e,o),{$$slots:i={},$$scope:r}=e,{class:a=void 0}=e,{variant:s="default"}=e,{size:u="default"}=e,{builders:f=[]}=e;function c(h){X.call(this,t,h)}function p(h){X.call(this,t,h)}return t.$$set=h=>{e=G(G({},e),Te(h)),n(4,l=z(e,o)),"class"in h&&n(0,a=h.class),"variant"in h&&n(1,s=h.variant),"size"in h&&n(2,u=h.size),"builders"in h&&n(3,f=h.builders),"$$scope"in h&&n(8,r=h.$$scope)},[a,s,u,f,l,i,c,p,r]}class Wf extends ae{constructor(e){super(),se(this,e,Gf,Bf,te,{class:0,variant:1,size:2,builders:3})}}const Mi=to({base:"inline-flex items-center justify-center rounded-md text-sm font-medium whitespace-nowrap ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}});function Li(t,e,n){const o=t.slice();return o[14]=e[n],o}function Fi(t,e,n){const o=t.slice();return o[17]=e[n],o}function Vf(t){let e;return{c(){e=F("span"),e.textContent="No Alerts",R(e,"class","townLog text-xs text-start text-slate-500")},m(n,o){E(n,e,o)},p:pe,d(n){n&&N(e)}}}function Uf(t){let e,n=t[2].townLog.split(`
`)[0]+"",o,l,i,r=Je(t[2].townLog.split(`
`).slice(1,300)),a=[];for(let s=0;s<r.length;s+=1)a[s]=Ri(Fi(t,r,s));return{c(){e=F("div"),o=j(n),l=K();for(let s=0;s<a.length;s+=1)a[s].c();i=Ee(),R(e,"class","townLog text-xs text-center")},m(s,u){E(s,e,u),y(e,o),E(s,l,u);for(let f=0;f<a.length;f+=1)a[f]&&a[f].m(s,u);E(s,i,u)},p(s,u){if(u&4&&n!==(n=s[2].townLog.split(`
`)[0]+"")&&ne(o,n),u&4){r=Je(s[2].townLog.split(`
`).slice(1,300));let f;for(f=0;f<r.length;f+=1){const c=Fi(s,r,f);a[f]?a[f].p(c,u):(a[f]=Ri(c),a[f].c(),a[f].m(i.parentNode,i))}for(;f<a.length;f+=1)a[f].d(1);a.length=r.length}},d(s){s&&(N(e),N(l),N(i)),kt(a,s)}}}function Ri(t){let e,n=t[17]+"",o,l;return{c(){e=F("span"),o=j(n),l=K(),R(e,"class","townLog text-xs text-center cursor-pointer")},m(i,r){E(i,e,r),y(e,o),y(e,l)},p(i,r){r&4&&n!==(n=i[17]+"")&&ne(o,n)},d(i){i&&N(e)}}}function Di(t){let e,n=t[14].subtitle+"",o;return{c(){e=new tr(!1),o=Ee(),e.a=o},m(l,i){e.m(n,l,i),E(l,o,i)},p(l,i){i&1&&n!==(n=l[14].subtitle+"")&&e.p(n)},d(l){l&&(N(o),e.d())}}}function qi(t){let e,n,o=t[14].label+"",l,i,r,a=t[14].value+"",s,u,f,c,p,h=t[14].subtitle!=null&&Di(t);return{c(){e=F("div"),n=F("span"),l=j(o),i=K(),r=F("span"),s=j(a),u=K(),h&&h.c(),f=K(),R(n,"class","text-xs pl-4 pr-4 rounded-lg"),R(r,"class","text-xs text-slate-500"),R(e,"class","flex flex-col items-center cursor-pointer text-center flex-1")},m(m,_){E(m,e,_),y(e,n),y(n,l),y(e,i),y(e,r),y(r,s),y(r,u),h&&h.m(r,null),y(e,f),c||(p=H(e,"click",function(){lt(t[14].tap)&&t[14].tap.apply(this,arguments)}),c=!0)},p(m,_){t=m,_&1&&o!==(o=t[14].label+"")&&ne(l,o),_&1&&a!==(a=t[14].value+"")&&ne(s,a),t[14].subtitle!=null?h?h.p(t,_):(h=Di(t),h.c(),h.m(r,null)):h&&(h.d(1),h=null)},d(m){m&&N(e),h&&h.d(),c=!1,p()}}}function ji(t){let e,n;return e=new Bl({}),{c(){$(e.$$.fragment)},m(o,l){Z(e,o,l),n=!0},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){Q(e,o)}}}function Kf(t){let e,n,o,l,i,r=t[2].townInfo.name+"",a,s,u,f,c,p,h,m,_,b,C,k,P,W,Y,d,B,I,L,q,T,g,v,w,O,S,V=pt(t[2].economyAndLaws.tax_rate*100,0)+"",J,U,ee,ie,ue,Me,Se,be,ve,we,ke,Ce,Ke,Ae;function x(fe,We){return fe[2].townLog.length>0?Uf:Vf}let Le=x(t),$e=Le(t);Se=new Ol({props:{class:`mb-3 mt-0 bg-slate-700
	`}});let rt=Je(t[0]),Ve=[];for(let fe=0;fe<rt.length;fe+=1)Ve[fe]=qi(Li(t,rt,fe));let Be=t[3]&&ji();return{c(){e=F("div"),n=F("div"),o=F("div"),l=F("div"),i=F("div"),a=j(r),s=K(),u=F("div"),f=F("div"),c=F("span"),p=j(t[6]),h=j(" speed"),m=K(),_=F("span"),b=j("Day "),C=j(t[5]),k=j(" ("),P=j(t[4]),W=j("y)"),Y=K(),d=F("div"),B=F("div"),B.textContent="🚨 Alerts (scroll)",I=K(),$e.c(),L=K(),q=F("div"),T=F("div"),g=F("div"),v=F("span"),v.textContent="Tax Rate",w=K(),O=F("span"),S=j("("),J=j(V),U=j("%)"),ee=K(),ie=F("input"),Me=K(),$(Se.$$.fragment),be=K(),ve=F("div");for(let fe=0;fe<Ve.length;fe+=1)Ve[fe].c();we=K(),Be&&Be.c(),ke=Ee(),R(i,"class","text-2xl font-bold cursor-pointer text-emerald-700"),R(i,"id","townName"),R(f,"class","flex flex-col"),R(u,"class","text-xs gap-2 cursor-pointer hover:text-blue-600"),R(B,"class","text-md cursor-pointer"),R(d,"class","flex flex-col gap-1 drop-shadow-md text-center pb-6 rounded-lg max-h-20 hover:max-h-48 transition-all ml-6 mr-4 overflow-y-scroll scroll-smooth no-scrollbar cursor-pointer text-slate-500 hover:text-blue-600 w-1/2 "),R(v,"class","text-slate-500"),R(O,"class","text-sm text-gray-700"),R(g,"class","text-sm"),R(ie,"type","range"),R(ie,"min","0"),R(ie,"max","1.0"),R(ie,"step","0.05"),ie.value=ue=t[2].economyAndLaws.tax_rate,R(ie,"class","cursor-pointer w-100 svelte-j064ft"),R(T,"class","pb-2 rounded-lg text-center"),R(q,"class",""),R(o,"class","select-none flex justify-evenly"),R(ve,"class","flex flex-row justify-between pr-5 pl-5"),R(n,"class","select-none flex flex-col justify-start align-left text-left bg-slate-300 border-b-2 border-black text-black p-3 border-r-20 rounded-lg w-10/12"),R(n,"id","headerObject"),R(e,"class","<!-- center horizontally --> flex justify-center text-center p-3 fixed top-0 left-0 right-0 ")},m(fe,We){E(fe,e,We),y(e,n),y(n,o),y(o,l),y(l,i),y(i,a),y(l,s),y(l,u),y(u,f),y(f,c),y(c,p),y(c,h),y(f,m),y(f,_),y(_,b),y(_,C),y(_,k),y(_,P),y(_,W),y(o,Y),y(o,d),y(d,B),y(d,I),$e.m(d,null),y(o,L),y(o,q),y(q,T),y(T,g),y(g,v),y(g,w),y(g,O),y(O,S),y(O,J),y(O,U),y(T,ee),y(T,ie),y(n,Me),Z(Se,n,null),y(n,be),y(n,ve);for(let Ge=0;Ge<Ve.length;Ge+=1)Ve[Ge]&&Ve[Ge].m(ve,null);E(fe,we,We),Be&&Be.m(fe,We),E(fe,ke,We),Ce=!0,Ke||(Ae=[H(i,"click",t[7]),H(u,"click",t[8]),H(d,"click",t[11]),H(ie,"input",t[9])],Ke=!0)},p(fe,[We]){if((!Ce||We&4)&&r!==(r=fe[2].townInfo.name+"")&&ne(a,r),(!Ce||We&64)&&ne(p,fe[6]),(!Ce||We&32)&&ne(C,fe[5]),(!Ce||We&16)&&ne(P,fe[4]),Le===(Le=x(fe))&&$e?$e.p(fe,We):($e.d(1),$e=Le(fe),$e&&($e.c(),$e.m(d,null))),(!Ce||We&4)&&V!==(V=pt(fe[2].economyAndLaws.tax_rate*100,0)+"")&&ne(J,V),(!Ce||We&4&&ue!==(ue=fe[2].economyAndLaws.tax_rate))&&(ie.value=ue),We&1){rt=Je(fe[0]);let Ge;for(Ge=0;Ge<rt.length;Ge+=1){const Zt=Li(fe,rt,Ge);Ve[Ge]?Ve[Ge].p(Zt,We):(Ve[Ge]=qi(Zt),Ve[Ge].c(),Ve[Ge].m(ve,null))}for(;Ge<Ve.length;Ge+=1)Ve[Ge].d(1);Ve.length=rt.length}fe[3]?Be?We&8&&A(Be,1):(Be=ji(),Be.c(),A(Be,1),Be.m(ke.parentNode,ke)):Be&&(qe(),M(Be,1,1,()=>{Be=null}),je())},i(fe){Ce||(A(Se.$$.fragment,fe),A(Be),Ce=!0)},o(fe){M(Se.$$.fragment,fe),M(Be),Ce=!1},d(fe){fe&&(N(e),N(we),N(ke)),$e.d(),Q(Se),kt(Ve,fe),Be&&Be.d(fe),Ke=!1,Ne(Ae)}}}function pt(t,e){if(e===void 0&&(e=0),t==null||t==null)return 0;t=parseFloat((t*Math.pow(10,e)).toFixed(11));var n=Math.round(t)/Math.pow(10,e);return+n.toFixed(e)}function Hf(t,e,n){let o,l,i,r;le(t,Ie,b=>n(2,o=b)),le(t,on,b=>n(12,l=b)),le(t,Ln,b=>n(3,i=b)),le(t,Fn,b=>n(13,r=b));let a,s,{stats:u=[]}=e;function f(){let b=prompt("Enter a new name for your town (under 200 chars)");if(b&&b.length<200){let C=o;C.townInfo.name=b,Ie.set(C),localStorage.setItem(et,JSON.stringify(C))}}let c="Normal";function p(){l==500?(de(on,l=250,l),n(6,c="Fast")):(de(on,l=500,l),n(6,c="Normal"))}function h(b){let C=o;C.economyAndLaws.tax_rate=pt(b.target.value,2),Ie.set(C),localStorage.setItem(et,JSON.stringify(C))}function m(){let b=o;b.hasABank===!0?(b.townInfo.gold+=b.townInfo.gold_from_tourism,b.townInfo.gold_from_tourism=0,Ie.set(b),localStorage.setItem(et,JSON.stringify(b))):alert("You need a bank to transfer funds from tourism activities.")}document.addEventListener("keydown",b=>{switch(b.key.toLowerCase()){case"1":b.preventDefault(),p();break;case"2":b.preventDefault(),p();break}});const _=()=>{de(Ie,o.townLog="",o)};return t.$$set=b=>{"stats"in b&&n(0,u=b.stats)},t.$$.update=()=>{if(t.$$.dirty&12){const b=document.getElementById("headerObject");b&&de(Fn,r=b.offsetHeight+32,r),n(4,a=Math.floor(o.environment.day/365)+1),n(5,s=o.environment.day),n(0,u=[{label:"Population",value:`${o.townInfo.population_count}/${o.townInfo.population_max}`,subtitle:`<span
					class='
						rounded-full px-1 py-1 text-xs
						${o.townInfo.population_count<o.townInfo.population_max?"text-red-500":"text-green-500"}
					'>
					${o.townInfo.population_max-o.townInfo.population_count}
				</span>`,tap:()=>{}},{label:"Employees",value:`${o.townInfo.employees}/${o.townInfo.population_count}`,subtitle:`<span
					class='
						rounded-full px-1 py-1 text-xs
						${o.townInfo.employees<o.townInfo.population_count?"text-red-500":"text-green-500"}
					'>
					${o.townInfo.population_count-o.townInfo.employees}
				</span>`,tap:()=>{}},{label:"Knowledge",value:o.townInfo.knowledge_points,tap:()=>{}},{label:"Gold",value:pt(o.townInfo.gold,0),subtitle:`<span
					class='
						rounded-full px-1 py-1 text-xs
						${o.economyAndLaws.last_month_profit<0?"text-red-500":"text-green-500"}
					'>
					${o.economyAndLaws.last_month_profit}
				</span>`,tap:()=>{de(Ln,i=!i,i)}},{label:"Tourism 💰",value:o.townInfo.gold_from_tourism,tap:()=>{m()}},{label:"Happiness",value:`${pt(o.townInfo.happiness/3,0)}/100`,subtitle:`<span
					class='
						rounded-full px-1 py-1 text-xs text-white
						${o.townInfo.happiness<50?"text-red-500":"text-green-500"}
					'>
					${o.modifiers.happiness<1?"🔴":"🟢"}
				</span>`,tap:()=>{}},{label:"Health",value:`${pt(o.townInfo.health/3,0)}/100`,subtitle:`<span
					class='
						rounded-full px-1 py-1 text-xs text-white
						${o.townInfo.health<50?"text-red-500":"text-green-500"}
					'>
					${o.modifiers.health<1?"🔴":"🟢"}
				</span>`,tap:()=>{}}])}},[u,pt,o,i,a,s,c,f,p,h,m,_]}class Jf extends ae{constructor(e){super(),se(this,e,Hf,Kf,te,{stats:0,roundTo:1,transferFundsFromBank:10})}get roundTo(){return pt}get transferFundsFromBank(){return this.$$.ctx[10]}}function Yf(t){let e;const n=t[2].default,o=me(n,t,t[3],null);return{c(){o&&o.c()},m(l,i){o&&o.m(l,i),e=!0},p(l,i){o&&o.p&&(!e||i&8)&&_e(o,n,l,l[3],e?he(n,l[3],i,null):ge(l[3]),null)},i(l){e||(A(o,l),e=!0)},o(l){M(o,l),e=!1},d(l){o&&o.d(l)}}}function Xf(t){let e,n;const o=[{class:ye("text-lg font-semibold leading-none tracking-tight",t[0])},t[1]];let l={$$slots:{default:[Yf]},$$scope:{ctx:t}};for(let i=0;i<o.length;i+=1)l=G(l,o[i]);return e=new _l({props:l}),{c(){$(e.$$.fragment)},m(i,r){Z(e,i,r),n=!0},p(i,[r]){const a=r&3?ce(o,[r&1&&{class:ye("text-lg font-semibold leading-none tracking-tight",i[0])},r&2&&Ze(i[1])]):{};r&8&&(a.$$scope={dirty:r,ctx:i}),e.$set(a)},i(i){n||(A(e.$$.fragment,i),n=!0)},o(i){M(e.$$.fragment,i),n=!1},d(i){Q(e,i)}}}function Zf(t,e,n){const o=["class"];let l=z(e,o),{$$slots:i={},$$scope:r}=e,{class:a=void 0}=e;return t.$$set=s=>{e=G(G({},e),Te(s)),n(1,l=z(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,r=s.$$scope)},[a,l,i,r]}class oo extends ae{constructor(e){super(),se(this,e,Zf,Xf,te,{class:0})}}function Qf(t){let e;const n=t[1].default,o=me(n,t,t[2],null);return{c(){o&&o.c()},m(l,i){o&&o.m(l,i),e=!0},p(l,i){o&&o.p&&(!e||i&4)&&_e(o,n,l,l[2],e?he(n,l[2],i,null):ge(l[2]),null)},i(l){e||(A(o,l),e=!0)},o(l){M(o,l),e=!1},d(l){o&&o.d(l)}}}function $f(t){let e,n;const o=[t[0]];let l={$$slots:{default:[Qf]},$$scope:{ctx:t}};for(let i=0;i<o.length;i+=1)l=G(l,o[i]);return e=new bl({props:l}),{c(){$(e.$$.fragment)},m(i,r){Z(e,i,r),n=!0},p(i,[r]){const a=r&1?ce(o,[Ze(i[0])]):{};r&4&&(a.$$scope={dirty:r,ctx:i}),e.$set(a)},i(i){n||(A(e.$$.fragment,i),n=!0)},o(i){M(e.$$.fragment,i),n=!1},d(i){Q(e,i)}}}function zf(t,e,n){const o=[];let l=z(e,o),{$$slots:i={},$$scope:r}=e;return t.$$set=a=>{e=G(G({},e),Te(a)),n(0,l=z(e,o)),"$$scope"in a&&n(2,r=a.$$scope)},[l,i,r]}class xf extends ae{constructor(e){super(),se(this,e,zf,$f,te,{})}}function ec(t){let e,n,o;const l=t[3].default,i=me(l,t,t[2],null);let r=[{class:n=ye("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t[0])},t[1]],a={};for(let s=0;s<r.length;s+=1)a=G(a,r[s]);return{c(){e=F("div"),i&&i.c(),re(e,a)},m(s,u){E(s,e,u),i&&i.m(e,null),o=!0},p(s,[u]){i&&i.p&&(!o||u&4)&&_e(i,l,s,s[2],o?he(l,s[2],u,null):ge(s[2]),null),re(e,a=ce(r,[(!o||u&1&&n!==(n=ye("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(A(i,s),o=!0)},o(s){M(i,s),o=!1},d(s){s&&N(e),i&&i.d(s)}}}function tc(t,e,n){const o=["class"];let l=z(e,o),{$$slots:i={},$$scope:r}=e,{class:a=void 0}=e;return t.$$set=s=>{e=G(G({},e),Te(s)),n(1,l=z(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,r=s.$$scope)},[a,l,r,i]}class io extends ae{constructor(e){super(),se(this,e,tc,ec,te,{class:0})}}function nc(t){let e,n,o;const l=t[3].default,i=me(l,t,t[2],null);let r=[{class:n=ye("flex flex-col space-y-1.5 text-center sm:text-left",t[0])},t[1]],a={};for(let s=0;s<r.length;s+=1)a=G(a,r[s]);return{c(){e=F("div"),i&&i.c(),re(e,a)},m(s,u){E(s,e,u),i&&i.m(e,null),o=!0},p(s,[u]){i&&i.p&&(!o||u&4)&&_e(i,l,s,s[2],o?he(l,s[2],u,null):ge(s[2]),null),re(e,a=ce(r,[(!o||u&1&&n!==(n=ye("flex flex-col space-y-1.5 text-center sm:text-left",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(A(i,s),o=!0)},o(s){M(i,s),o=!1},d(s){s&&N(e),i&&i.d(s)}}}function oc(t,e,n){const o=["class"];let l=z(e,o),{$$slots:i={},$$scope:r}=e,{class:a=void 0}=e;return t.$$set=s=>{e=G(G({},e),Te(s)),n(1,l=z(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,r=s.$$scope)},[a,l,r,i]}class lo extends ae{constructor(e){super(),se(this,e,oc,nc,te,{class:0})}}function ic(t){let e,n;const o=[{transition:t[1]},{transitionConfig:t[2]},{class:ye("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm",t[0])},t[3]];let l={};for(let i=0;i<o.length;i+=1)l=G(l,o[i]);return e=new yl({props:l}),{c(){$(e.$$.fragment)},m(i,r){Z(e,i,r),n=!0},p(i,[r]){const a=r&15?ce(o,[r&2&&{transition:i[1]},r&4&&{transitionConfig:i[2]},r&1&&{class:ye("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm",i[0])},r&8&&Ze(i[3])]):{};e.$set(a)},i(i){n||(A(e.$$.fragment,i),n=!0)},o(i){M(e.$$.fragment,i),n=!1},d(i){Q(e,i)}}}function lc(t,e,n){const o=["class","transition","transitionConfig"];let l=z(e,o),{class:i=void 0}=e,{transition:r=ql}=e,{transitionConfig:a={duration:150}}=e;return t.$$set=s=>{e=G(G({},e),Te(s)),n(3,l=z(e,o)),"class"in s&&n(0,i=s.class),"transition"in s&&n(1,r=s.transition),"transitionConfig"in s&&n(2,a=s.transitionConfig)},[i,r,a,l]}class rc extends ae{constructor(e){super(),se(this,e,lc,ic,te,{class:0,transition:1,transitionConfig:2})}}function sc(t){let e,n,o,l;return e=new jl({props:{class:"h-4 w-4"}}),{c(){$(e.$$.fragment),n=K(),o=F("span"),o.textContent="Close",R(o,"class","sr-only")},m(i,r){Z(e,i,r),E(i,n,r),E(i,o,r),l=!0},p:pe,i(i){l||(A(e.$$.fragment,i),l=!0)},o(i){M(e.$$.fragment,i),l=!1},d(i){i&&(N(n),N(o)),Q(e,i)}}}function ac(t){let e,n,o;const l=t[4].default,i=me(l,t,t[5],null);return n=new gl({props:{class:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",$$slots:{default:[sc]},$$scope:{ctx:t}}}),{c(){i&&i.c(),e=K(),$(n.$$.fragment)},m(r,a){i&&i.m(r,a),E(r,e,a),Z(n,r,a),o=!0},p(r,a){i&&i.p&&(!o||a&32)&&_e(i,l,r,r[5],o?he(l,r[5],a,null):ge(r[5]),null);const s={};a&32&&(s.$$scope={dirty:a,ctx:r}),n.$set(s)},i(r){o||(A(i,r),A(n.$$.fragment,r),o=!0)},o(r){M(i,r),M(n.$$.fragment,r),o=!1},d(r){r&&N(e),i&&i.d(r),Q(n,r)}}}function uc(t){let e,n,o,l;e=new rc({});const i=[{transition:t[1]},{transitionConfig:t[2]},{class:ye("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg md:w-full",t[0])},t[3]];let r={$$slots:{default:[ac]},$$scope:{ctx:t}};for(let a=0;a<i.length;a+=1)r=G(r,i[a]);return o=new vl({props:r}),{c(){$(e.$$.fragment),n=K(),$(o.$$.fragment)},m(a,s){Z(e,a,s),E(a,n,s),Z(o,a,s),l=!0},p(a,s){const u=s&15?ce(i,[s&2&&{transition:a[1]},s&4&&{transitionConfig:a[2]},s&1&&{class:ye("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg md:w-full",a[0])},s&8&&Ze(a[3])]):{};s&32&&(u.$$scope={dirty:s,ctx:a}),o.$set(u)},i(a){l||(A(e.$$.fragment,a),A(o.$$.fragment,a),l=!0)},o(a){M(e.$$.fragment,a),M(o.$$.fragment,a),l=!1},d(a){a&&N(n),Q(e,a),Q(o,a)}}}function fc(t){let e,n;return e=new xf({props:{$$slots:{default:[uc]},$$scope:{ctx:t}}}),{c(){$(e.$$.fragment)},m(o,l){Z(e,o,l),n=!0},p(o,[l]){const i={};l&47&&(i.$$scope={dirty:l,ctx:o}),e.$set(i)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){Q(e,o)}}}function cc(t,e,n){const o=["class","transition","transitionConfig"];let l=z(e,o),{$$slots:i={},$$scope:r}=e,{class:a=void 0}=e,{transition:s=El}=e,{transitionConfig:u={duration:200}}=e;return t.$$set=f=>{e=G(G({},e),Te(f)),n(3,l=z(e,o)),"class"in f&&n(0,a=f.class),"transition"in f&&n(1,s=f.transition),"transitionConfig"in f&&n(2,u=f.transitionConfig),"$$scope"in f&&n(5,r=f.$$scope)},[a,s,u,l,i,r]}class ro extends ae{constructor(e){super(),se(this,e,cc,fc,te,{class:0,transition:1,transitionConfig:2})}}function dc(t){let e;const n=t[2].default,o=me(n,t,t[3],null);return{c(){o&&o.c()},m(l,i){o&&o.m(l,i),e=!0},p(l,i){o&&o.p&&(!e||i&8)&&_e(o,n,l,l[3],e?he(n,l[3],i,null):ge(l[3]),null)},i(l){e||(A(o,l),e=!0)},o(l){M(o,l),e=!1},d(l){o&&o.d(l)}}}function pc(t){let e,n;const o=[{class:ye("text-sm text-muted-foreground",t[0])},t[1]];let l={$$slots:{default:[dc]},$$scope:{ctx:t}};for(let i=0;i<o.length;i+=1)l=G(l,o[i]);return e=new wl({props:l}),{c(){$(e.$$.fragment)},m(i,r){Z(e,i,r),n=!0},p(i,[r]){const a=r&3?ce(o,[r&1&&{class:ye("text-sm text-muted-foreground",i[0])},r&2&&Ze(i[1])]):{};r&8&&(a.$$scope={dirty:r,ctx:i}),e.$set(a)},i(i){n||(A(e.$$.fragment,i),n=!0)},o(i){M(e.$$.fragment,i),n=!1},d(i){Q(e,i)}}}function mc(t,e,n){const o=["class"];let l=z(e,o),{$$slots:i={},$$scope:r}=e,{class:a=void 0}=e;return t.$$set=s=>{e=G(G({},e),Te(s)),n(1,l=z(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,r=s.$$scope)},[a,l,i,r]}class so extends ae{constructor(e){super(),se(this,e,mc,pc,te,{class:0})}}const ao=hl;function hc(t){let e;const n=t[2].default,o=me(n,t,t[4],null);return{c(){o&&o.c()},m(l,i){o&&o.m(l,i),e=!0},p(l,i){o&&o.p&&(!e||i&16)&&_e(o,n,l,l[4],e?he(n,l[4],i,null):ge(l[4]),null)},i(l){e||(A(o,l),e=!0)},o(l){M(o,l),e=!1},d(l){o&&o.d(l)}}}function _c(t){let e,n;const o=[{class:ye("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",t[0])},t[1]];let l={$$slots:{default:[hc]},$$scope:{ctx:t}};for(let i=0;i<o.length;i+=1)l=G(l,o[i]);return e=new Ja({props:l}),e.$on("mousedown",t[3]),{c(){$(e.$$.fragment)},m(i,r){Z(e,i,r),n=!0},p(i,[r]){const a=r&3?ce(o,[r&1&&{class:ye("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",i[0])},r&2&&Ze(i[1])]):{};r&16&&(a.$$scope={dirty:r,ctx:i}),e.$set(a)},i(i){n||(A(e.$$.fragment,i),n=!0)},o(i){M(e.$$.fragment,i),n=!1},d(i){Q(e,i)}}}function gc(t,e,n){const o=["class"];let l=z(e,o),{$$slots:i={},$$scope:r}=e,{class:a=void 0}=e;function s(u){X.call(this,t,u)}return t.$$set=u=>{e=G(G({},e),Te(u)),n(1,l=z(e,o)),"class"in u&&n(0,a=u.class),"$$scope"in u&&n(4,r=u.$$scope)},[a,l,i,s,r]}class Kt extends ae{constructor(e){super(),se(this,e,gc,_c,te,{class:0})}}function bc(t){let e;return{c(){e=j("Pause Menu")},m(n,o){E(n,e,o)},d(n){n&&N(e)}}}function vc(t){let e=t[2].description_title+"",n;return{c(){n=j(e)},m(o,l){E(o,n,l)},p:pe,d(o){o&&N(n)}}}function yc(t){let e,n,o,l;return e=new oo({props:{$$slots:{default:[bc]},$$scope:{ctx:t}}}),o=new so({props:{$$slots:{default:[vc]},$$scope:{ctx:t}}}),{c(){$(e.$$.fragment),n=K(),$(o.$$.fragment)},m(i,r){Z(e,i,r),E(i,n,r),Z(o,i,r),l=!0},p(i,r){const a={};r&2048&&(a.$$scope={dirty:r,ctx:i}),e.$set(a);const s={};r&2048&&(s.$$scope={dirty:r,ctx:i}),o.$set(s)},i(i){l||(A(e.$$.fragment,i),A(o.$$.fragment,i),l=!0)},o(i){M(e.$$.fragment,i),M(o.$$.fragment,i),l=!1},d(i){i&&N(n),Q(e,i),Q(o,i)}}}function Bi(t){let e,n,o,l,i,r=JSON.stringify(t[2].requirements[t[0].difficulty].population_count)+"",a,s,u=JSON.stringify(t[0].townInfo.population_count)+"",f,c,p,h,m=JSON.stringify(t[2].requirements[t[0].difficulty].happiness)+"",_,b,C=JSON.stringify(t[0].townInfo.happiness)+"",k,P,W,Y,d=JSON.stringify(t[2].requirements[t[0].difficulty].health)+"",B,I,L=JSON.stringify(t[0].townInfo.health)+"",q,T,g,v,w=JSON.stringify(t[2].requirements[t[0].difficulty].employment*100)+"",O,S,V=JSON.stringify((t[0].townInfo.employees/t[0].townInfo.population_count||0)*100)+"",J,U;function ee(x,Le){return x[0].townInfo.population_count>=x[2].requirements[x[0].difficulty].population_count?kc:wc}let ie=ee(t),ue=ie(t);function Me(x,Le){return x[0].townInfo.happiness>=x[2].requirements[x[0].difficulty].happiness?Ic:Cc}let Se=Me(t),be=Se(t);function ve(x,Le){return x[0].townInfo.health>=x[2].requirements[x[0].difficulty].health?Sc:Tc}let we=ve(t),ke=we(t);function Ce(x,Le){return x[0].townInfo.employees/x[0].townInfo.population_count>=x[2].requirements[x[0].difficulty].employment?Pc:Ac}let Ke=Ce(t),Ae=Ke(t);return{c(){e=F("div"),e.textContent=`With your difficulty (${t[3]}), you must also have:`,n=K(),o=F("ul"),l=F("li"),ue.c(),i=j(`
						Population: `),a=j(r),s=j(" - Currently at "),f=j(u),c=K(),p=F("li"),be.c(),h=j(`
						Happiness: `),_=j(m),b=j(" - Currently at "),k=j(C),P=K(),W=F("li"),ke.c(),Y=j(`
						Health: `),B=j(d),I=j(" - Currently at "),q=j(L),T=K(),g=F("li"),Ae.c(),v=j(`
						Employment: `),O=j(w),S=j("% - Currently at "),J=j(V),U=j("%"),R(e,"class","text-base leading-relaxed"),R(o,"class","list-inside list-disc text-base leading-relaxedmt-0")},m(x,Le){E(x,e,Le),E(x,n,Le),E(x,o,Le),y(o,l),ue.m(l,null),y(l,i),y(l,a),y(l,s),y(l,f),y(o,c),y(o,p),be.m(p,null),y(p,h),y(p,_),y(p,b),y(p,k),y(o,P),y(o,W),ke.m(W,null),y(W,Y),y(W,B),y(W,I),y(W,q),y(o,T),y(o,g),Ae.m(g,null),y(g,v),y(g,O),y(g,S),y(g,J),y(g,U)},p(x,Le){ie!==(ie=ee(x))&&(ue.d(1),ue=ie(x),ue&&(ue.c(),ue.m(l,i))),Le&1&&r!==(r=JSON.stringify(x[2].requirements[x[0].difficulty].population_count)+"")&&ne(a,r),Le&1&&u!==(u=JSON.stringify(x[0].townInfo.population_count)+"")&&ne(f,u),Se!==(Se=Me(x))&&(be.d(1),be=Se(x),be&&(be.c(),be.m(p,h))),Le&1&&m!==(m=JSON.stringify(x[2].requirements[x[0].difficulty].happiness)+"")&&ne(_,m),Le&1&&C!==(C=JSON.stringify(x[0].townInfo.happiness)+"")&&ne(k,C),we!==(we=ve(x))&&(ke.d(1),ke=we(x),ke&&(ke.c(),ke.m(W,Y))),Le&1&&d!==(d=JSON.stringify(x[2].requirements[x[0].difficulty].health)+"")&&ne(B,d),Le&1&&L!==(L=JSON.stringify(x[0].townInfo.health)+"")&&ne(q,L),Ke!==(Ke=Ce(x))&&(Ae.d(1),Ae=Ke(x),Ae&&(Ae.c(),Ae.m(g,v))),Le&1&&w!==(w=JSON.stringify(x[2].requirements[x[0].difficulty].employment*100)+"")&&ne(O,w),Le&1&&V!==(V=JSON.stringify((x[0].townInfo.employees/x[0].townInfo.population_count||0)*100)+"")&&ne(J,V)},d(x){x&&(N(e),N(n),N(o)),ue.d(),be.d(),ke.d(),Ae.d()}}}function wc(t){let e;return{c(){e=j("❌")},m(n,o){E(n,e,o)},d(n){n&&N(e)}}}function kc(t){let e;return{c(){e=j("✅")},m(n,o){E(n,e,o)},d(n){n&&N(e)}}}function Cc(t){let e;return{c(){e=j("❌")},m(n,o){E(n,e,o)},d(n){n&&N(e)}}}function Ic(t){let e;return{c(){e=j("✅")},m(n,o){E(n,e,o)},d(n){n&&N(e)}}}function Tc(t){let e;return{c(){e=j("❌")},m(n,o){E(n,e,o)},d(n){n&&N(e)}}}function Sc(t){let e;return{c(){e=j("✅")},m(n,o){E(n,e,o)},d(n){n&&N(e)}}}function Ac(t){let e;return{c(){e=j("❌")},m(n,o){E(n,e,o)},d(n){n&&N(e)}}}function Pc(t){let e;return{c(){e=j("✅")},m(n,o){E(n,e,o)},d(n){n&&N(e)}}}function Nc(t){let e;return{c(){e=j("Save game")},m(n,o){E(n,e,o)},d(n){n&&N(e)}}}function Ec(t){let e;return{c(){e=j("Save")},m(n,o){E(n,e,o)},d(n){n&&N(e)}}}function Oc(t){let e;return{c(){e=j("Upload game")},m(n,o){E(n,e,o)},d(n){n&&N(e)}}}function Mc(t){let e,n,o,l,i,r,a,s,u,f;return o=new Kt({props:{for:"saveButton",class:`cursor-pointer bg-blue-600 rounded-md text-center p-2.5 hover:bg-blue-700 justify-center flex 
					`,$$slots:{default:[Nc]},$$scope:{ctx:t}}}),i=new Wf({props:{class:`
					bg-blue-600 hover:bg-blue-700 hidden
					`,id:"saveButton",$$slots:{default:[Ec]},$$scope:{ctx:t}}}),i.$on("click",t[6]),a=new Kt({props:{for:"upload",class:`cursor-pointer bg-blue-600 rounded-md text-center p-2.5 hover:bg-blue-700 justify-center flex 
					`,$$slots:{default:[Oc]},$$scope:{ctx:t}}}),u=new no({props:{class:"hidden",type:"file",id:"upload"}}),u.$on("change",t[5]),{c(){e=F("div"),n=F("div"),$(o.$$.fragment),l=K(),$(i.$$.fragment),r=K(),$(a.$$.fragment),s=K(),$(u.$$.fragment),R(n,"class","flex gap-10"),R(e,"class","flex flex-col gap-3")},m(c,p){E(c,e,p),y(e,n),Z(o,n,null),y(n,l),Z(i,n,null),y(n,r),Z(a,n,null),y(n,s),Z(u,n,null),f=!0},p(c,p){const h={};p&2048&&(h.$$scope={dirty:p,ctx:c}),o.$set(h);const m={};p&2048&&(m.$$scope={dirty:p,ctx:c}),i.$set(m);const _={};p&2048&&(_.$$scope={dirty:p,ctx:c}),a.$set(_)},i(c){f||(A(o.$$.fragment,c),A(i.$$.fragment,c),A(a.$$.fragment,c),A(u.$$.fragment,c),f=!0)},o(c){M(o.$$.fragment,c),M(i.$$.fragment,c),M(a.$$.fragment,c),M(u.$$.fragment,c),f=!1},d(c){c&&N(e),Q(o),Q(i),Q(a),Q(u)}}}function Lc(t){let e,n,o,l,i,r;e=new lo({props:{$$slots:{default:[yc]},$$scope:{ctx:t}}});let a=t[0].endGoal=="land"&&Bi(t);return i=new io({props:{$$slots:{default:[Mc]},$$scope:{ctx:t}}}),{c(){$(e.$$.fragment),n=K(),o=F("div"),a&&a.c(),l=K(),$(i.$$.fragment),R(o,"class","gap-0 py-0 text-gray-400")},m(s,u){Z(e,s,u),E(s,n,u),E(s,o,u),a&&a.m(o,null),E(s,l,u),Z(i,s,u),r=!0},p(s,u){const f={};u&2048&&(f.$$scope={dirty:u,ctx:s}),e.$set(f),s[0].endGoal=="land"?a?a.p(s,u):(a=Bi(s),a.c(),a.m(o,null)):a&&(a.d(1),a=null);const c={};u&2048&&(c.$$scope={dirty:u,ctx:s}),i.$set(c)},i(s){r||(A(e.$$.fragment,s),A(i.$$.fragment,s),r=!0)},o(s){M(e.$$.fragment,s),M(i.$$.fragment,s),r=!1},d(s){s&&(N(n),N(o),N(l)),Q(e,s),a&&a.d(),Q(i,s)}}}function Fc(t){let e,n;return e=new ro({props:{$$slots:{default:[Lc]},$$scope:{ctx:t}}}),{c(){$(e.$$.fragment)},m(o,l){Z(e,o,l),n=!0},p(o,l){const i={};l&2049&&(i.$$scope={dirty:l,ctx:o}),e.$set(i)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){Q(e,o)}}}function Rc(t){let e,n,o;function l(r){t[7](r)}let i={$$slots:{default:[Fc]},$$scope:{ctx:t}};return t[1]!==void 0&&(i.open=t[1]),e=new ao({props:i}),Oe.push(()=>yn(e,"open",l)),{c(){$(e.$$.fragment)},m(r,a){Z(e,r,a),o=!0},p(r,[a]){const s={};a&2049&&(s.$$scope={dirty:a,ctx:r}),!n&&a&2&&(n=!0,s.open=r[1],gn(()=>n=!1)),e.$set(s)},i(r){o||(A(e.$$.fragment,r),o=!0)},o(r){M(e.$$.fragment,r),o=!1},d(r){Q(e,r)}}}function Dc(t){const e=JSON.parse(t);return e.townInfo!=null&&e.difficulty!=null}function qc(t,e,n){let o,l;le(t,Ie,h=>n(0,o=h)),le(t,it,h=>n(1,l=h));const r=dt[o.endGoal],a=_r[o.difficulty]||0;async function s(){const h="https://hooks.zapier.com/hooks/catch/9593735/30t8u16/?test=true&name=joe",m=Object.assign(Object.assign({},o),{difficulty:a,endGoal:r}),b=await(await fetch(h,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)})).json();console.log(b)}s();function u(){const h=JSON.stringify(o),m=new Blob([h],{type:"text/plain"}),_=URL.createObjectURL(m),b=document.createElement("a");b.href=_,b.download=`${new Date().toISOString()}.json`,document.body.appendChild(b),b.click(),document.body.removeChild(b),URL.revokeObjectURL(_)}function f(){const m=document.getElementById("upload").files;if(m==null)return;const _=m[0],b=new FileReader;b.onload=function(C){if(C.target==null)return;const k=C.target.result;if(typeof k=="string"){if(!Dc(k)){alert("Invalid game file");return}zn(JSON.parse(k))}else alert("Invalid game file: is not String.")},b.readAsText(_)}const c=()=>u();function p(h){l=h,it.set(l)}return t.$$.update=()=>{t.$$.dirty&1},[o,l,r,a,u,f,c,p]}class jc extends ae{constructor(e){super(),se(this,e,qc,Rc,te,{})}}function Bc(t){let e=t[0].endGameDetails.win==!0?"You won! 🎉":"You lost! 😭",n;return{c(){n=j(e)},m(o,l){E(o,n,l)},p(o,l){l&1&&e!==(e=o[0].endGameDetails.win==!0?"You won! 🎉":"You lost! 😭")&&ne(n,e)},d(o){o&&N(n)}}}function Gc(t){let e,n=t[0].endGameDetails.msg+"",o;return{c(){e=F("span"),o=j(n),R(e,"class","text-gray-500 text-sm")},m(l,i){E(l,e,i),y(e,o)},p(l,i){i&1&&n!==(n=l[0].endGameDetails.msg+"")&&ne(o,n)},d(l){l&&N(e)}}}function Wc(t){let e,n,o,l;return e=new oo({props:{$$slots:{default:[Bc]},$$scope:{ctx:t}}}),o=new so({props:{$$slots:{default:[Gc]},$$scope:{ctx:t}}}),{c(){$(e.$$.fragment),n=K(),$(o.$$.fragment)},m(i,r){Z(e,i,r),E(i,n,r),Z(o,i,r),l=!0},p(i,r){const a={};r&5&&(a.$$scope={dirty:r,ctx:i}),e.$set(a);const s={};r&5&&(s.$$scope={dirty:r,ctx:i}),o.$set(s)},i(i){l||(A(e.$$.fragment,i),A(o.$$.fragment,i),l=!0)},o(i){M(e.$$.fragment,i),M(o.$$.fragment,i),l=!1},d(i){i&&N(n),Q(e,i),Q(o,i)}}}function Vc(t){let e;return{c(){e=F("span"),e.textContent="Reset the game by pressing SHIFT+ESC",R(e,"class","text-gray-500 text-sm")},m(n,o){E(n,e,o)},p:pe,d(n){n&&N(e)}}}function Uc(t){let e,n,o,l;return e=new lo({props:{$$slots:{default:[Wc]},$$scope:{ctx:t}}}),o=new io({props:{$$slots:{default:[Vc]},$$scope:{ctx:t}}}),{c(){$(e.$$.fragment),n=K(),$(o.$$.fragment)},m(i,r){Z(e,i,r),E(i,n,r),Z(o,i,r),l=!0},p(i,r){const a={};r&5&&(a.$$scope={dirty:r,ctx:i}),e.$set(a);const s={};r&4&&(s.$$scope={dirty:r,ctx:i}),o.$set(s)},i(i){l||(A(e.$$.fragment,i),A(o.$$.fragment,i),l=!0)},o(i){M(e.$$.fragment,i),M(o.$$.fragment,i),l=!1},d(i){i&&N(n),Q(e,i),Q(o,i)}}}function Kc(t){let e,n;return e=new ro({props:{$$slots:{default:[Uc]},$$scope:{ctx:t}}}),{c(){$(e.$$.fragment)},m(o,l){Z(e,o,l),n=!0},p(o,l){const i={};l&5&&(i.$$scope={dirty:l,ctx:o}),e.$set(i)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){Q(e,o)}}}function Hc(t){let e,n,o;function l(r){t[1](r)}let i={$$slots:{default:[Kc]},$$scope:{ctx:t}};return t[0].endGameDetails!==void 0&&(i.open=t[0].endGameDetails),e=new ao({props:i}),Oe.push(()=>yn(e,"open",l)),{c(){$(e.$$.fragment)},m(r,a){Z(e,r,a),o=!0},p(r,[a]){const s={};a&5&&(s.$$scope={dirty:a,ctx:r}),!n&&a&1&&(n=!0,s.open=r[0].endGameDetails,gn(()=>n=!1)),e.$set(s)},i(r){o||(A(e.$$.fragment,r),o=!0)},o(r){M(e.$$.fragment,r),o=!1},d(r){Q(e,r)}}}function Jc(t,e,n){let o;le(t,Ie,i=>n(0,o=i));function l(i){t.$$.not_equal(o.endGameDetails,i)&&(o.endGameDetails=i,Ie.set(o))}return[o,l]}class Yc extends ae{constructor(e){super(),se(this,e,Jc,Hc,te,{})}}function Xc(t){let e;return{c(){e=j("Welcome to Plots!")},m(n,o){E(n,e,o)},d(n){n&&N(e)}}}function Zc(t){let e;return{c(){e=j("Select a difficulty")},m(n,o){E(n,e,o)},d(n){n&&N(e)}}}function Qc(t){let e;return{c(){e=j("Select a gamemode")},m(n,o){E(n,e,o)},d(n){n&&N(e)}}}function $c(t){let e;return{c(){e=F("p"),e.textContent=`${dt.political.description_title}`,R(e,"class","text-gray-500 text-sm")},m(n,o){E(n,e,o)},d(n){n&&N(e)}}}function zc(t){let e;return{c(){e=F("p"),e.textContent=`${dt.land.description_title}`,R(e,"class","text-gray-500 text-sm")},m(n,o){E(n,e,o)},d(n){n&&N(e)}}}function xc(t){let e;return{c(){e=j("Town Name")},m(n,o){E(n,e,o)},d(n){n&&N(e)}}}function ed(t){let e,n,o,l,i,r,a,s,u,f,c,p,h,m,_,b,C,k,P,W,Y,d,B,I,L,q;i=new Kt({props:{for:"difficulty",class:"mt-2",$$slots:{default:[Zc]},$$scope:{ctx:t}}}),h=new Kt({props:{for:"endGoal",class:"mt-2",$$slots:{default:[Qc]},$$scope:{ctx:t}}});function T(w,O){return w[0]==="land"?zc:$c}let g=T(t),v=g(t);return Y=new Kt({props:{for:"townName",class:"mt-2",$$slots:{default:[xc]},$$scope:{ctx:t}}}),B=new no({props:{id:"townName",class:"mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Will be randomized if you leave blank"}}),{c(){e=F("a"),e.textContent="GitHub",n=K(),o=F("div"),l=F("div"),$(i.$$.fragment),r=K(),a=F("select"),s=F("option"),s.textContent="Easy (quick game)",u=F("option"),u.textContent="Normal (longer game)",f=F("option"),f.textContent="Hard (longest game)",c=K(),p=F("div"),$(h.$$.fragment),m=K(),v.c(),_=K(),b=F("select"),C=F("option"),C.textContent="Fill up the grid",k=F("option"),k.textContent="Rule the world through politics",P=K(),W=F("div"),$(Y.$$.fragment),d=K(),$(B.$$.fragment),R(e,"href","https://github.com/josephrcox/plots"),R(e,"class","text-blue-500 text-sm mb-4 hover:underline"),s.__value="0",gt(s,s.__value),s.selected=!0,u.__value="1",gt(u,u.__value),f.__value="2",gt(f,f.__value),R(a,"id","difficulty"),R(a,"class","mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),C.__value="land",gt(C,C.__value),k.__value="political",gt(k,k.__value),R(b,"id","endGoal"),R(b,"class","mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),R(o,"class","flex flex-col justify-center gap-5 mt-4")},m(w,O){E(w,e,O),E(w,n,O),E(w,o,O),y(o,l),Z(i,l,null),y(l,r),y(l,a),y(a,s),y(a,u),y(a,f),y(o,c),y(o,p),Z(h,p,null),y(p,m),v.m(p,null),y(p,_),y(p,b),y(b,C),y(b,k),po(b,t[0]),y(o,P),y(o,W),Z(Y,W,null),y(W,d),Z(B,W,null),I=!0,L||(q=H(b,"change",t[3]),L=!0)},p(w,O){const S={};O&32&&(S.$$scope={dirty:O,ctx:w}),i.$set(S);const V={};O&32&&(V.$$scope={dirty:O,ctx:w}),h.$set(V),g!==(g=T(w))&&(v.d(1),v=g(w),v&&(v.c(),v.m(p,_))),(!I||O&1)&&po(b,w[0]);const J={};O&32&&(J.$$scope={dirty:O,ctx:w}),Y.$set(J)},i(w){I||(A(i.$$.fragment,w),A(h.$$.fragment,w),A(Y.$$.fragment,w),A(B.$$.fragment,w),I=!0)},o(w){M(i.$$.fragment,w),M(h.$$.fragment,w),M(Y.$$.fragment,w),M(B.$$.fragment,w),I=!1},d(w){w&&(N(e),N(n),N(o)),Q(i),Q(h),v.d(),Q(Y),Q(B),L=!1,q()}}}function td(t){let e,n,o,l;return e=new oo({props:{$$slots:{default:[Xc]},$$scope:{ctx:t}}}),o=new so({props:{$$slots:{default:[ed]},$$scope:{ctx:t}}}),{c(){$(e.$$.fragment),n=K(),$(o.$$.fragment)},m(i,r){Z(e,i,r),E(i,n,r),Z(o,i,r),l=!0},p(i,r){const a={};r&32&&(a.$$scope={dirty:r,ctx:i}),e.$set(a);const s={};r&33&&(s.$$scope={dirty:r,ctx:i}),o.$set(s)},i(i){l||(A(e.$$.fragment,i),A(o.$$.fragment,i),l=!0)},o(i){M(e.$$.fragment,i),M(o.$$.fragment,i),l=!1},d(i){i&&N(n),Q(e,i),Q(o,i)}}}function nd(t){let e,n,o;return{c(){e=F("button"),e.textContent="Start game",R(e,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-md")},m(l,i){E(l,e,i),n||(o=H(e,"click",t[2]),n=!0)},p:pe,d(l){l&&N(e),n=!1,o()}}}function od(t){let e,n,o,l;return e=new lo({props:{$$slots:{default:[td]},$$scope:{ctx:t}}}),o=new io({props:{$$slots:{default:[nd]},$$scope:{ctx:t}}}),{c(){$(e.$$.fragment),n=K(),$(o.$$.fragment)},m(i,r){Z(e,i,r),E(i,n,r),Z(o,i,r),l=!0},p(i,r){const a={};r&33&&(a.$$scope={dirty:r,ctx:i}),e.$set(a);const s={};r&32&&(s.$$scope={dirty:r,ctx:i}),o.$set(s)},i(i){l||(A(e.$$.fragment,i),A(o.$$.fragment,i),l=!0)},o(i){M(e.$$.fragment,i),M(o.$$.fragment,i),l=!1},d(i){i&&N(n),Q(e,i),Q(o,i)}}}function id(t){let e,n;return e=new ro({props:{transition:El,$$slots:{default:[od]},$$scope:{ctx:t}}}),{c(){$(e.$$.fragment)},m(o,l){Z(e,o,l),n=!0},p(o,l){const i={};l&33&&(i.$$scope={dirty:l,ctx:o}),e.$set(i)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){Q(e,o)}}}function ld(t){let e,n,o;function l(r){t[4](r)}let i={$$slots:{default:[id]},$$scope:{ctx:t}};return t[1].visible!==void 0&&(i.open=t[1].visible),e=new ao({props:i}),Oe.push(()=>yn(e,"open",l)),{c(){$(e.$$.fragment)},m(r,a){Z(e,r,a),o=!0},p(r,[a]){const s={};a&33&&(s.$$scope={dirty:a,ctx:r}),!n&&a&2&&(n=!0,s.open=r[1].visible,gn(()=>n=!1)),e.$set(s)},i(r){o||(A(e.$$.fragment,r),o=!0)},o(r){M(e.$$.fragment,r),o=!1},d(r){Q(e,r)}}}function rd(t,e,n){let o;le(t,Vt,s=>n(1,o=s));function l(){const s=document.getElementById("difficulty").value,u=document.getElementById("endGoal").value,f=document.getElementById("townName").value;vr(s,u,f)}let i="land";const r=s=>{n(0,i=s.target.value)};function a(s){t.$$.not_equal(o.visible,s)&&(o.visible=s,Vt.set(o))}return[i,o,l,r,a]}class sd extends ae{constructor(e){super(),se(this,e,rd,ld,te,{})}}function Gi(t){let e,n,o,l;const i=[ud,ad],r=[];function a(s,u){return s[0]==null?0:1}return e=a(t),n=r[e]=i[e](t),{c(){n.c(),o=Ee()},m(s,u){r[e].m(s,u),E(s,o,u),l=!0},p(s,u){let f=e;e=a(s),e===f?r[e].p(s,u):(qe(),M(r[f],1,1,()=>{r[f]=null}),je(),n=r[e],n?n.p(s,u):(n=r[e]=i[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){l||(A(n),l=!0)},o(s){M(n),l=!1},d(s){s&&N(o),r[e].d(s)}}}function ad(t){let e,n,o,l,i,r,a,s,u,f,c,p,h,m,_,b,C=t[2]==!0&&Wi(),k=t[3]==!0&&Vi();return o=new Jf({}),i=new Lf({}),a=new Yc({}),c=new Af({}),{c(){C&&C.c(),e=K(),k&&k.c(),n=K(),$(o.$$.fragment),l=K(),$(i.$$.fragment),r=K(),$(a.$$.fragment),s=K(),u=F("div"),f=F("div"),$(c.$$.fragment),p=K(),h=F("br"),m=K(),_=F("style"),_.textContent=`#plot_grid {
				overflow-x: scroll;
				overflow-y: scroll;
				scroll-behavior: smooth;
			}
			/* no visible scrollbars */
			#plot_grid::-webkit-scrollbar {
				display: none;
			}

			#plot_grid[data-marginRight='true'] {
				/* This is for when the balanceSheet is being shown. */
				margin-right: 224px;
			}`,R(f,"id","plot_grid"),R(f,"data-marginright",t[3]),co(f,"margin-top",t[4]+"px"),R(f,"class","scroll-smooth no-scrollbar <!-- no hor scrollbar --> overflow-x "),R(u,"class","justify-center text-center align-middle <!-- center horiz --> flex ")},m(P,W){C&&C.m(P,W),E(P,e,W),k&&k.m(P,W),E(P,n,W),Z(o,P,W),E(P,l,W),Z(i,P,W),E(P,r,W),Z(a,P,W),E(P,s,W),E(P,u,W),y(u,f),Z(c,f,null),y(f,p),y(f,h),E(P,m,W),E(P,_,W),b=!0},p(P,W){P[2]==!0?C?W&4&&A(C,1):(C=Wi(),C.c(),A(C,1),C.m(e.parentNode,e)):C&&(qe(),M(C,1,1,()=>{C=null}),je()),P[3]==!0?k?W&8&&A(k,1):(k=Vi(),k.c(),A(k,1),k.m(n.parentNode,n)):k&&(qe(),M(k,1,1,()=>{k=null}),je()),(!b||W&8)&&R(f,"data-marginright",P[3]),(!b||W&16)&&co(f,"margin-top",P[4]+"px")},i(P){b||(A(C),A(k),A(o.$$.fragment,P),A(i.$$.fragment,P),A(a.$$.fragment,P),A(c.$$.fragment,P),b=!0)},o(P){M(C),M(k),M(o.$$.fragment,P),M(i.$$.fragment,P),M(a.$$.fragment,P),M(c.$$.fragment,P),b=!1},d(P){P&&(N(e),N(n),N(l),N(r),N(s),N(u),N(m),N(_)),C&&C.d(P),k&&k.d(P),Q(o,P),Q(i,P),Q(a,P),Q(c)}}}function ud(t){let e,n;return e=new sd({}),{c(){$(e.$$.fragment)},m(o,l){Z(e,o,l),n=!0},p:pe,i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){Q(e,o)}}}function Wi(t){let e,n;return e=new jc({}),{c(){$(e.$$.fragment)},m(o,l){Z(e,o,l),n=!0},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){Q(e,o)}}}function Vi(t){let e,n;return e=new Bl({}),{c(){$(e.$$.fragment)},m(o,l){Z(e,o,l),n=!0},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){Q(e,o)}}}function fd(t){let e,n,o=(t[1]||t[0]==null)&&Gi(t);return{c(){o&&o.c(),e=Ee()},m(l,i){o&&o.m(l,i),E(l,e,i),n=!0},p(l,[i]){l[1]||l[0]==null?o?(o.p(l,i),i&3&&A(o,1)):(o=Gi(l),o.c(),A(o,1),o.m(e.parentNode,e)):o&&(qe(),M(o,1,1,()=>{o=null}),je())},i(l){n||(A(o),n=!0)},o(l){M(o),n=!1},d(l){l&&N(e),o&&o.d(l)}}}function cd(t,e,n){let o,l,i,r,a,s,u;le(t,Ot,m=>n(7,o=m)),le(t,Fe,m=>n(8,l=m)),le(t,it,m=>n(2,i=m)),le(t,Ie,m=>n(0,r=m)),le(t,Vt,m=>n(9,a=m)),le(t,Ln,m=>n(3,s=m)),le(t,Fn,m=>n(4,u=m));let f=!1,c=!1;window.addEventListener("resize",()=>{window.innerWidth<800&&alert("Your screen is too small to play this game. Please use a larger screen.")}),document.addEventListener("keydown",m=>{if((document.activeElement!=null&&document.activeElement.nodeName==="INPUT"||document.activeElement!=null&&document.activeElement.nodeName=="TEXTAREA")&&m.key!=="Escape")return;switch(m.key.toLowerCase()){case"p":i==!0?it.set(!1):(it.set(!0),de(Fe,l.visible=!1,l));break;case"escape":m.shiftKey?(de(it,i=!0,i),localStorage.setItem("reset","true"),location.reload(),zn()):l.visible==!0&&de(Fe,l.visible=!1,l);break;case"arrowleft":case"a":m.preventDefault(),p(0,-1,"up");break;case"arrowright":case"d":m.preventDefault(),p(0,1,"down");break;case"arrowup":case"w":m.preventDefault(),p(-1,0,"left");break;case"arrowdown":case"s":m.preventDefault(),p(1,0,"right");break}});function p(m,_,b){if(l.visible===!1&&l.x===0&&l.y===0)h(0,0,b);else{let C=l.x,k=l.y;C+m<0?C=0:C+m>r.plots.length?C=r.plots.length:C+=m,k+_<0?k=0:k+_>r.plots.length?k=r.plots.length:k+=_,h(C,k,b)}}function h(m,_,b){if(c==!0)switch(b){case"up":_-=2;break;case"down":_+=1;break;case"left":m-=2;break;case"right":m+=1;break}m<0?m=0:m>r.plots.length&&(m=r.plots.length),_<0?_=0:_>r.plots.length&&(_=r.plots.length);let C=document.querySelectorAll(".plot_container"),k;if(C.forEach(P=>{P.dataset.x=="$x"&&P.dataset.y=="$y"&&(k=P)}),i==!1){if(k.dataset.canBeUpgraded==="true"?de(Fe,l.visible=!0,l):de(Fe,l.visible=!1,l),k.dataset.refPlotX!==void 0&&k.dataset.refPlotY!=""?(c=!0,C.forEach(P=>{P.dataset.x==k.dataset.refPlotX&&P.dataset.y==k.dataset.refPlotY&&(k=P,m=parseInt(k.dataset.x),_=parseInt(k.dataset.y))})):c=!1,k.dataset.size!=="1"&&k.dataset.size!==void 0&&(c=!0),de(Fe,l.x=m,l),de(Fe,l.y=_,l),C.forEach(P=>{P.classList.remove("selected"),P.style.fontWeight=""}),k.classList.add("selected"),c){let P="4px solid #00800045";k.classList.remove("selected"),k.style.borderTop=P,k.style.borderLeft=P,k.style.fontWeight="600",C.forEach(W=>{const Y=parseInt(`${W.dataset.x}`),d=parseInt(`${W.dataset.y}`);Y==m+1&&d==_&&(W.style.borderLeft=P,W.style.borderBottom=P),Y==m&&d==_+1&&(W.style.borderTop=P,W.style.borderRight=P),Y==m+1&&d==_+1&&(W.style.borderBottom=P,W.style.borderRight=P)})}k.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),de(Ot,o={},o)}}return t.$$.update=()=>{t.$$.dirty&1&&(r?(de(Vt,a.visible=!1,a),n(1,f=!0)):(de(Vt,a.visible=!0,a),n(1,f=!1)))},[r,f,i,s,u,h]}class dd extends ae{constructor(e){super(),se(this,e,cd,fd,te,{openPlotMenu:5})}get openPlotMenu(){return this.$$.ctx[5]}}new dd({target:document.getElementById("app")});
