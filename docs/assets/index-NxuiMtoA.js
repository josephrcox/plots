var id=Object.defineProperty;var rd=(t,e,n)=>e in t?id(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var on=(t,e,n)=>(rd(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();function ld(t){const e=pako.gzip(JSON.stringify(t));return btoa(String.fromCharCode.apply(null,e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function sd(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=atob(e),o=new Uint8Array(n.length);for(let r=0;r<n.length;r++)o[r]=n.charCodeAt(r);const i=pako.ungzip(o,{to:"string"});return JSON.parse(i)}async function ad(){let t=localStorage.getItem("plots_active_game_db");const e=await ld(t);console.log("http://localhost:5173/plots/?shareId="+e)}const ir=window.location.search.substring(1).split("&").reduce((t,e)=>{const[n,o]=e.split("=");return t[n]=o,t},{});if(ir.shareId!=null||ir.shareId!=null){console.log("DECRYPING FROM shareId");const t=JSON.parse(sd(ir.shareId));let e=localStorage.getItem("plots_active_game_db");(e==""||e==null)&&localStorage.setItem("plots_active_game_db",JSON.stringify(t))}else console.log("COMPRESSING GAME TO SHARE"),ad();function Ce(){}const ji=t=>t;function J(t,e){for(const n in e)t[n]=e[n];return t}function vf(t){return t()}function Nl(){return Object.create(null)}function je(t){t.forEach(vf)}function Dt(t){return typeof t=="function"}function ce(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function ud(t){return Object.keys(t).length===0}function el(t,...e){if(t==null){for(const o of e)o(void 0);return Ce}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function yf(t){let e;return el(t,n=>e=n)(),e}function se(t,e,n){t.$$.on_destroy.push(el(e,n))}function pe(t,e,n,o){if(t){const i=wf(t,e,n,o);return t[0](i)}}function wf(t,e,n,o){return t[1]&&o?J(n.ctx.slice(),t[1](o(e))):n.ctx}function he(t,e,n,o){if(t[2]&&o){const i=t[2](o(n));if(e.dirty===void 0)return i;if(typeof i=="object"){const r=[],l=Math.max(e.dirty.length,i.length);for(let a=0;a<l;a+=1)r[a]=e.dirty[a]|i[a];return r}return e.dirty|i}return e.dirty}function _e(t,e,n,o,i,r){if(i){const l=wf(e,n,o,r);t.p(l,i)}}function ge(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let o=0;o<n;o++)e[o]=-1;return e}return-1}function Le(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function le(t,e){const n={};e=new Set(e);for(const o in t)!e.has(o)&&o[0]!=="$"&&(n[o]=t[o]);return n}function Pe(t,e,n){return t.set(n),e}function Fe(t){return t&&Dt(t.destroy)?t.destroy:Ce}const kf=typeof window<"u";let tl=kf?()=>window.performance.now():()=>Date.now(),nl=kf?t=>requestAnimationFrame(t):Ce;const Kn=new Set;function Cf(t){Kn.forEach(e=>{e.c(t)||(Kn.delete(e),e.f())}),Kn.size!==0&&nl(Cf)}function ol(t){let e;return Kn.size===0&&nl(Cf),{promise:new Promise(n=>{Kn.add(e={c:t,f:n})}),abort(){Kn.delete(e)}}}function y(t,e){t.appendChild(e)}function Af(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function fd(t){const e=P("style");return e.textContent="/* empty */",cd(Af(t),e),e.sheet}function cd(t,e){return y(t.head||t,e),e.sheet}function N(t,e,n){t.insertBefore(e,n||null)}function M(t){t.parentNode&&t.parentNode.removeChild(t)}function ut(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function P(t){return document.createElement(t)}function Hi(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function G(t){return document.createTextNode(t)}function F(){return G(" ")}function Re(){return G("")}function z(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function R(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}const dd=["width","height"];function ae(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const o in e)e[o]==null?t.removeAttribute(o):o==="style"?t.style.cssText=e[o]:o==="__value"?t.value=t[o]=e[o]:n[o]&&n[o].set&&dd.indexOf(o)===-1?t[o]=e[o]:R(t,o,e[o])}function di(t,e){for(const n in e)R(t,n,e[n])}function md(t,e){Object.keys(e).forEach(n=>{pd(t,n,e[n])})}function pd(t,e,n){const o=e.toLowerCase();o in t?t[o]=typeof t[o]=="boolean"&&n===""?!0:n:e in t?t[e]=typeof t[e]=="boolean"&&n===""?!0:n:R(t,e,n)}function un(t){return/-/.test(t)?md:ae}function hd(t){return Array.from(t.childNodes)}function ue(t,e){e=""+e,t.data!==e&&(t.data=e)}function mi(t,e){t.value=e??""}function et(t,e,n,o){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,"")}function El(t,e,n){for(let o=0;o<t.options.length;o+=1){const i=t.options[o];if(i.__value===e){i.selected=!0;return}}t.selectedIndex=-1}function gt(t,e,n){t.classList.toggle(e,!!n)}function Tf(t,e,{bubbles:n=!1,cancelable:o=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:o})}class Kt{constructor(e=!1){on(this,"is_svg",!1);on(this,"e");on(this,"n");on(this,"t");on(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,n,o=null){this.e||(this.is_svg?this.e=Hi(n.nodeName):this.e=P(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(e)),this.i(o)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)N(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(M)}}const pi=new Map;let hi=0;function _d(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function gd(t,e){const n={stylesheet:fd(e),rules:{}};return pi.set(t,n),n}function _i(t,e,n,o,i,r,l,a=0){const s=16.666/o;let u=`{
`;for(let g=0;g<=1;g+=s){const v=e+(n-e)*r(g);u+=g*100+`%{${l(v,1-v)}}
`}const f=u+`100% {${l(n,1-n)}}
}`,c=`__svelte_${_d(f)}_${a}`,d=Af(t),{stylesheet:m,rules:p}=pi.get(d)||gd(d,t);p[c]||(p[c]=!0,m.insertRule(`@keyframes ${c} ${f}`,m.cssRules.length));const _=t.style.animation||"";return t.style.animation=`${_?`${_}, `:""}${c} ${o}ms linear ${i}ms 1 both`,hi+=1,c}function gi(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?r=>r.indexOf(e)<0:r=>r.indexOf("__svelte")===-1),i=n.length-o.length;i&&(t.style.animation=o.join(", "),hi-=i,hi||bd())}function bd(){nl(()=>{hi||(pi.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&M(e)}),pi.clear())})}let $o;function No(t){$o=t}function Vo(){if(!$o)throw new Error("Function called outside component initialization");return $o}function Gi(t){Vo().$$.on_mount.push(t)}function vd(t){Vo().$$.on_destroy.push(t)}function yd(){const t=Vo();return(e,n,{cancelable:o=!1}={})=>{const i=t.$$.callbacks[e];if(i){const r=Tf(e,n,{cancelable:o});return i.slice().forEach(l=>{l.call(t,r)}),!r.defaultPrevented}return!0}}function Vi(t,e){return Vo().$$.context.set(t,e),e}function Wi(t){return Vo().$$.context.get(t)}function ie(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(o=>o.call(this,e))}const Yn=[],Ee=[];let Xn=[];const Tr=[],Sf=Promise.resolve();let Sr=!1;function If(){Sr||(Sr=!0,Sf.then(Of))}function il(){return If(),Sf}function rt(t){Xn.push(t)}function hn(t){Tr.push(t)}const rr=new Set;let Hn=0;function Of(){if(Hn!==0)return;const t=$o;do{try{for(;Hn<Yn.length;){const e=Yn[Hn];Hn++,No(e),wd(e.$$)}}catch(e){throw Yn.length=0,Hn=0,e}for(No(null),Yn.length=0,Hn=0;Ee.length;)Ee.pop()();for(let e=0;e<Xn.length;e+=1){const n=Xn[e];rr.has(n)||(rr.add(n),n())}Xn.length=0}while(Yn.length);for(;Tr.length;)Tr.pop()();Sr=!1,rr.clear(),No(t)}function wd(t){if(t.fragment!==null){t.update(),je(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(rt)}}function kd(t){const e=[],n=[];Xn.forEach(o=>t.indexOf(o)===-1?e.push(o):n.push(o)),n.forEach(o=>o()),Xn=e}let go;function rl(){return go||(go=Promise.resolve(),go.then(()=>{go=null})),go}function kn(t,e,n){t.dispatchEvent(Tf(`${e?"intro":"outro"}${n}`))}const ri=new Set;let qt;function Te(){qt={r:0,c:[],p:qt}}function Se(){qt.r||je(qt.c),qt=qt.p}function C(t,e){t&&t.i&&(ri.delete(t),t.i(e))}function A(t,e,n,o){if(t&&t.o){if(ri.has(t))return;ri.add(t),qt.c.push(()=>{ri.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}else o&&o()}const ll={duration:0};function Vt(t,e,n){const o={direction:"in"};let i=e(t,n,o),r=!1,l,a,s=0;function u(){l&&gi(t,l)}function f(){const{delay:d=0,duration:m=300,easing:p=ji,tick:_=Ce,css:g}=i||ll;g&&(l=_i(t,0,1,m,d,p,g,s++)),_(0,1);const v=tl()+d,h=v+m;a&&a.abort(),r=!0,rt(()=>kn(t,!0,"start")),a=ol(k=>{if(r){if(k>=h)return _(1,0),kn(t,!0,"end"),u(),r=!1;if(k>=v){const S=p((k-v)/m);_(S,1-S)}}return r})}let c=!1;return{start(){c||(c=!0,gi(t),Dt(i)?(i=i(o),rl().then(f)):f())},invalidate(){c=!1},end(){r&&(u(),r=!1)}}}function Wt(t,e,n){const o={direction:"out"};let i=e(t,n,o),r=!0,l;const a=qt;a.r+=1;let s;function u(){const{delay:f=0,duration:c=300,easing:d=ji,tick:m=Ce,css:p}=i||ll;p&&(l=_i(t,1,0,c,f,d,p));const _=tl()+f,g=_+c;rt(()=>kn(t,!1,"start")),"inert"in t&&(s=t.inert,t.inert=!0),ol(v=>{if(r){if(v>=g)return m(0,1),kn(t,!1,"end"),--a.r||je(a.c),!1;if(v>=_){const h=d((v-_)/c);m(1-h,h)}}return r})}return Dt(i)?rl().then(()=>{i=i(o),u()}):u(),{end(f){f&&"inert"in t&&(t.inert=s),f&&i.tick&&i.tick(1,0),r&&(l&&gi(t,l),r=!1)}}}function jt(t,e,n,o){let r=e(t,n,{direction:"both"}),l=o?0:1,a=null,s=null,u=null,f;function c(){u&&gi(t,u)}function d(p,_){const g=p.b-l;return _*=Math.abs(g),{a:l,b:p.b,d:g,duration:_,start:p.start,end:p.start+_,group:p.group}}function m(p){const{delay:_=0,duration:g=300,easing:v=ji,tick:h=Ce,css:k}=r||ll,S={start:tl()+_,b:p};p||(S.group=qt,qt.r+=1),"inert"in t&&(p?f!==void 0&&(t.inert=f):(f=t.inert,t.inert=!0)),a||s?s=S:(k&&(c(),u=_i(t,l,p,g,_,v,k)),p&&h(0,1),a=d(S,g),rt(()=>kn(t,p,"start")),ol(I=>{if(s&&I>s.start&&(a=d(s,g),s=null,kn(t,a.b,"start"),k&&(c(),u=_i(t,l,a.b,a.duration,0,v,r.css))),a){if(I>=a.end)h(l=a.b,1-l),kn(t,a.b,"end"),s||(a.b?c():--a.group.r||je(a.group.c)),a=null;else if(I>=a.start){const O=I-a.start;l=a.a+a.d*v(O/a.duration),h(l,1-l)}}return!!(a||s)}))}return{run(p){Dt(r)?rl().then(()=>{r=r({direction:p?"in":"out"}),m(p)}):m(p)},end(){c(),a=s=null}}}function We(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Cd(t,e){A(t,1,1,()=>{e.delete(t.key)})}function Ad(t,e,n,o,i,r,l,a,s,u,f,c){let d=t.length,m=r.length,p=d;const _={};for(;p--;)_[t[p].key]=p;const g=[],v=new Map,h=new Map,k=[];for(p=m;p--;){const D=c(i,r,p),j=n(D);let q=l.get(j);q?k.push(()=>q.p(D,e)):(q=u(j,D),q.c()),v.set(j,g[p]=q),j in _&&h.set(j,Math.abs(p-_[j]))}const S=new Set,I=new Set;function O(D){C(D,1),D.m(a,f),l.set(D.key,D),f=D.first,m--}for(;d&&m;){const D=g[m-1],j=t[d-1],q=D.key,$=j.key;D===j?(f=D.first,d--,m--):v.has($)?!l.has(q)||S.has(q)?O(D):I.has($)?d--:h.get(q)>h.get($)?(I.add(q),O(D)):(S.add($),d--):(s(j,l),d--)}for(;d--;){const D=t[d];v.has(D.key)||s(D,l)}for(;m;)O(g[m-1]);return je(k),g}function ve(t,e){const n={},o={},i={$$scope:1};let r=t.length;for(;r--;){const l=t[r],a=e[r];if(a){for(const s in l)s in a||(o[s]=1);for(const s in a)i[s]||(n[s]=a[s],i[s]=1);t[r]=a}else for(const s in l)i[s]=1}for(const l in o)l in n||(n[l]=void 0);return n}function st(t){return typeof t=="object"&&t!==null?t:{}}function _n(t,e,n){const o=t.$$.props[e];o!==void 0&&(t.$$.bound[o]=n,n(t.$$.ctx[o]))}function x(t){t&&t.c()}function W(t,e,n){const{fragment:o,after_update:i}=t.$$;o&&o.m(e,n),rt(()=>{const r=t.$$.on_mount.map(vf).filter(Dt);t.$$.on_destroy?t.$$.on_destroy.push(...r):je(r),t.$$.on_mount=[]}),i.forEach(rt)}function Y(t,e){const n=t.$$;n.fragment!==null&&(kd(n.after_update),je(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Td(t,e){t.$$.dirty[0]===-1&&(Yn.push(t),If(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function de(t,e,n,o,i,r,l=null,a=[-1]){const s=$o;No(t);const u=t.$$={fragment:null,ctx:[],props:r,update:Ce,not_equal:i,bound:Nl(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(s?s.$$.context:[])),callbacks:Nl(),dirty:a,skip_bound:!1,root:e.target||s.$$.root};l&&l(u.root);let f=!1;if(u.ctx=n?n(t,e.props||{},(c,d,...m)=>{const p=m.length?m[0]:d;return u.ctx&&i(u.ctx[c],u.ctx[c]=p)&&(!u.skip_bound&&u.bound[c]&&u.bound[c](p),f&&Td(t,c)),d}):[],u.update(),f=!0,je(u.before_update),u.fragment=o?o(u.ctx):!1,e.target){if(e.hydrate){const c=hd(e.target);u.fragment&&u.fragment.l(c),c.forEach(M)}else u.fragment&&u.fragment.c();e.intro&&C(t.$$.fragment),W(t,e.target,e.anchor),Of()}No(s)}class me{constructor(){on(this,"$$");on(this,"$$set")}$destroy(){Y(this,1),this.$destroy=Ce}$on(e,n){if(!Dt(n))return Ce;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const i=o.indexOf(n);i!==-1&&o.splice(i,1)}}$set(e){this.$$set&&!ud(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Sd="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Sd);const Gn=[];function Cn(t,e){return{subscribe:Ye(t,e).subscribe}}function Ye(t,e=Ce){let n;const o=new Set;function i(a){if(ce(t,a)&&(t=a,n)){const s=!Gn.length;for(const u of o)u[1](),Gn.push(u,t);if(s){for(let u=0;u<Gn.length;u+=2)Gn[u][0](Gn[u+1]);Gn.length=0}}}function r(a){i(a(t))}function l(a,s=Ce){const u=[a,s];return o.add(u),o.size===1&&(n=e(i,r)||Ce),a(t),()=>{o.delete(u),o.size===0&&n&&(n(),n=null)}}return{set:i,update:r,subscribe:l}}function tn(t,e,n){const o=!Array.isArray(t),i=o?[t]:t;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const r=e.length<2;return Cn(n,(l,a)=>{let s=!1;const u=[];let f=0,c=Ce;const d=()=>{if(f)return;c();const p=e(o?u[0]:u,l,a);r?l(p):c=Dt(p)?p:Ce},m=i.map((p,_)=>el(p,g=>{u[_]=g,f&=~(1<<_),s&&d()},()=>{f|=1<<_}));return s=!0,d(),function(){je(m),c(),s=!1}})}function Rl(t){return{subscribe:t.subscribe.bind(t)}}const Id={plots:[],timeSpent:0,lastChangeDay:0,townLog:[],currentTutorialStep:0,gameSettings:[],resource_capacity:1e3,townInfo:{name:"Your town",gold:150,population_count:0,population_max:0,employees:0,guardians:0,happiness:150,health:150,recreation:0,community:150,knowledge_points:0,productivity:100},kingdom_expansions:0,resources:{food:150,wood:750,stone:750,metal:0,power:0,bureaucracy:0},resource_rate:{food:0,wood:0,stone:0,metal:0,bureaucracy:0,knowledge:0},hasCityHall:!1,hasBank:!1,hasHospital:!1,hasLab:!1,modifiers:{happiness:1,health:1,community:1},economyAndLaws:{tax_rate:.1,max_tax_rate:1,weeklyProfit:0,knowledge_gold_market_rates:[],enacted:[]},plotCounts:[],environment:{day:0,year:1},maximums:{health:300,happiness:300,community:300},difficulty:0,endGoal:"land",endGameDetails:{msg:"",win:!1,still_playing:!0},tick:0,overtime:!1,last_warning_happiness:0,last_warning_health:0,lab:{active_experiment:null,past_experiments:[],xp:0},liege_location:null},Od={username:"",stats:{games_played:0,wins:0,losses:0},achievements:[]},sl={0:"Easy",1:"Normal",2:"Hard"},Md={0:Math.random()*(.5-.3)+.3,1:Math.random()*(.4-.2)+.2,2:Math.random()*(.4-.2)+.2},oe=[{id:"small_homes",title:"🏠 Homes",type:"residential",description:"+16 people",revenue_per_week:0,requirements:{gold:150,plots:[],employees:0,knowledge:0,size:1,xp:0,resources:{food:0,wood:50,stone:10,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:16,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:2,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"Listen to the townspeople."},{id:"large_homes",title:"🏡 Large Homes",type:"residential",description:"+32 people",revenue_per_week:0,requirements:{gold:1800,plots:[],employees:0,knowledge:0,size:1,xp:0,resources:{food:0,wood:350,stone:100,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.01,health:1,community:1},immediate_variable_changes:{happiness:10,health:0,population:32,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:40,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"Listen to the townspeople."},{id:"farm",title:"🥕 Farm",type:"farm",description:"Produces veggies, grains, fruit",revenue_per_week:6,requirements:{gold:80,plots:[],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:10,stone:10,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.03,health:1.03,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:5,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},check_for_variety:!1,liege_on_plot_hint:"Your presence on the farm is encouraging the farmers to work harder!"},{id:"tree_farm",title:"🌲 Tree Farm",type:"lumber",description:"Produces some wood",revenue_per_week:8,requirements:{gold:300,plots:[],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},check_for_variety:!0,styling:"",affordable:null,selected:null,knowledge_points_per_month:0,generated_resources:{food:0,wood:10,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"Your presence on the farm is encouraging the farmers to work harder!"},{id:"quarry",title:"⛏️ Quarry",type:"quarry",description:"Produces stone, small amounts of metal. Isn't great for health. ",revenue_per_week:0,requirements:{gold:800,plots:[],employees:6,knowledge:0,size:1,xp:0,resources:{food:0,wood:50,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:.98,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:18,metal:1,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"The workers at the quarry are working harder with the presence of their liege."},{id:"Apothecary",title:"🌿 Apothecary",type:"medical",description:"Produces medicine from herbs and plants found in the forest. Increases health overall for a short bit. Fine until you can build a Healing House.",revenue_per_week:0,requirements:{gold:600,plots:[],employees:2,knowledge:0,size:1,xp:0,resources:{food:0,wood:250,stone:250,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.01,health:1.06,community:1},immediate_variable_changes:{happiness:25,health:70,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"livestock_farm",title:"🐄 Livestock",type:"farm",description:"Makes more money and food than a regular farm, but doesn't bonus from water.",revenue_per_week:60,requirements:{gold:600,plots:[],employees:8,knowledge:0,size:1,xp:0,resources:{food:0,wood:20,stone:20,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.1,health:1.05,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:14,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},check_for_variety:!1,liege_on_plot_hint:"The cows are producing more milk and cheese when you are hanging out on the farm."},{id:"stockpile",title:"📦 Stockpile",type:"stockpile",description:"Enables you to store more resources. Costs gold weekly.",revenue_per_week:0,requirements:{gold:600,plots:[],employees:2,knowledge:0,size:1,xp:0,resources:{food:0,wood:220,stone:60,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:30,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},check_for_variety:!1,liege_on_plot_hint:null},{id:"adv_stockpile",title:"📦 Adv. Stockpile",type:"stockpile",description:"Stores more than a normal Stockpile. Costs more to build & operate.",revenue_per_week:0,requirements:{gold:3e3,plots:[],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:2e3,stone:2e3,metal:200,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:100,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},check_for_variety:!1,liege_on_plot_hint:null},{id:"bakery",title:"🥖 Bakery",type:"business",description:"Converts food into some extra cash. Make sure you have enough food.",revenue_per_week:80,requirements:{gold:1800,plots:[],employees:3,knowledge:0,size:1,xp:0,resources:{food:0,wood:300,stone:300,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.11,health:.95,community:1},immediate_variable_changes:{happiness:25,health:0,population:0,community:0,bureaucracy:0},check_for_variety:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:15},liege_on_plot_hint:null},{id:"stables",title:"🐴 Stables",type:"recreation",description:"Improves the health of the town and provides recreation.",revenue_per_week:24,requirements:{gold:1700,plots:[],employees:2,knowledge:0,size:1,xp:0,resources:{food:0,wood:280,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.2,health:1.2,community:1},immediate_variable_changes:{happiness:5,health:10,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"church",title:"⛪️ Church",type:"recreation",description:"Makes people VERY happy for a short period.",revenue_per_week:0,requirements:{gold:900,plots:[],employees:1,knowledge:0,size:1,xp:0,resources:{food:0,wood:1250,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:2,health:1,community:1.3},immediate_variable_changes:{happiness:25,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"pub",title:"🍻 Pub",type:"recreation",description:"Generates knowledge, happiness, community. Isn't great for health.",revenue_per_week:100,knowledge_points_per_month:1,requirements:{gold:2e3,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:1200,stone:250,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.2,health:.97,community:1.1},immediate_variable_changes:{happiness:10,health:-15,population:0,community:0,bureaucracy:0},check_for_variety:!0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"village_market",title:"🛒 Market",type:"shop",description:"Turns food into money. Sells goods and employs many. Makes significantly more money from tourism if you have a Village Inn.",revenue_per_week:150,requirements:{gold:3e3,plots:[],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:1600,stone:600,metal:5,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.05,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:35},liege_on_plot_hint:"Your presence is helping the market make more money."},{id:"fishery",title:"🐠 Fishery",type:"business",description:"Requires metal but generates a lot of food. Must be near water.",revenue_per_week:35,requirements:{gold:3500,plots:[],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:2500,stone:0,metal:100,power:0,bureaucracy:0},adjacent_plots:["water"]},effect_modifiers:{happiness:1.05,health:1,community:1},immediate_variable_changes:{happiness:15,health:8,population:0,community:0,bureaucracy:0},check_for_variety:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:130,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"Your expertise in fishing is helping the town reel in far more fish!"},{id:"vineyard",title:"🍇 Vineyard",type:"recreation",description:"Makes fair money, lowers health. Generates knowledge too similar to a pub.",revenue_per_week:60,requirements:{gold:1800,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:1200,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.2,health:.9,community:1},immediate_variable_changes:{happiness:0,health:-10,population:0,community:0,bureaucracy:0},knowledge_points_per_month:3,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"water_wheel",title:"💧 Water Wheel",type:"industrial",description:"Produces small amount of power",revenue_per_week:0,requirements:{gold:1600,plots:[],employees:15,knowledge:0,size:1,xp:0,resources:{food:0,wood:2e3,stone:25,metal:0,power:0,bureaucracy:0},adjacent_plots:["water"]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:35,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"You are trying to improve the efficiency of the water wheel, but you aren't making a difference."},{id:"adv_water_wheel",title:"💧 Adv. Water Wheel",type:"industrial",description:"Produces a large amount of power",revenue_per_week:0,requirements:{gold:3e3,plots:["blacksmith"],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:1200,stone:150,metal:500,power:0,bureaucracy:0},adjacent_plots:["water"]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:250,bureaucracy:0},level:4,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"You are trying to improve the efficiency of the water wheel, but you aren't making a difference."},{id:"adv_farm",title:"🌾 Adv. Farm",type:"farm",description:"Uses knowledge and technology to produce more food, with only 1 employee.",revenue_per_week:60,requirements:{gold:750,plots:[],employees:1,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:300,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:15,health:15,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:180,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:100,wood:0,stone:0,metal:3,bureaucracy:0,food:0},check_for_variety:!1,liege_on_plot_hint:"Your presence on the farm is encouraging the farmer to work harder!"},{id:"park",title:"🎪 Park",type:"recreation",description:"Makes people extremely happy & healthy for a period. Improves community.",revenue_per_week:0,requirements:{gold:600,plots:[],employees:3,knowledge:0,size:1,xp:0,resources:{food:0,wood:100,stone:100,metal:10,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.5,health:1.5,community:1.3},immediate_variable_changes:{happiness:40,health:40,population:0,community:40,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"village_inn",title:"🛌 Village Inn",type:"tourism",description:"Each inn brings more visitors to your town, increasing profits for the Market and other stores.",revenue_per_week:40,requirements:{gold:5500,plots:[],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:3e3,stone:100,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1.02},immediate_variable_changes:{happiness:10,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:20,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"schoolhouse",title:"🏫 Schoolhouse",type:"education",description:"Produces knowledge, costs money to run.",revenue_per_week:0,knowledge_points_per_month:75,requirements:{gold:15e3,plots:["lumber_mill"],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:3e3,stone:600,metal:100,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.1,health:1.1,community:1.2},immediate_variable_changes:{happiness:15,health:3,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:50,power:20,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"The children seem to be learning worse when you are around, maybe you are a distraction from the teachers."},{id:"blacksmith",title:"⚒️ Blacksmith",type:"business",description:"Converts metal into tools for money. Make sure you have enough metal!",revenue_per_week:300,requirements:{gold:12500,plots:[],employees:24,knowledge:0,size:1,xp:0,resources:{food:0,wood:250,stone:4e3,metal:500,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:.95},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:30,wood:0,stone:0,metal:5,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"library",title:"📕 Library",type:"recreation",description:"Produces knowledge and happiness",revenue_per_week:0,knowledge_points_per_month:10,requirements:{gold:2e3,plots:["lumber_mill"],employees:6,knowledge:0,size:1,xp:0,resources:{food:0,wood:2025,stone:500,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.3,health:1,community:1.1},immediate_variable_changes:{happiness:15,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"lumber_mill",title:"🏭 Lumber Mill",type:"industrial",description:"Increases wood production by 50%, has to be next to a tree farm, but increases production at all.",revenue_per_week:0,requirements:{gold:12e3,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:100,stone:100,metal:300,power:0,bureaucracy:0},adjacent_plots:["tree_farm"]},effect_modifiers:{happiness:1.2,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:50,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:40,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"solar_farm",title:"☀️ Solar farm",type:"industrial",description:"Produces a lot of power without the need of water. Requires a lot of metal every week.",revenue_per_week:0,requirements:{gold:3e4,plots:["blacksmith","library"],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:500,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:750,bureaucracy:0},level:4,active_costs:{gold:0,power:0,wood:0,stone:0,metal:25,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"general_store",title:"🛒 General Store",type:"shop",description:"Makes the most money of any plot, requires power. Makes significantly more from tourism if you have a Village Inn.",revenue_per_week:750,requirements:{gold:27500,plots:[],employees:32,knowledge:0,size:1,xp:0,resources:{food:0,wood:3e4,stone:5e3,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:2,health:2,community:1.1},immediate_variable_changes:{happiness:50,health:50,population:0,community:50,bureaucracy:0},check_for_variety:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:160,wood:0,stone:0,metal:0,bureaucracy:0,food:100},liege_on_plot_hint:"Your experience managing towns is increasing the profits at the general store!"},{id:"healing_house",title:"🏥 Healing House",type:"medical",description:"Treats the sick and continuously improves health.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:3e4,plots:["mine"],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:1e3,stone:2e3,metal:500,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.25,health:1.5,community:1.1},immediate_variable_changes:{happiness:5,health:75,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:30,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"community_center",title:"🫶 Community Center",type:"recreation",description:"Improves community, makes people happier, costs money",revenue_per_week:0,requirements:{gold:16e3,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:7500,stone:700,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.09,health:1,community:2},immediate_variable_changes:{happiness:50,health:15,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:10,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"city_hall",title:"🗳️ City Hall",type:"federal",description:"Generates bureaucracy that can be used to pass laws to impact the city and expand. Costs a LOT of gold every week.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:125e3,plots:[],employees:32,knowledge:1e4,size:1,xp:0,resources:{food:0,wood:3250,stone:2e3,metal:200,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1.3},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:10},level:5,active_costs:{gold:600,power:20,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"mine",title:"⛏️ Mine",type:"mine",description:"Produces a significant amount of metal and stone.",revenue_per_week:0,requirements:{gold:3e4,plots:["blacksmith"],employees:48,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:110,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:.95,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:10,metal:60,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:80,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"academy",title:"🏫 Academy",type:"education",description:"Produces a lot of knowledge, more than a schoolhouse or library. But freakishly expensive.",revenue_per_week:0,knowledge_points_per_month:400,requirements:{gold:99e3,plots:["lumber_mill","schoolhouse"],employees:24,knowledge:3e3,size:1,xp:0,resources:{food:0,wood:3e3,stone:1600,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:5,active_costs:{gold:300,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"bank",title:"🏦 Bank",type:"bank",description:"Enables the conversion of knowledge to gold, and increases maximum tax rate so you can make more money.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:1e5,plots:["academy"],employees:32,knowledge:25e3,size:1,xp:0,resources:{food:0,wood:1e3,stone:1e4,metal:1e3,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:.8,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:5,active_costs:{gold:0,power:100,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"lab",title:"🧪 Laboratory",type:"science",description:"Designs things to help the city grow",revenue_per_week:0,knowledge_points_per_month:300,requirements:{gold:1e5,plots:["academy"],employees:48,knowledge:15e3,size:1,xp:0,resources:{food:0,wood:0,stone:1e4,metal:5e3,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:.98,health:.99,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:5,active_costs:{gold:0,power:700,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null}],bo={empty_unusable:"rgba(255,255,255,0.50)",empty_buildable:"rgba(239,234,90,1.0)",residential:"rgba(222,118,51,1.0)",farm:"rgba(107,143,73,1.0)",lumber:"rgba(145,116,44,1.0)",business:"rgba(146,115,165,1.0)",recreation:"rgba(82,119,177,1.0)",shop:"rgba(82,119,177,1.0)",tourism:"rgba(216,150,216,1.0)",education:"rgba(153,151,223,1.0)",medical:"rgba(74,91,163,1.0)",bank:"rgba(132,119,190,1.0)",federal:"rgba(132,119,190,1.0)",science:"rgba(74,91,163,1.0)",mine:"rgba(217,135,74,1.0)",quarry:"rgba(134,134,133,1.0)",industrial:"rgba(134,134,21,1.0)",stockpile:"rgba(134,134,133,1.0)"};function Ir(t,e=!1,n=22){if(t<0)return t==-1?e?bo.empty_buildable:bo.empty_unusable:t==-2?bo.recreation:bo.empty_unusable;const o=oe[t];return Pd(bo[o.type],n)}const Ll={lab:1,city_hall:1,bank:1,community_center:1,inn:1},Pd=(t,e=20)=>{const n=(l,a,s)=>{l/=255,a/=255,s/=255;const u=Math.max(l,a,s),f=Math.min(l,a,s);let c=0,d=0,m=(u+f)/2;if(u!==f){const p=u-f;switch(d=m>.5?p/(2-u-f):p/(u+f),u){case l:c=(a-s)/p+(a<s?6:0);break;case a:c=(s-l)/p+2;break;case s:c=(l-a)/p+4;break}c/=6}return[c*360,d,m]},o=(l,a,s,u)=>{const f=Math.min(1,s+u/100);return`hsl(${l}, ${(a*100).toFixed(1)}%, ${(f*100).toFixed(1)}%)`},i=l=>{const a=l.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)/);return a?[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]:null};let r=null;if(t.startsWith("#")){const l=t.replace("#",""),a=parseInt(l,16);r=[a>>16&255,a>>8&255,a&255]}else(t.startsWith("rgba")||t.startsWith("rgb"))&&(r=i(t));if(r){const[l,a,s]=n(r[0],r[1],r[2]);return o(l,a,s,e)}throw new Error("Invalid color format")},Lt="plots_active_game_db",Qn="plots_user_db";function Nd(){const t=["York","London","Paris","Madrid","Rome","Berlin","Vienna","Prague","Warsaw","Oslo","Lisbon","Dublin","Brussels","Amsterdam","Stockholm","Copenhagen","Edinburgh","Moscow","Beijing","Tokyo","Seoul","Bangkok","Delhi","Mumbai","Shanghai","Sydney","Melbourne","Cairo","Dubai","Istanbul","Athens","Budapest","Reykjavik","Helsinki","Tallinn","Riga","Vilnius","Sofia","Bucharest","Belgrade","Zagreb","Sarajevo","Ljubljana","Skopje","Tirana","Podgorica","Thessaloniki","Barcelona","Valencia","Seville","Granada","Malaga","Lyon","Marseille","Toulouse","Nice","Nantes","Strasbourg","Bordeaux","Lille","Venice","Milan","Florence","Naples","Turin","Bologna","Perugia","Genoa","Pisa","Verona","Palermo","Catania","Bari","Padua","Cagliari","Krakow","Gdansk","Poznan","Wroclaw","Lodz","Katowice","Bialystok","Gdynia","Sopot","Bydgoszcz","Lublin","Szczecin","Gorzow","Zakopane","Olsztyn","Torun","Rzeszow","Kielce","Radom","Siedlce","Los","Angeles","Chicago","Houston","Phoenix","San","Antonio","San","Diego","Dallas","San","Jose","Austin","Jacksonville","Fort","Worth","Columbus","Charlotte","Liverpool","Manchester","Glasgow","Birmingham","Leeds","Sheffield","Newcastle","upon","Tyne","Bristol","Nottingham","Leicester","Coventry","Belfast","Reading","Cardiff","Southampton","Aberdeen","Plymouth","Stoke","Trent","Wolverhampton","Swansea","Sunderland","Portsmouth","Yorkshire","Hull","Blackpool","Bradford","Derby","Middlesbrough","Peterborough","Stockton","on","Tees","Brighton","Poole","Bournemouth","Huddersfield","Luton","Oxford","Norwich","Oldham","Cambridge","Exeter","Walsall","Colchester","Watford","Rotherham","Newport","Gateshead","Dundee","Gloucester","Solihull","High","Wycombe","Maidstone","Slough","Basildon","Chelmsford","Salford","Bedford","Stevenage","Woking","Grimsby","Birkenhead","Halifax","Warrington","Gillingham","Wigan","Worcester","Wakefield","Lincoln","Chester","Rochdale","Dagenham","Widnes","St","Albans","Mansfield","Sutton","Coldfield","Crawley","Wokingham","Barnsley","St","Helens","Harrogate","Redditch","Scunthorpe","Nuneaton","Chesterfield","Hemel","Hempstead","Bury","Guildford","Ashford","Telford","Newcastle","under","Lyme","Aylesbury","Halesowen","Shrewsbury","Lowestoft","Loughborough","Cheltenham","Kidderminster","Basingstoke","Rugby","Stourbridge","Southport","Kettering","Royal","Leamington","Spa","Beeston","Farnborough","Wrexham","Banbury","Weymouth","Wallsend","Dartford","Grays","Tamworth","Ashford","Esher","Folkestone","Tonbridge","Taunton","Runcorn","Macclesfield","Keighley","Bridgend","Barnstaple","Letchworth","Garden","City","Worthing","Gosport","Eastleigh","Staines","upon","Thames","Lisburn","Livingston","Bognor","Regis","Scarborough","Cannock","Margate","Chippenham","Rhondda","Maidenhead","Wellingborough","Washington","Camberley","Bootle","Lancaster","Llanelli","Chatham","Cheshunt","Bishop","Auckland","Nelson","Belper","Pontefract","Barry","Braintree","Crosby","Bury","St","Edmunds","Bexhill","Margate","Aldershot","Rowley","Regis","Hoddesdon","Sittingbourne","Rugby","Newquay","Falmouth","Stretford","Camberley","Beverley","Windsor","Rochester","Wickford","Diss","Farnham","Andover","Camberwell","Bermondsey","Lewisham","Wembley","Hayes","Harrow","Ilford","Enfield","Twickenham","Richmond","Brentwood","Edgware","Ealing","Greenwich","Bromley","Hounslow","Romford","Hillingdon","Uxbridge","Wandsworth","Sutton","Kingston","upon","Thames","Bexley","Havering","Barking"],e=["ia","ville","ton","land","field","burgh","ford","wood","port","bay","beach","peak","valley","ridge","hill","dale","island","cape","spring","grove","polis","side","view","shore","haven","place","gardens","plaza","square"],n=["New","Old","North","South","East","West","Upper","Lower","Little","Great","Saint","Fort","Mount","Lake","River","The Village of","The City of","The Town of","The Borough of","The County of","The State of","The Kingdom of","The Empire of","The Republic of","The Commonwealth of","The Union of","The Federation of","Rainy","Sunny","Windy","Frosty","Snowy"];function o(s){return s[Math.floor(Math.random()*s.length)]}let i=o(n),r=o(t),l=o(e),a="";return Math.random()>.5?a=i+" "+r+l:a=r+l,a}let De=Ye(JSON.parse(localStorage.getItem(Lt)||"null")),Qt=Ye(JSON.parse(localStorage.getItem(Qn)||"null"));Rd();function Ed(t,e,n,o){let i={...Id};i.gameSettings=o,i.economyAndLaws.max_tax_rate=Md[t],i.endGoal=e;let r=[];n=n.replace(/[^a-zA-Z0-9 ]/g,"").trim(),i.townInfo.name=n!=""?n:Nd(),i.difficulty=parseInt(t),JSON.parse(localStorage.getItem(Qn)||"null").username=="dev"&&o.push("devMode"),o.includes("devMode")&&(i.townInfo.gold=1e8,i.townInfo.happiness=1e7,i.townInfo.health=1e6,i.townInfo.knowledge_points=1e5,i.modifiers.happiness=1e4,i.modifiers.health=1e4,i.resources.food=1e6,i.resources.wood=1e6,i.resources.stone=1e6,i.resources.metal=1e6);const a=12,s=Math.floor(Math.random()*a/2)+1,u=Math.floor(Math.random()*a/2)+1;for(let f=0;f<a;f++){r.push([]);for(let c=0;c<a;c++){const d=f==s&&c==u?!1:Or(f,c,a);r[f][c]={id:Math.random().toString(36).substring(2,9),active:!1,x:f,y:c,type:d?-9:-1,typeId:"",mineralSource:d?!1:s===f&&u===c,water:s===f&&u===c?!1:d}}}i.plots=r,localStorage.setItem(Lt,JSON.stringify(i)),De.set(i),localStorage.reset=!1,location.reload()}function Or(t,e,n){let o=.08;return t>0&&e>0&&t<n-1&&e<n-1&&(o*=2),(e==Math.round(n/2)||e==Math.round(n/2)-1)&&(o*=3),t==0&&e==0&&(o=0),Math.random()<o}function Rd(){if(localStorage.getItem(Qn)===null){let t=Od;t.username="my_username_click_to_change",localStorage.setItem(Qn,JSON.stringify(t)),Qt.set(t)}}function al(t,e,n){let o=n.plots[t][e].type;if(n.plots[t][e].type=-1,n.plots[t][e].active=!1,o>-1&&(n.townInfo.population_count-=oe[o].immediate_variable_changes.population,n.townInfo.population_max-=oe[o].immediate_variable_changes.population,n.townInfo.employees-=oe[o].requirements.employees,(n.plotCounts[o]===void 0||n.plotCounts[o]===null)&&(n.plotCounts[o]=0),n.plotCounts[o]--,(oe[o].requirements.size??1)>1))for(let r=0;r<n.plots.length;r++)for(let l=0;l<n.plots[t].length;l++)n.plots[r][l].referencePlot!=null&&n.plots[r][l].referencePlot[0]===t&&n.plots[r][l].referencePlot[1]===e&&al(r,l,n);n.lastChangeDay=n.environment.day,De.set(n),localStorage.setItem(Lt,JSON.stringify(n))}function $e(t,e){let n=[];for(let o=0;o<e.plots.length;o++)for(let i=0;i<e.plots[o].length;i++)e.plots[o][i].active==!1||e.plots[o][i]==null||e.plots[o][i].type===null||e.plots[o][i].type<0||(oe[e.plots[o][i].type].id===t||oe[e.plots[o][i].type].type===t)&&n.push(e.plots[o][i]);return n}function xn(t,e,n){return n.liege_location!=null&&n.liege_location[0]===t&&n.liege_location[1]===e}function Ld(t,e){const n=t.plots.length,o=n>0?t.plots[0].length:0,i=e=="east"?5:0,r=e=="south"?5:0,l=Math.round(Math.pow(1.7,t.kingdom_expansions+5));if(t.townInfo.guardians<l)return`You need ${l-t.townInfo.guardians} more Guardians to expand the kingdom. See the City mgmt menu.`;for(let a=0;a<n;a++)for(let s=o;s<o+i;s++)t.plots[a].push({id:Math.random().toString(36).substring(2,9),active:!1,x:a,y:s,type:-1,typeId:"",mineralSource:!1,water:Or(a,s,n+r),disabled:!1});for(let a=n;a<n+r;a++){const s=[];for(let u=0;u<o+i;u++)s.push({id:Math.random().toString(36).substring(2,9),active:!1,x:a,y:u,type:-1,typeId:"",mineralSource:!1,water:Or(a,u,n+r)});t.plots.push(s)}t.kingdom_expansions++,De.set(t)}function bi(t=null){localStorage.removeItem(Lt),De.set(null),t&&(localStorage.setItem(Lt,JSON.stringify(t)),De.set(t))}function Dl(t,e,n){n.liege_location=[t,e],eo.set(!1),document.querySelectorAll(".plot_container").forEach(i=>{i.style.cursor=""}),De.set(n)}let tt=Ye({visible:!1,x:0,y:0,isMineralSource:!1}),Eo=Ye({visible:!1});function Dd(t){Qt.set(t),localStorage.setItem(Qn,JSON.stringify(t))}let zn=Ye({}),Ro=Ye(!1),vt=Ye(!1),Mr=Ye(!0),$l=Ye(!1),vi=Ye(!1),yi=Ye(!1),li=Ye(!1),eo=Ye(!1),wi=Ye(!1),ht=Ye(""),ql=localStorage.getItem("showCompletedAchievements")==="true"?Ye(!0):Ye(!1);localStorage.getItem("showOnlyAffordable")==="true"?Ye(!0):Ye(!1);let Mf=localStorage.getItem("pauseMenuTab")==="game"?Ye("game"):Ye("achievements"),To=Ye(750);const Nt={unemployment_num:" people can't find jobs.",bored:"People are bored. Try making some new buildings.",vairety:"People don't like going to the same places over and over again. Try making some new buildings.",nobody_home:"Build some homes!",leave_town_num:" people left town because they were unhappy.",new_people_num:" new people moved to town.",people_want_to_move_in:"People want to move in. Build more homes.",high_tax_rate:"People are unhappy with the high tax rate.",very_high_tax_rate:"People are extremely unhappy with the high tax rate.",sickAndDying:"People are sick and dying.",sickAndLeaving:"People are sick and leaving town.",happiness_zero:"The town has fallen into chaos due to extreme unhappiness.",health_zero:"The town has fallen into chaos due to extreme sickness.",population_zero:"The town has been condemned due to lack of population.",win:{land:"You have filled the grid with buildings. You win!"},hospital_advantage:"Because you have a hospital, the town is staying healthier for longer!",notEnoughVariety:"People are sick of going to the same places over and over, add some variety!"},ct=[{id:"happiness_at_300",title:"Happy Town",description:"One of your towns wins Happiest Town Award!",requirements:"Happiness reaches 300",icon:"😍",check:t=>t.townInfo.happiness>=300,prize:1e3},{id:"get_educated",title:"Get Educated",description:"The kids are finally able to learn!",requirements:"Build a school or library",icon:"📌",check:t=>$e("small_school",t).length!==0||$e("large_school",t).length!==0||$e("library",t).length!==0,prize:1850},{id:"10k",title:"$10,000",description:"",requirements:"Gold reaches $10,000",icon:"﹩",check:t=>t.townInfo.gold>=1e4,prize:2500},{id:"25k",title:"$25,000",description:"",requirements:"Gold reaches $25,000",icon:"💵",check:t=>t.townInfo.gold>=25e3,prize:7500},{id:"stayin_frugal",title:"Stayin' Frugal!",description:"",requirements:"Gold under $50 with >=300 population",icon:"🚲",check:t=>t.townInfo.gold<=50&&t.townInfo.population_count>=300,prize:1e4},{id:"profits_to_the_moon",title:"Profits to the moon!",description:"Now you're making dough!",requirements:"Last month profit is over $10,000",icon:"🌛",check:t=>t.economyAndLaws.weeklyProfit>=1e4,prize:15e3},{id:"happily_dying",title:"Happily Dying!",description:"Not something to be proud of...",requirements:"Happiness > 275, health < 25",icon:"🌛",check:t=>t.townInfo.happiness>275&&t.townInfo.health<25,prize:2e4},{id:"long_game",title:"The Long Game",description:"So are you gonna win anytime soon?",requirements:"Still playing after 10,000 days, without winning. ",icon:"🐌",check:t=>t.endGameDetails.win===!1&&t.environment.day>1e4&&t.endGameDetails.msg==="",prize:25e3},{id:"tax_man",title:"Tax man",description:"Set the tax rate to the absolute max that the town will tolerate.",requirements:"",icon:"🙃",check:t=>{let e=Math.floor(t.economyAndLaws.max_tax_rate*20)/20;return t.economyAndLaws.tax_rate===e},prize:1500},{id:"good_job",title:"Good job",description:"Beat 'Fill the grid' with Normal difficulty in under 3,000 days.",requirements:"",icon:"👍",check:t=>t.endGameDetails.win===!0&&t.environment.day<=3e3&&t.difficulty===1&&t.endGoal==="land",prize:1e4},{id:"great_job",title:"Great job",description:"Beat 'Fill the grid' with Normal difficulty in under 2,000 days.",requirements:"",icon:"👏",check:t=>t.endGameDetails.win===!0&&t.environment.day<=2e3&&t.difficulty===1&&t.endGoal==="land",prize:45e3},{id:"superb_job",title:"SUPERB job",description:"Beat 'Fill the grid' with Normal difficulty in under 500 days.",requirements:"",icon:"👌",check:t=>t.endGameDetails.win===!0&&t.environment.day<=500&&t.difficulty===1&&t.endGoal==="land",prize:1e5},{id:"250k",title:"$250,000",description:"",requirements:"Gold reaches $250,000",icon:"💸",check:t=>t.townInfo.gold>=25e4,prize:5e4},{id:"banker",title:"Banker",description:"",requirements:"Build your first bank. ",icon:"🏦",check:t=>$e("bank",t).length!==0,prize:5e3},{id:"community",title:"Community Center",description:"",requirements:"Build your first community center. ",icon:"❤️",check:t=>$e("community_center",t).length!==0,prize:1e4},{id:"1m",title:"MILLIONAIRE!",description:"",requirements:"Gold reaches $1,000,000",icon:"💰",check:t=>t.townInfo.gold>=1e6,prize:15e4},{id:"pub_knowledge",title:"Street smartz",description:"You get 250 knowledge without building a school or library.",requirements:"Knowledge >= 250 without building a school or library",icon:"🤓",check:t=>$e("small_school",t).length===0&&$e("large_school",t).length===0&&$e("library",t).length===0&&t.townInfo.knowledge_points>=250,prize:5e4}],Lo=[{message:"Build homes to start growing our village",isComplete:t=>t.townInfo.population_max>0,goldReward:750},{message:"Start producing food and wood to keep the town running",isComplete:t=>$e("farm",t).length>=1&&$e("tree_farm",t).length>=1,goldReward:500},{message:"We need stone and metals. Build a quarry",isComplete:t=>$e("quarry",t).length>0,goldReward:700},{message:"Weekly revenue >= 200 gold",isComplete:t=>t.economyAndLaws.weeklyProfit>=200,goldReward:3e3},{message:"Grow our population to 100.",isComplete:t=>t.townInfo.population_count>=100,goldReward:8e3},{message:"Start generating power. Build a water wheel or solar farm",isComplete:t=>t.resources.power>0,goldReward:1e4},{message:"Knowledge >= 250",isComplete:t=>t.townInfo.knowledge_points>=250,goldReward:5e3},{message:"Population >= 200",isComplete:t=>t.townInfo.population_count>=200,goldReward:2e4},{message:"Build a mine to boost our metal supply",isComplete:t=>$e("mine",t).length>0,goldReward:2e4},{message:"Establish a City Hall to advance our town",isComplete:t=>$e("city_hall",t).length>0,goldReward:5e4}];function Pf(t){var e,n,o="";if(typeof t=="string"||typeof t=="number")o+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Pf(t[e]))&&(o&&(o+=" "),o+=n)}else for(n in t)t[n]&&(o&&(o+=" "),o+=n);return o}function $d(){for(var t,e,n=0,o="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Pf(t))&&(o&&(o+=" "),o+=e);return o}const ul="-";function qd(t){const e=Bd(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:o}=t;function i(l){const a=l.split(ul);return a[0]===""&&a.length!==1&&a.shift(),Nf(a,e)||Fd(l)}function r(l,a){const s=n[l]||[];return a&&o[l]?[...s,...o[l]]:s}return{getClassGroupId:i,getConflictingClassGroupIds:r}}function Nf(t,e){var l;if(t.length===0)return e.classGroupId;const n=t[0],o=e.nextPart.get(n),i=o?Nf(t.slice(1),o):void 0;if(i)return i;if(e.validators.length===0)return;const r=t.join(ul);return(l=e.validators.find(({validator:a})=>a(r)))==null?void 0:l.classGroupId}const Fl=/^\[(.+)\]$/;function Fd(t){if(Fl.test(t)){const e=Fl.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function Bd(t){const{theme:e,prefix:n}=t,o={nextPart:new Map,validators:[]};return Hd(Object.entries(t.classGroups),n).forEach(([r,l])=>{Pr(l,o,r,e)}),o}function Pr(t,e,n,o){t.forEach(i=>{if(typeof i=="string"){const r=i===""?e:Bl(e,i);r.classGroupId=n;return}if(typeof i=="function"){if(jd(i)){Pr(i(o),e,n,o);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([r,l])=>{Pr(l,Bl(e,r),n,o)})})}function Bl(t,e){let n=t;return e.split(ul).forEach(o=>{n.nextPart.has(o)||n.nextPart.set(o,{nextPart:new Map,validators:[]}),n=n.nextPart.get(o)}),n}function jd(t){return t.isThemeGetter}function Hd(t,e){return e?t.map(([n,o])=>{const i=o.map(r=>typeof r=="string"?e+r:typeof r=="object"?Object.fromEntries(Object.entries(r).map(([l,a])=>[e+l,a])):r);return[n,i]}):t}function Gd(t){if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,o=new Map;function i(r,l){n.set(r,l),e++,e>t&&(e=0,o=n,n=new Map)}return{get(r){let l=n.get(r);if(l!==void 0)return l;if((l=o.get(r))!==void 0)return i(r,l),l},set(r,l){n.has(r)?n.set(r,l):i(r,l)}}}const Ef="!";function Vd(t){const e=t.separator,n=e.length===1,o=e[0],i=e.length;return function(l){const a=[];let s=0,u=0,f;for(let _=0;_<l.length;_++){let g=l[_];if(s===0){if(g===o&&(n||l.slice(_,_+i)===e)){a.push(l.slice(u,_)),u=_+i;continue}if(g==="/"){f=_;continue}}g==="["?s++:g==="]"&&s--}const c=a.length===0?l:l.substring(u),d=c.startsWith(Ef),m=d?c.substring(1):c,p=f&&f>u?f-u:void 0;return{modifiers:a,hasImportantModifier:d,baseClassName:m,maybePostfixModifierPosition:p}}}function Wd(t){if(t.length<=1)return t;const e=[];let n=[];return t.forEach(o=>{o[0]==="["?(e.push(...n.sort(),o),n=[]):n.push(o)}),e.push(...n.sort()),e}function Yd(t){return{cache:Gd(t.cacheSize),splitModifiers:Vd(t),...qd(t)}}const xd=/\s+/;function Ud(t,e){const{splitModifiers:n,getClassGroupId:o,getConflictingClassGroupIds:i}=e,r=new Set;return t.trim().split(xd).map(l=>{const{modifiers:a,hasImportantModifier:s,baseClassName:u,maybePostfixModifierPosition:f}=n(l);let c=o(f?u.substring(0,f):u),d=!!f;if(!c){if(!f)return{isTailwindClass:!1,originalClassName:l};if(c=o(u),!c)return{isTailwindClass:!1,originalClassName:l};d=!1}const m=Wd(a).join(":");return{isTailwindClass:!0,modifierId:s?m+Ef:m,classGroupId:c,originalClassName:l,hasPostfixModifier:d}}).reverse().filter(l=>{if(!l.isTailwindClass)return!0;const{modifierId:a,classGroupId:s,hasPostfixModifier:u}=l,f=a+s;return r.has(f)?!1:(r.add(f),i(s,u).forEach(c=>r.add(a+c)),!0)}).reverse().map(l=>l.originalClassName).join(" ")}function Kd(){let t=0,e,n,o="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Rf(e))&&(o&&(o+=" "),o+=n);return o}function Rf(t){if(typeof t=="string")return t;let e,n="";for(let o=0;o<t.length;o++)t[o]&&(e=Rf(t[o]))&&(n&&(n+=" "),n+=e);return n}function Nr(t,...e){let n,o,i,r=l;function l(s){const u=e.reduce((f,c)=>c(f),t());return n=Yd(u),o=n.cache.get,i=n.cache.set,r=a,a(s)}function a(s){const u=o(s);if(u)return u;const f=Ud(s,n);return i(s,f),f}return function(){return r(Kd.apply(null,arguments))}}function ze(t){const e=n=>n[t]||[];return e.isThemeGetter=!0,e}const Lf=/^\[(?:([a-z-]+):)?(.+)\]$/i,Xd=/^\d+\/\d+$/,Jd=new Set(["px","full","screen"]),Zd=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Qd=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,zd=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,em=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,tm=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function xt(t){return yn(t)||Jd.has(t)||Xd.test(t)}function rn(t){return lo(t,"length",um)}function yn(t){return!!t&&!Number.isNaN(Number(t))}function Xo(t){return lo(t,"number",yn)}function vo(t){return!!t&&Number.isInteger(Number(t))}function nm(t){return t.endsWith("%")&&yn(t.slice(0,-1))}function Be(t){return Lf.test(t)}function ln(t){return Zd.test(t)}const om=new Set(["length","size","percentage"]);function im(t){return lo(t,om,Df)}function rm(t){return lo(t,"position",Df)}const lm=new Set(["image","url"]);function sm(t){return lo(t,lm,cm)}function am(t){return lo(t,"",fm)}function yo(){return!0}function lo(t,e,n){const o=Lf.exec(t);return o?o[1]?typeof e=="string"?o[1]===e:e.has(o[1]):n(o[2]):!1}function um(t){return Qd.test(t)&&!zd.test(t)}function Df(){return!1}function fm(t){return em.test(t)}function cm(t){return tm.test(t)}function Er(){const t=ze("colors"),e=ze("spacing"),n=ze("blur"),o=ze("brightness"),i=ze("borderColor"),r=ze("borderRadius"),l=ze("borderSpacing"),a=ze("borderWidth"),s=ze("contrast"),u=ze("grayscale"),f=ze("hueRotate"),c=ze("invert"),d=ze("gap"),m=ze("gradientColorStops"),p=ze("gradientColorStopPositions"),_=ze("inset"),g=ze("margin"),v=ze("opacity"),h=ze("padding"),k=ze("saturate"),S=ze("scale"),I=ze("sepia"),O=ze("skew"),D=ze("space"),j=ze("translate"),q=()=>["auto","contain","none"],$=()=>["auto","hidden","clip","visible","scroll"],E=()=>["auto",Be,e],w=()=>[Be,e],T=()=>["",xt,rn],B=()=>["auto",yn,Be],V=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],L=()=>["solid","dashed","dotted","double","none"],U=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"],Q=()=>["start","end","center","between","around","evenly","stretch"],Z=()=>["","0",Be],te=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ee=()=>[yn,Xo],fe=()=>[yn,Be];return{cacheSize:500,separator:":",theme:{colors:[yo],spacing:[xt,rn],blur:["none","",ln,Be],brightness:ee(),borderColor:[t],borderRadius:["none","","full",ln,Be],borderSpacing:w(),borderWidth:T(),contrast:ee(),grayscale:Z(),hueRotate:fe(),invert:Z(),gap:w(),gradientColorStops:[t],gradientColorStopPositions:[nm,rn],inset:E(),margin:E(),opacity:ee(),padding:w(),saturate:ee(),scale:ee(),sepia:Z(),skew:fe(),space:w(),translate:w()},classGroups:{aspect:[{aspect:["auto","square","video",Be]}],container:["container"],columns:[{columns:[ln]}],"break-after":[{"break-after":te()}],"break-before":[{"break-before":te()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...V(),Be]}],overflow:[{overflow:$()}],"overflow-x":[{"overflow-x":$()}],"overflow-y":[{"overflow-y":$()}],overscroll:[{overscroll:q()}],"overscroll-x":[{"overscroll-x":q()}],"overscroll-y":[{"overscroll-y":q()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",vo,Be]}],basis:[{basis:E()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Be]}],grow:[{grow:Z()}],shrink:[{shrink:Z()}],order:[{order:["first","last","none",vo,Be]}],"grid-cols":[{"grid-cols":[yo]}],"col-start-end":[{col:["auto",{span:["full",vo,Be]},Be]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[yo]}],"row-start-end":[{row:["auto",{span:[vo,Be]},Be]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Be]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Be]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal",...Q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[h]}],px:[{px:[h]}],py:[{py:[h]}],ps:[{ps:[h]}],pe:[{pe:[h]}],pt:[{pt:[h]}],pr:[{pr:[h]}],pb:[{pb:[h]}],pl:[{pl:[h]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[D]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[D]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Be,e]}],"min-w":[{"min-w":[Be,e,"min","max","fit"]}],"max-w":[{"max-w":[Be,e,"none","full","min","max","fit","prose",{screen:[ln]},ln]}],h:[{h:[Be,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Be,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Be,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Be,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ln,rn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Xo]}],"font-family":[{font:[yo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Be]}],"line-clamp":[{"line-clamp":["none",yn,Xo]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",xt,Be]}],"list-image":[{"list-image":["none",Be]}],"list-style-type":[{list:["none","disc","decimal",Be]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...L(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",xt,rn]}],"underline-offset":[{"underline-offset":["auto",xt,Be]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:w()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Be]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Be]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...V(),rm]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",im]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},sm]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[r]}],"rounded-s":[{"rounded-s":[r]}],"rounded-e":[{"rounded-e":[r]}],"rounded-t":[{"rounded-t":[r]}],"rounded-r":[{"rounded-r":[r]}],"rounded-b":[{"rounded-b":[r]}],"rounded-l":[{"rounded-l":[r]}],"rounded-ss":[{"rounded-ss":[r]}],"rounded-se":[{"rounded-se":[r]}],"rounded-ee":[{"rounded-ee":[r]}],"rounded-es":[{"rounded-es":[r]}],"rounded-tl":[{"rounded-tl":[r]}],"rounded-tr":[{"rounded-tr":[r]}],"rounded-br":[{"rounded-br":[r]}],"rounded-bl":[{"rounded-bl":[r]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...L(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:L()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...L()]}],"outline-offset":[{"outline-offset":[xt,Be]}],"outline-w":[{outline:[xt,rn]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:T()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[xt,rn]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ln,am]}],"shadow-color":[{shadow:[yo]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":U()}],"bg-blend":[{"bg-blend":U()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[o]}],contrast:[{contrast:[s]}],"drop-shadow":[{"drop-shadow":["","none",ln,Be]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[c]}],saturate:[{saturate:[k]}],sepia:[{sepia:[I]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[o]}],"backdrop-contrast":[{"backdrop-contrast":[s]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[c]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[k]}],"backdrop-sepia":[{"backdrop-sepia":[I]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Be]}],duration:[{duration:fe()}],ease:[{ease:["linear","in","out","in-out",Be]}],delay:[{delay:fe()}],animate:[{animate:["none","spin","ping","pulse","bounce",Be]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[vo,Be]}],"translate-x":[{"translate-x":[j]}],"translate-y":[{"translate-y":[j]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Be]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Be]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":w()}],"scroll-mx":[{"scroll-mx":w()}],"scroll-my":[{"scroll-my":w()}],"scroll-ms":[{"scroll-ms":w()}],"scroll-me":[{"scroll-me":w()}],"scroll-mt":[{"scroll-mt":w()}],"scroll-mr":[{"scroll-mr":w()}],"scroll-mb":[{"scroll-mb":w()}],"scroll-ml":[{"scroll-ml":w()}],"scroll-p":[{"scroll-p":w()}],"scroll-px":[{"scroll-px":w()}],"scroll-py":[{"scroll-py":w()}],"scroll-ps":[{"scroll-ps":w()}],"scroll-pe":[{"scroll-pe":w()}],"scroll-pt":[{"scroll-pt":w()}],"scroll-pr":[{"scroll-pr":w()}],"scroll-pb":[{"scroll-pb":w()}],"scroll-pl":[{"scroll-pl":w()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Be]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[xt,rn,Xo]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}function dm(t,{cacheSize:e,prefix:n,separator:o,extend:i={},override:r={}}){si(t,"cacheSize",e),si(t,"prefix",n),si(t,"separator",o);for(const l in r)mm(t[l],r[l]);for(const l in i)pm(t[l],i[l]);return t}function si(t,e,n){n!==void 0&&(t[e]=n)}function mm(t,e){if(e)for(const n in e)si(t,n,e[n])}function pm(t,e){if(e)for(const n in e){const o=e[n];o!==void 0&&(t[n]=(t[n]||[]).concat(o))}}function hm(t,...e){return typeof t=="function"?Nr(Er,t,...e):Nr(()=>dm(Er(),t),...e)}const $f=Nr(Er);function _m(t){const e=t-1;return e*e*e+1}function qe(...t){return $f($d(t))}const Yi=(t,e={y:-8,x:0,start:.95,duration:150})=>{const n=getComputedStyle(t),o=n.transform==="none"?"":n.transform,i=(l,a,s)=>{const[u,f]=a,[c,d]=s;return(l-u)/(f-u)*(d-c)+c},r=l=>Object.keys(l).reduce((a,s)=>l[s]===void 0?a:a+`${s}:${l[s]};`,"");return{duration:e.duration??200,delay:0,css:l=>{const a=i(l,[0,1],[e.y??5,0]),s=i(l,[0,1],[e.x??0,0]),u=i(l,[0,1],[e.start??.95,1]);return r({transform:`${o} translate3d(${s}px, ${a}px, 0) scale(${u})`,opacity:l})},easing:_m}};function Mt(t,e){if(e===void 0&&(e=0),t==null||t==null)return 0;t=parseFloat((t*Math.pow(10,e)).toFixed(11));var n=Math.round(t)/Math.pow(10,e);return+n.toFixed(e)}function lr(t){return t<10?"0"+t:t}function gm(t){let e=Math.floor(t/1e3),n=Math.floor(e/60);e=e%60;let o=Math.floor(n/60);return n=n%60,`${lr(o)}:${lr(n)}:${lr(e)}`}function we(t){return oe.findIndex(e=>e.id===t)}function jl(t){return oe.find(e=>e.id===t)}function fn(t,e=!0){let n=t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,");return e||(n=n.split(".")[0]),n}function Tn(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Hl(t,e=!0){return t=Mt(t/(e?3:1),2),t<0?`${t}`:`+${t}`}function Sn(t,e,n,o=!1){if(t<0||t>=n.plots.length||e<0||e>=n.plots[0].length)return!1;let i=[[t-1,e],[t+1,e],[t,e-1],[t,e+1],[t-1,e-1],[t-1,e+1],[t+1,e-1],[t+1,e+1]];for(let r=0;r<i.length;r++){let l=i[r][0],a=i[r][1];if(l>=0&&l<n.plots.length&&a>=0&&a<n.plots[0].length&&n.plots[l][a].water&&(o||n.plots[t][e].active==!0&&n.plots[t][e].type>0&&oe[n.plots[t][e].type].id=="farm"))return!0}return!1}function bm(t,e,n,o){if(t<0||t>=n.plots.length||e<0||e>=n.plots[0].length)return!1;let i=[[t-1,e],[t+1,e],[t,e-1],[t,e+1],[t-1,e-1],[t-1,e+1],[t+1,e-1],[t+1,e+1]],r=!0;for(let l=0;l<o.length;l++){let a=!1;if(o[l]=="water"&&Sn(t,e,n,!0)){a=!0;break}for(let s=0;s<i.length;s++){let u=i[s][0],f=i[s][1];if(u>=0&&u<n.plots.length&&f>=0&&f<n.plots[0].length&&n.plots[u][f].active==!0&&n.plots[u][f].type>0&&oe[n.plots[u][f].type].id==o[l]){a=!0;break}}if(!a){r=!1;break}}return r}function vm(t,e=0){let n=t*.95,o=t*1.05;return Mt(Math.random()*(o-n)+n,e)}let wo=function(t){return t.gameSettings.includes("casual")?3:1};const Rr=[{id:"organic_farming",description:"Organic Farming. Make townspeople healthier and happier, while decreasing overall food production.",cost:150,weekly_effect:t=>(t.modifiers.happiness*=1.01,t.modifiers.health*=1.01,t.resources.food-=2*wo(t)*$e("farm",t).length,t)},{id:"tax_free",description:"Tax-Free Month. For 1 month, the town loses all revenue from taxes, but happiness and health increase quite a lot. Automatically ends after 4 weeks.",cost:250,weekly_effect:t=>(localStorage.getItem("tax_free")===null?(localStorage.setItem("tax_free","0"),t.economyAndLaws.weeklyProfit=-1*t.economyAndLaws.weeklyProfit):localStorage.setItem("tax_free",(parseInt(localStorage.getItem("tax_free"))+1).toString()),parseInt(localStorage.getItem("tax_free"))>=4?(t.modifiers.happiness*=1,t.modifiers.health*=1,localStorage.removeItem("tax_free"),t.economyAndLaws.enacted=t.economyAndLaws.enacted.filter(e=>e!=="tax_free")):(t.modifiers.happiness*=1.02,t.modifiers.health*=1.01),t)},{id:"healthy_mining",description:"Healthy mining. Miners must mine with proper ventilation, but they move like molasses.",cost:250,weekly_effect:t=>(oe.find(e=>e.id==="mine"),t.modifiers.health*=1.1,t.resources.stone-=5*wo(t)*$e("quarry",t).length,t.resources.stone-=7*wo(t)*$e("mine",t).length,t.resources.metal-=15*wo(t)*$e("mine",t).length,t)},{id:"complicated_tax_forms",description:"Complicated Tax Forms. You sneak in a clause to charge 5% more in taxes. Now, if you adjust your tax rate 5% higher, they won't be upset. This can be enacted multiple times to stack.",cost:500,weekly_effect:t=>(t.economyAndLaws.max_tax_rate+=.05,t.economyAndLaws.enacted=t.economyAndLaws.enacted.filter(e=>e!=="complicated_tax_forms"),t)},{id:"legalize_it",description:"Legalize it. You legalize a substance that makes people happy, but it also gives them 'the munchies'. Food consumption and happiness go up.",cost:350,weekly_effect:t=>(t.resources.food-=Math.round(.2*wo(t)*t.townInfo.population_count),t.modifiers.happiness*=1.1,t)},{id:"park_upgrade",description:"Park upgrade. You hold a community forum and add the top 5 things that the people want in their parks. This increases happiness for each park.",cost:350,weekly_effect:t=>(t.townInfo.happiness+=2*$e("park",t).length,t)},{id:"career_politician",description:"Career Politician. You hire a career politician to help you with your town. They cost the town $100 per week, but they earn bureaucracy points faster.",cost:200,weekly_effect:t=>(t.townInfo.gold-=100,t.resources.bureaucracy+=25,t)},{id:"the_big_wood_deal",description:"The Big Wood Deal. This law allows you to sell all of the wood in your town for $5/wood at once. This won't make the town happy, but may be necessary in a pinch. Can be enacted multiple times to sell to other buyers.",cost:500,weekly_effect:t=>(t.townInfo.gold+=5*t.resources.wood,t.resources.wood=0,t.resource_rate.wood=0,t.townInfo.happiness*=.95,t.economyAndLaws.enacted=t.economyAndLaws.enacted.filter(e=>e!=="the_big_wood_deal"),t)},{id:"picky_eating_liege",description:"Picky Eater Liege. There is some food that the town makes that you just really hate. By passing this law, you insist that they sell off that gross food for $1/food every week. You won't make as much food, but you won't have to eat it either.",cost:200,weekly_effect:t=>{const e=$e("farm",t).length*2,n=Math.floor(Math.random()*(.15*e-.05*e)+.05*e);return t.resources.food-=n,t.townInfo.gold+=n,t.townInfo.happiness=.95*t.townInfo.happiness,t}},{id:"stone_statue",description:"Stone Statue. You insist that we use ALL of our stone to build a massive statue. We lose all of our stone, but for some reason, the town has perfect health for a while, I guess.",cost:1e3,weekly_effect:t=>(t.resources.stone=0,t.modifiers.health=5,t)},{id:"out_of_town",description:"TODO: Out of town. Everyone needs a vacation, right? When this is enacted, EVERYONE must leave the town for 10 days. During this time, no resources are produced, no taxes are collected, and you must take a break from the game.",cost:1e3,weekly_effect:t=>t}];var ot=(t=>(t[t.GOOD=0]="GOOD",t[t.BAD=1]="BAD",t[t.NORMAL=2]="NORMAL",t))(ot||{});const Gl=30;function ym(t){return t=Tm(t),t=t,t}function wm(t){const e=[()=>t.townInfo.happiness<100?"I heard that the town is unhappy. We miss our churches and parks...":"",()=>t.townInfo.health<100?"My kids keep getting sick, probably not enough farms around here!":"",()=>t.townInfo.happiness<50?"I'm thinking of moving out if things don't improve soon!":"",()=>t.townInfo.employees<t.townInfo.population_count?"I am unemployed and I hate it here":"",()=>t.townInfo.knowledge_points<100?"I wish we had more schools!":"",()=>t.economyAndLaws.tax_rate>t.economyAndLaws.max_tax_rate?"I wish the taxes were lower, I could use a break!":"",()=>t.townInfo.productivity>100?"I think we should take a day or two to just be chill, we've been working hard!":"",()=>t.economyAndLaws.tax_rate<t.economyAndLaws.max_tax_rate?"We would probably be ok chipping in more gold for village improvements.":""],n=Math.floor(Math.random()*e.length);return e[n]()}function km(t,e,n){return t.resource_rate.food=dt(n.food-e.food,2),t.resource_rate.wood=dt(n.wood-e.wood,2),t.resource_rate.stone=dt(n.stone-e.stone,2),t.resource_rate.metal=dt(n.metal-e.metal,2),t.resource_rate.bureaucracy=dt(n.bureaucracy-e.bureaucracy,2),t}function Cm(t){return t.hasBank,t}function Am(t){let e=t.economyAndLaws.knowledge_gold_market_rates[t.economyAndLaws.knowledge_gold_market_rates.length-1]||1;const n=-100,o=8,i=3;let r=Math.random(),l=Math.random()*i;if(r<.4){let a=Math.random()*o;Math.random()<.5?e+=a:e-=a}else Math.random()>.5?e+=l:e-=l;return e<n&&(e+=Math.random()*l/5),e=Math.round(e),t.economyAndLaws.knowledge_gold_market_rates=[...t.economyAndLaws.knowledge_gold_market_rates,e],t}function Tm(t){if(t.townInfo.population_count<t.townInfo.population_max&&t.townInfo.happiness>50){let e=t.townInfo.population_max-t.townInfo.population_count,n=Math.round(t.townInfo.happiness/100*e);t.townInfo.population_count+=n,t.townInfo.population_count>t.townInfo.population_max&&(t.townInfo.population_count=t.townInfo.population_max),t.townInfo.employees+=n,t.townInfo.employees>t.townInfo.population_count&&(t.townInfo.employees=t.townInfo.population_count)}if(t.townInfo.happiness<50&&t.townInfo.population_count>0){let e=Math.round((150-t.townInfo.happiness)/5);t.townInfo.population_count-=e,t.townInfo.employees>0&&(t.townInfo.employees-=e)}else t.townInfo.population_count==t.townInfo.population_max;return t}function Lr(t){return t.lab.active_experiment==null||t.lab.active_experiment.duration>0&&(t.lab.active_experiment.duration-=1),t}function Dr(t){return t.townInfo.happiness<0&&(t.townInfo.happiness=0),t.townInfo.health<0&&(t.townInfo.health=0),t.townInfo.community<0&&(t.townInfo.community=0),t.townInfo.gold<0&&(t.townInfo.gold=0),t.townInfo.employees<0&&(t.townInfo.employees=0),t.townInfo.knowledge_points<0&&(t.townInfo.knowledge_points=0),t.townInfo.population_count<0&&(t.townInfo.population_count=0),t.economyAndLaws.weeklyProfit=dt(t.economyAndLaws.weeklyProfit,0),t.townInfo.employees>t.townInfo.population_count&&(t.townInfo.employees=t.townInfo.population_count),t.townInfo.gold=dt(t.townInfo.gold,0),t.townInfo.population_count=dt(t.townInfo.population_count,0),t.townInfo.employees=dt(t.townInfo.employees,0),t.townInfo.population_max=dt(t.townInfo.population_max,0),t.townInfo.happiness=dt(t.townInfo.happiness,2),t.townInfo.health=dt(t.townInfo.health,2),t.townInfo.knowledge_points=dt(t.townInfo.knowledge_points,0),t.townInfo.happiness>t.maximums.happiness&&(t.townInfo.happiness=t.maximums.happiness),t.townInfo.health>t.maximums.health&&(t.townInfo.health=t.maximums.health),t.townInfo.community>300&&(t.townInfo.community=300),t.modifiers.happiness<.5&&(t.modifiers.happiness=.5),t.modifiers.health<.5&&(t.modifiers.health=.5),t.modifiers.community<.5&&(t.modifiers.community=.5),t.modifiers.happiness>2&&(t.modifiers.happiness=2),t.modifiers.health>2&&(t.modifiers.health=2),t.modifiers.community>2&&(t.modifiers.community=2),t}function $r(t){if(t.townInfo.happiness>150){let n=t.townInfo.happiness-150;t.townInfo.happiness-=n*.08,t.townInfo.happiness<150&&(t.townInfo.happiness=150)}if(t.townInfo.health>150){let n=t.townInfo.health-150;t.townInfo.health-=n*.08,t.townInfo.health<150&&(t.townInfo.health=150)}if(t.townInfo.community>150){let n=t.townInfo.community-150;t.townInfo.community-=n*.08,t.townInfo.community<150&&(t.townInfo.community=150)}return t}function Sm(t){return t.townInfo.happiness*=t.modifiers.happiness,t.townInfo.health*=t.modifiers.health,t.townInfo.community*=t.modifiers.community,t}function ft(t,e,n){let o=e.townLog||[];return o.filter(i=>i.message==t).length>0||o.unshift({message:t,day:e.environment.day,vibe:n}),e}function dt(t,e){e===void 0&&(e=0);let n=Math.pow(10,e);return t=parseFloat((t*n).toFixed(11)),+(Math.round(t)/n).toFixed(e)}function Im(t,e,n){let o,i,r,l,a;se(t,To,b=>n(7,o=b)),se(t,Ro,b=>n(8,i=b)),se(t,yi,b=>n(9,r=b)),se(t,vt,b=>n(10,l=b)),se(t,Qt,b=>n(11,a=b)),se(t,De,b=>n(12,b));function s(b){b=te(b),b=Z(b),b=m(b),b=Am(b),b=ee(b),b=h(b);const X={food:b.resources.food,wood:b.resources.wood,stone:b.resources.stone,metal:b.resources.metal,bureaucracy:b.resources.bureaucracy,power:b.resources.power};b=q(b),b=Q(b),b=E(b),b=w(b),b=Ie(b),b=j(b);const K={food:b.resources.food,wood:b.resources.wood,stone:b.resources.stone,metal:b.resources.metal,bureaucracy:b.resources.bureaucracy,power:b.resources.power};return b.environment.day%14===0&&(b=Sm(b)),b=km(b,X,K),b}function u(b){return b=Cm(b),b=v(b),b=Ae(b),b=$r(b),b=U(b),b=O(b),b=p(b),b}function f(b){return b=fe(b),b=Dr(b),b=Lr(b),b=D(b),b=I(b),b=d(b),b=_(b),b.overtime==!1&&(b=L(b),b=b),b=V(b),b=T(b),b=g(b),b}function c(){De.update(b=>{if(b==null||(b.tick++,b.tick%Gl!==0))return b;if(l||!b||b.endGameDetails.msg!==""&&b.overtime==!1||b.townInfo.population_count<=0)return console.info("The game is over, or paused. Not running the game loop."),b;try{return b.environment.day+=1,b.environment.day%7===0&&(b=s(b)),b.environment.day%30===0&&(b=u(b)),b.environment.day%90===0&&(b=ym(b)),window.location.search.includes("debug=true")&&console.log(b),b=f(b),b}catch(X){return window.location.hostname==="localhost"&&alert("Error in game loop: "+X),console.error("Error in game loop:",X),b}})}De.subscribe(b=>{b&&localStorage.setItem(Lt,JSON.stringify(b))}),Qt.subscribe(b=>{b&&localStorage.setItem(Qn,JSON.stringify(b))});function d(b){let X=b.townInfo.population_count-b.townInfo.employees,K=`${X} people can't find jobs!`;return b.townLog=b.townLog.filter(re=>!re.message.includes("people can't find jobs")),X>0&&(b=ft(K,b,ot.BAD)),b}function m(b){let X=!1,K=!1,re=!1,ye=!1;for(let Oe=0;Oe<b.plots.length;Oe++)for(let He=0;He<b.plots[Oe].length;He++)if(b.plots[Oe][He].active==!0&&b.plots[Oe][He].type>-1){let xe=oe[b.plots[Oe][He].type].id;xe=="bank"&&(X=!0),xe=="city_hall"&&(re=!0),(xe=="small_hospital"||xe=="large_hospital")&&(K=!0),xe=="lab"&&(ye=!0)}return b.hasBank=X,b.hasHospital=K,b.hasCityHall=re,b.hasLab=ye,b}function p(b){let X=0,K=0;for(let re=0;re<b.plots.length;re++)for(let ye=0;ye<b.plots[re].length;ye++)if(b.plots[re][ye].active==!0&&b.plots[re][ye].type>-1){let Oe=oe[b.plots[re][ye].type].type;K++,(Oe=="recreation"||Oe=="shop")&&X++}return b.townInfo.recreation=X,K>40&&(X/K<.2?(b.modifiers.happiness*.95,b=ft("The city is growing and citizens are demanding more recreation, look for plots with 🛝 icons.",b,ot.BAD)):(b.modifiers.happiness*1.01,b=ft("The city is growing and citizens are happy with the amount of recreation available.",b,ot.GOOD))),b}function _(b){let X=0;for(let K=0;K<b.plots.length;K++)for(let re=0;re<b.plots[K].length;re++)if(b.plots[K][re].active==!0&&b.plots[K][re].type>-1){let Oe=oe[b.plots[K][re].type].requirements.employees;X+=Oe}return X!=b.townInfo.employees&&(X>b.townInfo.population_max,b.townInfo.employees=X),b}function g(b){for(let X=0;X<b.plots.length;X++)for(let K=0;K<b.plots[X].length;K++)b.plots[X][K].active==!0&&(b.plots[X][K].type=we(b.plots[X][K].typeId));return b}function v(b){const X=b.townInfo.productivity;let K=1;if(X>50&&X<100)K=1.05;else{if(X==100)return b;X<50?K=1.3:X>100&&X<125?K=.95:X>125&&X<150?K=.9:X>150&&X<175?K=.85:X>175&&X<200&&(K=.75)}const re=b.townInfo.happiness;return b.townInfo.happiness*=K,K>1?b=ft(`Happiness has gone up by ${Math.round(b.townInfo.happiness/re*100)}% due to productivity.`,b,ot.GOOD):b=ft(`Happiness has gone down by ${100-Math.round(b.townInfo.happiness/re*100)}% due to productivity.`,b,ot.BAD),b}function h(b){return b.endGameDetails!=null||(b.townInfo.happiness<70&&b.last_warning_happiness+365<b.environment.day&&(ht.set("Your citizens are very unhappy. You should do something about it."),b.last_warning_happiness=b.environment.day),b.townInfo.health<70&&b.last_warning_health+365<b.environment.day&&(ht.set("Your citizens are very unhealthy. You should do something about it."),b.last_warning_health=b.environment.day)),b}const k=["Abigail","Elijah","Mabel","Silas","Beatrice","Clarence","Dorothy","Edgar","Florence","George","Harriet","Isaac","Josephine","Levi","Matilda","Nathaniel","Olive","Percy","Quincy","Rose","Samuel","Theodore","Ursula","Vincent","Winifred","Xavier","Yvette","Zachary","Amos","Betsy","Cecil","Delia","Emmett","Fanny","Gideon","Hazel","Irving","Jeannette","Karl","Lucinda","Mortimer","Nettie","Otis","Prudence","Rufus","Sophronia","Titus","Ulysses","Vera","Winston","Xenia","Yolanda","Zeke","Ada","Bernard","Cornelia","Duncan","Esther","Fletcher","Genevieve"],S=["Farmer","Blacksmith","Biscuit Sculptor","Baker","Carpenter","Chicken Whisperer","Fisher","Herbalist","Miner","Mason","Mustache Twirler","Brewer","Butcher","Candlemaker","Cloud Watcher","Dressmaker","Gardener","Hunter","Innkeeper","Jeweler","Locksmith","Miller","Painter","Potter","Quilter","Rancher","Saddler","Tanner","Upholsterer","Vintner","Watchmaker","Wheelwright","Wooly Sock Knitter","Yarn Spinner","Zodiac Interpreter","Archivist","Bookbinder","Cobbler","Dyer","Engraver","Fletcher","Glassblower","Haberdasher","Illuminator","Joiner","Knitter","Lace Maker","Mapmaker","Navigator","Orchardist","Potion Tester","Quarryman","Roofer","Soapmaker","Tobacconist","Undertaker","Victualler","Wainwright","Xylographer","Yeoman","Pumpkin Carver","Mud Pie Maker","Folk Tale Teller","Leaf Collector","Sunset Chaser","Dream Interpreter","Star Gazer"];function I(b){if(b.gameSettings.includes("bagOfHolding"))return b.resource_capacity=972024,b;let X=$e("stockpile",b).length,K=$e("adv_stockpile",b).length,re=1e3+X*2e3+K*12e3;return b.resource_capacity=re,Object.keys(b.resources).forEach(ye=>{b.resources[ye]>re&&(b.resources[ye]=re)}),b}function O(b){for(let X=0;X<b.plots.length;X++)for(let K=0;K<b.plots[X].length;K++)if(xn(X,K,b)&&b.plots[X][K].active==!0&&oe[b.plots[X][K].type].type=="residential"&&Math.random()<.99){let re=`👑🏠 ${k[Math.floor(Math.random()*k.length)]} the ${S[Math.floor(Math.random()*S.length)]}: `,ye=wm(b);re+=ye,ye!=""&&(b=ft(re,b,ot.NORMAL))}return b}function D(b){let X=0;for(let K=0;K<b.plots.length;K++)for(let re=0;re<b.plots[K].length;re++)if(b.plots[K][re].active==!0&&b.plots[K][re].type>-1){let ye=oe[b.plots[K][re].type].type;(ye=="recreation"||ye=="shop")&&X++}return b.townInfo.recreation=X,b}function j(b){const X=b.townInfo.population_count;return b.resources.food<X?(b.modifiers.happiness*=.95,b.modifiers.health*=.95,b=ft("There isn't enough food for everyone!",b,ot.BAD),b.resources.food=0):(b.townLog=b.townLog.filter(re=>!re.message.includes("There isn't enough food for everyone!")),b.resources.food-=X),b.resources.food=Math.round(b.resources.food),b}function q(b){const X=b.townInfo.productivity;let K=1;X<50?K=.5:X>50&&X<100?K=.75:X==100?K=1:X>100&&X<125?K=1.25:X>125&&X<150?K=1.75:X>150&&X<175?K=3:X>175&&X<200&&(K=5);const re=b.gameSettings.includes("casual")?2.2:1;K*=re,K=vm(K,2);let ye=$e("lumber_mill",b).length*1.5;ye===0&&(ye=1);for(let Oe=0;Oe<b.plots.length;Oe++)for(let He=0;He<b.plots[Oe].length;He++)if(b.plots[Oe][He].active==!0&&b.plots[Oe][He].type>-1){let xe=Sn(Oe,He,b),Xe=xn(Oe,He,b)?2:1,Ge=oe[b.plots[Oe][He].type];Ge.generated_resources!=null&&(b.resources.food+=Math.round(Ge.generated_resources.food*K)*(xe?2:1)*Xe,b.resources.wood+=Math.round(Ge.generated_resources.wood*K*ye)*Xe,b.resources.stone+=Math.round(Ge.generated_resources.stone*K)*Xe,b.resources.metal+=Math.round(Ge.generated_resources.metal*K)*Xe,b.resources.bureaucracy+=Math.round(Ge.generated_resources.bureaucracy*K)*Xe)}return b.resources.food=Math.round(b.resources.food),b.resources.wood=Math.round(b.resources.wood),b.resources.stone=Math.round(b.resources.stone),b.resources.metal=Math.round(b.resources.metal),b.resources.bureaucracy=Math.round(b.resources.bureaucracy),b}var $;(function(b){b.food="food",b.wood="wood",b.stone="stone",b.metal="metal",b.bureaucracy="bureaucracy"})($||($={}));function E(b){for(let X=0;X<b.plots.length;X++)for(let K=0;K<b.plots[X].length;K++)if(b.plots[X][K].active==!0&&b.plots[X][K].type>-1){let re=oe[b.plots[X][K].type],ye=!1;Object.keys(re.active_costs).forEach((Oe,He)=>{const xe=Object.values(re.active_costs)[He];Oe!="power"&&(Oe=="gold"?b.townInfo.gold<xe?ye=!0:b.townInfo.gold-=xe:b.resources[Oe]<xe?ye=!0:b.resources[Oe]-=xe)}),b.plots[X][K].disabled=ye,b.plots[X][K].disabled&&(b.townInfo.happiness-=1),ye&&oe[b.plots[X][K].type].type=="residential"&&(b.townInfo.population_count-=1,b.townInfo.employees-=1)}else b.plots[X][K].disabled=!1;return b}function w(b){let X=0;for(let K=0;K<b.plots.length;K++)for(let re=0;re<b.plots[K].length;re++)if(b.plots[K][re].active==!0&&b.plots[K][re].type>-1){let ye=oe[b.plots[K][re].type];ye.active_costs.power!=0&&(X-=ye.active_costs.power),ye.generated_resources.power!=0&&(X+=ye.generated_resources.power)}return b.resources.power=X,b.resources.power<0&&(b.modifiers.happiness*.98,b.townInfo.happiness-=5,b=ft("🔋 POWER SHORTAGE. HAPPINESS DROPPING THROUGH BLACKOUTS.",b,ot.BAD)),b}function T(b){if(b.gameSettings.includes("devMode"))return b;let X=a;for(let K=0;K<ct.length;K++)X.achievements.find(re=>re[0]==ct[K].id)==null&&ct[K].check(b)&&(X.achievements.push([ct[K].id,b.environment.day,b.townInfo.name]),Pe(vt,l=!0,l),Pe(yi,r=!0,r));return Qt.update(()=>X),b}let B=!1;function V(b){if(B||b.currentTutorialStep>=Lo.length)return b;for(let X=b.currentTutorialStep;X<b.currentTutorialStep+1;X++)if(Lo[X].isComplete(b)){Pe(Ro,i=!0,i),B=!0,b.townInfo.gold+=Lo[X].goldReward,setTimeout(()=>{Pe(Ro,i=!1,i),b.currentTutorialStep++,B=!1},3e3);break}return b}function L(b){return b.gameSettings.includes("tomPetty")&&(b.townInfo.happiness<=3||b.townInfo.health<=3)?(b.townInfo.happiness=300,b.modifiers.happiness=1,b.townInfo.health=300,b.modifiers.health=1,b.townInfo.gold=dt(b.townInfo.gold*.1,0),alert("Since you are playing in Tom Petty mode, you have been given another chance. All it took was 90% of your gold. Good luck!"),b):(b.townInfo.happiness<=3&&(b.townInfo.happiness=0,b.endGameDetails={msg:Nt.happiness_zero,win:!1,still_playing:!1}),b.townInfo.health<=3&&(b.townInfo.health=3,b.endGameDetails={msg:Nt.health_zero,win:!1,still_playing:!1}),b.townInfo.population_count<=0&&b.townInfo.population_max>0&&(b.townInfo.population_count=0,b.endGameDetails={msg:Nt.population_zero,win:!1,still_playing:!1}),b)}function U(b){let X=b.townInfo.population_count-b.townInfo.employees;if(b.gameSettings.includes("casual")&&Math.random()<.75)return b;if(X>0){let K=X*.2;K>10&&(K=10),b.townInfo.happiness-=K,b=ft(X+Nt.unemployment_num,b,ot.BAD)}else b.townLog=b.townLog.filter(K=>!K.message.includes(Nt.unemployment_num));return b}function Q(b){for(let X=0;X<b.economyAndLaws.enacted.length;X++){let K=Rr.find(re=>re.id==b.economyAndLaws.enacted[X]);K!=null&&K.weekly_effect!=null&&(b=K.weekly_effect(b))}return b}function Z(b){let X=b.townInfo.health,K=0;return X>50||X<Math.random()*50&&(X<25?(b=ft(Nt.sickAndDying,b,ot.BAD),b.townInfo.happiness-=10,K=Math.round(b.townInfo.population_count*.1)):(b=ft(Nt.sickAndLeaving,b,ot.BAD),b.townInfo.happiness-=5,K=Math.round(b.townInfo.population_count*.05)),b.townInfo.population_count-=K,b.townInfo.employees-=K),b}function te(b){const X=Math.random();if(b.economyAndLaws.tax_rate>b.economyAndLaws.max_tax_rate&&b.townInfo.population_count>0){let K=1;b.hasBank&&(K=2);const re=b.difficulty==0?.7:b.difficulty==1?.4:.2;X<re&&b.economyAndLaws.tax_rate>b.economyAndLaws.max_tax_rate*2*K?(b.modifiers.happiness-=.02,b=ft(Nt.very_high_tax_rate+"  ("+b.economyAndLaws.tax_rate+"%)",b,ot.BAD)):(b.modifiers.happiness-=.01,b=ft(Nt.high_tax_rate+"  ("+b.economyAndLaws.tax_rate*100+"%)",b,ot.BAD))}return b}function ee(b){if(b.modifiers.happiness>1){let K=b.modifiers.happiness-1;b.modifiers.happiness-=K*.3,b.modifiers.happiness<1.02&&(b.modifiers.happiness=1)}if(b.modifiers.community>1){let K=b.modifiers.community-1;b.modifiers.community-=K*.3,b.modifiers.community<1.02&&(b.modifiers.community=1)}if(b.modifiers.health>1)if($e("healing_house",b).length>0){b=ft(Nt.hospital_advantage,b,ot.GOOD);let K=b.modifiers.health-1;b.modifiers.health-=K*$e("healing_house",b).length?.03:.06,b.modifiers.health<1.02&&(b.modifiers.health=1)}else{let K=b.modifiers.health-1;b.modifiers.health-=K*.3,b.modifiers.health<1.02&&(b.modifiers.health=1)}else $e("healing_house",b).length>0&&(b.modifiers.health+=.8,b.townInfo.health+=Math.floor(Math.random()*10)+5);return b}function fe(b){b.economyAndLaws.weeklyProfit=0;for(let X=0;X<b.plots.length;X++)for(let K=0;K<b.plots[X].length;K++)if(b.plots[X][K].active==!0&&b.plots[X][K].type>-1)if(b.plots[X][K].disabled===!0){const re=oe[b.plots[X][K].type],ye=Math.round(ne(re.revenue_per_week,b,re.type,X,K)*(b.townInfo.productivity/100)/7);b.townInfo.gold-=ye,b.townInfo.happiness-=1,b=ft(`🚨 ${re.title} at ${K}, ${X} is disabled and costing you $${ye} a week! 
              
              It is also lowering overall happiness by 1. Look at available resources and fix the problem! `,b,ot.BAD)}else{const re=oe[b.plots[X][K].type];let ye=ne(re.revenue_per_week,b,re.type,X,K)*(b.townInfo.productivity/100)/7,Oe=Sn(X,K,b);const He=b.gameSettings.includes("casual")?3:1;ye*=He,ye*=Oe?2:1,b.townInfo.gold+=ye,b.economyAndLaws.weeklyProfit+=ye*7}return b}function Ae(b){return b.gameSettings.includes("casual")&&Math.random()<.75||$e("mine",b).length>0&&(b.townInfo.health-=7,$e("healing_house",b).length==0&&(b=ft("The mine is actively hurting the health of the town. A Healing House can counteract this.",b,ot.BAD))),b}function Ie(b){let X=0;for(let K=0;K<b.plots.length;K++)for(let re=0;re<b.plots[K].length;re++)if(b.plots[K][re].active==!0&&b.plots[K][re].type>-1){let ye=oe[b.plots[K][re].type],Oe=xn(K,re,b)?.75:1;ye.knowledge_points_per_month!=null&&(b.townInfo.knowledge_points+=Math.round(ye.knowledge_points_per_month*Oe/4),X+=ye.knowledge_points_per_month*Oe/4)}return b.resource_rate.knowledge=dt(X,0),b}function ne(b,X,K,re,ye){let Oe=X.townInfo.happiness/100;Oe>2?Oe=2:Oe<.75&&(Oe=.75);let He=$e("village_inn",X).length;K=="shop"&&(Oe*=1.35*He),xn(re,ye,X)&&(Oe*=1.5);let xe=Math.round(b*X.economyAndLaws.tax_rate*(X.townInfo.population_count/X.townInfo.population_max)*Oe*(X.economyAndLaws.enacted.includes("tax_free")?-1:1));return dt(xe,2)}return Gi(async()=>{for(;;)localStorage.reset=="true"&&(bi(),localStorage.setItem("reset","false")),c(),await new Promise(b=>setTimeout(b,o/Gl))}),[c,Lr,Dr,ee,$r]}class Om extends me{constructor(e){super(),de(this,e,Im,null,ce,{mainGameThreadLoop:0,_checkExperiment:1,_fixVariables:2,_bringModifiersBackToNormal:3,_bringStatsBackToNormal:4},null,[-1,-1])}get mainGameThreadLoop(){return this.$$.ctx[0]}get _checkExperiment(){return Lr}get _fixVariables(){return Dr}get _bringModifiersBackToNormal(){return this.$$.ctx[3]}get _bringStatsBackToNormal(){return $r}}function Mm(t){return t[t.length-1]}function an(t){return Object.keys(t).reduce((e,n)=>t[n]===void 0?e:e+`${n}:${t[n]};`,"")}function sr(t){return t?!0:void 0}an({position:"absolute",opacity:0,"pointer-events":"none",margin:0,transform:"translateX(-100%)"});function qf(t){if(t!==null)return t}function Vl(t){function e(n){return n(t),()=>{}}return{subscribe:e}}function ar(t){if(!qo)return null;const e=document.querySelector(`[data-melt-id="${t}"]`);return wt(e)?e:null}const So=t=>new Proxy(t,{get(e,n,o){return Reflect.get(e,n,o)},ownKeys(e){return Reflect.ownKeys(e).filter(n=>n!=="action")}}),Wl=t=>typeof t=="function";mt("empty");function mt(t,e){const{stores:n,action:o,returned:i}=e??{},r=(()=>{if(n&&i)return tn(n,a=>{const s=i(a);if(Wl(s)){const u=(...f)=>So({...s(...f),[`data-melt-${t}`]:"",action:o??nt});return u.action=o??nt,u}return So({...s,[`data-melt-${t}`]:"",action:o??nt})});{const a=i,s=a==null?void 0:a();if(Wl(s)){const u=(...f)=>So({...s(...f),[`data-melt-${t}`]:"",action:o??nt});return u.action=o??nt,Vl(u)}return Vl(So({...s,[`data-melt-${t}`]:"",action:o??nt}))}})(),l=o??(()=>{});return l.subscribe=r.subscribe,l}function Yl(t,e){const{stores:n,returned:o,action:i}=e,{subscribe:r}=tn(n,a=>o(a).map(s=>So({...s,[`data-melt-${t}`]:"",action:i??nt}))),l=i??(()=>{});return l.subscribe=r,l}function xi(t){const e=r=>r?`${t}-${r}`:t,n=r=>`data-melt-${t}${r?`-${r}`:""}`,o=r=>`[data-melt-${t}${r?`-${r}`:""}]`;return{name:e,attribute:n,selector:o,getEl:r=>document.querySelector(o(r))}}const qo=typeof document<"u",Ff=t=>typeof t=="function";function Pm(t){return t instanceof Document}function Ui(t){return t instanceof Element}function wt(t){return t instanceof HTMLElement}function xl(t){return t.pointerType==="touch"}function Nm(t){return t!==null&&typeof t=="object"}function Em(t){return Nm(t)&&"subscribe"in t}function Ft(...t){return(...e)=>{for(const n of t)typeof n=="function"&&n(...e)}}function nt(){}function pt(t,e,n,o){const i=Array.isArray(e)?e:[e];return i.forEach(r=>t.addEventListener(r,n,o)),()=>{i.forEach(r=>t.removeEventListener(r,n,o))}}function bt(t,e,n,o){const i=Array.isArray(e)?e:[e];if(typeof n=="function"){const r=Lm(l=>n(l));return i.forEach(l=>t.addEventListener(l,r,o)),()=>{i.forEach(l=>t.removeEventListener(l,r,o))}}return()=>void 0}function Rm(t){const e=t.currentTarget;if(!wt(e))return null;const n=new CustomEvent(`m-${t.type}`,{detail:{originalEvent:t},cancelable:!0});return e.dispatchEvent(n),n}function Lm(t){return e=>{const n=Rm(e);if(!(n!=null&&n.defaultPrevented))return t(e)}}function Ki(t,...e){const n={};for(const o of Object.keys(t))e.includes(o)||(n[o]=t[o]);return n}function Jt(t){return{...t,get:()=>yf(t)}}Jt.writable=function(t){const e=Ye(t);let n=t;return{subscribe:e.subscribe,set(o){e.set(o),n=o},update(o){const i=o(n);e.set(i),n=i},get(){return n}}};Jt.derived=function(t,e){const n=new Map,o=()=>{const r=Array.isArray(t)?t.map(l=>l.get()):t.get();return e(r)};return{get:o,subscribe:r=>{const l=[];return(Array.isArray(t)?t:[t]).forEach(s=>{l.push(s.subscribe(()=>{r(o())}))}),r(o()),n.set(r,l),()=>{const s=n.get(r);if(s)for(const u of s)u();n.delete(r)}}}};const Xi=(t,e)=>{const n=Jt(t),o=(r,l)=>{n.update(a=>{const s=r(a);let u=s;return e&&(u=e({curr:a,next:s})),l==null||l(u),u})};return{...n,update:o,set:r=>{o(()=>r)}}};function fl(t){return new Promise(e=>setTimeout(e,t))}let Dm="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",$m=(t=21)=>{let e="",n=t;for(;n--;)e+=Dm[Math.random()*64|0];return e};function qm(){return $m(10)}function cl(t){return t.reduce((e,n)=>(e[n]=qm(),e),{})}const at={ALT:"Alt",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",CAPS_LOCK:"CapsLock",CONTROL:"Control",DELETE:"Delete",END:"End",ENTER:"Enter",ESCAPE:"Escape",F1:"F1",F10:"F10",F11:"F11",F12:"F12",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",HOME:"Home",META:"Meta",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp",SHIFT:"Shift",SPACE:" ",TAB:"Tab",CTRL:"Control",ASTERISK:"*",A:"a",P:"p"},Bf=()=>typeof window<"u";function Fm(){const t=navigator.userAgentData;return(t==null?void 0:t.platform)??navigator.platform}const jf=t=>Bf()&&t.test(Fm().toLowerCase()),Bm=()=>Bf()&&!!navigator.maxTouchPoints,jm=()=>jf(/^mac/)&&!Bm(),Hm=()=>jf(/mac|iphone|ipad|ipod/i),Gm=()=>Hm()&&!jm();function Vm(t){const e=t.slice();return e.sort(Ym),Wm(e)}function Wm(t){if(t.length<=1)return t.slice();const e=[];for(let o=0;o<t.length;o++){const i=t[o];for(;e.length>=2;){const r=e[e.length-1],l=e[e.length-2];if((r.x-l.x)*(i.y-l.y)>=(r.y-l.y)*(i.x-l.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let o=t.length-1;o>=0;o--){const i=t[o];for(;n.length>=2;){const r=n[n.length-1],l=n[n.length-2];if((r.x-l.x)*(i.y-l.y)>=(r.y-l.y)*(i.x-l.x))n.pop();else break}n.push(i)}return n.pop(),e.length==1&&n.length==1&&e[0].x==n[0].x&&e[0].y==n[0].y?e:e.concat(n)}function Ym(t,e){return t.x<e.x?-1:t.x>e.x?1:t.y<e.y?-1:t.y>e.y?1:0}function xm(t){const e=t.getBoundingClientRect();return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.right,y:e.bottom},{x:e.left,y:e.bottom}]}function Um(t){const e=t.flatMap(n=>xm(n));return Vm(e)}function Km(t,e){let n=!1;for(let o=0,i=e.length-1;o<e.length;i=o++){const r=e[o].x,l=e[o].y,a=e[i].x,s=e[i].y;l>t.y!=s>t.y&&t.x<(a-r)*(t.y-l)/(s-l)+r&&(n=!n)}return n}const ur="data-melt-scroll-lock";function Ul(t,e){if(!t)return;const n=t.style.cssText;return Object.assign(t.style,e),()=>{t.style.cssText=n}}function Xm(t,e,n){if(!t)return;const o=t.style.getPropertyValue(e);return t.style.setProperty(e,n),()=>{o?t.style.setProperty(e,o):t.style.removeProperty(e)}}function Jm(t){const e=t.getBoundingClientRect().left;return Math.round(e)+t.scrollLeft?"paddingLeft":"paddingRight"}function Zm(t){const e=document,n=e.defaultView??window,{documentElement:o,body:i}=e;if(i.hasAttribute(ur))return nt;i.setAttribute(ur,"");const l=n.innerWidth-o.clientWidth,a=()=>Xm(o,"--scrollbar-width",`${l}px`),s=Jm(o),u=n.getComputedStyle(i)[s],f=()=>Ul(i,{overflow:"hidden",[s]:`calc(${u} + ${l}px)`}),c=()=>{const{scrollX:m,scrollY:p,visualViewport:_}=n,g=(_==null?void 0:_.offsetLeft)??0,v=(_==null?void 0:_.offsetTop)??0,h=Ul(i,{position:"fixed",overflow:"hidden",top:`${-(p-Math.floor(v))}px`,left:`${-(m-Math.floor(g))}px`,right:"0",[s]:`calc(${u} + ${l}px)`});return()=>{h==null||h(),n.scrollTo(m,p)}},d=[a(),Gm()?c():f()];return()=>{d.forEach(m=>m==null?void 0:m()),i.removeAttribute(ur)}}const Qm=t=>{try{vd(t)}catch{return t}};function Ot(t,e){let n;const o=tn(t,r=>{n==null||n(),n=e(r)}).subscribe(nt),i=()=>{o(),n==null||n()};return Qm(i),i}function In(t){const e={};return Object.keys(t).forEach(n=>{const o=n,i=t[o];e[o]=Jt(Ye(i))}),e}function zm(t){let e=t.parentElement;for(;wt(e)&&!e.hasAttribute("data-portal");)e=e.parentElement;return e||"body"}function Hf(t,e){return e!==void 0?e:zm(t)==="body"?document.body:null}async function Kl(t){const{prop:e,defaultEl:n}=t;if(await Promise.all([fl(1),il]),e===void 0){n==null||n.focus();return}const o=Ff(e)?e(n):e;if(typeof o=="string"){const i=document.querySelector(o);if(!wt(i))return;i.focus()}else wt(o)&&o.focus()}function fr(t,e,n,o){const i=(t-(isNaN(e)?0:e))%o;let r=Math.abs(i)*2>=o?t+Math.sign(i)*(o-Math.abs(i)):t-i;isNaN(e)?!isNaN(n)&&r>n&&(r=Math.floor(n/o)*o):r<e?r=e:!isNaN(n)&&r>n&&(r=e+Math.floor((n-e)/o)*o);const l=o.toString(),a=l.indexOf("."),s=a>=0?l.length-a:0;if(s>0){const u=Math.pow(10,s);r=Math.round(r*u)/u}return r}Cn(void 0,t=>{function e(o){t(o),t(void 0)}return pt(document,"pointerup",e,{passive:!1,capture:!0})});const ep=Cn(void 0,t=>{function e(o){o&&o.key===at.ESCAPE&&t(o),t(void 0)}return pt(document,"keydown",e,{passive:!1})}),Xl=(t,e={})=>{let n=nt;function o(i={}){n();const r={enabled:!0,...i},l=Em(r.enabled)?r.enabled:Cn(r.enabled);n=Ft(ep.subscribe(a=>{var u;if(!a||!yf(l))return;const s=a.target;if(!(!wt(s)||s.closest("[data-escapee]")!==t)){if(a.preventDefault(),r.ignore){if(Ff(r.ignore)){if(r.ignore(a))return}else if(Array.isArray(r.ignore)&&r.ignore.length>0&&r.ignore.some(f=>f&&s===f))return}(u=r.handler)==null||u.call(r,a)}}),Ot(l,a=>{a?t.dataset.escapee="":delete t.dataset.escapee}))}return o(e),{update:o,destroy(){t.removeAttribute("data-escapee"),n()}}},cn=Math.min,Ct=Math.max,ki=Math.round,Jo=Math.floor,dn=t=>({x:t,y:t}),tp={left:"right",right:"left",bottom:"top",top:"bottom"},np={start:"end",end:"start"};function qr(t,e,n){return Ct(t,cn(e,n))}function so(t,e){return typeof t=="function"?t(e):t}function mn(t){return t.split("-")[0]}function ao(t){return t.split("-")[1]}function Gf(t){return t==="x"?"y":"x"}function dl(t){return t==="y"?"height":"width"}function Wo(t){return["top","bottom"].includes(mn(t))?"y":"x"}function ml(t){return Gf(Wo(t))}function op(t,e,n){n===void 0&&(n=!1);const o=ao(t),i=ml(t),r=dl(i);let l=i==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return e.reference[r]>e.floating[r]&&(l=Ci(l)),[l,Ci(l)]}function ip(t){const e=Ci(t);return[Fr(t),e,Fr(e)]}function Fr(t){return t.replace(/start|end/g,e=>np[e])}function rp(t,e,n){const o=["left","right"],i=["right","left"],r=["top","bottom"],l=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:o:e?o:i;case"left":case"right":return e?r:l;default:return[]}}function lp(t,e,n,o){const i=ao(t);let r=rp(mn(t),n==="start",o);return i&&(r=r.map(l=>l+"-"+i),e&&(r=r.concat(r.map(Fr)))),r}function Ci(t){return t.replace(/left|right|bottom|top/g,e=>tp[e])}function sp(t){return{top:0,right:0,bottom:0,left:0,...t}}function Vf(t){return typeof t!="number"?sp(t):{top:t,right:t,bottom:t,left:t}}function Ai(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function Jl(t,e,n){let{reference:o,floating:i}=t;const r=Wo(e),l=ml(e),a=dl(l),s=mn(e),u=r==="y",f=o.x+o.width/2-i.width/2,c=o.y+o.height/2-i.height/2,d=o[a]/2-i[a]/2;let m;switch(s){case"top":m={x:f,y:o.y-i.height};break;case"bottom":m={x:f,y:o.y+o.height};break;case"right":m={x:o.x+o.width,y:c};break;case"left":m={x:o.x-i.width,y:c};break;default:m={x:o.x,y:o.y}}switch(ao(e)){case"start":m[l]-=d*(n&&u?-1:1);break;case"end":m[l]+=d*(n&&u?-1:1);break}return m}const ap=async(t,e,n)=>{const{placement:o="bottom",strategy:i="absolute",middleware:r=[],platform:l}=n,a=r.filter(Boolean),s=await(l.isRTL==null?void 0:l.isRTL(e));let u=await l.getElementRects({reference:t,floating:e,strategy:i}),{x:f,y:c}=Jl(u,o,s),d=o,m={},p=0;for(let _=0;_<a.length;_++){const{name:g,fn:v}=a[_],{x:h,y:k,data:S,reset:I}=await v({x:f,y:c,initialPlacement:o,placement:d,strategy:i,middlewareData:m,rects:u,platform:l,elements:{reference:t,floating:e}});f=h??f,c=k??c,m={...m,[g]:{...m[g],...S}},I&&p<=50&&(p++,typeof I=="object"&&(I.placement&&(d=I.placement),I.rects&&(u=I.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:i}):I.rects),{x:f,y:c}=Jl(u,d,s)),_=-1)}return{x:f,y:c,placement:d,strategy:i,middlewareData:m}};async function pl(t,e){var n;e===void 0&&(e={});const{x:o,y:i,platform:r,rects:l,elements:a,strategy:s}=t,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:c="floating",altBoundary:d=!1,padding:m=0}=so(e,t),p=Vf(m),g=a[d?c==="floating"?"reference":"floating":c],v=Ai(await r.getClippingRect({element:(n=await(r.isElement==null?void 0:r.isElement(g)))==null||n?g:g.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(a.floating)),boundary:u,rootBoundary:f,strategy:s})),h=c==="floating"?{...l.floating,x:o,y:i}:l.reference,k=await(r.getOffsetParent==null?void 0:r.getOffsetParent(a.floating)),S=await(r.isElement==null?void 0:r.isElement(k))?await(r.getScale==null?void 0:r.getScale(k))||{x:1,y:1}:{x:1,y:1},I=Ai(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:h,offsetParent:k,strategy:s}):h);return{top:(v.top-I.top+p.top)/S.y,bottom:(I.bottom-v.bottom+p.bottom)/S.y,left:(v.left-I.left+p.left)/S.x,right:(I.right-v.right+p.right)/S.x}}const up=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:o,placement:i,rects:r,platform:l,elements:a,middlewareData:s}=e,{element:u,padding:f=0}=so(t,e)||{};if(u==null)return{};const c=Vf(f),d={x:n,y:o},m=ml(i),p=dl(m),_=await l.getDimensions(u),g=m==="y",v=g?"top":"left",h=g?"bottom":"right",k=g?"clientHeight":"clientWidth",S=r.reference[p]+r.reference[m]-d[m]-r.floating[p],I=d[m]-r.reference[m],O=await(l.getOffsetParent==null?void 0:l.getOffsetParent(u));let D=O?O[k]:0;(!D||!await(l.isElement==null?void 0:l.isElement(O)))&&(D=a.floating[k]||r.floating[p]);const j=S/2-I/2,q=D/2-_[p]/2-1,$=cn(c[v],q),E=cn(c[h],q),w=$,T=D-_[p]-E,B=D/2-_[p]/2+j,V=qr(w,B,T),L=!s.arrow&&ao(i)!=null&&B!==V&&r.reference[p]/2-(B<w?$:E)-_[p]/2<0,U=L?B<w?B-w:B-T:0;return{[m]:d[m]+U,data:{[m]:V,centerOffset:B-V-U,...L&&{alignmentOffset:U}},reset:L}}}),fp=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,o;const{placement:i,middlewareData:r,rects:l,initialPlacement:a,platform:s,elements:u}=e,{mainAxis:f=!0,crossAxis:c=!0,fallbackPlacements:d,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:_=!0,...g}=so(t,e);if((n=r.arrow)!=null&&n.alignmentOffset)return{};const v=mn(i),h=mn(a)===a,k=await(s.isRTL==null?void 0:s.isRTL(u.floating)),S=d||(h||!_?[Ci(a)]:ip(a));!d&&p!=="none"&&S.push(...lp(a,_,p,k));const I=[a,...S],O=await pl(e,g),D=[];let j=((o=r.flip)==null?void 0:o.overflows)||[];if(f&&D.push(O[v]),c){const w=op(i,l,k);D.push(O[w[0]],O[w[1]])}if(j=[...j,{placement:i,overflows:D}],!D.every(w=>w<=0)){var q,$;const w=(((q=r.flip)==null?void 0:q.index)||0)+1,T=I[w];if(T)return{data:{index:w,overflows:j},reset:{placement:T}};let B=($=j.filter(V=>V.overflows[0]<=0).sort((V,L)=>V.overflows[1]-L.overflows[1])[0])==null?void 0:$.placement;if(!B)switch(m){case"bestFit":{var E;const V=(E=j.map(L=>[L.placement,L.overflows.filter(U=>U>0).reduce((U,Q)=>U+Q,0)]).sort((L,U)=>L[1]-U[1])[0])==null?void 0:E[0];V&&(B=V);break}case"initialPlacement":B=a;break}if(i!==B)return{reset:{placement:B}}}return{}}}};async function cp(t,e){const{placement:n,platform:o,elements:i}=t,r=await(o.isRTL==null?void 0:o.isRTL(i.floating)),l=mn(n),a=ao(n),s=Wo(n)==="y",u=["left","top"].includes(l)?-1:1,f=r&&s?-1:1,c=so(e,t);let{mainAxis:d,crossAxis:m,alignmentAxis:p}=typeof c=="number"?{mainAxis:c,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...c};return a&&typeof p=="number"&&(m=a==="end"?p*-1:p),s?{x:m*f,y:d*u}:{x:d*u,y:m*f}}const dp=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,o;const{x:i,y:r,placement:l,middlewareData:a}=e,s=await cp(e,t);return l===((n=a.offset)==null?void 0:n.placement)&&(o=a.arrow)!=null&&o.alignmentOffset?{}:{x:i+s.x,y:r+s.y,data:{...s,placement:l}}}}},mp=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:o,placement:i}=e,{mainAxis:r=!0,crossAxis:l=!1,limiter:a={fn:g=>{let{x:v,y:h}=g;return{x:v,y:h}}},...s}=so(t,e),u={x:n,y:o},f=await pl(e,s),c=Wo(mn(i)),d=Gf(c);let m=u[d],p=u[c];if(r){const g=d==="y"?"top":"left",v=d==="y"?"bottom":"right",h=m+f[g],k=m-f[v];m=qr(h,m,k)}if(l){const g=c==="y"?"top":"left",v=c==="y"?"bottom":"right",h=p+f[g],k=p-f[v];p=qr(h,p,k)}const _=a.fn({...e,[d]:m,[c]:p});return{..._,data:{x:_.x-n,y:_.y-o}}}}},pp=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){const{placement:n,rects:o,platform:i,elements:r}=e,{apply:l=()=>{},...a}=so(t,e),s=await pl(e,a),u=mn(n),f=ao(n),c=Wo(n)==="y",{width:d,height:m}=o.floating;let p,_;u==="top"||u==="bottom"?(p=u,_=f===(await(i.isRTL==null?void 0:i.isRTL(r.floating))?"start":"end")?"left":"right"):(_=u,p=f==="end"?"top":"bottom");const g=m-s[p],v=d-s[_],h=!e.middlewareData.shift;let k=g,S=v;if(c){const O=d-s.left-s.right;S=f||h?cn(v,O):O}else{const O=m-s.top-s.bottom;k=f||h?cn(g,O):O}if(h&&!f){const O=Ct(s.left,0),D=Ct(s.right,0),j=Ct(s.top,0),q=Ct(s.bottom,0);c?S=d-2*(O!==0||D!==0?O+D:Ct(s.left,s.right)):k=m-2*(j!==0||q!==0?j+q:Ct(s.top,s.bottom))}await l({...e,availableWidth:S,availableHeight:k});const I=await i.getDimensions(r.floating);return d!==I.width||m!==I.height?{reset:{rects:!0}}:{}}}};function pn(t){return Wf(t)?(t.nodeName||"").toLowerCase():"#document"}function At(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function nn(t){var e;return(e=(Wf(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Wf(t){return t instanceof Node||t instanceof At(t).Node}function zt(t){return t instanceof Element||t instanceof At(t).Element}function Ht(t){return t instanceof HTMLElement||t instanceof At(t).HTMLElement}function Zl(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof At(t).ShadowRoot}function Yo(t){const{overflow:e,overflowX:n,overflowY:o,display:i}=Pt(t);return/auto|scroll|overlay|hidden|clip/.test(e+o+n)&&!["inline","contents"].includes(i)}function hp(t){return["table","td","th"].includes(pn(t))}function hl(t){const e=_l(),n=Pt(t);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(o=>(n.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(n.contain||"").includes(o))}function _p(t){let e=to(t);for(;Ht(e)&&!Ji(e);){if(hl(e))return e;e=to(e)}return null}function _l(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ji(t){return["html","body","#document"].includes(pn(t))}function Pt(t){return At(t).getComputedStyle(t)}function Zi(t){return zt(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function to(t){if(pn(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Zl(t)&&t.host||nn(t);return Zl(e)?e.host:e}function Yf(t){const e=to(t);return Ji(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ht(e)&&Yo(e)?e:Yf(e)}function Fo(t,e,n){var o;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=Yf(t),r=i===((o=t.ownerDocument)==null?void 0:o.body),l=At(i);return r?e.concat(l,l.visualViewport||[],Yo(i)?i:[],l.frameElement&&n?Fo(l.frameElement):[]):e.concat(i,Fo(i,[],n))}function xf(t){const e=Pt(t);let n=parseFloat(e.width)||0,o=parseFloat(e.height)||0;const i=Ht(t),r=i?t.offsetWidth:n,l=i?t.offsetHeight:o,a=ki(n)!==r||ki(o)!==l;return a&&(n=r,o=l),{width:n,height:o,$:a}}function gl(t){return zt(t)?t:t.contextElement}function Jn(t){const e=gl(t);if(!Ht(e))return dn(1);const n=e.getBoundingClientRect(),{width:o,height:i,$:r}=xf(e);let l=(r?ki(n.width):n.width)/o,a=(r?ki(n.height):n.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!a||!Number.isFinite(a))&&(a=1),{x:l,y:a}}const gp=dn(0);function Uf(t){const e=At(t);return!_l()||!e.visualViewport?gp:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function bp(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==At(t)?!1:e}function On(t,e,n,o){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),r=gl(t);let l=dn(1);e&&(o?zt(o)&&(l=Jn(o)):l=Jn(t));const a=bp(r,n,o)?Uf(r):dn(0);let s=(i.left+a.x)/l.x,u=(i.top+a.y)/l.y,f=i.width/l.x,c=i.height/l.y;if(r){const d=At(r),m=o&&zt(o)?At(o):o;let p=d,_=p.frameElement;for(;_&&o&&m!==p;){const g=Jn(_),v=_.getBoundingClientRect(),h=Pt(_),k=v.left+(_.clientLeft+parseFloat(h.paddingLeft))*g.x,S=v.top+(_.clientTop+parseFloat(h.paddingTop))*g.y;s*=g.x,u*=g.y,f*=g.x,c*=g.y,s+=k,u+=S,p=At(_),_=p.frameElement}}return Ai({width:f,height:c,x:s,y:u})}const vp=[":popover-open",":modal"];function Kf(t){return vp.some(e=>{try{return t.matches(e)}catch{return!1}})}function yp(t){let{elements:e,rect:n,offsetParent:o,strategy:i}=t;const r=i==="fixed",l=nn(o),a=e?Kf(e.floating):!1;if(o===l||a&&r)return n;let s={scrollLeft:0,scrollTop:0},u=dn(1);const f=dn(0),c=Ht(o);if((c||!c&&!r)&&((pn(o)!=="body"||Yo(l))&&(s=Zi(o)),Ht(o))){const d=On(o);u=Jn(o),f.x=d.x+o.clientLeft,f.y=d.y+o.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-s.scrollLeft*u.x+f.x,y:n.y*u.y-s.scrollTop*u.y+f.y}}function wp(t){return Array.from(t.getClientRects())}function Xf(t){return On(nn(t)).left+Zi(t).scrollLeft}function kp(t){const e=nn(t),n=Zi(t),o=t.ownerDocument.body,i=Ct(e.scrollWidth,e.clientWidth,o.scrollWidth,o.clientWidth),r=Ct(e.scrollHeight,e.clientHeight,o.scrollHeight,o.clientHeight);let l=-n.scrollLeft+Xf(t);const a=-n.scrollTop;return Pt(o).direction==="rtl"&&(l+=Ct(e.clientWidth,o.clientWidth)-i),{width:i,height:r,x:l,y:a}}function Cp(t,e){const n=At(t),o=nn(t),i=n.visualViewport;let r=o.clientWidth,l=o.clientHeight,a=0,s=0;if(i){r=i.width,l=i.height;const u=_l();(!u||u&&e==="fixed")&&(a=i.offsetLeft,s=i.offsetTop)}return{width:r,height:l,x:a,y:s}}function Ap(t,e){const n=On(t,!0,e==="fixed"),o=n.top+t.clientTop,i=n.left+t.clientLeft,r=Ht(t)?Jn(t):dn(1),l=t.clientWidth*r.x,a=t.clientHeight*r.y,s=i*r.x,u=o*r.y;return{width:l,height:a,x:s,y:u}}function Ql(t,e,n){let o;if(e==="viewport")o=Cp(t,n);else if(e==="document")o=kp(nn(t));else if(zt(e))o=Ap(e,n);else{const i=Uf(t);o={...e,x:e.x-i.x,y:e.y-i.y}}return Ai(o)}function Jf(t,e){const n=to(t);return n===e||!zt(n)||Ji(n)?!1:Pt(n).position==="fixed"||Jf(n,e)}function Tp(t,e){const n=e.get(t);if(n)return n;let o=Fo(t,[],!1).filter(a=>zt(a)&&pn(a)!=="body"),i=null;const r=Pt(t).position==="fixed";let l=r?to(t):t;for(;zt(l)&&!Ji(l);){const a=Pt(l),s=hl(l);!s&&a.position==="fixed"&&(i=null),(r?!s&&!i:!s&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Yo(l)&&!s&&Jf(t,l))?o=o.filter(f=>f!==l):i=a,l=to(l)}return e.set(t,o),o}function Sp(t){let{element:e,boundary:n,rootBoundary:o,strategy:i}=t;const l=[...n==="clippingAncestors"?Tp(e,this._c):[].concat(n),o],a=l[0],s=l.reduce((u,f)=>{const c=Ql(e,f,i);return u.top=Ct(c.top,u.top),u.right=cn(c.right,u.right),u.bottom=cn(c.bottom,u.bottom),u.left=Ct(c.left,u.left),u},Ql(e,a,i));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}}function Ip(t){const{width:e,height:n}=xf(t);return{width:e,height:n}}function Op(t,e,n){const o=Ht(e),i=nn(e),r=n==="fixed",l=On(t,!0,r,e);let a={scrollLeft:0,scrollTop:0};const s=dn(0);if(o||!o&&!r)if((pn(e)!=="body"||Yo(i))&&(a=Zi(e)),o){const c=On(e,!0,r,e);s.x=c.x+e.clientLeft,s.y=c.y+e.clientTop}else i&&(s.x=Xf(i));const u=l.left+a.scrollLeft-s.x,f=l.top+a.scrollTop-s.y;return{x:u,y:f,width:l.width,height:l.height}}function zl(t,e){return!Ht(t)||Pt(t).position==="fixed"?null:e?e(t):t.offsetParent}function Zf(t,e){const n=At(t);if(!Ht(t)||Kf(t))return n;let o=zl(t,e);for(;o&&hp(o)&&Pt(o).position==="static";)o=zl(o,e);return o&&(pn(o)==="html"||pn(o)==="body"&&Pt(o).position==="static"&&!hl(o))?n:o||_p(t)||n}const Mp=async function(t){const e=this.getOffsetParent||Zf,n=this.getDimensions;return{reference:Op(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,...await n(t.floating)}}};function Pp(t){return Pt(t).direction==="rtl"}const Np={convertOffsetParentRelativeRectToViewportRelativeRect:yp,getDocumentElement:nn,getClippingRect:Sp,getOffsetParent:Zf,getElementRects:Mp,getClientRects:wp,getDimensions:Ip,getScale:Jn,isElement:zt,isRTL:Pp};function Ep(t,e){let n=null,o;const i=nn(t);function r(){var a;clearTimeout(o),(a=n)==null||a.disconnect(),n=null}function l(a,s){a===void 0&&(a=!1),s===void 0&&(s=1),r();const{left:u,top:f,width:c,height:d}=t.getBoundingClientRect();if(a||e(),!c||!d)return;const m=Jo(f),p=Jo(i.clientWidth-(u+c)),_=Jo(i.clientHeight-(f+d)),g=Jo(u),h={rootMargin:-m+"px "+-p+"px "+-_+"px "+-g+"px",threshold:Ct(0,cn(1,s))||1};let k=!0;function S(I){const O=I[0].intersectionRatio;if(O!==s){if(!k)return l();O?l(!1,O):o=setTimeout(()=>{l(!1,1e-7)},100)}k=!1}try{n=new IntersectionObserver(S,{...h,root:i.ownerDocument})}catch{n=new IntersectionObserver(S,h)}n.observe(t)}return l(!0),r}function Rp(t,e,n,o){o===void 0&&(o={});const{ancestorScroll:i=!0,ancestorResize:r=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:s=!1}=o,u=gl(t),f=i||r?[...u?Fo(u):[],...Fo(e)]:[];f.forEach(v=>{i&&v.addEventListener("scroll",n,{passive:!0}),r&&v.addEventListener("resize",n)});const c=u&&a?Ep(u,n):null;let d=-1,m=null;l&&(m=new ResizeObserver(v=>{let[h]=v;h&&h.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var k;(k=m)==null||k.observe(e)})),n()}),u&&!s&&m.observe(u),m.observe(e));let p,_=s?On(t):null;s&&g();function g(){const v=On(t);_&&(v.x!==_.x||v.y!==_.y||v.width!==_.width||v.height!==_.height)&&n(),_=v,p=requestAnimationFrame(g)}return n(),()=>{var v;f.forEach(h=>{i&&h.removeEventListener("scroll",n),r&&h.removeEventListener("resize",n)}),c==null||c(),(v=m)==null||v.disconnect(),m=null,s&&cancelAnimationFrame(p)}}const Lp=mp,Dp=fp,$p=pp,qp=up,Fp=(t,e,n)=>{const o=new Map,i={platform:Np,...n},r={...i.platform,_c:o};return ap(t,e,{...i,platform:r})},Bp={strategy:"absolute",placement:"top",gutter:5,flip:!0,sameWidth:!1,overflowPadding:8},jp={bottom:"rotate(45deg)",left:"rotate(135deg)",top:"rotate(225deg)",right:"rotate(315deg)"};function Hp(t,e,n={}){if(!e||!t||n===null)return{destroy:nt};const o={...Bp,...n},i=e.querySelector("[data-arrow=true]"),r=[];o.flip&&r.push(Dp({boundary:o.boundary,padding:o.overflowPadding}));const l=wt(i)?i.offsetHeight/2:0;if(o.gutter||o.offset){const s=o.gutter?{mainAxis:o.gutter}:o.offset;(s==null?void 0:s.mainAxis)!=null&&(s.mainAxis+=l),r.push(dp(s))}r.push(Lp({boundary:o.boundary,crossAxis:o.overlap,padding:o.overflowPadding})),i&&r.push(qp({element:i,padding:8})),r.push($p({padding:o.overflowPadding,apply({rects:s,availableHeight:u,availableWidth:f}){o.sameWidth&&Object.assign(e.style,{width:`${Math.round(s.reference.width)}px`,minWidth:"unset"}),o.fitViewport&&Object.assign(e.style,{maxWidth:`${f}px`,maxHeight:`${u}px`})}}));function a(){if(!t||!e)return;const{placement:s,strategy:u}=o;Fp(t,e,{placement:s,middleware:r,strategy:u}).then(f=>{const c=Math.round(f.x),d=Math.round(f.y);if(Object.assign(e.style,{position:o.strategy,top:`${d}px`,left:`${c}px`}),wt(i)&&f.middlewareData.arrow){const{x:m,y:p}=f.middlewareData.arrow,_=f.placement.split("-")[0];Object.assign(i.style,{position:"absolute",left:m!=null?`${m}px`:"",top:p!=null?`${p}px`:"",[_]:`calc(100% - ${l}px)`,transform:jp[_],backgroundColor:"inherit",zIndex:"inherit"})}return f})}return Object.assign(e.style,{position:o.strategy}),{destroy:Rp(t,e,a)}}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Qf=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Ti=Qf.join(","),zf=typeof Element>"u",Mn=zf?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Si=!zf&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},Ii=function t(e,n){var o;n===void 0&&(n=!0);var i=e==null||(o=e.getAttribute)===null||o===void 0?void 0:o.call(e,"inert"),r=i===""||i==="true",l=r||n&&e&&t(e.parentNode);return l},Gp=function(e){var n,o=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"contenteditable");return o===""||o==="true"},ec=function(e,n,o){if(Ii(e))return[];var i=Array.prototype.slice.apply(e.querySelectorAll(Ti));return n&&Mn.call(e,Ti)&&i.unshift(e),i=i.filter(o),i},tc=function t(e,n,o){for(var i=[],r=Array.from(e);r.length;){var l=r.shift();if(!Ii(l,!1))if(l.tagName==="SLOT"){var a=l.assignedElements(),s=a.length?a:l.children,u=t(s,!0,o);o.flatten?i.push.apply(i,u):i.push({scopeParent:l,candidates:u})}else{var f=Mn.call(l,Ti);f&&o.filter(l)&&(n||!e.includes(l))&&i.push(l);var c=l.shadowRoot||typeof o.getShadowRoot=="function"&&o.getShadowRoot(l),d=!Ii(c,!1)&&(!o.shadowRootFilter||o.shadowRootFilter(l));if(c&&d){var m=t(c===!0?l.children:c.children,!0,o);o.flatten?i.push.apply(i,m):i.push({scopeParent:l,candidates:m})}else r.unshift.apply(r,l.children)}}return i},nc=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},vn=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||Gp(e))&&!nc(e)?0:e.tabIndex},Vp=function(e,n){var o=vn(e);return o<0&&n&&!nc(e)?0:o},Wp=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},oc=function(e){return e.tagName==="INPUT"},Yp=function(e){return oc(e)&&e.type==="hidden"},xp=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(o){return o.tagName==="SUMMARY"});return n},Up=function(e,n){for(var o=0;o<e.length;o++)if(e[o].checked&&e[o].form===n)return e[o]},Kp=function(e){if(!e.name)return!0;var n=e.form||Si(e),o=function(a){return n.querySelectorAll('input[type="radio"][name="'+a+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=o(window.CSS.escape(e.name));else try{i=o(e.name)}catch(l){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",l.message),!1}var r=Up(i,e.form);return!r||r===e},Xp=function(e){return oc(e)&&e.type==="radio"},Jp=function(e){return Xp(e)&&!Kp(e)},Zp=function(e){var n,o=e&&Si(e),i=(n=o)===null||n===void 0?void 0:n.host,r=!1;if(o&&o!==e){var l,a,s;for(r=!!((l=i)!==null&&l!==void 0&&(a=l.ownerDocument)!==null&&a!==void 0&&a.contains(i)||e!=null&&(s=e.ownerDocument)!==null&&s!==void 0&&s.contains(e));!r&&i;){var u,f,c;o=Si(i),i=(u=o)===null||u===void 0?void 0:u.host,r=!!((f=i)!==null&&f!==void 0&&(c=f.ownerDocument)!==null&&c!==void 0&&c.contains(i))}}return r},es=function(e){var n=e.getBoundingClientRect(),o=n.width,i=n.height;return o===0&&i===0},Qp=function(e,n){var o=n.displayCheck,i=n.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var r=Mn.call(e,"details>summary:first-of-type"),l=r?e.parentElement:e;if(Mn.call(l,"details:not([open]) *"))return!0;if(!o||o==="full"||o==="legacy-full"){if(typeof i=="function"){for(var a=e;e;){var s=e.parentElement,u=Si(e);if(s&&!s.shadowRoot&&i(s)===!0)return es(e);e.assignedSlot?e=e.assignedSlot:!s&&u!==e.ownerDocument?e=u.host:e=s}e=a}if(Zp(e))return!e.getClientRects().length;if(o!=="legacy-full")return!0}else if(o==="non-zero-area")return es(e);return!1},zp=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var o=0;o<n.children.length;o++){var i=n.children.item(o);if(i.tagName==="LEGEND")return Mn.call(n,"fieldset[disabled] *")?!0:!i.contains(e)}return!0}n=n.parentElement}return!1},Oi=function(e,n){return!(n.disabled||Ii(n)||Yp(n)||Qp(n,e)||xp(n)||zp(n))},Br=function(e,n){return!(Jp(n)||vn(n)<0||!Oi(e,n))},eh=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},th=function t(e){var n=[],o=[];return e.forEach(function(i,r){var l=!!i.scopeParent,a=l?i.scopeParent:i,s=Vp(a,l),u=l?t(i.candidates):a;s===0?l?n.push.apply(n,u):n.push(a):o.push({documentOrder:r,tabIndex:s,item:i,isScope:l,content:u})}),o.sort(Wp).reduce(function(i,r){return r.isScope?i.push.apply(i,r.content):i.push(r.content),i},[]).concat(n)},nh=function(e,n){n=n||{};var o;return n.getShadowRoot?o=tc([e],n.includeContainer,{filter:Br.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:eh}):o=ec(e,n.includeContainer,Br.bind(null,n)),th(o)},oh=function(e,n){n=n||{};var o;return n.getShadowRoot?o=tc([e],n.includeContainer,{filter:Oi.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):o=ec(e,n.includeContainer,Oi.bind(null,n)),o},Vn=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return Mn.call(e,Ti)===!1?!1:Br(n,e)},ih=Qf.concat("iframe").join(","),cr=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return Mn.call(e,ih)===!1?!1:Oi(n,e)};/*!
* focus-trap 7.5.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function ts(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,o)}return n}function ns(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ts(Object(n),!0).forEach(function(o){rh(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ts(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function rh(t,e,n){return e=sh(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lh(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sh(t){var e=lh(t,"string");return typeof e=="symbol"?e:String(e)}var os={activateTrap:function(e,n){if(e.length>0){var o=e[e.length-1];o!==n&&o.pause()}var i=e.indexOf(n);i===-1||e.splice(i,1),e.push(n)},deactivateTrap:function(e,n){var o=e.indexOf(n);o!==-1&&e.splice(o,1),e.length>0&&e[e.length-1].unpause()}},ah=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},uh=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},Do=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},fh=function(e){return Do(e)&&!e.shiftKey},ch=function(e){return Do(e)&&e.shiftKey},is=function(e){return setTimeout(e,0)},rs=function(e,n){var o=-1;return e.every(function(i,r){return n(i)?(o=r,!1):!0}),o},ko=function(e){for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return typeof e=="function"?e.apply(void 0,o):e},Zo=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},dh=[],mh=function(e,n){var o=(n==null?void 0:n.document)||document,i=(n==null?void 0:n.trapStack)||dh,r=ns({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:fh,isKeyBackward:ch},n),l={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},a,s=function(w,T,B){return w&&w[T]!==void 0?w[T]:r[B||T]},u=function(w,T){var B=typeof(T==null?void 0:T.composedPath)=="function"?T.composedPath():void 0;return l.containerGroups.findIndex(function(V){var L=V.container,U=V.tabbableNodes;return L.contains(w)||(B==null?void 0:B.includes(L))||U.find(function(Q){return Q===w})})},f=function(w){var T=r[w];if(typeof T=="function"){for(var B=arguments.length,V=new Array(B>1?B-1:0),L=1;L<B;L++)V[L-1]=arguments[L];T=T.apply(void 0,V)}if(T===!0&&(T=void 0),!T){if(T===void 0||T===!1)return T;throw new Error("`".concat(w,"` was specified but was not a node, or did not return a node"))}var U=T;if(typeof T=="string"&&(U=o.querySelector(T),!U))throw new Error("`".concat(w,"` as selector refers to no known node"));return U},c=function(){var w=f("initialFocus");if(w===!1)return!1;if(w===void 0||!cr(w,r.tabbableOptions))if(u(o.activeElement)>=0)w=o.activeElement;else{var T=l.tabbableGroups[0],B=T&&T.firstTabbableNode;w=B||f("fallbackFocus")}if(!w)throw new Error("Your focus-trap needs to have at least one focusable element");return w},d=function(){if(l.containerGroups=l.containers.map(function(w){var T=nh(w,r.tabbableOptions),B=oh(w,r.tabbableOptions),V=T.length>0?T[0]:void 0,L=T.length>0?T[T.length-1]:void 0,U=B.find(function(te){return Vn(te)}),Q=B.slice().reverse().find(function(te){return Vn(te)}),Z=!!T.find(function(te){return vn(te)>0});return{container:w,tabbableNodes:T,focusableNodes:B,posTabIndexesFound:Z,firstTabbableNode:V,lastTabbableNode:L,firstDomTabbableNode:U,lastDomTabbableNode:Q,nextTabbableNode:function(ee){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,Ae=T.indexOf(ee);return Ae<0?fe?B.slice(B.indexOf(ee)+1).find(function(Ie){return Vn(Ie)}):B.slice(0,B.indexOf(ee)).reverse().find(function(Ie){return Vn(Ie)}):T[Ae+(fe?1:-1)]}}}),l.tabbableGroups=l.containerGroups.filter(function(w){return w.tabbableNodes.length>0}),l.tabbableGroups.length<=0&&!f("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(l.containerGroups.find(function(w){return w.posTabIndexesFound})&&l.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},m=function E(w){var T=w.activeElement;if(T)return T.shadowRoot&&T.shadowRoot.activeElement!==null?E(T.shadowRoot):T},p=function E(w){if(w!==!1&&w!==m(document)){if(!w||!w.focus){E(c());return}w.focus({preventScroll:!!r.preventScroll}),l.mostRecentlyFocusedNode=w,ah(w)&&w.select()}},_=function(w){var T=f("setReturnFocus",w);return T||(T===!1?!1:w)},g=function(w){var T=w.target,B=w.event,V=w.isBackward,L=V===void 0?!1:V;T=T||Zo(B),d();var U=null;if(l.tabbableGroups.length>0){var Q=u(T,B),Z=Q>=0?l.containerGroups[Q]:void 0;if(Q<0)L?U=l.tabbableGroups[l.tabbableGroups.length-1].lastTabbableNode:U=l.tabbableGroups[0].firstTabbableNode;else if(L){var te=rs(l.tabbableGroups,function(b){var X=b.firstTabbableNode;return T===X});if(te<0&&(Z.container===T||cr(T,r.tabbableOptions)&&!Vn(T,r.tabbableOptions)&&!Z.nextTabbableNode(T,!1))&&(te=Q),te>=0){var ee=te===0?l.tabbableGroups.length-1:te-1,fe=l.tabbableGroups[ee];U=vn(T)>=0?fe.lastTabbableNode:fe.lastDomTabbableNode}else Do(B)||(U=Z.nextTabbableNode(T,!1))}else{var Ae=rs(l.tabbableGroups,function(b){var X=b.lastTabbableNode;return T===X});if(Ae<0&&(Z.container===T||cr(T,r.tabbableOptions)&&!Vn(T,r.tabbableOptions)&&!Z.nextTabbableNode(T))&&(Ae=Q),Ae>=0){var Ie=Ae===l.tabbableGroups.length-1?0:Ae+1,ne=l.tabbableGroups[Ie];U=vn(T)>=0?ne.firstTabbableNode:ne.firstDomTabbableNode}else Do(B)||(U=Z.nextTabbableNode(T))}}else U=f("fallbackFocus");return U},v=function(w){var T=Zo(w);if(!(u(T,w)>=0)){if(ko(r.clickOutsideDeactivates,w)){a.deactivate({returnFocus:r.returnFocusOnDeactivate});return}ko(r.allowOutsideClick,w)||w.preventDefault()}},h=function(w){var T=Zo(w),B=u(T,w)>=0;if(B||T instanceof Document)B&&(l.mostRecentlyFocusedNode=T);else{w.stopImmediatePropagation();var V,L=!0;if(l.mostRecentlyFocusedNode)if(vn(l.mostRecentlyFocusedNode)>0){var U=u(l.mostRecentlyFocusedNode),Q=l.containerGroups[U].tabbableNodes;if(Q.length>0){var Z=Q.findIndex(function(te){return te===l.mostRecentlyFocusedNode});Z>=0&&(r.isKeyForward(l.recentNavEvent)?Z+1<Q.length&&(V=Q[Z+1],L=!1):Z-1>=0&&(V=Q[Z-1],L=!1))}}else l.containerGroups.some(function(te){return te.tabbableNodes.some(function(ee){return vn(ee)>0})})||(L=!1);else L=!1;L&&(V=g({target:l.mostRecentlyFocusedNode,isBackward:r.isKeyBackward(l.recentNavEvent)})),p(V||l.mostRecentlyFocusedNode||c())}l.recentNavEvent=void 0},k=function(w){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;l.recentNavEvent=w;var B=g({event:w,isBackward:T});B&&(Do(w)&&w.preventDefault(),p(B))},S=function(w){if(uh(w)&&ko(r.escapeDeactivates,w)!==!1){w.preventDefault(),a.deactivate();return}(r.isKeyForward(w)||r.isKeyBackward(w))&&k(w,r.isKeyBackward(w))},I=function(w){var T=Zo(w);u(T,w)>=0||ko(r.clickOutsideDeactivates,w)||ko(r.allowOutsideClick,w)||(w.preventDefault(),w.stopImmediatePropagation())},O=function(){if(l.active)return os.activateTrap(i,a),l.delayInitialFocusTimer=r.delayInitialFocus?is(function(){p(c())}):p(c()),o.addEventListener("focusin",h,!0),o.addEventListener("mousedown",v,{capture:!0,passive:!1}),o.addEventListener("touchstart",v,{capture:!0,passive:!1}),o.addEventListener("click",I,{capture:!0,passive:!1}),o.addEventListener("keydown",S,{capture:!0,passive:!1}),a},D=function(){if(l.active)return o.removeEventListener("focusin",h,!0),o.removeEventListener("mousedown",v,!0),o.removeEventListener("touchstart",v,!0),o.removeEventListener("click",I,!0),o.removeEventListener("keydown",S,!0),a},j=function(w){var T=w.some(function(B){var V=Array.from(B.removedNodes);return V.some(function(L){return L===l.mostRecentlyFocusedNode})});T&&p(c())},q=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(j):void 0,$=function(){q&&(q.disconnect(),l.active&&!l.paused&&l.containers.map(function(w){q.observe(w,{subtree:!0,childList:!0})}))};return a={get active(){return l.active},get paused(){return l.paused},activate:function(w){if(l.active)return this;var T=s(w,"onActivate"),B=s(w,"onPostActivate"),V=s(w,"checkCanFocusTrap");V||d(),l.active=!0,l.paused=!1,l.nodeFocusedBeforeActivation=o.activeElement,T==null||T();var L=function(){V&&d(),O(),$(),B==null||B()};return V?(V(l.containers.concat()).then(L,L),this):(L(),this)},deactivate:function(w){if(!l.active)return this;var T=ns({onDeactivate:r.onDeactivate,onPostDeactivate:r.onPostDeactivate,checkCanReturnFocus:r.checkCanReturnFocus},w);clearTimeout(l.delayInitialFocusTimer),l.delayInitialFocusTimer=void 0,D(),l.active=!1,l.paused=!1,$(),os.deactivateTrap(i,a);var B=s(T,"onDeactivate"),V=s(T,"onPostDeactivate"),L=s(T,"checkCanReturnFocus"),U=s(T,"returnFocus","returnFocusOnDeactivate");B==null||B();var Q=function(){is(function(){U&&p(_(l.nodeFocusedBeforeActivation)),V==null||V()})};return U&&L?(L(_(l.nodeFocusedBeforeActivation)).then(Q,Q),this):(Q(),this)},pause:function(w){if(l.paused||!l.active)return this;var T=s(w,"onPause"),B=s(w,"onPostPause");return l.paused=!0,T==null||T(),D(),$(),B==null||B(),this},unpause:function(w){if(!l.paused||!l.active)return this;var T=s(w,"onUnpause"),B=s(w,"onPostUnpause");return l.paused=!1,T==null||T(),d(),O(),$(),B==null||B(),this},updateContainerElements:function(w){var T=[].concat(w).filter(Boolean);return l.containers=T.map(function(B){return typeof B=="string"?o.querySelector(B):B}),l.active&&d(),$(),this}},a.updateContainerElements(e),a};function ph(t={}){let e;const{immediate:n,...o}=t,i=Ye(!1),r=Ye(!1),l=c=>e==null?void 0:e.activate(c),a=c=>{e==null||e.deactivate(c)},s=()=>{e&&(e.pause(),r.set(!0))},u=()=>{e&&(e.unpause(),r.set(!1))};return{useFocusTrap:c=>(e=mh(c,{...o,onActivate(){var d;i.set(!0),(d=t.onActivate)==null||d.call(t)},onDeactivate(){var d;i.set(!1),(d=t.onDeactivate)==null||d.call(t)}}),n&&l(),{destroy(){a(),e=void 0}}),hasFocus:Rl(i),isPaused:Rl(r),activate:l,deactivate:a,pause:s,unpause:u}}const Qo=[];function hh(t,e){let n=nt;function o(){const r=Qo.indexOf(t);r>=0&&Qo.splice(r,1)}function i(r){n();const{open:l,onClose:a,shouldCloseOnInteractOutside:s,closeOnInteractOutside:u}=r;fl(100).then(()=>{l?Qo.push(t):o()});function f(){return Mm(Qo)===t}function c(){f()&&a&&(a(),o())}function d(p){const _=p.target;Ui(_)&&_&&f()&&(p.preventDefault(),p.stopPropagation(),p.stopImmediatePropagation())}function m(p){s!=null&&s(p)&&f()&&(p.preventDefault(),p.stopPropagation(),p.stopImmediatePropagation(),c())}n=_h(t,{onInteractOutsideStart:d,onInteractOutside:u?m:void 0,enabled:l}).destroy}return i(e),{update:i,destroy(){o(),n()}}}const ic=(t,e="body")=>{let n;if(!wt(e)&&typeof e!="string")return{destroy:nt};async function o(r){if(e=r,typeof e=="string"){if(n=document.querySelector(e),n===null&&(await il(),n=document.querySelector(e)),n===null)throw new Error(`No element found matching css selector: "${e}"`)}else if(e instanceof HTMLElement)n=e;else throw new TypeError(`Unknown portal target type: ${e===null?"null":typeof e}. Allowed types: string (CSS selector) or HTMLElement.`);t.dataset.portal="",n.appendChild(t),t.hidden=!1}function i(){t.remove()}return o(e),{update:o,destroy:i}};function _h(t,e){let n=nt,o=!1,i=!1,r=!1;function l(u){n();const{onInteractOutside:f,onInteractOutsideStart:c,enabled:d}=u;if(!d)return;function m(g){f&&ls(g,t)&&(c==null||c(g));const v=g.target;Ui(v)&&rc(t,v)&&(i=!0),o=!0}function p(g){f==null||f(g)}const _=gh(t);if(typeof PointerEvent<"u"){const g=v=>{a(v)&&p(v),s()};n=Ft(pt(_,"pointerdown",m,!0),pt(_,"pointerup",g,!0))}else{const g=h=>{r?r=!1:a(h)&&p(h),s()},v=h=>{r=!0,a(h)&&p(h),s()};n=Ft(pt(_,"mousedown",m,!0),pt(_,"mouseup",g,!0),pt(_,"touchstart",m,!0),pt(_,"touchend",v,!0))}}function a(u){return!!(o&&!i&&ls(u,t))}function s(){o=!1,i=!1}return l(e),{update:l,destroy:n}}function ls(t,e){if("button"in t&&t.button>0)return!1;const n=t.target;if(!Ui(n))return!1;const o=n.ownerDocument;return!o||!o.documentElement.contains(n)?!1:e&&!rc(e,n)}function rc(t,e){return t===e||t.contains(e)}function gh(t){return(t==null?void 0:t.ownerDocument)??document}Cn(!1),Cn(!1),Cn(void 0);function bh(){return{elements:{root:mt("label",{action:e=>({destroy:bt(e,"mousedown",o=>{!o.defaultPrevented&&o.detail>1&&o.preventDefault()})})})}}}const{name:gn}=xi("dialog"),vh={preventScroll:!0,closeOnEscape:!0,closeOnOutsideClick:!0,role:"dialog",defaultOpen:!1,portal:void 0,forceVisible:!1,openFocus:void 0,closeFocus:void 0,onOutsideClick:void 0},yh=["content","title","description"];function lc(t){const e={...vh,...t},n=In(Ki(e,"ids")),{preventScroll:o,closeOnEscape:i,closeOnOutsideClick:r,role:l,portal:a,forceVisible:s,openFocus:u,closeFocus:f,onOutsideClick:c}=n,d=Jt.writable(null),m=In({...cl(yh),...e.ids}),p=e.open??Ye(e.defaultOpen),_=Xi(p,e==null?void 0:e.onOpenChange),g=tn([_,s],([E,w])=>E||w);let v=nt;function h(E){const w=E.currentTarget,T=E.currentTarget;!wt(w)||!wt(T)||(_.set(!0),d.set(T))}function k(){_.set(!1),Kl({prop:f.get(),defaultEl:d.get()})}const S=mt(gn("trigger"),{stores:[_],returned:([E])=>({"aria-haspopup":"dialog","aria-expanded":E,type:"button"}),action:E=>({destroy:Ft(bt(E,"click",T=>{h(T)}),bt(E,"keydown",T=>{T.key!==at.ENTER&&T.key!==at.SPACE||(T.preventDefault(),h(T))}))})}),I=mt(gn("overlay"),{stores:[g,_],returned:([E,w])=>({hidden:E?void 0:!0,tabindex:-1,style:an({display:E?void 0:"none"}),"aria-hidden":!0,"data-state":w?"open":"closed"}),action:E=>{let w=nt;if(i.get()){const T=Xl(E,{handler:()=>{k()}});T&&T.destroy&&(w=T.destroy)}return{destroy(){w()}}}}),O=mt(gn("content"),{stores:[g,m.content,m.description,m.title,_],returned:([E,w,T,B,V])=>({id:w,role:l.get(),"aria-describedby":T,"aria-labelledby":B,"aria-modal":E?"true":void 0,"data-state":V?"open":"closed",tabindex:-1,hidden:E?void 0:!0,style:an({display:E?void 0:"none"})}),action:E=>{let w=nt,T=nt;const B=Ft(Ot([_],([V])=>{if(!V)return;const L=ph({immediate:!1,escapeDeactivates:!0,clickOutsideDeactivates:!0,returnFocusOnDeactivate:!1,fallbackFocus:E});w=L.activate,T=L.deactivate;const U=L.useFocusTrap(E);return U&&U.destroy?U.destroy:L.deactivate}),Ot([r,_],([V,L])=>hh(E,{open:L,closeOnInteractOutside:V,onClose(){k()},shouldCloseOnInteractOutside(U){var Q;return(Q=c.get())==null||Q(U),!U.defaultPrevented}}).destroy),Ot([i],([V])=>{if(!V)return nt;const L=Xl(E,{handler:()=>{k()}});return L&&L.destroy?L.destroy:nt}),Ot([g],([V])=>{il().then(()=>{V?w():T()})}));return{destroy:()=>{v(),B()}}}}),D=mt(gn("portalled"),{stores:a,returned:E=>({"data-portal":qf(E)}),action:E=>{const w=Ot([a],([T])=>{if(T===null)return nt;const B=Hf(E,T);if(B===null)return nt;const V=ic(E,B);return V&&V.destroy?V.destroy:nt});return{destroy(){w()}}}}),j=mt(gn("title"),{stores:[m.title],returned:([E])=>({id:E})}),q=mt(gn("description"),{stores:[m.description],returned:([E])=>({id:E})}),$=mt(gn("close"),{returned:()=>({type:"button"}),action:E=>({destroy:Ft(bt(E,"click",()=>{k()}),bt(E,"keydown",T=>{T.key!==at.SPACE&&T.key!==at.ENTER||(T.preventDefault(),k())}))})});return Ot([_,o],([E,w])=>{if(qo){if(w&&E&&(v=Zm()),E){const T=document.getElementById(m.content.get());Kl({prop:u.get(),defaultEl:T})}return()=>{s.get()||v()}}}),{ids:m,elements:{content:O,trigger:S,title:j,description:q,overlay:I,close:$,portalled:D},states:{open:_},options:n}}const wh={defaultValue:0,max:100},{name:kh}=xi("progress"),Ch=t=>{const e={...wh,...t},n=In(Ki(e,"value")),{max:o}=n,i=e.value??Ye(e.defaultValue),r=Xi(i,e==null?void 0:e.onValueChange);return{elements:{root:mt(kh(),{stores:[r,o],returned:([a,s])=>({value:a,max:s,role:"meter","aria-valuemin":0,"aria-valuemax":s,"aria-valuenow":a,"data-value":a,"data-state":a===null?"indeterminate":a===s?"complete":"loading","data-max":s})})},states:{value:r},options:n}},Ah={orientation:"horizontal",decorative:!1},Th=t=>{const e={...Ah,...t},n=In(e),{orientation:o,decorative:i}=n;return{elements:{root:mt("separator",{stores:[o,i],returned:([l,a])=>({role:a?"none":"separator","aria-orientation":l==="vertical"?l:void 0,"aria-hidden":a,"data-orientation":l})})},options:n}},Sh={defaultValue:[],min:0,max:100,step:1,orientation:"horizontal",dir:"ltr",disabled:!1},{name:zo}=xi("slider"),Ih=t=>{const e={...Sh,...t},n=In(Ki(e,"value","onValueChange","defaultValue")),{min:o,max:i,step:r,orientation:l,dir:a,disabled:s}=n,u=e.value??Ye(e.defaultValue),f=Xi(u,e==null?void 0:e.onValueChange),c=Jt(Ye(!1)),d=Jt(Ye(0)),m=Jt(Ye(null)),p=cl(["root"]),_=(D,j)=>{f.update(q=>{if(!q)return[D];if(q[j]===D)return q;const $=[...q],E=$[j]>D?-1:1;function w(){$[j]=$[j+E],$[j+E]=D;const L=g();L&&(L[j+E].focus(),m.set({thumb:L[j+E],index:j+E}))}if(E===-1&&D<$[j-1])return w(),$;if(E===1&&D>$[j+1])return w(),$;const T=o.get(),B=i.get(),V=r.get();return $[j]=fr(D,T,B,V),$})},g=()=>{const D=ar(p.root);return D?Array.from(D.querySelectorAll('[data-melt-part="thumb"]')).filter(j=>wt(j)):null},v=tn([o,i],([D,j])=>q=>(q-D)/(j-D)*100),h=Jt.derived([l,a],([D,j])=>D==="horizontal"?j==="rtl"?"rl":"lr":j==="rtl"?"tb":"bt"),k=mt(zo(),{stores:[s,l,a],returned:([D,j,q])=>({dir:q,disabled:sr(D),"data-disabled":sr(D),"data-orientation":j,style:D?void 0:`touch-action: ${j==="horizontal"?"pan-y":"pan-x"}`,"data-melt-id":p.root})}),S=mt(zo("range"),{stores:[f,h,v],returned:([D,j,q])=>{const $=D.length>1?q(Math.min(...D)??0):0,E=100-q(Math.max(...D)??0),w={position:"absolute"};switch(j){case"lr":{w.left=`${$}%`,w.right=`${E}%`;break}case"rl":{w.right=`${$}%`,w.left=`${E}%`;break}case"bt":{w.bottom=`${$}%`,w.top=`${E}%`;break}case"tb":{w.top=`${$}%`,w.bottom=`${E}%`;break}}return{style:an(w)}}}),I=Yl(zo("thumb"),{stores:[f,v,o,i,s,l,h],returned:([D,j,q,$,E,w,T])=>Array.from({length:D.length||1},(V,L)=>{d.get()<D.length&&d.update(ee=>ee+1);const Q=D[L],Z=`${j(Q)}%`,te={position:"absolute"};switch(T){case"lr":{te.left=Z,te.translate="-50% 0";break}case"rl":{te.right=Z,te.translate="50% 0";break}case"bt":{te.bottom=Z,te.translate="0 50%";break}case"tb":{te.top=Z,te.translate="0 -50%";break}}return{role:"slider","aria-valuemin":q,"aria-valuemax":$,"aria-valuenow":Q,"aria-disabled":sr(E),"aria-orientation":w,"data-melt-part":"thumb","data-value":Q,style:an(te),tabindex:E?-1:0}}),action:D=>({destroy:bt(D,"keydown",q=>{if(s.get())return;const $=q.currentTarget;if(!wt($))return;const E=g();if(!(E!=null&&E.length))return;const w=E.indexOf($);if(d.set(w),![at.ARROW_LEFT,at.ARROW_RIGHT,at.ARROW_UP,at.ARROW_DOWN,at.HOME,at.END].includes(q.key))return;q.preventDefault();const T=o.get(),B=i.get(),V=r.get(),L=f.get(),U=l.get(),Q=h.get(),Z=L[w];switch(q.key){case at.HOME:{_(T,w);break}case at.END:{_(B,w);break}case at.ARROW_LEFT:{if(U!=="horizontal")break;q.metaKey?_(Q==="rl"?B:T,w):Q==="rl"&&Z<B?_(Z+V,w):Q==="lr"&&Z>T&&_(Z-V,w);break}case at.ARROW_RIGHT:{if(U!=="horizontal")break;q.metaKey?_(Q==="rl"?T:B,w):Q==="rl"&&Z>T?_(Z-V,w):Q==="lr"&&Z<B&&_(Z+V,w);break}case at.ARROW_UP:{q.metaKey?_(Q==="tb"?T:B,w):Q==="tb"&&Z>T?_(Z-V,w):Q!=="tb"&&Z<B&&_(Z+V,w);break}case at.ARROW_DOWN:{q.metaKey?_(Q==="tb"?B:T,w):Q==="tb"&&Z<B?_(Z+V,w):Q!=="tb"&&Z>T&&_(Z-V,w);break}}})})}),O=Yl(zo("tick"),{stores:[f,o,i,r,h],returned:([D,j,q,$,E])=>{const w=q-j;let T=Math.ceil(w/$);return w%$==0&&T++,Array.from({length:T},(B,V)=>{const L=`${V*($/(q-j))*100}%`,U=V===0,Q=V===T-1,Z=U?0:Q?-100:-50,te={position:"absolute"};switch(E){case"lr":{te.left=L,te.translate=`${Z}% 0`;break}case"rl":{te.right=L,te.translate=`${-Z}% 0`;break}case"bt":{te.bottom=L,te.translate=`0 ${-Z}%`;break}case"tb":{te.top=L,te.translate=`0 ${Z}%`;break}}const ee=j+V*$;return{"data-bounded":(D.length===1?ee<=D[0]:D[0]<=ee&&ee<=D[D.length-1])?!0:void 0,"data-value":ee,style:an(te)}})}});return Ot([k,o,i,s,l,h,r],([D,j,q,$,E,w,T])=>{if(!qo||$)return;const B=(te,ee,fe,Ae)=>{const ne=(te-fe)/(Ae-fe)*(q-j)+j;if(ne<j)_(j,ee);else if(ne>q)_(q,ee);else{const b=T,X=j,K=Math.floor((ne-X)/b),re=X+K*b+b/2,ye=X+(K+1)*b+b/2,Oe=ne>=re&&ne<ye?(K+1)*b+X:K*b+X;Oe<=q&&_(Oe,ee)}},V=te=>{const ee=g();if(!ee)return;ee.forEach(ne=>ne.blur());const fe=ee.map(ne=>{if(E==="horizontal"){const{left:b,right:X}=ne.getBoundingClientRect();return Math.abs(te.clientX-(b+X)/2)}else{const{top:b,bottom:X}=ne.getBoundingClientRect();return Math.abs(te.clientY-(b+X)/2)}}),Ae=ee[fe.indexOf(Math.min(...fe))],Ie=ee.indexOf(Ae);return{thumb:Ae,index:Ie}},L=te=>{if(!c.get())return;te.preventDefault(),te.stopPropagation();const ee=ar(D["data-melt-id"]),fe=m.get();if(!ee||!fe)return;fe.thumb.focus();const{left:Ae,right:Ie,top:ne,bottom:b}=ee.getBoundingClientRect();switch(w){case"lr":{B(te.clientX,fe.index,Ae,Ie);break}case"rl":{B(te.clientX,fe.index,Ie,Ae);break}case"bt":{B(te.clientY,fe.index,b,ne);break}case"tb":{B(te.clientY,fe.index,ne,b);break}}},U=te=>{if(te.button!==0)return;const ee=ar(D["data-melt-id"]),fe=V(te);if(!fe||!ee)return;const Ae=te.target;!wt(Ae)||!ee.contains(Ae)||(te.preventDefault(),m.set(fe),fe.thumb.focus(),c.set(!0),L(te))},Q=()=>{c.set(!1)},Z=Ft(pt(document,"pointerdown",U),pt(document,"pointerup",Q),pt(document,"pointerleave",Q),pt(document,"pointermove",L));return()=>{Z()}}),Ot([r,o,i,f],function([j,q,$,E]){const w=B=>fr(B,q,$,j)===B,T=B=>fr(B,q,$,j);E.some(B=>!w(B))&&f.update(B=>B.map(T))}),{elements:{root:k,thumbs:I,range:S,ticks:O},states:{value:f},options:n}},Oh={positioning:{placement:"bottom"},arrowSize:8,defaultOpen:!1,closeOnPointerDown:!0,openDelay:1e3,closeDelay:0,forceVisible:!1,portal:void 0,closeOnEscape:!0,disableHoverableContent:!1,group:void 0},{name:dr}=xi("tooltip"),ei=new Map,Mh=["trigger","content"];function Ph(t){const e={...Oh,...t},n=In(Ki(e,"open","ids")),{positioning:o,arrowSize:i,closeOnPointerDown:r,openDelay:l,closeDelay:a,forceVisible:s,portal:u,closeOnEscape:f,disableHoverableContent:c,group:d}=n,m=e.open??Ye(e.defaultOpen),p=Xi(m,e==null?void 0:e.onOpenChange),_=Ye(null),g=In({...cl(Mh),...e.ids});let v=!1;const h=w=>qo?document.getElementById(g[w].get()):null;let k=null,S=null;function I(w){S&&(window.clearTimeout(S),S=null),k||(k=window.setTimeout(()=>{p.set(!0),_.update(T=>T??w),k=null},l.get()))}function O(w){if(k&&(window.clearTimeout(k),k=null),w&&E){_.set("pointer");return}S||(S=window.setTimeout(()=>{p.set(!1),_.set(null),w&&(v=!1),S=null},a.get()))}const D=tn([p,s],([w,T])=>w||T),j=mt(dr("trigger"),{stores:[g.content,g.trigger,p],returned:([w,T,B])=>({"aria-describedby":w,id:T,"data-state":B?"open":"closed"}),action:w=>{const T=V=>{f.get()&&V.key===at.ESCAPE&&(k&&(window.clearTimeout(k),k=null),p.set(!1))};return{destroy:Ft(bt(w,"pointerdown",()=>{r.get()&&(p.set(!1),v=!0,k&&(window.clearTimeout(k),k=null))}),bt(w,"pointerenter",V=>{xl(V)||I("pointer")}),bt(w,"pointerleave",V=>{xl(V)||k&&(window.clearTimeout(k),k=null)}),bt(w,"focus",()=>{v||I("focus")}),bt(w,"blur",async()=>{await fl(0),O(!0)}),bt(w,"keydown",T),pt(document,"keydown",T))}}}),q=mt(dr("content"),{stores:[D,p,u,g.content],returned:([w,T,B,V])=>({role:"tooltip",hidden:w?void 0:!0,tabindex:-1,style:an({display:w?void 0:"none"}),id:V,"data-portal":qf(B),"data-state":T?"open":"closed"}),action:w=>{let T=nt,B=nt;const V=Ot([D,o,u],([Q,Z,te])=>{const ee=h("trigger");if(!Q||!ee){B(),T();return}if(T=Hp(ee,w,Z).destroy,te===null){B();return}const Ae=Hf(w,te);if(Ae){const Ie=ic(w,Ae);Ie&&Ie.destroy&&(B=Ie.destroy)}});function L(Q){if(!p.get())return;const Z=Q.target;if(!Ui(Z)&&!Pm(Z))return;const te=h("trigger");te&&Z.contains(te)&&O()}const U=Ft(bt(w,"pointerenter",()=>I("pointer")),bt(w,"pointerdown",()=>I("pointer")),pt(window,"scroll",L,{capture:!0}));return{destroy(){U(),B(),T(),V()}}}}),$=mt(dr("arrow"),{stores:i,returned:w=>({"data-arrow":!0,style:an({position:"absolute",width:`var(--arrow-size, ${w}px)`,height:`var(--arrow-size, ${w}px)`})})});let E=!1;return Ot(p,w=>{const T=d.get();if(T===void 0||T===!1)return;if(!w){ei.get(T)===p&&ei.delete(T);return}const B=ei.get(T);B==null||B.set(!1),ei.set(T,p)}),Ot([p,_],([w,T])=>{if(!(!w||!qo))return Ft(pt(document,"mousemove",B=>{const V=h("content"),L=h("trigger");if(!V||!L)return;const U=c.get()?[L]:[L,V],Q=Um(U);E=Km({x:B.clientX,y:B.clientY},Q),T==="pointer"&&(E||O())}))}),{ids:g,elements:{trigger:j,content:q,arrow:$},states:{open:p},options:n}}function Ln(t,e){const n={};return e.forEach(o=>{n[o]={[`data-${t}-${o}`]:""}}),o=>n[o]}function Dn(){const t=yd();return e=>{const{originalEvent:n}=e.detail,{cancelable:o}=e,i=n.type;t(i,{originalEvent:n,currentTarget:n.currentTarget},{cancelable:o})||e.preventDefault()}}function uo(t){const e={};for(const n in t){const o=t[n];o!==void 0&&(e[n]=o)}return e}function Pn(t){return function(e,n){if(n===void 0)return;const o=t[e];o&&o.set(n)}}function sc(){return{NAME:"alert-dialog",PARTS:["action","cancel","content","description","overlay","portal","title","trigger"]}}function Nh(t){const{NAME:e,PARTS:n}=sc(),o=Ln(e,n),i=lc({...uo(t),role:"alertdialog",forceVisible:!0}),r={...i,getAttrs:o,updateOption:Pn(i.options)};return Vi(e,r),{...r,updateOption:Pn(r.options),getAttrs:o}}function $n(){const{NAME:t}=sc();return Wi(t)}const Eh=t=>({ids:t&1}),ss=t=>({ids:t[0]});function Rh(t){let e;const n=t[12].default,o=pe(n,t,t[11],ss);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,[r]){o&&o.p&&(!e||r&2049)&&_e(o,n,i,i[11],e?he(n,i[11],r,Eh):ge(i[11]),ss)},i(i){e||(C(o,i),e=!0)},o(i){A(o,i),e=!1},d(i){o&&o.d(i)}}}function Lh(t,e,n){let o,{$$slots:i={},$$scope:r}=e,{preventScroll:l=void 0}=e,{closeOnEscape:a=void 0}=e,{closeOnOutsideClick:s=!1}=e,{portal:u=void 0}=e,{open:f=void 0}=e,{onOpenChange:c=void 0}=e,{openFocus:d=void 0}=e,{closeFocus:m=void 0}=e,{onOutsideClick:p=void 0}=e;const{states:{open:_},updateOption:g,ids:v}=Nh({closeOnEscape:a,preventScroll:l,closeOnOutsideClick:s,portal:u,forceVisible:!0,defaultOpen:f,openFocus:d,closeFocus:m,onOutsideClick:p,onOpenChange:({next:k})=>(f!==k&&(c==null||c(k),n(2,f=k)),k)}),h=tn([v.content,v.description,v.title],([k,S,I])=>({content:k,description:S,title:I}));return se(t,h,k=>n(0,o=k)),t.$$set=k=>{"preventScroll"in k&&n(3,l=k.preventScroll),"closeOnEscape"in k&&n(4,a=k.closeOnEscape),"closeOnOutsideClick"in k&&n(5,s=k.closeOnOutsideClick),"portal"in k&&n(6,u=k.portal),"open"in k&&n(2,f=k.open),"onOpenChange"in k&&n(7,c=k.onOpenChange),"openFocus"in k&&n(8,d=k.openFocus),"closeFocus"in k&&n(9,m=k.closeFocus),"onOutsideClick"in k&&n(10,p=k.onOutsideClick),"$$scope"in k&&n(11,r=k.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&f!==void 0&&_.set(f),t.$$.dirty&8&&g("preventScroll",l),t.$$.dirty&16&&g("closeOnEscape",a),t.$$.dirty&32&&g("closeOnOutsideClick",s),t.$$.dirty&64&&g("portal",u),t.$$.dirty&256&&g("openFocus",d),t.$$.dirty&512&&g("closeFocus",m),t.$$.dirty&1024&&g("onOutsideClick",p)},[o,h,f,l,a,s,u,c,d,m,p,r,i]}class Dh extends me{constructor(e){super(),de(this,e,Lh,Rh,ce,{preventScroll:3,closeOnEscape:4,closeOnOutsideClick:5,portal:6,open:2,onOpenChange:7,openFocus:8,closeFocus:9,onOutsideClick:10})}}const $h=t=>({builder:t&8}),as=t=>({builder:t[3]}),qh=t=>({builder:t&8}),us=t=>({builder:t[3]});function Fh(t){let e=t[1],n,o,i=t[1]&&mr(t);return{c(){i&&i.c(),n=Re()},m(r,l){i&&i.m(r,l),N(r,n,l),o=!0},p(r,l){r[1]?e?ce(e,r[1])?(i.d(1),i=mr(r),e=r[1],i.c(),i.m(n.parentNode,n)):i.p(r,l):(i=mr(r),e=r[1],i.c(),i.m(n.parentNode,n)):e&&(i.d(1),i=null,e=r[1])},i(r){o||(C(i,r),o=!0)},o(r){A(i,r),o=!1},d(r){r&&M(n),i&&i.d(r)}}}function Bh(t){let e;const n=t[9].default,o=pe(n,t,t[8],us);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&264)&&_e(o,n,i,i[8],e?he(n,i[8],r,qh):ge(i[8]),us)},i(i){e||(C(o,i),e=!0)},o(i){A(o,i),e=!1},d(i){o&&o.d(i)}}}function mr(t){let e,n,o,i;const r=t[9].default,l=pe(r,t,t[8],as);let a=[t[3],t[5]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=P(t[1]),l&&l.c(),un(t[1])(e,s)},m(u,f){N(u,e,f),l&&l.m(e,null),t[10](e),n=!0,o||(i=Fe(t[3].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&264)&&_e(l,r,u,u[8],n?he(r,u[8],f,$h):ge(u[8]),as),un(u[1])(e,s=ve(a,[f&8&&u[3],f&32&&u[5]]))},i(u){n||(C(l,u),n=!0)},o(u){A(l,u),n=!1},d(u){u&&M(e),l&&l.d(u),t[10](null),o=!1,i()}}}function jh(t){let e,n,o,i;const r=[Bh,Fh],l=[];function a(s,u){return s[2]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),N(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Te(),A(l[f],1,1,()=>{l[f]=null}),Se(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){A(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function Hh(t,e,n){let o;const i=["level","asChild","id","el"];let r=le(e,i),l,{$$slots:a={},$$scope:s}=e,{level:u="h2"}=e,{asChild:f=!1}=e,{id:c=void 0}=e,{el:d=void 0}=e;const{elements:{title:m},ids:p,getAttrs:_}=$n();se(t,m,h=>n(7,l=h));const g=_("title");function v(h){Ee[h?"unshift":"push"](()=>{d=h,n(0,d)})}return t.$$set=h=>{e=J(J({},e),Le(h)),n(5,r=le(e,i)),"level"in h&&n(1,u=h.level),"asChild"in h&&n(2,f=h.asChild),"id"in h&&n(6,c=h.id),"el"in h&&n(0,d=h.el),"$$scope"in h&&n(8,s=h.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&c&&p.title.set(c),t.$$.dirty&128&&n(3,o=l),t.$$.dirty&8&&Object.assign(o,g)},[d,u,f,o,m,r,c,l,s,a,v]}let Gh=class extends me{constructor(e){super(),de(this,e,Hh,jh,ce,{level:1,asChild:2,id:6,el:0})}};const Vh=t=>({builder:t&4}),fs=t=>({builder:t[2]}),Wh=t=>({builder:t&4}),cs=t=>({builder:t[2]});function Yh(t){let e,n,o,i;const r=t[8].default,l=pe(r,t,t[7],fs);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=P("button"),l&&l.c(),ae(e,s)},m(u,f){N(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[9](e),n=!0,o||(i=[Fe(t[2].action(e)),z(e,"m-click",t[4]),z(e,"m-keydown",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&_e(l,r,u,u[7],n?he(r,u[7],f,Vh):ge(u[7]),fs),ae(e,s=ve(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(C(l,u),n=!0)},o(u){A(l,u),n=!1},d(u){u&&M(e),l&&l.d(u),t[9](null),o=!1,je(i)}}}function xh(t){let e;const n=t[8].default,o=pe(n,t,t[7],cs);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&_e(o,n,i,i[7],e?he(n,i[7],r,Wh):ge(i[7]),cs)},i(i){e||(C(o,i),e=!0)},o(i){A(o,i),e=!1},d(i){o&&o.d(i)}}}function Uh(t){let e,n,o,i;const r=[xh,Yh],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),N(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Te(),A(l[f],1,1,()=>{l[f]=null}),Se(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){A(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function Kh(t,e,n){let o;const i=["asChild","el"];let r=le(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:d}=$n();se(t,c,g=>n(6,l=g));const m=Dn(),p=d("action");function _(g){Ee[g?"unshift":"push"](()=>{f=g,n(0,f)})}return t.$$set=g=>{e=J(J({},e),Le(g)),n(5,r=le(e,i)),"asChild"in g&&n(1,u=g.asChild),"el"in g&&n(0,f=g.el),"$$scope"in g&&n(7,s=g.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,p)},[f,u,o,c,m,r,l,s,a,_]}let Xh=class extends me{constructor(e){super(),de(this,e,Kh,Uh,ce,{asChild:1,el:0})}};const Jh=t=>({builder:t&4}),ds=t=>({builder:t[2]}),Zh=t=>({builder:t&4}),ms=t=>({builder:t[2]});function Qh(t){let e,n,o,i;const r=t[8].default,l=pe(r,t,t[7],ds);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=P("button"),l&&l.c(),ae(e,s)},m(u,f){N(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[9](e),n=!0,o||(i=[Fe(t[2].action(e)),z(e,"m-click",t[4]),z(e,"m-keydown",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&_e(l,r,u,u[7],n?he(r,u[7],f,Jh):ge(u[7]),ds),ae(e,s=ve(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(C(l,u),n=!0)},o(u){A(l,u),n=!1},d(u){u&&M(e),l&&l.d(u),t[9](null),o=!1,je(i)}}}function zh(t){let e;const n=t[8].default,o=pe(n,t,t[7],ms);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&_e(o,n,i,i[7],e?he(n,i[7],r,Zh):ge(i[7]),ms)},i(i){e||(C(o,i),e=!0)},o(i){A(o,i),e=!1},d(i){o&&o.d(i)}}}function e_(t){let e,n,o,i;const r=[zh,Qh],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),N(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Te(),A(l[f],1,1,()=>{l[f]=null}),Se(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){A(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function t_(t,e,n){let o;const i=["asChild","el"];let r=le(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:d}=$n();se(t,c,g=>n(6,l=g));const m=Dn(),p=d("cancel");function _(g){Ee[g?"unshift":"push"](()=>{f=g,n(0,f)})}return t.$$set=g=>{e=J(J({},e),Le(g)),n(5,r=le(e,i)),"asChild"in g&&n(1,u=g.asChild),"el"in g&&n(0,f=g.el),"$$scope"in g&&n(7,s=g.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,p)},[f,u,o,c,m,r,l,s,a,_]}let n_=class extends me{constructor(e){super(),de(this,e,t_,e_,ce,{asChild:1,el:0})}};const o_=t=>({builder:t&4}),ps=t=>({builder:t[2]}),i_=t=>({builder:t&4}),hs=t=>({builder:t[2]});function r_(t){let e,n,o,i;const r=t[7].default,l=pe(r,t,t[6],ps);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=P("div"),l&&l.c(),ae(e,s)},m(u,f){N(u,e,f),l&&l.m(e,null),t[8](e),n=!0,o||(i=Fe(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&68)&&_e(l,r,u,u[6],n?he(r,u[6],f,o_):ge(u[6]),ps),ae(e,s=ve(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(C(l,u),n=!0)},o(u){A(l,u),n=!1},d(u){u&&M(e),l&&l.d(u),t[8](null),o=!1,i()}}}function l_(t){let e;const n=t[7].default,o=pe(n,t,t[6],hs);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&68)&&_e(o,n,i,i[6],e?he(n,i[6],r,i_):ge(i[6]),hs)},i(i){e||(C(o,i),e=!0)},o(i){A(o,i),e=!1},d(i){o&&o.d(i)}}}function s_(t){let e,n,o,i;const r=[l_,r_],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),N(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Te(),A(l[f],1,1,()=>{l[f]=null}),Se(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){A(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function a_(t,e,n){let o;const i=["asChild","el"];let r=le(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{portalled:c},getAttrs:d}=$n();se(t,c,_=>n(5,l=_));const m=d("portal");function p(_){Ee[_?"unshift":"push"](()=>{f=_,n(0,f)})}return t.$$set=_=>{e=J(J({},e),Le(_)),n(4,r=le(e,i)),"asChild"in _&&n(1,u=_.asChild),"el"in _&&n(0,f=_.el),"$$scope"in _&&n(6,s=_.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,m)},[f,u,o,c,r,l,s,a,p]}let u_=class extends me{constructor(e){super(),de(this,e,a_,s_,ce,{asChild:1,el:0})}};const f_=t=>({builder:t[0]&256}),_s=t=>({builder:t[8]}),c_=t=>({builder:t[0]&256}),gs=t=>({builder:t[8]}),d_=t=>({builder:t[0]&256}),bs=t=>({builder:t[8]}),m_=t=>({builder:t[0]&256}),vs=t=>({builder:t[8]}),p_=t=>({builder:t[0]&256}),ys=t=>({builder:t[8]}),h_=t=>({builder:t[0]&256}),ws=t=>({builder:t[8]});function __(t){let e,n,o,i;const r=t[16].default,l=pe(r,t,t[15],_s);let a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=P("div"),l&&l.c(),ae(e,s)},m(u,f){N(u,e,f),l&&l.m(e,null),t[56](e),n=!0,o||(i=[Fe(t[8].action(e)),z(e,"pointerdown",t[45]),z(e,"pointermove",t[46]),z(e,"pointerup",t[47]),z(e,"touchend",t[48]),z(e,"touchstart",t[49]),z(e,"touchcancel",t[50]),z(e,"touchmove",t[51])],o=!0)},p(u,f){l&&l.p&&(!n||f[0]&33024)&&_e(l,r,u,u[15],n?he(r,u[15],f,f_):ge(u[15]),_s),ae(e,s=ve(a,[f[0]&256&&u[8],f[0]&4096&&u[12]]))},i(u){n||(C(l,u),n=!0)},o(u){A(l,u),n=!1},d(u){u&&M(e),l&&l.d(u),t[56](null),o=!1,je(i)}}}function g_(t){let e,n,o,i,r;const l=t[16].default,a=pe(l,t,t[15],gs);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=J(u,s[f]);return{c(){e=P("div"),a&&a.c(),ae(e,u)},m(f,c){N(f,e,c),a&&a.m(e,null),t[55](e),o=!0,i||(r=[Fe(t[8].action(e)),z(e,"pointerdown",t[38]),z(e,"pointermove",t[39]),z(e,"pointerup",t[40]),z(e,"touchend",t[41]),z(e,"touchstart",t[42]),z(e,"touchcancel",t[43]),z(e,"touchmove",t[44])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&_e(a,l,t,t[15],o?he(l,t[15],c,c_):ge(t[15]),gs),ae(e,u=ve(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(C(a,f),n&&n.end(1),o=!0)},o(f){A(a,f),f&&(n=Wt(e,t[5],t[6])),o=!1},d(f){f&&M(e),a&&a.d(f),t[55](null),f&&n&&n.end(),i=!1,je(r)}}}function b_(t){let e,n,o,i,r;const l=t[16].default,a=pe(l,t,t[15],bs);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=J(u,s[f]);return{c(){e=P("div"),a&&a.c(),ae(e,u)},m(f,c){N(f,e,c),a&&a.m(e,null),t[54](e),o=!0,i||(r=[Fe(t[8].action(e)),z(e,"pointerdown",t[31]),z(e,"pointermove",t[32]),z(e,"pointerup",t[33]),z(e,"touchend",t[34]),z(e,"touchstart",t[35]),z(e,"touchcancel",t[36]),z(e,"touchmove",t[37])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&_e(a,l,t,t[15],o?he(l,t[15],c,d_):ge(t[15]),bs),ae(e,u=ve(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(C(a,f),f&&(n||rt(()=>{n=Vt(e,t[3],t[4]),n.start()})),o=!0)},o(f){A(a,f),o=!1},d(f){f&&M(e),a&&a.d(f),t[54](null),i=!1,je(r)}}}function v_(t){let e,n,o,i,r,l;const a=t[16].default,s=pe(a,t,t[15],vs);let u=[t[8],t[12]],f={};for(let c=0;c<u.length;c+=1)f=J(f,u[c]);return{c(){e=P("div"),s&&s.c(),ae(e,f)},m(c,d){N(c,e,d),s&&s.m(e,null),t[53](e),i=!0,r||(l=[Fe(t[8].action(e)),z(e,"pointerdown",t[24]),z(e,"pointermove",t[25]),z(e,"pointerup",t[26]),z(e,"touchend",t[27]),z(e,"touchstart",t[28]),z(e,"touchcancel",t[29]),z(e,"touchmove",t[30])],r=!0)},p(c,d){t=c,s&&s.p&&(!i||d[0]&33024)&&_e(s,a,t,t[15],i?he(a,t[15],d,m_):ge(t[15]),vs),ae(e,f=ve(u,[d[0]&256&&t[8],d[0]&4096&&t[12]]))},i(c){i||(C(s,c),c&&rt(()=>{i&&(o&&o.end(1),n=Vt(e,t[3],t[4]),n.start())}),i=!0)},o(c){A(s,c),n&&n.invalidate(),c&&(o=Wt(e,t[5],t[6])),i=!1},d(c){c&&M(e),s&&s.d(c),t[53](null),c&&o&&o.end(),r=!1,je(l)}}}function y_(t){let e,n,o,i,r;const l=t[16].default,a=pe(l,t,t[15],ys);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=J(u,s[f]);return{c(){e=P("div"),a&&a.c(),ae(e,u)},m(f,c){N(f,e,c),a&&a.m(e,null),t[52](e),o=!0,i||(r=[Fe(t[8].action(e)),z(e,"pointerdown",t[17]),z(e,"pointermove",t[18]),z(e,"pointerup",t[19]),z(e,"touchend",t[20]),z(e,"touchstart",t[21]),z(e,"touchcancel",t[22]),z(e,"touchmove",t[23])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&_e(a,l,t,t[15],o?he(l,t[15],c,p_):ge(t[15]),ys),ae(e,u=ve(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(C(a,f),f&&rt(()=>{o&&(n||(n=jt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(f){A(a,f),f&&(n||(n=jt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(f){f&&M(e),a&&a.d(f),t[52](null),f&&n&&n.end(),i=!1,je(r)}}}function w_(t){let e;const n=t[16].default,o=pe(n,t,t[15],ws);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r[0]&33024)&&_e(o,n,i,i[15],e?he(n,i[15],r,h_):ge(i[15]),ws)},i(i){e||(C(o,i),e=!0)},o(i){A(o,i),e=!1},d(i){o&&o.d(i)}}}function k_(t){let e,n,o,i;const r=[w_,y_,v_,b_,g_,__],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=Re()},m(s,u){~e&&l[e].m(s,u),N(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Te(),A(l[f],1,1,()=>{l[f]=null}),Se()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(C(n),i=!0)},o(s){A(n),i=!1},d(s){s&&M(o),~e&&l[e].d(s)}}}function C_(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","id","asChild","el"];let r=le(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:p=void 0}=e,{outTransitionConfig:_=void 0}=e,{id:g=void 0}=e,{asChild:v=!1}=e,{el:h=void 0}=e;const{elements:{content:k},states:{open:S},ids:I,getAttrs:O}=$n();se(t,k,H=>n(14,l=H)),se(t,S,H=>n(9,a=H));const D=O("content");function j(H){ie.call(this,t,H)}function q(H){ie.call(this,t,H)}function $(H){ie.call(this,t,H)}function E(H){ie.call(this,t,H)}function w(H){ie.call(this,t,H)}function T(H){ie.call(this,t,H)}function B(H){ie.call(this,t,H)}function V(H){ie.call(this,t,H)}function L(H){ie.call(this,t,H)}function U(H){ie.call(this,t,H)}function Q(H){ie.call(this,t,H)}function Z(H){ie.call(this,t,H)}function te(H){ie.call(this,t,H)}function ee(H){ie.call(this,t,H)}function fe(H){ie.call(this,t,H)}function Ae(H){ie.call(this,t,H)}function Ie(H){ie.call(this,t,H)}function ne(H){ie.call(this,t,H)}function b(H){ie.call(this,t,H)}function X(H){ie.call(this,t,H)}function K(H){ie.call(this,t,H)}function re(H){ie.call(this,t,H)}function ye(H){ie.call(this,t,H)}function Oe(H){ie.call(this,t,H)}function He(H){ie.call(this,t,H)}function xe(H){ie.call(this,t,H)}function Xe(H){ie.call(this,t,H)}function Ge(H){ie.call(this,t,H)}function Ue(H){ie.call(this,t,H)}function Je(H){ie.call(this,t,H)}function Ke(H){ie.call(this,t,H)}function Ve(H){ie.call(this,t,H)}function ke(H){ie.call(this,t,H)}function Me(H){ie.call(this,t,H)}function Ne(H){ie.call(this,t,H)}function Qe(H){Ee[H?"unshift":"push"](()=>{h=H,n(0,h)})}function lt(H){Ee[H?"unshift":"push"](()=>{h=H,n(0,h)})}function it(H){Ee[H?"unshift":"push"](()=>{h=H,n(0,h)})}function be(H){Ee[H?"unshift":"push"](()=>{h=H,n(0,h)})}function Ze(H){Ee[H?"unshift":"push"](()=>{h=H,n(0,h)})}return t.$$set=H=>{e=J(J({},e),Le(H)),n(12,r=le(e,i)),"transition"in H&&n(1,f=H.transition),"transitionConfig"in H&&n(2,c=H.transitionConfig),"inTransition"in H&&n(3,d=H.inTransition),"inTransitionConfig"in H&&n(4,m=H.inTransitionConfig),"outTransition"in H&&n(5,p=H.outTransition),"outTransitionConfig"in H&&n(6,_=H.outTransitionConfig),"id"in H&&n(13,g=H.id),"asChild"in H&&n(7,v=H.asChild),"el"in H&&n(0,h=H.el),"$$scope"in H&&n(15,u=H.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&8192&&g&&I.content.set(g),t.$$.dirty[0]&16384&&n(8,o=l),t.$$.dirty[0]&256&&Object.assign(o,D)},[h,f,c,d,m,p,_,v,o,a,k,S,r,g,l,u,s,j,q,$,E,w,T,B,V,L,U,Q,Z,te,ee,fe,Ae,Ie,ne,b,X,K,re,ye,Oe,He,xe,Xe,Ge,Ue,Je,Ke,Ve,ke,Me,Ne,Qe,lt,it,be,Ze]}let A_=class extends me{constructor(e){super(),de(this,e,C_,k_,ce,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,id:13,asChild:7,el:0},null,[-1,-1])}};const T_=t=>({builder:t&256}),ks=t=>({builder:t[8]});function S_(t){let e,n,o,i=[t[8],t[12]],r={};for(let l=0;l<i.length;l+=1)r=J(r,i[l]);return{c(){e=P("div"),ae(e,r)},m(l,a){N(l,e,a),t[20](e),n||(o=Fe(t[8].action(e)),n=!0)},p(l,a){ae(e,r=ve(i,[a&256&&l[8],a&4096&&l[12]]))},i:Ce,o:Ce,d(l){l&&M(e),t[20](null),n=!1,o()}}}function I_(t){let e,n,o,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=J(a,l[s]);return{c(){e=P("div"),ae(e,a)},m(s,u){N(s,e,u),t[19](e),o=!0,i||(r=Fe(t[8].action(e)),i=!0)},p(s,u){t=s,ae(e,a=ve(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(n&&n.end(1),o=!0)},o(s){s&&(n=Wt(e,t[5],t[6])),o=!1},d(s){s&&M(e),t[19](null),s&&n&&n.end(),i=!1,r()}}}function O_(t){let e,n,o,i,r=[t[8],t[12]],l={};for(let a=0;a<r.length;a+=1)l=J(l,r[a]);return{c(){e=P("div"),ae(e,l)},m(a,s){N(a,e,s),t[18](e),o||(i=Fe(t[8].action(e)),o=!0)},p(a,s){t=a,ae(e,l=ve(r,[s&256&&t[8],s&4096&&t[12]]))},i(a){a&&(n||rt(()=>{n=Vt(e,t[3],t[4]),n.start()}))},o:Ce,d(a){a&&M(e),t[18](null),o=!1,i()}}}function M_(t){let e,n,o,i,r,l,a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=P("div"),ae(e,s)},m(u,f){N(u,e,f),t[17](e),i=!0,r||(l=Fe(t[8].action(e)),r=!0)},p(u,f){t=u,ae(e,s=ve(a,[f&256&&t[8],f&4096&&t[12]]))},i(u){i||(u&&rt(()=>{i&&(o&&o.end(1),n=Vt(e,t[3],t[4]),n.start())}),i=!0)},o(u){n&&n.invalidate(),u&&(o=Wt(e,t[5],t[6])),i=!1},d(u){u&&M(e),t[17](null),u&&o&&o.end(),r=!1,l()}}}function P_(t){let e,n,o,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=J(a,l[s]);return{c(){e=P("div"),ae(e,a)},m(s,u){N(s,e,u),t[16](e),o=!0,i||(r=Fe(t[8].action(e)),i=!0)},p(s,u){t=s,ae(e,a=ve(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(s&&rt(()=>{o&&(n||(n=jt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(s){s&&(n||(n=jt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(s){s&&M(e),t[16](null),s&&n&&n.end(),i=!1,r()}}}function N_(t){let e;const n=t[15].default,o=pe(n,t,t[14],ks);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&16640)&&_e(o,n,i,i[14],e?he(n,i[14],r,T_):ge(i[14]),ks)},i(i){e||(C(o,i),e=!0)},o(i){A(o,i),e=!1},d(i){o&&o.d(i)}}}function E_(t){let e,n,o,i;const r=[N_,P_,M_,O_,I_,S_],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=Re()},m(s,u){~e&&l[e].m(s,u),N(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Te(),A(l[f],1,1,()=>{l[f]=null}),Se()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(C(n),i=!0)},o(s){A(n),i=!1},d(s){s&&M(o),~e&&l[e].d(s)}}}function R_(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","el"];let r=le(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:p=void 0}=e,{outTransitionConfig:_=void 0}=e,{asChild:g=!1}=e,{el:v=void 0}=e;const{elements:{overlay:h},states:{open:k},getAttrs:S}=$n();se(t,h,E=>n(13,l=E)),se(t,k,E=>n(9,a=E));const I=S("overlay");function O(E){Ee[E?"unshift":"push"](()=>{v=E,n(0,v)})}function D(E){Ee[E?"unshift":"push"](()=>{v=E,n(0,v)})}function j(E){Ee[E?"unshift":"push"](()=>{v=E,n(0,v)})}function q(E){Ee[E?"unshift":"push"](()=>{v=E,n(0,v)})}function $(E){Ee[E?"unshift":"push"](()=>{v=E,n(0,v)})}return t.$$set=E=>{e=J(J({},e),Le(E)),n(12,r=le(e,i)),"transition"in E&&n(1,f=E.transition),"transitionConfig"in E&&n(2,c=E.transitionConfig),"inTransition"in E&&n(3,d=E.inTransition),"inTransitionConfig"in E&&n(4,m=E.inTransitionConfig),"outTransition"in E&&n(5,p=E.outTransition),"outTransitionConfig"in E&&n(6,_=E.outTransitionConfig),"asChild"in E&&n(7,g=E.asChild),"el"in E&&n(0,v=E.el),"$$scope"in E&&n(14,u=E.$$scope)},t.$$.update=()=>{t.$$.dirty&8192&&n(8,o=l),t.$$.dirty&256&&Object.assign(o,I)},[v,f,c,d,m,p,_,g,o,a,h,k,r,l,u,s,O,D,j,q,$]}let L_=class extends me{constructor(e){super(),de(this,e,R_,E_,ce,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,el:0})}};const D_=t=>({builder:t&4}),Cs=t=>({builder:t[2]}),$_=t=>({builder:t&4}),As=t=>({builder:t[2]});function q_(t){let e,n,o,i;const r=t[8].default,l=pe(r,t,t[7],Cs);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=P("div"),l&&l.c(),ae(e,s)},m(u,f){N(u,e,f),l&&l.m(e,null),t[9](e),n=!0,o||(i=Fe(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&_e(l,r,u,u[7],n?he(r,u[7],f,D_):ge(u[7]),Cs),ae(e,s=ve(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(C(l,u),n=!0)},o(u){A(l,u),n=!1},d(u){u&&M(e),l&&l.d(u),t[9](null),o=!1,i()}}}function F_(t){let e;const n=t[8].default,o=pe(n,t,t[7],As);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&_e(o,n,i,i[7],e?he(n,i[7],r,$_):ge(i[7]),As)},i(i){e||(C(o,i),e=!0)},o(i){A(o,i),e=!1},d(i){o&&o.d(i)}}}function B_(t){let e,n,o,i;const r=[F_,q_],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),N(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Te(),A(l[f],1,1,()=>{l[f]=null}),Se(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){A(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function j_(t,e,n){let o;const i=["asChild","id","el"];let r=le(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{description:d},ids:m,getAttrs:p}=$n();se(t,d,v=>n(6,l=v));const _=p("description");function g(v){Ee[v?"unshift":"push"](()=>{c=v,n(0,c)})}return t.$$set=v=>{e=J(J({},e),Le(v)),n(4,r=le(e,i)),"asChild"in v&&n(1,u=v.asChild),"id"in v&&n(5,f=v.id),"el"in v&&n(0,c=v.el),"$$scope"in v&&n(7,s=v.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f&&m.description.set(f),t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,_)},[c,u,o,d,r,f,l,s,a,g]}let H_=class extends me{constructor(e){super(),de(this,e,j_,B_,ce,{asChild:1,id:5,el:0})}};function G_(t,e){const n=[];return e.builders.forEach(o=>{const i=o.action(t);i&&n.push(i)}),{destroy:()=>{n.forEach(o=>{o.destroy&&o.destroy()})}}}function Ts(t){const e={};return t.forEach(n=>{Object.keys(n).forEach(o=>{o!=="action"&&(e[o]=n[o])})}),e}function V_(t){let e=t[1]?"a":"button",n,o,i=(t[1]?"a":"button")&&pr(t);return{c(){i&&i.c(),n=Re()},m(r,l){i&&i.m(r,l),N(r,n,l),o=!0},p(r,l){r[1],e?ce(e,r[1]?"a":"button")?(i.d(1),i=pr(r),e=r[1]?"a":"button",i.c(),i.m(n.parentNode,n)):i.p(r,l):(i=pr(r),e=r[1]?"a":"button",i.c(),i.m(n.parentNode,n))},i(r){o||(C(i,r),o=!0)},o(r){A(i,r),o=!1},d(r){r&&M(n),i&&i.d(r)}}}function W_(t){let e=t[1]?"a":"button",n,o,i=(t[1]?"a":"button")&&hr(t);return{c(){i&&i.c(),n=Re()},m(r,l){i&&i.m(r,l),N(r,n,l),o=!0},p(r,l){r[1],e?ce(e,r[1]?"a":"button")?(i.d(1),i=hr(r),e=r[1]?"a":"button",i.c(),i.m(n.parentNode,n)):i.p(r,l):(i=hr(r),e=r[1]?"a":"button",i.c(),i.m(n.parentNode,n))},i(r){o||(C(i,r),o=!0)},o(r){A(i,r),o=!1},d(r){r&&M(n),i&&i.d(r)}}}function pr(t){let e,n,o,i,r;const l=t[7].default,a=pe(l,t,t[6],null);let s=[{type:n=t[1]?void 0:t[2]},{href:t[1]},{tabindex:"0"},t[5],t[4]],u={};for(let f=0;f<s.length;f+=1)u=J(u,s[f]);return{c(){e=P(t[1]?"a":"button"),a&&a.c(),un(t[1]?"a":"button")(e,u)},m(f,c){N(f,e,c),a&&a.m(e,null),o=!0,i||(r=[z(e,"click",t[14]),z(e,"change",t[15]),z(e,"keydown",t[16]),z(e,"keyup",t[17]),z(e,"mouseenter",t[18]),z(e,"mouseleave",t[19])],i=!0)},p(f,c){a&&a.p&&(!o||c&64)&&_e(a,l,f,f[6],o?he(l,f[6],c,null):ge(f[6]),null),un(f[1]?"a":"button")(e,u=ve(s,[(!o||c&6&&n!==(n=f[1]?void 0:f[2]))&&{type:n},(!o||c&2)&&{href:f[1]},{tabindex:"0"},c&32&&f[5],f[4]]))},i(f){o||(C(a,f),o=!0)},o(f){A(a,f),o=!1},d(f){f&&M(e),a&&a.d(f),i=!1,je(r)}}}function hr(t){let e,n,o,i,r,l;const a=t[7].default,s=pe(a,t,t[6],null);let u=[{type:n=t[1]?void 0:t[2]},{href:t[1]},{tabindex:"0"},Ts(t[3]),t[5],t[4]],f={};for(let c=0;c<u.length;c+=1)f=J(f,u[c]);return{c(){e=P(t[1]?"a":"button"),s&&s.c(),un(t[1]?"a":"button")(e,f)},m(c,d){N(c,e,d),s&&s.m(e,null),t[20](e),i=!0,r||(l=[z(e,"click",t[8]),z(e,"change",t[9]),z(e,"keydown",t[10]),z(e,"keyup",t[11]),z(e,"mouseenter",t[12]),z(e,"mouseleave",t[13]),Fe(o=G_.call(null,e,{builders:t[3]}))],r=!0)},p(c,d){s&&s.p&&(!i||d&64)&&_e(s,a,c,c[6],i?he(a,c[6],d,null):ge(c[6]),null),un(c[1]?"a":"button")(e,f=ve(u,[(!i||d&6&&n!==(n=c[1]?void 0:c[2]))&&{type:n},(!i||d&2)&&{href:c[1]},{tabindex:"0"},d&8&&Ts(c[3]),d&32&&c[5],c[4]])),o&&Dt(o.update)&&d&8&&o.update.call(null,{builders:c[3]})},i(c){i||(C(s,c),i=!0)},o(c){A(s,c),i=!1},d(c){c&&M(e),s&&s.d(c),t[20](null),r=!1,je(l)}}}function Y_(t){let e,n,o,i;const r=[W_,V_],l=[];function a(s,u){return s[3]&&s[3].length?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),N(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Te(),A(l[f],1,1,()=>{l[f]=null}),Se(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){A(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function x_(t,e,n){const o=["href","type","builders","el"];let i=le(e,o),{$$slots:r={},$$scope:l}=e,{href:a=void 0}=e,{type:s=void 0}=e,{builders:u=[]}=e,{el:f=void 0}=e;const c={"data-button-root":""};function d(q){ie.call(this,t,q)}function m(q){ie.call(this,t,q)}function p(q){ie.call(this,t,q)}function _(q){ie.call(this,t,q)}function g(q){ie.call(this,t,q)}function v(q){ie.call(this,t,q)}function h(q){ie.call(this,t,q)}function k(q){ie.call(this,t,q)}function S(q){ie.call(this,t,q)}function I(q){ie.call(this,t,q)}function O(q){ie.call(this,t,q)}function D(q){ie.call(this,t,q)}function j(q){Ee[q?"unshift":"push"](()=>{f=q,n(0,f)})}return t.$$set=q=>{e=J(J({},e),Le(q)),n(5,i=le(e,o)),"href"in q&&n(1,a=q.href),"type"in q&&n(2,s=q.type),"builders"in q&&n(3,u=q.builders),"el"in q&&n(0,f=q.el),"$$scope"in q&&n(6,l=q.$$scope)},[f,a,s,u,c,i,l,r,d,m,p,_,g,v,h,k,S,I,O,D,j]}let U_=class extends me{constructor(e){super(),de(this,e,x_,Y_,ce,{href:1,type:2,builders:3,el:0})}};function K_(t){return(e={})=>X_(t,e)}function X_(t,e){const o={...{side:"bottom",align:"center",sideOffset:0,alignOffset:0,sameWidth:!1,avoidCollisions:!0,collisionPadding:8,fitViewport:!1,strategy:"absolute",overlap:!1},...e};t.update(i=>({...i,placement:J_(o.side,o.align),offset:{...i.offset,mainAxis:o.sideOffset,crossAxis:o.alignOffset},gutter:0,sameWidth:o.sameWidth,flip:o.avoidCollisions,overflowPadding:o.collisionPadding,boundary:o.collisionBoundary,fitViewport:o.fitViewport,strategy:o.strategy,overlap:o.overlap}))}function J_(t,e){return e==="center"?t:`${t}-${e}`}function Z_(){return{NAME:"separator",PARTS:["root"]}}function Q_(t){const{NAME:e,PARTS:n}=Z_(),o=Ln(e,n),i={...Th(uo(t)),getAttrs:o};return{...i,updateOption:Pn(i.options)}}const z_=t=>({builder:t&4}),Ss=t=>({builder:t[2]});function e0(t){let e,n,o,i=[t[2],t[4]],r={};for(let l=0;l<i.length;l+=1)r=J(r,i[l]);return{c(){e=P("div"),ae(e,r)},m(l,a){N(l,e,a),t[10](e),n||(o=Fe(t[2].action(e)),n=!0)},p(l,a){ae(e,r=ve(i,[a&4&&l[2],a&16&&l[4]]))},i:Ce,o:Ce,d(l){l&&M(e),t[10](null),n=!1,o()}}}function t0(t){let e;const n=t[9].default,o=pe(n,t,t[8],Ss);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&260)&&_e(o,n,i,i[8],e?he(n,i[8],r,z_):ge(i[8]),Ss)},i(i){e||(C(o,i),e=!0)},o(i){A(o,i),e=!1},d(i){o&&o.d(i)}}}function n0(t){let e,n,o,i;const r=[t0,e0],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),N(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Te(),A(l[f],1,1,()=>{l[f]=null}),Se(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){A(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function o0(t,e,n){let o;const i=["orientation","decorative","asChild","el"];let r=le(e,i),l,{$$slots:a={},$$scope:s}=e,{orientation:u="horizontal"}=e,{decorative:f=!0}=e,{asChild:c=!1}=e,{el:d=void 0}=e;const{elements:{root:m},updateOption:p,getAttrs:_}=Q_({orientation:u,decorative:f});se(t,m,h=>n(7,l=h));const g=_("root");function v(h){Ee[h?"unshift":"push"](()=>{d=h,n(0,d)})}return t.$$set=h=>{e=J(J({},e),Le(h)),n(4,r=le(e,i)),"orientation"in h&&n(5,u=h.orientation),"decorative"in h&&n(6,f=h.decorative),"asChild"in h&&n(1,c=h.asChild),"el"in h&&n(0,d=h.el),"$$scope"in h&&n(8,s=h.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&p("orientation",u),t.$$.dirty&64&&p("decorative",f),t.$$.dirty&128&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,g)},[d,c,o,m,r,u,f,l,s,a,v]}let i0=class extends me{constructor(e){super(),de(this,e,o0,n0,ce,{orientation:5,decorative:6,asChild:1,el:0})}};function ac(){return{NAME:"dialog",PARTS:["close","content","description","overlay","portal","title","trigger"]}}function r0(t){const{NAME:e,PARTS:n}=ac(),o=Ln(e,n),i={...lc({...uo(t),role:"dialog",forceVisible:!0}),getAttrs:o};return Vi(e,i),{...i,updateOption:Pn(i.options)}}function fo(){const{NAME:t}=ac();return Wi(t)}const l0=t=>({ids:t&1}),Is=t=>({ids:t[0]});function s0(t){let e;const n=t[12].default,o=pe(n,t,t[11],Is);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,[r]){o&&o.p&&(!e||r&2049)&&_e(o,n,i,i[11],e?he(n,i[11],r,l0):ge(i[11]),Is)},i(i){e||(C(o,i),e=!0)},o(i){A(o,i),e=!1},d(i){o&&o.d(i)}}}function a0(t,e,n){let o,{$$slots:i={},$$scope:r}=e,{preventScroll:l=void 0}=e,{closeOnEscape:a=void 0}=e,{closeOnOutsideClick:s=void 0}=e,{portal:u=void 0}=e,{open:f=void 0}=e,{onOpenChange:c=void 0}=e,{openFocus:d=void 0}=e,{closeFocus:m=void 0}=e,{onOutsideClick:p=void 0}=e;const{states:{open:_},updateOption:g,ids:v}=r0({closeOnEscape:a,preventScroll:l,closeOnOutsideClick:s,portal:u,forceVisible:!0,defaultOpen:f,openFocus:d,closeFocus:m,onOutsideClick:p,onOpenChange:({next:k})=>(f!==k&&(c==null||c(k),n(2,f=k)),k)}),h=tn([v.content,v.description,v.title],([k,S,I])=>({content:k,description:S,title:I}));return se(t,h,k=>n(0,o=k)),t.$$set=k=>{"preventScroll"in k&&n(3,l=k.preventScroll),"closeOnEscape"in k&&n(4,a=k.closeOnEscape),"closeOnOutsideClick"in k&&n(5,s=k.closeOnOutsideClick),"portal"in k&&n(6,u=k.portal),"open"in k&&n(2,f=k.open),"onOpenChange"in k&&n(7,c=k.onOpenChange),"openFocus"in k&&n(8,d=k.openFocus),"closeFocus"in k&&n(9,m=k.closeFocus),"onOutsideClick"in k&&n(10,p=k.onOutsideClick),"$$scope"in k&&n(11,r=k.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&f!==void 0&&_.set(f),t.$$.dirty&8&&g("preventScroll",l),t.$$.dirty&16&&g("closeOnEscape",a),t.$$.dirty&32&&g("closeOnOutsideClick",s),t.$$.dirty&64&&g("portal",u),t.$$.dirty&256&&g("openFocus",d),t.$$.dirty&512&&g("closeFocus",m),t.$$.dirty&1024&&g("onOutsideClick",p)},[o,h,f,l,a,s,u,c,d,m,p,r,i]}class u0 extends me{constructor(e){super(),de(this,e,a0,s0,ce,{preventScroll:3,closeOnEscape:4,closeOnOutsideClick:5,portal:6,open:2,onOpenChange:7,openFocus:8,closeFocus:9,onOutsideClick:10})}}const f0=t=>({builder:t&8}),Os=t=>({builder:t[3]}),c0=t=>({builder:t&8}),Ms=t=>({builder:t[3]});function d0(t){let e=t[1],n,o,i=t[1]&&_r(t);return{c(){i&&i.c(),n=Re()},m(r,l){i&&i.m(r,l),N(r,n,l),o=!0},p(r,l){r[1]?e?ce(e,r[1])?(i.d(1),i=_r(r),e=r[1],i.c(),i.m(n.parentNode,n)):i.p(r,l):(i=_r(r),e=r[1],i.c(),i.m(n.parentNode,n)):e&&(i.d(1),i=null,e=r[1])},i(r){o||(C(i,r),o=!0)},o(r){A(i,r),o=!1},d(r){r&&M(n),i&&i.d(r)}}}function m0(t){let e;const n=t[9].default,o=pe(n,t,t[8],Ms);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&264)&&_e(o,n,i,i[8],e?he(n,i[8],r,c0):ge(i[8]),Ms)},i(i){e||(C(o,i),e=!0)},o(i){A(o,i),e=!1},d(i){o&&o.d(i)}}}function _r(t){let e,n,o,i;const r=t[9].default,l=pe(r,t,t[8],Os);let a=[t[3],t[5]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=P(t[1]),l&&l.c(),un(t[1])(e,s)},m(u,f){N(u,e,f),l&&l.m(e,null),t[10](e),n=!0,o||(i=Fe(t[3].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&264)&&_e(l,r,u,u[8],n?he(r,u[8],f,f0):ge(u[8]),Os),un(u[1])(e,s=ve(a,[f&8&&u[3],f&32&&u[5]]))},i(u){n||(C(l,u),n=!0)},o(u){A(l,u),n=!1},d(u){u&&M(e),l&&l.d(u),t[10](null),o=!1,i()}}}function p0(t){let e,n,o,i;const r=[m0,d0],l=[];function a(s,u){return s[2]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),N(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Te(),A(l[f],1,1,()=>{l[f]=null}),Se(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){A(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function h0(t,e,n){let o;const i=["level","asChild","id","el"];let r=le(e,i),l,{$$slots:a={},$$scope:s}=e,{level:u="h2"}=e,{asChild:f=!1}=e,{id:c=void 0}=e,{el:d=void 0}=e;const{elements:{title:m},ids:p,getAttrs:_}=fo();se(t,m,h=>n(7,l=h));const g=_("title");function v(h){Ee[h?"unshift":"push"](()=>{d=h,n(0,d)})}return t.$$set=h=>{e=J(J({},e),Le(h)),n(5,r=le(e,i)),"level"in h&&n(1,u=h.level),"asChild"in h&&n(2,f=h.asChild),"id"in h&&n(6,c=h.id),"el"in h&&n(0,d=h.el),"$$scope"in h&&n(8,s=h.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&c&&p.title.set(c),t.$$.dirty&128&&n(3,o=l),t.$$.dirty&8&&Object.assign(o,g)},[d,u,f,o,m,r,c,l,s,a,v]}let _0=class extends me{constructor(e){super(),de(this,e,h0,p0,ce,{level:1,asChild:2,id:6,el:0})}};const g0=t=>({builder:t&4}),Ps=t=>({builder:t[2]}),b0=t=>({builder:t&4}),Ns=t=>({builder:t[2]});function v0(t){let e,n,o,i;const r=t[8].default,l=pe(r,t,t[7],Ps);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=P("button"),l&&l.c(),ae(e,s)},m(u,f){N(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[9](e),n=!0,o||(i=[Fe(t[2].action(e)),z(e,"m-click",t[4]),z(e,"m-keydown",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&_e(l,r,u,u[7],n?he(r,u[7],f,g0):ge(u[7]),Ps),ae(e,s=ve(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(C(l,u),n=!0)},o(u){A(l,u),n=!1},d(u){u&&M(e),l&&l.d(u),t[9](null),o=!1,je(i)}}}function y0(t){let e;const n=t[8].default,o=pe(n,t,t[7],Ns);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&_e(o,n,i,i[7],e?he(n,i[7],r,b0):ge(i[7]),Ns)},i(i){e||(C(o,i),e=!0)},o(i){A(o,i),e=!1},d(i){o&&o.d(i)}}}function w0(t){let e,n,o,i;const r=[y0,v0],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),N(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Te(),A(l[f],1,1,()=>{l[f]=null}),Se(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){A(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function k0(t,e,n){let o;const i=["asChild","el"];let r=le(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:d}=fo();se(t,c,g=>n(6,l=g));const m=Dn(),p=d("close");function _(g){Ee[g?"unshift":"push"](()=>{f=g,n(0,f)})}return t.$$set=g=>{e=J(J({},e),Le(g)),n(5,r=le(e,i)),"asChild"in g&&n(1,u=g.asChild),"el"in g&&n(0,f=g.el),"$$scope"in g&&n(7,s=g.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,p)},[f,u,o,c,m,r,l,s,a,_]}class C0 extends me{constructor(e){super(),de(this,e,k0,w0,ce,{asChild:1,el:0})}}const A0=t=>({builder:t&4}),Es=t=>({builder:t[2]}),T0=t=>({builder:t&4}),Rs=t=>({builder:t[2]});function S0(t){let e,n,o,i;const r=t[7].default,l=pe(r,t,t[6],Es);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=P("div"),l&&l.c(),ae(e,s)},m(u,f){N(u,e,f),l&&l.m(e,null),t[8](e),n=!0,o||(i=Fe(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&68)&&_e(l,r,u,u[6],n?he(r,u[6],f,A0):ge(u[6]),Es),ae(e,s=ve(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(C(l,u),n=!0)},o(u){A(l,u),n=!1},d(u){u&&M(e),l&&l.d(u),t[8](null),o=!1,i()}}}function I0(t){let e;const n=t[7].default,o=pe(n,t,t[6],Rs);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&68)&&_e(o,n,i,i[6],e?he(n,i[6],r,T0):ge(i[6]),Rs)},i(i){e||(C(o,i),e=!0)},o(i){A(o,i),e=!1},d(i){o&&o.d(i)}}}function O0(t){let e,n,o,i;const r=[I0,S0],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),N(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Te(),A(l[f],1,1,()=>{l[f]=null}),Se(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){A(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function M0(t,e,n){let o;const i=["asChild","el"];let r=le(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{portalled:c},getAttrs:d}=fo();se(t,c,_=>n(5,l=_));const m=d("portal");function p(_){Ee[_?"unshift":"push"](()=>{f=_,n(0,f)})}return t.$$set=_=>{e=J(J({},e),Le(_)),n(4,r=le(e,i)),"asChild"in _&&n(1,u=_.asChild),"el"in _&&n(0,f=_.el),"$$scope"in _&&n(6,s=_.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,m)},[f,u,o,c,r,l,s,a,p]}let P0=class extends me{constructor(e){super(),de(this,e,M0,O0,ce,{asChild:1,el:0})}};const N0=t=>({builder:t[0]&256}),Ls=t=>({builder:t[8]}),E0=t=>({builder:t[0]&256}),Ds=t=>({builder:t[8]}),R0=t=>({builder:t[0]&256}),$s=t=>({builder:t[8]}),L0=t=>({builder:t[0]&256}),qs=t=>({builder:t[8]}),D0=t=>({builder:t[0]&256}),Fs=t=>({builder:t[8]}),$0=t=>({builder:t[0]&256}),Bs=t=>({builder:t[8]});function q0(t){let e,n,o,i;const r=t[16].default,l=pe(r,t,t[15],Ls);let a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=P("div"),l&&l.c(),ae(e,s)},m(u,f){N(u,e,f),l&&l.m(e,null),t[56](e),n=!0,o||(i=[Fe(t[8].action(e)),z(e,"pointerdown",t[45]),z(e,"pointermove",t[46]),z(e,"pointerup",t[47]),z(e,"touchend",t[48]),z(e,"touchstart",t[49]),z(e,"touchcancel",t[50]),z(e,"touchmove",t[51])],o=!0)},p(u,f){l&&l.p&&(!n||f[0]&33024)&&_e(l,r,u,u[15],n?he(r,u[15],f,N0):ge(u[15]),Ls),ae(e,s=ve(a,[f[0]&256&&u[8],f[0]&4096&&u[12]]))},i(u){n||(C(l,u),n=!0)},o(u){A(l,u),n=!1},d(u){u&&M(e),l&&l.d(u),t[56](null),o=!1,je(i)}}}function F0(t){let e,n,o,i,r;const l=t[16].default,a=pe(l,t,t[15],Ds);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=J(u,s[f]);return{c(){e=P("div"),a&&a.c(),ae(e,u)},m(f,c){N(f,e,c),a&&a.m(e,null),t[55](e),o=!0,i||(r=[Fe(t[8].action(e)),z(e,"pointerdown",t[38]),z(e,"pointermove",t[39]),z(e,"pointerup",t[40]),z(e,"touchend",t[41]),z(e,"touchstart",t[42]),z(e,"touchcancel",t[43]),z(e,"touchmove",t[44])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&_e(a,l,t,t[15],o?he(l,t[15],c,E0):ge(t[15]),Ds),ae(e,u=ve(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(C(a,f),n&&n.end(1),o=!0)},o(f){A(a,f),f&&(n=Wt(e,t[5],t[6])),o=!1},d(f){f&&M(e),a&&a.d(f),t[55](null),f&&n&&n.end(),i=!1,je(r)}}}function B0(t){let e,n,o,i,r;const l=t[16].default,a=pe(l,t,t[15],$s);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=J(u,s[f]);return{c(){e=P("div"),a&&a.c(),ae(e,u)},m(f,c){N(f,e,c),a&&a.m(e,null),t[54](e),o=!0,i||(r=[Fe(t[8].action(e)),z(e,"pointerdown",t[31]),z(e,"pointermove",t[32]),z(e,"pointerup",t[33]),z(e,"touchend",t[34]),z(e,"touchstart",t[35]),z(e,"touchcancel",t[36]),z(e,"touchmove",t[37])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&_e(a,l,t,t[15],o?he(l,t[15],c,R0):ge(t[15]),$s),ae(e,u=ve(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(C(a,f),f&&(n||rt(()=>{n=Vt(e,t[3],t[4]),n.start()})),o=!0)},o(f){A(a,f),o=!1},d(f){f&&M(e),a&&a.d(f),t[54](null),i=!1,je(r)}}}function j0(t){let e,n,o,i,r,l;const a=t[16].default,s=pe(a,t,t[15],qs);let u=[t[8],t[12]],f={};for(let c=0;c<u.length;c+=1)f=J(f,u[c]);return{c(){e=P("div"),s&&s.c(),ae(e,f)},m(c,d){N(c,e,d),s&&s.m(e,null),t[53](e),i=!0,r||(l=[Fe(t[8].action(e)),z(e,"pointerdown",t[24]),z(e,"pointermove",t[25]),z(e,"pointerup",t[26]),z(e,"touchend",t[27]),z(e,"touchstart",t[28]),z(e,"touchcancel",t[29]),z(e,"touchmove",t[30])],r=!0)},p(c,d){t=c,s&&s.p&&(!i||d[0]&33024)&&_e(s,a,t,t[15],i?he(a,t[15],d,L0):ge(t[15]),qs),ae(e,f=ve(u,[d[0]&256&&t[8],d[0]&4096&&t[12]]))},i(c){i||(C(s,c),c&&rt(()=>{i&&(o&&o.end(1),n=Vt(e,t[3],t[4]),n.start())}),i=!0)},o(c){A(s,c),n&&n.invalidate(),c&&(o=Wt(e,t[5],t[6])),i=!1},d(c){c&&M(e),s&&s.d(c),t[53](null),c&&o&&o.end(),r=!1,je(l)}}}function H0(t){let e,n,o,i,r;const l=t[16].default,a=pe(l,t,t[15],Fs);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=J(u,s[f]);return{c(){e=P("div"),a&&a.c(),ae(e,u)},m(f,c){N(f,e,c),a&&a.m(e,null),t[52](e),o=!0,i||(r=[Fe(t[8].action(e)),z(e,"pointerdown",t[17]),z(e,"pointermove",t[18]),z(e,"pointerup",t[19]),z(e,"touchend",t[20]),z(e,"touchstart",t[21]),z(e,"touchcancel",t[22]),z(e,"touchmove",t[23])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&_e(a,l,t,t[15],o?he(l,t[15],c,D0):ge(t[15]),Fs),ae(e,u=ve(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(C(a,f),f&&rt(()=>{o&&(n||(n=jt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(f){A(a,f),f&&(n||(n=jt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(f){f&&M(e),a&&a.d(f),t[52](null),f&&n&&n.end(),i=!1,je(r)}}}function G0(t){let e;const n=t[16].default,o=pe(n,t,t[15],Bs);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r[0]&33024)&&_e(o,n,i,i[15],e?he(n,i[15],r,$0):ge(i[15]),Bs)},i(i){e||(C(o,i),e=!0)},o(i){A(o,i),e=!1},d(i){o&&o.d(i)}}}function V0(t){let e,n,o,i;const r=[G0,H0,j0,B0,F0,q0],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=Re()},m(s,u){~e&&l[e].m(s,u),N(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Te(),A(l[f],1,1,()=>{l[f]=null}),Se()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(C(n),i=!0)},o(s){A(n),i=!1},d(s){s&&M(o),~e&&l[e].d(s)}}}function W0(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","id","el"];let r=le(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:p=void 0}=e,{outTransitionConfig:_=void 0}=e,{asChild:g=!1}=e,{id:v=void 0}=e,{el:h=void 0}=e;const{elements:{content:k},states:{open:S},ids:I,getAttrs:O}=fo();se(t,k,H=>n(14,l=H)),se(t,S,H=>n(9,a=H));const D=O("content");function j(H){ie.call(this,t,H)}function q(H){ie.call(this,t,H)}function $(H){ie.call(this,t,H)}function E(H){ie.call(this,t,H)}function w(H){ie.call(this,t,H)}function T(H){ie.call(this,t,H)}function B(H){ie.call(this,t,H)}function V(H){ie.call(this,t,H)}function L(H){ie.call(this,t,H)}function U(H){ie.call(this,t,H)}function Q(H){ie.call(this,t,H)}function Z(H){ie.call(this,t,H)}function te(H){ie.call(this,t,H)}function ee(H){ie.call(this,t,H)}function fe(H){ie.call(this,t,H)}function Ae(H){ie.call(this,t,H)}function Ie(H){ie.call(this,t,H)}function ne(H){ie.call(this,t,H)}function b(H){ie.call(this,t,H)}function X(H){ie.call(this,t,H)}function K(H){ie.call(this,t,H)}function re(H){ie.call(this,t,H)}function ye(H){ie.call(this,t,H)}function Oe(H){ie.call(this,t,H)}function He(H){ie.call(this,t,H)}function xe(H){ie.call(this,t,H)}function Xe(H){ie.call(this,t,H)}function Ge(H){ie.call(this,t,H)}function Ue(H){ie.call(this,t,H)}function Je(H){ie.call(this,t,H)}function Ke(H){ie.call(this,t,H)}function Ve(H){ie.call(this,t,H)}function ke(H){ie.call(this,t,H)}function Me(H){ie.call(this,t,H)}function Ne(H){ie.call(this,t,H)}function Qe(H){Ee[H?"unshift":"push"](()=>{h=H,n(0,h)})}function lt(H){Ee[H?"unshift":"push"](()=>{h=H,n(0,h)})}function it(H){Ee[H?"unshift":"push"](()=>{h=H,n(0,h)})}function be(H){Ee[H?"unshift":"push"](()=>{h=H,n(0,h)})}function Ze(H){Ee[H?"unshift":"push"](()=>{h=H,n(0,h)})}return t.$$set=H=>{e=J(J({},e),Le(H)),n(12,r=le(e,i)),"transition"in H&&n(1,f=H.transition),"transitionConfig"in H&&n(2,c=H.transitionConfig),"inTransition"in H&&n(3,d=H.inTransition),"inTransitionConfig"in H&&n(4,m=H.inTransitionConfig),"outTransition"in H&&n(5,p=H.outTransition),"outTransitionConfig"in H&&n(6,_=H.outTransitionConfig),"asChild"in H&&n(7,g=H.asChild),"id"in H&&n(13,v=H.id),"el"in H&&n(0,h=H.el),"$$scope"in H&&n(15,u=H.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&8192&&v&&I.content.set(v),t.$$.dirty[0]&16384&&n(8,o=l),t.$$.dirty[0]&256&&Object.assign(o,D)},[h,f,c,d,m,p,_,g,o,a,k,S,r,v,l,u,s,j,q,$,E,w,T,B,V,L,U,Q,Z,te,ee,fe,Ae,Ie,ne,b,X,K,re,ye,Oe,He,xe,Xe,Ge,Ue,Je,Ke,Ve,ke,Me,Ne,Qe,lt,it,be,Ze]}let Y0=class extends me{constructor(e){super(),de(this,e,W0,V0,ce,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,id:13,el:0},null,[-1,-1])}};const x0=t=>({builder:t&256}),js=t=>({builder:t[8]});function U0(t){let e,n,o,i=[t[8],t[12]],r={};for(let l=0;l<i.length;l+=1)r=J(r,i[l]);return{c(){e=P("div"),ae(e,r)},m(l,a){N(l,e,a),t[25](e),n||(o=[Fe(t[8].action(e)),z(e,"mouseup",t[20])],n=!0)},p(l,a){ae(e,r=ve(i,[a&256&&l[8],a&4096&&l[12]]))},i:Ce,o:Ce,d(l){l&&M(e),t[25](null),n=!1,je(o)}}}function K0(t){let e,n,o,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=J(a,l[s]);return{c(){e=P("div"),ae(e,a)},m(s,u){N(s,e,u),t[24](e),o=!0,i||(r=[Fe(t[8].action(e)),z(e,"mouseup",t[19])],i=!0)},p(s,u){t=s,ae(e,a=ve(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(n&&n.end(1),o=!0)},o(s){s&&(n=Wt(e,t[5],t[6])),o=!1},d(s){s&&M(e),t[24](null),s&&n&&n.end(),i=!1,je(r)}}}function X0(t){let e,n,o,i,r=[t[8],t[12]],l={};for(let a=0;a<r.length;a+=1)l=J(l,r[a]);return{c(){e=P("div"),ae(e,l)},m(a,s){N(a,e,s),t[23](e),o||(i=[Fe(t[8].action(e)),z(e,"mouseup",t[18])],o=!0)},p(a,s){t=a,ae(e,l=ve(r,[s&256&&t[8],s&4096&&t[12]]))},i(a){a&&(n||rt(()=>{n=Vt(e,t[3],t[4]),n.start()}))},o:Ce,d(a){a&&M(e),t[23](null),o=!1,je(i)}}}function J0(t){let e,n,o,i,r,l,a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=P("div"),ae(e,s)},m(u,f){N(u,e,f),t[22](e),i=!0,r||(l=[Fe(t[8].action(e)),z(e,"mouseup",t[17])],r=!0)},p(u,f){t=u,ae(e,s=ve(a,[f&256&&t[8],f&4096&&t[12]]))},i(u){i||(u&&rt(()=>{i&&(o&&o.end(1),n=Vt(e,t[3],t[4]),n.start())}),i=!0)},o(u){n&&n.invalidate(),u&&(o=Wt(e,t[5],t[6])),i=!1},d(u){u&&M(e),t[22](null),u&&o&&o.end(),r=!1,je(l)}}}function Z0(t){let e,n,o,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=J(a,l[s]);return{c(){e=P("div"),ae(e,a)},m(s,u){N(s,e,u),t[21](e),o=!0,i||(r=[z(e,"mouseup",t[16]),Fe(t[8].action(e))],i=!0)},p(s,u){t=s,ae(e,a=ve(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(s&&rt(()=>{o&&(n||(n=jt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(s){s&&(n||(n=jt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(s){s&&M(e),t[21](null),s&&n&&n.end(),i=!1,je(r)}}}function Q0(t){let e;const n=t[15].default,o=pe(n,t,t[14],js);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&16640)&&_e(o,n,i,i[14],e?he(n,i[14],r,x0):ge(i[14]),js)},i(i){e||(C(o,i),e=!0)},o(i){A(o,i),e=!1},d(i){o&&o.d(i)}}}function z0(t){let e,n,o,i;const r=[Q0,Z0,J0,X0,K0,U0],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=Re()},m(s,u){~e&&l[e].m(s,u),N(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Te(),A(l[f],1,1,()=>{l[f]=null}),Se()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(C(n),i=!0)},o(s){A(n),i=!1},d(s){s&&M(o),~e&&l[e].d(s)}}}function eg(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","el"];let r=le(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:p=void 0}=e,{outTransitionConfig:_=void 0}=e,{asChild:g=!1}=e,{el:v=void 0}=e;const{elements:{overlay:h},states:{open:k},getAttrs:S}=fo();se(t,h,L=>n(13,l=L)),se(t,k,L=>n(9,a=L));const I=S("overlay");function O(L){ie.call(this,t,L)}function D(L){ie.call(this,t,L)}function j(L){ie.call(this,t,L)}function q(L){ie.call(this,t,L)}function $(L){ie.call(this,t,L)}function E(L){Ee[L?"unshift":"push"](()=>{v=L,n(0,v)})}function w(L){Ee[L?"unshift":"push"](()=>{v=L,n(0,v)})}function T(L){Ee[L?"unshift":"push"](()=>{v=L,n(0,v)})}function B(L){Ee[L?"unshift":"push"](()=>{v=L,n(0,v)})}function V(L){Ee[L?"unshift":"push"](()=>{v=L,n(0,v)})}return t.$$set=L=>{e=J(J({},e),Le(L)),n(12,r=le(e,i)),"transition"in L&&n(1,f=L.transition),"transitionConfig"in L&&n(2,c=L.transitionConfig),"inTransition"in L&&n(3,d=L.inTransition),"inTransitionConfig"in L&&n(4,m=L.inTransitionConfig),"outTransition"in L&&n(5,p=L.outTransition),"outTransitionConfig"in L&&n(6,_=L.outTransitionConfig),"asChild"in L&&n(7,g=L.asChild),"el"in L&&n(0,v=L.el),"$$scope"in L&&n(14,u=L.$$scope)},t.$$.update=()=>{t.$$.dirty&8192&&n(8,o=l),t.$$.dirty&256&&Object.assign(o,I)},[v,f,c,d,m,p,_,g,o,a,h,k,r,l,u,s,O,D,j,q,$,E,w,T,B,V]}let tg=class extends me{constructor(e){super(),de(this,e,eg,z0,ce,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,el:0})}};const ng=t=>({builder:t&4}),Hs=t=>({builder:t[2]}),og=t=>({builder:t&4}),Gs=t=>({builder:t[2]});function ig(t){let e,n,o,i;const r=t[8].default,l=pe(r,t,t[7],Hs);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=P("div"),l&&l.c(),ae(e,s)},m(u,f){N(u,e,f),l&&l.m(e,null),t[9](e),n=!0,o||(i=Fe(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&_e(l,r,u,u[7],n?he(r,u[7],f,ng):ge(u[7]),Hs),ae(e,s=ve(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(C(l,u),n=!0)},o(u){A(l,u),n=!1},d(u){u&&M(e),l&&l.d(u),t[9](null),o=!1,i()}}}function rg(t){let e;const n=t[8].default,o=pe(n,t,t[7],Gs);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&_e(o,n,i,i[7],e?he(n,i[7],r,og):ge(i[7]),Gs)},i(i){e||(C(o,i),e=!0)},o(i){A(o,i),e=!1},d(i){o&&o.d(i)}}}function lg(t){let e,n,o,i;const r=[rg,ig],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),N(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Te(),A(l[f],1,1,()=>{l[f]=null}),Se(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){A(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function sg(t,e,n){let o;const i=["asChild","id","el"];let r=le(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{description:d},ids:m,getAttrs:p}=fo();se(t,d,v=>n(6,l=v));const _=p("description");function g(v){Ee[v?"unshift":"push"](()=>{c=v,n(0,c)})}return t.$$set=v=>{e=J(J({},e),Le(v)),n(4,r=le(e,i)),"asChild"in v&&n(1,u=v.asChild),"id"in v&&n(5,f=v.id),"el"in v&&n(0,c=v.el),"$$scope"in v&&n(7,s=v.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f&&m.description.set(f),t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,_)},[c,u,o,d,r,f,l,s,a,g]}let ag=class extends me{constructor(e){super(),de(this,e,sg,lg,ce,{asChild:1,id:5,el:0})}};function ug(){const t="label",n=Ln(t,["root"]);return{NAME:t,getAttrs:n}}const fg=t=>({builder:t&4}),Vs=t=>({builder:t[2]}),cg=t=>({builder:t&4}),Ws=t=>({builder:t[2]});function dg(t){let e,n,o,i;const r=t[8].default,l=pe(r,t,t[7],Vs);let a=[t[2],t[5]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=P("label"),l&&l.c(),ae(e,s)},m(u,f){N(u,e,f),l&&l.m(e,null),t[9](e),n=!0,o||(i=[Fe(t[2].action(e)),z(e,"m-mousedown",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&_e(l,r,u,u[7],n?he(r,u[7],f,fg):ge(u[7]),Vs),ae(e,s=ve(a,[f&4&&u[2],f&32&&u[5]]))},i(u){n||(C(l,u),n=!0)},o(u){A(l,u),n=!1},d(u){u&&M(e),l&&l.d(u),t[9](null),o=!1,je(i)}}}function mg(t){let e;const n=t[8].default,o=pe(n,t,t[7],Ws);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&_e(o,n,i,i[7],e?he(n,i[7],r,cg):ge(i[7]),Ws)},i(i){e||(C(o,i),e=!0)},o(i){A(o,i),e=!1},d(i){o&&o.d(i)}}}function pg(t){let e,n,o,i;const r=[mg,dg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),N(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Te(),A(l[f],1,1,()=>{l[f]=null}),Se(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){A(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function hg(t,e,n){let o;const i=["asChild","el"];let r=le(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{root:c}}=bh();se(t,c,g=>n(6,l=g));const d=Dn(),{getAttrs:m}=ug(),p=m("root");function _(g){Ee[g?"unshift":"push"](()=>{f=g,n(0,f)})}return t.$$set=g=>{e=J(J({},e),Le(g)),n(5,r=le(e,i)),"asChild"in g&&n(1,u=g.asChild),"el"in g&&n(0,f=g.el),"$$scope"in g&&n(7,s=g.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,p)},[f,u,o,c,d,r,l,s,a,_]}let _g=class extends me{constructor(e){super(),de(this,e,hg,pg,ce,{asChild:1,el:0})}};function gg(){return{NAME:"progress",PARTS:["root"]}}function bg(t){const{NAME:e,PARTS:n}=gg(),o=Ln(e,n),i={...Ch(uo(t)),getAttrs:o};return{...i,updateOption:Pn(i.options)}}const vg=t=>({builder:t&4}),Ys=t=>({builder:t[2]}),yg=t=>({builder:t&4}),xs=t=>({builder:t[2]});function wg(t){let e,n,o,i;const r=t[10].default,l=pe(r,t,t[9],Ys);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=P("div"),l&&l.c(),ae(e,s)},m(u,f){N(u,e,f),l&&l.m(e,null),t[11](e),n=!0,o||(i=Fe(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&516)&&_e(l,r,u,u[9],n?he(r,u[9],f,vg):ge(u[9]),Ys),ae(e,s=ve(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(C(l,u),n=!0)},o(u){A(l,u),n=!1},d(u){u&&M(e),l&&l.d(u),t[11](null),o=!1,i()}}}function kg(t){let e;const n=t[10].default,o=pe(n,t,t[9],xs);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&516)&&_e(o,n,i,i[9],e?he(n,i[9],r,yg):ge(i[9]),xs)},i(i){e||(C(o,i),e=!0)},o(i){A(o,i),e=!1},d(i){o&&o.d(i)}}}function Cg(t){let e,n,o,i;const r=[kg,wg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),N(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Te(),A(l[f],1,1,()=>{l[f]=null}),Se(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){A(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function Ag(t,e,n){let o;const i=["max","value","onValueChange","asChild","el"];let r=le(e,i),l,{$$slots:a={},$$scope:s}=e,{max:u=void 0}=e,{value:f=void 0}=e,{onValueChange:c=void 0}=e,{asChild:d=!1}=e,{el:m=void 0}=e;const{elements:{root:p},states:{value:_},updateOption:g,getAttrs:v}=bg({max:u,defaultValue:f,onValueChange:({next:S})=>(c==null||c(S),n(5,f=S),S)});se(t,p,S=>n(8,l=S));const h=v("root");function k(S){Ee[S?"unshift":"push"](()=>{m=S,n(0,m)})}return t.$$set=S=>{e=J(J({},e),Le(S)),n(4,r=le(e,i)),"max"in S&&n(6,u=S.max),"value"in S&&n(5,f=S.value),"onValueChange"in S&&n(7,c=S.onValueChange),"asChild"in S&&n(1,d=S.asChild),"el"in S&&n(0,m=S.el),"$$scope"in S&&n(9,s=S.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f!==void 0&&_.set(f),t.$$.dirty&64&&g("max",u),t.$$.dirty&256&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,h)},[m,d,o,p,r,f,u,c,l,s,a,k]}let Tg=class extends me{constructor(e){super(),de(this,e,Ag,Cg,ce,{max:6,value:5,onValueChange:7,asChild:1,el:0})}};function uc(){return{NAME:"slider",PARTS:["root","input","range","thumb","tick"]}}function Sg(t){const{NAME:e,PARTS:n}=uc(),o=Ln(e,n),i={...Ih(uo(t)),getAttrs:o};return Vi(e,i),{...i,updateOption:Pn(i.options)}}function fc(){const{NAME:t}=uc();return Wi(t)}const Ig=t=>({builder:t&4,ticks:t&8,thumbs:t&16}),Us=t=>({builder:t[2],ticks:t[3],thumbs:t[4]}),Og=t=>({builder:t&4,ticks:t&8,thumbs:t&16}),Ks=t=>({builder:t[2],ticks:t[3],thumbs:t[4]});function Mg(t){let e,n,o,i;const r=t[18].default,l=pe(r,t,t[17],Us);let a=[t[2],t[8]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=P("span"),l&&l.c(),ae(e,s)},m(u,f){N(u,e,f),l&&l.m(e,null),t[19](e),n=!0,o||(i=Fe(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&131100)&&_e(l,r,u,u[17],n?he(r,u[17],f,Ig):ge(u[17]),Us),ae(e,s=ve(a,[f&4&&u[2],f&256&&u[8]]))},i(u){n||(C(l,u),n=!0)},o(u){A(l,u),n=!1},d(u){u&&M(e),l&&l.d(u),t[19](null),o=!1,i()}}}function Pg(t){let e;const n=t[18].default,o=pe(n,t,t[17],Ks);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&131100)&&_e(o,n,i,i[17],e?he(n,i[17],r,Og):ge(i[17]),Ks)},i(i){e||(C(o,i),e=!0)},o(i){A(o,i),e=!1},d(i){o&&o.d(i)}}}function Ng(t){let e,n,o,i;const r=[Pg,Mg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),N(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Te(),A(l[f],1,1,()=>{l[f]=null}),Se(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){A(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function Eg(t,e,n){let o;const i=["disabled","min","max","step","orientation","value","onValueChange","asChild","el"];let r=le(e,i),l,a,s,{$$slots:u={},$$scope:f}=e,{disabled:c=void 0}=e,{min:d=void 0}=e,{max:m=void 0}=e,{step:p=void 0}=e,{orientation:_=void 0}=e,{value:g=void 0}=e,{onValueChange:v=void 0}=e,{asChild:h=!1}=e,{el:k=void 0}=e;const{elements:{root:S,ticks:I,thumbs:O},states:{value:D},updateOption:j,getAttrs:q}=Sg({disabled:c,min:d,max:m,step:p,orientation:_,defaultValue:g,onValueChange:({next:w})=>(g!==w&&(v==null||v(w),n(9,g=w)),w)});se(t,S,w=>n(16,l=w)),se(t,I,w=>n(3,a=w)),se(t,O,w=>n(4,s=w));const $=q("root");function E(w){Ee[w?"unshift":"push"](()=>{k=w,n(0,k)})}return t.$$set=w=>{e=J(J({},e),Le(w)),n(8,r=le(e,i)),"disabled"in w&&n(10,c=w.disabled),"min"in w&&n(11,d=w.min),"max"in w&&n(12,m=w.max),"step"in w&&n(13,p=w.step),"orientation"in w&&n(14,_=w.orientation),"value"in w&&n(9,g=w.value),"onValueChange"in w&&n(15,v=w.onValueChange),"asChild"in w&&n(1,h=w.asChild),"el"in w&&n(0,k=w.el),"$$scope"in w&&n(17,f=w.$$scope)},t.$$.update=()=>{t.$$.dirty&512&&g!==void 0&&D.set(g),t.$$.dirty&1024&&j("disabled",c),t.$$.dirty&2048&&j("min",d),t.$$.dirty&4096&&j("max",m),t.$$.dirty&8192&&j("step",p),t.$$.dirty&16384&&j("orientation",_),t.$$.dirty&65536&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,$)},[k,h,o,a,s,S,I,O,r,g,c,d,m,p,_,v,l,f,u,E]}let Rg=class extends me{constructor(e){super(),de(this,e,Eg,Ng,ce,{disabled:10,min:11,max:12,step:13,orientation:14,value:9,onValueChange:15,asChild:1,el:0})}};const Lg=t=>({builder:t&4}),Xs=t=>({builder:t[2]});function Dg(t){let e,n,o,i=[t[2],t[4]],r={};for(let l=0;l<i.length;l+=1)r=J(r,i[l]);return{c(){e=P("span"),ae(e,r)},m(l,a){N(l,e,a),t[8](e),n||(o=Fe(t[2].action(e)),n=!0)},p(l,a){ae(e,r=ve(i,[a&4&&l[2],a&16&&l[4]]))},i:Ce,o:Ce,d(l){l&&M(e),t[8](null),n=!1,o()}}}function $g(t){let e;const n=t[7].default,o=pe(n,t,t[6],Xs);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&68)&&_e(o,n,i,i[6],e?he(n,i[6],r,Lg):ge(i[6]),Xs)},i(i){e||(C(o,i),e=!0)},o(i){A(o,i),e=!1},d(i){o&&o.d(i)}}}function qg(t){let e,n,o,i;const r=[$g,Dg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),N(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Te(),A(l[f],1,1,()=>{l[f]=null}),Se(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){A(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function Fg(t,e,n){let o;const i=["asChild","el"];let r=le(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{range:c},getAttrs:d}=fc();se(t,c,_=>n(5,l=_));const m=d("range");function p(_){Ee[_?"unshift":"push"](()=>{f=_,n(0,f)})}return t.$$set=_=>{e=J(J({},e),Le(_)),n(4,r=le(e,i)),"asChild"in _&&n(1,u=_.asChild),"el"in _&&n(0,f=_.el),"$$scope"in _&&n(6,s=_.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,m)},[f,u,o,c,r,l,s,a,p]}class Bg extends me{constructor(e){super(),de(this,e,Fg,qg,ce,{asChild:1,el:0})}}const jg=t=>({builder:t&4}),Js=t=>({builder:t[2]});function Hg(t){let e,n,o,i=[t[2],t[4]],r={};for(let l=0;l<i.length;l+=1)r=J(r,i[l]);return{c(){e=P("span"),ae(e,r)},m(l,a){N(l,e,a),t[8](e),n||(o=[Fe(t[2].action(e)),z(e,"m-keydown",t[3])],n=!0)},p(l,a){ae(e,r=ve(i,[a&4&&l[2],a&16&&l[4]]))},i:Ce,o:Ce,d(l){l&&M(e),t[8](null),n=!1,je(o)}}}function Gg(t){let e;const n=t[7].default,o=pe(n,t,t[6],Js);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&68)&&_e(o,n,i,i[6],e?he(n,i[6],r,jg):ge(i[6]),Js)},i(i){e||(C(o,i),e=!0)},o(i){A(o,i),e=!1},d(i){o&&o.d(i)}}}function Vg(t){let e,n,o,i;const r=[Gg,Hg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),N(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Te(),A(l[f],1,1,()=>{l[f]=null}),Se(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){A(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function Wg(t,e,n){let o;const i=["asChild","el","thumb"];let r=le(e,i),{$$slots:l={},$$scope:a}=e,{asChild:s=!1}=e,{el:u=void 0}=e,{thumb:f}=e;const{getAttrs:c}=fc(),d=Dn(),m=c("thumb");function p(_){Ee[_?"unshift":"push"](()=>{u=_,n(0,u)})}return t.$$set=_=>{e=J(J({},e),Le(_)),n(4,r=le(e,i)),"asChild"in _&&n(1,s=_.asChild),"el"in _&&n(0,u=_.el),"thumb"in _&&n(5,f=_.thumb),"$$scope"in _&&n(6,a=_.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=f),t.$$.dirty&4&&Object.assign(o,m)},[u,s,o,d,r,f,a,l,p]}class Yg extends me{constructor(e){super(),de(this,e,Wg,Vg,ce,{asChild:1,el:0,thumb:5})}}function cc(){return{NAME:"tooltip",PARTS:["arrow","content","trigger"]}}function xg(t){const{NAME:e,PARTS:n}=cc(),o=Ln(e,n),i={...Ph({positioning:{placement:"top",gutter:0},openDelay:700,...uo(t),forceVisible:!0}),getAttrs:o};return Vi(e,i),{...i,updateOption:Pn(i.options)}}function bl(){const{NAME:t}=cc();return Wi(t)}function Ug(t){const n={...{side:"top",align:"center",sideOffset:1},...t},{options:{positioning:o}}=bl();K_(o)({...n})}const Kg=t=>({ids:t&1}),Zs=t=>({ids:t[0]});function Xg(t){let e;const n=t[12].default,o=pe(n,t,t[11],Zs);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,[r]){o&&o.p&&(!e||r&2049)&&_e(o,n,i,i[11],e?he(n,i[11],r,Kg):ge(i[11]),Zs)},i(i){e||(C(o,i),e=!0)},o(i){A(o,i),e=!1},d(i){o&&o.d(i)}}}function Jg(t,e,n){let o,{$$slots:i={},$$scope:r}=e,{closeOnEscape:l=void 0}=e,{portal:a=void 0}=e,{closeOnPointerDown:s=void 0}=e,{openDelay:u=void 0}=e,{closeDelay:f=void 0}=e,{open:c=void 0}=e,{onOpenChange:d=void 0}=e,{disableHoverableContent:m=void 0}=e,{group:p=void 0}=e;const{states:{open:_},updateOption:g,ids:v}=xg({closeOnEscape:l,portal:a,closeOnPointerDown:s,openDelay:u,closeDelay:f,forceVisible:!0,defaultOpen:c,disableHoverableContent:m,group:p,onOpenChange:({next:k})=>(c!==k&&(d==null||d(k),n(2,c=k)),k),positioning:{gutter:0,offset:{mainAxis:1}}}),h=tn([v.content,v.trigger],([k,S])=>({content:k,trigger:S}));return se(t,h,k=>n(0,o=k)),t.$$set=k=>{"closeOnEscape"in k&&n(3,l=k.closeOnEscape),"portal"in k&&n(4,a=k.portal),"closeOnPointerDown"in k&&n(5,s=k.closeOnPointerDown),"openDelay"in k&&n(6,u=k.openDelay),"closeDelay"in k&&n(7,f=k.closeDelay),"open"in k&&n(2,c=k.open),"onOpenChange"in k&&n(8,d=k.onOpenChange),"disableHoverableContent"in k&&n(9,m=k.disableHoverableContent),"group"in k&&n(10,p=k.group),"$$scope"in k&&n(11,r=k.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&c!==void 0&&_.set(c),t.$$.dirty&8&&g("closeOnEscape",l),t.$$.dirty&16&&g("portal",a),t.$$.dirty&32&&g("closeOnPointerDown",s),t.$$.dirty&64&&g("openDelay",u),t.$$.dirty&128&&g("closeDelay",f),t.$$.dirty&1024&&g("group",p),t.$$.dirty&512&&g("disableHoverableContent",m)},[o,h,c,l,a,s,u,f,d,m,p,r,i]}class Zg extends me{constructor(e){super(),de(this,e,Jg,Xg,ce,{closeOnEscape:3,portal:4,closeOnPointerDown:5,openDelay:6,closeDelay:7,open:2,onOpenChange:8,disableHoverableContent:9,group:10})}}const Qg=t=>({builder:t[0]&256}),Qs=t=>({builder:t[8]}),zg=t=>({builder:t[0]&256}),zs=t=>({builder:t[8]}),e1=t=>({builder:t[0]&256}),ea=t=>({builder:t[8]}),t1=t=>({builder:t[0]&256}),ta=t=>({builder:t[8]}),n1=t=>({builder:t[0]&256}),na=t=>({builder:t[8]}),o1=t=>({builder:t[0]&256}),oa=t=>({builder:t[8]});function i1(t){let e,n,o,i;const r=t[28].default,l=pe(r,t,t[27],Qs);let a=[t[8],t[13]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=P("div"),l&&l.c(),ae(e,s)},m(u,f){N(u,e,f),l&&l.m(e,null),t[33](e),n=!0,o||(i=[Fe(t[8].action(e)),z(e,"m-pointerdown",t[12]),z(e,"m-pointerenter",t[12])],o=!0)},p(u,f){l&&l.p&&(!n||f[0]&134217984)&&_e(l,r,u,u[27],n?he(r,u[27],f,Qg):ge(u[27]),Qs),ae(e,s=ve(a,[f[0]&256&&u[8],f[0]&8192&&u[13]]))},i(u){n||(C(l,u),n=!0)},o(u){A(l,u),n=!1},d(u){u&&M(e),l&&l.d(u),t[33](null),o=!1,je(i)}}}function r1(t){let e,n,o,i,r;const l=t[28].default,a=pe(l,t,t[27],zs);let s=[t[8],t[13]],u={};for(let f=0;f<s.length;f+=1)u=J(u,s[f]);return{c(){e=P("div"),a&&a.c(),ae(e,u)},m(f,c){N(f,e,c),a&&a.m(e,null),t[32](e),o=!0,i||(r=[Fe(t[8].action(e)),z(e,"m-pointerdown",t[12]),z(e,"m-pointerenter",t[12])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&134217984)&&_e(a,l,t,t[27],o?he(l,t[27],c,zg):ge(t[27]),zs),ae(e,u=ve(s,[c[0]&256&&t[8],c[0]&8192&&t[13]]))},i(f){o||(C(a,f),n&&n.end(1),o=!0)},o(f){A(a,f),f&&(n=Wt(e,t[5],t[6])),o=!1},d(f){f&&M(e),a&&a.d(f),t[32](null),f&&n&&n.end(),i=!1,je(r)}}}function l1(t){let e,n,o,i,r;const l=t[28].default,a=pe(l,t,t[27],ea);let s=[t[8],t[13]],u={};for(let f=0;f<s.length;f+=1)u=J(u,s[f]);return{c(){e=P("div"),a&&a.c(),ae(e,u)},m(f,c){N(f,e,c),a&&a.m(e,null),t[31](e),o=!0,i||(r=[Fe(t[8].action(e)),z(e,"m-pointerdown",t[12]),z(e,"m-pointerenter",t[12])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&134217984)&&_e(a,l,t,t[27],o?he(l,t[27],c,e1):ge(t[27]),ea),ae(e,u=ve(s,[c[0]&256&&t[8],c[0]&8192&&t[13]]))},i(f){o||(C(a,f),f&&(n||rt(()=>{n=Vt(e,t[3],t[4]),n.start()})),o=!0)},o(f){A(a,f),o=!1},d(f){f&&M(e),a&&a.d(f),t[31](null),i=!1,je(r)}}}function s1(t){let e,n,o,i,r,l;const a=t[28].default,s=pe(a,t,t[27],ta);let u=[t[8],t[13]],f={};for(let c=0;c<u.length;c+=1)f=J(f,u[c]);return{c(){e=P("div"),s&&s.c(),ae(e,f)},m(c,d){N(c,e,d),s&&s.m(e,null),t[30](e),i=!0,r||(l=[Fe(t[8].action(e)),z(e,"m-pointerdown",t[12]),z(e,"m-pointerenter",t[12])],r=!0)},p(c,d){t=c,s&&s.p&&(!i||d[0]&134217984)&&_e(s,a,t,t[27],i?he(a,t[27],d,t1):ge(t[27]),ta),ae(e,f=ve(u,[d[0]&256&&t[8],d[0]&8192&&t[13]]))},i(c){i||(C(s,c),c&&rt(()=>{i&&(o&&o.end(1),n=Vt(e,t[3],t[4]),n.start())}),i=!0)},o(c){A(s,c),n&&n.invalidate(),c&&(o=Wt(e,t[5],t[6])),i=!1},d(c){c&&M(e),s&&s.d(c),t[30](null),c&&o&&o.end(),r=!1,je(l)}}}function a1(t){let e,n,o,i,r;const l=t[28].default,a=pe(l,t,t[27],na);let s=[t[8],t[13]],u={};for(let f=0;f<s.length;f+=1)u=J(u,s[f]);return{c(){e=P("div"),a&&a.c(),ae(e,u)},m(f,c){N(f,e,c),a&&a.m(e,null),t[29](e),o=!0,i||(r=[Fe(t[8].action(e)),z(e,"m-pointerdown",t[12]),z(e,"m-pointerenter",t[12])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&134217984)&&_e(a,l,t,t[27],o?he(l,t[27],c,n1):ge(t[27]),na),ae(e,u=ve(s,[c[0]&256&&t[8],c[0]&8192&&t[13]]))},i(f){o||(C(a,f),f&&rt(()=>{o&&(n||(n=jt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(f){A(a,f),f&&(n||(n=jt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(f){f&&M(e),a&&a.d(f),t[29](null),f&&n&&n.end(),i=!1,je(r)}}}function u1(t){let e;const n=t[28].default,o=pe(n,t,t[27],oa);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r[0]&134217984)&&_e(o,n,i,i[27],e?he(n,i[27],r,o1):ge(i[27]),oa)},i(i){e||(C(o,i),e=!0)},o(i){A(o,i),e=!1},d(i){o&&o.d(i)}}}function f1(t){let e,n,o,i;const r=[u1,a1,s1,l1,r1,i1],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=Re()},m(s,u){~e&&l[e].m(s,u),N(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Te(),A(l[f],1,1,()=>{l[f]=null}),Se()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(C(n),i=!0)},o(s){A(n),i=!1},d(s){s&&M(o),~e&&l[e].d(s)}}}function c1(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","id","side","align","sideOffset","alignOffset","collisionPadding","avoidCollisions","collisionBoundary","sameWidth","fitViewport","strategy","overlap","el"];let r=le(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:p=void 0}=e,{outTransitionConfig:_=void 0}=e,{asChild:g=!1}=e,{id:v=void 0}=e,{side:h="top"}=e,{align:k="center"}=e,{sideOffset:S=0}=e,{alignOffset:I=0}=e,{collisionPadding:O=8}=e,{avoidCollisions:D=!0}=e,{collisionBoundary:j=void 0}=e,{sameWidth:q=!1}=e,{fitViewport:$=!1}=e,{strategy:E="absolute"}=e,{overlap:w=!1}=e,{el:T=void 0}=e;const{elements:{content:B},states:{open:V},ids:L,getAttrs:U}=bl();se(t,B,ne=>n(26,a=ne)),se(t,V,ne=>n(9,l=ne));const Q=Dn(),Z=U("content");function te(ne){Ee[ne?"unshift":"push"](()=>{T=ne,n(0,T)})}function ee(ne){Ee[ne?"unshift":"push"](()=>{T=ne,n(0,T)})}function fe(ne){Ee[ne?"unshift":"push"](()=>{T=ne,n(0,T)})}function Ae(ne){Ee[ne?"unshift":"push"](()=>{T=ne,n(0,T)})}function Ie(ne){Ee[ne?"unshift":"push"](()=>{T=ne,n(0,T)})}return t.$$set=ne=>{e=J(J({},e),Le(ne)),n(13,r=le(e,i)),"transition"in ne&&n(1,f=ne.transition),"transitionConfig"in ne&&n(2,c=ne.transitionConfig),"inTransition"in ne&&n(3,d=ne.inTransition),"inTransitionConfig"in ne&&n(4,m=ne.inTransitionConfig),"outTransition"in ne&&n(5,p=ne.outTransition),"outTransitionConfig"in ne&&n(6,_=ne.outTransitionConfig),"asChild"in ne&&n(7,g=ne.asChild),"id"in ne&&n(14,v=ne.id),"side"in ne&&n(15,h=ne.side),"align"in ne&&n(16,k=ne.align),"sideOffset"in ne&&n(17,S=ne.sideOffset),"alignOffset"in ne&&n(18,I=ne.alignOffset),"collisionPadding"in ne&&n(19,O=ne.collisionPadding),"avoidCollisions"in ne&&n(20,D=ne.avoidCollisions),"collisionBoundary"in ne&&n(21,j=ne.collisionBoundary),"sameWidth"in ne&&n(22,q=ne.sameWidth),"fitViewport"in ne&&n(23,$=ne.fitViewport),"strategy"in ne&&n(24,E=ne.strategy),"overlap"in ne&&n(25,w=ne.overlap),"el"in ne&&n(0,T=ne.el),"$$scope"in ne&&n(27,u=ne.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&16384&&v&&L.content.set(v),t.$$.dirty[0]&67108864&&n(8,o=a),t.$$.dirty[0]&256&&Object.assign(o,Z),t.$$.dirty[0]&67076608&&l&&Ug({side:h,align:k,sideOffset:S,alignOffset:I,collisionPadding:O,avoidCollisions:D,collisionBoundary:j,sameWidth:q,fitViewport:$,strategy:E,overlap:w})},[T,f,c,d,m,p,_,g,o,l,B,V,Q,r,v,h,k,S,I,O,D,j,q,$,E,w,a,u,s,te,ee,fe,Ae,Ie]}let d1=class extends me{constructor(e){super(),de(this,e,c1,f1,ce,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,id:14,side:15,align:16,sideOffset:17,alignOffset:18,collisionPadding:19,avoidCollisions:20,collisionBoundary:21,sameWidth:22,fitViewport:23,strategy:24,overlap:25,el:0},null,[-1,-1])}};const m1=t=>({builder:t&4}),ia=t=>({builder:t[2]}),p1=t=>({builder:t&4}),ra=t=>({builder:t[2]});function h1(t){let e,n,o,i;const r=t[9].default,l=pe(r,t,t[8],ia);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=P("button"),l&&l.c(),ae(e,s)},m(u,f){N(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[10](e),n=!0,o||(i=[Fe(t[2].action(e)),z(e,"m-blur",t[4]),z(e,"m-focus",t[4]),z(e,"m-keydown",t[4]),z(e,"m-pointerdown",t[4]),z(e,"m-pointerenter",t[4]),z(e,"m-pointerleave",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&260)&&_e(l,r,u,u[8],n?he(r,u[8],f,m1):ge(u[8]),ia),ae(e,s=ve(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(C(l,u),n=!0)},o(u){A(l,u),n=!1},d(u){u&&M(e),l&&l.d(u),t[10](null),o=!1,je(i)}}}function _1(t){let e;const n=t[9].default,o=pe(n,t,t[8],ra);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&260)&&_e(o,n,i,i[8],e?he(n,i[8],r,p1):ge(i[8]),ra)},i(i){e||(C(o,i),e=!0)},o(i){A(o,i),e=!1},d(i){o&&o.d(i)}}}function g1(t){let e,n,o,i;const r=[_1,h1],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),N(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Te(),A(l[f],1,1,()=>{l[f]=null}),Se(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){A(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function b1(t,e,n){let o;const i=["asChild","id","el"];let r=le(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{trigger:d},ids:m,getAttrs:p}=bl();se(t,d,h=>n(7,l=h));const _=Dn(),g=p("trigger");function v(h){Ee[h?"unshift":"push"](()=>{c=h,n(0,c)})}return t.$$set=h=>{e=J(J({},e),Le(h)),n(5,r=le(e,i)),"asChild"in h&&n(1,u=h.asChild),"id"in h&&n(6,f=h.id),"el"in h&&n(0,c=h.el),"$$scope"in h&&n(8,s=h.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&f&&m.trigger.set(f),t.$$.dirty&128&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,g)},[c,u,o,d,_,r,f,l,s,a,v]}class v1 extends me{constructor(e){super(),de(this,e,b1,g1,ce,{asChild:1,id:6,el:0})}}function y1(t){let e;const n=t[2].default,o=pe(n,t,t[3],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&8)&&_e(o,n,i,i[3],e?he(n,i[3],r,null):ge(i[3]),null)},i(i){e||(C(o,i),e=!0)},o(i){A(o,i),e=!1},d(i){o&&o.d(i)}}}function w1(t){let e,n;const o=[{class:qe("text-lg font-semibold leading-none tracking-tight",t[0])},t[1]];let i={$$slots:{default:[y1]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=J(i,o[r]);return e=new _0({props:i}),{c(){x(e.$$.fragment)},m(r,l){W(e,r,l),n=!0},p(r,[l]){const a=l&3?ve(o,[l&1&&{class:qe("text-lg font-semibold leading-none tracking-tight",r[0])},l&2&&st(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){A(e.$$.fragment,r),n=!1},d(r){Y(e,r)}}}function k1(t,e,n){const o=["class"];let i=le(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=J(J({},e),Le(s)),n(1,i=le(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,l=s.$$scope)},[a,i,r,l]}class qn extends me{constructor(e){super(),de(this,e,k1,w1,ce,{class:0})}}function C1(t){let e;const n=t[1].default,o=pe(n,t,t[2],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&4)&&_e(o,n,i,i[2],e?he(n,i[2],r,null):ge(i[2]),null)},i(i){e||(C(o,i),e=!0)},o(i){A(o,i),e=!1},d(i){o&&o.d(i)}}}function A1(t){let e,n;const o=[t[0]];let i={$$slots:{default:[C1]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=J(i,o[r]);return e=new P0({props:i}),{c(){x(e.$$.fragment)},m(r,l){W(e,r,l),n=!0},p(r,[l]){const a=l&1?ve(o,[st(r[0])]):{};l&4&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){A(e.$$.fragment,r),n=!1},d(r){Y(e,r)}}}function T1(t,e,n){const o=[];let i=le(e,o),{$$slots:r={},$$scope:l}=e;return t.$$set=a=>{e=J(J({},e),Le(a)),n(0,i=le(e,o)),"$$scope"in a&&n(2,l=a.$$scope)},[i,r,l]}class S1 extends me{constructor(e){super(),de(this,e,T1,A1,ce,{})}}function I1(t){let e,n,o;const i=t[3].default,r=pe(i,t,t[2],null);let l=[{class:n=qe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=J(a,l[s]);return{c(){e=P("div"),r&&r.c(),ae(e,a)},m(s,u){N(s,e,u),r&&r.m(e,null),o=!0},p(s,[u]){r&&r.p&&(!o||u&4)&&_e(r,i,s,s[2],o?he(i,s[2],u,null):ge(s[2]),null),ae(e,a=ve(l,[(!o||u&1&&n!==(n=qe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(C(r,s),o=!0)},o(s){A(r,s),o=!1},d(s){s&&M(e),r&&r.d(s)}}}function O1(t,e,n){const o=["class"];let i=le(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=J(J({},e),Le(s)),n(1,i=le(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,i,l,r]}class co extends me{constructor(e){super(),de(this,e,O1,I1,ce,{class:0})}}function M1(t){let e,n,o;const i=t[3].default,r=pe(i,t,t[2],null);let l=[{class:n=qe("flex flex-col space-y-1.5 text-center sm:text-left",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=J(a,l[s]);return{c(){e=P("div"),r&&r.c(),ae(e,a)},m(s,u){N(s,e,u),r&&r.m(e,null),o=!0},p(s,[u]){r&&r.p&&(!o||u&4)&&_e(r,i,s,s[2],o?he(i,s[2],u,null):ge(s[2]),null),ae(e,a=ve(l,[(!o||u&1&&n!==(n=qe("flex flex-col space-y-1.5 text-center sm:text-left",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(C(r,s),o=!0)},o(s){A(r,s),o=!1},d(s){s&&M(e),r&&r.d(s)}}}function P1(t,e,n){const o=["class"];let i=le(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=J(J({},e),Le(s)),n(1,i=le(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,i,l,r]}class Fn extends me{constructor(e){super(),de(this,e,P1,M1,ce,{class:0})}}function dc(t,{delay:e=0,duration:n=400,easing:o=ji}={}){const i=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:o,css:r=>`opacity: ${r*i}`}}function N1(t){let e,n;const o=[{transition:t[1]},{transitionConfig:t[2]},{class:qe("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm",t[0])},t[3]];let i={};for(let r=0;r<o.length;r+=1)i=J(i,o[r]);return e=new tg({props:i}),{c(){x(e.$$.fragment)},m(r,l){W(e,r,l),n=!0},p(r,[l]){const a=l&15?ve(o,[l&2&&{transition:r[1]},l&4&&{transitionConfig:r[2]},l&1&&{class:qe("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm",r[0])},l&8&&st(r[3])]):{};e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){A(e.$$.fragment,r),n=!1},d(r){Y(e,r)}}}function E1(t,e,n){const o=["class","transition","transitionConfig"];let i=le(e,o),{class:r=void 0}=e,{transition:l=dc}=e,{transitionConfig:a={duration:150}}=e;return t.$$set=s=>{e=J(J({},e),Le(s)),n(3,i=le(e,o)),"class"in s&&n(0,r=s.class),"transition"in s&&n(1,l=s.transition),"transitionConfig"in s&&n(2,a=s.transitionConfig)},[r,l,a,i]}class R1 extends me{constructor(e){super(),de(this,e,E1,N1,ce,{class:0,transition:1,transitionConfig:2})}}/**
 * @license lucide-svelte v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};function sa(t,e,n){const o=t.slice();return o[11]=e[n][0],o[12]=e[n][1],o}function gr(t){let e,n=[t[12]],o={};for(let i=0;i<n.length;i+=1)o=J(o,n[i]);return{c(){e=Hi(t[11]),di(e,o)},m(i,r){N(i,e,r)},p(i,r){di(e,o=ve(n,[r&32&&i[12]]))},d(i){i&&M(e)}}}function aa(t){let e=t[11],n,o=t[11]&&gr(t);return{c(){o&&o.c(),n=Re()},m(i,r){o&&o.m(i,r),N(i,n,r)},p(i,r){i[11]?e?ce(e,i[11])?(o.d(1),o=gr(i),e=i[11],o.c(),o.m(n.parentNode,n)):o.p(i,r):(o=gr(i),e=i[11],o.c(),o.m(n.parentNode,n)):e&&(o.d(1),o=null,e=i[11])},d(i){i&&M(n),o&&o.d(i)}}}function L1(t){let e,n,o,i,r,l=We(t[5]),a=[];for(let d=0;d<l.length;d+=1)a[d]=aa(sa(t,l,d));const s=t[10].default,u=pe(s,t,t[9],null);let f=[la,t[7],{width:t[2]},{height:t[2]},{stroke:t[1]},{"stroke-width":o=t[4]?Number(t[3])*24/Number(t[2]):t[3]},{class:i=t[6]("lucide-icon","lucide",t[0]?`lucide-${t[0]}`:"",t[8].class)}],c={};for(let d=0;d<f.length;d+=1)c=J(c,f[d]);return{c(){e=Hi("svg");for(let d=0;d<a.length;d+=1)a[d].c();n=Re(),u&&u.c(),di(e,c)},m(d,m){N(d,e,m);for(let p=0;p<a.length;p+=1)a[p]&&a[p].m(e,null);y(e,n),u&&u.m(e,null),r=!0},p(d,[m]){if(m&32){l=We(d[5]);let p;for(p=0;p<l.length;p+=1){const _=sa(d,l,p);a[p]?a[p].p(_,m):(a[p]=aa(_),a[p].c(),a[p].m(e,n))}for(;p<a.length;p+=1)a[p].d(1);a.length=l.length}u&&u.p&&(!r||m&512)&&_e(u,s,d,d[9],r?he(s,d[9],m,null):ge(d[9]),null),di(e,c=ve(f,[la,m&128&&d[7],(!r||m&4)&&{width:d[2]},(!r||m&4)&&{height:d[2]},(!r||m&2)&&{stroke:d[1]},(!r||m&28&&o!==(o=d[4]?Number(d[3])*24/Number(d[2]):d[3]))&&{"stroke-width":o},(!r||m&257&&i!==(i=d[6]("lucide-icon","lucide",d[0]?`lucide-${d[0]}`:"",d[8].class)))&&{class:i}]))},i(d){r||(C(u,d),r=!0)},o(d){A(u,d),r=!1},d(d){d&&M(e),ut(a,d),u&&u.d(d)}}}function D1(t,e,n){const o=["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode","mergeClasses"];let i=le(e,o),{$$slots:r={},$$scope:l}=e,{name:a=void 0}=e,{color:s="currentColor"}=e,{size:u=24}=e,{strokeWidth:f=2}=e,{absoluteStrokeWidth:c=!1}=e,{iconNode:d}=e;const m=(...p)=>p.filter((_,g,v)=>!!_&&v.indexOf(_)===g).join(" ");return t.$$set=p=>{n(8,e=J(J({},e),Le(p))),n(7,i=le(e,o)),"name"in p&&n(0,a=p.name),"color"in p&&n(1,s=p.color),"size"in p&&n(2,u=p.size),"strokeWidth"in p&&n(3,f=p.strokeWidth),"absoluteStrokeWidth"in p&&n(4,c=p.absoluteStrokeWidth),"iconNode"in p&&n(5,d=p.iconNode),"$$scope"in p&&n(9,l=p.$$scope)},e=Le(e),[a,s,u,f,c,d,m,i,e,l,r]}class $1 extends me{constructor(e){super(),de(this,e,D1,L1,ce,{name:0,color:1,size:2,strokeWidth:3,absoluteStrokeWidth:4,iconNode:5,mergeClasses:6})}get mergeClasses(){return this.$$.ctx[6]}}function q1(t){let e;const n=t[2].default,o=pe(n,t,t[3],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&8)&&_e(o,n,i,i[3],e?he(n,i[3],r,null):ge(i[3]),null)},i(i){e||(C(o,i),e=!0)},o(i){A(o,i),e=!1},d(i){o&&o.d(i)}}}function F1(t){let e,n;const o=[{name:"x"},t[1],{iconNode:t[0]}];let i={$$slots:{default:[q1]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=J(i,o[r]);return e=new $1({props:i}),{c(){x(e.$$.fragment)},m(r,l){W(e,r,l),n=!0},p(r,[l]){const a=l&3?ve(o,[o[0],l&2&&st(r[1]),l&1&&{iconNode:r[0]}]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){A(e.$$.fragment,r),n=!1},d(r){Y(e,r)}}}function B1(t,e,n){let{$$slots:o={},$$scope:i}=e;const r=[["path",{d:"M18 6 6 18"}],["path",{d:"m6 6 12 12"}]];return t.$$set=l=>{n(1,e=J(J({},e),Le(l))),"$$scope"in l&&n(3,i=l.$$scope)},e=Le(e),[r,e,o,i]}class j1 extends me{constructor(e){super(),de(this,e,B1,F1,ce,{})}}function H1(t){let e,n,o,i;return e=new j1({props:{class:"h-4 w-4"}}),{c(){x(e.$$.fragment),n=F(),o=P("span"),o.textContent="Close",R(o,"class","sr-only")},m(r,l){W(e,r,l),N(r,n,l),N(r,o,l),i=!0},p:Ce,i(r){i||(C(e.$$.fragment,r),i=!0)},o(r){A(e.$$.fragment,r),i=!1},d(r){r&&(M(n),M(o)),Y(e,r)}}}function G1(t){let e,n,o;const i=t[4].default,r=pe(i,t,t[5],null);return n=new C0({props:{class:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",$$slots:{default:[H1]},$$scope:{ctx:t}}}),{c(){r&&r.c(),e=F(),x(n.$$.fragment)},m(l,a){r&&r.m(l,a),N(l,e,a),W(n,l,a),o=!0},p(l,a){r&&r.p&&(!o||a&32)&&_e(r,i,l,l[5],o?he(i,l[5],a,null):ge(l[5]),null);const s={};a&32&&(s.$$scope={dirty:a,ctx:l}),n.$set(s)},i(l){o||(C(r,l),C(n.$$.fragment,l),o=!0)},o(l){A(r,l),A(n.$$.fragment,l),o=!1},d(l){l&&M(e),r&&r.d(l),Y(n,l)}}}function V1(t){let e,n,o,i;e=new R1({});const r=[{transition:t[1]},{transitionConfig:t[2]},{class:qe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg rounded-3xl md:w-full",t[0])},t[3]];let l={$$slots:{default:[G1]},$$scope:{ctx:t}};for(let a=0;a<r.length;a+=1)l=J(l,r[a]);return o=new Y0({props:l}),{c(){x(e.$$.fragment),n=F(),x(o.$$.fragment)},m(a,s){W(e,a,s),N(a,n,s),W(o,a,s),i=!0},p(a,s){const u=s&15?ve(r,[s&2&&{transition:a[1]},s&4&&{transitionConfig:a[2]},s&1&&{class:qe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg rounded-3xl md:w-full",a[0])},s&8&&st(a[3])]):{};s&32&&(u.$$scope={dirty:s,ctx:a}),o.$set(u)},i(a){i||(C(e.$$.fragment,a),C(o.$$.fragment,a),i=!0)},o(a){A(e.$$.fragment,a),A(o.$$.fragment,a),i=!1},d(a){a&&M(n),Y(e,a),Y(o,a)}}}function W1(t){let e,n;return e=new S1({props:{$$slots:{default:[V1]},$$scope:{ctx:t}}}),{c(){x(e.$$.fragment)},m(o,i){W(e,o,i),n=!0},p(o,[i]){const r={};i&47&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){A(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function Y1(t,e,n){const o=["class","transition","transitionConfig"];let i=le(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{transition:s=Yi}=e,{transitionConfig:u={duration:400}}=e;return t.$$set=f=>{e=J(J({},e),Le(f)),n(3,i=le(e,o)),"class"in f&&n(0,a=f.class),"transition"in f&&n(1,s=f.transition),"transitionConfig"in f&&n(2,u=f.transitionConfig),"$$scope"in f&&n(5,l=f.$$scope)},[a,s,u,i,r,l]}class Bn extends me{constructor(e){super(),de(this,e,Y1,W1,ce,{class:0,transition:1,transitionConfig:2})}}function x1(t){let e;const n=t[2].default,o=pe(n,t,t[3],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&8)&&_e(o,n,i,i[3],e?he(n,i[3],r,null):ge(i[3]),null)},i(i){e||(C(o,i),e=!0)},o(i){A(o,i),e=!1},d(i){o&&o.d(i)}}}function U1(t){let e,n;const o=[{class:qe("text-sm text-muted-foreground",t[0])},t[1]];let i={$$slots:{default:[x1]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=J(i,o[r]);return e=new ag({props:i}),{c(){x(e.$$.fragment)},m(r,l){W(e,r,l),n=!0},p(r,[l]){const a=l&3?ve(o,[l&1&&{class:qe("text-sm text-muted-foreground",r[0])},l&2&&st(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){A(e.$$.fragment,r),n=!1},d(r){Y(e,r)}}}function K1(t,e,n){const o=["class"];let i=le(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=J(J({},e),Le(s)),n(1,i=le(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,l=s.$$scope)},[a,i,r,l]}class mo extends me{constructor(e){super(),de(this,e,K1,U1,ce,{class:0})}}const jn=u0,Nn={land:{short_title:"Fill the grid",description_title:"You win by filling up all possible plots in the grid, and by meeting some requirements.",win:"You have filled the grid with buildings and met the requirements. Your citizens are happy, fulfilled, hard-working, and healthy. ",requirements:{0:{population_count:200,happiness:100,health:100,employment:1,knowledge:50,required_plots:["pub","small_school","community_center"]},1:{population_count:1e3,happiness:120,health:120,employment:1,knowledge:100,required_plots:["bank"]},2:{population_count:1e3,happiness:200,health:200,employment:1,knowledge:1e3,required_plots:["bank","city_hall"]}}},free_play:{short_title:"Quests",description_title:"Play for as long as you can and build the best city you can while completing quests."}};function X1(t){let e,n;const o=[{class:qe("shrink-0 bg-border",t[1]==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t[0])},{orientation:t[1]},{decorative:t[2]},t[3]];let i={};for(let r=0;r<o.length;r+=1)i=J(i,o[r]);return e=new i0({props:i}),{c(){x(e.$$.fragment)},m(r,l){W(e,r,l),n=!0},p(r,[l]){const a=l&15?ve(o,[l&3&&{class:qe("shrink-0 bg-border",r[1]==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",r[0])},l&2&&{orientation:r[1]},l&4&&{decorative:r[2]},l&8&&st(r[3])]):{};e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){A(e.$$.fragment,r),n=!1},d(r){Y(e,r)}}}function J1(t,e,n){const o=["class","orientation","decorative"];let i=le(e,o),{class:r=void 0}=e,{orientation:l="horizontal"}=e,{decorative:a=void 0}=e;return t.$$set=s=>{e=J(J({},e),Le(s)),n(3,i=le(e,o)),"class"in s&&n(0,r=s.class),"orientation"in s&&n(1,l=s.orientation),"decorative"in s&&n(2,a=s.decorative)},[r,l,a,i]}class Tt extends me{constructor(e){super(),de(this,e,J1,X1,ce,{class:0,orientation:1,decorative:2})}}function Z1(t){let e;const n=t[3].default,o=pe(n,t,t[4],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&16)&&_e(o,n,i,i[4],e?he(n,i[4],r,null):ge(i[4]),null)},i(i){e||(C(o,i),e=!0)},o(i){A(o,i),e=!1},d(i){o&&o.d(i)}}}function Q1(t){let e,n;const o=[{class:qe("text-lg font-semibold",t[0])},{level:t[1]},t[2]];let i={$$slots:{default:[Z1]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=J(i,o[r]);return e=new Gh({props:i}),{c(){x(e.$$.fragment)},m(r,l){W(e,r,l),n=!0},p(r,[l]){const a=l&7?ve(o,[l&1&&{class:qe("text-lg font-semibold",r[0])},l&2&&{level:r[1]},l&4&&st(r[2])]):{};l&16&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){A(e.$$.fragment,r),n=!1},d(r){Y(e,r)}}}function z1(t,e,n){const o=["class","level"];let i=le(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{level:s="h3"}=e;return t.$$set=u=>{e=J(J({},e),Le(u)),n(2,i=le(e,o)),"class"in u&&n(0,a=u.class),"level"in u&&n(1,s=u.level),"$$scope"in u&&n(4,l=u.$$scope)},[a,s,i,r,l]}class mc extends me{constructor(e){super(),de(this,e,z1,Q1,ce,{class:0,level:1})}}function eb(t){let e;const n=t[5].default,o=pe(n,t,t[8],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&256)&&_e(o,n,i,i[8],e?he(n,i[8],r,null):ge(i[8]),null)},i(i){e||(C(o,i),e=!0)},o(i){A(o,i),e=!1},d(i){o&&o.d(i)}}}function tb(t){let e,n;const o=[{builders:t[3]},{class:qe(no({variant:t[1],size:t[2]}),t[0])},{type:"button"},t[4]];let i={$$slots:{default:[eb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=J(i,o[r]);return e=new U_({props:i}),e.$on("click",t[6]),e.$on("keydown",t[7]),{c(){x(e.$$.fragment)},m(r,l){W(e,r,l),n=!0},p(r,[l]){const a=l&31?ve(o,[l&8&&{builders:r[3]},l&7&&{class:qe(no({variant:r[1],size:r[2]}),r[0])},o[2],l&16&&st(r[4])]):{};l&256&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){A(e.$$.fragment,r),n=!1},d(r){Y(e,r)}}}function nb(t,e,n){const o=["class","variant","size","builders"];let i=le(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{variant:s="default"}=e,{size:u="default"}=e,{builders:f=[]}=e;function c(m){ie.call(this,t,m)}function d(m){ie.call(this,t,m)}return t.$$set=m=>{e=J(J({},e),Le(m)),n(4,i=le(e,o)),"class"in m&&n(0,a=m.class),"variant"in m&&n(1,s=m.variant),"size"in m&&n(2,u=m.size),"builders"in m&&n(3,f=m.builders),"$$scope"in m&&n(8,l=m.$$scope)},[a,s,u,f,i,r,c,d,l]}class Gt extends me{constructor(e){super(),de(this,e,nb,tb,ce,{class:0,variant:1,size:2,builders:3})}}var ua=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,kt=t=>!t||typeof t!="object"||Object.keys(t).length===0,ob=(t,e)=>JSON.stringify(t)===JSON.stringify(e);function pc(t,e){t.forEach(function(n){Array.isArray(n)?pc(n,e):e.push(n)})}function hc(t){let e=[];return pc(t,e),e}var _c=(...t)=>hc(t).filter(Boolean),gc=(t,e)=>{let n={},o=Object.keys(t),i=Object.keys(e);for(let r of o)if(i.includes(r)){let l=t[r],a=e[r];typeof l=="object"&&typeof a=="object"?n[r]=gc(l,a):Array.isArray(l)||Array.isArray(a)?n[r]=_c(a,l):n[r]=a+" "+l}else n[r]=t[r];for(let r of i)o.includes(r)||(n[r]=e[r]);return n},fa=t=>!t||typeof t!="string"?t:t.replace(/\s+/g," ").trim(),ib={twMerge:!0,twMergeConfig:{},responsiveVariants:!1},bc=t=>t||void 0,Bo=(...t)=>bc(hc(t).filter(Boolean).join(" ")),br=null,Xt={},jr=!1,Co=(...t)=>e=>e.twMerge?((!br||jr)&&(jr=!1,br=kt(Xt)?$f:hm({...Xt,extend:{theme:Xt.theme,classGroups:Xt.classGroups,conflictingClassGroupModifiers:Xt.conflictingClassGroupModifiers,conflictingClassGroups:Xt.conflictingClassGroups,...Xt.extend}})),bc(br(Bo(t)))):Bo(t),ca=(t,e)=>{for(let n in e)t.hasOwnProperty(n)?t[n]=Bo(t[n],e[n]):t[n]=e[n];return t},rb=(t,e)=>{let{extend:n=null,slots:o={},variants:i={},compoundVariants:r=[],compoundSlots:l=[],defaultVariants:a={}}=t,s={...ib,...e},u=n!=null&&n.base?Bo(n.base,t==null?void 0:t.base):t==null?void 0:t.base,f=n!=null&&n.variants&&!kt(n.variants)?gc(i,n.variants):i,c=n!=null&&n.defaultVariants&&!kt(n.defaultVariants)?{...n.defaultVariants,...a}:a;!kt(s.twMergeConfig)&&!ob(s.twMergeConfig,Xt)&&(jr=!0,Xt=s.twMergeConfig);let d=kt(n==null?void 0:n.slots),m=kt(o)?{}:{base:Bo(t==null?void 0:t.base,d&&(n==null?void 0:n.base)),...o},p=d?m:ca({...n==null?void 0:n.slots},kt(m)?{base:t==null?void 0:t.base}:m),_=v=>{if(kt(f)&&kt(o)&&d)return Co(u,v==null?void 0:v.class,v==null?void 0:v.className)(s);if(r&&!Array.isArray(r))throw new TypeError(`The "compoundVariants" prop must be an array. Received: ${typeof r}`);if(l&&!Array.isArray(l))throw new TypeError(`The "compoundSlots" prop must be an array. Received: ${typeof l}`);let h=(w,T,B=[],V)=>{let L=B;if(typeof T=="string")L=L.concat(fa(T).split(" ").map(U=>`${w}:${U}`));else if(Array.isArray(T))L=L.concat(T.reduce((U,Q)=>U.concat(`${w}:${Q}`),[]));else if(typeof T=="object"&&typeof V=="string"){for(let U in T)if(T.hasOwnProperty(U)&&U===V){let Q=T[U];if(Q&&typeof Q=="string"){let Z=fa(Q);L[V]?L[V]=L[V].concat(Z.split(" ").map(te=>`${w}:${te}`)):L[V]=Z.split(" ").map(te=>`${w}:${te}`)}else Array.isArray(Q)&&Q.length>0&&(L[V]=Q.reduce((Z,te)=>Z.concat(`${w}:${te}`),[]))}}return L},k=(w,T=f,B=null,V=null)=>{var L;let U=T[w];if(!U||kt(U))return null;let Q=(L=V==null?void 0:V[w])!=null?L:v==null?void 0:v[w];if(Q===null)return null;let Z=ua(Q),te=Array.isArray(s.responsiveVariants)&&s.responsiveVariants.length>0||s.responsiveVariants===!0,ee=c==null?void 0:c[w],fe=[];if(typeof Z=="object"&&te)for(let[ne,b]of Object.entries(Z)){let X=U[b];if(ne==="initial"){ee=b;continue}Array.isArray(s.responsiveVariants)&&!s.responsiveVariants.includes(ne)||(fe=h(ne,X,fe,B))}let Ae=Z!=null&&typeof Z!="object"?Z:ua(ee),Ie=U[Ae]||U.false;return typeof fe=="object"&&typeof B=="string"&&fe[B]?ca(fe,Ie):fe.length>0?(fe.push(Ie),fe):Ie},S=()=>f?Object.keys(f).map(w=>k(w,f)):null,I=(w,T)=>{if(!f||typeof f!="object")return null;let B=new Array;for(let V in f){let L=k(V,f,w,T),U=w==="base"&&typeof L=="string"?L:L&&L[w];U&&(B[B.length]=U)}return B},O={};for(let w in v)v[w]!==void 0&&(O[w]=v[w]);let D=(w,T)=>{var B;let V=typeof(v==null?void 0:v[w])=="object"?{[w]:(B=v[w])==null?void 0:B.initial}:{};return{...c,...O,...V,...T}},j=(w=[],T)=>{let B=[];for(let{class:V,className:L,...U}of w){let Q=!0;for(let[Z,te]of Object.entries(U)){let ee=D(Z,T);if(Array.isArray(te)){if(!te.includes(ee[Z])){Q=!1;break}}else if(ee[Z]!==te){Q=!1;break}}Q&&(V&&B.push(V),L&&B.push(L))}return B},q=w=>{let T=j(r,w),B=j(n==null?void 0:n.compoundVariants,w);return _c(B,T)},$=w=>{let T=q(w);if(!Array.isArray(T))return T;let B={};for(let V of T)if(typeof V=="string"&&(B.base=Co(B.base,V)(s)),typeof V=="object")for(let[L,U]of Object.entries(V))B[L]=Co(B[L],U)(s);return B},E=w=>{if(l.length<1)return null;let T={};for(let{slots:B=[],class:V,className:L,...U}of l){if(!kt(U)){let Q=!0;for(let Z of Object.keys(U)){let te=D(Z,w)[Z];if(te===void 0||(Array.isArray(U[Z])?!U[Z].includes(te):U[Z]!==te)){Q=!1;break}}if(!Q)continue}for(let Q of B)T[Q]=T[Q]||[],T[Q].push([V,L])}return T};if(!kt(o)||!d){let w={};if(typeof p=="object"&&!kt(p))for(let T of Object.keys(p))w[T]=B=>{var V,L;return Co(p[T],I(T,B),((V=$(B))!=null?V:[])[T],((L=E(B))!=null?L:[])[T],B==null?void 0:B.class,B==null?void 0:B.className)(s)};return w}return Co(u,S(),q(),v==null?void 0:v.class,v==null?void 0:v.className)(s)},g=()=>{if(!(!f||typeof f!="object"))return Object.keys(f)};return _.variantKeys=g(),_.extend=n,_.base=u,_.slots=p,_.variants=f,_.defaultVariants=c,_.compoundSlots=l,_.compoundVariants=r,_};const no=rb({base:"inline-flex items-center justify-center rounded-md text-sm font-medium whitespace-nowrap transition-colors focus-visible:outline-none disabled:pointer-events-none disabled:opacity-50",variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg- hover:bg-accent hover:text-accent-foreground",secondary:"bg-accent text-accent-foreground hover:bg-accent/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),lb=t=>({builder:t&64}),da=t=>({builder:t[6]});function sb(t){let e;const n=t[2].default,o=pe(n,t,t[5],da);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&96)&&_e(o,n,i,i[5],e?he(n,i[5],r,lb):ge(i[5]),da)},i(i){e||(C(o,i),e=!0)},o(i){A(o,i),e=!1},d(i){o&&o.d(i)}}}function ab(t){let e,n;const o=[{class:qe(no(),t[0])},t[1]];let i={$$slots:{default:[sb,({builder:r})=>({6:r}),({builder:r})=>r?64:0]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=J(i,o[r]);return e=new Xh({props:i}),e.$on("click",t[3]),e.$on("keydown",t[4]),{c(){x(e.$$.fragment)},m(r,l){W(e,r,l),n=!0},p(r,[l]){const a=l&3?ve(o,[l&1&&{class:qe(no(),r[0])},l&2&&st(r[1])]):{};l&96&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){A(e.$$.fragment,r),n=!1},d(r){Y(e,r)}}}function ub(t,e,n){const o=["class"];let i=le(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(f){ie.call(this,t,f)}function u(f){ie.call(this,t,f)}return t.$$set=f=>{e=J(J({},e),Le(f)),n(1,i=le(e,o)),"class"in f&&n(0,a=f.class),"$$scope"in f&&n(5,l=f.$$scope)},[a,i,r,s,u,l]}class vc extends me{constructor(e){super(),de(this,e,ub,ab,ce,{class:0})}}const fb=t=>({builder:t&64}),ma=t=>({builder:t[6]});function cb(t){let e;const n=t[2].default,o=pe(n,t,t[5],ma);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&96)&&_e(o,n,i,i[5],e?he(n,i[5],r,fb):ge(i[5]),ma)},i(i){e||(C(o,i),e=!0)},o(i){A(o,i),e=!1},d(i){o&&o.d(i)}}}function db(t){let e,n;const o=[{class:qe(no({variant:"default"}),"mt-2 sm:mt-0",t[0])},t[1]];let i={$$slots:{default:[cb,({builder:r})=>({6:r}),({builder:r})=>r?64:0]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=J(i,o[r]);return e=new n_({props:i}),e.$on("click",t[3]),e.$on("keydown",t[4]),{c(){x(e.$$.fragment)},m(r,l){W(e,r,l),n=!0},p(r,[l]){const a=l&3?ve(o,[l&1&&{class:qe(no({variant:"default"}),"mt-2 sm:mt-0",r[0])},l&2&&st(r[1])]):{};l&96&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){A(e.$$.fragment,r),n=!1},d(r){Y(e,r)}}}function mb(t,e,n){const o=["class"];let i=le(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(f){ie.call(this,t,f)}function u(f){ie.call(this,t,f)}return t.$$set=f=>{e=J(J({},e),Le(f)),n(1,i=le(e,o)),"class"in f&&n(0,a=f.class),"$$scope"in f&&n(5,l=f.$$scope)},[a,i,r,s,u,l]}class yc extends me{constructor(e){super(),de(this,e,mb,db,ce,{class:0})}}function pb(t){let e;const n=t[1].default,o=pe(n,t,t[2],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&4)&&_e(o,n,i,i[2],e?he(n,i[2],r,null):ge(i[2]),null)},i(i){e||(C(o,i),e=!0)},o(i){A(o,i),e=!1},d(i){o&&o.d(i)}}}function hb(t){let e,n;const o=[t[0]];let i={$$slots:{default:[pb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=J(i,o[r]);return e=new u_({props:i}),{c(){x(e.$$.fragment)},m(r,l){W(e,r,l),n=!0},p(r,[l]){const a=l&1?ve(o,[st(r[0])]):{};l&4&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){A(e.$$.fragment,r),n=!1},d(r){Y(e,r)}}}function _b(t,e,n){const o=[];let i=le(e,o),{$$slots:r={},$$scope:l}=e;return t.$$set=a=>{e=J(J({},e),Le(a)),n(0,i=le(e,o)),"$$scope"in a&&n(2,l=a.$$scope)},[i,r,l]}class gb extends me{constructor(e){super(),de(this,e,_b,hb,ce,{})}}function bb(t){let e,n,o;const i=t[3].default,r=pe(i,t,t[2],null);let l=[{class:n=qe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=J(a,l[s]);return{c(){e=P("div"),r&&r.c(),ae(e,a)},m(s,u){N(s,e,u),r&&r.m(e,null),o=!0},p(s,[u]){r&&r.p&&(!o||u&4)&&_e(r,i,s,s[2],o?he(i,s[2],u,null):ge(s[2]),null),ae(e,a=ve(l,[(!o||u&1&&n!==(n=qe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(C(r,s),o=!0)},o(s){A(r,s),o=!1},d(s){s&&M(e),r&&r.d(s)}}}function vb(t,e,n){const o=["class"];let i=le(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=J(J({},e),Le(s)),n(1,i=le(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,i,l,r]}class Qi extends me{constructor(e){super(),de(this,e,vb,bb,ce,{class:0})}}function yb(t){let e,n,o;const i=t[3].default,r=pe(i,t,t[2],null);let l=[{class:n=qe("flex flex-col space-y-2 text-center sm:text-left",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=J(a,l[s]);return{c(){e=P("div"),r&&r.c(),ae(e,a)},m(s,u){N(s,e,u),r&&r.m(e,null),o=!0},p(s,[u]){r&&r.p&&(!o||u&4)&&_e(r,i,s,s[2],o?he(i,s[2],u,null):ge(s[2]),null),ae(e,a=ve(l,[(!o||u&1&&n!==(n=qe("flex flex-col space-y-2 text-center sm:text-left",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(C(r,s),o=!0)},o(s){A(r,s),o=!1},d(s){s&&M(e),r&&r.d(s)}}}function wb(t,e,n){const o=["class"];let i=le(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=J(J({},e),Le(s)),n(1,i=le(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,i,l,r]}class vl extends me{constructor(e){super(),de(this,e,wb,yb,ce,{class:0})}}function kb(t){let e,n;const o=[{transition:t[1]},{transitionConfig:t[2]},{class:qe("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm ",t[0])},t[3]];let i={};for(let r=0;r<o.length;r+=1)i=J(i,o[r]);return e=new L_({props:i}),{c(){x(e.$$.fragment)},m(r,l){W(e,r,l),n=!0},p(r,[l]){const a=l&15?ve(o,[l&2&&{transition:r[1]},l&4&&{transitionConfig:r[2]},l&1&&{class:qe("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm ",r[0])},l&8&&st(r[3])]):{};e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){A(e.$$.fragment,r),n=!1},d(r){Y(e,r)}}}function Cb(t,e,n){const o=["class","transition","transitionConfig"];let i=le(e,o),{class:r=void 0}=e,{transition:l=dc}=e,{transitionConfig:a={duration:150}}=e;return t.$$set=s=>{e=J(J({},e),Le(s)),n(3,i=le(e,o)),"class"in s&&n(0,r=s.class),"transition"in s&&n(1,l=s.transition),"transitionConfig"in s&&n(2,a=s.transitionConfig)},[r,l,a,i]}class Ab extends me{constructor(e){super(),de(this,e,Cb,kb,ce,{class:0,transition:1,transitionConfig:2})}}function Tb(t){let e;const n=t[4].default,o=pe(n,t,t[5],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&32)&&_e(o,n,i,i[5],e?he(n,i[5],r,null):ge(i[5]),null)},i(i){e||(C(o,i),e=!0)},o(i){A(o,i),e=!1},d(i){o&&o.d(i)}}}function Sb(t){let e,n,o,i;e=new Ab({});const r=[{transition:t[0]},{transitionConfig:t[1]},{class:qe("fixed rounded-2xl left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-sidebarBackground text-sidebarText p-6 shadow-lg md:w-full",t[2])},t[3]];let l={$$slots:{default:[Tb]},$$scope:{ctx:t}};for(let a=0;a<r.length;a+=1)l=J(l,r[a]);return o=new A_({props:l}),{c(){x(e.$$.fragment),n=F(),x(o.$$.fragment)},m(a,s){W(e,a,s),N(a,n,s),W(o,a,s),i=!0},p(a,s){const u=s&15?ve(r,[s&1&&{transition:a[0]},s&2&&{transitionConfig:a[1]},s&4&&{class:qe("fixed rounded-2xl left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-sidebarBackground text-sidebarText p-6 shadow-lg md:w-full",a[2])},s&8&&st(a[3])]):{};s&32&&(u.$$scope={dirty:s,ctx:a}),o.$set(u)},i(a){i||(C(e.$$.fragment,a),C(o.$$.fragment,a),i=!0)},o(a){A(e.$$.fragment,a),A(o.$$.fragment,a),i=!1},d(a){a&&M(n),Y(e,a),Y(o,a)}}}function Ib(t){let e,n;return e=new gb({props:{$$slots:{default:[Sb]},$$scope:{ctx:t}}}),{c(){x(e.$$.fragment)},m(o,i){W(e,o,i),n=!0},p(o,[i]){const r={};i&47&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){A(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function Ob(t,e,n){const o=["transition","transitionConfig","class"];let i=le(e,o),{$$slots:r={},$$scope:l}=e,{transition:a=Yi}=e,{transitionConfig:s=void 0}=e,{class:u=void 0}=e;return t.$$set=f=>{e=J(J({},e),Le(f)),n(3,i=le(e,o)),"transition"in f&&n(0,a=f.transition),"transitionConfig"in f&&n(1,s=f.transitionConfig),"class"in f&&n(2,u=f.class),"$$scope"in f&&n(5,l=f.$$scope)},[a,s,u,i,r,l]}class zi extends me{constructor(e){super(),de(this,e,Ob,Ib,ce,{transition:0,transitionConfig:1,class:2})}}function Mb(t){let e;const n=t[2].default,o=pe(n,t,t[3],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&8)&&_e(o,n,i,i[3],e?he(n,i[3],r,null):ge(i[3]),null)},i(i){e||(C(o,i),e=!0)},o(i){A(o,i),e=!1},d(i){o&&o.d(i)}}}function Pb(t){let e,n;const o=[{class:qe("text-sm text-muted-foreground",t[0])},t[1]];let i={$$slots:{default:[Mb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=J(i,o[r]);return e=new H_({props:i}),{c(){x(e.$$.fragment)},m(r,l){W(e,r,l),n=!0},p(r,[l]){const a=l&3?ve(o,[l&1&&{class:qe("text-sm text-muted-foreground",r[0])},l&2&&st(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){A(e.$$.fragment,r),n=!1},d(r){Y(e,r)}}}function Nb(t,e,n){const o=["class"];let i=le(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=J(J({},e),Le(s)),n(1,i=le(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,l=s.$$scope)},[a,i,r,l]}class yl extends me{constructor(e){super(),de(this,e,Nb,Pb,ce,{class:0})}}const er=Dh;function Eb(t){let e;const n=t[5].default,o=pe(n,t,t[6],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&64)&&_e(o,n,i,i[6],e?he(n,i[6],r,null):ge(i[6]),null)},i(i){e||(C(o,i),e=!0)},o(i){A(o,i),e=!1},d(i){o&&o.d(i)}}}function Rb(t){let e,n;const o=[{transition:t[2]},{transitionConfig:t[3]},{sideOffset:t[1]},{class:qe("z-50 overflow-hidden border bg-sidebarBackground px-3 py-1.5 text-sm text-black shadow-md rounded-2xl",t[0])},t[4]];let i={$$slots:{default:[Eb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=J(i,o[r]);return e=new d1({props:i}),{c(){x(e.$$.fragment)},m(r,l){W(e,r,l),n=!0},p(r,[l]){const a=l&31?ve(o,[l&4&&{transition:r[2]},l&8&&{transitionConfig:r[3]},l&2&&{sideOffset:r[1]},l&1&&{class:qe("z-50 overflow-hidden border bg-sidebarBackground px-3 py-1.5 text-sm text-black shadow-md rounded-2xl",r[0])},l&16&&st(r[4])]):{};l&64&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){A(e.$$.fragment,r),n=!1},d(r){Y(e,r)}}}function Lb(t,e,n){const o=["class","sideOffset","transition","transitionConfig"];let i=le(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{sideOffset:s=16}=e,{transition:u=Yi}=e,{transitionConfig:f={y:6,duration:100}}=e;return t.$$set=c=>{e=J(J({},e),Le(c)),n(4,i=le(e,o)),"class"in c&&n(0,a=c.class),"sideOffset"in c&&n(1,s=c.sideOffset),"transition"in c&&n(2,u=c.transition),"transitionConfig"in c&&n(3,f=c.transitionConfig),"$$scope"in c&&n(6,l=c.$$scope)},[a,s,u,f,i,r,l]}class po extends me{constructor(e){super(),de(this,e,Lb,Rb,ce,{class:0,sideOffset:1,transition:2,transitionConfig:3})}}const ho=Zg,_o=v1;function Db(t){let e=(t[4].length>0?t[4]:"Why are you hovering here?")+"",n;return{c(){n=G(e)},m(o,i){N(o,n,i)},p(o,i){i&16&&e!==(e=(o[4].length>0?o[4]:"Why are you hovering here?")+"")&&ue(n,e)},d(o){o&&M(n)}}}function $b(t){let e,n;return{c(){e=P("div"),n=G(t[0])},m(o,i){N(o,e,i),y(e,n)},p(o,i){i&1&&ue(n,o[0])},d(o){o&&M(e)}}}function qb(t){let e,n;return e=new Gt({props:{class:`text-sm flex flex-col  cursor-pointer py-1.5 rounded-xl bg-accent text-accentText
  `+t[2]+" cursor-pointer opacity-"+t[3]+" "+(t[3]<100?"hover:opacity-40":"")+` transition-all duration-150 filter hover:brightness-110
  `,$$slots:{default:[$b]},$$scope:{ctx:t}}}),e.$on("click",function(){Dt(t[1])&&t[1].apply(this,arguments)}),{c(){x(e.$$.fragment)},m(o,i){W(e,o,i),n=!0},p(o,i){t=o;const r={};i&12&&(r.class=`text-sm flex flex-col  cursor-pointer py-1.5 rounded-xl bg-accent text-accentText
  `+t[2]+" cursor-pointer opacity-"+t[3]+" "+(t[3]<100?"hover:opacity-40":"")+` transition-all duration-150 filter hover:brightness-110
  `),i&33&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){A(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function Fb(t){let e,n,o,i;return e=new po({props:{$$slots:{default:[Db]},$$scope:{ctx:t}}}),o=new _o({props:{class:"flex flex-col ",$$slots:{default:[qb]},$$scope:{ctx:t}}}),{c(){x(e.$$.fragment),n=F(),x(o.$$.fragment)},m(r,l){W(e,r,l),N(r,n,l),W(o,r,l),i=!0},p(r,l){const a={};l&48&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&47&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){A(e.$$.fragment,r),A(o.$$.fragment,r),i=!1},d(r){r&&M(n),Y(e,r),Y(o,r)}}}function Bb(t){let e,n;return e=new ho({props:{openDelay:t[4].length>0?200:1e4,closeDelay:0,$$slots:{default:[Fb]},$$scope:{ctx:t}}}),{c(){x(e.$$.fragment)},m(o,i){W(e,o,i),n=!0},p(o,[i]){const r={};i&16&&(r.openDelay=o[4].length>0?200:1e4),i&63&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){A(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function jb(t,e,n){let{text:o}=e,{onOpen:i}=e,{styling:r="bg-accent text-accentText"}=e,{opacity:l=100}=e,{onHoverText:a=""}=e;return t.$$set=s=>{"text"in s&&n(0,o=s.text),"onOpen"in s&&n(1,i=s.onOpen),"styling"in s&&n(2,r=s.styling),"opacity"in s&&n(3,l=s.opacity),"onHoverText"in s&&n(4,a=s.onHoverText)},[o,i,r,l,a]}class Zt extends me{constructor(e){super(),de(this,e,jb,Bb,ce,{text:0,onOpen:1,styling:2,opacity:3,onHoverText:4})}}function pa(t,e,n){const o=t.slice();return o[24]=e[n],o}function ha(t,e,n){const o=t.slice();return o[27]=e[n],o}function Hb(t){let e;return{c(){e=G("Pause Menu")},m(n,o){N(n,e,o)},d(n){n&&M(e)}}}function Gb(t){let e,n,o,i;return e=new qn({props:{class:"text-3xl font-semibold text-accentText",$$slots:{default:[Hb]},$$scope:{ctx:t}}}),{c(){x(e.$$.fragment),n=F(),o=P("span"),o.textContent="Unpause any time by pressing 'P'"},m(r,l){W(e,r,l),N(r,n,l),N(r,o,l),i=!0},p(r,l){const a={};l&1073741824&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){i||(C(e.$$.fragment,r),i=!0)},o(r){A(e.$$.fragment,r),i=!1},d(r){r&&(M(n),M(o)),Y(e,r)}}}function _a(t){let e,n,o,i,r,l=JSON.stringify(t[4].requirements[t[1].difficulty].population_count)+"",a,s,u=JSON.stringify(t[1].townInfo.population_count)+"",f,c,d,m,p=JSON.stringify(t[4].requirements[t[1].difficulty].happiness)+"",_,g,v=JSON.stringify(t[1].townInfo.happiness)+"",h,k,S,I,O=JSON.stringify(t[4].requirements[t[1].difficulty].employment*100)+"",D,j,q=JSON.stringify((t[1].townInfo.employees/t[1].townInfo.population_count||0)*100)+"",$,E,w,T,B,V=JSON.stringify(t[4].requirements[t[1].difficulty].health)+"",L,U,Q=JSON.stringify(t[1].townInfo.health)+"",Z,te,ee,fe,Ae=JSON.stringify(t[4].requirements[t[1].difficulty].knowledge)+"",Ie,ne,b=JSON.stringify(t[1].townInfo.knowledge_points)+"",X,K,re;function ye(be,Ze){return be[1].townInfo.population_count>=be[4].requirements[be[1].difficulty].population_count?Wb:Vb}let Oe=ye(t),He=Oe(t);function xe(be,Ze){return be[1].townInfo.happiness>=be[4].requirements[be[1].difficulty].happiness?xb:Yb}let Xe=xe(t),Ge=Xe(t);function Ue(be,Ze){return be[1].townInfo.employees/be[1].townInfo.population_count>=be[4].requirements[be[1].difficulty].employment?Kb:Ub}let Je=Ue(t),Ke=Je(t);function Ve(be,Ze){return be[1].townInfo.health>=be[4].requirements[be[1].difficulty].health?Jb:Xb}let ke=Ve(t),Me=ke(t);function Ne(be,Ze){return be[1].townInfo.knowledge_points>=be[4].requirements[be[1].difficulty].knowledge?Qb:Zb}let Qe=Ne(t),lt=Qe(t),it=t[4].requirements[t[1].difficulty].required_plots!=null&&t[4].requirements[t[1].difficulty].required_plots.length>0&&ga(t);return{c(){e=P("div"),e.textContent=`With your difficulty (${t[5]}), you must also have:`,n=F(),o=P("ul"),i=P("li"),He.c(),r=G(`
                  Population: `),a=G(l),s=G(" - Currently at "),f=G(u),c=F(),d=P("li"),Ge.c(),m=G(`
                  Happiness: `),_=G(p),g=G(" - Currently at "),h=G(v),k=F(),S=P("li"),Ke.c(),I=G(`
                  Employment: `),D=G(O),j=G("% - Currently at "),$=G(q),E=G("%"),w=F(),T=P("li"),Me.c(),B=G(`
                  Health: `),L=G(V),U=G(" - Currently at "),Z=G(Q),te=F(),ee=P("li"),lt.c(),fe=G(`
                  Knowledge: `),Ie=G(Ae),ne=G(" - Currently at "),X=G(b),K=F(),it&&it.c(),re=Re(),R(e,"class","leading-relaxed text-sm"),R(o,"class","list-inside list-disc leading-relaxedmt-0 text-sm")},m(be,Ze){N(be,e,Ze),N(be,n,Ze),N(be,o,Ze),y(o,i),He.m(i,null),y(i,r),y(i,a),y(i,s),y(i,f),y(o,c),y(o,d),Ge.m(d,null),y(d,m),y(d,_),y(d,g),y(d,h),y(o,k),y(o,S),Ke.m(S,null),y(S,I),y(S,D),y(S,j),y(S,$),y(S,E),y(o,w),y(o,T),Me.m(T,null),y(T,B),y(T,L),y(T,U),y(T,Z),y(o,te),y(o,ee),lt.m(ee,null),y(ee,fe),y(ee,Ie),y(ee,ne),y(ee,X),N(be,K,Ze),it&&it.m(be,Ze),N(be,re,Ze)},p(be,Ze){Oe!==(Oe=ye(be))&&(He.d(1),He=Oe(be),He&&(He.c(),He.m(i,r))),Ze&2&&l!==(l=JSON.stringify(be[4].requirements[be[1].difficulty].population_count)+"")&&ue(a,l),Ze&2&&u!==(u=JSON.stringify(be[1].townInfo.population_count)+"")&&ue(f,u),Xe!==(Xe=xe(be))&&(Ge.d(1),Ge=Xe(be),Ge&&(Ge.c(),Ge.m(d,m))),Ze&2&&p!==(p=JSON.stringify(be[4].requirements[be[1].difficulty].happiness)+"")&&ue(_,p),Ze&2&&v!==(v=JSON.stringify(be[1].townInfo.happiness)+"")&&ue(h,v),Je!==(Je=Ue(be))&&(Ke.d(1),Ke=Je(be),Ke&&(Ke.c(),Ke.m(S,I))),Ze&2&&O!==(O=JSON.stringify(be[4].requirements[be[1].difficulty].employment*100)+"")&&ue(D,O),Ze&2&&q!==(q=JSON.stringify((be[1].townInfo.employees/be[1].townInfo.population_count||0)*100)+"")&&ue($,q),ke!==(ke=Ve(be))&&(Me.d(1),Me=ke(be),Me&&(Me.c(),Me.m(T,B))),Ze&2&&V!==(V=JSON.stringify(be[4].requirements[be[1].difficulty].health)+"")&&ue(L,V),Ze&2&&Q!==(Q=JSON.stringify(be[1].townInfo.health)+"")&&ue(Z,Q),Qe!==(Qe=Ne(be))&&(lt.d(1),lt=Qe(be),lt&&(lt.c(),lt.m(ee,fe))),Ze&2&&Ae!==(Ae=JSON.stringify(be[4].requirements[be[1].difficulty].knowledge)+"")&&ue(Ie,Ae),Ze&2&&b!==(b=JSON.stringify(be[1].townInfo.knowledge_points)+"")&&ue(X,b),be[4].requirements[be[1].difficulty].required_plots!=null&&be[4].requirements[be[1].difficulty].required_plots.length>0?it?it.p(be,Ze):(it=ga(be),it.c(),it.m(re.parentNode,re)):it&&(it.d(1),it=null)},d(be){be&&(M(e),M(n),M(o),M(K),M(re)),He.d(),Ge.d(),Ke.d(),Me.d(),lt.d(),it&&it.d(be)}}}function Vb(t){let e;return{c(){e=G("❌")},m(n,o){N(n,e,o)},d(n){n&&M(e)}}}function Wb(t){let e;return{c(){e=G("✅")},m(n,o){N(n,e,o)},d(n){n&&M(e)}}}function Yb(t){let e;return{c(){e=G("❌")},m(n,o){N(n,e,o)},d(n){n&&M(e)}}}function xb(t){let e;return{c(){e=G("✅")},m(n,o){N(n,e,o)},d(n){n&&M(e)}}}function Ub(t){let e;return{c(){e=G("❌")},m(n,o){N(n,e,o)},d(n){n&&M(e)}}}function Kb(t){let e;return{c(){e=G("✅")},m(n,o){N(n,e,o)},d(n){n&&M(e)}}}function Xb(t){let e;return{c(){e=G("❌")},m(n,o){N(n,e,o)},d(n){n&&M(e)}}}function Jb(t){let e;return{c(){e=G("✅")},m(n,o){N(n,e,o)},d(n){n&&M(e)}}}function Zb(t){let e;return{c(){e=G("❌")},m(n,o){N(n,e,o)},d(n){n&&M(e)}}}function Qb(t){let e;return{c(){e=G("✅")},m(n,o){N(n,e,o)},d(n){n&&M(e)}}}function ga(t){let e,n,o,i=We(t[4].requirements[t[1].difficulty].required_plots),r=[];for(let l=0;l<i.length;l+=1)r[l]=ba(ha(t,i,l));return{c(){e=P("br"),n=G(`
                You also need to have these plots:
                `);for(let l=0;l<r.length;l+=1)r[l].c();o=Re()},m(l,a){N(l,e,a),N(l,n,a);for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(l,a);N(l,o,a)},p(l,a){if(a&18){i=We(l[4].requirements[l[1].difficulty].required_plots);let s;for(s=0;s<i.length;s+=1){const u=ha(l,i,s);r[s]?r[s].p(u,a):(r[s]=ba(u),r[s].c(),r[s].m(o.parentNode,o))}for(;s<r.length;s+=1)r[s].d(1);r.length=i.length}},d(l){l&&(M(e),M(n),M(o)),ut(r,l)}}}function zb(t){let e;return{c(){e=G("❌")},m(n,o){N(n,e,o)},d(n){n&&M(e)}}}function ev(t){let e;return{c(){e=G("✅")},m(n,o){N(n,e,o)},d(n){n&&M(e)}}}function ba(t){let e,n,o,i,r=t[27]+"",l,a;function s(c,d){return d&2&&(o=null),o==null&&(o=$e(c[27],c[1]).length>0),o?ev:zb}let u=s(t,-1),f=u(t);return{c(){e=P("div"),n=P("li"),f.c(),i=F(),l=G(r),a=F(),R(e,"class","text-sm")},m(c,d){N(c,e,d),y(e,n),f.m(n,null),y(n,i),y(n,l),y(e,a)},p(c,d){u!==(u=s(c,d))&&(f.d(1),f=u(c),f&&(f.c(),f.m(n,i))),d&2&&r!==(r=c[27]+"")&&ue(l,r)},d(c){c&&M(e),f.d()}}}function va(t){let e,n;function o(){return t[18](t[24])}return e=new Zt({props:{text:`💰 Collect Prize: $${wa(t[24].prize)} gold`,styling:"bg-yellow-300 text-black",onOpen:o}}),{c(){x(e.$$.fragment)},m(i,r){W(e,i,r),n=!0},p(i,r){t=i;const l={};r&1&&(l.text=`💰 Collect Prize: $${wa(t[24].prize)} gold`),r&1&&(l.onOpen=o),e.$set(l)},i(i){n||(C(e.$$.fragment,i),n=!0)},o(i){A(e.$$.fragment,i),n=!1},d(i){Y(e,i)}}}function ya(t){let e,n,o,i,r,l,a=t[24].title+"",s,u,f,c=t[24].requirements+"",d,m,p,_=t[24].icon+"",g,v,h,k=t[24].description+"",S,I,O,D,j=t[7](t[24].id)+"",q,$,E,w=t[12](t[24].id)&&!t[8](t[24].id),T,B,V,L=w&&va(t);return{c(){e=P("div"),n=P("div"),o=P("div"),i=P("span"),r=P("div"),l=P("span"),s=G(a),u=F(),f=P("div"),d=G(c),m=F(),p=P("div"),g=G(_),v=F(),h=P("div"),S=G(k),I=F(),O=P("div"),D=G("✅ Completed on Day "),q=G(j),E=F(),L&&L.c(),T=F(),R(l,"class","font-semibold text-lg"),R(f,"class","font-thin opacity-75 text-xs"),R(r,"class","flex flex-row gap-3 w-[100%] text- items-center "),R(p,"class","text-2xl pr-1 break-inside-avoid "),R(i,"class","flex flex-row justify-between w-[100%]"),R(o,"class","min-w-32 flex"),R(h,"class","opacity-85 text-xs font-light"),R(O,"class",$="pb-2"+(t[12](t[24].id)?"":"hidden")+" text-xs text-green-400"),R(n,"class","flex-col flex px-3 py-2 gap-0"),R(e,"class",B="flex flex-col gap-3 cursor-default rounded-xl "+(t[12](t[24].id)?"bg-green-700 text-accentText":"bg-gray-500 opacity-35"))},m(U,Q){N(U,e,Q),y(e,n),y(n,o),y(o,i),y(i,r),y(r,l),y(l,s),y(r,u),y(r,f),y(f,d),y(i,m),y(i,p),y(p,g),y(n,v),y(n,h),y(h,S),y(n,I),y(n,O),y(O,D),y(O,q),y(n,E),L&&L.m(n,null),y(e,T),V=!0},p(U,Q){(!V||Q&1)&&a!==(a=U[24].title+"")&&ue(s,a),(!V||Q&1)&&c!==(c=U[24].requirements+"")&&ue(d,c),(!V||Q&1)&&_!==(_=U[24].icon+"")&&ue(g,_),(!V||Q&1)&&k!==(k=U[24].description+"")&&ue(S,k),(!V||Q&1)&&j!==(j=U[7](U[24].id)+"")&&ue(q,j),(!V||Q&1&&$!==($="pb-2"+(U[12](U[24].id)?"":"hidden")+" text-xs text-green-400"))&&R(O,"class",$),Q&1&&(w=U[12](U[24].id)&&!U[8](U[24].id)),w?L?(L.p(U,Q),Q&1&&C(L,1)):(L=va(U),L.c(),C(L,1),L.m(n,null)):L&&(Te(),A(L,1,1,()=>{L=null}),Se()),(!V||Q&1&&B!==(B="flex flex-col gap-3 cursor-default rounded-xl "+(U[12](U[24].id)?"bg-green-700 text-accentText":"bg-gray-500 opacity-35")))&&R(e,"class",B)},i(U){V||(C(L),V=!0)},o(U){A(L),V=!1},d(U){U&&M(e),L&&L.d()}}}function tv(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,p,_,g,v,h,k,S,I,O,D,j,q,$,E,w,T,B,V,L;e=new Fn({props:{$$slots:{default:[Gb]},$$scope:{ctx:t}}});let U=t[1].endGoal=="land"&&_a(t);m=new Zt({props:{styling:"w-min",text:"💾 Save Game",onOpen:t[10]}}),_=new Zt({props:{styling:"w-min",text:"📤 Load Game",onOpen:t[17]}}),v=new Zt({props:{styling:"bg-black opacity-50 w-min",text:"🔄 New Game",onOpen:t[14]}}),k=new Tt({props:{orientation:"vertical"}});let Q=We(t[0]),Z=[];for(let ee=0;ee<Q.length;ee+=1)Z[ee]=ya(pa(t,Q,ee));const te=ee=>A(Z[ee],1,1,()=>{Z[ee]=null});return{c(){x(e.$$.fragment),n=F(),o=P("div"),i=P("div"),r=P("div"),l=P("h4"),l.textContent="This game",a=F(),s=P("span"),s.textContent=`${t[4].description_title}`,u=F(),f=P("div"),U&&U.c(),c=F(),d=P("div"),x(m.$$.fragment),p=F(),x(_.$$.fragment),g=F(),x(v.$$.fragment),h=F(),x(k.$$.fragment),S=F(),I=P("div"),O=P("h4"),O.textContent=`Your achievement (${t[6].length}
          / ${ct.length})`,D=F(),j=P("span"),j.textContent="Track your progress through games & complete challenges!",q=F(),$=P("br"),E=F(),w=P("div"),T=P("div");for(let ee=0;ee<Z.length;ee+=1)Z[ee].c();B=F(),V=P("span"),V.textContent=`Prizes apply to the current game you are in. You can wait to apply
          them until the right time.`,R(l,"class","text-xl font-semibold mb-2"),R(s,"class","text-sm text-accentText opacity-75"),R(f,"class","mt-6 gap-0 py-0 text-accentText opacity-75 text-sm"),R(r,"class","flex-col h-max"),R(d,"class","flex flex-row gap-3"),R(i,"class","flex flex-col gap-6 justify-between"),R(O,"class","underline underline-offset-4"),R(j,"class","text-sm text-gray-400"),R(T,"class","flex flex-col gap-4 overflow-scroll pb-10 scroll-smooth"),R(w,"class","overflow-scroll mt-2 h-[60vh]"),R(V,"class","text-sm text-yellow-400"),R(o,"class","flex flex-row w-full gap-10")},m(ee,fe){W(e,ee,fe),N(ee,n,fe),N(ee,o,fe),y(o,i),y(i,r),y(r,l),y(r,a),y(r,s),y(r,u),y(r,f),U&&U.m(f,null),y(i,c),y(i,d),W(m,d,null),y(d,p),W(_,d,null),y(d,g),W(v,d,null),y(o,h),W(k,o,null),y(o,S),y(o,I),y(I,O),y(I,D),y(I,j),y(I,q),y(I,$),y(I,E),y(I,w),y(w,T);for(let Ae=0;Ae<Z.length;Ae+=1)Z[Ae]&&Z[Ae].m(T,null);y(I,B),y(I,V),L=!0},p(ee,fe){const Ae={};if(fe&1073741824&&(Ae.$$scope={dirty:fe,ctx:ee}),e.$set(Ae),ee[1].endGoal=="land"?U?U.p(ee,fe):(U=_a(ee),U.c(),U.m(f,null)):U&&(U.d(1),U=null),fe&4993){Q=We(ee[0]);let Ie;for(Ie=0;Ie<Q.length;Ie+=1){const ne=pa(ee,Q,Ie);Z[Ie]?(Z[Ie].p(ne,fe),C(Z[Ie],1)):(Z[Ie]=ya(ne),Z[Ie].c(),C(Z[Ie],1),Z[Ie].m(T,null))}for(Te(),Ie=Q.length;Ie<Z.length;Ie+=1)te(Ie);Se()}},i(ee){if(!L){C(e.$$.fragment,ee),C(m.$$.fragment,ee),C(_.$$.fragment,ee),C(v.$$.fragment,ee),C(k.$$.fragment,ee);for(let fe=0;fe<Q.length;fe+=1)C(Z[fe]);L=!0}},o(ee){A(e.$$.fragment,ee),A(m.$$.fragment,ee),A(_.$$.fragment,ee),A(v.$$.fragment,ee),A(k.$$.fragment,ee),Z=Z.filter(Boolean);for(let fe=0;fe<Z.length;fe+=1)A(Z[fe]);L=!1},d(ee){ee&&(M(n),M(o)),Y(e,ee),U&&U.d(),Y(m),Y(_),Y(v),Y(k),ut(Z,ee)}}}function nv(t){let e,n;return e=new Bn({props:{class:"max-w-[90vw] max-h-[90vh] bg-popupBackground text-accentText",$$slots:{default:[tv]},$$scope:{ctx:t}}}),{c(){x(e.$$.fragment)},m(o,i){W(e,o,i),n=!0},p(o,i){const r={};i&1073741827&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){A(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function ov(t){var o;let e=((o=t[13]())==null?void 0:o.title)+"",n;return{c(){n=G(e)},m(i,r){N(i,n,r)},p:Ce,d(i){i&&M(n)}}}function iv(t){let e,n,o,i;return{c(){var r,l;e=P("div"),n=P("div"),n.textContent=`${(r=t[13]())==null?void 0:r.icon}`,o=F(),i=P("div"),i.textContent=`${(l=t[13]())==null?void 0:l.description}`,R(n,"class","text-center w-[30%] align-middle flex flex-col text-8xl"),R(i,"class","pl-8 w-[80%] align-middle flex flex-col justify-center text-lg"),R(e,"class","flex flex-row align-middle justify-evenly px-6 py-4")},m(r,l){N(r,e,l),y(e,n),y(e,o),y(e,i)},p:Ce,d(r){r&&M(e)}}}function rv(t){let e,n,o,i;return e=new mc({props:{class:"text-center text-lg font-bold",$$slots:{default:[ov]},$$scope:{ctx:t}}}),o=new yl({props:{$$slots:{default:[iv]},$$scope:{ctx:t}}}),{c(){x(e.$$.fragment),n=F(),x(o.$$.fragment)},m(r,l){W(e,r,l),N(r,n,l),W(o,r,l),i=!0},p(r,l){const a={};l&1073741824&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&1073741824&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){A(e.$$.fragment,r),A(o.$$.fragment,r),i=!1},d(r){r&&M(n),Y(e,r),Y(o,r)}}}function lv(t){let e;return{c(){e=G("Close to collect prize")},m(n,o){N(n,e,o)},d(n){n&&M(e)}}}function sv(t){let e,n;return e=new yc({props:{$$slots:{default:[lv]},$$scope:{ctx:t}}}),e.$on("click",t[20]),{c(){x(e.$$.fragment)},m(o,i){W(e,o,i),n=!0},p(o,i){const r={};i&1073741824&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){A(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function av(t){let e,n,o,i;return e=new vl({props:{$$slots:{default:[rv]},$$scope:{ctx:t}}}),o=new Qi({props:{$$slots:{default:[sv]},$$scope:{ctx:t}}}),{c(){x(e.$$.fragment),n=F(),x(o.$$.fragment)},m(r,l){W(e,r,l),N(r,n,l),W(o,r,l),i=!0},p(r,l){const a={};l&1073741824&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&1073741832&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){A(e.$$.fragment,r),A(o.$$.fragment,r),i=!1},d(r){r&&M(n),Y(e,r),Y(o,r)}}}function uv(t){let e,n;return e=new zi({props:{$$slots:{default:[av]},$$scope:{ctx:t}}}),{c(){x(e.$$.fragment)},m(o,i){W(e,o,i),n=!0},p(o,i){const r={};i&1073741832&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){A(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function fv(t){let e,n,o,i,r;function l(s){t[19](s)}let a={$$slots:{default:[nv]},$$scope:{ctx:t}};return t[2]!==void 0&&(a.open=t[2]),e=new jn({props:a}),Ee.push(()=>_n(e,"open",l)),i=new er({props:{open:t[3],$$slots:{default:[uv]},$$scope:{ctx:t}}}),{c(){x(e.$$.fragment),o=F(),x(i.$$.fragment)},m(s,u){W(e,s,u),N(s,o,u),W(i,s,u),r=!0},p(s,[u]){const f={};u&1073741827&&(f.$$scope={dirty:u,ctx:s}),!n&&u&4&&(n=!0,f.open=s[2],hn(()=>n=!1)),e.$set(f);const c={};u&8&&(c.open=s[3]),u&1073741832&&(c.$$scope={dirty:u,ctx:s}),i.$set(c)},i(s){r||(C(e.$$.fragment,s),C(i.$$.fragment,s),r=!0)},o(s){A(e.$$.fragment,s),A(i.$$.fragment,s),r=!1},d(s){s&&M(o),Y(e,s),Y(i,s)}}}function wa(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function cv(t){const e=JSON.parse(t);return e.townInfo!=null&&e.difficulty!=null}function dv(t,e,n){let o,i,r,l,a;se(t,vt,$=>n(2,o=$)),se(t,Qt,$=>n(22,i=$)),se(t,De,$=>n(1,r=$)),se(t,ql,$=>n(16,l=$)),se(t,yi,$=>n(3,a=$));const u=Nn[r.endGoal],f=sl[r.difficulty]||0;ct.sort(($,E)=>h($.id)&&!h(E.id)?-1:!h($.id)&&h(E.id)?1:0);const c=ct.filter($=>h($.id));function d($){const E=i.achievements.find(w=>w[0]==$);return E==null?0:`${E[1]} in ${E[2]}.`}function m($){const E=i.achievements.find(w=>w[0]==$);return E==null?!1:E[3]}function p($){const E=i.achievements.find(T=>T[0]==$);if(E==null)return;const w=ct.find(T=>T.id==$);w!=null&&(Pe(De,r.townInfo.gold+=w.prize,r),E[3]=!0,Pe(Qt,i.achievements=i.achievements.map(T=>T[0]==$?E:T),i))}let _=ct;function g(){const $=JSON.stringify(r),E=new Blob([$],{type:"text/plain"}),w=URL.createObjectURL(E),T=document.createElement("a");T.href=w,T.download=`${new Date().toISOString()}.json`,document.body.appendChild(T),T.click(),document.body.removeChild(T),URL.revokeObjectURL(w)}function v($){const E=$.target.files;if(E==null)return;const w=E[0],T=new FileReader;T.onload=function(B){if(B.target==null)return;const V=B.target.result;if(typeof V=="string"){if(!cv(V)){ht.set("Invalid game file");return}bi(JSON.parse(V))}else ht.set("Invalid game file: is not String.")},T.readAsText(w)}function h($){return i.achievements==null?!1:i.achievements.find(E=>E[0]==$)!=null}function k(){ql.update($=>!$),localStorage.setItem("showCompletedAchievements",localStorage.getItem("showCompletedAchievements")==="true"?"false":"true")}localStorage.getItem("pauseMenuTab")==null&&(localStorage.setItem("pauseMenuTab","game"),Mf.set("game"));function S(){const $=i.achievements[i.achievements.length-1];if($!=null)return ct.find(E=>E.id==$[0])}function I(){Pe(vt,o=!0,o),localStorage.setItem("reset","true"),bi()}const O=()=>{const $=document.createElement("input");$.type="file",$.onchange=E=>v(E),$.click()},D=$=>{p($.id);const E=document.getElementById(`collectPrize-${$.id}`);E&&(E.style.display="none")};function j($){o=$,vt.set(o)}const q=()=>{Pe(yi,a=!1,a)};return t.$$.update=()=>{if(t.$$.dirty&65539&&r)if(l)n(0,_=ct);else{n(0,_=[]);for(let $=0;$<ct.length;$++)(!h(ct[$].id)||!m(ct[$].id))&&_.push(ct[$])}},[_,r,o,a,u,f,c,d,m,p,g,v,h,S,I,k,l,O,D,j,q]}class mv extends me{constructor(e){super(),de(this,e,dv,fv,ce,{toggleShowCompleted:15})}get toggleShowCompleted(){return this.$$.ctx[15]}}function pv(){console.log("%cRUNNING STABILITY TESTS...","color: #26bfa5;");let t=0;return console.log("%cPASSED ALL STABILITY TESTS 😍","color: #26bfa5;"),t}function hv(t){let e=t[0].endGameDetails.win==!0?"You won! 🎉":"You lost! 😭",n;return{c(){n=G(e)},m(o,i){N(o,n,i)},p(o,i){i&1&&e!==(e=o[0].endGameDetails.win==!0?"You won! 🎉":"You lost! 😭")&&ue(n,e)},d(o){o&&M(n)}}}function _v(t){let e;return{c(){e=G("Keep playin'")},m(n,o){N(n,e,o)},d(n){n&&M(e)}}}function gv(t){let e,n=t[0].endGameDetails.msg+"",o,i,r,l,a,s,u,f;return u=new Gt({props:{class:"bg-accent",$$slots:{default:[_v]},$$scope:{ctx:t}}}),u.$on("click",t[2]),{c(){e=P("span"),o=G(n),i=F(),r=P("br"),l=F(),a=P("br"),s=F(),x(u.$$.fragment),R(e,"class","text-gray-500 text-sm")},m(c,d){N(c,e,d),y(e,o),N(c,i,d),N(c,r,d),N(c,l,d),N(c,a,d),N(c,s,d),W(u,c,d),f=!0},p(c,d){(!f||d&1)&&n!==(n=c[0].endGameDetails.msg+"")&&ue(o,n);const m={};d&16&&(m.$$scope={dirty:d,ctx:c}),u.$set(m)},i(c){f||(C(u.$$.fragment,c),f=!0)},o(c){A(u.$$.fragment,c),f=!1},d(c){c&&(M(e),M(i),M(r),M(l),M(a),M(s)),Y(u,c)}}}function bv(t){let e,n,o,i;return e=new qn({props:{$$slots:{default:[hv]},$$scope:{ctx:t}}}),o=new mo({props:{$$slots:{default:[gv]},$$scope:{ctx:t}}}),{c(){x(e.$$.fragment),n=F(),x(o.$$.fragment)},m(r,l){W(e,r,l),N(r,n,l),W(o,r,l),i=!0},p(r,l){const a={};l&17&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&17&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){A(e.$$.fragment,r),A(o.$$.fragment,r),i=!1},d(r){r&&M(n),Y(e,r),Y(o,r)}}}function vv(t){let e;return{c(){e=P("span"),e.textContent="Reset the game by pressing SHIFT+ESC",R(e,"class","text-gray-500 text-sm")},m(n,o){N(n,e,o)},p:Ce,d(n){n&&M(e)}}}function yv(t){let e,n,o,i;return e=new Fn({props:{$$slots:{default:[bv]},$$scope:{ctx:t}}}),o=new co({props:{$$slots:{default:[vv]},$$scope:{ctx:t}}}),{c(){x(e.$$.fragment),n=F(),x(o.$$.fragment)},m(r,l){W(e,r,l),N(r,n,l),W(o,r,l),i=!0},p(r,l){const a={};l&17&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&16&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){A(e.$$.fragment,r),A(o.$$.fragment,r),i=!1},d(r){r&&M(n),Y(e,r),Y(o,r)}}}function wv(t){let e,n;return e=new Bn({props:{class:"bg-foregroundDark text-accentText",$$slots:{default:[yv]},$$scope:{ctx:t}}}),{c(){x(e.$$.fragment)},m(o,i){W(e,o,i),n=!0},p(o,i){const r={};i&17&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){A(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function kv(t){let e,n,o;function i(l){t[3](l)}let r={$$slots:{default:[wv]},$$scope:{ctx:t}};return t[1]!==void 0&&(r.open=t[1]),e=new jn({props:r}),Ee.push(()=>_n(e,"open",i)),{c(){x(e.$$.fragment)},m(l,a){W(e,l,a),o=!0},p(l,[a]){const s={};a&17&&(s.$$scope={dirty:a,ctx:l}),!n&&a&2&&(n=!0,s.open=l[1],hn(()=>n=!1)),e.$set(s)},i(l){o||(C(e.$$.fragment,l),o=!0)},o(l){A(e.$$.fragment,l),o=!1},d(l){Y(e,l)}}}function Cv(t,e,n){let o;se(t,De,a=>n(0,o=a));let i=!1;function r(){let a=o;a.overtime=!0,De.set(a),n(1,i=!1),vt.set(!1)}function l(a){i=a,n(1,i),n(0,o)}return t.$$.update=()=>{t.$$.dirty&1&&(o.endGameDetails.msg!=""&&o.overtime==!1?n(1,i=!0):n(1,i=!1))},[o,i,r,l]}class Av extends me{constructor(e){super(),de(this,e,Cv,kv,ce,{})}}function Tv(t){let e,n,o,i,r=[{class:n=qe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t[1])},t[2]],l={};for(let a=0;a<r.length;a+=1)l=J(l,r[a]);return{c(){e=P("input"),ae(e,l)},m(a,s){N(a,e,s),e.autofocus&&e.focus(),mi(e,t[0]),o||(i=[z(e,"input",t[17]),z(e,"blur",t[3]),z(e,"change",t[4]),z(e,"click",t[5]),z(e,"focus",t[6]),z(e,"focusin",t[7]),z(e,"focusout",t[8]),z(e,"keydown",t[9]),z(e,"keypress",t[10]),z(e,"keyup",t[11]),z(e,"mouseover",t[12]),z(e,"mouseenter",t[13]),z(e,"mouseleave",t[14]),z(e,"paste",t[15]),z(e,"input",t[16])],o=!0)},p(a,[s]){ae(e,l=ve(r,[s&2&&n!==(n=qe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a[1]))&&{class:n},s&4&&a[2]])),s&1&&e.value!==a[0]&&mi(e,a[0])},i:Ce,o:Ce,d(a){a&&M(e),o=!1,je(i)}}}function Sv(t,e,n){const o=["class","value"];let i=le(e,o),{class:r=void 0}=e,{value:l=void 0}=e;function a(O){ie.call(this,t,O)}function s(O){ie.call(this,t,O)}function u(O){ie.call(this,t,O)}function f(O){ie.call(this,t,O)}function c(O){ie.call(this,t,O)}function d(O){ie.call(this,t,O)}function m(O){ie.call(this,t,O)}function p(O){ie.call(this,t,O)}function _(O){ie.call(this,t,O)}function g(O){ie.call(this,t,O)}function v(O){ie.call(this,t,O)}function h(O){ie.call(this,t,O)}function k(O){ie.call(this,t,O)}function S(O){ie.call(this,t,O)}function I(){l=this.value,n(0,l)}return t.$$set=O=>{e=J(J({},e),Le(O)),n(2,i=le(e,o)),"class"in O&&n(1,r=O.class),"value"in O&&n(0,l=O.value)},[l,r,i,a,s,u,f,c,d,m,p,_,g,v,h,k,S,I]}class Iv extends me{constructor(e){super(),de(this,e,Sv,Tv,ce,{class:1,value:0})}}function Ov(t){let e;const n=t[2].default,o=pe(n,t,t[4],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&16)&&_e(o,n,i,i[4],e?he(n,i[4],r,null):ge(i[4]),null)},i(i){e||(C(o,i),e=!0)},o(i){A(o,i),e=!1},d(i){o&&o.d(i)}}}function Mv(t){let e,n;const o=[{class:qe("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",t[0])},t[1]];let i={$$slots:{default:[Ov]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=J(i,o[r]);return e=new _g({props:i}),e.$on("mousedown",t[3]),{c(){x(e.$$.fragment)},m(r,l){W(e,r,l),n=!0},p(r,[l]){const a=l&3?ve(o,[l&1&&{class:qe("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",r[0])},l&2&&st(r[1])]):{};l&16&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){A(e.$$.fragment,r),n=!1},d(r){Y(e,r)}}}function Pv(t,e,n){const o=["class"];let i=le(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(u){ie.call(this,t,u)}return t.$$set=u=>{e=J(J({},e),Le(u)),n(1,i=le(e,o)),"class"in u&&n(0,a=u.class),"$$scope"in u&&n(4,l=u.$$scope)},[a,i,r,s,l]}class vr extends me{constructor(e){super(),de(this,e,Pv,Mv,ce,{class:0})}}function Nv(t){let e;return{c(){e=G("Welcome to Plots!")},m(n,o){N(n,e,o)},d(n){n&&M(e)}}}function Ev(t){let e;return{c(){e=G("Select a game mode")},m(n,o){N(n,e,o)},d(n){n&&M(e)}}}function Rv(t){let e;return{c(){e=P("p"),e.textContent=`${Nn.free_play.description_title}`,R(e,"class","text-gray-500 text-sm")},m(n,o){N(n,e,o)},d(n){n&&M(e)}}}function Lv(t){let e;return{c(){e=P("p"),e.textContent=`${Nn.land.description_title}`,R(e,"class","text-gray-500 text-sm")},m(n,o){N(n,e,o)},d(n){n&&M(e)}}}function Dv(t){let e;return{c(){e=G("Town Name")},m(n,o){N(n,e,o)},d(n){n&&M(e)}}}function $v(t){let e;return{c(){e=G("Other game settings")},m(n,o){N(n,e,o)},d(n){n&&M(e)}}}function qv(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,p,_,g,v,h,k,S,I,O,D,j,q,$,E,w,T,B=Wv;l=new vr({props:{for:"endGoal",class:"mt-2",$$slots:{default:[Ev]},$$scope:{ctx:t}}});function V(Q,Z){return Q[0]==="land"?Lv:Rv}let L=V(t),U=L(t);return p=new vr({props:{for:"townName",class:"mt-2",$$slots:{default:[Dv]},$$scope:{ctx:t}}}),g=new Iv({props:{id:"townName",class:"mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Will be randomized if you leave blank"}}),h=new vr({props:{for:"difficulty",class:"mt-2",$$slots:{default:[$v]},$$scope:{ctx:t}}}),{c(){e=P("a"),e.textContent="GitHub / Learn how to play",n=F(),o=P("div"),i=F(),r=P("div"),x(l.$$.fragment),a=F(),U.c(),s=F(),u=P("select"),f=P("option"),f.textContent=`${Nn.land.short_title}`,c=P("option"),c.textContent=`${Nn.free_play.short_title}`,d=F(),m=P("div"),x(p.$$.fragment),_=F(),x(g.$$.fragment),v=F(),x(h.$$.fragment),k=F(),S=P("div"),S.innerHTML='<input type="checkbox" id="devMode" class="mt-1"/> <label for="devMode" class="mt-2 svelte-1exvv8p">Dev mode</label>',I=F(),O=P("div"),O.innerHTML=`<input type="checkbox" id="tomPetty" class="mt-1"/> <label for="tomPetty" class="mt-2 svelte-1exvv8p">The &#39;Tom Petty&#39; mode. If your happiness or health reaches 0, you
              lose 90% of your gold and continue the game. You won&#39;t back down.</label>`,D=F(),j=P("div"),j.innerHTML=`<input type="checkbox" id="casual" class="mt-1"/> <label for="casual" class="mt-2 svelte-1exvv8p">Casual game. Faster and easier overall while exposing more of the
              game mechanics.</label>`,q=F(),$=P("div"),$.innerHTML='<input type="checkbox" id="bagOfHolding" class="mt-1"/> <label for="bagOfHolding" class="mt-2 svelte-1exvv8p">Bag of Holding. No resource cap or need to purchase stockpiles.</label>',R(e,"href","https://github.com/josephrcox/plots#how-to-play"),R(e,"class","text-blue-500 text-sm mb-4 hover:underline"),R(e,"target","_blank"),f.__value="land",mi(f,f.__value),c.__value="free_play",mi(c,c.__value),R(u,"id","endGoal"),R(u,"class","mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),R(S,"class","hidden"),R(o,"class","flex flex-col justify-center gap-5 mt-4")},m(Q,Z){N(Q,e,Z),N(Q,n,Z),N(Q,o,Z),y(o,i),y(o,r),W(l,r,null),y(r,a),U.m(r,null),y(r,s),y(r,u),y(u,f),y(u,c),El(u,t[0]),y(o,d),y(o,m),W(p,m,null),y(m,_),W(g,m,null),y(o,v),W(h,o,null),y(o,k),y(o,S),y(o,I),y(o,O),y(o,D),y(o,j),y(o,q),y(o,$),E=!0,w||(T=z(u,"change",t[4]),w=!0)},p(Q,Z){const te={};Z&256&&(te.$$scope={dirty:Z,ctx:Q}),l.$set(te),L!==(L=V(Q))&&(U.d(1),U=L(Q),U&&(U.c(),U.m(r,s))),(!E||Z&1)&&El(u,Q[0]);const ee={};Z&256&&(ee.$$scope={dirty:Z,ctx:Q}),p.$set(ee);const fe={};Z&256&&(fe.$$scope={dirty:Z,ctx:Q}),h.$set(fe)},i(Q){E||(C(B),C(l.$$.fragment,Q),C(p.$$.fragment,Q),C(g.$$.fragment,Q),C(h.$$.fragment,Q),E=!0)},o(Q){A(B),A(l.$$.fragment,Q),A(p.$$.fragment,Q),A(g.$$.fragment,Q),A(h.$$.fragment,Q),E=!1},d(Q){Q&&(M(e),M(n),M(o)),Y(l),U.d(),Y(p),Y(g),Y(h),w=!1,T()}}}function Fv(t){let e,n,o,i;return e=new qn({props:{$$slots:{default:[Nv]},$$scope:{ctx:t}}}),o=new mo({props:{$$slots:{default:[qv]},$$scope:{ctx:t}}}),{c(){x(e.$$.fragment),n=F(),x(o.$$.fragment)},m(r,l){W(e,r,l),N(r,n,l),W(o,r,l),i=!0},p(r,l){const a={};l&256&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&257&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){A(e.$$.fragment,r),A(o.$$.fragment,r),i=!1},d(r){r&&M(n),Y(e,r),Y(o,r)}}}function Bv(t){let e;return{c(){e=G("Reset user")},m(n,o){N(n,e,o)},d(n){n&&M(e)}}}function jv(t){let e,n,o=t[1].username+"",i,r,l,a,s,u,f,c,d;return a=new Gt({props:{$$slots:{default:[Bv]},$$scope:{ctx:t}}}),a.$on("click",t[5]),{c(){e=P("div"),n=P("span"),i=G(o),r=F(),l=P("div"),x(a.$$.fragment),s=F(),u=P("button"),u.textContent="Start game",R(n,"class","opacity-30 text-xs py-2 text-start rounded h-full flex flex-col justify-center mr-10"),R(u,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-md"),R(e,"class","flex flex-row justify-between w-full px-1")},m(m,p){N(m,e,p),y(e,n),y(n,i),y(e,r),y(e,l),W(a,l,null),y(l,s),y(l,u),f=!0,c||(d=[z(n,"click",t[6]),z(u,"click",t[3])],c=!0)},p(m,p){(!f||p&2)&&o!==(o=m[1].username+"")&&ue(i,o);const _={};p&256&&(_.$$scope={dirty:p,ctx:m}),a.$set(_)},i(m){f||(C(a.$$.fragment,m),f=!0)},o(m){A(a.$$.fragment,m),f=!1},d(m){m&&M(e),Y(a),c=!1,je(d)}}}function Hv(t){let e,n,o,i;return e=new Fn({props:{$$slots:{default:[Fv]},$$scope:{ctx:t}}}),o=new co({props:{$$slots:{default:[jv]},$$scope:{ctx:t}}}),{c(){x(e.$$.fragment),n=F(),x(o.$$.fragment)},m(r,l){W(e,r,l),N(r,n,l),W(o,r,l),i=!0},p(r,l){const a={};l&257&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&258&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){A(e.$$.fragment,r),A(o.$$.fragment,r),i=!1},d(r){r&&M(n),Y(e,r),Y(o,r)}}}function Gv(t){let e,n;return e=new Bn({props:{transition:Yi,class:"bg-foregroundDark text-accentText",$$slots:{default:[Hv]},$$scope:{ctx:t}}}),{c(){x(e.$$.fragment)},m(o,i){W(e,o,i),n=!0},p(o,i){const r={};i&259&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){A(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function Vv(t){let e,n,o;function i(l){t[7](l)}let r={$$slots:{default:[Gv]},$$scope:{ctx:t}};return t[2].visible!==void 0&&(r.open=t[2].visible),e=new jn({props:r}),Ee.push(()=>_n(e,"open",i)),{c(){x(e.$$.fragment)},m(l,a){W(e,l,a),o=!0},p(l,[a]){const s={};a&259&&(s.$$scope={dirty:a,ctx:l}),!n&&a&4&&(n=!0,s.open=l[2].visible,hn(()=>n=!1)),e.$set(s)},i(l){o||(C(e.$$.fragment,l),o=!0)},o(l){A(e.$$.fragment,l),o=!1},d(l){Y(e,l)}}}const Wv=!1;function Yv(t,e,n){let o,i;se(t,Qt,c=>n(1,o=c)),se(t,Eo,c=>n(2,i=c)),vt.set(!1);function r(){const c="1",d=document.getElementById("endGoal").value,m=document.getElementById("townName").value,_=["devMode","tomPetty","casual","bagOfHolding"].filter(h=>document.getElementById(h).checked);Ed(c,d,m,_)}let l="free_play";const a=c=>{n(0,l=c.target.value)};function s(){ht.set("Deleted :)"),localStorage.clear(),window.location.href=""}function u(){const c=prompt("Enter new username");let d=o;d.username=c,Dd(d)}function f(c){t.$$.not_equal(i.visible,c)&&(i.visible=c,Eo.set(i))}return[l,o,i,r,a,s,u,f]}class xv extends me{constructor(e){super(),de(this,e,Yv,Vv,ce,{})}}function Uv(t){let e;return{c(){e=G("Scoreboard")},m(n,o){N(n,e,o)},d(n){n&&M(e)}}}function Kv(t){let e=t[1].description_title+"",n;return{c(){n=G(e)},m(o,i){N(o,n,i)},p:Ce,d(o){o&&M(n)}}}function Xv(t){let e,n,o,i;return e=new qn({props:{$$slots:{default:[Uv]},$$scope:{ctx:t}}}),o=new mo({props:{$$slots:{default:[Kv]},$$scope:{ctx:t}}}),{c(){x(e.$$.fragment),n=F(),x(o.$$.fragment)},m(r,l){W(e,r,l),N(r,n,l),W(o,r,l),i=!0},p(r,l){const a={};l&128&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&128&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){A(e.$$.fragment,r),A(o.$$.fragment,r),i=!1},d(r){r&&M(n),Y(e,r),Y(o,r)}}}function Jv(t){let e;return{c(){e=G("footer")},m(n,o){N(n,e,o)},d(n){n&&M(e)}}}function Zv(t){let e,n,o,i;return e=new Fn({props:{$$slots:{default:[Xv]},$$scope:{ctx:t}}}),o=new co({props:{$$slots:{default:[Jv]},$$scope:{ctx:t}}}),{c(){x(e.$$.fragment),n=G(`
		hi
		`),x(o.$$.fragment)},m(r,l){W(e,r,l),N(r,n,l),W(o,r,l),i=!0},p(r,l){const a={};l&128&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&128&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){A(e.$$.fragment,r),A(o.$$.fragment,r),i=!1},d(r){r&&M(n),Y(e,r),Y(o,r)}}}function Qv(t){let e,n;return e=new Bn({props:{$$slots:{default:[Zv]},$$scope:{ctx:t}}}),{c(){x(e.$$.fragment)},m(o,i){W(e,o,i),n=!0},p(o,i){const r={};i&128&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){A(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function zv(t){let e,n,o;function i(l){t[3](l)}let r={$$slots:{default:[Qv]},$$scope:{ctx:t}};return t[0]!==void 0&&(r.open=t[0]),e=new jn({props:r}),Ee.push(()=>_n(e,"open",i)),{c(){x(e.$$.fragment)},m(l,a){W(e,l,a),o=!0},p(l,[a]){const s={};a&128&&(s.$$scope={dirty:a,ctx:l}),!n&&a&1&&(n=!0,s.open=l[0],hn(()=>n=!1)),e.$set(s)},i(l){o||(C(e.$$.fragment,l),o=!0)},o(l){A(e.$$.fragment,l),o=!1},d(l){Y(e,l)}}}function ey(t,e,n){let o,i;se(t,De,s=>n(2,o=s)),se(t,$l,s=>n(0,i=s));const l=Nn[o.endGoal];sl[o.difficulty];function a(s){i=s,$l.set(i)}return t.$$.update=()=>{t.$$.dirty&4},[i,l,o,a]}class ty extends me{constructor(e){super(),de(this,e,ey,zv,ce,{})}}function ai(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ny(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function wc(t){let e,n,o;t.length!==2?(e=ai,n=(a,s)=>ai(t(a),s),o=(a,s)=>t(a)-s):(e=t===ai||t===ny?t:oy,n=t,o=t);function i(a,s,u=0,f=a.length){if(u<f){if(e(s,s)!==0)return f;do{const c=u+f>>>1;n(a[c],s)<0?u=c+1:f=c}while(u<f)}return u}function r(a,s,u=0,f=a.length){if(u<f){if(e(s,s)!==0)return f;do{const c=u+f>>>1;n(a[c],s)<=0?u=c+1:f=c}while(u<f)}return u}function l(a,s,u=0,f=a.length){const c=i(a,s,u,f-1);return c>u&&o(a[c-1],s)>-o(a[c],s)?c-1:c}return{left:i,center:l,right:r}}function oy(){return 0}function iy(t){return t===null?NaN:+t}const ry=wc(ai),ly=ry.right;wc(iy).center;const sy=Math.sqrt(50),ay=Math.sqrt(10),uy=Math.sqrt(2);function Mi(t,e,n){const o=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(o)),r=o/Math.pow(10,i),l=r>=sy?10:r>=ay?5:r>=uy?2:1;let a,s,u;return i<0?(u=Math.pow(10,-i)/l,a=Math.round(t*u),s=Math.round(e*u),a/u<t&&++a,s/u>e&&--s,u=-u):(u=Math.pow(10,i)*l,a=Math.round(t/u),s=Math.round(e/u),a*u<t&&++a,s*u>e&&--s),s<a&&.5<=n&&n<2?Mi(t,e,n*2):[a,s,u]}function fy(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const o=e<t,[i,r,l]=o?Mi(e,t,n):Mi(t,e,n);if(!(r>=i))return[];const a=r-i+1,s=new Array(a);if(o)if(l<0)for(let u=0;u<a;++u)s[u]=(r-u)/-l;else for(let u=0;u<a;++u)s[u]=(r-u)*l;else if(l<0)for(let u=0;u<a;++u)s[u]=(i+u)/-l;else for(let u=0;u<a;++u)s[u]=(i+u)*l;return s}function Hr(t,e,n){return e=+e,t=+t,n=+n,Mi(t,e,n)[2]}function cy(t,e,n){e=+e,t=+t,n=+n;const o=e<t,i=o?Hr(e,t,n):Hr(t,e,n);return(o?-1:1)*(i<0?1/-i:i)}function dy(t){return t}var yr=1,wr=2,Gr=3,Io=4,ka=1e-6;function my(t){return"translate("+t+",0)"}function py(t){return"translate(0,"+t+")"}function hy(t){return e=>+t(e)}function _y(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function gy(){return!this.__axis}function kc(t,e){var n=[],o=null,i=null,r=6,l=6,a=3,s=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=t===yr||t===Io?-1:1,f=t===Io||t===wr?"x":"y",c=t===yr||t===Gr?my:py;function d(m){var p=o??(e.ticks?e.ticks.apply(e,n):e.domain()),_=i??(e.tickFormat?e.tickFormat.apply(e,n):dy),g=Math.max(r,0)+a,v=e.range(),h=+v[0]+s,k=+v[v.length-1]+s,S=(e.bandwidth?_y:hy)(e.copy(),s),I=m.selection?m.selection():m,O=I.selectAll(".domain").data([null]),D=I.selectAll(".tick").data(p,e).order(),j=D.exit(),q=D.enter().append("g").attr("class","tick"),$=D.select("line"),E=D.select("text");O=O.merge(O.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),D=D.merge(q),$=$.merge(q.append("line").attr("stroke","currentColor").attr(f+"2",u*r)),E=E.merge(q.append("text").attr("fill","currentColor").attr(f,u*g).attr("dy",t===yr?"0em":t===Gr?"0.71em":"0.32em")),m!==I&&(O=O.transition(m),D=D.transition(m),$=$.transition(m),E=E.transition(m),j=j.transition(m).attr("opacity",ka).attr("transform",function(w){return isFinite(w=S(w))?c(w+s):this.getAttribute("transform")}),q.attr("opacity",ka).attr("transform",function(w){var T=this.parentNode.__axis;return c((T&&isFinite(T=T(w))?T:S(w))+s)})),j.remove(),O.attr("d",t===Io||t===wr?l?"M"+u*l+","+h+"H"+s+"V"+k+"H"+u*l:"M"+s+","+h+"V"+k:l?"M"+h+","+u*l+"V"+s+"H"+k+"V"+u*l:"M"+h+","+s+"H"+k),D.attr("opacity",1).attr("transform",function(w){return c(S(w)+s)}),$.attr(f+"2",u*r),E.attr(f,u*g).text(_),I.filter(gy).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===wr?"start":t===Io?"end":"middle"),I.each(function(){this.__axis=S})}return d.scale=function(m){return arguments.length?(e=m,d):e},d.ticks=function(){return n=Array.from(arguments),d},d.tickArguments=function(m){return arguments.length?(n=m==null?[]:Array.from(m),d):n.slice()},d.tickValues=function(m){return arguments.length?(o=m==null?null:Array.from(m),d):o&&o.slice()},d.tickFormat=function(m){return arguments.length?(i=m,d):i},d.tickSize=function(m){return arguments.length?(r=l=+m,d):r},d.tickSizeInner=function(m){return arguments.length?(r=+m,d):r},d.tickSizeOuter=function(m){return arguments.length?(l=+m,d):l},d.tickPadding=function(m){return arguments.length?(a=+m,d):a},d.offset=function(m){return arguments.length?(s=+m,d):s},d}function by(t){return kc(Gr,t)}function vy(t){return kc(Io,t)}var yy={value:()=>{}};function Cc(){for(var t=0,e=arguments.length,n={},o;t<e;++t){if(!(o=arguments[t]+"")||o in n||/[\s.]/.test(o))throw new Error("illegal type: "+o);n[o]=[]}return new ui(n)}function ui(t){this._=t}function wy(t,e){return t.trim().split(/^|\s+/).map(function(n){var o="",i=n.indexOf(".");if(i>=0&&(o=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:o}})}ui.prototype=Cc.prototype={constructor:ui,on:function(t,e){var n=this._,o=wy(t+"",n),i,r=-1,l=o.length;if(arguments.length<2){for(;++r<l;)if((i=(t=o[r]).type)&&(i=ky(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++r<l;)if(i=(t=o[r]).type)n[i]=Ca(n[i],t.name,e);else if(e==null)for(i in n)n[i]=Ca(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new ui(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),o=0,i,r;o<i;++o)n[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=this._[t],o=0,i=r.length;o<i;++o)r[o].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var o=this._[t],i=0,r=o.length;i<r;++i)o[i].value.apply(e,n)}};function ky(t,e){for(var n=0,o=t.length,i;n<o;++n)if((i=t[n]).name===e)return i.value}function Ca(t,e,n){for(var o=0,i=t.length;o<i;++o)if(t[o].name===e){t[o]=yy,t=t.slice(0,o).concat(t.slice(o+1));break}return n!=null&&t.push({name:e,value:n}),t}var Vr="http://www.w3.org/1999/xhtml";const Aa={svg:"http://www.w3.org/2000/svg",xhtml:Vr,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function tr(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Aa.hasOwnProperty(e)?{space:Aa[e],local:t}:t}function Cy(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Vr&&e.documentElement.namespaceURI===Vr?e.createElement(t):e.createElementNS(n,t)}}function Ay(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Ac(t){var e=tr(t);return(e.local?Ay:Cy)(e)}function Ty(){}function wl(t){return t==null?Ty:function(){return this.querySelector(t)}}function Sy(t){typeof t!="function"&&(t=wl(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var r=e[i],l=r.length,a=o[i]=new Array(l),s,u,f=0;f<l;++f)(s=r[f])&&(u=t.call(s,s.__data__,f,r))&&("__data__"in s&&(u.__data__=s.__data__),a[f]=u);return new St(o,this._parents)}function Iy(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Oy(){return[]}function Tc(t){return t==null?Oy:function(){return this.querySelectorAll(t)}}function My(t){return function(){return Iy(t.apply(this,arguments))}}function Py(t){typeof t=="function"?t=My(t):t=Tc(t);for(var e=this._groups,n=e.length,o=[],i=[],r=0;r<n;++r)for(var l=e[r],a=l.length,s,u=0;u<a;++u)(s=l[u])&&(o.push(t.call(s,s.__data__,u,l)),i.push(s));return new St(o,i)}function Sc(t){return function(){return this.matches(t)}}function Ic(t){return function(e){return e.matches(t)}}var Ny=Array.prototype.find;function Ey(t){return function(){return Ny.call(this.children,t)}}function Ry(){return this.firstElementChild}function Ly(t){return this.select(t==null?Ry:Ey(typeof t=="function"?t:Ic(t)))}var Dy=Array.prototype.filter;function $y(){return Array.from(this.children)}function qy(t){return function(){return Dy.call(this.children,t)}}function Fy(t){return this.selectAll(t==null?$y:qy(typeof t=="function"?t:Ic(t)))}function By(t){typeof t!="function"&&(t=Sc(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var r=e[i],l=r.length,a=o[i]=[],s,u=0;u<l;++u)(s=r[u])&&t.call(s,s.__data__,u,r)&&a.push(s);return new St(o,this._parents)}function Oc(t){return new Array(t.length)}function jy(){return new St(this._enter||this._groups.map(Oc),this._parents)}function Pi(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Pi.prototype={constructor:Pi,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Hy(t){return function(){return t}}function Gy(t,e,n,o,i,r){for(var l=0,a,s=e.length,u=r.length;l<u;++l)(a=e[l])?(a.__data__=r[l],o[l]=a):n[l]=new Pi(t,r[l]);for(;l<s;++l)(a=e[l])&&(i[l]=a)}function Vy(t,e,n,o,i,r,l){var a,s,u=new Map,f=e.length,c=r.length,d=new Array(f),m;for(a=0;a<f;++a)(s=e[a])&&(d[a]=m=l.call(s,s.__data__,a,e)+"",u.has(m)?i[a]=s:u.set(m,s));for(a=0;a<c;++a)m=l.call(t,r[a],a,r)+"",(s=u.get(m))?(o[a]=s,s.__data__=r[a],u.delete(m)):n[a]=new Pi(t,r[a]);for(a=0;a<f;++a)(s=e[a])&&u.get(d[a])===s&&(i[a]=s)}function Wy(t){return t.__data__}function Yy(t,e){if(!arguments.length)return Array.from(this,Wy);var n=e?Vy:Gy,o=this._parents,i=this._groups;typeof t!="function"&&(t=Hy(t));for(var r=i.length,l=new Array(r),a=new Array(r),s=new Array(r),u=0;u<r;++u){var f=o[u],c=i[u],d=c.length,m=xy(t.call(f,f&&f.__data__,u,o)),p=m.length,_=a[u]=new Array(p),g=l[u]=new Array(p),v=s[u]=new Array(d);n(f,c,_,g,v,m,e);for(var h=0,k=0,S,I;h<p;++h)if(S=_[h]){for(h>=k&&(k=h+1);!(I=g[k])&&++k<p;);S._next=I||null}}return l=new St(l,o),l._enter=a,l._exit=s,l}function xy(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Uy(){return new St(this._exit||this._groups.map(Oc),this._parents)}function Ky(t,e,n){var o=this.enter(),i=this,r=this.exit();return typeof t=="function"?(o=t(o),o&&(o=o.selection())):o=o.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?r.remove():n(r),o&&i?o.merge(i).order():i}function Xy(t){for(var e=t.selection?t.selection():t,n=this._groups,o=e._groups,i=n.length,r=o.length,l=Math.min(i,r),a=new Array(i),s=0;s<l;++s)for(var u=n[s],f=o[s],c=u.length,d=a[s]=new Array(c),m,p=0;p<c;++p)(m=u[p]||f[p])&&(d[p]=m);for(;s<i;++s)a[s]=n[s];return new St(a,this._parents)}function Jy(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var o=t[e],i=o.length-1,r=o[i],l;--i>=0;)(l=o[i])&&(r&&l.compareDocumentPosition(r)^4&&r.parentNode.insertBefore(l,r),r=l);return this}function Zy(t){t||(t=Qy);function e(c,d){return c&&d?t(c.__data__,d.__data__):!c-!d}for(var n=this._groups,o=n.length,i=new Array(o),r=0;r<o;++r){for(var l=n[r],a=l.length,s=i[r]=new Array(a),u,f=0;f<a;++f)(u=l[f])&&(s[f]=u);s.sort(e)}return new St(i,this._parents).order()}function Qy(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function zy(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function ew(){return Array.from(this)}function tw(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var o=t[e],i=0,r=o.length;i<r;++i){var l=o[i];if(l)return l}return null}function nw(){let t=0;for(const e of this)++t;return t}function ow(){return!this.node()}function iw(t){for(var e=this._groups,n=0,o=e.length;n<o;++n)for(var i=e[n],r=0,l=i.length,a;r<l;++r)(a=i[r])&&t.call(a,a.__data__,r,i);return this}function rw(t){return function(){this.removeAttribute(t)}}function lw(t){return function(){this.removeAttributeNS(t.space,t.local)}}function sw(t,e){return function(){this.setAttribute(t,e)}}function aw(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function uw(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function fw(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function cw(t,e){var n=tr(t);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((e==null?n.local?lw:rw:typeof e=="function"?n.local?fw:uw:n.local?aw:sw)(n,e))}function Mc(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function dw(t){return function(){this.style.removeProperty(t)}}function mw(t,e,n){return function(){this.style.setProperty(t,e,n)}}function pw(t,e,n){return function(){var o=e.apply(this,arguments);o==null?this.style.removeProperty(t):this.style.setProperty(t,o,n)}}function hw(t,e,n){return arguments.length>1?this.each((e==null?dw:typeof e=="function"?pw:mw)(t,e,n??"")):oo(this.node(),t)}function oo(t,e){return t.style.getPropertyValue(e)||Mc(t).getComputedStyle(t,null).getPropertyValue(e)}function _w(t){return function(){delete this[t]}}function gw(t,e){return function(){this[t]=e}}function bw(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function vw(t,e){return arguments.length>1?this.each((e==null?_w:typeof e=="function"?bw:gw)(t,e)):this.node()[t]}function Pc(t){return t.trim().split(/^|\s+/)}function kl(t){return t.classList||new Nc(t)}function Nc(t){this._node=t,this._names=Pc(t.getAttribute("class")||"")}Nc.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Ec(t,e){for(var n=kl(t),o=-1,i=e.length;++o<i;)n.add(e[o])}function Rc(t,e){for(var n=kl(t),o=-1,i=e.length;++o<i;)n.remove(e[o])}function yw(t){return function(){Ec(this,t)}}function ww(t){return function(){Rc(this,t)}}function kw(t,e){return function(){(e.apply(this,arguments)?Ec:Rc)(this,t)}}function Cw(t,e){var n=Pc(t+"");if(arguments.length<2){for(var o=kl(this.node()),i=-1,r=n.length;++i<r;)if(!o.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?kw:e?yw:ww)(n,e))}function Aw(){this.textContent=""}function Tw(t){return function(){this.textContent=t}}function Sw(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Iw(t){return arguments.length?this.each(t==null?Aw:(typeof t=="function"?Sw:Tw)(t)):this.node().textContent}function Ow(){this.innerHTML=""}function Mw(t){return function(){this.innerHTML=t}}function Pw(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Nw(t){return arguments.length?this.each(t==null?Ow:(typeof t=="function"?Pw:Mw)(t)):this.node().innerHTML}function Ew(){this.nextSibling&&this.parentNode.appendChild(this)}function Rw(){return this.each(Ew)}function Lw(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Dw(){return this.each(Lw)}function $w(t){var e=typeof t=="function"?t:Ac(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function qw(){return null}function Fw(t,e){var n=typeof t=="function"?t:Ac(t),o=e==null?qw:typeof e=="function"?e:wl(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)})}function Bw(){var t=this.parentNode;t&&t.removeChild(this)}function jw(){return this.each(Bw)}function Hw(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Gw(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Vw(t){return this.select(t?Gw:Hw)}function Ww(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Yw(t){return function(e){t.call(this,e,this.__data__)}}function xw(t){return t.trim().split(/^|\s+/).map(function(e){var n="",o=e.indexOf(".");return o>=0&&(n=e.slice(o+1),e=e.slice(0,o)),{type:e,name:n}})}function Uw(t){return function(){var e=this.__on;if(e){for(var n=0,o=-1,i=e.length,r;n<i;++n)r=e[n],(!t.type||r.type===t.type)&&r.name===t.name?this.removeEventListener(r.type,r.listener,r.options):e[++o]=r;++o?e.length=o:delete this.__on}}}function Kw(t,e,n){return function(){var o=this.__on,i,r=Yw(e);if(o){for(var l=0,a=o.length;l<a;++l)if((i=o[l]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=r,i.options=n),i.value=e;return}}this.addEventListener(t.type,r,n),i={type:t.type,name:t.name,value:e,listener:r,options:n},o?o.push(i):this.__on=[i]}}function Xw(t,e,n){var o=xw(t+""),i,r=o.length,l;if(arguments.length<2){var a=this.node().__on;if(a){for(var s=0,u=a.length,f;s<u;++s)for(i=0,f=a[s];i<r;++i)if((l=o[i]).type===f.type&&l.name===f.name)return f.value}return}for(a=e?Kw:Uw,i=0;i<r;++i)this.each(a(o[i],e,n));return this}function Lc(t,e,n){var o=Mc(t),i=o.CustomEvent;typeof i=="function"?i=new i(e,n):(i=o.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Jw(t,e){return function(){return Lc(this,t,e)}}function Zw(t,e){return function(){return Lc(this,t,e.apply(this,arguments))}}function Qw(t,e){return this.each((typeof e=="function"?Zw:Jw)(t,e))}function*zw(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var o=t[e],i=0,r=o.length,l;i<r;++i)(l=o[i])&&(yield l)}var Dc=[null];function St(t,e){this._groups=t,this._parents=e}function xo(){return new St([[document.documentElement]],Dc)}function e2(){return this}St.prototype=xo.prototype={constructor:St,select:Sy,selectAll:Py,selectChild:Ly,selectChildren:Fy,filter:By,data:Yy,enter:jy,exit:Uy,join:Ky,merge:Xy,selection:e2,order:Jy,sort:Zy,call:zy,nodes:ew,node:tw,size:nw,empty:ow,each:iw,attr:cw,style:hw,property:vw,classed:Cw,text:Iw,html:Nw,raise:Rw,lower:Dw,append:$w,insert:Fw,remove:jw,clone:Vw,datum:Ww,on:Xw,dispatch:Qw,[Symbol.iterator]:zw};function t2(t){return typeof t=="string"?new St([[document.querySelector(t)]],[document.documentElement]):new St([[t]],Dc)}function Cl(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function $c(t,e){var n=Object.create(t.prototype);for(var o in e)n[o]=e[o];return n}function Uo(){}var jo=.7,Ni=1/jo,Zn="\\s*([+-]?\\d+)\\s*",Ho="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Bt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",n2=/^#([0-9a-f]{3,8})$/,o2=new RegExp(`^rgb\\(${Zn},${Zn},${Zn}\\)$`),i2=new RegExp(`^rgb\\(${Bt},${Bt},${Bt}\\)$`),r2=new RegExp(`^rgba\\(${Zn},${Zn},${Zn},${Ho}\\)$`),l2=new RegExp(`^rgba\\(${Bt},${Bt},${Bt},${Ho}\\)$`),s2=new RegExp(`^hsl\\(${Ho},${Bt},${Bt}\\)$`),a2=new RegExp(`^hsla\\(${Ho},${Bt},${Bt},${Ho}\\)$`),Ta={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Cl(Uo,En,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Sa,formatHex:Sa,formatHex8:u2,formatHsl:f2,formatRgb:Ia,toString:Ia});function Sa(){return this.rgb().formatHex()}function u2(){return this.rgb().formatHex8()}function f2(){return qc(this).formatHsl()}function Ia(){return this.rgb().formatRgb()}function En(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=n2.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Oa(e):n===3?new yt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?ti(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?ti(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=o2.exec(t))?new yt(e[1],e[2],e[3],1):(e=i2.exec(t))?new yt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=r2.exec(t))?ti(e[1],e[2],e[3],e[4]):(e=l2.exec(t))?ti(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=s2.exec(t))?Na(e[1],e[2]/100,e[3]/100,1):(e=a2.exec(t))?Na(e[1],e[2]/100,e[3]/100,e[4]):Ta.hasOwnProperty(t)?Oa(Ta[t]):t==="transparent"?new yt(NaN,NaN,NaN,0):null}function Oa(t){return new yt(t>>16&255,t>>8&255,t&255,1)}function ti(t,e,n,o){return o<=0&&(t=e=n=NaN),new yt(t,e,n,o)}function c2(t){return t instanceof Uo||(t=En(t)),t?(t=t.rgb(),new yt(t.r,t.g,t.b,t.opacity)):new yt}function Wr(t,e,n,o){return arguments.length===1?c2(t):new yt(t,e,n,o??1)}function yt(t,e,n,o){this.r=+t,this.g=+e,this.b=+n,this.opacity=+o}Cl(yt,Wr,$c(Uo,{brighter(t){return t=t==null?Ni:Math.pow(Ni,t),new yt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?jo:Math.pow(jo,t),new yt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new yt(An(this.r),An(this.g),An(this.b),Ei(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ma,formatHex:Ma,formatHex8:d2,formatRgb:Pa,toString:Pa}));function Ma(){return`#${wn(this.r)}${wn(this.g)}${wn(this.b)}`}function d2(){return`#${wn(this.r)}${wn(this.g)}${wn(this.b)}${wn((isNaN(this.opacity)?1:this.opacity)*255)}`}function Pa(){const t=Ei(this.opacity);return`${t===1?"rgb(":"rgba("}${An(this.r)}, ${An(this.g)}, ${An(this.b)}${t===1?")":`, ${t})`}`}function Ei(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function An(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function wn(t){return t=An(t),(t<16?"0":"")+t.toString(16)}function Na(t,e,n,o){return o<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Rt(t,e,n,o)}function qc(t){if(t instanceof Rt)return new Rt(t.h,t.s,t.l,t.opacity);if(t instanceof Uo||(t=En(t)),!t)return new Rt;if(t instanceof Rt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,o=t.b/255,i=Math.min(e,n,o),r=Math.max(e,n,o),l=NaN,a=r-i,s=(r+i)/2;return a?(e===r?l=(n-o)/a+(n<o)*6:n===r?l=(o-e)/a+2:l=(e-n)/a+4,a/=s<.5?r+i:2-r-i,l*=60):a=s>0&&s<1?0:l,new Rt(l,a,s,t.opacity)}function m2(t,e,n,o){return arguments.length===1?qc(t):new Rt(t,e,n,o??1)}function Rt(t,e,n,o){this.h=+t,this.s=+e,this.l=+n,this.opacity=+o}Cl(Rt,m2,$c(Uo,{brighter(t){return t=t==null?Ni:Math.pow(Ni,t),new Rt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?jo:Math.pow(jo,t),new Rt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*e,i=2*n-o;return new yt(kr(t>=240?t-240:t+120,i,o),kr(t,i,o),kr(t<120?t+240:t-120,i,o),this.opacity)},clamp(){return new Rt(Ea(this.h),ni(this.s),ni(this.l),Ei(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ei(this.opacity);return`${t===1?"hsl(":"hsla("}${Ea(this.h)}, ${ni(this.s)*100}%, ${ni(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Ea(t){return t=(t||0)%360,t<0?t+360:t}function ni(t){return Math.max(0,Math.min(1,t||0))}function kr(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Al=t=>()=>t;function p2(t,e){return function(n){return t+n*e}}function h2(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(o){return Math.pow(t+o*e,n)}}function _2(t){return(t=+t)==1?Fc:function(e,n){return n-e?h2(e,n,t):Al(isNaN(e)?n:e)}}function Fc(t,e){var n=e-t;return n?p2(t,n):Al(isNaN(t)?e:t)}const Ri=function t(e){var n=_2(e);function o(i,r){var l=n((i=Wr(i)).r,(r=Wr(r)).r),a=n(i.g,r.g),s=n(i.b,r.b),u=Fc(i.opacity,r.opacity);return function(f){return i.r=l(f),i.g=a(f),i.b=s(f),i.opacity=u(f),i+""}}return o.gamma=t,o}(1);function g2(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,o=e.slice(),i;return function(r){for(i=0;i<n;++i)o[i]=t[i]*(1-r)+e[i]*r;return o}}function b2(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function v2(t,e){var n=e?e.length:0,o=t?Math.min(n,t.length):0,i=new Array(o),r=new Array(n),l;for(l=0;l<o;++l)i[l]=Tl(t[l],e[l]);for(;l<n;++l)r[l]=e[l];return function(a){for(l=0;l<o;++l)r[l]=i[l](a);return r}}function y2(t,e){var n=new Date;return t=+t,e=+e,function(o){return n.setTime(t*(1-o)+e*o),n}}function Et(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function w2(t,e){var n={},o={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Tl(t[i],e[i]):o[i]=e[i];return function(r){for(i in n)o[i]=n[i](r);return o}}var Yr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Cr=new RegExp(Yr.source,"g");function k2(t){return function(){return t}}function C2(t){return function(e){return t(e)+""}}function Bc(t,e){var n=Yr.lastIndex=Cr.lastIndex=0,o,i,r,l=-1,a=[],s=[];for(t=t+"",e=e+"";(o=Yr.exec(t))&&(i=Cr.exec(e));)(r=i.index)>n&&(r=e.slice(n,r),a[l]?a[l]+=r:a[++l]=r),(o=o[0])===(i=i[0])?a[l]?a[l]+=i:a[++l]=i:(a[++l]=null,s.push({i:l,x:Et(o,i)})),n=Cr.lastIndex;return n<e.length&&(r=e.slice(n),a[l]?a[l]+=r:a[++l]=r),a.length<2?s[0]?C2(s[0].x):k2(e):(e=s.length,function(u){for(var f=0,c;f<e;++f)a[(c=s[f]).i]=c.x(u);return a.join("")})}function Tl(t,e){var n=typeof e,o;return e==null||n==="boolean"?Al(e):(n==="number"?Et:n==="string"?(o=En(e))?(e=o,Ri):Bc:e instanceof En?Ri:e instanceof Date?y2:b2(e)?g2:Array.isArray(e)?v2:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?w2:Et)(t,e)}function A2(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var Ra=180/Math.PI,xr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function jc(t,e,n,o,i,r){var l,a,s;return(l=Math.sqrt(t*t+e*e))&&(t/=l,e/=l),(s=t*n+e*o)&&(n-=t*s,o-=e*s),(a=Math.sqrt(n*n+o*o))&&(n/=a,o/=a,s/=a),t*o<e*n&&(t=-t,e=-e,s=-s,l=-l),{translateX:i,translateY:r,rotate:Math.atan2(e,t)*Ra,skewX:Math.atan(s)*Ra,scaleX:l,scaleY:a}}var oi;function T2(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?xr:jc(e.a,e.b,e.c,e.d,e.e,e.f)}function S2(t){return t==null||(oi||(oi=document.createElementNS("http://www.w3.org/2000/svg","g")),oi.setAttribute("transform",t),!(t=oi.transform.baseVal.consolidate()))?xr:(t=t.matrix,jc(t.a,t.b,t.c,t.d,t.e,t.f))}function Hc(t,e,n,o){function i(u){return u.length?u.pop()+" ":""}function r(u,f,c,d,m,p){if(u!==c||f!==d){var _=m.push("translate(",null,e,null,n);p.push({i:_-4,x:Et(u,c)},{i:_-2,x:Et(f,d)})}else(c||d)&&m.push("translate("+c+e+d+n)}function l(u,f,c,d){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),d.push({i:c.push(i(c)+"rotate(",null,o)-2,x:Et(u,f)})):f&&c.push(i(c)+"rotate("+f+o)}function a(u,f,c,d){u!==f?d.push({i:c.push(i(c)+"skewX(",null,o)-2,x:Et(u,f)}):f&&c.push(i(c)+"skewX("+f+o)}function s(u,f,c,d,m,p){if(u!==c||f!==d){var _=m.push(i(m)+"scale(",null,",",null,")");p.push({i:_-4,x:Et(u,c)},{i:_-2,x:Et(f,d)})}else(c!==1||d!==1)&&m.push(i(m)+"scale("+c+","+d+")")}return function(u,f){var c=[],d=[];return u=t(u),f=t(f),r(u.translateX,u.translateY,f.translateX,f.translateY,c,d),l(u.rotate,f.rotate,c,d),a(u.skewX,f.skewX,c,d),s(u.scaleX,u.scaleY,f.scaleX,f.scaleY,c,d),u=f=null,function(m){for(var p=-1,_=d.length,g;++p<_;)c[(g=d[p]).i]=g.x(m);return c.join("")}}}var I2=Hc(T2,"px, ","px)","deg)"),O2=Hc(S2,", ",")",")"),io=0,Oo=0,Ao=0,Gc=1e3,Li,Mo,Di=0,Rn=0,nr=0,Go=typeof performance=="object"&&performance.now?performance:Date,Vc=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Sl(){return Rn||(Vc(M2),Rn=Go.now()+nr)}function M2(){Rn=0}function $i(){this._call=this._time=this._next=null}$i.prototype=Wc.prototype={constructor:$i,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Sl():+n)+(e==null?0:+e),!this._next&&Mo!==this&&(Mo?Mo._next=this:Li=this,Mo=this),this._call=t,this._time=n,Ur()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ur())}};function Wc(t,e,n){var o=new $i;return o.restart(t,e,n),o}function P2(){Sl(),++io;for(var t=Li,e;t;)(e=Rn-t._time)>=0&&t._call.call(void 0,e),t=t._next;--io}function La(){Rn=(Di=Go.now())+nr,io=Oo=0;try{P2()}finally{io=0,E2(),Rn=0}}function N2(){var t=Go.now(),e=t-Di;e>Gc&&(nr-=e,Di=t)}function E2(){for(var t,e=Li,n,o=1/0;e;)e._call?(o>e._time&&(o=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Li=n);Mo=t,Ur(o)}function Ur(t){if(!io){Oo&&(Oo=clearTimeout(Oo));var e=t-Rn;e>24?(t<1/0&&(Oo=setTimeout(La,t-Go.now()-nr)),Ao&&(Ao=clearInterval(Ao))):(Ao||(Di=Go.now(),Ao=setInterval(N2,Gc)),io=1,Vc(La))}}function Da(t,e,n){var o=new $i;return e=e==null?0:+e,o.restart(i=>{o.stop(),t(i+e)},e,n),o}var R2=Cc("start","end","cancel","interrupt"),L2=[],Yc=0,$a=1,Kr=2,fi=3,qa=4,Xr=5,ci=6;function or(t,e,n,o,i,r){var l=t.__transition;if(!l)t.__transition={};else if(n in l)return;D2(t,n,{name:e,index:o,group:i,on:R2,tween:L2,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:Yc})}function Il(t,e){var n=$t(t,e);if(n.state>Yc)throw new Error("too late; already scheduled");return n}function Yt(t,e){var n=$t(t,e);if(n.state>fi)throw new Error("too late; already running");return n}function $t(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function D2(t,e,n){var o=t.__transition,i;o[e]=n,n.timer=Wc(r,0,n.time);function r(u){n.state=$a,n.timer.restart(l,n.delay,n.time),n.delay<=u&&l(u-n.delay)}function l(u){var f,c,d,m;if(n.state!==$a)return s();for(f in o)if(m=o[f],m.name===n.name){if(m.state===fi)return Da(l);m.state===qa?(m.state=ci,m.timer.stop(),m.on.call("interrupt",t,t.__data__,m.index,m.group),delete o[f]):+f<e&&(m.state=ci,m.timer.stop(),m.on.call("cancel",t,t.__data__,m.index,m.group),delete o[f])}if(Da(function(){n.state===fi&&(n.state=qa,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=Kr,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Kr){for(n.state=fi,i=new Array(d=n.tween.length),f=0,c=-1;f<d;++f)(m=n.tween[f].value.call(t,t.__data__,n.index,n.group))&&(i[++c]=m);i.length=c+1}}function a(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(s),n.state=Xr,1),c=-1,d=i.length;++c<d;)i[c].call(t,f);n.state===Xr&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){n.state=ci,n.timer.stop(),delete o[e];for(var u in o)return;delete t.__transition}}function $2(t,e){var n=t.__transition,o,i,r=!0,l;if(n){e=e==null?null:e+"";for(l in n){if((o=n[l]).name!==e){r=!1;continue}i=o.state>Kr&&o.state<Xr,o.state=ci,o.timer.stop(),o.on.call(i?"interrupt":"cancel",t,t.__data__,o.index,o.group),delete n[l]}r&&delete t.__transition}}function q2(t){return this.each(function(){$2(this,t)})}function F2(t,e){var n,o;return function(){var i=Yt(this,t),r=i.tween;if(r!==n){o=n=r;for(var l=0,a=o.length;l<a;++l)if(o[l].name===e){o=o.slice(),o.splice(l,1);break}}i.tween=o}}function B2(t,e,n){var o,i;if(typeof n!="function")throw new Error;return function(){var r=Yt(this,t),l=r.tween;if(l!==o){i=(o=l).slice();for(var a={name:e,value:n},s=0,u=i.length;s<u;++s)if(i[s].name===e){i[s]=a;break}s===u&&i.push(a)}r.tween=i}}function j2(t,e){var n=this._id;if(t+="",arguments.length<2){for(var o=$t(this.node(),n).tween,i=0,r=o.length,l;i<r;++i)if((l=o[i]).name===t)return l.value;return null}return this.each((e==null?F2:B2)(n,t,e))}function Ol(t,e,n){var o=t._id;return t.each(function(){var i=Yt(this,o);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return $t(i,o).value[e]}}function xc(t,e){var n;return(typeof e=="number"?Et:e instanceof En?Ri:(n=En(e))?(e=n,Ri):Bc)(t,e)}function H2(t){return function(){this.removeAttribute(t)}}function G2(t){return function(){this.removeAttributeNS(t.space,t.local)}}function V2(t,e,n){var o,i=n+"",r;return function(){var l=this.getAttribute(t);return l===i?null:l===o?r:r=e(o=l,n)}}function W2(t,e,n){var o,i=n+"",r;return function(){var l=this.getAttributeNS(t.space,t.local);return l===i?null:l===o?r:r=e(o=l,n)}}function Y2(t,e,n){var o,i,r;return function(){var l,a=n(this),s;return a==null?void this.removeAttribute(t):(l=this.getAttribute(t),s=a+"",l===s?null:l===o&&s===i?r:(i=s,r=e(o=l,a)))}}function x2(t,e,n){var o,i,r;return function(){var l,a=n(this),s;return a==null?void this.removeAttributeNS(t.space,t.local):(l=this.getAttributeNS(t.space,t.local),s=a+"",l===s?null:l===o&&s===i?r:(i=s,r=e(o=l,a)))}}function U2(t,e){var n=tr(t),o=n==="transform"?O2:xc;return this.attrTween(t,typeof e=="function"?(n.local?x2:Y2)(n,o,Ol(this,"attr."+t,e)):e==null?(n.local?G2:H2)(n):(n.local?W2:V2)(n,o,e))}function K2(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function X2(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function J2(t,e){var n,o;function i(){var r=e.apply(this,arguments);return r!==o&&(n=(o=r)&&X2(t,r)),n}return i._value=e,i}function Z2(t,e){var n,o;function i(){var r=e.apply(this,arguments);return r!==o&&(n=(o=r)&&K2(t,r)),n}return i._value=e,i}function Q2(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var o=tr(t);return this.tween(n,(o.local?J2:Z2)(o,e))}function z2(t,e){return function(){Il(this,t).delay=+e.apply(this,arguments)}}function ek(t,e){return e=+e,function(){Il(this,t).delay=e}}function tk(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?z2:ek)(e,t)):$t(this.node(),e).delay}function nk(t,e){return function(){Yt(this,t).duration=+e.apply(this,arguments)}}function ok(t,e){return e=+e,function(){Yt(this,t).duration=e}}function ik(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?nk:ok)(e,t)):$t(this.node(),e).duration}function rk(t,e){if(typeof e!="function")throw new Error;return function(){Yt(this,t).ease=e}}function lk(t){var e=this._id;return arguments.length?this.each(rk(e,t)):$t(this.node(),e).ease}function sk(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Yt(this,t).ease=n}}function ak(t){if(typeof t!="function")throw new Error;return this.each(sk(this._id,t))}function uk(t){typeof t!="function"&&(t=Sc(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var r=e[i],l=r.length,a=o[i]=[],s,u=0;u<l;++u)(s=r[u])&&t.call(s,s.__data__,u,r)&&a.push(s);return new en(o,this._parents,this._name,this._id)}function fk(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,o=e.length,i=n.length,r=Math.min(o,i),l=new Array(o),a=0;a<r;++a)for(var s=e[a],u=n[a],f=s.length,c=l[a]=new Array(f),d,m=0;m<f;++m)(d=s[m]||u[m])&&(c[m]=d);for(;a<o;++a)l[a]=e[a];return new en(l,this._parents,this._name,this._id)}function ck(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function dk(t,e,n){var o,i,r=ck(e)?Il:Yt;return function(){var l=r(this,t),a=l.on;a!==o&&(i=(o=a).copy()).on(e,n),l.on=i}}function mk(t,e){var n=this._id;return arguments.length<2?$t(this.node(),n).on.on(t):this.each(dk(n,t,e))}function pk(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function hk(){return this.on("end.remove",pk(this._id))}function _k(t){var e=this._name,n=this._id;typeof t!="function"&&(t=wl(t));for(var o=this._groups,i=o.length,r=new Array(i),l=0;l<i;++l)for(var a=o[l],s=a.length,u=r[l]=new Array(s),f,c,d=0;d<s;++d)(f=a[d])&&(c=t.call(f,f.__data__,d,a))&&("__data__"in f&&(c.__data__=f.__data__),u[d]=c,or(u[d],e,n,d,u,$t(f,n)));return new en(r,this._parents,e,n)}function gk(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Tc(t));for(var o=this._groups,i=o.length,r=[],l=[],a=0;a<i;++a)for(var s=o[a],u=s.length,f,c=0;c<u;++c)if(f=s[c]){for(var d=t.call(f,f.__data__,c,s),m,p=$t(f,n),_=0,g=d.length;_<g;++_)(m=d[_])&&or(m,e,n,_,d,p);r.push(d),l.push(f)}return new en(r,l,e,n)}var bk=xo.prototype.constructor;function vk(){return new bk(this._groups,this._parents)}function yk(t,e){var n,o,i;return function(){var r=oo(this,t),l=(this.style.removeProperty(t),oo(this,t));return r===l?null:r===n&&l===o?i:i=e(n=r,o=l)}}function Uc(t){return function(){this.style.removeProperty(t)}}function wk(t,e,n){var o,i=n+"",r;return function(){var l=oo(this,t);return l===i?null:l===o?r:r=e(o=l,n)}}function kk(t,e,n){var o,i,r;return function(){var l=oo(this,t),a=n(this),s=a+"";return a==null&&(s=a=(this.style.removeProperty(t),oo(this,t))),l===s?null:l===o&&s===i?r:(i=s,r=e(o=l,a))}}function Ck(t,e){var n,o,i,r="style."+e,l="end."+r,a;return function(){var s=Yt(this,t),u=s.on,f=s.value[r]==null?a||(a=Uc(e)):void 0;(u!==n||i!==f)&&(o=(n=u).copy()).on(l,i=f),s.on=o}}function Ak(t,e,n){var o=(t+="")=="transform"?I2:xc;return e==null?this.styleTween(t,yk(t,o)).on("end.style."+t,Uc(t)):typeof e=="function"?this.styleTween(t,kk(t,o,Ol(this,"style."+t,e))).each(Ck(this._id,t)):this.styleTween(t,wk(t,o,e),n).on("end.style."+t,null)}function Tk(t,e,n){return function(o){this.style.setProperty(t,e.call(this,o),n)}}function Sk(t,e,n){var o,i;function r(){var l=e.apply(this,arguments);return l!==i&&(o=(i=l)&&Tk(t,l,n)),o}return r._value=e,r}function Ik(t,e,n){var o="style."+(t+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(e==null)return this.tween(o,null);if(typeof e!="function")throw new Error;return this.tween(o,Sk(t,e,n??""))}function Ok(t){return function(){this.textContent=t}}function Mk(t){return function(){var e=t(this);this.textContent=e??""}}function Pk(t){return this.tween("text",typeof t=="function"?Mk(Ol(this,"text",t)):Ok(t==null?"":t+""))}function Nk(t){return function(e){this.textContent=t.call(this,e)}}function Ek(t){var e,n;function o(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&Nk(i)),e}return o._value=t,o}function Rk(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Ek(t))}function Lk(){for(var t=this._name,e=this._id,n=Kc(),o=this._groups,i=o.length,r=0;r<i;++r)for(var l=o[r],a=l.length,s,u=0;u<a;++u)if(s=l[u]){var f=$t(s,e);or(s,t,n,u,l,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new en(o,this._parents,t,n)}function Dk(){var t,e,n=this,o=n._id,i=n.size();return new Promise(function(r,l){var a={value:l},s={value:function(){--i===0&&r()}};n.each(function(){var u=Yt(this,o),f=u.on;f!==t&&(e=(t=f).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(s)),u.on=e}),i===0&&r()})}var $k=0;function en(t,e,n,o){this._groups=t,this._parents=e,this._name=n,this._id=o}function Kc(){return++$k}var Ut=xo.prototype;en.prototype={constructor:en,select:_k,selectAll:gk,selectChild:Ut.selectChild,selectChildren:Ut.selectChildren,filter:uk,merge:fk,selection:vk,transition:Lk,call:Ut.call,nodes:Ut.nodes,node:Ut.node,size:Ut.size,empty:Ut.empty,each:Ut.each,on:mk,attr:U2,attrTween:Q2,style:Ak,styleTween:Ik,text:Pk,textTween:Rk,remove:hk,tween:j2,delay:tk,duration:ik,ease:lk,easeVarying:ak,end:Dk,[Symbol.iterator]:Ut[Symbol.iterator]};function qk(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Fk={time:null,delay:0,duration:250,ease:qk};function Bk(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function jk(t){var e,n;t instanceof en?(e=t._id,t=t._name):(e=Kc(),(n=Fk).time=Sl(),t=t==null?null:t+"");for(var o=this._groups,i=o.length,r=0;r<i;++r)for(var l=o[r],a=l.length,s,u=0;u<a;++u)(s=l[u])&&or(s,t,e,u,l,n||Bk(s,e));return new en(o,this._parents,t,e)}xo.prototype.interrupt=q2;xo.prototype.transition=jk;const Jr=Math.PI,Zr=2*Jr,bn=1e-6,Hk=Zr-bn;function Xc(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Gk(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Xc;const n=10**e;return function(o){this._+=o[0];for(let i=1,r=o.length;i<r;++i)this._+=Math.round(arguments[i]*n)/n+o[i]}}class Vk{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Xc:Gk(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,o,i){this._append`Q${+e},${+n},${this._x1=+o},${this._y1=+i}`}bezierCurveTo(e,n,o,i,r,l){this._append`C${+e},${+n},${+o},${+i},${this._x1=+r},${this._y1=+l}`}arcTo(e,n,o,i,r){if(e=+e,n=+n,o=+o,i=+i,r=+r,r<0)throw new Error(`negative radius: ${r}`);let l=this._x1,a=this._y1,s=o-e,u=i-n,f=l-e,c=a-n,d=f*f+c*c;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(d>bn)if(!(Math.abs(c*s-u*f)>bn)||!r)this._append`L${this._x1=e},${this._y1=n}`;else{let m=o-l,p=i-a,_=s*s+u*u,g=m*m+p*p,v=Math.sqrt(_),h=Math.sqrt(d),k=r*Math.tan((Jr-Math.acos((_+d-g)/(2*v*h)))/2),S=k/h,I=k/v;Math.abs(S-1)>bn&&this._append`L${e+S*f},${n+S*c}`,this._append`A${r},${r},0,0,${+(c*m>f*p)},${this._x1=e+I*s},${this._y1=n+I*u}`}}arc(e,n,o,i,r,l){if(e=+e,n=+n,o=+o,l=!!l,o<0)throw new Error(`negative radius: ${o}`);let a=o*Math.cos(i),s=o*Math.sin(i),u=e+a,f=n+s,c=1^l,d=l?i-r:r-i;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>bn||Math.abs(this._y1-f)>bn)&&this._append`L${u},${f}`,o&&(d<0&&(d=d%Zr+Zr),d>Hk?this._append`A${o},${o},0,1,${c},${e-a},${n-s}A${o},${o},0,1,${c},${this._x1=u},${this._y1=f}`:d>bn&&this._append`A${o},${o},0,${+(d>=Jr)},${c},${this._x1=e+o*Math.cos(r)},${this._y1=n+o*Math.sin(r)}`)}rect(e,n,o,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${o=+o}v${+i}h${-o}Z`}toString(){return this._}}function Wk(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function qi(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,o=t.slice(0,n);return[o.length>1?o[0]+o.slice(2):o,+t.slice(n+1)]}function ro(t){return t=qi(Math.abs(t)),t?t[1]:NaN}function Yk(t,e){return function(n,o){for(var i=n.length,r=[],l=0,a=t[0],s=0;i>0&&a>0&&(s+a+1>o&&(a=Math.max(1,o-s)),r.push(n.substring(i-=a,i+a)),!((s+=a+1)>o));)a=t[l=(l+1)%t.length];return r.reverse().join(e)}}function xk(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Uk=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Fi(t){if(!(e=Uk.exec(t)))throw new Error("invalid format: "+t);var e;return new Ml({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Fi.prototype=Ml.prototype;function Ml(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Ml.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Kk(t){e:for(var e=t.length,n=1,o=-1,i;n<e;++n)switch(t[n]){case".":o=i=n;break;case"0":o===0&&(o=n),i=n;break;default:if(!+t[n])break e;o>0&&(o=0);break}return o>0?t.slice(0,o)+t.slice(i+1):t}var Jc;function Xk(t,e){var n=qi(t,e);if(!n)return t+"";var o=n[0],i=n[1],r=i-(Jc=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=o.length;return r===l?o:r>l?o+new Array(r-l+1).join("0"):r>0?o.slice(0,r)+"."+o.slice(r):"0."+new Array(1-r).join("0")+qi(t,Math.max(0,e+r-1))[0]}function Fa(t,e){var n=qi(t,e);if(!n)return t+"";var o=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+o:o.length>i+1?o.slice(0,i+1)+"."+o.slice(i+1):o+new Array(i-o.length+2).join("0")}const Ba={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Wk,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Fa(t*100,e),r:Fa,s:Xk,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function ja(t){return t}var Ha=Array.prototype.map,Ga=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Jk(t){var e=t.grouping===void 0||t.thousands===void 0?ja:Yk(Ha.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",o=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",r=t.numerals===void 0?ja:xk(Ha.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"−":t.minus+"",s=t.nan===void 0?"NaN":t.nan+"";function u(c){c=Fi(c);var d=c.fill,m=c.align,p=c.sign,_=c.symbol,g=c.zero,v=c.width,h=c.comma,k=c.precision,S=c.trim,I=c.type;I==="n"?(h=!0,I="g"):Ba[I]||(k===void 0&&(k=12),S=!0,I="g"),(g||d==="0"&&m==="=")&&(g=!0,d="0",m="=");var O=_==="$"?n:_==="#"&&/[boxX]/.test(I)?"0"+I.toLowerCase():"",D=_==="$"?o:/[%p]/.test(I)?l:"",j=Ba[I],q=/[defgprs%]/.test(I);k=k===void 0?6:/[gprs]/.test(I)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function $(E){var w=O,T=D,B,V,L;if(I==="c")T=j(E)+T,E="";else{E=+E;var U=E<0||1/E<0;if(E=isNaN(E)?s:j(Math.abs(E),k),S&&(E=Kk(E)),U&&+E==0&&p!=="+"&&(U=!1),w=(U?p==="("?p:a:p==="-"||p==="("?"":p)+w,T=(I==="s"?Ga[8+Jc/3]:"")+T+(U&&p==="("?")":""),q){for(B=-1,V=E.length;++B<V;)if(L=E.charCodeAt(B),48>L||L>57){T=(L===46?i+E.slice(B+1):E.slice(B))+T,E=E.slice(0,B);break}}}h&&!g&&(E=e(E,1/0));var Q=w.length+E.length+T.length,Z=Q<v?new Array(v-Q+1).join(d):"";switch(h&&g&&(E=e(Z+E,Z.length?v-T.length:1/0),Z=""),m){case"<":E=w+E+T+Z;break;case"=":E=w+Z+E+T;break;case"^":E=Z.slice(0,Q=Z.length>>1)+w+E+T+Z.slice(Q);break;default:E=Z+w+E+T;break}return r(E)}return $.toString=function(){return c+""},$}function f(c,d){var m=u((c=Fi(c),c.type="f",c)),p=Math.max(-8,Math.min(8,Math.floor(ro(d)/3)))*3,_=Math.pow(10,-p),g=Ga[8+p/3];return function(v){return m(_*v)+g}}return{format:u,formatPrefix:f}}var ii,Zc,Qc;Zk({thousands:",",grouping:[3],currency:["$",""]});function Zk(t){return ii=Jk(t),Zc=ii.format,Qc=ii.formatPrefix,ii}function Qk(t){return Math.max(0,-ro(Math.abs(t)))}function zk(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ro(e)/3)))*3-ro(Math.abs(t)))}function e5(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,ro(e)-ro(t))+1}function t5(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function n5(t){return function(){return t}}function o5(t){return+t}var Va=[0,1];function Un(t){return t}function Qr(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:n5(isNaN(e)?NaN:.5)}function i5(t,e){var n;return t>e&&(n=t,t=e,e=n),function(o){return Math.max(t,Math.min(e,o))}}function r5(t,e,n){var o=t[0],i=t[1],r=e[0],l=e[1];return i<o?(o=Qr(i,o),r=n(l,r)):(o=Qr(o,i),r=n(r,l)),function(a){return r(o(a))}}function l5(t,e,n){var o=Math.min(t.length,e.length)-1,i=new Array(o),r=new Array(o),l=-1;for(t[o]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<o;)i[l]=Qr(t[l],t[l+1]),r[l]=n(e[l],e[l+1]);return function(a){var s=ly(t,a,1,o)-1;return r[s](i[s](a))}}function s5(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function a5(){var t=Va,e=Va,n=Tl,o,i,r,l=Un,a,s,u;function f(){var d=Math.min(t.length,e.length);return l!==Un&&(l=i5(t[0],t[d-1])),a=d>2?l5:r5,s=u=null,c}function c(d){return d==null||isNaN(d=+d)?r:(s||(s=a(t.map(o),e,n)))(o(l(d)))}return c.invert=function(d){return l(i((u||(u=a(e,t.map(o),Et)))(d)))},c.domain=function(d){return arguments.length?(t=Array.from(d,o5),f()):t.slice()},c.range=function(d){return arguments.length?(e=Array.from(d),f()):e.slice()},c.rangeRound=function(d){return e=Array.from(d),n=A2,f()},c.clamp=function(d){return arguments.length?(l=d?!0:Un,f()):l!==Un},c.interpolate=function(d){return arguments.length?(n=d,f()):n},c.unknown=function(d){return arguments.length?(r=d,c):r},function(d,m){return o=d,i=m,f()}}function u5(){return a5()(Un,Un)}function f5(t,e,n,o){var i=cy(t,e,n),r;switch(o=Fi(o??",f"),o.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return o.precision==null&&!isNaN(r=zk(i,l))&&(o.precision=r),Qc(o,l)}case"":case"e":case"g":case"p":case"r":{o.precision==null&&!isNaN(r=e5(i,Math.max(Math.abs(t),Math.abs(e))))&&(o.precision=r-(o.type==="e"));break}case"f":case"%":{o.precision==null&&!isNaN(r=Qk(i))&&(o.precision=r-(o.type==="%")*2);break}}return Zc(o)}function c5(t){var e=t.domain;return t.ticks=function(n){var o=e();return fy(o[0],o[o.length-1],n??10)},t.tickFormat=function(n,o){var i=e();return f5(i[0],i[i.length-1],n??10,o)},t.nice=function(n){n==null&&(n=10);var o=e(),i=0,r=o.length-1,l=o[i],a=o[r],s,u,f=10;for(a<l&&(u=l,l=a,a=u,u=i,i=r,r=u);f-- >0;){if(u=Hr(l,a,n),u===s)return o[i]=l,o[r]=a,e(o);if(u>0)l=Math.floor(l/u)*u,a=Math.ceil(a/u)*u;else if(u<0)l=Math.ceil(l*u)/u,a=Math.floor(a*u)/u;else break;s=u}return t},t}function zr(){var t=u5();return t.copy=function(){return s5(t,zr())},t5.apply(t,arguments),c5(t)}function Wn(t){return function(){return t}}function d5(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const o=Math.floor(n);if(!(o>=0))throw new RangeError(`invalid digits: ${n}`);e=o}return t},()=>new Vk(e)}function m5(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function zc(t){this._context=t}zc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function p5(t){return new zc(t)}function h5(t){return t[0]}function _5(t){return t[1]}function Ar(t,e){var n=Wn(!0),o=null,i=p5,r=null,l=d5(a);t=typeof t=="function"?t:t===void 0?h5:Wn(t),e=typeof e=="function"?e:e===void 0?_5:Wn(e);function a(s){var u,f=(s=m5(s)).length,c,d=!1,m;for(o==null&&(r=i(m=l())),u=0;u<=f;++u)!(u<f&&n(c=s[u],u,s))===d&&((d=!d)?r.lineStart():r.lineEnd()),d&&r.point(+t(c,u,s),+e(c,u,s));if(m)return r=null,m+""||null}return a.x=function(s){return arguments.length?(t=typeof s=="function"?s:Wn(+s),a):t},a.y=function(s){return arguments.length?(e=typeof s=="function"?s:Wn(+s),a):e},a.defined=function(s){return arguments.length?(n=typeof s=="function"?s:Wn(!!s),a):n},a.curve=function(s){return arguments.length?(i=s,o!=null&&(r=i(o)),a):i},a.context=function(s){return arguments.length?(s==null?o=r=null:r=i(o=s),a):o},a}function Po(t,e,n){this.k=t,this.x=e,this.y=n}Po.prototype={constructor:Po,scale:function(t){return t===1?this:new Po(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Po(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Po.prototype;function g5(t){let e;return{c(){e=Hi("svg"),R(e,"id","line-chart")},m(n,o){N(n,e,o)},p:Ce,i:Ce,o:Ce,d(n){n&&M(e)}}}const Wa=52;function b5(t,e,n){let{data:o=[]}=e,i,r,l;const a={top:10,right:30,bottom:10,left:20},s=500-a.left-a.right,u=400-a.top-a.bottom;Ar().x((p,_)=>r(_)).y(p=>l(p)),Gi(()=>{n(1,i=t2("#line-chart").attr("width",s+a.left+a.right).attr("height",u+a.top+a.bottom)),r=zr().range([0,s]),l=zr().range([u,0]),o.length&&f()});function f(){const p=o.length>Wa?o.slice(-Wa):o;c(p),d(p),m()}function c(p){i.selectAll(".line").remove();const _=Ar().defined(v=>v>-5).x((v,h)=>r(h)).y(v=>l(v)),g=Ar().defined(v=>v<0).x((v,h)=>r(h)).y(v=>l(v));i.append("path").datum(p).attr("class","line positive").attr("d",_).attr("transform",`translate(${a.left},${a.top})`).attr("fill","none").attr("stroke","green").attr("stroke-width",2),i.append("path").datum(p).attr("class","line negative").attr("d",g).attr("transform",`translate(${a.left},${a.top})`).attr("fill","none").attr("stroke","red").attr("stroke-width",2)}function d(p){const _=Math.max(0,...p),g=Math.min(0,...p);r.domain([0,p.length-1]),l.domain([g,_]).nice()}function m(p){const _=by(r).ticks(0),g=vy(l).ticks(10);i.selectAll(".axis").remove(),i.append("g").attr("class","axis x-axis").attr("transform",`translate(${a.left},${u+a.top})`).call(_),i.append("g").attr("class","axis y-axis").attr("transform",`translate(${a.left},${a.top})`).call(g)}return t.$$set=p=>{"data"in p&&n(0,o=p.data)},t.$$.update=()=>{t.$$.dirty&3&&o&&i&&f()},[o,i]}class v5 extends me{constructor(e){super(),de(this,e,b5,g5,ce,{data:0})}}function y5(t){let e,n=t[1].townInfo.knowledge_points+"",o,i;return{c(){e=G("Manage your Knowledge ("),o=G(n),i=G(" pts)")},m(r,l){N(r,e,l),N(r,o,l),N(r,i,l)},p(r,l){l&2&&n!==(n=r[1].townInfo.knowledge_points+"")&&ue(o,n)},d(r){r&&(M(e),M(o),M(i))}}}function w5(t){let e,n,o,i;return e=new qn({props:{$$slots:{default:[y5]},$$scope:{ctx:t}}}),o=new mo({}),{c(){x(e.$$.fragment),n=F(),x(o.$$.fragment)},m(r,l){W(e,r,l),N(r,n,l),W(o,r,l),i=!0},p(r,l){const a={};l&130&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){A(e.$$.fragment,r),A(o.$$.fragment,r),i=!1},d(r){r&&M(n),Y(e,r),Y(o,r)}}}function Ya(t){let e,n,o=Xa(t[1].townInfo.knowledge_points*t[3])+"",i,r;return{c(){e=P("br"),n=G(`
          (total value: $`),i=G(o),r=G(")")},m(l,a){N(l,e,a),N(l,n,a),N(l,i,a),N(l,r,a)},p(l,a){a&10&&o!==(o=Xa(l[1].townInfo.knowledge_points*l[3])+"")&&ue(i,o)},d(l){l&&(M(e),M(n),M(i),M(r))}}}function xa(t){let e;return{c(){e=P("div"),e.innerHTML=`Wait until the market value is <span class="text-green-500">positive</span> to sell your Knowledge for Gold. Keep in mind that you need a bank to
          convert.`},m(n,o){N(n,e,o)},d(n){n&&M(e)}}}function Ua(t){let e,n,o;return n=new Gt({props:{variant:"default",$$slots:{default:[k5]},$$scope:{ctx:t}}}),n.$on("click",t[0]),{c(){e=P("div"),x(n.$$.fragment)},m(i,r){N(i,e,r),W(n,e,null),o=!0},p(i,r){const l={};r&128&&(l.$$scope={dirty:r,ctx:i}),n.$set(l)},i(i){o||(C(n.$$.fragment,i),o=!0)},o(i){A(n.$$.fragment,i),o=!1},d(i){i&&M(e),Y(n)}}}function k5(t){let e;return{c(){e=G("Convert Knowledge to Gold")},m(n,o){N(n,e,o)},d(n){n&&M(e)}}}function Ka(t){let e;return{c(){e=P("div"),e.textContent="You need a bank to convert knowledge to gold."},m(n,o){N(n,e,o)},d(n){n&&M(e)}}}function C5(t){let e,n,o,i,r,l,a,s,u=(t[3]??0)+"",f,c,d,m,p,_,g,v,h,k,S,I;e=new Fn({props:{$$slots:{default:[w5]},$$scope:{ctx:t}}});let O=t[3]>0&&Ya(t);_=new v5({props:{data:t[2]}});let D=t[3]<0&&xa(),j=t[1].hasBank&&t[3]>0&&Ua(t),q=t[1].hasBank===!1&&Ka();return S=new co({}),{c(){x(e.$$.fragment),n=F(),o=P("span"),o.textContent="Knowledge is power, unlock it!",i=F(),r=P("div"),l=P("div"),a=G("Market Rate: "),s=P("span"),f=G(u),c=G(" gold"),m=G(`
        per Knowledge Point
        `),O&&O.c(),p=F(),x(_.$$.fragment),g=F(),D&&D.c(),v=F(),j&&j.c(),h=F(),q&&q.c(),k=F(),x(S.$$.fragment),R(o,"class",""),R(s,"class",d=t[3]<0?"text-red-500":"text-green-500"),R(r,"class","py-0 flex flex-col gap-4 text-gray-400 overflow-x-auto")},m($,E){W(e,$,E),N($,n,E),N($,o,E),N($,i,E),N($,r,E),y(r,l),y(l,a),y(l,s),y(s,f),y(s,c),y(l,m),O&&O.m(l,null),y(r,p),W(_,r,null),y(r,g),D&&D.m(r,null),y(r,v),j&&j.m(r,null),y(r,h),q&&q.m(r,null),N($,k,E),W(S,$,E),I=!0},p($,E){const w={};E&130&&(w.$$scope={dirty:E,ctx:$}),e.$set(w),(!I||E&8)&&u!==(u=($[3]??0)+"")&&ue(f,u),(!I||E&8&&d!==(d=$[3]<0?"text-red-500":"text-green-500"))&&R(s,"class",d),$[3]>0?O?O.p($,E):(O=Ya($),O.c(),O.m(l,null)):O&&(O.d(1),O=null);const T={};E&4&&(T.data=$[2]),_.$set(T),$[3]<0?D||(D=xa(),D.c(),D.m(r,v)):D&&(D.d(1),D=null),$[1].hasBank&&$[3]>0?j?(j.p($,E),E&10&&C(j,1)):(j=Ua($),j.c(),C(j,1),j.m(r,h)):j&&(Te(),A(j,1,1,()=>{j=null}),Se()),$[1].hasBank===!1?q||(q=Ka(),q.c(),q.m(r,null)):q&&(q.d(1),q=null)},i($){I||(C(e.$$.fragment,$),C(_.$$.fragment,$),C(j),C(S.$$.fragment,$),I=!0)},o($){A(e.$$.fragment,$),A(_.$$.fragment,$),A(j),A(S.$$.fragment,$),I=!1},d($){$&&(M(n),M(o),M(i),M(r),M(k)),Y(e,$),O&&O.d(),Y(_),D&&D.d(),j&&j.d(),q&&q.d(),Y(S,$)}}}function A5(t){let e,n;return e=new Bn({props:{transitionConfig:{duration:0},class:"bg-foreground text-accentText",$$slots:{default:[C5]},$$scope:{ctx:t}}}),{c(){x(e.$$.fragment)},m(o,i){W(e,o,i),n=!0},p(o,i){const r={};i&142&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){A(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function T5(t){let e,n,o;function i(l){t[5](l)}let r={$$slots:{default:[A5]},$$scope:{ctx:t}};return t[4]!==void 0&&(r.open=t[4]),e=new jn({props:r}),Ee.push(()=>_n(e,"open",i)),{c(){x(e.$$.fragment)},m(l,a){W(e,l,a),o=!0},p(l,[a]){const s={};a&142&&(s.$$scope={dirty:a,ctx:l}),!n&&a&16&&(n=!0,s.open=l[4],hn(()=>n=!1)),e.$set(s)},i(l){o||(C(e.$$.fragment,l),o=!0)},o(l){A(e.$$.fragment,l),o=!1},d(l){Y(e,l)}}}function Xa(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function S5(t,e,n){let o,i;se(t,De,u=>n(1,o=u)),se(t,vi,u=>n(4,i=u));let r,l=0;function a(){let u=o;o.hasBank===!0?(u.townInfo.gold+=Math.round(u.townInfo.knowledge_points*l),u.townInfo.knowledge_points=0,De.set(u),localStorage.setItem(Lt,JSON.stringify(u))):ht.set("You need a bank to convert knowledge to gold.")}function s(u){i=u,vi.set(i)}return t.$$.update=()=>{t.$$.dirty&2&&o&&(n(2,r=o.economyAndLaws.knowledge_gold_market_rates),n(3,l=o.economyAndLaws.knowledge_gold_market_rates[o.economyAndLaws.knowledge_gold_market_rates.length-1]))},[a,o,r,l,i,s]}class I5 extends me{constructor(e){super(),de(this,e,S5,T5,ce,{convertKnowledgeToGold:0})}get convertKnowledgeToGold(){return this.$$.ctx[0]}}const O5=[{id:"sunshine",title:"Hint of Sunshine",description:`Scientist Jane T. found that more sunlight makes everyone a bit happier.
          Now, every home is equipped with a pair of sunglasses and a sunhat. Enjoy happier citizens!,
          `,cost:5e3,duration:180,effect:t=>(t.townInfo.happiness+=100,t)},{id:"antibiotics",title:"We will call them 'Antibiotics'",description:`Scientist Alfred C. has pitched us an idea that he calls 'Antibiotics'.
           We don't really know what that means, but it seems to make people healthier.
          `,cost:8e3,duration:200,effect:t=>(t.townInfo.health+=180,t.townInfo.happiness+=25,t)},{id:"funny_cows",title:"Cowabunga!",description:`Scientist Barry T. thought that showing cows some stand-up comedy would make them produce better milk, but it didn't have the desired effect.
          The cows are now following Mike Birbiglia on Twitter, but the milk production has not increased.
          `,cost:3e3,duration:60,effect:t=>t},{id:"missing_treasure",title:"Missing Treasure?",description:`Scientist Sarah H. was running an experiment on tree growth and found a stash of gold near the lab.
          She hopes nobody will miss it. Your town now has some more money.
          `,cost:15e3,duration:180,effect:t=>(t.townInfo.gold+=Math.floor(Math.random()*35e3),t)},{id:"tax_relief",title:"'Maybe the government is not so bad after all'",description:`Scientist Sam P. conducted a study and found that if you put a tiny bit of CHEMICAL X in the water supply, people are more likely to be ok with tax hikes.
          We don't question it, as these experiments cost a lot of moo-lah.`,cost:7500,duration:360,effect:t=>(t.economyAndLaws.max_tax_rate=(Math.random()*.8+1.2)*t.economyAndLaws.max_tax_rate,t)},{id:"spring_break",title:"Spring Break",description:`The Scientists took our money and spent the week at the beach.
          We are not sure what they did, but they came back with a tan and a smile.`,cost:2e3,duration:7,effect:t=>t},{id:"tornado",title:"A Gust of Grain",description:`Scientist Clint C. is sulking after a botched weather experiment caused about half of the food supply to be sucked into a tornado.
  		The only positive seems to be that the town now knows what a tornado is, and that makes us a bit smarter as a whole.`,cost:7e3,duration:150,effect:t=>(t.townInfo.knowledge_points+=3e3,t.resources.food=Math.floor(t.resources.food/2),t)},{id:"aquatic_overachievers",title:"Fishy Business",description:`An attempt to genetically enhance fish intelligence by Scientist Goldie F. in fisheries has gone awry, resulting in fish that are too smart to be caught. The fisheries are now underpopulated and shut down, but the town enjoys an unexpected tourism boom as people flock to see the genius fish who are now hanging out in local parks.
          Who knew fish could be such a draw?`,cost:6e3,duration:90,effect:t=>(t.townInfo.gold+=1e4,Ja("fishery",t),t)},{id:"educational_eclipse",title:"A Sudden Drop in IQ",description:`Scientist Albert E. wanted to see if the towns' children would become smarter if THEY ran the schools.
          This was obviously a terrible idea and the first thing the kids did was shut down the schools.`,cost:1e3,duration:45,effect:t=>(Ja("schoolhouse",t),t)},{id:"education_grant",title:"Education Grant",description:`Scientist Marie C. took this experiments funding and applied the town for a grant to improve education.
          The town wins a grant for $150,000 to build schools and improve education. (but it's up to you if that's how you want to spend the money)`,cost:25e3,duration:45,effect:t=>(t.townInfo.gold+=15e4,t)},{id:"mindfulness_meditation_classes",title:"'Mindfulness Meditation Classes'",description:`Scientist Zen M. has introduced mindfulness meditation classes to the town after realizing that breathing in certain ways can lower stress.
  		Now, the town is a bit more relaxed, for now.`,cost:13e3,duration:540,effect:t=>(t.townInfo.happiness+=75,t)}];function Ja(t,e){let n=$e(t,e);for(let o=0;o<n.length;o++)al(n[o].x,n[o].y,e)}function Za(t,e,n){const o=t.slice();return o[15]=e[n],o}function M5(t){let e,n=t[1].lab.active_experiment.title+"",o;return{c(){e=G("🎉 Experiment Completed: "),o=G(n)},m(i,r){N(i,e,r),N(i,o,r)},p(i,r){r&2&&n!==(n=i[1].lab.active_experiment.title+"")&&ue(o,n)},d(i){i&&(M(e),M(o))}}}function P5(t){let e,n=t[1].lab.active_experiment.description+"",o;return{c(){e=P("div"),o=G(n),R(e,"class","select-none whitespace-pre-wrap text-lg text-gray-400 leading-6 px-4 py-4 text-center ")},m(i,r){N(i,e,r),y(e,o)},p(i,r){r&2&&n!==(n=i[1].lab.active_experiment.description+"")&&ue(o,n)},d(i){i&&M(e)}}}function N5(t){let e,n,o,i;return e=new mc({props:{class:"text-center",$$slots:{default:[M5]},$$scope:{ctx:t}}}),o=new yl({props:{$$slots:{default:[P5]},$$scope:{ctx:t}}}),{c(){x(e.$$.fragment),n=F(),x(o.$$.fragment)},m(r,l){W(e,r,l),N(r,n,l),W(o,r,l),i=!0},p(r,l){const a={};l&262146&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&262146&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){A(e.$$.fragment,r),A(o.$$.fragment,r),i=!1},d(r){r&&M(n),Y(e,r),Y(o,r)}}}function E5(t){let e;return{c(){e=G("Thank the scientists")},m(n,o){N(n,e,o)},d(n){n&&M(e)}}}function R5(t){let e,n;return e=new vc({props:{$$slots:{default:[E5]},$$scope:{ctx:t}}}),e.$on("click",t[9]),{c(){x(e.$$.fragment)},m(o,i){W(e,o,i),n=!0},p(o,i){const r={};i&262144&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){A(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function L5(t){let e,n,o,i;return e=new vl({props:{$$slots:{default:[N5]},$$scope:{ctx:t}}}),o=new Qi({props:{$$slots:{default:[R5]},$$scope:{ctx:t}}}),{c(){x(e.$$.fragment),n=F(),x(o.$$.fragment)},m(r,l){W(e,r,l),N(r,n,l),W(o,r,l),i=!0},p(r,l){const a={};l&262146&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&262144&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){A(e.$$.fragment,r),A(o.$$.fragment,r),i=!1},d(r){r&&M(n),Y(e,r),Y(o,r)}}}function D5(t){let e,n;return e=new zi({props:{$$slots:{default:[L5]},$$scope:{ctx:t}}}),{c(){x(e.$$.fragment)},m(o,i){W(e,o,i),n=!0},p(o,i){const r={};i&262146&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){A(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function $5(t){let e;return{c(){e=P("span"),e.textContent="Manage your Laboratory 🔬 🧪"},m(n,o){N(n,e,o)},p:Ce,d(n){n&&M(e)}}}function q5(t){let e,n,o,i=t[1].lab.xp+"",r,l,a,s;return{c(){e=P("span"),n=G("You have earned "),o=P("span"),r=G(i),l=G(" XP"),s=G(` from experiments. XP can be used to buy advanced plots and develop your
          city.`),R(o,"class",a=t[1].lab.xp<0?"text-textDanger":"text-primaryText")},m(u,f){N(u,e,f),y(e,n),y(e,o),y(o,r),y(o,l),y(e,s)},p(u,f){f&2&&i!==(i=u[1].lab.xp+"")&&ue(r,i),f&2&&a!==(a=u[1].lab.xp<0?"text-textDanger":"text-primaryText")&&R(o,"class",a)},d(u){u&&M(e)}}}function F5(t){let e,n,o,i;return e=new qn({props:{$$slots:{default:[$5]},$$scope:{ctx:t}}}),o=new mo({props:{$$slots:{default:[q5]},$$scope:{ctx:t}}}),{c(){x(e.$$.fragment),n=F(),x(o.$$.fragment)},m(r,l){W(e,r,l),N(r,n,l),W(o,r,l),i=!0},p(r,l){const a={};l&262144&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&262146&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){A(e.$$.fragment,r),A(o.$$.fragment,r),i=!1},d(r){r&&M(n),Y(e,r),Y(o,r)}}}function B5(t){let e;return{c(){e=G("No more experiments available")},m(n,o){N(n,e,o)},p:Ce,i:Ce,o:Ce,d(n){n&&M(e)}}}function j5(t){let e,n,o,i,r=We(t[0]),l=[];for(let s=0;s<r.length;s+=1)l[s]=za(Za(t,r,s));const a=s=>A(l[s],1,1,()=>{l[s]=null});return{c(){e=P("div"),e.textContent=`It's time to fund your next experiment! Choose a project below based on
        it's funding requirement. Once the experiment is over, you will see the
        results.`,n=F(),o=P("div");for(let s=0;s<l.length;s+=1)l[s].c();R(e,"class","select-none text-sm "),R(o,"class","text-center flex flex-col justify-center items-center gap-4 ")},m(s,u){N(s,e,u),N(s,n,u),N(s,o,u);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(o,null);i=!0},p(s,u){if(u&19){r=We(s[0]);let f;for(f=0;f<r.length;f+=1){const c=Za(s,r,f);l[f]?(l[f].p(c,u),C(l[f],1)):(l[f]=za(c),l[f].c(),C(l[f],1),l[f].m(o,null))}for(Te(),f=r.length;f<l.length;f+=1)a(f);Se()}},i(s){if(!i){for(let u=0;u<r.length;u+=1)C(l[u]);i=!0}},o(s){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)A(l[u]);i=!1},d(s){s&&(M(e),M(n),M(o)),ut(l,s)}}}function H5(t){let e,n=t[1].lab.active_experiment.duration+"",o,i,r,l,a=t[1].lab.active_experiment.duration===0&&eu(t);return{c(){e=G("Currently running an experiment... check back in "),o=G(n),i=G(` days.
      `),a&&a.c(),r=Re()},m(s,u){N(s,e,u),N(s,o,u),N(s,i,u),a&&a.m(s,u),N(s,r,u),l=!0},p(s,u){(!l||u&2)&&n!==(n=s[1].lab.active_experiment.duration+"")&&ue(o,n),s[1].lab.active_experiment.duration===0?a?(a.p(s,u),u&2&&C(a,1)):(a=eu(s),a.c(),C(a,1),a.m(r.parentNode,r)):a&&(Te(),A(a,1,1,()=>{a=null}),Se())},i(s){l||(C(a),l=!0)},o(s){A(a),l=!1},d(s){s&&(M(e),M(o),M(i),M(r)),a&&a.d(s)}}}function Qa(t){let e,n,o=t[15].id+"",i;return{c(){e=P("span"),n=G("// dev-"),i=G(o),R(e,"class","text-xs text-gray-400")},m(r,l){N(r,e,l),y(e,n),y(e,i)},p(r,l){l&1&&o!==(o=r[15].id+"")&&ue(i,o)},d(r){r&&M(e)}}}function G5(t){let e,n=tu(t[15].cost).split(".")[0]+"",o,i,r,l=t[1].devMode===!0&&Qa(t);return{c(){e=G("$"),o=G(n),i=G(` gold

            `),l&&l.c(),r=F()},m(a,s){N(a,e,s),N(a,o,s),N(a,i,s),l&&l.m(a,s),N(a,r,s)},p(a,s){s&1&&n!==(n=tu(a[15].cost).split(".")[0]+"")&&ue(o,n),a[1].devMode===!0?l?l.p(a,s):(l=Qa(a),l.c(),l.m(r.parentNode,r)):l&&(l.d(1),l=null)},d(a){a&&(M(e),M(o),M(i),M(r)),l&&l.d(a)}}}function za(t){let e,n;function o(){return t[11](t[15])}return e=new Gt({props:{variant:"outline",class:`min-w-48 w-max flex-col
				`+(t[15].cost>t[1].townInfo.gold?"cursor-not-allowed":"")+`
				`,$$slots:{default:[G5]},$$scope:{ctx:t}}}),e.$on("click",o),{c(){x(e.$$.fragment)},m(i,r){W(e,i,r),n=!0},p(i,r){t=i;const l={};r&3&&(l.class=`min-w-48 w-max flex-col
				`+(t[15].cost>t[1].townInfo.gold?"cursor-not-allowed":"")+`
				`),r&262147&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(i){n||(C(e.$$.fragment,i),n=!0)},o(i){A(e.$$.fragment,i),n=!1},d(i){Y(e,i)}}}function eu(t){let e,n;return e=new Gt({props:{variant:"outline",$$slots:{default:[V5]},$$scope:{ctx:t}}}),e.$on("click",t[10]),{c(){x(e.$$.fragment)},m(o,i){W(e,o,i),n=!0},p(o,i){const r={};i&262144&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){A(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function V5(t){let e;return{c(){e=G("Complete experiment (and face the impact)")},m(n,o){N(n,e,o)},d(n){n&&M(e)}}}function W5(t){let e;return{c(){e=P("span"),e.textContent="Keep in mind that not all experiments yield positive results.",R(e,"class","text-left text-textDanger")},m(n,o){N(n,e,o)},p:Ce,d(n){n&&M(e)}}}function Y5(t){let e,n,o,i,r,l,a,s,u,f,c;e=new Fn({props:{$$slots:{default:[F5]},$$scope:{ctx:t}}}),o=new Tt({});const d=[H5,j5,B5],m=[];function p(_,g){return _[1].lab.active_experiment!==null?0:_[0].length>0?1:_[0].length===0?2:-1}return~(r=p(t))&&(l=m[r]=d[r](t)),s=new Tt({props:{class:"mt-4"}}),f=new co({props:{$$slots:{default:[W5]},$$scope:{ctx:t}}}),{c(){x(e.$$.fragment),n=F(),x(o.$$.fragment),i=F(),l&&l.c(),a=F(),x(s.$$.fragment),u=F(),x(f.$$.fragment)},m(_,g){W(e,_,g),N(_,n,g),W(o,_,g),N(_,i,g),~r&&m[r].m(_,g),N(_,a,g),W(s,_,g),N(_,u,g),W(f,_,g),c=!0},p(_,g){const v={};g&262146&&(v.$$scope={dirty:g,ctx:_}),e.$set(v);let h=r;r=p(_),r===h?~r&&m[r].p(_,g):(l&&(Te(),A(m[h],1,1,()=>{m[h]=null}),Se()),~r?(l=m[r],l?l.p(_,g):(l=m[r]=d[r](_),l.c()),C(l,1),l.m(a.parentNode,a)):l=null);const k={};g&262144&&(k.$$scope={dirty:g,ctx:_}),f.$set(k)},i(_){c||(C(e.$$.fragment,_),C(o.$$.fragment,_),C(l),C(s.$$.fragment,_),C(f.$$.fragment,_),c=!0)},o(_){A(e.$$.fragment,_),A(o.$$.fragment,_),A(l),A(s.$$.fragment,_),A(f.$$.fragment,_),c=!1},d(_){_&&(M(n),M(i),M(a),M(u)),Y(e,_),Y(o,_),~r&&m[r].d(_),Y(s,_),Y(f,_)}}}function x5(t){let e,n;return e=new Bn({props:{class:"bg-foreground text-accentText",$$slots:{default:[Y5]},$$scope:{ctx:t}}}),{c(){x(e.$$.fragment)},m(o,i){W(e,o,i),n=!0},p(o,i){const r={};i&262147&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){A(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function U5(t){let e,n,o,i,r;e=new er({props:{open:t[2],$$slots:{default:[D5]},$$scope:{ctx:t}}});function l(s){t[12](s)}let a={$$slots:{default:[x5]},$$scope:{ctx:t}};return t[3]!==void 0&&(a.open=t[3]),o=new jn({props:a}),Ee.push(()=>_n(o,"open",l)),{c(){x(e.$$.fragment),n=F(),x(o.$$.fragment)},m(s,u){W(e,s,u),N(s,n,u),W(o,s,u),r=!0},p(s,[u]){const f={};u&4&&(f.open=s[2]),u&262146&&(f.$$scope={dirty:u,ctx:s}),e.$set(f);const c={};u&262147&&(c.$$scope={dirty:u,ctx:s}),!i&&u&8&&(i=!0,c.open=s[3],hn(()=>i=!1)),o.$set(c)},i(s){r||(C(e.$$.fragment,s),C(o.$$.fragment,s),r=!0)},o(s){A(e.$$.fragment,s),A(o.$$.fragment,s),r=!1},d(s){s&&M(n),Y(e,s),Y(o,s)}}}function tu(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function K5(t,e,n){let o,i;se(t,De,h=>n(1,o=h)),se(t,li,h=>n(3,i=h));var r;let l=[],a=!1,s=!1,u=!1;function f(){if(l.length>0||!a)return l;let h=[],k=O5.filter(S=>!o.lab.past_experiments.some(I=>I.id===S.id));if(k.length===0)return[];for(let S=0;S<3;S++){let I=k[Math.floor(Math.random()*k.length)];I.cost=Math.floor(Math.random()*(I.cost*.35)+I.cost*.8),h.push(I)}return h=h.filter((S,I)=>h.indexOf(S)===I),h=h.filter(S=>S),n(8,u=!0),h}function c(h){if(o.townInfo.gold<h.cost){ht.set("You do not have enough gold to purchase this experiment.");return}Pe(De,o.townInfo.gold-=h.cost,o),Pe(De,o.lab.active_experiment=h,o),o.lab.past_experiments.push(h)}function d(){Pe(li,i=!1,i),n(2,s=!0);let h=l.find(S=>S.id===o.lab.active_experiment.id),k=h!=null?h.effect(o):o;Pe(De,o=k,o),Pe(De,o.lab.active_experiment.duration=-1,o)}function m(){let h=o;h.lab.xp+=Math.round(h.lab.active_experiment.cost*(Math.random()*2+.5)),h.lab.active_experiment=null,n(2,s=!1),Pe(De,o=h,o)}const p=()=>{m()},_=()=>{d()},g=h=>{h.cost<o.townInfo.gold&&c(h)};function v(h){i=h,li.set(i)}return t.$$.update=()=>{t.$$.dirty&387&&(o?(a=!0,n(0,l=u==!1?f():l),(n(7,r=o.lab.active_experiment)===null||r===void 0?void 0:r.duration)===-1&&n(2,s=!0)):a=!1)},[l,o,s,i,c,d,m,r,u,p,_,g,v]}class X5 extends me{constructor(e){super(),de(this,e,K5,U5,ce,{})}}function J5(t){let e,n,o,i,r,l,a,s,u,f=t[0].townInfo.name+"",c,d,m,p,_,g,v,h=t[0].townInfo.population_count+"",k,S,I,O,D,j,q,$=Math.floor(t[0].environment.day/365)+1+"",E,w,T,B,V,L,U=t[0].environment.day%365+1+"",Q,Z,te,ee=t[1]==0?"Normal":t[1]==1?"Fast":"Superfast",fe,Ae,Ie,ne,b,X;return n=new Zt({props:{text:"Pause game",onOpen:t[6],styling:"fixed top-2 right-2"}}),{c(){e=P("div"),x(n.$$.fragment),o=F(),i=P("div"),r=P("div"),l=P("div"),a=P("div"),s=P("div"),u=P("h1"),c=G(f),d=F(),m=P("div"),p=P("div"),_=P("div"),g=P("span"),v=G("👥 "),k=G(h),S=F(),I=P("div"),O=P("span"),D=P("span"),D.textContent="Year",j=F(),q=P("span"),E=G($),w=F(),T=P("span"),B=P("span"),B.textContent="Day",V=F(),L=P("span"),Q=G(U),Z=F(),te=P("span"),fe=G(ee),Ae=G(" Speed"),R(u,"class","cursor-pointer w-full text-center select-none"),R(s,"class","cursor-pointer flex flex-row justify-start"),R(a,"class","text-4xl flex flex-row items-center justify-between"),R(g,"class","text-xs px-4 min-w-24"),R(D,"class","text-xs"),R(q,"class","font-semibold text-xs"),R(O,"class","flex flex-col"),R(B,"class","text-xs"),R(L,"class","font-semibold text-xs"),R(T,"class","flex flex-col"),R(I,"class","rounded-xl flex-row text-accentText gap-4 w-20 flex items-center max-w-24"),R(te,"class","cursor text-blue-200 text-nowrap noselect text-end w-36"),gt(te,"text-blue-200",t[1]==0),gt(te,"text-yellow-200",t[1]==1),gt(te,"text-red-200",t[1]==2),R(_,"class","flex align-middle items-center text-accentText flex-row w-full justify-center gap-2 h-max"),R(p,"class","flex flex-col align-middle justify-center"),R(l,"class","flex flex-col gap-2 justify-center w-full "),R(r,"class","rounded-xl"),R(i,"class","flex justify-between flex-col align-middle items-center w-full"),R(e,"id","header"),R(e,"class",Ie="flex px-6 gap-6 justify-center flex-row fixed top-0 left-0 right-0 cursor-default z-10 bg-black text-[white] py-3 align-middle border-b-4 border-sidebarBackground "+(t[2].visible?"opacity-70":""))},m(K,re){N(K,e,re),W(n,e,null),y(e,o),y(e,i),y(i,r),y(r,l),y(l,a),y(a,s),y(s,u),y(u,c),y(l,d),y(l,m),y(m,p),y(p,_),y(_,g),y(g,v),y(g,k),y(_,S),y(_,I),y(I,O),y(O,D),y(O,j),y(O,q),y(q,E),y(I,w),y(I,T),y(T,B),y(T,V),y(T,L),y(L,Q),y(_,Z),y(_,te),y(te,fe),y(te,Ae),ne=!0,b||(X=[z(s,"click",t[4]),z(te,"click",t[7])],b=!0)},p(K,[re]){const ye={};re&8&&(ye.onOpen=K[6]),n.$set(ye),(!ne||re&1)&&f!==(f=K[0].townInfo.name+"")&&ue(c,f),(!ne||re&1)&&h!==(h=K[0].townInfo.population_count+"")&&ue(k,h),(!ne||re&1)&&$!==($=Math.floor(K[0].environment.day/365)+1+"")&&ue(E,$),(!ne||re&1)&&U!==(U=K[0].environment.day%365+1+"")&&ue(Q,U),(!ne||re&2)&&ee!==(ee=K[1]==0?"Normal":K[1]==1?"Fast":"Superfast")&&ue(fe,ee),(!ne||re&2)&&gt(te,"text-blue-200",K[1]==0),(!ne||re&2)&&gt(te,"text-yellow-200",K[1]==1),(!ne||re&2)&&gt(te,"text-red-200",K[1]==2),(!ne||re&4&&Ie!==(Ie="flex px-6 gap-6 justify-center flex-row fixed top-0 left-0 right-0 cursor-default z-10 bg-black text-[white] py-3 align-middle border-b-4 border-sidebarBackground "+(K[2].visible?"opacity-70":"")))&&R(e,"class",Ie)},i(K){ne||(C(n.$$.fragment,K),ne=!0)},o(K){A(n.$$.fragment,K),ne=!1},d(K){K&&M(e),Y(n),b=!1,je(X)}}}function Z5(t,e,n){let o,i,r,l;se(t,De,m=>n(0,o=m)),se(t,To,m=>n(9,i=m)),se(t,tt,m=>n(2,r=m)),se(t,vt,m=>n(3,l=m));const a=o.gameSettings.includes("casual")?[375,200,100]:[550,375,100];let s=0;Gi(()=>{o.gameSettings.includes("casual")?Pe(To,i=375,i):Pe(To,i=550,i);const m=setInterval(()=>{Pe(De,o.timeSpent+=1e3,o)},1e3);return()=>{clearInterval(m)}});function u(){let m=prompt("Enter a new name for your town (under 200 chars)");if(m&&m.length<200&&m.length>=1){let p=o;p.townInfo.name=m,De.set(p),localStorage.setItem(Lt,JSON.stringify(p))}}function f(){s==a.length-1?n(1,s=0):n(1,s++,s),Pe(To,i=a[s],i)}const c=()=>Pe(vt,l=!0,l),d=()=>{f()};return t.$$.update=()=>{t.$$.dirty&1&&o.timeSpent>0&&gm(o.timeSpent)},[o,s,r,l,u,f,c,d]}class Q5 extends me{constructor(e){super(),de(this,e,Z5,J5,ce,{})}}function z5(t){let e,n,o;return{c(){e=P("div"),R(e,"class",n="h-full w-full flex-1 "+t[3]+" transition-all"),R(e,"style",o=`transform: translateX(-${100-100*(t[2]??0)/(t[1]??1)}%)`)},m(i,r){N(i,e,r)},p(i,r){r&8&&n!==(n="h-full w-full flex-1 "+i[3]+" transition-all")&&R(e,"class",n),r&6&&o!==(o=`transform: translateX(-${100-100*(i[2]??0)/(i[1]??1)}%)`)&&R(e,"style",o)},d(i){i&&M(e)}}}function e3(t){let e,n;const o=[{class:qe("relative h-4 w-full overflow-hidden  bg-black border border-gray-300",t[0])},t[4]];let i={$$slots:{default:[z5]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=J(i,o[r]);return e=new Tg({props:i}),{c(){x(e.$$.fragment)},m(r,l){W(e,r,l),n=!0},p(r,[l]){const a=l&17?ve(o,[l&1&&{class:qe("relative h-4 w-full overflow-hidden  bg-black border border-gray-300",r[0])},l&16&&st(r[4])]):{};l&46&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){A(e.$$.fragment,r),n=!1},d(r){Y(e,r)}}}function t3(t,e,n){const o=["class","max","value","color"];let i=le(e,o),{class:r=void 0}=e,{max:l=100}=e,{value:a=void 0}=e,{color:s="bg-accent"}=e;return t.$$set=u=>{e=J(J({},e),Le(u)),n(4,i=le(e,o)),"class"in u&&n(0,r=u.class),"max"in u&&n(1,l=u.max),"value"in u&&n(2,a=u.value),"color"in u&&n(3,s=u.color)},[r,l,a,s,i]}class n3 extends me{constructor(e){super(),de(this,e,t3,e3,ce,{class:0,max:1,value:2,color:3})}}function nu(t,e,n){const o=t.slice();return o[19]=e[n],o}function ou(t){let e,n=We({length:t[6]}),o=[];for(let i=0;i<n.length;i+=1)o[i]=iu(nu(t,n,i));return{c(){e=P("div");for(let i=0;i<o.length;i+=1)o[i].c();R(e,"class","confetti-holder svelte-15ksp55"),gt(e,"rounded",t[9]),gt(e,"cone",t[10]),gt(e,"no-gravity",t[11]),gt(e,"reduced-motion",t[13])},m(i,r){N(i,e,r);for(let l=0;l<o.length;l+=1)o[l]&&o[l].m(e,null)},p(i,r){if(r&37375){n=We({length:i[6]});let l;for(l=0;l<n.length;l+=1){const a=nu(i,n,l);o[l]?o[l].p(a,r):(o[l]=iu(a),o[l].c(),o[l].m(e,null))}for(;l<o.length;l+=1)o[l].d(1);o.length=n.length}r&512&&gt(e,"rounded",i[9]),r&1024&&gt(e,"cone",i[10]),r&2048&&gt(e,"no-gravity",i[11]),r&8192&&gt(e,"reduced-motion",i[13])},d(i){i&&M(e),ut(o,i)}}}function iu(t){let e;return{c(){e=P("div"),R(e,"class","confetti svelte-15ksp55"),et(e,"--fall-distance",t[8]),et(e,"--size",t[0]+"px"),et(e,"--color",t[15]()),et(e,"--skew",_t(-45,45)+"deg,"+_t(-45,45)+"deg"),et(e,"--rotation-xyz",_t(-10,10)+", "+_t(-10,10)+", "+_t(-10,10)),et(e,"--rotation-deg",_t(0,360)+"deg"),et(e,"--translate-y-multiplier",_t(t[2][0],t[2][1])),et(e,"--translate-x-multiplier",_t(t[1][0],t[1][1])),et(e,"--scale",.1*_t(2,10)),et(e,"--transition-duration",t[4]?`calc(${t[3]}ms * var(--scale))`:`${t[3]}ms`),et(e,"--transition-delay",_t(t[5][0],t[5][1])+"ms"),et(e,"--transition-iteration-count",t[4]?"infinite":t[7]),et(e,"--x-spread",1-t[12])},m(n,o){N(n,e,o)},p(n,o){o&256&&et(e,"--fall-distance",n[8]),o&1&&et(e,"--size",n[0]+"px"),o&4&&et(e,"--translate-y-multiplier",_t(n[2][0],n[2][1])),o&2&&et(e,"--translate-x-multiplier",_t(n[1][0],n[1][1])),o&24&&et(e,"--transition-duration",n[4]?`calc(${n[3]}ms * var(--scale))`:`${n[3]}ms`),o&32&&et(e,"--transition-delay",_t(n[5][0],n[5][1])+"ms"),o&144&&et(e,"--transition-iteration-count",n[4]?"infinite":n[7]),o&4096&&et(e,"--x-spread",1-n[12])},d(n){n&&M(e)}}}function o3(t){let e,n=!t[14]&&ou(t);return{c(){n&&n.c(),e=Re()},m(o,i){n&&n.m(o,i),N(o,e,i)},p(o,[i]){o[14]?n&&(n.d(1),n=null):n?n.p(o,i):(n=ou(o),n.c(),n.m(e.parentNode,e))},i:Ce,o:Ce,d(o){o&&M(e),n&&n.d(o)}}}function _t(t,e){return Math.random()*(e-t)+t}function i3(t,e,n){let{size:o=10}=e,{x:i=[-.5,.5]}=e,{y:r=[.25,1]}=e,{duration:l=2e3}=e,{infinite:a=!1}=e,{delay:s=[0,50]}=e,{colorRange:u=[0,360]}=e,{colorArray:f=[]}=e,{amount:c=50}=e,{iterationCount:d=1}=e,{fallDistance:m="100px"}=e,{rounded:p=!1}=e,{cone:_=!1}=e,{noGravity:g=!1}=e,{xSpread:v=.15}=e,{destroyOnComplete:h=!0}=e,{disableForReducedMotion:k=!1}=e,S=!1;Gi(()=>{!h||a||d=="infinite"||setTimeout(()=>n(14,S=!0),(l+s[1])*d)});function I(){return f.length?f[Math.round(Math.random()*(f.length-1))]:`hsl(${Math.round(_t(u[0],u[1]))}, 75%, 50%)`}return t.$$set=O=>{"size"in O&&n(0,o=O.size),"x"in O&&n(1,i=O.x),"y"in O&&n(2,r=O.y),"duration"in O&&n(3,l=O.duration),"infinite"in O&&n(4,a=O.infinite),"delay"in O&&n(5,s=O.delay),"colorRange"in O&&n(16,u=O.colorRange),"colorArray"in O&&n(17,f=O.colorArray),"amount"in O&&n(6,c=O.amount),"iterationCount"in O&&n(7,d=O.iterationCount),"fallDistance"in O&&n(8,m=O.fallDistance),"rounded"in O&&n(9,p=O.rounded),"cone"in O&&n(10,_=O.cone),"noGravity"in O&&n(11,g=O.noGravity),"xSpread"in O&&n(12,v=O.xSpread),"destroyOnComplete"in O&&n(18,h=O.destroyOnComplete),"disableForReducedMotion"in O&&n(13,k=O.disableForReducedMotion)},[o,i,r,l,a,s,c,d,m,p,_,g,v,k,S,I,u,f,h]}class sn extends me{constructor(e){super(),de(this,e,i3,o3,ce,{size:0,x:1,y:2,duration:3,infinite:4,delay:5,colorRange:16,colorArray:17,amount:6,iterationCount:7,fallDistance:8,rounded:9,cone:10,noGravity:11,xSpread:12,destroyOnComplete:18,disableForReducedMotion:13})}}function ru(t){let e,n,o,i,r,l,a,s;return e=new sn({props:{cone:!0,x:[-.5,.5]}}),o=new sn({props:{cone:!0,amount:10,x:[-1,-.4],y:[.25,.75],rounded:!0,size:15}}),r=new sn({props:{cone:!0,amount:10,x:[.4,1],y:[.25,.75]}}),a=new sn({props:{infinite:!0,amount:75,delay:[0,200]}}),{c(){x(e.$$.fragment),n=F(),x(o.$$.fragment),i=F(),x(r.$$.fragment),l=F(),x(a.$$.fragment)},m(u,f){W(e,u,f),N(u,n,f),W(o,u,f),N(u,i,f),W(r,u,f),N(u,l,f),W(a,u,f),s=!0},i(u){s||(C(e.$$.fragment,u),C(o.$$.fragment,u),C(r.$$.fragment,u),C(a.$$.fragment,u),s=!0)},o(u){A(e.$$.fragment,u),A(o.$$.fragment,u),A(r.$$.fragment,u),A(a.$$.fragment,u),s=!1},d(u){u&&(M(n),M(i),M(l)),Y(e,u),Y(o,u),Y(r,u),Y(a,u)}}}function r3(t){let e,n,o,i=t[1].isComplete(t[2])||t[3]&&t[2].currentTutorialStep==t[0]?"✅":"⬜️",r,l,a,s=t[1].message+"",u,f,c,d=t[3]&&t[2].currentTutorialStep==t[0]&&ru();return{c(){e=P("div"),d&&d.c(),n=F(),o=P("span"),r=G(i),l=F(),a=P("span"),u=G(s),R(o,"class","flex flex-row gap-1"),R(e,"class",f="text-sm flex flex-row justify-start align-middle pb-2 mb-2 transition-all duration-300 noselect "+(t[2].currentTutorialStep==t[0]?"opacity-100":"opacity-50"))},m(m,p){N(m,e,p),d&&d.m(e,null),y(e,n),y(e,o),y(o,r),y(o,l),y(o,a),y(a,u),c=!0},p(m,[p]){m[3]&&m[2].currentTutorialStep==m[0]?d?p&13&&C(d,1):(d=ru(),d.c(),C(d,1),d.m(e,n)):d&&(Te(),A(d,1,1,()=>{d=null}),Se()),(!c||p&15)&&i!==(i=m[1].isComplete(m[2])||m[3]&&m[2].currentTutorialStep==m[0]?"✅":"⬜️")&&ue(r,i),(!c||p&2)&&s!==(s=m[1].message+"")&&ue(u,s),(!c||p&5&&f!==(f="text-sm flex flex-row justify-start align-middle pb-2 mb-2 transition-all duration-300 noselect "+(m[2].currentTutorialStep==m[0]?"opacity-100":"opacity-50")))&&R(e,"class",f)},i(m){c||(C(d),c=!0)},o(m){A(d),c=!1},d(m){m&&M(e),d&&d.d()}}}function l3(t,e,n){let o,i;se(t,De,a=>n(2,o=a)),se(t,Ro,a=>n(3,i=a));let{index:r}=e,{step:l}=e;return t.$$set=a=>{"index"in a&&n(0,r=a.index),"step"in a&&n(1,l=a.step)},[r,l,o,i]}class ed extends me{constructor(e){super(),de(this,e,l3,r3,ce,{index:0,step:1})}}function lu(t,e,n){const o=t.slice();return o[13]=e[n],o[15]=n,o}function su(t,e,n){const o=t.slice();return o[16]=e[n].icon,o[17]=e[n].name,o[18]=e[n].value,o[19]=e[n].rate,o}function au(t,e,n){const o=t.slice();return o[22]=e[n],o}function uu(t,e,n){const o=t.slice();return o[17]=e[n].name,o[18]=e[n].value,o[25]=e[n].modifier,o[26]=e[n].color,o[27]=e[n].hover,o[28]=e[n].description,o[29]=e[n].max,o}function s3(t){let e,n=t[17]+"",o,i,r,l;return r=new n3({props:{value:t[18],max:t[29]??300,class:"min-w-[80px] max-w-[80px] ",color:t[26]}}),{c(){e=P("span"),o=G(n),i=F(),x(r.$$.fragment),R(e,"class","text-md pr-2")},m(a,s){N(a,e,s),y(e,o),N(a,i,s),W(r,a,s),l=!0},p(a,s){(!l||s[0]&32)&&n!==(n=a[17]+"")&&ue(o,n);const u={};s[0]&32&&(u.value=a[18]),s[0]&32&&(u.max=a[29]??300),s[0]&32&&(u.color=a[26]),r.$set(u)},i(a){l||(C(r.$$.fragment,a),l=!0)},o(a){A(r.$$.fragment,a),l=!1},d(a){a&&(M(e),M(i)),Y(r,a)}}}function fu(t){let e,n;return e=new po({props:{class:"rounded-2xl text-white "+(t[26]??t[9](t[18])),$$slots:{default:[a3]},$$scope:{ctx:t}}}),{c(){x(e.$$.fragment)},m(o,i){W(e,o,i),n=!0},p(o,i){const r={};i[0]&32&&(r.class="rounded-2xl text-white "+(o[26]??o[9](o[18]))),i[0]&32|i[1]&2&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){A(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function a3(t){let e,n,o=t[17]+"",i,r,l=fn(t[18],!1)+"",a,s,u=t[29]?`out of ${t[29]}`:"",f,c,d,m,p,_=t[28]+"",g;return d=new Tt({props:{class:"mb-2 mt-1"}}),{c(){e=P("div"),n=P("span"),i=G(o),r=G(": "),a=G(l),s=F(),f=G(u),c=F(),x(d.$$.fragment),m=F(),p=P("span"),R(n,"class","text-md"),R(e,"class","flex flex-col justify-between max-w-48")},m(v,h){N(v,e,h),y(e,n),y(n,i),y(n,r),y(n,a),y(n,s),y(n,f),y(e,c),W(d,e,null),y(e,m),y(e,p),p.innerHTML=_,g=!0},p(v,h){(!g||h[0]&32)&&o!==(o=v[17]+"")&&ue(i,o),(!g||h[0]&32)&&l!==(l=fn(v[18],!1)+"")&&ue(a,l),(!g||h[0]&32)&&u!==(u=v[29]?`out of ${v[29]}`:"")&&ue(f,u),(!g||h[0]&32)&&_!==(_=v[28]+"")&&(p.innerHTML=_)},i(v){g||(C(d.$$.fragment,v),g=!0)},o(v){A(d.$$.fragment,v),g=!1},d(v){v&&M(e),Y(d)}}}function u3(t){let e,n,o,i;e=new _o({props:{class:"w-full flex flex-row align-middle justify-between text-sm filter hover:brightness-110",$$slots:{default:[s3]},$$scope:{ctx:t}}});let r=t[27]&&fu(t);return{c(){x(e.$$.fragment),n=F(),r&&r.c(),o=Re()},m(l,a){W(e,l,a),N(l,n,a),r&&r.m(l,a),N(l,o,a),i=!0},p(l,a){const s={};a[0]&32|a[1]&2&&(s.$$scope={dirty:a,ctx:l}),e.$set(s),l[27]?r?(r.p(l,a),a[0]&32&&C(r,1)):(r=fu(l),r.c(),C(r,1),r.m(o.parentNode,o)):r&&(Te(),A(r,1,1,()=>{r=null}),Se())},i(l){i||(C(e.$$.fragment,l),C(r),i=!0)},o(l){A(e.$$.fragment,l),A(r),i=!1},d(l){l&&(M(n),M(o)),Y(e,l),r&&r.d(l)}}}function cu(t){let e,n,o,i;return n=new ho({props:{openDelay:200,closeDelay:0,$$slots:{default:[u3]},$$scope:{ctx:t}}}),{c(){e=P("div"),x(n.$$.fragment),o=F(),R(e,"class","flex flex-col gap-1")},m(r,l){N(r,e,l),W(n,e,null),y(e,o),i=!0},p(r,l){const a={};l[0]&32|l[1]&2&&(a.$$scope={dirty:l,ctx:r}),n.$set(a)},i(r){i||(C(n.$$.fragment,r),i=!0)},o(r){A(n.$$.fragment,r),i=!1},d(r){r&&M(e),Y(n)}}}function f3(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,p,_,g,v,h,k,S,I,O=t[1].gameSettings.includes("bagOfHolding")?"There is no resource cap in this game mode! (Bag of Holding)":"",D;return{c(){e=P("div"),n=G(`Resources are generated from plots. Generation rate can be increased
            by raising the productivity of the town, at the cost of some
            happiness.
            `),o=P("br"),i=F(),r=P("br"),l=G(`
            There is also a slight bit of randomness as townspeople aren't robots.
            `),a=P("br"),s=F(),u=P("br"),f=F(),c=P("span"),c.textContent="Stockpile plots",d=G(` increase the maximum
            amount of resources you can store.
            `),m=P("br"),p=F(),_=P("br"),g=G(`
            If the cap is 500, then you can store 500 of each resource before the
            cap is reached.
            `),v=P("br"),h=G(`
            Capacity is increased by 2,000 per Stockpile plot.
            `),k=P("br"),S=F(),I=P("span"),D=G(O),R(c,"class","font-bold"),R(I,"class","text-red-800 font-bold"),R(e,"class","text-sm")},m(j,q){N(j,e,q),y(e,n),y(e,o),y(e,i),y(e,r),y(e,l),y(e,a),y(e,s),y(e,u),y(e,f),y(e,c),y(e,d),y(e,m),y(e,p),y(e,_),y(e,g),y(e,v),y(e,h),y(e,k),y(e,S),y(e,I),y(I,D)},p(j,q){q[0]&2&&O!==(O=j[1].gameSettings.includes("bagOfHolding")?"There is no resource cap in this game mode! (Bag of Holding)":"")&&ue(D,O)},d(j){j&&M(e)}}}function c3(t){let e,n,o,i=t[1].gameSettings.includes("bagOfHolding")?"No resource cap":`Capacity: ${fn(t[1].resource_capacity,!1)}`,r,l,a,s,u;return s=new po({props:{class:"text-sm w-[200px]",$$slots:{default:[f3]},$$scope:{ctx:t}}}),{c(){e=P("h1"),n=G(`Resources

          `),o=P("div"),r=G(i),a=F(),x(s.$$.fragment),R(o,"class",l="text-xs w-full text-center mb-2 cursor-pointer "+(t[2]==!0?"text-textDanger animate-pulse font-bold":"")+" "+(t[1].gameSettings.includes("bagOfHolding")?"opacity-30":"")),R(e,"class","text-lg w-full text-center pb-2")},m(f,c){N(f,e,c),y(e,n),y(e,o),y(o,r),N(f,a,c),W(s,f,c),u=!0},p(f,c){(!u||c[0]&2)&&i!==(i=f[1].gameSettings.includes("bagOfHolding")?"No resource cap":`Capacity: ${fn(f[1].resource_capacity,!1)}`)&&ue(r,i),(!u||c[0]&6&&l!==(l="text-xs w-full text-center mb-2 cursor-pointer "+(f[2]==!0?"text-textDanger animate-pulse font-bold":"")+" "+(f[1].gameSettings.includes("bagOfHolding")?"opacity-30":"")))&&R(o,"class",l);const d={};c[0]&2|c[1]&2&&(d.$$scope={dirty:c,ctx:f}),s.$set(d)},i(f){u||(C(s.$$.fragment,f),u=!0)},o(f){A(s.$$.fragment,f),u=!1},d(f){f&&(M(e),M(a)),Y(s,f)}}}function d3(t){let e,n;return e=new _o({props:{$$slots:{default:[c3]},$$scope:{ctx:t}}}),{c(){x(e.$$.fragment)},m(o,i){W(e,o,i),n=!0},p(o,i){const r={};i[0]&6|i[1]&2&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){A(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function m3(t){let e,n,o=t[19]+"",i;return{c(){e=P("span"),n=G("+"),i=G(o),R(e,"class","")},m(r,l){N(r,e,l),y(e,n),y(e,i)},p(r,l){l[0]&16&&o!==(o=r[19]+"")&&ue(i,o)},d(r){r&&M(e)}}}function p3(t){let e;return{c(){e=P("span")},m(n,o){N(n,e,o)},p:Ce,d(n){n&&M(e)}}}function h3(t){let e,n=t[19]+"",o;return{c(){e=P("span"),o=G(n),R(e,"class","text-textDanger")},m(i,r){N(i,e,r),y(e,o)},p(i,r){r[0]&16&&n!==(n=i[19]+"")&&ue(o,n)},d(i){i&&M(e)}}}function _3(t){let e,n,o=t[19]+"",i;return{c(){e=P("span"),n=G("+"),i=G(o),R(e,"class","text-textHappy")},m(r,l){N(r,e,l),y(e,n),y(e,i)},p(r,l){l[0]&16&&o!==(o=r[19]+"")&&ue(i,o)},d(r){r&&M(e)}}}function g3(t){let e;return{c(){e=P("span"),e.textContent="⚠️ CAP",R(e,"class","text-textDanger")},m(n,o){N(n,e,o)},p:Ce,d(n){n&&M(e)}}}function b3(t){let e;return{c(){e=P("span"),R(e,"class","display-none")},m(n,o){N(n,e,o)},p:Ce,d(n){n&&M(e)}}}function v3(t){let e,n,o=t[19]+"",i,r;return{c(){e=P("span"),n=G("+"),i=G(o),r=G(" (weekly)"),R(e,"class","text-blue-200")},m(l,a){N(l,e,a),y(e,n),y(e,i),y(e,r)},p(l,a){a[0]&16&&o!==(o=l[19]+"")&&ue(i,o)},d(l){l&&M(e)}}}function y3(t){let e,n=t[19]+"",o,i;return{c(){e=P("span"),o=G(n),i=G(" (weekly)"),R(e,"class","text-red-200")},m(r,l){N(r,e,l),y(e,o),y(e,i)},p(r,l){l[0]&16&&n!==(n=r[19]+"")&&ue(o,n)},d(r){r&&M(e)}}}function w3(t){let e,n,o=t[19]+"",i,r;return{c(){e=P("span"),n=G("+"),i=G(o),r=G(" (weekly)"),R(e,"class","text-green-200")},m(l,a){N(l,e,a),y(e,n),y(e,i),y(e,r)},p(l,a){a[0]&16&&o!==(o=l[19]+"")&&ue(i,o)},d(l){l&&M(e)}}}function du(t){let e,n,o,i;return e=new Tt({props:{class:"bg-gray-400"}}),{c(){x(e.$$.fragment),n=F(),o=P("span"),o.textContent="Required for",R(o,"class","text-sm font-semibold text-gray-100")},m(r,l){W(e,r,l),N(r,n,l),N(r,o,l),i=!0},i(r){i||(C(e.$$.fragment,r),i=!0)},o(r){A(e.$$.fragment,r),i=!1},d(r){r&&(M(n),M(o)),Y(e,r)}}}function mu(t){let e,n=t[22]+"",o;return{c(){e=P("span"),o=G(n),R(e,"class","text-xs mr-4 text-gray-100")},m(i,r){N(i,e,r),y(e,o)},p(i,r){r[0]&16&&n!==(n=i[22]+"")&&ue(o,n)},d(i){i&&M(e)}}}function k3(t){let e,n,o=t[16]+"",i,r,l=Tn(t[17])+"",a,s,u,f=t[8](t[17]).length>0,c,d,m;function p(S,I){return S[19]>0?w3:S[19]<0?y3:S[19]!=null?v3:b3}let _=p(t),g=_(t),v=f&&du(),h=We(t[8](t[17])),k=[];for(let S=0;S<h.length;S+=1)k[S]=mu(au(t,h,S));return{c(){e=P("div"),n=P("span"),i=G(o),r=F(),a=G(l),s=F(),g.c(),u=F(),v&&v.c(),c=F(),d=P("div");for(let S=0;S<k.length;S+=1)k[S].c();R(n,"class","text-md font-bold"),R(d,"class","flex flex-col flex-wrap min-w-full"),R(e,"class","flex flex-col gap-2 whitespace-nowrap min-w-fit bg-gray-600/90 p-3 rounded-lg text-white")},m(S,I){N(S,e,I),y(e,n),y(n,i),y(n,r),y(n,a),y(e,s),g.m(e,null),y(e,u),v&&v.m(e,null),y(e,c),y(e,d);for(let O=0;O<k.length;O+=1)k[O]&&k[O].m(d,null);m=!0},p(S,I){if((!m||I[0]&16)&&o!==(o=S[16]+"")&&ue(i,o),(!m||I[0]&16)&&l!==(l=Tn(S[17])+"")&&ue(a,l),_===(_=p(S))&&g?g.p(S,I):(g.d(1),g=_(S),g&&(g.c(),g.m(e,u))),I[0]&16&&(f=S[8](S[17]).length>0),f?v?I[0]&16&&C(v,1):(v=du(),v.c(),C(v,1),v.m(e,c)):v&&(Te(),A(v,1,1,()=>{v=null}),Se()),I[0]&272){h=We(S[8](S[17]));let O;for(O=0;O<h.length;O+=1){const D=au(S,h,O);k[O]?k[O].p(D,I):(k[O]=mu(D),k[O].c(),k[O].m(d,null))}for(;O<k.length;O+=1)k[O].d(1);k.length=h.length}},i(S){m||(C(v),m=!0)},o(S){A(v),m=!1},d(S){S&&M(e),g.d(),v&&v.d(),ut(k,S)}}}function C3(t){let e,n=t[16]+"",o,i,r=fn(parseInt(t[18]),!1)+"",l,a,s,u,f,c;function d(_,g){return _[18]>=_[1].resource_capacity&&_[17]!="gold"?g3:_[19]>0?_3:_[19]<0?h3:_[19]==null?p3:m3}let m=d(t),p=m(t);return f=new po({props:{$$slots:{default:[k3]},$$scope:{ctx:t}}}),{c(){e=P("span"),o=G(n),i=F(),l=G(r),a=F(),p.c(),u=F(),x(f.$$.fragment),R(e,"class",s="flex flex-row justify-between text-sm "+(t[18]<=0?"text-textDanger font-semibold":""))},m(_,g){N(_,e,g),y(e,o),y(e,i),y(e,l),y(e,a),p.m(e,null),N(_,u,g),W(f,_,g),c=!0},p(_,g){(!c||g[0]&16)&&n!==(n=_[16]+"")&&ue(o,n),(!c||g[0]&16)&&r!==(r=fn(parseInt(_[18]),!1)+"")&&ue(l,r),m===(m=d(_))&&p?p.p(_,g):(p.d(1),p=m(_),p&&(p.c(),p.m(e,null))),(!c||g[0]&16&&s!==(s="flex flex-row justify-between text-sm "+(_[18]<=0?"text-textDanger font-semibold":"")))&&R(e,"class",s);const v={};g[0]&16|g[1]&2&&(v.$$scope={dirty:g,ctx:_}),f.$set(v)},i(_){c||(C(f.$$.fragment,_),c=!0)},o(_){A(f.$$.fragment,_),c=!1},d(_){_&&(M(e),M(u)),p.d(),Y(f,_)}}}function A3(t){let e,n,o;return e=new _o({props:{$$slots:{default:[C3]},$$scope:{ctx:t}}}),{c(){x(e.$$.fragment),n=F()},m(i,r){W(e,i,r),N(i,n,r),o=!0},p(i,r){const l={};r[0]&18|r[1]&2&&(l.$$scope={dirty:r,ctx:i}),e.$set(l)},i(i){o||(C(e.$$.fragment,i),o=!0)},o(i){A(e.$$.fragment,i),o=!1},d(i){i&&M(n),Y(e,i)}}}function pu(t){let e,n;return e=new ho({props:{openDelay:200,closeDelay:0,$$slots:{default:[A3]},$$scope:{ctx:t}}}),{c(){x(e.$$.fragment)},m(o,i){W(e,o,i),n=!0},p(o,i){const r={};i[0]&18|i[1]&2&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){A(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function T3(t){let e;return{c(){e=P("br")},m(n,o){N(n,e,o)},p:Ce,i:Ce,o:Ce,d(n){n&&M(e)}}}function S3(t){let e,n,o,i,r,l,a,s,u,f,c=t[7]&&hu(),d=t[1].currentTutorialStep>0&&_u(t),m=We(Lo),p=[];for(let g=0;g<m.length;g+=1)p[g]=bu(lu(t,m,g));const _=g=>A(p[g],1,1,()=>{p[g]=null});return{c(){e=P("div"),n=P("div"),c&&c.c(),o=F(),i=P("h1"),i.textContent="Milestones",r=F(),d&&d.c(),l=F(),a=P("div");for(let g=0;g<p.length;g+=1)p[g].c();R(i,"class","text-lg w-full text-center"),R(n,"class","text-lg w-full text-center noselect flex flex-col no-select"),R(a,"class","scroll overflow-y-scroll")},m(g,v){N(g,e,v),y(e,n),c&&c.m(n,null),y(n,o),y(n,i),y(n,r),d&&d.m(n,null),y(e,l),y(e,a);for(let h=0;h<p.length;h+=1)p[h]&&p[h].m(a,null);s=!0,u||(f=z(n,"click",t[10]),u=!0)},p(g,v){if(g[7]?c?v[0]&128&&C(c,1):(c=hu(),c.c(),C(c,1),c.m(n,o)):c&&(Te(),A(c,1,1,()=>{c=null}),Se()),g[1].currentTutorialStep>0?d?d.p(g,v):(d=_u(g),d.c(),d.m(n,null)):d&&(d.d(1),d=null),v[0]&10){m=We(Lo);let h;for(h=0;h<m.length;h+=1){const k=lu(g,m,h);p[h]?(p[h].p(k,v),C(p[h],1)):(p[h]=bu(k),p[h].c(),C(p[h],1),p[h].m(a,null))}for(Te(),h=m.length;h<p.length;h+=1)_(h);Se()}},i(g){if(!s){C(c);for(let v=0;v<m.length;v+=1)C(p[v]);s=!0}},o(g){A(c),p=p.filter(Boolean);for(let v=0;v<p.length;v+=1)A(p[v]);s=!1},d(g){g&&M(e),c&&c.d(),d&&d.d(),ut(p,g),u=!1,f()}}}function hu(t){let e,n,o,i,r,l,a,s;return e=new sn({props:{cone:!0,x:[-.5,.5]}}),o=new sn({props:{cone:!0,amount:10,x:[-1,-.4],y:[.25,.75],rounded:!0,size:15}}),r=new sn({props:{cone:!0,amount:10,x:[.4,1],y:[.25,.75]}}),a=new sn({props:{infinite:!0,amount:75,delay:[0,200]}}),{c(){x(e.$$.fragment),n=F(),x(o.$$.fragment),i=F(),x(r.$$.fragment),l=F(),x(a.$$.fragment)},m(u,f){W(e,u,f),N(u,n,f),W(o,u,f),N(u,i,f),W(r,u,f),N(u,l,f),W(a,u,f),s=!0},i(u){s||(C(e.$$.fragment,u),C(o.$$.fragment,u),C(r.$$.fragment,u),C(a.$$.fragment,u),s=!0)},o(u){A(e.$$.fragment,u),A(o.$$.fragment,u),A(r.$$.fragment,u),A(a.$$.fragment,u),s=!1},d(u){u&&(M(n),M(i),M(l)),Y(e,u),Y(o,u),Y(r,u),Y(a,u)}}}function _u(t){let e,n=t[3]?`Hide ${t[1].currentTutorialStep} completed`:`Show ${t[1].currentTutorialStep} completed`,o;return{c(){e=P("span"),o=G(n),R(e,"class","text-xs opacity-65 cursor-pointer pb-2")},m(i,r){N(i,e,r),y(e,o)},p(i,r){r[0]&10&&n!==(n=i[3]?`Hide ${i[1].currentTutorialStep} completed`:`Show ${i[1].currentTutorialStep} completed`)&&ue(o,n)},d(i){i&&M(e)}}}function I3(t){let e,n;return e=new ed({props:{index:t[15],step:t[13]}}),{c(){x(e.$$.fragment)},m(o,i){W(e,o,i),n=!0},p:Ce,i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){A(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function O3(t){let e,n,o=t[3]&&gu(t);return{c(){o&&o.c(),e=Re()},m(i,r){o&&o.m(i,r),N(i,e,r),n=!0},p(i,r){i[3]?o?r[0]&8&&C(o,1):(o=gu(i),o.c(),C(o,1),o.m(e.parentNode,e)):o&&(Te(),A(o,1,1,()=>{o=null}),Se())},i(i){n||(C(o),n=!0)},o(i){A(o),n=!1},d(i){i&&M(e),o&&o.d(i)}}}function gu(t){let e,n;return e=new ed({props:{index:t[15],step:t[13]}}),{c(){x(e.$$.fragment)},m(o,i){W(e,o,i),n=!0},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){A(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function bu(t){let e,n,o,i;const r=[O3,I3],l=[];function a(s,u){return s[1].currentTutorialStep>s[15]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),N(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?l[e].p(s,u):(Te(),A(l[f],1,1,()=>{l[f]=null}),Se(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){A(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function M3(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,p,_,g,v,h,k=We(t[5]),S=[];for(let w=0;w<k.length;w+=1)S[w]=cu(uu(t,k,w));const I=w=>A(S[w],1,1,()=>{S[w]=null});s=new ho({props:{openDelay:200,closeDelay:0,$$slots:{default:[d3]},$$scope:{ctx:t}}});let O=We(t[4]),D=[];for(let w=0;w<O.length;w+=1)D[w]=pu(su(t,O,w));const j=w=>A(D[w],1,1,()=>{D[w]=null}),q=[S3,T3],$=[];function E(w,T){return w[0]?1:0}return _=E(t),g=$[_]=q[_](t),{c(){e=P("div"),n=P("div"),o=P("div"),i=P("h1"),i.textContent="Stats",r=F();for(let w=0;w<S.length;w+=1)S[w].c();l=F(),a=P("div"),x(s.$$.fragment),u=F(),f=P("div"),c=F(),d=P("div"),m=P("div");for(let w=0;w<D.length;w+=1)D[w].c();p=F(),g.c(),R(i,"class","text-lg w-full text-center pb-1"),R(o,"class","flex flex-col rounded-xl gap-2 w-full"),R(n,"class","flex flex-row w-full pb-6"),R(a,"class","flex flex-row justify-center"),R(f,"class","w-[full] flex flex-row justify-center"),R(m,"class","flex flex-col text-md text-nowrap gap-2"),R(d,"class","flex flex-col gap-8 h-full"),R(e,"class",v="bg-sidebarBackground text-sidebarText border-foreground border-4 "+(t[6].visible&&!t[0]?"opacity-0":"")+" z-10 rounded-xl px-2 pt-2 transition-all duration-300 overflow-y-scroll scroll "+(t[0]?"min-w-56":"fixed right-3 top-[190px] sidebar w-[220px] bottom-4"))},m(w,T){N(w,e,T),y(e,n),y(n,o),y(o,i),y(o,r);for(let B=0;B<S.length;B+=1)S[B]&&S[B].m(o,null);y(e,l),y(e,a),W(s,a,null),y(e,u),y(e,f),y(e,c),y(e,d),y(d,m);for(let B=0;B<D.length;B+=1)D[B]&&D[B].m(m,null);y(d,p),$[_].m(d,null),h=!0},p(w,T){if(T[0]&544){k=We(w[5]);let L;for(L=0;L<k.length;L+=1){const U=uu(w,k,L);S[L]?(S[L].p(U,T),C(S[L],1)):(S[L]=cu(U),S[L].c(),C(S[L],1),S[L].m(o,null))}for(Te(),L=k.length;L<S.length;L+=1)I(L);Se()}const B={};if(T[0]&6|T[1]&2&&(B.$$scope={dirty:T,ctx:w}),s.$set(B),T[0]&274){O=We(w[4]);let L;for(L=0;L<O.length;L+=1){const U=su(w,O,L);D[L]?(D[L].p(U,T),C(D[L],1)):(D[L]=pu(U),D[L].c(),C(D[L],1),D[L].m(m,null))}for(Te(),L=O.length;L<D.length;L+=1)j(L);Se()}let V=_;_=E(w),_===V?$[_].p(w,T):(Te(),A($[V],1,1,()=>{$[V]=null}),Se(),g=$[_],g?g.p(w,T):(g=$[_]=q[_](w),g.c()),C(g,1),g.m(d,null)),(!h||T[0]&65&&v!==(v="bg-sidebarBackground text-sidebarText border-foreground border-4 "+(w[6].visible&&!w[0]?"opacity-0":"")+" z-10 rounded-xl px-2 pt-2 transition-all duration-300 overflow-y-scroll scroll "+(w[0]?"min-w-56":"fixed right-3 top-[190px] sidebar w-[220px] bottom-4")))&&R(e,"class",v)},i(w){if(!h){for(let T=0;T<k.length;T+=1)C(S[T]);C(s.$$.fragment,w);for(let T=0;T<O.length;T+=1)C(D[T]);C(g),h=!0}},o(w){S=S.filter(Boolean);for(let T=0;T<S.length;T+=1)A(S[T]);A(s.$$.fragment,w),D=D.filter(Boolean);for(let T=0;T<D.length;T+=1)A(D[T]);A(g),h=!1},d(w){w&&M(e),ut(S,w),Y(s),ut(D,w),$[_].d()}}}function P3(t){return["food","wood","stone","metal","power","knowledge"].includes(t)}function vu(t){let e=0;for(let n=0;n<t.plots.length;n++)for(let o=0;o<t.plots[n].length;o++)t.plots[n][o].active==!0&&t.plots[n][o].type>-1&&e++;return e}function N3(t,e,n){let o,i,r;se(t,De,g=>n(1,o=g)),se(t,tt,g=>n(6,i=g)),se(t,Ro,g=>n(7,r=g));let l=!1,a=!1,{mini:s=!1}=e,u=[];function f(g){let v=[];for(let h=0;h<oe.length;h++)(g!="knowledge"&&oe[h].requirements.resources[g]>0||g=="power"&&oe[h].active_costs.power>0||g=="knowledge"&&oe[h].requirements.knowledge>0)&&v.push(oe[h].title);return v}function c(g){return P3(g)?f(g):[]}let d;const m=g=>g===1?"bg-green-500":g>.9?"bg-yellow-500":"bg-red-500",p=g=>g>149?"bg-green-500":g>99?"bg-yellow-500":"bg-red-500",_=()=>{n(3,a=!a)};return t.$$set=g=>{"mini"in g&&n(0,s=g.mini)},t.$$.update=()=>{t.$$.dirty[0]&2&&n(2,l=o.resources.food>=o.resource_capacity||o.resources.wood>=o.resource_capacity||o.resources.stone>=o.resource_capacity||o.resources.metal>=o.resource_capacity),t.$$.dirty[0]&2&&n(4,u=[{icon:"💰",name:"gold",value:o.townInfo.gold,rate:o.economyAndLaws.weeklyProfit},{icon:"🥕",name:"food",value:o.resources.food,rate:o.resource_rate.food},{icon:"🪵",name:"wood",value:o.resources.wood,rate:o.resource_rate.wood},{icon:"🪨",name:"stone",value:o.resources.stone,rate:o.resource_rate.stone},{icon:"🧠",name:"knowledge",value:o.townInfo.knowledge_points,rate:o.resource_rate.knowledge},{icon:"🧲",name:"metal",value:o.resources.metal,rate:o.resource_rate.metal},{icon:"🔋",name:"power",value:o.resources.power,rate:null},{icon:"🧑‍⚖️",name:"bureaucracy",value:o.resources.bureaucracy,rate:o.resource_rate.bureaucracy}]),t.$$.dirty[0]&2&&n(5,d=[{name:"Happiness",description:"Happy townspeople spend more money and are less likely to leave.",value:o.townInfo.happiness,modifier:o.modifiers.happiness,color:p(o.townInfo.happiness),hover:!0,max:300},{name:"Health",description:"Healthy townspeople are less likely to die (and leave the town obviously).",value:o.townInfo.health,modifier:o.modifiers.health,color:p(o.townInfo.health),hover:!0,max:300},{name:"Community",description:"Townspeople that feel at home are less likely to leave, and less likely to get bored.",value:o.townInfo.community,modifier:o.modifiers.community,color:p(o.townInfo.community),hover:!0,max:300},{name:"Employment",description:"The number of people employed in your town. Unemployed people are more likely to leave.",value:o.townInfo.employees,modifier:null,color:m(o.townInfo.employees/o.townInfo.population_count),hover:!0,max:o.townInfo.population_count},{name:"🛝 Recreation",description:"Tracker for how many plots you have for recreation, which keeps townspeople happy. <br/><br/>Make sure as your town grows that you build enough 🛝 plots. ",value:o.townInfo.recreation,modifier:null,color:o.townInfo.recreation/vu(o)>=.2?"bg-green-500":"bg-orange-300",hover:!0,max:vu(o)}])},[s,o,l,a,u,d,i,r,c,p,_]}class td extends me{constructor(e){super(),de(this,e,N3,M3,ce,{mini:0},null,[-1,-1])}}function yu(t,e,n){const o=t.slice();return o[4]=e[n],o[6]=n,o}function wu(t,e,n){const o=t.slice();return o[4]=e[n],o[6]=n,o}function ku(t,e,n){const o=t.slice();return o[4]=e[n],o[6]=n,o}function Cu(t){let e,n,o,i=oe[we(t[0].id)].title+"",r,l,a,s=oe[we(t[0].id)].description+"",u,f,c,d,m,p,_,g,v,h=t[3]("💰",oe[we(t[0].id)].requirements.gold,t[2].townInfo.gold)+"",k,S,I=t[3]("🥕",oe[we(t[0].id)].requirements.resources.food,t[2].resources.food)+"",O,D,j=t[3]("🧠",oe[we(t[0].id)].requirements.knowledge,t[2].townInfo.knowledge_points)+"",q,$,E=t[3]("🪵",oe[we(t[0].id)].requirements.resources.wood,t[2].resources.wood)+"",w,T,B=t[3]("🪨",oe[we(t[0].id)].requirements.resources.stone,t[2].resources.stone)+"",V,L,U=t[3]("🧲",oe[we(t[0].id)].requirements.resources.metal,t[2].resources.metal)+"",Q,Z,te=t[3]("🔋",oe[we(t[0].id)].active_costs.power,t[2].resources.power)+"",ee,fe,Ae=t[3]("🧑‍⚖️",oe[we(t[0].id)].requirements.resources.bureaucracy,t[2].resources.bureaucracy)+"",Ie,ne=oe[we(t[0].id)].requirements.employees!=0,b,X=oe[we(t[0].id)].revenue_per_week!=0,K,re=Object.values(oe[we(t[0].id)].active_costs).some(qu),ye,Oe=Object.values(oe[we(t[0].id)].requirements.plots).length>0,He,xe=Object.values(oe[we(t[0].id)].generated_resources).some($u)||oe[we(t[0].id)].knowledge_points_per_month>0,Xe;d=new Tt({props:{class:"bg-accent opacity-25 mt-1 mb-1"}});let Ge=ne&&Au(t),Ue=X&&Tu(t),Je=re&&Su(t),Ke=Oe&&Mu(t),Ve=xe&&Eu(t);return{c(){e=P("div"),n=P("div"),o=P("span"),r=G(i),l=F(),a=P("span"),u=G(s),f=F(),c=P("div"),x(d.$$.fragment),m=F(),p=P("span"),p.textContent="Requirements",_=F(),g=P("div"),v=new Kt(!1),k=F(),S=new Kt(!1),O=F(),D=new Kt(!1),q=F(),$=new Kt(!1),w=F(),T=new Kt(!1),V=F(),L=new Kt(!1),Q=F(),Z=new Kt(!1),ee=F(),fe=new Kt(!1),Ie=F(),Ge&&Ge.c(),b=F(),Ue&&Ue.c(),K=F(),Je&&Je.c(),ye=F(),Ke&&Ke.c(),He=F(),Ve&&Ve.c(),R(o,"class","text-md"),R(a,"class","text-xs"),R(n,"class","flex flex-col gap-2"),R(p,"class","font-semibold"),v.a=k,S.a=O,D.a=q,$.a=w,T.a=V,L.a=Q,Z.a=ee,fe.a=Ie,R(g,"class","flex flex-row gap-1 flex-wrap"),R(c,"class","flex flex-col w-36 h-min gap-0 text-xs pb-2"),R(e,"class","p-2 max-w-64")},m(ke,Me){N(ke,e,Me),y(e,n),y(n,o),y(o,r),y(n,l),y(n,a),y(a,u),y(e,f),y(e,c),W(d,c,null),y(c,m),y(c,p),y(c,_),y(c,g),v.m(h,g),y(g,k),S.m(I,g),y(g,O),D.m(j,g),y(g,q),$.m(E,g),y(g,w),T.m(B,g),y(g,V),L.m(U,g),y(g,Q),Z.m(te,g),y(g,ee),fe.m(Ae,g),y(g,Ie),Ge&&Ge.m(g,null),y(e,b),Ue&&Ue.m(e,null),y(e,K),Je&&Je.m(e,null),y(e,ye),Ke&&Ke.m(e,null),y(e,He),Ve&&Ve.m(e,null),Xe=!0},p(ke,Me){(!Xe||Me&1)&&i!==(i=oe[we(ke[0].id)].title+"")&&ue(r,i),(!Xe||Me&1)&&s!==(s=oe[we(ke[0].id)].description+"")&&ue(u,s),(!Xe||Me&5)&&h!==(h=ke[3]("💰",oe[we(ke[0].id)].requirements.gold,ke[2].townInfo.gold)+"")&&v.p(h),(!Xe||Me&5)&&I!==(I=ke[3]("🥕",oe[we(ke[0].id)].requirements.resources.food,ke[2].resources.food)+"")&&S.p(I),(!Xe||Me&5)&&j!==(j=ke[3]("🧠",oe[we(ke[0].id)].requirements.knowledge,ke[2].townInfo.knowledge_points)+"")&&D.p(j),(!Xe||Me&5)&&E!==(E=ke[3]("🪵",oe[we(ke[0].id)].requirements.resources.wood,ke[2].resources.wood)+"")&&$.p(E),(!Xe||Me&5)&&B!==(B=ke[3]("🪨",oe[we(ke[0].id)].requirements.resources.stone,ke[2].resources.stone)+"")&&T.p(B),(!Xe||Me&5)&&U!==(U=ke[3]("🧲",oe[we(ke[0].id)].requirements.resources.metal,ke[2].resources.metal)+"")&&L.p(U),(!Xe||Me&5)&&te!==(te=ke[3]("🔋",oe[we(ke[0].id)].active_costs.power,ke[2].resources.power)+"")&&Z.p(te),(!Xe||Me&5)&&Ae!==(Ae=ke[3]("🧑‍⚖️",oe[we(ke[0].id)].requirements.resources.bureaucracy,ke[2].resources.bureaucracy)+"")&&fe.p(Ae),Me&1&&(ne=oe[we(ke[0].id)].requirements.employees!=0),ne?Ge?Ge.p(ke,Me):(Ge=Au(ke),Ge.c(),Ge.m(g,null)):Ge&&(Ge.d(1),Ge=null),Me&1&&(X=oe[we(ke[0].id)].revenue_per_week!=0),X?Ue?(Ue.p(ke,Me),Me&1&&C(Ue,1)):(Ue=Tu(ke),Ue.c(),C(Ue,1),Ue.m(e,K)):Ue&&(Te(),A(Ue,1,1,()=>{Ue=null}),Se()),Me&1&&(re=Object.values(oe[we(ke[0].id)].active_costs).some(qu)),re?Je?(Je.p(ke,Me),Me&1&&C(Je,1)):(Je=Su(ke),Je.c(),C(Je,1),Je.m(e,ye)):Je&&(Te(),A(Je,1,1,()=>{Je=null}),Se()),Me&1&&(Oe=Object.values(oe[we(ke[0].id)].requirements.plots).length>0),Oe?Ke?(Ke.p(ke,Me),Me&1&&C(Ke,1)):(Ke=Mu(ke),Ke.c(),C(Ke,1),Ke.m(e,He)):Ke&&(Te(),A(Ke,1,1,()=>{Ke=null}),Se()),Me&1&&(xe=Object.values(oe[we(ke[0].id)].generated_resources).some($u)||oe[we(ke[0].id)].knowledge_points_per_month>0),xe?Ve?(Ve.p(ke,Me),Me&1&&C(Ve,1)):(Ve=Eu(ke),Ve.c(),C(Ve,1),Ve.m(e,null)):Ve&&(Te(),A(Ve,1,1,()=>{Ve=null}),Se())},i(ke){Xe||(C(d.$$.fragment,ke),C(Ue),C(Je),C(Ke),C(Ve),Xe=!0)},o(ke){A(d.$$.fragment,ke),A(Ue),A(Je),A(Ke),A(Ve),Xe=!1},d(ke){ke&&M(e),Y(d),Ge&&Ge.d(),Ue&&Ue.d(),Je&&Je.d(),Ke&&Ke.d(),Ve&&Ve.d()}}}function Au(t){let e,n,o=oe[we(t[0].id)].requirements.employees+"",i,r,l;return{c(){e=P("span"),n=G("👥 "),i=G(o),r=G(" employees"),R(e,"class",l=oe[we(t[0].id)].requirements.employees>t[2].townInfo.population_count-t[2].townInfo.employees&&t[1]?"px-1 text-textDanger font-bold border-2 border-red-400":"")},m(a,s){N(a,e,s),y(e,n),y(e,i),y(e,r)},p(a,s){s&1&&o!==(o=oe[we(a[0].id)].requirements.employees+"")&&ue(i,o),s&7&&l!==(l=oe[we(a[0].id)].requirements.employees>a[2].townInfo.population_count-a[2].townInfo.employees&&a[1]?"px-1 text-textDanger font-bold border-2 border-red-400":"")&&R(e,"class",l)},d(a){a&&M(e)}}}function Tu(t){let e,n,o,i,r,l,a,s=oe[we(t[0].id)].revenue_per_week+"",u,f;return n=new Tt({props:{class:"bg-accent opacity-25 mt-0"}}),{c(){e=P("div"),x(n.$$.fragment),o=F(),i=P("span"),i.textContent="Weekly revenue",r=F(),l=P("span"),a=G("💰 "),u=G(s),R(i,"class","font-semibold"),R(e,"class","flex flex-col gap-1 text-xs")},m(c,d){N(c,e,d),W(n,e,null),y(e,o),y(e,i),y(e,r),y(e,l),y(l,a),y(l,u),f=!0},p(c,d){(!f||d&1)&&s!==(s=oe[we(c[0].id)].revenue_per_week+"")&&ue(u,s)},i(c){f||(C(n.$$.fragment,c),f=!0)},o(c){A(n.$$.fragment,c),f=!1},d(c){c&&M(e),Y(n)}}}function Su(t){let e,n,o,i,r,l;n=new Tt({props:{class:"bg-accent opacity-25 mt-2"}});let a=We(Object.keys(oe[we(t[0].id)].active_costs)),s=[];for(let u=0;u<a.length;u+=1)s[u]=Ou(ku(t,a,u));return{c(){e=P("div"),x(n.$$.fragment),o=F(),i=P("span"),i.textContent="Weekly Costs",r=F();for(let u=0;u<s.length;u+=1)s[u].c();R(i,"class","font-semibold"),R(e,"class","flex flex-col gap-1 text-xs")},m(u,f){N(u,e,f),W(n,e,null),y(e,o),y(e,i),y(e,r);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(e,null);l=!0},p(u,f){if(f&1){a=We(Object.keys(oe[we(u[0].id)].active_costs));let c;for(c=0;c<a.length;c+=1){const d=ku(u,a,c);s[c]?s[c].p(d,f):(s[c]=Ou(d),s[c].c(),s[c].m(e,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=a.length}},i(u){l||(C(n.$$.fragment,u),l=!0)},o(u){A(n.$$.fragment,u),l=!1},d(u){u&&M(e),Y(n),ut(s,u)}}}function Iu(t){let e,n=Tn(t[4])+"",o,i,r=Bi(t[4])+"",l,a,s=-1*Object.values(oe[we(t[0].id)].active_costs)[t[6]]+"",u,f,c;return{c(){e=P("span"),o=G(n),i=F(),l=G(r),a=F(),u=G(s),f=F(),R(e,"class",c=Object.values(oe[we(t[0].id)].active_costs)[t[6]]>0?"text-textDanger":"text-textHappy")},m(d,m){N(d,e,m),y(e,o),y(e,i),y(e,l),y(e,a),y(e,u),y(e,f)},p(d,m){m&1&&n!==(n=Tn(d[4])+"")&&ue(o,n),m&1&&r!==(r=Bi(d[4])+"")&&ue(l,r),m&1&&s!==(s=-1*Object.values(oe[we(d[0].id)].active_costs)[d[6]]+"")&&ue(u,s),m&1&&c!==(c=Object.values(oe[we(d[0].id)].active_costs)[d[6]]>0?"text-textDanger":"text-textHappy")&&R(e,"class",c)},d(d){d&&M(e)}}}function Ou(t){let e=Object.values(oe[we(t[0].id)].active_costs)[t[6]]!=0,n,o=e&&Iu(t);return{c(){o&&o.c(),n=Re()},m(i,r){o&&o.m(i,r),N(i,n,r)},p(i,r){r&1&&(e=Object.values(oe[we(i[0].id)].active_costs)[i[6]]!=0),e?o?o.p(i,r):(o=Iu(i),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(i){i&&M(n),o&&o.d(i)}}}function Mu(t){let e,n,o,i,r,l;n=new Tt({props:{class:"bg-accent opacity-25 mt-2"}});let a=We(Object.keys(oe[we(t[0].id)].requirements.plots)),s=[];for(let u=0;u<a.length;u+=1)s[u]=Nu(wu(t,a,u));return{c(){e=P("div"),x(n.$$.fragment),o=F(),i=P("span"),i.textContent="Required Plots",r=F();for(let u=0;u<s.length;u+=1)s[u].c();R(i,"class","font-semibold"),R(e,"class","flex flex-col gap-1 text-xs")},m(u,f){N(u,e,f),W(n,e,null),y(e,o),y(e,i),y(e,r);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(e,null);l=!0},p(u,f){if(f&5){a=We(Object.keys(oe[we(u[0].id)].requirements.plots));let c;for(c=0;c<a.length;c+=1){const d=wu(u,a,c);s[c]?s[c].p(d,f):(s[c]=Nu(d),s[c].c(),s[c].m(e,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=a.length}},i(u){l||(C(n.$$.fragment,u),l=!0)},o(u){A(n.$$.fragment,u),l=!1},d(u){u&&M(e),Y(n),ut(s,u)}}}function Pu(t){var l;let e,n=((l=jl(Object.values(oe[we(t[0].id)].requirements.plots)[t[6]]))==null?void 0:l.title)+"",o,i,r;return{c(){e=P("span"),o=G(n),i=F(),R(e,"class",r=$e(Object.values(oe[we(t[0].id)].requirements.plots)[t[6]],t[2]).length==0?"text-textDanger border-2 border-red-400 font-semibold px-1":"text-textHappy")},m(a,s){N(a,e,s),y(e,o),y(e,i)},p(a,s){var u;s&1&&n!==(n=((u=jl(Object.values(oe[we(a[0].id)].requirements.plots)[a[6]]))==null?void 0:u.title)+"")&&ue(o,n),s&5&&r!==(r=$e(Object.values(oe[we(a[0].id)].requirements.plots)[a[6]],a[2]).length==0?"text-textDanger border-2 border-red-400 font-semibold px-1":"text-textHappy")&&R(e,"class",r)},d(a){a&&M(e)}}}function Nu(t){let e=Object.values(oe[we(t[0].id)].requirements.plots)[t[6]]!=0,n,o=e&&Pu(t);return{c(){o&&o.c(),n=Re()},m(i,r){o&&o.m(i,r),N(i,n,r)},p(i,r){r&1&&(e=Object.values(oe[we(i[0].id)].requirements.plots)[i[6]]!=0),e?o?o.p(i,r):(o=Pu(i),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(i){i&&M(n),o&&o.d(i)}}}function Eu(t){let e,n,o,i,r,l=oe[we(t[0].id)].knowledge_points_per_month>0,a,s;n=new Tt({props:{class:"bg-accent opacity-25 mt-2"}});let u=l&&Ru(t),f=We(Object.keys(oe[we(t[0].id)].generated_resources)),c=[];for(let d=0;d<f.length;d+=1)c[d]=Du(yu(t,f,d));return{c(){e=P("div"),x(n.$$.fragment),o=F(),i=P("span"),i.textContent="Generated Resources",r=F(),u&&u.c(),a=F();for(let d=0;d<c.length;d+=1)c[d].c();R(i,"class","font-semibold"),R(e,"class","flex flex-col gap-1 text-xs")},m(d,m){N(d,e,m),W(n,e,null),y(e,o),y(e,i),y(e,r),u&&u.m(e,null),y(e,a);for(let p=0;p<c.length;p+=1)c[p]&&c[p].m(e,null);s=!0},p(d,m){if(m&1&&(l=oe[we(d[0].id)].knowledge_points_per_month>0),l?u?u.p(d,m):(u=Ru(d),u.c(),u.m(e,a)):u&&(u.d(1),u=null),m&1){f=We(Object.keys(oe[we(d[0].id)].generated_resources));let p;for(p=0;p<f.length;p+=1){const _=yu(d,f,p);c[p]?c[p].p(_,m):(c[p]=Du(_),c[p].c(),c[p].m(e,null))}for(;p<c.length;p+=1)c[p].d(1);c.length=f.length}},i(d){s||(C(n.$$.fragment,d),s=!0)},o(d){A(n.$$.fragment,d),s=!1},d(d){d&&M(e),Y(n),u&&u.d(),ut(c,d)}}}function Ru(t){let e,n,o=Math.round(oe[we(t[0].id)].knowledge_points_per_month)+"",i,r;return{c(){e=P("span"),n=G("🧠 "),i=G(o),r=G(" (monthly)")},m(l,a){N(l,e,a),y(e,n),y(e,i),y(e,r)},p(l,a){a&1&&o!==(o=Math.round(oe[we(l[0].id)].knowledge_points_per_month)+"")&&ue(i,o)},d(l){l&&M(e)}}}function Lu(t){let e,n=Bi(t[4])+"",o,i,r=Tn(t[4])+"",l,a,s=Hl(Object.values(oe[we(t[0].id)].generated_resources)[t[6]],!1)+"",u,f,c;return{c(){e=P("span"),o=G(n),i=F(),l=G(r),a=F(),u=G(s),f=F(),R(e,"class",c=Object.values(oe[we(t[0].id)].generated_resources)[t[6]]>0?"text-textHappy":"text-textDanger")},m(d,m){N(d,e,m),y(e,o),y(e,i),y(e,l),y(e,a),y(e,u),y(e,f)},p(d,m){m&1&&n!==(n=Bi(d[4])+"")&&ue(o,n),m&1&&r!==(r=Tn(d[4])+"")&&ue(l,r),m&1&&s!==(s=Hl(Object.values(oe[we(d[0].id)].generated_resources)[d[6]],!1)+"")&&ue(u,s),m&1&&c!==(c=Object.values(oe[we(d[0].id)].generated_resources)[d[6]]>0?"text-textHappy":"text-textDanger")&&R(e,"class",c)},d(d){d&&M(e)}}}function Du(t){let e=Object.values(oe[we(t[0].id)].generated_resources)[t[6]]!=0,n,o=e&&Lu(t);return{c(){o&&o.c(),n=Re()},m(i,r){o&&o.m(i,r),N(i,n,r)},p(i,r){r&1&&(e=Object.values(oe[we(i[0].id)].generated_resources)[i[6]]!=0),e?o?o.p(i,r):(o=Lu(i),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(i){i&&M(n),o&&o.d(i)}}}function E3(t){let e,n,o=t[0]!=null&&Cu(t);return{c(){o&&o.c(),e=Re()},m(i,r){o&&o.m(i,r),N(i,e,r),n=!0},p(i,[r]){i[0]!=null?o?(o.p(i,r),r&1&&C(o,1)):(o=Cu(i),o.c(),C(o,1),o.m(e.parentNode,e)):o&&(Te(),A(o,1,1,()=>{o=null}),Se())},i(i){n||(C(o),n=!0)},o(i){A(o),n=!1},d(i){i&&M(e),o&&o.d(i)}}}function Bi(t){switch(t){case"food":return"🥕";case"knowledge":return"🧠";case"wood":return"🪵";case"stone":return"🪨";case"metal":return"🧲";case"power":return"🔋";case"bureaucracy":return"🧑‍⚖️";default:return"💰"}}const $u=t=>t!=0,qu=t=>t!=0;function R3(t,e,n){let o;se(t,De,a=>n(2,o=a));let{option:i}=e,{checkRequirements:r=!0}=e;function l(a,s,u){if(s==0||s==null)return"<span class='hidden'></span>";let f="",c="";return u<s&&r&&(c="text-textDanger border-2 border-red-400 px-2"),f=`<span class='${c}'>${a} ${s}</span>`,f}return t.$$set=a=>{"option"in a&&n(0,i=a.option),"checkRequirements"in a&&n(1,r=a.checkRequirements)},[i,r,o,l]}class nd extends me{constructor(e){super(),de(this,e,R3,E3,ce,{option:0,checkRequirements:1})}}function Fu(t){let e,n;return{c(){e=P("span"),n=G(t[3]),R(e,"class","text-[11px] text-wrap")},m(o,i){N(o,e,i),y(e,n)},p(o,i){i&8&&ue(n,o[3])},d(o){o&&M(e)}}}function L3(t){let e,n,o,i,r;return{c(){e=P("span"),n=G(`Hires
              `),o=P("span"),i=G(t[9]),r=G(`

              employees`),R(o,"class",t[10]+" font-medium"),R(e,"class","text-[11px] opacity-80")},m(l,a){N(l,e,a),y(e,n),y(e,o),y(o,i),y(e,r)},p:Ce,d(l){l&&M(e)}}}function D3(t){let e;return{c(){e=P("span"),e.textContent=`+💰${fn(t[8],!1)}/wk`},m(n,o){N(n,e,o)},p:Ce,d(n){n&&M(e)}}}function $3(t){let e;return{c(){e=P("span"),e.textContent=`🔌${t[11]}`},m(n,o){N(n,e,o)},p:Ce,d(n){n&&M(e)}}}function q3(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,p=fn(t[6],!1)+"",_,g,v,h,k,S,I,O,D=t[3]&&Fu(t),j=t[9]&&L3(t),q=t[8]>0&&D3(t),$=t[11]>0&&$3(t);return{c(){e=P("div"),n=P("div"),o=P("div"),i=P("span"),i.textContent=`${t[5]}`,r=F(),l=P("span"),l.textContent=`${t[4]}`,a=F(),D&&D.c(),s=F(),u=P("div"),j&&j.c(),f=F(),c=P("div"),d=P("span"),m=G("💰"),_=G(p),g=F(),q&&q.c(),v=F(),h=P("div"),$&&$.c(),R(i,"class","text-3xl"),R(l,"class","font-medium text-center text-md"),R(o,"class","flex flex-col flex-grow rounded-xl p-2 gap-0 justify-center items-center"),R(d,"class",""+t[7]),R(c,"class","flex flex-row justify-between mx-2 text-[11px] font-mono items-center"),R(h,"class","flex flex-row justify-between mx-2 text-[11px] font-mono"),R(u,"class","bg-sidebarBackground text-black rounded-t-lg py-1"),R(n,"class",k="flex flex-col w-36 h-48 min-h-32 min-w-36 rounded-xl text-white drop-shadow-lg border-black border-2 hover:translate-y-[-8px] transition-transform duration-300 ease-in-out z-100 "+(t[2]?"cursor-pointer":"cursor-not-allowed opacity-30")),et(n,"background",t[12]),R(e,"class","plotOption"),R(e,"data-plotoptionid",S=t[0].id)},m(E,w){N(E,e,w),y(e,n),y(n,o),y(o,i),y(o,r),y(o,l),y(o,a),D&&D.m(o,null),y(n,s),y(n,u),j&&j.m(u,null),y(u,f),y(u,c),y(c,d),y(d,m),y(d,_),y(c,g),q&&q.m(c,null),y(u,v),y(u,h),$&&$.m(h,null),I||(O=z(e,"click",function(){Dt(t[2]?t[15]:Bu)&&(t[2]?t[15]:Bu).apply(this,arguments)}),I=!0)},p(E,w){t=E,t[3]?D?D.p(t,w):(D=Fu(t),D.c(),D.m(o,null)):D&&(D.d(1),D=null),t[9]&&j.p(t,w),t[8]>0&&q.p(t,w),t[11]>0&&$.p(t,w),w&4&&k!==(k="flex flex-col w-36 h-48 min-h-32 min-w-36 rounded-xl text-white drop-shadow-lg border-black border-2 hover:translate-y-[-8px] transition-transform duration-300 ease-in-out z-100 "+(t[2]?"cursor-pointer":"cursor-not-allowed opacity-30"))&&R(n,"class",k),w&1&&S!==(S=t[0].id)&&R(e,"data-plotoptionid",S)},d(E){E&&M(e),D&&D.d(),j&&j.d(),q&&q.d(),$&&$.d(),I=!1,O()}}}function F3(t){let e,n;return e=new nd({props:{option:t[0],checkRequirements:!0}}),{c(){x(e.$$.fragment)},m(o,i){W(e,o,i),n=!0},p(o,i){const r={};i&1&&(r.option=o[0]),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){A(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function B3(t){let e,n,o,i;return e=new _o({props:{$$slots:{default:[q3]},$$scope:{ctx:t}}}),o=new po({props:{$$slots:{default:[F3]},$$scope:{ctx:t}}}),{c(){x(e.$$.fragment),n=F(),x(o.$$.fragment)},m(r,l){W(e,r,l),N(r,n,l),W(o,r,l),i=!0},p(r,l){const a={};l&262159&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&262145&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){A(e.$$.fragment,r),A(o.$$.fragment,r),i=!1},d(r){r&&M(n),Y(e,r),Y(o,r)}}}function j3(t){let e,n;return e=new ho({props:{openDelay:200,closeDelay:0,$$slots:{default:[B3]},$$scope:{ctx:t}}}),{c(){x(e.$$.fragment)},m(o,i){W(e,o,i),n=!0},p(o,[i]){const r={};i&262159&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){A(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}const Bu=()=>{};function H3(t,e,n){let o;se(t,De,I=>n(14,o=I));let{option:i}=e,r=o,{purchaseCallback:l}=e,{canPurchase:a}=e,s=i.title.substring(2),u=i.title.substring(0,2),f=i.requirements.gold,c=r.townInfo.gold<f?"text-red-500 font-semibold":"",d=i.revenue_per_week,m=i.requirements.employees,p=r.townInfo.population_count-r.townInfo.employees<m?"text-red-500 font-semibold":"",_=i.active_costs.power,g=Ir(we(i.id),!1,5),{count:v=0}=e,h="";const k=Object.entries(i.generated_resources).filter(([I,O])=>O>0).map(([I,O])=>`${O} ${I}`);k.length>0&&(h=`Produces: ${k.join(", ")}`);const S=()=>l(i);return t.$$set=I=>{"option"in I&&n(0,i=I.option),"purchaseCallback"in I&&n(1,l=I.purchaseCallback),"canPurchase"in I&&n(2,a=I.canPurchase),"count"in I&&n(13,v=I.count)},t.$$.update=()=>{t.$$.dirty&16384&&(r=o)},[i,l,a,h,s,u,f,c,d,m,p,_,g,v,o,S]}class G3 extends me{constructor(e){super(),de(this,e,H3,j3,ce,{option:0,purchaseCallback:1,canPurchase:2,count:13})}}function ju(t,e,n){const o=t.slice();return o[16]=e[n],o}function Hu(t){let e,n,o,i,r,l,a,s=[],u=new Map,f,c,d,m,p,_,g,v=We(t[1].filter(t[8]));const h=k=>k[16].id;for(let k=0;k<v.length;k+=1){let S=ju(t,v,k),I=h(S);u.set(I,s[k]=Gu(I,S))}return m=new td({props:{mini:!0}}),{c(){e=P("div"),n=P("div"),o=P("div"),i=P("div"),r=P("div"),l=P("div"),a=P("div");for(let k=0;k<s.length;k+=1)s[k].c();c=F(),d=P("div"),x(m.$$.fragment),R(a,"class",f="flex flex-row text-start justify-start items-start flex-wrap py-8 "+(t[2].isMineralSource,"pt-6 gap-2")+" w-full align-middle"),R(r,"class","flex gap-1 pb-24 overflow-scroll max-h-["+Vu+"]"),R(i,"class","flex flex-row gap-2 justify-start pt-8 flex-grow w-full"),R(n,"class","h-max w-full flex-grow"),R(e,"class","w-[100vw] fixed bottom-[-5px] max-h-["+Vu+"] z-50 flex flex-row justify-center text-center items-center bg-popupBackground text-sidebarText px-4 align-bottom shadow-2xl rounded-t-2xl")},m(k,S){N(k,e,S),y(e,n),y(n,o),y(o,i),y(i,r),y(r,l),y(l,a);for(let I=0;I<s.length;I+=1)s[I]&&s[I].m(a,null);y(e,c),y(e,d),W(m,d,null),p=!0,_||(g=z(i,"click",t[3]),_=!0)},p(k,S){S&14&&(v=We(k[1].filter(k[8])),Te(),s=Ad(s,S,h,1,k,v,u,a,Cd,Gu,null,ju),Se()),(!p||S&4&&f!==(f="flex flex-row text-start justify-start items-start flex-wrap py-8 "+(k[2].isMineralSource,"pt-6 gap-2")+" w-full align-middle"))&&R(a,"class",f)},i(k){if(!p){for(let S=0;S<v.length;S+=1)C(s[S]);C(m.$$.fragment,k),p=!0}},o(k){for(let S=0;S<s.length;S+=1)A(s[S]);A(m.$$.fragment,k),p=!1},d(k){k&&M(e);for(let S=0;S<s.length;S+=1)s[S].d();Y(m),_=!1,g()}}}function Gu(t,e){let n,o,i;return o=new G3({props:{option:e[16],purchaseCallback:e[3],canPurchase:e[16].affordable??!1}}),{key:t,first:null,c(){n=Re(),x(o.$$.fragment),this.first=n},m(r,l){N(r,n,l),W(o,r,l),i=!0},p(r,l){e=r;const a={};l&6&&(a.option=e[16]),l&6&&(a.canPurchase=e[16].affordable??!1),o.$set(a)},i(r){i||(C(o.$$.fragment,r),i=!0)},o(r){A(o.$$.fragment,r),i=!1},d(r){r&&M(n),Y(o,r)}}}function V3(t){let e,n,o=t[0]&&Hu(t);return{c(){o&&o.c(),e=Re()},m(i,r){o&&o.m(i,r),N(i,e,r),n=!0},p(i,[r]){i[0]?o?(o.p(i,r),r&1&&C(o,1)):(o=Hu(i),o.c(),C(o,1),o.m(e.parentNode,e)):o&&(Te(),A(o,1,1,()=>{o=null}),Se())},i(i){n||(C(o),n=!0)},o(i){A(o),n=!1},d(i){i&&M(e),o&&o.d(i)}}}const Vu="50vh";function W3(t,e,n){let o,i;se(t,De,v=>n(7,o=v)),se(t,tt,v=>n(2,i=v));let{x:r=0}=e,{y:l=0}=e,{open:a=!1}=e,{tooltip:s=""}=e,u=oe,f=u.map(v=>Object.assign(Object.assign({},v),{affordable:d(v,o),selected:c(v)}));function c(v){return o.plots[r][l].type>-1?u[o.plots[r][l].type].id===v.id:!1}function d(v,h){let k=!0;v.requirements.gold>h.townInfo.gold&&(k=!1);let S=h.townInfo.population_count-h.townInfo.employees;return v.requirements.employees!==void 0&&v.requirements.employees>0&&v.requirements.employees>S&&(k=!1),v.requirements.knowledge!==void 0&&v.requirements.knowledge>h.townInfo.knowledge_points&&(k=!1),v.requirements.resources!==void 0&&Object.keys(v.requirements.resources).forEach(I=>{v.requirements.resources[I]!=0&&o.resources[I]<v.requirements.resources[I]&&(k=!1)}),v.active_costs!==void 0&&(v.active_costs.gold>h.townInfo.gold||v.active_costs.power>h.resources.power||v.active_costs.wood>h.resources.wood||v.active_costs.stone>h.resources.stone||v.active_costs.metal>h.resources.metal||v.active_costs.bureaucracy>h.resources.bureaucracy||v.active_costs.food>h.resources.food)&&(k=!1),v.requirements.plots.length>0&&v.requirements.plots.forEach(I=>{$e(I,h).length===0&&(k=!1)}),k}function m(v){const h=v.target.closest(".plotOption");if(h){const k=h.dataset.plotoptionid;p(k)}}function p(v){document.querySelectorAll(".plotOption").forEach(S=>{S.classList.remove("active")});const k=document.querySelector(`[data-plotoptionid="${v}"]`);k&&(k.classList.add("active"),_(r,l,v))}function _(v,h,k,S=!1){let I=o;const O=oe.findIndex(E=>E.id===k),D=Object.entries(oe[O].requirements).map(([E,w])=>`<li>${Tn(E)}: ${w}</li>`);let j=oe[O];if(d(j,o)==!1)return ht.set(`You can not afford this.
        <br/><br/>
        ${D}`);if(j.requirements.adjacent_plots!==void 0&&!S){let E=j.requirements.adjacent_plots;if(bm(v,h,I,j.requirements.adjacent_plots)===!1)return ht.set(`This plot requires adjacent plots of type: ${E.join(", ")}`)}let q=!0;if((j.requirements.gold>I.townInfo.gold||j.requirements.employees>I.townInfo.population_count-I.townInfo.employees)&&(q=!1),j.requirements.size!=null&&j.requirements.size!=1&&q||!S){let B=function(V,L){let U={x:V,y:L};return U.x===0&&U.y===0?!0:[{x:U.x-1,y:U.y},{x:U.x+1,y:U.y},{x:U.x,y:U.y-1},{x:U.x,y:U.y+1}].some(Z=>Z.x<0||Z.x>o.plots.length-1||Z.y<0||Z.y>o.plots.length-1?!1:o.plots[Z.x][Z.y].active)};var $=B;let E=j.requirements.size,w=[],T=u[O].title.toLowerCase().indexOf("school")!=-1;for(let V=0;V<4;V++){let L=[[v,h]];V===0?(L.push([v-(E-1),h-(E-1)]),L.push([v-(E-1),h]),L.push([v,h-(E-1)])):V===1?(L.push([v,h-(E-1)]),L.push([v+(E-1),h-(E-1)]),L.push([v+(E-1),h])):V===2?(L.push([v-(E-1),h]),L.push([v-(E-1),h+(E-1)]),L.push([v,h+(E-1)])):V===3&&(L.push([v,h+(E-1)]),L.push([v+(E-1),h+(E-1)]),L.push([v+(E-1),h])),w.push(L)}w=w.filter(V=>V.every(L=>L[0]>=0&&L[0]<=I.plots.length-1&&L[1]>=0&&L[1]<=I.plots.length-1&&!I.plots[L[0]][L[1]].active&&B(L[0],L[1])==!0)),w.length===0?q=!1:w.length>0&&w[0].forEach(L=>{I.plots[L[0]][L[1]].active=!0,I.plots[L[0]][L[1]].type=T?-3:-2,I.plots[L[0]][L[1]].referencePlot=[v,h]})}if(q===!0||S){if(I.plots[v][h].type!==-1&&al(v,h,I),n(4,s=""),I.plots[v][h].type=O,I.plots[v][h].active=!0,I.plots[v][h].referencePlot=[],I.plots[v][h].typeId=j.id,I.townInfo.gold-=j.requirements.gold,I.townInfo.gold=Mt(I.townInfo.gold,2),I.townInfo.population_count+=j.immediate_variable_changes.population,I.townInfo.population_max+=j.immediate_variable_changes.population,I.townInfo.happiness+=j.immediate_variable_changes.happiness,I.townInfo.health+=j.immediate_variable_changes.health,I.modifiers.happiness=Mt(I.modifiers.happiness*j.effect_modifiers.happiness,2),I.modifiers.health=Mt(I.modifiers.health*j.effect_modifiers.health,2),I.modifiers.community=Mt(I.modifiers.community*j.effect_modifiers.community,2),I.townInfo.employees+=j.requirements.employees,(I.plotCounts[O]===void 0||I.plotCounts[O]===null)&&(I.plotCounts[O]=0),I.plotCounts[O]++,I.lastChangeDay=I.environment.day,j.requirements.resources!==void 0){const w=j.requirements.resources;I.resources.food-=w.food,I.resources.wood-=w.wood,I.resources.stone-=w.stone,I.resources.metal-=w.metal}switch(j.id){case"city_hall":I.hasCityHall=!0;break;case"bank":I.hasBank=!0;break}De.set(I),localStorage.setItem(Lt,JSON.stringify(I));let E=!1;for(let w=v;w<I.plots.length;w++){for(let T=h;T<I.plots[w].length;T++)if(I.plots[w][T].active===!1&&I.plots[w][T].mineralSource==!1&&I.plots[w][T].water==!1){v=w,h=T,E=!0;break}if(E)break}Pe(tt,i.x=v,i),Pe(tt,i.y=h,i),Pe(tt,i.visible=!1,i)}else n(4,s="You do not have enough resources to purchase this plot. If it's a 'Large' plot, make sure you have a 2x2 area available. "),document.querySelectorAll(".plotOption").forEach(w=>{w.classList.remove("active")})}const g=v=>i.isMineralSource?v.id==="mine":!0;return t.$$set=v=>{"x"in v&&n(5,r=v.x),"y"in v&&n(6,l=v.y),"open"in v&&n(0,a=v.open),"tooltip"in v&&n(4,s=v.tooltip)},t.$$.update=()=>{t.$$.dirty&134&&o&&(n(1,f=u.map(v=>Object.assign(Object.assign({},v),{affordable:d(v,o),selected:c(v)}))),$e("tree_farm",o).length===0&&n(1,f=f.filter(v=>v.id==="small_homes"||v.id==="farm"||v.id==="tree_farm")),i.isMineralSource&&n(1,f=f.filter(v=>v.id==="mine")),Object.keys(Ll).forEach(v=>{let h=Ll[v];if(h>0){let k=$e(v,o).length;n(1,f=f.filter(S=>S.id!==v||k<h))}}),f.sort((v,h)=>v.selected&&!h.selected?-1:0),i.isMineralSource||n(1,f=f.filter(v=>v.id!=="mine")))},[a,f,i,m,s,r,l,o,g]}class od extends me{constructor(e){super(),de(this,e,W3,V3,ce,{x:5,y:6,open:0,tooltip:4})}}function Y3(t){let e,n,o;return{c(){e=P("span"),n=G("My liege, if you build a City Hall, you can expand your city "),o=G(t[0]),R(e,"class","text-xs")},m(i,r){N(i,e,r),y(e,n),y(e,o)},p(i,r){r&1&&ue(o,i[0])},i:Ce,o:Ce,d(i){i&&M(e)}}}function x3(t){let e,n;return e=new Gt({props:{class:"bg-accent h-max rounded-2xl hover:scale-110 transition-transform duration-200 ease-in-out hover:drop-shadow-2xl",$$slots:{default:[U3]},$$scope:{ctx:t}}}),e.$on("click",t[2]),{c(){x(e.$$.fragment)},m(o,i){W(e,o,i),n=!0},p(o,i){const r={};i&11&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){A(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function U3(t){let e,n,o,i,r,l=t[0].toUpperCase()+"",a,s,u,f,c,d,m,p,_,g,v,h=Math.round(Math.pow(1.7,t[1].kingdom_expansions+5))+"",k,S,I,O;return{c(){e=P("div"),n=G("My liege, you can expand your "),o=P("br"),i=G(`kingdom
        `),r=P("span"),a=G(l),s=G(`
        using
        `),u=P("br"),f=G(`your
        `),c=P("span"),c.textContent="City Hall",d=G("!"),m=P("br"),p=P("br"),_=F(),g=P("span"),v=G("Requires "),k=G(h),S=G(` Guardians
          `),I=P("br"),O=G("to be employed. (see city mgmt menu)"),R(r,"class","font-extrabold text-blue-200"),R(c,"class","text-blue-200 bold"),R(g,"class","opacity-75 text-xs")},m(D,j){N(D,e,j),y(e,n),y(e,o),y(e,i),y(e,r),y(r,a),y(e,s),y(e,u),y(e,f),y(e,c),y(e,d),y(e,m),y(e,p),y(e,_),y(e,g),y(g,v),y(g,k),y(g,S),y(g,I),y(g,O)},p(D,j){j&1&&l!==(l=D[0].toUpperCase()+"")&&ue(a,l),j&2&&h!==(h=Math.round(Math.pow(1.7,D[1].kingdom_expansions+5))+"")&&ue(k,h)},d(D){D&&M(e)}}}function K3(t){let e,n,o,i,r;const l=[x3,Y3],a=[];function s(u,f){return f&2&&(n=null),n==null&&(n=$e("city_hall",u[1]).length>0),n?0:1}return o=s(t,-1),i=a[o]=l[o](t),{c(){e=P("div"),i.c(),R(e,"class","w-48 h-max")},m(u,f){N(u,e,f),a[o].m(e,null),r=!0},p(u,[f]){let c=o;o=s(u,f),o===c?a[o].p(u,f):(Te(),A(a[c],1,1,()=>{a[c]=null}),Se(),i=a[o],i?i.p(u,f):(i=a[o]=l[o](u),i.c()),C(i,1),i.m(e,null))},i(u){r||(C(i),r=!0)},o(u){A(i),r=!1},d(u){u&&M(e),a[o].d()}}}function X3(t,e,n){let o;se(t,De,l=>n(1,o=l));let{direction:i}=e;const r=()=>{const l=Ld(o,i);l&&ht.set(l)};return t.$$set=l=>{"direction"in l&&n(0,i=l.direction)},[i,o,r]}class Wu extends me{constructor(e){super(),de(this,e,X3,K3,ce,{direction:0})}}function J3(t){return{c:Ce,m:Ce,p:Ce,d:Ce}}function Z3(t){let e,n,o,i=oe[t[0].type].title.substring(0,2)+"",r,l,a,s,u,f=oe[t[0].type].title.substring(2)+"",c,d,m,p;return{c(){e=P("div"),n=P("span"),o=P("span"),r=G(i),l=F(),a=P("br"),s=F(),u=P("span"),c=G(f),R(o,"class","text-lg align-text-top select-none"),R(u,"class","text-sm align-text-top text-black select-none"),R(n,"data-size",d=oe[t[0].type].requirements.size),R(n,"data-x",m=t[0].x),R(n,"data-y",p=t[0].y),R(e,"class","svelte-lm6uio")},m(_,g){N(_,e,g),y(e,n),y(n,o),y(o,r),y(n,l),y(n,a),y(n,s),y(n,u),y(u,c)},p(_,g){g&1&&i!==(i=oe[_[0].type].title.substring(0,2)+"")&&ue(r,i),g&1&&f!==(f=oe[_[0].type].title.substring(2)+"")&&ue(c,f),g&1&&d!==(d=oe[_[0].type].requirements.size)&&R(n,"data-size",d),g&1&&m!==(m=_[0].x)&&R(n,"data-x",m),g&1&&p!==(p=_[0].y)&&R(n,"data-y",p)},d(_){_&&M(e)}}}function Yu(t){let e;return{c(){e=P("span"),e.textContent="🧲",R(e,"class","text-lg")},m(n,o){N(n,e,o)},d(n){n&&M(e)}}}function xu(t){let e;return{c(){e=P("span"),e.textContent="👑",R(e,"class","text-lg absolute top-0")},m(n,o){N(n,e,o)},d(n){n&&M(e)}}}function Q3(t){let e,n,o,i=t[7](t[0].x,t[0].y),r,l,a,s,u,f,c,d,m,p,_,g,v,h,k,S,I,O;function D(w,T){if(w[0].type>-1)return Z3;if(w[0].type==-1&&w[0].x==0&&w[0].y==0)return J3}let j=D(t),q=j&&j(t),$=t[0].mineralSource&&t[0].type==-1&&Yu(),E=i&&xu();return{c(){e=P("button"),q&&q.c(),n=F(),$&&$.c(),o=F(),E&&E.c(),R(e,"class",r="plot_container "+t[1]+" overflow-visible "+(t[0].type==-1&&t[2]==!1,"")+" "+(t[0].mineralSource?"hidden":"")+" "+(t[2]?"cursor-pointer":"cursor-not-allowed")+" "+(t[0].disabled?"animate-spin":"")+" svelte-lm6uio"),et(e,"background-color",t[0].water?"rgba(66, 135, 245, 1)":t[4].x==t[0].x&&t[4].y==t[0].y&&t[4].visible?"white":t[0].mineralSource?"black":Ir(t[0].type,t[2])),R(e,"data-active",l=t[0].active),R(e,"data-hidehoveranimation",a=t[4].visible||t[0].type==-1&&t[0].x==0&&t[0].y==0),R(e,"data-id",s=t[0].id),R(e,"data-x",u=t[0].x),R(e,"data-y",f=t[0].y),R(e,"data-optionindex",c=t[0].optionIndex),R(e,"data-canbeupgraded",t[2]),R(e,"data-type",d=t[0].type),R(e,"data-type-id",m=t[0].typeId),R(e,"data-refplotx",p=t[0].referencePlot!==void 0?t[0].referencePlot[1]:null),R(e,"data-refploty",_=t[0].referencePlot!==void 0?t[0].referencePlot[0]:null),R(e,"data-size",g=t[0].type>-1?oe[t[0].type].requirements.size:null),R(e,"data-mineralsource",v=t[0].mineralSource),R(e,"data-water",h=t[0].water),R(e,"data-nearwater",k=Sn(t[0].x,t[0].y,t[5])),R(e,"data-liegelocation",S=t[7](t[0].x,t[0].y))},m(w,T){N(w,e,T),q&&q.m(e,null),y(e,n),$&&$.m(e,null),y(e,o),E&&E.m(e,null),I||(O=z(e,"click",function(){Dt(t[0].water?null:t[6]?Dl(t[0].x,t[0].y,t[5]):t[8])&&(t[0].water?null:t[6]?Dl(t[0].x,t[0].y,t[5]):t[8]).apply(this,arguments)}),I=!0)},p(w,T){t=w,j===(j=D(t))&&q?q.p(t,T):(q&&q.d(1),q=j&&j(t),q&&(q.c(),q.m(e,n))),t[0].mineralSource&&t[0].type==-1?$||($=Yu(),$.c(),$.m(e,o)):$&&($.d(1),$=null),T&1&&(i=t[7](t[0].x,t[0].y)),i?E||(E=xu(),E.c(),E.m(e,null)):E&&(E.d(1),E=null),T&7&&r!==(r="plot_container "+t[1]+" overflow-visible "+(t[0].type==-1&&t[2]==!1,"")+" "+(t[0].mineralSource?"hidden":"")+" "+(t[2]?"cursor-pointer":"cursor-not-allowed")+" "+(t[0].disabled?"animate-spin":"")+" svelte-lm6uio")&&R(e,"class",r),T&21&&et(e,"background-color",t[0].water?"rgba(66, 135, 245, 1)":t[4].x==t[0].x&&t[4].y==t[0].y&&t[4].visible?"white":t[0].mineralSource?"black":Ir(t[0].type,t[2])),T&1&&l!==(l=t[0].active)&&R(e,"data-active",l),T&17&&a!==(a=t[4].visible||t[0].type==-1&&t[0].x==0&&t[0].y==0)&&R(e,"data-hidehoveranimation",a),T&1&&s!==(s=t[0].id)&&R(e,"data-id",s),T&1&&u!==(u=t[0].x)&&R(e,"data-x",u),T&1&&f!==(f=t[0].y)&&R(e,"data-y",f),T&1&&c!==(c=t[0].optionIndex)&&R(e,"data-optionindex",c),T&4&&R(e,"data-canbeupgraded",t[2]),T&1&&d!==(d=t[0].type)&&R(e,"data-type",d),T&1&&m!==(m=t[0].typeId)&&R(e,"data-type-id",m),T&1&&p!==(p=t[0].referencePlot!==void 0?t[0].referencePlot[1]:null)&&R(e,"data-refplotx",p),T&1&&_!==(_=t[0].referencePlot!==void 0?t[0].referencePlot[0]:null)&&R(e,"data-refploty",_),T&1&&g!==(g=t[0].type>-1?oe[t[0].type].requirements.size:null)&&R(e,"data-size",g),T&1&&v!==(v=t[0].mineralSource)&&R(e,"data-mineralsource",v),T&1&&h!==(h=t[0].water)&&R(e,"data-water",h),T&33&&k!==(k=Sn(t[0].x,t[0].y,t[5]))&&R(e,"data-nearwater",k),T&1&&S!==(S=t[7](t[0].x,t[0].y))&&R(e,"data-liegelocation",S)},d(w){w&&M(e),q&&q.d(),$&&$.d(),E&&E.d(),I=!1,O()}}}function Uu(t){let e;return{c(){e=G("Water - Place farms nearby for more food & revenue!")},m(n,o){N(n,e,o)},d(n){n&&M(e)}}}function Ku(t){let e;return{c(){e=P("span"),e.textContent="Near water - Generating more food & revenue!",R(e,"class","text-xs bg-blue-500 text-white px-2 py-3 rounded-2xl text-center")},m(n,o){N(n,e,o)},d(n){n&&M(e)}}}function Xu(t){let e;function n(r,l){return oe[r[0].type].liege_on_plot_hint==null?e4:z3}let o=n(t),i=o(t);return{c(){e=P("span"),i.c(),R(e,"class","text-xs bg-pink-700 text-white px-2 py-3 rounded-2xl text-center")},m(r,l){N(r,e,l),i.m(e,null)},p(r,l){o===(o=n(r))&&i?i.p(r,l):(i.d(1),i=o(r),i&&(i.c(),i.m(e,null)))},d(r){r&&M(e),i.d()}}}function z3(t){let e=oe[t[0].type].liege_on_plot_hint+"",n;return{c(){n=G(e)},m(o,i){N(o,n,i)},p(o,i){i&1&&e!==(e=oe[o[0].type].liege_on_plot_hint+"")&&ue(n,e)},d(o){o&&M(n)}}}function e4(t){let e,n=oe[t[0].type].title+"",o,i;return{c(){e=G("You are hanging out on the "),o=G(n),i=G(` plot, but nothing
            seems to be changing except a revenue boost.`)},m(r,l){N(r,e,l),N(r,o,l),N(r,i,l)},p(r,l){l&1&&n!==(n=oe[r[0].type].title+"")&&ue(o,n)},d(r){r&&(M(e),M(o),M(i))}}}function Ju(t){let e,n;return e=new nd({props:{option:t[3],checkRequirements:!1}}),{c(){x(e.$$.fragment)},m(o,i){W(e,o,i),n=!0},p(o,i){const r={};i&8&&(r.option=o[3]),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){A(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function t4(t){let e,n,o=Sn(t[0].x,t[0].y,t[5]),i,r=xn(t[0].x,t[0].y,t[5]),l,a,s=t[0].water&&Uu(),u=o&&Ku(),f=r&&Xu(t),c=t[0].active&&Ju(t);return{c(){e=P("div"),s&&s.c(),n=F(),u&&u.c(),i=F(),f&&f.c(),l=F(),c&&c.c(),R(e,"class","flex flex-col gap-2")},m(d,m){N(d,e,m),s&&s.m(e,null),y(e,n),u&&u.m(e,null),y(e,i),f&&f.m(e,null),y(e,l),c&&c.m(e,null),a=!0},p(d,m){d[0].water?s||(s=Uu(),s.c(),s.m(e,n)):s&&(s.d(1),s=null),m&33&&(o=Sn(d[0].x,d[0].y,d[5])),o?u||(u=Ku(),u.c(),u.m(e,i)):u&&(u.d(1),u=null),m&33&&(r=xn(d[0].x,d[0].y,d[5])),r?f?f.p(d,m):(f=Xu(d),f.c(),f.m(e,l)):f&&(f.d(1),f=null),d[0].active?c?(c.p(d,m),m&1&&C(c,1)):(c=Ju(d),c.c(),C(c,1),c.m(e,null)):c&&(Te(),A(c,1,1,()=>{c=null}),Se())},i(d){a||(C(c),a=!0)},o(d){A(c),a=!1},d(d){d&&M(e),s&&s.d(),u&&u.d(),f&&f.d(),c&&c.d()}}}function n4(t){let e,n,o,i;return e=new _o({props:{$$slots:{default:[Q3]},$$scope:{ctx:t}}}),o=new po({props:{class:"max-w-64 rounded-3xl "+(t[0].type<0&&!t[0].water?"hidden":""),$$slots:{default:[t4]},$$scope:{ctx:t}}}),{c(){x(e.$$.fragment),n=F(),x(o.$$.fragment)},m(r,l){W(e,r,l),N(r,n,l),W(o,r,l),i=!0},p(r,l){const a={};l&4215&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&1&&(s.class="max-w-64 rounded-3xl "+(r[0].type<0&&!r[0].water?"hidden":"")),l&4137&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){A(e.$$.fragment,r),A(o.$$.fragment,r),i=!1},d(r){r&&M(n),Y(e,r),Y(o,r)}}}function o4(t){let e,n;return e=new ho({props:{openDelay:200,closeDelay:0,$$slots:{default:[n4]},$$scope:{ctx:t}}}),{c(){x(e.$$.fragment)},m(o,i){W(e,o,i),n=!0},p(o,[i]){const r={};i&4223&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){A(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function i4(t,e,n){let o,i,r,l,a;se(t,tt,_=>n(4,o=_)),se(t,De,_=>n(5,i=_)),se(t,vt,_=>n(10,r=_)),se(t,zn,_=>n(11,l=_)),se(t,eo,_=>n(6,a=_));let{data:s={id:0,active:!1,x:0,y:0,type:-1,styling:"",referencePlot:[],mineralSource:!1,disabled:!1,water:!1}}=e,u,{classText:f=""}=e,{canBeUpgraded:c=!1}=e;const d=(_,g)=>i.liege_location!=null&&_==i.liege_location[0]&&g==i.liege_location[1];function m(_,g,v){let h=document.querySelectorAll(".plot_container");if(r==!1){if(s.referencePlot!=null&&s.referencePlot[0]!==null&&g==null&&v==null&&s.referencePlot[1]!==void 0)return m(_,s.referencePlot[0],s.referencePlot[1]);if(!s.active&&!c)Pe(zn,l={},l),Pe(tt,o.visible=!1,o),h.forEach(k=>{k.classList.remove("selected")});else{g!=null&&v!=null?(Pe(tt,o.x=g,o),Pe(tt,o.y=v,o)):(Pe(tt,o.x=s.x,o),Pe(tt,o.y=s.y,o)),Pe(tt,o.isMineralSource=s.mineralSource,o),Pe(tt,o.visible=!0,o);const k=document.querySelector(`.plot_container[data-id="${s.id}"]`),S=document.documentElement||document.body,I=k.getBoundingClientRect(),O=window.innerHeight||S.clientHeight,D=window.innerWidth||S.clientWidth,j=S.scrollTop+I.top-O/2+225,q=S.scrollLeft+I.left-D/2;window.scrollTo({top:j,left:q,behavior:"smooth"}),h.forEach($=>{$.classList.remove("selected")}),g!=null&&v!=null?document.querySelector(`.plot_container[data-x="${g}"][data-y="${v}"]`).classList.add("selected"):document.querySelector(`.plot_container[data-id="${s.id}"]`).classList.add("selected")}}}function p(_){r==!1&&(Pe(De,i.plots[s.x][s.y].type=_,i),Pe(tt,o.visible=!1,o))}return t.$$set=_=>{"data"in _&&n(0,s=_.data),"classText"in _&&n(1,f=_.classText),"canBeUpgraded"in _&&n(2,c=_.canBeUpgraded)},t.$$.update=()=>{t.$$.dirty&1&&s.type>-1&&n(3,u=oe[s.type])},[s,f,c,u,o,i,a,d,m,p]}class r4 extends me{constructor(e){super(),de(this,e,i4,o4,ce,{data:0,classText:1,canBeUpgraded:2,changePlotType:9})}get changePlotType(){return this.$$.ctx[9]}}function Zu(t,e,n){const o=t.slice();return o[9]=e[n],o[11]=n,o}function Qu(t,e,n){const o=t.slice();return o[12]=e[n],o}function zu(t){let e,n,o,i,r,l,a,s,u,f,c,d=t[4],m,p,_=We(t[2].plots),g=[];for(let k=0;k<_.length;k+=1)g[k]=tf(Zu(t,_,k));const v=k=>A(g[k],1,1,()=>{g[k]=null});a=new Wu({props:{direction:"east"}}),f=new Wu({props:{direction:"south"}});let h=of(t);return{c(){e=P("div"),n=P("div"),o=P("div"),i=P("div");for(let k=0;k<g.length;k+=1)g[k].c();r=F(),l=P("span"),x(a.$$.fragment),s=F(),u=P("span"),x(f.$$.fragment),c=F(),h.c(),m=Re(),R(i,"class","grid plot_controller svelte-1udphho"),R(o,"class","flex flex-row items-center"),R(n,"style",t[3]),R(n,"id","plotContainerMain"),R(n,"class","items-center h-max flex flex-col pr-80 pb-80  svelte-1udphho"),R(e,"class","flex flex-col")},m(k,S){N(k,e,S),y(e,n),y(n,o),y(o,i);for(let I=0;I<g.length;I+=1)g[I]&&g[I].m(i,null);y(o,r),y(o,l),W(a,l,null),y(n,s),y(n,u),W(f,u,null),N(k,c,S),h.m(k,S),N(k,m,S),p=!0},p(k,S){if(S&7){_=We(k[2].plots);let I;for(I=0;I<_.length;I+=1){const O=Zu(k,_,I);g[I]?(g[I].p(O,S),C(g[I],1)):(g[I]=tf(O),g[I].c(),C(g[I],1),g[I].m(i,null))}for(Te(),I=_.length;I<g.length;I+=1)v(I);Se()}(!p||S&8)&&R(n,"style",k[3]),S&16&&ce(d,d=k[4])?(Te(),A(h,1,1,Ce),Se(),h=of(k),h.c(),C(h,1),h.m(m.parentNode,m)):h.p(k,S)},i(k){if(!p){for(let S=0;S<_.length;S+=1)C(g[S]);C(a.$$.fragment,k),C(f.$$.fragment,k),C(h),p=!0}},o(k){g=g.filter(Boolean);for(let S=0;S<g.length;S+=1)A(g[S]);A(a.$$.fragment,k),A(f.$$.fragment,k),A(h),p=!1},d(k){k&&(M(e),M(c),M(m)),ut(g,k),Y(a),Y(f),h.d(k)}}}function ef(t){let e,n;return e=new r4({props:{classText:"hexagon",data:t[12],canBeUpgraded:t[0](t[12].x,t[12].y)}}),{c(){x(e.$$.fragment)},m(o,i){W(e,o,i),n=!0},p(o,i){const r={};i&4&&(r.data=o[12]),i&4&&(r.canBeUpgraded=o[0](o[12].x,o[12].y)),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){A(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function tf(t){let e,n,o,i,r,l=We(t[9]),a=[];for(let u=0;u<l.length;u+=1)a[u]=ef(Qu(t,l,u));const s=u=>A(a[u],1,1,()=>{a[u]=null});return{c(){e=P("div");for(let u=0;u<a.length;u+=1)a[u].c();n=F(),R(e,"class","row "+(t[11]%2!==0?"odd-row":"")+" svelte-1udphho")},m(u,f){N(u,e,f);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(e,null);y(e,n),o=!0,i||(r=z(e,"click",t[1]),i=!0)},p(u,f){if(f&5){l=We(u[9]);let c;for(c=0;c<l.length;c+=1){const d=Qu(u,l,c);a[c]?(a[c].p(d,f),C(a[c],1)):(a[c]=ef(d),a[c].c(),C(a[c],1),a[c].m(e,n))}for(Te(),c=l.length;c<a.length;c+=1)s(c);Se()}},i(u){if(!o){for(let f=0;f<l.length;f+=1)C(a[f]);o=!0}},o(u){a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)A(a[f]);o=!1},d(u){u&&M(e),ut(a,u),i=!1,r()}}}function nf(t){let e,n;return e=new od({props:{x:t[5].x,y:t[5].y,open:t[5].visible}}),{c(){x(e.$$.fragment)},m(o,i){W(e,o,i),n=!0},p(o,i){const r={};i&32&&(r.x=o[5].x),i&32&&(r.y=o[5].y),i&32&&(r.open=o[5].visible),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){A(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function of(t){let e,n,o=t[5].visible&&nf(t);return{c(){o&&o.c(),e=Re()},m(i,r){o&&o.m(i,r),N(i,e,r),n=!0},p(i,r){i[5].visible?o?(o.p(i,r),r&32&&C(o,1)):(o=nf(i),o.c(),C(o,1),o.m(e.parentNode,e)):o&&(Te(),A(o,1,1,()=>{o=null}),Se())},i(i){n||(C(o),n=!0)},o(i){A(o),n=!1},d(i){i&&M(e),o&&o.d(i)}}}function l4(t){let e,n,o=t[2]!=null&&zu(t);return{c(){o&&o.c(),e=Re()},m(i,r){o&&o.m(i,r),N(i,e,r),n=!0},p(i,[r]){i[2]!=null?o?(o.p(i,r),r&4&&C(o,1)):(o=zu(i),o.c(),C(o,1),o.m(e.parentNode,e)):o&&(Te(),A(o,1,1,()=>{o=null}),Se())},i(i){n||(C(o),n=!0)},o(i){A(o),n=!1},d(i){i&&M(e),o&&o.d(i)}}}function s4(t,e,n){let o,i,r;se(t,zn,d=>n(4,o=d)),se(t,De,d=>n(2,i=d)),se(t,tt,d=>n(5,r=d));let l,a=0,s=["margin-left: 300px; margin-top: 200px; scale: 1;","margin-left: 650px; margin-top: 600px; scale: 1.5;"];document.addEventListener("keypress",function(d){d.key==="*"&&(a==s.length-1?n(6,a=0):n(6,a++,a))}),document.addEventListener("click",function(d){const m=d.target;(m.dataset.x==null&&m.dataset.type!="-1"&&m.dataset.size!=null||m.id=="plotContainerMain"||m.classList.contains("row")||m.classList.contains("grid"))&&Pe(tt,r.visible=!1,r)});function u(d,m){let p={x:d,y:m};return p.x===0&&p.y===0?!0:[{x:p.x-1,y:p.y},{x:p.x+1,y:p.y},{x:p.x,y:p.y-1},{x:p.x,y:p.y+1}].some(g=>g.x<0||g.x>=i.plots.length||g.y<0||g.y>=i.plots[g.x].length?!1:i.plots[g.x][g.y].active)}function f(){let d=[];for(let m=0;m<i.plots.length;m++)for(let p=0;p<i.plots.length;p++)u(m,p)&&i.plots[m][p].active==!1&&d.push(i.plots[m][p])}function c(){Pe(zn,o={},o)}return t.$$.update=()=>{t.$$.dirty&4&&i&&f(),t.$$.dirty&64&&n(3,l=s[a])},[u,c,i,l,o,r,a]}class a4 extends me{constructor(e){super(),de(this,e,s4,l4,ce,{checkIfPlotCanBeUpgraded:0,restartModifyPlotMenu:1})}get checkIfPlotCanBeUpgraded(){return this.$$.ctx[0]}get restartModifyPlotMenu(){return this.$$.ctx[1]}}function rf(t,e,n){const o=t.slice();return o[5]=e[n],o}function lf(t){let e,n;return e=new Yg({props:{thumb:t[5],class:"block h-4 w-4  bg-accent focus-visible:outline-none  disabled:pointer-events-none disabled:opacity-50"}}),{c(){x(e.$$.fragment)},m(o,i){W(e,o,i),n=!0},p(o,i){const r={};i&16&&(r.thumb=o[5]),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){A(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function u4(t){let e,n,o,i,r;n=new Bg({props:{class:"absolute h-full bg-primary"}});let l=We(t[4]),a=[];for(let u=0;u<l.length;u+=1)a[u]=lf(rf(t,l,u));const s=u=>A(a[u],1,1,()=>{a[u]=null});return{c(){e=P("span"),x(n.$$.fragment),o=F();for(let u=0;u<a.length;u+=1)a[u].c();i=Re(),R(e,"class","relative h-2 w-full grow overflow-hidden bg-black")},m(u,f){N(u,e,f),W(n,e,null),N(u,o,f);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(u,f);N(u,i,f),r=!0},p(u,f){if(f&16){l=We(u[4]);let c;for(c=0;c<l.length;c+=1){const d=rf(u,l,c);a[c]?(a[c].p(d,f),C(a[c],1)):(a[c]=lf(d),a[c].c(),C(a[c],1),a[c].m(i.parentNode,i))}for(Te(),c=l.length;c<a.length;c+=1)s(c);Se()}},i(u){if(!r){C(n.$$.fragment,u);for(let f=0;f<l.length;f+=1)C(a[f]);r=!0}},o(u){A(n.$$.fragment,u),a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)A(a[f]);r=!1},d(u){u&&(M(e),M(o),M(i)),Y(n),ut(a,u)}}}function f4(t){let e,n,o;const i=[{class:qe("relative flex w-full touch-none select-none items-center",t[1])},t[2]];function r(a){t[3](a)}let l={$$slots:{default:[u4,({thumbs:a})=>({4:a}),({thumbs:a})=>a?16:0]},$$scope:{ctx:t}};for(let a=0;a<i.length;a+=1)l=J(l,i[a]);return t[0]!==void 0&&(l.value=t[0]),e=new Rg({props:l}),Ee.push(()=>_n(e,"value",r)),{c(){x(e.$$.fragment)},m(a,s){W(e,a,s),o=!0},p(a,[s]){const u=s&6?ve(i,[s&2&&{class:qe("relative flex w-full touch-none select-none items-center",a[1])},s&4&&st(a[2])]):{};s&272&&(u.$$scope={dirty:s,ctx:a}),!n&&s&1&&(n=!0,u.value=a[0],hn(()=>n=!1)),e.$set(u)},i(a){o||(C(e.$$.fragment,a),o=!0)},o(a){A(e.$$.fragment,a),o=!1},d(a){Y(e,a)}}}function c4(t,e,n){const o=["class","value"];let i=le(e,o),{class:r=void 0}=e,{value:l=[0]}=e;function a(s){l=s,n(0,l)}return t.$$set=s=>{e=J(J({},e),Le(s)),n(2,i=le(e,o)),"class"in s&&n(1,r=s.class),"value"in s&&n(0,l=s.value)},[l,r,i,a]}class sf extends me{constructor(e){super(),de(this,e,c4,f4,ce,{class:1,value:0})}}function af(t,e,n){const o=t.slice();return o[14]=e[n],o}function uf(t){let e;return{c(){e=P("p"),e.textContent="No alerts",R(e,"class","text-center text-xs opacity-50 svelte-1m80q9z")},m(n,o){N(n,e,o)},d(n){n&&M(e)}}}function ff(t){let e,n,o,i=t[14].day+"",r,l,a,s=t[14].message+"",u,f,c;return{c(){e=P("div"),n=P("p"),o=G("DAY "),r=G(i),l=F(),a=P("p"),u=G(s),f=F(),R(n,"class","font-mono text-[10px]  svelte-1m80q9z"),R(a,"class","text-xs svelte-1m80q9z"),R(e,"class",c="px-2 py-2 rounded-2xl fade-in mb-4 "+(t[14].vibe==ot.BAD?"bg-white text-textDanger border ":t[14].vibe==ot.GOOD?"bg-green-300":(t[14].vibe==ot.NORMAL,"bg-accent"))+" svelte-1m80q9z")},m(d,m){N(d,e,m),y(e,n),y(n,o),y(n,r),y(e,l),y(e,a),y(a,u),y(e,f)},p(d,m){m&2&&i!==(i=d[14].day+"")&&ue(r,i),m&2&&s!==(s=d[14].message+"")&&ue(u,s),m&2&&c!==(c="px-2 py-2 rounded-2xl fade-in mb-4 "+(d[14].vibe==ot.BAD?"bg-white text-textDanger border ":d[14].vibe==ot.GOOD?"bg-green-300":(d[14].vibe==ot.NORMAL,"bg-accent"))+" svelte-1m80q9z")&&R(e,"class",c)},d(d){d&&M(e)}}}function d4(t){let e,n,o,i,r,l,a,s,u,f,c,d=Mt(t[1].economyAndLaws.tax_rate*100,0)+"",m,p,_,g,v,h,k,S,I,O,D=Mt(t[1].townInfo.productivity,0)+"",j,q,$,E,w,T,B,V,L,U,Q,Z,te,ee,fe,Ae,Ie,ne,b,X,K,re,ye=t[0]=="true"?"🔇":"🔊",Oe,He,xe,Xe,Ge,Ue,Je,Ke;g=new sf({props:{value:[t[1].economyAndLaws.tax_rate],onValueChange:t[8],min:0,max:.5,step:.05,class:"cursor-pointer w-[75%]"}}),E=new sf({props:{value:[t[1].townInfo.productivity],onValueChange:t[7],min:0,max:200,step:5,class:"cursor-pointer w-[75%]"}}),U=new Zt({props:{text:t[3]?"Select an active plot!":"👑 Set your location (boost)",onOpen:t[9]}}),Z=new Zt({props:{text:"🧠 Sell Knowledge",onOpen:t[10]}}),ee=new Zt({props:{text:"🏢 Manage City",onOpen:t[11]}}),Ae=new Zt({props:{text:t[1].lab.active_experiment!==null?`${t[1].lab.active_experiment.duration}`:"🧪 Manage Lab",onOpen:t[6],opacity:$e("lab",t[1]).length>=1?100:30,onHoverText:$e("lab",t[1]).length>=1?"":"Build a Lab to perform experiments. Experiments can save lives, make money, or generally improve your town."}});let Ve=t[1].townLog.length==0&&uf(),ke=We(t[1].townLog),Me=[];for(let Ne=0;Ne<ke.length;Ne+=1)Me[Ne]=ff(af(t,ke,Ne));return{c(){e=P("div"),n=P("div"),o=P("div"),i=P("div"),r=P("div"),l=P("div"),a=P("h1"),a.textContent="Laws",s=F(),u=P("span"),u.textContent="Tax Rate",f=F(),c=P("span"),m=G(d),p=G("%"),_=F(),x(g.$$.fragment),v=F(),h=P("div"),k=P("div"),S=P("span"),S.textContent="Productivity",I=F(),O=P("span"),j=G(D),q=G("%"),$=F(),x(E.$$.fragment),w=F(),T=P("div"),B=P("h1"),B.textContent="Menus",V=F(),L=P("div"),x(U.$$.fragment),Q=F(),x(Z.$$.fragment),te=F(),x(ee.$$.fragment),fe=F(),x(Ae.$$.fragment),Ie=F(),ne=P("div"),b=P("div"),X=P("h3"),X.innerHTML='<h1 class="text-lg w-full text-center svelte-1m80q9z">Alerts</h1>',K=F(),re=P("button"),Oe=G(ye),He=F(),xe=P("div"),Ve&&Ve.c(),Xe=F();for(let Ne=0;Ne<Me.length;Ne+=1)Me[Ne].c();R(a,"class","text-lg w-full text-center pb-2 svelte-1m80q9z"),R(u,"class","text-sm svelte-1m80q9z"),R(c,"class","text-sm svelte-1m80q9z"),R(l,"class","mb-1 svelte-1m80q9z"),R(r,"class","flex flex-col justify-center w-full text-center items-center gap-1 min-h-12 pb-2 rounded-xl svelte-1m80q9z"),R(S,"class","text-sm svelte-1m80q9z"),R(O,"class","text-sm svelte-1m80q9z"),R(k,"class","mb-1 svelte-1m80q9z"),R(h,"class","flex flex-col justify-center w-full text-center items-center gap-2 svelte-1m80q9z"),R(i,"class","flex flex-col gap-2 rounded-xl text-center justify-center mb-2 mt-0 pt-2 svelte-1m80q9z"),R(B,"class","text-lg w-full text-center pb-2 svelte-1m80q9z"),R(L,"class","flex flex-col gap-2 svelte-1m80q9z"),R(T,"class","svelte-1m80q9z"),R(X,"class","text-md cursor-pointer  svelte-1m80q9z"),R(re,"class","svelte-1m80q9z"),R(b,"class","flex flex-row gap-2 items-start justify-center pb-2 svelte-1m80q9z"),R(xe,"class","overflow-y-scroll h-[100%] w-[100%] pb-4 scroll-smooth svelte-1m80q9z"),R(ne,"class","svelte-1m80q9z"),R(o,"class","flex flex-col justify-center mx-2 gap-8 svelte-1m80q9z"),R(n,"class","w-[220px] text-sidebarText bg-sidebarBackground overflow-scroll border-foregroundDark border-4 bottom-4 z-10 fixed left-3 py-2 top-[190px] drop-shadow-xl rounded-xl transition-all duration-300 svelte-1m80q9z"),R(e,"class",Ge="flex flex-row text-sidebarText bg-sidebarBackground overflow-clip "+(t[2].visible?"opacity-70":"")+" svelte-1m80q9z")},m(Ne,Qe){N(Ne,e,Qe),y(e,n),y(n,o),y(o,i),y(i,r),y(r,l),y(l,a),y(l,s),y(l,u),y(l,f),y(l,c),y(c,m),y(c,p),y(r,_),W(g,r,null),y(i,v),y(i,h),y(h,k),y(k,S),y(k,I),y(k,O),y(O,j),y(O,q),y(h,$),W(E,h,null),y(o,w),y(o,T),y(T,B),y(T,V),y(T,L),W(U,L,null),y(L,Q),W(Z,L,null),y(L,te),W(ee,L,null),y(L,fe),W(Ae,L,null),y(o,Ie),y(o,ne),y(ne,b),y(b,X),y(b,K),y(b,re),y(re,Oe),y(ne,He),y(ne,xe),Ve&&Ve.m(xe,null),y(xe,Xe);for(let lt=0;lt<Me.length;lt+=1)Me[lt]&&Me[lt].m(xe,null);Ue=!0,Je||(Ke=[z(X,"click",t[12]),z(re,"click",t[13])],Je=!0)},p(Ne,[Qe]){(!Ue||Qe&2)&&d!==(d=Mt(Ne[1].economyAndLaws.tax_rate*100,0)+"")&&ue(m,d);const lt={};Qe&2&&(lt.value=[Ne[1].economyAndLaws.tax_rate]),g.$set(lt),(!Ue||Qe&2)&&D!==(D=Mt(Ne[1].townInfo.productivity,0)+"")&&ue(j,D);const it={};Qe&2&&(it.value=[Ne[1].townInfo.productivity]),E.$set(it);const be={};Qe&8&&(be.text=Ne[3]?"Select an active plot!":"👑 Set your location (boost)"),Qe&8&&(be.onOpen=Ne[9]),U.$set(be);const Ze={};Qe&16&&(Ze.onOpen=Ne[10]),Z.$set(Ze);const H={};Qe&32&&(H.onOpen=Ne[11]),ee.$set(H);const Ko={};if(Qe&2&&(Ko.text=Ne[1].lab.active_experiment!==null?`${Ne[1].lab.active_experiment.duration}`:"🧪 Manage Lab"),Qe&2&&(Ko.opacity=$e("lab",Ne[1]).length>=1?100:30),Qe&2&&(Ko.onHoverText=$e("lab",Ne[1]).length>=1?"":"Build a Lab to perform experiments. Experiments can save lives, make money, or generally improve your town."),Ae.$set(Ko),(!Ue||Qe&1)&&ye!==(ye=Ne[0]=="true"?"🔇":"🔊")&&ue(Oe,ye),Ne[1].townLog.length==0?Ve||(Ve=uf(),Ve.c(),Ve.m(xe,Xe)):Ve&&(Ve.d(1),Ve=null),Qe&2){ke=We(Ne[1].townLog);let It;for(It=0;It<ke.length;It+=1){const Pl=af(Ne,ke,It);Me[It]?Me[It].p(Pl,Qe):(Me[It]=ff(Pl),Me[It].c(),Me[It].m(xe,null))}for(;It<Me.length;It+=1)Me[It].d(1);Me.length=ke.length}(!Ue||Qe&4&&Ge!==(Ge="flex flex-row text-sidebarText bg-sidebarBackground overflow-clip "+(Ne[2].visible?"opacity-70":"")+" svelte-1m80q9z"))&&R(e,"class",Ge)},i(Ne){Ue||(C(g.$$.fragment,Ne),C(E.$$.fragment,Ne),C(U.$$.fragment,Ne),C(Z.$$.fragment,Ne),C(ee.$$.fragment,Ne),C(Ae.$$.fragment,Ne),Ue=!0)},o(Ne){A(g.$$.fragment,Ne),A(E.$$.fragment,Ne),A(U.$$.fragment,Ne),A(Z.$$.fragment,Ne),A(ee.$$.fragment,Ne),A(Ae.$$.fragment,Ne),Ue=!1},d(Ne){Ne&&M(e),Y(g),Y(E),Y(U),Y(Z),Y(ee),Y(Ae),Ve&&Ve.d(),ut(Me,Ne),Je=!1,je(Ke)}}}function m4(t,e,n){let o,i,r,l,a;se(t,De,v=>n(1,o=v)),se(t,tt,v=>n(2,i=v)),se(t,eo,v=>n(3,r=v)),se(t,vi,v=>n(4,l=v)),se(t,wi,v=>n(5,a=v));let s=localStorage.getItem("mute")||"false";function u(){o.hasLab&&li.set(!0)}function f(v){let h=o;h.townInfo.productivity=Mt(v[0],2),De.set(h),localStorage.setItem(Lt,JSON.stringify(h))}function c(v){let h=o;h.economyAndLaws.tax_rate=Mt(v[0],2),De.set(h),localStorage.setItem(Lt,JSON.stringify(h))}const d=function(){Pe(eo,r=!r,r)},m=function(){Pe(vi,l=!l,l)},p=function(){Pe(wi,a=!a,a)},_=()=>{Pe(De,o.townLog=[],o)},g=()=>{localStorage.setItem("mute",s=="false"?"true":s==="true"?"false":"true"),n(0,s=localStorage.getItem("mute")||"false")};return n(0,s=localStorage.getItem("mute")||"false"),[s,o,i,r,l,a,u,f,c,d,m,p,_,g]}class p4 extends me{constructor(e){super(),de(this,e,m4,d4,ce,{})}}function h4(t){let e,n,o,i,r,l,a,s,u,f,c,d,m;return o=new Q5({}),l=new p4({}),s=new a4({}),f=new td({}),d=new od({}),{c(){e=P("div"),n=P("div"),x(o.$$.fragment),i=F(),r=P("div"),x(l.$$.fragment),a=F(),x(s.$$.fragment),u=F(),x(f.$$.fragment),c=F(),x(d.$$.fragment),R(r,"class","flex flex-row text-accentText"),R(e,"class","flex flex-col max-h-[100%] justify-between")},m(p,_){N(p,e,_),y(e,n),W(o,n,null),y(e,i),y(e,r),W(l,r,null),y(r,a),W(s,r,null),y(r,u),W(f,r,null),y(r,c),W(d,r,null),m=!0},p:Ce,i(p){m||(C(o.$$.fragment,p),C(l.$$.fragment,p),C(s.$$.fragment,p),C(f.$$.fragment,p),C(d.$$.fragment,p),m=!0)},o(p){A(o.$$.fragment,p),A(l.$$.fragment,p),A(s.$$.fragment,p),A(f.$$.fragment,p),A(d.$$.fragment,p),m=!1},d(p){p&&M(e),Y(o),Y(l),Y(s),Y(f),Y(d)}}}class _4 extends me{constructor(e){super(),de(this,e,null,h4,ce,{})}}function cf(t,e,n){const o=t.slice();return o[18]=e[n],o}function df(t){let e,n,o,i,r,l,a=t[18].description+"",s;return{c(){e=P("li"),n=P("div"),o=P("span"),o.textContent=`☑️ ${t[18].text}`,i=F(),r=P("span"),l=P("blockquote"),s=F(),R(o,"class","hover:text-green-300 font-bold"),R(l,"class","text-xs px-[18px]"),R(r,"class","text-sm transition-all duration-300 ease-in-out "),R(n,"class","flex flex-col gap-2"),R(e,"class","flex flex-row gap-2 items-center")},m(u,f){N(u,e,f),y(e,n),y(n,o),y(n,i),y(n,r),y(r,l),l.innerHTML=a,y(e,s)},p:Ce,d(u){u&&M(e)}}}function g4(t){let e,n,o,i,r,l,a=t[0].townInfo.name+"",s,u,f,c,d,m,p,_,g,v,h,k=We(t[2]),S=[];for(let I=0;I<k.length;I+=1)S[I]=df(cf(t,k,I));return{c(){e=P("div"),n=P("div"),o=P("div"),i=P("h1"),r=G("The town of "),l=P("span"),s=G(a),u=G(`
                has been founded!`),f=F(),c=P("p"),c.textContent=`Congratulations! 🎉 After leaving your old town, you've
                discovered a fertile land bursting with potential. This is your
                chance to build a thriving new community from the ground up.`,d=F(),m=P("p"),m.innerHTML=`As the town founder and <span class="">formal liege</span>, you
                must <span class="text-blue-300">collect taxes</span>, and use
                that funding to
                <span class="text-blue-300">build plots</span>.`,p=F(),_=P("div"),g=P("div"),g.innerHTML='<h3 class="text-lg underline underline-offset-8">Your Objectives</h3>',v=F(),h=P("ul");for(let I=0;I<S.length;I+=1)S[I].c();R(l,"class","text-accent"),R(i,"class","text-3xl mt-4 text-white font-semibold"),R(o,"class","flex flex-col gap-4"),R(g,"class","flex flex-row align-middle items-center"),R(h,"class","select-none gap-4 flex flex-col "),R(_,"class","flex flex-col gap-4"),R(n,"class","flex flex-col gap-8 overflow-y-scroll  svelte-1rjkodc"),R(e,"class","flex flex-row gap-6")},m(I,O){N(I,e,O),y(e,n),y(n,o),y(o,i),y(i,r),y(i,l),y(l,s),y(i,u),y(o,f),y(o,c),y(o,d),y(o,m),y(n,p),y(n,_),y(_,g),y(_,v),y(_,h);for(let D=0;D<S.length;D+=1)S[D]&&S[D].m(h,null)},p(I,O){if(O&1&&a!==(a=I[0].townInfo.name+"")&&ue(s,a),O&4){k=We(I[2]);let D;for(D=0;D<k.length;D+=1){const j=cf(I,k,D);S[D]?S[D].p(j,O):(S[D]=df(j),S[D].c(),S[D].m(h,null))}for(;D<S.length;D+=1)S[D].d(1);S.length=k.length}},d(I){I&&M(e),ut(S,I)}}}function b4(t){let e,n;return e=new yl({props:{$$slots:{default:[g4]},$$scope:{ctx:t}}}),{c(){x(e.$$.fragment)},m(o,i){W(e,o,i),n=!0},p(o,i){const r={};i&2097153&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){A(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function v4(t){let e;return{c(){e=G("Start your kingdom")},m(n,o){N(n,e,o)},d(n){n&&M(e)}}}function y4(t){let e,n;return e=new yc({props:{class:"bg-accent rounded-2xl text-accentText px-4 py-2 hover:scale-110 transition-all duration-300 ",$$slots:{default:[v4]},$$scope:{ctx:t}}}),e.$on("click",t[3]),{c(){x(e.$$.fragment)},m(o,i){W(e,o,i),n=!0},p(o,i){const r={};i&2097152&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){A(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function w4(t){let e,n,o,i;return e=new vl({props:{$$slots:{default:[b4]},$$scope:{ctx:t}}}),o=new Qi({props:{$$slots:{default:[y4]},$$scope:{ctx:t}}}),{c(){x(e.$$.fragment),n=F(),x(o.$$.fragment)},m(r,l){W(e,r,l),N(r,n,l),W(o,r,l),i=!0},p(r,l){const a={};l&2097153&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&2097152&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){A(e.$$.fragment,r),A(o.$$.fragment,r),i=!1},d(r){r&&M(n),Y(e,r),Y(o,r)}}}function k4(t){let e,n;return e=new zi({props:{class:"bg-foregroundDark text-accentText min-w-[50vw] min-h-[50vh] flex flex-col justify-between ",$$slots:{default:[w4]},$$scope:{ctx:t}}}),{c(){x(e.$$.fragment)},m(o,i){W(e,o,i),n=!0},p(o,i){const r={};i&2097153&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){A(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function C4(t){let e,n;return e=new er({props:{open:t[1],$$slots:{default:[k4]},$$scope:{ctx:t}}}),{c(){x(e.$$.fragment)},m(o,i){W(e,o,i),n=!0},p(o,[i]){const r={};i&2&&(r.open=o[1]),i&2097153&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){A(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function A4(t,e,n){let o,i,r;se(t,Qt,f=>n(5,o=f)),se(t,De,f=>n(0,i=f)),se(t,Mr,f=>n(1,r=f)),Nn[i.endGoal],sl[i.difficulty],ct.sort((f,c)=>a(f.id)&&!a(c.id)?-1:!a(f.id)&&a(c.id)?1:0),ct.filter(f=>a(f.id));function a(f){return o.achievements==null?!1:o.achievements.find(c=>c[0]==f)!=null}localStorage.getItem("pauseMenuTab")==null&&(localStorage.setItem("pauseMenuTab","game"),Mf.set("game"));const s=[{text:"Create a thriving economy",description:"Invite people into your town, and have them work to generate food, wood, and other resources."},{text:"Grow your kingdom",description:"Get enough resources to build a <span class='text-green-300'>City Hall</span>, which will be used to expand your kingdom and keep your townspeople the happiest!"},{text:"Keep the town Happy and Healthy",description:"Pay attention to your happiness and health in the top left when you place plots. Certain ones may greatly impact your town's well-being. "}],u=()=>{Mr.set(!1)};return t.$$.update=()=>{t.$$.dirty&1},[i,r,s,u]}class T4 extends me{constructor(e){super(),de(this,e,A4,C4,ce,{})}}function mf(t,e,n){const o=t.slice();return o[7]=e[n],o}function S4(t){let e,n,o=t[0].townInfo.name+"",i,r,l,a,s=t[0].resources.bureaucracy+"",u;return{c(){e=P("div"),n=P("span"),i=G(o),r=F(),l=P("span"),a=G("🧑‍⚖️ "),u=G(s),R(e,"class","flex justify-between mr-10")},m(f,c){N(f,e,c),y(e,n),y(n,i),y(e,r),y(e,l),y(l,a),y(l,u)},p(f,c){c&1&&o!==(o=f[0].townInfo.name+"")&&ue(i,o),c&1&&s!==(s=f[0].resources.bureaucracy+"")&&ue(u,s)},d(f){f&&M(e)}}}function pf(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,p,_=t[0].townInfo.guardians+"",g,v,h,k,S,I=t[0].townInfo.population_count-t[0].townInfo.employees+"",O,D,j;return e=new Tt({props:{class:"mb-4"}}),d=new Gt({props:{class:`bg-accent rounded-2xl h-min select-none
            `+(t[0].townInfo.guardians<=0?"opacity-50 cursor-not-allowed":"")+`
            `,$$slots:{default:[I4]},$$scope:{ctx:t}}}),d.$on("click",t[2]),h=new Gt({props:{class:`bg-accent rounded-2xl h-min select-none
            
              `+(t[0].townInfo.employees>=t[0].townInfo.population_count?"opacity-50 cursor-not-allowed":"")+`
            `,$$slots:{default:[O4]},$$scope:{ctx:t}}}),h.$on("click",t[3]),{c(){x(e.$$.fragment),n=F(),o=P("div"),i=P("span"),i.textContent="Hire Guardians ⚔️",r=F(),l=P("br"),a=F(),s=P("span"),s.textContent=`Guardians work for you and are required to expand your kingdom.
            They do not generate revenue, but still require housing & food.`,u=F(),f=P("div"),c=P("div"),x(d.$$.fragment),m=F(),p=P("span"),g=G(_),v=F(),x(h.$$.fragment),k=F(),S=P("span"),O=G(I),D=G(`
              unemployed available for hire.`),R(i,"class","text-lg font-bold"),R(s,"class","text-sm"),R(p,"class","text-lg font-bold select-none px-2"),R(S,"class","w-max"),R(f,"class","flex flex-row justify-between align-middle items-center pt-2 pb-2 gap-2 "),R(o,"class","w-full")},m(q,$){W(e,q,$),N(q,n,$),N(q,o,$),y(o,i),y(o,r),y(o,l),y(o,a),y(o,s),y(o,u),y(o,f),y(f,c),W(d,c,null),y(c,m),y(c,p),y(p,g),y(c,v),W(h,c,null),y(f,k),y(f,S),y(S,O),y(S,D),j=!0},p(q,$){const E={};$&1&&(E.class=`bg-accent rounded-2xl h-min select-none
            `+(q[0].townInfo.guardians<=0?"opacity-50 cursor-not-allowed":"")+`
            `),$&1024&&(E.$$scope={dirty:$,ctx:q}),d.$set(E),(!j||$&1)&&_!==(_=q[0].townInfo.guardians+"")&&ue(g,_);const w={};$&1&&(w.class=`bg-accent rounded-2xl h-min select-none
            
              `+(q[0].townInfo.employees>=q[0].townInfo.population_count?"opacity-50 cursor-not-allowed":"")+`
            `),$&1024&&(w.$$scope={dirty:$,ctx:q}),h.$set(w),(!j||$&1)&&I!==(I=q[0].townInfo.population_count-q[0].townInfo.employees+"")&&ue(O,I)},i(q){j||(C(e.$$.fragment,q),C(d.$$.fragment,q),C(h.$$.fragment,q),j=!0)},o(q){A(e.$$.fragment,q),A(d.$$.fragment,q),A(h.$$.fragment,q),j=!1},d(q){q&&(M(n),M(o)),Y(e,q),Y(d),Y(h)}}}function I4(t){let e;return{c(){e=G("-")},m(n,o){N(n,e,o)},d(n){n&&M(e)}}}function O4(t){let e;return{c(){e=G("+")},m(n,o){N(n,e,o)},d(n){n&&M(e)}}}function M4(t){let e;return{c(){e=G("Build a City Hall to manage your city.")},m(n,o){N(n,e,o)},p:Ce,i:Ce,o:Ce,d(n){n&&M(e)}}}function P4(t){let e,n,o,i,r=We(Rr),l=[];for(let s=0;s<r.length;s+=1)l[s]=hf(mf(t,r,s));const a=s=>A(l[s],1,1,()=>{l[s]=null});return{c(){e=P("span"),e.textContent="Laws 🧑‍⚖️",n=F();for(let s=0;s<l.length;s+=1)l[s].c();o=Re(),R(e,"class","text-lg font-bold")},m(s,u){N(s,e,u),N(s,n,u);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(s,u);N(s,o,u),i=!0},p(s,u){if(u&1){r=We(Rr);let f;for(f=0;f<r.length;f+=1){const c=mf(s,r,f);l[f]?(l[f].p(c,u),C(l[f],1)):(l[f]=hf(c),l[f].c(),C(l[f],1),l[f].m(o.parentNode,o))}for(Te(),f=r.length;f<l.length;f+=1)a(f);Se()}},i(s){if(!i){for(let u=0;u<r.length;u+=1)C(l[u]);i=!0}},o(s){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)A(l[u]);i=!1},d(s){s&&(M(e),M(n),M(o)),ut(l,s)}}}function N4(t){let e,n=t[7].cost+"",o;return{c(){e=G("Enact for 🧑‍⚖️ "),o=G(n)},m(i,r){N(i,e,r),N(i,o,r)},d(i){i&&(M(e),M(o))}}}function E4(t){let e;return{c(){e=G("Repeal ❌")},m(n,o){N(n,e,o)},d(n){n&&M(e)}}}function R4(t){let e,n;function o(l,a){return a&1&&(e=null),e==null&&(e=!!l[0].economyAndLaws.enacted.includes(l[7].id)),e?E4:N4}let i=o(t,-1),r=i(t);return{c(){r.c(),n=Re()},m(l,a){r.m(l,a),N(l,n,a)},p(l,a){i!==(i=o(l,a))&&(r.d(1),r=i(l),r&&(r.c(),r.m(n.parentNode,n)))},d(l){l&&M(n),r.d(l)}}}function hf(t){let e,n,o,i,r,l,a;function s(){return t[4](t[7])}return i=new Gt({props:{class:`bg-accent rounded-2xl 
                `+(t[0].economyAndLaws.enacted.includes(t[7].id)?"bg-textDanger":"bg-accent")+`

                `+(t[0].economyAndLaws.enacted.includes(t[7].id)||t[7].cost<=t[0].resources.bureaucracy?"cursor-pointer":"cursor-not-allowed opacity-30")+`
                `,$$slots:{default:[R4]},$$scope:{ctx:t}}}),i.$on("click",s),l=new Tt({props:{class:"bg-white opacity-30"}}),{c(){e=P("div"),n=P("span"),n.textContent=`${t[7].description}`,o=F(),x(i.$$.fragment),r=F(),x(l.$$.fragment),R(n,"class","text-sm"),R(e,"class","flex justify-between align-middle items-center pt-2 pb-2 gap-2 ")},m(u,f){N(u,e,f),y(e,n),y(e,o),W(i,e,null),N(u,r,f),W(l,u,f),a=!0},p(u,f){t=u;const c={};f&1&&(c.class=`bg-accent rounded-2xl 
                `+(t[0].economyAndLaws.enacted.includes(t[7].id)?"bg-textDanger":"bg-accent")+`

                `+(t[0].economyAndLaws.enacted.includes(t[7].id)||t[7].cost<=t[0].resources.bureaucracy?"cursor-pointer":"cursor-not-allowed opacity-30")+`
                `),f&1025&&(c.$$scope={dirty:f,ctx:t}),i.$set(c)},i(u){a||(C(i.$$.fragment,u),C(l.$$.fragment,u),a=!0)},o(u){A(i.$$.fragment,u),A(l.$$.fragment,u),a=!1},d(u){u&&(M(e),M(r)),Y(i),Y(l,u)}}}function L4(t){let e,n,o,i,r=$e("city_hall",t[0]).length>0,l,a,s,u,f,c,d,m;e=new qn({props:{class:"text-lg",$$slots:{default:[S4]},$$scope:{ctx:t}}}),o=new mo({props:{class:"w-full "}});let p=r&&pf(t);a=new Tt({props:{class:"mb-4"}});const _=[P4,M4],g=[];function v(h,k){return k&1&&(f=null),f==null&&(f=$e("city_hall",h[0]).length>0),f?0:1}return c=v(t,-1),d=g[c]=_[c](t),{c(){x(e.$$.fragment),n=F(),x(o.$$.fragment),i=F(),p&&p.c(),l=F(),x(a.$$.fragment),s=F(),u=P("div"),d.c(),R(u,"class","w-full")},m(h,k){W(e,h,k),N(h,n,k),W(o,h,k),N(h,i,k),p&&p.m(h,k),N(h,l,k),W(a,h,k),N(h,s,k),N(h,u,k),g[c].m(u,null),m=!0},p(h,k){const S={};k&1025&&(S.$$scope={dirty:k,ctx:h}),e.$set(S),k&1&&(r=$e("city_hall",h[0]).length>0),r?p?(p.p(h,k),k&1&&C(p,1)):(p=pf(h),p.c(),C(p,1),p.m(l.parentNode,l)):p&&(Te(),A(p,1,1,()=>{p=null}),Se());let I=c;c=v(h,k),c===I?g[c].p(h,k):(Te(),A(g[I],1,1,()=>{g[I]=null}),Se(),d=g[c],d?d.p(h,k):(d=g[c]=_[c](h),d.c()),C(d,1),d.m(u,null))},i(h){m||(C(e.$$.fragment,h),C(o.$$.fragment,h),C(p),C(a.$$.fragment,h),C(d),m=!0)},o(h){A(e.$$.fragment,h),A(o.$$.fragment,h),A(p),A(a.$$.fragment,h),A(d),m=!1},d(h){h&&(M(n),M(i),M(l),M(s),M(u)),Y(e,h),Y(o,h),p&&p.d(h),Y(a,h),g[c].d()}}}function D4(t){let e,n,o,i;return e=new Fn({props:{$$slots:{default:[L4]},$$scope:{ctx:t}}}),o=new co({}),{c(){x(e.$$.fragment),n=F(),x(o.$$.fragment)},m(r,l){W(e,r,l),N(r,n,l),W(o,r,l),i=!0},p(r,l){const a={};l&1025&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){A(e.$$.fragment,r),A(o.$$.fragment,r),i=!1},d(r){r&&M(n),Y(e,r),Y(o,r)}}}function $4(t){let e,n;return e=new Bn({props:{class:"bg-foreground text-accentText h-[80vh] w-full scroll",$$slots:{default:[D4]},$$scope:{ctx:t}}}),{c(){x(e.$$.fragment)},m(o,i){W(e,o,i),n=!0},p(o,i){const r={};i&1025&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){A(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function q4(t){let e,n,o;function i(l){t[5](l)}let r={$$slots:{default:[$4]},$$scope:{ctx:t}};return t[1]!==void 0&&(r.open=t[1]),e=new jn({props:r}),Ee.push(()=>_n(e,"open",i)),{c(){x(e.$$.fragment)},m(l,a){W(e,l,a),o=!0},p(l,[a]){const s={};a&1025&&(s.$$scope={dirty:a,ctx:l}),!n&&a&2&&(n=!0,s.open=l[1],hn(()=>n=!1)),e.$set(s)},i(l){o||(C(e.$$.fragment,l),o=!0)},o(l){A(e.$$.fragment,l),o=!1},d(l){Y(e,l)}}}function F4(t,e,n){let o,i;se(t,De,u=>n(0,o=u)),se(t,wi,u=>n(1,i=u));const r=()=>{o.townInfo.guardians>0?(Pe(De,o.townInfo.guardians-=1,o),Pe(De,o.townInfo.employees-=1,o)):ht.set("No guardians to fire.")},l=()=>{o.townInfo.employees<o.townInfo.population_count?(Pe(De,o.townInfo.guardians+=1,o),Pe(De,o.townInfo.employees+=1,o)):ht.set("Not enough people.")},a=u=>{o.economyAndLaws.enacted.includes(u.id)?o.economyAndLaws.enacted.splice(o.economyAndLaws.enacted.indexOf(u.id),1):u.cost<=o.resources.bureaucracy?(Pe(De,o.resources.bureaucracy-=u.cost,o),o.economyAndLaws.enacted.push(u.id)):ht.set("Not enough bureaucracy!")};function s(u){i=u,wi.set(i)}return t.$$.update=()=>{t.$$.dirty&1},[o,i,r,l,a,s]}class B4 extends me{constructor(e){super(),de(this,e,F4,q4,ce,{})}}function j4(t){let e;return{c(){e=G("Got it")},m(n,o){N(n,e,o)},d(n){n&&M(e)}}}function H4(t){let e,n,o,i,r,l,a,s;return r=new vc({props:{class:"bg-accent hover:scale-105 min-w-[70%] transition-all duration-150 mt-2",$$slots:{default:[j4]},$$scope:{ctx:t}}}),r.$on("click",t[1]),a=new Qi({}),{c(){e=P("span"),n=G("🛎️ "),o=new Kt(!1),i=F(),x(r.$$.fragment),l=F(),x(a.$$.fragment),o.a=null,R(e,"class","whitespace-pre-wrap overflow-scroll text-center sm:whitespace-normal break-all sm:text-md sm:font-semibold sm:py-4 sm:items-center sm:justify-center"),et(e,"max-height","80%")},m(u,f){N(u,e,f),y(e,n),o.m(t[0],e),N(u,i,f),W(r,u,f),N(u,l,f),W(a,u,f),s=!0},p(u,f){(!s||f&1)&&o.p(u[0]);const c={};f&4&&(c.$$scope={dirty:f,ctx:u}),r.$set(c)},i(u){s||(C(r.$$.fragment,u),C(a.$$.fragment,u),s=!0)},o(u){A(r.$$.fragment,u),A(a.$$.fragment,u),s=!1},d(u){u&&(M(e),M(i),M(l)),Y(r,u),Y(a,u)}}}function G4(t){let e,n;return e=new zi({props:{class:`bg-foregroundDark text-white rounded-input shadow-3xl justify-center items-center flex flex-col py-2 text-lg font-semibold p-2 min-w-96 min-h-36
         sm:rounded-2xl sm:flex sm:flex-col sm:p-6 sm:text-md sm:font-semibold sm:py-4 sm:items-center sm:justify-center max-h-[50vh]

         `,$$slots:{default:[H4]},$$scope:{ctx:t}}}),{c(){x(e.$$.fragment)},m(o,i){W(e,o,i),n=!0},p(o,i){const r={};i&5&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){A(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function V4(t){let e,n;return e=new er({props:{open:t[0]!="",$$slots:{default:[G4]},$$scope:{ctx:t}}}),{c(){x(e.$$.fragment)},m(o,i){W(e,o,i),n=!0},p(o,[i]){const r={};i&1&&(r.open=o[0]!=""),i&5&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){A(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function W4(t,e,n){let o;return se(t,ht,r=>n(0,o=r)),[o,()=>{ht.set("")}]}class Y4 extends me{constructor(e){super(),de(this,e,W4,V4,ce,{})}}function _f(t){let e,n,o,i;const r=[U4,x4],l=[];function a(s,u){return s[0]==null?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),N(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?l[e].p(s,u):(Te(),A(l[f],1,1,()=>{l[f]=null}),Se(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){A(n),i=!1},d(s){s&&M(o),l[e].d(s)}}}function x4(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,p,_,g,v,h,k,S=t[2]==!0&&gf();n=new _4({}),i=new Om({}),l=new Av({}),s=new ty({}),f=new I5({}),d=new X5({}),p=new B4({}),g=new Y4({});let I=t[0].environment.day==0&&t[3]&&bf();return{c(){S&&S.c(),e=F(),x(n.$$.fragment),o=F(),x(i.$$.fragment),r=F(),x(l.$$.fragment),a=F(),x(s.$$.fragment),u=F(),x(f.$$.fragment),c=F(),x(d.$$.fragment),m=F(),x(p.$$.fragment),_=F(),x(g.$$.fragment),v=F(),I&&I.c(),h=Re()},m(O,D){S&&S.m(O,D),N(O,e,D),W(n,O,D),N(O,o,D),W(i,O,D),N(O,r,D),W(l,O,D),N(O,a,D),W(s,O,D),N(O,u,D),W(f,O,D),N(O,c,D),W(d,O,D),N(O,m,D),W(p,O,D),N(O,_,D),W(g,O,D),N(O,v,D),I&&I.m(O,D),N(O,h,D),k=!0},p(O,D){O[2]==!0?S?D&4&&C(S,1):(S=gf(),S.c(),C(S,1),S.m(e.parentNode,e)):S&&(Te(),A(S,1,1,()=>{S=null}),Se()),O[0].environment.day==0&&O[3]?I?D&9&&C(I,1):(I=bf(),I.c(),C(I,1),I.m(h.parentNode,h)):I&&(Te(),A(I,1,1,()=>{I=null}),Se())},i(O){k||(C(S),C(n.$$.fragment,O),C(i.$$.fragment,O),C(l.$$.fragment,O),C(s.$$.fragment,O),C(f.$$.fragment,O),C(d.$$.fragment,O),C(p.$$.fragment,O),C(g.$$.fragment,O),C(I),k=!0)},o(O){A(S),A(n.$$.fragment,O),A(i.$$.fragment,O),A(l.$$.fragment,O),A(s.$$.fragment,O),A(f.$$.fragment,O),A(d.$$.fragment,O),A(p.$$.fragment,O),A(g.$$.fragment,O),A(I),k=!1},d(O){O&&(M(e),M(o),M(r),M(a),M(u),M(c),M(m),M(_),M(v),M(h)),S&&S.d(O),Y(n,O),Y(i,O),Y(l,O),Y(s,O),Y(f,O),Y(d,O),Y(p,O),Y(g,O),I&&I.d(O)}}}function U4(t){let e,n;return e=new xv({}),{c(){x(e.$$.fragment)},m(o,i){W(e,o,i),n=!0},p:Ce,i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){A(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function gf(t){let e,n;return e=new mv({}),{c(){x(e.$$.fragment)},m(o,i){W(e,o,i),n=!0},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){A(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function bf(t){let e,n;return e=new T4({}),{c(){x(e.$$.fragment)},m(o,i){W(e,o,i),n=!0},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){A(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function K4(t){let e,n,o=(t[1]||t[0]==null)&&_f(t);return{c(){o&&o.c(),e=Re()},m(i,r){o&&o.m(i,r),N(i,e,r),n=!0},p(i,[r]){i[1]||i[0]==null?o?(o.p(i,r),r&3&&C(o,1)):(o=_f(i),o.c(),C(o,1),o.m(e.parentNode,e)):o&&(Te(),A(o,1,1,()=>{o=null}),Se())},i(i){n||(C(o),n=!0)},o(i){A(o),n=!1},d(i){i&&M(e),o&&o.d(i)}}}const X4=1e-4;function J4(t,e,n){return{r:Math.round(t.r+(e.r-t.r)*n),g:Math.round(t.g+(e.g-t.g)*n),b:Math.round(t.b+(e.b-t.b)*n)}}function Z4(t,e,n){let o,i,r,l,a,s,u;se(t,zn,h=>n(10,o=h)),se(t,tt,h=>n(11,i=h)),se(t,vt,h=>n(2,r=h)),se(t,De,h=>n(0,l=h)),se(t,eo,h=>n(5,a=h)),se(t,Eo,h=>n(12,s=h)),se(t,Mr,h=>n(3,u=h));let f=!1;pv();let c=!1;const d=[{r:85,g:60,b:40},{r:115,g:85,b:55},{r:70,g:100,b:50},{r:120,g:65,b:50}];let m=0,p=1,_=0;function g(){const h=J4(d[m],d[p],_);document.body.style.backgroundColor=`rgb(${h.r}, ${h.g}, ${h.b})`,_+=X4,_>=1&&(_=0,m=p,p=(p+1)%d.length),requestAnimationFrame(g)}g(),document.addEventListener("keydown",h=>{if((document.activeElement!=null&&document.activeElement.nodeName==="INPUT"||document.activeElement!=null&&document.activeElement.nodeName=="TEXTAREA")&&h.key!=="Escape")return;switch(h.key.toLowerCase()){case"p":if(r==!0){vt.set(!1);let S=l;S.modifiers.happiness=2,S.modifiers.health=2,Pe(De,l=S,l)}else vt.set(!0),Pe(tt,i.visible=!1,i);break;case"escape":h.shiftKey?(Pe(vt,r=!0,r),localStorage.setItem("reset","true"),bi()):i.visible==!0&&Pe(tt,i.visible=!1,i),a==!0&&(eo.set(!1),document.querySelectorAll(".plot_container").forEach(I=>{I.style.cursor=""}));break}});function v(h,k,S){if(c==!0)switch(S){case"up":k-=2;break;case"down":k+=1;break;case"left":h-=2;break;case"right":h+=1;break}h<0?h=0:h>l.plots.length&&(h=l.plots.length),k<0?k=0:k>l.plots.length&&(k=l.plots.length);let I=document.querySelectorAll(".plot_container"),O;if(I.forEach(D=>{D.dataset.x=="$x"&&D.dataset.y=="$y"&&(O=D)}),r==!1){if(O.dataset.canBeUpgraded==="true"?Pe(tt,i.visible=!0,i):Pe(tt,i.visible=!1,i),O.dataset.refPlotX!==void 0&&O.dataset.refPlotY!=""?(c=!0,I.forEach(D=>{D.dataset.x==O.dataset.refPlotX&&D.dataset.y==O.dataset.refPlotY&&(O=D,h=parseInt(O.dataset.x),k=parseInt(O.dataset.y))})):c=!1,O.dataset.size!=="1"&&O.dataset.size!==void 0&&(c=!0),Pe(tt,i.x=h,i),Pe(tt,i.y=k,i),I.forEach(D=>{D.classList.remove("selected"),D.style.fontWeight=""}),O.classList.add("selected"),c){let D="4px solid #00800045";O.classList.remove("selected"),O.style.borderTop=D,O.style.borderLeft=D,O.style.fontWeight="600",I.forEach(j=>{const q=parseInt(`${j.dataset.x}`),$=parseInt(`${j.dataset.y}`);q==h+1&&$==k&&(j.style.borderLeft=D,j.style.borderBottom=D),q==h&&$==k+1&&(j.style.borderTop=D,j.style.borderRight=D),q==h+1&&$==k+1&&(j.style.borderBottom=D,j.style.borderRight=D)})}O.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),Pe(zn,o={},o)}}return t.$$.update=()=>{t.$$.dirty&33&&(l?(Pe(Eo,s.visible=!1,s),n(1,f=!0),a==!0&&document.querySelectorAll(".plot_container").forEach(k=>{k.dataset.canbeupgraded=="true"&&(k.style.cursor="pointer",k.style.cursor="url('https://github.com/josephrcox/plots/raw/main/public/liege_place.cur'), auto")})):(Pe(Eo,s.visible=!0,s),n(1,f=!1)))},[l,f,r,u,v,a]}class Q4 extends me{constructor(e){super(),de(this,e,Z4,K4,ce,{openPlotMenu:4})}get openPlotMenu(){return this.$$.ctx[4]}}new Q4({target:document.getElementById("app")});
