var Gd=Object.defineProperty;var Vd=(t,e,n)=>e in t?Gd(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var _n=(t,e,n)=>(Vd(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();function Hd(t){const e=pako.gzip(JSON.stringify(t));return btoa(String.fromCharCode.apply(null,e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function Wd(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=atob(e),o=new Uint8Array(n.length);for(let r=0;r<n.length;r++)o[r]=n.charCodeAt(r);const i=pako.ungzip(o,{to:"string"});return JSON.parse(i)}async function Yd(){let t=localStorage.getItem("plots_active_game_db");const e=await Hd(t);console.log("http://localhost:5173/plots/?shareId="+e)}const Lr=window.location.search.substring(1).split("&").reduce((t,e)=>{const[n,o]=e.split("=");return t[n]=o,t},{});if(Lr.shareId!=null||Lr.shareId!=null){console.log("DECRYPING FROM shareId");const t=JSON.parse(Wd(Lr.shareId));let e=localStorage.getItem("plots_active_game_db");(e==""||e==null)&&localStorage.setItem("plots_active_game_db",JSON.stringify(t))}else console.log("COMPRESSING GAME TO SHARE"),Yd();function Ce(){}const pr=t=>t;function Q(t,e){for(const n in e)t[n]=e[n];return t}function oc(t){return t()}function As(){return Object.create(null)}function Be(t){t.forEach(oc)}function cn(t){return typeof t=="function"}function fe(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let vi;function Ud(t,e){return t===e?!0:(vi||(vi=document.createElement("a")),vi.href=e,t===vi.href)}function Kd(t){return Object.keys(t).length===0}function Pl(t,...e){if(t==null){for(const o of e)o(void 0);return Ce}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function ic(t){let e;return Pl(t,n=>e=n)(),e}function ae(t,e,n){t.$$.on_destroy.push(Pl(e,n))}function me(t,e,n,o){if(t){const i=rc(t,e,n,o);return t[0](i)}}function rc(t,e,n,o){return t[1]&&o?Q(n.ctx.slice(),t[1](o(e))):n.ctx}function pe(t,e,n,o){if(t[2]&&o){const i=t[2](o(n));if(e.dirty===void 0)return i;if(typeof i=="object"){const r=[],l=Math.max(e.dirty.length,i.length);for(let a=0;a<l;a+=1)r[a]=e.dirty[a]|i[a];return r}return e.dirty|i}return e.dirty}function he(t,e,n,o,i,r){if(i){const l=rc(e,n,o,r);t.p(l,i)}}function _e(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let o=0;o<n;o++)e[o]=-1;return e}return-1}function $e(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function le(t,e){const n={};e=new Set(e);for(const o in t)!e.has(o)&&o[0]!=="$"&&(n[o]=t[o]);return n}function Me(t,e,n){return t.set(n),e}function je(t){return t&&cn(t.destroy)?t.destroy:Ce}const lc=typeof window<"u";let Nl=lc?()=>window.performance.now():()=>Date.now(),El=lc?t=>requestAnimationFrame(t):Ce;const mo=new Set;function sc(t){mo.forEach(e=>{e.c(t)||(mo.delete(e),e.f())}),mo.size!==0&&El(sc)}function $l(t){let e;return mo.size===0&&El(sc),{promise:new Promise(n=>{mo.add(e={c:t,f:n})}),abort(){mo.delete(e)}}}function g(t,e){t.appendChild(e)}function ac(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function Xd(t){const e=I("style");return e.textContent="/* empty */",Jd(ac(t),e),e.sheet}function Jd(t,e){return g(t.head||t,e),e.sheet}function M(t,e,n){t.insertBefore(e,n||null)}function T(t){t.parentNode&&t.parentNode.removeChild(t)}function _t(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function I(t){return document.createElement(t)}function hr(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function F(t){return document.createTextNode(t)}function q(){return F(" ")}function Re(){return F("")}function ee(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function N(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}const xd=["width","height"];function se(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const o in e)e[o]==null?t.removeAttribute(o):o==="style"?t.style.cssText=e[o]:o==="__value"?t.value=t[o]=e[o]:n[o]&&n[o].set&&xd.indexOf(o)===-1?t[o]=e[o]:N(t,o,e[o])}function Bi(t,e){for(const n in e)N(t,n,e[n])}function Zd(t,e){Object.keys(e).forEach(n=>{Qd(t,n,e[n])})}function Qd(t,e,n){const o=e.toLowerCase();o in t?t[o]=typeof t[o]=="boolean"&&n===""?!0:n:e in t?t[e]=typeof t[e]=="boolean"&&n===""?!0:n:N(t,e,n)}function wn(t){return/-/.test(t)?Zd:se}function zd(t){return Array.from(t.childNodes)}function re(t,e){e=""+e,t.data!==e&&(t.data=e)}function rn(t,e){t.value=e??""}function Ze(t,e,n,o){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,"")}function Ss(t,e,n){for(let o=0;o<t.options.length;o+=1){const i=t.options[o];if(i.__value===e){i.selected=!0;return}}t.selectedIndex=-1}function gn(t,e,n){t.classList.toggle(e,!!n)}function uc(t,e,{bubbles:n=!1,cancelable:o=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:o})}class on{constructor(e=!1){_n(this,"is_svg",!1);_n(this,"e");_n(this,"n");_n(this,"t");_n(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,n,o=null){this.e||(this.is_svg?this.e=hr(n.nodeName):this.e=I(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(e)),this.i(o)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)M(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(T)}}const ji=new Map;let qi=0;function em(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function tm(t,e){const n={stylesheet:Xd(e),rules:{}};return ji.set(t,n),n}function Gi(t,e,n,o,i,r,l,a=0){const s=16.666/o;let u=`{
`;for(let v=0;v<=1;v+=s){const w=e+(n-e)*r(v);u+=v*100+`%{${l(w,1-w)}}
`}const f=u+`100% {${l(n,1-n)}}
}`,c=`__svelte_${em(f)}_${a}`,d=ac(t),{stylesheet:m,rules:p}=ji.get(d)||tm(d,t);p[c]||(p[c]=!0,m.insertRule(`@keyframes ${c} ${f}`,m.cssRules.length));const _=t.style.animation||"";return t.style.animation=`${_?`${_}, `:""}${c} ${o}ms linear ${i}ms 1 both`,qi+=1,c}function Vi(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?r=>r.indexOf(e)<0:r=>r.indexOf("__svelte")===-1),i=n.length-o.length;i&&(t.style.animation=o.join(", "),qi-=i,qi||nm())}function nm(){El(()=>{qi||(ji.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&T(e)}),ji.clear())})}let Ko;function Wo(t){Ko=t}function ti(){if(!Ko)throw new Error("Function called outside component initialization");return Ko}function _r(t){ti().$$.on_mount.push(t)}function om(t){ti().$$.on_destroy.push(t)}function im(){const t=ti();return(e,n,{cancelable:o=!1}={})=>{const i=t.$$.callbacks[e];if(i){const r=uc(e,n,{cancelable:o});return i.slice().forEach(l=>{l.call(t,r)}),!r.defaultPrevented}return!0}}function gr(t,e){return ti().$$.context.set(t,e),e}function br(t){return ti().$$.context.get(t)}function oe(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(o=>o.call(this,e))}const uo=[],Ne=[];let po=[];const nl=[],fc=Promise.resolve();let ol=!1;function cc(){ol||(ol=!0,fc.then(dc))}function Rl(){return cc(),fc}function it(t){po.push(t)}function Tn(t){nl.push(t)}const Fr=new Set;let ro=0;function dc(){if(ro!==0)return;const t=Ko;do{try{for(;ro<uo.length;){const e=uo[ro];ro++,Wo(e),rm(e.$$)}}catch(e){throw uo.length=0,ro=0,e}for(Wo(null),uo.length=0,ro=0;Ne.length;)Ne.pop()();for(let e=0;e<po.length;e+=1){const n=po[e];Fr.has(n)||(Fr.add(n),n())}po.length=0}while(uo.length);for(;nl.length;)nl.pop()();ol=!1,Fr.clear(),Wo(t)}function rm(t){if(t.fragment!==null){t.update(),Be(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(it)}}function lm(t){const e=[],n=[];po.forEach(o=>t.indexOf(o)===-1?e.push(o):n.push(o)),n.forEach(o=>o()),po=e}let Eo;function Dl(){return Eo||(Eo=Promise.resolve(),Eo.then(()=>{Eo=null})),Eo}function Rn(t,e,n){t.dispatchEvent(uc(`${e?"intro":"outro"}${n}`))}const Pi=new Set;let Yt;function Ie(){Yt={r:0,c:[],p:Yt}}function Oe(){Yt.r||Be(Yt.c),Yt=Yt.p}function A(t,e){t&&t.i&&(Pi.delete(t),t.i(e))}function S(t,e,n,o){if(t&&t.o){if(Pi.has(t))return;Pi.add(t),Yt.c.push(()=>{Pi.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}else o&&o()}const Ll={duration:0};function Zt(t,e,n){const o={direction:"in"};let i=e(t,n,o),r=!1,l,a,s=0;function u(){l&&Vi(t,l)}function f(){const{delay:d=0,duration:m=300,easing:p=pr,tick:_=Ce,css:v}=i||Ll;v&&(l=Gi(t,0,1,m,d,p,v,s++)),_(0,1);const w=Nl()+d,k=w+m;a&&a.abort(),r=!0,it(()=>Rn(t,!0,"start")),a=$l(C=>{if(r){if(C>=k)return _(1,0),Rn(t,!0,"end"),u(),r=!1;if(C>=w){const D=p((C-w)/m);_(D,1-D)}}return r})}let c=!1;return{start(){c||(c=!0,Vi(t),cn(i)?(i=i(o),Dl().then(f)):f())},invalidate(){c=!1},end(){r&&(u(),r=!1)}}}function Qt(t,e,n){const o={direction:"out"};let i=e(t,n,o),r=!0,l;const a=Yt;a.r+=1;let s;function u(){const{delay:f=0,duration:c=300,easing:d=pr,tick:m=Ce,css:p}=i||Ll;p&&(l=Gi(t,1,0,c,f,d,p));const _=Nl()+f,v=_+c;it(()=>Rn(t,!1,"start")),"inert"in t&&(s=t.inert,t.inert=!0),$l(w=>{if(r){if(w>=v)return m(0,1),Rn(t,!1,"end"),--a.r||Be(a.c),!1;if(w>=_){const k=d((w-_)/c);m(1-k,k)}}return r})}return cn(i)?Dl().then(()=>{i=i(o),u()}):u(),{end(f){f&&"inert"in t&&(t.inert=s),f&&i.tick&&i.tick(1,0),r&&(l&&Vi(t,l),r=!1)}}}function Xt(t,e,n,o){let r=e(t,n,{direction:"both"}),l=o?0:1,a=null,s=null,u=null,f;function c(){u&&Vi(t,u)}function d(p,_){const v=p.b-l;return _*=Math.abs(v),{a:l,b:p.b,d:v,duration:_,start:p.start,end:p.start+_,group:p.group}}function m(p){const{delay:_=0,duration:v=300,easing:w=pr,tick:k=Ce,css:C}=r||Ll,D={start:Nl()+_,b:p};p||(D.group=Yt,Yt.r+=1),"inert"in t&&(p?f!==void 0&&(t.inert=f):(f=t.inert,t.inert=!0)),a||s?s=D:(C&&(c(),u=Gi(t,l,p,v,_,w,C)),p&&k(0,1),a=d(D,v),it(()=>Rn(t,p,"start")),$l(L=>{if(s&&L>s.start&&(a=d(s,v),s=null,Rn(t,a.b,"start"),C&&(c(),u=Gi(t,l,a.b,a.duration,0,w,r.css))),a){if(L>=a.end)k(l=a.b,1-l),Rn(t,a.b,"end"),s||(a.b?c():--a.group.r||Be(a.group.c)),a=null;else if(L>=a.start){const P=L-a.start;l=a.a+a.d*w(P/a.duration),k(l,1-l)}}return!!(a||s)}))}return{run(p){cn(r)?Dl().then(()=>{r=r({direction:p?"in":"out"}),m(p)}):m(p)},end(){c(),a=s=null}}}function Ye(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function sm(t,e){S(t,1,1,()=>{e.delete(t.key)})}function am(t,e,n,o,i,r,l,a,s,u,f,c){let d=t.length,m=r.length,p=d;const _={};for(;p--;)_[t[p].key]=p;const v=[],w=new Map,k=new Map,C=[];for(p=m;p--;){const $=c(i,r,p),G=n($);let R=l.get(G);R?C.push(()=>R.p($,e)):(R=u(G,$),R.c()),w.set(G,v[p]=R),G in _&&k.set(G,Math.abs(p-_[G]))}const D=new Set,L=new Set;function P($){A($,1),$.m(a,f),l.set($.key,$),f=$.first,m--}for(;d&&m;){const $=v[m-1],G=t[d-1],R=$.key,W=G.key;$===G?(f=$.first,d--,m--):w.has(W)?!l.has(R)||D.has(R)?P($):L.has(W)?d--:k.get(R)>k.get(W)?(L.add(R),P($)):(D.add(W),d--):(s(G,l),d--)}for(;d--;){const $=t[d];w.has($.key)||s($,l)}for(;m;)P(v[m-1]);return Be(C),v}function ye(t,e){const n={},o={},i={$$scope:1};let r=t.length;for(;r--;){const l=t[r],a=e[r];if(a){for(const s in l)s in a||(o[s]=1);for(const s in a)i[s]||(n[s]=a[s],i[s]=1);t[r]=a}else for(const s in l)i[s]=1}for(const l in o)l in n||(n[l]=void 0);return n}function rt(t){return typeof t=="object"&&t!==null?t:{}}function Mn(t,e,n){const o=t.$$.props[e];o!==void 0&&(t.$$.bound[o]=n,n(t.$$.ctx[o]))}function Z(t){t&&t.c()}function X(t,e,n){const{fragment:o,after_update:i}=t.$$;o&&o.m(e,n),it(()=>{const r=t.$$.on_mount.map(oc).filter(cn);t.$$.on_destroy?t.$$.on_destroy.push(...r):Be(r),t.$$.on_mount=[]}),i.forEach(it)}function J(t,e){const n=t.$$;n.fragment!==null&&(lm(n.after_update),Be(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function um(t,e){t.$$.dirty[0]===-1&&(uo.push(t),cc(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ge(t,e,n,o,i,r,l=null,a=[-1]){const s=Ko;Wo(t);const u=t.$$={fragment:null,ctx:[],props:r,update:Ce,not_equal:i,bound:As(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(s?s.$$.context:[])),callbacks:As(),dirty:a,skip_bound:!1,root:e.target||s.$$.root};l&&l(u.root);let f=!1;if(u.ctx=n?n(t,e.props||{},(c,d,...m)=>{const p=m.length?m[0]:d;return u.ctx&&i(u.ctx[c],u.ctx[c]=p)&&(!u.skip_bound&&u.bound[c]&&u.bound[c](p),f&&um(t,c)),d}):[],u.update(),f=!0,Be(u.before_update),u.fragment=o?o(u.ctx):!1,e.target){if(e.hydrate){const c=zd(e.target);u.fragment&&u.fragment.l(c),c.forEach(T)}else u.fragment&&u.fragment.c();e.intro&&A(t.$$.fragment),X(t,e.target,e.anchor),dc()}Wo(s)}class be{constructor(){_n(this,"$$");_n(this,"$$set")}$destroy(){J(this,1),this.$destroy=Ce}$on(e,n){if(!cn(n))return Ce;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const i=o.indexOf(n);i!==-1&&o.splice(i,1)}}$set(e){this.$$set&&!Kd(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const fm="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(fm);const lo=[];function Dn(t,e){return{subscribe:We(t,e).subscribe}}function We(t,e=Ce){let n;const o=new Set;function i(a){if(fe(t,a)&&(t=a,n)){const s=!lo.length;for(const u of o)u[1](),lo.push(u,t);if(s){for(let u=0;u<lo.length;u+=2)lo[u][0](lo[u+1]);lo.length=0}}}function r(a){i(a(t))}function l(a,s=Ce){const u=[a,s];return o.add(u),o.size===1&&(n=e(i,r)||Ce),a(t),()=>{o.delete(u),o.size===0&&n&&(n(),n=null)}}return{set:i,update:r,subscribe:l}}function dn(t,e,n){const o=!Array.isArray(t),i=o?[t]:t;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const r=e.length<2;return Dn(n,(l,a)=>{let s=!1;const u=[];let f=0,c=Ce;const d=()=>{if(f)return;c();const p=e(o?u[0]:u,l,a);r?l(p):c=cn(p)?p:Ce},m=i.map((p,_)=>Pl(p,v=>{u[_]=v,f&=~(1<<_),s&&d()},()=>{f|=1<<_}));return s=!0,d(),function(){Be(m),c(),s=!1}})}function Ts(t){return{subscribe:t.subscribe.bind(t)}}const cm={plots:[],timeSpent:0,devMode:!1,lastChangeDay:0,townLog:[],currentTutorialStep:0,townInfo:{name:"Your town",gold:150,population_count:0,population_max:0,employees:0,guardians:0,happiness:150,health:150,community:150,knowledge_points:0,productivity:100},kingdom_expansions:0,resources:{food:50,wood:750,stone:750,metal:0,power:0,bureaucracy:0},resource_rate:{food:0,wood:0,stone:0,metal:0,bureaucracy:0,knowledge:0},hasCityHall:!1,hasBank:!1,hasHospital:!1,hasLab:!1,modifiers:{happiness:1,health:1,community:1},economyAndLaws:{tax_rate:.1,max_tax_rate:1,weeklyProfit:0,knowledge_gold_market_rates:[],enacted:[]},plotCounts:[],environment:{day:0,year:1},maximums:{health:300,happiness:300,community:300},difficulty:0,endGoal:"land",endGameDetails:{msg:"",win:!1,still_playing:!0},tick:0,overtime:!1,last_warning_happiness:0,last_warning_health:0,lab:{active_experiment:null,past_experiments:[],xp:0},liege_location:null},dm={username:"",stats:{games_played:0,wins:0,losses:0},achievements:[]},Fl={0:"Easy",1:"Normal",2:"Hard"},mm={0:Math.random()*(.5-.3)+.3,1:Math.random()*(.4-.2)+.2,2:Math.random()*(.4-.2)+.2},ie=[{id:"small_homes",title:"🏠 Homes",type:"residential",description:"+16 people",revenue_per_week:0,requirements:{gold:150,plots:[],employees:0,knowledge:0,size:1,xp:0,resources:{food:0,wood:50,stone:10,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:16,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:2,stone:0,metal:0,bureaucracy:0,food:0}},{id:"farm",title:"🥕 Farm",type:"farm",description:"Produces veggies, grains, fruit",revenue_per_week:6,requirements:{gold:80,plots:[],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:10,stone:10,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.03,health:1.03,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:5,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},check_for_variety:!1},{id:"tree_farm",title:"🌲 Tree Farm",type:"lumber",description:"Produces some wood",revenue_per_week:8,requirements:{gold:300,plots:[],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},check_for_variety:!0,styling:"",affordable:null,selected:null,knowledge_points_per_month:0,generated_resources:{food:0,wood:10,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"quarry",title:"⛏️ Quarry",type:"quarry",description:"Produces stone, small amounts of metal",revenue_per_week:0,requirements:{gold:800,plots:[],employees:6,knowledge:0,size:1,xp:0,resources:{food:0,wood:50,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:.98,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:18,metal:1,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"livestock_farm",title:"🐄 Livestock",type:"farm",description:"Makes more money and food than a regular farm, but doesn't bonus from water.",revenue_per_week:72,requirements:{gold:600,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:20,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.1,health:1.05,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:14,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},check_for_variety:!1},{id:"bakery",title:"🥖 Bakery",type:"business",description:"Converts food into some extra cash. Make sure you have enough food.",revenue_per_week:90,requirements:{gold:500,plots:[],employees:3,knowledge:0,size:1,xp:0,resources:{food:0,wood:170,stone:170,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.11,health:.95,community:1},immediate_variable_changes:{happiness:25,health:0,population:0,community:0,bureaucracy:0},check_for_variety:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:15}},{id:"stables",title:"🐴 Stables",type:"business",description:"Makes money and improves health",revenue_per_week:24,requirements:{gold:400,plots:[],employees:2,knowledge:0,size:1,xp:0,resources:{food:0,wood:120,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.2,health:1.2,community:1},immediate_variable_changes:{happiness:5,health:10,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"church",title:"⛪️ Church",type:"recreation",description:"Makes people VERY happy for a short period.",revenue_per_week:0,requirements:{gold:900,plots:[],employees:1,knowledge:0,size:1,xp:0,resources:{food:0,wood:1e3,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.3,health:1,community:1.3},immediate_variable_changes:{happiness:25,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"pub",title:"🍻 Pub",type:"recreation",description:"Increases knowledge, happiness, community. Isn't great for health.",revenue_per_week:40,knowledge_points_per_month:1,requirements:{gold:500,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:100,stone:50,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.2,health:.93,community:1.1},immediate_variable_changes:{happiness:10,health:-15,population:0,community:0,bureaucracy:0},check_for_variety:!0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"village_market",title:"🛒 Village Market",type:"shop",description:"Turns food into money. Sells goods and employs many. Makes significantly more money from tourism if you have a Village Inn.",revenue_per_week:180,requirements:{gold:1400,plots:[],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:150,stone:150,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.05,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:35}},{id:"fishery",title:"🐠 Fishery",type:"business",description:"Requires metal but generates a lot of food. Must be near water.",revenue_per_week:35,requirements:{gold:1500,plots:[],employees:9,knowledge:0,size:1,xp:0,resources:{food:0,wood:1500,stone:0,metal:100,power:0,bureaucracy:0},adjacent_plots:["water"]},effect_modifiers:{happiness:1.05,health:1,community:1},immediate_variable_changes:{happiness:15,health:8,population:0,community:0,bureaucracy:0},check_for_variety:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:75,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"neighborhood",title:"🏘️ Neighborhood",type:"residential",description:"+64 people",revenue_per_week:0,requirements:{gold:700,plots:[],employees:0,knowledge:0,size:1,xp:0,resources:{food:0,wood:250,stone:250,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.1,health:1,community:1.1},immediate_variable_changes:{happiness:0,health:0,population:64,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"vineyard",title:"🍇 Vineyard",type:"farm",description:"Makes fair money, lowers health. Generates knowledge too similar to a pub.",revenue_per_week:60,requirements:{gold:700,plots:[],employees:6,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.5,health:.9,community:1},immediate_variable_changes:{happiness:0,health:-10,population:0,community:0,bureaucracy:0},knowledge_points_per_month:3,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"water_wheel",title:"💧 Water Wheel",type:"industrial",description:"Produces small amount of power",revenue_per_week:0,requirements:{gold:800,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:200,stone:50,metal:0,power:0,bureaucracy:0},adjacent_plots:["water"]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:35,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"adv_water_wheel",title:"💧 Adv. Water Wheel",type:"industrial",description:"Produces a large amount of power",revenue_per_week:0,requirements:{gold:1800,plots:[],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:400,stone:150,metal:500,power:0,bureaucracy:0},adjacent_plots:["water"]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:100,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"park",title:"🎪 Park",type:"recreation",description:"Makes people extremely happy & healthy for a period. Improves community.",revenue_per_week:0,requirements:{gold:600,plots:[],employees:3,knowledge:0,size:1,xp:0,resources:{food:0,wood:100,stone:100,metal:10,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.5,health:1.5,community:1.3},immediate_variable_changes:{happiness:40,health:40,population:0,community:40,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"village_inn",title:"🛌 Village Inn",type:"tourism",description:"Enables tourism to your town, which increases revenue at certain stores.",revenue_per_week:23,requirements:{gold:1500,plots:[],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:150,stone:100,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1.02},immediate_variable_changes:{happiness:10,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:20,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"schoolhouse",title:"🏫 Schoolhouse",type:"education",description:"Produces knowledge, costs money to run.",revenue_per_week:0,knowledge_points_per_month:25,requirements:{gold:2500,plots:[],employees:20,knowledge:0,size:1,xp:0,resources:{food:0,wood:500,stone:100,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.1,health:1.1,community:1.2},immediate_variable_changes:{happiness:15,health:3,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:50,power:20,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"blacksmith",title:"⚒️ Blacksmith",type:"business",description:"Converts metal into tools for money. Make sure you have enough metal!",revenue_per_week:300,requirements:{gold:3e3,plots:[],employees:24,knowledge:0,size:1,xp:0,resources:{food:0,wood:250,stone:250,metal:500,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:.95},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:75,wood:0,stone:0,metal:10,bureaucracy:0,food:0}},{id:"library",title:"📕 Library",type:"recreation",description:"Produces knowledge and happiness",revenue_per_week:0,knowledge_points_per_month:10,requirements:{gold:2e3,plots:[],employees:6,knowledge:0,size:1,xp:0,resources:{food:0,wood:225,stone:100,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.3,health:1,community:1.1},immediate_variable_changes:{happiness:15,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"lumber_mill",title:"🏭 Lumber Mill",type:"industrial",description:"Increases wood production by 25%, has to be next to a tree farm",revenue_per_week:0,requirements:{gold:4e3,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:300,stone:100,metal:0,power:0,bureaucracy:0},adjacent_plots:["tree_farm"]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:50,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:20,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"solar_farm",title:"☀️ Solar farm",type:"industrial",description:"Produces a lot of power without the need of water.",revenue_per_week:0,requirements:{gold:5e3,plots:[],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:500,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:500,bureaucracy:0},level:4,active_costs:{gold:0,power:0,wood:0,stone:0,metal:50,bureaucracy:0,food:0}},{id:"general_store",title:"🛒 General Store",type:"shop",description:"Makes the most money of any plot, requires power. Makes significantly more from tourism if you have a Village Inn.",revenue_per_week:500,requirements:{gold:15e3,plots:[],employees:32,knowledge:0,size:1,xp:0,resources:{food:0,wood:5e3,stone:5e3,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.05,health:1,community:1.1},immediate_variable_changes:{happiness:20,health:0,population:0,community:0,bureaucracy:0},check_for_variety:!1,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:60,wood:0,stone:0,metal:0,bureaucracy:0,food:100}},{id:"healing_house",title:"🏥 Healing House",type:"medical",description:"Treats the sick and continuously improves health.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:2e4,plots:[],employees:18,knowledge:0,size:1,xp:0,resources:{food:0,wood:800,stone:1e3,metal:1e3,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.25,health:1.5,community:1.1},immediate_variable_changes:{happiness:5,health:75,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:30,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"community_center",title:"🫶 Community Center",type:"recreation",description:"Improves community, makes people happier, costs money",revenue_per_week:0,requirements:{gold:19e3,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:1e3,stone:700,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.09,health:1,community:2},immediate_variable_changes:{happiness:50,health:15,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:10,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"city_hall",title:"🗳️ City Hall",type:"federal",description:"Generates bureaucracy that can be used to pass laws to impact the city and expand. Costs a lot of gold every week.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:35e3,plots:[],employees:32,knowledge:3e3,size:1,xp:0,resources:{food:0,wood:3250,stone:800,metal:200,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1.2},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:10},level:4,active_costs:{gold:300,power:20,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"mine",title:"⛏️ Mine",type:"mine",description:"Produces a significant amount of metal and stone.",revenue_per_week:0,requirements:{gold:5e4,plots:[],employees:64,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:150,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:.9,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:15,metal:50,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:80,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"academy",title:"🏫 Academy",type:"education",description:"Produces a lot of knowledge, requires high population",revenue_per_week:0,knowledge_points_per_month:90,requirements:{gold:3e4,plots:[],employees:32,knowledge:1e3,size:1,xp:0,resources:{food:0,wood:5e3,stone:1600,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:500,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"bank",title:"🏦 Bank",type:"bank",description:"Enables the conversion of knowledge to gold, and increases maximum tax rate so you can make more money.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:75e3,plots:[],employees:32,knowledge:1e3,size:1,xp:0,resources:{food:0,wood:1e3,stone:1e4,metal:5e3,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:.8,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:75,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"lab",title:"🧪 Laboratory",type:"science",description:"Designs things to help the city grow",revenue_per_week:0,knowledge_points_per_month:25,requirements:{gold:1e5,plots:[],employees:24,knowledge:1e4,size:1,xp:0,resources:{food:0,wood:0,stone:1e3,metal:3e3,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:.98,health:.99,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:300,power:35,wood:0,stone:0,metal:0,bureaucracy:0,food:0}}],$o={empty_unusable:"rgba(21, 40, 20, 0.70)",empty_buildable:"#CBB827",residential:"#de7633",farm:"#6b8f49",lumber:"#8E805C",business:"#9273a5",recreation:"#5277b1",shop:"#d896d8",tourism:"#d896d8",education:"#BFBEEB",medical:"#4a5ba3",bank:"#8477be",federal:"#8477be",science:"#4a5ba3",mine:"#d9874a",quarry:"#868685",industrial:"#868615"};function Hi(t,e=!1){if(t<0)return t==-1?e?$o.empty_buildable:$o.empty_unusable:t==-2?$o.recreation:$o.empty_unusable;const n=ie[t];return $o[n.type]}const Ms={lab:1,city_hall:1,bank:1,community_center:1,inn:1},qt="plots_active_game_db",Xo="plots_user_db";function pm(){const t=["York","London","Paris","Madrid","Rome","Berlin","Vienna","Prague","Warsaw","Oslo","Lisbon","Dublin","Brussels","Amsterdam","Stockholm","Copenhagen","Edinburgh","Moscow","Beijing","Tokyo","Seoul","Bangkok","Delhi","Mumbai","Shanghai","Sydney","Melbourne","Cairo","Dubai","Istanbul","Athens","Budapest","Reykjavik","Helsinki","Tallinn","Riga","Vilnius","Sofia","Bucharest","Belgrade","Zagreb","Sarajevo","Ljubljana","Skopje","Tirana","Podgorica","Thessaloniki","Barcelona","Valencia","Seville","Granada","Malaga","Lyon","Marseille","Toulouse","Nice","Nantes","Strasbourg","Bordeaux","Lille","Venice","Milan","Florence","Naples","Turin","Bologna","Perugia","Genoa","Pisa","Verona","Palermo","Catania","Bari","Padua","Cagliari","Krakow","Gdansk","Poznan","Wroclaw","Lodz","Katowice","Bialystok","Gdynia","Sopot","Bydgoszcz","Lublin","Szczecin","Gorzow","Zakopane","Olsztyn","Torun","Rzeszow","Kielce","Radom","Siedlce","Los","Angeles","Chicago","Houston","Phoenix","San","Antonio","San","Diego","Dallas","San","Jose","Austin","Jacksonville","Fort","Worth","Columbus","Charlotte","Liverpool","Manchester","Glasgow","Birmingham","Leeds","Sheffield","Newcastle","upon","Tyne","Bristol","Nottingham","Leicester","Coventry","Belfast","Reading","Cardiff","Southampton","Aberdeen","Plymouth","Stoke","Trent","Wolverhampton","Swansea","Sunderland","Portsmouth","Yorkshire","Hull","Blackpool","Bradford","Derby","Middlesbrough","Peterborough","Stockton","on","Tees","Brighton","Poole","Bournemouth","Huddersfield","Luton","Oxford","Norwich","Oldham","Cambridge","Exeter","Walsall","Colchester","Watford","Rotherham","Newport","Gateshead","Dundee","Gloucester","Solihull","High","Wycombe","Maidstone","Slough","Basildon","Chelmsford","Salford","Bedford","Stevenage","Woking","Grimsby","Birkenhead","Halifax","Warrington","Gillingham","Wigan","Worcester","Wakefield","Lincoln","Chester","Rochdale","Dagenham","Widnes","St","Albans","Mansfield","Sutton","Coldfield","Crawley","Wokingham","Barnsley","St","Helens","Harrogate","Redditch","Scunthorpe","Nuneaton","Chesterfield","Hemel","Hempstead","Bury","Guildford","Ashford","Telford","Newcastle","under","Lyme","Aylesbury","Halesowen","Shrewsbury","Lowestoft","Loughborough","Cheltenham","Kidderminster","Basingstoke","Rugby","Stourbridge","Southport","Kettering","Royal","Leamington","Spa","Beeston","Farnborough","Wrexham","Banbury","Weymouth","Wallsend","Dartford","Grays","Tamworth","Ashford","Esher","Folkestone","Tonbridge","Taunton","Runcorn","Macclesfield","Keighley","Bridgend","Barnstaple","Letchworth","Garden","City","Worthing","Gosport","Eastleigh","Staines","upon","Thames","Lisburn","Livingston","Bognor","Regis","Scarborough","Cannock","Margate","Chippenham","Rhondda","Maidenhead","Wellingborough","Washington","Camberley","Bootle","Lancaster","Llanelli","Chatham","Cheshunt","Bishop","Auckland","Nelson","Belper","Pontefract","Barry","Braintree","Crosby","Bury","St","Edmunds","Bexhill","Margate","Aldershot","Rowley","Regis","Hoddesdon","Sittingbourne","Rugby","Newquay","Falmouth","Stretford","Camberley","Beverley","Windsor","Rochester","Wickford","Diss","Farnham","Andover","Camberwell","Bermondsey","Lewisham","Wembley","Hayes","Harrow","Ilford","Enfield","Twickenham","Richmond","Brentwood","Edgware","Ealing","Greenwich","Bromley","Hounslow","Romford","Hillingdon","Uxbridge","Wandsworth","Sutton","Kingston","upon","Thames","Bexley","Havering","Barking"],e=["ia","ville","ton","land","field","burgh","ford","wood","port","bay","beach","peak","valley","ridge","hill","dale","island","cape","spring","grove","polis","side","view","shore","haven","place","gardens","plaza","square"],n=["New","Old","North","South","East","West","Upper","Lower","Little","Great","Saint","Fort","Mount","Lake","River","The Village of","The City of","The Town of","The Borough of","The County of","The State of","The Kingdom of","The Empire of","The Republic of","The Commonwealth of","The Union of","The Federation of","Rainy","Sunny","Windy","Frosty","Snowy"];function o(s){return s[Math.floor(Math.random()*s.length)]}let i=o(n),r=o(t),l=o(e),a="";return Math.random()>.5?a=i+" "+r+l:a=r+l,a}let Pe=We(JSON.parse(localStorage.getItem(qt)||"null")),an=We(JSON.parse(localStorage.getItem(Xo)||"null"));gm();function hm(t,e,n,o){let i={...cm};i.economyAndLaws.max_tax_rate=mm[t],i.endGoal=e;let r=[];n=n.replace(/[^a-zA-Z0-9 ]/g,"").trim(),i.townInfo.name=n!=""?n:pm(),i.difficulty=parseInt(t),o&&(i.devMode=!0,i.townInfo.gold=1e8,i.townInfo.happiness=1e7,i.townInfo.health=1e6,i.townInfo.knowledge_points=1e5,i.modifiers.happiness=1e4,i.modifiers.health=1e4,i.resources.food=1e6,i.resources.wood=1e6,i.resources.stone=1e6,i.resources.metal=1e6);const l=t=="0"?8:t=="1"?12:t=="2"?16:1,a=Math.floor(Math.random()*l/2)+1,s=Math.floor(Math.random()*l/2)+1;for(let u=0;u<l;u++){r.push([]);for(let f=0;f<l;f++){const c=u==a&&f==s?!1:_m(u,f,l);r[u][f]={id:Math.random().toString(36).substring(2,9),active:!1,x:u,y:f,type:c?-9:-1,typeId:"",mineralSource:c?!1:a===u&&s===f,water:a===u&&s===f?!1:c}}}i.plots=r,localStorage.reset=!1,localStorage.setItem(qt,JSON.stringify(i)),Pe.set(i),location.reload()}function _m(t,e,n){let o=.06;return t>0&&e>0&&t<n-1&&e<n-1&&(o*=2),(e==Math.round(n/2)||e==Math.round(n/2)-1)&&(o*=5),t==0&&e==0&&(o=0),Math.random()<o}function gm(){if(localStorage.getItem(Xo)===null){let t=dm;t.username="my_username_click_to_change",localStorage.setItem(Xo,JSON.stringify(t)),an.set(t)}}function Is(t,e){var n=Math.pow(10,e);t=parseFloat((t*n).toFixed(11));var o=Math.round(t)/n;return+o.toFixed(e)}function Wi(t,e,n){let o=n.plots[t][e].type;if(n.plots[t][e].type=-1,n.plots[t][e].active=!1,o>-1&&(n.townInfo.population_count-=ie[o].immediate_variable_changes.population,n.townInfo.population_max-=ie[o].immediate_variable_changes.population,n.townInfo.happiness-=ie[o].immediate_variable_changes.happiness,n.townInfo.health-=ie[o].immediate_variable_changes.health,n.modifiers.happiness=Is(n.modifiers.happiness/ie[o].effect_modifiers.happiness,2),n.modifiers.health=Is(n.modifiers.health/ie[o].effect_modifiers.health,2),n.townInfo.employees-=ie[o].requirements.employees,(n.plotCounts[o]===void 0||n.plotCounts[o]===null)&&(n.plotCounts[o]=0),n.plotCounts[o]--,(ie[o].requirements.size??1)>1))for(let r=0;r<n.plots.length;r++)for(let l=0;l<n.plots[t].length;l++)n.plots[r][l].referencePlot!=null&&n.plots[r][l].referencePlot[0]===t&&n.plots[r][l].referencePlot[1]===e&&Wi(r,l,n);n.lastChangeDay=n.environment.day,Pe.set(n),localStorage.setItem(qt,JSON.stringify(n))}function He(t,e){let n=[];for(let o=0;o<e.plots.length;o++)for(let i=0;i<e.plots[o].length;i++)e.plots[o][i].active==!1||e.plots[o][i]==null||e.plots[o][i].type===null||e.plots[o][i].type<0||(ie[e.plots[o][i].type].id===t||ie[e.plots[o][i].type].type===t)&&n.push(e.plots[o][i]);return n}function bm(t,e){const n=t.plots.length,o=n>0?t.plots[0].length:0,i=e=="east"?5:0,r=e=="south"?5:0,l=Math.round(Math.pow(1.5,t.kingdom_expansions+5));if(t.townInfo.guardians<l)return`You need ${l-t.townInfo.guardians} more Guardians to expand the kingdom. See the City mgmt menu.`;for(let a=0;a<n;a++)for(let s=o;s<o+i;s++)t.plots[a].push({id:Math.random().toString(36).substring(2,9),active:!1,x:a,y:s,type:-1,typeId:"",mineralSource:!1,water:!1,disabled:!1});for(let a=n;a<n+r;a++){const s=[];for(let u=0;u<o+i;u++)s.push({id:Math.random().toString(36).substring(2,9),active:!1,x:a,y:u,type:-1,typeId:"",mineralSource:!1,water:!1});t.plots.push(s)}t.kingdom_expansions++,Pe.set(t)}function Bl(t=null){localStorage.removeItem(qt),Pe.set(null),t&&(localStorage.setItem(qt,JSON.stringify(t)),Pe.set(t)),location.reload()}function vm(){mc.update(t=>!t),localStorage.setItem("showOnlyAffordable",localStorage.getItem("showOnlyAffordable")==="true"?"false":"true")}let tt=We({visible:!1,x:0,y:0,isMineralSource:!1}),Yo=We({visible:!1});function ym(t){an.set(t),localStorage.setItem(Xo,JSON.stringify(t))}let go=We({}),Ni=We(!1),Dt=We(!1),il=We(!0),Os=We(!1),Yi=We(!1),Ui=We(!1),Ei=We(!1),Ki=We(!1),Xi=We(!1),Pt=We(""),Ji=localStorage.getItem("showCompletedAchievements")==="true"?We(!0):We(!1),mc=localStorage.getItem("showOnlyAffordable")==="true"?We(!0):We(!1),pc=localStorage.getItem("pauseMenuTab")==="game"?We("game"):We("achievements"),rl=We(750);const pt={unemployment_num:" people can't find jobs.",bored:"People are bored. Try making some new buildings.",vairety:"People don't like going to the same places over and over again. Try making some new buildings.",nobody_home:"Build some homes!",leave_town_num:" people left town because they were unhappy.",new_people_num:" new people moved to town.",people_want_to_move_in:"People want to move in. Build more homes.",high_tax_rate:"People are unhappy with the high tax rate.",very_high_tax_rate:"People are extremely unhappy with the high tax rate.",sickAndDying:"People are sick and dying.",sickAndLeaving:"People are sick and leaving town.",happiness_zero:"The town has fallen into chaos due to extreme unhappiness.",health_zero:"The town has fallen into chaos due to extreme sickness.",population_zero:"The town has been condemned due to lack of population.",win:{land:"You have filled the grid with buildings. You win!"},hospital_advantage:"Because you have a hospital, the town is staying healthier for longer!",notEnoughVariety:"People are sick of going to the same places over and over, add some variety!"},nt=[{id:"happiness_at_300",title:"Happy Town",description:"One of your towns wins Happiest Town Award!",requirements:"Happiness reaches 300",icon:"😍",check:t=>t.townInfo.happiness>=300,prize:1e3},{id:"get_educated",title:"Get Educated",description:"The kids are finally able to learn!",requirements:"Build a school or library",icon:"📌",check:t=>He("small_school",t).length!==0||He("large_school",t).length!==0||He("library",t).length!==0,prize:1850},{id:"10k",title:"$10,000",description:"",requirements:"Gold reaches $10,000",icon:"﹩",check:t=>t.townInfo.gold>=1e4,prize:2500},{id:"25k",title:"$25,000",description:"",requirements:"Gold reaches $25,000",icon:"💵",check:t=>t.townInfo.gold>=25e3,prize:7500},{id:"stayin_frugal",title:"Stayin' Frugal!",description:"",requirements:"Gold under $50 with >=300 population",icon:"🚲",check:t=>t.townInfo.gold<=50&&t.townInfo.population_count>=300,prize:1e4},{id:"profits_to_the_moon",title:"Profits to the moon!",description:"Now you're making dough!",requirements:"Last month profit is over $10,000",icon:"🌛",check:t=>t.economyAndLaws.weeklyProfit>=1e4,prize:15e3},{id:"happily_dying",title:"Happily Dying!",description:"Not something to be proud of...",requirements:"Happiness > 275, health < 25",icon:"🌛",check:t=>t.townInfo.happiness>275&&t.townInfo.health<25,prize:2e4},{id:"long_game",title:"The Long Game",description:"So are you gonna win anytime soon?",requirements:"Still playing after 10,000 days, without winning. ",icon:"🐌",check:t=>t.endGameDetails.win===!1&&t.environment.day>1e4&&t.endGameDetails.msg==="",prize:25e3},{id:"tax_man",title:"Tax man",description:"Set the tax rate to the absolute max that the town will tolerate.",requirements:"",icon:"🙃",check:t=>{let e=Math.floor(t.economyAndLaws.max_tax_rate*20)/20;return t.economyAndLaws.tax_rate===e},prize:1500},{id:"good_job",title:"Good job",description:"Beat 'Fill the grid' with Normal difficulty in under 3,000 days.",requirements:"",icon:"👍",check:t=>t.endGameDetails.win===!0&&t.environment.day<=3e3&&t.difficulty===1&&t.endGoal==="land",prize:1e4},{id:"great_job",title:"Great job",description:"Beat 'Fill the grid' with Normal difficulty in under 2,000 days.",requirements:"",icon:"👏",check:t=>t.endGameDetails.win===!0&&t.environment.day<=2e3&&t.difficulty===1&&t.endGoal==="land",prize:45e3},{id:"superb_job",title:"SUPERB job",description:"Beat 'Fill the grid' with Normal difficulty in under 500 days.",requirements:"",icon:"👌",check:t=>t.endGameDetails.win===!0&&t.environment.day<=500&&t.difficulty===1&&t.endGoal==="land",prize:1e5},{id:"250k",title:"$250,000",description:"",requirements:"Gold reaches $250,000",icon:"💸",check:t=>t.townInfo.gold>=25e4,prize:5e4},{id:"banker",title:"Banker",description:"",requirements:"Build your first bank. ",icon:"🏦",check:t=>He("bank",t).length!==0,prize:5e3},{id:"community",title:"Community Center",description:"",requirements:"Build your first community center. ",icon:"❤️",check:t=>He("community_center",t).length!==0,prize:1e4},{id:"1m",title:"MILLIONAIRE!",description:"",requirements:"Gold reaches $1,000,000",icon:"💰",check:t=>t.townInfo.gold>=1e6,prize:15e4}],jt=[{message:"My liege, we need places to live! Build the first homes.",isComplete:t=>t.townInfo.population_max>0,goldReward:750},{message:"My liege, you need to start making food and wood.",isComplete:t=>He("farm",t).length>=1&&He("tree_farm",t).length>=1,goldReward:300},{message:"My liege, the village will need stone and metals to expand. Build a quarry. ",isComplete:t=>He("quarry",t).length>0,goldReward:500},{message:"My liege, things are picking up but we will need far more money. Get weekly revenue to >=200 gold. ",isComplete:t=>t.economyAndLaws.weeklyProfit>=200,goldReward:2e3},{message:"My liege, as the town develops we will need the smartest and brightest. Build plots to get our Knowledge to 250.",isComplete:t=>t.townInfo.knowledge_points>=250,goldReward:2e3},{message:"My liege, the village is growing - yay! But we need to have more workers. Get the population to 100.",isComplete:t=>t.townInfo.population_count>=100,goldReward:1500},{message:"My liege, some advanced buildings require power. Start generating power with a water wheel or a solar farm.",isComplete:t=>t.resources.power>0,goldReward:2e3},{message:"My liege, we need more metals. Find a good spot for a mine and build it. ",isComplete:t=>He("mine",t).length>0,goldReward:1e4},{message:"My liege, mining resources has taken a toll on the towns health. Build a Healing House to lower the chance of sickness.",isComplete:t=>He("healing_house",t).length>0,goldReward:15e3},{message:"My liege, now that we have metals, power, and people, your next goal is a big one. Build your town a City Hall.",isComplete:t=>He("city_hall",t).length>0,goldReward:1e4}];function hc(t){var e,n,o="";if(typeof t=="string"||typeof t=="number")o+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=hc(t[e]))&&(o&&(o+=" "),o+=n)}else for(n in t)t[n]&&(o&&(o+=" "),o+=n);return o}function wm(){for(var t,e,n=0,o="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=hc(t))&&(o&&(o+=" "),o+=e);return o}const jl="-";function km(t){const e=Am(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:o}=t;function i(l){const a=l.split(jl);return a[0]===""&&a.length!==1&&a.shift(),_c(a,e)||Cm(l)}function r(l,a){const s=n[l]||[];return a&&o[l]?[...s,...o[l]]:s}return{getClassGroupId:i,getConflictingClassGroupIds:r}}function _c(t,e){var l;if(t.length===0)return e.classGroupId;const n=t[0],o=e.nextPart.get(n),i=o?_c(t.slice(1),o):void 0;if(i)return i;if(e.validators.length===0)return;const r=t.join(jl);return(l=e.validators.find(({validator:a})=>a(r)))==null?void 0:l.classGroupId}const Ps=/^\[(.+)\]$/;function Cm(t){if(Ps.test(t)){const e=Ps.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function Am(t){const{theme:e,prefix:n}=t,o={nextPart:new Map,validators:[]};return Tm(Object.entries(t.classGroups),n).forEach(([r,l])=>{ll(l,o,r,e)}),o}function ll(t,e,n,o){t.forEach(i=>{if(typeof i=="string"){const r=i===""?e:Ns(e,i);r.classGroupId=n;return}if(typeof i=="function"){if(Sm(i)){ll(i(o),e,n,o);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([r,l])=>{ll(l,Ns(e,r),n,o)})})}function Ns(t,e){let n=t;return e.split(jl).forEach(o=>{n.nextPart.has(o)||n.nextPart.set(o,{nextPart:new Map,validators:[]}),n=n.nextPart.get(o)}),n}function Sm(t){return t.isThemeGetter}function Tm(t,e){return e?t.map(([n,o])=>{const i=o.map(r=>typeof r=="string"?e+r:typeof r=="object"?Object.fromEntries(Object.entries(r).map(([l,a])=>[e+l,a])):r);return[n,i]}):t}function Mm(t){if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,o=new Map;function i(r,l){n.set(r,l),e++,e>t&&(e=0,o=n,n=new Map)}return{get(r){let l=n.get(r);if(l!==void 0)return l;if((l=o.get(r))!==void 0)return i(r,l),l},set(r,l){n.has(r)?n.set(r,l):i(r,l)}}}const gc="!";function Im(t){const e=t.separator,n=e.length===1,o=e[0],i=e.length;return function(l){const a=[];let s=0,u=0,f;for(let _=0;_<l.length;_++){let v=l[_];if(s===0){if(v===o&&(n||l.slice(_,_+i)===e)){a.push(l.slice(u,_)),u=_+i;continue}if(v==="/"){f=_;continue}}v==="["?s++:v==="]"&&s--}const c=a.length===0?l:l.substring(u),d=c.startsWith(gc),m=d?c.substring(1):c,p=f&&f>u?f-u:void 0;return{modifiers:a,hasImportantModifier:d,baseClassName:m,maybePostfixModifierPosition:p}}}function Om(t){if(t.length<=1)return t;const e=[];let n=[];return t.forEach(o=>{o[0]==="["?(e.push(...n.sort(),o),n=[]):n.push(o)}),e.push(...n.sort()),e}function Pm(t){return{cache:Mm(t.cacheSize),splitModifiers:Im(t),...km(t)}}const Nm=/\s+/;function Em(t,e){const{splitModifiers:n,getClassGroupId:o,getConflictingClassGroupIds:i}=e,r=new Set;return t.trim().split(Nm).map(l=>{const{modifiers:a,hasImportantModifier:s,baseClassName:u,maybePostfixModifierPosition:f}=n(l);let c=o(f?u.substring(0,f):u),d=!!f;if(!c){if(!f)return{isTailwindClass:!1,originalClassName:l};if(c=o(u),!c)return{isTailwindClass:!1,originalClassName:l};d=!1}const m=Om(a).join(":");return{isTailwindClass:!0,modifierId:s?m+gc:m,classGroupId:c,originalClassName:l,hasPostfixModifier:d}}).reverse().filter(l=>{if(!l.isTailwindClass)return!0;const{modifierId:a,classGroupId:s,hasPostfixModifier:u}=l,f=a+s;return r.has(f)?!1:(r.add(f),i(s,u).forEach(c=>r.add(a+c)),!0)}).reverse().map(l=>l.originalClassName).join(" ")}function $m(){let t=0,e,n,o="";for(;t<arguments.length;)(e=arguments[t++])&&(n=bc(e))&&(o&&(o+=" "),o+=n);return o}function bc(t){if(typeof t=="string")return t;let e,n="";for(let o=0;o<t.length;o++)t[o]&&(e=bc(t[o]))&&(n&&(n+=" "),n+=e);return n}function sl(t,...e){let n,o,i,r=l;function l(s){const u=e.reduce((f,c)=>c(f),t());return n=Pm(u),o=n.cache.get,i=n.cache.set,r=a,a(s)}function a(s){const u=o(s);if(u)return u;const f=Em(s,n);return i(s,f),f}return function(){return r($m.apply(null,arguments))}}function Qe(t){const e=n=>n[t]||[];return e.isThemeGetter=!0,e}const vc=/^\[(?:([a-z-]+):)?(.+)\]$/i,Rm=/^\d+\/\d+$/,Dm=new Set(["px","full","screen"]),Lm=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Fm=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Bm=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,jm=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,qm=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function tn(t){return En(t)||Dm.has(t)||Rm.test(t)}function bn(t){return Co(t,"length",Xm)}function En(t){return!!t&&!Number.isNaN(Number(t))}function yi(t){return Co(t,"number",En)}function Ro(t){return!!t&&Number.isInteger(Number(t))}function Gm(t){return t.endsWith("%")&&En(t.slice(0,-1))}function qe(t){return vc.test(t)}function vn(t){return Lm.test(t)}const Vm=new Set(["length","size","percentage"]);function Hm(t){return Co(t,Vm,yc)}function Wm(t){return Co(t,"position",yc)}const Ym=new Set(["image","url"]);function Um(t){return Co(t,Ym,xm)}function Km(t){return Co(t,"",Jm)}function Do(){return!0}function Co(t,e,n){const o=vc.exec(t);return o?o[1]?typeof e=="string"?o[1]===e:e.has(o[1]):n(o[2]):!1}function Xm(t){return Fm.test(t)&&!Bm.test(t)}function yc(){return!1}function Jm(t){return jm.test(t)}function xm(t){return qm.test(t)}function al(){const t=Qe("colors"),e=Qe("spacing"),n=Qe("blur"),o=Qe("brightness"),i=Qe("borderColor"),r=Qe("borderRadius"),l=Qe("borderSpacing"),a=Qe("borderWidth"),s=Qe("contrast"),u=Qe("grayscale"),f=Qe("hueRotate"),c=Qe("invert"),d=Qe("gap"),m=Qe("gradientColorStops"),p=Qe("gradientColorStopPositions"),_=Qe("inset"),v=Qe("margin"),w=Qe("opacity"),k=Qe("padding"),C=Qe("saturate"),D=Qe("scale"),L=Qe("sepia"),P=Qe("skew"),$=Qe("space"),G=Qe("translate"),R=()=>["auto","contain","none"],W=()=>["auto","hidden","clip","visible","scroll"],y=()=>["auto",qe,e],b=()=>[qe,e],O=()=>["",tn,bn],E=()=>["auto",En,qe],H=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],V=()=>["solid","dashed","dotted","double","none"],K=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"],z=()=>["start","end","center","between","around","evenly","stretch"],te=()=>["","0",qe],Y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],h=()=>[En,yi],B=()=>[En,qe];return{cacheSize:500,separator:":",theme:{colors:[Do],spacing:[tn,bn],blur:["none","",vn,qe],brightness:h(),borderColor:[t],borderRadius:["none","","full",vn,qe],borderSpacing:b(),borderWidth:O(),contrast:h(),grayscale:te(),hueRotate:B(),invert:te(),gap:b(),gradientColorStops:[t],gradientColorStopPositions:[Gm,bn],inset:y(),margin:y(),opacity:h(),padding:b(),saturate:h(),scale:h(),sepia:te(),skew:B(),space:b(),translate:b()},classGroups:{aspect:[{aspect:["auto","square","video",qe]}],container:["container"],columns:[{columns:[vn]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...H(),qe]}],overflow:[{overflow:W()}],"overflow-x":[{"overflow-x":W()}],"overflow-y":[{"overflow-y":W()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ro,qe]}],basis:[{basis:y()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",qe]}],grow:[{grow:te()}],shrink:[{shrink:te()}],order:[{order:["first","last","none",Ro,qe]}],"grid-cols":[{"grid-cols":[Do]}],"col-start-end":[{col:["auto",{span:["full",Ro,qe]},qe]}],"col-start":[{"col-start":E()}],"col-end":[{"col-end":E()}],"grid-rows":[{"grid-rows":[Do]}],"row-start-end":[{row:["auto",{span:[Ro,qe]},qe]}],"row-start":[{"row-start":E()}],"row-end":[{"row-end":E()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",qe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",qe]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal",...z()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...z(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...z(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[k]}],px:[{px:[k]}],py:[{py:[k]}],ps:[{ps:[k]}],pe:[{pe:[k]}],pt:[{pt:[k]}],pr:[{pr:[k]}],pb:[{pb:[k]}],pl:[{pl:[k]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[$]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[$]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",qe,e]}],"min-w":[{"min-w":[qe,e,"min","max","fit"]}],"max-w":[{"max-w":[qe,e,"none","full","min","max","fit","prose",{screen:[vn]},vn]}],h:[{h:[qe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[qe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[qe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[qe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",vn,bn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",yi]}],"font-family":[{font:[Do]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",qe]}],"line-clamp":[{"line-clamp":["none",En,yi]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",tn,qe]}],"list-image":[{"list-image":["none",qe]}],"list-style-type":[{list:["none","disc","decimal",qe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...V(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",tn,bn]}],"underline-offset":[{"underline-offset":["auto",tn,qe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:b()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",qe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",qe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...H(),Wm]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Hm]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Um]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[r]}],"rounded-s":[{"rounded-s":[r]}],"rounded-e":[{"rounded-e":[r]}],"rounded-t":[{"rounded-t":[r]}],"rounded-r":[{"rounded-r":[r]}],"rounded-b":[{"rounded-b":[r]}],"rounded-l":[{"rounded-l":[r]}],"rounded-ss":[{"rounded-ss":[r]}],"rounded-se":[{"rounded-se":[r]}],"rounded-ee":[{"rounded-ee":[r]}],"rounded-es":[{"rounded-es":[r]}],"rounded-tl":[{"rounded-tl":[r]}],"rounded-tr":[{"rounded-tr":[r]}],"rounded-br":[{"rounded-br":[r]}],"rounded-bl":[{"rounded-bl":[r]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...V(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:V()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...V()]}],"outline-offset":[{"outline-offset":[tn,qe]}],"outline-w":[{outline:[tn,bn]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:O()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[tn,bn]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",vn,Km]}],"shadow-color":[{shadow:[Do]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":K()}],"bg-blend":[{"bg-blend":K()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[o]}],contrast:[{contrast:[s]}],"drop-shadow":[{"drop-shadow":["","none",vn,qe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[c]}],saturate:[{saturate:[C]}],sepia:[{sepia:[L]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[o]}],"backdrop-contrast":[{"backdrop-contrast":[s]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[c]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[C]}],"backdrop-sepia":[{"backdrop-sepia":[L]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",qe]}],duration:[{duration:B()}],ease:[{ease:["linear","in","out","in-out",qe]}],delay:[{delay:B()}],animate:[{animate:["none","spin","ping","pulse","bounce",qe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[D]}],"scale-x":[{"scale-x":[D]}],"scale-y":[{"scale-y":[D]}],rotate:[{rotate:[Ro,qe]}],"translate-x":[{"translate-x":[G]}],"translate-y":[{"translate-y":[G]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",qe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",qe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":b()}],"scroll-mx":[{"scroll-mx":b()}],"scroll-my":[{"scroll-my":b()}],"scroll-ms":[{"scroll-ms":b()}],"scroll-me":[{"scroll-me":b()}],"scroll-mt":[{"scroll-mt":b()}],"scroll-mr":[{"scroll-mr":b()}],"scroll-mb":[{"scroll-mb":b()}],"scroll-ml":[{"scroll-ml":b()}],"scroll-p":[{"scroll-p":b()}],"scroll-px":[{"scroll-px":b()}],"scroll-py":[{"scroll-py":b()}],"scroll-ps":[{"scroll-ps":b()}],"scroll-pe":[{"scroll-pe":b()}],"scroll-pt":[{"scroll-pt":b()}],"scroll-pr":[{"scroll-pr":b()}],"scroll-pb":[{"scroll-pb":b()}],"scroll-pl":[{"scroll-pl":b()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",qe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[tn,bn,yi]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}function Zm(t,{cacheSize:e,prefix:n,separator:o,extend:i={},override:r={}}){$i(t,"cacheSize",e),$i(t,"prefix",n),$i(t,"separator",o);for(const l in r)Qm(t[l],r[l]);for(const l in i)zm(t[l],i[l]);return t}function $i(t,e,n){n!==void 0&&(t[e]=n)}function Qm(t,e){if(e)for(const n in e)$i(t,n,e[n])}function zm(t,e){if(e)for(const n in e){const o=e[n];o!==void 0&&(t[n]=(t[n]||[]).concat(o))}}function ep(t,...e){return typeof t=="function"?sl(al,t,...e):sl(()=>Zm(al(),t),...e)}const wc=sl(al);function tp(t){const e=t-1;return e*e*e+1}function Fe(...t){return wc(wm(t))}const vr=(t,e={y:-8,x:0,start:.95,duration:150})=>{const n=getComputedStyle(t),o=n.transform==="none"?"":n.transform,i=(l,a,s)=>{const[u,f]=a,[c,d]=s;return(l-u)/(f-u)*(d-c)+c},r=l=>Object.keys(l).reduce((a,s)=>l[s]===void 0?a:a+`${s}:${l[s]};`,"");return{duration:e.duration??200,delay:0,css:l=>{const a=i(l,[0,1],[e.y??5,0]),s=i(l,[0,1],[e.x??0,0]),u=i(l,[0,1],[e.start??.95,1]);return r({transform:`${o} translate3d(${s}px, ${a}px, 0) scale(${u})`,opacity:l})},easing:tp}};function ut(t,e){if(e===void 0&&(e=0),t==null||t==null)return 0;t=parseFloat((t*Math.pow(10,e)).toFixed(11));var n=Math.round(t)/Math.pow(10,e);return+n.toFixed(e)}function Br(t){return t<10?"0"+t:t}function np(t){let e=Math.floor(t/1e3),n=Math.floor(e/60);e=e%60;let o=Math.floor(n/60);return n=n%60,`${Br(o)}:${Br(n)}:${Br(e)}`}function Se(t){return ie.findIndex(e=>e.id===t)}function Es(t){const n=new RegExp("\\p{Emoji}","u").exec(t);return n?n[0]:null}function Jt(t,e=!0){let n=t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,");return e||(n=n.split(".")[0]),n}function Fn(t){return t.charAt(0).toUpperCase()+t.slice(1)}function $s(t,e=!0){return t=ut(t/(e?3:1),2),t<0?`${t}`:`+${t}`}function Bn(t,e,n,o=!1){if(t<0||t>=n.plots.length||e<0||e>=n.plots[0].length)return!1;let i=[[t-1,e],[t+1,e],[t,e-1],[t,e+1],[t-1,e-1],[t-1,e+1],[t+1,e-1],[t+1,e+1]];for(let r=0;r<i.length;r++){let l=i[r][0],a=i[r][1];if(l>=0&&l<n.plots.length&&a>=0&&a<n.plots[0].length&&n.plots[l][a].water&&(o||n.plots[t][e].active==!0&&n.plots[t][e].type>0&&ie[n.plots[t][e].type].id=="farm"))return!0}return!1}function op(t,e,n,o){if(t<0||t>=n.plots.length||e<0||e>=n.plots[0].length)return!1;let i=[[t-1,e],[t+1,e],[t,e-1],[t,e+1],[t-1,e-1],[t-1,e+1],[t+1,e-1],[t+1,e+1]],r=!0;for(let l=0;l<o.length;l++){let a=!1;if(o[l]=="water"&&(console.log("water"),Bn(t,e,n,!0))){a=!0;break}for(let s=0;s<i.length;s++){let u=i[s][0],f=i[s][1];if(u>=0&&u<n.plots.length&&f>=0&&f<n.plots[0].length&&n.plots[u][f].active==!0&&n.plots[u][f].type>0&&ie[n.plots[u][f].type].id==o[l]){a=!0;break}}if(!a){r=!1;break}}return r}function ip(t,e=0){let n=t*.92,o=t*1.08;return ut(Math.random()*(o-n)+n,e)}const ul=[{id:"organic_farming",description:"Organic Farming. Make townspeople healthier and happier, while decreasing overall food production.",cost:150,weekly_effect:t=>(t.modifiers.happiness*=1.1,t.modifiers.health*=1.1,t.resources.food-=2*He("farm",t).length,t)},{id:"tax_free",description:"Tax-Free Month. For 1 month, the town loses all revenue from taxes, but happiness and health increase quite a lot. Automatically ends after 4 weeks.",cost:250,weekly_effect:t=>(localStorage.getItem("tax_free")===null?(localStorage.setItem("tax_free","0"),t.economyAndLaws.weeklyProfit=-1*t.economyAndLaws.weeklyProfit):localStorage.setItem("tax_free",(parseInt(localStorage.getItem("tax_free"))+1).toString()),parseInt(localStorage.getItem("tax_free"))>=4?(t.modifiers.happiness*=1,t.modifiers.health*=1,localStorage.removeItem("tax_free"),t.economyAndLaws.enacted=t.economyAndLaws.enacted.filter(e=>e!=="tax_free")):(t.modifiers.happiness*=1.2,t.modifiers.health*=1.2),t)},{id:"healthy_mining",description:"Healthy mining. Miners must mine with proper ventilation, but they move like molasses.",cost:250,weekly_effect:t=>(ie.find(e=>e.id==="mine"),t.modifiers.health*=1.1,t.resources.stone-=5*He("quarry",t).length,t.resources.stone-=7*He("mine",t).length,t.resources.metal-=15*He("mine",t).length,t)},{id:"complicated_tax_forms",description:"Complicated Tax Forms. You sneak in a clause to charge 5% more in taxes. Now, if you adjust your tax rate 5% higher, they won't be upset. This can be enacted multiple times to stack.",cost:500,weekly_effect:t=>(t.economyAndLaws.max_tax_rate+=.05,t.economyAndLaws.enacted=t.economyAndLaws.enacted.filter(e=>e!=="complicated_tax_forms"),t)},{id:"legalize_it",description:"Legalize it. You legalize a substance that makes people happy, but it also gives them 'the munchies'. Food consumption and happiness go up.",cost:350,weekly_effect:t=>(t.resources.food-=Math.round(.2*t.townInfo.population_count),t.modifiers.happiness*=1.1,t)},{id:"park_upgrade",description:"Park upgrade. You hold a community forum and add the top 5 things that the people want in their parks. This increases happiness for each park.",cost:350,weekly_effect:t=>(t.townInfo.happiness+=2*He("park",t).length,t)},{id:"career_politician",description:"Career Politician. You hire a career politician to help you with your town. They cost the town $100 per week, but they earn bureaucracy points faster.",cost:200,weekly_effect:t=>(t.resources.bureaucracy+=25,t)},{id:"the_big_wood_deal",description:"The Big Wood Deal. This law allows you to sell all of the wood in your town for $2/wood at once. This won't make the town happy, but may be necessary in a pinch. Can be enacted multiple times to sell to other buyers.",cost:200,weekly_effect:t=>(t.townInfo.gold+=2*t.resources.wood,t.resources.wood=0,t.resource_rate.wood=0,t.townInfo.happiness*=.8,t.economyAndLaws.enacted=t.economyAndLaws.enacted.filter(e=>e!=="the_big_wood_deal"),t)},{id:"picky_eating_liege",description:"Picky Eater Liege. There is some food that the town makes that you just really hate. By passing this law, you insist that they sell off that gross food for $1/food every week. You won't make as much food, but you won't have to eat it either.",cost:200,weekly_effect:t=>{const e=He("farm",t).length*2,n=Math.floor(Math.random()*(.15*e-.05*e)+.05*e);return t.resources.food-=n,t.townInfo.gold+=n,t.townInfo.happiness=.95*t.townInfo.happiness,t}},{id:"stone_statue",description:"Stone Statue. You insist that we use ALL of our stone to build a massive statue. We lose all of our stone, but for some reason, the town has perfect health for a while.",cost:1e3,weekly_effect:t=>(t.resources.stone=0,t.modifiers.health=10,t)},{id:"out_of_town",description:"Out of town. Everyone needs a vacation, right? When this is enacted, EVERYONE must leave the town for 10 days. During this time, no resources are produced, no taxes are collected, and you must take ",cost:1e3,weekly_effect:t=>(t.resources.stone=0,t.modifiers.health=10,t)}];var ze=(t=>(t[t.GOOD=0]="GOOD",t[t.BAD=1]="BAD",t[t.NORMAL=2]="NORMAL",t))(ze||{});const Rs=30;function rp(t,e,n){return t.resource_rate.food=bt(n.food-e.food,2),t.resource_rate.wood=bt(n.wood-e.wood,2),t.resource_rate.stone=bt(n.stone-e.stone,2),t.resource_rate.metal=bt(n.metal-e.metal,2),t.resource_rate.bureaucracy=bt(n.bureaucracy-e.bureaucracy,2),t}function lp(t){return t.hasBank,t}function sp(t){let e=t.economyAndLaws.knowledge_gold_market_rates[t.economyAndLaws.knowledge_gold_market_rates.length-1]||1;const n=-100,o=8,i=3;let r=Math.random(),l=Math.random()*i;if(r<.4){let a=Math.random()*o;Math.random()<.5?e+=a:e-=a}else Math.random()>.5?e+=l:e-=l;return e<n&&(e+=Math.random()*l/5),e=Math.round(e),t.economyAndLaws.knowledge_gold_market_rates=[...t.economyAndLaws.knowledge_gold_market_rates,e],t}function fl(t){return t.lab.active_experiment==null||t.lab.active_experiment.duration>0&&(t.lab.active_experiment.duration-=1),t}function cl(t){return t.townInfo.happiness<0&&(t.townInfo.happiness=0),t.townInfo.health<0&&(t.townInfo.health=0),t.townInfo.community<0&&(t.townInfo.community=0),t.townInfo.gold<0&&(t.townInfo.gold=0),t.townInfo.employees<0&&(t.townInfo.employees=0),t.townInfo.knowledge_points<0&&(t.townInfo.knowledge_points=0),t.townInfo.population_count<0&&(t.townInfo.population_count=0),t.economyAndLaws.weeklyProfit=bt(t.economyAndLaws.weeklyProfit,0),t.townInfo.employees>t.townInfo.population_count&&(t.townInfo.employees=t.townInfo.population_count),t.townInfo.gold=bt(t.townInfo.gold,0),t.townInfo.population_count=bt(t.townInfo.population_count,0),t.townInfo.employees=bt(t.townInfo.employees,0),t.townInfo.population_max=bt(t.townInfo.population_max,0),t.townInfo.happiness=bt(t.townInfo.happiness,2),t.townInfo.health=bt(t.townInfo.health,2),t.townInfo.knowledge_points=bt(t.townInfo.knowledge_points,0),t.townInfo.happiness>t.maximums.happiness&&(t.townInfo.happiness=t.maximums.happiness),t.townInfo.health>t.maximums.health&&(t.townInfo.health=t.maximums.health),t.townInfo.community>300&&(t.townInfo.community=300),t.modifiers.happiness<.5&&(t.modifiers.happiness=.5),t.modifiers.health<.5&&(t.modifiers.health=.5),t.modifiers.community<.5&&(t.modifiers.community=.5),t}function dl(t){if(t.townInfo.happiness>150){let n=t.townInfo.happiness-150;t.townInfo.happiness-=n*.08,t.townInfo.happiness<150&&(t.townInfo.happiness=150)}if(t.townInfo.health>150){let n=t.townInfo.health-150;t.townInfo.health-=n*.08,t.townInfo.health<150&&(t.townInfo.health=150)}if(t.townInfo.community>150){let n=t.townInfo.community-150;t.townInfo.community-=n*.08,t.townInfo.community<150&&(t.townInfo.community=150)}return t}function ap(t){return t.townInfo.happiness*=t.modifiers.happiness,t.townInfo.health*=t.modifiers.health,t.townInfo.community*=t.modifiers.community,t}function st(t,e,n){return(e.townLog||[]).unshift({message:t,day:e.environment.day,vibe:n}),e}function bt(t,e){e===void 0&&(e=0);let n=Math.pow(10,e);return t=parseFloat((t*n).toFixed(11)),+(Math.round(t)/n).toFixed(e)}function up(t,e,n){let o,i,r,l,a;ae(t,rl,h=>n(7,o=h)),ae(t,Ni,h=>n(8,i=h)),ae(t,Ui,h=>n(9,r=h)),ae(t,Dt,h=>n(10,l=h)),ae(t,an,h=>n(11,a=h)),ae(t,Pe,h=>n(12,h));function s(h){h=H(h),h=b(h),h=m(h),h=sp(h),h=V(h),h=_(h);const B={food:h.resources.food,wood:h.resources.wood,stone:h.resources.stone,metal:h.resources.metal,bureaucracy:h.resources.bureaucracy,power:h.resources.power};h=w(h),h=y(h),h=C(h),h=D(h),h=te(h),h=v(h);const x={food:h.resources.food,wood:h.resources.wood,stone:h.resources.stone,metal:h.resources.metal,bureaucracy:h.resources.bureaucracy,power:h.resources.power};return h.environment.day%14===0&&(h=ap(h)),h=rp(h,B,x),h}function u(h){return h=lp(h),h=p(h),h=z(h),h=dl(h),h=R(h),h}function f(h){return h=O(h),h=E(h),h=W(h),h}function c(h){return h=K(h),h=cl(h),h=fl(h),h.overtime==!1&&(h=G(h),h=h),h=$(h),h=L(h),h}function d(){Pe.update(h=>{if(h==null||(h.tick++,h.tick%Rs!==0)||l||!h||h.endGameDetails.msg!==""&&h.overtime==!1||h.townInfo.population_count<=0)return h;try{return h.environment.day+=1,h.environment.day%7===0&&(h=s(h)),h.environment.day%30===0&&(h=u(h)),h.environment.day%90===0&&(h=f(h)),window.location.search.includes("debug=true")&&console.log(h),h=c(h),h}catch(B){return console.error("Error in game loop:",B),h}})}Pe.subscribe(h=>{h&&localStorage.setItem(qt,JSON.stringify(h))}),an.subscribe(h=>{h&&localStorage.setItem(Xo,JSON.stringify(h))});function m(h){let B=!1,x=!1,ne=!1,U=!1;for(let ue=0;ue<h.plots.length;ue++)for(let we=0;we<h.plots[ue].length;we++)if(h.plots[ue][we].active==!0&&h.plots[ue][we].type>-1){let Ae=ie[h.plots[ue][we].type].id;Ae=="bank"&&(B=!0),Ae=="city_hall"&&(ne=!0),(Ae=="small_hospital"||Ae=="large_hospital")&&(x=!0),Ae=="lab"&&(U=!0)}return h.hasBank=B,h.hasHospital=x,h.hasCityHall=ne,h.hasLab=U,h}function p(h){const B=h.townInfo.productivity;let x=1;if(B>50&&B<100)x=1.05;else{if(B==100)return h;B<50?x=1.2:B>100&&B<125?x=.98:B>125&&B<150?x=.96:B>150&&B<175?x=.9:B>175&&B<200&&(x=.8)}const ne=h.townInfo.happiness;return h.townInfo.happiness*=x,x>1?h=st(`Happiness has gone up by ${Math.round(h.townInfo.happiness/ne*100)}% due to productivity.`,h,ze.GOOD):h=st(`Happiness has gone down by ${100-Math.round(h.townInfo.happiness/ne*100)}% due to productivity.`,h,ze.BAD),h}function _(h){return h.endGameDetails!=null||(h.townInfo.happiness<70&&h.last_warning_happiness+365<h.environment.day&&(Pt.set("Your citizens are very unhappy. You should do something about it."),h.last_warning_happiness=h.environment.day),h.townInfo.health<70&&h.last_warning_health+365<h.environment.day&&(Pt.set("Your citizens are very unhealthy. You should do something about it."),h.last_warning_health=h.environment.day)),h}function v(h){const B=h.townInfo.population_count;return h.resources.food<B?(h.modifiers.happiness*=.95,h.modifiers.health*=.95,h=st("There isn't enough food for everyone!",h,ze.BAD),h.resources.food=0):(h.townLog=h.townLog.filter(ne=>!ne.message.includes("There isn't enough food for everyone!")),h.resources.food-=B),h.resources.food=Math.round(h.resources.food),h}function w(h){const B=h.townInfo.productivity;let x=1;B<50?x=.5:B>50&&B<100?x=.75:B==100?x=1:B>100&&B<125?x=1.25:B>125&&B<150?x=1.75:B>150&&B<175?x=3:B>175&&B<200&&(x=5),x=ip(x,2);let ne=He("lumber_mill",h).length*1.25;ne===0&&(ne=1);for(let U=0;U<h.plots.length;U++)for(let ue=0;ue<h.plots[U].length;ue++)if(h.plots[U][ue].active==!0&&h.plots[U][ue].type>-1){let we=Bn(U,ue,h),Ae=ie[h.plots[U][ue].type];Ae.generated_resources!=null&&(h.resources.food+=Math.round(Ae.generated_resources.food*x)*(we?2:1),h.resources.wood+=Math.round(Ae.generated_resources.wood*x*ne),h.resources.stone+=Math.round(Ae.generated_resources.stone*x),h.resources.metal+=Math.round(Ae.generated_resources.metal*x),h.resources.bureaucracy+=Math.round(Ae.generated_resources.bureaucracy*x))}return h.resources.food=Math.round(h.resources.food),h.resources.wood=Math.round(h.resources.wood),h.resources.stone=Math.round(h.resources.stone),h.resources.metal=Math.round(h.resources.metal),h.resources.bureaucracy=Math.round(h.resources.bureaucracy),h}var k;(function(h){h.food="food",h.wood="wood",h.stone="stone",h.metal="metal",h.bureaucracy="bureaucracy"})(k||(k={}));function C(h){for(let B=0;B<h.plots.length;B++)for(let x=0;x<h.plots[B].length;x++)if(h.plots[B][x].active==!0&&h.plots[B][x].type>-1){let ne=ie[h.plots[B][x].type],U=!1;Object.keys(ne.active_costs).forEach((ue,we)=>{const Ae=Object.values(ne.active_costs)[we];ue!="power"&&(h.townInfo.gold,ue=="gold"?h.townInfo.gold<Ae?U=!0:h.townInfo.gold-=Ae:h.resources[ue]<Ae?U=!0:h.resources[ue]-=Ae)}),h.plots[B][x].disabled=U,h.plots[B][x].disabled&&(h.townInfo.happiness-=1),U&&ie[h.plots[B][x].type].type=="residential"&&(h.townInfo.population_count-=1,h.townInfo.employees-=1)}return h}function D(h){let B=0;for(let x=0;x<h.plots.length;x++)for(let ne=0;ne<h.plots[x].length;ne++)if(h.plots[x][ne].active==!0&&h.plots[x][ne].type>-1){let U=ie[h.plots[x][ne].type];U.active_costs.power!=0&&(B-=U.active_costs.power),U.generated_resources.power!=0&&(B+=U.generated_resources.power)}return h.resources.power=B,h.resources.power<0&&(h.modifiers.happiness*.98,h.townInfo.happiness-=5,h=st("🔋 POWER SHORTAGE. HAPPINESS DROPPING THROUGH BLACKOUTS.",h,ze.BAD)),h}function L(h){if(h.devMode)return h;let B=a;for(let x=0;x<nt.length;x++)B.achievements.find(ne=>ne[0]==nt[x].id)==null&&nt[x].check(h)&&(B.achievements.push([nt[x].id,h.environment.day,h.townInfo.name]),Me(Dt,l=!0,l),Me(Ui,r=!0,r));return an.update(()=>B),h}let P=!1;function $(h){if(P)return h;for(let B=h.currentTutorialStep;B<h.currentTutorialStep+1;B++)if(jt[B].isComplete(h)){Me(Ni,i=!0,i),P=!0,setTimeout(()=>{Me(Ni,i=!1,i),h.currentTutorialStep++,h.townInfo.gold+=jt[B].goldReward,P=!1},1e3);break}return h}function G(h){return h.townInfo.happiness<=3&&(h.townInfo.happiness=0,h.endGameDetails={msg:pt.happiness_zero,win:!1,still_playing:!1}),h.townInfo.health<=3&&(h.townInfo.health=3,h.endGameDetails={msg:pt.health_zero,win:!1,still_playing:!1}),h.townInfo.population_count<=0&&h.townInfo.population_max>0&&(h.townInfo.population_count=0,h.endGameDetails={msg:pt.population_zero,win:!1,still_playing:!1}),h}function R(h){let B=h.townInfo.population_count-h.townInfo.employees;if(B>0){let x=B*.2;x<15&&(x=15),h.townInfo.happiness-=x,h=st(B+pt.unemployment_num,h,ze.BAD)}else h.townLog=h.townLog.filter(x=>!x.message.includes(pt.unemployment_num));return h}function W(h){let B=h.plotCounts.reduce((ne,U)=>ne+U,0),x=!1;for(let ne=0;ne<h.plotCounts.length;ne++)h.plotCounts[ne]==null||ie[ne].check_for_variety!=!0||(h.difficulty,h.plotCounts[ne]/B>=.25&&(ie[ne].title,x=!0));return x&&(h=st(pt.notEnoughVariety,h,ze.BAD),h.modifiers.happiness*.95),h}function y(h){for(let B=0;B<h.economyAndLaws.enacted.length;B++){let x=ul.find(ne=>ne.id==h.economyAndLaws.enacted[B]);x!=null&&x.weekly_effect!=null&&(h=x.weekly_effect(h))}return h}function b(h){let B=h.townInfo.health,x=0;return B>50||B<Math.random()*50&&(B<25?(h=st(pt.sickAndDying,h,ze.BAD),h.townInfo.happiness-=10,x=Math.round(h.townInfo.population_count*.1)):(h=st(pt.sickAndLeaving,h,ze.BAD),h.townInfo.happiness-=5,x=Math.round(h.townInfo.population_count*.05)),h.townInfo.population_count-=x,h.townInfo.employees-=x),h}function O(h){return h.townInfo.community<100&&Math.random()*100<h.townInfo.community||(h.lastChangeDay+(Math.random()*500+365)<h.environment.day&&h.townInfo.population_count>0?h.townInfo.population_count>0&&(h.townInfo.population_count-=1,h.townInfo.employees-=1,h.modifiers.happiness-=.01,h=st(pt.bored,h,ze.BAD)):h.townLog=h.townLog.filter(B=>!B.message.includes(pt.bored))),h}function E(h){if(h.townInfo.population_count<h.townInfo.population_max&&h.townInfo.happiness>50){let B=h.townInfo.population_max-h.townInfo.population_count,x=Math.round(h.townInfo.happiness/100*B);h.townInfo.population_count+=x,h.townInfo.population_count>h.townInfo.population_max&&(h.townInfo.population_count=h.townInfo.population_max),h.townInfo.employees+=x,h.townInfo.employees>h.townInfo.population_count&&(h.townInfo.employees=h.townInfo.population_count),h=st(x+pt.new_people_num,h,ze.NORMAL)}if(h.townInfo.happiness<50&&h.townInfo.population_count>0){let B=Math.round((100-h.townInfo.happiness)/5);B=B*(h.townInfo.community/200),h.townInfo.population_count-=B,h.townInfo.employees>0&&(h.townInfo.employees-=B),h=st(B+pt.leave_town_num,h,ze.BAD)}else h.townInfo.population_count==h.townInfo.population_max;return h}function H(h){const B=Math.random();if(h.economyAndLaws.tax_rate>h.economyAndLaws.max_tax_rate&&h.townInfo.population_count>0){let x=1;h.hasBank&&(x=2);const ne=h.difficulty==0?.7:h.difficulty==1?.4:.2;B<ne&&h.economyAndLaws.tax_rate>h.economyAndLaws.max_tax_rate*2*x?(h.modifiers.happiness-=.02,h=st(pt.very_high_tax_rate+"  ("+h.economyAndLaws.tax_rate+"%)",h,ze.BAD)):(h.modifiers.happiness-=.01,h=st(pt.high_tax_rate+"  ("+h.economyAndLaws.tax_rate*100+"%)",h,ze.BAD))}return h}function V(h){if(h.modifiers.happiness>1){let x=h.modifiers.happiness-1;h.modifiers.happiness-=x*.1,h.modifiers.happiness<1.02&&(h.modifiers.happiness=1)}if(h.modifiers.community>1){let x=h.modifiers.community-1;h.modifiers.community-=x*.1,h.modifiers.community<1.02&&(h.modifiers.community=1)}if(h.modifiers.health>1)if(He("healing_house",h).length>0){h=st(pt.hospital_advantage,h,ze.GOOD);let x=h.modifiers.health-1;h.modifiers.health-=x*He("healing_house",h).length?.03:.06,h.modifiers.health<1.02&&(h.modifiers.health=1)}else{let x=h.modifiers.health-1;h.modifiers.health-=x*.1,h.modifiers.health<1.02&&(h.modifiers.health=1)}else He("healing_house",h).length>0&&(h.modifiers.health+=.1);return h}function K(h){h.economyAndLaws.weeklyProfit=0;for(let B=0;B<h.plots.length;B++)for(let x=0;x<h.plots[B].length;x++)if(h.plots[B][x].active==!0&&h.plots[B][x].type>-1)if(h.plots[B][x].disabled===!0){const ne=ie[h.plots[B][x].type],U=Y(ne.revenue_per_week,h,ne.type)*(h.townInfo.productivity/100)/7;h.townInfo.gold-=U,h=st(`🚨 ${ne.title} at ${x}, ${B} is disabled and costing you $${U} a week!`,h,ze.BAD)}else{const ne=ie[h.plots[B][x].type];let U=Y(ne.revenue_per_week,h,ne.type)*(h.townInfo.productivity/100)/7;console.log(`profit 2: ${U}`);let ue=Bn(B,x,h);U*=ue?2:1,h.townInfo.gold+=U,h.economyAndLaws.weeklyProfit+=U*7}return h}function z(h){return He("mine",h).length>0&&(h.modifiers.health-=.01,He("healing_house",h).length==0&&(h=st("The mine is actively hurting the health of the town. Time to look into a healing house.",h,ze.BAD))),h}function te(h){let B=0;for(let x=0;x<h.plots.length;x++)for(let ne=0;ne<h.plots[x].length;ne++)if(h.plots[x][ne].active==!0&&h.plots[x][ne].type>-1){let U=ie[h.plots[x][ne].type];U.knowledge_points_per_month!=null&&(h.townInfo.knowledge_points+=Math.round(U.knowledge_points_per_month/4),B+=U.knowledge_points_per_month)}return h.resource_rate.knowledge=bt(B/4,0),h}function Y(h,B,x){let ne=B.townInfo.happiness/100;ne>2?ne=2:ne<.75&&(ne=.75),ne<1&&B.environment.day%30==0&&B.townLog.filter(ue=>ue.message.includes("When townspeople are unhappy, they spend less money (and you get less).")).length==0?B=st("When townspeople are unhappy, they spend less money (and you get less).",B,ze.BAD):B.townLog=B.townLog.filter(ue=>!ue.message.includes("When townspeople are unhappy, they spend less money (and you get less).")),He("village_inn",B).length>0&&x=="shop"&&(ne*=1.3);let U=Math.round(h*B.economyAndLaws.tax_rate*(B.townInfo.population_count/B.townInfo.population_max)*ne*(B.economyAndLaws.enacted.includes("tax_free")?-1:1));return bt(U,2)}return _r(async()=>{for(;;)localStorage.reset=="true"&&(Bl(),localStorage.setItem("reset","false")),d(),await new Promise(h=>setTimeout(h,o/Rs))}),[d,fl,cl,V,dl]}class fp extends be{constructor(e){super(),ge(this,e,up,null,fe,{mainGameThreadLoop:0,_checkExperiment:1,_fixVariables:2,_bringModifiersBackToNormal:3,_bringStatsBackToNormal:4},null,[-1,-1])}get mainGameThreadLoop(){return this.$$.ctx[0]}get _checkExperiment(){return fl}get _fixVariables(){return cl}get _bringModifiersBackToNormal(){return this.$$.ctx[3]}get _bringStatsBackToNormal(){return dl}}function cp(t){return t[t.length-1]}function yn(t){return Object.keys(t).reduce((e,n)=>t[n]===void 0?e:e+`${n}:${t[n]};`,"")}function jr(t){return t?!0:void 0}yn({position:"absolute",opacity:0,"pointer-events":"none",margin:0,transform:"translateX(-100%)"});function kc(t){if(t!==null)return t}function Ds(t){function e(n){return n(t),()=>{}}return{subscribe:e}}function qr(t){if(!Jo)return null;const e=document.querySelector(`[data-melt-id="${t}"]`);return Tt(e)?e:null}const jo=t=>new Proxy(t,{get(e,n,o){return Reflect.get(e,n,o)},ownKeys(e){return Reflect.ownKeys(e).filter(n=>n!=="action")}}),Ls=t=>typeof t=="function";ht("empty");function ht(t,e){const{stores:n,action:o,returned:i}=e??{},r=(()=>{if(n&&i)return dn(n,a=>{const s=i(a);if(Ls(s)){const u=(...f)=>jo({...s(...f),[`data-melt-${t}`]:"",action:o??et});return u.action=o??et,u}return jo({...s,[`data-melt-${t}`]:"",action:o??et})});{const a=i,s=a==null?void 0:a();if(Ls(s)){const u=(...f)=>jo({...s(...f),[`data-melt-${t}`]:"",action:o??et});return u.action=o??et,Ds(u)}return Ds(jo({...s,[`data-melt-${t}`]:"",action:o??et}))}})(),l=o??(()=>{});return l.subscribe=r.subscribe,l}function Fs(t,e){const{stores:n,returned:o,action:i}=e,{subscribe:r}=dn(n,a=>o(a).map(s=>jo({...s,[`data-melt-${t}`]:"",action:i??et}))),l=i??(()=>{});return l.subscribe=r,l}function yr(t){const e=r=>r?`${t}-${r}`:t,n=r=>`data-melt-${t}${r?`-${r}`:""}`,o=r=>`[data-melt-${t}${r?`-${r}`:""}]`;return{name:e,attribute:n,selector:o,getEl:r=>document.querySelector(o(r))}}const Jo=typeof document<"u",Cc=t=>typeof t=="function";function dp(t){return t instanceof Document}function wr(t){return t instanceof Element}function Tt(t){return t instanceof HTMLElement}function Bs(t){return t.pointerType==="touch"}function mp(t){return t!==null&&typeof t=="object"}function pp(t){return mp(t)&&"subscribe"in t}function Ut(...t){return(...e)=>{for(const n of t)typeof n=="function"&&n(...e)}}function et(){}function vt(t,e,n,o){const i=Array.isArray(e)?e:[e];return i.forEach(r=>t.addEventListener(r,n,o)),()=>{i.forEach(r=>t.removeEventListener(r,n,o))}}function At(t,e,n,o){const i=Array.isArray(e)?e:[e];if(typeof n=="function"){const r=_p(l=>n(l));return i.forEach(l=>t.addEventListener(l,r,o)),()=>{i.forEach(l=>t.removeEventListener(l,r,o))}}return()=>void 0}function hp(t){const e=t.currentTarget;if(!Tt(e))return null;const n=new CustomEvent(`m-${t.type}`,{detail:{originalEvent:t},cancelable:!0});return e.dispatchEvent(n),n}function _p(t){return e=>{const n=hp(e);if(!(n!=null&&n.defaultPrevented))return t(e)}}function kr(t,...e){const n={};for(const o of Object.keys(t))e.includes(o)||(n[o]=t[o]);return n}function sn(t){return{...t,get:()=>ic(t)}}sn.writable=function(t){const e=We(t);let n=t;return{subscribe:e.subscribe,set(o){e.set(o),n=o},update(o){const i=o(n);e.set(i),n=i},get(){return n}}};sn.derived=function(t,e){const n=new Map,o=()=>{const r=Array.isArray(t)?t.map(l=>l.get()):t.get();return e(r)};return{get:o,subscribe:r=>{const l=[];return(Array.isArray(t)?t:[t]).forEach(s=>{l.push(s.subscribe(()=>{r(o())}))}),r(o()),n.set(r,l),()=>{const s=n.get(r);if(s)for(const u of s)u();n.delete(r)}}}};const Cr=(t,e)=>{const n=sn(t),o=(r,l)=>{n.update(a=>{const s=r(a);let u=s;return e&&(u=e({curr:a,next:s})),l==null||l(u),u})};return{...n,update:o,set:r=>{o(()=>r)}}};function ql(t){return new Promise(e=>setTimeout(e,t))}let gp="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",bp=(t=21)=>{let e="",n=t;for(;n--;)e+=gp[Math.random()*64|0];return e};function vp(){return bp(10)}function Gl(t){return t.reduce((e,n)=>(e[n]=vp(),e),{})}const at={ALT:"Alt",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",CAPS_LOCK:"CapsLock",CONTROL:"Control",DELETE:"Delete",END:"End",ENTER:"Enter",ESCAPE:"Escape",F1:"F1",F10:"F10",F11:"F11",F12:"F12",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",HOME:"Home",META:"Meta",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp",SHIFT:"Shift",SPACE:" ",TAB:"Tab",CTRL:"Control",ASTERISK:"*",A:"a",P:"p"},Ac=()=>typeof window<"u";function yp(){const t=navigator.userAgentData;return(t==null?void 0:t.platform)??navigator.platform}const Sc=t=>Ac()&&t.test(yp().toLowerCase()),wp=()=>Ac()&&!!navigator.maxTouchPoints,kp=()=>Sc(/^mac/)&&!wp(),Cp=()=>Sc(/mac|iphone|ipad|ipod/i),Ap=()=>Cp()&&!kp();function Sp(t){const e=t.slice();return e.sort(Mp),Tp(e)}function Tp(t){if(t.length<=1)return t.slice();const e=[];for(let o=0;o<t.length;o++){const i=t[o];for(;e.length>=2;){const r=e[e.length-1],l=e[e.length-2];if((r.x-l.x)*(i.y-l.y)>=(r.y-l.y)*(i.x-l.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let o=t.length-1;o>=0;o--){const i=t[o];for(;n.length>=2;){const r=n[n.length-1],l=n[n.length-2];if((r.x-l.x)*(i.y-l.y)>=(r.y-l.y)*(i.x-l.x))n.pop();else break}n.push(i)}return n.pop(),e.length==1&&n.length==1&&e[0].x==n[0].x&&e[0].y==n[0].y?e:e.concat(n)}function Mp(t,e){return t.x<e.x?-1:t.x>e.x?1:t.y<e.y?-1:t.y>e.y?1:0}function Ip(t){const e=t.getBoundingClientRect();return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.right,y:e.bottom},{x:e.left,y:e.bottom}]}function Op(t){const e=t.flatMap(n=>Ip(n));return Sp(e)}function Pp(t,e){let n=!1;for(let o=0,i=e.length-1;o<e.length;i=o++){const r=e[o].x,l=e[o].y,a=e[i].x,s=e[i].y;l>t.y!=s>t.y&&t.x<(a-r)*(t.y-l)/(s-l)+r&&(n=!n)}return n}const Gr="data-melt-scroll-lock";function js(t,e){if(!t)return;const n=t.style.cssText;return Object.assign(t.style,e),()=>{t.style.cssText=n}}function Np(t,e,n){if(!t)return;const o=t.style.getPropertyValue(e);return t.style.setProperty(e,n),()=>{o?t.style.setProperty(e,o):t.style.removeProperty(e)}}function Ep(t){const e=t.getBoundingClientRect().left;return Math.round(e)+t.scrollLeft?"paddingLeft":"paddingRight"}function $p(t){const e=document,n=e.defaultView??window,{documentElement:o,body:i}=e;if(i.hasAttribute(Gr))return et;i.setAttribute(Gr,"");const l=n.innerWidth-o.clientWidth,a=()=>Np(o,"--scrollbar-width",`${l}px`),s=Ep(o),u=n.getComputedStyle(i)[s],f=()=>js(i,{overflow:"hidden",[s]:`calc(${u} + ${l}px)`}),c=()=>{const{scrollX:m,scrollY:p,visualViewport:_}=n,v=(_==null?void 0:_.offsetLeft)??0,w=(_==null?void 0:_.offsetTop)??0,k=js(i,{position:"fixed",overflow:"hidden",top:`${-(p-Math.floor(w))}px`,left:`${-(m-Math.floor(v))}px`,right:"0",[s]:`calc(${u} + ${l}px)`});return()=>{k==null||k(),n.scrollTo(m,p)}},d=[a(),Ap()?c():f()];return()=>{d.forEach(m=>m==null?void 0:m()),i.removeAttribute(Gr)}}const Rp=t=>{try{om(t)}catch{return t}};function Rt(t,e){let n;const o=dn(t,r=>{n==null||n(),n=e(r)}).subscribe(et),i=()=>{o(),n==null||n()};return Rp(i),i}function jn(t){const e={};return Object.keys(t).forEach(n=>{const o=n,i=t[o];e[o]=sn(We(i))}),e}function Dp(t){let e=t.parentElement;for(;Tt(e)&&!e.hasAttribute("data-portal");)e=e.parentElement;return e||"body"}function Tc(t,e){return e!==void 0?e:Dp(t)==="body"?document.body:null}async function qs(t){const{prop:e,defaultEl:n}=t;if(await Promise.all([ql(1),Rl]),e===void 0){n==null||n.focus();return}const o=Cc(e)?e(n):e;if(typeof o=="string"){const i=document.querySelector(o);if(!Tt(i))return;i.focus()}else Tt(o)&&o.focus()}function Vr(t,e,n,o){const i=(t-(isNaN(e)?0:e))%o;let r=Math.abs(i)*2>=o?t+Math.sign(i)*(o-Math.abs(i)):t-i;isNaN(e)?!isNaN(n)&&r>n&&(r=Math.floor(n/o)*o):r<e?r=e:!isNaN(n)&&r>n&&(r=e+Math.floor((n-e)/o)*o);const l=o.toString(),a=l.indexOf("."),s=a>=0?l.length-a:0;if(s>0){const u=Math.pow(10,s);r=Math.round(r*u)/u}return r}Dn(void 0,t=>{function e(o){t(o),t(void 0)}return vt(document,"pointerup",e,{passive:!1,capture:!0})});const Lp=Dn(void 0,t=>{function e(o){o&&o.key===at.ESCAPE&&t(o),t(void 0)}return vt(document,"keydown",e,{passive:!1})}),Gs=(t,e={})=>{let n=et;function o(i={}){n();const r={enabled:!0,...i},l=pp(r.enabled)?r.enabled:Dn(r.enabled);n=Ut(Lp.subscribe(a=>{var u;if(!a||!ic(l))return;const s=a.target;if(!(!Tt(s)||s.closest("[data-escapee]")!==t)){if(a.preventDefault(),r.ignore){if(Cc(r.ignore)){if(r.ignore(a))return}else if(Array.isArray(r.ignore)&&r.ignore.length>0&&r.ignore.some(f=>f&&s===f))return}(u=r.handler)==null||u.call(r,a)}}),Rt(l,a=>{a?t.dataset.escapee="":delete t.dataset.escapee}))}return o(e),{update:o,destroy(){t.removeAttribute("data-escapee"),n()}}},kn=Math.min,Ot=Math.max,xi=Math.round,wi=Math.floor,Cn=t=>({x:t,y:t}),Fp={left:"right",right:"left",bottom:"top",top:"bottom"},Bp={start:"end",end:"start"};function ml(t,e,n){return Ot(t,kn(e,n))}function Ao(t,e){return typeof t=="function"?t(e):t}function An(t){return t.split("-")[0]}function So(t){return t.split("-")[1]}function Mc(t){return t==="x"?"y":"x"}function Vl(t){return t==="y"?"height":"width"}function ni(t){return["top","bottom"].includes(An(t))?"y":"x"}function Hl(t){return Mc(ni(t))}function jp(t,e,n){n===void 0&&(n=!1);const o=So(t),i=Hl(t),r=Vl(i);let l=i==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return e.reference[r]>e.floating[r]&&(l=Zi(l)),[l,Zi(l)]}function qp(t){const e=Zi(t);return[pl(t),e,pl(e)]}function pl(t){return t.replace(/start|end/g,e=>Bp[e])}function Gp(t,e,n){const o=["left","right"],i=["right","left"],r=["top","bottom"],l=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:o:e?o:i;case"left":case"right":return e?r:l;default:return[]}}function Vp(t,e,n,o){const i=So(t);let r=Gp(An(t),n==="start",o);return i&&(r=r.map(l=>l+"-"+i),e&&(r=r.concat(r.map(pl)))),r}function Zi(t){return t.replace(/left|right|bottom|top/g,e=>Fp[e])}function Hp(t){return{top:0,right:0,bottom:0,left:0,...t}}function Ic(t){return typeof t!="number"?Hp(t):{top:t,right:t,bottom:t,left:t}}function Qi(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function Vs(t,e,n){let{reference:o,floating:i}=t;const r=ni(e),l=Hl(e),a=Vl(l),s=An(e),u=r==="y",f=o.x+o.width/2-i.width/2,c=o.y+o.height/2-i.height/2,d=o[a]/2-i[a]/2;let m;switch(s){case"top":m={x:f,y:o.y-i.height};break;case"bottom":m={x:f,y:o.y+o.height};break;case"right":m={x:o.x+o.width,y:c};break;case"left":m={x:o.x-i.width,y:c};break;default:m={x:o.x,y:o.y}}switch(So(e)){case"start":m[l]-=d*(n&&u?-1:1);break;case"end":m[l]+=d*(n&&u?-1:1);break}return m}const Wp=async(t,e,n)=>{const{placement:o="bottom",strategy:i="absolute",middleware:r=[],platform:l}=n,a=r.filter(Boolean),s=await(l.isRTL==null?void 0:l.isRTL(e));let u=await l.getElementRects({reference:t,floating:e,strategy:i}),{x:f,y:c}=Vs(u,o,s),d=o,m={},p=0;for(let _=0;_<a.length;_++){const{name:v,fn:w}=a[_],{x:k,y:C,data:D,reset:L}=await w({x:f,y:c,initialPlacement:o,placement:d,strategy:i,middlewareData:m,rects:u,platform:l,elements:{reference:t,floating:e}});f=k??f,c=C??c,m={...m,[v]:{...m[v],...D}},L&&p<=50&&(p++,typeof L=="object"&&(L.placement&&(d=L.placement),L.rects&&(u=L.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:i}):L.rects),{x:f,y:c}=Vs(u,d,s)),_=-1)}return{x:f,y:c,placement:d,strategy:i,middlewareData:m}};async function Wl(t,e){var n;e===void 0&&(e={});const{x:o,y:i,platform:r,rects:l,elements:a,strategy:s}=t,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:c="floating",altBoundary:d=!1,padding:m=0}=Ao(e,t),p=Ic(m),v=a[d?c==="floating"?"reference":"floating":c],w=Qi(await r.getClippingRect({element:(n=await(r.isElement==null?void 0:r.isElement(v)))==null||n?v:v.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(a.floating)),boundary:u,rootBoundary:f,strategy:s})),k=c==="floating"?{...l.floating,x:o,y:i}:l.reference,C=await(r.getOffsetParent==null?void 0:r.getOffsetParent(a.floating)),D=await(r.isElement==null?void 0:r.isElement(C))?await(r.getScale==null?void 0:r.getScale(C))||{x:1,y:1}:{x:1,y:1},L=Qi(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:k,offsetParent:C,strategy:s}):k);return{top:(w.top-L.top+p.top)/D.y,bottom:(L.bottom-w.bottom+p.bottom)/D.y,left:(w.left-L.left+p.left)/D.x,right:(L.right-w.right+p.right)/D.x}}const Yp=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:o,placement:i,rects:r,platform:l,elements:a,middlewareData:s}=e,{element:u,padding:f=0}=Ao(t,e)||{};if(u==null)return{};const c=Ic(f),d={x:n,y:o},m=Hl(i),p=Vl(m),_=await l.getDimensions(u),v=m==="y",w=v?"top":"left",k=v?"bottom":"right",C=v?"clientHeight":"clientWidth",D=r.reference[p]+r.reference[m]-d[m]-r.floating[p],L=d[m]-r.reference[m],P=await(l.getOffsetParent==null?void 0:l.getOffsetParent(u));let $=P?P[C]:0;(!$||!await(l.isElement==null?void 0:l.isElement(P)))&&($=a.floating[C]||r.floating[p]);const G=D/2-L/2,R=$/2-_[p]/2-1,W=kn(c[w],R),y=kn(c[k],R),b=W,O=$-_[p]-y,E=$/2-_[p]/2+G,H=ml(b,E,O),V=!s.arrow&&So(i)!=null&&E!==H&&r.reference[p]/2-(E<b?W:y)-_[p]/2<0,K=V?E<b?E-b:E-O:0;return{[m]:d[m]+K,data:{[m]:H,centerOffset:E-H-K,...V&&{alignmentOffset:K}},reset:V}}}),Up=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,o;const{placement:i,middlewareData:r,rects:l,initialPlacement:a,platform:s,elements:u}=e,{mainAxis:f=!0,crossAxis:c=!0,fallbackPlacements:d,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:_=!0,...v}=Ao(t,e);if((n=r.arrow)!=null&&n.alignmentOffset)return{};const w=An(i),k=An(a)===a,C=await(s.isRTL==null?void 0:s.isRTL(u.floating)),D=d||(k||!_?[Zi(a)]:qp(a));!d&&p!=="none"&&D.push(...Vp(a,_,p,C));const L=[a,...D],P=await Wl(e,v),$=[];let G=((o=r.flip)==null?void 0:o.overflows)||[];if(f&&$.push(P[w]),c){const b=jp(i,l,C);$.push(P[b[0]],P[b[1]])}if(G=[...G,{placement:i,overflows:$}],!$.every(b=>b<=0)){var R,W;const b=(((R=r.flip)==null?void 0:R.index)||0)+1,O=L[b];if(O)return{data:{index:b,overflows:G},reset:{placement:O}};let E=(W=G.filter(H=>H.overflows[0]<=0).sort((H,V)=>H.overflows[1]-V.overflows[1])[0])==null?void 0:W.placement;if(!E)switch(m){case"bestFit":{var y;const H=(y=G.map(V=>[V.placement,V.overflows.filter(K=>K>0).reduce((K,z)=>K+z,0)]).sort((V,K)=>V[1]-K[1])[0])==null?void 0:y[0];H&&(E=H);break}case"initialPlacement":E=a;break}if(i!==E)return{reset:{placement:E}}}return{}}}};async function Kp(t,e){const{placement:n,platform:o,elements:i}=t,r=await(o.isRTL==null?void 0:o.isRTL(i.floating)),l=An(n),a=So(n),s=ni(n)==="y",u=["left","top"].includes(l)?-1:1,f=r&&s?-1:1,c=Ao(e,t);let{mainAxis:d,crossAxis:m,alignmentAxis:p}=typeof c=="number"?{mainAxis:c,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...c};return a&&typeof p=="number"&&(m=a==="end"?p*-1:p),s?{x:m*f,y:d*u}:{x:d*u,y:m*f}}const Xp=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,o;const{x:i,y:r,placement:l,middlewareData:a}=e,s=await Kp(e,t);return l===((n=a.offset)==null?void 0:n.placement)&&(o=a.arrow)!=null&&o.alignmentOffset?{}:{x:i+s.x,y:r+s.y,data:{...s,placement:l}}}}},Jp=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:o,placement:i}=e,{mainAxis:r=!0,crossAxis:l=!1,limiter:a={fn:v=>{let{x:w,y:k}=v;return{x:w,y:k}}},...s}=Ao(t,e),u={x:n,y:o},f=await Wl(e,s),c=ni(An(i)),d=Mc(c);let m=u[d],p=u[c];if(r){const v=d==="y"?"top":"left",w=d==="y"?"bottom":"right",k=m+f[v],C=m-f[w];m=ml(k,m,C)}if(l){const v=c==="y"?"top":"left",w=c==="y"?"bottom":"right",k=p+f[v],C=p-f[w];p=ml(k,p,C)}const _=a.fn({...e,[d]:m,[c]:p});return{..._,data:{x:_.x-n,y:_.y-o}}}}},xp=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){const{placement:n,rects:o,platform:i,elements:r}=e,{apply:l=()=>{},...a}=Ao(t,e),s=await Wl(e,a),u=An(n),f=So(n),c=ni(n)==="y",{width:d,height:m}=o.floating;let p,_;u==="top"||u==="bottom"?(p=u,_=f===(await(i.isRTL==null?void 0:i.isRTL(r.floating))?"start":"end")?"left":"right"):(_=u,p=f==="end"?"top":"bottom");const v=m-s[p],w=d-s[_],k=!e.middlewareData.shift;let C=v,D=w;if(c){const P=d-s.left-s.right;D=f||k?kn(w,P):P}else{const P=m-s.top-s.bottom;C=f||k?kn(v,P):P}if(k&&!f){const P=Ot(s.left,0),$=Ot(s.right,0),G=Ot(s.top,0),R=Ot(s.bottom,0);c?D=d-2*(P!==0||$!==0?P+$:Ot(s.left,s.right)):C=m-2*(G!==0||R!==0?G+R:Ot(s.top,s.bottom))}await l({...e,availableWidth:D,availableHeight:C});const L=await i.getDimensions(r.floating);return d!==L.width||m!==L.height?{reset:{rects:!0}}:{}}}};function Sn(t){return Oc(t)?(t.nodeName||"").toLowerCase():"#document"}function Nt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function mn(t){var e;return(e=(Oc(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Oc(t){return t instanceof Node||t instanceof Nt(t).Node}function un(t){return t instanceof Element||t instanceof Nt(t).Element}function xt(t){return t instanceof HTMLElement||t instanceof Nt(t).HTMLElement}function Hs(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Nt(t).ShadowRoot}function oi(t){const{overflow:e,overflowX:n,overflowY:o,display:i}=Lt(t);return/auto|scroll|overlay|hidden|clip/.test(e+o+n)&&!["inline","contents"].includes(i)}function Zp(t){return["table","td","th"].includes(Sn(t))}function Yl(t){const e=Ul(),n=Lt(t);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(o=>(n.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(n.contain||"").includes(o))}function Qp(t){let e=bo(t);for(;xt(e)&&!Ar(e);){if(Yl(e))return e;e=bo(e)}return null}function Ul(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ar(t){return["html","body","#document"].includes(Sn(t))}function Lt(t){return Nt(t).getComputedStyle(t)}function Sr(t){return un(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function bo(t){if(Sn(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Hs(t)&&t.host||mn(t);return Hs(e)?e.host:e}function Pc(t){const e=bo(t);return Ar(e)?t.ownerDocument?t.ownerDocument.body:t.body:xt(e)&&oi(e)?e:Pc(e)}function xo(t,e,n){var o;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=Pc(t),r=i===((o=t.ownerDocument)==null?void 0:o.body),l=Nt(i);return r?e.concat(l,l.visualViewport||[],oi(i)?i:[],l.frameElement&&n?xo(l.frameElement):[]):e.concat(i,xo(i,[],n))}function Nc(t){const e=Lt(t);let n=parseFloat(e.width)||0,o=parseFloat(e.height)||0;const i=xt(t),r=i?t.offsetWidth:n,l=i?t.offsetHeight:o,a=xi(n)!==r||xi(o)!==l;return a&&(n=r,o=l),{width:n,height:o,$:a}}function Kl(t){return un(t)?t:t.contextElement}function ho(t){const e=Kl(t);if(!xt(e))return Cn(1);const n=e.getBoundingClientRect(),{width:o,height:i,$:r}=Nc(e);let l=(r?xi(n.width):n.width)/o,a=(r?xi(n.height):n.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!a||!Number.isFinite(a))&&(a=1),{x:l,y:a}}const zp=Cn(0);function Ec(t){const e=Nt(t);return!Ul()||!e.visualViewport?zp:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function eh(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Nt(t)?!1:e}function qn(t,e,n,o){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),r=Kl(t);let l=Cn(1);e&&(o?un(o)&&(l=ho(o)):l=ho(t));const a=eh(r,n,o)?Ec(r):Cn(0);let s=(i.left+a.x)/l.x,u=(i.top+a.y)/l.y,f=i.width/l.x,c=i.height/l.y;if(r){const d=Nt(r),m=o&&un(o)?Nt(o):o;let p=d,_=p.frameElement;for(;_&&o&&m!==p;){const v=ho(_),w=_.getBoundingClientRect(),k=Lt(_),C=w.left+(_.clientLeft+parseFloat(k.paddingLeft))*v.x,D=w.top+(_.clientTop+parseFloat(k.paddingTop))*v.y;s*=v.x,u*=v.y,f*=v.x,c*=v.y,s+=C,u+=D,p=Nt(_),_=p.frameElement}}return Qi({width:f,height:c,x:s,y:u})}const th=[":popover-open",":modal"];function $c(t){return th.some(e=>{try{return t.matches(e)}catch{return!1}})}function nh(t){let{elements:e,rect:n,offsetParent:o,strategy:i}=t;const r=i==="fixed",l=mn(o),a=e?$c(e.floating):!1;if(o===l||a&&r)return n;let s={scrollLeft:0,scrollTop:0},u=Cn(1);const f=Cn(0),c=xt(o);if((c||!c&&!r)&&((Sn(o)!=="body"||oi(l))&&(s=Sr(o)),xt(o))){const d=qn(o);u=ho(o),f.x=d.x+o.clientLeft,f.y=d.y+o.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-s.scrollLeft*u.x+f.x,y:n.y*u.y-s.scrollTop*u.y+f.y}}function oh(t){return Array.from(t.getClientRects())}function Rc(t){return qn(mn(t)).left+Sr(t).scrollLeft}function ih(t){const e=mn(t),n=Sr(t),o=t.ownerDocument.body,i=Ot(e.scrollWidth,e.clientWidth,o.scrollWidth,o.clientWidth),r=Ot(e.scrollHeight,e.clientHeight,o.scrollHeight,o.clientHeight);let l=-n.scrollLeft+Rc(t);const a=-n.scrollTop;return Lt(o).direction==="rtl"&&(l+=Ot(e.clientWidth,o.clientWidth)-i),{width:i,height:r,x:l,y:a}}function rh(t,e){const n=Nt(t),o=mn(t),i=n.visualViewport;let r=o.clientWidth,l=o.clientHeight,a=0,s=0;if(i){r=i.width,l=i.height;const u=Ul();(!u||u&&e==="fixed")&&(a=i.offsetLeft,s=i.offsetTop)}return{width:r,height:l,x:a,y:s}}function lh(t,e){const n=qn(t,!0,e==="fixed"),o=n.top+t.clientTop,i=n.left+t.clientLeft,r=xt(t)?ho(t):Cn(1),l=t.clientWidth*r.x,a=t.clientHeight*r.y,s=i*r.x,u=o*r.y;return{width:l,height:a,x:s,y:u}}function Ws(t,e,n){let o;if(e==="viewport")o=rh(t,n);else if(e==="document")o=ih(mn(t));else if(un(e))o=lh(e,n);else{const i=Ec(t);o={...e,x:e.x-i.x,y:e.y-i.y}}return Qi(o)}function Dc(t,e){const n=bo(t);return n===e||!un(n)||Ar(n)?!1:Lt(n).position==="fixed"||Dc(n,e)}function sh(t,e){const n=e.get(t);if(n)return n;let o=xo(t,[],!1).filter(a=>un(a)&&Sn(a)!=="body"),i=null;const r=Lt(t).position==="fixed";let l=r?bo(t):t;for(;un(l)&&!Ar(l);){const a=Lt(l),s=Yl(l);!s&&a.position==="fixed"&&(i=null),(r?!s&&!i:!s&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||oi(l)&&!s&&Dc(t,l))?o=o.filter(f=>f!==l):i=a,l=bo(l)}return e.set(t,o),o}function ah(t){let{element:e,boundary:n,rootBoundary:o,strategy:i}=t;const l=[...n==="clippingAncestors"?sh(e,this._c):[].concat(n),o],a=l[0],s=l.reduce((u,f)=>{const c=Ws(e,f,i);return u.top=Ot(c.top,u.top),u.right=kn(c.right,u.right),u.bottom=kn(c.bottom,u.bottom),u.left=Ot(c.left,u.left),u},Ws(e,a,i));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}}function uh(t){const{width:e,height:n}=Nc(t);return{width:e,height:n}}function fh(t,e,n){const o=xt(e),i=mn(e),r=n==="fixed",l=qn(t,!0,r,e);let a={scrollLeft:0,scrollTop:0};const s=Cn(0);if(o||!o&&!r)if((Sn(e)!=="body"||oi(i))&&(a=Sr(e)),o){const c=qn(e,!0,r,e);s.x=c.x+e.clientLeft,s.y=c.y+e.clientTop}else i&&(s.x=Rc(i));const u=l.left+a.scrollLeft-s.x,f=l.top+a.scrollTop-s.y;return{x:u,y:f,width:l.width,height:l.height}}function Ys(t,e){return!xt(t)||Lt(t).position==="fixed"?null:e?e(t):t.offsetParent}function Lc(t,e){const n=Nt(t);if(!xt(t)||$c(t))return n;let o=Ys(t,e);for(;o&&Zp(o)&&Lt(o).position==="static";)o=Ys(o,e);return o&&(Sn(o)==="html"||Sn(o)==="body"&&Lt(o).position==="static"&&!Yl(o))?n:o||Qp(t)||n}const ch=async function(t){const e=this.getOffsetParent||Lc,n=this.getDimensions;return{reference:fh(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,...await n(t.floating)}}};function dh(t){return Lt(t).direction==="rtl"}const mh={convertOffsetParentRelativeRectToViewportRelativeRect:nh,getDocumentElement:mn,getClippingRect:ah,getOffsetParent:Lc,getElementRects:ch,getClientRects:oh,getDimensions:uh,getScale:ho,isElement:un,isRTL:dh};function ph(t,e){let n=null,o;const i=mn(t);function r(){var a;clearTimeout(o),(a=n)==null||a.disconnect(),n=null}function l(a,s){a===void 0&&(a=!1),s===void 0&&(s=1),r();const{left:u,top:f,width:c,height:d}=t.getBoundingClientRect();if(a||e(),!c||!d)return;const m=wi(f),p=wi(i.clientWidth-(u+c)),_=wi(i.clientHeight-(f+d)),v=wi(u),k={rootMargin:-m+"px "+-p+"px "+-_+"px "+-v+"px",threshold:Ot(0,kn(1,s))||1};let C=!0;function D(L){const P=L[0].intersectionRatio;if(P!==s){if(!C)return l();P?l(!1,P):o=setTimeout(()=>{l(!1,1e-7)},100)}C=!1}try{n=new IntersectionObserver(D,{...k,root:i.ownerDocument})}catch{n=new IntersectionObserver(D,k)}n.observe(t)}return l(!0),r}function hh(t,e,n,o){o===void 0&&(o={});const{ancestorScroll:i=!0,ancestorResize:r=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:s=!1}=o,u=Kl(t),f=i||r?[...u?xo(u):[],...xo(e)]:[];f.forEach(w=>{i&&w.addEventListener("scroll",n,{passive:!0}),r&&w.addEventListener("resize",n)});const c=u&&a?ph(u,n):null;let d=-1,m=null;l&&(m=new ResizeObserver(w=>{let[k]=w;k&&k.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var C;(C=m)==null||C.observe(e)})),n()}),u&&!s&&m.observe(u),m.observe(e));let p,_=s?qn(t):null;s&&v();function v(){const w=qn(t);_&&(w.x!==_.x||w.y!==_.y||w.width!==_.width||w.height!==_.height)&&n(),_=w,p=requestAnimationFrame(v)}return n(),()=>{var w;f.forEach(k=>{i&&k.removeEventListener("scroll",n),r&&k.removeEventListener("resize",n)}),c==null||c(),(w=m)==null||w.disconnect(),m=null,s&&cancelAnimationFrame(p)}}const _h=Jp,gh=Up,bh=xp,vh=Yp,yh=(t,e,n)=>{const o=new Map,i={platform:mh,...n},r={...i.platform,_c:o};return Wp(t,e,{...i,platform:r})},wh={strategy:"absolute",placement:"top",gutter:5,flip:!0,sameWidth:!1,overflowPadding:8},kh={bottom:"rotate(45deg)",left:"rotate(135deg)",top:"rotate(225deg)",right:"rotate(315deg)"};function Ch(t,e,n={}){if(!e||!t||n===null)return{destroy:et};const o={...wh,...n},i=e.querySelector("[data-arrow=true]"),r=[];o.flip&&r.push(gh({boundary:o.boundary,padding:o.overflowPadding}));const l=Tt(i)?i.offsetHeight/2:0;if(o.gutter||o.offset){const s=o.gutter?{mainAxis:o.gutter}:o.offset;(s==null?void 0:s.mainAxis)!=null&&(s.mainAxis+=l),r.push(Xp(s))}r.push(_h({boundary:o.boundary,crossAxis:o.overlap,padding:o.overflowPadding})),i&&r.push(vh({element:i,padding:8})),r.push(bh({padding:o.overflowPadding,apply({rects:s,availableHeight:u,availableWidth:f}){o.sameWidth&&Object.assign(e.style,{width:`${Math.round(s.reference.width)}px`,minWidth:"unset"}),o.fitViewport&&Object.assign(e.style,{maxWidth:`${f}px`,maxHeight:`${u}px`})}}));function a(){if(!t||!e)return;const{placement:s,strategy:u}=o;yh(t,e,{placement:s,middleware:r,strategy:u}).then(f=>{const c=Math.round(f.x),d=Math.round(f.y);if(Object.assign(e.style,{position:o.strategy,top:`${d}px`,left:`${c}px`}),Tt(i)&&f.middlewareData.arrow){const{x:m,y:p}=f.middlewareData.arrow,_=f.placement.split("-")[0];Object.assign(i.style,{position:"absolute",left:m!=null?`${m}px`:"",top:p!=null?`${p}px`:"",[_]:`calc(100% - ${l}px)`,transform:kh[_],backgroundColor:"inherit",zIndex:"inherit"})}return f})}return Object.assign(e.style,{position:o.strategy}),{destroy:hh(t,e,a)}}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Fc=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],zi=Fc.join(","),Bc=typeof Element>"u",Gn=Bc?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,er=!Bc&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},tr=function t(e,n){var o;n===void 0&&(n=!0);var i=e==null||(o=e.getAttribute)===null||o===void 0?void 0:o.call(e,"inert"),r=i===""||i==="true",l=r||n&&e&&t(e.parentNode);return l},Ah=function(e){var n,o=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"contenteditable");return o===""||o==="true"},jc=function(e,n,o){if(tr(e))return[];var i=Array.prototype.slice.apply(e.querySelectorAll(zi));return n&&Gn.call(e,zi)&&i.unshift(e),i=i.filter(o),i},qc=function t(e,n,o){for(var i=[],r=Array.from(e);r.length;){var l=r.shift();if(!tr(l,!1))if(l.tagName==="SLOT"){var a=l.assignedElements(),s=a.length?a:l.children,u=t(s,!0,o);o.flatten?i.push.apply(i,u):i.push({scopeParent:l,candidates:u})}else{var f=Gn.call(l,zi);f&&o.filter(l)&&(n||!e.includes(l))&&i.push(l);var c=l.shadowRoot||typeof o.getShadowRoot=="function"&&o.getShadowRoot(l),d=!tr(c,!1)&&(!o.shadowRootFilter||o.shadowRootFilter(l));if(c&&d){var m=t(c===!0?l.children:c.children,!0,o);o.flatten?i.push.apply(i,m):i.push({scopeParent:l,candidates:m})}else r.unshift.apply(r,l.children)}}return i},Gc=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},Nn=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||Ah(e))&&!Gc(e)?0:e.tabIndex},Sh=function(e,n){var o=Nn(e);return o<0&&n&&!Gc(e)?0:o},Th=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},Vc=function(e){return e.tagName==="INPUT"},Mh=function(e){return Vc(e)&&e.type==="hidden"},Ih=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(o){return o.tagName==="SUMMARY"});return n},Oh=function(e,n){for(var o=0;o<e.length;o++)if(e[o].checked&&e[o].form===n)return e[o]},Ph=function(e){if(!e.name)return!0;var n=e.form||er(e),o=function(a){return n.querySelectorAll('input[type="radio"][name="'+a+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=o(window.CSS.escape(e.name));else try{i=o(e.name)}catch(l){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",l.message),!1}var r=Oh(i,e.form);return!r||r===e},Nh=function(e){return Vc(e)&&e.type==="radio"},Eh=function(e){return Nh(e)&&!Ph(e)},$h=function(e){var n,o=e&&er(e),i=(n=o)===null||n===void 0?void 0:n.host,r=!1;if(o&&o!==e){var l,a,s;for(r=!!((l=i)!==null&&l!==void 0&&(a=l.ownerDocument)!==null&&a!==void 0&&a.contains(i)||e!=null&&(s=e.ownerDocument)!==null&&s!==void 0&&s.contains(e));!r&&i;){var u,f,c;o=er(i),i=(u=o)===null||u===void 0?void 0:u.host,r=!!((f=i)!==null&&f!==void 0&&(c=f.ownerDocument)!==null&&c!==void 0&&c.contains(i))}}return r},Us=function(e){var n=e.getBoundingClientRect(),o=n.width,i=n.height;return o===0&&i===0},Rh=function(e,n){var o=n.displayCheck,i=n.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var r=Gn.call(e,"details>summary:first-of-type"),l=r?e.parentElement:e;if(Gn.call(l,"details:not([open]) *"))return!0;if(!o||o==="full"||o==="legacy-full"){if(typeof i=="function"){for(var a=e;e;){var s=e.parentElement,u=er(e);if(s&&!s.shadowRoot&&i(s)===!0)return Us(e);e.assignedSlot?e=e.assignedSlot:!s&&u!==e.ownerDocument?e=u.host:e=s}e=a}if($h(e))return!e.getClientRects().length;if(o!=="legacy-full")return!0}else if(o==="non-zero-area")return Us(e);return!1},Dh=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var o=0;o<n.children.length;o++){var i=n.children.item(o);if(i.tagName==="LEGEND")return Gn.call(n,"fieldset[disabled] *")?!0:!i.contains(e)}return!0}n=n.parentElement}return!1},nr=function(e,n){return!(n.disabled||tr(n)||Mh(n)||Rh(n,e)||Ih(n)||Dh(n))},hl=function(e,n){return!(Eh(n)||Nn(n)<0||!nr(e,n))},Lh=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},Fh=function t(e){var n=[],o=[];return e.forEach(function(i,r){var l=!!i.scopeParent,a=l?i.scopeParent:i,s=Sh(a,l),u=l?t(i.candidates):a;s===0?l?n.push.apply(n,u):n.push(a):o.push({documentOrder:r,tabIndex:s,item:i,isScope:l,content:u})}),o.sort(Th).reduce(function(i,r){return r.isScope?i.push.apply(i,r.content):i.push(r.content),i},[]).concat(n)},Bh=function(e,n){n=n||{};var o;return n.getShadowRoot?o=qc([e],n.includeContainer,{filter:hl.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:Lh}):o=jc(e,n.includeContainer,hl.bind(null,n)),Fh(o)},jh=function(e,n){n=n||{};var o;return n.getShadowRoot?o=qc([e],n.includeContainer,{filter:nr.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):o=jc(e,n.includeContainer,nr.bind(null,n)),o},so=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return Gn.call(e,zi)===!1?!1:hl(n,e)},qh=Fc.concat("iframe").join(","),Hr=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return Gn.call(e,qh)===!1?!1:nr(n,e)};/*!
* focus-trap 7.5.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function Ks(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,o)}return n}function Xs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ks(Object(n),!0).forEach(function(o){Gh(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ks(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function Gh(t,e,n){return e=Hh(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vh(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hh(t){var e=Vh(t,"string");return typeof e=="symbol"?e:String(e)}var Js={activateTrap:function(e,n){if(e.length>0){var o=e[e.length-1];o!==n&&o.pause()}var i=e.indexOf(n);i===-1||e.splice(i,1),e.push(n)},deactivateTrap:function(e,n){var o=e.indexOf(n);o!==-1&&e.splice(o,1),e.length>0&&e[e.length-1].unpause()}},Wh=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},Yh=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},Uo=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},Uh=function(e){return Uo(e)&&!e.shiftKey},Kh=function(e){return Uo(e)&&e.shiftKey},xs=function(e){return setTimeout(e,0)},Zs=function(e,n){var o=-1;return e.every(function(i,r){return n(i)?(o=r,!1):!0}),o},Lo=function(e){for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return typeof e=="function"?e.apply(void 0,o):e},ki=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},Xh=[],Jh=function(e,n){var o=(n==null?void 0:n.document)||document,i=(n==null?void 0:n.trapStack)||Xh,r=Xs({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:Uh,isKeyBackward:Kh},n),l={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},a,s=function(b,O,E){return b&&b[O]!==void 0?b[O]:r[E||O]},u=function(b,O){var E=typeof(O==null?void 0:O.composedPath)=="function"?O.composedPath():void 0;return l.containerGroups.findIndex(function(H){var V=H.container,K=H.tabbableNodes;return V.contains(b)||(E==null?void 0:E.includes(V))||K.find(function(z){return z===b})})},f=function(b){var O=r[b];if(typeof O=="function"){for(var E=arguments.length,H=new Array(E>1?E-1:0),V=1;V<E;V++)H[V-1]=arguments[V];O=O.apply(void 0,H)}if(O===!0&&(O=void 0),!O){if(O===void 0||O===!1)return O;throw new Error("`".concat(b,"` was specified but was not a node, or did not return a node"))}var K=O;if(typeof O=="string"&&(K=o.querySelector(O),!K))throw new Error("`".concat(b,"` as selector refers to no known node"));return K},c=function(){var b=f("initialFocus");if(b===!1)return!1;if(b===void 0||!Hr(b,r.tabbableOptions))if(u(o.activeElement)>=0)b=o.activeElement;else{var O=l.tabbableGroups[0],E=O&&O.firstTabbableNode;b=E||f("fallbackFocus")}if(!b)throw new Error("Your focus-trap needs to have at least one focusable element");return b},d=function(){if(l.containerGroups=l.containers.map(function(b){var O=Bh(b,r.tabbableOptions),E=jh(b,r.tabbableOptions),H=O.length>0?O[0]:void 0,V=O.length>0?O[O.length-1]:void 0,K=E.find(function(Y){return so(Y)}),z=E.slice().reverse().find(function(Y){return so(Y)}),te=!!O.find(function(Y){return Nn(Y)>0});return{container:b,tabbableNodes:O,focusableNodes:E,posTabIndexesFound:te,firstTabbableNode:H,lastTabbableNode:V,firstDomTabbableNode:K,lastDomTabbableNode:z,nextTabbableNode:function(h){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,x=O.indexOf(h);return x<0?B?E.slice(E.indexOf(h)+1).find(function(ne){return so(ne)}):E.slice(0,E.indexOf(h)).reverse().find(function(ne){return so(ne)}):O[x+(B?1:-1)]}}}),l.tabbableGroups=l.containerGroups.filter(function(b){return b.tabbableNodes.length>0}),l.tabbableGroups.length<=0&&!f("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(l.containerGroups.find(function(b){return b.posTabIndexesFound})&&l.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},m=function y(b){var O=b.activeElement;if(O)return O.shadowRoot&&O.shadowRoot.activeElement!==null?y(O.shadowRoot):O},p=function y(b){if(b!==!1&&b!==m(document)){if(!b||!b.focus){y(c());return}b.focus({preventScroll:!!r.preventScroll}),l.mostRecentlyFocusedNode=b,Wh(b)&&b.select()}},_=function(b){var O=f("setReturnFocus",b);return O||(O===!1?!1:b)},v=function(b){var O=b.target,E=b.event,H=b.isBackward,V=H===void 0?!1:H;O=O||ki(E),d();var K=null;if(l.tabbableGroups.length>0){var z=u(O,E),te=z>=0?l.containerGroups[z]:void 0;if(z<0)V?K=l.tabbableGroups[l.tabbableGroups.length-1].lastTabbableNode:K=l.tabbableGroups[0].firstTabbableNode;else if(V){var Y=Zs(l.tabbableGroups,function(ue){var we=ue.firstTabbableNode;return O===we});if(Y<0&&(te.container===O||Hr(O,r.tabbableOptions)&&!so(O,r.tabbableOptions)&&!te.nextTabbableNode(O,!1))&&(Y=z),Y>=0){var h=Y===0?l.tabbableGroups.length-1:Y-1,B=l.tabbableGroups[h];K=Nn(O)>=0?B.lastTabbableNode:B.lastDomTabbableNode}else Uo(E)||(K=te.nextTabbableNode(O,!1))}else{var x=Zs(l.tabbableGroups,function(ue){var we=ue.lastTabbableNode;return O===we});if(x<0&&(te.container===O||Hr(O,r.tabbableOptions)&&!so(O,r.tabbableOptions)&&!te.nextTabbableNode(O))&&(x=z),x>=0){var ne=x===l.tabbableGroups.length-1?0:x+1,U=l.tabbableGroups[ne];K=Nn(O)>=0?U.firstTabbableNode:U.firstDomTabbableNode}else Uo(E)||(K=te.nextTabbableNode(O))}}else K=f("fallbackFocus");return K},w=function(b){var O=ki(b);if(!(u(O,b)>=0)){if(Lo(r.clickOutsideDeactivates,b)){a.deactivate({returnFocus:r.returnFocusOnDeactivate});return}Lo(r.allowOutsideClick,b)||b.preventDefault()}},k=function(b){var O=ki(b),E=u(O,b)>=0;if(E||O instanceof Document)E&&(l.mostRecentlyFocusedNode=O);else{b.stopImmediatePropagation();var H,V=!0;if(l.mostRecentlyFocusedNode)if(Nn(l.mostRecentlyFocusedNode)>0){var K=u(l.mostRecentlyFocusedNode),z=l.containerGroups[K].tabbableNodes;if(z.length>0){var te=z.findIndex(function(Y){return Y===l.mostRecentlyFocusedNode});te>=0&&(r.isKeyForward(l.recentNavEvent)?te+1<z.length&&(H=z[te+1],V=!1):te-1>=0&&(H=z[te-1],V=!1))}}else l.containerGroups.some(function(Y){return Y.tabbableNodes.some(function(h){return Nn(h)>0})})||(V=!1);else V=!1;V&&(H=v({target:l.mostRecentlyFocusedNode,isBackward:r.isKeyBackward(l.recentNavEvent)})),p(H||l.mostRecentlyFocusedNode||c())}l.recentNavEvent=void 0},C=function(b){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;l.recentNavEvent=b;var E=v({event:b,isBackward:O});E&&(Uo(b)&&b.preventDefault(),p(E))},D=function(b){if(Yh(b)&&Lo(r.escapeDeactivates,b)!==!1){b.preventDefault(),a.deactivate();return}(r.isKeyForward(b)||r.isKeyBackward(b))&&C(b,r.isKeyBackward(b))},L=function(b){var O=ki(b);u(O,b)>=0||Lo(r.clickOutsideDeactivates,b)||Lo(r.allowOutsideClick,b)||(b.preventDefault(),b.stopImmediatePropagation())},P=function(){if(l.active)return Js.activateTrap(i,a),l.delayInitialFocusTimer=r.delayInitialFocus?xs(function(){p(c())}):p(c()),o.addEventListener("focusin",k,!0),o.addEventListener("mousedown",w,{capture:!0,passive:!1}),o.addEventListener("touchstart",w,{capture:!0,passive:!1}),o.addEventListener("click",L,{capture:!0,passive:!1}),o.addEventListener("keydown",D,{capture:!0,passive:!1}),a},$=function(){if(l.active)return o.removeEventListener("focusin",k,!0),o.removeEventListener("mousedown",w,!0),o.removeEventListener("touchstart",w,!0),o.removeEventListener("click",L,!0),o.removeEventListener("keydown",D,!0),a},G=function(b){var O=b.some(function(E){var H=Array.from(E.removedNodes);return H.some(function(V){return V===l.mostRecentlyFocusedNode})});O&&p(c())},R=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(G):void 0,W=function(){R&&(R.disconnect(),l.active&&!l.paused&&l.containers.map(function(b){R.observe(b,{subtree:!0,childList:!0})}))};return a={get active(){return l.active},get paused(){return l.paused},activate:function(b){if(l.active)return this;var O=s(b,"onActivate"),E=s(b,"onPostActivate"),H=s(b,"checkCanFocusTrap");H||d(),l.active=!0,l.paused=!1,l.nodeFocusedBeforeActivation=o.activeElement,O==null||O();var V=function(){H&&d(),P(),W(),E==null||E()};return H?(H(l.containers.concat()).then(V,V),this):(V(),this)},deactivate:function(b){if(!l.active)return this;var O=Xs({onDeactivate:r.onDeactivate,onPostDeactivate:r.onPostDeactivate,checkCanReturnFocus:r.checkCanReturnFocus},b);clearTimeout(l.delayInitialFocusTimer),l.delayInitialFocusTimer=void 0,$(),l.active=!1,l.paused=!1,W(),Js.deactivateTrap(i,a);var E=s(O,"onDeactivate"),H=s(O,"onPostDeactivate"),V=s(O,"checkCanReturnFocus"),K=s(O,"returnFocus","returnFocusOnDeactivate");E==null||E();var z=function(){xs(function(){K&&p(_(l.nodeFocusedBeforeActivation)),H==null||H()})};return K&&V?(V(_(l.nodeFocusedBeforeActivation)).then(z,z),this):(z(),this)},pause:function(b){if(l.paused||!l.active)return this;var O=s(b,"onPause"),E=s(b,"onPostPause");return l.paused=!0,O==null||O(),$(),W(),E==null||E(),this},unpause:function(b){if(!l.paused||!l.active)return this;var O=s(b,"onUnpause"),E=s(b,"onPostUnpause");return l.paused=!1,O==null||O(),d(),P(),W(),E==null||E(),this},updateContainerElements:function(b){var O=[].concat(b).filter(Boolean);return l.containers=O.map(function(E){return typeof E=="string"?o.querySelector(E):E}),l.active&&d(),W(),this}},a.updateContainerElements(e),a};function xh(t={}){let e;const{immediate:n,...o}=t,i=We(!1),r=We(!1),l=c=>e==null?void 0:e.activate(c),a=c=>{e==null||e.deactivate(c)},s=()=>{e&&(e.pause(),r.set(!0))},u=()=>{e&&(e.unpause(),r.set(!1))};return{useFocusTrap:c=>(e=Jh(c,{...o,onActivate(){var d;i.set(!0),(d=t.onActivate)==null||d.call(t)},onDeactivate(){var d;i.set(!1),(d=t.onDeactivate)==null||d.call(t)}}),n&&l(),{destroy(){a(),e=void 0}}),hasFocus:Ts(i),isPaused:Ts(r),activate:l,deactivate:a,pause:s,unpause:u}}const Ci=[];function Zh(t,e){let n=et;function o(){const r=Ci.indexOf(t);r>=0&&Ci.splice(r,1)}function i(r){n();const{open:l,onClose:a,shouldCloseOnInteractOutside:s,closeOnInteractOutside:u}=r;ql(100).then(()=>{l?Ci.push(t):o()});function f(){return cp(Ci)===t}function c(){f()&&a&&(a(),o())}function d(p){const _=p.target;wr(_)&&_&&f()&&(p.preventDefault(),p.stopPropagation(),p.stopImmediatePropagation())}function m(p){s!=null&&s(p)&&f()&&(p.preventDefault(),p.stopPropagation(),p.stopImmediatePropagation(),c())}n=Qh(t,{onInteractOutsideStart:d,onInteractOutside:u?m:void 0,enabled:l}).destroy}return i(e),{update:i,destroy(){o(),n()}}}const Hc=(t,e="body")=>{let n;if(!Tt(e)&&typeof e!="string")return{destroy:et};async function o(r){if(e=r,typeof e=="string"){if(n=document.querySelector(e),n===null&&(await Rl(),n=document.querySelector(e)),n===null)throw new Error(`No element found matching css selector: "${e}"`)}else if(e instanceof HTMLElement)n=e;else throw new TypeError(`Unknown portal target type: ${e===null?"null":typeof e}. Allowed types: string (CSS selector) or HTMLElement.`);t.dataset.portal="",n.appendChild(t),t.hidden=!1}function i(){t.remove()}return o(e),{update:o,destroy:i}};function Qh(t,e){let n=et,o=!1,i=!1,r=!1;function l(u){n();const{onInteractOutside:f,onInteractOutsideStart:c,enabled:d}=u;if(!d)return;function m(v){f&&Qs(v,t)&&(c==null||c(v));const w=v.target;wr(w)&&Wc(t,w)&&(i=!0),o=!0}function p(v){f==null||f(v)}const _=zh(t);if(typeof PointerEvent<"u"){const v=w=>{a(w)&&p(w),s()};n=Ut(vt(_,"pointerdown",m,!0),vt(_,"pointerup",v,!0))}else{const v=k=>{r?r=!1:a(k)&&p(k),s()},w=k=>{r=!0,a(k)&&p(k),s()};n=Ut(vt(_,"mousedown",m,!0),vt(_,"mouseup",v,!0),vt(_,"touchstart",m,!0),vt(_,"touchend",w,!0))}}function a(u){return!!(o&&!i&&Qs(u,t))}function s(){o=!1,i=!1}return l(e),{update:l,destroy:n}}function Qs(t,e){if("button"in t&&t.button>0)return!1;const n=t.target;if(!wr(n))return!1;const o=n.ownerDocument;return!o||!o.documentElement.contains(n)?!1:e&&!Wc(e,n)}function Wc(t,e){return t===e||t.contains(e)}function zh(t){return(t==null?void 0:t.ownerDocument)??document}Dn(!1),Dn(!1),Dn(void 0);function e_(){return{elements:{root:ht("label",{action:e=>({destroy:At(e,"mousedown",o=>{!o.defaultPrevented&&o.detail>1&&o.preventDefault()})})})}}}const{name:On}=yr("dialog"),t_={preventScroll:!0,closeOnEscape:!0,closeOnOutsideClick:!0,role:"dialog",defaultOpen:!1,portal:void 0,forceVisible:!1,openFocus:void 0,closeFocus:void 0,onOutsideClick:void 0},n_=["content","title","description"];function Yc(t){const e={...t_,...t},n=jn(kr(e,"ids")),{preventScroll:o,closeOnEscape:i,closeOnOutsideClick:r,role:l,portal:a,forceVisible:s,openFocus:u,closeFocus:f,onOutsideClick:c}=n,d=sn.writable(null),m=jn({...Gl(n_),...e.ids}),p=e.open??We(e.defaultOpen),_=Cr(p,e==null?void 0:e.onOpenChange),v=dn([_,s],([y,b])=>y||b);let w=et;function k(y){const b=y.currentTarget,O=y.currentTarget;!Tt(b)||!Tt(O)||(_.set(!0),d.set(O))}function C(){_.set(!1),qs({prop:f.get(),defaultEl:d.get()})}const D=ht(On("trigger"),{stores:[_],returned:([y])=>({"aria-haspopup":"dialog","aria-expanded":y,type:"button"}),action:y=>({destroy:Ut(At(y,"click",O=>{k(O)}),At(y,"keydown",O=>{O.key!==at.ENTER&&O.key!==at.SPACE||(O.preventDefault(),k(O))}))})}),L=ht(On("overlay"),{stores:[v,_],returned:([y,b])=>({hidden:y?void 0:!0,tabindex:-1,style:yn({display:y?void 0:"none"}),"aria-hidden":!0,"data-state":b?"open":"closed"}),action:y=>{let b=et;if(i.get()){const O=Gs(y,{handler:()=>{C()}});O&&O.destroy&&(b=O.destroy)}return{destroy(){b()}}}}),P=ht(On("content"),{stores:[v,m.content,m.description,m.title,_],returned:([y,b,O,E,H])=>({id:b,role:l.get(),"aria-describedby":O,"aria-labelledby":E,"aria-modal":y?"true":void 0,"data-state":H?"open":"closed",tabindex:-1,hidden:y?void 0:!0,style:yn({display:y?void 0:"none"})}),action:y=>{let b=et,O=et;const E=Ut(Rt([_],([H])=>{if(!H)return;const V=xh({immediate:!1,escapeDeactivates:!0,clickOutsideDeactivates:!0,returnFocusOnDeactivate:!1,fallbackFocus:y});b=V.activate,O=V.deactivate;const K=V.useFocusTrap(y);return K&&K.destroy?K.destroy:V.deactivate}),Rt([r,_],([H,V])=>Zh(y,{open:V,closeOnInteractOutside:H,onClose(){C()},shouldCloseOnInteractOutside(K){var z;return(z=c.get())==null||z(K),!K.defaultPrevented}}).destroy),Rt([i],([H])=>{if(!H)return et;const V=Gs(y,{handler:()=>{C()}});return V&&V.destroy?V.destroy:et}),Rt([v],([H])=>{Rl().then(()=>{H?b():O()})}));return{destroy:()=>{w(),E()}}}}),$=ht(On("portalled"),{stores:a,returned:y=>({"data-portal":kc(y)}),action:y=>{const b=Rt([a],([O])=>{if(O===null)return et;const E=Tc(y,O);if(E===null)return et;const H=Hc(y,E);return H&&H.destroy?H.destroy:et});return{destroy(){b()}}}}),G=ht(On("title"),{stores:[m.title],returned:([y])=>({id:y})}),R=ht(On("description"),{stores:[m.description],returned:([y])=>({id:y})}),W=ht(On("close"),{returned:()=>({type:"button"}),action:y=>({destroy:Ut(At(y,"click",()=>{C()}),At(y,"keydown",O=>{O.key!==at.SPACE&&O.key!==at.ENTER||(O.preventDefault(),C())}))})});return Rt([_,o],([y,b])=>{if(Jo){if(b&&y&&(w=$p()),y){const O=document.getElementById(m.content.get());qs({prop:u.get(),defaultEl:O})}return()=>{s.get()||w()}}}),{ids:m,elements:{content:P,trigger:D,title:G,description:R,overlay:L,close:W,portalled:$},states:{open:_},options:n}}const o_={defaultValue:0,max:100},{name:i_}=yr("progress"),r_=t=>{const e={...o_,...t},n=jn(kr(e,"value")),{max:o}=n,i=e.value??We(e.defaultValue),r=Cr(i,e==null?void 0:e.onValueChange);return{elements:{root:ht(i_(),{stores:[r,o],returned:([a,s])=>({value:a,max:s,role:"meter","aria-valuemin":0,"aria-valuemax":s,"aria-valuenow":a,"data-value":a,"data-state":a===null?"indeterminate":a===s?"complete":"loading","data-max":s})})},states:{value:r},options:n}},l_={orientation:"horizontal",decorative:!1},s_=t=>{const e={...l_,...t},n=jn(e),{orientation:o,decorative:i}=n;return{elements:{root:ht("separator",{stores:[o,i],returned:([l,a])=>({role:a?"none":"separator","aria-orientation":l==="vertical"?l:void 0,"aria-hidden":a,"data-orientation":l})})},options:n}},a_={defaultValue:[],min:0,max:100,step:1,orientation:"horizontal",dir:"ltr",disabled:!1},{name:Ai}=yr("slider"),u_=t=>{const e={...a_,...t},n=jn(kr(e,"value","onValueChange","defaultValue")),{min:o,max:i,step:r,orientation:l,dir:a,disabled:s}=n,u=e.value??We(e.defaultValue),f=Cr(u,e==null?void 0:e.onValueChange),c=sn(We(!1)),d=sn(We(0)),m=sn(We(null)),p=Gl(["root"]),_=($,G)=>{f.update(R=>{if(!R)return[$];if(R[G]===$)return R;const W=[...R],y=W[G]>$?-1:1;function b(){W[G]=W[G+y],W[G+y]=$;const V=v();V&&(V[G+y].focus(),m.set({thumb:V[G+y],index:G+y}))}if(y===-1&&$<W[G-1])return b(),W;if(y===1&&$>W[G+1])return b(),W;const O=o.get(),E=i.get(),H=r.get();return W[G]=Vr($,O,E,H),W})},v=()=>{const $=qr(p.root);return $?Array.from($.querySelectorAll('[data-melt-part="thumb"]')).filter(G=>Tt(G)):null},w=dn([o,i],([$,G])=>R=>(R-$)/(G-$)*100),k=sn.derived([l,a],([$,G])=>$==="horizontal"?G==="rtl"?"rl":"lr":G==="rtl"?"tb":"bt"),C=ht(Ai(),{stores:[s,l,a],returned:([$,G,R])=>({dir:R,disabled:jr($),"data-disabled":jr($),"data-orientation":G,style:$?void 0:`touch-action: ${G==="horizontal"?"pan-y":"pan-x"}`,"data-melt-id":p.root})}),D=ht(Ai("range"),{stores:[f,k,w],returned:([$,G,R])=>{const W=$.length>1?R(Math.min(...$)??0):0,y=100-R(Math.max(...$)??0),b={position:"absolute"};switch(G){case"lr":{b.left=`${W}%`,b.right=`${y}%`;break}case"rl":{b.right=`${W}%`,b.left=`${y}%`;break}case"bt":{b.bottom=`${W}%`,b.top=`${y}%`;break}case"tb":{b.top=`${W}%`,b.bottom=`${y}%`;break}}return{style:yn(b)}}}),L=Fs(Ai("thumb"),{stores:[f,w,o,i,s,l,k],returned:([$,G,R,W,y,b,O])=>Array.from({length:$.length||1},(H,V)=>{d.get()<$.length&&d.update(h=>h+1);const z=$[V],te=`${G(z)}%`,Y={position:"absolute"};switch(O){case"lr":{Y.left=te,Y.translate="-50% 0";break}case"rl":{Y.right=te,Y.translate="50% 0";break}case"bt":{Y.bottom=te,Y.translate="0 50%";break}case"tb":{Y.top=te,Y.translate="0 -50%";break}}return{role:"slider","aria-valuemin":R,"aria-valuemax":W,"aria-valuenow":z,"aria-disabled":jr(y),"aria-orientation":b,"data-melt-part":"thumb","data-value":z,style:yn(Y),tabindex:y?-1:0}}),action:$=>({destroy:At($,"keydown",R=>{if(s.get())return;const W=R.currentTarget;if(!Tt(W))return;const y=v();if(!(y!=null&&y.length))return;const b=y.indexOf(W);if(d.set(b),![at.ARROW_LEFT,at.ARROW_RIGHT,at.ARROW_UP,at.ARROW_DOWN,at.HOME,at.END].includes(R.key))return;R.preventDefault();const O=o.get(),E=i.get(),H=r.get(),V=f.get(),K=l.get(),z=k.get(),te=V[b];switch(R.key){case at.HOME:{_(O,b);break}case at.END:{_(E,b);break}case at.ARROW_LEFT:{if(K!=="horizontal")break;R.metaKey?_(z==="rl"?E:O,b):z==="rl"&&te<E?_(te+H,b):z==="lr"&&te>O&&_(te-H,b);break}case at.ARROW_RIGHT:{if(K!=="horizontal")break;R.metaKey?_(z==="rl"?O:E,b):z==="rl"&&te>O?_(te-H,b):z==="lr"&&te<E&&_(te+H,b);break}case at.ARROW_UP:{R.metaKey?_(z==="tb"?O:E,b):z==="tb"&&te>O?_(te-H,b):z!=="tb"&&te<E&&_(te+H,b);break}case at.ARROW_DOWN:{R.metaKey?_(z==="tb"?E:O,b):z==="tb"&&te<E?_(te+H,b):z!=="tb"&&te>O&&_(te-H,b);break}}})})}),P=Fs(Ai("tick"),{stores:[f,o,i,r,k],returned:([$,G,R,W,y])=>{const b=R-G;let O=Math.ceil(b/W);return b%W==0&&O++,Array.from({length:O},(E,H)=>{const V=`${H*(W/(R-G))*100}%`,K=H===0,z=H===O-1,te=K?0:z?-100:-50,Y={position:"absolute"};switch(y){case"lr":{Y.left=V,Y.translate=`${te}% 0`;break}case"rl":{Y.right=V,Y.translate=`${-te}% 0`;break}case"bt":{Y.bottom=V,Y.translate=`0 ${-te}%`;break}case"tb":{Y.top=V,Y.translate=`0 ${te}%`;break}}const h=G+H*W;return{"data-bounded":($.length===1?h<=$[0]:$[0]<=h&&h<=$[$.length-1])?!0:void 0,"data-value":h,style:yn(Y)}})}});return Rt([C,o,i,s,l,k,r],([$,G,R,W,y,b,O])=>{if(!Jo||W)return;const E=(Y,h,B,x)=>{const U=(Y-B)/(x-B)*(R-G)+G;if(U<G)_(G,h);else if(U>R)_(R,h);else{const ue=O,we=G,Ae=Math.floor((U-we)/ue),Ue=we+Ae*ue+ue/2,Ge=we+(Ae+1)*ue+ue/2,xe=U>=Ue&&U<Ge?(Ae+1)*ue+we:Ae*ue+we;xe<=R&&_(xe,h)}},H=Y=>{const h=v();if(!h)return;h.forEach(U=>U.blur());const B=h.map(U=>{if(y==="horizontal"){const{left:ue,right:we}=U.getBoundingClientRect();return Math.abs(Y.clientX-(ue+we)/2)}else{const{top:ue,bottom:we}=U.getBoundingClientRect();return Math.abs(Y.clientY-(ue+we)/2)}}),x=h[B.indexOf(Math.min(...B))],ne=h.indexOf(x);return{thumb:x,index:ne}},V=Y=>{if(!c.get())return;Y.preventDefault(),Y.stopPropagation();const h=qr($["data-melt-id"]),B=m.get();if(!h||!B)return;B.thumb.focus();const{left:x,right:ne,top:U,bottom:ue}=h.getBoundingClientRect();switch(b){case"lr":{E(Y.clientX,B.index,x,ne);break}case"rl":{E(Y.clientX,B.index,ne,x);break}case"bt":{E(Y.clientY,B.index,ue,U);break}case"tb":{E(Y.clientY,B.index,U,ue);break}}},K=Y=>{if(Y.button!==0)return;const h=qr($["data-melt-id"]),B=H(Y);if(!B||!h)return;const x=Y.target;!Tt(x)||!h.contains(x)||(Y.preventDefault(),m.set(B),B.thumb.focus(),c.set(!0),V(Y))},z=()=>{c.set(!1)},te=Ut(vt(document,"pointerdown",K),vt(document,"pointerup",z),vt(document,"pointerleave",z),vt(document,"pointermove",V));return()=>{te()}}),Rt([r,o,i,f],function([G,R,W,y]){const b=E=>Vr(E,R,W,G)===E,O=E=>Vr(E,R,W,G);y.some(E=>!b(E))&&f.update(E=>E.map(O))}),{elements:{root:C,thumbs:L,range:D,ticks:P},states:{value:f},options:n}},f_={positioning:{placement:"bottom"},arrowSize:8,defaultOpen:!1,closeOnPointerDown:!0,openDelay:1e3,closeDelay:0,forceVisible:!1,portal:void 0,closeOnEscape:!0,disableHoverableContent:!1,group:void 0},{name:Wr}=yr("tooltip"),Si=new Map,c_=["trigger","content"];function d_(t){const e={...f_,...t},n=jn(kr(e,"open","ids")),{positioning:o,arrowSize:i,closeOnPointerDown:r,openDelay:l,closeDelay:a,forceVisible:s,portal:u,closeOnEscape:f,disableHoverableContent:c,group:d}=n,m=e.open??We(e.defaultOpen),p=Cr(m,e==null?void 0:e.onOpenChange),_=We(null),v=jn({...Gl(c_),...e.ids});let w=!1;const k=b=>Jo?document.getElementById(v[b].get()):null;let C=null,D=null;function L(b){D&&(window.clearTimeout(D),D=null),C||(C=window.setTimeout(()=>{p.set(!0),_.update(O=>O??b),C=null},l.get()))}function P(b){if(C&&(window.clearTimeout(C),C=null),b&&y){_.set("pointer");return}D||(D=window.setTimeout(()=>{p.set(!1),_.set(null),b&&(w=!1),D=null},a.get()))}const $=dn([p,s],([b,O])=>b||O),G=ht(Wr("trigger"),{stores:[v.content,v.trigger,p],returned:([b,O,E])=>({"aria-describedby":b,id:O,"data-state":E?"open":"closed"}),action:b=>{const O=H=>{f.get()&&H.key===at.ESCAPE&&(C&&(window.clearTimeout(C),C=null),p.set(!1))};return{destroy:Ut(At(b,"pointerdown",()=>{r.get()&&(p.set(!1),w=!0,C&&(window.clearTimeout(C),C=null))}),At(b,"pointerenter",H=>{Bs(H)||L("pointer")}),At(b,"pointerleave",H=>{Bs(H)||C&&(window.clearTimeout(C),C=null)}),At(b,"focus",()=>{w||L("focus")}),At(b,"blur",async()=>{await ql(0),P(!0)}),At(b,"keydown",O),vt(document,"keydown",O))}}}),R=ht(Wr("content"),{stores:[$,p,u,v.content],returned:([b,O,E,H])=>({role:"tooltip",hidden:b?void 0:!0,tabindex:-1,style:yn({display:b?void 0:"none"}),id:H,"data-portal":kc(E),"data-state":O?"open":"closed"}),action:b=>{let O=et,E=et;const H=Rt([$,o,u],([z,te,Y])=>{const h=k("trigger");if(!z||!h){E(),O();return}if(O=Ch(h,b,te).destroy,Y===null){E();return}const x=Tc(b,Y);if(x){const ne=Hc(b,x);ne&&ne.destroy&&(E=ne.destroy)}});function V(z){if(!p.get())return;const te=z.target;if(!wr(te)&&!dp(te))return;const Y=k("trigger");Y&&te.contains(Y)&&P()}const K=Ut(At(b,"pointerenter",()=>L("pointer")),At(b,"pointerdown",()=>L("pointer")),vt(window,"scroll",V,{capture:!0}));return{destroy(){K(),E(),O(),H()}}}}),W=ht(Wr("arrow"),{stores:i,returned:b=>({"data-arrow":!0,style:yn({position:"absolute",width:`var(--arrow-size, ${b}px)`,height:`var(--arrow-size, ${b}px)`})})});let y=!1;return Rt(p,b=>{const O=d.get();if(O===void 0||O===!1)return;if(!b){Si.get(O)===p&&Si.delete(O);return}const E=Si.get(O);E==null||E.set(!1),Si.set(O,p)}),Rt([p,_],([b,O])=>{if(!(!b||!Jo))return Ut(vt(document,"mousemove",E=>{const H=k("content"),V=k("trigger");if(!H||!V)return;const K=c.get()?[V]:[V,H],z=Op(K);y=Pp({x:E.clientX,y:E.clientY},z),O==="pointer"&&(y||P())}))}),{ids:v,elements:{trigger:G,content:R,arrow:W},states:{open:p},options:n}}function Un(t,e){const n={};return e.forEach(o=>{n[o]={[`data-${t}-${o}`]:""}}),o=>n[o]}function Kn(){const t=im();return e=>{const{originalEvent:n}=e.detail,{cancelable:o}=e,i=n.type;t(i,{originalEvent:n,currentTarget:n.currentTarget},{cancelable:o})||e.preventDefault()}}function To(t){const e={};for(const n in t){const o=t[n];o!==void 0&&(e[n]=o)}return e}function Vn(t){return function(e,n){if(n===void 0)return;const o=t[e];o&&o.set(n)}}function Uc(){return{NAME:"alert-dialog",PARTS:["action","cancel","content","description","overlay","portal","title","trigger"]}}function m_(t){const{NAME:e,PARTS:n}=Uc(),o=Un(e,n),i=Yc({...To(t),role:"alertdialog",forceVisible:!0}),r={...i,getAttrs:o,updateOption:Vn(i.options)};return gr(e,r),{...r,updateOption:Vn(r.options),getAttrs:o}}function Xn(){const{NAME:t}=Uc();return br(t)}const p_=t=>({ids:t&1}),zs=t=>({ids:t[0]});function h_(t){let e;const n=t[12].default,o=me(n,t,t[11],zs);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,[r]){o&&o.p&&(!e||r&2049)&&he(o,n,i,i[11],e?pe(n,i[11],r,p_):_e(i[11]),zs)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function __(t,e,n){let o,{$$slots:i={},$$scope:r}=e,{preventScroll:l=void 0}=e,{closeOnEscape:a=void 0}=e,{closeOnOutsideClick:s=!1}=e,{portal:u=void 0}=e,{open:f=void 0}=e,{onOpenChange:c=void 0}=e,{openFocus:d=void 0}=e,{closeFocus:m=void 0}=e,{onOutsideClick:p=void 0}=e;const{states:{open:_},updateOption:v,ids:w}=m_({closeOnEscape:a,preventScroll:l,closeOnOutsideClick:s,portal:u,forceVisible:!0,defaultOpen:f,openFocus:d,closeFocus:m,onOutsideClick:p,onOpenChange:({next:C})=>(f!==C&&(c==null||c(C),n(2,f=C)),C)}),k=dn([w.content,w.description,w.title],([C,D,L])=>({content:C,description:D,title:L}));return ae(t,k,C=>n(0,o=C)),t.$$set=C=>{"preventScroll"in C&&n(3,l=C.preventScroll),"closeOnEscape"in C&&n(4,a=C.closeOnEscape),"closeOnOutsideClick"in C&&n(5,s=C.closeOnOutsideClick),"portal"in C&&n(6,u=C.portal),"open"in C&&n(2,f=C.open),"onOpenChange"in C&&n(7,c=C.onOpenChange),"openFocus"in C&&n(8,d=C.openFocus),"closeFocus"in C&&n(9,m=C.closeFocus),"onOutsideClick"in C&&n(10,p=C.onOutsideClick),"$$scope"in C&&n(11,r=C.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&f!==void 0&&_.set(f),t.$$.dirty&8&&v("preventScroll",l),t.$$.dirty&16&&v("closeOnEscape",a),t.$$.dirty&32&&v("closeOnOutsideClick",s),t.$$.dirty&64&&v("portal",u),t.$$.dirty&256&&v("openFocus",d),t.$$.dirty&512&&v("closeFocus",m),t.$$.dirty&1024&&v("onOutsideClick",p)},[o,k,f,l,a,s,u,c,d,m,p,r,i]}class g_ extends be{constructor(e){super(),ge(this,e,__,h_,fe,{preventScroll:3,closeOnEscape:4,closeOnOutsideClick:5,portal:6,open:2,onOpenChange:7,openFocus:8,closeFocus:9,onOutsideClick:10})}}const b_=t=>({builder:t&8}),ea=t=>({builder:t[3]}),v_=t=>({builder:t&8}),ta=t=>({builder:t[3]});function y_(t){let e=t[1],n,o,i=t[1]&&Yr(t);return{c(){i&&i.c(),n=Re()},m(r,l){i&&i.m(r,l),M(r,n,l),o=!0},p(r,l){r[1]?e?fe(e,r[1])?(i.d(1),i=Yr(r),e=r[1],i.c(),i.m(n.parentNode,n)):i.p(r,l):(i=Yr(r),e=r[1],i.c(),i.m(n.parentNode,n)):e&&(i.d(1),i=null,e=r[1])},i(r){o||(A(i,r),o=!0)},o(r){S(i,r),o=!1},d(r){r&&T(n),i&&i.d(r)}}}function w_(t){let e;const n=t[9].default,o=me(n,t,t[8],ta);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&264)&&he(o,n,i,i[8],e?pe(n,i[8],r,v_):_e(i[8]),ta)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Yr(t){let e,n,o,i;const r=t[9].default,l=me(r,t,t[8],ea);let a=[t[3],t[5]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=I(t[1]),l&&l.c(),wn(t[1])(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[10](e),n=!0,o||(i=je(t[3].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&264)&&he(l,r,u,u[8],n?pe(r,u[8],f,b_):_e(u[8]),ea),wn(u[1])(e,s=ye(a,[f&8&&u[3],f&32&&u[5]]))},i(u){n||(A(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[10](null),o=!1,i()}}}function k_(t){let e,n,o,i;const r=[w_,y_],l=[];function a(s,u){return s[2]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function C_(t,e,n){let o;const i=["level","asChild","id","el"];let r=le(e,i),l,{$$slots:a={},$$scope:s}=e,{level:u="h2"}=e,{asChild:f=!1}=e,{id:c=void 0}=e,{el:d=void 0}=e;const{elements:{title:m},ids:p,getAttrs:_}=Xn();ae(t,m,k=>n(7,l=k));const v=_("title");function w(k){Ne[k?"unshift":"push"](()=>{d=k,n(0,d)})}return t.$$set=k=>{e=Q(Q({},e),$e(k)),n(5,r=le(e,i)),"level"in k&&n(1,u=k.level),"asChild"in k&&n(2,f=k.asChild),"id"in k&&n(6,c=k.id),"el"in k&&n(0,d=k.el),"$$scope"in k&&n(8,s=k.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&c&&p.title.set(c),t.$$.dirty&128&&n(3,o=l),t.$$.dirty&8&&Object.assign(o,v)},[d,u,f,o,m,r,c,l,s,a,w]}let A_=class extends be{constructor(e){super(),ge(this,e,C_,k_,fe,{level:1,asChild:2,id:6,el:0})}};const S_=t=>({builder:t&4}),na=t=>({builder:t[2]}),T_=t=>({builder:t&4}),oa=t=>({builder:t[2]});function M_(t){let e,n,o,i;const r=t[8].default,l=me(r,t,t[7],na);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=I("button"),l&&l.c(),se(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[9](e),n=!0,o||(i=[je(t[2].action(e)),ee(e,"m-click",t[4]),ee(e,"m-keydown",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&he(l,r,u,u[7],n?pe(r,u[7],f,S_):_e(u[7]),na),se(e,s=ye(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(A(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[9](null),o=!1,Be(i)}}}function I_(t){let e;const n=t[8].default,o=me(n,t,t[7],oa);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&he(o,n,i,i[7],e?pe(n,i[7],r,T_):_e(i[7]),oa)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function O_(t){let e,n,o,i;const r=[I_,M_],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function P_(t,e,n){let o;const i=["asChild","el"];let r=le(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:d}=Xn();ae(t,c,v=>n(6,l=v));const m=Kn(),p=d("action");function _(v){Ne[v?"unshift":"push"](()=>{f=v,n(0,f)})}return t.$$set=v=>{e=Q(Q({},e),$e(v)),n(5,r=le(e,i)),"asChild"in v&&n(1,u=v.asChild),"el"in v&&n(0,f=v.el),"$$scope"in v&&n(7,s=v.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,p)},[f,u,o,c,m,r,l,s,a,_]}let N_=class extends be{constructor(e){super(),ge(this,e,P_,O_,fe,{asChild:1,el:0})}};const E_=t=>({builder:t&4}),ia=t=>({builder:t[2]}),$_=t=>({builder:t&4}),ra=t=>({builder:t[2]});function R_(t){let e,n,o,i;const r=t[8].default,l=me(r,t,t[7],ia);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=I("button"),l&&l.c(),se(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[9](e),n=!0,o||(i=[je(t[2].action(e)),ee(e,"m-click",t[4]),ee(e,"m-keydown",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&he(l,r,u,u[7],n?pe(r,u[7],f,E_):_e(u[7]),ia),se(e,s=ye(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(A(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[9](null),o=!1,Be(i)}}}function D_(t){let e;const n=t[8].default,o=me(n,t,t[7],ra);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&he(o,n,i,i[7],e?pe(n,i[7],r,$_):_e(i[7]),ra)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function L_(t){let e,n,o,i;const r=[D_,R_],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function F_(t,e,n){let o;const i=["asChild","el"];let r=le(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:d}=Xn();ae(t,c,v=>n(6,l=v));const m=Kn(),p=d("cancel");function _(v){Ne[v?"unshift":"push"](()=>{f=v,n(0,f)})}return t.$$set=v=>{e=Q(Q({},e),$e(v)),n(5,r=le(e,i)),"asChild"in v&&n(1,u=v.asChild),"el"in v&&n(0,f=v.el),"$$scope"in v&&n(7,s=v.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,p)},[f,u,o,c,m,r,l,s,a,_]}let B_=class extends be{constructor(e){super(),ge(this,e,F_,L_,fe,{asChild:1,el:0})}};const j_=t=>({builder:t&4}),la=t=>({builder:t[2]}),q_=t=>({builder:t&4}),sa=t=>({builder:t[2]});function G_(t){let e,n,o,i;const r=t[7].default,l=me(r,t,t[6],la);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=I("div"),l&&l.c(),se(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[8](e),n=!0,o||(i=je(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&68)&&he(l,r,u,u[6],n?pe(r,u[6],f,j_):_e(u[6]),la),se(e,s=ye(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(A(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[8](null),o=!1,i()}}}function V_(t){let e;const n=t[7].default,o=me(n,t,t[6],sa);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&68)&&he(o,n,i,i[6],e?pe(n,i[6],r,q_):_e(i[6]),sa)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function H_(t){let e,n,o,i;const r=[V_,G_],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function W_(t,e,n){let o;const i=["asChild","el"];let r=le(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{portalled:c},getAttrs:d}=Xn();ae(t,c,_=>n(5,l=_));const m=d("portal");function p(_){Ne[_?"unshift":"push"](()=>{f=_,n(0,f)})}return t.$$set=_=>{e=Q(Q({},e),$e(_)),n(4,r=le(e,i)),"asChild"in _&&n(1,u=_.asChild),"el"in _&&n(0,f=_.el),"$$scope"in _&&n(6,s=_.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,m)},[f,u,o,c,r,l,s,a,p]}let Y_=class extends be{constructor(e){super(),ge(this,e,W_,H_,fe,{asChild:1,el:0})}};const U_=t=>({builder:t[0]&256}),aa=t=>({builder:t[8]}),K_=t=>({builder:t[0]&256}),ua=t=>({builder:t[8]}),X_=t=>({builder:t[0]&256}),fa=t=>({builder:t[8]}),J_=t=>({builder:t[0]&256}),ca=t=>({builder:t[8]}),x_=t=>({builder:t[0]&256}),da=t=>({builder:t[8]}),Z_=t=>({builder:t[0]&256}),ma=t=>({builder:t[8]});function Q_(t){let e,n,o,i;const r=t[16].default,l=me(r,t,t[15],aa);let a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=I("div"),l&&l.c(),se(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[56](e),n=!0,o||(i=[je(t[8].action(e)),ee(e,"pointerdown",t[45]),ee(e,"pointermove",t[46]),ee(e,"pointerup",t[47]),ee(e,"touchend",t[48]),ee(e,"touchstart",t[49]),ee(e,"touchcancel",t[50]),ee(e,"touchmove",t[51])],o=!0)},p(u,f){l&&l.p&&(!n||f[0]&33024)&&he(l,r,u,u[15],n?pe(r,u[15],f,U_):_e(u[15]),aa),se(e,s=ye(a,[f[0]&256&&u[8],f[0]&4096&&u[12]]))},i(u){n||(A(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[56](null),o=!1,Be(i)}}}function z_(t){let e,n,o,i,r;const l=t[16].default,a=me(l,t,t[15],ua);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=I("div"),a&&a.c(),se(e,u)},m(f,c){M(f,e,c),a&&a.m(e,null),t[55](e),o=!0,i||(r=[je(t[8].action(e)),ee(e,"pointerdown",t[38]),ee(e,"pointermove",t[39]),ee(e,"pointerup",t[40]),ee(e,"touchend",t[41]),ee(e,"touchstart",t[42]),ee(e,"touchcancel",t[43]),ee(e,"touchmove",t[44])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&he(a,l,t,t[15],o?pe(l,t[15],c,K_):_e(t[15]),ua),se(e,u=ye(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(A(a,f),n&&n.end(1),o=!0)},o(f){S(a,f),f&&(n=Qt(e,t[5],t[6])),o=!1},d(f){f&&T(e),a&&a.d(f),t[55](null),f&&n&&n.end(),i=!1,Be(r)}}}function e0(t){let e,n,o,i,r;const l=t[16].default,a=me(l,t,t[15],fa);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=I("div"),a&&a.c(),se(e,u)},m(f,c){M(f,e,c),a&&a.m(e,null),t[54](e),o=!0,i||(r=[je(t[8].action(e)),ee(e,"pointerdown",t[31]),ee(e,"pointermove",t[32]),ee(e,"pointerup",t[33]),ee(e,"touchend",t[34]),ee(e,"touchstart",t[35]),ee(e,"touchcancel",t[36]),ee(e,"touchmove",t[37])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&he(a,l,t,t[15],o?pe(l,t[15],c,X_):_e(t[15]),fa),se(e,u=ye(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(A(a,f),f&&(n||it(()=>{n=Zt(e,t[3],t[4]),n.start()})),o=!0)},o(f){S(a,f),o=!1},d(f){f&&T(e),a&&a.d(f),t[54](null),i=!1,Be(r)}}}function t0(t){let e,n,o,i,r,l;const a=t[16].default,s=me(a,t,t[15],ca);let u=[t[8],t[12]],f={};for(let c=0;c<u.length;c+=1)f=Q(f,u[c]);return{c(){e=I("div"),s&&s.c(),se(e,f)},m(c,d){M(c,e,d),s&&s.m(e,null),t[53](e),i=!0,r||(l=[je(t[8].action(e)),ee(e,"pointerdown",t[24]),ee(e,"pointermove",t[25]),ee(e,"pointerup",t[26]),ee(e,"touchend",t[27]),ee(e,"touchstart",t[28]),ee(e,"touchcancel",t[29]),ee(e,"touchmove",t[30])],r=!0)},p(c,d){t=c,s&&s.p&&(!i||d[0]&33024)&&he(s,a,t,t[15],i?pe(a,t[15],d,J_):_e(t[15]),ca),se(e,f=ye(u,[d[0]&256&&t[8],d[0]&4096&&t[12]]))},i(c){i||(A(s,c),c&&it(()=>{i&&(o&&o.end(1),n=Zt(e,t[3],t[4]),n.start())}),i=!0)},o(c){S(s,c),n&&n.invalidate(),c&&(o=Qt(e,t[5],t[6])),i=!1},d(c){c&&T(e),s&&s.d(c),t[53](null),c&&o&&o.end(),r=!1,Be(l)}}}function n0(t){let e,n,o,i,r;const l=t[16].default,a=me(l,t,t[15],da);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=I("div"),a&&a.c(),se(e,u)},m(f,c){M(f,e,c),a&&a.m(e,null),t[52](e),o=!0,i||(r=[je(t[8].action(e)),ee(e,"pointerdown",t[17]),ee(e,"pointermove",t[18]),ee(e,"pointerup",t[19]),ee(e,"touchend",t[20]),ee(e,"touchstart",t[21]),ee(e,"touchcancel",t[22]),ee(e,"touchmove",t[23])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&he(a,l,t,t[15],o?pe(l,t[15],c,x_):_e(t[15]),da),se(e,u=ye(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(A(a,f),f&&it(()=>{o&&(n||(n=Xt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(f){S(a,f),f&&(n||(n=Xt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(f){f&&T(e),a&&a.d(f),t[52](null),f&&n&&n.end(),i=!1,Be(r)}}}function o0(t){let e;const n=t[16].default,o=me(n,t,t[15],ma);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r[0]&33024)&&he(o,n,i,i[15],e?pe(n,i[15],r,Z_):_e(i[15]),ma)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function i0(t){let e,n,o,i;const r=[o0,n0,t0,e0,z_,Q_],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=Re()},m(s,u){~e&&l[e].m(s,u),M(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),~e&&l[e].d(s)}}}function r0(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","id","asChild","el"];let r=le(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:p=void 0}=e,{outTransitionConfig:_=void 0}=e,{id:v=void 0}=e,{asChild:w=!1}=e,{el:k=void 0}=e;const{elements:{content:C},states:{open:D},ids:L,getAttrs:P}=Xn();ae(t,C,j=>n(14,l=j)),ae(t,D,j=>n(9,a=j));const $=P("content");function G(j){oe.call(this,t,j)}function R(j){oe.call(this,t,j)}function W(j){oe.call(this,t,j)}function y(j){oe.call(this,t,j)}function b(j){oe.call(this,t,j)}function O(j){oe.call(this,t,j)}function E(j){oe.call(this,t,j)}function H(j){oe.call(this,t,j)}function V(j){oe.call(this,t,j)}function K(j){oe.call(this,t,j)}function z(j){oe.call(this,t,j)}function te(j){oe.call(this,t,j)}function Y(j){oe.call(this,t,j)}function h(j){oe.call(this,t,j)}function B(j){oe.call(this,t,j)}function x(j){oe.call(this,t,j)}function ne(j){oe.call(this,t,j)}function U(j){oe.call(this,t,j)}function ue(j){oe.call(this,t,j)}function we(j){oe.call(this,t,j)}function Ae(j){oe.call(this,t,j)}function Ue(j){oe.call(this,t,j)}function Ge(j){oe.call(this,t,j)}function xe(j){oe.call(this,t,j)}function de(j){oe.call(this,t,j)}function Ee(j){oe.call(this,t,j)}function De(j){oe.call(this,t,j)}function Ve(j){oe.call(this,t,j)}function Ke(j){oe.call(this,t,j)}function ke(j){oe.call(this,t,j)}function Te(j){oe.call(this,t,j)}function $t(j){oe.call(this,t,j)}function kt(j){oe.call(this,t,j)}function ft(j){oe.call(this,t,j)}function en(j){oe.call(this,t,j)}function Mt(j){Ne[j?"unshift":"push"](()=>{k=j,n(0,k)})}function ct(j){Ne[j?"unshift":"push"](()=>{k=j,n(0,k)})}function Je(j){Ne[j?"unshift":"push"](()=>{k=j,n(0,k)})}function ve(j){Ne[j?"unshift":"push"](()=>{k=j,n(0,k)})}function Xe(j){Ne[j?"unshift":"push"](()=>{k=j,n(0,k)})}return t.$$set=j=>{e=Q(Q({},e),$e(j)),n(12,r=le(e,i)),"transition"in j&&n(1,f=j.transition),"transitionConfig"in j&&n(2,c=j.transitionConfig),"inTransition"in j&&n(3,d=j.inTransition),"inTransitionConfig"in j&&n(4,m=j.inTransitionConfig),"outTransition"in j&&n(5,p=j.outTransition),"outTransitionConfig"in j&&n(6,_=j.outTransitionConfig),"id"in j&&n(13,v=j.id),"asChild"in j&&n(7,w=j.asChild),"el"in j&&n(0,k=j.el),"$$scope"in j&&n(15,u=j.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&8192&&v&&L.content.set(v),t.$$.dirty[0]&16384&&n(8,o=l),t.$$.dirty[0]&256&&Object.assign(o,$)},[k,f,c,d,m,p,_,w,o,a,C,D,r,v,l,u,s,G,R,W,y,b,O,E,H,V,K,z,te,Y,h,B,x,ne,U,ue,we,Ae,Ue,Ge,xe,de,Ee,De,Ve,Ke,ke,Te,$t,kt,ft,en,Mt,ct,Je,ve,Xe]}let l0=class extends be{constructor(e){super(),ge(this,e,r0,i0,fe,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,id:13,asChild:7,el:0},null,[-1,-1])}};const s0=t=>({builder:t&256}),pa=t=>({builder:t[8]});function a0(t){let e,n,o,i=[t[8],t[12]],r={};for(let l=0;l<i.length;l+=1)r=Q(r,i[l]);return{c(){e=I("div"),se(e,r)},m(l,a){M(l,e,a),t[20](e),n||(o=je(t[8].action(e)),n=!0)},p(l,a){se(e,r=ye(i,[a&256&&l[8],a&4096&&l[12]]))},i:Ce,o:Ce,d(l){l&&T(e),t[20](null),n=!1,o()}}}function u0(t){let e,n,o,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=Q(a,l[s]);return{c(){e=I("div"),se(e,a)},m(s,u){M(s,e,u),t[19](e),o=!0,i||(r=je(t[8].action(e)),i=!0)},p(s,u){t=s,se(e,a=ye(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(n&&n.end(1),o=!0)},o(s){s&&(n=Qt(e,t[5],t[6])),o=!1},d(s){s&&T(e),t[19](null),s&&n&&n.end(),i=!1,r()}}}function f0(t){let e,n,o,i,r=[t[8],t[12]],l={};for(let a=0;a<r.length;a+=1)l=Q(l,r[a]);return{c(){e=I("div"),se(e,l)},m(a,s){M(a,e,s),t[18](e),o||(i=je(t[8].action(e)),o=!0)},p(a,s){t=a,se(e,l=ye(r,[s&256&&t[8],s&4096&&t[12]]))},i(a){a&&(n||it(()=>{n=Zt(e,t[3],t[4]),n.start()}))},o:Ce,d(a){a&&T(e),t[18](null),o=!1,i()}}}function c0(t){let e,n,o,i,r,l,a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=I("div"),se(e,s)},m(u,f){M(u,e,f),t[17](e),i=!0,r||(l=je(t[8].action(e)),r=!0)},p(u,f){t=u,se(e,s=ye(a,[f&256&&t[8],f&4096&&t[12]]))},i(u){i||(u&&it(()=>{i&&(o&&o.end(1),n=Zt(e,t[3],t[4]),n.start())}),i=!0)},o(u){n&&n.invalidate(),u&&(o=Qt(e,t[5],t[6])),i=!1},d(u){u&&T(e),t[17](null),u&&o&&o.end(),r=!1,l()}}}function d0(t){let e,n,o,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=Q(a,l[s]);return{c(){e=I("div"),se(e,a)},m(s,u){M(s,e,u),t[16](e),o=!0,i||(r=je(t[8].action(e)),i=!0)},p(s,u){t=s,se(e,a=ye(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(s&&it(()=>{o&&(n||(n=Xt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(s){s&&(n||(n=Xt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(s){s&&T(e),t[16](null),s&&n&&n.end(),i=!1,r()}}}function m0(t){let e;const n=t[15].default,o=me(n,t,t[14],pa);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&16640)&&he(o,n,i,i[14],e?pe(n,i[14],r,s0):_e(i[14]),pa)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function p0(t){let e,n,o,i;const r=[m0,d0,c0,f0,u0,a0],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=Re()},m(s,u){~e&&l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),~e&&l[e].d(s)}}}function h0(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","el"];let r=le(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:p=void 0}=e,{outTransitionConfig:_=void 0}=e,{asChild:v=!1}=e,{el:w=void 0}=e;const{elements:{overlay:k},states:{open:C},getAttrs:D}=Xn();ae(t,k,y=>n(13,l=y)),ae(t,C,y=>n(9,a=y));const L=D("overlay");function P(y){Ne[y?"unshift":"push"](()=>{w=y,n(0,w)})}function $(y){Ne[y?"unshift":"push"](()=>{w=y,n(0,w)})}function G(y){Ne[y?"unshift":"push"](()=>{w=y,n(0,w)})}function R(y){Ne[y?"unshift":"push"](()=>{w=y,n(0,w)})}function W(y){Ne[y?"unshift":"push"](()=>{w=y,n(0,w)})}return t.$$set=y=>{e=Q(Q({},e),$e(y)),n(12,r=le(e,i)),"transition"in y&&n(1,f=y.transition),"transitionConfig"in y&&n(2,c=y.transitionConfig),"inTransition"in y&&n(3,d=y.inTransition),"inTransitionConfig"in y&&n(4,m=y.inTransitionConfig),"outTransition"in y&&n(5,p=y.outTransition),"outTransitionConfig"in y&&n(6,_=y.outTransitionConfig),"asChild"in y&&n(7,v=y.asChild),"el"in y&&n(0,w=y.el),"$$scope"in y&&n(14,u=y.$$scope)},t.$$.update=()=>{t.$$.dirty&8192&&n(8,o=l),t.$$.dirty&256&&Object.assign(o,L)},[w,f,c,d,m,p,_,v,o,a,k,C,r,l,u,s,P,$,G,R,W]}let _0=class extends be{constructor(e){super(),ge(this,e,h0,p0,fe,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,el:0})}};const g0=t=>({builder:t&4}),ha=t=>({builder:t[2]}),b0=t=>({builder:t&4}),_a=t=>({builder:t[2]});function v0(t){let e,n,o,i;const r=t[8].default,l=me(r,t,t[7],ha);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=I("div"),l&&l.c(),se(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[9](e),n=!0,o||(i=je(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&he(l,r,u,u[7],n?pe(r,u[7],f,g0):_e(u[7]),ha),se(e,s=ye(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(A(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[9](null),o=!1,i()}}}function y0(t){let e;const n=t[8].default,o=me(n,t,t[7],_a);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&he(o,n,i,i[7],e?pe(n,i[7],r,b0):_e(i[7]),_a)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function w0(t){let e,n,o,i;const r=[y0,v0],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function k0(t,e,n){let o;const i=["asChild","id","el"];let r=le(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{description:d},ids:m,getAttrs:p}=Xn();ae(t,d,w=>n(6,l=w));const _=p("description");function v(w){Ne[w?"unshift":"push"](()=>{c=w,n(0,c)})}return t.$$set=w=>{e=Q(Q({},e),$e(w)),n(4,r=le(e,i)),"asChild"in w&&n(1,u=w.asChild),"id"in w&&n(5,f=w.id),"el"in w&&n(0,c=w.el),"$$scope"in w&&n(7,s=w.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f&&m.description.set(f),t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,_)},[c,u,o,d,r,f,l,s,a,v]}let C0=class extends be{constructor(e){super(),ge(this,e,k0,w0,fe,{asChild:1,id:5,el:0})}};function A0(t,e){const n=[];return e.builders.forEach(o=>{const i=o.action(t);i&&n.push(i)}),{destroy:()=>{n.forEach(o=>{o.destroy&&o.destroy()})}}}function ga(t){const e={};return t.forEach(n=>{Object.keys(n).forEach(o=>{o!=="action"&&(e[o]=n[o])})}),e}function S0(t){let e=t[1]?"a":"button",n,o,i=(t[1]?"a":"button")&&Ur(t);return{c(){i&&i.c(),n=Re()},m(r,l){i&&i.m(r,l),M(r,n,l),o=!0},p(r,l){r[1],e?fe(e,r[1]?"a":"button")?(i.d(1),i=Ur(r),e=r[1]?"a":"button",i.c(),i.m(n.parentNode,n)):i.p(r,l):(i=Ur(r),e=r[1]?"a":"button",i.c(),i.m(n.parentNode,n))},i(r){o||(A(i,r),o=!0)},o(r){S(i,r),o=!1},d(r){r&&T(n),i&&i.d(r)}}}function T0(t){let e=t[1]?"a":"button",n,o,i=(t[1]?"a":"button")&&Kr(t);return{c(){i&&i.c(),n=Re()},m(r,l){i&&i.m(r,l),M(r,n,l),o=!0},p(r,l){r[1],e?fe(e,r[1]?"a":"button")?(i.d(1),i=Kr(r),e=r[1]?"a":"button",i.c(),i.m(n.parentNode,n)):i.p(r,l):(i=Kr(r),e=r[1]?"a":"button",i.c(),i.m(n.parentNode,n))},i(r){o||(A(i,r),o=!0)},o(r){S(i,r),o=!1},d(r){r&&T(n),i&&i.d(r)}}}function Ur(t){let e,n,o,i,r;const l=t[7].default,a=me(l,t,t[6],null);let s=[{type:n=t[1]?void 0:t[2]},{href:t[1]},{tabindex:"0"},t[5],t[4]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=I(t[1]?"a":"button"),a&&a.c(),wn(t[1]?"a":"button")(e,u)},m(f,c){M(f,e,c),a&&a.m(e,null),o=!0,i||(r=[ee(e,"click",t[14]),ee(e,"change",t[15]),ee(e,"keydown",t[16]),ee(e,"keyup",t[17]),ee(e,"mouseenter",t[18]),ee(e,"mouseleave",t[19])],i=!0)},p(f,c){a&&a.p&&(!o||c&64)&&he(a,l,f,f[6],o?pe(l,f[6],c,null):_e(f[6]),null),wn(f[1]?"a":"button")(e,u=ye(s,[(!o||c&6&&n!==(n=f[1]?void 0:f[2]))&&{type:n},(!o||c&2)&&{href:f[1]},{tabindex:"0"},c&32&&f[5],f[4]]))},i(f){o||(A(a,f),o=!0)},o(f){S(a,f),o=!1},d(f){f&&T(e),a&&a.d(f),i=!1,Be(r)}}}function Kr(t){let e,n,o,i,r,l;const a=t[7].default,s=me(a,t,t[6],null);let u=[{type:n=t[1]?void 0:t[2]},{href:t[1]},{tabindex:"0"},ga(t[3]),t[5],t[4]],f={};for(let c=0;c<u.length;c+=1)f=Q(f,u[c]);return{c(){e=I(t[1]?"a":"button"),s&&s.c(),wn(t[1]?"a":"button")(e,f)},m(c,d){M(c,e,d),s&&s.m(e,null),t[20](e),i=!0,r||(l=[ee(e,"click",t[8]),ee(e,"change",t[9]),ee(e,"keydown",t[10]),ee(e,"keyup",t[11]),ee(e,"mouseenter",t[12]),ee(e,"mouseleave",t[13]),je(o=A0.call(null,e,{builders:t[3]}))],r=!0)},p(c,d){s&&s.p&&(!i||d&64)&&he(s,a,c,c[6],i?pe(a,c[6],d,null):_e(c[6]),null),wn(c[1]?"a":"button")(e,f=ye(u,[(!i||d&6&&n!==(n=c[1]?void 0:c[2]))&&{type:n},(!i||d&2)&&{href:c[1]},{tabindex:"0"},d&8&&ga(c[3]),d&32&&c[5],c[4]])),o&&cn(o.update)&&d&8&&o.update.call(null,{builders:c[3]})},i(c){i||(A(s,c),i=!0)},o(c){S(s,c),i=!1},d(c){c&&T(e),s&&s.d(c),t[20](null),r=!1,Be(l)}}}function M0(t){let e,n,o,i;const r=[T0,S0],l=[];function a(s,u){return s[3]&&s[3].length?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function I0(t,e,n){const o=["href","type","builders","el"];let i=le(e,o),{$$slots:r={},$$scope:l}=e,{href:a=void 0}=e,{type:s=void 0}=e,{builders:u=[]}=e,{el:f=void 0}=e;const c={"data-button-root":""};function d(R){oe.call(this,t,R)}function m(R){oe.call(this,t,R)}function p(R){oe.call(this,t,R)}function _(R){oe.call(this,t,R)}function v(R){oe.call(this,t,R)}function w(R){oe.call(this,t,R)}function k(R){oe.call(this,t,R)}function C(R){oe.call(this,t,R)}function D(R){oe.call(this,t,R)}function L(R){oe.call(this,t,R)}function P(R){oe.call(this,t,R)}function $(R){oe.call(this,t,R)}function G(R){Ne[R?"unshift":"push"](()=>{f=R,n(0,f)})}return t.$$set=R=>{e=Q(Q({},e),$e(R)),n(5,i=le(e,o)),"href"in R&&n(1,a=R.href),"type"in R&&n(2,s=R.type),"builders"in R&&n(3,u=R.builders),"el"in R&&n(0,f=R.el),"$$scope"in R&&n(6,l=R.$$scope)},[f,a,s,u,c,i,l,r,d,m,p,_,v,w,k,C,D,L,P,$,G]}let O0=class extends be{constructor(e){super(),ge(this,e,I0,M0,fe,{href:1,type:2,builders:3,el:0})}};function P0(t){return(e={})=>N0(t,e)}function N0(t,e){const o={...{side:"bottom",align:"center",sideOffset:0,alignOffset:0,sameWidth:!1,avoidCollisions:!0,collisionPadding:8,fitViewport:!1,strategy:"absolute",overlap:!1},...e};t.update(i=>({...i,placement:E0(o.side,o.align),offset:{...i.offset,mainAxis:o.sideOffset,crossAxis:o.alignOffset},gutter:0,sameWidth:o.sameWidth,flip:o.avoidCollisions,overflowPadding:o.collisionPadding,boundary:o.collisionBoundary,fitViewport:o.fitViewport,strategy:o.strategy,overlap:o.overlap}))}function E0(t,e){return e==="center"?t:`${t}-${e}`}function $0(){return{NAME:"separator",PARTS:["root"]}}function R0(t){const{NAME:e,PARTS:n}=$0(),o=Un(e,n),i={...s_(To(t)),getAttrs:o};return{...i,updateOption:Vn(i.options)}}const D0=t=>({builder:t&4}),ba=t=>({builder:t[2]});function L0(t){let e,n,o,i=[t[2],t[4]],r={};for(let l=0;l<i.length;l+=1)r=Q(r,i[l]);return{c(){e=I("div"),se(e,r)},m(l,a){M(l,e,a),t[10](e),n||(o=je(t[2].action(e)),n=!0)},p(l,a){se(e,r=ye(i,[a&4&&l[2],a&16&&l[4]]))},i:Ce,o:Ce,d(l){l&&T(e),t[10](null),n=!1,o()}}}function F0(t){let e;const n=t[9].default,o=me(n,t,t[8],ba);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&260)&&he(o,n,i,i[8],e?pe(n,i[8],r,D0):_e(i[8]),ba)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function B0(t){let e,n,o,i;const r=[F0,L0],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function j0(t,e,n){let o;const i=["orientation","decorative","asChild","el"];let r=le(e,i),l,{$$slots:a={},$$scope:s}=e,{orientation:u="horizontal"}=e,{decorative:f=!0}=e,{asChild:c=!1}=e,{el:d=void 0}=e;const{elements:{root:m},updateOption:p,getAttrs:_}=R0({orientation:u,decorative:f});ae(t,m,k=>n(7,l=k));const v=_("root");function w(k){Ne[k?"unshift":"push"](()=>{d=k,n(0,d)})}return t.$$set=k=>{e=Q(Q({},e),$e(k)),n(4,r=le(e,i)),"orientation"in k&&n(5,u=k.orientation),"decorative"in k&&n(6,f=k.decorative),"asChild"in k&&n(1,c=k.asChild),"el"in k&&n(0,d=k.el),"$$scope"in k&&n(8,s=k.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&p("orientation",u),t.$$.dirty&64&&p("decorative",f),t.$$.dirty&128&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,v)},[d,c,o,m,r,u,f,l,s,a,w]}let q0=class extends be{constructor(e){super(),ge(this,e,j0,B0,fe,{orientation:5,decorative:6,asChild:1,el:0})}};function Kc(){return{NAME:"dialog",PARTS:["close","content","description","overlay","portal","title","trigger"]}}function G0(t){const{NAME:e,PARTS:n}=Kc(),o=Un(e,n),i={...Yc({...To(t),role:"dialog",forceVisible:!0}),getAttrs:o};return gr(e,i),{...i,updateOption:Vn(i.options)}}function Mo(){const{NAME:t}=Kc();return br(t)}const V0=t=>({ids:t&1}),va=t=>({ids:t[0]});function H0(t){let e;const n=t[12].default,o=me(n,t,t[11],va);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,[r]){o&&o.p&&(!e||r&2049)&&he(o,n,i,i[11],e?pe(n,i[11],r,V0):_e(i[11]),va)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function W0(t,e,n){let o,{$$slots:i={},$$scope:r}=e,{preventScroll:l=void 0}=e,{closeOnEscape:a=void 0}=e,{closeOnOutsideClick:s=void 0}=e,{portal:u=void 0}=e,{open:f=void 0}=e,{onOpenChange:c=void 0}=e,{openFocus:d=void 0}=e,{closeFocus:m=void 0}=e,{onOutsideClick:p=void 0}=e;const{states:{open:_},updateOption:v,ids:w}=G0({closeOnEscape:a,preventScroll:l,closeOnOutsideClick:s,portal:u,forceVisible:!0,defaultOpen:f,openFocus:d,closeFocus:m,onOutsideClick:p,onOpenChange:({next:C})=>(f!==C&&(c==null||c(C),n(2,f=C)),C)}),k=dn([w.content,w.description,w.title],([C,D,L])=>({content:C,description:D,title:L}));return ae(t,k,C=>n(0,o=C)),t.$$set=C=>{"preventScroll"in C&&n(3,l=C.preventScroll),"closeOnEscape"in C&&n(4,a=C.closeOnEscape),"closeOnOutsideClick"in C&&n(5,s=C.closeOnOutsideClick),"portal"in C&&n(6,u=C.portal),"open"in C&&n(2,f=C.open),"onOpenChange"in C&&n(7,c=C.onOpenChange),"openFocus"in C&&n(8,d=C.openFocus),"closeFocus"in C&&n(9,m=C.closeFocus),"onOutsideClick"in C&&n(10,p=C.onOutsideClick),"$$scope"in C&&n(11,r=C.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&f!==void 0&&_.set(f),t.$$.dirty&8&&v("preventScroll",l),t.$$.dirty&16&&v("closeOnEscape",a),t.$$.dirty&32&&v("closeOnOutsideClick",s),t.$$.dirty&64&&v("portal",u),t.$$.dirty&256&&v("openFocus",d),t.$$.dirty&512&&v("closeFocus",m),t.$$.dirty&1024&&v("onOutsideClick",p)},[o,k,f,l,a,s,u,c,d,m,p,r,i]}class Y0 extends be{constructor(e){super(),ge(this,e,W0,H0,fe,{preventScroll:3,closeOnEscape:4,closeOnOutsideClick:5,portal:6,open:2,onOpenChange:7,openFocus:8,closeFocus:9,onOutsideClick:10})}}const U0=t=>({builder:t&8}),ya=t=>({builder:t[3]}),K0=t=>({builder:t&8}),wa=t=>({builder:t[3]});function X0(t){let e=t[1],n,o,i=t[1]&&Xr(t);return{c(){i&&i.c(),n=Re()},m(r,l){i&&i.m(r,l),M(r,n,l),o=!0},p(r,l){r[1]?e?fe(e,r[1])?(i.d(1),i=Xr(r),e=r[1],i.c(),i.m(n.parentNode,n)):i.p(r,l):(i=Xr(r),e=r[1],i.c(),i.m(n.parentNode,n)):e&&(i.d(1),i=null,e=r[1])},i(r){o||(A(i,r),o=!0)},o(r){S(i,r),o=!1},d(r){r&&T(n),i&&i.d(r)}}}function J0(t){let e;const n=t[9].default,o=me(n,t,t[8],wa);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&264)&&he(o,n,i,i[8],e?pe(n,i[8],r,K0):_e(i[8]),wa)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Xr(t){let e,n,o,i;const r=t[9].default,l=me(r,t,t[8],ya);let a=[t[3],t[5]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=I(t[1]),l&&l.c(),wn(t[1])(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[10](e),n=!0,o||(i=je(t[3].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&264)&&he(l,r,u,u[8],n?pe(r,u[8],f,U0):_e(u[8]),ya),wn(u[1])(e,s=ye(a,[f&8&&u[3],f&32&&u[5]]))},i(u){n||(A(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[10](null),o=!1,i()}}}function x0(t){let e,n,o,i;const r=[J0,X0],l=[];function a(s,u){return s[2]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function Z0(t,e,n){let o;const i=["level","asChild","id","el"];let r=le(e,i),l,{$$slots:a={},$$scope:s}=e,{level:u="h2"}=e,{asChild:f=!1}=e,{id:c=void 0}=e,{el:d=void 0}=e;const{elements:{title:m},ids:p,getAttrs:_}=Mo();ae(t,m,k=>n(7,l=k));const v=_("title");function w(k){Ne[k?"unshift":"push"](()=>{d=k,n(0,d)})}return t.$$set=k=>{e=Q(Q({},e),$e(k)),n(5,r=le(e,i)),"level"in k&&n(1,u=k.level),"asChild"in k&&n(2,f=k.asChild),"id"in k&&n(6,c=k.id),"el"in k&&n(0,d=k.el),"$$scope"in k&&n(8,s=k.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&c&&p.title.set(c),t.$$.dirty&128&&n(3,o=l),t.$$.dirty&8&&Object.assign(o,v)},[d,u,f,o,m,r,c,l,s,a,w]}let Q0=class extends be{constructor(e){super(),ge(this,e,Z0,x0,fe,{level:1,asChild:2,id:6,el:0})}};const z0=t=>({builder:t&4}),ka=t=>({builder:t[2]}),eg=t=>({builder:t&4}),Ca=t=>({builder:t[2]});function tg(t){let e,n,o,i;const r=t[8].default,l=me(r,t,t[7],ka);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=I("button"),l&&l.c(),se(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[9](e),n=!0,o||(i=[je(t[2].action(e)),ee(e,"m-click",t[4]),ee(e,"m-keydown",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&he(l,r,u,u[7],n?pe(r,u[7],f,z0):_e(u[7]),ka),se(e,s=ye(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(A(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[9](null),o=!1,Be(i)}}}function ng(t){let e;const n=t[8].default,o=me(n,t,t[7],Ca);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&he(o,n,i,i[7],e?pe(n,i[7],r,eg):_e(i[7]),Ca)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function og(t){let e,n,o,i;const r=[ng,tg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function ig(t,e,n){let o;const i=["asChild","el"];let r=le(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:d}=Mo();ae(t,c,v=>n(6,l=v));const m=Kn(),p=d("close");function _(v){Ne[v?"unshift":"push"](()=>{f=v,n(0,f)})}return t.$$set=v=>{e=Q(Q({},e),$e(v)),n(5,r=le(e,i)),"asChild"in v&&n(1,u=v.asChild),"el"in v&&n(0,f=v.el),"$$scope"in v&&n(7,s=v.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,p)},[f,u,o,c,m,r,l,s,a,_]}class rg extends be{constructor(e){super(),ge(this,e,ig,og,fe,{asChild:1,el:0})}}const lg=t=>({builder:t&4}),Aa=t=>({builder:t[2]}),sg=t=>({builder:t&4}),Sa=t=>({builder:t[2]});function ag(t){let e,n,o,i;const r=t[7].default,l=me(r,t,t[6],Aa);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=I("div"),l&&l.c(),se(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[8](e),n=!0,o||(i=je(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&68)&&he(l,r,u,u[6],n?pe(r,u[6],f,lg):_e(u[6]),Aa),se(e,s=ye(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(A(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[8](null),o=!1,i()}}}function ug(t){let e;const n=t[7].default,o=me(n,t,t[6],Sa);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&68)&&he(o,n,i,i[6],e?pe(n,i[6],r,sg):_e(i[6]),Sa)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function fg(t){let e,n,o,i;const r=[ug,ag],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function cg(t,e,n){let o;const i=["asChild","el"];let r=le(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{portalled:c},getAttrs:d}=Mo();ae(t,c,_=>n(5,l=_));const m=d("portal");function p(_){Ne[_?"unshift":"push"](()=>{f=_,n(0,f)})}return t.$$set=_=>{e=Q(Q({},e),$e(_)),n(4,r=le(e,i)),"asChild"in _&&n(1,u=_.asChild),"el"in _&&n(0,f=_.el),"$$scope"in _&&n(6,s=_.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,m)},[f,u,o,c,r,l,s,a,p]}let dg=class extends be{constructor(e){super(),ge(this,e,cg,fg,fe,{asChild:1,el:0})}};const mg=t=>({builder:t[0]&256}),Ta=t=>({builder:t[8]}),pg=t=>({builder:t[0]&256}),Ma=t=>({builder:t[8]}),hg=t=>({builder:t[0]&256}),Ia=t=>({builder:t[8]}),_g=t=>({builder:t[0]&256}),Oa=t=>({builder:t[8]}),gg=t=>({builder:t[0]&256}),Pa=t=>({builder:t[8]}),bg=t=>({builder:t[0]&256}),Na=t=>({builder:t[8]});function vg(t){let e,n,o,i;const r=t[16].default,l=me(r,t,t[15],Ta);let a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=I("div"),l&&l.c(),se(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[56](e),n=!0,o||(i=[je(t[8].action(e)),ee(e,"pointerdown",t[45]),ee(e,"pointermove",t[46]),ee(e,"pointerup",t[47]),ee(e,"touchend",t[48]),ee(e,"touchstart",t[49]),ee(e,"touchcancel",t[50]),ee(e,"touchmove",t[51])],o=!0)},p(u,f){l&&l.p&&(!n||f[0]&33024)&&he(l,r,u,u[15],n?pe(r,u[15],f,mg):_e(u[15]),Ta),se(e,s=ye(a,[f[0]&256&&u[8],f[0]&4096&&u[12]]))},i(u){n||(A(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[56](null),o=!1,Be(i)}}}function yg(t){let e,n,o,i,r;const l=t[16].default,a=me(l,t,t[15],Ma);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=I("div"),a&&a.c(),se(e,u)},m(f,c){M(f,e,c),a&&a.m(e,null),t[55](e),o=!0,i||(r=[je(t[8].action(e)),ee(e,"pointerdown",t[38]),ee(e,"pointermove",t[39]),ee(e,"pointerup",t[40]),ee(e,"touchend",t[41]),ee(e,"touchstart",t[42]),ee(e,"touchcancel",t[43]),ee(e,"touchmove",t[44])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&he(a,l,t,t[15],o?pe(l,t[15],c,pg):_e(t[15]),Ma),se(e,u=ye(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(A(a,f),n&&n.end(1),o=!0)},o(f){S(a,f),f&&(n=Qt(e,t[5],t[6])),o=!1},d(f){f&&T(e),a&&a.d(f),t[55](null),f&&n&&n.end(),i=!1,Be(r)}}}function wg(t){let e,n,o,i,r;const l=t[16].default,a=me(l,t,t[15],Ia);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=I("div"),a&&a.c(),se(e,u)},m(f,c){M(f,e,c),a&&a.m(e,null),t[54](e),o=!0,i||(r=[je(t[8].action(e)),ee(e,"pointerdown",t[31]),ee(e,"pointermove",t[32]),ee(e,"pointerup",t[33]),ee(e,"touchend",t[34]),ee(e,"touchstart",t[35]),ee(e,"touchcancel",t[36]),ee(e,"touchmove",t[37])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&he(a,l,t,t[15],o?pe(l,t[15],c,hg):_e(t[15]),Ia),se(e,u=ye(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(A(a,f),f&&(n||it(()=>{n=Zt(e,t[3],t[4]),n.start()})),o=!0)},o(f){S(a,f),o=!1},d(f){f&&T(e),a&&a.d(f),t[54](null),i=!1,Be(r)}}}function kg(t){let e,n,o,i,r,l;const a=t[16].default,s=me(a,t,t[15],Oa);let u=[t[8],t[12]],f={};for(let c=0;c<u.length;c+=1)f=Q(f,u[c]);return{c(){e=I("div"),s&&s.c(),se(e,f)},m(c,d){M(c,e,d),s&&s.m(e,null),t[53](e),i=!0,r||(l=[je(t[8].action(e)),ee(e,"pointerdown",t[24]),ee(e,"pointermove",t[25]),ee(e,"pointerup",t[26]),ee(e,"touchend",t[27]),ee(e,"touchstart",t[28]),ee(e,"touchcancel",t[29]),ee(e,"touchmove",t[30])],r=!0)},p(c,d){t=c,s&&s.p&&(!i||d[0]&33024)&&he(s,a,t,t[15],i?pe(a,t[15],d,_g):_e(t[15]),Oa),se(e,f=ye(u,[d[0]&256&&t[8],d[0]&4096&&t[12]]))},i(c){i||(A(s,c),c&&it(()=>{i&&(o&&o.end(1),n=Zt(e,t[3],t[4]),n.start())}),i=!0)},o(c){S(s,c),n&&n.invalidate(),c&&(o=Qt(e,t[5],t[6])),i=!1},d(c){c&&T(e),s&&s.d(c),t[53](null),c&&o&&o.end(),r=!1,Be(l)}}}function Cg(t){let e,n,o,i,r;const l=t[16].default,a=me(l,t,t[15],Pa);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=I("div"),a&&a.c(),se(e,u)},m(f,c){M(f,e,c),a&&a.m(e,null),t[52](e),o=!0,i||(r=[je(t[8].action(e)),ee(e,"pointerdown",t[17]),ee(e,"pointermove",t[18]),ee(e,"pointerup",t[19]),ee(e,"touchend",t[20]),ee(e,"touchstart",t[21]),ee(e,"touchcancel",t[22]),ee(e,"touchmove",t[23])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&he(a,l,t,t[15],o?pe(l,t[15],c,gg):_e(t[15]),Pa),se(e,u=ye(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(A(a,f),f&&it(()=>{o&&(n||(n=Xt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(f){S(a,f),f&&(n||(n=Xt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(f){f&&T(e),a&&a.d(f),t[52](null),f&&n&&n.end(),i=!1,Be(r)}}}function Ag(t){let e;const n=t[16].default,o=me(n,t,t[15],Na);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r[0]&33024)&&he(o,n,i,i[15],e?pe(n,i[15],r,bg):_e(i[15]),Na)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Sg(t){let e,n,o,i;const r=[Ag,Cg,kg,wg,yg,vg],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=Re()},m(s,u){~e&&l[e].m(s,u),M(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),~e&&l[e].d(s)}}}function Tg(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","id","el"];let r=le(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:p=void 0}=e,{outTransitionConfig:_=void 0}=e,{asChild:v=!1}=e,{id:w=void 0}=e,{el:k=void 0}=e;const{elements:{content:C},states:{open:D},ids:L,getAttrs:P}=Mo();ae(t,C,j=>n(14,l=j)),ae(t,D,j=>n(9,a=j));const $=P("content");function G(j){oe.call(this,t,j)}function R(j){oe.call(this,t,j)}function W(j){oe.call(this,t,j)}function y(j){oe.call(this,t,j)}function b(j){oe.call(this,t,j)}function O(j){oe.call(this,t,j)}function E(j){oe.call(this,t,j)}function H(j){oe.call(this,t,j)}function V(j){oe.call(this,t,j)}function K(j){oe.call(this,t,j)}function z(j){oe.call(this,t,j)}function te(j){oe.call(this,t,j)}function Y(j){oe.call(this,t,j)}function h(j){oe.call(this,t,j)}function B(j){oe.call(this,t,j)}function x(j){oe.call(this,t,j)}function ne(j){oe.call(this,t,j)}function U(j){oe.call(this,t,j)}function ue(j){oe.call(this,t,j)}function we(j){oe.call(this,t,j)}function Ae(j){oe.call(this,t,j)}function Ue(j){oe.call(this,t,j)}function Ge(j){oe.call(this,t,j)}function xe(j){oe.call(this,t,j)}function de(j){oe.call(this,t,j)}function Ee(j){oe.call(this,t,j)}function De(j){oe.call(this,t,j)}function Ve(j){oe.call(this,t,j)}function Ke(j){oe.call(this,t,j)}function ke(j){oe.call(this,t,j)}function Te(j){oe.call(this,t,j)}function $t(j){oe.call(this,t,j)}function kt(j){oe.call(this,t,j)}function ft(j){oe.call(this,t,j)}function en(j){oe.call(this,t,j)}function Mt(j){Ne[j?"unshift":"push"](()=>{k=j,n(0,k)})}function ct(j){Ne[j?"unshift":"push"](()=>{k=j,n(0,k)})}function Je(j){Ne[j?"unshift":"push"](()=>{k=j,n(0,k)})}function ve(j){Ne[j?"unshift":"push"](()=>{k=j,n(0,k)})}function Xe(j){Ne[j?"unshift":"push"](()=>{k=j,n(0,k)})}return t.$$set=j=>{e=Q(Q({},e),$e(j)),n(12,r=le(e,i)),"transition"in j&&n(1,f=j.transition),"transitionConfig"in j&&n(2,c=j.transitionConfig),"inTransition"in j&&n(3,d=j.inTransition),"inTransitionConfig"in j&&n(4,m=j.inTransitionConfig),"outTransition"in j&&n(5,p=j.outTransition),"outTransitionConfig"in j&&n(6,_=j.outTransitionConfig),"asChild"in j&&n(7,v=j.asChild),"id"in j&&n(13,w=j.id),"el"in j&&n(0,k=j.el),"$$scope"in j&&n(15,u=j.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&8192&&w&&L.content.set(w),t.$$.dirty[0]&16384&&n(8,o=l),t.$$.dirty[0]&256&&Object.assign(o,$)},[k,f,c,d,m,p,_,v,o,a,C,D,r,w,l,u,s,G,R,W,y,b,O,E,H,V,K,z,te,Y,h,B,x,ne,U,ue,we,Ae,Ue,Ge,xe,de,Ee,De,Ve,Ke,ke,Te,$t,kt,ft,en,Mt,ct,Je,ve,Xe]}let Mg=class extends be{constructor(e){super(),ge(this,e,Tg,Sg,fe,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,id:13,el:0},null,[-1,-1])}};const Ig=t=>({builder:t&256}),Ea=t=>({builder:t[8]});function Og(t){let e,n,o,i=[t[8],t[12]],r={};for(let l=0;l<i.length;l+=1)r=Q(r,i[l]);return{c(){e=I("div"),se(e,r)},m(l,a){M(l,e,a),t[25](e),n||(o=[je(t[8].action(e)),ee(e,"mouseup",t[20])],n=!0)},p(l,a){se(e,r=ye(i,[a&256&&l[8],a&4096&&l[12]]))},i:Ce,o:Ce,d(l){l&&T(e),t[25](null),n=!1,Be(o)}}}function Pg(t){let e,n,o,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=Q(a,l[s]);return{c(){e=I("div"),se(e,a)},m(s,u){M(s,e,u),t[24](e),o=!0,i||(r=[je(t[8].action(e)),ee(e,"mouseup",t[19])],i=!0)},p(s,u){t=s,se(e,a=ye(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(n&&n.end(1),o=!0)},o(s){s&&(n=Qt(e,t[5],t[6])),o=!1},d(s){s&&T(e),t[24](null),s&&n&&n.end(),i=!1,Be(r)}}}function Ng(t){let e,n,o,i,r=[t[8],t[12]],l={};for(let a=0;a<r.length;a+=1)l=Q(l,r[a]);return{c(){e=I("div"),se(e,l)},m(a,s){M(a,e,s),t[23](e),o||(i=[je(t[8].action(e)),ee(e,"mouseup",t[18])],o=!0)},p(a,s){t=a,se(e,l=ye(r,[s&256&&t[8],s&4096&&t[12]]))},i(a){a&&(n||it(()=>{n=Zt(e,t[3],t[4]),n.start()}))},o:Ce,d(a){a&&T(e),t[23](null),o=!1,Be(i)}}}function Eg(t){let e,n,o,i,r,l,a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=I("div"),se(e,s)},m(u,f){M(u,e,f),t[22](e),i=!0,r||(l=[je(t[8].action(e)),ee(e,"mouseup",t[17])],r=!0)},p(u,f){t=u,se(e,s=ye(a,[f&256&&t[8],f&4096&&t[12]]))},i(u){i||(u&&it(()=>{i&&(o&&o.end(1),n=Zt(e,t[3],t[4]),n.start())}),i=!0)},o(u){n&&n.invalidate(),u&&(o=Qt(e,t[5],t[6])),i=!1},d(u){u&&T(e),t[22](null),u&&o&&o.end(),r=!1,Be(l)}}}function $g(t){let e,n,o,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=Q(a,l[s]);return{c(){e=I("div"),se(e,a)},m(s,u){M(s,e,u),t[21](e),o=!0,i||(r=[ee(e,"mouseup",t[16]),je(t[8].action(e))],i=!0)},p(s,u){t=s,se(e,a=ye(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(s&&it(()=>{o&&(n||(n=Xt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(s){s&&(n||(n=Xt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(s){s&&T(e),t[21](null),s&&n&&n.end(),i=!1,Be(r)}}}function Rg(t){let e;const n=t[15].default,o=me(n,t,t[14],Ea);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&16640)&&he(o,n,i,i[14],e?pe(n,i[14],r,Ig):_e(i[14]),Ea)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Dg(t){let e,n,o,i;const r=[Rg,$g,Eg,Ng,Pg,Og],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=Re()},m(s,u){~e&&l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),~e&&l[e].d(s)}}}function Lg(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","el"];let r=le(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:p=void 0}=e,{outTransitionConfig:_=void 0}=e,{asChild:v=!1}=e,{el:w=void 0}=e;const{elements:{overlay:k},states:{open:C},getAttrs:D}=Mo();ae(t,k,V=>n(13,l=V)),ae(t,C,V=>n(9,a=V));const L=D("overlay");function P(V){oe.call(this,t,V)}function $(V){oe.call(this,t,V)}function G(V){oe.call(this,t,V)}function R(V){oe.call(this,t,V)}function W(V){oe.call(this,t,V)}function y(V){Ne[V?"unshift":"push"](()=>{w=V,n(0,w)})}function b(V){Ne[V?"unshift":"push"](()=>{w=V,n(0,w)})}function O(V){Ne[V?"unshift":"push"](()=>{w=V,n(0,w)})}function E(V){Ne[V?"unshift":"push"](()=>{w=V,n(0,w)})}function H(V){Ne[V?"unshift":"push"](()=>{w=V,n(0,w)})}return t.$$set=V=>{e=Q(Q({},e),$e(V)),n(12,r=le(e,i)),"transition"in V&&n(1,f=V.transition),"transitionConfig"in V&&n(2,c=V.transitionConfig),"inTransition"in V&&n(3,d=V.inTransition),"inTransitionConfig"in V&&n(4,m=V.inTransitionConfig),"outTransition"in V&&n(5,p=V.outTransition),"outTransitionConfig"in V&&n(6,_=V.outTransitionConfig),"asChild"in V&&n(7,v=V.asChild),"el"in V&&n(0,w=V.el),"$$scope"in V&&n(14,u=V.$$scope)},t.$$.update=()=>{t.$$.dirty&8192&&n(8,o=l),t.$$.dirty&256&&Object.assign(o,L)},[w,f,c,d,m,p,_,v,o,a,k,C,r,l,u,s,P,$,G,R,W,y,b,O,E,H]}let Fg=class extends be{constructor(e){super(),ge(this,e,Lg,Dg,fe,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,el:0})}};const Bg=t=>({builder:t&4}),$a=t=>({builder:t[2]}),jg=t=>({builder:t&4}),Ra=t=>({builder:t[2]});function qg(t){let e,n,o,i;const r=t[8].default,l=me(r,t,t[7],$a);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=I("div"),l&&l.c(),se(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[9](e),n=!0,o||(i=je(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&he(l,r,u,u[7],n?pe(r,u[7],f,Bg):_e(u[7]),$a),se(e,s=ye(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(A(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[9](null),o=!1,i()}}}function Gg(t){let e;const n=t[8].default,o=me(n,t,t[7],Ra);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&he(o,n,i,i[7],e?pe(n,i[7],r,jg):_e(i[7]),Ra)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Vg(t){let e,n,o,i;const r=[Gg,qg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function Hg(t,e,n){let o;const i=["asChild","id","el"];let r=le(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{description:d},ids:m,getAttrs:p}=Mo();ae(t,d,w=>n(6,l=w));const _=p("description");function v(w){Ne[w?"unshift":"push"](()=>{c=w,n(0,c)})}return t.$$set=w=>{e=Q(Q({},e),$e(w)),n(4,r=le(e,i)),"asChild"in w&&n(1,u=w.asChild),"id"in w&&n(5,f=w.id),"el"in w&&n(0,c=w.el),"$$scope"in w&&n(7,s=w.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f&&m.description.set(f),t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,_)},[c,u,o,d,r,f,l,s,a,v]}let Wg=class extends be{constructor(e){super(),ge(this,e,Hg,Vg,fe,{asChild:1,id:5,el:0})}};function Yg(){const t="label",n=Un(t,["root"]);return{NAME:t,getAttrs:n}}const Ug=t=>({builder:t&4}),Da=t=>({builder:t[2]}),Kg=t=>({builder:t&4}),La=t=>({builder:t[2]});function Xg(t){let e,n,o,i;const r=t[8].default,l=me(r,t,t[7],Da);let a=[t[2],t[5]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=I("label"),l&&l.c(),se(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[9](e),n=!0,o||(i=[je(t[2].action(e)),ee(e,"m-mousedown",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&he(l,r,u,u[7],n?pe(r,u[7],f,Ug):_e(u[7]),Da),se(e,s=ye(a,[f&4&&u[2],f&32&&u[5]]))},i(u){n||(A(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[9](null),o=!1,Be(i)}}}function Jg(t){let e;const n=t[8].default,o=me(n,t,t[7],La);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&he(o,n,i,i[7],e?pe(n,i[7],r,Kg):_e(i[7]),La)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function xg(t){let e,n,o,i;const r=[Jg,Xg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function Zg(t,e,n){let o;const i=["asChild","el"];let r=le(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{root:c}}=e_();ae(t,c,v=>n(6,l=v));const d=Kn(),{getAttrs:m}=Yg(),p=m("root");function _(v){Ne[v?"unshift":"push"](()=>{f=v,n(0,f)})}return t.$$set=v=>{e=Q(Q({},e),$e(v)),n(5,r=le(e,i)),"asChild"in v&&n(1,u=v.asChild),"el"in v&&n(0,f=v.el),"$$scope"in v&&n(7,s=v.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,p)},[f,u,o,c,d,r,l,s,a,_]}let Qg=class extends be{constructor(e){super(),ge(this,e,Zg,xg,fe,{asChild:1,el:0})}};function zg(){return{NAME:"progress",PARTS:["root"]}}function e1(t){const{NAME:e,PARTS:n}=zg(),o=Un(e,n),i={...r_(To(t)),getAttrs:o};return{...i,updateOption:Vn(i.options)}}const t1=t=>({builder:t&4}),Fa=t=>({builder:t[2]}),n1=t=>({builder:t&4}),Ba=t=>({builder:t[2]});function o1(t){let e,n,o,i;const r=t[10].default,l=me(r,t,t[9],Fa);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=I("div"),l&&l.c(),se(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[11](e),n=!0,o||(i=je(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&516)&&he(l,r,u,u[9],n?pe(r,u[9],f,t1):_e(u[9]),Fa),se(e,s=ye(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(A(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[11](null),o=!1,i()}}}function i1(t){let e;const n=t[10].default,o=me(n,t,t[9],Ba);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&516)&&he(o,n,i,i[9],e?pe(n,i[9],r,n1):_e(i[9]),Ba)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function r1(t){let e,n,o,i;const r=[i1,o1],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function l1(t,e,n){let o;const i=["max","value","onValueChange","asChild","el"];let r=le(e,i),l,{$$slots:a={},$$scope:s}=e,{max:u=void 0}=e,{value:f=void 0}=e,{onValueChange:c=void 0}=e,{asChild:d=!1}=e,{el:m=void 0}=e;const{elements:{root:p},states:{value:_},updateOption:v,getAttrs:w}=e1({max:u,defaultValue:f,onValueChange:({next:D})=>(c==null||c(D),n(5,f=D),D)});ae(t,p,D=>n(8,l=D));const k=w("root");function C(D){Ne[D?"unshift":"push"](()=>{m=D,n(0,m)})}return t.$$set=D=>{e=Q(Q({},e),$e(D)),n(4,r=le(e,i)),"max"in D&&n(6,u=D.max),"value"in D&&n(5,f=D.value),"onValueChange"in D&&n(7,c=D.onValueChange),"asChild"in D&&n(1,d=D.asChild),"el"in D&&n(0,m=D.el),"$$scope"in D&&n(9,s=D.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f!==void 0&&_.set(f),t.$$.dirty&64&&v("max",u),t.$$.dirty&256&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,k)},[m,d,o,p,r,f,u,c,l,s,a,C]}let s1=class extends be{constructor(e){super(),ge(this,e,l1,r1,fe,{max:6,value:5,onValueChange:7,asChild:1,el:0})}};function Xc(){return{NAME:"slider",PARTS:["root","input","range","thumb","tick"]}}function a1(t){const{NAME:e,PARTS:n}=Xc(),o=Un(e,n),i={...u_(To(t)),getAttrs:o};return gr(e,i),{...i,updateOption:Vn(i.options)}}function Jc(){const{NAME:t}=Xc();return br(t)}const u1=t=>({builder:t&4,ticks:t&8,thumbs:t&16}),ja=t=>({builder:t[2],ticks:t[3],thumbs:t[4]}),f1=t=>({builder:t&4,ticks:t&8,thumbs:t&16}),qa=t=>({builder:t[2],ticks:t[3],thumbs:t[4]});function c1(t){let e,n,o,i;const r=t[18].default,l=me(r,t,t[17],ja);let a=[t[2],t[8]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=I("span"),l&&l.c(),se(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[19](e),n=!0,o||(i=je(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&131100)&&he(l,r,u,u[17],n?pe(r,u[17],f,u1):_e(u[17]),ja),se(e,s=ye(a,[f&4&&u[2],f&256&&u[8]]))},i(u){n||(A(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[19](null),o=!1,i()}}}function d1(t){let e;const n=t[18].default,o=me(n,t,t[17],qa);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&131100)&&he(o,n,i,i[17],e?pe(n,i[17],r,f1):_e(i[17]),qa)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function m1(t){let e,n,o,i;const r=[d1,c1],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function p1(t,e,n){let o;const i=["disabled","min","max","step","orientation","value","onValueChange","asChild","el"];let r=le(e,i),l,a,s,{$$slots:u={},$$scope:f}=e,{disabled:c=void 0}=e,{min:d=void 0}=e,{max:m=void 0}=e,{step:p=void 0}=e,{orientation:_=void 0}=e,{value:v=void 0}=e,{onValueChange:w=void 0}=e,{asChild:k=!1}=e,{el:C=void 0}=e;const{elements:{root:D,ticks:L,thumbs:P},states:{value:$},updateOption:G,getAttrs:R}=a1({disabled:c,min:d,max:m,step:p,orientation:_,defaultValue:v,onValueChange:({next:b})=>(v!==b&&(w==null||w(b),n(9,v=b)),b)});ae(t,D,b=>n(16,l=b)),ae(t,L,b=>n(3,a=b)),ae(t,P,b=>n(4,s=b));const W=R("root");function y(b){Ne[b?"unshift":"push"](()=>{C=b,n(0,C)})}return t.$$set=b=>{e=Q(Q({},e),$e(b)),n(8,r=le(e,i)),"disabled"in b&&n(10,c=b.disabled),"min"in b&&n(11,d=b.min),"max"in b&&n(12,m=b.max),"step"in b&&n(13,p=b.step),"orientation"in b&&n(14,_=b.orientation),"value"in b&&n(9,v=b.value),"onValueChange"in b&&n(15,w=b.onValueChange),"asChild"in b&&n(1,k=b.asChild),"el"in b&&n(0,C=b.el),"$$scope"in b&&n(17,f=b.$$scope)},t.$$.update=()=>{t.$$.dirty&512&&v!==void 0&&$.set(v),t.$$.dirty&1024&&G("disabled",c),t.$$.dirty&2048&&G("min",d),t.$$.dirty&4096&&G("max",m),t.$$.dirty&8192&&G("step",p),t.$$.dirty&16384&&G("orientation",_),t.$$.dirty&65536&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,W)},[C,k,o,a,s,D,L,P,r,v,c,d,m,p,_,w,l,f,u,y]}let h1=class extends be{constructor(e){super(),ge(this,e,p1,m1,fe,{disabled:10,min:11,max:12,step:13,orientation:14,value:9,onValueChange:15,asChild:1,el:0})}};const _1=t=>({builder:t&4}),Ga=t=>({builder:t[2]});function g1(t){let e,n,o,i=[t[2],t[4]],r={};for(let l=0;l<i.length;l+=1)r=Q(r,i[l]);return{c(){e=I("span"),se(e,r)},m(l,a){M(l,e,a),t[8](e),n||(o=je(t[2].action(e)),n=!0)},p(l,a){se(e,r=ye(i,[a&4&&l[2],a&16&&l[4]]))},i:Ce,o:Ce,d(l){l&&T(e),t[8](null),n=!1,o()}}}function b1(t){let e;const n=t[7].default,o=me(n,t,t[6],Ga);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&68)&&he(o,n,i,i[6],e?pe(n,i[6],r,_1):_e(i[6]),Ga)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function v1(t){let e,n,o,i;const r=[b1,g1],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function y1(t,e,n){let o;const i=["asChild","el"];let r=le(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{range:c},getAttrs:d}=Jc();ae(t,c,_=>n(5,l=_));const m=d("range");function p(_){Ne[_?"unshift":"push"](()=>{f=_,n(0,f)})}return t.$$set=_=>{e=Q(Q({},e),$e(_)),n(4,r=le(e,i)),"asChild"in _&&n(1,u=_.asChild),"el"in _&&n(0,f=_.el),"$$scope"in _&&n(6,s=_.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,m)},[f,u,o,c,r,l,s,a,p]}class w1 extends be{constructor(e){super(),ge(this,e,y1,v1,fe,{asChild:1,el:0})}}const k1=t=>({builder:t&4}),Va=t=>({builder:t[2]});function C1(t){let e,n,o,i=[t[2],t[4]],r={};for(let l=0;l<i.length;l+=1)r=Q(r,i[l]);return{c(){e=I("span"),se(e,r)},m(l,a){M(l,e,a),t[8](e),n||(o=[je(t[2].action(e)),ee(e,"m-keydown",t[3])],n=!0)},p(l,a){se(e,r=ye(i,[a&4&&l[2],a&16&&l[4]]))},i:Ce,o:Ce,d(l){l&&T(e),t[8](null),n=!1,Be(o)}}}function A1(t){let e;const n=t[7].default,o=me(n,t,t[6],Va);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&68)&&he(o,n,i,i[6],e?pe(n,i[6],r,k1):_e(i[6]),Va)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function S1(t){let e,n,o,i;const r=[A1,C1],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function T1(t,e,n){let o;const i=["asChild","el","thumb"];let r=le(e,i),{$$slots:l={},$$scope:a}=e,{asChild:s=!1}=e,{el:u=void 0}=e,{thumb:f}=e;const{getAttrs:c}=Jc(),d=Kn(),m=c("thumb");function p(_){Ne[_?"unshift":"push"](()=>{u=_,n(0,u)})}return t.$$set=_=>{e=Q(Q({},e),$e(_)),n(4,r=le(e,i)),"asChild"in _&&n(1,s=_.asChild),"el"in _&&n(0,u=_.el),"thumb"in _&&n(5,f=_.thumb),"$$scope"in _&&n(6,a=_.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=f),t.$$.dirty&4&&Object.assign(o,m)},[u,s,o,d,r,f,a,l,p]}class M1 extends be{constructor(e){super(),ge(this,e,T1,S1,fe,{asChild:1,el:0,thumb:5})}}function xc(){return{NAME:"tooltip",PARTS:["arrow","content","trigger"]}}function I1(t){const{NAME:e,PARTS:n}=xc(),o=Un(e,n),i={...d_({positioning:{placement:"top",gutter:0},openDelay:700,...To(t),forceVisible:!0}),getAttrs:o};return gr(e,i),{...i,updateOption:Vn(i.options)}}function Xl(){const{NAME:t}=xc();return br(t)}function O1(t){const n={...{side:"top",align:"center",sideOffset:1},...t},{options:{positioning:o}}=Xl();P0(o)({...n})}const P1=t=>({ids:t&1}),Ha=t=>({ids:t[0]});function N1(t){let e;const n=t[12].default,o=me(n,t,t[11],Ha);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,[r]){o&&o.p&&(!e||r&2049)&&he(o,n,i,i[11],e?pe(n,i[11],r,P1):_e(i[11]),Ha)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function E1(t,e,n){let o,{$$slots:i={},$$scope:r}=e,{closeOnEscape:l=void 0}=e,{portal:a=void 0}=e,{closeOnPointerDown:s=void 0}=e,{openDelay:u=void 0}=e,{closeDelay:f=void 0}=e,{open:c=void 0}=e,{onOpenChange:d=void 0}=e,{disableHoverableContent:m=void 0}=e,{group:p=void 0}=e;const{states:{open:_},updateOption:v,ids:w}=I1({closeOnEscape:l,portal:a,closeOnPointerDown:s,openDelay:u,closeDelay:f,forceVisible:!0,defaultOpen:c,disableHoverableContent:m,group:p,onOpenChange:({next:C})=>(c!==C&&(d==null||d(C),n(2,c=C)),C),positioning:{gutter:0,offset:{mainAxis:1}}}),k=dn([w.content,w.trigger],([C,D])=>({content:C,trigger:D}));return ae(t,k,C=>n(0,o=C)),t.$$set=C=>{"closeOnEscape"in C&&n(3,l=C.closeOnEscape),"portal"in C&&n(4,a=C.portal),"closeOnPointerDown"in C&&n(5,s=C.closeOnPointerDown),"openDelay"in C&&n(6,u=C.openDelay),"closeDelay"in C&&n(7,f=C.closeDelay),"open"in C&&n(2,c=C.open),"onOpenChange"in C&&n(8,d=C.onOpenChange),"disableHoverableContent"in C&&n(9,m=C.disableHoverableContent),"group"in C&&n(10,p=C.group),"$$scope"in C&&n(11,r=C.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&c!==void 0&&_.set(c),t.$$.dirty&8&&v("closeOnEscape",l),t.$$.dirty&16&&v("portal",a),t.$$.dirty&32&&v("closeOnPointerDown",s),t.$$.dirty&64&&v("openDelay",u),t.$$.dirty&128&&v("closeDelay",f),t.$$.dirty&1024&&v("group",p),t.$$.dirty&512&&v("disableHoverableContent",m)},[o,k,c,l,a,s,u,f,d,m,p,r,i]}class $1 extends be{constructor(e){super(),ge(this,e,E1,N1,fe,{closeOnEscape:3,portal:4,closeOnPointerDown:5,openDelay:6,closeDelay:7,open:2,onOpenChange:8,disableHoverableContent:9,group:10})}}const R1=t=>({builder:t[0]&256}),Wa=t=>({builder:t[8]}),D1=t=>({builder:t[0]&256}),Ya=t=>({builder:t[8]}),L1=t=>({builder:t[0]&256}),Ua=t=>({builder:t[8]}),F1=t=>({builder:t[0]&256}),Ka=t=>({builder:t[8]}),B1=t=>({builder:t[0]&256}),Xa=t=>({builder:t[8]}),j1=t=>({builder:t[0]&256}),Ja=t=>({builder:t[8]});function q1(t){let e,n,o,i;const r=t[28].default,l=me(r,t,t[27],Wa);let a=[t[8],t[13]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=I("div"),l&&l.c(),se(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[33](e),n=!0,o||(i=[je(t[8].action(e)),ee(e,"m-pointerdown",t[12]),ee(e,"m-pointerenter",t[12])],o=!0)},p(u,f){l&&l.p&&(!n||f[0]&134217984)&&he(l,r,u,u[27],n?pe(r,u[27],f,R1):_e(u[27]),Wa),se(e,s=ye(a,[f[0]&256&&u[8],f[0]&8192&&u[13]]))},i(u){n||(A(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[33](null),o=!1,Be(i)}}}function G1(t){let e,n,o,i,r;const l=t[28].default,a=me(l,t,t[27],Ya);let s=[t[8],t[13]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=I("div"),a&&a.c(),se(e,u)},m(f,c){M(f,e,c),a&&a.m(e,null),t[32](e),o=!0,i||(r=[je(t[8].action(e)),ee(e,"m-pointerdown",t[12]),ee(e,"m-pointerenter",t[12])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&134217984)&&he(a,l,t,t[27],o?pe(l,t[27],c,D1):_e(t[27]),Ya),se(e,u=ye(s,[c[0]&256&&t[8],c[0]&8192&&t[13]]))},i(f){o||(A(a,f),n&&n.end(1),o=!0)},o(f){S(a,f),f&&(n=Qt(e,t[5],t[6])),o=!1},d(f){f&&T(e),a&&a.d(f),t[32](null),f&&n&&n.end(),i=!1,Be(r)}}}function V1(t){let e,n,o,i,r;const l=t[28].default,a=me(l,t,t[27],Ua);let s=[t[8],t[13]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=I("div"),a&&a.c(),se(e,u)},m(f,c){M(f,e,c),a&&a.m(e,null),t[31](e),o=!0,i||(r=[je(t[8].action(e)),ee(e,"m-pointerdown",t[12]),ee(e,"m-pointerenter",t[12])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&134217984)&&he(a,l,t,t[27],o?pe(l,t[27],c,L1):_e(t[27]),Ua),se(e,u=ye(s,[c[0]&256&&t[8],c[0]&8192&&t[13]]))},i(f){o||(A(a,f),f&&(n||it(()=>{n=Zt(e,t[3],t[4]),n.start()})),o=!0)},o(f){S(a,f),o=!1},d(f){f&&T(e),a&&a.d(f),t[31](null),i=!1,Be(r)}}}function H1(t){let e,n,o,i,r,l;const a=t[28].default,s=me(a,t,t[27],Ka);let u=[t[8],t[13]],f={};for(let c=0;c<u.length;c+=1)f=Q(f,u[c]);return{c(){e=I("div"),s&&s.c(),se(e,f)},m(c,d){M(c,e,d),s&&s.m(e,null),t[30](e),i=!0,r||(l=[je(t[8].action(e)),ee(e,"m-pointerdown",t[12]),ee(e,"m-pointerenter",t[12])],r=!0)},p(c,d){t=c,s&&s.p&&(!i||d[0]&134217984)&&he(s,a,t,t[27],i?pe(a,t[27],d,F1):_e(t[27]),Ka),se(e,f=ye(u,[d[0]&256&&t[8],d[0]&8192&&t[13]]))},i(c){i||(A(s,c),c&&it(()=>{i&&(o&&o.end(1),n=Zt(e,t[3],t[4]),n.start())}),i=!0)},o(c){S(s,c),n&&n.invalidate(),c&&(o=Qt(e,t[5],t[6])),i=!1},d(c){c&&T(e),s&&s.d(c),t[30](null),c&&o&&o.end(),r=!1,Be(l)}}}function W1(t){let e,n,o,i,r;const l=t[28].default,a=me(l,t,t[27],Xa);let s=[t[8],t[13]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=I("div"),a&&a.c(),se(e,u)},m(f,c){M(f,e,c),a&&a.m(e,null),t[29](e),o=!0,i||(r=[je(t[8].action(e)),ee(e,"m-pointerdown",t[12]),ee(e,"m-pointerenter",t[12])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&134217984)&&he(a,l,t,t[27],o?pe(l,t[27],c,B1):_e(t[27]),Xa),se(e,u=ye(s,[c[0]&256&&t[8],c[0]&8192&&t[13]]))},i(f){o||(A(a,f),f&&it(()=>{o&&(n||(n=Xt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(f){S(a,f),f&&(n||(n=Xt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(f){f&&T(e),a&&a.d(f),t[29](null),f&&n&&n.end(),i=!1,Be(r)}}}function Y1(t){let e;const n=t[28].default,o=me(n,t,t[27],Ja);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r[0]&134217984)&&he(o,n,i,i[27],e?pe(n,i[27],r,j1):_e(i[27]),Ja)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function U1(t){let e,n,o,i;const r=[Y1,W1,H1,V1,G1,q1],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=Re()},m(s,u){~e&&l[e].m(s,u),M(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),~e&&l[e].d(s)}}}function K1(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","id","side","align","sideOffset","alignOffset","collisionPadding","avoidCollisions","collisionBoundary","sameWidth","fitViewport","strategy","overlap","el"];let r=le(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:p=void 0}=e,{outTransitionConfig:_=void 0}=e,{asChild:v=!1}=e,{id:w=void 0}=e,{side:k="top"}=e,{align:C="center"}=e,{sideOffset:D=0}=e,{alignOffset:L=0}=e,{collisionPadding:P=8}=e,{avoidCollisions:$=!0}=e,{collisionBoundary:G=void 0}=e,{sameWidth:R=!1}=e,{fitViewport:W=!1}=e,{strategy:y="absolute"}=e,{overlap:b=!1}=e,{el:O=void 0}=e;const{elements:{content:E},states:{open:H},ids:V,getAttrs:K}=Xl();ae(t,E,U=>n(26,a=U)),ae(t,H,U=>n(9,l=U));const z=Kn(),te=K("content");function Y(U){Ne[U?"unshift":"push"](()=>{O=U,n(0,O)})}function h(U){Ne[U?"unshift":"push"](()=>{O=U,n(0,O)})}function B(U){Ne[U?"unshift":"push"](()=>{O=U,n(0,O)})}function x(U){Ne[U?"unshift":"push"](()=>{O=U,n(0,O)})}function ne(U){Ne[U?"unshift":"push"](()=>{O=U,n(0,O)})}return t.$$set=U=>{e=Q(Q({},e),$e(U)),n(13,r=le(e,i)),"transition"in U&&n(1,f=U.transition),"transitionConfig"in U&&n(2,c=U.transitionConfig),"inTransition"in U&&n(3,d=U.inTransition),"inTransitionConfig"in U&&n(4,m=U.inTransitionConfig),"outTransition"in U&&n(5,p=U.outTransition),"outTransitionConfig"in U&&n(6,_=U.outTransitionConfig),"asChild"in U&&n(7,v=U.asChild),"id"in U&&n(14,w=U.id),"side"in U&&n(15,k=U.side),"align"in U&&n(16,C=U.align),"sideOffset"in U&&n(17,D=U.sideOffset),"alignOffset"in U&&n(18,L=U.alignOffset),"collisionPadding"in U&&n(19,P=U.collisionPadding),"avoidCollisions"in U&&n(20,$=U.avoidCollisions),"collisionBoundary"in U&&n(21,G=U.collisionBoundary),"sameWidth"in U&&n(22,R=U.sameWidth),"fitViewport"in U&&n(23,W=U.fitViewport),"strategy"in U&&n(24,y=U.strategy),"overlap"in U&&n(25,b=U.overlap),"el"in U&&n(0,O=U.el),"$$scope"in U&&n(27,u=U.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&16384&&w&&V.content.set(w),t.$$.dirty[0]&67108864&&n(8,o=a),t.$$.dirty[0]&256&&Object.assign(o,te),t.$$.dirty[0]&67076608&&l&&O1({side:k,align:C,sideOffset:D,alignOffset:L,collisionPadding:P,avoidCollisions:$,collisionBoundary:G,sameWidth:R,fitViewport:W,strategy:y,overlap:b})},[O,f,c,d,m,p,_,v,o,l,E,H,z,r,w,k,C,D,L,P,$,G,R,W,y,b,a,u,s,Y,h,B,x,ne]}let X1=class extends be{constructor(e){super(),ge(this,e,K1,U1,fe,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,id:14,side:15,align:16,sideOffset:17,alignOffset:18,collisionPadding:19,avoidCollisions:20,collisionBoundary:21,sameWidth:22,fitViewport:23,strategy:24,overlap:25,el:0},null,[-1,-1])}};const J1=t=>({builder:t&4}),xa=t=>({builder:t[2]}),x1=t=>({builder:t&4}),Za=t=>({builder:t[2]});function Z1(t){let e,n,o,i;const r=t[9].default,l=me(r,t,t[8],xa);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=I("button"),l&&l.c(),se(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[10](e),n=!0,o||(i=[je(t[2].action(e)),ee(e,"m-blur",t[4]),ee(e,"m-focus",t[4]),ee(e,"m-keydown",t[4]),ee(e,"m-pointerdown",t[4]),ee(e,"m-pointerenter",t[4]),ee(e,"m-pointerleave",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&260)&&he(l,r,u,u[8],n?pe(r,u[8],f,J1):_e(u[8]),xa),se(e,s=ye(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(A(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[10](null),o=!1,Be(i)}}}function Q1(t){let e;const n=t[9].default,o=me(n,t,t[8],Za);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&260)&&he(o,n,i,i[8],e?pe(n,i[8],r,x1):_e(i[8]),Za)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function z1(t){let e,n,o,i;const r=[Q1,Z1],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function eb(t,e,n){let o;const i=["asChild","id","el"];let r=le(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{trigger:d},ids:m,getAttrs:p}=Xl();ae(t,d,k=>n(7,l=k));const _=Kn(),v=p("trigger");function w(k){Ne[k?"unshift":"push"](()=>{c=k,n(0,c)})}return t.$$set=k=>{e=Q(Q({},e),$e(k)),n(5,r=le(e,i)),"asChild"in k&&n(1,u=k.asChild),"id"in k&&n(6,f=k.id),"el"in k&&n(0,c=k.el),"$$scope"in k&&n(8,s=k.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&f&&m.trigger.set(f),t.$$.dirty&128&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,v)},[c,u,o,d,_,r,f,l,s,a,w]}class tb extends be{constructor(e){super(),ge(this,e,eb,z1,fe,{asChild:1,id:6,el:0})}}function nb(t){let e;const n=t[5].default,o=me(n,t,t[8],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&256)&&he(o,n,i,i[8],e?pe(n,i[8],r,null):_e(i[8]),null)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function ob(t){let e,n;const o=[{builders:t[3]},{class:Fe(vo({variant:t[1],size:t[2],className:t[0]}))},{type:"button"},t[4]];let i={$$slots:{default:[nb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new O0({props:i}),e.$on("click",t[6]),e.$on("keydown",t[7]),{c(){Z(e.$$.fragment)},m(r,l){X(e,r,l),n=!0},p(r,[l]){const a=l&31?ye(o,[l&8&&{builders:r[3]},l&7&&{class:Fe(vo({variant:r[1],size:r[2],className:r[0]}))},o[2],l&16&&rt(r[4])]):{};l&256&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){J(e,r)}}}function ib(t,e,n){const o=["class","variant","size","builders"];let i=le(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{variant:s="default"}=e,{size:u="default"}=e,{builders:f=[]}=e;function c(m){oe.call(this,t,m)}function d(m){oe.call(this,t,m)}return t.$$set=m=>{e=Q(Q({},e),$e(m)),n(4,i=le(e,o)),"class"in m&&n(0,a=m.class),"variant"in m&&n(1,s=m.variant),"size"in m&&n(2,u=m.size),"builders"in m&&n(3,f=m.builders),"$$scope"in m&&n(8,l=m.$$scope)},[a,s,u,f,i,r,c,d,l]}class yt extends be{constructor(e){super(),ge(this,e,ib,ob,fe,{class:0,variant:1,size:2,builders:3})}}var Qa=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,It=t=>!t||typeof t!="object"||Object.keys(t).length===0,rb=(t,e)=>JSON.stringify(t)===JSON.stringify(e);function Zc(t,e){t.forEach(function(n){Array.isArray(n)?Zc(n,e):e.push(n)})}function Qc(t){let e=[];return Zc(t,e),e}var zc=(...t)=>Qc(t).filter(Boolean),ed=(t,e)=>{let n={},o=Object.keys(t),i=Object.keys(e);for(let r of o)if(i.includes(r)){let l=t[r],a=e[r];typeof l=="object"&&typeof a=="object"?n[r]=ed(l,a):Array.isArray(l)||Array.isArray(a)?n[r]=zc(a,l):n[r]=a+" "+l}else n[r]=t[r];for(let r of i)o.includes(r)||(n[r]=e[r]);return n},za=t=>!t||typeof t!="string"?t:t.replace(/\s+/g," ").trim(),lb={twMerge:!0,twMergeConfig:{},responsiveVariants:!1},td=t=>t||void 0,Zo=(...t)=>td(Qc(t).filter(Boolean).join(" ")),Jr=null,ln={},_l=!1,Fo=(...t)=>e=>e.twMerge?((!Jr||_l)&&(_l=!1,Jr=It(ln)?wc:ep({...ln,extend:{theme:ln.theme,classGroups:ln.classGroups,conflictingClassGroupModifiers:ln.conflictingClassGroupModifiers,conflictingClassGroups:ln.conflictingClassGroups,...ln.extend}})),td(Jr(Zo(t)))):Zo(t),eu=(t,e)=>{for(let n in e)t.hasOwnProperty(n)?t[n]=Zo(t[n],e[n]):t[n]=e[n];return t},sb=(t,e)=>{let{extend:n=null,slots:o={},variants:i={},compoundVariants:r=[],compoundSlots:l=[],defaultVariants:a={}}=t,s={...lb,...e},u=n!=null&&n.base?Zo(n.base,t==null?void 0:t.base):t==null?void 0:t.base,f=n!=null&&n.variants&&!It(n.variants)?ed(i,n.variants):i,c=n!=null&&n.defaultVariants&&!It(n.defaultVariants)?{...n.defaultVariants,...a}:a;!It(s.twMergeConfig)&&!rb(s.twMergeConfig,ln)&&(_l=!0,ln=s.twMergeConfig);let d=It(n==null?void 0:n.slots),m=It(o)?{}:{base:Zo(t==null?void 0:t.base,d&&(n==null?void 0:n.base)),...o},p=d?m:eu({...n==null?void 0:n.slots},It(m)?{base:t==null?void 0:t.base}:m),_=w=>{if(It(f)&&It(o)&&d)return Fo(u,w==null?void 0:w.class,w==null?void 0:w.className)(s);if(r&&!Array.isArray(r))throw new TypeError(`The "compoundVariants" prop must be an array. Received: ${typeof r}`);if(l&&!Array.isArray(l))throw new TypeError(`The "compoundSlots" prop must be an array. Received: ${typeof l}`);let k=(b,O,E=[],H)=>{let V=E;if(typeof O=="string")V=V.concat(za(O).split(" ").map(K=>`${b}:${K}`));else if(Array.isArray(O))V=V.concat(O.reduce((K,z)=>K.concat(`${b}:${z}`),[]));else if(typeof O=="object"&&typeof H=="string"){for(let K in O)if(O.hasOwnProperty(K)&&K===H){let z=O[K];if(z&&typeof z=="string"){let te=za(z);V[H]?V[H]=V[H].concat(te.split(" ").map(Y=>`${b}:${Y}`)):V[H]=te.split(" ").map(Y=>`${b}:${Y}`)}else Array.isArray(z)&&z.length>0&&(V[H]=z.reduce((te,Y)=>te.concat(`${b}:${Y}`),[]))}}return V},C=(b,O=f,E=null,H=null)=>{var V;let K=O[b];if(!K||It(K))return null;let z=(V=H==null?void 0:H[b])!=null?V:w==null?void 0:w[b];if(z===null)return null;let te=Qa(z),Y=Array.isArray(s.responsiveVariants)&&s.responsiveVariants.length>0||s.responsiveVariants===!0,h=c==null?void 0:c[b],B=[];if(typeof te=="object"&&Y)for(let[U,ue]of Object.entries(te)){let we=K[ue];if(U==="initial"){h=ue;continue}Array.isArray(s.responsiveVariants)&&!s.responsiveVariants.includes(U)||(B=k(U,we,B,E))}let x=te!=null&&typeof te!="object"?te:Qa(h),ne=K[x]||K.false;return typeof B=="object"&&typeof E=="string"&&B[E]?eu(B,ne):B.length>0?(B.push(ne),B):ne},D=()=>f?Object.keys(f).map(b=>C(b,f)):null,L=(b,O)=>{if(!f||typeof f!="object")return null;let E=new Array;for(let H in f){let V=C(H,f,b,O),K=b==="base"&&typeof V=="string"?V:V&&V[b];K&&(E[E.length]=K)}return E},P={};for(let b in w)w[b]!==void 0&&(P[b]=w[b]);let $=(b,O)=>{var E;let H=typeof(w==null?void 0:w[b])=="object"?{[b]:(E=w[b])==null?void 0:E.initial}:{};return{...c,...P,...H,...O}},G=(b=[],O)=>{let E=[];for(let{class:H,className:V,...K}of b){let z=!0;for(let[te,Y]of Object.entries(K)){let h=$(te,O);if(Array.isArray(Y)){if(!Y.includes(h[te])){z=!1;break}}else if(h[te]!==Y){z=!1;break}}z&&(H&&E.push(H),V&&E.push(V))}return E},R=b=>{let O=G(r,b),E=G(n==null?void 0:n.compoundVariants,b);return zc(E,O)},W=b=>{let O=R(b);if(!Array.isArray(O))return O;let E={};for(let H of O)if(typeof H=="string"&&(E.base=Fo(E.base,H)(s)),typeof H=="object")for(let[V,K]of Object.entries(H))E[V]=Fo(E[V],K)(s);return E},y=b=>{if(l.length<1)return null;let O={};for(let{slots:E=[],class:H,className:V,...K}of l){if(!It(K)){let z=!0;for(let te of Object.keys(K)){let Y=$(te,b)[te];if(Y===void 0||(Array.isArray(K[te])?!K[te].includes(Y):K[te]!==Y)){z=!1;break}}if(!z)continue}for(let z of E)O[z]=O[z]||[],O[z].push([H,V])}return O};if(!It(o)||!d){let b={};if(typeof p=="object"&&!It(p))for(let O of Object.keys(p))b[O]=E=>{var H,V;return Fo(p[O],L(O,E),((H=W(E))!=null?H:[])[O],((V=y(E))!=null?V:[])[O],E==null?void 0:E.class,E==null?void 0:E.className)(s)};return b}return Fo(u,D(),R(),w==null?void 0:w.class,w==null?void 0:w.className)(s)},v=()=>{if(!(!f||typeof f!="object"))return Object.keys(f)};return _.variantKeys=v(),_.extend=n,_.base=u,_.slots=p,_.variants=f,_.defaultVariants=c,_.compoundSlots=l,_.compoundVariants=r,_};const vo=sb({base:"inline-flex items-center justify-center rounded-md text-sm font-medium whitespace-nowrap transition-colors focus-visible:outline-none disabled:pointer-events-none disabled:opacity-50",variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}});function ab(t){let e;const n=t[2].default,o=me(n,t,t[3],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&8)&&he(o,n,i,i[3],e?pe(n,i[3],r,null):_e(i[3]),null)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function ub(t){let e,n;const o=[{class:Fe("text-lg font-semibold leading-none tracking-tight",t[0])},t[1]];let i={$$slots:{default:[ab]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new Q0({props:i}),{c(){Z(e.$$.fragment)},m(r,l){X(e,r,l),n=!0},p(r,[l]){const a=l&3?ye(o,[l&1&&{class:Fe("text-lg font-semibold leading-none tracking-tight",r[0])},l&2&&rt(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){J(e,r)}}}function fb(t,e,n){const o=["class"];let i=le(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Q(Q({},e),$e(s)),n(1,i=le(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,l=s.$$scope)},[a,i,r,l]}class Jn extends be{constructor(e){super(),ge(this,e,fb,ub,fe,{class:0})}}function cb(t){let e;const n=t[1].default,o=me(n,t,t[2],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&4)&&he(o,n,i,i[2],e?pe(n,i[2],r,null):_e(i[2]),null)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function db(t){let e,n;const o=[t[0]];let i={$$slots:{default:[cb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new dg({props:i}),{c(){Z(e.$$.fragment)},m(r,l){X(e,r,l),n=!0},p(r,[l]){const a=l&1?ye(o,[rt(r[0])]):{};l&4&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){J(e,r)}}}function mb(t,e,n){const o=[];let i=le(e,o),{$$slots:r={},$$scope:l}=e;return t.$$set=a=>{e=Q(Q({},e),$e(a)),n(0,i=le(e,o)),"$$scope"in a&&n(2,l=a.$$scope)},[i,r,l]}class pb extends be{constructor(e){super(),ge(this,e,mb,db,fe,{})}}function hb(t){let e,n,o;const i=t[3].default,r=me(i,t,t[2],null);let l=[{class:n=Fe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=Q(a,l[s]);return{c(){e=I("div"),r&&r.c(),se(e,a)},m(s,u){M(s,e,u),r&&r.m(e,null),o=!0},p(s,[u]){r&&r.p&&(!o||u&4)&&he(r,i,s,s[2],o?pe(i,s[2],u,null):_e(s[2]),null),se(e,a=ye(l,[(!o||u&1&&n!==(n=Fe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(A(r,s),o=!0)},o(s){S(r,s),o=!1},d(s){s&&T(e),r&&r.d(s)}}}function _b(t,e,n){const o=["class"];let i=le(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Q(Q({},e),$e(s)),n(1,i=le(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,i,l,r]}class Io extends be{constructor(e){super(),ge(this,e,_b,hb,fe,{class:0})}}function gb(t){let e,n,o;const i=t[3].default,r=me(i,t,t[2],null);let l=[{class:n=Fe("flex flex-col space-y-1.5 text-center sm:text-left",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=Q(a,l[s]);return{c(){e=I("div"),r&&r.c(),se(e,a)},m(s,u){M(s,e,u),r&&r.m(e,null),o=!0},p(s,[u]){r&&r.p&&(!o||u&4)&&he(r,i,s,s[2],o?pe(i,s[2],u,null):_e(s[2]),null),se(e,a=ye(l,[(!o||u&1&&n!==(n=Fe("flex flex-col space-y-1.5 text-center sm:text-left",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(A(r,s),o=!0)},o(s){S(r,s),o=!1},d(s){s&&T(e),r&&r.d(s)}}}function bb(t,e,n){const o=["class"];let i=le(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Q(Q({},e),$e(s)),n(1,i=le(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,i,l,r]}class xn extends be{constructor(e){super(),ge(this,e,bb,gb,fe,{class:0})}}function nd(t,{delay:e=0,duration:n=400,easing:o=pr}={}){const i=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:o,css:r=>`opacity: ${r*i}`}}function vb(t){let e,n;const o=[{transition:t[1]},{transitionConfig:t[2]},{class:Fe("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm",t[0])},t[3]];let i={};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new Fg({props:i}),{c(){Z(e.$$.fragment)},m(r,l){X(e,r,l),n=!0},p(r,[l]){const a=l&15?ye(o,[l&2&&{transition:r[1]},l&4&&{transitionConfig:r[2]},l&1&&{class:Fe("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm",r[0])},l&8&&rt(r[3])]):{};e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){J(e,r)}}}function yb(t,e,n){const o=["class","transition","transitionConfig"];let i=le(e,o),{class:r=void 0}=e,{transition:l=nd}=e,{transitionConfig:a={duration:150}}=e;return t.$$set=s=>{e=Q(Q({},e),$e(s)),n(3,i=le(e,o)),"class"in s&&n(0,r=s.class),"transition"in s&&n(1,l=s.transition),"transitionConfig"in s&&n(2,a=s.transitionConfig)},[r,l,a,i]}class wb extends be{constructor(e){super(),ge(this,e,yb,vb,fe,{class:0,transition:1,transitionConfig:2})}}/**
 * @license lucide-svelte v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tu={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};function nu(t,e,n){const o=t.slice();return o[11]=e[n][0],o[12]=e[n][1],o}function xr(t){let e,n=[t[12]],o={};for(let i=0;i<n.length;i+=1)o=Q(o,n[i]);return{c(){e=hr(t[11]),Bi(e,o)},m(i,r){M(i,e,r)},p(i,r){Bi(e,o=ye(n,[r&32&&i[12]]))},d(i){i&&T(e)}}}function ou(t){let e=t[11],n,o=t[11]&&xr(t);return{c(){o&&o.c(),n=Re()},m(i,r){o&&o.m(i,r),M(i,n,r)},p(i,r){i[11]?e?fe(e,i[11])?(o.d(1),o=xr(i),e=i[11],o.c(),o.m(n.parentNode,n)):o.p(i,r):(o=xr(i),e=i[11],o.c(),o.m(n.parentNode,n)):e&&(o.d(1),o=null,e=i[11])},d(i){i&&T(n),o&&o.d(i)}}}function kb(t){let e,n,o,i,r,l=Ye(t[5]),a=[];for(let d=0;d<l.length;d+=1)a[d]=ou(nu(t,l,d));const s=t[10].default,u=me(s,t,t[9],null);let f=[tu,t[7],{width:t[2]},{height:t[2]},{stroke:t[1]},{"stroke-width":o=t[4]?Number(t[3])*24/Number(t[2]):t[3]},{class:i=t[6]("lucide-icon","lucide",t[0]?`lucide-${t[0]}`:"",t[8].class)}],c={};for(let d=0;d<f.length;d+=1)c=Q(c,f[d]);return{c(){e=hr("svg");for(let d=0;d<a.length;d+=1)a[d].c();n=Re(),u&&u.c(),Bi(e,c)},m(d,m){M(d,e,m);for(let p=0;p<a.length;p+=1)a[p]&&a[p].m(e,null);g(e,n),u&&u.m(e,null),r=!0},p(d,[m]){if(m&32){l=Ye(d[5]);let p;for(p=0;p<l.length;p+=1){const _=nu(d,l,p);a[p]?a[p].p(_,m):(a[p]=ou(_),a[p].c(),a[p].m(e,n))}for(;p<a.length;p+=1)a[p].d(1);a.length=l.length}u&&u.p&&(!r||m&512)&&he(u,s,d,d[9],r?pe(s,d[9],m,null):_e(d[9]),null),Bi(e,c=ye(f,[tu,m&128&&d[7],(!r||m&4)&&{width:d[2]},(!r||m&4)&&{height:d[2]},(!r||m&2)&&{stroke:d[1]},(!r||m&28&&o!==(o=d[4]?Number(d[3])*24/Number(d[2]):d[3]))&&{"stroke-width":o},(!r||m&257&&i!==(i=d[6]("lucide-icon","lucide",d[0]?`lucide-${d[0]}`:"",d[8].class)))&&{class:i}]))},i(d){r||(A(u,d),r=!0)},o(d){S(u,d),r=!1},d(d){d&&T(e),_t(a,d),u&&u.d(d)}}}function Cb(t,e,n){const o=["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode","mergeClasses"];let i=le(e,o),{$$slots:r={},$$scope:l}=e,{name:a=void 0}=e,{color:s="currentColor"}=e,{size:u=24}=e,{strokeWidth:f=2}=e,{absoluteStrokeWidth:c=!1}=e,{iconNode:d}=e;const m=(...p)=>p.filter((_,v,w)=>!!_&&w.indexOf(_)===v).join(" ");return t.$$set=p=>{n(8,e=Q(Q({},e),$e(p))),n(7,i=le(e,o)),"name"in p&&n(0,a=p.name),"color"in p&&n(1,s=p.color),"size"in p&&n(2,u=p.size),"strokeWidth"in p&&n(3,f=p.strokeWidth),"absoluteStrokeWidth"in p&&n(4,c=p.absoluteStrokeWidth),"iconNode"in p&&n(5,d=p.iconNode),"$$scope"in p&&n(9,l=p.$$scope)},e=$e(e),[a,s,u,f,c,d,m,i,e,l,r]}class Ab extends be{constructor(e){super(),ge(this,e,Cb,kb,fe,{name:0,color:1,size:2,strokeWidth:3,absoluteStrokeWidth:4,iconNode:5,mergeClasses:6})}get mergeClasses(){return this.$$.ctx[6]}}function Sb(t){let e;const n=t[2].default,o=me(n,t,t[3],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&8)&&he(o,n,i,i[3],e?pe(n,i[3],r,null):_e(i[3]),null)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Tb(t){let e,n;const o=[{name:"x"},t[1],{iconNode:t[0]}];let i={$$slots:{default:[Sb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new Ab({props:i}),{c(){Z(e.$$.fragment)},m(r,l){X(e,r,l),n=!0},p(r,[l]){const a=l&3?ye(o,[o[0],l&2&&rt(r[1]),l&1&&{iconNode:r[0]}]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){J(e,r)}}}function Mb(t,e,n){let{$$slots:o={},$$scope:i}=e;const r=[["path",{d:"M18 6 6 18"}],["path",{d:"m6 6 12 12"}]];return t.$$set=l=>{n(1,e=Q(Q({},e),$e(l))),"$$scope"in l&&n(3,i=l.$$scope)},e=$e(e),[r,e,o,i]}class Ib extends be{constructor(e){super(),ge(this,e,Mb,Tb,fe,{})}}function Ob(t){let e,n,o,i;return e=new Ib({props:{class:"h-4 w-4"}}),{c(){Z(e.$$.fragment),n=q(),o=I("span"),o.textContent="Close",N(o,"class","sr-only")},m(r,l){X(e,r,l),M(r,n,l),M(r,o,l),i=!0},p:Ce,i(r){i||(A(e.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),i=!1},d(r){r&&(T(n),T(o)),J(e,r)}}}function Pb(t){let e,n,o;const i=t[4].default,r=me(i,t,t[5],null);return n=new rg({props:{class:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",$$slots:{default:[Ob]},$$scope:{ctx:t}}}),{c(){r&&r.c(),e=q(),Z(n.$$.fragment)},m(l,a){r&&r.m(l,a),M(l,e,a),X(n,l,a),o=!0},p(l,a){r&&r.p&&(!o||a&32)&&he(r,i,l,l[5],o?pe(i,l[5],a,null):_e(l[5]),null);const s={};a&32&&(s.$$scope={dirty:a,ctx:l}),n.$set(s)},i(l){o||(A(r,l),A(n.$$.fragment,l),o=!0)},o(l){S(r,l),S(n.$$.fragment,l),o=!1},d(l){l&&T(e),r&&r.d(l),J(n,l)}}}function Nb(t){let e,n,o,i;e=new wb({});const r=[{transition:t[1]},{transitionConfig:t[2]},{class:Fe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg md:w-full",t[0])},t[3]];let l={$$slots:{default:[Pb]},$$scope:{ctx:t}};for(let a=0;a<r.length;a+=1)l=Q(l,r[a]);return o=new Mg({props:l}),{c(){Z(e.$$.fragment),n=q(),Z(o.$$.fragment)},m(a,s){X(e,a,s),M(a,n,s),X(o,a,s),i=!0},p(a,s){const u=s&15?ye(r,[s&2&&{transition:a[1]},s&4&&{transitionConfig:a[2]},s&1&&{class:Fe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg md:w-full",a[0])},s&8&&rt(a[3])]):{};s&32&&(u.$$scope={dirty:s,ctx:a}),o.$set(u)},i(a){i||(A(e.$$.fragment,a),A(o.$$.fragment,a),i=!0)},o(a){S(e.$$.fragment,a),S(o.$$.fragment,a),i=!1},d(a){a&&T(n),J(e,a),J(o,a)}}}function Eb(t){let e,n;return e=new pb({props:{$$slots:{default:[Nb]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment)},m(o,i){X(e,o,i),n=!0},p(o,[i]){const r={};i&47&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){J(e,o)}}}function $b(t,e,n){const o=["class","transition","transitionConfig"];let i=le(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{transition:s=vr}=e,{transitionConfig:u={duration:200}}=e;return t.$$set=f=>{e=Q(Q({},e),$e(f)),n(3,i=le(e,o)),"class"in f&&n(0,a=f.class),"transition"in f&&n(1,s=f.transition),"transitionConfig"in f&&n(2,u=f.transitionConfig),"$$scope"in f&&n(5,l=f.$$scope)},[a,s,u,i,r,l]}class Zn extends be{constructor(e){super(),ge(this,e,$b,Eb,fe,{class:0,transition:1,transitionConfig:2})}}function Rb(t){let e;const n=t[2].default,o=me(n,t,t[3],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&8)&&he(o,n,i,i[3],e?pe(n,i[3],r,null):_e(i[3]),null)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Db(t){let e,n;const o=[{class:Fe("text-sm text-muted-foreground",t[0])},t[1]];let i={$$slots:{default:[Rb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new Wg({props:i}),{c(){Z(e.$$.fragment)},m(r,l){X(e,r,l),n=!0},p(r,[l]){const a=l&3?ye(o,[l&1&&{class:Fe("text-sm text-muted-foreground",r[0])},l&2&&rt(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){J(e,r)}}}function Lb(t,e,n){const o=["class"];let i=le(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Q(Q({},e),$e(s)),n(1,i=le(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,l=s.$$scope)},[a,i,r,l]}class Qn extends be{constructor(e){super(),ge(this,e,Lb,Db,fe,{class:0})}}const zn=Y0;function Fb(t){let e,n,o,i,r=[{class:n=Fe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t[1])},t[2]],l={};for(let a=0;a<r.length;a+=1)l=Q(l,r[a]);return{c(){e=I("input"),se(e,l)},m(a,s){M(a,e,s),e.autofocus&&e.focus(),rn(e,t[0]),o||(i=[ee(e,"input",t[17]),ee(e,"blur",t[3]),ee(e,"change",t[4]),ee(e,"click",t[5]),ee(e,"focus",t[6]),ee(e,"focusin",t[7]),ee(e,"focusout",t[8]),ee(e,"keydown",t[9]),ee(e,"keypress",t[10]),ee(e,"keyup",t[11]),ee(e,"mouseover",t[12]),ee(e,"mouseenter",t[13]),ee(e,"mouseleave",t[14]),ee(e,"paste",t[15]),ee(e,"input",t[16])],o=!0)},p(a,[s]){se(e,l=ye(r,[s&2&&n!==(n=Fe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a[1]))&&{class:n},s&4&&a[2]])),s&1&&e.value!==a[0]&&rn(e,a[0])},i:Ce,o:Ce,d(a){a&&T(e),o=!1,Be(i)}}}function Bb(t,e,n){const o=["class","value"];let i=le(e,o),{class:r=void 0}=e,{value:l=void 0}=e;function a(P){oe.call(this,t,P)}function s(P){oe.call(this,t,P)}function u(P){oe.call(this,t,P)}function f(P){oe.call(this,t,P)}function c(P){oe.call(this,t,P)}function d(P){oe.call(this,t,P)}function m(P){oe.call(this,t,P)}function p(P){oe.call(this,t,P)}function _(P){oe.call(this,t,P)}function v(P){oe.call(this,t,P)}function w(P){oe.call(this,t,P)}function k(P){oe.call(this,t,P)}function C(P){oe.call(this,t,P)}function D(P){oe.call(this,t,P)}function L(){l=this.value,n(0,l)}return t.$$set=P=>{e=Q(Q({},e),$e(P)),n(2,i=le(e,o)),"class"in P&&n(1,r=P.class),"value"in P&&n(0,l=P.value)},[l,r,i,a,s,u,f,c,d,m,p,_,v,w,k,C,D,L]}class Jl extends be{constructor(e){super(),ge(this,e,Bb,Fb,fe,{class:1,value:0})}}function jb(t){let e;const n=t[2].default,o=me(n,t,t[4],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&16)&&he(o,n,i,i[4],e?pe(n,i[4],r,null):_e(i[4]),null)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function qb(t){let e,n;const o=[{class:Fe("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",t[0])},t[1]];let i={$$slots:{default:[jb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new Qg({props:i}),e.$on("mousedown",t[3]),{c(){Z(e.$$.fragment)},m(r,l){X(e,r,l),n=!0},p(r,[l]){const a=l&3?ye(o,[l&1&&{class:Fe("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",r[0])},l&2&&rt(r[1])]):{};l&16&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){J(e,r)}}}function Gb(t,e,n){const o=["class"];let i=le(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(u){oe.call(this,t,u)}return t.$$set=u=>{e=Q(Q({},e),$e(u)),n(1,i=le(e,o)),"class"in u&&n(0,a=u.class),"$$scope"in u&&n(4,l=u.$$scope)},[a,i,r,s,l]}class fo extends be{constructor(e){super(),ge(this,e,Gb,qb,fe,{class:0})}}const Hn={land:{short_title:"Fill the grid",description_title:"You win by filling up all possible plots in the grid, and by meeting some requirements.",win:"You have filled the grid with buildings and met the requirements. Your citizens are happy, fulfilled, hard-working, and healthy. ",requirements:{0:{population_count:200,happiness:100,health:100,employment:1,knowledge:50,required_plots:["pub","small_school","community_center"]},1:{population_count:1e3,happiness:120,health:120,employment:1,knowledge:100,required_plots:["bank"]},2:{population_count:1e3,happiness:200,health:200,employment:1,knowledge:1e3,required_plots:["bank","city_hall"]}}},free_play:{short_title:"Quests",description_title:"Play for as long as you can and build the best city you can while completing quests."}};function Vb(t){let e,n;const o=[{class:Fe("shrink-0 bg-border",t[1]==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t[0])},{orientation:t[1]},{decorative:t[2]},t[3]];let i={};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new q0({props:i}),{c(){Z(e.$$.fragment)},m(r,l){X(e,r,l),n=!0},p(r,[l]){const a=l&15?ye(o,[l&3&&{class:Fe("shrink-0 bg-border",r[1]==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",r[0])},l&2&&{orientation:r[1]},l&4&&{decorative:r[2]},l&8&&rt(r[3])]):{};e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){J(e,r)}}}function Hb(t,e,n){const o=["class","orientation","decorative"];let i=le(e,o),{class:r=void 0}=e,{orientation:l="horizontal"}=e,{decorative:a=void 0}=e;return t.$$set=s=>{e=Q(Q({},e),$e(s)),n(3,i=le(e,o)),"class"in s&&n(0,r=s.class),"orientation"in s&&n(1,l=s.orientation),"decorative"in s&&n(2,a=s.decorative)},[r,l,a,i]}class wt extends be{constructor(e){super(),ge(this,e,Hb,Vb,fe,{class:0,orientation:1,decorative:2})}}function Wb(t){let e;const n=t[3].default,o=me(n,t,t[4],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&16)&&he(o,n,i,i[4],e?pe(n,i[4],r,null):_e(i[4]),null)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Yb(t){let e,n;const o=[{class:Fe("text-lg font-semibold",t[0])},{level:t[1]},t[2]];let i={$$slots:{default:[Wb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new A_({props:i}),{c(){Z(e.$$.fragment)},m(r,l){X(e,r,l),n=!0},p(r,[l]){const a=l&7?ye(o,[l&1&&{class:Fe("text-lg font-semibold",r[0])},l&2&&{level:r[1]},l&4&&rt(r[2])]):{};l&16&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){J(e,r)}}}function Ub(t,e,n){const o=["class","level"];let i=le(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{level:s="h3"}=e;return t.$$set=u=>{e=Q(Q({},e),$e(u)),n(2,i=le(e,o)),"class"in u&&n(0,a=u.class),"level"in u&&n(1,s=u.level),"$$scope"in u&&n(4,l=u.$$scope)},[a,s,i,r,l]}class xl extends be{constructor(e){super(),ge(this,e,Ub,Yb,fe,{class:0,level:1})}}const Kb=t=>({builder:t&64}),iu=t=>({builder:t[6]});function Xb(t){let e;const n=t[2].default,o=me(n,t,t[5],iu);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&96)&&he(o,n,i,i[5],e?pe(n,i[5],r,Kb):_e(i[5]),iu)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Jb(t){let e,n;const o=[{class:Fe(vo(),t[0])},t[1]];let i={$$slots:{default:[Xb,({builder:r})=>({6:r}),({builder:r})=>r?64:0]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new N_({props:i}),e.$on("click",t[3]),e.$on("keydown",t[4]),{c(){Z(e.$$.fragment)},m(r,l){X(e,r,l),n=!0},p(r,[l]){const a=l&3?ye(o,[l&1&&{class:Fe(vo(),r[0])},l&2&&rt(r[1])]):{};l&96&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){J(e,r)}}}function xb(t,e,n){const o=["class"];let i=le(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(f){oe.call(this,t,f)}function u(f){oe.call(this,t,f)}return t.$$set=f=>{e=Q(Q({},e),$e(f)),n(1,i=le(e,o)),"class"in f&&n(0,a=f.class),"$$scope"in f&&n(5,l=f.$$scope)},[a,i,r,s,u,l]}class od extends be{constructor(e){super(),ge(this,e,xb,Jb,fe,{class:0})}}const Zb=t=>({builder:t&64}),ru=t=>({builder:t[6]});function Qb(t){let e;const n=t[2].default,o=me(n,t,t[5],ru);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&96)&&he(o,n,i,i[5],e?pe(n,i[5],r,Zb):_e(i[5]),ru)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function zb(t){let e,n;const o=[{class:Fe(vo({variant:"default"}),"mt-2 sm:mt-0",t[0])},t[1]];let i={$$slots:{default:[Qb,({builder:r})=>({6:r}),({builder:r})=>r?64:0]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new B_({props:i}),e.$on("click",t[3]),e.$on("keydown",t[4]),{c(){Z(e.$$.fragment)},m(r,l){X(e,r,l),n=!0},p(r,[l]){const a=l&3?ye(o,[l&1&&{class:Fe(vo({variant:"default"}),"mt-2 sm:mt-0",r[0])},l&2&&rt(r[1])]):{};l&96&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){J(e,r)}}}function ev(t,e,n){const o=["class"];let i=le(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(f){oe.call(this,t,f)}function u(f){oe.call(this,t,f)}return t.$$set=f=>{e=Q(Q({},e),$e(f)),n(1,i=le(e,o)),"class"in f&&n(0,a=f.class),"$$scope"in f&&n(5,l=f.$$scope)},[a,i,r,s,u,l]}class id extends be{constructor(e){super(),ge(this,e,ev,zb,fe,{class:0})}}function tv(t){let e;const n=t[1].default,o=me(n,t,t[2],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&4)&&he(o,n,i,i[2],e?pe(n,i[2],r,null):_e(i[2]),null)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function nv(t){let e,n;const o=[t[0]];let i={$$slots:{default:[tv]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new Y_({props:i}),{c(){Z(e.$$.fragment)},m(r,l){X(e,r,l),n=!0},p(r,[l]){const a=l&1?ye(o,[rt(r[0])]):{};l&4&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){J(e,r)}}}function ov(t,e,n){const o=[];let i=le(e,o),{$$slots:r={},$$scope:l}=e;return t.$$set=a=>{e=Q(Q({},e),$e(a)),n(0,i=le(e,o)),"$$scope"in a&&n(2,l=a.$$scope)},[i,r,l]}class iv extends be{constructor(e){super(),ge(this,e,ov,nv,fe,{})}}function rv(t){let e,n,o;const i=t[3].default,r=me(i,t,t[2],null);let l=[{class:n=Fe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=Q(a,l[s]);return{c(){e=I("div"),r&&r.c(),se(e,a)},m(s,u){M(s,e,u),r&&r.m(e,null),o=!0},p(s,[u]){r&&r.p&&(!o||u&4)&&he(r,i,s,s[2],o?pe(i,s[2],u,null):_e(s[2]),null),se(e,a=ye(l,[(!o||u&1&&n!==(n=Fe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(A(r,s),o=!0)},o(s){S(r,s),o=!1},d(s){s&&T(e),r&&r.d(s)}}}function lv(t,e,n){const o=["class"];let i=le(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Q(Q({},e),$e(s)),n(1,i=le(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,i,l,r]}class Tr extends be{constructor(e){super(),ge(this,e,lv,rv,fe,{class:0})}}function sv(t){let e,n,o;const i=t[3].default,r=me(i,t,t[2],null);let l=[{class:n=Fe("flex flex-col space-y-2 text-center sm:text-left",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=Q(a,l[s]);return{c(){e=I("div"),r&&r.c(),se(e,a)},m(s,u){M(s,e,u),r&&r.m(e,null),o=!0},p(s,[u]){r&&r.p&&(!o||u&4)&&he(r,i,s,s[2],o?pe(i,s[2],u,null):_e(s[2]),null),se(e,a=ye(l,[(!o||u&1&&n!==(n=Fe("flex flex-col space-y-2 text-center sm:text-left",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(A(r,s),o=!0)},o(s){S(r,s),o=!1},d(s){s&&T(e),r&&r.d(s)}}}function av(t,e,n){const o=["class"];let i=le(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Q(Q({},e),$e(s)),n(1,i=le(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,i,l,r]}class Zl extends be{constructor(e){super(),ge(this,e,av,sv,fe,{class:0})}}function uv(t){let e,n;const o=[{transition:t[1]},{transitionConfig:t[2]},{class:Fe("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm ",t[0])},t[3]];let i={};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new _0({props:i}),{c(){Z(e.$$.fragment)},m(r,l){X(e,r,l),n=!0},p(r,[l]){const a=l&15?ye(o,[l&2&&{transition:r[1]},l&4&&{transitionConfig:r[2]},l&1&&{class:Fe("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm ",r[0])},l&8&&rt(r[3])]):{};e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){J(e,r)}}}function fv(t,e,n){const o=["class","transition","transitionConfig"];let i=le(e,o),{class:r=void 0}=e,{transition:l=nd}=e,{transitionConfig:a={duration:150}}=e;return t.$$set=s=>{e=Q(Q({},e),$e(s)),n(3,i=le(e,o)),"class"in s&&n(0,r=s.class),"transition"in s&&n(1,l=s.transition),"transitionConfig"in s&&n(2,a=s.transitionConfig)},[r,l,a,i]}class cv extends be{constructor(e){super(),ge(this,e,fv,uv,fe,{class:0,transition:1,transitionConfig:2})}}function dv(t){let e;const n=t[4].default,o=me(n,t,t[5],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&32)&&he(o,n,i,i[5],e?pe(n,i[5],r,null):_e(i[5]),null)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function mv(t){let e,n,o,i;e=new cv({});const r=[{transition:t[0]},{transitionConfig:t[1]},{class:Fe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg md:w-full",t[2])},t[3]];let l={$$slots:{default:[dv]},$$scope:{ctx:t}};for(let a=0;a<r.length;a+=1)l=Q(l,r[a]);return o=new l0({props:l}),{c(){Z(e.$$.fragment),n=q(),Z(o.$$.fragment)},m(a,s){X(e,a,s),M(a,n,s),X(o,a,s),i=!0},p(a,s){const u=s&15?ye(r,[s&1&&{transition:a[0]},s&2&&{transitionConfig:a[1]},s&4&&{class:Fe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg md:w-full",a[2])},s&8&&rt(a[3])]):{};s&32&&(u.$$scope={dirty:s,ctx:a}),o.$set(u)},i(a){i||(A(e.$$.fragment,a),A(o.$$.fragment,a),i=!0)},o(a){S(e.$$.fragment,a),S(o.$$.fragment,a),i=!1},d(a){a&&T(n),J(e,a),J(o,a)}}}function pv(t){let e,n;return e=new iv({props:{$$slots:{default:[mv]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment)},m(o,i){X(e,o,i),n=!0},p(o,[i]){const r={};i&47&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){J(e,o)}}}function hv(t,e,n){const o=["transition","transitionConfig","class"];let i=le(e,o),{$$slots:r={},$$scope:l}=e,{transition:a=vr}=e,{transitionConfig:s=void 0}=e,{class:u=void 0}=e;return t.$$set=f=>{e=Q(Q({},e),$e(f)),n(3,i=le(e,o)),"transition"in f&&n(0,a=f.transition),"transitionConfig"in f&&n(1,s=f.transitionConfig),"class"in f&&n(2,u=f.class),"$$scope"in f&&n(5,l=f.$$scope)},[a,s,u,i,r,l]}class Mr extends be{constructor(e){super(),ge(this,e,hv,pv,fe,{transition:0,transitionConfig:1,class:2})}}function _v(t){let e;const n=t[2].default,o=me(n,t,t[3],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&8)&&he(o,n,i,i[3],e?pe(n,i[3],r,null):_e(i[3]),null)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function gv(t){let e,n;const o=[{class:Fe("text-sm text-muted-foreground",t[0])},t[1]];let i={$$slots:{default:[_v]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new C0({props:i}),{c(){Z(e.$$.fragment)},m(r,l){X(e,r,l),n=!0},p(r,[l]){const a=l&3?ye(o,[l&1&&{class:Fe("text-sm text-muted-foreground",r[0])},l&2&&rt(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){J(e,r)}}}function bv(t,e,n){const o=["class"];let i=le(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Q(Q({},e),$e(s)),n(1,i=le(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,l=s.$$scope)},[a,i,r,l]}class Ql extends be{constructor(e){super(),ge(this,e,bv,gv,fe,{class:0})}}const Ir=g_;function lu(t,e,n){const o=t.slice();return o[25]=e[n],o}function su(t,e,n){const o=t.slice();return o[28]=e[n],o}function vv(t){let e;return{c(){e=F("Pause Menu")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function yv(t){let e;return{c(){e=F("Unpause any time by pressing 'P'")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function wv(t){let e,n,o,i;return e=new Jn({props:{$$slots:{default:[vv]},$$scope:{ctx:t}}}),o=new Qn({props:{$$slots:{default:[yv]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment),n=q(),Z(o.$$.fragment)},m(r,l){X(e,r,l),M(r,n,l),X(o,r,l),i=!0},p(r,l){const a={};l[1]&1&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l[1]&1&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),J(e,r),J(o,r)}}}function au(t){let e,n,o,i,r,l=JSON.stringify(t[5].requirements[t[2].difficulty].population_count)+"",a,s,u=JSON.stringify(t[2].townInfo.population_count)+"",f,c,d,m,p=JSON.stringify(t[5].requirements[t[2].difficulty].happiness)+"",_,v,w=JSON.stringify(t[2].townInfo.happiness)+"",k,C,D,L,P=JSON.stringify(t[5].requirements[t[2].difficulty].employment*100)+"",$,G,R=JSON.stringify((t[2].townInfo.employees/t[2].townInfo.population_count||0)*100)+"",W,y,b,O,E,H=JSON.stringify(t[5].requirements[t[2].difficulty].health)+"",V,K,z=JSON.stringify(t[2].townInfo.health)+"",te,Y,h,B,x=JSON.stringify(t[5].requirements[t[2].difficulty].knowledge)+"",ne,U,ue=JSON.stringify(t[2].townInfo.knowledge_points)+"",we,Ae,Ue;function Ge(ve,Xe){return ve[2].townInfo.population_count>=ve[5].requirements[ve[2].difficulty].population_count?Cv:kv}let xe=Ge(t),de=xe(t);function Ee(ve,Xe){return ve[2].townInfo.happiness>=ve[5].requirements[ve[2].difficulty].happiness?Sv:Av}let De=Ee(t),Ve=De(t);function Ke(ve,Xe){return ve[2].townInfo.employees/ve[2].townInfo.population_count>=ve[5].requirements[ve[2].difficulty].employment?Mv:Tv}let ke=Ke(t),Te=ke(t);function $t(ve,Xe){return ve[2].townInfo.health>=ve[5].requirements[ve[2].difficulty].health?Ov:Iv}let kt=$t(t),ft=kt(t);function en(ve,Xe){return ve[2].townInfo.knowledge_points>=ve[5].requirements[ve[2].difficulty].knowledge?Nv:Pv}let Mt=en(t),ct=Mt(t),Je=t[5].requirements[t[2].difficulty].required_plots!=null&&t[5].requirements[t[2].difficulty].required_plots.length>0&&uu(t);return{c(){e=I("div"),e.textContent=`With your difficulty (${t[6]}), you must also have:`,n=q(),o=I("ul"),i=I("li"),de.c(),r=F(`
                  Population: `),a=F(l),s=F(" - Currently at "),f=F(u),c=q(),d=I("li"),Ve.c(),m=F(`
                  Happiness: `),_=F(p),v=F(" - Currently at "),k=F(w),C=q(),D=I("li"),Te.c(),L=F(`
                  Employment: `),$=F(P),G=F("% - Currently at "),W=F(R),y=F("%"),b=q(),O=I("li"),ft.c(),E=F(`
                  Health: `),V=F(H),K=F(" - Currently at "),te=F(z),Y=q(),h=I("li"),ct.c(),B=F(`
                  Knowledge: `),ne=F(x),U=F(" - Currently at "),we=F(ue),Ae=q(),Je&&Je.c(),Ue=Re(),N(e,"class","leading-relaxed text-sm"),N(o,"class","list-inside list-disc leading-relaxedmt-0 text-sm")},m(ve,Xe){M(ve,e,Xe),M(ve,n,Xe),M(ve,o,Xe),g(o,i),de.m(i,null),g(i,r),g(i,a),g(i,s),g(i,f),g(o,c),g(o,d),Ve.m(d,null),g(d,m),g(d,_),g(d,v),g(d,k),g(o,C),g(o,D),Te.m(D,null),g(D,L),g(D,$),g(D,G),g(D,W),g(D,y),g(o,b),g(o,O),ft.m(O,null),g(O,E),g(O,V),g(O,K),g(O,te),g(o,Y),g(o,h),ct.m(h,null),g(h,B),g(h,ne),g(h,U),g(h,we),M(ve,Ae,Xe),Je&&Je.m(ve,Xe),M(ve,Ue,Xe)},p(ve,Xe){xe!==(xe=Ge(ve))&&(de.d(1),de=xe(ve),de&&(de.c(),de.m(i,r))),Xe[0]&4&&l!==(l=JSON.stringify(ve[5].requirements[ve[2].difficulty].population_count)+"")&&re(a,l),Xe[0]&4&&u!==(u=JSON.stringify(ve[2].townInfo.population_count)+"")&&re(f,u),De!==(De=Ee(ve))&&(Ve.d(1),Ve=De(ve),Ve&&(Ve.c(),Ve.m(d,m))),Xe[0]&4&&p!==(p=JSON.stringify(ve[5].requirements[ve[2].difficulty].happiness)+"")&&re(_,p),Xe[0]&4&&w!==(w=JSON.stringify(ve[2].townInfo.happiness)+"")&&re(k,w),ke!==(ke=Ke(ve))&&(Te.d(1),Te=ke(ve),Te&&(Te.c(),Te.m(D,L))),Xe[0]&4&&P!==(P=JSON.stringify(ve[5].requirements[ve[2].difficulty].employment*100)+"")&&re($,P),Xe[0]&4&&R!==(R=JSON.stringify((ve[2].townInfo.employees/ve[2].townInfo.population_count||0)*100)+"")&&re(W,R),kt!==(kt=$t(ve))&&(ft.d(1),ft=kt(ve),ft&&(ft.c(),ft.m(O,E))),Xe[0]&4&&H!==(H=JSON.stringify(ve[5].requirements[ve[2].difficulty].health)+"")&&re(V,H),Xe[0]&4&&z!==(z=JSON.stringify(ve[2].townInfo.health)+"")&&re(te,z),Mt!==(Mt=en(ve))&&(ct.d(1),ct=Mt(ve),ct&&(ct.c(),ct.m(h,B))),Xe[0]&4&&x!==(x=JSON.stringify(ve[5].requirements[ve[2].difficulty].knowledge)+"")&&re(ne,x),Xe[0]&4&&ue!==(ue=JSON.stringify(ve[2].townInfo.knowledge_points)+"")&&re(we,ue),ve[5].requirements[ve[2].difficulty].required_plots!=null&&ve[5].requirements[ve[2].difficulty].required_plots.length>0?Je?Je.p(ve,Xe):(Je=uu(ve),Je.c(),Je.m(Ue.parentNode,Ue)):Je&&(Je.d(1),Je=null)},d(ve){ve&&(T(e),T(n),T(o),T(Ae),T(Ue)),de.d(),Ve.d(),Te.d(),ft.d(),ct.d(),Je&&Je.d(ve)}}}function kv(t){let e;return{c(){e=F("❌")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Cv(t){let e;return{c(){e=F("✅")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Av(t){let e;return{c(){e=F("❌")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Sv(t){let e;return{c(){e=F("✅")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Tv(t){let e;return{c(){e=F("❌")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Mv(t){let e;return{c(){e=F("✅")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Iv(t){let e;return{c(){e=F("❌")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Ov(t){let e;return{c(){e=F("✅")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Pv(t){let e;return{c(){e=F("❌")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Nv(t){let e;return{c(){e=F("✅")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function uu(t){let e,n,o,i=Ye(t[5].requirements[t[2].difficulty].required_plots),r=[];for(let l=0;l<i.length;l+=1)r[l]=fu(su(t,i,l));return{c(){e=I("br"),n=F(`
                You also need to have these plots:
                `);for(let l=0;l<r.length;l+=1)r[l].c();o=Re()},m(l,a){M(l,e,a),M(l,n,a);for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(l,a);M(l,o,a)},p(l,a){if(a[0]&36){i=Ye(l[5].requirements[l[2].difficulty].required_plots);let s;for(s=0;s<i.length;s+=1){const u=su(l,i,s);r[s]?r[s].p(u,a):(r[s]=fu(u),r[s].c(),r[s].m(o.parentNode,o))}for(;s<r.length;s+=1)r[s].d(1);r.length=i.length}},d(l){l&&(T(e),T(n),T(o)),_t(r,l)}}}function Ev(t){let e;return{c(){e=F("❌")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function $v(t){let e;return{c(){e=F("✅")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function fu(t){let e,n,o,i,r=t[28]+"",l,a;function s(c,d){return d[0]&4&&(o=null),o==null&&(o=He(c[28],c[2]).length>0),o?$v:Ev}let u=s(t,[-1,-1]),f=u(t);return{c(){e=I("div"),n=I("li"),f.c(),i=q(),l=F(r),a=q(),N(e,"class","text-sm")},m(c,d){M(c,e,d),g(e,n),f.m(n,null),g(n,i),g(n,l),g(e,a)},p(c,d){u!==(u=s(c,d))&&(f.d(1),f=u(c),f&&(f.c(),f.m(n,i))),d[0]&4&&r!==(r=c[28]+"")&&re(l,r)},d(c){c&&T(e),f.d()}}}function Rv(t){let e;return{c(){e=F("Save game")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Dv(t){let e;return{c(){e=F("Save")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Lv(t){let e;return{c(){e=F("Upload game")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function cu(t){let e,n;function o(){return t[19](t[25])}return e=new yt({props:{class:"bg-blue-600 hover:bg-blue-700 mt-4",id:"collectPrize-"+t[25].id,$$slots:{default:[Fv]},$$scope:{ctx:t}}}),e.$on("click",o),{c(){Z(e.$$.fragment)},m(i,r){X(e,i,r),n=!0},p(i,r){t=i;const l={};r[0]&2&&(l.id="collectPrize-"+t[25].id),r[0]&2|r[1]&1&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(i){n||(A(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){J(e,i)}}}function Fv(t){let e,n=mu(t[25].prize)+"",o,i;return{c(){e=F("Collect Prize: $"),o=F(n),i=F(" gold")},m(r,l){M(r,e,l),M(r,o,l),M(r,i,l)},p(r,l){l[0]&2&&n!==(n=mu(r[25].prize)+"")&&re(o,n)},d(r){r&&(T(e),T(o),T(i))}}}function du(t){let e,n,o,i,r,l,a=t[25].title+"",s,u,f,c=t[25].requirements+"",d,m,p,_=t[25].icon+"",v,w,k,C=t[25].description+"",D,L,P,$,G=t[8](t[25].id)+"",R,W,y,b=t[13](t[25].id)&&!t[9](t[25].id),O,E,H,V=b&&cu(t);return{c(){e=I("div"),n=I("div"),o=I("div"),i=I("span"),r=I("div"),l=I("span"),s=F(a),u=q(),f=I("div"),d=F(c),m=q(),p=I("div"),v=F(_),w=q(),k=I("div"),D=F(C),L=q(),P=I("div"),$=F("✅ Completed on Day "),R=F(G),y=q(),V&&V.c(),O=q(),N(l,"class","font-semibold text-lg"),N(f,"class","font-thin text-white opacity-75 text-xs"),N(r,"class","flex flex-row gap-3 w-[100%] text- items-center "),N(p,"class","text-sm flex-grow pr-1 break-inside-avoid "),N(i,"class","flex flex-row justify-between w-[100%]"),N(o,"class","min-w-32 flex"),N(k,"class","text-white opacity-75 text-sm font-light"),N(P,"class",W=(t[13](t[25].id)?"":"hidden")+" text-xs text-green-400"),N(n,"class","flex-col flex px-3 py-2 gap-0"),N(e,"class",E="flex flex-col gap-3 cursor-default rounded-md "+(t[13](t[25].id)?"bg-green-700":"bg-gray-500 opacity-35"))},m(K,z){M(K,e,z),g(e,n),g(n,o),g(o,i),g(i,r),g(r,l),g(l,s),g(r,u),g(r,f),g(f,d),g(i,m),g(i,p),g(p,v),g(n,w),g(n,k),g(k,D),g(n,L),g(n,P),g(P,$),g(P,R),g(n,y),V&&V.m(n,null),g(e,O),H=!0},p(K,z){(!H||z[0]&2)&&a!==(a=K[25].title+"")&&re(s,a),(!H||z[0]&2)&&c!==(c=K[25].requirements+"")&&re(d,c),(!H||z[0]&2)&&_!==(_=K[25].icon+"")&&re(v,_),(!H||z[0]&2)&&C!==(C=K[25].description+"")&&re(D,C),(!H||z[0]&2)&&G!==(G=K[8](K[25].id)+"")&&re(R,G),(!H||z[0]&2&&W!==(W=(K[13](K[25].id)?"":"hidden")+" text-xs text-green-400"))&&N(P,"class",W),z[0]&2&&(b=K[13](K[25].id)&&!K[9](K[25].id)),b?V?(V.p(K,z),z[0]&2&&A(V,1)):(V=cu(K),V.c(),A(V,1),V.m(n,null)):V&&(Ie(),S(V,1,1,()=>{V=null}),Oe()),(!H||z[0]&2&&E!==(E="flex flex-col gap-3 cursor-default rounded-md "+(K[13](K[25].id)?"bg-green-700":"bg-gray-500 opacity-35")))&&N(e,"class",E)},i(K){H||(A(V),H=!0)},o(K){S(V),H=!1},d(K){K&&T(e),V&&V.d()}}}function Bv(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,p,_,v,w,k,C,D,L,P,$,G,R,W,y,b,O,E,H,V,K,z,te,Y,h,B,x,ne,U,ue,we;e=new xn({props:{$$slots:{default:[wv]},$$scope:{ctx:t}}});let Ae=t[2].endGoal=="land"&&au(t);_=new fo({props:{for:"saveButton",class:`cursor-pointer bg-blue-600 rounded-md text-center p-2.5 hover:bg-blue-700 justify-center flex 
					`,$$slots:{default:[Rv]},$$scope:{ctx:t}}}),w=new yt({props:{class:`
					bg-blue-600 hover:bg-blue-700 hidden
					`,id:"saveButton",$$slots:{default:[Dv]},$$scope:{ctx:t}}}),w.$on("click",t[16]),C=new fo({props:{for:"upload",class:`cursor-pointer bg-blue-600 rounded-md text-center p-2.5 hover:bg-blue-700 justify-center flex 
					`,$$slots:{default:[Lv]},$$scope:{ctx:t}}}),L=new Jl({props:{class:"hidden",type:"file",id:"upload"}}),L.$on("change",t[12]),$=new wt({props:{orientation:"vertical"}});let Ue=Ye(t[1]),Ge=[];for(let de=0;de<Ue.length;de+=1)Ge[de]=du(lu(t,Ue,de));const xe=de=>S(Ge[de],1,1,()=>{Ge[de]=null});return{c(){Z(e.$$.fragment),n=q(),o=I("div"),i=I("div"),r=I("div"),l=I("h4"),l.textContent="This game",a=q(),s=I("span"),s.textContent=`${t[5].description_title}`,u=q(),f=I("div"),Ae&&Ae.c(),c=q(),d=I("div"),m=I("div"),p=I("div"),Z(_.$$.fragment),v=q(),Z(w.$$.fragment),k=q(),Z(C.$$.fragment),D=q(),Z(L.$$.fragment),P=q(),Z($.$$.fragment),G=q(),R=I("div"),W=I("h4"),W.textContent=`Your achievement (${t[7].length}
          / ${nt.length})`,y=q(),b=I("span"),b.textContent="Track your progress through games & complete challenges!",O=q(),E=I("br"),H=q(),V=I("div"),K=I("input"),z=q(),te=I("label"),te.textContent="Show completed",Y=q(),h=I("div"),B=I("div");for(let de=0;de<Ge.length;de+=1)Ge[de].c();x=q(),ne=I("span"),ne.textContent=`Prizes apply to the current game you are in. You can wait to apply
          them until the right time.`,N(l,"class","underline underline-offset-4"),N(s,"class","text-sm text-gray-400"),N(f,"class","mt-6 gap-0 py-0 text-gray-400 text-sm"),N(r,"class","flex-col h-max"),N(p,"class","flex gap-10 justify-start min-w-[100%] w-[100%] items"),N(m,"class","flex flex-col gap-3 h-max"),N(i,"class","flex flex-col gap-6 justify-between"),N(W,"class","underline underline-offset-4"),N(b,"class","text-sm text-gray-400"),N(K,"type","checkbox"),N(K,"id","toggle-show-completed"),N(K,"class","rounded"),N(K,"tabindex","-1"),K.checked=localStorage.getItem("showCompletedAchievements")==="true",N(te,"for","toggle-show-completed"),N(te,"class","text-xs text-gray-400 select-none ml-2 no-select cursor-pointer "),N(V,"class","flex items-center"),N(B,"class","flex flex-col gap-4 overflow-scroll pb-20 scroll-smooth"),N(h,"class","overflow-scroll mt-2 h-[55vh]"),N(ne,"class","text-sm text-yellow-400 italic"),N(o,"class","flex flex-row w-full gap-10")},m(de,Ee){X(e,de,Ee),M(de,n,Ee),M(de,o,Ee),g(o,i),g(i,r),g(r,l),g(r,a),g(r,s),g(r,u),g(r,f),Ae&&Ae.m(f,null),g(i,c),g(i,d),g(d,m),g(m,p),X(_,p,null),g(p,v),X(w,p,null),g(p,k),X(C,p,null),g(p,D),X(L,p,null),g(o,P),X($,o,null),g(o,G),g(o,R),g(R,W),g(R,y),g(R,b),g(R,O),g(R,E),g(R,H),g(R,V),g(V,K),g(V,z),g(V,te),g(R,Y),g(R,h),g(h,B);for(let De=0;De<Ge.length;De+=1)Ge[De]&&Ge[De].m(B,null);g(R,x),g(R,ne),U=!0,ue||(we=[ee(K,"change",t[17]),ee(K,"keydown",t[18])],ue=!0)},p(de,Ee){const De={};Ee[1]&1&&(De.$$scope={dirty:Ee,ctx:de}),e.$set(De),de[2].endGoal=="land"?Ae?Ae.p(de,Ee):(Ae=au(de),Ae.c(),Ae.m(f,null)):Ae&&(Ae.d(1),Ae=null);const Ve={};Ee[1]&1&&(Ve.$$scope={dirty:Ee,ctx:de}),_.$set(Ve);const Ke={};Ee[1]&1&&(Ke.$$scope={dirty:Ee,ctx:de}),w.$set(Ke);const ke={};if(Ee[1]&1&&(ke.$$scope={dirty:Ee,ctx:de}),C.$set(ke),Ee[0]&9986){Ue=Ye(de[1]);let Te;for(Te=0;Te<Ue.length;Te+=1){const $t=lu(de,Ue,Te);Ge[Te]?(Ge[Te].p($t,Ee),A(Ge[Te],1)):(Ge[Te]=du($t),Ge[Te].c(),A(Ge[Te],1),Ge[Te].m(B,null))}for(Ie(),Te=Ue.length;Te<Ge.length;Te+=1)xe(Te);Oe()}},i(de){if(!U){A(e.$$.fragment,de),A(_.$$.fragment,de),A(w.$$.fragment,de),A(C.$$.fragment,de),A(L.$$.fragment,de),A($.$$.fragment,de);for(let Ee=0;Ee<Ue.length;Ee+=1)A(Ge[Ee]);U=!0}},o(de){S(e.$$.fragment,de),S(_.$$.fragment,de),S(w.$$.fragment,de),S(C.$$.fragment,de),S(L.$$.fragment,de),S($.$$.fragment,de),Ge=Ge.filter(Boolean);for(let Ee=0;Ee<Ge.length;Ee+=1)S(Ge[Ee]);U=!1},d(de){de&&(T(n),T(o)),J(e,de),Ae&&Ae.d(),J(_),J(w),J(C),J(L),J($),_t(Ge,de),ue=!1,Be(we)}}}function jv(t){let e,n;return e=new Zn({props:{class:" max-w-[90vw] max-h-[90vh] bg-foregroundDark text-foregroundText",$$slots:{default:[Bv]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment)},m(o,i){X(e,o,i),n=!0},p(o,i){const r={};i[0]&6|i[1]&1&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){J(e,o)}}}function qv(t){var o;let e=((o=t[14]())==null?void 0:o.title)+"",n;return{c(){n=F(e)},m(i,r){M(i,n,r)},p:Ce,d(i){i&&T(n)}}}function Gv(t){let e,n,o,i;return{c(){var r,l;e=I("div"),n=I("div"),n.textContent=`${(r=t[14]())==null?void 0:r.icon}`,o=q(),i=I("div"),i.textContent=`${(l=t[14]())==null?void 0:l.description}`,N(n,"class","text-center w-[30%] align-middle flex flex-col text-8xl"),N(i,"class","pl-8 w-[80%] align-middle flex flex-col justify-center text-lg"),N(e,"class","flex flex-row align-middle justify-evenly px-6 py-4")},m(r,l){M(r,e,l),g(e,n),g(e,o),g(e,i)},p:Ce,d(r){r&&T(e)}}}function Vv(t){let e,n,o,i;return e=new xl({props:{class:"text-center text-xl font-bold",$$slots:{default:[qv]},$$scope:{ctx:t}}}),o=new Ql({props:{$$slots:{default:[Gv]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment),n=q(),Z(o.$$.fragment)},m(r,l){X(e,r,l),M(r,n,l),X(o,r,l),i=!0},p(r,l){const a={};l[1]&1&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l[1]&1&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),J(e,r),J(o,r)}}}function Hv(t){let e;return{c(){e=F("Close to collect prize")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Wv(t){let e,n;return e=new id({props:{$$slots:{default:[Hv]},$$scope:{ctx:t}}}),e.$on("click",t[21]),{c(){Z(e.$$.fragment)},m(o,i){X(e,o,i),n=!0},p(o,i){const r={};i[1]&1&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){J(e,o)}}}function Yv(t){let e,n,o,i;return e=new Zl({props:{$$slots:{default:[Vv]},$$scope:{ctx:t}}}),o=new Tr({props:{$$slots:{default:[Wv]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment),n=q(),Z(o.$$.fragment)},m(r,l){X(e,r,l),M(r,n,l),X(o,r,l),i=!0},p(r,l){const a={};l[1]&1&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l[0]&16|l[1]&1&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),J(e,r),J(o,r)}}}function Uv(t){let e,n;return e=new Mr({props:{$$slots:{default:[Yv]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment)},m(o,i){X(e,o,i),n=!0},p(o,i){const r={};i[0]&16|i[1]&1&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){J(e,o)}}}function Kv(t){let e,n,o,i,r;function l(s){t[20](s)}let a={$$slots:{default:[jv]},$$scope:{ctx:t}};return t[3]!==void 0&&(a.open=t[3]),e=new zn({props:a}),Ne.push(()=>Mn(e,"open",l)),i=new Ir({props:{open:t[4],$$slots:{default:[Uv]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment),o=q(),Z(i.$$.fragment)},m(s,u){X(e,s,u),M(s,o,u),X(i,s,u),r=!0},p(s,u){const f={};u[0]&6|u[1]&1&&(f.$$scope={dirty:u,ctx:s}),!n&&u[0]&8&&(n=!0,f.open=s[3],Tn(()=>n=!1)),e.$set(f);const c={};u[0]&16&&(c.open=s[4]),u[0]&16|u[1]&1&&(c.$$scope={dirty:u,ctx:s}),i.$set(c)},i(s){r||(A(e.$$.fragment,s),A(i.$$.fragment,s),r=!0)},o(s){S(e.$$.fragment,s),S(i.$$.fragment,s),r=!1},d(s){s&&T(o),J(e,s),J(i,s)}}}function mu(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function Xv(t){const e=JSON.parse(t);return e.townInfo!=null&&e.difficulty!=null}function Jv(t,e,n){let o,i,r,l,a;ae(t,an,y=>n(23,o=y)),ae(t,Pe,y=>n(2,i=y)),ae(t,Ji,y=>n(15,r=y)),ae(t,Dt,y=>n(3,l=y)),ae(t,Ui,y=>n(4,a=y));const u=Hn[i.endGoal],f=Fl[i.difficulty]||0;nt.sort((y,b)=>k(y.id)&&!k(b.id)?-1:!k(y.id)&&k(b.id)?1:0);const c=nt.filter(y=>k(y.id));function d(y){const b=o.achievements.find(O=>O[0]==y);return b==null?0:`${b[1]} in ${b[2]}.`}function m(y){const b=o.achievements.find(O=>O[0]==y);return b==null?!1:b[3]}function p(y){const b=o.achievements.find(E=>E[0]==y);if(b==null)return;const O=nt.find(E=>E.id==y);O!=null&&(Me(Pe,i.townInfo.gold+=O.prize,i),b[3]=!0,Me(an,o.achievements=o.achievements.map(E=>E[0]==y?b:E),o))}let _=nt;function v(){const y=JSON.stringify(i),b=new Blob([y],{type:"text/plain"}),O=URL.createObjectURL(b),E=document.createElement("a");E.href=O,E.download=`${new Date().toISOString()}.json`,document.body.appendChild(E),E.click(),document.body.removeChild(E),URL.revokeObjectURL(O)}function w(){const b=document.getElementById("upload").files;if(b==null)return;const O=b[0],E=new FileReader;E.onload=function(H){if(H.target==null)return;const V=H.target.result;if(typeof V=="string"){if(!Xv(V)){Pt.set("Invalid game file");return}Bl(JSON.parse(V))}else Pt.set("Invalid game file: is not String.")},E.readAsText(O)}function k(y){return o.achievements==null?!1:o.achievements.find(b=>b[0]==y)!=null}function C(){Ji.update(y=>!y),localStorage.setItem("showCompletedAchievements",localStorage.getItem("showCompletedAchievements")==="true"?"false":"true")}localStorage.getItem("pauseMenuTab")==null&&(localStorage.setItem("pauseMenuTab","game"),pc.set("game"));function D(){const y=o.achievements[o.achievements.length-1];if(y!=null)return nt.find(b=>b.id==y[0])}const L=()=>v(),P=()=>{C()},$=y=>{y.key==="p"&&Dt.set(!1)},G=y=>{p(y.id);const b=document.getElementById(`collectPrize-${y.id}`);b&&(b.style.display="none")};function R(y){l=y,Dt.set(l)}const W=()=>{Me(Ui,a=!1,a)};return t.$$.update=()=>{if(t.$$.dirty[0]&32774&&i)if(r)n(1,_=nt);else{n(1,_=[]);for(let y=0;y<nt.length;y++)(!k(nt[y].id)||!m(nt[y].id))&&_.push(nt[y])}},[C,_,i,l,a,u,f,c,d,m,p,v,w,k,D,r,L,P,$,G,R,W]}class xv extends be{constructor(e){super(),ge(this,e,Jv,Kv,fe,{toggleShowCompleted:0},null,[-1,-1])}get toggleShowCompleted(){return this.$$.ctx[0]}}function Zv(){console.log("%cRUNNING STABILITY TESTS...","color: #26bfa5;");let t=0;return console.log("%cPASSED ALL STABILITY TESTS 😍","color: #26bfa5;"),t}function Qv(t){let e=t[0].endGameDetails.win==!0?"You won! 🎉":"You lost! 😭",n;return{c(){n=F(e)},m(o,i){M(o,n,i)},p(o,i){i&1&&e!==(e=o[0].endGameDetails.win==!0?"You won! 🎉":"You lost! 😭")&&re(n,e)},d(o){o&&T(n)}}}function zv(t){let e;return{c(){e=F("Keep playin'")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function ey(t){let e,n=t[0].endGameDetails.msg+"",o,i,r,l,a,s,u,f;return u=new yt({props:{class:"bg-accent",$$slots:{default:[zv]},$$scope:{ctx:t}}}),u.$on("click",t[2]),{c(){e=I("span"),o=F(n),i=q(),r=I("br"),l=q(),a=I("br"),s=q(),Z(u.$$.fragment),N(e,"class","text-gray-500 text-sm")},m(c,d){M(c,e,d),g(e,o),M(c,i,d),M(c,r,d),M(c,l,d),M(c,a,d),M(c,s,d),X(u,c,d),f=!0},p(c,d){(!f||d&1)&&n!==(n=c[0].endGameDetails.msg+"")&&re(o,n);const m={};d&16&&(m.$$scope={dirty:d,ctx:c}),u.$set(m)},i(c){f||(A(u.$$.fragment,c),f=!0)},o(c){S(u.$$.fragment,c),f=!1},d(c){c&&(T(e),T(i),T(r),T(l),T(a),T(s)),J(u,c)}}}function ty(t){let e,n,o,i;return e=new Jn({props:{$$slots:{default:[Qv]},$$scope:{ctx:t}}}),o=new Qn({props:{$$slots:{default:[ey]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment),n=q(),Z(o.$$.fragment)},m(r,l){X(e,r,l),M(r,n,l),X(o,r,l),i=!0},p(r,l){const a={};l&17&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&17&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),J(e,r),J(o,r)}}}function ny(t){let e;return{c(){e=I("span"),e.textContent="Reset the game by pressing SHIFT+ESC",N(e,"class","text-gray-500 text-sm")},m(n,o){M(n,e,o)},p:Ce,d(n){n&&T(e)}}}function oy(t){let e,n,o,i;return e=new xn({props:{$$slots:{default:[ty]},$$scope:{ctx:t}}}),o=new Io({props:{$$slots:{default:[ny]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment),n=q(),Z(o.$$.fragment)},m(r,l){X(e,r,l),M(r,n,l),X(o,r,l),i=!0},p(r,l){const a={};l&17&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&16&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),J(e,r),J(o,r)}}}function iy(t){let e,n;return e=new Zn({props:{class:"bg-foregroundDark text-foregroundText",$$slots:{default:[oy]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment)},m(o,i){X(e,o,i),n=!0},p(o,i){const r={};i&17&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){J(e,o)}}}function ry(t){let e,n,o;function i(l){t[3](l)}let r={$$slots:{default:[iy]},$$scope:{ctx:t}};return t[1]!==void 0&&(r.open=t[1]),e=new zn({props:r}),Ne.push(()=>Mn(e,"open",i)),{c(){Z(e.$$.fragment)},m(l,a){X(e,l,a),o=!0},p(l,[a]){const s={};a&17&&(s.$$scope={dirty:a,ctx:l}),!n&&a&2&&(n=!0,s.open=l[1],Tn(()=>n=!1)),e.$set(s)},i(l){o||(A(e.$$.fragment,l),o=!0)},o(l){S(e.$$.fragment,l),o=!1},d(l){J(e,l)}}}function ly(t,e,n){let o;ae(t,Pe,a=>n(0,o=a));let i=!1;function r(){let a=o;a.overtime=!0,Pe.set(a),n(1,i=!1),Dt.set(!1)}function l(a){i=a,n(1,i),n(0,o)}return t.$$.update=()=>{t.$$.dirty&1&&(o.endGameDetails.msg!=""&&o.overtime==!1?n(1,i=!0):n(1,i=!1))},[o,i,r,l]}class sy extends be{constructor(e){super(),ge(this,e,ly,ry,fe,{})}}function ay(t){let e;return{c(){e=F("Welcome to Plots!")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function uy(t){let e;return{c(){e=F("Select a map size (difficulty)")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function fy(t){let e;return{c(){e=F("Select a game mode")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function cy(t){let e;return{c(){e=I("p"),e.textContent=`${Hn.free_play.description_title}`,N(e,"class","text-gray-500 text-sm")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function dy(t){let e;return{c(){e=I("p"),e.textContent=`${Hn.land.description_title}`,N(e,"class","text-gray-500 text-sm")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function my(t){let e;return{c(){e=F("Town Name")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function py(t){let e;return{c(){e=F("Cheats")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function hy(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,p,_,v,w,k,C,D,L,P,$,G,R,W,y,b,O,E,H,V,K;r=new fo({props:{for:"difficulty",class:"mt-2",$$slots:{default:[uy]},$$scope:{ctx:t}}}),m=new fo({props:{for:"endGoal",class:"mt-2",$$slots:{default:[fy]},$$scope:{ctx:t}}});function z(h,B){return h[0]==="land"?dy:cy}let te=z(t),Y=te(t);return L=new fo({props:{for:"townName",class:"mt-2",$$slots:{default:[my]},$$scope:{ctx:t}}}),$=new Jl({props:{id:"townName",class:"mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Will be randomized if you leave blank"}}),W=new fo({props:{for:"cheats",class:"mt-2",$$slots:{default:[py]},$$scope:{ctx:t}}}),{c(){e=I("a"),e.textContent="GitHub / Learn how to play",n=q(),o=I("div"),i=I("div"),Z(r.$$.fragment),l=q(),a=I("select"),s=I("option"),s.textContent="Easy (quick game)",u=I("option"),u.textContent="Normal",f=I("option"),f.textContent="Hard (longest game)",c=q(),d=I("div"),Z(m.$$.fragment),p=q(),Y.c(),_=q(),v=I("select"),w=I("option"),w.textContent=`${Hn.land.short_title}`,k=I("option"),k.textContent=`${Hn.free_play.short_title}`,C=q(),D=I("div"),Z(L.$$.fragment),P=q(),Z($.$$.fragment),G=q(),R=I("div"),Z(W.$$.fragment),y=q(),b=I("select"),O=I("option"),O.textContent="No cheats",E=I("option"),E.textContent="Dev mode",N(e,"href","https://github.com/josephrcox/plots#how-to-play"),N(e,"class","text-blue-500 text-sm mb-4 hover:underline"),N(e,"target","_blank"),s.__value="0",rn(s,s.__value),u.__value="1",rn(u,u.__value),u.selected=!0,f.__value="2",rn(f,f.__value),N(a,"id","difficulty"),N(a,"class","mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"),w.__value="land",rn(w,w.__value),k.__value="free_play",rn(k,k.__value),N(v,"id","endGoal"),N(v,"class","mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),O.__value="false",rn(O,O.__value),O.selected=!0,E.__value="true",rn(E,E.__value),N(b,"id","cheats"),N(b,"class","mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),N(o,"class","flex flex-col justify-center gap-5 mt-4")},m(h,B){M(h,e,B),M(h,n,B),M(h,o,B),g(o,i),X(r,i,null),g(i,l),g(i,a),g(a,s),g(a,u),g(a,f),g(o,c),g(o,d),X(m,d,null),g(d,p),Y.m(d,null),g(d,_),g(d,v),g(v,w),g(v,k),Ss(v,t[0]),g(o,C),g(o,D),X(L,D,null),g(D,P),X($,D,null),g(o,G),g(o,R),X(W,R,null),g(R,y),g(R,b),g(b,O),g(b,E),H=!0,V||(K=ee(v,"change",t[4]),V=!0)},p(h,B){const x={};B&256&&(x.$$scope={dirty:B,ctx:h}),r.$set(x);const ne={};B&256&&(ne.$$scope={dirty:B,ctx:h}),m.$set(ne),te!==(te=z(h))&&(Y.d(1),Y=te(h),Y&&(Y.c(),Y.m(d,_))),(!H||B&1)&&Ss(v,h[0]);const U={};B&256&&(U.$$scope={dirty:B,ctx:h}),L.$set(U);const ue={};B&256&&(ue.$$scope={dirty:B,ctx:h}),W.$set(ue)},i(h){H||(A(r.$$.fragment,h),A(m.$$.fragment,h),A(L.$$.fragment,h),A($.$$.fragment,h),A(W.$$.fragment,h),H=!0)},o(h){S(r.$$.fragment,h),S(m.$$.fragment,h),S(L.$$.fragment,h),S($.$$.fragment,h),S(W.$$.fragment,h),H=!1},d(h){h&&(T(e),T(n),T(o)),J(r),J(m),Y.d(),J(L),J($),J(W),V=!1,K()}}}function _y(t){let e,n,o,i;return e=new Jn({props:{$$slots:{default:[ay]},$$scope:{ctx:t}}}),o=new Qn({props:{$$slots:{default:[hy]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment),n=q(),Z(o.$$.fragment)},m(r,l){X(e,r,l),M(r,n,l),X(o,r,l),i=!0},p(r,l){const a={};l&256&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&257&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),J(e,r),J(o,r)}}}function gy(t){let e;return{c(){e=F("Reset user")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function by(t){let e,n,o=t[1].username+"",i,r,l,a,s,u,f,c,d;return a=new yt({props:{$$slots:{default:[gy]},$$scope:{ctx:t}}}),a.$on("click",t[5]),{c(){e=I("div"),n=I("span"),i=F(o),r=q(),l=I("div"),Z(a.$$.fragment),s=q(),u=I("button"),u.textContent="Start game",N(n,"class","italic opacity-30 text-xs py-2 text-start rounded h-full flex flex-col justify-center mr-10"),N(u,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-md"),N(e,"class","flex flex-row justify-between w-full px-1")},m(m,p){M(m,e,p),g(e,n),g(n,i),g(e,r),g(e,l),X(a,l,null),g(l,s),g(l,u),f=!0,c||(d=[ee(n,"click",t[6]),ee(u,"click",t[3])],c=!0)},p(m,p){(!f||p&2)&&o!==(o=m[1].username+"")&&re(i,o);const _={};p&256&&(_.$$scope={dirty:p,ctx:m}),a.$set(_)},i(m){f||(A(a.$$.fragment,m),f=!0)},o(m){S(a.$$.fragment,m),f=!1},d(m){m&&T(e),J(a),c=!1,Be(d)}}}function vy(t){let e,n,o,i;return e=new xn({props:{$$slots:{default:[_y]},$$scope:{ctx:t}}}),o=new Io({props:{$$slots:{default:[by]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment),n=q(),Z(o.$$.fragment)},m(r,l){X(e,r,l),M(r,n,l),X(o,r,l),i=!0},p(r,l){const a={};l&257&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&258&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),J(e,r),J(o,r)}}}function yy(t){let e,n;return e=new Zn({props:{transition:vr,class:"bg-foregroundDark text-foregroundText",$$slots:{default:[vy]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment)},m(o,i){X(e,o,i),n=!0},p(o,i){const r={};i&259&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){J(e,o)}}}function wy(t){let e,n,o;function i(l){t[7](l)}let r={$$slots:{default:[yy]},$$scope:{ctx:t}};return t[2].visible!==void 0&&(r.open=t[2].visible),e=new zn({props:r}),Ne.push(()=>Mn(e,"open",i)),{c(){Z(e.$$.fragment)},m(l,a){X(e,l,a),o=!0},p(l,[a]){const s={};a&259&&(s.$$scope={dirty:a,ctx:l}),!n&&a&4&&(n=!0,s.open=l[2].visible,Tn(()=>n=!1)),e.$set(s)},i(l){o||(A(e.$$.fragment,l),o=!0)},o(l){S(e.$$.fragment,l),o=!1},d(l){J(e,l)}}}function ky(t,e,n){let o,i;ae(t,an,c=>n(1,o=c)),ae(t,Yo,c=>n(2,i=c)),Dt.set(!1);function r(){const c=document.getElementById("difficulty").value,d=document.getElementById("endGoal").value,m=document.getElementById("townName").value,p=document.getElementById("cheats").value=="true";hm(c,d,m,p)}let l="free_play";const a=c=>{n(0,l=c.target.value)};function s(){Pt.set("Deleted :)"),localStorage.clear(),window.location.href=""}function u(){const c=prompt("Enter new username");let d=o;d.username=c,ym(d)}function f(c){t.$$.not_equal(i.visible,c)&&(i.visible=c,Yo.set(i))}return[l,o,i,r,a,s,u,f]}class Cy extends be{constructor(e){super(),ge(this,e,ky,wy,fe,{})}}function Ay(t){let e;return{c(){e=F("Scoreboard")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Sy(t){let e=t[1].description_title+"",n;return{c(){n=F(e)},m(o,i){M(o,n,i)},p:Ce,d(o){o&&T(n)}}}function Ty(t){let e,n,o,i;return e=new Jn({props:{$$slots:{default:[Ay]},$$scope:{ctx:t}}}),o=new Qn({props:{$$slots:{default:[Sy]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment),n=q(),Z(o.$$.fragment)},m(r,l){X(e,r,l),M(r,n,l),X(o,r,l),i=!0},p(r,l){const a={};l&128&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&128&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),J(e,r),J(o,r)}}}function My(t){let e;return{c(){e=F("footer")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Iy(t){let e,n,o,i;return e=new xn({props:{$$slots:{default:[Ty]},$$scope:{ctx:t}}}),o=new Io({props:{$$slots:{default:[My]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment),n=F(`
		hi
		`),Z(o.$$.fragment)},m(r,l){X(e,r,l),M(r,n,l),X(o,r,l),i=!0},p(r,l){const a={};l&128&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&128&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),J(e,r),J(o,r)}}}function Oy(t){let e,n;return e=new Zn({props:{$$slots:{default:[Iy]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment)},m(o,i){X(e,o,i),n=!0},p(o,i){const r={};i&128&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){J(e,o)}}}function Py(t){let e,n,o;function i(l){t[3](l)}let r={$$slots:{default:[Oy]},$$scope:{ctx:t}};return t[0]!==void 0&&(r.open=t[0]),e=new zn({props:r}),Ne.push(()=>Mn(e,"open",i)),{c(){Z(e.$$.fragment)},m(l,a){X(e,l,a),o=!0},p(l,[a]){const s={};a&128&&(s.$$scope={dirty:a,ctx:l}),!n&&a&1&&(n=!0,s.open=l[0],Tn(()=>n=!1)),e.$set(s)},i(l){o||(A(e.$$.fragment,l),o=!0)},o(l){S(e.$$.fragment,l),o=!1},d(l){J(e,l)}}}function Ny(t,e,n){let o,i;ae(t,Pe,s=>n(2,o=s)),ae(t,Os,s=>n(0,i=s));const l=Hn[o.endGoal];Fl[o.difficulty];function a(s){i=s,Os.set(i)}return t.$$.update=()=>{t.$$.dirty&4},[i,l,o,a]}class Ey extends be{constructor(e){super(),ge(this,e,Ny,Py,fe,{})}}function Ri(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function $y(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function rd(t){let e,n,o;t.length!==2?(e=Ri,n=(a,s)=>Ri(t(a),s),o=(a,s)=>t(a)-s):(e=t===Ri||t===$y?t:Ry,n=t,o=t);function i(a,s,u=0,f=a.length){if(u<f){if(e(s,s)!==0)return f;do{const c=u+f>>>1;n(a[c],s)<0?u=c+1:f=c}while(u<f)}return u}function r(a,s,u=0,f=a.length){if(u<f){if(e(s,s)!==0)return f;do{const c=u+f>>>1;n(a[c],s)<=0?u=c+1:f=c}while(u<f)}return u}function l(a,s,u=0,f=a.length){const c=i(a,s,u,f-1);return c>u&&o(a[c-1],s)>-o(a[c],s)?c-1:c}return{left:i,center:l,right:r}}function Ry(){return 0}function Dy(t){return t===null?NaN:+t}const Ly=rd(Ri),Fy=Ly.right;rd(Dy).center;const By=Math.sqrt(50),jy=Math.sqrt(10),qy=Math.sqrt(2);function or(t,e,n){const o=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(o)),r=o/Math.pow(10,i),l=r>=By?10:r>=jy?5:r>=qy?2:1;let a,s,u;return i<0?(u=Math.pow(10,-i)/l,a=Math.round(t*u),s=Math.round(e*u),a/u<t&&++a,s/u>e&&--s,u=-u):(u=Math.pow(10,i)*l,a=Math.round(t/u),s=Math.round(e/u),a*u<t&&++a,s*u>e&&--s),s<a&&.5<=n&&n<2?or(t,e,n*2):[a,s,u]}function Gy(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const o=e<t,[i,r,l]=o?or(e,t,n):or(t,e,n);if(!(r>=i))return[];const a=r-i+1,s=new Array(a);if(o)if(l<0)for(let u=0;u<a;++u)s[u]=(r-u)/-l;else for(let u=0;u<a;++u)s[u]=(r-u)*l;else if(l<0)for(let u=0;u<a;++u)s[u]=(i+u)/-l;else for(let u=0;u<a;++u)s[u]=(i+u)*l;return s}function gl(t,e,n){return e=+e,t=+t,n=+n,or(t,e,n)[2]}function Vy(t,e,n){e=+e,t=+t,n=+n;const o=e<t,i=o?gl(e,t,n):gl(t,e,n);return(o?-1:1)*(i<0?1/-i:i)}function Hy(t){return t}var Zr=1,Qr=2,bl=3,qo=4,pu=1e-6;function Wy(t){return"translate("+t+",0)"}function Yy(t){return"translate(0,"+t+")"}function Uy(t){return e=>+t(e)}function Ky(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function Xy(){return!this.__axis}function ld(t,e){var n=[],o=null,i=null,r=6,l=6,a=3,s=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=t===Zr||t===qo?-1:1,f=t===qo||t===Qr?"x":"y",c=t===Zr||t===bl?Wy:Yy;function d(m){var p=o??(e.ticks?e.ticks.apply(e,n):e.domain()),_=i??(e.tickFormat?e.tickFormat.apply(e,n):Hy),v=Math.max(r,0)+a,w=e.range(),k=+w[0]+s,C=+w[w.length-1]+s,D=(e.bandwidth?Ky:Uy)(e.copy(),s),L=m.selection?m.selection():m,P=L.selectAll(".domain").data([null]),$=L.selectAll(".tick").data(p,e).order(),G=$.exit(),R=$.enter().append("g").attr("class","tick"),W=$.select("line"),y=$.select("text");P=P.merge(P.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),$=$.merge(R),W=W.merge(R.append("line").attr("stroke","currentColor").attr(f+"2",u*r)),y=y.merge(R.append("text").attr("fill","currentColor").attr(f,u*v).attr("dy",t===Zr?"0em":t===bl?"0.71em":"0.32em")),m!==L&&(P=P.transition(m),$=$.transition(m),W=W.transition(m),y=y.transition(m),G=G.transition(m).attr("opacity",pu).attr("transform",function(b){return isFinite(b=D(b))?c(b+s):this.getAttribute("transform")}),R.attr("opacity",pu).attr("transform",function(b){var O=this.parentNode.__axis;return c((O&&isFinite(O=O(b))?O:D(b))+s)})),G.remove(),P.attr("d",t===qo||t===Qr?l?"M"+u*l+","+k+"H"+s+"V"+C+"H"+u*l:"M"+s+","+k+"V"+C:l?"M"+k+","+u*l+"V"+s+"H"+C+"V"+u*l:"M"+k+","+s+"H"+C),$.attr("opacity",1).attr("transform",function(b){return c(D(b)+s)}),W.attr(f+"2",u*r),y.attr(f,u*v).text(_),L.filter(Xy).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Qr?"start":t===qo?"end":"middle"),L.each(function(){this.__axis=D})}return d.scale=function(m){return arguments.length?(e=m,d):e},d.ticks=function(){return n=Array.from(arguments),d},d.tickArguments=function(m){return arguments.length?(n=m==null?[]:Array.from(m),d):n.slice()},d.tickValues=function(m){return arguments.length?(o=m==null?null:Array.from(m),d):o&&o.slice()},d.tickFormat=function(m){return arguments.length?(i=m,d):i},d.tickSize=function(m){return arguments.length?(r=l=+m,d):r},d.tickSizeInner=function(m){return arguments.length?(r=+m,d):r},d.tickSizeOuter=function(m){return arguments.length?(l=+m,d):l},d.tickPadding=function(m){return arguments.length?(a=+m,d):a},d.offset=function(m){return arguments.length?(s=+m,d):s},d}function Jy(t){return ld(bl,t)}function xy(t){return ld(qo,t)}var Zy={value:()=>{}};function sd(){for(var t=0,e=arguments.length,n={},o;t<e;++t){if(!(o=arguments[t]+"")||o in n||/[\s.]/.test(o))throw new Error("illegal type: "+o);n[o]=[]}return new Di(n)}function Di(t){this._=t}function Qy(t,e){return t.trim().split(/^|\s+/).map(function(n){var o="",i=n.indexOf(".");if(i>=0&&(o=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:o}})}Di.prototype=sd.prototype={constructor:Di,on:function(t,e){var n=this._,o=Qy(t+"",n),i,r=-1,l=o.length;if(arguments.length<2){for(;++r<l;)if((i=(t=o[r]).type)&&(i=zy(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++r<l;)if(i=(t=o[r]).type)n[i]=hu(n[i],t.name,e);else if(e==null)for(i in n)n[i]=hu(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Di(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),o=0,i,r;o<i;++o)n[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=this._[t],o=0,i=r.length;o<i;++o)r[o].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var o=this._[t],i=0,r=o.length;i<r;++i)o[i].value.apply(e,n)}};function zy(t,e){for(var n=0,o=t.length,i;n<o;++n)if((i=t[n]).name===e)return i.value}function hu(t,e,n){for(var o=0,i=t.length;o<i;++o)if(t[o].name===e){t[o]=Zy,t=t.slice(0,o).concat(t.slice(o+1));break}return n!=null&&t.push({name:e,value:n}),t}var vl="http://www.w3.org/1999/xhtml";const _u={svg:"http://www.w3.org/2000/svg",xhtml:vl,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Or(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),_u.hasOwnProperty(e)?{space:_u[e],local:t}:t}function ew(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===vl&&e.documentElement.namespaceURI===vl?e.createElement(t):e.createElementNS(n,t)}}function tw(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function ad(t){var e=Or(t);return(e.local?tw:ew)(e)}function nw(){}function zl(t){return t==null?nw:function(){return this.querySelector(t)}}function ow(t){typeof t!="function"&&(t=zl(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var r=e[i],l=r.length,a=o[i]=new Array(l),s,u,f=0;f<l;++f)(s=r[f])&&(u=t.call(s,s.__data__,f,r))&&("__data__"in s&&(u.__data__=s.__data__),a[f]=u);return new Et(o,this._parents)}function iw(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function rw(){return[]}function ud(t){return t==null?rw:function(){return this.querySelectorAll(t)}}function lw(t){return function(){return iw(t.apply(this,arguments))}}function sw(t){typeof t=="function"?t=lw(t):t=ud(t);for(var e=this._groups,n=e.length,o=[],i=[],r=0;r<n;++r)for(var l=e[r],a=l.length,s,u=0;u<a;++u)(s=l[u])&&(o.push(t.call(s,s.__data__,u,l)),i.push(s));return new Et(o,i)}function fd(t){return function(){return this.matches(t)}}function cd(t){return function(e){return e.matches(t)}}var aw=Array.prototype.find;function uw(t){return function(){return aw.call(this.children,t)}}function fw(){return this.firstElementChild}function cw(t){return this.select(t==null?fw:uw(typeof t=="function"?t:cd(t)))}var dw=Array.prototype.filter;function mw(){return Array.from(this.children)}function pw(t){return function(){return dw.call(this.children,t)}}function hw(t){return this.selectAll(t==null?mw:pw(typeof t=="function"?t:cd(t)))}function _w(t){typeof t!="function"&&(t=fd(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var r=e[i],l=r.length,a=o[i]=[],s,u=0;u<l;++u)(s=r[u])&&t.call(s,s.__data__,u,r)&&a.push(s);return new Et(o,this._parents)}function dd(t){return new Array(t.length)}function gw(){return new Et(this._enter||this._groups.map(dd),this._parents)}function ir(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}ir.prototype={constructor:ir,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function bw(t){return function(){return t}}function vw(t,e,n,o,i,r){for(var l=0,a,s=e.length,u=r.length;l<u;++l)(a=e[l])?(a.__data__=r[l],o[l]=a):n[l]=new ir(t,r[l]);for(;l<s;++l)(a=e[l])&&(i[l]=a)}function yw(t,e,n,o,i,r,l){var a,s,u=new Map,f=e.length,c=r.length,d=new Array(f),m;for(a=0;a<f;++a)(s=e[a])&&(d[a]=m=l.call(s,s.__data__,a,e)+"",u.has(m)?i[a]=s:u.set(m,s));for(a=0;a<c;++a)m=l.call(t,r[a],a,r)+"",(s=u.get(m))?(o[a]=s,s.__data__=r[a],u.delete(m)):n[a]=new ir(t,r[a]);for(a=0;a<f;++a)(s=e[a])&&u.get(d[a])===s&&(i[a]=s)}function ww(t){return t.__data__}function kw(t,e){if(!arguments.length)return Array.from(this,ww);var n=e?yw:vw,o=this._parents,i=this._groups;typeof t!="function"&&(t=bw(t));for(var r=i.length,l=new Array(r),a=new Array(r),s=new Array(r),u=0;u<r;++u){var f=o[u],c=i[u],d=c.length,m=Cw(t.call(f,f&&f.__data__,u,o)),p=m.length,_=a[u]=new Array(p),v=l[u]=new Array(p),w=s[u]=new Array(d);n(f,c,_,v,w,m,e);for(var k=0,C=0,D,L;k<p;++k)if(D=_[k]){for(k>=C&&(C=k+1);!(L=v[C])&&++C<p;);D._next=L||null}}return l=new Et(l,o),l._enter=a,l._exit=s,l}function Cw(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Aw(){return new Et(this._exit||this._groups.map(dd),this._parents)}function Sw(t,e,n){var o=this.enter(),i=this,r=this.exit();return typeof t=="function"?(o=t(o),o&&(o=o.selection())):o=o.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?r.remove():n(r),o&&i?o.merge(i).order():i}function Tw(t){for(var e=t.selection?t.selection():t,n=this._groups,o=e._groups,i=n.length,r=o.length,l=Math.min(i,r),a=new Array(i),s=0;s<l;++s)for(var u=n[s],f=o[s],c=u.length,d=a[s]=new Array(c),m,p=0;p<c;++p)(m=u[p]||f[p])&&(d[p]=m);for(;s<i;++s)a[s]=n[s];return new Et(a,this._parents)}function Mw(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var o=t[e],i=o.length-1,r=o[i],l;--i>=0;)(l=o[i])&&(r&&l.compareDocumentPosition(r)^4&&r.parentNode.insertBefore(l,r),r=l);return this}function Iw(t){t||(t=Ow);function e(c,d){return c&&d?t(c.__data__,d.__data__):!c-!d}for(var n=this._groups,o=n.length,i=new Array(o),r=0;r<o;++r){for(var l=n[r],a=l.length,s=i[r]=new Array(a),u,f=0;f<a;++f)(u=l[f])&&(s[f]=u);s.sort(e)}return new Et(i,this._parents).order()}function Ow(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Pw(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Nw(){return Array.from(this)}function Ew(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var o=t[e],i=0,r=o.length;i<r;++i){var l=o[i];if(l)return l}return null}function $w(){let t=0;for(const e of this)++t;return t}function Rw(){return!this.node()}function Dw(t){for(var e=this._groups,n=0,o=e.length;n<o;++n)for(var i=e[n],r=0,l=i.length,a;r<l;++r)(a=i[r])&&t.call(a,a.__data__,r,i);return this}function Lw(t){return function(){this.removeAttribute(t)}}function Fw(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Bw(t,e){return function(){this.setAttribute(t,e)}}function jw(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function qw(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Gw(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Vw(t,e){var n=Or(t);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((e==null?n.local?Fw:Lw:typeof e=="function"?n.local?Gw:qw:n.local?jw:Bw)(n,e))}function md(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Hw(t){return function(){this.style.removeProperty(t)}}function Ww(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Yw(t,e,n){return function(){var o=e.apply(this,arguments);o==null?this.style.removeProperty(t):this.style.setProperty(t,o,n)}}function Uw(t,e,n){return arguments.length>1?this.each((e==null?Hw:typeof e=="function"?Yw:Ww)(t,e,n??"")):yo(this.node(),t)}function yo(t,e){return t.style.getPropertyValue(e)||md(t).getComputedStyle(t,null).getPropertyValue(e)}function Kw(t){return function(){delete this[t]}}function Xw(t,e){return function(){this[t]=e}}function Jw(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function xw(t,e){return arguments.length>1?this.each((e==null?Kw:typeof e=="function"?Jw:Xw)(t,e)):this.node()[t]}function pd(t){return t.trim().split(/^|\s+/)}function es(t){return t.classList||new hd(t)}function hd(t){this._node=t,this._names=pd(t.getAttribute("class")||"")}hd.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function _d(t,e){for(var n=es(t),o=-1,i=e.length;++o<i;)n.add(e[o])}function gd(t,e){for(var n=es(t),o=-1,i=e.length;++o<i;)n.remove(e[o])}function Zw(t){return function(){_d(this,t)}}function Qw(t){return function(){gd(this,t)}}function zw(t,e){return function(){(e.apply(this,arguments)?_d:gd)(this,t)}}function e2(t,e){var n=pd(t+"");if(arguments.length<2){for(var o=es(this.node()),i=-1,r=n.length;++i<r;)if(!o.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?zw:e?Zw:Qw)(n,e))}function t2(){this.textContent=""}function n2(t){return function(){this.textContent=t}}function o2(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function i2(t){return arguments.length?this.each(t==null?t2:(typeof t=="function"?o2:n2)(t)):this.node().textContent}function r2(){this.innerHTML=""}function l2(t){return function(){this.innerHTML=t}}function s2(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function a2(t){return arguments.length?this.each(t==null?r2:(typeof t=="function"?s2:l2)(t)):this.node().innerHTML}function u2(){this.nextSibling&&this.parentNode.appendChild(this)}function f2(){return this.each(u2)}function c2(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function d2(){return this.each(c2)}function m2(t){var e=typeof t=="function"?t:ad(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function p2(){return null}function h2(t,e){var n=typeof t=="function"?t:ad(t),o=e==null?p2:typeof e=="function"?e:zl(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)})}function _2(){var t=this.parentNode;t&&t.removeChild(this)}function g2(){return this.each(_2)}function b2(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function v2(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function y2(t){return this.select(t?v2:b2)}function w2(t){return arguments.length?this.property("__data__",t):this.node().__data__}function k2(t){return function(e){t.call(this,e,this.__data__)}}function C2(t){return t.trim().split(/^|\s+/).map(function(e){var n="",o=e.indexOf(".");return o>=0&&(n=e.slice(o+1),e=e.slice(0,o)),{type:e,name:n}})}function A2(t){return function(){var e=this.__on;if(e){for(var n=0,o=-1,i=e.length,r;n<i;++n)r=e[n],(!t.type||r.type===t.type)&&r.name===t.name?this.removeEventListener(r.type,r.listener,r.options):e[++o]=r;++o?e.length=o:delete this.__on}}}function S2(t,e,n){return function(){var o=this.__on,i,r=k2(e);if(o){for(var l=0,a=o.length;l<a;++l)if((i=o[l]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=r,i.options=n),i.value=e;return}}this.addEventListener(t.type,r,n),i={type:t.type,name:t.name,value:e,listener:r,options:n},o?o.push(i):this.__on=[i]}}function T2(t,e,n){var o=C2(t+""),i,r=o.length,l;if(arguments.length<2){var a=this.node().__on;if(a){for(var s=0,u=a.length,f;s<u;++s)for(i=0,f=a[s];i<r;++i)if((l=o[i]).type===f.type&&l.name===f.name)return f.value}return}for(a=e?S2:A2,i=0;i<r;++i)this.each(a(o[i],e,n));return this}function bd(t,e,n){var o=md(t),i=o.CustomEvent;typeof i=="function"?i=new i(e,n):(i=o.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function M2(t,e){return function(){return bd(this,t,e)}}function I2(t,e){return function(){return bd(this,t,e.apply(this,arguments))}}function O2(t,e){return this.each((typeof e=="function"?I2:M2)(t,e))}function*P2(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var o=t[e],i=0,r=o.length,l;i<r;++i)(l=o[i])&&(yield l)}var vd=[null];function Et(t,e){this._groups=t,this._parents=e}function ii(){return new Et([[document.documentElement]],vd)}function N2(){return this}Et.prototype=ii.prototype={constructor:Et,select:ow,selectAll:sw,selectChild:cw,selectChildren:hw,filter:_w,data:kw,enter:gw,exit:Aw,join:Sw,merge:Tw,selection:N2,order:Mw,sort:Iw,call:Pw,nodes:Nw,node:Ew,size:$w,empty:Rw,each:Dw,attr:Vw,style:Uw,property:xw,classed:e2,text:i2,html:a2,raise:f2,lower:d2,append:m2,insert:h2,remove:g2,clone:y2,datum:w2,on:T2,dispatch:O2,[Symbol.iterator]:P2};function E2(t){return typeof t=="string"?new Et([[document.querySelector(t)]],[document.documentElement]):new Et([[t]],vd)}function ts(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function yd(t,e){var n=Object.create(t.prototype);for(var o in e)n[o]=e[o];return n}function ri(){}var Qo=.7,rr=1/Qo,_o="\\s*([+-]?\\d+)\\s*",zo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Kt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",$2=/^#([0-9a-f]{3,8})$/,R2=new RegExp(`^rgb\\(${_o},${_o},${_o}\\)$`),D2=new RegExp(`^rgb\\(${Kt},${Kt},${Kt}\\)$`),L2=new RegExp(`^rgba\\(${_o},${_o},${_o},${zo}\\)$`),F2=new RegExp(`^rgba\\(${Kt},${Kt},${Kt},${zo}\\)$`),B2=new RegExp(`^hsl\\(${zo},${Kt},${Kt}\\)$`),j2=new RegExp(`^hsla\\(${zo},${Kt},${Kt},${zo}\\)$`),gu={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ts(ri,Wn,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:bu,formatHex:bu,formatHex8:q2,formatHsl:G2,formatRgb:vu,toString:vu});function bu(){return this.rgb().formatHex()}function q2(){return this.rgb().formatHex8()}function G2(){return wd(this).formatHsl()}function vu(){return this.rgb().formatRgb()}function Wn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=$2.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?yu(e):n===3?new St(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Ti(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Ti(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=R2.exec(t))?new St(e[1],e[2],e[3],1):(e=D2.exec(t))?new St(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=L2.exec(t))?Ti(e[1],e[2],e[3],e[4]):(e=F2.exec(t))?Ti(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=B2.exec(t))?Cu(e[1],e[2]/100,e[3]/100,1):(e=j2.exec(t))?Cu(e[1],e[2]/100,e[3]/100,e[4]):gu.hasOwnProperty(t)?yu(gu[t]):t==="transparent"?new St(NaN,NaN,NaN,0):null}function yu(t){return new St(t>>16&255,t>>8&255,t&255,1)}function Ti(t,e,n,o){return o<=0&&(t=e=n=NaN),new St(t,e,n,o)}function V2(t){return t instanceof ri||(t=Wn(t)),t?(t=t.rgb(),new St(t.r,t.g,t.b,t.opacity)):new St}function yl(t,e,n,o){return arguments.length===1?V2(t):new St(t,e,n,o??1)}function St(t,e,n,o){this.r=+t,this.g=+e,this.b=+n,this.opacity=+o}ts(St,yl,yd(ri,{brighter(t){return t=t==null?rr:Math.pow(rr,t),new St(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Qo:Math.pow(Qo,t),new St(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new St(Ln(this.r),Ln(this.g),Ln(this.b),lr(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:wu,formatHex:wu,formatHex8:H2,formatRgb:ku,toString:ku}));function wu(){return`#${$n(this.r)}${$n(this.g)}${$n(this.b)}`}function H2(){return`#${$n(this.r)}${$n(this.g)}${$n(this.b)}${$n((isNaN(this.opacity)?1:this.opacity)*255)}`}function ku(){const t=lr(this.opacity);return`${t===1?"rgb(":"rgba("}${Ln(this.r)}, ${Ln(this.g)}, ${Ln(this.b)}${t===1?")":`, ${t})`}`}function lr(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ln(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function $n(t){return t=Ln(t),(t<16?"0":"")+t.toString(16)}function Cu(t,e,n,o){return o<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Bt(t,e,n,o)}function wd(t){if(t instanceof Bt)return new Bt(t.h,t.s,t.l,t.opacity);if(t instanceof ri||(t=Wn(t)),!t)return new Bt;if(t instanceof Bt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,o=t.b/255,i=Math.min(e,n,o),r=Math.max(e,n,o),l=NaN,a=r-i,s=(r+i)/2;return a?(e===r?l=(n-o)/a+(n<o)*6:n===r?l=(o-e)/a+2:l=(e-n)/a+4,a/=s<.5?r+i:2-r-i,l*=60):a=s>0&&s<1?0:l,new Bt(l,a,s,t.opacity)}function W2(t,e,n,o){return arguments.length===1?wd(t):new Bt(t,e,n,o??1)}function Bt(t,e,n,o){this.h=+t,this.s=+e,this.l=+n,this.opacity=+o}ts(Bt,W2,yd(ri,{brighter(t){return t=t==null?rr:Math.pow(rr,t),new Bt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Qo:Math.pow(Qo,t),new Bt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*e,i=2*n-o;return new St(zr(t>=240?t-240:t+120,i,o),zr(t,i,o),zr(t<120?t+240:t-120,i,o),this.opacity)},clamp(){return new Bt(Au(this.h),Mi(this.s),Mi(this.l),lr(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=lr(this.opacity);return`${t===1?"hsl(":"hsla("}${Au(this.h)}, ${Mi(this.s)*100}%, ${Mi(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Au(t){return t=(t||0)%360,t<0?t+360:t}function Mi(t){return Math.max(0,Math.min(1,t||0))}function zr(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const ns=t=>()=>t;function Y2(t,e){return function(n){return t+n*e}}function U2(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(o){return Math.pow(t+o*e,n)}}function K2(t){return(t=+t)==1?kd:function(e,n){return n-e?U2(e,n,t):ns(isNaN(e)?n:e)}}function kd(t,e){var n=e-t;return n?Y2(t,n):ns(isNaN(t)?e:t)}const sr=function t(e){var n=K2(e);function o(i,r){var l=n((i=yl(i)).r,(r=yl(r)).r),a=n(i.g,r.g),s=n(i.b,r.b),u=kd(i.opacity,r.opacity);return function(f){return i.r=l(f),i.g=a(f),i.b=s(f),i.opacity=u(f),i+""}}return o.gamma=t,o}(1);function X2(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,o=e.slice(),i;return function(r){for(i=0;i<n;++i)o[i]=t[i]*(1-r)+e[i]*r;return o}}function J2(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function x2(t,e){var n=e?e.length:0,o=t?Math.min(n,t.length):0,i=new Array(o),r=new Array(n),l;for(l=0;l<o;++l)i[l]=os(t[l],e[l]);for(;l<n;++l)r[l]=e[l];return function(a){for(l=0;l<o;++l)r[l]=i[l](a);return r}}function Z2(t,e){var n=new Date;return t=+t,e=+e,function(o){return n.setTime(t*(1-o)+e*o),n}}function Ft(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Q2(t,e){var n={},o={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=os(t[i],e[i]):o[i]=e[i];return function(r){for(i in n)o[i]=n[i](r);return o}}var wl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,el=new RegExp(wl.source,"g");function z2(t){return function(){return t}}function ek(t){return function(e){return t(e)+""}}function Cd(t,e){var n=wl.lastIndex=el.lastIndex=0,o,i,r,l=-1,a=[],s=[];for(t=t+"",e=e+"";(o=wl.exec(t))&&(i=el.exec(e));)(r=i.index)>n&&(r=e.slice(n,r),a[l]?a[l]+=r:a[++l]=r),(o=o[0])===(i=i[0])?a[l]?a[l]+=i:a[++l]=i:(a[++l]=null,s.push({i:l,x:Ft(o,i)})),n=el.lastIndex;return n<e.length&&(r=e.slice(n),a[l]?a[l]+=r:a[++l]=r),a.length<2?s[0]?ek(s[0].x):z2(e):(e=s.length,function(u){for(var f=0,c;f<e;++f)a[(c=s[f]).i]=c.x(u);return a.join("")})}function os(t,e){var n=typeof e,o;return e==null||n==="boolean"?ns(e):(n==="number"?Ft:n==="string"?(o=Wn(e))?(e=o,sr):Cd:e instanceof Wn?sr:e instanceof Date?Z2:J2(e)?X2:Array.isArray(e)?x2:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Q2:Ft)(t,e)}function tk(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var Su=180/Math.PI,kl={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ad(t,e,n,o,i,r){var l,a,s;return(l=Math.sqrt(t*t+e*e))&&(t/=l,e/=l),(s=t*n+e*o)&&(n-=t*s,o-=e*s),(a=Math.sqrt(n*n+o*o))&&(n/=a,o/=a,s/=a),t*o<e*n&&(t=-t,e=-e,s=-s,l=-l),{translateX:i,translateY:r,rotate:Math.atan2(e,t)*Su,skewX:Math.atan(s)*Su,scaleX:l,scaleY:a}}var Ii;function nk(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?kl:Ad(e.a,e.b,e.c,e.d,e.e,e.f)}function ok(t){return t==null||(Ii||(Ii=document.createElementNS("http://www.w3.org/2000/svg","g")),Ii.setAttribute("transform",t),!(t=Ii.transform.baseVal.consolidate()))?kl:(t=t.matrix,Ad(t.a,t.b,t.c,t.d,t.e,t.f))}function Sd(t,e,n,o){function i(u){return u.length?u.pop()+" ":""}function r(u,f,c,d,m,p){if(u!==c||f!==d){var _=m.push("translate(",null,e,null,n);p.push({i:_-4,x:Ft(u,c)},{i:_-2,x:Ft(f,d)})}else(c||d)&&m.push("translate("+c+e+d+n)}function l(u,f,c,d){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),d.push({i:c.push(i(c)+"rotate(",null,o)-2,x:Ft(u,f)})):f&&c.push(i(c)+"rotate("+f+o)}function a(u,f,c,d){u!==f?d.push({i:c.push(i(c)+"skewX(",null,o)-2,x:Ft(u,f)}):f&&c.push(i(c)+"skewX("+f+o)}function s(u,f,c,d,m,p){if(u!==c||f!==d){var _=m.push(i(m)+"scale(",null,",",null,")");p.push({i:_-4,x:Ft(u,c)},{i:_-2,x:Ft(f,d)})}else(c!==1||d!==1)&&m.push(i(m)+"scale("+c+","+d+")")}return function(u,f){var c=[],d=[];return u=t(u),f=t(f),r(u.translateX,u.translateY,f.translateX,f.translateY,c,d),l(u.rotate,f.rotate,c,d),a(u.skewX,f.skewX,c,d),s(u.scaleX,u.scaleY,f.scaleX,f.scaleY,c,d),u=f=null,function(m){for(var p=-1,_=d.length,v;++p<_;)c[(v=d[p]).i]=v.x(m);return c.join("")}}}var ik=Sd(nk,"px, ","px)","deg)"),rk=Sd(ok,", ",")",")"),wo=0,Go=0,Bo=0,Td=1e3,ar,Vo,ur=0,Yn=0,Pr=0,ei=typeof performance=="object"&&performance.now?performance:Date,Md=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function is(){return Yn||(Md(lk),Yn=ei.now()+Pr)}function lk(){Yn=0}function fr(){this._call=this._time=this._next=null}fr.prototype=Id.prototype={constructor:fr,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?is():+n)+(e==null?0:+e),!this._next&&Vo!==this&&(Vo?Vo._next=this:ar=this,Vo=this),this._call=t,this._time=n,Cl()},stop:function(){this._call&&(this._call=null,this._time=1/0,Cl())}};function Id(t,e,n){var o=new fr;return o.restart(t,e,n),o}function sk(){is(),++wo;for(var t=ar,e;t;)(e=Yn-t._time)>=0&&t._call.call(void 0,e),t=t._next;--wo}function Tu(){Yn=(ur=ei.now())+Pr,wo=Go=0;try{sk()}finally{wo=0,uk(),Yn=0}}function ak(){var t=ei.now(),e=t-ur;e>Td&&(Pr-=e,ur=t)}function uk(){for(var t,e=ar,n,o=1/0;e;)e._call?(o>e._time&&(o=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:ar=n);Vo=t,Cl(o)}function Cl(t){if(!wo){Go&&(Go=clearTimeout(Go));var e=t-Yn;e>24?(t<1/0&&(Go=setTimeout(Tu,t-ei.now()-Pr)),Bo&&(Bo=clearInterval(Bo))):(Bo||(ur=ei.now(),Bo=setInterval(ak,Td)),wo=1,Md(Tu))}}function Mu(t,e,n){var o=new fr;return e=e==null?0:+e,o.restart(i=>{o.stop(),t(i+e)},e,n),o}var fk=sd("start","end","cancel","interrupt"),ck=[],Od=0,Iu=1,Al=2,Li=3,Ou=4,Sl=5,Fi=6;function Nr(t,e,n,o,i,r){var l=t.__transition;if(!l)t.__transition={};else if(n in l)return;dk(t,n,{name:e,index:o,group:i,on:fk,tween:ck,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:Od})}function rs(t,e){var n=Gt(t,e);if(n.state>Od)throw new Error("too late; already scheduled");return n}function zt(t,e){var n=Gt(t,e);if(n.state>Li)throw new Error("too late; already running");return n}function Gt(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function dk(t,e,n){var o=t.__transition,i;o[e]=n,n.timer=Id(r,0,n.time);function r(u){n.state=Iu,n.timer.restart(l,n.delay,n.time),n.delay<=u&&l(u-n.delay)}function l(u){var f,c,d,m;if(n.state!==Iu)return s();for(f in o)if(m=o[f],m.name===n.name){if(m.state===Li)return Mu(l);m.state===Ou?(m.state=Fi,m.timer.stop(),m.on.call("interrupt",t,t.__data__,m.index,m.group),delete o[f]):+f<e&&(m.state=Fi,m.timer.stop(),m.on.call("cancel",t,t.__data__,m.index,m.group),delete o[f])}if(Mu(function(){n.state===Li&&(n.state=Ou,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=Al,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Al){for(n.state=Li,i=new Array(d=n.tween.length),f=0,c=-1;f<d;++f)(m=n.tween[f].value.call(t,t.__data__,n.index,n.group))&&(i[++c]=m);i.length=c+1}}function a(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(s),n.state=Sl,1),c=-1,d=i.length;++c<d;)i[c].call(t,f);n.state===Sl&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){n.state=Fi,n.timer.stop(),delete o[e];for(var u in o)return;delete t.__transition}}function mk(t,e){var n=t.__transition,o,i,r=!0,l;if(n){e=e==null?null:e+"";for(l in n){if((o=n[l]).name!==e){r=!1;continue}i=o.state>Al&&o.state<Sl,o.state=Fi,o.timer.stop(),o.on.call(i?"interrupt":"cancel",t,t.__data__,o.index,o.group),delete n[l]}r&&delete t.__transition}}function pk(t){return this.each(function(){mk(this,t)})}function hk(t,e){var n,o;return function(){var i=zt(this,t),r=i.tween;if(r!==n){o=n=r;for(var l=0,a=o.length;l<a;++l)if(o[l].name===e){o=o.slice(),o.splice(l,1);break}}i.tween=o}}function _k(t,e,n){var o,i;if(typeof n!="function")throw new Error;return function(){var r=zt(this,t),l=r.tween;if(l!==o){i=(o=l).slice();for(var a={name:e,value:n},s=0,u=i.length;s<u;++s)if(i[s].name===e){i[s]=a;break}s===u&&i.push(a)}r.tween=i}}function gk(t,e){var n=this._id;if(t+="",arguments.length<2){for(var o=Gt(this.node(),n).tween,i=0,r=o.length,l;i<r;++i)if((l=o[i]).name===t)return l.value;return null}return this.each((e==null?hk:_k)(n,t,e))}function ls(t,e,n){var o=t._id;return t.each(function(){var i=zt(this,o);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return Gt(i,o).value[e]}}function Pd(t,e){var n;return(typeof e=="number"?Ft:e instanceof Wn?sr:(n=Wn(e))?(e=n,sr):Cd)(t,e)}function bk(t){return function(){this.removeAttribute(t)}}function vk(t){return function(){this.removeAttributeNS(t.space,t.local)}}function yk(t,e,n){var o,i=n+"",r;return function(){var l=this.getAttribute(t);return l===i?null:l===o?r:r=e(o=l,n)}}function wk(t,e,n){var o,i=n+"",r;return function(){var l=this.getAttributeNS(t.space,t.local);return l===i?null:l===o?r:r=e(o=l,n)}}function kk(t,e,n){var o,i,r;return function(){var l,a=n(this),s;return a==null?void this.removeAttribute(t):(l=this.getAttribute(t),s=a+"",l===s?null:l===o&&s===i?r:(i=s,r=e(o=l,a)))}}function Ck(t,e,n){var o,i,r;return function(){var l,a=n(this),s;return a==null?void this.removeAttributeNS(t.space,t.local):(l=this.getAttributeNS(t.space,t.local),s=a+"",l===s?null:l===o&&s===i?r:(i=s,r=e(o=l,a)))}}function Ak(t,e){var n=Or(t),o=n==="transform"?rk:Pd;return this.attrTween(t,typeof e=="function"?(n.local?Ck:kk)(n,o,ls(this,"attr."+t,e)):e==null?(n.local?vk:bk)(n):(n.local?wk:yk)(n,o,e))}function Sk(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Tk(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Mk(t,e){var n,o;function i(){var r=e.apply(this,arguments);return r!==o&&(n=(o=r)&&Tk(t,r)),n}return i._value=e,i}function Ik(t,e){var n,o;function i(){var r=e.apply(this,arguments);return r!==o&&(n=(o=r)&&Sk(t,r)),n}return i._value=e,i}function Ok(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var o=Or(t);return this.tween(n,(o.local?Mk:Ik)(o,e))}function Pk(t,e){return function(){rs(this,t).delay=+e.apply(this,arguments)}}function Nk(t,e){return e=+e,function(){rs(this,t).delay=e}}function Ek(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Pk:Nk)(e,t)):Gt(this.node(),e).delay}function $k(t,e){return function(){zt(this,t).duration=+e.apply(this,arguments)}}function Rk(t,e){return e=+e,function(){zt(this,t).duration=e}}function Dk(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?$k:Rk)(e,t)):Gt(this.node(),e).duration}function Lk(t,e){if(typeof e!="function")throw new Error;return function(){zt(this,t).ease=e}}function Fk(t){var e=this._id;return arguments.length?this.each(Lk(e,t)):Gt(this.node(),e).ease}function Bk(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;zt(this,t).ease=n}}function jk(t){if(typeof t!="function")throw new Error;return this.each(Bk(this._id,t))}function qk(t){typeof t!="function"&&(t=fd(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var r=e[i],l=r.length,a=o[i]=[],s,u=0;u<l;++u)(s=r[u])&&t.call(s,s.__data__,u,r)&&a.push(s);return new fn(o,this._parents,this._name,this._id)}function Gk(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,o=e.length,i=n.length,r=Math.min(o,i),l=new Array(o),a=0;a<r;++a)for(var s=e[a],u=n[a],f=s.length,c=l[a]=new Array(f),d,m=0;m<f;++m)(d=s[m]||u[m])&&(c[m]=d);for(;a<o;++a)l[a]=e[a];return new fn(l,this._parents,this._name,this._id)}function Vk(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Hk(t,e,n){var o,i,r=Vk(e)?rs:zt;return function(){var l=r(this,t),a=l.on;a!==o&&(i=(o=a).copy()).on(e,n),l.on=i}}function Wk(t,e){var n=this._id;return arguments.length<2?Gt(this.node(),n).on.on(t):this.each(Hk(n,t,e))}function Yk(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Uk(){return this.on("end.remove",Yk(this._id))}function Kk(t){var e=this._name,n=this._id;typeof t!="function"&&(t=zl(t));for(var o=this._groups,i=o.length,r=new Array(i),l=0;l<i;++l)for(var a=o[l],s=a.length,u=r[l]=new Array(s),f,c,d=0;d<s;++d)(f=a[d])&&(c=t.call(f,f.__data__,d,a))&&("__data__"in f&&(c.__data__=f.__data__),u[d]=c,Nr(u[d],e,n,d,u,Gt(f,n)));return new fn(r,this._parents,e,n)}function Xk(t){var e=this._name,n=this._id;typeof t!="function"&&(t=ud(t));for(var o=this._groups,i=o.length,r=[],l=[],a=0;a<i;++a)for(var s=o[a],u=s.length,f,c=0;c<u;++c)if(f=s[c]){for(var d=t.call(f,f.__data__,c,s),m,p=Gt(f,n),_=0,v=d.length;_<v;++_)(m=d[_])&&Nr(m,e,n,_,d,p);r.push(d),l.push(f)}return new fn(r,l,e,n)}var Jk=ii.prototype.constructor;function xk(){return new Jk(this._groups,this._parents)}function Zk(t,e){var n,o,i;return function(){var r=yo(this,t),l=(this.style.removeProperty(t),yo(this,t));return r===l?null:r===n&&l===o?i:i=e(n=r,o=l)}}function Nd(t){return function(){this.style.removeProperty(t)}}function Qk(t,e,n){var o,i=n+"",r;return function(){var l=yo(this,t);return l===i?null:l===o?r:r=e(o=l,n)}}function zk(t,e,n){var o,i,r;return function(){var l=yo(this,t),a=n(this),s=a+"";return a==null&&(s=a=(this.style.removeProperty(t),yo(this,t))),l===s?null:l===o&&s===i?r:(i=s,r=e(o=l,a))}}function e5(t,e){var n,o,i,r="style."+e,l="end."+r,a;return function(){var s=zt(this,t),u=s.on,f=s.value[r]==null?a||(a=Nd(e)):void 0;(u!==n||i!==f)&&(o=(n=u).copy()).on(l,i=f),s.on=o}}function t5(t,e,n){var o=(t+="")=="transform"?ik:Pd;return e==null?this.styleTween(t,Zk(t,o)).on("end.style."+t,Nd(t)):typeof e=="function"?this.styleTween(t,zk(t,o,ls(this,"style."+t,e))).each(e5(this._id,t)):this.styleTween(t,Qk(t,o,e),n).on("end.style."+t,null)}function n5(t,e,n){return function(o){this.style.setProperty(t,e.call(this,o),n)}}function o5(t,e,n){var o,i;function r(){var l=e.apply(this,arguments);return l!==i&&(o=(i=l)&&n5(t,l,n)),o}return r._value=e,r}function i5(t,e,n){var o="style."+(t+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(e==null)return this.tween(o,null);if(typeof e!="function")throw new Error;return this.tween(o,o5(t,e,n??""))}function r5(t){return function(){this.textContent=t}}function l5(t){return function(){var e=t(this);this.textContent=e??""}}function s5(t){return this.tween("text",typeof t=="function"?l5(ls(this,"text",t)):r5(t==null?"":t+""))}function a5(t){return function(e){this.textContent=t.call(this,e)}}function u5(t){var e,n;function o(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&a5(i)),e}return o._value=t,o}function f5(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,u5(t))}function c5(){for(var t=this._name,e=this._id,n=Ed(),o=this._groups,i=o.length,r=0;r<i;++r)for(var l=o[r],a=l.length,s,u=0;u<a;++u)if(s=l[u]){var f=Gt(s,e);Nr(s,t,n,u,l,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new fn(o,this._parents,t,n)}function d5(){var t,e,n=this,o=n._id,i=n.size();return new Promise(function(r,l){var a={value:l},s={value:function(){--i===0&&r()}};n.each(function(){var u=zt(this,o),f=u.on;f!==t&&(e=(t=f).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(s)),u.on=e}),i===0&&r()})}var m5=0;function fn(t,e,n,o){this._groups=t,this._parents=e,this._name=n,this._id=o}function Ed(){return++m5}var nn=ii.prototype;fn.prototype={constructor:fn,select:Kk,selectAll:Xk,selectChild:nn.selectChild,selectChildren:nn.selectChildren,filter:qk,merge:Gk,selection:xk,transition:c5,call:nn.call,nodes:nn.nodes,node:nn.node,size:nn.size,empty:nn.empty,each:nn.each,on:Wk,attr:Ak,attrTween:Ok,style:t5,styleTween:i5,text:s5,textTween:f5,remove:Uk,tween:gk,delay:Ek,duration:Dk,ease:Fk,easeVarying:jk,end:d5,[Symbol.iterator]:nn[Symbol.iterator]};function p5(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var h5={time:null,delay:0,duration:250,ease:p5};function _5(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function g5(t){var e,n;t instanceof fn?(e=t._id,t=t._name):(e=Ed(),(n=h5).time=is(),t=t==null?null:t+"");for(var o=this._groups,i=o.length,r=0;r<i;++r)for(var l=o[r],a=l.length,s,u=0;u<a;++u)(s=l[u])&&Nr(s,t,e,u,l,n||_5(s,e));return new fn(o,this._parents,t,e)}ii.prototype.interrupt=pk;ii.prototype.transition=g5;const Tl=Math.PI,Ml=2*Tl,Pn=1e-6,b5=Ml-Pn;function $d(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function v5(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return $d;const n=10**e;return function(o){this._+=o[0];for(let i=1,r=o.length;i<r;++i)this._+=Math.round(arguments[i]*n)/n+o[i]}}class y5{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?$d:v5(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,o,i){this._append`Q${+e},${+n},${this._x1=+o},${this._y1=+i}`}bezierCurveTo(e,n,o,i,r,l){this._append`C${+e},${+n},${+o},${+i},${this._x1=+r},${this._y1=+l}`}arcTo(e,n,o,i,r){if(e=+e,n=+n,o=+o,i=+i,r=+r,r<0)throw new Error(`negative radius: ${r}`);let l=this._x1,a=this._y1,s=o-e,u=i-n,f=l-e,c=a-n,d=f*f+c*c;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(d>Pn)if(!(Math.abs(c*s-u*f)>Pn)||!r)this._append`L${this._x1=e},${this._y1=n}`;else{let m=o-l,p=i-a,_=s*s+u*u,v=m*m+p*p,w=Math.sqrt(_),k=Math.sqrt(d),C=r*Math.tan((Tl-Math.acos((_+d-v)/(2*w*k)))/2),D=C/k,L=C/w;Math.abs(D-1)>Pn&&this._append`L${e+D*f},${n+D*c}`,this._append`A${r},${r},0,0,${+(c*m>f*p)},${this._x1=e+L*s},${this._y1=n+L*u}`}}arc(e,n,o,i,r,l){if(e=+e,n=+n,o=+o,l=!!l,o<0)throw new Error(`negative radius: ${o}`);let a=o*Math.cos(i),s=o*Math.sin(i),u=e+a,f=n+s,c=1^l,d=l?i-r:r-i;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>Pn||Math.abs(this._y1-f)>Pn)&&this._append`L${u},${f}`,o&&(d<0&&(d=d%Ml+Ml),d>b5?this._append`A${o},${o},0,1,${c},${e-a},${n-s}A${o},${o},0,1,${c},${this._x1=u},${this._y1=f}`:d>Pn&&this._append`A${o},${o},0,${+(d>=Tl)},${c},${this._x1=e+o*Math.cos(r)},${this._y1=n+o*Math.sin(r)}`)}rect(e,n,o,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${o=+o}v${+i}h${-o}Z`}toString(){return this._}}function w5(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function cr(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,o=t.slice(0,n);return[o.length>1?o[0]+o.slice(2):o,+t.slice(n+1)]}function ko(t){return t=cr(Math.abs(t)),t?t[1]:NaN}function k5(t,e){return function(n,o){for(var i=n.length,r=[],l=0,a=t[0],s=0;i>0&&a>0&&(s+a+1>o&&(a=Math.max(1,o-s)),r.push(n.substring(i-=a,i+a)),!((s+=a+1)>o));)a=t[l=(l+1)%t.length];return r.reverse().join(e)}}function C5(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var A5=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function dr(t){if(!(e=A5.exec(t)))throw new Error("invalid format: "+t);var e;return new ss({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}dr.prototype=ss.prototype;function ss(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}ss.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function S5(t){e:for(var e=t.length,n=1,o=-1,i;n<e;++n)switch(t[n]){case".":o=i=n;break;case"0":o===0&&(o=n),i=n;break;default:if(!+t[n])break e;o>0&&(o=0);break}return o>0?t.slice(0,o)+t.slice(i+1):t}var Rd;function T5(t,e){var n=cr(t,e);if(!n)return t+"";var o=n[0],i=n[1],r=i-(Rd=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=o.length;return r===l?o:r>l?o+new Array(r-l+1).join("0"):r>0?o.slice(0,r)+"."+o.slice(r):"0."+new Array(1-r).join("0")+cr(t,Math.max(0,e+r-1))[0]}function Pu(t,e){var n=cr(t,e);if(!n)return t+"";var o=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+o:o.length>i+1?o.slice(0,i+1)+"."+o.slice(i+1):o+new Array(i-o.length+2).join("0")}const Nu={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:w5,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Pu(t*100,e),r:Pu,s:T5,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Eu(t){return t}var $u=Array.prototype.map,Ru=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function M5(t){var e=t.grouping===void 0||t.thousands===void 0?Eu:k5($u.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",o=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",r=t.numerals===void 0?Eu:C5($u.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"−":t.minus+"",s=t.nan===void 0?"NaN":t.nan+"";function u(c){c=dr(c);var d=c.fill,m=c.align,p=c.sign,_=c.symbol,v=c.zero,w=c.width,k=c.comma,C=c.precision,D=c.trim,L=c.type;L==="n"?(k=!0,L="g"):Nu[L]||(C===void 0&&(C=12),D=!0,L="g"),(v||d==="0"&&m==="=")&&(v=!0,d="0",m="=");var P=_==="$"?n:_==="#"&&/[boxX]/.test(L)?"0"+L.toLowerCase():"",$=_==="$"?o:/[%p]/.test(L)?l:"",G=Nu[L],R=/[defgprs%]/.test(L);C=C===void 0?6:/[gprs]/.test(L)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function W(y){var b=P,O=$,E,H,V;if(L==="c")O=G(y)+O,y="";else{y=+y;var K=y<0||1/y<0;if(y=isNaN(y)?s:G(Math.abs(y),C),D&&(y=S5(y)),K&&+y==0&&p!=="+"&&(K=!1),b=(K?p==="("?p:a:p==="-"||p==="("?"":p)+b,O=(L==="s"?Ru[8+Rd/3]:"")+O+(K&&p==="("?")":""),R){for(E=-1,H=y.length;++E<H;)if(V=y.charCodeAt(E),48>V||V>57){O=(V===46?i+y.slice(E+1):y.slice(E))+O,y=y.slice(0,E);break}}}k&&!v&&(y=e(y,1/0));var z=b.length+y.length+O.length,te=z<w?new Array(w-z+1).join(d):"";switch(k&&v&&(y=e(te+y,te.length?w-O.length:1/0),te=""),m){case"<":y=b+y+O+te;break;case"=":y=b+te+y+O;break;case"^":y=te.slice(0,z=te.length>>1)+b+y+O+te.slice(z);break;default:y=te+b+y+O;break}return r(y)}return W.toString=function(){return c+""},W}function f(c,d){var m=u((c=dr(c),c.type="f",c)),p=Math.max(-8,Math.min(8,Math.floor(ko(d)/3)))*3,_=Math.pow(10,-p),v=Ru[8+p/3];return function(w){return m(_*w)+v}}return{format:u,formatPrefix:f}}var Oi,Dd,Ld;I5({thousands:",",grouping:[3],currency:["$",""]});function I5(t){return Oi=M5(t),Dd=Oi.format,Ld=Oi.formatPrefix,Oi}function O5(t){return Math.max(0,-ko(Math.abs(t)))}function P5(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ko(e)/3)))*3-ko(Math.abs(t)))}function N5(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,ko(e)-ko(t))+1}function E5(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function $5(t){return function(){return t}}function R5(t){return+t}var Du=[0,1];function co(t){return t}function Il(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:$5(isNaN(e)?NaN:.5)}function D5(t,e){var n;return t>e&&(n=t,t=e,e=n),function(o){return Math.max(t,Math.min(e,o))}}function L5(t,e,n){var o=t[0],i=t[1],r=e[0],l=e[1];return i<o?(o=Il(i,o),r=n(l,r)):(o=Il(o,i),r=n(r,l)),function(a){return r(o(a))}}function F5(t,e,n){var o=Math.min(t.length,e.length)-1,i=new Array(o),r=new Array(o),l=-1;for(t[o]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<o;)i[l]=Il(t[l],t[l+1]),r[l]=n(e[l],e[l+1]);return function(a){var s=Fy(t,a,1,o)-1;return r[s](i[s](a))}}function B5(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function j5(){var t=Du,e=Du,n=os,o,i,r,l=co,a,s,u;function f(){var d=Math.min(t.length,e.length);return l!==co&&(l=D5(t[0],t[d-1])),a=d>2?F5:L5,s=u=null,c}function c(d){return d==null||isNaN(d=+d)?r:(s||(s=a(t.map(o),e,n)))(o(l(d)))}return c.invert=function(d){return l(i((u||(u=a(e,t.map(o),Ft)))(d)))},c.domain=function(d){return arguments.length?(t=Array.from(d,R5),f()):t.slice()},c.range=function(d){return arguments.length?(e=Array.from(d),f()):e.slice()},c.rangeRound=function(d){return e=Array.from(d),n=tk,f()},c.clamp=function(d){return arguments.length?(l=d?!0:co,f()):l!==co},c.interpolate=function(d){return arguments.length?(n=d,f()):n},c.unknown=function(d){return arguments.length?(r=d,c):r},function(d,m){return o=d,i=m,f()}}function q5(){return j5()(co,co)}function G5(t,e,n,o){var i=Vy(t,e,n),r;switch(o=dr(o??",f"),o.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return o.precision==null&&!isNaN(r=P5(i,l))&&(o.precision=r),Ld(o,l)}case"":case"e":case"g":case"p":case"r":{o.precision==null&&!isNaN(r=N5(i,Math.max(Math.abs(t),Math.abs(e))))&&(o.precision=r-(o.type==="e"));break}case"f":case"%":{o.precision==null&&!isNaN(r=O5(i))&&(o.precision=r-(o.type==="%")*2);break}}return Dd(o)}function V5(t){var e=t.domain;return t.ticks=function(n){var o=e();return Gy(o[0],o[o.length-1],n??10)},t.tickFormat=function(n,o){var i=e();return G5(i[0],i[i.length-1],n??10,o)},t.nice=function(n){n==null&&(n=10);var o=e(),i=0,r=o.length-1,l=o[i],a=o[r],s,u,f=10;for(a<l&&(u=l,l=a,a=u,u=i,i=r,r=u);f-- >0;){if(u=gl(l,a,n),u===s)return o[i]=l,o[r]=a,e(o);if(u>0)l=Math.floor(l/u)*u,a=Math.ceil(a/u)*u;else if(u<0)l=Math.ceil(l*u)/u,a=Math.floor(a*u)/u;else break;s=u}return t},t}function Ol(){var t=q5();return t.copy=function(){return B5(t,Ol())},E5.apply(t,arguments),V5(t)}function ao(t){return function(){return t}}function H5(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const o=Math.floor(n);if(!(o>=0))throw new RangeError(`invalid digits: ${n}`);e=o}return t},()=>new y5(e)}function W5(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Fd(t){this._context=t}Fd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Y5(t){return new Fd(t)}function U5(t){return t[0]}function K5(t){return t[1]}function tl(t,e){var n=ao(!0),o=null,i=Y5,r=null,l=H5(a);t=typeof t=="function"?t:t===void 0?U5:ao(t),e=typeof e=="function"?e:e===void 0?K5:ao(e);function a(s){var u,f=(s=W5(s)).length,c,d=!1,m;for(o==null&&(r=i(m=l())),u=0;u<=f;++u)!(u<f&&n(c=s[u],u,s))===d&&((d=!d)?r.lineStart():r.lineEnd()),d&&r.point(+t(c,u,s),+e(c,u,s));if(m)return r=null,m+""||null}return a.x=function(s){return arguments.length?(t=typeof s=="function"?s:ao(+s),a):t},a.y=function(s){return arguments.length?(e=typeof s=="function"?s:ao(+s),a):e},a.defined=function(s){return arguments.length?(n=typeof s=="function"?s:ao(!!s),a):n},a.curve=function(s){return arguments.length?(i=s,o!=null&&(r=i(o)),a):i},a.context=function(s){return arguments.length?(s==null?o=r=null:r=i(o=s),a):o},a}function Ho(t,e,n){this.k=t,this.x=e,this.y=n}Ho.prototype={constructor:Ho,scale:function(t){return t===1?this:new Ho(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Ho(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Ho.prototype;function X5(t){let e;return{c(){e=hr("svg"),N(e,"id","line-chart")},m(n,o){M(n,e,o)},p:Ce,i:Ce,o:Ce,d(n){n&&T(e)}}}const Lu=52;function J5(t,e,n){let{data:o=[]}=e,i,r,l;const a={top:10,right:30,bottom:10,left:20},s=500-a.left-a.right,u=400-a.top-a.bottom;tl().x((p,_)=>r(_)).y(p=>l(p)),_r(()=>{n(1,i=E2("#line-chart").attr("width",s+a.left+a.right).attr("height",u+a.top+a.bottom)),r=Ol().range([0,s]),l=Ol().range([u,0]),o.length&&f()});function f(){const p=o.length>Lu?o.slice(-Lu):o;c(p),d(p),m()}function c(p){i.selectAll(".line").remove();const _=tl().defined(w=>w>-5).x((w,k)=>r(k)).y(w=>l(w)),v=tl().defined(w=>w<0).x((w,k)=>r(k)).y(w=>l(w));i.append("path").datum(p).attr("class","line positive").attr("d",_).attr("transform",`translate(${a.left},${a.top})`).attr("fill","none").attr("stroke","green").attr("stroke-width",2),i.append("path").datum(p).attr("class","line negative").attr("d",v).attr("transform",`translate(${a.left},${a.top})`).attr("fill","none").attr("stroke","red").attr("stroke-width",2)}function d(p){const _=Math.max(0,...p),v=Math.min(0,...p);r.domain([0,p.length-1]),l.domain([v,_]).nice()}function m(p){const _=Jy(r).ticks(0),v=xy(l).ticks(10);i.selectAll(".axis").remove(),i.append("g").attr("class","axis x-axis").attr("transform",`translate(${a.left},${u+a.top})`).call(_),i.append("g").attr("class","axis y-axis").attr("transform",`translate(${a.left},${a.top})`).call(v)}return t.$$set=p=>{"data"in p&&n(0,o=p.data)},t.$$.update=()=>{t.$$.dirty&3&&o&&i&&f()},[o,i]}class x5 extends be{constructor(e){super(),ge(this,e,J5,X5,fe,{data:0})}}function Z5(t){let e,n=t[1].townInfo.knowledge_points+"",o,i;return{c(){e=F("Manage your Knowledge ("),o=F(n),i=F(" pts)")},m(r,l){M(r,e,l),M(r,o,l),M(r,i,l)},p(r,l){l&2&&n!==(n=r[1].townInfo.knowledge_points+"")&&re(o,n)},d(r){r&&(T(e),T(o),T(i))}}}function Q5(t){let e,n,o,i;return e=new Jn({props:{$$slots:{default:[Z5]},$$scope:{ctx:t}}}),o=new Qn({}),{c(){Z(e.$$.fragment),n=q(),Z(o.$$.fragment)},m(r,l){X(e,r,l),M(r,n,l),X(o,r,l),i=!0},p(r,l){const a={};l&258&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),J(e,r),J(o,r)}}}function Fu(t){let e,n,o=Gu(t[1].townInfo.knowledge_points*t[3])+"",i,r;return{c(){e=I("br"),n=F(`
          (total value: $`),i=F(o),r=F(")")},m(l,a){M(l,e,a),M(l,n,a),M(l,i,a),M(l,r,a)},p(l,a){a&10&&o!==(o=Gu(l[1].townInfo.knowledge_points*l[3])+"")&&re(i,o)},d(l){l&&(T(e),T(n),T(i),T(r))}}}function Bu(t){let e;return{c(){e=I("div"),e.innerHTML=`Wait until the market value is <span class="text-green-500">positive</span> to sell your Knowledge for Gold. Keep in mind that you need a bank to
          convert.`},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function ju(t){let e,n,o;return n=new yt({props:{variant:"default",$$slots:{default:[z5]},$$scope:{ctx:t}}}),n.$on("click",t[0]),{c(){e=I("div"),Z(n.$$.fragment)},m(i,r){M(i,e,r),X(n,e,null),o=!0},p(i,r){const l={};r&256&&(l.$$scope={dirty:r,ctx:i}),n.$set(l)},i(i){o||(A(n.$$.fragment,i),o=!0)},o(i){S(n.$$.fragment,i),o=!1},d(i){i&&T(e),J(n)}}}function z5(t){let e;return{c(){e=F("Convert Knowledge to Gold")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function qu(t){let e;return{c(){e=I("div"),e.textContent="You need a bank to convert knowledge to gold."},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function e3(t){let e,n,o,i,r,l,a,s,u=(t[3]??0)+"",f,c,d,m,p,_,v,w,k,C,D,L;e=new xn({props:{$$slots:{default:[Q5]},$$scope:{ctx:t}}});let P=t[3]>0&&Fu(t);_=new x5({props:{data:t[2]}});let $=t[3]<0&&Bu(),G=t[1].hasBank&&t[3]>0&&ju(t),R=t[1].hasBank===!1&&qu();return D=new Io({}),{c(){Z(e.$$.fragment),n=q(),o=I("span"),o.textContent="Knowledge is power, unlock it!",i=q(),r=I("div"),l=I("div"),a=F("Market Rate: "),s=I("span"),f=F(u),c=F(" gold"),m=F(`
        per Knowledge Point
        `),P&&P.c(),p=q(),Z(_.$$.fragment),v=q(),$&&$.c(),w=q(),G&&G.c(),k=q(),R&&R.c(),C=q(),Z(D.$$.fragment),N(o,"class","italic"),N(s,"class",d=t[3]<0?"text-red-500":"text-green-500"),N(r,"class","py-0 flex flex-col gap-4 text-gray-400 overflow-x-auto")},m(W,y){X(e,W,y),M(W,n,y),M(W,o,y),M(W,i,y),M(W,r,y),g(r,l),g(l,a),g(l,s),g(s,f),g(s,c),g(l,m),P&&P.m(l,null),g(r,p),X(_,r,null),g(r,v),$&&$.m(r,null),g(r,w),G&&G.m(r,null),g(r,k),R&&R.m(r,null),M(W,C,y),X(D,W,y),L=!0},p(W,y){const b={};y&258&&(b.$$scope={dirty:y,ctx:W}),e.$set(b),(!L||y&8)&&u!==(u=(W[3]??0)+"")&&re(f,u),(!L||y&8&&d!==(d=W[3]<0?"text-red-500":"text-green-500"))&&N(s,"class",d),W[3]>0?P?P.p(W,y):(P=Fu(W),P.c(),P.m(l,null)):P&&(P.d(1),P=null);const O={};y&4&&(O.data=W[2]),_.$set(O),W[3]<0?$||($=Bu(),$.c(),$.m(r,w)):$&&($.d(1),$=null),W[1].hasBank&&W[3]>0?G?(G.p(W,y),y&10&&A(G,1)):(G=ju(W),G.c(),A(G,1),G.m(r,k)):G&&(Ie(),S(G,1,1,()=>{G=null}),Oe()),W[1].hasBank===!1?R||(R=qu(),R.c(),R.m(r,null)):R&&(R.d(1),R=null)},i(W){L||(A(e.$$.fragment,W),A(_.$$.fragment,W),A(G),A(D.$$.fragment,W),L=!0)},o(W){S(e.$$.fragment,W),S(_.$$.fragment,W),S(G),S(D.$$.fragment,W),L=!1},d(W){W&&(T(n),T(o),T(i),T(r),T(C)),J(e,W),P&&P.d(),J(_),$&&$.d(),G&&G.d(),R&&R.d(),J(D,W)}}}function t3(t){let e,n;return e=new Zn({props:{transitionConfig:{duration:0},class:"bg-foreground text-foregroundText",$$slots:{default:[e3]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment)},m(o,i){X(e,o,i),n=!0},p(o,i){const r={};i&270&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){J(e,o)}}}function n3(t){let e,n,o;function i(l){t[5](l)}let r={$$slots:{default:[t3]},$$scope:{ctx:t}};return t[4]!==void 0&&(r.open=t[4]),e=new zn({props:r}),Ne.push(()=>Mn(e,"open",i)),{c(){Z(e.$$.fragment)},m(l,a){X(e,l,a),o=!0},p(l,[a]){const s={};a&270&&(s.$$scope={dirty:a,ctx:l}),!n&&a&16&&(n=!0,s.open=l[4],Tn(()=>n=!1)),e.$set(s)},i(l){o||(A(e.$$.fragment,l),o=!0)},o(l){S(e.$$.fragment,l),o=!1},d(l){J(e,l)}}}function Gu(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function o3(t,e,n){let o,i;ae(t,Pe,u=>n(1,o=u)),ae(t,Yi,u=>n(4,i=u));let r,l=0;function a(){let u=o;o.hasBank===!0?(u.townInfo.gold+=Math.round(u.townInfo.knowledge_points*l),u.townInfo.knowledge_points=0,Pe.set(u),localStorage.setItem(qt,JSON.stringify(u))):showCustomAlert.set("You need a bank to convert knowledge to gold.")}function s(u){i=u,Yi.set(i)}return t.$$.update=()=>{t.$$.dirty&2&&o&&(n(2,r=o.economyAndLaws.knowledge_gold_market_rates),n(3,l=o.economyAndLaws.knowledge_gold_market_rates[o.economyAndLaws.knowledge_gold_market_rates.length-1]))},[a,o,r,l,i,s]}class i3 extends be{constructor(e){super(),ge(this,e,o3,n3,fe,{convertKnowledgeToGold:0})}get convertKnowledgeToGold(){return this.$$.ctx[0]}}const r3=[{id:"sunshine",title:"Hint of Sunshine",description:`Scientist Jane T. found that more sunlight makes everyone a bit happier. 
        
        Now, every home is equipped with a pair of sunglasses and a sunhat. Enjoy happier citizens!,
        `,cost:5e3,duration:180,effect:!0},{id:"antibiotics",title:"We will call them 'Antibiotics'",description:`Scientist Alfred C. has pitched us an idea that he calls 'Antibiotics'.
        
         We don't really know what that means, but it seems to make people healthier. 
        `,cost:8e3,duration:200,effect:!0},{id:"goodbye_carrots",title:"Goodbye Carrots",description:`Scientist Jarrod M. collaborated with local carrot farms to enhance the recipe, aiming to increase consumers' height by 10%.

        Unfortunately, the experiment failed, and all the local carrot farms have gone out of business. 
        `,cost:8e3,duration:80,effect:!0},{id:"funny_cows",title:"Cowabunga!",description:`Scientist Barry T. thought that showing cows some stand-up comedy would make them produce better milk, but it didn't have the desired effect.

        The cows are now following Mike Birbiglia on Twitter, but the milk production has not increased.
        `,cost:3e3,duration:60,effect:!1},{id:"missing_treasure",title:"Missing Treasure?",description:`Scientist Sarah H. was running an experiment on tree growth and found a stash of gold near the lab. 

        She hopes nobody will miss it. Your town now has some more money. 
        `,cost:15e3,duration:180,effect:!0},{id:"tax_relief",title:"'Maybe the government is not so bad after all'",description:`Scientist Sam P. conducted a study and found that if you put a tiny bit of CHEMICAL X in the water supply, people are more likely to be ok with tax hikes. 

        We don't question it, as these experiments cost a lot of moo-lah.`,cost:7500,duration:360,effect:!0},{id:"spring_break",title:"Spring Break",description:`The Scientists took our money and spent the week at the beach. 

        We are not sure what they did, but they came back with a tan and a smile.`,cost:2e3,duration:7,effect:!1},{id:"coffee_boost_tourism",title:"Speedy Brews",description:`Scientist Claudia A. has found that a specific blend of coffee can significantly increase productivity among town employees. 

        The catch? It only works on Mondays. But hey, starting the week with a turbo-charged workforce might just be the boost we needed. The town gets a bit of extra cash from the productivity, and a bit of tourism revenue from coffee tourism.
        `,cost:8e3,duration:100,effect:!0},{id:"bee_bonanza",title:"Buzzing with Possibilities",description:`Scientist Will B. thought that introducing genetically modified super bees to the local ecosystem could help with pollination.
        
        Unfortunately, these bees prefer coffee plants over all others, leading to all coffee bean farms forced to close.`,cost:5e3,duration:120,effect:!0},{id:"wheat_whirlwind",title:"A Gust of Grain",description:`Scientist Clint C. is sulking after a botched weather control experiment aimed at improving crop yields accidentally resulted in a series of mini-tornadoes sweeping through the town's wheat farms. The wheat is gone, but the townsfolk have never been more entertained.

        Local bakers mourn the loss of wheat while selling tickets to the wheat whirlwind tours. All wheat farms are now torn down, but happiness is up.`,cost:7e3,duration:150,effect:!0},{id:"aquatic_overachievers",title:"Fishy Business",description:`An attempt to genetically enhance fish intelligence by Scientist Goldie F. in fisheries has gone awry, resulting in fish that are too smart to be caught. The fisheries are now underpopulated and shut down, but the town enjoys an unexpected tourism boom as people flock to see the genius fish who are now hanging out in local parks.

        Who knew fish could be such a draw?`,cost:6e3,duration:90,effect:!0},{id:"educational_eclipse",title:"A Sudden Drop in IQ",description:`Scientist Albert E. wanted to see if the towns' children would become smarter if THEY ran the schools. 

        This was obviously a terrible idea and the first thing the kids did was shut down the schools.`,cost:1e3,duration:45,effect:!0},{id:"education_grant",title:"Education Grant",description:`Scientist Marie C. took the funding and applied the town for a grant to improve education.

        The town wins a grant for $150,000 to build schools and improve education. (but it's up to you if that's how you want to spend the money)`,cost:4e4,duration:45,effect:!0},{id:"mindfulness_meditation_classes",title:"'Mindfulness Meditation Classes'",description:`Scientist Zen M. has introduced mindfulness meditation classes to the town after realizing that breathing in certain ways can lower stress. 
		
		Now, the town is a bit more relaxed, for now.`,cost:13e3,duration:540,effect:!0}];function Vu(t,e,n){const o=t.slice();return o[17]=e[n],o}function l3(t){let e,n=t[1].lab.active_experiment.title+"",o;return{c(){e=F("🎉 Experiment Completed: "),o=F(n)},m(i,r){M(i,e,r),M(i,o,r)},p(i,r){r&2&&n!==(n=i[1].lab.active_experiment.title+"")&&re(o,n)},d(i){i&&(T(e),T(o))}}}function s3(t){let e,n=t[1].lab.active_experiment.description+"",o;return{c(){e=I("div"),o=F(n),N(e,"class","select-none whitespace-pre-wrap text-lg text-gray-400 leading-6 px-4 py-4 text-center ")},m(i,r){M(i,e,r),g(e,o)},p(i,r){r&2&&n!==(n=i[1].lab.active_experiment.description+"")&&re(o,n)},d(i){i&&T(e)}}}function a3(t){let e,n,o,i;return e=new xl({props:{class:"text-center",$$slots:{default:[l3]},$$scope:{ctx:t}}}),o=new Ql({props:{$$slots:{default:[s3]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment),n=q(),Z(o.$$.fragment)},m(r,l){X(e,r,l),M(r,n,l),X(o,r,l),i=!0},p(r,l){const a={};l&1048578&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&1048578&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),J(e,r),J(o,r)}}}function u3(t){let e;return{c(){e=F("Thank the scientists")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function f3(t){let e,n;return e=new od({props:{$$slots:{default:[u3]},$$scope:{ctx:t}}}),e.$on("click",t[9]),{c(){Z(e.$$.fragment)},m(o,i){X(e,o,i),n=!0},p(o,i){const r={};i&1048576&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){J(e,o)}}}function c3(t){let e,n,o,i;return e=new Zl({props:{$$slots:{default:[a3]},$$scope:{ctx:t}}}),o=new Tr({props:{$$slots:{default:[f3]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment),n=q(),Z(o.$$.fragment)},m(r,l){X(e,r,l),M(r,n,l),X(o,r,l),i=!0},p(r,l){const a={};l&1048578&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&1048576&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),J(e,r),J(o,r)}}}function d3(t){let e,n;return e=new Mr({props:{$$slots:{default:[c3]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment)},m(o,i){X(e,o,i),n=!0},p(o,i){const r={};i&1048578&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){J(e,o)}}}function m3(t){let e;return{c(){e=I("span"),e.textContent="Manage your Laboratory 🔬 🧪"},m(n,o){M(n,e,o)},p:Ce,d(n){n&&T(e)}}}function p3(t){let e,n,o,i=t[1].lab.xp+"",r,l,a,s;return{c(){e=I("span"),n=F("You have earned "),o=I("span"),r=F(i),l=F(" XP"),s=F(` from experiments. XP can be used to buy advanced plots and develop your
          city.`),N(o,"class",a="italic "+(t[1].lab.xp<0?"text-textDanger1":"text-primaryText"))},m(u,f){M(u,e,f),g(e,n),g(e,o),g(o,r),g(o,l),g(e,s)},p(u,f){f&2&&i!==(i=u[1].lab.xp+"")&&re(r,i),f&2&&a!==(a="italic "+(u[1].lab.xp<0?"text-textDanger1":"text-primaryText"))&&N(o,"class",a)},d(u){u&&T(e)}}}function h3(t){let e,n,o,i;return e=new Jn({props:{$$slots:{default:[m3]},$$scope:{ctx:t}}}),o=new Qn({props:{$$slots:{default:[p3]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment),n=q(),Z(o.$$.fragment)},m(r,l){X(e,r,l),M(r,n,l),X(o,r,l),i=!0},p(r,l){const a={};l&1048576&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&1048578&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),J(e,r),J(o,r)}}}function _3(t){let e;return{c(){e=F("No more experiments available")},m(n,o){M(n,e,o)},p:Ce,i:Ce,o:Ce,d(n){n&&T(e)}}}function g3(t){let e,n,o,i,r=Ye(t[0]),l=[];for(let s=0;s<r.length;s+=1)l[s]=Wu(Vu(t,r,s));const a=s=>S(l[s],1,1,()=>{l[s]=null});return{c(){e=I("div"),e.textContent=`It's time to fund your next experiment! Choose a project below based on
        it's funding requirement. Once the experiment is over, you will see the
        results.`,n=q(),o=I("div");for(let s=0;s<l.length;s+=1)l[s].c();N(e,"class","select-none text-sm "),N(o,"class","text-center flex flex-col justify-center items-center gap-4 ")},m(s,u){M(s,e,u),M(s,n,u),M(s,o,u);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(o,null);i=!0},p(s,u){if(u&19){r=Ye(s[0]);let f;for(f=0;f<r.length;f+=1){const c=Vu(s,r,f);l[f]?(l[f].p(c,u),A(l[f],1)):(l[f]=Wu(c),l[f].c(),A(l[f],1),l[f].m(o,null))}for(Ie(),f=r.length;f<l.length;f+=1)a(f);Oe()}},i(s){if(!i){for(let u=0;u<r.length;u+=1)A(l[u]);i=!0}},o(s){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)S(l[u]);i=!1},d(s){s&&(T(e),T(n),T(o)),_t(l,s)}}}function b3(t){let e,n=t[1].lab.active_experiment.duration+"",o,i,r,l,a=t[1].lab.active_experiment.duration===0&&Yu(t);return{c(){e=F("Currently running an experiment... check back in "),o=F(n),i=F(` days.
      `),a&&a.c(),r=Re()},m(s,u){M(s,e,u),M(s,o,u),M(s,i,u),a&&a.m(s,u),M(s,r,u),l=!0},p(s,u){(!l||u&2)&&n!==(n=s[1].lab.active_experiment.duration+"")&&re(o,n),s[1].lab.active_experiment.duration===0?a?(a.p(s,u),u&2&&A(a,1)):(a=Yu(s),a.c(),A(a,1),a.m(r.parentNode,r)):a&&(Ie(),S(a,1,1,()=>{a=null}),Oe())},i(s){l||(A(a),l=!0)},o(s){S(a),l=!1},d(s){s&&(T(e),T(o),T(i),T(r)),a&&a.d(s)}}}function Hu(t){let e,n,o=t[17].id+"",i;return{c(){e=I("span"),n=F("// dev-"),i=F(o),N(e,"class","text-xs text-gray-400")},m(r,l){M(r,e,l),g(e,n),g(e,i)},p(r,l){l&1&&o!==(o=r[17].id+"")&&re(i,o)},d(r){r&&T(e)}}}function v3(t){let e,n=Uu(t[17].cost).split(".")[0]+"",o,i,r,l=t[1].devMode===!0&&Hu(t);return{c(){e=F("$"),o=F(n),i=F(` gold

            `),l&&l.c(),r=q()},m(a,s){M(a,e,s),M(a,o,s),M(a,i,s),l&&l.m(a,s),M(a,r,s)},p(a,s){s&1&&n!==(n=Uu(a[17].cost).split(".")[0]+"")&&re(o,n),a[1].devMode===!0?l?l.p(a,s):(l=Hu(a),l.c(),l.m(r.parentNode,r)):l&&(l.d(1),l=null)},d(a){a&&(T(e),T(o),T(i),T(r)),l&&l.d(a)}}}function Wu(t){let e,n;function o(){return t[11](t[17])}return e=new yt({props:{variant:"outline",class:`min-w-48 w-max flex-col
				`+(t[17].cost>t[1].townInfo.gold?"cursor-not-allowed":"")+`
				`,$$slots:{default:[v3]},$$scope:{ctx:t}}}),e.$on("click",o),{c(){Z(e.$$.fragment)},m(i,r){X(e,i,r),n=!0},p(i,r){t=i;const l={};r&3&&(l.class=`min-w-48 w-max flex-col
				`+(t[17].cost>t[1].townInfo.gold?"cursor-not-allowed":"")+`
				`),r&1048579&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(i){n||(A(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){J(e,i)}}}function Yu(t){let e,n;return e=new yt({props:{variant:"outline",$$slots:{default:[y3]},$$scope:{ctx:t}}}),e.$on("click",t[10]),{c(){Z(e.$$.fragment)},m(o,i){X(e,o,i),n=!0},p(o,i){const r={};i&1048576&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){J(e,o)}}}function y3(t){let e;return{c(){e=F("Complete experiment (and face the impact)")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function w3(t){let e;return{c(){e=I("span"),e.textContent="Keep in mind that not all experiments yield positive results.",N(e,"class","italic text-left text-textDanger1")},m(n,o){M(n,e,o)},p:Ce,d(n){n&&T(e)}}}function k3(t){let e,n,o,i,r,l,a,s,u,f,c;e=new xn({props:{$$slots:{default:[h3]},$$scope:{ctx:t}}}),o=new wt({});const d=[b3,g3,_3],m=[];function p(_,v){return _[1].lab.active_experiment!==null?0:_[0].length>0?1:_[0].length===0?2:-1}return~(r=p(t))&&(l=m[r]=d[r](t)),s=new wt({props:{class:"mt-4"}}),f=new Io({props:{$$slots:{default:[w3]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment),n=q(),Z(o.$$.fragment),i=q(),l&&l.c(),a=q(),Z(s.$$.fragment),u=q(),Z(f.$$.fragment)},m(_,v){X(e,_,v),M(_,n,v),X(o,_,v),M(_,i,v),~r&&m[r].m(_,v),M(_,a,v),X(s,_,v),M(_,u,v),X(f,_,v),c=!0},p(_,v){const w={};v&1048578&&(w.$$scope={dirty:v,ctx:_}),e.$set(w);let k=r;r=p(_),r===k?~r&&m[r].p(_,v):(l&&(Ie(),S(m[k],1,1,()=>{m[k]=null}),Oe()),~r?(l=m[r],l?l.p(_,v):(l=m[r]=d[r](_),l.c()),A(l,1),l.m(a.parentNode,a)):l=null);const C={};v&1048576&&(C.$$scope={dirty:v,ctx:_}),f.$set(C)},i(_){c||(A(e.$$.fragment,_),A(o.$$.fragment,_),A(l),A(s.$$.fragment,_),A(f.$$.fragment,_),c=!0)},o(_){S(e.$$.fragment,_),S(o.$$.fragment,_),S(l),S(s.$$.fragment,_),S(f.$$.fragment,_),c=!1},d(_){_&&(T(n),T(i),T(a),T(u)),J(e,_),J(o,_),~r&&m[r].d(_),J(s,_),J(f,_)}}}function C3(t){let e,n;return e=new Zn({props:{class:"bg-foreground text-foregroundText",$$slots:{default:[k3]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment)},m(o,i){X(e,o,i),n=!0},p(o,i){const r={};i&1048579&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){J(e,o)}}}function A3(t){let e,n,o,i,r;e=new Ir({props:{open:t[2],$$slots:{default:[d3]},$$scope:{ctx:t}}});function l(s){t[12](s)}let a={$$slots:{default:[C3]},$$scope:{ctx:t}};return t[3]!==void 0&&(a.open=t[3]),o=new zn({props:a}),Ne.push(()=>Mn(o,"open",l)),{c(){Z(e.$$.fragment),n=q(),Z(o.$$.fragment)},m(s,u){X(e,s,u),M(s,n,u),X(o,s,u),r=!0},p(s,[u]){const f={};u&4&&(f.open=s[2]),u&1048578&&(f.$$scope={dirty:u,ctx:s}),e.$set(f);const c={};u&1048579&&(c.$$scope={dirty:u,ctx:s}),!i&&u&8&&(i=!0,c.open=s[3],Tn(()=>i=!1)),o.$set(c)},i(s){r||(A(e.$$.fragment,s),A(o.$$.fragment,s),r=!0)},o(s){S(e.$$.fragment,s),S(o.$$.fragment,s),r=!1},d(s){s&&T(n),J(e,s),J(o,s)}}}function Uu(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function S3(t,e,n){let o,i;ae(t,Pe,C=>n(1,o=C)),ae(t,Ei,C=>n(3,i=C));var r;let l=[],a=!1,s=!1,u=!1;function f(){if(l.length>0||!a)return l;let C=[],D=r3.filter(L=>!o.lab.past_experiments.some(P=>P.id===L.id));for(let L=0;L<3;L++){let P=D[Math.floor(Math.random()*D.length)];P.cost=Math.floor(Math.random()*(P.cost*.35)+P.cost*.8),C.push(P)}return C=C.filter((L,P)=>C.indexOf(L)===P),C=C.filter(L=>L),n(8,u=!0),C}function c(C){if(o.townInfo.gold<C.cost){showCustomAlert.set("You do not have enough gold to purchase this experiment.");return}Me(Pe,o.townInfo.gold-=C.cost,o),Me(Pe,o.lab.active_experiment=C,o),o.lab.past_experiments.push(C)}function d(){var C;switch(Me(Ei,i=!1,i),n(2,s=!0),(C=o.lab.active_experiment)===null||C===void 0?void 0:C.id){case"sunshine":Me(Pe,o.modifiers.happiness=50,o);break;case"antibiotics":Me(Pe,o.modifiers.health=50,o);break;case"goodbye_carrots":p("carrot_farm");break;case"missing_treasure":Me(Pe,o.townInfo.gold+=Math.floor(Math.random()*o.lab.active_experiment.cost*2),o);break;case"tax_relief":Me(Pe,o.economyAndLaws.max_tax_rate=(Math.random()*.8+1.2)*o.economyAndLaws.max_tax_rate,o);break;case"bee_bonanza":p("coffee_bean_farm");break;case"wheat_whirlwind":p("wheat_farm"),Me(Pe,o.townInfo.happiness*=1.5,o),Me(Pe,o.modifiers.happiness+=3,o);break;case"educational_eclipse":p("small_school"),p("large_school"),Me(Pe,o.townInfo.knowledge_points*=.8,o);break;case"education_grant":Me(Pe,o.townInfo.knowledge_points*=1.5,o),Me(Pe,o.townInfo.gold+=15e4,o);break;case"mindfulness_meditation_classes":o.modifiers.happiness*1.5;break}Me(Pe,o.lab.active_experiment.duration=-1,o)}function m(){let C=o;C.lab.xp+=Math.round(C.lab.active_experiment.cost*(Math.random()*2+.5)),C.lab.active_experiment=null,n(2,s=!1),Me(Pe,o=C,o)}function p(C){let D=He(C,o);for(let L=0;L<D.length;L++)Wi(D[L].x,D[L].y,o)}const _=()=>{m()},v=()=>{d()},w=C=>{C.cost<o.townInfo.gold&&c(C)};function k(C){i=C,Ei.set(i)}return t.$$.update=()=>{t.$$.dirty&387&&(o?(a=!0,n(0,l=u==!1?f():l),(n(7,r=o.lab.active_experiment)===null||r===void 0?void 0:r.duration)===-1&&n(2,s=!0)):a=!1)},[l,o,s,i,c,d,m,r,u,_,v,w,k]}class T3 extends be{constructor(e){super(),ge(this,e,S3,A3,fe,{})}}function Ku(t,e,n){const o=t.slice();return o[19]=e[n],o}function Xu(t){let e,n=Ye({length:t[6]}),o=[];for(let i=0;i<n.length;i+=1)o[i]=Ju(Ku(t,n,i));return{c(){e=I("div");for(let i=0;i<o.length;i+=1)o[i].c();N(e,"class","confetti-holder svelte-15ksp55"),gn(e,"rounded",t[9]),gn(e,"cone",t[10]),gn(e,"no-gravity",t[11]),gn(e,"reduced-motion",t[13])},m(i,r){M(i,e,r);for(let l=0;l<o.length;l+=1)o[l]&&o[l].m(e,null)},p(i,r){if(r&37375){n=Ye({length:i[6]});let l;for(l=0;l<n.length;l+=1){const a=Ku(i,n,l);o[l]?o[l].p(a,r):(o[l]=Ju(a),o[l].c(),o[l].m(e,null))}for(;l<o.length;l+=1)o[l].d(1);o.length=n.length}r&512&&gn(e,"rounded",i[9]),r&1024&&gn(e,"cone",i[10]),r&2048&&gn(e,"no-gravity",i[11]),r&8192&&gn(e,"reduced-motion",i[13])},d(i){i&&T(e),_t(o,i)}}}function Ju(t){let e;return{c(){e=I("div"),N(e,"class","confetti svelte-15ksp55"),Ze(e,"--fall-distance",t[8]),Ze(e,"--size",t[0]+"px"),Ze(e,"--color",t[15]()),Ze(e,"--skew",Ct(-45,45)+"deg,"+Ct(-45,45)+"deg"),Ze(e,"--rotation-xyz",Ct(-10,10)+", "+Ct(-10,10)+", "+Ct(-10,10)),Ze(e,"--rotation-deg",Ct(0,360)+"deg"),Ze(e,"--translate-y-multiplier",Ct(t[2][0],t[2][1])),Ze(e,"--translate-x-multiplier",Ct(t[1][0],t[1][1])),Ze(e,"--scale",.1*Ct(2,10)),Ze(e,"--transition-duration",t[4]?`calc(${t[3]}ms * var(--scale))`:`${t[3]}ms`),Ze(e,"--transition-delay",Ct(t[5][0],t[5][1])+"ms"),Ze(e,"--transition-iteration-count",t[4]?"infinite":t[7]),Ze(e,"--x-spread",1-t[12])},m(n,o){M(n,e,o)},p(n,o){o&256&&Ze(e,"--fall-distance",n[8]),o&1&&Ze(e,"--size",n[0]+"px"),o&4&&Ze(e,"--translate-y-multiplier",Ct(n[2][0],n[2][1])),o&2&&Ze(e,"--translate-x-multiplier",Ct(n[1][0],n[1][1])),o&24&&Ze(e,"--transition-duration",n[4]?`calc(${n[3]}ms * var(--scale))`:`${n[3]}ms`),o&32&&Ze(e,"--transition-delay",Ct(n[5][0],n[5][1])+"ms"),o&144&&Ze(e,"--transition-iteration-count",n[4]?"infinite":n[7]),o&4096&&Ze(e,"--x-spread",1-n[12])},d(n){n&&T(e)}}}function M3(t){let e,n=!t[14]&&Xu(t);return{c(){n&&n.c(),e=Re()},m(o,i){n&&n.m(o,i),M(o,e,i)},p(o,[i]){o[14]?n&&(n.d(1),n=null):n?n.p(o,i):(n=Xu(o),n.c(),n.m(e.parentNode,e))},i:Ce,o:Ce,d(o){o&&T(e),n&&n.d(o)}}}function Ct(t,e){return Math.random()*(e-t)+t}function I3(t,e,n){let{size:o=10}=e,{x:i=[-.5,.5]}=e,{y:r=[.25,1]}=e,{duration:l=2e3}=e,{infinite:a=!1}=e,{delay:s=[0,50]}=e,{colorRange:u=[0,360]}=e,{colorArray:f=[]}=e,{amount:c=50}=e,{iterationCount:d=1}=e,{fallDistance:m="100px"}=e,{rounded:p=!1}=e,{cone:_=!1}=e,{noGravity:v=!1}=e,{xSpread:w=.15}=e,{destroyOnComplete:k=!0}=e,{disableForReducedMotion:C=!1}=e,D=!1;_r(()=>{!k||a||d=="infinite"||setTimeout(()=>n(14,D=!0),(l+s[1])*d)});function L(){return f.length?f[Math.round(Math.random()*(f.length-1))]:`hsl(${Math.round(Ct(u[0],u[1]))}, 75%, 50%)`}return t.$$set=P=>{"size"in P&&n(0,o=P.size),"x"in P&&n(1,i=P.x),"y"in P&&n(2,r=P.y),"duration"in P&&n(3,l=P.duration),"infinite"in P&&n(4,a=P.infinite),"delay"in P&&n(5,s=P.delay),"colorRange"in P&&n(16,u=P.colorRange),"colorArray"in P&&n(17,f=P.colorArray),"amount"in P&&n(6,c=P.amount),"iterationCount"in P&&n(7,d=P.iterationCount),"fallDistance"in P&&n(8,m=P.fallDistance),"rounded"in P&&n(9,p=P.rounded),"cone"in P&&n(10,_=P.cone),"noGravity"in P&&n(11,v=P.noGravity),"xSpread"in P&&n(12,w=P.xSpread),"destroyOnComplete"in P&&n(18,k=P.destroyOnComplete),"disableForReducedMotion"in P&&n(13,C=P.disableForReducedMotion)},[o,i,r,l,a,s,c,d,m,p,_,v,w,C,D,L,u,f,k]}class O3 extends be{constructor(e){super(),ge(this,e,I3,M3,fe,{size:0,x:1,y:2,duration:3,infinite:4,delay:5,colorRange:16,colorArray:17,amount:6,iterationCount:7,fallDistance:8,rounded:9,cone:10,noGravity:11,xSpread:12,destroyOnComplete:18,disableForReducedMotion:13})}}function P3(t){let e,n,o;return{c(){e=I("div"),N(e,"class",n="h-full w-full flex-1 "+t[3]+" transition-all"),N(e,"style",o=`transform: translateX(-${100-100*(t[2]??0)/(t[1]??1)}%)`)},m(i,r){M(i,e,r)},p(i,r){r&8&&n!==(n="h-full w-full flex-1 "+i[3]+" transition-all")&&N(e,"class",n),r&6&&o!==(o=`transform: translateX(-${100-100*(i[2]??0)/(i[1]??1)}%)`)&&N(e,"style",o)},d(i){i&&T(e)}}}function N3(t){let e,n;const o=[{class:Fe("relative h-4 w-full overflow-hidden rounded-full bg-white",t[0])},t[4]];let i={$$slots:{default:[P3]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new s1({props:i}),{c(){Z(e.$$.fragment)},m(r,l){X(e,r,l),n=!0},p(r,[l]){const a=l&17?ye(o,[l&1&&{class:Fe("relative h-4 w-full overflow-hidden rounded-full bg-white",r[0])},l&16&&rt(r[4])]):{};l&46&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){J(e,r)}}}function E3(t,e,n){const o=["class","max","value","color"];let i=le(e,o),{class:r=void 0}=e,{max:l=100}=e,{value:a=void 0}=e,{color:s="bg-secondary"}=e;return t.$$set=u=>{e=Q(Q({},e),$e(u)),n(4,i=le(e,o)),"class"in u&&n(0,r=u.class),"max"in u&&n(1,l=u.max),"value"in u&&n(2,a=u.value),"color"in u&&n(3,s=u.color)},[r,l,a,s,i]}class $3 extends be{constructor(e){super(),ge(this,e,E3,N3,fe,{class:0,max:1,value:2,color:3})}}function R3(t){let e;const n=t[5].default,o=me(n,t,t[6],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&64)&&he(o,n,i,i[6],e?pe(n,i[6],r,null):_e(i[6]),null)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function D3(t){let e,n;const o=[{transition:t[2]},{transitionConfig:t[3]},{sideOffset:t[1]},{class:Fe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-black shadow-md",t[0])},t[4]];let i={$$slots:{default:[R3]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new X1({props:i}),{c(){Z(e.$$.fragment)},m(r,l){X(e,r,l),n=!0},p(r,[l]){const a=l&31?ye(o,[l&4&&{transition:r[2]},l&8&&{transitionConfig:r[3]},l&2&&{sideOffset:r[1]},l&1&&{class:Fe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-black shadow-md",r[0])},l&16&&rt(r[4])]):{};l&64&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){J(e,r)}}}function L3(t,e,n){const o=["class","sideOffset","transition","transitionConfig"];let i=le(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{sideOffset:s=4}=e,{transition:u=vr}=e,{transitionConfig:f={y:8,duration:150}}=e;return t.$$set=c=>{e=Q(Q({},e),$e(c)),n(4,i=le(e,o)),"class"in c&&n(0,a=c.class),"sideOffset"in c&&n(1,s=c.sideOffset),"transition"in c&&n(2,u=c.transition),"transitionConfig"in c&&n(3,f=c.transitionConfig),"$$scope"in c&&n(6,l=c.$$scope)},[a,s,u,f,i,r,l]}class Oo extends be{constructor(e){super(),ge(this,e,L3,D3,fe,{class:0,sideOffset:1,transition:2,transitionConfig:3})}}const Po=$1,No=tb;function xu(t,e,n){const o=t.slice();return o[19]=e[n].name,o[20]=e[n].value,o[21]=e[n].modifier,o}function F3(t){let e,n=t[19]+"",o,i,r=ut(t[21],2)+"",l,a,s,u,f;return u=new $3({props:{value:t[20],max:300,class:"w-full h-2",color:t[12](t[20])}}),{c(){e=I("span"),o=F(n),i=F(" (x"),l=F(r),a=F(")"),s=q(),Z(u.$$.fragment),N(e,"class","text-xs pb-1")},m(c,d){M(c,e,d),g(e,o),g(e,i),g(e,l),g(e,a),M(c,s,d),X(u,c,d),f=!0},p(c,d){(!f||d&4)&&n!==(n=c[19]+"")&&re(o,n),(!f||d&4)&&r!==(r=ut(c[21],2)+"")&&re(l,r);const m={};d&4&&(m.value=c[20]),d&4&&(m.color=c[12](c[20])),u.$set(m)},i(c){f||(A(u.$$.fragment,c),f=!0)},o(c){S(u.$$.fragment,c),f=!1},d(c){c&&(T(e),T(s)),J(u,c)}}}function B3(t){let e,n,o=t[19]+"",i,r,l,a,s=t[20]+"",u,f,c,d,m,p=ut(t[21],0)+"",_;return{c(){e=I("div"),n=I("span"),i=F(o),r=q(),l=I("span"),a=F("Base: "),u=F(s),f=F(" / 300"),c=q(),d=I("span"),m=F("Modifier: "),_=F(p),N(n,"class","text-sm font-bold"),N(l,"class","text-xs"),N(d,"class","text-xs"),N(e,"class","flex flex-col justify-between p-0 m-0")},m(v,w){M(v,e,w),g(e,n),g(n,i),g(e,r),g(e,l),g(l,a),g(l,u),g(l,f),g(e,c),g(e,d),g(d,m),g(d,_)},p(v,w){w&4&&o!==(o=v[19]+"")&&re(i,o),w&4&&s!==(s=v[20]+"")&&re(u,s),w&4&&p!==(p=ut(v[21],0)+"")&&re(_,p)},d(v){v&&T(e)}}}function j3(t){let e,n,o,i;return e=new No({props:{class:"h-7 w-full mt-0 flex flex-col",$$slots:{default:[F3]},$$scope:{ctx:t}}}),o=new Oo({props:{class:t[12](t[20]),$$slots:{default:[B3]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment),n=q(),Z(o.$$.fragment)},m(r,l){X(e,r,l),M(r,n,l),X(o,r,l),i=!0},p(r,l){const a={};l&16777220&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&4&&(s.class=r[12](r[20])),l&16777220&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),J(e,r),J(o,r)}}}function Zu(t){let e,n,o,i;return n=new Po({props:{openDelay:400,closeDelay:0,$$slots:{default:[j3]},$$scope:{ctx:t}}}),{c(){e=I("div"),Z(n.$$.fragment),o=q(),N(e,"class","flex flex-col gap-2")},m(r,l){M(r,e,l),X(n,e,null),g(e,o),i=!0},p(r,l){const a={};l&16777220&&(a.$$scope={dirty:l,ctx:r}),n.$set(a)},i(r){i||(A(n.$$.fragment,r),i=!0)},o(r){S(n.$$.fragment,r),i=!1},d(r){r&&T(e),J(n)}}}function q3(t){let e,n,o=t[0].economyAndLaws.weeklyProfit+"",i;return{c(){e=I("span"),n=F("+$"),i=F(o),N(e,"class","text-textPrimary")},m(r,l){M(r,e,l),g(e,n),g(e,i)},p(r,l){l&1&&o!==(o=r[0].economyAndLaws.weeklyProfit+"")&&re(i,o)},d(r){r&&T(e)}}}function G3(t){let e,n=t[0].economyAndLaws.weeklyProfit+"",o;return{c(){e=I("span"),o=F(n),N(e,"class","text-textDanger2")},m(i,r){M(i,e,r),g(e,o)},p(i,r){r&1&&n!==(n=i[0].economyAndLaws.weeklyProfit+"")&&re(o,n)},d(i){i&&T(e)}}}function V3(t){let e,n,o=t[0].economyAndLaws.weeklyProfit+"",i;return{c(){e=I("span"),n=F("+$"),i=F(o),N(e,"class","text-textHappy")},m(r,l){M(r,e,l),g(e,n),g(e,i)},p(r,l){l&1&&o!==(o=r[0].economyAndLaws.weeklyProfit+"")&&re(i,o)},d(r){r&&T(e)}}}function H3(t){let e=ut(t[0].townInfo.employees/t[0].townInfo.population_count*100,0)+"",n,o,i=t[0].townInfo.employees+"",r,l,a=t[0].townInfo.population_count+"",s,u,f=t[0].townInfo.population_count-t[0].townInfo.employees+"",c,d;return{c(){n=F(e),o=F("% employment ("),r=F(i),l=F("/"),s=F(a),u=F(" - "),c=F(f),d=F(" unemployed)")},m(m,p){M(m,n,p),M(m,o,p),M(m,r,p),M(m,l,p),M(m,s,p),M(m,u,p),M(m,c,p),M(m,d,p)},p(m,p){p&1&&e!==(e=ut(m[0].townInfo.employees/m[0].townInfo.population_count*100,0)+"")&&re(n,e),p&1&&i!==(i=m[0].townInfo.employees+"")&&re(r,i),p&1&&a!==(a=m[0].townInfo.population_count+"")&&re(s,a),p&1&&f!==(f=m[0].townInfo.population_count-m[0].townInfo.employees+"")&&re(c,f)},d(m){m&&(T(n),T(o),T(r),T(l),T(s),T(u),T(c),T(d))}}}function W3(t){let e;function n(r,l){return r[0].townInfo.population_count===0?U3:Y3}let o=n(t),i=o(t);return{c(){i.c(),e=Re()},m(r,l){i.m(r,l),M(r,e,l)},p(r,l){o!==(o=n(r))&&(i.d(1),i=o(r),i&&(i.c(),i.m(e.parentNode,e)))},d(r){r&&T(e),i.d(r)}}}function Y3(t){let e;return{c(){e=F("All citizens employed")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function U3(t){let e;return{c(){e=F("Nobody lives here , build some homes")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function K3(t){let e;return{c(){e=F("Pick an active Plot")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function X3(t){let e;return{c(){e=F("Set your location!")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function J3(t){let e;function n(r,l){return r[5]?K3:X3}let o=n(t),i=o(t);return{c(){e=I("div"),i.c()},m(r,l){M(r,e,l),i.m(e,null)},p(r,l){o!==(o=n(r))&&(i.d(1),i=o(r),i&&(i.c(),i.m(e,null)))},d(r){r&&T(e),i.d()}}}function x3(t){let e;return{c(){e=I("div"),e.textContent="Manage Knowledge"},m(n,o){M(n,e,o)},p:Ce,d(n){n&&T(e)}}}function Z3(t){let e;return{c(){e=I("div"),e.textContent="City Management"},m(n,o){M(n,e,o)},p:Ce,d(n){n&&T(e)}}}function Qu(t){let e;function n(r,l){if(r[0].lab.active_experiment.duration>0)return z3;if(r[0].lab.active_experiment.duration===0)return Q3}let o=n(t),i=o&&o(t);return{c(){i&&i.c(),e=Re()},m(r,l){i&&i.m(r,l),M(r,e,l)},p(r,l){o===(o=n(r))&&i?i.p(r,l):(i&&i.d(1),i=o&&o(r),i&&(i.c(),i.m(e.parentNode,e)))},d(r){r&&T(e),i&&i.d(r)}}}function Q3(t){let e;return{c(){e=I("span"),e.textContent="✅ DONE!",N(e,"class","animate-pulse ")},m(n,o){M(n,e,o)},p:Ce,d(n){n&&T(e)}}}function z3(t){let e,n=t[0].lab.active_experiment.duration+"",o,i;return{c(){e=I("span"),o=F(n),i=F("d")},m(r,l){M(r,e,l),g(e,o),g(e,i)},p(r,l){l&1&&n!==(n=r[0].lab.active_experiment.duration+"")&&re(o,n)},d(r){r&&T(e)}}}function e4(t){let e,n,o=t[0].lab.active_experiment!==null&&Qu(t);return{c(){e=I("div"),n=F(`Manage Lab
            `),o&&o.c()},m(i,r){M(i,e,r),g(e,n),o&&o.m(e,null)},p(i,r){i[0].lab.active_experiment!==null?o?o.p(i,r):(o=Qu(i),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},d(i){i&&T(e),o&&o.d()}}}function zu(t){let e,n,o,i;return o=new Po({props:{openDelay:400,closeDelay:0,$$slots:{default:[o4]},$$scope:{ctx:t}}}),{c(){e=I("div"),n=I("div"),Z(o.$$.fragment),N(n,"class","flex flex-row justify-center text-xs bg-white rounded-t-2xl text-black py-2 whitespace-nowrap px-2 opacity-50"),N(e,"class","flex flex-col justify-center items-center ")},m(r,l){M(r,e,l),g(e,n),X(o,n,null),i=!0},p(r,l){const a={};l&16777217&&(a.$$scope={dirty:l,ctx:r}),o.$set(a)},i(r){i||(A(o.$$.fragment,r),i=!0)},o(r){S(o.$$.fragment,r),i=!1},d(r){r&&T(e),J(o)}}}function t4(t){let e,n,o,i,r=jt[t[0].currentTutorialStep-1].goldReward+"",l;return{c(){e=I("span"),n=F(`Last reward
                  `),o=I("div"),i=F("💰"),l=F(r),N(e,"class","w-full no-select opacity-70 whitespace-nowrap text-center")},m(a,s){M(a,e,s),g(e,n),g(e,o),g(o,i),g(o,l)},p(a,s){s&1&&r!==(r=jt[a[0].currentTutorialStep-1].goldReward+"")&&re(l,r)},d(a){a&&T(e)}}}function n4(t){let e,n=jt[t[0].currentTutorialStep-1].message+"",o;return{c(){e=F("Last completed task: "),o=F(n)},m(i,r){M(i,e,r),M(i,o,r)},p(i,r){r&1&&n!==(n=jt[i[0].currentTutorialStep-1].message+"")&&re(o,n)},d(i){i&&(T(e),T(o))}}}function o4(t){let e,n,o,i;return e=new No({props:{$$slots:{default:[t4]},$$scope:{ctx:t}}}),o=new Oo({props:{class:"bg-black text-white rounded-2xl",$$slots:{default:[n4]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment),n=q(),Z(o.$$.fragment)},m(r,l){X(e,r,l),M(r,n,l),X(o,r,l),i=!0},p(r,l){const a={};l&16777217&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&16777217&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),J(e,r),J(o,r)}}}function ef(t){let e,n;return e=new O3({props:{y:[-.5,.5],x:[-.5,.5],duration:2e3}}),{c(){Z(e.$$.fragment)},m(o,i){X(e,o,i),n=!0},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){J(e,o)}}}function i4(t){let e=jt[t[0].currentTutorialStep].message+"",n,o,i,r,l=jt[t[0].currentTutorialStep].goldReward+"",a,s;return{c(){n=F(e),o=q(),i=I("span"),r=F("(💰"),a=F(l),s=F(")"),N(i,"class","opacity-40")},m(u,f){M(u,n,f),M(u,o,f),M(u,i,f),g(i,r),g(i,a),g(i,s)},p(u,f){f&1&&e!==(e=jt[u[0].currentTutorialStep].message+"")&&re(n,e),f&1&&l!==(l=jt[u[0].currentTutorialStep].goldReward+"")&&re(a,l)},d(u){u&&(T(n),T(o),T(i))}}}function r4(t){let e;return{c(){e=F("No more goals!")},m(n,o){M(n,e,o)},p:Ce,d(n){n&&T(e)}}}function l4(t){let e,n,o,i,r,l,a,s,u,f=t[0].townInfo.name+"",c,d,m,p,_,v=t[0].townInfo.population_count+"",w,k,C=t[0].townInfo.population_max+"",D,L,P,$,G,R=Jt(t[0].townInfo.gold,!1)+"",W,y,b,O,E,H,V,K,z,te,Y,h,B,x,ne,U,ue,we,Ae,Ue,Ge,xe,de,Ee,De,Ve,Ke,ke,Te,$t,kt,ft,en,Mt,ct,Je,ve,Xe,j,eo,li,as,si,ai=t[0].environment.day%365+1+"",Er,us,to,ui,fs,fi,ci=Math.floor(t[0].environment.day/365)+1+"",$r,cs,pn,no,ds,di,ms,oo,ps,mi,hs,io,_s,pi,hi,dt,Rr,gs,In=Ye(t[2]),ot=[];for(let ce=0;ce<In.length;ce+=1)ot[ce]=Zu(xu(t,In,ce));const qd=ce=>S(ot[ce],1,1,()=>{ot[ce]=null});function bs(ce,Le){return ce[0].economyAndLaws.weeklyProfit>0?V3:ce[0].economyAndLaws.weeklyProfit<0?G3:q3}let _i=bs(t),Vt=_i(t);function vs(ce,Le){return ce[0].townInfo.employees==ce[0].townInfo.population_count?W3:H3}let gi=vs(t),Ht=gi(t);U=new yt({props:{class:`text-xs flex flex-col h-min  bg-button cursor-pointer text-textPrimary p-1.5
          
            `+(t[5]?"bg-green-500":"")+`
          `,$$slots:{default:[J3]},$$scope:{ctx:t}}}),U.$on("click",t[13]),we=new yt({props:{class:"text-xs flex flex-col h-min  bg-button cursor-pointer text-textPrimary p-1.5",$$slots:{default:[x3]},$$scope:{ctx:t}}}),we.$on("click",t[14]),Ue=new yt({props:{class:"text-xs flex flex-col h-min  bg-button cursor-pointer text-textPrimary p-1.5",$$slots:{default:[Z3]},$$scope:{ctx:t}}}),Ue.$on("click",t[15]),xe=new yt({props:{class:"text-xs flex flex-col h-min p-1.5 "+(t[0].hasLab?"bg-button cursor-pointer text-textPrimary":"bg-button cursor-not-allowed text-textPrimary opacity-35"),$$slots:{default:[e4]},$$scope:{ctx:t}}}),xe.$on("click",t[11]);let lt=t[0].currentTutorialStep!=0&&zu(t),mt=t[8]&&ef();function ys(ce,Le){return ce[0].currentTutorialStep>=jt.length?r4:i4}let bi=ys(t),Wt=bi(t);return{c(){e=I("div"),n=I("div"),o=I("div");for(let ce=0;ce<ot.length;ce+=1)ot[ce].c();i=q(),r=I("div"),l=I("div"),a=I("div"),s=I("div"),u=I("h1"),c=F(f),d=q(),m=I("div"),p=I("span"),_=F("👥 "),w=F(v),k=F(" / "),D=F(C),L=q(),P=I("span"),$=I("span"),G=F("💰 "),W=F(R),y=q(),b=I("span"),O=q(),Vt.c(),E=q(),H=I("span"),H.textContent="(weekly)",V=q(),K=I("div"),Ht.c(),te=q(),Y=I("span"),h=F("Game time: "),B=F(t[1]),x=q(),ne=I("div"),Z(U.$$.fragment),ue=q(),Z(we.$$.fragment),Ae=q(),Z(Ue.$$.fragment),Ge=q(),Z(xe.$$.fragment),de=q(),Ee=I("div"),De=I("div"),lt&&lt.c(),Ve=q(),mt&&mt.c(),Ke=q(),ke=I("div"),Te=I("div"),Te.textContent="👨‍🦰",$t=q(),kt=I("div"),Wt.c(),en=q(),Mt=I("div"),ct=I("div"),Je=I("div"),ve=I("div"),ve.innerHTML='<span class="text-xs text-secondary cursor-pointer">Press P to Pause</span>',Xe=q(),j=I("div"),eo=I("span"),li=I("span"),li.textContent="Day",as=q(),si=I("span"),Er=F(ai),us=q(),to=I("span"),ui=I("span"),ui.textContent="Year",fs=q(),fi=I("span"),$r=F(ci),cs=q(),pn=I("div"),no=I("span"),ds=F("Slow"),ms=q(),oo=I("span"),ps=F("Normal"),hs=q(),io=I("span"),_s=F("Fast"),N(o,"class","flex flex-col w-36 text-foregroundText bg-accent p-2 rounded-xl gap-2 mr-2"),N(u,"class","font-bold cursor-pointer w-full pb-2 text-start select-none"),N(s,"class","cursor-pointer transition-all duration=150 min-h-8"),N(p,"class","text-sm"),N($,"class","text-sm"),N(b,"class","pl-2"),N(H,"class","text-gray-400"),N(P,"class","text-xs"),N(m,"class","flex flex-row gap-4 flex-wrap items-center"),N(K,"class",z="text-xs pt-0 opacity-70 "+(t[0].townInfo.employees==t[0].townInfo.population_count?"text-textPrimary":t[0].townInfo.employees>t[0].townInfo.population_count*.95?"text-textDanger3":t[0].townInfo.employees>t[0].townInfo.population_count*.9?"text-textDanger2":"text-textDanger1")),N(Y,"class","text-xs text-secondary cursor-pointer"),N(a,"class","flex flex-col justify-between"),N(l,"class","rounded-xl"),N(ne,"class","flex flex-row gap-2 align-middle justify-center items-center "),N(r,"class","flex justify-between flex-col"),N(n,"class","flex flex-row gap-2 my-2 h-max"),N(Te,"class","text-lg h-max"),N(kt,"class","text-xs ml-2 overflow-auto opacity-80"),N(ke,"class","gap flex-row items-center flex bg-white text-slate-800 py-1 px-2 rounded-xl w-full"),N(De,"class","flex flex-col justify-center w-full align-middle items-center"),N(Ee,"class",ft="flex flex-row flex-wrap align-middle justify-center items-center w-80 "+(t[8]?"opacity-25 ":"")+" transition-all duration-700 "+(t[0].environment.day===0?"wiggle":"")+" svelte-1asvijo"),N(li,"class","text-xs"),N(si,"class","font-semibold text-xs"),N(eo,"class","flex flex-col gap-2 text-center"),N(ui,"class","text-xs"),N(fi,"class","font-semibold text-xs"),N(to,"class","flex flex-col gap-2 text-center"),N(j,"class","rounded-xl bg-accent flex-row justify-between text-accentText w-36 h-14 flex px-6 items-center mb-2"),N(no,"class",di=(t[3].toString()==="2000"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"),N(oo,"class",mi=(t[3].toString()==="750"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"),N(io,"class",pi=(t[3].toString()==="200"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"),N(pn,"class","flex flex-row gap-2 align-middle justify-center items-center"),N(Je,"class","flex flex-col items-center h-max"),N(ct,"class","flex flex-col"),N(Mt,"class","flex justify-center align-middle flex-col"),N(e,"class",hi="flex justify-between px-6 gap-6 flex-row text-start fixed top-0 left-0 right-0 cursor-default z-20 bg-foreground text-foregroundText h-max "+(t[4].visible?"opacity-70":""))},m(ce,Le){M(ce,e,Le),g(e,n),g(n,o);for(let hn=0;hn<ot.length;hn+=1)ot[hn]&&ot[hn].m(o,null);g(n,i),g(n,r),g(r,l),g(l,a),g(a,s),g(s,u),g(u,c),g(a,d),g(a,m),g(m,p),g(p,_),g(p,w),g(p,k),g(p,D),g(m,L),g(m,P),g(P,$),g($,G),g($,W),g(P,y),g(P,b),g(P,O),Vt.m(P,null),g(P,E),g(P,H),g(a,V),g(a,K),Ht.m(K,null),g(a,te),g(a,Y),g(Y,h),g(Y,B),g(r,x),g(r,ne),X(U,ne,null),g(ne,ue),X(we,ne,null),g(ne,Ae),X(Ue,ne,null),g(ne,Ge),X(xe,ne,null),g(e,de),g(e,Ee),g(Ee,De),lt&&lt.m(De,null),g(De,Ve),mt&&mt.m(De,null),g(De,Ke),g(De,ke),g(ke,Te),g(ke,$t),g(ke,kt),Wt.m(kt,null),g(e,en),g(e,Mt),g(Mt,ct),g(ct,Je),g(Je,ve),g(Je,Xe),g(Je,j),g(j,eo),g(eo,li),g(eo,as),g(eo,si),g(si,Er),g(j,us),g(j,to),g(to,ui),g(to,fs),g(to,fi),g(fi,$r),g(Je,cs),g(Je,pn),g(pn,no),g(no,ds),g(pn,ms),g(pn,oo),g(oo,ps),g(pn,hs),g(pn,io),g(io,_s),dt=!0,Rr||(gs=[ee(s,"click",t[9]),ee(no,"click",t[16]),ee(oo,"click",t[17]),ee(io,"click",t[18])],Rr=!0)},p(ce,[Le]){if(Le&4100){In=Ye(ce[2]);let gt;for(gt=0;gt<In.length;gt+=1){const Cs=xu(ce,In,gt);ot[gt]?(ot[gt].p(Cs,Le),A(ot[gt],1)):(ot[gt]=Zu(Cs),ot[gt].c(),A(ot[gt],1),ot[gt].m(o,null))}for(Ie(),gt=In.length;gt<ot.length;gt+=1)qd(gt);Oe()}(!dt||Le&1)&&f!==(f=ce[0].townInfo.name+"")&&re(c,f),(!dt||Le&1)&&v!==(v=ce[0].townInfo.population_count+"")&&re(w,v),(!dt||Le&1)&&C!==(C=ce[0].townInfo.population_max+"")&&re(D,C),(!dt||Le&1)&&R!==(R=Jt(ce[0].townInfo.gold,!1)+"")&&re(W,R),_i===(_i=bs(ce))&&Vt?Vt.p(ce,Le):(Vt.d(1),Vt=_i(ce),Vt&&(Vt.c(),Vt.m(P,E))),gi===(gi=vs(ce))&&Ht?Ht.p(ce,Le):(Ht.d(1),Ht=gi(ce),Ht&&(Ht.c(),Ht.m(K,null))),(!dt||Le&1&&z!==(z="text-xs pt-0 opacity-70 "+(ce[0].townInfo.employees==ce[0].townInfo.population_count?"text-textPrimary":ce[0].townInfo.employees>ce[0].townInfo.population_count*.95?"text-textDanger3":ce[0].townInfo.employees>ce[0].townInfo.population_count*.9?"text-textDanger2":"text-textDanger1")))&&N(K,"class",z),(!dt||Le&2)&&re(B,ce[1]);const hn={};Le&32&&(hn.class=`text-xs flex flex-col h-min  bg-button cursor-pointer text-textPrimary p-1.5
          
            `+(ce[5]?"bg-green-500":"")+`
          `),Le&16777248&&(hn.$$scope={dirty:Le,ctx:ce}),U.$set(hn);const ws={};Le&16777216&&(ws.$$scope={dirty:Le,ctx:ce}),we.$set(ws);const ks={};Le&16777216&&(ks.$$scope={dirty:Le,ctx:ce}),Ue.$set(ks);const Dr={};Le&1&&(Dr.class="text-xs flex flex-col h-min p-1.5 "+(ce[0].hasLab?"bg-button cursor-pointer text-textPrimary":"bg-button cursor-not-allowed text-textPrimary opacity-35")),Le&16777217&&(Dr.$$scope={dirty:Le,ctx:ce}),xe.$set(Dr),ce[0].currentTutorialStep!=0?lt?(lt.p(ce,Le),Le&1&&A(lt,1)):(lt=zu(ce),lt.c(),A(lt,1),lt.m(De,Ve)):lt&&(Ie(),S(lt,1,1,()=>{lt=null}),Oe()),ce[8]?mt?Le&256&&A(mt,1):(mt=ef(),mt.c(),A(mt,1),mt.m(De,Ke)):mt&&(Ie(),S(mt,1,1,()=>{mt=null}),Oe()),bi===(bi=ys(ce))&&Wt?Wt.p(ce,Le):(Wt.d(1),Wt=bi(ce),Wt&&(Wt.c(),Wt.m(kt,null))),(!dt||Le&257&&ft!==(ft="flex flex-row flex-wrap align-middle justify-center items-center w-80 "+(ce[8]?"opacity-25 ":"")+" transition-all duration-700 "+(ce[0].environment.day===0?"wiggle":"")+" svelte-1asvijo"))&&N(Ee,"class",ft),(!dt||Le&1)&&ai!==(ai=ce[0].environment.day%365+1+"")&&re(Er,ai),(!dt||Le&1)&&ci!==(ci=Math.floor(ce[0].environment.day/365)+1+"")&&re($r,ci),(!dt||Le&8&&di!==(di=(ce[3].toString()==="2000"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"))&&N(no,"class",di),(!dt||Le&8&&mi!==(mi=(ce[3].toString()==="750"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"))&&N(oo,"class",mi),(!dt||Le&8&&pi!==(pi=(ce[3].toString()==="200"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"))&&N(io,"class",pi),(!dt||Le&16&&hi!==(hi="flex justify-between px-6 gap-6 flex-row text-start fixed top-0 left-0 right-0 cursor-default z-20 bg-foreground text-foregroundText h-max "+(ce[4].visible?"opacity-70":"")))&&N(e,"class",hi)},i(ce){if(!dt){for(let Le=0;Le<In.length;Le+=1)A(ot[Le]);A(U.$$.fragment,ce),A(we.$$.fragment,ce),A(Ue.$$.fragment,ce),A(xe.$$.fragment,ce),A(lt),A(mt),dt=!0}},o(ce){ot=ot.filter(Boolean);for(let Le=0;Le<ot.length;Le+=1)S(ot[Le]);S(U.$$.fragment,ce),S(we.$$.fragment,ce),S(Ue.$$.fragment,ce),S(xe.$$.fragment,ce),S(lt),S(mt),dt=!1},d(ce){ce&&T(e),_t(ot,ce),Vt.d(),Ht.d(),J(U),J(we),J(Ue),J(xe),lt&&lt.d(),mt&&mt.d(),Wt.d(),Rr=!1,Be(gs)}}}function s4(t,e,n){let o,i,r,l,a,s,u;ae(t,Pe,P=>n(0,o=P)),ae(t,rl,P=>n(3,i=P)),ae(t,tt,P=>n(4,r=P)),ae(t,Ki,P=>n(5,l=P)),ae(t,Yi,P=>n(6,a=P)),ae(t,Xi,P=>n(7,s=P)),ae(t,Ni,P=>n(8,u=P)),_r(()=>{const P=setInterval(()=>{Me(Pe,o.timeSpent+=1e3,o)},1e3);return()=>{clearInterval(P)}});function f(){let P=prompt("Enter a new name for your town (under 200 chars)");if(P&&P.length<200&&P.length>=1){let $=o;$.townInfo.name=P,Pe.set($),localStorage.setItem(qt,JSON.stringify($))}}function c(P){return Me(rl,i=P,i),document.querySelectorAll(".speedButton").forEach(G=>{G.classList.remove("active")}),i}function d(){o.hasLab&&Ei.set(!0)}let m="00:00:00",p;const _=P=>P>149?"bg-green-500":P>99?"bg-yellow-500":"bg-red-500",v=function(){Me(Ki,l=!0,l)},w=function(){Me(Yi,a=!a,a)},k=function(){Me(Xi,s=!s,s)},C=()=>c(2e3),D=()=>c(750),L=()=>c(200);return t.$$.update=()=>{t.$$.dirty&1&&(o.timeSpent>0?n(1,m=np(o.timeSpent)):n(1,m="00:00:00")),t.$$.dirty&1&&n(2,p=[{name:"Happiness",description:"Happy townspeople spend more money and are less likely to leave.",value:o.townInfo.happiness,modifier:o.modifiers.happiness},{name:"Health",description:"Healthy townspeople are less likely to die (and leave the town obviously).",value:o.townInfo.health,modifier:o.modifiers.health},{name:"Community",description:"Townspeople that feel at home are less likely to leave, and less likely to get bored.",value:o.townInfo.community,modifier:o.modifiers.community}])},[o,m,p,i,r,l,a,s,u,f,c,d,_,v,w,k,C,D,L]}class a4 extends be{constructor(e){super(),ge(this,e,s4,l4,fe,{})}}function tf(t,e,n){const o=t.slice();return o[4]=e[n],o[6]=n,o}function nf(t,e,n){const o=t.slice();return o[4]=e[n],o[6]=n,o}function of(t){let e,n,o,i=ie[Se(t[0].id)].title+"",r,l,a,s=ie[Se(t[0].id)].description+"",u,f,c,d,m,p,_,v,w,k=t[3]("💰",ie[Se(t[0].id)].requirements.gold,t[2].townInfo.gold)+"",C,D,L=t[3]("🥕",ie[Se(t[0].id)].requirements.resources.food,t[2].resources.food)+"",P,$,G=t[3]("🧠",ie[Se(t[0].id)].requirements.knowledge,t[2].townInfo.knowledge_points)+"",R,W,y=t[3]("🪵",ie[Se(t[0].id)].requirements.resources.wood,t[2].resources.wood)+"",b,O,E=t[3]("🪨",ie[Se(t[0].id)].requirements.resources.stone,t[2].resources.stone)+"",H,V,K=t[3]("🧲",ie[Se(t[0].id)].requirements.resources.metal,t[2].resources.metal)+"",z,te,Y=t[3]("🔋",ie[Se(t[0].id)].active_costs.power,t[2].resources.power)+"",h,B,x=t[3]("🧑‍⚖️",ie[Se(t[0].id)].requirements.resources.bureaucracy,t[2].resources.bureaucracy)+"",ne,U=ie[Se(t[0].id)].requirements.employees!=0,ue,we=ie[Se(t[0].id)].revenue_per_week!=0,Ae,Ue=Object.values(ie[Se(t[0].id)].active_costs).some(hf),Ge,xe=Object.values(ie[Se(t[0].id)].generated_resources).some(pf)||ie[Se(t[0].id)].knowledge_points_per_month>0,de;d=new wt({props:{class:"bg-secondary opacity-25 mt-1 mb-1"}});let Ee=U&&rf(t),De=we&&lf(t),Ve=Ue&&sf(t),Ke=xe&&ff(t);return{c(){e=I("div"),n=I("div"),o=I("span"),r=F(i),l=q(),a=I("span"),u=F(s),f=q(),c=I("div"),Z(d.$$.fragment),m=q(),p=I("span"),p.textContent="Requirements",_=q(),v=I("div"),w=new on(!1),C=q(),D=new on(!1),P=q(),$=new on(!1),R=q(),W=new on(!1),b=q(),O=new on(!1),H=q(),V=new on(!1),z=q(),te=new on(!1),h=q(),B=new on(!1),ne=q(),Ee&&Ee.c(),ue=q(),De&&De.c(),Ae=q(),Ve&&Ve.c(),Ge=q(),Ke&&Ke.c(),N(o,"class","text-md"),N(a,"class","text-xs"),N(n,"class","flex flex-col gap-2"),N(p,"class","font-semibold"),w.a=C,D.a=P,$.a=R,W.a=b,O.a=H,V.a=z,te.a=h,B.a=ne,N(v,"class","flex flex-col gap-1"),N(c,"class","flex flex-col w-36 h-min gap-0 text-xs pb-2"),N(e,"class","p-2")},m(ke,Te){M(ke,e,Te),g(e,n),g(n,o),g(o,r),g(n,l),g(n,a),g(a,u),g(e,f),g(e,c),X(d,c,null),g(c,m),g(c,p),g(c,_),g(c,v),w.m(k,v),g(v,C),D.m(L,v),g(v,P),$.m(G,v),g(v,R),W.m(y,v),g(v,b),O.m(E,v),g(v,H),V.m(K,v),g(v,z),te.m(Y,v),g(v,h),B.m(x,v),g(v,ne),Ee&&Ee.m(v,null),g(e,ue),De&&De.m(e,null),g(e,Ae),Ve&&Ve.m(e,null),g(e,Ge),Ke&&Ke.m(e,null),de=!0},p(ke,Te){(!de||Te&1)&&i!==(i=ie[Se(ke[0].id)].title+"")&&re(r,i),(!de||Te&1)&&s!==(s=ie[Se(ke[0].id)].description+"")&&re(u,s),(!de||Te&5)&&k!==(k=ke[3]("💰",ie[Se(ke[0].id)].requirements.gold,ke[2].townInfo.gold)+"")&&w.p(k),(!de||Te&5)&&L!==(L=ke[3]("🥕",ie[Se(ke[0].id)].requirements.resources.food,ke[2].resources.food)+"")&&D.p(L),(!de||Te&5)&&G!==(G=ke[3]("🧠",ie[Se(ke[0].id)].requirements.knowledge,ke[2].townInfo.knowledge_points)+"")&&$.p(G),(!de||Te&5)&&y!==(y=ke[3]("🪵",ie[Se(ke[0].id)].requirements.resources.wood,ke[2].resources.wood)+"")&&W.p(y),(!de||Te&5)&&E!==(E=ke[3]("🪨",ie[Se(ke[0].id)].requirements.resources.stone,ke[2].resources.stone)+"")&&O.p(E),(!de||Te&5)&&K!==(K=ke[3]("🧲",ie[Se(ke[0].id)].requirements.resources.metal,ke[2].resources.metal)+"")&&V.p(K),(!de||Te&5)&&Y!==(Y=ke[3]("🔋",ie[Se(ke[0].id)].active_costs.power,ke[2].resources.power)+"")&&te.p(Y),(!de||Te&5)&&x!==(x=ke[3]("🧑‍⚖️",ie[Se(ke[0].id)].requirements.resources.bureaucracy,ke[2].resources.bureaucracy)+"")&&B.p(x),Te&1&&(U=ie[Se(ke[0].id)].requirements.employees!=0),U?Ee?Ee.p(ke,Te):(Ee=rf(ke),Ee.c(),Ee.m(v,null)):Ee&&(Ee.d(1),Ee=null),Te&1&&(we=ie[Se(ke[0].id)].revenue_per_week!=0),we?De?(De.p(ke,Te),Te&1&&A(De,1)):(De=lf(ke),De.c(),A(De,1),De.m(e,Ae)):De&&(Ie(),S(De,1,1,()=>{De=null}),Oe()),Te&1&&(Ue=Object.values(ie[Se(ke[0].id)].active_costs).some(hf)),Ue?Ve?(Ve.p(ke,Te),Te&1&&A(Ve,1)):(Ve=sf(ke),Ve.c(),A(Ve,1),Ve.m(e,Ge)):Ve&&(Ie(),S(Ve,1,1,()=>{Ve=null}),Oe()),Te&1&&(xe=Object.values(ie[Se(ke[0].id)].generated_resources).some(pf)||ie[Se(ke[0].id)].knowledge_points_per_month>0),xe?Ke?(Ke.p(ke,Te),Te&1&&A(Ke,1)):(Ke=ff(ke),Ke.c(),A(Ke,1),Ke.m(e,null)):Ke&&(Ie(),S(Ke,1,1,()=>{Ke=null}),Oe())},i(ke){de||(A(d.$$.fragment,ke),A(De),A(Ve),A(Ke),de=!0)},o(ke){S(d.$$.fragment,ke),S(De),S(Ve),S(Ke),de=!1},d(ke){ke&&T(e),J(d),Ee&&Ee.d(),De&&De.d(),Ve&&Ve.d(),Ke&&Ke.d()}}}function rf(t){let e,n,o=ie[Se(t[0].id)].requirements.employees+"",i,r,l;return{c(){e=I("span"),n=F("👥 "),i=F(o),r=F(" employees"),N(e,"class",l=ie[Se(t[0].id)].requirements.employees>t[2].townInfo.population_count-t[2].townInfo.employees&&t[1]?"px-1 text-textDanger1 font-bold border-2 border-red-400":"")},m(a,s){M(a,e,s),g(e,n),g(e,i),g(e,r)},p(a,s){s&1&&o!==(o=ie[Se(a[0].id)].requirements.employees+"")&&re(i,o),s&7&&l!==(l=ie[Se(a[0].id)].requirements.employees>a[2].townInfo.population_count-a[2].townInfo.employees&&a[1]?"px-1 text-textDanger1 font-bold border-2 border-red-400":"")&&N(e,"class",l)},d(a){a&&T(e)}}}function lf(t){let e,n,o,i,r,l,a,s=ie[Se(t[0].id)].revenue_per_week+"",u,f;return n=new wt({props:{class:"bg-secondary opacity-25 mt-0"}}),{c(){e=I("div"),Z(n.$$.fragment),o=q(),i=I("span"),i.textContent="Weekly revenue",r=q(),l=I("span"),a=F("💰 "),u=F(s),N(i,"class","font-semibold"),N(e,"class","flex flex-col gap-1 text-xs")},m(c,d){M(c,e,d),X(n,e,null),g(e,o),g(e,i),g(e,r),g(e,l),g(l,a),g(l,u),f=!0},p(c,d){(!f||d&1)&&s!==(s=ie[Se(c[0].id)].revenue_per_week+"")&&re(u,s)},i(c){f||(A(n.$$.fragment,c),f=!0)},o(c){S(n.$$.fragment,c),f=!1},d(c){c&&T(e),J(n)}}}function sf(t){let e,n,o,i,r,l;n=new wt({props:{class:"bg-secondary opacity-25 mt-2"}});let a=Ye(Object.keys(ie[Se(t[0].id)].active_costs)),s=[];for(let u=0;u<a.length;u+=1)s[u]=uf(nf(t,a,u));return{c(){e=I("div"),Z(n.$$.fragment),o=q(),i=I("span"),i.textContent="Weekly Costs",r=q();for(let u=0;u<s.length;u+=1)s[u].c();N(i,"class","font-semibold"),N(e,"class","flex flex-col gap-1 text-xs")},m(u,f){M(u,e,f),X(n,e,null),g(e,o),g(e,i),g(e,r);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(e,null);l=!0},p(u,f){if(f&1){a=Ye(Object.keys(ie[Se(u[0].id)].active_costs));let c;for(c=0;c<a.length;c+=1){const d=nf(u,a,c);s[c]?s[c].p(d,f):(s[c]=uf(d),s[c].c(),s[c].m(e,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=a.length}},i(u){l||(A(n.$$.fragment,u),l=!0)},o(u){S(n.$$.fragment,u),l=!1},d(u){u&&T(e),J(n),_t(s,u)}}}function af(t){let e,n=Fn(t[4])+"",o,i,r=mr(t[4])+"",l,a,s=-1*Object.values(ie[Se(t[0].id)].active_costs)[t[6]]+"",u,f,c;return{c(){e=I("span"),o=F(n),i=q(),l=F(r),a=q(),u=F(s),f=q(),N(e,"class",c=Object.values(ie[Se(t[0].id)].active_costs)[t[6]]>0?"text-textDanger1":"text-textHappyDark")},m(d,m){M(d,e,m),g(e,o),g(e,i),g(e,l),g(e,a),g(e,u),g(e,f)},p(d,m){m&1&&n!==(n=Fn(d[4])+"")&&re(o,n),m&1&&r!==(r=mr(d[4])+"")&&re(l,r),m&1&&s!==(s=-1*Object.values(ie[Se(d[0].id)].active_costs)[d[6]]+"")&&re(u,s),m&1&&c!==(c=Object.values(ie[Se(d[0].id)].active_costs)[d[6]]>0?"text-textDanger1":"text-textHappyDark")&&N(e,"class",c)},d(d){d&&T(e)}}}function uf(t){let e=Object.values(ie[Se(t[0].id)].active_costs)[t[6]]!=0,n,o=e&&af(t);return{c(){o&&o.c(),n=Re()},m(i,r){o&&o.m(i,r),M(i,n,r)},p(i,r){r&1&&(e=Object.values(ie[Se(i[0].id)].active_costs)[i[6]]!=0),e?o?o.p(i,r):(o=af(i),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(i){i&&T(n),o&&o.d(i)}}}function ff(t){let e,n,o,i,r,l=ie[Se(t[0].id)].knowledge_points_per_month>0,a,s;n=new wt({props:{class:"bg-secondary opacity-25 mt-2"}});let u=l&&cf(t),f=Ye(Object.keys(ie[Se(t[0].id)].generated_resources)),c=[];for(let d=0;d<f.length;d+=1)c[d]=mf(tf(t,f,d));return{c(){e=I("div"),Z(n.$$.fragment),o=q(),i=I("span"),i.textContent="Generated Resources",r=q(),u&&u.c(),a=q();for(let d=0;d<c.length;d+=1)c[d].c();N(i,"class","font-semibold"),N(e,"class","flex flex-col gap-1 text-xs")},m(d,m){M(d,e,m),X(n,e,null),g(e,o),g(e,i),g(e,r),u&&u.m(e,null),g(e,a);for(let p=0;p<c.length;p+=1)c[p]&&c[p].m(e,null);s=!0},p(d,m){if(m&1&&(l=ie[Se(d[0].id)].knowledge_points_per_month>0),l?u?u.p(d,m):(u=cf(d),u.c(),u.m(e,a)):u&&(u.d(1),u=null),m&1){f=Ye(Object.keys(ie[Se(d[0].id)].generated_resources));let p;for(p=0;p<f.length;p+=1){const _=tf(d,f,p);c[p]?c[p].p(_,m):(c[p]=mf(_),c[p].c(),c[p].m(e,null))}for(;p<c.length;p+=1)c[p].d(1);c.length=f.length}},i(d){s||(A(n.$$.fragment,d),s=!0)},o(d){S(n.$$.fragment,d),s=!1},d(d){d&&T(e),J(n),u&&u.d(),_t(c,d)}}}function cf(t){let e,n,o=Math.round(ie[Se(t[0].id)].knowledge_points_per_month)+"",i,r;return{c(){e=I("span"),n=F("🧠 "),i=F(o),r=F(" (monthly)")},m(l,a){M(l,e,a),g(e,n),g(e,i),g(e,r)},p(l,a){a&1&&o!==(o=Math.round(ie[Se(l[0].id)].knowledge_points_per_month)+"")&&re(i,o)},d(l){l&&T(e)}}}function df(t){let e,n=mr(t[4])+"",o,i,r=Fn(t[4])+"",l,a,s=$s(Object.values(ie[Se(t[0].id)].generated_resources)[t[6]],!1)+"",u,f,c;return{c(){e=I("span"),o=F(n),i=q(),l=F(r),a=q(),u=F(s),f=q(),N(e,"class",c=Object.values(ie[Se(t[0].id)].generated_resources)[t[6]]>0?"text-textHappyDark":"text-textDanger1")},m(d,m){M(d,e,m),g(e,o),g(e,i),g(e,l),g(e,a),g(e,u),g(e,f)},p(d,m){m&1&&n!==(n=mr(d[4])+"")&&re(o,n),m&1&&r!==(r=Fn(d[4])+"")&&re(l,r),m&1&&s!==(s=$s(Object.values(ie[Se(d[0].id)].generated_resources)[d[6]],!1)+"")&&re(u,s),m&1&&c!==(c=Object.values(ie[Se(d[0].id)].generated_resources)[d[6]]>0?"text-textHappyDark":"text-textDanger1")&&N(e,"class",c)},d(d){d&&T(e)}}}function mf(t){let e=Object.values(ie[Se(t[0].id)].generated_resources)[t[6]]!=0,n,o=e&&df(t);return{c(){o&&o.c(),n=Re()},m(i,r){o&&o.m(i,r),M(i,n,r)},p(i,r){r&1&&(e=Object.values(ie[Se(i[0].id)].generated_resources)[i[6]]!=0),e?o?o.p(i,r):(o=df(i),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(i){i&&T(n),o&&o.d(i)}}}function u4(t){let e,n,o=t[0]!=null&&of(t);return{c(){o&&o.c(),e=Re()},m(i,r){o&&o.m(i,r),M(i,e,r),n=!0},p(i,[r]){i[0]!=null?o?(o.p(i,r),r&1&&A(o,1)):(o=of(i),o.c(),A(o,1),o.m(e.parentNode,e)):o&&(Ie(),S(o,1,1,()=>{o=null}),Oe())},i(i){n||(A(o),n=!0)},o(i){S(o),n=!1},d(i){i&&T(e),o&&o.d(i)}}}function mr(t){switch(t){case"food":return"🥕";case"knowledge":return"🧠";case"wood":return"🪵";case"stone":return"🪨";case"metal":return"🧲";case"power":return"🔋";case"bureaucracy":return"🧑‍⚖️";default:return"💰"}}const pf=t=>t!=0,hf=t=>t!=0;function f4(t,e,n){let o;ae(t,Pe,a=>n(2,o=a));let{option:i}=e,{checkRequirements:r=!0}=e;function l(a,s,u){if(s==0||s==null)return"<span class='hidden'></span>";let f="",c="";return u<s&&r&&(c="text-textDanger1 border-2 border-red-400"),f=`<span class='${c}'>${a} ${s}</span>`,f}return t.$$set=a=>{"option"in a&&n(0,i=a.option),"checkRequirements"in a&&n(1,r=a.checkRequirements)},[i,r,o,l]}class Bd extends be{constructor(e){super(),ge(this,e,f4,u4,fe,{option:0,checkRequirements:1})}}function _f(t,e,n){const o=t.slice();return o[25]=e[n],o}function gf(t,e,n){const o=t.slice();return o[28]=e[n],o}function bf(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,p,_=t[5].plots[t[0]][t[1]].type!==-1&&t[12](t[0],t[1]),v,w,k,C,D,L,P={type:"text",autofocus:!0,id:"search-bar",placeholder:"Search Plot Options...",value:t[3],class:"border rounded w-auto bg-white placeholder-black text-black text-xs"};a=new Jl({props:P}),t[16](a),a.$on("input",t[10]);let $=_&&vf(t),G=Ye(t[6].isMineralSource||t[3].length>0?[1]:He("tree_farm",t[5]).length!=0?[1,2,3,4]:[1]),R=[];for(let y=0;y<G.length;y+=1)R[y]=Mf(_f(t,G,y));const W=y=>S(R[y],1,1,()=>{R[y]=null});return{c(){e=I("div"),n=I("div"),o=I("div"),i=I("div"),r=I("div"),l=I("div"),Z(a.$$.fragment),s=q(),u=I("div"),f=I("input"),c=q(),d=I("label"),d.textContent="Buildable",m=q(),p=I("div"),$&&$.c(),v=q(),w=I("div");for(let y=0;y<R.length;y+=1)R[y].c();N(l,"class","flex items-end "),N(f,"type","checkbox"),N(f,"id","toggle-affordable"),N(f,"class","rounded"),f.checked=t[7],N(d,"for","toggle-affordable"),N(d,"class","ml-2 no-select cursor-pointer "),N(u,"class","flex items-center ml-4"),N(p,"class","flex justify-end ml-6"),N(r,"class","flex flex-row w-full "),N(i,"class","text-sm"),N(w,"class",k="flex flex-col "+(t[6].isMineralSource||t[3].length>0?"gap-0 pt-0":"gap-4")+" w-full overflow-y-scroll h-72 pb-24"),N(o,"class","flex flex-col gap-2 px-2 justify-end"),N(n,"class","text-xl items-center justify-center w-[90%] align-bottom bg-foreground border-4 border-gray-400 shadow-2xl rounded-t-xl py-2 "),N(e,"class","w-[100vw] fixed bottom-0 h-["+t[9]+"] p-1 z-50 flex flex-col justify-center text-center items-center")},m(y,b){M(y,e,b),g(e,n),g(n,o),g(o,i),g(i,r),g(r,l),X(a,l,null),g(r,s),g(r,u),g(u,f),g(u,c),g(u,d),g(r,m),g(r,p),$&&$.m(p,null),g(o,v),g(o,w);for(let O=0;O<R.length;O+=1)R[O]&&R[O].m(w,null);C=!0,D||(L=[ee(f,"change",t[17]),ee(o,"click",t[11])],D=!0)},p(y,b){const O={};if(b[0]&8&&(O.value=y[3]),a.$set(O),(!C||b[0]&128)&&(f.checked=y[7]),b[0]&35&&(_=y[5].plots[y[0]][y[1]].type!==-1&&y[12](y[0],y[1])),_?$?$.p(y,b):($=vf(y),$.c(),$.m(p,null)):$&&($.d(1),$=null),b[0]&120){G=Ye(y[6].isMineralSource||y[3].length>0?[1]:He("tree_farm",y[5]).length!=0?[1,2,3,4]:[1]);let E;for(E=0;E<G.length;E+=1){const H=_f(y,G,E);R[E]?(R[E].p(H,b),A(R[E],1)):(R[E]=Mf(H),R[E].c(),A(R[E],1),R[E].m(w,null))}for(Ie(),E=G.length;E<R.length;E+=1)W(E);Oe()}(!C||b[0]&72&&k!==(k="flex flex-col "+(y[6].isMineralSource||y[3].length>0?"gap-0 pt-0":"gap-4")+" w-full overflow-y-scroll h-72 pb-24"))&&N(w,"class",k)},i(y){if(!C){A(a.$$.fragment,y);for(let b=0;b<G.length;b+=1)A(R[b]);C=!0}},o(y){S(a.$$.fragment,y),R=R.filter(Boolean);for(let b=0;b<R.length;b+=1)S(R[b]);C=!1},d(y){y&&T(e),t[16](null),J(a),$&&$.d(),_t(R,y),D=!1,Be(L)}}}function vf(t){let e,n,o;return{c(){e=I("button"),e.textContent="❌ Bulldoze",N(e,"id","bulldoze"),N(e,"class","px-2 py-2 bg-red-500 rounded hover:bg-red-600 transition duration-300 ease-in-out")},m(i,r){M(i,e,r),n||(o=ee(e,"click",t[13]),n=!0)},p:Ce,d(i){i&&T(e),n=!1,o()}}}function yf(t){let e,n,o=t[25]+"",i;return{c(){e=I("div"),n=F("Level "),i=F(o),N(e,"class","text-sm font-extralight pb-3")},m(r,l){M(r,e,l),g(e,n),g(e,i)},p(r,l){l[0]&104&&o!==(o=r[25]+"")&&re(i,o)},d(r){r&&T(e)}}}function wf(t){let e,n,o=t[28].active_costs.power+"",i;return{c(){e=I("span"),n=F("🔋"),i=F(o),N(e,"class","bg-yellow-300 text-xs text-black tex px-1 py-0.5 rounded-2xl absolute top-[-5px] right-[-2px]")},m(r,l){M(r,e,l),g(e,n),g(e,i)},p(r,l){l[0]&120&&o!==(o=r[28].active_costs.power+"")&&re(i,o)},d(r){r&&T(e)}}}function kf(t){let e,n,o=He(t[28].id,t[5]).length+"",i;return{c(){e=I("span"),n=F("x"),i=F(o),N(e,"class","bg-black text-xs text-white tex px-1 py-0.5 rounded-2xl absolute top-[-5px] left-[-2px]")},m(r,l){M(r,e,l),g(e,n),g(e,i)},p(r,l){l[0]&120&&o!==(o=He(r[28].id,r[5]).length+"")&&re(i,o)},d(r){r&&T(e)}}}function Cf(t){let e,n,o=Jt(t[28].revenue_per_week,!1)+"",i,r;return{c(){e=I("br"),n=F(`
                            Makes 💰 `),i=F(o),r=F("/week")},m(l,a){M(l,e,a),M(l,n,a),M(l,i,a),M(l,r,a)},p(l,a){a[0]&120&&o!==(o=Jt(l[28].revenue_per_week,!1)+"")&&re(i,o)},d(l){l&&(T(e),T(n),T(i),T(r))}}}function Af(t){let e,n,o=Jt(t[28].requirements.employees,!1)+"",i;return{c(){e=I("br"),n=F(`
                            Employs `),i=F(o)},m(r,l){M(r,e,l),M(r,n,l),M(r,i,l)},p(r,l){l[0]&120&&o!==(o=Jt(r[28].requirements.employees,!1)+"")&&re(i,o)},d(r){r&&(T(e),T(n),T(i))}}}function c4(t){let e,n,o,i=(t[28].selected?"✅":Es(t[28].title))+"",r,l,a,s=t[28].title.substring(2)+"",u,f,c,d=He(t[28].id,t[5]).length>0,m,p,_,v=Jt(t[28].requirements.gold,!1)+"",w,k,C,D,L,P,$=t[28].active_costs.power>0&&wf(t),G=d&&kf(t),R=t[28].revenue_per_week>0&&Cf(t),W=t[28].requirements.employees>0&&Af(t);return{c(){e=I("div"),n=I("div"),o=I("span"),r=F(i),l=q(),a=I("span"),u=F(s),f=q(),$&&$.c(),c=q(),G&&G.c(),m=q(),p=I("span"),_=F("Costs 💰 "),w=F(v),k=q(),R&&R.c(),C=q(),W&&W.c(),N(o,"class","text-md text-center"),N(a,"class","text-xs text-center font-bold mx-1"),N(n,"class","pt-2"),N(p,"style",D=t[28].styling),N(p,"class","text-xs text-center pt-4"),N(e,"class",L="plotOption cursor-pointer min-w-40 "+(t[6].isMineralSource||t[3].length>0?"mx-1 my-2":"")+" relative h-[120px] rounded-xl flex flex-col align-middle transition-all duration-100 "+(t[28].affordable||t[28].selected?"cursor-pointer":"opacity-40 cursor-not-allowed ")+" "+(t[28].selected?"border-4 border-yellow-200 opacity-100 rounded-none":"")),N(e,"data-plotoptionid",P=t[28].id),Ze(e,"background-color",Hi(Se(t[28].id),!0))},m(y,b){M(y,e,b),g(e,n),g(n,o),g(o,r),g(n,l),g(n,a),g(a,u),g(e,f),$&&$.m(e,null),g(e,c),G&&G.m(e,null),g(e,m),g(e,p),g(p,_),g(p,w),g(p,k),R&&R.m(p,null),g(p,C),W&&W.m(p,null)},p(y,b){b[0]&120&&i!==(i=(y[28].selected?"✅":Es(y[28].title))+"")&&re(r,i),b[0]&120&&s!==(s=y[28].title.substring(2)+"")&&re(u,s),y[28].active_costs.power>0?$?$.p(y,b):($=wf(y),$.c(),$.m(e,c)):$&&($.d(1),$=null),b[0]&120&&(d=He(y[28].id,y[5]).length>0),d?G?G.p(y,b):(G=kf(y),G.c(),G.m(e,m)):G&&(G.d(1),G=null),b[0]&120&&v!==(v=Jt(y[28].requirements.gold,!1)+"")&&re(w,v),y[28].revenue_per_week>0?R?R.p(y,b):(R=Cf(y),R.c(),R.m(p,C)):R&&(R.d(1),R=null),y[28].requirements.employees>0?W?W.p(y,b):(W=Af(y),W.c(),W.m(p,null)):W&&(W.d(1),W=null),b[0]&120&&D!==(D=y[28].styling)&&N(p,"style",D),b[0]&120&&L!==(L="plotOption cursor-pointer min-w-40 "+(y[6].isMineralSource||y[3].length>0?"mx-1 my-2":"")+" relative h-[120px] rounded-xl flex flex-col align-middle transition-all duration-100 "+(y[28].affordable||y[28].selected?"cursor-pointer":"opacity-40 cursor-not-allowed ")+" "+(y[28].selected?"border-4 border-yellow-200 opacity-100 rounded-none":""))&&N(e,"class",L),b[0]&120&&P!==(P=y[28].id)&&N(e,"data-plotoptionid",P),b[0]&120&&Ze(e,"background-color",Hi(Se(y[28].id),!0))},d(y){y&&T(e),$&&$.d(),G&&G.d(),R&&R.d(),W&&W.d()}}}function d4(t){let e,n;return e=new Bd({props:{option:t[28]}}),{c(){Z(e.$$.fragment)},m(o,i){X(e,o,i),n=!0},p(o,i){const r={};i[0]&120&&(r.option=o[28]),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){J(e,o)}}}function m4(t){let e,n,o,i;return e=new No({props:{$$slots:{default:[c4]},$$scope:{ctx:t}}}),o=new Oo({props:{$$slots:{default:[d4]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment),n=q(),Z(o.$$.fragment)},m(r,l){X(e,r,l),M(r,n,l),X(o,r,l),i=!0},p(r,l){const a={};l[0]&120|l[1]&1&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l[0]&120|l[1]&1&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),J(e,r),J(o,r)}}}function Sf(t,e){let n,o,i;return o=new Po({props:{openDelay:400,closeDelay:0,$$slots:{default:[m4]},$$scope:{ctx:e}}}),{key:t,first:null,c(){n=Re(),Z(o.$$.fragment),this.first=n},m(r,l){M(r,n,l),X(o,r,l),i=!0},p(r,l){e=r;const a={};l[0]&120|l[1]&1&&(a.$$scope={dirty:l,ctx:e}),o.$set(a)},i(r){i||(A(o.$$.fragment,r),i=!0)},o(r){S(o.$$.fragment,r),i=!1},d(r){r&&T(n),J(o,r)}}}function Tf(t){let e;return{c(){e=I("span"),e.textContent="No plots available!",N(e,"class","text-sm pt-2")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Mf(t){let e,n,o,i=[],r=new Map,l,a=t[4].filter(c).length===0&&t[3].length==0&&!t[6].isMineralSource,s,u,f;function c(...w){return t[15](t[25],...w)}let d=t[3].length==0&&!t[6].isMineralSource&&yf(t);function m(...w){return t[18](t[25],...w)}let p=Ye(t[3].length==0&&!t[6].isMineralSource?t[4].filter(m):t[4]);const _=w=>w[28].id;for(let w=0;w<p.length;w+=1){let k=gf(t,p,w),C=_(k);r.set(C,i[w]=Sf(C,k))}let v=a&&Tf();return{c(){e=I("div"),d&&d.c(),n=q(),o=I("div");for(let w=0;w<i.length;w+=1)i[w].c();l=q(),v&&v.c(),u=q(),N(o,"class",s="flex flex-row text-start justify-start items-start flex-wrap "+(t[6].isMineralSource||t[3].length>0?"pt-0 gap-0":"pt-2 gap-4")+" w-full align-middle")},m(w,k){M(w,e,k),d&&d.m(e,null),g(e,n),g(e,o);for(let C=0;C<i.length;C+=1)i[C]&&i[C].m(o,null);g(o,l),v&&v.m(o,null),g(e,u),f=!0},p(w,k){t=w,t[3].length==0&&!t[6].isMineralSource?d?d.p(t,k):(d=yf(t),d.c(),d.m(e,n)):d&&(d.d(1),d=null),k[0]&120&&(p=Ye(t[3].length==0&&!t[6].isMineralSource?t[4].filter(m):t[4]),Ie(),i=am(i,k,_,1,t,p,r,o,sm,Sf,l,gf),Oe()),k[0]&120&&(a=t[4].filter(c).length===0&&t[3].length==0&&!t[6].isMineralSource),a?v||(v=Tf(),v.c(),v.m(o,null)):v&&(v.d(1),v=null),(!f||k[0]&72&&s!==(s="flex flex-row text-start justify-start items-start flex-wrap "+(t[6].isMineralSource||t[3].length>0?"pt-0 gap-0":"pt-2 gap-4")+" w-full align-middle"))&&N(o,"class",s)},i(w){if(!f){for(let k=0;k<p.length;k+=1)A(i[k]);f=!0}},o(w){for(let k=0;k<i.length;k+=1)S(i[k]);f=!1},d(w){w&&T(e),d&&d.d();for(let k=0;k<i.length;k+=1)i[k].d();v&&v.d()}}}function p4(t){let e,n,o=t[2]&&bf(t);return{c(){o&&o.c(),e=Re()},m(i,r){o&&o.m(i,r),M(i,e,r),n=!0},p(i,r){i[2]?o?(o.p(i,r),r[0]&4&&A(o,1)):(o=bf(i),o.c(),A(o,1),o.m(e.parentNode,e)):o&&(Ie(),S(o,1,1,()=>{o=null}),Oe())},i(i){n||(A(o),n=!0)},o(i){S(o),n=!1},d(i){i&&T(e),o&&o.d(i)}}}function h4(t,e,n){let o,i,r;ae(t,Pe,y=>n(5,o=y)),ae(t,tt,y=>n(6,i=y)),ae(t,mc,y=>n(7,r=y));let{x:l=0}=e,{y:a=0}=e,{open:s=!1}=e,{tooltip:u=""}=e,f="",c=ie,d;const m=Math.round(window.innerHeight*.2)+"px";let p=c.map(y=>Object.assign(Object.assign({},y),{affordable:w(y,o),selected:v(y)}));function _(y){n(3,f=y.target.value||"")}function v(y){return o.plots[l][a].type>-1?c[o.plots[l][a].type].id===y.id:!1}function w(y,b){let O=!0;y.requirements.gold>b.townInfo.gold&&(O=!1);let E=b.townInfo.population_count-b.townInfo.employees;return y.requirements.employees!==void 0&&y.requirements.employees>0&&y.requirements.employees>E&&(O=!1),y.requirements.knowledge!==void 0&&y.requirements.knowledge>b.townInfo.knowledge_points&&(O=!1),y.requirements.resources!==void 0&&Object.keys(y.requirements.resources).forEach(H=>{y.requirements.resources[H]!=0&&o.resources[H]<y.requirements.resources[H]&&(O=!1)}),O}function k(y){const b=y.target.closest(".plotOption");if(b){const O=b.dataset.plotoptionid;C(O)}}function C(y){document.querySelectorAll(".plotOption").forEach(E=>{E.classList.remove("active")});const O=document.querySelector(`[data-plotoptionid="${y}"]`);O&&(O.classList.add("active"),L(l,a,y))}function D(y,b){if(i.isMineralSource)return!1;let O=0;return y>0&&o.plots[y-1][b].type!==-1&&O++,y<o.plots.length-1&&o.plots[y+1][b].type!==-1&&O++,b>0&&o.plots[y][b-1].type!==-1&&O++,b<o.plots[0].length-1&&o.plots[y][b+1].type!==-1&&O++,O<=4}function L(y,b,O){let E=o;const H=ie.findIndex(Y=>Y.id===O),V=Object.entries(ie[H].requirements).map(([Y,h])=>`<li>${Fn(Y)}: ${h}</li>`);let K=ie[H];if(w(K,o)==!1)return Pt.set(`You can not afford this.
        <br/><br/>
        ${V}`);if(K.requirements.adjacent_plots!==void 0){let Y=K.requirements.adjacent_plots;if(op(y,b,E,K.requirements.adjacent_plots)===!1)return Pt.set(`This plot requires adjacent plots of type: ${Y.join(", ")}`)}let z=!0;if((K.requirements.gold>E.townInfo.gold||K.requirements.employees>E.townInfo.population_count-E.townInfo.employees)&&(z=!1),K.requirements.size!=null&&K.requirements.size!=1&&z){let x=function(ne,U){let ue={x:ne,y:U};return ue.x===0&&ue.y===0?!0:[{x:ue.x-1,y:ue.y},{x:ue.x+1,y:ue.y},{x:ue.x,y:ue.y-1},{x:ue.x,y:ue.y+1}].some(Ae=>Ae.x<0||Ae.x>o.plots.length-1||Ae.y<0||Ae.y>o.plots.length-1?!1:o.plots[Ae.x][Ae.y].active)};var te=x;let Y=K.requirements.size,h=[],B=c[H].title.toLowerCase().indexOf("school")!=-1;for(let ne=0;ne<4;ne++){let U=[[y,b]];ne===0?(U.push([y-(Y-1),b-(Y-1)]),U.push([y-(Y-1),b]),U.push([y,b-(Y-1)])):ne===1?(U.push([y,b-(Y-1)]),U.push([y+(Y-1),b-(Y-1)]),U.push([y+(Y-1),b])):ne===2?(U.push([y-(Y-1),b]),U.push([y-(Y-1),b+(Y-1)]),U.push([y,b+(Y-1)])):ne===3&&(U.push([y,b+(Y-1)]),U.push([y+(Y-1),b+(Y-1)]),U.push([y+(Y-1),b])),h.push(U)}h=h.filter(ne=>ne.every(U=>U[0]>=0&&U[0]<=E.plots.length-1&&U[1]>=0&&U[1]<=E.plots.length-1&&!E.plots[U[0]][U[1]].active&&x(U[0],U[1])==!0)),h.length===0?z=!1:h.length>0&&h[0].forEach(U=>{E.plots[U[0]][U[1]].active=!0,E.plots[U[0]][U[1]].type=B?-3:-2,E.plots[U[0]][U[1]].referencePlot=[y,b]})}if(z===!0){if(E.plots[y][b].type!==-1&&Wi(y,b,E),n(14,u=""),E.plots[y][b].type=H,E.plots[y][b].active=!0,E.plots[y][b].referencePlot=[],E.plots[y][b].typeId=K.id,E.townInfo.gold-=K.requirements.gold,E.townInfo.gold=ut(E.townInfo.gold,2),E.townInfo.population_count+=K.immediate_variable_changes.population,E.townInfo.population_max+=K.immediate_variable_changes.population,E.townInfo.happiness+=K.immediate_variable_changes.happiness,E.townInfo.health+=K.immediate_variable_changes.health,E.modifiers.happiness=ut(E.modifiers.happiness*K.effect_modifiers.happiness,2),E.modifiers.health=ut(E.modifiers.health*K.effect_modifiers.health,2),E.modifiers.community=ut(E.modifiers.community*K.effect_modifiers.community,2),E.townInfo.employees+=K.requirements.employees,(E.plotCounts[H]===void 0||E.plotCounts[H]===null)&&(E.plotCounts[H]=0),E.plotCounts[H]++,E.lastChangeDay=E.environment.day,K.requirements.resources!==void 0){const h=K.requirements.resources;E.resources.food-=h.food,E.resources.wood-=h.wood,E.resources.stone-=h.stone,E.resources.metal-=h.metal}switch(K.id){case"city_hall":E.hasCityHall=!0;break;case"bank":E.hasBank=!0;break}Pe.set(E),localStorage.setItem(qt,JSON.stringify(E));let Y=!1;for(let h=y;h<E.plots.length;h++){for(let B=b;B<E.plots[h].length;B++)if(E.plots[h][B].active===!1&&E.plots[h][B].mineralSource==!1&&E.plots[h][B].water==!1){y=h,b=B,Y=!0;break}if(Y)break}Me(tt,i.x=y,i),Me(tt,i.y=b,i)}else n(14,u="You do not have enough resources to purchase this plot. If it's a 'Large' plot, make sure you have a 2x2 area available. "),document.querySelectorAll(".plotOption").forEach(h=>{h.classList.remove("active")})}function P(){document.querySelectorAll(".plotOption").forEach(b=>{b.classList.remove("active")}),Wi(l,a,o)}const $=(y,b)=>b.level===y;function G(y){Ne[y?"unshift":"push"](()=>{d=y,n(8,d)})}const R=()=>{vm()},W=(y,b)=>b.level===y;return t.$$set=y=>{"x"in y&&n(0,l=y.x),"y"in y&&n(1,a=y.y),"open"in y&&n(2,s=y.open),"tooltip"in y&&n(14,u=y.tooltip)},t.$$.update=()=>{t.$$.dirty[0]&240&&o&&(n(4,p=c.map(y=>Object.assign(Object.assign({},y),{affordable:w(y,o),selected:v(y)}))),He("tree_farm",o).length===0&&n(4,p=p.filter(y=>y.id==="small_homes"||y.id==="farm"||y.id==="tree_farm")),i.isMineralSource&&n(4,p=p.filter(y=>y.id==="mine")),r&&n(4,p=p.filter(y=>y.affordable)),Object.keys(Ms).forEach(y=>{let b=Ms[y];if(b>0){let O=He(y,o).length;n(4,p=p.filter(E=>E.id!==y||O<b))}}),p.sort((y,b)=>y.selected&&!b.selected?-1:0)),t.$$.dirty[0]&24&&n(4,p=p.filter(y=>y.title.toLowerCase().includes(f.toLowerCase())))},[l,a,s,f,p,o,i,r,d,m,_,k,D,P,u,$,G,R,W]}class jd extends be{constructor(e){super(),ge(this,e,h4,p4,fe,{x:0,y:1,open:2,tooltip:14},null,[-1,-1])}}function _4(t){let e,n,o;return{c(){e=I("span"),n=F("My liege, if you build a City Hall, you can expand your city "),o=F(t[0]),N(e,"class","text-xs")},m(i,r){M(i,e,r),g(e,n),g(e,o)},p(i,r){r&1&&re(o,i[0])},i:Ce,o:Ce,d(i){i&&T(e)}}}function g4(t){let e,n;return e=new yt({props:{class:"bg-button h-max rounded-2xl hover:scale-110 transition-transform duration-200 ease-in-out hover:drop-shadow-2xl",$$slots:{default:[b4]},$$scope:{ctx:t}}}),e.$on("click",t[2]),{c(){Z(e.$$.fragment)},m(o,i){X(e,o,i),n=!0},p(o,i){const r={};i&11&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){J(e,o)}}}function b4(t){let e,n,o,i,r,l=t[0].toUpperCase()+"",a,s,u,f,c,d,m,p,_,v,w,k=Math.round(Math.pow(1.5,t[1].kingdom_expansions+5))+"",C,D,L,P;return{c(){e=I("div"),n=F("spanMy liege, you can expand your "),o=I("br"),i=F(`kingdom
        `),r=I("span"),a=F(l),s=F(`
        using
        `),u=I("br"),f=F(`your
        `),c=I("span"),c.textContent="City Hall",d=F("!"),m=I("br"),p=I("br"),_=q(),v=I("span"),w=F("Requires "),C=F(k),D=F(` Guardians
          `),L=I("br"),P=F("to be employed. (see city mgmt menu)"),N(r,"class","font-extrabold text-blue-200"),N(c,"class","text-blue-200 bold"),N(v,"class","opacity-75 text-xs")},m($,G){M($,e,G),g(e,n),g(e,o),g(e,i),g(e,r),g(r,a),g(e,s),g(e,u),g(e,f),g(e,c),g(e,d),g(e,m),g(e,p),g(e,_),g(e,v),g(v,w),g(v,C),g(v,D),g(v,L),g(v,P)},p($,G){G&1&&l!==(l=$[0].toUpperCase()+"")&&re(a,l),G&2&&k!==(k=Math.round(Math.pow(1.5,$[1].kingdom_expansions+5))+"")&&re(C,k)},d($){$&&T(e)}}}function v4(t){let e,n,o,i,r;const l=[g4,_4],a=[];function s(u,f){return f&2&&(n=null),n==null&&(n=He("city_hall",u[1]).length>0),n?0:1}return o=s(t,-1),i=a[o]=l[o](t),{c(){e=I("div"),i.c(),N(e,"class","w-48 h-max")},m(u,f){M(u,e,f),a[o].m(e,null),r=!0},p(u,[f]){let c=o;o=s(u,f),o===c?a[o].p(u,f):(Ie(),S(a[c],1,1,()=>{a[c]=null}),Oe(),i=a[o],i?i.p(u,f):(i=a[o]=l[o](u),i.c()),A(i,1),i.m(e,null))},i(u){r||(A(i),r=!0)},o(u){S(i),r=!1},d(u){u&&T(e),a[o].d()}}}function y4(t,e,n){let o;ae(t,Pe,l=>n(1,o=l));let{direction:i}=e;const r=()=>{const l=bm(o,i);l&&Pt.set(l)};return t.$$set=l=>{"direction"in l&&n(0,i=l.direction)},[i,o,r]}class If extends be{constructor(e){super(),ge(this,e,y4,v4,fe,{direction:0})}}function w4(t){return{c:Ce,m:Ce,p:Ce,d:Ce}}function k4(t){let e,n,o,i=ie[t[0].type].title.substring(0,2)+"",r,l,a,s,u,f=ie[t[0].type].title.substring(2)+"",c,d,m,p;return{c(){e=I("div"),n=I("span"),o=I("span"),r=F(i),l=q(),a=I("br"),s=q(),u=I("span"),c=F(f),N(o,"class","text-lg align-text-top select-none"),N(u,"class","text-xs align-text-top font-normal text-black from-stone-600 select-none"),N(n,"data-size",d=ie[t[0].type].requirements.size),N(n,"data-x",m=t[0].x),N(n,"data-y",p=t[0].y),N(e,"class","svelte-9dbw4v")},m(_,v){M(_,e,v),g(e,n),g(n,o),g(o,r),g(n,l),g(n,a),g(n,s),g(n,u),g(u,c)},p(_,v){v&1&&i!==(i=ie[_[0].type].title.substring(0,2)+"")&&re(r,i),v&1&&f!==(f=ie[_[0].type].title.substring(2)+"")&&re(c,f),v&1&&d!==(d=ie[_[0].type].requirements.size)&&N(n,"data-size",d),v&1&&m!==(m=_[0].x)&&N(n,"data-x",m),v&1&&p!==(p=_[0].y)&&N(n,"data-y",p)},d(_){_&&T(e)}}}function Of(t){let e;return{c(){e=I("span"),e.textContent="🧲",N(e,"class","text-lg")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function C4(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,p,_,v,w,k,C;function D(G,R){if(G[0].type>-1)return k4;if(G[0].type==-1&&G[0].x==0&&G[0].y==0)return w4}let L=D(t),P=L&&L(t),$=t[0].mineralSource&&t[0].type==-1&&Of();return{c(){e=I("button"),P&&P.c(),n=q(),$&&$.c(),N(e,"class",o="plot_container "+t[1]+" overflow-visible "+(t[0].type==-1&&t[2]==!1,"")+" "+(t[0].mineralSource?"hidden":"")+" "+(t[2]?"cursor-pointer":"cursor-not-allowed")+" "+(t[0].disabled?"animate-spin":"")+" svelte-9dbw4v"),Ze(e,"background-color",t[0].water?"bg-blue-900 opacity-100":t[4].x==t[0].x&&t[4].y==t[0].y&&t[4].visible?"white":t[0].mineralSource?"black":Hi(t[0].type,t[2])),N(e,"data-active",i=t[0].active),N(e,"data-hidehoveranimation",r=t[4].visible||t[0].type==-1&&t[0].x==0&&t[0].y==0),N(e,"data-id",l=t[0].id),N(e,"data-x",a=t[0].x),N(e,"data-y",s=t[0].y),N(e,"data-optionindex",u=t[0].optionIndex),N(e,"data-canbeupgraded",t[2]),N(e,"data-type",f=t[0].type),N(e,"data-type-id",c=t[0].typeId),N(e,"data-refplotx",d=t[0].referencePlot!==void 0?t[0].referencePlot[1]:null),N(e,"data-refploty",m=t[0].referencePlot!==void 0?t[0].referencePlot[0]:null),N(e,"data-size",p=t[0].type>-1?ie[t[0].type].requirements.size:null),N(e,"data-mineralsource",_=t[0].mineralSource),N(e,"data-water",v=t[0].water),N(e,"data-nearwater",w=Bn(t[0].x,t[0].y,t[5]))},m(G,R){M(G,e,R),P&&P.m(e,null),g(e,n),$&&$.m(e,null),k||(C=ee(e,"click",function(){cn(t[0].water?null:t[6])&&(t[0].water?null:t[6]).apply(this,arguments)}),k=!0)},p(G,R){t=G,L===(L=D(t))&&P?P.p(t,R):(P&&P.d(1),P=L&&L(t),P&&(P.c(),P.m(e,n))),t[0].mineralSource&&t[0].type==-1?$||($=Of(),$.c(),$.m(e,null)):$&&($.d(1),$=null),R&7&&o!==(o="plot_container "+t[1]+" overflow-visible "+(t[0].type==-1&&t[2]==!1,"")+" "+(t[0].mineralSource?"hidden":"")+" "+(t[2]?"cursor-pointer":"cursor-not-allowed")+" "+(t[0].disabled?"animate-spin":"")+" svelte-9dbw4v")&&N(e,"class",o),R&21&&Ze(e,"background-color",t[0].water?"bg-blue-900 opacity-100":t[4].x==t[0].x&&t[4].y==t[0].y&&t[4].visible?"white":t[0].mineralSource?"black":Hi(t[0].type,t[2])),R&1&&i!==(i=t[0].active)&&N(e,"data-active",i),R&17&&r!==(r=t[4].visible||t[0].type==-1&&t[0].x==0&&t[0].y==0)&&N(e,"data-hidehoveranimation",r),R&1&&l!==(l=t[0].id)&&N(e,"data-id",l),R&1&&a!==(a=t[0].x)&&N(e,"data-x",a),R&1&&s!==(s=t[0].y)&&N(e,"data-y",s),R&1&&u!==(u=t[0].optionIndex)&&N(e,"data-optionindex",u),R&4&&N(e,"data-canbeupgraded",t[2]),R&1&&f!==(f=t[0].type)&&N(e,"data-type",f),R&1&&c!==(c=t[0].typeId)&&N(e,"data-type-id",c),R&1&&d!==(d=t[0].referencePlot!==void 0?t[0].referencePlot[1]:null)&&N(e,"data-refplotx",d),R&1&&m!==(m=t[0].referencePlot!==void 0?t[0].referencePlot[0]:null)&&N(e,"data-refploty",m),R&1&&p!==(p=t[0].type>-1?ie[t[0].type].requirements.size:null)&&N(e,"data-size",p),R&1&&_!==(_=t[0].mineralSource)&&N(e,"data-mineralsource",_),R&1&&v!==(v=t[0].water)&&N(e,"data-water",v),R&33&&w!==(w=Bn(t[0].x,t[0].y,t[5]))&&N(e,"data-nearwater",w)},d(G){G&&T(e),P&&P.d(),$&&$.d(),k=!1,C()}}}function Pf(t){let e;return{c(){e=F("Water - Place farms nearby for more food & revenue!")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Nf(t){let e;return{c(){e=I("span"),e.textContent="Near water - Generating more food & revenue!",N(e,"class","text-xs bg-blue-500 text-white p-1")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Ef(t){let e,n;return e=new Bd({props:{option:t[3],checkRequirements:!1}}),{c(){Z(e.$$.fragment)},m(o,i){X(e,o,i),n=!0},p(o,i){const r={};i&8&&(r.option=o[3]),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){J(e,o)}}}function A4(t){let e,n,o=Bn(t[0].x,t[0].y,t[5]),i,r,l=t[0].water&&Pf(),a=o&&Nf(),s=t[0].active&&Ef(t);return{c(){e=I("div"),l&&l.c(),n=q(),a&&a.c(),i=q(),s&&s.c(),N(e,"class","flex flex-col gap-2")},m(u,f){M(u,e,f),l&&l.m(e,null),g(e,n),a&&a.m(e,null),g(e,i),s&&s.m(e,null),r=!0},p(u,f){u[0].water?l||(l=Pf(),l.c(),l.m(e,n)):l&&(l.d(1),l=null),f&33&&(o=Bn(u[0].x,u[0].y,u[5])),o?a||(a=Nf(),a.c(),a.m(e,i)):a&&(a.d(1),a=null),u[0].active?s?(s.p(u,f),f&1&&A(s,1)):(s=Ef(u),s.c(),A(s,1),s.m(e,null)):s&&(Ie(),S(s,1,1,()=>{s=null}),Oe())},i(u){r||(A(s),r=!0)},o(u){S(s),r=!1},d(u){u&&T(e),l&&l.d(),a&&a.d(),s&&s.d()}}}function S4(t){let e,n,o,i;return e=new No({props:{$$slots:{default:[C4]},$$scope:{ctx:t}}}),o=new Oo({props:{class:t[0].type<0&&!t[0].water?"hidden":"",$$slots:{default:[A4]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment),n=q(),Z(o.$$.fragment)},m(r,l){X(e,r,l),M(r,n,l),X(o,r,l),i=!0},p(r,l){const a={};l&1079&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&1&&(s.class=r[0].type<0&&!r[0].water?"hidden":""),l&1065&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),J(e,r),J(o,r)}}}function T4(t){let e,n;return e=new Po({props:{openDelay:400,closeDelay:0,$$slots:{default:[S4]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment)},m(o,i){X(e,o,i),n=!0},p(o,[i]){const r={};i&1087&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){J(e,o)}}}function M4(t,e,n){let o,i,r,l;ae(t,tt,m=>n(4,o=m)),ae(t,Pe,m=>n(5,i=m)),ae(t,Dt,m=>n(8,r=m)),ae(t,go,m=>n(9,l=m));let{data:a={id:0,active:!1,x:0,y:0,type:-1,styling:"",referencePlot:[],mineralSource:!1,disabled:!1,water:!1}}=e,s,{classText:u=""}=e,{canBeUpgraded:f=!1}=e;function c(m,p,_){let v=document.querySelectorAll(".plot_container");if(r==!1){if(a.referencePlot!=null&&a.referencePlot[0]!==null&&p==null&&_==null&&a.referencePlot[1]!==void 0)return c(m,a.referencePlot[0],a.referencePlot[1]);!a.active&&!f?(Me(go,l={},l),Me(tt,o.visible=!1,o),v.forEach(w=>{w.classList.remove("selected")})):(p!=null&&_!=null?(Me(tt,o.x=p,o),Me(tt,o.y=_,o)):(Me(tt,o.x=a.x,o),Me(tt,o.y=a.y,o)),Me(tt,o.isMineralSource=a.mineralSource,o),Me(tt,o.visible=!0,o),v.forEach(w=>{w.classList.remove("selected")}),p!=null&&_!=null?document.querySelector(`.plot_container[data-x="${p}"][data-y="${_}"]`).classList.add("selected"):document.querySelector(`.plot_container[data-id="${a.id}"]`).classList.add("selected"))}}function d(m){r==!1&&(Me(Pe,i.plots[a.x][a.y].type=m,i),Me(tt,o.visible=!1,o))}return t.$$set=m=>{"data"in m&&n(0,a=m.data),"classText"in m&&n(1,u=m.classText),"canBeUpgraded"in m&&n(2,f=m.canBeUpgraded)},t.$$.update=()=>{t.$$.dirty&1&&a.type>-1&&n(3,s=ie[a.type])},[a,u,f,s,o,i,c,d]}class I4 extends be{constructor(e){super(),ge(this,e,M4,T4,fe,{data:0,classText:1,canBeUpgraded:2,changePlotType:7})}get changePlotType(){return this.$$.ctx[7]}}function $f(t,e,n){const o=t.slice();return o[6]=e[n],o[8]=n,o}function Rf(t,e,n){const o=t.slice();return o[9]=e[n],o}function Df(t){let e,n,o,i,r,l,a,s,u,f,c,d=t[3],m,p,_=Ye(t[2].plots),v=[];for(let C=0;C<_.length;C+=1)v[C]=Ff($f(t,_,C));const w=C=>S(v[C],1,1,()=>{v[C]=null});a=new If({props:{direction:"east"}}),f=new If({props:{direction:"south"}});let k=jf(t);return{c(){e=I("div"),n=I("div"),o=I("div"),i=I("div");for(let C=0;C<v.length;C+=1)v[C].c();r=q(),l=I("span"),Z(a.$$.fragment),s=q(),u=I("span"),Z(f.$$.fragment),c=q(),k.c(),m=Re(),N(i,"class","grid plot_controller svelte-1bzj7j4"),N(o,"class","flex flex-row items-center"),N(n,"id","plotContainerMain"),N(n,"class","absolute left-[170px] items-center h-max flex flex-col top-[170px] pl-16 pt-16 pb-80 pr-80 bg-background svelte-1bzj7j4"),N(e,"class","flex flex-col")},m(C,D){M(C,e,D),g(e,n),g(n,o),g(o,i);for(let L=0;L<v.length;L+=1)v[L]&&v[L].m(i,null);g(o,r),g(o,l),X(a,l,null),g(n,s),g(n,u),X(f,u,null),M(C,c,D),k.m(C,D),M(C,m,D),p=!0},p(C,D){if(D&7){_=Ye(C[2].plots);let L;for(L=0;L<_.length;L+=1){const P=$f(C,_,L);v[L]?(v[L].p(P,D),A(v[L],1)):(v[L]=Ff(P),v[L].c(),A(v[L],1),v[L].m(i,null))}for(Ie(),L=_.length;L<v.length;L+=1)w(L);Oe()}D&8&&fe(d,d=C[3])?(Ie(),S(k,1,1,Ce),Oe(),k=jf(C),k.c(),A(k,1),k.m(m.parentNode,m)):k.p(C,D)},i(C){if(!p){for(let D=0;D<_.length;D+=1)A(v[D]);A(a.$$.fragment,C),A(f.$$.fragment,C),A(k),p=!0}},o(C){v=v.filter(Boolean);for(let D=0;D<v.length;D+=1)S(v[D]);S(a.$$.fragment,C),S(f.$$.fragment,C),S(k),p=!1},d(C){C&&(T(e),T(c),T(m)),_t(v,C),J(a),J(f),k.d(C)}}}function Lf(t){let e,n;return e=new I4({props:{classText:"hexagon",data:t[9],canBeUpgraded:t[0](t[9].x,t[9].y)}}),{c(){Z(e.$$.fragment)},m(o,i){X(e,o,i),n=!0},p(o,i){const r={};i&4&&(r.data=o[9]),i&4&&(r.canBeUpgraded=o[0](o[9].x,o[9].y)),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){J(e,o)}}}function Ff(t){let e,n,o,i,r,l=Ye(t[6]),a=[];for(let u=0;u<l.length;u+=1)a[u]=Lf(Rf(t,l,u));const s=u=>S(a[u],1,1,()=>{a[u]=null});return{c(){e=I("div");for(let u=0;u<a.length;u+=1)a[u].c();n=q(),N(e,"class","row "+(t[8]%2!==0?"odd-row":"")+" svelte-1bzj7j4")},m(u,f){M(u,e,f);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(e,null);g(e,n),o=!0,i||(r=ee(e,"click",t[1]),i=!0)},p(u,f){if(f&5){l=Ye(u[6]);let c;for(c=0;c<l.length;c+=1){const d=Rf(u,l,c);a[c]?(a[c].p(d,f),A(a[c],1)):(a[c]=Lf(d),a[c].c(),A(a[c],1),a[c].m(e,n))}for(Ie(),c=l.length;c<a.length;c+=1)s(c);Oe()}},i(u){if(!o){for(let f=0;f<l.length;f+=1)A(a[f]);o=!0}},o(u){a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)S(a[f]);o=!1},d(u){u&&T(e),_t(a,u),i=!1,r()}}}function Bf(t){let e,n;return e=new jd({props:{x:t[4].x,y:t[4].y,open:t[4].visible}}),{c(){Z(e.$$.fragment)},m(o,i){X(e,o,i),n=!0},p(o,i){const r={};i&16&&(r.x=o[4].x),i&16&&(r.y=o[4].y),i&16&&(r.open=o[4].visible),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){J(e,o)}}}function jf(t){let e,n,o=t[4].visible&&Bf(t);return{c(){o&&o.c(),e=Re()},m(i,r){o&&o.m(i,r),M(i,e,r),n=!0},p(i,r){i[4].visible?o?(o.p(i,r),r&16&&A(o,1)):(o=Bf(i),o.c(),A(o,1),o.m(e.parentNode,e)):o&&(Ie(),S(o,1,1,()=>{o=null}),Oe())},i(i){n||(A(o),n=!0)},o(i){S(o),n=!1},d(i){i&&T(e),o&&o.d(i)}}}function O4(t){let e,n,o=t[2]!=null&&Df(t);return{c(){o&&o.c(),e=Re()},m(i,r){o&&o.m(i,r),M(i,e,r),n=!0},p(i,[r]){i[2]!=null?o?(o.p(i,r),r&4&&A(o,1)):(o=Df(i),o.c(),A(o,1),o.m(e.parentNode,e)):o&&(Ie(),S(o,1,1,()=>{o=null}),Oe())},i(i){n||(A(o),n=!0)},o(i){S(o),n=!1},d(i){i&&T(e),o&&o.d(i)}}}function P4(t,e,n){let o,i,r;ae(t,go,u=>n(3,o=u)),ae(t,Pe,u=>n(2,i=u)),ae(t,tt,u=>n(4,r=u)),document.addEventListener("click",function(u){const f=u.target;(f.dataset.x==null&&f.dataset.type!="-1"&&f.dataset.size!=null||f.id=="plotContainerMain"||f.classList.contains("row")||f.classList.contains("grid"))&&Me(tt,r.visible=!1,r)});function l(u,f){let c={x:u,y:f};return c.x===0&&c.y===0?!0:[{x:c.x-1,y:c.y},{x:c.x+1,y:c.y},{x:c.x,y:c.y-1},{x:c.x,y:c.y+1}].some(m=>m.x<0||m.x>=i.plots.length||m.y<0||m.y>=i.plots[m.x].length?!1:i.plots[m.x][m.y].active)}function a(){let u=[];for(let f=0;f<i.plots.length;f++)for(let c=0;c<i.plots.length;c++)l(f,c)&&i.plots[f][c].active==!1&&u.push(i.plots[f][c])}function s(){Me(go,o={},o)}return t.$$.update=()=>{t.$$.dirty&4&&i&&a()},[l,s,i,o,r]}class N4 extends be{constructor(e){super(),ge(this,e,P4,O4,fe,{checkIfPlotCanBeUpgraded:0,restartModifyPlotMenu:1})}get checkIfPlotCanBeUpgraded(){return this.$$.ctx[0]}get restartModifyPlotMenu(){return this.$$.ctx[1]}}function qf(t,e,n){const o=t.slice();return o[3]=e[n],o}function Gf(t){let e;return{c(){e=I("p"),e.textContent="No alerts",N(e,"class","text-center")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Vf(t){let e,n,o,i=t[3].day+"",r,l,a,s=t[3].message+"",u,f,c,d;return{c(){e=I("div"),n=I("p"),o=F("DAY "),r=F(i),l=q(),a=I("p"),u=F(s),c=q(),d=I("br"),N(n,"class","font-mono text-[10px] "),N(a,"class","text-sm pb-1"),N(e,"class",f="p-2 rounded-2xl "+(t[3].vibe==ze.BAD?"bg-red-600":t[3].vibe==ze.GOOD?"bg-green-600":(t[3].vibe==ze.NORMAL,"bg-accent")))},m(m,p){M(m,e,p),g(e,n),g(n,o),g(n,r),g(e,l),g(e,a),g(a,u),M(m,c,p),M(m,d,p)},p(m,p){p&2&&i!==(i=m[3].day+"")&&re(r,i),p&2&&s!==(s=m[3].message+"")&&re(u,s),p&2&&f!==(f="p-2 rounded-2xl "+(m[3].vibe==ze.BAD?"bg-red-600":m[3].vibe==ze.GOOD?"bg-green-600":(m[3].vibe==ze.NORMAL,"bg-accent")))&&N(e,"class",f)},d(m){m&&(T(e),T(c),T(d))}}}function E4(t){let e,n,o,i,r,l,a,s,u,f,c,d=t[1].townLog.length==0&&Gf(),m=Ye(t[1].townLog),p=[];for(let _=0;_<m.length;_+=1)p[_]=Vf(qf(t,m,_));return{c(){e=I("div"),n=I("div"),o=I("h1"),o.textContent="Alerts",i=q(),r=I("div"),d&&d.c(),l=q();for(let _=0;_<p.length;_+=1)p[_].c();a=q(),s=I("ul"),N(o,"class","text-xl w-full pb-2 text-center cursor-pointer "),N(r,"class","overflow-y-scroll h-[100%] w-[100%] px-1"),N(s,"class","list-disc pl-5 gap-2 flex flex-col text-xs "),N(n,"class",u="bg-foreground w-[160px] border-foregroundDark border-4 "+(t[0].visible?"bottom-8  opacity-70":"bottom-2")+" z-10 fixed left-3 py-2 top-[190px] drop-shadow-xl rounded-xl transition-all duration-300 overflow-y-clip"),N(e,"class","flex flex-row text-foregroundText")},m(_,v){M(_,e,v),g(e,n),g(n,o),g(n,i),g(n,r),d&&d.m(r,null),g(r,l);for(let w=0;w<p.length;w+=1)p[w]&&p[w].m(r,null);g(n,a),g(n,s),f||(c=ee(o,"click",t[2]),f=!0)},p(_,[v]){if(_[1].townLog.length==0?d||(d=Gf(),d.c(),d.m(r,l)):d&&(d.d(1),d=null),v&2){m=Ye(_[1].townLog);let w;for(w=0;w<m.length;w+=1){const k=qf(_,m,w);p[w]?p[w].p(k,v):(p[w]=Vf(k),p[w].c(),p[w].m(r,null))}for(;w<p.length;w+=1)p[w].d(1);p.length=m.length}v&1&&u!==(u="bg-foreground w-[160px] border-foregroundDark border-4 "+(_[0].visible?"bottom-8  opacity-70":"bottom-2")+" z-10 fixed left-3 py-2 top-[190px] drop-shadow-xl rounded-xl transition-all duration-300 overflow-y-clip")&&N(n,"class",u)},i:Ce,o:Ce,d(_){_&&T(e),d&&d.d(),_t(p,_),f=!1,c()}}}function $4(t,e,n){let o,i;return ae(t,tt,l=>n(0,o=l)),ae(t,Pe,l=>n(1,i=l)),[o,i,()=>{Me(Pe,i.townLog=[],i)}]}class R4 extends be{constructor(e){super(),ge(this,e,$4,E4,fe,{})}}function Hf(t,e,n){const o=t.slice();return o[5]=e[n],o}function Wf(t){let e,n;return e=new M1({props:{thumb:t[5],class:"block h-5 w-5 rounded-full border-2 border-primary bg-accent ring-accent transition-colors focus-visible:outline-none  disabled:pointer-events-none disabled:opacity-50"}}),{c(){Z(e.$$.fragment)},m(o,i){X(e,o,i),n=!0},p(o,i){const r={};i&16&&(r.thumb=o[5]),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){J(e,o)}}}function D4(t){let e,n,o,i,r;n=new w1({props:{class:"absolute h-full bg-primary"}});let l=Ye(t[4]),a=[];for(let u=0;u<l.length;u+=1)a[u]=Wf(Hf(t,l,u));const s=u=>S(a[u],1,1,()=>{a[u]=null});return{c(){e=I("span"),Z(n.$$.fragment),o=q();for(let u=0;u<a.length;u+=1)a[u].c();i=Re(),N(e,"class","relative h-2 w-full grow overflow-hidden rounded-full bg-textPrimary")},m(u,f){M(u,e,f),X(n,e,null),M(u,o,f);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(u,f);M(u,i,f),r=!0},p(u,f){if(f&16){l=Ye(u[4]);let c;for(c=0;c<l.length;c+=1){const d=Hf(u,l,c);a[c]?(a[c].p(d,f),A(a[c],1)):(a[c]=Wf(d),a[c].c(),A(a[c],1),a[c].m(i.parentNode,i))}for(Ie(),c=l.length;c<a.length;c+=1)s(c);Oe()}},i(u){if(!r){A(n.$$.fragment,u);for(let f=0;f<l.length;f+=1)A(a[f]);r=!0}},o(u){S(n.$$.fragment,u),a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)S(a[f]);r=!1},d(u){u&&(T(e),T(o),T(i)),J(n),_t(a,u)}}}function L4(t){let e,n,o;const i=[{class:Fe("relative flex w-full touch-none select-none items-center",t[1])},t[2]];function r(a){t[3](a)}let l={$$slots:{default:[D4,({thumbs:a})=>({4:a}),({thumbs:a})=>a?16:0]},$$scope:{ctx:t}};for(let a=0;a<i.length;a+=1)l=Q(l,i[a]);return t[0]!==void 0&&(l.value=t[0]),e=new h1({props:l}),Ne.push(()=>Mn(e,"value",r)),{c(){Z(e.$$.fragment)},m(a,s){X(e,a,s),o=!0},p(a,[s]){const u=s&6?ye(i,[s&2&&{class:Fe("relative flex w-full touch-none select-none items-center",a[1])},s&4&&rt(a[2])]):{};s&272&&(u.$$scope={dirty:s,ctx:a}),!n&&s&1&&(n=!0,u.value=a[0],Tn(()=>n=!1)),e.$set(u)},i(a){o||(A(e.$$.fragment,a),o=!0)},o(a){S(e.$$.fragment,a),o=!1},d(a){J(e,a)}}}function F4(t,e,n){const o=["class","value"];let i=le(e,o),{class:r=void 0}=e,{value:l=[0]}=e;function a(s){l=s,n(0,l)}return t.$$set=s=>{e=Q(Q({},e),$e(s)),n(2,i=le(e,o)),"class"in s&&n(1,r=s.class),"value"in s&&n(0,l=s.value)},[l,r,i,a]}class Yf extends be{constructor(e){super(),ge(this,e,F4,L4,fe,{class:1,value:0})}}function Uf(t,e,n){const o=t.slice();return o[7]=e[n].icon,o[8]=e[n].name,o[9]=e[n].value,o[10]=e[n].rate,o}function Kf(t,e,n){const o=t.slice();return o[13]=e[n],o}function B4(t){let e;return{c(){e=I("div"),e.innerHTML=`Resources are generated from plots. Generation rate can be increased
            by raising the productivity of the town, at the cost of some
            happiness.
            <br/> <br/>
            There is also a slight bit of randomness as townspeople aren&#39;t robots.`,N(e,"class","text-sm")},m(n,o){M(n,e,o)},p:Ce,d(n){n&&T(e)}}}function j4(t){let e,n,o,i;return o=new Oo({props:{class:"text-sm w-[200px]",$$slots:{default:[B4]},$$scope:{ctx:t}}}),{c(){e=I("div"),e.innerHTML='<h1 class="text-xl w-full text-center">Resources</h1> <button class="text-textPrimary text-sm">ℹ️</button>',n=q(),Z(o.$$.fragment),N(e,"class","flex flex-row items-center pb-2 gap-2")},m(r,l){M(r,e,l),M(r,n,l),X(o,r,l),i=!0},p(r,l){const a={};l&65536&&(a.$$scope={dirty:l,ctx:r}),o.$set(a)},i(r){i||(A(o.$$.fragment,r),i=!0)},o(r){S(o.$$.fragment,r),i=!1},d(r){r&&(T(e),T(n)),J(o,r)}}}function q4(t){let e,n;return e=new No({props:{$$slots:{default:[j4]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment)},m(o,i){X(e,o,i),n=!0},p(o,i){const r={};i&65536&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){J(e,o)}}}function G4(t){let e,n,o=t[10]+"",i;return{c(){e=I("span"),n=F("+"),i=F(o),N(e,"class","text-textPrimary")},m(r,l){M(r,e,l),g(e,n),g(e,i)},p(r,l){l&2&&o!==(o=r[10]+"")&&re(i,o)},d(r){r&&T(e)}}}function V4(t){let e;return{c(){e=I("span")},m(n,o){M(n,e,o)},p:Ce,d(n){n&&T(e)}}}function H4(t){let e,n=t[10]+"",o;return{c(){e=I("span"),o=F(n),N(e,"class","text-textDanger2")},m(i,r){M(i,e,r),g(e,o)},p(i,r){r&2&&n!==(n=i[10]+"")&&re(o,n)},d(i){i&&T(e)}}}function W4(t){let e,n,o=t[10]+"",i;return{c(){e=I("span"),n=F("+"),i=F(o),N(e,"class","text-textHappy")},m(r,l){M(r,e,l),g(e,n),g(e,i)},p(r,l){l&2&&o!==(o=r[10]+"")&&re(i,o)},d(r){r&&T(e)}}}function Y4(t){let e;return{c(){e=I("span"),N(e,"class","display-none")},m(n,o){M(n,e,o)},p:Ce,d(n){n&&T(e)}}}function U4(t){let e,n,o=t[10]+"",i,r;return{c(){e=I("span"),n=F("+"),i=F(o),r=F(" (weekly)"),N(e,"class","")},m(l,a){M(l,e,a),g(e,n),g(e,i),g(e,r)},p(l,a){a&2&&o!==(o=l[10]+"")&&re(i,o)},d(l){l&&T(e)}}}function K4(t){let e,n=t[10]+"",o,i;return{c(){e=I("span"),o=F(n),i=F(" (weekly)"),N(e,"class","text-textDanger2")},m(r,l){M(r,e,l),g(e,o),g(e,i)},p(r,l){l&2&&n!==(n=r[10]+"")&&re(o,n)},d(r){r&&T(e)}}}function X4(t){let e,n,o=t[10]+"",i,r;return{c(){e=I("span"),n=F("+"),i=F(o),r=F(" (weekly)"),N(e,"class","text-textHappy")},m(l,a){M(l,e,a),g(e,n),g(e,i),g(e,r)},p(l,a){a&2&&o!==(o=l[10]+"")&&re(i,o)},d(l){l&&T(e)}}}function Xf(t){let e,n,o,i;return e=new wt({}),{c(){Z(e.$$.fragment),n=q(),o=I("span"),o.textContent="Required for",N(o,"class","text-sm font-semibold")},m(r,l){X(e,r,l),M(r,n,l),M(r,o,l),i=!0},i(r){i||(A(e.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),i=!1},d(r){r&&(T(n),T(o)),J(e,r)}}}function Jf(t){let e,n=t[13]+"",o;return{c(){e=I("span"),o=F(n),N(e,"class","text-xs mr-4")},m(i,r){M(i,e,r),g(e,o)},p(i,r){r&2&&n!==(n=i[13]+"")&&re(o,n)},d(i){i&&T(e)}}}function J4(t){let e,n,o=t[7]+"",i,r,l=Fn(t[8])+"",a,s,u,f=t[5](t[8]).length>0,c,d,m;function p(D,L){return D[10]>0?X4:D[10]<0?K4:D[10]!=null?U4:Y4}let _=p(t),v=_(t),w=f&&Xf(),k=Ye(t[5](t[8])),C=[];for(let D=0;D<k.length;D+=1)C[D]=Jf(Kf(t,k,D));return{c(){e=I("div"),n=I("span"),i=F(o),r=q(),a=F(l),s=q(),v.c(),u=q(),w&&w.c(),c=q(),d=I("div");for(let D=0;D<C.length;D+=1)C[D].c();N(n,"class","text-md font-bold"),N(d,"class","flex flex-col flex-wrap min-w-full"),N(e,"class","flex flex-col gap-2 whitespace-nowrap min-w-fit")},m(D,L){M(D,e,L),g(e,n),g(n,i),g(n,r),g(n,a),g(e,s),v.m(e,null),g(e,u),w&&w.m(e,null),g(e,c),g(e,d);for(let P=0;P<C.length;P+=1)C[P]&&C[P].m(d,null);m=!0},p(D,L){if((!m||L&2)&&o!==(o=D[7]+"")&&re(i,o),(!m||L&2)&&l!==(l=Fn(D[8])+"")&&re(a,l),_===(_=p(D))&&v?v.p(D,L):(v.d(1),v=_(D),v&&(v.c(),v.m(e,u))),L&2&&(f=D[5](D[8]).length>0),f?w?L&2&&A(w,1):(w=Xf(),w.c(),A(w,1),w.m(e,c)):w&&(Ie(),S(w,1,1,()=>{w=null}),Oe()),L&34){k=Ye(D[5](D[8]));let P;for(P=0;P<k.length;P+=1){const $=Kf(D,k,P);C[P]?C[P].p($,L):(C[P]=Jf($),C[P].c(),C[P].m(d,null))}for(;P<C.length;P+=1)C[P].d(1);C.length=k.length}},i(D){m||(A(w),m=!0)},o(D){S(w),m=!1},d(D){D&&T(e),v.d(),w&&w.d(),_t(C,D)}}}function x4(t){let e,n=t[7]+"",o,i,r=Jt(parseInt(t[9]),!1)+"",l,a,s,u,f,c;function d(_,v){return _[10]>0?W4:_[10]<0?H4:_[10]==null?V4:G4}let m=d(t),p=m(t);return f=new Oo({props:{$$slots:{default:[J4]},$$scope:{ctx:t}}}),{c(){e=I("span"),o=F(n),i=q(),l=F(r),a=q(),p.c(),u=q(),Z(f.$$.fragment),N(e,"class",s="flex flex-row justify-between "+(t[9]<=0?"text-textDanger1 font-semibold":"text-textPrimary"))},m(_,v){M(_,e,v),g(e,o),g(e,i),g(e,l),g(e,a),p.m(e,null),M(_,u,v),X(f,_,v),c=!0},p(_,v){(!c||v&2)&&n!==(n=_[7]+"")&&re(o,n),(!c||v&2)&&r!==(r=Jt(parseInt(_[9]),!1)+"")&&re(l,r),m===(m=d(_))&&p?p.p(_,v):(p.d(1),p=m(_),p&&(p.c(),p.m(e,null))),(!c||v&2&&s!==(s="flex flex-row justify-between "+(_[9]<=0?"text-textDanger1 font-semibold":"text-textPrimary")))&&N(e,"class",s);const w={};v&65538&&(w.$$scope={dirty:v,ctx:_}),f.$set(w)},i(_){c||(A(f.$$.fragment,_),c=!0)},o(_){S(f.$$.fragment,_),c=!1},d(_){_&&(T(e),T(u)),p.d(),J(f,_)}}}function Z4(t){let e,n,o;return e=new No({props:{$$slots:{default:[x4]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment),n=q()},m(i,r){X(e,i,r),M(i,n,r),o=!0},p(i,r){const l={};r&65538&&(l.$$scope={dirty:r,ctx:i}),e.$set(l)},i(i){o||(A(e.$$.fragment,i),o=!0)},o(i){S(e.$$.fragment,i),o=!1},d(i){i&&T(n),J(e,i)}}}function xf(t){let e,n;return e=new Po({props:{openDelay:400,closeDelay:0,$$slots:{default:[Z4]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment)},m(o,i){X(e,o,i),n=!0},p(o,i){const r={};i&65538&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){J(e,o)}}}function Q4(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,p,_=ut(t[0].townInfo.productivity,0)+"",v,w,k,C,D,L,P,$,G,R,W,y=ut(t[0].economyAndLaws.tax_rate*100,0)+"",b,O,E,H,V,K,z;o=new Po({props:{openDelay:400,closeDelay:0,$$slots:{default:[q4]},$$scope:{ctx:t}}});let te=Ye(t[1]),Y=[];for(let B=0;B<te.length;B+=1)Y[B]=xf(Uf(t,te,B));const h=B=>S(Y[B],1,1,()=>{Y[B]=null});return C=new Yf({props:{value:[t[0].townInfo.productivity],onValueChange:t[4],min:0,max:200,step:5,class:"cursor-pointer w-full"}}),H=new Yf({props:{value:[t[0].economyAndLaws.tax_rate],onValueChange:t[3],min:0,max:1,step:.05,class:"cursor-pointer w-full"}}),{c(){e=I("div"),n=I("div"),Z(o.$$.fragment),i=q(),r=I("div"),l=I("div");for(let B=0;B<Y.length;B+=1)Y[B].c();a=q(),s=I("div"),u=I("div"),f=I("div"),c=I("span"),c.textContent="Productivity",d=q(),m=I("span"),p=F("("),v=F(_),w=F("%)"),k=q(),Z(C.$$.fragment),D=q(),L=I("div"),P=I("div"),$=I("span"),$.textContent="Tax Rate",G=q(),R=I("span"),W=F("("),b=F(y),O=F("%)"),E=q(),Z(H.$$.fragment),N(n,"class","flex flex-row justify-center"),N(l,"class","flex flex-col text-sm text-nowrap gap-2"),N(c,"class","text-xs"),N(m,"class","text-xs"),N(u,"class","flex flex-col justify-center w-full text-center items-center gap-2"),N($,"class","text-xs"),N(R,"class","text-xs"),N(L,"class",V="flex flex-col justify-center w-full text-center items-center gap-2 min-h-12 pb-2 rounded-xl "+(t[0].economyAndLaws.tax_rate===0?"bg-textDanger1 animate-pulse font-bold":"")),N(s,"class","flex flex-col gap-6 rounded-xl text-center justify-center"),N(r,"class","flex flex-col justify-between gap-4 text-foregroundText h-full pb-12"),N(e,"class",K="bg-foreground w-[160px] sidebar border-foregroundDark border-4 "+(t[2].visible?"bottom-8 opacity-70":"bottom-2")+" z-10 fixed right-3 top-[190px] rounded-xl p-2 transition-all duration-300")},m(B,x){M(B,e,x),g(e,n),X(o,n,null),g(e,i),g(e,r),g(r,l);for(let ne=0;ne<Y.length;ne+=1)Y[ne]&&Y[ne].m(l,null);g(r,a),g(r,s),g(s,u),g(u,f),g(f,c),g(f,d),g(f,m),g(m,p),g(m,v),g(m,w),g(u,k),X(C,u,null),g(s,D),g(s,L),g(L,P),g(P,$),g(P,G),g(P,R),g(R,W),g(R,b),g(R,O),g(L,E),X(H,L,null),z=!0},p(B,[x]){const ne={};if(x&65536&&(ne.$$scope={dirty:x,ctx:B}),o.$set(ne),x&34){te=Ye(B[1]);let we;for(we=0;we<te.length;we+=1){const Ae=Uf(B,te,we);Y[we]?(Y[we].p(Ae,x),A(Y[we],1)):(Y[we]=xf(Ae),Y[we].c(),A(Y[we],1),Y[we].m(l,null))}for(Ie(),we=te.length;we<Y.length;we+=1)h(we);Oe()}(!z||x&1)&&_!==(_=ut(B[0].townInfo.productivity,0)+"")&&re(v,_);const U={};x&1&&(U.value=[B[0].townInfo.productivity]),C.$set(U),(!z||x&1)&&y!==(y=ut(B[0].economyAndLaws.tax_rate*100,0)+"")&&re(b,y);const ue={};x&1&&(ue.value=[B[0].economyAndLaws.tax_rate]),H.$set(ue),(!z||x&1&&V!==(V="flex flex-col justify-center w-full text-center items-center gap-2 min-h-12 pb-2 rounded-xl "+(B[0].economyAndLaws.tax_rate===0?"bg-textDanger1 animate-pulse font-bold":"")))&&N(L,"class",V),(!z||x&4&&K!==(K="bg-foreground w-[160px] sidebar border-foregroundDark border-4 "+(B[2].visible?"bottom-8 opacity-70":"bottom-2")+" z-10 fixed right-3 top-[190px] rounded-xl p-2 transition-all duration-300"))&&N(e,"class",K)},i(B){if(!z){A(o.$$.fragment,B);for(let x=0;x<te.length;x+=1)A(Y[x]);A(C.$$.fragment,B),A(H.$$.fragment,B),z=!0}},o(B){S(o.$$.fragment,B),Y=Y.filter(Boolean);for(let x=0;x<Y.length;x+=1)S(Y[x]);S(C.$$.fragment,B),S(H.$$.fragment,B),z=!1},d(B){B&&T(e),J(o),_t(Y,B),J(C),J(H)}}}function z4(t){return["food","wood","stone","metal","power","knowledge"].includes(t)}function eC(t,e,n){let o,i;ae(t,Pe,f=>n(0,o=f)),ae(t,tt,f=>n(2,i=f));function r(f){let c=o;c.economyAndLaws.tax_rate=ut(f[0],2),Pe.set(c),localStorage.setItem(qt,JSON.stringify(c))}function l(f){let c=o;c.townInfo.productivity=ut(f[0],2),Pe.set(c),localStorage.setItem(qt,JSON.stringify(c))}let a=[];function s(f){let c=[];for(let d=0;d<ie.length;d++)(f!="knowledge"&&ie[d].requirements.resources[f]>0||f=="power"&&ie[d].active_costs.power>0||f=="knowledge"&&ie[d].requirements.knowledge>0)&&c.push(ie[d].title);return c}function u(f){return z4(f)?s(f):[]}return t.$$.update=()=>{t.$$.dirty&1&&n(1,a=[{icon:"🥕",name:"food",value:o.resources.food,rate:o.resource_rate.food},{icon:"🪵",name:"wood",value:o.resources.wood,rate:o.resource_rate.wood},{icon:"🪨",name:"stone",value:o.resources.stone,rate:o.resource_rate.stone},{icon:"🧠",name:"knowledge",value:o.townInfo.knowledge_points,rate:o.resource_rate.knowledge},{icon:"🧲",name:"metal",value:o.resources.metal,rate:o.resource_rate.metal},{icon:"🔋 Surplus",name:"power",value:o.resources.power,rate:null},{icon:"🧑‍⚖️",name:"bureaucracy",value:o.resources.bureaucracy,rate:o.resource_rate.bureaucracy}])},[o,a,i,r,l,u]}class tC extends be{constructor(e){super(),ge(this,e,eC,Q4,fe,{})}}function nC(t){let e,n,o,i,r,l,a,s,u,f,c,d,m;return o=new a4({}),l=new R4({}),s=new N4({}),f=new tC({}),d=new jd({}),{c(){e=I("div"),n=I("div"),Z(o.$$.fragment),i=q(),r=I("div"),Z(l.$$.fragment),a=q(),Z(s.$$.fragment),u=q(),Z(f.$$.fragment),c=q(),Z(d.$$.fragment),N(r,"class","flex flex-row text-foregroundText"),N(e,"class","flex flex-col max-h-[100%] justify-between")},m(p,_){M(p,e,_),g(e,n),X(o,n,null),g(e,i),g(e,r),X(l,r,null),g(r,a),X(s,r,null),g(r,u),X(f,r,null),g(r,c),X(d,r,null),m=!0},p:Ce,i(p){m||(A(o.$$.fragment,p),A(l.$$.fragment,p),A(s.$$.fragment,p),A(f.$$.fragment,p),A(d.$$.fragment,p),m=!0)},o(p){S(o.$$.fragment,p),S(l.$$.fragment,p),S(s.$$.fragment,p),S(f.$$.fragment,p),S(d.$$.fragment,p),m=!1},d(p){p&&T(e),J(o),J(l),J(s),J(f),J(d)}}}function oC(t,e,n){return ae(t,Pe,o=>n(0,o)),[]}class iC extends be{constructor(e){super(),ge(this,e,oC,nC,fe,{})}}function rC(t){let e;return{c(){e=F("Welcome to Plots!")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function lC(t){let e,n,o,i,r=t[0].townInfo.name+"",l,a,s,u,f,c,d,m,p,_,v,w,k,C,D,L,P,$,G,R,W,y,b,O,E,H,V,K,z,te;return m=new wt({props:{class:"bg-white mt-2 mb-1"}}),w=new wt({props:{class:"bg-white mt-2 mb-1"}}),L=new wt({props:{class:"bg-white mt-2 mb-1"}}),R=new wt({props:{class:"bg-white mt-2 mb-1"}}),{c(){e=I("div"),n=I("p"),o=F(`You come across a large amount of land, and you decide to start a
            town called `),i=I("span"),l=F(r),a=F("."),s=q(),u=I("div"),f=I("p"),f.textContent="To run a successful town, you will need to have:",c=q(),d=I("ul"),Z(m.$$.fragment),p=q(),_=I("li"),_.textContent=`👥 People - build homes and they will stay as long as they are
                happy.`,v=q(),Z(w.$$.fragment),k=q(),C=I("li"),C.textContent=`🪵 Resources - generated by some plots and used to build others.
                some plots require sustained weekly resources (such as needing
                wood to heat homes)`,D=q(),Z(L.$$.fragment),P=q(),$=I("li"),$.textContent=`💰 Gold - generated by plots through tax revenue. most plots
                make the town some amount of money but some cost a lot to
                operate.`,G=q(),Z(R.$$.fragment),W=q(),y=I("p"),y.innerHTML=`The town&#39;s key metrics are <span class="font-bold text-textHappyDark">Happiness</span>
            and <span class="font-bold text-textHappyDark">Health</span>, shown
            in the top-left corner.`,b=q(),O=I("p"),O.textContent=`These metrics are affected by the plots you build. Some plots may
            not always increase happiness, and some could even be harmful enough
            to tear down an otherwise great town.`,E=q(),H=I("p"),H.textContent="Be cautious and make sure to hover over plots before you buy them.",V=q(),K=I("img"),N(i,"class","font-bold text-accent"),N(d,"class","list-desc"),Ud(K.src,z="welcome_example_plot.png")||N(K,"src",z),N(K,"class","max-w-[60%] object-fit"),N(e,"class","flex flex-col gap-3 max-h-[50vh] overflow-y-scroll")},m(Y,h){M(Y,e,h),g(e,n),g(n,o),g(n,i),g(i,l),g(i,a),g(e,s),g(e,u),g(u,f),g(u,c),g(u,d),X(m,d,null),g(d,p),g(d,_),g(d,v),X(w,d,null),g(d,k),g(d,C),g(d,D),X(L,d,null),g(d,P),g(d,$),g(d,G),X(R,d,null),g(e,W),g(e,y),g(e,b),g(e,O),g(e,E),g(e,H),g(e,V),g(e,K),te=!0},p(Y,h){(!te||h&1)&&r!==(r=Y[0].townInfo.name+"")&&re(l,r)},i(Y){te||(A(m.$$.fragment,Y),A(w.$$.fragment,Y),A(L.$$.fragment,Y),A(R.$$.fragment,Y),te=!0)},o(Y){S(m.$$.fragment,Y),S(w.$$.fragment,Y),S(L.$$.fragment,Y),S(R.$$.fragment,Y),te=!1},d(Y){Y&&T(e),J(m),J(w),J(L),J(R)}}}function sC(t){let e,n,o,i;return e=new xl({props:{class:"",$$slots:{default:[rC]},$$scope:{ctx:t}}}),o=new Ql({props:{$$slots:{default:[lC]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment),n=q(),Z(o.$$.fragment)},m(r,l){X(e,r,l),M(r,n,l),X(o,r,l),i=!0},p(r,l){const a={};l&524288&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&524289&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),J(e,r),J(o,r)}}}function aC(t){let e;return{c(){e=F("Get started")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function uC(t){let e,n;return e=new id({props:{class:"bg-button rounded-2xl text-foregroundText px-4 py-2 hover:scale-110 transition-all duration-300 ",$$slots:{default:[aC]},$$scope:{ctx:t}}}),e.$on("click",t[5]),{c(){Z(e.$$.fragment)},m(o,i){X(e,o,i),n=!0},p(o,i){const r={};i&524288&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){J(e,o)}}}function fC(t){let e,n,o,i;return e=new Zl({props:{$$slots:{default:[sC]},$$scope:{ctx:t}}}),o=new Tr({props:{$$slots:{default:[uC]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment),n=q(),Z(o.$$.fragment)},m(r,l){X(e,r,l),M(r,n,l),X(o,r,l),i=!0},p(r,l){const a={};l&524289&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&524288&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),J(e,r),J(o,r)}}}function cC(t){let e,n;return e=new Mr({props:{class:"bg-foregroundDark text-foregroundText",$$slots:{default:[fC]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment)},m(o,i){X(e,o,i),n=!0},p(o,i){const r={};i&524289&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){J(e,o)}}}function dC(t){let e,n;return e=new Ir({props:{open:t[1],$$slots:{default:[cC]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment)},m(o,i){X(e,o,i),n=!0},p(o,[i]){const r={};i&2&&(r.open=o[1]),i&524289&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){J(e,o)}}}function mC(t,e,n){let o,i,r,l;ae(t,an,m=>n(7,o=m)),ae(t,Pe,m=>n(0,i=m)),ae(t,Ji,m=>n(4,r=m)),ae(t,il,m=>n(1,l=m)),Hn[i.endGoal],Fl[i.difficulty],nt.sort((m,p)=>f(m.id)&&!f(p.id)?-1:!f(m.id)&&f(p.id)?1:0),nt.filter(m=>f(m.id));function s(m){const p=o.achievements.find(_=>_[0]==m);return p==null?!1:p[3]}let u=nt;function f(m){return o.achievements==null?!1:o.achievements.find(p=>p[0]==m)!=null}function c(){Ji.update(m=>!m),localStorage.setItem("showCompletedAchievements",localStorage.getItem("showCompletedAchievements")==="true"?"false":"true")}localStorage.getItem("pauseMenuTab")==null&&(localStorage.setItem("pauseMenuTab","game"),pc.set("game"));const d=()=>{il.set(!1)};return t.$$.update=()=>{if(t.$$.dirty&25&&i)if(r)n(3,u=nt);else{n(3,u=[]);for(let m=0;m<nt.length;m++)(!f(nt[m].id)||!s(nt[m].id))&&u.push(nt[m])}},[i,l,c,u,r,d]}class pC extends be{constructor(e){super(),ge(this,e,mC,dC,fe,{toggleShowCompleted:2})}get toggleShowCompleted(){return this.$$.ctx[2]}}function Zf(t,e,n){const o=t.slice();return o[7]=e[n],o}function hC(t){let e,n,o=t[0].townInfo.name+"",i,r,l,a,s=t[0].resources.bureaucracy+"",u;return{c(){e=I("div"),n=I("span"),i=F(o),r=q(),l=I("span"),a=F("🧑‍⚖️ "),u=F(s),N(e,"class","flex justify-between mr-10")},m(f,c){M(f,e,c),g(e,n),g(n,i),g(e,r),g(e,l),g(l,a),g(l,u)},p(f,c){c&1&&o!==(o=f[0].townInfo.name+"")&&re(i,o),c&1&&s!==(s=f[0].resources.bureaucracy+"")&&re(u,s)},d(f){f&&T(e)}}}function Qf(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,p,_=t[0].townInfo.guardians+"",v,w,k,C,D,L=t[0].townInfo.population_count-t[0].townInfo.employees+"",P,$,G;return e=new wt({props:{class:"mb-4"}}),d=new yt({props:{class:`bg-button rounded-2xl h-min select-none
            `+(t[0].townInfo.guardians<=0?"opacity-50 cursor-not-allowed":"")+`
            `,$$slots:{default:[_C]},$$scope:{ctx:t}}}),d.$on("click",t[2]),k=new yt({props:{class:`bg-button rounded-2xl h-min select-none
            
              `+(t[0].townInfo.employees>=t[0].townInfo.population_count?"opacity-50 cursor-not-allowed":"")+`
            `,$$slots:{default:[gC]},$$scope:{ctx:t}}}),k.$on("click",t[3]),{c(){Z(e.$$.fragment),n=q(),o=I("div"),i=I("span"),i.textContent="Hire Guardians ⚔️",r=q(),l=I("br"),a=q(),s=I("span"),s.textContent=`Guardians work for you and are required to expand your kingdom.
            They do not generate revenue, but still require housing & food.`,u=q(),f=I("div"),c=I("div"),Z(d.$$.fragment),m=q(),p=I("span"),v=F(_),w=q(),Z(k.$$.fragment),C=q(),D=I("span"),P=F(L),$=F(`
              unemployed available for hire.`),N(i,"class","text-lg font-bold"),N(s,"class","text-sm italic"),N(p,"class","text-lg font-bold select-none px-2"),N(D,"class","w-max"),N(f,"class","flex flex-row justify-between align-middle items-center pt-2 pb-2 gap-2 "),N(o,"class","w-full")},m(R,W){X(e,R,W),M(R,n,W),M(R,o,W),g(o,i),g(o,r),g(o,l),g(o,a),g(o,s),g(o,u),g(o,f),g(f,c),X(d,c,null),g(c,m),g(c,p),g(p,v),g(c,w),X(k,c,null),g(f,C),g(f,D),g(D,P),g(D,$),G=!0},p(R,W){const y={};W&1&&(y.class=`bg-button rounded-2xl h-min select-none
            `+(R[0].townInfo.guardians<=0?"opacity-50 cursor-not-allowed":"")+`
            `),W&1024&&(y.$$scope={dirty:W,ctx:R}),d.$set(y),(!G||W&1)&&_!==(_=R[0].townInfo.guardians+"")&&re(v,_);const b={};W&1&&(b.class=`bg-button rounded-2xl h-min select-none
            
              `+(R[0].townInfo.employees>=R[0].townInfo.population_count?"opacity-50 cursor-not-allowed":"")+`
            `),W&1024&&(b.$$scope={dirty:W,ctx:R}),k.$set(b),(!G||W&1)&&L!==(L=R[0].townInfo.population_count-R[0].townInfo.employees+"")&&re(P,L)},i(R){G||(A(e.$$.fragment,R),A(d.$$.fragment,R),A(k.$$.fragment,R),G=!0)},o(R){S(e.$$.fragment,R),S(d.$$.fragment,R),S(k.$$.fragment,R),G=!1},d(R){R&&(T(n),T(o)),J(e,R),J(d),J(k)}}}function _C(t){let e;return{c(){e=F("-")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function gC(t){let e;return{c(){e=F("+")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function bC(t){let e;return{c(){e=F("Build a City Hall to manage your city.")},m(n,o){M(n,e,o)},p:Ce,i:Ce,o:Ce,d(n){n&&T(e)}}}function vC(t){let e,n,o,i,r=Ye(ul),l=[];for(let s=0;s<r.length;s+=1)l[s]=zf(Zf(t,r,s));const a=s=>S(l[s],1,1,()=>{l[s]=null});return{c(){e=I("span"),e.textContent="Laws 🧑‍⚖️",n=q();for(let s=0;s<l.length;s+=1)l[s].c();o=Re(),N(e,"class","text-lg font-bold")},m(s,u){M(s,e,u),M(s,n,u);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(s,u);M(s,o,u),i=!0},p(s,u){if(u&1){r=Ye(ul);let f;for(f=0;f<r.length;f+=1){const c=Zf(s,r,f);l[f]?(l[f].p(c,u),A(l[f],1)):(l[f]=zf(c),l[f].c(),A(l[f],1),l[f].m(o.parentNode,o))}for(Ie(),f=r.length;f<l.length;f+=1)a(f);Oe()}},i(s){if(!i){for(let u=0;u<r.length;u+=1)A(l[u]);i=!0}},o(s){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)S(l[u]);i=!1},d(s){s&&(T(e),T(n),T(o)),_t(l,s)}}}function yC(t){let e,n=t[7].cost+"",o;return{c(){e=F("Enact for 🧑‍⚖️ "),o=F(n)},m(i,r){M(i,e,r),M(i,o,r)},d(i){i&&(T(e),T(o))}}}function wC(t){let e;return{c(){e=F("Repeal ❌")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function kC(t){let e,n;function o(l,a){return a&1&&(e=null),e==null&&(e=!!l[0].economyAndLaws.enacted.includes(l[7].id)),e?wC:yC}let i=o(t,-1),r=i(t);return{c(){r.c(),n=Re()},m(l,a){r.m(l,a),M(l,n,a)},p(l,a){i!==(i=o(l,a))&&(r.d(1),r=i(l),r&&(r.c(),r.m(n.parentNode,n)))},d(l){l&&T(n),r.d(l)}}}function zf(t){let e,n,o,i,r,l,a;function s(){return t[4](t[7])}return i=new yt({props:{class:`bg-button rounded-2xl 
                `+(t[0].economyAndLaws.enacted.includes(t[7].id)?"bg-textDanger1":"bg-button")+`

                `+(t[0].economyAndLaws.enacted.includes(t[7].id)||t[7].cost<=t[0].resources.bureaucracy?"cursor-pointer":"cursor-not-allowed opacity-30")+`
                `,$$slots:{default:[kC]},$$scope:{ctx:t}}}),i.$on("click",s),l=new wt({props:{class:"bg-white opacity-30"}}),{c(){e=I("div"),n=I("span"),n.textContent=`${t[7].description}`,o=q(),Z(i.$$.fragment),r=q(),Z(l.$$.fragment),N(e,"class","flex justify-between align-middle items-center pt-2 pb-2 gap-2 ")},m(u,f){M(u,e,f),g(e,n),g(e,o),X(i,e,null),M(u,r,f),X(l,u,f),a=!0},p(u,f){t=u;const c={};f&1&&(c.class=`bg-button rounded-2xl 
                `+(t[0].economyAndLaws.enacted.includes(t[7].id)?"bg-textDanger1":"bg-button")+`

                `+(t[0].economyAndLaws.enacted.includes(t[7].id)||t[7].cost<=t[0].resources.bureaucracy?"cursor-pointer":"cursor-not-allowed opacity-30")+`
                `),f&1025&&(c.$$scope={dirty:f,ctx:t}),i.$set(c)},i(u){a||(A(i.$$.fragment,u),A(l.$$.fragment,u),a=!0)},o(u){S(i.$$.fragment,u),S(l.$$.fragment,u),a=!1},d(u){u&&(T(e),T(r)),J(i),J(l,u)}}}function CC(t){let e,n,o,i,r=He("city_hall",t[0]).length>0,l,a,s,u,f,c,d,m;e=new Jn({props:{class:"text-xl",$$slots:{default:[hC]},$$scope:{ctx:t}}}),o=new Qn({props:{class:"w-3/4 overflow-scroll "}});let p=r&&Qf(t);a=new wt({props:{class:"mb-4"}});const _=[vC,bC],v=[];function w(k,C){return C&1&&(f=null),f==null&&(f=He("city_hall",k[0]).length>0),f?0:1}return c=w(t,-1),d=v[c]=_[c](t),{c(){Z(e.$$.fragment),n=q(),Z(o.$$.fragment),i=q(),p&&p.c(),l=q(),Z(a.$$.fragment),s=q(),u=I("div"),d.c(),N(u,"class","w-full")},m(k,C){X(e,k,C),M(k,n,C),X(o,k,C),M(k,i,C),p&&p.m(k,C),M(k,l,C),X(a,k,C),M(k,s,C),M(k,u,C),v[c].m(u,null),m=!0},p(k,C){const D={};C&1025&&(D.$$scope={dirty:C,ctx:k}),e.$set(D),C&1&&(r=He("city_hall",k[0]).length>0),r?p?(p.p(k,C),C&1&&A(p,1)):(p=Qf(k),p.c(),A(p,1),p.m(l.parentNode,l)):p&&(Ie(),S(p,1,1,()=>{p=null}),Oe());let L=c;c=w(k,C),c===L?v[c].p(k,C):(Ie(),S(v[L],1,1,()=>{v[L]=null}),Oe(),d=v[c],d?d.p(k,C):(d=v[c]=_[c](k),d.c()),A(d,1),d.m(u,null))},i(k){m||(A(e.$$.fragment,k),A(o.$$.fragment,k),A(p),A(a.$$.fragment,k),A(d),m=!0)},o(k){S(e.$$.fragment,k),S(o.$$.fragment,k),S(p),S(a.$$.fragment,k),S(d),m=!1},d(k){k&&(T(n),T(i),T(l),T(s),T(u)),J(e,k),J(o,k),p&&p.d(k),J(a,k),v[c].d()}}}function AC(t){let e,n,o,i;return e=new xn({props:{$$slots:{default:[CC]},$$scope:{ctx:t}}}),o=new Io({}),{c(){Z(e.$$.fragment),n=q(),Z(o.$$.fragment)},m(r,l){X(e,r,l),M(r,n,l),X(o,r,l),i=!0},p(r,l){const a={};l&1025&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),J(e,r),J(o,r)}}}function SC(t){let e,n;return e=new Zn({props:{class:"bg-foreground text-foregroundText h-[80vh] overflow-scroll",$$slots:{default:[AC]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment)},m(o,i){X(e,o,i),n=!0},p(o,i){const r={};i&1025&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){J(e,o)}}}function TC(t){let e,n,o;function i(l){t[5](l)}let r={$$slots:{default:[SC]},$$scope:{ctx:t}};return t[1]!==void 0&&(r.open=t[1]),e=new zn({props:r}),Ne.push(()=>Mn(e,"open",i)),{c(){Z(e.$$.fragment)},m(l,a){X(e,l,a),o=!0},p(l,[a]){const s={};a&1025&&(s.$$scope={dirty:a,ctx:l}),!n&&a&2&&(n=!0,s.open=l[1],Tn(()=>n=!1)),e.$set(s)},i(l){o||(A(e.$$.fragment,l),o=!0)},o(l){S(e.$$.fragment,l),o=!1},d(l){J(e,l)}}}function MC(t,e,n){let o,i;ae(t,Pe,u=>n(0,o=u)),ae(t,Xi,u=>n(1,i=u));const r=()=>{o.townInfo.guardians>0?(Me(Pe,o.townInfo.guardians-=1,o),Me(Pe,o.townInfo.employees-=1,o)):Pt.set("No guardians to fire.")},l=()=>{o.townInfo.employees<o.townInfo.population_count?(Me(Pe,o.townInfo.guardians+=1,o),Me(Pe,o.townInfo.employees+=1,o)):Pt.set("Not enough people.")},a=u=>{o.economyAndLaws.enacted.includes(u.id)?o.economyAndLaws.enacted.splice(o.economyAndLaws.enacted.indexOf(u.id),1):u.cost<=o.resources.bureaucracy?(Me(Pe,o.resources.bureaucracy-=u.cost,o),o.economyAndLaws.enacted.push(u.id)):Pt.set("Not enough bureaucracy!")};function s(u){i=u,Xi.set(i)}return t.$$.update=()=>{t.$$.dirty&1},[o,i,r,l,a,s]}class IC extends be{constructor(e){super(),ge(this,e,MC,TC,fe,{})}}function OC(t){let e;return{c(){e=F("Got it")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function PC(t){let e,n,o,i,r,l,a,s;return r=new od({props:{class:"bg-button hover:scale-105 min-w-[70%] transition-all duration-150 mt-2",$$slots:{default:[OC]},$$scope:{ctx:t}}}),r.$on("click",t[1]),a=new Tr({}),{c(){e=I("span"),n=F("🛎️ "),o=new on(!1),i=q(),Z(r.$$.fragment),l=q(),Z(a.$$.fragment),o.a=null,N(e,"class","whitespace-pre-wrap overflow-scroll text-center sm:whitespace-normal break-all sm:text-md sm:font-semibold sm:py-4 sm:items-center sm:justify-center"),Ze(e,"max-height","80%")},m(u,f){M(u,e,f),g(e,n),o.m(t[0],e),M(u,i,f),X(r,u,f),M(u,l,f),X(a,u,f),s=!0},p(u,f){(!s||f&1)&&o.p(u[0]);const c={};f&4&&(c.$$scope={dirty:f,ctx:u}),r.$set(c)},i(u){s||(A(r.$$.fragment,u),A(a.$$.fragment,u),s=!0)},o(u){S(r.$$.fragment,u),S(a.$$.fragment,u),s=!1},d(u){u&&(T(e),T(i),T(l)),J(r,u),J(a,u)}}}function NC(t){let e,n;return e=new Mr({props:{class:`bg-foregroundDark text-white rounded-input shadow-3xl justify-center items-center flex flex-col py-2 text-lg font-semibold p-2 min-w-96 min-h-36
         sm:rounded-2xl sm:flex sm:flex-col sm:p-6 sm:text-md sm:font-semibold sm:py-4 sm:items-center sm:justify-center max-h-[50vh]

         `,$$slots:{default:[PC]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment)},m(o,i){X(e,o,i),n=!0},p(o,i){const r={};i&5&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){J(e,o)}}}function EC(t){let e,n;return e=new Ir({props:{open:t[0]!="",$$slots:{default:[NC]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment)},m(o,i){X(e,o,i),n=!0},p(o,[i]){const r={};i&1&&(r.open=o[0]!=""),i&5&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){J(e,o)}}}function $C(t,e,n){let o;return ae(t,Pt,r=>n(0,o=r)),[o,()=>{Pt.set("")}]}class RC extends be{constructor(e){super(),ge(this,e,$C,EC,fe,{})}}function ec(t){let e,n,o,i;const r=[LC,DC],l=[];function a(s,u){return s[0]==null?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function DC(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,p,_,v,w,k,C,D,L=t[2]==!0&&tc();n=new iC({}),i=new fp({}),l=new sy({}),s=new Ey({}),f=new i3({}),d=new T3({}),p=new IC({}),v=new RC({});let P=t[0].environment.day==0&&t[3]&&nc();return{c(){L&&L.c(),e=q(),Z(n.$$.fragment),o=q(),Z(i.$$.fragment),r=q(),Z(l.$$.fragment),a=q(),Z(s.$$.fragment),u=q(),Z(f.$$.fragment),c=q(),Z(d.$$.fragment),m=q(),Z(p.$$.fragment),_=q(),Z(v.$$.fragment),w=q(),P&&P.c(),k=q(),C=I("style"),C.textContent=`body {
        margin-bottom: 0;
      }
      /* no visible scrollbars */
      #plot_grid::-webkit-scrollbar {
        display: none;
      }

      ::-webkit-scrollbar {
        width: 0px;
        background: transparent; /* make scrollbar transparent */
      }

      /* no scrollbars on firefox either */
      #plot_grid {
        scrollbar-width: none;
      }

      /* no scrollbars for IE/Edge */
      #plot_grid {
        -ms-overflow-style: none;
      }`},m($,G){L&&L.m($,G),M($,e,G),X(n,$,G),M($,o,G),X(i,$,G),M($,r,G),X(l,$,G),M($,a,G),X(s,$,G),M($,u,G),X(f,$,G),M($,c,G),X(d,$,G),M($,m,G),X(p,$,G),M($,_,G),X(v,$,G),M($,w,G),P&&P.m($,G),M($,k,G),M($,C,G),D=!0},p($,G){$[2]==!0?L?G&4&&A(L,1):(L=tc(),L.c(),A(L,1),L.m(e.parentNode,e)):L&&(Ie(),S(L,1,1,()=>{L=null}),Oe()),$[0].environment.day==0&&$[3]?P?G&9&&A(P,1):(P=nc(),P.c(),A(P,1),P.m(k.parentNode,k)):P&&(Ie(),S(P,1,1,()=>{P=null}),Oe())},i($){D||(A(L),A(n.$$.fragment,$),A(i.$$.fragment,$),A(l.$$.fragment,$),A(s.$$.fragment,$),A(f.$$.fragment,$),A(d.$$.fragment,$),A(p.$$.fragment,$),A(v.$$.fragment,$),A(P),D=!0)},o($){S(L),S(n.$$.fragment,$),S(i.$$.fragment,$),S(l.$$.fragment,$),S(s.$$.fragment,$),S(f.$$.fragment,$),S(d.$$.fragment,$),S(p.$$.fragment,$),S(v.$$.fragment,$),S(P),D=!1},d($){$&&(T(e),T(o),T(r),T(a),T(u),T(c),T(m),T(_),T(w),T(k),T(C)),L&&L.d($),J(n,$),J(i,$),J(l,$),J(s,$),J(f,$),J(d,$),J(p,$),J(v,$),P&&P.d($)}}}function LC(t){let e,n;return e=new Cy({}),{c(){Z(e.$$.fragment)},m(o,i){X(e,o,i),n=!0},p:Ce,i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){J(e,o)}}}function tc(t){let e,n;return e=new xv({}),{c(){Z(e.$$.fragment)},m(o,i){X(e,o,i),n=!0},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){J(e,o)}}}function nc(t){let e,n;return e=new pC({}),{c(){Z(e.$$.fragment)},m(o,i){X(e,o,i),n=!0},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){J(e,o)}}}function FC(t){let e,n,o=(t[1]||t[0]==null)&&ec(t);return{c(){o&&o.c(),e=Re()},m(i,r){o&&o.m(i,r),M(i,e,r),n=!0},p(i,[r]){i[1]||i[0]==null?o?(o.p(i,r),r&3&&A(o,1)):(o=ec(i),o.c(),A(o,1),o.m(e.parentNode,e)):o&&(Ie(),S(o,1,1,()=>{o=null}),Oe())},i(i){n||(A(o),n=!0)},o(i){S(o),n=!1},d(i){i&&T(e),o&&o.d(i)}}}function BC(t,e,n){let o,i,r,l,a,s,u;ae(t,go,m=>n(7,o=m)),ae(t,tt,m=>n(8,i=m)),ae(t,Dt,m=>n(2,r=m)),ae(t,Pe,m=>n(0,l=m)),ae(t,Ki,m=>n(5,a=m)),ae(t,Yo,m=>n(9,s=m)),ae(t,il,m=>n(3,u=m));let f=!1;Zv();let c=!1;document.addEventListener("keydown",m=>{if((document.activeElement!=null&&document.activeElement.nodeName==="INPUT"||document.activeElement!=null&&document.activeElement.nodeName=="TEXTAREA")&&m.key!=="Escape")return;switch(m.key.toLowerCase()){case"p":r==!0?Dt.set(!1):(Dt.set(!0),Me(tt,i.visible=!1,i));break;case"escape":m.shiftKey?(Me(Dt,r=!0,r),localStorage.setItem("reset","true"),location.reload(),Bl()):i.visible==!0&&Me(tt,i.visible=!1,i),a==!0&&(Me(Ki,a=!1,a),document.querySelectorAll(".plot_container").forEach(v=>{v.style.cursor=""}));break}});function d(m,p,_){if(c==!0)switch(_){case"up":p-=2;break;case"down":p+=1;break;case"left":m-=2;break;case"right":m+=1;break}m<0?m=0:m>l.plots.length&&(m=l.plots.length),p<0?p=0:p>l.plots.length&&(p=l.plots.length);let v=document.querySelectorAll(".plot_container"),w;if(v.forEach(k=>{k.dataset.x=="$x"&&k.dataset.y=="$y"&&(w=k)}),r==!1){if(w.dataset.canBeUpgraded==="true"?Me(tt,i.visible=!0,i):Me(tt,i.visible=!1,i),w.dataset.refPlotX!==void 0&&w.dataset.refPlotY!=""?(c=!0,v.forEach(k=>{k.dataset.x==w.dataset.refPlotX&&k.dataset.y==w.dataset.refPlotY&&(w=k,m=parseInt(w.dataset.x),p=parseInt(w.dataset.y))})):c=!1,w.dataset.size!=="1"&&w.dataset.size!==void 0&&(c=!0),Me(tt,i.x=m,i),Me(tt,i.y=p,i),v.forEach(k=>{k.classList.remove("selected"),k.style.fontWeight=""}),w.classList.add("selected"),c){let k="4px solid #00800045";w.classList.remove("selected"),w.style.borderTop=k,w.style.borderLeft=k,w.style.fontWeight="600",v.forEach(C=>{const D=parseInt(`${C.dataset.x}`),L=parseInt(`${C.dataset.y}`);D==m+1&&L==p&&(C.style.borderLeft=k,C.style.borderBottom=k),D==m&&L==p+1&&(C.style.borderTop=k,C.style.borderRight=k),D==m+1&&L==p+1&&(C.style.borderBottom=k,C.style.borderRight=k)})}w.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),Me(go,o={},o)}}return t.$$.update=()=>{t.$$.dirty&33&&(l?(Me(Yo,s.visible=!1,s),n(1,f=!0),a==!0&&document.querySelectorAll(".plot_container").forEach(p=>{p.dataset.canbeupgraded=="true"&&(p.style.cursor="pointer",p.style.cursor="url('https://github.com/josephrcox/plots/raw/ebfceed1f3d21b6ed7858358190589e5299f4a4c/public/liege_place.cur'), auto")})):(Me(Yo,s.visible=!0,s),n(1,f=!1)))},[l,f,r,u,d,a]}class jC extends be{constructor(e){super(),ge(this,e,BC,FC,fe,{openPlotMenu:4})}get openPlotMenu(){return this.$$.ctx[4]}}new jC({target:document.getElementById("app")});
