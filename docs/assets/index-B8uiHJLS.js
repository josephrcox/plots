var Ld=Object.defineProperty;var Fd=(t,e,n)=>e in t?Ld(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var pn=(t,e,n)=>(Fd(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();function Bd(t){const e=pako.gzip(JSON.stringify(t));return btoa(String.fromCharCode.apply(null,e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function jd(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=atob(e),o=new Uint8Array(n.length);for(let r=0;r<n.length;r++)o[r]=n.charCodeAt(r);const i=pako.ungzip(o,{to:"string"});return JSON.parse(i)}async function qd(){let t=localStorage.getItem("plots_active_game_db");const e=await Bd(t);console.log("http://localhost:5173/plots/?shareId="+e)}const $r=window.location.search.substring(1).split("&").reduce((t,e)=>{const[n,o]=e.split("=");return t[n]=o,t},{});if($r.shareId!=null||$r.shareId!=null){console.log("DECRYPING FROM shareId");const t=JSON.parse(jd($r.shareId));let e=localStorage.getItem("plots_active_game_db");(e==""||e==null)&&localStorage.setItem("plots_active_game_db",JSON.stringify(t))}else console.log("COMPRESSING GAME TO SHARE"),qd();function ke(){}const cr=t=>t;function x(t,e){for(const n in e)t[n]=e[n];return t}function Qf(t){return t()}function ys(){return Object.create(null)}function Le(t){t.forEach(Qf)}function fn(t){return typeof t=="function"}function fe(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let gi;function Gd(t,e){return t===e?!0:(gi||(gi=document.createElement("a")),gi.href=e,t===gi.href)}function Vd(t){return Object.keys(t).length===0}function Ml(t,...e){if(t==null){for(const o of e)o(void 0);return ke}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function zf(t){let e;return Ml(t,n=>e=n)(),e}function ae(t,e,n){t.$$.on_destroy.push(Ml(e,n))}function de(t,e,n,o){if(t){const i=ec(t,e,n,o);return t[0](i)}}function ec(t,e,n,o){return t[1]&&o?x(n.ctx.slice(),t[1](o(e))):n.ctx}function me(t,e,n,o){if(t[2]&&o){const i=t[2](o(n));if(e.dirty===void 0)return i;if(typeof i=="object"){const r=[],l=Math.max(e.dirty.length,i.length);for(let a=0;a<l;a+=1)r[a]=e.dirty[a]|i[a];return r}return e.dirty|i}return e.dirty}function pe(t,e,n,o,i,r){if(i){const l=ec(e,n,o,r);t.p(l,i)}}function he(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let o=0;o<n;o++)e[o]=-1;return e}return-1}function $e(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function le(t,e){const n={};e=new Set(e);for(const o in t)!e.has(o)&&o[0]!=="$"&&(n[o]=t[o]);return n}function Me(t,e,n){return t.set(n),e}function Fe(t){return t&&fn(t.destroy)?t.destroy:ke}const tc=typeof window<"u";let Il=tc?()=>window.performance.now():()=>Date.now(),Ol=tc?t=>requestAnimationFrame(t):ke;const fo=new Set;function nc(t){fo.forEach(e=>{e.c(t)||(fo.delete(e),e.f())}),fo.size!==0&&Ol(nc)}function Pl(t){let e;return fo.size===0&&Ol(nc),{promise:new Promise(n=>{fo.add(e={c:t,f:n})}),abort(){fo.delete(e)}}}function g(t,e){t.appendChild(e)}function oc(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function Hd(t){const e=I("style");return e.textContent="/* empty */",Wd(oc(t),e),e.sheet}function Wd(t,e){return g(t.head||t,e),e.sheet}function M(t,e,n){t.insertBefore(e,n||null)}function T(t){t.parentNode&&t.parentNode.removeChild(t)}function _t(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function I(t){return document.createElement(t)}function dr(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function B(t){return document.createTextNode(t)}function q(){return B(" ")}function Re(){return B("")}function te(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function N(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}const Yd=["width","height"];function se(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const o in e)e[o]==null?t.removeAttribute(o):o==="style"?t.style.cssText=e[o]:o==="__value"?t.value=t[o]=e[o]:n[o]&&n[o].set&&Yd.indexOf(o)===-1?t[o]=e[o]:N(t,o,e[o])}function Li(t,e){for(const n in e)N(t,n,e[n])}function Ud(t,e){Object.keys(e).forEach(n=>{Kd(t,n,e[n])})}function Kd(t,e,n){const o=e.toLowerCase();o in t?t[o]=typeof t[o]=="boolean"&&n===""?!0:n:e in t?t[e]=typeof t[e]=="boolean"&&n===""?!0:n:N(t,e,n)}function yn(t){return/-/.test(t)?Ud:se}function Xd(t){return Array.from(t.childNodes)}function re(t,e){e=""+e,t.data!==e&&(t.data=e)}function on(t,e){t.value=e??""}function Je(t,e,n,o){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,"")}function ws(t,e,n){for(let o=0;o<t.options.length;o+=1){const i=t.options[o];if(i.__value===e){i.selected=!0;return}}t.selectedIndex=-1}function hn(t,e,n){t.classList.toggle(e,!!n)}function ic(t,e,{bubbles:n=!1,cancelable:o=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:o})}class _n{constructor(e=!1){pn(this,"is_svg",!1);pn(this,"e");pn(this,"n");pn(this,"t");pn(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,n,o=null){this.e||(this.is_svg?this.e=dr(n.nodeName):this.e=I(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(e)),this.i(o)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)M(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(T)}}const Fi=new Map;let Bi=0;function Jd(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function xd(t,e){const n={stylesheet:Hd(e),rules:{}};return Fi.set(t,n),n}function ji(t,e,n,o,i,r,l,a=0){const s=16.666/o;let u=`{
`;for(let b=0;b<=1;b+=s){const k=e+(n-e)*r(b);u+=b*100+`%{${l(k,1-k)}}
`}const f=u+`100% {${l(n,1-n)}}
}`,c=`__svelte_${Jd(f)}_${a}`,d=oc(t),{stylesheet:m,rules:p}=Fi.get(d)||xd(d,t);p[c]||(p[c]=!0,m.insertRule(`@keyframes ${c} ${f}`,m.cssRules.length));const _=t.style.animation||"";return t.style.animation=`${_?`${_}, `:""}${c} ${o}ms linear ${i}ms 1 both`,Bi+=1,c}function qi(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?r=>r.indexOf(e)<0:r=>r.indexOf("__svelte")===-1),i=n.length-o.length;i&&(t.style.animation=o.join(", "),Bi-=i,Bi||Zd())}function Zd(){Ol(()=>{Bi||(Fi.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&T(e)}),Fi.clear())})}let Uo;function Ho(t){Uo=t}function ei(){if(!Uo)throw new Error("Function called outside component initialization");return Uo}function mr(t){ei().$$.on_mount.push(t)}function Qd(t){ei().$$.on_destroy.push(t)}function zd(){const t=ei();return(e,n,{cancelable:o=!1}={})=>{const i=t.$$.callbacks[e];if(i){const r=ic(e,n,{cancelable:o});return i.slice().forEach(l=>{l.call(t,r)}),!r.defaultPrevented}return!0}}function pr(t,e){return ei().$$.context.set(t,e),e}function hr(t){return ei().$$.context.get(t)}function oe(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(o=>o.call(this,e))}const so=[],Ne=[];let co=[];const zr=[],rc=Promise.resolve();let el=!1;function lc(){el||(el=!0,rc.then(sc))}function Nl(){return lc(),rc}function ot(t){co.push(t)}function Sn(t){zr.push(t)}const Rr=new Set;let oo=0;function sc(){if(oo!==0)return;const t=Uo;do{try{for(;oo<so.length;){const e=so[oo];oo++,Ho(e),em(e.$$)}}catch(e){throw so.length=0,oo=0,e}for(Ho(null),so.length=0,oo=0;Ne.length;)Ne.pop()();for(let e=0;e<co.length;e+=1){const n=co[e];Rr.has(n)||(Rr.add(n),n())}co.length=0}while(so.length);for(;zr.length;)zr.pop()();el=!1,Rr.clear(),Ho(t)}function em(t){if(t.fragment!==null){t.update(),Le(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ot)}}function tm(t){const e=[],n=[];co.forEach(o=>t.indexOf(o)===-1?e.push(o):n.push(o)),n.forEach(o=>o()),co=e}let No;function El(){return No||(No=Promise.resolve(),No.then(()=>{No=null})),No}function Rn(t,e,n){t.dispatchEvent(ic(`${e?"intro":"outro"}${n}`))}const Ii=new Set;let Ut;function Ie(){Ut={r:0,c:[],p:Ut}}function Oe(){Ut.r||Le(Ut.c),Ut=Ut.p}function A(t,e){t&&t.i&&(Ii.delete(t),t.i(e))}function S(t,e,n,o){if(t&&t.o){if(Ii.has(t))return;Ii.add(t),Ut.c.push(()=>{Ii.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}else o&&o()}const $l={duration:0};function Qt(t,e,n){const o={direction:"in"};let i=e(t,n,o),r=!1,l,a,s=0;function u(){l&&qi(t,l)}function f(){const{delay:d=0,duration:m=300,easing:p=cr,tick:_=ke,css:b}=i||$l;b&&(l=ji(t,0,1,m,d,p,b,s++)),_(0,1);const k=Il()+d,C=k+m;a&&a.abort(),r=!0,ot(()=>Rn(t,!0,"start")),a=Pl(w=>{if(r){if(w>=C)return _(1,0),Rn(t,!0,"end"),u(),r=!1;if(w>=k){const R=p((w-k)/m);_(R,1-R)}}return r})}let c=!1;return{start(){c||(c=!0,qi(t),fn(i)?(i=i(o),El().then(f)):f())},invalidate(){c=!1},end(){r&&(u(),r=!1)}}}function zt(t,e,n){const o={direction:"out"};let i=e(t,n,o),r=!0,l;const a=Ut;a.r+=1;let s;function u(){const{delay:f=0,duration:c=300,easing:d=cr,tick:m=ke,css:p}=i||$l;p&&(l=ji(t,1,0,c,f,d,p));const _=Il()+f,b=_+c;ot(()=>Rn(t,!1,"start")),"inert"in t&&(s=t.inert,t.inert=!0),Pl(k=>{if(r){if(k>=b)return m(0,1),Rn(t,!1,"end"),--a.r||Le(a.c),!1;if(k>=_){const C=d((k-_)/c);m(1-C,C)}}return r})}return fn(i)?El().then(()=>{i=i(o),u()}):u(),{end(f){f&&"inert"in t&&(t.inert=s),f&&i.tick&&i.tick(1,0),r&&(l&&qi(t,l),r=!1)}}}function Jt(t,e,n,o){let r=e(t,n,{direction:"both"}),l=o?0:1,a=null,s=null,u=null,f;function c(){u&&qi(t,u)}function d(p,_){const b=p.b-l;return _*=Math.abs(b),{a:l,b:p.b,d:b,duration:_,start:p.start,end:p.start+_,group:p.group}}function m(p){const{delay:_=0,duration:b=300,easing:k=cr,tick:C=ke,css:w}=r||$l,R={start:Il()+_,b:p};p||(R.group=Ut,Ut.r+=1),"inert"in t&&(p?f!==void 0&&(t.inert=f):(f=t.inert,t.inert=!0)),a||s?s=R:(w&&(c(),u=ji(t,l,p,b,_,k,w)),p&&C(0,1),a=d(R,b),ot(()=>Rn(t,p,"start")),Pl(L=>{if(s&&L>s.start&&(a=d(s,b),s=null,Rn(t,a.b,"start"),w&&(c(),u=ji(t,l,a.b,a.duration,0,k,r.css))),a){if(L>=a.end)C(l=a.b,1-l),Rn(t,a.b,"end"),s||(a.b?c():--a.group.r||Le(a.group.c)),a=null;else if(L>=a.start){const D=L-a.start;l=a.a+a.d*k(D/a.duration),C(l,1-l)}}return!!(a||s)}))}return{run(p){fn(r)?El().then(()=>{r=r({direction:p?"in":"out"}),m(p)}):m(p)},end(){c(),a=s=null}}}function Ue(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function nm(t,e){S(t,1,1,()=>{e.delete(t.key)})}function om(t,e,n,o,i,r,l,a,s,u,f,c){let d=t.length,m=r.length,p=d;const _={};for(;p--;)_[t[p].key]=p;const b=[],k=new Map,C=new Map,w=[];for(p=m;p--;){const E=c(i,r,p),G=n(E);let $=l.get(G);$?w.push(()=>$.p(E,e)):($=u(G,E),$.c()),k.set(G,b[p]=$),G in _&&C.set(G,Math.abs(p-_[G]))}const R=new Set,L=new Set;function D(E){A(E,1),E.m(a,f),l.set(E.key,E),f=E.first,m--}for(;d&&m;){const E=b[m-1],G=t[d-1],$=E.key,W=G.key;E===G?(f=E.first,d--,m--):k.has(W)?!l.has($)||R.has($)?D(E):L.has(W)?d--:C.get($)>C.get(W)?(L.add($),D(E)):(R.add(W),d--):(s(G,l),d--)}for(;d--;){const E=t[d];k.has(E.key)||s(E,l)}for(;m;)D(b[m-1]);return Le(w),b}function ye(t,e){const n={},o={},i={$$scope:1};let r=t.length;for(;r--;){const l=t[r],a=e[r];if(a){for(const s in l)s in a||(o[s]=1);for(const s in a)i[s]||(n[s]=a[s],i[s]=1);t[r]=a}else for(const s in l)i[s]=1}for(const l in o)l in n||(n[l]=void 0);return n}function lt(t){return typeof t=="object"&&t!==null?t:{}}function Tn(t,e,n){const o=t.$$.props[e];o!==void 0&&(t.$$.bound[o]=n,n(t.$$.ctx[o]))}function J(t){t&&t.c()}function K(t,e,n){const{fragment:o,after_update:i}=t.$$;o&&o.m(e,n),ot(()=>{const r=t.$$.on_mount.map(Qf).filter(fn);t.$$.on_destroy?t.$$.on_destroy.push(...r):Le(r),t.$$.on_mount=[]}),i.forEach(ot)}function X(t,e){const n=t.$$;n.fragment!==null&&(tm(n.after_update),Le(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function im(t,e){t.$$.dirty[0]===-1&&(so.push(t),lc(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ge(t,e,n,o,i,r,l=null,a=[-1]){const s=Uo;Ho(t);const u=t.$$={fragment:null,ctx:[],props:r,update:ke,not_equal:i,bound:ys(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(s?s.$$.context:[])),callbacks:ys(),dirty:a,skip_bound:!1,root:e.target||s.$$.root};l&&l(u.root);let f=!1;if(u.ctx=n?n(t,e.props||{},(c,d,...m)=>{const p=m.length?m[0]:d;return u.ctx&&i(u.ctx[c],u.ctx[c]=p)&&(!u.skip_bound&&u.bound[c]&&u.bound[c](p),f&&im(t,c)),d}):[],u.update(),f=!0,Le(u.before_update),u.fragment=o?o(u.ctx):!1,e.target){if(e.hydrate){const c=Xd(e.target);u.fragment&&u.fragment.l(c),c.forEach(T)}else u.fragment&&u.fragment.c();e.intro&&A(t.$$.fragment),K(t,e.target,e.anchor),sc()}Ho(s)}class be{constructor(){pn(this,"$$");pn(this,"$$set")}$destroy(){X(this,1),this.$destroy=ke}$on(e,n){if(!fn(n))return ke;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const i=o.indexOf(n);i!==-1&&o.splice(i,1)}}$set(e){this.$$set&&!Vd(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const rm="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(rm);const io=[];function Dn(t,e){return{subscribe:Ye(t,e).subscribe}}function Ye(t,e=ke){let n;const o=new Set;function i(a){if(fe(t,a)&&(t=a,n)){const s=!io.length;for(const u of o)u[1](),io.push(u,t);if(s){for(let u=0;u<io.length;u+=2)io[u][0](io[u+1]);io.length=0}}}function r(a){i(a(t))}function l(a,s=ke){const u=[a,s];return o.add(u),o.size===1&&(n=e(i,r)||ke),a(t),()=>{o.delete(u),o.size===0&&n&&(n(),n=null)}}return{set:i,update:r,subscribe:l}}function cn(t,e,n){const o=!Array.isArray(t),i=o?[t]:t;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const r=e.length<2;return Dn(n,(l,a)=>{let s=!1;const u=[];let f=0,c=ke;const d=()=>{if(f)return;c();const p=e(o?u[0]:u,l,a);r?l(p):c=fn(p)?p:ke},m=i.map((p,_)=>Ml(p,b=>{u[_]=b,f&=~(1<<_),s&&d()},()=>{f|=1<<_}));return s=!0,d(),function(){Le(m),c(),s=!1}})}function ks(t){return{subscribe:t.subscribe.bind(t)}}const lm={plots:[],timeSpent:0,devMode:!1,lastChangeDay:0,townLog:[],currentTutorialStep:0,townInfo:{name:"Your town",gold:150,population_count:0,population_max:0,employees:0,guardians:0,happiness:150,health:150,community:150,knowledge_points:0,productivity:100},kingdom_expansions:0,resources:{food:50,wood:750,stone:750,metal:0,power:0,bureaucracy:0},resource_rate:{food:0,wood:0,stone:0,metal:0,bureaucracy:0,knowledge:0},hasCityHall:!1,hasBank:!1,hasHospital:!1,hasLab:!1,modifiers:{happiness:1,health:1,community:1},economyAndLaws:{tax_rate:.1,max_tax_rate:1,weeklyProfit:0,knowledge_gold_market_rates:[],enacted:[]},plotCounts:[],environment:{day:0,year:1},maximums:{health:300,happiness:300,community:300},difficulty:0,endGoal:"land",endGameDetails:{msg:"",win:!1,still_playing:!0},tick:0,overtime:!1,last_warning_happiness:0,last_warning_health:0,lab:{active_experiment:null,past_experiments:[],xp:0}},sm={username:"",stats:{games_played:0,wins:0,losses:0},achievements:[]},Rl={0:"Easy",1:"Normal",2:"Hard"},am={0:Math.random()*(.5-.3)+.3,1:Math.random()*(.4-.2)+.2,2:Math.random()*(.4-.2)+.2},ie=[{id:"small_homes",title:"🏠 Homes",type:"residential",description:"+16 people",revenue_per_week:0,requirements:{gold:150,plots:[],employees:0,knowledge:0,size:1,xp:0,resources:{food:0,wood:50,stone:10,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:16,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:2,stone:0,metal:0,bureaucracy:0,food:0}},{id:"farm",title:"🥕 Farm",type:"farm",description:"Produces veggies, grains, fruit",revenue_per_week:6,requirements:{gold:80,plots:[],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:10,stone:10,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.03,health:1.03,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:5,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},check_for_variety:!1},{id:"tree_farm",title:"🌲 Tree Farm",type:"lumber",description:"Produces some wood",revenue_per_week:8,requirements:{gold:300,plots:[],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},check_for_variety:!0,styling:"",affordable:null,selected:null,knowledge_points_per_month:0,generated_resources:{food:0,wood:10,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"quarry",title:"⛏️ Quarry",type:"quarry",description:"Produces stone, small amounts of metal",revenue_per_week:0,requirements:{gold:800,plots:[],employees:6,knowledge:0,size:1,xp:0,resources:{food:0,wood:50,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:.98,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:18,metal:1,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"livestock_farm",title:"🐄 Livestock",type:"farm",description:"Makes more money and food than a regular farm, but doesn't bonus from water.",revenue_per_week:42,requirements:{gold:300,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:20,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.1,health:1.05,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:14,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},check_for_variety:!1},{id:"bakery",title:"🥖 Bakery",type:"business",description:"Converts food into some extra cash. Make sure you have enough food.",revenue_per_week:90,requirements:{gold:500,plots:[],employees:3,knowledge:0,size:1,xp:0,resources:{food:0,wood:170,stone:170,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.11,health:.95,community:1},immediate_variable_changes:{happiness:25,health:0,population:0,community:0,bureaucracy:0},check_for_variety:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:15}},{id:"stables",title:"🐴 Stables",type:"business",description:"Makes money and improves health",revenue_per_week:24,requirements:{gold:400,plots:[],employees:2,knowledge:0,size:1,xp:0,resources:{food:0,wood:120,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.2,health:1.2,community:1},immediate_variable_changes:{happiness:5,health:10,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"church",title:"⛪️ Church",type:"recreation",description:"Makes people VERY happy for a short period.",revenue_per_week:0,requirements:{gold:900,plots:[],employees:1,knowledge:0,size:1,xp:0,resources:{food:0,wood:1e3,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.3,health:1,community:1.3},immediate_variable_changes:{happiness:25,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"pub",title:"🍻 Pub",type:"recreation",description:"Increases knowledge, happiness, community. Isn't great for health.",revenue_per_week:40,knowledge_points_per_month:1,requirements:{gold:500,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:100,stone:50,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.2,health:.93,community:1.1},immediate_variable_changes:{happiness:10,health:-15,population:0,community:0,bureaucracy:0},check_for_variety:!0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"village_market",title:"🛒 Village Market",type:"shop",description:"Turns food into money. Sells goods and employs many. Makes significantly more money from tourism if you have a Village Inn.",revenue_per_week:180,requirements:{gold:1400,plots:[],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:150,stone:150,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.05,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:35}},{id:"fishery",title:"🐠 Fishery",type:"business",description:"Requires metal but generates a lot of food. Must be near water.",revenue_per_week:35,requirements:{gold:1500,plots:[],employees:9,knowledge:0,size:1,xp:0,resources:{food:0,wood:1500,stone:0,metal:100,power:0,bureaucracy:0},adjacent_plots:["water"]},effect_modifiers:{happiness:1.05,health:1,community:1},immediate_variable_changes:{happiness:15,health:8,population:0,community:0,bureaucracy:0},check_for_variety:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:75,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"neighborhood",title:"🏘️ Neighborhood",type:"residential",description:"+64 people",revenue_per_week:0,requirements:{gold:700,plots:[],employees:0,knowledge:0,size:1,xp:0,resources:{food:0,wood:250,stone:250,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.1,health:1,community:1.1},immediate_variable_changes:{happiness:0,health:0,population:64,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"vineyard",title:"🍇 Vineyard",type:"farm",description:"Makes fair money, lowers health. Generates knowledge too similar to a pub.",revenue_per_week:60,requirements:{gold:700,plots:[],employees:6,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.5,health:.9,community:1},immediate_variable_changes:{happiness:0,health:-10,population:0,community:0,bureaucracy:0},knowledge_points_per_month:3,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"water_wheel",title:"💧 Water Wheel",type:"industrial",description:"Produces small amount of power",revenue_per_week:0,requirements:{gold:800,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:200,stone:50,metal:0,power:0,bureaucracy:0},adjacent_plots:["water"]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:35,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"adv_water_wheel",title:"💧 Adv. Water Wheel",type:"industrial",description:"Produces a large amount of power",revenue_per_week:0,requirements:{gold:1800,plots:[],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:400,stone:150,metal:500,power:0,bureaucracy:0},adjacent_plots:["water"]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:100,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"park",title:"🎪 Park",type:"recreation",description:"Makes people extremely happy & healthy for a period. Improves community.",revenue_per_week:0,requirements:{gold:600,plots:[],employees:3,knowledge:0,size:1,xp:0,resources:{food:0,wood:100,stone:100,metal:10,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.5,health:1.5,community:1.3},immediate_variable_changes:{happiness:40,health:40,population:0,community:40,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"village_inn",title:"🛌 Village Inn",type:"tourism",description:"Enables tourism to your town, which increases revenue at certain stores.",revenue_per_week:23,requirements:{gold:1500,plots:[],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:150,stone:100,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1.02},immediate_variable_changes:{happiness:10,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:20,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"schoolhouse",title:"🏫 Schoolhouse",type:"education",description:"Produces knowledge, costs money to run.",revenue_per_week:0,knowledge_points_per_month:25,requirements:{gold:2500,plots:[],employees:20,knowledge:0,size:1,xp:0,resources:{food:0,wood:500,stone:100,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.1,health:1.1,community:1.2},immediate_variable_changes:{happiness:15,health:3,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:50,power:20,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"blacksmith",title:"⚒️ Blacksmith",type:"business",description:"Converts metal into tools for money. Make sure you have enough metal!",revenue_per_week:300,requirements:{gold:3e3,plots:[],employees:24,knowledge:0,size:1,xp:0,resources:{food:0,wood:250,stone:250,metal:500,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:.95},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:75,wood:0,stone:0,metal:10,bureaucracy:0,food:0}},{id:"library",title:"📕 Library",type:"recreation",description:"Produces knowledge and happiness",revenue_per_week:0,knowledge_points_per_month:10,requirements:{gold:2e3,plots:[],employees:6,knowledge:0,size:1,xp:0,resources:{food:0,wood:225,stone:100,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.3,health:1,community:1.1},immediate_variable_changes:{happiness:15,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"lumber_mill",title:"🏭 Lumber Mill",type:"industrial",description:"Increases wood production by 25%, has to be next to a tree farm",revenue_per_week:0,requirements:{gold:4e3,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:300,stone:100,metal:0,power:0,bureaucracy:0},adjacent_plots:["tree_farm"]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:50,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:20,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"solar_farm",title:"☀️ Solar farm",type:"industrial",description:"Produces a lot of power without the need of water.",revenue_per_week:0,requirements:{gold:5e3,plots:[],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:500,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:500,bureaucracy:0},level:4,active_costs:{gold:0,power:0,wood:0,stone:0,metal:50,bureaucracy:0,food:0}},{id:"general_store",title:"🛒 General Store",type:"shop",description:"Makes the most money of any plot, requires power. Makes significantly more from tourism if you have a Village Inn.",revenue_per_week:500,requirements:{gold:15e3,plots:[],employees:32,knowledge:0,size:1,xp:0,resources:{food:0,wood:5e3,stone:5e3,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.05,health:1,community:1.1},immediate_variable_changes:{happiness:20,health:0,population:0,community:0,bureaucracy:0},check_for_variety:!1,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:60,wood:0,stone:0,metal:0,bureaucracy:0,food:100}},{id:"healing_house",title:"🏥 Healing House",type:"medical",description:"Treats the sick and continuously improves health.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:2e4,plots:[],employees:18,knowledge:0,size:1,xp:0,resources:{food:0,wood:800,stone:1e3,metal:1e3,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.25,health:1.5,community:1.1},immediate_variable_changes:{happiness:5,health:75,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:30,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"community_center",title:"🫶 Community Center",type:"recreation",description:"Improves community, makes people happier, costs money",revenue_per_week:0,requirements:{gold:19e3,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:1e3,stone:700,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.09,health:1,community:2},immediate_variable_changes:{happiness:50,health:15,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:10,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"city_hall",title:"🗳️ City Hall",type:"federal",description:"Generates bureaucracy that can be used to pass laws to impact the city and expand. Costs a lot of gold every week.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:35e3,plots:[],employees:32,knowledge:3e3,size:1,xp:0,resources:{food:0,wood:3250,stone:800,metal:200,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1.2},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:10},level:4,active_costs:{gold:300,power:20,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"mine",title:"⛏️ Mine",type:"mine",description:"Produces a significant amount of metal and stone.",revenue_per_week:0,requirements:{gold:5e4,plots:[],employees:64,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:150,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:.9,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:15,metal:50,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:80,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"academy",title:"🏫 Academy",type:"education",description:"Produces a lot of knowledge, requires high population",revenue_per_week:0,knowledge_points_per_month:90,requirements:{gold:3e4,plots:[],employees:32,knowledge:1e3,size:1,xp:0,resources:{food:0,wood:5e3,stone:1600,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:500,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"bank",title:"🏦 Bank",type:"bank",description:"Enables the conversion of knowledge to gold, and increases maximum tax rate so you can make more money.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:75e3,plots:[],employees:32,knowledge:1e3,size:1,xp:0,resources:{food:0,wood:1e3,stone:1e4,metal:5e3,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:.8,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:75,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"lab",title:"🧪 Laboratory",type:"science",description:"Designs things to help the city grow",revenue_per_week:0,knowledge_points_per_month:25,requirements:{gold:1e5,plots:[],employees:24,knowledge:1e4,size:1,xp:0,resources:{food:0,wood:0,stone:1e3,metal:3e3,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:.98,health:.99,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:300,power:35,wood:0,stone:0,metal:0,bureaucracy:0,food:0}}],Eo={empty_unusable:"rgba(21, 40, 20, 0.70)",empty_buildable:"#CBB827",residential:"#de7633",farm:"#6b8f49",lumber:"#8E805C",business:"#9273a5",recreation:"#5277b1",shop:"#d896d8",tourism:"#d896d8",education:"#BFBEEB",medical:"#4a5ba3",bank:"#8477be",federal:"#8477be",science:"#4a5ba3",mine:"#d9874a",quarry:"#868685",industrial:"#868615"};function Gi(t,e=!1){if(t<0)return t==-1?e?Eo.empty_buildable:Eo.empty_unusable:t==-2?Eo.recreation:Eo.empty_unusable;const n=ie[t];return Eo[n.type]}const Cs={lab:1,city_hall:1,bank:1,community_center:1,inn:1},Gt="plots_active_game_db",Ko="plots_user_db";function um(){const t=["York","London","Paris","Madrid","Rome","Berlin","Vienna","Prague","Warsaw","Oslo","Lisbon","Dublin","Brussels","Amsterdam","Stockholm","Copenhagen","Edinburgh","Moscow","Beijing","Tokyo","Seoul","Bangkok","Delhi","Mumbai","Shanghai","Sydney","Melbourne","Cairo","Dubai","Istanbul","Athens","Budapest","Reykjavik","Helsinki","Tallinn","Riga","Vilnius","Sofia","Bucharest","Belgrade","Zagreb","Sarajevo","Ljubljana","Skopje","Tirana","Podgorica","Thessaloniki","Barcelona","Valencia","Seville","Granada","Malaga","Lyon","Marseille","Toulouse","Nice","Nantes","Strasbourg","Bordeaux","Lille","Venice","Milan","Florence","Naples","Turin","Bologna","Perugia","Genoa","Pisa","Verona","Palermo","Catania","Bari","Padua","Cagliari","Krakow","Gdansk","Poznan","Wroclaw","Lodz","Katowice","Bialystok","Gdynia","Sopot","Bydgoszcz","Lublin","Szczecin","Gorzow","Zakopane","Olsztyn","Torun","Rzeszow","Kielce","Radom","Siedlce","Los","Angeles","Chicago","Houston","Phoenix","San","Antonio","San","Diego","Dallas","San","Jose","Austin","Jacksonville","Fort","Worth","Columbus","Charlotte","Liverpool","Manchester","Glasgow","Birmingham","Leeds","Sheffield","Newcastle","upon","Tyne","Bristol","Nottingham","Leicester","Coventry","Belfast","Reading","Cardiff","Southampton","Aberdeen","Plymouth","Stoke","Trent","Wolverhampton","Swansea","Sunderland","Portsmouth","Yorkshire","Hull","Blackpool","Bradford","Derby","Middlesbrough","Peterborough","Stockton","on","Tees","Brighton","Poole","Bournemouth","Huddersfield","Luton","Oxford","Norwich","Oldham","Cambridge","Exeter","Walsall","Colchester","Watford","Rotherham","Newport","Gateshead","Dundee","Gloucester","Solihull","High","Wycombe","Maidstone","Slough","Basildon","Chelmsford","Salford","Bedford","Stevenage","Woking","Grimsby","Birkenhead","Halifax","Warrington","Gillingham","Wigan","Worcester","Wakefield","Lincoln","Chester","Rochdale","Dagenham","Widnes","St","Albans","Mansfield","Sutton","Coldfield","Crawley","Wokingham","Barnsley","St","Helens","Harrogate","Redditch","Scunthorpe","Nuneaton","Chesterfield","Hemel","Hempstead","Bury","Guildford","Ashford","Telford","Newcastle","under","Lyme","Aylesbury","Halesowen","Shrewsbury","Lowestoft","Loughborough","Cheltenham","Kidderminster","Basingstoke","Rugby","Stourbridge","Southport","Kettering","Royal","Leamington","Spa","Beeston","Farnborough","Wrexham","Banbury","Weymouth","Wallsend","Dartford","Grays","Tamworth","Ashford","Esher","Folkestone","Tonbridge","Taunton","Runcorn","Macclesfield","Keighley","Bridgend","Barnstaple","Letchworth","Garden","City","Worthing","Gosport","Eastleigh","Staines","upon","Thames","Lisburn","Livingston","Bognor","Regis","Scarborough","Cannock","Margate","Chippenham","Rhondda","Maidenhead","Wellingborough","Washington","Camberley","Bootle","Lancaster","Llanelli","Chatham","Cheshunt","Bishop","Auckland","Nelson","Belper","Pontefract","Barry","Braintree","Crosby","Bury","St","Edmunds","Bexhill","Margate","Aldershot","Rowley","Regis","Hoddesdon","Sittingbourne","Rugby","Newquay","Falmouth","Stretford","Camberley","Beverley","Windsor","Rochester","Wickford","Diss","Farnham","Andover","Camberwell","Bermondsey","Lewisham","Wembley","Hayes","Harrow","Ilford","Enfield","Twickenham","Richmond","Brentwood","Edgware","Ealing","Greenwich","Bromley","Hounslow","Romford","Hillingdon","Uxbridge","Wandsworth","Sutton","Kingston","upon","Thames","Bexley","Havering","Barking"],e=["ia","ville","ton","land","field","burgh","ford","wood","port","bay","beach","peak","valley","ridge","hill","dale","island","cape","spring","grove","polis","side","view","shore","haven","place","gardens","plaza","square"],n=["New","Old","North","South","East","West","Upper","Lower","Little","Great","Saint","Fort","Mount","Lake","River","The Village of","The City of","The Town of","The Borough of","The County of","The State of","The Kingdom of","The Empire of","The Republic of","The Commonwealth of","The Union of","The Federation of","Rainy","Sunny","Windy","Frosty","Snowy"];function o(s){return s[Math.floor(Math.random()*s.length)]}let i=o(n),r=o(t),l=o(e),a="";return Math.random()>.5?a=i+" "+r+l:a=r+l,a}let Pe=Ye(JSON.parse(localStorage.getItem(Gt)||"null")),sn=Ye(JSON.parse(localStorage.getItem(Ko)||"null"));dm();function fm(t,e,n,o){let i={...lm};i.economyAndLaws.max_tax_rate=am[t],i.endGoal=e;let r=[];n=n.replace(/[^a-zA-Z0-9 ]/g,"").trim(),i.townInfo.name=n!=""?n:um(),i.difficulty=parseInt(t),o&&(i.devMode=!0,i.townInfo.gold=1e8,i.townInfo.happiness=1e7,i.townInfo.health=1e6,i.townInfo.knowledge_points=1e5,i.modifiers.happiness=1e4,i.modifiers.health=1e4,i.resources.food=1e6,i.resources.wood=1e6,i.resources.stone=1e6,i.resources.metal=1e6);const l=t=="0"?8:t=="1"?12:t=="2"?16:1,a=Math.floor(Math.random()*l/2)+1,s=Math.floor(Math.random()*l/2)+1;for(let u=0;u<l;u++){r.push([]);for(let f=0;f<l;f++){const c=u==a&&f==s?!1:cm(u,f,l);r[u][f]={id:Math.random().toString(36).substring(2,9),active:!1,x:u,y:f,type:c?-9:-1,typeId:"",mineralSource:c?!1:a===u&&s===f,water:a===u&&s===f?!1:c}}}i.plots=r,localStorage.reset=!1,localStorage.setItem(Gt,JSON.stringify(i)),Pe.set(i),location.reload()}function cm(t,e,n){let o=.06;return t>0&&e>0&&t<n-1&&e<n-1&&(o*=2),(e==Math.round(n/2)||e==Math.round(n/2)-1)&&(o*=5),t==0&&e==0&&(o=0),Math.random()<o}function dm(){if(localStorage.getItem(Ko)===null){let t=sm;t.username="my_username_click_to_change",localStorage.setItem(Ko,JSON.stringify(t)),sn.set(t)}}function As(t,e){var n=Math.pow(10,e);t=parseFloat((t*n).toFixed(11));var o=Math.round(t)/n;return+o.toFixed(e)}function Vi(t,e,n){let o=n.plots[t][e].type;if(n.plots[t][e].type=-1,n.plots[t][e].active=!1,o>-1&&(n.townInfo.population_count-=ie[o].immediate_variable_changes.population,n.townInfo.population_max-=ie[o].immediate_variable_changes.population,n.townInfo.happiness-=ie[o].immediate_variable_changes.happiness,n.townInfo.health-=ie[o].immediate_variable_changes.health,n.modifiers.happiness=As(n.modifiers.happiness/ie[o].effect_modifiers.happiness,2),n.modifiers.health=As(n.modifiers.health/ie[o].effect_modifiers.health,2),n.townInfo.employees-=ie[o].requirements.employees,(n.plotCounts[o]===void 0||n.plotCounts[o]===null)&&(n.plotCounts[o]=0),n.plotCounts[o]--,(ie[o].requirements.size??1)>1))for(let r=0;r<n.plots.length;r++)for(let l=0;l<n.plots[t].length;l++)n.plots[r][l].referencePlot!=null&&n.plots[r][l].referencePlot[0]===t&&n.plots[r][l].referencePlot[1]===e&&Vi(r,l,n);n.lastChangeDay=n.environment.day,Pe.set(n),localStorage.setItem(Gt,JSON.stringify(n))}function He(t,e){let n=[];for(let o=0;o<e.plots.length;o++)for(let i=0;i<e.plots[o].length;i++)e.plots[o][i].active==!1||e.plots[o][i]==null||e.plots[o][i].type===null||e.plots[o][i].type<0||(ie[e.plots[o][i].type].id===t||ie[e.plots[o][i].type].type===t)&&n.push(e.plots[o][i]);return n}function mm(t,e){const n=t.plots.length,o=n>0?t.plots[0].length:0,i=e=="east"?5:0,r=e=="south"?5:0,l=Math.round(Math.pow(1.5,t.kingdom_expansions+5));if(t.townInfo.guardians<l)return`You need ${l-t.townInfo.guardians} more Guardians to expand the kingdom. See the City mgmt menu.`;for(let a=0;a<n;a++)for(let s=o;s<o+i;s++)t.plots[a].push({id:Math.random().toString(36).substring(2,9),active:!1,x:a,y:s,type:-1,typeId:"",mineralSource:!1,water:!1,disabled:!1});for(let a=n;a<n+r;a++){const s=[];for(let u=0;u<o+i;u++)s.push({id:Math.random().toString(36).substring(2,9),active:!1,x:a,y:u,type:-1,typeId:"",mineralSource:!1,water:!1});t.plots.push(s)}t.kingdom_expansions++,Pe.set(t)}function Dl(t=null){localStorage.removeItem(Gt),Pe.set(null),t&&(localStorage.setItem(Gt,JSON.stringify(t)),Pe.set(t)),location.reload()}function pm(){ac.update(t=>!t),localStorage.setItem("showOnlyAffordable",localStorage.getItem("showOnlyAffordable")==="true"?"false":"true")}let Qe=Ye({visible:!1,x:0,y:0,isMineralSource:!1}),Wo=Ye({visible:!1});function hm(t){sn.set(t),localStorage.setItem(Ko,JSON.stringify(t))}let ho=Ye({}),Oi=Ye(!1),Rt=Ye(!1),tl=Ye(!0),Ss=Ye(!1),Hi=Ye(!1),Wi=Ye(!1),Pi=Ye(!1),Yi=Ye(!1),Pt=Ye(""),Ui=localStorage.getItem("showCompletedAchievements")==="true"?Ye(!0):Ye(!1),ac=localStorage.getItem("showOnlyAffordable")==="true"?Ye(!0):Ye(!1),uc=localStorage.getItem("pauseMenuTab")==="game"?Ye("game"):Ye("achievements"),nl=Ye(750);const kt={unemployment_num:" people can't find jobs.",bored:"People are bored. Try making some new buildings.",vairety:"People don't like going to the same places over and over again. Try making some new buildings.",nobody_home:"Build some homes!",leave_town_num:" people left town because they were unhappy.",new_people_num:" new people moved to town.",people_want_to_move_in:"People want to move in. Build more homes.",high_tax_rate:"People are unhappy with the high tax rate.",very_high_tax_rate:"People are extremely unhappy with the high tax rate.",sickAndDying:"People are sick and dying.",sickAndLeaving:"People are sick and leaving town.",happiness_zero:"The town has fallen into chaos due to extreme unhappiness.",health_zero:"The town has fallen into chaos due to extreme sickness.",population_zero:"The town has been condemned due to lack of population.",win:{land:"You have filled the grid with buildings. You win!"},hospital_advantage:"Because you have a hospital, the town is staying healthier for longer!",notEnoughVariety:"People are sick of going to the same places over and over, add some variety!"},et=[{id:"happiness_at_300",title:"Happy Town",description:"One of your towns wins Happiest Town Award!",requirements:"Happiness reaches 300",icon:"😍",check:t=>t.townInfo.happiness>=300,prize:1e3},{id:"get_educated",title:"Get Educated",description:"The kids are finally able to learn!",requirements:"Build a school or library",icon:"📌",check:t=>He("small_school",t).length!==0||He("large_school",t).length!==0||He("library",t).length!==0,prize:1850},{id:"10k",title:"$10,000",description:"",requirements:"Gold reaches $10,000",icon:"﹩",check:t=>t.townInfo.gold>=1e4,prize:2500},{id:"25k",title:"$25,000",description:"",requirements:"Gold reaches $25,000",icon:"💵",check:t=>t.townInfo.gold>=25e3,prize:7500},{id:"stayin_frugal",title:"Stayin' Frugal!",description:"",requirements:"Gold under $50 with >=300 population",icon:"🚲",check:t=>t.townInfo.gold<=50&&t.townInfo.population_count>=300,prize:1e4},{id:"profits_to_the_moon",title:"Profits to the moon!",description:"Now you're making dough!",requirements:"Last month profit is over $10,000",icon:"🌛",check:t=>t.economyAndLaws.weeklyProfit>=1e4,prize:15e3},{id:"happily_dying",title:"Happily Dying!",description:"Not something to be proud of...",requirements:"Happiness > 275, health < 25",icon:"🌛",check:t=>t.townInfo.happiness>275&&t.townInfo.health<25,prize:2e4},{id:"long_game",title:"The Long Game",description:"So are you gonna win anytime soon?",requirements:"Still playing after 10,000 days, without winning. ",icon:"🐌",check:t=>t.endGameDetails.win===!1&&t.environment.day>1e4&&t.endGameDetails.msg==="",prize:25e3},{id:"tax_man",title:"Tax man",description:"Set the tax rate to the absolute max that the town will tolerate.",requirements:"",icon:"🙃",check:t=>{let e=Math.floor(t.economyAndLaws.max_tax_rate*20)/20;return t.economyAndLaws.tax_rate===e},prize:1500},{id:"good_job",title:"Good job",description:"Beat 'Fill the grid' with Normal difficulty in under 3,000 days.",requirements:"",icon:"👍",check:t=>t.endGameDetails.win===!0&&t.environment.day<=3e3&&t.difficulty===1&&t.endGoal==="land",prize:1e4},{id:"great_job",title:"Great job",description:"Beat 'Fill the grid' with Normal difficulty in under 2,000 days.",requirements:"",icon:"👏",check:t=>t.endGameDetails.win===!0&&t.environment.day<=2e3&&t.difficulty===1&&t.endGoal==="land",prize:45e3},{id:"superb_job",title:"SUPERB job",description:"Beat 'Fill the grid' with Normal difficulty in under 500 days.",requirements:"",icon:"👌",check:t=>t.endGameDetails.win===!0&&t.environment.day<=500&&t.difficulty===1&&t.endGoal==="land",prize:1e5},{id:"250k",title:"$250,000",description:"",requirements:"Gold reaches $250,000",icon:"💸",check:t=>t.townInfo.gold>=25e4,prize:5e4},{id:"banker",title:"Banker",description:"",requirements:"Build your first bank. ",icon:"🏦",check:t=>He("bank",t).length!==0,prize:5e3},{id:"community",title:"Community Center",description:"",requirements:"Build your first community center. ",icon:"❤️",check:t=>He("community_center",t).length!==0,prize:1e4},{id:"1m",title:"MILLIONAIRE!",description:"",requirements:"Gold reaches $1,000,000",icon:"💰",check:t=>t.townInfo.gold>=1e6,prize:15e4}],qt=[{message:"My liege, we need places to live! Build the first homes.",isComplete:t=>t.townInfo.population_max>0,goldReward:1e3},{message:"My liege, you need to start making food and wood.",isComplete:t=>He("farm",t).length>=1&&He("tree_farm",t).length>=1,goldReward:300},{message:"My liege, the village will need stone and metals to expand. Build a quarry. ",isComplete:t=>He("quarry",t).length>0,goldReward:500},{message:"My liege, things are picking up but we will need far more money. Get weekly revenue to >=200 gold. ",isComplete:t=>t.economyAndLaws.weeklyProfit>=200,goldReward:2e3},{message:"My liege, as the town develops we will need the smartest and brightest. Build plots to get our Knowledge to 250.",isComplete:t=>t.townInfo.knowledge_points>=250,goldReward:2e3},{message:"My liege, the village is growing - yay! But we need to have more workers. Get the population to 100.",isComplete:t=>t.townInfo.population_count>=100,goldReward:1500},{message:"My liege, some advanced buildings require power. Start generating power with a water wheel or a solar farm.",isComplete:t=>t.resources.power>0,goldReward:2e3},{message:"My liege, we need more metals. Find a good spot for a mine and build it. ",isComplete:t=>He("mine",t).length>0,goldReward:1e4},{message:"My liege, mining resources has taken a toll on the towns health. Build a Healing House to lower the chance of sickness.",isComplete:t=>He("healing_house",t).length>0,goldReward:15e3},{message:"My liege, now that we have metals, power, and people, your next goal is a big one. Build your town a City Hall.",isComplete:t=>He("city_hall",t).length>0,goldReward:1e4}];function fc(t){var e,n,o="";if(typeof t=="string"||typeof t=="number")o+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=fc(t[e]))&&(o&&(o+=" "),o+=n)}else for(n in t)t[n]&&(o&&(o+=" "),o+=n);return o}function _m(){for(var t,e,n=0,o="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=fc(t))&&(o&&(o+=" "),o+=e);return o}const Ll="-";function gm(t){const e=vm(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:o}=t;function i(l){const a=l.split(Ll);return a[0]===""&&a.length!==1&&a.shift(),cc(a,e)||bm(l)}function r(l,a){const s=n[l]||[];return a&&o[l]?[...s,...o[l]]:s}return{getClassGroupId:i,getConflictingClassGroupIds:r}}function cc(t,e){var l;if(t.length===0)return e.classGroupId;const n=t[0],o=e.nextPart.get(n),i=o?cc(t.slice(1),o):void 0;if(i)return i;if(e.validators.length===0)return;const r=t.join(Ll);return(l=e.validators.find(({validator:a})=>a(r)))==null?void 0:l.classGroupId}const Ts=/^\[(.+)\]$/;function bm(t){if(Ts.test(t)){const e=Ts.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function vm(t){const{theme:e,prefix:n}=t,o={nextPart:new Map,validators:[]};return wm(Object.entries(t.classGroups),n).forEach(([r,l])=>{ol(l,o,r,e)}),o}function ol(t,e,n,o){t.forEach(i=>{if(typeof i=="string"){const r=i===""?e:Ms(e,i);r.classGroupId=n;return}if(typeof i=="function"){if(ym(i)){ol(i(o),e,n,o);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([r,l])=>{ol(l,Ms(e,r),n,o)})})}function Ms(t,e){let n=t;return e.split(Ll).forEach(o=>{n.nextPart.has(o)||n.nextPart.set(o,{nextPart:new Map,validators:[]}),n=n.nextPart.get(o)}),n}function ym(t){return t.isThemeGetter}function wm(t,e){return e?t.map(([n,o])=>{const i=o.map(r=>typeof r=="string"?e+r:typeof r=="object"?Object.fromEntries(Object.entries(r).map(([l,a])=>[e+l,a])):r);return[n,i]}):t}function km(t){if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,o=new Map;function i(r,l){n.set(r,l),e++,e>t&&(e=0,o=n,n=new Map)}return{get(r){let l=n.get(r);if(l!==void 0)return l;if((l=o.get(r))!==void 0)return i(r,l),l},set(r,l){n.has(r)?n.set(r,l):i(r,l)}}}const dc="!";function Cm(t){const e=t.separator,n=e.length===1,o=e[0],i=e.length;return function(l){const a=[];let s=0,u=0,f;for(let _=0;_<l.length;_++){let b=l[_];if(s===0){if(b===o&&(n||l.slice(_,_+i)===e)){a.push(l.slice(u,_)),u=_+i;continue}if(b==="/"){f=_;continue}}b==="["?s++:b==="]"&&s--}const c=a.length===0?l:l.substring(u),d=c.startsWith(dc),m=d?c.substring(1):c,p=f&&f>u?f-u:void 0;return{modifiers:a,hasImportantModifier:d,baseClassName:m,maybePostfixModifierPosition:p}}}function Am(t){if(t.length<=1)return t;const e=[];let n=[];return t.forEach(o=>{o[0]==="["?(e.push(...n.sort(),o),n=[]):n.push(o)}),e.push(...n.sort()),e}function Sm(t){return{cache:km(t.cacheSize),splitModifiers:Cm(t),...gm(t)}}const Tm=/\s+/;function Mm(t,e){const{splitModifiers:n,getClassGroupId:o,getConflictingClassGroupIds:i}=e,r=new Set;return t.trim().split(Tm).map(l=>{const{modifiers:a,hasImportantModifier:s,baseClassName:u,maybePostfixModifierPosition:f}=n(l);let c=o(f?u.substring(0,f):u),d=!!f;if(!c){if(!f)return{isTailwindClass:!1,originalClassName:l};if(c=o(u),!c)return{isTailwindClass:!1,originalClassName:l};d=!1}const m=Am(a).join(":");return{isTailwindClass:!0,modifierId:s?m+dc:m,classGroupId:c,originalClassName:l,hasPostfixModifier:d}}).reverse().filter(l=>{if(!l.isTailwindClass)return!0;const{modifierId:a,classGroupId:s,hasPostfixModifier:u}=l,f=a+s;return r.has(f)?!1:(r.add(f),i(s,u).forEach(c=>r.add(a+c)),!0)}).reverse().map(l=>l.originalClassName).join(" ")}function Im(){let t=0,e,n,o="";for(;t<arguments.length;)(e=arguments[t++])&&(n=mc(e))&&(o&&(o+=" "),o+=n);return o}function mc(t){if(typeof t=="string")return t;let e,n="";for(let o=0;o<t.length;o++)t[o]&&(e=mc(t[o]))&&(n&&(n+=" "),n+=e);return n}function il(t,...e){let n,o,i,r=l;function l(s){const u=e.reduce((f,c)=>c(f),t());return n=Sm(u),o=n.cache.get,i=n.cache.set,r=a,a(s)}function a(s){const u=o(s);if(u)return u;const f=Mm(s,n);return i(s,f),f}return function(){return r(Im.apply(null,arguments))}}function xe(t){const e=n=>n[t]||[];return e.isThemeGetter=!0,e}const pc=/^\[(?:([a-z-]+):)?(.+)\]$/i,Om=/^\d+\/\d+$/,Pm=new Set(["px","full","screen"]),Nm=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Em=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,$m=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Rm=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Dm=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function tn(t){return En(t)||Pm.has(t)||Om.test(t)}function gn(t){return ko(t,"length",Hm)}function En(t){return!!t&&!Number.isNaN(Number(t))}function bi(t){return ko(t,"number",En)}function $o(t){return!!t&&Number.isInteger(Number(t))}function Lm(t){return t.endsWith("%")&&En(t.slice(0,-1))}function qe(t){return pc.test(t)}function bn(t){return Nm.test(t)}const Fm=new Set(["length","size","percentage"]);function Bm(t){return ko(t,Fm,hc)}function jm(t){return ko(t,"position",hc)}const qm=new Set(["image","url"]);function Gm(t){return ko(t,qm,Ym)}function Vm(t){return ko(t,"",Wm)}function Ro(){return!0}function ko(t,e,n){const o=pc.exec(t);return o?o[1]?typeof e=="string"?o[1]===e:e.has(o[1]):n(o[2]):!1}function Hm(t){return Em.test(t)&&!$m.test(t)}function hc(){return!1}function Wm(t){return Rm.test(t)}function Ym(t){return Dm.test(t)}function rl(){const t=xe("colors"),e=xe("spacing"),n=xe("blur"),o=xe("brightness"),i=xe("borderColor"),r=xe("borderRadius"),l=xe("borderSpacing"),a=xe("borderWidth"),s=xe("contrast"),u=xe("grayscale"),f=xe("hueRotate"),c=xe("invert"),d=xe("gap"),m=xe("gradientColorStops"),p=xe("gradientColorStopPositions"),_=xe("inset"),b=xe("margin"),k=xe("opacity"),C=xe("padding"),w=xe("saturate"),R=xe("scale"),L=xe("sepia"),D=xe("skew"),E=xe("space"),G=xe("translate"),$=()=>["auto","contain","none"],W=()=>["auto","hidden","clip","visible","scroll"],y=()=>["auto",qe,e],v=()=>[qe,e],O=()=>["",tn,gn],P=()=>["auto",En,qe],H=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],F=()=>["solid","dashed","dotted","double","none"],Q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"],ne=()=>["start","end","center","between","around","evenly","stretch"],z=()=>["","0",qe],Y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],h=()=>[En,bi],V=()=>[En,qe];return{cacheSize:500,separator:":",theme:{colors:[Ro],spacing:[tn,gn],blur:["none","",bn,qe],brightness:h(),borderColor:[t],borderRadius:["none","","full",bn,qe],borderSpacing:v(),borderWidth:O(),contrast:h(),grayscale:z(),hueRotate:V(),invert:z(),gap:v(),gradientColorStops:[t],gradientColorStopPositions:[Lm,gn],inset:y(),margin:y(),opacity:h(),padding:v(),saturate:h(),scale:h(),sepia:z(),skew:V(),space:v(),translate:v()},classGroups:{aspect:[{aspect:["auto","square","video",qe]}],container:["container"],columns:[{columns:[bn]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...H(),qe]}],overflow:[{overflow:W()}],"overflow-x":[{"overflow-x":W()}],"overflow-y":[{"overflow-y":W()}],overscroll:[{overscroll:$()}],"overscroll-x":[{"overscroll-x":$()}],"overscroll-y":[{"overscroll-y":$()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",$o,qe]}],basis:[{basis:y()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",qe]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",$o,qe]}],"grid-cols":[{"grid-cols":[Ro]}],"col-start-end":[{col:["auto",{span:["full",$o,qe]},qe]}],"col-start":[{"col-start":P()}],"col-end":[{"col-end":P()}],"grid-rows":[{"grid-rows":[Ro]}],"row-start-end":[{row:["auto",{span:[$o,qe]},qe]}],"row-start":[{"row-start":P()}],"row-end":[{"row-end":P()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",qe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",qe]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal",...ne()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ne(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ne(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[C]}],px:[{px:[C]}],py:[{py:[C]}],ps:[{ps:[C]}],pe:[{pe:[C]}],pt:[{pt:[C]}],pr:[{pr:[C]}],pb:[{pb:[C]}],pl:[{pl:[C]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",qe,e]}],"min-w":[{"min-w":[qe,e,"min","max","fit"]}],"max-w":[{"max-w":[qe,e,"none","full","min","max","fit","prose",{screen:[bn]},bn]}],h:[{h:[qe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[qe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[qe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[qe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",bn,gn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",bi]}],"font-family":[{font:[Ro]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",qe]}],"line-clamp":[{"line-clamp":["none",En,bi]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",tn,qe]}],"list-image":[{"list-image":["none",qe]}],"list-style-type":[{list:["none","disc","decimal",qe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[k]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[k]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...F(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",tn,gn]}],"underline-offset":[{"underline-offset":["auto",tn,qe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:v()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",qe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",qe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[k]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...H(),jm]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Bm]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Gm]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[r]}],"rounded-s":[{"rounded-s":[r]}],"rounded-e":[{"rounded-e":[r]}],"rounded-t":[{"rounded-t":[r]}],"rounded-r":[{"rounded-r":[r]}],"rounded-b":[{"rounded-b":[r]}],"rounded-l":[{"rounded-l":[r]}],"rounded-ss":[{"rounded-ss":[r]}],"rounded-se":[{"rounded-se":[r]}],"rounded-ee":[{"rounded-ee":[r]}],"rounded-es":[{"rounded-es":[r]}],"rounded-tl":[{"rounded-tl":[r]}],"rounded-tr":[{"rounded-tr":[r]}],"rounded-br":[{"rounded-br":[r]}],"rounded-bl":[{"rounded-bl":[r]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[k]}],"border-style":[{border:[...F(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[k]}],"divide-style":[{divide:F()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...F()]}],"outline-offset":[{"outline-offset":[tn,qe]}],"outline-w":[{outline:[tn,gn]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:O()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[k]}],"ring-offset-w":[{"ring-offset":[tn,gn]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",bn,Vm]}],"shadow-color":[{shadow:[Ro]}],opacity:[{opacity:[k]}],"mix-blend":[{"mix-blend":Q()}],"bg-blend":[{"bg-blend":Q()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[o]}],contrast:[{contrast:[s]}],"drop-shadow":[{"drop-shadow":["","none",bn,qe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[c]}],saturate:[{saturate:[w]}],sepia:[{sepia:[L]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[o]}],"backdrop-contrast":[{"backdrop-contrast":[s]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[c]}],"backdrop-opacity":[{"backdrop-opacity":[k]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[L]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",qe]}],duration:[{duration:V()}],ease:[{ease:["linear","in","out","in-out",qe]}],delay:[{delay:V()}],animate:[{animate:["none","spin","ping","pulse","bounce",qe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[R]}],"scale-x":[{"scale-x":[R]}],"scale-y":[{"scale-y":[R]}],rotate:[{rotate:[$o,qe]}],"translate-x":[{"translate-x":[G]}],"translate-y":[{"translate-y":[G]}],"skew-x":[{"skew-x":[D]}],"skew-y":[{"skew-y":[D]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",qe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",qe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":v()}],"scroll-mx":[{"scroll-mx":v()}],"scroll-my":[{"scroll-my":v()}],"scroll-ms":[{"scroll-ms":v()}],"scroll-me":[{"scroll-me":v()}],"scroll-mt":[{"scroll-mt":v()}],"scroll-mr":[{"scroll-mr":v()}],"scroll-mb":[{"scroll-mb":v()}],"scroll-ml":[{"scroll-ml":v()}],"scroll-p":[{"scroll-p":v()}],"scroll-px":[{"scroll-px":v()}],"scroll-py":[{"scroll-py":v()}],"scroll-ps":[{"scroll-ps":v()}],"scroll-pe":[{"scroll-pe":v()}],"scroll-pt":[{"scroll-pt":v()}],"scroll-pr":[{"scroll-pr":v()}],"scroll-pb":[{"scroll-pb":v()}],"scroll-pl":[{"scroll-pl":v()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",qe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[tn,gn,bi]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}function Um(t,{cacheSize:e,prefix:n,separator:o,extend:i={},override:r={}}){Ni(t,"cacheSize",e),Ni(t,"prefix",n),Ni(t,"separator",o);for(const l in r)Km(t[l],r[l]);for(const l in i)Xm(t[l],i[l]);return t}function Ni(t,e,n){n!==void 0&&(t[e]=n)}function Km(t,e){if(e)for(const n in e)Ni(t,n,e[n])}function Xm(t,e){if(e)for(const n in e){const o=e[n];o!==void 0&&(t[n]=(t[n]||[]).concat(o))}}function Jm(t,...e){return typeof t=="function"?il(rl,t,...e):il(()=>Um(rl(),t),...e)}const _c=il(rl);function xm(t){const e=t-1;return e*e*e+1}function De(...t){return _c(_m(t))}const _r=(t,e={y:-8,x:0,start:.95,duration:150})=>{const n=getComputedStyle(t),o=n.transform==="none"?"":n.transform,i=(l,a,s)=>{const[u,f]=a,[c,d]=s;return(l-u)/(f-u)*(d-c)+c},r=l=>Object.keys(l).reduce((a,s)=>l[s]===void 0?a:a+`${s}:${l[s]};`,"");return{duration:e.duration??200,delay:0,css:l=>{const a=i(l,[0,1],[e.y??5,0]),s=i(l,[0,1],[e.x??0,0]),u=i(l,[0,1],[e.start??.95,1]);return r({transform:`${o} translate3d(${s}px, ${a}px, 0) scale(${u})`,opacity:l})},easing:xm}};function it(t,e){if(e===void 0&&(e=0),t==null||t==null)return 0;t=parseFloat((t*Math.pow(10,e)).toFixed(11));var n=Math.round(t)/Math.pow(10,e);return+n.toFixed(e)}function Dr(t){return t<10?"0"+t:t}function Zm(t){let e=Math.floor(t/1e3),n=Math.floor(e/60);e=e%60;let o=Math.floor(n/60);return n=n%60,`${Dr(o)}:${Dr(n)}:${Dr(e)}`}function Se(t){return ie.findIndex(e=>e.id===t)}function Is(t){const n=new RegExp("\\p{Emoji}","u").exec(t);return n?n[0]:null}function xt(t,e=!0){let n=t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,");return e||(n=n.split(".")[0]),n}function _o(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Os(t,e=!0){return t=it(t/(e?3:1),2),t<0?`${t}`:`+${t}`}function Fn(t,e,n,o=!1){if(t<0||t>=n.plots.length||e<0||e>=n.plots[0].length)return!1;let i=[[t-1,e],[t+1,e],[t,e-1],[t,e+1],[t-1,e-1],[t-1,e+1],[t+1,e-1],[t+1,e+1]];for(let r=0;r<i.length;r++){let l=i[r][0],a=i[r][1];if(l>=0&&l<n.plots.length&&a>=0&&a<n.plots[0].length&&n.plots[l][a].water&&(o||n.plots[t][e].active==!0&&n.plots[t][e].type>0&&ie[n.plots[t][e].type].id=="farm"))return!0}return!1}function Qm(t,e,n,o){if(t<0||t>=n.plots.length||e<0||e>=n.plots[0].length)return!1;let i=[[t-1,e],[t+1,e],[t,e-1],[t,e+1],[t-1,e-1],[t-1,e+1],[t+1,e-1],[t+1,e+1]],r=!0;for(let l=0;l<o.length;l++){let a=!1;if(o[l]=="water"&&(console.log("water"),Fn(t,e,n,!0))){a=!0;break}for(let s=0;s<i.length;s++){let u=i[s][0],f=i[s][1];if(u>=0&&u<n.plots.length&&f>=0&&f<n.plots[0].length&&n.plots[u][f].active==!0&&n.plots[u][f].type>0&&ie[n.plots[u][f].type].id==o[l]){a=!0;break}}if(!a){r=!1;break}}return r}function zm(t,e=0){let n=t*.92,o=t*1.08;return it(Math.random()*(o-n)+n,e)}const ll=[{id:"organic_farming",description:"Organic Farming. Make townspeople healthier and happier, while decreasing overall food production.",cost:150,weekly_effect:t=>(t.modifiers.happiness*=1.1,t.modifiers.health*=1.1,t.resources.food-=2*He("farm",t).length,t)},{id:"tax_free",description:"Tax-Free Month. For 1 month, the town loses all revenue from taxes, but happiness and health increase quite a lot. Automatically ends after 4 weeks.",cost:250,weekly_effect:t=>(localStorage.getItem("tax_free")===null?(localStorage.setItem("tax_free","0"),t.economyAndLaws.weeklyProfit=-1*t.economyAndLaws.weeklyProfit):localStorage.setItem("tax_free",(parseInt(localStorage.getItem("tax_free"))+1).toString()),parseInt(localStorage.getItem("tax_free"))>=4?(t.modifiers.happiness*=1,t.modifiers.health*=1,localStorage.removeItem("tax_free"),t.economyAndLaws.enacted=t.economyAndLaws.enacted.filter(e=>e!=="tax_free")):(t.modifiers.happiness*=1.2,t.modifiers.health*=1.2),t)},{id:"healthy_mining",description:"Healthy mining. Miners must mine with proper ventilation, but they move like molasses.",cost:250,weekly_effect:t=>(ie.find(e=>e.id==="mine"),t.modifiers.health*=1.1,t.resources.stone-=5*He("quarry",t).length,t.resources.stone-=7*He("mine",t).length,t.resources.metal-=15*He("mine",t).length,t)},{id:"complicated_tax_forms",description:"Complicated Tax Forms. You sneak in a clause to charge 5% more in taxes. Now, if you adjust your tax rate 5% higher, they won't be upset. This can be enacted multiple times to stack.",cost:500,weekly_effect:t=>(t.economyAndLaws.max_tax_rate+=.05,t.economyAndLaws.enacted=t.economyAndLaws.enacted.filter(e=>e!=="complicated_tax_forms"),t)},{id:"legalize_it",description:"Legalize it. You legalize a substance that makes people happy, but it also gives them 'the munchies'. Food consumption and happiness go up.",cost:350,weekly_effect:t=>(t.resources.food-=Math.round(.2*t.townInfo.population_count),t.modifiers.happiness*=1.1,t)},{id:"park_upgrade",description:"Park upgrade. You hold a community forum and add the top 5 things that the people want in their parks. This increases happiness for each park.",cost:350,weekly_effect:t=>(t.townInfo.happiness+=2*He("park",t).length,t)},{id:"career_politician",description:"Career Politician. You hire a career politician to help you with your town. They cost the town $100 per week, but they earn bureaucracy points faster.",cost:200,weekly_effect:t=>(t.resources.bureaucracy+=25,t)},{id:"the_big_wood_deal",description:"The Big Wood Deal. This law allows you to sell all of the wood in your town for $2/wood at once. This won't make the town happy, but may be necessary in a pinch. Can be enacted multiple times to sell to other buyers.",cost:200,weekly_effect:t=>(t.townInfo.gold+=2*t.resources.wood,t.resources.wood=0,t.resource_rate.wood=0,t.townInfo.happiness*=.8,t.economyAndLaws.enacted=t.economyAndLaws.enacted.filter(e=>e!=="the_big_wood_deal"),t)},{id:"picky_eating_liege",description:"Picky Eater Liege. There is some food that the town makes that you just really hate. By passing this law, you insist that they sell off that gross food for $1/food every week. You won't make as much food, but you won't have to eat it either.",cost:200,weekly_effect:t=>{const e=He("farm",t).length*2,n=Math.floor(Math.random()*(.15*e-.05*e)+.05*e);return t.resources.food-=n,t.townInfo.gold+=n,t.townInfo.happiness=.95*t.townInfo.happiness,t}},{id:"stone_statue",description:"Stone Statue. You insist that we use ALL of our stone to build a massive statue. We lose all of our stone, but for some reason, the town has perfect health for a while.",cost:1e3,weekly_effect:t=>(t.resources.stone=0,t.modifiers.health=10,t)},{id:"out_of_town",description:"Out of town. Everyone needs a vacation, right? When this is enacted, EVERYONE must leave the town for 10 days. During this time, no resources are produced, no taxes are collected, and you must take ",cost:1e3,weekly_effect:t=>(t.resources.stone=0,t.modifiers.health=10,t)}];var rt=(t=>(t[t.GOOD=0]="GOOD",t[t.BAD=1]="BAD",t[t.NORMAL=2]="NORMAL",t))(rt||{});const Ps=30;function ep(t,e,n){return t.resource_rate.food=bt(n.food-e.food,2),t.resource_rate.wood=bt(n.wood-e.wood,2),t.resource_rate.stone=bt(n.stone-e.stone,2),t.resource_rate.metal=bt(n.metal-e.metal,2),t.resource_rate.bureaucracy=bt(n.bureaucracy-e.bureaucracy,2),t}function tp(t){return t.hasBank,t}function np(t){let e=t.economyAndLaws.knowledge_gold_market_rates[t.economyAndLaws.knowledge_gold_market_rates.length-1]||1;const n=-100,o=8,i=3;let r=Math.random(),l=Math.random()*i;if(r<.4){let a=Math.random()*o;Math.random()<.5?e+=a:e-=a}else Math.random()>.5?e+=l:e-=l;return e<n&&(e+=Math.random()*l/5),e=Math.round(e),t.economyAndLaws.knowledge_gold_market_rates=[...t.economyAndLaws.knowledge_gold_market_rates,e],t}function sl(t){return t.lab.active_experiment==null||t.lab.active_experiment.duration>0&&(t.lab.active_experiment.duration-=1),t}function al(t){return t.townInfo.happiness<0&&(t.townInfo.happiness=0),t.townInfo.health<0&&(t.townInfo.health=0),t.townInfo.community<0&&(t.townInfo.community=0),t.townInfo.gold<0&&(t.townInfo.gold=0),t.townInfo.employees<0&&(t.townInfo.employees=0),t.townInfo.knowledge_points<0&&(t.townInfo.knowledge_points=0),t.townInfo.population_count<0&&(t.townInfo.population_count=0),t.economyAndLaws.weeklyProfit=bt(t.economyAndLaws.weeklyProfit,0),t.townInfo.employees>t.townInfo.population_count&&(t.townInfo.employees=t.townInfo.population_count),t.townInfo.gold=bt(t.townInfo.gold,0),t.townInfo.population_count=bt(t.townInfo.population_count,0),t.townInfo.employees=bt(t.townInfo.employees,0),t.townInfo.population_max=bt(t.townInfo.population_max,0),t.townInfo.happiness=bt(t.townInfo.happiness,2),t.townInfo.health=bt(t.townInfo.health,2),t.townInfo.knowledge_points=bt(t.townInfo.knowledge_points,0),t.townInfo.happiness>t.maximums.happiness&&(t.townInfo.happiness=t.maximums.happiness),t.townInfo.health>t.maximums.health&&(t.townInfo.health=t.maximums.health),t.townInfo.community>300&&(t.townInfo.community=300),t.modifiers.happiness<.5&&(t.modifiers.happiness=.5),t.modifiers.health<.5&&(t.modifiers.health=.5),t.modifiers.community<.5&&(t.modifiers.community=.5),t}function ul(t){if(t.townInfo.happiness>150){let n=t.townInfo.happiness-150;t.townInfo.happiness-=n*.08,t.townInfo.happiness<150&&(t.townInfo.happiness=150)}if(t.townInfo.health>150){let n=t.townInfo.health-150;t.townInfo.health-=n*.08,t.townInfo.health<150&&(t.townInfo.health=150)}if(t.townInfo.community>150){let n=t.townInfo.community-150;t.townInfo.community-=n*.08,t.townInfo.community<150&&(t.townInfo.community=150)}return t}function op(t){return t.townInfo.happiness*=t.modifiers.happiness,t.townInfo.health*=t.modifiers.health,t.townInfo.community*=t.modifiers.community,t}function at(t,e,n){return(e.townLog||[]).unshift({message:t,day:e.environment.day,vibe:n}),e}function bt(t,e){e===void 0&&(e=0);let n=Math.pow(10,e);return t=parseFloat((t*n).toFixed(11)),+(Math.round(t)/n).toFixed(e)}function ip(t,e,n){let o,i,r,l,a;ae(t,nl,h=>n(7,o=h)),ae(t,Oi,h=>n(8,i=h)),ae(t,Wi,h=>n(9,r=h)),ae(t,Rt,h=>n(10,l=h)),ae(t,sn,h=>n(11,a=h)),ae(t,Pe,h=>n(12,h));function s(h){h=H(h),h=v(h),h=m(h),h=np(h),h=F(h),h=_(h);const V={food:h.resources.food,wood:h.resources.wood,stone:h.resources.stone,metal:h.resources.metal,bureaucracy:h.resources.bureaucracy,power:h.resources.power};h=k(h),h=y(h),h=w(h),h=R(h),h=z(h),h=b(h);const U={food:h.resources.food,wood:h.resources.wood,stone:h.resources.stone,metal:h.resources.metal,bureaucracy:h.resources.bureaucracy,power:h.resources.power};return h=ep(h,V,U),h}function u(h){return h=$(h),h=tp(h),h=p(h),h=op(h),h=ne(h),h=ul(h),h}function f(h){return h=O(h),h=P(h),h=W(h),h}function c(h){return h=Q(h),h=al(h),h=sl(h),h.overtime==!1&&(h=G(h),h=h),h=E(h),h=L(h),h}function d(){Pe.update(h=>{if(h==null||(h.tick++,h.tick%Ps!==0)||l||!h||h.endGameDetails.msg!==""&&h.overtime==!1||h.townInfo.population_count<=0)return h;try{return h.environment.day+=1,h.environment.day%7===0&&(h=s(h)),h.environment.day%30===0&&(h=u(h)),h.environment.day%90===0&&(h=f(h)),window.location.search.includes("debug=true")&&console.log(h),h=c(h),h}catch(V){return console.error("Error in game loop:",V),h}})}Pe.subscribe(h=>{h&&localStorage.setItem(Gt,JSON.stringify(h))}),sn.subscribe(h=>{h&&localStorage.setItem(Ko,JSON.stringify(h))});function m(h){let V=!1,U=!1,ee=!1,Z=!1;for(let we=0;we<h.plots.length;we++)for(let _e=0;_e<h.plots[we].length;_e++)if(h.plots[we][_e].active==!0&&h.plots[we][_e].type>-1){let Te=ie[h.plots[we][_e].type].id;Te=="bank"&&(V=!0),Te=="city_hall"&&(ee=!0),(Te=="small_hospital"||Te=="large_hospital")&&(U=!0),Te=="lab"&&(Z=!0)}return h.hasBank=V,h.hasHospital=U,h.hasCityHall=ee,h.hasLab=Z,h}function p(h){const V=h.townInfo.productivity;let U=1;if(V>50&&V<100)U=1.05;else{if(V==100)return h;V<50?U=1.2:V>100&&V<125?U=.98:V>125&&V<150?U=.96:V>150&&V<175?U=.9:V>175&&V<200&&(U=.8)}const ee=h.townInfo.happiness;return h.townInfo.happiness*=U,U>1?h=at(`Happiness has gone up by ${Math.round(h.townInfo.happiness/ee*100)}% due to productivity.`,h,rt.GOOD):h=at(`Happiness has gone down by ${100-Math.round(h.townInfo.happiness/ee*100)}% due to productivity.`,h,rt.BAD),h}function _(h){return h.endGameDetails!=null||(h.townInfo.happiness<70&&h.last_warning_happiness+365<h.environment.day&&(Pt.set("Your citizens are very unhappy. You should do something about it."),h.last_warning_happiness=h.environment.day),h.townInfo.health<70&&h.last_warning_health+365<h.environment.day&&(Pt.set("Your citizens are very unhealthy. You should do something about it."),h.last_warning_health=h.environment.day)),h}function b(h){const V=h.townInfo.population_count;return h.resources.food<V?(h.modifiers.happiness*=.95,h.modifiers.health*=.95,h=at("There isn't enough food for everyone!",h,rt.BAD),h.resources.food=0):h.resources.food-=V,h.resources.food=Math.round(h.resources.food),h}function k(h){const V=h.townInfo.productivity;let U=1;V<50?U=.5:V>50&&V<100?U=.75:V==100?U=1:V>100&&V<125?U=1.25:V>125&&V<150?U=1.75:V>150&&V<175?U=3:V>175&&V<200&&(U=5),U=zm(U,2);let ee=He("lumber_mill",h).length*1.25;ee===0&&(ee=1);for(let Z=0;Z<h.plots.length;Z++)for(let we=0;we<h.plots[Z].length;we++)if(h.plots[Z][we].active==!0&&h.plots[Z][we].type>-1){let _e=Fn(Z,we,h),Te=ie[h.plots[Z][we].type];Te.generated_resources!=null&&(h.resources.food+=Math.round(Te.generated_resources.food*U)*(_e?2:1),h.resources.wood+=Math.round(Te.generated_resources.wood*U*ee),h.resources.stone+=Math.round(Te.generated_resources.stone*U),h.resources.metal+=Math.round(Te.generated_resources.metal*U),h.resources.bureaucracy+=Math.round(Te.generated_resources.bureaucracy*U))}return h.resources.food=Math.round(h.resources.food),h.resources.wood=Math.round(h.resources.wood),h.resources.stone=Math.round(h.resources.stone),h.resources.metal=Math.round(h.resources.metal),h.resources.bureaucracy=Math.round(h.resources.bureaucracy),h}var C;(function(h){h.food="food",h.wood="wood",h.stone="stone",h.metal="metal",h.bureaucracy="bureaucracy"})(C||(C={}));function w(h){for(let V=0;V<h.plots.length;V++)for(let U=0;U<h.plots[V].length;U++)if(h.plots[V][U].active==!0&&h.plots[V][U].type>-1){let ee=ie[h.plots[V][U].type],Z=!1;Object.keys(ee.active_costs).forEach((we,_e)=>{const Te=Object.values(ee.active_costs)[_e];we!="power"&&(h.townInfo.gold,we=="gold"?h.townInfo.gold<Te?Z=!0:h.townInfo.gold-=Te:h.resources[we]<Te?Z=!0:h.resources[we]-=Te)}),h.plots[V][U].disabled=Z,h.plots[V][U].disabled&&(h.townInfo.happiness-=1),Z&&ie[h.plots[V][U].type].type=="residential"&&(h.townInfo.population_count-=1,h.townInfo.employees-=1)}return h}function R(h){let V=0;for(let U=0;U<h.plots.length;U++)for(let ee=0;ee<h.plots[U].length;ee++)if(h.plots[U][ee].active==!0&&h.plots[U][ee].type>-1){let Z=ie[h.plots[U][ee].type];Z.active_costs.power!=0&&(V-=Z.active_costs.power),Z.generated_resources.power!=0&&(V+=Z.generated_resources.power)}return h.resources.power=V,h.resources.power<0&&(h.modifiers.happiness*.98,h.townInfo.happiness-=5,h=at("🔋 POWER SHORTAGE. HAPPINESS DROPPING THROUGH BLACKOUTS.",h,rt.BAD)),h}function L(h){if(h.devMode)return h;let V=a;for(let U=0;U<et.length;U++)V.achievements.find(ee=>ee[0]==et[U].id)==null&&et[U].check(h)&&(V.achievements.push([et[U].id,h.environment.day,h.townInfo.name]),Me(Rt,l=!0,l),Me(Wi,r=!0,r));return sn.update(()=>V),h}let D=!1;function E(h){if(D)return h;for(let V=h.currentTutorialStep;V<h.currentTutorialStep+1;V++)if(qt[V].isComplete(h)){Me(Oi,i=!0,i),D=!0,setTimeout(()=>{Me(Oi,i=!1,i),h.currentTutorialStep++,h.townInfo.gold+=qt[V].goldReward,D=!1},1e3);break}return h}function G(h){return h.townInfo.happiness<=3&&(h.townInfo.happiness=0,h.endGameDetails={msg:kt.happiness_zero,win:!1,still_playing:!1}),h.townInfo.health<=3&&(h.townInfo.health=3,h.endGameDetails={msg:kt.health_zero,win:!1,still_playing:!1}),h.townInfo.population_count<=0&&h.townInfo.population_max>0&&(h.townInfo.population_count=0,h.endGameDetails={msg:kt.population_zero,win:!1,still_playing:!1}),h}function $(h){let V=h.townInfo.population_count-h.townInfo.employees;return V>0&&(h.townInfo.happiness-=V*.06,h=at(V+kt.unemployment_num,h,rt.BAD)),h}function W(h){let V=h.plotCounts.reduce((ee,Z)=>ee+Z,0),U=!1;for(let ee=0;ee<h.plotCounts.length;ee++)h.plotCounts[ee]==null||ie[ee].check_for_variety!=!0||(h.difficulty,h.plotCounts[ee]/V>=.25&&(ie[ee].title,U=!0));return U&&(h=at(kt.notEnoughVariety,h,rt.BAD),h.modifiers.happiness*.95),h}function y(h){for(let V=0;V<h.economyAndLaws.enacted.length;V++){let U=ll.find(ee=>ee.id==h.economyAndLaws.enacted[V]);U!=null&&U.weekly_effect!=null&&(h=U.weekly_effect(h))}return h}function v(h){let V=h.townInfo.health,U=0;return V>50||V<Math.random()*50&&(V<25?(h=at(kt.sickAndDying,h,rt.BAD),h.townInfo.happiness-=10,U=Math.round(h.townInfo.population_count*.1)):(h=at(kt.sickAndLeaving,h,rt.BAD),h.townInfo.happiness-=5,U=Math.round(h.townInfo.population_count*.05)),h.townInfo.population_count-=U,h.townInfo.employees-=U),h}function O(h){return h.townInfo.community<100&&Math.random()*100<h.townInfo.community||h.lastChangeDay+(Math.random()*500+365)<h.environment.day&&h.townInfo.population_count>0&&h.townInfo.population_count>0&&(h.townInfo.population_count-=1,h.townInfo.employees-=1,h.modifiers.happiness-=.01,h=at(kt.bored,h,rt.BAD)),h}function P(h){if(h.townInfo.population_count<h.townInfo.population_max&&h.townInfo.happiness>50){let V=h.townInfo.population_max-h.townInfo.population_count,U=Math.round(h.townInfo.happiness/100*V);h.townInfo.population_count+=U,h.townInfo.population_count>h.townInfo.population_max&&(h.townInfo.population_count=h.townInfo.population_max),h.townInfo.employees+=U,h.townInfo.employees>h.townInfo.population_count&&(h.townInfo.employees=h.townInfo.population_count),h=at(U+kt.new_people_num,h,rt.NORMAL)}if(h.townInfo.happiness<50&&h.townInfo.population_count>0){let V=Math.round((100-h.townInfo.happiness)/5);V=V*(h.townInfo.community/200),h.townInfo.population_count-=V,h.townInfo.employees>0&&(h.townInfo.employees-=V),h=at(V+kt.leave_town_num,h,rt.BAD)}else h.townInfo.population_count==h.townInfo.population_max;return h}function H(h){const V=Math.random();if(h.economyAndLaws.tax_rate>h.economyAndLaws.max_tax_rate&&h.townInfo.population_count>0){let U=1;h.hasBank&&(U=2);const ee=h.difficulty==0?.7:h.difficulty==1?.4:.2;V<ee&&h.economyAndLaws.tax_rate>h.economyAndLaws.max_tax_rate*2*U?(h.modifiers.happiness-=.02,h=at(kt.very_high_tax_rate+"  ("+h.economyAndLaws.tax_rate+"%)",h,rt.BAD)):(h.modifiers.happiness-=.01,h=at(kt.high_tax_rate+"  ("+h.economyAndLaws.tax_rate*100+"%)",h,rt.BAD))}return h}function F(h){if(h.modifiers.happiness>1){let U=h.modifiers.happiness-1;h.modifiers.happiness-=U*.1,h.modifiers.happiness<1.05&&(h.modifiers.happiness=1)}if(h.modifiers.community>1){let U=h.modifiers.community-1;h.modifiers.community-=U*.1,h.modifiers.community<1.05&&(h.modifiers.community=1)}if(h.modifiers.health>1)if(He("healing_house",h).length>0){h=at(kt.hospital_advantage,h,rt.GOOD);let U=h.modifiers.health-1;h.modifiers.health-=U*He("healing_house",h).length?.03:.06,h.modifiers.health<1.05&&(h.modifiers.health=1)}else{let U=h.modifiers.health-1;h.modifiers.health-=U*.1,h.modifiers.health<1.05&&(h.modifiers.health=1)}else He("healing_house",h).length>0&&(h.modifiers.health+=.1);return h}function Q(h){h.economyAndLaws.weeklyProfit=0;for(let V=0;V<h.plots.length;V++)for(let U=0;U<h.plots[V].length;U++)if(h.plots[V][U].active==!0&&h.plots[V][U].type>-1)if(h.plots[V][U].disabled===!0){const ee=ie[h.plots[V][U].type],Z=Y(ee.revenue_per_week,h,ee.type)*(h.townInfo.productivity/100)/7;h.townInfo.gold-=Z,h=at(`🚨 ${ee.title} at ${U}, ${V} is disabled and costing you $${Z} a week!`,h,rt.BAD)}else{const ee=ie[h.plots[V][U].type];let Z=Y(ee.revenue_per_week,h,ee.type)*(h.townInfo.productivity/100)/7;console.log(`profit 2: ${Z}`);let we=Fn(V,U,h);Z*=we?2:1,h.townInfo.gold+=Z,h.economyAndLaws.weeklyProfit+=Z*7}return h}function ne(h){return He("mine",h).length>0&&(h.modifiers.health-=.01,He("healing_house",h).length==0&&(h=at("The mine is actively hurting the health of the town. Time to look into a healing house.",h,rt.BAD))),h}function z(h){let V=0;for(let U=0;U<h.plots.length;U++)for(let ee=0;ee<h.plots[U].length;ee++)if(h.plots[U][ee].active==!0&&h.plots[U][ee].type>-1){let Z=ie[h.plots[U][ee].type];Z.knowledge_points_per_month!=null&&(h.townInfo.knowledge_points+=Math.round(Z.knowledge_points_per_month/4),V+=Z.knowledge_points_per_month)}return h.resource_rate.knowledge=bt(V/4,0),h}function Y(h,V,U){let ee=V.townInfo.happiness/100;ee>2?ee=2:ee<.75&&(ee=.75),ee<1&&(V=at(`When townspeople are unhappy, they spend less money (and you). (${Math.round(ee*100)}%)`,V,rt.BAD)),He("village_inn",V).length>0&&U=="shop"&&(ee*=1.3);let Z=Math.round(h*V.economyAndLaws.tax_rate*(V.townInfo.population_count/V.townInfo.population_max)*ee*(V.economyAndLaws.enacted.includes("tax_free")?-1:1));return bt(Z,2)}return mr(async()=>{for(;;)localStorage.reset=="true"&&(Dl(),localStorage.setItem("reset","false")),d(),await new Promise(h=>setTimeout(h,o/Ps))}),[d,sl,al,F,ul]}class rp extends be{constructor(e){super(),ge(this,e,ip,null,fe,{mainGameThreadLoop:0,_checkExperiment:1,_fixVariables:2,_bringModifiersBackToNormal:3,_bringStatsBackToNormal:4},null,[-1,-1])}get mainGameThreadLoop(){return this.$$.ctx[0]}get _checkExperiment(){return sl}get _fixVariables(){return al}get _bringModifiersBackToNormal(){return this.$$.ctx[3]}get _bringStatsBackToNormal(){return ul}}function lp(t){return t[t.length-1]}function vn(t){return Object.keys(t).reduce((e,n)=>t[n]===void 0?e:e+`${n}:${t[n]};`,"")}function Lr(t){return t?!0:void 0}vn({position:"absolute",opacity:0,"pointer-events":"none",margin:0,transform:"translateX(-100%)"});function gc(t){if(t!==null)return t}function Ns(t){function e(n){return n(t),()=>{}}return{subscribe:e}}function Fr(t){if(!Xo)return null;const e=document.querySelector(`[data-melt-id="${t}"]`);return Tt(e)?e:null}const Bo=t=>new Proxy(t,{get(e,n,o){return Reflect.get(e,n,o)},ownKeys(e){return Reflect.ownKeys(e).filter(n=>n!=="action")}}),Es=t=>typeof t=="function";ht("empty");function ht(t,e){const{stores:n,action:o,returned:i}=e??{},r=(()=>{if(n&&i)return cn(n,a=>{const s=i(a);if(Es(s)){const u=(...f)=>Bo({...s(...f),[`data-melt-${t}`]:"",action:o??Ze});return u.action=o??Ze,u}return Bo({...s,[`data-melt-${t}`]:"",action:o??Ze})});{const a=i,s=a==null?void 0:a();if(Es(s)){const u=(...f)=>Bo({...s(...f),[`data-melt-${t}`]:"",action:o??Ze});return u.action=o??Ze,Ns(u)}return Ns(Bo({...s,[`data-melt-${t}`]:"",action:o??Ze}))}})(),l=o??(()=>{});return l.subscribe=r.subscribe,l}function $s(t,e){const{stores:n,returned:o,action:i}=e,{subscribe:r}=cn(n,a=>o(a).map(s=>Bo({...s,[`data-melt-${t}`]:"",action:i??Ze}))),l=i??(()=>{});return l.subscribe=r,l}function gr(t){const e=r=>r?`${t}-${r}`:t,n=r=>`data-melt-${t}${r?`-${r}`:""}`,o=r=>`[data-melt-${t}${r?`-${r}`:""}]`;return{name:e,attribute:n,selector:o,getEl:r=>document.querySelector(o(r))}}const Xo=typeof document<"u",bc=t=>typeof t=="function";function sp(t){return t instanceof Document}function br(t){return t instanceof Element}function Tt(t){return t instanceof HTMLElement}function Rs(t){return t.pointerType==="touch"}function ap(t){return t!==null&&typeof t=="object"}function up(t){return ap(t)&&"subscribe"in t}function Kt(...t){return(...e)=>{for(const n of t)typeof n=="function"&&n(...e)}}function Ze(){}function vt(t,e,n,o){const i=Array.isArray(e)?e:[e];return i.forEach(r=>t.addEventListener(r,n,o)),()=>{i.forEach(r=>t.removeEventListener(r,n,o))}}function At(t,e,n,o){const i=Array.isArray(e)?e:[e];if(typeof n=="function"){const r=cp(l=>n(l));return i.forEach(l=>t.addEventListener(l,r,o)),()=>{i.forEach(l=>t.removeEventListener(l,r,o))}}return()=>void 0}function fp(t){const e=t.currentTarget;if(!Tt(e))return null;const n=new CustomEvent(`m-${t.type}`,{detail:{originalEvent:t},cancelable:!0});return e.dispatchEvent(n),n}function cp(t){return e=>{const n=fp(e);if(!(n!=null&&n.defaultPrevented))return t(e)}}function vr(t,...e){const n={};for(const o of Object.keys(t))e.includes(o)||(n[o]=t[o]);return n}function ln(t){return{...t,get:()=>zf(t)}}ln.writable=function(t){const e=Ye(t);let n=t;return{subscribe:e.subscribe,set(o){e.set(o),n=o},update(o){const i=o(n);e.set(i),n=i},get(){return n}}};ln.derived=function(t,e){const n=new Map,o=()=>{const r=Array.isArray(t)?t.map(l=>l.get()):t.get();return e(r)};return{get:o,subscribe:r=>{const l=[];return(Array.isArray(t)?t:[t]).forEach(s=>{l.push(s.subscribe(()=>{r(o())}))}),r(o()),n.set(r,l),()=>{const s=n.get(r);if(s)for(const u of s)u();n.delete(r)}}}};const yr=(t,e)=>{const n=ln(t),o=(r,l)=>{n.update(a=>{const s=r(a);let u=s;return e&&(u=e({curr:a,next:s})),l==null||l(u),u})};return{...n,update:o,set:r=>{o(()=>r)}}};function Fl(t){return new Promise(e=>setTimeout(e,t))}let dp="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",mp=(t=21)=>{let e="",n=t;for(;n--;)e+=dp[Math.random()*64|0];return e};function pp(){return mp(10)}function Bl(t){return t.reduce((e,n)=>(e[n]=pp(),e),{})}const ut={ALT:"Alt",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",CAPS_LOCK:"CapsLock",CONTROL:"Control",DELETE:"Delete",END:"End",ENTER:"Enter",ESCAPE:"Escape",F1:"F1",F10:"F10",F11:"F11",F12:"F12",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",HOME:"Home",META:"Meta",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp",SHIFT:"Shift",SPACE:" ",TAB:"Tab",CTRL:"Control",ASTERISK:"*",A:"a",P:"p"},vc=()=>typeof window<"u";function hp(){const t=navigator.userAgentData;return(t==null?void 0:t.platform)??navigator.platform}const yc=t=>vc()&&t.test(hp().toLowerCase()),_p=()=>vc()&&!!navigator.maxTouchPoints,gp=()=>yc(/^mac/)&&!_p(),bp=()=>yc(/mac|iphone|ipad|ipod/i),vp=()=>bp()&&!gp();function yp(t){const e=t.slice();return e.sort(kp),wp(e)}function wp(t){if(t.length<=1)return t.slice();const e=[];for(let o=0;o<t.length;o++){const i=t[o];for(;e.length>=2;){const r=e[e.length-1],l=e[e.length-2];if((r.x-l.x)*(i.y-l.y)>=(r.y-l.y)*(i.x-l.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let o=t.length-1;o>=0;o--){const i=t[o];for(;n.length>=2;){const r=n[n.length-1],l=n[n.length-2];if((r.x-l.x)*(i.y-l.y)>=(r.y-l.y)*(i.x-l.x))n.pop();else break}n.push(i)}return n.pop(),e.length==1&&n.length==1&&e[0].x==n[0].x&&e[0].y==n[0].y?e:e.concat(n)}function kp(t,e){return t.x<e.x?-1:t.x>e.x?1:t.y<e.y?-1:t.y>e.y?1:0}function Cp(t){const e=t.getBoundingClientRect();return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.right,y:e.bottom},{x:e.left,y:e.bottom}]}function Ap(t){const e=t.flatMap(n=>Cp(n));return yp(e)}function Sp(t,e){let n=!1;for(let o=0,i=e.length-1;o<e.length;i=o++){const r=e[o].x,l=e[o].y,a=e[i].x,s=e[i].y;l>t.y!=s>t.y&&t.x<(a-r)*(t.y-l)/(s-l)+r&&(n=!n)}return n}const Br="data-melt-scroll-lock";function Ds(t,e){if(!t)return;const n=t.style.cssText;return Object.assign(t.style,e),()=>{t.style.cssText=n}}function Tp(t,e,n){if(!t)return;const o=t.style.getPropertyValue(e);return t.style.setProperty(e,n),()=>{o?t.style.setProperty(e,o):t.style.removeProperty(e)}}function Mp(t){const e=t.getBoundingClientRect().left;return Math.round(e)+t.scrollLeft?"paddingLeft":"paddingRight"}function Ip(t){const e=document,n=e.defaultView??window,{documentElement:o,body:i}=e;if(i.hasAttribute(Br))return Ze;i.setAttribute(Br,"");const l=n.innerWidth-o.clientWidth,a=()=>Tp(o,"--scrollbar-width",`${l}px`),s=Mp(o),u=n.getComputedStyle(i)[s],f=()=>Ds(i,{overflow:"hidden",[s]:`calc(${u} + ${l}px)`}),c=()=>{const{scrollX:m,scrollY:p,visualViewport:_}=n,b=(_==null?void 0:_.offsetLeft)??0,k=(_==null?void 0:_.offsetTop)??0,C=Ds(i,{position:"fixed",overflow:"hidden",top:`${-(p-Math.floor(k))}px`,left:`${-(m-Math.floor(b))}px`,right:"0",[s]:`calc(${u} + ${l}px)`});return()=>{C==null||C(),n.scrollTo(m,p)}},d=[a(),vp()?c():f()];return()=>{d.forEach(m=>m==null?void 0:m()),i.removeAttribute(Br)}}const Op=t=>{try{Qd(t)}catch{return t}};function $t(t,e){let n;const o=cn(t,r=>{n==null||n(),n=e(r)}).subscribe(Ze),i=()=>{o(),n==null||n()};return Op(i),i}function Bn(t){const e={};return Object.keys(t).forEach(n=>{const o=n,i=t[o];e[o]=ln(Ye(i))}),e}function Pp(t){let e=t.parentElement;for(;Tt(e)&&!e.hasAttribute("data-portal");)e=e.parentElement;return e||"body"}function wc(t,e){return e!==void 0?e:Pp(t)==="body"?document.body:null}async function Ls(t){const{prop:e,defaultEl:n}=t;if(await Promise.all([Fl(1),Nl]),e===void 0){n==null||n.focus();return}const o=bc(e)?e(n):e;if(typeof o=="string"){const i=document.querySelector(o);if(!Tt(i))return;i.focus()}else Tt(o)&&o.focus()}function jr(t,e,n,o){const i=(t-(isNaN(e)?0:e))%o;let r=Math.abs(i)*2>=o?t+Math.sign(i)*(o-Math.abs(i)):t-i;isNaN(e)?!isNaN(n)&&r>n&&(r=Math.floor(n/o)*o):r<e?r=e:!isNaN(n)&&r>n&&(r=e+Math.floor((n-e)/o)*o);const l=o.toString(),a=l.indexOf("."),s=a>=0?l.length-a:0;if(s>0){const u=Math.pow(10,s);r=Math.round(r*u)/u}return r}Dn(void 0,t=>{function e(o){t(o),t(void 0)}return vt(document,"pointerup",e,{passive:!1,capture:!0})});const Np=Dn(void 0,t=>{function e(o){o&&o.key===ut.ESCAPE&&t(o),t(void 0)}return vt(document,"keydown",e,{passive:!1})}),Fs=(t,e={})=>{let n=Ze;function o(i={}){n();const r={enabled:!0,...i},l=up(r.enabled)?r.enabled:Dn(r.enabled);n=Kt(Np.subscribe(a=>{var u;if(!a||!zf(l))return;const s=a.target;if(!(!Tt(s)||s.closest("[data-escapee]")!==t)){if(a.preventDefault(),r.ignore){if(bc(r.ignore)){if(r.ignore(a))return}else if(Array.isArray(r.ignore)&&r.ignore.length>0&&r.ignore.some(f=>f&&s===f))return}(u=r.handler)==null||u.call(r,a)}}),$t(l,a=>{a?t.dataset.escapee="":delete t.dataset.escapee}))}return o(e),{update:o,destroy(){t.removeAttribute("data-escapee"),n()}}},wn=Math.min,Ot=Math.max,Ki=Math.round,vi=Math.floor,kn=t=>({x:t,y:t}),Ep={left:"right",right:"left",bottom:"top",top:"bottom"},$p={start:"end",end:"start"};function fl(t,e,n){return Ot(t,wn(e,n))}function Co(t,e){return typeof t=="function"?t(e):t}function Cn(t){return t.split("-")[0]}function Ao(t){return t.split("-")[1]}function kc(t){return t==="x"?"y":"x"}function jl(t){return t==="y"?"height":"width"}function ti(t){return["top","bottom"].includes(Cn(t))?"y":"x"}function ql(t){return kc(ti(t))}function Rp(t,e,n){n===void 0&&(n=!1);const o=Ao(t),i=ql(t),r=jl(i);let l=i==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return e.reference[r]>e.floating[r]&&(l=Xi(l)),[l,Xi(l)]}function Dp(t){const e=Xi(t);return[cl(t),e,cl(e)]}function cl(t){return t.replace(/start|end/g,e=>$p[e])}function Lp(t,e,n){const o=["left","right"],i=["right","left"],r=["top","bottom"],l=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:o:e?o:i;case"left":case"right":return e?r:l;default:return[]}}function Fp(t,e,n,o){const i=Ao(t);let r=Lp(Cn(t),n==="start",o);return i&&(r=r.map(l=>l+"-"+i),e&&(r=r.concat(r.map(cl)))),r}function Xi(t){return t.replace(/left|right|bottom|top/g,e=>Ep[e])}function Bp(t){return{top:0,right:0,bottom:0,left:0,...t}}function Cc(t){return typeof t!="number"?Bp(t):{top:t,right:t,bottom:t,left:t}}function Ji(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function Bs(t,e,n){let{reference:o,floating:i}=t;const r=ti(e),l=ql(e),a=jl(l),s=Cn(e),u=r==="y",f=o.x+o.width/2-i.width/2,c=o.y+o.height/2-i.height/2,d=o[a]/2-i[a]/2;let m;switch(s){case"top":m={x:f,y:o.y-i.height};break;case"bottom":m={x:f,y:o.y+o.height};break;case"right":m={x:o.x+o.width,y:c};break;case"left":m={x:o.x-i.width,y:c};break;default:m={x:o.x,y:o.y}}switch(Ao(e)){case"start":m[l]-=d*(n&&u?-1:1);break;case"end":m[l]+=d*(n&&u?-1:1);break}return m}const jp=async(t,e,n)=>{const{placement:o="bottom",strategy:i="absolute",middleware:r=[],platform:l}=n,a=r.filter(Boolean),s=await(l.isRTL==null?void 0:l.isRTL(e));let u=await l.getElementRects({reference:t,floating:e,strategy:i}),{x:f,y:c}=Bs(u,o,s),d=o,m={},p=0;for(let _=0;_<a.length;_++){const{name:b,fn:k}=a[_],{x:C,y:w,data:R,reset:L}=await k({x:f,y:c,initialPlacement:o,placement:d,strategy:i,middlewareData:m,rects:u,platform:l,elements:{reference:t,floating:e}});f=C??f,c=w??c,m={...m,[b]:{...m[b],...R}},L&&p<=50&&(p++,typeof L=="object"&&(L.placement&&(d=L.placement),L.rects&&(u=L.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:i}):L.rects),{x:f,y:c}=Bs(u,d,s)),_=-1)}return{x:f,y:c,placement:d,strategy:i,middlewareData:m}};async function Gl(t,e){var n;e===void 0&&(e={});const{x:o,y:i,platform:r,rects:l,elements:a,strategy:s}=t,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:c="floating",altBoundary:d=!1,padding:m=0}=Co(e,t),p=Cc(m),b=a[d?c==="floating"?"reference":"floating":c],k=Ji(await r.getClippingRect({element:(n=await(r.isElement==null?void 0:r.isElement(b)))==null||n?b:b.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(a.floating)),boundary:u,rootBoundary:f,strategy:s})),C=c==="floating"?{...l.floating,x:o,y:i}:l.reference,w=await(r.getOffsetParent==null?void 0:r.getOffsetParent(a.floating)),R=await(r.isElement==null?void 0:r.isElement(w))?await(r.getScale==null?void 0:r.getScale(w))||{x:1,y:1}:{x:1,y:1},L=Ji(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:C,offsetParent:w,strategy:s}):C);return{top:(k.top-L.top+p.top)/R.y,bottom:(L.bottom-k.bottom+p.bottom)/R.y,left:(k.left-L.left+p.left)/R.x,right:(L.right-k.right+p.right)/R.x}}const qp=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:o,placement:i,rects:r,platform:l,elements:a,middlewareData:s}=e,{element:u,padding:f=0}=Co(t,e)||{};if(u==null)return{};const c=Cc(f),d={x:n,y:o},m=ql(i),p=jl(m),_=await l.getDimensions(u),b=m==="y",k=b?"top":"left",C=b?"bottom":"right",w=b?"clientHeight":"clientWidth",R=r.reference[p]+r.reference[m]-d[m]-r.floating[p],L=d[m]-r.reference[m],D=await(l.getOffsetParent==null?void 0:l.getOffsetParent(u));let E=D?D[w]:0;(!E||!await(l.isElement==null?void 0:l.isElement(D)))&&(E=a.floating[w]||r.floating[p]);const G=R/2-L/2,$=E/2-_[p]/2-1,W=wn(c[k],$),y=wn(c[C],$),v=W,O=E-_[p]-y,P=E/2-_[p]/2+G,H=fl(v,P,O),F=!s.arrow&&Ao(i)!=null&&P!==H&&r.reference[p]/2-(P<v?W:y)-_[p]/2<0,Q=F?P<v?P-v:P-O:0;return{[m]:d[m]+Q,data:{[m]:H,centerOffset:P-H-Q,...F&&{alignmentOffset:Q}},reset:F}}}),Gp=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,o;const{placement:i,middlewareData:r,rects:l,initialPlacement:a,platform:s,elements:u}=e,{mainAxis:f=!0,crossAxis:c=!0,fallbackPlacements:d,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:_=!0,...b}=Co(t,e);if((n=r.arrow)!=null&&n.alignmentOffset)return{};const k=Cn(i),C=Cn(a)===a,w=await(s.isRTL==null?void 0:s.isRTL(u.floating)),R=d||(C||!_?[Xi(a)]:Dp(a));!d&&p!=="none"&&R.push(...Fp(a,_,p,w));const L=[a,...R],D=await Gl(e,b),E=[];let G=((o=r.flip)==null?void 0:o.overflows)||[];if(f&&E.push(D[k]),c){const v=Rp(i,l,w);E.push(D[v[0]],D[v[1]])}if(G=[...G,{placement:i,overflows:E}],!E.every(v=>v<=0)){var $,W;const v=((($=r.flip)==null?void 0:$.index)||0)+1,O=L[v];if(O)return{data:{index:v,overflows:G},reset:{placement:O}};let P=(W=G.filter(H=>H.overflows[0]<=0).sort((H,F)=>H.overflows[1]-F.overflows[1])[0])==null?void 0:W.placement;if(!P)switch(m){case"bestFit":{var y;const H=(y=G.map(F=>[F.placement,F.overflows.filter(Q=>Q>0).reduce((Q,ne)=>Q+ne,0)]).sort((F,Q)=>F[1]-Q[1])[0])==null?void 0:y[0];H&&(P=H);break}case"initialPlacement":P=a;break}if(i!==P)return{reset:{placement:P}}}return{}}}};async function Vp(t,e){const{placement:n,platform:o,elements:i}=t,r=await(o.isRTL==null?void 0:o.isRTL(i.floating)),l=Cn(n),a=Ao(n),s=ti(n)==="y",u=["left","top"].includes(l)?-1:1,f=r&&s?-1:1,c=Co(e,t);let{mainAxis:d,crossAxis:m,alignmentAxis:p}=typeof c=="number"?{mainAxis:c,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...c};return a&&typeof p=="number"&&(m=a==="end"?p*-1:p),s?{x:m*f,y:d*u}:{x:d*u,y:m*f}}const Hp=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,o;const{x:i,y:r,placement:l,middlewareData:a}=e,s=await Vp(e,t);return l===((n=a.offset)==null?void 0:n.placement)&&(o=a.arrow)!=null&&o.alignmentOffset?{}:{x:i+s.x,y:r+s.y,data:{...s,placement:l}}}}},Wp=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:o,placement:i}=e,{mainAxis:r=!0,crossAxis:l=!1,limiter:a={fn:b=>{let{x:k,y:C}=b;return{x:k,y:C}}},...s}=Co(t,e),u={x:n,y:o},f=await Gl(e,s),c=ti(Cn(i)),d=kc(c);let m=u[d],p=u[c];if(r){const b=d==="y"?"top":"left",k=d==="y"?"bottom":"right",C=m+f[b],w=m-f[k];m=fl(C,m,w)}if(l){const b=c==="y"?"top":"left",k=c==="y"?"bottom":"right",C=p+f[b],w=p-f[k];p=fl(C,p,w)}const _=a.fn({...e,[d]:m,[c]:p});return{..._,data:{x:_.x-n,y:_.y-o}}}}},Yp=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){const{placement:n,rects:o,platform:i,elements:r}=e,{apply:l=()=>{},...a}=Co(t,e),s=await Gl(e,a),u=Cn(n),f=Ao(n),c=ti(n)==="y",{width:d,height:m}=o.floating;let p,_;u==="top"||u==="bottom"?(p=u,_=f===(await(i.isRTL==null?void 0:i.isRTL(r.floating))?"start":"end")?"left":"right"):(_=u,p=f==="end"?"top":"bottom");const b=m-s[p],k=d-s[_],C=!e.middlewareData.shift;let w=b,R=k;if(c){const D=d-s.left-s.right;R=f||C?wn(k,D):D}else{const D=m-s.top-s.bottom;w=f||C?wn(b,D):D}if(C&&!f){const D=Ot(s.left,0),E=Ot(s.right,0),G=Ot(s.top,0),$=Ot(s.bottom,0);c?R=d-2*(D!==0||E!==0?D+E:Ot(s.left,s.right)):w=m-2*(G!==0||$!==0?G+$:Ot(s.top,s.bottom))}await l({...e,availableWidth:R,availableHeight:w});const L=await i.getDimensions(r.floating);return d!==L.width||m!==L.height?{reset:{rects:!0}}:{}}}};function An(t){return Ac(t)?(t.nodeName||"").toLowerCase():"#document"}function Nt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function dn(t){var e;return(e=(Ac(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Ac(t){return t instanceof Node||t instanceof Nt(t).Node}function an(t){return t instanceof Element||t instanceof Nt(t).Element}function Zt(t){return t instanceof HTMLElement||t instanceof Nt(t).HTMLElement}function js(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Nt(t).ShadowRoot}function ni(t){const{overflow:e,overflowX:n,overflowY:o,display:i}=Dt(t);return/auto|scroll|overlay|hidden|clip/.test(e+o+n)&&!["inline","contents"].includes(i)}function Up(t){return["table","td","th"].includes(An(t))}function Vl(t){const e=Hl(),n=Dt(t);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(o=>(n.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(n.contain||"").includes(o))}function Kp(t){let e=go(t);for(;Zt(e)&&!wr(e);){if(Vl(e))return e;e=go(e)}return null}function Hl(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function wr(t){return["html","body","#document"].includes(An(t))}function Dt(t){return Nt(t).getComputedStyle(t)}function kr(t){return an(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function go(t){if(An(t)==="html")return t;const e=t.assignedSlot||t.parentNode||js(t)&&t.host||dn(t);return js(e)?e.host:e}function Sc(t){const e=go(t);return wr(e)?t.ownerDocument?t.ownerDocument.body:t.body:Zt(e)&&ni(e)?e:Sc(e)}function Jo(t,e,n){var o;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=Sc(t),r=i===((o=t.ownerDocument)==null?void 0:o.body),l=Nt(i);return r?e.concat(l,l.visualViewport||[],ni(i)?i:[],l.frameElement&&n?Jo(l.frameElement):[]):e.concat(i,Jo(i,[],n))}function Tc(t){const e=Dt(t);let n=parseFloat(e.width)||0,o=parseFloat(e.height)||0;const i=Zt(t),r=i?t.offsetWidth:n,l=i?t.offsetHeight:o,a=Ki(n)!==r||Ki(o)!==l;return a&&(n=r,o=l),{width:n,height:o,$:a}}function Wl(t){return an(t)?t:t.contextElement}function mo(t){const e=Wl(t);if(!Zt(e))return kn(1);const n=e.getBoundingClientRect(),{width:o,height:i,$:r}=Tc(e);let l=(r?Ki(n.width):n.width)/o,a=(r?Ki(n.height):n.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!a||!Number.isFinite(a))&&(a=1),{x:l,y:a}}const Xp=kn(0);function Mc(t){const e=Nt(t);return!Hl()||!e.visualViewport?Xp:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Jp(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Nt(t)?!1:e}function jn(t,e,n,o){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),r=Wl(t);let l=kn(1);e&&(o?an(o)&&(l=mo(o)):l=mo(t));const a=Jp(r,n,o)?Mc(r):kn(0);let s=(i.left+a.x)/l.x,u=(i.top+a.y)/l.y,f=i.width/l.x,c=i.height/l.y;if(r){const d=Nt(r),m=o&&an(o)?Nt(o):o;let p=d,_=p.frameElement;for(;_&&o&&m!==p;){const b=mo(_),k=_.getBoundingClientRect(),C=Dt(_),w=k.left+(_.clientLeft+parseFloat(C.paddingLeft))*b.x,R=k.top+(_.clientTop+parseFloat(C.paddingTop))*b.y;s*=b.x,u*=b.y,f*=b.x,c*=b.y,s+=w,u+=R,p=Nt(_),_=p.frameElement}}return Ji({width:f,height:c,x:s,y:u})}const xp=[":popover-open",":modal"];function Ic(t){return xp.some(e=>{try{return t.matches(e)}catch{return!1}})}function Zp(t){let{elements:e,rect:n,offsetParent:o,strategy:i}=t;const r=i==="fixed",l=dn(o),a=e?Ic(e.floating):!1;if(o===l||a&&r)return n;let s={scrollLeft:0,scrollTop:0},u=kn(1);const f=kn(0),c=Zt(o);if((c||!c&&!r)&&((An(o)!=="body"||ni(l))&&(s=kr(o)),Zt(o))){const d=jn(o);u=mo(o),f.x=d.x+o.clientLeft,f.y=d.y+o.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-s.scrollLeft*u.x+f.x,y:n.y*u.y-s.scrollTop*u.y+f.y}}function Qp(t){return Array.from(t.getClientRects())}function Oc(t){return jn(dn(t)).left+kr(t).scrollLeft}function zp(t){const e=dn(t),n=kr(t),o=t.ownerDocument.body,i=Ot(e.scrollWidth,e.clientWidth,o.scrollWidth,o.clientWidth),r=Ot(e.scrollHeight,e.clientHeight,o.scrollHeight,o.clientHeight);let l=-n.scrollLeft+Oc(t);const a=-n.scrollTop;return Dt(o).direction==="rtl"&&(l+=Ot(e.clientWidth,o.clientWidth)-i),{width:i,height:r,x:l,y:a}}function eh(t,e){const n=Nt(t),o=dn(t),i=n.visualViewport;let r=o.clientWidth,l=o.clientHeight,a=0,s=0;if(i){r=i.width,l=i.height;const u=Hl();(!u||u&&e==="fixed")&&(a=i.offsetLeft,s=i.offsetTop)}return{width:r,height:l,x:a,y:s}}function th(t,e){const n=jn(t,!0,e==="fixed"),o=n.top+t.clientTop,i=n.left+t.clientLeft,r=Zt(t)?mo(t):kn(1),l=t.clientWidth*r.x,a=t.clientHeight*r.y,s=i*r.x,u=o*r.y;return{width:l,height:a,x:s,y:u}}function qs(t,e,n){let o;if(e==="viewport")o=eh(t,n);else if(e==="document")o=zp(dn(t));else if(an(e))o=th(e,n);else{const i=Mc(t);o={...e,x:e.x-i.x,y:e.y-i.y}}return Ji(o)}function Pc(t,e){const n=go(t);return n===e||!an(n)||wr(n)?!1:Dt(n).position==="fixed"||Pc(n,e)}function nh(t,e){const n=e.get(t);if(n)return n;let o=Jo(t,[],!1).filter(a=>an(a)&&An(a)!=="body"),i=null;const r=Dt(t).position==="fixed";let l=r?go(t):t;for(;an(l)&&!wr(l);){const a=Dt(l),s=Vl(l);!s&&a.position==="fixed"&&(i=null),(r?!s&&!i:!s&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||ni(l)&&!s&&Pc(t,l))?o=o.filter(f=>f!==l):i=a,l=go(l)}return e.set(t,o),o}function oh(t){let{element:e,boundary:n,rootBoundary:o,strategy:i}=t;const l=[...n==="clippingAncestors"?nh(e,this._c):[].concat(n),o],a=l[0],s=l.reduce((u,f)=>{const c=qs(e,f,i);return u.top=Ot(c.top,u.top),u.right=wn(c.right,u.right),u.bottom=wn(c.bottom,u.bottom),u.left=Ot(c.left,u.left),u},qs(e,a,i));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}}function ih(t){const{width:e,height:n}=Tc(t);return{width:e,height:n}}function rh(t,e,n){const o=Zt(e),i=dn(e),r=n==="fixed",l=jn(t,!0,r,e);let a={scrollLeft:0,scrollTop:0};const s=kn(0);if(o||!o&&!r)if((An(e)!=="body"||ni(i))&&(a=kr(e)),o){const c=jn(e,!0,r,e);s.x=c.x+e.clientLeft,s.y=c.y+e.clientTop}else i&&(s.x=Oc(i));const u=l.left+a.scrollLeft-s.x,f=l.top+a.scrollTop-s.y;return{x:u,y:f,width:l.width,height:l.height}}function Gs(t,e){return!Zt(t)||Dt(t).position==="fixed"?null:e?e(t):t.offsetParent}function Nc(t,e){const n=Nt(t);if(!Zt(t)||Ic(t))return n;let o=Gs(t,e);for(;o&&Up(o)&&Dt(o).position==="static";)o=Gs(o,e);return o&&(An(o)==="html"||An(o)==="body"&&Dt(o).position==="static"&&!Vl(o))?n:o||Kp(t)||n}const lh=async function(t){const e=this.getOffsetParent||Nc,n=this.getDimensions;return{reference:rh(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,...await n(t.floating)}}};function sh(t){return Dt(t).direction==="rtl"}const ah={convertOffsetParentRelativeRectToViewportRelativeRect:Zp,getDocumentElement:dn,getClippingRect:oh,getOffsetParent:Nc,getElementRects:lh,getClientRects:Qp,getDimensions:ih,getScale:mo,isElement:an,isRTL:sh};function uh(t,e){let n=null,o;const i=dn(t);function r(){var a;clearTimeout(o),(a=n)==null||a.disconnect(),n=null}function l(a,s){a===void 0&&(a=!1),s===void 0&&(s=1),r();const{left:u,top:f,width:c,height:d}=t.getBoundingClientRect();if(a||e(),!c||!d)return;const m=vi(f),p=vi(i.clientWidth-(u+c)),_=vi(i.clientHeight-(f+d)),b=vi(u),C={rootMargin:-m+"px "+-p+"px "+-_+"px "+-b+"px",threshold:Ot(0,wn(1,s))||1};let w=!0;function R(L){const D=L[0].intersectionRatio;if(D!==s){if(!w)return l();D?l(!1,D):o=setTimeout(()=>{l(!1,1e-7)},100)}w=!1}try{n=new IntersectionObserver(R,{...C,root:i.ownerDocument})}catch{n=new IntersectionObserver(R,C)}n.observe(t)}return l(!0),r}function fh(t,e,n,o){o===void 0&&(o={});const{ancestorScroll:i=!0,ancestorResize:r=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:s=!1}=o,u=Wl(t),f=i||r?[...u?Jo(u):[],...Jo(e)]:[];f.forEach(k=>{i&&k.addEventListener("scroll",n,{passive:!0}),r&&k.addEventListener("resize",n)});const c=u&&a?uh(u,n):null;let d=-1,m=null;l&&(m=new ResizeObserver(k=>{let[C]=k;C&&C.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(e)})),n()}),u&&!s&&m.observe(u),m.observe(e));let p,_=s?jn(t):null;s&&b();function b(){const k=jn(t);_&&(k.x!==_.x||k.y!==_.y||k.width!==_.width||k.height!==_.height)&&n(),_=k,p=requestAnimationFrame(b)}return n(),()=>{var k;f.forEach(C=>{i&&C.removeEventListener("scroll",n),r&&C.removeEventListener("resize",n)}),c==null||c(),(k=m)==null||k.disconnect(),m=null,s&&cancelAnimationFrame(p)}}const ch=Wp,dh=Gp,mh=Yp,ph=qp,hh=(t,e,n)=>{const o=new Map,i={platform:ah,...n},r={...i.platform,_c:o};return jp(t,e,{...i,platform:r})},_h={strategy:"absolute",placement:"top",gutter:5,flip:!0,sameWidth:!1,overflowPadding:8},gh={bottom:"rotate(45deg)",left:"rotate(135deg)",top:"rotate(225deg)",right:"rotate(315deg)"};function bh(t,e,n={}){if(!e||!t||n===null)return{destroy:Ze};const o={..._h,...n},i=e.querySelector("[data-arrow=true]"),r=[];o.flip&&r.push(dh({boundary:o.boundary,padding:o.overflowPadding}));const l=Tt(i)?i.offsetHeight/2:0;if(o.gutter||o.offset){const s=o.gutter?{mainAxis:o.gutter}:o.offset;(s==null?void 0:s.mainAxis)!=null&&(s.mainAxis+=l),r.push(Hp(s))}r.push(ch({boundary:o.boundary,crossAxis:o.overlap,padding:o.overflowPadding})),i&&r.push(ph({element:i,padding:8})),r.push(mh({padding:o.overflowPadding,apply({rects:s,availableHeight:u,availableWidth:f}){o.sameWidth&&Object.assign(e.style,{width:`${Math.round(s.reference.width)}px`,minWidth:"unset"}),o.fitViewport&&Object.assign(e.style,{maxWidth:`${f}px`,maxHeight:`${u}px`})}}));function a(){if(!t||!e)return;const{placement:s,strategy:u}=o;hh(t,e,{placement:s,middleware:r,strategy:u}).then(f=>{const c=Math.round(f.x),d=Math.round(f.y);if(Object.assign(e.style,{position:o.strategy,top:`${d}px`,left:`${c}px`}),Tt(i)&&f.middlewareData.arrow){const{x:m,y:p}=f.middlewareData.arrow,_=f.placement.split("-")[0];Object.assign(i.style,{position:"absolute",left:m!=null?`${m}px`:"",top:p!=null?`${p}px`:"",[_]:`calc(100% - ${l}px)`,transform:gh[_],backgroundColor:"inherit",zIndex:"inherit"})}return f})}return Object.assign(e.style,{position:o.strategy}),{destroy:fh(t,e,a)}}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Ec=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],xi=Ec.join(","),$c=typeof Element>"u",qn=$c?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Zi=!$c&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},Qi=function t(e,n){var o;n===void 0&&(n=!0);var i=e==null||(o=e.getAttribute)===null||o===void 0?void 0:o.call(e,"inert"),r=i===""||i==="true",l=r||n&&e&&t(e.parentNode);return l},vh=function(e){var n,o=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"contenteditable");return o===""||o==="true"},Rc=function(e,n,o){if(Qi(e))return[];var i=Array.prototype.slice.apply(e.querySelectorAll(xi));return n&&qn.call(e,xi)&&i.unshift(e),i=i.filter(o),i},Dc=function t(e,n,o){for(var i=[],r=Array.from(e);r.length;){var l=r.shift();if(!Qi(l,!1))if(l.tagName==="SLOT"){var a=l.assignedElements(),s=a.length?a:l.children,u=t(s,!0,o);o.flatten?i.push.apply(i,u):i.push({scopeParent:l,candidates:u})}else{var f=qn.call(l,xi);f&&o.filter(l)&&(n||!e.includes(l))&&i.push(l);var c=l.shadowRoot||typeof o.getShadowRoot=="function"&&o.getShadowRoot(l),d=!Qi(c,!1)&&(!o.shadowRootFilter||o.shadowRootFilter(l));if(c&&d){var m=t(c===!0?l.children:c.children,!0,o);o.flatten?i.push.apply(i,m):i.push({scopeParent:l,candidates:m})}else r.unshift.apply(r,l.children)}}return i},Lc=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},Nn=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||vh(e))&&!Lc(e)?0:e.tabIndex},yh=function(e,n){var o=Nn(e);return o<0&&n&&!Lc(e)?0:o},wh=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},Fc=function(e){return e.tagName==="INPUT"},kh=function(e){return Fc(e)&&e.type==="hidden"},Ch=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(o){return o.tagName==="SUMMARY"});return n},Ah=function(e,n){for(var o=0;o<e.length;o++)if(e[o].checked&&e[o].form===n)return e[o]},Sh=function(e){if(!e.name)return!0;var n=e.form||Zi(e),o=function(a){return n.querySelectorAll('input[type="radio"][name="'+a+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=o(window.CSS.escape(e.name));else try{i=o(e.name)}catch(l){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",l.message),!1}var r=Ah(i,e.form);return!r||r===e},Th=function(e){return Fc(e)&&e.type==="radio"},Mh=function(e){return Th(e)&&!Sh(e)},Ih=function(e){var n,o=e&&Zi(e),i=(n=o)===null||n===void 0?void 0:n.host,r=!1;if(o&&o!==e){var l,a,s;for(r=!!((l=i)!==null&&l!==void 0&&(a=l.ownerDocument)!==null&&a!==void 0&&a.contains(i)||e!=null&&(s=e.ownerDocument)!==null&&s!==void 0&&s.contains(e));!r&&i;){var u,f,c;o=Zi(i),i=(u=o)===null||u===void 0?void 0:u.host,r=!!((f=i)!==null&&f!==void 0&&(c=f.ownerDocument)!==null&&c!==void 0&&c.contains(i))}}return r},Vs=function(e){var n=e.getBoundingClientRect(),o=n.width,i=n.height;return o===0&&i===0},Oh=function(e,n){var o=n.displayCheck,i=n.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var r=qn.call(e,"details>summary:first-of-type"),l=r?e.parentElement:e;if(qn.call(l,"details:not([open]) *"))return!0;if(!o||o==="full"||o==="legacy-full"){if(typeof i=="function"){for(var a=e;e;){var s=e.parentElement,u=Zi(e);if(s&&!s.shadowRoot&&i(s)===!0)return Vs(e);e.assignedSlot?e=e.assignedSlot:!s&&u!==e.ownerDocument?e=u.host:e=s}e=a}if(Ih(e))return!e.getClientRects().length;if(o!=="legacy-full")return!0}else if(o==="non-zero-area")return Vs(e);return!1},Ph=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var o=0;o<n.children.length;o++){var i=n.children.item(o);if(i.tagName==="LEGEND")return qn.call(n,"fieldset[disabled] *")?!0:!i.contains(e)}return!0}n=n.parentElement}return!1},zi=function(e,n){return!(n.disabled||Qi(n)||kh(n)||Oh(n,e)||Ch(n)||Ph(n))},dl=function(e,n){return!(Mh(n)||Nn(n)<0||!zi(e,n))},Nh=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},Eh=function t(e){var n=[],o=[];return e.forEach(function(i,r){var l=!!i.scopeParent,a=l?i.scopeParent:i,s=yh(a,l),u=l?t(i.candidates):a;s===0?l?n.push.apply(n,u):n.push(a):o.push({documentOrder:r,tabIndex:s,item:i,isScope:l,content:u})}),o.sort(wh).reduce(function(i,r){return r.isScope?i.push.apply(i,r.content):i.push(r.content),i},[]).concat(n)},$h=function(e,n){n=n||{};var o;return n.getShadowRoot?o=Dc([e],n.includeContainer,{filter:dl.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:Nh}):o=Rc(e,n.includeContainer,dl.bind(null,n)),Eh(o)},Rh=function(e,n){n=n||{};var o;return n.getShadowRoot?o=Dc([e],n.includeContainer,{filter:zi.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):o=Rc(e,n.includeContainer,zi.bind(null,n)),o},ro=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return qn.call(e,xi)===!1?!1:dl(n,e)},Dh=Ec.concat("iframe").join(","),qr=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return qn.call(e,Dh)===!1?!1:zi(n,e)};/*!
* focus-trap 7.5.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function Hs(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,o)}return n}function Ws(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Hs(Object(n),!0).forEach(function(o){Lh(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hs(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function Lh(t,e,n){return e=Bh(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fh(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bh(t){var e=Fh(t,"string");return typeof e=="symbol"?e:String(e)}var Ys={activateTrap:function(e,n){if(e.length>0){var o=e[e.length-1];o!==n&&o.pause()}var i=e.indexOf(n);i===-1||e.splice(i,1),e.push(n)},deactivateTrap:function(e,n){var o=e.indexOf(n);o!==-1&&e.splice(o,1),e.length>0&&e[e.length-1].unpause()}},jh=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},qh=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},Yo=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},Gh=function(e){return Yo(e)&&!e.shiftKey},Vh=function(e){return Yo(e)&&e.shiftKey},Us=function(e){return setTimeout(e,0)},Ks=function(e,n){var o=-1;return e.every(function(i,r){return n(i)?(o=r,!1):!0}),o},Do=function(e){for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return typeof e=="function"?e.apply(void 0,o):e},yi=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},Hh=[],Wh=function(e,n){var o=(n==null?void 0:n.document)||document,i=(n==null?void 0:n.trapStack)||Hh,r=Ws({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:Gh,isKeyBackward:Vh},n),l={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},a,s=function(v,O,P){return v&&v[O]!==void 0?v[O]:r[P||O]},u=function(v,O){var P=typeof(O==null?void 0:O.composedPath)=="function"?O.composedPath():void 0;return l.containerGroups.findIndex(function(H){var F=H.container,Q=H.tabbableNodes;return F.contains(v)||(P==null?void 0:P.includes(F))||Q.find(function(ne){return ne===v})})},f=function(v){var O=r[v];if(typeof O=="function"){for(var P=arguments.length,H=new Array(P>1?P-1:0),F=1;F<P;F++)H[F-1]=arguments[F];O=O.apply(void 0,H)}if(O===!0&&(O=void 0),!O){if(O===void 0||O===!1)return O;throw new Error("`".concat(v,"` was specified but was not a node, or did not return a node"))}var Q=O;if(typeof O=="string"&&(Q=o.querySelector(O),!Q))throw new Error("`".concat(v,"` as selector refers to no known node"));return Q},c=function(){var v=f("initialFocus");if(v===!1)return!1;if(v===void 0||!qr(v,r.tabbableOptions))if(u(o.activeElement)>=0)v=o.activeElement;else{var O=l.tabbableGroups[0],P=O&&O.firstTabbableNode;v=P||f("fallbackFocus")}if(!v)throw new Error("Your focus-trap needs to have at least one focusable element");return v},d=function(){if(l.containerGroups=l.containers.map(function(v){var O=$h(v,r.tabbableOptions),P=Rh(v,r.tabbableOptions),H=O.length>0?O[0]:void 0,F=O.length>0?O[O.length-1]:void 0,Q=P.find(function(Y){return ro(Y)}),ne=P.slice().reverse().find(function(Y){return ro(Y)}),z=!!O.find(function(Y){return Nn(Y)>0});return{container:v,tabbableNodes:O,focusableNodes:P,posTabIndexesFound:z,firstTabbableNode:H,lastTabbableNode:F,firstDomTabbableNode:Q,lastDomTabbableNode:ne,nextTabbableNode:function(h){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,U=O.indexOf(h);return U<0?V?P.slice(P.indexOf(h)+1).find(function(ee){return ro(ee)}):P.slice(0,P.indexOf(h)).reverse().find(function(ee){return ro(ee)}):O[U+(V?1:-1)]}}}),l.tabbableGroups=l.containerGroups.filter(function(v){return v.tabbableNodes.length>0}),l.tabbableGroups.length<=0&&!f("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(l.containerGroups.find(function(v){return v.posTabIndexesFound})&&l.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},m=function y(v){var O=v.activeElement;if(O)return O.shadowRoot&&O.shadowRoot.activeElement!==null?y(O.shadowRoot):O},p=function y(v){if(v!==!1&&v!==m(document)){if(!v||!v.focus){y(c());return}v.focus({preventScroll:!!r.preventScroll}),l.mostRecentlyFocusedNode=v,jh(v)&&v.select()}},_=function(v){var O=f("setReturnFocus",v);return O||(O===!1?!1:v)},b=function(v){var O=v.target,P=v.event,H=v.isBackward,F=H===void 0?!1:H;O=O||yi(P),d();var Q=null;if(l.tabbableGroups.length>0){var ne=u(O,P),z=ne>=0?l.containerGroups[ne]:void 0;if(ne<0)F?Q=l.tabbableGroups[l.tabbableGroups.length-1].lastTabbableNode:Q=l.tabbableGroups[0].firstTabbableNode;else if(F){var Y=Ks(l.tabbableGroups,function(we){var _e=we.firstTabbableNode;return O===_e});if(Y<0&&(z.container===O||qr(O,r.tabbableOptions)&&!ro(O,r.tabbableOptions)&&!z.nextTabbableNode(O,!1))&&(Y=ne),Y>=0){var h=Y===0?l.tabbableGroups.length-1:Y-1,V=l.tabbableGroups[h];Q=Nn(O)>=0?V.lastTabbableNode:V.lastDomTabbableNode}else Yo(P)||(Q=z.nextTabbableNode(O,!1))}else{var U=Ks(l.tabbableGroups,function(we){var _e=we.lastTabbableNode;return O===_e});if(U<0&&(z.container===O||qr(O,r.tabbableOptions)&&!ro(O,r.tabbableOptions)&&!z.nextTabbableNode(O))&&(U=ne),U>=0){var ee=U===l.tabbableGroups.length-1?0:U+1,Z=l.tabbableGroups[ee];Q=Nn(O)>=0?Z.firstTabbableNode:Z.firstDomTabbableNode}else Yo(P)||(Q=z.nextTabbableNode(O))}}else Q=f("fallbackFocus");return Q},k=function(v){var O=yi(v);if(!(u(O,v)>=0)){if(Do(r.clickOutsideDeactivates,v)){a.deactivate({returnFocus:r.returnFocusOnDeactivate});return}Do(r.allowOutsideClick,v)||v.preventDefault()}},C=function(v){var O=yi(v),P=u(O,v)>=0;if(P||O instanceof Document)P&&(l.mostRecentlyFocusedNode=O);else{v.stopImmediatePropagation();var H,F=!0;if(l.mostRecentlyFocusedNode)if(Nn(l.mostRecentlyFocusedNode)>0){var Q=u(l.mostRecentlyFocusedNode),ne=l.containerGroups[Q].tabbableNodes;if(ne.length>0){var z=ne.findIndex(function(Y){return Y===l.mostRecentlyFocusedNode});z>=0&&(r.isKeyForward(l.recentNavEvent)?z+1<ne.length&&(H=ne[z+1],F=!1):z-1>=0&&(H=ne[z-1],F=!1))}}else l.containerGroups.some(function(Y){return Y.tabbableNodes.some(function(h){return Nn(h)>0})})||(F=!1);else F=!1;F&&(H=b({target:l.mostRecentlyFocusedNode,isBackward:r.isKeyBackward(l.recentNavEvent)})),p(H||l.mostRecentlyFocusedNode||c())}l.recentNavEvent=void 0},w=function(v){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;l.recentNavEvent=v;var P=b({event:v,isBackward:O});P&&(Yo(v)&&v.preventDefault(),p(P))},R=function(v){if(qh(v)&&Do(r.escapeDeactivates,v)!==!1){v.preventDefault(),a.deactivate();return}(r.isKeyForward(v)||r.isKeyBackward(v))&&w(v,r.isKeyBackward(v))},L=function(v){var O=yi(v);u(O,v)>=0||Do(r.clickOutsideDeactivates,v)||Do(r.allowOutsideClick,v)||(v.preventDefault(),v.stopImmediatePropagation())},D=function(){if(l.active)return Ys.activateTrap(i,a),l.delayInitialFocusTimer=r.delayInitialFocus?Us(function(){p(c())}):p(c()),o.addEventListener("focusin",C,!0),o.addEventListener("mousedown",k,{capture:!0,passive:!1}),o.addEventListener("touchstart",k,{capture:!0,passive:!1}),o.addEventListener("click",L,{capture:!0,passive:!1}),o.addEventListener("keydown",R,{capture:!0,passive:!1}),a},E=function(){if(l.active)return o.removeEventListener("focusin",C,!0),o.removeEventListener("mousedown",k,!0),o.removeEventListener("touchstart",k,!0),o.removeEventListener("click",L,!0),o.removeEventListener("keydown",R,!0),a},G=function(v){var O=v.some(function(P){var H=Array.from(P.removedNodes);return H.some(function(F){return F===l.mostRecentlyFocusedNode})});O&&p(c())},$=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(G):void 0,W=function(){$&&($.disconnect(),l.active&&!l.paused&&l.containers.map(function(v){$.observe(v,{subtree:!0,childList:!0})}))};return a={get active(){return l.active},get paused(){return l.paused},activate:function(v){if(l.active)return this;var O=s(v,"onActivate"),P=s(v,"onPostActivate"),H=s(v,"checkCanFocusTrap");H||d(),l.active=!0,l.paused=!1,l.nodeFocusedBeforeActivation=o.activeElement,O==null||O();var F=function(){H&&d(),D(),W(),P==null||P()};return H?(H(l.containers.concat()).then(F,F),this):(F(),this)},deactivate:function(v){if(!l.active)return this;var O=Ws({onDeactivate:r.onDeactivate,onPostDeactivate:r.onPostDeactivate,checkCanReturnFocus:r.checkCanReturnFocus},v);clearTimeout(l.delayInitialFocusTimer),l.delayInitialFocusTimer=void 0,E(),l.active=!1,l.paused=!1,W(),Ys.deactivateTrap(i,a);var P=s(O,"onDeactivate"),H=s(O,"onPostDeactivate"),F=s(O,"checkCanReturnFocus"),Q=s(O,"returnFocus","returnFocusOnDeactivate");P==null||P();var ne=function(){Us(function(){Q&&p(_(l.nodeFocusedBeforeActivation)),H==null||H()})};return Q&&F?(F(_(l.nodeFocusedBeforeActivation)).then(ne,ne),this):(ne(),this)},pause:function(v){if(l.paused||!l.active)return this;var O=s(v,"onPause"),P=s(v,"onPostPause");return l.paused=!0,O==null||O(),E(),W(),P==null||P(),this},unpause:function(v){if(!l.paused||!l.active)return this;var O=s(v,"onUnpause"),P=s(v,"onPostUnpause");return l.paused=!1,O==null||O(),d(),D(),W(),P==null||P(),this},updateContainerElements:function(v){var O=[].concat(v).filter(Boolean);return l.containers=O.map(function(P){return typeof P=="string"?o.querySelector(P):P}),l.active&&d(),W(),this}},a.updateContainerElements(e),a};function Yh(t={}){let e;const{immediate:n,...o}=t,i=Ye(!1),r=Ye(!1),l=c=>e==null?void 0:e.activate(c),a=c=>{e==null||e.deactivate(c)},s=()=>{e&&(e.pause(),r.set(!0))},u=()=>{e&&(e.unpause(),r.set(!1))};return{useFocusTrap:c=>(e=Wh(c,{...o,onActivate(){var d;i.set(!0),(d=t.onActivate)==null||d.call(t)},onDeactivate(){var d;i.set(!1),(d=t.onDeactivate)==null||d.call(t)}}),n&&l(),{destroy(){a(),e=void 0}}),hasFocus:ks(i),isPaused:ks(r),activate:l,deactivate:a,pause:s,unpause:u}}const wi=[];function Uh(t,e){let n=Ze;function o(){const r=wi.indexOf(t);r>=0&&wi.splice(r,1)}function i(r){n();const{open:l,onClose:a,shouldCloseOnInteractOutside:s,closeOnInteractOutside:u}=r;Fl(100).then(()=>{l?wi.push(t):o()});function f(){return lp(wi)===t}function c(){f()&&a&&(a(),o())}function d(p){const _=p.target;br(_)&&_&&f()&&(p.preventDefault(),p.stopPropagation(),p.stopImmediatePropagation())}function m(p){s!=null&&s(p)&&f()&&(p.preventDefault(),p.stopPropagation(),p.stopImmediatePropagation(),c())}n=Kh(t,{onInteractOutsideStart:d,onInteractOutside:u?m:void 0,enabled:l}).destroy}return i(e),{update:i,destroy(){o(),n()}}}const Bc=(t,e="body")=>{let n;if(!Tt(e)&&typeof e!="string")return{destroy:Ze};async function o(r){if(e=r,typeof e=="string"){if(n=document.querySelector(e),n===null&&(await Nl(),n=document.querySelector(e)),n===null)throw new Error(`No element found matching css selector: "${e}"`)}else if(e instanceof HTMLElement)n=e;else throw new TypeError(`Unknown portal target type: ${e===null?"null":typeof e}. Allowed types: string (CSS selector) or HTMLElement.`);t.dataset.portal="",n.appendChild(t),t.hidden=!1}function i(){t.remove()}return o(e),{update:o,destroy:i}};function Kh(t,e){let n=Ze,o=!1,i=!1,r=!1;function l(u){n();const{onInteractOutside:f,onInteractOutsideStart:c,enabled:d}=u;if(!d)return;function m(b){f&&Xs(b,t)&&(c==null||c(b));const k=b.target;br(k)&&jc(t,k)&&(i=!0),o=!0}function p(b){f==null||f(b)}const _=Xh(t);if(typeof PointerEvent<"u"){const b=k=>{a(k)&&p(k),s()};n=Kt(vt(_,"pointerdown",m,!0),vt(_,"pointerup",b,!0))}else{const b=C=>{r?r=!1:a(C)&&p(C),s()},k=C=>{r=!0,a(C)&&p(C),s()};n=Kt(vt(_,"mousedown",m,!0),vt(_,"mouseup",b,!0),vt(_,"touchstart",m,!0),vt(_,"touchend",k,!0))}}function a(u){return!!(o&&!i&&Xs(u,t))}function s(){o=!1,i=!1}return l(e),{update:l,destroy:n}}function Xs(t,e){if("button"in t&&t.button>0)return!1;const n=t.target;if(!br(n))return!1;const o=n.ownerDocument;return!o||!o.documentElement.contains(n)?!1:e&&!jc(e,n)}function jc(t,e){return t===e||t.contains(e)}function Xh(t){return(t==null?void 0:t.ownerDocument)??document}Dn(!1),Dn(!1),Dn(void 0);function Jh(){return{elements:{root:ht("label",{action:e=>({destroy:At(e,"mousedown",o=>{!o.defaultPrevented&&o.detail>1&&o.preventDefault()})})})}}}const{name:On}=gr("dialog"),xh={preventScroll:!0,closeOnEscape:!0,closeOnOutsideClick:!0,role:"dialog",defaultOpen:!1,portal:void 0,forceVisible:!1,openFocus:void 0,closeFocus:void 0,onOutsideClick:void 0},Zh=["content","title","description"];function qc(t){const e={...xh,...t},n=Bn(vr(e,"ids")),{preventScroll:o,closeOnEscape:i,closeOnOutsideClick:r,role:l,portal:a,forceVisible:s,openFocus:u,closeFocus:f,onOutsideClick:c}=n,d=ln.writable(null),m=Bn({...Bl(Zh),...e.ids}),p=e.open??Ye(e.defaultOpen),_=yr(p,e==null?void 0:e.onOpenChange),b=cn([_,s],([y,v])=>y||v);let k=Ze;function C(y){const v=y.currentTarget,O=y.currentTarget;!Tt(v)||!Tt(O)||(_.set(!0),d.set(O))}function w(){_.set(!1),Ls({prop:f.get(),defaultEl:d.get()})}const R=ht(On("trigger"),{stores:[_],returned:([y])=>({"aria-haspopup":"dialog","aria-expanded":y,type:"button"}),action:y=>({destroy:Kt(At(y,"click",O=>{C(O)}),At(y,"keydown",O=>{O.key!==ut.ENTER&&O.key!==ut.SPACE||(O.preventDefault(),C(O))}))})}),L=ht(On("overlay"),{stores:[b,_],returned:([y,v])=>({hidden:y?void 0:!0,tabindex:-1,style:vn({display:y?void 0:"none"}),"aria-hidden":!0,"data-state":v?"open":"closed"}),action:y=>{let v=Ze;if(i.get()){const O=Fs(y,{handler:()=>{w()}});O&&O.destroy&&(v=O.destroy)}return{destroy(){v()}}}}),D=ht(On("content"),{stores:[b,m.content,m.description,m.title,_],returned:([y,v,O,P,H])=>({id:v,role:l.get(),"aria-describedby":O,"aria-labelledby":P,"aria-modal":y?"true":void 0,"data-state":H?"open":"closed",tabindex:-1,hidden:y?void 0:!0,style:vn({display:y?void 0:"none"})}),action:y=>{let v=Ze,O=Ze;const P=Kt($t([_],([H])=>{if(!H)return;const F=Yh({immediate:!1,escapeDeactivates:!0,clickOutsideDeactivates:!0,returnFocusOnDeactivate:!1,fallbackFocus:y});v=F.activate,O=F.deactivate;const Q=F.useFocusTrap(y);return Q&&Q.destroy?Q.destroy:F.deactivate}),$t([r,_],([H,F])=>Uh(y,{open:F,closeOnInteractOutside:H,onClose(){w()},shouldCloseOnInteractOutside(Q){var ne;return(ne=c.get())==null||ne(Q),!Q.defaultPrevented}}).destroy),$t([i],([H])=>{if(!H)return Ze;const F=Fs(y,{handler:()=>{w()}});return F&&F.destroy?F.destroy:Ze}),$t([b],([H])=>{Nl().then(()=>{H?v():O()})}));return{destroy:()=>{k(),P()}}}}),E=ht(On("portalled"),{stores:a,returned:y=>({"data-portal":gc(y)}),action:y=>{const v=$t([a],([O])=>{if(O===null)return Ze;const P=wc(y,O);if(P===null)return Ze;const H=Bc(y,P);return H&&H.destroy?H.destroy:Ze});return{destroy(){v()}}}}),G=ht(On("title"),{stores:[m.title],returned:([y])=>({id:y})}),$=ht(On("description"),{stores:[m.description],returned:([y])=>({id:y})}),W=ht(On("close"),{returned:()=>({type:"button"}),action:y=>({destroy:Kt(At(y,"click",()=>{w()}),At(y,"keydown",O=>{O.key!==ut.SPACE&&O.key!==ut.ENTER||(O.preventDefault(),w())}))})});return $t([_,o],([y,v])=>{if(Xo){if(v&&y&&(k=Ip()),y){const O=document.getElementById(m.content.get());Ls({prop:u.get(),defaultEl:O})}return()=>{s.get()||k()}}}),{ids:m,elements:{content:D,trigger:R,title:G,description:$,overlay:L,close:W,portalled:E},states:{open:_},options:n}}const Qh={defaultValue:0,max:100},{name:zh}=gr("progress"),e_=t=>{const e={...Qh,...t},n=Bn(vr(e,"value")),{max:o}=n,i=e.value??Ye(e.defaultValue),r=yr(i,e==null?void 0:e.onValueChange);return{elements:{root:ht(zh(),{stores:[r,o],returned:([a,s])=>({value:a,max:s,role:"meter","aria-valuemin":0,"aria-valuemax":s,"aria-valuenow":a,"data-value":a,"data-state":a===null?"indeterminate":a===s?"complete":"loading","data-max":s})})},states:{value:r},options:n}},t_={orientation:"horizontal",decorative:!1},n_=t=>{const e={...t_,...t},n=Bn(e),{orientation:o,decorative:i}=n;return{elements:{root:ht("separator",{stores:[o,i],returned:([l,a])=>({role:a?"none":"separator","aria-orientation":l==="vertical"?l:void 0,"aria-hidden":a,"data-orientation":l})})},options:n}},o_={defaultValue:[],min:0,max:100,step:1,orientation:"horizontal",dir:"ltr",disabled:!1},{name:ki}=gr("slider"),i_=t=>{const e={...o_,...t},n=Bn(vr(e,"value","onValueChange","defaultValue")),{min:o,max:i,step:r,orientation:l,dir:a,disabled:s}=n,u=e.value??Ye(e.defaultValue),f=yr(u,e==null?void 0:e.onValueChange),c=ln(Ye(!1)),d=ln(Ye(0)),m=ln(Ye(null)),p=Bl(["root"]),_=(E,G)=>{f.update($=>{if(!$)return[E];if($[G]===E)return $;const W=[...$],y=W[G]>E?-1:1;function v(){W[G]=W[G+y],W[G+y]=E;const F=b();F&&(F[G+y].focus(),m.set({thumb:F[G+y],index:G+y}))}if(y===-1&&E<W[G-1])return v(),W;if(y===1&&E>W[G+1])return v(),W;const O=o.get(),P=i.get(),H=r.get();return W[G]=jr(E,O,P,H),W})},b=()=>{const E=Fr(p.root);return E?Array.from(E.querySelectorAll('[data-melt-part="thumb"]')).filter(G=>Tt(G)):null},k=cn([o,i],([E,G])=>$=>($-E)/(G-E)*100),C=ln.derived([l,a],([E,G])=>E==="horizontal"?G==="rtl"?"rl":"lr":G==="rtl"?"tb":"bt"),w=ht(ki(),{stores:[s,l,a],returned:([E,G,$])=>({dir:$,disabled:Lr(E),"data-disabled":Lr(E),"data-orientation":G,style:E?void 0:`touch-action: ${G==="horizontal"?"pan-y":"pan-x"}`,"data-melt-id":p.root})}),R=ht(ki("range"),{stores:[f,C,k],returned:([E,G,$])=>{const W=E.length>1?$(Math.min(...E)??0):0,y=100-$(Math.max(...E)??0),v={position:"absolute"};switch(G){case"lr":{v.left=`${W}%`,v.right=`${y}%`;break}case"rl":{v.right=`${W}%`,v.left=`${y}%`;break}case"bt":{v.bottom=`${W}%`,v.top=`${y}%`;break}case"tb":{v.top=`${W}%`,v.bottom=`${y}%`;break}}return{style:vn(v)}}}),L=$s(ki("thumb"),{stores:[f,k,o,i,s,l,C],returned:([E,G,$,W,y,v,O])=>Array.from({length:E.length||1},(H,F)=>{d.get()<E.length&&d.update(h=>h+1);const ne=E[F],z=`${G(ne)}%`,Y={position:"absolute"};switch(O){case"lr":{Y.left=z,Y.translate="-50% 0";break}case"rl":{Y.right=z,Y.translate="50% 0";break}case"bt":{Y.bottom=z,Y.translate="0 50%";break}case"tb":{Y.top=z,Y.translate="0 -50%";break}}return{role:"slider","aria-valuemin":$,"aria-valuemax":W,"aria-valuenow":ne,"aria-disabled":Lr(y),"aria-orientation":v,"data-melt-part":"thumb","data-value":ne,style:vn(Y),tabindex:y?-1:0}}),action:E=>({destroy:At(E,"keydown",$=>{if(s.get())return;const W=$.currentTarget;if(!Tt(W))return;const y=b();if(!(y!=null&&y.length))return;const v=y.indexOf(W);if(d.set(v),![ut.ARROW_LEFT,ut.ARROW_RIGHT,ut.ARROW_UP,ut.ARROW_DOWN,ut.HOME,ut.END].includes($.key))return;$.preventDefault();const O=o.get(),P=i.get(),H=r.get(),F=f.get(),Q=l.get(),ne=C.get(),z=F[v];switch($.key){case ut.HOME:{_(O,v);break}case ut.END:{_(P,v);break}case ut.ARROW_LEFT:{if(Q!=="horizontal")break;$.metaKey?_(ne==="rl"?P:O,v):ne==="rl"&&z<P?_(z+H,v):ne==="lr"&&z>O&&_(z-H,v);break}case ut.ARROW_RIGHT:{if(Q!=="horizontal")break;$.metaKey?_(ne==="rl"?O:P,v):ne==="rl"&&z>O?_(z-H,v):ne==="lr"&&z<P&&_(z+H,v);break}case ut.ARROW_UP:{$.metaKey?_(ne==="tb"?O:P,v):ne==="tb"&&z>O?_(z-H,v):ne!=="tb"&&z<P&&_(z+H,v);break}case ut.ARROW_DOWN:{$.metaKey?_(ne==="tb"?P:O,v):ne==="tb"&&z<P?_(z+H,v):ne!=="tb"&&z>O&&_(z-H,v);break}}})})}),D=$s(ki("tick"),{stores:[f,o,i,r,C],returned:([E,G,$,W,y])=>{const v=$-G;let O=Math.ceil(v/W);return v%W==0&&O++,Array.from({length:O},(P,H)=>{const F=`${H*(W/($-G))*100}%`,Q=H===0,ne=H===O-1,z=Q?0:ne?-100:-50,Y={position:"absolute"};switch(y){case"lr":{Y.left=F,Y.translate=`${z}% 0`;break}case"rl":{Y.right=F,Y.translate=`${-z}% 0`;break}case"bt":{Y.bottom=F,Y.translate=`0 ${-z}%`;break}case"tb":{Y.top=F,Y.translate=`0 ${z}%`;break}}const h=G+H*W;return{"data-bounded":(E.length===1?h<=E[0]:E[0]<=h&&h<=E[E.length-1])?!0:void 0,"data-value":h,style:vn(Y)}})}});return $t([w,o,i,s,l,C,r],([E,G,$,W,y,v,O])=>{if(!Xo||W)return;const P=(Y,h,V,U)=>{const Z=(Y-V)/(U-V)*($-G)+G;if(Z<G)_(G,h);else if(Z>$)_($,h);else{const we=O,_e=G,Te=Math.floor((Z-_e)/we),Xe=_e+Te*we+we/2,Ve=_e+(Te+1)*we+we/2,ze=Z>=Xe&&Z<Ve?(Te+1)*we+_e:Te*we+_e;ze<=$&&_(ze,h)}},H=Y=>{const h=b();if(!h)return;h.forEach(Z=>Z.blur());const V=h.map(Z=>{if(y==="horizontal"){const{left:we,right:_e}=Z.getBoundingClientRect();return Math.abs(Y.clientX-(we+_e)/2)}else{const{top:we,bottom:_e}=Z.getBoundingClientRect();return Math.abs(Y.clientY-(we+_e)/2)}}),U=h[V.indexOf(Math.min(...V))],ee=h.indexOf(U);return{thumb:U,index:ee}},F=Y=>{if(!c.get())return;Y.preventDefault(),Y.stopPropagation();const h=Fr(E["data-melt-id"]),V=m.get();if(!h||!V)return;V.thumb.focus();const{left:U,right:ee,top:Z,bottom:we}=h.getBoundingClientRect();switch(v){case"lr":{P(Y.clientX,V.index,U,ee);break}case"rl":{P(Y.clientX,V.index,ee,U);break}case"bt":{P(Y.clientY,V.index,we,Z);break}case"tb":{P(Y.clientY,V.index,Z,we);break}}},Q=Y=>{if(Y.button!==0)return;const h=Fr(E["data-melt-id"]),V=H(Y);if(!V||!h)return;const U=Y.target;!Tt(U)||!h.contains(U)||(Y.preventDefault(),m.set(V),V.thumb.focus(),c.set(!0),F(Y))},ne=()=>{c.set(!1)},z=Kt(vt(document,"pointerdown",Q),vt(document,"pointerup",ne),vt(document,"pointerleave",ne),vt(document,"pointermove",F));return()=>{z()}}),$t([r,o,i,f],function([G,$,W,y]){const v=P=>jr(P,$,W,G)===P,O=P=>jr(P,$,W,G);y.some(P=>!v(P))&&f.update(P=>P.map(O))}),{elements:{root:w,thumbs:L,range:R,ticks:D},states:{value:f},options:n}},r_={positioning:{placement:"bottom"},arrowSize:8,defaultOpen:!1,closeOnPointerDown:!0,openDelay:1e3,closeDelay:0,forceVisible:!1,portal:void 0,closeOnEscape:!0,disableHoverableContent:!1,group:void 0},{name:Gr}=gr("tooltip"),Ci=new Map,l_=["trigger","content"];function s_(t){const e={...r_,...t},n=Bn(vr(e,"open","ids")),{positioning:o,arrowSize:i,closeOnPointerDown:r,openDelay:l,closeDelay:a,forceVisible:s,portal:u,closeOnEscape:f,disableHoverableContent:c,group:d}=n,m=e.open??Ye(e.defaultOpen),p=yr(m,e==null?void 0:e.onOpenChange),_=Ye(null),b=Bn({...Bl(l_),...e.ids});let k=!1;const C=v=>Xo?document.getElementById(b[v].get()):null;let w=null,R=null;function L(v){R&&(window.clearTimeout(R),R=null),w||(w=window.setTimeout(()=>{p.set(!0),_.update(O=>O??v),w=null},l.get()))}function D(v){if(w&&(window.clearTimeout(w),w=null),v&&y){_.set("pointer");return}R||(R=window.setTimeout(()=>{p.set(!1),_.set(null),v&&(k=!1),R=null},a.get()))}const E=cn([p,s],([v,O])=>v||O),G=ht(Gr("trigger"),{stores:[b.content,b.trigger,p],returned:([v,O,P])=>({"aria-describedby":v,id:O,"data-state":P?"open":"closed"}),action:v=>{const O=H=>{f.get()&&H.key===ut.ESCAPE&&(w&&(window.clearTimeout(w),w=null),p.set(!1))};return{destroy:Kt(At(v,"pointerdown",()=>{r.get()&&(p.set(!1),k=!0,w&&(window.clearTimeout(w),w=null))}),At(v,"pointerenter",H=>{Rs(H)||L("pointer")}),At(v,"pointerleave",H=>{Rs(H)||w&&(window.clearTimeout(w),w=null)}),At(v,"focus",()=>{k||L("focus")}),At(v,"blur",async()=>{await Fl(0),D(!0)}),At(v,"keydown",O),vt(document,"keydown",O))}}}),$=ht(Gr("content"),{stores:[E,p,u,b.content],returned:([v,O,P,H])=>({role:"tooltip",hidden:v?void 0:!0,tabindex:-1,style:vn({display:v?void 0:"none"}),id:H,"data-portal":gc(P),"data-state":O?"open":"closed"}),action:v=>{let O=Ze,P=Ze;const H=$t([E,o,u],([ne,z,Y])=>{const h=C("trigger");if(!ne||!h){P(),O();return}if(O=bh(h,v,z).destroy,Y===null){P();return}const U=wc(v,Y);if(U){const ee=Bc(v,U);ee&&ee.destroy&&(P=ee.destroy)}});function F(ne){if(!p.get())return;const z=ne.target;if(!br(z)&&!sp(z))return;const Y=C("trigger");Y&&z.contains(Y)&&D()}const Q=Kt(At(v,"pointerenter",()=>L("pointer")),At(v,"pointerdown",()=>L("pointer")),vt(window,"scroll",F,{capture:!0}));return{destroy(){Q(),P(),O(),H()}}}}),W=ht(Gr("arrow"),{stores:i,returned:v=>({"data-arrow":!0,style:vn({position:"absolute",width:`var(--arrow-size, ${v}px)`,height:`var(--arrow-size, ${v}px)`})})});let y=!1;return $t(p,v=>{const O=d.get();if(O===void 0||O===!1)return;if(!v){Ci.get(O)===p&&Ci.delete(O);return}const P=Ci.get(O);P==null||P.set(!1),Ci.set(O,p)}),$t([p,_],([v,O])=>{if(!(!v||!Xo))return Kt(vt(document,"mousemove",P=>{const H=C("content"),F=C("trigger");if(!H||!F)return;const Q=c.get()?[F]:[F,H],ne=Ap(Q);y=Sp({x:P.clientX,y:P.clientY},ne),O==="pointer"&&(y||D())}))}),{ids:b,elements:{trigger:G,content:$,arrow:W},states:{open:p},options:n}}function Yn(t,e){const n={};return e.forEach(o=>{n[o]={[`data-${t}-${o}`]:""}}),o=>n[o]}function Un(){const t=zd();return e=>{const{originalEvent:n}=e.detail,{cancelable:o}=e,i=n.type;t(i,{originalEvent:n,currentTarget:n.currentTarget},{cancelable:o})||e.preventDefault()}}function So(t){const e={};for(const n in t){const o=t[n];o!==void 0&&(e[n]=o)}return e}function Gn(t){return function(e,n){if(n===void 0)return;const o=t[e];o&&o.set(n)}}function Gc(){return{NAME:"alert-dialog",PARTS:["action","cancel","content","description","overlay","portal","title","trigger"]}}function a_(t){const{NAME:e,PARTS:n}=Gc(),o=Yn(e,n),i=qc({...So(t),role:"alertdialog",forceVisible:!0}),r={...i,getAttrs:o,updateOption:Gn(i.options)};return pr(e,r),{...r,updateOption:Gn(r.options),getAttrs:o}}function Kn(){const{NAME:t}=Gc();return hr(t)}const u_=t=>({ids:t&1}),Js=t=>({ids:t[0]});function f_(t){let e;const n=t[12].default,o=de(n,t,t[11],Js);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,[r]){o&&o.p&&(!e||r&2049)&&pe(o,n,i,i[11],e?me(n,i[11],r,u_):he(i[11]),Js)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function c_(t,e,n){let o,{$$slots:i={},$$scope:r}=e,{preventScroll:l=void 0}=e,{closeOnEscape:a=void 0}=e,{closeOnOutsideClick:s=!1}=e,{portal:u=void 0}=e,{open:f=void 0}=e,{onOpenChange:c=void 0}=e,{openFocus:d=void 0}=e,{closeFocus:m=void 0}=e,{onOutsideClick:p=void 0}=e;const{states:{open:_},updateOption:b,ids:k}=a_({closeOnEscape:a,preventScroll:l,closeOnOutsideClick:s,portal:u,forceVisible:!0,defaultOpen:f,openFocus:d,closeFocus:m,onOutsideClick:p,onOpenChange:({next:w})=>(f!==w&&(c==null||c(w),n(2,f=w)),w)}),C=cn([k.content,k.description,k.title],([w,R,L])=>({content:w,description:R,title:L}));return ae(t,C,w=>n(0,o=w)),t.$$set=w=>{"preventScroll"in w&&n(3,l=w.preventScroll),"closeOnEscape"in w&&n(4,a=w.closeOnEscape),"closeOnOutsideClick"in w&&n(5,s=w.closeOnOutsideClick),"portal"in w&&n(6,u=w.portal),"open"in w&&n(2,f=w.open),"onOpenChange"in w&&n(7,c=w.onOpenChange),"openFocus"in w&&n(8,d=w.openFocus),"closeFocus"in w&&n(9,m=w.closeFocus),"onOutsideClick"in w&&n(10,p=w.onOutsideClick),"$$scope"in w&&n(11,r=w.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&f!==void 0&&_.set(f),t.$$.dirty&8&&b("preventScroll",l),t.$$.dirty&16&&b("closeOnEscape",a),t.$$.dirty&32&&b("closeOnOutsideClick",s),t.$$.dirty&64&&b("portal",u),t.$$.dirty&256&&b("openFocus",d),t.$$.dirty&512&&b("closeFocus",m),t.$$.dirty&1024&&b("onOutsideClick",p)},[o,C,f,l,a,s,u,c,d,m,p,r,i]}class d_ extends be{constructor(e){super(),ge(this,e,c_,f_,fe,{preventScroll:3,closeOnEscape:4,closeOnOutsideClick:5,portal:6,open:2,onOpenChange:7,openFocus:8,closeFocus:9,onOutsideClick:10})}}const m_=t=>({builder:t&8}),xs=t=>({builder:t[3]}),p_=t=>({builder:t&8}),Zs=t=>({builder:t[3]});function h_(t){let e=t[1],n,o,i=t[1]&&Vr(t);return{c(){i&&i.c(),n=Re()},m(r,l){i&&i.m(r,l),M(r,n,l),o=!0},p(r,l){r[1]?e?fe(e,r[1])?(i.d(1),i=Vr(r),e=r[1],i.c(),i.m(n.parentNode,n)):i.p(r,l):(i=Vr(r),e=r[1],i.c(),i.m(n.parentNode,n)):e&&(i.d(1),i=null,e=r[1])},i(r){o||(A(i,r),o=!0)},o(r){S(i,r),o=!1},d(r){r&&T(n),i&&i.d(r)}}}function __(t){let e;const n=t[9].default,o=de(n,t,t[8],Zs);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&264)&&pe(o,n,i,i[8],e?me(n,i[8],r,p_):he(i[8]),Zs)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Vr(t){let e,n,o,i;const r=t[9].default,l=de(r,t,t[8],xs);let a=[t[3],t[5]],s={};for(let u=0;u<a.length;u+=1)s=x(s,a[u]);return{c(){e=I(t[1]),l&&l.c(),yn(t[1])(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[10](e),n=!0,o||(i=Fe(t[3].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&264)&&pe(l,r,u,u[8],n?me(r,u[8],f,m_):he(u[8]),xs),yn(u[1])(e,s=ye(a,[f&8&&u[3],f&32&&u[5]]))},i(u){n||(A(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[10](null),o=!1,i()}}}function g_(t){let e,n,o,i;const r=[__,h_],l=[];function a(s,u){return s[2]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function b_(t,e,n){let o;const i=["level","asChild","id","el"];let r=le(e,i),l,{$$slots:a={},$$scope:s}=e,{level:u="h2"}=e,{asChild:f=!1}=e,{id:c=void 0}=e,{el:d=void 0}=e;const{elements:{title:m},ids:p,getAttrs:_}=Kn();ae(t,m,C=>n(7,l=C));const b=_("title");function k(C){Ne[C?"unshift":"push"](()=>{d=C,n(0,d)})}return t.$$set=C=>{e=x(x({},e),$e(C)),n(5,r=le(e,i)),"level"in C&&n(1,u=C.level),"asChild"in C&&n(2,f=C.asChild),"id"in C&&n(6,c=C.id),"el"in C&&n(0,d=C.el),"$$scope"in C&&n(8,s=C.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&c&&p.title.set(c),t.$$.dirty&128&&n(3,o=l),t.$$.dirty&8&&Object.assign(o,b)},[d,u,f,o,m,r,c,l,s,a,k]}let v_=class extends be{constructor(e){super(),ge(this,e,b_,g_,fe,{level:1,asChild:2,id:6,el:0})}};const y_=t=>({builder:t&4}),Qs=t=>({builder:t[2]}),w_=t=>({builder:t&4}),zs=t=>({builder:t[2]});function k_(t){let e,n,o,i;const r=t[8].default,l=de(r,t,t[7],Qs);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=x(s,a[u]);return{c(){e=I("button"),l&&l.c(),se(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[9](e),n=!0,o||(i=[Fe(t[2].action(e)),te(e,"m-click",t[4]),te(e,"m-keydown",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&pe(l,r,u,u[7],n?me(r,u[7],f,y_):he(u[7]),Qs),se(e,s=ye(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(A(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[9](null),o=!1,Le(i)}}}function C_(t){let e;const n=t[8].default,o=de(n,t,t[7],zs);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&pe(o,n,i,i[7],e?me(n,i[7],r,w_):he(i[7]),zs)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function A_(t){let e,n,o,i;const r=[C_,k_],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function S_(t,e,n){let o;const i=["asChild","el"];let r=le(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:d}=Kn();ae(t,c,b=>n(6,l=b));const m=Un(),p=d("action");function _(b){Ne[b?"unshift":"push"](()=>{f=b,n(0,f)})}return t.$$set=b=>{e=x(x({},e),$e(b)),n(5,r=le(e,i)),"asChild"in b&&n(1,u=b.asChild),"el"in b&&n(0,f=b.el),"$$scope"in b&&n(7,s=b.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,p)},[f,u,o,c,m,r,l,s,a,_]}let T_=class extends be{constructor(e){super(),ge(this,e,S_,A_,fe,{asChild:1,el:0})}};const M_=t=>({builder:t&4}),ea=t=>({builder:t[2]}),I_=t=>({builder:t&4}),ta=t=>({builder:t[2]});function O_(t){let e,n,o,i;const r=t[8].default,l=de(r,t,t[7],ea);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=x(s,a[u]);return{c(){e=I("button"),l&&l.c(),se(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[9](e),n=!0,o||(i=[Fe(t[2].action(e)),te(e,"m-click",t[4]),te(e,"m-keydown",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&pe(l,r,u,u[7],n?me(r,u[7],f,M_):he(u[7]),ea),se(e,s=ye(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(A(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[9](null),o=!1,Le(i)}}}function P_(t){let e;const n=t[8].default,o=de(n,t,t[7],ta);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&pe(o,n,i,i[7],e?me(n,i[7],r,I_):he(i[7]),ta)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function N_(t){let e,n,o,i;const r=[P_,O_],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function E_(t,e,n){let o;const i=["asChild","el"];let r=le(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:d}=Kn();ae(t,c,b=>n(6,l=b));const m=Un(),p=d("cancel");function _(b){Ne[b?"unshift":"push"](()=>{f=b,n(0,f)})}return t.$$set=b=>{e=x(x({},e),$e(b)),n(5,r=le(e,i)),"asChild"in b&&n(1,u=b.asChild),"el"in b&&n(0,f=b.el),"$$scope"in b&&n(7,s=b.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,p)},[f,u,o,c,m,r,l,s,a,_]}let $_=class extends be{constructor(e){super(),ge(this,e,E_,N_,fe,{asChild:1,el:0})}};const R_=t=>({builder:t&4}),na=t=>({builder:t[2]}),D_=t=>({builder:t&4}),oa=t=>({builder:t[2]});function L_(t){let e,n,o,i;const r=t[7].default,l=de(r,t,t[6],na);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=x(s,a[u]);return{c(){e=I("div"),l&&l.c(),se(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[8](e),n=!0,o||(i=Fe(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&68)&&pe(l,r,u,u[6],n?me(r,u[6],f,R_):he(u[6]),na),se(e,s=ye(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(A(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[8](null),o=!1,i()}}}function F_(t){let e;const n=t[7].default,o=de(n,t,t[6],oa);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&68)&&pe(o,n,i,i[6],e?me(n,i[6],r,D_):he(i[6]),oa)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function B_(t){let e,n,o,i;const r=[F_,L_],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function j_(t,e,n){let o;const i=["asChild","el"];let r=le(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{portalled:c},getAttrs:d}=Kn();ae(t,c,_=>n(5,l=_));const m=d("portal");function p(_){Ne[_?"unshift":"push"](()=>{f=_,n(0,f)})}return t.$$set=_=>{e=x(x({},e),$e(_)),n(4,r=le(e,i)),"asChild"in _&&n(1,u=_.asChild),"el"in _&&n(0,f=_.el),"$$scope"in _&&n(6,s=_.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,m)},[f,u,o,c,r,l,s,a,p]}let q_=class extends be{constructor(e){super(),ge(this,e,j_,B_,fe,{asChild:1,el:0})}};const G_=t=>({builder:t[0]&256}),ia=t=>({builder:t[8]}),V_=t=>({builder:t[0]&256}),ra=t=>({builder:t[8]}),H_=t=>({builder:t[0]&256}),la=t=>({builder:t[8]}),W_=t=>({builder:t[0]&256}),sa=t=>({builder:t[8]}),Y_=t=>({builder:t[0]&256}),aa=t=>({builder:t[8]}),U_=t=>({builder:t[0]&256}),ua=t=>({builder:t[8]});function K_(t){let e,n,o,i;const r=t[16].default,l=de(r,t,t[15],ia);let a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=x(s,a[u]);return{c(){e=I("div"),l&&l.c(),se(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[56](e),n=!0,o||(i=[Fe(t[8].action(e)),te(e,"pointerdown",t[45]),te(e,"pointermove",t[46]),te(e,"pointerup",t[47]),te(e,"touchend",t[48]),te(e,"touchstart",t[49]),te(e,"touchcancel",t[50]),te(e,"touchmove",t[51])],o=!0)},p(u,f){l&&l.p&&(!n||f[0]&33024)&&pe(l,r,u,u[15],n?me(r,u[15],f,G_):he(u[15]),ia),se(e,s=ye(a,[f[0]&256&&u[8],f[0]&4096&&u[12]]))},i(u){n||(A(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[56](null),o=!1,Le(i)}}}function X_(t){let e,n,o,i,r;const l=t[16].default,a=de(l,t,t[15],ra);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=x(u,s[f]);return{c(){e=I("div"),a&&a.c(),se(e,u)},m(f,c){M(f,e,c),a&&a.m(e,null),t[55](e),o=!0,i||(r=[Fe(t[8].action(e)),te(e,"pointerdown",t[38]),te(e,"pointermove",t[39]),te(e,"pointerup",t[40]),te(e,"touchend",t[41]),te(e,"touchstart",t[42]),te(e,"touchcancel",t[43]),te(e,"touchmove",t[44])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&pe(a,l,t,t[15],o?me(l,t[15],c,V_):he(t[15]),ra),se(e,u=ye(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(A(a,f),n&&n.end(1),o=!0)},o(f){S(a,f),f&&(n=zt(e,t[5],t[6])),o=!1},d(f){f&&T(e),a&&a.d(f),t[55](null),f&&n&&n.end(),i=!1,Le(r)}}}function J_(t){let e,n,o,i,r;const l=t[16].default,a=de(l,t,t[15],la);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=x(u,s[f]);return{c(){e=I("div"),a&&a.c(),se(e,u)},m(f,c){M(f,e,c),a&&a.m(e,null),t[54](e),o=!0,i||(r=[Fe(t[8].action(e)),te(e,"pointerdown",t[31]),te(e,"pointermove",t[32]),te(e,"pointerup",t[33]),te(e,"touchend",t[34]),te(e,"touchstart",t[35]),te(e,"touchcancel",t[36]),te(e,"touchmove",t[37])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&pe(a,l,t,t[15],o?me(l,t[15],c,H_):he(t[15]),la),se(e,u=ye(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(A(a,f),f&&(n||ot(()=>{n=Qt(e,t[3],t[4]),n.start()})),o=!0)},o(f){S(a,f),o=!1},d(f){f&&T(e),a&&a.d(f),t[54](null),i=!1,Le(r)}}}function x_(t){let e,n,o,i,r,l;const a=t[16].default,s=de(a,t,t[15],sa);let u=[t[8],t[12]],f={};for(let c=0;c<u.length;c+=1)f=x(f,u[c]);return{c(){e=I("div"),s&&s.c(),se(e,f)},m(c,d){M(c,e,d),s&&s.m(e,null),t[53](e),i=!0,r||(l=[Fe(t[8].action(e)),te(e,"pointerdown",t[24]),te(e,"pointermove",t[25]),te(e,"pointerup",t[26]),te(e,"touchend",t[27]),te(e,"touchstart",t[28]),te(e,"touchcancel",t[29]),te(e,"touchmove",t[30])],r=!0)},p(c,d){t=c,s&&s.p&&(!i||d[0]&33024)&&pe(s,a,t,t[15],i?me(a,t[15],d,W_):he(t[15]),sa),se(e,f=ye(u,[d[0]&256&&t[8],d[0]&4096&&t[12]]))},i(c){i||(A(s,c),c&&ot(()=>{i&&(o&&o.end(1),n=Qt(e,t[3],t[4]),n.start())}),i=!0)},o(c){S(s,c),n&&n.invalidate(),c&&(o=zt(e,t[5],t[6])),i=!1},d(c){c&&T(e),s&&s.d(c),t[53](null),c&&o&&o.end(),r=!1,Le(l)}}}function Z_(t){let e,n,o,i,r;const l=t[16].default,a=de(l,t,t[15],aa);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=x(u,s[f]);return{c(){e=I("div"),a&&a.c(),se(e,u)},m(f,c){M(f,e,c),a&&a.m(e,null),t[52](e),o=!0,i||(r=[Fe(t[8].action(e)),te(e,"pointerdown",t[17]),te(e,"pointermove",t[18]),te(e,"pointerup",t[19]),te(e,"touchend",t[20]),te(e,"touchstart",t[21]),te(e,"touchcancel",t[22]),te(e,"touchmove",t[23])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&pe(a,l,t,t[15],o?me(l,t[15],c,Y_):he(t[15]),aa),se(e,u=ye(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(A(a,f),f&&ot(()=>{o&&(n||(n=Jt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(f){S(a,f),f&&(n||(n=Jt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(f){f&&T(e),a&&a.d(f),t[52](null),f&&n&&n.end(),i=!1,Le(r)}}}function Q_(t){let e;const n=t[16].default,o=de(n,t,t[15],ua);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r[0]&33024)&&pe(o,n,i,i[15],e?me(n,i[15],r,U_):he(i[15]),ua)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function z_(t){let e,n,o,i;const r=[Q_,Z_,x_,J_,X_,K_],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=Re()},m(s,u){~e&&l[e].m(s,u),M(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),~e&&l[e].d(s)}}}function e0(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","id","asChild","el"];let r=le(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:p=void 0}=e,{outTransitionConfig:_=void 0}=e,{id:b=void 0}=e,{asChild:k=!1}=e,{el:C=void 0}=e;const{elements:{content:w},states:{open:R},ids:L,getAttrs:D}=Kn();ae(t,w,j=>n(14,l=j)),ae(t,R,j=>n(9,a=j));const E=D("content");function G(j){oe.call(this,t,j)}function $(j){oe.call(this,t,j)}function W(j){oe.call(this,t,j)}function y(j){oe.call(this,t,j)}function v(j){oe.call(this,t,j)}function O(j){oe.call(this,t,j)}function P(j){oe.call(this,t,j)}function H(j){oe.call(this,t,j)}function F(j){oe.call(this,t,j)}function Q(j){oe.call(this,t,j)}function ne(j){oe.call(this,t,j)}function z(j){oe.call(this,t,j)}function Y(j){oe.call(this,t,j)}function h(j){oe.call(this,t,j)}function V(j){oe.call(this,t,j)}function U(j){oe.call(this,t,j)}function ee(j){oe.call(this,t,j)}function Z(j){oe.call(this,t,j)}function we(j){oe.call(this,t,j)}function _e(j){oe.call(this,t,j)}function Te(j){oe.call(this,t,j)}function Xe(j){oe.call(this,t,j)}function Ve(j){oe.call(this,t,j)}function ze(j){oe.call(this,t,j)}function ue(j){oe.call(this,t,j)}function Ee(j){oe.call(this,t,j)}function Ge(j){oe.call(this,t,j)}function Be(j){oe.call(this,t,j)}function Ke(j){oe.call(this,t,j)}function Ce(j){oe.call(this,t,j)}function Ae(j){oe.call(this,t,j)}function wt(j){oe.call(this,t,j)}function Lt(j){oe.call(this,t,j)}function ft(j){oe.call(this,t,j)}function Ft(j){oe.call(this,t,j)}function ct(j){Ne[j?"unshift":"push"](()=>{C=j,n(0,C)})}function pt(j){Ne[j?"unshift":"push"](()=>{C=j,n(0,C)})}function nt(j){Ne[j?"unshift":"push"](()=>{C=j,n(0,C)})}function ce(j){Ne[j?"unshift":"push"](()=>{C=j,n(0,C)})}function We(j){Ne[j?"unshift":"push"](()=>{C=j,n(0,C)})}return t.$$set=j=>{e=x(x({},e),$e(j)),n(12,r=le(e,i)),"transition"in j&&n(1,f=j.transition),"transitionConfig"in j&&n(2,c=j.transitionConfig),"inTransition"in j&&n(3,d=j.inTransition),"inTransitionConfig"in j&&n(4,m=j.inTransitionConfig),"outTransition"in j&&n(5,p=j.outTransition),"outTransitionConfig"in j&&n(6,_=j.outTransitionConfig),"id"in j&&n(13,b=j.id),"asChild"in j&&n(7,k=j.asChild),"el"in j&&n(0,C=j.el),"$$scope"in j&&n(15,u=j.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&8192&&b&&L.content.set(b),t.$$.dirty[0]&16384&&n(8,o=l),t.$$.dirty[0]&256&&Object.assign(o,E)},[C,f,c,d,m,p,_,k,o,a,w,R,r,b,l,u,s,G,$,W,y,v,O,P,H,F,Q,ne,z,Y,h,V,U,ee,Z,we,_e,Te,Xe,Ve,ze,ue,Ee,Ge,Be,Ke,Ce,Ae,wt,Lt,ft,Ft,ct,pt,nt,ce,We]}let t0=class extends be{constructor(e){super(),ge(this,e,e0,z_,fe,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,id:13,asChild:7,el:0},null,[-1,-1])}};const n0=t=>({builder:t&256}),fa=t=>({builder:t[8]});function o0(t){let e,n,o,i=[t[8],t[12]],r={};for(let l=0;l<i.length;l+=1)r=x(r,i[l]);return{c(){e=I("div"),se(e,r)},m(l,a){M(l,e,a),t[20](e),n||(o=Fe(t[8].action(e)),n=!0)},p(l,a){se(e,r=ye(i,[a&256&&l[8],a&4096&&l[12]]))},i:ke,o:ke,d(l){l&&T(e),t[20](null),n=!1,o()}}}function i0(t){let e,n,o,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=x(a,l[s]);return{c(){e=I("div"),se(e,a)},m(s,u){M(s,e,u),t[19](e),o=!0,i||(r=Fe(t[8].action(e)),i=!0)},p(s,u){t=s,se(e,a=ye(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(n&&n.end(1),o=!0)},o(s){s&&(n=zt(e,t[5],t[6])),o=!1},d(s){s&&T(e),t[19](null),s&&n&&n.end(),i=!1,r()}}}function r0(t){let e,n,o,i,r=[t[8],t[12]],l={};for(let a=0;a<r.length;a+=1)l=x(l,r[a]);return{c(){e=I("div"),se(e,l)},m(a,s){M(a,e,s),t[18](e),o||(i=Fe(t[8].action(e)),o=!0)},p(a,s){t=a,se(e,l=ye(r,[s&256&&t[8],s&4096&&t[12]]))},i(a){a&&(n||ot(()=>{n=Qt(e,t[3],t[4]),n.start()}))},o:ke,d(a){a&&T(e),t[18](null),o=!1,i()}}}function l0(t){let e,n,o,i,r,l,a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=x(s,a[u]);return{c(){e=I("div"),se(e,s)},m(u,f){M(u,e,f),t[17](e),i=!0,r||(l=Fe(t[8].action(e)),r=!0)},p(u,f){t=u,se(e,s=ye(a,[f&256&&t[8],f&4096&&t[12]]))},i(u){i||(u&&ot(()=>{i&&(o&&o.end(1),n=Qt(e,t[3],t[4]),n.start())}),i=!0)},o(u){n&&n.invalidate(),u&&(o=zt(e,t[5],t[6])),i=!1},d(u){u&&T(e),t[17](null),u&&o&&o.end(),r=!1,l()}}}function s0(t){let e,n,o,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=x(a,l[s]);return{c(){e=I("div"),se(e,a)},m(s,u){M(s,e,u),t[16](e),o=!0,i||(r=Fe(t[8].action(e)),i=!0)},p(s,u){t=s,se(e,a=ye(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(s&&ot(()=>{o&&(n||(n=Jt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(s){s&&(n||(n=Jt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(s){s&&T(e),t[16](null),s&&n&&n.end(),i=!1,r()}}}function a0(t){let e;const n=t[15].default,o=de(n,t,t[14],fa);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&16640)&&pe(o,n,i,i[14],e?me(n,i[14],r,n0):he(i[14]),fa)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function u0(t){let e,n,o,i;const r=[a0,s0,l0,r0,i0,o0],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=Re()},m(s,u){~e&&l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),~e&&l[e].d(s)}}}function f0(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","el"];let r=le(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:p=void 0}=e,{outTransitionConfig:_=void 0}=e,{asChild:b=!1}=e,{el:k=void 0}=e;const{elements:{overlay:C},states:{open:w},getAttrs:R}=Kn();ae(t,C,y=>n(13,l=y)),ae(t,w,y=>n(9,a=y));const L=R("overlay");function D(y){Ne[y?"unshift":"push"](()=>{k=y,n(0,k)})}function E(y){Ne[y?"unshift":"push"](()=>{k=y,n(0,k)})}function G(y){Ne[y?"unshift":"push"](()=>{k=y,n(0,k)})}function $(y){Ne[y?"unshift":"push"](()=>{k=y,n(0,k)})}function W(y){Ne[y?"unshift":"push"](()=>{k=y,n(0,k)})}return t.$$set=y=>{e=x(x({},e),$e(y)),n(12,r=le(e,i)),"transition"in y&&n(1,f=y.transition),"transitionConfig"in y&&n(2,c=y.transitionConfig),"inTransition"in y&&n(3,d=y.inTransition),"inTransitionConfig"in y&&n(4,m=y.inTransitionConfig),"outTransition"in y&&n(5,p=y.outTransition),"outTransitionConfig"in y&&n(6,_=y.outTransitionConfig),"asChild"in y&&n(7,b=y.asChild),"el"in y&&n(0,k=y.el),"$$scope"in y&&n(14,u=y.$$scope)},t.$$.update=()=>{t.$$.dirty&8192&&n(8,o=l),t.$$.dirty&256&&Object.assign(o,L)},[k,f,c,d,m,p,_,b,o,a,C,w,r,l,u,s,D,E,G,$,W]}let c0=class extends be{constructor(e){super(),ge(this,e,f0,u0,fe,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,el:0})}};const d0=t=>({builder:t&4}),ca=t=>({builder:t[2]}),m0=t=>({builder:t&4}),da=t=>({builder:t[2]});function p0(t){let e,n,o,i;const r=t[8].default,l=de(r,t,t[7],ca);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=x(s,a[u]);return{c(){e=I("div"),l&&l.c(),se(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[9](e),n=!0,o||(i=Fe(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&pe(l,r,u,u[7],n?me(r,u[7],f,d0):he(u[7]),ca),se(e,s=ye(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(A(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[9](null),o=!1,i()}}}function h0(t){let e;const n=t[8].default,o=de(n,t,t[7],da);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&pe(o,n,i,i[7],e?me(n,i[7],r,m0):he(i[7]),da)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function _0(t){let e,n,o,i;const r=[h0,p0],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function g0(t,e,n){let o;const i=["asChild","id","el"];let r=le(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{description:d},ids:m,getAttrs:p}=Kn();ae(t,d,k=>n(6,l=k));const _=p("description");function b(k){Ne[k?"unshift":"push"](()=>{c=k,n(0,c)})}return t.$$set=k=>{e=x(x({},e),$e(k)),n(4,r=le(e,i)),"asChild"in k&&n(1,u=k.asChild),"id"in k&&n(5,f=k.id),"el"in k&&n(0,c=k.el),"$$scope"in k&&n(7,s=k.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f&&m.description.set(f),t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,_)},[c,u,o,d,r,f,l,s,a,b]}let b0=class extends be{constructor(e){super(),ge(this,e,g0,_0,fe,{asChild:1,id:5,el:0})}};function v0(t,e){const n=[];return e.builders.forEach(o=>{const i=o.action(t);i&&n.push(i)}),{destroy:()=>{n.forEach(o=>{o.destroy&&o.destroy()})}}}function ma(t){const e={};return t.forEach(n=>{Object.keys(n).forEach(o=>{o!=="action"&&(e[o]=n[o])})}),e}function y0(t){let e=t[1]?"a":"button",n,o,i=(t[1]?"a":"button")&&Hr(t);return{c(){i&&i.c(),n=Re()},m(r,l){i&&i.m(r,l),M(r,n,l),o=!0},p(r,l){r[1],e?fe(e,r[1]?"a":"button")?(i.d(1),i=Hr(r),e=r[1]?"a":"button",i.c(),i.m(n.parentNode,n)):i.p(r,l):(i=Hr(r),e=r[1]?"a":"button",i.c(),i.m(n.parentNode,n))},i(r){o||(A(i,r),o=!0)},o(r){S(i,r),o=!1},d(r){r&&T(n),i&&i.d(r)}}}function w0(t){let e=t[1]?"a":"button",n,o,i=(t[1]?"a":"button")&&Wr(t);return{c(){i&&i.c(),n=Re()},m(r,l){i&&i.m(r,l),M(r,n,l),o=!0},p(r,l){r[1],e?fe(e,r[1]?"a":"button")?(i.d(1),i=Wr(r),e=r[1]?"a":"button",i.c(),i.m(n.parentNode,n)):i.p(r,l):(i=Wr(r),e=r[1]?"a":"button",i.c(),i.m(n.parentNode,n))},i(r){o||(A(i,r),o=!0)},o(r){S(i,r),o=!1},d(r){r&&T(n),i&&i.d(r)}}}function Hr(t){let e,n,o,i,r;const l=t[7].default,a=de(l,t,t[6],null);let s=[{type:n=t[1]?void 0:t[2]},{href:t[1]},{tabindex:"0"},t[5],t[4]],u={};for(let f=0;f<s.length;f+=1)u=x(u,s[f]);return{c(){e=I(t[1]?"a":"button"),a&&a.c(),yn(t[1]?"a":"button")(e,u)},m(f,c){M(f,e,c),a&&a.m(e,null),o=!0,i||(r=[te(e,"click",t[14]),te(e,"change",t[15]),te(e,"keydown",t[16]),te(e,"keyup",t[17]),te(e,"mouseenter",t[18]),te(e,"mouseleave",t[19])],i=!0)},p(f,c){a&&a.p&&(!o||c&64)&&pe(a,l,f,f[6],o?me(l,f[6],c,null):he(f[6]),null),yn(f[1]?"a":"button")(e,u=ye(s,[(!o||c&6&&n!==(n=f[1]?void 0:f[2]))&&{type:n},(!o||c&2)&&{href:f[1]},{tabindex:"0"},c&32&&f[5],f[4]]))},i(f){o||(A(a,f),o=!0)},o(f){S(a,f),o=!1},d(f){f&&T(e),a&&a.d(f),i=!1,Le(r)}}}function Wr(t){let e,n,o,i,r,l;const a=t[7].default,s=de(a,t,t[6],null);let u=[{type:n=t[1]?void 0:t[2]},{href:t[1]},{tabindex:"0"},ma(t[3]),t[5],t[4]],f={};for(let c=0;c<u.length;c+=1)f=x(f,u[c]);return{c(){e=I(t[1]?"a":"button"),s&&s.c(),yn(t[1]?"a":"button")(e,f)},m(c,d){M(c,e,d),s&&s.m(e,null),t[20](e),i=!0,r||(l=[te(e,"click",t[8]),te(e,"change",t[9]),te(e,"keydown",t[10]),te(e,"keyup",t[11]),te(e,"mouseenter",t[12]),te(e,"mouseleave",t[13]),Fe(o=v0.call(null,e,{builders:t[3]}))],r=!0)},p(c,d){s&&s.p&&(!i||d&64)&&pe(s,a,c,c[6],i?me(a,c[6],d,null):he(c[6]),null),yn(c[1]?"a":"button")(e,f=ye(u,[(!i||d&6&&n!==(n=c[1]?void 0:c[2]))&&{type:n},(!i||d&2)&&{href:c[1]},{tabindex:"0"},d&8&&ma(c[3]),d&32&&c[5],c[4]])),o&&fn(o.update)&&d&8&&o.update.call(null,{builders:c[3]})},i(c){i||(A(s,c),i=!0)},o(c){S(s,c),i=!1},d(c){c&&T(e),s&&s.d(c),t[20](null),r=!1,Le(l)}}}function k0(t){let e,n,o,i;const r=[w0,y0],l=[];function a(s,u){return s[3]&&s[3].length?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function C0(t,e,n){const o=["href","type","builders","el"];let i=le(e,o),{$$slots:r={},$$scope:l}=e,{href:a=void 0}=e,{type:s=void 0}=e,{builders:u=[]}=e,{el:f=void 0}=e;const c={"data-button-root":""};function d($){oe.call(this,t,$)}function m($){oe.call(this,t,$)}function p($){oe.call(this,t,$)}function _($){oe.call(this,t,$)}function b($){oe.call(this,t,$)}function k($){oe.call(this,t,$)}function C($){oe.call(this,t,$)}function w($){oe.call(this,t,$)}function R($){oe.call(this,t,$)}function L($){oe.call(this,t,$)}function D($){oe.call(this,t,$)}function E($){oe.call(this,t,$)}function G($){Ne[$?"unshift":"push"](()=>{f=$,n(0,f)})}return t.$$set=$=>{e=x(x({},e),$e($)),n(5,i=le(e,o)),"href"in $&&n(1,a=$.href),"type"in $&&n(2,s=$.type),"builders"in $&&n(3,u=$.builders),"el"in $&&n(0,f=$.el),"$$scope"in $&&n(6,l=$.$$scope)},[f,a,s,u,c,i,l,r,d,m,p,_,b,k,C,w,R,L,D,E,G]}let A0=class extends be{constructor(e){super(),ge(this,e,C0,k0,fe,{href:1,type:2,builders:3,el:0})}};function S0(t){return(e={})=>T0(t,e)}function T0(t,e){const o={...{side:"bottom",align:"center",sideOffset:0,alignOffset:0,sameWidth:!1,avoidCollisions:!0,collisionPadding:8,fitViewport:!1,strategy:"absolute",overlap:!1},...e};t.update(i=>({...i,placement:M0(o.side,o.align),offset:{...i.offset,mainAxis:o.sideOffset,crossAxis:o.alignOffset},gutter:0,sameWidth:o.sameWidth,flip:o.avoidCollisions,overflowPadding:o.collisionPadding,boundary:o.collisionBoundary,fitViewport:o.fitViewport,strategy:o.strategy,overlap:o.overlap}))}function M0(t,e){return e==="center"?t:`${t}-${e}`}function I0(){return{NAME:"separator",PARTS:["root"]}}function O0(t){const{NAME:e,PARTS:n}=I0(),o=Yn(e,n),i={...n_(So(t)),getAttrs:o};return{...i,updateOption:Gn(i.options)}}const P0=t=>({builder:t&4}),pa=t=>({builder:t[2]});function N0(t){let e,n,o,i=[t[2],t[4]],r={};for(let l=0;l<i.length;l+=1)r=x(r,i[l]);return{c(){e=I("div"),se(e,r)},m(l,a){M(l,e,a),t[10](e),n||(o=Fe(t[2].action(e)),n=!0)},p(l,a){se(e,r=ye(i,[a&4&&l[2],a&16&&l[4]]))},i:ke,o:ke,d(l){l&&T(e),t[10](null),n=!1,o()}}}function E0(t){let e;const n=t[9].default,o=de(n,t,t[8],pa);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&260)&&pe(o,n,i,i[8],e?me(n,i[8],r,P0):he(i[8]),pa)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function $0(t){let e,n,o,i;const r=[E0,N0],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function R0(t,e,n){let o;const i=["orientation","decorative","asChild","el"];let r=le(e,i),l,{$$slots:a={},$$scope:s}=e,{orientation:u="horizontal"}=e,{decorative:f=!0}=e,{asChild:c=!1}=e,{el:d=void 0}=e;const{elements:{root:m},updateOption:p,getAttrs:_}=O0({orientation:u,decorative:f});ae(t,m,C=>n(7,l=C));const b=_("root");function k(C){Ne[C?"unshift":"push"](()=>{d=C,n(0,d)})}return t.$$set=C=>{e=x(x({},e),$e(C)),n(4,r=le(e,i)),"orientation"in C&&n(5,u=C.orientation),"decorative"in C&&n(6,f=C.decorative),"asChild"in C&&n(1,c=C.asChild),"el"in C&&n(0,d=C.el),"$$scope"in C&&n(8,s=C.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&p("orientation",u),t.$$.dirty&64&&p("decorative",f),t.$$.dirty&128&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,b)},[d,c,o,m,r,u,f,l,s,a,k]}let D0=class extends be{constructor(e){super(),ge(this,e,R0,$0,fe,{orientation:5,decorative:6,asChild:1,el:0})}};function Vc(){return{NAME:"dialog",PARTS:["close","content","description","overlay","portal","title","trigger"]}}function L0(t){const{NAME:e,PARTS:n}=Vc(),o=Yn(e,n),i={...qc({...So(t),role:"dialog",forceVisible:!0}),getAttrs:o};return pr(e,i),{...i,updateOption:Gn(i.options)}}function To(){const{NAME:t}=Vc();return hr(t)}const F0=t=>({ids:t&1}),ha=t=>({ids:t[0]});function B0(t){let e;const n=t[12].default,o=de(n,t,t[11],ha);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,[r]){o&&o.p&&(!e||r&2049)&&pe(o,n,i,i[11],e?me(n,i[11],r,F0):he(i[11]),ha)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function j0(t,e,n){let o,{$$slots:i={},$$scope:r}=e,{preventScroll:l=void 0}=e,{closeOnEscape:a=void 0}=e,{closeOnOutsideClick:s=void 0}=e,{portal:u=void 0}=e,{open:f=void 0}=e,{onOpenChange:c=void 0}=e,{openFocus:d=void 0}=e,{closeFocus:m=void 0}=e,{onOutsideClick:p=void 0}=e;const{states:{open:_},updateOption:b,ids:k}=L0({closeOnEscape:a,preventScroll:l,closeOnOutsideClick:s,portal:u,forceVisible:!0,defaultOpen:f,openFocus:d,closeFocus:m,onOutsideClick:p,onOpenChange:({next:w})=>(f!==w&&(c==null||c(w),n(2,f=w)),w)}),C=cn([k.content,k.description,k.title],([w,R,L])=>({content:w,description:R,title:L}));return ae(t,C,w=>n(0,o=w)),t.$$set=w=>{"preventScroll"in w&&n(3,l=w.preventScroll),"closeOnEscape"in w&&n(4,a=w.closeOnEscape),"closeOnOutsideClick"in w&&n(5,s=w.closeOnOutsideClick),"portal"in w&&n(6,u=w.portal),"open"in w&&n(2,f=w.open),"onOpenChange"in w&&n(7,c=w.onOpenChange),"openFocus"in w&&n(8,d=w.openFocus),"closeFocus"in w&&n(9,m=w.closeFocus),"onOutsideClick"in w&&n(10,p=w.onOutsideClick),"$$scope"in w&&n(11,r=w.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&f!==void 0&&_.set(f),t.$$.dirty&8&&b("preventScroll",l),t.$$.dirty&16&&b("closeOnEscape",a),t.$$.dirty&32&&b("closeOnOutsideClick",s),t.$$.dirty&64&&b("portal",u),t.$$.dirty&256&&b("openFocus",d),t.$$.dirty&512&&b("closeFocus",m),t.$$.dirty&1024&&b("onOutsideClick",p)},[o,C,f,l,a,s,u,c,d,m,p,r,i]}class q0 extends be{constructor(e){super(),ge(this,e,j0,B0,fe,{preventScroll:3,closeOnEscape:4,closeOnOutsideClick:5,portal:6,open:2,onOpenChange:7,openFocus:8,closeFocus:9,onOutsideClick:10})}}const G0=t=>({builder:t&8}),_a=t=>({builder:t[3]}),V0=t=>({builder:t&8}),ga=t=>({builder:t[3]});function H0(t){let e=t[1],n,o,i=t[1]&&Yr(t);return{c(){i&&i.c(),n=Re()},m(r,l){i&&i.m(r,l),M(r,n,l),o=!0},p(r,l){r[1]?e?fe(e,r[1])?(i.d(1),i=Yr(r),e=r[1],i.c(),i.m(n.parentNode,n)):i.p(r,l):(i=Yr(r),e=r[1],i.c(),i.m(n.parentNode,n)):e&&(i.d(1),i=null,e=r[1])},i(r){o||(A(i,r),o=!0)},o(r){S(i,r),o=!1},d(r){r&&T(n),i&&i.d(r)}}}function W0(t){let e;const n=t[9].default,o=de(n,t,t[8],ga);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&264)&&pe(o,n,i,i[8],e?me(n,i[8],r,V0):he(i[8]),ga)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Yr(t){let e,n,o,i;const r=t[9].default,l=de(r,t,t[8],_a);let a=[t[3],t[5]],s={};for(let u=0;u<a.length;u+=1)s=x(s,a[u]);return{c(){e=I(t[1]),l&&l.c(),yn(t[1])(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[10](e),n=!0,o||(i=Fe(t[3].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&264)&&pe(l,r,u,u[8],n?me(r,u[8],f,G0):he(u[8]),_a),yn(u[1])(e,s=ye(a,[f&8&&u[3],f&32&&u[5]]))},i(u){n||(A(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[10](null),o=!1,i()}}}function Y0(t){let e,n,o,i;const r=[W0,H0],l=[];function a(s,u){return s[2]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function U0(t,e,n){let o;const i=["level","asChild","id","el"];let r=le(e,i),l,{$$slots:a={},$$scope:s}=e,{level:u="h2"}=e,{asChild:f=!1}=e,{id:c=void 0}=e,{el:d=void 0}=e;const{elements:{title:m},ids:p,getAttrs:_}=To();ae(t,m,C=>n(7,l=C));const b=_("title");function k(C){Ne[C?"unshift":"push"](()=>{d=C,n(0,d)})}return t.$$set=C=>{e=x(x({},e),$e(C)),n(5,r=le(e,i)),"level"in C&&n(1,u=C.level),"asChild"in C&&n(2,f=C.asChild),"id"in C&&n(6,c=C.id),"el"in C&&n(0,d=C.el),"$$scope"in C&&n(8,s=C.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&c&&p.title.set(c),t.$$.dirty&128&&n(3,o=l),t.$$.dirty&8&&Object.assign(o,b)},[d,u,f,o,m,r,c,l,s,a,k]}let K0=class extends be{constructor(e){super(),ge(this,e,U0,Y0,fe,{level:1,asChild:2,id:6,el:0})}};const X0=t=>({builder:t&4}),ba=t=>({builder:t[2]}),J0=t=>({builder:t&4}),va=t=>({builder:t[2]});function x0(t){let e,n,o,i;const r=t[8].default,l=de(r,t,t[7],ba);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=x(s,a[u]);return{c(){e=I("button"),l&&l.c(),se(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[9](e),n=!0,o||(i=[Fe(t[2].action(e)),te(e,"m-click",t[4]),te(e,"m-keydown",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&pe(l,r,u,u[7],n?me(r,u[7],f,X0):he(u[7]),ba),se(e,s=ye(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(A(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[9](null),o=!1,Le(i)}}}function Z0(t){let e;const n=t[8].default,o=de(n,t,t[7],va);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&pe(o,n,i,i[7],e?me(n,i[7],r,J0):he(i[7]),va)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Q0(t){let e,n,o,i;const r=[Z0,x0],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function z0(t,e,n){let o;const i=["asChild","el"];let r=le(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:d}=To();ae(t,c,b=>n(6,l=b));const m=Un(),p=d("close");function _(b){Ne[b?"unshift":"push"](()=>{f=b,n(0,f)})}return t.$$set=b=>{e=x(x({},e),$e(b)),n(5,r=le(e,i)),"asChild"in b&&n(1,u=b.asChild),"el"in b&&n(0,f=b.el),"$$scope"in b&&n(7,s=b.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,p)},[f,u,o,c,m,r,l,s,a,_]}class eg extends be{constructor(e){super(),ge(this,e,z0,Q0,fe,{asChild:1,el:0})}}const tg=t=>({builder:t&4}),ya=t=>({builder:t[2]}),ng=t=>({builder:t&4}),wa=t=>({builder:t[2]});function og(t){let e,n,o,i;const r=t[7].default,l=de(r,t,t[6],ya);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=x(s,a[u]);return{c(){e=I("div"),l&&l.c(),se(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[8](e),n=!0,o||(i=Fe(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&68)&&pe(l,r,u,u[6],n?me(r,u[6],f,tg):he(u[6]),ya),se(e,s=ye(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(A(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[8](null),o=!1,i()}}}function ig(t){let e;const n=t[7].default,o=de(n,t,t[6],wa);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&68)&&pe(o,n,i,i[6],e?me(n,i[6],r,ng):he(i[6]),wa)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function rg(t){let e,n,o,i;const r=[ig,og],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function lg(t,e,n){let o;const i=["asChild","el"];let r=le(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{portalled:c},getAttrs:d}=To();ae(t,c,_=>n(5,l=_));const m=d("portal");function p(_){Ne[_?"unshift":"push"](()=>{f=_,n(0,f)})}return t.$$set=_=>{e=x(x({},e),$e(_)),n(4,r=le(e,i)),"asChild"in _&&n(1,u=_.asChild),"el"in _&&n(0,f=_.el),"$$scope"in _&&n(6,s=_.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,m)},[f,u,o,c,r,l,s,a,p]}let sg=class extends be{constructor(e){super(),ge(this,e,lg,rg,fe,{asChild:1,el:0})}};const ag=t=>({builder:t[0]&256}),ka=t=>({builder:t[8]}),ug=t=>({builder:t[0]&256}),Ca=t=>({builder:t[8]}),fg=t=>({builder:t[0]&256}),Aa=t=>({builder:t[8]}),cg=t=>({builder:t[0]&256}),Sa=t=>({builder:t[8]}),dg=t=>({builder:t[0]&256}),Ta=t=>({builder:t[8]}),mg=t=>({builder:t[0]&256}),Ma=t=>({builder:t[8]});function pg(t){let e,n,o,i;const r=t[16].default,l=de(r,t,t[15],ka);let a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=x(s,a[u]);return{c(){e=I("div"),l&&l.c(),se(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[56](e),n=!0,o||(i=[Fe(t[8].action(e)),te(e,"pointerdown",t[45]),te(e,"pointermove",t[46]),te(e,"pointerup",t[47]),te(e,"touchend",t[48]),te(e,"touchstart",t[49]),te(e,"touchcancel",t[50]),te(e,"touchmove",t[51])],o=!0)},p(u,f){l&&l.p&&(!n||f[0]&33024)&&pe(l,r,u,u[15],n?me(r,u[15],f,ag):he(u[15]),ka),se(e,s=ye(a,[f[0]&256&&u[8],f[0]&4096&&u[12]]))},i(u){n||(A(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[56](null),o=!1,Le(i)}}}function hg(t){let e,n,o,i,r;const l=t[16].default,a=de(l,t,t[15],Ca);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=x(u,s[f]);return{c(){e=I("div"),a&&a.c(),se(e,u)},m(f,c){M(f,e,c),a&&a.m(e,null),t[55](e),o=!0,i||(r=[Fe(t[8].action(e)),te(e,"pointerdown",t[38]),te(e,"pointermove",t[39]),te(e,"pointerup",t[40]),te(e,"touchend",t[41]),te(e,"touchstart",t[42]),te(e,"touchcancel",t[43]),te(e,"touchmove",t[44])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&pe(a,l,t,t[15],o?me(l,t[15],c,ug):he(t[15]),Ca),se(e,u=ye(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(A(a,f),n&&n.end(1),o=!0)},o(f){S(a,f),f&&(n=zt(e,t[5],t[6])),o=!1},d(f){f&&T(e),a&&a.d(f),t[55](null),f&&n&&n.end(),i=!1,Le(r)}}}function _g(t){let e,n,o,i,r;const l=t[16].default,a=de(l,t,t[15],Aa);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=x(u,s[f]);return{c(){e=I("div"),a&&a.c(),se(e,u)},m(f,c){M(f,e,c),a&&a.m(e,null),t[54](e),o=!0,i||(r=[Fe(t[8].action(e)),te(e,"pointerdown",t[31]),te(e,"pointermove",t[32]),te(e,"pointerup",t[33]),te(e,"touchend",t[34]),te(e,"touchstart",t[35]),te(e,"touchcancel",t[36]),te(e,"touchmove",t[37])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&pe(a,l,t,t[15],o?me(l,t[15],c,fg):he(t[15]),Aa),se(e,u=ye(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(A(a,f),f&&(n||ot(()=>{n=Qt(e,t[3],t[4]),n.start()})),o=!0)},o(f){S(a,f),o=!1},d(f){f&&T(e),a&&a.d(f),t[54](null),i=!1,Le(r)}}}function gg(t){let e,n,o,i,r,l;const a=t[16].default,s=de(a,t,t[15],Sa);let u=[t[8],t[12]],f={};for(let c=0;c<u.length;c+=1)f=x(f,u[c]);return{c(){e=I("div"),s&&s.c(),se(e,f)},m(c,d){M(c,e,d),s&&s.m(e,null),t[53](e),i=!0,r||(l=[Fe(t[8].action(e)),te(e,"pointerdown",t[24]),te(e,"pointermove",t[25]),te(e,"pointerup",t[26]),te(e,"touchend",t[27]),te(e,"touchstart",t[28]),te(e,"touchcancel",t[29]),te(e,"touchmove",t[30])],r=!0)},p(c,d){t=c,s&&s.p&&(!i||d[0]&33024)&&pe(s,a,t,t[15],i?me(a,t[15],d,cg):he(t[15]),Sa),se(e,f=ye(u,[d[0]&256&&t[8],d[0]&4096&&t[12]]))},i(c){i||(A(s,c),c&&ot(()=>{i&&(o&&o.end(1),n=Qt(e,t[3],t[4]),n.start())}),i=!0)},o(c){S(s,c),n&&n.invalidate(),c&&(o=zt(e,t[5],t[6])),i=!1},d(c){c&&T(e),s&&s.d(c),t[53](null),c&&o&&o.end(),r=!1,Le(l)}}}function bg(t){let e,n,o,i,r;const l=t[16].default,a=de(l,t,t[15],Ta);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=x(u,s[f]);return{c(){e=I("div"),a&&a.c(),se(e,u)},m(f,c){M(f,e,c),a&&a.m(e,null),t[52](e),o=!0,i||(r=[Fe(t[8].action(e)),te(e,"pointerdown",t[17]),te(e,"pointermove",t[18]),te(e,"pointerup",t[19]),te(e,"touchend",t[20]),te(e,"touchstart",t[21]),te(e,"touchcancel",t[22]),te(e,"touchmove",t[23])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&pe(a,l,t,t[15],o?me(l,t[15],c,dg):he(t[15]),Ta),se(e,u=ye(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(A(a,f),f&&ot(()=>{o&&(n||(n=Jt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(f){S(a,f),f&&(n||(n=Jt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(f){f&&T(e),a&&a.d(f),t[52](null),f&&n&&n.end(),i=!1,Le(r)}}}function vg(t){let e;const n=t[16].default,o=de(n,t,t[15],Ma);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r[0]&33024)&&pe(o,n,i,i[15],e?me(n,i[15],r,mg):he(i[15]),Ma)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function yg(t){let e,n,o,i;const r=[vg,bg,gg,_g,hg,pg],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=Re()},m(s,u){~e&&l[e].m(s,u),M(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),~e&&l[e].d(s)}}}function wg(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","id","el"];let r=le(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:p=void 0}=e,{outTransitionConfig:_=void 0}=e,{asChild:b=!1}=e,{id:k=void 0}=e,{el:C=void 0}=e;const{elements:{content:w},states:{open:R},ids:L,getAttrs:D}=To();ae(t,w,j=>n(14,l=j)),ae(t,R,j=>n(9,a=j));const E=D("content");function G(j){oe.call(this,t,j)}function $(j){oe.call(this,t,j)}function W(j){oe.call(this,t,j)}function y(j){oe.call(this,t,j)}function v(j){oe.call(this,t,j)}function O(j){oe.call(this,t,j)}function P(j){oe.call(this,t,j)}function H(j){oe.call(this,t,j)}function F(j){oe.call(this,t,j)}function Q(j){oe.call(this,t,j)}function ne(j){oe.call(this,t,j)}function z(j){oe.call(this,t,j)}function Y(j){oe.call(this,t,j)}function h(j){oe.call(this,t,j)}function V(j){oe.call(this,t,j)}function U(j){oe.call(this,t,j)}function ee(j){oe.call(this,t,j)}function Z(j){oe.call(this,t,j)}function we(j){oe.call(this,t,j)}function _e(j){oe.call(this,t,j)}function Te(j){oe.call(this,t,j)}function Xe(j){oe.call(this,t,j)}function Ve(j){oe.call(this,t,j)}function ze(j){oe.call(this,t,j)}function ue(j){oe.call(this,t,j)}function Ee(j){oe.call(this,t,j)}function Ge(j){oe.call(this,t,j)}function Be(j){oe.call(this,t,j)}function Ke(j){oe.call(this,t,j)}function Ce(j){oe.call(this,t,j)}function Ae(j){oe.call(this,t,j)}function wt(j){oe.call(this,t,j)}function Lt(j){oe.call(this,t,j)}function ft(j){oe.call(this,t,j)}function Ft(j){oe.call(this,t,j)}function ct(j){Ne[j?"unshift":"push"](()=>{C=j,n(0,C)})}function pt(j){Ne[j?"unshift":"push"](()=>{C=j,n(0,C)})}function nt(j){Ne[j?"unshift":"push"](()=>{C=j,n(0,C)})}function ce(j){Ne[j?"unshift":"push"](()=>{C=j,n(0,C)})}function We(j){Ne[j?"unshift":"push"](()=>{C=j,n(0,C)})}return t.$$set=j=>{e=x(x({},e),$e(j)),n(12,r=le(e,i)),"transition"in j&&n(1,f=j.transition),"transitionConfig"in j&&n(2,c=j.transitionConfig),"inTransition"in j&&n(3,d=j.inTransition),"inTransitionConfig"in j&&n(4,m=j.inTransitionConfig),"outTransition"in j&&n(5,p=j.outTransition),"outTransitionConfig"in j&&n(6,_=j.outTransitionConfig),"asChild"in j&&n(7,b=j.asChild),"id"in j&&n(13,k=j.id),"el"in j&&n(0,C=j.el),"$$scope"in j&&n(15,u=j.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&8192&&k&&L.content.set(k),t.$$.dirty[0]&16384&&n(8,o=l),t.$$.dirty[0]&256&&Object.assign(o,E)},[C,f,c,d,m,p,_,b,o,a,w,R,r,k,l,u,s,G,$,W,y,v,O,P,H,F,Q,ne,z,Y,h,V,U,ee,Z,we,_e,Te,Xe,Ve,ze,ue,Ee,Ge,Be,Ke,Ce,Ae,wt,Lt,ft,Ft,ct,pt,nt,ce,We]}let kg=class extends be{constructor(e){super(),ge(this,e,wg,yg,fe,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,id:13,el:0},null,[-1,-1])}};const Cg=t=>({builder:t&256}),Ia=t=>({builder:t[8]});function Ag(t){let e,n,o,i=[t[8],t[12]],r={};for(let l=0;l<i.length;l+=1)r=x(r,i[l]);return{c(){e=I("div"),se(e,r)},m(l,a){M(l,e,a),t[25](e),n||(o=[Fe(t[8].action(e)),te(e,"mouseup",t[20])],n=!0)},p(l,a){se(e,r=ye(i,[a&256&&l[8],a&4096&&l[12]]))},i:ke,o:ke,d(l){l&&T(e),t[25](null),n=!1,Le(o)}}}function Sg(t){let e,n,o,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=x(a,l[s]);return{c(){e=I("div"),se(e,a)},m(s,u){M(s,e,u),t[24](e),o=!0,i||(r=[Fe(t[8].action(e)),te(e,"mouseup",t[19])],i=!0)},p(s,u){t=s,se(e,a=ye(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(n&&n.end(1),o=!0)},o(s){s&&(n=zt(e,t[5],t[6])),o=!1},d(s){s&&T(e),t[24](null),s&&n&&n.end(),i=!1,Le(r)}}}function Tg(t){let e,n,o,i,r=[t[8],t[12]],l={};for(let a=0;a<r.length;a+=1)l=x(l,r[a]);return{c(){e=I("div"),se(e,l)},m(a,s){M(a,e,s),t[23](e),o||(i=[Fe(t[8].action(e)),te(e,"mouseup",t[18])],o=!0)},p(a,s){t=a,se(e,l=ye(r,[s&256&&t[8],s&4096&&t[12]]))},i(a){a&&(n||ot(()=>{n=Qt(e,t[3],t[4]),n.start()}))},o:ke,d(a){a&&T(e),t[23](null),o=!1,Le(i)}}}function Mg(t){let e,n,o,i,r,l,a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=x(s,a[u]);return{c(){e=I("div"),se(e,s)},m(u,f){M(u,e,f),t[22](e),i=!0,r||(l=[Fe(t[8].action(e)),te(e,"mouseup",t[17])],r=!0)},p(u,f){t=u,se(e,s=ye(a,[f&256&&t[8],f&4096&&t[12]]))},i(u){i||(u&&ot(()=>{i&&(o&&o.end(1),n=Qt(e,t[3],t[4]),n.start())}),i=!0)},o(u){n&&n.invalidate(),u&&(o=zt(e,t[5],t[6])),i=!1},d(u){u&&T(e),t[22](null),u&&o&&o.end(),r=!1,Le(l)}}}function Ig(t){let e,n,o,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=x(a,l[s]);return{c(){e=I("div"),se(e,a)},m(s,u){M(s,e,u),t[21](e),o=!0,i||(r=[te(e,"mouseup",t[16]),Fe(t[8].action(e))],i=!0)},p(s,u){t=s,se(e,a=ye(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(s&&ot(()=>{o&&(n||(n=Jt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(s){s&&(n||(n=Jt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(s){s&&T(e),t[21](null),s&&n&&n.end(),i=!1,Le(r)}}}function Og(t){let e;const n=t[15].default,o=de(n,t,t[14],Ia);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&16640)&&pe(o,n,i,i[14],e?me(n,i[14],r,Cg):he(i[14]),Ia)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Pg(t){let e,n,o,i;const r=[Og,Ig,Mg,Tg,Sg,Ag],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=Re()},m(s,u){~e&&l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),~e&&l[e].d(s)}}}function Ng(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","el"];let r=le(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:p=void 0}=e,{outTransitionConfig:_=void 0}=e,{asChild:b=!1}=e,{el:k=void 0}=e;const{elements:{overlay:C},states:{open:w},getAttrs:R}=To();ae(t,C,F=>n(13,l=F)),ae(t,w,F=>n(9,a=F));const L=R("overlay");function D(F){oe.call(this,t,F)}function E(F){oe.call(this,t,F)}function G(F){oe.call(this,t,F)}function $(F){oe.call(this,t,F)}function W(F){oe.call(this,t,F)}function y(F){Ne[F?"unshift":"push"](()=>{k=F,n(0,k)})}function v(F){Ne[F?"unshift":"push"](()=>{k=F,n(0,k)})}function O(F){Ne[F?"unshift":"push"](()=>{k=F,n(0,k)})}function P(F){Ne[F?"unshift":"push"](()=>{k=F,n(0,k)})}function H(F){Ne[F?"unshift":"push"](()=>{k=F,n(0,k)})}return t.$$set=F=>{e=x(x({},e),$e(F)),n(12,r=le(e,i)),"transition"in F&&n(1,f=F.transition),"transitionConfig"in F&&n(2,c=F.transitionConfig),"inTransition"in F&&n(3,d=F.inTransition),"inTransitionConfig"in F&&n(4,m=F.inTransitionConfig),"outTransition"in F&&n(5,p=F.outTransition),"outTransitionConfig"in F&&n(6,_=F.outTransitionConfig),"asChild"in F&&n(7,b=F.asChild),"el"in F&&n(0,k=F.el),"$$scope"in F&&n(14,u=F.$$scope)},t.$$.update=()=>{t.$$.dirty&8192&&n(8,o=l),t.$$.dirty&256&&Object.assign(o,L)},[k,f,c,d,m,p,_,b,o,a,C,w,r,l,u,s,D,E,G,$,W,y,v,O,P,H]}let Eg=class extends be{constructor(e){super(),ge(this,e,Ng,Pg,fe,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,el:0})}};const $g=t=>({builder:t&4}),Oa=t=>({builder:t[2]}),Rg=t=>({builder:t&4}),Pa=t=>({builder:t[2]});function Dg(t){let e,n,o,i;const r=t[8].default,l=de(r,t,t[7],Oa);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=x(s,a[u]);return{c(){e=I("div"),l&&l.c(),se(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[9](e),n=!0,o||(i=Fe(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&pe(l,r,u,u[7],n?me(r,u[7],f,$g):he(u[7]),Oa),se(e,s=ye(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(A(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[9](null),o=!1,i()}}}function Lg(t){let e;const n=t[8].default,o=de(n,t,t[7],Pa);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&pe(o,n,i,i[7],e?me(n,i[7],r,Rg):he(i[7]),Pa)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Fg(t){let e,n,o,i;const r=[Lg,Dg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function Bg(t,e,n){let o;const i=["asChild","id","el"];let r=le(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{description:d},ids:m,getAttrs:p}=To();ae(t,d,k=>n(6,l=k));const _=p("description");function b(k){Ne[k?"unshift":"push"](()=>{c=k,n(0,c)})}return t.$$set=k=>{e=x(x({},e),$e(k)),n(4,r=le(e,i)),"asChild"in k&&n(1,u=k.asChild),"id"in k&&n(5,f=k.id),"el"in k&&n(0,c=k.el),"$$scope"in k&&n(7,s=k.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f&&m.description.set(f),t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,_)},[c,u,o,d,r,f,l,s,a,b]}let jg=class extends be{constructor(e){super(),ge(this,e,Bg,Fg,fe,{asChild:1,id:5,el:0})}};function qg(){const t="label",n=Yn(t,["root"]);return{NAME:t,getAttrs:n}}const Gg=t=>({builder:t&4}),Na=t=>({builder:t[2]}),Vg=t=>({builder:t&4}),Ea=t=>({builder:t[2]});function Hg(t){let e,n,o,i;const r=t[8].default,l=de(r,t,t[7],Na);let a=[t[2],t[5]],s={};for(let u=0;u<a.length;u+=1)s=x(s,a[u]);return{c(){e=I("label"),l&&l.c(),se(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[9](e),n=!0,o||(i=[Fe(t[2].action(e)),te(e,"m-mousedown",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&pe(l,r,u,u[7],n?me(r,u[7],f,Gg):he(u[7]),Na),se(e,s=ye(a,[f&4&&u[2],f&32&&u[5]]))},i(u){n||(A(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[9](null),o=!1,Le(i)}}}function Wg(t){let e;const n=t[8].default,o=de(n,t,t[7],Ea);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&pe(o,n,i,i[7],e?me(n,i[7],r,Vg):he(i[7]),Ea)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Yg(t){let e,n,o,i;const r=[Wg,Hg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function Ug(t,e,n){let o;const i=["asChild","el"];let r=le(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{root:c}}=Jh();ae(t,c,b=>n(6,l=b));const d=Un(),{getAttrs:m}=qg(),p=m("root");function _(b){Ne[b?"unshift":"push"](()=>{f=b,n(0,f)})}return t.$$set=b=>{e=x(x({},e),$e(b)),n(5,r=le(e,i)),"asChild"in b&&n(1,u=b.asChild),"el"in b&&n(0,f=b.el),"$$scope"in b&&n(7,s=b.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,p)},[f,u,o,c,d,r,l,s,a,_]}let Kg=class extends be{constructor(e){super(),ge(this,e,Ug,Yg,fe,{asChild:1,el:0})}};function Xg(){return{NAME:"progress",PARTS:["root"]}}function Jg(t){const{NAME:e,PARTS:n}=Xg(),o=Yn(e,n),i={...e_(So(t)),getAttrs:o};return{...i,updateOption:Gn(i.options)}}const xg=t=>({builder:t&4}),$a=t=>({builder:t[2]}),Zg=t=>({builder:t&4}),Ra=t=>({builder:t[2]});function Qg(t){let e,n,o,i;const r=t[10].default,l=de(r,t,t[9],$a);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=x(s,a[u]);return{c(){e=I("div"),l&&l.c(),se(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[11](e),n=!0,o||(i=Fe(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&516)&&pe(l,r,u,u[9],n?me(r,u[9],f,xg):he(u[9]),$a),se(e,s=ye(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(A(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[11](null),o=!1,i()}}}function zg(t){let e;const n=t[10].default,o=de(n,t,t[9],Ra);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&516)&&pe(o,n,i,i[9],e?me(n,i[9],r,Zg):he(i[9]),Ra)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function e1(t){let e,n,o,i;const r=[zg,Qg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function t1(t,e,n){let o;const i=["max","value","onValueChange","asChild","el"];let r=le(e,i),l,{$$slots:a={},$$scope:s}=e,{max:u=void 0}=e,{value:f=void 0}=e,{onValueChange:c=void 0}=e,{asChild:d=!1}=e,{el:m=void 0}=e;const{elements:{root:p},states:{value:_},updateOption:b,getAttrs:k}=Jg({max:u,defaultValue:f,onValueChange:({next:R})=>(c==null||c(R),n(5,f=R),R)});ae(t,p,R=>n(8,l=R));const C=k("root");function w(R){Ne[R?"unshift":"push"](()=>{m=R,n(0,m)})}return t.$$set=R=>{e=x(x({},e),$e(R)),n(4,r=le(e,i)),"max"in R&&n(6,u=R.max),"value"in R&&n(5,f=R.value),"onValueChange"in R&&n(7,c=R.onValueChange),"asChild"in R&&n(1,d=R.asChild),"el"in R&&n(0,m=R.el),"$$scope"in R&&n(9,s=R.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f!==void 0&&_.set(f),t.$$.dirty&64&&b("max",u),t.$$.dirty&256&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,C)},[m,d,o,p,r,f,u,c,l,s,a,w]}let n1=class extends be{constructor(e){super(),ge(this,e,t1,e1,fe,{max:6,value:5,onValueChange:7,asChild:1,el:0})}};function Hc(){return{NAME:"slider",PARTS:["root","input","range","thumb","tick"]}}function o1(t){const{NAME:e,PARTS:n}=Hc(),o=Yn(e,n),i={...i_(So(t)),getAttrs:o};return pr(e,i),{...i,updateOption:Gn(i.options)}}function Wc(){const{NAME:t}=Hc();return hr(t)}const i1=t=>({builder:t&4,ticks:t&8,thumbs:t&16}),Da=t=>({builder:t[2],ticks:t[3],thumbs:t[4]}),r1=t=>({builder:t&4,ticks:t&8,thumbs:t&16}),La=t=>({builder:t[2],ticks:t[3],thumbs:t[4]});function l1(t){let e,n,o,i;const r=t[18].default,l=de(r,t,t[17],Da);let a=[t[2],t[8]],s={};for(let u=0;u<a.length;u+=1)s=x(s,a[u]);return{c(){e=I("span"),l&&l.c(),se(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[19](e),n=!0,o||(i=Fe(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&131100)&&pe(l,r,u,u[17],n?me(r,u[17],f,i1):he(u[17]),Da),se(e,s=ye(a,[f&4&&u[2],f&256&&u[8]]))},i(u){n||(A(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[19](null),o=!1,i()}}}function s1(t){let e;const n=t[18].default,o=de(n,t,t[17],La);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&131100)&&pe(o,n,i,i[17],e?me(n,i[17],r,r1):he(i[17]),La)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function a1(t){let e,n,o,i;const r=[s1,l1],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function u1(t,e,n){let o;const i=["disabled","min","max","step","orientation","value","onValueChange","asChild","el"];let r=le(e,i),l,a,s,{$$slots:u={},$$scope:f}=e,{disabled:c=void 0}=e,{min:d=void 0}=e,{max:m=void 0}=e,{step:p=void 0}=e,{orientation:_=void 0}=e,{value:b=void 0}=e,{onValueChange:k=void 0}=e,{asChild:C=!1}=e,{el:w=void 0}=e;const{elements:{root:R,ticks:L,thumbs:D},states:{value:E},updateOption:G,getAttrs:$}=o1({disabled:c,min:d,max:m,step:p,orientation:_,defaultValue:b,onValueChange:({next:v})=>(b!==v&&(k==null||k(v),n(9,b=v)),v)});ae(t,R,v=>n(16,l=v)),ae(t,L,v=>n(3,a=v)),ae(t,D,v=>n(4,s=v));const W=$("root");function y(v){Ne[v?"unshift":"push"](()=>{w=v,n(0,w)})}return t.$$set=v=>{e=x(x({},e),$e(v)),n(8,r=le(e,i)),"disabled"in v&&n(10,c=v.disabled),"min"in v&&n(11,d=v.min),"max"in v&&n(12,m=v.max),"step"in v&&n(13,p=v.step),"orientation"in v&&n(14,_=v.orientation),"value"in v&&n(9,b=v.value),"onValueChange"in v&&n(15,k=v.onValueChange),"asChild"in v&&n(1,C=v.asChild),"el"in v&&n(0,w=v.el),"$$scope"in v&&n(17,f=v.$$scope)},t.$$.update=()=>{t.$$.dirty&512&&b!==void 0&&E.set(b),t.$$.dirty&1024&&G("disabled",c),t.$$.dirty&2048&&G("min",d),t.$$.dirty&4096&&G("max",m),t.$$.dirty&8192&&G("step",p),t.$$.dirty&16384&&G("orientation",_),t.$$.dirty&65536&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,W)},[w,C,o,a,s,R,L,D,r,b,c,d,m,p,_,k,l,f,u,y]}let f1=class extends be{constructor(e){super(),ge(this,e,u1,a1,fe,{disabled:10,min:11,max:12,step:13,orientation:14,value:9,onValueChange:15,asChild:1,el:0})}};const c1=t=>({builder:t&4}),Fa=t=>({builder:t[2]});function d1(t){let e,n,o,i=[t[2],t[4]],r={};for(let l=0;l<i.length;l+=1)r=x(r,i[l]);return{c(){e=I("span"),se(e,r)},m(l,a){M(l,e,a),t[8](e),n||(o=Fe(t[2].action(e)),n=!0)},p(l,a){se(e,r=ye(i,[a&4&&l[2],a&16&&l[4]]))},i:ke,o:ke,d(l){l&&T(e),t[8](null),n=!1,o()}}}function m1(t){let e;const n=t[7].default,o=de(n,t,t[6],Fa);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&68)&&pe(o,n,i,i[6],e?me(n,i[6],r,c1):he(i[6]),Fa)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function p1(t){let e,n,o,i;const r=[m1,d1],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function h1(t,e,n){let o;const i=["asChild","el"];let r=le(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{range:c},getAttrs:d}=Wc();ae(t,c,_=>n(5,l=_));const m=d("range");function p(_){Ne[_?"unshift":"push"](()=>{f=_,n(0,f)})}return t.$$set=_=>{e=x(x({},e),$e(_)),n(4,r=le(e,i)),"asChild"in _&&n(1,u=_.asChild),"el"in _&&n(0,f=_.el),"$$scope"in _&&n(6,s=_.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,m)},[f,u,o,c,r,l,s,a,p]}class _1 extends be{constructor(e){super(),ge(this,e,h1,p1,fe,{asChild:1,el:0})}}const g1=t=>({builder:t&4}),Ba=t=>({builder:t[2]});function b1(t){let e,n,o,i=[t[2],t[4]],r={};for(let l=0;l<i.length;l+=1)r=x(r,i[l]);return{c(){e=I("span"),se(e,r)},m(l,a){M(l,e,a),t[8](e),n||(o=[Fe(t[2].action(e)),te(e,"m-keydown",t[3])],n=!0)},p(l,a){se(e,r=ye(i,[a&4&&l[2],a&16&&l[4]]))},i:ke,o:ke,d(l){l&&T(e),t[8](null),n=!1,Le(o)}}}function v1(t){let e;const n=t[7].default,o=de(n,t,t[6],Ba);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&68)&&pe(o,n,i,i[6],e?me(n,i[6],r,g1):he(i[6]),Ba)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function y1(t){let e,n,o,i;const r=[v1,b1],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function w1(t,e,n){let o;const i=["asChild","el","thumb"];let r=le(e,i),{$$slots:l={},$$scope:a}=e,{asChild:s=!1}=e,{el:u=void 0}=e,{thumb:f}=e;const{getAttrs:c}=Wc(),d=Un(),m=c("thumb");function p(_){Ne[_?"unshift":"push"](()=>{u=_,n(0,u)})}return t.$$set=_=>{e=x(x({},e),$e(_)),n(4,r=le(e,i)),"asChild"in _&&n(1,s=_.asChild),"el"in _&&n(0,u=_.el),"thumb"in _&&n(5,f=_.thumb),"$$scope"in _&&n(6,a=_.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=f),t.$$.dirty&4&&Object.assign(o,m)},[u,s,o,d,r,f,a,l,p]}class k1 extends be{constructor(e){super(),ge(this,e,w1,y1,fe,{asChild:1,el:0,thumb:5})}}function Yc(){return{NAME:"tooltip",PARTS:["arrow","content","trigger"]}}function C1(t){const{NAME:e,PARTS:n}=Yc(),o=Yn(e,n),i={...s_({positioning:{placement:"top",gutter:0},openDelay:700,...So(t),forceVisible:!0}),getAttrs:o};return pr(e,i),{...i,updateOption:Gn(i.options)}}function Yl(){const{NAME:t}=Yc();return hr(t)}function A1(t){const n={...{side:"top",align:"center",sideOffset:1},...t},{options:{positioning:o}}=Yl();S0(o)({...n})}const S1=t=>({ids:t&1}),ja=t=>({ids:t[0]});function T1(t){let e;const n=t[12].default,o=de(n,t,t[11],ja);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,[r]){o&&o.p&&(!e||r&2049)&&pe(o,n,i,i[11],e?me(n,i[11],r,S1):he(i[11]),ja)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function M1(t,e,n){let o,{$$slots:i={},$$scope:r}=e,{closeOnEscape:l=void 0}=e,{portal:a=void 0}=e,{closeOnPointerDown:s=void 0}=e,{openDelay:u=void 0}=e,{closeDelay:f=void 0}=e,{open:c=void 0}=e,{onOpenChange:d=void 0}=e,{disableHoverableContent:m=void 0}=e,{group:p=void 0}=e;const{states:{open:_},updateOption:b,ids:k}=C1({closeOnEscape:l,portal:a,closeOnPointerDown:s,openDelay:u,closeDelay:f,forceVisible:!0,defaultOpen:c,disableHoverableContent:m,group:p,onOpenChange:({next:w})=>(c!==w&&(d==null||d(w),n(2,c=w)),w),positioning:{gutter:0,offset:{mainAxis:1}}}),C=cn([k.content,k.trigger],([w,R])=>({content:w,trigger:R}));return ae(t,C,w=>n(0,o=w)),t.$$set=w=>{"closeOnEscape"in w&&n(3,l=w.closeOnEscape),"portal"in w&&n(4,a=w.portal),"closeOnPointerDown"in w&&n(5,s=w.closeOnPointerDown),"openDelay"in w&&n(6,u=w.openDelay),"closeDelay"in w&&n(7,f=w.closeDelay),"open"in w&&n(2,c=w.open),"onOpenChange"in w&&n(8,d=w.onOpenChange),"disableHoverableContent"in w&&n(9,m=w.disableHoverableContent),"group"in w&&n(10,p=w.group),"$$scope"in w&&n(11,r=w.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&c!==void 0&&_.set(c),t.$$.dirty&8&&b("closeOnEscape",l),t.$$.dirty&16&&b("portal",a),t.$$.dirty&32&&b("closeOnPointerDown",s),t.$$.dirty&64&&b("openDelay",u),t.$$.dirty&128&&b("closeDelay",f),t.$$.dirty&1024&&b("group",p),t.$$.dirty&512&&b("disableHoverableContent",m)},[o,C,c,l,a,s,u,f,d,m,p,r,i]}class I1 extends be{constructor(e){super(),ge(this,e,M1,T1,fe,{closeOnEscape:3,portal:4,closeOnPointerDown:5,openDelay:6,closeDelay:7,open:2,onOpenChange:8,disableHoverableContent:9,group:10})}}const O1=t=>({builder:t[0]&256}),qa=t=>({builder:t[8]}),P1=t=>({builder:t[0]&256}),Ga=t=>({builder:t[8]}),N1=t=>({builder:t[0]&256}),Va=t=>({builder:t[8]}),E1=t=>({builder:t[0]&256}),Ha=t=>({builder:t[8]}),$1=t=>({builder:t[0]&256}),Wa=t=>({builder:t[8]}),R1=t=>({builder:t[0]&256}),Ya=t=>({builder:t[8]});function D1(t){let e,n,o,i;const r=t[28].default,l=de(r,t,t[27],qa);let a=[t[8],t[13]],s={};for(let u=0;u<a.length;u+=1)s=x(s,a[u]);return{c(){e=I("div"),l&&l.c(),se(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[33](e),n=!0,o||(i=[Fe(t[8].action(e)),te(e,"m-pointerdown",t[12]),te(e,"m-pointerenter",t[12])],o=!0)},p(u,f){l&&l.p&&(!n||f[0]&134217984)&&pe(l,r,u,u[27],n?me(r,u[27],f,O1):he(u[27]),qa),se(e,s=ye(a,[f[0]&256&&u[8],f[0]&8192&&u[13]]))},i(u){n||(A(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[33](null),o=!1,Le(i)}}}function L1(t){let e,n,o,i,r;const l=t[28].default,a=de(l,t,t[27],Ga);let s=[t[8],t[13]],u={};for(let f=0;f<s.length;f+=1)u=x(u,s[f]);return{c(){e=I("div"),a&&a.c(),se(e,u)},m(f,c){M(f,e,c),a&&a.m(e,null),t[32](e),o=!0,i||(r=[Fe(t[8].action(e)),te(e,"m-pointerdown",t[12]),te(e,"m-pointerenter",t[12])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&134217984)&&pe(a,l,t,t[27],o?me(l,t[27],c,P1):he(t[27]),Ga),se(e,u=ye(s,[c[0]&256&&t[8],c[0]&8192&&t[13]]))},i(f){o||(A(a,f),n&&n.end(1),o=!0)},o(f){S(a,f),f&&(n=zt(e,t[5],t[6])),o=!1},d(f){f&&T(e),a&&a.d(f),t[32](null),f&&n&&n.end(),i=!1,Le(r)}}}function F1(t){let e,n,o,i,r;const l=t[28].default,a=de(l,t,t[27],Va);let s=[t[8],t[13]],u={};for(let f=0;f<s.length;f+=1)u=x(u,s[f]);return{c(){e=I("div"),a&&a.c(),se(e,u)},m(f,c){M(f,e,c),a&&a.m(e,null),t[31](e),o=!0,i||(r=[Fe(t[8].action(e)),te(e,"m-pointerdown",t[12]),te(e,"m-pointerenter",t[12])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&134217984)&&pe(a,l,t,t[27],o?me(l,t[27],c,N1):he(t[27]),Va),se(e,u=ye(s,[c[0]&256&&t[8],c[0]&8192&&t[13]]))},i(f){o||(A(a,f),f&&(n||ot(()=>{n=Qt(e,t[3],t[4]),n.start()})),o=!0)},o(f){S(a,f),o=!1},d(f){f&&T(e),a&&a.d(f),t[31](null),i=!1,Le(r)}}}function B1(t){let e,n,o,i,r,l;const a=t[28].default,s=de(a,t,t[27],Ha);let u=[t[8],t[13]],f={};for(let c=0;c<u.length;c+=1)f=x(f,u[c]);return{c(){e=I("div"),s&&s.c(),se(e,f)},m(c,d){M(c,e,d),s&&s.m(e,null),t[30](e),i=!0,r||(l=[Fe(t[8].action(e)),te(e,"m-pointerdown",t[12]),te(e,"m-pointerenter",t[12])],r=!0)},p(c,d){t=c,s&&s.p&&(!i||d[0]&134217984)&&pe(s,a,t,t[27],i?me(a,t[27],d,E1):he(t[27]),Ha),se(e,f=ye(u,[d[0]&256&&t[8],d[0]&8192&&t[13]]))},i(c){i||(A(s,c),c&&ot(()=>{i&&(o&&o.end(1),n=Qt(e,t[3],t[4]),n.start())}),i=!0)},o(c){S(s,c),n&&n.invalidate(),c&&(o=zt(e,t[5],t[6])),i=!1},d(c){c&&T(e),s&&s.d(c),t[30](null),c&&o&&o.end(),r=!1,Le(l)}}}function j1(t){let e,n,o,i,r;const l=t[28].default,a=de(l,t,t[27],Wa);let s=[t[8],t[13]],u={};for(let f=0;f<s.length;f+=1)u=x(u,s[f]);return{c(){e=I("div"),a&&a.c(),se(e,u)},m(f,c){M(f,e,c),a&&a.m(e,null),t[29](e),o=!0,i||(r=[Fe(t[8].action(e)),te(e,"m-pointerdown",t[12]),te(e,"m-pointerenter",t[12])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&134217984)&&pe(a,l,t,t[27],o?me(l,t[27],c,$1):he(t[27]),Wa),se(e,u=ye(s,[c[0]&256&&t[8],c[0]&8192&&t[13]]))},i(f){o||(A(a,f),f&&ot(()=>{o&&(n||(n=Jt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(f){S(a,f),f&&(n||(n=Jt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(f){f&&T(e),a&&a.d(f),t[29](null),f&&n&&n.end(),i=!1,Le(r)}}}function q1(t){let e;const n=t[28].default,o=de(n,t,t[27],Ya);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r[0]&134217984)&&pe(o,n,i,i[27],e?me(n,i[27],r,R1):he(i[27]),Ya)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function G1(t){let e,n,o,i;const r=[q1,j1,B1,F1,L1,D1],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=Re()},m(s,u){~e&&l[e].m(s,u),M(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),~e&&l[e].d(s)}}}function V1(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","id","side","align","sideOffset","alignOffset","collisionPadding","avoidCollisions","collisionBoundary","sameWidth","fitViewport","strategy","overlap","el"];let r=le(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:p=void 0}=e,{outTransitionConfig:_=void 0}=e,{asChild:b=!1}=e,{id:k=void 0}=e,{side:C="top"}=e,{align:w="center"}=e,{sideOffset:R=0}=e,{alignOffset:L=0}=e,{collisionPadding:D=8}=e,{avoidCollisions:E=!0}=e,{collisionBoundary:G=void 0}=e,{sameWidth:$=!1}=e,{fitViewport:W=!1}=e,{strategy:y="absolute"}=e,{overlap:v=!1}=e,{el:O=void 0}=e;const{elements:{content:P},states:{open:H},ids:F,getAttrs:Q}=Yl();ae(t,P,Z=>n(26,a=Z)),ae(t,H,Z=>n(9,l=Z));const ne=Un(),z=Q("content");function Y(Z){Ne[Z?"unshift":"push"](()=>{O=Z,n(0,O)})}function h(Z){Ne[Z?"unshift":"push"](()=>{O=Z,n(0,O)})}function V(Z){Ne[Z?"unshift":"push"](()=>{O=Z,n(0,O)})}function U(Z){Ne[Z?"unshift":"push"](()=>{O=Z,n(0,O)})}function ee(Z){Ne[Z?"unshift":"push"](()=>{O=Z,n(0,O)})}return t.$$set=Z=>{e=x(x({},e),$e(Z)),n(13,r=le(e,i)),"transition"in Z&&n(1,f=Z.transition),"transitionConfig"in Z&&n(2,c=Z.transitionConfig),"inTransition"in Z&&n(3,d=Z.inTransition),"inTransitionConfig"in Z&&n(4,m=Z.inTransitionConfig),"outTransition"in Z&&n(5,p=Z.outTransition),"outTransitionConfig"in Z&&n(6,_=Z.outTransitionConfig),"asChild"in Z&&n(7,b=Z.asChild),"id"in Z&&n(14,k=Z.id),"side"in Z&&n(15,C=Z.side),"align"in Z&&n(16,w=Z.align),"sideOffset"in Z&&n(17,R=Z.sideOffset),"alignOffset"in Z&&n(18,L=Z.alignOffset),"collisionPadding"in Z&&n(19,D=Z.collisionPadding),"avoidCollisions"in Z&&n(20,E=Z.avoidCollisions),"collisionBoundary"in Z&&n(21,G=Z.collisionBoundary),"sameWidth"in Z&&n(22,$=Z.sameWidth),"fitViewport"in Z&&n(23,W=Z.fitViewport),"strategy"in Z&&n(24,y=Z.strategy),"overlap"in Z&&n(25,v=Z.overlap),"el"in Z&&n(0,O=Z.el),"$$scope"in Z&&n(27,u=Z.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&16384&&k&&F.content.set(k),t.$$.dirty[0]&67108864&&n(8,o=a),t.$$.dirty[0]&256&&Object.assign(o,z),t.$$.dirty[0]&67076608&&l&&A1({side:C,align:w,sideOffset:R,alignOffset:L,collisionPadding:D,avoidCollisions:E,collisionBoundary:G,sameWidth:$,fitViewport:W,strategy:y,overlap:v})},[O,f,c,d,m,p,_,b,o,l,P,H,ne,r,k,C,w,R,L,D,E,G,$,W,y,v,a,u,s,Y,h,V,U,ee]}let H1=class extends be{constructor(e){super(),ge(this,e,V1,G1,fe,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,id:14,side:15,align:16,sideOffset:17,alignOffset:18,collisionPadding:19,avoidCollisions:20,collisionBoundary:21,sameWidth:22,fitViewport:23,strategy:24,overlap:25,el:0},null,[-1,-1])}};const W1=t=>({builder:t&4}),Ua=t=>({builder:t[2]}),Y1=t=>({builder:t&4}),Ka=t=>({builder:t[2]});function U1(t){let e,n,o,i;const r=t[9].default,l=de(r,t,t[8],Ua);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=x(s,a[u]);return{c(){e=I("button"),l&&l.c(),se(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[10](e),n=!0,o||(i=[Fe(t[2].action(e)),te(e,"m-blur",t[4]),te(e,"m-focus",t[4]),te(e,"m-keydown",t[4]),te(e,"m-pointerdown",t[4]),te(e,"m-pointerenter",t[4]),te(e,"m-pointerleave",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&260)&&pe(l,r,u,u[8],n?me(r,u[8],f,W1):he(u[8]),Ua),se(e,s=ye(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(A(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[10](null),o=!1,Le(i)}}}function K1(t){let e;const n=t[9].default,o=de(n,t,t[8],Ka);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&260)&&pe(o,n,i,i[8],e?me(n,i[8],r,Y1):he(i[8]),Ka)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function X1(t){let e,n,o,i;const r=[K1,U1],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function J1(t,e,n){let o;const i=["asChild","id","el"];let r=le(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{trigger:d},ids:m,getAttrs:p}=Yl();ae(t,d,C=>n(7,l=C));const _=Un(),b=p("trigger");function k(C){Ne[C?"unshift":"push"](()=>{c=C,n(0,c)})}return t.$$set=C=>{e=x(x({},e),$e(C)),n(5,r=le(e,i)),"asChild"in C&&n(1,u=C.asChild),"id"in C&&n(6,f=C.id),"el"in C&&n(0,c=C.el),"$$scope"in C&&n(8,s=C.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&f&&m.trigger.set(f),t.$$.dirty&128&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,b)},[c,u,o,d,_,r,f,l,s,a,k]}class x1 extends be{constructor(e){super(),ge(this,e,J1,X1,fe,{asChild:1,id:6,el:0})}}function Z1(t){let e;const n=t[5].default,o=de(n,t,t[8],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&256)&&pe(o,n,i,i[8],e?me(n,i[8],r,null):he(i[8]),null)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Q1(t){let e,n;const o=[{builders:t[3]},{class:De(bo({variant:t[1],size:t[2],className:t[0]}))},{type:"button"},t[4]];let i={$$slots:{default:[Z1]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=x(i,o[r]);return e=new A0({props:i}),e.$on("click",t[6]),e.$on("keydown",t[7]),{c(){J(e.$$.fragment)},m(r,l){K(e,r,l),n=!0},p(r,[l]){const a=l&31?ye(o,[l&8&&{builders:r[3]},l&7&&{class:De(bo({variant:r[1],size:r[2],className:r[0]}))},o[2],l&16&&lt(r[4])]):{};l&256&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function z1(t,e,n){const o=["class","variant","size","builders"];let i=le(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{variant:s="default"}=e,{size:u="default"}=e,{builders:f=[]}=e;function c(m){oe.call(this,t,m)}function d(m){oe.call(this,t,m)}return t.$$set=m=>{e=x(x({},e),$e(m)),n(4,i=le(e,o)),"class"in m&&n(0,a=m.class),"variant"in m&&n(1,s=m.variant),"size"in m&&n(2,u=m.size),"builders"in m&&n(3,f=m.builders),"$$scope"in m&&n(8,l=m.$$scope)},[a,s,u,f,i,r,c,d,l]}class Mt extends be{constructor(e){super(),ge(this,e,z1,Q1,fe,{class:0,variant:1,size:2,builders:3})}}var Xa=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,It=t=>!t||typeof t!="object"||Object.keys(t).length===0,eb=(t,e)=>JSON.stringify(t)===JSON.stringify(e);function Uc(t,e){t.forEach(function(n){Array.isArray(n)?Uc(n,e):e.push(n)})}function Kc(t){let e=[];return Uc(t,e),e}var Xc=(...t)=>Kc(t).filter(Boolean),Jc=(t,e)=>{let n={},o=Object.keys(t),i=Object.keys(e);for(let r of o)if(i.includes(r)){let l=t[r],a=e[r];typeof l=="object"&&typeof a=="object"?n[r]=Jc(l,a):Array.isArray(l)||Array.isArray(a)?n[r]=Xc(a,l):n[r]=a+" "+l}else n[r]=t[r];for(let r of i)o.includes(r)||(n[r]=e[r]);return n},Ja=t=>!t||typeof t!="string"?t:t.replace(/\s+/g," ").trim(),tb={twMerge:!0,twMergeConfig:{},responsiveVariants:!1},xc=t=>t||void 0,xo=(...t)=>xc(Kc(t).filter(Boolean).join(" ")),Ur=null,rn={},ml=!1,Lo=(...t)=>e=>e.twMerge?((!Ur||ml)&&(ml=!1,Ur=It(rn)?_c:Jm({...rn,extend:{theme:rn.theme,classGroups:rn.classGroups,conflictingClassGroupModifiers:rn.conflictingClassGroupModifiers,conflictingClassGroups:rn.conflictingClassGroups,...rn.extend}})),xc(Ur(xo(t)))):xo(t),xa=(t,e)=>{for(let n in e)t.hasOwnProperty(n)?t[n]=xo(t[n],e[n]):t[n]=e[n];return t},nb=(t,e)=>{let{extend:n=null,slots:o={},variants:i={},compoundVariants:r=[],compoundSlots:l=[],defaultVariants:a={}}=t,s={...tb,...e},u=n!=null&&n.base?xo(n.base,t==null?void 0:t.base):t==null?void 0:t.base,f=n!=null&&n.variants&&!It(n.variants)?Jc(i,n.variants):i,c=n!=null&&n.defaultVariants&&!It(n.defaultVariants)?{...n.defaultVariants,...a}:a;!It(s.twMergeConfig)&&!eb(s.twMergeConfig,rn)&&(ml=!0,rn=s.twMergeConfig);let d=It(n==null?void 0:n.slots),m=It(o)?{}:{base:xo(t==null?void 0:t.base,d&&(n==null?void 0:n.base)),...o},p=d?m:xa({...n==null?void 0:n.slots},It(m)?{base:t==null?void 0:t.base}:m),_=k=>{if(It(f)&&It(o)&&d)return Lo(u,k==null?void 0:k.class,k==null?void 0:k.className)(s);if(r&&!Array.isArray(r))throw new TypeError(`The "compoundVariants" prop must be an array. Received: ${typeof r}`);if(l&&!Array.isArray(l))throw new TypeError(`The "compoundSlots" prop must be an array. Received: ${typeof l}`);let C=(v,O,P=[],H)=>{let F=P;if(typeof O=="string")F=F.concat(Ja(O).split(" ").map(Q=>`${v}:${Q}`));else if(Array.isArray(O))F=F.concat(O.reduce((Q,ne)=>Q.concat(`${v}:${ne}`),[]));else if(typeof O=="object"&&typeof H=="string"){for(let Q in O)if(O.hasOwnProperty(Q)&&Q===H){let ne=O[Q];if(ne&&typeof ne=="string"){let z=Ja(ne);F[H]?F[H]=F[H].concat(z.split(" ").map(Y=>`${v}:${Y}`)):F[H]=z.split(" ").map(Y=>`${v}:${Y}`)}else Array.isArray(ne)&&ne.length>0&&(F[H]=ne.reduce((z,Y)=>z.concat(`${v}:${Y}`),[]))}}return F},w=(v,O=f,P=null,H=null)=>{var F;let Q=O[v];if(!Q||It(Q))return null;let ne=(F=H==null?void 0:H[v])!=null?F:k==null?void 0:k[v];if(ne===null)return null;let z=Xa(ne),Y=Array.isArray(s.responsiveVariants)&&s.responsiveVariants.length>0||s.responsiveVariants===!0,h=c==null?void 0:c[v],V=[];if(typeof z=="object"&&Y)for(let[Z,we]of Object.entries(z)){let _e=Q[we];if(Z==="initial"){h=we;continue}Array.isArray(s.responsiveVariants)&&!s.responsiveVariants.includes(Z)||(V=C(Z,_e,V,P))}let U=z!=null&&typeof z!="object"?z:Xa(h),ee=Q[U]||Q.false;return typeof V=="object"&&typeof P=="string"&&V[P]?xa(V,ee):V.length>0?(V.push(ee),V):ee},R=()=>f?Object.keys(f).map(v=>w(v,f)):null,L=(v,O)=>{if(!f||typeof f!="object")return null;let P=new Array;for(let H in f){let F=w(H,f,v,O),Q=v==="base"&&typeof F=="string"?F:F&&F[v];Q&&(P[P.length]=Q)}return P},D={};for(let v in k)k[v]!==void 0&&(D[v]=k[v]);let E=(v,O)=>{var P;let H=typeof(k==null?void 0:k[v])=="object"?{[v]:(P=k[v])==null?void 0:P.initial}:{};return{...c,...D,...H,...O}},G=(v=[],O)=>{let P=[];for(let{class:H,className:F,...Q}of v){let ne=!0;for(let[z,Y]of Object.entries(Q)){let h=E(z,O);if(Array.isArray(Y)){if(!Y.includes(h[z])){ne=!1;break}}else if(h[z]!==Y){ne=!1;break}}ne&&(H&&P.push(H),F&&P.push(F))}return P},$=v=>{let O=G(r,v),P=G(n==null?void 0:n.compoundVariants,v);return Xc(P,O)},W=v=>{let O=$(v);if(!Array.isArray(O))return O;let P={};for(let H of O)if(typeof H=="string"&&(P.base=Lo(P.base,H)(s)),typeof H=="object")for(let[F,Q]of Object.entries(H))P[F]=Lo(P[F],Q)(s);return P},y=v=>{if(l.length<1)return null;let O={};for(let{slots:P=[],class:H,className:F,...Q}of l){if(!It(Q)){let ne=!0;for(let z of Object.keys(Q)){let Y=E(z,v)[z];if(Y===void 0||(Array.isArray(Q[z])?!Q[z].includes(Y):Q[z]!==Y)){ne=!1;break}}if(!ne)continue}for(let ne of P)O[ne]=O[ne]||[],O[ne].push([H,F])}return O};if(!It(o)||!d){let v={};if(typeof p=="object"&&!It(p))for(let O of Object.keys(p))v[O]=P=>{var H,F;return Lo(p[O],L(O,P),((H=W(P))!=null?H:[])[O],((F=y(P))!=null?F:[])[O],P==null?void 0:P.class,P==null?void 0:P.className)(s)};return v}return Lo(u,R(),$(),k==null?void 0:k.class,k==null?void 0:k.className)(s)},b=()=>{if(!(!f||typeof f!="object"))return Object.keys(f)};return _.variantKeys=b(),_.extend=n,_.base=u,_.slots=p,_.variants=f,_.defaultVariants=c,_.compoundSlots=l,_.compoundVariants=r,_};const bo=nb({base:"inline-flex items-center justify-center rounded-md text-sm font-medium whitespace-nowrap ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}});function ob(t){let e;const n=t[2].default,o=de(n,t,t[3],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&8)&&pe(o,n,i,i[3],e?me(n,i[3],r,null):he(i[3]),null)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function ib(t){let e,n;const o=[{class:De("text-lg font-semibold leading-none tracking-tight",t[0])},t[1]];let i={$$slots:{default:[ob]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=x(i,o[r]);return e=new K0({props:i}),{c(){J(e.$$.fragment)},m(r,l){K(e,r,l),n=!0},p(r,[l]){const a=l&3?ye(o,[l&1&&{class:De("text-lg font-semibold leading-none tracking-tight",r[0])},l&2&&lt(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function rb(t,e,n){const o=["class"];let i=le(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=x(x({},e),$e(s)),n(1,i=le(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,l=s.$$scope)},[a,i,r,l]}class Xn extends be{constructor(e){super(),ge(this,e,rb,ib,fe,{class:0})}}function lb(t){let e;const n=t[1].default,o=de(n,t,t[2],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&4)&&pe(o,n,i,i[2],e?me(n,i[2],r,null):he(i[2]),null)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function sb(t){let e,n;const o=[t[0]];let i={$$slots:{default:[lb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=x(i,o[r]);return e=new sg({props:i}),{c(){J(e.$$.fragment)},m(r,l){K(e,r,l),n=!0},p(r,[l]){const a=l&1?ye(o,[lt(r[0])]):{};l&4&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function ab(t,e,n){const o=[];let i=le(e,o),{$$slots:r={},$$scope:l}=e;return t.$$set=a=>{e=x(x({},e),$e(a)),n(0,i=le(e,o)),"$$scope"in a&&n(2,l=a.$$scope)},[i,r,l]}class ub extends be{constructor(e){super(),ge(this,e,ab,sb,fe,{})}}function fb(t){let e,n,o;const i=t[3].default,r=de(i,t,t[2],null);let l=[{class:n=De("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=x(a,l[s]);return{c(){e=I("div"),r&&r.c(),se(e,a)},m(s,u){M(s,e,u),r&&r.m(e,null),o=!0},p(s,[u]){r&&r.p&&(!o||u&4)&&pe(r,i,s,s[2],o?me(i,s[2],u,null):he(s[2]),null),se(e,a=ye(l,[(!o||u&1&&n!==(n=De("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(A(r,s),o=!0)},o(s){S(r,s),o=!1},d(s){s&&T(e),r&&r.d(s)}}}function cb(t,e,n){const o=["class"];let i=le(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=x(x({},e),$e(s)),n(1,i=le(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,i,l,r]}class Mo extends be{constructor(e){super(),ge(this,e,cb,fb,fe,{class:0})}}function db(t){let e,n,o;const i=t[3].default,r=de(i,t,t[2],null);let l=[{class:n=De("flex flex-col space-y-1.5 text-center sm:text-left",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=x(a,l[s]);return{c(){e=I("div"),r&&r.c(),se(e,a)},m(s,u){M(s,e,u),r&&r.m(e,null),o=!0},p(s,[u]){r&&r.p&&(!o||u&4)&&pe(r,i,s,s[2],o?me(i,s[2],u,null):he(s[2]),null),se(e,a=ye(l,[(!o||u&1&&n!==(n=De("flex flex-col space-y-1.5 text-center sm:text-left",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(A(r,s),o=!0)},o(s){S(r,s),o=!1},d(s){s&&T(e),r&&r.d(s)}}}function mb(t,e,n){const o=["class"];let i=le(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=x(x({},e),$e(s)),n(1,i=le(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,i,l,r]}class Jn extends be{constructor(e){super(),ge(this,e,mb,db,fe,{class:0})}}function Zc(t,{delay:e=0,duration:n=400,easing:o=cr}={}){const i=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:o,css:r=>`opacity: ${r*i}`}}function pb(t){let e,n;const o=[{transition:t[1]},{transitionConfig:t[2]},{class:De("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm",t[0])},t[3]];let i={};for(let r=0;r<o.length;r+=1)i=x(i,o[r]);return e=new Eg({props:i}),{c(){J(e.$$.fragment)},m(r,l){K(e,r,l),n=!0},p(r,[l]){const a=l&15?ye(o,[l&2&&{transition:r[1]},l&4&&{transitionConfig:r[2]},l&1&&{class:De("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm",r[0])},l&8&&lt(r[3])]):{};e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function hb(t,e,n){const o=["class","transition","transitionConfig"];let i=le(e,o),{class:r=void 0}=e,{transition:l=Zc}=e,{transitionConfig:a={duration:150}}=e;return t.$$set=s=>{e=x(x({},e),$e(s)),n(3,i=le(e,o)),"class"in s&&n(0,r=s.class),"transition"in s&&n(1,l=s.transition),"transitionConfig"in s&&n(2,a=s.transitionConfig)},[r,l,a,i]}class _b extends be{constructor(e){super(),ge(this,e,hb,pb,fe,{class:0,transition:1,transitionConfig:2})}}/**
 * @license lucide-svelte v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};function Qa(t,e,n){const o=t.slice();return o[11]=e[n][0],o[12]=e[n][1],o}function Kr(t){let e,n=[t[12]],o={};for(let i=0;i<n.length;i+=1)o=x(o,n[i]);return{c(){e=dr(t[11]),Li(e,o)},m(i,r){M(i,e,r)},p(i,r){Li(e,o=ye(n,[r&32&&i[12]]))},d(i){i&&T(e)}}}function za(t){let e=t[11],n,o=t[11]&&Kr(t);return{c(){o&&o.c(),n=Re()},m(i,r){o&&o.m(i,r),M(i,n,r)},p(i,r){i[11]?e?fe(e,i[11])?(o.d(1),o=Kr(i),e=i[11],o.c(),o.m(n.parentNode,n)):o.p(i,r):(o=Kr(i),e=i[11],o.c(),o.m(n.parentNode,n)):e&&(o.d(1),o=null,e=i[11])},d(i){i&&T(n),o&&o.d(i)}}}function gb(t){let e,n,o,i,r,l=Ue(t[5]),a=[];for(let d=0;d<l.length;d+=1)a[d]=za(Qa(t,l,d));const s=t[10].default,u=de(s,t,t[9],null);let f=[Za,t[7],{width:t[2]},{height:t[2]},{stroke:t[1]},{"stroke-width":o=t[4]?Number(t[3])*24/Number(t[2]):t[3]},{class:i=t[6]("lucide-icon","lucide",t[0]?`lucide-${t[0]}`:"",t[8].class)}],c={};for(let d=0;d<f.length;d+=1)c=x(c,f[d]);return{c(){e=dr("svg");for(let d=0;d<a.length;d+=1)a[d].c();n=Re(),u&&u.c(),Li(e,c)},m(d,m){M(d,e,m);for(let p=0;p<a.length;p+=1)a[p]&&a[p].m(e,null);g(e,n),u&&u.m(e,null),r=!0},p(d,[m]){if(m&32){l=Ue(d[5]);let p;for(p=0;p<l.length;p+=1){const _=Qa(d,l,p);a[p]?a[p].p(_,m):(a[p]=za(_),a[p].c(),a[p].m(e,n))}for(;p<a.length;p+=1)a[p].d(1);a.length=l.length}u&&u.p&&(!r||m&512)&&pe(u,s,d,d[9],r?me(s,d[9],m,null):he(d[9]),null),Li(e,c=ye(f,[Za,m&128&&d[7],(!r||m&4)&&{width:d[2]},(!r||m&4)&&{height:d[2]},(!r||m&2)&&{stroke:d[1]},(!r||m&28&&o!==(o=d[4]?Number(d[3])*24/Number(d[2]):d[3]))&&{"stroke-width":o},(!r||m&257&&i!==(i=d[6]("lucide-icon","lucide",d[0]?`lucide-${d[0]}`:"",d[8].class)))&&{class:i}]))},i(d){r||(A(u,d),r=!0)},o(d){S(u,d),r=!1},d(d){d&&T(e),_t(a,d),u&&u.d(d)}}}function bb(t,e,n){const o=["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode","mergeClasses"];let i=le(e,o),{$$slots:r={},$$scope:l}=e,{name:a=void 0}=e,{color:s="currentColor"}=e,{size:u=24}=e,{strokeWidth:f=2}=e,{absoluteStrokeWidth:c=!1}=e,{iconNode:d}=e;const m=(...p)=>p.filter((_,b,k)=>!!_&&k.indexOf(_)===b).join(" ");return t.$$set=p=>{n(8,e=x(x({},e),$e(p))),n(7,i=le(e,o)),"name"in p&&n(0,a=p.name),"color"in p&&n(1,s=p.color),"size"in p&&n(2,u=p.size),"strokeWidth"in p&&n(3,f=p.strokeWidth),"absoluteStrokeWidth"in p&&n(4,c=p.absoluteStrokeWidth),"iconNode"in p&&n(5,d=p.iconNode),"$$scope"in p&&n(9,l=p.$$scope)},e=$e(e),[a,s,u,f,c,d,m,i,e,l,r]}class vb extends be{constructor(e){super(),ge(this,e,bb,gb,fe,{name:0,color:1,size:2,strokeWidth:3,absoluteStrokeWidth:4,iconNode:5,mergeClasses:6})}get mergeClasses(){return this.$$.ctx[6]}}function yb(t){let e;const n=t[2].default,o=de(n,t,t[3],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&8)&&pe(o,n,i,i[3],e?me(n,i[3],r,null):he(i[3]),null)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function wb(t){let e,n;const o=[{name:"x"},t[1],{iconNode:t[0]}];let i={$$slots:{default:[yb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=x(i,o[r]);return e=new vb({props:i}),{c(){J(e.$$.fragment)},m(r,l){K(e,r,l),n=!0},p(r,[l]){const a=l&3?ye(o,[o[0],l&2&&lt(r[1]),l&1&&{iconNode:r[0]}]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function kb(t,e,n){let{$$slots:o={},$$scope:i}=e;const r=[["path",{d:"M18 6 6 18"}],["path",{d:"m6 6 12 12"}]];return t.$$set=l=>{n(1,e=x(x({},e),$e(l))),"$$scope"in l&&n(3,i=l.$$scope)},e=$e(e),[r,e,o,i]}class Cb extends be{constructor(e){super(),ge(this,e,kb,wb,fe,{})}}function Ab(t){let e,n,o,i;return e=new Cb({props:{class:"h-4 w-4"}}),{c(){J(e.$$.fragment),n=q(),o=I("span"),o.textContent="Close",N(o,"class","sr-only")},m(r,l){K(e,r,l),M(r,n,l),M(r,o,l),i=!0},p:ke,i(r){i||(A(e.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),i=!1},d(r){r&&(T(n),T(o)),X(e,r)}}}function Sb(t){let e,n,o;const i=t[4].default,r=de(i,t,t[5],null);return n=new eg({props:{class:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",$$slots:{default:[Ab]},$$scope:{ctx:t}}}),{c(){r&&r.c(),e=q(),J(n.$$.fragment)},m(l,a){r&&r.m(l,a),M(l,e,a),K(n,l,a),o=!0},p(l,a){r&&r.p&&(!o||a&32)&&pe(r,i,l,l[5],o?me(i,l[5],a,null):he(l[5]),null);const s={};a&32&&(s.$$scope={dirty:a,ctx:l}),n.$set(s)},i(l){o||(A(r,l),A(n.$$.fragment,l),o=!0)},o(l){S(r,l),S(n.$$.fragment,l),o=!1},d(l){l&&T(e),r&&r.d(l),X(n,l)}}}function Tb(t){let e,n,o,i;e=new _b({});const r=[{transition:t[1]},{transitionConfig:t[2]},{class:De("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg md:w-full",t[0])},t[3]];let l={$$slots:{default:[Sb]},$$scope:{ctx:t}};for(let a=0;a<r.length;a+=1)l=x(l,r[a]);return o=new kg({props:l}),{c(){J(e.$$.fragment),n=q(),J(o.$$.fragment)},m(a,s){K(e,a,s),M(a,n,s),K(o,a,s),i=!0},p(a,s){const u=s&15?ye(r,[s&2&&{transition:a[1]},s&4&&{transitionConfig:a[2]},s&1&&{class:De("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg md:w-full",a[0])},s&8&&lt(a[3])]):{};s&32&&(u.$$scope={dirty:s,ctx:a}),o.$set(u)},i(a){i||(A(e.$$.fragment,a),A(o.$$.fragment,a),i=!0)},o(a){S(e.$$.fragment,a),S(o.$$.fragment,a),i=!1},d(a){a&&T(n),X(e,a),X(o,a)}}}function Mb(t){let e,n;return e=new ub({props:{$$slots:{default:[Tb]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){K(e,o,i),n=!0},p(o,[i]){const r={};i&47&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function Ib(t,e,n){const o=["class","transition","transitionConfig"];let i=le(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{transition:s=_r}=e,{transitionConfig:u={duration:200}}=e;return t.$$set=f=>{e=x(x({},e),$e(f)),n(3,i=le(e,o)),"class"in f&&n(0,a=f.class),"transition"in f&&n(1,s=f.transition),"transitionConfig"in f&&n(2,u=f.transitionConfig),"$$scope"in f&&n(5,l=f.$$scope)},[a,s,u,i,r,l]}class xn extends be{constructor(e){super(),ge(this,e,Ib,Mb,fe,{class:0,transition:1,transitionConfig:2})}}function Ob(t){let e;const n=t[2].default,o=de(n,t,t[3],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&8)&&pe(o,n,i,i[3],e?me(n,i[3],r,null):he(i[3]),null)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Pb(t){let e,n;const o=[{class:De("text-sm text-muted-foreground",t[0])},t[1]];let i={$$slots:{default:[Ob]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=x(i,o[r]);return e=new jg({props:i}),{c(){J(e.$$.fragment)},m(r,l){K(e,r,l),n=!0},p(r,[l]){const a=l&3?ye(o,[l&1&&{class:De("text-sm text-muted-foreground",r[0])},l&2&&lt(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function Nb(t,e,n){const o=["class"];let i=le(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=x(x({},e),$e(s)),n(1,i=le(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,l=s.$$scope)},[a,i,r,l]}class Zn extends be{constructor(e){super(),ge(this,e,Nb,Pb,fe,{class:0})}}const Qn=q0;function Eb(t){let e,n,o,i,r=[{class:n=De("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t[1])},t[2]],l={};for(let a=0;a<r.length;a+=1)l=x(l,r[a]);return{c(){e=I("input"),se(e,l)},m(a,s){M(a,e,s),e.autofocus&&e.focus(),on(e,t[0]),o||(i=[te(e,"input",t[17]),te(e,"blur",t[3]),te(e,"change",t[4]),te(e,"click",t[5]),te(e,"focus",t[6]),te(e,"focusin",t[7]),te(e,"focusout",t[8]),te(e,"keydown",t[9]),te(e,"keypress",t[10]),te(e,"keyup",t[11]),te(e,"mouseover",t[12]),te(e,"mouseenter",t[13]),te(e,"mouseleave",t[14]),te(e,"paste",t[15]),te(e,"input",t[16])],o=!0)},p(a,[s]){se(e,l=ye(r,[s&2&&n!==(n=De("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a[1]))&&{class:n},s&4&&a[2]])),s&1&&e.value!==a[0]&&on(e,a[0])},i:ke,o:ke,d(a){a&&T(e),o=!1,Le(i)}}}function $b(t,e,n){const o=["class","value"];let i=le(e,o),{class:r=void 0}=e,{value:l=void 0}=e;function a(D){oe.call(this,t,D)}function s(D){oe.call(this,t,D)}function u(D){oe.call(this,t,D)}function f(D){oe.call(this,t,D)}function c(D){oe.call(this,t,D)}function d(D){oe.call(this,t,D)}function m(D){oe.call(this,t,D)}function p(D){oe.call(this,t,D)}function _(D){oe.call(this,t,D)}function b(D){oe.call(this,t,D)}function k(D){oe.call(this,t,D)}function C(D){oe.call(this,t,D)}function w(D){oe.call(this,t,D)}function R(D){oe.call(this,t,D)}function L(){l=this.value,n(0,l)}return t.$$set=D=>{e=x(x({},e),$e(D)),n(2,i=le(e,o)),"class"in D&&n(1,r=D.class),"value"in D&&n(0,l=D.value)},[l,r,i,a,s,u,f,c,d,m,p,_,b,k,C,w,R,L]}class Ul extends be{constructor(e){super(),ge(this,e,$b,Eb,fe,{class:1,value:0})}}function Rb(t){let e;const n=t[2].default,o=de(n,t,t[4],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&16)&&pe(o,n,i,i[4],e?me(n,i[4],r,null):he(i[4]),null)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Db(t){let e,n;const o=[{class:De("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",t[0])},t[1]];let i={$$slots:{default:[Rb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=x(i,o[r]);return e=new Kg({props:i}),e.$on("mousedown",t[3]),{c(){J(e.$$.fragment)},m(r,l){K(e,r,l),n=!0},p(r,[l]){const a=l&3?ye(o,[l&1&&{class:De("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",r[0])},l&2&&lt(r[1])]):{};l&16&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function Lb(t,e,n){const o=["class"];let i=le(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(u){oe.call(this,t,u)}return t.$$set=u=>{e=x(x({},e),$e(u)),n(1,i=le(e,o)),"class"in u&&n(0,a=u.class),"$$scope"in u&&n(4,l=u.$$scope)},[a,i,r,s,l]}class ao extends be{constructor(e){super(),ge(this,e,Lb,Db,fe,{class:0})}}const Vn={land:{short_title:"Fill the grid",description_title:"You win by filling up all possible plots in the grid, and by meeting some requirements.",win:"You have filled the grid with buildings and met the requirements. Your citizens are happy, fulfilled, hard-working, and healthy. ",requirements:{0:{population_count:200,happiness:100,health:100,employment:1,knowledge:50,required_plots:["pub","small_school","community_center"]},1:{population_count:1e3,happiness:120,health:120,employment:1,knowledge:100,required_plots:["bank"]},2:{population_count:1e3,happiness:200,health:200,employment:1,knowledge:1e3,required_plots:["bank","city_hall"]}}},free_play:{short_title:"Quests",description_title:"Play for as long as you can and build the best city you can while completing quests."}};function Fb(t){let e,n;const o=[{class:De("shrink-0 bg-border",t[1]==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t[0])},{orientation:t[1]},{decorative:t[2]},t[3]];let i={};for(let r=0;r<o.length;r+=1)i=x(i,o[r]);return e=new D0({props:i}),{c(){J(e.$$.fragment)},m(r,l){K(e,r,l),n=!0},p(r,[l]){const a=l&15?ye(o,[l&3&&{class:De("shrink-0 bg-border",r[1]==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",r[0])},l&2&&{orientation:r[1]},l&4&&{decorative:r[2]},l&8&&lt(r[3])]):{};e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function Bb(t,e,n){const o=["class","orientation","decorative"];let i=le(e,o),{class:r=void 0}=e,{orientation:l="horizontal"}=e,{decorative:a=void 0}=e;return t.$$set=s=>{e=x(x({},e),$e(s)),n(3,i=le(e,o)),"class"in s&&n(0,r=s.class),"orientation"in s&&n(1,l=s.orientation),"decorative"in s&&n(2,a=s.decorative)},[r,l,a,i]}class yt extends be{constructor(e){super(),ge(this,e,Bb,Fb,fe,{class:0,orientation:1,decorative:2})}}function jb(t){let e;const n=t[3].default,o=de(n,t,t[4],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&16)&&pe(o,n,i,i[4],e?me(n,i[4],r,null):he(i[4]),null)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function qb(t){let e,n;const o=[{class:De("text-lg font-semibold",t[0])},{level:t[1]},t[2]];let i={$$slots:{default:[jb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=x(i,o[r]);return e=new v_({props:i}),{c(){J(e.$$.fragment)},m(r,l){K(e,r,l),n=!0},p(r,[l]){const a=l&7?ye(o,[l&1&&{class:De("text-lg font-semibold",r[0])},l&2&&{level:r[1]},l&4&&lt(r[2])]):{};l&16&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function Gb(t,e,n){const o=["class","level"];let i=le(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{level:s="h3"}=e;return t.$$set=u=>{e=x(x({},e),$e(u)),n(2,i=le(e,o)),"class"in u&&n(0,a=u.class),"level"in u&&n(1,s=u.level),"$$scope"in u&&n(4,l=u.$$scope)},[a,s,i,r,l]}class Kl extends be{constructor(e){super(),ge(this,e,Gb,qb,fe,{class:0,level:1})}}const Vb=t=>({builder:t&64}),eu=t=>({builder:t[6]});function Hb(t){let e;const n=t[2].default,o=de(n,t,t[5],eu);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&96)&&pe(o,n,i,i[5],e?me(n,i[5],r,Vb):he(i[5]),eu)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Wb(t){let e,n;const o=[{class:De(bo(),t[0])},t[1]];let i={$$slots:{default:[Hb,({builder:r})=>({6:r}),({builder:r})=>r?64:0]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=x(i,o[r]);return e=new T_({props:i}),e.$on("click",t[3]),e.$on("keydown",t[4]),{c(){J(e.$$.fragment)},m(r,l){K(e,r,l),n=!0},p(r,[l]){const a=l&3?ye(o,[l&1&&{class:De(bo(),r[0])},l&2&&lt(r[1])]):{};l&96&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function Yb(t,e,n){const o=["class"];let i=le(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(f){oe.call(this,t,f)}function u(f){oe.call(this,t,f)}return t.$$set=f=>{e=x(x({},e),$e(f)),n(1,i=le(e,o)),"class"in f&&n(0,a=f.class),"$$scope"in f&&n(5,l=f.$$scope)},[a,i,r,s,u,l]}class Qc extends be{constructor(e){super(),ge(this,e,Yb,Wb,fe,{class:0})}}const Ub=t=>({builder:t&64}),tu=t=>({builder:t[6]});function Kb(t){let e;const n=t[2].default,o=de(n,t,t[5],tu);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&96)&&pe(o,n,i,i[5],e?me(n,i[5],r,Ub):he(i[5]),tu)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Xb(t){let e,n;const o=[{class:De(bo({variant:"outline"}),"mt-2 sm:mt-0",t[0])},t[1]];let i={$$slots:{default:[Kb,({builder:r})=>({6:r}),({builder:r})=>r?64:0]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=x(i,o[r]);return e=new $_({props:i}),e.$on("click",t[3]),e.$on("keydown",t[4]),{c(){J(e.$$.fragment)},m(r,l){K(e,r,l),n=!0},p(r,[l]){const a=l&3?ye(o,[l&1&&{class:De(bo({variant:"outline"}),"mt-2 sm:mt-0",r[0])},l&2&&lt(r[1])]):{};l&96&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function Jb(t,e,n){const o=["class"];let i=le(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(f){oe.call(this,t,f)}function u(f){oe.call(this,t,f)}return t.$$set=f=>{e=x(x({},e),$e(f)),n(1,i=le(e,o)),"class"in f&&n(0,a=f.class),"$$scope"in f&&n(5,l=f.$$scope)},[a,i,r,s,u,l]}class zc extends be{constructor(e){super(),ge(this,e,Jb,Xb,fe,{class:0})}}function xb(t){let e;const n=t[1].default,o=de(n,t,t[2],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&4)&&pe(o,n,i,i[2],e?me(n,i[2],r,null):he(i[2]),null)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Zb(t){let e,n;const o=[t[0]];let i={$$slots:{default:[xb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=x(i,o[r]);return e=new q_({props:i}),{c(){J(e.$$.fragment)},m(r,l){K(e,r,l),n=!0},p(r,[l]){const a=l&1?ye(o,[lt(r[0])]):{};l&4&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function Qb(t,e,n){const o=[];let i=le(e,o),{$$slots:r={},$$scope:l}=e;return t.$$set=a=>{e=x(x({},e),$e(a)),n(0,i=le(e,o)),"$$scope"in a&&n(2,l=a.$$scope)},[i,r,l]}class zb extends be{constructor(e){super(),ge(this,e,Qb,Zb,fe,{})}}function ev(t){let e,n,o;const i=t[3].default,r=de(i,t,t[2],null);let l=[{class:n=De("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=x(a,l[s]);return{c(){e=I("div"),r&&r.c(),se(e,a)},m(s,u){M(s,e,u),r&&r.m(e,null),o=!0},p(s,[u]){r&&r.p&&(!o||u&4)&&pe(r,i,s,s[2],o?me(i,s[2],u,null):he(s[2]),null),se(e,a=ye(l,[(!o||u&1&&n!==(n=De("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(A(r,s),o=!0)},o(s){S(r,s),o=!1},d(s){s&&T(e),r&&r.d(s)}}}function tv(t,e,n){const o=["class"];let i=le(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=x(x({},e),$e(s)),n(1,i=le(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,i,l,r]}class Cr extends be{constructor(e){super(),ge(this,e,tv,ev,fe,{class:0})}}function nv(t){let e,n,o;const i=t[3].default,r=de(i,t,t[2],null);let l=[{class:n=De("flex flex-col space-y-2 text-center sm:text-left",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=x(a,l[s]);return{c(){e=I("div"),r&&r.c(),se(e,a)},m(s,u){M(s,e,u),r&&r.m(e,null),o=!0},p(s,[u]){r&&r.p&&(!o||u&4)&&pe(r,i,s,s[2],o?me(i,s[2],u,null):he(s[2]),null),se(e,a=ye(l,[(!o||u&1&&n!==(n=De("flex flex-col space-y-2 text-center sm:text-left",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(A(r,s),o=!0)},o(s){S(r,s),o=!1},d(s){s&&T(e),r&&r.d(s)}}}function ov(t,e,n){const o=["class"];let i=le(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=x(x({},e),$e(s)),n(1,i=le(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,i,l,r]}class Xl extends be{constructor(e){super(),ge(this,e,ov,nv,fe,{class:0})}}function iv(t){let e,n;const o=[{transition:t[1]},{transitionConfig:t[2]},{class:De("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm ",t[0])},t[3]];let i={};for(let r=0;r<o.length;r+=1)i=x(i,o[r]);return e=new c0({props:i}),{c(){J(e.$$.fragment)},m(r,l){K(e,r,l),n=!0},p(r,[l]){const a=l&15?ye(o,[l&2&&{transition:r[1]},l&4&&{transitionConfig:r[2]},l&1&&{class:De("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm ",r[0])},l&8&&lt(r[3])]):{};e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function rv(t,e,n){const o=["class","transition","transitionConfig"];let i=le(e,o),{class:r=void 0}=e,{transition:l=Zc}=e,{transitionConfig:a={duration:150}}=e;return t.$$set=s=>{e=x(x({},e),$e(s)),n(3,i=le(e,o)),"class"in s&&n(0,r=s.class),"transition"in s&&n(1,l=s.transition),"transitionConfig"in s&&n(2,a=s.transitionConfig)},[r,l,a,i]}class lv extends be{constructor(e){super(),ge(this,e,rv,iv,fe,{class:0,transition:1,transitionConfig:2})}}function sv(t){let e;const n=t[4].default,o=de(n,t,t[5],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&32)&&pe(o,n,i,i[5],e?me(n,i[5],r,null):he(i[5]),null)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function av(t){let e,n,o,i;e=new lv({});const r=[{transition:t[0]},{transitionConfig:t[1]},{class:De("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg md:w-full",t[2])},t[3]];let l={$$slots:{default:[sv]},$$scope:{ctx:t}};for(let a=0;a<r.length;a+=1)l=x(l,r[a]);return o=new t0({props:l}),{c(){J(e.$$.fragment),n=q(),J(o.$$.fragment)},m(a,s){K(e,a,s),M(a,n,s),K(o,a,s),i=!0},p(a,s){const u=s&15?ye(r,[s&1&&{transition:a[0]},s&2&&{transitionConfig:a[1]},s&4&&{class:De("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg md:w-full",a[2])},s&8&&lt(a[3])]):{};s&32&&(u.$$scope={dirty:s,ctx:a}),o.$set(u)},i(a){i||(A(e.$$.fragment,a),A(o.$$.fragment,a),i=!0)},o(a){S(e.$$.fragment,a),S(o.$$.fragment,a),i=!1},d(a){a&&T(n),X(e,a),X(o,a)}}}function uv(t){let e,n;return e=new zb({props:{$$slots:{default:[av]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){K(e,o,i),n=!0},p(o,[i]){const r={};i&47&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function fv(t,e,n){const o=["transition","transitionConfig","class"];let i=le(e,o),{$$slots:r={},$$scope:l}=e,{transition:a=_r}=e,{transitionConfig:s=void 0}=e,{class:u=void 0}=e;return t.$$set=f=>{e=x(x({},e),$e(f)),n(3,i=le(e,o)),"transition"in f&&n(0,a=f.transition),"transitionConfig"in f&&n(1,s=f.transitionConfig),"class"in f&&n(2,u=f.class),"$$scope"in f&&n(5,l=f.$$scope)},[a,s,u,i,r,l]}class Ar extends be{constructor(e){super(),ge(this,e,fv,uv,fe,{transition:0,transitionConfig:1,class:2})}}function cv(t){let e;const n=t[2].default,o=de(n,t,t[3],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&8)&&pe(o,n,i,i[3],e?me(n,i[3],r,null):he(i[3]),null)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function dv(t){let e,n;const o=[{class:De("text-sm text-muted-foreground",t[0])},t[1]];let i={$$slots:{default:[cv]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=x(i,o[r]);return e=new b0({props:i}),{c(){J(e.$$.fragment)},m(r,l){K(e,r,l),n=!0},p(r,[l]){const a=l&3?ye(o,[l&1&&{class:De("text-sm text-muted-foreground",r[0])},l&2&&lt(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function mv(t,e,n){const o=["class"];let i=le(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=x(x({},e),$e(s)),n(1,i=le(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,l=s.$$scope)},[a,i,r,l]}class Jl extends be{constructor(e){super(),ge(this,e,mv,dv,fe,{class:0})}}const Sr=d_;function nu(t,e,n){const o=t.slice();return o[25]=e[n],o}function ou(t,e,n){const o=t.slice();return o[28]=e[n],o}function pv(t){let e;return{c(){e=B("Pause Menu")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function hv(t){let e;return{c(){e=B("Unpause any time by pressing 'P'")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function _v(t){let e,n,o,i;return e=new Xn({props:{$$slots:{default:[pv]},$$scope:{ctx:t}}}),o=new Zn({props:{$$slots:{default:[hv]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=q(),J(o.$$.fragment)},m(r,l){K(e,r,l),M(r,n,l),K(o,r,l),i=!0},p(r,l){const a={};l[1]&1&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l[1]&1&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function iu(t){let e,n,o,i,r,l=JSON.stringify(t[5].requirements[t[2].difficulty].population_count)+"",a,s,u=JSON.stringify(t[2].townInfo.population_count)+"",f,c,d,m,p=JSON.stringify(t[5].requirements[t[2].difficulty].happiness)+"",_,b,k=JSON.stringify(t[2].townInfo.happiness)+"",C,w,R,L,D=JSON.stringify(t[5].requirements[t[2].difficulty].employment*100)+"",E,G,$=JSON.stringify((t[2].townInfo.employees/t[2].townInfo.population_count||0)*100)+"",W,y,v,O,P,H=JSON.stringify(t[5].requirements[t[2].difficulty].health)+"",F,Q,ne=JSON.stringify(t[2].townInfo.health)+"",z,Y,h,V,U=JSON.stringify(t[5].requirements[t[2].difficulty].knowledge)+"",ee,Z,we=JSON.stringify(t[2].townInfo.knowledge_points)+"",_e,Te,Xe;function Ve(ce,We){return ce[2].townInfo.population_count>=ce[5].requirements[ce[2].difficulty].population_count?bv:gv}let ze=Ve(t),ue=ze(t);function Ee(ce,We){return ce[2].townInfo.happiness>=ce[5].requirements[ce[2].difficulty].happiness?yv:vv}let Ge=Ee(t),Be=Ge(t);function Ke(ce,We){return ce[2].townInfo.employees/ce[2].townInfo.population_count>=ce[5].requirements[ce[2].difficulty].employment?kv:wv}let Ce=Ke(t),Ae=Ce(t);function wt(ce,We){return ce[2].townInfo.health>=ce[5].requirements[ce[2].difficulty].health?Av:Cv}let Lt=wt(t),ft=Lt(t);function Ft(ce,We){return ce[2].townInfo.knowledge_points>=ce[5].requirements[ce[2].difficulty].knowledge?Tv:Sv}let ct=Ft(t),pt=ct(t),nt=t[5].requirements[t[2].difficulty].required_plots!=null&&t[5].requirements[t[2].difficulty].required_plots.length>0&&ru(t);return{c(){e=I("div"),e.textContent=`With your difficulty (${t[6]}), you must also have:`,n=q(),o=I("ul"),i=I("li"),ue.c(),r=B(`
                  Population: `),a=B(l),s=B(" - Currently at "),f=B(u),c=q(),d=I("li"),Be.c(),m=B(`
                  Happiness: `),_=B(p),b=B(" - Currently at "),C=B(k),w=q(),R=I("li"),Ae.c(),L=B(`
                  Employment: `),E=B(D),G=B("% - Currently at "),W=B($),y=B("%"),v=q(),O=I("li"),ft.c(),P=B(`
                  Health: `),F=B(H),Q=B(" - Currently at "),z=B(ne),Y=q(),h=I("li"),pt.c(),V=B(`
                  Knowledge: `),ee=B(U),Z=B(" - Currently at "),_e=B(we),Te=q(),nt&&nt.c(),Xe=Re(),N(e,"class","leading-relaxed text-sm"),N(o,"class","list-inside list-disc leading-relaxedmt-0 text-sm")},m(ce,We){M(ce,e,We),M(ce,n,We),M(ce,o,We),g(o,i),ue.m(i,null),g(i,r),g(i,a),g(i,s),g(i,f),g(o,c),g(o,d),Be.m(d,null),g(d,m),g(d,_),g(d,b),g(d,C),g(o,w),g(o,R),Ae.m(R,null),g(R,L),g(R,E),g(R,G),g(R,W),g(R,y),g(o,v),g(o,O),ft.m(O,null),g(O,P),g(O,F),g(O,Q),g(O,z),g(o,Y),g(o,h),pt.m(h,null),g(h,V),g(h,ee),g(h,Z),g(h,_e),M(ce,Te,We),nt&&nt.m(ce,We),M(ce,Xe,We)},p(ce,We){ze!==(ze=Ve(ce))&&(ue.d(1),ue=ze(ce),ue&&(ue.c(),ue.m(i,r))),We[0]&4&&l!==(l=JSON.stringify(ce[5].requirements[ce[2].difficulty].population_count)+"")&&re(a,l),We[0]&4&&u!==(u=JSON.stringify(ce[2].townInfo.population_count)+"")&&re(f,u),Ge!==(Ge=Ee(ce))&&(Be.d(1),Be=Ge(ce),Be&&(Be.c(),Be.m(d,m))),We[0]&4&&p!==(p=JSON.stringify(ce[5].requirements[ce[2].difficulty].happiness)+"")&&re(_,p),We[0]&4&&k!==(k=JSON.stringify(ce[2].townInfo.happiness)+"")&&re(C,k),Ce!==(Ce=Ke(ce))&&(Ae.d(1),Ae=Ce(ce),Ae&&(Ae.c(),Ae.m(R,L))),We[0]&4&&D!==(D=JSON.stringify(ce[5].requirements[ce[2].difficulty].employment*100)+"")&&re(E,D),We[0]&4&&$!==($=JSON.stringify((ce[2].townInfo.employees/ce[2].townInfo.population_count||0)*100)+"")&&re(W,$),Lt!==(Lt=wt(ce))&&(ft.d(1),ft=Lt(ce),ft&&(ft.c(),ft.m(O,P))),We[0]&4&&H!==(H=JSON.stringify(ce[5].requirements[ce[2].difficulty].health)+"")&&re(F,H),We[0]&4&&ne!==(ne=JSON.stringify(ce[2].townInfo.health)+"")&&re(z,ne),ct!==(ct=Ft(ce))&&(pt.d(1),pt=ct(ce),pt&&(pt.c(),pt.m(h,V))),We[0]&4&&U!==(U=JSON.stringify(ce[5].requirements[ce[2].difficulty].knowledge)+"")&&re(ee,U),We[0]&4&&we!==(we=JSON.stringify(ce[2].townInfo.knowledge_points)+"")&&re(_e,we),ce[5].requirements[ce[2].difficulty].required_plots!=null&&ce[5].requirements[ce[2].difficulty].required_plots.length>0?nt?nt.p(ce,We):(nt=ru(ce),nt.c(),nt.m(Xe.parentNode,Xe)):nt&&(nt.d(1),nt=null)},d(ce){ce&&(T(e),T(n),T(o),T(Te),T(Xe)),ue.d(),Be.d(),Ae.d(),ft.d(),pt.d(),nt&&nt.d(ce)}}}function gv(t){let e;return{c(){e=B("❌")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function bv(t){let e;return{c(){e=B("✅")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function vv(t){let e;return{c(){e=B("❌")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function yv(t){let e;return{c(){e=B("✅")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function wv(t){let e;return{c(){e=B("❌")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function kv(t){let e;return{c(){e=B("✅")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Cv(t){let e;return{c(){e=B("❌")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Av(t){let e;return{c(){e=B("✅")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Sv(t){let e;return{c(){e=B("❌")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Tv(t){let e;return{c(){e=B("✅")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function ru(t){let e,n,o,i=Ue(t[5].requirements[t[2].difficulty].required_plots),r=[];for(let l=0;l<i.length;l+=1)r[l]=lu(ou(t,i,l));return{c(){e=I("br"),n=B(`
                You also need to have these plots:
                `);for(let l=0;l<r.length;l+=1)r[l].c();o=Re()},m(l,a){M(l,e,a),M(l,n,a);for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(l,a);M(l,o,a)},p(l,a){if(a[0]&36){i=Ue(l[5].requirements[l[2].difficulty].required_plots);let s;for(s=0;s<i.length;s+=1){const u=ou(l,i,s);r[s]?r[s].p(u,a):(r[s]=lu(u),r[s].c(),r[s].m(o.parentNode,o))}for(;s<r.length;s+=1)r[s].d(1);r.length=i.length}},d(l){l&&(T(e),T(n),T(o)),_t(r,l)}}}function Mv(t){let e;return{c(){e=B("❌")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Iv(t){let e;return{c(){e=B("✅")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function lu(t){let e,n,o,i,r=t[28]+"",l,a;function s(c,d){return d[0]&4&&(o=null),o==null&&(o=He(c[28],c[2]).length>0),o?Iv:Mv}let u=s(t,[-1,-1]),f=u(t);return{c(){e=I("div"),n=I("li"),f.c(),i=q(),l=B(r),a=q(),N(e,"class","text-sm")},m(c,d){M(c,e,d),g(e,n),f.m(n,null),g(n,i),g(n,l),g(e,a)},p(c,d){u!==(u=s(c,d))&&(f.d(1),f=u(c),f&&(f.c(),f.m(n,i))),d[0]&4&&r!==(r=c[28]+"")&&re(l,r)},d(c){c&&T(e),f.d()}}}function Ov(t){let e;return{c(){e=B("Save game")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Pv(t){let e;return{c(){e=B("Save")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Nv(t){let e;return{c(){e=B("Upload game")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function su(t){let e,n;function o(){return t[19](t[25])}return e=new Mt({props:{class:"bg-blue-600 hover:bg-blue-700 mt-4",id:"collectPrize-"+t[25].id,$$slots:{default:[Ev]},$$scope:{ctx:t}}}),e.$on("click",o),{c(){J(e.$$.fragment)},m(i,r){K(e,i,r),n=!0},p(i,r){t=i;const l={};r[0]&2&&(l.id="collectPrize-"+t[25].id),r[0]&2|r[1]&1&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(i){n||(A(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){X(e,i)}}}function Ev(t){let e,n=uu(t[25].prize)+"",o,i;return{c(){e=B("Collect Prize: $"),o=B(n),i=B(" gold")},m(r,l){M(r,e,l),M(r,o,l),M(r,i,l)},p(r,l){l[0]&2&&n!==(n=uu(r[25].prize)+"")&&re(o,n)},d(r){r&&(T(e),T(o),T(i))}}}function au(t){let e,n,o,i,r,l,a=t[25].title+"",s,u,f,c=t[25].requirements+"",d,m,p,_=t[25].icon+"",b,k,C,w=t[25].description+"",R,L,D,E,G=t[8](t[25].id)+"",$,W,y,v=t[13](t[25].id)&&!t[9](t[25].id),O,P,H,F=v&&su(t);return{c(){e=I("div"),n=I("div"),o=I("div"),i=I("span"),r=I("div"),l=I("span"),s=B(a),u=q(),f=I("div"),d=B(c),m=q(),p=I("div"),b=B(_),k=q(),C=I("div"),R=B(w),L=q(),D=I("div"),E=B("✅ Completed on Day "),$=B(G),y=q(),F&&F.c(),O=q(),N(l,"class","font-semibold text-lg"),N(f,"class","font-thin text-white opacity-75 text-xs"),N(r,"class","flex flex-row gap-3 w-[100%] text- items-center "),N(p,"class","text-sm flex-grow pr-1 break-inside-avoid "),N(i,"class","flex flex-row justify-between w-[100%]"),N(o,"class","min-w-32 flex"),N(C,"class","text-white opacity-75 text-sm font-light"),N(D,"class",W=(t[13](t[25].id)?"":"hidden")+" text-xs text-green-400"),N(n,"class","flex-col flex px-3 py-2 gap-0"),N(e,"class",P="flex flex-col gap-3 cursor-default rounded-md "+(t[13](t[25].id)?"bg-green-700":"bg-gray-500 opacity-35"))},m(Q,ne){M(Q,e,ne),g(e,n),g(n,o),g(o,i),g(i,r),g(r,l),g(l,s),g(r,u),g(r,f),g(f,d),g(i,m),g(i,p),g(p,b),g(n,k),g(n,C),g(C,R),g(n,L),g(n,D),g(D,E),g(D,$),g(n,y),F&&F.m(n,null),g(e,O),H=!0},p(Q,ne){(!H||ne[0]&2)&&a!==(a=Q[25].title+"")&&re(s,a),(!H||ne[0]&2)&&c!==(c=Q[25].requirements+"")&&re(d,c),(!H||ne[0]&2)&&_!==(_=Q[25].icon+"")&&re(b,_),(!H||ne[0]&2)&&w!==(w=Q[25].description+"")&&re(R,w),(!H||ne[0]&2)&&G!==(G=Q[8](Q[25].id)+"")&&re($,G),(!H||ne[0]&2&&W!==(W=(Q[13](Q[25].id)?"":"hidden")+" text-xs text-green-400"))&&N(D,"class",W),ne[0]&2&&(v=Q[13](Q[25].id)&&!Q[9](Q[25].id)),v?F?(F.p(Q,ne),ne[0]&2&&A(F,1)):(F=su(Q),F.c(),A(F,1),F.m(n,null)):F&&(Ie(),S(F,1,1,()=>{F=null}),Oe()),(!H||ne[0]&2&&P!==(P="flex flex-col gap-3 cursor-default rounded-md "+(Q[13](Q[25].id)?"bg-green-700":"bg-gray-500 opacity-35")))&&N(e,"class",P)},i(Q){H||(A(F),H=!0)},o(Q){S(F),H=!1},d(Q){Q&&T(e),F&&F.d()}}}function $v(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,p,_,b,k,C,w,R,L,D,E,G,$,W,y,v,O,P,H,F,Q,ne,z,Y,h,V,U,ee,Z,we,_e;e=new Jn({props:{$$slots:{default:[_v]},$$scope:{ctx:t}}});let Te=t[2].endGoal=="land"&&iu(t);_=new ao({props:{for:"saveButton",class:`cursor-pointer bg-blue-600 rounded-md text-center p-2.5 hover:bg-blue-700 justify-center flex 
					`,$$slots:{default:[Ov]},$$scope:{ctx:t}}}),k=new Mt({props:{class:`
					bg-blue-600 hover:bg-blue-700 hidden
					`,id:"saveButton",$$slots:{default:[Pv]},$$scope:{ctx:t}}}),k.$on("click",t[16]),w=new ao({props:{for:"upload",class:`cursor-pointer bg-blue-600 rounded-md text-center p-2.5 hover:bg-blue-700 justify-center flex 
					`,$$slots:{default:[Nv]},$$scope:{ctx:t}}}),L=new Ul({props:{class:"hidden",type:"file",id:"upload"}}),L.$on("change",t[12]),E=new yt({props:{orientation:"vertical"}});let Xe=Ue(t[1]),Ve=[];for(let ue=0;ue<Xe.length;ue+=1)Ve[ue]=au(nu(t,Xe,ue));const ze=ue=>S(Ve[ue],1,1,()=>{Ve[ue]=null});return{c(){J(e.$$.fragment),n=q(),o=I("div"),i=I("div"),r=I("div"),l=I("h4"),l.textContent="This game",a=q(),s=I("span"),s.textContent=`${t[5].description_title}`,u=q(),f=I("div"),Te&&Te.c(),c=q(),d=I("div"),m=I("div"),p=I("div"),J(_.$$.fragment),b=q(),J(k.$$.fragment),C=q(),J(w.$$.fragment),R=q(),J(L.$$.fragment),D=q(),J(E.$$.fragment),G=q(),$=I("div"),W=I("h4"),W.textContent=`Your achievement (${t[7].length}
          / ${et.length})`,y=q(),v=I("span"),v.textContent="Track your progress through games & complete challenges!",O=q(),P=I("br"),H=q(),F=I("div"),Q=I("input"),ne=q(),z=I("label"),z.textContent="Show completed",Y=q(),h=I("div"),V=I("div");for(let ue=0;ue<Ve.length;ue+=1)Ve[ue].c();U=q(),ee=I("span"),ee.textContent=`Prizes apply to the current game you are in. You can wait to apply
          them until the right time.`,N(l,"class","underline underline-offset-4"),N(s,"class","text-sm text-gray-400"),N(f,"class","mt-6 gap-0 py-0 text-gray-400 text-sm"),N(r,"class","flex-col h-max"),N(p,"class","flex gap-10 justify-start min-w-[100%] w-[100%] items"),N(m,"class","flex flex-col gap-3 h-max"),N(i,"class","flex flex-col gap-6 justify-between"),N(W,"class","underline underline-offset-4"),N(v,"class","text-sm text-gray-400"),N(Q,"type","checkbox"),N(Q,"id","toggle-show-completed"),N(Q,"class","rounded"),N(Q,"tabindex","-1"),Q.checked=localStorage.getItem("showCompletedAchievements")==="true",N(z,"for","toggle-show-completed"),N(z,"class","text-xs text-gray-400 select-none ml-2 no-select cursor-pointer "),N(F,"class","flex items-center"),N(V,"class","flex flex-col gap-4 overflow-scroll pb-20 scroll-smooth"),N(h,"class","overflow-scroll mt-2 h-[55vh]"),N(ee,"class","text-sm text-yellow-400 italic"),N(o,"class","flex flex-row w-full gap-10")},m(ue,Ee){K(e,ue,Ee),M(ue,n,Ee),M(ue,o,Ee),g(o,i),g(i,r),g(r,l),g(r,a),g(r,s),g(r,u),g(r,f),Te&&Te.m(f,null),g(i,c),g(i,d),g(d,m),g(m,p),K(_,p,null),g(p,b),K(k,p,null),g(p,C),K(w,p,null),g(p,R),K(L,p,null),g(o,D),K(E,o,null),g(o,G),g(o,$),g($,W),g($,y),g($,v),g($,O),g($,P),g($,H),g($,F),g(F,Q),g(F,ne),g(F,z),g($,Y),g($,h),g(h,V);for(let Ge=0;Ge<Ve.length;Ge+=1)Ve[Ge]&&Ve[Ge].m(V,null);g($,U),g($,ee),Z=!0,we||(_e=[te(Q,"change",t[17]),te(Q,"keydown",t[18])],we=!0)},p(ue,Ee){const Ge={};Ee[1]&1&&(Ge.$$scope={dirty:Ee,ctx:ue}),e.$set(Ge),ue[2].endGoal=="land"?Te?Te.p(ue,Ee):(Te=iu(ue),Te.c(),Te.m(f,null)):Te&&(Te.d(1),Te=null);const Be={};Ee[1]&1&&(Be.$$scope={dirty:Ee,ctx:ue}),_.$set(Be);const Ke={};Ee[1]&1&&(Ke.$$scope={dirty:Ee,ctx:ue}),k.$set(Ke);const Ce={};if(Ee[1]&1&&(Ce.$$scope={dirty:Ee,ctx:ue}),w.$set(Ce),Ee[0]&9986){Xe=Ue(ue[1]);let Ae;for(Ae=0;Ae<Xe.length;Ae+=1){const wt=nu(ue,Xe,Ae);Ve[Ae]?(Ve[Ae].p(wt,Ee),A(Ve[Ae],1)):(Ve[Ae]=au(wt),Ve[Ae].c(),A(Ve[Ae],1),Ve[Ae].m(V,null))}for(Ie(),Ae=Xe.length;Ae<Ve.length;Ae+=1)ze(Ae);Oe()}},i(ue){if(!Z){A(e.$$.fragment,ue),A(_.$$.fragment,ue),A(k.$$.fragment,ue),A(w.$$.fragment,ue),A(L.$$.fragment,ue),A(E.$$.fragment,ue);for(let Ee=0;Ee<Xe.length;Ee+=1)A(Ve[Ee]);Z=!0}},o(ue){S(e.$$.fragment,ue),S(_.$$.fragment,ue),S(k.$$.fragment,ue),S(w.$$.fragment,ue),S(L.$$.fragment,ue),S(E.$$.fragment,ue),Ve=Ve.filter(Boolean);for(let Ee=0;Ee<Ve.length;Ee+=1)S(Ve[Ee]);Z=!1},d(ue){ue&&(T(n),T(o)),X(e,ue),Te&&Te.d(),X(_),X(k),X(w),X(L),X(E),_t(Ve,ue),we=!1,Le(_e)}}}function Rv(t){let e,n;return e=new xn({props:{class:" max-w-[90vw] max-h-[90vh] bg-foregroundDark text-foregroundText",$$slots:{default:[$v]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){K(e,o,i),n=!0},p(o,i){const r={};i[0]&6|i[1]&1&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function Dv(t){var o;let e=((o=t[14]())==null?void 0:o.title)+"",n;return{c(){n=B(e)},m(i,r){M(i,n,r)},p:ke,d(i){i&&T(n)}}}function Lv(t){let e,n,o,i;return{c(){var r,l;e=I("div"),n=I("div"),n.textContent=`${(r=t[14]())==null?void 0:r.icon}`,o=q(),i=I("div"),i.textContent=`${(l=t[14]())==null?void 0:l.description}`,N(n,"class","text-center w-[30%] align-middle flex flex-col text-8xl"),N(i,"class","pl-8 w-[80%] align-middle flex flex-col justify-center text-lg"),N(e,"class","flex flex-row align-middle justify-evenly px-6 py-4")},m(r,l){M(r,e,l),g(e,n),g(e,o),g(e,i)},p:ke,d(r){r&&T(e)}}}function Fv(t){let e,n,o,i;return e=new Kl({props:{class:"text-center text-xl font-bold",$$slots:{default:[Dv]},$$scope:{ctx:t}}}),o=new Jl({props:{$$slots:{default:[Lv]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=q(),J(o.$$.fragment)},m(r,l){K(e,r,l),M(r,n,l),K(o,r,l),i=!0},p(r,l){const a={};l[1]&1&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l[1]&1&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function Bv(t){let e;return{c(){e=B("Close to collect prize")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function jv(t){let e,n;return e=new zc({props:{$$slots:{default:[Bv]},$$scope:{ctx:t}}}),e.$on("click",t[21]),{c(){J(e.$$.fragment)},m(o,i){K(e,o,i),n=!0},p(o,i){const r={};i[1]&1&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function qv(t){let e,n,o,i;return e=new Xl({props:{$$slots:{default:[Fv]},$$scope:{ctx:t}}}),o=new Cr({props:{$$slots:{default:[jv]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=q(),J(o.$$.fragment)},m(r,l){K(e,r,l),M(r,n,l),K(o,r,l),i=!0},p(r,l){const a={};l[1]&1&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l[0]&16|l[1]&1&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function Gv(t){let e,n;return e=new Ar({props:{$$slots:{default:[qv]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){K(e,o,i),n=!0},p(o,i){const r={};i[0]&16|i[1]&1&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function Vv(t){let e,n,o,i,r;function l(s){t[20](s)}let a={$$slots:{default:[Rv]},$$scope:{ctx:t}};return t[3]!==void 0&&(a.open=t[3]),e=new Qn({props:a}),Ne.push(()=>Tn(e,"open",l)),i=new Sr({props:{open:t[4],$$slots:{default:[Gv]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),o=q(),J(i.$$.fragment)},m(s,u){K(e,s,u),M(s,o,u),K(i,s,u),r=!0},p(s,u){const f={};u[0]&6|u[1]&1&&(f.$$scope={dirty:u,ctx:s}),!n&&u[0]&8&&(n=!0,f.open=s[3],Sn(()=>n=!1)),e.$set(f);const c={};u[0]&16&&(c.open=s[4]),u[0]&16|u[1]&1&&(c.$$scope={dirty:u,ctx:s}),i.$set(c)},i(s){r||(A(e.$$.fragment,s),A(i.$$.fragment,s),r=!0)},o(s){S(e.$$.fragment,s),S(i.$$.fragment,s),r=!1},d(s){s&&T(o),X(e,s),X(i,s)}}}function uu(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function Hv(t){const e=JSON.parse(t);return e.townInfo!=null&&e.difficulty!=null}function Wv(t,e,n){let o,i,r,l,a;ae(t,sn,y=>n(23,o=y)),ae(t,Pe,y=>n(2,i=y)),ae(t,Ui,y=>n(15,r=y)),ae(t,Rt,y=>n(3,l=y)),ae(t,Wi,y=>n(4,a=y));const u=Vn[i.endGoal],f=Rl[i.difficulty]||0;et.sort((y,v)=>C(y.id)&&!C(v.id)?-1:!C(y.id)&&C(v.id)?1:0);const c=et.filter(y=>C(y.id));function d(y){const v=o.achievements.find(O=>O[0]==y);return v==null?0:`${v[1]} in ${v[2]}.`}function m(y){const v=o.achievements.find(O=>O[0]==y);return v==null?!1:v[3]}function p(y){const v=o.achievements.find(P=>P[0]==y);if(v==null)return;const O=et.find(P=>P.id==y);O!=null&&(Me(Pe,i.townInfo.gold+=O.prize,i),v[3]=!0,Me(sn,o.achievements=o.achievements.map(P=>P[0]==y?v:P),o))}let _=et;function b(){const y=JSON.stringify(i),v=new Blob([y],{type:"text/plain"}),O=URL.createObjectURL(v),P=document.createElement("a");P.href=O,P.download=`${new Date().toISOString()}.json`,document.body.appendChild(P),P.click(),document.body.removeChild(P),URL.revokeObjectURL(O)}function k(){const v=document.getElementById("upload").files;if(v==null)return;const O=v[0],P=new FileReader;P.onload=function(H){if(H.target==null)return;const F=H.target.result;if(typeof F=="string"){if(!Hv(F)){Pt.set("Invalid game file");return}Dl(JSON.parse(F))}else Pt.set("Invalid game file: is not String.")},P.readAsText(O)}function C(y){return o.achievements==null?!1:o.achievements.find(v=>v[0]==y)!=null}function w(){Ui.update(y=>!y),localStorage.setItem("showCompletedAchievements",localStorage.getItem("showCompletedAchievements")==="true"?"false":"true")}localStorage.getItem("pauseMenuTab")==null&&(localStorage.setItem("pauseMenuTab","game"),uc.set("game"));function R(){const y=o.achievements[o.achievements.length-1];if(y!=null)return et.find(v=>v.id==y[0])}const L=()=>b(),D=()=>{w()},E=y=>{y.key==="p"&&Rt.set(!1)},G=y=>{p(y.id);const v=document.getElementById(`collectPrize-${y.id}`);v&&(v.style.display="none")};function $(y){l=y,Rt.set(l)}const W=()=>{Me(Wi,a=!1,a)};return t.$$.update=()=>{if(t.$$.dirty[0]&32774&&i)if(r)n(1,_=et);else{n(1,_=[]);for(let y=0;y<et.length;y++)(!C(et[y].id)||!m(et[y].id))&&_.push(et[y])}},[w,_,i,l,a,u,f,c,d,m,p,b,k,C,R,r,L,D,E,G,$,W]}class Yv extends be{constructor(e){super(),ge(this,e,Wv,Vv,fe,{toggleShowCompleted:0},null,[-1,-1])}get toggleShowCompleted(){return this.$$.ctx[0]}}function Uv(){console.log("%cRUNNING STABILITY TESTS...","color: #26bfa5;");let t=0;return console.log("%cPASSED ALL STABILITY TESTS 😍","color: #26bfa5;"),t}function Kv(t){let e=t[0].endGameDetails.win==!0?"You won! 🎉":"You lost! 😭",n;return{c(){n=B(e)},m(o,i){M(o,n,i)},p(o,i){i&1&&e!==(e=o[0].endGameDetails.win==!0?"You won! 🎉":"You lost! 😭")&&re(n,e)},d(o){o&&T(n)}}}function Xv(t){let e;return{c(){e=B("Keep playin'")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Jv(t){let e,n=t[0].endGameDetails.msg+"",o,i,r,l,a,s,u,f;return u=new Mt({props:{class:"bg-accent",$$slots:{default:[Xv]},$$scope:{ctx:t}}}),u.$on("click",t[2]),{c(){e=I("span"),o=B(n),i=q(),r=I("br"),l=q(),a=I("br"),s=q(),J(u.$$.fragment),N(e,"class","text-gray-500 text-sm")},m(c,d){M(c,e,d),g(e,o),M(c,i,d),M(c,r,d),M(c,l,d),M(c,a,d),M(c,s,d),K(u,c,d),f=!0},p(c,d){(!f||d&1)&&n!==(n=c[0].endGameDetails.msg+"")&&re(o,n);const m={};d&16&&(m.$$scope={dirty:d,ctx:c}),u.$set(m)},i(c){f||(A(u.$$.fragment,c),f=!0)},o(c){S(u.$$.fragment,c),f=!1},d(c){c&&(T(e),T(i),T(r),T(l),T(a),T(s)),X(u,c)}}}function xv(t){let e,n,o,i;return e=new Xn({props:{$$slots:{default:[Kv]},$$scope:{ctx:t}}}),o=new Zn({props:{$$slots:{default:[Jv]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=q(),J(o.$$.fragment)},m(r,l){K(e,r,l),M(r,n,l),K(o,r,l),i=!0},p(r,l){const a={};l&17&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&17&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function Zv(t){let e;return{c(){e=I("span"),e.textContent="Reset the game by pressing SHIFT+ESC",N(e,"class","text-gray-500 text-sm")},m(n,o){M(n,e,o)},p:ke,d(n){n&&T(e)}}}function Qv(t){let e,n,o,i;return e=new Jn({props:{$$slots:{default:[xv]},$$scope:{ctx:t}}}),o=new Mo({props:{$$slots:{default:[Zv]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=q(),J(o.$$.fragment)},m(r,l){K(e,r,l),M(r,n,l),K(o,r,l),i=!0},p(r,l){const a={};l&17&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&16&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function zv(t){let e,n;return e=new xn({props:{class:"bg-foregroundDark text-foregroundText",$$slots:{default:[Qv]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){K(e,o,i),n=!0},p(o,i){const r={};i&17&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function ey(t){let e,n,o;function i(l){t[3](l)}let r={$$slots:{default:[zv]},$$scope:{ctx:t}};return t[1]!==void 0&&(r.open=t[1]),e=new Qn({props:r}),Ne.push(()=>Tn(e,"open",i)),{c(){J(e.$$.fragment)},m(l,a){K(e,l,a),o=!0},p(l,[a]){const s={};a&17&&(s.$$scope={dirty:a,ctx:l}),!n&&a&2&&(n=!0,s.open=l[1],Sn(()=>n=!1)),e.$set(s)},i(l){o||(A(e.$$.fragment,l),o=!0)},o(l){S(e.$$.fragment,l),o=!1},d(l){X(e,l)}}}function ty(t,e,n){let o;ae(t,Pe,a=>n(0,o=a));let i=!1;function r(){let a=o;a.overtime=!0,Pe.set(a),n(1,i=!1),Rt.set(!1)}function l(a){i=a,n(1,i),n(0,o)}return t.$$.update=()=>{t.$$.dirty&1&&(o.endGameDetails.msg!=""&&o.overtime==!1?n(1,i=!0):n(1,i=!1))},[o,i,r,l]}class ny extends be{constructor(e){super(),ge(this,e,ty,ey,fe,{})}}function oy(t){let e;return{c(){e=B("Welcome to Plots!")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function iy(t){let e;return{c(){e=B("Select a map size (difficulty)")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function ry(t){let e;return{c(){e=B("Select a game mode")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function ly(t){let e;return{c(){e=I("p"),e.textContent=`${Vn.free_play.description_title}`,N(e,"class","text-gray-500 text-sm")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function sy(t){let e;return{c(){e=I("p"),e.textContent=`${Vn.land.description_title}`,N(e,"class","text-gray-500 text-sm")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function ay(t){let e;return{c(){e=B("Town Name")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function uy(t){let e;return{c(){e=B("Cheats")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function fy(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,p,_,b,k,C,w,R,L,D,E,G,$,W,y,v,O,P,H,F,Q;r=new ao({props:{for:"difficulty",class:"mt-2",$$slots:{default:[iy]},$$scope:{ctx:t}}}),m=new ao({props:{for:"endGoal",class:"mt-2",$$slots:{default:[ry]},$$scope:{ctx:t}}});function ne(h,V){return h[0]==="land"?sy:ly}let z=ne(t),Y=z(t);return L=new ao({props:{for:"townName",class:"mt-2",$$slots:{default:[ay]},$$scope:{ctx:t}}}),E=new Ul({props:{id:"townName",class:"mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Will be randomized if you leave blank"}}),W=new ao({props:{for:"cheats",class:"mt-2",$$slots:{default:[uy]},$$scope:{ctx:t}}}),{c(){e=I("a"),e.textContent="GitHub / Learn how to play",n=q(),o=I("div"),i=I("div"),J(r.$$.fragment),l=q(),a=I("select"),s=I("option"),s.textContent="Easy (quick game)",u=I("option"),u.textContent="Normal",f=I("option"),f.textContent="Hard (longest game)",c=q(),d=I("div"),J(m.$$.fragment),p=q(),Y.c(),_=q(),b=I("select"),k=I("option"),k.textContent=`${Vn.land.short_title}`,C=I("option"),C.textContent=`${Vn.free_play.short_title}`,w=q(),R=I("div"),J(L.$$.fragment),D=q(),J(E.$$.fragment),G=q(),$=I("div"),J(W.$$.fragment),y=q(),v=I("select"),O=I("option"),O.textContent="No cheats",P=I("option"),P.textContent="Dev mode",N(e,"href","https://github.com/josephrcox/plots#how-to-play"),N(e,"class","text-blue-500 text-sm mb-4 hover:underline"),N(e,"target","_blank"),s.__value="0",on(s,s.__value),u.__value="1",on(u,u.__value),u.selected=!0,f.__value="2",on(f,f.__value),N(a,"id","difficulty"),N(a,"class","mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"),k.__value="land",on(k,k.__value),C.__value="free_play",on(C,C.__value),N(b,"id","endGoal"),N(b,"class","mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),O.__value="false",on(O,O.__value),O.selected=!0,P.__value="true",on(P,P.__value),N(v,"id","cheats"),N(v,"class","mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),N(o,"class","flex flex-col justify-center gap-5 mt-4")},m(h,V){M(h,e,V),M(h,n,V),M(h,o,V),g(o,i),K(r,i,null),g(i,l),g(i,a),g(a,s),g(a,u),g(a,f),g(o,c),g(o,d),K(m,d,null),g(d,p),Y.m(d,null),g(d,_),g(d,b),g(b,k),g(b,C),ws(b,t[0]),g(o,w),g(o,R),K(L,R,null),g(R,D),K(E,R,null),g(o,G),g(o,$),K(W,$,null),g($,y),g($,v),g(v,O),g(v,P),H=!0,F||(Q=te(b,"change",t[4]),F=!0)},p(h,V){const U={};V&256&&(U.$$scope={dirty:V,ctx:h}),r.$set(U);const ee={};V&256&&(ee.$$scope={dirty:V,ctx:h}),m.$set(ee),z!==(z=ne(h))&&(Y.d(1),Y=z(h),Y&&(Y.c(),Y.m(d,_))),(!H||V&1)&&ws(b,h[0]);const Z={};V&256&&(Z.$$scope={dirty:V,ctx:h}),L.$set(Z);const we={};V&256&&(we.$$scope={dirty:V,ctx:h}),W.$set(we)},i(h){H||(A(r.$$.fragment,h),A(m.$$.fragment,h),A(L.$$.fragment,h),A(E.$$.fragment,h),A(W.$$.fragment,h),H=!0)},o(h){S(r.$$.fragment,h),S(m.$$.fragment,h),S(L.$$.fragment,h),S(E.$$.fragment,h),S(W.$$.fragment,h),H=!1},d(h){h&&(T(e),T(n),T(o)),X(r),X(m),Y.d(),X(L),X(E),X(W),F=!1,Q()}}}function cy(t){let e,n,o,i;return e=new Xn({props:{$$slots:{default:[oy]},$$scope:{ctx:t}}}),o=new Zn({props:{$$slots:{default:[fy]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=q(),J(o.$$.fragment)},m(r,l){K(e,r,l),M(r,n,l),K(o,r,l),i=!0},p(r,l){const a={};l&256&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&257&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function dy(t){let e;return{c(){e=B("Reset user")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function my(t){let e,n,o=t[1].username+"",i,r,l,a,s,u,f,c,d;return a=new Mt({props:{$$slots:{default:[dy]},$$scope:{ctx:t}}}),a.$on("click",t[5]),{c(){e=I("div"),n=I("span"),i=B(o),r=q(),l=I("div"),J(a.$$.fragment),s=q(),u=I("button"),u.textContent="Start game",N(n,"class","italic opacity-30 text-xs py-2 text-start rounded h-full flex flex-col justify-center mr-10"),N(u,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-md"),N(e,"class","flex flex-row justify-between w-full px-1")},m(m,p){M(m,e,p),g(e,n),g(n,i),g(e,r),g(e,l),K(a,l,null),g(l,s),g(l,u),f=!0,c||(d=[te(n,"click",t[6]),te(u,"click",t[3])],c=!0)},p(m,p){(!f||p&2)&&o!==(o=m[1].username+"")&&re(i,o);const _={};p&256&&(_.$$scope={dirty:p,ctx:m}),a.$set(_)},i(m){f||(A(a.$$.fragment,m),f=!0)},o(m){S(a.$$.fragment,m),f=!1},d(m){m&&T(e),X(a),c=!1,Le(d)}}}function py(t){let e,n,o,i;return e=new Jn({props:{$$slots:{default:[cy]},$$scope:{ctx:t}}}),o=new Mo({props:{$$slots:{default:[my]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=q(),J(o.$$.fragment)},m(r,l){K(e,r,l),M(r,n,l),K(o,r,l),i=!0},p(r,l){const a={};l&257&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&258&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function hy(t){let e,n;return e=new xn({props:{transition:_r,class:"bg-foregroundDark text-foregroundText",$$slots:{default:[py]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){K(e,o,i),n=!0},p(o,i){const r={};i&259&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function _y(t){let e,n,o;function i(l){t[7](l)}let r={$$slots:{default:[hy]},$$scope:{ctx:t}};return t[2].visible!==void 0&&(r.open=t[2].visible),e=new Qn({props:r}),Ne.push(()=>Tn(e,"open",i)),{c(){J(e.$$.fragment)},m(l,a){K(e,l,a),o=!0},p(l,[a]){const s={};a&259&&(s.$$scope={dirty:a,ctx:l}),!n&&a&4&&(n=!0,s.open=l[2].visible,Sn(()=>n=!1)),e.$set(s)},i(l){o||(A(e.$$.fragment,l),o=!0)},o(l){S(e.$$.fragment,l),o=!1},d(l){X(e,l)}}}function gy(t,e,n){let o,i;ae(t,sn,c=>n(1,o=c)),ae(t,Wo,c=>n(2,i=c)),Rt.set(!1);function r(){const c=document.getElementById("difficulty").value,d=document.getElementById("endGoal").value,m=document.getElementById("townName").value,p=document.getElementById("cheats").value=="true";fm(c,d,m,p)}let l="free_play";const a=c=>{n(0,l=c.target.value)};function s(){Pt.set("Deleted :)"),localStorage.clear(),window.location.href=""}function u(){const c=prompt("Enter new username");let d=o;d.username=c,hm(d)}function f(c){t.$$.not_equal(i.visible,c)&&(i.visible=c,Wo.set(i))}return[l,o,i,r,a,s,u,f]}class by extends be{constructor(e){super(),ge(this,e,gy,_y,fe,{})}}function vy(t){let e;return{c(){e=B("Scoreboard")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function yy(t){let e=t[1].description_title+"",n;return{c(){n=B(e)},m(o,i){M(o,n,i)},p:ke,d(o){o&&T(n)}}}function wy(t){let e,n,o,i;return e=new Xn({props:{$$slots:{default:[vy]},$$scope:{ctx:t}}}),o=new Zn({props:{$$slots:{default:[yy]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=q(),J(o.$$.fragment)},m(r,l){K(e,r,l),M(r,n,l),K(o,r,l),i=!0},p(r,l){const a={};l&128&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&128&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function ky(t){let e;return{c(){e=B("footer")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Cy(t){let e,n,o,i;return e=new Jn({props:{$$slots:{default:[wy]},$$scope:{ctx:t}}}),o=new Mo({props:{$$slots:{default:[ky]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=B(`
		hi
		`),J(o.$$.fragment)},m(r,l){K(e,r,l),M(r,n,l),K(o,r,l),i=!0},p(r,l){const a={};l&128&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&128&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function Ay(t){let e,n;return e=new xn({props:{$$slots:{default:[Cy]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){K(e,o,i),n=!0},p(o,i){const r={};i&128&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function Sy(t){let e,n,o;function i(l){t[3](l)}let r={$$slots:{default:[Ay]},$$scope:{ctx:t}};return t[0]!==void 0&&(r.open=t[0]),e=new Qn({props:r}),Ne.push(()=>Tn(e,"open",i)),{c(){J(e.$$.fragment)},m(l,a){K(e,l,a),o=!0},p(l,[a]){const s={};a&128&&(s.$$scope={dirty:a,ctx:l}),!n&&a&1&&(n=!0,s.open=l[0],Sn(()=>n=!1)),e.$set(s)},i(l){o||(A(e.$$.fragment,l),o=!0)},o(l){S(e.$$.fragment,l),o=!1},d(l){X(e,l)}}}function Ty(t,e,n){let o,i;ae(t,Pe,s=>n(2,o=s)),ae(t,Ss,s=>n(0,i=s));const l=Vn[o.endGoal];Rl[o.difficulty];function a(s){i=s,Ss.set(i)}return t.$$.update=()=>{t.$$.dirty&4},[i,l,o,a]}class My extends be{constructor(e){super(),ge(this,e,Ty,Sy,fe,{})}}function Ei(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Iy(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ed(t){let e,n,o;t.length!==2?(e=Ei,n=(a,s)=>Ei(t(a),s),o=(a,s)=>t(a)-s):(e=t===Ei||t===Iy?t:Oy,n=t,o=t);function i(a,s,u=0,f=a.length){if(u<f){if(e(s,s)!==0)return f;do{const c=u+f>>>1;n(a[c],s)<0?u=c+1:f=c}while(u<f)}return u}function r(a,s,u=0,f=a.length){if(u<f){if(e(s,s)!==0)return f;do{const c=u+f>>>1;n(a[c],s)<=0?u=c+1:f=c}while(u<f)}return u}function l(a,s,u=0,f=a.length){const c=i(a,s,u,f-1);return c>u&&o(a[c-1],s)>-o(a[c],s)?c-1:c}return{left:i,center:l,right:r}}function Oy(){return 0}function Py(t){return t===null?NaN:+t}const Ny=ed(Ei),Ey=Ny.right;ed(Py).center;const $y=Math.sqrt(50),Ry=Math.sqrt(10),Dy=Math.sqrt(2);function er(t,e,n){const o=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(o)),r=o/Math.pow(10,i),l=r>=$y?10:r>=Ry?5:r>=Dy?2:1;let a,s,u;return i<0?(u=Math.pow(10,-i)/l,a=Math.round(t*u),s=Math.round(e*u),a/u<t&&++a,s/u>e&&--s,u=-u):(u=Math.pow(10,i)*l,a=Math.round(t/u),s=Math.round(e/u),a*u<t&&++a,s*u>e&&--s),s<a&&.5<=n&&n<2?er(t,e,n*2):[a,s,u]}function Ly(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const o=e<t,[i,r,l]=o?er(e,t,n):er(t,e,n);if(!(r>=i))return[];const a=r-i+1,s=new Array(a);if(o)if(l<0)for(let u=0;u<a;++u)s[u]=(r-u)/-l;else for(let u=0;u<a;++u)s[u]=(r-u)*l;else if(l<0)for(let u=0;u<a;++u)s[u]=(i+u)/-l;else for(let u=0;u<a;++u)s[u]=(i+u)*l;return s}function pl(t,e,n){return e=+e,t=+t,n=+n,er(t,e,n)[2]}function Fy(t,e,n){e=+e,t=+t,n=+n;const o=e<t,i=o?pl(e,t,n):pl(t,e,n);return(o?-1:1)*(i<0?1/-i:i)}function By(t){return t}var Xr=1,Jr=2,hl=3,jo=4,fu=1e-6;function jy(t){return"translate("+t+",0)"}function qy(t){return"translate(0,"+t+")"}function Gy(t){return e=>+t(e)}function Vy(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function Hy(){return!this.__axis}function td(t,e){var n=[],o=null,i=null,r=6,l=6,a=3,s=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=t===Xr||t===jo?-1:1,f=t===jo||t===Jr?"x":"y",c=t===Xr||t===hl?jy:qy;function d(m){var p=o??(e.ticks?e.ticks.apply(e,n):e.domain()),_=i??(e.tickFormat?e.tickFormat.apply(e,n):By),b=Math.max(r,0)+a,k=e.range(),C=+k[0]+s,w=+k[k.length-1]+s,R=(e.bandwidth?Vy:Gy)(e.copy(),s),L=m.selection?m.selection():m,D=L.selectAll(".domain").data([null]),E=L.selectAll(".tick").data(p,e).order(),G=E.exit(),$=E.enter().append("g").attr("class","tick"),W=E.select("line"),y=E.select("text");D=D.merge(D.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),E=E.merge($),W=W.merge($.append("line").attr("stroke","currentColor").attr(f+"2",u*r)),y=y.merge($.append("text").attr("fill","currentColor").attr(f,u*b).attr("dy",t===Xr?"0em":t===hl?"0.71em":"0.32em")),m!==L&&(D=D.transition(m),E=E.transition(m),W=W.transition(m),y=y.transition(m),G=G.transition(m).attr("opacity",fu).attr("transform",function(v){return isFinite(v=R(v))?c(v+s):this.getAttribute("transform")}),$.attr("opacity",fu).attr("transform",function(v){var O=this.parentNode.__axis;return c((O&&isFinite(O=O(v))?O:R(v))+s)})),G.remove(),D.attr("d",t===jo||t===Jr?l?"M"+u*l+","+C+"H"+s+"V"+w+"H"+u*l:"M"+s+","+C+"V"+w:l?"M"+C+","+u*l+"V"+s+"H"+w+"V"+u*l:"M"+C+","+s+"H"+w),E.attr("opacity",1).attr("transform",function(v){return c(R(v)+s)}),W.attr(f+"2",u*r),y.attr(f,u*b).text(_),L.filter(Hy).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Jr?"start":t===jo?"end":"middle"),L.each(function(){this.__axis=R})}return d.scale=function(m){return arguments.length?(e=m,d):e},d.ticks=function(){return n=Array.from(arguments),d},d.tickArguments=function(m){return arguments.length?(n=m==null?[]:Array.from(m),d):n.slice()},d.tickValues=function(m){return arguments.length?(o=m==null?null:Array.from(m),d):o&&o.slice()},d.tickFormat=function(m){return arguments.length?(i=m,d):i},d.tickSize=function(m){return arguments.length?(r=l=+m,d):r},d.tickSizeInner=function(m){return arguments.length?(r=+m,d):r},d.tickSizeOuter=function(m){return arguments.length?(l=+m,d):l},d.tickPadding=function(m){return arguments.length?(a=+m,d):a},d.offset=function(m){return arguments.length?(s=+m,d):s},d}function Wy(t){return td(hl,t)}function Yy(t){return td(jo,t)}var Uy={value:()=>{}};function nd(){for(var t=0,e=arguments.length,n={},o;t<e;++t){if(!(o=arguments[t]+"")||o in n||/[\s.]/.test(o))throw new Error("illegal type: "+o);n[o]=[]}return new $i(n)}function $i(t){this._=t}function Ky(t,e){return t.trim().split(/^|\s+/).map(function(n){var o="",i=n.indexOf(".");if(i>=0&&(o=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:o}})}$i.prototype=nd.prototype={constructor:$i,on:function(t,e){var n=this._,o=Ky(t+"",n),i,r=-1,l=o.length;if(arguments.length<2){for(;++r<l;)if((i=(t=o[r]).type)&&(i=Xy(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++r<l;)if(i=(t=o[r]).type)n[i]=cu(n[i],t.name,e);else if(e==null)for(i in n)n[i]=cu(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new $i(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),o=0,i,r;o<i;++o)n[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=this._[t],o=0,i=r.length;o<i;++o)r[o].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var o=this._[t],i=0,r=o.length;i<r;++i)o[i].value.apply(e,n)}};function Xy(t,e){for(var n=0,o=t.length,i;n<o;++n)if((i=t[n]).name===e)return i.value}function cu(t,e,n){for(var o=0,i=t.length;o<i;++o)if(t[o].name===e){t[o]=Uy,t=t.slice(0,o).concat(t.slice(o+1));break}return n!=null&&t.push({name:e,value:n}),t}var _l="http://www.w3.org/1999/xhtml";const du={svg:"http://www.w3.org/2000/svg",xhtml:_l,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Tr(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),du.hasOwnProperty(e)?{space:du[e],local:t}:t}function Jy(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===_l&&e.documentElement.namespaceURI===_l?e.createElement(t):e.createElementNS(n,t)}}function xy(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function od(t){var e=Tr(t);return(e.local?xy:Jy)(e)}function Zy(){}function xl(t){return t==null?Zy:function(){return this.querySelector(t)}}function Qy(t){typeof t!="function"&&(t=xl(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var r=e[i],l=r.length,a=o[i]=new Array(l),s,u,f=0;f<l;++f)(s=r[f])&&(u=t.call(s,s.__data__,f,r))&&("__data__"in s&&(u.__data__=s.__data__),a[f]=u);return new Et(o,this._parents)}function zy(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function ew(){return[]}function id(t){return t==null?ew:function(){return this.querySelectorAll(t)}}function tw(t){return function(){return zy(t.apply(this,arguments))}}function nw(t){typeof t=="function"?t=tw(t):t=id(t);for(var e=this._groups,n=e.length,o=[],i=[],r=0;r<n;++r)for(var l=e[r],a=l.length,s,u=0;u<a;++u)(s=l[u])&&(o.push(t.call(s,s.__data__,u,l)),i.push(s));return new Et(o,i)}function rd(t){return function(){return this.matches(t)}}function ld(t){return function(e){return e.matches(t)}}var ow=Array.prototype.find;function iw(t){return function(){return ow.call(this.children,t)}}function rw(){return this.firstElementChild}function lw(t){return this.select(t==null?rw:iw(typeof t=="function"?t:ld(t)))}var sw=Array.prototype.filter;function aw(){return Array.from(this.children)}function uw(t){return function(){return sw.call(this.children,t)}}function fw(t){return this.selectAll(t==null?aw:uw(typeof t=="function"?t:ld(t)))}function cw(t){typeof t!="function"&&(t=rd(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var r=e[i],l=r.length,a=o[i]=[],s,u=0;u<l;++u)(s=r[u])&&t.call(s,s.__data__,u,r)&&a.push(s);return new Et(o,this._parents)}function sd(t){return new Array(t.length)}function dw(){return new Et(this._enter||this._groups.map(sd),this._parents)}function tr(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}tr.prototype={constructor:tr,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function mw(t){return function(){return t}}function pw(t,e,n,o,i,r){for(var l=0,a,s=e.length,u=r.length;l<u;++l)(a=e[l])?(a.__data__=r[l],o[l]=a):n[l]=new tr(t,r[l]);for(;l<s;++l)(a=e[l])&&(i[l]=a)}function hw(t,e,n,o,i,r,l){var a,s,u=new Map,f=e.length,c=r.length,d=new Array(f),m;for(a=0;a<f;++a)(s=e[a])&&(d[a]=m=l.call(s,s.__data__,a,e)+"",u.has(m)?i[a]=s:u.set(m,s));for(a=0;a<c;++a)m=l.call(t,r[a],a,r)+"",(s=u.get(m))?(o[a]=s,s.__data__=r[a],u.delete(m)):n[a]=new tr(t,r[a]);for(a=0;a<f;++a)(s=e[a])&&u.get(d[a])===s&&(i[a]=s)}function _w(t){return t.__data__}function gw(t,e){if(!arguments.length)return Array.from(this,_w);var n=e?hw:pw,o=this._parents,i=this._groups;typeof t!="function"&&(t=mw(t));for(var r=i.length,l=new Array(r),a=new Array(r),s=new Array(r),u=0;u<r;++u){var f=o[u],c=i[u],d=c.length,m=bw(t.call(f,f&&f.__data__,u,o)),p=m.length,_=a[u]=new Array(p),b=l[u]=new Array(p),k=s[u]=new Array(d);n(f,c,_,b,k,m,e);for(var C=0,w=0,R,L;C<p;++C)if(R=_[C]){for(C>=w&&(w=C+1);!(L=b[w])&&++w<p;);R._next=L||null}}return l=new Et(l,o),l._enter=a,l._exit=s,l}function bw(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function vw(){return new Et(this._exit||this._groups.map(sd),this._parents)}function yw(t,e,n){var o=this.enter(),i=this,r=this.exit();return typeof t=="function"?(o=t(o),o&&(o=o.selection())):o=o.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?r.remove():n(r),o&&i?o.merge(i).order():i}function ww(t){for(var e=t.selection?t.selection():t,n=this._groups,o=e._groups,i=n.length,r=o.length,l=Math.min(i,r),a=new Array(i),s=0;s<l;++s)for(var u=n[s],f=o[s],c=u.length,d=a[s]=new Array(c),m,p=0;p<c;++p)(m=u[p]||f[p])&&(d[p]=m);for(;s<i;++s)a[s]=n[s];return new Et(a,this._parents)}function kw(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var o=t[e],i=o.length-1,r=o[i],l;--i>=0;)(l=o[i])&&(r&&l.compareDocumentPosition(r)^4&&r.parentNode.insertBefore(l,r),r=l);return this}function Cw(t){t||(t=Aw);function e(c,d){return c&&d?t(c.__data__,d.__data__):!c-!d}for(var n=this._groups,o=n.length,i=new Array(o),r=0;r<o;++r){for(var l=n[r],a=l.length,s=i[r]=new Array(a),u,f=0;f<a;++f)(u=l[f])&&(s[f]=u);s.sort(e)}return new Et(i,this._parents).order()}function Aw(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Sw(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Tw(){return Array.from(this)}function Mw(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var o=t[e],i=0,r=o.length;i<r;++i){var l=o[i];if(l)return l}return null}function Iw(){let t=0;for(const e of this)++t;return t}function Ow(){return!this.node()}function Pw(t){for(var e=this._groups,n=0,o=e.length;n<o;++n)for(var i=e[n],r=0,l=i.length,a;r<l;++r)(a=i[r])&&t.call(a,a.__data__,r,i);return this}function Nw(t){return function(){this.removeAttribute(t)}}function Ew(t){return function(){this.removeAttributeNS(t.space,t.local)}}function $w(t,e){return function(){this.setAttribute(t,e)}}function Rw(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Dw(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Lw(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Fw(t,e){var n=Tr(t);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((e==null?n.local?Ew:Nw:typeof e=="function"?n.local?Lw:Dw:n.local?Rw:$w)(n,e))}function ad(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Bw(t){return function(){this.style.removeProperty(t)}}function jw(t,e,n){return function(){this.style.setProperty(t,e,n)}}function qw(t,e,n){return function(){var o=e.apply(this,arguments);o==null?this.style.removeProperty(t):this.style.setProperty(t,o,n)}}function Gw(t,e,n){return arguments.length>1?this.each((e==null?Bw:typeof e=="function"?qw:jw)(t,e,n??"")):vo(this.node(),t)}function vo(t,e){return t.style.getPropertyValue(e)||ad(t).getComputedStyle(t,null).getPropertyValue(e)}function Vw(t){return function(){delete this[t]}}function Hw(t,e){return function(){this[t]=e}}function Ww(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Yw(t,e){return arguments.length>1?this.each((e==null?Vw:typeof e=="function"?Ww:Hw)(t,e)):this.node()[t]}function ud(t){return t.trim().split(/^|\s+/)}function Zl(t){return t.classList||new fd(t)}function fd(t){this._node=t,this._names=ud(t.getAttribute("class")||"")}fd.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function cd(t,e){for(var n=Zl(t),o=-1,i=e.length;++o<i;)n.add(e[o])}function dd(t,e){for(var n=Zl(t),o=-1,i=e.length;++o<i;)n.remove(e[o])}function Uw(t){return function(){cd(this,t)}}function Kw(t){return function(){dd(this,t)}}function Xw(t,e){return function(){(e.apply(this,arguments)?cd:dd)(this,t)}}function Jw(t,e){var n=ud(t+"");if(arguments.length<2){for(var o=Zl(this.node()),i=-1,r=n.length;++i<r;)if(!o.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?Xw:e?Uw:Kw)(n,e))}function xw(){this.textContent=""}function Zw(t){return function(){this.textContent=t}}function Qw(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function zw(t){return arguments.length?this.each(t==null?xw:(typeof t=="function"?Qw:Zw)(t)):this.node().textContent}function e2(){this.innerHTML=""}function t2(t){return function(){this.innerHTML=t}}function n2(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function o2(t){return arguments.length?this.each(t==null?e2:(typeof t=="function"?n2:t2)(t)):this.node().innerHTML}function i2(){this.nextSibling&&this.parentNode.appendChild(this)}function r2(){return this.each(i2)}function l2(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function s2(){return this.each(l2)}function a2(t){var e=typeof t=="function"?t:od(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function u2(){return null}function f2(t,e){var n=typeof t=="function"?t:od(t),o=e==null?u2:typeof e=="function"?e:xl(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)})}function c2(){var t=this.parentNode;t&&t.removeChild(this)}function d2(){return this.each(c2)}function m2(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function p2(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function h2(t){return this.select(t?p2:m2)}function _2(t){return arguments.length?this.property("__data__",t):this.node().__data__}function g2(t){return function(e){t.call(this,e,this.__data__)}}function b2(t){return t.trim().split(/^|\s+/).map(function(e){var n="",o=e.indexOf(".");return o>=0&&(n=e.slice(o+1),e=e.slice(0,o)),{type:e,name:n}})}function v2(t){return function(){var e=this.__on;if(e){for(var n=0,o=-1,i=e.length,r;n<i;++n)r=e[n],(!t.type||r.type===t.type)&&r.name===t.name?this.removeEventListener(r.type,r.listener,r.options):e[++o]=r;++o?e.length=o:delete this.__on}}}function y2(t,e,n){return function(){var o=this.__on,i,r=g2(e);if(o){for(var l=0,a=o.length;l<a;++l)if((i=o[l]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=r,i.options=n),i.value=e;return}}this.addEventListener(t.type,r,n),i={type:t.type,name:t.name,value:e,listener:r,options:n},o?o.push(i):this.__on=[i]}}function w2(t,e,n){var o=b2(t+""),i,r=o.length,l;if(arguments.length<2){var a=this.node().__on;if(a){for(var s=0,u=a.length,f;s<u;++s)for(i=0,f=a[s];i<r;++i)if((l=o[i]).type===f.type&&l.name===f.name)return f.value}return}for(a=e?y2:v2,i=0;i<r;++i)this.each(a(o[i],e,n));return this}function md(t,e,n){var o=ad(t),i=o.CustomEvent;typeof i=="function"?i=new i(e,n):(i=o.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function k2(t,e){return function(){return md(this,t,e)}}function C2(t,e){return function(){return md(this,t,e.apply(this,arguments))}}function A2(t,e){return this.each((typeof e=="function"?C2:k2)(t,e))}function*S2(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var o=t[e],i=0,r=o.length,l;i<r;++i)(l=o[i])&&(yield l)}var pd=[null];function Et(t,e){this._groups=t,this._parents=e}function oi(){return new Et([[document.documentElement]],pd)}function T2(){return this}Et.prototype=oi.prototype={constructor:Et,select:Qy,selectAll:nw,selectChild:lw,selectChildren:fw,filter:cw,data:gw,enter:dw,exit:vw,join:yw,merge:ww,selection:T2,order:kw,sort:Cw,call:Sw,nodes:Tw,node:Mw,size:Iw,empty:Ow,each:Pw,attr:Fw,style:Gw,property:Yw,classed:Jw,text:zw,html:o2,raise:r2,lower:s2,append:a2,insert:f2,remove:d2,clone:h2,datum:_2,on:w2,dispatch:A2,[Symbol.iterator]:S2};function M2(t){return typeof t=="string"?new Et([[document.querySelector(t)]],[document.documentElement]):new Et([[t]],pd)}function Ql(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function hd(t,e){var n=Object.create(t.prototype);for(var o in e)n[o]=e[o];return n}function ii(){}var Zo=.7,nr=1/Zo,po="\\s*([+-]?\\d+)\\s*",Qo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Xt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",I2=/^#([0-9a-f]{3,8})$/,O2=new RegExp(`^rgb\\(${po},${po},${po}\\)$`),P2=new RegExp(`^rgb\\(${Xt},${Xt},${Xt}\\)$`),N2=new RegExp(`^rgba\\(${po},${po},${po},${Qo}\\)$`),E2=new RegExp(`^rgba\\(${Xt},${Xt},${Xt},${Qo}\\)$`),$2=new RegExp(`^hsl\\(${Qo},${Xt},${Xt}\\)$`),R2=new RegExp(`^hsla\\(${Qo},${Xt},${Xt},${Qo}\\)$`),mu={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ql(ii,Hn,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:pu,formatHex:pu,formatHex8:D2,formatHsl:L2,formatRgb:hu,toString:hu});function pu(){return this.rgb().formatHex()}function D2(){return this.rgb().formatHex8()}function L2(){return _d(this).formatHsl()}function hu(){return this.rgb().formatRgb()}function Hn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=I2.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?_u(e):n===3?new St(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Ai(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Ai(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=O2.exec(t))?new St(e[1],e[2],e[3],1):(e=P2.exec(t))?new St(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=N2.exec(t))?Ai(e[1],e[2],e[3],e[4]):(e=E2.exec(t))?Ai(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=$2.exec(t))?vu(e[1],e[2]/100,e[3]/100,1):(e=R2.exec(t))?vu(e[1],e[2]/100,e[3]/100,e[4]):mu.hasOwnProperty(t)?_u(mu[t]):t==="transparent"?new St(NaN,NaN,NaN,0):null}function _u(t){return new St(t>>16&255,t>>8&255,t&255,1)}function Ai(t,e,n,o){return o<=0&&(t=e=n=NaN),new St(t,e,n,o)}function F2(t){return t instanceof ii||(t=Hn(t)),t?(t=t.rgb(),new St(t.r,t.g,t.b,t.opacity)):new St}function gl(t,e,n,o){return arguments.length===1?F2(t):new St(t,e,n,o??1)}function St(t,e,n,o){this.r=+t,this.g=+e,this.b=+n,this.opacity=+o}Ql(St,gl,hd(ii,{brighter(t){return t=t==null?nr:Math.pow(nr,t),new St(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Zo:Math.pow(Zo,t),new St(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new St(Ln(this.r),Ln(this.g),Ln(this.b),or(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:gu,formatHex:gu,formatHex8:B2,formatRgb:bu,toString:bu}));function gu(){return`#${$n(this.r)}${$n(this.g)}${$n(this.b)}`}function B2(){return`#${$n(this.r)}${$n(this.g)}${$n(this.b)}${$n((isNaN(this.opacity)?1:this.opacity)*255)}`}function bu(){const t=or(this.opacity);return`${t===1?"rgb(":"rgba("}${Ln(this.r)}, ${Ln(this.g)}, ${Ln(this.b)}${t===1?")":`, ${t})`}`}function or(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ln(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function $n(t){return t=Ln(t),(t<16?"0":"")+t.toString(16)}function vu(t,e,n,o){return o<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new jt(t,e,n,o)}function _d(t){if(t instanceof jt)return new jt(t.h,t.s,t.l,t.opacity);if(t instanceof ii||(t=Hn(t)),!t)return new jt;if(t instanceof jt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,o=t.b/255,i=Math.min(e,n,o),r=Math.max(e,n,o),l=NaN,a=r-i,s=(r+i)/2;return a?(e===r?l=(n-o)/a+(n<o)*6:n===r?l=(o-e)/a+2:l=(e-n)/a+4,a/=s<.5?r+i:2-r-i,l*=60):a=s>0&&s<1?0:l,new jt(l,a,s,t.opacity)}function j2(t,e,n,o){return arguments.length===1?_d(t):new jt(t,e,n,o??1)}function jt(t,e,n,o){this.h=+t,this.s=+e,this.l=+n,this.opacity=+o}Ql(jt,j2,hd(ii,{brighter(t){return t=t==null?nr:Math.pow(nr,t),new jt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Zo:Math.pow(Zo,t),new jt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*e,i=2*n-o;return new St(xr(t>=240?t-240:t+120,i,o),xr(t,i,o),xr(t<120?t+240:t-120,i,o),this.opacity)},clamp(){return new jt(yu(this.h),Si(this.s),Si(this.l),or(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=or(this.opacity);return`${t===1?"hsl(":"hsla("}${yu(this.h)}, ${Si(this.s)*100}%, ${Si(this.l)*100}%${t===1?")":`, ${t})`}`}}));function yu(t){return t=(t||0)%360,t<0?t+360:t}function Si(t){return Math.max(0,Math.min(1,t||0))}function xr(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const zl=t=>()=>t;function q2(t,e){return function(n){return t+n*e}}function G2(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(o){return Math.pow(t+o*e,n)}}function V2(t){return(t=+t)==1?gd:function(e,n){return n-e?G2(e,n,t):zl(isNaN(e)?n:e)}}function gd(t,e){var n=e-t;return n?q2(t,n):zl(isNaN(t)?e:t)}const ir=function t(e){var n=V2(e);function o(i,r){var l=n((i=gl(i)).r,(r=gl(r)).r),a=n(i.g,r.g),s=n(i.b,r.b),u=gd(i.opacity,r.opacity);return function(f){return i.r=l(f),i.g=a(f),i.b=s(f),i.opacity=u(f),i+""}}return o.gamma=t,o}(1);function H2(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,o=e.slice(),i;return function(r){for(i=0;i<n;++i)o[i]=t[i]*(1-r)+e[i]*r;return o}}function W2(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Y2(t,e){var n=e?e.length:0,o=t?Math.min(n,t.length):0,i=new Array(o),r=new Array(n),l;for(l=0;l<o;++l)i[l]=es(t[l],e[l]);for(;l<n;++l)r[l]=e[l];return function(a){for(l=0;l<o;++l)r[l]=i[l](a);return r}}function U2(t,e){var n=new Date;return t=+t,e=+e,function(o){return n.setTime(t*(1-o)+e*o),n}}function Bt(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function K2(t,e){var n={},o={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=es(t[i],e[i]):o[i]=e[i];return function(r){for(i in n)o[i]=n[i](r);return o}}var bl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Zr=new RegExp(bl.source,"g");function X2(t){return function(){return t}}function J2(t){return function(e){return t(e)+""}}function bd(t,e){var n=bl.lastIndex=Zr.lastIndex=0,o,i,r,l=-1,a=[],s=[];for(t=t+"",e=e+"";(o=bl.exec(t))&&(i=Zr.exec(e));)(r=i.index)>n&&(r=e.slice(n,r),a[l]?a[l]+=r:a[++l]=r),(o=o[0])===(i=i[0])?a[l]?a[l]+=i:a[++l]=i:(a[++l]=null,s.push({i:l,x:Bt(o,i)})),n=Zr.lastIndex;return n<e.length&&(r=e.slice(n),a[l]?a[l]+=r:a[++l]=r),a.length<2?s[0]?J2(s[0].x):X2(e):(e=s.length,function(u){for(var f=0,c;f<e;++f)a[(c=s[f]).i]=c.x(u);return a.join("")})}function es(t,e){var n=typeof e,o;return e==null||n==="boolean"?zl(e):(n==="number"?Bt:n==="string"?(o=Hn(e))?(e=o,ir):bd:e instanceof Hn?ir:e instanceof Date?U2:W2(e)?H2:Array.isArray(e)?Y2:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?K2:Bt)(t,e)}function x2(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var wu=180/Math.PI,vl={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function vd(t,e,n,o,i,r){var l,a,s;return(l=Math.sqrt(t*t+e*e))&&(t/=l,e/=l),(s=t*n+e*o)&&(n-=t*s,o-=e*s),(a=Math.sqrt(n*n+o*o))&&(n/=a,o/=a,s/=a),t*o<e*n&&(t=-t,e=-e,s=-s,l=-l),{translateX:i,translateY:r,rotate:Math.atan2(e,t)*wu,skewX:Math.atan(s)*wu,scaleX:l,scaleY:a}}var Ti;function Z2(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?vl:vd(e.a,e.b,e.c,e.d,e.e,e.f)}function Q2(t){return t==null||(Ti||(Ti=document.createElementNS("http://www.w3.org/2000/svg","g")),Ti.setAttribute("transform",t),!(t=Ti.transform.baseVal.consolidate()))?vl:(t=t.matrix,vd(t.a,t.b,t.c,t.d,t.e,t.f))}function yd(t,e,n,o){function i(u){return u.length?u.pop()+" ":""}function r(u,f,c,d,m,p){if(u!==c||f!==d){var _=m.push("translate(",null,e,null,n);p.push({i:_-4,x:Bt(u,c)},{i:_-2,x:Bt(f,d)})}else(c||d)&&m.push("translate("+c+e+d+n)}function l(u,f,c,d){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),d.push({i:c.push(i(c)+"rotate(",null,o)-2,x:Bt(u,f)})):f&&c.push(i(c)+"rotate("+f+o)}function a(u,f,c,d){u!==f?d.push({i:c.push(i(c)+"skewX(",null,o)-2,x:Bt(u,f)}):f&&c.push(i(c)+"skewX("+f+o)}function s(u,f,c,d,m,p){if(u!==c||f!==d){var _=m.push(i(m)+"scale(",null,",",null,")");p.push({i:_-4,x:Bt(u,c)},{i:_-2,x:Bt(f,d)})}else(c!==1||d!==1)&&m.push(i(m)+"scale("+c+","+d+")")}return function(u,f){var c=[],d=[];return u=t(u),f=t(f),r(u.translateX,u.translateY,f.translateX,f.translateY,c,d),l(u.rotate,f.rotate,c,d),a(u.skewX,f.skewX,c,d),s(u.scaleX,u.scaleY,f.scaleX,f.scaleY,c,d),u=f=null,function(m){for(var p=-1,_=d.length,b;++p<_;)c[(b=d[p]).i]=b.x(m);return c.join("")}}}var z2=yd(Z2,"px, ","px)","deg)"),ek=yd(Q2,", ",")",")"),yo=0,qo=0,Fo=0,wd=1e3,rr,Go,lr=0,Wn=0,Mr=0,zo=typeof performance=="object"&&performance.now?performance:Date,kd=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function ts(){return Wn||(kd(tk),Wn=zo.now()+Mr)}function tk(){Wn=0}function sr(){this._call=this._time=this._next=null}sr.prototype=Cd.prototype={constructor:sr,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?ts():+n)+(e==null?0:+e),!this._next&&Go!==this&&(Go?Go._next=this:rr=this,Go=this),this._call=t,this._time=n,yl()},stop:function(){this._call&&(this._call=null,this._time=1/0,yl())}};function Cd(t,e,n){var o=new sr;return o.restart(t,e,n),o}function nk(){ts(),++yo;for(var t=rr,e;t;)(e=Wn-t._time)>=0&&t._call.call(void 0,e),t=t._next;--yo}function ku(){Wn=(lr=zo.now())+Mr,yo=qo=0;try{nk()}finally{yo=0,ik(),Wn=0}}function ok(){var t=zo.now(),e=t-lr;e>wd&&(Mr-=e,lr=t)}function ik(){for(var t,e=rr,n,o=1/0;e;)e._call?(o>e._time&&(o=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:rr=n);Go=t,yl(o)}function yl(t){if(!yo){qo&&(qo=clearTimeout(qo));var e=t-Wn;e>24?(t<1/0&&(qo=setTimeout(ku,t-zo.now()-Mr)),Fo&&(Fo=clearInterval(Fo))):(Fo||(lr=zo.now(),Fo=setInterval(ok,wd)),yo=1,kd(ku))}}function Cu(t,e,n){var o=new sr;return e=e==null?0:+e,o.restart(i=>{o.stop(),t(i+e)},e,n),o}var rk=nd("start","end","cancel","interrupt"),lk=[],Ad=0,Au=1,wl=2,Ri=3,Su=4,kl=5,Di=6;function Ir(t,e,n,o,i,r){var l=t.__transition;if(!l)t.__transition={};else if(n in l)return;sk(t,n,{name:e,index:o,group:i,on:rk,tween:lk,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:Ad})}function ns(t,e){var n=Vt(t,e);if(n.state>Ad)throw new Error("too late; already scheduled");return n}function en(t,e){var n=Vt(t,e);if(n.state>Ri)throw new Error("too late; already running");return n}function Vt(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function sk(t,e,n){var o=t.__transition,i;o[e]=n,n.timer=Cd(r,0,n.time);function r(u){n.state=Au,n.timer.restart(l,n.delay,n.time),n.delay<=u&&l(u-n.delay)}function l(u){var f,c,d,m;if(n.state!==Au)return s();for(f in o)if(m=o[f],m.name===n.name){if(m.state===Ri)return Cu(l);m.state===Su?(m.state=Di,m.timer.stop(),m.on.call("interrupt",t,t.__data__,m.index,m.group),delete o[f]):+f<e&&(m.state=Di,m.timer.stop(),m.on.call("cancel",t,t.__data__,m.index,m.group),delete o[f])}if(Cu(function(){n.state===Ri&&(n.state=Su,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=wl,n.on.call("start",t,t.__data__,n.index,n.group),n.state===wl){for(n.state=Ri,i=new Array(d=n.tween.length),f=0,c=-1;f<d;++f)(m=n.tween[f].value.call(t,t.__data__,n.index,n.group))&&(i[++c]=m);i.length=c+1}}function a(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(s),n.state=kl,1),c=-1,d=i.length;++c<d;)i[c].call(t,f);n.state===kl&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){n.state=Di,n.timer.stop(),delete o[e];for(var u in o)return;delete t.__transition}}function ak(t,e){var n=t.__transition,o,i,r=!0,l;if(n){e=e==null?null:e+"";for(l in n){if((o=n[l]).name!==e){r=!1;continue}i=o.state>wl&&o.state<kl,o.state=Di,o.timer.stop(),o.on.call(i?"interrupt":"cancel",t,t.__data__,o.index,o.group),delete n[l]}r&&delete t.__transition}}function uk(t){return this.each(function(){ak(this,t)})}function fk(t,e){var n,o;return function(){var i=en(this,t),r=i.tween;if(r!==n){o=n=r;for(var l=0,a=o.length;l<a;++l)if(o[l].name===e){o=o.slice(),o.splice(l,1);break}}i.tween=o}}function ck(t,e,n){var o,i;if(typeof n!="function")throw new Error;return function(){var r=en(this,t),l=r.tween;if(l!==o){i=(o=l).slice();for(var a={name:e,value:n},s=0,u=i.length;s<u;++s)if(i[s].name===e){i[s]=a;break}s===u&&i.push(a)}r.tween=i}}function dk(t,e){var n=this._id;if(t+="",arguments.length<2){for(var o=Vt(this.node(),n).tween,i=0,r=o.length,l;i<r;++i)if((l=o[i]).name===t)return l.value;return null}return this.each((e==null?fk:ck)(n,t,e))}function os(t,e,n){var o=t._id;return t.each(function(){var i=en(this,o);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return Vt(i,o).value[e]}}function Sd(t,e){var n;return(typeof e=="number"?Bt:e instanceof Hn?ir:(n=Hn(e))?(e=n,ir):bd)(t,e)}function mk(t){return function(){this.removeAttribute(t)}}function pk(t){return function(){this.removeAttributeNS(t.space,t.local)}}function hk(t,e,n){var o,i=n+"",r;return function(){var l=this.getAttribute(t);return l===i?null:l===o?r:r=e(o=l,n)}}function _k(t,e,n){var o,i=n+"",r;return function(){var l=this.getAttributeNS(t.space,t.local);return l===i?null:l===o?r:r=e(o=l,n)}}function gk(t,e,n){var o,i,r;return function(){var l,a=n(this),s;return a==null?void this.removeAttribute(t):(l=this.getAttribute(t),s=a+"",l===s?null:l===o&&s===i?r:(i=s,r=e(o=l,a)))}}function bk(t,e,n){var o,i,r;return function(){var l,a=n(this),s;return a==null?void this.removeAttributeNS(t.space,t.local):(l=this.getAttributeNS(t.space,t.local),s=a+"",l===s?null:l===o&&s===i?r:(i=s,r=e(o=l,a)))}}function vk(t,e){var n=Tr(t),o=n==="transform"?ek:Sd;return this.attrTween(t,typeof e=="function"?(n.local?bk:gk)(n,o,os(this,"attr."+t,e)):e==null?(n.local?pk:mk)(n):(n.local?_k:hk)(n,o,e))}function yk(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function wk(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function kk(t,e){var n,o;function i(){var r=e.apply(this,arguments);return r!==o&&(n=(o=r)&&wk(t,r)),n}return i._value=e,i}function Ck(t,e){var n,o;function i(){var r=e.apply(this,arguments);return r!==o&&(n=(o=r)&&yk(t,r)),n}return i._value=e,i}function Ak(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var o=Tr(t);return this.tween(n,(o.local?kk:Ck)(o,e))}function Sk(t,e){return function(){ns(this,t).delay=+e.apply(this,arguments)}}function Tk(t,e){return e=+e,function(){ns(this,t).delay=e}}function Mk(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Sk:Tk)(e,t)):Vt(this.node(),e).delay}function Ik(t,e){return function(){en(this,t).duration=+e.apply(this,arguments)}}function Ok(t,e){return e=+e,function(){en(this,t).duration=e}}function Pk(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Ik:Ok)(e,t)):Vt(this.node(),e).duration}function Nk(t,e){if(typeof e!="function")throw new Error;return function(){en(this,t).ease=e}}function Ek(t){var e=this._id;return arguments.length?this.each(Nk(e,t)):Vt(this.node(),e).ease}function $k(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;en(this,t).ease=n}}function Rk(t){if(typeof t!="function")throw new Error;return this.each($k(this._id,t))}function Dk(t){typeof t!="function"&&(t=rd(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var r=e[i],l=r.length,a=o[i]=[],s,u=0;u<l;++u)(s=r[u])&&t.call(s,s.__data__,u,r)&&a.push(s);return new un(o,this._parents,this._name,this._id)}function Lk(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,o=e.length,i=n.length,r=Math.min(o,i),l=new Array(o),a=0;a<r;++a)for(var s=e[a],u=n[a],f=s.length,c=l[a]=new Array(f),d,m=0;m<f;++m)(d=s[m]||u[m])&&(c[m]=d);for(;a<o;++a)l[a]=e[a];return new un(l,this._parents,this._name,this._id)}function Fk(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Bk(t,e,n){var o,i,r=Fk(e)?ns:en;return function(){var l=r(this,t),a=l.on;a!==o&&(i=(o=a).copy()).on(e,n),l.on=i}}function jk(t,e){var n=this._id;return arguments.length<2?Vt(this.node(),n).on.on(t):this.each(Bk(n,t,e))}function qk(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Gk(){return this.on("end.remove",qk(this._id))}function Vk(t){var e=this._name,n=this._id;typeof t!="function"&&(t=xl(t));for(var o=this._groups,i=o.length,r=new Array(i),l=0;l<i;++l)for(var a=o[l],s=a.length,u=r[l]=new Array(s),f,c,d=0;d<s;++d)(f=a[d])&&(c=t.call(f,f.__data__,d,a))&&("__data__"in f&&(c.__data__=f.__data__),u[d]=c,Ir(u[d],e,n,d,u,Vt(f,n)));return new un(r,this._parents,e,n)}function Hk(t){var e=this._name,n=this._id;typeof t!="function"&&(t=id(t));for(var o=this._groups,i=o.length,r=[],l=[],a=0;a<i;++a)for(var s=o[a],u=s.length,f,c=0;c<u;++c)if(f=s[c]){for(var d=t.call(f,f.__data__,c,s),m,p=Vt(f,n),_=0,b=d.length;_<b;++_)(m=d[_])&&Ir(m,e,n,_,d,p);r.push(d),l.push(f)}return new un(r,l,e,n)}var Wk=oi.prototype.constructor;function Yk(){return new Wk(this._groups,this._parents)}function Uk(t,e){var n,o,i;return function(){var r=vo(this,t),l=(this.style.removeProperty(t),vo(this,t));return r===l?null:r===n&&l===o?i:i=e(n=r,o=l)}}function Td(t){return function(){this.style.removeProperty(t)}}function Kk(t,e,n){var o,i=n+"",r;return function(){var l=vo(this,t);return l===i?null:l===o?r:r=e(o=l,n)}}function Xk(t,e,n){var o,i,r;return function(){var l=vo(this,t),a=n(this),s=a+"";return a==null&&(s=a=(this.style.removeProperty(t),vo(this,t))),l===s?null:l===o&&s===i?r:(i=s,r=e(o=l,a))}}function Jk(t,e){var n,o,i,r="style."+e,l="end."+r,a;return function(){var s=en(this,t),u=s.on,f=s.value[r]==null?a||(a=Td(e)):void 0;(u!==n||i!==f)&&(o=(n=u).copy()).on(l,i=f),s.on=o}}function xk(t,e,n){var o=(t+="")=="transform"?z2:Sd;return e==null?this.styleTween(t,Uk(t,o)).on("end.style."+t,Td(t)):typeof e=="function"?this.styleTween(t,Xk(t,o,os(this,"style."+t,e))).each(Jk(this._id,t)):this.styleTween(t,Kk(t,o,e),n).on("end.style."+t,null)}function Zk(t,e,n){return function(o){this.style.setProperty(t,e.call(this,o),n)}}function Qk(t,e,n){var o,i;function r(){var l=e.apply(this,arguments);return l!==i&&(o=(i=l)&&Zk(t,l,n)),o}return r._value=e,r}function zk(t,e,n){var o="style."+(t+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(e==null)return this.tween(o,null);if(typeof e!="function")throw new Error;return this.tween(o,Qk(t,e,n??""))}function e5(t){return function(){this.textContent=t}}function t5(t){return function(){var e=t(this);this.textContent=e??""}}function n5(t){return this.tween("text",typeof t=="function"?t5(os(this,"text",t)):e5(t==null?"":t+""))}function o5(t){return function(e){this.textContent=t.call(this,e)}}function i5(t){var e,n;function o(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&o5(i)),e}return o._value=t,o}function r5(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,i5(t))}function l5(){for(var t=this._name,e=this._id,n=Md(),o=this._groups,i=o.length,r=0;r<i;++r)for(var l=o[r],a=l.length,s,u=0;u<a;++u)if(s=l[u]){var f=Vt(s,e);Ir(s,t,n,u,l,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new un(o,this._parents,t,n)}function s5(){var t,e,n=this,o=n._id,i=n.size();return new Promise(function(r,l){var a={value:l},s={value:function(){--i===0&&r()}};n.each(function(){var u=en(this,o),f=u.on;f!==t&&(e=(t=f).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(s)),u.on=e}),i===0&&r()})}var a5=0;function un(t,e,n,o){this._groups=t,this._parents=e,this._name=n,this._id=o}function Md(){return++a5}var nn=oi.prototype;un.prototype={constructor:un,select:Vk,selectAll:Hk,selectChild:nn.selectChild,selectChildren:nn.selectChildren,filter:Dk,merge:Lk,selection:Yk,transition:l5,call:nn.call,nodes:nn.nodes,node:nn.node,size:nn.size,empty:nn.empty,each:nn.each,on:jk,attr:vk,attrTween:Ak,style:xk,styleTween:zk,text:n5,textTween:r5,remove:Gk,tween:dk,delay:Mk,duration:Pk,ease:Ek,easeVarying:Rk,end:s5,[Symbol.iterator]:nn[Symbol.iterator]};function u5(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var f5={time:null,delay:0,duration:250,ease:u5};function c5(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function d5(t){var e,n;t instanceof un?(e=t._id,t=t._name):(e=Md(),(n=f5).time=ts(),t=t==null?null:t+"");for(var o=this._groups,i=o.length,r=0;r<i;++r)for(var l=o[r],a=l.length,s,u=0;u<a;++u)(s=l[u])&&Ir(s,t,e,u,l,n||c5(s,e));return new un(o,this._parents,t,e)}oi.prototype.interrupt=uk;oi.prototype.transition=d5;const Cl=Math.PI,Al=2*Cl,Pn=1e-6,m5=Al-Pn;function Id(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function p5(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Id;const n=10**e;return function(o){this._+=o[0];for(let i=1,r=o.length;i<r;++i)this._+=Math.round(arguments[i]*n)/n+o[i]}}class h5{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Id:p5(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,o,i){this._append`Q${+e},${+n},${this._x1=+o},${this._y1=+i}`}bezierCurveTo(e,n,o,i,r,l){this._append`C${+e},${+n},${+o},${+i},${this._x1=+r},${this._y1=+l}`}arcTo(e,n,o,i,r){if(e=+e,n=+n,o=+o,i=+i,r=+r,r<0)throw new Error(`negative radius: ${r}`);let l=this._x1,a=this._y1,s=o-e,u=i-n,f=l-e,c=a-n,d=f*f+c*c;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(d>Pn)if(!(Math.abs(c*s-u*f)>Pn)||!r)this._append`L${this._x1=e},${this._y1=n}`;else{let m=o-l,p=i-a,_=s*s+u*u,b=m*m+p*p,k=Math.sqrt(_),C=Math.sqrt(d),w=r*Math.tan((Cl-Math.acos((_+d-b)/(2*k*C)))/2),R=w/C,L=w/k;Math.abs(R-1)>Pn&&this._append`L${e+R*f},${n+R*c}`,this._append`A${r},${r},0,0,${+(c*m>f*p)},${this._x1=e+L*s},${this._y1=n+L*u}`}}arc(e,n,o,i,r,l){if(e=+e,n=+n,o=+o,l=!!l,o<0)throw new Error(`negative radius: ${o}`);let a=o*Math.cos(i),s=o*Math.sin(i),u=e+a,f=n+s,c=1^l,d=l?i-r:r-i;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>Pn||Math.abs(this._y1-f)>Pn)&&this._append`L${u},${f}`,o&&(d<0&&(d=d%Al+Al),d>m5?this._append`A${o},${o},0,1,${c},${e-a},${n-s}A${o},${o},0,1,${c},${this._x1=u},${this._y1=f}`:d>Pn&&this._append`A${o},${o},0,${+(d>=Cl)},${c},${this._x1=e+o*Math.cos(r)},${this._y1=n+o*Math.sin(r)}`)}rect(e,n,o,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${o=+o}v${+i}h${-o}Z`}toString(){return this._}}function _5(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function ar(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,o=t.slice(0,n);return[o.length>1?o[0]+o.slice(2):o,+t.slice(n+1)]}function wo(t){return t=ar(Math.abs(t)),t?t[1]:NaN}function g5(t,e){return function(n,o){for(var i=n.length,r=[],l=0,a=t[0],s=0;i>0&&a>0&&(s+a+1>o&&(a=Math.max(1,o-s)),r.push(n.substring(i-=a,i+a)),!((s+=a+1)>o));)a=t[l=(l+1)%t.length];return r.reverse().join(e)}}function b5(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var v5=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ur(t){if(!(e=v5.exec(t)))throw new Error("invalid format: "+t);var e;return new is({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}ur.prototype=is.prototype;function is(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}is.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function y5(t){e:for(var e=t.length,n=1,o=-1,i;n<e;++n)switch(t[n]){case".":o=i=n;break;case"0":o===0&&(o=n),i=n;break;default:if(!+t[n])break e;o>0&&(o=0);break}return o>0?t.slice(0,o)+t.slice(i+1):t}var Od;function w5(t,e){var n=ar(t,e);if(!n)return t+"";var o=n[0],i=n[1],r=i-(Od=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=o.length;return r===l?o:r>l?o+new Array(r-l+1).join("0"):r>0?o.slice(0,r)+"."+o.slice(r):"0."+new Array(1-r).join("0")+ar(t,Math.max(0,e+r-1))[0]}function Tu(t,e){var n=ar(t,e);if(!n)return t+"";var o=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+o:o.length>i+1?o.slice(0,i+1)+"."+o.slice(i+1):o+new Array(i-o.length+2).join("0")}const Mu={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:_5,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Tu(t*100,e),r:Tu,s:w5,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Iu(t){return t}var Ou=Array.prototype.map,Pu=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function k5(t){var e=t.grouping===void 0||t.thousands===void 0?Iu:g5(Ou.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",o=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",r=t.numerals===void 0?Iu:b5(Ou.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"−":t.minus+"",s=t.nan===void 0?"NaN":t.nan+"";function u(c){c=ur(c);var d=c.fill,m=c.align,p=c.sign,_=c.symbol,b=c.zero,k=c.width,C=c.comma,w=c.precision,R=c.trim,L=c.type;L==="n"?(C=!0,L="g"):Mu[L]||(w===void 0&&(w=12),R=!0,L="g"),(b||d==="0"&&m==="=")&&(b=!0,d="0",m="=");var D=_==="$"?n:_==="#"&&/[boxX]/.test(L)?"0"+L.toLowerCase():"",E=_==="$"?o:/[%p]/.test(L)?l:"",G=Mu[L],$=/[defgprs%]/.test(L);w=w===void 0?6:/[gprs]/.test(L)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function W(y){var v=D,O=E,P,H,F;if(L==="c")O=G(y)+O,y="";else{y=+y;var Q=y<0||1/y<0;if(y=isNaN(y)?s:G(Math.abs(y),w),R&&(y=y5(y)),Q&&+y==0&&p!=="+"&&(Q=!1),v=(Q?p==="("?p:a:p==="-"||p==="("?"":p)+v,O=(L==="s"?Pu[8+Od/3]:"")+O+(Q&&p==="("?")":""),$){for(P=-1,H=y.length;++P<H;)if(F=y.charCodeAt(P),48>F||F>57){O=(F===46?i+y.slice(P+1):y.slice(P))+O,y=y.slice(0,P);break}}}C&&!b&&(y=e(y,1/0));var ne=v.length+y.length+O.length,z=ne<k?new Array(k-ne+1).join(d):"";switch(C&&b&&(y=e(z+y,z.length?k-O.length:1/0),z=""),m){case"<":y=v+y+O+z;break;case"=":y=v+z+y+O;break;case"^":y=z.slice(0,ne=z.length>>1)+v+y+O+z.slice(ne);break;default:y=z+v+y+O;break}return r(y)}return W.toString=function(){return c+""},W}function f(c,d){var m=u((c=ur(c),c.type="f",c)),p=Math.max(-8,Math.min(8,Math.floor(wo(d)/3)))*3,_=Math.pow(10,-p),b=Pu[8+p/3];return function(k){return m(_*k)+b}}return{format:u,formatPrefix:f}}var Mi,Pd,Nd;C5({thousands:",",grouping:[3],currency:["$",""]});function C5(t){return Mi=k5(t),Pd=Mi.format,Nd=Mi.formatPrefix,Mi}function A5(t){return Math.max(0,-wo(Math.abs(t)))}function S5(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(wo(e)/3)))*3-wo(Math.abs(t)))}function T5(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,wo(e)-wo(t))+1}function M5(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function I5(t){return function(){return t}}function O5(t){return+t}var Nu=[0,1];function uo(t){return t}function Sl(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:I5(isNaN(e)?NaN:.5)}function P5(t,e){var n;return t>e&&(n=t,t=e,e=n),function(o){return Math.max(t,Math.min(e,o))}}function N5(t,e,n){var o=t[0],i=t[1],r=e[0],l=e[1];return i<o?(o=Sl(i,o),r=n(l,r)):(o=Sl(o,i),r=n(r,l)),function(a){return r(o(a))}}function E5(t,e,n){var o=Math.min(t.length,e.length)-1,i=new Array(o),r=new Array(o),l=-1;for(t[o]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<o;)i[l]=Sl(t[l],t[l+1]),r[l]=n(e[l],e[l+1]);return function(a){var s=Ey(t,a,1,o)-1;return r[s](i[s](a))}}function $5(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function R5(){var t=Nu,e=Nu,n=es,o,i,r,l=uo,a,s,u;function f(){var d=Math.min(t.length,e.length);return l!==uo&&(l=P5(t[0],t[d-1])),a=d>2?E5:N5,s=u=null,c}function c(d){return d==null||isNaN(d=+d)?r:(s||(s=a(t.map(o),e,n)))(o(l(d)))}return c.invert=function(d){return l(i((u||(u=a(e,t.map(o),Bt)))(d)))},c.domain=function(d){return arguments.length?(t=Array.from(d,O5),f()):t.slice()},c.range=function(d){return arguments.length?(e=Array.from(d),f()):e.slice()},c.rangeRound=function(d){return e=Array.from(d),n=x2,f()},c.clamp=function(d){return arguments.length?(l=d?!0:uo,f()):l!==uo},c.interpolate=function(d){return arguments.length?(n=d,f()):n},c.unknown=function(d){return arguments.length?(r=d,c):r},function(d,m){return o=d,i=m,f()}}function D5(){return R5()(uo,uo)}function L5(t,e,n,o){var i=Fy(t,e,n),r;switch(o=ur(o??",f"),o.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return o.precision==null&&!isNaN(r=S5(i,l))&&(o.precision=r),Nd(o,l)}case"":case"e":case"g":case"p":case"r":{o.precision==null&&!isNaN(r=T5(i,Math.max(Math.abs(t),Math.abs(e))))&&(o.precision=r-(o.type==="e"));break}case"f":case"%":{o.precision==null&&!isNaN(r=A5(i))&&(o.precision=r-(o.type==="%")*2);break}}return Pd(o)}function F5(t){var e=t.domain;return t.ticks=function(n){var o=e();return Ly(o[0],o[o.length-1],n??10)},t.tickFormat=function(n,o){var i=e();return L5(i[0],i[i.length-1],n??10,o)},t.nice=function(n){n==null&&(n=10);var o=e(),i=0,r=o.length-1,l=o[i],a=o[r],s,u,f=10;for(a<l&&(u=l,l=a,a=u,u=i,i=r,r=u);f-- >0;){if(u=pl(l,a,n),u===s)return o[i]=l,o[r]=a,e(o);if(u>0)l=Math.floor(l/u)*u,a=Math.ceil(a/u)*u;else if(u<0)l=Math.ceil(l*u)/u,a=Math.floor(a*u)/u;else break;s=u}return t},t}function Tl(){var t=D5();return t.copy=function(){return $5(t,Tl())},M5.apply(t,arguments),F5(t)}function lo(t){return function(){return t}}function B5(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const o=Math.floor(n);if(!(o>=0))throw new RangeError(`invalid digits: ${n}`);e=o}return t},()=>new h5(e)}function j5(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Ed(t){this._context=t}Ed.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function q5(t){return new Ed(t)}function G5(t){return t[0]}function V5(t){return t[1]}function Qr(t,e){var n=lo(!0),o=null,i=q5,r=null,l=B5(a);t=typeof t=="function"?t:t===void 0?G5:lo(t),e=typeof e=="function"?e:e===void 0?V5:lo(e);function a(s){var u,f=(s=j5(s)).length,c,d=!1,m;for(o==null&&(r=i(m=l())),u=0;u<=f;++u)!(u<f&&n(c=s[u],u,s))===d&&((d=!d)?r.lineStart():r.lineEnd()),d&&r.point(+t(c,u,s),+e(c,u,s));if(m)return r=null,m+""||null}return a.x=function(s){return arguments.length?(t=typeof s=="function"?s:lo(+s),a):t},a.y=function(s){return arguments.length?(e=typeof s=="function"?s:lo(+s),a):e},a.defined=function(s){return arguments.length?(n=typeof s=="function"?s:lo(!!s),a):n},a.curve=function(s){return arguments.length?(i=s,o!=null&&(r=i(o)),a):i},a.context=function(s){return arguments.length?(s==null?o=r=null:r=i(o=s),a):o},a}function Vo(t,e,n){this.k=t,this.x=e,this.y=n}Vo.prototype={constructor:Vo,scale:function(t){return t===1?this:new Vo(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Vo(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Vo.prototype;function H5(t){let e;return{c(){e=dr("svg"),N(e,"id","line-chart")},m(n,o){M(n,e,o)},p:ke,i:ke,o:ke,d(n){n&&T(e)}}}const Eu=52;function W5(t,e,n){let{data:o=[]}=e,i,r,l;const a={top:10,right:30,bottom:10,left:20},s=500-a.left-a.right,u=400-a.top-a.bottom;Qr().x((p,_)=>r(_)).y(p=>l(p)),mr(()=>{n(1,i=M2("#line-chart").attr("width",s+a.left+a.right).attr("height",u+a.top+a.bottom)),r=Tl().range([0,s]),l=Tl().range([u,0]),o.length&&f()});function f(){const p=o.length>Eu?o.slice(-Eu):o;c(p),d(p),m()}function c(p){i.selectAll(".line").remove();const _=Qr().defined(k=>k>-5).x((k,C)=>r(C)).y(k=>l(k)),b=Qr().defined(k=>k<0).x((k,C)=>r(C)).y(k=>l(k));i.append("path").datum(p).attr("class","line positive").attr("d",_).attr("transform",`translate(${a.left},${a.top})`).attr("fill","none").attr("stroke","green").attr("stroke-width",2),i.append("path").datum(p).attr("class","line negative").attr("d",b).attr("transform",`translate(${a.left},${a.top})`).attr("fill","none").attr("stroke","red").attr("stroke-width",2)}function d(p){const _=Math.max(0,...p),b=Math.min(0,...p);r.domain([0,p.length-1]),l.domain([b,_]).nice()}function m(p){const _=Wy(r).ticks(0),b=Yy(l).ticks(10);i.selectAll(".axis").remove(),i.append("g").attr("class","axis x-axis").attr("transform",`translate(${a.left},${u+a.top})`).call(_),i.append("g").attr("class","axis y-axis").attr("transform",`translate(${a.left},${a.top})`).call(b)}return t.$$set=p=>{"data"in p&&n(0,o=p.data)},t.$$.update=()=>{t.$$.dirty&3&&o&&i&&f()},[o,i]}class Y5 extends be{constructor(e){super(),ge(this,e,W5,H5,fe,{data:0})}}function U5(t){let e,n=t[1].townInfo.knowledge_points+"",o,i;return{c(){e=B("Manage your Knowledge ("),o=B(n),i=B(" pts)")},m(r,l){M(r,e,l),M(r,o,l),M(r,i,l)},p(r,l){l&2&&n!==(n=r[1].townInfo.knowledge_points+"")&&re(o,n)},d(r){r&&(T(e),T(o),T(i))}}}function K5(t){let e,n,o,i;return e=new Xn({props:{$$slots:{default:[U5]},$$scope:{ctx:t}}}),o=new Zn({}),{c(){J(e.$$.fragment),n=q(),J(o.$$.fragment)},m(r,l){K(e,r,l),M(r,n,l),K(o,r,l),i=!0},p(r,l){const a={};l&258&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function $u(t){let e,n,o=Fu(t[1].townInfo.knowledge_points*t[3])+"",i,r;return{c(){e=I("br"),n=B(`
          (total value: $`),i=B(o),r=B(")")},m(l,a){M(l,e,a),M(l,n,a),M(l,i,a),M(l,r,a)},p(l,a){a&10&&o!==(o=Fu(l[1].townInfo.knowledge_points*l[3])+"")&&re(i,o)},d(l){l&&(T(e),T(n),T(i),T(r))}}}function Ru(t){let e;return{c(){e=I("div"),e.innerHTML=`Wait until the market value is <span class="text-green-500">positive</span> to sell your Knowledge for Gold. Keep in mind that you need a bank to
          convert.`},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Du(t){let e,n,o;return n=new Mt({props:{variant:"default",$$slots:{default:[X5]},$$scope:{ctx:t}}}),n.$on("click",t[0]),{c(){e=I("div"),J(n.$$.fragment)},m(i,r){M(i,e,r),K(n,e,null),o=!0},p(i,r){const l={};r&256&&(l.$$scope={dirty:r,ctx:i}),n.$set(l)},i(i){o||(A(n.$$.fragment,i),o=!0)},o(i){S(n.$$.fragment,i),o=!1},d(i){i&&T(e),X(n)}}}function X5(t){let e;return{c(){e=B("Convert Knowledge to Gold")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Lu(t){let e;return{c(){e=I("div"),e.textContent="You need a bank to convert knowledge to gold."},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function J5(t){let e,n,o,i,r,l,a,s,u=(t[3]??0)+"",f,c,d,m,p,_,b,k,C,w,R,L;e=new Jn({props:{$$slots:{default:[K5]},$$scope:{ctx:t}}});let D=t[3]>0&&$u(t);_=new Y5({props:{data:t[2]}});let E=t[3]<0&&Ru(),G=t[1].hasBank&&t[3]>0&&Du(t),$=t[1].hasBank===!1&&Lu();return R=new Mo({}),{c(){J(e.$$.fragment),n=q(),o=I("span"),o.textContent="Knowledge is power, unlock it!",i=q(),r=I("div"),l=I("div"),a=B("Market Rate: "),s=I("span"),f=B(u),c=B(" gold"),m=B(`
        per Knowledge Point
        `),D&&D.c(),p=q(),J(_.$$.fragment),b=q(),E&&E.c(),k=q(),G&&G.c(),C=q(),$&&$.c(),w=q(),J(R.$$.fragment),N(o,"class","italic"),N(s,"class",d=t[3]<0?"text-red-500":"text-green-500"),N(r,"class","py-0 flex flex-col gap-4 text-gray-400 overflow-x-auto")},m(W,y){K(e,W,y),M(W,n,y),M(W,o,y),M(W,i,y),M(W,r,y),g(r,l),g(l,a),g(l,s),g(s,f),g(s,c),g(l,m),D&&D.m(l,null),g(r,p),K(_,r,null),g(r,b),E&&E.m(r,null),g(r,k),G&&G.m(r,null),g(r,C),$&&$.m(r,null),M(W,w,y),K(R,W,y),L=!0},p(W,y){const v={};y&258&&(v.$$scope={dirty:y,ctx:W}),e.$set(v),(!L||y&8)&&u!==(u=(W[3]??0)+"")&&re(f,u),(!L||y&8&&d!==(d=W[3]<0?"text-red-500":"text-green-500"))&&N(s,"class",d),W[3]>0?D?D.p(W,y):(D=$u(W),D.c(),D.m(l,null)):D&&(D.d(1),D=null);const O={};y&4&&(O.data=W[2]),_.$set(O),W[3]<0?E||(E=Ru(),E.c(),E.m(r,k)):E&&(E.d(1),E=null),W[1].hasBank&&W[3]>0?G?(G.p(W,y),y&10&&A(G,1)):(G=Du(W),G.c(),A(G,1),G.m(r,C)):G&&(Ie(),S(G,1,1,()=>{G=null}),Oe()),W[1].hasBank===!1?$||($=Lu(),$.c(),$.m(r,null)):$&&($.d(1),$=null)},i(W){L||(A(e.$$.fragment,W),A(_.$$.fragment,W),A(G),A(R.$$.fragment,W),L=!0)},o(W){S(e.$$.fragment,W),S(_.$$.fragment,W),S(G),S(R.$$.fragment,W),L=!1},d(W){W&&(T(n),T(o),T(i),T(r),T(w)),X(e,W),D&&D.d(),X(_),E&&E.d(),G&&G.d(),$&&$.d(),X(R,W)}}}function x5(t){let e,n;return e=new xn({props:{transitionConfig:{duration:0},class:"bg-foreground text-foregroundText",$$slots:{default:[J5]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){K(e,o,i),n=!0},p(o,i){const r={};i&270&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function Z5(t){let e,n,o;function i(l){t[5](l)}let r={$$slots:{default:[x5]},$$scope:{ctx:t}};return t[4]!==void 0&&(r.open=t[4]),e=new Qn({props:r}),Ne.push(()=>Tn(e,"open",i)),{c(){J(e.$$.fragment)},m(l,a){K(e,l,a),o=!0},p(l,[a]){const s={};a&270&&(s.$$scope={dirty:a,ctx:l}),!n&&a&16&&(n=!0,s.open=l[4],Sn(()=>n=!1)),e.$set(s)},i(l){o||(A(e.$$.fragment,l),o=!0)},o(l){S(e.$$.fragment,l),o=!1},d(l){X(e,l)}}}function Fu(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function Q5(t,e,n){let o,i;ae(t,Pe,u=>n(1,o=u)),ae(t,Hi,u=>n(4,i=u));let r,l=0;function a(){let u=o;o.hasBank===!0?(u.townInfo.gold+=Math.round(u.townInfo.knowledge_points*l),u.townInfo.knowledge_points=0,Pe.set(u),localStorage.setItem(Gt,JSON.stringify(u))):showCustomAlert.set("You need a bank to convert knowledge to gold.")}function s(u){i=u,Hi.set(i)}return t.$$.update=()=>{t.$$.dirty&2&&o&&(n(2,r=o.economyAndLaws.knowledge_gold_market_rates),n(3,l=o.economyAndLaws.knowledge_gold_market_rates[o.economyAndLaws.knowledge_gold_market_rates.length-1]))},[a,o,r,l,i,s]}class z5 extends be{constructor(e){super(),ge(this,e,Q5,Z5,fe,{convertKnowledgeToGold:0})}get convertKnowledgeToGold(){return this.$$.ctx[0]}}const e3=[{id:"sunshine",title:"Hint of Sunshine",description:`Scientist Jane T. found that more sunlight makes everyone a bit happier. 
        
        Now, every home is equipped with a pair of sunglasses and a sunhat. Enjoy happier citizens!,
        `,cost:5e3,duration:180,effect:!0},{id:"antibiotics",title:"We will call them 'Antibiotics'",description:`Scientist Alfred C. has pitched us an idea that he calls 'Antibiotics'.
        
         We don't really know what that means, but it seems to make people healthier. 
        `,cost:8e3,duration:200,effect:!0},{id:"goodbye_carrots",title:"Goodbye Carrots",description:`Scientist Jarrod M. collaborated with local carrot farms to enhance the recipe, aiming to increase consumers' height by 10%.

        Unfortunately, the experiment failed, and all the local carrot farms have gone out of business. 
        `,cost:8e3,duration:80,effect:!0},{id:"funny_cows",title:"Cowabunga!",description:`Scientist Barry T. thought that showing cows some stand-up comedy would make them produce better milk, but it didn't have the desired effect.

        The cows are now following Mike Birbiglia on Twitter, but the milk production has not increased.
        `,cost:3e3,duration:60,effect:!1},{id:"missing_treasure",title:"Missing Treasure?",description:`Scientist Sarah H. was running an experiment on tree growth and found a stash of gold near the lab. 

        She hopes nobody will miss it. Your town now has some more money. 
        `,cost:15e3,duration:180,effect:!0},{id:"tax_relief",title:"'Maybe the government is not so bad after all'",description:`Scientist Sam P. conducted a study and found that if you put a tiny bit of CHEMICAL X in the water supply, people are more likely to be ok with tax hikes. 

        We don't question it, as these experiments cost a lot of moo-lah.`,cost:7500,duration:360,effect:!0},{id:"spring_break",title:"Spring Break",description:`The Scientists took our money and spent the week at the beach. 

        We are not sure what they did, but they came back with a tan and a smile.`,cost:2e3,duration:7,effect:!1},{id:"coffee_boost_tourism",title:"Speedy Brews",description:`Scientist Claudia A. has found that a specific blend of coffee can significantly increase productivity among town employees. 

        The catch? It only works on Mondays. But hey, starting the week with a turbo-charged workforce might just be the boost we needed. The town gets a bit of extra cash from the productivity, and a bit of tourism revenue from coffee tourism.
        `,cost:8e3,duration:100,effect:!0},{id:"bee_bonanza",title:"Buzzing with Possibilities",description:`Scientist Will B. thought that introducing genetically modified super bees to the local ecosystem could help with pollination.
        
        Unfortunately, these bees prefer coffee plants over all others, leading to all coffee bean farms forced to close.`,cost:5e3,duration:120,effect:!0},{id:"wheat_whirlwind",title:"A Gust of Grain",description:`Scientist Clint C. is sulking after a botched weather control experiment aimed at improving crop yields accidentally resulted in a series of mini-tornadoes sweeping through the town's wheat farms. The wheat is gone, but the townsfolk have never been more entertained.

        Local bakers mourn the loss of wheat while selling tickets to the wheat whirlwind tours. All wheat farms are now torn down, but happiness is up.`,cost:7e3,duration:150,effect:!0},{id:"aquatic_overachievers",title:"Fishy Business",description:`An attempt to genetically enhance fish intelligence by Scientist Goldie F. in fisheries has gone awry, resulting in fish that are too smart to be caught. The fisheries are now underpopulated and shut down, but the town enjoys an unexpected tourism boom as people flock to see the genius fish who are now hanging out in local parks.

        Who knew fish could be such a draw?`,cost:6e3,duration:90,effect:!0},{id:"educational_eclipse",title:"A Sudden Drop in IQ",description:`Scientist Albert E. wanted to see if the towns' children would become smarter if THEY ran the schools. 

        This was obviously a terrible idea and the first thing the kids did was shut down the schools.`,cost:1e3,duration:45,effect:!0},{id:"education_grant",title:"Education Grant",description:`Scientist Marie C. took the funding and applied the town for a grant to improve education.

        The town wins a grant for $150,000 to build schools and improve education. (but it's up to you if that's how you want to spend the money)`,cost:4e4,duration:45,effect:!0},{id:"mindfulness_meditation_classes",title:"'Mindfulness Meditation Classes'",description:`Scientist Zen M. has introduced mindfulness meditation classes to the town after realizing that breathing in certain ways can lower stress. 
		
		Now, the town is a bit more relaxed, for now.`,cost:13e3,duration:540,effect:!0}];function Bu(t,e,n){const o=t.slice();return o[17]=e[n],o}function t3(t){let e,n=t[1].lab.active_experiment.title+"",o;return{c(){e=B("🎉 Experiment Completed: "),o=B(n)},m(i,r){M(i,e,r),M(i,o,r)},p(i,r){r&2&&n!==(n=i[1].lab.active_experiment.title+"")&&re(o,n)},d(i){i&&(T(e),T(o))}}}function n3(t){let e,n=t[1].lab.active_experiment.description+"",o;return{c(){e=I("div"),o=B(n),N(e,"class","select-none whitespace-pre-wrap text-lg text-gray-400 leading-6 px-4 py-4 text-center ")},m(i,r){M(i,e,r),g(e,o)},p(i,r){r&2&&n!==(n=i[1].lab.active_experiment.description+"")&&re(o,n)},d(i){i&&T(e)}}}function o3(t){let e,n,o,i;return e=new Kl({props:{class:"text-center",$$slots:{default:[t3]},$$scope:{ctx:t}}}),o=new Jl({props:{$$slots:{default:[n3]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=q(),J(o.$$.fragment)},m(r,l){K(e,r,l),M(r,n,l),K(o,r,l),i=!0},p(r,l){const a={};l&1048578&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&1048578&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function i3(t){let e;return{c(){e=B("Thank the scientists")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function r3(t){let e,n;return e=new Qc({props:{$$slots:{default:[i3]},$$scope:{ctx:t}}}),e.$on("click",t[9]),{c(){J(e.$$.fragment)},m(o,i){K(e,o,i),n=!0},p(o,i){const r={};i&1048576&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function l3(t){let e,n,o,i;return e=new Xl({props:{$$slots:{default:[o3]},$$scope:{ctx:t}}}),o=new Cr({props:{$$slots:{default:[r3]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=q(),J(o.$$.fragment)},m(r,l){K(e,r,l),M(r,n,l),K(o,r,l),i=!0},p(r,l){const a={};l&1048578&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&1048576&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function s3(t){let e,n;return e=new Ar({props:{$$slots:{default:[l3]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){K(e,o,i),n=!0},p(o,i){const r={};i&1048578&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function a3(t){let e;return{c(){e=I("span"),e.textContent="Manage your Laboratory 🔬 🧪"},m(n,o){M(n,e,o)},p:ke,d(n){n&&T(e)}}}function u3(t){let e,n,o,i=t[1].lab.xp+"",r,l,a,s;return{c(){e=I("span"),n=B("You have earned "),o=I("span"),r=B(i),l=B(" XP"),s=B(` from experiments. XP can be used to buy advanced plots and develop your
          city.`),N(o,"class",a="italic "+(t[1].lab.xp<0?"text-textDanger1":"text-primaryText"))},m(u,f){M(u,e,f),g(e,n),g(e,o),g(o,r),g(o,l),g(e,s)},p(u,f){f&2&&i!==(i=u[1].lab.xp+"")&&re(r,i),f&2&&a!==(a="italic "+(u[1].lab.xp<0?"text-textDanger1":"text-primaryText"))&&N(o,"class",a)},d(u){u&&T(e)}}}function f3(t){let e,n,o,i;return e=new Xn({props:{$$slots:{default:[a3]},$$scope:{ctx:t}}}),o=new Zn({props:{$$slots:{default:[u3]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=q(),J(o.$$.fragment)},m(r,l){K(e,r,l),M(r,n,l),K(o,r,l),i=!0},p(r,l){const a={};l&1048576&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&1048578&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function c3(t){let e;return{c(){e=B("No more experiments available")},m(n,o){M(n,e,o)},p:ke,i:ke,o:ke,d(n){n&&T(e)}}}function d3(t){let e,n,o,i,r=Ue(t[0]),l=[];for(let s=0;s<r.length;s+=1)l[s]=qu(Bu(t,r,s));const a=s=>S(l[s],1,1,()=>{l[s]=null});return{c(){e=I("div"),e.textContent=`It's time to fund your next experiment! Choose a project below based on
        it's funding requirement. Once the experiment is over, you will see the
        results.`,n=q(),o=I("div");for(let s=0;s<l.length;s+=1)l[s].c();N(e,"class","select-none text-sm "),N(o,"class","text-center flex flex-col justify-center items-center gap-4 ")},m(s,u){M(s,e,u),M(s,n,u),M(s,o,u);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(o,null);i=!0},p(s,u){if(u&19){r=Ue(s[0]);let f;for(f=0;f<r.length;f+=1){const c=Bu(s,r,f);l[f]?(l[f].p(c,u),A(l[f],1)):(l[f]=qu(c),l[f].c(),A(l[f],1),l[f].m(o,null))}for(Ie(),f=r.length;f<l.length;f+=1)a(f);Oe()}},i(s){if(!i){for(let u=0;u<r.length;u+=1)A(l[u]);i=!0}},o(s){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)S(l[u]);i=!1},d(s){s&&(T(e),T(n),T(o)),_t(l,s)}}}function m3(t){let e,n=t[1].lab.active_experiment.duration+"",o,i,r,l,a=t[1].lab.active_experiment.duration===0&&Gu(t);return{c(){e=B("Currently running an experiment... check back in "),o=B(n),i=B(` days.
      `),a&&a.c(),r=Re()},m(s,u){M(s,e,u),M(s,o,u),M(s,i,u),a&&a.m(s,u),M(s,r,u),l=!0},p(s,u){(!l||u&2)&&n!==(n=s[1].lab.active_experiment.duration+"")&&re(o,n),s[1].lab.active_experiment.duration===0?a?(a.p(s,u),u&2&&A(a,1)):(a=Gu(s),a.c(),A(a,1),a.m(r.parentNode,r)):a&&(Ie(),S(a,1,1,()=>{a=null}),Oe())},i(s){l||(A(a),l=!0)},o(s){S(a),l=!1},d(s){s&&(T(e),T(o),T(i),T(r)),a&&a.d(s)}}}function ju(t){let e,n,o=t[17].id+"",i;return{c(){e=I("span"),n=B("// dev-"),i=B(o),N(e,"class","text-xs text-gray-400")},m(r,l){M(r,e,l),g(e,n),g(e,i)},p(r,l){l&1&&o!==(o=r[17].id+"")&&re(i,o)},d(r){r&&T(e)}}}function p3(t){let e,n=Vu(t[17].cost).split(".")[0]+"",o,i,r,l=t[1].devMode===!0&&ju(t);return{c(){e=B("$"),o=B(n),i=B(` gold

            `),l&&l.c(),r=q()},m(a,s){M(a,e,s),M(a,o,s),M(a,i,s),l&&l.m(a,s),M(a,r,s)},p(a,s){s&1&&n!==(n=Vu(a[17].cost).split(".")[0]+"")&&re(o,n),a[1].devMode===!0?l?l.p(a,s):(l=ju(a),l.c(),l.m(r.parentNode,r)):l&&(l.d(1),l=null)},d(a){a&&(T(e),T(o),T(i),T(r)),l&&l.d(a)}}}function qu(t){let e,n;function o(){return t[11](t[17])}return e=new Mt({props:{variant:"outline",class:`min-w-48 w-max flex-col
				`+(t[17].cost>t[1].townInfo.gold?"cursor-not-allowed":"")+`
				`,$$slots:{default:[p3]},$$scope:{ctx:t}}}),e.$on("click",o),{c(){J(e.$$.fragment)},m(i,r){K(e,i,r),n=!0},p(i,r){t=i;const l={};r&3&&(l.class=`min-w-48 w-max flex-col
				`+(t[17].cost>t[1].townInfo.gold?"cursor-not-allowed":"")+`
				`),r&1048579&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(i){n||(A(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){X(e,i)}}}function Gu(t){let e,n;return e=new Mt({props:{variant:"outline",$$slots:{default:[h3]},$$scope:{ctx:t}}}),e.$on("click",t[10]),{c(){J(e.$$.fragment)},m(o,i){K(e,o,i),n=!0},p(o,i){const r={};i&1048576&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function h3(t){let e;return{c(){e=B("Complete experiment (and face the impact)")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function _3(t){let e;return{c(){e=I("span"),e.textContent="Keep in mind that not all experiments yield positive results.",N(e,"class","italic text-left text-textDanger1")},m(n,o){M(n,e,o)},p:ke,d(n){n&&T(e)}}}function g3(t){let e,n,o,i,r,l,a,s,u,f,c;e=new Jn({props:{$$slots:{default:[f3]},$$scope:{ctx:t}}}),o=new yt({});const d=[m3,d3,c3],m=[];function p(_,b){return _[1].lab.active_experiment!==null?0:_[0].length>0?1:_[0].length===0?2:-1}return~(r=p(t))&&(l=m[r]=d[r](t)),s=new yt({props:{class:"mt-4"}}),f=new Mo({props:{$$slots:{default:[_3]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=q(),J(o.$$.fragment),i=q(),l&&l.c(),a=q(),J(s.$$.fragment),u=q(),J(f.$$.fragment)},m(_,b){K(e,_,b),M(_,n,b),K(o,_,b),M(_,i,b),~r&&m[r].m(_,b),M(_,a,b),K(s,_,b),M(_,u,b),K(f,_,b),c=!0},p(_,b){const k={};b&1048578&&(k.$$scope={dirty:b,ctx:_}),e.$set(k);let C=r;r=p(_),r===C?~r&&m[r].p(_,b):(l&&(Ie(),S(m[C],1,1,()=>{m[C]=null}),Oe()),~r?(l=m[r],l?l.p(_,b):(l=m[r]=d[r](_),l.c()),A(l,1),l.m(a.parentNode,a)):l=null);const w={};b&1048576&&(w.$$scope={dirty:b,ctx:_}),f.$set(w)},i(_){c||(A(e.$$.fragment,_),A(o.$$.fragment,_),A(l),A(s.$$.fragment,_),A(f.$$.fragment,_),c=!0)},o(_){S(e.$$.fragment,_),S(o.$$.fragment,_),S(l),S(s.$$.fragment,_),S(f.$$.fragment,_),c=!1},d(_){_&&(T(n),T(i),T(a),T(u)),X(e,_),X(o,_),~r&&m[r].d(_),X(s,_),X(f,_)}}}function b3(t){let e,n;return e=new xn({props:{class:"bg-foreground text-foregroundText",$$slots:{default:[g3]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){K(e,o,i),n=!0},p(o,i){const r={};i&1048579&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function v3(t){let e,n,o,i,r;e=new Sr({props:{open:t[2],$$slots:{default:[s3]},$$scope:{ctx:t}}});function l(s){t[12](s)}let a={$$slots:{default:[b3]},$$scope:{ctx:t}};return t[3]!==void 0&&(a.open=t[3]),o=new Qn({props:a}),Ne.push(()=>Tn(o,"open",l)),{c(){J(e.$$.fragment),n=q(),J(o.$$.fragment)},m(s,u){K(e,s,u),M(s,n,u),K(o,s,u),r=!0},p(s,[u]){const f={};u&4&&(f.open=s[2]),u&1048578&&(f.$$scope={dirty:u,ctx:s}),e.$set(f);const c={};u&1048579&&(c.$$scope={dirty:u,ctx:s}),!i&&u&8&&(i=!0,c.open=s[3],Sn(()=>i=!1)),o.$set(c)},i(s){r||(A(e.$$.fragment,s),A(o.$$.fragment,s),r=!0)},o(s){S(e.$$.fragment,s),S(o.$$.fragment,s),r=!1},d(s){s&&T(n),X(e,s),X(o,s)}}}function Vu(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function y3(t,e,n){let o,i;ae(t,Pe,w=>n(1,o=w)),ae(t,Pi,w=>n(3,i=w));var r;let l=[],a=!1,s=!1,u=!1;function f(){if(l.length>0||!a)return l;let w=[],R=e3.filter(L=>!o.lab.past_experiments.some(D=>D.id===L.id));for(let L=0;L<3;L++){let D=R[Math.floor(Math.random()*R.length)];D.cost=Math.floor(Math.random()*(D.cost*.35)+D.cost*.8),w.push(D)}return w=w.filter((L,D)=>w.indexOf(L)===D),w=w.filter(L=>L),n(8,u=!0),w}function c(w){if(o.townInfo.gold<w.cost){showCustomAlert.set("You do not have enough gold to purchase this experiment.");return}Me(Pe,o.townInfo.gold-=w.cost,o),Me(Pe,o.lab.active_experiment=w,o),o.lab.past_experiments.push(w)}function d(){var w;switch(Me(Pi,i=!1,i),n(2,s=!0),(w=o.lab.active_experiment)===null||w===void 0?void 0:w.id){case"sunshine":Me(Pe,o.modifiers.happiness=50,o);break;case"antibiotics":Me(Pe,o.modifiers.health=50,o);break;case"goodbye_carrots":p("carrot_farm");break;case"missing_treasure":Me(Pe,o.townInfo.gold+=Math.floor(Math.random()*o.lab.active_experiment.cost*2),o);break;case"tax_relief":Me(Pe,o.economyAndLaws.max_tax_rate=(Math.random()*.8+1.2)*o.economyAndLaws.max_tax_rate,o);break;case"bee_bonanza":p("coffee_bean_farm");break;case"wheat_whirlwind":p("wheat_farm"),Me(Pe,o.townInfo.happiness*=1.5,o),Me(Pe,o.modifiers.happiness+=3,o);break;case"educational_eclipse":p("small_school"),p("large_school"),Me(Pe,o.townInfo.knowledge_points*=.8,o);break;case"education_grant":Me(Pe,o.townInfo.knowledge_points*=1.5,o),Me(Pe,o.townInfo.gold+=15e4,o);break;case"mindfulness_meditation_classes":o.modifiers.happiness*1.5;break}Me(Pe,o.lab.active_experiment.duration=-1,o)}function m(){let w=o;w.lab.xp+=Math.round(w.lab.active_experiment.cost*(Math.random()*2+.5)),w.lab.active_experiment=null,n(2,s=!1),Me(Pe,o=w,o)}function p(w){let R=He(w,o);for(let L=0;L<R.length;L++)Vi(R[L].x,R[L].y,o)}const _=()=>{m()},b=()=>{d()},k=w=>{w.cost<o.townInfo.gold&&c(w)};function C(w){i=w,Pi.set(i)}return t.$$.update=()=>{t.$$.dirty&387&&(o?(a=!0,n(0,l=u==!1?f():l),(n(7,r=o.lab.active_experiment)===null||r===void 0?void 0:r.duration)===-1&&n(2,s=!0)):a=!1)},[l,o,s,i,c,d,m,r,u,_,b,k,C]}class w3 extends be{constructor(e){super(),ge(this,e,y3,v3,fe,{})}}function Hu(t,e,n){const o=t.slice();return o[19]=e[n],o}function Wu(t){let e,n=Ue({length:t[6]}),o=[];for(let i=0;i<n.length;i+=1)o[i]=Yu(Hu(t,n,i));return{c(){e=I("div");for(let i=0;i<o.length;i+=1)o[i].c();N(e,"class","confetti-holder svelte-15ksp55"),hn(e,"rounded",t[9]),hn(e,"cone",t[10]),hn(e,"no-gravity",t[11]),hn(e,"reduced-motion",t[13])},m(i,r){M(i,e,r);for(let l=0;l<o.length;l+=1)o[l]&&o[l].m(e,null)},p(i,r){if(r&37375){n=Ue({length:i[6]});let l;for(l=0;l<n.length;l+=1){const a=Hu(i,n,l);o[l]?o[l].p(a,r):(o[l]=Yu(a),o[l].c(),o[l].m(e,null))}for(;l<o.length;l+=1)o[l].d(1);o.length=n.length}r&512&&hn(e,"rounded",i[9]),r&1024&&hn(e,"cone",i[10]),r&2048&&hn(e,"no-gravity",i[11]),r&8192&&hn(e,"reduced-motion",i[13])},d(i){i&&T(e),_t(o,i)}}}function Yu(t){let e;return{c(){e=I("div"),N(e,"class","confetti svelte-15ksp55"),Je(e,"--fall-distance",t[8]),Je(e,"--size",t[0]+"px"),Je(e,"--color",t[15]()),Je(e,"--skew",Ct(-45,45)+"deg,"+Ct(-45,45)+"deg"),Je(e,"--rotation-xyz",Ct(-10,10)+", "+Ct(-10,10)+", "+Ct(-10,10)),Je(e,"--rotation-deg",Ct(0,360)+"deg"),Je(e,"--translate-y-multiplier",Ct(t[2][0],t[2][1])),Je(e,"--translate-x-multiplier",Ct(t[1][0],t[1][1])),Je(e,"--scale",.1*Ct(2,10)),Je(e,"--transition-duration",t[4]?`calc(${t[3]}ms * var(--scale))`:`${t[3]}ms`),Je(e,"--transition-delay",Ct(t[5][0],t[5][1])+"ms"),Je(e,"--transition-iteration-count",t[4]?"infinite":t[7]),Je(e,"--x-spread",1-t[12])},m(n,o){M(n,e,o)},p(n,o){o&256&&Je(e,"--fall-distance",n[8]),o&1&&Je(e,"--size",n[0]+"px"),o&4&&Je(e,"--translate-y-multiplier",Ct(n[2][0],n[2][1])),o&2&&Je(e,"--translate-x-multiplier",Ct(n[1][0],n[1][1])),o&24&&Je(e,"--transition-duration",n[4]?`calc(${n[3]}ms * var(--scale))`:`${n[3]}ms`),o&32&&Je(e,"--transition-delay",Ct(n[5][0],n[5][1])+"ms"),o&144&&Je(e,"--transition-iteration-count",n[4]?"infinite":n[7]),o&4096&&Je(e,"--x-spread",1-n[12])},d(n){n&&T(e)}}}function k3(t){let e,n=!t[14]&&Wu(t);return{c(){n&&n.c(),e=Re()},m(o,i){n&&n.m(o,i),M(o,e,i)},p(o,[i]){o[14]?n&&(n.d(1),n=null):n?n.p(o,i):(n=Wu(o),n.c(),n.m(e.parentNode,e))},i:ke,o:ke,d(o){o&&T(e),n&&n.d(o)}}}function Ct(t,e){return Math.random()*(e-t)+t}function C3(t,e,n){let{size:o=10}=e,{x:i=[-.5,.5]}=e,{y:r=[.25,1]}=e,{duration:l=2e3}=e,{infinite:a=!1}=e,{delay:s=[0,50]}=e,{colorRange:u=[0,360]}=e,{colorArray:f=[]}=e,{amount:c=50}=e,{iterationCount:d=1}=e,{fallDistance:m="100px"}=e,{rounded:p=!1}=e,{cone:_=!1}=e,{noGravity:b=!1}=e,{xSpread:k=.15}=e,{destroyOnComplete:C=!0}=e,{disableForReducedMotion:w=!1}=e,R=!1;mr(()=>{!C||a||d=="infinite"||setTimeout(()=>n(14,R=!0),(l+s[1])*d)});function L(){return f.length?f[Math.round(Math.random()*(f.length-1))]:`hsl(${Math.round(Ct(u[0],u[1]))}, 75%, 50%)`}return t.$$set=D=>{"size"in D&&n(0,o=D.size),"x"in D&&n(1,i=D.x),"y"in D&&n(2,r=D.y),"duration"in D&&n(3,l=D.duration),"infinite"in D&&n(4,a=D.infinite),"delay"in D&&n(5,s=D.delay),"colorRange"in D&&n(16,u=D.colorRange),"colorArray"in D&&n(17,f=D.colorArray),"amount"in D&&n(6,c=D.amount),"iterationCount"in D&&n(7,d=D.iterationCount),"fallDistance"in D&&n(8,m=D.fallDistance),"rounded"in D&&n(9,p=D.rounded),"cone"in D&&n(10,_=D.cone),"noGravity"in D&&n(11,b=D.noGravity),"xSpread"in D&&n(12,k=D.xSpread),"destroyOnComplete"in D&&n(18,C=D.destroyOnComplete),"disableForReducedMotion"in D&&n(13,w=D.disableForReducedMotion)},[o,i,r,l,a,s,c,d,m,p,_,b,k,w,R,L,u,f,C]}class A3 extends be{constructor(e){super(),ge(this,e,C3,k3,fe,{size:0,x:1,y:2,duration:3,infinite:4,delay:5,colorRange:16,colorArray:17,amount:6,iterationCount:7,fallDistance:8,rounded:9,cone:10,noGravity:11,xSpread:12,destroyOnComplete:18,disableForReducedMotion:13})}}function S3(t){let e,n,o;return{c(){e=I("div"),N(e,"class",n="h-full w-full flex-1 "+t[3]+" transition-all"),N(e,"style",o=`transform: translateX(-${100-100*(t[2]??0)/(t[1]??1)}%)`)},m(i,r){M(i,e,r)},p(i,r){r&8&&n!==(n="h-full w-full flex-1 "+i[3]+" transition-all")&&N(e,"class",n),r&6&&o!==(o=`transform: translateX(-${100-100*(i[2]??0)/(i[1]??1)}%)`)&&N(e,"style",o)},d(i){i&&T(e)}}}function T3(t){let e,n;const o=[{class:De("relative h-4 w-full overflow-hidden rounded-full bg-white",t[0])},t[4]];let i={$$slots:{default:[S3]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=x(i,o[r]);return e=new n1({props:i}),{c(){J(e.$$.fragment)},m(r,l){K(e,r,l),n=!0},p(r,[l]){const a=l&17?ye(o,[l&1&&{class:De("relative h-4 w-full overflow-hidden rounded-full bg-white",r[0])},l&16&&lt(r[4])]):{};l&46&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function M3(t,e,n){const o=["class","max","value","color"];let i=le(e,o),{class:r=void 0}=e,{max:l=100}=e,{value:a=void 0}=e,{color:s="bg-secondary"}=e;return t.$$set=u=>{e=x(x({},e),$e(u)),n(4,i=le(e,o)),"class"in u&&n(0,r=u.class),"max"in u&&n(1,l=u.max),"value"in u&&n(2,a=u.value),"color"in u&&n(3,s=u.color)},[r,l,a,s,i]}class I3 extends be{constructor(e){super(),ge(this,e,M3,T3,fe,{class:0,max:1,value:2,color:3})}}function O3(t){let e;const n=t[5].default,o=de(n,t,t[6],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&64)&&pe(o,n,i,i[6],e?me(n,i[6],r,null):he(i[6]),null)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function P3(t){let e,n;const o=[{transition:t[2]},{transitionConfig:t[3]},{sideOffset:t[1]},{class:De("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-black shadow-md",t[0])},t[4]];let i={$$slots:{default:[O3]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=x(i,o[r]);return e=new H1({props:i}),{c(){J(e.$$.fragment)},m(r,l){K(e,r,l),n=!0},p(r,[l]){const a=l&31?ye(o,[l&4&&{transition:r[2]},l&8&&{transitionConfig:r[3]},l&2&&{sideOffset:r[1]},l&1&&{class:De("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-black shadow-md",r[0])},l&16&&lt(r[4])]):{};l&64&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function N3(t,e,n){const o=["class","sideOffset","transition","transitionConfig"];let i=le(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{sideOffset:s=4}=e,{transition:u=_r}=e,{transitionConfig:f={y:8,duration:150}}=e;return t.$$set=c=>{e=x(x({},e),$e(c)),n(4,i=le(e,o)),"class"in c&&n(0,a=c.class),"sideOffset"in c&&n(1,s=c.sideOffset),"transition"in c&&n(2,u=c.transition),"transitionConfig"in c&&n(3,f=c.transitionConfig),"$$scope"in c&&n(6,l=c.$$scope)},[a,s,u,f,i,r,l]}class Io extends be{constructor(e){super(),ge(this,e,N3,P3,fe,{class:0,sideOffset:1,transition:2,transitionConfig:3})}}const Oo=I1,Po=x1;function Uu(t,e,n){const o=t.slice();return o[17]=e[n].name,o[18]=e[n].value,o[19]=e[n].modifier,o}function E3(t){let e,n=t[17]+"",o,i,r=it(t[19],2)+"",l,a,s,u,f;return u=new I3({props:{value:t[18],max:300,class:"w-full h-2",color:t[11](t[18])}}),{c(){e=I("span"),o=B(n),i=B(" (x"),l=B(r),a=B(")"),s=q(),J(u.$$.fragment),N(e,"class","text-xs pb-1")},m(c,d){M(c,e,d),g(e,o),g(e,i),g(e,l),g(e,a),M(c,s,d),K(u,c,d),f=!0},p(c,d){(!f||d&4)&&n!==(n=c[17]+"")&&re(o,n),(!f||d&4)&&r!==(r=it(c[19],2)+"")&&re(l,r);const m={};d&4&&(m.value=c[18]),d&4&&(m.color=c[11](c[18])),u.$set(m)},i(c){f||(A(u.$$.fragment,c),f=!0)},o(c){S(u.$$.fragment,c),f=!1},d(c){c&&(T(e),T(s)),X(u,c)}}}function $3(t){let e,n,o=t[17]+"",i,r,l,a,s=it(t[18],0)+"",u,f,c,d,m,p=it(t[19],0)+"",_;return{c(){e=I("div"),n=I("span"),i=B(o),r=q(),l=I("span"),a=B("Base: "),u=B(s),f=B(" / 300"),c=q(),d=I("span"),m=B("Modifier: "),_=B(p),N(n,"class","text-sm font-bold"),N(l,"class","text-xs"),N(d,"class","text-xs"),N(e,"class","flex flex-col justify-between p-0 m-0")},m(b,k){M(b,e,k),g(e,n),g(n,i),g(e,r),g(e,l),g(l,a),g(l,u),g(l,f),g(e,c),g(e,d),g(d,m),g(d,_)},p(b,k){k&4&&o!==(o=b[17]+"")&&re(i,o),k&4&&s!==(s=it(b[18],0)+"")&&re(u,s),k&4&&p!==(p=it(b[19],0)+"")&&re(_,p)},d(b){b&&T(e)}}}function R3(t){let e,n,o,i;return e=new Po({props:{class:"h-7 w-full mt-0 flex flex-col",$$slots:{default:[E3]},$$scope:{ctx:t}}}),o=new Io({props:{class:t[11](t[18]),$$slots:{default:[$3]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=q(),J(o.$$.fragment)},m(r,l){K(e,r,l),M(r,n,l),K(o,r,l),i=!0},p(r,l){const a={};l&4194308&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&4&&(s.class=r[11](r[18])),l&4194308&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function Ku(t){let e,n,o,i;return n=new Oo({props:{openDelay:400,closeDelay:0,$$slots:{default:[R3]},$$scope:{ctx:t}}}),{c(){e=I("div"),J(n.$$.fragment),o=q(),N(e,"class","flex flex-col gap-2")},m(r,l){M(r,e,l),K(n,e,null),g(e,o),i=!0},p(r,l){const a={};l&4194308&&(a.$$scope={dirty:l,ctx:r}),n.$set(a)},i(r){i||(A(n.$$.fragment,r),i=!0)},o(r){S(n.$$.fragment,r),i=!1},d(r){r&&T(e),X(n)}}}function D3(t){let e,n,o=t[0].economyAndLaws.weeklyProfit+"",i;return{c(){e=I("span"),n=B("+$"),i=B(o),N(e,"class","text-textPrimary")},m(r,l){M(r,e,l),g(e,n),g(e,i)},p(r,l){l&1&&o!==(o=r[0].economyAndLaws.weeklyProfit+"")&&re(i,o)},d(r){r&&T(e)}}}function L3(t){let e,n=t[0].economyAndLaws.weeklyProfit+"",o;return{c(){e=I("span"),o=B(n),N(e,"class","text-textDanger2")},m(i,r){M(i,e,r),g(e,o)},p(i,r){r&1&&n!==(n=i[0].economyAndLaws.weeklyProfit+"")&&re(o,n)},d(i){i&&T(e)}}}function F3(t){let e,n,o=t[0].economyAndLaws.weeklyProfit+"",i;return{c(){e=I("span"),n=B("+$"),i=B(o),N(e,"class","text-textHappy")},m(r,l){M(r,e,l),g(e,n),g(e,i)},p(r,l){l&1&&o!==(o=r[0].economyAndLaws.weeklyProfit+"")&&re(i,o)},d(r){r&&T(e)}}}function B3(t){let e=it(t[0].townInfo.employees/t[0].townInfo.population_count*100,0)+"",n,o,i=t[0].townInfo.employees+"",r,l,a=t[0].townInfo.population_count+"",s,u,f=t[0].townInfo.population_count-t[0].townInfo.employees+"",c,d;return{c(){n=B(e),o=B("% employment ("),r=B(i),l=B("/"),s=B(a),u=B(" - "),c=B(f),d=B(" unemployed)")},m(m,p){M(m,n,p),M(m,o,p),M(m,r,p),M(m,l,p),M(m,s,p),M(m,u,p),M(m,c,p),M(m,d,p)},p(m,p){p&1&&e!==(e=it(m[0].townInfo.employees/m[0].townInfo.population_count*100,0)+"")&&re(n,e),p&1&&i!==(i=m[0].townInfo.employees+"")&&re(r,i),p&1&&a!==(a=m[0].townInfo.population_count+"")&&re(s,a),p&1&&f!==(f=m[0].townInfo.population_count-m[0].townInfo.employees+"")&&re(c,f)},d(m){m&&(T(n),T(o),T(r),T(l),T(s),T(u),T(c),T(d))}}}function j3(t){let e;function n(r,l){return r[0].townInfo.population_count===0?G3:q3}let o=n(t),i=o(t);return{c(){i.c(),e=Re()},m(r,l){i.m(r,l),M(r,e,l)},p(r,l){o!==(o=n(r))&&(i.d(1),i=o(r),i&&(i.c(),i.m(e.parentNode,e)))},d(r){r&&T(e),i.d(r)}}}function q3(t){let e;return{c(){e=B("All citizens employed")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function G3(t){let e;return{c(){e=B("Nobody lives here , build some homes")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function V3(t){let e;return{c(){e=I("div"),e.textContent="Manage Knowledge"},m(n,o){M(n,e,o)},p:ke,d(n){n&&T(e)}}}function H3(t){let e;return{c(){e=I("div"),e.textContent="City Management"},m(n,o){M(n,e,o)},p:ke,d(n){n&&T(e)}}}function Xu(t){let e;function n(r,l){if(r[0].lab.active_experiment.duration>0)return Y3;if(r[0].lab.active_experiment.duration===0)return W3}let o=n(t),i=o&&o(t);return{c(){i&&i.c(),e=Re()},m(r,l){i&&i.m(r,l),M(r,e,l)},p(r,l){o===(o=n(r))&&i?i.p(r,l):(i&&i.d(1),i=o&&o(r),i&&(i.c(),i.m(e.parentNode,e)))},d(r){r&&T(e),i&&i.d(r)}}}function W3(t){let e;return{c(){e=I("span"),e.textContent="✅ DONE!",N(e,"class","animate-pulse ")},m(n,o){M(n,e,o)},p:ke,d(n){n&&T(e)}}}function Y3(t){let e,n=t[0].lab.active_experiment.duration+"",o,i;return{c(){e=I("span"),o=B(n),i=B("d")},m(r,l){M(r,e,l),g(e,o),g(e,i)},p(r,l){l&1&&n!==(n=r[0].lab.active_experiment.duration+"")&&re(o,n)},d(r){r&&T(e)}}}function U3(t){let e,n,o=t[0].lab.active_experiment!==null&&Xu(t);return{c(){e=I("div"),n=B(`Manage Lab
            `),o&&o.c()},m(i,r){M(i,e,r),g(e,n),o&&o.m(e,null)},p(i,r){i[0].lab.active_experiment!==null?o?o.p(i,r):(o=Xu(i),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},d(i){i&&T(e),o&&o.d()}}}function Ju(t){let e,n,o,i;return o=new Oo({props:{openDelay:400,closeDelay:0,$$slots:{default:[J3]},$$scope:{ctx:t}}}),{c(){e=I("div"),n=I("div"),J(o.$$.fragment),N(n,"class","flex flex-row justify-center text-xs bg-white rounded-t-2xl text-black py-2 whitespace-nowrap px-2 opacity-50"),N(e,"class","flex flex-col justify-center items-center ")},m(r,l){M(r,e,l),g(e,n),K(o,n,null),i=!0},p(r,l){const a={};l&4194305&&(a.$$scope={dirty:l,ctx:r}),o.$set(a)},i(r){i||(A(o.$$.fragment,r),i=!0)},o(r){S(o.$$.fragment,r),i=!1},d(r){r&&T(e),X(o)}}}function K3(t){let e,n,o,i,r=qt[t[0].currentTutorialStep-1].goldReward+"",l;return{c(){e=I("span"),n=B(`Last reward
                  `),o=I("div"),i=B("💰"),l=B(r),N(e,"class","w-full no-select opacity-70 whitespace-nowrap text-center")},m(a,s){M(a,e,s),g(e,n),g(e,o),g(o,i),g(o,l)},p(a,s){s&1&&r!==(r=qt[a[0].currentTutorialStep-1].goldReward+"")&&re(l,r)},d(a){a&&T(e)}}}function X3(t){let e,n=qt[t[0].currentTutorialStep-1].message+"",o;return{c(){e=B("Last completed task: "),o=B(n)},m(i,r){M(i,e,r),M(i,o,r)},p(i,r){r&1&&n!==(n=qt[i[0].currentTutorialStep-1].message+"")&&re(o,n)},d(i){i&&(T(e),T(o))}}}function J3(t){let e,n,o,i;return e=new Po({props:{$$slots:{default:[K3]},$$scope:{ctx:t}}}),o=new Io({props:{class:"bg-black text-white rounded-2xl",$$slots:{default:[X3]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=q(),J(o.$$.fragment)},m(r,l){K(e,r,l),M(r,n,l),K(o,r,l),i=!0},p(r,l){const a={};l&4194305&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&4194305&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function xu(t){let e,n;return e=new A3({props:{y:[-.5,.5],x:[-.5,.5],duration:2e3}}),{c(){J(e.$$.fragment)},m(o,i){K(e,o,i),n=!0},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function x3(t){let e=qt[t[0].currentTutorialStep].message+"",n,o,i,r,l=qt[t[0].currentTutorialStep].goldReward+"",a,s;return{c(){n=B(e),o=q(),i=I("span"),r=B("(💰"),a=B(l),s=B(")"),N(i,"class","opacity-40")},m(u,f){M(u,n,f),M(u,o,f),M(u,i,f),g(i,r),g(i,a),g(i,s)},p(u,f){f&1&&e!==(e=qt[u[0].currentTutorialStep].message+"")&&re(n,e),f&1&&l!==(l=qt[u[0].currentTutorialStep].goldReward+"")&&re(a,l)},d(u){u&&(T(n),T(o),T(i))}}}function Z3(t){let e;return{c(){e=B("No more goals!")},m(n,o){M(n,e,o)},p:ke,d(n){n&&T(e)}}}function Q3(t){let e,n,o,i,r,l,a,s,u,f=t[0].townInfo.name+"",c,d,m,p,_,b=t[0].townInfo.population_count+"",k,C,w=t[0].townInfo.population_max+"",R,L,D,E,G,$=xt(t[0].townInfo.gold,!1)+"",W,y,v,O,P,H,F,Q,ne,z,Y,h,V,U,ee,Z,we,_e,Te,Xe,Ve,ze,ue,Ee,Ge,Be,Ke,Ce,Ae,wt,Lt,ft,Ft,ct,pt,nt,ce,We,j,rs,ri,li=t[0].environment.day%365+1+"",Or,ls,zn,si,ss,ai,ui=Math.floor(t[0].environment.day/365)+1+"",Pr,as,mn,eo,us,fi,fs,to,cs,ci,ds,no,ms,di,mi,dt,Nr,ps,Mn=Ue(t[2]),tt=[];for(let ve=0;ve<Mn.length;ve+=1)tt[ve]=Ku(Uu(t,Mn,ve));const Dd=ve=>S(tt[ve],1,1,()=>{tt[ve]=null});function hs(ve,je){return ve[0].economyAndLaws.weeklyProfit>0?F3:ve[0].economyAndLaws.weeklyProfit<0?L3:D3}let pi=hs(t),Ht=pi(t);function _s(ve,je){return ve[0].townInfo.employees==ve[0].townInfo.population_count?j3:B3}let hi=_s(t),Wt=hi(t);Z=new Mt({props:{class:"text-xs flex flex-col h-min  bg-button cursor-pointer text-textPrimary p-1.5",$$slots:{default:[V3]},$$scope:{ctx:t}}}),Z.$on("click",t[12]),_e=new Mt({props:{class:"text-xs flex flex-col h-min  bg-button cursor-pointer text-textPrimary p-1.5",$$slots:{default:[H3]},$$scope:{ctx:t}}}),_e.$on("click",t[13]),Xe=new Mt({props:{class:"text-xs flex flex-col h-min p-1.5 "+(t[0].hasLab?"bg-button cursor-pointer text-textPrimary":"bg-button cursor-not-allowed text-textPrimary opacity-35"),$$slots:{default:[U3]},$$scope:{ctx:t}}}),Xe.$on("click",t[10]);let st=t[0].currentTutorialStep!=0&&Ju(t),mt=t[7]&&xu();function gs(ve,je){return ve[0].currentTutorialStep>=qt.length?Z3:x3}let _i=gs(t),Yt=_i(t);return{c(){e=I("div"),n=I("div"),o=I("div");for(let ve=0;ve<tt.length;ve+=1)tt[ve].c();i=q(),r=I("div"),l=I("div"),a=I("div"),s=I("div"),u=I("h1"),c=B(f),d=q(),m=I("div"),p=I("span"),_=B("👥 "),k=B(b),C=B(" / "),R=B(w),L=q(),D=I("span"),E=I("span"),G=B("💰 "),W=B($),y=q(),v=I("span"),O=q(),Ht.c(),P=q(),H=I("span"),H.textContent="(weekly)",F=q(),Q=I("div"),Wt.c(),z=q(),Y=I("span"),h=B("Game time: "),V=B(t[1]),U=q(),ee=I("div"),J(Z.$$.fragment),we=q(),J(_e.$$.fragment),Te=q(),J(Xe.$$.fragment),Ve=q(),ze=I("div"),ue=I("div"),st&&st.c(),Ee=q(),mt&&mt.c(),Ge=q(),Be=I("div"),Ke=I("div"),Ke.textContent="👨‍🦰",Ce=q(),Ae=I("div"),Yt.c(),Lt=q(),ft=I("div"),Ft=I("div"),ct=I("div"),pt=I("div"),pt.innerHTML='<span class="text-xs text-secondary cursor-pointer">Press P to Pause</span>',nt=q(),ce=I("div"),We=I("span"),j=I("span"),j.textContent="Day",rs=q(),ri=I("span"),Or=B(li),ls=q(),zn=I("span"),si=I("span"),si.textContent="Year",ss=q(),ai=I("span"),Pr=B(ui),as=q(),mn=I("div"),eo=I("span"),us=B("Slow"),fs=q(),to=I("span"),cs=B("Normal"),ds=q(),no=I("span"),ms=B("Fast"),N(o,"class","flex flex-col w-36 text-foregroundText bg-accent p-2 rounded-xl gap-2 mr-2"),N(u,"class","font-bold cursor-pointer w-full pb-2 text-start select-none"),N(s,"class","cursor-pointer transition-all duration=150 min-h-8"),N(p,"class","text-sm"),N(E,"class","text-sm"),N(v,"class","pl-2"),N(H,"class","text-gray-400"),N(D,"class","text-xs"),N(m,"class","flex flex-row gap-4 flex-wrap items-center"),N(Q,"class",ne="text-xs pt-0 opacity-70 "+(t[0].townInfo.employees==t[0].townInfo.population_count?"text-textPrimary":t[0].townInfo.employees>t[0].townInfo.population_count*.95?"text-textDanger3":t[0].townInfo.employees>t[0].townInfo.population_count*.9?"text-textDanger2":"text-textDanger1")),N(Y,"class","text-xs text-secondary cursor-pointer"),N(a,"class","flex flex-col justify-between"),N(l,"class","rounded-xl"),N(ee,"class","flex flex-row gap-2 align-middle justify-center items-center "),N(r,"class","flex justify-between flex-col"),N(n,"class","flex flex-row gap-2 my-2 h-max"),N(Ke,"class","text-lg h-max"),N(Ae,"class","text-xs ml-2 overflow-auto opacity-80"),N(Be,"class","gap flex-row items-center flex bg-white text-slate-800 py-1 px-2 rounded-xl w-full"),N(ue,"class","flex flex-col justify-center w-full align-middle items-center"),N(ze,"class",wt="flex flex-row flex-wrap align-middle justify-center items-center w-80 "+(t[7]?"opacity-25 ":"")+" transition-all duration-700 "+(t[0].environment.day===0?"wiggle":"")+" svelte-1asvijo"),N(j,"class","text-xs"),N(ri,"class","font-semibold text-xs"),N(We,"class","flex flex-col gap-2 text-center"),N(si,"class","text-xs"),N(ai,"class","font-semibold text-xs"),N(zn,"class","flex flex-col gap-2 text-center"),N(ce,"class","rounded-xl bg-accent flex-row justify-between text-accentText w-36 h-14 flex px-6 items-center mb-2"),N(eo,"class",fi=(t[3].toString()==="2000"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"),N(to,"class",ci=(t[3].toString()==="750"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"),N(no,"class",di=(t[3].toString()==="200"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"),N(mn,"class","flex flex-row gap-2 align-middle justify-center items-center"),N(ct,"class","flex flex-col items-center h-max"),N(Ft,"class","flex flex-col"),N(ft,"class","flex justify-center align-middle flex-col"),N(e,"class",mi="flex justify-between px-6 gap-6 flex-row text-start fixed top-0 left-0 right-0 cursor-default z-20 bg-foreground text-foregroundText h-max "+(t[4].visible?"opacity-70":""))},m(ve,je){M(ve,e,je),g(e,n),g(n,o);for(let In=0;In<tt.length;In+=1)tt[In]&&tt[In].m(o,null);g(n,i),g(n,r),g(r,l),g(l,a),g(a,s),g(s,u),g(u,c),g(a,d),g(a,m),g(m,p),g(p,_),g(p,k),g(p,C),g(p,R),g(m,L),g(m,D),g(D,E),g(E,G),g(E,W),g(D,y),g(D,v),g(D,O),Ht.m(D,null),g(D,P),g(D,H),g(a,F),g(a,Q),Wt.m(Q,null),g(a,z),g(a,Y),g(Y,h),g(Y,V),g(r,U),g(r,ee),K(Z,ee,null),g(ee,we),K(_e,ee,null),g(ee,Te),K(Xe,ee,null),g(e,Ve),g(e,ze),g(ze,ue),st&&st.m(ue,null),g(ue,Ee),mt&&mt.m(ue,null),g(ue,Ge),g(ue,Be),g(Be,Ke),g(Be,Ce),g(Be,Ae),Yt.m(Ae,null),g(e,Lt),g(e,ft),g(ft,Ft),g(Ft,ct),g(ct,pt),g(ct,nt),g(ct,ce),g(ce,We),g(We,j),g(We,rs),g(We,ri),g(ri,Or),g(ce,ls),g(ce,zn),g(zn,si),g(zn,ss),g(zn,ai),g(ai,Pr),g(ct,as),g(ct,mn),g(mn,eo),g(eo,us),g(mn,fs),g(mn,to),g(to,cs),g(mn,ds),g(mn,no),g(no,ms),dt=!0,Nr||(ps=[te(s,"click",t[8]),te(eo,"click",t[14]),te(to,"click",t[15]),te(no,"click",t[16])],Nr=!0)},p(ve,[je]){if(je&2052){Mn=Ue(ve[2]);let gt;for(gt=0;gt<Mn.length;gt+=1){const vs=Uu(ve,Mn,gt);tt[gt]?(tt[gt].p(vs,je),A(tt[gt],1)):(tt[gt]=Ku(vs),tt[gt].c(),A(tt[gt],1),tt[gt].m(o,null))}for(Ie(),gt=Mn.length;gt<tt.length;gt+=1)Dd(gt);Oe()}(!dt||je&1)&&f!==(f=ve[0].townInfo.name+"")&&re(c,f),(!dt||je&1)&&b!==(b=ve[0].townInfo.population_count+"")&&re(k,b),(!dt||je&1)&&w!==(w=ve[0].townInfo.population_max+"")&&re(R,w),(!dt||je&1)&&$!==($=xt(ve[0].townInfo.gold,!1)+"")&&re(W,$),pi===(pi=hs(ve))&&Ht?Ht.p(ve,je):(Ht.d(1),Ht=pi(ve),Ht&&(Ht.c(),Ht.m(D,P))),hi===(hi=_s(ve))&&Wt?Wt.p(ve,je):(Wt.d(1),Wt=hi(ve),Wt&&(Wt.c(),Wt.m(Q,null))),(!dt||je&1&&ne!==(ne="text-xs pt-0 opacity-70 "+(ve[0].townInfo.employees==ve[0].townInfo.population_count?"text-textPrimary":ve[0].townInfo.employees>ve[0].townInfo.population_count*.95?"text-textDanger3":ve[0].townInfo.employees>ve[0].townInfo.population_count*.9?"text-textDanger2":"text-textDanger1")))&&N(Q,"class",ne),(!dt||je&2)&&re(V,ve[1]);const In={};je&4194304&&(In.$$scope={dirty:je,ctx:ve}),Z.$set(In);const bs={};je&4194304&&(bs.$$scope={dirty:je,ctx:ve}),_e.$set(bs);const Er={};je&1&&(Er.class="text-xs flex flex-col h-min p-1.5 "+(ve[0].hasLab?"bg-button cursor-pointer text-textPrimary":"bg-button cursor-not-allowed text-textPrimary opacity-35")),je&4194305&&(Er.$$scope={dirty:je,ctx:ve}),Xe.$set(Er),ve[0].currentTutorialStep!=0?st?(st.p(ve,je),je&1&&A(st,1)):(st=Ju(ve),st.c(),A(st,1),st.m(ue,Ee)):st&&(Ie(),S(st,1,1,()=>{st=null}),Oe()),ve[7]?mt?je&128&&A(mt,1):(mt=xu(),mt.c(),A(mt,1),mt.m(ue,Ge)):mt&&(Ie(),S(mt,1,1,()=>{mt=null}),Oe()),_i===(_i=gs(ve))&&Yt?Yt.p(ve,je):(Yt.d(1),Yt=_i(ve),Yt&&(Yt.c(),Yt.m(Ae,null))),(!dt||je&129&&wt!==(wt="flex flex-row flex-wrap align-middle justify-center items-center w-80 "+(ve[7]?"opacity-25 ":"")+" transition-all duration-700 "+(ve[0].environment.day===0?"wiggle":"")+" svelte-1asvijo"))&&N(ze,"class",wt),(!dt||je&1)&&li!==(li=ve[0].environment.day%365+1+"")&&re(Or,li),(!dt||je&1)&&ui!==(ui=Math.floor(ve[0].environment.day/365)+1+"")&&re(Pr,ui),(!dt||je&8&&fi!==(fi=(ve[3].toString()==="2000"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"))&&N(eo,"class",fi),(!dt||je&8&&ci!==(ci=(ve[3].toString()==="750"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"))&&N(to,"class",ci),(!dt||je&8&&di!==(di=(ve[3].toString()==="200"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"))&&N(no,"class",di),(!dt||je&16&&mi!==(mi="flex justify-between px-6 gap-6 flex-row text-start fixed top-0 left-0 right-0 cursor-default z-20 bg-foreground text-foregroundText h-max "+(ve[4].visible?"opacity-70":"")))&&N(e,"class",mi)},i(ve){if(!dt){for(let je=0;je<Mn.length;je+=1)A(tt[je]);A(Z.$$.fragment,ve),A(_e.$$.fragment,ve),A(Xe.$$.fragment,ve),A(st),A(mt),dt=!0}},o(ve){tt=tt.filter(Boolean);for(let je=0;je<tt.length;je+=1)S(tt[je]);S(Z.$$.fragment,ve),S(_e.$$.fragment,ve),S(Xe.$$.fragment,ve),S(st),S(mt),dt=!1},d(ve){ve&&T(e),_t(tt,ve),Ht.d(),Wt.d(),X(Z),X(_e),X(Xe),st&&st.d(),mt&&mt.d(),Yt.d(),Nr=!1,Le(ps)}}}function z3(t,e,n){let o,i,r,l,a,s;ae(t,Pe,R=>n(0,o=R)),ae(t,nl,R=>n(3,i=R)),ae(t,Qe,R=>n(4,r=R)),ae(t,Hi,R=>n(5,l=R)),ae(t,Yi,R=>n(6,a=R)),ae(t,Oi,R=>n(7,s=R)),mr(()=>{const R=setInterval(()=>{Me(Pe,o.timeSpent+=1e3,o)},1e3);return()=>{clearInterval(R)}});function u(){let R=prompt("Enter a new name for your town (under 200 chars)");if(R&&R.length<200&&R.length>=1){let L=o;L.townInfo.name=R,Pe.set(L),localStorage.setItem(Gt,JSON.stringify(L))}}function f(R){return Me(nl,i=R,i),document.querySelectorAll(".speedButton").forEach(D=>{D.classList.remove("active")}),i}function c(){o.hasLab&&Pi.set(!0)}let d="00:00:00",m;const p=R=>R>149?"bg-green-500":R<149&&R>99?"bg-yellow-500":"bg-red-500",_=function(){Me(Hi,l=!l,l)},b=function(){Me(Yi,a=!a,a)},k=()=>f(2e3),C=()=>f(750),w=()=>f(200);return t.$$.update=()=>{t.$$.dirty&1&&(o.timeSpent>0?n(1,d=Zm(o.timeSpent)):n(1,d="00:00:00")),t.$$.dirty&1&&n(2,m=[{name:"Happiness",description:"Happy townspeople spend more money and are less likely to leave.",value:o.townInfo.happiness,modifier:o.modifiers.happiness},{name:"Health",description:"Healthy townspeople are less likely to die (and leave the town obviously).",value:o.townInfo.health,modifier:o.modifiers.health},{name:"Community",description:"Townspeople that feel at home are less likely to leave, and less likely to get bored.",value:o.townInfo.community,modifier:o.modifiers.community}])},[o,d,m,i,r,l,a,s,u,f,c,p,_,b,k,C,w]}class e4 extends be{constructor(e){super(),ge(this,e,z3,Q3,fe,{})}}function Zu(t,e,n){const o=t.slice();return o[4]=e[n],o[6]=n,o}function Qu(t,e,n){const o=t.slice();return o[4]=e[n],o[6]=n,o}function zu(t){let e,n,o,i=ie[Se(t[0].id)].title+"",r,l,a,s=ie[Se(t[0].id)].description+"",u,f,c,d,m,p,_,b,k,C=t[3]("💰",ie[Se(t[0].id)].requirements.gold,t[2].townInfo.gold)+"",w,R,L=t[3]("🥕",ie[Se(t[0].id)].requirements.resources.food,t[2].resources.food)+"",D,E,G=t[3]("🧠",ie[Se(t[0].id)].requirements.knowledge,t[2].townInfo.knowledge_points)+"",$,W,y=t[3]("🪵",ie[Se(t[0].id)].requirements.resources.wood,t[2].resources.wood)+"",v,O,P=t[3]("🪨",ie[Se(t[0].id)].requirements.resources.stone,t[2].resources.stone)+"",H,F,Q=t[3]("🧲",ie[Se(t[0].id)].requirements.resources.metal,t[2].resources.metal)+"",ne,z,Y=t[3]("🔋",ie[Se(t[0].id)].active_costs.power,t[2].resources.power)+"",h,V,U=t[3]("🧑‍⚖️",ie[Se(t[0].id)].requirements.resources.bureaucracy,t[2].resources.bureaucracy)+"",ee,Z=ie[Se(t[0].id)].requirements.employees!=0,we,_e=ie[Se(t[0].id)].revenue_per_week!=0,Te,Xe=Object.values(ie[Se(t[0].id)].active_costs).some(cf),Ve,ze=Object.values(ie[Se(t[0].id)].generated_resources).some(ff)||ie[Se(t[0].id)].knowledge_points_per_month>0,ue;d=new yt({props:{class:"bg-secondary opacity-25 mt-1 mb-1"}});let Ee=Z&&ef(t),Ge=_e&&tf(t),Be=Xe&&nf(t),Ke=ze&&lf(t);return{c(){e=I("div"),n=I("div"),o=I("span"),r=B(i),l=q(),a=I("span"),u=B(s),f=q(),c=I("div"),J(d.$$.fragment),m=q(),p=I("span"),p.textContent="Requirements",_=q(),b=I("div"),k=new _n(!1),w=q(),R=new _n(!1),D=q(),E=new _n(!1),$=q(),W=new _n(!1),v=q(),O=new _n(!1),H=q(),F=new _n(!1),ne=q(),z=new _n(!1),h=q(),V=new _n(!1),ee=q(),Ee&&Ee.c(),we=q(),Ge&&Ge.c(),Te=q(),Be&&Be.c(),Ve=q(),Ke&&Ke.c(),N(o,"class","text-md"),N(a,"class","text-xs"),N(n,"class","flex flex-col gap-2"),N(p,"class","font-semibold"),k.a=w,R.a=D,E.a=$,W.a=v,O.a=H,F.a=ne,z.a=h,V.a=ee,N(b,"class","flex flex-col gap-1"),N(c,"class","flex flex-col w-36 h-min gap-0 text-xs pb-2"),N(e,"class","p-2")},m(Ce,Ae){M(Ce,e,Ae),g(e,n),g(n,o),g(o,r),g(n,l),g(n,a),g(a,u),g(e,f),g(e,c),K(d,c,null),g(c,m),g(c,p),g(c,_),g(c,b),k.m(C,b),g(b,w),R.m(L,b),g(b,D),E.m(G,b),g(b,$),W.m(y,b),g(b,v),O.m(P,b),g(b,H),F.m(Q,b),g(b,ne),z.m(Y,b),g(b,h),V.m(U,b),g(b,ee),Ee&&Ee.m(b,null),g(e,we),Ge&&Ge.m(e,null),g(e,Te),Be&&Be.m(e,null),g(e,Ve),Ke&&Ke.m(e,null),ue=!0},p(Ce,Ae){(!ue||Ae&1)&&i!==(i=ie[Se(Ce[0].id)].title+"")&&re(r,i),(!ue||Ae&1)&&s!==(s=ie[Se(Ce[0].id)].description+"")&&re(u,s),(!ue||Ae&5)&&C!==(C=Ce[3]("💰",ie[Se(Ce[0].id)].requirements.gold,Ce[2].townInfo.gold)+"")&&k.p(C),(!ue||Ae&5)&&L!==(L=Ce[3]("🥕",ie[Se(Ce[0].id)].requirements.resources.food,Ce[2].resources.food)+"")&&R.p(L),(!ue||Ae&5)&&G!==(G=Ce[3]("🧠",ie[Se(Ce[0].id)].requirements.knowledge,Ce[2].townInfo.knowledge_points)+"")&&E.p(G),(!ue||Ae&5)&&y!==(y=Ce[3]("🪵",ie[Se(Ce[0].id)].requirements.resources.wood,Ce[2].resources.wood)+"")&&W.p(y),(!ue||Ae&5)&&P!==(P=Ce[3]("🪨",ie[Se(Ce[0].id)].requirements.resources.stone,Ce[2].resources.stone)+"")&&O.p(P),(!ue||Ae&5)&&Q!==(Q=Ce[3]("🧲",ie[Se(Ce[0].id)].requirements.resources.metal,Ce[2].resources.metal)+"")&&F.p(Q),(!ue||Ae&5)&&Y!==(Y=Ce[3]("🔋",ie[Se(Ce[0].id)].active_costs.power,Ce[2].resources.power)+"")&&z.p(Y),(!ue||Ae&5)&&U!==(U=Ce[3]("🧑‍⚖️",ie[Se(Ce[0].id)].requirements.resources.bureaucracy,Ce[2].resources.bureaucracy)+"")&&V.p(U),Ae&1&&(Z=ie[Se(Ce[0].id)].requirements.employees!=0),Z?Ee?Ee.p(Ce,Ae):(Ee=ef(Ce),Ee.c(),Ee.m(b,null)):Ee&&(Ee.d(1),Ee=null),Ae&1&&(_e=ie[Se(Ce[0].id)].revenue_per_week!=0),_e?Ge?(Ge.p(Ce,Ae),Ae&1&&A(Ge,1)):(Ge=tf(Ce),Ge.c(),A(Ge,1),Ge.m(e,Te)):Ge&&(Ie(),S(Ge,1,1,()=>{Ge=null}),Oe()),Ae&1&&(Xe=Object.values(ie[Se(Ce[0].id)].active_costs).some(cf)),Xe?Be?(Be.p(Ce,Ae),Ae&1&&A(Be,1)):(Be=nf(Ce),Be.c(),A(Be,1),Be.m(e,Ve)):Be&&(Ie(),S(Be,1,1,()=>{Be=null}),Oe()),Ae&1&&(ze=Object.values(ie[Se(Ce[0].id)].generated_resources).some(ff)||ie[Se(Ce[0].id)].knowledge_points_per_month>0),ze?Ke?(Ke.p(Ce,Ae),Ae&1&&A(Ke,1)):(Ke=lf(Ce),Ke.c(),A(Ke,1),Ke.m(e,null)):Ke&&(Ie(),S(Ke,1,1,()=>{Ke=null}),Oe())},i(Ce){ue||(A(d.$$.fragment,Ce),A(Ge),A(Be),A(Ke),ue=!0)},o(Ce){S(d.$$.fragment,Ce),S(Ge),S(Be),S(Ke),ue=!1},d(Ce){Ce&&T(e),X(d),Ee&&Ee.d(),Ge&&Ge.d(),Be&&Be.d(),Ke&&Ke.d()}}}function ef(t){let e,n,o=ie[Se(t[0].id)].requirements.employees+"",i,r,l;return{c(){e=I("span"),n=B("👥 "),i=B(o),r=B(" employees"),N(e,"class",l=ie[Se(t[0].id)].requirements.employees>t[2].townInfo.population_count-t[2].townInfo.employees&&t[1]?"px-1 text-textDanger1 font-bold border-2 border-red-400":"")},m(a,s){M(a,e,s),g(e,n),g(e,i),g(e,r)},p(a,s){s&1&&o!==(o=ie[Se(a[0].id)].requirements.employees+"")&&re(i,o),s&7&&l!==(l=ie[Se(a[0].id)].requirements.employees>a[2].townInfo.population_count-a[2].townInfo.employees&&a[1]?"px-1 text-textDanger1 font-bold border-2 border-red-400":"")&&N(e,"class",l)},d(a){a&&T(e)}}}function tf(t){let e,n,o,i,r,l,a,s=ie[Se(t[0].id)].revenue_per_week+"",u,f;return n=new yt({props:{class:"bg-secondary opacity-25 mt-0"}}),{c(){e=I("div"),J(n.$$.fragment),o=q(),i=I("span"),i.textContent="Weekly revenue",r=q(),l=I("span"),a=B("💰 "),u=B(s),N(i,"class","font-semibold"),N(e,"class","flex flex-col gap-1 text-xs")},m(c,d){M(c,e,d),K(n,e,null),g(e,o),g(e,i),g(e,r),g(e,l),g(l,a),g(l,u),f=!0},p(c,d){(!f||d&1)&&s!==(s=ie[Se(c[0].id)].revenue_per_week+"")&&re(u,s)},i(c){f||(A(n.$$.fragment,c),f=!0)},o(c){S(n.$$.fragment,c),f=!1},d(c){c&&T(e),X(n)}}}function nf(t){let e,n,o,i,r,l;n=new yt({props:{class:"bg-secondary opacity-25 mt-2"}});let a=Ue(Object.keys(ie[Se(t[0].id)].active_costs)),s=[];for(let u=0;u<a.length;u+=1)s[u]=rf(Qu(t,a,u));return{c(){e=I("div"),J(n.$$.fragment),o=q(),i=I("span"),i.textContent="Weekly Costs",r=q();for(let u=0;u<s.length;u+=1)s[u].c();N(i,"class","font-semibold"),N(e,"class","flex flex-col gap-1 text-xs")},m(u,f){M(u,e,f),K(n,e,null),g(e,o),g(e,i),g(e,r);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(e,null);l=!0},p(u,f){if(f&1){a=Ue(Object.keys(ie[Se(u[0].id)].active_costs));let c;for(c=0;c<a.length;c+=1){const d=Qu(u,a,c);s[c]?s[c].p(d,f):(s[c]=rf(d),s[c].c(),s[c].m(e,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=a.length}},i(u){l||(A(n.$$.fragment,u),l=!0)},o(u){S(n.$$.fragment,u),l=!1},d(u){u&&T(e),X(n),_t(s,u)}}}function of(t){let e,n=_o(t[4])+"",o,i,r=fr(t[4])+"",l,a,s=-1*Object.values(ie[Se(t[0].id)].active_costs)[t[6]]+"",u,f,c;return{c(){e=I("span"),o=B(n),i=q(),l=B(r),a=q(),u=B(s),f=q(),N(e,"class",c=Object.values(ie[Se(t[0].id)].active_costs)[t[6]]>0?"text-textDanger1":"text-textHappyDark")},m(d,m){M(d,e,m),g(e,o),g(e,i),g(e,l),g(e,a),g(e,u),g(e,f)},p(d,m){m&1&&n!==(n=_o(d[4])+"")&&re(o,n),m&1&&r!==(r=fr(d[4])+"")&&re(l,r),m&1&&s!==(s=-1*Object.values(ie[Se(d[0].id)].active_costs)[d[6]]+"")&&re(u,s),m&1&&c!==(c=Object.values(ie[Se(d[0].id)].active_costs)[d[6]]>0?"text-textDanger1":"text-textHappyDark")&&N(e,"class",c)},d(d){d&&T(e)}}}function rf(t){let e=Object.values(ie[Se(t[0].id)].active_costs)[t[6]]!=0,n,o=e&&of(t);return{c(){o&&o.c(),n=Re()},m(i,r){o&&o.m(i,r),M(i,n,r)},p(i,r){r&1&&(e=Object.values(ie[Se(i[0].id)].active_costs)[i[6]]!=0),e?o?o.p(i,r):(o=of(i),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(i){i&&T(n),o&&o.d(i)}}}function lf(t){let e,n,o,i,r,l=ie[Se(t[0].id)].knowledge_points_per_month>0,a,s;n=new yt({props:{class:"bg-secondary opacity-25 mt-2"}});let u=l&&sf(t),f=Ue(Object.keys(ie[Se(t[0].id)].generated_resources)),c=[];for(let d=0;d<f.length;d+=1)c[d]=uf(Zu(t,f,d));return{c(){e=I("div"),J(n.$$.fragment),o=q(),i=I("span"),i.textContent="Generated Resources",r=q(),u&&u.c(),a=q();for(let d=0;d<c.length;d+=1)c[d].c();N(i,"class","font-semibold"),N(e,"class","flex flex-col gap-1 text-xs")},m(d,m){M(d,e,m),K(n,e,null),g(e,o),g(e,i),g(e,r),u&&u.m(e,null),g(e,a);for(let p=0;p<c.length;p+=1)c[p]&&c[p].m(e,null);s=!0},p(d,m){if(m&1&&(l=ie[Se(d[0].id)].knowledge_points_per_month>0),l?u?u.p(d,m):(u=sf(d),u.c(),u.m(e,a)):u&&(u.d(1),u=null),m&1){f=Ue(Object.keys(ie[Se(d[0].id)].generated_resources));let p;for(p=0;p<f.length;p+=1){const _=Zu(d,f,p);c[p]?c[p].p(_,m):(c[p]=uf(_),c[p].c(),c[p].m(e,null))}for(;p<c.length;p+=1)c[p].d(1);c.length=f.length}},i(d){s||(A(n.$$.fragment,d),s=!0)},o(d){S(n.$$.fragment,d),s=!1},d(d){d&&T(e),X(n),u&&u.d(),_t(c,d)}}}function sf(t){let e,n,o=Math.round(ie[Se(t[0].id)].knowledge_points_per_month)+"",i,r;return{c(){e=I("span"),n=B("🧠 "),i=B(o),r=B(" (monthly)")},m(l,a){M(l,e,a),g(e,n),g(e,i),g(e,r)},p(l,a){a&1&&o!==(o=Math.round(ie[Se(l[0].id)].knowledge_points_per_month)+"")&&re(i,o)},d(l){l&&T(e)}}}function af(t){let e,n=fr(t[4])+"",o,i,r=_o(t[4])+"",l,a,s=Os(Object.values(ie[Se(t[0].id)].generated_resources)[t[6]],!1)+"",u,f,c;return{c(){e=I("span"),o=B(n),i=q(),l=B(r),a=q(),u=B(s),f=q(),N(e,"class",c=Object.values(ie[Se(t[0].id)].generated_resources)[t[6]]>0?"text-textHappyDark":"text-textDanger1")},m(d,m){M(d,e,m),g(e,o),g(e,i),g(e,l),g(e,a),g(e,u),g(e,f)},p(d,m){m&1&&n!==(n=fr(d[4])+"")&&re(o,n),m&1&&r!==(r=_o(d[4])+"")&&re(l,r),m&1&&s!==(s=Os(Object.values(ie[Se(d[0].id)].generated_resources)[d[6]],!1)+"")&&re(u,s),m&1&&c!==(c=Object.values(ie[Se(d[0].id)].generated_resources)[d[6]]>0?"text-textHappyDark":"text-textDanger1")&&N(e,"class",c)},d(d){d&&T(e)}}}function uf(t){let e=Object.values(ie[Se(t[0].id)].generated_resources)[t[6]]!=0,n,o=e&&af(t);return{c(){o&&o.c(),n=Re()},m(i,r){o&&o.m(i,r),M(i,n,r)},p(i,r){r&1&&(e=Object.values(ie[Se(i[0].id)].generated_resources)[i[6]]!=0),e?o?o.p(i,r):(o=af(i),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(i){i&&T(n),o&&o.d(i)}}}function t4(t){let e,n,o=t[0]!=null&&zu(t);return{c(){o&&o.c(),e=Re()},m(i,r){o&&o.m(i,r),M(i,e,r),n=!0},p(i,[r]){i[0]!=null?o?(o.p(i,r),r&1&&A(o,1)):(o=zu(i),o.c(),A(o,1),o.m(e.parentNode,e)):o&&(Ie(),S(o,1,1,()=>{o=null}),Oe())},i(i){n||(A(o),n=!0)},o(i){S(o),n=!1},d(i){i&&T(e),o&&o.d(i)}}}function fr(t){switch(t){case"food":return"🥕";case"knowledge":return"🧠";case"wood":return"🪵";case"stone":return"🪨";case"metal":return"🧲";case"power":return"🔋";case"bureaucracy":return"🧑‍⚖️";default:return"💰"}}const ff=t=>t!=0,cf=t=>t!=0;function n4(t,e,n){let o;ae(t,Pe,a=>n(2,o=a));let{option:i}=e,{checkRequirements:r=!0}=e;function l(a,s,u){if(s==0||s==null)return"<span class='hidden'></span>";let f="",c="";return u<s&&r&&(c="text-textDanger1 border-2 border-red-400"),f=`<span class='${c}'>${a} ${s}</span>`,f}return t.$$set=a=>{"option"in a&&n(0,i=a.option),"checkRequirements"in a&&n(1,r=a.checkRequirements)},[i,r,o,l]}class $d extends be{constructor(e){super(),ge(this,e,n4,t4,fe,{option:0,checkRequirements:1})}}function df(t,e,n){const o=t.slice();return o[25]=e[n],o}function mf(t,e,n){const o=t.slice();return o[28]=e[n],o}function pf(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,p,_=t[5].plots[t[0]][t[1]].type!==-1&&t[12](t[0],t[1]),b,k,C,w,R,L,D={type:"text",autofocus:!0,id:"search-bar",placeholder:"Search Plot Options...",value:t[3],class:"border rounded w-auto bg-white placeholder-black text-black text-xs"};a=new Ul({props:D}),t[16](a),a.$on("input",t[10]);let E=_&&hf(t),G=Ue(t[6].isMineralSource||t[3].length>0?[1]:[1,2,3,4]),$=[];for(let y=0;y<G.length;y+=1)$[y]=Cf(df(t,G,y));const W=y=>S($[y],1,1,()=>{$[y]=null});return{c(){e=I("div"),n=I("div"),o=I("div"),i=I("div"),r=I("div"),l=I("div"),J(a.$$.fragment),s=q(),u=I("div"),f=I("input"),c=q(),d=I("label"),d.textContent="Buildable",m=q(),p=I("div"),E&&E.c(),b=q(),k=I("div");for(let y=0;y<$.length;y+=1)$[y].c();N(l,"class","flex items-end "),N(f,"type","checkbox"),N(f,"id","toggle-affordable"),N(f,"class","rounded"),f.checked=t[7],N(d,"for","toggle-affordable"),N(d,"class","ml-2 no-select cursor-pointer "),N(u,"class","flex items-center ml-4"),N(p,"class","flex justify-end ml-6"),N(r,"class","flex flex-row w-full "),N(i,"class","text-sm"),N(k,"class",C="flex flex-col "+(t[6].isMineralSource||t[3].length>0?"gap-0 pt-0":"gap-4")+" w-full overflow-y-scroll h-72 pb-24"),N(o,"class","flex flex-col gap-2 px-2 no-scrollbar justify-end"),N(n,"class","text-xl items-center justify-center w-[90%] align-bottom bg-foreground border-4 border-gray-400 shadow-2xl rounded-t-xl py-2 "),N(e,"class","w-[100vw] fixed bottom-0 h-["+t[9]+"] p-1 z-50 flex flex-col justify-center text-center items-center")},m(y,v){M(y,e,v),g(e,n),g(n,o),g(o,i),g(i,r),g(r,l),K(a,l,null),g(r,s),g(r,u),g(u,f),g(u,c),g(u,d),g(r,m),g(r,p),E&&E.m(p,null),g(o,b),g(o,k);for(let O=0;O<$.length;O+=1)$[O]&&$[O].m(k,null);w=!0,R||(L=[te(f,"change",t[17]),te(o,"click",t[11])],R=!0)},p(y,v){const O={};if(v[0]&8&&(O.value=y[3]),a.$set(O),(!w||v[0]&128)&&(f.checked=y[7]),v[0]&35&&(_=y[5].plots[y[0]][y[1]].type!==-1&&y[12](y[0],y[1])),_?E?E.p(y,v):(E=hf(y),E.c(),E.m(p,null)):E&&(E.d(1),E=null),v[0]&120){G=Ue(y[6].isMineralSource||y[3].length>0?[1]:[1,2,3,4]);let P;for(P=0;P<G.length;P+=1){const H=df(y,G,P);$[P]?($[P].p(H,v),A($[P],1)):($[P]=Cf(H),$[P].c(),A($[P],1),$[P].m(k,null))}for(Ie(),P=G.length;P<$.length;P+=1)W(P);Oe()}(!w||v[0]&72&&C!==(C="flex flex-col "+(y[6].isMineralSource||y[3].length>0?"gap-0 pt-0":"gap-4")+" w-full overflow-y-scroll h-72 pb-24"))&&N(k,"class",C)},i(y){if(!w){A(a.$$.fragment,y);for(let v=0;v<G.length;v+=1)A($[v]);w=!0}},o(y){S(a.$$.fragment,y),$=$.filter(Boolean);for(let v=0;v<$.length;v+=1)S($[v]);w=!1},d(y){y&&T(e),t[16](null),X(a),E&&E.d(),_t($,y),R=!1,Le(L)}}}function hf(t){let e,n,o;return{c(){e=I("button"),e.textContent="❌ Bulldoze",N(e,"id","bulldoze"),N(e,"class","px-2 py-2 bg-red-500 rounded hover:bg-red-600 transition duration-300 ease-in-out")},m(i,r){M(i,e,r),n||(o=te(e,"click",t[13]),n=!0)},p:ke,d(i){i&&T(e),n=!1,o()}}}function _f(t){let e,n,o=t[25]+"",i;return{c(){e=I("div"),n=B("Level "),i=B(o),N(e,"class","text-sm font-extralight pb-3")},m(r,l){M(r,e,l),g(e,n),g(e,i)},p(r,l){l[0]&72&&o!==(o=r[25]+"")&&re(i,o)},d(r){r&&T(e)}}}function gf(t){let e,n,o=t[28].active_costs.power+"",i;return{c(){e=I("span"),n=B("🔋"),i=B(o),N(e,"class","bg-yellow-300 text-xs text-black tex px-1 py-0.5 rounded-2xl absolute top-[-5px] right-[-2px]")},m(r,l){M(r,e,l),g(e,n),g(e,i)},p(r,l){l[0]&88&&o!==(o=r[28].active_costs.power+"")&&re(i,o)},d(r){r&&T(e)}}}function bf(t){let e,n,o=He(t[28].id,t[5]).length+"",i;return{c(){e=I("span"),n=B("x"),i=B(o),N(e,"class","bg-black text-xs text-white tex px-1 py-0.5 rounded-2xl absolute top-[-5px] left-[-2px]")},m(r,l){M(r,e,l),g(e,n),g(e,i)},p(r,l){l[0]&120&&o!==(o=He(r[28].id,r[5]).length+"")&&re(i,o)},d(r){r&&T(e)}}}function vf(t){let e,n,o=xt(t[28].revenue_per_week,!1)+"",i,r;return{c(){e=I("br"),n=B(`
                            Makes 💰 `),i=B(o),r=B("/week")},m(l,a){M(l,e,a),M(l,n,a),M(l,i,a),M(l,r,a)},p(l,a){a[0]&88&&o!==(o=xt(l[28].revenue_per_week,!1)+"")&&re(i,o)},d(l){l&&(T(e),T(n),T(i),T(r))}}}function yf(t){let e,n,o=xt(t[28].requirements.employees,!1)+"",i;return{c(){e=I("br"),n=B(`
                            Employs `),i=B(o)},m(r,l){M(r,e,l),M(r,n,l),M(r,i,l)},p(r,l){l[0]&88&&o!==(o=xt(r[28].requirements.employees,!1)+"")&&re(i,o)},d(r){r&&(T(e),T(n),T(i))}}}function o4(t){let e,n,o,i=(t[28].selected?"✅":Is(t[28].title))+"",r,l,a,s=t[28].title.substring(2)+"",u,f,c,d=He(t[28].id,t[5]).length>0,m,p,_,b=xt(t[28].requirements.gold,!1)+"",k,C,w,R,L,D,E=t[28].active_costs.power>0&&gf(t),G=d&&bf(t),$=t[28].revenue_per_week>0&&vf(t),W=t[28].requirements.employees>0&&yf(t);return{c(){e=I("div"),n=I("div"),o=I("span"),r=B(i),l=q(),a=I("span"),u=B(s),f=q(),E&&E.c(),c=q(),G&&G.c(),m=q(),p=I("span"),_=B("Costs 💰 "),k=B(b),C=q(),$&&$.c(),w=q(),W&&W.c(),N(o,"class","text-md text-center"),N(a,"class","text-xs text-center font-bold mx-1"),N(n,"class","pt-2"),N(p,"style",R=t[28].styling),N(p,"class","text-xs text-center pt-4"),N(e,"class",L="plotOption cursor-pointer min-w-40 "+(t[6].isMineralSource||t[3].length>0?"mx-1 my-2":"")+" relative h-[120px] rounded-xl flex flex-col align-middle transition-all duration-100 "+(t[28].affordable||t[28].selected?"cursor-pointer":"opacity-40 cursor-not-allowed ")+" "+(t[28].selected?"border-4 border-yellow-200 opacity-100 rounded-none":"")),N(e,"data-plotoptionid",D=t[28].id),Je(e,"background-color",Gi(Se(t[28].id),!0))},m(y,v){M(y,e,v),g(e,n),g(n,o),g(o,r),g(n,l),g(n,a),g(a,u),g(e,f),E&&E.m(e,null),g(e,c),G&&G.m(e,null),g(e,m),g(e,p),g(p,_),g(p,k),g(p,C),$&&$.m(p,null),g(p,w),W&&W.m(p,null)},p(y,v){v[0]&88&&i!==(i=(y[28].selected?"✅":Is(y[28].title))+"")&&re(r,i),v[0]&88&&s!==(s=y[28].title.substring(2)+"")&&re(u,s),y[28].active_costs.power>0?E?E.p(y,v):(E=gf(y),E.c(),E.m(e,c)):E&&(E.d(1),E=null),v[0]&120&&(d=He(y[28].id,y[5]).length>0),d?G?G.p(y,v):(G=bf(y),G.c(),G.m(e,m)):G&&(G.d(1),G=null),v[0]&88&&b!==(b=xt(y[28].requirements.gold,!1)+"")&&re(k,b),y[28].revenue_per_week>0?$?$.p(y,v):($=vf(y),$.c(),$.m(p,w)):$&&($.d(1),$=null),y[28].requirements.employees>0?W?W.p(y,v):(W=yf(y),W.c(),W.m(p,null)):W&&(W.d(1),W=null),v[0]&88&&R!==(R=y[28].styling)&&N(p,"style",R),v[0]&88&&L!==(L="plotOption cursor-pointer min-w-40 "+(y[6].isMineralSource||y[3].length>0?"mx-1 my-2":"")+" relative h-[120px] rounded-xl flex flex-col align-middle transition-all duration-100 "+(y[28].affordable||y[28].selected?"cursor-pointer":"opacity-40 cursor-not-allowed ")+" "+(y[28].selected?"border-4 border-yellow-200 opacity-100 rounded-none":""))&&N(e,"class",L),v[0]&88&&D!==(D=y[28].id)&&N(e,"data-plotoptionid",D),v[0]&88&&Je(e,"background-color",Gi(Se(y[28].id),!0))},d(y){y&&T(e),E&&E.d(),G&&G.d(),$&&$.d(),W&&W.d()}}}function i4(t){let e,n;return e=new $d({props:{option:t[28]}}),{c(){J(e.$$.fragment)},m(o,i){K(e,o,i),n=!0},p(o,i){const r={};i[0]&88&&(r.option=o[28]),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function r4(t){let e,n,o,i;return e=new Po({props:{$$slots:{default:[o4]},$$scope:{ctx:t}}}),o=new Io({props:{$$slots:{default:[i4]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=q(),J(o.$$.fragment)},m(r,l){K(e,r,l),M(r,n,l),K(o,r,l),i=!0},p(r,l){const a={};l[0]&120|l[1]&1&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l[0]&88|l[1]&1&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function wf(t,e){let n,o,i;return o=new Oo({props:{openDelay:400,closeDelay:0,$$slots:{default:[r4]},$$scope:{ctx:e}}}),{key:t,first:null,c(){n=Re(),J(o.$$.fragment),this.first=n},m(r,l){M(r,n,l),K(o,r,l),i=!0},p(r,l){e=r;const a={};l[0]&120|l[1]&1&&(a.$$scope={dirty:l,ctx:e}),o.$set(a)},i(r){i||(A(o.$$.fragment,r),i=!0)},o(r){S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(o,r)}}}function kf(t){let e;return{c(){e=I("span"),e.textContent="No plots available!",N(e,"class","text-sm pt-2")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Cf(t){let e,n,o,i=[],r=new Map,l,a=t[4].filter(c).length===0&&t[3].length==0&&!t[6].isMineralSource,s,u,f;function c(...k){return t[15](t[25],...k)}let d=t[3].length==0&&!t[6].isMineralSource&&_f(t);function m(...k){return t[18](t[25],...k)}let p=Ue(t[3].length==0&&!t[6].isMineralSource?t[4].filter(m):t[4]);const _=k=>k[28].id;for(let k=0;k<p.length;k+=1){let C=mf(t,p,k),w=_(C);r.set(w,i[k]=wf(w,C))}let b=a&&kf();return{c(){e=I("div"),d&&d.c(),n=q(),o=I("div");for(let k=0;k<i.length;k+=1)i[k].c();l=q(),b&&b.c(),u=q(),N(o,"class",s="flex flex-row text-start justify-start items-start flex-wrap "+(t[6].isMineralSource||t[3].length>0?"pt-0 gap-0":"pt-2 gap-4")+" w-full align-middle")},m(k,C){M(k,e,C),d&&d.m(e,null),g(e,n),g(e,o);for(let w=0;w<i.length;w+=1)i[w]&&i[w].m(o,null);g(o,l),b&&b.m(o,null),g(e,u),f=!0},p(k,C){t=k,t[3].length==0&&!t[6].isMineralSource?d?d.p(t,C):(d=_f(t),d.c(),d.m(e,n)):d&&(d.d(1),d=null),C[0]&120&&(p=Ue(t[3].length==0&&!t[6].isMineralSource?t[4].filter(m):t[4]),Ie(),i=om(i,C,_,1,t,p,r,o,nm,wf,l,mf),Oe()),C[0]&88&&(a=t[4].filter(c).length===0&&t[3].length==0&&!t[6].isMineralSource),a?b||(b=kf(),b.c(),b.m(o,null)):b&&(b.d(1),b=null),(!f||C[0]&72&&s!==(s="flex flex-row text-start justify-start items-start flex-wrap "+(t[6].isMineralSource||t[3].length>0?"pt-0 gap-0":"pt-2 gap-4")+" w-full align-middle"))&&N(o,"class",s)},i(k){if(!f){for(let C=0;C<p.length;C+=1)A(i[C]);f=!0}},o(k){for(let C=0;C<i.length;C+=1)S(i[C]);f=!1},d(k){k&&T(e),d&&d.d();for(let C=0;C<i.length;C+=1)i[C].d();b&&b.d()}}}function l4(t){let e,n,o=t[2]&&pf(t);return{c(){o&&o.c(),e=Re()},m(i,r){o&&o.m(i,r),M(i,e,r),n=!0},p(i,r){i[2]?o?(o.p(i,r),r[0]&4&&A(o,1)):(o=pf(i),o.c(),A(o,1),o.m(e.parentNode,e)):o&&(Ie(),S(o,1,1,()=>{o=null}),Oe())},i(i){n||(A(o),n=!0)},o(i){S(o),n=!1},d(i){i&&T(e),o&&o.d(i)}}}function s4(t,e,n){let o,i,r;ae(t,Pe,y=>n(5,o=y)),ae(t,Qe,y=>n(6,i=y)),ae(t,ac,y=>n(7,r=y));let{x:l=0}=e,{y:a=0}=e,{open:s=!1}=e,{tooltip:u=""}=e,f="",c=ie,d;const m=Math.round(window.innerHeight*.2)+"px";let p=c.map(y=>Object.assign(Object.assign({},y),{affordable:k(y,o),selected:b(y)}));function _(y){n(3,f=y.target.value||"")}function b(y){return o.plots[l][a].type>-1?c[o.plots[l][a].type].id===y.id:!1}function k(y,v){let O=!0;y.requirements.gold>v.townInfo.gold&&(O=!1);let P=v.townInfo.population_count-v.townInfo.employees;return y.requirements.employees!==void 0&&y.requirements.employees>0&&y.requirements.employees>P&&(O=!1),y.requirements.knowledge!==void 0&&y.requirements.knowledge>v.townInfo.knowledge_points&&(O=!1),y.requirements.resources!==void 0&&Object.keys(y.requirements.resources).forEach(H=>{y.requirements.resources[H]!=0&&o.resources[H]<y.requirements.resources[H]&&(O=!1)}),O}function C(y){const v=y.target.closest(".plotOption");if(v){const O=v.dataset.plotoptionid;w(O)}}function w(y){document.querySelectorAll(".plotOption").forEach(P=>{P.classList.remove("active")});const O=document.querySelector(`[data-plotoptionid="${y}"]`);O&&(O.classList.add("active"),L(l,a,y))}function R(y,v){if(i.isMineralSource)return!1;let O=0;return y>0&&o.plots[y-1][v].type!==-1&&O++,y<o.plots.length-1&&o.plots[y+1][v].type!==-1&&O++,v>0&&o.plots[y][v-1].type!==-1&&O++,v<o.plots[0].length-1&&o.plots[y][v+1].type!==-1&&O++,O<=4}function L(y,v,O){let P=o;const H=ie.findIndex(z=>z.id===O);let F=ie[H];if(k(F,o)==!1)return Pt.set(`${JSON.stringify(F.requirements)}`);if(F.requirements.adjacent_plots!==void 0){let z=F.requirements.adjacent_plots;if(Qm(y,v,P,F.requirements.adjacent_plots)===!1)return Pt.set(`This plot requires adjacent plots of type: ${z.join(", ")}`)}let Q=!0;if((F.requirements.gold>P.townInfo.gold||F.requirements.employees>P.townInfo.population_count-P.townInfo.employees)&&(Q=!1),F.requirements.size!=null&&F.requirements.size!=1&&Q){let V=function(U,ee){let Z={x:U,y:ee};return Z.x===0&&Z.y===0?!0:[{x:Z.x-1,y:Z.y},{x:Z.x+1,y:Z.y},{x:Z.x,y:Z.y-1},{x:Z.x,y:Z.y+1}].some(_e=>_e.x<0||_e.x>o.plots.length-1||_e.y<0||_e.y>o.plots.length-1?!1:o.plots[_e.x][_e.y].active)};var ne=V;let z=F.requirements.size,Y=[],h=c[H].title.toLowerCase().indexOf("school")!=-1;for(let U=0;U<4;U++){let ee=[[y,v]];U===0?(ee.push([y-(z-1),v-(z-1)]),ee.push([y-(z-1),v]),ee.push([y,v-(z-1)])):U===1?(ee.push([y,v-(z-1)]),ee.push([y+(z-1),v-(z-1)]),ee.push([y+(z-1),v])):U===2?(ee.push([y-(z-1),v]),ee.push([y-(z-1),v+(z-1)]),ee.push([y,v+(z-1)])):U===3&&(ee.push([y,v+(z-1)]),ee.push([y+(z-1),v+(z-1)]),ee.push([y+(z-1),v])),Y.push(ee)}Y=Y.filter(U=>U.every(ee=>ee[0]>=0&&ee[0]<=P.plots.length-1&&ee[1]>=0&&ee[1]<=P.plots.length-1&&!P.plots[ee[0]][ee[1]].active&&V(ee[0],ee[1])==!0)),Y.length===0?Q=!1:Y.length>0&&Y[0].forEach(ee=>{P.plots[ee[0]][ee[1]].active=!0,P.plots[ee[0]][ee[1]].type=h?-3:-2,P.plots[ee[0]][ee[1]].referencePlot=[y,v]})}if(Q===!0){if(P.plots[y][v].type!==-1&&Vi(y,v,P),n(14,u=""),P.plots[y][v].type=H,P.plots[y][v].active=!0,P.plots[y][v].referencePlot=[],P.plots[y][v].typeId=F.id,P.townInfo.gold-=F.requirements.gold,P.townInfo.gold=it(P.townInfo.gold,2),P.townInfo.population_count+=F.immediate_variable_changes.population,P.townInfo.population_max+=F.immediate_variable_changes.population,P.townInfo.happiness+=F.immediate_variable_changes.happiness,P.townInfo.health+=F.immediate_variable_changes.health,P.modifiers.happiness=it(P.modifiers.happiness*F.effect_modifiers.happiness,2),P.modifiers.health=it(P.modifiers.health*F.effect_modifiers.health,2),P.modifiers.community=it(P.modifiers.community*F.effect_modifiers.community,2),P.townInfo.employees+=F.requirements.employees,(P.plotCounts[H]===void 0||P.plotCounts[H]===null)&&(P.plotCounts[H]=0),P.plotCounts[H]++,P.lastChangeDay=P.environment.day,F.requirements.resources!==void 0){const Y=F.requirements.resources;P.resources.food-=Y.food,P.resources.wood-=Y.wood,P.resources.stone-=Y.stone,P.resources.metal-=Y.metal}switch(F.id){case"city_hall":P.hasCityHall=!0;break;case"bank":P.hasBank=!0;break}Pe.set(P),localStorage.setItem(Gt,JSON.stringify(P));let z=!1;for(let Y=y;Y<P.plots.length;Y++){for(let h=v;h<P.plots[Y].length;h++)if(P.plots[Y][h].active===!1&&P.plots[Y][h].mineralSource==!1&&P.plots[Y][h].water==!1){y=Y,v=h,z=!0;break}if(z)break}Me(Qe,i.x=y,i),Me(Qe,i.y=v,i)}else n(14,u="You do not have enough resources to purchase this plot. If it's a 'Large' plot, make sure you have a 2x2 area available. "),document.querySelectorAll(".plotOption").forEach(Y=>{Y.classList.remove("active")})}function D(){document.querySelectorAll(".plotOption").forEach(v=>{v.classList.remove("active")}),Vi(l,a,o)}const E=(y,v)=>v.level===y;function G(y){Ne[y?"unshift":"push"](()=>{d=y,n(8,d)})}const $=()=>{pm()},W=(y,v)=>v.level===y;return t.$$set=y=>{"x"in y&&n(0,l=y.x),"y"in y&&n(1,a=y.y),"open"in y&&n(2,s=y.open),"tooltip"in y&&n(14,u=y.tooltip)},t.$$.update=()=>{t.$$.dirty[0]&240&&o&&(n(4,p=c.map(y=>Object.assign(Object.assign({},y),{affordable:k(y,o),selected:b(y)}))),i.isMineralSource&&n(4,p=p.filter(y=>y.id==="mine")),r&&n(4,p=p.filter(y=>y.affordable)),Object.keys(Cs).forEach(y=>{let v=Cs[y];if(v>0){let O=He(y,o).length;n(4,p=p.filter(P=>P.id!==y||O<v))}}),p.sort((y,v)=>y.selected&&!v.selected?-1:0)),t.$$.dirty[0]&24&&n(4,p=p.filter(y=>y.title.toLowerCase().includes(f.toLowerCase())))},[l,a,s,f,p,o,i,r,d,m,_,C,R,D,u,E,G,$,W]}class Rd extends be{constructor(e){super(),ge(this,e,s4,l4,fe,{x:0,y:1,open:2,tooltip:14},null,[-1,-1])}}function a4(t){let e,n,o;return{c(){e=I("span"),n=B("My liege, if you build a City Hall, you can expand your city "),o=B(t[0]),N(e,"class","text-xs")},m(i,r){M(i,e,r),g(e,n),g(e,o)},p(i,r){r&1&&re(o,i[0])},i:ke,o:ke,d(i){i&&T(e)}}}function u4(t){let e,n;return e=new Mt({props:{class:"bg-button h-max rounded-2xl hover:scale-110 transition-transform duration-200 ease-in-out hover:drop-shadow-2xl",$$slots:{default:[f4]},$$scope:{ctx:t}}}),e.$on("click",t[2]),{c(){J(e.$$.fragment)},m(o,i){K(e,o,i),n=!0},p(o,i){const r={};i&11&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function f4(t){let e,n,o,i,r,l=t[0].toUpperCase()+"",a,s,u,f,c,d,m,p,_,b,k,C=Math.round(Math.pow(1.5,t[1].kingdom_expansions+5))+"",w,R,L,D;return{c(){e=I("div"),n=B("spanMy liege, you can expand your "),o=I("br"),i=B(`kingdom
        `),r=I("span"),a=B(l),s=B(`
        using
        `),u=I("br"),f=B(`your
        `),c=I("span"),c.textContent="City Hall",d=B("!"),m=I("br"),p=I("br"),_=q(),b=I("span"),k=B("Requires "),w=B(C),R=B(` Guardians
          `),L=I("br"),D=B("to be employed. (see city mgmt menu)"),N(r,"class","font-extrabold text-blue-200"),N(c,"class","text-blue-200 bold"),N(b,"class","opacity-75 text-xs")},m(E,G){M(E,e,G),g(e,n),g(e,o),g(e,i),g(e,r),g(r,a),g(e,s),g(e,u),g(e,f),g(e,c),g(e,d),g(e,m),g(e,p),g(e,_),g(e,b),g(b,k),g(b,w),g(b,R),g(b,L),g(b,D)},p(E,G){G&1&&l!==(l=E[0].toUpperCase()+"")&&re(a,l),G&2&&C!==(C=Math.round(Math.pow(1.5,E[1].kingdom_expansions+5))+"")&&re(w,C)},d(E){E&&T(e)}}}function c4(t){let e,n,o,i,r;const l=[u4,a4],a=[];function s(u,f){return f&2&&(n=null),n==null&&(n=He("city_hall",u[1]).length>0),n?0:1}return o=s(t,-1),i=a[o]=l[o](t),{c(){e=I("div"),i.c(),N(e,"class","w-48 h-max")},m(u,f){M(u,e,f),a[o].m(e,null),r=!0},p(u,[f]){let c=o;o=s(u,f),o===c?a[o].p(u,f):(Ie(),S(a[c],1,1,()=>{a[c]=null}),Oe(),i=a[o],i?i.p(u,f):(i=a[o]=l[o](u),i.c()),A(i,1),i.m(e,null))},i(u){r||(A(i),r=!0)},o(u){S(i),r=!1},d(u){u&&T(e),a[o].d()}}}function d4(t,e,n){let o;ae(t,Pe,l=>n(1,o=l));let{direction:i}=e;const r=()=>{const l=mm(o,i);l&&Pt.set(l)};return t.$$set=l=>{"direction"in l&&n(0,i=l.direction)},[i,o,r]}class Af extends be{constructor(e){super(),ge(this,e,d4,c4,fe,{direction:0})}}function m4(t){return{c:ke,m:ke,p:ke,d:ke}}function p4(t){let e,n,o,i=ie[t[0].type].title.substring(0,2)+"",r,l,a,s,u,f=ie[t[0].type].title.substring(2)+"",c,d,m,p;return{c(){e=I("div"),n=I("span"),o=I("span"),r=B(i),l=q(),a=I("br"),s=q(),u=I("span"),c=B(f),N(o,"class","text-lg align-text-top select-none"),N(u,"class","text-xs align-text-top font-normal text-black from-stone-600 select-none"),N(n,"data-size",d=ie[t[0].type].requirements.size),N(n,"data-x",m=t[0].x),N(n,"data-y",p=t[0].y),N(e,"class","svelte-9dbw4v")},m(_,b){M(_,e,b),g(e,n),g(n,o),g(o,r),g(n,l),g(n,a),g(n,s),g(n,u),g(u,c)},p(_,b){b&1&&i!==(i=ie[_[0].type].title.substring(0,2)+"")&&re(r,i),b&1&&f!==(f=ie[_[0].type].title.substring(2)+"")&&re(c,f),b&1&&d!==(d=ie[_[0].type].requirements.size)&&N(n,"data-size",d),b&1&&m!==(m=_[0].x)&&N(n,"data-x",m),b&1&&p!==(p=_[0].y)&&N(n,"data-y",p)},d(_){_&&T(e)}}}function Sf(t){let e;return{c(){e=I("span"),e.textContent="🧲",N(e,"class","text-lg")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function h4(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,p,_,b,k,C,w;function R(G,$){if(G[0].type>-1)return p4;if(G[0].type==-1&&G[0].x==0&&G[0].y==0)return m4}let L=R(t),D=L&&L(t),E=t[0].mineralSource&&t[0].type==-1&&Sf();return{c(){e=I("button"),D&&D.c(),n=q(),E&&E.c(),N(e,"class",o="plot_container "+t[1]+" overflow-visible "+(t[0].type==-1&&t[2]==!1,"")+" "+(t[0].mineralSource?"hidden":"")+" "+(t[2]?"cursor-pointer":"cursor-not-allowed")+" "+(t[0].disabled?"animate-spin":"")+" svelte-9dbw4v"),Je(e,"background-color",t[0].water?"bg-blue-900 opacity-100":t[4].x==t[0].x&&t[4].y==t[0].y&&t[4].visible?"white":t[0].mineralSource?"black":Gi(t[0].type,t[2])),N(e,"data-active",i=t[0].active),N(e,"data-hidehoveranimation",r=t[4].visible||t[0].type==-1&&t[0].x==0&&t[0].y==0),N(e,"data-id",l=t[0].id),N(e,"data-x",a=t[0].x),N(e,"data-y",s=t[0].y),N(e,"data-optionindex",u=t[0].optionIndex),N(e,"data-canbeupgraded",t[2]),N(e,"data-type",f=t[0].type),N(e,"data-type-id",c=t[0].typeId),N(e,"data-refplotx",d=t[0].referencePlot!==void 0?t[0].referencePlot[1]:null),N(e,"data-refploty",m=t[0].referencePlot!==void 0?t[0].referencePlot[0]:null),N(e,"data-size",p=t[0].type>-1?ie[t[0].type].requirements.size:null),N(e,"data-mineralsource",_=t[0].mineralSource),N(e,"data-water",b=t[0].water),N(e,"data-nearwater",k=Fn(t[0].x,t[0].y,t[5]))},m(G,$){M(G,e,$),D&&D.m(e,null),g(e,n),E&&E.m(e,null),C||(w=te(e,"click",function(){fn(t[0].water?null:t[6])&&(t[0].water?null:t[6]).apply(this,arguments)}),C=!0)},p(G,$){t=G,L===(L=R(t))&&D?D.p(t,$):(D&&D.d(1),D=L&&L(t),D&&(D.c(),D.m(e,n))),t[0].mineralSource&&t[0].type==-1?E||(E=Sf(),E.c(),E.m(e,null)):E&&(E.d(1),E=null),$&7&&o!==(o="plot_container "+t[1]+" overflow-visible "+(t[0].type==-1&&t[2]==!1,"")+" "+(t[0].mineralSource?"hidden":"")+" "+(t[2]?"cursor-pointer":"cursor-not-allowed")+" "+(t[0].disabled?"animate-spin":"")+" svelte-9dbw4v")&&N(e,"class",o),$&21&&Je(e,"background-color",t[0].water?"bg-blue-900 opacity-100":t[4].x==t[0].x&&t[4].y==t[0].y&&t[4].visible?"white":t[0].mineralSource?"black":Gi(t[0].type,t[2])),$&1&&i!==(i=t[0].active)&&N(e,"data-active",i),$&17&&r!==(r=t[4].visible||t[0].type==-1&&t[0].x==0&&t[0].y==0)&&N(e,"data-hidehoveranimation",r),$&1&&l!==(l=t[0].id)&&N(e,"data-id",l),$&1&&a!==(a=t[0].x)&&N(e,"data-x",a),$&1&&s!==(s=t[0].y)&&N(e,"data-y",s),$&1&&u!==(u=t[0].optionIndex)&&N(e,"data-optionindex",u),$&4&&N(e,"data-canbeupgraded",t[2]),$&1&&f!==(f=t[0].type)&&N(e,"data-type",f),$&1&&c!==(c=t[0].typeId)&&N(e,"data-type-id",c),$&1&&d!==(d=t[0].referencePlot!==void 0?t[0].referencePlot[1]:null)&&N(e,"data-refplotx",d),$&1&&m!==(m=t[0].referencePlot!==void 0?t[0].referencePlot[0]:null)&&N(e,"data-refploty",m),$&1&&p!==(p=t[0].type>-1?ie[t[0].type].requirements.size:null)&&N(e,"data-size",p),$&1&&_!==(_=t[0].mineralSource)&&N(e,"data-mineralsource",_),$&1&&b!==(b=t[0].water)&&N(e,"data-water",b),$&33&&k!==(k=Fn(t[0].x,t[0].y,t[5]))&&N(e,"data-nearwater",k)},d(G){G&&T(e),D&&D.d(),E&&E.d(),C=!1,w()}}}function Tf(t){let e;return{c(){e=B("Water - Place farms nearby for more food & revenue!")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Mf(t){let e;return{c(){e=I("span"),e.textContent="Near water - Generating more food & revenue!",N(e,"class","text-xs bg-blue-500 text-white p-1")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function If(t){let e,n;return e=new $d({props:{option:t[3],checkRequirements:!1}}),{c(){J(e.$$.fragment)},m(o,i){K(e,o,i),n=!0},p(o,i){const r={};i&8&&(r.option=o[3]),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function _4(t){let e,n,o=Fn(t[0].x,t[0].y,t[5]),i,r,l=t[0].water&&Tf(),a=o&&Mf(),s=t[0].active&&If(t);return{c(){e=I("div"),l&&l.c(),n=q(),a&&a.c(),i=q(),s&&s.c(),N(e,"class","flex flex-col gap-2")},m(u,f){M(u,e,f),l&&l.m(e,null),g(e,n),a&&a.m(e,null),g(e,i),s&&s.m(e,null),r=!0},p(u,f){u[0].water?l||(l=Tf(),l.c(),l.m(e,n)):l&&(l.d(1),l=null),f&33&&(o=Fn(u[0].x,u[0].y,u[5])),o?a||(a=Mf(),a.c(),a.m(e,i)):a&&(a.d(1),a=null),u[0].active?s?(s.p(u,f),f&1&&A(s,1)):(s=If(u),s.c(),A(s,1),s.m(e,null)):s&&(Ie(),S(s,1,1,()=>{s=null}),Oe())},i(u){r||(A(s),r=!0)},o(u){S(s),r=!1},d(u){u&&T(e),l&&l.d(),a&&a.d(),s&&s.d()}}}function g4(t){let e,n,o,i;return e=new Po({props:{$$slots:{default:[h4]},$$scope:{ctx:t}}}),o=new Io({props:{class:t[0].type<0&&!t[0].water?"hidden":"",$$slots:{default:[_4]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=q(),J(o.$$.fragment)},m(r,l){K(e,r,l),M(r,n,l),K(o,r,l),i=!0},p(r,l){const a={};l&1079&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&1&&(s.class=r[0].type<0&&!r[0].water?"hidden":""),l&1065&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function b4(t){let e,n;return e=new Oo({props:{openDelay:400,closeDelay:0,$$slots:{default:[g4]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){K(e,o,i),n=!0},p(o,[i]){const r={};i&1087&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function v4(t,e,n){let o,i,r,l;ae(t,Qe,m=>n(4,o=m)),ae(t,Pe,m=>n(5,i=m)),ae(t,Rt,m=>n(8,r=m)),ae(t,ho,m=>n(9,l=m));let{data:a={id:0,active:!1,x:0,y:0,type:-1,styling:"",referencePlot:[],mineralSource:!1,disabled:!1,water:!1}}=e,s,{classText:u=""}=e,{canBeUpgraded:f=!1}=e;function c(m,p,_){let b=document.querySelectorAll(".plot_container");if(r==!1){if(a.referencePlot!=null&&a.referencePlot[0]!==null&&p==null&&_==null&&a.referencePlot[1]!==void 0)return c(m,a.referencePlot[0],a.referencePlot[1]);!a.active&&!f?(Me(ho,l={},l),Me(Qe,o.visible=!1,o),b.forEach(k=>{k.classList.remove("selected")})):(p!=null&&_!=null?(Me(Qe,o.x=p,o),Me(Qe,o.y=_,o)):(Me(Qe,o.x=a.x,o),Me(Qe,o.y=a.y,o)),Me(Qe,o.isMineralSource=a.mineralSource,o),Me(Qe,o.visible=!0,o),b.forEach(k=>{k.classList.remove("selected")}),p!=null&&_!=null?document.querySelector(`.plot_container[data-x="${p}"][data-y="${_}"]`).classList.add("selected"):document.querySelector(`.plot_container[data-id="${a.id}"]`).classList.add("selected"))}}function d(m){r==!1&&(Me(Pe,i.plots[a.x][a.y].type=m,i),Me(Qe,o.visible=!1,o))}return t.$$set=m=>{"data"in m&&n(0,a=m.data),"classText"in m&&n(1,u=m.classText),"canBeUpgraded"in m&&n(2,f=m.canBeUpgraded)},t.$$.update=()=>{t.$$.dirty&1&&a.type>-1&&n(3,s=ie[a.type])},[a,u,f,s,o,i,c,d]}class y4 extends be{constructor(e){super(),ge(this,e,v4,b4,fe,{data:0,classText:1,canBeUpgraded:2,changePlotType:7})}get changePlotType(){return this.$$.ctx[7]}}function Of(t,e,n){const o=t.slice();return o[6]=e[n],o[8]=n,o}function Pf(t,e,n){const o=t.slice();return o[9]=e[n],o}function Nf(t){let e,n,o,i,r,l,a,s,u,f,c,d=t[3],m,p,_=Ue(t[2].plots),b=[];for(let w=0;w<_.length;w+=1)b[w]=$f(Of(t,_,w));const k=w=>S(b[w],1,1,()=>{b[w]=null});a=new Af({props:{direction:"east"}}),f=new Af({props:{direction:"south"}});let C=Df(t);return{c(){e=I("div"),n=I("div"),o=I("div"),i=I("div");for(let w=0;w<b.length;w+=1)b[w].c();r=q(),l=I("span"),J(a.$$.fragment),s=q(),u=I("span"),J(f.$$.fragment),c=q(),C.c(),m=Re(),N(i,"class","grid plot_controller svelte-1bzj7j4"),N(o,"class","flex flex-row items-center"),N(n,"id","plotContainerMain"),N(n,"class","absolute left-[170px] items-center h-max flex flex-col top-[170px] pl-16 pt-16 pb-80 pr-80 bg-background svelte-1bzj7j4"),N(e,"class","flex flex-col")},m(w,R){M(w,e,R),g(e,n),g(n,o),g(o,i);for(let L=0;L<b.length;L+=1)b[L]&&b[L].m(i,null);g(o,r),g(o,l),K(a,l,null),g(n,s),g(n,u),K(f,u,null),M(w,c,R),C.m(w,R),M(w,m,R),p=!0},p(w,R){if(R&7){_=Ue(w[2].plots);let L;for(L=0;L<_.length;L+=1){const D=Of(w,_,L);b[L]?(b[L].p(D,R),A(b[L],1)):(b[L]=$f(D),b[L].c(),A(b[L],1),b[L].m(i,null))}for(Ie(),L=_.length;L<b.length;L+=1)k(L);Oe()}R&8&&fe(d,d=w[3])?(Ie(),S(C,1,1,ke),Oe(),C=Df(w),C.c(),A(C,1),C.m(m.parentNode,m)):C.p(w,R)},i(w){if(!p){for(let R=0;R<_.length;R+=1)A(b[R]);A(a.$$.fragment,w),A(f.$$.fragment,w),A(C),p=!0}},o(w){b=b.filter(Boolean);for(let R=0;R<b.length;R+=1)S(b[R]);S(a.$$.fragment,w),S(f.$$.fragment,w),S(C),p=!1},d(w){w&&(T(e),T(c),T(m)),_t(b,w),X(a),X(f),C.d(w)}}}function Ef(t){let e,n;return e=new y4({props:{classText:"hexagon",data:t[9],canBeUpgraded:t[0](t[9].x,t[9].y)}}),{c(){J(e.$$.fragment)},m(o,i){K(e,o,i),n=!0},p(o,i){const r={};i&4&&(r.data=o[9]),i&4&&(r.canBeUpgraded=o[0](o[9].x,o[9].y)),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function $f(t){let e,n,o,i,r,l=Ue(t[6]),a=[];for(let u=0;u<l.length;u+=1)a[u]=Ef(Pf(t,l,u));const s=u=>S(a[u],1,1,()=>{a[u]=null});return{c(){e=I("div");for(let u=0;u<a.length;u+=1)a[u].c();n=q(),N(e,"class","row "+(t[8]%2!==0?"odd-row":"")+" svelte-1bzj7j4")},m(u,f){M(u,e,f);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(e,null);g(e,n),o=!0,i||(r=te(e,"click",t[1]),i=!0)},p(u,f){if(f&5){l=Ue(u[6]);let c;for(c=0;c<l.length;c+=1){const d=Pf(u,l,c);a[c]?(a[c].p(d,f),A(a[c],1)):(a[c]=Ef(d),a[c].c(),A(a[c],1),a[c].m(e,n))}for(Ie(),c=l.length;c<a.length;c+=1)s(c);Oe()}},i(u){if(!o){for(let f=0;f<l.length;f+=1)A(a[f]);o=!0}},o(u){a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)S(a[f]);o=!1},d(u){u&&T(e),_t(a,u),i=!1,r()}}}function Rf(t){let e,n;return e=new Rd({props:{x:t[4].x,y:t[4].y,open:t[4].visible}}),{c(){J(e.$$.fragment)},m(o,i){K(e,o,i),n=!0},p(o,i){const r={};i&16&&(r.x=o[4].x),i&16&&(r.y=o[4].y),i&16&&(r.open=o[4].visible),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function Df(t){let e,n,o=t[4].visible&&Rf(t);return{c(){o&&o.c(),e=Re()},m(i,r){o&&o.m(i,r),M(i,e,r),n=!0},p(i,r){i[4].visible?o?(o.p(i,r),r&16&&A(o,1)):(o=Rf(i),o.c(),A(o,1),o.m(e.parentNode,e)):o&&(Ie(),S(o,1,1,()=>{o=null}),Oe())},i(i){n||(A(o),n=!0)},o(i){S(o),n=!1},d(i){i&&T(e),o&&o.d(i)}}}function w4(t){let e,n,o=t[2]!=null&&Nf(t);return{c(){o&&o.c(),e=Re()},m(i,r){o&&o.m(i,r),M(i,e,r),n=!0},p(i,[r]){i[2]!=null?o?(o.p(i,r),r&4&&A(o,1)):(o=Nf(i),o.c(),A(o,1),o.m(e.parentNode,e)):o&&(Ie(),S(o,1,1,()=>{o=null}),Oe())},i(i){n||(A(o),n=!0)},o(i){S(o),n=!1},d(i){i&&T(e),o&&o.d(i)}}}function k4(t,e,n){let o,i,r;ae(t,ho,u=>n(3,o=u)),ae(t,Pe,u=>n(2,i=u)),ae(t,Qe,u=>n(4,r=u)),document.addEventListener("click",function(u){const f=u.target;(f.dataset.x==null&&f.dataset.type!="-1"&&f.dataset.size!=null||f.id=="plotContainerMain"||f.classList.contains("row")||f.classList.contains("grid"))&&Me(Qe,r.visible=!1,r)});function l(u,f){let c={x:u,y:f};return c.x===0&&c.y===0?!0:[{x:c.x-1,y:c.y},{x:c.x+1,y:c.y},{x:c.x,y:c.y-1},{x:c.x,y:c.y+1}].some(m=>m.x<0||m.x>=i.plots.length||m.y<0||m.y>=i.plots[m.x].length?!1:i.plots[m.x][m.y].active)}function a(){let u=[];for(let f=0;f<i.plots.length;f++)for(let c=0;c<i.plots.length;c++)l(f,c)&&i.plots[f][c].active==!1&&u.push(i.plots[f][c])}function s(){Me(ho,o={},o)}return t.$$.update=()=>{t.$$.dirty&4&&i&&a()},[l,s,i,o,r]}class C4 extends be{constructor(e){super(),ge(this,e,k4,w4,fe,{checkIfPlotCanBeUpgraded:0,restartModifyPlotMenu:1})}get checkIfPlotCanBeUpgraded(){return this.$$.ctx[0]}get restartModifyPlotMenu(){return this.$$.ctx[1]}}function Lf(t,e,n){const o=t.slice();return o[3]=e[n],o}function Ff(t){let e,n=t[3].day+"",o,i,r,l=t[3].message+"",a,s,u;return{c(){e=I("p"),o=B(n),i=q(),r=I("p"),a=B(l),s=q(),u=I("br"),N(e,"class","text-sm"),N(r,"class","text-xs")},m(f,c){M(f,e,c),g(e,o),M(f,i,c),M(f,r,c),g(r,a),M(f,s,c),M(f,u,c)},p(f,c){c&2&&n!==(n=f[3].day+"")&&re(o,n),c&2&&l!==(l=f[3].message+"")&&re(a,l)},d(f){f&&(T(e),T(i),T(r),T(s),T(u))}}}function A4(t){let e,n,o,i,r,l,a,s,u,f=Ue(t[1].townLog),c=[];for(let d=0;d<f.length;d+=1)c[d]=Ff(Lf(t,f,d));return{c(){e=I("div"),n=I("div"),o=I("h1"),o.textContent="Alerts",i=q();for(let d=0;d<c.length;d+=1)c[d].c();r=q(),l=I("ul"),N(o,"class","text-xl w-full pb-2 text-center cursor-pointer "),N(l,"class","list-disc pl-5 gap-2 flex flex-col text-xs "),N(n,"class",a="bg-foreground w-[160px] border-foregroundDark border-4 "+(t[0].visible?"bottom-8  opacity-70":"bottom-2")+" z-10 fixed left-3 p-3 top-[190px] drop-shadow-xl rounded-xl transition-all duration-300"),N(e,"class","flex flex-row text-foregroundText")},m(d,m){M(d,e,m),g(e,n),g(n,o),g(n,i);for(let p=0;p<c.length;p+=1)c[p]&&c[p].m(n,null);g(n,r),g(n,l),s||(u=te(o,"click",t[2]),s=!0)},p(d,[m]){if(m&2){f=Ue(d[1].townLog);let p;for(p=0;p<f.length;p+=1){const _=Lf(d,f,p);c[p]?c[p].p(_,m):(c[p]=Ff(_),c[p].c(),c[p].m(n,r))}for(;p<c.length;p+=1)c[p].d(1);c.length=f.length}m&1&&a!==(a="bg-foreground w-[160px] border-foregroundDark border-4 "+(d[0].visible?"bottom-8  opacity-70":"bottom-2")+" z-10 fixed left-3 p-3 top-[190px] drop-shadow-xl rounded-xl transition-all duration-300")&&N(n,"class",a)},i:ke,o:ke,d(d){d&&T(e),_t(c,d),s=!1,u()}}}function S4(t,e,n){let o,i;return ae(t,Qe,l=>n(0,o=l)),ae(t,Pe,l=>n(1,i=l)),[o,i,()=>{Me(Pe,i.townLog=[],i)}]}class T4 extends be{constructor(e){super(),ge(this,e,S4,A4,fe,{})}}function Bf(t,e,n){const o=t.slice();return o[5]=e[n],o}function jf(t){let e,n;return e=new k1({props:{thumb:t[5],class:"block h-5 w-5 rounded-full border-2 border-primary bg-accent ring-accent transition-colors focus-visible:outline-none  disabled:pointer-events-none disabled:opacity-50"}}),{c(){J(e.$$.fragment)},m(o,i){K(e,o,i),n=!0},p(o,i){const r={};i&16&&(r.thumb=o[5]),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function M4(t){let e,n,o,i,r;n=new _1({props:{class:"absolute h-full bg-primary"}});let l=Ue(t[4]),a=[];for(let u=0;u<l.length;u+=1)a[u]=jf(Bf(t,l,u));const s=u=>S(a[u],1,1,()=>{a[u]=null});return{c(){e=I("span"),J(n.$$.fragment),o=q();for(let u=0;u<a.length;u+=1)a[u].c();i=Re(),N(e,"class","relative h-2 w-full grow overflow-hidden rounded-full bg-textPrimary")},m(u,f){M(u,e,f),K(n,e,null),M(u,o,f);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(u,f);M(u,i,f),r=!0},p(u,f){if(f&16){l=Ue(u[4]);let c;for(c=0;c<l.length;c+=1){const d=Bf(u,l,c);a[c]?(a[c].p(d,f),A(a[c],1)):(a[c]=jf(d),a[c].c(),A(a[c],1),a[c].m(i.parentNode,i))}for(Ie(),c=l.length;c<a.length;c+=1)s(c);Oe()}},i(u){if(!r){A(n.$$.fragment,u);for(let f=0;f<l.length;f+=1)A(a[f]);r=!0}},o(u){S(n.$$.fragment,u),a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)S(a[f]);r=!1},d(u){u&&(T(e),T(o),T(i)),X(n),_t(a,u)}}}function I4(t){let e,n,o;const i=[{class:De("relative flex w-full touch-none select-none items-center",t[1])},t[2]];function r(a){t[3](a)}let l={$$slots:{default:[M4,({thumbs:a})=>({4:a}),({thumbs:a})=>a?16:0]},$$scope:{ctx:t}};for(let a=0;a<i.length;a+=1)l=x(l,i[a]);return t[0]!==void 0&&(l.value=t[0]),e=new f1({props:l}),Ne.push(()=>Tn(e,"value",r)),{c(){J(e.$$.fragment)},m(a,s){K(e,a,s),o=!0},p(a,[s]){const u=s&6?ye(i,[s&2&&{class:De("relative flex w-full touch-none select-none items-center",a[1])},s&4&&lt(a[2])]):{};s&272&&(u.$$scope={dirty:s,ctx:a}),!n&&s&1&&(n=!0,u.value=a[0],Sn(()=>n=!1)),e.$set(u)},i(a){o||(A(e.$$.fragment,a),o=!0)},o(a){S(e.$$.fragment,a),o=!1},d(a){X(e,a)}}}function O4(t,e,n){const o=["class","value"];let i=le(e,o),{class:r=void 0}=e,{value:l=[0]}=e;function a(s){l=s,n(0,l)}return t.$$set=s=>{e=x(x({},e),$e(s)),n(2,i=le(e,o)),"class"in s&&n(1,r=s.class),"value"in s&&n(0,l=s.value)},[l,r,i,a]}class qf extends be{constructor(e){super(),ge(this,e,O4,I4,fe,{class:1,value:0})}}function Gf(t,e,n){const o=t.slice();return o[7]=e[n].icon,o[8]=e[n].name,o[9]=e[n].value,o[10]=e[n].rate,o}function Vf(t,e,n){const o=t.slice();return o[13]=e[n],o}function P4(t){let e;return{c(){e=I("div"),e.innerHTML=`Resources are generated from plots. Generation rate can be increased
            by raising the productivity of the town, at the cost of some
            happiness.
            <br/> <br/>
            There is also a slight bit of randomness as townspeople aren&#39;t robots.`,N(e,"class","text-sm")},m(n,o){M(n,e,o)},p:ke,d(n){n&&T(e)}}}function N4(t){let e,n,o,i;return o=new Io({props:{class:"text-sm w-[200px]",$$slots:{default:[P4]},$$scope:{ctx:t}}}),{c(){e=I("div"),e.innerHTML='<h1 class="text-xl w-full text-center">Resources</h1> <button class="text-textPrimary text-sm">ℹ️</button>',n=q(),J(o.$$.fragment),N(e,"class","flex flex-row items-center pb-2 gap-2")},m(r,l){M(r,e,l),M(r,n,l),K(o,r,l),i=!0},p(r,l){const a={};l&65536&&(a.$$scope={dirty:l,ctx:r}),o.$set(a)},i(r){i||(A(o.$$.fragment,r),i=!0)},o(r){S(o.$$.fragment,r),i=!1},d(r){r&&(T(e),T(n)),X(o,r)}}}function E4(t){let e,n;return e=new Po({props:{$$slots:{default:[N4]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){K(e,o,i),n=!0},p(o,i){const r={};i&65536&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function $4(t){let e,n,o=t[10]+"",i;return{c(){e=I("span"),n=B("+"),i=B(o),N(e,"class","text-textPrimary")},m(r,l){M(r,e,l),g(e,n),g(e,i)},p(r,l){l&2&&o!==(o=r[10]+"")&&re(i,o)},d(r){r&&T(e)}}}function R4(t){let e;return{c(){e=I("span")},m(n,o){M(n,e,o)},p:ke,d(n){n&&T(e)}}}function D4(t){let e,n=t[10]+"",o;return{c(){e=I("span"),o=B(n),N(e,"class","text-textDanger2")},m(i,r){M(i,e,r),g(e,o)},p(i,r){r&2&&n!==(n=i[10]+"")&&re(o,n)},d(i){i&&T(e)}}}function L4(t){let e,n,o=t[10]+"",i;return{c(){e=I("span"),n=B("+"),i=B(o),N(e,"class","text-textHappy")},m(r,l){M(r,e,l),g(e,n),g(e,i)},p(r,l){l&2&&o!==(o=r[10]+"")&&re(i,o)},d(r){r&&T(e)}}}function F4(t){let e;return{c(){e=I("span"),N(e,"class","display-none")},m(n,o){M(n,e,o)},p:ke,d(n){n&&T(e)}}}function B4(t){let e,n,o=t[10]+"",i,r;return{c(){e=I("span"),n=B("+"),i=B(o),r=B(" (weekly)"),N(e,"class","")},m(l,a){M(l,e,a),g(e,n),g(e,i),g(e,r)},p(l,a){a&2&&o!==(o=l[10]+"")&&re(i,o)},d(l){l&&T(e)}}}function j4(t){let e,n=t[10]+"",o,i;return{c(){e=I("span"),o=B(n),i=B(" (weekly)"),N(e,"class","text-textDanger2")},m(r,l){M(r,e,l),g(e,o),g(e,i)},p(r,l){l&2&&n!==(n=r[10]+"")&&re(o,n)},d(r){r&&T(e)}}}function q4(t){let e,n,o=t[10]+"",i,r;return{c(){e=I("span"),n=B("+"),i=B(o),r=B(" (weekly)"),N(e,"class","text-textHappy")},m(l,a){M(l,e,a),g(e,n),g(e,i),g(e,r)},p(l,a){a&2&&o!==(o=l[10]+"")&&re(i,o)},d(l){l&&T(e)}}}function Hf(t){let e,n,o,i;return e=new yt({}),{c(){J(e.$$.fragment),n=q(),o=I("span"),o.textContent="Required for",N(o,"class","text-sm font-semibold")},m(r,l){K(e,r,l),M(r,n,l),M(r,o,l),i=!0},i(r){i||(A(e.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),i=!1},d(r){r&&(T(n),T(o)),X(e,r)}}}function Wf(t){let e,n=t[13]+"",o;return{c(){e=I("span"),o=B(n),N(e,"class","text-xs mr-4")},m(i,r){M(i,e,r),g(e,o)},p(i,r){r&2&&n!==(n=i[13]+"")&&re(o,n)},d(i){i&&T(e)}}}function G4(t){let e,n,o=t[7]+"",i,r,l=_o(t[8])+"",a,s,u,f=t[5](t[8]).length>0,c,d,m;function p(R,L){return R[10]>0?q4:R[10]<0?j4:R[10]!=null?B4:F4}let _=p(t),b=_(t),k=f&&Hf(),C=Ue(t[5](t[8])),w=[];for(let R=0;R<C.length;R+=1)w[R]=Wf(Vf(t,C,R));return{c(){e=I("div"),n=I("span"),i=B(o),r=q(),a=B(l),s=q(),b.c(),u=q(),k&&k.c(),c=q(),d=I("div");for(let R=0;R<w.length;R+=1)w[R].c();N(n,"class","text-md font-bold"),N(d,"class","flex flex-col flex-wrap min-w-full"),N(e,"class","flex flex-col gap-2 whitespace-nowrap min-w-fit")},m(R,L){M(R,e,L),g(e,n),g(n,i),g(n,r),g(n,a),g(e,s),b.m(e,null),g(e,u),k&&k.m(e,null),g(e,c),g(e,d);for(let D=0;D<w.length;D+=1)w[D]&&w[D].m(d,null);m=!0},p(R,L){if((!m||L&2)&&o!==(o=R[7]+"")&&re(i,o),(!m||L&2)&&l!==(l=_o(R[8])+"")&&re(a,l),_===(_=p(R))&&b?b.p(R,L):(b.d(1),b=_(R),b&&(b.c(),b.m(e,u))),L&2&&(f=R[5](R[8]).length>0),f?k?L&2&&A(k,1):(k=Hf(),k.c(),A(k,1),k.m(e,c)):k&&(Ie(),S(k,1,1,()=>{k=null}),Oe()),L&34){C=Ue(R[5](R[8]));let D;for(D=0;D<C.length;D+=1){const E=Vf(R,C,D);w[D]?w[D].p(E,L):(w[D]=Wf(E),w[D].c(),w[D].m(d,null))}for(;D<w.length;D+=1)w[D].d(1);w.length=C.length}},i(R){m||(A(k),m=!0)},o(R){S(k),m=!1},d(R){R&&T(e),b.d(),k&&k.d(),_t(w,R)}}}function V4(t){let e,n=t[7]+"",o,i,r=xt(parseInt(t[9]),!1)+"",l,a,s,u,f,c;function d(_,b){return _[10]>0?L4:_[10]<0?D4:_[10]==null?R4:$4}let m=d(t),p=m(t);return f=new Io({props:{$$slots:{default:[G4]},$$scope:{ctx:t}}}),{c(){e=I("span"),o=B(n),i=q(),l=B(r),a=q(),p.c(),u=q(),J(f.$$.fragment),N(e,"class",s="flex flex-row justify-between "+(t[9]<=0?"text-textDanger1 font-semibold":"text-textPrimary"))},m(_,b){M(_,e,b),g(e,o),g(e,i),g(e,l),g(e,a),p.m(e,null),M(_,u,b),K(f,_,b),c=!0},p(_,b){(!c||b&2)&&n!==(n=_[7]+"")&&re(o,n),(!c||b&2)&&r!==(r=xt(parseInt(_[9]),!1)+"")&&re(l,r),m===(m=d(_))&&p?p.p(_,b):(p.d(1),p=m(_),p&&(p.c(),p.m(e,null))),(!c||b&2&&s!==(s="flex flex-row justify-between "+(_[9]<=0?"text-textDanger1 font-semibold":"text-textPrimary")))&&N(e,"class",s);const k={};b&65538&&(k.$$scope={dirty:b,ctx:_}),f.$set(k)},i(_){c||(A(f.$$.fragment,_),c=!0)},o(_){S(f.$$.fragment,_),c=!1},d(_){_&&(T(e),T(u)),p.d(),X(f,_)}}}function H4(t){let e,n,o;return e=new Po({props:{$$slots:{default:[V4]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=q()},m(i,r){K(e,i,r),M(i,n,r),o=!0},p(i,r){const l={};r&65538&&(l.$$scope={dirty:r,ctx:i}),e.$set(l)},i(i){o||(A(e.$$.fragment,i),o=!0)},o(i){S(e.$$.fragment,i),o=!1},d(i){i&&T(n),X(e,i)}}}function Yf(t){let e,n;return e=new Oo({props:{openDelay:400,closeDelay:0,$$slots:{default:[H4]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){K(e,o,i),n=!0},p(o,i){const r={};i&65538&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function W4(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,p,_=it(t[0].townInfo.productivity,0)+"",b,k,C,w,R,L,D,E,G,$,W,y=it(t[0].economyAndLaws.tax_rate*100,0)+"",v,O,P,H,F,Q,ne;o=new Oo({props:{openDelay:400,closeDelay:0,$$slots:{default:[E4]},$$scope:{ctx:t}}});let z=Ue(t[1]),Y=[];for(let V=0;V<z.length;V+=1)Y[V]=Yf(Gf(t,z,V));const h=V=>S(Y[V],1,1,()=>{Y[V]=null});return w=new qf({props:{value:[t[0].townInfo.productivity],onValueChange:t[4],min:0,max:200,step:5,class:"cursor-pointer w-full"}}),H=new qf({props:{value:[t[0].economyAndLaws.tax_rate],onValueChange:t[3],min:0,max:1,step:.05,class:"cursor-pointer w-full"}}),{c(){e=I("div"),n=I("div"),J(o.$$.fragment),i=q(),r=I("div"),l=I("div");for(let V=0;V<Y.length;V+=1)Y[V].c();a=q(),s=I("div"),u=I("div"),f=I("div"),c=I("span"),c.textContent="Productivity",d=q(),m=I("span"),p=B("("),b=B(_),k=B("%)"),C=q(),J(w.$$.fragment),R=q(),L=I("div"),D=I("div"),E=I("span"),E.textContent="Tax Rate",G=q(),$=I("span"),W=B("("),v=B(y),O=B("%)"),P=q(),J(H.$$.fragment),N(n,"class","flex flex-row justify-center"),N(l,"class","flex flex-col text-sm text-nowrap gap-2"),N(c,"class","text-xs"),N(m,"class","text-xs"),N(u,"class","flex flex-col justify-center w-full text-center items-center gap-2"),N(E,"class","text-xs"),N($,"class","text-xs"),N(L,"class",F="flex flex-col justify-center w-full text-center items-center gap-2 min-h-12 pb-2 rounded-xl "+(t[0].economyAndLaws.tax_rate===0?"bg-textDanger1 animate-pulse font-bold":"")),N(s,"class","flex flex-col gap-6 rounded-xl text-center justify-center"),N(r,"class","flex flex-col justify-between gap-4 text-foregroundText h-full pb-12"),N(e,"class",Q="bg-foreground w-[160px] sidebar border-foregroundDark border-4 "+(t[2].visible?"bottom-8 opacity-70":"bottom-2")+" z-10 fixed right-3 top-[190px] rounded-xl p-2 transition-all duration-300")},m(V,U){M(V,e,U),g(e,n),K(o,n,null),g(e,i),g(e,r),g(r,l);for(let ee=0;ee<Y.length;ee+=1)Y[ee]&&Y[ee].m(l,null);g(r,a),g(r,s),g(s,u),g(u,f),g(f,c),g(f,d),g(f,m),g(m,p),g(m,b),g(m,k),g(u,C),K(w,u,null),g(s,R),g(s,L),g(L,D),g(D,E),g(D,G),g(D,$),g($,W),g($,v),g($,O),g(L,P),K(H,L,null),ne=!0},p(V,[U]){const ee={};if(U&65536&&(ee.$$scope={dirty:U,ctx:V}),o.$set(ee),U&34){z=Ue(V[1]);let _e;for(_e=0;_e<z.length;_e+=1){const Te=Gf(V,z,_e);Y[_e]?(Y[_e].p(Te,U),A(Y[_e],1)):(Y[_e]=Yf(Te),Y[_e].c(),A(Y[_e],1),Y[_e].m(l,null))}for(Ie(),_e=z.length;_e<Y.length;_e+=1)h(_e);Oe()}(!ne||U&1)&&_!==(_=it(V[0].townInfo.productivity,0)+"")&&re(b,_);const Z={};U&1&&(Z.value=[V[0].townInfo.productivity]),w.$set(Z),(!ne||U&1)&&y!==(y=it(V[0].economyAndLaws.tax_rate*100,0)+"")&&re(v,y);const we={};U&1&&(we.value=[V[0].economyAndLaws.tax_rate]),H.$set(we),(!ne||U&1&&F!==(F="flex flex-col justify-center w-full text-center items-center gap-2 min-h-12 pb-2 rounded-xl "+(V[0].economyAndLaws.tax_rate===0?"bg-textDanger1 animate-pulse font-bold":"")))&&N(L,"class",F),(!ne||U&4&&Q!==(Q="bg-foreground w-[160px] sidebar border-foregroundDark border-4 "+(V[2].visible?"bottom-8 opacity-70":"bottom-2")+" z-10 fixed right-3 top-[190px] rounded-xl p-2 transition-all duration-300"))&&N(e,"class",Q)},i(V){if(!ne){A(o.$$.fragment,V);for(let U=0;U<z.length;U+=1)A(Y[U]);A(w.$$.fragment,V),A(H.$$.fragment,V),ne=!0}},o(V){S(o.$$.fragment,V),Y=Y.filter(Boolean);for(let U=0;U<Y.length;U+=1)S(Y[U]);S(w.$$.fragment,V),S(H.$$.fragment,V),ne=!1},d(V){V&&T(e),X(o),_t(Y,V),X(w),X(H)}}}function Y4(t){return["food","wood","stone","metal","power","knowledge"].includes(t)}function U4(t,e,n){let o,i;ae(t,Pe,f=>n(0,o=f)),ae(t,Qe,f=>n(2,i=f));function r(f){let c=o;c.economyAndLaws.tax_rate=it(f[0],2),Pe.set(c),localStorage.setItem(Gt,JSON.stringify(c))}function l(f){let c=o;c.townInfo.productivity=it(f[0],2),Pe.set(c),localStorage.setItem(Gt,JSON.stringify(c))}let a=[];function s(f){let c=[];for(let d=0;d<ie.length;d++)(f!="knowledge"&&ie[d].requirements.resources[f]>0||f=="power"&&ie[d].active_costs.power>0||f=="knowledge"&&ie[d].requirements.knowledge>0)&&c.push(ie[d].title);return c}function u(f){return Y4(f)?s(f):[]}return t.$$.update=()=>{t.$$.dirty&1&&n(1,a=[{icon:"🥕",name:"food",value:o.resources.food,rate:o.resource_rate.food},{icon:"🪵",name:"wood",value:o.resources.wood,rate:o.resource_rate.wood},{icon:"🪨",name:"stone",value:o.resources.stone,rate:o.resource_rate.stone},{icon:"🧠",name:"knowledge",value:o.townInfo.knowledge_points,rate:o.resource_rate.knowledge},{icon:"🧲",name:"metal",value:o.resources.metal,rate:o.resource_rate.metal},{icon:"🔋 Surplus",name:"power",value:o.resources.power,rate:null},{icon:"🧑‍⚖️",name:"bureaucracy",value:o.resources.bureaucracy,rate:o.resource_rate.bureaucracy}])},[o,a,i,r,l,u]}class K4 extends be{constructor(e){super(),ge(this,e,U4,W4,fe,{})}}function X4(t){let e,n,o,i,r,l,a,s,u,f,c,d,m;return o=new e4({}),l=new T4({}),s=new C4({}),f=new K4({}),d=new Rd({}),{c(){e=I("div"),n=I("div"),J(o.$$.fragment),i=q(),r=I("div"),J(l.$$.fragment),a=q(),J(s.$$.fragment),u=q(),J(f.$$.fragment),c=q(),J(d.$$.fragment),N(r,"class","flex flex-row text-foregroundText"),N(e,"class","flex flex-col max-h-[100%] justify-between")},m(p,_){M(p,e,_),g(e,n),K(o,n,null),g(e,i),g(e,r),K(l,r,null),g(r,a),K(s,r,null),g(r,u),K(f,r,null),g(r,c),K(d,r,null),m=!0},p:ke,i(p){m||(A(o.$$.fragment,p),A(l.$$.fragment,p),A(s.$$.fragment,p),A(f.$$.fragment,p),A(d.$$.fragment,p),m=!0)},o(p){S(o.$$.fragment,p),S(l.$$.fragment,p),S(s.$$.fragment,p),S(f.$$.fragment,p),S(d.$$.fragment,p),m=!1},d(p){p&&T(e),X(o),X(l),X(s),X(f),X(d)}}}function J4(t,e,n){return ae(t,Pe,o=>n(0,o)),[]}class x4 extends be{constructor(e){super(),ge(this,e,J4,X4,fe,{})}}function Z4(t){let e;return{c(){e=B("Welcome to Plots!")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Q4(t){let e,n,o,i,r=t[0].townInfo.name+"",l,a,s,u,f,c,d,m,p,_,b,k,C,w,R,L,D,E,G,$,W,y,v,O,P,H,F,Q,ne,z;return m=new yt({props:{class:"bg-white mt-2 mb-1"}}),k=new yt({props:{class:"bg-white mt-2 mb-1"}}),L=new yt({props:{class:"bg-white mt-2 mb-1"}}),$=new yt({props:{class:"bg-white mt-2 mb-1"}}),{c(){e=I("div"),n=I("p"),o=B(`You come across a large amount of land, and you decide to start a
            town called `),i=I("span"),l=B(r),a=B("."),s=q(),u=I("div"),f=I("p"),f.textContent="To run a successful town, you will need to have:",c=q(),d=I("ul"),J(m.$$.fragment),p=q(),_=I("li"),_.textContent=`👥 People - build homes and they will stay as long as they are
                happy.`,b=q(),J(k.$$.fragment),C=q(),w=I("li"),w.textContent=`🪵 Resources - generated by some plots and used to build others.
                some plots require sustained weekly resources (such as needing
                wood to heat homes)`,R=q(),J(L.$$.fragment),D=q(),E=I("li"),E.textContent=`💰 Gold - generated by plots through tax revenue. most plots
                make the town some amount of money but some cost a lot to
                operate.`,G=q(),J($.$$.fragment),W=q(),y=I("p"),y.innerHTML=`The town&#39;s key metrics are <span class="font-bold text-textHappyDark">Happiness</span>
            and <span class="font-bold text-textHappyDark">Health</span>, shown
            in the top-left corner.`,v=q(),O=I("p"),O.textContent=`These metrics are affected by the plots you build. Some plots may
            not always increase happiness, and some could even be harmful enough
            to tear down an otherwise great town.`,P=q(),H=I("p"),H.textContent="Be cautious and make sure to hover over plots before you buy them.",F=q(),Q=I("img"),N(i,"class","font-bold text-accent"),N(d,"class","list-desc"),Gd(Q.src,ne="welcome_example_plot.png")||N(Q,"src",ne),N(Q,"class","max-w-[60%] object-fit"),N(e,"class","flex flex-col gap-3 max-h-[50vh] overflow-y-scroll")},m(Y,h){M(Y,e,h),g(e,n),g(n,o),g(n,i),g(i,l),g(i,a),g(e,s),g(e,u),g(u,f),g(u,c),g(u,d),K(m,d,null),g(d,p),g(d,_),g(d,b),K(k,d,null),g(d,C),g(d,w),g(d,R),K(L,d,null),g(d,D),g(d,E),g(d,G),K($,d,null),g(e,W),g(e,y),g(e,v),g(e,O),g(e,P),g(e,H),g(e,F),g(e,Q),z=!0},p(Y,h){(!z||h&1)&&r!==(r=Y[0].townInfo.name+"")&&re(l,r)},i(Y){z||(A(m.$$.fragment,Y),A(k.$$.fragment,Y),A(L.$$.fragment,Y),A($.$$.fragment,Y),z=!0)},o(Y){S(m.$$.fragment,Y),S(k.$$.fragment,Y),S(L.$$.fragment,Y),S($.$$.fragment,Y),z=!1},d(Y){Y&&T(e),X(m),X(k),X(L),X($)}}}function z4(t){let e,n,o,i;return e=new Kl({props:{class:"",$$slots:{default:[Z4]},$$scope:{ctx:t}}}),o=new Jl({props:{$$slots:{default:[Q4]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=q(),J(o.$$.fragment)},m(r,l){K(e,r,l),M(r,n,l),K(o,r,l),i=!0},p(r,l){const a={};l&524288&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&524289&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function eC(t){let e;return{c(){e=B("Get started")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function tC(t){let e,n;return e=new zc({props:{class:"bg-button rounded-2xl text-foregroundText px-4 py-2 hover:rounded-lg transition-all duration-300",$$slots:{default:[eC]},$$scope:{ctx:t}}}),e.$on("click",t[5]),{c(){J(e.$$.fragment)},m(o,i){K(e,o,i),n=!0},p(o,i){const r={};i&524288&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function nC(t){let e,n,o,i;return e=new Xl({props:{$$slots:{default:[z4]},$$scope:{ctx:t}}}),o=new Cr({props:{$$slots:{default:[tC]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=q(),J(o.$$.fragment)},m(r,l){K(e,r,l),M(r,n,l),K(o,r,l),i=!0},p(r,l){const a={};l&524289&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&524288&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function oC(t){let e,n;return e=new Ar({props:{class:"bg-foregroundDark text-foregroundText",$$slots:{default:[nC]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){K(e,o,i),n=!0},p(o,i){const r={};i&524289&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function iC(t){let e,n;return e=new Sr({props:{open:t[1],$$slots:{default:[oC]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){K(e,o,i),n=!0},p(o,[i]){const r={};i&2&&(r.open=o[1]),i&524289&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function rC(t,e,n){let o,i,r,l;ae(t,sn,m=>n(7,o=m)),ae(t,Pe,m=>n(0,i=m)),ae(t,Ui,m=>n(4,r=m)),ae(t,tl,m=>n(1,l=m)),Vn[i.endGoal],Rl[i.difficulty],et.sort((m,p)=>f(m.id)&&!f(p.id)?-1:!f(m.id)&&f(p.id)?1:0),et.filter(m=>f(m.id));function s(m){const p=o.achievements.find(_=>_[0]==m);return p==null?!1:p[3]}let u=et;function f(m){return o.achievements==null?!1:o.achievements.find(p=>p[0]==m)!=null}function c(){Ui.update(m=>!m),localStorage.setItem("showCompletedAchievements",localStorage.getItem("showCompletedAchievements")==="true"?"false":"true")}localStorage.getItem("pauseMenuTab")==null&&(localStorage.setItem("pauseMenuTab","game"),uc.set("game"));const d=()=>{tl.set(!1)};return t.$$.update=()=>{if(t.$$.dirty&25&&i)if(r)n(3,u=et);else{n(3,u=[]);for(let m=0;m<et.length;m++)(!f(et[m].id)||!s(et[m].id))&&u.push(et[m])}},[i,l,c,u,r,d]}class lC extends be{constructor(e){super(),ge(this,e,rC,iC,fe,{toggleShowCompleted:2})}get toggleShowCompleted(){return this.$$.ctx[2]}}function Uf(t,e,n){const o=t.slice();return o[7]=e[n],o}function sC(t){let e,n,o=t[0].townInfo.name+"",i,r,l,a,s=t[0].resources.bureaucracy+"",u;return{c(){e=I("div"),n=I("span"),i=B(o),r=q(),l=I("span"),a=B("🧑‍⚖️ "),u=B(s),N(e,"class","flex justify-between mr-10")},m(f,c){M(f,e,c),g(e,n),g(n,i),g(e,r),g(e,l),g(l,a),g(l,u)},p(f,c){c&1&&o!==(o=f[0].townInfo.name+"")&&re(i,o),c&1&&s!==(s=f[0].resources.bureaucracy+"")&&re(u,s)},d(f){f&&T(e)}}}function Kf(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,p,_=t[0].townInfo.guardians+"",b,k,C,w,R,L=t[0].townInfo.population_count-t[0].townInfo.employees+"",D,E,G;return e=new yt({props:{class:"mb-4"}}),d=new Mt({props:{class:`bg-button rounded-2xl h-min select-none
            `+(t[0].townInfo.guardians<=0?"opacity-50 cursor-not-allowed":"")+`
            `,$$slots:{default:[aC]},$$scope:{ctx:t}}}),d.$on("click",t[2]),C=new Mt({props:{class:`bg-button rounded-2xl h-min select-none
            
              `+(t[0].townInfo.employees>=t[0].townInfo.population_count?"opacity-50 cursor-not-allowed":"")+`
            `,$$slots:{default:[uC]},$$scope:{ctx:t}}}),C.$on("click",t[3]),{c(){J(e.$$.fragment),n=q(),o=I("div"),i=I("span"),i.textContent="Hire Guardians ⚔️",r=q(),l=I("br"),a=q(),s=I("span"),s.textContent=`Guardians work for you and are required to expand your kingdom.
            They do not generate revenue, but still require housing & food.`,u=q(),f=I("div"),c=I("div"),J(d.$$.fragment),m=q(),p=I("span"),b=B(_),k=q(),J(C.$$.fragment),w=q(),R=I("span"),D=B(L),E=B(`
              unemployed available for hire.`),N(i,"class","text-lg font-bold"),N(s,"class","text-sm italic"),N(p,"class","text-lg font-bold select-none px-2"),N(R,"class","w-max"),N(f,"class","flex flex-row justify-between align-middle items-center pt-2 pb-2 gap-2 "),N(o,"class","w-full")},m($,W){K(e,$,W),M($,n,W),M($,o,W),g(o,i),g(o,r),g(o,l),g(o,a),g(o,s),g(o,u),g(o,f),g(f,c),K(d,c,null),g(c,m),g(c,p),g(p,b),g(c,k),K(C,c,null),g(f,w),g(f,R),g(R,D),g(R,E),G=!0},p($,W){const y={};W&1&&(y.class=`bg-button rounded-2xl h-min select-none
            `+($[0].townInfo.guardians<=0?"opacity-50 cursor-not-allowed":"")+`
            `),W&1024&&(y.$$scope={dirty:W,ctx:$}),d.$set(y),(!G||W&1)&&_!==(_=$[0].townInfo.guardians+"")&&re(b,_);const v={};W&1&&(v.class=`bg-button rounded-2xl h-min select-none
            
              `+($[0].townInfo.employees>=$[0].townInfo.population_count?"opacity-50 cursor-not-allowed":"")+`
            `),W&1024&&(v.$$scope={dirty:W,ctx:$}),C.$set(v),(!G||W&1)&&L!==(L=$[0].townInfo.population_count-$[0].townInfo.employees+"")&&re(D,L)},i($){G||(A(e.$$.fragment,$),A(d.$$.fragment,$),A(C.$$.fragment,$),G=!0)},o($){S(e.$$.fragment,$),S(d.$$.fragment,$),S(C.$$.fragment,$),G=!1},d($){$&&(T(n),T(o)),X(e,$),X(d),X(C)}}}function aC(t){let e;return{c(){e=B("-")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function uC(t){let e;return{c(){e=B("+")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function fC(t){let e;return{c(){e=B("Build a City Hall to manage your city.")},m(n,o){M(n,e,o)},p:ke,i:ke,o:ke,d(n){n&&T(e)}}}function cC(t){let e,n,o,i,r=Ue(ll),l=[];for(let s=0;s<r.length;s+=1)l[s]=Xf(Uf(t,r,s));const a=s=>S(l[s],1,1,()=>{l[s]=null});return{c(){e=I("span"),e.textContent="Laws 🧑‍⚖️",n=q();for(let s=0;s<l.length;s+=1)l[s].c();o=Re(),N(e,"class","text-lg font-bold")},m(s,u){M(s,e,u),M(s,n,u);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(s,u);M(s,o,u),i=!0},p(s,u){if(u&1){r=Ue(ll);let f;for(f=0;f<r.length;f+=1){const c=Uf(s,r,f);l[f]?(l[f].p(c,u),A(l[f],1)):(l[f]=Xf(c),l[f].c(),A(l[f],1),l[f].m(o.parentNode,o))}for(Ie(),f=r.length;f<l.length;f+=1)a(f);Oe()}},i(s){if(!i){for(let u=0;u<r.length;u+=1)A(l[u]);i=!0}},o(s){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)S(l[u]);i=!1},d(s){s&&(T(e),T(n),T(o)),_t(l,s)}}}function dC(t){let e,n=t[7].cost+"",o;return{c(){e=B("Enact for 🧑‍⚖️ "),o=B(n)},m(i,r){M(i,e,r),M(i,o,r)},d(i){i&&(T(e),T(o))}}}function mC(t){let e;return{c(){e=B("Repeal ❌")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function pC(t){let e,n;function o(l,a){return a&1&&(e=null),e==null&&(e=!!l[0].economyAndLaws.enacted.includes(l[7].id)),e?mC:dC}let i=o(t,-1),r=i(t);return{c(){r.c(),n=Re()},m(l,a){r.m(l,a),M(l,n,a)},p(l,a){i!==(i=o(l,a))&&(r.d(1),r=i(l),r&&(r.c(),r.m(n.parentNode,n)))},d(l){l&&T(n),r.d(l)}}}function Xf(t){let e,n,o,i,r,l,a;function s(){return t[4](t[7])}return i=new Mt({props:{class:`bg-button rounded-2xl 
                `+(t[0].economyAndLaws.enacted.includes(t[7].id)?"bg-textDanger1":"bg-button")+`

                `+(t[0].economyAndLaws.enacted.includes(t[7].id)||t[7].cost<=t[0].resources.bureaucracy?"cursor-pointer":"cursor-not-allowed opacity-30")+`
                `,$$slots:{default:[pC]},$$scope:{ctx:t}}}),i.$on("click",s),l=new yt({props:{class:"bg-white opacity-30"}}),{c(){e=I("div"),n=I("span"),n.textContent=`${t[7].description}`,o=q(),J(i.$$.fragment),r=q(),J(l.$$.fragment),N(e,"class","flex justify-between align-middle items-center pt-2 pb-2 gap-2 ")},m(u,f){M(u,e,f),g(e,n),g(e,o),K(i,e,null),M(u,r,f),K(l,u,f),a=!0},p(u,f){t=u;const c={};f&1&&(c.class=`bg-button rounded-2xl 
                `+(t[0].economyAndLaws.enacted.includes(t[7].id)?"bg-textDanger1":"bg-button")+`

                `+(t[0].economyAndLaws.enacted.includes(t[7].id)||t[7].cost<=t[0].resources.bureaucracy?"cursor-pointer":"cursor-not-allowed opacity-30")+`
                `),f&1025&&(c.$$scope={dirty:f,ctx:t}),i.$set(c)},i(u){a||(A(i.$$.fragment,u),A(l.$$.fragment,u),a=!0)},o(u){S(i.$$.fragment,u),S(l.$$.fragment,u),a=!1},d(u){u&&(T(e),T(r)),X(i),X(l,u)}}}function hC(t){let e,n,o,i,r=He("city_hall",t[0]).length>0,l,a,s,u,f,c,d,m;e=new Xn({props:{class:"text-xl",$$slots:{default:[sC]},$$scope:{ctx:t}}}),o=new Zn({props:{class:"w-3/4 overflow-scroll "}});let p=r&&Kf(t);a=new yt({props:{class:"mb-4"}});const _=[cC,fC],b=[];function k(C,w){return w&1&&(f=null),f==null&&(f=He("city_hall",C[0]).length>0),f?0:1}return c=k(t,-1),d=b[c]=_[c](t),{c(){J(e.$$.fragment),n=q(),J(o.$$.fragment),i=q(),p&&p.c(),l=q(),J(a.$$.fragment),s=q(),u=I("div"),d.c(),N(u,"class","w-full")},m(C,w){K(e,C,w),M(C,n,w),K(o,C,w),M(C,i,w),p&&p.m(C,w),M(C,l,w),K(a,C,w),M(C,s,w),M(C,u,w),b[c].m(u,null),m=!0},p(C,w){const R={};w&1025&&(R.$$scope={dirty:w,ctx:C}),e.$set(R),w&1&&(r=He("city_hall",C[0]).length>0),r?p?(p.p(C,w),w&1&&A(p,1)):(p=Kf(C),p.c(),A(p,1),p.m(l.parentNode,l)):p&&(Ie(),S(p,1,1,()=>{p=null}),Oe());let L=c;c=k(C,w),c===L?b[c].p(C,w):(Ie(),S(b[L],1,1,()=>{b[L]=null}),Oe(),d=b[c],d?d.p(C,w):(d=b[c]=_[c](C),d.c()),A(d,1),d.m(u,null))},i(C){m||(A(e.$$.fragment,C),A(o.$$.fragment,C),A(p),A(a.$$.fragment,C),A(d),m=!0)},o(C){S(e.$$.fragment,C),S(o.$$.fragment,C),S(p),S(a.$$.fragment,C),S(d),m=!1},d(C){C&&(T(n),T(i),T(l),T(s),T(u)),X(e,C),X(o,C),p&&p.d(C),X(a,C),b[c].d()}}}function _C(t){let e,n,o,i;return e=new Jn({props:{$$slots:{default:[hC]},$$scope:{ctx:t}}}),o=new Mo({}),{c(){J(e.$$.fragment),n=q(),J(o.$$.fragment)},m(r,l){K(e,r,l),M(r,n,l),K(o,r,l),i=!0},p(r,l){const a={};l&1025&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function gC(t){let e,n;return e=new xn({props:{class:"bg-foreground text-foregroundText h-[80vh] overflow-scroll",$$slots:{default:[_C]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){K(e,o,i),n=!0},p(o,i){const r={};i&1025&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function bC(t){let e,n,o;function i(l){t[5](l)}let r={$$slots:{default:[gC]},$$scope:{ctx:t}};return t[1]!==void 0&&(r.open=t[1]),e=new Qn({props:r}),Ne.push(()=>Tn(e,"open",i)),{c(){J(e.$$.fragment)},m(l,a){K(e,l,a),o=!0},p(l,[a]){const s={};a&1025&&(s.$$scope={dirty:a,ctx:l}),!n&&a&2&&(n=!0,s.open=l[1],Sn(()=>n=!1)),e.$set(s)},i(l){o||(A(e.$$.fragment,l),o=!0)},o(l){S(e.$$.fragment,l),o=!1},d(l){X(e,l)}}}function vC(t,e,n){let o,i;ae(t,Pe,u=>n(0,o=u)),ae(t,Yi,u=>n(1,i=u));const r=()=>{o.townInfo.guardians>0?(Me(Pe,o.townInfo.guardians-=1,o),Me(Pe,o.townInfo.employees-=1,o)):Pt.set("No guardians to fire.")},l=()=>{o.townInfo.employees<o.townInfo.population_count?(Me(Pe,o.townInfo.guardians+=1,o),Me(Pe,o.townInfo.employees+=1,o)):Pt.set("Not enough people.")},a=u=>{o.economyAndLaws.enacted.includes(u.id)?o.economyAndLaws.enacted.splice(o.economyAndLaws.enacted.indexOf(u.id),1):u.cost<=o.resources.bureaucracy?(Me(Pe,o.resources.bureaucracy-=u.cost,o),o.economyAndLaws.enacted.push(u.id)):Pt.set("Not enough bureaucracy!")};function s(u){i=u,Yi.set(i)}return t.$$.update=()=>{t.$$.dirty&1},[o,i,r,l,a,s]}class yC extends be{constructor(e){super(),ge(this,e,vC,bC,fe,{})}}function wC(t){let e;return{c(){e=B("Got it")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function kC(t){let e,n,o,i,r,l,a,s;return r=new Qc({props:{class:"bg-button hover:scale-105 min-w-[70%] transition-all duration-150 mt-2",$$slots:{default:[wC]},$$scope:{ctx:t}}}),r.$on("click",t[1]),a=new Cr({}),{c(){e=I("span"),n=B("🛎️ "),o=B(t[0]),i=q(),J(r.$$.fragment),l=q(),J(a.$$.fragment),N(e,"class","whitespace-pre-wrap overflow-auto text-center sm:whitespace-normal break-all sm:text-md sm:font-semibold sm:py-4 sm:items-center sm:justify-center"),Je(e,"max-height","80%")},m(u,f){M(u,e,f),g(e,n),g(e,o),M(u,i,f),K(r,u,f),M(u,l,f),K(a,u,f),s=!0},p(u,f){(!s||f&1)&&re(o,u[0]);const c={};f&4&&(c.$$scope={dirty:f,ctx:u}),r.$set(c)},i(u){s||(A(r.$$.fragment,u),A(a.$$.fragment,u),s=!0)},o(u){S(r.$$.fragment,u),S(a.$$.fragment,u),s=!1},d(u){u&&(T(e),T(i),T(l)),X(r,u),X(a,u)}}}function CC(t){let e,n;return e=new Ar({props:{class:`bg-foregroundDark text-white rounded-input shadow-3xl justify-center items-center flex flex-col py-2 text-lg font-semibold p-2 min-w-96 min-h-36
         sm:rounded-2xl sm:flex sm:flex-col sm:p-6 sm:text-md sm:font-semibold sm:py-4 sm:items-center sm:justify-center max-h-96`,$$slots:{default:[kC]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){K(e,o,i),n=!0},p(o,i){const r={};i&5&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function AC(t){let e,n;return e=new Sr({props:{open:t[0]!="",$$slots:{default:[CC]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){K(e,o,i),n=!0},p(o,[i]){const r={};i&1&&(r.open=o[0]!=""),i&5&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function SC(t,e,n){let o;return ae(t,Pt,r=>n(0,o=r)),[o,()=>{Pt.set("")}]}class TC extends be{constructor(e){super(),ge(this,e,SC,AC,fe,{})}}function Jf(t){let e,n,o,i;const r=[IC,MC],l=[];function a(s,u){return s[0]==null?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function MC(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,p,_,b,k,C,w,R,L=t[2]==!0&&xf();n=new x4({}),i=new rp({}),l=new ny({}),s=new My({}),f=new z5({}),d=new w3({}),p=new yC({}),b=new TC({});let D=t[0].environment.day==0&&t[3]&&Zf();return{c(){L&&L.c(),e=q(),J(n.$$.fragment),o=q(),J(i.$$.fragment),r=q(),J(l.$$.fragment),a=q(),J(s.$$.fragment),u=q(),J(f.$$.fragment),c=q(),J(d.$$.fragment),m=q(),J(p.$$.fragment),_=q(),J(b.$$.fragment),k=q(),D&&D.c(),C=q(),w=I("style"),w.textContent=`body {
        margin-bottom: 0;
      }
      /* no visible scrollbars */
      #plot_grid::-webkit-scrollbar {
        display: none;
      }

      ::-webkit-scrollbar {
        width: 0px;
        background: transparent; /* make scrollbar transparent */
      }

      /* no scrollbars on firefox either */
      #plot_grid {
        scrollbar-width: none;
      }

      /* no scrollbars for IE/Edge */
      #plot_grid {
        -ms-overflow-style: none;
      }`},m(E,G){L&&L.m(E,G),M(E,e,G),K(n,E,G),M(E,o,G),K(i,E,G),M(E,r,G),K(l,E,G),M(E,a,G),K(s,E,G),M(E,u,G),K(f,E,G),M(E,c,G),K(d,E,G),M(E,m,G),K(p,E,G),M(E,_,G),K(b,E,G),M(E,k,G),D&&D.m(E,G),M(E,C,G),M(E,w,G),R=!0},p(E,G){E[2]==!0?L?G&4&&A(L,1):(L=xf(),L.c(),A(L,1),L.m(e.parentNode,e)):L&&(Ie(),S(L,1,1,()=>{L=null}),Oe()),E[0].environment.day==0&&E[3]?D?G&9&&A(D,1):(D=Zf(),D.c(),A(D,1),D.m(C.parentNode,C)):D&&(Ie(),S(D,1,1,()=>{D=null}),Oe())},i(E){R||(A(L),A(n.$$.fragment,E),A(i.$$.fragment,E),A(l.$$.fragment,E),A(s.$$.fragment,E),A(f.$$.fragment,E),A(d.$$.fragment,E),A(p.$$.fragment,E),A(b.$$.fragment,E),A(D),R=!0)},o(E){S(L),S(n.$$.fragment,E),S(i.$$.fragment,E),S(l.$$.fragment,E),S(s.$$.fragment,E),S(f.$$.fragment,E),S(d.$$.fragment,E),S(p.$$.fragment,E),S(b.$$.fragment,E),S(D),R=!1},d(E){E&&(T(e),T(o),T(r),T(a),T(u),T(c),T(m),T(_),T(k),T(C),T(w)),L&&L.d(E),X(n,E),X(i,E),X(l,E),X(s,E),X(f,E),X(d,E),X(p,E),X(b,E),D&&D.d(E)}}}function IC(t){let e,n;return e=new by({}),{c(){J(e.$$.fragment)},m(o,i){K(e,o,i),n=!0},p:ke,i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function xf(t){let e,n;return e=new Yv({}),{c(){J(e.$$.fragment)},m(o,i){K(e,o,i),n=!0},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function Zf(t){let e,n;return e=new lC({}),{c(){J(e.$$.fragment)},m(o,i){K(e,o,i),n=!0},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function OC(t){let e,n,o=(t[1]||t[0]==null)&&Jf(t);return{c(){o&&o.c(),e=Re()},m(i,r){o&&o.m(i,r),M(i,e,r),n=!0},p(i,[r]){i[1]||i[0]==null?o?(o.p(i,r),r&3&&A(o,1)):(o=Jf(i),o.c(),A(o,1),o.m(e.parentNode,e)):o&&(Ie(),S(o,1,1,()=>{o=null}),Oe())},i(i){n||(A(o),n=!0)},o(i){S(o),n=!1},d(i){i&&T(e),o&&o.d(i)}}}function PC(t,e,n){let o,i,r,l,a,s;ae(t,ho,d=>n(6,o=d)),ae(t,Qe,d=>n(7,i=d)),ae(t,Rt,d=>n(2,r=d)),ae(t,Pe,d=>n(0,l=d)),ae(t,Wo,d=>n(8,a=d)),ae(t,tl,d=>n(3,s=d));let u=!1;Uv();let f=!1;document.addEventListener("keydown",d=>{if((document.activeElement!=null&&document.activeElement.nodeName==="INPUT"||document.activeElement!=null&&document.activeElement.nodeName=="TEXTAREA")&&d.key!=="Escape")return;switch(d.key.toLowerCase()){case"p":r==!0?Rt.set(!1):(Rt.set(!0),Me(Qe,i.visible=!1,i));break;case"escape":d.shiftKey?(Me(Rt,r=!0,r),localStorage.setItem("reset","true"),location.reload(),Dl()):i.visible==!0&&Me(Qe,i.visible=!1,i);break}});function c(d,m,p){if(f==!0)switch(p){case"up":m-=2;break;case"down":m+=1;break;case"left":d-=2;break;case"right":d+=1;break}d<0?d=0:d>l.plots.length&&(d=l.plots.length),m<0?m=0:m>l.plots.length&&(m=l.plots.length);let _=document.querySelectorAll(".plot_container"),b;if(_.forEach(k=>{k.dataset.x=="$x"&&k.dataset.y=="$y"&&(b=k)}),r==!1){if(b.dataset.canBeUpgraded==="true"?Me(Qe,i.visible=!0,i):Me(Qe,i.visible=!1,i),b.dataset.refPlotX!==void 0&&b.dataset.refPlotY!=""?(f=!0,_.forEach(k=>{k.dataset.x==b.dataset.refPlotX&&k.dataset.y==b.dataset.refPlotY&&(b=k,d=parseInt(b.dataset.x),m=parseInt(b.dataset.y))})):f=!1,b.dataset.size!=="1"&&b.dataset.size!==void 0&&(f=!0),Me(Qe,i.x=d,i),Me(Qe,i.y=m,i),_.forEach(k=>{k.classList.remove("selected"),k.style.fontWeight=""}),b.classList.add("selected"),f){let k="4px solid #00800045";b.classList.remove("selected"),b.style.borderTop=k,b.style.borderLeft=k,b.style.fontWeight="600",_.forEach(C=>{const w=parseInt(`${C.dataset.x}`),R=parseInt(`${C.dataset.y}`);w==d+1&&R==m&&(C.style.borderLeft=k,C.style.borderBottom=k),w==d&&R==m+1&&(C.style.borderTop=k,C.style.borderRight=k),w==d+1&&R==m+1&&(C.style.borderBottom=k,C.style.borderRight=k)})}b.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),Me(ho,o={},o)}}return t.$$.update=()=>{t.$$.dirty&1&&(l?(Me(Wo,a.visible=!1,a),n(1,u=!0)):(Me(Wo,a.visible=!0,a),n(1,u=!1)))},[l,u,r,s,c]}class NC extends be{constructor(e){super(),ge(this,e,PC,OC,fe,{openPlotMenu:4})}get openPlotMenu(){return this.$$.ctx[4]}}new NC({target:document.getElementById("app")});
