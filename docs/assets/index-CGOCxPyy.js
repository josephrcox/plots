var id=Object.defineProperty;var rd=(t,e,o)=>e in t?id(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o;var ln=(t,e,o)=>(rd(t,typeof e!="symbol"?e+"":e,o),o);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function o(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(i){if(i.ep)return;i.ep=!0;const r=o(i);fetch(i.href,r)}})();function ld(t){const e=pako.gzip(JSON.stringify(t));return btoa(String.fromCharCode.apply(null,e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function sd(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),o=atob(e),n=new Uint8Array(o.length);for(let r=0;r<o.length;r++)n[r]=o.charCodeAt(r);const i=pako.ungzip(n,{to:"string"});return JSON.parse(i)}async function uf(){let t=localStorage.getItem("plots_active_game_db");const e=await ld(t);return window.location.hostname=="localhost"?"http://localhost:5173/?shareId="+e:"http://plots.jsph.cx/?shareId="+e}const rr=window.location.search.substring(1).split("&").reduce((t,e)=>{const[o,n]=e.split("=");return t[o]=n,t},{});if(rr.shareId!=null||rr.shareId!=null){console.log("DECRYPING FROM shareId");const t=JSON.parse(sd(rr.shareId));localStorage.setItem("plots_temp_game_db",JSON.stringify(t)),console.log("DECRYPED DATA",t)}else localStorage.removeItem("plots_temp_game_db"),console.log("COMPRESSING GAME TO SHARE"),uf();function Te(){}const xi=t=>t;function Q(t,e){for(const o in e)t[o]=e[o];return t}function ff(t){return t()}function Il(){return Object.create(null)}function xe(t){t.forEach(ff)}function $t(t){return typeof t=="function"}function de(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function ad(t){return Object.keys(t).length===0}function el(t,...e){if(t==null){for(const n of e)n(void 0);return Te}const o=t.subscribe(...e);return o.unsubscribe?()=>o.unsubscribe():o}function cf(t){let e;return el(t,o=>e=o)(),e}function se(t,e,o){t.$$.on_destroy.push(el(e,o))}function ge(t,e,o,n){if(t){const i=df(t,e,o,n);return t[0](i)}}function df(t,e,o,n){return t[1]&&n?Q(o.ctx.slice(),t[1](n(e))):o.ctx}function _e(t,e,o,n){if(t[2]&&n){const i=t[2](n(o));if(e.dirty===void 0)return i;if(typeof i=="object"){const r=[],l=Math.max(e.dirty.length,i.length);for(let a=0;a<l;a+=1)r[a]=e.dirty[a]|i[a];return r}return e.dirty|i}return e.dirty}function be(t,e,o,n,i,r){if(i){const l=df(e,o,n,r);t.p(l,i)}}function ve(t){if(t.ctx.length>32){const e=[],o=t.ctx.length/32;for(let n=0;n<o;n++)e[n]=-1;return e}return-1}function $e(t){const e={};for(const o in t)o[0]!=="$"&&(e[o]=t[o]);return e}function ue(t,e){const o={};e=new Set(e);for(const n in t)!e.has(n)&&n[0]!=="$"&&(o[n]=t[n]);return o}function Ae(t,e,o){return t.set(o),e}function Be(t){return t&&$t(t.destroy)?t.destroy:Te}const mf=typeof window<"u";let tl=mf?()=>window.performance.now():()=>Date.now(),nl=mf?t=>requestAnimationFrame(t):Te;const Yn=new Set;function pf(t){Yn.forEach(e=>{e.c(t)||(Yn.delete(e),e.f())}),Yn.size!==0&&nl(pf)}function ol(t){let e;return Yn.size===0&&nl(pf),{promise:new Promise(o=>{Yn.add(e={c:t,f:o})}),abort(){Yn.delete(e)}}}const ud=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function b(t,e){t.appendChild(e)}function hf(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function fd(t){const e=T("style");return e.textContent="/* empty */",cd(hf(t),e),e.sheet}function cd(t,e){return b(t.head||t,e),e.sheet}function O(t,e,o){t.insertBefore(e,o||null)}function M(t){t.parentNode&&t.parentNode.removeChild(t)}function rt(t,e){for(let o=0;o<t.length;o+=1)t[o]&&t[o].d(e)}function T(t){return document.createElement(t)}function gf(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function K(t){return document.createTextNode(t)}function G(){return K(" ")}function Le(){return K("")}function z(t,e,o,n){return t.addEventListener(e,o,n),()=>t.removeEventListener(e,o,n)}function dd(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function L(t,e,o){o==null?t.removeAttribute(e):t.getAttribute(e)!==o&&t.setAttribute(e,o)}const md=["width","height"];function fe(t,e){const o=Object.getOwnPropertyDescriptors(t.__proto__);for(const n in e)e[n]==null?t.removeAttribute(n):n==="style"?t.style.cssText=e[n]:n==="__value"?t.value=t[n]=e[n]:o[n]&&o[n].set&&md.indexOf(n)===-1?t[n]=e[n]:L(t,n,e[n])}function pd(t,e){Object.keys(e).forEach(o=>{hd(t,o,e[o])})}function hd(t,e,o){const n=e.toLowerCase();n in t?t[n]=typeof t[n]=="boolean"&&o===""?!0:o:e in t?t[e]=typeof t[e]=="boolean"&&o===""?!0:o:L(t,e,o)}function dn(t){return/-/.test(t)?pd:fe}function gd(t){return Array.from(t.childNodes)}function ce(t,e){e=""+e,t.data!==e&&(t.data=e)}function Ml(t,e){t.value=e??""}function Xe(t,e,o,n){o==null?t.style.removeProperty(e):t.style.setProperty(e,o,"")}function pt(t,e,o){t.classList.toggle(e,!!o)}function _f(t,e,{bubbles:o=!1,cancelable:n=!1}={}){return new CustomEvent(t,{detail:e,bubbles:o,cancelable:n})}class sn{constructor(e=!1){ln(this,"is_svg",!1);ln(this,"e");ln(this,"n");ln(this,"t");ln(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,o,n=null){this.e||(this.is_svg?this.e=gf(o.nodeName):this.e=T(o.nodeType===11?"TEMPLATE":o.nodeName),this.t=o.tagName!=="TEMPLATE"?o:o.content,this.c(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let o=0;o<this.n.length;o+=1)O(this.t,this.n[o],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(M)}}const mi=new Map;let pi=0;function _d(t){let e=5381,o=t.length;for(;o--;)e=(e<<5)-e^t.charCodeAt(o);return e>>>0}function bd(t,e){const o={stylesheet:fd(e),rules:{}};return mi.set(t,o),o}function hi(t,e,o,n,i,r,l,a=0){const s=16.666/n;let u=`{
`;for(let p=0;p<=1;p+=s){const w=e+(o-e)*r(p);u+=p*100+`%{${l(w,1-w)}}
`}const f=u+`100% {${l(o,1-o)}}
}`,c=`__svelte_${_d(f)}_${a}`,d=hf(t),{stylesheet:m,rules:_}=mi.get(d)||bd(d,t);_[c]||(_[c]=!0,m.insertRule(`@keyframes ${c} ${f}`,m.cssRules.length));const h=t.style.animation||"";return t.style.animation=`${h?`${h}, `:""}${c} ${n}ms linear ${i}ms 1 both`,pi+=1,c}function gi(t,e){const o=(t.style.animation||"").split(", "),n=o.filter(e?r=>r.indexOf(e)<0:r=>r.indexOf("__svelte")===-1),i=o.length-n.length;i&&(t.style.animation=n.join(", "),pi-=i,pi||vd())}function vd(){nl(()=>{pi||(mi.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&M(e)}),mi.clear())})}let $o;function Po(t){$o=t}function Ho(){if(!$o)throw new Error("Function called outside component initialization");return $o}function Go(t){Ho().$$.on_mount.push(t)}function bf(t){Ho().$$.on_destroy.push(t)}function yd(){const t=Ho();return(e,o,{cancelable:n=!1}={})=>{const i=t.$$.callbacks[e];if(i){const r=_f(e,o,{cancelable:n});return i.slice().forEach(l=>{l.call(t,r)}),!r.defaultPrevented}return!0}}function Hi(t,e){return Ho().$$.context.set(t,e),e}function Gi(t){return Ho().$$.context.get(t)}function re(t,e){const o=t.$$.callbacks[e.type];o&&o.slice().forEach(n=>n.call(this,e))}const Gn=[],Ne=[];let Un=[];const Ar=[],vf=Promise.resolve();let Tr=!1;function yf(){Tr||(Tr=!0,vf.then(wf))}function il(){return yf(),vf}function et(t){Un.push(t)}function Ht(t){Ar.push(t)}const lr=new Set;let Fn=0;function wf(){if(Fn!==0)return;const t=$o;do{try{for(;Fn<Gn.length;){const e=Gn[Fn];Fn++,Po(e),wd(e.$$)}}catch(e){throw Gn.length=0,Fn=0,e}for(Po(null),Gn.length=0,Fn=0;Ne.length;)Ne.pop()();for(let e=0;e<Un.length;e+=1){const o=Un[e];lr.has(o)||(lr.add(o),o())}Un.length=0}while(Gn.length);for(;Ar.length;)Ar.pop()();Tr=!1,lr.clear(),Po(t)}function wd(t){if(t.fragment!==null){t.update(),xe(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(et)}}function kd(t){const e=[],o=[];Un.forEach(n=>t.indexOf(n)===-1?e.push(n):o.push(n)),o.forEach(n=>n()),Un=e}let go;function rl(){return go||(go=Promise.resolve(),go.then(()=>{go=null})),go}function Cn(t,e,o){t.dispatchEvent(_f(`${e?"intro":"outro"}${o}`))}const li=new Set;let Dt;function Me(){Dt={r:0,c:[],p:Dt}}function Oe(){Dt.r||xe(Dt.c),Dt=Dt.p}function y(t,e){t&&t.i&&(li.delete(t),t.i(e))}function S(t,e,o,n){if(t&&t.o){if(li.has(t))return;li.add(t),Dt.c.push(()=>{li.delete(t),n&&(o&&t.d(1),n())}),t.o(e)}else n&&n()}const ll={duration:0};function Gt(t,e,o){const n={direction:"in"};let i=e(t,o,n),r=!1,l,a,s=0;function u(){l&&gi(t,l)}function f(){const{delay:d=0,duration:m=300,easing:_=xi,tick:h=Te,css:p}=i||ll;p&&(l=hi(t,0,1,m,d,_,p,s++)),h(0,1);const w=tl()+d,v=w+m;a&&a.abort(),r=!0,et(()=>Cn(t,!0,"start")),a=ol(A=>{if(r){if(A>=v)return h(1,0),Cn(t,!0,"end"),u(),r=!1;if(A>=w){const E=_((A-w)/m);h(E,1-E)}}return r})}let c=!1;return{start(){c||(c=!0,gi(t),$t(i)?(i=i(n),rl().then(f)):f())},invalidate(){c=!1},end(){r&&(u(),r=!1)}}}function Vt(t,e,o){const n={direction:"out"};let i=e(t,o,n),r=!0,l;const a=Dt;a.r+=1;let s;function u(){const{delay:f=0,duration:c=300,easing:d=xi,tick:m=Te,css:_}=i||ll;_&&(l=hi(t,1,0,c,f,d,_));const h=tl()+f,p=h+c;et(()=>Cn(t,!1,"start")),"inert"in t&&(s=t.inert,t.inert=!0),ol(w=>{if(r){if(w>=p)return m(0,1),Cn(t,!1,"end"),--a.r||xe(a.c),!1;if(w>=h){const v=d((w-h)/c);m(1-v,v)}}return r})}return $t(i)?rl().then(()=>{i=i(n),u()}):u(),{end(f){f&&"inert"in t&&(t.inert=s),f&&i.tick&&i.tick(1,0),r&&(l&&gi(t,l),r=!1)}}}function gt(t,e,o,n){let r=e(t,o,{direction:"both"}),l=n?0:1,a=null,s=null,u=null,f;function c(){u&&gi(t,u)}function d(_,h){const p=_.b-l;return h*=Math.abs(p),{a:l,b:_.b,d:p,duration:h,start:_.start,end:_.start+h,group:_.group}}function m(_){const{delay:h=0,duration:p=300,easing:w=xi,tick:v=Te,css:A}=r||ll,E={start:tl()+h,b:_};_||(E.group=Dt,Dt.r+=1),"inert"in t&&(_?f!==void 0&&(t.inert=f):(f=t.inert,t.inert=!0)),a||s?s=E:(A&&(c(),u=hi(t,l,_,p,h,w,A)),_&&v(0,1),a=d(E,p),et(()=>Cn(t,_,"start")),ol(j=>{if(s&&j>s.start&&(a=d(s,p),s=null,Cn(t,a.b,"start"),A&&(c(),u=hi(t,l,a.b,a.duration,0,w,r.css))),a){if(j>=a.end)v(l=a.b,1-l),Cn(t,a.b,"end"),s||(a.b?c():--a.group.r||xe(a.group.c)),a=null;else if(j>=a.start){const F=j-a.start;l=a.a+a.d*w(F/a.duration),v(l,1-l)}}return!!(a||s)}))}return{run(_){$t(r)?rl().then(()=>{r=r({direction:_?"in":"out"}),m(_)}):m(_)},end(){c(),a=s=null}}}function Ge(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Cd(t,e){S(t,1,1,()=>{e.delete(t.key)})}function Sd(t,e,o,n,i,r,l,a,s,u,f,c){let d=t.length,m=r.length,_=d;const h={};for(;_--;)h[t[_].key]=_;const p=[],w=new Map,v=new Map,A=[];for(_=m;_--;){const $=c(i,r,_),P=o($);let R=l.get(P);R?A.push(()=>R.p($,e)):(R=u(P,$),R.c()),w.set(P,p[_]=R),P in h&&v.set(P,Math.abs(_-h[P]))}const E=new Set,j=new Set;function F($){y($,1),$.m(a,f),l.set($.key,$),f=$.first,m--}for(;d&&m;){const $=p[m-1],P=t[d-1],R=$.key,q=P.key;$===P?(f=$.first,d--,m--):w.has(q)?!l.has(R)||E.has(R)?F($):j.has(q)?d--:v.get(R)>v.get(q)?(j.add(R),F($)):(E.add(q),d--):(s(P,l),d--)}for(;d--;){const $=t[d];w.has($.key)||s($,l)}for(;m;)F(p[m-1]);return xe(A),p}function Se(t,e){const o={},n={},i={$$scope:1};let r=t.length;for(;r--;){const l=t[r],a=e[r];if(a){for(const s in l)s in a||(n[s]=1);for(const s in a)i[s]||(o[s]=a[s],i[s]=1);t[r]=a}else for(const s in l)i[s]=1}for(const l in n)l in o||(o[l]=void 0);return o}function lt(t){return typeof t=="object"&&t!==null?t:{}}function Wt(t,e,o){const n=t.$$.props[e];n!==void 0&&(t.$$.bound[n]=o,o(t.$$.ctx[n]))}function U(t){t&&t.c()}function W(t,e,o){const{fragment:n,after_update:i}=t.$$;n&&n.m(e,o),et(()=>{const r=t.$$.on_mount.map(ff).filter($t);t.$$.on_destroy?t.$$.on_destroy.push(...r):xe(r),t.$$.on_mount=[]}),i.forEach(et)}function Y(t,e){const o=t.$$;o.fragment!==null&&(kd(o.after_update),xe(o.on_destroy),o.fragment&&o.fragment.d(e),o.on_destroy=o.fragment=null,o.ctx=[])}function Ad(t,e){t.$$.dirty[0]===-1&&(Gn.push(t),yf(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function pe(t,e,o,n,i,r,l=null,a=[-1]){const s=$o;Po(t);const u=t.$$={fragment:null,ctx:[],props:r,update:Te,not_equal:i,bound:Il(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(s?s.$$.context:[])),callbacks:Il(),dirty:a,skip_bound:!1,root:e.target||s.$$.root};l&&l(u.root);let f=!1;if(u.ctx=o?o(t,e.props||{},(c,d,...m)=>{const _=m.length?m[0]:d;return u.ctx&&i(u.ctx[c],u.ctx[c]=_)&&(!u.skip_bound&&u.bound[c]&&u.bound[c](_),f&&Ad(t,c)),d}):[],u.update(),f=!0,xe(u.before_update),u.fragment=n?n(u.ctx):!1,e.target){if(e.hydrate){const c=gd(e.target);u.fragment&&u.fragment.l(c),c.forEach(M)}else u.fragment&&u.fragment.c();e.intro&&y(t.$$.fragment),W(t,e.target,e.anchor),wf()}Po(s)}class he{constructor(){ln(this,"$$");ln(this,"$$set")}$destroy(){Y(this,1),this.$destroy=Te}$on(e,o){if(!$t(o))return Te;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(o),()=>{const i=n.indexOf(o);i!==-1&&n.splice(i,1)}}$set(e){this.$$set&&!ad(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Td="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Td);const Bn=[];function Sn(t,e){return{subscribe:Ve(t,e).subscribe}}function Ve(t,e=Te){let o;const n=new Set;function i(a){if(de(t,a)&&(t=a,o)){const s=!Bn.length;for(const u of n)u[1](),Bn.push(u,t);if(s){for(let u=0;u<Bn.length;u+=2)Bn[u][0](Bn[u+1]);Bn.length=0}}}function r(a){i(a(t))}function l(a,s=Te){const u=[a,s];return n.add(u),n.size===1&&(o=e(i,r)||Te),a(t),()=>{n.delete(u),n.size===0&&o&&(o(),o=null)}}return{set:i,update:r,subscribe:l}}function tn(t,e,o){const n=!Array.isArray(t),i=n?[t]:t;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const r=e.length<2;return Sn(o,(l,a)=>{let s=!1;const u=[];let f=0,c=Te;const d=()=>{if(f)return;c();const _=e(n?u[0]:u,l,a);r?l(_):c=$t(_)?_:Te},m=i.map((_,h)=>el(_,p=>{u[h]=p,f&=~(1<<h),s&&d()},()=>{f|=1<<h}));return s=!0,d(),function(){xe(m),c(),s=!1}})}function Ol(t){return{subscribe:t.subscribe.bind(t)}}const kf={gameId:Math.floor(Math.random()*1e10),plots:[],timeSpent:0,lastChangeDay:0,townLog:[],currentTutorialStep:0,gameSettings:[],resource_capacity:1e3,townInfo:{name:"Your town",gold:150,population_count:0,population_max:0,employees:0,guardians:0,happiness:150,health:150,recreation:0,community:150,knowledge_points:0,productivity:100},kingdom_expansions:0,resources:{food:150,wood:750,stone:750,metal:5,power:0,bureaucracy:0},resource_rate:{food:0,wood:0,stone:0,metal:0,bureaucracy:0,knowledge:0},hasCityHall:!1,hasBank:!1,hasHospital:!1,hasLab:!1,modifiers:{happiness:1,health:1,community:1},economyAndLaws:{tax_rate:.1,max_tax_rate:1,weeklyProfit:0,knowledge_gold_market_rates:[],enacted:[]},plotCounts:[],environment:{day:0,year:1},maximums:{health:300,happiness:300,community:300},difficulty:0,endGoal:"land",endGameDetails:{msg:"",win:!1,still_playing:!0},tick:0,overtime:!1,last_warning_happiness:0,last_warning_health:0,lab:{active_experiment:null,past_experiments:[],xp:0},liege_location:null},Id={username:"",stats:{games_played:0,wins:0,losses:0},achievements:[],selectedGame:0,games:[],customAlertsShown:[]};var Ze=(t=>(t[t.GOOD=0]="GOOD",t[t.BAD=1]="BAD",t[t.NORMAL=2]="NORMAL",t))(Ze||{}),sl=(t=>(t.START_GAME="start_game",t.BUILD_PLOT="build_plot",t))(sl||{});const Cf={0:"Easy",1:"Normal",2:"Hard"},Md={0:Math.random()*(.5-.3)+.3,1:Math.random()*(.4-.2)+.2,2:Math.random()*(.4-.2)+.2},te=[{id:"small_homes",emoji:"🏠",title:"Homes",type:"residential",description:"+16 people",revenue_per_week:0,requirements:{gold:150,plots:[],employees:0,knowledge:0,size:1,xp:0,resources:{food:0,wood:50,stone:10,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:16,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:2,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"Listen to the townspeople.",weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"large_homes",emoji:"🏡",title:"Large Homes",type:"residential",description:"+32 people",revenue_per_week:0,requirements:{gold:1800,plots:[],employees:0,knowledge:0,size:1,xp:0,resources:{food:0,wood:350,stone:100,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.01,health:1,community:1},immediate_variable_changes:{happiness:10,health:0,population:32,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:40,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"Listen to the townspeople.",weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"farm",emoji:"🥕",title:"Farm",type:"farm",description:"Produces veggies, grains, fruit",revenue_per_week:10,requirements:{gold:150,plots:[],employees:6,knowledge:0,size:1,xp:0,resources:{food:0,wood:15,stone:15,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.03,health:1.03,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:10,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},check_for_variety:!1,liege_on_plot_hint:"Your presence on the farm is encouraging the farmers to work harder!",weekly_effect_modifiers:{happiness:1,health:1.002,community:1}},{id:"tree_farm",emoji:"🌲",title:"Tree Farm",type:"lumber",description:"Produces some wood",revenue_per_week:8,requirements:{gold:300,plots:[],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},check_for_variety:!0,styling:"",affordable:null,selected:null,knowledge_points_per_month:0,generated_resources:{food:0,wood:10,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"Your presence on the farm is encouraging the farmers to work harder!",weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"quarry",emoji:"⛏️",title:"Quarry",type:"quarry",description:"Produces stone, small amounts of metal. Isn't great for health. ",revenue_per_week:0,requirements:{gold:2e3,plots:[],employees:6,knowledge:0,size:1,xp:0,resources:{food:0,wood:150,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1,health:.98,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:16,metal:1,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"The workers at the quarry are working harder with the presence of their liege.",weekly_effect_modifiers:{happiness:1,health:.998,community:.9998}},{id:"Apothecary",emoji:"🌿",title:"Apothecary",type:"medical",description:"Produces medicine from herbs and plants found in the forest. Increases health overall for a short bit. Fine until you can build a Healing House.",revenue_per_week:0,requirements:{gold:600,plots:[],employees:2,knowledge:0,size:1,xp:0,resources:{food:0,wood:250,stone:250,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.15,health:1.15,community:1},immediate_variable_changes:{happiness:25,health:30,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1.03,community:1}},{id:"livestock_farm",emoji:"🐄",title:"Livestock",type:"farm",description:"Makes more money and food than a regular farm, but doesn't bonus from water.",revenue_per_week:60,requirements:{gold:600,plots:[],employees:8,knowledge:0,size:1,xp:0,resources:{food:0,wood:20,stone:20,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.1,health:1.05,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:14,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},check_for_variety:!1,liege_on_plot_hint:"The cows are producing more milk and cheese when you are hanging out on the farm.",weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"stockpile",emoji:"📦",title:"Stockpile",type:"stockpile",description:"Enables you to store more resources. Costs gold weekly.",revenue_per_week:0,requirements:{gold:600,plots:[],employees:2,knowledge:0,size:1,xp:0,resources:{food:0,wood:220,stone:60,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:15,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},check_for_variety:!1,liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"adv_stockpile",emoji:"📦📦",title:"Adv. Stockpile",type:"stockpile",description:"Stores more than a normal Stockpile. Costs more to build & operate.",revenue_per_week:0,requirements:{gold:3e3,plots:[],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:2e3,stone:2e3,metal:200,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:100,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},check_for_variety:!1,liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"bakery",emoji:"🥖",title:"Bakery",type:"business",description:"Converts food into some extra cash. Make sure you have enough food.",revenue_per_week:80,requirements:{gold:1800,plots:[],employees:3,knowledge:0,size:1,xp:0,resources:{food:0,wood:300,stone:300,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.11,health:.95,community:1},immediate_variable_changes:{happiness:25,health:0,population:0,community:0,bureaucracy:0},check_for_variety:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:15},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"stables",emoji:"🐴",title:"Stables",type:"recreation",description:"Improves the health of the town and provides recreation.",revenue_per_week:24,requirements:{gold:1700,plots:[],employees:2,knowledge:0,size:1,xp:0,resources:{food:0,wood:280,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.2,health:1.2,community:1},immediate_variable_changes:{happiness:5,health:10,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"church",emoji:"⛪️",title:"Church",type:"recreation",description:"Great place to pray, make people happy, and build community. Also, generates a tiny bit of knowledge. ",revenue_per_week:0,requirements:{gold:1e3,plots:[],employees:1,knowledge:0,size:1,xp:0,resources:{food:0,wood:1250,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.1,health:1,community:1.2},immediate_variable_changes:{happiness:25,health:0,population:0,community:25,bureaucracy:0},knowledge_points_per_month:5,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1.002,health:1,community:1}},{id:"pub",emoji:"🍻",title:"Pub",type:"recreation",description:"Generates knowledge, happiness, community. Isn't great for health.",revenue_per_week:100,knowledge_points_per_month:5,requirements:{gold:2e3,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:1200,stone:250,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.2,health:.97,community:1.1},immediate_variable_changes:{happiness:10,health:-15,population:0,community:0,bureaucracy:0},check_for_variety:!0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1.001,health:.998,community:1}},{id:"village_market",emoji:"🛒",title:"Market",type:"shop",description:"Turns food into money. Sells goods and employs many. Makes significantly more money from tourism if you have a Village Inn.",revenue_per_week:150,requirements:{gold:6e3,plots:[],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:1600,stone:600,metal:5,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.05,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:15,wood:35,stone:0,metal:0,bureaucracy:0,food:35},liege_on_plot_hint:"Your presence is helping the market make more money.",weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"fishery",emoji:"🐠",title:"Fishery",type:"business",description:"Requires metal but generates a lot of food. Must be near water.",revenue_per_week:35,requirements:{gold:7500,plots:[],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:3e3,stone:0,metal:100,power:0,bureaucracy:0},adjacent_plots:["water"]},purchase_effect_modifiers:{happiness:1.05,health:1,community:1},immediate_variable_changes:{happiness:5,health:8,population:0,community:0,bureaucracy:0},check_for_variety:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:85,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"Your expertise in fishing is helping the town reel in far more fish!",weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"vineyard",emoji:"🍇",title:"Vineyard",type:"recreation",description:"Makes fair money, lowers health. Generates knowledge too similar to a pub.",revenue_per_week:60,requirements:{gold:1800,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:1200,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.2,health:.9,community:1},immediate_variable_changes:{happiness:0,health:-10,population:0,community:0,bureaucracy:0},knowledge_points_per_month:3,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1.001,health:.998,community:1}},{id:"water_wheel",emoji:"💧",title:"Water Wheel",type:"industrial",description:"Produces small amount of power",revenue_per_week:0,requirements:{gold:1600,plots:[],employees:15,knowledge:0,size:1,xp:0,resources:{food:0,wood:2e3,stone:25,metal:0,power:0,bureaucracy:0},adjacent_plots:["water"]},purchase_effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:35,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"You are trying to improve the efficiency of the water wheel, but you aren't making a difference.",weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"adv_water_wheel",emoji:"💧💧",title:"Adv. Water Wheel",type:"industrial",description:"Produces a large amount of power",revenue_per_week:0,requirements:{gold:3e3,plots:["blacksmith"],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:1200,stone:150,metal:500,power:0,bureaucracy:0},adjacent_plots:["water"]},purchase_effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:250,bureaucracy:0},level:4,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"You are trying to improve the efficiency of the water wheel, but you aren't making a difference.",weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"adv_farm",emoji:"🌾",title:"Adv. Farm",type:"farm",description:"Uses knowledge and technology to produce more food, with only 1 employee.",revenue_per_week:60,requirements:{gold:750,plots:[],employees:1,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:300,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:15,health:15,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:180,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:100,wood:0,stone:0,metal:3,bureaucracy:0,food:0},check_for_variety:!1,liege_on_plot_hint:"Your presence on the farm is encouraging the farmer to work harder!",weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"park",emoji:"🎪",title:"Park",type:"recreation",description:"Makes people extremely happy & healthy for a period. Improves community.",revenue_per_week:0,requirements:{gold:600,plots:[],employees:3,knowledge:0,size:1,xp:0,resources:{food:0,wood:100,stone:100,metal:10,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.5,health:1.5,community:1.3},immediate_variable_changes:{happiness:40,health:40,population:0,community:40,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1.002,community:1.002}},{id:"village_inn",emoji:"🛌",title:"Village Inn",type:"tourism",description:"Each inn brings more visitors to your town, increasing profits for the Market and other stores.",revenue_per_week:40,requirements:{gold:5500,plots:[],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:3e3,stone:100,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1,health:1,community:1.02},immediate_variable_changes:{happiness:10,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:20,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"schoolhouse",emoji:"🏫",title:"Schoolhouse",type:"education",description:"Produces knowledge, costs money to run.",revenue_per_week:0,knowledge_points_per_month:75,requirements:{gold:15e3,plots:["library"],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:3e3,stone:600,metal:100,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.1,health:1.1,community:1.2},immediate_variable_changes:{happiness:15,health:3,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:50,power:20,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"The children seem to be learning worse when you are around, maybe you are a distraction from the teachers.",weekly_effect_modifiers:{happiness:1,health:1.002,community:1.002}},{id:"academy",emoji:"🎓",title:"Academy",type:"education",description:"Produces a lot of knowledge, more than a schoolhouse or library, but costs gold every week.",revenue_per_week:0,knowledge_points_per_month:200,requirements:{gold:5e4,plots:[],employees:32,knowledge:1e3,size:1,xp:0,resources:{food:0,wood:4500,stone:4500,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:50,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:5,active_costs:{gold:150,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"blacksmith",emoji:"⚒️",title:"Blacksmith",type:"business",description:"Converts metal into tools for money. Make sure you have enough metal!",revenue_per_week:150,requirements:{gold:18e3,plots:[],employees:6,knowledge:0,size:1,xp:0,resources:{food:0,wood:250,stone:1e4,metal:1e3,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:30,wood:0,stone:0,metal:50,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"library",emoji:"📕",title:"Library",type:"recreation",description:"Produces knowledge and happiness",revenue_per_week:0,knowledge_points_per_month:20,requirements:{gold:2e3,plots:[],employees:6,knowledge:0,size:1,xp:0,resources:{food:0,wood:2025,stone:500,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.3,health:1,community:1.1},immediate_variable_changes:{happiness:15,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"lumber_mill",emoji:"🏭",title:"Lumber Mill",type:"industrial",description:"Increases wood production by 50%, has to be next to a tree farm, but increases production at all.",revenue_per_week:0,requirements:{gold:12e3,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:1500,stone:1500,metal:300,power:0,bureaucracy:0},adjacent_plots:["tree_farm"]},purchase_effect_modifiers:{happiness:1.2,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:50,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:40,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:.9998}},{id:"solar_farm",emoji:"☀️",title:"Solar farm",type:"industrial",description:"Produces a lot of power without the need of water. Requires a lot of metal every week.",revenue_per_week:0,requirements:{gold:5e4,plots:["blacksmith","library"],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:1e3,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:750,bureaucracy:0},level:4,active_costs:{gold:0,power:0,wood:0,stone:0,metal:25,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"general_store",emoji:"🛒",title:"General Store",type:"shop",description:"Makes the most money of any plot, requires power. Makes significantly more from tourism if you have a Village Inn.",revenue_per_week:750,requirements:{gold:27500,plots:[],employees:32,knowledge:0,size:1,xp:0,resources:{food:0,wood:3e4,stone:5e3,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:2,health:2,community:1.1},immediate_variable_changes:{happiness:50,health:50,population:0,community:50,bureaucracy:0},check_for_variety:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:160,wood:0,stone:0,metal:0,bureaucracy:0,food:100},liege_on_plot_hint:"Your experience managing towns is increasing the profits at the general store!",weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"healing_house",emoji:"🏥",title:"Healing House",type:"medical",description:"Treats the sick and continuously improves health.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:3e4,plots:["mine"],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:1e3,stone:2e3,metal:500,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.25,health:1.5,community:1.1},immediate_variable_changes:{happiness:5,health:75,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:30,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"city_hall",emoji:"🗳️",title:"City Hall",type:"federal",description:"Generates bureaucracy that can be used to pass laws to impact the city and expand. Costs a LOT of gold every week.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:125e3,plots:[],employees:32,knowledge:1e4,size:1,xp:0,resources:{food:0,wood:3250,stone:2e3,metal:200,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1,health:1,community:1.3},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:10},level:5,active_costs:{gold:600,power:20,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"mine",emoji:"⛏️",title:"Mine",type:"mine",description:"Produces a significant amount of metal and stone.",revenue_per_week:0,requirements:{gold:3e4,plots:["library","quarry"],employees:48,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:110,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1,health:.95,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:10,metal:60,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:80,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:.998,community:.9998}},{id:"university",emoji:"🏫",title:"University",type:"education",description:"Produces the most knowledge, but costs a lot of gold every week.",revenue_per_week:0,knowledge_points_per_month:500,requirements:{gold:5e4,plots:[],employees:32,knowledge:5e3,size:1,xp:0,resources:{food:0,wood:4500,stone:4500,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:1.1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:50,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:5,active_costs:{gold:500,power:100,wood:100,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"bank",emoji:"🏦",title:"Bank",type:"bank",description:"Enables the conversion of knowledge to gold, and increases maximum tax rate so you can make more money.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:1e5,plots:[],employees:32,knowledge:25e3,size:1,xp:0,resources:{food:0,wood:1e3,stone:1e4,metal:1e3,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:.8,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:5,active_costs:{gold:0,power:100,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}},{id:"lab",emoji:"🧪",title:"Laboratory",type:"science",description:"Designs things to help the city grow",revenue_per_week:0,knowledge_points_per_month:300,requirements:{gold:1e5,plots:[],employees:48,knowledge:15e3,size:1,xp:0,resources:{food:0,wood:0,stone:1e4,metal:5e3,power:0,bureaucracy:0},adjacent_plots:[]},purchase_effect_modifiers:{happiness:.98,health:.99,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:5,active_costs:{gold:5e3,power:1e3,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null,weekly_effect_modifiers:{happiness:1,health:1,community:1}}],_o={empty_unusable:"rgba(255,255,255,0.50)",empty_buildable:"rgba(239,234,90,1.0)",residential:"rgba(222,118,51,1.0)",farm:"rgba(107,143,73,1.0)",lumber:"rgba(145,116,44,1.0)",business:"rgba(146,115,165,1.0)",recreation:"rgba(82,119,177,1.0)",shop:"rgba(82,119,177,1.0)",tourism:"rgba(216,150,216,1.0)",education:"rgba(153,151,223,1.0)",medical:"rgba(74,91,163,1.0)",bank:"rgba(132,119,190,1.0)",federal:"rgba(132,119,190,1.0)",science:"rgba(74,91,163,1.0)",mine:"rgba(217,135,74,1.0)",quarry:"rgba(134,134,133,1.0)",industrial:"rgba(22, 50, 255,0.8)",stockpile:"rgba(134,134,133,1.0)"};function Ir(t,e=!1,o=22){if(t<0)return t==-1?e?_o.empty_buildable:_o.empty_unusable:t==-2?_o.recreation:_o.empty_unusable;const n=te[t];return Pd(_o[n.type],o)}const Od={lab:1,city_hall:1,bank:1,community_center:1,lumber_mill:1},Pd=(t,e=20)=>{const o=(l,a,s)=>{l/=255,a/=255,s/=255;const u=Math.max(l,a,s),f=Math.min(l,a,s);let c=0,d=0,m=(u+f)/2;if(u!==f){const _=u-f;switch(d=m>.5?_/(2-u-f):_/(u+f),u){case l:c=(a-s)/_+(a<s?6:0);break;case a:c=(s-l)/_+2;break;case s:c=(l-a)/_+4;break}c/=6}return[c*360,d,m]},n=(l,a,s,u)=>{const f=Math.min(1,s+u/100);return`hsl(${l}, ${(a*100).toFixed(1)}%, ${(f*100).toFixed(1)}%)`},i=l=>{const a=l.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)/);return a?[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]:null};let r=null;if(t.startsWith("#")){const l=t.replace("#",""),a=parseInt(l,16);r=[a>>16&255,a>>8&255,a&255]}else(t.startsWith("rgba")||t.startsWith("rgb"))&&(r=i(t));if(r){const[l,a,s]=o(r[0],r[1],r[2]);return n(l,a,s,e)}throw new Error("Invalid color format")};function Sf(t){var e,o,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(o=Sf(t[e]))&&(n&&(n+=" "),n+=o)}else for(o in t)t[o]&&(n&&(n+=" "),n+=o);return n}function Nd(){for(var t,e,o=0,n="",i=arguments.length;o<i;o++)(t=arguments[o])&&(e=Sf(t))&&(n&&(n+=" "),n+=e);return n}const al="-";function Ed(t){const e=$d(t),{conflictingClassGroups:o,conflictingClassGroupModifiers:n}=t;function i(l){const a=l.split(al);return a[0]===""&&a.length!==1&&a.shift(),Af(a,e)||Rd(l)}function r(l,a){const s=o[l]||[];return a&&n[l]?[...s,...n[l]]:s}return{getClassGroupId:i,getConflictingClassGroupIds:r}}function Af(t,e){var l;if(t.length===0)return e.classGroupId;const o=t[0],n=e.nextPart.get(o),i=n?Af(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const r=t.join(al);return(l=e.validators.find(({validator:a})=>a(r)))==null?void 0:l.classGroupId}const Pl=/^\[(.+)\]$/;function Rd(t){if(Pl.test(t)){const e=Pl.exec(t)[1],o=e==null?void 0:e.substring(0,e.indexOf(":"));if(o)return"arbitrary.."+o}}function $d(t){const{theme:e,prefix:o}=t,n={nextPart:new Map,validators:[]};return Dd(Object.entries(t.classGroups),o).forEach(([r,l])=>{Mr(l,n,r,e)}),n}function Mr(t,e,o,n){t.forEach(i=>{if(typeof i=="string"){const r=i===""?e:Nl(e,i);r.classGroupId=o;return}if(typeof i=="function"){if(Ld(i)){Mr(i(n),e,o,n);return}e.validators.push({validator:i,classGroupId:o});return}Object.entries(i).forEach(([r,l])=>{Mr(l,Nl(e,r),o,n)})})}function Nl(t,e){let o=t;return e.split(al).forEach(n=>{o.nextPart.has(n)||o.nextPart.set(n,{nextPart:new Map,validators:[]}),o=o.nextPart.get(n)}),o}function Ld(t){return t.isThemeGetter}function Dd(t,e){return e?t.map(([o,n])=>{const i=n.map(r=>typeof r=="string"?e+r:typeof r=="object"?Object.fromEntries(Object.entries(r).map(([l,a])=>[e+l,a])):r);return[o,i]}):t}function jd(t){if(t<1)return{get:()=>{},set:()=>{}};let e=0,o=new Map,n=new Map;function i(r,l){o.set(r,l),e++,e>t&&(e=0,n=o,o=new Map)}return{get(r){let l=o.get(r);if(l!==void 0)return l;if((l=n.get(r))!==void 0)return i(r,l),l},set(r,l){o.has(r)?o.set(r,l):i(r,l)}}}const Tf="!";function Fd(t){const e=t.separator,o=e.length===1,n=e[0],i=e.length;return function(l){const a=[];let s=0,u=0,f;for(let h=0;h<l.length;h++){let p=l[h];if(s===0){if(p===n&&(o||l.slice(h,h+i)===e)){a.push(l.slice(u,h)),u=h+i;continue}if(p==="/"){f=h;continue}}p==="["?s++:p==="]"&&s--}const c=a.length===0?l:l.substring(u),d=c.startsWith(Tf),m=d?c.substring(1):c,_=f&&f>u?f-u:void 0;return{modifiers:a,hasImportantModifier:d,baseClassName:m,maybePostfixModifierPosition:_}}}function Bd(t){if(t.length<=1)return t;const e=[];let o=[];return t.forEach(n=>{n[0]==="["?(e.push(...o.sort(),n),o=[]):o.push(n)}),e.push(...o.sort()),e}function qd(t){return{cache:jd(t.cacheSize),splitModifiers:Fd(t),...Ed(t)}}const xd=/\s+/;function Hd(t,e){const{splitModifiers:o,getClassGroupId:n,getConflictingClassGroupIds:i}=e,r=new Set;return t.trim().split(xd).map(l=>{const{modifiers:a,hasImportantModifier:s,baseClassName:u,maybePostfixModifierPosition:f}=o(l);let c=n(f?u.substring(0,f):u),d=!!f;if(!c){if(!f)return{isTailwindClass:!1,originalClassName:l};if(c=n(u),!c)return{isTailwindClass:!1,originalClassName:l};d=!1}const m=Bd(a).join(":");return{isTailwindClass:!0,modifierId:s?m+Tf:m,classGroupId:c,originalClassName:l,hasPostfixModifier:d}}).reverse().filter(l=>{if(!l.isTailwindClass)return!0;const{modifierId:a,classGroupId:s,hasPostfixModifier:u}=l,f=a+s;return r.has(f)?!1:(r.add(f),i(s,u).forEach(c=>r.add(a+c)),!0)}).reverse().map(l=>l.originalClassName).join(" ")}function Gd(){let t=0,e,o,n="";for(;t<arguments.length;)(e=arguments[t++])&&(o=If(e))&&(n&&(n+=" "),n+=o);return n}function If(t){if(typeof t=="string")return t;let e,o="";for(let n=0;n<t.length;n++)t[n]&&(e=If(t[n]))&&(o&&(o+=" "),o+=e);return o}function Or(t,...e){let o,n,i,r=l;function l(s){const u=e.reduce((f,c)=>c(f),t());return o=qd(u),n=o.cache.get,i=o.cache.set,r=a,a(s)}function a(s){const u=n(s);if(u)return u;const f=Hd(s,o);return i(s,f),f}return function(){return r(Gd.apply(null,arguments))}}function Ke(t){const e=o=>o[t]||[];return e.isThemeGetter=!0,e}const Mf=/^\[(?:([a-z-]+):)?(.+)\]$/i,Vd=/^\d+\/\d+$/,Wd=new Set(["px","full","screen"]),Yd=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Ud=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Kd=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Jd=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Xd=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function Jt(t){return wn(t)||Wd.has(t)||Vd.test(t)}function an(t){return so(t,"length",im)}function wn(t){return!!t&&!Number.isNaN(Number(t))}function Jo(t){return so(t,"number",wn)}function bo(t){return!!t&&Number.isInteger(Number(t))}function Zd(t){return t.endsWith("%")&&wn(t.slice(0,-1))}function Fe(t){return Mf.test(t)}function un(t){return Yd.test(t)}const Qd=new Set(["length","size","percentage"]);function zd(t){return so(t,Qd,Of)}function em(t){return so(t,"position",Of)}const tm=new Set(["image","url"]);function nm(t){return so(t,tm,lm)}function om(t){return so(t,"",rm)}function vo(){return!0}function so(t,e,o){const n=Mf.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):o(n[2]):!1}function im(t){return Ud.test(t)&&!Kd.test(t)}function Of(){return!1}function rm(t){return Jd.test(t)}function lm(t){return Xd.test(t)}function Pr(){const t=Ke("colors"),e=Ke("spacing"),o=Ke("blur"),n=Ke("brightness"),i=Ke("borderColor"),r=Ke("borderRadius"),l=Ke("borderSpacing"),a=Ke("borderWidth"),s=Ke("contrast"),u=Ke("grayscale"),f=Ke("hueRotate"),c=Ke("invert"),d=Ke("gap"),m=Ke("gradientColorStops"),_=Ke("gradientColorStopPositions"),h=Ke("inset"),p=Ke("margin"),w=Ke("opacity"),v=Ke("padding"),A=Ke("saturate"),E=Ke("scale"),j=Ke("sepia"),F=Ke("skew"),$=Ke("space"),P=Ke("translate"),R=()=>["auto","contain","none"],q=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",Fe,e],C=()=>[Fe,e],k=()=>["",Jt,an],N=()=>["auto",wn,Fe],B=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],D=()=>["solid","dashed","dotted","double","none"],J=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"],Z=()=>["start","end","center","between","around","evenly","stretch"],X=()=>["","0",Fe],ne=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ee=()=>[wn,Jo],oe=()=>[wn,Fe];return{cacheSize:500,separator:":",theme:{colors:[vo],spacing:[Jt,an],blur:["none","",un,Fe],brightness:ee(),borderColor:[t],borderRadius:["none","","full",un,Fe],borderSpacing:C(),borderWidth:k(),contrast:ee(),grayscale:X(),hueRotate:oe(),invert:X(),gap:C(),gradientColorStops:[t],gradientColorStopPositions:[Zd,an],inset:I(),margin:I(),opacity:ee(),padding:C(),saturate:ee(),scale:ee(),sepia:X(),skew:oe(),space:C(),translate:C()},classGroups:{aspect:[{aspect:["auto","square","video",Fe]}],container:["container"],columns:[{columns:[un]}],"break-after":[{"break-after":ne()}],"break-before":[{"break-before":ne()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...B(),Fe]}],overflow:[{overflow:q()}],"overflow-x":[{"overflow-x":q()}],"overflow-y":[{"overflow-y":q()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[h]}],"inset-x":[{"inset-x":[h]}],"inset-y":[{"inset-y":[h]}],start:[{start:[h]}],end:[{end:[h]}],top:[{top:[h]}],right:[{right:[h]}],bottom:[{bottom:[h]}],left:[{left:[h]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",bo,Fe]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Fe]}],grow:[{grow:X()}],shrink:[{shrink:X()}],order:[{order:["first","last","none",bo,Fe]}],"grid-cols":[{"grid-cols":[vo]}],"col-start-end":[{col:["auto",{span:["full",bo,Fe]},Fe]}],"col-start":[{"col-start":N()}],"col-end":[{"col-end":N()}],"grid-rows":[{"grid-rows":[vo]}],"row-start-end":[{row:["auto",{span:[bo,Fe]},Fe]}],"row-start":[{"row-start":N()}],"row-end":[{"row-end":N()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Fe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Fe]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal",...Z()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Z(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Z(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[p]}],mx:[{mx:[p]}],my:[{my:[p]}],ms:[{ms:[p]}],me:[{me:[p]}],mt:[{mt:[p]}],mr:[{mr:[p]}],mb:[{mb:[p]}],ml:[{ml:[p]}],"space-x":[{"space-x":[$]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[$]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Fe,e]}],"min-w":[{"min-w":[Fe,e,"min","max","fit"]}],"max-w":[{"max-w":[Fe,e,"none","full","min","max","fit","prose",{screen:[un]},un]}],h:[{h:[Fe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Fe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Fe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Fe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",un,an]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Jo]}],"font-family":[{font:[vo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Fe]}],"line-clamp":[{"line-clamp":["none",wn,Jo]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Jt,Fe]}],"list-image":[{"list-image":["none",Fe]}],"list-style-type":[{list:["none","disc","decimal",Fe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...D(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Jt,an]}],"underline-offset":[{"underline-offset":["auto",Jt,Fe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Fe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Fe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...B(),em]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",zd]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},nm]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[_]}],"gradient-via-pos":[{via:[_]}],"gradient-to-pos":[{to:[_]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[r]}],"rounded-s":[{"rounded-s":[r]}],"rounded-e":[{"rounded-e":[r]}],"rounded-t":[{"rounded-t":[r]}],"rounded-r":[{"rounded-r":[r]}],"rounded-b":[{"rounded-b":[r]}],"rounded-l":[{"rounded-l":[r]}],"rounded-ss":[{"rounded-ss":[r]}],"rounded-se":[{"rounded-se":[r]}],"rounded-ee":[{"rounded-ee":[r]}],"rounded-es":[{"rounded-es":[r]}],"rounded-tl":[{"rounded-tl":[r]}],"rounded-tr":[{"rounded-tr":[r]}],"rounded-br":[{"rounded-br":[r]}],"rounded-bl":[{"rounded-bl":[r]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...D(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:D()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...D()]}],"outline-offset":[{"outline-offset":[Jt,Fe]}],"outline-w":[{outline:[Jt,an]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:k()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[Jt,an]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",un,om]}],"shadow-color":[{shadow:[vo]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":J()}],"bg-blend":[{"bg-blend":J()}],filter:[{filter:["","none"]}],blur:[{blur:[o]}],brightness:[{brightness:[n]}],contrast:[{contrast:[s]}],"drop-shadow":[{"drop-shadow":["","none",un,Fe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[c]}],saturate:[{saturate:[A]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[o]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[s]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[c]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[A]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Fe]}],duration:[{duration:oe()}],ease:[{ease:["linear","in","out","in-out",Fe]}],delay:[{delay:oe()}],animate:[{animate:["none","spin","ping","pulse","bounce",Fe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[E]}],"scale-x":[{"scale-x":[E]}],"scale-y":[{"scale-y":[E]}],rotate:[{rotate:[bo,Fe]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[F]}],"skew-y":[{"skew-y":[F]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Fe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Fe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Fe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Jt,an,Jo]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}function sm(t,{cacheSize:e,prefix:o,separator:n,extend:i={},override:r={}}){si(t,"cacheSize",e),si(t,"prefix",o),si(t,"separator",n);for(const l in r)am(t[l],r[l]);for(const l in i)um(t[l],i[l]);return t}function si(t,e,o){o!==void 0&&(t[e]=o)}function am(t,e){if(e)for(const o in e)si(t,o,e[o])}function um(t,e){if(e)for(const o in e){const n=e[o];n!==void 0&&(t[o]=(t[o]||[]).concat(n))}}function fm(t,...e){return typeof t=="function"?Or(Pr,t,...e):Or(()=>sm(Pr(),t),...e)}const Pf=Or(Pr);function Nf(t){const e=t-1;return e*e*e+1}function je(...t){return Pf(Nd(t))}function Ef(t,e,o){const r={...{townName:t.townInfo.name,population:t.townInfo.population_count,gold:t.townInfo.gold,day:t.environment.day*t.environment.year,tick:t.tick},...o};console.log("event",e,r),gtag("event",e,r)}const $n=(t,e={y:-8,x:0,start:.95,duration:150})=>{const o=getComputedStyle(t),n=o.transform==="none"?"":o.transform,i=(l,a,s)=>{const[u,f]=a,[c,d]=s;return(l-u)/(f-u)*(d-c)+c},r=l=>Object.keys(l).reduce((a,s)=>l[s]===void 0?a:a+`${s}:${l[s]};`,"");return{duration:e.duration??200,delay:0,css:l=>{const a=i(l,[0,1],[e.y??5,0]),s=i(l,[0,1],[e.x??0,0]),u=i(l,[0,1],[e.start??.95,1]);return r({transform:`${n} translate3d(${s}px, ${a}px, 0) scale(${u})`,opacity:l})},easing:Nf}};function tt(t,e){if(e===void 0&&(e=0),t==null||t==null)return 0;t=parseFloat((t*Math.pow(10,e)).toFixed(11));var o=Math.round(t)/Math.pow(10,e);return+o.toFixed(e)}function sr(t){return t<10?"0"+t:t}function cm(t){let e=Math.floor(t/1e3),o=Math.floor(e/60);e=e%60;let n=Math.floor(o/60);return o=o%60,`${sr(n)}:${sr(o)}:${sr(e)}`}function ye(t){return te.findIndex(e=>e.id===t)}function El(t){return te.find(e=>e.id===t)}function st(t,e=!0){let o=t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,");return e||(o=o.split(".")[0]),o}function Qn(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Rl(t,e=!0){return t=tt(t/(e?3:1),2),t<0?`${t}`:`+${t}`}function Tn(t,e,o,n=!1){if(t<0||t>=o.plots.length||e<0||e>=o.plots[0].length)return!1;let i=[[t-1,e],[t+1,e],[t,e-1],[t,e+1],[t-1,e-1],[t-1,e+1],[t+1,e-1],[t+1,e+1]];for(let r=0;r<i.length;r++){let l=i[r][0],a=i[r][1];if(l>=0&&l<o.plots.length&&a>=0&&a<o.plots[0].length&&o.plots[l][a].water&&(n||o.plots[t][e].active==!0&&o.plots[t][e].type>0&&te[o.plots[t][e].type].id=="farm"))return!0}return!1}function dm(t,e,o,n){if(t<0||t>=o.plots.length||e<0||e>=o.plots[0].length)return!1;let i=[[t-1,e],[t+1,e],[t,e-1],[t,e+1],[t-1,e-1],[t-1,e+1],[t+1,e-1],[t+1,e+1]],r=!0;for(let l=0;l<n.length;l++){let a=!1,s=n[l];if(s!=="water"){for(let u=0;u<i.length;u++){let f=i[u][0],c=i[u][1];if(f>=0&&f<o.plots.length&&c>=0&&c<o.plots[0].length&&o.plots[f][c].active==!0&&o.plots[f][c].type>0&&te[o.plots[f][c].type].id==s){a=!0;break}}if(!a){r=!1;break}}}return r}function mm(t,e=0){let o=t*.95,n=t*1.05;return tt(Math.random()*(n-o)+o,e)}function _i(t,e,o){let n={x:t,y:e};return n.x===0&&n.y===0?!0:[{x:n.x-1,y:n.y},{x:n.x+1,y:n.y},{x:n.x,y:n.y-1},{x:n.x,y:n.y+1}].some(r=>r.x<0||r.x>=o.plots.length||r.y<0||r.y>=o.plots[r.x].length?!1:o.plots[r.x][r.y].active)}function pm(t,e){return t.requirements.gold<=e.townInfo.gold}function hm(t,e){return t.requirements.knowledge?t.requirements.knowledge<=e.townInfo.knowledge_points:!0}function gm(t,e){return t.requirements.resources?Object.entries(t.requirements.resources).every(([o,n])=>{const i=o,r=e.resources[i];return n===0||r>=n}):!0}function _m(t,e,o,n){if(!t.requirements.employees||t.requirements.employees<=0)return!0;const i=e.townInfo.population_count-e.townInfo.employees,r=e.plots[o][n];if(r.type!==-1){const a=te[r.type].requirements.employees||0;return t.requirements.employees<=i+a}return t.requirements.employees<=i}function bm(t,e){return t.active_costs?Object.entries(t.active_costs).every(([o,n])=>{if(o==="gold")return!0;const i=o;return i==="gold"?!0:!n||e.resources[i]>=n}):!0}function vm(t,e,o,n){if(!t.requirements.adjacent_plots.length)return!0;for(const i of t.requirements.adjacent_plots)if(i==="water"){if(!Tn(e,o,n,!0))return!1}else if(!dm(e,o,n,[i]))return!1;return!0}function ym(t,e){return t.requirements.plots.length?t.requirements.plots.every(o=>De(o,e).length>0):!0}function Lo(t,e,o,n){const i=pm(t,e),r=hm(t,e),l=gm(t,e),a=_m(t,e,o,n),s=bm(t,e),u=vm(t,o,n,e),f=ym(t,e);return{affordable:[i,r,l,a,s,u,f].every(c=>c===!0),gold:i,knowledge:r,resources:l,employees:a,activeCosts:s,adjacent:u,requiredPlots:f}}function wm(t){return te.findIndex(e=>e.id===t)}function qn(t,e,o,n,i=!1){const r=wm(t),l=te[r];if(i||Lo(l,n,e,o).affordable){if(n.plots[e][o].type!==-1&&zn(e,o,n),n.plots[e][o].type=r,n.plots[e][o].active=!0,n.plots[e][o].typeId=l.id,n.townInfo.gold-=l.requirements.gold,n.townInfo.gold=tt(n.townInfo.gold,2),n.townInfo.population_count+=l.immediate_variable_changes.population,n.townInfo.population_max+=l.immediate_variable_changes.population,n.townInfo.happiness+=l.immediate_variable_changes.happiness,n.townInfo.health+=l.immediate_variable_changes.health,n.modifiers.happiness=tt(n.modifiers.happiness*l.purchase_effect_modifiers.happiness,2),n.modifiers.health=tt(n.modifiers.health*l.purchase_effect_modifiers.health,2),n.modifiers.community=tt(n.modifiers.community*l.purchase_effect_modifiers.community,2),n.townInfo.employees+=l.requirements.employees,(n.plotCounts[r]===void 0||n.plotCounts[r]===null)&&(n.plotCounts[r]=0),n.plotCounts[r]++,n.lastChangeDay=n.environment.day,l.requirements.resources!==void 0){const a=l.requirements.resources;n.resources.food-=a.food,n.resources.wood-=a.wood,n.resources.stone-=a.stone,n.resources.metal-=a.metal}switch(l.id){case"city_hall":n.hasCityHall=!0;break;case"bank":n.hasBank=!0;break}return n}return n}function km(t,e,o){if(!o||!o.plots||!o.plots.length)return null;const n=o.plots.length,i=o.plots[0].length;for(let r=1;r<n+i;r++)for(let l=-r;l<=r;l++)for(let a=-r;a<=r;a++){if(Math.abs(l)+Math.abs(a)!==r)continue;const s=t+l,u=e+a;if(!(s<0||s>=n||u<0||u>=i)&&!o.plots[s][u].active&&!o.plots[s][u].mineralSource&&!o.plots[s][u].water&&!o.plots[s][u].disabled&&_i(s,u,o))return[s,u]}return null}function Cm(t){let e={...kf};e.difficulty=1,e.endGoal="land",e.townInfo.name="Mock Town",e.townInfo.gold=Math.random()*5e4+2e4,e.townInfo.happiness=300,e.townInfo.health=300,e.townInfo.knowledge_points=Math.random()*1e3+100,e.modifiers.happiness=1e4,e.modifiers.health=1e4,e.resources.food=Math.random()*1e4+1e3,e.resources.wood=Math.random()*1e4+1e3,e.resources.stone=Math.random()*1e4+1e3,e.resources.metal=Math.random()*1e4+1e3;let o=[];const n=25,i=Math.floor(Math.random()*n/2)+1,r=Math.floor(Math.random()*n/2)+1;for(let l=0;l<n;l++){o.push([]);for(let a=0;a<n;a++){const s=l==i&&a==r?!1:bi(l,a,n);o[l][a]={id:Math.random().toString(36).substring(2,9),active:!1,x:l,y:a,type:s?-9:-1,typeId:"",mineralSource:s?!1:i===l&&r===a,water:i===l&&r===a?!1:s}}}e.plots=o,Ie.set(e),localStorage.setItem(nt,JSON.stringify(e)),localStorage.reset=!1,e=qn("small_homes",0,0,e,!0),e=qn("farm",1,0,e,!0),e=qn("farm",2,0,e,!0),e=qn("farm",3,0,e,!0),e=qn("tree_farm",4,0,e,!0);for(let l=1;l<t.plots.length*t.plots[0].length/2;l++)for(let a=0;a<te.length/2;a++){let s=te[Math.floor(Math.random()*te.length)];t=qn(s.id,l,a,e,!1)}Ie.set(e),localStorage.setItem(nt,JSON.stringify(e)),localStorage.reset=!1,location.reload()}const nt="plots_active_game_db",Qe="plots_user_db",Rt="plots_temp_game_db";function Sm(){const t=["York","London","Paris","Madrid","Rome","Berlin","Vienna","Prague","Warsaw","Oslo","Lisbon","Dublin","Brussels","Amsterdam","Stockholm","Copenhagen","Edinburgh","Moscow","Beijing","Tokyo","Seoul","Bangkok","Delhi","Mumbai","Shanghai","Sydney","Melbourne","Cairo","Dubai","Istanbul","Athens","Budapest","Reykjavik","Helsinki","Tallinn","Riga","Vilnius","Sofia","Bucharest","Belgrade","Zagreb","Sarajevo","Ljubljana","Skopje","Tirana","Podgorica","Thessaloniki","Barcelona","Valencia","Seville","Granada","Malaga","Lyon","Marseille","Toulouse","Nice","Nantes","Strasbourg","Bordeaux","Lille","Venice","Milan","Florence","Naples","Turin","Bologna","Perugia","Genoa","Pisa","Verona","Palermo","Catania","Bari","Padua","Cagliari","Krakow","Gdansk","Poznan","Wroclaw","Lodz","Katowice","Bialystok","Gdynia","Sopot","Bydgoszcz","Lublin","Szczecin","Gorzow","Zakopane","Olsztyn","Torun","Rzeszow","Kielce","Radom","Siedlce","Los","Angeles","Chicago","Houston","Phoenix","San","Antonio","San","Diego","Dallas","San","Jose","Austin","Jacksonville","Fort","Worth","Columbus","Charlotte","Liverpool","Manchester","Glasgow","Birmingham","Leeds","Sheffield","Newcastle","upon","Tyne","Bristol","Nottingham","Leicester","Coventry","Belfast","Reading","Cardiff","Southampton","Aberdeen","Plymouth","Stoke","Trent","Wolverhampton","Swansea","Sunderland","Portsmouth","Yorkshire","Hull","Blackpool","Bradford","Derby","Middlesbrough","Peterborough","Stockton","on","Tees","Brighton","Poole","Bournemouth","Huddersfield","Luton","Oxford","Norwich","Oldham","Cambridge","Exeter","Walsall","Colchester","Watford","Rotherham","Newport","Gateshead","Dundee","Gloucester","Solihull","High","Wycombe","Maidstone","Slough","Basildon","Chelmsford","Salford","Bedford","Stevenage","Woking","Grimsby","Birkenhead","Halifax","Warrington","Gillingham","Wigan","Worcester","Wakefield","Lincoln","Chester","Rochdale","Dagenham","Widnes","St","Albans","Mansfield","Sutton","Coldfield","Crawley","Wokingham","Barnsley","St","Helens","Harrogate","Redditch","Scunthorpe","Nuneaton","Chesterfield","Hemel","Hempstead","Bury","Guildford","Ashford","Telford","Newcastle","under","Lyme","Aylesbury","Halesowen","Shrewsbury","Lowestoft","Loughborough","Cheltenham","Kidderminster","Basingstoke","Rugby","Stourbridge","Southport","Kettering","Royal","Leamington","Spa","Beeston","Farnborough","Wrexham","Banbury","Weymouth","Wallsend","Dartford","Grays","Tamworth","Ashford","Esher","Folkestone","Tonbridge","Taunton","Runcorn","Macclesfield","Keighley","Bridgend","Barnstaple","Letchworth","Garden","City","Worthing","Gosport","Eastleigh","Staines","upon","Thames","Lisburn","Livingston","Bognor","Regis","Scarborough","Cannock","Margate","Chippenham","Rhondda","Maidenhead","Wellingborough","Washington","Camberley","Bootle","Lancaster","Llanelli","Chatham","Cheshunt","Bishop","Auckland","Nelson","Belper","Pontefract","Barry","Braintree","Crosby","Bury","St","Edmunds","Bexhill","Margate","Aldershot","Rowley","Regis","Hoddesdon","Sittingbourne","Rugby","Newquay","Falmouth","Stretford","Camberley","Beverley","Windsor","Rochester","Wickford","Diss","Farnham","Andover","Camberwell","Bermondsey","Lewisham","Wembley","Hayes","Harrow","Ilford","Enfield","Twickenham","Richmond","Brentwood","Edgware","Ealing","Greenwich","Bromley","Hounslow","Romford","Hillingdon","Uxbridge","Wandsworth","Sutton","Kingston","upon","Thames","Bexley","Havering","Barking"],e=["ia","ville","ton","land","field","burgh","ford","wood","port","bay","beach","peak","valley","ridge","hill","dale","island","cape","spring","grove","polis","side","view","shore","haven","place","gardens","plaza","square"],o=["New","Old","North","South","East","West","Upper","Lower","Little","Great","Saint","Fort","Mount","Lake","River","The Village of","The City of","The Town of","The Borough of","The County of","The State of","The Kingdom of","The Empire of","The Republic of","The Commonwealth of","The Union of","The Federation of","Rainy","Sunny","Windy","Frosty","Snowy"];function n(s){return s[Math.floor(Math.random()*s.length)]}let i=n(o),r=n(t),l=n(e),a="";return Math.random()>.5?a=i+" "+r+l:a=r+l,a}let Ie=Ve(JSON.parse(localStorage.getItem(Rt)||localStorage.getItem(nt)||"null")),Tt=Ve(JSON.parse(localStorage.getItem(Qe)||"null"));Tm();function Am(t,e,o,n){localStorage.removeItem(nt),Ie.set(null);let i={...kf};i.gameSettings=n,i.economyAndLaws.max_tax_rate=Md[t],i.endGoal=e;let r=[];o=o.replace(/[^a-zA-Z0-9 ]/g,"").trim(),i.townInfo.name=o!=""?o:Sm(),i.difficulty=parseInt(t);let l=JSON.parse(localStorage.getItem(Qe)||"null");l.username=="dev"&&n.push("devMode"),n.includes("devMode")&&(i.townInfo.gold=1e8,i.townInfo.happiness=1e7,i.townInfo.health=1e6,i.townInfo.knowledge_points=1e5,i.modifiers.happiness=1e4,i.modifiers.health=1e4,i.resources.food=1e6,i.resources.wood=1e6,i.resources.stone=1e6,i.resources.metal=1e6);const a=12,s=Math.floor(Math.random()*a/2)+1,u=Math.floor(Math.random()*a/2)+1;for(let f=0;f<a;f++){r.push([]);for(let c=0;c<a;c++){const d=f==s&&c==u?!1:bi(f,c,a);r[f][c]={id:Math.random().toString(36).substring(2,9),active:!1,x:f,y:c,type:d?-9:-1,typeId:"",mineralSource:d?!1:s===f&&u===c,water:s===f&&u===c?!1:d}}}i.plots=r,localStorage.setItem(nt,JSON.stringify(i)),Ie.set(i),localStorage.reset=!1,l.games==null&&(l.games=[],l.selectedGame=0,localStorage.setItem(Qe,JSON.stringify(l))),l.games.push(JSON.stringify(i)),l.selectedGame=l.games.length-1,localStorage.setItem(Qe,JSON.stringify(l)),Ef(i,sl.START_GAME,{difficulty:t,end_goal:e,settings:n.join(",")}),location.reload()}function bi(t,e,o){let n=.08;t>0&&e>0&&t<o-1&&e<o-1&&(n*=2),(e==Math.round(o/2)||e==Math.round(o/2)-1)&&(n*=3),t==0&&e==0&&(n=0);const i=Math.floor(o/2);return e===i?!1:Math.random()<n}function Tm(){if(localStorage.getItem(Qe)===null){let t=Id;t.username="click_to_set_username",localStorage.setItem(Qe,JSON.stringify(t)),Tt.set(t)}}function zn(t,e,o){let n=o.plots[t][e].type;o.plots[t][e].type=-1,o.plots[t][e].typeId="",o.plots[t][e].active=!1,n>-1&&(o.townInfo.population_count-=te[n].immediate_variable_changes.population,o.townInfo.population_max-=te[n].immediate_variable_changes.population,o.townInfo.employees-=te[n].requirements.employees,(o.plotCounts[n]===void 0||o.plotCounts[n]===null)&&(o.plotCounts[n]=0),o.plotCounts[n]--),o.lastChangeDay=o.environment.day,Ie.set(o),localStorage.setItem(nt,JSON.stringify(o))}function De(t,e){let o=[];for(let n=0;n<e.plots.length;n++)for(let i=0;i<e.plots[n].length;i++)e.plots[n][i].active==!1||e.plots[n][i]==null||e.plots[n][i].type===null||e.plots[n][i].type<0||(te[e.plots[n][i].type].id===t||te[e.plots[n][i].type].type===t)&&o.push(e.plots[n][i]);return o}function Vn(t,e,o){return o.liege_location!=null&&o.liege_location[0]===t&&o.liege_location[1]===e}function Im(t,e){const o=t.plots.length,n=o>0?t.plots[0].length:0,i=e=="east"?5:0,r=e=="south"?5:0,l=Math.round(Math.pow(1.7,t.kingdom_expansions+5));if(t.townInfo.guardians<l)return`You need ${l-t.townInfo.guardians} more Guardians to expand the kingdom. See the City mgmt menu.`;for(let a=0;a<o;a++)for(let s=n;s<n+i;s++)t.plots[a].push({id:Math.random().toString(36).substring(2,9),active:!1,x:a,y:s,type:-1,typeId:"",mineralSource:!1,water:bi(a,s,o+r),disabled:!1});for(let a=o;a<o+r;a++){const s=[];for(let u=0;u<n+i;u++)s.push({id:Math.random().toString(36).substring(2,9),active:!1,x:a,y:u,type:-1,typeId:"",mineralSource:!1,water:bi(a,u,o+r)});t.plots.push(s)}t.kingdom_expansions++,Ie.set(t)}function Nr(t=null){localStorage.removeItem(nt),Ie.set(null),t&&(localStorage.setItem(nt,JSON.stringify(t)),Ie.set(t))}function $l(t,e,o){o.liege_location=[t,e],to.set(!1),document.querySelectorAll(".plot_container").forEach(i=>{i.style.cursor=""}),Ie.set(o)}function Ll(t,e){Pm(),Tt.set(e),localStorage.setItem(Qe,JSON.stringify(e)),Tt.update(o=>{if(o.selectedGame=t,o.games[t]==null||o.games[t]==null)return localStorage.setItem(nt,""),Ie.set(null),o;const n=JSON.parse(o.games[t]);return Ie.set(n),localStorage.setItem(nt,JSON.stringify(n)),localStorage.setItem(Qe,JSON.stringify(o)),o})}let ze=Ve({visible:!1,x:0,y:0,isMineralSource:!1}),No=Ve({visible:!1});function Mm(t){Tt.set(t),localStorage.setItem(Qe,JSON.stringify(t))}let vi=Ve({}),Eo=Ve(!1),It=Ve(!1),ai=Ve(!0),yi=Ve(!1),eo=Ve(!1),wi=Ve(!1),Kn=Ve(!1),to=Ve(!1),In=Ve(!1),Er=Ve("");function Ft(t){let e=JSON.parse(localStorage.getItem(Qe)??"");e.customAlertsShown.includes(t)||(e.customAlertsShown.push(t),localStorage.setItem(Qe,JSON.stringify(e)),Er.set(t))}let Dl=localStorage.getItem("showCompletedAchievements")==="true"?Ve(!0):Ve(!1);localStorage.getItem("showOnlyAffordable")==="true"?Ve(!0):Ve(!1);let Om=localStorage.getItem("pauseMenuTab")==="game"?Ve("game"):Ve("achievements"),So=Ve(750),jt=Ve({visible:!1,plotName:"",location:"",missingResources:[],plotCost:0,x:0,y:0});function Pm(){const t=JSON.parse(localStorage.getItem(nt)??"");if(!t)return;const e=JSON.parse(localStorage.getItem(Qe)??"");!e||e.selectedGame===void 0||(e.games[e.selectedGame]=JSON.stringify(t),localStorage.setItem(Qe,JSON.stringify(e)),Tt.set(e))}const Pt={unemployment_num:" people can't find jobs.",bored:"People are bored. Try making some new buildings.",vairety:"People don't like going to the same places over and over again. Try making some new buildings.",nobody_home:"Build some homes!",leave_town_num:" people left town because they were unhappy.",new_people_num:" new people moved to town.",people_want_to_move_in:"People want to move in. Build more homes.",high_tax_rate:"People are unhappy with the high tax rate.",very_high_tax_rate:"People are extremely unhappy with the high tax rate.",sickAndDying:"People are sick and dying.",sickAndLeaving:"People are sick and leaving town.",happiness_zero:"The town has fallen into chaos due to extreme unhappiness.",health_zero:"The town has fallen into chaos due to extreme sickness.",population_zero:"The town has been condemned due to lack of population.",win:{land:"You have filled the grid with buildings. You win!"},hospital_advantage:"Because you have a hospital, the town is staying healthier for longer!",notEnoughVariety:"People are sick of going to the same places over and over, add some variety!"},ct=[{id:"happy_town",title:"Happy & Healthy Town",description:"",requirements:"Happiness and Health at the max in one of your towns",icon:"😀",check:t=>t.townInfo.happiness>=300&&t.townInfo.health>=300,prize:15e3},{id:"10k",title:"💰 10,000",description:"",requirements:"10,000 gold in the bank in one of your towns",icon:"💸",check:t=>t.townInfo.gold>=1e4,prize:2500},{id:"50k",title:"💰 50,000",description:"",requirements:"50,000 gold in the bank in one of your towns",icon:"💸",check:t=>t.townInfo.gold>=5e4,prize:1e4},{id:"250k",title:"💰 250,000",description:"",requirements:"250,000 gold in the bank in one of your towns",icon:"💸",check:t=>t.townInfo.gold>=25e4,prize:5e4},{id:"1m",title:"💰 1,000,000",description:"",requirements:"1,000,000 gold in the bank in one of your towns",icon:"💸",check:t=>t.townInfo.gold>=1e6,prize:15e4},{id:"10m",title:"💰 10,000,000",description:"",requirements:"10,000,000 gold in the bank in one of your towns",icon:"💸",check:t=>t.townInfo.gold>=1e7,prize:5e5},{id:"stayin_frugal",title:"Stayin' Frugal!",description:"",requirements:"Gold under 50 with >=200 population in one of your towns",icon:"🚲",check:t=>t.townInfo.gold<=50&&t.townInfo.population_count>=200,prize:1e4},{id:"profits_to_the_moon",title:"Profits to the moon!",description:"Now you're making dough!",requirements:"Reach a monthly profit of $10,000",icon:"🌛",check:t=>t.economyAndLaws.weeklyProfit*4>=1e4,prize:15e3},{id:"happily_dying",title:"Happily Dying!",description:"Not something to be proud of...",requirements:"Happiness > 275, health < 25",icon:"🌛",check:t=>t.townInfo.happiness>275&&t.townInfo.health<25,prize:1e4},{id:"tax_man",title:"Tax man",description:"Set the tax rate to the absolute max that the town will tolerate.",requirements:"",icon:"🙃",check:t=>{let e=Math.floor(t.economyAndLaws.max_tax_rate*20)/20;return t.economyAndLaws.tax_rate===e},prize:750},{id:"good_job",title:"Beat 'Fill the grid' game mode",description:"while not in casual mode",requirements:"",icon:"👍",check:t=>t.endGameDetails.win===!0&&t.endGoal==="land"&&!t.gameSettings.includes("casual"),prize:1e4},{id:"great_job",title:"Beat 'Fill the grid' game mode (faster)",description:"in under 5 years, while not in casual mode",requirements:"",icon:"👏",check:t=>t.endGameDetails.win===!0&&t.environment.day<=1825&&t.endGoal==="land"&&!t.gameSettings.includes("casual"),prize:3e4},{id:"superb_job",title:"Beat 'Fill the grid' game mode",description:"while in casual mode",requirements:"",icon:"👌",check:t=>t.endGameDetails.win===!0&&t.endGoal==="land"&&t.gameSettings.includes("casual"),prize:15e3},{id:"pub_knowledge",title:"Street smartz",description:"You get 250 knowledge without building a school or library.",requirements:"Knowledge >= 250 without building a school or library",icon:"🤓",check:t=>De("small_school",t).length===0&&De("large_school",t).length===0&&De("library",t).length===0&&t.townInfo.knowledge_points>=250,prize:5e4}],Jn=[{message:"Welcome the first settlers to our village by building a set of homes",isComplete:t=>t.townInfo.population_max>0,goldReward:600},{message:"Start producing food for the villagers",isComplete:t=>De("farm",t).length>=1,goldReward:400},{message:"Build a tree farm to start producing wood, which is essential for building",isComplete:t=>De("tree_farm",t).length>=1,goldReward:400},{message:"Build a quarry to start mining stone and metals",isComplete:t=>De("quarry",t).length>0,goldReward:800},{message:"Settlement: Grow population to 50",isComplete:t=>t.townInfo.population_count>=50,goldReward:1600},{message:"Build a Market or Bakery to sell excess food",isComplete:t=>De("market",t).length>0||De("bakery",t).length>0,goldReward:1600},{message:"Complete Year 1",isComplete:t=>t.environment.day>=365,goldReward:4e3},{message:"Village: Grow population to 100",isComplete:t=>t.townInfo.population_count>=100,goldReward:6400},{message:"Complete Year 2",isComplete:t=>t.environment.day>=365*2,goldReward:4e3},{message:"Hamlet: Grow population to 200",isComplete:t=>t.townInfo.population_count>=200,goldReward:16e3},{message:"Start generating power. Build a Water Wheel or Solar Farm",isComplete:t=>t.resources.power>0||De("water_wheel",t).length>0||De("solar_farm",t).length>0||De("adv_water_wheel",t).length>0,goldReward:8e3},{message:"Small Town: Grow population to 300",isComplete:t=>t.townInfo.population_count>=300,goldReward:2e4},{message:"Generate 300 Knowledge 🧠 from libraries, schools, pubs, and vineyards",isComplete:t=>t.townInfo.knowledge_points>=300,goldReward:4e3},{message:"Build a Mine to boost our metal supply (see the black plot on the map)",isComplete:t=>De("mine",t).length>0,goldReward:16e3},{message:"Complete Year 5",isComplete:t=>t.environment.day>=365*5,goldReward:1e4},{message:"Town: Grow our population to 500",isComplete:t=>t.townInfo.population_count>=500,goldReward:2e4},{message:"City: Grow our population to 1000",isComplete:t=>t.townInfo.population_count>=1e3,goldReward:4e4},{message:"Establish a City Hall to advance our town",isComplete:t=>De("city_hall",t).length>0,goldReward:4e4},{message:"Complete Year 10",isComplete:t=>t.environment.day>=365*10,goldReward:5e4}];let yo=function(t){return t.gameSettings.includes("casual")?3:1};const Rr=[{id:"organic_farming",description:"Organic Farming. Make townspeople healthier and happier, while decreasing overall food production.",cost:150,weekly_effect:t=>(t.modifiers.happiness*=1.01,t.modifiers.health*=1.01,t.resources.food-=2*yo(t)*De("farm",t).length,t)},{id:"tax_free",description:"Tax-Free Month. For 1 month, the town loses all revenue from taxes, but happiness and health increase quite a lot. Automatically ends after 4 weeks.",cost:250,weekly_effect:t=>(localStorage.getItem("tax_free")===null?(localStorage.setItem("tax_free","0"),t.economyAndLaws.weeklyProfit=-1*t.economyAndLaws.weeklyProfit):localStorage.setItem("tax_free",(parseInt(localStorage.getItem("tax_free"))+1).toString()),parseInt(localStorage.getItem("tax_free"))>=4?(t.modifiers.happiness*=1,t.modifiers.health*=1,localStorage.removeItem("tax_free"),t.economyAndLaws.enacted=t.economyAndLaws.enacted.filter(e=>e!=="tax_free")):(t.modifiers.happiness*=1.02,t.modifiers.health*=1.01),t)},{id:"healthy_mining",description:"Healthy mining. Miners must mine with proper ventilation, but they move like molasses.",cost:250,weekly_effect:t=>(te.find(e=>e.id==="mine"),t.modifiers.health*=1.1,t.resources.stone-=5*yo(t)*De("quarry",t).length,t.resources.stone-=7*yo(t)*De("mine",t).length,t.resources.metal-=15*yo(t)*De("mine",t).length,t)},{id:"complicated_tax_forms",description:"Complicated Tax Forms. You sneak in a clause to charge 5% more in taxes. Now, if you adjust your tax rate 5% higher, they won't be upset. This can be enacted multiple times to stack.",cost:500,weekly_effect:t=>(t.economyAndLaws.max_tax_rate+=.05,t.economyAndLaws.enacted=t.economyAndLaws.enacted.filter(e=>e!=="complicated_tax_forms"),t)},{id:"legalize_it",description:"Legalize it. You legalize a substance that makes people happy, but it also gives them 'the munchies'. Food consumption and happiness go up.",cost:350,weekly_effect:t=>(t.resources.food-=Math.round(.2*yo(t)*t.townInfo.population_count),t.modifiers.happiness*=1.1,t)},{id:"park_upgrade",description:"Park upgrade. You hold a community forum and add the top 5 things that the people want in their parks. This increases happiness for each park.",cost:350,weekly_effect:t=>(t.townInfo.happiness+=2*De("park",t).length,t)},{id:"career_politician",description:"Career Politician. You hire a career politician to help you with your town. They cost the town $100 per week, but they earn bureaucracy points faster.",cost:200,weekly_effect:t=>(t.townInfo.gold-=100,t.resources.bureaucracy+=25,t)},{id:"the_big_wood_deal",description:"The Big Wood Deal. This law allows you to sell all of the wood in your town for $5/wood at once. This won't make the town happy, but may be necessary in a pinch. Can be enacted multiple times to sell to other buyers.",cost:500,weekly_effect:t=>(t.townInfo.gold+=5*t.resources.wood,t.resources.wood=0,t.resource_rate.wood=0,t.townInfo.happiness*=.95,t.economyAndLaws.enacted=t.economyAndLaws.enacted.filter(e=>e!=="the_big_wood_deal"),t)},{id:"picky_eating_liege",description:"Picky Eater Liege. There is some food that the town makes that you just really hate. By passing this law, you insist that they sell off that gross food for $1/food every week. You won't make as much food, but you won't have to eat it either.",cost:200,weekly_effect:t=>{const e=De("farm",t).length*2,o=Math.floor(Math.random()*(.15*e-.05*e)+.05*e);return t.resources.food-=o,t.townInfo.gold+=o,t.townInfo.happiness=.95*t.townInfo.happiness,t}},{id:"stone_statue",description:"Stone Statue. You insist that we use ALL of our stone to build a massive statue. We lose all of our stone, but for some reason, the town has perfect health for a while, I guess.",cost:1e3,weekly_effect:t=>(t.resources.stone=0,t.modifiers.health=5,t)},{id:"out_of_town",description:"TODO: Out of town. Everyone needs a vacation, right? When this is enacted, EVERYONE must leave the town for 10 days. During this time, no resources are produced, no taxes are collected, and you must take a break from the game.",cost:1e3,weekly_effect:t=>t}],jl=30;function Nm(t){return t=Dm(t),t=t,t}function Em(t){const e=[()=>t.townInfo.happiness<100?"I heard that the town is unhappy. We miss our churches and parks...":"",()=>t.townInfo.health<100?"My kids keep getting sick, probably not enough farms around here!":"",()=>t.townInfo.happiness<50?"I'm thinking of moving out if things don't improve soon!":"",()=>t.townInfo.employees<t.townInfo.population_count?"I am unemployed and I hate it here":"",()=>t.townInfo.knowledge_points<100?"I wish we had more schools!":"",()=>t.economyAndLaws.tax_rate>t.economyAndLaws.max_tax_rate?"I wish the taxes were lower, I could use a break!":"",()=>t.townInfo.productivity>100?"I think we should take a day or two to just be chill, we've been working hard!":"",()=>t.economyAndLaws.tax_rate<t.economyAndLaws.max_tax_rate?"We would probably be ok chipping in more gold for village improvements.":""],o=Math.floor(Math.random()*e.length);return e[o]()}function Rm(t,e,o){return t.resource_rate.food=ut(o.food-e.food,0),t.resource_rate.wood=ut(o.wood-e.wood,0),t.resource_rate.stone=ut(o.stone-e.stone,0),t.resource_rate.metal=ut(o.metal-e.metal,0),t.resource_rate.bureaucracy=ut(o.bureaucracy-e.bureaucracy,0),t}function $m(t){return t.hasBank,t}function Lm(t){let e=t.economyAndLaws.knowledge_gold_market_rates[t.economyAndLaws.knowledge_gold_market_rates.length-1]||1;const o=-100,n=8,i=3;let r=Math.random(),l=Math.random()*i;if(r<.4){let a=Math.random()*n;Math.random()<.5?e+=a:e-=a}else Math.random()>.5?e+=l:e-=l;return e<o&&(e+=Math.random()*l/5),e=Math.round(e),t.economyAndLaws.knowledge_gold_market_rates=[...t.economyAndLaws.knowledge_gold_market_rates,e],t}function Dm(t){if(t.townInfo.population_count<t.townInfo.population_max&&t.townInfo.happiness>50){let e=t.townInfo.population_max-t.townInfo.population_count,o=Math.round(t.townInfo.happiness/100*e);t.townInfo.population_count+=o,t.townInfo.population_count>t.townInfo.population_max&&(t.townInfo.population_count=t.townInfo.population_max),t.townInfo.employees+=o,t.townInfo.employees>t.townInfo.population_count&&(t.townInfo.employees=t.townInfo.population_count)}if(t.townInfo.happiness<50&&t.townInfo.population_count>0){let e=Math.round((150-t.townInfo.happiness)/5);t.townInfo.population_count-=e,t.townInfo.employees>0&&(t.townInfo.employees-=e)}else t.townInfo.population_count==t.townInfo.population_max;return t}function $r(t){return t.lab.active_experiment==null||t.lab.active_experiment.duration>0&&(t.lab.active_experiment.duration-=1),t}function Lr(t){t.townInfo.happiness<0&&(t.townInfo.happiness=0),t.townInfo.health<0&&(t.townInfo.health=0),t.townInfo.community<0&&(t.townInfo.community=0),t.townInfo.gold<0&&(t.townInfo.gold=0),t.townInfo.employees<0&&(t.townInfo.employees=0),t.townInfo.knowledge_points<0&&(t.townInfo.knowledge_points=0),t.townInfo.population_count<0&&(t.townInfo.population_count=0),t.economyAndLaws.weeklyProfit=ut(t.economyAndLaws.weeklyProfit,0),t.townInfo.employees>t.townInfo.population_count&&(t.townInfo.employees=t.townInfo.population_count),t.townInfo.gold=ut(t.townInfo.gold,0),t.townInfo.population_count=ut(t.townInfo.population_count,0),t.townInfo.employees=ut(t.townInfo.employees,0),t.townInfo.population_max=ut(t.townInfo.population_max,0),t.townInfo.happiness=ut(t.townInfo.happiness,2),t.townInfo.health=ut(t.townInfo.health,2),t.townInfo.knowledge_points=ut(t.townInfo.knowledge_points,0),t.townInfo.happiness>t.maximums.happiness&&(t.townInfo.happiness=t.maximums.happiness),t.townInfo.health>t.maximums.health&&(t.townInfo.health=t.maximums.health),t.townInfo.community>300&&(t.townInfo.community=300),t.modifiers.happiness<.5&&(t.modifiers.happiness=.5),t.modifiers.health<.5&&(t.modifiers.health=.5),t.modifiers.community<.5&&(t.modifiers.community=.5),t.modifiers.happiness>2&&(t.modifiers.happiness=2),t.modifiers.health>2&&(t.modifiers.health=2),t.modifiers.community>2&&(t.modifiers.community=2);for(let e=0;e<t.plots.length;e++)for(let o=0;o<t.plots[e].length;o++)t.plots[e][o].active==!1&&t.plots[e][o].disabled==!0&&(t.plots[e][o].disabled=!1);return t}function Dr(t){if(t.townInfo.happiness>150){let n=t.townInfo.happiness-150;t.townInfo.happiness-=n*.09,t.townInfo.happiness<150&&(t.townInfo.happiness=150)}if(t.townInfo.health>150){let n=t.townInfo.health-150;t.townInfo.health-=n*.09,t.townInfo.health<150&&(t.townInfo.health=150)}if(t.townInfo.community>150){let n=t.townInfo.community-150;t.townInfo.community-=n*.09,t.townInfo.community<150&&(t.townInfo.community=150)}if(t.townInfo.happiness<150){let n=150-t.townInfo.happiness;t.townInfo.happiness+=n*(.09*.5)}if(t.townInfo.health<150){let n=150-t.townInfo.health;t.townInfo.health+=n*(.09*.5)}if(t.townInfo.community<150){let n=150-t.townInfo.community;t.townInfo.community+=n*(.09*.5)}return t}function at(t,e,o){let n=e.townLog||[];return n.filter(i=>i.message==t).length>0||n.unshift({message:t,day:e.environment.day,vibe:o}),e}function ut(t,e){e===void 0&&(e=0);let o=Math.pow(10,e);return t=parseFloat((t*o).toFixed(11)),+(Math.round(t)/o).toFixed(e)}function jm(t,e,o){let n,i,r,l,a,s,u;se(t,So,g=>o(8,n=g)),se(t,Eo,g=>o(9,i=g)),se(t,wi,g=>o(10,r=g)),se(t,It,g=>o(11,l=g)),se(t,Tt,g=>o(12,a=g)),se(t,In,g=>o(13,s=g)),se(t,jt,g=>o(14,u=g)),se(t,Ie,g=>o(15,g));function f(g){g=oe(g),g=ee(g),g=h(g),g=Lm(g),g=we(g),g=E(g);const x={food:g.resources.food,wood:g.resources.wood,stone:g.resources.stone,metal:g.resources.metal,bureaucracy:g.resources.bureaucracy,power:g.resources.power};g=I(g),g=ne(g),g=N(g),g=He(g),g=Dr(g),g=q(g);const V={food:g.resources.food,wood:g.resources.wood,stone:g.resources.stone,metal:g.resources.metal,bureaucracy:g.resources.bureaucracy,power:g.resources.power};return g.environment.day%14===0&&(g=ie(g)),g=Rm(g,x,V),g}function c(g){return g=$m(g),g=A(g),g=qe(g),g=X(g),g=P(g),g=p(g),g}function d(g){return g=k(g),g=ae(g),g=Lr(g),g=$r(g),g=R(g),g=$(g),g=_(g),g=w(g),g.overtime==!1&&(g=Z(g),g=g),g=J(g),g=B(g),g=v(g),g}function m(){window.location.search.includes("debug=true")&&(localStorage.clear(),Ie.set(null),Tt.set(null)),Ie.update(g=>{if(g==null||(g.tick++,g.tick%jl!==0))return g;if(u.visible||l||s||!g||g.endGameDetails.msg!==""&&g.overtime==!1||g.townInfo.population_count<=0||localStorage.getItem(Rt)!=null)return console.info("The game is over, or paused. Not running the game loop."),g;try{g.environment.day+=1,g.environment.day%7===0&&(g=f(g)),g.environment.day%30===0&&(g=c(g)),g.environment.day%90===0&&(g=Nm(g)),window.location.search.includes("debug=true")&&console.log(g),g=d(g);const x=JSON.parse(localStorage.getItem(Qe)||"{}");return x.games==null&&(x.games=[],x.selectedGame=0,x.games.push(JSON.stringify(g)),localStorage.setItem(Qe,JSON.stringify(x))),x.selectedGame>x.games.length&&(x.selectedGame=0),x.games[x.selectedGame]=JSON.stringify(g),localStorage.setItem(Qe,JSON.stringify(x)),g}catch(x){return window.location.hostname==="localhost"&&alert("Error in game loop: "+x),console.error("Error in game loop:",x),g}})}Ie.subscribe(g=>{if(g){localStorage.setItem(nt,JSON.stringify(g));const x=JSON.parse(localStorage.getItem(Qe)||"{}");x.games==null&&(x.games=[],x.selectedGame=0,x.games.push(JSON.stringify(g)),localStorage.setItem(Qe,JSON.stringify(x))),x.selectedGame>x.games.length&&(x.selectedGame=0),x.games[x.selectedGame]=JSON.stringify(g),localStorage.setItem(Qe,JSON.stringify(x))}});function _(g){let x=g.townInfo.population_count-g.townInfo.employees,V=`${x} people can't find jobs!`;return g.townLog=g.townLog.filter(le=>!le.message.includes("people can't find jobs")),x>0&&(g=at(V,g,Ze.BAD)),g}function h(g){let x=!1,V=!1,le=!1,me=!1;for(let Ce=0;Ce<g.plots.length;Ce++)for(let Pe=0;Pe<g.plots[Ce].length;Pe++)if(g.plots[Ce][Pe].active==!0&&g.plots[Ce][Pe].type>-1){let Ee=te[g.plots[Ce][Pe].type].id;Ee=="bank"&&(x=!0),Ee=="city_hall"&&(le=!0),(Ee=="small_hospital"||Ee=="large_hospital")&&(V=!0),Ee=="lab"&&(me=!0)}return g.hasBank=x,g.hasHospital=V,g.hasCityHall=le,g.hasLab=me,g}function p(g){let x=0,V=0;for(let le=0;le<g.plots.length;le++)for(let me=0;me<g.plots[le].length;me++)if(g.plots[le][me].active==!0&&g.plots[le][me].type>-1){let Ce=te[g.plots[le][me].type].type;V++,(Ce=="recreation"||Ce=="shop")&&x++}if(g.townInfo.recreation=x,V>40){const me=x/V,Ce="The city is growing and citizens are demanding more recreation, look for plots with 🛝 icons.",Pe="The city is growing and citizens are happy with the amount of recreation available.";me<.2?(g.modifiers.happiness*.95,g.townLog=g.townLog.filter(Ee=>Ee.message!==Pe),g=at(Ce,g,Ze.BAD)):(g.modifiers.happiness*1.03,g.townLog=g.townLog.filter(Ee=>Ee.message!==Ce),g=at(Pe,g,Ze.GOOD))}return g}function w(g){let x=0;for(let V=0;V<g.plots.length;V++)for(let le=0;le<g.plots[V].length;le++)if(g.plots[V][le].active==!0&&g.plots[V][le].type>-1){let Ce=te[g.plots[V][le].type].requirements.employees;x+=Ce}return x!=g.townInfo.employees&&(x>g.townInfo.population_max,g.townInfo.employees=x),g}function v(g){for(let x=0;x<g.plots.length;x++)for(let V=0;V<g.plots[x].length;V++)g.plots[x][V].active==!0&&(g.plots[x][V].type=ye(g.plots[x][V].typeId));return g}function A(g){const x=g.townInfo.productivity;let V=1;if(x>50&&x<100)V=1.05;else{if(x==100)return g;x<50?V=1.3:x>100&&x<125?V=.95:x>125&&x<150?V=.9:x>150&&x<175?V=.85:x>175&&x<200&&(V=.75)}const le=g.townInfo.happiness;return g.townInfo.happiness*=V,V>1?g=at(`Happiness has gone up by ${Math.round(g.townInfo.happiness/le*100)}% due to productivity.`,g,Ze.GOOD):g=at(`Happiness has gone down by ${100-Math.round(g.townInfo.happiness/le*100)}% due to productivity.`,g,Ze.BAD),g}function E(g){return g.endGameDetails!=null||(g.townInfo.happiness<70&&g.last_warning_happiness+365<g.environment.day&&(Ft("Your citizens are very unhappy. You should do something about it."),g.last_warning_happiness=g.environment.day),g.townInfo.health<70&&g.last_warning_health+365<g.environment.day&&(Ft("Your citizens are very unhealthy. You should do something about it."),g.last_warning_health=g.environment.day)),g}const j=["Abigail","Elijah","Mabel","Silas","Beatrice","Clarence","Dorothy","Edgar","Florence","George","Harriet","Isaac","Josephine","Levi","Matilda","Nathaniel","Olive","Percy","Quincy","Rose","Samuel","Theodore","Ursula","Vincent","Winifred","Xavier","Yvette","Zachary","Amos","Betsy","Cecil","Delia","Emmett","Fanny","Gideon","Hazel","Irving","Jeannette","Karl","Lucinda","Mortimer","Nettie","Otis","Prudence","Rufus","Sophronia","Titus","Ulysses","Vera","Winston","Xenia","Yolanda","Zeke","Ada","Bernard","Cornelia","Duncan","Esther","Fletcher","Genevieve"],F=["Farmer","Blacksmith","Biscuit Sculptor","Baker","Carpenter","Chicken Whisperer","Fisher","Herbalist","Miner","Mason","Mustache Twirler","Brewer","Butcher","Candlemaker","Cloud Watcher","Dressmaker","Gardener","Hunter","Innkeeper","Jeweler","Locksmith","Miller","Painter","Potter","Quilter","Rancher","Saddler","Tanner","Upholsterer","Vintner","Watchmaker","Wheelwright","Wooly Sock Knitter","Yarn Spinner","Zodiac Interpreter","Archivist","Bookbinder","Cobbler","Dyer","Engraver","Fletcher","Glassblower","Haberdasher","Illuminator","Joiner","Knitter","Lace Maker","Mapmaker","Navigator","Orchardist","Potion Tester","Quarryman","Roofer","Soapmaker","Tobacconist","Undertaker","Victualler","Wainwright","Xylographer","Yeoman","Pumpkin Carver","Mud Pie Maker","Folk Tale Teller","Leaf Collector","Sunset Chaser","Dream Interpreter","Star Gazer"];function $(g){if(g.gameSettings.includes("bagOfHolding"))return g.resource_capacity=972024e3,g;let x=De("stockpile",g).length,V=De("adv_stockpile",g).length,le=1e3+x*2e3+V*12e3;return g.resource_capacity=le,Object.keys(g.resources).forEach(me=>{g.resources[me]>le&&(g.resources[me]=le)}),g}function P(g){for(let x=0;x<g.plots.length;x++)for(let V=0;V<g.plots[x].length;V++)if(Vn(x,V,g)&&g.plots[x][V].active==!0&&te[g.plots[x][V].type].type=="residential"&&Math.random()<.99){let le=`👑🏠 ${j[Math.floor(Math.random()*j.length)]} the ${F[Math.floor(Math.random()*F.length)]}: `,me=Em(g);le+=me,me!=""&&(g=at(le,g,Ze.NORMAL))}return g}function R(g){let x=0;for(let V=0;V<g.plots.length;V++)for(let le=0;le<g.plots[V].length;le++)if(g.plots[V][le].active==!0&&g.plots[V][le].type>-1){let me=te[g.plots[V][le].type].type;(me=="recreation"||me=="shop")&&x++}return g.townInfo.recreation=x,g}function q(g){const x=g.townInfo.population_count;return g.resources.food<x?(g.modifiers.happiness*=.95,g.modifiers.health*=.95,g=at("There isn't enough food for everyone!",g,Ze.BAD),g.resources.food=0):(g.townLog=g.townLog.filter(le=>!le.message.includes("There isn't enough food for everyone!")),g.resources.food-=x),g.resources.food=Math.round(g.resources.food),g}function I(g){const x=g.townInfo.productivity;let V=1;x<50?V=.5:x>50&&x<100?V=.75:x==100?V=1:x>100&&x<125?V=1.25:x>125&&x<150?V=1.75:x>150&&x<175?V=3:x>175&&x<200&&(V=5);const le=g.gameSettings.includes("casual")?1.5:1;V*=le,V=mm(V,2),V*=g.townInfo.community>150?1.2:g.townInfo.community<100?.85:1;let me=De("lumber_mill",g).length*1.5;me===0&&(me=1);for(let Ce=0;Ce<g.plots.length;Ce++)for(let Pe=0;Pe<g.plots[Ce].length;Pe++)if(g.plots[Ce][Pe].active==!0&&g.plots[Ce][Pe].type>-1&&g.plots[Ce][Pe].disabled==!1){let Ee=Tn(Ce,Pe,g),We=Vn(Ce,Pe,g)?2:1,Re=te[g.plots[Ce][Pe].type];Re.generated_resources!=null&&(g.resources.food+=Math.round(Re.generated_resources.food*V)*(Ee?2:1)*We,g.resources.wood+=Math.round(Re.generated_resources.wood*V*me)*We,g.resources.stone+=Math.round(Re.generated_resources.stone*V)*We,g.resources.metal+=Math.round(Re.generated_resources.metal*V)*We,g.resources.bureaucracy+=Math.round(Re.generated_resources.bureaucracy*V)*We)}return g.resources.food=Math.round(g.resources.food),g.resources.wood=Math.round(g.resources.wood),g.resources.stone=Math.round(g.resources.stone),g.resources.metal=Math.round(g.resources.metal),g.resources.bureaucracy=Math.round(g.resources.bureaucracy),g}var C;(function(g){g.food="food",g.wood="wood",g.stone="stone",g.metal="metal",g.bureaucracy="bureaucracy"})(C||(C={}));function k(g){for(let x=0;x<g.plots.length;x++)for(let V=0;V<g.plots[x].length;V++)if(g.plots[x][V].active&&g.plots[x][V].type>-1&&!g.plots[x][V].disabled){let le=te[g.plots[x][V].type];if(le.type=="residential")continue;let me=!1,Ce=[];const Pe=g.plots[x][V].snoozedUntil&&g.environment.day<=(g.plots[x][V].snoozedUntil||0);Object.keys(le.active_costs).forEach((Ee,We)=>{let Re=Object.values(le.active_costs)[We];Re=Re/7,Ee!="power"&&(Ee=="gold"?g.townInfo.gold<Re&&(me=!0,Ce.push(`💰${Re-g.townInfo.gold} gold`)):g.resources[Ee]<Re?(me=!0,Ce.push(`${Re-g.resources[Ee]} ${Ee}`)):Pe||(g.resources[Ee]-=Re))}),me&&!Pe&&(jt.set({visible:!0,plotName:le.title,location:`at (${V}, ${x})`,missingResources:Ce,plotCost:le.requirements.gold,x,y:V}),g.plots[x][V].disabled=!0),g.plots[x][V].disabled=!Pe&&me}else g.plots[x][V].active||(g.plots[x][V].disabled=!1);return g}function N(g){let x=0;for(let V=0;V<g.plots.length;V++)for(let le=0;le<g.plots[V].length;le++)if(g.plots[V][le].active==!0&&g.plots[V][le].type>-1){let me=te[g.plots[V][le].type];me.active_costs.power!=0&&(x-=me.active_costs.power),me.generated_resources.power!=0&&(x+=me.generated_resources.power)}return g.resources.power=x,g.resources.power<0?(g.modifiers.happiness*.98,g.townInfo.happiness-=5,g=at("🔋 POWER SHORTAGE. HAPPINESS DROPPING THROUGH BLACKOUTS.",g,Ze.BAD)):g.townLog=g.townLog.filter(V=>!V.message.includes("🔋 POWER SHORTAGE. HAPPINESS DROPPING THROUGH BLACKOUTS.")),g}function B(g){if(g.gameSettings.includes("devMode")||localStorage.getItem(Rt)!=null)return g;let x=a;for(let V=0;V<ct.length;V++)x.achievements.find(le=>le[0]==ct[V].id)==null&&ct[V].check(g)&&(x.achievements.push([ct[V].id,g.environment.day,g.townInfo.name]),Ae(It,l=!0,l),Ae(wi,r=!0,r));return Tt.update(()=>x),g}let D=!1;function J(g){if(D||g.currentTutorialStep>=Jn.length)return g;for(let x=g.currentTutorialStep;x<g.currentTutorialStep+1;x++)if(Jn[x].isComplete(g)){Ae(Eo,i=!0,i),D=!0,g.townInfo.gold+=Jn[x].goldReward,setTimeout(()=>{Ae(Eo,i=!1,i),g.currentTutorialStep++,D=!1},2e3);break}return g}function Z(g){return g.gameSettings.includes("tomPetty")&&(g.townInfo.happiness<=3||g.townInfo.health<=3)?(g.townInfo.happiness=300,g.modifiers.happiness=1,g.townInfo.health=300,g.modifiers.health=1,g.townInfo.gold=ut(g.townInfo.gold*.5,0),alert("Since you are playing in Tom Petty mode, you have been given another chance. All it took was 50% of your gold. Good luck!"),g):(g.townInfo.happiness<=3&&(g.townInfo.happiness=0,g.endGameDetails={msg:Pt.happiness_zero,win:!1,still_playing:!1}),g.townInfo.health<=3&&(g.townInfo.health=3,g.endGameDetails={msg:Pt.health_zero,win:!1,still_playing:!1}),g.townInfo.population_count<=0&&g.townInfo.population_max>0&&(g.townInfo.population_count=0,g.endGameDetails={msg:Pt.population_zero,win:!1,still_playing:!1}),g)}function X(g){let x=g.townInfo.population_count-g.townInfo.employees;if(g.gameSettings.includes("casual")&&Math.random()<.75)return g;if(x>0){let V=x*.2;V>10&&(V=10),g.townInfo.happiness-=V,g=at(x+Pt.unemployment_num,g,Ze.BAD)}else g.townLog=g.townLog.filter(V=>!V.message.includes(Pt.unemployment_num));return g}function ne(g){for(let x=0;x<g.economyAndLaws.enacted.length;x++){let V=Rr.find(le=>le.id==g.economyAndLaws.enacted[x]);V!=null&&V.weekly_effect!=null&&(g=V.weekly_effect(g))}return g}function ee(g){let x=g.townInfo.health,V=0;return x>50||x<Math.random()*50&&(x<25?(g=at(Pt.sickAndDying,g,Ze.BAD),g.townInfo.happiness-=10,V=Math.round(g.townInfo.population_count*.1)):(g=at(Pt.sickAndLeaving,g,Ze.BAD),g.townInfo.happiness-=5,V=Math.round(g.townInfo.population_count*.05)),g.townInfo.population_count-=V,g.townInfo.employees-=V),g}function oe(g){const x=Math.random();if(g.economyAndLaws.tax_rate>g.economyAndLaws.max_tax_rate&&g.townInfo.population_count>0){let V=1;g.hasBank&&(V=2);const le=g.difficulty==0?.7:g.difficulty==1?.4:.2;x<le&&g.economyAndLaws.tax_rate>g.economyAndLaws.max_tax_rate*2*V?(g.modifiers.happiness-=.02,g=at(Pt.very_high_tax_rate+"  ("+g.economyAndLaws.tax_rate+"%)",g,Ze.BAD)):(g.modifiers.happiness-=.01,g=at(Pt.high_tax_rate+"  ("+g.economyAndLaws.tax_rate*100+"%)",g,Ze.BAD))}return g}function we(g){if(g.modifiers.happiness>1){let V=g.modifiers.happiness-1;g.modifiers.happiness-=V*.3,g.modifiers.happiness<1.02&&(g.modifiers.happiness=1)}if(g.modifiers.community>1){let V=g.modifiers.community-1;g.modifiers.community-=V*.3,g.modifiers.community<1.02&&(g.modifiers.community=1)}if(g.modifiers.health>1)if(De("healing_house",g).length>0){g=at(Pt.hospital_advantage,g,Ze.GOOD);let V=g.modifiers.health-1;g.modifiers.health-=V*De("healing_house",g).length?.03:.06,g.modifiers.health<1.02&&(g.modifiers.health=1)}else{let V=g.modifiers.health-1;g.modifiers.health-=V*.3,g.modifiers.health<1.02&&(g.modifiers.health=1)}else De("healing_house",g).length>0&&(g.modifiers.health+=.8,g.townInfo.health+=Math.floor(Math.random()*10)+5);return g}function ae(g){g.economyAndLaws.weeklyProfit=0;for(let x=0;x<g.plots.length;x++)for(let V=0;V<g.plots[x].length;V++)if(g.plots[x][V].active==!0&&g.plots[x][V].type>-1){const le=te[g.plots[x][V].type];let me=Ue(le.revenue_per_week,g,le.type,x,V)*(g.townInfo.productivity/100)/7,Ce=Tn(x,V,g);const Pe=g.gameSettings.includes("casual")&&me>0?3:1;me*=Pe,me*=Ce?2:1,g.townInfo.gold+=me,g.economyAndLaws.weeklyProfit+=me*7}return g}function ie(g){for(let x=0;x<g.plots.length;x++)for(let V=0;V<g.plots[x].length;V++)if(g.plots[x][V].active==!0&&g.plots[x][V].type>-1){const le=te[g.plots[x][V].type];g.townInfo.happiness*=le.weekly_effect_modifiers.happiness,g.townInfo.health*=le.weekly_effect_modifiers.health,g.townInfo.community*=le.weekly_effect_modifiers.community}return g.townInfo.happiness*=g.modifiers.happiness,g.townInfo.health*=g.modifiers.health,g.townInfo.community*=g.modifiers.community,g}function qe(g){return g.gameSettings.includes("casual")&&Math.random()<.75||De("mine",g).length>0&&(g.townInfo.health-=7,De("healing_house",g).length==0&&(g=at("The mine is actively hurting the health of the town. A Healing House can counteract this.",g,Ze.BAD))),g}function He(g){let x=0;for(let V=0;V<g.plots.length;V++)for(let le=0;le<g.plots[V].length;le++)if(g.plots[V][le].active==!0&&g.plots[V][le].type>-1){let me=te[g.plots[V][le].type],Ce=Vn(V,le,g)?.75:1;me.knowledge_points_per_month!=null&&(g.townInfo.knowledge_points+=Math.round(me.knowledge_points_per_month*Ce/4),x+=me.knowledge_points_per_month*Ce/4)}return g.resource_rate.knowledge=ut(x,0),g}function Ue(g,x,V,le,me){let Ce=x.townInfo.happiness/100;Ce>2?Ce=2:Ce<.75&&(Ce=.75),x.townInfo.community>150?Ce*=1.1:x.townInfo.community<100&&(Ce*=.8);let Pe=De("village_inn",x).length;V=="shop"&&Pe>0&&(Ce*=1.35*Pe),Vn(le,me,x)&&(Ce*=1.5);let We=te[x.plots[le][me].type].active_costs.gold,Re=Math.round(g*x.economyAndLaws.tax_rate*(x.townInfo.population_count/x.townInfo.population_max)*Ce*(x.economyAndLaws.enacted.includes("tax_free")?-1:1)-We);return ut(Re,0)}function ot(g){if(!g)return;localStorage.setItem(nt,JSON.stringify(g));const x=JSON.parse(localStorage.getItem(Qe)||"{}");x.games==null&&(x.games=[],x.selectedGame=0,x.games.push(JSON.stringify(g)),localStorage.setItem(Qe,JSON.stringify(x))),x.selectedGame>x.games.length&&(x.selectedGame=0),x.games[x.selectedGame]=JSON.stringify(g),localStorage.setItem(Qe,JSON.stringify(x))}return Go(async()=>{for(;;)localStorage.reset=="true"&&(Nr(),localStorage.setItem("reset","false")),m(),await new Promise(g=>setTimeout(g,n/jl))}),[m,$r,Lr,we,Dr,ot]}class Fm extends he{constructor(e){super(),pe(this,e,jm,null,de,{mainGameThreadLoop:0,_checkExperiment:1,_fixVariables:2,_bringModifiersBackToNormal:3,_bringStatsBackToNormal:4,syncGameState:5},null,[-1,-1])}get mainGameThreadLoop(){return this.$$.ctx[0]}get _checkExperiment(){return $r}get _fixVariables(){return Lr}get _bringModifiersBackToNormal(){return this.$$.ctx[3]}get _bringStatsBackToNormal(){return Dr}get syncGameState(){return this.$$.ctx[5]}}function Bm(t){return t[t.length-1]}function cn(t){return Object.keys(t).reduce((e,o)=>t[o]===void 0?e:e+`${o}:${t[o]};`,"")}function ar(t){return t?!0:void 0}cn({position:"absolute",opacity:0,"pointer-events":"none",margin:0,transform:"translateX(-100%)"});function Rf(t){if(t!==null)return t}function Fl(t){function e(o){return o(t),()=>{}}return{subscribe:e}}function ur(t){if(!Do)return null;const e=document.querySelector(`[data-melt-id="${t}"]`);return bt(e)?e:null}const Ao=t=>new Proxy(t,{get(e,o,n){return Reflect.get(e,o,n)},ownKeys(e){return Reflect.ownKeys(e).filter(o=>o!=="action")}}),Bl=t=>typeof t=="function";ft("empty");function ft(t,e){const{stores:o,action:n,returned:i}=e??{},r=(()=>{if(o&&i)return tn(o,a=>{const s=i(a);if(Bl(s)){const u=(...f)=>Ao({...s(...f),[`data-melt-${t}`]:"",action:n??Je});return u.action=n??Je,u}return Ao({...s,[`data-melt-${t}`]:"",action:n??Je})});{const a=i,s=a==null?void 0:a();if(Bl(s)){const u=(...f)=>Ao({...s(...f),[`data-melt-${t}`]:"",action:n??Je});return u.action=n??Je,Fl(u)}return Fl(Ao({...s,[`data-melt-${t}`]:"",action:n??Je}))}})(),l=n??(()=>{});return l.subscribe=r.subscribe,l}function ql(t,e){const{stores:o,returned:n,action:i}=e,{subscribe:r}=tn(o,a=>n(a).map(s=>Ao({...s,[`data-melt-${t}`]:"",action:i??Je}))),l=i??(()=>{});return l.subscribe=r,l}function Vi(t){const e=r=>r?`${t}-${r}`:t,o=r=>`data-melt-${t}${r?`-${r}`:""}`,n=r=>`[data-melt-${t}${r?`-${r}`:""}]`;return{name:e,attribute:o,selector:n,getEl:r=>document.querySelector(n(r))}}const Do=typeof document<"u",$f=t=>typeof t=="function";function qm(t){return t instanceof Document}function Wi(t){return t instanceof Element}function bt(t){return t instanceof HTMLElement}function xl(t){return t.pointerType==="touch"}function xm(t){return t!==null&&typeof t=="object"}function Hm(t){return xm(t)&&"subscribe"in t}function Bt(...t){return(...e)=>{for(const o of t)typeof o=="function"&&o(...e)}}function Je(){}function dt(t,e,o,n){const i=Array.isArray(e)?e:[e];return i.forEach(r=>t.addEventListener(r,o,n)),()=>{i.forEach(r=>t.removeEventListener(r,o,n))}}function ht(t,e,o,n){const i=Array.isArray(e)?e:[e];if(typeof o=="function"){const r=Vm(l=>o(l));return i.forEach(l=>t.addEventListener(l,r,n)),()=>{i.forEach(l=>t.removeEventListener(l,r,n))}}return()=>void 0}function Gm(t){const e=t.currentTarget;if(!bt(e))return null;const o=new CustomEvent(`m-${t.type}`,{detail:{originalEvent:t},cancelable:!0});return e.dispatchEvent(o),o}function Vm(t){return e=>{const o=Gm(e);if(!(o!=null&&o.defaultPrevented))return t(e)}}function Yi(t,...e){const o={};for(const n of Object.keys(t))e.includes(n)||(o[n]=t[n]);return o}function Qt(t){return{...t,get:()=>cf(t)}}Qt.writable=function(t){const e=Ve(t);let o=t;return{subscribe:e.subscribe,set(n){e.set(n),o=n},update(n){const i=n(o);e.set(i),o=i},get(){return o}}};Qt.derived=function(t,e){const o=new Map,n=()=>{const r=Array.isArray(t)?t.map(l=>l.get()):t.get();return e(r)};return{get:n,subscribe:r=>{const l=[];return(Array.isArray(t)?t:[t]).forEach(s=>{l.push(s.subscribe(()=>{r(n())}))}),r(n()),o.set(r,l),()=>{const s=o.get(r);if(s)for(const u of s)u();o.delete(r)}}}};const Ui=(t,e)=>{const o=Qt(t),n=(r,l)=>{o.update(a=>{const s=r(a);let u=s;return e&&(u=e({curr:a,next:s})),l==null||l(u),u})};return{...o,update:n,set:r=>{n(()=>r)}}};function ul(t){return new Promise(e=>setTimeout(e,t))}let Wm="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",Ym=(t=21)=>{let e="",o=t;for(;o--;)e+=Wm[Math.random()*64|0];return e};function Um(){return Ym(10)}function fl(t){return t.reduce((e,o)=>(e[o]=Um(),e),{})}const it={ALT:"Alt",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",CAPS_LOCK:"CapsLock",CONTROL:"Control",DELETE:"Delete",END:"End",ENTER:"Enter",ESCAPE:"Escape",F1:"F1",F10:"F10",F11:"F11",F12:"F12",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",HOME:"Home",META:"Meta",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp",SHIFT:"Shift",SPACE:" ",TAB:"Tab",CTRL:"Control",ASTERISK:"*",A:"a",P:"p"},Lf=()=>typeof window<"u";function Km(){const t=navigator.userAgentData;return(t==null?void 0:t.platform)??navigator.platform}const Df=t=>Lf()&&t.test(Km().toLowerCase()),Jm=()=>Lf()&&!!navigator.maxTouchPoints,Xm=()=>Df(/^mac/)&&!Jm(),Zm=()=>Df(/mac|iphone|ipad|ipod/i),Qm=()=>Zm()&&!Xm();function zm(t){const e=t.slice();return e.sort(tp),ep(e)}function ep(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const i=t[n];for(;e.length>=2;){const r=e[e.length-1],l=e[e.length-2];if((r.x-l.x)*(i.y-l.y)>=(r.y-l.y)*(i.x-l.x))e.pop();else break}e.push(i)}e.pop();const o=[];for(let n=t.length-1;n>=0;n--){const i=t[n];for(;o.length>=2;){const r=o[o.length-1],l=o[o.length-2];if((r.x-l.x)*(i.y-l.y)>=(r.y-l.y)*(i.x-l.x))o.pop();else break}o.push(i)}return o.pop(),e.length==1&&o.length==1&&e[0].x==o[0].x&&e[0].y==o[0].y?e:e.concat(o)}function tp(t,e){return t.x<e.x?-1:t.x>e.x?1:t.y<e.y?-1:t.y>e.y?1:0}function np(t){const e=t.getBoundingClientRect();return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.right,y:e.bottom},{x:e.left,y:e.bottom}]}function op(t){const e=t.flatMap(o=>np(o));return zm(e)}function ip(t,e){let o=!1;for(let n=0,i=e.length-1;n<e.length;i=n++){const r=e[n].x,l=e[n].y,a=e[i].x,s=e[i].y;l>t.y!=s>t.y&&t.x<(a-r)*(t.y-l)/(s-l)+r&&(o=!o)}return o}const fr="data-melt-scroll-lock";function Hl(t,e){if(!t)return;const o=t.style.cssText;return Object.assign(t.style,e),()=>{t.style.cssText=o}}function rp(t,e,o){if(!t)return;const n=t.style.getPropertyValue(e);return t.style.setProperty(e,o),()=>{n?t.style.setProperty(e,n):t.style.removeProperty(e)}}function lp(t){const e=t.getBoundingClientRect().left;return Math.round(e)+t.scrollLeft?"paddingLeft":"paddingRight"}function sp(t){const e=document,o=e.defaultView??window,{documentElement:n,body:i}=e;if(i.hasAttribute(fr))return Je;i.setAttribute(fr,"");const l=o.innerWidth-n.clientWidth,a=()=>rp(n,"--scrollbar-width",`${l}px`),s=lp(n),u=o.getComputedStyle(i)[s],f=()=>Hl(i,{overflow:"hidden",[s]:`calc(${u} + ${l}px)`}),c=()=>{const{scrollX:m,scrollY:_,visualViewport:h}=o,p=(h==null?void 0:h.offsetLeft)??0,w=(h==null?void 0:h.offsetTop)??0,v=Hl(i,{position:"fixed",overflow:"hidden",top:`${-(_-Math.floor(w))}px`,left:`${-(m-Math.floor(p))}px`,right:"0",[s]:`calc(${u} + ${l}px)`});return()=>{v==null||v(),o.scrollTo(m,_)}},d=[a(),Qm()?c():f()];return()=>{d.forEach(m=>m==null?void 0:m()),i.removeAttribute(fr)}}const ap=t=>{try{bf(t)}catch{return t}};function St(t,e){let o;const n=tn(t,r=>{o==null||o(),o=e(r)}).subscribe(Je),i=()=>{n(),o==null||o()};return ap(i),i}function Mn(t){const e={};return Object.keys(t).forEach(o=>{const n=o,i=t[n];e[n]=Qt(Ve(i))}),e}function up(t){let e=t.parentElement;for(;bt(e)&&!e.hasAttribute("data-portal");)e=e.parentElement;return e||"body"}function jf(t,e){return e!==void 0?e:up(t)==="body"?document.body:null}async function Gl(t){const{prop:e,defaultEl:o}=t;if(await Promise.all([ul(1),il]),e===void 0){o==null||o.focus();return}const n=$f(e)?e(o):e;if(typeof n=="string"){const i=document.querySelector(n);if(!bt(i))return;i.focus()}else bt(n)&&n.focus()}function cr(t,e,o,n){const i=(t-(isNaN(e)?0:e))%n;let r=Math.abs(i)*2>=n?t+Math.sign(i)*(n-Math.abs(i)):t-i;isNaN(e)?!isNaN(o)&&r>o&&(r=Math.floor(o/n)*n):r<e?r=e:!isNaN(o)&&r>o&&(r=e+Math.floor((o-e)/n)*n);const l=n.toString(),a=l.indexOf("."),s=a>=0?l.length-a:0;if(s>0){const u=Math.pow(10,s);r=Math.round(r*u)/u}return r}Sn(void 0,t=>{function e(n){t(n),t(void 0)}return dt(document,"pointerup",e,{passive:!1,capture:!0})});const fp=Sn(void 0,t=>{function e(n){n&&n.key===it.ESCAPE&&t(n),t(void 0)}return dt(document,"keydown",e,{passive:!1})}),Vl=(t,e={})=>{let o=Je;function n(i={}){o();const r={enabled:!0,...i},l=Hm(r.enabled)?r.enabled:Sn(r.enabled);o=Bt(fp.subscribe(a=>{var u;if(!a||!cf(l))return;const s=a.target;if(!(!bt(s)||s.closest("[data-escapee]")!==t)){if(a.preventDefault(),r.ignore){if($f(r.ignore)){if(r.ignore(a))return}else if(Array.isArray(r.ignore)&&r.ignore.length>0&&r.ignore.some(f=>f&&s===f))return}(u=r.handler)==null||u.call(r,a)}}),St(l,a=>{a?t.dataset.escapee="":delete t.dataset.escapee}))}return n(e),{update:n,destroy(){t.removeAttribute("data-escapee"),o()}}},mn=Math.min,wt=Math.max,ki=Math.round,Xo=Math.floor,pn=t=>({x:t,y:t}),cp={left:"right",right:"left",bottom:"top",top:"bottom"},dp={start:"end",end:"start"};function jr(t,e,o){return wt(t,mn(e,o))}function ao(t,e){return typeof t=="function"?t(e):t}function hn(t){return t.split("-")[0]}function uo(t){return t.split("-")[1]}function Ff(t){return t==="x"?"y":"x"}function cl(t){return t==="y"?"height":"width"}function Vo(t){return["top","bottom"].includes(hn(t))?"y":"x"}function dl(t){return Ff(Vo(t))}function mp(t,e,o){o===void 0&&(o=!1);const n=uo(t),i=dl(t),r=cl(i);let l=i==="x"?n===(o?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[r]>e.floating[r]&&(l=Ci(l)),[l,Ci(l)]}function pp(t){const e=Ci(t);return[Fr(t),e,Fr(e)]}function Fr(t){return t.replace(/start|end/g,e=>dp[e])}function hp(t,e,o){const n=["left","right"],i=["right","left"],r=["top","bottom"],l=["bottom","top"];switch(t){case"top":case"bottom":return o?e?i:n:e?n:i;case"left":case"right":return e?r:l;default:return[]}}function gp(t,e,o,n){const i=uo(t);let r=hp(hn(t),o==="start",n);return i&&(r=r.map(l=>l+"-"+i),e&&(r=r.concat(r.map(Fr)))),r}function Ci(t){return t.replace(/left|right|bottom|top/g,e=>cp[e])}function _p(t){return{top:0,right:0,bottom:0,left:0,...t}}function Bf(t){return typeof t!="number"?_p(t):{top:t,right:t,bottom:t,left:t}}function Si(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function Wl(t,e,o){let{reference:n,floating:i}=t;const r=Vo(e),l=dl(e),a=cl(l),s=hn(e),u=r==="y",f=n.x+n.width/2-i.width/2,c=n.y+n.height/2-i.height/2,d=n[a]/2-i[a]/2;let m;switch(s){case"top":m={x:f,y:n.y-i.height};break;case"bottom":m={x:f,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:c};break;case"left":m={x:n.x-i.width,y:c};break;default:m={x:n.x,y:n.y}}switch(uo(e)){case"start":m[l]-=d*(o&&u?-1:1);break;case"end":m[l]+=d*(o&&u?-1:1);break}return m}const bp=async(t,e,o)=>{const{placement:n="bottom",strategy:i="absolute",middleware:r=[],platform:l}=o,a=r.filter(Boolean),s=await(l.isRTL==null?void 0:l.isRTL(e));let u=await l.getElementRects({reference:t,floating:e,strategy:i}),{x:f,y:c}=Wl(u,n,s),d=n,m={},_=0;for(let h=0;h<a.length;h++){const{name:p,fn:w}=a[h],{x:v,y:A,data:E,reset:j}=await w({x:f,y:c,initialPlacement:n,placement:d,strategy:i,middlewareData:m,rects:u,platform:l,elements:{reference:t,floating:e}});f=v??f,c=A??c,m={...m,[p]:{...m[p],...E}},j&&_<=50&&(_++,typeof j=="object"&&(j.placement&&(d=j.placement),j.rects&&(u=j.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:i}):j.rects),{x:f,y:c}=Wl(u,d,s)),h=-1)}return{x:f,y:c,placement:d,strategy:i,middlewareData:m}};async function ml(t,e){var o;e===void 0&&(e={});const{x:n,y:i,platform:r,rects:l,elements:a,strategy:s}=t,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:c="floating",altBoundary:d=!1,padding:m=0}=ao(e,t),_=Bf(m),p=a[d?c==="floating"?"reference":"floating":c],w=Si(await r.getClippingRect({element:(o=await(r.isElement==null?void 0:r.isElement(p)))==null||o?p:p.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(a.floating)),boundary:u,rootBoundary:f,strategy:s})),v=c==="floating"?{...l.floating,x:n,y:i}:l.reference,A=await(r.getOffsetParent==null?void 0:r.getOffsetParent(a.floating)),E=await(r.isElement==null?void 0:r.isElement(A))?await(r.getScale==null?void 0:r.getScale(A))||{x:1,y:1}:{x:1,y:1},j=Si(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:A,strategy:s}):v);return{top:(w.top-j.top+_.top)/E.y,bottom:(j.bottom-w.bottom+_.bottom)/E.y,left:(w.left-j.left+_.left)/E.x,right:(j.right-w.right+_.right)/E.x}}const vp=t=>({name:"arrow",options:t,async fn(e){const{x:o,y:n,placement:i,rects:r,platform:l,elements:a,middlewareData:s}=e,{element:u,padding:f=0}=ao(t,e)||{};if(u==null)return{};const c=Bf(f),d={x:o,y:n},m=dl(i),_=cl(m),h=await l.getDimensions(u),p=m==="y",w=p?"top":"left",v=p?"bottom":"right",A=p?"clientHeight":"clientWidth",E=r.reference[_]+r.reference[m]-d[m]-r.floating[_],j=d[m]-r.reference[m],F=await(l.getOffsetParent==null?void 0:l.getOffsetParent(u));let $=F?F[A]:0;(!$||!await(l.isElement==null?void 0:l.isElement(F)))&&($=a.floating[A]||r.floating[_]);const P=E/2-j/2,R=$/2-h[_]/2-1,q=mn(c[w],R),I=mn(c[v],R),C=q,k=$-h[_]-I,N=$/2-h[_]/2+P,B=jr(C,N,k),D=!s.arrow&&uo(i)!=null&&N!==B&&r.reference[_]/2-(N<C?q:I)-h[_]/2<0,J=D?N<C?N-C:N-k:0;return{[m]:d[m]+J,data:{[m]:B,centerOffset:N-B-J,...D&&{alignmentOffset:J}},reset:D}}}),yp=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var o,n;const{placement:i,middlewareData:r,rects:l,initialPlacement:a,platform:s,elements:u}=e,{mainAxis:f=!0,crossAxis:c=!0,fallbackPlacements:d,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:h=!0,...p}=ao(t,e);if((o=r.arrow)!=null&&o.alignmentOffset)return{};const w=hn(i),v=hn(a)===a,A=await(s.isRTL==null?void 0:s.isRTL(u.floating)),E=d||(v||!h?[Ci(a)]:pp(a));!d&&_!=="none"&&E.push(...gp(a,h,_,A));const j=[a,...E],F=await ml(e,p),$=[];let P=((n=r.flip)==null?void 0:n.overflows)||[];if(f&&$.push(F[w]),c){const C=mp(i,l,A);$.push(F[C[0]],F[C[1]])}if(P=[...P,{placement:i,overflows:$}],!$.every(C=>C<=0)){var R,q;const C=(((R=r.flip)==null?void 0:R.index)||0)+1,k=j[C];if(k)return{data:{index:C,overflows:P},reset:{placement:k}};let N=(q=P.filter(B=>B.overflows[0]<=0).sort((B,D)=>B.overflows[1]-D.overflows[1])[0])==null?void 0:q.placement;if(!N)switch(m){case"bestFit":{var I;const B=(I=P.map(D=>[D.placement,D.overflows.filter(J=>J>0).reduce((J,Z)=>J+Z,0)]).sort((D,J)=>D[1]-J[1])[0])==null?void 0:I[0];B&&(N=B);break}case"initialPlacement":N=a;break}if(i!==N)return{reset:{placement:N}}}return{}}}};async function wp(t,e){const{placement:o,platform:n,elements:i}=t,r=await(n.isRTL==null?void 0:n.isRTL(i.floating)),l=hn(o),a=uo(o),s=Vo(o)==="y",u=["left","top"].includes(l)?-1:1,f=r&&s?-1:1,c=ao(e,t);let{mainAxis:d,crossAxis:m,alignmentAxis:_}=typeof c=="number"?{mainAxis:c,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...c};return a&&typeof _=="number"&&(m=a==="end"?_*-1:_),s?{x:m*f,y:d*u}:{x:d*u,y:m*f}}const kp=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var o,n;const{x:i,y:r,placement:l,middlewareData:a}=e,s=await wp(e,t);return l===((o=a.offset)==null?void 0:o.placement)&&(n=a.arrow)!=null&&n.alignmentOffset?{}:{x:i+s.x,y:r+s.y,data:{...s,placement:l}}}}},Cp=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:o,y:n,placement:i}=e,{mainAxis:r=!0,crossAxis:l=!1,limiter:a={fn:p=>{let{x:w,y:v}=p;return{x:w,y:v}}},...s}=ao(t,e),u={x:o,y:n},f=await ml(e,s),c=Vo(hn(i)),d=Ff(c);let m=u[d],_=u[c];if(r){const p=d==="y"?"top":"left",w=d==="y"?"bottom":"right",v=m+f[p],A=m-f[w];m=jr(v,m,A)}if(l){const p=c==="y"?"top":"left",w=c==="y"?"bottom":"right",v=_+f[p],A=_-f[w];_=jr(v,_,A)}const h=a.fn({...e,[d]:m,[c]:_});return{...h,data:{x:h.x-o,y:h.y-n}}}}},Sp=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){const{placement:o,rects:n,platform:i,elements:r}=e,{apply:l=()=>{},...a}=ao(t,e),s=await ml(e,a),u=hn(o),f=uo(o),c=Vo(o)==="y",{width:d,height:m}=n.floating;let _,h;u==="top"||u==="bottom"?(_=u,h=f===(await(i.isRTL==null?void 0:i.isRTL(r.floating))?"start":"end")?"left":"right"):(h=u,_=f==="end"?"top":"bottom");const p=m-s[_],w=d-s[h],v=!e.middlewareData.shift;let A=p,E=w;if(c){const F=d-s.left-s.right;E=f||v?mn(w,F):F}else{const F=m-s.top-s.bottom;A=f||v?mn(p,F):F}if(v&&!f){const F=wt(s.left,0),$=wt(s.right,0),P=wt(s.top,0),R=wt(s.bottom,0);c?E=d-2*(F!==0||$!==0?F+$:wt(s.left,s.right)):A=m-2*(P!==0||R!==0?P+R:wt(s.top,s.bottom))}await l({...e,availableWidth:E,availableHeight:A});const j=await i.getDimensions(r.floating);return d!==j.width||m!==j.height?{reset:{rects:!0}}:{}}}};function gn(t){return qf(t)?(t.nodeName||"").toLowerCase():"#document"}function kt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function nn(t){var e;return(e=(qf(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function qf(t){return t instanceof Node||t instanceof kt(t).Node}function zt(t){return t instanceof Element||t instanceof kt(t).Element}function xt(t){return t instanceof HTMLElement||t instanceof kt(t).HTMLElement}function Yl(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof kt(t).ShadowRoot}function Wo(t){const{overflow:e,overflowX:o,overflowY:n,display:i}=Mt(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+o)&&!["inline","contents"].includes(i)}function Ap(t){return["table","td","th"].includes(gn(t))}function pl(t){const e=hl(),o=Mt(t);return o.transform!=="none"||o.perspective!=="none"||(o.containerType?o.containerType!=="normal":!1)||!e&&(o.backdropFilter?o.backdropFilter!=="none":!1)||!e&&(o.filter?o.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(o.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(o.contain||"").includes(n))}function Tp(t){let e=no(t);for(;xt(e)&&!Ki(e);){if(pl(e))return e;e=no(e)}return null}function hl(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ki(t){return["html","body","#document"].includes(gn(t))}function Mt(t){return kt(t).getComputedStyle(t)}function Ji(t){return zt(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function no(t){if(gn(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Yl(t)&&t.host||nn(t);return Yl(e)?e.host:e}function xf(t){const e=no(t);return Ki(e)?t.ownerDocument?t.ownerDocument.body:t.body:xt(e)&&Wo(e)?e:xf(e)}function jo(t,e,o){var n;e===void 0&&(e=[]),o===void 0&&(o=!0);const i=xf(t),r=i===((n=t.ownerDocument)==null?void 0:n.body),l=kt(i);return r?e.concat(l,l.visualViewport||[],Wo(i)?i:[],l.frameElement&&o?jo(l.frameElement):[]):e.concat(i,jo(i,[],o))}function Hf(t){const e=Mt(t);let o=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=xt(t),r=i?t.offsetWidth:o,l=i?t.offsetHeight:n,a=ki(o)!==r||ki(n)!==l;return a&&(o=r,n=l),{width:o,height:n,$:a}}function gl(t){return zt(t)?t:t.contextElement}function Xn(t){const e=gl(t);if(!xt(e))return pn(1);const o=e.getBoundingClientRect(),{width:n,height:i,$:r}=Hf(e);let l=(r?ki(o.width):o.width)/n,a=(r?ki(o.height):o.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!a||!Number.isFinite(a))&&(a=1),{x:l,y:a}}const Ip=pn(0);function Gf(t){const e=kt(t);return!hl()||!e.visualViewport?Ip:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Mp(t,e,o){return e===void 0&&(e=!1),!o||e&&o!==kt(t)?!1:e}function On(t,e,o,n){e===void 0&&(e=!1),o===void 0&&(o=!1);const i=t.getBoundingClientRect(),r=gl(t);let l=pn(1);e&&(n?zt(n)&&(l=Xn(n)):l=Xn(t));const a=Mp(r,o,n)?Gf(r):pn(0);let s=(i.left+a.x)/l.x,u=(i.top+a.y)/l.y,f=i.width/l.x,c=i.height/l.y;if(r){const d=kt(r),m=n&&zt(n)?kt(n):n;let _=d,h=_.frameElement;for(;h&&n&&m!==_;){const p=Xn(h),w=h.getBoundingClientRect(),v=Mt(h),A=w.left+(h.clientLeft+parseFloat(v.paddingLeft))*p.x,E=w.top+(h.clientTop+parseFloat(v.paddingTop))*p.y;s*=p.x,u*=p.y,f*=p.x,c*=p.y,s+=A,u+=E,_=kt(h),h=_.frameElement}}return Si({width:f,height:c,x:s,y:u})}const Op=[":popover-open",":modal"];function Vf(t){return Op.some(e=>{try{return t.matches(e)}catch{return!1}})}function Pp(t){let{elements:e,rect:o,offsetParent:n,strategy:i}=t;const r=i==="fixed",l=nn(n),a=e?Vf(e.floating):!1;if(n===l||a&&r)return o;let s={scrollLeft:0,scrollTop:0},u=pn(1);const f=pn(0),c=xt(n);if((c||!c&&!r)&&((gn(n)!=="body"||Wo(l))&&(s=Ji(n)),xt(n))){const d=On(n);u=Xn(n),f.x=d.x+n.clientLeft,f.y=d.y+n.clientTop}return{width:o.width*u.x,height:o.height*u.y,x:o.x*u.x-s.scrollLeft*u.x+f.x,y:o.y*u.y-s.scrollTop*u.y+f.y}}function Np(t){return Array.from(t.getClientRects())}function Wf(t){return On(nn(t)).left+Ji(t).scrollLeft}function Ep(t){const e=nn(t),o=Ji(t),n=t.ownerDocument.body,i=wt(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),r=wt(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let l=-o.scrollLeft+Wf(t);const a=-o.scrollTop;return Mt(n).direction==="rtl"&&(l+=wt(e.clientWidth,n.clientWidth)-i),{width:i,height:r,x:l,y:a}}function Rp(t,e){const o=kt(t),n=nn(t),i=o.visualViewport;let r=n.clientWidth,l=n.clientHeight,a=0,s=0;if(i){r=i.width,l=i.height;const u=hl();(!u||u&&e==="fixed")&&(a=i.offsetLeft,s=i.offsetTop)}return{width:r,height:l,x:a,y:s}}function $p(t,e){const o=On(t,!0,e==="fixed"),n=o.top+t.clientTop,i=o.left+t.clientLeft,r=xt(t)?Xn(t):pn(1),l=t.clientWidth*r.x,a=t.clientHeight*r.y,s=i*r.x,u=n*r.y;return{width:l,height:a,x:s,y:u}}function Ul(t,e,o){let n;if(e==="viewport")n=Rp(t,o);else if(e==="document")n=Ep(nn(t));else if(zt(e))n=$p(e,o);else{const i=Gf(t);n={...e,x:e.x-i.x,y:e.y-i.y}}return Si(n)}function Yf(t,e){const o=no(t);return o===e||!zt(o)||Ki(o)?!1:Mt(o).position==="fixed"||Yf(o,e)}function Lp(t,e){const o=e.get(t);if(o)return o;let n=jo(t,[],!1).filter(a=>zt(a)&&gn(a)!=="body"),i=null;const r=Mt(t).position==="fixed";let l=r?no(t):t;for(;zt(l)&&!Ki(l);){const a=Mt(l),s=pl(l);!s&&a.position==="fixed"&&(i=null),(r?!s&&!i:!s&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Wo(l)&&!s&&Yf(t,l))?n=n.filter(f=>f!==l):i=a,l=no(l)}return e.set(t,n),n}function Dp(t){let{element:e,boundary:o,rootBoundary:n,strategy:i}=t;const l=[...o==="clippingAncestors"?Lp(e,this._c):[].concat(o),n],a=l[0],s=l.reduce((u,f)=>{const c=Ul(e,f,i);return u.top=wt(c.top,u.top),u.right=mn(c.right,u.right),u.bottom=mn(c.bottom,u.bottom),u.left=wt(c.left,u.left),u},Ul(e,a,i));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}}function jp(t){const{width:e,height:o}=Hf(t);return{width:e,height:o}}function Fp(t,e,o){const n=xt(e),i=nn(e),r=o==="fixed",l=On(t,!0,r,e);let a={scrollLeft:0,scrollTop:0};const s=pn(0);if(n||!n&&!r)if((gn(e)!=="body"||Wo(i))&&(a=Ji(e)),n){const c=On(e,!0,r,e);s.x=c.x+e.clientLeft,s.y=c.y+e.clientTop}else i&&(s.x=Wf(i));const u=l.left+a.scrollLeft-s.x,f=l.top+a.scrollTop-s.y;return{x:u,y:f,width:l.width,height:l.height}}function Kl(t,e){return!xt(t)||Mt(t).position==="fixed"?null:e?e(t):t.offsetParent}function Uf(t,e){const o=kt(t);if(!xt(t)||Vf(t))return o;let n=Kl(t,e);for(;n&&Ap(n)&&Mt(n).position==="static";)n=Kl(n,e);return n&&(gn(n)==="html"||gn(n)==="body"&&Mt(n).position==="static"&&!pl(n))?o:n||Tp(t)||o}const Bp=async function(t){const e=this.getOffsetParent||Uf,o=this.getDimensions;return{reference:Fp(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,...await o(t.floating)}}};function qp(t){return Mt(t).direction==="rtl"}const xp={convertOffsetParentRelativeRectToViewportRelativeRect:Pp,getDocumentElement:nn,getClippingRect:Dp,getOffsetParent:Uf,getElementRects:Bp,getClientRects:Np,getDimensions:jp,getScale:Xn,isElement:zt,isRTL:qp};function Hp(t,e){let o=null,n;const i=nn(t);function r(){var a;clearTimeout(n),(a=o)==null||a.disconnect(),o=null}function l(a,s){a===void 0&&(a=!1),s===void 0&&(s=1),r();const{left:u,top:f,width:c,height:d}=t.getBoundingClientRect();if(a||e(),!c||!d)return;const m=Xo(f),_=Xo(i.clientWidth-(u+c)),h=Xo(i.clientHeight-(f+d)),p=Xo(u),v={rootMargin:-m+"px "+-_+"px "+-h+"px "+-p+"px",threshold:wt(0,mn(1,s))||1};let A=!0;function E(j){const F=j[0].intersectionRatio;if(F!==s){if(!A)return l();F?l(!1,F):n=setTimeout(()=>{l(!1,1e-7)},100)}A=!1}try{o=new IntersectionObserver(E,{...v,root:i.ownerDocument})}catch{o=new IntersectionObserver(E,v)}o.observe(t)}return l(!0),r}function Gp(t,e,o,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:r=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:s=!1}=n,u=gl(t),f=i||r?[...u?jo(u):[],...jo(e)]:[];f.forEach(w=>{i&&w.addEventListener("scroll",o,{passive:!0}),r&&w.addEventListener("resize",o)});const c=u&&a?Hp(u,o):null;let d=-1,m=null;l&&(m=new ResizeObserver(w=>{let[v]=w;v&&v.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var A;(A=m)==null||A.observe(e)})),o()}),u&&!s&&m.observe(u),m.observe(e));let _,h=s?On(t):null;s&&p();function p(){const w=On(t);h&&(w.x!==h.x||w.y!==h.y||w.width!==h.width||w.height!==h.height)&&o(),h=w,_=requestAnimationFrame(p)}return o(),()=>{var w;f.forEach(v=>{i&&v.removeEventListener("scroll",o),r&&v.removeEventListener("resize",o)}),c==null||c(),(w=m)==null||w.disconnect(),m=null,s&&cancelAnimationFrame(_)}}const Vp=Cp,Wp=yp,Yp=Sp,Up=vp,Kp=(t,e,o)=>{const n=new Map,i={platform:xp,...o},r={...i.platform,_c:n};return bp(t,e,{...i,platform:r})},Jp={strategy:"absolute",placement:"top",gutter:5,flip:!0,sameWidth:!1,overflowPadding:8},Xp={bottom:"rotate(45deg)",left:"rotate(135deg)",top:"rotate(225deg)",right:"rotate(315deg)"};function Zp(t,e,o={}){if(!e||!t||o===null)return{destroy:Je};const n={...Jp,...o},i=e.querySelector("[data-arrow=true]"),r=[];n.flip&&r.push(Wp({boundary:n.boundary,padding:n.overflowPadding}));const l=bt(i)?i.offsetHeight/2:0;if(n.gutter||n.offset){const s=n.gutter?{mainAxis:n.gutter}:n.offset;(s==null?void 0:s.mainAxis)!=null&&(s.mainAxis+=l),r.push(kp(s))}r.push(Vp({boundary:n.boundary,crossAxis:n.overlap,padding:n.overflowPadding})),i&&r.push(Up({element:i,padding:8})),r.push(Yp({padding:n.overflowPadding,apply({rects:s,availableHeight:u,availableWidth:f}){n.sameWidth&&Object.assign(e.style,{width:`${Math.round(s.reference.width)}px`,minWidth:"unset"}),n.fitViewport&&Object.assign(e.style,{maxWidth:`${f}px`,maxHeight:`${u}px`})}}));function a(){if(!t||!e)return;const{placement:s,strategy:u}=n;Kp(t,e,{placement:s,middleware:r,strategy:u}).then(f=>{const c=Math.round(f.x),d=Math.round(f.y);if(Object.assign(e.style,{position:n.strategy,top:`${d}px`,left:`${c}px`}),bt(i)&&f.middlewareData.arrow){const{x:m,y:_}=f.middlewareData.arrow,h=f.placement.split("-")[0];Object.assign(i.style,{position:"absolute",left:m!=null?`${m}px`:"",top:_!=null?`${_}px`:"",[h]:`calc(100% - ${l}px)`,transform:Xp[h],backgroundColor:"inherit",zIndex:"inherit"})}return f})}return Object.assign(e.style,{position:n.strategy}),{destroy:Gp(t,e,a)}}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Kf=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Ai=Kf.join(","),Jf=typeof Element>"u",Pn=Jf?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Ti=!Jf&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},Ii=function t(e,o){var n;o===void 0&&(o=!0);var i=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"inert"),r=i===""||i==="true",l=r||o&&e&&t(e.parentNode);return l},Qp=function(e){var o,n=e==null||(o=e.getAttribute)===null||o===void 0?void 0:o.call(e,"contenteditable");return n===""||n==="true"},Xf=function(e,o,n){if(Ii(e))return[];var i=Array.prototype.slice.apply(e.querySelectorAll(Ai));return o&&Pn.call(e,Ai)&&i.unshift(e),i=i.filter(n),i},Zf=function t(e,o,n){for(var i=[],r=Array.from(e);r.length;){var l=r.shift();if(!Ii(l,!1))if(l.tagName==="SLOT"){var a=l.assignedElements(),s=a.length?a:l.children,u=t(s,!0,n);n.flatten?i.push.apply(i,u):i.push({scopeParent:l,candidates:u})}else{var f=Pn.call(l,Ai);f&&n.filter(l)&&(o||!e.includes(l))&&i.push(l);var c=l.shadowRoot||typeof n.getShadowRoot=="function"&&n.getShadowRoot(l),d=!Ii(c,!1)&&(!n.shadowRootFilter||n.shadowRootFilter(l));if(c&&d){var m=t(c===!0?l.children:c.children,!0,n);n.flatten?i.push.apply(i,m):i.push({scopeParent:l,candidates:m})}else r.unshift.apply(r,l.children)}}return i},Qf=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},yn=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||Qp(e))&&!Qf(e)?0:e.tabIndex},zp=function(e,o){var n=yn(e);return n<0&&o&&!Qf(e)?0:n},eh=function(e,o){return e.tabIndex===o.tabIndex?e.documentOrder-o.documentOrder:e.tabIndex-o.tabIndex},zf=function(e){return e.tagName==="INPUT"},th=function(e){return zf(e)&&e.type==="hidden"},nh=function(e){var o=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(n){return n.tagName==="SUMMARY"});return o},oh=function(e,o){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===o)return e[n]},ih=function(e){if(!e.name)return!0;var o=e.form||Ti(e),n=function(a){return o.querySelectorAll('input[type="radio"][name="'+a+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=n(window.CSS.escape(e.name));else try{i=n(e.name)}catch(l){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",l.message),!1}var r=oh(i,e.form);return!r||r===e},rh=function(e){return zf(e)&&e.type==="radio"},lh=function(e){return rh(e)&&!ih(e)},sh=function(e){var o,n=e&&Ti(e),i=(o=n)===null||o===void 0?void 0:o.host,r=!1;if(n&&n!==e){var l,a,s;for(r=!!((l=i)!==null&&l!==void 0&&(a=l.ownerDocument)!==null&&a!==void 0&&a.contains(i)||e!=null&&(s=e.ownerDocument)!==null&&s!==void 0&&s.contains(e));!r&&i;){var u,f,c;n=Ti(i),i=(u=n)===null||u===void 0?void 0:u.host,r=!!((f=i)!==null&&f!==void 0&&(c=f.ownerDocument)!==null&&c!==void 0&&c.contains(i))}}return r},Jl=function(e){var o=e.getBoundingClientRect(),n=o.width,i=o.height;return n===0&&i===0},ah=function(e,o){var n=o.displayCheck,i=o.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var r=Pn.call(e,"details>summary:first-of-type"),l=r?e.parentElement:e;if(Pn.call(l,"details:not([open]) *"))return!0;if(!n||n==="full"||n==="legacy-full"){if(typeof i=="function"){for(var a=e;e;){var s=e.parentElement,u=Ti(e);if(s&&!s.shadowRoot&&i(s)===!0)return Jl(e);e.assignedSlot?e=e.assignedSlot:!s&&u!==e.ownerDocument?e=u.host:e=s}e=a}if(sh(e))return!e.getClientRects().length;if(n!=="legacy-full")return!0}else if(n==="non-zero-area")return Jl(e);return!1},uh=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var o=e.parentElement;o;){if(o.tagName==="FIELDSET"&&o.disabled){for(var n=0;n<o.children.length;n++){var i=o.children.item(n);if(i.tagName==="LEGEND")return Pn.call(o,"fieldset[disabled] *")?!0:!i.contains(e)}return!0}o=o.parentElement}return!1},Mi=function(e,o){return!(o.disabled||Ii(o)||th(o)||ah(o,e)||nh(o)||uh(o))},Br=function(e,o){return!(lh(o)||yn(o)<0||!Mi(e,o))},fh=function(e){var o=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(o)||o>=0)},ch=function t(e){var o=[],n=[];return e.forEach(function(i,r){var l=!!i.scopeParent,a=l?i.scopeParent:i,s=zp(a,l),u=l?t(i.candidates):a;s===0?l?o.push.apply(o,u):o.push(a):n.push({documentOrder:r,tabIndex:s,item:i,isScope:l,content:u})}),n.sort(eh).reduce(function(i,r){return r.isScope?i.push.apply(i,r.content):i.push(r.content),i},[]).concat(o)},dh=function(e,o){o=o||{};var n;return o.getShadowRoot?n=Zf([e],o.includeContainer,{filter:Br.bind(null,o),flatten:!1,getShadowRoot:o.getShadowRoot,shadowRootFilter:fh}):n=Xf(e,o.includeContainer,Br.bind(null,o)),ch(n)},mh=function(e,o){o=o||{};var n;return o.getShadowRoot?n=Zf([e],o.includeContainer,{filter:Mi.bind(null,o),flatten:!0,getShadowRoot:o.getShadowRoot}):n=Xf(e,o.includeContainer,Mi.bind(null,o)),n},xn=function(e,o){if(o=o||{},!e)throw new Error("No node provided");return Pn.call(e,Ai)===!1?!1:Br(o,e)},ph=Kf.concat("iframe").join(","),dr=function(e,o){if(o=o||{},!e)throw new Error("No node provided");return Pn.call(e,ph)===!1?!1:Mi(o,e)};/*!
* focus-trap 7.5.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function Xl(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),o.push.apply(o,n)}return o}function Zl(t){for(var e=1;e<arguments.length;e++){var o=arguments[e]!=null?arguments[e]:{};e%2?Xl(Object(o),!0).forEach(function(n){hh(t,n,o[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):Xl(Object(o)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(o,n))})}return t}function hh(t,e,o){return e=_h(e),e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function gh(t,e){if(typeof t!="object"||t===null)return t;var o=t[Symbol.toPrimitive];if(o!==void 0){var n=o.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _h(t){var e=gh(t,"string");return typeof e=="symbol"?e:String(e)}var Ql={activateTrap:function(e,o){if(e.length>0){var n=e[e.length-1];n!==o&&n.pause()}var i=e.indexOf(o);i===-1||e.splice(i,1),e.push(o)},deactivateTrap:function(e,o){var n=e.indexOf(o);n!==-1&&e.splice(n,1),e.length>0&&e[e.length-1].unpause()}},bh=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},vh=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},Ro=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},yh=function(e){return Ro(e)&&!e.shiftKey},wh=function(e){return Ro(e)&&e.shiftKey},zl=function(e){return setTimeout(e,0)},es=function(e,o){var n=-1;return e.every(function(i,r){return o(i)?(n=r,!1):!0}),n},wo=function(e){for(var o=arguments.length,n=new Array(o>1?o-1:0),i=1;i<o;i++)n[i-1]=arguments[i];return typeof e=="function"?e.apply(void 0,n):e},Zo=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},kh=[],Ch=function(e,o){var n=(o==null?void 0:o.document)||document,i=(o==null?void 0:o.trapStack)||kh,r=Zl({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:yh,isKeyBackward:wh},o),l={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},a,s=function(C,k,N){return C&&C[k]!==void 0?C[k]:r[N||k]},u=function(C,k){var N=typeof(k==null?void 0:k.composedPath)=="function"?k.composedPath():void 0;return l.containerGroups.findIndex(function(B){var D=B.container,J=B.tabbableNodes;return D.contains(C)||(N==null?void 0:N.includes(D))||J.find(function(Z){return Z===C})})},f=function(C){var k=r[C];if(typeof k=="function"){for(var N=arguments.length,B=new Array(N>1?N-1:0),D=1;D<N;D++)B[D-1]=arguments[D];k=k.apply(void 0,B)}if(k===!0&&(k=void 0),!k){if(k===void 0||k===!1)return k;throw new Error("`".concat(C,"` was specified but was not a node, or did not return a node"))}var J=k;if(typeof k=="string"&&(J=n.querySelector(k),!J))throw new Error("`".concat(C,"` as selector refers to no known node"));return J},c=function(){var C=f("initialFocus");if(C===!1)return!1;if(C===void 0||!dr(C,r.tabbableOptions))if(u(n.activeElement)>=0)C=n.activeElement;else{var k=l.tabbableGroups[0],N=k&&k.firstTabbableNode;C=N||f("fallbackFocus")}if(!C)throw new Error("Your focus-trap needs to have at least one focusable element");return C},d=function(){if(l.containerGroups=l.containers.map(function(C){var k=dh(C,r.tabbableOptions),N=mh(C,r.tabbableOptions),B=k.length>0?k[0]:void 0,D=k.length>0?k[k.length-1]:void 0,J=N.find(function(ne){return xn(ne)}),Z=N.slice().reverse().find(function(ne){return xn(ne)}),X=!!k.find(function(ne){return yn(ne)>0});return{container:C,tabbableNodes:k,focusableNodes:N,posTabIndexesFound:X,firstTabbableNode:B,lastTabbableNode:D,firstDomTabbableNode:J,lastDomTabbableNode:Z,nextTabbableNode:function(ee){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,we=k.indexOf(ee);return we<0?oe?N.slice(N.indexOf(ee)+1).find(function(ae){return xn(ae)}):N.slice(0,N.indexOf(ee)).reverse().find(function(ae){return xn(ae)}):k[we+(oe?1:-1)]}}}),l.tabbableGroups=l.containerGroups.filter(function(C){return C.tabbableNodes.length>0}),l.tabbableGroups.length<=0&&!f("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(l.containerGroups.find(function(C){return C.posTabIndexesFound})&&l.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},m=function I(C){var k=C.activeElement;if(k)return k.shadowRoot&&k.shadowRoot.activeElement!==null?I(k.shadowRoot):k},_=function I(C){if(C!==!1&&C!==m(document)){if(!C||!C.focus){I(c());return}C.focus({preventScroll:!!r.preventScroll}),l.mostRecentlyFocusedNode=C,bh(C)&&C.select()}},h=function(C){var k=f("setReturnFocus",C);return k||(k===!1?!1:C)},p=function(C){var k=C.target,N=C.event,B=C.isBackward,D=B===void 0?!1:B;k=k||Zo(N),d();var J=null;if(l.tabbableGroups.length>0){var Z=u(k,N),X=Z>=0?l.containerGroups[Z]:void 0;if(Z<0)D?J=l.tabbableGroups[l.tabbableGroups.length-1].lastTabbableNode:J=l.tabbableGroups[0].firstTabbableNode;else if(D){var ne=es(l.tabbableGroups,function(qe){var He=qe.firstTabbableNode;return k===He});if(ne<0&&(X.container===k||dr(k,r.tabbableOptions)&&!xn(k,r.tabbableOptions)&&!X.nextTabbableNode(k,!1))&&(ne=Z),ne>=0){var ee=ne===0?l.tabbableGroups.length-1:ne-1,oe=l.tabbableGroups[ee];J=yn(k)>=0?oe.lastTabbableNode:oe.lastDomTabbableNode}else Ro(N)||(J=X.nextTabbableNode(k,!1))}else{var we=es(l.tabbableGroups,function(qe){var He=qe.lastTabbableNode;return k===He});if(we<0&&(X.container===k||dr(k,r.tabbableOptions)&&!xn(k,r.tabbableOptions)&&!X.nextTabbableNode(k))&&(we=Z),we>=0){var ae=we===l.tabbableGroups.length-1?0:we+1,ie=l.tabbableGroups[ae];J=yn(k)>=0?ie.firstTabbableNode:ie.firstDomTabbableNode}else Ro(N)||(J=X.nextTabbableNode(k))}}else J=f("fallbackFocus");return J},w=function(C){var k=Zo(C);if(!(u(k,C)>=0)){if(wo(r.clickOutsideDeactivates,C)){a.deactivate({returnFocus:r.returnFocusOnDeactivate});return}wo(r.allowOutsideClick,C)||C.preventDefault()}},v=function(C){var k=Zo(C),N=u(k,C)>=0;if(N||k instanceof Document)N&&(l.mostRecentlyFocusedNode=k);else{C.stopImmediatePropagation();var B,D=!0;if(l.mostRecentlyFocusedNode)if(yn(l.mostRecentlyFocusedNode)>0){var J=u(l.mostRecentlyFocusedNode),Z=l.containerGroups[J].tabbableNodes;if(Z.length>0){var X=Z.findIndex(function(ne){return ne===l.mostRecentlyFocusedNode});X>=0&&(r.isKeyForward(l.recentNavEvent)?X+1<Z.length&&(B=Z[X+1],D=!1):X-1>=0&&(B=Z[X-1],D=!1))}}else l.containerGroups.some(function(ne){return ne.tabbableNodes.some(function(ee){return yn(ee)>0})})||(D=!1);else D=!1;D&&(B=p({target:l.mostRecentlyFocusedNode,isBackward:r.isKeyBackward(l.recentNavEvent)})),_(B||l.mostRecentlyFocusedNode||c())}l.recentNavEvent=void 0},A=function(C){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;l.recentNavEvent=C;var N=p({event:C,isBackward:k});N&&(Ro(C)&&C.preventDefault(),_(N))},E=function(C){if(vh(C)&&wo(r.escapeDeactivates,C)!==!1){C.preventDefault(),a.deactivate();return}(r.isKeyForward(C)||r.isKeyBackward(C))&&A(C,r.isKeyBackward(C))},j=function(C){var k=Zo(C);u(k,C)>=0||wo(r.clickOutsideDeactivates,C)||wo(r.allowOutsideClick,C)||(C.preventDefault(),C.stopImmediatePropagation())},F=function(){if(l.active)return Ql.activateTrap(i,a),l.delayInitialFocusTimer=r.delayInitialFocus?zl(function(){_(c())}):_(c()),n.addEventListener("focusin",v,!0),n.addEventListener("mousedown",w,{capture:!0,passive:!1}),n.addEventListener("touchstart",w,{capture:!0,passive:!1}),n.addEventListener("click",j,{capture:!0,passive:!1}),n.addEventListener("keydown",E,{capture:!0,passive:!1}),a},$=function(){if(l.active)return n.removeEventListener("focusin",v,!0),n.removeEventListener("mousedown",w,!0),n.removeEventListener("touchstart",w,!0),n.removeEventListener("click",j,!0),n.removeEventListener("keydown",E,!0),a},P=function(C){var k=C.some(function(N){var B=Array.from(N.removedNodes);return B.some(function(D){return D===l.mostRecentlyFocusedNode})});k&&_(c())},R=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(P):void 0,q=function(){R&&(R.disconnect(),l.active&&!l.paused&&l.containers.map(function(C){R.observe(C,{subtree:!0,childList:!0})}))};return a={get active(){return l.active},get paused(){return l.paused},activate:function(C){if(l.active)return this;var k=s(C,"onActivate"),N=s(C,"onPostActivate"),B=s(C,"checkCanFocusTrap");B||d(),l.active=!0,l.paused=!1,l.nodeFocusedBeforeActivation=n.activeElement,k==null||k();var D=function(){B&&d(),F(),q(),N==null||N()};return B?(B(l.containers.concat()).then(D,D),this):(D(),this)},deactivate:function(C){if(!l.active)return this;var k=Zl({onDeactivate:r.onDeactivate,onPostDeactivate:r.onPostDeactivate,checkCanReturnFocus:r.checkCanReturnFocus},C);clearTimeout(l.delayInitialFocusTimer),l.delayInitialFocusTimer=void 0,$(),l.active=!1,l.paused=!1,q(),Ql.deactivateTrap(i,a);var N=s(k,"onDeactivate"),B=s(k,"onPostDeactivate"),D=s(k,"checkCanReturnFocus"),J=s(k,"returnFocus","returnFocusOnDeactivate");N==null||N();var Z=function(){zl(function(){J&&_(h(l.nodeFocusedBeforeActivation)),B==null||B()})};return J&&D?(D(h(l.nodeFocusedBeforeActivation)).then(Z,Z),this):(Z(),this)},pause:function(C){if(l.paused||!l.active)return this;var k=s(C,"onPause"),N=s(C,"onPostPause");return l.paused=!0,k==null||k(),$(),q(),N==null||N(),this},unpause:function(C){if(!l.paused||!l.active)return this;var k=s(C,"onUnpause"),N=s(C,"onPostUnpause");return l.paused=!1,k==null||k(),d(),F(),q(),N==null||N(),this},updateContainerElements:function(C){var k=[].concat(C).filter(Boolean);return l.containers=k.map(function(N){return typeof N=="string"?n.querySelector(N):N}),l.active&&d(),q(),this}},a.updateContainerElements(e),a};function Sh(t={}){let e;const{immediate:o,...n}=t,i=Ve(!1),r=Ve(!1),l=c=>e==null?void 0:e.activate(c),a=c=>{e==null||e.deactivate(c)},s=()=>{e&&(e.pause(),r.set(!0))},u=()=>{e&&(e.unpause(),r.set(!1))};return{useFocusTrap:c=>(e=Ch(c,{...n,onActivate(){var d;i.set(!0),(d=t.onActivate)==null||d.call(t)},onDeactivate(){var d;i.set(!1),(d=t.onDeactivate)==null||d.call(t)}}),o&&l(),{destroy(){a(),e=void 0}}),hasFocus:Ol(i),isPaused:Ol(r),activate:l,deactivate:a,pause:s,unpause:u}}const Qo=[];function Ah(t,e){let o=Je;function n(){const r=Qo.indexOf(t);r>=0&&Qo.splice(r,1)}function i(r){o();const{open:l,onClose:a,shouldCloseOnInteractOutside:s,closeOnInteractOutside:u}=r;ul(100).then(()=>{l?Qo.push(t):n()});function f(){return Bm(Qo)===t}function c(){f()&&a&&(a(),n())}function d(_){const h=_.target;Wi(h)&&h&&f()&&(_.preventDefault(),_.stopPropagation(),_.stopImmediatePropagation())}function m(_){s!=null&&s(_)&&f()&&(_.preventDefault(),_.stopPropagation(),_.stopImmediatePropagation(),c())}o=Th(t,{onInteractOutsideStart:d,onInteractOutside:u?m:void 0,enabled:l}).destroy}return i(e),{update:i,destroy(){n(),o()}}}const ec=(t,e="body")=>{let o;if(!bt(e)&&typeof e!="string")return{destroy:Je};async function n(r){if(e=r,typeof e=="string"){if(o=document.querySelector(e),o===null&&(await il(),o=document.querySelector(e)),o===null)throw new Error(`No element found matching css selector: "${e}"`)}else if(e instanceof HTMLElement)o=e;else throw new TypeError(`Unknown portal target type: ${e===null?"null":typeof e}. Allowed types: string (CSS selector) or HTMLElement.`);t.dataset.portal="",o.appendChild(t),t.hidden=!1}function i(){t.remove()}return n(e),{update:n,destroy:i}};function Th(t,e){let o=Je,n=!1,i=!1,r=!1;function l(u){o();const{onInteractOutside:f,onInteractOutsideStart:c,enabled:d}=u;if(!d)return;function m(p){f&&ts(p,t)&&(c==null||c(p));const w=p.target;Wi(w)&&tc(t,w)&&(i=!0),n=!0}function _(p){f==null||f(p)}const h=Ih(t);if(typeof PointerEvent<"u"){const p=w=>{a(w)&&_(w),s()};o=Bt(dt(h,"pointerdown",m,!0),dt(h,"pointerup",p,!0))}else{const p=v=>{r?r=!1:a(v)&&_(v),s()},w=v=>{r=!0,a(v)&&_(v),s()};o=Bt(dt(h,"mousedown",m,!0),dt(h,"mouseup",p,!0),dt(h,"touchstart",m,!0),dt(h,"touchend",w,!0))}}function a(u){return!!(n&&!i&&ts(u,t))}function s(){n=!1,i=!1}return l(e),{update:l,destroy:o}}function ts(t,e){if("button"in t&&t.button>0)return!1;const o=t.target;if(!Wi(o))return!1;const n=o.ownerDocument;return!n||!n.documentElement.contains(o)?!1:e&&!tc(e,o)}function tc(t,e){return t===e||t.contains(e)}function Ih(t){return(t==null?void 0:t.ownerDocument)??document}Sn(!1),Sn(!1),Sn(void 0);function Mh(){return{elements:{root:ft("label",{action:e=>({destroy:ht(e,"mousedown",n=>{!n.defaultPrevented&&n.detail>1&&n.preventDefault()})})})}}}const{name:bn}=Vi("dialog"),Oh={preventScroll:!0,closeOnEscape:!0,closeOnOutsideClick:!0,role:"dialog",defaultOpen:!1,portal:void 0,forceVisible:!1,openFocus:void 0,closeFocus:void 0,onOutsideClick:void 0},Ph=["content","title","description"];function nc(t){const e={...Oh,...t},o=Mn(Yi(e,"ids")),{preventScroll:n,closeOnEscape:i,closeOnOutsideClick:r,role:l,portal:a,forceVisible:s,openFocus:u,closeFocus:f,onOutsideClick:c}=o,d=Qt.writable(null),m=Mn({...fl(Ph),...e.ids}),_=e.open??Ve(e.defaultOpen),h=Ui(_,e==null?void 0:e.onOpenChange),p=tn([h,s],([I,C])=>I||C);let w=Je;function v(I){const C=I.currentTarget,k=I.currentTarget;!bt(C)||!bt(k)||(h.set(!0),d.set(k))}function A(){h.set(!1),Gl({prop:f.get(),defaultEl:d.get()})}const E=ft(bn("trigger"),{stores:[h],returned:([I])=>({"aria-haspopup":"dialog","aria-expanded":I,type:"button"}),action:I=>({destroy:Bt(ht(I,"click",k=>{v(k)}),ht(I,"keydown",k=>{k.key!==it.ENTER&&k.key!==it.SPACE||(k.preventDefault(),v(k))}))})}),j=ft(bn("overlay"),{stores:[p,h],returned:([I,C])=>({hidden:I?void 0:!0,tabindex:-1,style:cn({display:I?void 0:"none"}),"aria-hidden":!0,"data-state":C?"open":"closed"}),action:I=>{let C=Je;if(i.get()){const k=Vl(I,{handler:()=>{A()}});k&&k.destroy&&(C=k.destroy)}return{destroy(){C()}}}}),F=ft(bn("content"),{stores:[p,m.content,m.description,m.title,h],returned:([I,C,k,N,B])=>({id:C,role:l.get(),"aria-describedby":k,"aria-labelledby":N,"aria-modal":I?"true":void 0,"data-state":B?"open":"closed",tabindex:-1,hidden:I?void 0:!0,style:cn({display:I?void 0:"none"})}),action:I=>{let C=Je,k=Je;const N=Bt(St([h],([B])=>{if(!B)return;const D=Sh({immediate:!1,escapeDeactivates:!0,clickOutsideDeactivates:!0,returnFocusOnDeactivate:!1,fallbackFocus:I});C=D.activate,k=D.deactivate;const J=D.useFocusTrap(I);return J&&J.destroy?J.destroy:D.deactivate}),St([r,h],([B,D])=>Ah(I,{open:D,closeOnInteractOutside:B,onClose(){A()},shouldCloseOnInteractOutside(J){var Z;return(Z=c.get())==null||Z(J),!J.defaultPrevented}}).destroy),St([i],([B])=>{if(!B)return Je;const D=Vl(I,{handler:()=>{A()}});return D&&D.destroy?D.destroy:Je}),St([p],([B])=>{il().then(()=>{B?C():k()})}));return{destroy:()=>{w(),N()}}}}),$=ft(bn("portalled"),{stores:a,returned:I=>({"data-portal":Rf(I)}),action:I=>{const C=St([a],([k])=>{if(k===null)return Je;const N=jf(I,k);if(N===null)return Je;const B=ec(I,N);return B&&B.destroy?B.destroy:Je});return{destroy(){C()}}}}),P=ft(bn("title"),{stores:[m.title],returned:([I])=>({id:I})}),R=ft(bn("description"),{stores:[m.description],returned:([I])=>({id:I})}),q=ft(bn("close"),{returned:()=>({type:"button"}),action:I=>({destroy:Bt(ht(I,"click",()=>{A()}),ht(I,"keydown",k=>{k.key!==it.SPACE&&k.key!==it.ENTER||(k.preventDefault(),A())}))})});return St([h,n],([I,C])=>{if(Do){if(C&&I&&(w=sp()),I){const k=document.getElementById(m.content.get());Gl({prop:u.get(),defaultEl:k})}return()=>{s.get()||w()}}}),{ids:m,elements:{content:F,trigger:E,title:P,description:R,overlay:j,close:q,portalled:$},states:{open:h},options:o}}const Nh={defaultValue:0,max:100},{name:Eh}=Vi("progress"),Rh=t=>{const e={...Nh,...t},o=Mn(Yi(e,"value")),{max:n}=o,i=e.value??Ve(e.defaultValue),r=Ui(i,e==null?void 0:e.onValueChange);return{elements:{root:ft(Eh(),{stores:[r,n],returned:([a,s])=>({value:a,max:s,role:"meter","aria-valuemin":0,"aria-valuemax":s,"aria-valuenow":a,"data-value":a,"data-state":a===null?"indeterminate":a===s?"complete":"loading","data-max":s})})},states:{value:r},options:o}},$h={orientation:"horizontal",decorative:!1},Lh=t=>{const e={...$h,...t},o=Mn(e),{orientation:n,decorative:i}=o;return{elements:{root:ft("separator",{stores:[n,i],returned:([l,a])=>({role:a?"none":"separator","aria-orientation":l==="vertical"?l:void 0,"aria-hidden":a,"data-orientation":l})})},options:o}},Dh={defaultValue:[],min:0,max:100,step:1,orientation:"horizontal",dir:"ltr",disabled:!1},{name:zo}=Vi("slider"),jh=t=>{const e={...Dh,...t},o=Mn(Yi(e,"value","onValueChange","defaultValue")),{min:n,max:i,step:r,orientation:l,dir:a,disabled:s}=o,u=e.value??Ve(e.defaultValue),f=Ui(u,e==null?void 0:e.onValueChange),c=Qt(Ve(!1)),d=Qt(Ve(0)),m=Qt(Ve(null)),_=fl(["root"]),h=($,P)=>{f.update(R=>{if(!R)return[$];if(R[P]===$)return R;const q=[...R],I=q[P]>$?-1:1;function C(){q[P]=q[P+I],q[P+I]=$;const D=p();D&&(D[P+I].focus(),m.set({thumb:D[P+I],index:P+I}))}if(I===-1&&$<q[P-1])return C(),q;if(I===1&&$>q[P+1])return C(),q;const k=n.get(),N=i.get(),B=r.get();return q[P]=cr($,k,N,B),q})},p=()=>{const $=ur(_.root);return $?Array.from($.querySelectorAll('[data-melt-part="thumb"]')).filter(P=>bt(P)):null},w=tn([n,i],([$,P])=>R=>(R-$)/(P-$)*100),v=Qt.derived([l,a],([$,P])=>$==="horizontal"?P==="rtl"?"rl":"lr":P==="rtl"?"tb":"bt"),A=ft(zo(),{stores:[s,l,a],returned:([$,P,R])=>({dir:R,disabled:ar($),"data-disabled":ar($),"data-orientation":P,style:$?void 0:`touch-action: ${P==="horizontal"?"pan-y":"pan-x"}`,"data-melt-id":_.root})}),E=ft(zo("range"),{stores:[f,v,w],returned:([$,P,R])=>{const q=$.length>1?R(Math.min(...$)??0):0,I=100-R(Math.max(...$)??0),C={position:"absolute"};switch(P){case"lr":{C.left=`${q}%`,C.right=`${I}%`;break}case"rl":{C.right=`${q}%`,C.left=`${I}%`;break}case"bt":{C.bottom=`${q}%`,C.top=`${I}%`;break}case"tb":{C.top=`${q}%`,C.bottom=`${I}%`;break}}return{style:cn(C)}}}),j=ql(zo("thumb"),{stores:[f,w,n,i,s,l,v],returned:([$,P,R,q,I,C,k])=>Array.from({length:$.length||1},(B,D)=>{d.get()<$.length&&d.update(ee=>ee+1);const Z=$[D],X=`${P(Z)}%`,ne={position:"absolute"};switch(k){case"lr":{ne.left=X,ne.translate="-50% 0";break}case"rl":{ne.right=X,ne.translate="50% 0";break}case"bt":{ne.bottom=X,ne.translate="0 50%";break}case"tb":{ne.top=X,ne.translate="0 -50%";break}}return{role:"slider","aria-valuemin":R,"aria-valuemax":q,"aria-valuenow":Z,"aria-disabled":ar(I),"aria-orientation":C,"data-melt-part":"thumb","data-value":Z,style:cn(ne),tabindex:I?-1:0}}),action:$=>({destroy:ht($,"keydown",R=>{if(s.get())return;const q=R.currentTarget;if(!bt(q))return;const I=p();if(!(I!=null&&I.length))return;const C=I.indexOf(q);if(d.set(C),![it.ARROW_LEFT,it.ARROW_RIGHT,it.ARROW_UP,it.ARROW_DOWN,it.HOME,it.END].includes(R.key))return;R.preventDefault();const k=n.get(),N=i.get(),B=r.get(),D=f.get(),J=l.get(),Z=v.get(),X=D[C];switch(R.key){case it.HOME:{h(k,C);break}case it.END:{h(N,C);break}case it.ARROW_LEFT:{if(J!=="horizontal")break;R.metaKey?h(Z==="rl"?N:k,C):Z==="rl"&&X<N?h(X+B,C):Z==="lr"&&X>k&&h(X-B,C);break}case it.ARROW_RIGHT:{if(J!=="horizontal")break;R.metaKey?h(Z==="rl"?k:N,C):Z==="rl"&&X>k?h(X-B,C):Z==="lr"&&X<N&&h(X+B,C);break}case it.ARROW_UP:{R.metaKey?h(Z==="tb"?k:N,C):Z==="tb"&&X>k?h(X-B,C):Z!=="tb"&&X<N&&h(X+B,C);break}case it.ARROW_DOWN:{R.metaKey?h(Z==="tb"?N:k,C):Z==="tb"&&X<N?h(X+B,C):Z!=="tb"&&X>k&&h(X-B,C);break}}})})}),F=ql(zo("tick"),{stores:[f,n,i,r,v],returned:([$,P,R,q,I])=>{const C=R-P;let k=Math.ceil(C/q);return C%q==0&&k++,Array.from({length:k},(N,B)=>{const D=`${B*(q/(R-P))*100}%`,J=B===0,Z=B===k-1,X=J?0:Z?-100:-50,ne={position:"absolute"};switch(I){case"lr":{ne.left=D,ne.translate=`${X}% 0`;break}case"rl":{ne.right=D,ne.translate=`${-X}% 0`;break}case"bt":{ne.bottom=D,ne.translate=`0 ${-X}%`;break}case"tb":{ne.top=D,ne.translate=`0 ${X}%`;break}}const ee=P+B*q;return{"data-bounded":($.length===1?ee<=$[0]:$[0]<=ee&&ee<=$[$.length-1])?!0:void 0,"data-value":ee,style:cn(ne)}})}});return St([A,n,i,s,l,v,r],([$,P,R,q,I,C,k])=>{if(!Do||q)return;const N=(ne,ee,oe,we)=>{const ie=(ne-oe)/(we-oe)*(R-P)+P;if(ie<P)h(P,ee);else if(ie>R)h(R,ee);else{const qe=k,He=P,Ue=Math.floor((ie-He)/qe),ot=He+Ue*qe+qe/2,g=He+(Ue+1)*qe+qe/2,x=ie>=ot&&ie<g?(Ue+1)*qe+He:Ue*qe+He;x<=R&&h(x,ee)}},B=ne=>{const ee=p();if(!ee)return;ee.forEach(ie=>ie.blur());const oe=ee.map(ie=>{if(I==="horizontal"){const{left:qe,right:He}=ie.getBoundingClientRect();return Math.abs(ne.clientX-(qe+He)/2)}else{const{top:qe,bottom:He}=ie.getBoundingClientRect();return Math.abs(ne.clientY-(qe+He)/2)}}),we=ee[oe.indexOf(Math.min(...oe))],ae=ee.indexOf(we);return{thumb:we,index:ae}},D=ne=>{if(!c.get())return;ne.preventDefault(),ne.stopPropagation();const ee=ur($["data-melt-id"]),oe=m.get();if(!ee||!oe)return;oe.thumb.focus();const{left:we,right:ae,top:ie,bottom:qe}=ee.getBoundingClientRect();switch(C){case"lr":{N(ne.clientX,oe.index,we,ae);break}case"rl":{N(ne.clientX,oe.index,ae,we);break}case"bt":{N(ne.clientY,oe.index,qe,ie);break}case"tb":{N(ne.clientY,oe.index,ie,qe);break}}},J=ne=>{if(ne.button!==0)return;const ee=ur($["data-melt-id"]),oe=B(ne);if(!oe||!ee)return;const we=ne.target;!bt(we)||!ee.contains(we)||(ne.preventDefault(),m.set(oe),oe.thumb.focus(),c.set(!0),D(ne))},Z=()=>{c.set(!1)},X=Bt(dt(document,"pointerdown",J),dt(document,"pointerup",Z),dt(document,"pointerleave",Z),dt(document,"pointermove",D));return()=>{X()}}),St([r,n,i,f],function([P,R,q,I]){const C=N=>cr(N,R,q,P)===N,k=N=>cr(N,R,q,P);I.some(N=>!C(N))&&f.update(N=>N.map(k))}),{elements:{root:A,thumbs:j,range:E,ticks:F},states:{value:f},options:o}},Fh={positioning:{placement:"bottom"},arrowSize:8,defaultOpen:!1,closeOnPointerDown:!0,openDelay:1e3,closeDelay:0,forceVisible:!1,portal:void 0,closeOnEscape:!0,disableHoverableContent:!1,group:void 0},{name:mr}=Vi("tooltip"),ei=new Map,Bh=["trigger","content"];function qh(t){const e={...Fh,...t},o=Mn(Yi(e,"open","ids")),{positioning:n,arrowSize:i,closeOnPointerDown:r,openDelay:l,closeDelay:a,forceVisible:s,portal:u,closeOnEscape:f,disableHoverableContent:c,group:d}=o,m=e.open??Ve(e.defaultOpen),_=Ui(m,e==null?void 0:e.onOpenChange),h=Ve(null),p=Mn({...fl(Bh),...e.ids});let w=!1;const v=C=>Do?document.getElementById(p[C].get()):null;let A=null,E=null;function j(C){E&&(window.clearTimeout(E),E=null),A||(A=window.setTimeout(()=>{_.set(!0),h.update(k=>k??C),A=null},l.get()))}function F(C){if(A&&(window.clearTimeout(A),A=null),C&&I){h.set("pointer");return}E||(E=window.setTimeout(()=>{_.set(!1),h.set(null),C&&(w=!1),E=null},a.get()))}const $=tn([_,s],([C,k])=>C||k),P=ft(mr("trigger"),{stores:[p.content,p.trigger,_],returned:([C,k,N])=>({"aria-describedby":C,id:k,"data-state":N?"open":"closed"}),action:C=>{const k=B=>{f.get()&&B.key===it.ESCAPE&&(A&&(window.clearTimeout(A),A=null),_.set(!1))};return{destroy:Bt(ht(C,"pointerdown",()=>{r.get()&&(_.set(!1),w=!0,A&&(window.clearTimeout(A),A=null))}),ht(C,"pointerenter",B=>{xl(B)||j("pointer")}),ht(C,"pointerleave",B=>{xl(B)||A&&(window.clearTimeout(A),A=null)}),ht(C,"focus",()=>{w||j("focus")}),ht(C,"blur",async()=>{await ul(0),F(!0)}),ht(C,"keydown",k),dt(document,"keydown",k))}}}),R=ft(mr("content"),{stores:[$,_,u,p.content],returned:([C,k,N,B])=>({role:"tooltip",hidden:C?void 0:!0,tabindex:-1,style:cn({display:C?void 0:"none"}),id:B,"data-portal":Rf(N),"data-state":k?"open":"closed"}),action:C=>{let k=Je,N=Je;const B=St([$,n,u],([Z,X,ne])=>{const ee=v("trigger");if(!Z||!ee){N(),k();return}if(k=Zp(ee,C,X).destroy,ne===null){N();return}const we=jf(C,ne);if(we){const ae=ec(C,we);ae&&ae.destroy&&(N=ae.destroy)}});function D(Z){if(!_.get())return;const X=Z.target;if(!Wi(X)&&!qm(X))return;const ne=v("trigger");ne&&X.contains(ne)&&F()}const J=Bt(ht(C,"pointerenter",()=>j("pointer")),ht(C,"pointerdown",()=>j("pointer")),dt(window,"scroll",D,{capture:!0}));return{destroy(){J(),N(),k(),B()}}}}),q=ft(mr("arrow"),{stores:i,returned:C=>({"data-arrow":!0,style:cn({position:"absolute",width:`var(--arrow-size, ${C}px)`,height:`var(--arrow-size, ${C}px)`})})});let I=!1;return St(_,C=>{const k=d.get();if(k===void 0||k===!1)return;if(!C){ei.get(k)===_&&ei.delete(k);return}const N=ei.get(k);N==null||N.set(!1),ei.set(k,_)}),St([_,h],([C,k])=>{if(!(!C||!Do))return Bt(dt(document,"mousemove",N=>{const B=v("content"),D=v("trigger");if(!B||!D)return;const J=c.get()?[D]:[D,B],Z=op(J);I=ip({x:N.clientX,y:N.clientY},Z),k==="pointer"&&(I||F())}))}),{ids:p,elements:{trigger:P,content:R,arrow:q},states:{open:_},options:o}}function Ln(t,e){const o={};return e.forEach(n=>{o[n]={[`data-${t}-${n}`]:""}}),n=>o[n]}function fo(){const t=yd();return e=>{const{originalEvent:o}=e.detail,{cancelable:n}=e,i=o.type;t(i,{originalEvent:o,currentTarget:o.currentTarget},{cancelable:n})||e.preventDefault()}}function co(t){const e={};for(const o in t){const n=t[o];n!==void 0&&(e[o]=n)}return e}function Nn(t){return function(e,o){if(o===void 0)return;const n=t[e];n&&n.set(o)}}function oc(){return{NAME:"alert-dialog",PARTS:["action","cancel","content","description","overlay","portal","title","trigger"]}}function xh(t){const{NAME:e,PARTS:o}=oc(),n=Ln(e,o),i=nc({...co(t),role:"alertdialog",forceVisible:!0}),r={...i,getAttrs:n,updateOption:Nn(i.options)};return Hi(e,r),{...r,updateOption:Nn(r.options),getAttrs:n}}function Dn(){const{NAME:t}=oc();return Gi(t)}const Hh=t=>({ids:t&1}),ns=t=>({ids:t[0]});function Gh(t){let e;const o=t[12].default,n=ge(o,t,t[11],ns);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,[r]){n&&n.p&&(!e||r&2049)&&be(n,o,i,i[11],e?_e(o,i[11],r,Hh):ve(i[11]),ns)},i(i){e||(y(n,i),e=!0)},o(i){S(n,i),e=!1},d(i){n&&n.d(i)}}}function Vh(t,e,o){let n,{$$slots:i={},$$scope:r}=e,{preventScroll:l=void 0}=e,{closeOnEscape:a=void 0}=e,{closeOnOutsideClick:s=!1}=e,{portal:u=void 0}=e,{open:f=void 0}=e,{onOpenChange:c=void 0}=e,{openFocus:d=void 0}=e,{closeFocus:m=void 0}=e,{onOutsideClick:_=void 0}=e;const{states:{open:h},updateOption:p,ids:w}=xh({closeOnEscape:a,preventScroll:l,closeOnOutsideClick:s,portal:u,forceVisible:!0,defaultOpen:f,openFocus:d,closeFocus:m,onOutsideClick:_,onOpenChange:({next:A})=>(f!==A&&(c==null||c(A),o(2,f=A)),A)}),v=tn([w.content,w.description,w.title],([A,E,j])=>({content:A,description:E,title:j}));return se(t,v,A=>o(0,n=A)),t.$$set=A=>{"preventScroll"in A&&o(3,l=A.preventScroll),"closeOnEscape"in A&&o(4,a=A.closeOnEscape),"closeOnOutsideClick"in A&&o(5,s=A.closeOnOutsideClick),"portal"in A&&o(6,u=A.portal),"open"in A&&o(2,f=A.open),"onOpenChange"in A&&o(7,c=A.onOpenChange),"openFocus"in A&&o(8,d=A.openFocus),"closeFocus"in A&&o(9,m=A.closeFocus),"onOutsideClick"in A&&o(10,_=A.onOutsideClick),"$$scope"in A&&o(11,r=A.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&f!==void 0&&h.set(f),t.$$.dirty&8&&p("preventScroll",l),t.$$.dirty&16&&p("closeOnEscape",a),t.$$.dirty&32&&p("closeOnOutsideClick",s),t.$$.dirty&64&&p("portal",u),t.$$.dirty&256&&p("openFocus",d),t.$$.dirty&512&&p("closeFocus",m),t.$$.dirty&1024&&p("onOutsideClick",_)},[n,v,f,l,a,s,u,c,d,m,_,r,i]}class Wh extends he{constructor(e){super(),pe(this,e,Vh,Gh,de,{preventScroll:3,closeOnEscape:4,closeOnOutsideClick:5,portal:6,open:2,onOpenChange:7,openFocus:8,closeFocus:9,onOutsideClick:10})}}const Yh=t=>({builder:t&8}),os=t=>({builder:t[3]}),Uh=t=>({builder:t&8}),is=t=>({builder:t[3]});function Kh(t){let e=t[1],o,n,i=t[1]&&pr(t);return{c(){i&&i.c(),o=Le()},m(r,l){i&&i.m(r,l),O(r,o,l),n=!0},p(r,l){r[1]?e?de(e,r[1])?(i.d(1),i=pr(r),e=r[1],i.c(),i.m(o.parentNode,o)):i.p(r,l):(i=pr(r),e=r[1],i.c(),i.m(o.parentNode,o)):e&&(i.d(1),i=null,e=r[1])},i(r){n||(y(i,r),n=!0)},o(r){S(i,r),n=!1},d(r){r&&M(o),i&&i.d(r)}}}function Jh(t){let e;const o=t[9].default,n=ge(o,t,t[8],is);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&264)&&be(n,o,i,i[8],e?_e(o,i[8],r,Uh):ve(i[8]),is)},i(i){e||(y(n,i),e=!0)},o(i){S(n,i),e=!1},d(i){n&&n.d(i)}}}function pr(t){let e,o,n,i;const r=t[9].default,l=ge(r,t,t[8],os);let a=[t[3],t[5]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=T(t[1]),l&&l.c(),dn(t[1])(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[10](e),o=!0,n||(i=Be(t[3].action(e)),n=!0)},p(u,f){l&&l.p&&(!o||f&264)&&be(l,r,u,u[8],o?_e(r,u[8],f,Yh):ve(u[8]),os),dn(u[1])(e,s=Se(a,[f&8&&u[3],f&32&&u[5]]))},i(u){o||(y(l,u),o=!0)},o(u){S(l,u),o=!1},d(u){u&&M(e),l&&l.d(u),t[10](null),n=!1,i()}}}function Xh(t){let e,o,n,i;const r=[Jh,Kh],l=[];function a(s,u){return s[2]?0:1}return e=a(t),o=l[e]=r[e](t),{c(){o.c(),n=Le()},m(s,u){l[e].m(s,u),O(s,n,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),S(l[f],1,1,()=>{l[f]=null}),Oe(),o=l[e],o?o.p(s,u):(o=l[e]=r[e](s),o.c()),y(o,1),o.m(n.parentNode,n))},i(s){i||(y(o),i=!0)},o(s){S(o),i=!1},d(s){s&&M(n),l[e].d(s)}}}function Zh(t,e,o){let n;const i=["level","asChild","id","el"];let r=ue(e,i),l,{$$slots:a={},$$scope:s}=e,{level:u="h2"}=e,{asChild:f=!1}=e,{id:c=void 0}=e,{el:d=void 0}=e;const{elements:{title:m},ids:_,getAttrs:h}=Dn();se(t,m,v=>o(7,l=v));const p=h("title");function w(v){Ne[v?"unshift":"push"](()=>{d=v,o(0,d)})}return t.$$set=v=>{e=Q(Q({},e),$e(v)),o(5,r=ue(e,i)),"level"in v&&o(1,u=v.level),"asChild"in v&&o(2,f=v.asChild),"id"in v&&o(6,c=v.id),"el"in v&&o(0,d=v.el),"$$scope"in v&&o(8,s=v.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&c&&_.title.set(c),t.$$.dirty&128&&o(3,n=l),t.$$.dirty&8&&Object.assign(n,p)},[d,u,f,n,m,r,c,l,s,a,w]}let Qh=class extends he{constructor(e){super(),pe(this,e,Zh,Xh,de,{level:1,asChild:2,id:6,el:0})}};const zh=t=>({builder:t&4}),rs=t=>({builder:t[2]}),eg=t=>({builder:t&4}),ls=t=>({builder:t[2]});function tg(t){let e,o,n,i;const r=t[8].default,l=ge(r,t,t[7],rs);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=T("button"),l&&l.c(),fe(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[9](e),o=!0,n||(i=[Be(t[2].action(e)),z(e,"m-click",t[4]),z(e,"m-keydown",t[4])],n=!0)},p(u,f){l&&l.p&&(!o||f&132)&&be(l,r,u,u[7],o?_e(r,u[7],f,zh):ve(u[7]),rs),fe(e,s=Se(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){o||(y(l,u),o=!0)},o(u){S(l,u),o=!1},d(u){u&&M(e),l&&l.d(u),t[9](null),n=!1,xe(i)}}}function ng(t){let e;const o=t[8].default,n=ge(o,t,t[7],ls);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&132)&&be(n,o,i,i[7],e?_e(o,i[7],r,eg):ve(i[7]),ls)},i(i){e||(y(n,i),e=!0)},o(i){S(n,i),e=!1},d(i){n&&n.d(i)}}}function og(t){let e,o,n,i;const r=[ng,tg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),o=l[e]=r[e](t),{c(){o.c(),n=Le()},m(s,u){l[e].m(s,u),O(s,n,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),S(l[f],1,1,()=>{l[f]=null}),Oe(),o=l[e],o?o.p(s,u):(o=l[e]=r[e](s),o.c()),y(o,1),o.m(n.parentNode,n))},i(s){i||(y(o),i=!0)},o(s){S(o),i=!1},d(s){s&&M(n),l[e].d(s)}}}function ig(t,e,o){let n;const i=["asChild","el"];let r=ue(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:d}=Dn();se(t,c,p=>o(6,l=p));const m=fo(),_=d("action");function h(p){Ne[p?"unshift":"push"](()=>{f=p,o(0,f)})}return t.$$set=p=>{e=Q(Q({},e),$e(p)),o(5,r=ue(e,i)),"asChild"in p&&o(1,u=p.asChild),"el"in p&&o(0,f=p.el),"$$scope"in p&&o(7,s=p.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&o(2,n=l),t.$$.dirty&4&&Object.assign(n,_)},[f,u,n,c,m,r,l,s,a,h]}let rg=class extends he{constructor(e){super(),pe(this,e,ig,og,de,{asChild:1,el:0})}};const lg=t=>({builder:t&4}),ss=t=>({builder:t[2]}),sg=t=>({builder:t&4}),as=t=>({builder:t[2]});function ag(t){let e,o,n,i;const r=t[8].default,l=ge(r,t,t[7],ss);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=T("button"),l&&l.c(),fe(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[9](e),o=!0,n||(i=[Be(t[2].action(e)),z(e,"m-click",t[4]),z(e,"m-keydown",t[4])],n=!0)},p(u,f){l&&l.p&&(!o||f&132)&&be(l,r,u,u[7],o?_e(r,u[7],f,lg):ve(u[7]),ss),fe(e,s=Se(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){o||(y(l,u),o=!0)},o(u){S(l,u),o=!1},d(u){u&&M(e),l&&l.d(u),t[9](null),n=!1,xe(i)}}}function ug(t){let e;const o=t[8].default,n=ge(o,t,t[7],as);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&132)&&be(n,o,i,i[7],e?_e(o,i[7],r,sg):ve(i[7]),as)},i(i){e||(y(n,i),e=!0)},o(i){S(n,i),e=!1},d(i){n&&n.d(i)}}}function fg(t){let e,o,n,i;const r=[ug,ag],l=[];function a(s,u){return s[1]?0:1}return e=a(t),o=l[e]=r[e](t),{c(){o.c(),n=Le()},m(s,u){l[e].m(s,u),O(s,n,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),S(l[f],1,1,()=>{l[f]=null}),Oe(),o=l[e],o?o.p(s,u):(o=l[e]=r[e](s),o.c()),y(o,1),o.m(n.parentNode,n))},i(s){i||(y(o),i=!0)},o(s){S(o),i=!1},d(s){s&&M(n),l[e].d(s)}}}function cg(t,e,o){let n;const i=["asChild","el"];let r=ue(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:d}=Dn();se(t,c,p=>o(6,l=p));const m=fo(),_=d("cancel");function h(p){Ne[p?"unshift":"push"](()=>{f=p,o(0,f)})}return t.$$set=p=>{e=Q(Q({},e),$e(p)),o(5,r=ue(e,i)),"asChild"in p&&o(1,u=p.asChild),"el"in p&&o(0,f=p.el),"$$scope"in p&&o(7,s=p.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&o(2,n=l),t.$$.dirty&4&&Object.assign(n,_)},[f,u,n,c,m,r,l,s,a,h]}let dg=class extends he{constructor(e){super(),pe(this,e,cg,fg,de,{asChild:1,el:0})}};const mg=t=>({builder:t&4}),us=t=>({builder:t[2]}),pg=t=>({builder:t&4}),fs=t=>({builder:t[2]});function hg(t){let e,o,n,i;const r=t[7].default,l=ge(r,t,t[6],us);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=T("div"),l&&l.c(),fe(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[8](e),o=!0,n||(i=Be(t[2].action(e)),n=!0)},p(u,f){l&&l.p&&(!o||f&68)&&be(l,r,u,u[6],o?_e(r,u[6],f,mg):ve(u[6]),us),fe(e,s=Se(a,[f&4&&u[2],f&16&&u[4]]))},i(u){o||(y(l,u),o=!0)},o(u){S(l,u),o=!1},d(u){u&&M(e),l&&l.d(u),t[8](null),n=!1,i()}}}function gg(t){let e;const o=t[7].default,n=ge(o,t,t[6],fs);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&68)&&be(n,o,i,i[6],e?_e(o,i[6],r,pg):ve(i[6]),fs)},i(i){e||(y(n,i),e=!0)},o(i){S(n,i),e=!1},d(i){n&&n.d(i)}}}function _g(t){let e,o,n,i;const r=[gg,hg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),o=l[e]=r[e](t),{c(){o.c(),n=Le()},m(s,u){l[e].m(s,u),O(s,n,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),S(l[f],1,1,()=>{l[f]=null}),Oe(),o=l[e],o?o.p(s,u):(o=l[e]=r[e](s),o.c()),y(o,1),o.m(n.parentNode,n))},i(s){i||(y(o),i=!0)},o(s){S(o),i=!1},d(s){s&&M(n),l[e].d(s)}}}function bg(t,e,o){let n;const i=["asChild","el"];let r=ue(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{portalled:c},getAttrs:d}=Dn();se(t,c,h=>o(5,l=h));const m=d("portal");function _(h){Ne[h?"unshift":"push"](()=>{f=h,o(0,f)})}return t.$$set=h=>{e=Q(Q({},e),$e(h)),o(4,r=ue(e,i)),"asChild"in h&&o(1,u=h.asChild),"el"in h&&o(0,f=h.el),"$$scope"in h&&o(6,s=h.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&o(2,n=l),t.$$.dirty&4&&Object.assign(n,m)},[f,u,n,c,r,l,s,a,_]}let vg=class extends he{constructor(e){super(),pe(this,e,bg,_g,de,{asChild:1,el:0})}};const yg=t=>({builder:t[0]&256}),cs=t=>({builder:t[8]}),wg=t=>({builder:t[0]&256}),ds=t=>({builder:t[8]}),kg=t=>({builder:t[0]&256}),ms=t=>({builder:t[8]}),Cg=t=>({builder:t[0]&256}),ps=t=>({builder:t[8]}),Sg=t=>({builder:t[0]&256}),hs=t=>({builder:t[8]}),Ag=t=>({builder:t[0]&256}),gs=t=>({builder:t[8]});function Tg(t){let e,o,n,i;const r=t[16].default,l=ge(r,t,t[15],cs);let a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=T("div"),l&&l.c(),fe(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[56](e),o=!0,n||(i=[Be(t[8].action(e)),z(e,"pointerdown",t[45]),z(e,"pointermove",t[46]),z(e,"pointerup",t[47]),z(e,"touchend",t[48]),z(e,"touchstart",t[49]),z(e,"touchcancel",t[50]),z(e,"touchmove",t[51])],n=!0)},p(u,f){l&&l.p&&(!o||f[0]&33024)&&be(l,r,u,u[15],o?_e(r,u[15],f,yg):ve(u[15]),cs),fe(e,s=Se(a,[f[0]&256&&u[8],f[0]&4096&&u[12]]))},i(u){o||(y(l,u),o=!0)},o(u){S(l,u),o=!1},d(u){u&&M(e),l&&l.d(u),t[56](null),n=!1,xe(i)}}}function Ig(t){let e,o,n,i,r;const l=t[16].default,a=ge(l,t,t[15],ds);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=T("div"),a&&a.c(),fe(e,u)},m(f,c){O(f,e,c),a&&a.m(e,null),t[55](e),n=!0,i||(r=[Be(t[8].action(e)),z(e,"pointerdown",t[38]),z(e,"pointermove",t[39]),z(e,"pointerup",t[40]),z(e,"touchend",t[41]),z(e,"touchstart",t[42]),z(e,"touchcancel",t[43]),z(e,"touchmove",t[44])],i=!0)},p(f,c){t=f,a&&a.p&&(!n||c[0]&33024)&&be(a,l,t,t[15],n?_e(l,t[15],c,wg):ve(t[15]),ds),fe(e,u=Se(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){n||(y(a,f),o&&o.end(1),n=!0)},o(f){S(a,f),f&&(o=Vt(e,t[5],t[6])),n=!1},d(f){f&&M(e),a&&a.d(f),t[55](null),f&&o&&o.end(),i=!1,xe(r)}}}function Mg(t){let e,o,n,i,r;const l=t[16].default,a=ge(l,t,t[15],ms);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=T("div"),a&&a.c(),fe(e,u)},m(f,c){O(f,e,c),a&&a.m(e,null),t[54](e),n=!0,i||(r=[Be(t[8].action(e)),z(e,"pointerdown",t[31]),z(e,"pointermove",t[32]),z(e,"pointerup",t[33]),z(e,"touchend",t[34]),z(e,"touchstart",t[35]),z(e,"touchcancel",t[36]),z(e,"touchmove",t[37])],i=!0)},p(f,c){t=f,a&&a.p&&(!n||c[0]&33024)&&be(a,l,t,t[15],n?_e(l,t[15],c,kg):ve(t[15]),ms),fe(e,u=Se(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){n||(y(a,f),f&&(o||et(()=>{o=Gt(e,t[3],t[4]),o.start()})),n=!0)},o(f){S(a,f),n=!1},d(f){f&&M(e),a&&a.d(f),t[54](null),i=!1,xe(r)}}}function Og(t){let e,o,n,i,r,l;const a=t[16].default,s=ge(a,t,t[15],ps);let u=[t[8],t[12]],f={};for(let c=0;c<u.length;c+=1)f=Q(f,u[c]);return{c(){e=T("div"),s&&s.c(),fe(e,f)},m(c,d){O(c,e,d),s&&s.m(e,null),t[53](e),i=!0,r||(l=[Be(t[8].action(e)),z(e,"pointerdown",t[24]),z(e,"pointermove",t[25]),z(e,"pointerup",t[26]),z(e,"touchend",t[27]),z(e,"touchstart",t[28]),z(e,"touchcancel",t[29]),z(e,"touchmove",t[30])],r=!0)},p(c,d){t=c,s&&s.p&&(!i||d[0]&33024)&&be(s,a,t,t[15],i?_e(a,t[15],d,Cg):ve(t[15]),ps),fe(e,f=Se(u,[d[0]&256&&t[8],d[0]&4096&&t[12]]))},i(c){i||(y(s,c),c&&et(()=>{i&&(n&&n.end(1),o=Gt(e,t[3],t[4]),o.start())}),i=!0)},o(c){S(s,c),o&&o.invalidate(),c&&(n=Vt(e,t[5],t[6])),i=!1},d(c){c&&M(e),s&&s.d(c),t[53](null),c&&n&&n.end(),r=!1,xe(l)}}}function Pg(t){let e,o,n,i,r;const l=t[16].default,a=ge(l,t,t[15],hs);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=T("div"),a&&a.c(),fe(e,u)},m(f,c){O(f,e,c),a&&a.m(e,null),t[52](e),n=!0,i||(r=[Be(t[8].action(e)),z(e,"pointerdown",t[17]),z(e,"pointermove",t[18]),z(e,"pointerup",t[19]),z(e,"touchend",t[20]),z(e,"touchstart",t[21]),z(e,"touchcancel",t[22]),z(e,"touchmove",t[23])],i=!0)},p(f,c){t=f,a&&a.p&&(!n||c[0]&33024)&&be(a,l,t,t[15],n?_e(l,t[15],c,Sg):ve(t[15]),hs),fe(e,u=Se(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){n||(y(a,f),f&&et(()=>{n&&(o||(o=gt(e,t[1],t[2],!0)),o.run(1))}),n=!0)},o(f){S(a,f),f&&(o||(o=gt(e,t[1],t[2],!1)),o.run(0)),n=!1},d(f){f&&M(e),a&&a.d(f),t[52](null),f&&o&&o.end(),i=!1,xe(r)}}}function Ng(t){let e;const o=t[16].default,n=ge(o,t,t[15],gs);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r[0]&33024)&&be(n,o,i,i[15],e?_e(o,i[15],r,Ag):ve(i[15]),gs)},i(i){e||(y(n,i),e=!0)},o(i){S(n,i),e=!1},d(i){n&&n.d(i)}}}function Eg(t){let e,o,n,i;const r=[Ng,Pg,Og,Mg,Ig,Tg],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(o=l[e]=r[e](t)),{c(){o&&o.c(),n=Le()},m(s,u){~e&&l[e].m(s,u),O(s,n,u),i=!0},p(s,u){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(o&&(Me(),S(l[f],1,1,()=>{l[f]=null}),Oe()),~e?(o=l[e],o?o.p(s,u):(o=l[e]=r[e](s),o.c()),y(o,1),o.m(n.parentNode,n)):o=null)},i(s){i||(y(o),i=!0)},o(s){S(o),i=!1},d(s){s&&M(n),~e&&l[e].d(s)}}}function Rg(t,e,o){let n;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","id","asChild","el"];let r=ue(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:_=void 0}=e,{outTransitionConfig:h=void 0}=e,{id:p=void 0}=e,{asChild:w=!1}=e,{el:v=void 0}=e;const{elements:{content:A},states:{open:E},ids:j,getAttrs:F}=Dn();se(t,A,H=>o(14,l=H)),se(t,E,H=>o(9,a=H));const $=F("content");function P(H){re.call(this,t,H)}function R(H){re.call(this,t,H)}function q(H){re.call(this,t,H)}function I(H){re.call(this,t,H)}function C(H){re.call(this,t,H)}function k(H){re.call(this,t,H)}function N(H){re.call(this,t,H)}function B(H){re.call(this,t,H)}function D(H){re.call(this,t,H)}function J(H){re.call(this,t,H)}function Z(H){re.call(this,t,H)}function X(H){re.call(this,t,H)}function ne(H){re.call(this,t,H)}function ee(H){re.call(this,t,H)}function oe(H){re.call(this,t,H)}function we(H){re.call(this,t,H)}function ae(H){re.call(this,t,H)}function ie(H){re.call(this,t,H)}function qe(H){re.call(this,t,H)}function He(H){re.call(this,t,H)}function Ue(H){re.call(this,t,H)}function ot(H){re.call(this,t,H)}function g(H){re.call(this,t,H)}function x(H){re.call(this,t,H)}function V(H){re.call(this,t,H)}function le(H){re.call(this,t,H)}function me(H){re.call(this,t,H)}function Ce(H){re.call(this,t,H)}function Pe(H){re.call(this,t,H)}function Ee(H){re.call(this,t,H)}function We(H){re.call(this,t,H)}function Re(H){re.call(this,t,H)}function ke(H){re.call(this,t,H)}function Ye(H){re.call(this,t,H)}function zi(H){re.call(this,t,H)}function er(H){Ne[H?"unshift":"push"](()=>{v=H,o(0,v)})}function tr(H){Ne[H?"unshift":"push"](()=>{v=H,o(0,v)})}function nr(H){Ne[H?"unshift":"push"](()=>{v=H,o(0,v)})}function or(H){Ne[H?"unshift":"push"](()=>{v=H,o(0,v)})}function ir(H){Ne[H?"unshift":"push"](()=>{v=H,o(0,v)})}return t.$$set=H=>{e=Q(Q({},e),$e(H)),o(12,r=ue(e,i)),"transition"in H&&o(1,f=H.transition),"transitionConfig"in H&&o(2,c=H.transitionConfig),"inTransition"in H&&o(3,d=H.inTransition),"inTransitionConfig"in H&&o(4,m=H.inTransitionConfig),"outTransition"in H&&o(5,_=H.outTransition),"outTransitionConfig"in H&&o(6,h=H.outTransitionConfig),"id"in H&&o(13,p=H.id),"asChild"in H&&o(7,w=H.asChild),"el"in H&&o(0,v=H.el),"$$scope"in H&&o(15,u=H.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&8192&&p&&j.content.set(p),t.$$.dirty[0]&16384&&o(8,n=l),t.$$.dirty[0]&256&&Object.assign(n,$)},[v,f,c,d,m,_,h,w,n,a,A,E,r,p,l,u,s,P,R,q,I,C,k,N,B,D,J,Z,X,ne,ee,oe,we,ae,ie,qe,He,Ue,ot,g,x,V,le,me,Ce,Pe,Ee,We,Re,ke,Ye,zi,er,tr,nr,or,ir]}let $g=class extends he{constructor(e){super(),pe(this,e,Rg,Eg,de,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,id:13,asChild:7,el:0},null,[-1,-1])}};const Lg=t=>({builder:t&256}),_s=t=>({builder:t[8]});function Dg(t){let e,o,n,i=[t[8],t[12]],r={};for(let l=0;l<i.length;l+=1)r=Q(r,i[l]);return{c(){e=T("div"),fe(e,r)},m(l,a){O(l,e,a),t[20](e),o||(n=Be(t[8].action(e)),o=!0)},p(l,a){fe(e,r=Se(i,[a&256&&l[8],a&4096&&l[12]]))},i:Te,o:Te,d(l){l&&M(e),t[20](null),o=!1,n()}}}function jg(t){let e,o,n,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=Q(a,l[s]);return{c(){e=T("div"),fe(e,a)},m(s,u){O(s,e,u),t[19](e),n=!0,i||(r=Be(t[8].action(e)),i=!0)},p(s,u){t=s,fe(e,a=Se(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){n||(o&&o.end(1),n=!0)},o(s){s&&(o=Vt(e,t[5],t[6])),n=!1},d(s){s&&M(e),t[19](null),s&&o&&o.end(),i=!1,r()}}}function Fg(t){let e,o,n,i,r=[t[8],t[12]],l={};for(let a=0;a<r.length;a+=1)l=Q(l,r[a]);return{c(){e=T("div"),fe(e,l)},m(a,s){O(a,e,s),t[18](e),n||(i=Be(t[8].action(e)),n=!0)},p(a,s){t=a,fe(e,l=Se(r,[s&256&&t[8],s&4096&&t[12]]))},i(a){a&&(o||et(()=>{o=Gt(e,t[3],t[4]),o.start()}))},o:Te,d(a){a&&M(e),t[18](null),n=!1,i()}}}function Bg(t){let e,o,n,i,r,l,a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=T("div"),fe(e,s)},m(u,f){O(u,e,f),t[17](e),i=!0,r||(l=Be(t[8].action(e)),r=!0)},p(u,f){t=u,fe(e,s=Se(a,[f&256&&t[8],f&4096&&t[12]]))},i(u){i||(u&&et(()=>{i&&(n&&n.end(1),o=Gt(e,t[3],t[4]),o.start())}),i=!0)},o(u){o&&o.invalidate(),u&&(n=Vt(e,t[5],t[6])),i=!1},d(u){u&&M(e),t[17](null),u&&n&&n.end(),r=!1,l()}}}function qg(t){let e,o,n,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=Q(a,l[s]);return{c(){e=T("div"),fe(e,a)},m(s,u){O(s,e,u),t[16](e),n=!0,i||(r=Be(t[8].action(e)),i=!0)},p(s,u){t=s,fe(e,a=Se(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){n||(s&&et(()=>{n&&(o||(o=gt(e,t[1],t[2],!0)),o.run(1))}),n=!0)},o(s){s&&(o||(o=gt(e,t[1],t[2],!1)),o.run(0)),n=!1},d(s){s&&M(e),t[16](null),s&&o&&o.end(),i=!1,r()}}}function xg(t){let e;const o=t[15].default,n=ge(o,t,t[14],_s);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&16640)&&be(n,o,i,i[14],e?_e(o,i[14],r,Lg):ve(i[14]),_s)},i(i){e||(y(n,i),e=!0)},o(i){S(n,i),e=!1},d(i){n&&n.d(i)}}}function Hg(t){let e,o,n,i;const r=[xg,qg,Bg,Fg,jg,Dg],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(o=l[e]=r[e](t)),{c(){o&&o.c(),n=Le()},m(s,u){~e&&l[e].m(s,u),O(s,n,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(o&&(Me(),S(l[f],1,1,()=>{l[f]=null}),Oe()),~e?(o=l[e],o?o.p(s,u):(o=l[e]=r[e](s),o.c()),y(o,1),o.m(n.parentNode,n)):o=null)},i(s){i||(y(o),i=!0)},o(s){S(o),i=!1},d(s){s&&M(n),~e&&l[e].d(s)}}}function Gg(t,e,o){let n;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","el"];let r=ue(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:_=void 0}=e,{outTransitionConfig:h=void 0}=e,{asChild:p=!1}=e,{el:w=void 0}=e;const{elements:{overlay:v},states:{open:A},getAttrs:E}=Dn();se(t,v,I=>o(13,l=I)),se(t,A,I=>o(9,a=I));const j=E("overlay");function F(I){Ne[I?"unshift":"push"](()=>{w=I,o(0,w)})}function $(I){Ne[I?"unshift":"push"](()=>{w=I,o(0,w)})}function P(I){Ne[I?"unshift":"push"](()=>{w=I,o(0,w)})}function R(I){Ne[I?"unshift":"push"](()=>{w=I,o(0,w)})}function q(I){Ne[I?"unshift":"push"](()=>{w=I,o(0,w)})}return t.$$set=I=>{e=Q(Q({},e),$e(I)),o(12,r=ue(e,i)),"transition"in I&&o(1,f=I.transition),"transitionConfig"in I&&o(2,c=I.transitionConfig),"inTransition"in I&&o(3,d=I.inTransition),"inTransitionConfig"in I&&o(4,m=I.inTransitionConfig),"outTransition"in I&&o(5,_=I.outTransition),"outTransitionConfig"in I&&o(6,h=I.outTransitionConfig),"asChild"in I&&o(7,p=I.asChild),"el"in I&&o(0,w=I.el),"$$scope"in I&&o(14,u=I.$$scope)},t.$$.update=()=>{t.$$.dirty&8192&&o(8,n=l),t.$$.dirty&256&&Object.assign(n,j)},[w,f,c,d,m,_,h,p,n,a,v,A,r,l,u,s,F,$,P,R,q]}let Vg=class extends he{constructor(e){super(),pe(this,e,Gg,Hg,de,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,el:0})}};const Wg=t=>({builder:t&4}),bs=t=>({builder:t[2]}),Yg=t=>({builder:t&4}),vs=t=>({builder:t[2]});function Ug(t){let e,o,n,i;const r=t[8].default,l=ge(r,t,t[7],bs);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=T("div"),l&&l.c(),fe(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[9](e),o=!0,n||(i=Be(t[2].action(e)),n=!0)},p(u,f){l&&l.p&&(!o||f&132)&&be(l,r,u,u[7],o?_e(r,u[7],f,Wg):ve(u[7]),bs),fe(e,s=Se(a,[f&4&&u[2],f&16&&u[4]]))},i(u){o||(y(l,u),o=!0)},o(u){S(l,u),o=!1},d(u){u&&M(e),l&&l.d(u),t[9](null),n=!1,i()}}}function Kg(t){let e;const o=t[8].default,n=ge(o,t,t[7],vs);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&132)&&be(n,o,i,i[7],e?_e(o,i[7],r,Yg):ve(i[7]),vs)},i(i){e||(y(n,i),e=!0)},o(i){S(n,i),e=!1},d(i){n&&n.d(i)}}}function Jg(t){let e,o,n,i;const r=[Kg,Ug],l=[];function a(s,u){return s[1]?0:1}return e=a(t),o=l[e]=r[e](t),{c(){o.c(),n=Le()},m(s,u){l[e].m(s,u),O(s,n,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),S(l[f],1,1,()=>{l[f]=null}),Oe(),o=l[e],o?o.p(s,u):(o=l[e]=r[e](s),o.c()),y(o,1),o.m(n.parentNode,n))},i(s){i||(y(o),i=!0)},o(s){S(o),i=!1},d(s){s&&M(n),l[e].d(s)}}}function Xg(t,e,o){let n;const i=["asChild","id","el"];let r=ue(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{description:d},ids:m,getAttrs:_}=Dn();se(t,d,w=>o(6,l=w));const h=_("description");function p(w){Ne[w?"unshift":"push"](()=>{c=w,o(0,c)})}return t.$$set=w=>{e=Q(Q({},e),$e(w)),o(4,r=ue(e,i)),"asChild"in w&&o(1,u=w.asChild),"id"in w&&o(5,f=w.id),"el"in w&&o(0,c=w.el),"$$scope"in w&&o(7,s=w.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f&&m.description.set(f),t.$$.dirty&64&&o(2,n=l),t.$$.dirty&4&&Object.assign(n,h)},[c,u,n,d,r,f,l,s,a,p]}let Zg=class extends he{constructor(e){super(),pe(this,e,Xg,Jg,de,{asChild:1,id:5,el:0})}};function Qg(t,e){const o=[];return e.builders.forEach(n=>{const i=n.action(t);i&&o.push(i)}),{destroy:()=>{o.forEach(n=>{n.destroy&&n.destroy()})}}}function ys(t){const e={};return t.forEach(o=>{Object.keys(o).forEach(n=>{n!=="action"&&(e[n]=o[n])})}),e}function zg(t){let e=t[1]?"a":"button",o,n,i=(t[1]?"a":"button")&&hr(t);return{c(){i&&i.c(),o=Le()},m(r,l){i&&i.m(r,l),O(r,o,l),n=!0},p(r,l){r[1],e?de(e,r[1]?"a":"button")?(i.d(1),i=hr(r),e=r[1]?"a":"button",i.c(),i.m(o.parentNode,o)):i.p(r,l):(i=hr(r),e=r[1]?"a":"button",i.c(),i.m(o.parentNode,o))},i(r){n||(y(i,r),n=!0)},o(r){S(i,r),n=!1},d(r){r&&M(o),i&&i.d(r)}}}function e0(t){let e=t[1]?"a":"button",o,n,i=(t[1]?"a":"button")&&gr(t);return{c(){i&&i.c(),o=Le()},m(r,l){i&&i.m(r,l),O(r,o,l),n=!0},p(r,l){r[1],e?de(e,r[1]?"a":"button")?(i.d(1),i=gr(r),e=r[1]?"a":"button",i.c(),i.m(o.parentNode,o)):i.p(r,l):(i=gr(r),e=r[1]?"a":"button",i.c(),i.m(o.parentNode,o))},i(r){n||(y(i,r),n=!0)},o(r){S(i,r),n=!1},d(r){r&&M(o),i&&i.d(r)}}}function hr(t){let e,o,n,i,r;const l=t[7].default,a=ge(l,t,t[6],null);let s=[{type:o=t[1]?void 0:t[2]},{href:t[1]},{tabindex:"0"},t[5],t[4]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=T(t[1]?"a":"button"),a&&a.c(),dn(t[1]?"a":"button")(e,u)},m(f,c){O(f,e,c),a&&a.m(e,null),n=!0,i||(r=[z(e,"click",t[14]),z(e,"change",t[15]),z(e,"keydown",t[16]),z(e,"keyup",t[17]),z(e,"mouseenter",t[18]),z(e,"mouseleave",t[19])],i=!0)},p(f,c){a&&a.p&&(!n||c&64)&&be(a,l,f,f[6],n?_e(l,f[6],c,null):ve(f[6]),null),dn(f[1]?"a":"button")(e,u=Se(s,[(!n||c&6&&o!==(o=f[1]?void 0:f[2]))&&{type:o},(!n||c&2)&&{href:f[1]},{tabindex:"0"},c&32&&f[5],f[4]]))},i(f){n||(y(a,f),n=!0)},o(f){S(a,f),n=!1},d(f){f&&M(e),a&&a.d(f),i=!1,xe(r)}}}function gr(t){let e,o,n,i,r,l;const a=t[7].default,s=ge(a,t,t[6],null);let u=[{type:o=t[1]?void 0:t[2]},{href:t[1]},{tabindex:"0"},ys(t[3]),t[5],t[4]],f={};for(let c=0;c<u.length;c+=1)f=Q(f,u[c]);return{c(){e=T(t[1]?"a":"button"),s&&s.c(),dn(t[1]?"a":"button")(e,f)},m(c,d){O(c,e,d),s&&s.m(e,null),t[20](e),i=!0,r||(l=[z(e,"click",t[8]),z(e,"change",t[9]),z(e,"keydown",t[10]),z(e,"keyup",t[11]),z(e,"mouseenter",t[12]),z(e,"mouseleave",t[13]),Be(n=Qg.call(null,e,{builders:t[3]}))],r=!0)},p(c,d){s&&s.p&&(!i||d&64)&&be(s,a,c,c[6],i?_e(a,c[6],d,null):ve(c[6]),null),dn(c[1]?"a":"button")(e,f=Se(u,[(!i||d&6&&o!==(o=c[1]?void 0:c[2]))&&{type:o},(!i||d&2)&&{href:c[1]},{tabindex:"0"},d&8&&ys(c[3]),d&32&&c[5],c[4]])),n&&$t(n.update)&&d&8&&n.update.call(null,{builders:c[3]})},i(c){i||(y(s,c),i=!0)},o(c){S(s,c),i=!1},d(c){c&&M(e),s&&s.d(c),t[20](null),r=!1,xe(l)}}}function t0(t){let e,o,n,i;const r=[e0,zg],l=[];function a(s,u){return s[3]&&s[3].length?0:1}return e=a(t),o=l[e]=r[e](t),{c(){o.c(),n=Le()},m(s,u){l[e].m(s,u),O(s,n,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),S(l[f],1,1,()=>{l[f]=null}),Oe(),o=l[e],o?o.p(s,u):(o=l[e]=r[e](s),o.c()),y(o,1),o.m(n.parentNode,n))},i(s){i||(y(o),i=!0)},o(s){S(o),i=!1},d(s){s&&M(n),l[e].d(s)}}}function n0(t,e,o){const n=["href","type","builders","el"];let i=ue(e,n),{$$slots:r={},$$scope:l}=e,{href:a=void 0}=e,{type:s=void 0}=e,{builders:u=[]}=e,{el:f=void 0}=e;const c={"data-button-root":""};function d(R){re.call(this,t,R)}function m(R){re.call(this,t,R)}function _(R){re.call(this,t,R)}function h(R){re.call(this,t,R)}function p(R){re.call(this,t,R)}function w(R){re.call(this,t,R)}function v(R){re.call(this,t,R)}function A(R){re.call(this,t,R)}function E(R){re.call(this,t,R)}function j(R){re.call(this,t,R)}function F(R){re.call(this,t,R)}function $(R){re.call(this,t,R)}function P(R){Ne[R?"unshift":"push"](()=>{f=R,o(0,f)})}return t.$$set=R=>{e=Q(Q({},e),$e(R)),o(5,i=ue(e,n)),"href"in R&&o(1,a=R.href),"type"in R&&o(2,s=R.type),"builders"in R&&o(3,u=R.builders),"el"in R&&o(0,f=R.el),"$$scope"in R&&o(6,l=R.$$scope)},[f,a,s,u,c,i,l,r,d,m,_,h,p,w,v,A,E,j,F,$,P]}let o0=class extends he{constructor(e){super(),pe(this,e,n0,t0,de,{href:1,type:2,builders:3,el:0})}};function i0(t){return(e={})=>r0(t,e)}function r0(t,e){const n={...{side:"bottom",align:"center",sideOffset:0,alignOffset:0,sameWidth:!1,avoidCollisions:!0,collisionPadding:8,fitViewport:!1,strategy:"absolute",overlap:!1},...e};t.update(i=>({...i,placement:l0(n.side,n.align),offset:{...i.offset,mainAxis:n.sideOffset,crossAxis:n.alignOffset},gutter:0,sameWidth:n.sameWidth,flip:n.avoidCollisions,overflowPadding:n.collisionPadding,boundary:n.collisionBoundary,fitViewport:n.fitViewport,strategy:n.strategy,overlap:n.overlap}))}function l0(t,e){return e==="center"?t:`${t}-${e}`}function s0(){return{NAME:"separator",PARTS:["root"]}}function a0(t){const{NAME:e,PARTS:o}=s0(),n=Ln(e,o),i={...Lh(co(t)),getAttrs:n};return{...i,updateOption:Nn(i.options)}}const u0=t=>({builder:t&4}),ws=t=>({builder:t[2]});function f0(t){let e,o,n,i=[t[2],t[4]],r={};for(let l=0;l<i.length;l+=1)r=Q(r,i[l]);return{c(){e=T("div"),fe(e,r)},m(l,a){O(l,e,a),t[10](e),o||(n=Be(t[2].action(e)),o=!0)},p(l,a){fe(e,r=Se(i,[a&4&&l[2],a&16&&l[4]]))},i:Te,o:Te,d(l){l&&M(e),t[10](null),o=!1,n()}}}function c0(t){let e;const o=t[9].default,n=ge(o,t,t[8],ws);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&260)&&be(n,o,i,i[8],e?_e(o,i[8],r,u0):ve(i[8]),ws)},i(i){e||(y(n,i),e=!0)},o(i){S(n,i),e=!1},d(i){n&&n.d(i)}}}function d0(t){let e,o,n,i;const r=[c0,f0],l=[];function a(s,u){return s[1]?0:1}return e=a(t),o=l[e]=r[e](t),{c(){o.c(),n=Le()},m(s,u){l[e].m(s,u),O(s,n,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),S(l[f],1,1,()=>{l[f]=null}),Oe(),o=l[e],o?o.p(s,u):(o=l[e]=r[e](s),o.c()),y(o,1),o.m(n.parentNode,n))},i(s){i||(y(o),i=!0)},o(s){S(o),i=!1},d(s){s&&M(n),l[e].d(s)}}}function m0(t,e,o){let n;const i=["orientation","decorative","asChild","el"];let r=ue(e,i),l,{$$slots:a={},$$scope:s}=e,{orientation:u="horizontal"}=e,{decorative:f=!0}=e,{asChild:c=!1}=e,{el:d=void 0}=e;const{elements:{root:m},updateOption:_,getAttrs:h}=a0({orientation:u,decorative:f});se(t,m,v=>o(7,l=v));const p=h("root");function w(v){Ne[v?"unshift":"push"](()=>{d=v,o(0,d)})}return t.$$set=v=>{e=Q(Q({},e),$e(v)),o(4,r=ue(e,i)),"orientation"in v&&o(5,u=v.orientation),"decorative"in v&&o(6,f=v.decorative),"asChild"in v&&o(1,c=v.asChild),"el"in v&&o(0,d=v.el),"$$scope"in v&&o(8,s=v.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&_("orientation",u),t.$$.dirty&64&&_("decorative",f),t.$$.dirty&128&&o(2,n=l),t.$$.dirty&4&&Object.assign(n,p)},[d,c,n,m,r,u,f,l,s,a,w]}let p0=class extends he{constructor(e){super(),pe(this,e,m0,d0,de,{orientation:5,decorative:6,asChild:1,el:0})}};function ic(){return{NAME:"dialog",PARTS:["close","content","description","overlay","portal","title","trigger"]}}function h0(t){const{NAME:e,PARTS:o}=ic(),n=Ln(e,o),i={...nc({...co(t),role:"dialog",forceVisible:!0}),getAttrs:n};return Hi(e,i),{...i,updateOption:Nn(i.options)}}function Yo(){const{NAME:t}=ic();return Gi(t)}const g0=t=>({ids:t&1}),ks=t=>({ids:t[0]});function _0(t){let e;const o=t[12].default,n=ge(o,t,t[11],ks);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,[r]){n&&n.p&&(!e||r&2049)&&be(n,o,i,i[11],e?_e(o,i[11],r,g0):ve(i[11]),ks)},i(i){e||(y(n,i),e=!0)},o(i){S(n,i),e=!1},d(i){n&&n.d(i)}}}function b0(t,e,o){let n,{$$slots:i={},$$scope:r}=e,{preventScroll:l=void 0}=e,{closeOnEscape:a=void 0}=e,{closeOnOutsideClick:s=void 0}=e,{portal:u=void 0}=e,{open:f=void 0}=e,{onOpenChange:c=void 0}=e,{openFocus:d=void 0}=e,{closeFocus:m=void 0}=e,{onOutsideClick:_=void 0}=e;const{states:{open:h},updateOption:p,ids:w}=h0({closeOnEscape:a,preventScroll:l,closeOnOutsideClick:s,portal:u,forceVisible:!0,defaultOpen:f,openFocus:d,closeFocus:m,onOutsideClick:_,onOpenChange:({next:A})=>(f!==A&&(c==null||c(A),o(2,f=A)),A)}),v=tn([w.content,w.description,w.title],([A,E,j])=>({content:A,description:E,title:j}));return se(t,v,A=>o(0,n=A)),t.$$set=A=>{"preventScroll"in A&&o(3,l=A.preventScroll),"closeOnEscape"in A&&o(4,a=A.closeOnEscape),"closeOnOutsideClick"in A&&o(5,s=A.closeOnOutsideClick),"portal"in A&&o(6,u=A.portal),"open"in A&&o(2,f=A.open),"onOpenChange"in A&&o(7,c=A.onOpenChange),"openFocus"in A&&o(8,d=A.openFocus),"closeFocus"in A&&o(9,m=A.closeFocus),"onOutsideClick"in A&&o(10,_=A.onOutsideClick),"$$scope"in A&&o(11,r=A.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&f!==void 0&&h.set(f),t.$$.dirty&8&&p("preventScroll",l),t.$$.dirty&16&&p("closeOnEscape",a),t.$$.dirty&32&&p("closeOnOutsideClick",s),t.$$.dirty&64&&p("portal",u),t.$$.dirty&256&&p("openFocus",d),t.$$.dirty&512&&p("closeFocus",m),t.$$.dirty&1024&&p("onOutsideClick",_)},[n,v,f,l,a,s,u,c,d,m,_,r,i]}class v0 extends he{constructor(e){super(),pe(this,e,b0,_0,de,{preventScroll:3,closeOnEscape:4,closeOnOutsideClick:5,portal:6,open:2,onOpenChange:7,openFocus:8,closeFocus:9,onOutsideClick:10})}}const y0=t=>({builder:t&8}),Cs=t=>({builder:t[3]}),w0=t=>({builder:t&8}),Ss=t=>({builder:t[3]});function k0(t){let e=t[1],o,n,i=t[1]&&_r(t);return{c(){i&&i.c(),o=Le()},m(r,l){i&&i.m(r,l),O(r,o,l),n=!0},p(r,l){r[1]?e?de(e,r[1])?(i.d(1),i=_r(r),e=r[1],i.c(),i.m(o.parentNode,o)):i.p(r,l):(i=_r(r),e=r[1],i.c(),i.m(o.parentNode,o)):e&&(i.d(1),i=null,e=r[1])},i(r){n||(y(i,r),n=!0)},o(r){S(i,r),n=!1},d(r){r&&M(o),i&&i.d(r)}}}function C0(t){let e;const o=t[9].default,n=ge(o,t,t[8],Ss);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&264)&&be(n,o,i,i[8],e?_e(o,i[8],r,w0):ve(i[8]),Ss)},i(i){e||(y(n,i),e=!0)},o(i){S(n,i),e=!1},d(i){n&&n.d(i)}}}function _r(t){let e,o,n,i;const r=t[9].default,l=ge(r,t,t[8],Cs);let a=[t[3],t[5]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=T(t[1]),l&&l.c(),dn(t[1])(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[10](e),o=!0,n||(i=Be(t[3].action(e)),n=!0)},p(u,f){l&&l.p&&(!o||f&264)&&be(l,r,u,u[8],o?_e(r,u[8],f,y0):ve(u[8]),Cs),dn(u[1])(e,s=Se(a,[f&8&&u[3],f&32&&u[5]]))},i(u){o||(y(l,u),o=!0)},o(u){S(l,u),o=!1},d(u){u&&M(e),l&&l.d(u),t[10](null),n=!1,i()}}}function S0(t){let e,o,n,i;const r=[C0,k0],l=[];function a(s,u){return s[2]?0:1}return e=a(t),o=l[e]=r[e](t),{c(){o.c(),n=Le()},m(s,u){l[e].m(s,u),O(s,n,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),S(l[f],1,1,()=>{l[f]=null}),Oe(),o=l[e],o?o.p(s,u):(o=l[e]=r[e](s),o.c()),y(o,1),o.m(n.parentNode,n))},i(s){i||(y(o),i=!0)},o(s){S(o),i=!1},d(s){s&&M(n),l[e].d(s)}}}function A0(t,e,o){let n;const i=["level","asChild","id","el"];let r=ue(e,i),l,{$$slots:a={},$$scope:s}=e,{level:u="h2"}=e,{asChild:f=!1}=e,{id:c=void 0}=e,{el:d=void 0}=e;const{elements:{title:m},ids:_,getAttrs:h}=Yo();se(t,m,v=>o(7,l=v));const p=h("title");function w(v){Ne[v?"unshift":"push"](()=>{d=v,o(0,d)})}return t.$$set=v=>{e=Q(Q({},e),$e(v)),o(5,r=ue(e,i)),"level"in v&&o(1,u=v.level),"asChild"in v&&o(2,f=v.asChild),"id"in v&&o(6,c=v.id),"el"in v&&o(0,d=v.el),"$$scope"in v&&o(8,s=v.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&c&&_.title.set(c),t.$$.dirty&128&&o(3,n=l),t.$$.dirty&8&&Object.assign(n,p)},[d,u,f,n,m,r,c,l,s,a,w]}let T0=class extends he{constructor(e){super(),pe(this,e,A0,S0,de,{level:1,asChild:2,id:6,el:0})}};const I0=t=>({builder:t&4}),As=t=>({builder:t[2]}),M0=t=>({builder:t&4}),Ts=t=>({builder:t[2]});function O0(t){let e,o,n,i;const r=t[7].default,l=ge(r,t,t[6],As);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=T("div"),l&&l.c(),fe(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[8](e),o=!0,n||(i=Be(t[2].action(e)),n=!0)},p(u,f){l&&l.p&&(!o||f&68)&&be(l,r,u,u[6],o?_e(r,u[6],f,I0):ve(u[6]),As),fe(e,s=Se(a,[f&4&&u[2],f&16&&u[4]]))},i(u){o||(y(l,u),o=!0)},o(u){S(l,u),o=!1},d(u){u&&M(e),l&&l.d(u),t[8](null),n=!1,i()}}}function P0(t){let e;const o=t[7].default,n=ge(o,t,t[6],Ts);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&68)&&be(n,o,i,i[6],e?_e(o,i[6],r,M0):ve(i[6]),Ts)},i(i){e||(y(n,i),e=!0)},o(i){S(n,i),e=!1},d(i){n&&n.d(i)}}}function N0(t){let e,o,n,i;const r=[P0,O0],l=[];function a(s,u){return s[1]?0:1}return e=a(t),o=l[e]=r[e](t),{c(){o.c(),n=Le()},m(s,u){l[e].m(s,u),O(s,n,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),S(l[f],1,1,()=>{l[f]=null}),Oe(),o=l[e],o?o.p(s,u):(o=l[e]=r[e](s),o.c()),y(o,1),o.m(n.parentNode,n))},i(s){i||(y(o),i=!0)},o(s){S(o),i=!1},d(s){s&&M(n),l[e].d(s)}}}function E0(t,e,o){let n;const i=["asChild","el"];let r=ue(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{portalled:c},getAttrs:d}=Yo();se(t,c,h=>o(5,l=h));const m=d("portal");function _(h){Ne[h?"unshift":"push"](()=>{f=h,o(0,f)})}return t.$$set=h=>{e=Q(Q({},e),$e(h)),o(4,r=ue(e,i)),"asChild"in h&&o(1,u=h.asChild),"el"in h&&o(0,f=h.el),"$$scope"in h&&o(6,s=h.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&o(2,n=l),t.$$.dirty&4&&Object.assign(n,m)},[f,u,n,c,r,l,s,a,_]}let R0=class extends he{constructor(e){super(),pe(this,e,E0,N0,de,{asChild:1,el:0})}};const $0=t=>({builder:t[0]&256}),Is=t=>({builder:t[8]}),L0=t=>({builder:t[0]&256}),Ms=t=>({builder:t[8]}),D0=t=>({builder:t[0]&256}),Os=t=>({builder:t[8]}),j0=t=>({builder:t[0]&256}),Ps=t=>({builder:t[8]}),F0=t=>({builder:t[0]&256}),Ns=t=>({builder:t[8]}),B0=t=>({builder:t[0]&256}),Es=t=>({builder:t[8]});function q0(t){let e,o,n,i;const r=t[16].default,l=ge(r,t,t[15],Is);let a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=T("div"),l&&l.c(),fe(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[56](e),o=!0,n||(i=[Be(t[8].action(e)),z(e,"pointerdown",t[45]),z(e,"pointermove",t[46]),z(e,"pointerup",t[47]),z(e,"touchend",t[48]),z(e,"touchstart",t[49]),z(e,"touchcancel",t[50]),z(e,"touchmove",t[51])],n=!0)},p(u,f){l&&l.p&&(!o||f[0]&33024)&&be(l,r,u,u[15],o?_e(r,u[15],f,$0):ve(u[15]),Is),fe(e,s=Se(a,[f[0]&256&&u[8],f[0]&4096&&u[12]]))},i(u){o||(y(l,u),o=!0)},o(u){S(l,u),o=!1},d(u){u&&M(e),l&&l.d(u),t[56](null),n=!1,xe(i)}}}function x0(t){let e,o,n,i,r;const l=t[16].default,a=ge(l,t,t[15],Ms);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=T("div"),a&&a.c(),fe(e,u)},m(f,c){O(f,e,c),a&&a.m(e,null),t[55](e),n=!0,i||(r=[Be(t[8].action(e)),z(e,"pointerdown",t[38]),z(e,"pointermove",t[39]),z(e,"pointerup",t[40]),z(e,"touchend",t[41]),z(e,"touchstart",t[42]),z(e,"touchcancel",t[43]),z(e,"touchmove",t[44])],i=!0)},p(f,c){t=f,a&&a.p&&(!n||c[0]&33024)&&be(a,l,t,t[15],n?_e(l,t[15],c,L0):ve(t[15]),Ms),fe(e,u=Se(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){n||(y(a,f),o&&o.end(1),n=!0)},o(f){S(a,f),f&&(o=Vt(e,t[5],t[6])),n=!1},d(f){f&&M(e),a&&a.d(f),t[55](null),f&&o&&o.end(),i=!1,xe(r)}}}function H0(t){let e,o,n,i,r;const l=t[16].default,a=ge(l,t,t[15],Os);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=T("div"),a&&a.c(),fe(e,u)},m(f,c){O(f,e,c),a&&a.m(e,null),t[54](e),n=!0,i||(r=[Be(t[8].action(e)),z(e,"pointerdown",t[31]),z(e,"pointermove",t[32]),z(e,"pointerup",t[33]),z(e,"touchend",t[34]),z(e,"touchstart",t[35]),z(e,"touchcancel",t[36]),z(e,"touchmove",t[37])],i=!0)},p(f,c){t=f,a&&a.p&&(!n||c[0]&33024)&&be(a,l,t,t[15],n?_e(l,t[15],c,D0):ve(t[15]),Os),fe(e,u=Se(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){n||(y(a,f),f&&(o||et(()=>{o=Gt(e,t[3],t[4]),o.start()})),n=!0)},o(f){S(a,f),n=!1},d(f){f&&M(e),a&&a.d(f),t[54](null),i=!1,xe(r)}}}function G0(t){let e,o,n,i,r,l;const a=t[16].default,s=ge(a,t,t[15],Ps);let u=[t[8],t[12]],f={};for(let c=0;c<u.length;c+=1)f=Q(f,u[c]);return{c(){e=T("div"),s&&s.c(),fe(e,f)},m(c,d){O(c,e,d),s&&s.m(e,null),t[53](e),i=!0,r||(l=[Be(t[8].action(e)),z(e,"pointerdown",t[24]),z(e,"pointermove",t[25]),z(e,"pointerup",t[26]),z(e,"touchend",t[27]),z(e,"touchstart",t[28]),z(e,"touchcancel",t[29]),z(e,"touchmove",t[30])],r=!0)},p(c,d){t=c,s&&s.p&&(!i||d[0]&33024)&&be(s,a,t,t[15],i?_e(a,t[15],d,j0):ve(t[15]),Ps),fe(e,f=Se(u,[d[0]&256&&t[8],d[0]&4096&&t[12]]))},i(c){i||(y(s,c),c&&et(()=>{i&&(n&&n.end(1),o=Gt(e,t[3],t[4]),o.start())}),i=!0)},o(c){S(s,c),o&&o.invalidate(),c&&(n=Vt(e,t[5],t[6])),i=!1},d(c){c&&M(e),s&&s.d(c),t[53](null),c&&n&&n.end(),r=!1,xe(l)}}}function V0(t){let e,o,n,i,r;const l=t[16].default,a=ge(l,t,t[15],Ns);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=T("div"),a&&a.c(),fe(e,u)},m(f,c){O(f,e,c),a&&a.m(e,null),t[52](e),n=!0,i||(r=[Be(t[8].action(e)),z(e,"pointerdown",t[17]),z(e,"pointermove",t[18]),z(e,"pointerup",t[19]),z(e,"touchend",t[20]),z(e,"touchstart",t[21]),z(e,"touchcancel",t[22]),z(e,"touchmove",t[23])],i=!0)},p(f,c){t=f,a&&a.p&&(!n||c[0]&33024)&&be(a,l,t,t[15],n?_e(l,t[15],c,F0):ve(t[15]),Ns),fe(e,u=Se(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){n||(y(a,f),f&&et(()=>{n&&(o||(o=gt(e,t[1],t[2],!0)),o.run(1))}),n=!0)},o(f){S(a,f),f&&(o||(o=gt(e,t[1],t[2],!1)),o.run(0)),n=!1},d(f){f&&M(e),a&&a.d(f),t[52](null),f&&o&&o.end(),i=!1,xe(r)}}}function W0(t){let e;const o=t[16].default,n=ge(o,t,t[15],Es);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r[0]&33024)&&be(n,o,i,i[15],e?_e(o,i[15],r,B0):ve(i[15]),Es)},i(i){e||(y(n,i),e=!0)},o(i){S(n,i),e=!1},d(i){n&&n.d(i)}}}function Y0(t){let e,o,n,i;const r=[W0,V0,G0,H0,x0,q0],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(o=l[e]=r[e](t)),{c(){o&&o.c(),n=Le()},m(s,u){~e&&l[e].m(s,u),O(s,n,u),i=!0},p(s,u){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(o&&(Me(),S(l[f],1,1,()=>{l[f]=null}),Oe()),~e?(o=l[e],o?o.p(s,u):(o=l[e]=r[e](s),o.c()),y(o,1),o.m(n.parentNode,n)):o=null)},i(s){i||(y(o),i=!0)},o(s){S(o),i=!1},d(s){s&&M(n),~e&&l[e].d(s)}}}function U0(t,e,o){let n;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","id","el"];let r=ue(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:_=void 0}=e,{outTransitionConfig:h=void 0}=e,{asChild:p=!1}=e,{id:w=void 0}=e,{el:v=void 0}=e;const{elements:{content:A},states:{open:E},ids:j,getAttrs:F}=Yo();se(t,A,H=>o(14,l=H)),se(t,E,H=>o(9,a=H));const $=F("content");function P(H){re.call(this,t,H)}function R(H){re.call(this,t,H)}function q(H){re.call(this,t,H)}function I(H){re.call(this,t,H)}function C(H){re.call(this,t,H)}function k(H){re.call(this,t,H)}function N(H){re.call(this,t,H)}function B(H){re.call(this,t,H)}function D(H){re.call(this,t,H)}function J(H){re.call(this,t,H)}function Z(H){re.call(this,t,H)}function X(H){re.call(this,t,H)}function ne(H){re.call(this,t,H)}function ee(H){re.call(this,t,H)}function oe(H){re.call(this,t,H)}function we(H){re.call(this,t,H)}function ae(H){re.call(this,t,H)}function ie(H){re.call(this,t,H)}function qe(H){re.call(this,t,H)}function He(H){re.call(this,t,H)}function Ue(H){re.call(this,t,H)}function ot(H){re.call(this,t,H)}function g(H){re.call(this,t,H)}function x(H){re.call(this,t,H)}function V(H){re.call(this,t,H)}function le(H){re.call(this,t,H)}function me(H){re.call(this,t,H)}function Ce(H){re.call(this,t,H)}function Pe(H){re.call(this,t,H)}function Ee(H){re.call(this,t,H)}function We(H){re.call(this,t,H)}function Re(H){re.call(this,t,H)}function ke(H){re.call(this,t,H)}function Ye(H){re.call(this,t,H)}function zi(H){re.call(this,t,H)}function er(H){Ne[H?"unshift":"push"](()=>{v=H,o(0,v)})}function tr(H){Ne[H?"unshift":"push"](()=>{v=H,o(0,v)})}function nr(H){Ne[H?"unshift":"push"](()=>{v=H,o(0,v)})}function or(H){Ne[H?"unshift":"push"](()=>{v=H,o(0,v)})}function ir(H){Ne[H?"unshift":"push"](()=>{v=H,o(0,v)})}return t.$$set=H=>{e=Q(Q({},e),$e(H)),o(12,r=ue(e,i)),"transition"in H&&o(1,f=H.transition),"transitionConfig"in H&&o(2,c=H.transitionConfig),"inTransition"in H&&o(3,d=H.inTransition),"inTransitionConfig"in H&&o(4,m=H.inTransitionConfig),"outTransition"in H&&o(5,_=H.outTransition),"outTransitionConfig"in H&&o(6,h=H.outTransitionConfig),"asChild"in H&&o(7,p=H.asChild),"id"in H&&o(13,w=H.id),"el"in H&&o(0,v=H.el),"$$scope"in H&&o(15,u=H.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&8192&&w&&j.content.set(w),t.$$.dirty[0]&16384&&o(8,n=l),t.$$.dirty[0]&256&&Object.assign(n,$)},[v,f,c,d,m,_,h,p,n,a,A,E,r,w,l,u,s,P,R,q,I,C,k,N,B,D,J,Z,X,ne,ee,oe,we,ae,ie,qe,He,Ue,ot,g,x,V,le,me,Ce,Pe,Ee,We,Re,ke,Ye,zi,er,tr,nr,or,ir]}let K0=class extends he{constructor(e){super(),pe(this,e,U0,Y0,de,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,id:13,el:0},null,[-1,-1])}};const J0=t=>({builder:t&256}),Rs=t=>({builder:t[8]});function X0(t){let e,o,n,i=[t[8],t[12]],r={};for(let l=0;l<i.length;l+=1)r=Q(r,i[l]);return{c(){e=T("div"),fe(e,r)},m(l,a){O(l,e,a),t[25](e),o||(n=[Be(t[8].action(e)),z(e,"mouseup",t[20])],o=!0)},p(l,a){fe(e,r=Se(i,[a&256&&l[8],a&4096&&l[12]]))},i:Te,o:Te,d(l){l&&M(e),t[25](null),o=!1,xe(n)}}}function Z0(t){let e,o,n,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=Q(a,l[s]);return{c(){e=T("div"),fe(e,a)},m(s,u){O(s,e,u),t[24](e),n=!0,i||(r=[Be(t[8].action(e)),z(e,"mouseup",t[19])],i=!0)},p(s,u){t=s,fe(e,a=Se(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){n||(o&&o.end(1),n=!0)},o(s){s&&(o=Vt(e,t[5],t[6])),n=!1},d(s){s&&M(e),t[24](null),s&&o&&o.end(),i=!1,xe(r)}}}function Q0(t){let e,o,n,i,r=[t[8],t[12]],l={};for(let a=0;a<r.length;a+=1)l=Q(l,r[a]);return{c(){e=T("div"),fe(e,l)},m(a,s){O(a,e,s),t[23](e),n||(i=[Be(t[8].action(e)),z(e,"mouseup",t[18])],n=!0)},p(a,s){t=a,fe(e,l=Se(r,[s&256&&t[8],s&4096&&t[12]]))},i(a){a&&(o||et(()=>{o=Gt(e,t[3],t[4]),o.start()}))},o:Te,d(a){a&&M(e),t[23](null),n=!1,xe(i)}}}function z0(t){let e,o,n,i,r,l,a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=T("div"),fe(e,s)},m(u,f){O(u,e,f),t[22](e),i=!0,r||(l=[Be(t[8].action(e)),z(e,"mouseup",t[17])],r=!0)},p(u,f){t=u,fe(e,s=Se(a,[f&256&&t[8],f&4096&&t[12]]))},i(u){i||(u&&et(()=>{i&&(n&&n.end(1),o=Gt(e,t[3],t[4]),o.start())}),i=!0)},o(u){o&&o.invalidate(),u&&(n=Vt(e,t[5],t[6])),i=!1},d(u){u&&M(e),t[22](null),u&&n&&n.end(),r=!1,xe(l)}}}function e_(t){let e,o,n,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=Q(a,l[s]);return{c(){e=T("div"),fe(e,a)},m(s,u){O(s,e,u),t[21](e),n=!0,i||(r=[z(e,"mouseup",t[16]),Be(t[8].action(e))],i=!0)},p(s,u){t=s,fe(e,a=Se(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){n||(s&&et(()=>{n&&(o||(o=gt(e,t[1],t[2],!0)),o.run(1))}),n=!0)},o(s){s&&(o||(o=gt(e,t[1],t[2],!1)),o.run(0)),n=!1},d(s){s&&M(e),t[21](null),s&&o&&o.end(),i=!1,xe(r)}}}function t_(t){let e;const o=t[15].default,n=ge(o,t,t[14],Rs);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&16640)&&be(n,o,i,i[14],e?_e(o,i[14],r,J0):ve(i[14]),Rs)},i(i){e||(y(n,i),e=!0)},o(i){S(n,i),e=!1},d(i){n&&n.d(i)}}}function n_(t){let e,o,n,i;const r=[t_,e_,z0,Q0,Z0,X0],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(o=l[e]=r[e](t)),{c(){o&&o.c(),n=Le()},m(s,u){~e&&l[e].m(s,u),O(s,n,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(o&&(Me(),S(l[f],1,1,()=>{l[f]=null}),Oe()),~e?(o=l[e],o?o.p(s,u):(o=l[e]=r[e](s),o.c()),y(o,1),o.m(n.parentNode,n)):o=null)},i(s){i||(y(o),i=!0)},o(s){S(o),i=!1},d(s){s&&M(n),~e&&l[e].d(s)}}}function o_(t,e,o){let n;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","el"];let r=ue(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:_=void 0}=e,{outTransitionConfig:h=void 0}=e,{asChild:p=!1}=e,{el:w=void 0}=e;const{elements:{overlay:v},states:{open:A},getAttrs:E}=Yo();se(t,v,D=>o(13,l=D)),se(t,A,D=>o(9,a=D));const j=E("overlay");function F(D){re.call(this,t,D)}function $(D){re.call(this,t,D)}function P(D){re.call(this,t,D)}function R(D){re.call(this,t,D)}function q(D){re.call(this,t,D)}function I(D){Ne[D?"unshift":"push"](()=>{w=D,o(0,w)})}function C(D){Ne[D?"unshift":"push"](()=>{w=D,o(0,w)})}function k(D){Ne[D?"unshift":"push"](()=>{w=D,o(0,w)})}function N(D){Ne[D?"unshift":"push"](()=>{w=D,o(0,w)})}function B(D){Ne[D?"unshift":"push"](()=>{w=D,o(0,w)})}return t.$$set=D=>{e=Q(Q({},e),$e(D)),o(12,r=ue(e,i)),"transition"in D&&o(1,f=D.transition),"transitionConfig"in D&&o(2,c=D.transitionConfig),"inTransition"in D&&o(3,d=D.inTransition),"inTransitionConfig"in D&&o(4,m=D.inTransitionConfig),"outTransition"in D&&o(5,_=D.outTransition),"outTransitionConfig"in D&&o(6,h=D.outTransitionConfig),"asChild"in D&&o(7,p=D.asChild),"el"in D&&o(0,w=D.el),"$$scope"in D&&o(14,u=D.$$scope)},t.$$.update=()=>{t.$$.dirty&8192&&o(8,n=l),t.$$.dirty&256&&Object.assign(n,j)},[w,f,c,d,m,_,h,p,n,a,v,A,r,l,u,s,F,$,P,R,q,I,C,k,N,B]}let i_=class extends he{constructor(e){super(),pe(this,e,o_,n_,de,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,el:0})}};const r_=t=>({builder:t&4}),$s=t=>({builder:t[2]}),l_=t=>({builder:t&4}),Ls=t=>({builder:t[2]});function s_(t){let e,o,n,i;const r=t[8].default,l=ge(r,t,t[7],$s);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=T("div"),l&&l.c(),fe(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[9](e),o=!0,n||(i=Be(t[2].action(e)),n=!0)},p(u,f){l&&l.p&&(!o||f&132)&&be(l,r,u,u[7],o?_e(r,u[7],f,r_):ve(u[7]),$s),fe(e,s=Se(a,[f&4&&u[2],f&16&&u[4]]))},i(u){o||(y(l,u),o=!0)},o(u){S(l,u),o=!1},d(u){u&&M(e),l&&l.d(u),t[9](null),n=!1,i()}}}function a_(t){let e;const o=t[8].default,n=ge(o,t,t[7],Ls);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&132)&&be(n,o,i,i[7],e?_e(o,i[7],r,l_):ve(i[7]),Ls)},i(i){e||(y(n,i),e=!0)},o(i){S(n,i),e=!1},d(i){n&&n.d(i)}}}function u_(t){let e,o,n,i;const r=[a_,s_],l=[];function a(s,u){return s[1]?0:1}return e=a(t),o=l[e]=r[e](t),{c(){o.c(),n=Le()},m(s,u){l[e].m(s,u),O(s,n,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),S(l[f],1,1,()=>{l[f]=null}),Oe(),o=l[e],o?o.p(s,u):(o=l[e]=r[e](s),o.c()),y(o,1),o.m(n.parentNode,n))},i(s){i||(y(o),i=!0)},o(s){S(o),i=!1},d(s){s&&M(n),l[e].d(s)}}}function f_(t,e,o){let n;const i=["asChild","id","el"];let r=ue(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{description:d},ids:m,getAttrs:_}=Yo();se(t,d,w=>o(6,l=w));const h=_("description");function p(w){Ne[w?"unshift":"push"](()=>{c=w,o(0,c)})}return t.$$set=w=>{e=Q(Q({},e),$e(w)),o(4,r=ue(e,i)),"asChild"in w&&o(1,u=w.asChild),"id"in w&&o(5,f=w.id),"el"in w&&o(0,c=w.el),"$$scope"in w&&o(7,s=w.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f&&m.description.set(f),t.$$.dirty&64&&o(2,n=l),t.$$.dirty&4&&Object.assign(n,h)},[c,u,n,d,r,f,l,s,a,p]}let c_=class extends he{constructor(e){super(),pe(this,e,f_,u_,de,{asChild:1,id:5,el:0})}};function d_(){const t="label",o=Ln(t,["root"]);return{NAME:t,getAttrs:o}}const m_=t=>({builder:t&4}),Ds=t=>({builder:t[2]}),p_=t=>({builder:t&4}),js=t=>({builder:t[2]});function h_(t){let e,o,n,i;const r=t[8].default,l=ge(r,t,t[7],Ds);let a=[t[2],t[5]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=T("label"),l&&l.c(),fe(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[9](e),o=!0,n||(i=[Be(t[2].action(e)),z(e,"m-mousedown",t[4])],n=!0)},p(u,f){l&&l.p&&(!o||f&132)&&be(l,r,u,u[7],o?_e(r,u[7],f,m_):ve(u[7]),Ds),fe(e,s=Se(a,[f&4&&u[2],f&32&&u[5]]))},i(u){o||(y(l,u),o=!0)},o(u){S(l,u),o=!1},d(u){u&&M(e),l&&l.d(u),t[9](null),n=!1,xe(i)}}}function g_(t){let e;const o=t[8].default,n=ge(o,t,t[7],js);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&132)&&be(n,o,i,i[7],e?_e(o,i[7],r,p_):ve(i[7]),js)},i(i){e||(y(n,i),e=!0)},o(i){S(n,i),e=!1},d(i){n&&n.d(i)}}}function __(t){let e,o,n,i;const r=[g_,h_],l=[];function a(s,u){return s[1]?0:1}return e=a(t),o=l[e]=r[e](t),{c(){o.c(),n=Le()},m(s,u){l[e].m(s,u),O(s,n,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),S(l[f],1,1,()=>{l[f]=null}),Oe(),o=l[e],o?o.p(s,u):(o=l[e]=r[e](s),o.c()),y(o,1),o.m(n.parentNode,n))},i(s){i||(y(o),i=!0)},o(s){S(o),i=!1},d(s){s&&M(n),l[e].d(s)}}}function b_(t,e,o){let n;const i=["asChild","el"];let r=ue(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{root:c}}=Mh();se(t,c,p=>o(6,l=p));const d=fo(),{getAttrs:m}=d_(),_=m("root");function h(p){Ne[p?"unshift":"push"](()=>{f=p,o(0,f)})}return t.$$set=p=>{e=Q(Q({},e),$e(p)),o(5,r=ue(e,i)),"asChild"in p&&o(1,u=p.asChild),"el"in p&&o(0,f=p.el),"$$scope"in p&&o(7,s=p.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&o(2,n=l),t.$$.dirty&4&&Object.assign(n,_)},[f,u,n,c,d,r,l,s,a,h]}let v_=class extends he{constructor(e){super(),pe(this,e,b_,__,de,{asChild:1,el:0})}};function y_(){return{NAME:"progress",PARTS:["root"]}}function w_(t){const{NAME:e,PARTS:o}=y_(),n=Ln(e,o),i={...Rh(co(t)),getAttrs:n};return{...i,updateOption:Nn(i.options)}}const k_=t=>({builder:t&4}),Fs=t=>({builder:t[2]}),C_=t=>({builder:t&4}),Bs=t=>({builder:t[2]});function S_(t){let e,o,n,i;const r=t[10].default,l=ge(r,t,t[9],Fs);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=T("div"),l&&l.c(),fe(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[11](e),o=!0,n||(i=Be(t[2].action(e)),n=!0)},p(u,f){l&&l.p&&(!o||f&516)&&be(l,r,u,u[9],o?_e(r,u[9],f,k_):ve(u[9]),Fs),fe(e,s=Se(a,[f&4&&u[2],f&16&&u[4]]))},i(u){o||(y(l,u),o=!0)},o(u){S(l,u),o=!1},d(u){u&&M(e),l&&l.d(u),t[11](null),n=!1,i()}}}function A_(t){let e;const o=t[10].default,n=ge(o,t,t[9],Bs);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&516)&&be(n,o,i,i[9],e?_e(o,i[9],r,C_):ve(i[9]),Bs)},i(i){e||(y(n,i),e=!0)},o(i){S(n,i),e=!1},d(i){n&&n.d(i)}}}function T_(t){let e,o,n,i;const r=[A_,S_],l=[];function a(s,u){return s[1]?0:1}return e=a(t),o=l[e]=r[e](t),{c(){o.c(),n=Le()},m(s,u){l[e].m(s,u),O(s,n,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),S(l[f],1,1,()=>{l[f]=null}),Oe(),o=l[e],o?o.p(s,u):(o=l[e]=r[e](s),o.c()),y(o,1),o.m(n.parentNode,n))},i(s){i||(y(o),i=!0)},o(s){S(o),i=!1},d(s){s&&M(n),l[e].d(s)}}}function I_(t,e,o){let n;const i=["max","value","onValueChange","asChild","el"];let r=ue(e,i),l,{$$slots:a={},$$scope:s}=e,{max:u=void 0}=e,{value:f=void 0}=e,{onValueChange:c=void 0}=e,{asChild:d=!1}=e,{el:m=void 0}=e;const{elements:{root:_},states:{value:h},updateOption:p,getAttrs:w}=w_({max:u,defaultValue:f,onValueChange:({next:E})=>(c==null||c(E),o(5,f=E),E)});se(t,_,E=>o(8,l=E));const v=w("root");function A(E){Ne[E?"unshift":"push"](()=>{m=E,o(0,m)})}return t.$$set=E=>{e=Q(Q({},e),$e(E)),o(4,r=ue(e,i)),"max"in E&&o(6,u=E.max),"value"in E&&o(5,f=E.value),"onValueChange"in E&&o(7,c=E.onValueChange),"asChild"in E&&o(1,d=E.asChild),"el"in E&&o(0,m=E.el),"$$scope"in E&&o(9,s=E.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f!==void 0&&h.set(f),t.$$.dirty&64&&p("max",u),t.$$.dirty&256&&o(2,n=l),t.$$.dirty&4&&Object.assign(n,v)},[m,d,n,_,r,f,u,c,l,s,a,A]}let M_=class extends he{constructor(e){super(),pe(this,e,I_,T_,de,{max:6,value:5,onValueChange:7,asChild:1,el:0})}};function rc(){return{NAME:"slider",PARTS:["root","input","range","thumb","tick"]}}function O_(t){const{NAME:e,PARTS:o}=rc(),n=Ln(e,o),i={...jh(co(t)),getAttrs:n};return Hi(e,i),{...i,updateOption:Nn(i.options)}}function lc(){const{NAME:t}=rc();return Gi(t)}const P_=t=>({builder:t&4,ticks:t&8,thumbs:t&16}),qs=t=>({builder:t[2],ticks:t[3],thumbs:t[4]}),N_=t=>({builder:t&4,ticks:t&8,thumbs:t&16}),xs=t=>({builder:t[2],ticks:t[3],thumbs:t[4]});function E_(t){let e,o,n,i;const r=t[18].default,l=ge(r,t,t[17],qs);let a=[t[2],t[8]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=T("span"),l&&l.c(),fe(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[19](e),o=!0,n||(i=Be(t[2].action(e)),n=!0)},p(u,f){l&&l.p&&(!o||f&131100)&&be(l,r,u,u[17],o?_e(r,u[17],f,P_):ve(u[17]),qs),fe(e,s=Se(a,[f&4&&u[2],f&256&&u[8]]))},i(u){o||(y(l,u),o=!0)},o(u){S(l,u),o=!1},d(u){u&&M(e),l&&l.d(u),t[19](null),n=!1,i()}}}function R_(t){let e;const o=t[18].default,n=ge(o,t,t[17],xs);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&131100)&&be(n,o,i,i[17],e?_e(o,i[17],r,N_):ve(i[17]),xs)},i(i){e||(y(n,i),e=!0)},o(i){S(n,i),e=!1},d(i){n&&n.d(i)}}}function $_(t){let e,o,n,i;const r=[R_,E_],l=[];function a(s,u){return s[1]?0:1}return e=a(t),o=l[e]=r[e](t),{c(){o.c(),n=Le()},m(s,u){l[e].m(s,u),O(s,n,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),S(l[f],1,1,()=>{l[f]=null}),Oe(),o=l[e],o?o.p(s,u):(o=l[e]=r[e](s),o.c()),y(o,1),o.m(n.parentNode,n))},i(s){i||(y(o),i=!0)},o(s){S(o),i=!1},d(s){s&&M(n),l[e].d(s)}}}function L_(t,e,o){let n;const i=["disabled","min","max","step","orientation","value","onValueChange","asChild","el"];let r=ue(e,i),l,a,s,{$$slots:u={},$$scope:f}=e,{disabled:c=void 0}=e,{min:d=void 0}=e,{max:m=void 0}=e,{step:_=void 0}=e,{orientation:h=void 0}=e,{value:p=void 0}=e,{onValueChange:w=void 0}=e,{asChild:v=!1}=e,{el:A=void 0}=e;const{elements:{root:E,ticks:j,thumbs:F},states:{value:$},updateOption:P,getAttrs:R}=O_({disabled:c,min:d,max:m,step:_,orientation:h,defaultValue:p,onValueChange:({next:C})=>(p!==C&&(w==null||w(C),o(9,p=C)),C)});se(t,E,C=>o(16,l=C)),se(t,j,C=>o(3,a=C)),se(t,F,C=>o(4,s=C));const q=R("root");function I(C){Ne[C?"unshift":"push"](()=>{A=C,o(0,A)})}return t.$$set=C=>{e=Q(Q({},e),$e(C)),o(8,r=ue(e,i)),"disabled"in C&&o(10,c=C.disabled),"min"in C&&o(11,d=C.min),"max"in C&&o(12,m=C.max),"step"in C&&o(13,_=C.step),"orientation"in C&&o(14,h=C.orientation),"value"in C&&o(9,p=C.value),"onValueChange"in C&&o(15,w=C.onValueChange),"asChild"in C&&o(1,v=C.asChild),"el"in C&&o(0,A=C.el),"$$scope"in C&&o(17,f=C.$$scope)},t.$$.update=()=>{t.$$.dirty&512&&p!==void 0&&$.set(p),t.$$.dirty&1024&&P("disabled",c),t.$$.dirty&2048&&P("min",d),t.$$.dirty&4096&&P("max",m),t.$$.dirty&8192&&P("step",_),t.$$.dirty&16384&&P("orientation",h),t.$$.dirty&65536&&o(2,n=l),t.$$.dirty&4&&Object.assign(n,q)},[A,v,n,a,s,E,j,F,r,p,c,d,m,_,h,w,l,f,u,I]}let D_=class extends he{constructor(e){super(),pe(this,e,L_,$_,de,{disabled:10,min:11,max:12,step:13,orientation:14,value:9,onValueChange:15,asChild:1,el:0})}};const j_=t=>({builder:t&4}),Hs=t=>({builder:t[2]});function F_(t){let e,o,n,i=[t[2],t[4]],r={};for(let l=0;l<i.length;l+=1)r=Q(r,i[l]);return{c(){e=T("span"),fe(e,r)},m(l,a){O(l,e,a),t[8](e),o||(n=Be(t[2].action(e)),o=!0)},p(l,a){fe(e,r=Se(i,[a&4&&l[2],a&16&&l[4]]))},i:Te,o:Te,d(l){l&&M(e),t[8](null),o=!1,n()}}}function B_(t){let e;const o=t[7].default,n=ge(o,t,t[6],Hs);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&68)&&be(n,o,i,i[6],e?_e(o,i[6],r,j_):ve(i[6]),Hs)},i(i){e||(y(n,i),e=!0)},o(i){S(n,i),e=!1},d(i){n&&n.d(i)}}}function q_(t){let e,o,n,i;const r=[B_,F_],l=[];function a(s,u){return s[1]?0:1}return e=a(t),o=l[e]=r[e](t),{c(){o.c(),n=Le()},m(s,u){l[e].m(s,u),O(s,n,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),S(l[f],1,1,()=>{l[f]=null}),Oe(),o=l[e],o?o.p(s,u):(o=l[e]=r[e](s),o.c()),y(o,1),o.m(n.parentNode,n))},i(s){i||(y(o),i=!0)},o(s){S(o),i=!1},d(s){s&&M(n),l[e].d(s)}}}function x_(t,e,o){let n;const i=["asChild","el"];let r=ue(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{range:c},getAttrs:d}=lc();se(t,c,h=>o(5,l=h));const m=d("range");function _(h){Ne[h?"unshift":"push"](()=>{f=h,o(0,f)})}return t.$$set=h=>{e=Q(Q({},e),$e(h)),o(4,r=ue(e,i)),"asChild"in h&&o(1,u=h.asChild),"el"in h&&o(0,f=h.el),"$$scope"in h&&o(6,s=h.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&o(2,n=l),t.$$.dirty&4&&Object.assign(n,m)},[f,u,n,c,r,l,s,a,_]}class H_ extends he{constructor(e){super(),pe(this,e,x_,q_,de,{asChild:1,el:0})}}const G_=t=>({builder:t&4}),Gs=t=>({builder:t[2]});function V_(t){let e,o,n,i=[t[2],t[4]],r={};for(let l=0;l<i.length;l+=1)r=Q(r,i[l]);return{c(){e=T("span"),fe(e,r)},m(l,a){O(l,e,a),t[8](e),o||(n=[Be(t[2].action(e)),z(e,"m-keydown",t[3])],o=!0)},p(l,a){fe(e,r=Se(i,[a&4&&l[2],a&16&&l[4]]))},i:Te,o:Te,d(l){l&&M(e),t[8](null),o=!1,xe(n)}}}function W_(t){let e;const o=t[7].default,n=ge(o,t,t[6],Gs);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&68)&&be(n,o,i,i[6],e?_e(o,i[6],r,G_):ve(i[6]),Gs)},i(i){e||(y(n,i),e=!0)},o(i){S(n,i),e=!1},d(i){n&&n.d(i)}}}function Y_(t){let e,o,n,i;const r=[W_,V_],l=[];function a(s,u){return s[1]?0:1}return e=a(t),o=l[e]=r[e](t),{c(){o.c(),n=Le()},m(s,u){l[e].m(s,u),O(s,n,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),S(l[f],1,1,()=>{l[f]=null}),Oe(),o=l[e],o?o.p(s,u):(o=l[e]=r[e](s),o.c()),y(o,1),o.m(n.parentNode,n))},i(s){i||(y(o),i=!0)},o(s){S(o),i=!1},d(s){s&&M(n),l[e].d(s)}}}function U_(t,e,o){let n;const i=["asChild","el","thumb"];let r=ue(e,i),{$$slots:l={},$$scope:a}=e,{asChild:s=!1}=e,{el:u=void 0}=e,{thumb:f}=e;const{getAttrs:c}=lc(),d=fo(),m=c("thumb");function _(h){Ne[h?"unshift":"push"](()=>{u=h,o(0,u)})}return t.$$set=h=>{e=Q(Q({},e),$e(h)),o(4,r=ue(e,i)),"asChild"in h&&o(1,s=h.asChild),"el"in h&&o(0,u=h.el),"thumb"in h&&o(5,f=h.thumb),"$$scope"in h&&o(6,a=h.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&o(2,n=f),t.$$.dirty&4&&Object.assign(n,m)},[u,s,n,d,r,f,a,l,_]}class K_ extends he{constructor(e){super(),pe(this,e,U_,Y_,de,{asChild:1,el:0,thumb:5})}}function sc(){return{NAME:"tooltip",PARTS:["arrow","content","trigger"]}}function J_(t){const{NAME:e,PARTS:o}=sc(),n=Ln(e,o),i={...qh({positioning:{placement:"top",gutter:0},openDelay:700,...co(t),forceVisible:!0}),getAttrs:n};return Hi(e,i),{...i,updateOption:Nn(i.options)}}function _l(){const{NAME:t}=sc();return Gi(t)}function X_(t){const o={...{side:"top",align:"center",sideOffset:1},...t},{options:{positioning:n}}=_l();i0(n)({...o})}const Z_=t=>({ids:t&1}),Vs=t=>({ids:t[0]});function Q_(t){let e;const o=t[12].default,n=ge(o,t,t[11],Vs);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,[r]){n&&n.p&&(!e||r&2049)&&be(n,o,i,i[11],e?_e(o,i[11],r,Z_):ve(i[11]),Vs)},i(i){e||(y(n,i),e=!0)},o(i){S(n,i),e=!1},d(i){n&&n.d(i)}}}function z_(t,e,o){let n,{$$slots:i={},$$scope:r}=e,{closeOnEscape:l=void 0}=e,{portal:a=void 0}=e,{closeOnPointerDown:s=void 0}=e,{openDelay:u=void 0}=e,{closeDelay:f=void 0}=e,{open:c=void 0}=e,{onOpenChange:d=void 0}=e,{disableHoverableContent:m=void 0}=e,{group:_=void 0}=e;const{states:{open:h},updateOption:p,ids:w}=J_({closeOnEscape:l,portal:a,closeOnPointerDown:s,openDelay:u,closeDelay:f,forceVisible:!0,defaultOpen:c,disableHoverableContent:m,group:_,onOpenChange:({next:A})=>(c!==A&&(d==null||d(A),o(2,c=A)),A),positioning:{gutter:0,offset:{mainAxis:1}}}),v=tn([w.content,w.trigger],([A,E])=>({content:A,trigger:E}));return se(t,v,A=>o(0,n=A)),t.$$set=A=>{"closeOnEscape"in A&&o(3,l=A.closeOnEscape),"portal"in A&&o(4,a=A.portal),"closeOnPointerDown"in A&&o(5,s=A.closeOnPointerDown),"openDelay"in A&&o(6,u=A.openDelay),"closeDelay"in A&&o(7,f=A.closeDelay),"open"in A&&o(2,c=A.open),"onOpenChange"in A&&o(8,d=A.onOpenChange),"disableHoverableContent"in A&&o(9,m=A.disableHoverableContent),"group"in A&&o(10,_=A.group),"$$scope"in A&&o(11,r=A.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&c!==void 0&&h.set(c),t.$$.dirty&8&&p("closeOnEscape",l),t.$$.dirty&16&&p("portal",a),t.$$.dirty&32&&p("closeOnPointerDown",s),t.$$.dirty&64&&p("openDelay",u),t.$$.dirty&128&&p("closeDelay",f),t.$$.dirty&1024&&p("group",_),t.$$.dirty&512&&p("disableHoverableContent",m)},[n,v,c,l,a,s,u,f,d,m,_,r,i]}class e1 extends he{constructor(e){super(),pe(this,e,z_,Q_,de,{closeOnEscape:3,portal:4,closeOnPointerDown:5,openDelay:6,closeDelay:7,open:2,onOpenChange:8,disableHoverableContent:9,group:10})}}const t1=t=>({builder:t[0]&256}),Ws=t=>({builder:t[8]}),n1=t=>({builder:t[0]&256}),Ys=t=>({builder:t[8]}),o1=t=>({builder:t[0]&256}),Us=t=>({builder:t[8]}),i1=t=>({builder:t[0]&256}),Ks=t=>({builder:t[8]}),r1=t=>({builder:t[0]&256}),Js=t=>({builder:t[8]}),l1=t=>({builder:t[0]&256}),Xs=t=>({builder:t[8]});function s1(t){let e,o,n,i;const r=t[28].default,l=ge(r,t,t[27],Ws);let a=[t[8],t[13]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=T("div"),l&&l.c(),fe(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[33](e),o=!0,n||(i=[Be(t[8].action(e)),z(e,"m-pointerdown",t[12]),z(e,"m-pointerenter",t[12])],n=!0)},p(u,f){l&&l.p&&(!o||f[0]&134217984)&&be(l,r,u,u[27],o?_e(r,u[27],f,t1):ve(u[27]),Ws),fe(e,s=Se(a,[f[0]&256&&u[8],f[0]&8192&&u[13]]))},i(u){o||(y(l,u),o=!0)},o(u){S(l,u),o=!1},d(u){u&&M(e),l&&l.d(u),t[33](null),n=!1,xe(i)}}}function a1(t){let e,o,n,i,r;const l=t[28].default,a=ge(l,t,t[27],Ys);let s=[t[8],t[13]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=T("div"),a&&a.c(),fe(e,u)},m(f,c){O(f,e,c),a&&a.m(e,null),t[32](e),n=!0,i||(r=[Be(t[8].action(e)),z(e,"m-pointerdown",t[12]),z(e,"m-pointerenter",t[12])],i=!0)},p(f,c){t=f,a&&a.p&&(!n||c[0]&134217984)&&be(a,l,t,t[27],n?_e(l,t[27],c,n1):ve(t[27]),Ys),fe(e,u=Se(s,[c[0]&256&&t[8],c[0]&8192&&t[13]]))},i(f){n||(y(a,f),o&&o.end(1),n=!0)},o(f){S(a,f),f&&(o=Vt(e,t[5],t[6])),n=!1},d(f){f&&M(e),a&&a.d(f),t[32](null),f&&o&&o.end(),i=!1,xe(r)}}}function u1(t){let e,o,n,i,r;const l=t[28].default,a=ge(l,t,t[27],Us);let s=[t[8],t[13]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=T("div"),a&&a.c(),fe(e,u)},m(f,c){O(f,e,c),a&&a.m(e,null),t[31](e),n=!0,i||(r=[Be(t[8].action(e)),z(e,"m-pointerdown",t[12]),z(e,"m-pointerenter",t[12])],i=!0)},p(f,c){t=f,a&&a.p&&(!n||c[0]&134217984)&&be(a,l,t,t[27],n?_e(l,t[27],c,o1):ve(t[27]),Us),fe(e,u=Se(s,[c[0]&256&&t[8],c[0]&8192&&t[13]]))},i(f){n||(y(a,f),f&&(o||et(()=>{o=Gt(e,t[3],t[4]),o.start()})),n=!0)},o(f){S(a,f),n=!1},d(f){f&&M(e),a&&a.d(f),t[31](null),i=!1,xe(r)}}}function f1(t){let e,o,n,i,r,l;const a=t[28].default,s=ge(a,t,t[27],Ks);let u=[t[8],t[13]],f={};for(let c=0;c<u.length;c+=1)f=Q(f,u[c]);return{c(){e=T("div"),s&&s.c(),fe(e,f)},m(c,d){O(c,e,d),s&&s.m(e,null),t[30](e),i=!0,r||(l=[Be(t[8].action(e)),z(e,"m-pointerdown",t[12]),z(e,"m-pointerenter",t[12])],r=!0)},p(c,d){t=c,s&&s.p&&(!i||d[0]&134217984)&&be(s,a,t,t[27],i?_e(a,t[27],d,i1):ve(t[27]),Ks),fe(e,f=Se(u,[d[0]&256&&t[8],d[0]&8192&&t[13]]))},i(c){i||(y(s,c),c&&et(()=>{i&&(n&&n.end(1),o=Gt(e,t[3],t[4]),o.start())}),i=!0)},o(c){S(s,c),o&&o.invalidate(),c&&(n=Vt(e,t[5],t[6])),i=!1},d(c){c&&M(e),s&&s.d(c),t[30](null),c&&n&&n.end(),r=!1,xe(l)}}}function c1(t){let e,o,n,i,r;const l=t[28].default,a=ge(l,t,t[27],Js);let s=[t[8],t[13]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=T("div"),a&&a.c(),fe(e,u)},m(f,c){O(f,e,c),a&&a.m(e,null),t[29](e),n=!0,i||(r=[Be(t[8].action(e)),z(e,"m-pointerdown",t[12]),z(e,"m-pointerenter",t[12])],i=!0)},p(f,c){t=f,a&&a.p&&(!n||c[0]&134217984)&&be(a,l,t,t[27],n?_e(l,t[27],c,r1):ve(t[27]),Js),fe(e,u=Se(s,[c[0]&256&&t[8],c[0]&8192&&t[13]]))},i(f){n||(y(a,f),f&&et(()=>{n&&(o||(o=gt(e,t[1],t[2],!0)),o.run(1))}),n=!0)},o(f){S(a,f),f&&(o||(o=gt(e,t[1],t[2],!1)),o.run(0)),n=!1},d(f){f&&M(e),a&&a.d(f),t[29](null),f&&o&&o.end(),i=!1,xe(r)}}}function d1(t){let e;const o=t[28].default,n=ge(o,t,t[27],Xs);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r[0]&134217984)&&be(n,o,i,i[27],e?_e(o,i[27],r,l1):ve(i[27]),Xs)},i(i){e||(y(n,i),e=!0)},o(i){S(n,i),e=!1},d(i){n&&n.d(i)}}}function m1(t){let e,o,n,i;const r=[d1,c1,f1,u1,a1,s1],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(o=l[e]=r[e](t)),{c(){o&&o.c(),n=Le()},m(s,u){~e&&l[e].m(s,u),O(s,n,u),i=!0},p(s,u){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(o&&(Me(),S(l[f],1,1,()=>{l[f]=null}),Oe()),~e?(o=l[e],o?o.p(s,u):(o=l[e]=r[e](s),o.c()),y(o,1),o.m(n.parentNode,n)):o=null)},i(s){i||(y(o),i=!0)},o(s){S(o),i=!1},d(s){s&&M(n),~e&&l[e].d(s)}}}function p1(t,e,o){let n;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","id","side","align","sideOffset","alignOffset","collisionPadding","avoidCollisions","collisionBoundary","sameWidth","fitViewport","strategy","overlap","el"];let r=ue(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:_=void 0}=e,{outTransitionConfig:h=void 0}=e,{asChild:p=!1}=e,{id:w=void 0}=e,{side:v="top"}=e,{align:A="center"}=e,{sideOffset:E=0}=e,{alignOffset:j=0}=e,{collisionPadding:F=8}=e,{avoidCollisions:$=!0}=e,{collisionBoundary:P=void 0}=e,{sameWidth:R=!1}=e,{fitViewport:q=!1}=e,{strategy:I="absolute"}=e,{overlap:C=!1}=e,{el:k=void 0}=e;const{elements:{content:N},states:{open:B},ids:D,getAttrs:J}=_l();se(t,N,ie=>o(26,a=ie)),se(t,B,ie=>o(9,l=ie));const Z=fo(),X=J("content");function ne(ie){Ne[ie?"unshift":"push"](()=>{k=ie,o(0,k)})}function ee(ie){Ne[ie?"unshift":"push"](()=>{k=ie,o(0,k)})}function oe(ie){Ne[ie?"unshift":"push"](()=>{k=ie,o(0,k)})}function we(ie){Ne[ie?"unshift":"push"](()=>{k=ie,o(0,k)})}function ae(ie){Ne[ie?"unshift":"push"](()=>{k=ie,o(0,k)})}return t.$$set=ie=>{e=Q(Q({},e),$e(ie)),o(13,r=ue(e,i)),"transition"in ie&&o(1,f=ie.transition),"transitionConfig"in ie&&o(2,c=ie.transitionConfig),"inTransition"in ie&&o(3,d=ie.inTransition),"inTransitionConfig"in ie&&o(4,m=ie.inTransitionConfig),"outTransition"in ie&&o(5,_=ie.outTransition),"outTransitionConfig"in ie&&o(6,h=ie.outTransitionConfig),"asChild"in ie&&o(7,p=ie.asChild),"id"in ie&&o(14,w=ie.id),"side"in ie&&o(15,v=ie.side),"align"in ie&&o(16,A=ie.align),"sideOffset"in ie&&o(17,E=ie.sideOffset),"alignOffset"in ie&&o(18,j=ie.alignOffset),"collisionPadding"in ie&&o(19,F=ie.collisionPadding),"avoidCollisions"in ie&&o(20,$=ie.avoidCollisions),"collisionBoundary"in ie&&o(21,P=ie.collisionBoundary),"sameWidth"in ie&&o(22,R=ie.sameWidth),"fitViewport"in ie&&o(23,q=ie.fitViewport),"strategy"in ie&&o(24,I=ie.strategy),"overlap"in ie&&o(25,C=ie.overlap),"el"in ie&&o(0,k=ie.el),"$$scope"in ie&&o(27,u=ie.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&16384&&w&&D.content.set(w),t.$$.dirty[0]&67108864&&o(8,n=a),t.$$.dirty[0]&256&&Object.assign(n,X),t.$$.dirty[0]&67076608&&l&&X_({side:v,align:A,sideOffset:E,alignOffset:j,collisionPadding:F,avoidCollisions:$,collisionBoundary:P,sameWidth:R,fitViewport:q,strategy:I,overlap:C})},[k,f,c,d,m,_,h,p,n,l,N,B,Z,r,w,v,A,E,j,F,$,P,R,q,I,C,a,u,s,ne,ee,oe,we,ae]}let h1=class extends he{constructor(e){super(),pe(this,e,p1,m1,de,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,id:14,side:15,align:16,sideOffset:17,alignOffset:18,collisionPadding:19,avoidCollisions:20,collisionBoundary:21,sameWidth:22,fitViewport:23,strategy:24,overlap:25,el:0},null,[-1,-1])}};const g1=t=>({builder:t&4}),Zs=t=>({builder:t[2]}),_1=t=>({builder:t&4}),Qs=t=>({builder:t[2]});function b1(t){let e,o,n,i;const r=t[9].default,l=ge(r,t,t[8],Zs);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=T("button"),l&&l.c(),fe(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[10](e),o=!0,n||(i=[Be(t[2].action(e)),z(e,"m-blur",t[4]),z(e,"m-focus",t[4]),z(e,"m-keydown",t[4]),z(e,"m-pointerdown",t[4]),z(e,"m-pointerenter",t[4]),z(e,"m-pointerleave",t[4])],n=!0)},p(u,f){l&&l.p&&(!o||f&260)&&be(l,r,u,u[8],o?_e(r,u[8],f,g1):ve(u[8]),Zs),fe(e,s=Se(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){o||(y(l,u),o=!0)},o(u){S(l,u),o=!1},d(u){u&&M(e),l&&l.d(u),t[10](null),n=!1,xe(i)}}}function v1(t){let e;const o=t[9].default,n=ge(o,t,t[8],Qs);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&260)&&be(n,o,i,i[8],e?_e(o,i[8],r,_1):ve(i[8]),Qs)},i(i){e||(y(n,i),e=!0)},o(i){S(n,i),e=!1},d(i){n&&n.d(i)}}}function y1(t){let e,o,n,i;const r=[v1,b1],l=[];function a(s,u){return s[1]?0:1}return e=a(t),o=l[e]=r[e](t),{c(){o.c(),n=Le()},m(s,u){l[e].m(s,u),O(s,n,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),S(l[f],1,1,()=>{l[f]=null}),Oe(),o=l[e],o?o.p(s,u):(o=l[e]=r[e](s),o.c()),y(o,1),o.m(n.parentNode,n))},i(s){i||(y(o),i=!0)},o(s){S(o),i=!1},d(s){s&&M(n),l[e].d(s)}}}function w1(t,e,o){let n;const i=["asChild","id","el"];let r=ue(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{trigger:d},ids:m,getAttrs:_}=_l();se(t,d,v=>o(7,l=v));const h=fo(),p=_("trigger");function w(v){Ne[v?"unshift":"push"](()=>{c=v,o(0,c)})}return t.$$set=v=>{e=Q(Q({},e),$e(v)),o(5,r=ue(e,i)),"asChild"in v&&o(1,u=v.asChild),"id"in v&&o(6,f=v.id),"el"in v&&o(0,c=v.el),"$$scope"in v&&o(8,s=v.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&f&&m.trigger.set(f),t.$$.dirty&128&&o(2,n=l),t.$$.dirty&4&&Object.assign(n,p)},[c,u,n,d,h,r,f,l,s,a,w]}class k1 extends he{constructor(e){super(),pe(this,e,w1,y1,de,{asChild:1,id:6,el:0})}}function C1(t){let e;const o=t[2].default,n=ge(o,t,t[3],null);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&8)&&be(n,o,i,i[3],e?_e(o,i[3],r,null):ve(i[3]),null)},i(i){e||(y(n,i),e=!0)},o(i){S(n,i),e=!1},d(i){n&&n.d(i)}}}function S1(t){let e,o;const n=[{class:je("text-lg font-semibold leading-none tracking-tight",t[0])},t[1]];let i={$$slots:{default:[C1]},$$scope:{ctx:t}};for(let r=0;r<n.length;r+=1)i=Q(i,n[r]);return e=new T0({props:i}),{c(){U(e.$$.fragment)},m(r,l){W(e,r,l),o=!0},p(r,[l]){const a=l&3?Se(n,[l&1&&{class:je("text-lg font-semibold leading-none tracking-tight",r[0])},l&2&&lt(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){o||(y(e.$$.fragment,r),o=!0)},o(r){S(e.$$.fragment,r),o=!1},d(r){Y(e,r)}}}function A1(t,e,o){const n=["class"];let i=ue(e,n),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Q(Q({},e),$e(s)),o(1,i=ue(e,n)),"class"in s&&o(0,a=s.class),"$$scope"in s&&o(3,l=s.$$scope)},[a,i,r,l]}class on extends he{constructor(e){super(),pe(this,e,A1,S1,de,{class:0})}}function T1(t){let e;const o=t[1].default,n=ge(o,t,t[2],null);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&4)&&be(n,o,i,i[2],e?_e(o,i[2],r,null):ve(i[2]),null)},i(i){e||(y(n,i),e=!0)},o(i){S(n,i),e=!1},d(i){n&&n.d(i)}}}function I1(t){let e,o;const n=[t[0]];let i={$$slots:{default:[T1]},$$scope:{ctx:t}};for(let r=0;r<n.length;r+=1)i=Q(i,n[r]);return e=new R0({props:i}),{c(){U(e.$$.fragment)},m(r,l){W(e,r,l),o=!0},p(r,[l]){const a=l&1?Se(n,[lt(r[0])]):{};l&4&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){o||(y(e.$$.fragment,r),o=!0)},o(r){S(e.$$.fragment,r),o=!1},d(r){Y(e,r)}}}function M1(t,e,o){const n=[];let i=ue(e,n),{$$slots:r={},$$scope:l}=e;return t.$$set=a=>{e=Q(Q({},e),$e(a)),o(0,i=ue(e,n)),"$$scope"in a&&o(2,l=a.$$scope)},[i,r,l]}class O1 extends he{constructor(e){super(),pe(this,e,M1,I1,de,{})}}function P1(t){let e,o,n;const i=t[3].default,r=ge(i,t,t[2],null);let l=[{class:o=je("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=Q(a,l[s]);return{c(){e=T("div"),r&&r.c(),fe(e,a)},m(s,u){O(s,e,u),r&&r.m(e,null),n=!0},p(s,[u]){r&&r.p&&(!n||u&4)&&be(r,i,s,s[2],n?_e(i,s[2],u,null):ve(s[2]),null),fe(e,a=Se(l,[(!n||u&1&&o!==(o=je("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s[0])))&&{class:o},u&2&&s[1]]))},i(s){n||(y(r,s),n=!0)},o(s){S(r,s),n=!1},d(s){s&&M(e),r&&r.d(s)}}}function N1(t,e,o){const n=["class"];let i=ue(e,n),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Q(Q({},e),$e(s)),o(1,i=ue(e,n)),"class"in s&&o(0,a=s.class),"$$scope"in s&&o(2,l=s.$$scope)},[a,i,l,r]}class _n extends he{constructor(e){super(),pe(this,e,N1,P1,de,{class:0})}}function E1(t){let e,o,n;const i=t[3].default,r=ge(i,t,t[2],null);let l=[{class:o=je("flex flex-col space-y-1.5 text-center sm:text-left",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=Q(a,l[s]);return{c(){e=T("div"),r&&r.c(),fe(e,a)},m(s,u){O(s,e,u),r&&r.m(e,null),n=!0},p(s,[u]){r&&r.p&&(!n||u&4)&&be(r,i,s,s[2],n?_e(i,s[2],u,null):ve(s[2]),null),fe(e,a=Se(l,[(!n||u&1&&o!==(o=je("flex flex-col space-y-1.5 text-center sm:text-left",s[0])))&&{class:o},u&2&&s[1]]))},i(s){n||(y(r,s),n=!0)},o(s){S(r,s),n=!1},d(s){s&&M(e),r&&r.d(s)}}}function R1(t,e,o){const n=["class"];let i=ue(e,n),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Q(Q({},e),$e(s)),o(1,i=ue(e,n)),"class"in s&&o(0,a=s.class),"$$scope"in s&&o(2,l=s.$$scope)},[a,i,l,r]}class rn extends he{constructor(e){super(),pe(this,e,R1,E1,de,{class:0})}}function Oi(t,{delay:e=0,duration:o=400,easing:n=xi}={}){const i=+getComputedStyle(t).opacity;return{delay:e,duration:o,easing:n,css:r=>`opacity: ${r*i}`}}function zs(t,{delay:e=0,duration:o=400,easing:n=Nf,axis:i="y"}={}){const r=getComputedStyle(t),l=+r.opacity,a=i==="y"?"height":"width",s=parseFloat(r[a]),u=i==="y"?["top","bottom"]:["left","right"],f=u.map(w=>`${w[0].toUpperCase()}${w.slice(1)}`),c=parseFloat(r[`padding${f[0]}`]),d=parseFloat(r[`padding${f[1]}`]),m=parseFloat(r[`margin${f[0]}`]),_=parseFloat(r[`margin${f[1]}`]),h=parseFloat(r[`border${f[0]}Width`]),p=parseFloat(r[`border${f[1]}Width`]);return{delay:e,duration:o,easing:n,css:w=>`overflow: hidden;opacity: ${Math.min(w*20,1)*l};${a}: ${w*s}px;padding-${u[0]}: ${w*c}px;padding-${u[1]}: ${w*d}px;margin-${u[0]}: ${w*m}px;margin-${u[1]}: ${w*_}px;border-${u[0]}-width: ${w*h}px;border-${u[1]}-width: ${w*p}px;`}}function $1(t){let e,o;const n=[{transition:t[1]},{transitionConfig:t[2]},{class:je("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm",t[0])},t[3]];let i={};for(let r=0;r<n.length;r+=1)i=Q(i,n[r]);return e=new i_({props:i}),{c(){U(e.$$.fragment)},m(r,l){W(e,r,l),o=!0},p(r,[l]){const a=l&15?Se(n,[l&2&&{transition:r[1]},l&4&&{transitionConfig:r[2]},l&1&&{class:je("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm",r[0])},l&8&&lt(r[3])]):{};e.$set(a)},i(r){o||(y(e.$$.fragment,r),o=!0)},o(r){S(e.$$.fragment,r),o=!1},d(r){Y(e,r)}}}function L1(t,e,o){const n=["class","transition","transitionConfig"];let i=ue(e,n),{class:r=void 0}=e,{transition:l=Oi}=e,{transitionConfig:a={duration:150}}=e;return t.$$set=s=>{e=Q(Q({},e),$e(s)),o(3,i=ue(e,n)),"class"in s&&o(0,r=s.class),"transition"in s&&o(1,l=s.transition),"transitionConfig"in s&&o(2,a=s.transitionConfig)},[r,l,a,i]}class D1 extends he{constructor(e){super(),pe(this,e,L1,$1,de,{class:0,transition:1,transitionConfig:2})}}function j1(t){let e;const o=t[4].default,n=ge(o,t,t[5],null);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&32)&&be(n,o,i,i[5],e?_e(o,i[5],r,null):ve(i[5]),null)},i(i){e||(y(n,i),e=!0)},o(i){S(n,i),e=!1},d(i){n&&n.d(i)}}}function F1(t){let e,o,n,i;e=new D1({});const r=[{transition:t[1]},{transitionConfig:t[2]},{class:je("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg rounded-3xl md:w-full",t[0])},t[3]];let l={$$slots:{default:[j1]},$$scope:{ctx:t}};for(let a=0;a<r.length;a+=1)l=Q(l,r[a]);return n=new K0({props:l}),{c(){U(e.$$.fragment),o=G(),U(n.$$.fragment)},m(a,s){W(e,a,s),O(a,o,s),W(n,a,s),i=!0},p(a,s){const u=s&15?Se(r,[s&2&&{transition:a[1]},s&4&&{transitionConfig:a[2]},s&1&&{class:je("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg rounded-3xl md:w-full",a[0])},s&8&&lt(a[3])]):{};s&32&&(u.$$scope={dirty:s,ctx:a}),n.$set(u)},i(a){i||(y(e.$$.fragment,a),y(n.$$.fragment,a),i=!0)},o(a){S(e.$$.fragment,a),S(n.$$.fragment,a),i=!1},d(a){a&&M(o),Y(e,a),Y(n,a)}}}function B1(t){let e,o;return e=new O1({props:{$$slots:{default:[F1]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,[i]){const r={};i&47&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){S(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function q1(t,e,o){const n=["class","transition","transitionConfig"];let i=ue(e,n),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{transition:s=$n}=e,{transitionConfig:u={duration:400}}=e;return t.$$set=f=>{e=Q(Q({},e),$e(f)),o(3,i=ue(e,n)),"class"in f&&o(0,a=f.class),"transition"in f&&o(1,s=f.transition),"transitionConfig"in f&&o(2,u=f.transitionConfig),"$$scope"in f&&o(5,l=f.$$scope)},[a,s,u,i,r,l]}class Yt extends he{constructor(e){super(),pe(this,e,q1,B1,de,{class:0,transition:1,transitionConfig:2})}}function x1(t){let e;const o=t[2].default,n=ge(o,t,t[3],null);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&8)&&be(n,o,i,i[3],e?_e(o,i[3],r,null):ve(i[3]),null)},i(i){e||(y(n,i),e=!0)},o(i){S(n,i),e=!1},d(i){n&&n.d(i)}}}function H1(t){let e,o;const n=[{class:je("text-sm text-muted-foreground",t[0])},t[1]];let i={$$slots:{default:[x1]},$$scope:{ctx:t}};for(let r=0;r<n.length;r+=1)i=Q(i,n[r]);return e=new c_({props:i}),{c(){U(e.$$.fragment)},m(r,l){W(e,r,l),o=!0},p(r,[l]){const a=l&3?Se(n,[l&1&&{class:je("text-sm text-muted-foreground",r[0])},l&2&&lt(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){o||(y(e.$$.fragment,r),o=!0)},o(r){S(e.$$.fragment,r),o=!1},d(r){Y(e,r)}}}function G1(t,e,o){const n=["class"];let i=ue(e,n),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Q(Q({},e),$e(s)),o(1,i=ue(e,n)),"class"in s&&o(0,a=s.class),"$$scope"in s&&o(3,l=s.$$scope)},[a,i,r,l]}class jn extends he{constructor(e){super(),pe(this,e,G1,H1,de,{class:0})}}const Ut=v0,ac={land:{short_title:"Fill the grid",description_title:"You win by filling up all possible plots in the grid, and by meeting some requirements.",win:"You have filled the grid with buildings and met the requirements. Your citizens are happy, fulfilled, hard-working, and healthy. ",requirements:{0:{population_count:200,happiness:100,health:100,employment:1,knowledge:50,required_plots:["pub","small_school","community_center"]},1:{population_count:1e3,happiness:120,health:120,employment:1,knowledge:100,required_plots:["bank"]},2:{population_count:1e3,happiness:200,health:200,employment:1,knowledge:1e3,required_plots:["bank","city_hall"]}}},free_play:{short_title:"Quests",description_title:"Play for as long as you can and build the best city you can while completing quests."}};function V1(t){let e;const o=t[3].default,n=ge(o,t,t[4],null);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&16)&&be(n,o,i,i[4],e?_e(o,i[4],r,null):ve(i[4]),null)},i(i){e||(y(n,i),e=!0)},o(i){S(n,i),e=!1},d(i){n&&n.d(i)}}}function W1(t){let e,o;const n=[{class:je("text-lg font-semibold",t[0])},{level:t[1]},t[2]];let i={$$slots:{default:[V1]},$$scope:{ctx:t}};for(let r=0;r<n.length;r+=1)i=Q(i,n[r]);return e=new Qh({props:i}),{c(){U(e.$$.fragment)},m(r,l){W(e,r,l),o=!0},p(r,[l]){const a=l&7?Se(n,[l&1&&{class:je("text-lg font-semibold",r[0])},l&2&&{level:r[1]},l&4&&lt(r[2])]):{};l&16&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){o||(y(e.$$.fragment,r),o=!0)},o(r){S(e.$$.fragment,r),o=!1},d(r){Y(e,r)}}}function Y1(t,e,o){const n=["class","level"];let i=ue(e,n),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{level:s="h3"}=e;return t.$$set=u=>{e=Q(Q({},e),$e(u)),o(2,i=ue(e,n)),"class"in u&&o(0,a=u.class),"level"in u&&o(1,s=u.level),"$$scope"in u&&o(4,l=u.$$scope)},[a,s,i,r,l]}class uc extends he{constructor(e){super(),pe(this,e,Y1,W1,de,{class:0,level:1})}}function U1(t){let e;const o=t[5].default,n=ge(o,t,t[8],null);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&256)&&be(n,o,i,i[8],e?_e(o,i[8],r,null):ve(i[8]),null)},i(i){e||(y(n,i),e=!0)},o(i){S(n,i),e=!1},d(i){n&&n.d(i)}}}function K1(t){let e,o;const n=[{builders:t[3]},{class:je(oo({variant:t[1],size:t[2]}),t[0])},{type:"button"},t[4]];let i={$$slots:{default:[U1]},$$scope:{ctx:t}};for(let r=0;r<n.length;r+=1)i=Q(i,n[r]);return e=new o0({props:i}),e.$on("click",t[6]),e.$on("keydown",t[7]),{c(){U(e.$$.fragment)},m(r,l){W(e,r,l),o=!0},p(r,[l]){const a=l&31?Se(n,[l&8&&{builders:r[3]},l&7&&{class:je(oo({variant:r[1],size:r[2]}),r[0])},n[2],l&16&&lt(r[4])]):{};l&256&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){o||(y(e.$$.fragment,r),o=!0)},o(r){S(e.$$.fragment,r),o=!1},d(r){Y(e,r)}}}function J1(t,e,o){const n=["class","variant","size","builders"];let i=ue(e,n),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{variant:s="default"}=e,{size:u="default"}=e,{builders:f=[]}=e;function c(m){re.call(this,t,m)}function d(m){re.call(this,t,m)}return t.$$set=m=>{e=Q(Q({},e),$e(m)),o(4,i=ue(e,n)),"class"in m&&o(0,a=m.class),"variant"in m&&o(1,s=m.variant),"size"in m&&o(2,u=m.size),"builders"in m&&o(3,f=m.builders),"$$scope"in m&&o(8,l=m.$$scope)},[a,s,u,f,i,r,c,d,l]}class Ot extends he{constructor(e){super(),pe(this,e,J1,K1,de,{class:0,variant:1,size:2,builders:3})}}var ea=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,yt=t=>!t||typeof t!="object"||Object.keys(t).length===0,X1=(t,e)=>JSON.stringify(t)===JSON.stringify(e);function fc(t,e){t.forEach(function(o){Array.isArray(o)?fc(o,e):e.push(o)})}function cc(t){let e=[];return fc(t,e),e}var dc=(...t)=>cc(t).filter(Boolean),mc=(t,e)=>{let o={},n=Object.keys(t),i=Object.keys(e);for(let r of n)if(i.includes(r)){let l=t[r],a=e[r];typeof l=="object"&&typeof a=="object"?o[r]=mc(l,a):Array.isArray(l)||Array.isArray(a)?o[r]=dc(a,l):o[r]=a+" "+l}else o[r]=t[r];for(let r of i)n.includes(r)||(o[r]=e[r]);return o},ta=t=>!t||typeof t!="string"?t:t.replace(/\s+/g," ").trim(),Z1={twMerge:!0,twMergeConfig:{},responsiveVariants:!1},pc=t=>t||void 0,Fo=(...t)=>pc(cc(t).filter(Boolean).join(" ")),br=null,Zt={},qr=!1,ko=(...t)=>e=>e.twMerge?((!br||qr)&&(qr=!1,br=yt(Zt)?Pf:fm({...Zt,extend:{theme:Zt.theme,classGroups:Zt.classGroups,conflictingClassGroupModifiers:Zt.conflictingClassGroupModifiers,conflictingClassGroups:Zt.conflictingClassGroups,...Zt.extend}})),pc(br(Fo(t)))):Fo(t),na=(t,e)=>{for(let o in e)t.hasOwnProperty(o)?t[o]=Fo(t[o],e[o]):t[o]=e[o];return t},Q1=(t,e)=>{let{extend:o=null,slots:n={},variants:i={},compoundVariants:r=[],compoundSlots:l=[],defaultVariants:a={}}=t,s={...Z1,...e},u=o!=null&&o.base?Fo(o.base,t==null?void 0:t.base):t==null?void 0:t.base,f=o!=null&&o.variants&&!yt(o.variants)?mc(i,o.variants):i,c=o!=null&&o.defaultVariants&&!yt(o.defaultVariants)?{...o.defaultVariants,...a}:a;!yt(s.twMergeConfig)&&!X1(s.twMergeConfig,Zt)&&(qr=!0,Zt=s.twMergeConfig);let d=yt(o==null?void 0:o.slots),m=yt(n)?{}:{base:Fo(t==null?void 0:t.base,d&&(o==null?void 0:o.base)),...n},_=d?m:na({...o==null?void 0:o.slots},yt(m)?{base:t==null?void 0:t.base}:m),h=w=>{if(yt(f)&&yt(n)&&d)return ko(u,w==null?void 0:w.class,w==null?void 0:w.className)(s);if(r&&!Array.isArray(r))throw new TypeError(`The "compoundVariants" prop must be an array. Received: ${typeof r}`);if(l&&!Array.isArray(l))throw new TypeError(`The "compoundSlots" prop must be an array. Received: ${typeof l}`);let v=(C,k,N=[],B)=>{let D=N;if(typeof k=="string")D=D.concat(ta(k).split(" ").map(J=>`${C}:${J}`));else if(Array.isArray(k))D=D.concat(k.reduce((J,Z)=>J.concat(`${C}:${Z}`),[]));else if(typeof k=="object"&&typeof B=="string"){for(let J in k)if(k.hasOwnProperty(J)&&J===B){let Z=k[J];if(Z&&typeof Z=="string"){let X=ta(Z);D[B]?D[B]=D[B].concat(X.split(" ").map(ne=>`${C}:${ne}`)):D[B]=X.split(" ").map(ne=>`${C}:${ne}`)}else Array.isArray(Z)&&Z.length>0&&(D[B]=Z.reduce((X,ne)=>X.concat(`${C}:${ne}`),[]))}}return D},A=(C,k=f,N=null,B=null)=>{var D;let J=k[C];if(!J||yt(J))return null;let Z=(D=B==null?void 0:B[C])!=null?D:w==null?void 0:w[C];if(Z===null)return null;let X=ea(Z),ne=Array.isArray(s.responsiveVariants)&&s.responsiveVariants.length>0||s.responsiveVariants===!0,ee=c==null?void 0:c[C],oe=[];if(typeof X=="object"&&ne)for(let[ie,qe]of Object.entries(X)){let He=J[qe];if(ie==="initial"){ee=qe;continue}Array.isArray(s.responsiveVariants)&&!s.responsiveVariants.includes(ie)||(oe=v(ie,He,oe,N))}let we=X!=null&&typeof X!="object"?X:ea(ee),ae=J[we]||J.false;return typeof oe=="object"&&typeof N=="string"&&oe[N]?na(oe,ae):oe.length>0?(oe.push(ae),oe):ae},E=()=>f?Object.keys(f).map(C=>A(C,f)):null,j=(C,k)=>{if(!f||typeof f!="object")return null;let N=new Array;for(let B in f){let D=A(B,f,C,k),J=C==="base"&&typeof D=="string"?D:D&&D[C];J&&(N[N.length]=J)}return N},F={};for(let C in w)w[C]!==void 0&&(F[C]=w[C]);let $=(C,k)=>{var N;let B=typeof(w==null?void 0:w[C])=="object"?{[C]:(N=w[C])==null?void 0:N.initial}:{};return{...c,...F,...B,...k}},P=(C=[],k)=>{let N=[];for(let{class:B,className:D,...J}of C){let Z=!0;for(let[X,ne]of Object.entries(J)){let ee=$(X,k);if(Array.isArray(ne)){if(!ne.includes(ee[X])){Z=!1;break}}else if(ee[X]!==ne){Z=!1;break}}Z&&(B&&N.push(B),D&&N.push(D))}return N},R=C=>{let k=P(r,C),N=P(o==null?void 0:o.compoundVariants,C);return dc(N,k)},q=C=>{let k=R(C);if(!Array.isArray(k))return k;let N={};for(let B of k)if(typeof B=="string"&&(N.base=ko(N.base,B)(s)),typeof B=="object")for(let[D,J]of Object.entries(B))N[D]=ko(N[D],J)(s);return N},I=C=>{if(l.length<1)return null;let k={};for(let{slots:N=[],class:B,className:D,...J}of l){if(!yt(J)){let Z=!0;for(let X of Object.keys(J)){let ne=$(X,C)[X];if(ne===void 0||(Array.isArray(J[X])?!J[X].includes(ne):J[X]!==ne)){Z=!1;break}}if(!Z)continue}for(let Z of N)k[Z]=k[Z]||[],k[Z].push([B,D])}return k};if(!yt(n)||!d){let C={};if(typeof _=="object"&&!yt(_))for(let k of Object.keys(_))C[k]=N=>{var B,D;return ko(_[k],j(k,N),((B=q(N))!=null?B:[])[k],((D=I(N))!=null?D:[])[k],N==null?void 0:N.class,N==null?void 0:N.className)(s)};return C}return ko(u,E(),R(),w==null?void 0:w.class,w==null?void 0:w.className)(s)},p=()=>{if(!(!f||typeof f!="object"))return Object.keys(f)};return h.variantKeys=p(),h.extend=o,h.base=u,h.slots=_,h.variants=f,h.defaultVariants=c,h.compoundSlots=l,h.compoundVariants=r,h};const oo=Q1({base:"inline-flex items-center justify-center rounded-md text-sm font-medium whitespace-nowrap transition-colors focus-visible:outline-none disabled:pointer-events-none disabled:opacity-50",variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg- hover:bg-accent hover:text-accent-foreground",secondary:"bg-accent text-accent-foreground hover:bg-accent/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),z1=t=>({builder:t&64}),oa=t=>({builder:t[6]});function eb(t){let e;const o=t[2].default,n=ge(o,t,t[5],oa);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&96)&&be(n,o,i,i[5],e?_e(o,i[5],r,z1):ve(i[5]),oa)},i(i){e||(y(n,i),e=!0)},o(i){S(n,i),e=!1},d(i){n&&n.d(i)}}}function tb(t){let e,o;const n=[{class:je(oo(),t[0])},t[1]];let i={$$slots:{default:[eb,({builder:r})=>({6:r}),({builder:r})=>r?64:0]},$$scope:{ctx:t}};for(let r=0;r<n.length;r+=1)i=Q(i,n[r]);return e=new rg({props:i}),e.$on("click",t[3]),e.$on("keydown",t[4]),{c(){U(e.$$.fragment)},m(r,l){W(e,r,l),o=!0},p(r,[l]){const a=l&3?Se(n,[l&1&&{class:je(oo(),r[0])},l&2&&lt(r[1])]):{};l&96&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){o||(y(e.$$.fragment,r),o=!0)},o(r){S(e.$$.fragment,r),o=!1},d(r){Y(e,r)}}}function nb(t,e,o){const n=["class"];let i=ue(e,n),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(f){re.call(this,t,f)}function u(f){re.call(this,t,f)}return t.$$set=f=>{e=Q(Q({},e),$e(f)),o(1,i=ue(e,n)),"class"in f&&o(0,a=f.class),"$$scope"in f&&o(5,l=f.$$scope)},[a,i,r,s,u,l]}class ob extends he{constructor(e){super(),pe(this,e,nb,tb,de,{class:0})}}const ib=t=>({builder:t&64}),ia=t=>({builder:t[6]});function rb(t){let e;const o=t[2].default,n=ge(o,t,t[5],ia);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&96)&&be(n,o,i,i[5],e?_e(o,i[5],r,ib):ve(i[5]),ia)},i(i){e||(y(n,i),e=!0)},o(i){S(n,i),e=!1},d(i){n&&n.d(i)}}}function lb(t){let e,o;const n=[{class:je(oo({variant:"default"}),"mt-2 sm:mt-0",t[0])},t[1]];let i={$$slots:{default:[rb,({builder:r})=>({6:r}),({builder:r})=>r?64:0]},$$scope:{ctx:t}};for(let r=0;r<n.length;r+=1)i=Q(i,n[r]);return e=new dg({props:i}),e.$on("click",t[3]),e.$on("keydown",t[4]),{c(){U(e.$$.fragment)},m(r,l){W(e,r,l),o=!0},p(r,[l]){const a=l&3?Se(n,[l&1&&{class:je(oo({variant:"default"}),"mt-2 sm:mt-0",r[0])},l&2&&lt(r[1])]):{};l&96&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){o||(y(e.$$.fragment,r),o=!0)},o(r){S(e.$$.fragment,r),o=!1},d(r){Y(e,r)}}}function sb(t,e,o){const n=["class"];let i=ue(e,n),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(f){re.call(this,t,f)}function u(f){re.call(this,t,f)}return t.$$set=f=>{e=Q(Q({},e),$e(f)),o(1,i=ue(e,n)),"class"in f&&o(0,a=f.class),"$$scope"in f&&o(5,l=f.$$scope)},[a,i,r,s,u,l]}class ab extends he{constructor(e){super(),pe(this,e,sb,lb,de,{class:0})}}function ub(t){let e;const o=t[1].default,n=ge(o,t,t[2],null);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&4)&&be(n,o,i,i[2],e?_e(o,i[2],r,null):ve(i[2]),null)},i(i){e||(y(n,i),e=!0)},o(i){S(n,i),e=!1},d(i){n&&n.d(i)}}}function fb(t){let e,o;const n=[t[0]];let i={$$slots:{default:[ub]},$$scope:{ctx:t}};for(let r=0;r<n.length;r+=1)i=Q(i,n[r]);return e=new vg({props:i}),{c(){U(e.$$.fragment)},m(r,l){W(e,r,l),o=!0},p(r,[l]){const a=l&1?Se(n,[lt(r[0])]):{};l&4&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){o||(y(e.$$.fragment,r),o=!0)},o(r){S(e.$$.fragment,r),o=!1},d(r){Y(e,r)}}}function cb(t,e,o){const n=[];let i=ue(e,n),{$$slots:r={},$$scope:l}=e;return t.$$set=a=>{e=Q(Q({},e),$e(a)),o(0,i=ue(e,n)),"$$scope"in a&&o(2,l=a.$$scope)},[i,r,l]}class db extends he{constructor(e){super(),pe(this,e,cb,fb,de,{})}}function mb(t){let e,o,n;const i=t[3].default,r=ge(i,t,t[2],null);let l=[{class:o=je("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=Q(a,l[s]);return{c(){e=T("div"),r&&r.c(),fe(e,a)},m(s,u){O(s,e,u),r&&r.m(e,null),n=!0},p(s,[u]){r&&r.p&&(!n||u&4)&&be(r,i,s,s[2],n?_e(i,s[2],u,null):ve(s[2]),null),fe(e,a=Se(l,[(!n||u&1&&o!==(o=je("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s[0])))&&{class:o},u&2&&s[1]]))},i(s){n||(y(r,s),n=!0)},o(s){S(r,s),n=!1},d(s){s&&M(e),r&&r.d(s)}}}function pb(t,e,o){const n=["class"];let i=ue(e,n),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Q(Q({},e),$e(s)),o(1,i=ue(e,n)),"class"in s&&o(0,a=s.class),"$$scope"in s&&o(2,l=s.$$scope)},[a,i,l,r]}class hc extends he{constructor(e){super(),pe(this,e,pb,mb,de,{class:0})}}function hb(t){let e,o,n;const i=t[3].default,r=ge(i,t,t[2],null);let l=[{class:o=je("flex flex-col space-y-2 text-center sm:text-left",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=Q(a,l[s]);return{c(){e=T("div"),r&&r.c(),fe(e,a)},m(s,u){O(s,e,u),r&&r.m(e,null),n=!0},p(s,[u]){r&&r.p&&(!n||u&4)&&be(r,i,s,s[2],n?_e(i,s[2],u,null):ve(s[2]),null),fe(e,a=Se(l,[(!n||u&1&&o!==(o=je("flex flex-col space-y-2 text-center sm:text-left",s[0])))&&{class:o},u&2&&s[1]]))},i(s){n||(y(r,s),n=!0)},o(s){S(r,s),n=!1},d(s){s&&M(e),r&&r.d(s)}}}function gb(t,e,o){const n=["class"];let i=ue(e,n),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Q(Q({},e),$e(s)),o(1,i=ue(e,n)),"class"in s&&o(0,a=s.class),"$$scope"in s&&o(2,l=s.$$scope)},[a,i,l,r]}class gc extends he{constructor(e){super(),pe(this,e,gb,hb,de,{class:0})}}function _b(t){let e,o;const n=[{transition:t[1]},{transitionConfig:t[2]},{class:je("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm ",t[0])},t[3]];let i={};for(let r=0;r<n.length;r+=1)i=Q(i,n[r]);return e=new Vg({props:i}),{c(){U(e.$$.fragment)},m(r,l){W(e,r,l),o=!0},p(r,[l]){const a=l&15?Se(n,[l&2&&{transition:r[1]},l&4&&{transitionConfig:r[2]},l&1&&{class:je("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm ",r[0])},l&8&&lt(r[3])]):{};e.$set(a)},i(r){o||(y(e.$$.fragment,r),o=!0)},o(r){S(e.$$.fragment,r),o=!1},d(r){Y(e,r)}}}function bb(t,e,o){const n=["class","transition","transitionConfig"];let i=ue(e,n),{class:r=void 0}=e,{transition:l=Oi}=e,{transitionConfig:a={duration:150}}=e;return t.$$set=s=>{e=Q(Q({},e),$e(s)),o(3,i=ue(e,n)),"class"in s&&o(0,r=s.class),"transition"in s&&o(1,l=s.transition),"transitionConfig"in s&&o(2,a=s.transitionConfig)},[r,l,a,i]}class vb extends he{constructor(e){super(),pe(this,e,bb,_b,de,{class:0,transition:1,transitionConfig:2})}}function yb(t){let e;const o=t[4].default,n=ge(o,t,t[5],null);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&32)&&be(n,o,i,i[5],e?_e(o,i[5],r,null):ve(i[5]),null)},i(i){e||(y(n,i),e=!0)},o(i){S(n,i),e=!1},d(i){n&&n.d(i)}}}function wb(t){let e,o,n,i;e=new vb({});const r=[{transition:t[0]},{transitionConfig:t[1]},{class:je("fixed rounded-2xl left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-sidebarBackground text-sidebarText p-6 shadow-lg md:w-full",t[2])},t[3]];let l={$$slots:{default:[yb]},$$scope:{ctx:t}};for(let a=0;a<r.length;a+=1)l=Q(l,r[a]);return n=new $g({props:l}),{c(){U(e.$$.fragment),o=G(),U(n.$$.fragment)},m(a,s){W(e,a,s),O(a,o,s),W(n,a,s),i=!0},p(a,s){const u=s&15?Se(r,[s&1&&{transition:a[0]},s&2&&{transitionConfig:a[1]},s&4&&{class:je("fixed rounded-2xl left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-sidebarBackground text-sidebarText p-6 shadow-lg md:w-full",a[2])},s&8&&lt(a[3])]):{};s&32&&(u.$$scope={dirty:s,ctx:a}),n.$set(u)},i(a){i||(y(e.$$.fragment,a),y(n.$$.fragment,a),i=!0)},o(a){S(e.$$.fragment,a),S(n.$$.fragment,a),i=!1},d(a){a&&M(o),Y(e,a),Y(n,a)}}}function kb(t){let e,o;return e=new db({props:{$$slots:{default:[wb]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,[i]){const r={};i&47&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){S(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function Cb(t,e,o){const n=["transition","transitionConfig","class"];let i=ue(e,n),{$$slots:r={},$$scope:l}=e,{transition:a=$n}=e,{transitionConfig:s=void 0}=e,{class:u=void 0}=e;return t.$$set=f=>{e=Q(Q({},e),$e(f)),o(3,i=ue(e,n)),"transition"in f&&o(0,a=f.transition),"transitionConfig"in f&&o(1,s=f.transitionConfig),"class"in f&&o(2,u=f.class),"$$scope"in f&&o(5,l=f.$$scope)},[a,s,u,i,r,l]}class _c extends he{constructor(e){super(),pe(this,e,Cb,kb,de,{transition:0,transitionConfig:1,class:2})}}function Sb(t){let e;const o=t[2].default,n=ge(o,t,t[3],null);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&8)&&be(n,o,i,i[3],e?_e(o,i[3],r,null):ve(i[3]),null)},i(i){e||(y(n,i),e=!0)},o(i){S(n,i),e=!1},d(i){n&&n.d(i)}}}function Ab(t){let e,o;const n=[{class:je("text-sm text-muted-foreground",t[0])},t[1]];let i={$$slots:{default:[Sb]},$$scope:{ctx:t}};for(let r=0;r<n.length;r+=1)i=Q(i,n[r]);return e=new Zg({props:i}),{c(){U(e.$$.fragment)},m(r,l){W(e,r,l),o=!0},p(r,[l]){const a=l&3?Se(n,[l&1&&{class:je("text-sm text-muted-foreground",r[0])},l&2&&lt(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){o||(y(e.$$.fragment,r),o=!0)},o(r){S(e.$$.fragment,r),o=!1},d(r){Y(e,r)}}}function Tb(t,e,o){const n=["class"];let i=ue(e,n),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Q(Q({},e),$e(s)),o(1,i=ue(e,n)),"class"in s&&o(0,a=s.class),"$$scope"in s&&o(3,l=s.$$scope)},[a,i,r,l]}class bc extends he{constructor(e){super(),pe(this,e,Tb,Ab,de,{class:0})}}const vc=Wh;function Ib(t){let e;const o=t[5].default,n=ge(o,t,t[6],null);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&64)&&be(n,o,i,i[6],e?_e(o,i[6],r,null):ve(i[6]),null)},i(i){e||(y(n,i),e=!0)},o(i){S(n,i),e=!1},d(i){n&&n.d(i)}}}function Mb(t){let e,o;const n=[{transition:t[2]},{transitionConfig:t[3]},{sideOffset:t[1]},{class:je("z-[1000] overflow-hidden border bg-sidebarBackground px-3 py-1.5 text-sm text-black shadow-md rounded-2xl",t[0])},t[4]];let i={$$slots:{default:[Ib]},$$scope:{ctx:t}};for(let r=0;r<n.length;r+=1)i=Q(i,n[r]);return e=new h1({props:i}),{c(){U(e.$$.fragment)},m(r,l){W(e,r,l),o=!0},p(r,[l]){const a=l&31?Se(n,[l&4&&{transition:r[2]},l&8&&{transitionConfig:r[3]},l&2&&{sideOffset:r[1]},l&1&&{class:je("z-[1000] overflow-hidden border bg-sidebarBackground px-3 py-1.5 text-sm text-black shadow-md rounded-2xl",r[0])},l&16&&lt(r[4])]):{};l&64&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){o||(y(e.$$.fragment,r),o=!0)},o(r){S(e.$$.fragment,r),o=!1},d(r){Y(e,r)}}}function Ob(t,e,o){const n=["class","sideOffset","transition","transitionConfig"];let i=ue(e,n),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{sideOffset:s=16}=e,{transition:u=$n}=e,{transitionConfig:f={y:6,duration:100}}=e;return t.$$set=c=>{e=Q(Q({},e),$e(c)),o(4,i=ue(e,n)),"class"in c&&o(0,a=c.class),"sideOffset"in c&&o(1,s=c.sideOffset),"transition"in c&&o(2,u=c.transition),"transitionConfig"in c&&o(3,f=c.transitionConfig),"$$scope"in c&&o(6,l=c.$$scope)},[a,s,u,f,i,r,l]}class mo extends he{constructor(e){super(),pe(this,e,Ob,Mb,de,{class:0,sideOffset:1,transition:2,transitionConfig:3})}}const po=e1,ho=k1;function Pb(t){let e=(t[4].length>0?t[4]:"Why are you hovering here?")+"",o;return{c(){o=K(e)},m(n,i){O(n,o,i)},p(n,i){i&16&&e!==(e=(n[4].length>0?n[4]:"Why are you hovering here?")+"")&&ce(o,e)},d(n){n&&M(o)}}}function Nb(t){let e,o;return{c(){e=T("div"),o=K(t[0])},m(n,i){O(n,e,i),b(e,o)},p(n,i){i&1&&ce(o,n[0])},d(n){n&&M(e)}}}function Eb(t){let e,o;return e=new Ot({props:{class:`text-sm flex flex-col py-1.5 
        opacity-`+t[3]+" "+(t[3]<100?"hover:opacity-40":"")+` 
        rounded-xl cursor-pointer transition-all duration-150 
        filter hover:brightness-110
        `+t[2],$$slots:{default:[Nb]},$$scope:{ctx:t}}}),e.$on("click",function(){$t(t[1])&&t[1].apply(this,arguments)}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,i){t=n;const r={};i&12&&(r.class=`text-sm flex flex-col py-1.5 
        opacity-`+t[3]+" "+(t[3]<100?"hover:opacity-40":"")+` 
        rounded-xl cursor-pointer transition-all duration-150 
        filter hover:brightness-110
        `+t[2]),i&33&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){S(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function Rb(t){let e,o,n,i;return e=new mo({props:{$$slots:{default:[Pb]},$$scope:{ctx:t}}}),n=new ho({props:{class:"flex flex-col",$$slots:{default:[Eb]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),o=G(),U(n.$$.fragment)},m(r,l){W(e,r,l),O(r,o,l),W(n,r,l),i=!0},p(r,l){const a={};l&48&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&47&&(s.$$scope={dirty:l,ctx:r}),n.$set(s)},i(r){i||(y(e.$$.fragment,r),y(n.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(n.$$.fragment,r),i=!1},d(r){r&&M(o),Y(e,r),Y(n,r)}}}function $b(t){let e,o;return e=new po({props:{openDelay:t[4].length>0?200:999999,closeDelay:0,$$slots:{default:[Rb]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,[i]){const r={};i&16&&(r.openDelay=n[4].length>0?200:999999),i&63&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){S(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function Lb(t,e,o){let{text:n}=e,{onOpen:i}=e,{styling:r="bg-accent text-accentText"}=e,{opacity:l=100}=e,{onHoverText:a=""}=e;return t.$$set=s=>{"text"in s&&o(0,n=s.text),"onOpen"in s&&o(1,i=s.onOpen),"styling"in s&&o(2,r=s.styling),"opacity"in s&&o(3,l=s.opacity),"onHoverText"in s&&o(4,a=s.onHoverText)},[n,i,r,l,a]}class At extends he{constructor(e){super(),pe(this,e,Lb,$b,de,{text:0,onOpen:1,styling:2,opacity:3,onHoverText:4})}}function ra(t,e,o){const n=t.slice();return n[29]=e[o],n}function la(t,e,o){const n=t.slice();return n[32]=e[o],n[34]=o,n}function Db(t){let e;return{c(){e=K("Pause")},m(o,n){O(o,e,n)},d(o){o&&M(e)}}}function jb(t){let e,o;return e=new on({props:{class:"text-3xl font-semibold text-accentText",$$slots:{default:[Db]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,i){const r={};i[1]&16&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){S(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function sa(t){let e,o,n=t[32].townInfo.name+"",i,r,l,a=t[32].environment.day+"",s,u,f=st(t[32].townInfo.gold,!1)+"",c,d,m=st(t[32].townInfo.population_count,!1)+"",_,h,p,w,v,A;function E(){return t[17](t[34])}return{c(){e=T("li"),o=T("span"),i=K(n),r=G(),l=T("span"),s=K(a),u=K(" days, "),c=K(f),d=K(" gold, "),_=K(m),h=K(`
                  population`),p=G(),L(o,"class","before:content-['🏠'] before:mr-2"),L(l,"class","text-xs opacity-70 font-mono"),L(e,"class",w="text-sm rounded-sm p-2 flex flex-col "+(t[34]==t[2].selectedGame?"bg-darkerAccent text-accentText cursor-not-allowed":"hover:bg-white hover:text-black cursor-pointer "))},m(j,F){O(j,e,F),b(e,o),b(o,i),b(e,r),b(e,l),b(l,s),b(l,u),b(l,c),b(l,d),b(l,_),b(l,h),b(e,p),v||(A=z(e,"click",E),v=!0)},p(j,F){t=j,F[0]&2&&n!==(n=t[32].townInfo.name+"")&&ce(i,n),F[0]&2&&a!==(a=t[32].environment.day+"")&&ce(s,a),F[0]&2&&f!==(f=st(t[32].townInfo.gold,!1)+"")&&ce(c,f),F[0]&2&&m!==(m=st(t[32].townInfo.population_count,!1)+"")&&ce(_,m),F[0]&4&&w!==(w="text-sm rounded-sm p-2 flex flex-col "+(t[34]==t[2].selectedGame?"bg-darkerAccent text-accentText cursor-not-allowed":"hover:bg-white hover:text-black cursor-pointer "))&&L(e,"class",w)},d(j){j&&M(e),v=!1,A()}}}function aa(t){let e,o;return e=new At({props:{styling:"bg-black opacity-50 w-min",text:"🔄 New mock town",onOpen:t[21]}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,i){const r={};i[0]&8&&(r.onOpen=n[21]),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){S(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function Fb(t){let e,o,n,i,r,l,a,s,u,f,c=Ge(t[0]),d=[];for(let _=0;_<c.length;_+=1)d[_]=fa(ra(t,c,_));const m=_=>S(d[_],1,1,()=>{d[_]=null});return{c(){e=T("div"),o=T("h4"),o.textContent=`Achievements (${t[6].length}
              / ${ct.length})`,n=G(),i=T("span"),i.textContent=`Track your progress through towns & complete challenges! Rewards
              for completing achievements can be applied to the current town.`,r=G(),l=T("br"),a=G(),s=T("div"),u=T("div");for(let _=0;_<d.length;_+=1)d[_].c();L(o,"class","underline underline-offset-4"),L(i,"class","text-sm text-gray-400"),L(u,"class","flex flex-col gap-4 overflow-scroll pb-10 scroll-smooth"),L(s,"class","overflow-scroll mt-2 h-[60vh]"),L(e,"class","flex-grow")},m(_,h){O(_,e,h),b(e,o),b(e,n),b(e,i),b(e,r),b(e,l),b(e,a),b(e,s),b(s,u);for(let p=0;p<d.length;p+=1)d[p]&&d[p].m(u,null);f=!0},p(_,h){if(h[0]&4993){c=Ge(_[0]);let p;for(p=0;p<c.length;p+=1){const w=ra(_,c,p);d[p]?(d[p].p(w,h),y(d[p],1)):(d[p]=fa(w),d[p].c(),y(d[p],1),d[p].m(u,null))}for(Me(),p=c.length;p<d.length;p+=1)m(p);Oe()}},i(_){if(!f){for(let h=0;h<c.length;h+=1)y(d[h]);f=!0}},o(_){d=d.filter(Boolean);for(let h=0;h<d.length;h+=1)S(d[h]);f=!1},d(_){_&&M(e),rt(d,_)}}}function ua(t){let e,o;function n(){return t[22](t[29])}return e=new At({props:{text:`💰 Collect Prize: $${st(t[29].prize)} gold`,styling:"bg-yellow-300 text-black",onOpen:n}}),{c(){U(e.$$.fragment)},m(i,r){W(e,i,r),o=!0},p(i,r){t=i;const l={};r[0]&1&&(l.text=`💰 Collect Prize: $${st(t[29].prize)} gold`),r[0]&1&&(l.onOpen=n),e.$set(l)},i(i){o||(y(e.$$.fragment,i),o=!0)},o(i){S(e.$$.fragment,i),o=!1},d(i){Y(e,i)}}}function fa(t){let e,o,n,i,r,l,a=t[29].icon+"",s,u,f=t[29].title+"",c,d,m,_=t[29].requirements+"",h,p,w,v=t[29].description+"",A,E,j,F,$=t[7](t[29].id)+"",P,R,q,I=t[12](t[29].id)&&!t[8](t[29].id),C,k,N,B=I&&ua(t);return{c(){e=T("div"),o=T("div"),n=T("div"),i=T("span"),r=T("div"),l=T("span"),s=K(a),u=G(),c=K(f),d=G(),m=T("div"),h=K(_),p=G(),w=T("div"),A=K(v),E=G(),j=T("div"),F=K("✅ Completed on Day "),P=K($),q=G(),B&&B.c(),C=G(),L(l,"class","font-semibold text-sm text-nowrap"),L(m,"class","font-thin opacity-75 text-xs text-wrap max-w-[50%]"),L(r,"class","flex flex-row w-[100%] justify-between gap-6 "),L(i,"class","flex flex-row w-[100%]"),L(n,"class","min-w-32 flex"),L(w,"class","opacity-85 text-xs font-light"),L(j,"class",R="pb-2 "+(t[12](t[29].id)?"":"hidden")+" text-xs text-green-400"),L(o,"class","flex-col flex px-3 py-2 gap-1"),L(e,"class",k="flex flex-col gap-3 cursor-default rounded-xl "+(t[12](t[29].id)?"bg-green-700 text-accentText":"bg-gray-500 opacity-35"))},m(D,J){O(D,e,J),b(e,o),b(o,n),b(n,i),b(i,r),b(r,l),b(l,s),b(l,u),b(l,c),b(r,d),b(r,m),b(m,h),b(o,p),b(o,w),b(w,A),b(o,E),b(o,j),b(j,F),b(j,P),b(o,q),B&&B.m(o,null),b(e,C),N=!0},p(D,J){(!N||J[0]&1)&&a!==(a=D[29].icon+"")&&ce(s,a),(!N||J[0]&1)&&f!==(f=D[29].title+"")&&ce(c,f),(!N||J[0]&1)&&_!==(_=D[29].requirements+"")&&ce(h,_),(!N||J[0]&1)&&v!==(v=D[29].description+"")&&ce(A,v),(!N||J[0]&1)&&$!==($=D[7](D[29].id)+"")&&ce(P,$),(!N||J[0]&1&&R!==(R="pb-2 "+(D[12](D[29].id)?"":"hidden")+" text-xs text-green-400"))&&L(j,"class",R),J[0]&1&&(I=D[12](D[29].id)&&!D[8](D[29].id)),I?B?(B.p(D,J),J[0]&1&&y(B,1)):(B=ua(D),B.c(),y(B,1),B.m(o,null)):B&&(Me(),S(B,1,1,()=>{B=null}),Oe()),(!N||J[0]&1&&k!==(k="flex flex-col gap-3 cursor-default rounded-xl "+(D[12](D[29].id)?"bg-green-700 text-accentText":"bg-gray-500 opacity-35")))&&L(e,"class",k)},i(D){N||(y(B),N=!0)},o(D){S(B),N=!1},d(D){D&&M(e),B&&B.d()}}}function Bb(t){let e,o,n,i,r,l,a,s,u,f,c,d,m,_,h,p,w,v,A,E,j,F=t[3].gameSettings.includes("devMode"),$,P,R=localStorage.getItem(Rt)==null,q;e=new rn({props:{$$slots:{default:[jb]},$$scope:{ctx:t}}});let I=Ge(t[1]),C=[];for(let B=0;B<I.length;B+=1)C[B]=sa(la(t,I,B));c=new At({props:{styling:"font-bold hover:brightness-110 hover:bg-sidebarBackground hover:text-black w-min",text:"+ Build new town",onOpen:t[14]}}),_=new At({props:{styling:"bg-gray-500",text:"💾 Save town file",onOpen:t[10]}}),p=new At({props:{text:"📤 Load town file",styling:"bg-gray-500",onOpen:t[18]}}),v=new At({props:{text:"📲 Share town",styling:"bg-gray-500",onOpen:t[19]}}),E=new At({props:{text:"❌ Delete current town",styling:"bg-red-800",onOpen:t[20]}});let k=F&&aa(t),N=R&&Fb(t);return{c(){U(e.$$.fragment),o=G(),n=T("div"),i=T("div"),r=T("div"),l=T("div"),l.textContent="Switch towns",a=G(),s=T("ul");for(let B=0;B<C.length;B+=1)C[B].c();u=G(),f=T("div"),U(c.$$.fragment),d=G(),m=T("div"),U(_.$$.fragment),h=G(),U(p.$$.fragment),w=G(),U(v.$$.fragment),A=G(),U(E.$$.fragment),j=G(),k&&k.c(),$=G(),P=T("div"),N&&N.c(),L(l,"class","text-sm pb-2"),L(s,"class","flex flex-col gap-0"),L(f,"class","flex flex-row justify-end pt-2"),L(r,"class","flex flex-col bg-accent rounded-md p-2 pt-3"),L(m,"class","flex flex-row flex-wrap gap-3"),L(i,"class","flex flex-col flex-grow max-h-[80%] justify-between"),L(P,"class","flex flex-col gap-6 justify-between"),L(n,"class","flex flex-row w-full gap-10 justify-between")},m(B,D){W(e,B,D),O(B,o,D),O(B,n,D),b(n,i),b(i,r),b(r,l),b(r,a),b(r,s);for(let J=0;J<C.length;J+=1)C[J]&&C[J].m(s,null);b(r,u),b(r,f),W(c,f,null),b(i,d),b(i,m),W(_,m,null),b(m,h),W(p,m,null),b(m,w),W(v,m,null),b(m,A),W(E,m,null),b(m,j),k&&k.m(m,null),b(n,$),b(n,P),N&&N.m(P,null),q=!0},p(B,D){const J={};if(D[1]&16&&(J.$$scope={dirty:D,ctx:B}),e.$set(J),D[0]&6){I=Ge(B[1]);let X;for(X=0;X<I.length;X+=1){const ne=la(B,I,X);C[X]?C[X].p(ne,D):(C[X]=sa(ne),C[X].c(),C[X].m(s,null))}for(;X<C.length;X+=1)C[X].d(1);C.length=I.length}const Z={};D[0]&4&&(Z.onOpen=B[20]),E.$set(Z),D[0]&8&&(F=B[3].gameSettings.includes("devMode")),F?k?(k.p(B,D),D[0]&8&&y(k,1)):(k=aa(B),k.c(),y(k,1),k.m(m,null)):k&&(Me(),S(k,1,1,()=>{k=null}),Oe()),R&&N.p(B,D)},i(B){q||(y(e.$$.fragment,B),y(c.$$.fragment,B),y(_.$$.fragment,B),y(p.$$.fragment,B),y(v.$$.fragment,B),y(E.$$.fragment,B),y(k),y(N),q=!0)},o(B){S(e.$$.fragment,B),S(c.$$.fragment,B),S(_.$$.fragment,B),S(p.$$.fragment,B),S(v.$$.fragment,B),S(E.$$.fragment,B),S(k),S(N),q=!1},d(B){B&&(M(o),M(n)),Y(e,B),rt(C,B),Y(c),Y(_),Y(p),Y(v),Y(E),k&&k.d(),N&&N.d()}}}function qb(t){let e,o;return e=new Yt({props:{class:"max-w-[75%] max-h-[100%] flex flex-col justify-between bg-popupBackground text-accentText overflow-scroll",$$slots:{default:[Bb]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,i){const r={};i[0]&15|i[1]&16&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){S(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function xb(t){var n;let e=((n=t[13]())==null?void 0:n.title)+"",o;return{c(){o=K(e)},m(i,r){O(i,o,r)},p:Te,d(i){i&&M(o)}}}function Hb(t){let e,o,n,i;return{c(){var r,l,a;e=T("div"),o=T("div"),o.textContent=`${(r=t[13]())==null?void 0:r.icon}`,n=G(),i=T("div"),i.textContent=`${(l=t[13]())==null?void 0:l.description} ${(a=t[13]())==null?void 0:a.requirements}`,L(o,"class","absolute top-4 left-4 text-5xl"),L(i,"class","pl-8 w-[80%] align-middle flex flex-col justify-center text-lg"),L(e,"class","flex flex-row align-middle justify-evenly px-6 py-2")},m(r,l){O(r,e,l),b(e,o),b(e,n),b(e,i)},p:Te,d(r){r&&M(e)}}}function Gb(t){let e,o,n,i;return e=new uc({props:{class:"text-center text-lg font-bold",$$slots:{default:[xb]},$$scope:{ctx:t}}}),n=new bc({props:{$$slots:{default:[Hb]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),o=G(),U(n.$$.fragment)},m(r,l){W(e,r,l),O(r,o,l),W(n,r,l),i=!0},p(r,l){const a={};l[1]&16&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l[1]&16&&(s.$$scope={dirty:l,ctx:r}),n.$set(s)},i(r){i||(y(e.$$.fragment,r),y(n.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(n.$$.fragment,r),i=!1},d(r){r&&M(o),Y(e,r),Y(n,r)}}}function Vb(t){let e;return{c(){e=K("Close to collect prize")},m(o,n){O(o,e,n)},d(o){o&&M(e)}}}function Wb(t){let e,o;return e=new ab({props:{$$slots:{default:[Vb]},$$scope:{ctx:t}}}),e.$on("click",t[24]),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,i){const r={};i[1]&16&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){S(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function Yb(t){let e,o,n,i;return e=new gc({props:{$$slots:{default:[Gb]},$$scope:{ctx:t}}}),n=new hc({props:{$$slots:{default:[Wb]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),o=G(),U(n.$$.fragment)},m(r,l){W(e,r,l),O(r,o,l),W(n,r,l),i=!0},p(r,l){const a={};l[1]&16&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l[0]&32|l[1]&16&&(s.$$scope={dirty:l,ctx:r}),n.$set(s)},i(r){i||(y(e.$$.fragment,r),y(n.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(n.$$.fragment,r),i=!1},d(r){r&&M(o),Y(e,r),Y(n,r)}}}function Ub(t){let e,o;return e=new _c({props:{$$slots:{default:[Yb]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,i){const r={};i[0]&32|i[1]&16&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){S(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function Kb(t){let e,o,n,i,r;function l(s){t[23](s)}let a={$$slots:{default:[qb]},$$scope:{ctx:t}};return t[4]!==void 0&&(a.open=t[4]),e=new Ut({props:a}),Ne.push(()=>Wt(e,"open",l)),i=new vc({props:{open:t[5],$$slots:{default:[Ub]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),n=G(),U(i.$$.fragment)},m(s,u){W(e,s,u),O(s,n,u),W(i,s,u),r=!0},p(s,u){const f={};u[0]&15|u[1]&16&&(f.$$scope={dirty:u,ctx:s}),!o&&u[0]&16&&(o=!0,f.open=s[4],Ht(()=>o=!1)),e.$set(f);const c={};u[0]&32&&(c.open=s[5]),u[0]&32|u[1]&16&&(c.$$scope={dirty:u,ctx:s}),i.$set(c)},i(s){r||(y(e.$$.fragment,s),y(i.$$.fragment,s),r=!0)},o(s){S(e.$$.fragment,s),S(i.$$.fragment,s),r=!1},d(s){s&&M(n),Y(e,s),Y(i,s)}}}function Jb(t){const e=JSON.parse(t);return e.townInfo!=null&&e.difficulty!=null}function Xb(t,e,o){let n,i,r,l,a;se(t,Tt,k=>o(2,n=k)),se(t,Ie,k=>o(3,i=k)),se(t,It,k=>o(4,r=k)),se(t,Dl,k=>o(16,l=k)),se(t,wi,k=>o(5,a=k)),ac[i.endGoal],Cf[i.difficulty],ct.sort((k,N)=>p(k.id)&&!p(N.id)?-1:!p(k.id)&&p(N.id)?1:0);const u=ct.filter(k=>p(k.id));function f(k){const N=n.achievements.find(B=>B[0]==k);return N==null?0:`${N[1]} in ${N[2]}.`}function c(k){const N=n.achievements.find(B=>B[0]==k);return N==null?!1:N[3]!=null}function d(k){const N=n.achievements.find(D=>D[0]==k);if(N==null)return;const B=ct.find(D=>D.id==k);B!=null&&(Ae(Ie,i.townInfo.gold+=B.prize,i),N[3]=!0,Ae(Tt,n.achievements=n.achievements.map(D=>D[0]==k?N:D),n))}let m=ct;function _(){const k=JSON.stringify(i),N=new Blob([k],{type:"text/plain"}),B=URL.createObjectURL(N),D=document.createElement("a");D.href=B,D.download=`${new Date().toISOString()}.json`,document.body.appendChild(D),D.click(),document.body.removeChild(D),URL.revokeObjectURL(B)}function h(k){const N=k.target.files;if(N==null)return;const B=N[0],D=new FileReader;D.onload=function(J){if(J.target==null)return;const Z=J.target.result;if(typeof Z=="string"){if(!Jb(Z)){Ft("Invalid game file");return}Nr(JSON.parse(Z))}else Ft("Invalid game file: is not String.")},D.readAsText(B)}function p(k){return n.achievements==null?!1:n.achievements.find(N=>N[0]==k)!=null}function w(){Dl.update(k=>!k),localStorage.setItem("showCompletedAchievements",localStorage.getItem("showCompletedAchievements")==="true"?"false":"true")}localStorage.getItem("pauseMenuTab")==null&&(localStorage.setItem("pauseMenuTab","game"),Om.set("game"));function v(){const k=n.achievements[n.achievements.length-1];if(k!=null)return ct.find(N=>N.id==k[0])}function A(){Ae(It,r=!0,r),localStorage.setItem("reset","true"),Ae(Ie,i=null,i),localStorage.removeItem(nt),Nr()}let E=[];const j=k=>{Ll(k,n)},F=()=>{const k=document.createElement("input");k.type="file",k.onchange=N=>h(N),k.click()},$=async()=>{const k=await uf();navigator.clipboard.writeText(k),alert("Copied to clipboard")},P=async()=>{let k={...n};k.games.splice(n.selectedGame,1),console.log(k),localStorage.setItem(Qe,JSON.stringify(k)),Tt.set(k),Ll(0,k)},R=()=>{Cm(i)},q=k=>{d(k.id);const N=document.getElementById(`collectPrize-${k.id}`);N&&(N.style.display="none")};function I(k){r=k,It.set(r)}const C=()=>{Ae(wi,a=!1,a)};return t.$$.update=()=>{if(t.$$.dirty[0]&65545&&i)if(l)o(0,m=ct);else{o(0,m=[]);for(let k=0;k<ct.length;k++)(!p(ct[k].id)||!c(ct[k].id))&&m.push(ct[k])}if(t.$$.dirty[0]&6){o(1,E=[]);for(let k=0;k<n.games.length;k++)E.push(JSON.parse(n.games[k]))}},[m,E,n,i,r,a,u,f,c,d,_,h,p,v,A,w,l,j,F,$,P,R,q,I,C]}class Zb extends he{constructor(e){super(),pe(this,e,Xb,Kb,de,{toggleShowCompleted:15},null,[-1,-1])}get toggleShowCompleted(){return this.$$.ctx[15]}}function ca(t,e,o){const n=t.slice();return n[5]=e[o],n}function Qb(t){let e;return{c(){e=K("🚨 Plot Disabled Warning")},m(o,n){O(o,e,n)},d(o){o&&M(e)}}}function zb(t){let e,o;return e=new on({props:{class:"text-xl font-semibold",$$slots:{default:[Qb]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,i){const r={};i&256&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){S(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function da(t){let e,o=t[5]+"",n;return{c(){e=T("li"),n=K(o)},m(i,r){O(i,e,r),b(e,n)},p(i,r){r&1&&o!==(o=i[5]+"")&&ce(n,o)},d(i){i&&M(e)}}}function ev(t){let e;return{c(){e=K("Bulldoze")},m(o,n){O(o,e,n)},d(o){o&&M(e)}}}function tv(t){let e,o=t[0].plotCost+"",n,i;return{c(){e=K("Snooze ("),n=K(o),i=K(" gold)")},m(r,l){O(r,e,l),O(r,n,l),O(r,i,l)},p(r,l){l&1&&o!==(o=r[0].plotCost+"")&&ce(n,o)},d(r){r&&(M(e),M(n),M(i))}}}function nv(t){let e,o,n,i;return e=new Ot({props:{variant:"destructive",$$slots:{default:[ev]},$$scope:{ctx:t}}}),e.$on("click",t[3]),n=new Ot({props:{variant:"default",disabled:t[1].townInfo.gold<t[0].plotCost,$$slots:{default:[tv]},$$scope:{ctx:t}}}),n.$on("click",t[2]),{c(){U(e.$$.fragment),o=G(),U(n.$$.fragment)},m(r,l){W(e,r,l),O(r,o,l),W(n,r,l),i=!0},p(r,l){const a={};l&256&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&3&&(s.disabled=r[1].townInfo.gold<r[0].plotCost),l&257&&(s.$$scope={dirty:l,ctx:r}),n.$set(s)},i(r){i||(y(e.$$.fragment,r),y(n.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(n.$$.fragment,r),i=!1},d(r){r&&M(o),Y(e,r),Y(n,r)}}}function ov(t){let e,o,n,i,r,l=t[0].plotName+"",a,s,u=t[0].location+"",f,c,d,m,_,h,p,w,v,A,E,j,F,$,P,R,q=t[0].plotCost+"",I,C,k,N,B;e=new rn({props:{class:"p-4 border-b border-accent/20",$$slots:{default:[zb]},$$scope:{ctx:t}}});let D=Ge(t[0].missingResources),J=[];for(let Z=0;Z<D.length;Z+=1)J[Z]=da(ca(t,D,Z));return N=new _n({props:{class:"p-4 border-t border-accent/20 flex justify-end gap-2",$$slots:{default:[nv]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),o=G(),n=T("div"),i=T("p"),r=K("Your "),a=K(l),s=G(),f=K(u),c=K(" is about to be disabled!"),d=G(),m=T("div"),_=T("p"),_.textContent="Missing Resources:",h=G(),p=T("ul");for(let Z=0;Z<J.length;Z+=1)J[Z].c();w=G(),v=T("div"),A=T("p"),A.textContent="You have two options:",E=G(),j=T("ol"),F=T("li"),F.textContent="Bulldoze the plot (free)",$=G(),P=T("li"),R=K("Snooze for 30 days (costs "),I=K(q),C=K(" gold)"),k=G(),U(N.$$.fragment),L(_,"class","font-semibold"),L(p,"class","list-disc list-inside"),L(m,"class","bg-red-500/10 p-3 rounded-md"),L(j,"class","list-decimal list-inside"),L(v,"class","bg-accent/10 p-3 rounded-md"),L(n,"class","p-4 space-y-4")},m(Z,X){W(e,Z,X),O(Z,o,X),O(Z,n,X),b(n,i),b(i,r),b(i,a),b(i,s),b(i,f),b(i,c),b(n,d),b(n,m),b(m,_),b(m,h),b(m,p);for(let ne=0;ne<J.length;ne+=1)J[ne]&&J[ne].m(p,null);b(n,w),b(n,v),b(v,A),b(v,E),b(v,j),b(j,F),b(j,$),b(j,P),b(P,R),b(P,I),b(P,C),O(Z,k,X),W(N,Z,X),B=!0},p(Z,X){const ne={};if(X&256&&(ne.$$scope={dirty:X,ctx:Z}),e.$set(ne),(!B||X&1)&&l!==(l=Z[0].plotName+"")&&ce(a,l),(!B||X&1)&&u!==(u=Z[0].location+"")&&ce(f,u),X&1){D=Ge(Z[0].missingResources);let oe;for(oe=0;oe<D.length;oe+=1){const we=ca(Z,D,oe);J[oe]?J[oe].p(we,X):(J[oe]=da(we),J[oe].c(),J[oe].m(p,null))}for(;oe<J.length;oe+=1)J[oe].d(1);J.length=D.length}(!B||X&1)&&q!==(q=Z[0].plotCost+"")&&ce(I,q);const ee={};X&259&&(ee.$$scope={dirty:X,ctx:Z}),N.$set(ee)},i(Z){B||(y(e.$$.fragment,Z),y(N.$$.fragment,Z),B=!0)},o(Z){S(e.$$.fragment,Z),S(N.$$.fragment,Z),B=!1},d(Z){Z&&(M(o),M(n),M(k)),Y(e,Z),rt(J,Z),Y(N,Z)}}}function iv(t){let e,o;return e=new Yt({props:{transition:$n,class:"bg-sidebarBackground text-sidebarText max-w-md rounded-md shadow-xl border border-accent",$$slots:{default:[ov]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,i){const r={};i&259&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){S(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function rv(t){let e,o,n;function i(l){t[4](l)}let r={$$slots:{default:[iv]},$$scope:{ctx:t}};return t[0].visible!==void 0&&(r.open=t[0].visible),e=new Ut({props:r}),Ne.push(()=>Wt(e,"open",i)),{c(){U(e.$$.fragment)},m(l,a){W(e,l,a),n=!0},p(l,[a]){const s={};a&259&&(s.$$scope={dirty:a,ctx:l}),!o&&a&1&&(o=!0,s.open=l[0].visible,Ht(()=>o=!1)),e.$set(s)},i(l){n||(y(e.$$.fragment,l),n=!0)},o(l){S(e.$$.fragment,l),n=!1},d(l){Y(e,l)}}}function lv(t,e,o){let n,i;se(t,jt,s=>o(0,n=s)),se(t,Ie,s=>o(1,i=s));function r(){i.townInfo.gold>=n.plotCost&&(Ae(Ie,i.townInfo.gold-=n.plotCost,i),Ae(Ie,i.plots[n.x][n.y].snoozedUntil=i.environment.day+10,i),Ae(Ie,i.plots[n.x][n.y].disabled=!1,i)),Ae(jt,n.visible=!1,n)}function l(){console.log("x:",n.x),console.log("y:",n.y),zn(n.x,n.y,i),Ae(jt,n.visible=!1,n)}function a(s){t.$$.not_equal(n.visible,s)&&(n.visible=s,jt.set(n))}return[n,i,r,l,a]}class sv extends he{constructor(e){super(),pe(this,e,lv,rv,de,{})}}function av(){console.log("%cRUNNING STABILITY TESTS...","color: #26bfa5;");let t=0;return console.log("%cPASSED ALL STABILITY TESTS 😍","color: #26bfa5;"),t}function uv(t){let e=t[0].endGameDetails.win==!0?"You won! 🎉":"You lost! 😭",o;return{c(){o=K(e)},m(n,i){O(n,o,i)},p(n,i){i&1&&e!==(e=n[0].endGameDetails.win==!0?"You won! 🎉":"You lost! 😭")&&ce(o,e)},d(n){n&&M(o)}}}function fv(t){let e;return{c(){e=K("Keep playin'")},m(o,n){O(o,e,n)},d(o){o&&M(e)}}}function cv(t){let e,o=t[0].endGameDetails.msg+"",n,i,r,l,a,s,u,f;return u=new Ot({props:{class:"bg-accent",$$slots:{default:[fv]},$$scope:{ctx:t}}}),u.$on("click",t[2]),{c(){e=T("span"),n=K(o),i=G(),r=T("br"),l=G(),a=T("br"),s=G(),U(u.$$.fragment),L(e,"class","text-gray-500 text-sm")},m(c,d){O(c,e,d),b(e,n),O(c,i,d),O(c,r,d),O(c,l,d),O(c,a,d),O(c,s,d),W(u,c,d),f=!0},p(c,d){(!f||d&1)&&o!==(o=c[0].endGameDetails.msg+"")&&ce(n,o);const m={};d&16&&(m.$$scope={dirty:d,ctx:c}),u.$set(m)},i(c){f||(y(u.$$.fragment,c),f=!0)},o(c){S(u.$$.fragment,c),f=!1},d(c){c&&(M(e),M(i),M(r),M(l),M(a),M(s)),Y(u,c)}}}function dv(t){let e,o,n,i;return e=new on({props:{$$slots:{default:[uv]},$$scope:{ctx:t}}}),n=new jn({props:{$$slots:{default:[cv]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),o=G(),U(n.$$.fragment)},m(r,l){W(e,r,l),O(r,o,l),W(n,r,l),i=!0},p(r,l){const a={};l&17&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&17&&(s.$$scope={dirty:l,ctx:r}),n.$set(s)},i(r){i||(y(e.$$.fragment,r),y(n.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(n.$$.fragment,r),i=!1},d(r){r&&M(o),Y(e,r),Y(n,r)}}}function mv(t){let e;return{c(){e=T("span"),e.textContent="Reset the game by pressing P and clicking New Game",L(e,"class","text-gray-500 text-sm")},m(o,n){O(o,e,n)},p:Te,d(o){o&&M(e)}}}function pv(t){let e,o,n,i;return e=new rn({props:{$$slots:{default:[dv]},$$scope:{ctx:t}}}),n=new _n({props:{$$slots:{default:[mv]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),o=G(),U(n.$$.fragment)},m(r,l){W(e,r,l),O(r,o,l),W(n,r,l),i=!0},p(r,l){const a={};l&17&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&16&&(s.$$scope={dirty:l,ctx:r}),n.$set(s)},i(r){i||(y(e.$$.fragment,r),y(n.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(n.$$.fragment,r),i=!1},d(r){r&&M(o),Y(e,r),Y(n,r)}}}function hv(t){let e,o;return e=new Yt({props:{class:"bg-foregroundDark text-accentText",$$slots:{default:[pv]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,i){const r={};i&17&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){S(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function gv(t){let e,o,n;function i(l){t[3](l)}let r={$$slots:{default:[hv]},$$scope:{ctx:t}};return t[1]!==void 0&&(r.open=t[1]),e=new Ut({props:r}),Ne.push(()=>Wt(e,"open",i)),{c(){U(e.$$.fragment)},m(l,a){W(e,l,a),n=!0},p(l,[a]){const s={};a&17&&(s.$$scope={dirty:a,ctx:l}),!o&&a&2&&(o=!0,s.open=l[1],Ht(()=>o=!1)),e.$set(s)},i(l){n||(y(e.$$.fragment,l),n=!0)},o(l){S(e.$$.fragment,l),n=!1},d(l){Y(e,l)}}}function _v(t,e,o){let n;se(t,Ie,a=>o(0,n=a));let i=!1;function r(){let a=n;a.overtime=!0,Ie.set(a),o(1,i=!1),It.set(!1)}function l(a){i=a,o(1,i),o(0,n)}return t.$$.update=()=>{t.$$.dirty&1&&(n.endGameDetails.msg!=""&&n.overtime==!1?o(1,i=!0):o(1,i=!1))},[n,i,r,l]}class bv extends he{constructor(e){super(),pe(this,e,_v,gv,de,{})}}function vv(t){let e,o,n,i,r=[{class:o=je("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t[1])},t[2]],l={};for(let a=0;a<r.length;a+=1)l=Q(l,r[a]);return{c(){e=T("input"),fe(e,l)},m(a,s){O(a,e,s),e.autofocus&&e.focus(),Ml(e,t[0]),n||(i=[z(e,"input",t[17]),z(e,"blur",t[3]),z(e,"change",t[4]),z(e,"click",t[5]),z(e,"focus",t[6]),z(e,"focusin",t[7]),z(e,"focusout",t[8]),z(e,"keydown",t[9]),z(e,"keypress",t[10]),z(e,"keyup",t[11]),z(e,"mouseover",t[12]),z(e,"mouseenter",t[13]),z(e,"mouseleave",t[14]),z(e,"paste",t[15]),z(e,"input",t[16])],n=!0)},p(a,[s]){fe(e,l=Se(r,[s&2&&o!==(o=je("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a[1]))&&{class:o},s&4&&a[2]])),s&1&&e.value!==a[0]&&Ml(e,a[0])},i:Te,o:Te,d(a){a&&M(e),n=!1,xe(i)}}}function yv(t,e,o){const n=["class","value"];let i=ue(e,n),{class:r=void 0}=e,{value:l=void 0}=e;function a(F){re.call(this,t,F)}function s(F){re.call(this,t,F)}function u(F){re.call(this,t,F)}function f(F){re.call(this,t,F)}function c(F){re.call(this,t,F)}function d(F){re.call(this,t,F)}function m(F){re.call(this,t,F)}function _(F){re.call(this,t,F)}function h(F){re.call(this,t,F)}function p(F){re.call(this,t,F)}function w(F){re.call(this,t,F)}function v(F){re.call(this,t,F)}function A(F){re.call(this,t,F)}function E(F){re.call(this,t,F)}function j(){l=this.value,o(0,l)}return t.$$set=F=>{e=Q(Q({},e),$e(F)),o(2,i=ue(e,n)),"class"in F&&o(1,r=F.class),"value"in F&&o(0,l=F.value)},[l,r,i,a,s,u,f,c,d,m,_,h,p,w,v,A,E,j]}class wv extends he{constructor(e){super(),pe(this,e,yv,vv,de,{class:1,value:0})}}function kv(t){let e;const o=t[2].default,n=ge(o,t,t[4],null);return{c(){n&&n.c()},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&16)&&be(n,o,i,i[4],e?_e(o,i[4],r,null):ve(i[4]),null)},i(i){e||(y(n,i),e=!0)},o(i){S(n,i),e=!1},d(i){n&&n.d(i)}}}function Cv(t){let e,o;const n=[{class:je("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",t[0])},t[1]];let i={$$slots:{default:[kv]},$$scope:{ctx:t}};for(let r=0;r<n.length;r+=1)i=Q(i,n[r]);return e=new v_({props:i}),e.$on("mousedown",t[3]),{c(){U(e.$$.fragment)},m(r,l){W(e,r,l),o=!0},p(r,[l]){const a=l&3?Se(n,[l&1&&{class:je("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",r[0])},l&2&&lt(r[1])]):{};l&16&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){o||(y(e.$$.fragment,r),o=!0)},o(r){S(e.$$.fragment,r),o=!1},d(r){Y(e,r)}}}function Sv(t,e,o){const n=["class"];let i=ue(e,n),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(u){re.call(this,t,u)}return t.$$set=u=>{e=Q(Q({},e),$e(u)),o(1,i=ue(e,n)),"class"in u&&o(0,a=u.class),"$$scope"in u&&o(4,l=u.$$scope)},[a,i,r,s,l]}class ma extends he{constructor(e){super(),pe(this,e,Sv,Cv,de,{class:0})}}function Av(t){let e;return{c(){e=K("Welcome to Plots")},m(o,n){O(o,e,n)},d(o){o&&M(e)}}}function Tv(t){let e;return{c(){e=K("Your town name")},m(o,n){O(o,e,n)},d(o){o&&M(e)}}}function Iv(t){let e;return{c(){e=K("Town settings")},m(o,n){O(o,e,n)},d(o){o&&M(e)}}}function Mv(t){let e;return{c(){e=K("Start game")},m(o,n){O(o,e,n)},d(o){o&&M(e)}}}function Ov(t){let e,o,n,i,r,l,a,s,u,f,c,d,m,_,h,p,w,v,A,E,j=t[0].username+"",F,$,P,R,q,I,C;return e=new on({props:{class:"text-3xl font-semibold ",$$slots:{default:[Av]},$$scope:{ctx:t}}}),r=new ma({props:{for:"townName",class:"text-md font-bold",$$slots:{default:[Tv]},$$scope:{ctx:t}}}),a=new wv({props:{id:"townName",autofocus:!0,class:"w-full p-2 ml-2 rounded-md border border-accent/20 bg-sidebarBackground text-sidebarText focus:ring-2 focus:ring-accent/50",placeholder:"Will be randomized if left blank"}}),a.$on("keydown",t[5]),f=new ma({props:{class:"text-md font-bold pb-1 flex flex-col gap-2",$$slots:{default:[Iv]},$$scope:{ctx:t}}}),R=new Ot({props:{class:"bg-accent hover:bg-accent/80 text-white",$$slots:{default:[Mv]},$$scope:{ctx:t}}}),R.$on("click",t[2]),{c(){U(e.$$.fragment),o=G(),n=T("div"),i=T("div"),U(r.$$.fragment),l=G(),U(a.$$.fragment),s=G(),u=T("div"),U(f.$$.fragment),c=G(),d=T("div"),d.innerHTML='<input type="checkbox" id="devMode" class="svelte-1fiuyps"/>',m=G(),_=T("div"),_.innerHTML=`<div class="flex items-start space-x-2"><input type="checkbox" id="casual" checked="" class="mt-1 rounded border-accent/20 svelte-1fiuyps"/> <label for="casual" class="text-sm">Casual game: Faster and easier overall while exposing more of the
              game mechanics. Recommended for most games.</label></div> <div class="flex items-start space-x-2"><input type="checkbox" id="tomPetty" class="mt-1 rounded border-accent/20 svelte-1fiuyps"/> <label for="tomPetty" class="text-sm">The &#39;Tom Petty&#39; mode: If your happiness or health reaches 0, you
              lose 50% of your gold and continue the game. You won&#39;t back down.</label></div> <div class="flex items-start space-x-2"><input type="checkbox" id="bagOfHolding" class="mt-1 rounded border-accent/20 svelte-1fiuyps"/> <label for="bagOfHolding" class="text-sm">Bag of Holding: No resource cap or need to purchase stockpiles.</label></div>`,h=G(),p=T("div"),w=T("div"),w.innerHTML='<a href="https://github.com/josephrcox/plots#how-to-play" class="text-accent hover:text-accent/80 text-sm italic opacity-65" target="_blank">GitHub / Learn how to play</a>',v=G(),A=T("div"),E=T("span"),F=K(j),$=G(),P=T("div"),U(R.$$.fragment),L(i,"class","pb-8 flex flex-col gap-2"),L(d,"class","hidden"),L(_,"class","flex flex-col gap-4 pl-2"),L(u,"class","pb-4"),L(w,"class","flex flex-grow align-middle items-center text-start"),L(E,"class","text-xs text-sidebarText/50 hover:text-sidebarText cursor-pointer"),L(P,"class","space-x-2"),L(A,"class","flex flex-row align-middle items-center gap-2"),L(p,"class","flex flex-row justify-between")},m(k,N){W(e,k,N),O(k,o,N),O(k,n,N),b(n,i),W(r,i,null),b(i,l),W(a,i,null),b(n,s),b(n,u),W(f,u,null),b(u,c),b(u,d),b(u,m),b(u,_),b(n,h),b(n,p),b(p,w),b(p,v),b(p,A),b(A,E),b(E,F),b(A,$),b(A,P),W(R,P,null),q=!0,I||(C=z(E,"click",t[3]),I=!0)},p(k,N){const B={};N&1024&&(B.$$scope={dirty:N,ctx:k}),e.$set(B);const D={};N&1024&&(D.$$scope={dirty:N,ctx:k}),r.$set(D);const J={};N&1024&&(J.$$scope={dirty:N,ctx:k}),f.$set(J),(!q||N&1)&&j!==(j=k[0].username+"")&&ce(F,j);const Z={};N&1024&&(Z.$$scope={dirty:N,ctx:k}),R.$set(Z)},i(k){q||(y(e.$$.fragment,k),y(r.$$.fragment,k),y(a.$$.fragment,k),y(f.$$.fragment,k),y(R.$$.fragment,k),q=!0)},o(k){S(e.$$.fragment,k),S(r.$$.fragment,k),S(a.$$.fragment,k),S(f.$$.fragment,k),S(R.$$.fragment,k),q=!1},d(k){k&&(M(o),M(n)),Y(e,k),Y(r),Y(a),Y(f),Y(R),I=!1,C()}}}function Pv(t){let e,o;return e=new Yt({props:{transition:$n,class:"bg-sidebarBackground text-sidebarText max-w-xl rounded-md shadow-xl border border-accent",$$slots:{default:[Ov]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,i){const r={};i&1025&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){S(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function Nv(t){let e,o,n;function i(l){t[6](l)}let r={onOutsideClick:Ev,$$slots:{default:[Pv]},$$scope:{ctx:t}};return t[1].visible!==void 0&&(r.open=t[1].visible),e=new Ut({props:r}),Ne.push(()=>Wt(e,"open",i)),{c(){U(e.$$.fragment)},m(l,a){W(e,l,a),n=!0},p(l,[a]){const s={};a&1025&&(s.$$scope={dirty:a,ctx:l}),!o&&a&2&&(o=!0,s.open=l[1].visible,Ht(()=>o=!1)),e.$set(s)},i(l){n||(y(e.$$.fragment,l),n=!0)},o(l){S(e.$$.fragment,l),n=!1},d(l){Y(e,l)}}}const Ev=t=>t.preventDefault();function Rv(t,e,o){let n,i;se(t,Tt,f=>o(0,n=f)),se(t,No,f=>o(1,i=f)),It.set(!1);function r(){const f=document.getElementById("townName").value,d=["devMode","tomPetty","casual","bagOfHolding"].filter(h=>document.getElementById(h).checked);Am("1","free_play",f,d)}function l(){const f=prompt("Enter new username");if(f){let c=n;c.username=f,Mm(c)}}function a(f){f.key==="Enter"&&r()}const s=f=>{a(f)};function u(f){t.$$.not_equal(i.visible,f)&&(i.visible=f,No.set(i))}return[n,i,r,l,a,s,u]}class $v extends he{constructor(e){super(),pe(this,e,Rv,Nv,de,{})}}function Lv(t){let e;return{c(){e=K("Scoreboard")},m(o,n){O(o,e,n)},d(o){o&&M(e)}}}function Dv(t){let e=t[1].description_title+"",o;return{c(){o=K(e)},m(n,i){O(n,o,i)},p:Te,d(n){n&&M(o)}}}function jv(t){let e,o,n,i;return e=new on({props:{$$slots:{default:[Lv]},$$scope:{ctx:t}}}),n=new jn({props:{$$slots:{default:[Dv]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),o=G(),U(n.$$.fragment)},m(r,l){W(e,r,l),O(r,o,l),W(n,r,l),i=!0},p(r,l){const a={};l&128&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&128&&(s.$$scope={dirty:l,ctx:r}),n.$set(s)},i(r){i||(y(e.$$.fragment,r),y(n.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(n.$$.fragment,r),i=!1},d(r){r&&M(o),Y(e,r),Y(n,r)}}}function Fv(t){let e;return{c(){e=K("footer")},m(o,n){O(o,e,n)},d(o){o&&M(e)}}}function Bv(t){let e,o,n,i;return e=new rn({props:{$$slots:{default:[jv]},$$scope:{ctx:t}}}),n=new _n({props:{$$slots:{default:[Fv]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),o=K(`
		hi
		`),U(n.$$.fragment)},m(r,l){W(e,r,l),O(r,o,l),W(n,r,l),i=!0},p(r,l){const a={};l&128&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&128&&(s.$$scope={dirty:l,ctx:r}),n.$set(s)},i(r){i||(y(e.$$.fragment,r),y(n.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(n.$$.fragment,r),i=!1},d(r){r&&M(o),Y(e,r),Y(n,r)}}}function qv(t){let e,o;return e=new Yt({props:{$$slots:{default:[Bv]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,i){const r={};i&128&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){S(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function xv(t){let e,o,n;function i(l){t[3](l)}let r={$$slots:{default:[qv]},$$scope:{ctx:t}};return t[0]!==void 0&&(r.open=t[0]),e=new Ut({props:r}),Ne.push(()=>Wt(e,"open",i)),{c(){U(e.$$.fragment)},m(l,a){W(e,l,a),n=!0},p(l,[a]){const s={};a&128&&(s.$$scope={dirty:a,ctx:l}),!o&&a&1&&(o=!0,s.open=l[0],Ht(()=>o=!1)),e.$set(s)},i(l){n||(y(e.$$.fragment,l),n=!0)},o(l){S(e.$$.fragment,l),n=!1},d(l){Y(e,l)}}}function Hv(t,e,o){let n,i;se(t,Ie,s=>o(2,n=s)),se(t,yi,s=>o(0,i=s));const l=ac[n.endGoal];Cf[n.difficulty];function a(s){i=s,yi.set(i)}return t.$$.update=()=>{t.$$.dirty&4},[i,l,n,a]}class Gv extends he{constructor(e){super(),pe(this,e,Hv,xv,de,{})}}function ui(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Vv(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function yc(t){let e,o,n;t.length!==2?(e=ui,o=(a,s)=>ui(t(a),s),n=(a,s)=>t(a)-s):(e=t===ui||t===Vv?t:Wv,o=t,n=t);function i(a,s,u=0,f=a.length){if(u<f){if(e(s,s)!==0)return f;do{const c=u+f>>>1;o(a[c],s)<0?u=c+1:f=c}while(u<f)}return u}function r(a,s,u=0,f=a.length){if(u<f){if(e(s,s)!==0)return f;do{const c=u+f>>>1;o(a[c],s)<=0?u=c+1:f=c}while(u<f)}return u}function l(a,s,u=0,f=a.length){const c=i(a,s,u,f-1);return c>u&&n(a[c-1],s)>-n(a[c],s)?c-1:c}return{left:i,center:l,right:r}}function Wv(){return 0}function Yv(t){return t===null?NaN:+t}const Uv=yc(ui),Kv=Uv.right;yc(Yv).center;const Jv=Math.sqrt(50),Xv=Math.sqrt(10),Zv=Math.sqrt(2);function Pi(t,e,o){const n=(e-t)/Math.max(0,o),i=Math.floor(Math.log10(n)),r=n/Math.pow(10,i),l=r>=Jv?10:r>=Xv?5:r>=Zv?2:1;let a,s,u;return i<0?(u=Math.pow(10,-i)/l,a=Math.round(t*u),s=Math.round(e*u),a/u<t&&++a,s/u>e&&--s,u=-u):(u=Math.pow(10,i)*l,a=Math.round(t/u),s=Math.round(e/u),a*u<t&&++a,s*u>e&&--s),s<a&&.5<=o&&o<2?Pi(t,e,o*2):[a,s,u]}function Qv(t,e,o){if(e=+e,t=+t,o=+o,!(o>0))return[];if(t===e)return[t];const n=e<t,[i,r,l]=n?Pi(e,t,o):Pi(t,e,o);if(!(r>=i))return[];const a=r-i+1,s=new Array(a);if(n)if(l<0)for(let u=0;u<a;++u)s[u]=(r-u)/-l;else for(let u=0;u<a;++u)s[u]=(r-u)*l;else if(l<0)for(let u=0;u<a;++u)s[u]=(i+u)/-l;else for(let u=0;u<a;++u)s[u]=(i+u)*l;return s}function xr(t,e,o){return e=+e,t=+t,o=+o,Pi(t,e,o)[2]}function zv(t,e,o){e=+e,t=+t,o=+o;const n=e<t,i=n?xr(e,t,o):xr(t,e,o);return(n?-1:1)*(i<0?1/-i:i)}function ey(t){return t}var vr=1,yr=2,Hr=3,To=4,pa=1e-6;function ty(t){return"translate("+t+",0)"}function ny(t){return"translate(0,"+t+")"}function oy(t){return e=>+t(e)}function iy(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),o=>+t(o)+e}function ry(){return!this.__axis}function wc(t,e){var o=[],n=null,i=null,r=6,l=6,a=3,s=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=t===vr||t===To?-1:1,f=t===To||t===yr?"x":"y",c=t===vr||t===Hr?ty:ny;function d(m){var _=n??(e.ticks?e.ticks.apply(e,o):e.domain()),h=i??(e.tickFormat?e.tickFormat.apply(e,o):ey),p=Math.max(r,0)+a,w=e.range(),v=+w[0]+s,A=+w[w.length-1]+s,E=(e.bandwidth?iy:oy)(e.copy(),s),j=m.selection?m.selection():m,F=j.selectAll(".domain").data([null]),$=j.selectAll(".tick").data(_,e).order(),P=$.exit(),R=$.enter().append("g").attr("class","tick"),q=$.select("line"),I=$.select("text");F=F.merge(F.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),$=$.merge(R),q=q.merge(R.append("line").attr("stroke","currentColor").attr(f+"2",u*r)),I=I.merge(R.append("text").attr("fill","currentColor").attr(f,u*p).attr("dy",t===vr?"0em":t===Hr?"0.71em":"0.32em")),m!==j&&(F=F.transition(m),$=$.transition(m),q=q.transition(m),I=I.transition(m),P=P.transition(m).attr("opacity",pa).attr("transform",function(C){return isFinite(C=E(C))?c(C+s):this.getAttribute("transform")}),R.attr("opacity",pa).attr("transform",function(C){var k=this.parentNode.__axis;return c((k&&isFinite(k=k(C))?k:E(C))+s)})),P.remove(),F.attr("d",t===To||t===yr?l?"M"+u*l+","+v+"H"+s+"V"+A+"H"+u*l:"M"+s+","+v+"V"+A:l?"M"+v+","+u*l+"V"+s+"H"+A+"V"+u*l:"M"+v+","+s+"H"+A),$.attr("opacity",1).attr("transform",function(C){return c(E(C)+s)}),q.attr(f+"2",u*r),I.attr(f,u*p).text(h),j.filter(ry).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===yr?"start":t===To?"end":"middle"),j.each(function(){this.__axis=E})}return d.scale=function(m){return arguments.length?(e=m,d):e},d.ticks=function(){return o=Array.from(arguments),d},d.tickArguments=function(m){return arguments.length?(o=m==null?[]:Array.from(m),d):o.slice()},d.tickValues=function(m){return arguments.length?(n=m==null?null:Array.from(m),d):n&&n.slice()},d.tickFormat=function(m){return arguments.length?(i=m,d):i},d.tickSize=function(m){return arguments.length?(r=l=+m,d):r},d.tickSizeInner=function(m){return arguments.length?(r=+m,d):r},d.tickSizeOuter=function(m){return arguments.length?(l=+m,d):l},d.tickPadding=function(m){return arguments.length?(a=+m,d):a},d.offset=function(m){return arguments.length?(s=+m,d):s},d}function ly(t){return wc(Hr,t)}function sy(t){return wc(To,t)}var ay={value:()=>{}};function kc(){for(var t=0,e=arguments.length,o={},n;t<e;++t){if(!(n=arguments[t]+"")||n in o||/[\s.]/.test(n))throw new Error("illegal type: "+n);o[n]=[]}return new fi(o)}function fi(t){this._=t}function uy(t,e){return t.trim().split(/^|\s+/).map(function(o){var n="",i=o.indexOf(".");if(i>=0&&(n=o.slice(i+1),o=o.slice(0,i)),o&&!e.hasOwnProperty(o))throw new Error("unknown type: "+o);return{type:o,name:n}})}fi.prototype=kc.prototype={constructor:fi,on:function(t,e){var o=this._,n=uy(t+"",o),i,r=-1,l=n.length;if(arguments.length<2){for(;++r<l;)if((i=(t=n[r]).type)&&(i=fy(o[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++r<l;)if(i=(t=n[r]).type)o[i]=ha(o[i],t.name,e);else if(e==null)for(i in o)o[i]=ha(o[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var o in e)t[o]=e[o].slice();return new fi(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var o=new Array(i),n=0,i,r;n<i;++n)o[n]=arguments[n+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=this._[t],n=0,i=r.length;n<i;++n)r[n].value.apply(e,o)},apply:function(t,e,o){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var n=this._[t],i=0,r=n.length;i<r;++i)n[i].value.apply(e,o)}};function fy(t,e){for(var o=0,n=t.length,i;o<n;++o)if((i=t[o]).name===e)return i.value}function ha(t,e,o){for(var n=0,i=t.length;n<i;++n)if(t[n].name===e){t[n]=ay,t=t.slice(0,n).concat(t.slice(n+1));break}return o!=null&&t.push({name:e,value:o}),t}var Gr="http://www.w3.org/1999/xhtml";const ga={svg:"http://www.w3.org/2000/svg",xhtml:Gr,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Xi(t){var e=t+="",o=e.indexOf(":");return o>=0&&(e=t.slice(0,o))!=="xmlns"&&(t=t.slice(o+1)),ga.hasOwnProperty(e)?{space:ga[e],local:t}:t}function cy(t){return function(){var e=this.ownerDocument,o=this.namespaceURI;return o===Gr&&e.documentElement.namespaceURI===Gr?e.createElement(t):e.createElementNS(o,t)}}function dy(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Cc(t){var e=Xi(t);return(e.local?dy:cy)(e)}function my(){}function bl(t){return t==null?my:function(){return this.querySelector(t)}}function py(t){typeof t!="function"&&(t=bl(t));for(var e=this._groups,o=e.length,n=new Array(o),i=0;i<o;++i)for(var r=e[i],l=r.length,a=n[i]=new Array(l),s,u,f=0;f<l;++f)(s=r[f])&&(u=t.call(s,s.__data__,f,r))&&("__data__"in s&&(u.__data__=s.__data__),a[f]=u);return new Ct(n,this._parents)}function hy(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function gy(){return[]}function Sc(t){return t==null?gy:function(){return this.querySelectorAll(t)}}function _y(t){return function(){return hy(t.apply(this,arguments))}}function by(t){typeof t=="function"?t=_y(t):t=Sc(t);for(var e=this._groups,o=e.length,n=[],i=[],r=0;r<o;++r)for(var l=e[r],a=l.length,s,u=0;u<a;++u)(s=l[u])&&(n.push(t.call(s,s.__data__,u,l)),i.push(s));return new Ct(n,i)}function Ac(t){return function(){return this.matches(t)}}function Tc(t){return function(e){return e.matches(t)}}var vy=Array.prototype.find;function yy(t){return function(){return vy.call(this.children,t)}}function wy(){return this.firstElementChild}function ky(t){return this.select(t==null?wy:yy(typeof t=="function"?t:Tc(t)))}var Cy=Array.prototype.filter;function Sy(){return Array.from(this.children)}function Ay(t){return function(){return Cy.call(this.children,t)}}function Ty(t){return this.selectAll(t==null?Sy:Ay(typeof t=="function"?t:Tc(t)))}function Iy(t){typeof t!="function"&&(t=Ac(t));for(var e=this._groups,o=e.length,n=new Array(o),i=0;i<o;++i)for(var r=e[i],l=r.length,a=n[i]=[],s,u=0;u<l;++u)(s=r[u])&&t.call(s,s.__data__,u,r)&&a.push(s);return new Ct(n,this._parents)}function Ic(t){return new Array(t.length)}function My(){return new Ct(this._enter||this._groups.map(Ic),this._parents)}function Ni(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Ni.prototype={constructor:Ni,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Oy(t){return function(){return t}}function Py(t,e,o,n,i,r){for(var l=0,a,s=e.length,u=r.length;l<u;++l)(a=e[l])?(a.__data__=r[l],n[l]=a):o[l]=new Ni(t,r[l]);for(;l<s;++l)(a=e[l])&&(i[l]=a)}function Ny(t,e,o,n,i,r,l){var a,s,u=new Map,f=e.length,c=r.length,d=new Array(f),m;for(a=0;a<f;++a)(s=e[a])&&(d[a]=m=l.call(s,s.__data__,a,e)+"",u.has(m)?i[a]=s:u.set(m,s));for(a=0;a<c;++a)m=l.call(t,r[a],a,r)+"",(s=u.get(m))?(n[a]=s,s.__data__=r[a],u.delete(m)):o[a]=new Ni(t,r[a]);for(a=0;a<f;++a)(s=e[a])&&u.get(d[a])===s&&(i[a]=s)}function Ey(t){return t.__data__}function Ry(t,e){if(!arguments.length)return Array.from(this,Ey);var o=e?Ny:Py,n=this._parents,i=this._groups;typeof t!="function"&&(t=Oy(t));for(var r=i.length,l=new Array(r),a=new Array(r),s=new Array(r),u=0;u<r;++u){var f=n[u],c=i[u],d=c.length,m=$y(t.call(f,f&&f.__data__,u,n)),_=m.length,h=a[u]=new Array(_),p=l[u]=new Array(_),w=s[u]=new Array(d);o(f,c,h,p,w,m,e);for(var v=0,A=0,E,j;v<_;++v)if(E=h[v]){for(v>=A&&(A=v+1);!(j=p[A])&&++A<_;);E._next=j||null}}return l=new Ct(l,n),l._enter=a,l._exit=s,l}function $y(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Ly(){return new Ct(this._exit||this._groups.map(Ic),this._parents)}function Dy(t,e,o){var n=this.enter(),i=this,r=this.exit();return typeof t=="function"?(n=t(n),n&&(n=n.selection())):n=n.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),o==null?r.remove():o(r),n&&i?n.merge(i).order():i}function jy(t){for(var e=t.selection?t.selection():t,o=this._groups,n=e._groups,i=o.length,r=n.length,l=Math.min(i,r),a=new Array(i),s=0;s<l;++s)for(var u=o[s],f=n[s],c=u.length,d=a[s]=new Array(c),m,_=0;_<c;++_)(m=u[_]||f[_])&&(d[_]=m);for(;s<i;++s)a[s]=o[s];return new Ct(a,this._parents)}function Fy(){for(var t=this._groups,e=-1,o=t.length;++e<o;)for(var n=t[e],i=n.length-1,r=n[i],l;--i>=0;)(l=n[i])&&(r&&l.compareDocumentPosition(r)^4&&r.parentNode.insertBefore(l,r),r=l);return this}function By(t){t||(t=qy);function e(c,d){return c&&d?t(c.__data__,d.__data__):!c-!d}for(var o=this._groups,n=o.length,i=new Array(n),r=0;r<n;++r){for(var l=o[r],a=l.length,s=i[r]=new Array(a),u,f=0;f<a;++f)(u=l[f])&&(s[f]=u);s.sort(e)}return new Ct(i,this._parents).order()}function qy(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function xy(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Hy(){return Array.from(this)}function Gy(){for(var t=this._groups,e=0,o=t.length;e<o;++e)for(var n=t[e],i=0,r=n.length;i<r;++i){var l=n[i];if(l)return l}return null}function Vy(){let t=0;for(const e of this)++t;return t}function Wy(){return!this.node()}function Yy(t){for(var e=this._groups,o=0,n=e.length;o<n;++o)for(var i=e[o],r=0,l=i.length,a;r<l;++r)(a=i[r])&&t.call(a,a.__data__,r,i);return this}function Uy(t){return function(){this.removeAttribute(t)}}function Ky(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Jy(t,e){return function(){this.setAttribute(t,e)}}function Xy(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Zy(t,e){return function(){var o=e.apply(this,arguments);o==null?this.removeAttribute(t):this.setAttribute(t,o)}}function Qy(t,e){return function(){var o=e.apply(this,arguments);o==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,o)}}function zy(t,e){var o=Xi(t);if(arguments.length<2){var n=this.node();return o.local?n.getAttributeNS(o.space,o.local):n.getAttribute(o)}return this.each((e==null?o.local?Ky:Uy:typeof e=="function"?o.local?Qy:Zy:o.local?Xy:Jy)(o,e))}function Mc(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function ew(t){return function(){this.style.removeProperty(t)}}function tw(t,e,o){return function(){this.style.setProperty(t,e,o)}}function nw(t,e,o){return function(){var n=e.apply(this,arguments);n==null?this.style.removeProperty(t):this.style.setProperty(t,n,o)}}function ow(t,e,o){return arguments.length>1?this.each((e==null?ew:typeof e=="function"?nw:tw)(t,e,o??"")):io(this.node(),t)}function io(t,e){return t.style.getPropertyValue(e)||Mc(t).getComputedStyle(t,null).getPropertyValue(e)}function iw(t){return function(){delete this[t]}}function rw(t,e){return function(){this[t]=e}}function lw(t,e){return function(){var o=e.apply(this,arguments);o==null?delete this[t]:this[t]=o}}function sw(t,e){return arguments.length>1?this.each((e==null?iw:typeof e=="function"?lw:rw)(t,e)):this.node()[t]}function Oc(t){return t.trim().split(/^|\s+/)}function vl(t){return t.classList||new Pc(t)}function Pc(t){this._node=t,this._names=Oc(t.getAttribute("class")||"")}Pc.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Nc(t,e){for(var o=vl(t),n=-1,i=e.length;++n<i;)o.add(e[n])}function Ec(t,e){for(var o=vl(t),n=-1,i=e.length;++n<i;)o.remove(e[n])}function aw(t){return function(){Nc(this,t)}}function uw(t){return function(){Ec(this,t)}}function fw(t,e){return function(){(e.apply(this,arguments)?Nc:Ec)(this,t)}}function cw(t,e){var o=Oc(t+"");if(arguments.length<2){for(var n=vl(this.node()),i=-1,r=o.length;++i<r;)if(!n.contains(o[i]))return!1;return!0}return this.each((typeof e=="function"?fw:e?aw:uw)(o,e))}function dw(){this.textContent=""}function mw(t){return function(){this.textContent=t}}function pw(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function hw(t){return arguments.length?this.each(t==null?dw:(typeof t=="function"?pw:mw)(t)):this.node().textContent}function gw(){this.innerHTML=""}function _w(t){return function(){this.innerHTML=t}}function bw(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function vw(t){return arguments.length?this.each(t==null?gw:(typeof t=="function"?bw:_w)(t)):this.node().innerHTML}function yw(){this.nextSibling&&this.parentNode.appendChild(this)}function ww(){return this.each(yw)}function kw(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Cw(){return this.each(kw)}function Sw(t){var e=typeof t=="function"?t:Cc(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Aw(){return null}function Tw(t,e){var o=typeof t=="function"?t:Cc(t),n=e==null?Aw:typeof e=="function"?e:bl(e);return this.select(function(){return this.insertBefore(o.apply(this,arguments),n.apply(this,arguments)||null)})}function Iw(){var t=this.parentNode;t&&t.removeChild(this)}function Mw(){return this.each(Iw)}function Ow(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Pw(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Nw(t){return this.select(t?Pw:Ow)}function Ew(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Rw(t){return function(e){t.call(this,e,this.__data__)}}function $w(t){return t.trim().split(/^|\s+/).map(function(e){var o="",n=e.indexOf(".");return n>=0&&(o=e.slice(n+1),e=e.slice(0,n)),{type:e,name:o}})}function Lw(t){return function(){var e=this.__on;if(e){for(var o=0,n=-1,i=e.length,r;o<i;++o)r=e[o],(!t.type||r.type===t.type)&&r.name===t.name?this.removeEventListener(r.type,r.listener,r.options):e[++n]=r;++n?e.length=n:delete this.__on}}}function Dw(t,e,o){return function(){var n=this.__on,i,r=Rw(e);if(n){for(var l=0,a=n.length;l<a;++l)if((i=n[l]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=r,i.options=o),i.value=e;return}}this.addEventListener(t.type,r,o),i={type:t.type,name:t.name,value:e,listener:r,options:o},n?n.push(i):this.__on=[i]}}function jw(t,e,o){var n=$w(t+""),i,r=n.length,l;if(arguments.length<2){var a=this.node().__on;if(a){for(var s=0,u=a.length,f;s<u;++s)for(i=0,f=a[s];i<r;++i)if((l=n[i]).type===f.type&&l.name===f.name)return f.value}return}for(a=e?Dw:Lw,i=0;i<r;++i)this.each(a(n[i],e,o));return this}function Rc(t,e,o){var n=Mc(t),i=n.CustomEvent;typeof i=="function"?i=new i(e,o):(i=n.document.createEvent("Event"),o?(i.initEvent(e,o.bubbles,o.cancelable),i.detail=o.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Fw(t,e){return function(){return Rc(this,t,e)}}function Bw(t,e){return function(){return Rc(this,t,e.apply(this,arguments))}}function qw(t,e){return this.each((typeof e=="function"?Bw:Fw)(t,e))}function*xw(){for(var t=this._groups,e=0,o=t.length;e<o;++e)for(var n=t[e],i=0,r=n.length,l;i<r;++i)(l=n[i])&&(yield l)}var $c=[null];function Ct(t,e){this._groups=t,this._parents=e}function Uo(){return new Ct([[document.documentElement]],$c)}function Hw(){return this}Ct.prototype=Uo.prototype={constructor:Ct,select:py,selectAll:by,selectChild:ky,selectChildren:Ty,filter:Iy,data:Ry,enter:My,exit:Ly,join:Dy,merge:jy,selection:Hw,order:Fy,sort:By,call:xy,nodes:Hy,node:Gy,size:Vy,empty:Wy,each:Yy,attr:zy,style:ow,property:sw,classed:cw,text:hw,html:vw,raise:ww,lower:Cw,append:Sw,insert:Tw,remove:Mw,clone:Nw,datum:Ew,on:jw,dispatch:qw,[Symbol.iterator]:xw};function Gw(t){return typeof t=="string"?new Ct([[document.querySelector(t)]],[document.documentElement]):new Ct([[t]],$c)}function yl(t,e,o){t.prototype=e.prototype=o,o.constructor=t}function Lc(t,e){var o=Object.create(t.prototype);for(var n in e)o[n]=e[n];return o}function Ko(){}var Bo=.7,Ei=1/Bo,Zn="\\s*([+-]?\\d+)\\s*",qo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",qt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Vw=/^#([0-9a-f]{3,8})$/,Ww=new RegExp(`^rgb\\(${Zn},${Zn},${Zn}\\)$`),Yw=new RegExp(`^rgb\\(${qt},${qt},${qt}\\)$`),Uw=new RegExp(`^rgba\\(${Zn},${Zn},${Zn},${qo}\\)$`),Kw=new RegExp(`^rgba\\(${qt},${qt},${qt},${qo}\\)$`),Jw=new RegExp(`^hsl\\(${qo},${qt},${qt}\\)$`),Xw=new RegExp(`^hsla\\(${qo},${qt},${qt},${qo}\\)$`),_a={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};yl(Ko,En,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:ba,formatHex:ba,formatHex8:Zw,formatHsl:Qw,formatRgb:va,toString:va});function ba(){return this.rgb().formatHex()}function Zw(){return this.rgb().formatHex8()}function Qw(){return Dc(this).formatHsl()}function va(){return this.rgb().formatRgb()}function En(t){var e,o;return t=(t+"").trim().toLowerCase(),(e=Vw.exec(t))?(o=e[1].length,e=parseInt(e[1],16),o===6?ya(e):o===3?new _t(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):o===8?ti(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):o===4?ti(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Ww.exec(t))?new _t(e[1],e[2],e[3],1):(e=Yw.exec(t))?new _t(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Uw.exec(t))?ti(e[1],e[2],e[3],e[4]):(e=Kw.exec(t))?ti(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Jw.exec(t))?Ca(e[1],e[2]/100,e[3]/100,1):(e=Xw.exec(t))?Ca(e[1],e[2]/100,e[3]/100,e[4]):_a.hasOwnProperty(t)?ya(_a[t]):t==="transparent"?new _t(NaN,NaN,NaN,0):null}function ya(t){return new _t(t>>16&255,t>>8&255,t&255,1)}function ti(t,e,o,n){return n<=0&&(t=e=o=NaN),new _t(t,e,o,n)}function zw(t){return t instanceof Ko||(t=En(t)),t?(t=t.rgb(),new _t(t.r,t.g,t.b,t.opacity)):new _t}function Vr(t,e,o,n){return arguments.length===1?zw(t):new _t(t,e,o,n??1)}function _t(t,e,o,n){this.r=+t,this.g=+e,this.b=+o,this.opacity=+n}yl(_t,Vr,Lc(Ko,{brighter(t){return t=t==null?Ei:Math.pow(Ei,t),new _t(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Bo:Math.pow(Bo,t),new _t(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new _t(An(this.r),An(this.g),An(this.b),Ri(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:wa,formatHex:wa,formatHex8:e2,formatRgb:ka,toString:ka}));function wa(){return`#${kn(this.r)}${kn(this.g)}${kn(this.b)}`}function e2(){return`#${kn(this.r)}${kn(this.g)}${kn(this.b)}${kn((isNaN(this.opacity)?1:this.opacity)*255)}`}function ka(){const t=Ri(this.opacity);return`${t===1?"rgb(":"rgba("}${An(this.r)}, ${An(this.g)}, ${An(this.b)}${t===1?")":`, ${t})`}`}function Ri(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function An(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function kn(t){return t=An(t),(t<16?"0":"")+t.toString(16)}function Ca(t,e,o,n){return n<=0?t=e=o=NaN:o<=0||o>=1?t=e=NaN:e<=0&&(t=NaN),new Et(t,e,o,n)}function Dc(t){if(t instanceof Et)return new Et(t.h,t.s,t.l,t.opacity);if(t instanceof Ko||(t=En(t)),!t)return new Et;if(t instanceof Et)return t;t=t.rgb();var e=t.r/255,o=t.g/255,n=t.b/255,i=Math.min(e,o,n),r=Math.max(e,o,n),l=NaN,a=r-i,s=(r+i)/2;return a?(e===r?l=(o-n)/a+(o<n)*6:o===r?l=(n-e)/a+2:l=(e-o)/a+4,a/=s<.5?r+i:2-r-i,l*=60):a=s>0&&s<1?0:l,new Et(l,a,s,t.opacity)}function t2(t,e,o,n){return arguments.length===1?Dc(t):new Et(t,e,o,n??1)}function Et(t,e,o,n){this.h=+t,this.s=+e,this.l=+o,this.opacity=+n}yl(Et,t2,Lc(Ko,{brighter(t){return t=t==null?Ei:Math.pow(Ei,t),new Et(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Bo:Math.pow(Bo,t),new Et(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,o=this.l,n=o+(o<.5?o:1-o)*e,i=2*o-n;return new _t(wr(t>=240?t-240:t+120,i,n),wr(t,i,n),wr(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new Et(Sa(this.h),ni(this.s),ni(this.l),Ri(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ri(this.opacity);return`${t===1?"hsl(":"hsla("}${Sa(this.h)}, ${ni(this.s)*100}%, ${ni(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Sa(t){return t=(t||0)%360,t<0?t+360:t}function ni(t){return Math.max(0,Math.min(1,t||0))}function wr(t,e,o){return(t<60?e+(o-e)*t/60:t<180?o:t<240?e+(o-e)*(240-t)/60:e)*255}const wl=t=>()=>t;function n2(t,e){return function(o){return t+o*e}}function o2(t,e,o){return t=Math.pow(t,o),e=Math.pow(e,o)-t,o=1/o,function(n){return Math.pow(t+n*e,o)}}function i2(t){return(t=+t)==1?jc:function(e,o){return o-e?o2(e,o,t):wl(isNaN(e)?o:e)}}function jc(t,e){var o=e-t;return o?n2(t,o):wl(isNaN(t)?e:t)}const $i=function t(e){var o=i2(e);function n(i,r){var l=o((i=Vr(i)).r,(r=Vr(r)).r),a=o(i.g,r.g),s=o(i.b,r.b),u=jc(i.opacity,r.opacity);return function(f){return i.r=l(f),i.g=a(f),i.b=s(f),i.opacity=u(f),i+""}}return n.gamma=t,n}(1);function r2(t,e){e||(e=[]);var o=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(r){for(i=0;i<o;++i)n[i]=t[i]*(1-r)+e[i]*r;return n}}function l2(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function s2(t,e){var o=e?e.length:0,n=t?Math.min(o,t.length):0,i=new Array(n),r=new Array(o),l;for(l=0;l<n;++l)i[l]=kl(t[l],e[l]);for(;l<o;++l)r[l]=e[l];return function(a){for(l=0;l<n;++l)r[l]=i[l](a);return r}}function a2(t,e){var o=new Date;return t=+t,e=+e,function(n){return o.setTime(t*(1-n)+e*n),o}}function Nt(t,e){return t=+t,e=+e,function(o){return t*(1-o)+e*o}}function u2(t,e){var o={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?o[i]=kl(t[i],e[i]):n[i]=e[i];return function(r){for(i in o)n[i]=o[i](r);return n}}var Wr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,kr=new RegExp(Wr.source,"g");function f2(t){return function(){return t}}function c2(t){return function(e){return t(e)+""}}function Fc(t,e){var o=Wr.lastIndex=kr.lastIndex=0,n,i,r,l=-1,a=[],s=[];for(t=t+"",e=e+"";(n=Wr.exec(t))&&(i=kr.exec(e));)(r=i.index)>o&&(r=e.slice(o,r),a[l]?a[l]+=r:a[++l]=r),(n=n[0])===(i=i[0])?a[l]?a[l]+=i:a[++l]=i:(a[++l]=null,s.push({i:l,x:Nt(n,i)})),o=kr.lastIndex;return o<e.length&&(r=e.slice(o),a[l]?a[l]+=r:a[++l]=r),a.length<2?s[0]?c2(s[0].x):f2(e):(e=s.length,function(u){for(var f=0,c;f<e;++f)a[(c=s[f]).i]=c.x(u);return a.join("")})}function kl(t,e){var o=typeof e,n;return e==null||o==="boolean"?wl(e):(o==="number"?Nt:o==="string"?(n=En(e))?(e=n,$i):Fc:e instanceof En?$i:e instanceof Date?a2:l2(e)?r2:Array.isArray(e)?s2:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?u2:Nt)(t,e)}function d2(t,e){return t=+t,e=+e,function(o){return Math.round(t*(1-o)+e*o)}}var Aa=180/Math.PI,Yr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Bc(t,e,o,n,i,r){var l,a,s;return(l=Math.sqrt(t*t+e*e))&&(t/=l,e/=l),(s=t*o+e*n)&&(o-=t*s,n-=e*s),(a=Math.sqrt(o*o+n*n))&&(o/=a,n/=a,s/=a),t*n<e*o&&(t=-t,e=-e,s=-s,l=-l),{translateX:i,translateY:r,rotate:Math.atan2(e,t)*Aa,skewX:Math.atan(s)*Aa,scaleX:l,scaleY:a}}var oi;function m2(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Yr:Bc(e.a,e.b,e.c,e.d,e.e,e.f)}function p2(t){return t==null||(oi||(oi=document.createElementNS("http://www.w3.org/2000/svg","g")),oi.setAttribute("transform",t),!(t=oi.transform.baseVal.consolidate()))?Yr:(t=t.matrix,Bc(t.a,t.b,t.c,t.d,t.e,t.f))}function qc(t,e,o,n){function i(u){return u.length?u.pop()+" ":""}function r(u,f,c,d,m,_){if(u!==c||f!==d){var h=m.push("translate(",null,e,null,o);_.push({i:h-4,x:Nt(u,c)},{i:h-2,x:Nt(f,d)})}else(c||d)&&m.push("translate("+c+e+d+o)}function l(u,f,c,d){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),d.push({i:c.push(i(c)+"rotate(",null,n)-2,x:Nt(u,f)})):f&&c.push(i(c)+"rotate("+f+n)}function a(u,f,c,d){u!==f?d.push({i:c.push(i(c)+"skewX(",null,n)-2,x:Nt(u,f)}):f&&c.push(i(c)+"skewX("+f+n)}function s(u,f,c,d,m,_){if(u!==c||f!==d){var h=m.push(i(m)+"scale(",null,",",null,")");_.push({i:h-4,x:Nt(u,c)},{i:h-2,x:Nt(f,d)})}else(c!==1||d!==1)&&m.push(i(m)+"scale("+c+","+d+")")}return function(u,f){var c=[],d=[];return u=t(u),f=t(f),r(u.translateX,u.translateY,f.translateX,f.translateY,c,d),l(u.rotate,f.rotate,c,d),a(u.skewX,f.skewX,c,d),s(u.scaleX,u.scaleY,f.scaleX,f.scaleY,c,d),u=f=null,function(m){for(var _=-1,h=d.length,p;++_<h;)c[(p=d[_]).i]=p.x(m);return c.join("")}}}var h2=qc(m2,"px, ","px)","deg)"),g2=qc(p2,", ",")",")"),ro=0,Io=0,Co=0,xc=1e3,Li,Mo,Di=0,Rn=0,Zi=0,xo=typeof performance=="object"&&performance.now?performance:Date,Hc=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Cl(){return Rn||(Hc(_2),Rn=xo.now()+Zi)}function _2(){Rn=0}function ji(){this._call=this._time=this._next=null}ji.prototype=Gc.prototype={constructor:ji,restart:function(t,e,o){if(typeof t!="function")throw new TypeError("callback is not a function");o=(o==null?Cl():+o)+(e==null?0:+e),!this._next&&Mo!==this&&(Mo?Mo._next=this:Li=this,Mo=this),this._call=t,this._time=o,Ur()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ur())}};function Gc(t,e,o){var n=new ji;return n.restart(t,e,o),n}function b2(){Cl(),++ro;for(var t=Li,e;t;)(e=Rn-t._time)>=0&&t._call.call(void 0,e),t=t._next;--ro}function Ta(){Rn=(Di=xo.now())+Zi,ro=Io=0;try{b2()}finally{ro=0,y2(),Rn=0}}function v2(){var t=xo.now(),e=t-Di;e>xc&&(Zi-=e,Di=t)}function y2(){for(var t,e=Li,o,n=1/0;e;)e._call?(n>e._time&&(n=e._time),t=e,e=e._next):(o=e._next,e._next=null,e=t?t._next=o:Li=o);Mo=t,Ur(n)}function Ur(t){if(!ro){Io&&(Io=clearTimeout(Io));var e=t-Rn;e>24?(t<1/0&&(Io=setTimeout(Ta,t-xo.now()-Zi)),Co&&(Co=clearInterval(Co))):(Co||(Di=xo.now(),Co=setInterval(v2,xc)),ro=1,Hc(Ta))}}function Ia(t,e,o){var n=new ji;return e=e==null?0:+e,n.restart(i=>{n.stop(),t(i+e)},e,o),n}var w2=kc("start","end","cancel","interrupt"),k2=[],Vc=0,Ma=1,Kr=2,ci=3,Oa=4,Jr=5,di=6;function Qi(t,e,o,n,i,r){var l=t.__transition;if(!l)t.__transition={};else if(o in l)return;C2(t,o,{name:e,index:n,group:i,on:w2,tween:k2,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:Vc})}function Sl(t,e){var o=Lt(t,e);if(o.state>Vc)throw new Error("too late; already scheduled");return o}function Kt(t,e){var o=Lt(t,e);if(o.state>ci)throw new Error("too late; already running");return o}function Lt(t,e){var o=t.__transition;if(!o||!(o=o[e]))throw new Error("transition not found");return o}function C2(t,e,o){var n=t.__transition,i;n[e]=o,o.timer=Gc(r,0,o.time);function r(u){o.state=Ma,o.timer.restart(l,o.delay,o.time),o.delay<=u&&l(u-o.delay)}function l(u){var f,c,d,m;if(o.state!==Ma)return s();for(f in n)if(m=n[f],m.name===o.name){if(m.state===ci)return Ia(l);m.state===Oa?(m.state=di,m.timer.stop(),m.on.call("interrupt",t,t.__data__,m.index,m.group),delete n[f]):+f<e&&(m.state=di,m.timer.stop(),m.on.call("cancel",t,t.__data__,m.index,m.group),delete n[f])}if(Ia(function(){o.state===ci&&(o.state=Oa,o.timer.restart(a,o.delay,o.time),a(u))}),o.state=Kr,o.on.call("start",t,t.__data__,o.index,o.group),o.state===Kr){for(o.state=ci,i=new Array(d=o.tween.length),f=0,c=-1;f<d;++f)(m=o.tween[f].value.call(t,t.__data__,o.index,o.group))&&(i[++c]=m);i.length=c+1}}function a(u){for(var f=u<o.duration?o.ease.call(null,u/o.duration):(o.timer.restart(s),o.state=Jr,1),c=-1,d=i.length;++c<d;)i[c].call(t,f);o.state===Jr&&(o.on.call("end",t,t.__data__,o.index,o.group),s())}function s(){o.state=di,o.timer.stop(),delete n[e];for(var u in n)return;delete t.__transition}}function S2(t,e){var o=t.__transition,n,i,r=!0,l;if(o){e=e==null?null:e+"";for(l in o){if((n=o[l]).name!==e){r=!1;continue}i=n.state>Kr&&n.state<Jr,n.state=di,n.timer.stop(),n.on.call(i?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[l]}r&&delete t.__transition}}function A2(t){return this.each(function(){S2(this,t)})}function T2(t,e){var o,n;return function(){var i=Kt(this,t),r=i.tween;if(r!==o){n=o=r;for(var l=0,a=n.length;l<a;++l)if(n[l].name===e){n=n.slice(),n.splice(l,1);break}}i.tween=n}}function I2(t,e,o){var n,i;if(typeof o!="function")throw new Error;return function(){var r=Kt(this,t),l=r.tween;if(l!==n){i=(n=l).slice();for(var a={name:e,value:o},s=0,u=i.length;s<u;++s)if(i[s].name===e){i[s]=a;break}s===u&&i.push(a)}r.tween=i}}function M2(t,e){var o=this._id;if(t+="",arguments.length<2){for(var n=Lt(this.node(),o).tween,i=0,r=n.length,l;i<r;++i)if((l=n[i]).name===t)return l.value;return null}return this.each((e==null?T2:I2)(o,t,e))}function Al(t,e,o){var n=t._id;return t.each(function(){var i=Kt(this,n);(i.value||(i.value={}))[e]=o.apply(this,arguments)}),function(i){return Lt(i,n).value[e]}}function Wc(t,e){var o;return(typeof e=="number"?Nt:e instanceof En?$i:(o=En(e))?(e=o,$i):Fc)(t,e)}function O2(t){return function(){this.removeAttribute(t)}}function P2(t){return function(){this.removeAttributeNS(t.space,t.local)}}function N2(t,e,o){var n,i=o+"",r;return function(){var l=this.getAttribute(t);return l===i?null:l===n?r:r=e(n=l,o)}}function E2(t,e,o){var n,i=o+"",r;return function(){var l=this.getAttributeNS(t.space,t.local);return l===i?null:l===n?r:r=e(n=l,o)}}function R2(t,e,o){var n,i,r;return function(){var l,a=o(this),s;return a==null?void this.removeAttribute(t):(l=this.getAttribute(t),s=a+"",l===s?null:l===n&&s===i?r:(i=s,r=e(n=l,a)))}}function $2(t,e,o){var n,i,r;return function(){var l,a=o(this),s;return a==null?void this.removeAttributeNS(t.space,t.local):(l=this.getAttributeNS(t.space,t.local),s=a+"",l===s?null:l===n&&s===i?r:(i=s,r=e(n=l,a)))}}function L2(t,e){var o=Xi(t),n=o==="transform"?g2:Wc;return this.attrTween(t,typeof e=="function"?(o.local?$2:R2)(o,n,Al(this,"attr."+t,e)):e==null?(o.local?P2:O2)(o):(o.local?E2:N2)(o,n,e))}function D2(t,e){return function(o){this.setAttribute(t,e.call(this,o))}}function j2(t,e){return function(o){this.setAttributeNS(t.space,t.local,e.call(this,o))}}function F2(t,e){var o,n;function i(){var r=e.apply(this,arguments);return r!==n&&(o=(n=r)&&j2(t,r)),o}return i._value=e,i}function B2(t,e){var o,n;function i(){var r=e.apply(this,arguments);return r!==n&&(o=(n=r)&&D2(t,r)),o}return i._value=e,i}function q2(t,e){var o="attr."+t;if(arguments.length<2)return(o=this.tween(o))&&o._value;if(e==null)return this.tween(o,null);if(typeof e!="function")throw new Error;var n=Xi(t);return this.tween(o,(n.local?F2:B2)(n,e))}function x2(t,e){return function(){Sl(this,t).delay=+e.apply(this,arguments)}}function H2(t,e){return e=+e,function(){Sl(this,t).delay=e}}function G2(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?x2:H2)(e,t)):Lt(this.node(),e).delay}function V2(t,e){return function(){Kt(this,t).duration=+e.apply(this,arguments)}}function W2(t,e){return e=+e,function(){Kt(this,t).duration=e}}function Y2(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?V2:W2)(e,t)):Lt(this.node(),e).duration}function U2(t,e){if(typeof e!="function")throw new Error;return function(){Kt(this,t).ease=e}}function K2(t){var e=this._id;return arguments.length?this.each(U2(e,t)):Lt(this.node(),e).ease}function J2(t,e){return function(){var o=e.apply(this,arguments);if(typeof o!="function")throw new Error;Kt(this,t).ease=o}}function X2(t){if(typeof t!="function")throw new Error;return this.each(J2(this._id,t))}function Z2(t){typeof t!="function"&&(t=Ac(t));for(var e=this._groups,o=e.length,n=new Array(o),i=0;i<o;++i)for(var r=e[i],l=r.length,a=n[i]=[],s,u=0;u<l;++u)(s=r[u])&&t.call(s,s.__data__,u,r)&&a.push(s);return new en(n,this._parents,this._name,this._id)}function Q2(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,o=t._groups,n=e.length,i=o.length,r=Math.min(n,i),l=new Array(n),a=0;a<r;++a)for(var s=e[a],u=o[a],f=s.length,c=l[a]=new Array(f),d,m=0;m<f;++m)(d=s[m]||u[m])&&(c[m]=d);for(;a<n;++a)l[a]=e[a];return new en(l,this._parents,this._name,this._id)}function z2(t){return(t+"").trim().split(/^|\s+/).every(function(e){var o=e.indexOf(".");return o>=0&&(e=e.slice(0,o)),!e||e==="start"})}function ek(t,e,o){var n,i,r=z2(e)?Sl:Kt;return function(){var l=r(this,t),a=l.on;a!==n&&(i=(n=a).copy()).on(e,o),l.on=i}}function tk(t,e){var o=this._id;return arguments.length<2?Lt(this.node(),o).on.on(t):this.each(ek(o,t,e))}function nk(t){return function(){var e=this.parentNode;for(var o in this.__transition)if(+o!==t)return;e&&e.removeChild(this)}}function ok(){return this.on("end.remove",nk(this._id))}function ik(t){var e=this._name,o=this._id;typeof t!="function"&&(t=bl(t));for(var n=this._groups,i=n.length,r=new Array(i),l=0;l<i;++l)for(var a=n[l],s=a.length,u=r[l]=new Array(s),f,c,d=0;d<s;++d)(f=a[d])&&(c=t.call(f,f.__data__,d,a))&&("__data__"in f&&(c.__data__=f.__data__),u[d]=c,Qi(u[d],e,o,d,u,Lt(f,o)));return new en(r,this._parents,e,o)}function rk(t){var e=this._name,o=this._id;typeof t!="function"&&(t=Sc(t));for(var n=this._groups,i=n.length,r=[],l=[],a=0;a<i;++a)for(var s=n[a],u=s.length,f,c=0;c<u;++c)if(f=s[c]){for(var d=t.call(f,f.__data__,c,s),m,_=Lt(f,o),h=0,p=d.length;h<p;++h)(m=d[h])&&Qi(m,e,o,h,d,_);r.push(d),l.push(f)}return new en(r,l,e,o)}var lk=Uo.prototype.constructor;function sk(){return new lk(this._groups,this._parents)}function ak(t,e){var o,n,i;return function(){var r=io(this,t),l=(this.style.removeProperty(t),io(this,t));return r===l?null:r===o&&l===n?i:i=e(o=r,n=l)}}function Yc(t){return function(){this.style.removeProperty(t)}}function uk(t,e,o){var n,i=o+"",r;return function(){var l=io(this,t);return l===i?null:l===n?r:r=e(n=l,o)}}function fk(t,e,o){var n,i,r;return function(){var l=io(this,t),a=o(this),s=a+"";return a==null&&(s=a=(this.style.removeProperty(t),io(this,t))),l===s?null:l===n&&s===i?r:(i=s,r=e(n=l,a))}}function ck(t,e){var o,n,i,r="style."+e,l="end."+r,a;return function(){var s=Kt(this,t),u=s.on,f=s.value[r]==null?a||(a=Yc(e)):void 0;(u!==o||i!==f)&&(n=(o=u).copy()).on(l,i=f),s.on=n}}function dk(t,e,o){var n=(t+="")=="transform"?h2:Wc;return e==null?this.styleTween(t,ak(t,n)).on("end.style."+t,Yc(t)):typeof e=="function"?this.styleTween(t,fk(t,n,Al(this,"style."+t,e))).each(ck(this._id,t)):this.styleTween(t,uk(t,n,e),o).on("end.style."+t,null)}function mk(t,e,o){return function(n){this.style.setProperty(t,e.call(this,n),o)}}function pk(t,e,o){var n,i;function r(){var l=e.apply(this,arguments);return l!==i&&(n=(i=l)&&mk(t,l,o)),n}return r._value=e,r}function hk(t,e,o){var n="style."+(t+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;return this.tween(n,pk(t,e,o??""))}function gk(t){return function(){this.textContent=t}}function _k(t){return function(){var e=t(this);this.textContent=e??""}}function bk(t){return this.tween("text",typeof t=="function"?_k(Al(this,"text",t)):gk(t==null?"":t+""))}function vk(t){return function(e){this.textContent=t.call(this,e)}}function yk(t){var e,o;function n(){var i=t.apply(this,arguments);return i!==o&&(e=(o=i)&&vk(i)),e}return n._value=t,n}function wk(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,yk(t))}function kk(){for(var t=this._name,e=this._id,o=Uc(),n=this._groups,i=n.length,r=0;r<i;++r)for(var l=n[r],a=l.length,s,u=0;u<a;++u)if(s=l[u]){var f=Lt(s,e);Qi(s,t,o,u,l,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new en(n,this._parents,t,o)}function Ck(){var t,e,o=this,n=o._id,i=o.size();return new Promise(function(r,l){var a={value:l},s={value:function(){--i===0&&r()}};o.each(function(){var u=Kt(this,n),f=u.on;f!==t&&(e=(t=f).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(s)),u.on=e}),i===0&&r()})}var Sk=0;function en(t,e,o,n){this._groups=t,this._parents=e,this._name=o,this._id=n}function Uc(){return++Sk}var Xt=Uo.prototype;en.prototype={constructor:en,select:ik,selectAll:rk,selectChild:Xt.selectChild,selectChildren:Xt.selectChildren,filter:Z2,merge:Q2,selection:sk,transition:kk,call:Xt.call,nodes:Xt.nodes,node:Xt.node,size:Xt.size,empty:Xt.empty,each:Xt.each,on:tk,attr:L2,attrTween:q2,style:dk,styleTween:hk,text:bk,textTween:wk,remove:ok,tween:M2,delay:G2,duration:Y2,ease:K2,easeVarying:X2,end:Ck,[Symbol.iterator]:Xt[Symbol.iterator]};function Ak(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Tk={time:null,delay:0,duration:250,ease:Ak};function Ik(t,e){for(var o;!(o=t.__transition)||!(o=o[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return o}function Mk(t){var e,o;t instanceof en?(e=t._id,t=t._name):(e=Uc(),(o=Tk).time=Cl(),t=t==null?null:t+"");for(var n=this._groups,i=n.length,r=0;r<i;++r)for(var l=n[r],a=l.length,s,u=0;u<a;++u)(s=l[u])&&Qi(s,t,e,u,l,o||Ik(s,e));return new en(n,this._parents,t,e)}Uo.prototype.interrupt=A2;Uo.prototype.transition=Mk;const Xr=Math.PI,Zr=2*Xr,vn=1e-6,Ok=Zr-vn;function Kc(t){this._+=t[0];for(let e=1,o=t.length;e<o;++e)this._+=arguments[e]+t[e]}function Pk(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Kc;const o=10**e;return function(n){this._+=n[0];for(let i=1,r=n.length;i<r;++i)this._+=Math.round(arguments[i]*o)/o+n[i]}}class Nk{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Kc:Pk(e)}moveTo(e,o){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+o}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,o){this._append`L${this._x1=+e},${this._y1=+o}`}quadraticCurveTo(e,o,n,i){this._append`Q${+e},${+o},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,o,n,i,r,l){this._append`C${+e},${+o},${+n},${+i},${this._x1=+r},${this._y1=+l}`}arcTo(e,o,n,i,r){if(e=+e,o=+o,n=+n,i=+i,r=+r,r<0)throw new Error(`negative radius: ${r}`);let l=this._x1,a=this._y1,s=n-e,u=i-o,f=l-e,c=a-o,d=f*f+c*c;if(this._x1===null)this._append`M${this._x1=e},${this._y1=o}`;else if(d>vn)if(!(Math.abs(c*s-u*f)>vn)||!r)this._append`L${this._x1=e},${this._y1=o}`;else{let m=n-l,_=i-a,h=s*s+u*u,p=m*m+_*_,w=Math.sqrt(h),v=Math.sqrt(d),A=r*Math.tan((Xr-Math.acos((h+d-p)/(2*w*v)))/2),E=A/v,j=A/w;Math.abs(E-1)>vn&&this._append`L${e+E*f},${o+E*c}`,this._append`A${r},${r},0,0,${+(c*m>f*_)},${this._x1=e+j*s},${this._y1=o+j*u}`}}arc(e,o,n,i,r,l){if(e=+e,o=+o,n=+n,l=!!l,n<0)throw new Error(`negative radius: ${n}`);let a=n*Math.cos(i),s=n*Math.sin(i),u=e+a,f=o+s,c=1^l,d=l?i-r:r-i;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>vn||Math.abs(this._y1-f)>vn)&&this._append`L${u},${f}`,n&&(d<0&&(d=d%Zr+Zr),d>Ok?this._append`A${n},${n},0,1,${c},${e-a},${o-s}A${n},${n},0,1,${c},${this._x1=u},${this._y1=f}`:d>vn&&this._append`A${n},${n},0,${+(d>=Xr)},${c},${this._x1=e+n*Math.cos(r)},${this._y1=o+n*Math.sin(r)}`)}rect(e,o,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+o}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function Ek(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Fi(t,e){if((o=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var o,n=t.slice(0,o);return[n.length>1?n[0]+n.slice(2):n,+t.slice(o+1)]}function lo(t){return t=Fi(Math.abs(t)),t?t[1]:NaN}function Rk(t,e){return function(o,n){for(var i=o.length,r=[],l=0,a=t[0],s=0;i>0&&a>0&&(s+a+1>n&&(a=Math.max(1,n-s)),r.push(o.substring(i-=a,i+a)),!((s+=a+1)>n));)a=t[l=(l+1)%t.length];return r.reverse().join(e)}}function $k(t){return function(e){return e.replace(/[0-9]/g,function(o){return t[+o]})}}var Lk=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Bi(t){if(!(e=Lk.exec(t)))throw new Error("invalid format: "+t);var e;return new Tl({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Bi.prototype=Tl.prototype;function Tl(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Tl.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Dk(t){e:for(var e=t.length,o=1,n=-1,i;o<e;++o)switch(t[o]){case".":n=i=o;break;case"0":n===0&&(n=o),i=o;break;default:if(!+t[o])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var Jc;function jk(t,e){var o=Fi(t,e);if(!o)return t+"";var n=o[0],i=o[1],r=i-(Jc=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=n.length;return r===l?n:r>l?n+new Array(r-l+1).join("0"):r>0?n.slice(0,r)+"."+n.slice(r):"0."+new Array(1-r).join("0")+Fi(t,Math.max(0,e+r-1))[0]}function Pa(t,e){var o=Fi(t,e);if(!o)return t+"";var n=o[0],i=o[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const Na={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Ek,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Pa(t*100,e),r:Pa,s:jk,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Ea(t){return t}var Ra=Array.prototype.map,$a=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Fk(t){var e=t.grouping===void 0||t.thousands===void 0?Ea:Rk(Ra.call(t.grouping,Number),t.thousands+""),o=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",r=t.numerals===void 0?Ea:$k(Ra.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"−":t.minus+"",s=t.nan===void 0?"NaN":t.nan+"";function u(c){c=Bi(c);var d=c.fill,m=c.align,_=c.sign,h=c.symbol,p=c.zero,w=c.width,v=c.comma,A=c.precision,E=c.trim,j=c.type;j==="n"?(v=!0,j="g"):Na[j]||(A===void 0&&(A=12),E=!0,j="g"),(p||d==="0"&&m==="=")&&(p=!0,d="0",m="=");var F=h==="$"?o:h==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",$=h==="$"?n:/[%p]/.test(j)?l:"",P=Na[j],R=/[defgprs%]/.test(j);A=A===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function q(I){var C=F,k=$,N,B,D;if(j==="c")k=P(I)+k,I="";else{I=+I;var J=I<0||1/I<0;if(I=isNaN(I)?s:P(Math.abs(I),A),E&&(I=Dk(I)),J&&+I==0&&_!=="+"&&(J=!1),C=(J?_==="("?_:a:_==="-"||_==="("?"":_)+C,k=(j==="s"?$a[8+Jc/3]:"")+k+(J&&_==="("?")":""),R){for(N=-1,B=I.length;++N<B;)if(D=I.charCodeAt(N),48>D||D>57){k=(D===46?i+I.slice(N+1):I.slice(N))+k,I=I.slice(0,N);break}}}v&&!p&&(I=e(I,1/0));var Z=C.length+I.length+k.length,X=Z<w?new Array(w-Z+1).join(d):"";switch(v&&p&&(I=e(X+I,X.length?w-k.length:1/0),X=""),m){case"<":I=C+I+k+X;break;case"=":I=C+X+I+k;break;case"^":I=X.slice(0,Z=X.length>>1)+C+I+k+X.slice(Z);break;default:I=X+C+I+k;break}return r(I)}return q.toString=function(){return c+""},q}function f(c,d){var m=u((c=Bi(c),c.type="f",c)),_=Math.max(-8,Math.min(8,Math.floor(lo(d)/3)))*3,h=Math.pow(10,-_),p=$a[8+_/3];return function(w){return m(h*w)+p}}return{format:u,formatPrefix:f}}var ii,Xc,Zc;Bk({thousands:",",grouping:[3],currency:["$",""]});function Bk(t){return ii=Fk(t),Xc=ii.format,Zc=ii.formatPrefix,ii}function qk(t){return Math.max(0,-lo(Math.abs(t)))}function xk(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(lo(e)/3)))*3-lo(Math.abs(t)))}function Hk(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,lo(e)-lo(t))+1}function Gk(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Vk(t){return function(){return t}}function Wk(t){return+t}var La=[0,1];function Wn(t){return t}function Qr(t,e){return(e-=t=+t)?function(o){return(o-t)/e}:Vk(isNaN(e)?NaN:.5)}function Yk(t,e){var o;return t>e&&(o=t,t=e,e=o),function(n){return Math.max(t,Math.min(e,n))}}function Uk(t,e,o){var n=t[0],i=t[1],r=e[0],l=e[1];return i<n?(n=Qr(i,n),r=o(l,r)):(n=Qr(n,i),r=o(r,l)),function(a){return r(n(a))}}function Kk(t,e,o){var n=Math.min(t.length,e.length)-1,i=new Array(n),r=new Array(n),l=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<n;)i[l]=Qr(t[l],t[l+1]),r[l]=o(e[l],e[l+1]);return function(a){var s=Kv(t,a,1,n)-1;return r[s](i[s](a))}}function Jk(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Xk(){var t=La,e=La,o=kl,n,i,r,l=Wn,a,s,u;function f(){var d=Math.min(t.length,e.length);return l!==Wn&&(l=Yk(t[0],t[d-1])),a=d>2?Kk:Uk,s=u=null,c}function c(d){return d==null||isNaN(d=+d)?r:(s||(s=a(t.map(n),e,o)))(n(l(d)))}return c.invert=function(d){return l(i((u||(u=a(e,t.map(n),Nt)))(d)))},c.domain=function(d){return arguments.length?(t=Array.from(d,Wk),f()):t.slice()},c.range=function(d){return arguments.length?(e=Array.from(d),f()):e.slice()},c.rangeRound=function(d){return e=Array.from(d),o=d2,f()},c.clamp=function(d){return arguments.length?(l=d?!0:Wn,f()):l!==Wn},c.interpolate=function(d){return arguments.length?(o=d,f()):o},c.unknown=function(d){return arguments.length?(r=d,c):r},function(d,m){return n=d,i=m,f()}}function Zk(){return Xk()(Wn,Wn)}function Qk(t,e,o,n){var i=zv(t,e,o),r;switch(n=Bi(n??",f"),n.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(r=xk(i,l))&&(n.precision=r),Zc(n,l)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(r=Hk(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=r-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(r=qk(i))&&(n.precision=r-(n.type==="%")*2);break}}return Xc(n)}function zk(t){var e=t.domain;return t.ticks=function(o){var n=e();return Qv(n[0],n[n.length-1],o??10)},t.tickFormat=function(o,n){var i=e();return Qk(i[0],i[i.length-1],o??10,n)},t.nice=function(o){o==null&&(o=10);var n=e(),i=0,r=n.length-1,l=n[i],a=n[r],s,u,f=10;for(a<l&&(u=l,l=a,a=u,u=i,i=r,r=u);f-- >0;){if(u=xr(l,a,o),u===s)return n[i]=l,n[r]=a,e(n);if(u>0)l=Math.floor(l/u)*u,a=Math.ceil(a/u)*u;else if(u<0)l=Math.ceil(l*u)/u,a=Math.floor(a*u)/u;else break;s=u}return t},t}function zr(){var t=Zk();return t.copy=function(){return Jk(t,zr())},Gk.apply(t,arguments),zk(t)}function Hn(t){return function(){return t}}function e5(t){let e=3;return t.digits=function(o){if(!arguments.length)return e;if(o==null)e=null;else{const n=Math.floor(o);if(!(n>=0))throw new RangeError(`invalid digits: ${o}`);e=n}return t},()=>new Nk(e)}function t5(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Qc(t){this._context=t}Qc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function n5(t){return new Qc(t)}function o5(t){return t[0]}function i5(t){return t[1]}function Cr(t,e){var o=Hn(!0),n=null,i=n5,r=null,l=e5(a);t=typeof t=="function"?t:t===void 0?o5:Hn(t),e=typeof e=="function"?e:e===void 0?i5:Hn(e);function a(s){var u,f=(s=t5(s)).length,c,d=!1,m;for(n==null&&(r=i(m=l())),u=0;u<=f;++u)!(u<f&&o(c=s[u],u,s))===d&&((d=!d)?r.lineStart():r.lineEnd()),d&&r.point(+t(c,u,s),+e(c,u,s));if(m)return r=null,m+""||null}return a.x=function(s){return arguments.length?(t=typeof s=="function"?s:Hn(+s),a):t},a.y=function(s){return arguments.length?(e=typeof s=="function"?s:Hn(+s),a):e},a.defined=function(s){return arguments.length?(o=typeof s=="function"?s:Hn(!!s),a):o},a.curve=function(s){return arguments.length?(i=s,n!=null&&(r=i(n)),a):i},a.context=function(s){return arguments.length?(s==null?n=r=null:r=i(n=s),a):n},a}function Oo(t,e,o){this.k=t,this.x=e,this.y=o}Oo.prototype={constructor:Oo,scale:function(t){return t===1?this:new Oo(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Oo(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Oo.prototype;function r5(t){let e;return{c(){e=gf("svg"),L(e,"id","line-chart")},m(o,n){O(o,e,n)},p:Te,i:Te,o:Te,d(o){o&&M(e)}}}const Da=52;function l5(t,e,o){let{data:n=[]}=e,i,r,l;const a={top:10,right:30,bottom:10,left:20},s=500-a.left-a.right,u=400-a.top-a.bottom;Cr().x((_,h)=>r(h)).y(_=>l(_)),Go(()=>{o(1,i=Gw("#line-chart").attr("width",s+a.left+a.right).attr("height",u+a.top+a.bottom)),r=zr().range([0,s]),l=zr().range([u,0]),n.length&&f()});function f(){const _=n.length>Da?n.slice(-Da):n;c(_),d(_),m()}function c(_){i.selectAll(".line").remove();const h=Cr().defined(w=>w>-5).x((w,v)=>r(v)).y(w=>l(w)),p=Cr().defined(w=>w<0).x((w,v)=>r(v)).y(w=>l(w));i.append("path").datum(_).attr("class","line positive").attr("d",h).attr("transform",`translate(${a.left},${a.top})`).attr("fill","none").attr("stroke","green").attr("stroke-width",2),i.append("path").datum(_).attr("class","line negative").attr("d",p).attr("transform",`translate(${a.left},${a.top})`).attr("fill","none").attr("stroke","red").attr("stroke-width",2)}function d(_){const h=Math.max(0,..._),p=Math.min(0,..._);r.domain([0,_.length-1]),l.domain([p,h]).nice()}function m(_){const h=ly(r).ticks(0),p=sy(l).ticks(10);i.selectAll(".axis").remove(),i.append("g").attr("class","axis x-axis").attr("transform",`translate(${a.left},${u+a.top})`).call(h),i.append("g").attr("class","axis y-axis").attr("transform",`translate(${a.left},${a.top})`).call(p)}return t.$$set=_=>{"data"in _&&o(0,n=_.data)},t.$$.update=()=>{t.$$.dirty&3&&n&&i&&f()},[n,i]}class s5 extends he{constructor(e){super(),pe(this,e,l5,r5,de,{data:0})}}function a5(t){let e,o=t[1].townInfo.knowledge_points+"",n,i;return{c(){e=K("Manage your Knowledge ("),n=K(o),i=K(" pts)")},m(r,l){O(r,e,l),O(r,n,l),O(r,i,l)},p(r,l){l&2&&o!==(o=r[1].townInfo.knowledge_points+"")&&ce(n,o)},d(r){r&&(M(e),M(n),M(i))}}}function u5(t){let e,o,n,i;return e=new on({props:{$$slots:{default:[a5]},$$scope:{ctx:t}}}),n=new jn({}),{c(){U(e.$$.fragment),o=G(),U(n.$$.fragment)},m(r,l){W(e,r,l),O(r,o,l),W(n,r,l),i=!0},p(r,l){const a={};l&130&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){i||(y(e.$$.fragment,r),y(n.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(n.$$.fragment,r),i=!1},d(r){r&&M(o),Y(e,r),Y(n,r)}}}function ja(t){let e,o,n=xa(t[1].townInfo.knowledge_points*t[3])+"",i,r;return{c(){e=T("br"),o=K(`
          (total value: $`),i=K(n),r=K(")")},m(l,a){O(l,e,a),O(l,o,a),O(l,i,a),O(l,r,a)},p(l,a){a&10&&n!==(n=xa(l[1].townInfo.knowledge_points*l[3])+"")&&ce(i,n)},d(l){l&&(M(e),M(o),M(i),M(r))}}}function Fa(t){let e;return{c(){e=T("div"),e.innerHTML=`Wait until the market value is <span class="text-green-500">positive</span> to sell your Knowledge for Gold. Keep in mind that you need a bank to
          convert.`},m(o,n){O(o,e,n)},d(o){o&&M(e)}}}function Ba(t){let e,o,n;return o=new Ot({props:{variant:"default",$$slots:{default:[f5]},$$scope:{ctx:t}}}),o.$on("click",t[0]),{c(){e=T("div"),U(o.$$.fragment)},m(i,r){O(i,e,r),W(o,e,null),n=!0},p(i,r){const l={};r&128&&(l.$$scope={dirty:r,ctx:i}),o.$set(l)},i(i){n||(y(o.$$.fragment,i),n=!0)},o(i){S(o.$$.fragment,i),n=!1},d(i){i&&M(e),Y(o)}}}function f5(t){let e;return{c(){e=K("Convert Knowledge to Gold")},m(o,n){O(o,e,n)},d(o){o&&M(e)}}}function qa(t){let e;return{c(){e=T("div"),e.textContent="You need a bank to convert knowledge to gold."},m(o,n){O(o,e,n)},d(o){o&&M(e)}}}function c5(t){let e,o,n,i,r,l,a,s,u=(t[3]??0)+"",f,c,d,m,_,h,p,w,v,A,E,j;e=new rn({props:{$$slots:{default:[u5]},$$scope:{ctx:t}}});let F=t[3]>0&&ja(t);h=new s5({props:{data:t[2]}});let $=t[3]<0&&Fa(),P=t[1].hasBank&&t[3]>0&&Ba(t),R=t[1].hasBank===!1&&qa();return E=new _n({}),{c(){U(e.$$.fragment),o=G(),n=T("span"),n.textContent="Knowledge is power, unlock it!",i=G(),r=T("div"),l=T("div"),a=K("Market Rate: "),s=T("span"),f=K(u),c=K(" gold"),m=K(`
        per Knowledge Point
        `),F&&F.c(),_=G(),U(h.$$.fragment),p=G(),$&&$.c(),w=G(),P&&P.c(),v=G(),R&&R.c(),A=G(),U(E.$$.fragment),L(n,"class",""),L(s,"class",d=t[3]<0?"text-red-500":"text-green-500"),L(r,"class","py-0 flex flex-col gap-4 text-gray-400 overflow-x-auto")},m(q,I){W(e,q,I),O(q,o,I),O(q,n,I),O(q,i,I),O(q,r,I),b(r,l),b(l,a),b(l,s),b(s,f),b(s,c),b(l,m),F&&F.m(l,null),b(r,_),W(h,r,null),b(r,p),$&&$.m(r,null),b(r,w),P&&P.m(r,null),b(r,v),R&&R.m(r,null),O(q,A,I),W(E,q,I),j=!0},p(q,I){const C={};I&130&&(C.$$scope={dirty:I,ctx:q}),e.$set(C),(!j||I&8)&&u!==(u=(q[3]??0)+"")&&ce(f,u),(!j||I&8&&d!==(d=q[3]<0?"text-red-500":"text-green-500"))&&L(s,"class",d),q[3]>0?F?F.p(q,I):(F=ja(q),F.c(),F.m(l,null)):F&&(F.d(1),F=null);const k={};I&4&&(k.data=q[2]),h.$set(k),q[3]<0?$||($=Fa(),$.c(),$.m(r,w)):$&&($.d(1),$=null),q[1].hasBank&&q[3]>0?P?(P.p(q,I),I&10&&y(P,1)):(P=Ba(q),P.c(),y(P,1),P.m(r,v)):P&&(Me(),S(P,1,1,()=>{P=null}),Oe()),q[1].hasBank===!1?R||(R=qa(),R.c(),R.m(r,null)):R&&(R.d(1),R=null)},i(q){j||(y(e.$$.fragment,q),y(h.$$.fragment,q),y(P),y(E.$$.fragment,q),j=!0)},o(q){S(e.$$.fragment,q),S(h.$$.fragment,q),S(P),S(E.$$.fragment,q),j=!1},d(q){q&&(M(o),M(n),M(i),M(r),M(A)),Y(e,q),F&&F.d(),Y(h),$&&$.d(),P&&P.d(),R&&R.d(),Y(E,q)}}}function d5(t){let e,o;return e=new Yt({props:{transitionConfig:{duration:0},class:"bg-foreground text-accentText",$$slots:{default:[c5]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,i){const r={};i&142&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){S(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function m5(t){let e,o,n;function i(l){t[5](l)}let r={$$slots:{default:[d5]},$$scope:{ctx:t}};return t[4]!==void 0&&(r.open=t[4]),e=new Ut({props:r}),Ne.push(()=>Wt(e,"open",i)),{c(){U(e.$$.fragment)},m(l,a){W(e,l,a),n=!0},p(l,[a]){const s={};a&142&&(s.$$scope={dirty:a,ctx:l}),!o&&a&16&&(o=!0,s.open=l[4],Ht(()=>o=!1)),e.$set(s)},i(l){n||(y(e.$$.fragment,l),n=!0)},o(l){S(e.$$.fragment,l),n=!1},d(l){Y(e,l)}}}function xa(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function p5(t,e,o){let n,i;se(t,Ie,u=>o(1,n=u)),se(t,eo,u=>o(4,i=u));let r,l=0;function a(){let u=n;n.hasBank===!0&&(u.townInfo.gold+=Math.round(u.townInfo.knowledge_points*l),u.townInfo.knowledge_points=0,Ie.set(u),localStorage.setItem(nt,JSON.stringify(u)))}function s(u){i=u,eo.set(i)}return t.$$.update=()=>{t.$$.dirty&2&&n&&(o(2,r=n.economyAndLaws.knowledge_gold_market_rates),o(3,l=n.economyAndLaws.knowledge_gold_market_rates[n.economyAndLaws.knowledge_gold_market_rates.length-1]))},[a,n,r,l,i,s]}class h5 extends he{constructor(e){super(),pe(this,e,p5,m5,de,{convertKnowledgeToGold:0})}get convertKnowledgeToGold(){return this.$$.ctx[0]}}const g5=[{id:"sunshine",title:"Hint of Sunshine",description:`Scientist Jane T. found that more sunlight makes everyone a bit happier.
          Now, every home is equipped with a pair of sunglasses and a sunhat. Enjoy happier citizens!,
          `,cost:5e3,duration:180,effect:t=>(t.townInfo.happiness+=100,t)},{id:"antibiotics",title:"We will call them 'Antibiotics'",description:`Scientist Alfred C. has pitched us an idea that he calls 'Antibiotics'.
           We don't really know what that means, but it seems to make people healthier.
          `,cost:8e3,duration:200,effect:t=>(t.townInfo.health+=180,t.townInfo.happiness+=25,t)},{id:"funny_cows",title:"Cowabunga!",description:`Scientist Barry T. thought that showing cows some stand-up comedy would make them produce better milk, but it didn't have the desired effect.
          The cows are now following Mike Birbiglia on Twitter, but the milk production has not increased.
          `,cost:3e3,duration:60,effect:t=>t},{id:"missing_treasure",title:"Missing Treasure?",description:`Scientist Sarah H. was running an experiment on tree growth and found a stash of gold near the lab.
          She hopes nobody will miss it. Your town now has some more money.
          `,cost:15e3,duration:180,effect:t=>(t.townInfo.gold+=Math.floor(Math.random()*35e3),t)},{id:"tax_relief",title:"'Maybe the government is not so bad after all'",description:`Scientist Sam P. conducted a study and found that if you put a tiny bit of CHEMICAL X in the water supply, people are more likely to be ok with tax hikes.
          We don't question it, as these experiments cost a lot of moo-lah.`,cost:7500,duration:360,effect:t=>(t.economyAndLaws.max_tax_rate=(Math.random()*.8+1.2)*t.economyAndLaws.max_tax_rate,t)},{id:"spring_break",title:"Spring Break",description:`The Scientists took our money and spent the week at the beach.
          We are not sure what they did, but they came back with a tan and a smile.`,cost:2e3,duration:7,effect:t=>t},{id:"tornado",title:"A Gust of Grain",description:`Scientist Clint C. is sulking after a botched weather experiment caused about half of the food supply to be sucked into a tornado.
  		The only positive seems to be that the town now knows what a tornado is, and that makes us a bit smarter as a whole.`,cost:7e3,duration:150,effect:t=>(t.townInfo.knowledge_points+=3e3,t.resources.food=Math.floor(t.resources.food/2),t)},{id:"aquatic_overachievers",title:"Fishy Business",description:`An attempt to genetically enhance fish intelligence by Scientist Goldie F. in fisheries has gone awry, resulting in fish that are too smart to be caught. The fisheries are now underpopulated and shut down, but the town enjoys an unexpected tourism boom as people flock to see the genius fish who are now hanging out in local parks.
          Who knew fish could be such a draw?`,cost:6e3,duration:90,effect:t=>(t.townInfo.gold+=1e4,Ha("fishery",t),t)},{id:"educational_eclipse",title:"A Sudden Drop in IQ",description:`Scientist Albert E. wanted to see if the towns' children would become smarter if THEY ran the schools.
          This was obviously a terrible idea and the first thing the kids did was shut down the schools.`,cost:1e3,duration:45,effect:t=>(Ha("schoolhouse",t),t)},{id:"education_grant",title:"Education Grant",description:`Scientist Marie C. took this experiments funding and applied the town for a grant to improve education.
          The town wins a grant for $150,000 to build schools and improve education. (but it's up to you if that's how you want to spend the money)`,cost:25e3,duration:45,effect:t=>(t.townInfo.gold+=15e4,t)},{id:"mindfulness_meditation_classes",title:"'Mindfulness Meditation Classes'",description:`Scientist Zen M. has introduced mindfulness meditation classes to the town after realizing that breathing in certain ways can lower stress.
  		Now, the town is a bit more relaxed, for now.`,cost:13e3,duration:540,effect:t=>(t.townInfo.happiness+=75,t)}];function Ha(t,e){let o=De(t,e);for(let n=0;n<o.length;n++)zn(o[n].x,o[n].y,e)}function _5(t){let e,o;const n=[{class:je("shrink-0 bg-border",t[1]==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t[0])},{orientation:t[1]},{decorative:t[2]},t[3]];let i={};for(let r=0;r<n.length;r+=1)i=Q(i,n[r]);return e=new p0({props:i}),{c(){U(e.$$.fragment)},m(r,l){W(e,r,l),o=!0},p(r,[l]){const a=l&15?Se(n,[l&3&&{class:je("shrink-0 bg-border",r[1]==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",r[0])},l&2&&{orientation:r[1]},l&4&&{decorative:r[2]},l&8&&lt(r[3])]):{};e.$set(a)},i(r){o||(y(e.$$.fragment,r),o=!0)},o(r){S(e.$$.fragment,r),o=!1},d(r){Y(e,r)}}}function b5(t,e,o){const n=["class","orientation","decorative"];let i=ue(e,n),{class:r=void 0}=e,{orientation:l="horizontal"}=e,{decorative:a=void 0}=e;return t.$$set=s=>{e=Q(Q({},e),$e(s)),o(3,i=ue(e,n)),"class"in s&&o(0,r=s.class),"orientation"in s&&o(1,l=s.orientation),"decorative"in s&&o(2,a=s.decorative)},[r,l,a,i]}class vt extends he{constructor(e){super(),pe(this,e,b5,_5,de,{class:0,orientation:1,decorative:2})}}function Ga(t,e,o){const n=t.slice();return n[15]=e[o],n}function v5(t){let e,o=t[1].lab.active_experiment.title+"",n;return{c(){e=K("🎉 Experiment Completed: "),n=K(o)},m(i,r){O(i,e,r),O(i,n,r)},p(i,r){r&2&&o!==(o=i[1].lab.active_experiment.title+"")&&ce(n,o)},d(i){i&&(M(e),M(n))}}}function y5(t){let e,o=t[1].lab.active_experiment.description+"",n;return{c(){e=T("div"),n=K(o),L(e,"class","select-none whitespace-pre-wrap text-lg text-gray-400 leading-6 px-4 py-4 text-center ")},m(i,r){O(i,e,r),b(e,n)},p(i,r){r&2&&o!==(o=i[1].lab.active_experiment.description+"")&&ce(n,o)},d(i){i&&M(e)}}}function w5(t){let e,o,n,i;return e=new uc({props:{class:"text-center",$$slots:{default:[v5]},$$scope:{ctx:t}}}),n=new bc({props:{$$slots:{default:[y5]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),o=G(),U(n.$$.fragment)},m(r,l){W(e,r,l),O(r,o,l),W(n,r,l),i=!0},p(r,l){const a={};l&262146&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&262146&&(s.$$scope={dirty:l,ctx:r}),n.$set(s)},i(r){i||(y(e.$$.fragment,r),y(n.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(n.$$.fragment,r),i=!1},d(r){r&&M(o),Y(e,r),Y(n,r)}}}function k5(t){let e;return{c(){e=K("Thank the scientists")},m(o,n){O(o,e,n)},d(o){o&&M(e)}}}function C5(t){let e,o;return e=new ob({props:{$$slots:{default:[k5]},$$scope:{ctx:t}}}),e.$on("click",t[9]),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,i){const r={};i&262144&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){S(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function S5(t){let e,o,n,i;return e=new gc({props:{$$slots:{default:[w5]},$$scope:{ctx:t}}}),n=new hc({props:{$$slots:{default:[C5]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),o=G(),U(n.$$.fragment)},m(r,l){W(e,r,l),O(r,o,l),W(n,r,l),i=!0},p(r,l){const a={};l&262146&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&262144&&(s.$$scope={dirty:l,ctx:r}),n.$set(s)},i(r){i||(y(e.$$.fragment,r),y(n.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(n.$$.fragment,r),i=!1},d(r){r&&M(o),Y(e,r),Y(n,r)}}}function A5(t){let e,o;return e=new _c({props:{$$slots:{default:[S5]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,i){const r={};i&262146&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){S(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function T5(t){let e;return{c(){e=T("span"),e.textContent="Manage your Laboratory 🔬 🧪"},m(o,n){O(o,e,n)},p:Te,d(o){o&&M(e)}}}function I5(t){let e,o,n,i=t[1].lab.xp+"",r,l,a,s;return{c(){e=T("span"),o=K("You have earned "),n=T("span"),r=K(i),l=K(" XP"),s=K(` from experiments. XP can be used to buy advanced plots and develop your
          city.`),L(n,"class",a=t[1].lab.xp<0?"text-textDanger":"text-primaryText")},m(u,f){O(u,e,f),b(e,o),b(e,n),b(n,r),b(n,l),b(e,s)},p(u,f){f&2&&i!==(i=u[1].lab.xp+"")&&ce(r,i),f&2&&a!==(a=u[1].lab.xp<0?"text-textDanger":"text-primaryText")&&L(n,"class",a)},d(u){u&&M(e)}}}function M5(t){let e,o,n,i;return e=new on({props:{$$slots:{default:[T5]},$$scope:{ctx:t}}}),n=new jn({props:{$$slots:{default:[I5]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),o=G(),U(n.$$.fragment)},m(r,l){W(e,r,l),O(r,o,l),W(n,r,l),i=!0},p(r,l){const a={};l&262144&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&262146&&(s.$$scope={dirty:l,ctx:r}),n.$set(s)},i(r){i||(y(e.$$.fragment,r),y(n.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(n.$$.fragment,r),i=!1},d(r){r&&M(o),Y(e,r),Y(n,r)}}}function O5(t){let e;return{c(){e=K("No more experiments available")},m(o,n){O(o,e,n)},p:Te,i:Te,o:Te,d(o){o&&M(e)}}}function P5(t){let e,o,n,i,r=Ge(t[0]),l=[];for(let s=0;s<r.length;s+=1)l[s]=Wa(Ga(t,r,s));const a=s=>S(l[s],1,1,()=>{l[s]=null});return{c(){e=T("div"),e.textContent=`It's time to fund your next experiment! Choose a project below based on
        it's funding requirement. Once the experiment is over, you will see the
        results.`,o=G(),n=T("div");for(let s=0;s<l.length;s+=1)l[s].c();L(e,"class","select-none text-sm "),L(n,"class","text-center flex flex-col justify-center items-center gap-4 ")},m(s,u){O(s,e,u),O(s,o,u),O(s,n,u);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(n,null);i=!0},p(s,u){if(u&19){r=Ge(s[0]);let f;for(f=0;f<r.length;f+=1){const c=Ga(s,r,f);l[f]?(l[f].p(c,u),y(l[f],1)):(l[f]=Wa(c),l[f].c(),y(l[f],1),l[f].m(n,null))}for(Me(),f=r.length;f<l.length;f+=1)a(f);Oe()}},i(s){if(!i){for(let u=0;u<r.length;u+=1)y(l[u]);i=!0}},o(s){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)S(l[u]);i=!1},d(s){s&&(M(e),M(o),M(n)),rt(l,s)}}}function N5(t){let e,o=t[1].lab.active_experiment.duration+"",n,i,r,l,a=t[1].lab.active_experiment.duration===0&&Ya(t);return{c(){e=K("Currently running an experiment... check back in "),n=K(o),i=K(` days.
      `),a&&a.c(),r=Le()},m(s,u){O(s,e,u),O(s,n,u),O(s,i,u),a&&a.m(s,u),O(s,r,u),l=!0},p(s,u){(!l||u&2)&&o!==(o=s[1].lab.active_experiment.duration+"")&&ce(n,o),s[1].lab.active_experiment.duration===0?a?(a.p(s,u),u&2&&y(a,1)):(a=Ya(s),a.c(),y(a,1),a.m(r.parentNode,r)):a&&(Me(),S(a,1,1,()=>{a=null}),Oe())},i(s){l||(y(a),l=!0)},o(s){S(a),l=!1},d(s){s&&(M(e),M(n),M(i),M(r)),a&&a.d(s)}}}function Va(t){let e,o,n=t[15].id+"",i;return{c(){e=T("span"),o=K("// dev-"),i=K(n),L(e,"class","text-xs text-gray-400")},m(r,l){O(r,e,l),b(e,o),b(e,i)},p(r,l){l&1&&n!==(n=r[15].id+"")&&ce(i,n)},d(r){r&&M(e)}}}function E5(t){let e,o=Ua(t[15].cost).split(".")[0]+"",n,i,r,l=t[1].devMode===!0&&Va(t);return{c(){e=K("$"),n=K(o),i=K(` gold

            `),l&&l.c(),r=G()},m(a,s){O(a,e,s),O(a,n,s),O(a,i,s),l&&l.m(a,s),O(a,r,s)},p(a,s){s&1&&o!==(o=Ua(a[15].cost).split(".")[0]+"")&&ce(n,o),a[1].devMode===!0?l?l.p(a,s):(l=Va(a),l.c(),l.m(r.parentNode,r)):l&&(l.d(1),l=null)},d(a){a&&(M(e),M(n),M(i),M(r)),l&&l.d(a)}}}function Wa(t){let e,o;function n(){return t[11](t[15])}return e=new Ot({props:{variant:"outline",class:`min-w-48 w-max flex-col
				`+(t[15].cost>t[1].townInfo.gold?"cursor-not-allowed":"")+`
				`,$$slots:{default:[E5]},$$scope:{ctx:t}}}),e.$on("click",n),{c(){U(e.$$.fragment)},m(i,r){W(e,i,r),o=!0},p(i,r){t=i;const l={};r&3&&(l.class=`min-w-48 w-max flex-col
				`+(t[15].cost>t[1].townInfo.gold?"cursor-not-allowed":"")+`
				`),r&262147&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(i){o||(y(e.$$.fragment,i),o=!0)},o(i){S(e.$$.fragment,i),o=!1},d(i){Y(e,i)}}}function Ya(t){let e,o;return e=new Ot({props:{variant:"outline",$$slots:{default:[R5]},$$scope:{ctx:t}}}),e.$on("click",t[10]),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,i){const r={};i&262144&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){S(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function R5(t){let e;return{c(){e=K("Complete experiment (and face the impact)")},m(o,n){O(o,e,n)},d(o){o&&M(e)}}}function $5(t){let e;return{c(){e=T("span"),e.textContent="Keep in mind that not all experiments yield positive results.",L(e,"class","text-left text-textDanger")},m(o,n){O(o,e,n)},p:Te,d(o){o&&M(e)}}}function L5(t){let e,o,n,i,r,l,a,s,u,f,c;e=new rn({props:{$$slots:{default:[M5]},$$scope:{ctx:t}}}),n=new vt({});const d=[N5,P5,O5],m=[];function _(h,p){return h[1].lab.active_experiment!==null?0:h[0].length>0?1:h[0].length===0?2:-1}return~(r=_(t))&&(l=m[r]=d[r](t)),s=new vt({props:{class:"mt-4"}}),f=new _n({props:{$$slots:{default:[$5]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),o=G(),U(n.$$.fragment),i=G(),l&&l.c(),a=G(),U(s.$$.fragment),u=G(),U(f.$$.fragment)},m(h,p){W(e,h,p),O(h,o,p),W(n,h,p),O(h,i,p),~r&&m[r].m(h,p),O(h,a,p),W(s,h,p),O(h,u,p),W(f,h,p),c=!0},p(h,p){const w={};p&262146&&(w.$$scope={dirty:p,ctx:h}),e.$set(w);let v=r;r=_(h),r===v?~r&&m[r].p(h,p):(l&&(Me(),S(m[v],1,1,()=>{m[v]=null}),Oe()),~r?(l=m[r],l?l.p(h,p):(l=m[r]=d[r](h),l.c()),y(l,1),l.m(a.parentNode,a)):l=null);const A={};p&262144&&(A.$$scope={dirty:p,ctx:h}),f.$set(A)},i(h){c||(y(e.$$.fragment,h),y(n.$$.fragment,h),y(l),y(s.$$.fragment,h),y(f.$$.fragment,h),c=!0)},o(h){S(e.$$.fragment,h),S(n.$$.fragment,h),S(l),S(s.$$.fragment,h),S(f.$$.fragment,h),c=!1},d(h){h&&(M(o),M(i),M(a),M(u)),Y(e,h),Y(n,h),~r&&m[r].d(h),Y(s,h),Y(f,h)}}}function D5(t){let e,o;return e=new Yt({props:{class:"bg-foreground text-accentText",$$slots:{default:[L5]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,i){const r={};i&262147&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){S(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function j5(t){let e,o,n,i,r;e=new vc({props:{open:t[2],$$slots:{default:[A5]},$$scope:{ctx:t}}});function l(s){t[12](s)}let a={$$slots:{default:[D5]},$$scope:{ctx:t}};return t[3]!==void 0&&(a.open=t[3]),n=new Ut({props:a}),Ne.push(()=>Wt(n,"open",l)),{c(){U(e.$$.fragment),o=G(),U(n.$$.fragment)},m(s,u){W(e,s,u),O(s,o,u),W(n,s,u),r=!0},p(s,[u]){const f={};u&4&&(f.open=s[2]),u&262146&&(f.$$scope={dirty:u,ctx:s}),e.$set(f);const c={};u&262147&&(c.$$scope={dirty:u,ctx:s}),!i&&u&8&&(i=!0,c.open=s[3],Ht(()=>i=!1)),n.$set(c)},i(s){r||(y(e.$$.fragment,s),y(n.$$.fragment,s),r=!0)},o(s){S(e.$$.fragment,s),S(n.$$.fragment,s),r=!1},d(s){s&&M(o),Y(e,s),Y(n,s)}}}function Ua(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function F5(t,e,o){let n,i;se(t,Ie,v=>o(1,n=v)),se(t,Kn,v=>o(3,i=v));var r;let l=[],a=!1,s=!1,u=!1;function f(){if(l.length>0||!a)return l;let v=[],A=g5.filter(E=>!n.lab.past_experiments.some(j=>j.id===E.id));if(A.length===0)return[];for(let E=0;E<3;E++){let j=A[Math.floor(Math.random()*A.length)];j.cost=Math.floor(Math.random()*(j.cost*.35)+j.cost*.8),v.push(j)}return v=v.filter((E,j)=>v.indexOf(E)===j),v=v.filter(E=>E),o(8,u=!0),v}function c(v){if(n.townInfo.gold<v.cost){Ft("You do not have enough gold to purchase this experiment.");return}Ae(Ie,n.townInfo.gold-=v.cost,n),Ae(Ie,n.lab.active_experiment=v,n),n.lab.past_experiments.push(v)}function d(){Ae(Kn,i=!1,i),o(2,s=!0);let v=l.find(E=>E.id===n.lab.active_experiment.id),A=v!=null?v.effect(n):n;Ae(Ie,n=A,n),Ae(Ie,n.lab.active_experiment.duration=-1,n)}function m(){let v=n;v.lab.xp+=Math.round(v.lab.active_experiment.cost*(Math.random()*2+.5)),v.lab.active_experiment=null,o(2,s=!1),Ae(Ie,n=v,n)}const _=()=>{m()},h=()=>{d()},p=v=>{v.cost<n.townInfo.gold&&c(v)};function w(v){i=v,Kn.set(i)}return t.$$.update=()=>{t.$$.dirty&387&&(n?(a=!0,o(0,l=u==!1?f():l),(o(7,r=n.lab.active_experiment)===null||r===void 0?void 0:r.duration)===-1&&o(2,s=!0)):a=!1)},[l,n,s,i,c,d,m,r,u,_,h,p,w]}class B5 extends he{constructor(e){super(),pe(this,e,F5,j5,de,{})}}function q5(t){let e,o,n,i,r,l,a,s,u,f=t[0].townInfo.name+"",c,d,m,_,h,p,w,v=t[0].townInfo.population_count+"",A,E,j,F,$,P,R,q,I,C=Math.floor(t[0].environment.day/365)+1+"",k,N,B,D,J,Z,X=Math.floor(t[0].environment.day/7)%52+1+"",ne,ee,oe,we,ae,ie=t[1]==0?"⏩ x1":t[1]==1?"⏩ x2":"⏩ x3",qe,He,Ue,ot,g;return o=new At({props:{text:"Pause",onOpen:t[6],styling:"fixed top-2 right-4 opacity-70 bg-gray-600"}}),j=new vt({props:{orientation:"vertical",class:"h-12 bg-gray-600 opacity-50 mx-4"}}),oe=new vt({props:{orientation:"vertical",class:"h-12 bg-gray-600 opacity-50 mx-4"}}),{c(){e=T("div"),U(o.$$.fragment),n=G(),i=T("div"),r=T("div"),l=T("div"),a=T("div"),s=T("div"),u=T("div"),c=K(f),d=G(),m=T("div"),_=T("div"),h=T("div"),p=T("span"),w=K("👥 "),A=K(v),E=G(),U(j.$$.fragment),F=G(),$=T("div"),P=T("span"),R=T("span"),R.textContent="Year",q=G(),I=T("span"),k=K(C),N=G(),B=T("span"),D=T("span"),D.textContent="Week",J=G(),Z=T("span"),ne=K(X),ee=G(),U(oe.$$.fragment),we=G(),ae=T("span"),qe=K(ie),L(u,"class","cursor-pointer w-min whitespace-nowrap text-center select-none font-serif opacity-80"),L(s,"class","cursor-pointer flex flex-row justify-center text-center w-full"),L(a,"class","text-2xl flex flex-row items-center w-full text-center"),L(p,"class","text-sm text-left items-start justify-start w-min flex-nowrap text-nowrap"),L(R,"class","text-xs"),L(I,"class","font-semibold text-xs"),L(P,"class","flex flex-col"),L(D,"class","text-xs"),L(Z,"class","font-semibold text-xs"),L(B,"class","flex flex-col"),L($,"class","flex flex-row justify-start gap-6 align-middle"),L(ae,"class","cursor-pointer text-blue-200 noselect"),pt(ae,"text-blue-200",t[1]==0),pt(ae,"text-yellow-200",t[1]==1),pt(ae,"text-red-200",t[1]==2),L(h,"class","flex align-middle items-center text-accentText flex-row justify-between h-max "),L(_,"class","flex flex-col align-middle w-full justify-center items-center"),L(l,"class","flex flex-col gap-2 justify-center w-full "),L(r,"class","rounded-xl w-full"),L(i,"class","flex justify-between flex-col align-middle items-center w-full"),L(e,"id","header"),L(e,"class",He="flex px-6 gap-6 justify-center flex-row fixed top-0 left-0 right-0 cursor-default z-10 bg-black text-[white] py-1 align-middle border-b-4 border-sidebarBackground "+(t[2].visible?"opacity-70":""))},m(x,V){O(x,e,V),W(o,e,null),b(e,n),b(e,i),b(i,r),b(r,l),b(l,a),b(a,s),b(s,u),b(u,c),b(l,d),b(l,m),b(m,_),b(_,h),b(h,p),b(p,w),b(p,A),b(h,E),W(j,h,null),b(h,F),b(h,$),b($,P),b(P,R),b(P,q),b(P,I),b(I,k),b($,N),b($,B),b(B,D),b(B,J),b(B,Z),b(Z,ne),b(h,ee),W(oe,h,null),b(h,we),b(h,ae),b(ae,qe),Ue=!0,ot||(g=[z(u,"click",t[4]),z(ae,"click",t[7])],ot=!0)},p(x,[V]){const le={};V&8&&(le.onOpen=x[6]),o.$set(le),(!Ue||V&1)&&f!==(f=x[0].townInfo.name+"")&&ce(c,f),(!Ue||V&1)&&v!==(v=x[0].townInfo.population_count+"")&&ce(A,v),(!Ue||V&1)&&C!==(C=Math.floor(x[0].environment.day/365)+1+"")&&ce(k,C),(!Ue||V&1)&&X!==(X=Math.floor(x[0].environment.day/7)%52+1+"")&&ce(ne,X),(!Ue||V&2)&&ie!==(ie=x[1]==0?"⏩ x1":x[1]==1?"⏩ x2":"⏩ x3")&&ce(qe,ie),(!Ue||V&2)&&pt(ae,"text-blue-200",x[1]==0),(!Ue||V&2)&&pt(ae,"text-yellow-200",x[1]==1),(!Ue||V&2)&&pt(ae,"text-red-200",x[1]==2),(!Ue||V&4&&He!==(He="flex px-6 gap-6 justify-center flex-row fixed top-0 left-0 right-0 cursor-default z-10 bg-black text-[white] py-1 align-middle border-b-4 border-sidebarBackground "+(x[2].visible?"opacity-70":"")))&&L(e,"class",He)},i(x){Ue||(y(o.$$.fragment,x),y(j.$$.fragment,x),y(oe.$$.fragment,x),Ue=!0)},o(x){S(o.$$.fragment,x),S(j.$$.fragment,x),S(oe.$$.fragment,x),Ue=!1},d(x){x&&M(e),Y(o),Y(j),Y(oe),ot=!1,xe(g)}}}function x5(t,e,o){let n,i,r,l;se(t,Ie,m=>o(0,n=m)),se(t,So,m=>o(9,i=m)),se(t,ze,m=>o(2,r=m)),se(t,It,m=>o(3,l=m));const a=n.gameSettings.includes("casual")?[150,75,35]:[300,150,70];let s=0;Go(()=>{n.gameSettings.includes("casual")?Ae(So,i=375,i):Ae(So,i=550,i);const m=setInterval(()=>{Ae(Ie,n.timeSpent+=1e3,n)},1e3);return()=>{clearInterval(m)}});function u(){let m=prompt("Enter a new name for your town (under 200 chars)");if(m&&m.length<200&&m.length>=1){let _=n;_.townInfo.name=m,Ie.set(_),localStorage.setItem(nt,JSON.stringify(_))}}function f(){s==a.length-1?o(1,s=0):o(1,s++,s),Ae(So,i=a[s],i)}const c=()=>Ae(It,l=!0,l),d=()=>{localStorage.getItem(Rt)==null&&f()};return t.$$.update=()=>{t.$$.dirty&1&&n.timeSpent>0&&cm(n.timeSpent)},[n,s,r,l,u,f,c,d]}class H5 extends he{constructor(e){super(),pe(this,e,x5,q5,de,{})}}function G5(t){let e,o,n,i,r,l;return{c(){e=T("div"),i=G(),r=T("span"),l=K(t[4]),L(e,"class",o="h-full w-full flex-1 "+t[3]+" transition-all relative"),L(e,"style",n=`transform: translateX(-${100-100*(t[2]??0)/(t[1]??1)}%)`),L(r,"class","absolute inset-0 flex items-center justify-center text-white text-sm")},m(a,s){O(a,e,s),O(a,i,s),O(a,r,s),b(r,l)},p(a,s){s&8&&o!==(o="h-full w-full flex-1 "+a[3]+" transition-all relative")&&L(e,"class",o),s&6&&n!==(n=`transform: translateX(-${100-100*(a[2]??0)/(a[1]??1)}%)`)&&L(e,"style",n),s&16&&ce(l,a[4])},d(a){a&&(M(e),M(i),M(r))}}}function V5(t){let e,o;const n=[{class:je("relative h-6 w-full overflow-hidden  bg-black border border-gray-300",t[0])},t[5]];let i={$$slots:{default:[G5]},$$scope:{ctx:t}};for(let r=0;r<n.length;r+=1)i=Q(i,n[r]);return e=new M_({props:i}),{c(){U(e.$$.fragment)},m(r,l){W(e,r,l),o=!0},p(r,[l]){const a=l&33?Se(n,[l&1&&{class:je("relative h-6 w-full overflow-hidden  bg-black border border-gray-300",r[0])},l&32&&lt(r[5])]):{};l&94&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){o||(y(e.$$.fragment,r),o=!0)},o(r){S(e.$$.fragment,r),o=!1},d(r){Y(e,r)}}}function W5(t,e,o){const n=["class","max","value","color","text"];let i=ue(e,n),{class:r=void 0}=e,{max:l=100}=e,{value:a=void 0}=e,{color:s="bg-accent"}=e,{text:u=void 0}=e;return t.$$set=f=>{e=Q(Q({},e),$e(f)),o(5,i=ue(e,n)),"class"in f&&o(0,r=f.class),"max"in f&&o(1,l=f.max),"value"in f&&o(2,a=f.value),"color"in f&&o(3,s=f.color),"text"in f&&o(4,u=f.text)},[r,l,a,s,u,i]}class Y5 extends he{constructor(e){super(),pe(this,e,W5,V5,de,{class:0,max:1,value:2,color:3,text:4})}}function Ka(t,e,o){const n=t.slice();return n[19]=e[o],n}function Ja(t){let e,o=Ge({length:t[6]}),n=[];for(let i=0;i<o.length;i+=1)n[i]=Xa(Ka(t,o,i));return{c(){e=T("div");for(let i=0;i<n.length;i+=1)n[i].c();L(e,"class","confetti-holder svelte-15ksp55"),pt(e,"rounded",t[9]),pt(e,"cone",t[10]),pt(e,"no-gravity",t[11]),pt(e,"reduced-motion",t[13])},m(i,r){O(i,e,r);for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(e,null)},p(i,r){if(r&37375){o=Ge({length:i[6]});let l;for(l=0;l<o.length;l+=1){const a=Ka(i,o,l);n[l]?n[l].p(a,r):(n[l]=Xa(a),n[l].c(),n[l].m(e,null))}for(;l<n.length;l+=1)n[l].d(1);n.length=o.length}r&512&&pt(e,"rounded",i[9]),r&1024&&pt(e,"cone",i[10]),r&2048&&pt(e,"no-gravity",i[11]),r&8192&&pt(e,"reduced-motion",i[13])},d(i){i&&M(e),rt(n,i)}}}function Xa(t){let e;return{c(){e=T("div"),L(e,"class","confetti svelte-15ksp55"),Xe(e,"--fall-distance",t[8]),Xe(e,"--size",t[0]+"px"),Xe(e,"--color",t[15]()),Xe(e,"--skew",mt(-45,45)+"deg,"+mt(-45,45)+"deg"),Xe(e,"--rotation-xyz",mt(-10,10)+", "+mt(-10,10)+", "+mt(-10,10)),Xe(e,"--rotation-deg",mt(0,360)+"deg"),Xe(e,"--translate-y-multiplier",mt(t[2][0],t[2][1])),Xe(e,"--translate-x-multiplier",mt(t[1][0],t[1][1])),Xe(e,"--scale",.1*mt(2,10)),Xe(e,"--transition-duration",t[4]?`calc(${t[3]}ms * var(--scale))`:`${t[3]}ms`),Xe(e,"--transition-delay",mt(t[5][0],t[5][1])+"ms"),Xe(e,"--transition-iteration-count",t[4]?"infinite":t[7]),Xe(e,"--x-spread",1-t[12])},m(o,n){O(o,e,n)},p(o,n){n&256&&Xe(e,"--fall-distance",o[8]),n&1&&Xe(e,"--size",o[0]+"px"),n&4&&Xe(e,"--translate-y-multiplier",mt(o[2][0],o[2][1])),n&2&&Xe(e,"--translate-x-multiplier",mt(o[1][0],o[1][1])),n&24&&Xe(e,"--transition-duration",o[4]?`calc(${o[3]}ms * var(--scale))`:`${o[3]}ms`),n&32&&Xe(e,"--transition-delay",mt(o[5][0],o[5][1])+"ms"),n&144&&Xe(e,"--transition-iteration-count",o[4]?"infinite":o[7]),n&4096&&Xe(e,"--x-spread",1-o[12])},d(o){o&&M(e)}}}function U5(t){let e,o=!t[14]&&Ja(t);return{c(){o&&o.c(),e=Le()},m(n,i){o&&o.m(n,i),O(n,e,i)},p(n,[i]){n[14]?o&&(o.d(1),o=null):o?o.p(n,i):(o=Ja(n),o.c(),o.m(e.parentNode,e))},i:Te,o:Te,d(n){n&&M(e),o&&o.d(n)}}}function mt(t,e){return Math.random()*(e-t)+t}function K5(t,e,o){let{size:n=10}=e,{x:i=[-.5,.5]}=e,{y:r=[.25,1]}=e,{duration:l=2e3}=e,{infinite:a=!1}=e,{delay:s=[0,50]}=e,{colorRange:u=[0,360]}=e,{colorArray:f=[]}=e,{amount:c=50}=e,{iterationCount:d=1}=e,{fallDistance:m="100px"}=e,{rounded:_=!1}=e,{cone:h=!1}=e,{noGravity:p=!1}=e,{xSpread:w=.15}=e,{destroyOnComplete:v=!0}=e,{disableForReducedMotion:A=!1}=e,E=!1;Go(()=>{!v||a||d=="infinite"||setTimeout(()=>o(14,E=!0),(l+s[1])*d)});function j(){return f.length?f[Math.round(Math.random()*(f.length-1))]:`hsl(${Math.round(mt(u[0],u[1]))}, 75%, 50%)`}return t.$$set=F=>{"size"in F&&o(0,n=F.size),"x"in F&&o(1,i=F.x),"y"in F&&o(2,r=F.y),"duration"in F&&o(3,l=F.duration),"infinite"in F&&o(4,a=F.infinite),"delay"in F&&o(5,s=F.delay),"colorRange"in F&&o(16,u=F.colorRange),"colorArray"in F&&o(17,f=F.colorArray),"amount"in F&&o(6,c=F.amount),"iterationCount"in F&&o(7,d=F.iterationCount),"fallDistance"in F&&o(8,m=F.fallDistance),"rounded"in F&&o(9,_=F.rounded),"cone"in F&&o(10,h=F.cone),"noGravity"in F&&o(11,p=F.noGravity),"xSpread"in F&&o(12,w=F.xSpread),"destroyOnComplete"in F&&o(18,v=F.destroyOnComplete),"disableForReducedMotion"in F&&o(13,A=F.disableForReducedMotion)},[n,i,r,l,a,s,c,d,m,_,h,p,w,A,E,j,u,f,v]}class fn extends he{constructor(e){super(),pe(this,e,K5,U5,de,{size:0,x:1,y:2,duration:3,infinite:4,delay:5,colorRange:16,colorArray:17,amount:6,iterationCount:7,fallDistance:8,rounded:9,cone:10,noGravity:11,xSpread:12,destroyOnComplete:18,disableForReducedMotion:13})}}function Za(t){let e,o,n,i,r,l,a,s;return e=new fn({props:{cone:!0,x:[-.5,.5]}}),n=new fn({props:{cone:!0,amount:10,x:[-1,-.4],y:[.25,.75],rounded:!0,size:15}}),r=new fn({props:{cone:!0,amount:10,x:[.4,1],y:[.25,.75]}}),a=new fn({props:{infinite:!0,amount:75,delay:[0,200]}}),{c(){U(e.$$.fragment),o=G(),U(n.$$.fragment),i=G(),U(r.$$.fragment),l=G(),U(a.$$.fragment)},m(u,f){W(e,u,f),O(u,o,f),W(n,u,f),O(u,i,f),W(r,u,f),O(u,l,f),W(a,u,f),s=!0},i(u){s||(y(e.$$.fragment,u),y(n.$$.fragment,u),y(r.$$.fragment,u),y(a.$$.fragment,u),s=!0)},o(u){S(e.$$.fragment,u),S(n.$$.fragment,u),S(r.$$.fragment,u),S(a.$$.fragment,u),s=!1},d(u){u&&(M(o),M(i),M(l)),Y(e,u),Y(n,u),Y(r,u),Y(a,u)}}}function J5(t){let e,o,n,i,r,l=st(t[1].goldReward,!1)+"",a,s,u,f=t[1].message+"",c,d,m,_=t[3]&&t[2].currentTutorialStep==t[0]&&Za();return{c(){e=T("div"),_&&_.c(),o=G(),n=T("span"),i=T("span"),r=K("💰"),a=K(l),s=G(),u=T("span"),c=K(f),L(i,"class","text-[10px] opacity-100 font-mono"),L(n,"class","flex flex-col text-start"),L(e,"class",d="text-sm flex flex-row justify-start align-middle pb-2 mb-2 transition-all duration-300 noselect "+(t[2].currentTutorialStep==t[0]?"opacity-100":t[1].isComplete(t[2])?"opacity-100 text-green-600":"opacity-50"))},m(h,p){O(h,e,p),_&&_.m(e,null),b(e,o),b(e,n),b(n,i),b(i,r),b(i,a),b(n,s),b(n,u),b(u,c),m=!0},p(h,[p]){h[3]&&h[2].currentTutorialStep==h[0]?_?p&13&&y(_,1):(_=Za(),_.c(),y(_,1),_.m(e,o)):_&&(Me(),S(_,1,1,()=>{_=null}),Oe()),(!m||p&2)&&l!==(l=st(h[1].goldReward,!1)+"")&&ce(a,l),(!m||p&2)&&f!==(f=h[1].message+"")&&ce(c,f),(!m||p&7&&d!==(d="text-sm flex flex-row justify-start align-middle pb-2 mb-2 transition-all duration-300 noselect "+(h[2].currentTutorialStep==h[0]?"opacity-100":h[1].isComplete(h[2])?"opacity-100 text-green-600":"opacity-50")))&&L(e,"class",d)},i(h){m||(y(_),m=!0)},o(h){S(_),m=!1},d(h){h&&M(e),_&&_.d()}}}function X5(t,e,o){let n,i;se(t,Ie,a=>o(2,n=a)),se(t,Eo,a=>o(3,i=a));let{index:r}=e,{step:l}=e;return t.$$set=a=>{"index"in a&&o(0,r=a.index),"step"in a&&o(1,l=a.step)},[r,l,n,i]}class zc extends he{constructor(e){super(),pe(this,e,X5,J5,de,{index:0,step:1})}}var ed=(t=>(t.CAPACITY="You have hit your resource capacity. You can build Stockpiles to store more resources. Storing resources is important for building and expanding your town. <br><br>Make sure to watch your resource levels on the right side. ",t))(ed||{});function Qa(t,e,o){const n=t.slice();return n[17]=e[o],n[19]=o,n}function za(t,e,o){const n=t.slice();return n[20]=e[o].icon,n[21]=e[o].name,n[22]=e[o].value,n[23]=e[o].rate,n}function eu(t,e,o){const n=t.slice();return n[26]=e[o],n}function tu(t,e,o){const n=t.slice();return n[21]=e[o].name,n[22]=e[o].value,n[29]=e[o].modifier,n[30]=e[o].color,n[31]=e[o].hover,n[32]=e[o].description,n[33]=e[o].max,n}function Z5(t){let e,o=t[21]+"",n,i,r,l;return r=new Y5({props:{value:t[22],max:t[33]??300,class:"min-w-[80px] max-w-[80px] ",color:t[30],text:`${tt(t[22],0)} / ${tt(t[33],0)}`}}),{c(){e=T("span"),n=K(o),i=G(),U(r.$$.fragment),L(e,"class","text-md pr-2")},m(a,s){O(a,e,s),b(e,n),O(a,i,s),W(r,a,s),l=!0},p(a,s){(!l||s[0]&64)&&o!==(o=a[21]+"")&&ce(n,o);const u={};s[0]&64&&(u.value=a[22]),s[0]&64&&(u.max=a[33]??300),s[0]&64&&(u.color=a[30]),s[0]&64&&(u.text=`${tt(a[22],0)} / ${tt(a[33],0)}`),r.$set(u)},i(a){l||(y(r.$$.fragment,a),l=!0)},o(a){S(r.$$.fragment,a),l=!1},d(a){a&&(M(e),M(i)),Y(r,a)}}}function nu(t){let e,o;return e=new mo({props:{class:"rounded-2xl text-white "+(t[30]??t[10](t[22])),$$slots:{default:[Q5]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,i){const r={};i[0]&64&&(r.class="rounded-2xl text-white "+(n[30]??n[10](n[22]))),i[0]&64|i[1]&32&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){S(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function Q5(t){let e,o,n=t[21]+"",i,r,l=st(t[22],!1)+"",a,s,u=t[33]?`out of ${t[33]}`:"",f,c,d,m,_,h=t[32]+"",p;return d=new vt({props:{class:"mb-2 mt-1"}}),{c(){e=T("div"),o=T("span"),i=K(n),r=K(": "),a=K(l),s=G(),f=K(u),c=G(),U(d.$$.fragment),m=G(),_=T("span"),L(o,"class","text-md"),L(e,"class","flex flex-col justify-between max-w-48")},m(w,v){O(w,e,v),b(e,o),b(o,i),b(o,r),b(o,a),b(o,s),b(o,f),b(e,c),W(d,e,null),b(e,m),b(e,_),_.innerHTML=h,p=!0},p(w,v){(!p||v[0]&64)&&n!==(n=w[21]+"")&&ce(i,n),(!p||v[0]&64)&&l!==(l=st(w[22],!1)+"")&&ce(a,l),(!p||v[0]&64)&&u!==(u=w[33]?`out of ${w[33]}`:"")&&ce(f,u),(!p||v[0]&64)&&h!==(h=w[32]+"")&&(_.innerHTML=h)},i(w){p||(y(d.$$.fragment,w),p=!0)},o(w){S(d.$$.fragment,w),p=!1},d(w){w&&M(e),Y(d)}}}function z5(t){let e,o,n,i;e=new ho({props:{class:"w-full flex flex-row align-middle justify-between text-sm filter hover:brightness-110",$$slots:{default:[Z5]},$$scope:{ctx:t}}});let r=t[31]&&nu(t);return{c(){U(e.$$.fragment),o=G(),r&&r.c(),n=Le()},m(l,a){W(e,l,a),O(l,o,a),r&&r.m(l,a),O(l,n,a),i=!0},p(l,a){const s={};a[0]&64|a[1]&32&&(s.$$scope={dirty:a,ctx:l}),e.$set(s),l[31]?r?(r.p(l,a),a[0]&64&&y(r,1)):(r=nu(l),r.c(),y(r,1),r.m(n.parentNode,n)):r&&(Me(),S(r,1,1,()=>{r=null}),Oe())},i(l){i||(y(e.$$.fragment,l),y(r),i=!0)},o(l){S(e.$$.fragment,l),S(r),i=!1},d(l){l&&(M(o),M(n)),Y(e,l),r&&r.d(l)}}}function ou(t){let e,o,n,i;return o=new po({props:{openDelay:400,closeDelay:0,$$slots:{default:[z5]},$$scope:{ctx:t}}}),{c(){e=T("div"),U(o.$$.fragment),n=G(),L(e,"class","flex flex-col gap-1")},m(r,l){O(r,e,l),W(o,e,null),b(e,n),i=!0},p(r,l){const a={};l[0]&64|l[1]&32&&(a.$$scope={dirty:l,ctx:r}),o.$set(a)},i(r){i||(y(o.$$.fragment,r),i=!0)},o(r){S(o.$$.fragment,r),i=!1},d(r){r&&M(e),Y(o)}}}function e3(t){let e,o,n,i,r,l,a,s,u,f,c,d,m,_,h,p,w,v,A,E,j,F=t[1].gameSettings.includes("bagOfHolding")?"There is no resource cap in this game mode! (Bag of Holding)":"",$;return{c(){e=T("div"),o=K(`ℹ️ Resources are generated from plots. Generation rate can be
            increased by raising the productivity of the town, at the cost of
            some happiness.
            `),n=T("br"),i=G(),r=T("br"),l=K(`
            There is also a slight bit of randomness as townspeople aren't robots.
            `),a=T("br"),s=G(),u=T("br"),f=G(),c=T("span"),c.textContent="Stockpile plots",d=K(` increase the maximum
            amount of resources you can store.
            `),m=T("br"),_=G(),h=T("br"),p=K(`
            If the cap is 500, then you can store 500 of each resource before the
            cap is reached.
            `),w=T("br"),v=K(`
            Capacity is increased by 2,000 per Stockpile plot.
            `),A=T("br"),E=G(),j=T("span"),$=K(F),L(c,"class","font-bold"),L(j,"class","text-red-800 font-bold"),L(e,"class","text-sm")},m(P,R){O(P,e,R),b(e,o),b(e,n),b(e,i),b(e,r),b(e,l),b(e,a),b(e,s),b(e,u),b(e,f),b(e,c),b(e,d),b(e,m),b(e,_),b(e,h),b(e,p),b(e,w),b(e,v),b(e,A),b(e,E),b(e,j),b(j,$)},p(P,R){R[0]&2&&F!==(F=P[1].gameSettings.includes("bagOfHolding")?"There is no resource cap in this game mode! (Bag of Holding)":"")&&ce($,F)},d(P){P&&M(e)}}}function t3(t){let e,o,n,i=t[1].gameSettings.includes("bagOfHolding")?"No resource cap":`Capacity: ${st(t[1].resource_capacity,!1)}`,r,l,a,s,u;return s=new mo({props:{class:"text-sm max-h-[200px] overflow-y-scroll",$$slots:{default:[e3]},$$scope:{ctx:t}}}),{c(){e=T("h1"),o=K(`Resources

          `),n=T("div"),r=K(i),a=G(),U(s.$$.fragment),L(n,"class",l="text-xs w-full text-center mb-2 cursor-pointer "+(t[2]==!0?"text-textDanger animate-[wiggle_0.5s_ease-in-out_infinite] font-bold":"")+" "+(t[1].gameSettings.includes("bagOfHolding")?"opacity-30":"")),L(e,"class","text-lg w-full text-center pb-2")},m(f,c){O(f,e,c),b(e,o),b(e,n),b(n,r),O(f,a,c),W(s,f,c),u=!0},p(f,c){(!u||c[0]&2)&&i!==(i=f[1].gameSettings.includes("bagOfHolding")?"No resource cap":`Capacity: ${st(f[1].resource_capacity,!1)}`)&&ce(r,i),(!u||c[0]&6&&l!==(l="text-xs w-full text-center mb-2 cursor-pointer "+(f[2]==!0?"text-textDanger animate-[wiggle_0.5s_ease-in-out_infinite] font-bold":"")+" "+(f[1].gameSettings.includes("bagOfHolding")?"opacity-30":"")))&&L(n,"class",l);const d={};c[0]&2|c[1]&32&&(d.$$scope={dirty:c,ctx:f}),s.$set(d)},i(f){u||(y(s.$$.fragment,f),u=!0)},o(f){S(s.$$.fragment,f),u=!1},d(f){f&&(M(e),M(a)),Y(s,f)}}}function n3(t){let e,o;return e=new ho({props:{$$slots:{default:[t3]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,i){const r={};i[0]&6|i[1]&32&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){S(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function o3(t){let e,o,n=t[23]+"",i;return{c(){e=T("span"),o=K("+"),i=K(n),L(e,"class","")},m(r,l){O(r,e,l),b(e,o),b(e,i)},p(r,l){l[0]&32&&n!==(n=r[23]+"")&&ce(i,n)},d(r){r&&M(e)}}}function i3(t){let e;return{c(){e=T("span")},m(o,n){O(o,e,n)},p:Te,d(o){o&&M(e)}}}function r3(t){let e,o=t[23]+"",n;return{c(){e=T("span"),n=K(o),L(e,"class","text-textDanger")},m(i,r){O(i,e,r),b(e,n)},p(i,r){r[0]&32&&o!==(o=i[23]+"")&&ce(n,o)},d(i){i&&M(e)}}}function l3(t){let e,o,n=t[23]+"",i;return{c(){e=T("span"),o=K("+"),i=K(n),L(e,"class","text-textHappy")},m(r,l){O(r,e,l),b(e,o),b(e,i)},p(r,l){l[0]&32&&n!==(n=r[23]+"")&&ce(i,n)},d(r){r&&M(e)}}}function s3(t){let e;return{c(){e=T("span"),e.textContent="⚠️ CAP",L(e,"class","text-textDanger")},m(o,n){O(o,e,n)},p:Te,d(o){o&&M(e)}}}function a3(t){let e;return{c(){e=T("span"),L(e,"class","display-none")},m(o,n){O(o,e,n)},p:Te,d(o){o&&M(e)}}}function u3(t){let e,o,n=t[23]+"",i,r;return{c(){e=T("span"),o=K("+"),i=K(n),r=K(" (weekly)"),L(e,"class","text-gray-600")},m(l,a){O(l,e,a),b(e,o),b(e,i),b(e,r)},p(l,a){a[0]&32&&n!==(n=l[23]+"")&&ce(i,n)},d(l){l&&M(e)}}}function f3(t){let e,o=t[23]+"",n,i;return{c(){e=T("span"),n=K(o),i=K(" (weekly)"),L(e,"class","text-textDanger")},m(r,l){O(r,e,l),b(e,n),b(e,i)},p(r,l){l[0]&32&&o!==(o=r[23]+"")&&ce(n,o)},d(r){r&&M(e)}}}function c3(t){let e,o,n=t[23]+"",i,r;return{c(){e=T("span"),o=K("+"),i=K(n),r=K(" (weekly)"),L(e,"class","text-textHappy")},m(l,a){O(l,e,a),b(e,o),b(e,i),b(e,r)},p(l,a){a[0]&32&&n!==(n=l[23]+"")&&ce(i,n)},d(l){l&&M(e)}}}function iu(t){let e,o,n,i,r,l;e=new vt({props:{class:"bg-gray-400"}});let a=Ge(t[9](t[21])),s=[];for(let u=0;u<a.length;u+=1)s[u]=ru(eu(t,a,u));return{c(){U(e.$$.fragment),o=G(),n=T("span"),n.textContent="Required for",i=G(),r=T("div");for(let u=0;u<s.length;u+=1)s[u].c();L(n,"class","text-sm font-semibold"),L(r,"class","grid grid-cols-3 justify-between")},m(u,f){W(e,u,f),O(u,o,f),O(u,n,f),O(u,i,f),O(u,r,f);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(r,null);l=!0},p(u,f){if(f[0]&544){a=Ge(u[9](u[21]));let c;for(c=0;c<a.length;c+=1){const d=eu(u,a,c);s[c]?s[c].p(d,f):(s[c]=ru(d),s[c].c(),s[c].m(r,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=a.length}},i(u){l||(y(e.$$.fragment,u),l=!0)},o(u){S(e.$$.fragment,u),l=!1},d(u){u&&(M(o),M(n),M(i),M(r)),Y(e,u),rt(s,u)}}}function ru(t){let e,o=t[26]+"",n;return{c(){e=T("span"),n=K(o),L(e,"class","text-xs pr-3")},m(i,r){O(i,e,r),b(e,n)},p(i,r){r[0]&32&&o!==(o=i[26]+"")&&ce(n,o)},d(i){i&&M(e)}}}function d3(t){let e,o,n,i=t[20]+"",r,l,a=Qn(t[21])+"",s,u,f,c=t[9](t[21]).length>0,d;function m(w,v){return w[23]>0?c3:w[23]<0?f3:w[23]!=null?u3:a3}let _=m(t),h=_(t),p=c&&iu(t);return{c(){e=T("div"),o=T("div"),n=T("span"),r=K(i),l=G(),s=K(a),u=G(),h.c(),f=G(),p&&p.c(),L(n,"class","text-md font-bold"),L(e,"class","flex flex-col gap-2 whitespace-nowrap min-w-fit rounded-lg text-black")},m(w,v){O(w,e,v),b(e,o),b(o,n),b(n,r),b(n,l),b(n,s),b(o,u),h.m(o,null),b(e,f),p&&p.m(e,null),d=!0},p(w,v){(!d||v[0]&32)&&i!==(i=w[20]+"")&&ce(r,i),(!d||v[0]&32)&&a!==(a=Qn(w[21])+"")&&ce(s,a),_===(_=m(w))&&h?h.p(w,v):(h.d(1),h=_(w),h&&(h.c(),h.m(o,null))),v[0]&32&&(c=w[9](w[21]).length>0),c?p?(p.p(w,v),v[0]&32&&y(p,1)):(p=iu(w),p.c(),y(p,1),p.m(e,null)):p&&(Me(),S(p,1,1,()=>{p=null}),Oe())},i(w){d||(y(p),d=!0)},o(w){S(p),d=!1},d(w){w&&M(e),h.d(),p&&p.d()}}}function m3(t){let e,o=t[20]+"",n,i,r=st(parseInt(t[22]),!1)+"",l,a,s,u,f,c;function d(h,p){return h[22]>=h[1].resource_capacity&&h[21]!="gold"?s3:h[23]>0?l3:h[23]<0?r3:h[23]==null?i3:o3}let m=d(t),_=m(t);return f=new mo({props:{$$slots:{default:[d3]},$$scope:{ctx:t}}}),{c(){e=T("span"),n=K(o),i=G(),l=K(r),a=G(),_.c(),u=G(),U(f.$$.fragment),L(e,"class",s="flex flex-row justify-between text-sm "+(t[22]<=0?"text-textDanger font-semibold":""))},m(h,p){O(h,e,p),b(e,n),b(e,i),b(e,l),b(e,a),_.m(e,null),O(h,u,p),W(f,h,p),c=!0},p(h,p){(!c||p[0]&32)&&o!==(o=h[20]+"")&&ce(n,o),(!c||p[0]&32)&&r!==(r=st(parseInt(h[22]),!1)+"")&&ce(l,r),m===(m=d(h))&&_?_.p(h,p):(_.d(1),_=m(h),_&&(_.c(),_.m(e,null))),(!c||p[0]&32&&s!==(s="flex flex-row justify-between text-sm "+(h[22]<=0?"text-textDanger font-semibold":"")))&&L(e,"class",s);const w={};p[0]&32|p[1]&32&&(w.$$scope={dirty:p,ctx:h}),f.$set(w)},i(h){c||(y(f.$$.fragment,h),c=!0)},o(h){S(f.$$.fragment,h),c=!1},d(h){h&&(M(e),M(u)),_.d(),Y(f,h)}}}function p3(t){let e,o,n;return e=new ho({props:{$$slots:{default:[m3]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),o=G()},m(i,r){W(e,i,r),O(i,o,r),n=!0},p(i,r){const l={};r[0]&34|r[1]&32&&(l.$$scope={dirty:r,ctx:i}),e.$set(l)},i(i){n||(y(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){i&&M(o),Y(e,i)}}}function lu(t){let e,o;return e=new po({props:{openDelay:400,closeDelay:0,$$slots:{default:[p3]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,i){const r={};i[0]&34|i[1]&32&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){S(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function su(t){let e,o,n,i,r,l,a,s;return e=new fn({props:{cone:!0,x:[-.5,.5]}}),n=new fn({props:{cone:!0,amount:50,x:[-1,-.4],y:[.25,.75],rounded:!0,size:8}}),r=new fn({props:{cone:!0,amount:10,x:[.4,1],y:[.25,.75]}}),a=new fn({props:{infinite:!0,amount:75,delay:[0,200]}}),{c(){U(e.$$.fragment),o=G(),U(n.$$.fragment),i=G(),U(r.$$.fragment),l=G(),U(a.$$.fragment)},m(u,f){W(e,u,f),O(u,o,f),W(n,u,f),O(u,i,f),W(r,u,f),O(u,l,f),W(a,u,f),s=!0},i(u){s||(y(e.$$.fragment,u),y(n.$$.fragment,u),y(r.$$.fragment,u),y(a.$$.fragment,u),s=!0)},o(u){S(e.$$.fragment,u),S(n.$$.fragment,u),S(r.$$.fragment,u),S(a.$$.fragment,u),s=!1},d(u){u&&(M(o),M(i),M(l)),Y(e,u),Y(n,u),Y(r,u),Y(a,u)}}}function au(t){let e,o=t[3]?`Hide ${t[4]} completed`:`Show ${t[4]} completed`,n;return{c(){e=T("span"),n=K(o),L(e,"class","text-xs opacity-65 cursor-pointer pb-2")},m(i,r){O(i,e,r),b(e,n)},p(i,r){r[0]&24&&o!==(o=i[3]?`Hide ${i[4]} completed`:`Show ${i[4]} completed`)&&ce(n,o)},d(i){i&&M(e)}}}function h3(t){let e,o;return e=new zc({props:{index:t[19],step:t[17]}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){S(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function g3(t){let e,o;return e=new zc({props:{index:t[19],step:t[17]}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){S(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function uu(t){let e,o,n,i,r;const l=[g3,h3],a=[];function s(u,f){return f[0]&2&&(e=null),u[3]||u[19]==u[1].currentTutorialStep?0:(e==null&&(e=!u[17].isComplete(u[1])),e?1:-1)}return~(o=s(t,[-1,-1]))&&(n=a[o]=l[o](t)),{c(){n&&n.c(),i=Le()},m(u,f){~o&&a[o].m(u,f),O(u,i,f),r=!0},p(u,f){let c=o;o=s(u,f),o!==c&&(n&&(Me(),S(a[c],1,1,()=>{a[c]=null}),Oe()),~o?(n=a[o],n||(n=a[o]=l[o](u),n.c()),y(n,1),n.m(i.parentNode,i)):n=null)},i(u){r||(y(n),r=!0)},o(u){S(n),r=!1},d(u){u&&M(i),~o&&a[o].d(u)}}}function _3(t){let e,o,n,i,r,l,a,s,u,f,c,d,m,_,h,p,w,v,A,E,j,F,$,P,R,q=Ge(t[6]),I=[];for(let ee=0;ee<q.length;ee+=1)I[ee]=ou(tu(t,q,ee));const C=ee=>S(I[ee],1,1,()=>{I[ee]=null});s=new po({props:{openDelay:400,closeDelay:0,$$slots:{default:[n3]},$$scope:{ctx:t}}});let k=Ge(t[5]),N=[];for(let ee=0;ee<k.length;ee+=1)N[ee]=lu(za(t,k,ee));const B=ee=>S(N[ee],1,1,()=>{N[ee]=null});let D=t[8]&&su(),J=t[1].currentTutorialStep>0&&au(t),Z=Ge(Jn),X=[];for(let ee=0;ee<Z.length;ee+=1)X[ee]=uu(Qa(t,Z,ee));const ne=ee=>S(X[ee],1,1,()=>{X[ee]=null});return{c(){e=T("div"),o=T("div"),n=T("div"),i=T("h1"),i.textContent="Stats",r=G();for(let ee=0;ee<I.length;ee+=1)I[ee].c();l=G(),a=T("div"),U(s.$$.fragment),u=G(),f=T("div"),c=G(),d=T("div"),m=T("div");for(let ee=0;ee<N.length;ee+=1)N[ee].c();_=G(),h=T("div"),p=T("div"),D&&D.c(),w=G(),v=T("h1"),v.textContent="Milestones",A=G(),J&&J.c(),E=G(),j=T("div");for(let ee=0;ee<X.length;ee+=1)X[ee].c();L(i,"class","text-lg w-full text-center pb-1"),L(n,"class","flex flex-col rounded-xl gap-2 w-full"),L(o,"class","flex flex-row w-full pb-6"),L(a,"class","flex flex-row justify-center"),L(f,"class","w-[full] flex flex-row justify-center"),L(m,"class","flex flex-col text-md text-nowrap gap-2"),L(v,"class","text-lg w-full text-center"),L(p,"class","text-lg w-full text-center noselect flex flex-col no-select"),L(j,"class","scroll overflow-y-scroll"),L(d,"class","flex flex-col gap-4 h-full"),L(e,"class",F="bg-sidebarBackground w-[220px] text-sidebarText border-foreground border-4 "+(t[7].visible&&!t[0]?"opacity-0":"")+" z-10 rounded-xl px-2 pt-2 transition-all ease-in-out duration-150 overflow-y-scroll scroll fixed right-3 top-16 sidebar bottom-4")},m(ee,oe){O(ee,e,oe),b(e,o),b(o,n),b(n,i),b(n,r);for(let we=0;we<I.length;we+=1)I[we]&&I[we].m(n,null);b(e,l),b(e,a),W(s,a,null),b(e,u),b(e,f),b(e,c),b(e,d),b(d,m);for(let we=0;we<N.length;we+=1)N[we]&&N[we].m(m,null);b(d,_),b(d,h),b(h,p),D&&D.m(p,null),b(p,w),b(p,v),b(p,A),J&&J.m(p,null),b(h,E),b(h,j);for(let we=0;we<X.length;we+=1)X[we]&&X[we].m(j,null);$=!0,P||(R=z(p,"click",t[13]),P=!0)},p(ee,oe){if(oe[0]&1088){q=Ge(ee[6]);let ae;for(ae=0;ae<q.length;ae+=1){const ie=tu(ee,q,ae);I[ae]?(I[ae].p(ie,oe),y(I[ae],1)):(I[ae]=ou(ie),I[ae].c(),y(I[ae],1),I[ae].m(n,null))}for(Me(),ae=q.length;ae<I.length;ae+=1)C(ae);Oe()}const we={};if(oe[0]&6|oe[1]&32&&(we.$$scope={dirty:oe,ctx:ee}),s.$set(we),oe[0]&546){k=Ge(ee[5]);let ae;for(ae=0;ae<k.length;ae+=1){const ie=za(ee,k,ae);N[ae]?(N[ae].p(ie,oe),y(N[ae],1)):(N[ae]=lu(ie),N[ae].c(),y(N[ae],1),N[ae].m(m,null))}for(Me(),ae=k.length;ae<N.length;ae+=1)B(ae);Oe()}if(ee[8]?D?oe[0]&256&&y(D,1):(D=su(),D.c(),y(D,1),D.m(p,w)):D&&(Me(),S(D,1,1,()=>{D=null}),Oe()),ee[1].currentTutorialStep>0?J?J.p(ee,oe):(J=au(ee),J.c(),J.m(p,null)):J&&(J.d(1),J=null),oe[0]&10){Z=Ge(Jn);let ae;for(ae=0;ae<Z.length;ae+=1){const ie=Qa(ee,Z,ae);X[ae]?(X[ae].p(ie,oe),y(X[ae],1)):(X[ae]=uu(ie),X[ae].c(),y(X[ae],1),X[ae].m(j,null))}for(Me(),ae=Z.length;ae<X.length;ae+=1)ne(ae);Oe()}(!$||oe[0]&129&&F!==(F="bg-sidebarBackground w-[220px] text-sidebarText border-foreground border-4 "+(ee[7].visible&&!ee[0]?"opacity-0":"")+" z-10 rounded-xl px-2 pt-2 transition-all ease-in-out duration-150 overflow-y-scroll scroll fixed right-3 top-16 sidebar bottom-4"))&&L(e,"class",F)},i(ee){if(!$){for(let oe=0;oe<q.length;oe+=1)y(I[oe]);y(s.$$.fragment,ee);for(let oe=0;oe<k.length;oe+=1)y(N[oe]);y(D);for(let oe=0;oe<Z.length;oe+=1)y(X[oe]);$=!0}},o(ee){I=I.filter(Boolean);for(let oe=0;oe<I.length;oe+=1)S(I[oe]);S(s.$$.fragment,ee),N=N.filter(Boolean);for(let oe=0;oe<N.length;oe+=1)S(N[oe]);S(D),X=X.filter(Boolean);for(let oe=0;oe<X.length;oe+=1)S(X[oe]);$=!1},d(ee){ee&&M(e),rt(I,ee),Y(s),rt(N,ee),D&&D.d(),J&&J.d(),rt(X,ee),P=!1,R()}}}function b3(t){return["food","wood","stone","metal","power","knowledge"].includes(t)}function fu(t){let e=0;for(let o=0;o<t.plots.length;o++)for(let n=0;n<t.plots[o].length;n++)t.plots[o][n].active==!0&&t.plots[o][n].type>-1&&e++;return e}function v3(t,e,o){let n,i,r;se(t,Ie,E=>o(1,n=E)),se(t,ze,E=>o(7,i=E)),se(t,Eo,E=>o(8,r=E));let l=!1,a=!1,s=0,u=0,f=!1,{mini:c=!1}=e,d=[];De("city_hall",n).length>0&&d.push({icon:"🧑‍⚖️",name:"bureaucracy",value:n.resources.bureaucracy,rate:n.resource_rate.bureaucracy});function m(E){let j=[];for(let F=0;F<te.length;F++)(E!="knowledge"&&te[F].requirements.resources[E]>0||E=="power"&&te[F].active_costs.power>0||E=="knowledge"&&te[F].requirements.knowledge>0)&&j.push(te[F].title);return j}function _(E){return b3(E)?m(E):[]}let h;const p=E=>E===1?"bg-green-500":E>.9?"bg-yellow-500":"bg-red-500",w=E=>E>149?"bg-green-500":E>99?"bg-yellow-500":"bg-red-500";function v(){const E=new Audio("/alert.mp3");E.volume=.5,E.play().catch(j=>console.log("Error playing sound:",j)),Ft(ed.CAPACITY)}const A=()=>{o(3,a=!a)};return t.$$set=E=>{"mini"in E&&o(0,c=E.mini)},t.$$.update=()=>{if(t.$$.dirty[0]&2&&o(4,s=Jn.filter(E=>E.isComplete(n)).length),t.$$.dirty[0]&2&&o(5,d=[{icon:"💰",name:"gold",value:n.townInfo.gold,rate:n.economyAndLaws.weeklyProfit},{icon:"🥕",name:"food",value:n.resources.food,rate:n.resource_rate.food},{icon:"🪵",name:"wood",value:n.resources.wood,rate:n.resource_rate.wood},{icon:"🪨",name:"stone",value:n.resources.stone,rate:n.resource_rate.stone},{icon:"🧠",name:"knowledge",value:n.townInfo.knowledge_points,rate:n.resource_rate.knowledge},{icon:"🧲",name:"metal",value:n.resources.metal,rate:n.resource_rate.metal},{icon:"🔋",name:"power",value:n.resources.power,rate:null}]),t.$$.dirty[0]&2&&o(6,h=[{name:"Happiness",description:"Happy townspeople spend more money and are less likely to leave.",value:n.townInfo.happiness,modifier:n.modifiers.happiness,color:w(n.townInfo.happiness),hover:!0,max:300},{name:"Health",description:"Healthy townspeople are less likely to die (and leave the town obviously).",value:n.townInfo.health,modifier:n.modifiers.health,color:w(n.townInfo.health),hover:!0,max:300},{name:"Community",description:"Townspeople that feel at home are less likely to leave, and less likely to get bored.",value:n.townInfo.community,modifier:n.modifiers.community,color:w(n.townInfo.community),hover:!0,max:300},{name:"Employment",description:"The number of people employed in your town. Unemployed people are more likely to leave.",value:n.townInfo.employees,modifier:null,color:p(n.townInfo.employees/n.townInfo.population_count),hover:!0,max:n.townInfo.population_count},{name:"🛝 Recreation",description:"Tracker for how many plots you have for recreation, which keeps townspeople happy. <br/><br/>Make sure as your town grows that you build enough 🛝 plots. ",value:n.townInfo.recreation,modifier:null,color:n.townInfo.recreation/fu(n)>=.2?"bg-green-500":"bg-orange-300",hover:!0,max:fu(n)}]),t.$$.dirty[0]&6147){const E=n.resources.food>=n.resource_capacity||n.resources.wood>=n.resource_capacity||n.resources.stone>=n.resource_capacity||n.resources.metal>=n.resource_capacity,j=Date.now();E&&!f&&j-u>3e4&&!c&&!n.gameSettings.includes("bagOfHolding")&&localStorage.getItem(Rt)==null&&(v(),o(11,u=j)),o(12,f=E),o(2,l=E)}},[c,n,l,a,s,d,h,i,r,_,w,u,f,A]}class td extends he{constructor(e){super(),pe(this,e,v3,_3,de,{mini:0},null,[-1,-1])}}function cu(t,e,o){const n=t.slice();return n[4]=e[o],n[6]=o,n}function du(t,e,o){const n=t.slice();return n[4]=e[o],n[6]=o,n}function mu(t,e,o){const n=t.slice();return n[4]=e[o],n[6]=o,n}function pu(t){let e,o,n,i=te[ye(t[0].id)].title+"",r,l,a,s=te[ye(t[0].id)].description+"",u,f,c,d,m,_,h,p,w,v=t[3]("💰",te[ye(t[0].id)].requirements.gold,t[2].townInfo.gold)+"",A,E,j=t[3]("🥕",te[ye(t[0].id)].requirements.resources.food,t[2].resources.food)+"",F,$,P=t[3]("🧠",te[ye(t[0].id)].requirements.knowledge,t[2].townInfo.knowledge_points)+"",R,q,I=t[3]("🪵",te[ye(t[0].id)].requirements.resources.wood,t[2].resources.wood)+"",C,k,N=t[3]("🪨",te[ye(t[0].id)].requirements.resources.stone,t[2].resources.stone)+"",B,D,J=t[3]("🧲",te[ye(t[0].id)].requirements.resources.metal,t[2].resources.metal)+"",Z,X,ne=t[3]("🔋",te[ye(t[0].id)].active_costs.power,t[2].resources.power)+"",ee,oe,we=t[3]("🧑‍⚖️",te[ye(t[0].id)].requirements.resources.bureaucracy,t[2].resources.bureaucracy)+"",ae,ie=te[ye(t[0].id)].requirements.employees!=0,qe,He=te[ye(t[0].id)].revenue_per_week!=0,Ue,ot=Object.values(te[ye(t[0].id)].active_costs).some(Mu),g,x=Object.values(te[ye(t[0].id)].requirements.plots).length>0,V,le=Object.values(te[ye(t[0].id)].generated_resources).some(Iu)||te[ye(t[0].id)].knowledge_points_per_month>0,me;d=new vt({props:{class:"bg-accent opacity-25 mt-1 mb-1"}});let Ce=ie&&hu(t),Pe=He&&gu(t),Ee=ot&&_u(t),We=x&&yu(t),Re=le&&Cu(t);return{c(){e=T("div"),o=T("div"),n=T("span"),r=K(i),l=G(),a=T("span"),u=K(s),f=G(),c=T("div"),U(d.$$.fragment),m=G(),_=T("span"),_.textContent="Requirements",h=G(),p=T("div"),w=new sn(!1),A=G(),E=new sn(!1),F=G(),$=new sn(!1),R=G(),q=new sn(!1),C=G(),k=new sn(!1),B=G(),D=new sn(!1),Z=G(),X=new sn(!1),ee=G(),oe=new sn(!1),ae=G(),Ce&&Ce.c(),qe=G(),Pe&&Pe.c(),Ue=G(),Ee&&Ee.c(),g=G(),We&&We.c(),V=G(),Re&&Re.c(),L(n,"class","text-md font-semibold"),L(a,"class","text-xs"),L(o,"class","flex flex-col gap-1 mb-1"),L(_,"class","font-semibold"),w.a=A,E.a=F,$.a=R,q.a=C,k.a=B,D.a=Z,X.a=ee,oe.a=ae,L(p,"class","flex flex-row gap-1 flex-wrap"),L(c,"class","flex flex-col w-36 h-min text-xs pb-1"),L(e,"class","p-2 max-w-64")},m(ke,Ye){O(ke,e,Ye),b(e,o),b(o,n),b(n,r),b(o,l),b(o,a),b(a,u),b(e,f),b(e,c),W(d,c,null),b(c,m),b(c,_),b(c,h),b(c,p),w.m(v,p),b(p,A),E.m(j,p),b(p,F),$.m(P,p),b(p,R),q.m(I,p),b(p,C),k.m(N,p),b(p,B),D.m(J,p),b(p,Z),X.m(ne,p),b(p,ee),oe.m(we,p),b(p,ae),Ce&&Ce.m(p,null),b(e,qe),Pe&&Pe.m(e,null),b(e,Ue),Ee&&Ee.m(e,null),b(e,g),We&&We.m(e,null),b(e,V),Re&&Re.m(e,null),me=!0},p(ke,Ye){(!me||Ye&1)&&i!==(i=te[ye(ke[0].id)].title+"")&&ce(r,i),(!me||Ye&1)&&s!==(s=te[ye(ke[0].id)].description+"")&&ce(u,s),(!me||Ye&5)&&v!==(v=ke[3]("💰",te[ye(ke[0].id)].requirements.gold,ke[2].townInfo.gold)+"")&&w.p(v),(!me||Ye&5)&&j!==(j=ke[3]("🥕",te[ye(ke[0].id)].requirements.resources.food,ke[2].resources.food)+"")&&E.p(j),(!me||Ye&5)&&P!==(P=ke[3]("🧠",te[ye(ke[0].id)].requirements.knowledge,ke[2].townInfo.knowledge_points)+"")&&$.p(P),(!me||Ye&5)&&I!==(I=ke[3]("🪵",te[ye(ke[0].id)].requirements.resources.wood,ke[2].resources.wood)+"")&&q.p(I),(!me||Ye&5)&&N!==(N=ke[3]("🪨",te[ye(ke[0].id)].requirements.resources.stone,ke[2].resources.stone)+"")&&k.p(N),(!me||Ye&5)&&J!==(J=ke[3]("🧲",te[ye(ke[0].id)].requirements.resources.metal,ke[2].resources.metal)+"")&&D.p(J),(!me||Ye&5)&&ne!==(ne=ke[3]("🔋",te[ye(ke[0].id)].active_costs.power,ke[2].resources.power)+"")&&X.p(ne),(!me||Ye&5)&&we!==(we=ke[3]("🧑‍⚖️",te[ye(ke[0].id)].requirements.resources.bureaucracy,ke[2].resources.bureaucracy)+"")&&oe.p(we),Ye&1&&(ie=te[ye(ke[0].id)].requirements.employees!=0),ie?Ce?Ce.p(ke,Ye):(Ce=hu(ke),Ce.c(),Ce.m(p,null)):Ce&&(Ce.d(1),Ce=null),Ye&1&&(He=te[ye(ke[0].id)].revenue_per_week!=0),He?Pe?(Pe.p(ke,Ye),Ye&1&&y(Pe,1)):(Pe=gu(ke),Pe.c(),y(Pe,1),Pe.m(e,Ue)):Pe&&(Me(),S(Pe,1,1,()=>{Pe=null}),Oe()),Ye&1&&(ot=Object.values(te[ye(ke[0].id)].active_costs).some(Mu)),ot?Ee?(Ee.p(ke,Ye),Ye&1&&y(Ee,1)):(Ee=_u(ke),Ee.c(),y(Ee,1),Ee.m(e,g)):Ee&&(Me(),S(Ee,1,1,()=>{Ee=null}),Oe()),Ye&1&&(x=Object.values(te[ye(ke[0].id)].requirements.plots).length>0),x?We?(We.p(ke,Ye),Ye&1&&y(We,1)):(We=yu(ke),We.c(),y(We,1),We.m(e,V)):We&&(Me(),S(We,1,1,()=>{We=null}),Oe()),Ye&1&&(le=Object.values(te[ye(ke[0].id)].generated_resources).some(Iu)||te[ye(ke[0].id)].knowledge_points_per_month>0),le?Re?(Re.p(ke,Ye),Ye&1&&y(Re,1)):(Re=Cu(ke),Re.c(),y(Re,1),Re.m(e,null)):Re&&(Me(),S(Re,1,1,()=>{Re=null}),Oe())},i(ke){me||(y(d.$$.fragment,ke),y(Pe),y(Ee),y(We),y(Re),me=!0)},o(ke){S(d.$$.fragment,ke),S(Pe),S(Ee),S(We),S(Re),me=!1},d(ke){ke&&M(e),Y(d),Ce&&Ce.d(),Pe&&Pe.d(),Ee&&Ee.d(),We&&We.d(),Re&&Re.d()}}}function hu(t){let e,o,n=te[ye(t[0].id)].requirements.employees+"",i,r,l;return{c(){e=T("span"),o=K("👥 "),i=K(n),r=K(" employees"),L(e,"class",l=te[ye(t[0].id)].requirements.employees>t[2].townInfo.population_count-t[2].townInfo.employees&&t[1]?"px-1 text-textDanger font-bold border-2 border-red-400":"")},m(a,s){O(a,e,s),b(e,o),b(e,i),b(e,r)},p(a,s){s&1&&n!==(n=te[ye(a[0].id)].requirements.employees+"")&&ce(i,n),s&7&&l!==(l=te[ye(a[0].id)].requirements.employees>a[2].townInfo.population_count-a[2].townInfo.employees&&a[1]?"px-1 text-textDanger font-bold border-2 border-red-400":"")&&L(e,"class",l)},d(a){a&&M(e)}}}function gu(t){let e,o,n,i,r,l,a,s=te[ye(t[0].id)].revenue_per_week+"",u,f;return o=new vt({props:{class:"bg-accent opacity-25 mt-0"}}),{c(){e=T("div"),U(o.$$.fragment),n=G(),i=T("span"),i.textContent="Weekly revenue",r=G(),l=T("span"),a=K("💰 "),u=K(s),L(i,"class","font-semibold"),L(e,"class","flex flex-col gap-1 text-xs")},m(c,d){O(c,e,d),W(o,e,null),b(e,n),b(e,i),b(e,r),b(e,l),b(l,a),b(l,u),f=!0},p(c,d){(!f||d&1)&&s!==(s=te[ye(c[0].id)].revenue_per_week+"")&&ce(u,s)},i(c){f||(y(o.$$.fragment,c),f=!0)},o(c){S(o.$$.fragment,c),f=!1},d(c){c&&M(e),Y(o)}}}function _u(t){let e,o,n,i,r,l;o=new vt({props:{class:"bg-accent opacity-25 mt-2"}});let a=Ge(Object.keys(te[ye(t[0].id)].active_costs)),s=[];for(let u=0;u<a.length;u+=1)s[u]=vu(mu(t,a,u));return{c(){e=T("div"),U(o.$$.fragment),n=G(),i=T("span"),i.textContent="Weekly Costs",r=G();for(let u=0;u<s.length;u+=1)s[u].c();L(i,"class","font-semibold"),L(e,"class","flex flex-col gap-1 text-xs")},m(u,f){O(u,e,f),W(o,e,null),b(e,n),b(e,i),b(e,r);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(e,null);l=!0},p(u,f){if(f&1){a=Ge(Object.keys(te[ye(u[0].id)].active_costs));let c;for(c=0;c<a.length;c+=1){const d=mu(u,a,c);s[c]?s[c].p(d,f):(s[c]=vu(d),s[c].c(),s[c].m(e,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=a.length}},i(u){l||(y(o.$$.fragment,u),l=!0)},o(u){S(o.$$.fragment,u),l=!1},d(u){u&&M(e),Y(o),rt(s,u)}}}function bu(t){let e,o=Qn(t[4])+"",n,i,r=qi(t[4])+"",l,a,s=-1*Object.values(te[ye(t[0].id)].active_costs)[t[6]]+"",u,f,c;return{c(){e=T("span"),n=K(o),i=G(),l=K(r),a=G(),u=K(s),f=G(),L(e,"class",c=Object.values(te[ye(t[0].id)].active_costs)[t[6]]>0?"text-textDanger":"text-textHappy")},m(d,m){O(d,e,m),b(e,n),b(e,i),b(e,l),b(e,a),b(e,u),b(e,f)},p(d,m){m&1&&o!==(o=Qn(d[4])+"")&&ce(n,o),m&1&&r!==(r=qi(d[4])+"")&&ce(l,r),m&1&&s!==(s=-1*Object.values(te[ye(d[0].id)].active_costs)[d[6]]+"")&&ce(u,s),m&1&&c!==(c=Object.values(te[ye(d[0].id)].active_costs)[d[6]]>0?"text-textDanger":"text-textHappy")&&L(e,"class",c)},d(d){d&&M(e)}}}function vu(t){let e=Object.values(te[ye(t[0].id)].active_costs)[t[6]]!=0,o,n=e&&bu(t);return{c(){n&&n.c(),o=Le()},m(i,r){n&&n.m(i,r),O(i,o,r)},p(i,r){r&1&&(e=Object.values(te[ye(i[0].id)].active_costs)[i[6]]!=0),e?n?n.p(i,r):(n=bu(i),n.c(),n.m(o.parentNode,o)):n&&(n.d(1),n=null)},d(i){i&&M(o),n&&n.d(i)}}}function yu(t){let e,o,n,i,r,l;o=new vt({props:{class:"bg-accent opacity-25 mt-2"}});let a=Ge(Object.keys(te[ye(t[0].id)].requirements.plots)),s=[];for(let u=0;u<a.length;u+=1)s[u]=ku(du(t,a,u));return{c(){e=T("div"),U(o.$$.fragment),n=G(),i=T("span"),i.textContent="Required Plots",r=G();for(let u=0;u<s.length;u+=1)s[u].c();L(i,"class","font-semibold"),L(e,"class","flex flex-col gap-1 text-xs")},m(u,f){O(u,e,f),W(o,e,null),b(e,n),b(e,i),b(e,r);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(e,null);l=!0},p(u,f){if(f&5){a=Ge(Object.keys(te[ye(u[0].id)].requirements.plots));let c;for(c=0;c<a.length;c+=1){const d=du(u,a,c);s[c]?s[c].p(d,f):(s[c]=ku(d),s[c].c(),s[c].m(e,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=a.length}},i(u){l||(y(o.$$.fragment,u),l=!0)},o(u){S(o.$$.fragment,u),l=!1},d(u){u&&M(e),Y(o),rt(s,u)}}}function wu(t){var l;let e,o=((l=El(Object.values(te[ye(t[0].id)].requirements.plots)[t[6]]))==null?void 0:l.title)+"",n,i,r;return{c(){e=T("span"),n=K(o),i=G(),L(e,"class",r=De(Object.values(te[ye(t[0].id)].requirements.plots)[t[6]],t[2]).length==0?"text-textDanger border-2 border-red-400 font-semibold px-1":"text-textHappy")},m(a,s){O(a,e,s),b(e,n),b(e,i)},p(a,s){var u;s&1&&o!==(o=((u=El(Object.values(te[ye(a[0].id)].requirements.plots)[a[6]]))==null?void 0:u.title)+"")&&ce(n,o),s&5&&r!==(r=De(Object.values(te[ye(a[0].id)].requirements.plots)[a[6]],a[2]).length==0?"text-textDanger border-2 border-red-400 font-semibold px-1":"text-textHappy")&&L(e,"class",r)},d(a){a&&M(e)}}}function ku(t){let e=Object.values(te[ye(t[0].id)].requirements.plots)[t[6]]!=0,o,n=e&&wu(t);return{c(){n&&n.c(),o=Le()},m(i,r){n&&n.m(i,r),O(i,o,r)},p(i,r){r&1&&(e=Object.values(te[ye(i[0].id)].requirements.plots)[i[6]]!=0),e?n?n.p(i,r):(n=wu(i),n.c(),n.m(o.parentNode,o)):n&&(n.d(1),n=null)},d(i){i&&M(o),n&&n.d(i)}}}function Cu(t){let e,o,n,i,r,l=te[ye(t[0].id)].knowledge_points_per_month>0,a,s;o=new vt({props:{class:"bg-accent opacity-25 mt-2"}});let u=l&&Su(t),f=Ge(Object.keys(te[ye(t[0].id)].generated_resources)),c=[];for(let d=0;d<f.length;d+=1)c[d]=Tu(cu(t,f,d));return{c(){e=T("div"),U(o.$$.fragment),n=G(),i=T("span"),i.textContent="Generated Resources",r=G(),u&&u.c(),a=G();for(let d=0;d<c.length;d+=1)c[d].c();L(i,"class","font-semibold"),L(e,"class","flex flex-col gap-1 text-xs")},m(d,m){O(d,e,m),W(o,e,null),b(e,n),b(e,i),b(e,r),u&&u.m(e,null),b(e,a);for(let _=0;_<c.length;_+=1)c[_]&&c[_].m(e,null);s=!0},p(d,m){if(m&1&&(l=te[ye(d[0].id)].knowledge_points_per_month>0),l?u?u.p(d,m):(u=Su(d),u.c(),u.m(e,a)):u&&(u.d(1),u=null),m&1){f=Ge(Object.keys(te[ye(d[0].id)].generated_resources));let _;for(_=0;_<f.length;_+=1){const h=cu(d,f,_);c[_]?c[_].p(h,m):(c[_]=Tu(h),c[_].c(),c[_].m(e,null))}for(;_<c.length;_+=1)c[_].d(1);c.length=f.length}},i(d){s||(y(o.$$.fragment,d),s=!0)},o(d){S(o.$$.fragment,d),s=!1},d(d){d&&M(e),Y(o),u&&u.d(),rt(c,d)}}}function Su(t){let e,o,n=Math.round(te[ye(t[0].id)].knowledge_points_per_month)+"",i,r;return{c(){e=T("span"),o=K("🧠 "),i=K(n),r=K(" (monthly)")},m(l,a){O(l,e,a),b(e,o),b(e,i),b(e,r)},p(l,a){a&1&&n!==(n=Math.round(te[ye(l[0].id)].knowledge_points_per_month)+"")&&ce(i,n)},d(l){l&&M(e)}}}function Au(t){let e,o=qi(t[4])+"",n,i,r=Qn(t[4])+"",l,a,s=Rl(Object.values(te[ye(t[0].id)].generated_resources)[t[6]],!1)+"",u,f,c;return{c(){e=T("span"),n=K(o),i=G(),l=K(r),a=G(),u=K(s),f=G(),L(e,"class",c=Object.values(te[ye(t[0].id)].generated_resources)[t[6]]>0?"text-textHappy":"text-textDanger")},m(d,m){O(d,e,m),b(e,n),b(e,i),b(e,l),b(e,a),b(e,u),b(e,f)},p(d,m){m&1&&o!==(o=qi(d[4])+"")&&ce(n,o),m&1&&r!==(r=Qn(d[4])+"")&&ce(l,r),m&1&&s!==(s=Rl(Object.values(te[ye(d[0].id)].generated_resources)[d[6]],!1)+"")&&ce(u,s),m&1&&c!==(c=Object.values(te[ye(d[0].id)].generated_resources)[d[6]]>0?"text-textHappy":"text-textDanger")&&L(e,"class",c)},d(d){d&&M(e)}}}function Tu(t){let e=Object.values(te[ye(t[0].id)].generated_resources)[t[6]]!=0,o,n=e&&Au(t);return{c(){n&&n.c(),o=Le()},m(i,r){n&&n.m(i,r),O(i,o,r)},p(i,r){r&1&&(e=Object.values(te[ye(i[0].id)].generated_resources)[i[6]]!=0),e?n?n.p(i,r):(n=Au(i),n.c(),n.m(o.parentNode,o)):n&&(n.d(1),n=null)},d(i){i&&M(o),n&&n.d(i)}}}function y3(t){let e,o,n=t[0]!=null&&pu(t);return{c(){n&&n.c(),e=Le()},m(i,r){n&&n.m(i,r),O(i,e,r),o=!0},p(i,[r]){i[0]!=null?n?(n.p(i,r),r&1&&y(n,1)):(n=pu(i),n.c(),y(n,1),n.m(e.parentNode,e)):n&&(Me(),S(n,1,1,()=>{n=null}),Oe())},i(i){o||(y(n),o=!0)},o(i){S(n),o=!1},d(i){i&&M(e),n&&n.d(i)}}}function qi(t){switch(t){case"food":return"🥕";case"knowledge":return"🧠";case"wood":return"🪵";case"stone":return"🪨";case"metal":return"🧲";case"power":return"🔋";case"bureaucracy":return"🧑‍⚖️";default:return"💰"}}const Iu=t=>t!=0,Mu=t=>t!=0;function w3(t,e,o){let n;se(t,Ie,a=>o(2,n=a));let{option:i}=e,{checkRequirements:r=!0}=e;function l(a,s,u){if(s==0||s==null)return"<span class='hidden'></span>";let f="",c="";return u<s&&r&&(c="text-textDanger border-2 border-red-400 px-2"),f=`<span class='${c}'>${a} ${st(s,!1)}</span>`,f}return t.$$set=a=>{"option"in a&&o(0,i=a.option),"checkRequirements"in a&&o(1,r=a.checkRequirements)},[i,r,n,l]}class nd extends he{constructor(e){super(),pe(this,e,w3,y3,de,{option:0,checkRequirements:1})}}function Ou(t,e,o){const n=t.slice();return n[19]=e[o],n}function k3(t){let e,o;return{c(){e=T("span"),o=K(t[3]),L(e,"class","text-[11px] text-wrap")},m(n,i){O(n,e,i),b(e,o)},p(n,i){i&8&&ce(o,n[3])},d(n){n&&M(e)}}}function C3(t){let e;return{c(){e=T("span"),e.textContent="Click to bulldoze",L(e,"class","text-[11px] text-wrap text-yellow-300")},m(o,n){O(o,e,n)},p:Te,d(o){o&&M(e)}}}function S3(t){let e,o,n,i,r;return{c(){e=T("span"),o=K(`Hires
              `),n=T("span"),i=K(t[10]),r=K(`

              employees`),L(n,"class",t[11]+" font-medium svelte-1c0sbj7"),L(e,"class","text-[11px] opacity-80")},m(l,a){O(l,e,a),b(e,o),b(e,n),b(n,i),b(e,r)},p:Te,d(l){l&&M(e)}}}function A3(t){let e;return{c(){e=T("span"),e.textContent=`+💰${st(t[9],!1)}/wk`},m(o,n){O(o,e,n)},p:Te,d(o){o&&M(e)}}}function T3(t){let e;return{c(){e=T("span"),e.textContent=`🔌${t[12]}`},m(o,n){O(o,e,n)},p:Te,d(o){o&&M(e)}}}function Pu(t){let e,o,n,i,r=Ge(t[4]),l=[];for(let a=0;a<r.length;a+=1)l[a]=Nu(Ou(t,r,a));return{c(){e=T("div"),o=T("div"),n=T("div"),n.textContent=`${t[5]}`,i=G();for(let a=0;a<l.length;a+=1)l[a].c();L(n,"class","text-white font-bold text-lg mb-2"),L(o,"class","p-2 text-center mt-4"),L(e,"class","absolute inset-0 flex items-start justify-center rounded-xl bg-black/80")},m(a,s){O(a,e,s),b(e,o),b(o,n),b(o,i);for(let u=0;u<l.length;u+=1)l[u]&&l[u].m(o,null)},p(a,s){if(s&16){r=Ge(a[4]);let u;for(u=0;u<r.length;u+=1){const f=Ou(a,r,u);l[u]?l[u].p(f,s):(l[u]=Nu(f),l[u].c(),l[u].m(o,null))}for(;u<l.length;u+=1)l[u].d(1);l.length=r.length}},d(a){a&&M(e),rt(l,a)}}}function Nu(t){let e,o=t[19]+"",n,i;return{c(){e=T("div"),n=K(o),i=G(),L(e,"class","text-red-400 font-semibold text-[10px] mb-1")},m(r,l){O(r,e,l),b(e,n),b(e,i)},p(r,l){l&16&&o!==(o=r[19]+"")&&ce(n,o)},d(r){r&&M(e)}}}function I3(t){let e,o,n,i,r,l,a,s,u,f,c,d,m,_=st(t[7],!1)+"",h,p,w,v,A,E,j,F,$;function P(B,D){if(B[0].selected)return C3;if(B[3])return k3}let R=P(t),q=R&&R(t),I=t[10]&&S3(t),C=t[9]>0&&A3(t),k=t[12]>0&&T3(t),N=!t[2].affordable&&!t[0].selected&&Pu(t);return{c(){e=T("div"),o=T("div"),n=T("div"),i=T("span"),i.textContent=`${t[6]}`,r=G(),l=T("span"),l.textContent=`${t[5]}`,a=G(),q&&q.c(),s=G(),u=T("div"),I&&I.c(),f=G(),c=T("div"),d=T("span"),m=K("💰"),h=K(_),p=G(),C&&C.c(),w=G(),v=T("div"),k&&k.c(),E=G(),N&&N.c(),L(i,"class","text-3xl"),L(l,"class","font-medium text-center text-md"),L(n,"class","flex flex-col flex-grow rounded-xl p-2 gap-0 justify-center items-center"),L(d,"class",""+t[8]+" svelte-1c0sbj7"),L(c,"class","flex flex-row justify-between mx-2 text-[11px] font-mono items-center"),L(v,"class","flex flex-row justify-between mx-2 text-[11px] font-mono"),L(u,"class","bg-sidebarBackground text-black rounded-b-lg z-50 py-1"),L(o,"class",A="flex flex-col w-36 h-48 min-h-32 min-w-36 rounded-xl text-white z-10 drop-shadow-lg border-black border-2 hover:translate-y-[-8px] transition-transform duration-300 ease-in-out z-100 "+(t[0].selected?"border-4 border-white scale-105":"")),Xe(o,"background",t[13]),L(e,"class","plotOption relative svelte-1c0sbj7"),L(e,"data-plotoptionid",j=t[0].id)},m(B,D){O(B,e,D),b(e,o),b(o,n),b(n,i),b(n,r),b(n,l),b(n,a),q&&q.m(n,null),b(o,s),b(o,u),I&&I.m(u,null),b(u,f),b(u,c),b(c,d),b(d,m),b(d,h),b(c,p),C&&C.m(c,null),b(u,w),b(u,v),k&&k.m(v,null),b(e,E),N&&N.m(e,null),F||($=z(e,"click",function(){$t(t[2].affordable?t[16]:Eu)&&(t[2].affordable?t[16]:Eu).apply(this,arguments)}),F=!0)},p(B,D){t=B,R===(R=P(t))&&q?q.p(t,D):(q&&q.d(1),q=R&&R(t),q&&(q.c(),q.m(n,null))),t[10]&&I.p(t,D),t[9]>0&&C.p(t,D),t[12]>0&&k.p(t,D),D&1&&A!==(A="flex flex-col w-36 h-48 min-h-32 min-w-36 rounded-xl text-white z-10 drop-shadow-lg border-black border-2 hover:translate-y-[-8px] transition-transform duration-300 ease-in-out z-100 "+(t[0].selected?"border-4 border-white scale-105":""))&&L(o,"class",A),!t[2].affordable&&!t[0].selected?N?N.p(t,D):(N=Pu(t),N.c(),N.m(e,null)):N&&(N.d(1),N=null),D&1&&j!==(j=t[0].id)&&L(e,"data-plotoptionid",j)},d(B){B&&M(e),q&&q.d(),I&&I.d(),C&&C.d(),k&&k.d(),N&&N.d(),F=!1,$()}}}function M3(t){let e,o;return e=new nd({props:{option:t[0],checkRequirements:!0}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,i){const r={};i&1&&(r.option=n[0]),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){S(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function O3(t){let e,o,n,i;return e=new ho({props:{$$slots:{default:[I3]},$$scope:{ctx:t}}}),n=new mo({props:{$$slots:{default:[M3]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),o=G(),U(n.$$.fragment)},m(r,l){W(e,r,l),O(r,o,l),W(n,r,l),i=!0},p(r,l){const a={};l&4194335&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&4194305&&(s.$$scope={dirty:l,ctx:r}),n.$set(s)},i(r){i||(y(e.$$.fragment,r),y(n.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(n.$$.fragment,r),i=!1},d(r){r&&M(o),Y(e,r),Y(n,r)}}}function P3(t){let e,o;return e=new po({props:{openDelay:400,closeDelay:0,$$slots:{default:[O3]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,[i]){const r={};i&4194335&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){S(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}const Eu=()=>{};function N3(t,e,o){let n,i;se(t,Ie,j=>o(15,i=j));let{option:r}=e,{purchaseCallback:l}=e,{isAffordable:a}=e,s=r.title,u=r.emoji,f=r.requirements.gold,c=i.townInfo.gold<f?"text-red-500 font-semibold":"",d=r.revenue_per_week,m=r.requirements.employees,_=i.townInfo.population_count-i.townInfo.employees<m?"text-red-500 font-semibold":"",h=r.active_costs.power,p=Ir(ye(r.id),!1,5),{count:w=0}=e,v="";const A=Object.entries(r.generated_resources).filter(([j,F])=>F>0).map(([j,F])=>`${F} ${j}`);A.length>0&&(v=`Produces: ${A.join(", ")}`);const E=()=>l(r);return t.$$set=j=>{"option"in j&&o(0,r=j.option),"purchaseCallback"in j&&o(1,l=j.purchaseCallback),"isAffordable"in j&&o(2,a=j.isAffordable),"count"in j&&o(14,w=j.count)},t.$$.update=()=>{t.$$.dirty&32768,t.$$.dirty&4&&o(4,n=(()=>{const j=[];return a.gold||j.push("Not enough gold"),a.knowledge||j.push("Not enough knowledge"),a.resources||j.push("Missing resources"),a.employees||j.push("Not enough workers"),a.activeCosts||j.push("Can't support active costs"),a.adjacent||j.push("Missing adjacent plots"),a.requiredPlots||j.push("Missing required plots"),j})())},[r,l,a,v,n,s,u,f,c,d,m,_,h,p,w,i,E]}class E3 extends he{constructor(e){super(),pe(this,e,N3,P3,de,{option:0,purchaseCallback:1,isAffordable:2,count:14})}}const{Map:R3}=ud;function Ru(t,e,o){const n=t.slice();return n[21]=e[o],n}function $u(t){let e,o,n,i,r,l,a,s,u,f,c=[],d=new R3,m,_,h,p,w,v,A,E,j=Ge(t[5].filter(t[11]));const F=$=>$[21].id;for(let $=0;$<j.length;$+=1){let P=Ru(t,j,$),R=F(P);d.set(R,c[$]=Lu(R,P))}return p=new td({props:{mini:!0}}),{c(){e=T("div"),n=G(),i=T("div"),r=T("div"),l=T("div"),a=T("div"),s=T("div"),u=T("div"),f=T("div");for(let $=0;$<c.length;$+=1)c[$].c();_=G(),h=T("div"),U(p.$$.fragment),L(e,"class","fixed inset-0 bg-black/20 z-[998]"),L(f,"class",m="flex flex-row text-start justify-start items-start flex-wrap py-8 px-8 max-w-[75vw] "+(t[3].isMineralSource,"pt-6 gap-2")+" w-full align-middle"),L(s,"class","flex gap-1 pb-24 overflow-scroll max-h-["+Du+"]"),L(a,"class","flex flex-row gap-2 justify-start pt-8 flex-grow w-full"),L(r,"class","h-max w-full flex-grow"),L(i,"class","w-[100vw] fixed bottom-0 max-h-["+Du+"] z-[999] flex flex-row justify-center text-center items-center bg-popupBackground text-sidebarText px-4 shadow-2xl rounded-t-2xl")},m($,P){O($,e,P),O($,n,P),O($,i,P),b(i,r),b(r,l),b(l,a),b(a,s),b(s,u),b(u,f);for(let R=0;R<c.length;R+=1)c[R]&&c[R].m(f,null);b(i,_),b(i,h),W(p,h,null),v=!0,A||(E=[z(e,"click",t[10]),z(a,"click",t[6]),z(i,"click",dd(t[9]))],A=!0)},p($,P){P&59&&(j=Ge($[5].filter($[11])),Me(),c=Sd(c,P,F,1,$,j,d,f,Cd,Lu,null,Ru),Oe()),(!v||P&8&&m!==(m="flex flex-row text-start justify-start items-start flex-wrap py-8 px-8 max-w-[75vw] "+($[3].isMineralSource,"pt-6 gap-2")+" w-full align-middle"))&&L(f,"class",m)},i($){if(!v){$&&et(()=>{v&&(o||(o=gt(e,Oi,{duration:200},!0)),o.run(1))});for(let P=0;P<j.length;P+=1)y(c[P]);y(p.$$.fragment,$),$&&et(()=>{v&&(w||(w=gt(i,zs,{duration:200,axis:"y"},!0)),w.run(1))}),v=!0}},o($){$&&(o||(o=gt(e,Oi,{duration:200},!1)),o.run(0));for(let P=0;P<c.length;P+=1)S(c[P]);S(p.$$.fragment,$),$&&(w||(w=gt(i,zs,{duration:200,axis:"y"},!1)),w.run(0)),v=!1},d($){$&&(M(e),M(n),M(i)),$&&o&&o.end();for(let P=0;P<c.length;P+=1)c[P].d();Y(p),$&&w&&w.end(),A=!1,xe(E)}}}function Lu(t,e){let o,n,i;return n=new E3({props:{option:e[21],purchaseCallback:D3,isAffordable:Lo(e[21],e[4],e[0],e[1])}}),{key:t,first:null,c(){o=Le(),U(n.$$.fragment),this.first=o},m(r,l){O(r,o,l),W(n,r,l),i=!0},p(r,l){e=r;const a={};l&40&&(a.option=e[21]),l&59&&(a.isAffordable=Lo(e[21],e[4],e[0],e[1])),n.$set(a)},i(r){i||(y(n.$$.fragment,r),i=!0)},o(r){S(n.$$.fragment,r),i=!1},d(r){r&&M(o),Y(n,r)}}}function $3(t){let e=t[2]&&localStorage.getItem(Rt)==null,o,n,i=e&&$u(t);return{c(){i&&i.c(),o=Le()},m(r,l){i&&i.m(r,l),O(r,o,l),n=!0},p(r,[l]){l&4&&(e=r[2]&&localStorage.getItem(Rt)==null),e?i?(i.p(r,l),l&4&&y(i,1)):(i=$u(r),i.c(),y(i,1),i.m(o.parentNode,o)):i&&(Me(),S(i,1,1,()=>{i=null}),Oe())},i(r){n||(y(i),n=!0)},o(r){S(i),n=!1},d(r){r&&M(o),i&&i.d(r)}}}const Du="50vh";function L3(t,e,o){return t>=0&&t<o.length&&e>=0&&e<o[0].length&&!o[t][e].water&&!o[t][e].disabled}function ri(t,e,o,n,i){let r=t+o,l=e+n;for(;r>=0&&r<i.length&&l>=0&&l<i[0].length;){if(L3(r,l,i))return[r,l];r+=o,l+=n}return null}const D3=()=>{};function j3(t,e,o){let n,i,r,l;se(t,ze,$=>o(3,r=$)),se(t,Ie,$=>o(4,l=$));let{x:a=0}=e,{y:s=0}=e,{open:u=!1}=e,{tooltip:f=""}=e,c=te,d;const m=new Map;function _($){return m.has($)||m.set($,te.findIndex(P=>P.id===$)),m.get($)}function h($){return l.plots[a][s].type>-1?c[l.plots[a][s].type].id===$.id:!1}function p($){const P=$.target.closest(".plotOption");if(P){const R=P.dataset.plotoptionid;if(R===l.plots[a][s].typeId){v();return}w(R)}}function w($){const P=_($),R=c[P];let q=l;if(Lo(R,q,a,s).affordable){if(q.plots[a][s].type!==-1&&zn(a,s,q),o(7,f=""),q.plots[a][s].type=P,q.plots[a][s].active=!0,q.plots[a][s].typeId=R.id,q.townInfo.gold-=R.requirements.gold,q.townInfo.gold=tt(q.townInfo.gold,2),q.townInfo.population_count+=R.immediate_variable_changes.population,q.townInfo.population_max+=R.immediate_variable_changes.population,q.townInfo.happiness+=R.immediate_variable_changes.happiness,q.townInfo.health+=R.immediate_variable_changes.health,q.modifiers.happiness=tt(q.modifiers.happiness*R.purchase_effect_modifiers.happiness,2),q.modifiers.health=tt(q.modifiers.health*R.purchase_effect_modifiers.health,2),q.modifiers.community=tt(q.modifiers.community*R.purchase_effect_modifiers.community,2),q.townInfo.employees+=R.requirements.employees,(q.plotCounts[P]===void 0||q.plotCounts[P]===null)&&(q.plotCounts[P]=0),q.plotCounts[P]++,q.lastChangeDay=q.environment.day,R.requirements.resources!==void 0){const C=R.requirements.resources;q.resources.food-=C.food,q.resources.wood-=C.wood,q.resources.stone-=C.stone,q.resources.metal-=C.metal}switch(R.id){case"city_hall":q.hasCityHall=!0;break;case"bank":q.hasBank=!0;break}Ef(q,sl.BUILD_PLOT,{plot_type:R.id,x:a.toString(),y:s.toString(),end_goal:q.endGoal,day:q.environment.day,settings:q.gameSettings.join(",")}),Ie.set(q),localStorage.setItem(nt,JSON.stringify(q));const I=km(a,s,q);if(I){const[C,k]=I;o(0,a=C),o(1,s=k),Ae(ze,r.x=C,r),Ae(ze,r.y=k,r);const N=document.querySelector(`.plot_container[data-x="${C}"][data-y="${k}"]`);if(N){const B=N.getBoundingClientRect(),D=window.innerHeight||d.clientHeight,J=window.innerWidth||d.clientWidth,Z=d.scrollTop+B.top-D/2+225,X=d.scrollLeft+B.left-J/2;window.scrollTo({top:Z,left:X,behavior:"smooth"}),document.querySelectorAll(".plot_container").forEach(ee=>ee.classList.remove("selected")),N.classList.add("selected")}}}else o(7,f="You do not have enough resources to purchase this plot. If it's a 'Large' plot, make sure you have a 2x2 area available. "),document.querySelectorAll(".plotOption").forEach(C=>{C.classList.remove("active")})}function v(){document.querySelectorAll(".plotOption").forEach(P=>{P.classList.remove("active")}),zn(a,s,l)}function A($){if(!u)return;let P=null;switch($.key.toLowerCase()){case"arrowup":case"w":P=ri(r.x,r.y,-1,0,l.plots);break;case"arrowdown":case"s":P=ri(r.x,r.y,1,0,l.plots);break;case"arrowleft":case"a":P=ri(r.x,r.y,0,-1,l.plots);break;case"arrowright":case"d":P=ri(r.x,r.y,0,1,l.plots);break;default:return}if(!P)return;const[R,q]=P;Ae(ze,r.x=R,r),Ae(ze,r.y=q,r);const I=document.querySelector(`.plot_container[data-x="${R}"][data-y="${q}"]`);if(I){const C=I.getBoundingClientRect(),k=window.innerHeight||d.clientHeight,N=window.innerWidth||d.clientWidth,B=d.scrollTop+C.top-k/2+225,D=d.scrollLeft+C.left-N/2;window.scrollTo({top:B,left:D,behavior:"smooth"}),document.querySelectorAll(".plot_container").forEach(Z=>Z.classList.remove("selected")),I.classList.add("selected")}}Go(()=>{d=document.documentElement||document.body,window.addEventListener("keydown",A)}),bf(()=>{window.removeEventListener("keydown",A)});function E($){re.call(this,t,$)}const j=()=>Ae(ze,r.visible=!1,r),F=$=>r.isMineralSource?$.id==="mine":$.id!=="mine";return t.$$set=$=>{"x"in $&&o(0,a=$.x),"y"in $&&o(1,s=$.y),"open"in $&&o(2,u=$.open),"tooltip"in $&&o(7,f=$.tooltip)},t.$$.update=()=>{t.$$.dirty&19&&o(8,n=l?c.map($=>Object.assign(Object.assign({},$),{affordable:Lo($,l,a,s).affordable,selected:h($)})):[]),t.$$.dirty&280&&o(5,i=l?(()=>{let $=[...n];if(r.isMineralSource)return $.filter(P=>P.id==="mine");De("tree_farm",l).length===0&&($=$.filter(P=>["small_homes","farm","tree_farm"].includes(P.id)));for(const[P,R]of Object.entries(Od))typeof R=="number"&&R>0&&De(P,l).length>=R&&($=$.filter(q=>q.id!==P));return $.sort((P,R)=>P.selected&&!R.selected?-1:0)})():[])},[a,s,u,r,l,i,p,f,n,E,j,F]}class od extends he{constructor(e){super(),pe(this,e,j3,$3,de,{x:0,y:1,open:2,tooltip:7})}}function F3(t){let e,o,n;return{c(){e=T("span"),o=K("My liege, if you build a City Hall, you can expand your city "),n=K(t[0]),L(e,"class","text-xs")},m(i,r){O(i,e,r),b(e,o),b(e,n)},p(i,r){r&1&&ce(n,i[0])},i:Te,o:Te,d(i){i&&M(e)}}}function B3(t){let e,o;return e=new Ot({props:{class:"bg-accent h-max rounded-2xl hover:scale-110 transition-transform duration-200 ease-in-out hover:drop-shadow-2xl",$$slots:{default:[q3]},$$scope:{ctx:t}}}),e.$on("click",t[2]),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,i){const r={};i&11&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){S(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function q3(t){let e,o,n,i,r,l=t[0].toUpperCase()+"",a,s,u,f,c,d,m,_,h,p,w,v=Math.round(Math.pow(1.7,t[1].kingdom_expansions+5))+"",A,E,j,F;return{c(){e=T("div"),o=K("My liege, you can expand your "),n=T("br"),i=K(`kingdom
        `),r=T("span"),a=K(l),s=K(`
        using
        `),u=T("br"),f=K(`your
        `),c=T("span"),c.textContent="City Hall",d=K("!"),m=T("br"),_=T("br"),h=G(),p=T("span"),w=K("Requires "),A=K(v),E=K(` Guardians
          `),j=T("br"),F=K("to be employed. (see city mgmt menu)"),L(r,"class","font-extrabold text-blue-200"),L(c,"class","text-blue-200 bold"),L(p,"class","opacity-75 text-xs")},m($,P){O($,e,P),b(e,o),b(e,n),b(e,i),b(e,r),b(r,a),b(e,s),b(e,u),b(e,f),b(e,c),b(e,d),b(e,m),b(e,_),b(e,h),b(e,p),b(p,w),b(p,A),b(p,E),b(p,j),b(p,F)},p($,P){P&1&&l!==(l=$[0].toUpperCase()+"")&&ce(a,l),P&2&&v!==(v=Math.round(Math.pow(1.7,$[1].kingdom_expansions+5))+"")&&ce(A,v)},d($){$&&M(e)}}}function x3(t){let e,o,n,i,r;const l=[B3,F3],a=[];function s(u,f){return f&2&&(o=null),o==null&&(o=De("city_hall",u[1]).length>0),o?0:1}return n=s(t,-1),i=a[n]=l[n](t),{c(){e=T("div"),i.c(),L(e,"class","w-48 h-max")},m(u,f){O(u,e,f),a[n].m(e,null),r=!0},p(u,[f]){let c=n;n=s(u,f),n===c?a[n].p(u,f):(Me(),S(a[c],1,1,()=>{a[c]=null}),Oe(),i=a[n],i?i.p(u,f):(i=a[n]=l[n](u),i.c()),y(i,1),i.m(e,null))},i(u){r||(y(i),r=!0)},o(u){S(i),r=!1},d(u){u&&M(e),a[n].d()}}}function H3(t,e,o){let n;se(t,Ie,l=>o(1,n=l));let{direction:i}=e;const r=()=>{const l=Im(n,i);l&&Ft(l)};return t.$$set=l=>{"direction"in l&&o(0,i=l.direction)},[i,n,r]}class ju extends he{constructor(e){super(),pe(this,e,H3,x3,de,{direction:0})}}function G3(t){let e;return{c(){e=T("span"),e.textContent="Start here!",L(e,"class","text-md text-black select-none transition-all duration-500 animate-pulse ")},m(o,n){O(o,e,n)},p:Te,d(o){o&&M(e)}}}function V3(t){let e,o,n,i=te[t[0].type].emoji+"",r,l,a,s,u,f=te[t[0].type].title+"",c,d,m,_,h;return{c(){e=T("div"),o=T("span"),n=T("span"),r=K(i),l=G(),a=T("br"),s=G(),u=T("span"),c=K(f),L(n,"class","text-lg align-text-top select-none"),L(u,"class",d="text-sm align-text-top "+(te[t[0].type].id=="mine"?"text-white":"text-black")+" select-none"),L(o,"data-size",m=te[t[0].type].requirements.size),L(o,"data-x",_=t[0].x),L(o,"data-y",h=t[0].y),L(e,"class","svelte-lm6uio")},m(p,w){O(p,e,w),b(e,o),b(o,n),b(n,r),b(o,l),b(o,a),b(o,s),b(o,u),b(u,c)},p(p,w){w&1&&i!==(i=te[p[0].type].emoji+"")&&ce(r,i),w&1&&f!==(f=te[p[0].type].title+"")&&ce(c,f),w&1&&d!==(d="text-sm align-text-top "+(te[p[0].type].id=="mine"?"text-white":"text-black")+" select-none")&&L(u,"class",d),w&1&&m!==(m=te[p[0].type].requirements.size)&&L(o,"data-size",m),w&1&&_!==(_=p[0].x)&&L(o,"data-x",_),w&1&&h!==(h=p[0].y)&&L(o,"data-y",h)},d(p){p&&M(e)}}}function Fu(t){let e;return{c(){e=T("span"),e.textContent="🧲",L(e,"class","text-lg")},m(o,n){O(o,e,n)},d(o){o&&M(e)}}}function Bu(t){let e;return{c(){e=T("span"),e.textContent="👑",L(e,"class","text-lg absolute top-0")},m(o,n){O(o,e,n)},d(o){o&&M(e)}}}function W3(t){let e,o,n,i=t[7](t[0].x,t[0].y),r,l,a,s,u,f,c,d,m,_,h,p,w,v,A,E;function j(q,I){if(q[0].type>-1)return V3;if(q[0].type==-1&&q[0].x==0&&q[0].y==0)return G3}let F=j(t),$=F&&F(t),P=t[0].mineralSource&&t[0].type==-1&&Fu(),R=i&&Bu();return{c(){e=T("button"),$&&$.c(),o=G(),P&&P.c(),n=G(),R&&R.c(),L(e,"class",r="plot_container "+t[1]+" overflow-visible "+(t[0].type==-1&&t[2]==!1,"")+" "+(t[0].mineralSource?"hidden":"")+" "+(t[2]?"cursor-pointer":"cursor-not-allowed")+" svelte-lm6uio"),Xe(e,"background-color",t[0].water?"rgba(66, 135, 245, 1)":t[5].x==t[0].x&&t[5].y==t[0].y&&t[5].visible?"white":t[0].mineralSource?"black":Ir(t[0].type,t[2])),L(e,"data-active",l=t[0].active),L(e,"data-hidehoveranimation",a=t[5].visible||t[0].type==-1&&t[0].x==0&&t[0].y==0),L(e,"data-id",s=t[0].id),L(e,"data-x",u=t[0].x),L(e,"data-y",f=t[0].y),L(e,"data-optionindex",c=t[0].optionIndex),L(e,"data-canbeupgraded",t[2]),L(e,"data-type",d=t[0].type),L(e,"data-type-id",m=t[0].typeId),L(e,"data-size",_=t[0].type>-1?te[t[0].type].requirements.size:null),L(e,"data-mineralsource",h=t[0].mineralSource),L(e,"data-water",p=t[0].water),L(e,"data-nearwater",w=Tn(t[0].x,t[0].y,t[3])),L(e,"data-liegelocation",v=t[7](t[0].x,t[0].y))},m(q,I){O(q,e,I),$&&$.m(e,null),b(e,o),P&&P.m(e,null),b(e,n),R&&R.m(e,null),A||(E=z(e,"click",function(){$t(t[0].water?null:t[6]?$l(t[0].x,t[0].y,t[3]):t[8])&&(t[0].water?null:t[6]?$l(t[0].x,t[0].y,t[3]):t[8]).apply(this,arguments)}),A=!0)},p(q,I){t=q,F===(F=j(t))&&$?$.p(t,I):($&&$.d(1),$=F&&F(t),$&&($.c(),$.m(e,o))),t[0].mineralSource&&t[0].type==-1?P||(P=Fu(),P.c(),P.m(e,n)):P&&(P.d(1),P=null),I&1&&(i=t[7](t[0].x,t[0].y)),i?R||(R=Bu(),R.c(),R.m(e,null)):R&&(R.d(1),R=null),I&7&&r!==(r="plot_container "+t[1]+" overflow-visible "+(t[0].type==-1&&t[2]==!1,"")+" "+(t[0].mineralSource?"hidden":"")+" "+(t[2]?"cursor-pointer":"cursor-not-allowed")+" svelte-lm6uio")&&L(e,"class",r),I&37&&Xe(e,"background-color",t[0].water?"rgba(66, 135, 245, 1)":t[5].x==t[0].x&&t[5].y==t[0].y&&t[5].visible?"white":t[0].mineralSource?"black":Ir(t[0].type,t[2])),I&1&&l!==(l=t[0].active)&&L(e,"data-active",l),I&33&&a!==(a=t[5].visible||t[0].type==-1&&t[0].x==0&&t[0].y==0)&&L(e,"data-hidehoveranimation",a),I&1&&s!==(s=t[0].id)&&L(e,"data-id",s),I&1&&u!==(u=t[0].x)&&L(e,"data-x",u),I&1&&f!==(f=t[0].y)&&L(e,"data-y",f),I&1&&c!==(c=t[0].optionIndex)&&L(e,"data-optionindex",c),I&4&&L(e,"data-canbeupgraded",t[2]),I&1&&d!==(d=t[0].type)&&L(e,"data-type",d),I&1&&m!==(m=t[0].typeId)&&L(e,"data-type-id",m),I&1&&_!==(_=t[0].type>-1?te[t[0].type].requirements.size:null)&&L(e,"data-size",_),I&1&&h!==(h=t[0].mineralSource)&&L(e,"data-mineralsource",h),I&1&&p!==(p=t[0].water)&&L(e,"data-water",p),I&9&&w!==(w=Tn(t[0].x,t[0].y,t[3]))&&L(e,"data-nearwater",w),I&1&&v!==(v=t[7](t[0].x,t[0].y))&&L(e,"data-liegelocation",v)},d(q){q&&M(e),$&&$.d(),P&&P.d(),R&&R.d(),A=!1,E()}}}function qu(t){let e;return{c(){e=K("Water - Place farms nearby for more food & revenue!")},m(o,n){O(o,e,n)},d(o){o&&M(e)}}}function xu(t){let e;return{c(){e=T("span"),e.textContent="Near water - Generating more food & revenue!",L(e,"class","text-xs bg-blue-500 text-white px-2 py-3 rounded-2xl text-center")},m(o,n){O(o,e,n)},d(o){o&&M(e)}}}function Hu(t){let e;function o(r,l){return te[r[0].type].liege_on_plot_hint==null?U3:Y3}let n=o(t),i=n(t);return{c(){e=T("span"),i.c(),L(e,"class","text-xs bg-pink-700 text-white px-2 py-3 rounded-2xl text-center")},m(r,l){O(r,e,l),i.m(e,null)},p(r,l){n===(n=o(r))&&i?i.p(r,l):(i.d(1),i=n(r),i&&(i.c(),i.m(e,null)))},d(r){r&&M(e),i.d()}}}function Y3(t){let e=te[t[0].type].liege_on_plot_hint+"",o;return{c(){o=K(e)},m(n,i){O(n,o,i)},p(n,i){i&1&&e!==(e=te[n[0].type].liege_on_plot_hint+"")&&ce(o,e)},d(n){n&&M(o)}}}function U3(t){let e,o=te[t[0].type].title+"",n,i;return{c(){e=K("You are hanging out on the "),n=K(o),i=K(` plot, but nothing
            seems to be changing except a revenue boost.`)},m(r,l){O(r,e,l),O(r,n,l),O(r,i,l)},p(r,l){l&1&&o!==(o=te[r[0].type].title+"")&&ce(n,o)},d(r){r&&(M(e),M(n),M(i))}}}function Gu(t){let e,o;return e=new nd({props:{option:t[4],checkRequirements:!1}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,i){const r={};i&16&&(r.option=n[4]),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){S(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function K3(t){let e,o,n=Tn(t[0].x,t[0].y,t[3]),i,r=Vn(t[0].x,t[0].y,t[3]),l,a,s=t[0].water&&qu(),u=n&&xu(),f=r&&Hu(t),c=t[0].active&&Gu(t);return{c(){e=T("div"),s&&s.c(),o=G(),u&&u.c(),i=G(),f&&f.c(),l=G(),c&&c.c(),L(e,"class","flex flex-col gap-2")},m(d,m){O(d,e,m),s&&s.m(e,null),b(e,o),u&&u.m(e,null),b(e,i),f&&f.m(e,null),b(e,l),c&&c.m(e,null),a=!0},p(d,m){d[0].water?s||(s=qu(),s.c(),s.m(e,o)):s&&(s.d(1),s=null),m&9&&(n=Tn(d[0].x,d[0].y,d[3])),n?u||(u=xu(),u.c(),u.m(e,i)):u&&(u.d(1),u=null),m&9&&(r=Vn(d[0].x,d[0].y,d[3])),r?f?f.p(d,m):(f=Hu(d),f.c(),f.m(e,l)):f&&(f.d(1),f=null),d[0].active?c?(c.p(d,m),m&1&&y(c,1)):(c=Gu(d),c.c(),y(c,1),c.m(e,null)):c&&(Me(),S(c,1,1,()=>{c=null}),Oe())},i(d){a||(y(c),a=!0)},o(d){S(c),a=!1},d(d){d&&M(e),s&&s.d(),u&&u.d(),f&&f.d(),c&&c.d()}}}function J3(t){let e,o,n,i;return e=new ho({props:{$$slots:{default:[W3]},$$scope:{ctx:t}}}),n=new mo({props:{class:"max-w-64 rounded-3xl "+(t[0].type<0&&!t[0].water?"hidden":""),$$slots:{default:[K3]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),o=G(),U(n.$$.fragment)},m(r,l){W(e,r,l),O(r,o,l),W(n,r,l),i=!0},p(r,l){const a={};l&8303&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&1&&(s.class="max-w-64 rounded-3xl "+(r[0].type<0&&!r[0].water?"hidden":"")),l&8217&&(s.$$scope={dirty:l,ctx:r}),n.$set(s)},i(r){i||(y(e.$$.fragment,r),y(n.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(n.$$.fragment,r),i=!1},d(r){r&&M(o),Y(e,r),Y(n,r)}}}function X3(t){let e,o;return e=new po({props:{openDelay:400,closeDelay:0,$$slots:{default:[J3]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,[i]){const r={};i&8319&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){S(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function Z3(t,e,o){let n,i,r,l,a,s;se(t,ze,p=>o(5,n=p)),se(t,Ie,p=>o(3,i=p)),se(t,It,p=>o(11,r=p)),se(t,vi,p=>o(12,l=p)),se(t,jt,p=>o(10,a=p)),se(t,to,p=>o(6,s=p));let{data:u={id:0,active:!1,x:0,y:0,type:-1,styling:"",mineralSource:!1,disabled:!1,water:!1}}=e,f,{classText:c=""}=e,{canBeUpgraded:d=!1}=e;const m=(p,w)=>i.liege_location!=null&&p==i.liege_location[0]&&w==i.liege_location[1];function _(p,w,v){if(localStorage.getItem(Rt)!=null)return;let A=document.querySelectorAll(".plot_container");if(r==!1)if(!u.active&&!d)Ae(vi,l={},l),Ae(ze,n.visible=!1,n),A.forEach(E=>{E.classList.remove("selected")});else{w!=null&&v!=null?(Ae(ze,n.x=w,n),Ae(ze,n.y=v,n)):(Ae(ze,n.x=u.x,n),Ae(ze,n.y=u.y,n)),Ae(ze,n.isMineralSource=u.mineralSource,n),Ae(ze,n.visible=!0,n);const E=document.querySelector(`.plot_container[data-id="${u.id}"]`),j=document.documentElement||document.body,F=E.getBoundingClientRect(),$=window.innerHeight||j.clientHeight,P=window.innerWidth||j.clientWidth,R=j.scrollTop+F.top-$/2+225,q=j.scrollLeft+F.left-P/2;window.scrollTo({top:R,left:q,behavior:"smooth"}),A.forEach(I=>{I.classList.remove("selected")}),w!=null&&v!=null?document.querySelector(`.plot_container[data-x="${w}"][data-y="${v}"]`).classList.add("selected"):document.querySelector(`.plot_container[data-id="${u.id}"]`).classList.add("selected")}}function h(p){r==!1&&(Ae(Ie,i.plots[u.x][u.y].type=p,i),Ae(ze,n.visible=!1,n))}return t.$$set=p=>{"data"in p&&o(0,u=p.data),"classText"in p&&o(1,c=p.classText),"canBeUpgraded"in p&&o(2,d=p.canBeUpgraded)},t.$$.update=()=>{t.$$.dirty&1033&&(u.type>-1&&o(4,f=te[u.type]),u.disabled==!0&&a.visible==!1&&(zn(u.x,u.y,i),o(0,u.disabled=!1,u),Ae(jt,a.visible=!1,a)))},[u,c,d,i,f,n,s,m,_,h,a]}class Q3 extends he{constructor(e){super(),pe(this,e,Z3,X3,de,{data:0,classText:1,canBeUpgraded:2,changePlotType:9})}get changePlotType(){return this.$$.ctx[9]}}function Vu(t,e,o){const n=t.slice();return n[8]=e[o],n[10]=o,n}function Wu(t,e,o){const n=t.slice();return n[11]=e[o],n}function Yu(t){let e,o,n,i,r,l,a,s,u,f,c,d=t[3],m,_,h=Ge(t[1].plots),p=[];for(let A=0;A<h.length;A+=1)p[A]=Ku(Vu(t,h,A));const w=A=>S(p[A],1,1,()=>{p[A]=null});a=new ju({props:{direction:"east"}}),f=new ju({props:{direction:"south"}});let v=Xu(t);return{c(){e=T("div"),o=T("div"),n=T("div"),i=T("div");for(let A=0;A<p.length;A+=1)p[A].c();r=G(),l=T("span"),U(a.$$.fragment),s=G(),u=T("span"),U(f.$$.fragment),c=G(),v.c(),m=Le(),L(i,"class","grid plot_controller svelte-1udphho"),L(n,"class","flex flex-row items-center"),L(o,"style",t[2]),L(o,"id","plotContainerMain"),L(o,"class","items-center h-max flex flex-col pr-80 pb-80  svelte-1udphho"),L(e,"class","flex flex-col")},m(A,E){O(A,e,E),b(e,o),b(o,n),b(n,i);for(let j=0;j<p.length;j+=1)p[j]&&p[j].m(i,null);b(n,r),b(n,l),W(a,l,null),b(o,s),b(o,u),W(f,u,null),O(A,c,E),v.m(A,E),O(A,m,E),_=!0},p(A,E){if(E&3){h=Ge(A[1].plots);let j;for(j=0;j<h.length;j+=1){const F=Vu(A,h,j);p[j]?(p[j].p(F,E),y(p[j],1)):(p[j]=Ku(F),p[j].c(),y(p[j],1),p[j].m(i,null))}for(Me(),j=h.length;j<p.length;j+=1)w(j);Oe()}(!_||E&4)&&L(o,"style",A[2]),E&8&&de(d,d=A[3])?(Me(),S(v,1,1,Te),Oe(),v=Xu(A),v.c(),y(v,1),v.m(m.parentNode,m)):v.p(A,E)},i(A){if(!_){for(let E=0;E<h.length;E+=1)y(p[E]);y(a.$$.fragment,A),y(f.$$.fragment,A),y(v),_=!0}},o(A){p=p.filter(Boolean);for(let E=0;E<p.length;E+=1)S(p[E]);S(a.$$.fragment,A),S(f.$$.fragment,A),S(v),_=!1},d(A){A&&(M(e),M(c),M(m)),rt(p,A),Y(a),Y(f),v.d(A)}}}function Uu(t){let e,o;return e=new Q3({props:{classText:"hexagon",data:t[11],canBeUpgraded:_i(t[11].x,t[11].y,t[1])}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,i){const r={};i&2&&(r.data=n[11]),i&2&&(r.canBeUpgraded=_i(n[11].x,n[11].y,n[1])),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){S(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function Ku(t){let e,o,n,i,r,l=Ge(t[8]),a=[];for(let u=0;u<l.length;u+=1)a[u]=Uu(Wu(t,l,u));const s=u=>S(a[u],1,1,()=>{a[u]=null});return{c(){e=T("div");for(let u=0;u<a.length;u+=1)a[u].c();o=G(),L(e,"class","row "+(t[10]%2!==0?"odd-row":"")+" svelte-1udphho")},m(u,f){O(u,e,f);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(e,null);b(e,o),n=!0,i||(r=z(e,"click",t[0]),i=!0)},p(u,f){if(f&2){l=Ge(u[8]);let c;for(c=0;c<l.length;c+=1){const d=Wu(u,l,c);a[c]?(a[c].p(d,f),y(a[c],1)):(a[c]=Uu(d),a[c].c(),y(a[c],1),a[c].m(e,o))}for(Me(),c=l.length;c<a.length;c+=1)s(c);Oe()}},i(u){if(!n){for(let f=0;f<l.length;f+=1)y(a[f]);n=!0}},o(u){a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)S(a[f]);n=!1},d(u){u&&M(e),rt(a,u),i=!1,r()}}}function Ju(t){let e,o;return e=new od({props:{x:t[4].x,y:t[4].y,open:t[4].visible}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,i){const r={};i&16&&(r.x=n[4].x),i&16&&(r.y=n[4].y),i&16&&(r.open=n[4].visible),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){S(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function Xu(t){let e,o,n=t[4].visible&&Ju(t);return{c(){n&&n.c(),e=Le()},m(i,r){n&&n.m(i,r),O(i,e,r),o=!0},p(i,r){i[4].visible?n?(n.p(i,r),r&16&&y(n,1)):(n=Ju(i),n.c(),y(n,1),n.m(e.parentNode,e)):n&&(Me(),S(n,1,1,()=>{n=null}),Oe())},i(i){o||(y(n),o=!0)},o(i){S(n),o=!1},d(i){i&&M(e),n&&n.d(i)}}}function z3(t){let e,o,n=t[1]!=null&&Yu(t);return{c(){n&&n.c(),e=Le()},m(i,r){n&&n.m(i,r),O(i,e,r),o=!0},p(i,[r]){i[1]!=null?n?(n.p(i,r),r&2&&y(n,1)):(n=Yu(i),n.c(),y(n,1),n.m(e.parentNode,e)):n&&(Me(),S(n,1,1,()=>{n=null}),Oe())},i(i){o||(y(n),o=!0)},o(i){S(n),o=!1},d(i){i&&M(e),n&&n.d(i)}}}const Sr="plotsSize";function e4(t,e,o){let n,i,r;se(t,vi,c=>o(3,n=c)),se(t,Ie,c=>o(1,i=c)),se(t,ze,c=>o(4,r=c));let l,a=localStorage.getItem(Sr)?parseInt(localStorage.getItem(Sr)):0,s=["margin-left: 300px; margin-top: 200px; scale: 1;","margin-left: 650px; margin-top: 600px; scale: 1.5;","margin-left: -50px; margin-top: -50px; scale: 0.6;"];document.addEventListener("keypress",function(c){c.key==="z"&&(a==s.length-1?o(5,a=0):o(5,a++,a),localStorage.setItem(Sr,a.toString()))}),document.addEventListener("click",function(c){const d=c.target;(d.dataset.x==null&&d.dataset.type!="-1"&&d.dataset.size!=null||d.id=="plotContainerMain"||d.classList.contains("row")||d.classList.contains("grid"))&&Ae(ze,r.visible=!1,r)});function u(){let c=[];for(let d=0;d<i.plots.length;d++)for(let m=0;m<i.plots.length;m++)_i(d,m,i)&&i.plots[d][m].active==!1&&c.push(i.plots[d][m])}function f(){Ae(vi,n={},n)}return t.$$.update=()=>{t.$$.dirty&2&&i&&u(),t.$$.dirty&32&&o(2,l=s[a])},[f,i,l,n,r,a]}class t4 extends he{constructor(e){super(),pe(this,e,e4,z3,de,{restartModifyPlotMenu:0})}get restartModifyPlotMenu(){return this.$$.ctx[0]}}function Zu(t,e,o){const n=t.slice();return n[5]=e[o],n}function Qu(t){let e,o;return e=new K_({props:{thumb:t[5],class:"block h-4 w-4  bg-accent focus-visible:outline-none  disabled:pointer-events-none disabled:opacity-50"}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,i){const r={};i&16&&(r.thumb=n[5]),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){S(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function n4(t){let e,o,n,i,r;o=new H_({props:{class:"absolute h-full bg-primary"}});let l=Ge(t[4]),a=[];for(let u=0;u<l.length;u+=1)a[u]=Qu(Zu(t,l,u));const s=u=>S(a[u],1,1,()=>{a[u]=null});return{c(){e=T("span"),U(o.$$.fragment),n=G();for(let u=0;u<a.length;u+=1)a[u].c();i=Le(),L(e,"class","relative h-2 w-full grow overflow-hidden bg-black")},m(u,f){O(u,e,f),W(o,e,null),O(u,n,f);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(u,f);O(u,i,f),r=!0},p(u,f){if(f&16){l=Ge(u[4]);let c;for(c=0;c<l.length;c+=1){const d=Zu(u,l,c);a[c]?(a[c].p(d,f),y(a[c],1)):(a[c]=Qu(d),a[c].c(),y(a[c],1),a[c].m(i.parentNode,i))}for(Me(),c=l.length;c<a.length;c+=1)s(c);Oe()}},i(u){if(!r){y(o.$$.fragment,u);for(let f=0;f<l.length;f+=1)y(a[f]);r=!0}},o(u){S(o.$$.fragment,u),a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)S(a[f]);r=!1},d(u){u&&(M(e),M(n),M(i)),Y(o),rt(a,u)}}}function o4(t){let e,o,n;const i=[{class:je("relative flex w-full touch-none select-none items-center",t[1])},t[2]];function r(a){t[3](a)}let l={$$slots:{default:[n4,({thumbs:a})=>({4:a}),({thumbs:a})=>a?16:0]},$$scope:{ctx:t}};for(let a=0;a<i.length;a+=1)l=Q(l,i[a]);return t[0]!==void 0&&(l.value=t[0]),e=new D_({props:l}),Ne.push(()=>Wt(e,"value",r)),{c(){U(e.$$.fragment)},m(a,s){W(e,a,s),n=!0},p(a,[s]){const u=s&6?Se(i,[s&2&&{class:je("relative flex w-full touch-none select-none items-center",a[1])},s&4&&lt(a[2])]):{};s&272&&(u.$$scope={dirty:s,ctx:a}),!o&&s&1&&(o=!0,u.value=a[0],Ht(()=>o=!1)),e.$set(u)},i(a){n||(y(e.$$.fragment,a),n=!0)},o(a){S(e.$$.fragment,a),n=!1},d(a){Y(e,a)}}}function i4(t,e,o){const n=["class","value"];let i=ue(e,n),{class:r=void 0}=e,{value:l=[0]}=e;function a(s){l=s,o(0,l)}return t.$$set=s=>{e=Q(Q({},e),$e(s)),o(2,i=ue(e,n)),"class"in s&&o(1,r=s.class),"value"in s&&o(0,l=s.value)},[l,r,i,a]}class zu extends he{constructor(e){super(),pe(this,e,i4,o4,de,{class:1,value:0})}}function ef(t,e,o){const n=t.slice();return n[13]=e[o],n}function tf(t){let e,o,n,i=t[13].day+"",r,l,a,s=t[13].message+"",u,f,c;return{c(){e=T("div"),o=T("p"),n=K("DAY "),r=K(i),l=G(),a=T("p"),u=K(s),f=G(),L(o,"class","font-mono text-[10px]  svelte-1m80q9z"),L(a,"class","text-xs svelte-1m80q9z"),L(e,"class",c="px-2 py-2 rounded-2xl fade-in mb-4 "+(t[13].vibe==Ze.BAD?"bg-white text-textDanger border ":t[13].vibe==Ze.GOOD?"bg-green-300":(t[13].vibe==Ze.NORMAL,"bg-accent"))+" svelte-1m80q9z")},m(d,m){O(d,e,m),b(e,o),b(o,n),b(o,r),b(e,l),b(e,a),b(a,u),b(e,f)},p(d,m){m&1&&i!==(i=d[13].day+"")&&ce(r,i),m&1&&s!==(s=d[13].message+"")&&ce(u,s),m&1&&c!==(c="px-2 py-2 rounded-2xl fade-in mb-4 "+(d[13].vibe==Ze.BAD?"bg-white text-textDanger border ":d[13].vibe==Ze.GOOD?"bg-green-300":(d[13].vibe==Ze.NORMAL,"bg-accent"))+" svelte-1m80q9z")&&L(e,"class",c)},d(d){d&&M(e)}}}function r4(t){let e,o,n,i,r,l,a,s,u,f=tt(t[0].economyAndLaws.tax_rate*100,0)+"",c,d,m,_,h,p,w,v,A,E,j=tt(t[0].townInfo.productivity,0)+"",F,$,P,R,q,I,C,k,N,B,D,J,Z,X,ne,ee,oe,we,ae,ie,qe,He,Ue,ot;_=new zu({props:{value:[t[0].economyAndLaws.tax_rate],onValueChange:t[7],min:0,max:.5,step:.05,disabled:localStorage.getItem(Rt)!=null,class:"cursor-pointer w-[75%]"}}),R=new zu({props:{value:[t[0].townInfo.productivity],onValueChange:t[6],min:0,max:200,step:5,disabled:localStorage.getItem(Rt)!=null,class:"cursor-pointer w-[75%]"}}),k=new At({props:{text:t[2]?"Select an active plot!":"👑 Set your location (boost)",onOpen:t[8]}}),B=new At({props:{text:"🧠 Sell Knowledge",onOpen:t[9]}}),J=new At({props:{text:"🏢 Manage City",onOpen:t[10]}}),X=new At({props:{text:t[0].lab.active_experiment!==null?`${t[0].lab.active_experiment.duration}`:"🧪 Manage Lab",onOpen:t[5],opacity:De("lab",t[0]).length>=1?100:30,onHoverText:De("lab",t[0]).length>=1?"":"Build a Lab to perform experiments. Experiments can save lives, make money, or generally improve your town."}});let g=Ge(t[0].townLog),x=[];for(let V=0;V<g.length;V+=1)x[V]=tf(ef(t,g,V));return{c(){e=T("div"),o=T("div"),n=T("div"),i=T("div"),r=T("div"),l=T("div"),a=T("span"),a.textContent="Tax Rate",s=G(),u=T("span"),c=K(f),d=K("%"),m=G(),U(_.$$.fragment),h=G(),p=T("div"),w=T("div"),v=T("span"),v.textContent="Productivity",A=G(),E=T("span"),F=K(j),$=K("%"),P=G(),U(R.$$.fragment),q=G(),I=T("div"),C=T("div"),U(k.$$.fragment),N=G(),U(B.$$.fragment),D=G(),U(J.$$.fragment),Z=G(),U(X.$$.fragment),ne=G(),ee=T("div"),oe=T("div"),we=T("h3"),ae=G(),ie=T("div");for(let V=0;V<x.length;V+=1)x[V].c();L(a,"class","text-sm svelte-1m80q9z"),L(u,"class","text-sm svelte-1m80q9z"),L(l,"class","mb-1 svelte-1m80q9z"),L(r,"class","flex flex-col justify-center w-full text-center items-center gap-1 min-h-12 pb-2 rounded-xl svelte-1m80q9z"),L(v,"class","text-sm svelte-1m80q9z"),L(E,"class","text-sm svelte-1m80q9z"),L(w,"class","mb-1 svelte-1m80q9z"),L(p,"class","flex flex-col justify-center w-full text-center items-center gap-2 svelte-1m80q9z"),L(i,"class","flex flex-col gap-2 rounded-xl text-center justify-center mb-2 mt-0 pt-2 svelte-1m80q9z"),L(C,"class","flex flex-col gap-2 svelte-1m80q9z"),L(I,"class","svelte-1m80q9z"),L(we,"class","text-md cursor-pointer  svelte-1m80q9z"),L(oe,"class","flex flex-row gap-2 items-start justify-center pb-2 svelte-1m80q9z"),L(ie,"class","overflow-y-scroll h-[100%] w-[100%] pb-4 scroll-smooth svelte-1m80q9z"),L(ee,"class","svelte-1m80q9z"),L(n,"class","flex flex-col justify-center mx-2 gap-4 svelte-1m80q9z"),L(o,"class","w-[220px] text-sidebarText bg-sidebarBackground overflow-scroll border-foregroundDark border-4 bottom-4 z-10 fixed left-3 py-2 top-16 drop-shadow-xl rounded-xl transition-all duration-300 svelte-1m80q9z"),L(e,"class",qe="flex flex-row text-sidebarText bg-sidebarBackground overflow-clip "+(t[1].visible?"opacity-10":"")+" svelte-1m80q9z")},m(V,le){O(V,e,le),b(e,o),b(o,n),b(n,i),b(i,r),b(r,l),b(l,a),b(l,s),b(l,u),b(u,c),b(u,d),b(r,m),W(_,r,null),b(i,h),b(i,p),b(p,w),b(w,v),b(w,A),b(w,E),b(E,F),b(E,$),b(p,P),W(R,p,null),b(n,q),b(n,I),b(I,C),W(k,C,null),b(C,N),W(B,C,null),b(C,D),W(J,C,null),b(C,Z),W(X,C,null),b(n,ne),b(n,ee),b(ee,oe),b(oe,we),b(ee,ae),b(ee,ie);for(let me=0;me<x.length;me+=1)x[me]&&x[me].m(ie,null);He=!0,Ue||(ot=z(we,"click",t[11]),Ue=!0)},p(V,[le]){(!He||le&1)&&f!==(f=tt(V[0].economyAndLaws.tax_rate*100,0)+"")&&ce(c,f);const me={};le&1&&(me.value=[V[0].economyAndLaws.tax_rate]),_.$set(me),(!He||le&1)&&j!==(j=tt(V[0].townInfo.productivity,0)+"")&&ce(F,j);const Ce={};le&1&&(Ce.value=[V[0].townInfo.productivity]),R.$set(Ce);const Pe={};le&4&&(Pe.text=V[2]?"Select an active plot!":"👑 Set your location (boost)"),le&4&&(Pe.onOpen=V[8]),k.$set(Pe);const Ee={};le&8&&(Ee.onOpen=V[9]),B.$set(Ee);const We={};le&16&&(We.onOpen=V[10]),J.$set(We);const Re={};if(le&1&&(Re.text=V[0].lab.active_experiment!==null?`${V[0].lab.active_experiment.duration}`:"🧪 Manage Lab"),le&1&&(Re.opacity=De("lab",V[0]).length>=1?100:30),le&1&&(Re.onHoverText=De("lab",V[0]).length>=1?"":"Build a Lab to perform experiments. Experiments can save lives, make money, or generally improve your town."),X.$set(Re),le&1){g=Ge(V[0].townLog);let ke;for(ke=0;ke<g.length;ke+=1){const Ye=ef(V,g,ke);x[ke]?x[ke].p(Ye,le):(x[ke]=tf(Ye),x[ke].c(),x[ke].m(ie,null))}for(;ke<x.length;ke+=1)x[ke].d(1);x.length=g.length}(!He||le&2&&qe!==(qe="flex flex-row text-sidebarText bg-sidebarBackground overflow-clip "+(V[1].visible?"opacity-10":"")+" svelte-1m80q9z"))&&L(e,"class",qe)},i(V){He||(y(_.$$.fragment,V),y(R.$$.fragment,V),y(k.$$.fragment,V),y(B.$$.fragment,V),y(J.$$.fragment,V),y(X.$$.fragment,V),He=!0)},o(V){S(_.$$.fragment,V),S(R.$$.fragment,V),S(k.$$.fragment,V),S(B.$$.fragment,V),S(J.$$.fragment,V),S(X.$$.fragment,V),He=!1},d(V){V&&M(e),Y(_),Y(R),Y(k),Y(B),Y(J),Y(X),rt(x,V),Ue=!1,ot()}}}function l4(t,e,o){let n,i,r,l,a;se(t,Ie,h=>o(0,n=h)),se(t,ze,h=>o(1,i=h)),se(t,to,h=>o(2,r=h)),se(t,eo,h=>o(3,l=h)),se(t,In,h=>o(4,a=h)),localStorage.getItem("mute");function s(){n.hasLab&&Kn.set(!0)}function u(h){let p=n;p.townInfo.productivity=tt(h[0],2),Ie.set(p),localStorage.setItem(nt,JSON.stringify(p))}function f(h){let p=n;p.economyAndLaws.tax_rate=tt(h[0],2),Ie.set(p),localStorage.setItem(nt,JSON.stringify(p))}const c=function(){Ae(to,r=!r,r)},d=function(){Ae(eo,l=!l,l)},m=function(){Ae(In,a=!a,a)},_=()=>{Ae(Ie,n.townLog=[],n)};return localStorage.getItem("mute"),[n,i,r,l,a,s,u,f,c,d,m,_]}class s4 extends he{constructor(e){super(),pe(this,e,l4,r4,de,{})}}function a4(t){let e,o,n,i,r,l,a,s,u,f,c,d,m;return n=new H5({}),l=new s4({}),s=new t4({}),f=new td({}),d=new od({}),{c(){e=T("div"),o=T("div"),U(n.$$.fragment),i=G(),r=T("div"),U(l.$$.fragment),a=G(),U(s.$$.fragment),u=G(),U(f.$$.fragment),c=G(),U(d.$$.fragment),L(r,"class","flex flex-row text-accentText"),L(e,"class","flex flex-col max-h-[100%] justify-between")},m(_,h){O(_,e,h),b(e,o),W(n,o,null),b(e,i),b(e,r),W(l,r,null),b(r,a),W(s,r,null),b(r,u),W(f,r,null),b(r,c),W(d,r,null),m=!0},p:Te,i(_){m||(y(n.$$.fragment,_),y(l.$$.fragment,_),y(s.$$.fragment,_),y(f.$$.fragment,_),y(d.$$.fragment,_),m=!0)},o(_){S(n.$$.fragment,_),S(l.$$.fragment,_),S(s.$$.fragment,_),S(f.$$.fragment,_),S(d.$$.fragment,_),m=!1},d(_){_&&M(e),Y(n),Y(l),Y(s),Y(f),Y(d)}}}class u4 extends he{constructor(e){super(),pe(this,e,null,a4,de,{})}}function f4(t){let e=t[1].townInfo.name+"",o;return{c(){o=K(e)},m(n,i){O(n,o,i)},p(n,i){i&2&&e!==(e=n[1].townInfo.name+"")&&ce(o,e)},d(n){n&&M(o)}}}function c4(t){let e,o,n,i=t[1].townInfo.name+"",r,l,a,s,u,f;return{c(){e=T("span"),o=K("The town of "),n=T("span"),r=K(i),l=K(` has been
          founded!`),a=G(),s=T("span"),s.textContent=`Your goal is to build a great town and keep your people happy. Use the
          milestones on the right side as a guide.`,u=G(),f=T("span"),f.textContent="Start by building a set of homes, some farms, and a tree farm.",L(n,"class","text-accent")},m(c,d){O(c,e,d),b(e,o),b(e,n),b(n,r),b(e,l),O(c,a,d),O(c,s,d),O(c,u,d),O(c,f,d)},p(c,d){d&2&&i!==(i=c[1].townInfo.name+"")&&ce(r,i)},d(c){c&&(M(e),M(a),M(s),M(u),M(f))}}}function d4(t){let e,o,n,i;return e=new on({props:{class:"text-xl font-semibold text-center",$$slots:{default:[f4]},$$scope:{ctx:t}}}),n=new jn({props:{class:"text-center mt-2 text-sm text-sidebarText/80 flex flex-col gap-2",$$slots:{default:[c4]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),o=G(),U(n.$$.fragment)},m(r,l){W(e,r,l),O(r,o,l),W(n,r,l),i=!0},p(r,l){const a={};l&18&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&18&&(s.$$scope={dirty:l,ctx:r}),n.$set(s)},i(r){i||(y(e.$$.fragment,r),y(n.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(n.$$.fragment,r),i=!1},d(r){r&&M(o),Y(e,r),Y(n,r)}}}function m4(t){let e,o,n;return{c(){e=T("button"),e.textContent="Begin",L(e,"class","bg-accent hover:bg-accent/80 text-white px-4 py-2 rounded-md transition-colors")},m(i,r){O(i,e,r),o||(n=z(e,"click",t[2]),o=!0)},p:Te,d(i){i&&M(e),o=!1,n()}}}function p4(t){let e,o,n,i;return e=new rn({props:{$$slots:{default:[d4]},$$scope:{ctx:t}}}),n=new _n({props:{class:"mt-4 flex justify-center",$$slots:{default:[m4]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),o=G(),U(n.$$.fragment)},m(r,l){W(e,r,l),O(r,o,l),W(n,r,l),i=!0},p(r,l){const a={};l&18&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&17&&(s.$$scope={dirty:l,ctx:r}),n.$set(s)},i(r){i||(y(e.$$.fragment,r),y(n.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(n.$$.fragment,r),i=!1},d(r){r&&M(o),Y(e,r),Y(n,r)}}}function h4(t){let e,o;return e=new Yt({props:{transition:$n,class:"bg-sidebarBackground text-sidebarText max-w-md rounded-md shadow-xl border border-accent p-4",$$slots:{default:[p4]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,i){const r={};i&19&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){S(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function g4(t){let e,o,n;function i(l){t[3](l)}let r={$$slots:{default:[h4]},$$scope:{ctx:t}};return t[0]!==void 0&&(r.open=t[0]),e=new Ut({props:r}),Ne.push(()=>Wt(e,"open",i)),{c(){U(e.$$.fragment)},m(l,a){W(e,l,a),n=!0},p(l,[a]){const s={};a&19&&(s.$$scope={dirty:a,ctx:l}),!o&&a&1&&(o=!0,s.open=l[0],Ht(()=>o=!1)),e.$set(s)},i(l){n||(y(e.$$.fragment,l),n=!0)},o(l){S(e.$$.fragment,l),n=!1},d(l){Y(e,l)}}}function _4(t,e,o){let n,i;se(t,ai,a=>o(0,n=a)),se(t,Ie,a=>o(1,i=a));const r=()=>Ae(ai,n=!1,n);function l(a){n=a,ai.set(n)}return[n,i,r,l]}class b4 extends he{constructor(e){super(),pe(this,e,_4,g4,de,{})}}function nf(t,e,o){const n=t.slice();return n[7]=e[o],n}function v4(t){let e,o,n=t[0].townInfo.name+"",i,r,l,a,s=t[0].resources.bureaucracy+"",u;return{c(){e=T("div"),o=T("span"),i=K(n),r=G(),l=T("span"),a=K("🧑‍⚖️ "),u=K(s),L(e,"class","flex justify-between mr-10")},m(f,c){O(f,e,c),b(e,o),b(o,i),b(e,r),b(e,l),b(l,a),b(l,u)},p(f,c){c&1&&n!==(n=f[0].townInfo.name+"")&&ce(i,n),c&1&&s!==(s=f[0].resources.bureaucracy+"")&&ce(u,s)},d(f){f&&M(e)}}}function of(t){let e,o,n,i,r,l,a,s,u,f,c,d,m,_,h=t[0].townInfo.guardians+"",p,w,v,A,E,j=t[0].townInfo.population_count-t[0].townInfo.employees+"",F,$,P;return e=new vt({props:{class:"mb-4"}}),d=new Ot({props:{class:`bg-accent rounded-2xl h-min select-none
            `+(t[0].townInfo.guardians<=0?"opacity-50 cursor-not-allowed":"")+`
            `,$$slots:{default:[y4]},$$scope:{ctx:t}}}),d.$on("click",t[2]),v=new Ot({props:{class:`bg-accent rounded-2xl h-min select-none
            
              `+(t[0].townInfo.employees>=t[0].townInfo.population_count?"opacity-50 cursor-not-allowed":"")+`
            `,$$slots:{default:[w4]},$$scope:{ctx:t}}}),v.$on("click",t[3]),{c(){U(e.$$.fragment),o=G(),n=T("div"),i=T("span"),i.textContent="Hire Guardians ⚔️",r=G(),l=T("br"),a=G(),s=T("span"),s.textContent=`Guardians work for you and are required to expand your kingdom.
            They do not generate revenue, but still require housing & food.`,u=G(),f=T("div"),c=T("div"),U(d.$$.fragment),m=G(),_=T("span"),p=K(h),w=G(),U(v.$$.fragment),A=G(),E=T("span"),F=K(j),$=K(`
              unemployed available for hire.`),L(i,"class","text-lg font-bold"),L(s,"class","text-sm"),L(_,"class","text-lg font-bold select-none px-2"),L(E,"class","w-max"),L(f,"class","flex flex-row justify-between align-middle items-center pt-2 pb-2 gap-2 "),L(n,"class","w-full")},m(R,q){W(e,R,q),O(R,o,q),O(R,n,q),b(n,i),b(n,r),b(n,l),b(n,a),b(n,s),b(n,u),b(n,f),b(f,c),W(d,c,null),b(c,m),b(c,_),b(_,p),b(c,w),W(v,c,null),b(f,A),b(f,E),b(E,F),b(E,$),P=!0},p(R,q){const I={};q&1&&(I.class=`bg-accent rounded-2xl h-min select-none
            `+(R[0].townInfo.guardians<=0?"opacity-50 cursor-not-allowed":"")+`
            `),q&1024&&(I.$$scope={dirty:q,ctx:R}),d.$set(I),(!P||q&1)&&h!==(h=R[0].townInfo.guardians+"")&&ce(p,h);const C={};q&1&&(C.class=`bg-accent rounded-2xl h-min select-none
            
              `+(R[0].townInfo.employees>=R[0].townInfo.population_count?"opacity-50 cursor-not-allowed":"")+`
            `),q&1024&&(C.$$scope={dirty:q,ctx:R}),v.$set(C),(!P||q&1)&&j!==(j=R[0].townInfo.population_count-R[0].townInfo.employees+"")&&ce(F,j)},i(R){P||(y(e.$$.fragment,R),y(d.$$.fragment,R),y(v.$$.fragment,R),P=!0)},o(R){S(e.$$.fragment,R),S(d.$$.fragment,R),S(v.$$.fragment,R),P=!1},d(R){R&&(M(o),M(n)),Y(e,R),Y(d),Y(v)}}}function y4(t){let e;return{c(){e=K("-")},m(o,n){O(o,e,n)},d(o){o&&M(e)}}}function w4(t){let e;return{c(){e=K("+")},m(o,n){O(o,e,n)},d(o){o&&M(e)}}}function k4(t){let e;return{c(){e=K("Build a City Hall to manage your city.")},m(o,n){O(o,e,n)},p:Te,i:Te,o:Te,d(o){o&&M(e)}}}function C4(t){let e,o,n,i,r=Ge(Rr),l=[];for(let s=0;s<r.length;s+=1)l[s]=rf(nf(t,r,s));const a=s=>S(l[s],1,1,()=>{l[s]=null});return{c(){e=T("span"),e.textContent="Laws 🧑‍⚖️",o=G();for(let s=0;s<l.length;s+=1)l[s].c();n=Le(),L(e,"class","text-lg font-bold")},m(s,u){O(s,e,u),O(s,o,u);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(s,u);O(s,n,u),i=!0},p(s,u){if(u&1){r=Ge(Rr);let f;for(f=0;f<r.length;f+=1){const c=nf(s,r,f);l[f]?(l[f].p(c,u),y(l[f],1)):(l[f]=rf(c),l[f].c(),y(l[f],1),l[f].m(n.parentNode,n))}for(Me(),f=r.length;f<l.length;f+=1)a(f);Oe()}},i(s){if(!i){for(let u=0;u<r.length;u+=1)y(l[u]);i=!0}},o(s){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)S(l[u]);i=!1},d(s){s&&(M(e),M(o),M(n)),rt(l,s)}}}function S4(t){let e,o=t[7].cost+"",n;return{c(){e=K("Enact for 🧑‍⚖️ "),n=K(o)},m(i,r){O(i,e,r),O(i,n,r)},d(i){i&&(M(e),M(n))}}}function A4(t){let e;return{c(){e=K("Repeal ❌")},m(o,n){O(o,e,n)},d(o){o&&M(e)}}}function T4(t){let e,o;function n(l,a){return a&1&&(e=null),e==null&&(e=!!l[0].economyAndLaws.enacted.includes(l[7].id)),e?A4:S4}let i=n(t,-1),r=i(t);return{c(){r.c(),o=Le()},m(l,a){r.m(l,a),O(l,o,a)},p(l,a){i!==(i=n(l,a))&&(r.d(1),r=i(l),r&&(r.c(),r.m(o.parentNode,o)))},d(l){l&&M(o),r.d(l)}}}function rf(t){let e,o,n,i,r,l,a;function s(){return t[4](t[7])}return i=new Ot({props:{class:`bg-accent rounded-2xl 
                `+(t[0].economyAndLaws.enacted.includes(t[7].id)?"bg-textDanger":"bg-accent")+`

                `+(t[0].economyAndLaws.enacted.includes(t[7].id)||t[7].cost<=t[0].resources.bureaucracy?"cursor-pointer":"cursor-not-allowed opacity-30")+`
                `,$$slots:{default:[T4]},$$scope:{ctx:t}}}),i.$on("click",s),l=new vt({props:{class:"bg-white opacity-30"}}),{c(){e=T("div"),o=T("span"),o.textContent=`${t[7].description}`,n=G(),U(i.$$.fragment),r=G(),U(l.$$.fragment),L(o,"class","text-sm"),L(e,"class","flex justify-between align-middle items-center pt-2 pb-2 gap-2 ")},m(u,f){O(u,e,f),b(e,o),b(e,n),W(i,e,null),O(u,r,f),W(l,u,f),a=!0},p(u,f){t=u;const c={};f&1&&(c.class=`bg-accent rounded-2xl 
                `+(t[0].economyAndLaws.enacted.includes(t[7].id)?"bg-textDanger":"bg-accent")+`

                `+(t[0].economyAndLaws.enacted.includes(t[7].id)||t[7].cost<=t[0].resources.bureaucracy?"cursor-pointer":"cursor-not-allowed opacity-30")+`
                `),f&1025&&(c.$$scope={dirty:f,ctx:t}),i.$set(c)},i(u){a||(y(i.$$.fragment,u),y(l.$$.fragment,u),a=!0)},o(u){S(i.$$.fragment,u),S(l.$$.fragment,u),a=!1},d(u){u&&(M(e),M(r)),Y(i),Y(l,u)}}}function I4(t){let e,o,n,i,r=De("city_hall",t[0]).length>0,l,a,s,u,f,c,d,m;e=new on({props:{class:"text-lg",$$slots:{default:[v4]},$$scope:{ctx:t}}}),n=new jn({props:{class:"w-full "}});let _=r&&of(t);a=new vt({props:{class:"mb-4"}});const h=[C4,k4],p=[];function w(v,A){return A&1&&(f=null),f==null&&(f=De("city_hall",v[0]).length>0),f?0:1}return c=w(t,-1),d=p[c]=h[c](t),{c(){U(e.$$.fragment),o=G(),U(n.$$.fragment),i=G(),_&&_.c(),l=G(),U(a.$$.fragment),s=G(),u=T("div"),d.c(),L(u,"class","w-full")},m(v,A){W(e,v,A),O(v,o,A),W(n,v,A),O(v,i,A),_&&_.m(v,A),O(v,l,A),W(a,v,A),O(v,s,A),O(v,u,A),p[c].m(u,null),m=!0},p(v,A){const E={};A&1025&&(E.$$scope={dirty:A,ctx:v}),e.$set(E),A&1&&(r=De("city_hall",v[0]).length>0),r?_?(_.p(v,A),A&1&&y(_,1)):(_=of(v),_.c(),y(_,1),_.m(l.parentNode,l)):_&&(Me(),S(_,1,1,()=>{_=null}),Oe());let j=c;c=w(v,A),c===j?p[c].p(v,A):(Me(),S(p[j],1,1,()=>{p[j]=null}),Oe(),d=p[c],d?d.p(v,A):(d=p[c]=h[c](v),d.c()),y(d,1),d.m(u,null))},i(v){m||(y(e.$$.fragment,v),y(n.$$.fragment,v),y(_),y(a.$$.fragment,v),y(d),m=!0)},o(v){S(e.$$.fragment,v),S(n.$$.fragment,v),S(_),S(a.$$.fragment,v),S(d),m=!1},d(v){v&&(M(o),M(i),M(l),M(s),M(u)),Y(e,v),Y(n,v),_&&_.d(v),Y(a,v),p[c].d()}}}function M4(t){let e,o,n,i;return e=new rn({props:{$$slots:{default:[I4]},$$scope:{ctx:t}}}),n=new _n({}),{c(){U(e.$$.fragment),o=G(),U(n.$$.fragment)},m(r,l){W(e,r,l),O(r,o,l),W(n,r,l),i=!0},p(r,l){const a={};l&1025&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){i||(y(e.$$.fragment,r),y(n.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(n.$$.fragment,r),i=!1},d(r){r&&M(o),Y(e,r),Y(n,r)}}}function O4(t){let e,o;return e=new Yt({props:{class:"bg-foreground text-accentText h-[80vh] w-full scroll",$$slots:{default:[M4]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,i){const r={};i&1025&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){S(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function P4(t){let e,o,n;function i(l){t[5](l)}let r={$$slots:{default:[O4]},$$scope:{ctx:t}};return t[1]!==void 0&&(r.open=t[1]),e=new Ut({props:r}),Ne.push(()=>Wt(e,"open",i)),{c(){U(e.$$.fragment)},m(l,a){W(e,l,a),n=!0},p(l,[a]){const s={};a&1025&&(s.$$scope={dirty:a,ctx:l}),!o&&a&2&&(o=!0,s.open=l[1],Ht(()=>o=!1)),e.$set(s)},i(l){n||(y(e.$$.fragment,l),n=!0)},o(l){S(e.$$.fragment,l),n=!1},d(l){Y(e,l)}}}function N4(t,e,o){let n,i;se(t,Ie,u=>o(0,n=u)),se(t,In,u=>o(1,i=u));const r=()=>{n.townInfo.guardians>0?(Ae(Ie,n.townInfo.guardians-=1,n),Ae(Ie,n.townInfo.employees-=1,n)):Ft("No guardians to fire.")},l=()=>{n.townInfo.employees<n.townInfo.population_count?(Ae(Ie,n.townInfo.guardians+=1,n),Ae(Ie,n.townInfo.employees+=1,n)):Ft("Not enough people.")},a=u=>{n.economyAndLaws.enacted.includes(u.id)?n.economyAndLaws.enacted.splice(n.economyAndLaws.enacted.indexOf(u.id),1):u.cost<=n.resources.bureaucracy?(Ae(Ie,n.resources.bureaucracy-=u.cost,n),n.economyAndLaws.enacted.push(u.id)):Ft("Not enough bureaucracy!")};function s(u){i=u,In.set(i)}return t.$$.update=()=>{t.$$.dirty&1},[n,i,r,l,a,s]}class E4 extends he{constructor(e){super(),pe(this,e,N4,P4,de,{})}}function R4(t){let e;return{c(){e=T("span"),L(e,"class","whitespace-pre-wrap text-[15px]")},m(o,n){O(o,e,n),e.innerHTML=t[0]},p(o,n){n&1&&(e.innerHTML=o[0])},d(o){o&&M(e)}}}function $4(t){let e,o;return e=new jn({props:{class:"text-center mt-2 flex flex-col gap-2",$$slots:{default:[R4]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,i){const r={};i&5&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){S(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function L4(t){let e,o,n;return{c(){e=T("button"),e.textContent="Got it",L(e,"class","bg-accent hover:bg-accent/80 text-white px-4 py-2 rounded-md transition-colors")},m(i,r){O(i,e,r),o||(n=z(e,"click",t[1]),o=!0)},p:Te,d(i){i&&M(e),o=!1,n()}}}function D4(t){let e,o,n,i;return e=new rn({props:{$$slots:{default:[$4]},$$scope:{ctx:t}}}),n=new _n({props:{class:"mt-4 flex justify-center",$$slots:{default:[L4]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),o=G(),U(n.$$.fragment)},m(r,l){W(e,r,l),O(r,o,l),W(n,r,l),i=!0},p(r,l){const a={};l&5&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&4&&(s.$$scope={dirty:l,ctx:r}),n.$set(s)},i(r){i||(y(e.$$.fragment,r),y(n.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(n.$$.fragment,r),i=!1},d(r){r&&M(o),Y(e,r),Y(n,r)}}}function j4(t){let e,o;return e=new Yt({props:{transition:$n,class:"bg-sidebarBackground text-sidebarText max-w-md rounded-xl shadow-xl border border-accent p-4",$$slots:{default:[D4]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,i){const r={};i&5&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){S(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function F4(t){let e,o;return e=new Ut({props:{open:t[0]!="",$$slots:{default:[j4]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p(n,[i]){const r={};i&1&&(r.open=n[0]!=""),i&5&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){S(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function B4(t,e,o){let n;return se(t,Er,r=>o(0,n=r)),[n,()=>{Er.set("")}]}class q4 extends he{constructor(e){super(),pe(this,e,B4,F4,de,{})}}function lf(t){let e,o,n,i;const r=[H4,x4],l=[];function a(s,u){return s[0]==null?0:1}return e=a(t),o=l[e]=r[e](t),{c(){o.c(),n=Le()},m(s,u){l[e].m(s,u),O(s,n,u),i=!0},p(s,u){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),S(l[f],1,1,()=>{l[f]=null}),Oe(),o=l[e],o?o.p(s,u):(o=l[e]=r[e](s),o.c()),y(o,1),o.m(n.parentNode,n))},i(s){i||(y(o),i=!0)},o(s){S(o),i=!1},d(s){s&&M(n),l[e].d(s)}}}function x4(t){let e,o,n,i,r,l,a,s,u,f,c,d,m,_,h,p,w,v,A,E,j,F=t[2]==!0&&sf();o=new u4({}),i=new Fm({}),l=new bv({}),s=new Gv({}),f=new h5({}),d=new B5({}),_=new E4({}),p=new q4({}),v=new sv({});let $=t[0].environment.day==0&&t[3]&&af();return{c(){F&&F.c(),e=G(),U(o.$$.fragment),n=G(),U(i.$$.fragment),r=G(),U(l.$$.fragment),a=G(),U(s.$$.fragment),u=G(),U(f.$$.fragment),c=G(),U(d.$$.fragment),m=G(),U(_.$$.fragment),h=G(),U(p.$$.fragment),w=G(),U(v.$$.fragment),A=G(),$&&$.c(),E=Le()},m(P,R){F&&F.m(P,R),O(P,e,R),W(o,P,R),O(P,n,R),W(i,P,R),O(P,r,R),W(l,P,R),O(P,a,R),W(s,P,R),O(P,u,R),W(f,P,R),O(P,c,R),W(d,P,R),O(P,m,R),W(_,P,R),O(P,h,R),W(p,P,R),O(P,w,R),W(v,P,R),O(P,A,R),$&&$.m(P,R),O(P,E,R),j=!0},p(P,R){P[2]==!0?F?R&4&&y(F,1):(F=sf(),F.c(),y(F,1),F.m(e.parentNode,e)):F&&(Me(),S(F,1,1,()=>{F=null}),Oe()),P[0].environment.day==0&&P[3]?$?R&9&&y($,1):($=af(),$.c(),y($,1),$.m(E.parentNode,E)):$&&(Me(),S($,1,1,()=>{$=null}),Oe())},i(P){j||(y(F),y(o.$$.fragment,P),y(i.$$.fragment,P),y(l.$$.fragment,P),y(s.$$.fragment,P),y(f.$$.fragment,P),y(d.$$.fragment,P),y(_.$$.fragment,P),y(p.$$.fragment,P),y(v.$$.fragment,P),y($),j=!0)},o(P){S(F),S(o.$$.fragment,P),S(i.$$.fragment,P),S(l.$$.fragment,P),S(s.$$.fragment,P),S(f.$$.fragment,P),S(d.$$.fragment,P),S(_.$$.fragment,P),S(p.$$.fragment,P),S(v.$$.fragment,P),S($),j=!1},d(P){P&&(M(e),M(n),M(r),M(a),M(u),M(c),M(m),M(h),M(w),M(A),M(E)),F&&F.d(P),Y(o,P),Y(i,P),Y(l,P),Y(s,P),Y(f,P),Y(d,P),Y(_,P),Y(p,P),Y(v,P),$&&$.d(P)}}}function H4(t){let e,o;return e=new $v({}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},p:Te,i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){S(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function sf(t){let e,o;return e=new Zb({}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){S(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function af(t){let e,o;return e=new b4({}),{c(){U(e.$$.fragment)},m(n,i){W(e,n,i),o=!0},i(n){o||(y(e.$$.fragment,n),o=!0)},o(n){S(e.$$.fragment,n),o=!1},d(n){Y(e,n)}}}function G4(t){let e,o,n=(t[1]||t[0]==null)&&lf(t);return{c(){n&&n.c(),e=Le()},m(i,r){n&&n.m(i,r),O(i,e,r),o=!0},p(i,[r]){i[1]||i[0]==null?n?(n.p(i,r),r&3&&y(n,1)):(n=lf(i),n.c(),y(n,1),n.m(e.parentNode,e)):n&&(Me(),S(n,1,1,()=>{n=null}),Oe())},i(i){o||(y(n),o=!0)},o(i){S(n),o=!1},d(i){i&&M(e),n&&n.d(i)}}}const V4=1e-4;function W4(t,e,o){return{r:Math.round(t.r+(e.r-t.r)*o),g:Math.round(t.g+(e.g-t.g)*o),b:Math.round(t.b+(e.b-t.b)*o)}}function Y4(t,e,o){let n,i,r,l,a,s,u,f,c,d,m;se(t,ze,E=>o(8,n=E)),se(t,It,E=>o(2,i=E)),se(t,to,E=>o(4,r=E)),se(t,jt,E=>o(9,l=E)),se(t,Ie,E=>o(0,a=E)),se(t,yi,E=>o(10,s=E)),se(t,In,E=>o(11,u=E)),se(t,Kn,E=>o(12,f=E)),se(t,eo,E=>o(13,c=E)),se(t,No,E=>o(14,d=E)),se(t,ai,E=>o(3,m=E));let _=!1;av();const h=[{r:85,g:60,b:40},{r:115,g:85,b:55},{r:70,g:100,b:50},{r:120,g:65,b:50}];let p=0,w=1,v=0;function A(){const E=W4(h[p],h[w],v);document.body.style.backgroundColor=`rgb(${E.r}, ${E.g}, ${E.b})`,v+=V4,v>=1&&(v=0,p=w,w=(w+1)%h.length),requestAnimationFrame(A)}return A(),document.addEventListener("keydown",E=>{if((document.activeElement!=null&&document.activeElement.nodeName==="INPUT"||document.activeElement!=null&&document.activeElement.nodeName=="TEXTAREA")&&E.key!=="Escape")return;switch(E.key.toLowerCase()){case"p":case"escape":if(c){Ae(eo,c=!1,c);break}if(f){Ae(Kn,f=!1,f);break}if(u){Ae(In,u=!1,u);break}if(s){Ae(yi,s=!1,s);break}if(n.visible){Ae(ze,n.visible=!1,n);break}if(l.visible){const F=a.plots[l.x][l.y];F.active=!1,F.type=-1,F.disabled=!1,Ae(jt,l.visible=!1,l);break}if(r){to.set(!1),document.querySelectorAll(".plot_container").forEach($=>{$.style.cursor=""});break}It.set(!i),i&&Ae(ze,n.visible=!1,n);break}}),t.$$.update=()=>{t.$$.dirty&17&&(a?(Ae(No,d.visible=!1,d),o(1,_=!0),r==!0&&document.querySelectorAll(".plot_container").forEach(j=>{j.dataset.canbeupgraded=="true"&&(j.style.cursor="pointer",j.style.cursor="url('https://github.com/josephrcox/plots/raw/main/public/liege_place.cur'), auto")})):(Ae(No,d.visible=!0,d),o(1,_=!1)))},[a,_,i,m,r]}class U4 extends he{constructor(e){super(),pe(this,e,Y4,G4,de,{})}}new U4({target:document.getElementById("app")});
