var rd=Object.defineProperty;var ld=(t,e,n)=>e in t?rd(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var nn=(t,e,n)=>(ld(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();function sd(t){const e=pako.gzip(JSON.stringify(t));return btoa(String.fromCharCode.apply(null,e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function ad(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=atob(e),o=new Uint8Array(n.length);for(let r=0;r<n.length;r++)o[r]=n.charCodeAt(r);const i=pako.ungzip(o,{to:"string"});return JSON.parse(i)}async function ud(){let t=localStorage.getItem("plots_active_game_db");const e=await sd(t);console.log("http://localhost:5173/plots/?shareId="+e)}const lr=window.location.search.substring(1).split("&").reduce((t,e)=>{const[n,o]=e.split("=");return t[n]=o,t},{});if(lr.shareId!=null||lr.shareId!=null){console.log("DECRYPING FROM shareId");const t=JSON.parse(ad(lr.shareId));let e=localStorage.getItem("plots_active_game_db");(e==""||e==null)&&localStorage.setItem("plots_active_game_db",JSON.stringify(t))}else console.log("COMPRESSING GAME TO SHARE"),ud();function Se(){}const Gi=t=>t;function J(t,e){for(const n in e)t[n]=e[n];return t}function vf(t){return t()}function El(){return Object.create(null)}function Ve(t){t.forEach(vf)}function $t(t){return typeof t=="function"}function fe(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function fd(t){return Object.keys(t).length===0}function tl(t,...e){if(t==null){for(const o of e)o(void 0);return Se}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function yf(t){let e;return tl(t,n=>e=n)(),e}function le(t,e,n){t.$$.on_destroy.push(tl(e,n))}function he(t,e,n,o){if(t){const i=wf(t,e,n,o);return t[0](i)}}function wf(t,e,n,o){return t[1]&&o?J(n.ctx.slice(),t[1](o(e))):n.ctx}function _e(t,e,n,o){if(t[2]&&o){const i=t[2](o(n));if(e.dirty===void 0)return i;if(typeof i=="object"){const r=[],l=Math.max(e.dirty.length,i.length);for(let a=0;a<l;a+=1)r[a]=e.dirty[a]|i[a];return r}return e.dirty|i}return e.dirty}function ge(t,e,n,o,i,r){if(i){const l=wf(e,n,o,r);t.p(l,i)}}function be(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let o=0;o<n;o++)e[o]=-1;return e}return-1}function $e(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function re(t,e){const n={};e=new Set(e);for(const o in t)!e.has(o)&&o[0]!=="$"&&(n[o]=t[o]);return n}function Re(t,e,n){return t.set(n),e}function We(t){return t&&$t(t.destroy)?t.destroy:Se}const kf=typeof window<"u";let nl=kf?()=>window.performance.now():()=>Date.now(),ol=kf?t=>requestAnimationFrame(t):Se;const xn=new Set;function Cf(t){xn.forEach(e=>{e.c(t)||(xn.delete(e),e.f())}),xn.size!==0&&ol(Cf)}function il(t){let e;return xn.size===0&&ol(Cf),{promise:new Promise(n=>{xn.add(e={c:t,f:n})}),abort(){xn.delete(e)}}}function y(t,e){t.appendChild(e)}function Af(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function cd(t){const e=M("style");return e.textContent="/* empty */",dd(Af(t),e),e.sheet}function dd(t,e){return y(t.head||t,e),e.sheet}function O(t,e,n){t.insertBefore(e,n||null)}function I(t){t.parentNode&&t.parentNode.removeChild(t)}function ft(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function M(t){return document.createElement(t)}function Vi(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function H(t){return document.createTextNode(t)}function F(){return H(" ")}function De(){return H("")}function z(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function L(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}const md=["width","height"];function se(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const o in e)e[o]==null?t.removeAttribute(o):o==="style"?t.style.cssText=e[o]:o==="__value"?t.value=t[o]=e[o]:n[o]&&n[o].set&&md.indexOf(o)===-1?t[o]=e[o]:L(t,o,e[o])}function mi(t,e){for(const n in e)L(t,n,e[n])}function pd(t,e){Object.keys(e).forEach(n=>{hd(t,n,e[n])})}function hd(t,e,n){const o=e.toLowerCase();o in t?t[o]=typeof t[o]=="boolean"&&n===""?!0:n:e in t?t[e]=typeof t[e]=="boolean"&&n===""?!0:n:L(t,e,n)}function an(t){return/-/.test(t)?pd:se}function _d(t){return Array.from(t.childNodes)}function ue(t,e){e=""+e,t.data!==e&&(t.data=e)}function pi(t,e){t.value=e??""}function et(t,e,n,o){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,"")}function Rl(t,e,n){for(let o=0;o<t.options.length;o+=1){const i=t.options[o];if(i.__value===e){i.selected=!0;return}}t.selectedIndex=-1}function gt(t,e,n){t.classList.toggle(e,!!n)}function Sf(t,e,{bubbles:n=!1,cancelable:o=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:o})}class xt{constructor(e=!1){nn(this,"is_svg",!1);nn(this,"e");nn(this,"n");nn(this,"t");nn(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,n,o=null){this.e||(this.is_svg?this.e=Vi(n.nodeName):this.e=M(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(e)),this.i(o)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)O(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(I)}}const hi=new Map;let _i=0;function gd(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function bd(t,e){const n={stylesheet:cd(e),rules:{}};return hi.set(t,n),n}function gi(t,e,n,o,i,r,l,a=0){const s=16.666/o;let u=`{
`;for(let b=0;b<=1;b+=s){const v=e+(n-e)*r(b);u+=b*100+`%{${l(v,1-v)}}
`}const f=u+`100% {${l(n,1-n)}}
}`,c=`__svelte_${gd(f)}_${a}`,d=Af(t),{stylesheet:p,rules:m}=hi.get(d)||bd(d,t);m[c]||(m[c]=!0,p.insertRule(`@keyframes ${c} ${f}`,p.cssRules.length));const _=t.style.animation||"";return t.style.animation=`${_?`${_}, `:""}${c} ${o}ms linear ${i}ms 1 both`,_i+=1,c}function bi(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?r=>r.indexOf(e)<0:r=>r.indexOf("__svelte")===-1),i=n.length-o.length;i&&(t.style.animation=o.join(", "),_i-=i,_i||vd())}function vd(){ol(()=>{_i||(hi.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&I(e)}),hi.clear())})}let $o;function Po(t){$o=t}function Vo(){if(!$o)throw new Error("Function called outside component initialization");return $o}function Wi(t){Vo().$$.on_mount.push(t)}function yd(t){Vo().$$.on_destroy.push(t)}function wd(){const t=Vo();return(e,n,{cancelable:o=!1}={})=>{const i=t.$$.callbacks[e];if(i){const r=Sf(e,n,{cancelable:o});return i.slice().forEach(l=>{l.call(t,r)}),!r.defaultPrevented}return!0}}function Yi(t,e){return Vo().$$.context.set(t,e),e}function Ui(t){return Vo().$$.context.get(t)}function oe(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(o=>o.call(this,e))}const Yn=[],Le=[];let Xn=[];const Tr=[],Tf=Promise.resolve();let Ir=!1;function If(){Ir||(Ir=!0,Tf.then(Of))}function rl(){return If(),Tf}function lt(t){Xn.push(t)}function pn(t){Tr.push(t)}const sr=new Set;let Hn=0;function Of(){if(Hn!==0)return;const t=$o;do{try{for(;Hn<Yn.length;){const e=Yn[Hn];Hn++,Po(e),kd(e.$$)}}catch(e){throw Yn.length=0,Hn=0,e}for(Po(null),Yn.length=0,Hn=0;Le.length;)Le.pop()();for(let e=0;e<Xn.length;e+=1){const n=Xn[e];sr.has(n)||(sr.add(n),n())}Xn.length=0}while(Yn.length);for(;Tr.length;)Tr.pop()();Ir=!1,sr.clear(),Po(t)}function kd(t){if(t.fragment!==null){t.update(),Ve(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(lt)}}function Cd(t){const e=[],n=[];Xn.forEach(o=>t.indexOf(o)===-1?e.push(o):n.push(o)),n.forEach(o=>o()),Xn=e}let _o;function ll(){return _o||(_o=Promise.resolve(),_o.then(()=>{_o=null})),_o}function wn(t,e,n){t.dispatchEvent(Sf(`${e?"intro":"outro"}${n}`))}const li=new Set;let Ft;function Me(){Ft={r:0,c:[],p:Ft}}function Pe(){Ft.r||Ve(Ft.c),Ft=Ft.p}function C(t,e){t&&t.i&&(li.delete(t),t.i(e))}function S(t,e,n,o){if(t&&t.o){if(li.has(t))return;li.add(t),Ft.c.push(()=>{li.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}else o&&o()}const sl={duration:0};function Vt(t,e,n){const o={direction:"in"};let i=e(t,n,o),r=!1,l,a,s=0;function u(){l&&bi(t,l)}function f(){const{delay:d=0,duration:p=300,easing:m=Gi,tick:_=Se,css:b}=i||sl;b&&(l=gi(t,0,1,p,d,m,b,s++)),_(0,1);const v=nl()+d,h=v+p;a&&a.abort(),r=!0,lt(()=>wn(t,!0,"start")),a=il(k=>{if(r){if(k>=h)return _(1,0),wn(t,!0,"end"),u(),r=!1;if(k>=v){const T=m((k-v)/p);_(T,1-T)}}return r})}let c=!1;return{start(){c||(c=!0,bi(t),$t(i)?(i=i(o),ll().then(f)):f())},invalidate(){c=!1},end(){r&&(u(),r=!1)}}}function Wt(t,e,n){const o={direction:"out"};let i=e(t,n,o),r=!0,l;const a=Ft;a.r+=1;let s;function u(){const{delay:f=0,duration:c=300,easing:d=Gi,tick:p=Se,css:m}=i||sl;m&&(l=gi(t,1,0,c,f,d,m));const _=nl()+f,b=_+c;lt(()=>wn(t,!1,"start")),"inert"in t&&(s=t.inert,t.inert=!0),il(v=>{if(r){if(v>=b)return p(0,1),wn(t,!1,"end"),--a.r||Ve(a.c),!1;if(v>=_){const h=d((v-_)/c);p(1-h,h)}}return r})}return $t(i)?ll().then(()=>{i=i(o),u()}):u(),{end(f){f&&"inert"in t&&(t.inert=s),f&&i.tick&&i.tick(1,0),r&&(l&&bi(t,l),r=!1)}}}function Ht(t,e,n,o){let r=e(t,n,{direction:"both"}),l=o?0:1,a=null,s=null,u=null,f;function c(){u&&bi(t,u)}function d(m,_){const b=m.b-l;return _*=Math.abs(b),{a:l,b:m.b,d:b,duration:_,start:m.start,end:m.start+_,group:m.group}}function p(m){const{delay:_=0,duration:b=300,easing:v=Gi,tick:h=Se,css:k}=r||sl,T={start:nl()+_,b:m};m||(T.group=Ft,Ft.r+=1),"inert"in t&&(m?f!==void 0&&(t.inert=f):(f=t.inert,t.inert=!0)),a||s?s=T:(k&&(c(),u=gi(t,l,m,b,_,v,k)),m&&h(0,1),a=d(T,b),lt(()=>wn(t,m,"start")),il(P=>{if(s&&P>s.start&&(a=d(s,b),s=null,wn(t,a.b,"start"),k&&(c(),u=gi(t,l,a.b,a.duration,0,v,r.css))),a){if(P>=a.end)h(l=a.b,1-l),wn(t,a.b,"end"),s||(a.b?c():--a.group.r||Ve(a.group.c)),a=null;else if(P>=a.start){const N=P-a.start;l=a.a+a.d*v(N/a.duration),h(l,1-l)}}return!!(a||s)}))}return{run(m){$t(r)?ll().then(()=>{r=r({direction:m?"in":"out"}),p(m)}):p(m)},end(){c(),a=s=null}}}function Ue(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Ad(t,e){S(t,1,1,()=>{e.delete(t.key)})}function Sd(t,e,n,o,i,r,l,a,s,u,f,c){let d=t.length,p=r.length,m=d;const _={};for(;m--;)_[t[m].key]=m;const b=[],v=new Map,h=new Map,k=[];for(m=p;m--;){const D=c(i,r,m),B=n(D);let q=l.get(B);q?k.push(()=>q.p(D,e)):(q=u(B,D),q.c()),v.set(B,b[m]=q),B in _&&h.set(B,Math.abs(m-_[B]))}const T=new Set,P=new Set;function N(D){C(D,1),D.m(a,f),l.set(D.key,D),f=D.first,p--}for(;d&&p;){const D=b[p-1],B=t[d-1],q=D.key,G=B.key;D===B?(f=D.first,d--,p--):v.has(G)?!l.has(q)||T.has(q)?N(D):P.has(G)?d--:h.get(q)>h.get(G)?(P.add(q),N(D)):(T.add(G),d--):(s(B,l),d--)}for(;d--;){const D=t[d];v.has(D.key)||s(D,l)}for(;p;)N(b[p-1]);return Ve(k),b}function Ce(t,e){const n={},o={},i={$$scope:1};let r=t.length;for(;r--;){const l=t[r],a=e[r];if(a){for(const s in l)s in a||(o[s]=1);for(const s in a)i[s]||(n[s]=a[s],i[s]=1);t[r]=a}else for(const s in l)i[s]=1}for(const l in o)l in n||(n[l]=void 0);return n}function at(t){return typeof t=="object"&&t!==null?t:{}}function hn(t,e,n){const o=t.$$.props[e];o!==void 0&&(t.$$.bound[o]=n,n(t.$$.ctx[o]))}function U(t){t&&t.c()}function W(t,e,n){const{fragment:o,after_update:i}=t.$$;o&&o.m(e,n),lt(()=>{const r=t.$$.on_mount.map(vf).filter($t);t.$$.on_destroy?t.$$.on_destroy.push(...r):Ve(r),t.$$.on_mount=[]}),i.forEach(lt)}function Y(t,e){const n=t.$$;n.fragment!==null&&(Cd(n.after_update),Ve(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Td(t,e){t.$$.dirty[0]===-1&&(Yn.push(t),If(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function me(t,e,n,o,i,r,l=null,a=[-1]){const s=$o;Po(t);const u=t.$$={fragment:null,ctx:[],props:r,update:Se,not_equal:i,bound:El(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(s?s.$$.context:[])),callbacks:El(),dirty:a,skip_bound:!1,root:e.target||s.$$.root};l&&l(u.root);let f=!1;if(u.ctx=n?n(t,e.props||{},(c,d,...p)=>{const m=p.length?p[0]:d;return u.ctx&&i(u.ctx[c],u.ctx[c]=m)&&(!u.skip_bound&&u.bound[c]&&u.bound[c](m),f&&Td(t,c)),d}):[],u.update(),f=!0,Ve(u.before_update),u.fragment=o?o(u.ctx):!1,e.target){if(e.hydrate){const c=_d(e.target);u.fragment&&u.fragment.l(c),c.forEach(I)}else u.fragment&&u.fragment.c();e.intro&&C(t.$$.fragment),W(t,e.target,e.anchor),Of()}Po(s)}class pe{constructor(){nn(this,"$$");nn(this,"$$set")}$destroy(){Y(this,1),this.$destroy=Se}$on(e,n){if(!$t(n))return Se;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const i=o.indexOf(n);i!==-1&&o.splice(i,1)}}$set(e){this.$$set&&!fd(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Id="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Id);const Gn=[];function kn(t,e){return{subscribe:Xe(t,e).subscribe}}function Xe(t,e=Se){let n;const o=new Set;function i(a){if(fe(t,a)&&(t=a,n)){const s=!Gn.length;for(const u of o)u[1](),Gn.push(u,t);if(s){for(let u=0;u<Gn.length;u+=2)Gn[u][0](Gn[u+1]);Gn.length=0}}}function r(a){i(a(t))}function l(a,s=Se){const u=[a,s];return o.add(u),o.size===1&&(n=e(i,r)||Se),a(t),()=>{o.delete(u),o.size===0&&n&&(n(),n=null)}}return{set:i,update:r,subscribe:l}}function en(t,e,n){const o=!Array.isArray(t),i=o?[t]:t;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const r=e.length<2;return kn(n,(l,a)=>{let s=!1;const u=[];let f=0,c=Se;const d=()=>{if(f)return;c();const m=e(o?u[0]:u,l,a);r?l(m):c=$t(m)?m:Se},p=i.map((m,_)=>tl(m,b=>{u[_]=b,f&=~(1<<_),s&&d()},()=>{f|=1<<_}));return s=!0,d(),function(){Ve(p),c(),s=!1}})}function Ll(t){return{subscribe:t.subscribe.bind(t)}}const Od={plots:[],timeSpent:0,lastChangeDay:0,townLog:[],currentTutorialStep:0,gameSettings:[],resource_capacity:1e3,townInfo:{name:"Your town",gold:150,population_count:0,population_max:0,employees:0,guardians:0,happiness:150,health:150,recreation:0,community:150,knowledge_points:0,productivity:100},kingdom_expansions:0,resources:{food:150,wood:750,stone:750,metal:0,power:0,bureaucracy:0},resource_rate:{food:0,wood:0,stone:0,metal:0,bureaucracy:0,knowledge:0},hasCityHall:!1,hasBank:!1,hasHospital:!1,hasLab:!1,modifiers:{happiness:1,health:1,community:1},economyAndLaws:{tax_rate:.1,max_tax_rate:1,weeklyProfit:0,knowledge_gold_market_rates:[],enacted:[]},plotCounts:[],environment:{day:0,year:1},maximums:{health:300,happiness:300,community:300},difficulty:0,endGoal:"land",endGameDetails:{msg:"",win:!1,still_playing:!0},tick:0,overtime:!1,last_warning_happiness:0,last_warning_health:0,lab:{active_experiment:null,past_experiments:[],xp:0},liege_location:null},Md={username:"",stats:{games_played:0,wins:0,losses:0},achievements:[]},al={0:"Easy",1:"Normal",2:"Hard"},Pd={0:Math.random()*(.5-.3)+.3,1:Math.random()*(.4-.2)+.2,2:Math.random()*(.4-.2)+.2},te=[{id:"small_homes",title:"ðŸ  Homes",type:"residential",description:"+16 people",revenue_per_week:0,requirements:{gold:150,plots:[],employees:0,knowledge:0,size:1,xp:0,resources:{food:0,wood:50,stone:10,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:16,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:2,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"Listen to the townspeople."},{id:"large_homes",title:"ðŸ¡ Large Homes",type:"residential",description:"+32 people",revenue_per_week:0,requirements:{gold:1800,plots:[],employees:0,knowledge:0,size:1,xp:0,resources:{food:0,wood:350,stone:100,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.01,health:1,community:1},immediate_variable_changes:{happiness:10,health:0,population:32,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:40,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"Listen to the townspeople."},{id:"farm",title:"ðŸ¥• Farm",type:"farm",description:"Produces veggies, grains, fruit",revenue_per_week:6,requirements:{gold:80,plots:[],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:10,stone:10,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.03,health:1.03,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:5,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},check_for_variety:!1,liege_on_plot_hint:"Your presence on the farm is encouraging the farmers to work harder!"},{id:"tree_farm",title:"ðŸŒ² Tree Farm",type:"lumber",description:"Produces some wood",revenue_per_week:8,requirements:{gold:300,plots:[],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},check_for_variety:!0,styling:"",affordable:null,selected:null,knowledge_points_per_month:0,generated_resources:{food:0,wood:10,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"Your presence on the farm is encouraging the farmers to work harder!"},{id:"quarry",title:"â›ï¸ Quarry",type:"quarry",description:"Produces stone, small amounts of metal. Isn't great for health. ",revenue_per_week:0,requirements:{gold:800,plots:[],employees:6,knowledge:0,size:1,xp:0,resources:{food:0,wood:50,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:.98,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:18,metal:1,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"The workers at the quarry are working harder with the presence of their liege."},{id:"Apothecary",title:"ðŸŒ¿ Apothecary",type:"medical",description:"Produces medicine from herbs and plants found in the forest. Increases health overall for a short bit. Fine until you can build a Healing House.",revenue_per_week:0,requirements:{gold:600,plots:[],employees:2,knowledge:0,size:1,xp:0,resources:{food:0,wood:250,stone:250,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.01,health:1.06,community:1},immediate_variable_changes:{happiness:25,health:70,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"livestock_farm",title:"ðŸ„ Livestock",type:"farm",description:"Makes more money and food than a regular farm, but doesn't bonus from water.",revenue_per_week:60,requirements:{gold:600,plots:[],employees:8,knowledge:0,size:1,xp:0,resources:{food:0,wood:20,stone:20,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.1,health:1.05,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:14,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},check_for_variety:!1,liege_on_plot_hint:"The cows are producing more milk and cheese when you are hanging out on the farm."},{id:"stockpile",title:"ðŸ“¦ Stockpile",type:"stockpile",description:"Enables you to store more resources. Costs gold weekly.",revenue_per_week:0,requirements:{gold:600,plots:[],employees:2,knowledge:0,size:1,xp:0,resources:{food:0,wood:220,stone:60,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:30,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},check_for_variety:!1,liege_on_plot_hint:null},{id:"adv_stockpile",title:"ðŸ“¦ Adv. Stockpile",type:"stockpile",description:"Stores more than a normal Stockpile. Costs more to build & operate.",revenue_per_week:0,requirements:{gold:3e3,plots:[],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:2e3,stone:2e3,metal:200,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:100,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},check_for_variety:!1,liege_on_plot_hint:null},{id:"bakery",title:"ðŸ¥– Bakery",type:"business",description:"Converts food into some extra cash. Make sure you have enough food.",revenue_per_week:80,requirements:{gold:1800,plots:[],employees:3,knowledge:0,size:1,xp:0,resources:{food:0,wood:300,stone:300,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.11,health:.95,community:1},immediate_variable_changes:{happiness:25,health:0,population:0,community:0,bureaucracy:0},check_for_variety:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:15},liege_on_plot_hint:null},{id:"stables",title:"ðŸ´ Stables",type:"recreation",description:"Improves the health of the town and provides recreation.",revenue_per_week:24,requirements:{gold:1700,plots:[],employees:2,knowledge:0,size:1,xp:0,resources:{food:0,wood:280,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.2,health:1.2,community:1},immediate_variable_changes:{happiness:5,health:10,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"church",title:"â›ªï¸ Church",type:"recreation",description:"Makes people VERY happy for a short period.",revenue_per_week:0,requirements:{gold:900,plots:[],employees:1,knowledge:0,size:1,xp:0,resources:{food:0,wood:1250,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:2,health:1,community:1.3},immediate_variable_changes:{happiness:25,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"pub",title:"ðŸ» Pub",type:"recreation",description:"Generates knowledge, happiness, community. Isn't great for health.",revenue_per_week:100,knowledge_points_per_month:1,requirements:{gold:2e3,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:1200,stone:250,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.2,health:.97,community:1.1},immediate_variable_changes:{happiness:10,health:-15,population:0,community:0,bureaucracy:0},check_for_variety:!0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"village_market",title:"ðŸ›’ Market",type:"shop",description:"Turns food into money. Sells goods and employs many. Makes significantly more money from tourism if you have a Village Inn.",revenue_per_week:150,requirements:{gold:3e3,plots:[],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:1600,stone:600,metal:5,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.05,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:35},liege_on_plot_hint:"Your presence is helping the market make more money."},{id:"fishery",title:"ðŸ  Fishery",type:"business",description:"Requires metal but generates a lot of food. Must be near water.",revenue_per_week:35,requirements:{gold:3500,plots:[],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:2500,stone:0,metal:100,power:0,bureaucracy:0},adjacent_plots:["water"]},effect_modifiers:{happiness:1.05,health:1,community:1},immediate_variable_changes:{happiness:15,health:8,population:0,community:0,bureaucracy:0},check_for_variety:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:130,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"Your expertise in fishing is helping the town reel in far more fish!"},{id:"vineyard",title:"ðŸ‡ Vineyard",type:"recreation",description:"Makes fair money, lowers health. Generates knowledge too similar to a pub.",revenue_per_week:60,requirements:{gold:1800,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:1200,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.2,health:.9,community:1},immediate_variable_changes:{happiness:0,health:-10,population:0,community:0,bureaucracy:0},knowledge_points_per_month:3,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"water_wheel",title:"ðŸ’§ Water Wheel",type:"industrial",description:"Produces small amount of power",revenue_per_week:0,requirements:{gold:1600,plots:[],employees:15,knowledge:0,size:1,xp:0,resources:{food:0,wood:2e3,stone:25,metal:0,power:0,bureaucracy:0},adjacent_plots:["water"]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:35,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"You are trying to improve the efficiency of the water wheel, but you aren't making a difference."},{id:"adv_water_wheel",title:"ðŸ’§ Adv. Water Wheel",type:"industrial",description:"Produces a large amount of power",revenue_per_week:0,requirements:{gold:3e3,plots:["blacksmith"],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:1200,stone:150,metal:500,power:0,bureaucracy:0},adjacent_plots:["water"]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:250,bureaucracy:0},level:4,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"You are trying to improve the efficiency of the water wheel, but you aren't making a difference."},{id:"adv_farm",title:"ðŸŒ¾ Adv. Farm",type:"farm",description:"Uses knowledge and technology to produce more food, with only 1 employee.",revenue_per_week:60,requirements:{gold:750,plots:[],employees:1,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:300,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:15,health:15,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:180,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:100,wood:0,stone:0,metal:3,bureaucracy:0,food:0},check_for_variety:!1,liege_on_plot_hint:"Your presence on the farm is encouraging the farmer to work harder!"},{id:"park",title:"ðŸŽª Park",type:"recreation",description:"Makes people extremely happy & healthy for a period. Improves community.",revenue_per_week:0,requirements:{gold:600,plots:[],employees:3,knowledge:0,size:1,xp:0,resources:{food:0,wood:100,stone:100,metal:10,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.5,health:1.5,community:1.3},immediate_variable_changes:{happiness:40,health:40,population:0,community:40,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"village_inn",title:"ðŸ›Œ Village Inn",type:"tourism",description:"Each inn brings more visitors to your town, increasing profits for the Market and other stores.",revenue_per_week:40,requirements:{gold:5500,plots:[],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:3e3,stone:100,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1.02},immediate_variable_changes:{happiness:10,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:20,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"schoolhouse",title:"ðŸ« Schoolhouse",type:"education",description:"Produces knowledge, costs money to run.",revenue_per_week:0,knowledge_points_per_month:75,requirements:{gold:15e3,plots:["lumber_mill"],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:3e3,stone:600,metal:100,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.1,health:1.1,community:1.2},immediate_variable_changes:{happiness:15,health:3,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:50,power:20,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"The children seem to be learning worse when you are around, maybe you are a distraction from the teachers."},{id:"blacksmith",title:"âš’ï¸ Blacksmith",type:"business",description:"Converts metal into tools for money. Make sure you have enough metal!",revenue_per_week:300,requirements:{gold:12500,plots:[],employees:24,knowledge:0,size:1,xp:0,resources:{food:0,wood:250,stone:4e3,metal:500,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:.95},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:30,wood:0,stone:0,metal:5,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"library",title:"ðŸ“• Library",type:"recreation",description:"Produces knowledge and happiness",revenue_per_week:0,knowledge_points_per_month:10,requirements:{gold:2e3,plots:["lumber_mill"],employees:6,knowledge:0,size:1,xp:0,resources:{food:0,wood:2025,stone:500,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.3,health:1,community:1.1},immediate_variable_changes:{happiness:15,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"lumber_mill",title:"ðŸ­ Lumber Mill",type:"industrial",description:"Increases wood production by 50%, has to be next to a tree farm, but increases production at all.",revenue_per_week:0,requirements:{gold:12e3,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:100,stone:100,metal:300,power:0,bureaucracy:0},adjacent_plots:["tree_farm"]},effect_modifiers:{happiness:1.2,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:50,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:40,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"solar_farm",title:"â˜€ï¸ Solar farm",type:"industrial",description:"Produces a lot of power without the need of water. Requires a lot of metal every week.",revenue_per_week:0,requirements:{gold:3e4,plots:["blacksmith","library"],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:500,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:750,bureaucracy:0},level:4,active_costs:{gold:0,power:0,wood:0,stone:0,metal:25,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"general_store",title:"ðŸ›’ General Store",type:"shop",description:"Makes the most money of any plot, requires power. Makes significantly more from tourism if you have a Village Inn.",revenue_per_week:750,requirements:{gold:27500,plots:[],employees:32,knowledge:0,size:1,xp:0,resources:{food:0,wood:3e4,stone:5e3,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:2,health:2,community:1.1},immediate_variable_changes:{happiness:50,health:50,population:0,community:50,bureaucracy:0},check_for_variety:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:160,wood:0,stone:0,metal:0,bureaucracy:0,food:100},liege_on_plot_hint:"Your experience managing towns is increasing the profits at the general store!"},{id:"healing_house",title:"ðŸ¥ Healing House",type:"medical",description:"Treats the sick and continuously improves health.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:3e4,plots:["mine"],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:1e3,stone:2e3,metal:500,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.25,health:1.5,community:1.1},immediate_variable_changes:{happiness:5,health:75,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:30,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"community_center",title:"ðŸ«¶ Community Center",type:"recreation",description:"Improves community, makes people happier, costs money",revenue_per_week:0,requirements:{gold:16e3,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:7500,stone:700,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.09,health:1,community:2},immediate_variable_changes:{happiness:50,health:15,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:10,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"city_hall",title:"ðŸ—³ï¸ City Hall",type:"federal",description:"Generates bureaucracy that can be used to pass laws to impact the city and expand. Costs a LOT of gold every week.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:125e3,plots:[],employees:32,knowledge:1e4,size:1,xp:0,resources:{food:0,wood:3250,stone:2e3,metal:200,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1.3},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:10},level:5,active_costs:{gold:600,power:20,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"mine",title:"â›ï¸ Mine",type:"mine",description:"Produces a significant amount of metal and stone.",revenue_per_week:0,requirements:{gold:3e4,plots:["blacksmith"],employees:48,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:110,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:.95,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:10,metal:60,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:80,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"academy",title:"ðŸ« Academy",type:"education",description:"Produces a lot of knowledge, more than a schoolhouse or library. But freakishly expensive.",revenue_per_week:0,knowledge_points_per_month:400,requirements:{gold:99e3,plots:["lumber_mill","schoolhouse"],employees:24,knowledge:3e3,size:1,xp:0,resources:{food:0,wood:3e3,stone:1600,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:5,active_costs:{gold:300,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"bank",title:"ðŸ¦ Bank",type:"bank",description:"Enables the conversion of knowledge to gold, and increases maximum tax rate so you can make more money.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:1e5,plots:["academy"],employees:32,knowledge:25e3,size:1,xp:0,resources:{food:0,wood:1e3,stone:1e4,metal:1e3,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:.8,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:5,active_costs:{gold:0,power:100,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"lab",title:"ðŸ§ª Laboratory",type:"science",description:"Designs things to help the city grow",revenue_per_week:0,knowledge_points_per_month:300,requirements:{gold:1e5,plots:["academy"],employees:48,knowledge:15e3,size:1,xp:0,resources:{food:0,wood:0,stone:1e4,metal:5e3,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:.98,health:.99,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:5,active_costs:{gold:0,power:700,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null}],go={empty_unusable:"rgba(255,255,255,0.50)",empty_buildable:"rgba(239,234,90,1.0)",residential:"rgba(222,118,51,1.0)",farm:"rgba(107,143,73,1.0)",lumber:"rgba(145,116,44,1.0)",business:"rgba(146,115,165,1.0)",recreation:"rgba(82,119,177,1.0)",shop:"rgba(82,119,177,1.0)",tourism:"rgba(216,150,216,1.0)",education:"rgba(153,151,223,1.0)",medical:"rgba(74,91,163,1.0)",bank:"rgba(132,119,190,1.0)",federal:"rgba(132,119,190,1.0)",science:"rgba(74,91,163,1.0)",mine:"rgba(217,135,74,1.0)",quarry:"rgba(134,134,133,1.0)",industrial:"rgba(134,134,21,1.0)",stockpile:"rgba(134,134,133,1.0)"};function Or(t,e=!1,n=22){if(t<0)return t==-1?e?go.empty_buildable:go.empty_unusable:t==-2?go.recreation:go.empty_unusable;const o=te[t];return Nd(go[o.type],n)}const Dl={lab:1,city_hall:1,bank:1,community_center:1,inn:1},Nd=(t,e=20)=>{const n=(l,a,s)=>{l/=255,a/=255,s/=255;const u=Math.max(l,a,s),f=Math.min(l,a,s);let c=0,d=0,p=(u+f)/2;if(u!==f){const m=u-f;switch(d=p>.5?m/(2-u-f):m/(u+f),u){case l:c=(a-s)/m+(a<s?6:0);break;case a:c=(s-l)/m+2;break;case s:c=(l-a)/m+4;break}c/=6}return[c*360,d,p]},o=(l,a,s,u)=>{const f=Math.min(1,s+u/100);return`hsl(${l}, ${(a*100).toFixed(1)}%, ${(f*100).toFixed(1)}%)`},i=l=>{const a=l.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)/);return a?[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]:null};let r=null;if(t.startsWith("#")){const l=t.replace("#",""),a=parseInt(l,16);r=[a>>16&255,a>>8&255,a&255]}else(t.startsWith("rgba")||t.startsWith("rgb"))&&(r=i(t));if(r){const[l,a,s]=n(r[0],r[1],r[2]);return o(l,a,s,e)}throw new Error("Invalid color format")},Dt="plots_active_game_db",Qn="plots_user_db";function Ed(){const t=["York","London","Paris","Madrid","Rome","Berlin","Vienna","Prague","Warsaw","Oslo","Lisbon","Dublin","Brussels","Amsterdam","Stockholm","Copenhagen","Edinburgh","Moscow","Beijing","Tokyo","Seoul","Bangkok","Delhi","Mumbai","Shanghai","Sydney","Melbourne","Cairo","Dubai","Istanbul","Athens","Budapest","Reykjavik","Helsinki","Tallinn","Riga","Vilnius","Sofia","Bucharest","Belgrade","Zagreb","Sarajevo","Ljubljana","Skopje","Tirana","Podgorica","Thessaloniki","Barcelona","Valencia","Seville","Granada","Malaga","Lyon","Marseille","Toulouse","Nice","Nantes","Strasbourg","Bordeaux","Lille","Venice","Milan","Florence","Naples","Turin","Bologna","Perugia","Genoa","Pisa","Verona","Palermo","Catania","Bari","Padua","Cagliari","Krakow","Gdansk","Poznan","Wroclaw","Lodz","Katowice","Bialystok","Gdynia","Sopot","Bydgoszcz","Lublin","Szczecin","Gorzow","Zakopane","Olsztyn","Torun","Rzeszow","Kielce","Radom","Siedlce","Los","Angeles","Chicago","Houston","Phoenix","San","Antonio","San","Diego","Dallas","San","Jose","Austin","Jacksonville","Fort","Worth","Columbus","Charlotte","Liverpool","Manchester","Glasgow","Birmingham","Leeds","Sheffield","Newcastle","upon","Tyne","Bristol","Nottingham","Leicester","Coventry","Belfast","Reading","Cardiff","Southampton","Aberdeen","Plymouth","Stoke","Trent","Wolverhampton","Swansea","Sunderland","Portsmouth","Yorkshire","Hull","Blackpool","Bradford","Derby","Middlesbrough","Peterborough","Stockton","on","Tees","Brighton","Poole","Bournemouth","Huddersfield","Luton","Oxford","Norwich","Oldham","Cambridge","Exeter","Walsall","Colchester","Watford","Rotherham","Newport","Gateshead","Dundee","Gloucester","Solihull","High","Wycombe","Maidstone","Slough","Basildon","Chelmsford","Salford","Bedford","Stevenage","Woking","Grimsby","Birkenhead","Halifax","Warrington","Gillingham","Wigan","Worcester","Wakefield","Lincoln","Chester","Rochdale","Dagenham","Widnes","St","Albans","Mansfield","Sutton","Coldfield","Crawley","Wokingham","Barnsley","St","Helens","Harrogate","Redditch","Scunthorpe","Nuneaton","Chesterfield","Hemel","Hempstead","Bury","Guildford","Ashford","Telford","Newcastle","under","Lyme","Aylesbury","Halesowen","Shrewsbury","Lowestoft","Loughborough","Cheltenham","Kidderminster","Basingstoke","Rugby","Stourbridge","Southport","Kettering","Royal","Leamington","Spa","Beeston","Farnborough","Wrexham","Banbury","Weymouth","Wallsend","Dartford","Grays","Tamworth","Ashford","Esher","Folkestone","Tonbridge","Taunton","Runcorn","Macclesfield","Keighley","Bridgend","Barnstaple","Letchworth","Garden","City","Worthing","Gosport","Eastleigh","Staines","upon","Thames","Lisburn","Livingston","Bognor","Regis","Scarborough","Cannock","Margate","Chippenham","Rhondda","Maidenhead","Wellingborough","Washington","Camberley","Bootle","Lancaster","Llanelli","Chatham","Cheshunt","Bishop","Auckland","Nelson","Belper","Pontefract","Barry","Braintree","Crosby","Bury","St","Edmunds","Bexhill","Margate","Aldershot","Rowley","Regis","Hoddesdon","Sittingbourne","Rugby","Newquay","Falmouth","Stretford","Camberley","Beverley","Windsor","Rochester","Wickford","Diss","Farnham","Andover","Camberwell","Bermondsey","Lewisham","Wembley","Hayes","Harrow","Ilford","Enfield","Twickenham","Richmond","Brentwood","Edgware","Ealing","Greenwich","Bromley","Hounslow","Romford","Hillingdon","Uxbridge","Wandsworth","Sutton","Kingston","upon","Thames","Bexley","Havering","Barking"],e=["ia","ville","ton","land","field","burgh","ford","wood","port","bay","beach","peak","valley","ridge","hill","dale","island","cape","spring","grove","polis","side","view","shore","haven","place","gardens","plaza","square"],n=["New","Old","North","South","East","West","Upper","Lower","Little","Great","Saint","Fort","Mount","Lake","River","The Village of","The City of","The Town of","The Borough of","The County of","The State of","The Kingdom of","The Empire of","The Republic of","The Commonwealth of","The Union of","The Federation of","Rainy","Sunny","Windy","Frosty","Snowy"];function o(s){return s[Math.floor(Math.random()*s.length)]}let i=o(n),r=o(t),l=o(e),a="";return Math.random()>.5?a=i+" "+r+l:a=r+l,a}let qe=Xe(JSON.parse(localStorage.getItem(Dt)||"null")),Zt=Xe(JSON.parse(localStorage.getItem(Qn)||"null"));Ld();function Rd(t,e,n,o){let i={...Od};i.gameSettings=o,i.economyAndLaws.max_tax_rate=Pd[t],i.endGoal=e;let r=[];n=n.replace(/[^a-zA-Z0-9 ]/g,"").trim(),i.townInfo.name=n!=""?n:Ed(),i.difficulty=parseInt(t),JSON.parse(localStorage.getItem(Qn)||"null").username=="dev"&&o.push("devMode"),o.includes("devMode")&&(i.townInfo.gold=1e8,i.townInfo.happiness=1e7,i.townInfo.health=1e6,i.townInfo.knowledge_points=1e5,i.modifiers.happiness=1e4,i.modifiers.health=1e4,i.resources.food=1e6,i.resources.wood=1e6,i.resources.stone=1e6,i.resources.metal=1e6);const a=12,s=Math.floor(Math.random()*a/2)+1,u=Math.floor(Math.random()*a/2)+1;for(let f=0;f<a;f++){r.push([]);for(let c=0;c<a;c++){const d=f==s&&c==u?!1:Mr(f,c,a);r[f][c]={id:Math.random().toString(36).substring(2,9),active:!1,x:f,y:c,type:d?-9:-1,typeId:"",mineralSource:d?!1:s===f&&u===c,water:s===f&&u===c?!1:d}}}i.plots=r,localStorage.setItem(Dt,JSON.stringify(i)),qe.set(i),localStorage.reset=!1,location.reload()}function Mr(t,e,n){let o=.08;return t>0&&e>0&&t<n-1&&e<n-1&&(o*=2),(e==Math.round(n/2)||e==Math.round(n/2)-1)&&(o*=3),t==0&&e==0&&(o=0),Math.random()<o}function Ld(){if(localStorage.getItem(Qn)===null){let t=Md;t.username="my_username_click_to_change",localStorage.setItem(Qn,JSON.stringify(t)),Zt.set(t)}}function ul(t,e,n){let o=n.plots[t][e].type;if(n.plots[t][e].type=-1,n.plots[t][e].active=!1,o>-1&&(n.townInfo.population_count-=te[o].immediate_variable_changes.population,n.townInfo.population_max-=te[o].immediate_variable_changes.population,n.townInfo.employees-=te[o].requirements.employees,(n.plotCounts[o]===void 0||n.plotCounts[o]===null)&&(n.plotCounts[o]=0),n.plotCounts[o]--,(te[o].requirements.size??1)>1))for(let r=0;r<n.plots.length;r++)for(let l=0;l<n.plots[t].length;l++)n.plots[r][l].referencePlot!=null&&n.plots[r][l].referencePlot[0]===t&&n.plots[r][l].referencePlot[1]===e&&ul(r,l,n);n.lastChangeDay=n.environment.day,qe.set(n),localStorage.setItem(Dt,JSON.stringify(n))}function Be(t,e){let n=[];for(let o=0;o<e.plots.length;o++)for(let i=0;i<e.plots[o].length;i++)e.plots[o][i].active==!1||e.plots[o][i]==null||e.plots[o][i].type===null||e.plots[o][i].type<0||(te[e.plots[o][i].type].id===t||te[e.plots[o][i].type].type===t)&&n.push(e.plots[o][i]);return n}function Un(t,e,n){return n.liege_location!=null&&n.liege_location[0]===t&&n.liege_location[1]===e}function Dd(t,e){const n=t.plots.length,o=n>0?t.plots[0].length:0,i=e=="east"?5:0,r=e=="south"?5:0,l=Math.round(Math.pow(1.7,t.kingdom_expansions+5));if(t.townInfo.guardians<l)return`You need ${l-t.townInfo.guardians} more Guardians to expand the kingdom. See the City mgmt menu.`;for(let a=0;a<n;a++)for(let s=o;s<o+i;s++)t.plots[a].push({id:Math.random().toString(36).substring(2,9),active:!1,x:a,y:s,type:-1,typeId:"",mineralSource:!1,water:Mr(a,s,n+r),disabled:!1});for(let a=n;a<n+r;a++){const s=[];for(let u=0;u<o+i;u++)s.push({id:Math.random().toString(36).substring(2,9),active:!1,x:a,y:u,type:-1,typeId:"",mineralSource:!1,water:Mr(a,u,n+r)});t.plots.push(s)}t.kingdom_expansions++,qe.set(t)}function vi(t=null){localStorage.removeItem(Dt),qe.set(null),t&&(localStorage.setItem(Dt,JSON.stringify(t)),qe.set(t))}function $l(t,e,n){n.liege_location=[t,e],eo.set(!1),document.querySelectorAll(".plot_container").forEach(i=>{i.style.cursor=""}),qe.set(n)}let tt=Xe({visible:!1,x:0,y:0,isMineralSource:!1}),No=Xe({visible:!1});function $d(t){Zt.set(t),localStorage.setItem(Qn,JSON.stringify(t))}let zn=Xe({}),Eo=Xe(!1),Ct=Xe(!1),Pr=Xe(!0),ql=Xe(!1),yi=Xe(!1),wi=Xe(!1),si=Xe(!1),eo=Xe(!1),ki=Xe(!1),ht=Xe(""),Ci=localStorage.getItem("showCompletedAchievements")==="true"?Xe(!0):Xe(!1);localStorage.getItem("showOnlyAffordable")==="true"?Xe(!0):Xe(!1);let Mf=localStorage.getItem("pauseMenuTab")==="game"?Xe("game"):Xe("achievements"),Ao=Xe(750);const Et={unemployment_num:" people can't find jobs.",bored:"People are bored. Try making some new buildings.",vairety:"People don't like going to the same places over and over again. Try making some new buildings.",nobody_home:"Build some homes!",leave_town_num:" people left town because they were unhappy.",new_people_num:" new people moved to town.",people_want_to_move_in:"People want to move in. Build more homes.",high_tax_rate:"People are unhappy with the high tax rate.",very_high_tax_rate:"People are extremely unhappy with the high tax rate.",sickAndDying:"People are sick and dying.",sickAndLeaving:"People are sick and leaving town.",happiness_zero:"The town has fallen into chaos due to extreme unhappiness.",health_zero:"The town has fallen into chaos due to extreme sickness.",population_zero:"The town has been condemned due to lack of population.",win:{land:"You have filled the grid with buildings. You win!"},hospital_advantage:"Because you have a hospital, the town is staying healthier for longer!",notEnoughVariety:"People are sick of going to the same places over and over, add some variety!"},it=[{id:"happiness_at_300",title:"Happy Town",description:"One of your towns wins Happiest Town Award!",requirements:"Happiness reaches 300",icon:"ðŸ˜",check:t=>t.townInfo.happiness>=300,prize:1e3},{id:"get_educated",title:"Get Educated",description:"The kids are finally able to learn!",requirements:"Build a school or library",icon:"ðŸ“Œ",check:t=>Be("small_school",t).length!==0||Be("large_school",t).length!==0||Be("library",t).length!==0,prize:1850},{id:"10k",title:"$10,000",description:"",requirements:"Gold reaches $10,000",icon:"ï¹©",check:t=>t.townInfo.gold>=1e4,prize:2500},{id:"25k",title:"$25,000",description:"",requirements:"Gold reaches $25,000",icon:"ðŸ’µ",check:t=>t.townInfo.gold>=25e3,prize:7500},{id:"stayin_frugal",title:"Stayin' Frugal!",description:"",requirements:"Gold under $50 with >=300 population",icon:"ðŸš²",check:t=>t.townInfo.gold<=50&&t.townInfo.population_count>=300,prize:1e4},{id:"profits_to_the_moon",title:"Profits to the moon!",description:"Now you're making dough!",requirements:"Last month profit is over $10,000",icon:"ðŸŒ›",check:t=>t.economyAndLaws.weeklyProfit>=1e4,prize:15e3},{id:"happily_dying",title:"Happily Dying!",description:"Not something to be proud of...",requirements:"Happiness > 275, health < 25",icon:"ðŸŒ›",check:t=>t.townInfo.happiness>275&&t.townInfo.health<25,prize:2e4},{id:"long_game",title:"The Long Game",description:"So are you gonna win anytime soon?",requirements:"Still playing after 10,000 days, without winning. ",icon:"ðŸŒ",check:t=>t.endGameDetails.win===!1&&t.environment.day>1e4&&t.endGameDetails.msg==="",prize:25e3},{id:"tax_man",title:"Tax man",description:"Set the tax rate to the absolute max that the town will tolerate.",requirements:"",icon:"ðŸ™ƒ",check:t=>{let e=Math.floor(t.economyAndLaws.max_tax_rate*20)/20;return t.economyAndLaws.tax_rate===e},prize:1500},{id:"good_job",title:"Good job",description:"Beat 'Fill the grid' with Normal difficulty in under 3,000 days.",requirements:"",icon:"ðŸ‘",check:t=>t.endGameDetails.win===!0&&t.environment.day<=3e3&&t.difficulty===1&&t.endGoal==="land",prize:1e4},{id:"great_job",title:"Great job",description:"Beat 'Fill the grid' with Normal difficulty in under 2,000 days.",requirements:"",icon:"ðŸ‘",check:t=>t.endGameDetails.win===!0&&t.environment.day<=2e3&&t.difficulty===1&&t.endGoal==="land",prize:45e3},{id:"superb_job",title:"SUPERB job",description:"Beat 'Fill the grid' with Normal difficulty in under 500 days.",requirements:"",icon:"ðŸ‘Œ",check:t=>t.endGameDetails.win===!0&&t.environment.day<=500&&t.difficulty===1&&t.endGoal==="land",prize:1e5},{id:"250k",title:"$250,000",description:"",requirements:"Gold reaches $250,000",icon:"ðŸ’¸",check:t=>t.townInfo.gold>=25e4,prize:5e4},{id:"banker",title:"Banker",description:"",requirements:"Build your first bank. ",icon:"ðŸ¦",check:t=>Be("bank",t).length!==0,prize:5e3},{id:"community",title:"Community Center",description:"",requirements:"Build your first community center. ",icon:"â¤ï¸",check:t=>Be("community_center",t).length!==0,prize:1e4},{id:"1m",title:"MILLIONAIRE!",description:"",requirements:"Gold reaches $1,000,000",icon:"ðŸ’°",check:t=>t.townInfo.gold>=1e6,prize:15e4},{id:"pub_knowledge",title:"Street smartz",description:"You get 250 knowledge without building a school or library.",requirements:"Knowledge >= 250 without building a school or library",icon:"ðŸ¤“",check:t=>Be("small_school",t).length===0&&Be("large_school",t).length===0&&Be("library",t).length===0&&t.townInfo.knowledge_points>=250,prize:5e4}],Ro=[{message:"Build homes to start growing our village",isComplete:t=>t.townInfo.population_max>0,goldReward:750},{message:"Start producing food and wood to keep the town running",isComplete:t=>Be("farm",t).length>=1&&Be("tree_farm",t).length>=1,goldReward:500},{message:"We need stone and metals. Build a quarry",isComplete:t=>Be("quarry",t).length>0,goldReward:700},{message:"Weekly revenue >= 200 gold",isComplete:t=>t.economyAndLaws.weeklyProfit>=200,goldReward:3e3},{message:"Grow our population to 100.",isComplete:t=>t.townInfo.population_count>=100,goldReward:8e3},{message:"Start generating power. Build a water wheel or solar farm",isComplete:t=>t.resources.power>0,goldReward:1e4},{message:"Knowledge >= 250",isComplete:t=>t.townInfo.knowledge_points>=250,goldReward:5e3},{message:"Population >= 200",isComplete:t=>t.townInfo.population_count>=200,goldReward:2e4},{message:"Build a mine to boost our metal supply",isComplete:t=>Be("mine",t).length>0,goldReward:2e4},{message:"Establish a City Hall to advance our town",isComplete:t=>Be("city_hall",t).length>0,goldReward:5e4}];function Pf(t){var e,n,o="";if(typeof t=="string"||typeof t=="number")o+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Pf(t[e]))&&(o&&(o+=" "),o+=n)}else for(n in t)t[n]&&(o&&(o+=" "),o+=n);return o}function qd(){for(var t,e,n=0,o="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Pf(t))&&(o&&(o+=" "),o+=e);return o}const fl="-";function Fd(t){const e=jd(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:o}=t;function i(l){const a=l.split(fl);return a[0]===""&&a.length!==1&&a.shift(),Nf(a,e)||Bd(l)}function r(l,a){const s=n[l]||[];return a&&o[l]?[...s,...o[l]]:s}return{getClassGroupId:i,getConflictingClassGroupIds:r}}function Nf(t,e){var l;if(t.length===0)return e.classGroupId;const n=t[0],o=e.nextPart.get(n),i=o?Nf(t.slice(1),o):void 0;if(i)return i;if(e.validators.length===0)return;const r=t.join(fl);return(l=e.validators.find(({validator:a})=>a(r)))==null?void 0:l.classGroupId}const Fl=/^\[(.+)\]$/;function Bd(t){if(Fl.test(t)){const e=Fl.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function jd(t){const{theme:e,prefix:n}=t,o={nextPart:new Map,validators:[]};return Gd(Object.entries(t.classGroups),n).forEach(([r,l])=>{Nr(l,o,r,e)}),o}function Nr(t,e,n,o){t.forEach(i=>{if(typeof i=="string"){const r=i===""?e:Bl(e,i);r.classGroupId=n;return}if(typeof i=="function"){if(Hd(i)){Nr(i(o),e,n,o);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([r,l])=>{Nr(l,Bl(e,r),n,o)})})}function Bl(t,e){let n=t;return e.split(fl).forEach(o=>{n.nextPart.has(o)||n.nextPart.set(o,{nextPart:new Map,validators:[]}),n=n.nextPart.get(o)}),n}function Hd(t){return t.isThemeGetter}function Gd(t,e){return e?t.map(([n,o])=>{const i=o.map(r=>typeof r=="string"?e+r:typeof r=="object"?Object.fromEntries(Object.entries(r).map(([l,a])=>[e+l,a])):r);return[n,i]}):t}function Vd(t){if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,o=new Map;function i(r,l){n.set(r,l),e++,e>t&&(e=0,o=n,n=new Map)}return{get(r){let l=n.get(r);if(l!==void 0)return l;if((l=o.get(r))!==void 0)return i(r,l),l},set(r,l){n.has(r)?n.set(r,l):i(r,l)}}}const Ef="!";function Wd(t){const e=t.separator,n=e.length===1,o=e[0],i=e.length;return function(l){const a=[];let s=0,u=0,f;for(let _=0;_<l.length;_++){let b=l[_];if(s===0){if(b===o&&(n||l.slice(_,_+i)===e)){a.push(l.slice(u,_)),u=_+i;continue}if(b==="/"){f=_;continue}}b==="["?s++:b==="]"&&s--}const c=a.length===0?l:l.substring(u),d=c.startsWith(Ef),p=d?c.substring(1):c,m=f&&f>u?f-u:void 0;return{modifiers:a,hasImportantModifier:d,baseClassName:p,maybePostfixModifierPosition:m}}}function Yd(t){if(t.length<=1)return t;const e=[];let n=[];return t.forEach(o=>{o[0]==="["?(e.push(...n.sort(),o),n=[]):n.push(o)}),e.push(...n.sort()),e}function Ud(t){return{cache:Vd(t.cacheSize),splitModifiers:Wd(t),...Fd(t)}}const Kd=/\s+/;function xd(t,e){const{splitModifiers:n,getClassGroupId:o,getConflictingClassGroupIds:i}=e,r=new Set;return t.trim().split(Kd).map(l=>{const{modifiers:a,hasImportantModifier:s,baseClassName:u,maybePostfixModifierPosition:f}=n(l);let c=o(f?u.substring(0,f):u),d=!!f;if(!c){if(!f)return{isTailwindClass:!1,originalClassName:l};if(c=o(u),!c)return{isTailwindClass:!1,originalClassName:l};d=!1}const p=Yd(a).join(":");return{isTailwindClass:!0,modifierId:s?p+Ef:p,classGroupId:c,originalClassName:l,hasPostfixModifier:d}}).reverse().filter(l=>{if(!l.isTailwindClass)return!0;const{modifierId:a,classGroupId:s,hasPostfixModifier:u}=l,f=a+s;return r.has(f)?!1:(r.add(f),i(s,u).forEach(c=>r.add(a+c)),!0)}).reverse().map(l=>l.originalClassName).join(" ")}function Xd(){let t=0,e,n,o="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Rf(e))&&(o&&(o+=" "),o+=n);return o}function Rf(t){if(typeof t=="string")return t;let e,n="";for(let o=0;o<t.length;o++)t[o]&&(e=Rf(t[o]))&&(n&&(n+=" "),n+=e);return n}function Er(t,...e){let n,o,i,r=l;function l(s){const u=e.reduce((f,c)=>c(f),t());return n=Ud(u),o=n.cache.get,i=n.cache.set,r=a,a(s)}function a(s){const u=o(s);if(u)return u;const f=xd(s,n);return i(s,f),f}return function(){return r(Xd.apply(null,arguments))}}function ze(t){const e=n=>n[t]||[];return e.isThemeGetter=!0,e}const Lf=/^\[(?:([a-z-]+):)?(.+)\]$/i,Jd=/^\d+\/\d+$/,Zd=new Set(["px","full","screen"]),Qd=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,zd=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,em=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,tm=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,nm=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function Ut(t){return vn(t)||Zd.has(t)||Jd.test(t)}function on(t){return lo(t,"length",fm)}function vn(t){return!!t&&!Number.isNaN(Number(t))}function Xo(t){return lo(t,"number",vn)}function bo(t){return!!t&&Number.isInteger(Number(t))}function om(t){return t.endsWith("%")&&vn(t.slice(0,-1))}function Ye(t){return Lf.test(t)}function rn(t){return Qd.test(t)}const im=new Set(["length","size","percentage"]);function rm(t){return lo(t,im,Df)}function lm(t){return lo(t,"position",Df)}const sm=new Set(["image","url"]);function am(t){return lo(t,sm,dm)}function um(t){return lo(t,"",cm)}function vo(){return!0}function lo(t,e,n){const o=Lf.exec(t);return o?o[1]?typeof e=="string"?o[1]===e:e.has(o[1]):n(o[2]):!1}function fm(t){return zd.test(t)&&!em.test(t)}function Df(){return!1}function cm(t){return tm.test(t)}function dm(t){return nm.test(t)}function Rr(){const t=ze("colors"),e=ze("spacing"),n=ze("blur"),o=ze("brightness"),i=ze("borderColor"),r=ze("borderRadius"),l=ze("borderSpacing"),a=ze("borderWidth"),s=ze("contrast"),u=ze("grayscale"),f=ze("hueRotate"),c=ze("invert"),d=ze("gap"),p=ze("gradientColorStops"),m=ze("gradientColorStopPositions"),_=ze("inset"),b=ze("margin"),v=ze("opacity"),h=ze("padding"),k=ze("saturate"),T=ze("scale"),P=ze("sepia"),N=ze("skew"),D=ze("space"),B=ze("translate"),q=()=>["auto","contain","none"],G=()=>["auto","hidden","clip","visible","scroll"],E=()=>["auto",Ye,e],w=()=>[Ye,e],A=()=>["",Ut,on],$=()=>["auto",vn,Ye],V=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],R=()=>["solid","dashed","dotted","double","none"],x=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"],X=()=>["start","end","center","between","around","evenly","stretch"],Q=()=>["","0",Ye],ne=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ae=()=>[vn,Xo],we=()=>[vn,Ye];return{cacheSize:500,separator:":",theme:{colors:[vo],spacing:[Ut,on],blur:["none","",rn,Ye],brightness:ae(),borderColor:[t],borderRadius:["none","","full",rn,Ye],borderSpacing:w(),borderWidth:A(),contrast:ae(),grayscale:Q(),hueRotate:we(),invert:Q(),gap:w(),gradientColorStops:[t],gradientColorStopPositions:[om,on],inset:E(),margin:E(),opacity:ae(),padding:w(),saturate:ae(),scale:ae(),sepia:Q(),skew:we(),space:w(),translate:w()},classGroups:{aspect:[{aspect:["auto","square","video",Ye]}],container:["container"],columns:[{columns:[rn]}],"break-after":[{"break-after":ne()}],"break-before":[{"break-before":ne()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...V(),Ye]}],overflow:[{overflow:G()}],"overflow-x":[{"overflow-x":G()}],"overflow-y":[{"overflow-y":G()}],overscroll:[{overscroll:q()}],"overscroll-x":[{"overscroll-x":q()}],"overscroll-y":[{"overscroll-y":q()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",bo,Ye]}],basis:[{basis:E()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ye]}],grow:[{grow:Q()}],shrink:[{shrink:Q()}],order:[{order:["first","last","none",bo,Ye]}],"grid-cols":[{"grid-cols":[vo]}],"col-start-end":[{col:["auto",{span:["full",bo,Ye]},Ye]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[vo]}],"row-start-end":[{row:["auto",{span:[bo,Ye]},Ye]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ye]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ye]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal",...X()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...X(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...X(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[h]}],px:[{px:[h]}],py:[{py:[h]}],ps:[{ps:[h]}],pe:[{pe:[h]}],pt:[{pt:[h]}],pr:[{pr:[h]}],pb:[{pb:[h]}],pl:[{pl:[h]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[D]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[D]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ye,e]}],"min-w":[{"min-w":[Ye,e,"min","max","fit"]}],"max-w":[{"max-w":[Ye,e,"none","full","min","max","fit","prose",{screen:[rn]},rn]}],h:[{h:[Ye,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ye,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ye,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ye,e,"auto","min","max","fit"]}],"font-size":[{text:["base",rn,on]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Xo]}],"font-family":[{font:[vo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ye]}],"line-clamp":[{"line-clamp":["none",vn,Xo]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ut,Ye]}],"list-image":[{"list-image":["none",Ye]}],"list-style-type":[{list:["none","disc","decimal",Ye]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...R(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ut,on]}],"underline-offset":[{"underline-offset":["auto",Ut,Ye]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:w()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ye]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ye]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...V(),lm]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",rm]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},am]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[r]}],"rounded-s":[{"rounded-s":[r]}],"rounded-e":[{"rounded-e":[r]}],"rounded-t":[{"rounded-t":[r]}],"rounded-r":[{"rounded-r":[r]}],"rounded-b":[{"rounded-b":[r]}],"rounded-l":[{"rounded-l":[r]}],"rounded-ss":[{"rounded-ss":[r]}],"rounded-se":[{"rounded-se":[r]}],"rounded-ee":[{"rounded-ee":[r]}],"rounded-es":[{"rounded-es":[r]}],"rounded-tl":[{"rounded-tl":[r]}],"rounded-tr":[{"rounded-tr":[r]}],"rounded-br":[{"rounded-br":[r]}],"rounded-bl":[{"rounded-bl":[r]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...R(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:R()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...R()]}],"outline-offset":[{"outline-offset":[Ut,Ye]}],"outline-w":[{outline:[Ut,on]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:A()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Ut,on]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",rn,um]}],"shadow-color":[{shadow:[vo]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":x()}],"bg-blend":[{"bg-blend":x()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[o]}],contrast:[{contrast:[s]}],"drop-shadow":[{"drop-shadow":["","none",rn,Ye]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[c]}],saturate:[{saturate:[k]}],sepia:[{sepia:[P]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[o]}],"backdrop-contrast":[{"backdrop-contrast":[s]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[c]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[k]}],"backdrop-sepia":[{"backdrop-sepia":[P]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ye]}],duration:[{duration:we()}],ease:[{ease:["linear","in","out","in-out",Ye]}],delay:[{delay:we()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ye]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[T]}],"scale-x":[{"scale-x":[T]}],"scale-y":[{"scale-y":[T]}],rotate:[{rotate:[bo,Ye]}],"translate-x":[{"translate-x":[B]}],"translate-y":[{"translate-y":[B]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ye]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ye]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":w()}],"scroll-mx":[{"scroll-mx":w()}],"scroll-my":[{"scroll-my":w()}],"scroll-ms":[{"scroll-ms":w()}],"scroll-me":[{"scroll-me":w()}],"scroll-mt":[{"scroll-mt":w()}],"scroll-mr":[{"scroll-mr":w()}],"scroll-mb":[{"scroll-mb":w()}],"scroll-ml":[{"scroll-ml":w()}],"scroll-p":[{"scroll-p":w()}],"scroll-px":[{"scroll-px":w()}],"scroll-py":[{"scroll-py":w()}],"scroll-ps":[{"scroll-ps":w()}],"scroll-pe":[{"scroll-pe":w()}],"scroll-pt":[{"scroll-pt":w()}],"scroll-pr":[{"scroll-pr":w()}],"scroll-pb":[{"scroll-pb":w()}],"scroll-pl":[{"scroll-pl":w()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ye]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Ut,on,Xo]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}function mm(t,{cacheSize:e,prefix:n,separator:o,extend:i={},override:r={}}){ai(t,"cacheSize",e),ai(t,"prefix",n),ai(t,"separator",o);for(const l in r)pm(t[l],r[l]);for(const l in i)hm(t[l],i[l]);return t}function ai(t,e,n){n!==void 0&&(t[e]=n)}function pm(t,e){if(e)for(const n in e)ai(t,n,e[n])}function hm(t,e){if(e)for(const n in e){const o=e[n];o!==void 0&&(t[n]=(t[n]||[]).concat(o))}}function _m(t,...e){return typeof t=="function"?Er(Rr,t,...e):Er(()=>mm(Rr(),t),...e)}const $f=Er(Rr);function gm(t){const e=t-1;return e*e*e+1}function Ge(...t){return $f(qd(t))}const Ki=(t,e={y:-8,x:0,start:.95,duration:150})=>{const n=getComputedStyle(t),o=n.transform==="none"?"":n.transform,i=(l,a,s)=>{const[u,f]=a,[c,d]=s;return(l-u)/(f-u)*(d-c)+c},r=l=>Object.keys(l).reduce((a,s)=>l[s]===void 0?a:a+`${s}:${l[s]};`,"");return{duration:e.duration??200,delay:0,css:l=>{const a=i(l,[0,1],[e.y??5,0]),s=i(l,[0,1],[e.x??0,0]),u=i(l,[0,1],[e.start??.95,1]);return r({transform:`${o} translate3d(${s}px, ${a}px, 0) scale(${u})`,opacity:l})},easing:gm}};function Pt(t,e){if(e===void 0&&(e=0),t==null||t==null)return 0;t=parseFloat((t*Math.pow(10,e)).toFixed(11));var n=Math.round(t)/Math.pow(10,e);return+n.toFixed(e)}function ar(t){return t<10?"0"+t:t}function bm(t){let e=Math.floor(t/1e3),n=Math.floor(e/60);e=e%60;let o=Math.floor(n/60);return n=n%60,`${ar(o)}:${ar(n)}:${ar(e)}`}function Ae(t){return te.findIndex(e=>e.id===t)}function jl(t){return te.find(e=>e.id===t)}function un(t,e=!0){let n=t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,");return e||(n=n.split(".")[0]),n}function An(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Hl(t,e=!0){return t=Pt(t/(e?3:1),2),t<0?`${t}`:`+${t}`}function Sn(t,e,n,o=!1){if(t<0||t>=n.plots.length||e<0||e>=n.plots[0].length)return!1;let i=[[t-1,e],[t+1,e],[t,e-1],[t,e+1],[t-1,e-1],[t-1,e+1],[t+1,e-1],[t+1,e+1]];for(let r=0;r<i.length;r++){let l=i[r][0],a=i[r][1];if(l>=0&&l<n.plots.length&&a>=0&&a<n.plots[0].length&&n.plots[l][a].water&&(o||n.plots[t][e].active==!0&&n.plots[t][e].type>0&&te[n.plots[t][e].type].id=="farm"))return!0}return!1}function vm(t,e,n,o){if(t<0||t>=n.plots.length||e<0||e>=n.plots[0].length)return!1;let i=[[t-1,e],[t+1,e],[t,e-1],[t,e+1],[t-1,e-1],[t-1,e+1],[t+1,e-1],[t+1,e+1]],r=!0;for(let l=0;l<o.length;l++){let a=!1;if(o[l]=="water"&&Sn(t,e,n,!0)){a=!0;break}for(let s=0;s<i.length;s++){let u=i[s][0],f=i[s][1];if(u>=0&&u<n.plots.length&&f>=0&&f<n.plots[0].length&&n.plots[u][f].active==!0&&n.plots[u][f].type>0&&te[n.plots[u][f].type].id==o[l]){a=!0;break}}if(!a){r=!1;break}}return r}function ym(t,e=0){let n=t*.95,o=t*1.05;return Pt(Math.random()*(o-n)+n,e)}let yo=function(t){return t.gameSettings.includes("casual")?3:1};const Lr=[{id:"organic_farming",description:"Organic Farming. Make townspeople healthier and happier, while decreasing overall food production.",cost:150,weekly_effect:t=>(t.modifiers.happiness*=1.01,t.modifiers.health*=1.01,t.resources.food-=2*yo(t)*Be("farm",t).length,t)},{id:"tax_free",description:"Tax-Free Month. For 1 month, the town loses all revenue from taxes, but happiness and health increase quite a lot. Automatically ends after 4 weeks.",cost:250,weekly_effect:t=>(localStorage.getItem("tax_free")===null?(localStorage.setItem("tax_free","0"),t.economyAndLaws.weeklyProfit=-1*t.economyAndLaws.weeklyProfit):localStorage.setItem("tax_free",(parseInt(localStorage.getItem("tax_free"))+1).toString()),parseInt(localStorage.getItem("tax_free"))>=4?(t.modifiers.happiness*=1,t.modifiers.health*=1,localStorage.removeItem("tax_free"),t.economyAndLaws.enacted=t.economyAndLaws.enacted.filter(e=>e!=="tax_free")):(t.modifiers.happiness*=1.02,t.modifiers.health*=1.01),t)},{id:"healthy_mining",description:"Healthy mining. Miners must mine with proper ventilation, but they move like molasses.",cost:250,weekly_effect:t=>(te.find(e=>e.id==="mine"),t.modifiers.health*=1.1,t.resources.stone-=5*yo(t)*Be("quarry",t).length,t.resources.stone-=7*yo(t)*Be("mine",t).length,t.resources.metal-=15*yo(t)*Be("mine",t).length,t)},{id:"complicated_tax_forms",description:"Complicated Tax Forms. You sneak in a clause to charge 5% more in taxes. Now, if you adjust your tax rate 5% higher, they won't be upset. This can be enacted multiple times to stack.",cost:500,weekly_effect:t=>(t.economyAndLaws.max_tax_rate+=.05,t.economyAndLaws.enacted=t.economyAndLaws.enacted.filter(e=>e!=="complicated_tax_forms"),t)},{id:"legalize_it",description:"Legalize it. You legalize a substance that makes people happy, but it also gives them 'the munchies'. Food consumption and happiness go up.",cost:350,weekly_effect:t=>(t.resources.food-=Math.round(.2*yo(t)*t.townInfo.population_count),t.modifiers.happiness*=1.1,t)},{id:"park_upgrade",description:"Park upgrade. You hold a community forum and add the top 5 things that the people want in their parks. This increases happiness for each park.",cost:350,weekly_effect:t=>(t.townInfo.happiness+=2*Be("park",t).length,t)},{id:"career_politician",description:"Career Politician. You hire a career politician to help you with your town. They cost the town $100 per week, but they earn bureaucracy points faster.",cost:200,weekly_effect:t=>(t.townInfo.gold-=100,t.resources.bureaucracy+=25,t)},{id:"the_big_wood_deal",description:"The Big Wood Deal. This law allows you to sell all of the wood in your town for $5/wood at once. This won't make the town happy, but may be necessary in a pinch. Can be enacted multiple times to sell to other buyers.",cost:500,weekly_effect:t=>(t.townInfo.gold+=5*t.resources.wood,t.resources.wood=0,t.resource_rate.wood=0,t.townInfo.happiness*=.95,t.economyAndLaws.enacted=t.economyAndLaws.enacted.filter(e=>e!=="the_big_wood_deal"),t)},{id:"picky_eating_liege",description:"Picky Eater Liege. There is some food that the town makes that you just really hate. By passing this law, you insist that they sell off that gross food for $1/food every week. You won't make as much food, but you won't have to eat it either.",cost:200,weekly_effect:t=>{const e=Be("farm",t).length*2,n=Math.floor(Math.random()*(.15*e-.05*e)+.05*e);return t.resources.food-=n,t.townInfo.gold+=n,t.townInfo.happiness=.95*t.townInfo.happiness,t}},{id:"stone_statue",description:"Stone Statue. You insist that we use ALL of our stone to build a massive statue. We lose all of our stone, but for some reason, the town has perfect health for a while, I guess.",cost:1e3,weekly_effect:t=>(t.resources.stone=0,t.modifiers.health=5,t)},{id:"out_of_town",description:"TODO: Out of town. Everyone needs a vacation, right? When this is enacted, EVERYONE must leave the town for 10 days. During this time, no resources are produced, no taxes are collected, and you must take a break from the game.",cost:1e3,weekly_effect:t=>t}];var ot=(t=>(t[t.GOOD=0]="GOOD",t[t.BAD=1]="BAD",t[t.NORMAL=2]="NORMAL",t))(ot||{});const Gl=30;function wm(t){return t=Tm(t),t=t,t}function km(t){const e=[()=>t.townInfo.happiness<100?"I heard that the town is unhappy. We miss our churches and parks...":"",()=>t.townInfo.health<100?"My kids keep getting sick, probably not enough farms around here!":"",()=>t.townInfo.happiness<50?"I'm thinking of moving out if things don't improve soon!":"",()=>t.townInfo.employees<t.townInfo.population_count?"I am unemployed and I hate it here":"",()=>t.townInfo.knowledge_points<100?"I wish we had more schools!":"",()=>t.economyAndLaws.tax_rate>t.economyAndLaws.max_tax_rate?"I wish the taxes were lower, I could use a break!":"",()=>t.townInfo.productivity>100?"I think we should take a day or two to just be chill, we've been working hard!":"",()=>t.economyAndLaws.tax_rate<t.economyAndLaws.max_tax_rate?"We would probably be ok chipping in more gold for village improvements.":""],n=Math.floor(Math.random()*e.length);return e[n]()}function Cm(t,e,n){return t.resource_rate.food=dt(n.food-e.food,2),t.resource_rate.wood=dt(n.wood-e.wood,2),t.resource_rate.stone=dt(n.stone-e.stone,2),t.resource_rate.metal=dt(n.metal-e.metal,2),t.resource_rate.bureaucracy=dt(n.bureaucracy-e.bureaucracy,2),t}function Am(t){return t.hasBank,t}function Sm(t){let e=t.economyAndLaws.knowledge_gold_market_rates[t.economyAndLaws.knowledge_gold_market_rates.length-1]||1;const n=-100,o=8,i=3;let r=Math.random(),l=Math.random()*i;if(r<.4){let a=Math.random()*o;Math.random()<.5?e+=a:e-=a}else Math.random()>.5?e+=l:e-=l;return e<n&&(e+=Math.random()*l/5),e=Math.round(e),t.economyAndLaws.knowledge_gold_market_rates=[...t.economyAndLaws.knowledge_gold_market_rates,e],t}function Tm(t){if(t.townInfo.population_count<t.townInfo.population_max&&t.townInfo.happiness>50){let e=t.townInfo.population_max-t.townInfo.population_count,n=Math.round(t.townInfo.happiness/100*e);t.townInfo.population_count+=n,t.townInfo.population_count>t.townInfo.population_max&&(t.townInfo.population_count=t.townInfo.population_max),t.townInfo.employees+=n,t.townInfo.employees>t.townInfo.population_count&&(t.townInfo.employees=t.townInfo.population_count)}if(t.townInfo.happiness<50&&t.townInfo.population_count>0){let e=Math.round((150-t.townInfo.happiness)/5);t.townInfo.population_count-=e,t.townInfo.employees>0&&(t.townInfo.employees-=e)}else t.townInfo.population_count==t.townInfo.population_max;return t}function Dr(t){return t.lab.active_experiment==null||t.lab.active_experiment.duration>0&&(t.lab.active_experiment.duration-=1),t}function $r(t){return t.townInfo.happiness<0&&(t.townInfo.happiness=0),t.townInfo.health<0&&(t.townInfo.health=0),t.townInfo.community<0&&(t.townInfo.community=0),t.townInfo.gold<0&&(t.townInfo.gold=0),t.townInfo.employees<0&&(t.townInfo.employees=0),t.townInfo.knowledge_points<0&&(t.townInfo.knowledge_points=0),t.townInfo.population_count<0&&(t.townInfo.population_count=0),t.economyAndLaws.weeklyProfit=dt(t.economyAndLaws.weeklyProfit,0),t.townInfo.employees>t.townInfo.population_count&&(t.townInfo.employees=t.townInfo.population_count),t.townInfo.gold=dt(t.townInfo.gold,0),t.townInfo.population_count=dt(t.townInfo.population_count,0),t.townInfo.employees=dt(t.townInfo.employees,0),t.townInfo.population_max=dt(t.townInfo.population_max,0),t.townInfo.happiness=dt(t.townInfo.happiness,2),t.townInfo.health=dt(t.townInfo.health,2),t.townInfo.knowledge_points=dt(t.townInfo.knowledge_points,0),t.townInfo.happiness>t.maximums.happiness&&(t.townInfo.happiness=t.maximums.happiness),t.townInfo.health>t.maximums.health&&(t.townInfo.health=t.maximums.health),t.townInfo.community>300&&(t.townInfo.community=300),t.modifiers.happiness<.5&&(t.modifiers.happiness=.5),t.modifiers.health<.5&&(t.modifiers.health=.5),t.modifiers.community<.5&&(t.modifiers.community=.5),t.modifiers.happiness>2&&(t.modifiers.happiness=2),t.modifiers.health>2&&(t.modifiers.health=2),t.modifiers.community>2&&(t.modifiers.community=2),t}function qr(t){if(t.townInfo.happiness>150){let n=t.townInfo.happiness-150;t.townInfo.happiness-=n*.08,t.townInfo.happiness<150&&(t.townInfo.happiness=150)}if(t.townInfo.health>150){let n=t.townInfo.health-150;t.townInfo.health-=n*.08,t.townInfo.health<150&&(t.townInfo.health=150)}if(t.townInfo.community>150){let n=t.townInfo.community-150;t.townInfo.community-=n*.08,t.townInfo.community<150&&(t.townInfo.community=150)}return t}function Im(t){return t.townInfo.happiness*=t.modifiers.happiness,t.townInfo.health*=t.modifiers.health,t.townInfo.community*=t.modifiers.community,t}function ct(t,e,n){let o=e.townLog||[];return o.filter(i=>i.message==t).length>0||o.unshift({message:t,day:e.environment.day,vibe:n}),e}function dt(t,e){e===void 0&&(e=0);let n=Math.pow(10,e);return t=parseFloat((t*n).toFixed(11)),+(Math.round(t)/n).toFixed(e)}function Om(t,e,n){let o,i,r,l,a;le(t,Ao,g=>n(7,o=g)),le(t,Eo,g=>n(8,i=g)),le(t,wi,g=>n(9,r=g)),le(t,Ct,g=>n(10,l=g)),le(t,Zt,g=>n(11,a=g)),le(t,qe,g=>n(12,g));function s(g){g=ne(g),g=Q(g),g=p(g),g=Sm(g),g=ae(g),g=h(g);const K={food:g.resources.food,wood:g.resources.wood,stone:g.resources.stone,metal:g.resources.metal,bureaucracy:g.resources.bureaucracy,power:g.resources.power};g=q(g),g=X(g),g=E(g),g=w(g),g=Fe(g),g=B(g);const Z={food:g.resources.food,wood:g.resources.wood,stone:g.resources.stone,metal:g.resources.metal,bureaucracy:g.resources.bureaucracy,power:g.resources.power};return g.environment.day%14===0&&(g=Im(g)),g=Cm(g,K,Z),g}function u(g){return g=Am(g),g=v(g),g=Ne(g),g=qr(g),g=x(g),g=N(g),g=m(g),g}function f(g){return g=we(g),g=$r(g),g=Dr(g),g=D(g),g=P(g),g=d(g),g=_(g),g.overtime==!1&&(g=R(g),g=g),g=V(g),g=A(g),g=b(g),g}function c(){qe.update(g=>{if(g==null||(g.tick++,g.tick%Gl!==0))return g;if(l||!g||g.endGameDetails.msg!==""&&g.overtime==!1||g.townInfo.population_count<=0)return console.info("The game is over, or paused. Not running the game loop."),g;try{return g.environment.day+=1,g.environment.day%7===0&&(g=s(g)),g.environment.day%30===0&&(g=u(g)),g.environment.day%90===0&&(g=wm(g)),window.location.search.includes("debug=true")&&console.log(g),g=f(g),g}catch(K){return window.location.hostname==="localhost"&&alert("Error in game loop: "+K),console.error("Error in game loop:",K),g}})}qe.subscribe(g=>{g&&localStorage.setItem(Dt,JSON.stringify(g))}),Zt.subscribe(g=>{g&&localStorage.setItem(Qn,JSON.stringify(g))});function d(g){let K=g.townInfo.population_count-g.townInfo.employees,Z=`${K} people can't find jobs!`;return g.townLog=g.townLog.filter(ie=>!ie.message.includes("people can't find jobs")),K>0&&(g=ct(Z,g,ot.BAD)),g}function p(g){let K=!1,Z=!1,ie=!1,ce=!1;for(let Te=0;Te<g.plots.length;Te++)for(let Oe=0;Oe<g.plots[Te].length;Oe++)if(g.plots[Te][Oe].active==!0&&g.plots[Te][Oe].type>-1){let xe=te[g.plots[Te][Oe].type].id;xe=="bank"&&(K=!0),xe=="city_hall"&&(ie=!0),(xe=="small_hospital"||xe=="large_hospital")&&(Z=!0),xe=="lab"&&(ce=!0)}return g.hasBank=K,g.hasHospital=Z,g.hasCityHall=ie,g.hasLab=ce,g}function m(g){let K=0,Z=0;for(let ie=0;ie<g.plots.length;ie++)for(let ce=0;ce<g.plots[ie].length;ce++)if(g.plots[ie][ce].active==!0&&g.plots[ie][ce].type>-1){let Te=te[g.plots[ie][ce].type].type;Z++,(Te=="recreation"||Te=="shop")&&K++}return g.townInfo.recreation=K,Z>40&&(K/Z<.2?(g.modifiers.happiness*.95,g=ct("The city is growing and citizens are demanding more recreation, look for plots with ðŸ› icons.",g,ot.BAD)):(g.modifiers.happiness*1.01,g=ct("The city is growing and citizens are happy with the amount of recreation available.",g,ot.GOOD))),g}function _(g){let K=0;for(let Z=0;Z<g.plots.length;Z++)for(let ie=0;ie<g.plots[Z].length;ie++)if(g.plots[Z][ie].active==!0&&g.plots[Z][ie].type>-1){let Te=te[g.plots[Z][ie].type].requirements.employees;K+=Te}return K!=g.townInfo.employees&&(K>g.townInfo.population_max,g.townInfo.employees=K),g}function b(g){for(let K=0;K<g.plots.length;K++)for(let Z=0;Z<g.plots[K].length;Z++)g.plots[K][Z].active==!0&&(g.plots[K][Z].type=Ae(g.plots[K][Z].typeId));return g}function v(g){const K=g.townInfo.productivity;let Z=1;if(K>50&&K<100)Z=1.05;else{if(K==100)return g;K<50?Z=1.3:K>100&&K<125?Z=.95:K>125&&K<150?Z=.9:K>150&&K<175?Z=.85:K>175&&K<200&&(Z=.75)}const ie=g.townInfo.happiness;return g.townInfo.happiness*=Z,Z>1?g=ct(`Happiness has gone up by ${Math.round(g.townInfo.happiness/ie*100)}% due to productivity.`,g,ot.GOOD):g=ct(`Happiness has gone down by ${100-Math.round(g.townInfo.happiness/ie*100)}% due to productivity.`,g,ot.BAD),g}function h(g){return g.endGameDetails!=null||(g.townInfo.happiness<70&&g.last_warning_happiness+365<g.environment.day&&(ht.set("Your citizens are very unhappy. You should do something about it."),g.last_warning_happiness=g.environment.day),g.townInfo.health<70&&g.last_warning_health+365<g.environment.day&&(ht.set("Your citizens are very unhealthy. You should do something about it."),g.last_warning_health=g.environment.day)),g}const k=["Abigail","Elijah","Mabel","Silas","Beatrice","Clarence","Dorothy","Edgar","Florence","George","Harriet","Isaac","Josephine","Levi","Matilda","Nathaniel","Olive","Percy","Quincy","Rose","Samuel","Theodore","Ursula","Vincent","Winifred","Xavier","Yvette","Zachary","Amos","Betsy","Cecil","Delia","Emmett","Fanny","Gideon","Hazel","Irving","Jeannette","Karl","Lucinda","Mortimer","Nettie","Otis","Prudence","Rufus","Sophronia","Titus","Ulysses","Vera","Winston","Xenia","Yolanda","Zeke","Ada","Bernard","Cornelia","Duncan","Esther","Fletcher","Genevieve"],T=["Farmer","Blacksmith","Biscuit Sculptor","Baker","Carpenter","Chicken Whisperer","Fisher","Herbalist","Miner","Mason","Mustache Twirler","Brewer","Butcher","Candlemaker","Cloud Watcher","Dressmaker","Gardener","Hunter","Innkeeper","Jeweler","Locksmith","Miller","Painter","Potter","Quilter","Rancher","Saddler","Tanner","Upholsterer","Vintner","Watchmaker","Wheelwright","Wooly Sock Knitter","Yarn Spinner","Zodiac Interpreter","Archivist","Bookbinder","Cobbler","Dyer","Engraver","Fletcher","Glassblower","Haberdasher","Illuminator","Joiner","Knitter","Lace Maker","Mapmaker","Navigator","Orchardist","Potion Tester","Quarryman","Roofer","Soapmaker","Tobacconist","Undertaker","Victualler","Wainwright","Xylographer","Yeoman","Pumpkin Carver","Mud Pie Maker","Folk Tale Teller","Leaf Collector","Sunset Chaser","Dream Interpreter","Star Gazer"];function P(g){if(g.gameSettings.includes("bagOfHolding"))return g.resource_capacity=972024,g;let K=Be("stockpile",g).length,Z=Be("adv_stockpile",g).length,ie=1e3+K*2e3+Z*12e3;return g.resource_capacity=ie,Object.keys(g.resources).forEach(ce=>{g.resources[ce]>ie&&(g.resources[ce]=ie)}),g}function N(g){for(let K=0;K<g.plots.length;K++)for(let Z=0;Z<g.plots[K].length;Z++)if(Un(K,Z,g)&&g.plots[K][Z].active==!0&&te[g.plots[K][Z].type].type=="residential"&&Math.random()<.99){let ie=`ðŸ‘‘ðŸ  ${k[Math.floor(Math.random()*k.length)]} the ${T[Math.floor(Math.random()*T.length)]}: `,ce=km(g);ie+=ce,ce!=""&&(g=ct(ie,g,ot.NORMAL))}return g}function D(g){let K=0;for(let Z=0;Z<g.plots.length;Z++)for(let ie=0;ie<g.plots[Z].length;ie++)if(g.plots[Z][ie].active==!0&&g.plots[Z][ie].type>-1){let ce=te[g.plots[Z][ie].type].type;(ce=="recreation"||ce=="shop")&&K++}return g.townInfo.recreation=K,g}function B(g){const K=g.townInfo.population_count;return g.resources.food<K?(g.modifiers.happiness*=.95,g.modifiers.health*=.95,g=ct("There isn't enough food for everyone!",g,ot.BAD),g.resources.food=0):(g.townLog=g.townLog.filter(ie=>!ie.message.includes("There isn't enough food for everyone!")),g.resources.food-=K),g.resources.food=Math.round(g.resources.food),g}function q(g){const K=g.townInfo.productivity;let Z=1;K<50?Z=.5:K>50&&K<100?Z=.75:K==100?Z=1:K>100&&K<125?Z=1.25:K>125&&K<150?Z=1.75:K>150&&K<175?Z=3:K>175&&K<200&&(Z=5);const ie=g.gameSettings.includes("casual")?2.2:1;Z*=ie,Z=ym(Z,2);let ce=Be("lumber_mill",g).length*1.5;ce===0&&(ce=1);for(let Te=0;Te<g.plots.length;Te++)for(let Oe=0;Oe<g.plots[Te].length;Oe++)if(g.plots[Te][Oe].active==!0&&g.plots[Te][Oe].type>-1){let xe=Sn(Te,Oe,g),de=Un(Te,Oe,g)?2:1,Ie=te[g.plots[Te][Oe].type];Ie.generated_resources!=null&&(g.resources.food+=Math.round(Ie.generated_resources.food*Z)*(xe?2:1)*de,g.resources.wood+=Math.round(Ie.generated_resources.wood*Z*ce)*de,g.resources.stone+=Math.round(Ie.generated_resources.stone*Z)*de,g.resources.metal+=Math.round(Ie.generated_resources.metal*Z)*de,g.resources.bureaucracy+=Math.round(Ie.generated_resources.bureaucracy*Z)*de)}return g.resources.food=Math.round(g.resources.food),g.resources.wood=Math.round(g.resources.wood),g.resources.stone=Math.round(g.resources.stone),g.resources.metal=Math.round(g.resources.metal),g.resources.bureaucracy=Math.round(g.resources.bureaucracy),g}var G;(function(g){g.food="food",g.wood="wood",g.stone="stone",g.metal="metal",g.bureaucracy="bureaucracy"})(G||(G={}));function E(g){for(let K=0;K<g.plots.length;K++)for(let Z=0;Z<g.plots[K].length;Z++)if(g.plots[K][Z].active==!0&&g.plots[K][Z].type>-1){let ie=te[g.plots[K][Z].type],ce=!1;Object.keys(ie.active_costs).forEach((Te,Oe)=>{const xe=Object.values(ie.active_costs)[Oe];Te!="power"&&(Te=="gold"?g.townInfo.gold<xe?ce=!0:g.townInfo.gold-=xe:g.resources[Te]<xe?ce=!0:g.resources[Te]-=xe)}),g.plots[K][Z].disabled=ce,g.plots[K][Z].disabled&&(g.townInfo.happiness-=1),ce&&te[g.plots[K][Z].type].type=="residential"&&(g.townInfo.population_count-=1,g.townInfo.employees-=1)}else g.plots[K][Z].disabled=!1;return g}function w(g){let K=0;for(let Z=0;Z<g.plots.length;Z++)for(let ie=0;ie<g.plots[Z].length;ie++)if(g.plots[Z][ie].active==!0&&g.plots[Z][ie].type>-1){let ce=te[g.plots[Z][ie].type];ce.active_costs.power!=0&&(K-=ce.active_costs.power),ce.generated_resources.power!=0&&(K+=ce.generated_resources.power)}return g.resources.power=K,g.resources.power<0&&(g.modifiers.happiness*.98,g.townInfo.happiness-=5,g=ct("ðŸ”‹ POWER SHORTAGE. HAPPINESS DROPPING THROUGH BLACKOUTS.",g,ot.BAD)),g}function A(g){if(g.gameSettings.includes("devMode"))return g;let K=a;for(let Z=0;Z<it.length;Z++)K.achievements.find(ie=>ie[0]==it[Z].id)==null&&it[Z].check(g)&&(K.achievements.push([it[Z].id,g.environment.day,g.townInfo.name]),Re(Ct,l=!0,l),Re(wi,r=!0,r));return Zt.update(()=>K),g}let $=!1;function V(g){if($||g.currentTutorialStep>=Ro.length)return g;for(let K=g.currentTutorialStep;K<g.currentTutorialStep+1;K++)if(Ro[K].isComplete(g)){Re(Eo,i=!0,i),$=!0,g.townInfo.gold+=Ro[K].goldReward,setTimeout(()=>{Re(Eo,i=!1,i),g.currentTutorialStep++,$=!1},3e3);break}return g}function R(g){return g.gameSettings.includes("tomPetty")&&(g.townInfo.happiness<=3||g.townInfo.health<=3)?(g.townInfo.happiness=300,g.modifiers.happiness=1,g.townInfo.health=300,g.modifiers.health=1,g.townInfo.gold=dt(g.townInfo.gold*.1,0),alert("Since you are playing in Tom Petty mode, you have been given another chance. All it took was 90% of your gold. Good luck!"),g):(g.townInfo.happiness<=3&&(g.townInfo.happiness=0,g.endGameDetails={msg:Et.happiness_zero,win:!1,still_playing:!1}),g.townInfo.health<=3&&(g.townInfo.health=3,g.endGameDetails={msg:Et.health_zero,win:!1,still_playing:!1}),g.townInfo.population_count<=0&&g.townInfo.population_max>0&&(g.townInfo.population_count=0,g.endGameDetails={msg:Et.population_zero,win:!1,still_playing:!1}),g)}function x(g){let K=g.townInfo.population_count-g.townInfo.employees;if(g.gameSettings.includes("casual")&&Math.random()<.75)return g;if(K>0){let Z=K*.2;Z>10&&(Z=10),g.townInfo.happiness-=Z,g=ct(K+Et.unemployment_num,g,ot.BAD)}else g.townLog=g.townLog.filter(Z=>!Z.message.includes(Et.unemployment_num));return g}function X(g){for(let K=0;K<g.economyAndLaws.enacted.length;K++){let Z=Lr.find(ie=>ie.id==g.economyAndLaws.enacted[K]);Z!=null&&Z.weekly_effect!=null&&(g=Z.weekly_effect(g))}return g}function Q(g){let K=g.townInfo.health,Z=0;return K>50||K<Math.random()*50&&(K<25?(g=ct(Et.sickAndDying,g,ot.BAD),g.townInfo.happiness-=10,Z=Math.round(g.townInfo.population_count*.1)):(g=ct(Et.sickAndLeaving,g,ot.BAD),g.townInfo.happiness-=5,Z=Math.round(g.townInfo.population_count*.05)),g.townInfo.population_count-=Z,g.townInfo.employees-=Z),g}function ne(g){const K=Math.random();if(g.economyAndLaws.tax_rate>g.economyAndLaws.max_tax_rate&&g.townInfo.population_count>0){let Z=1;g.hasBank&&(Z=2);const ie=g.difficulty==0?.7:g.difficulty==1?.4:.2;K<ie&&g.economyAndLaws.tax_rate>g.economyAndLaws.max_tax_rate*2*Z?(g.modifiers.happiness-=.02,g=ct(Et.very_high_tax_rate+"  ("+g.economyAndLaws.tax_rate+"%)",g,ot.BAD)):(g.modifiers.happiness-=.01,g=ct(Et.high_tax_rate+"  ("+g.economyAndLaws.tax_rate*100+"%)",g,ot.BAD))}return g}function ae(g){if(g.modifiers.happiness>1){let Z=g.modifiers.happiness-1;g.modifiers.happiness-=Z*.3,g.modifiers.happiness<1.02&&(g.modifiers.happiness=1)}if(g.modifiers.community>1){let Z=g.modifiers.community-1;g.modifiers.community-=Z*.3,g.modifiers.community<1.02&&(g.modifiers.community=1)}if(g.modifiers.health>1)if(Be("healing_house",g).length>0){g=ct(Et.hospital_advantage,g,ot.GOOD);let Z=g.modifiers.health-1;g.modifiers.health-=Z*Be("healing_house",g).length?.03:.06,g.modifiers.health<1.02&&(g.modifiers.health=1)}else{let Z=g.modifiers.health-1;g.modifiers.health-=Z*.3,g.modifiers.health<1.02&&(g.modifiers.health=1)}else Be("healing_house",g).length>0&&(g.modifiers.health+=.8,g.townInfo.health+=Math.floor(Math.random()*10)+5);return g}function we(g){g.economyAndLaws.weeklyProfit=0;for(let K=0;K<g.plots.length;K++)for(let Z=0;Z<g.plots[K].length;Z++)if(g.plots[K][Z].active==!0&&g.plots[K][Z].type>-1)if(g.plots[K][Z].disabled===!0){const ie=te[g.plots[K][Z].type],ce=Math.round(ee(ie.revenue_per_week,g,ie.type,K,Z)*(g.townInfo.productivity/100)/7);g.townInfo.gold-=ce,g.townInfo.happiness-=1,g=ct(`ðŸš¨ ${ie.title} at ${Z}, ${K} is disabled and costing you $${ce} a week! 
              
              It is also lowering overall happiness by 1. Look at available resources and fix the problem! `,g,ot.BAD)}else{const ie=te[g.plots[K][Z].type];let ce=ee(ie.revenue_per_week,g,ie.type,K,Z)*(g.townInfo.productivity/100)/7,Te=Sn(K,Z,g);const Oe=g.gameSettings.includes("casual")?3:1;ce*=Oe,ce*=Te?2:1,g.townInfo.gold+=ce,g.economyAndLaws.weeklyProfit+=ce*7}return g}function Ne(g){return g.gameSettings.includes("casual")&&Math.random()<.75||Be("mine",g).length>0&&(g.townInfo.health-=7,Be("healing_house",g).length==0&&(g=ct("The mine is actively hurting the health of the town. A Healing House can counteract this.",g,ot.BAD))),g}function Fe(g){let K=0;for(let Z=0;Z<g.plots.length;Z++)for(let ie=0;ie<g.plots[Z].length;ie++)if(g.plots[Z][ie].active==!0&&g.plots[Z][ie].type>-1){let ce=te[g.plots[Z][ie].type],Te=Un(Z,ie,g)?.75:1;ce.knowledge_points_per_month!=null&&(g.townInfo.knowledge_points+=Math.round(ce.knowledge_points_per_month*Te/4),K+=ce.knowledge_points_per_month*Te/4)}return g.resource_rate.knowledge=dt(K,0),g}function ee(g,K,Z,ie,ce){let Te=K.townInfo.happiness/100;Te>2?Te=2:Te<.75&&(Te=.75);let Oe=Be("village_inn",K).length;Z=="shop"&&(Te*=1.35*Oe),Un(ie,ce,K)&&(Te*=1.5);let xe=Math.round(g*K.economyAndLaws.tax_rate*(K.townInfo.population_count/K.townInfo.population_max)*Te*(K.economyAndLaws.enacted.includes("tax_free")?-1:1));return dt(xe,2)}return Wi(async()=>{for(;;)localStorage.reset=="true"&&(vi(),localStorage.setItem("reset","false")),c(),await new Promise(g=>setTimeout(g,o/Gl))}),[c,Dr,$r,ae,qr]}class Mm extends pe{constructor(e){super(),me(this,e,Om,null,fe,{mainGameThreadLoop:0,_checkExperiment:1,_fixVariables:2,_bringModifiersBackToNormal:3,_bringStatsBackToNormal:4},null,[-1,-1])}get mainGameThreadLoop(){return this.$$.ctx[0]}get _checkExperiment(){return Dr}get _fixVariables(){return $r}get _bringModifiersBackToNormal(){return this.$$.ctx[3]}get _bringStatsBackToNormal(){return qr}}function Pm(t){return t[t.length-1]}function sn(t){return Object.keys(t).reduce((e,n)=>t[n]===void 0?e:e+`${n}:${t[n]};`,"")}function ur(t){return t?!0:void 0}sn({position:"absolute",opacity:0,"pointer-events":"none",margin:0,transform:"translateX(-100%)"});function qf(t){if(t!==null)return t}function Vl(t){function e(n){return n(t),()=>{}}return{subscribe:e}}function fr(t){if(!qo)return null;const e=document.querySelector(`[data-melt-id="${t}"]`);return yt(e)?e:null}const So=t=>new Proxy(t,{get(e,n,o){return Reflect.get(e,n,o)},ownKeys(e){return Reflect.ownKeys(e).filter(n=>n!=="action")}}),Wl=t=>typeof t=="function";mt("empty");function mt(t,e){const{stores:n,action:o,returned:i}=e??{},r=(()=>{if(n&&i)return en(n,a=>{const s=i(a);if(Wl(s)){const u=(...f)=>So({...s(...f),[`data-melt-${t}`]:"",action:o??nt});return u.action=o??nt,u}return So({...s,[`data-melt-${t}`]:"",action:o??nt})});{const a=i,s=a==null?void 0:a();if(Wl(s)){const u=(...f)=>So({...s(...f),[`data-melt-${t}`]:"",action:o??nt});return u.action=o??nt,Vl(u)}return Vl(So({...s,[`data-melt-${t}`]:"",action:o??nt}))}})(),l=o??(()=>{});return l.subscribe=r.subscribe,l}function Yl(t,e){const{stores:n,returned:o,action:i}=e,{subscribe:r}=en(n,a=>o(a).map(s=>So({...s,[`data-melt-${t}`]:"",action:i??nt}))),l=i??(()=>{});return l.subscribe=r,l}function xi(t){const e=r=>r?`${t}-${r}`:t,n=r=>`data-melt-${t}${r?`-${r}`:""}`,o=r=>`[data-melt-${t}${r?`-${r}`:""}]`;return{name:e,attribute:n,selector:o,getEl:r=>document.querySelector(o(r))}}const qo=typeof document<"u",Ff=t=>typeof t=="function";function Nm(t){return t instanceof Document}function Xi(t){return t instanceof Element}function yt(t){return t instanceof HTMLElement}function Ul(t){return t.pointerType==="touch"}function Em(t){return t!==null&&typeof t=="object"}function Rm(t){return Em(t)&&"subscribe"in t}function Bt(...t){return(...e)=>{for(const n of t)typeof n=="function"&&n(...e)}}function nt(){}function pt(t,e,n,o){const i=Array.isArray(e)?e:[e];return i.forEach(r=>t.addEventListener(r,n,o)),()=>{i.forEach(r=>t.removeEventListener(r,n,o))}}function bt(t,e,n,o){const i=Array.isArray(e)?e:[e];if(typeof n=="function"){const r=Dm(l=>n(l));return i.forEach(l=>t.addEventListener(l,r,o)),()=>{i.forEach(l=>t.removeEventListener(l,r,o))}}return()=>void 0}function Lm(t){const e=t.currentTarget;if(!yt(e))return null;const n=new CustomEvent(`m-${t.type}`,{detail:{originalEvent:t},cancelable:!0});return e.dispatchEvent(n),n}function Dm(t){return e=>{const n=Lm(e);if(!(n!=null&&n.defaultPrevented))return t(e)}}function Ji(t,...e){const n={};for(const o of Object.keys(t))e.includes(o)||(n[o]=t[o]);return n}function Jt(t){return{...t,get:()=>yf(t)}}Jt.writable=function(t){const e=Xe(t);let n=t;return{subscribe:e.subscribe,set(o){e.set(o),n=o},update(o){const i=o(n);e.set(i),n=i},get(){return n}}};Jt.derived=function(t,e){const n=new Map,o=()=>{const r=Array.isArray(t)?t.map(l=>l.get()):t.get();return e(r)};return{get:o,subscribe:r=>{const l=[];return(Array.isArray(t)?t:[t]).forEach(s=>{l.push(s.subscribe(()=>{r(o())}))}),r(o()),n.set(r,l),()=>{const s=n.get(r);if(s)for(const u of s)u();n.delete(r)}}}};const Zi=(t,e)=>{const n=Jt(t),o=(r,l)=>{n.update(a=>{const s=r(a);let u=s;return e&&(u=e({curr:a,next:s})),l==null||l(u),u})};return{...n,update:o,set:r=>{o(()=>r)}}};function cl(t){return new Promise(e=>setTimeout(e,t))}let $m="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",qm=(t=21)=>{let e="",n=t;for(;n--;)e+=$m[Math.random()*64|0];return e};function Fm(){return qm(10)}function dl(t){return t.reduce((e,n)=>(e[n]=Fm(),e),{})}const ut={ALT:"Alt",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",CAPS_LOCK:"CapsLock",CONTROL:"Control",DELETE:"Delete",END:"End",ENTER:"Enter",ESCAPE:"Escape",F1:"F1",F10:"F10",F11:"F11",F12:"F12",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",HOME:"Home",META:"Meta",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp",SHIFT:"Shift",SPACE:" ",TAB:"Tab",CTRL:"Control",ASTERISK:"*",A:"a",P:"p"},Bf=()=>typeof window<"u";function Bm(){const t=navigator.userAgentData;return(t==null?void 0:t.platform)??navigator.platform}const jf=t=>Bf()&&t.test(Bm().toLowerCase()),jm=()=>Bf()&&!!navigator.maxTouchPoints,Hm=()=>jf(/^mac/)&&!jm(),Gm=()=>jf(/mac|iphone|ipad|ipod/i),Vm=()=>Gm()&&!Hm();function Wm(t){const e=t.slice();return e.sort(Um),Ym(e)}function Ym(t){if(t.length<=1)return t.slice();const e=[];for(let o=0;o<t.length;o++){const i=t[o];for(;e.length>=2;){const r=e[e.length-1],l=e[e.length-2];if((r.x-l.x)*(i.y-l.y)>=(r.y-l.y)*(i.x-l.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let o=t.length-1;o>=0;o--){const i=t[o];for(;n.length>=2;){const r=n[n.length-1],l=n[n.length-2];if((r.x-l.x)*(i.y-l.y)>=(r.y-l.y)*(i.x-l.x))n.pop();else break}n.push(i)}return n.pop(),e.length==1&&n.length==1&&e[0].x==n[0].x&&e[0].y==n[0].y?e:e.concat(n)}function Um(t,e){return t.x<e.x?-1:t.x>e.x?1:t.y<e.y?-1:t.y>e.y?1:0}function Km(t){const e=t.getBoundingClientRect();return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.right,y:e.bottom},{x:e.left,y:e.bottom}]}function xm(t){const e=t.flatMap(n=>Km(n));return Wm(e)}function Xm(t,e){let n=!1;for(let o=0,i=e.length-1;o<e.length;i=o++){const r=e[o].x,l=e[o].y,a=e[i].x,s=e[i].y;l>t.y!=s>t.y&&t.x<(a-r)*(t.y-l)/(s-l)+r&&(n=!n)}return n}const cr="data-melt-scroll-lock";function Kl(t,e){if(!t)return;const n=t.style.cssText;return Object.assign(t.style,e),()=>{t.style.cssText=n}}function Jm(t,e,n){if(!t)return;const o=t.style.getPropertyValue(e);return t.style.setProperty(e,n),()=>{o?t.style.setProperty(e,o):t.style.removeProperty(e)}}function Zm(t){const e=t.getBoundingClientRect().left;return Math.round(e)+t.scrollLeft?"paddingLeft":"paddingRight"}function Qm(t){const e=document,n=e.defaultView??window,{documentElement:o,body:i}=e;if(i.hasAttribute(cr))return nt;i.setAttribute(cr,"");const l=n.innerWidth-o.clientWidth,a=()=>Jm(o,"--scrollbar-width",`${l}px`),s=Zm(o),u=n.getComputedStyle(i)[s],f=()=>Kl(i,{overflow:"hidden",[s]:`calc(${u} + ${l}px)`}),c=()=>{const{scrollX:p,scrollY:m,visualViewport:_}=n,b=(_==null?void 0:_.offsetLeft)??0,v=(_==null?void 0:_.offsetTop)??0,h=Kl(i,{position:"fixed",overflow:"hidden",top:`${-(m-Math.floor(v))}px`,left:`${-(p-Math.floor(b))}px`,right:"0",[s]:`calc(${u} + ${l}px)`});return()=>{h==null||h(),n.scrollTo(p,m)}},d=[a(),Vm()?c():f()];return()=>{d.forEach(p=>p==null?void 0:p()),i.removeAttribute(cr)}}const zm=t=>{try{yd(t)}catch{return t}};function Mt(t,e){let n;const o=en(t,r=>{n==null||n(),n=e(r)}).subscribe(nt),i=()=>{o(),n==null||n()};return zm(i),i}function Tn(t){const e={};return Object.keys(t).forEach(n=>{const o=n,i=t[o];e[o]=Jt(Xe(i))}),e}function ep(t){let e=t.parentElement;for(;yt(e)&&!e.hasAttribute("data-portal");)e=e.parentElement;return e||"body"}function Hf(t,e){return e!==void 0?e:ep(t)==="body"?document.body:null}async function xl(t){const{prop:e,defaultEl:n}=t;if(await Promise.all([cl(1),rl]),e===void 0){n==null||n.focus();return}const o=Ff(e)?e(n):e;if(typeof o=="string"){const i=document.querySelector(o);if(!yt(i))return;i.focus()}else yt(o)&&o.focus()}function dr(t,e,n,o){const i=(t-(isNaN(e)?0:e))%o;let r=Math.abs(i)*2>=o?t+Math.sign(i)*(o-Math.abs(i)):t-i;isNaN(e)?!isNaN(n)&&r>n&&(r=Math.floor(n/o)*o):r<e?r=e:!isNaN(n)&&r>n&&(r=e+Math.floor((n-e)/o)*o);const l=o.toString(),a=l.indexOf("."),s=a>=0?l.length-a:0;if(s>0){const u=Math.pow(10,s);r=Math.round(r*u)/u}return r}kn(void 0,t=>{function e(o){t(o),t(void 0)}return pt(document,"pointerup",e,{passive:!1,capture:!0})});const tp=kn(void 0,t=>{function e(o){o&&o.key===ut.ESCAPE&&t(o),t(void 0)}return pt(document,"keydown",e,{passive:!1})}),Xl=(t,e={})=>{let n=nt;function o(i={}){n();const r={enabled:!0,...i},l=Rm(r.enabled)?r.enabled:kn(r.enabled);n=Bt(tp.subscribe(a=>{var u;if(!a||!yf(l))return;const s=a.target;if(!(!yt(s)||s.closest("[data-escapee]")!==t)){if(a.preventDefault(),r.ignore){if(Ff(r.ignore)){if(r.ignore(a))return}else if(Array.isArray(r.ignore)&&r.ignore.length>0&&r.ignore.some(f=>f&&s===f))return}(u=r.handler)==null||u.call(r,a)}}),Mt(l,a=>{a?t.dataset.escapee="":delete t.dataset.escapee}))}return o(e),{update:o,destroy(){t.removeAttribute("data-escapee"),n()}}},fn=Math.min,kt=Math.max,Ai=Math.round,Jo=Math.floor,cn=t=>({x:t,y:t}),np={left:"right",right:"left",bottom:"top",top:"bottom"},op={start:"end",end:"start"};function Fr(t,e,n){return kt(t,fn(e,n))}function so(t,e){return typeof t=="function"?t(e):t}function dn(t){return t.split("-")[0]}function ao(t){return t.split("-")[1]}function Gf(t){return t==="x"?"y":"x"}function ml(t){return t==="y"?"height":"width"}function Wo(t){return["top","bottom"].includes(dn(t))?"y":"x"}function pl(t){return Gf(Wo(t))}function ip(t,e,n){n===void 0&&(n=!1);const o=ao(t),i=pl(t),r=ml(i);let l=i==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return e.reference[r]>e.floating[r]&&(l=Si(l)),[l,Si(l)]}function rp(t){const e=Si(t);return[Br(t),e,Br(e)]}function Br(t){return t.replace(/start|end/g,e=>op[e])}function lp(t,e,n){const o=["left","right"],i=["right","left"],r=["top","bottom"],l=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:o:e?o:i;case"left":case"right":return e?r:l;default:return[]}}function sp(t,e,n,o){const i=ao(t);let r=lp(dn(t),n==="start",o);return i&&(r=r.map(l=>l+"-"+i),e&&(r=r.concat(r.map(Br)))),r}function Si(t){return t.replace(/left|right|bottom|top/g,e=>np[e])}function ap(t){return{top:0,right:0,bottom:0,left:0,...t}}function Vf(t){return typeof t!="number"?ap(t):{top:t,right:t,bottom:t,left:t}}function Ti(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function Jl(t,e,n){let{reference:o,floating:i}=t;const r=Wo(e),l=pl(e),a=ml(l),s=dn(e),u=r==="y",f=o.x+o.width/2-i.width/2,c=o.y+o.height/2-i.height/2,d=o[a]/2-i[a]/2;let p;switch(s){case"top":p={x:f,y:o.y-i.height};break;case"bottom":p={x:f,y:o.y+o.height};break;case"right":p={x:o.x+o.width,y:c};break;case"left":p={x:o.x-i.width,y:c};break;default:p={x:o.x,y:o.y}}switch(ao(e)){case"start":p[l]-=d*(n&&u?-1:1);break;case"end":p[l]+=d*(n&&u?-1:1);break}return p}const up=async(t,e,n)=>{const{placement:o="bottom",strategy:i="absolute",middleware:r=[],platform:l}=n,a=r.filter(Boolean),s=await(l.isRTL==null?void 0:l.isRTL(e));let u=await l.getElementRects({reference:t,floating:e,strategy:i}),{x:f,y:c}=Jl(u,o,s),d=o,p={},m=0;for(let _=0;_<a.length;_++){const{name:b,fn:v}=a[_],{x:h,y:k,data:T,reset:P}=await v({x:f,y:c,initialPlacement:o,placement:d,strategy:i,middlewareData:p,rects:u,platform:l,elements:{reference:t,floating:e}});f=h??f,c=k??c,p={...p,[b]:{...p[b],...T}},P&&m<=50&&(m++,typeof P=="object"&&(P.placement&&(d=P.placement),P.rects&&(u=P.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:i}):P.rects),{x:f,y:c}=Jl(u,d,s)),_=-1)}return{x:f,y:c,placement:d,strategy:i,middlewareData:p}};async function hl(t,e){var n;e===void 0&&(e={});const{x:o,y:i,platform:r,rects:l,elements:a,strategy:s}=t,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:c="floating",altBoundary:d=!1,padding:p=0}=so(e,t),m=Vf(p),b=a[d?c==="floating"?"reference":"floating":c],v=Ti(await r.getClippingRect({element:(n=await(r.isElement==null?void 0:r.isElement(b)))==null||n?b:b.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(a.floating)),boundary:u,rootBoundary:f,strategy:s})),h=c==="floating"?{...l.floating,x:o,y:i}:l.reference,k=await(r.getOffsetParent==null?void 0:r.getOffsetParent(a.floating)),T=await(r.isElement==null?void 0:r.isElement(k))?await(r.getScale==null?void 0:r.getScale(k))||{x:1,y:1}:{x:1,y:1},P=Ti(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:h,offsetParent:k,strategy:s}):h);return{top:(v.top-P.top+m.top)/T.y,bottom:(P.bottom-v.bottom+m.bottom)/T.y,left:(v.left-P.left+m.left)/T.x,right:(P.right-v.right+m.right)/T.x}}const fp=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:o,placement:i,rects:r,platform:l,elements:a,middlewareData:s}=e,{element:u,padding:f=0}=so(t,e)||{};if(u==null)return{};const c=Vf(f),d={x:n,y:o},p=pl(i),m=ml(p),_=await l.getDimensions(u),b=p==="y",v=b?"top":"left",h=b?"bottom":"right",k=b?"clientHeight":"clientWidth",T=r.reference[m]+r.reference[p]-d[p]-r.floating[m],P=d[p]-r.reference[p],N=await(l.getOffsetParent==null?void 0:l.getOffsetParent(u));let D=N?N[k]:0;(!D||!await(l.isElement==null?void 0:l.isElement(N)))&&(D=a.floating[k]||r.floating[m]);const B=T/2-P/2,q=D/2-_[m]/2-1,G=fn(c[v],q),E=fn(c[h],q),w=G,A=D-_[m]-E,$=D/2-_[m]/2+B,V=Fr(w,$,A),R=!s.arrow&&ao(i)!=null&&$!==V&&r.reference[m]/2-($<w?G:E)-_[m]/2<0,x=R?$<w?$-w:$-A:0;return{[p]:d[p]+x,data:{[p]:V,centerOffset:$-V-x,...R&&{alignmentOffset:x}},reset:R}}}),cp=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,o;const{placement:i,middlewareData:r,rects:l,initialPlacement:a,platform:s,elements:u}=e,{mainAxis:f=!0,crossAxis:c=!0,fallbackPlacements:d,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:_=!0,...b}=so(t,e);if((n=r.arrow)!=null&&n.alignmentOffset)return{};const v=dn(i),h=dn(a)===a,k=await(s.isRTL==null?void 0:s.isRTL(u.floating)),T=d||(h||!_?[Si(a)]:rp(a));!d&&m!=="none"&&T.push(...sp(a,_,m,k));const P=[a,...T],N=await hl(e,b),D=[];let B=((o=r.flip)==null?void 0:o.overflows)||[];if(f&&D.push(N[v]),c){const w=ip(i,l,k);D.push(N[w[0]],N[w[1]])}if(B=[...B,{placement:i,overflows:D}],!D.every(w=>w<=0)){var q,G;const w=(((q=r.flip)==null?void 0:q.index)||0)+1,A=P[w];if(A)return{data:{index:w,overflows:B},reset:{placement:A}};let $=(G=B.filter(V=>V.overflows[0]<=0).sort((V,R)=>V.overflows[1]-R.overflows[1])[0])==null?void 0:G.placement;if(!$)switch(p){case"bestFit":{var E;const V=(E=B.map(R=>[R.placement,R.overflows.filter(x=>x>0).reduce((x,X)=>x+X,0)]).sort((R,x)=>R[1]-x[1])[0])==null?void 0:E[0];V&&($=V);break}case"initialPlacement":$=a;break}if(i!==$)return{reset:{placement:$}}}return{}}}};async function dp(t,e){const{placement:n,platform:o,elements:i}=t,r=await(o.isRTL==null?void 0:o.isRTL(i.floating)),l=dn(n),a=ao(n),s=Wo(n)==="y",u=["left","top"].includes(l)?-1:1,f=r&&s?-1:1,c=so(e,t);let{mainAxis:d,crossAxis:p,alignmentAxis:m}=typeof c=="number"?{mainAxis:c,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...c};return a&&typeof m=="number"&&(p=a==="end"?m*-1:m),s?{x:p*f,y:d*u}:{x:d*u,y:p*f}}const mp=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,o;const{x:i,y:r,placement:l,middlewareData:a}=e,s=await dp(e,t);return l===((n=a.offset)==null?void 0:n.placement)&&(o=a.arrow)!=null&&o.alignmentOffset?{}:{x:i+s.x,y:r+s.y,data:{...s,placement:l}}}}},pp=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:o,placement:i}=e,{mainAxis:r=!0,crossAxis:l=!1,limiter:a={fn:b=>{let{x:v,y:h}=b;return{x:v,y:h}}},...s}=so(t,e),u={x:n,y:o},f=await hl(e,s),c=Wo(dn(i)),d=Gf(c);let p=u[d],m=u[c];if(r){const b=d==="y"?"top":"left",v=d==="y"?"bottom":"right",h=p+f[b],k=p-f[v];p=Fr(h,p,k)}if(l){const b=c==="y"?"top":"left",v=c==="y"?"bottom":"right",h=m+f[b],k=m-f[v];m=Fr(h,m,k)}const _=a.fn({...e,[d]:p,[c]:m});return{..._,data:{x:_.x-n,y:_.y-o}}}}},hp=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){const{placement:n,rects:o,platform:i,elements:r}=e,{apply:l=()=>{},...a}=so(t,e),s=await hl(e,a),u=dn(n),f=ao(n),c=Wo(n)==="y",{width:d,height:p}=o.floating;let m,_;u==="top"||u==="bottom"?(m=u,_=f===(await(i.isRTL==null?void 0:i.isRTL(r.floating))?"start":"end")?"left":"right"):(_=u,m=f==="end"?"top":"bottom");const b=p-s[m],v=d-s[_],h=!e.middlewareData.shift;let k=b,T=v;if(c){const N=d-s.left-s.right;T=f||h?fn(v,N):N}else{const N=p-s.top-s.bottom;k=f||h?fn(b,N):N}if(h&&!f){const N=kt(s.left,0),D=kt(s.right,0),B=kt(s.top,0),q=kt(s.bottom,0);c?T=d-2*(N!==0||D!==0?N+D:kt(s.left,s.right)):k=p-2*(B!==0||q!==0?B+q:kt(s.top,s.bottom))}await l({...e,availableWidth:T,availableHeight:k});const P=await i.getDimensions(r.floating);return d!==P.width||p!==P.height?{reset:{rects:!0}}:{}}}};function mn(t){return Wf(t)?(t.nodeName||"").toLowerCase():"#document"}function At(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function tn(t){var e;return(e=(Wf(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Wf(t){return t instanceof Node||t instanceof At(t).Node}function Qt(t){return t instanceof Element||t instanceof At(t).Element}function Gt(t){return t instanceof HTMLElement||t instanceof At(t).HTMLElement}function Zl(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof At(t).ShadowRoot}function Yo(t){const{overflow:e,overflowX:n,overflowY:o,display:i}=Nt(t);return/auto|scroll|overlay|hidden|clip/.test(e+o+n)&&!["inline","contents"].includes(i)}function _p(t){return["table","td","th"].includes(mn(t))}function _l(t){const e=gl(),n=Nt(t);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(o=>(n.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(n.contain||"").includes(o))}function gp(t){let e=to(t);for(;Gt(e)&&!Qi(e);){if(_l(e))return e;e=to(e)}return null}function gl(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Qi(t){return["html","body","#document"].includes(mn(t))}function Nt(t){return At(t).getComputedStyle(t)}function zi(t){return Qt(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function to(t){if(mn(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Zl(t)&&t.host||tn(t);return Zl(e)?e.host:e}function Yf(t){const e=to(t);return Qi(e)?t.ownerDocument?t.ownerDocument.body:t.body:Gt(e)&&Yo(e)?e:Yf(e)}function Fo(t,e,n){var o;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=Yf(t),r=i===((o=t.ownerDocument)==null?void 0:o.body),l=At(i);return r?e.concat(l,l.visualViewport||[],Yo(i)?i:[],l.frameElement&&n?Fo(l.frameElement):[]):e.concat(i,Fo(i,[],n))}function Uf(t){const e=Nt(t);let n=parseFloat(e.width)||0,o=parseFloat(e.height)||0;const i=Gt(t),r=i?t.offsetWidth:n,l=i?t.offsetHeight:o,a=Ai(n)!==r||Ai(o)!==l;return a&&(n=r,o=l),{width:n,height:o,$:a}}function bl(t){return Qt(t)?t:t.contextElement}function Jn(t){const e=bl(t);if(!Gt(e))return cn(1);const n=e.getBoundingClientRect(),{width:o,height:i,$:r}=Uf(e);let l=(r?Ai(n.width):n.width)/o,a=(r?Ai(n.height):n.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!a||!Number.isFinite(a))&&(a=1),{x:l,y:a}}const bp=cn(0);function Kf(t){const e=At(t);return!gl()||!e.visualViewport?bp:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function vp(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==At(t)?!1:e}function In(t,e,n,o){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),r=bl(t);let l=cn(1);e&&(o?Qt(o)&&(l=Jn(o)):l=Jn(t));const a=vp(r,n,o)?Kf(r):cn(0);let s=(i.left+a.x)/l.x,u=(i.top+a.y)/l.y,f=i.width/l.x,c=i.height/l.y;if(r){const d=At(r),p=o&&Qt(o)?At(o):o;let m=d,_=m.frameElement;for(;_&&o&&p!==m;){const b=Jn(_),v=_.getBoundingClientRect(),h=Nt(_),k=v.left+(_.clientLeft+parseFloat(h.paddingLeft))*b.x,T=v.top+(_.clientTop+parseFloat(h.paddingTop))*b.y;s*=b.x,u*=b.y,f*=b.x,c*=b.y,s+=k,u+=T,m=At(_),_=m.frameElement}}return Ti({width:f,height:c,x:s,y:u})}const yp=[":popover-open",":modal"];function xf(t){return yp.some(e=>{try{return t.matches(e)}catch{return!1}})}function wp(t){let{elements:e,rect:n,offsetParent:o,strategy:i}=t;const r=i==="fixed",l=tn(o),a=e?xf(e.floating):!1;if(o===l||a&&r)return n;let s={scrollLeft:0,scrollTop:0},u=cn(1);const f=cn(0),c=Gt(o);if((c||!c&&!r)&&((mn(o)!=="body"||Yo(l))&&(s=zi(o)),Gt(o))){const d=In(o);u=Jn(o),f.x=d.x+o.clientLeft,f.y=d.y+o.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-s.scrollLeft*u.x+f.x,y:n.y*u.y-s.scrollTop*u.y+f.y}}function kp(t){return Array.from(t.getClientRects())}function Xf(t){return In(tn(t)).left+zi(t).scrollLeft}function Cp(t){const e=tn(t),n=zi(t),o=t.ownerDocument.body,i=kt(e.scrollWidth,e.clientWidth,o.scrollWidth,o.clientWidth),r=kt(e.scrollHeight,e.clientHeight,o.scrollHeight,o.clientHeight);let l=-n.scrollLeft+Xf(t);const a=-n.scrollTop;return Nt(o).direction==="rtl"&&(l+=kt(e.clientWidth,o.clientWidth)-i),{width:i,height:r,x:l,y:a}}function Ap(t,e){const n=At(t),o=tn(t),i=n.visualViewport;let r=o.clientWidth,l=o.clientHeight,a=0,s=0;if(i){r=i.width,l=i.height;const u=gl();(!u||u&&e==="fixed")&&(a=i.offsetLeft,s=i.offsetTop)}return{width:r,height:l,x:a,y:s}}function Sp(t,e){const n=In(t,!0,e==="fixed"),o=n.top+t.clientTop,i=n.left+t.clientLeft,r=Gt(t)?Jn(t):cn(1),l=t.clientWidth*r.x,a=t.clientHeight*r.y,s=i*r.x,u=o*r.y;return{width:l,height:a,x:s,y:u}}function Ql(t,e,n){let o;if(e==="viewport")o=Ap(t,n);else if(e==="document")o=Cp(tn(t));else if(Qt(e))o=Sp(e,n);else{const i=Kf(t);o={...e,x:e.x-i.x,y:e.y-i.y}}return Ti(o)}function Jf(t,e){const n=to(t);return n===e||!Qt(n)||Qi(n)?!1:Nt(n).position==="fixed"||Jf(n,e)}function Tp(t,e){const n=e.get(t);if(n)return n;let o=Fo(t,[],!1).filter(a=>Qt(a)&&mn(a)!=="body"),i=null;const r=Nt(t).position==="fixed";let l=r?to(t):t;for(;Qt(l)&&!Qi(l);){const a=Nt(l),s=_l(l);!s&&a.position==="fixed"&&(i=null),(r?!s&&!i:!s&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Yo(l)&&!s&&Jf(t,l))?o=o.filter(f=>f!==l):i=a,l=to(l)}return e.set(t,o),o}function Ip(t){let{element:e,boundary:n,rootBoundary:o,strategy:i}=t;const l=[...n==="clippingAncestors"?Tp(e,this._c):[].concat(n),o],a=l[0],s=l.reduce((u,f)=>{const c=Ql(e,f,i);return u.top=kt(c.top,u.top),u.right=fn(c.right,u.right),u.bottom=fn(c.bottom,u.bottom),u.left=kt(c.left,u.left),u},Ql(e,a,i));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}}function Op(t){const{width:e,height:n}=Uf(t);return{width:e,height:n}}function Mp(t,e,n){const o=Gt(e),i=tn(e),r=n==="fixed",l=In(t,!0,r,e);let a={scrollLeft:0,scrollTop:0};const s=cn(0);if(o||!o&&!r)if((mn(e)!=="body"||Yo(i))&&(a=zi(e)),o){const c=In(e,!0,r,e);s.x=c.x+e.clientLeft,s.y=c.y+e.clientTop}else i&&(s.x=Xf(i));const u=l.left+a.scrollLeft-s.x,f=l.top+a.scrollTop-s.y;return{x:u,y:f,width:l.width,height:l.height}}function zl(t,e){return!Gt(t)||Nt(t).position==="fixed"?null:e?e(t):t.offsetParent}function Zf(t,e){const n=At(t);if(!Gt(t)||xf(t))return n;let o=zl(t,e);for(;o&&_p(o)&&Nt(o).position==="static";)o=zl(o,e);return o&&(mn(o)==="html"||mn(o)==="body"&&Nt(o).position==="static"&&!_l(o))?n:o||gp(t)||n}const Pp=async function(t){const e=this.getOffsetParent||Zf,n=this.getDimensions;return{reference:Mp(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,...await n(t.floating)}}};function Np(t){return Nt(t).direction==="rtl"}const Ep={convertOffsetParentRelativeRectToViewportRelativeRect:wp,getDocumentElement:tn,getClippingRect:Ip,getOffsetParent:Zf,getElementRects:Pp,getClientRects:kp,getDimensions:Op,getScale:Jn,isElement:Qt,isRTL:Np};function Rp(t,e){let n=null,o;const i=tn(t);function r(){var a;clearTimeout(o),(a=n)==null||a.disconnect(),n=null}function l(a,s){a===void 0&&(a=!1),s===void 0&&(s=1),r();const{left:u,top:f,width:c,height:d}=t.getBoundingClientRect();if(a||e(),!c||!d)return;const p=Jo(f),m=Jo(i.clientWidth-(u+c)),_=Jo(i.clientHeight-(f+d)),b=Jo(u),h={rootMargin:-p+"px "+-m+"px "+-_+"px "+-b+"px",threshold:kt(0,fn(1,s))||1};let k=!0;function T(P){const N=P[0].intersectionRatio;if(N!==s){if(!k)return l();N?l(!1,N):o=setTimeout(()=>{l(!1,1e-7)},100)}k=!1}try{n=new IntersectionObserver(T,{...h,root:i.ownerDocument})}catch{n=new IntersectionObserver(T,h)}n.observe(t)}return l(!0),r}function Lp(t,e,n,o){o===void 0&&(o={});const{ancestorScroll:i=!0,ancestorResize:r=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:s=!1}=o,u=bl(t),f=i||r?[...u?Fo(u):[],...Fo(e)]:[];f.forEach(v=>{i&&v.addEventListener("scroll",n,{passive:!0}),r&&v.addEventListener("resize",n)});const c=u&&a?Rp(u,n):null;let d=-1,p=null;l&&(p=new ResizeObserver(v=>{let[h]=v;h&&h.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var k;(k=p)==null||k.observe(e)})),n()}),u&&!s&&p.observe(u),p.observe(e));let m,_=s?In(t):null;s&&b();function b(){const v=In(t);_&&(v.x!==_.x||v.y!==_.y||v.width!==_.width||v.height!==_.height)&&n(),_=v,m=requestAnimationFrame(b)}return n(),()=>{var v;f.forEach(h=>{i&&h.removeEventListener("scroll",n),r&&h.removeEventListener("resize",n)}),c==null||c(),(v=p)==null||v.disconnect(),p=null,s&&cancelAnimationFrame(m)}}const Dp=pp,$p=cp,qp=hp,Fp=fp,Bp=(t,e,n)=>{const o=new Map,i={platform:Ep,...n},r={...i.platform,_c:o};return up(t,e,{...i,platform:r})},jp={strategy:"absolute",placement:"top",gutter:5,flip:!0,sameWidth:!1,overflowPadding:8},Hp={bottom:"rotate(45deg)",left:"rotate(135deg)",top:"rotate(225deg)",right:"rotate(315deg)"};function Gp(t,e,n={}){if(!e||!t||n===null)return{destroy:nt};const o={...jp,...n},i=e.querySelector("[data-arrow=true]"),r=[];o.flip&&r.push($p({boundary:o.boundary,padding:o.overflowPadding}));const l=yt(i)?i.offsetHeight/2:0;if(o.gutter||o.offset){const s=o.gutter?{mainAxis:o.gutter}:o.offset;(s==null?void 0:s.mainAxis)!=null&&(s.mainAxis+=l),r.push(mp(s))}r.push(Dp({boundary:o.boundary,crossAxis:o.overlap,padding:o.overflowPadding})),i&&r.push(Fp({element:i,padding:8})),r.push(qp({padding:o.overflowPadding,apply({rects:s,availableHeight:u,availableWidth:f}){o.sameWidth&&Object.assign(e.style,{width:`${Math.round(s.reference.width)}px`,minWidth:"unset"}),o.fitViewport&&Object.assign(e.style,{maxWidth:`${f}px`,maxHeight:`${u}px`})}}));function a(){if(!t||!e)return;const{placement:s,strategy:u}=o;Bp(t,e,{placement:s,middleware:r,strategy:u}).then(f=>{const c=Math.round(f.x),d=Math.round(f.y);if(Object.assign(e.style,{position:o.strategy,top:`${d}px`,left:`${c}px`}),yt(i)&&f.middlewareData.arrow){const{x:p,y:m}=f.middlewareData.arrow,_=f.placement.split("-")[0];Object.assign(i.style,{position:"absolute",left:p!=null?`${p}px`:"",top:m!=null?`${m}px`:"",[_]:`calc(100% - ${l}px)`,transform:Hp[_],backgroundColor:"inherit",zIndex:"inherit"})}return f})}return Object.assign(e.style,{position:o.strategy}),{destroy:Lp(t,e,a)}}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Qf=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Ii=Qf.join(","),zf=typeof Element>"u",On=zf?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Oi=!zf&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},Mi=function t(e,n){var o;n===void 0&&(n=!0);var i=e==null||(o=e.getAttribute)===null||o===void 0?void 0:o.call(e,"inert"),r=i===""||i==="true",l=r||n&&e&&t(e.parentNode);return l},Vp=function(e){var n,o=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"contenteditable");return o===""||o==="true"},ec=function(e,n,o){if(Mi(e))return[];var i=Array.prototype.slice.apply(e.querySelectorAll(Ii));return n&&On.call(e,Ii)&&i.unshift(e),i=i.filter(o),i},tc=function t(e,n,o){for(var i=[],r=Array.from(e);r.length;){var l=r.shift();if(!Mi(l,!1))if(l.tagName==="SLOT"){var a=l.assignedElements(),s=a.length?a:l.children,u=t(s,!0,o);o.flatten?i.push.apply(i,u):i.push({scopeParent:l,candidates:u})}else{var f=On.call(l,Ii);f&&o.filter(l)&&(n||!e.includes(l))&&i.push(l);var c=l.shadowRoot||typeof o.getShadowRoot=="function"&&o.getShadowRoot(l),d=!Mi(c,!1)&&(!o.shadowRootFilter||o.shadowRootFilter(l));if(c&&d){var p=t(c===!0?l.children:c.children,!0,o);o.flatten?i.push.apply(i,p):i.push({scopeParent:l,candidates:p})}else r.unshift.apply(r,l.children)}}return i},nc=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},bn=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||Vp(e))&&!nc(e)?0:e.tabIndex},Wp=function(e,n){var o=bn(e);return o<0&&n&&!nc(e)?0:o},Yp=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},oc=function(e){return e.tagName==="INPUT"},Up=function(e){return oc(e)&&e.type==="hidden"},Kp=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(o){return o.tagName==="SUMMARY"});return n},xp=function(e,n){for(var o=0;o<e.length;o++)if(e[o].checked&&e[o].form===n)return e[o]},Xp=function(e){if(!e.name)return!0;var n=e.form||Oi(e),o=function(a){return n.querySelectorAll('input[type="radio"][name="'+a+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=o(window.CSS.escape(e.name));else try{i=o(e.name)}catch(l){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",l.message),!1}var r=xp(i,e.form);return!r||r===e},Jp=function(e){return oc(e)&&e.type==="radio"},Zp=function(e){return Jp(e)&&!Xp(e)},Qp=function(e){var n,o=e&&Oi(e),i=(n=o)===null||n===void 0?void 0:n.host,r=!1;if(o&&o!==e){var l,a,s;for(r=!!((l=i)!==null&&l!==void 0&&(a=l.ownerDocument)!==null&&a!==void 0&&a.contains(i)||e!=null&&(s=e.ownerDocument)!==null&&s!==void 0&&s.contains(e));!r&&i;){var u,f,c;o=Oi(i),i=(u=o)===null||u===void 0?void 0:u.host,r=!!((f=i)!==null&&f!==void 0&&(c=f.ownerDocument)!==null&&c!==void 0&&c.contains(i))}}return r},es=function(e){var n=e.getBoundingClientRect(),o=n.width,i=n.height;return o===0&&i===0},zp=function(e,n){var o=n.displayCheck,i=n.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var r=On.call(e,"details>summary:first-of-type"),l=r?e.parentElement:e;if(On.call(l,"details:not([open]) *"))return!0;if(!o||o==="full"||o==="legacy-full"){if(typeof i=="function"){for(var a=e;e;){var s=e.parentElement,u=Oi(e);if(s&&!s.shadowRoot&&i(s)===!0)return es(e);e.assignedSlot?e=e.assignedSlot:!s&&u!==e.ownerDocument?e=u.host:e=s}e=a}if(Qp(e))return!e.getClientRects().length;if(o!=="legacy-full")return!0}else if(o==="non-zero-area")return es(e);return!1},eh=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var o=0;o<n.children.length;o++){var i=n.children.item(o);if(i.tagName==="LEGEND")return On.call(n,"fieldset[disabled] *")?!0:!i.contains(e)}return!0}n=n.parentElement}return!1},Pi=function(e,n){return!(n.disabled||Mi(n)||Up(n)||zp(n,e)||Kp(n)||eh(n))},jr=function(e,n){return!(Zp(n)||bn(n)<0||!Pi(e,n))},th=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},nh=function t(e){var n=[],o=[];return e.forEach(function(i,r){var l=!!i.scopeParent,a=l?i.scopeParent:i,s=Wp(a,l),u=l?t(i.candidates):a;s===0?l?n.push.apply(n,u):n.push(a):o.push({documentOrder:r,tabIndex:s,item:i,isScope:l,content:u})}),o.sort(Yp).reduce(function(i,r){return r.isScope?i.push.apply(i,r.content):i.push(r.content),i},[]).concat(n)},oh=function(e,n){n=n||{};var o;return n.getShadowRoot?o=tc([e],n.includeContainer,{filter:jr.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:th}):o=ec(e,n.includeContainer,jr.bind(null,n)),nh(o)},ih=function(e,n){n=n||{};var o;return n.getShadowRoot?o=tc([e],n.includeContainer,{filter:Pi.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):o=ec(e,n.includeContainer,Pi.bind(null,n)),o},Vn=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return On.call(e,Ii)===!1?!1:jr(n,e)},rh=Qf.concat("iframe").join(","),mr=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return On.call(e,rh)===!1?!1:Pi(n,e)};/*!
* focus-trap 7.5.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function ts(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,o)}return n}function ns(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ts(Object(n),!0).forEach(function(o){lh(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ts(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function lh(t,e,n){return e=ah(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sh(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ah(t){var e=sh(t,"string");return typeof e=="symbol"?e:String(e)}var os={activateTrap:function(e,n){if(e.length>0){var o=e[e.length-1];o!==n&&o.pause()}var i=e.indexOf(n);i===-1||e.splice(i,1),e.push(n)},deactivateTrap:function(e,n){var o=e.indexOf(n);o!==-1&&e.splice(o,1),e.length>0&&e[e.length-1].unpause()}},uh=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},fh=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},Lo=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},ch=function(e){return Lo(e)&&!e.shiftKey},dh=function(e){return Lo(e)&&e.shiftKey},is=function(e){return setTimeout(e,0)},rs=function(e,n){var o=-1;return e.every(function(i,r){return n(i)?(o=r,!1):!0}),o},wo=function(e){for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return typeof e=="function"?e.apply(void 0,o):e},Zo=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},mh=[],ph=function(e,n){var o=(n==null?void 0:n.document)||document,i=(n==null?void 0:n.trapStack)||mh,r=ns({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:ch,isKeyBackward:dh},n),l={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},a,s=function(w,A,$){return w&&w[A]!==void 0?w[A]:r[$||A]},u=function(w,A){var $=typeof(A==null?void 0:A.composedPath)=="function"?A.composedPath():void 0;return l.containerGroups.findIndex(function(V){var R=V.container,x=V.tabbableNodes;return R.contains(w)||($==null?void 0:$.includes(R))||x.find(function(X){return X===w})})},f=function(w){var A=r[w];if(typeof A=="function"){for(var $=arguments.length,V=new Array($>1?$-1:0),R=1;R<$;R++)V[R-1]=arguments[R];A=A.apply(void 0,V)}if(A===!0&&(A=void 0),!A){if(A===void 0||A===!1)return A;throw new Error("`".concat(w,"` was specified but was not a node, or did not return a node"))}var x=A;if(typeof A=="string"&&(x=o.querySelector(A),!x))throw new Error("`".concat(w,"` as selector refers to no known node"));return x},c=function(){var w=f("initialFocus");if(w===!1)return!1;if(w===void 0||!mr(w,r.tabbableOptions))if(u(o.activeElement)>=0)w=o.activeElement;else{var A=l.tabbableGroups[0],$=A&&A.firstTabbableNode;w=$||f("fallbackFocus")}if(!w)throw new Error("Your focus-trap needs to have at least one focusable element");return w},d=function(){if(l.containerGroups=l.containers.map(function(w){var A=oh(w,r.tabbableOptions),$=ih(w,r.tabbableOptions),V=A.length>0?A[0]:void 0,R=A.length>0?A[A.length-1]:void 0,x=$.find(function(ne){return Vn(ne)}),X=$.slice().reverse().find(function(ne){return Vn(ne)}),Q=!!A.find(function(ne){return bn(ne)>0});return{container:w,tabbableNodes:A,focusableNodes:$,posTabIndexesFound:Q,firstTabbableNode:V,lastTabbableNode:R,firstDomTabbableNode:x,lastDomTabbableNode:X,nextTabbableNode:function(ae){var we=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,Ne=A.indexOf(ae);return Ne<0?we?$.slice($.indexOf(ae)+1).find(function(Fe){return Vn(Fe)}):$.slice(0,$.indexOf(ae)).reverse().find(function(Fe){return Vn(Fe)}):A[Ne+(we?1:-1)]}}}),l.tabbableGroups=l.containerGroups.filter(function(w){return w.tabbableNodes.length>0}),l.tabbableGroups.length<=0&&!f("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(l.containerGroups.find(function(w){return w.posTabIndexesFound})&&l.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},p=function E(w){var A=w.activeElement;if(A)return A.shadowRoot&&A.shadowRoot.activeElement!==null?E(A.shadowRoot):A},m=function E(w){if(w!==!1&&w!==p(document)){if(!w||!w.focus){E(c());return}w.focus({preventScroll:!!r.preventScroll}),l.mostRecentlyFocusedNode=w,uh(w)&&w.select()}},_=function(w){var A=f("setReturnFocus",w);return A||(A===!1?!1:w)},b=function(w){var A=w.target,$=w.event,V=w.isBackward,R=V===void 0?!1:V;A=A||Zo($),d();var x=null;if(l.tabbableGroups.length>0){var X=u(A,$),Q=X>=0?l.containerGroups[X]:void 0;if(X<0)R?x=l.tabbableGroups[l.tabbableGroups.length-1].lastTabbableNode:x=l.tabbableGroups[0].firstTabbableNode;else if(R){var ne=rs(l.tabbableGroups,function(g){var K=g.firstTabbableNode;return A===K});if(ne<0&&(Q.container===A||mr(A,r.tabbableOptions)&&!Vn(A,r.tabbableOptions)&&!Q.nextTabbableNode(A,!1))&&(ne=X),ne>=0){var ae=ne===0?l.tabbableGroups.length-1:ne-1,we=l.tabbableGroups[ae];x=bn(A)>=0?we.lastTabbableNode:we.lastDomTabbableNode}else Lo($)||(x=Q.nextTabbableNode(A,!1))}else{var Ne=rs(l.tabbableGroups,function(g){var K=g.lastTabbableNode;return A===K});if(Ne<0&&(Q.container===A||mr(A,r.tabbableOptions)&&!Vn(A,r.tabbableOptions)&&!Q.nextTabbableNode(A))&&(Ne=X),Ne>=0){var Fe=Ne===l.tabbableGroups.length-1?0:Ne+1,ee=l.tabbableGroups[Fe];x=bn(A)>=0?ee.firstTabbableNode:ee.firstDomTabbableNode}else Lo($)||(x=Q.nextTabbableNode(A))}}else x=f("fallbackFocus");return x},v=function(w){var A=Zo(w);if(!(u(A,w)>=0)){if(wo(r.clickOutsideDeactivates,w)){a.deactivate({returnFocus:r.returnFocusOnDeactivate});return}wo(r.allowOutsideClick,w)||w.preventDefault()}},h=function(w){var A=Zo(w),$=u(A,w)>=0;if($||A instanceof Document)$&&(l.mostRecentlyFocusedNode=A);else{w.stopImmediatePropagation();var V,R=!0;if(l.mostRecentlyFocusedNode)if(bn(l.mostRecentlyFocusedNode)>0){var x=u(l.mostRecentlyFocusedNode),X=l.containerGroups[x].tabbableNodes;if(X.length>0){var Q=X.findIndex(function(ne){return ne===l.mostRecentlyFocusedNode});Q>=0&&(r.isKeyForward(l.recentNavEvent)?Q+1<X.length&&(V=X[Q+1],R=!1):Q-1>=0&&(V=X[Q-1],R=!1))}}else l.containerGroups.some(function(ne){return ne.tabbableNodes.some(function(ae){return bn(ae)>0})})||(R=!1);else R=!1;R&&(V=b({target:l.mostRecentlyFocusedNode,isBackward:r.isKeyBackward(l.recentNavEvent)})),m(V||l.mostRecentlyFocusedNode||c())}l.recentNavEvent=void 0},k=function(w){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;l.recentNavEvent=w;var $=b({event:w,isBackward:A});$&&(Lo(w)&&w.preventDefault(),m($))},T=function(w){if(fh(w)&&wo(r.escapeDeactivates,w)!==!1){w.preventDefault(),a.deactivate();return}(r.isKeyForward(w)||r.isKeyBackward(w))&&k(w,r.isKeyBackward(w))},P=function(w){var A=Zo(w);u(A,w)>=0||wo(r.clickOutsideDeactivates,w)||wo(r.allowOutsideClick,w)||(w.preventDefault(),w.stopImmediatePropagation())},N=function(){if(l.active)return os.activateTrap(i,a),l.delayInitialFocusTimer=r.delayInitialFocus?is(function(){m(c())}):m(c()),o.addEventListener("focusin",h,!0),o.addEventListener("mousedown",v,{capture:!0,passive:!1}),o.addEventListener("touchstart",v,{capture:!0,passive:!1}),o.addEventListener("click",P,{capture:!0,passive:!1}),o.addEventListener("keydown",T,{capture:!0,passive:!1}),a},D=function(){if(l.active)return o.removeEventListener("focusin",h,!0),o.removeEventListener("mousedown",v,!0),o.removeEventListener("touchstart",v,!0),o.removeEventListener("click",P,!0),o.removeEventListener("keydown",T,!0),a},B=function(w){var A=w.some(function($){var V=Array.from($.removedNodes);return V.some(function(R){return R===l.mostRecentlyFocusedNode})});A&&m(c())},q=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(B):void 0,G=function(){q&&(q.disconnect(),l.active&&!l.paused&&l.containers.map(function(w){q.observe(w,{subtree:!0,childList:!0})}))};return a={get active(){return l.active},get paused(){return l.paused},activate:function(w){if(l.active)return this;var A=s(w,"onActivate"),$=s(w,"onPostActivate"),V=s(w,"checkCanFocusTrap");V||d(),l.active=!0,l.paused=!1,l.nodeFocusedBeforeActivation=o.activeElement,A==null||A();var R=function(){V&&d(),N(),G(),$==null||$()};return V?(V(l.containers.concat()).then(R,R),this):(R(),this)},deactivate:function(w){if(!l.active)return this;var A=ns({onDeactivate:r.onDeactivate,onPostDeactivate:r.onPostDeactivate,checkCanReturnFocus:r.checkCanReturnFocus},w);clearTimeout(l.delayInitialFocusTimer),l.delayInitialFocusTimer=void 0,D(),l.active=!1,l.paused=!1,G(),os.deactivateTrap(i,a);var $=s(A,"onDeactivate"),V=s(A,"onPostDeactivate"),R=s(A,"checkCanReturnFocus"),x=s(A,"returnFocus","returnFocusOnDeactivate");$==null||$();var X=function(){is(function(){x&&m(_(l.nodeFocusedBeforeActivation)),V==null||V()})};return x&&R?(R(_(l.nodeFocusedBeforeActivation)).then(X,X),this):(X(),this)},pause:function(w){if(l.paused||!l.active)return this;var A=s(w,"onPause"),$=s(w,"onPostPause");return l.paused=!0,A==null||A(),D(),G(),$==null||$(),this},unpause:function(w){if(!l.paused||!l.active)return this;var A=s(w,"onUnpause"),$=s(w,"onPostUnpause");return l.paused=!1,A==null||A(),d(),N(),G(),$==null||$(),this},updateContainerElements:function(w){var A=[].concat(w).filter(Boolean);return l.containers=A.map(function($){return typeof $=="string"?o.querySelector($):$}),l.active&&d(),G(),this}},a.updateContainerElements(e),a};function hh(t={}){let e;const{immediate:n,...o}=t,i=Xe(!1),r=Xe(!1),l=c=>e==null?void 0:e.activate(c),a=c=>{e==null||e.deactivate(c)},s=()=>{e&&(e.pause(),r.set(!0))},u=()=>{e&&(e.unpause(),r.set(!1))};return{useFocusTrap:c=>(e=ph(c,{...o,onActivate(){var d;i.set(!0),(d=t.onActivate)==null||d.call(t)},onDeactivate(){var d;i.set(!1),(d=t.onDeactivate)==null||d.call(t)}}),n&&l(),{destroy(){a(),e=void 0}}),hasFocus:Ll(i),isPaused:Ll(r),activate:l,deactivate:a,pause:s,unpause:u}}const Qo=[];function _h(t,e){let n=nt;function o(){const r=Qo.indexOf(t);r>=0&&Qo.splice(r,1)}function i(r){n();const{open:l,onClose:a,shouldCloseOnInteractOutside:s,closeOnInteractOutside:u}=r;cl(100).then(()=>{l?Qo.push(t):o()});function f(){return Pm(Qo)===t}function c(){f()&&a&&(a(),o())}function d(m){const _=m.target;Xi(_)&&_&&f()&&(m.preventDefault(),m.stopPropagation(),m.stopImmediatePropagation())}function p(m){s!=null&&s(m)&&f()&&(m.preventDefault(),m.stopPropagation(),m.stopImmediatePropagation(),c())}n=gh(t,{onInteractOutsideStart:d,onInteractOutside:u?p:void 0,enabled:l}).destroy}return i(e),{update:i,destroy(){o(),n()}}}const ic=(t,e="body")=>{let n;if(!yt(e)&&typeof e!="string")return{destroy:nt};async function o(r){if(e=r,typeof e=="string"){if(n=document.querySelector(e),n===null&&(await rl(),n=document.querySelector(e)),n===null)throw new Error(`No element found matching css selector: "${e}"`)}else if(e instanceof HTMLElement)n=e;else throw new TypeError(`Unknown portal target type: ${e===null?"null":typeof e}. Allowed types: string (CSS selector) or HTMLElement.`);t.dataset.portal="",n.appendChild(t),t.hidden=!1}function i(){t.remove()}return o(e),{update:o,destroy:i}};function gh(t,e){let n=nt,o=!1,i=!1,r=!1;function l(u){n();const{onInteractOutside:f,onInteractOutsideStart:c,enabled:d}=u;if(!d)return;function p(b){f&&ls(b,t)&&(c==null||c(b));const v=b.target;Xi(v)&&rc(t,v)&&(i=!0),o=!0}function m(b){f==null||f(b)}const _=bh(t);if(typeof PointerEvent<"u"){const b=v=>{a(v)&&m(v),s()};n=Bt(pt(_,"pointerdown",p,!0),pt(_,"pointerup",b,!0))}else{const b=h=>{r?r=!1:a(h)&&m(h),s()},v=h=>{r=!0,a(h)&&m(h),s()};n=Bt(pt(_,"mousedown",p,!0),pt(_,"mouseup",b,!0),pt(_,"touchstart",p,!0),pt(_,"touchend",v,!0))}}function a(u){return!!(o&&!i&&ls(u,t))}function s(){o=!1,i=!1}return l(e),{update:l,destroy:n}}function ls(t,e){if("button"in t&&t.button>0)return!1;const n=t.target;if(!Xi(n))return!1;const o=n.ownerDocument;return!o||!o.documentElement.contains(n)?!1:e&&!rc(e,n)}function rc(t,e){return t===e||t.contains(e)}function bh(t){return(t==null?void 0:t.ownerDocument)??document}kn(!1),kn(!1),kn(void 0);function vh(){return{elements:{root:mt("label",{action:e=>({destroy:bt(e,"mousedown",o=>{!o.defaultPrevented&&o.detail>1&&o.preventDefault()})})})}}}const{name:_n}=xi("dialog"),yh={preventScroll:!0,closeOnEscape:!0,closeOnOutsideClick:!0,role:"dialog",defaultOpen:!1,portal:void 0,forceVisible:!1,openFocus:void 0,closeFocus:void 0,onOutsideClick:void 0},wh=["content","title","description"];function lc(t){const e={...yh,...t},n=Tn(Ji(e,"ids")),{preventScroll:o,closeOnEscape:i,closeOnOutsideClick:r,role:l,portal:a,forceVisible:s,openFocus:u,closeFocus:f,onOutsideClick:c}=n,d=Jt.writable(null),p=Tn({...dl(wh),...e.ids}),m=e.open??Xe(e.defaultOpen),_=Zi(m,e==null?void 0:e.onOpenChange),b=en([_,s],([E,w])=>E||w);let v=nt;function h(E){const w=E.currentTarget,A=E.currentTarget;!yt(w)||!yt(A)||(_.set(!0),d.set(A))}function k(){_.set(!1),xl({prop:f.get(),defaultEl:d.get()})}const T=mt(_n("trigger"),{stores:[_],returned:([E])=>({"aria-haspopup":"dialog","aria-expanded":E,type:"button"}),action:E=>({destroy:Bt(bt(E,"click",A=>{h(A)}),bt(E,"keydown",A=>{A.key!==ut.ENTER&&A.key!==ut.SPACE||(A.preventDefault(),h(A))}))})}),P=mt(_n("overlay"),{stores:[b,_],returned:([E,w])=>({hidden:E?void 0:!0,tabindex:-1,style:sn({display:E?void 0:"none"}),"aria-hidden":!0,"data-state":w?"open":"closed"}),action:E=>{let w=nt;if(i.get()){const A=Xl(E,{handler:()=>{k()}});A&&A.destroy&&(w=A.destroy)}return{destroy(){w()}}}}),N=mt(_n("content"),{stores:[b,p.content,p.description,p.title,_],returned:([E,w,A,$,V])=>({id:w,role:l.get(),"aria-describedby":A,"aria-labelledby":$,"aria-modal":E?"true":void 0,"data-state":V?"open":"closed",tabindex:-1,hidden:E?void 0:!0,style:sn({display:E?void 0:"none"})}),action:E=>{let w=nt,A=nt;const $=Bt(Mt([_],([V])=>{if(!V)return;const R=hh({immediate:!1,escapeDeactivates:!0,clickOutsideDeactivates:!0,returnFocusOnDeactivate:!1,fallbackFocus:E});w=R.activate,A=R.deactivate;const x=R.useFocusTrap(E);return x&&x.destroy?x.destroy:R.deactivate}),Mt([r,_],([V,R])=>_h(E,{open:R,closeOnInteractOutside:V,onClose(){k()},shouldCloseOnInteractOutside(x){var X;return(X=c.get())==null||X(x),!x.defaultPrevented}}).destroy),Mt([i],([V])=>{if(!V)return nt;const R=Xl(E,{handler:()=>{k()}});return R&&R.destroy?R.destroy:nt}),Mt([b],([V])=>{rl().then(()=>{V?w():A()})}));return{destroy:()=>{v(),$()}}}}),D=mt(_n("portalled"),{stores:a,returned:E=>({"data-portal":qf(E)}),action:E=>{const w=Mt([a],([A])=>{if(A===null)return nt;const $=Hf(E,A);if($===null)return nt;const V=ic(E,$);return V&&V.destroy?V.destroy:nt});return{destroy(){w()}}}}),B=mt(_n("title"),{stores:[p.title],returned:([E])=>({id:E})}),q=mt(_n("description"),{stores:[p.description],returned:([E])=>({id:E})}),G=mt(_n("close"),{returned:()=>({type:"button"}),action:E=>({destroy:Bt(bt(E,"click",()=>{k()}),bt(E,"keydown",A=>{A.key!==ut.SPACE&&A.key!==ut.ENTER||(A.preventDefault(),k())}))})});return Mt([_,o],([E,w])=>{if(qo){if(w&&E&&(v=Qm()),E){const A=document.getElementById(p.content.get());xl({prop:u.get(),defaultEl:A})}return()=>{s.get()||v()}}}),{ids:p,elements:{content:N,trigger:T,title:B,description:q,overlay:P,close:G,portalled:D},states:{open:_},options:n}}const kh={defaultValue:0,max:100},{name:Ch}=xi("progress"),Ah=t=>{const e={...kh,...t},n=Tn(Ji(e,"value")),{max:o}=n,i=e.value??Xe(e.defaultValue),r=Zi(i,e==null?void 0:e.onValueChange);return{elements:{root:mt(Ch(),{stores:[r,o],returned:([a,s])=>({value:a,max:s,role:"meter","aria-valuemin":0,"aria-valuemax":s,"aria-valuenow":a,"data-value":a,"data-state":a===null?"indeterminate":a===s?"complete":"loading","data-max":s})})},states:{value:r},options:n}},Sh={orientation:"horizontal",decorative:!1},Th=t=>{const e={...Sh,...t},n=Tn(e),{orientation:o,decorative:i}=n;return{elements:{root:mt("separator",{stores:[o,i],returned:([l,a])=>({role:a?"none":"separator","aria-orientation":l==="vertical"?l:void 0,"aria-hidden":a,"data-orientation":l})})},options:n}},Ih={defaultValue:[],min:0,max:100,step:1,orientation:"horizontal",dir:"ltr",disabled:!1},{name:zo}=xi("slider"),Oh=t=>{const e={...Ih,...t},n=Tn(Ji(e,"value","onValueChange","defaultValue")),{min:o,max:i,step:r,orientation:l,dir:a,disabled:s}=n,u=e.value??Xe(e.defaultValue),f=Zi(u,e==null?void 0:e.onValueChange),c=Jt(Xe(!1)),d=Jt(Xe(0)),p=Jt(Xe(null)),m=dl(["root"]),_=(D,B)=>{f.update(q=>{if(!q)return[D];if(q[B]===D)return q;const G=[...q],E=G[B]>D?-1:1;function w(){G[B]=G[B+E],G[B+E]=D;const R=b();R&&(R[B+E].focus(),p.set({thumb:R[B+E],index:B+E}))}if(E===-1&&D<G[B-1])return w(),G;if(E===1&&D>G[B+1])return w(),G;const A=o.get(),$=i.get(),V=r.get();return G[B]=dr(D,A,$,V),G})},b=()=>{const D=fr(m.root);return D?Array.from(D.querySelectorAll('[data-melt-part="thumb"]')).filter(B=>yt(B)):null},v=en([o,i],([D,B])=>q=>(q-D)/(B-D)*100),h=Jt.derived([l,a],([D,B])=>D==="horizontal"?B==="rtl"?"rl":"lr":B==="rtl"?"tb":"bt"),k=mt(zo(),{stores:[s,l,a],returned:([D,B,q])=>({dir:q,disabled:ur(D),"data-disabled":ur(D),"data-orientation":B,style:D?void 0:`touch-action: ${B==="horizontal"?"pan-y":"pan-x"}`,"data-melt-id":m.root})}),T=mt(zo("range"),{stores:[f,h,v],returned:([D,B,q])=>{const G=D.length>1?q(Math.min(...D)??0):0,E=100-q(Math.max(...D)??0),w={position:"absolute"};switch(B){case"lr":{w.left=`${G}%`,w.right=`${E}%`;break}case"rl":{w.right=`${G}%`,w.left=`${E}%`;break}case"bt":{w.bottom=`${G}%`,w.top=`${E}%`;break}case"tb":{w.top=`${G}%`,w.bottom=`${E}%`;break}}return{style:sn(w)}}}),P=Yl(zo("thumb"),{stores:[f,v,o,i,s,l,h],returned:([D,B,q,G,E,w,A])=>Array.from({length:D.length||1},(V,R)=>{d.get()<D.length&&d.update(ae=>ae+1);const X=D[R],Q=`${B(X)}%`,ne={position:"absolute"};switch(A){case"lr":{ne.left=Q,ne.translate="-50% 0";break}case"rl":{ne.right=Q,ne.translate="50% 0";break}case"bt":{ne.bottom=Q,ne.translate="0 50%";break}case"tb":{ne.top=Q,ne.translate="0 -50%";break}}return{role:"slider","aria-valuemin":q,"aria-valuemax":G,"aria-valuenow":X,"aria-disabled":ur(E),"aria-orientation":w,"data-melt-part":"thumb","data-value":X,style:sn(ne),tabindex:E?-1:0}}),action:D=>({destroy:bt(D,"keydown",q=>{if(s.get())return;const G=q.currentTarget;if(!yt(G))return;const E=b();if(!(E!=null&&E.length))return;const w=E.indexOf(G);if(d.set(w),![ut.ARROW_LEFT,ut.ARROW_RIGHT,ut.ARROW_UP,ut.ARROW_DOWN,ut.HOME,ut.END].includes(q.key))return;q.preventDefault();const A=o.get(),$=i.get(),V=r.get(),R=f.get(),x=l.get(),X=h.get(),Q=R[w];switch(q.key){case ut.HOME:{_(A,w);break}case ut.END:{_($,w);break}case ut.ARROW_LEFT:{if(x!=="horizontal")break;q.metaKey?_(X==="rl"?$:A,w):X==="rl"&&Q<$?_(Q+V,w):X==="lr"&&Q>A&&_(Q-V,w);break}case ut.ARROW_RIGHT:{if(x!=="horizontal")break;q.metaKey?_(X==="rl"?A:$,w):X==="rl"&&Q>A?_(Q-V,w):X==="lr"&&Q<$&&_(Q+V,w);break}case ut.ARROW_UP:{q.metaKey?_(X==="tb"?A:$,w):X==="tb"&&Q>A?_(Q-V,w):X!=="tb"&&Q<$&&_(Q+V,w);break}case ut.ARROW_DOWN:{q.metaKey?_(X==="tb"?$:A,w):X==="tb"&&Q<$?_(Q+V,w):X!=="tb"&&Q>A&&_(Q-V,w);break}}})})}),N=Yl(zo("tick"),{stores:[f,o,i,r,h],returned:([D,B,q,G,E])=>{const w=q-B;let A=Math.ceil(w/G);return w%G==0&&A++,Array.from({length:A},($,V)=>{const R=`${V*(G/(q-B))*100}%`,x=V===0,X=V===A-1,Q=x?0:X?-100:-50,ne={position:"absolute"};switch(E){case"lr":{ne.left=R,ne.translate=`${Q}% 0`;break}case"rl":{ne.right=R,ne.translate=`${-Q}% 0`;break}case"bt":{ne.bottom=R,ne.translate=`0 ${-Q}%`;break}case"tb":{ne.top=R,ne.translate=`0 ${Q}%`;break}}const ae=B+V*G;return{"data-bounded":(D.length===1?ae<=D[0]:D[0]<=ae&&ae<=D[D.length-1])?!0:void 0,"data-value":ae,style:sn(ne)}})}});return Mt([k,o,i,s,l,h,r],([D,B,q,G,E,w,A])=>{if(!qo||G)return;const $=(ne,ae,we,Ne)=>{const ee=(ne-we)/(Ne-we)*(q-B)+B;if(ee<B)_(B,ae);else if(ee>q)_(q,ae);else{const g=A,K=B,Z=Math.floor((ee-K)/g),ie=K+Z*g+g/2,ce=K+(Z+1)*g+g/2,Te=ee>=ie&&ee<ce?(Z+1)*g+K:Z*g+K;Te<=q&&_(Te,ae)}},V=ne=>{const ae=b();if(!ae)return;ae.forEach(ee=>ee.blur());const we=ae.map(ee=>{if(E==="horizontal"){const{left:g,right:K}=ee.getBoundingClientRect();return Math.abs(ne.clientX-(g+K)/2)}else{const{top:g,bottom:K}=ee.getBoundingClientRect();return Math.abs(ne.clientY-(g+K)/2)}}),Ne=ae[we.indexOf(Math.min(...we))],Fe=ae.indexOf(Ne);return{thumb:Ne,index:Fe}},R=ne=>{if(!c.get())return;ne.preventDefault(),ne.stopPropagation();const ae=fr(D["data-melt-id"]),we=p.get();if(!ae||!we)return;we.thumb.focus();const{left:Ne,right:Fe,top:ee,bottom:g}=ae.getBoundingClientRect();switch(w){case"lr":{$(ne.clientX,we.index,Ne,Fe);break}case"rl":{$(ne.clientX,we.index,Fe,Ne);break}case"bt":{$(ne.clientY,we.index,g,ee);break}case"tb":{$(ne.clientY,we.index,ee,g);break}}},x=ne=>{if(ne.button!==0)return;const ae=fr(D["data-melt-id"]),we=V(ne);if(!we||!ae)return;const Ne=ne.target;!yt(Ne)||!ae.contains(Ne)||(ne.preventDefault(),p.set(we),we.thumb.focus(),c.set(!0),R(ne))},X=()=>{c.set(!1)},Q=Bt(pt(document,"pointerdown",x),pt(document,"pointerup",X),pt(document,"pointerleave",X),pt(document,"pointermove",R));return()=>{Q()}}),Mt([r,o,i,f],function([B,q,G,E]){const w=$=>dr($,q,G,B)===$,A=$=>dr($,q,G,B);E.some($=>!w($))&&f.update($=>$.map(A))}),{elements:{root:k,thumbs:P,range:T,ticks:N},states:{value:f},options:n}},Mh={positioning:{placement:"bottom"},arrowSize:8,defaultOpen:!1,closeOnPointerDown:!0,openDelay:1e3,closeDelay:0,forceVisible:!1,portal:void 0,closeOnEscape:!0,disableHoverableContent:!1,group:void 0},{name:pr}=xi("tooltip"),ei=new Map,Ph=["trigger","content"];function Nh(t){const e={...Mh,...t},n=Tn(Ji(e,"open","ids")),{positioning:o,arrowSize:i,closeOnPointerDown:r,openDelay:l,closeDelay:a,forceVisible:s,portal:u,closeOnEscape:f,disableHoverableContent:c,group:d}=n,p=e.open??Xe(e.defaultOpen),m=Zi(p,e==null?void 0:e.onOpenChange),_=Xe(null),b=Tn({...dl(Ph),...e.ids});let v=!1;const h=w=>qo?document.getElementById(b[w].get()):null;let k=null,T=null;function P(w){T&&(window.clearTimeout(T),T=null),k||(k=window.setTimeout(()=>{m.set(!0),_.update(A=>A??w),k=null},l.get()))}function N(w){if(k&&(window.clearTimeout(k),k=null),w&&E){_.set("pointer");return}T||(T=window.setTimeout(()=>{m.set(!1),_.set(null),w&&(v=!1),T=null},a.get()))}const D=en([m,s],([w,A])=>w||A),B=mt(pr("trigger"),{stores:[b.content,b.trigger,m],returned:([w,A,$])=>({"aria-describedby":w,id:A,"data-state":$?"open":"closed"}),action:w=>{const A=V=>{f.get()&&V.key===ut.ESCAPE&&(k&&(window.clearTimeout(k),k=null),m.set(!1))};return{destroy:Bt(bt(w,"pointerdown",()=>{r.get()&&(m.set(!1),v=!0,k&&(window.clearTimeout(k),k=null))}),bt(w,"pointerenter",V=>{Ul(V)||P("pointer")}),bt(w,"pointerleave",V=>{Ul(V)||k&&(window.clearTimeout(k),k=null)}),bt(w,"focus",()=>{v||P("focus")}),bt(w,"blur",async()=>{await cl(0),N(!0)}),bt(w,"keydown",A),pt(document,"keydown",A))}}}),q=mt(pr("content"),{stores:[D,m,u,b.content],returned:([w,A,$,V])=>({role:"tooltip",hidden:w?void 0:!0,tabindex:-1,style:sn({display:w?void 0:"none"}),id:V,"data-portal":qf($),"data-state":A?"open":"closed"}),action:w=>{let A=nt,$=nt;const V=Mt([D,o,u],([X,Q,ne])=>{const ae=h("trigger");if(!X||!ae){$(),A();return}if(A=Gp(ae,w,Q).destroy,ne===null){$();return}const Ne=Hf(w,ne);if(Ne){const Fe=ic(w,Ne);Fe&&Fe.destroy&&($=Fe.destroy)}});function R(X){if(!m.get())return;const Q=X.target;if(!Xi(Q)&&!Nm(Q))return;const ne=h("trigger");ne&&Q.contains(ne)&&N()}const x=Bt(bt(w,"pointerenter",()=>P("pointer")),bt(w,"pointerdown",()=>P("pointer")),pt(window,"scroll",R,{capture:!0}));return{destroy(){x(),$(),A(),V()}}}}),G=mt(pr("arrow"),{stores:i,returned:w=>({"data-arrow":!0,style:sn({position:"absolute",width:`var(--arrow-size, ${w}px)`,height:`var(--arrow-size, ${w}px)`})})});let E=!1;return Mt(m,w=>{const A=d.get();if(A===void 0||A===!1)return;if(!w){ei.get(A)===m&&ei.delete(A);return}const $=ei.get(A);$==null||$.set(!1),ei.set(A,m)}),Mt([m,_],([w,A])=>{if(!(!w||!qo))return Bt(pt(document,"mousemove",$=>{const V=h("content"),R=h("trigger");if(!V||!R)return;const x=c.get()?[R]:[R,V],X=xm(x);E=Xm({x:$.clientX,y:$.clientY},X),A==="pointer"&&(E||N())}))}),{ids:b,elements:{trigger:B,content:q,arrow:G},states:{open:m},options:n}}function Rn(t,e){const n={};return e.forEach(o=>{n[o]={[`data-${t}-${o}`]:""}}),o=>n[o]}function Ln(){const t=wd();return e=>{const{originalEvent:n}=e.detail,{cancelable:o}=e,i=n.type;t(i,{originalEvent:n,currentTarget:n.currentTarget},{cancelable:o})||e.preventDefault()}}function uo(t){const e={};for(const n in t){const o=t[n];o!==void 0&&(e[n]=o)}return e}function Mn(t){return function(e,n){if(n===void 0)return;const o=t[e];o&&o.set(n)}}function sc(){return{NAME:"alert-dialog",PARTS:["action","cancel","content","description","overlay","portal","title","trigger"]}}function Eh(t){const{NAME:e,PARTS:n}=sc(),o=Rn(e,n),i=lc({...uo(t),role:"alertdialog",forceVisible:!0}),r={...i,getAttrs:o,updateOption:Mn(i.options)};return Yi(e,r),{...r,updateOption:Mn(r.options),getAttrs:o}}function Dn(){const{NAME:t}=sc();return Ui(t)}const Rh=t=>({ids:t&1}),ss=t=>({ids:t[0]});function Lh(t){let e;const n=t[12].default,o=he(n,t,t[11],ss);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,[r]){o&&o.p&&(!e||r&2049)&&ge(o,n,i,i[11],e?_e(n,i[11],r,Rh):be(i[11]),ss)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Dh(t,e,n){let o,{$$slots:i={},$$scope:r}=e,{preventScroll:l=void 0}=e,{closeOnEscape:a=void 0}=e,{closeOnOutsideClick:s=!1}=e,{portal:u=void 0}=e,{open:f=void 0}=e,{onOpenChange:c=void 0}=e,{openFocus:d=void 0}=e,{closeFocus:p=void 0}=e,{onOutsideClick:m=void 0}=e;const{states:{open:_},updateOption:b,ids:v}=Eh({closeOnEscape:a,preventScroll:l,closeOnOutsideClick:s,portal:u,forceVisible:!0,defaultOpen:f,openFocus:d,closeFocus:p,onOutsideClick:m,onOpenChange:({next:k})=>(f!==k&&(c==null||c(k),n(2,f=k)),k)}),h=en([v.content,v.description,v.title],([k,T,P])=>({content:k,description:T,title:P}));return le(t,h,k=>n(0,o=k)),t.$$set=k=>{"preventScroll"in k&&n(3,l=k.preventScroll),"closeOnEscape"in k&&n(4,a=k.closeOnEscape),"closeOnOutsideClick"in k&&n(5,s=k.closeOnOutsideClick),"portal"in k&&n(6,u=k.portal),"open"in k&&n(2,f=k.open),"onOpenChange"in k&&n(7,c=k.onOpenChange),"openFocus"in k&&n(8,d=k.openFocus),"closeFocus"in k&&n(9,p=k.closeFocus),"onOutsideClick"in k&&n(10,m=k.onOutsideClick),"$$scope"in k&&n(11,r=k.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&f!==void 0&&_.set(f),t.$$.dirty&8&&b("preventScroll",l),t.$$.dirty&16&&b("closeOnEscape",a),t.$$.dirty&32&&b("closeOnOutsideClick",s),t.$$.dirty&64&&b("portal",u),t.$$.dirty&256&&b("openFocus",d),t.$$.dirty&512&&b("closeFocus",p),t.$$.dirty&1024&&b("onOutsideClick",m)},[o,h,f,l,a,s,u,c,d,p,m,r,i]}class $h extends pe{constructor(e){super(),me(this,e,Dh,Lh,fe,{preventScroll:3,closeOnEscape:4,closeOnOutsideClick:5,portal:6,open:2,onOpenChange:7,openFocus:8,closeFocus:9,onOutsideClick:10})}}const qh=t=>({builder:t&8}),as=t=>({builder:t[3]}),Fh=t=>({builder:t&8}),us=t=>({builder:t[3]});function Bh(t){let e=t[1],n,o,i=t[1]&&hr(t);return{c(){i&&i.c(),n=De()},m(r,l){i&&i.m(r,l),O(r,n,l),o=!0},p(r,l){r[1]?e?fe(e,r[1])?(i.d(1),i=hr(r),e=r[1],i.c(),i.m(n.parentNode,n)):i.p(r,l):(i=hr(r),e=r[1],i.c(),i.m(n.parentNode,n)):e&&(i.d(1),i=null,e=r[1])},i(r){o||(C(i,r),o=!0)},o(r){S(i,r),o=!1},d(r){r&&I(n),i&&i.d(r)}}}function jh(t){let e;const n=t[9].default,o=he(n,t,t[8],us);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&264)&&ge(o,n,i,i[8],e?_e(n,i[8],r,Fh):be(i[8]),us)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function hr(t){let e,n,o,i;const r=t[9].default,l=he(r,t,t[8],as);let a=[t[3],t[5]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=M(t[1]),l&&l.c(),an(t[1])(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[10](e),n=!0,o||(i=We(t[3].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&264)&&ge(l,r,u,u[8],n?_e(r,u[8],f,qh):be(u[8]),as),an(u[1])(e,s=Ce(a,[f&8&&u[3],f&32&&u[5]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&I(e),l&&l.d(u),t[10](null),o=!1,i()}}}function Hh(t){let e,n,o,i;const r=[jh,Bh],l=[];function a(s,u){return s[2]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),S(l[f],1,1,()=>{l[f]=null}),Pe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&I(o),l[e].d(s)}}}function Gh(t,e,n){let o;const i=["level","asChild","id","el"];let r=re(e,i),l,{$$slots:a={},$$scope:s}=e,{level:u="h2"}=e,{asChild:f=!1}=e,{id:c=void 0}=e,{el:d=void 0}=e;const{elements:{title:p},ids:m,getAttrs:_}=Dn();le(t,p,h=>n(7,l=h));const b=_("title");function v(h){Le[h?"unshift":"push"](()=>{d=h,n(0,d)})}return t.$$set=h=>{e=J(J({},e),$e(h)),n(5,r=re(e,i)),"level"in h&&n(1,u=h.level),"asChild"in h&&n(2,f=h.asChild),"id"in h&&n(6,c=h.id),"el"in h&&n(0,d=h.el),"$$scope"in h&&n(8,s=h.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&c&&m.title.set(c),t.$$.dirty&128&&n(3,o=l),t.$$.dirty&8&&Object.assign(o,b)},[d,u,f,o,p,r,c,l,s,a,v]}let Vh=class extends pe{constructor(e){super(),me(this,e,Gh,Hh,fe,{level:1,asChild:2,id:6,el:0})}};const Wh=t=>({builder:t&4}),fs=t=>({builder:t[2]}),Yh=t=>({builder:t&4}),cs=t=>({builder:t[2]});function Uh(t){let e,n,o,i;const r=t[8].default,l=he(r,t,t[7],fs);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=M("button"),l&&l.c(),se(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[9](e),n=!0,o||(i=[We(t[2].action(e)),z(e,"m-click",t[4]),z(e,"m-keydown",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&ge(l,r,u,u[7],n?_e(r,u[7],f,Wh):be(u[7]),fs),se(e,s=Ce(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&I(e),l&&l.d(u),t[9](null),o=!1,Ve(i)}}}function Kh(t){let e;const n=t[8].default,o=he(n,t,t[7],cs);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&ge(o,n,i,i[7],e?_e(n,i[7],r,Yh):be(i[7]),cs)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function xh(t){let e,n,o,i;const r=[Kh,Uh],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),S(l[f],1,1,()=>{l[f]=null}),Pe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&I(o),l[e].d(s)}}}function Xh(t,e,n){let o;const i=["asChild","el"];let r=re(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:d}=Dn();le(t,c,b=>n(6,l=b));const p=Ln(),m=d("action");function _(b){Le[b?"unshift":"push"](()=>{f=b,n(0,f)})}return t.$$set=b=>{e=J(J({},e),$e(b)),n(5,r=re(e,i)),"asChild"in b&&n(1,u=b.asChild),"el"in b&&n(0,f=b.el),"$$scope"in b&&n(7,s=b.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,m)},[f,u,o,c,p,r,l,s,a,_]}let Jh=class extends pe{constructor(e){super(),me(this,e,Xh,xh,fe,{asChild:1,el:0})}};const Zh=t=>({builder:t&4}),ds=t=>({builder:t[2]}),Qh=t=>({builder:t&4}),ms=t=>({builder:t[2]});function zh(t){let e,n,o,i;const r=t[8].default,l=he(r,t,t[7],ds);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=M("button"),l&&l.c(),se(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[9](e),n=!0,o||(i=[We(t[2].action(e)),z(e,"m-click",t[4]),z(e,"m-keydown",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&ge(l,r,u,u[7],n?_e(r,u[7],f,Zh):be(u[7]),ds),se(e,s=Ce(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&I(e),l&&l.d(u),t[9](null),o=!1,Ve(i)}}}function e_(t){let e;const n=t[8].default,o=he(n,t,t[7],ms);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&ge(o,n,i,i[7],e?_e(n,i[7],r,Qh):be(i[7]),ms)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function t_(t){let e,n,o,i;const r=[e_,zh],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),S(l[f],1,1,()=>{l[f]=null}),Pe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&I(o),l[e].d(s)}}}function n_(t,e,n){let o;const i=["asChild","el"];let r=re(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:d}=Dn();le(t,c,b=>n(6,l=b));const p=Ln(),m=d("cancel");function _(b){Le[b?"unshift":"push"](()=>{f=b,n(0,f)})}return t.$$set=b=>{e=J(J({},e),$e(b)),n(5,r=re(e,i)),"asChild"in b&&n(1,u=b.asChild),"el"in b&&n(0,f=b.el),"$$scope"in b&&n(7,s=b.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,m)},[f,u,o,c,p,r,l,s,a,_]}let o_=class extends pe{constructor(e){super(),me(this,e,n_,t_,fe,{asChild:1,el:0})}};const i_=t=>({builder:t&4}),ps=t=>({builder:t[2]}),r_=t=>({builder:t&4}),hs=t=>({builder:t[2]});function l_(t){let e,n,o,i;const r=t[7].default,l=he(r,t,t[6],ps);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=M("div"),l&&l.c(),se(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[8](e),n=!0,o||(i=We(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&68)&&ge(l,r,u,u[6],n?_e(r,u[6],f,i_):be(u[6]),ps),se(e,s=Ce(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&I(e),l&&l.d(u),t[8](null),o=!1,i()}}}function s_(t){let e;const n=t[7].default,o=he(n,t,t[6],hs);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&68)&&ge(o,n,i,i[6],e?_e(n,i[6],r,r_):be(i[6]),hs)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function a_(t){let e,n,o,i;const r=[s_,l_],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),S(l[f],1,1,()=>{l[f]=null}),Pe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&I(o),l[e].d(s)}}}function u_(t,e,n){let o;const i=["asChild","el"];let r=re(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{portalled:c},getAttrs:d}=Dn();le(t,c,_=>n(5,l=_));const p=d("portal");function m(_){Le[_?"unshift":"push"](()=>{f=_,n(0,f)})}return t.$$set=_=>{e=J(J({},e),$e(_)),n(4,r=re(e,i)),"asChild"in _&&n(1,u=_.asChild),"el"in _&&n(0,f=_.el),"$$scope"in _&&n(6,s=_.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,p)},[f,u,o,c,r,l,s,a,m]}let f_=class extends pe{constructor(e){super(),me(this,e,u_,a_,fe,{asChild:1,el:0})}};const c_=t=>({builder:t[0]&256}),_s=t=>({builder:t[8]}),d_=t=>({builder:t[0]&256}),gs=t=>({builder:t[8]}),m_=t=>({builder:t[0]&256}),bs=t=>({builder:t[8]}),p_=t=>({builder:t[0]&256}),vs=t=>({builder:t[8]}),h_=t=>({builder:t[0]&256}),ys=t=>({builder:t[8]}),__=t=>({builder:t[0]&256}),ws=t=>({builder:t[8]});function g_(t){let e,n,o,i;const r=t[16].default,l=he(r,t,t[15],_s);let a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=M("div"),l&&l.c(),se(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[56](e),n=!0,o||(i=[We(t[8].action(e)),z(e,"pointerdown",t[45]),z(e,"pointermove",t[46]),z(e,"pointerup",t[47]),z(e,"touchend",t[48]),z(e,"touchstart",t[49]),z(e,"touchcancel",t[50]),z(e,"touchmove",t[51])],o=!0)},p(u,f){l&&l.p&&(!n||f[0]&33024)&&ge(l,r,u,u[15],n?_e(r,u[15],f,c_):be(u[15]),_s),se(e,s=Ce(a,[f[0]&256&&u[8],f[0]&4096&&u[12]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&I(e),l&&l.d(u),t[56](null),o=!1,Ve(i)}}}function b_(t){let e,n,o,i,r;const l=t[16].default,a=he(l,t,t[15],gs);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=J(u,s[f]);return{c(){e=M("div"),a&&a.c(),se(e,u)},m(f,c){O(f,e,c),a&&a.m(e,null),t[55](e),o=!0,i||(r=[We(t[8].action(e)),z(e,"pointerdown",t[38]),z(e,"pointermove",t[39]),z(e,"pointerup",t[40]),z(e,"touchend",t[41]),z(e,"touchstart",t[42]),z(e,"touchcancel",t[43]),z(e,"touchmove",t[44])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&ge(a,l,t,t[15],o?_e(l,t[15],c,d_):be(t[15]),gs),se(e,u=Ce(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(C(a,f),n&&n.end(1),o=!0)},o(f){S(a,f),f&&(n=Wt(e,t[5],t[6])),o=!1},d(f){f&&I(e),a&&a.d(f),t[55](null),f&&n&&n.end(),i=!1,Ve(r)}}}function v_(t){let e,n,o,i,r;const l=t[16].default,a=he(l,t,t[15],bs);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=J(u,s[f]);return{c(){e=M("div"),a&&a.c(),se(e,u)},m(f,c){O(f,e,c),a&&a.m(e,null),t[54](e),o=!0,i||(r=[We(t[8].action(e)),z(e,"pointerdown",t[31]),z(e,"pointermove",t[32]),z(e,"pointerup",t[33]),z(e,"touchend",t[34]),z(e,"touchstart",t[35]),z(e,"touchcancel",t[36]),z(e,"touchmove",t[37])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&ge(a,l,t,t[15],o?_e(l,t[15],c,m_):be(t[15]),bs),se(e,u=Ce(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(C(a,f),f&&(n||lt(()=>{n=Vt(e,t[3],t[4]),n.start()})),o=!0)},o(f){S(a,f),o=!1},d(f){f&&I(e),a&&a.d(f),t[54](null),i=!1,Ve(r)}}}function y_(t){let e,n,o,i,r,l;const a=t[16].default,s=he(a,t,t[15],vs);let u=[t[8],t[12]],f={};for(let c=0;c<u.length;c+=1)f=J(f,u[c]);return{c(){e=M("div"),s&&s.c(),se(e,f)},m(c,d){O(c,e,d),s&&s.m(e,null),t[53](e),i=!0,r||(l=[We(t[8].action(e)),z(e,"pointerdown",t[24]),z(e,"pointermove",t[25]),z(e,"pointerup",t[26]),z(e,"touchend",t[27]),z(e,"touchstart",t[28]),z(e,"touchcancel",t[29]),z(e,"touchmove",t[30])],r=!0)},p(c,d){t=c,s&&s.p&&(!i||d[0]&33024)&&ge(s,a,t,t[15],i?_e(a,t[15],d,p_):be(t[15]),vs),se(e,f=Ce(u,[d[0]&256&&t[8],d[0]&4096&&t[12]]))},i(c){i||(C(s,c),c&&lt(()=>{i&&(o&&o.end(1),n=Vt(e,t[3],t[4]),n.start())}),i=!0)},o(c){S(s,c),n&&n.invalidate(),c&&(o=Wt(e,t[5],t[6])),i=!1},d(c){c&&I(e),s&&s.d(c),t[53](null),c&&o&&o.end(),r=!1,Ve(l)}}}function w_(t){let e,n,o,i,r;const l=t[16].default,a=he(l,t,t[15],ys);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=J(u,s[f]);return{c(){e=M("div"),a&&a.c(),se(e,u)},m(f,c){O(f,e,c),a&&a.m(e,null),t[52](e),o=!0,i||(r=[We(t[8].action(e)),z(e,"pointerdown",t[17]),z(e,"pointermove",t[18]),z(e,"pointerup",t[19]),z(e,"touchend",t[20]),z(e,"touchstart",t[21]),z(e,"touchcancel",t[22]),z(e,"touchmove",t[23])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&ge(a,l,t,t[15],o?_e(l,t[15],c,h_):be(t[15]),ys),se(e,u=Ce(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(C(a,f),f&&lt(()=>{o&&(n||(n=Ht(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(f){S(a,f),f&&(n||(n=Ht(e,t[1],t[2],!1)),n.run(0)),o=!1},d(f){f&&I(e),a&&a.d(f),t[52](null),f&&n&&n.end(),i=!1,Ve(r)}}}function k_(t){let e;const n=t[16].default,o=he(n,t,t[15],ws);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r[0]&33024)&&ge(o,n,i,i[15],e?_e(n,i[15],r,__):be(i[15]),ws)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function C_(t){let e,n,o,i;const r=[k_,w_,y_,v_,b_,g_],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=De()},m(s,u){~e&&l[e].m(s,u),O(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Me(),S(l[f],1,1,()=>{l[f]=null}),Pe()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&I(o),~e&&l[e].d(s)}}}function A_(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","id","asChild","el"];let r=re(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:p=void 0}=e,{outTransition:m=void 0}=e,{outTransitionConfig:_=void 0}=e,{id:b=void 0}=e,{asChild:v=!1}=e,{el:h=void 0}=e;const{elements:{content:k},states:{open:T},ids:P,getAttrs:N}=Dn();le(t,k,j=>n(14,l=j)),le(t,T,j=>n(9,a=j));const D=N("content");function B(j){oe.call(this,t,j)}function q(j){oe.call(this,t,j)}function G(j){oe.call(this,t,j)}function E(j){oe.call(this,t,j)}function w(j){oe.call(this,t,j)}function A(j){oe.call(this,t,j)}function $(j){oe.call(this,t,j)}function V(j){oe.call(this,t,j)}function R(j){oe.call(this,t,j)}function x(j){oe.call(this,t,j)}function X(j){oe.call(this,t,j)}function Q(j){oe.call(this,t,j)}function ne(j){oe.call(this,t,j)}function ae(j){oe.call(this,t,j)}function we(j){oe.call(this,t,j)}function Ne(j){oe.call(this,t,j)}function Fe(j){oe.call(this,t,j)}function ee(j){oe.call(this,t,j)}function g(j){oe.call(this,t,j)}function K(j){oe.call(this,t,j)}function Z(j){oe.call(this,t,j)}function ie(j){oe.call(this,t,j)}function ce(j){oe.call(this,t,j)}function Te(j){oe.call(this,t,j)}function Oe(j){oe.call(this,t,j)}function xe(j){oe.call(this,t,j)}function de(j){oe.call(this,t,j)}function Ie(j){oe.call(this,t,j)}function je(j){oe.call(this,t,j)}function Je(j){oe.call(this,t,j)}function Ke(j){oe.call(this,t,j)}function He(j){oe.call(this,t,j)}function ke(j){oe.call(this,t,j)}function ve(j){oe.call(this,t,j)}function Ee(j){oe.call(this,t,j)}function Qe(j){Le[j?"unshift":"push"](()=>{h=j,n(0,h)})}function st(j){Le[j?"unshift":"push"](()=>{h=j,n(0,h)})}function rt(j){Le[j?"unshift":"push"](()=>{h=j,n(0,h)})}function ye(j){Le[j?"unshift":"push"](()=>{h=j,n(0,h)})}function Ze(j){Le[j?"unshift":"push"](()=>{h=j,n(0,h)})}return t.$$set=j=>{e=J(J({},e),$e(j)),n(12,r=re(e,i)),"transition"in j&&n(1,f=j.transition),"transitionConfig"in j&&n(2,c=j.transitionConfig),"inTransition"in j&&n(3,d=j.inTransition),"inTransitionConfig"in j&&n(4,p=j.inTransitionConfig),"outTransition"in j&&n(5,m=j.outTransition),"outTransitionConfig"in j&&n(6,_=j.outTransitionConfig),"id"in j&&n(13,b=j.id),"asChild"in j&&n(7,v=j.asChild),"el"in j&&n(0,h=j.el),"$$scope"in j&&n(15,u=j.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&8192&&b&&P.content.set(b),t.$$.dirty[0]&16384&&n(8,o=l),t.$$.dirty[0]&256&&Object.assign(o,D)},[h,f,c,d,p,m,_,v,o,a,k,T,r,b,l,u,s,B,q,G,E,w,A,$,V,R,x,X,Q,ne,ae,we,Ne,Fe,ee,g,K,Z,ie,ce,Te,Oe,xe,de,Ie,je,Je,Ke,He,ke,ve,Ee,Qe,st,rt,ye,Ze]}let S_=class extends pe{constructor(e){super(),me(this,e,A_,C_,fe,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,id:13,asChild:7,el:0},null,[-1,-1])}};const T_=t=>({builder:t&256}),ks=t=>({builder:t[8]});function I_(t){let e,n,o,i=[t[8],t[12]],r={};for(let l=0;l<i.length;l+=1)r=J(r,i[l]);return{c(){e=M("div"),se(e,r)},m(l,a){O(l,e,a),t[20](e),n||(o=We(t[8].action(e)),n=!0)},p(l,a){se(e,r=Ce(i,[a&256&&l[8],a&4096&&l[12]]))},i:Se,o:Se,d(l){l&&I(e),t[20](null),n=!1,o()}}}function O_(t){let e,n,o,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=J(a,l[s]);return{c(){e=M("div"),se(e,a)},m(s,u){O(s,e,u),t[19](e),o=!0,i||(r=We(t[8].action(e)),i=!0)},p(s,u){t=s,se(e,a=Ce(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(n&&n.end(1),o=!0)},o(s){s&&(n=Wt(e,t[5],t[6])),o=!1},d(s){s&&I(e),t[19](null),s&&n&&n.end(),i=!1,r()}}}function M_(t){let e,n,o,i,r=[t[8],t[12]],l={};for(let a=0;a<r.length;a+=1)l=J(l,r[a]);return{c(){e=M("div"),se(e,l)},m(a,s){O(a,e,s),t[18](e),o||(i=We(t[8].action(e)),o=!0)},p(a,s){t=a,se(e,l=Ce(r,[s&256&&t[8],s&4096&&t[12]]))},i(a){a&&(n||lt(()=>{n=Vt(e,t[3],t[4]),n.start()}))},o:Se,d(a){a&&I(e),t[18](null),o=!1,i()}}}function P_(t){let e,n,o,i,r,l,a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=M("div"),se(e,s)},m(u,f){O(u,e,f),t[17](e),i=!0,r||(l=We(t[8].action(e)),r=!0)},p(u,f){t=u,se(e,s=Ce(a,[f&256&&t[8],f&4096&&t[12]]))},i(u){i||(u&&lt(()=>{i&&(o&&o.end(1),n=Vt(e,t[3],t[4]),n.start())}),i=!0)},o(u){n&&n.invalidate(),u&&(o=Wt(e,t[5],t[6])),i=!1},d(u){u&&I(e),t[17](null),u&&o&&o.end(),r=!1,l()}}}function N_(t){let e,n,o,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=J(a,l[s]);return{c(){e=M("div"),se(e,a)},m(s,u){O(s,e,u),t[16](e),o=!0,i||(r=We(t[8].action(e)),i=!0)},p(s,u){t=s,se(e,a=Ce(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(s&&lt(()=>{o&&(n||(n=Ht(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(s){s&&(n||(n=Ht(e,t[1],t[2],!1)),n.run(0)),o=!1},d(s){s&&I(e),t[16](null),s&&n&&n.end(),i=!1,r()}}}function E_(t){let e;const n=t[15].default,o=he(n,t,t[14],ks);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&16640)&&ge(o,n,i,i[14],e?_e(n,i[14],r,T_):be(i[14]),ks)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function R_(t){let e,n,o,i;const r=[E_,N_,P_,M_,O_,I_],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=De()},m(s,u){~e&&l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Me(),S(l[f],1,1,()=>{l[f]=null}),Pe()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&I(o),~e&&l[e].d(s)}}}function L_(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","el"];let r=re(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:p=void 0}=e,{outTransition:m=void 0}=e,{outTransitionConfig:_=void 0}=e,{asChild:b=!1}=e,{el:v=void 0}=e;const{elements:{overlay:h},states:{open:k},getAttrs:T}=Dn();le(t,h,E=>n(13,l=E)),le(t,k,E=>n(9,a=E));const P=T("overlay");function N(E){Le[E?"unshift":"push"](()=>{v=E,n(0,v)})}function D(E){Le[E?"unshift":"push"](()=>{v=E,n(0,v)})}function B(E){Le[E?"unshift":"push"](()=>{v=E,n(0,v)})}function q(E){Le[E?"unshift":"push"](()=>{v=E,n(0,v)})}function G(E){Le[E?"unshift":"push"](()=>{v=E,n(0,v)})}return t.$$set=E=>{e=J(J({},e),$e(E)),n(12,r=re(e,i)),"transition"in E&&n(1,f=E.transition),"transitionConfig"in E&&n(2,c=E.transitionConfig),"inTransition"in E&&n(3,d=E.inTransition),"inTransitionConfig"in E&&n(4,p=E.inTransitionConfig),"outTransition"in E&&n(5,m=E.outTransition),"outTransitionConfig"in E&&n(6,_=E.outTransitionConfig),"asChild"in E&&n(7,b=E.asChild),"el"in E&&n(0,v=E.el),"$$scope"in E&&n(14,u=E.$$scope)},t.$$.update=()=>{t.$$.dirty&8192&&n(8,o=l),t.$$.dirty&256&&Object.assign(o,P)},[v,f,c,d,p,m,_,b,o,a,h,k,r,l,u,s,N,D,B,q,G]}let D_=class extends pe{constructor(e){super(),me(this,e,L_,R_,fe,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,el:0})}};const $_=t=>({builder:t&4}),Cs=t=>({builder:t[2]}),q_=t=>({builder:t&4}),As=t=>({builder:t[2]});function F_(t){let e,n,o,i;const r=t[8].default,l=he(r,t,t[7],Cs);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=M("div"),l&&l.c(),se(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[9](e),n=!0,o||(i=We(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&ge(l,r,u,u[7],n?_e(r,u[7],f,$_):be(u[7]),Cs),se(e,s=Ce(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&I(e),l&&l.d(u),t[9](null),o=!1,i()}}}function B_(t){let e;const n=t[8].default,o=he(n,t,t[7],As);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&ge(o,n,i,i[7],e?_e(n,i[7],r,q_):be(i[7]),As)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function j_(t){let e,n,o,i;const r=[B_,F_],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),S(l[f],1,1,()=>{l[f]=null}),Pe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&I(o),l[e].d(s)}}}function H_(t,e,n){let o;const i=["asChild","id","el"];let r=re(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{description:d},ids:p,getAttrs:m}=Dn();le(t,d,v=>n(6,l=v));const _=m("description");function b(v){Le[v?"unshift":"push"](()=>{c=v,n(0,c)})}return t.$$set=v=>{e=J(J({},e),$e(v)),n(4,r=re(e,i)),"asChild"in v&&n(1,u=v.asChild),"id"in v&&n(5,f=v.id),"el"in v&&n(0,c=v.el),"$$scope"in v&&n(7,s=v.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f&&p.description.set(f),t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,_)},[c,u,o,d,r,f,l,s,a,b]}let G_=class extends pe{constructor(e){super(),me(this,e,H_,j_,fe,{asChild:1,id:5,el:0})}};function V_(t,e){const n=[];return e.builders.forEach(o=>{const i=o.action(t);i&&n.push(i)}),{destroy:()=>{n.forEach(o=>{o.destroy&&o.destroy()})}}}function Ss(t){const e={};return t.forEach(n=>{Object.keys(n).forEach(o=>{o!=="action"&&(e[o]=n[o])})}),e}function W_(t){let e=t[1]?"a":"button",n,o,i=(t[1]?"a":"button")&&_r(t);return{c(){i&&i.c(),n=De()},m(r,l){i&&i.m(r,l),O(r,n,l),o=!0},p(r,l){r[1],e?fe(e,r[1]?"a":"button")?(i.d(1),i=_r(r),e=r[1]?"a":"button",i.c(),i.m(n.parentNode,n)):i.p(r,l):(i=_r(r),e=r[1]?"a":"button",i.c(),i.m(n.parentNode,n))},i(r){o||(C(i,r),o=!0)},o(r){S(i,r),o=!1},d(r){r&&I(n),i&&i.d(r)}}}function Y_(t){let e=t[1]?"a":"button",n,o,i=(t[1]?"a":"button")&&gr(t);return{c(){i&&i.c(),n=De()},m(r,l){i&&i.m(r,l),O(r,n,l),o=!0},p(r,l){r[1],e?fe(e,r[1]?"a":"button")?(i.d(1),i=gr(r),e=r[1]?"a":"button",i.c(),i.m(n.parentNode,n)):i.p(r,l):(i=gr(r),e=r[1]?"a":"button",i.c(),i.m(n.parentNode,n))},i(r){o||(C(i,r),o=!0)},o(r){S(i,r),o=!1},d(r){r&&I(n),i&&i.d(r)}}}function _r(t){let e,n,o,i,r;const l=t[7].default,a=he(l,t,t[6],null);let s=[{type:n=t[1]?void 0:t[2]},{href:t[1]},{tabindex:"0"},t[5],t[4]],u={};for(let f=0;f<s.length;f+=1)u=J(u,s[f]);return{c(){e=M(t[1]?"a":"button"),a&&a.c(),an(t[1]?"a":"button")(e,u)},m(f,c){O(f,e,c),a&&a.m(e,null),o=!0,i||(r=[z(e,"click",t[14]),z(e,"change",t[15]),z(e,"keydown",t[16]),z(e,"keyup",t[17]),z(e,"mouseenter",t[18]),z(e,"mouseleave",t[19])],i=!0)},p(f,c){a&&a.p&&(!o||c&64)&&ge(a,l,f,f[6],o?_e(l,f[6],c,null):be(f[6]),null),an(f[1]?"a":"button")(e,u=Ce(s,[(!o||c&6&&n!==(n=f[1]?void 0:f[2]))&&{type:n},(!o||c&2)&&{href:f[1]},{tabindex:"0"},c&32&&f[5],f[4]]))},i(f){o||(C(a,f),o=!0)},o(f){S(a,f),o=!1},d(f){f&&I(e),a&&a.d(f),i=!1,Ve(r)}}}function gr(t){let e,n,o,i,r,l;const a=t[7].default,s=he(a,t,t[6],null);let u=[{type:n=t[1]?void 0:t[2]},{href:t[1]},{tabindex:"0"},Ss(t[3]),t[5],t[4]],f={};for(let c=0;c<u.length;c+=1)f=J(f,u[c]);return{c(){e=M(t[1]?"a":"button"),s&&s.c(),an(t[1]?"a":"button")(e,f)},m(c,d){O(c,e,d),s&&s.m(e,null),t[20](e),i=!0,r||(l=[z(e,"click",t[8]),z(e,"change",t[9]),z(e,"keydown",t[10]),z(e,"keyup",t[11]),z(e,"mouseenter",t[12]),z(e,"mouseleave",t[13]),We(o=V_.call(null,e,{builders:t[3]}))],r=!0)},p(c,d){s&&s.p&&(!i||d&64)&&ge(s,a,c,c[6],i?_e(a,c[6],d,null):be(c[6]),null),an(c[1]?"a":"button")(e,f=Ce(u,[(!i||d&6&&n!==(n=c[1]?void 0:c[2]))&&{type:n},(!i||d&2)&&{href:c[1]},{tabindex:"0"},d&8&&Ss(c[3]),d&32&&c[5],c[4]])),o&&$t(o.update)&&d&8&&o.update.call(null,{builders:c[3]})},i(c){i||(C(s,c),i=!0)},o(c){S(s,c),i=!1},d(c){c&&I(e),s&&s.d(c),t[20](null),r=!1,Ve(l)}}}function U_(t){let e,n,o,i;const r=[Y_,W_],l=[];function a(s,u){return s[3]&&s[3].length?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),S(l[f],1,1,()=>{l[f]=null}),Pe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&I(o),l[e].d(s)}}}function K_(t,e,n){const o=["href","type","builders","el"];let i=re(e,o),{$$slots:r={},$$scope:l}=e,{href:a=void 0}=e,{type:s=void 0}=e,{builders:u=[]}=e,{el:f=void 0}=e;const c={"data-button-root":""};function d(q){oe.call(this,t,q)}function p(q){oe.call(this,t,q)}function m(q){oe.call(this,t,q)}function _(q){oe.call(this,t,q)}function b(q){oe.call(this,t,q)}function v(q){oe.call(this,t,q)}function h(q){oe.call(this,t,q)}function k(q){oe.call(this,t,q)}function T(q){oe.call(this,t,q)}function P(q){oe.call(this,t,q)}function N(q){oe.call(this,t,q)}function D(q){oe.call(this,t,q)}function B(q){Le[q?"unshift":"push"](()=>{f=q,n(0,f)})}return t.$$set=q=>{e=J(J({},e),$e(q)),n(5,i=re(e,o)),"href"in q&&n(1,a=q.href),"type"in q&&n(2,s=q.type),"builders"in q&&n(3,u=q.builders),"el"in q&&n(0,f=q.el),"$$scope"in q&&n(6,l=q.$$scope)},[f,a,s,u,c,i,l,r,d,p,m,_,b,v,h,k,T,P,N,D,B]}let x_=class extends pe{constructor(e){super(),me(this,e,K_,U_,fe,{href:1,type:2,builders:3,el:0})}};function X_(t){return(e={})=>J_(t,e)}function J_(t,e){const o={...{side:"bottom",align:"center",sideOffset:0,alignOffset:0,sameWidth:!1,avoidCollisions:!0,collisionPadding:8,fitViewport:!1,strategy:"absolute",overlap:!1},...e};t.update(i=>({...i,placement:Z_(o.side,o.align),offset:{...i.offset,mainAxis:o.sideOffset,crossAxis:o.alignOffset},gutter:0,sameWidth:o.sameWidth,flip:o.avoidCollisions,overflowPadding:o.collisionPadding,boundary:o.collisionBoundary,fitViewport:o.fitViewport,strategy:o.strategy,overlap:o.overlap}))}function Z_(t,e){return e==="center"?t:`${t}-${e}`}function Q_(){return{NAME:"separator",PARTS:["root"]}}function z_(t){const{NAME:e,PARTS:n}=Q_(),o=Rn(e,n),i={...Th(uo(t)),getAttrs:o};return{...i,updateOption:Mn(i.options)}}const e0=t=>({builder:t&4}),Ts=t=>({builder:t[2]});function t0(t){let e,n,o,i=[t[2],t[4]],r={};for(let l=0;l<i.length;l+=1)r=J(r,i[l]);return{c(){e=M("div"),se(e,r)},m(l,a){O(l,e,a),t[10](e),n||(o=We(t[2].action(e)),n=!0)},p(l,a){se(e,r=Ce(i,[a&4&&l[2],a&16&&l[4]]))},i:Se,o:Se,d(l){l&&I(e),t[10](null),n=!1,o()}}}function n0(t){let e;const n=t[9].default,o=he(n,t,t[8],Ts);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&260)&&ge(o,n,i,i[8],e?_e(n,i[8],r,e0):be(i[8]),Ts)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function o0(t){let e,n,o,i;const r=[n0,t0],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),S(l[f],1,1,()=>{l[f]=null}),Pe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&I(o),l[e].d(s)}}}function i0(t,e,n){let o;const i=["orientation","decorative","asChild","el"];let r=re(e,i),l,{$$slots:a={},$$scope:s}=e,{orientation:u="horizontal"}=e,{decorative:f=!0}=e,{asChild:c=!1}=e,{el:d=void 0}=e;const{elements:{root:p},updateOption:m,getAttrs:_}=z_({orientation:u,decorative:f});le(t,p,h=>n(7,l=h));const b=_("root");function v(h){Le[h?"unshift":"push"](()=>{d=h,n(0,d)})}return t.$$set=h=>{e=J(J({},e),$e(h)),n(4,r=re(e,i)),"orientation"in h&&n(5,u=h.orientation),"decorative"in h&&n(6,f=h.decorative),"asChild"in h&&n(1,c=h.asChild),"el"in h&&n(0,d=h.el),"$$scope"in h&&n(8,s=h.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&m("orientation",u),t.$$.dirty&64&&m("decorative",f),t.$$.dirty&128&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,b)},[d,c,o,p,r,u,f,l,s,a,v]}let r0=class extends pe{constructor(e){super(),me(this,e,i0,o0,fe,{orientation:5,decorative:6,asChild:1,el:0})}};function ac(){return{NAME:"dialog",PARTS:["close","content","description","overlay","portal","title","trigger"]}}function l0(t){const{NAME:e,PARTS:n}=ac(),o=Rn(e,n),i={...lc({...uo(t),role:"dialog",forceVisible:!0}),getAttrs:o};return Yi(e,i),{...i,updateOption:Mn(i.options)}}function fo(){const{NAME:t}=ac();return Ui(t)}const s0=t=>({ids:t&1}),Is=t=>({ids:t[0]});function a0(t){let e;const n=t[12].default,o=he(n,t,t[11],Is);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,[r]){o&&o.p&&(!e||r&2049)&&ge(o,n,i,i[11],e?_e(n,i[11],r,s0):be(i[11]),Is)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function u0(t,e,n){let o,{$$slots:i={},$$scope:r}=e,{preventScroll:l=void 0}=e,{closeOnEscape:a=void 0}=e,{closeOnOutsideClick:s=void 0}=e,{portal:u=void 0}=e,{open:f=void 0}=e,{onOpenChange:c=void 0}=e,{openFocus:d=void 0}=e,{closeFocus:p=void 0}=e,{onOutsideClick:m=void 0}=e;const{states:{open:_},updateOption:b,ids:v}=l0({closeOnEscape:a,preventScroll:l,closeOnOutsideClick:s,portal:u,forceVisible:!0,defaultOpen:f,openFocus:d,closeFocus:p,onOutsideClick:m,onOpenChange:({next:k})=>(f!==k&&(c==null||c(k),n(2,f=k)),k)}),h=en([v.content,v.description,v.title],([k,T,P])=>({content:k,description:T,title:P}));return le(t,h,k=>n(0,o=k)),t.$$set=k=>{"preventScroll"in k&&n(3,l=k.preventScroll),"closeOnEscape"in k&&n(4,a=k.closeOnEscape),"closeOnOutsideClick"in k&&n(5,s=k.closeOnOutsideClick),"portal"in k&&n(6,u=k.portal),"open"in k&&n(2,f=k.open),"onOpenChange"in k&&n(7,c=k.onOpenChange),"openFocus"in k&&n(8,d=k.openFocus),"closeFocus"in k&&n(9,p=k.closeFocus),"onOutsideClick"in k&&n(10,m=k.onOutsideClick),"$$scope"in k&&n(11,r=k.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&f!==void 0&&_.set(f),t.$$.dirty&8&&b("preventScroll",l),t.$$.dirty&16&&b("closeOnEscape",a),t.$$.dirty&32&&b("closeOnOutsideClick",s),t.$$.dirty&64&&b("portal",u),t.$$.dirty&256&&b("openFocus",d),t.$$.dirty&512&&b("closeFocus",p),t.$$.dirty&1024&&b("onOutsideClick",m)},[o,h,f,l,a,s,u,c,d,p,m,r,i]}class f0 extends pe{constructor(e){super(),me(this,e,u0,a0,fe,{preventScroll:3,closeOnEscape:4,closeOnOutsideClick:5,portal:6,open:2,onOpenChange:7,openFocus:8,closeFocus:9,onOutsideClick:10})}}const c0=t=>({builder:t&8}),Os=t=>({builder:t[3]}),d0=t=>({builder:t&8}),Ms=t=>({builder:t[3]});function m0(t){let e=t[1],n,o,i=t[1]&&br(t);return{c(){i&&i.c(),n=De()},m(r,l){i&&i.m(r,l),O(r,n,l),o=!0},p(r,l){r[1]?e?fe(e,r[1])?(i.d(1),i=br(r),e=r[1],i.c(),i.m(n.parentNode,n)):i.p(r,l):(i=br(r),e=r[1],i.c(),i.m(n.parentNode,n)):e&&(i.d(1),i=null,e=r[1])},i(r){o||(C(i,r),o=!0)},o(r){S(i,r),o=!1},d(r){r&&I(n),i&&i.d(r)}}}function p0(t){let e;const n=t[9].default,o=he(n,t,t[8],Ms);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&264)&&ge(o,n,i,i[8],e?_e(n,i[8],r,d0):be(i[8]),Ms)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function br(t){let e,n,o,i;const r=t[9].default,l=he(r,t,t[8],Os);let a=[t[3],t[5]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=M(t[1]),l&&l.c(),an(t[1])(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[10](e),n=!0,o||(i=We(t[3].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&264)&&ge(l,r,u,u[8],n?_e(r,u[8],f,c0):be(u[8]),Os),an(u[1])(e,s=Ce(a,[f&8&&u[3],f&32&&u[5]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&I(e),l&&l.d(u),t[10](null),o=!1,i()}}}function h0(t){let e,n,o,i;const r=[p0,m0],l=[];function a(s,u){return s[2]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),S(l[f],1,1,()=>{l[f]=null}),Pe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&I(o),l[e].d(s)}}}function _0(t,e,n){let o;const i=["level","asChild","id","el"];let r=re(e,i),l,{$$slots:a={},$$scope:s}=e,{level:u="h2"}=e,{asChild:f=!1}=e,{id:c=void 0}=e,{el:d=void 0}=e;const{elements:{title:p},ids:m,getAttrs:_}=fo();le(t,p,h=>n(7,l=h));const b=_("title");function v(h){Le[h?"unshift":"push"](()=>{d=h,n(0,d)})}return t.$$set=h=>{e=J(J({},e),$e(h)),n(5,r=re(e,i)),"level"in h&&n(1,u=h.level),"asChild"in h&&n(2,f=h.asChild),"id"in h&&n(6,c=h.id),"el"in h&&n(0,d=h.el),"$$scope"in h&&n(8,s=h.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&c&&m.title.set(c),t.$$.dirty&128&&n(3,o=l),t.$$.dirty&8&&Object.assign(o,b)},[d,u,f,o,p,r,c,l,s,a,v]}let g0=class extends pe{constructor(e){super(),me(this,e,_0,h0,fe,{level:1,asChild:2,id:6,el:0})}};const b0=t=>({builder:t&4}),Ps=t=>({builder:t[2]}),v0=t=>({builder:t&4}),Ns=t=>({builder:t[2]});function y0(t){let e,n,o,i;const r=t[8].default,l=he(r,t,t[7],Ps);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=M("button"),l&&l.c(),se(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[9](e),n=!0,o||(i=[We(t[2].action(e)),z(e,"m-click",t[4]),z(e,"m-keydown",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&ge(l,r,u,u[7],n?_e(r,u[7],f,b0):be(u[7]),Ps),se(e,s=Ce(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&I(e),l&&l.d(u),t[9](null),o=!1,Ve(i)}}}function w0(t){let e;const n=t[8].default,o=he(n,t,t[7],Ns);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&ge(o,n,i,i[7],e?_e(n,i[7],r,v0):be(i[7]),Ns)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function k0(t){let e,n,o,i;const r=[w0,y0],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),S(l[f],1,1,()=>{l[f]=null}),Pe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&I(o),l[e].d(s)}}}function C0(t,e,n){let o;const i=["asChild","el"];let r=re(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:d}=fo();le(t,c,b=>n(6,l=b));const p=Ln(),m=d("close");function _(b){Le[b?"unshift":"push"](()=>{f=b,n(0,f)})}return t.$$set=b=>{e=J(J({},e),$e(b)),n(5,r=re(e,i)),"asChild"in b&&n(1,u=b.asChild),"el"in b&&n(0,f=b.el),"$$scope"in b&&n(7,s=b.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,m)},[f,u,o,c,p,r,l,s,a,_]}class A0 extends pe{constructor(e){super(),me(this,e,C0,k0,fe,{asChild:1,el:0})}}const S0=t=>({builder:t&4}),Es=t=>({builder:t[2]}),T0=t=>({builder:t&4}),Rs=t=>({builder:t[2]});function I0(t){let e,n,o,i;const r=t[7].default,l=he(r,t,t[6],Es);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=M("div"),l&&l.c(),se(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[8](e),n=!0,o||(i=We(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&68)&&ge(l,r,u,u[6],n?_e(r,u[6],f,S0):be(u[6]),Es),se(e,s=Ce(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&I(e),l&&l.d(u),t[8](null),o=!1,i()}}}function O0(t){let e;const n=t[7].default,o=he(n,t,t[6],Rs);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&68)&&ge(o,n,i,i[6],e?_e(n,i[6],r,T0):be(i[6]),Rs)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function M0(t){let e,n,o,i;const r=[O0,I0],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),S(l[f],1,1,()=>{l[f]=null}),Pe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&I(o),l[e].d(s)}}}function P0(t,e,n){let o;const i=["asChild","el"];let r=re(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{portalled:c},getAttrs:d}=fo();le(t,c,_=>n(5,l=_));const p=d("portal");function m(_){Le[_?"unshift":"push"](()=>{f=_,n(0,f)})}return t.$$set=_=>{e=J(J({},e),$e(_)),n(4,r=re(e,i)),"asChild"in _&&n(1,u=_.asChild),"el"in _&&n(0,f=_.el),"$$scope"in _&&n(6,s=_.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,p)},[f,u,o,c,r,l,s,a,m]}let N0=class extends pe{constructor(e){super(),me(this,e,P0,M0,fe,{asChild:1,el:0})}};const E0=t=>({builder:t[0]&256}),Ls=t=>({builder:t[8]}),R0=t=>({builder:t[0]&256}),Ds=t=>({builder:t[8]}),L0=t=>({builder:t[0]&256}),$s=t=>({builder:t[8]}),D0=t=>({builder:t[0]&256}),qs=t=>({builder:t[8]}),$0=t=>({builder:t[0]&256}),Fs=t=>({builder:t[8]}),q0=t=>({builder:t[0]&256}),Bs=t=>({builder:t[8]});function F0(t){let e,n,o,i;const r=t[16].default,l=he(r,t,t[15],Ls);let a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=M("div"),l&&l.c(),se(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[56](e),n=!0,o||(i=[We(t[8].action(e)),z(e,"pointerdown",t[45]),z(e,"pointermove",t[46]),z(e,"pointerup",t[47]),z(e,"touchend",t[48]),z(e,"touchstart",t[49]),z(e,"touchcancel",t[50]),z(e,"touchmove",t[51])],o=!0)},p(u,f){l&&l.p&&(!n||f[0]&33024)&&ge(l,r,u,u[15],n?_e(r,u[15],f,E0):be(u[15]),Ls),se(e,s=Ce(a,[f[0]&256&&u[8],f[0]&4096&&u[12]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&I(e),l&&l.d(u),t[56](null),o=!1,Ve(i)}}}function B0(t){let e,n,o,i,r;const l=t[16].default,a=he(l,t,t[15],Ds);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=J(u,s[f]);return{c(){e=M("div"),a&&a.c(),se(e,u)},m(f,c){O(f,e,c),a&&a.m(e,null),t[55](e),o=!0,i||(r=[We(t[8].action(e)),z(e,"pointerdown",t[38]),z(e,"pointermove",t[39]),z(e,"pointerup",t[40]),z(e,"touchend",t[41]),z(e,"touchstart",t[42]),z(e,"touchcancel",t[43]),z(e,"touchmove",t[44])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&ge(a,l,t,t[15],o?_e(l,t[15],c,R0):be(t[15]),Ds),se(e,u=Ce(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(C(a,f),n&&n.end(1),o=!0)},o(f){S(a,f),f&&(n=Wt(e,t[5],t[6])),o=!1},d(f){f&&I(e),a&&a.d(f),t[55](null),f&&n&&n.end(),i=!1,Ve(r)}}}function j0(t){let e,n,o,i,r;const l=t[16].default,a=he(l,t,t[15],$s);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=J(u,s[f]);return{c(){e=M("div"),a&&a.c(),se(e,u)},m(f,c){O(f,e,c),a&&a.m(e,null),t[54](e),o=!0,i||(r=[We(t[8].action(e)),z(e,"pointerdown",t[31]),z(e,"pointermove",t[32]),z(e,"pointerup",t[33]),z(e,"touchend",t[34]),z(e,"touchstart",t[35]),z(e,"touchcancel",t[36]),z(e,"touchmove",t[37])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&ge(a,l,t,t[15],o?_e(l,t[15],c,L0):be(t[15]),$s),se(e,u=Ce(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(C(a,f),f&&(n||lt(()=>{n=Vt(e,t[3],t[4]),n.start()})),o=!0)},o(f){S(a,f),o=!1},d(f){f&&I(e),a&&a.d(f),t[54](null),i=!1,Ve(r)}}}function H0(t){let e,n,o,i,r,l;const a=t[16].default,s=he(a,t,t[15],qs);let u=[t[8],t[12]],f={};for(let c=0;c<u.length;c+=1)f=J(f,u[c]);return{c(){e=M("div"),s&&s.c(),se(e,f)},m(c,d){O(c,e,d),s&&s.m(e,null),t[53](e),i=!0,r||(l=[We(t[8].action(e)),z(e,"pointerdown",t[24]),z(e,"pointermove",t[25]),z(e,"pointerup",t[26]),z(e,"touchend",t[27]),z(e,"touchstart",t[28]),z(e,"touchcancel",t[29]),z(e,"touchmove",t[30])],r=!0)},p(c,d){t=c,s&&s.p&&(!i||d[0]&33024)&&ge(s,a,t,t[15],i?_e(a,t[15],d,D0):be(t[15]),qs),se(e,f=Ce(u,[d[0]&256&&t[8],d[0]&4096&&t[12]]))},i(c){i||(C(s,c),c&&lt(()=>{i&&(o&&o.end(1),n=Vt(e,t[3],t[4]),n.start())}),i=!0)},o(c){S(s,c),n&&n.invalidate(),c&&(o=Wt(e,t[5],t[6])),i=!1},d(c){c&&I(e),s&&s.d(c),t[53](null),c&&o&&o.end(),r=!1,Ve(l)}}}function G0(t){let e,n,o,i,r;const l=t[16].default,a=he(l,t,t[15],Fs);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=J(u,s[f]);return{c(){e=M("div"),a&&a.c(),se(e,u)},m(f,c){O(f,e,c),a&&a.m(e,null),t[52](e),o=!0,i||(r=[We(t[8].action(e)),z(e,"pointerdown",t[17]),z(e,"pointermove",t[18]),z(e,"pointerup",t[19]),z(e,"touchend",t[20]),z(e,"touchstart",t[21]),z(e,"touchcancel",t[22]),z(e,"touchmove",t[23])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&ge(a,l,t,t[15],o?_e(l,t[15],c,$0):be(t[15]),Fs),se(e,u=Ce(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(C(a,f),f&&lt(()=>{o&&(n||(n=Ht(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(f){S(a,f),f&&(n||(n=Ht(e,t[1],t[2],!1)),n.run(0)),o=!1},d(f){f&&I(e),a&&a.d(f),t[52](null),f&&n&&n.end(),i=!1,Ve(r)}}}function V0(t){let e;const n=t[16].default,o=he(n,t,t[15],Bs);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r[0]&33024)&&ge(o,n,i,i[15],e?_e(n,i[15],r,q0):be(i[15]),Bs)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function W0(t){let e,n,o,i;const r=[V0,G0,H0,j0,B0,F0],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=De()},m(s,u){~e&&l[e].m(s,u),O(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Me(),S(l[f],1,1,()=>{l[f]=null}),Pe()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&I(o),~e&&l[e].d(s)}}}function Y0(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","id","el"];let r=re(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:p=void 0}=e,{outTransition:m=void 0}=e,{outTransitionConfig:_=void 0}=e,{asChild:b=!1}=e,{id:v=void 0}=e,{el:h=void 0}=e;const{elements:{content:k},states:{open:T},ids:P,getAttrs:N}=fo();le(t,k,j=>n(14,l=j)),le(t,T,j=>n(9,a=j));const D=N("content");function B(j){oe.call(this,t,j)}function q(j){oe.call(this,t,j)}function G(j){oe.call(this,t,j)}function E(j){oe.call(this,t,j)}function w(j){oe.call(this,t,j)}function A(j){oe.call(this,t,j)}function $(j){oe.call(this,t,j)}function V(j){oe.call(this,t,j)}function R(j){oe.call(this,t,j)}function x(j){oe.call(this,t,j)}function X(j){oe.call(this,t,j)}function Q(j){oe.call(this,t,j)}function ne(j){oe.call(this,t,j)}function ae(j){oe.call(this,t,j)}function we(j){oe.call(this,t,j)}function Ne(j){oe.call(this,t,j)}function Fe(j){oe.call(this,t,j)}function ee(j){oe.call(this,t,j)}function g(j){oe.call(this,t,j)}function K(j){oe.call(this,t,j)}function Z(j){oe.call(this,t,j)}function ie(j){oe.call(this,t,j)}function ce(j){oe.call(this,t,j)}function Te(j){oe.call(this,t,j)}function Oe(j){oe.call(this,t,j)}function xe(j){oe.call(this,t,j)}function de(j){oe.call(this,t,j)}function Ie(j){oe.call(this,t,j)}function je(j){oe.call(this,t,j)}function Je(j){oe.call(this,t,j)}function Ke(j){oe.call(this,t,j)}function He(j){oe.call(this,t,j)}function ke(j){oe.call(this,t,j)}function ve(j){oe.call(this,t,j)}function Ee(j){oe.call(this,t,j)}function Qe(j){Le[j?"unshift":"push"](()=>{h=j,n(0,h)})}function st(j){Le[j?"unshift":"push"](()=>{h=j,n(0,h)})}function rt(j){Le[j?"unshift":"push"](()=>{h=j,n(0,h)})}function ye(j){Le[j?"unshift":"push"](()=>{h=j,n(0,h)})}function Ze(j){Le[j?"unshift":"push"](()=>{h=j,n(0,h)})}return t.$$set=j=>{e=J(J({},e),$e(j)),n(12,r=re(e,i)),"transition"in j&&n(1,f=j.transition),"transitionConfig"in j&&n(2,c=j.transitionConfig),"inTransition"in j&&n(3,d=j.inTransition),"inTransitionConfig"in j&&n(4,p=j.inTransitionConfig),"outTransition"in j&&n(5,m=j.outTransition),"outTransitionConfig"in j&&n(6,_=j.outTransitionConfig),"asChild"in j&&n(7,b=j.asChild),"id"in j&&n(13,v=j.id),"el"in j&&n(0,h=j.el),"$$scope"in j&&n(15,u=j.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&8192&&v&&P.content.set(v),t.$$.dirty[0]&16384&&n(8,o=l),t.$$.dirty[0]&256&&Object.assign(o,D)},[h,f,c,d,p,m,_,b,o,a,k,T,r,v,l,u,s,B,q,G,E,w,A,$,V,R,x,X,Q,ne,ae,we,Ne,Fe,ee,g,K,Z,ie,ce,Te,Oe,xe,de,Ie,je,Je,Ke,He,ke,ve,Ee,Qe,st,rt,ye,Ze]}let U0=class extends pe{constructor(e){super(),me(this,e,Y0,W0,fe,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,id:13,el:0},null,[-1,-1])}};const K0=t=>({builder:t&256}),js=t=>({builder:t[8]});function x0(t){let e,n,o,i=[t[8],t[12]],r={};for(let l=0;l<i.length;l+=1)r=J(r,i[l]);return{c(){e=M("div"),se(e,r)},m(l,a){O(l,e,a),t[25](e),n||(o=[We(t[8].action(e)),z(e,"mouseup",t[20])],n=!0)},p(l,a){se(e,r=Ce(i,[a&256&&l[8],a&4096&&l[12]]))},i:Se,o:Se,d(l){l&&I(e),t[25](null),n=!1,Ve(o)}}}function X0(t){let e,n,o,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=J(a,l[s]);return{c(){e=M("div"),se(e,a)},m(s,u){O(s,e,u),t[24](e),o=!0,i||(r=[We(t[8].action(e)),z(e,"mouseup",t[19])],i=!0)},p(s,u){t=s,se(e,a=Ce(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(n&&n.end(1),o=!0)},o(s){s&&(n=Wt(e,t[5],t[6])),o=!1},d(s){s&&I(e),t[24](null),s&&n&&n.end(),i=!1,Ve(r)}}}function J0(t){let e,n,o,i,r=[t[8],t[12]],l={};for(let a=0;a<r.length;a+=1)l=J(l,r[a]);return{c(){e=M("div"),se(e,l)},m(a,s){O(a,e,s),t[23](e),o||(i=[We(t[8].action(e)),z(e,"mouseup",t[18])],o=!0)},p(a,s){t=a,se(e,l=Ce(r,[s&256&&t[8],s&4096&&t[12]]))},i(a){a&&(n||lt(()=>{n=Vt(e,t[3],t[4]),n.start()}))},o:Se,d(a){a&&I(e),t[23](null),o=!1,Ve(i)}}}function Z0(t){let e,n,o,i,r,l,a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=M("div"),se(e,s)},m(u,f){O(u,e,f),t[22](e),i=!0,r||(l=[We(t[8].action(e)),z(e,"mouseup",t[17])],r=!0)},p(u,f){t=u,se(e,s=Ce(a,[f&256&&t[8],f&4096&&t[12]]))},i(u){i||(u&&lt(()=>{i&&(o&&o.end(1),n=Vt(e,t[3],t[4]),n.start())}),i=!0)},o(u){n&&n.invalidate(),u&&(o=Wt(e,t[5],t[6])),i=!1},d(u){u&&I(e),t[22](null),u&&o&&o.end(),r=!1,Ve(l)}}}function Q0(t){let e,n,o,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=J(a,l[s]);return{c(){e=M("div"),se(e,a)},m(s,u){O(s,e,u),t[21](e),o=!0,i||(r=[z(e,"mouseup",t[16]),We(t[8].action(e))],i=!0)},p(s,u){t=s,se(e,a=Ce(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(s&&lt(()=>{o&&(n||(n=Ht(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(s){s&&(n||(n=Ht(e,t[1],t[2],!1)),n.run(0)),o=!1},d(s){s&&I(e),t[21](null),s&&n&&n.end(),i=!1,Ve(r)}}}function z0(t){let e;const n=t[15].default,o=he(n,t,t[14],js);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&16640)&&ge(o,n,i,i[14],e?_e(n,i[14],r,K0):be(i[14]),js)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function eg(t){let e,n,o,i;const r=[z0,Q0,Z0,J0,X0,x0],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=De()},m(s,u){~e&&l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Me(),S(l[f],1,1,()=>{l[f]=null}),Pe()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&I(o),~e&&l[e].d(s)}}}function tg(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","el"];let r=re(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:p=void 0}=e,{outTransition:m=void 0}=e,{outTransitionConfig:_=void 0}=e,{asChild:b=!1}=e,{el:v=void 0}=e;const{elements:{overlay:h},states:{open:k},getAttrs:T}=fo();le(t,h,R=>n(13,l=R)),le(t,k,R=>n(9,a=R));const P=T("overlay");function N(R){oe.call(this,t,R)}function D(R){oe.call(this,t,R)}function B(R){oe.call(this,t,R)}function q(R){oe.call(this,t,R)}function G(R){oe.call(this,t,R)}function E(R){Le[R?"unshift":"push"](()=>{v=R,n(0,v)})}function w(R){Le[R?"unshift":"push"](()=>{v=R,n(0,v)})}function A(R){Le[R?"unshift":"push"](()=>{v=R,n(0,v)})}function $(R){Le[R?"unshift":"push"](()=>{v=R,n(0,v)})}function V(R){Le[R?"unshift":"push"](()=>{v=R,n(0,v)})}return t.$$set=R=>{e=J(J({},e),$e(R)),n(12,r=re(e,i)),"transition"in R&&n(1,f=R.transition),"transitionConfig"in R&&n(2,c=R.transitionConfig),"inTransition"in R&&n(3,d=R.inTransition),"inTransitionConfig"in R&&n(4,p=R.inTransitionConfig),"outTransition"in R&&n(5,m=R.outTransition),"outTransitionConfig"in R&&n(6,_=R.outTransitionConfig),"asChild"in R&&n(7,b=R.asChild),"el"in R&&n(0,v=R.el),"$$scope"in R&&n(14,u=R.$$scope)},t.$$.update=()=>{t.$$.dirty&8192&&n(8,o=l),t.$$.dirty&256&&Object.assign(o,P)},[v,f,c,d,p,m,_,b,o,a,h,k,r,l,u,s,N,D,B,q,G,E,w,A,$,V]}let ng=class extends pe{constructor(e){super(),me(this,e,tg,eg,fe,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,el:0})}};const og=t=>({builder:t&4}),Hs=t=>({builder:t[2]}),ig=t=>({builder:t&4}),Gs=t=>({builder:t[2]});function rg(t){let e,n,o,i;const r=t[8].default,l=he(r,t,t[7],Hs);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=M("div"),l&&l.c(),se(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[9](e),n=!0,o||(i=We(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&ge(l,r,u,u[7],n?_e(r,u[7],f,og):be(u[7]),Hs),se(e,s=Ce(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&I(e),l&&l.d(u),t[9](null),o=!1,i()}}}function lg(t){let e;const n=t[8].default,o=he(n,t,t[7],Gs);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&ge(o,n,i,i[7],e?_e(n,i[7],r,ig):be(i[7]),Gs)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function sg(t){let e,n,o,i;const r=[lg,rg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),S(l[f],1,1,()=>{l[f]=null}),Pe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&I(o),l[e].d(s)}}}function ag(t,e,n){let o;const i=["asChild","id","el"];let r=re(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{description:d},ids:p,getAttrs:m}=fo();le(t,d,v=>n(6,l=v));const _=m("description");function b(v){Le[v?"unshift":"push"](()=>{c=v,n(0,c)})}return t.$$set=v=>{e=J(J({},e),$e(v)),n(4,r=re(e,i)),"asChild"in v&&n(1,u=v.asChild),"id"in v&&n(5,f=v.id),"el"in v&&n(0,c=v.el),"$$scope"in v&&n(7,s=v.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f&&p.description.set(f),t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,_)},[c,u,o,d,r,f,l,s,a,b]}let ug=class extends pe{constructor(e){super(),me(this,e,ag,sg,fe,{asChild:1,id:5,el:0})}};function fg(){const t="label",n=Rn(t,["root"]);return{NAME:t,getAttrs:n}}const cg=t=>({builder:t&4}),Vs=t=>({builder:t[2]}),dg=t=>({builder:t&4}),Ws=t=>({builder:t[2]});function mg(t){let e,n,o,i;const r=t[8].default,l=he(r,t,t[7],Vs);let a=[t[2],t[5]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=M("label"),l&&l.c(),se(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[9](e),n=!0,o||(i=[We(t[2].action(e)),z(e,"m-mousedown",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&ge(l,r,u,u[7],n?_e(r,u[7],f,cg):be(u[7]),Vs),se(e,s=Ce(a,[f&4&&u[2],f&32&&u[5]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&I(e),l&&l.d(u),t[9](null),o=!1,Ve(i)}}}function pg(t){let e;const n=t[8].default,o=he(n,t,t[7],Ws);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&ge(o,n,i,i[7],e?_e(n,i[7],r,dg):be(i[7]),Ws)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function hg(t){let e,n,o,i;const r=[pg,mg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),S(l[f],1,1,()=>{l[f]=null}),Pe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&I(o),l[e].d(s)}}}function _g(t,e,n){let o;const i=["asChild","el"];let r=re(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{root:c}}=vh();le(t,c,b=>n(6,l=b));const d=Ln(),{getAttrs:p}=fg(),m=p("root");function _(b){Le[b?"unshift":"push"](()=>{f=b,n(0,f)})}return t.$$set=b=>{e=J(J({},e),$e(b)),n(5,r=re(e,i)),"asChild"in b&&n(1,u=b.asChild),"el"in b&&n(0,f=b.el),"$$scope"in b&&n(7,s=b.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,m)},[f,u,o,c,d,r,l,s,a,_]}let gg=class extends pe{constructor(e){super(),me(this,e,_g,hg,fe,{asChild:1,el:0})}};function bg(){return{NAME:"progress",PARTS:["root"]}}function vg(t){const{NAME:e,PARTS:n}=bg(),o=Rn(e,n),i={...Ah(uo(t)),getAttrs:o};return{...i,updateOption:Mn(i.options)}}const yg=t=>({builder:t&4}),Ys=t=>({builder:t[2]}),wg=t=>({builder:t&4}),Us=t=>({builder:t[2]});function kg(t){let e,n,o,i;const r=t[10].default,l=he(r,t,t[9],Ys);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=M("div"),l&&l.c(),se(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[11](e),n=!0,o||(i=We(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&516)&&ge(l,r,u,u[9],n?_e(r,u[9],f,yg):be(u[9]),Ys),se(e,s=Ce(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&I(e),l&&l.d(u),t[11](null),o=!1,i()}}}function Cg(t){let e;const n=t[10].default,o=he(n,t,t[9],Us);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&516)&&ge(o,n,i,i[9],e?_e(n,i[9],r,wg):be(i[9]),Us)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Ag(t){let e,n,o,i;const r=[Cg,kg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),S(l[f],1,1,()=>{l[f]=null}),Pe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&I(o),l[e].d(s)}}}function Sg(t,e,n){let o;const i=["max","value","onValueChange","asChild","el"];let r=re(e,i),l,{$$slots:a={},$$scope:s}=e,{max:u=void 0}=e,{value:f=void 0}=e,{onValueChange:c=void 0}=e,{asChild:d=!1}=e,{el:p=void 0}=e;const{elements:{root:m},states:{value:_},updateOption:b,getAttrs:v}=vg({max:u,defaultValue:f,onValueChange:({next:T})=>(c==null||c(T),n(5,f=T),T)});le(t,m,T=>n(8,l=T));const h=v("root");function k(T){Le[T?"unshift":"push"](()=>{p=T,n(0,p)})}return t.$$set=T=>{e=J(J({},e),$e(T)),n(4,r=re(e,i)),"max"in T&&n(6,u=T.max),"value"in T&&n(5,f=T.value),"onValueChange"in T&&n(7,c=T.onValueChange),"asChild"in T&&n(1,d=T.asChild),"el"in T&&n(0,p=T.el),"$$scope"in T&&n(9,s=T.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f!==void 0&&_.set(f),t.$$.dirty&64&&b("max",u),t.$$.dirty&256&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,h)},[p,d,o,m,r,f,u,c,l,s,a,k]}let Tg=class extends pe{constructor(e){super(),me(this,e,Sg,Ag,fe,{max:6,value:5,onValueChange:7,asChild:1,el:0})}};function uc(){return{NAME:"slider",PARTS:["root","input","range","thumb","tick"]}}function Ig(t){const{NAME:e,PARTS:n}=uc(),o=Rn(e,n),i={...Oh(uo(t)),getAttrs:o};return Yi(e,i),{...i,updateOption:Mn(i.options)}}function fc(){const{NAME:t}=uc();return Ui(t)}const Og=t=>({builder:t&4,ticks:t&8,thumbs:t&16}),Ks=t=>({builder:t[2],ticks:t[3],thumbs:t[4]}),Mg=t=>({builder:t&4,ticks:t&8,thumbs:t&16}),xs=t=>({builder:t[2],ticks:t[3],thumbs:t[4]});function Pg(t){let e,n,o,i;const r=t[18].default,l=he(r,t,t[17],Ks);let a=[t[2],t[8]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=M("span"),l&&l.c(),se(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[19](e),n=!0,o||(i=We(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&131100)&&ge(l,r,u,u[17],n?_e(r,u[17],f,Og):be(u[17]),Ks),se(e,s=Ce(a,[f&4&&u[2],f&256&&u[8]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&I(e),l&&l.d(u),t[19](null),o=!1,i()}}}function Ng(t){let e;const n=t[18].default,o=he(n,t,t[17],xs);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&131100)&&ge(o,n,i,i[17],e?_e(n,i[17],r,Mg):be(i[17]),xs)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Eg(t){let e,n,o,i;const r=[Ng,Pg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),S(l[f],1,1,()=>{l[f]=null}),Pe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&I(o),l[e].d(s)}}}function Rg(t,e,n){let o;const i=["disabled","min","max","step","orientation","value","onValueChange","asChild","el"];let r=re(e,i),l,a,s,{$$slots:u={},$$scope:f}=e,{disabled:c=void 0}=e,{min:d=void 0}=e,{max:p=void 0}=e,{step:m=void 0}=e,{orientation:_=void 0}=e,{value:b=void 0}=e,{onValueChange:v=void 0}=e,{asChild:h=!1}=e,{el:k=void 0}=e;const{elements:{root:T,ticks:P,thumbs:N},states:{value:D},updateOption:B,getAttrs:q}=Ig({disabled:c,min:d,max:p,step:m,orientation:_,defaultValue:b,onValueChange:({next:w})=>(b!==w&&(v==null||v(w),n(9,b=w)),w)});le(t,T,w=>n(16,l=w)),le(t,P,w=>n(3,a=w)),le(t,N,w=>n(4,s=w));const G=q("root");function E(w){Le[w?"unshift":"push"](()=>{k=w,n(0,k)})}return t.$$set=w=>{e=J(J({},e),$e(w)),n(8,r=re(e,i)),"disabled"in w&&n(10,c=w.disabled),"min"in w&&n(11,d=w.min),"max"in w&&n(12,p=w.max),"step"in w&&n(13,m=w.step),"orientation"in w&&n(14,_=w.orientation),"value"in w&&n(9,b=w.value),"onValueChange"in w&&n(15,v=w.onValueChange),"asChild"in w&&n(1,h=w.asChild),"el"in w&&n(0,k=w.el),"$$scope"in w&&n(17,f=w.$$scope)},t.$$.update=()=>{t.$$.dirty&512&&b!==void 0&&D.set(b),t.$$.dirty&1024&&B("disabled",c),t.$$.dirty&2048&&B("min",d),t.$$.dirty&4096&&B("max",p),t.$$.dirty&8192&&B("step",m),t.$$.dirty&16384&&B("orientation",_),t.$$.dirty&65536&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,G)},[k,h,o,a,s,T,P,N,r,b,c,d,p,m,_,v,l,f,u,E]}let Lg=class extends pe{constructor(e){super(),me(this,e,Rg,Eg,fe,{disabled:10,min:11,max:12,step:13,orientation:14,value:9,onValueChange:15,asChild:1,el:0})}};const Dg=t=>({builder:t&4}),Xs=t=>({builder:t[2]});function $g(t){let e,n,o,i=[t[2],t[4]],r={};for(let l=0;l<i.length;l+=1)r=J(r,i[l]);return{c(){e=M("span"),se(e,r)},m(l,a){O(l,e,a),t[8](e),n||(o=We(t[2].action(e)),n=!0)},p(l,a){se(e,r=Ce(i,[a&4&&l[2],a&16&&l[4]]))},i:Se,o:Se,d(l){l&&I(e),t[8](null),n=!1,o()}}}function qg(t){let e;const n=t[7].default,o=he(n,t,t[6],Xs);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&68)&&ge(o,n,i,i[6],e?_e(n,i[6],r,Dg):be(i[6]),Xs)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Fg(t){let e,n,o,i;const r=[qg,$g],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),S(l[f],1,1,()=>{l[f]=null}),Pe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&I(o),l[e].d(s)}}}function Bg(t,e,n){let o;const i=["asChild","el"];let r=re(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{range:c},getAttrs:d}=fc();le(t,c,_=>n(5,l=_));const p=d("range");function m(_){Le[_?"unshift":"push"](()=>{f=_,n(0,f)})}return t.$$set=_=>{e=J(J({},e),$e(_)),n(4,r=re(e,i)),"asChild"in _&&n(1,u=_.asChild),"el"in _&&n(0,f=_.el),"$$scope"in _&&n(6,s=_.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,p)},[f,u,o,c,r,l,s,a,m]}class jg extends pe{constructor(e){super(),me(this,e,Bg,Fg,fe,{asChild:1,el:0})}}const Hg=t=>({builder:t&4}),Js=t=>({builder:t[2]});function Gg(t){let e,n,o,i=[t[2],t[4]],r={};for(let l=0;l<i.length;l+=1)r=J(r,i[l]);return{c(){e=M("span"),se(e,r)},m(l,a){O(l,e,a),t[8](e),n||(o=[We(t[2].action(e)),z(e,"m-keydown",t[3])],n=!0)},p(l,a){se(e,r=Ce(i,[a&4&&l[2],a&16&&l[4]]))},i:Se,o:Se,d(l){l&&I(e),t[8](null),n=!1,Ve(o)}}}function Vg(t){let e;const n=t[7].default,o=he(n,t,t[6],Js);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&68)&&ge(o,n,i,i[6],e?_e(n,i[6],r,Hg):be(i[6]),Js)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Wg(t){let e,n,o,i;const r=[Vg,Gg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),S(l[f],1,1,()=>{l[f]=null}),Pe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&I(o),l[e].d(s)}}}function Yg(t,e,n){let o;const i=["asChild","el","thumb"];let r=re(e,i),{$$slots:l={},$$scope:a}=e,{asChild:s=!1}=e,{el:u=void 0}=e,{thumb:f}=e;const{getAttrs:c}=fc(),d=Ln(),p=c("thumb");function m(_){Le[_?"unshift":"push"](()=>{u=_,n(0,u)})}return t.$$set=_=>{e=J(J({},e),$e(_)),n(4,r=re(e,i)),"asChild"in _&&n(1,s=_.asChild),"el"in _&&n(0,u=_.el),"thumb"in _&&n(5,f=_.thumb),"$$scope"in _&&n(6,a=_.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=f),t.$$.dirty&4&&Object.assign(o,p)},[u,s,o,d,r,f,a,l,m]}class Ug extends pe{constructor(e){super(),me(this,e,Yg,Wg,fe,{asChild:1,el:0,thumb:5})}}function cc(){return{NAME:"tooltip",PARTS:["arrow","content","trigger"]}}function Kg(t){const{NAME:e,PARTS:n}=cc(),o=Rn(e,n),i={...Nh({positioning:{placement:"top",gutter:0},openDelay:700,...uo(t),forceVisible:!0}),getAttrs:o};return Yi(e,i),{...i,updateOption:Mn(i.options)}}function vl(){const{NAME:t}=cc();return Ui(t)}function xg(t){const n={...{side:"top",align:"center",sideOffset:1},...t},{options:{positioning:o}}=vl();X_(o)({...n})}const Xg=t=>({ids:t&1}),Zs=t=>({ids:t[0]});function Jg(t){let e;const n=t[12].default,o=he(n,t,t[11],Zs);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,[r]){o&&o.p&&(!e||r&2049)&&ge(o,n,i,i[11],e?_e(n,i[11],r,Xg):be(i[11]),Zs)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Zg(t,e,n){let o,{$$slots:i={},$$scope:r}=e,{closeOnEscape:l=void 0}=e,{portal:a=void 0}=e,{closeOnPointerDown:s=void 0}=e,{openDelay:u=void 0}=e,{closeDelay:f=void 0}=e,{open:c=void 0}=e,{onOpenChange:d=void 0}=e,{disableHoverableContent:p=void 0}=e,{group:m=void 0}=e;const{states:{open:_},updateOption:b,ids:v}=Kg({closeOnEscape:l,portal:a,closeOnPointerDown:s,openDelay:u,closeDelay:f,forceVisible:!0,defaultOpen:c,disableHoverableContent:p,group:m,onOpenChange:({next:k})=>(c!==k&&(d==null||d(k),n(2,c=k)),k),positioning:{gutter:0,offset:{mainAxis:1}}}),h=en([v.content,v.trigger],([k,T])=>({content:k,trigger:T}));return le(t,h,k=>n(0,o=k)),t.$$set=k=>{"closeOnEscape"in k&&n(3,l=k.closeOnEscape),"portal"in k&&n(4,a=k.portal),"closeOnPointerDown"in k&&n(5,s=k.closeOnPointerDown),"openDelay"in k&&n(6,u=k.openDelay),"closeDelay"in k&&n(7,f=k.closeDelay),"open"in k&&n(2,c=k.open),"onOpenChange"in k&&n(8,d=k.onOpenChange),"disableHoverableContent"in k&&n(9,p=k.disableHoverableContent),"group"in k&&n(10,m=k.group),"$$scope"in k&&n(11,r=k.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&c!==void 0&&_.set(c),t.$$.dirty&8&&b("closeOnEscape",l),t.$$.dirty&16&&b("portal",a),t.$$.dirty&32&&b("closeOnPointerDown",s),t.$$.dirty&64&&b("openDelay",u),t.$$.dirty&128&&b("closeDelay",f),t.$$.dirty&1024&&b("group",m),t.$$.dirty&512&&b("disableHoverableContent",p)},[o,h,c,l,a,s,u,f,d,p,m,r,i]}class Qg extends pe{constructor(e){super(),me(this,e,Zg,Jg,fe,{closeOnEscape:3,portal:4,closeOnPointerDown:5,openDelay:6,closeDelay:7,open:2,onOpenChange:8,disableHoverableContent:9,group:10})}}const zg=t=>({builder:t[0]&256}),Qs=t=>({builder:t[8]}),e1=t=>({builder:t[0]&256}),zs=t=>({builder:t[8]}),t1=t=>({builder:t[0]&256}),ea=t=>({builder:t[8]}),n1=t=>({builder:t[0]&256}),ta=t=>({builder:t[8]}),o1=t=>({builder:t[0]&256}),na=t=>({builder:t[8]}),i1=t=>({builder:t[0]&256}),oa=t=>({builder:t[8]});function r1(t){let e,n,o,i;const r=t[28].default,l=he(r,t,t[27],Qs);let a=[t[8],t[13]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=M("div"),l&&l.c(),se(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),t[33](e),n=!0,o||(i=[We(t[8].action(e)),z(e,"m-pointerdown",t[12]),z(e,"m-pointerenter",t[12])],o=!0)},p(u,f){l&&l.p&&(!n||f[0]&134217984)&&ge(l,r,u,u[27],n?_e(r,u[27],f,zg):be(u[27]),Qs),se(e,s=Ce(a,[f[0]&256&&u[8],f[0]&8192&&u[13]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&I(e),l&&l.d(u),t[33](null),o=!1,Ve(i)}}}function l1(t){let e,n,o,i,r;const l=t[28].default,a=he(l,t,t[27],zs);let s=[t[8],t[13]],u={};for(let f=0;f<s.length;f+=1)u=J(u,s[f]);return{c(){e=M("div"),a&&a.c(),se(e,u)},m(f,c){O(f,e,c),a&&a.m(e,null),t[32](e),o=!0,i||(r=[We(t[8].action(e)),z(e,"m-pointerdown",t[12]),z(e,"m-pointerenter",t[12])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&134217984)&&ge(a,l,t,t[27],o?_e(l,t[27],c,e1):be(t[27]),zs),se(e,u=Ce(s,[c[0]&256&&t[8],c[0]&8192&&t[13]]))},i(f){o||(C(a,f),n&&n.end(1),o=!0)},o(f){S(a,f),f&&(n=Wt(e,t[5],t[6])),o=!1},d(f){f&&I(e),a&&a.d(f),t[32](null),f&&n&&n.end(),i=!1,Ve(r)}}}function s1(t){let e,n,o,i,r;const l=t[28].default,a=he(l,t,t[27],ea);let s=[t[8],t[13]],u={};for(let f=0;f<s.length;f+=1)u=J(u,s[f]);return{c(){e=M("div"),a&&a.c(),se(e,u)},m(f,c){O(f,e,c),a&&a.m(e,null),t[31](e),o=!0,i||(r=[We(t[8].action(e)),z(e,"m-pointerdown",t[12]),z(e,"m-pointerenter",t[12])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&134217984)&&ge(a,l,t,t[27],o?_e(l,t[27],c,t1):be(t[27]),ea),se(e,u=Ce(s,[c[0]&256&&t[8],c[0]&8192&&t[13]]))},i(f){o||(C(a,f),f&&(n||lt(()=>{n=Vt(e,t[3],t[4]),n.start()})),o=!0)},o(f){S(a,f),o=!1},d(f){f&&I(e),a&&a.d(f),t[31](null),i=!1,Ve(r)}}}function a1(t){let e,n,o,i,r,l;const a=t[28].default,s=he(a,t,t[27],ta);let u=[t[8],t[13]],f={};for(let c=0;c<u.length;c+=1)f=J(f,u[c]);return{c(){e=M("div"),s&&s.c(),se(e,f)},m(c,d){O(c,e,d),s&&s.m(e,null),t[30](e),i=!0,r||(l=[We(t[8].action(e)),z(e,"m-pointerdown",t[12]),z(e,"m-pointerenter",t[12])],r=!0)},p(c,d){t=c,s&&s.p&&(!i||d[0]&134217984)&&ge(s,a,t,t[27],i?_e(a,t[27],d,n1):be(t[27]),ta),se(e,f=Ce(u,[d[0]&256&&t[8],d[0]&8192&&t[13]]))},i(c){i||(C(s,c),c&&lt(()=>{i&&(o&&o.end(1),n=Vt(e,t[3],t[4]),n.start())}),i=!0)},o(c){S(s,c),n&&n.invalidate(),c&&(o=Wt(e,t[5],t[6])),i=!1},d(c){c&&I(e),s&&s.d(c),t[30](null),c&&o&&o.end(),r=!1,Ve(l)}}}function u1(t){let e,n,o,i,r;const l=t[28].default,a=he(l,t,t[27],na);let s=[t[8],t[13]],u={};for(let f=0;f<s.length;f+=1)u=J(u,s[f]);return{c(){e=M("div"),a&&a.c(),se(e,u)},m(f,c){O(f,e,c),a&&a.m(e,null),t[29](e),o=!0,i||(r=[We(t[8].action(e)),z(e,"m-pointerdown",t[12]),z(e,"m-pointerenter",t[12])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&134217984)&&ge(a,l,t,t[27],o?_e(l,t[27],c,o1):be(t[27]),na),se(e,u=Ce(s,[c[0]&256&&t[8],c[0]&8192&&t[13]]))},i(f){o||(C(a,f),f&&lt(()=>{o&&(n||(n=Ht(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(f){S(a,f),f&&(n||(n=Ht(e,t[1],t[2],!1)),n.run(0)),o=!1},d(f){f&&I(e),a&&a.d(f),t[29](null),f&&n&&n.end(),i=!1,Ve(r)}}}function f1(t){let e;const n=t[28].default,o=he(n,t,t[27],oa);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r[0]&134217984)&&ge(o,n,i,i[27],e?_e(n,i[27],r,i1):be(i[27]),oa)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function c1(t){let e,n,o,i;const r=[f1,u1,a1,s1,l1,r1],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=De()},m(s,u){~e&&l[e].m(s,u),O(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Me(),S(l[f],1,1,()=>{l[f]=null}),Pe()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&I(o),~e&&l[e].d(s)}}}function d1(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","id","side","align","sideOffset","alignOffset","collisionPadding","avoidCollisions","collisionBoundary","sameWidth","fitViewport","strategy","overlap","el"];let r=re(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:p=void 0}=e,{outTransition:m=void 0}=e,{outTransitionConfig:_=void 0}=e,{asChild:b=!1}=e,{id:v=void 0}=e,{side:h="top"}=e,{align:k="center"}=e,{sideOffset:T=0}=e,{alignOffset:P=0}=e,{collisionPadding:N=8}=e,{avoidCollisions:D=!0}=e,{collisionBoundary:B=void 0}=e,{sameWidth:q=!1}=e,{fitViewport:G=!1}=e,{strategy:E="absolute"}=e,{overlap:w=!1}=e,{el:A=void 0}=e;const{elements:{content:$},states:{open:V},ids:R,getAttrs:x}=vl();le(t,$,ee=>n(26,a=ee)),le(t,V,ee=>n(9,l=ee));const X=Ln(),Q=x("content");function ne(ee){Le[ee?"unshift":"push"](()=>{A=ee,n(0,A)})}function ae(ee){Le[ee?"unshift":"push"](()=>{A=ee,n(0,A)})}function we(ee){Le[ee?"unshift":"push"](()=>{A=ee,n(0,A)})}function Ne(ee){Le[ee?"unshift":"push"](()=>{A=ee,n(0,A)})}function Fe(ee){Le[ee?"unshift":"push"](()=>{A=ee,n(0,A)})}return t.$$set=ee=>{e=J(J({},e),$e(ee)),n(13,r=re(e,i)),"transition"in ee&&n(1,f=ee.transition),"transitionConfig"in ee&&n(2,c=ee.transitionConfig),"inTransition"in ee&&n(3,d=ee.inTransition),"inTransitionConfig"in ee&&n(4,p=ee.inTransitionConfig),"outTransition"in ee&&n(5,m=ee.outTransition),"outTransitionConfig"in ee&&n(6,_=ee.outTransitionConfig),"asChild"in ee&&n(7,b=ee.asChild),"id"in ee&&n(14,v=ee.id),"side"in ee&&n(15,h=ee.side),"align"in ee&&n(16,k=ee.align),"sideOffset"in ee&&n(17,T=ee.sideOffset),"alignOffset"in ee&&n(18,P=ee.alignOffset),"collisionPadding"in ee&&n(19,N=ee.collisionPadding),"avoidCollisions"in ee&&n(20,D=ee.avoidCollisions),"collisionBoundary"in ee&&n(21,B=ee.collisionBoundary),"sameWidth"in ee&&n(22,q=ee.sameWidth),"fitViewport"in ee&&n(23,G=ee.fitViewport),"strategy"in ee&&n(24,E=ee.strategy),"overlap"in ee&&n(25,w=ee.overlap),"el"in ee&&n(0,A=ee.el),"$$scope"in ee&&n(27,u=ee.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&16384&&v&&R.content.set(v),t.$$.dirty[0]&67108864&&n(8,o=a),t.$$.dirty[0]&256&&Object.assign(o,Q),t.$$.dirty[0]&67076608&&l&&xg({side:h,align:k,sideOffset:T,alignOffset:P,collisionPadding:N,avoidCollisions:D,collisionBoundary:B,sameWidth:q,fitViewport:G,strategy:E,overlap:w})},[A,f,c,d,p,m,_,b,o,l,$,V,X,r,v,h,k,T,P,N,D,B,q,G,E,w,a,u,s,ne,ae,we,Ne,Fe]}let m1=class extends pe{constructor(e){super(),me(this,e,d1,c1,fe,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,id:14,side:15,align:16,sideOffset:17,alignOffset:18,collisionPadding:19,avoidCollisions:20,collisionBoundary:21,sameWidth:22,fitViewport:23,strategy:24,overlap:25,el:0},null,[-1,-1])}};const p1=t=>({builder:t&4}),ia=t=>({builder:t[2]}),h1=t=>({builder:t&4}),ra=t=>({builder:t[2]});function _1(t){let e,n,o,i;const r=t[9].default,l=he(r,t,t[8],ia);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=J(s,a[u]);return{c(){e=M("button"),l&&l.c(),se(e,s)},m(u,f){O(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[10](e),n=!0,o||(i=[We(t[2].action(e)),z(e,"m-blur",t[4]),z(e,"m-focus",t[4]),z(e,"m-keydown",t[4]),z(e,"m-pointerdown",t[4]),z(e,"m-pointerenter",t[4]),z(e,"m-pointerleave",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&260)&&ge(l,r,u,u[8],n?_e(r,u[8],f,p1):be(u[8]),ia),se(e,s=Ce(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&I(e),l&&l.d(u),t[10](null),o=!1,Ve(i)}}}function g1(t){let e;const n=t[9].default,o=he(n,t,t[8],ra);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&260)&&ge(o,n,i,i[8],e?_e(n,i[8],r,h1):be(i[8]),ra)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function b1(t){let e,n,o,i;const r=[g1,_1],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),S(l[f],1,1,()=>{l[f]=null}),Pe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&I(o),l[e].d(s)}}}function v1(t,e,n){let o;const i=["asChild","id","el"];let r=re(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{trigger:d},ids:p,getAttrs:m}=vl();le(t,d,h=>n(7,l=h));const _=Ln(),b=m("trigger");function v(h){Le[h?"unshift":"push"](()=>{c=h,n(0,c)})}return t.$$set=h=>{e=J(J({},e),$e(h)),n(5,r=re(e,i)),"asChild"in h&&n(1,u=h.asChild),"id"in h&&n(6,f=h.id),"el"in h&&n(0,c=h.el),"$$scope"in h&&n(8,s=h.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&f&&p.trigger.set(f),t.$$.dirty&128&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,b)},[c,u,o,d,_,r,f,l,s,a,v]}class y1 extends pe{constructor(e){super(),me(this,e,v1,b1,fe,{asChild:1,id:6,el:0})}}function w1(t){let e;const n=t[5].default,o=he(n,t,t[8],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&256)&&ge(o,n,i,i[8],e?_e(n,i[8],r,null):be(i[8]),null)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function k1(t){let e,n;const o=[{builders:t[3]},{class:Ge(no({variant:t[1],size:t[2],className:t[0]}))},{type:"button"},t[4]];let i={$$slots:{default:[w1]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=J(i,o[r]);return e=new x_({props:i}),e.$on("click",t[6]),e.$on("keydown",t[7]),{c(){U(e.$$.fragment)},m(r,l){W(e,r,l),n=!0},p(r,[l]){const a=l&31?Ce(o,[l&8&&{builders:r[3]},l&7&&{class:Ge(no({variant:r[1],size:r[2],className:r[0]}))},o[2],l&16&&at(r[4])]):{};l&256&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){Y(e,r)}}}function C1(t,e,n){const o=["class","variant","size","builders"];let i=re(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{variant:s="default"}=e,{size:u="default"}=e,{builders:f=[]}=e;function c(p){oe.call(this,t,p)}function d(p){oe.call(this,t,p)}return t.$$set=p=>{e=J(J({},e),$e(p)),n(4,i=re(e,o)),"class"in p&&n(0,a=p.class),"variant"in p&&n(1,s=p.variant),"size"in p&&n(2,u=p.size),"builders"in p&&n(3,f=p.builders),"$$scope"in p&&n(8,l=p.$$scope)},[a,s,u,f,i,r,c,d,l]}class St extends pe{constructor(e){super(),me(this,e,C1,k1,fe,{class:0,variant:1,size:2,builders:3})}}var la=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,wt=t=>!t||typeof t!="object"||Object.keys(t).length===0,A1=(t,e)=>JSON.stringify(t)===JSON.stringify(e);function dc(t,e){t.forEach(function(n){Array.isArray(n)?dc(n,e):e.push(n)})}function mc(t){let e=[];return dc(t,e),e}var pc=(...t)=>mc(t).filter(Boolean),hc=(t,e)=>{let n={},o=Object.keys(t),i=Object.keys(e);for(let r of o)if(i.includes(r)){let l=t[r],a=e[r];typeof l=="object"&&typeof a=="object"?n[r]=hc(l,a):Array.isArray(l)||Array.isArray(a)?n[r]=pc(a,l):n[r]=a+" "+l}else n[r]=t[r];for(let r of i)o.includes(r)||(n[r]=e[r]);return n},sa=t=>!t||typeof t!="string"?t:t.replace(/\s+/g," ").trim(),S1={twMerge:!0,twMergeConfig:{},responsiveVariants:!1},_c=t=>t||void 0,Bo=(...t)=>_c(mc(t).filter(Boolean).join(" ")),vr=null,Xt={},Hr=!1,ko=(...t)=>e=>e.twMerge?((!vr||Hr)&&(Hr=!1,vr=wt(Xt)?$f:_m({...Xt,extend:{theme:Xt.theme,classGroups:Xt.classGroups,conflictingClassGroupModifiers:Xt.conflictingClassGroupModifiers,conflictingClassGroups:Xt.conflictingClassGroups,...Xt.extend}})),_c(vr(Bo(t)))):Bo(t),aa=(t,e)=>{for(let n in e)t.hasOwnProperty(n)?t[n]=Bo(t[n],e[n]):t[n]=e[n];return t},T1=(t,e)=>{let{extend:n=null,slots:o={},variants:i={},compoundVariants:r=[],compoundSlots:l=[],defaultVariants:a={}}=t,s={...S1,...e},u=n!=null&&n.base?Bo(n.base,t==null?void 0:t.base):t==null?void 0:t.base,f=n!=null&&n.variants&&!wt(n.variants)?hc(i,n.variants):i,c=n!=null&&n.defaultVariants&&!wt(n.defaultVariants)?{...n.defaultVariants,...a}:a;!wt(s.twMergeConfig)&&!A1(s.twMergeConfig,Xt)&&(Hr=!0,Xt=s.twMergeConfig);let d=wt(n==null?void 0:n.slots),p=wt(o)?{}:{base:Bo(t==null?void 0:t.base,d&&(n==null?void 0:n.base)),...o},m=d?p:aa({...n==null?void 0:n.slots},wt(p)?{base:t==null?void 0:t.base}:p),_=v=>{if(wt(f)&&wt(o)&&d)return ko(u,v==null?void 0:v.class,v==null?void 0:v.className)(s);if(r&&!Array.isArray(r))throw new TypeError(`The "compoundVariants" prop must be an array. Received: ${typeof r}`);if(l&&!Array.isArray(l))throw new TypeError(`The "compoundSlots" prop must be an array. Received: ${typeof l}`);let h=(w,A,$=[],V)=>{let R=$;if(typeof A=="string")R=R.concat(sa(A).split(" ").map(x=>`${w}:${x}`));else if(Array.isArray(A))R=R.concat(A.reduce((x,X)=>x.concat(`${w}:${X}`),[]));else if(typeof A=="object"&&typeof V=="string"){for(let x in A)if(A.hasOwnProperty(x)&&x===V){let X=A[x];if(X&&typeof X=="string"){let Q=sa(X);R[V]?R[V]=R[V].concat(Q.split(" ").map(ne=>`${w}:${ne}`)):R[V]=Q.split(" ").map(ne=>`${w}:${ne}`)}else Array.isArray(X)&&X.length>0&&(R[V]=X.reduce((Q,ne)=>Q.concat(`${w}:${ne}`),[]))}}return R},k=(w,A=f,$=null,V=null)=>{var R;let x=A[w];if(!x||wt(x))return null;let X=(R=V==null?void 0:V[w])!=null?R:v==null?void 0:v[w];if(X===null)return null;let Q=la(X),ne=Array.isArray(s.responsiveVariants)&&s.responsiveVariants.length>0||s.responsiveVariants===!0,ae=c==null?void 0:c[w],we=[];if(typeof Q=="object"&&ne)for(let[ee,g]of Object.entries(Q)){let K=x[g];if(ee==="initial"){ae=g;continue}Array.isArray(s.responsiveVariants)&&!s.responsiveVariants.includes(ee)||(we=h(ee,K,we,$))}let Ne=Q!=null&&typeof Q!="object"?Q:la(ae),Fe=x[Ne]||x.false;return typeof we=="object"&&typeof $=="string"&&we[$]?aa(we,Fe):we.length>0?(we.push(Fe),we):Fe},T=()=>f?Object.keys(f).map(w=>k(w,f)):null,P=(w,A)=>{if(!f||typeof f!="object")return null;let $=new Array;for(let V in f){let R=k(V,f,w,A),x=w==="base"&&typeof R=="string"?R:R&&R[w];x&&($[$.length]=x)}return $},N={};for(let w in v)v[w]!==void 0&&(N[w]=v[w]);let D=(w,A)=>{var $;let V=typeof(v==null?void 0:v[w])=="object"?{[w]:($=v[w])==null?void 0:$.initial}:{};return{...c,...N,...V,...A}},B=(w=[],A)=>{let $=[];for(let{class:V,className:R,...x}of w){let X=!0;for(let[Q,ne]of Object.entries(x)){let ae=D(Q,A);if(Array.isArray(ne)){if(!ne.includes(ae[Q])){X=!1;break}}else if(ae[Q]!==ne){X=!1;break}}X&&(V&&$.push(V),R&&$.push(R))}return $},q=w=>{let A=B(r,w),$=B(n==null?void 0:n.compoundVariants,w);return pc($,A)},G=w=>{let A=q(w);if(!Array.isArray(A))return A;let $={};for(let V of A)if(typeof V=="string"&&($.base=ko($.base,V)(s)),typeof V=="object")for(let[R,x]of Object.entries(V))$[R]=ko($[R],x)(s);return $},E=w=>{if(l.length<1)return null;let A={};for(let{slots:$=[],class:V,className:R,...x}of l){if(!wt(x)){let X=!0;for(let Q of Object.keys(x)){let ne=D(Q,w)[Q];if(ne===void 0||(Array.isArray(x[Q])?!x[Q].includes(ne):x[Q]!==ne)){X=!1;break}}if(!X)continue}for(let X of $)A[X]=A[X]||[],A[X].push([V,R])}return A};if(!wt(o)||!d){let w={};if(typeof m=="object"&&!wt(m))for(let A of Object.keys(m))w[A]=$=>{var V,R;return ko(m[A],P(A,$),((V=G($))!=null?V:[])[A],((R=E($))!=null?R:[])[A],$==null?void 0:$.class,$==null?void 0:$.className)(s)};return w}return ko(u,T(),q(),v==null?void 0:v.class,v==null?void 0:v.className)(s)},b=()=>{if(!(!f||typeof f!="object"))return Object.keys(f)};return _.variantKeys=b(),_.extend=n,_.base=u,_.slots=m,_.variants=f,_.defaultVariants=c,_.compoundSlots=l,_.compoundVariants=r,_};const no=T1({base:"inline-flex items-center justify-center rounded-md text-sm font-medium whitespace-nowrap transition-colors focus-visible:outline-none disabled:pointer-events-none disabled:opacity-50",variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg- hover:bg-accent hover:text-accent-foreground",secondary:"bg-accent text-accent-foreground hover:bg-accent/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}});function I1(t){let e;const n=t[2].default,o=he(n,t,t[3],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&8)&&ge(o,n,i,i[3],e?_e(n,i[3],r,null):be(i[3]),null)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function O1(t){let e,n;const o=[{class:Ge("text-lg font-semibold leading-none tracking-tight",t[0])},t[1]];let i={$$slots:{default:[I1]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=J(i,o[r]);return e=new g0({props:i}),{c(){U(e.$$.fragment)},m(r,l){W(e,r,l),n=!0},p(r,[l]){const a=l&3?Ce(o,[l&1&&{class:Ge("text-lg font-semibold leading-none tracking-tight",r[0])},l&2&&at(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){Y(e,r)}}}function M1(t,e,n){const o=["class"];let i=re(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=J(J({},e),$e(s)),n(1,i=re(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,l=s.$$scope)},[a,i,r,l]}class $n extends pe{constructor(e){super(),me(this,e,M1,O1,fe,{class:0})}}function P1(t){let e;const n=t[1].default,o=he(n,t,t[2],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&4)&&ge(o,n,i,i[2],e?_e(n,i[2],r,null):be(i[2]),null)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function N1(t){let e,n;const o=[t[0]];let i={$$slots:{default:[P1]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=J(i,o[r]);return e=new N0({props:i}),{c(){U(e.$$.fragment)},m(r,l){W(e,r,l),n=!0},p(r,[l]){const a=l&1?Ce(o,[at(r[0])]):{};l&4&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){Y(e,r)}}}function E1(t,e,n){const o=[];let i=re(e,o),{$$slots:r={},$$scope:l}=e;return t.$$set=a=>{e=J(J({},e),$e(a)),n(0,i=re(e,o)),"$$scope"in a&&n(2,l=a.$$scope)},[i,r,l]}class R1 extends pe{constructor(e){super(),me(this,e,E1,N1,fe,{})}}function L1(t){let e,n,o;const i=t[3].default,r=he(i,t,t[2],null);let l=[{class:n=Ge("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=J(a,l[s]);return{c(){e=M("div"),r&&r.c(),se(e,a)},m(s,u){O(s,e,u),r&&r.m(e,null),o=!0},p(s,[u]){r&&r.p&&(!o||u&4)&&ge(r,i,s,s[2],o?_e(i,s[2],u,null):be(s[2]),null),se(e,a=Ce(l,[(!o||u&1&&n!==(n=Ge("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(C(r,s),o=!0)},o(s){S(r,s),o=!1},d(s){s&&I(e),r&&r.d(s)}}}function D1(t,e,n){const o=["class"];let i=re(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=J(J({},e),$e(s)),n(1,i=re(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,i,l,r]}class co extends pe{constructor(e){super(),me(this,e,D1,L1,fe,{class:0})}}function $1(t){let e,n,o;const i=t[3].default,r=he(i,t,t[2],null);let l=[{class:n=Ge("flex flex-col space-y-1.5 text-center sm:text-left",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=J(a,l[s]);return{c(){e=M("div"),r&&r.c(),se(e,a)},m(s,u){O(s,e,u),r&&r.m(e,null),o=!0},p(s,[u]){r&&r.p&&(!o||u&4)&&ge(r,i,s,s[2],o?_e(i,s[2],u,null):be(s[2]),null),se(e,a=Ce(l,[(!o||u&1&&n!==(n=Ge("flex flex-col space-y-1.5 text-center sm:text-left",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(C(r,s),o=!0)},o(s){S(r,s),o=!1},d(s){s&&I(e),r&&r.d(s)}}}function q1(t,e,n){const o=["class"];let i=re(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=J(J({},e),$e(s)),n(1,i=re(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,i,l,r]}class qn extends pe{constructor(e){super(),me(this,e,q1,$1,fe,{class:0})}}function gc(t,{delay:e=0,duration:n=400,easing:o=Gi}={}){const i=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:o,css:r=>`opacity: ${r*i}`}}function F1(t){let e,n;const o=[{transition:t[1]},{transitionConfig:t[2]},{class:Ge("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm",t[0])},t[3]];let i={};for(let r=0;r<o.length;r+=1)i=J(i,o[r]);return e=new ng({props:i}),{c(){U(e.$$.fragment)},m(r,l){W(e,r,l),n=!0},p(r,[l]){const a=l&15?Ce(o,[l&2&&{transition:r[1]},l&4&&{transitionConfig:r[2]},l&1&&{class:Ge("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm",r[0])},l&8&&at(r[3])]):{};e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){Y(e,r)}}}function B1(t,e,n){const o=["class","transition","transitionConfig"];let i=re(e,o),{class:r=void 0}=e,{transition:l=gc}=e,{transitionConfig:a={duration:150}}=e;return t.$$set=s=>{e=J(J({},e),$e(s)),n(3,i=re(e,o)),"class"in s&&n(0,r=s.class),"transition"in s&&n(1,l=s.transition),"transitionConfig"in s&&n(2,a=s.transitionConfig)},[r,l,a,i]}class j1 extends pe{constructor(e){super(),me(this,e,B1,F1,fe,{class:0,transition:1,transitionConfig:2})}}/**
 * @license lucide-svelte v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};function fa(t,e,n){const o=t.slice();return o[11]=e[n][0],o[12]=e[n][1],o}function yr(t){let e,n=[t[12]],o={};for(let i=0;i<n.length;i+=1)o=J(o,n[i]);return{c(){e=Vi(t[11]),mi(e,o)},m(i,r){O(i,e,r)},p(i,r){mi(e,o=Ce(n,[r&32&&i[12]]))},d(i){i&&I(e)}}}function ca(t){let e=t[11],n,o=t[11]&&yr(t);return{c(){o&&o.c(),n=De()},m(i,r){o&&o.m(i,r),O(i,n,r)},p(i,r){i[11]?e?fe(e,i[11])?(o.d(1),o=yr(i),e=i[11],o.c(),o.m(n.parentNode,n)):o.p(i,r):(o=yr(i),e=i[11],o.c(),o.m(n.parentNode,n)):e&&(o.d(1),o=null,e=i[11])},d(i){i&&I(n),o&&o.d(i)}}}function H1(t){let e,n,o,i,r,l=Ue(t[5]),a=[];for(let d=0;d<l.length;d+=1)a[d]=ca(fa(t,l,d));const s=t[10].default,u=he(s,t,t[9],null);let f=[ua,t[7],{width:t[2]},{height:t[2]},{stroke:t[1]},{"stroke-width":o=t[4]?Number(t[3])*24/Number(t[2]):t[3]},{class:i=t[6]("lucide-icon","lucide",t[0]?`lucide-${t[0]}`:"",t[8].class)}],c={};for(let d=0;d<f.length;d+=1)c=J(c,f[d]);return{c(){e=Vi("svg");for(let d=0;d<a.length;d+=1)a[d].c();n=De(),u&&u.c(),mi(e,c)},m(d,p){O(d,e,p);for(let m=0;m<a.length;m+=1)a[m]&&a[m].m(e,null);y(e,n),u&&u.m(e,null),r=!0},p(d,[p]){if(p&32){l=Ue(d[5]);let m;for(m=0;m<l.length;m+=1){const _=fa(d,l,m);a[m]?a[m].p(_,p):(a[m]=ca(_),a[m].c(),a[m].m(e,n))}for(;m<a.length;m+=1)a[m].d(1);a.length=l.length}u&&u.p&&(!r||p&512)&&ge(u,s,d,d[9],r?_e(s,d[9],p,null):be(d[9]),null),mi(e,c=Ce(f,[ua,p&128&&d[7],(!r||p&4)&&{width:d[2]},(!r||p&4)&&{height:d[2]},(!r||p&2)&&{stroke:d[1]},(!r||p&28&&o!==(o=d[4]?Number(d[3])*24/Number(d[2]):d[3]))&&{"stroke-width":o},(!r||p&257&&i!==(i=d[6]("lucide-icon","lucide",d[0]?`lucide-${d[0]}`:"",d[8].class)))&&{class:i}]))},i(d){r||(C(u,d),r=!0)},o(d){S(u,d),r=!1},d(d){d&&I(e),ft(a,d),u&&u.d(d)}}}function G1(t,e,n){const o=["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode","mergeClasses"];let i=re(e,o),{$$slots:r={},$$scope:l}=e,{name:a=void 0}=e,{color:s="currentColor"}=e,{size:u=24}=e,{strokeWidth:f=2}=e,{absoluteStrokeWidth:c=!1}=e,{iconNode:d}=e;const p=(...m)=>m.filter((_,b,v)=>!!_&&v.indexOf(_)===b).join(" ");return t.$$set=m=>{n(8,e=J(J({},e),$e(m))),n(7,i=re(e,o)),"name"in m&&n(0,a=m.name),"color"in m&&n(1,s=m.color),"size"in m&&n(2,u=m.size),"strokeWidth"in m&&n(3,f=m.strokeWidth),"absoluteStrokeWidth"in m&&n(4,c=m.absoluteStrokeWidth),"iconNode"in m&&n(5,d=m.iconNode),"$$scope"in m&&n(9,l=m.$$scope)},e=$e(e),[a,s,u,f,c,d,p,i,e,l,r]}class V1 extends pe{constructor(e){super(),me(this,e,G1,H1,fe,{name:0,color:1,size:2,strokeWidth:3,absoluteStrokeWidth:4,iconNode:5,mergeClasses:6})}get mergeClasses(){return this.$$.ctx[6]}}function W1(t){let e;const n=t[2].default,o=he(n,t,t[3],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&8)&&ge(o,n,i,i[3],e?_e(n,i[3],r,null):be(i[3]),null)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Y1(t){let e,n;const o=[{name:"x"},t[1],{iconNode:t[0]}];let i={$$slots:{default:[W1]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=J(i,o[r]);return e=new V1({props:i}),{c(){U(e.$$.fragment)},m(r,l){W(e,r,l),n=!0},p(r,[l]){const a=l&3?Ce(o,[o[0],l&2&&at(r[1]),l&1&&{iconNode:r[0]}]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){Y(e,r)}}}function U1(t,e,n){let{$$slots:o={},$$scope:i}=e;const r=[["path",{d:"M18 6 6 18"}],["path",{d:"m6 6 12 12"}]];return t.$$set=l=>{n(1,e=J(J({},e),$e(l))),"$$scope"in l&&n(3,i=l.$$scope)},e=$e(e),[r,e,o,i]}class K1 extends pe{constructor(e){super(),me(this,e,U1,Y1,fe,{})}}function x1(t){let e,n,o,i;return e=new K1({props:{class:"h-4 w-4"}}),{c(){U(e.$$.fragment),n=F(),o=M("span"),o.textContent="Close",L(o,"class","sr-only")},m(r,l){W(e,r,l),O(r,n,l),O(r,o,l),i=!0},p:Se,i(r){i||(C(e.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),i=!1},d(r){r&&(I(n),I(o)),Y(e,r)}}}function X1(t){let e,n,o;const i=t[4].default,r=he(i,t,t[5],null);return n=new A0({props:{class:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",$$slots:{default:[x1]},$$scope:{ctx:t}}}),{c(){r&&r.c(),e=F(),U(n.$$.fragment)},m(l,a){r&&r.m(l,a),O(l,e,a),W(n,l,a),o=!0},p(l,a){r&&r.p&&(!o||a&32)&&ge(r,i,l,l[5],o?_e(i,l[5],a,null):be(l[5]),null);const s={};a&32&&(s.$$scope={dirty:a,ctx:l}),n.$set(s)},i(l){o||(C(r,l),C(n.$$.fragment,l),o=!0)},o(l){S(r,l),S(n.$$.fragment,l),o=!1},d(l){l&&I(e),r&&r.d(l),Y(n,l)}}}function J1(t){let e,n,o,i;e=new j1({});const r=[{transition:t[1]},{transitionConfig:t[2]},{class:Ge("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg rounded-3xl md:w-full",t[0])},t[3]];let l={$$slots:{default:[X1]},$$scope:{ctx:t}};for(let a=0;a<r.length;a+=1)l=J(l,r[a]);return o=new U0({props:l}),{c(){U(e.$$.fragment),n=F(),U(o.$$.fragment)},m(a,s){W(e,a,s),O(a,n,s),W(o,a,s),i=!0},p(a,s){const u=s&15?Ce(r,[s&2&&{transition:a[1]},s&4&&{transitionConfig:a[2]},s&1&&{class:Ge("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg rounded-3xl md:w-full",a[0])},s&8&&at(a[3])]):{};s&32&&(u.$$scope={dirty:s,ctx:a}),o.$set(u)},i(a){i||(C(e.$$.fragment,a),C(o.$$.fragment,a),i=!0)},o(a){S(e.$$.fragment,a),S(o.$$.fragment,a),i=!1},d(a){a&&I(n),Y(e,a),Y(o,a)}}}function Z1(t){let e,n;return e=new R1({props:{$$slots:{default:[J1]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(o,i){W(e,o,i),n=!0},p(o,[i]){const r={};i&47&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function Q1(t,e,n){const o=["class","transition","transitionConfig"];let i=re(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{transition:s=Ki}=e,{transitionConfig:u={duration:400}}=e;return t.$$set=f=>{e=J(J({},e),$e(f)),n(3,i=re(e,o)),"class"in f&&n(0,a=f.class),"transition"in f&&n(1,s=f.transition),"transitionConfig"in f&&n(2,u=f.transitionConfig),"$$scope"in f&&n(5,l=f.$$scope)},[a,s,u,i,r,l]}class Fn extends pe{constructor(e){super(),me(this,e,Q1,Z1,fe,{class:0,transition:1,transitionConfig:2})}}function z1(t){let e;const n=t[2].default,o=he(n,t,t[3],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&8)&&ge(o,n,i,i[3],e?_e(n,i[3],r,null):be(i[3]),null)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function eb(t){let e,n;const o=[{class:Ge("text-sm text-muted-foreground",t[0])},t[1]];let i={$$slots:{default:[z1]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=J(i,o[r]);return e=new ug({props:i}),{c(){U(e.$$.fragment)},m(r,l){W(e,r,l),n=!0},p(r,[l]){const a=l&3?Ce(o,[l&1&&{class:Ge("text-sm text-muted-foreground",r[0])},l&2&&at(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){Y(e,r)}}}function tb(t,e,n){const o=["class"];let i=re(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=J(J({},e),$e(s)),n(1,i=re(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,l=s.$$scope)},[a,i,r,l]}class Bn extends pe{constructor(e){super(),me(this,e,tb,eb,fe,{class:0})}}const jn=f0;function nb(t){let e,n,o,i,r=[{class:n=Ge("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t[1])},t[2]],l={};for(let a=0;a<r.length;a+=1)l=J(l,r[a]);return{c(){e=M("input"),se(e,l)},m(a,s){O(a,e,s),e.autofocus&&e.focus(),pi(e,t[0]),o||(i=[z(e,"input",t[17]),z(e,"blur",t[3]),z(e,"change",t[4]),z(e,"click",t[5]),z(e,"focus",t[6]),z(e,"focusin",t[7]),z(e,"focusout",t[8]),z(e,"keydown",t[9]),z(e,"keypress",t[10]),z(e,"keyup",t[11]),z(e,"mouseover",t[12]),z(e,"mouseenter",t[13]),z(e,"mouseleave",t[14]),z(e,"paste",t[15]),z(e,"input",t[16])],o=!0)},p(a,[s]){se(e,l=Ce(r,[s&2&&n!==(n=Ge("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a[1]))&&{class:n},s&4&&a[2]])),s&1&&e.value!==a[0]&&pi(e,a[0])},i:Se,o:Se,d(a){a&&I(e),o=!1,Ve(i)}}}function ob(t,e,n){const o=["class","value"];let i=re(e,o),{class:r=void 0}=e,{value:l=void 0}=e;function a(N){oe.call(this,t,N)}function s(N){oe.call(this,t,N)}function u(N){oe.call(this,t,N)}function f(N){oe.call(this,t,N)}function c(N){oe.call(this,t,N)}function d(N){oe.call(this,t,N)}function p(N){oe.call(this,t,N)}function m(N){oe.call(this,t,N)}function _(N){oe.call(this,t,N)}function b(N){oe.call(this,t,N)}function v(N){oe.call(this,t,N)}function h(N){oe.call(this,t,N)}function k(N){oe.call(this,t,N)}function T(N){oe.call(this,t,N)}function P(){l=this.value,n(0,l)}return t.$$set=N=>{e=J(J({},e),$e(N)),n(2,i=re(e,o)),"class"in N&&n(1,r=N.class),"value"in N&&n(0,l=N.value)},[l,r,i,a,s,u,f,c,d,p,m,_,b,v,h,k,T,P]}class bc extends pe{constructor(e){super(),me(this,e,ob,nb,fe,{class:1,value:0})}}function ib(t){let e;const n=t[2].default,o=he(n,t,t[4],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&16)&&ge(o,n,i,i[4],e?_e(n,i[4],r,null):be(i[4]),null)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function rb(t){let e,n;const o=[{class:Ge("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",t[0])},t[1]];let i={$$slots:{default:[ib]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=J(i,o[r]);return e=new gg({props:i}),e.$on("mousedown",t[3]),{c(){U(e.$$.fragment)},m(r,l){W(e,r,l),n=!0},p(r,[l]){const a=l&3?Ce(o,[l&1&&{class:Ge("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",r[0])},l&2&&at(r[1])]):{};l&16&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){Y(e,r)}}}function lb(t,e,n){const o=["class"];let i=re(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(u){oe.call(this,t,u)}return t.$$set=u=>{e=J(J({},e),$e(u)),n(1,i=re(e,o)),"class"in u&&n(0,a=u.class),"$$scope"in u&&n(4,l=u.$$scope)},[a,i,r,s,l]}class Do extends pe{constructor(e){super(),me(this,e,lb,rb,fe,{class:0})}}const Pn={land:{short_title:"Fill the grid",description_title:"You win by filling up all possible plots in the grid, and by meeting some requirements.",win:"You have filled the grid with buildings and met the requirements. Your citizens are happy, fulfilled, hard-working, and healthy. ",requirements:{0:{population_count:200,happiness:100,health:100,employment:1,knowledge:50,required_plots:["pub","small_school","community_center"]},1:{population_count:1e3,happiness:120,health:120,employment:1,knowledge:100,required_plots:["bank"]},2:{population_count:1e3,happiness:200,health:200,employment:1,knowledge:1e3,required_plots:["bank","city_hall"]}}},free_play:{short_title:"Quests",description_title:"Play for as long as you can and build the best city you can while completing quests."}};function sb(t){let e,n;const o=[{class:Ge("shrink-0 bg-border",t[1]==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t[0])},{orientation:t[1]},{decorative:t[2]},t[3]];let i={};for(let r=0;r<o.length;r+=1)i=J(i,o[r]);return e=new r0({props:i}),{c(){U(e.$$.fragment)},m(r,l){W(e,r,l),n=!0},p(r,[l]){const a=l&15?Ce(o,[l&3&&{class:Ge("shrink-0 bg-border",r[1]==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",r[0])},l&2&&{orientation:r[1]},l&4&&{decorative:r[2]},l&8&&at(r[3])]):{};e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){Y(e,r)}}}function ab(t,e,n){const o=["class","orientation","decorative"];let i=re(e,o),{class:r=void 0}=e,{orientation:l="horizontal"}=e,{decorative:a=void 0}=e;return t.$$set=s=>{e=J(J({},e),$e(s)),n(3,i=re(e,o)),"class"in s&&n(0,r=s.class),"orientation"in s&&n(1,l=s.orientation),"decorative"in s&&n(2,a=s.decorative)},[r,l,a,i]}class Tt extends pe{constructor(e){super(),me(this,e,ab,sb,fe,{class:0,orientation:1,decorative:2})}}function ub(t){let e;const n=t[3].default,o=he(n,t,t[4],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&16)&&ge(o,n,i,i[4],e?_e(n,i[4],r,null):be(i[4]),null)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function fb(t){let e,n;const o=[{class:Ge("text-lg font-semibold",t[0])},{level:t[1]},t[2]];let i={$$slots:{default:[ub]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=J(i,o[r]);return e=new Vh({props:i}),{c(){U(e.$$.fragment)},m(r,l){W(e,r,l),n=!0},p(r,[l]){const a=l&7?Ce(o,[l&1&&{class:Ge("text-lg font-semibold",r[0])},l&2&&{level:r[1]},l&4&&at(r[2])]):{};l&16&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){Y(e,r)}}}function cb(t,e,n){const o=["class","level"];let i=re(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{level:s="h3"}=e;return t.$$set=u=>{e=J(J({},e),$e(u)),n(2,i=re(e,o)),"class"in u&&n(0,a=u.class),"level"in u&&n(1,s=u.level),"$$scope"in u&&n(4,l=u.$$scope)},[a,s,i,r,l]}class vc extends pe{constructor(e){super(),me(this,e,cb,fb,fe,{class:0,level:1})}}const db=t=>({builder:t&64}),da=t=>({builder:t[6]});function mb(t){let e;const n=t[2].default,o=he(n,t,t[5],da);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&96)&&ge(o,n,i,i[5],e?_e(n,i[5],r,db):be(i[5]),da)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function pb(t){let e,n;const o=[{class:Ge(no(),t[0])},t[1]];let i={$$slots:{default:[mb,({builder:r})=>({6:r}),({builder:r})=>r?64:0]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=J(i,o[r]);return e=new Jh({props:i}),e.$on("click",t[3]),e.$on("keydown",t[4]),{c(){U(e.$$.fragment)},m(r,l){W(e,r,l),n=!0},p(r,[l]){const a=l&3?Ce(o,[l&1&&{class:Ge(no(),r[0])},l&2&&at(r[1])]):{};l&96&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){Y(e,r)}}}function hb(t,e,n){const o=["class"];let i=re(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(f){oe.call(this,t,f)}function u(f){oe.call(this,t,f)}return t.$$set=f=>{e=J(J({},e),$e(f)),n(1,i=re(e,o)),"class"in f&&n(0,a=f.class),"$$scope"in f&&n(5,l=f.$$scope)},[a,i,r,s,u,l]}class yc extends pe{constructor(e){super(),me(this,e,hb,pb,fe,{class:0})}}const _b=t=>({builder:t&64}),ma=t=>({builder:t[6]});function gb(t){let e;const n=t[2].default,o=he(n,t,t[5],ma);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&96)&&ge(o,n,i,i[5],e?_e(n,i[5],r,_b):be(i[5]),ma)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function bb(t){let e,n;const o=[{class:Ge(no({variant:"default"}),"mt-2 sm:mt-0",t[0])},t[1]];let i={$$slots:{default:[gb,({builder:r})=>({6:r}),({builder:r})=>r?64:0]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=J(i,o[r]);return e=new o_({props:i}),e.$on("click",t[3]),e.$on("keydown",t[4]),{c(){U(e.$$.fragment)},m(r,l){W(e,r,l),n=!0},p(r,[l]){const a=l&3?Ce(o,[l&1&&{class:Ge(no({variant:"default"}),"mt-2 sm:mt-0",r[0])},l&2&&at(r[1])]):{};l&96&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){Y(e,r)}}}function vb(t,e,n){const o=["class"];let i=re(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(f){oe.call(this,t,f)}function u(f){oe.call(this,t,f)}return t.$$set=f=>{e=J(J({},e),$e(f)),n(1,i=re(e,o)),"class"in f&&n(0,a=f.class),"$$scope"in f&&n(5,l=f.$$scope)},[a,i,r,s,u,l]}class wc extends pe{constructor(e){super(),me(this,e,vb,bb,fe,{class:0})}}function yb(t){let e;const n=t[1].default,o=he(n,t,t[2],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&4)&&ge(o,n,i,i[2],e?_e(n,i[2],r,null):be(i[2]),null)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function wb(t){let e,n;const o=[t[0]];let i={$$slots:{default:[yb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=J(i,o[r]);return e=new f_({props:i}),{c(){U(e.$$.fragment)},m(r,l){W(e,r,l),n=!0},p(r,[l]){const a=l&1?Ce(o,[at(r[0])]):{};l&4&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){Y(e,r)}}}function kb(t,e,n){const o=[];let i=re(e,o),{$$slots:r={},$$scope:l}=e;return t.$$set=a=>{e=J(J({},e),$e(a)),n(0,i=re(e,o)),"$$scope"in a&&n(2,l=a.$$scope)},[i,r,l]}class Cb extends pe{constructor(e){super(),me(this,e,kb,wb,fe,{})}}function Ab(t){let e,n,o;const i=t[3].default,r=he(i,t,t[2],null);let l=[{class:n=Ge("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=J(a,l[s]);return{c(){e=M("div"),r&&r.c(),se(e,a)},m(s,u){O(s,e,u),r&&r.m(e,null),o=!0},p(s,[u]){r&&r.p&&(!o||u&4)&&ge(r,i,s,s[2],o?_e(i,s[2],u,null):be(s[2]),null),se(e,a=Ce(l,[(!o||u&1&&n!==(n=Ge("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(C(r,s),o=!0)},o(s){S(r,s),o=!1},d(s){s&&I(e),r&&r.d(s)}}}function Sb(t,e,n){const o=["class"];let i=re(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=J(J({},e),$e(s)),n(1,i=re(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,i,l,r]}class er extends pe{constructor(e){super(),me(this,e,Sb,Ab,fe,{class:0})}}function Tb(t){let e,n,o;const i=t[3].default,r=he(i,t,t[2],null);let l=[{class:n=Ge("flex flex-col space-y-2 text-center sm:text-left",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=J(a,l[s]);return{c(){e=M("div"),r&&r.c(),se(e,a)},m(s,u){O(s,e,u),r&&r.m(e,null),o=!0},p(s,[u]){r&&r.p&&(!o||u&4)&&ge(r,i,s,s[2],o?_e(i,s[2],u,null):be(s[2]),null),se(e,a=Ce(l,[(!o||u&1&&n!==(n=Ge("flex flex-col space-y-2 text-center sm:text-left",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(C(r,s),o=!0)},o(s){S(r,s),o=!1},d(s){s&&I(e),r&&r.d(s)}}}function Ib(t,e,n){const o=["class"];let i=re(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=J(J({},e),$e(s)),n(1,i=re(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,i,l,r]}class yl extends pe{constructor(e){super(),me(this,e,Ib,Tb,fe,{class:0})}}function Ob(t){let e,n;const o=[{transition:t[1]},{transitionConfig:t[2]},{class:Ge("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm ",t[0])},t[3]];let i={};for(let r=0;r<o.length;r+=1)i=J(i,o[r]);return e=new D_({props:i}),{c(){U(e.$$.fragment)},m(r,l){W(e,r,l),n=!0},p(r,[l]){const a=l&15?Ce(o,[l&2&&{transition:r[1]},l&4&&{transitionConfig:r[2]},l&1&&{class:Ge("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm ",r[0])},l&8&&at(r[3])]):{};e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){Y(e,r)}}}function Mb(t,e,n){const o=["class","transition","transitionConfig"];let i=re(e,o),{class:r=void 0}=e,{transition:l=gc}=e,{transitionConfig:a={duration:150}}=e;return t.$$set=s=>{e=J(J({},e),$e(s)),n(3,i=re(e,o)),"class"in s&&n(0,r=s.class),"transition"in s&&n(1,l=s.transition),"transitionConfig"in s&&n(2,a=s.transitionConfig)},[r,l,a,i]}class Pb extends pe{constructor(e){super(),me(this,e,Mb,Ob,fe,{class:0,transition:1,transitionConfig:2})}}function Nb(t){let e;const n=t[4].default,o=he(n,t,t[5],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&32)&&ge(o,n,i,i[5],e?_e(n,i[5],r,null):be(i[5]),null)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Eb(t){let e,n,o,i;e=new Pb({});const r=[{transition:t[0]},{transitionConfig:t[1]},{class:Ge("fixed rounded-2xl left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-sidebarBackground text-sidebarText p-6 shadow-lg md:w-full",t[2])},t[3]];let l={$$slots:{default:[Nb]},$$scope:{ctx:t}};for(let a=0;a<r.length;a+=1)l=J(l,r[a]);return o=new S_({props:l}),{c(){U(e.$$.fragment),n=F(),U(o.$$.fragment)},m(a,s){W(e,a,s),O(a,n,s),W(o,a,s),i=!0},p(a,s){const u=s&15?Ce(r,[s&1&&{transition:a[0]},s&2&&{transitionConfig:a[1]},s&4&&{class:Ge("fixed rounded-2xl left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-sidebarBackground text-sidebarText p-6 shadow-lg md:w-full",a[2])},s&8&&at(a[3])]):{};s&32&&(u.$$scope={dirty:s,ctx:a}),o.$set(u)},i(a){i||(C(e.$$.fragment,a),C(o.$$.fragment,a),i=!0)},o(a){S(e.$$.fragment,a),S(o.$$.fragment,a),i=!1},d(a){a&&I(n),Y(e,a),Y(o,a)}}}function Rb(t){let e,n;return e=new Cb({props:{$$slots:{default:[Eb]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(o,i){W(e,o,i),n=!0},p(o,[i]){const r={};i&47&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function Lb(t,e,n){const o=["transition","transitionConfig","class"];let i=re(e,o),{$$slots:r={},$$scope:l}=e,{transition:a=Ki}=e,{transitionConfig:s=void 0}=e,{class:u=void 0}=e;return t.$$set=f=>{e=J(J({},e),$e(f)),n(3,i=re(e,o)),"transition"in f&&n(0,a=f.transition),"transitionConfig"in f&&n(1,s=f.transitionConfig),"class"in f&&n(2,u=f.class),"$$scope"in f&&n(5,l=f.$$scope)},[a,s,u,i,r,l]}class tr extends pe{constructor(e){super(),me(this,e,Lb,Rb,fe,{transition:0,transitionConfig:1,class:2})}}function Db(t){let e;const n=t[2].default,o=he(n,t,t[3],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&8)&&ge(o,n,i,i[3],e?_e(n,i[3],r,null):be(i[3]),null)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function $b(t){let e,n;const o=[{class:Ge("text-sm text-muted-foreground",t[0])},t[1]];let i={$$slots:{default:[Db]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=J(i,o[r]);return e=new G_({props:i}),{c(){U(e.$$.fragment)},m(r,l){W(e,r,l),n=!0},p(r,[l]){const a=l&3?Ce(o,[l&1&&{class:Ge("text-sm text-muted-foreground",r[0])},l&2&&at(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){Y(e,r)}}}function qb(t,e,n){const o=["class"];let i=re(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=J(J({},e),$e(s)),n(1,i=re(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,l=s.$$scope)},[a,i,r,l]}class wl extends pe{constructor(e){super(),me(this,e,qb,$b,fe,{class:0})}}const nr=$h;function pa(t,e,n){const o=t.slice();return o[27]=e[n],o}function ha(t,e,n){const o=t.slice();return o[30]=e[n],o}function Fb(t){let e;return{c(){e=H("Pause Menu")},m(n,o){O(n,e,o)},d(n){n&&I(e)}}}function Bb(t){let e;return{c(){e=H("Unpause any time by pressing 'P'")},m(n,o){O(n,e,o)},d(n){n&&I(e)}}}function jb(t){let e,n,o,i;return e=new $n({props:{$$slots:{default:[Fb]},$$scope:{ctx:t}}}),o=new Bn({props:{$$slots:{default:[Bb]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),n=F(),U(o.$$.fragment)},m(r,l){W(e,r,l),O(r,n,l),W(o,r,l),i=!0},p(r,l){const a={};l[1]&4&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l[1]&4&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&I(n),Y(e,r),Y(o,r)}}}function _a(t){let e,n,o,i,r,l=JSON.stringify(t[5].requirements[t[2].difficulty].population_count)+"",a,s,u=JSON.stringify(t[2].townInfo.population_count)+"",f,c,d,p,m=JSON.stringify(t[5].requirements[t[2].difficulty].happiness)+"",_,b,v=JSON.stringify(t[2].townInfo.happiness)+"",h,k,T,P,N=JSON.stringify(t[5].requirements[t[2].difficulty].employment*100)+"",D,B,q=JSON.stringify((t[2].townInfo.employees/t[2].townInfo.population_count||0)*100)+"",G,E,w,A,$,V=JSON.stringify(t[5].requirements[t[2].difficulty].health)+"",R,x,X=JSON.stringify(t[2].townInfo.health)+"",Q,ne,ae,we,Ne=JSON.stringify(t[5].requirements[t[2].difficulty].knowledge)+"",Fe,ee,g=JSON.stringify(t[2].townInfo.knowledge_points)+"",K,Z,ie;function ce(ye,Ze){return ye[2].townInfo.population_count>=ye[5].requirements[ye[2].difficulty].population_count?Gb:Hb}let Te=ce(t),Oe=Te(t);function xe(ye,Ze){return ye[2].townInfo.happiness>=ye[5].requirements[ye[2].difficulty].happiness?Wb:Vb}let de=xe(t),Ie=de(t);function je(ye,Ze){return ye[2].townInfo.employees/ye[2].townInfo.population_count>=ye[5].requirements[ye[2].difficulty].employment?Ub:Yb}let Je=je(t),Ke=Je(t);function He(ye,Ze){return ye[2].townInfo.health>=ye[5].requirements[ye[2].difficulty].health?xb:Kb}let ke=He(t),ve=ke(t);function Ee(ye,Ze){return ye[2].townInfo.knowledge_points>=ye[5].requirements[ye[2].difficulty].knowledge?Jb:Xb}let Qe=Ee(t),st=Qe(t),rt=t[5].requirements[t[2].difficulty].required_plots!=null&&t[5].requirements[t[2].difficulty].required_plots.length>0&&ga(t);return{c(){e=M("div"),e.textContent=`With your difficulty (${t[6]}), you must also have:`,n=F(),o=M("ul"),i=M("li"),Oe.c(),r=H(`
                  Population: `),a=H(l),s=H(" - Currently at "),f=H(u),c=F(),d=M("li"),Ie.c(),p=H(`
                  Happiness: `),_=H(m),b=H(" - Currently at "),h=H(v),k=F(),T=M("li"),Ke.c(),P=H(`
                  Employment: `),D=H(N),B=H("% - Currently at "),G=H(q),E=H("%"),w=F(),A=M("li"),ve.c(),$=H(`
                  Health: `),R=H(V),x=H(" - Currently at "),Q=H(X),ne=F(),ae=M("li"),st.c(),we=H(`
                  Knowledge: `),Fe=H(Ne),ee=H(" - Currently at "),K=H(g),Z=F(),rt&&rt.c(),ie=De(),L(e,"class","leading-relaxed text-sm"),L(o,"class","list-inside list-disc leading-relaxedmt-0 text-sm")},m(ye,Ze){O(ye,e,Ze),O(ye,n,Ze),O(ye,o,Ze),y(o,i),Oe.m(i,null),y(i,r),y(i,a),y(i,s),y(i,f),y(o,c),y(o,d),Ie.m(d,null),y(d,p),y(d,_),y(d,b),y(d,h),y(o,k),y(o,T),Ke.m(T,null),y(T,P),y(T,D),y(T,B),y(T,G),y(T,E),y(o,w),y(o,A),ve.m(A,null),y(A,$),y(A,R),y(A,x),y(A,Q),y(o,ne),y(o,ae),st.m(ae,null),y(ae,we),y(ae,Fe),y(ae,ee),y(ae,K),O(ye,Z,Ze),rt&&rt.m(ye,Ze),O(ye,ie,Ze)},p(ye,Ze){Te!==(Te=ce(ye))&&(Oe.d(1),Oe=Te(ye),Oe&&(Oe.c(),Oe.m(i,r))),Ze[0]&4&&l!==(l=JSON.stringify(ye[5].requirements[ye[2].difficulty].population_count)+"")&&ue(a,l),Ze[0]&4&&u!==(u=JSON.stringify(ye[2].townInfo.population_count)+"")&&ue(f,u),de!==(de=xe(ye))&&(Ie.d(1),Ie=de(ye),Ie&&(Ie.c(),Ie.m(d,p))),Ze[0]&4&&m!==(m=JSON.stringify(ye[5].requirements[ye[2].difficulty].happiness)+"")&&ue(_,m),Ze[0]&4&&v!==(v=JSON.stringify(ye[2].townInfo.happiness)+"")&&ue(h,v),Je!==(Je=je(ye))&&(Ke.d(1),Ke=Je(ye),Ke&&(Ke.c(),Ke.m(T,P))),Ze[0]&4&&N!==(N=JSON.stringify(ye[5].requirements[ye[2].difficulty].employment*100)+"")&&ue(D,N),Ze[0]&4&&q!==(q=JSON.stringify((ye[2].townInfo.employees/ye[2].townInfo.population_count||0)*100)+"")&&ue(G,q),ke!==(ke=He(ye))&&(ve.d(1),ve=ke(ye),ve&&(ve.c(),ve.m(A,$))),Ze[0]&4&&V!==(V=JSON.stringify(ye[5].requirements[ye[2].difficulty].health)+"")&&ue(R,V),Ze[0]&4&&X!==(X=JSON.stringify(ye[2].townInfo.health)+"")&&ue(Q,X),Qe!==(Qe=Ee(ye))&&(st.d(1),st=Qe(ye),st&&(st.c(),st.m(ae,we))),Ze[0]&4&&Ne!==(Ne=JSON.stringify(ye[5].requirements[ye[2].difficulty].knowledge)+"")&&ue(Fe,Ne),Ze[0]&4&&g!==(g=JSON.stringify(ye[2].townInfo.knowledge_points)+"")&&ue(K,g),ye[5].requirements[ye[2].difficulty].required_plots!=null&&ye[5].requirements[ye[2].difficulty].required_plots.length>0?rt?rt.p(ye,Ze):(rt=ga(ye),rt.c(),rt.m(ie.parentNode,ie)):rt&&(rt.d(1),rt=null)},d(ye){ye&&(I(e),I(n),I(o),I(Z),I(ie)),Oe.d(),Ie.d(),Ke.d(),ve.d(),st.d(),rt&&rt.d(ye)}}}function Hb(t){let e;return{c(){e=H("âŒ")},m(n,o){O(n,e,o)},d(n){n&&I(e)}}}function Gb(t){let e;return{c(){e=H("âœ…")},m(n,o){O(n,e,o)},d(n){n&&I(e)}}}function Vb(t){let e;return{c(){e=H("âŒ")},m(n,o){O(n,e,o)},d(n){n&&I(e)}}}function Wb(t){let e;return{c(){e=H("âœ…")},m(n,o){O(n,e,o)},d(n){n&&I(e)}}}function Yb(t){let e;return{c(){e=H("âŒ")},m(n,o){O(n,e,o)},d(n){n&&I(e)}}}function Ub(t){let e;return{c(){e=H("âœ…")},m(n,o){O(n,e,o)},d(n){n&&I(e)}}}function Kb(t){let e;return{c(){e=H("âŒ")},m(n,o){O(n,e,o)},d(n){n&&I(e)}}}function xb(t){let e;return{c(){e=H("âœ…")},m(n,o){O(n,e,o)},d(n){n&&I(e)}}}function Xb(t){let e;return{c(){e=H("âŒ")},m(n,o){O(n,e,o)},d(n){n&&I(e)}}}function Jb(t){let e;return{c(){e=H("âœ…")},m(n,o){O(n,e,o)},d(n){n&&I(e)}}}function ga(t){let e,n,o,i=Ue(t[5].requirements[t[2].difficulty].required_plots),r=[];for(let l=0;l<i.length;l+=1)r[l]=ba(ha(t,i,l));return{c(){e=M("br"),n=H(`
                You also need to have these plots:
                `);for(let l=0;l<r.length;l+=1)r[l].c();o=De()},m(l,a){O(l,e,a),O(l,n,a);for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(l,a);O(l,o,a)},p(l,a){if(a[0]&36){i=Ue(l[5].requirements[l[2].difficulty].required_plots);let s;for(s=0;s<i.length;s+=1){const u=ha(l,i,s);r[s]?r[s].p(u,a):(r[s]=ba(u),r[s].c(),r[s].m(o.parentNode,o))}for(;s<r.length;s+=1)r[s].d(1);r.length=i.length}},d(l){l&&(I(e),I(n),I(o)),ft(r,l)}}}function Zb(t){let e;return{c(){e=H("âŒ")},m(n,o){O(n,e,o)},d(n){n&&I(e)}}}function Qb(t){let e;return{c(){e=H("âœ…")},m(n,o){O(n,e,o)},d(n){n&&I(e)}}}function ba(t){let e,n,o,i,r=t[30]+"",l,a;function s(c,d){return d[0]&4&&(o=null),o==null&&(o=Be(c[30],c[2]).length>0),o?Qb:Zb}let u=s(t,[-1,-1]),f=u(t);return{c(){e=M("div"),n=M("li"),f.c(),i=F(),l=H(r),a=F(),L(e,"class","text-sm")},m(c,d){O(c,e,d),y(e,n),f.m(n,null),y(n,i),y(n,l),y(e,a)},p(c,d){u!==(u=s(c,d))&&(f.d(1),f=u(c),f&&(f.c(),f.m(n,i))),d[0]&4&&r!==(r=c[30]+"")&&ue(l,r)},d(c){c&&I(e),f.d()}}}function zb(t){let e;return{c(){e=H("Save game")},m(n,o){O(n,e,o)},d(n){n&&I(e)}}}function ev(t){let e;return{c(){e=H("Save")},m(n,o){O(n,e,o)},d(n){n&&I(e)}}}function tv(t){let e;return{c(){e=H("Upload game")},m(n,o){O(n,e,o)},d(n){n&&I(e)}}}function nv(t){let e;return{c(){e=H("New Game")},m(n,o){O(n,e,o)},d(n){n&&I(e)}}}function va(t){let e,n;function o(){return t[21](t[27])}return e=new St({props:{class:"bg-blue-600 hover:bg-blue-700 mt-4",id:"collectPrize-"+t[27].id,$$slots:{default:[ov]},$$scope:{ctx:t}}}),e.$on("click",o),{c(){U(e.$$.fragment)},m(i,r){W(e,i,r),n=!0},p(i,r){t=i;const l={};r[0]&2&&(l.id="collectPrize-"+t[27].id),r[0]&2|r[1]&4&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(i){n||(C(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){Y(e,i)}}}function ov(t){let e,n=wa(t[27].prize)+"",o,i;return{c(){e=H("Collect Prize: $"),o=H(n),i=H(" gold")},m(r,l){O(r,e,l),O(r,o,l),O(r,i,l)},p(r,l){l[0]&2&&n!==(n=wa(r[27].prize)+"")&&ue(o,n)},d(r){r&&(I(e),I(o),I(i))}}}function ya(t){let e,n,o,i,r,l,a=t[27].title+"",s,u,f,c=t[27].requirements+"",d,p,m,_=t[27].icon+"",b,v,h,k=t[27].description+"",T,P,N,D,B=t[8](t[27].id)+"",q,G,E,w=t[13](t[27].id)&&!t[9](t[27].id),A,$,V,R=w&&va(t);return{c(){e=M("div"),n=M("div"),o=M("div"),i=M("span"),r=M("div"),l=M("span"),s=H(a),u=F(),f=M("div"),d=H(c),p=F(),m=M("div"),b=H(_),v=F(),h=M("div"),T=H(k),P=F(),N=M("div"),D=H("âœ… Completed on Day "),q=H(B),E=F(),R&&R.c(),A=F(),L(l,"class","font-semibold text-lg"),L(f,"class","font-thin text-white opacity-75 text-xs"),L(r,"class","flex flex-row gap-3 w-[100%] text- items-center "),L(m,"class","text-sm flex-grow pr-1 break-inside-avoid "),L(i,"class","flex flex-row justify-between w-[100%]"),L(o,"class","min-w-32 flex"),L(h,"class","text-white opacity-75 text-sm font-light"),L(N,"class",G=(t[13](t[27].id)?"":"hidden")+" text-xs text-green-400"),L(n,"class","flex-col flex px-3 py-2 gap-0"),L(e,"class",$="flex flex-col gap-3 cursor-default rounded-md "+(t[13](t[27].id)?"bg-green-700":"bg-gray-500 opacity-35"))},m(x,X){O(x,e,X),y(e,n),y(n,o),y(o,i),y(i,r),y(r,l),y(l,s),y(r,u),y(r,f),y(f,d),y(i,p),y(i,m),y(m,b),y(n,v),y(n,h),y(h,T),y(n,P),y(n,N),y(N,D),y(N,q),y(n,E),R&&R.m(n,null),y(e,A),V=!0},p(x,X){(!V||X[0]&2)&&a!==(a=x[27].title+"")&&ue(s,a),(!V||X[0]&2)&&c!==(c=x[27].requirements+"")&&ue(d,c),(!V||X[0]&2)&&_!==(_=x[27].icon+"")&&ue(b,_),(!V||X[0]&2)&&k!==(k=x[27].description+"")&&ue(T,k),(!V||X[0]&2)&&B!==(B=x[8](x[27].id)+"")&&ue(q,B),(!V||X[0]&2&&G!==(G=(x[13](x[27].id)?"":"hidden")+" text-xs text-green-400"))&&L(N,"class",G),X[0]&2&&(w=x[13](x[27].id)&&!x[9](x[27].id)),w?R?(R.p(x,X),X[0]&2&&C(R,1)):(R=va(x),R.c(),C(R,1),R.m(n,null)):R&&(Me(),S(R,1,1,()=>{R=null}),Pe()),(!V||X[0]&2&&$!==($="flex flex-col gap-3 cursor-default rounded-md "+(x[13](x[27].id)?"bg-green-700":"bg-gray-500 opacity-35")))&&L(e,"class",$)},i(x){V||(C(R),V=!0)},o(x){S(R),V=!1},d(x){x&&I(e),R&&R.d()}}}function iv(t){let e,n,o,i,r,l,a,s,u,f,c,d,p,m,_,b,v,h,k,T,P,N,D,B,q,G,E,w,A,$,V,R,x,X,Q,ne,ae,we,Ne,Fe,ee,g,K,Z,ie;e=new qn({props:{$$slots:{default:[jb]},$$scope:{ctx:t}}});let ce=t[2].endGoal=="land"&&_a(t);_=new Do({props:{for:"saveButton",class:`cursor-pointer bg-blue-600 rounded-md text-center p-2.5 hover:bg-blue-700 justify-center flex 
					`,$$slots:{default:[zb]},$$scope:{ctx:t}}}),v=new St({props:{class:`
					bg-blue-600 hover:bg-blue-700 hidden
					`,id:"saveButton",$$slots:{default:[ev]},$$scope:{ctx:t}}}),v.$on("click",t[17]),k=new Do({props:{for:"upload",class:`cursor-pointer bg-blue-600 rounded-md text-center p-2.5 hover:bg-blue-700 justify-center flex 
					`,$$slots:{default:[tv]},$$scope:{ctx:t}}}),P=new bc({props:{class:"hidden",type:"file",id:"upload"}}),P.$on("change",t[12]),D=new St({props:{class:`
					bg-blue-600 hover:bg-blue-700
					`,id:"newGame",$$slots:{default:[nv]},$$scope:{ctx:t}}}),D.$on("click",t[18]),q=new Tt({props:{orientation:"vertical"}});let Te=Ue(t[1]),Oe=[];for(let de=0;de<Te.length;de+=1)Oe[de]=ya(pa(t,Te,de));const xe=de=>S(Oe[de],1,1,()=>{Oe[de]=null});return{c(){U(e.$$.fragment),n=F(),o=M("div"),i=M("div"),r=M("div"),l=M("h4"),l.textContent="This game",a=F(),s=M("span"),s.textContent=`${t[5].description_title}`,u=F(),f=M("div"),ce&&ce.c(),c=F(),d=M("div"),p=M("div"),m=M("div"),U(_.$$.fragment),b=F(),U(v.$$.fragment),h=F(),U(k.$$.fragment),T=F(),U(P.$$.fragment),N=F(),U(D.$$.fragment),B=F(),U(q.$$.fragment),G=F(),E=M("div"),w=M("h4"),w.textContent=`Your achievement (${t[7].length}
          / ${it.length})`,A=F(),$=M("span"),$.textContent="Track your progress through games & complete challenges!",V=F(),R=M("br"),x=F(),X=M("div"),Q=M("input"),ne=F(),ae=M("label"),ae.textContent="Show completed",we=F(),Ne=M("div"),Fe=M("div");for(let de=0;de<Oe.length;de+=1)Oe[de].c();ee=F(),g=M("span"),g.textContent=`Prizes apply to the current game you are in. You can wait to apply
          them until the right time.`,L(l,"class","underline underline-offset-4"),L(s,"class","text-sm text-gray-400"),L(f,"class","mt-6 gap-0 py-0 text-gray-400 text-sm"),L(r,"class","flex-col h-max"),L(m,"class","flex gap-10 justify-start min-w-[100%] w-[100%] items"),L(p,"class","flex flex-col gap-3 h-max"),L(i,"class","flex flex-col gap-6 justify-between"),L(w,"class","underline underline-offset-4"),L($,"class","text-sm text-gray-400"),L(Q,"type","checkbox"),L(Q,"id","toggle-show-completed"),L(Q,"class","rounded"),L(Q,"tabindex","-1"),Q.checked=localStorage.getItem("showCompletedAchievements")==="true",L(ae,"for","toggle-show-completed"),L(ae,"class","text-xs text-gray-400 select-none ml-2 no-select cursor-pointer "),L(X,"class","flex items-center"),L(Fe,"class","flex flex-col gap-4 overflow-scroll pb-20 scroll-smooth"),L(Ne,"class","overflow-scroll mt-2 h-[55vh]"),L(g,"class","text-sm text-yellow-400"),L(o,"class","flex flex-row w-full gap-10")},m(de,Ie){W(e,de,Ie),O(de,n,Ie),O(de,o,Ie),y(o,i),y(i,r),y(r,l),y(r,a),y(r,s),y(r,u),y(r,f),ce&&ce.m(f,null),y(i,c),y(i,d),y(d,p),y(p,m),W(_,m,null),y(m,b),W(v,m,null),y(m,h),W(k,m,null),y(m,T),W(P,m,null),y(m,N),W(D,m,null),y(o,B),W(q,o,null),y(o,G),y(o,E),y(E,w),y(E,A),y(E,$),y(E,V),y(E,R),y(E,x),y(E,X),y(X,Q),y(X,ne),y(X,ae),y(E,we),y(E,Ne),y(Ne,Fe);for(let je=0;je<Oe.length;je+=1)Oe[je]&&Oe[je].m(Fe,null);y(E,ee),y(E,g),K=!0,Z||(ie=[z(Q,"change",t[19]),z(Q,"keydown",t[20])],Z=!0)},p(de,Ie){const je={};Ie[1]&4&&(je.$$scope={dirty:Ie,ctx:de}),e.$set(je),de[2].endGoal=="land"?ce?ce.p(de,Ie):(ce=_a(de),ce.c(),ce.m(f,null)):ce&&(ce.d(1),ce=null);const Je={};Ie[1]&4&&(Je.$$scope={dirty:Ie,ctx:de}),_.$set(Je);const Ke={};Ie[1]&4&&(Ke.$$scope={dirty:Ie,ctx:de}),v.$set(Ke);const He={};Ie[1]&4&&(He.$$scope={dirty:Ie,ctx:de}),k.$set(He);const ke={};if(Ie[1]&4&&(ke.$$scope={dirty:Ie,ctx:de}),D.$set(ke),Ie[0]&9986){Te=Ue(de[1]);let ve;for(ve=0;ve<Te.length;ve+=1){const Ee=pa(de,Te,ve);Oe[ve]?(Oe[ve].p(Ee,Ie),C(Oe[ve],1)):(Oe[ve]=ya(Ee),Oe[ve].c(),C(Oe[ve],1),Oe[ve].m(Fe,null))}for(Me(),ve=Te.length;ve<Oe.length;ve+=1)xe(ve);Pe()}},i(de){if(!K){C(e.$$.fragment,de),C(_.$$.fragment,de),C(v.$$.fragment,de),C(k.$$.fragment,de),C(P.$$.fragment,de),C(D.$$.fragment,de),C(q.$$.fragment,de);for(let Ie=0;Ie<Te.length;Ie+=1)C(Oe[Ie]);K=!0}},o(de){S(e.$$.fragment,de),S(_.$$.fragment,de),S(v.$$.fragment,de),S(k.$$.fragment,de),S(P.$$.fragment,de),S(D.$$.fragment,de),S(q.$$.fragment,de),Oe=Oe.filter(Boolean);for(let Ie=0;Ie<Oe.length;Ie+=1)S(Oe[Ie]);K=!1},d(de){de&&(I(n),I(o)),Y(e,de),ce&&ce.d(),Y(_),Y(v),Y(k),Y(P),Y(D),Y(q),ft(Oe,de),Z=!1,Ve(ie)}}}function rv(t){let e,n;return e=new Fn({props:{class:" max-w-[90vw] max-h-[90vh] bg-foregroundDark text-accentText",$$slots:{default:[iv]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(o,i){W(e,o,i),n=!0},p(o,i){const r={};i[0]&6|i[1]&4&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function lv(t){var o;let e=((o=t[14]())==null?void 0:o.title)+"",n;return{c(){n=H(e)},m(i,r){O(i,n,r)},p:Se,d(i){i&&I(n)}}}function sv(t){let e,n,o,i;return{c(){var r,l;e=M("div"),n=M("div"),n.textContent=`${(r=t[14]())==null?void 0:r.icon}`,o=F(),i=M("div"),i.textContent=`${(l=t[14]())==null?void 0:l.description}`,L(n,"class","text-center w-[30%] align-middle flex flex-col text-8xl"),L(i,"class","pl-8 w-[80%] align-middle flex flex-col justify-center text-lg"),L(e,"class","flex flex-row align-middle justify-evenly px-6 py-4")},m(r,l){O(r,e,l),y(e,n),y(e,o),y(e,i)},p:Se,d(r){r&&I(e)}}}function av(t){let e,n,o,i;return e=new vc({props:{class:"text-center text-lg font-bold",$$slots:{default:[lv]},$$scope:{ctx:t}}}),o=new wl({props:{$$slots:{default:[sv]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),n=F(),U(o.$$.fragment)},m(r,l){W(e,r,l),O(r,n,l),W(o,r,l),i=!0},p(r,l){const a={};l[1]&4&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l[1]&4&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&I(n),Y(e,r),Y(o,r)}}}function uv(t){let e;return{c(){e=H("Close to collect prize")},m(n,o){O(n,e,o)},d(n){n&&I(e)}}}function fv(t){let e,n;return e=new wc({props:{$$slots:{default:[uv]},$$scope:{ctx:t}}}),e.$on("click",t[23]),{c(){U(e.$$.fragment)},m(o,i){W(e,o,i),n=!0},p(o,i){const r={};i[1]&4&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function cv(t){let e,n,o,i;return e=new yl({props:{$$slots:{default:[av]},$$scope:{ctx:t}}}),o=new er({props:{$$slots:{default:[fv]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),n=F(),U(o.$$.fragment)},m(r,l){W(e,r,l),O(r,n,l),W(o,r,l),i=!0},p(r,l){const a={};l[1]&4&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l[0]&16|l[1]&4&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&I(n),Y(e,r),Y(o,r)}}}function dv(t){let e,n;return e=new tr({props:{$$slots:{default:[cv]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(o,i){W(e,o,i),n=!0},p(o,i){const r={};i[0]&16|i[1]&4&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function mv(t){let e,n,o,i,r;function l(s){t[22](s)}let a={$$slots:{default:[rv]},$$scope:{ctx:t}};return t[3]!==void 0&&(a.open=t[3]),e=new jn({props:a}),Le.push(()=>hn(e,"open",l)),i=new nr({props:{open:t[4],$$slots:{default:[dv]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),o=F(),U(i.$$.fragment)},m(s,u){W(e,s,u),O(s,o,u),W(i,s,u),r=!0},p(s,u){const f={};u[0]&6|u[1]&4&&(f.$$scope={dirty:u,ctx:s}),!n&&u[0]&8&&(n=!0,f.open=s[3],pn(()=>n=!1)),e.$set(f);const c={};u[0]&16&&(c.open=s[4]),u[0]&16|u[1]&4&&(c.$$scope={dirty:u,ctx:s}),i.$set(c)},i(s){r||(C(e.$$.fragment,s),C(i.$$.fragment,s),r=!0)},o(s){S(e.$$.fragment,s),S(i.$$.fragment,s),r=!1},d(s){s&&I(o),Y(e,s),Y(i,s)}}}function wa(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function pv(t){const e=JSON.parse(t);return e.townInfo!=null&&e.difficulty!=null}function hv(t,e,n){let o,i,r,l,a;le(t,Ct,A=>n(3,o=A)),le(t,Zt,A=>n(25,i=A)),le(t,qe,A=>n(2,r=A)),le(t,Ci,A=>n(16,l=A)),le(t,wi,A=>n(4,a=A));const u=Pn[r.endGoal],f=al[r.difficulty]||0;it.sort((A,$)=>h(A.id)&&!h($.id)?-1:!h(A.id)&&h($.id)?1:0);const c=it.filter(A=>h(A.id));function d(A){const $=i.achievements.find(V=>V[0]==A);return $==null?0:`${$[1]} in ${$[2]}.`}function p(A){const $=i.achievements.find(V=>V[0]==A);return $==null?!1:$[3]}function m(A){const $=i.achievements.find(R=>R[0]==A);if($==null)return;const V=it.find(R=>R.id==A);V!=null&&(Re(qe,r.townInfo.gold+=V.prize,r),$[3]=!0,Re(Zt,i.achievements=i.achievements.map(R=>R[0]==A?$:R),i))}let _=it;function b(){const A=JSON.stringify(r),$=new Blob([A],{type:"text/plain"}),V=URL.createObjectURL($),R=document.createElement("a");R.href=V,R.download=`${new Date().toISOString()}.json`,document.body.appendChild(R),R.click(),document.body.removeChild(R),URL.revokeObjectURL(V)}function v(){const $=document.getElementById("upload").files;if($==null)return;const V=$[0],R=new FileReader;R.onload=function(x){if(x.target==null)return;const X=x.target.result;if(typeof X=="string"){if(!pv(X)){ht.set("Invalid game file");return}vi(JSON.parse(X))}else ht.set("Invalid game file: is not String.")},R.readAsText(V)}function h(A){return i.achievements==null?!1:i.achievements.find($=>$[0]==A)!=null}function k(){Ci.update(A=>!A),localStorage.setItem("showCompletedAchievements",localStorage.getItem("showCompletedAchievements")==="true"?"false":"true")}localStorage.getItem("pauseMenuTab")==null&&(localStorage.setItem("pauseMenuTab","game"),Mf.set("game"));function T(){const A=i.achievements[i.achievements.length-1];if(A!=null)return it.find($=>$.id==A[0])}function P(){Re(Ct,o=!0,o),localStorage.setItem("reset","true"),vi()}const N=()=>b(),D=()=>P(),B=()=>{k()},q=A=>{A.key==="p"&&Ct.set(!1)},G=A=>{m(A.id);const $=document.getElementById(`collectPrize-${A.id}`);$&&($.style.display="none")};function E(A){o=A,Ct.set(o)}const w=()=>{Re(wi,a=!1,a)};return t.$$.update=()=>{if(t.$$.dirty[0]&65542&&r)if(l)n(1,_=it);else{n(1,_=[]);for(let A=0;A<it.length;A++)(!h(it[A].id)||!p(it[A].id))&&_.push(it[A])}},[k,_,r,o,a,u,f,c,d,p,m,b,v,h,T,P,l,N,D,B,q,G,E,w]}class _v extends pe{constructor(e){super(),me(this,e,hv,mv,fe,{toggleShowCompleted:0},null,[-1,-1])}get toggleShowCompleted(){return this.$$.ctx[0]}}function gv(){console.log("%cRUNNING STABILITY TESTS...","color: #26bfa5;");let t=0;return console.log("%cPASSED ALL STABILITY TESTS ðŸ˜","color: #26bfa5;"),t}function bv(t){let e=t[0].endGameDetails.win==!0?"You won! ðŸŽ‰":"You lost! ðŸ˜­",n;return{c(){n=H(e)},m(o,i){O(o,n,i)},p(o,i){i&1&&e!==(e=o[0].endGameDetails.win==!0?"You won! ðŸŽ‰":"You lost! ðŸ˜­")&&ue(n,e)},d(o){o&&I(n)}}}function vv(t){let e;return{c(){e=H("Keep playin'")},m(n,o){O(n,e,o)},d(n){n&&I(e)}}}function yv(t){let e,n=t[0].endGameDetails.msg+"",o,i,r,l,a,s,u,f;return u=new St({props:{class:"bg-accent",$$slots:{default:[vv]},$$scope:{ctx:t}}}),u.$on("click",t[2]),{c(){e=M("span"),o=H(n),i=F(),r=M("br"),l=F(),a=M("br"),s=F(),U(u.$$.fragment),L(e,"class","text-gray-500 text-sm")},m(c,d){O(c,e,d),y(e,o),O(c,i,d),O(c,r,d),O(c,l,d),O(c,a,d),O(c,s,d),W(u,c,d),f=!0},p(c,d){(!f||d&1)&&n!==(n=c[0].endGameDetails.msg+"")&&ue(o,n);const p={};d&16&&(p.$$scope={dirty:d,ctx:c}),u.$set(p)},i(c){f||(C(u.$$.fragment,c),f=!0)},o(c){S(u.$$.fragment,c),f=!1},d(c){c&&(I(e),I(i),I(r),I(l),I(a),I(s)),Y(u,c)}}}function wv(t){let e,n,o,i;return e=new $n({props:{$$slots:{default:[bv]},$$scope:{ctx:t}}}),o=new Bn({props:{$$slots:{default:[yv]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),n=F(),U(o.$$.fragment)},m(r,l){W(e,r,l),O(r,n,l),W(o,r,l),i=!0},p(r,l){const a={};l&17&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&17&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&I(n),Y(e,r),Y(o,r)}}}function kv(t){let e;return{c(){e=M("span"),e.textContent="Reset the game by pressing SHIFT+ESC",L(e,"class","text-gray-500 text-sm")},m(n,o){O(n,e,o)},p:Se,d(n){n&&I(e)}}}function Cv(t){let e,n,o,i;return e=new qn({props:{$$slots:{default:[wv]},$$scope:{ctx:t}}}),o=new co({props:{$$slots:{default:[kv]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),n=F(),U(o.$$.fragment)},m(r,l){W(e,r,l),O(r,n,l),W(o,r,l),i=!0},p(r,l){const a={};l&17&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&16&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&I(n),Y(e,r),Y(o,r)}}}function Av(t){let e,n;return e=new Fn({props:{class:"bg-foregroundDark text-accentText",$$slots:{default:[Cv]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(o,i){W(e,o,i),n=!0},p(o,i){const r={};i&17&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function Sv(t){let e,n,o;function i(l){t[3](l)}let r={$$slots:{default:[Av]},$$scope:{ctx:t}};return t[1]!==void 0&&(r.open=t[1]),e=new jn({props:r}),Le.push(()=>hn(e,"open",i)),{c(){U(e.$$.fragment)},m(l,a){W(e,l,a),o=!0},p(l,[a]){const s={};a&17&&(s.$$scope={dirty:a,ctx:l}),!n&&a&2&&(n=!0,s.open=l[1],pn(()=>n=!1)),e.$set(s)},i(l){o||(C(e.$$.fragment,l),o=!0)},o(l){S(e.$$.fragment,l),o=!1},d(l){Y(e,l)}}}function Tv(t,e,n){let o;le(t,qe,a=>n(0,o=a));let i=!1;function r(){let a=o;a.overtime=!0,qe.set(a),n(1,i=!1),Ct.set(!1)}function l(a){i=a,n(1,i),n(0,o)}return t.$$.update=()=>{t.$$.dirty&1&&(o.endGameDetails.msg!=""&&o.overtime==!1?n(1,i=!0):n(1,i=!1))},[o,i,r,l]}class Iv extends pe{constructor(e){super(),me(this,e,Tv,Sv,fe,{})}}function Ov(t){let e;return{c(){e=H("Welcome to Plots!")},m(n,o){O(n,e,o)},d(n){n&&I(e)}}}function Mv(t){let e;return{c(){e=H("Select a game mode")},m(n,o){O(n,e,o)},d(n){n&&I(e)}}}function Pv(t){let e;return{c(){e=M("p"),e.textContent=`${Pn.free_play.description_title}`,L(e,"class","text-gray-500 text-sm")},m(n,o){O(n,e,o)},d(n){n&&I(e)}}}function Nv(t){let e;return{c(){e=M("p"),e.textContent=`${Pn.land.description_title}`,L(e,"class","text-gray-500 text-sm")},m(n,o){O(n,e,o)},d(n){n&&I(e)}}}function Ev(t){let e;return{c(){e=H("Town Name")},m(n,o){O(n,e,o)},d(n){n&&I(e)}}}function Rv(t){let e;return{c(){e=H("Other game settings")},m(n,o){O(n,e,o)},d(n){n&&I(e)}}}function Lv(t){let e,n,o,i,r,l,a,s,u,f,c,d,p,m,_,b,v,h,k,T,P,N,D,B,q,G,E,w,A,$=Hv;l=new Do({props:{for:"endGoal",class:"mt-2",$$slots:{default:[Mv]},$$scope:{ctx:t}}});function V(X,Q){return X[0]==="land"?Nv:Pv}let R=V(t),x=R(t);return m=new Do({props:{for:"townName",class:"mt-2",$$slots:{default:[Ev]},$$scope:{ctx:t}}}),b=new bc({props:{id:"townName",class:"mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Will be randomized if you leave blank"}}),h=new Do({props:{for:"difficulty",class:"mt-2",$$slots:{default:[Rv]},$$scope:{ctx:t}}}),{c(){e=M("a"),e.textContent="GitHub / Learn how to play",n=F(),o=M("div"),i=F(),r=M("div"),U(l.$$.fragment),a=F(),x.c(),s=F(),u=M("select"),f=M("option"),f.textContent=`${Pn.land.short_title}`,c=M("option"),c.textContent=`${Pn.free_play.short_title}`,d=F(),p=M("div"),U(m.$$.fragment),_=F(),U(b.$$.fragment),v=F(),U(h.$$.fragment),k=F(),T=M("div"),T.innerHTML='<input type="checkbox" id="devMode" class="mt-1"/> <label for="devMode" class="mt-2 svelte-1exvv8p">Dev mode</label>',P=F(),N=M("div"),N.innerHTML=`<input type="checkbox" id="tomPetty" class="mt-1"/> <label for="tomPetty" class="mt-2 svelte-1exvv8p">The &#39;Tom Petty&#39; mode. If your happiness or health reaches 0, you
              lose 90% of your gold and continue the game. You won&#39;t back down.</label>`,D=F(),B=M("div"),B.innerHTML=`<input type="checkbox" id="casual" class="mt-1"/> <label for="casual" class="mt-2 svelte-1exvv8p">Casual game. Faster and easier overall while exposing more of the
              game mechanics.</label>`,q=F(),G=M("div"),G.innerHTML='<input type="checkbox" id="bagOfHolding" class="mt-1"/> <label for="bagOfHolding" class="mt-2 svelte-1exvv8p">Bag of Holding. No resource cap or need to purchase stockpiles.</label>',L(e,"href","https://github.com/josephrcox/plots#how-to-play"),L(e,"class","text-blue-500 text-sm mb-4 hover:underline"),L(e,"target","_blank"),f.__value="land",pi(f,f.__value),c.__value="free_play",pi(c,c.__value),L(u,"id","endGoal"),L(u,"class","mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),L(T,"class","hidden"),L(o,"class","flex flex-col justify-center gap-5 mt-4")},m(X,Q){O(X,e,Q),O(X,n,Q),O(X,o,Q),y(o,i),y(o,r),W(l,r,null),y(r,a),x.m(r,null),y(r,s),y(r,u),y(u,f),y(u,c),Rl(u,t[0]),y(o,d),y(o,p),W(m,p,null),y(p,_),W(b,p,null),y(o,v),W(h,o,null),y(o,k),y(o,T),y(o,P),y(o,N),y(o,D),y(o,B),y(o,q),y(o,G),E=!0,w||(A=z(u,"change",t[4]),w=!0)},p(X,Q){const ne={};Q&256&&(ne.$$scope={dirty:Q,ctx:X}),l.$set(ne),R!==(R=V(X))&&(x.d(1),x=R(X),x&&(x.c(),x.m(r,s))),(!E||Q&1)&&Rl(u,X[0]);const ae={};Q&256&&(ae.$$scope={dirty:Q,ctx:X}),m.$set(ae);const we={};Q&256&&(we.$$scope={dirty:Q,ctx:X}),h.$set(we)},i(X){E||(C($),C(l.$$.fragment,X),C(m.$$.fragment,X),C(b.$$.fragment,X),C(h.$$.fragment,X),E=!0)},o(X){S($),S(l.$$.fragment,X),S(m.$$.fragment,X),S(b.$$.fragment,X),S(h.$$.fragment,X),E=!1},d(X){X&&(I(e),I(n),I(o)),Y(l),x.d(),Y(m),Y(b),Y(h),w=!1,A()}}}function Dv(t){let e,n,o,i;return e=new $n({props:{$$slots:{default:[Ov]},$$scope:{ctx:t}}}),o=new Bn({props:{$$slots:{default:[Lv]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),n=F(),U(o.$$.fragment)},m(r,l){W(e,r,l),O(r,n,l),W(o,r,l),i=!0},p(r,l){const a={};l&256&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&257&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&I(n),Y(e,r),Y(o,r)}}}function $v(t){let e;return{c(){e=H("Reset user")},m(n,o){O(n,e,o)},d(n){n&&I(e)}}}function qv(t){let e,n,o=t[1].username+"",i,r,l,a,s,u,f,c,d;return a=new St({props:{$$slots:{default:[$v]},$$scope:{ctx:t}}}),a.$on("click",t[5]),{c(){e=M("div"),n=M("span"),i=H(o),r=F(),l=M("div"),U(a.$$.fragment),s=F(),u=M("button"),u.textContent="Start game",L(n,"class","opacity-30 text-xs py-2 text-start rounded h-full flex flex-col justify-center mr-10"),L(u,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-md"),L(e,"class","flex flex-row justify-between w-full px-1")},m(p,m){O(p,e,m),y(e,n),y(n,i),y(e,r),y(e,l),W(a,l,null),y(l,s),y(l,u),f=!0,c||(d=[z(n,"click",t[6]),z(u,"click",t[3])],c=!0)},p(p,m){(!f||m&2)&&o!==(o=p[1].username+"")&&ue(i,o);const _={};m&256&&(_.$$scope={dirty:m,ctx:p}),a.$set(_)},i(p){f||(C(a.$$.fragment,p),f=!0)},o(p){S(a.$$.fragment,p),f=!1},d(p){p&&I(e),Y(a),c=!1,Ve(d)}}}function Fv(t){let e,n,o,i;return e=new qn({props:{$$slots:{default:[Dv]},$$scope:{ctx:t}}}),o=new co({props:{$$slots:{default:[qv]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),n=F(),U(o.$$.fragment)},m(r,l){W(e,r,l),O(r,n,l),W(o,r,l),i=!0},p(r,l){const a={};l&257&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&258&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&I(n),Y(e,r),Y(o,r)}}}function Bv(t){let e,n;return e=new Fn({props:{transition:Ki,class:"bg-foregroundDark text-accentText",$$slots:{default:[Fv]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(o,i){W(e,o,i),n=!0},p(o,i){const r={};i&259&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function jv(t){let e,n,o;function i(l){t[7](l)}let r={$$slots:{default:[Bv]},$$scope:{ctx:t}};return t[2].visible!==void 0&&(r.open=t[2].visible),e=new jn({props:r}),Le.push(()=>hn(e,"open",i)),{c(){U(e.$$.fragment)},m(l,a){W(e,l,a),o=!0},p(l,[a]){const s={};a&259&&(s.$$scope={dirty:a,ctx:l}),!n&&a&4&&(n=!0,s.open=l[2].visible,pn(()=>n=!1)),e.$set(s)},i(l){o||(C(e.$$.fragment,l),o=!0)},o(l){S(e.$$.fragment,l),o=!1},d(l){Y(e,l)}}}const Hv=!1;function Gv(t,e,n){let o,i;le(t,Zt,c=>n(1,o=c)),le(t,No,c=>n(2,i=c)),Ct.set(!1);function r(){const c="1",d=document.getElementById("endGoal").value,p=document.getElementById("townName").value,_=["devMode","tomPetty","casual","bagOfHolding"].filter(h=>document.getElementById(h).checked);Rd(c,d,p,_)}let l="free_play";const a=c=>{n(0,l=c.target.value)};function s(){ht.set("Deleted :)"),localStorage.clear(),window.location.href=""}function u(){const c=prompt("Enter new username");let d=o;d.username=c,$d(d)}function f(c){t.$$.not_equal(i.visible,c)&&(i.visible=c,No.set(i))}return[l,o,i,r,a,s,u,f]}class Vv extends pe{constructor(e){super(),me(this,e,Gv,jv,fe,{})}}function Wv(t){let e;return{c(){e=H("Scoreboard")},m(n,o){O(n,e,o)},d(n){n&&I(e)}}}function Yv(t){let e=t[1].description_title+"",n;return{c(){n=H(e)},m(o,i){O(o,n,i)},p:Se,d(o){o&&I(n)}}}function Uv(t){let e,n,o,i;return e=new $n({props:{$$slots:{default:[Wv]},$$scope:{ctx:t}}}),o=new Bn({props:{$$slots:{default:[Yv]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),n=F(),U(o.$$.fragment)},m(r,l){W(e,r,l),O(r,n,l),W(o,r,l),i=!0},p(r,l){const a={};l&128&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&128&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&I(n),Y(e,r),Y(o,r)}}}function Kv(t){let e;return{c(){e=H("footer")},m(n,o){O(n,e,o)},d(n){n&&I(e)}}}function xv(t){let e,n,o,i;return e=new qn({props:{$$slots:{default:[Uv]},$$scope:{ctx:t}}}),o=new co({props:{$$slots:{default:[Kv]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),n=H(`
		hi
		`),U(o.$$.fragment)},m(r,l){W(e,r,l),O(r,n,l),W(o,r,l),i=!0},p(r,l){const a={};l&128&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&128&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&I(n),Y(e,r),Y(o,r)}}}function Xv(t){let e,n;return e=new Fn({props:{$$slots:{default:[xv]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(o,i){W(e,o,i),n=!0},p(o,i){const r={};i&128&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function Jv(t){let e,n,o;function i(l){t[3](l)}let r={$$slots:{default:[Xv]},$$scope:{ctx:t}};return t[0]!==void 0&&(r.open=t[0]),e=new jn({props:r}),Le.push(()=>hn(e,"open",i)),{c(){U(e.$$.fragment)},m(l,a){W(e,l,a),o=!0},p(l,[a]){const s={};a&128&&(s.$$scope={dirty:a,ctx:l}),!n&&a&1&&(n=!0,s.open=l[0],pn(()=>n=!1)),e.$set(s)},i(l){o||(C(e.$$.fragment,l),o=!0)},o(l){S(e.$$.fragment,l),o=!1},d(l){Y(e,l)}}}function Zv(t,e,n){let o,i;le(t,qe,s=>n(2,o=s)),le(t,ql,s=>n(0,i=s));const l=Pn[o.endGoal];al[o.difficulty];function a(s){i=s,ql.set(i)}return t.$$.update=()=>{t.$$.dirty&4},[i,l,o,a]}class Qv extends pe{constructor(e){super(),me(this,e,Zv,Jv,fe,{})}}function ui(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function zv(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function kc(t){let e,n,o;t.length!==2?(e=ui,n=(a,s)=>ui(t(a),s),o=(a,s)=>t(a)-s):(e=t===ui||t===zv?t:ey,n=t,o=t);function i(a,s,u=0,f=a.length){if(u<f){if(e(s,s)!==0)return f;do{const c=u+f>>>1;n(a[c],s)<0?u=c+1:f=c}while(u<f)}return u}function r(a,s,u=0,f=a.length){if(u<f){if(e(s,s)!==0)return f;do{const c=u+f>>>1;n(a[c],s)<=0?u=c+1:f=c}while(u<f)}return u}function l(a,s,u=0,f=a.length){const c=i(a,s,u,f-1);return c>u&&o(a[c-1],s)>-o(a[c],s)?c-1:c}return{left:i,center:l,right:r}}function ey(){return 0}function ty(t){return t===null?NaN:+t}const ny=kc(ui),oy=ny.right;kc(ty).center;const iy=Math.sqrt(50),ry=Math.sqrt(10),ly=Math.sqrt(2);function Ni(t,e,n){const o=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(o)),r=o/Math.pow(10,i),l=r>=iy?10:r>=ry?5:r>=ly?2:1;let a,s,u;return i<0?(u=Math.pow(10,-i)/l,a=Math.round(t*u),s=Math.round(e*u),a/u<t&&++a,s/u>e&&--s,u=-u):(u=Math.pow(10,i)*l,a=Math.round(t/u),s=Math.round(e/u),a*u<t&&++a,s*u>e&&--s),s<a&&.5<=n&&n<2?Ni(t,e,n*2):[a,s,u]}function sy(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const o=e<t,[i,r,l]=o?Ni(e,t,n):Ni(t,e,n);if(!(r>=i))return[];const a=r-i+1,s=new Array(a);if(o)if(l<0)for(let u=0;u<a;++u)s[u]=(r-u)/-l;else for(let u=0;u<a;++u)s[u]=(r-u)*l;else if(l<0)for(let u=0;u<a;++u)s[u]=(i+u)/-l;else for(let u=0;u<a;++u)s[u]=(i+u)*l;return s}function Gr(t,e,n){return e=+e,t=+t,n=+n,Ni(t,e,n)[2]}function ay(t,e,n){e=+e,t=+t,n=+n;const o=e<t,i=o?Gr(e,t,n):Gr(t,e,n);return(o?-1:1)*(i<0?1/-i:i)}function uy(t){return t}var wr=1,kr=2,Vr=3,To=4,ka=1e-6;function fy(t){return"translate("+t+",0)"}function cy(t){return"translate(0,"+t+")"}function dy(t){return e=>+t(e)}function my(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function py(){return!this.__axis}function Cc(t,e){var n=[],o=null,i=null,r=6,l=6,a=3,s=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=t===wr||t===To?-1:1,f=t===To||t===kr?"x":"y",c=t===wr||t===Vr?fy:cy;function d(p){var m=o??(e.ticks?e.ticks.apply(e,n):e.domain()),_=i??(e.tickFormat?e.tickFormat.apply(e,n):uy),b=Math.max(r,0)+a,v=e.range(),h=+v[0]+s,k=+v[v.length-1]+s,T=(e.bandwidth?my:dy)(e.copy(),s),P=p.selection?p.selection():p,N=P.selectAll(".domain").data([null]),D=P.selectAll(".tick").data(m,e).order(),B=D.exit(),q=D.enter().append("g").attr("class","tick"),G=D.select("line"),E=D.select("text");N=N.merge(N.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),D=D.merge(q),G=G.merge(q.append("line").attr("stroke","currentColor").attr(f+"2",u*r)),E=E.merge(q.append("text").attr("fill","currentColor").attr(f,u*b).attr("dy",t===wr?"0em":t===Vr?"0.71em":"0.32em")),p!==P&&(N=N.transition(p),D=D.transition(p),G=G.transition(p),E=E.transition(p),B=B.transition(p).attr("opacity",ka).attr("transform",function(w){return isFinite(w=T(w))?c(w+s):this.getAttribute("transform")}),q.attr("opacity",ka).attr("transform",function(w){var A=this.parentNode.__axis;return c((A&&isFinite(A=A(w))?A:T(w))+s)})),B.remove(),N.attr("d",t===To||t===kr?l?"M"+u*l+","+h+"H"+s+"V"+k+"H"+u*l:"M"+s+","+h+"V"+k:l?"M"+h+","+u*l+"V"+s+"H"+k+"V"+u*l:"M"+h+","+s+"H"+k),D.attr("opacity",1).attr("transform",function(w){return c(T(w)+s)}),G.attr(f+"2",u*r),E.attr(f,u*b).text(_),P.filter(py).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===kr?"start":t===To?"end":"middle"),P.each(function(){this.__axis=T})}return d.scale=function(p){return arguments.length?(e=p,d):e},d.ticks=function(){return n=Array.from(arguments),d},d.tickArguments=function(p){return arguments.length?(n=p==null?[]:Array.from(p),d):n.slice()},d.tickValues=function(p){return arguments.length?(o=p==null?null:Array.from(p),d):o&&o.slice()},d.tickFormat=function(p){return arguments.length?(i=p,d):i},d.tickSize=function(p){return arguments.length?(r=l=+p,d):r},d.tickSizeInner=function(p){return arguments.length?(r=+p,d):r},d.tickSizeOuter=function(p){return arguments.length?(l=+p,d):l},d.tickPadding=function(p){return arguments.length?(a=+p,d):a},d.offset=function(p){return arguments.length?(s=+p,d):s},d}function hy(t){return Cc(Vr,t)}function _y(t){return Cc(To,t)}var gy={value:()=>{}};function Ac(){for(var t=0,e=arguments.length,n={},o;t<e;++t){if(!(o=arguments[t]+"")||o in n||/[\s.]/.test(o))throw new Error("illegal type: "+o);n[o]=[]}return new fi(n)}function fi(t){this._=t}function by(t,e){return t.trim().split(/^|\s+/).map(function(n){var o="",i=n.indexOf(".");if(i>=0&&(o=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:o}})}fi.prototype=Ac.prototype={constructor:fi,on:function(t,e){var n=this._,o=by(t+"",n),i,r=-1,l=o.length;if(arguments.length<2){for(;++r<l;)if((i=(t=o[r]).type)&&(i=vy(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++r<l;)if(i=(t=o[r]).type)n[i]=Ca(n[i],t.name,e);else if(e==null)for(i in n)n[i]=Ca(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new fi(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),o=0,i,r;o<i;++o)n[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=this._[t],o=0,i=r.length;o<i;++o)r[o].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var o=this._[t],i=0,r=o.length;i<r;++i)o[i].value.apply(e,n)}};function vy(t,e){for(var n=0,o=t.length,i;n<o;++n)if((i=t[n]).name===e)return i.value}function Ca(t,e,n){for(var o=0,i=t.length;o<i;++o)if(t[o].name===e){t[o]=gy,t=t.slice(0,o).concat(t.slice(o+1));break}return n!=null&&t.push({name:e,value:n}),t}var Wr="http://www.w3.org/1999/xhtml";const Aa={svg:"http://www.w3.org/2000/svg",xhtml:Wr,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function or(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Aa.hasOwnProperty(e)?{space:Aa[e],local:t}:t}function yy(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Wr&&e.documentElement.namespaceURI===Wr?e.createElement(t):e.createElementNS(n,t)}}function wy(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Sc(t){var e=or(t);return(e.local?wy:yy)(e)}function ky(){}function kl(t){return t==null?ky:function(){return this.querySelector(t)}}function Cy(t){typeof t!="function"&&(t=kl(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var r=e[i],l=r.length,a=o[i]=new Array(l),s,u,f=0;f<l;++f)(s=r[f])&&(u=t.call(s,s.__data__,f,r))&&("__data__"in s&&(u.__data__=s.__data__),a[f]=u);return new It(o,this._parents)}function Ay(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Sy(){return[]}function Tc(t){return t==null?Sy:function(){return this.querySelectorAll(t)}}function Ty(t){return function(){return Ay(t.apply(this,arguments))}}function Iy(t){typeof t=="function"?t=Ty(t):t=Tc(t);for(var e=this._groups,n=e.length,o=[],i=[],r=0;r<n;++r)for(var l=e[r],a=l.length,s,u=0;u<a;++u)(s=l[u])&&(o.push(t.call(s,s.__data__,u,l)),i.push(s));return new It(o,i)}function Ic(t){return function(){return this.matches(t)}}function Oc(t){return function(e){return e.matches(t)}}var Oy=Array.prototype.find;function My(t){return function(){return Oy.call(this.children,t)}}function Py(){return this.firstElementChild}function Ny(t){return this.select(t==null?Py:My(typeof t=="function"?t:Oc(t)))}var Ey=Array.prototype.filter;function Ry(){return Array.from(this.children)}function Ly(t){return function(){return Ey.call(this.children,t)}}function Dy(t){return this.selectAll(t==null?Ry:Ly(typeof t=="function"?t:Oc(t)))}function $y(t){typeof t!="function"&&(t=Ic(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var r=e[i],l=r.length,a=o[i]=[],s,u=0;u<l;++u)(s=r[u])&&t.call(s,s.__data__,u,r)&&a.push(s);return new It(o,this._parents)}function Mc(t){return new Array(t.length)}function qy(){return new It(this._enter||this._groups.map(Mc),this._parents)}function Ei(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Ei.prototype={constructor:Ei,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Fy(t){return function(){return t}}function By(t,e,n,o,i,r){for(var l=0,a,s=e.length,u=r.length;l<u;++l)(a=e[l])?(a.__data__=r[l],o[l]=a):n[l]=new Ei(t,r[l]);for(;l<s;++l)(a=e[l])&&(i[l]=a)}function jy(t,e,n,o,i,r,l){var a,s,u=new Map,f=e.length,c=r.length,d=new Array(f),p;for(a=0;a<f;++a)(s=e[a])&&(d[a]=p=l.call(s,s.__data__,a,e)+"",u.has(p)?i[a]=s:u.set(p,s));for(a=0;a<c;++a)p=l.call(t,r[a],a,r)+"",(s=u.get(p))?(o[a]=s,s.__data__=r[a],u.delete(p)):n[a]=new Ei(t,r[a]);for(a=0;a<f;++a)(s=e[a])&&u.get(d[a])===s&&(i[a]=s)}function Hy(t){return t.__data__}function Gy(t,e){if(!arguments.length)return Array.from(this,Hy);var n=e?jy:By,o=this._parents,i=this._groups;typeof t!="function"&&(t=Fy(t));for(var r=i.length,l=new Array(r),a=new Array(r),s=new Array(r),u=0;u<r;++u){var f=o[u],c=i[u],d=c.length,p=Vy(t.call(f,f&&f.__data__,u,o)),m=p.length,_=a[u]=new Array(m),b=l[u]=new Array(m),v=s[u]=new Array(d);n(f,c,_,b,v,p,e);for(var h=0,k=0,T,P;h<m;++h)if(T=_[h]){for(h>=k&&(k=h+1);!(P=b[k])&&++k<m;);T._next=P||null}}return l=new It(l,o),l._enter=a,l._exit=s,l}function Vy(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Wy(){return new It(this._exit||this._groups.map(Mc),this._parents)}function Yy(t,e,n){var o=this.enter(),i=this,r=this.exit();return typeof t=="function"?(o=t(o),o&&(o=o.selection())):o=o.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?r.remove():n(r),o&&i?o.merge(i).order():i}function Uy(t){for(var e=t.selection?t.selection():t,n=this._groups,o=e._groups,i=n.length,r=o.length,l=Math.min(i,r),a=new Array(i),s=0;s<l;++s)for(var u=n[s],f=o[s],c=u.length,d=a[s]=new Array(c),p,m=0;m<c;++m)(p=u[m]||f[m])&&(d[m]=p);for(;s<i;++s)a[s]=n[s];return new It(a,this._parents)}function Ky(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var o=t[e],i=o.length-1,r=o[i],l;--i>=0;)(l=o[i])&&(r&&l.compareDocumentPosition(r)^4&&r.parentNode.insertBefore(l,r),r=l);return this}function xy(t){t||(t=Xy);function e(c,d){return c&&d?t(c.__data__,d.__data__):!c-!d}for(var n=this._groups,o=n.length,i=new Array(o),r=0;r<o;++r){for(var l=n[r],a=l.length,s=i[r]=new Array(a),u,f=0;f<a;++f)(u=l[f])&&(s[f]=u);s.sort(e)}return new It(i,this._parents).order()}function Xy(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Jy(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Zy(){return Array.from(this)}function Qy(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var o=t[e],i=0,r=o.length;i<r;++i){var l=o[i];if(l)return l}return null}function zy(){let t=0;for(const e of this)++t;return t}function ew(){return!this.node()}function tw(t){for(var e=this._groups,n=0,o=e.length;n<o;++n)for(var i=e[n],r=0,l=i.length,a;r<l;++r)(a=i[r])&&t.call(a,a.__data__,r,i);return this}function nw(t){return function(){this.removeAttribute(t)}}function ow(t){return function(){this.removeAttributeNS(t.space,t.local)}}function iw(t,e){return function(){this.setAttribute(t,e)}}function rw(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function lw(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function sw(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function aw(t,e){var n=or(t);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((e==null?n.local?ow:nw:typeof e=="function"?n.local?sw:lw:n.local?rw:iw)(n,e))}function Pc(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function uw(t){return function(){this.style.removeProperty(t)}}function fw(t,e,n){return function(){this.style.setProperty(t,e,n)}}function cw(t,e,n){return function(){var o=e.apply(this,arguments);o==null?this.style.removeProperty(t):this.style.setProperty(t,o,n)}}function dw(t,e,n){return arguments.length>1?this.each((e==null?uw:typeof e=="function"?cw:fw)(t,e,n??"")):oo(this.node(),t)}function oo(t,e){return t.style.getPropertyValue(e)||Pc(t).getComputedStyle(t,null).getPropertyValue(e)}function mw(t){return function(){delete this[t]}}function pw(t,e){return function(){this[t]=e}}function hw(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function _w(t,e){return arguments.length>1?this.each((e==null?mw:typeof e=="function"?hw:pw)(t,e)):this.node()[t]}function Nc(t){return t.trim().split(/^|\s+/)}function Cl(t){return t.classList||new Ec(t)}function Ec(t){this._node=t,this._names=Nc(t.getAttribute("class")||"")}Ec.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Rc(t,e){for(var n=Cl(t),o=-1,i=e.length;++o<i;)n.add(e[o])}function Lc(t,e){for(var n=Cl(t),o=-1,i=e.length;++o<i;)n.remove(e[o])}function gw(t){return function(){Rc(this,t)}}function bw(t){return function(){Lc(this,t)}}function vw(t,e){return function(){(e.apply(this,arguments)?Rc:Lc)(this,t)}}function yw(t,e){var n=Nc(t+"");if(arguments.length<2){for(var o=Cl(this.node()),i=-1,r=n.length;++i<r;)if(!o.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?vw:e?gw:bw)(n,e))}function ww(){this.textContent=""}function kw(t){return function(){this.textContent=t}}function Cw(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Aw(t){return arguments.length?this.each(t==null?ww:(typeof t=="function"?Cw:kw)(t)):this.node().textContent}function Sw(){this.innerHTML=""}function Tw(t){return function(){this.innerHTML=t}}function Iw(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Ow(t){return arguments.length?this.each(t==null?Sw:(typeof t=="function"?Iw:Tw)(t)):this.node().innerHTML}function Mw(){this.nextSibling&&this.parentNode.appendChild(this)}function Pw(){return this.each(Mw)}function Nw(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ew(){return this.each(Nw)}function Rw(t){var e=typeof t=="function"?t:Sc(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Lw(){return null}function Dw(t,e){var n=typeof t=="function"?t:Sc(t),o=e==null?Lw:typeof e=="function"?e:kl(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)})}function $w(){var t=this.parentNode;t&&t.removeChild(this)}function qw(){return this.each($w)}function Fw(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Bw(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function jw(t){return this.select(t?Bw:Fw)}function Hw(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Gw(t){return function(e){t.call(this,e,this.__data__)}}function Vw(t){return t.trim().split(/^|\s+/).map(function(e){var n="",o=e.indexOf(".");return o>=0&&(n=e.slice(o+1),e=e.slice(0,o)),{type:e,name:n}})}function Ww(t){return function(){var e=this.__on;if(e){for(var n=0,o=-1,i=e.length,r;n<i;++n)r=e[n],(!t.type||r.type===t.type)&&r.name===t.name?this.removeEventListener(r.type,r.listener,r.options):e[++o]=r;++o?e.length=o:delete this.__on}}}function Yw(t,e,n){return function(){var o=this.__on,i,r=Gw(e);if(o){for(var l=0,a=o.length;l<a;++l)if((i=o[l]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=r,i.options=n),i.value=e;return}}this.addEventListener(t.type,r,n),i={type:t.type,name:t.name,value:e,listener:r,options:n},o?o.push(i):this.__on=[i]}}function Uw(t,e,n){var o=Vw(t+""),i,r=o.length,l;if(arguments.length<2){var a=this.node().__on;if(a){for(var s=0,u=a.length,f;s<u;++s)for(i=0,f=a[s];i<r;++i)if((l=o[i]).type===f.type&&l.name===f.name)return f.value}return}for(a=e?Yw:Ww,i=0;i<r;++i)this.each(a(o[i],e,n));return this}function Dc(t,e,n){var o=Pc(t),i=o.CustomEvent;typeof i=="function"?i=new i(e,n):(i=o.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Kw(t,e){return function(){return Dc(this,t,e)}}function xw(t,e){return function(){return Dc(this,t,e.apply(this,arguments))}}function Xw(t,e){return this.each((typeof e=="function"?xw:Kw)(t,e))}function*Jw(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var o=t[e],i=0,r=o.length,l;i<r;++i)(l=o[i])&&(yield l)}var $c=[null];function It(t,e){this._groups=t,this._parents=e}function Uo(){return new It([[document.documentElement]],$c)}function Zw(){return this}It.prototype=Uo.prototype={constructor:It,select:Cy,selectAll:Iy,selectChild:Ny,selectChildren:Dy,filter:$y,data:Gy,enter:qy,exit:Wy,join:Yy,merge:Uy,selection:Zw,order:Ky,sort:xy,call:Jy,nodes:Zy,node:Qy,size:zy,empty:ew,each:tw,attr:aw,style:dw,property:_w,classed:yw,text:Aw,html:Ow,raise:Pw,lower:Ew,append:Rw,insert:Dw,remove:qw,clone:jw,datum:Hw,on:Uw,dispatch:Xw,[Symbol.iterator]:Jw};function Qw(t){return typeof t=="string"?new It([[document.querySelector(t)]],[document.documentElement]):new It([[t]],$c)}function Al(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function qc(t,e){var n=Object.create(t.prototype);for(var o in e)n[o]=e[o];return n}function Ko(){}var jo=.7,Ri=1/jo,Zn="\\s*([+-]?\\d+)\\s*",Ho="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",jt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",zw=/^#([0-9a-f]{3,8})$/,e2=new RegExp(`^rgb\\(${Zn},${Zn},${Zn}\\)$`),t2=new RegExp(`^rgb\\(${jt},${jt},${jt}\\)$`),n2=new RegExp(`^rgba\\(${Zn},${Zn},${Zn},${Ho}\\)$`),o2=new RegExp(`^rgba\\(${jt},${jt},${jt},${Ho}\\)$`),i2=new RegExp(`^hsl\\(${Ho},${jt},${jt}\\)$`),r2=new RegExp(`^hsla\\(${Ho},${jt},${jt},${Ho}\\)$`),Sa={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Al(Ko,Nn,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Ta,formatHex:Ta,formatHex8:l2,formatHsl:s2,formatRgb:Ia,toString:Ia});function Ta(){return this.rgb().formatHex()}function l2(){return this.rgb().formatHex8()}function s2(){return Fc(this).formatHsl()}function Ia(){return this.rgb().formatRgb()}function Nn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=zw.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Oa(e):n===3?new vt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?ti(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?ti(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=e2.exec(t))?new vt(e[1],e[2],e[3],1):(e=t2.exec(t))?new vt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=n2.exec(t))?ti(e[1],e[2],e[3],e[4]):(e=o2.exec(t))?ti(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=i2.exec(t))?Na(e[1],e[2]/100,e[3]/100,1):(e=r2.exec(t))?Na(e[1],e[2]/100,e[3]/100,e[4]):Sa.hasOwnProperty(t)?Oa(Sa[t]):t==="transparent"?new vt(NaN,NaN,NaN,0):null}function Oa(t){return new vt(t>>16&255,t>>8&255,t&255,1)}function ti(t,e,n,o){return o<=0&&(t=e=n=NaN),new vt(t,e,n,o)}function a2(t){return t instanceof Ko||(t=Nn(t)),t?(t=t.rgb(),new vt(t.r,t.g,t.b,t.opacity)):new vt}function Yr(t,e,n,o){return arguments.length===1?a2(t):new vt(t,e,n,o??1)}function vt(t,e,n,o){this.r=+t,this.g=+e,this.b=+n,this.opacity=+o}Al(vt,Yr,qc(Ko,{brighter(t){return t=t==null?Ri:Math.pow(Ri,t),new vt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?jo:Math.pow(jo,t),new vt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new vt(Cn(this.r),Cn(this.g),Cn(this.b),Li(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ma,formatHex:Ma,formatHex8:u2,formatRgb:Pa,toString:Pa}));function Ma(){return`#${yn(this.r)}${yn(this.g)}${yn(this.b)}`}function u2(){return`#${yn(this.r)}${yn(this.g)}${yn(this.b)}${yn((isNaN(this.opacity)?1:this.opacity)*255)}`}function Pa(){const t=Li(this.opacity);return`${t===1?"rgb(":"rgba("}${Cn(this.r)}, ${Cn(this.g)}, ${Cn(this.b)}${t===1?")":`, ${t})`}`}function Li(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Cn(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function yn(t){return t=Cn(t),(t<16?"0":"")+t.toString(16)}function Na(t,e,n,o){return o<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Lt(t,e,n,o)}function Fc(t){if(t instanceof Lt)return new Lt(t.h,t.s,t.l,t.opacity);if(t instanceof Ko||(t=Nn(t)),!t)return new Lt;if(t instanceof Lt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,o=t.b/255,i=Math.min(e,n,o),r=Math.max(e,n,o),l=NaN,a=r-i,s=(r+i)/2;return a?(e===r?l=(n-o)/a+(n<o)*6:n===r?l=(o-e)/a+2:l=(e-n)/a+4,a/=s<.5?r+i:2-r-i,l*=60):a=s>0&&s<1?0:l,new Lt(l,a,s,t.opacity)}function f2(t,e,n,o){return arguments.length===1?Fc(t):new Lt(t,e,n,o??1)}function Lt(t,e,n,o){this.h=+t,this.s=+e,this.l=+n,this.opacity=+o}Al(Lt,f2,qc(Ko,{brighter(t){return t=t==null?Ri:Math.pow(Ri,t),new Lt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?jo:Math.pow(jo,t),new Lt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*e,i=2*n-o;return new vt(Cr(t>=240?t-240:t+120,i,o),Cr(t,i,o),Cr(t<120?t+240:t-120,i,o),this.opacity)},clamp(){return new Lt(Ea(this.h),ni(this.s),ni(this.l),Li(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Li(this.opacity);return`${t===1?"hsl(":"hsla("}${Ea(this.h)}, ${ni(this.s)*100}%, ${ni(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Ea(t){return t=(t||0)%360,t<0?t+360:t}function ni(t){return Math.max(0,Math.min(1,t||0))}function Cr(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Sl=t=>()=>t;function c2(t,e){return function(n){return t+n*e}}function d2(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(o){return Math.pow(t+o*e,n)}}function m2(t){return(t=+t)==1?Bc:function(e,n){return n-e?d2(e,n,t):Sl(isNaN(e)?n:e)}}function Bc(t,e){var n=e-t;return n?c2(t,n):Sl(isNaN(t)?e:t)}const Di=function t(e){var n=m2(e);function o(i,r){var l=n((i=Yr(i)).r,(r=Yr(r)).r),a=n(i.g,r.g),s=n(i.b,r.b),u=Bc(i.opacity,r.opacity);return function(f){return i.r=l(f),i.g=a(f),i.b=s(f),i.opacity=u(f),i+""}}return o.gamma=t,o}(1);function p2(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,o=e.slice(),i;return function(r){for(i=0;i<n;++i)o[i]=t[i]*(1-r)+e[i]*r;return o}}function h2(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function _2(t,e){var n=e?e.length:0,o=t?Math.min(n,t.length):0,i=new Array(o),r=new Array(n),l;for(l=0;l<o;++l)i[l]=Tl(t[l],e[l]);for(;l<n;++l)r[l]=e[l];return function(a){for(l=0;l<o;++l)r[l]=i[l](a);return r}}function g2(t,e){var n=new Date;return t=+t,e=+e,function(o){return n.setTime(t*(1-o)+e*o),n}}function Rt(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function b2(t,e){var n={},o={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Tl(t[i],e[i]):o[i]=e[i];return function(r){for(i in n)o[i]=n[i](r);return o}}var Ur=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ar=new RegExp(Ur.source,"g");function v2(t){return function(){return t}}function y2(t){return function(e){return t(e)+""}}function jc(t,e){var n=Ur.lastIndex=Ar.lastIndex=0,o,i,r,l=-1,a=[],s=[];for(t=t+"",e=e+"";(o=Ur.exec(t))&&(i=Ar.exec(e));)(r=i.index)>n&&(r=e.slice(n,r),a[l]?a[l]+=r:a[++l]=r),(o=o[0])===(i=i[0])?a[l]?a[l]+=i:a[++l]=i:(a[++l]=null,s.push({i:l,x:Rt(o,i)})),n=Ar.lastIndex;return n<e.length&&(r=e.slice(n),a[l]?a[l]+=r:a[++l]=r),a.length<2?s[0]?y2(s[0].x):v2(e):(e=s.length,function(u){for(var f=0,c;f<e;++f)a[(c=s[f]).i]=c.x(u);return a.join("")})}function Tl(t,e){var n=typeof e,o;return e==null||n==="boolean"?Sl(e):(n==="number"?Rt:n==="string"?(o=Nn(e))?(e=o,Di):jc:e instanceof Nn?Di:e instanceof Date?g2:h2(e)?p2:Array.isArray(e)?_2:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?b2:Rt)(t,e)}function w2(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var Ra=180/Math.PI,Kr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Hc(t,e,n,o,i,r){var l,a,s;return(l=Math.sqrt(t*t+e*e))&&(t/=l,e/=l),(s=t*n+e*o)&&(n-=t*s,o-=e*s),(a=Math.sqrt(n*n+o*o))&&(n/=a,o/=a,s/=a),t*o<e*n&&(t=-t,e=-e,s=-s,l=-l),{translateX:i,translateY:r,rotate:Math.atan2(e,t)*Ra,skewX:Math.atan(s)*Ra,scaleX:l,scaleY:a}}var oi;function k2(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Kr:Hc(e.a,e.b,e.c,e.d,e.e,e.f)}function C2(t){return t==null||(oi||(oi=document.createElementNS("http://www.w3.org/2000/svg","g")),oi.setAttribute("transform",t),!(t=oi.transform.baseVal.consolidate()))?Kr:(t=t.matrix,Hc(t.a,t.b,t.c,t.d,t.e,t.f))}function Gc(t,e,n,o){function i(u){return u.length?u.pop()+" ":""}function r(u,f,c,d,p,m){if(u!==c||f!==d){var _=p.push("translate(",null,e,null,n);m.push({i:_-4,x:Rt(u,c)},{i:_-2,x:Rt(f,d)})}else(c||d)&&p.push("translate("+c+e+d+n)}function l(u,f,c,d){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),d.push({i:c.push(i(c)+"rotate(",null,o)-2,x:Rt(u,f)})):f&&c.push(i(c)+"rotate("+f+o)}function a(u,f,c,d){u!==f?d.push({i:c.push(i(c)+"skewX(",null,o)-2,x:Rt(u,f)}):f&&c.push(i(c)+"skewX("+f+o)}function s(u,f,c,d,p,m){if(u!==c||f!==d){var _=p.push(i(p)+"scale(",null,",",null,")");m.push({i:_-4,x:Rt(u,c)},{i:_-2,x:Rt(f,d)})}else(c!==1||d!==1)&&p.push(i(p)+"scale("+c+","+d+")")}return function(u,f){var c=[],d=[];return u=t(u),f=t(f),r(u.translateX,u.translateY,f.translateX,f.translateY,c,d),l(u.rotate,f.rotate,c,d),a(u.skewX,f.skewX,c,d),s(u.scaleX,u.scaleY,f.scaleX,f.scaleY,c,d),u=f=null,function(p){for(var m=-1,_=d.length,b;++m<_;)c[(b=d[m]).i]=b.x(p);return c.join("")}}}var A2=Gc(k2,"px, ","px)","deg)"),S2=Gc(C2,", ",")",")"),io=0,Io=0,Co=0,Vc=1e3,$i,Oo,qi=0,En=0,ir=0,Go=typeof performance=="object"&&performance.now?performance:Date,Wc=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Il(){return En||(Wc(T2),En=Go.now()+ir)}function T2(){En=0}function Fi(){this._call=this._time=this._next=null}Fi.prototype=Yc.prototype={constructor:Fi,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Il():+n)+(e==null?0:+e),!this._next&&Oo!==this&&(Oo?Oo._next=this:$i=this,Oo=this),this._call=t,this._time=n,xr()},stop:function(){this._call&&(this._call=null,this._time=1/0,xr())}};function Yc(t,e,n){var o=new Fi;return o.restart(t,e,n),o}function I2(){Il(),++io;for(var t=$i,e;t;)(e=En-t._time)>=0&&t._call.call(void 0,e),t=t._next;--io}function La(){En=(qi=Go.now())+ir,io=Io=0;try{I2()}finally{io=0,M2(),En=0}}function O2(){var t=Go.now(),e=t-qi;e>Vc&&(ir-=e,qi=t)}function M2(){for(var t,e=$i,n,o=1/0;e;)e._call?(o>e._time&&(o=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:$i=n);Oo=t,xr(o)}function xr(t){if(!io){Io&&(Io=clearTimeout(Io));var e=t-En;e>24?(t<1/0&&(Io=setTimeout(La,t-Go.now()-ir)),Co&&(Co=clearInterval(Co))):(Co||(qi=Go.now(),Co=setInterval(O2,Vc)),io=1,Wc(La))}}function Da(t,e,n){var o=new Fi;return e=e==null?0:+e,o.restart(i=>{o.stop(),t(i+e)},e,n),o}var P2=Ac("start","end","cancel","interrupt"),N2=[],Uc=0,$a=1,Xr=2,ci=3,qa=4,Jr=5,di=6;function rr(t,e,n,o,i,r){var l=t.__transition;if(!l)t.__transition={};else if(n in l)return;E2(t,n,{name:e,index:o,group:i,on:P2,tween:N2,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:Uc})}function Ol(t,e){var n=qt(t,e);if(n.state>Uc)throw new Error("too late; already scheduled");return n}function Yt(t,e){var n=qt(t,e);if(n.state>ci)throw new Error("too late; already running");return n}function qt(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function E2(t,e,n){var o=t.__transition,i;o[e]=n,n.timer=Yc(r,0,n.time);function r(u){n.state=$a,n.timer.restart(l,n.delay,n.time),n.delay<=u&&l(u-n.delay)}function l(u){var f,c,d,p;if(n.state!==$a)return s();for(f in o)if(p=o[f],p.name===n.name){if(p.state===ci)return Da(l);p.state===qa?(p.state=di,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete o[f]):+f<e&&(p.state=di,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete o[f])}if(Da(function(){n.state===ci&&(n.state=qa,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=Xr,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Xr){for(n.state=ci,i=new Array(d=n.tween.length),f=0,c=-1;f<d;++f)(p=n.tween[f].value.call(t,t.__data__,n.index,n.group))&&(i[++c]=p);i.length=c+1}}function a(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(s),n.state=Jr,1),c=-1,d=i.length;++c<d;)i[c].call(t,f);n.state===Jr&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){n.state=di,n.timer.stop(),delete o[e];for(var u in o)return;delete t.__transition}}function R2(t,e){var n=t.__transition,o,i,r=!0,l;if(n){e=e==null?null:e+"";for(l in n){if((o=n[l]).name!==e){r=!1;continue}i=o.state>Xr&&o.state<Jr,o.state=di,o.timer.stop(),o.on.call(i?"interrupt":"cancel",t,t.__data__,o.index,o.group),delete n[l]}r&&delete t.__transition}}function L2(t){return this.each(function(){R2(this,t)})}function D2(t,e){var n,o;return function(){var i=Yt(this,t),r=i.tween;if(r!==n){o=n=r;for(var l=0,a=o.length;l<a;++l)if(o[l].name===e){o=o.slice(),o.splice(l,1);break}}i.tween=o}}function $2(t,e,n){var o,i;if(typeof n!="function")throw new Error;return function(){var r=Yt(this,t),l=r.tween;if(l!==o){i=(o=l).slice();for(var a={name:e,value:n},s=0,u=i.length;s<u;++s)if(i[s].name===e){i[s]=a;break}s===u&&i.push(a)}r.tween=i}}function q2(t,e){var n=this._id;if(t+="",arguments.length<2){for(var o=qt(this.node(),n).tween,i=0,r=o.length,l;i<r;++i)if((l=o[i]).name===t)return l.value;return null}return this.each((e==null?D2:$2)(n,t,e))}function Ml(t,e,n){var o=t._id;return t.each(function(){var i=Yt(this,o);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return qt(i,o).value[e]}}function Kc(t,e){var n;return(typeof e=="number"?Rt:e instanceof Nn?Di:(n=Nn(e))?(e=n,Di):jc)(t,e)}function F2(t){return function(){this.removeAttribute(t)}}function B2(t){return function(){this.removeAttributeNS(t.space,t.local)}}function j2(t,e,n){var o,i=n+"",r;return function(){var l=this.getAttribute(t);return l===i?null:l===o?r:r=e(o=l,n)}}function H2(t,e,n){var o,i=n+"",r;return function(){var l=this.getAttributeNS(t.space,t.local);return l===i?null:l===o?r:r=e(o=l,n)}}function G2(t,e,n){var o,i,r;return function(){var l,a=n(this),s;return a==null?void this.removeAttribute(t):(l=this.getAttribute(t),s=a+"",l===s?null:l===o&&s===i?r:(i=s,r=e(o=l,a)))}}function V2(t,e,n){var o,i,r;return function(){var l,a=n(this),s;return a==null?void this.removeAttributeNS(t.space,t.local):(l=this.getAttributeNS(t.space,t.local),s=a+"",l===s?null:l===o&&s===i?r:(i=s,r=e(o=l,a)))}}function W2(t,e){var n=or(t),o=n==="transform"?S2:Kc;return this.attrTween(t,typeof e=="function"?(n.local?V2:G2)(n,o,Ml(this,"attr."+t,e)):e==null?(n.local?B2:F2)(n):(n.local?H2:j2)(n,o,e))}function Y2(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function U2(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function K2(t,e){var n,o;function i(){var r=e.apply(this,arguments);return r!==o&&(n=(o=r)&&U2(t,r)),n}return i._value=e,i}function x2(t,e){var n,o;function i(){var r=e.apply(this,arguments);return r!==o&&(n=(o=r)&&Y2(t,r)),n}return i._value=e,i}function X2(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var o=or(t);return this.tween(n,(o.local?K2:x2)(o,e))}function J2(t,e){return function(){Ol(this,t).delay=+e.apply(this,arguments)}}function Z2(t,e){return e=+e,function(){Ol(this,t).delay=e}}function Q2(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?J2:Z2)(e,t)):qt(this.node(),e).delay}function z2(t,e){return function(){Yt(this,t).duration=+e.apply(this,arguments)}}function ek(t,e){return e=+e,function(){Yt(this,t).duration=e}}function tk(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?z2:ek)(e,t)):qt(this.node(),e).duration}function nk(t,e){if(typeof e!="function")throw new Error;return function(){Yt(this,t).ease=e}}function ok(t){var e=this._id;return arguments.length?this.each(nk(e,t)):qt(this.node(),e).ease}function ik(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Yt(this,t).ease=n}}function rk(t){if(typeof t!="function")throw new Error;return this.each(ik(this._id,t))}function lk(t){typeof t!="function"&&(t=Ic(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var r=e[i],l=r.length,a=o[i]=[],s,u=0;u<l;++u)(s=r[u])&&t.call(s,s.__data__,u,r)&&a.push(s);return new zt(o,this._parents,this._name,this._id)}function sk(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,o=e.length,i=n.length,r=Math.min(o,i),l=new Array(o),a=0;a<r;++a)for(var s=e[a],u=n[a],f=s.length,c=l[a]=new Array(f),d,p=0;p<f;++p)(d=s[p]||u[p])&&(c[p]=d);for(;a<o;++a)l[a]=e[a];return new zt(l,this._parents,this._name,this._id)}function ak(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function uk(t,e,n){var o,i,r=ak(e)?Ol:Yt;return function(){var l=r(this,t),a=l.on;a!==o&&(i=(o=a).copy()).on(e,n),l.on=i}}function fk(t,e){var n=this._id;return arguments.length<2?qt(this.node(),n).on.on(t):this.each(uk(n,t,e))}function ck(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function dk(){return this.on("end.remove",ck(this._id))}function mk(t){var e=this._name,n=this._id;typeof t!="function"&&(t=kl(t));for(var o=this._groups,i=o.length,r=new Array(i),l=0;l<i;++l)for(var a=o[l],s=a.length,u=r[l]=new Array(s),f,c,d=0;d<s;++d)(f=a[d])&&(c=t.call(f,f.__data__,d,a))&&("__data__"in f&&(c.__data__=f.__data__),u[d]=c,rr(u[d],e,n,d,u,qt(f,n)));return new zt(r,this._parents,e,n)}function pk(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Tc(t));for(var o=this._groups,i=o.length,r=[],l=[],a=0;a<i;++a)for(var s=o[a],u=s.length,f,c=0;c<u;++c)if(f=s[c]){for(var d=t.call(f,f.__data__,c,s),p,m=qt(f,n),_=0,b=d.length;_<b;++_)(p=d[_])&&rr(p,e,n,_,d,m);r.push(d),l.push(f)}return new zt(r,l,e,n)}var hk=Uo.prototype.constructor;function _k(){return new hk(this._groups,this._parents)}function gk(t,e){var n,o,i;return function(){var r=oo(this,t),l=(this.style.removeProperty(t),oo(this,t));return r===l?null:r===n&&l===o?i:i=e(n=r,o=l)}}function xc(t){return function(){this.style.removeProperty(t)}}function bk(t,e,n){var o,i=n+"",r;return function(){var l=oo(this,t);return l===i?null:l===o?r:r=e(o=l,n)}}function vk(t,e,n){var o,i,r;return function(){var l=oo(this,t),a=n(this),s=a+"";return a==null&&(s=a=(this.style.removeProperty(t),oo(this,t))),l===s?null:l===o&&s===i?r:(i=s,r=e(o=l,a))}}function yk(t,e){var n,o,i,r="style."+e,l="end."+r,a;return function(){var s=Yt(this,t),u=s.on,f=s.value[r]==null?a||(a=xc(e)):void 0;(u!==n||i!==f)&&(o=(n=u).copy()).on(l,i=f),s.on=o}}function wk(t,e,n){var o=(t+="")=="transform"?A2:Kc;return e==null?this.styleTween(t,gk(t,o)).on("end.style."+t,xc(t)):typeof e=="function"?this.styleTween(t,vk(t,o,Ml(this,"style."+t,e))).each(yk(this._id,t)):this.styleTween(t,bk(t,o,e),n).on("end.style."+t,null)}function kk(t,e,n){return function(o){this.style.setProperty(t,e.call(this,o),n)}}function Ck(t,e,n){var o,i;function r(){var l=e.apply(this,arguments);return l!==i&&(o=(i=l)&&kk(t,l,n)),o}return r._value=e,r}function Ak(t,e,n){var o="style."+(t+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(e==null)return this.tween(o,null);if(typeof e!="function")throw new Error;return this.tween(o,Ck(t,e,n??""))}function Sk(t){return function(){this.textContent=t}}function Tk(t){return function(){var e=t(this);this.textContent=e??""}}function Ik(t){return this.tween("text",typeof t=="function"?Tk(Ml(this,"text",t)):Sk(t==null?"":t+""))}function Ok(t){return function(e){this.textContent=t.call(this,e)}}function Mk(t){var e,n;function o(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&Ok(i)),e}return o._value=t,o}function Pk(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Mk(t))}function Nk(){for(var t=this._name,e=this._id,n=Xc(),o=this._groups,i=o.length,r=0;r<i;++r)for(var l=o[r],a=l.length,s,u=0;u<a;++u)if(s=l[u]){var f=qt(s,e);rr(s,t,n,u,l,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new zt(o,this._parents,t,n)}function Ek(){var t,e,n=this,o=n._id,i=n.size();return new Promise(function(r,l){var a={value:l},s={value:function(){--i===0&&r()}};n.each(function(){var u=Yt(this,o),f=u.on;f!==t&&(e=(t=f).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(s)),u.on=e}),i===0&&r()})}var Rk=0;function zt(t,e,n,o){this._groups=t,this._parents=e,this._name=n,this._id=o}function Xc(){return++Rk}var Kt=Uo.prototype;zt.prototype={constructor:zt,select:mk,selectAll:pk,selectChild:Kt.selectChild,selectChildren:Kt.selectChildren,filter:lk,merge:sk,selection:_k,transition:Nk,call:Kt.call,nodes:Kt.nodes,node:Kt.node,size:Kt.size,empty:Kt.empty,each:Kt.each,on:fk,attr:W2,attrTween:X2,style:wk,styleTween:Ak,text:Ik,textTween:Pk,remove:dk,tween:q2,delay:Q2,duration:tk,ease:ok,easeVarying:rk,end:Ek,[Symbol.iterator]:Kt[Symbol.iterator]};function Lk(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Dk={time:null,delay:0,duration:250,ease:Lk};function $k(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function qk(t){var e,n;t instanceof zt?(e=t._id,t=t._name):(e=Xc(),(n=Dk).time=Il(),t=t==null?null:t+"");for(var o=this._groups,i=o.length,r=0;r<i;++r)for(var l=o[r],a=l.length,s,u=0;u<a;++u)(s=l[u])&&rr(s,t,e,u,l,n||$k(s,e));return new zt(o,this._parents,t,e)}Uo.prototype.interrupt=L2;Uo.prototype.transition=qk;const Zr=Math.PI,Qr=2*Zr,gn=1e-6,Fk=Qr-gn;function Jc(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Bk(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Jc;const n=10**e;return function(o){this._+=o[0];for(let i=1,r=o.length;i<r;++i)this._+=Math.round(arguments[i]*n)/n+o[i]}}class jk{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Jc:Bk(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,o,i){this._append`Q${+e},${+n},${this._x1=+o},${this._y1=+i}`}bezierCurveTo(e,n,o,i,r,l){this._append`C${+e},${+n},${+o},${+i},${this._x1=+r},${this._y1=+l}`}arcTo(e,n,o,i,r){if(e=+e,n=+n,o=+o,i=+i,r=+r,r<0)throw new Error(`negative radius: ${r}`);let l=this._x1,a=this._y1,s=o-e,u=i-n,f=l-e,c=a-n,d=f*f+c*c;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(d>gn)if(!(Math.abs(c*s-u*f)>gn)||!r)this._append`L${this._x1=e},${this._y1=n}`;else{let p=o-l,m=i-a,_=s*s+u*u,b=p*p+m*m,v=Math.sqrt(_),h=Math.sqrt(d),k=r*Math.tan((Zr-Math.acos((_+d-b)/(2*v*h)))/2),T=k/h,P=k/v;Math.abs(T-1)>gn&&this._append`L${e+T*f},${n+T*c}`,this._append`A${r},${r},0,0,${+(c*p>f*m)},${this._x1=e+P*s},${this._y1=n+P*u}`}}arc(e,n,o,i,r,l){if(e=+e,n=+n,o=+o,l=!!l,o<0)throw new Error(`negative radius: ${o}`);let a=o*Math.cos(i),s=o*Math.sin(i),u=e+a,f=n+s,c=1^l,d=l?i-r:r-i;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>gn||Math.abs(this._y1-f)>gn)&&this._append`L${u},${f}`,o&&(d<0&&(d=d%Qr+Qr),d>Fk?this._append`A${o},${o},0,1,${c},${e-a},${n-s}A${o},${o},0,1,${c},${this._x1=u},${this._y1=f}`:d>gn&&this._append`A${o},${o},0,${+(d>=Zr)},${c},${this._x1=e+o*Math.cos(r)},${this._y1=n+o*Math.sin(r)}`)}rect(e,n,o,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${o=+o}v${+i}h${-o}Z`}toString(){return this._}}function Hk(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Bi(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,o=t.slice(0,n);return[o.length>1?o[0]+o.slice(2):o,+t.slice(n+1)]}function ro(t){return t=Bi(Math.abs(t)),t?t[1]:NaN}function Gk(t,e){return function(n,o){for(var i=n.length,r=[],l=0,a=t[0],s=0;i>0&&a>0&&(s+a+1>o&&(a=Math.max(1,o-s)),r.push(n.substring(i-=a,i+a)),!((s+=a+1)>o));)a=t[l=(l+1)%t.length];return r.reverse().join(e)}}function Vk(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Wk=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ji(t){if(!(e=Wk.exec(t)))throw new Error("invalid format: "+t);var e;return new Pl({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}ji.prototype=Pl.prototype;function Pl(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Pl.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Yk(t){e:for(var e=t.length,n=1,o=-1,i;n<e;++n)switch(t[n]){case".":o=i=n;break;case"0":o===0&&(o=n),i=n;break;default:if(!+t[n])break e;o>0&&(o=0);break}return o>0?t.slice(0,o)+t.slice(i+1):t}var Zc;function Uk(t,e){var n=Bi(t,e);if(!n)return t+"";var o=n[0],i=n[1],r=i-(Zc=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=o.length;return r===l?o:r>l?o+new Array(r-l+1).join("0"):r>0?o.slice(0,r)+"."+o.slice(r):"0."+new Array(1-r).join("0")+Bi(t,Math.max(0,e+r-1))[0]}function Fa(t,e){var n=Bi(t,e);if(!n)return t+"";var o=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+o:o.length>i+1?o.slice(0,i+1)+"."+o.slice(i+1):o+new Array(i-o.length+2).join("0")}const Ba={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Hk,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Fa(t*100,e),r:Fa,s:Uk,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function ja(t){return t}var Ha=Array.prototype.map,Ga=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function Kk(t){var e=t.grouping===void 0||t.thousands===void 0?ja:Gk(Ha.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",o=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",r=t.numerals===void 0?ja:Vk(Ha.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"âˆ’":t.minus+"",s=t.nan===void 0?"NaN":t.nan+"";function u(c){c=ji(c);var d=c.fill,p=c.align,m=c.sign,_=c.symbol,b=c.zero,v=c.width,h=c.comma,k=c.precision,T=c.trim,P=c.type;P==="n"?(h=!0,P="g"):Ba[P]||(k===void 0&&(k=12),T=!0,P="g"),(b||d==="0"&&p==="=")&&(b=!0,d="0",p="=");var N=_==="$"?n:_==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",D=_==="$"?o:/[%p]/.test(P)?l:"",B=Ba[P],q=/[defgprs%]/.test(P);k=k===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function G(E){var w=N,A=D,$,V,R;if(P==="c")A=B(E)+A,E="";else{E=+E;var x=E<0||1/E<0;if(E=isNaN(E)?s:B(Math.abs(E),k),T&&(E=Yk(E)),x&&+E==0&&m!=="+"&&(x=!1),w=(x?m==="("?m:a:m==="-"||m==="("?"":m)+w,A=(P==="s"?Ga[8+Zc/3]:"")+A+(x&&m==="("?")":""),q){for($=-1,V=E.length;++$<V;)if(R=E.charCodeAt($),48>R||R>57){A=(R===46?i+E.slice($+1):E.slice($))+A,E=E.slice(0,$);break}}}h&&!b&&(E=e(E,1/0));var X=w.length+E.length+A.length,Q=X<v?new Array(v-X+1).join(d):"";switch(h&&b&&(E=e(Q+E,Q.length?v-A.length:1/0),Q=""),p){case"<":E=w+E+A+Q;break;case"=":E=w+Q+E+A;break;case"^":E=Q.slice(0,X=Q.length>>1)+w+E+A+Q.slice(X);break;default:E=Q+w+E+A;break}return r(E)}return G.toString=function(){return c+""},G}function f(c,d){var p=u((c=ji(c),c.type="f",c)),m=Math.max(-8,Math.min(8,Math.floor(ro(d)/3)))*3,_=Math.pow(10,-m),b=Ga[8+m/3];return function(v){return p(_*v)+b}}return{format:u,formatPrefix:f}}var ii,Qc,zc;xk({thousands:",",grouping:[3],currency:["$",""]});function xk(t){return ii=Kk(t),Qc=ii.format,zc=ii.formatPrefix,ii}function Xk(t){return Math.max(0,-ro(Math.abs(t)))}function Jk(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ro(e)/3)))*3-ro(Math.abs(t)))}function Zk(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,ro(e)-ro(t))+1}function Qk(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function zk(t){return function(){return t}}function e5(t){return+t}var Va=[0,1];function Kn(t){return t}function zr(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:zk(isNaN(e)?NaN:.5)}function t5(t,e){var n;return t>e&&(n=t,t=e,e=n),function(o){return Math.max(t,Math.min(e,o))}}function n5(t,e,n){var o=t[0],i=t[1],r=e[0],l=e[1];return i<o?(o=zr(i,o),r=n(l,r)):(o=zr(o,i),r=n(r,l)),function(a){return r(o(a))}}function o5(t,e,n){var o=Math.min(t.length,e.length)-1,i=new Array(o),r=new Array(o),l=-1;for(t[o]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<o;)i[l]=zr(t[l],t[l+1]),r[l]=n(e[l],e[l+1]);return function(a){var s=oy(t,a,1,o)-1;return r[s](i[s](a))}}function i5(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function r5(){var t=Va,e=Va,n=Tl,o,i,r,l=Kn,a,s,u;function f(){var d=Math.min(t.length,e.length);return l!==Kn&&(l=t5(t[0],t[d-1])),a=d>2?o5:n5,s=u=null,c}function c(d){return d==null||isNaN(d=+d)?r:(s||(s=a(t.map(o),e,n)))(o(l(d)))}return c.invert=function(d){return l(i((u||(u=a(e,t.map(o),Rt)))(d)))},c.domain=function(d){return arguments.length?(t=Array.from(d,e5),f()):t.slice()},c.range=function(d){return arguments.length?(e=Array.from(d),f()):e.slice()},c.rangeRound=function(d){return e=Array.from(d),n=w2,f()},c.clamp=function(d){return arguments.length?(l=d?!0:Kn,f()):l!==Kn},c.interpolate=function(d){return arguments.length?(n=d,f()):n},c.unknown=function(d){return arguments.length?(r=d,c):r},function(d,p){return o=d,i=p,f()}}function l5(){return r5()(Kn,Kn)}function s5(t,e,n,o){var i=ay(t,e,n),r;switch(o=ji(o??",f"),o.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return o.precision==null&&!isNaN(r=Jk(i,l))&&(o.precision=r),zc(o,l)}case"":case"e":case"g":case"p":case"r":{o.precision==null&&!isNaN(r=Zk(i,Math.max(Math.abs(t),Math.abs(e))))&&(o.precision=r-(o.type==="e"));break}case"f":case"%":{o.precision==null&&!isNaN(r=Xk(i))&&(o.precision=r-(o.type==="%")*2);break}}return Qc(o)}function a5(t){var e=t.domain;return t.ticks=function(n){var o=e();return sy(o[0],o[o.length-1],n??10)},t.tickFormat=function(n,o){var i=e();return s5(i[0],i[i.length-1],n??10,o)},t.nice=function(n){n==null&&(n=10);var o=e(),i=0,r=o.length-1,l=o[i],a=o[r],s,u,f=10;for(a<l&&(u=l,l=a,a=u,u=i,i=r,r=u);f-- >0;){if(u=Gr(l,a,n),u===s)return o[i]=l,o[r]=a,e(o);if(u>0)l=Math.floor(l/u)*u,a=Math.ceil(a/u)*u;else if(u<0)l=Math.ceil(l*u)/u,a=Math.floor(a*u)/u;else break;s=u}return t},t}function el(){var t=l5();return t.copy=function(){return i5(t,el())},Qk.apply(t,arguments),a5(t)}function Wn(t){return function(){return t}}function u5(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const o=Math.floor(n);if(!(o>=0))throw new RangeError(`invalid digits: ${n}`);e=o}return t},()=>new jk(e)}function f5(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function ed(t){this._context=t}ed.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function c5(t){return new ed(t)}function d5(t){return t[0]}function m5(t){return t[1]}function Sr(t,e){var n=Wn(!0),o=null,i=c5,r=null,l=u5(a);t=typeof t=="function"?t:t===void 0?d5:Wn(t),e=typeof e=="function"?e:e===void 0?m5:Wn(e);function a(s){var u,f=(s=f5(s)).length,c,d=!1,p;for(o==null&&(r=i(p=l())),u=0;u<=f;++u)!(u<f&&n(c=s[u],u,s))===d&&((d=!d)?r.lineStart():r.lineEnd()),d&&r.point(+t(c,u,s),+e(c,u,s));if(p)return r=null,p+""||null}return a.x=function(s){return arguments.length?(t=typeof s=="function"?s:Wn(+s),a):t},a.y=function(s){return arguments.length?(e=typeof s=="function"?s:Wn(+s),a):e},a.defined=function(s){return arguments.length?(n=typeof s=="function"?s:Wn(!!s),a):n},a.curve=function(s){return arguments.length?(i=s,o!=null&&(r=i(o)),a):i},a.context=function(s){return arguments.length?(s==null?o=r=null:r=i(o=s),a):o},a}function Mo(t,e,n){this.k=t,this.x=e,this.y=n}Mo.prototype={constructor:Mo,scale:function(t){return t===1?this:new Mo(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Mo(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Mo.prototype;function p5(t){let e;return{c(){e=Vi("svg"),L(e,"id","line-chart")},m(n,o){O(n,e,o)},p:Se,i:Se,o:Se,d(n){n&&I(e)}}}const Wa=52;function h5(t,e,n){let{data:o=[]}=e,i,r,l;const a={top:10,right:30,bottom:10,left:20},s=500-a.left-a.right,u=400-a.top-a.bottom;Sr().x((m,_)=>r(_)).y(m=>l(m)),Wi(()=>{n(1,i=Qw("#line-chart").attr("width",s+a.left+a.right).attr("height",u+a.top+a.bottom)),r=el().range([0,s]),l=el().range([u,0]),o.length&&f()});function f(){const m=o.length>Wa?o.slice(-Wa):o;c(m),d(m),p()}function c(m){i.selectAll(".line").remove();const _=Sr().defined(v=>v>-5).x((v,h)=>r(h)).y(v=>l(v)),b=Sr().defined(v=>v<0).x((v,h)=>r(h)).y(v=>l(v));i.append("path").datum(m).attr("class","line positive").attr("d",_).attr("transform",`translate(${a.left},${a.top})`).attr("fill","none").attr("stroke","green").attr("stroke-width",2),i.append("path").datum(m).attr("class","line negative").attr("d",b).attr("transform",`translate(${a.left},${a.top})`).attr("fill","none").attr("stroke","red").attr("stroke-width",2)}function d(m){const _=Math.max(0,...m),b=Math.min(0,...m);r.domain([0,m.length-1]),l.domain([b,_]).nice()}function p(m){const _=hy(r).ticks(0),b=_y(l).ticks(10);i.selectAll(".axis").remove(),i.append("g").attr("class","axis x-axis").attr("transform",`translate(${a.left},${u+a.top})`).call(_),i.append("g").attr("class","axis y-axis").attr("transform",`translate(${a.left},${a.top})`).call(b)}return t.$$set=m=>{"data"in m&&n(0,o=m.data)},t.$$.update=()=>{t.$$.dirty&3&&o&&i&&f()},[o,i]}class _5 extends pe{constructor(e){super(),me(this,e,h5,p5,fe,{data:0})}}function g5(t){let e,n=t[1].townInfo.knowledge_points+"",o,i;return{c(){e=H("Manage your Knowledge ("),o=H(n),i=H(" pts)")},m(r,l){O(r,e,l),O(r,o,l),O(r,i,l)},p(r,l){l&2&&n!==(n=r[1].townInfo.knowledge_points+"")&&ue(o,n)},d(r){r&&(I(e),I(o),I(i))}}}function b5(t){let e,n,o,i;return e=new $n({props:{$$slots:{default:[g5]},$$scope:{ctx:t}}}),o=new Bn({}),{c(){U(e.$$.fragment),n=F(),U(o.$$.fragment)},m(r,l){W(e,r,l),O(r,n,l),W(o,r,l),i=!0},p(r,l){const a={};l&130&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&I(n),Y(e,r),Y(o,r)}}}function Ya(t){let e,n,o=Xa(t[1].townInfo.knowledge_points*t[3])+"",i,r;return{c(){e=M("br"),n=H(`
          (total value: $`),i=H(o),r=H(")")},m(l,a){O(l,e,a),O(l,n,a),O(l,i,a),O(l,r,a)},p(l,a){a&10&&o!==(o=Xa(l[1].townInfo.knowledge_points*l[3])+"")&&ue(i,o)},d(l){l&&(I(e),I(n),I(i),I(r))}}}function Ua(t){let e;return{c(){e=M("div"),e.innerHTML=`Wait until the market value is <span class="text-green-500">positive</span> to sell your Knowledge for Gold. Keep in mind that you need a bank to
          convert.`},m(n,o){O(n,e,o)},d(n){n&&I(e)}}}function Ka(t){let e,n,o;return n=new St({props:{variant:"default",$$slots:{default:[v5]},$$scope:{ctx:t}}}),n.$on("click",t[0]),{c(){e=M("div"),U(n.$$.fragment)},m(i,r){O(i,e,r),W(n,e,null),o=!0},p(i,r){const l={};r&128&&(l.$$scope={dirty:r,ctx:i}),n.$set(l)},i(i){o||(C(n.$$.fragment,i),o=!0)},o(i){S(n.$$.fragment,i),o=!1},d(i){i&&I(e),Y(n)}}}function v5(t){let e;return{c(){e=H("Convert Knowledge to Gold")},m(n,o){O(n,e,o)},d(n){n&&I(e)}}}function xa(t){let e;return{c(){e=M("div"),e.textContent="You need a bank to convert knowledge to gold."},m(n,o){O(n,e,o)},d(n){n&&I(e)}}}function y5(t){let e,n,o,i,r,l,a,s,u=(t[3]??0)+"",f,c,d,p,m,_,b,v,h,k,T,P;e=new qn({props:{$$slots:{default:[b5]},$$scope:{ctx:t}}});let N=t[3]>0&&Ya(t);_=new _5({props:{data:t[2]}});let D=t[3]<0&&Ua(),B=t[1].hasBank&&t[3]>0&&Ka(t),q=t[1].hasBank===!1&&xa();return T=new co({}),{c(){U(e.$$.fragment),n=F(),o=M("span"),o.textContent="Knowledge is power, unlock it!",i=F(),r=M("div"),l=M("div"),a=H("Market Rate: "),s=M("span"),f=H(u),c=H(" gold"),p=H(`
        per Knowledge Point
        `),N&&N.c(),m=F(),U(_.$$.fragment),b=F(),D&&D.c(),v=F(),B&&B.c(),h=F(),q&&q.c(),k=F(),U(T.$$.fragment),L(o,"class",""),L(s,"class",d=t[3]<0?"text-red-500":"text-green-500"),L(r,"class","py-0 flex flex-col gap-4 text-gray-400 overflow-x-auto")},m(G,E){W(e,G,E),O(G,n,E),O(G,o,E),O(G,i,E),O(G,r,E),y(r,l),y(l,a),y(l,s),y(s,f),y(s,c),y(l,p),N&&N.m(l,null),y(r,m),W(_,r,null),y(r,b),D&&D.m(r,null),y(r,v),B&&B.m(r,null),y(r,h),q&&q.m(r,null),O(G,k,E),W(T,G,E),P=!0},p(G,E){const w={};E&130&&(w.$$scope={dirty:E,ctx:G}),e.$set(w),(!P||E&8)&&u!==(u=(G[3]??0)+"")&&ue(f,u),(!P||E&8&&d!==(d=G[3]<0?"text-red-500":"text-green-500"))&&L(s,"class",d),G[3]>0?N?N.p(G,E):(N=Ya(G),N.c(),N.m(l,null)):N&&(N.d(1),N=null);const A={};E&4&&(A.data=G[2]),_.$set(A),G[3]<0?D||(D=Ua(),D.c(),D.m(r,v)):D&&(D.d(1),D=null),G[1].hasBank&&G[3]>0?B?(B.p(G,E),E&10&&C(B,1)):(B=Ka(G),B.c(),C(B,1),B.m(r,h)):B&&(Me(),S(B,1,1,()=>{B=null}),Pe()),G[1].hasBank===!1?q||(q=xa(),q.c(),q.m(r,null)):q&&(q.d(1),q=null)},i(G){P||(C(e.$$.fragment,G),C(_.$$.fragment,G),C(B),C(T.$$.fragment,G),P=!0)},o(G){S(e.$$.fragment,G),S(_.$$.fragment,G),S(B),S(T.$$.fragment,G),P=!1},d(G){G&&(I(n),I(o),I(i),I(r),I(k)),Y(e,G),N&&N.d(),Y(_),D&&D.d(),B&&B.d(),q&&q.d(),Y(T,G)}}}function w5(t){let e,n;return e=new Fn({props:{transitionConfig:{duration:0},class:"bg-foreground text-accentText",$$slots:{default:[y5]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(o,i){W(e,o,i),n=!0},p(o,i){const r={};i&142&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function k5(t){let e,n,o;function i(l){t[5](l)}let r={$$slots:{default:[w5]},$$scope:{ctx:t}};return t[4]!==void 0&&(r.open=t[4]),e=new jn({props:r}),Le.push(()=>hn(e,"open",i)),{c(){U(e.$$.fragment)},m(l,a){W(e,l,a),o=!0},p(l,[a]){const s={};a&142&&(s.$$scope={dirty:a,ctx:l}),!n&&a&16&&(n=!0,s.open=l[4],pn(()=>n=!1)),e.$set(s)},i(l){o||(C(e.$$.fragment,l),o=!0)},o(l){S(e.$$.fragment,l),o=!1},d(l){Y(e,l)}}}function Xa(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function C5(t,e,n){let o,i;le(t,qe,u=>n(1,o=u)),le(t,yi,u=>n(4,i=u));let r,l=0;function a(){let u=o;o.hasBank===!0?(u.townInfo.gold+=Math.round(u.townInfo.knowledge_points*l),u.townInfo.knowledge_points=0,qe.set(u),localStorage.setItem(Dt,JSON.stringify(u))):ht.set("You need a bank to convert knowledge to gold.")}function s(u){i=u,yi.set(i)}return t.$$.update=()=>{t.$$.dirty&2&&o&&(n(2,r=o.economyAndLaws.knowledge_gold_market_rates),n(3,l=o.economyAndLaws.knowledge_gold_market_rates[o.economyAndLaws.knowledge_gold_market_rates.length-1]))},[a,o,r,l,i,s]}class A5 extends pe{constructor(e){super(),me(this,e,C5,k5,fe,{convertKnowledgeToGold:0})}get convertKnowledgeToGold(){return this.$$.ctx[0]}}const S5=[{id:"sunshine",title:"Hint of Sunshine",description:`Scientist Jane T. found that more sunlight makes everyone a bit happier.
          Now, every home is equipped with a pair of sunglasses and a sunhat. Enjoy happier citizens!,
          `,cost:5e3,duration:180,effect:t=>(t.townInfo.happiness+=100,t)},{id:"antibiotics",title:"We will call them 'Antibiotics'",description:`Scientist Alfred C. has pitched us an idea that he calls 'Antibiotics'.
           We don't really know what that means, but it seems to make people healthier.
          `,cost:8e3,duration:200,effect:t=>(t.townInfo.health+=180,t.townInfo.happiness+=25,t)},{id:"funny_cows",title:"Cowabunga!",description:`Scientist Barry T. thought that showing cows some stand-up comedy would make them produce better milk, but it didn't have the desired effect.
          The cows are now following Mike Birbiglia on Twitter, but the milk production has not increased.
          `,cost:3e3,duration:60,effect:t=>t},{id:"missing_treasure",title:"Missing Treasure?",description:`Scientist Sarah H. was running an experiment on tree growth and found a stash of gold near the lab.
          She hopes nobody will miss it. Your town now has some more money.
          `,cost:15e3,duration:180,effect:t=>(t.townInfo.gold+=Math.floor(Math.random()*35e3),t)},{id:"tax_relief",title:"'Maybe the government is not so bad after all'",description:`Scientist Sam P. conducted a study and found that if you put a tiny bit of CHEMICAL X in the water supply, people are more likely to be ok with tax hikes.
          We don't question it, as these experiments cost a lot of moo-lah.`,cost:7500,duration:360,effect:t=>(t.economyAndLaws.max_tax_rate=(Math.random()*.8+1.2)*t.economyAndLaws.max_tax_rate,t)},{id:"spring_break",title:"Spring Break",description:`The Scientists took our money and spent the week at the beach.
          We are not sure what they did, but they came back with a tan and a smile.`,cost:2e3,duration:7,effect:t=>t},{id:"tornado",title:"A Gust of Grain",description:`Scientist Clint C. is sulking after a botched weather experiment caused about half of the food supply to be sucked into a tornado.
  		The only positive seems to be that the town now knows what a tornado is, and that makes us a bit smarter as a whole.`,cost:7e3,duration:150,effect:t=>(t.townInfo.knowledge_points+=3e3,t.resources.food=Math.floor(t.resources.food/2),t)},{id:"aquatic_overachievers",title:"Fishy Business",description:`An attempt to genetically enhance fish intelligence by Scientist Goldie F. in fisheries has gone awry, resulting in fish that are too smart to be caught. The fisheries are now underpopulated and shut down, but the town enjoys an unexpected tourism boom as people flock to see the genius fish who are now hanging out in local parks.
          Who knew fish could be such a draw?`,cost:6e3,duration:90,effect:t=>(t.townInfo.gold+=1e4,Ja("fishery",t),t)},{id:"educational_eclipse",title:"A Sudden Drop in IQ",description:`Scientist Albert E. wanted to see if the towns' children would become smarter if THEY ran the schools.
          This was obviously a terrible idea and the first thing the kids did was shut down the schools.`,cost:1e3,duration:45,effect:t=>(Ja("schoolhouse",t),t)},{id:"education_grant",title:"Education Grant",description:`Scientist Marie C. took this experiments funding and applied the town for a grant to improve education.
          The town wins a grant for $150,000 to build schools and improve education. (but it's up to you if that's how you want to spend the money)`,cost:25e3,duration:45,effect:t=>(t.townInfo.gold+=15e4,t)},{id:"mindfulness_meditation_classes",title:"'Mindfulness Meditation Classes'",description:`Scientist Zen M. has introduced mindfulness meditation classes to the town after realizing that breathing in certain ways can lower stress.
  		Now, the town is a bit more relaxed, for now.`,cost:13e3,duration:540,effect:t=>(t.townInfo.happiness+=75,t)}];function Ja(t,e){let n=Be(t,e);for(let o=0;o<n.length;o++)ul(n[o].x,n[o].y,e)}function Za(t,e,n){const o=t.slice();return o[15]=e[n],o}function T5(t){let e,n=t[1].lab.active_experiment.title+"",o;return{c(){e=H("ðŸŽ‰ Experiment Completed: "),o=H(n)},m(i,r){O(i,e,r),O(i,o,r)},p(i,r){r&2&&n!==(n=i[1].lab.active_experiment.title+"")&&ue(o,n)},d(i){i&&(I(e),I(o))}}}function I5(t){let e,n=t[1].lab.active_experiment.description+"",o;return{c(){e=M("div"),o=H(n),L(e,"class","select-none whitespace-pre-wrap text-lg text-gray-400 leading-6 px-4 py-4 text-center ")},m(i,r){O(i,e,r),y(e,o)},p(i,r){r&2&&n!==(n=i[1].lab.active_experiment.description+"")&&ue(o,n)},d(i){i&&I(e)}}}function O5(t){let e,n,o,i;return e=new vc({props:{class:"text-center",$$slots:{default:[T5]},$$scope:{ctx:t}}}),o=new wl({props:{$$slots:{default:[I5]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),n=F(),U(o.$$.fragment)},m(r,l){W(e,r,l),O(r,n,l),W(o,r,l),i=!0},p(r,l){const a={};l&262146&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&262146&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&I(n),Y(e,r),Y(o,r)}}}function M5(t){let e;return{c(){e=H("Thank the scientists")},m(n,o){O(n,e,o)},d(n){n&&I(e)}}}function P5(t){let e,n;return e=new yc({props:{$$slots:{default:[M5]},$$scope:{ctx:t}}}),e.$on("click",t[9]),{c(){U(e.$$.fragment)},m(o,i){W(e,o,i),n=!0},p(o,i){const r={};i&262144&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function N5(t){let e,n,o,i;return e=new yl({props:{$$slots:{default:[O5]},$$scope:{ctx:t}}}),o=new er({props:{$$slots:{default:[P5]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),n=F(),U(o.$$.fragment)},m(r,l){W(e,r,l),O(r,n,l),W(o,r,l),i=!0},p(r,l){const a={};l&262146&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&262144&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&I(n),Y(e,r),Y(o,r)}}}function E5(t){let e,n;return e=new tr({props:{$$slots:{default:[N5]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(o,i){W(e,o,i),n=!0},p(o,i){const r={};i&262146&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function R5(t){let e;return{c(){e=M("span"),e.textContent="Manage your Laboratory ðŸ”¬ ðŸ§ª"},m(n,o){O(n,e,o)},p:Se,d(n){n&&I(e)}}}function L5(t){let e,n,o,i=t[1].lab.xp+"",r,l,a,s;return{c(){e=M("span"),n=H("You have earned "),o=M("span"),r=H(i),l=H(" XP"),s=H(` from experiments. XP can be used to buy advanced plots and develop your
          city.`),L(o,"class",a=t[1].lab.xp<0?"text-textDanger":"text-primaryText")},m(u,f){O(u,e,f),y(e,n),y(e,o),y(o,r),y(o,l),y(e,s)},p(u,f){f&2&&i!==(i=u[1].lab.xp+"")&&ue(r,i),f&2&&a!==(a=u[1].lab.xp<0?"text-textDanger":"text-primaryText")&&L(o,"class",a)},d(u){u&&I(e)}}}function D5(t){let e,n,o,i;return e=new $n({props:{$$slots:{default:[R5]},$$scope:{ctx:t}}}),o=new Bn({props:{$$slots:{default:[L5]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),n=F(),U(o.$$.fragment)},m(r,l){W(e,r,l),O(r,n,l),W(o,r,l),i=!0},p(r,l){const a={};l&262144&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&262146&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&I(n),Y(e,r),Y(o,r)}}}function $5(t){let e;return{c(){e=H("No more experiments available")},m(n,o){O(n,e,o)},p:Se,i:Se,o:Se,d(n){n&&I(e)}}}function q5(t){let e,n,o,i,r=Ue(t[0]),l=[];for(let s=0;s<r.length;s+=1)l[s]=za(Za(t,r,s));const a=s=>S(l[s],1,1,()=>{l[s]=null});return{c(){e=M("div"),e.textContent=`It's time to fund your next experiment! Choose a project below based on
        it's funding requirement. Once the experiment is over, you will see the
        results.`,n=F(),o=M("div");for(let s=0;s<l.length;s+=1)l[s].c();L(e,"class","select-none text-sm "),L(o,"class","text-center flex flex-col justify-center items-center gap-4 ")},m(s,u){O(s,e,u),O(s,n,u),O(s,o,u);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(o,null);i=!0},p(s,u){if(u&19){r=Ue(s[0]);let f;for(f=0;f<r.length;f+=1){const c=Za(s,r,f);l[f]?(l[f].p(c,u),C(l[f],1)):(l[f]=za(c),l[f].c(),C(l[f],1),l[f].m(o,null))}for(Me(),f=r.length;f<l.length;f+=1)a(f);Pe()}},i(s){if(!i){for(let u=0;u<r.length;u+=1)C(l[u]);i=!0}},o(s){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)S(l[u]);i=!1},d(s){s&&(I(e),I(n),I(o)),ft(l,s)}}}function F5(t){let e,n=t[1].lab.active_experiment.duration+"",o,i,r,l,a=t[1].lab.active_experiment.duration===0&&eu(t);return{c(){e=H("Currently running an experiment... check back in "),o=H(n),i=H(` days.
      `),a&&a.c(),r=De()},m(s,u){O(s,e,u),O(s,o,u),O(s,i,u),a&&a.m(s,u),O(s,r,u),l=!0},p(s,u){(!l||u&2)&&n!==(n=s[1].lab.active_experiment.duration+"")&&ue(o,n),s[1].lab.active_experiment.duration===0?a?(a.p(s,u),u&2&&C(a,1)):(a=eu(s),a.c(),C(a,1),a.m(r.parentNode,r)):a&&(Me(),S(a,1,1,()=>{a=null}),Pe())},i(s){l||(C(a),l=!0)},o(s){S(a),l=!1},d(s){s&&(I(e),I(o),I(i),I(r)),a&&a.d(s)}}}function Qa(t){let e,n,o=t[15].id+"",i;return{c(){e=M("span"),n=H("// dev-"),i=H(o),L(e,"class","text-xs text-gray-400")},m(r,l){O(r,e,l),y(e,n),y(e,i)},p(r,l){l&1&&o!==(o=r[15].id+"")&&ue(i,o)},d(r){r&&I(e)}}}function B5(t){let e,n=tu(t[15].cost).split(".")[0]+"",o,i,r,l=t[1].devMode===!0&&Qa(t);return{c(){e=H("$"),o=H(n),i=H(` gold

            `),l&&l.c(),r=F()},m(a,s){O(a,e,s),O(a,o,s),O(a,i,s),l&&l.m(a,s),O(a,r,s)},p(a,s){s&1&&n!==(n=tu(a[15].cost).split(".")[0]+"")&&ue(o,n),a[1].devMode===!0?l?l.p(a,s):(l=Qa(a),l.c(),l.m(r.parentNode,r)):l&&(l.d(1),l=null)},d(a){a&&(I(e),I(o),I(i),I(r)),l&&l.d(a)}}}function za(t){let e,n;function o(){return t[11](t[15])}return e=new St({props:{variant:"outline",class:`min-w-48 w-max flex-col
				`+(t[15].cost>t[1].townInfo.gold?"cursor-not-allowed":"")+`
				`,$$slots:{default:[B5]},$$scope:{ctx:t}}}),e.$on("click",o),{c(){U(e.$$.fragment)},m(i,r){W(e,i,r),n=!0},p(i,r){t=i;const l={};r&3&&(l.class=`min-w-48 w-max flex-col
				`+(t[15].cost>t[1].townInfo.gold?"cursor-not-allowed":"")+`
				`),r&262147&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(i){n||(C(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){Y(e,i)}}}function eu(t){let e,n;return e=new St({props:{variant:"outline",$$slots:{default:[j5]},$$scope:{ctx:t}}}),e.$on("click",t[10]),{c(){U(e.$$.fragment)},m(o,i){W(e,o,i),n=!0},p(o,i){const r={};i&262144&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function j5(t){let e;return{c(){e=H("Complete experiment (and face the impact)")},m(n,o){O(n,e,o)},d(n){n&&I(e)}}}function H5(t){let e;return{c(){e=M("span"),e.textContent="Keep in mind that not all experiments yield positive results.",L(e,"class","text-left text-textDanger")},m(n,o){O(n,e,o)},p:Se,d(n){n&&I(e)}}}function G5(t){let e,n,o,i,r,l,a,s,u,f,c;e=new qn({props:{$$slots:{default:[D5]},$$scope:{ctx:t}}}),o=new Tt({});const d=[F5,q5,$5],p=[];function m(_,b){return _[1].lab.active_experiment!==null?0:_[0].length>0?1:_[0].length===0?2:-1}return~(r=m(t))&&(l=p[r]=d[r](t)),s=new Tt({props:{class:"mt-4"}}),f=new co({props:{$$slots:{default:[H5]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),n=F(),U(o.$$.fragment),i=F(),l&&l.c(),a=F(),U(s.$$.fragment),u=F(),U(f.$$.fragment)},m(_,b){W(e,_,b),O(_,n,b),W(o,_,b),O(_,i,b),~r&&p[r].m(_,b),O(_,a,b),W(s,_,b),O(_,u,b),W(f,_,b),c=!0},p(_,b){const v={};b&262146&&(v.$$scope={dirty:b,ctx:_}),e.$set(v);let h=r;r=m(_),r===h?~r&&p[r].p(_,b):(l&&(Me(),S(p[h],1,1,()=>{p[h]=null}),Pe()),~r?(l=p[r],l?l.p(_,b):(l=p[r]=d[r](_),l.c()),C(l,1),l.m(a.parentNode,a)):l=null);const k={};b&262144&&(k.$$scope={dirty:b,ctx:_}),f.$set(k)},i(_){c||(C(e.$$.fragment,_),C(o.$$.fragment,_),C(l),C(s.$$.fragment,_),C(f.$$.fragment,_),c=!0)},o(_){S(e.$$.fragment,_),S(o.$$.fragment,_),S(l),S(s.$$.fragment,_),S(f.$$.fragment,_),c=!1},d(_){_&&(I(n),I(i),I(a),I(u)),Y(e,_),Y(o,_),~r&&p[r].d(_),Y(s,_),Y(f,_)}}}function V5(t){let e,n;return e=new Fn({props:{class:"bg-foreground text-accentText",$$slots:{default:[G5]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(o,i){W(e,o,i),n=!0},p(o,i){const r={};i&262147&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function W5(t){let e,n,o,i,r;e=new nr({props:{open:t[2],$$slots:{default:[E5]},$$scope:{ctx:t}}});function l(s){t[12](s)}let a={$$slots:{default:[V5]},$$scope:{ctx:t}};return t[3]!==void 0&&(a.open=t[3]),o=new jn({props:a}),Le.push(()=>hn(o,"open",l)),{c(){U(e.$$.fragment),n=F(),U(o.$$.fragment)},m(s,u){W(e,s,u),O(s,n,u),W(o,s,u),r=!0},p(s,[u]){const f={};u&4&&(f.open=s[2]),u&262146&&(f.$$scope={dirty:u,ctx:s}),e.$set(f);const c={};u&262147&&(c.$$scope={dirty:u,ctx:s}),!i&&u&8&&(i=!0,c.open=s[3],pn(()=>i=!1)),o.$set(c)},i(s){r||(C(e.$$.fragment,s),C(o.$$.fragment,s),r=!0)},o(s){S(e.$$.fragment,s),S(o.$$.fragment,s),r=!1},d(s){s&&I(n),Y(e,s),Y(o,s)}}}function tu(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function Y5(t,e,n){let o,i;le(t,qe,h=>n(1,o=h)),le(t,si,h=>n(3,i=h));var r;let l=[],a=!1,s=!1,u=!1;function f(){if(l.length>0||!a)return l;let h=[],k=S5.filter(T=>!o.lab.past_experiments.some(P=>P.id===T.id));if(k.length===0)return[];for(let T=0;T<3;T++){let P=k[Math.floor(Math.random()*k.length)];P.cost=Math.floor(Math.random()*(P.cost*.35)+P.cost*.8),h.push(P)}return h=h.filter((T,P)=>h.indexOf(T)===P),h=h.filter(T=>T),n(8,u=!0),h}function c(h){if(o.townInfo.gold<h.cost){ht.set("You do not have enough gold to purchase this experiment.");return}Re(qe,o.townInfo.gold-=h.cost,o),Re(qe,o.lab.active_experiment=h,o),o.lab.past_experiments.push(h)}function d(){Re(si,i=!1,i),n(2,s=!0);let h=l.find(T=>T.id===o.lab.active_experiment.id),k=h!=null?h.effect(o):o;Re(qe,o=k,o),Re(qe,o.lab.active_experiment.duration=-1,o)}function p(){let h=o;h.lab.xp+=Math.round(h.lab.active_experiment.cost*(Math.random()*2+.5)),h.lab.active_experiment=null,n(2,s=!1),Re(qe,o=h,o)}const m=()=>{p()},_=()=>{d()},b=h=>{h.cost<o.townInfo.gold&&c(h)};function v(h){i=h,si.set(i)}return t.$$.update=()=>{t.$$.dirty&387&&(o?(a=!0,n(0,l=u==!1?f():l),(n(7,r=o.lab.active_experiment)===null||r===void 0?void 0:r.duration)===-1&&n(2,s=!0)):a=!1)},[l,o,s,i,c,d,p,r,u,m,_,b,v]}class U5 extends pe{constructor(e){super(),me(this,e,Y5,W5,fe,{})}}function K5(t){let e,n,o,i,r,l,a,s=t[0].townInfo.name+"",u,f,c,d,p,m,_,b=t[0].townInfo.population_count+"",v,h,k,T,P,N,D,B=Math.floor(t[0].environment.day/365)+1+"",q,G,E,w,A,$,V=t[0].environment.day%365+1+"",R,x,X,Q=t[1]==0?"Normal":t[1]==1?"Fast":"Superfast",ne,ae,we,Ne,Fe;return{c(){e=M("div"),n=M("div"),o=M("div"),i=M("div"),r=M("div"),l=M("div"),a=M("h1"),u=H(s),f=F(),c=M("div"),d=M("div"),p=M("div"),m=M("span"),_=H("ðŸ‘¥ "),v=H(b),h=F(),k=M("div"),T=M("span"),P=M("span"),P.textContent="Year",N=F(),D=M("span"),q=H(B),G=F(),E=M("span"),w=M("span"),w.textContent="Day",A=F(),$=M("span"),R=H(V),x=F(),X=M("span"),ne=H(Q),ae=H(" Speed"),L(a,"class","cursor-pointer w-full text-center select-none"),L(l,"class","cursor-pointer flex flex-row justify-start"),L(r,"class","text-4xl"),L(m,"class","text-xs px-4 min-w-24"),L(P,"class","text-xs"),L(D,"class","font-semibold text-xs"),L(T,"class","flex flex-col"),L(w,"class","text-xs"),L($,"class","font-semibold text-xs"),L(E,"class","flex flex-col"),L(k,"class","rounded-xl flex-row text-accentText gap-4 w-20 flex items-center max-w-24"),L(X,"class","cursor text-blue-200 text-nowrap noselect text-end w-36"),gt(X,"text-blue-200",t[1]==0),gt(X,"text-yellow-200",t[1]==1),gt(X,"text-red-200",t[1]==2),L(p,"class","flex align-middle items-center text-accentText flex-row w-full justify-center gap-2 h-max"),L(d,"class","flex flex-col align-middle justify-center"),L(i,"class","flex flex-col gap-2 justify-center w-full "),L(o,"class","rounded-xl"),L(n,"class","flex justify-between flex-col align-middle items-center w-full"),L(e,"id","header"),L(e,"class",we="flex px-6 gap-6 justify-center flex-row fixed top-0 left-0 right-0 cursor-default z-10 bg-black text-[white] py-3 align-middle border-b-4 border-sidebarBackground "+(t[2].visible?"opacity-70":""))},m(ee,g){O(ee,e,g),y(e,n),y(n,o),y(o,i),y(i,r),y(r,l),y(l,a),y(a,u),y(i,f),y(i,c),y(c,d),y(d,p),y(p,m),y(m,_),y(m,v),y(p,h),y(p,k),y(k,T),y(T,P),y(T,N),y(T,D),y(D,q),y(k,G),y(k,E),y(E,w),y(E,A),y(E,$),y($,R),y(p,x),y(p,X),y(X,ne),y(X,ae),Ne||(Fe=[z(l,"click",t[3]),z(X,"click",t[5])],Ne=!0)},p(ee,[g]){g&1&&s!==(s=ee[0].townInfo.name+"")&&ue(u,s),g&1&&b!==(b=ee[0].townInfo.population_count+"")&&ue(v,b),g&1&&B!==(B=Math.floor(ee[0].environment.day/365)+1+"")&&ue(q,B),g&1&&V!==(V=ee[0].environment.day%365+1+"")&&ue(R,V),g&2&&Q!==(Q=ee[1]==0?"Normal":ee[1]==1?"Fast":"Superfast")&&ue(ne,Q),g&2&&gt(X,"text-blue-200",ee[1]==0),g&2&&gt(X,"text-yellow-200",ee[1]==1),g&2&&gt(X,"text-red-200",ee[1]==2),g&4&&we!==(we="flex px-6 gap-6 justify-center flex-row fixed top-0 left-0 right-0 cursor-default z-10 bg-black text-[white] py-3 align-middle border-b-4 border-sidebarBackground "+(ee[2].visible?"opacity-70":""))&&L(e,"class",we)},i:Se,o:Se,d(ee){ee&&I(e),Ne=!1,Ve(Fe)}}}function x5(t,e,n){let o,i,r;le(t,qe,c=>n(0,o=c)),le(t,Ao,c=>n(7,i=c)),le(t,tt,c=>n(2,r=c));const l=o.gameSettings.includes("casual")?[375,200,100]:[550,375,100];let a=0;Wi(()=>{o.gameSettings.includes("casual")?Re(Ao,i=375,i):Re(Ao,i=550,i);const c=setInterval(()=>{Re(qe,o.timeSpent+=1e3,o)},1e3);return()=>{clearInterval(c)}});function s(){let c=prompt("Enter a new name for your town (under 200 chars)");if(c&&c.length<200&&c.length>=1){let d=o;d.townInfo.name=c,qe.set(d),localStorage.setItem(Dt,JSON.stringify(d))}}function u(){a==l.length-1?n(1,a=0):n(1,a++,a),Re(Ao,i=l[a],i)}const f=()=>{u()};return t.$$.update=()=>{t.$$.dirty&1&&o.timeSpent>0&&bm(o.timeSpent)},[o,a,r,s,u,f]}class X5 extends pe{constructor(e){super(),me(this,e,x5,K5,fe,{})}}function J5(t){let e;const n=t[5].default,o=he(n,t,t[6],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&64)&&ge(o,n,i,i[6],e?_e(n,i[6],r,null):be(i[6]),null)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Z5(t){let e,n;const o=[{transition:t[2]},{transitionConfig:t[3]},{sideOffset:t[1]},{class:Ge("z-50 overflow-hidden border bg-sidebarBackground px-3 py-1.5 text-sm text-black shadow-md rounded-2xl",t[0])},t[4]];let i={$$slots:{default:[J5]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=J(i,o[r]);return e=new m1({props:i}),{c(){U(e.$$.fragment)},m(r,l){W(e,r,l),n=!0},p(r,[l]){const a=l&31?Ce(o,[l&4&&{transition:r[2]},l&8&&{transitionConfig:r[3]},l&2&&{sideOffset:r[1]},l&1&&{class:Ge("z-50 overflow-hidden border bg-sidebarBackground px-3 py-1.5 text-sm text-black shadow-md rounded-2xl",r[0])},l&16&&at(r[4])]):{};l&64&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){Y(e,r)}}}function Q5(t,e,n){const o=["class","sideOffset","transition","transitionConfig"];let i=re(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{sideOffset:s=16}=e,{transition:u=Ki}=e,{transitionConfig:f={y:6,duration:100}}=e;return t.$$set=c=>{e=J(J({},e),$e(c)),n(4,i=re(e,o)),"class"in c&&n(0,a=c.class),"sideOffset"in c&&n(1,s=c.sideOffset),"transition"in c&&n(2,u=c.transition),"transitionConfig"in c&&n(3,f=c.transitionConfig),"$$scope"in c&&n(6,l=c.$$scope)},[a,s,u,f,i,r,l]}class mo extends pe{constructor(e){super(),me(this,e,Q5,Z5,fe,{class:0,sideOffset:1,transition:2,transitionConfig:3})}}const po=Qg,ho=y1;function z5(t){let e,n,o;return{c(){e=M("div"),L(e,"class",n="h-full w-full flex-1 "+t[3]+" transition-all"),L(e,"style",o=`transform: translateX(-${100-100*(t[2]??0)/(t[1]??1)}%)`)},m(i,r){O(i,e,r)},p(i,r){r&8&&n!==(n="h-full w-full flex-1 "+i[3]+" transition-all")&&L(e,"class",n),r&6&&o!==(o=`transform: translateX(-${100-100*(i[2]??0)/(i[1]??1)}%)`)&&L(e,"style",o)},d(i){i&&I(e)}}}function e3(t){let e,n;const o=[{class:Ge("relative h-4 w-full overflow-hidden  bg-black border border-gray-300",t[0])},t[4]];let i={$$slots:{default:[z5]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=J(i,o[r]);return e=new Tg({props:i}),{c(){U(e.$$.fragment)},m(r,l){W(e,r,l),n=!0},p(r,[l]){const a=l&17?Ce(o,[l&1&&{class:Ge("relative h-4 w-full overflow-hidden  bg-black border border-gray-300",r[0])},l&16&&at(r[4])]):{};l&46&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){Y(e,r)}}}function t3(t,e,n){const o=["class","max","value","color"];let i=re(e,o),{class:r=void 0}=e,{max:l=100}=e,{value:a=void 0}=e,{color:s="bg-accent"}=e;return t.$$set=u=>{e=J(J({},e),$e(u)),n(4,i=re(e,o)),"class"in u&&n(0,r=u.class),"max"in u&&n(1,l=u.max),"value"in u&&n(2,a=u.value),"color"in u&&n(3,s=u.color)},[r,l,a,s,i]}class n3 extends pe{constructor(e){super(),me(this,e,t3,e3,fe,{class:0,max:1,value:2,color:3})}}function nu(t,e,n){const o=t.slice();return o[19]=e[n],o}function ou(t){let e,n=Ue({length:t[6]}),o=[];for(let i=0;i<n.length;i+=1)o[i]=iu(nu(t,n,i));return{c(){e=M("div");for(let i=0;i<o.length;i+=1)o[i].c();L(e,"class","confetti-holder svelte-15ksp55"),gt(e,"rounded",t[9]),gt(e,"cone",t[10]),gt(e,"no-gravity",t[11]),gt(e,"reduced-motion",t[13])},m(i,r){O(i,e,r);for(let l=0;l<o.length;l+=1)o[l]&&o[l].m(e,null)},p(i,r){if(r&37375){n=Ue({length:i[6]});let l;for(l=0;l<n.length;l+=1){const a=nu(i,n,l);o[l]?o[l].p(a,r):(o[l]=iu(a),o[l].c(),o[l].m(e,null))}for(;l<o.length;l+=1)o[l].d(1);o.length=n.length}r&512&&gt(e,"rounded",i[9]),r&1024&&gt(e,"cone",i[10]),r&2048&&gt(e,"no-gravity",i[11]),r&8192&&gt(e,"reduced-motion",i[13])},d(i){i&&I(e),ft(o,i)}}}function iu(t){let e;return{c(){e=M("div"),L(e,"class","confetti svelte-15ksp55"),et(e,"--fall-distance",t[8]),et(e,"--size",t[0]+"px"),et(e,"--color",t[15]()),et(e,"--skew",_t(-45,45)+"deg,"+_t(-45,45)+"deg"),et(e,"--rotation-xyz",_t(-10,10)+", "+_t(-10,10)+", "+_t(-10,10)),et(e,"--rotation-deg",_t(0,360)+"deg"),et(e,"--translate-y-multiplier",_t(t[2][0],t[2][1])),et(e,"--translate-x-multiplier",_t(t[1][0],t[1][1])),et(e,"--scale",.1*_t(2,10)),et(e,"--transition-duration",t[4]?`calc(${t[3]}ms * var(--scale))`:`${t[3]}ms`),et(e,"--transition-delay",_t(t[5][0],t[5][1])+"ms"),et(e,"--transition-iteration-count",t[4]?"infinite":t[7]),et(e,"--x-spread",1-t[12])},m(n,o){O(n,e,o)},p(n,o){o&256&&et(e,"--fall-distance",n[8]),o&1&&et(e,"--size",n[0]+"px"),o&4&&et(e,"--translate-y-multiplier",_t(n[2][0],n[2][1])),o&2&&et(e,"--translate-x-multiplier",_t(n[1][0],n[1][1])),o&24&&et(e,"--transition-duration",n[4]?`calc(${n[3]}ms * var(--scale))`:`${n[3]}ms`),o&32&&et(e,"--transition-delay",_t(n[5][0],n[5][1])+"ms"),o&144&&et(e,"--transition-iteration-count",n[4]?"infinite":n[7]),o&4096&&et(e,"--x-spread",1-n[12])},d(n){n&&I(e)}}}function o3(t){let e,n=!t[14]&&ou(t);return{c(){n&&n.c(),e=De()},m(o,i){n&&n.m(o,i),O(o,e,i)},p(o,[i]){o[14]?n&&(n.d(1),n=null):n?n.p(o,i):(n=ou(o),n.c(),n.m(e.parentNode,e))},i:Se,o:Se,d(o){o&&I(e),n&&n.d(o)}}}function _t(t,e){return Math.random()*(e-t)+t}function i3(t,e,n){let{size:o=10}=e,{x:i=[-.5,.5]}=e,{y:r=[.25,1]}=e,{duration:l=2e3}=e,{infinite:a=!1}=e,{delay:s=[0,50]}=e,{colorRange:u=[0,360]}=e,{colorArray:f=[]}=e,{amount:c=50}=e,{iterationCount:d=1}=e,{fallDistance:p="100px"}=e,{rounded:m=!1}=e,{cone:_=!1}=e,{noGravity:b=!1}=e,{xSpread:v=.15}=e,{destroyOnComplete:h=!0}=e,{disableForReducedMotion:k=!1}=e,T=!1;Wi(()=>{!h||a||d=="infinite"||setTimeout(()=>n(14,T=!0),(l+s[1])*d)});function P(){return f.length?f[Math.round(Math.random()*(f.length-1))]:`hsl(${Math.round(_t(u[0],u[1]))}, 75%, 50%)`}return t.$$set=N=>{"size"in N&&n(0,o=N.size),"x"in N&&n(1,i=N.x),"y"in N&&n(2,r=N.y),"duration"in N&&n(3,l=N.duration),"infinite"in N&&n(4,a=N.infinite),"delay"in N&&n(5,s=N.delay),"colorRange"in N&&n(16,u=N.colorRange),"colorArray"in N&&n(17,f=N.colorArray),"amount"in N&&n(6,c=N.amount),"iterationCount"in N&&n(7,d=N.iterationCount),"fallDistance"in N&&n(8,p=N.fallDistance),"rounded"in N&&n(9,m=N.rounded),"cone"in N&&n(10,_=N.cone),"noGravity"in N&&n(11,b=N.noGravity),"xSpread"in N&&n(12,v=N.xSpread),"destroyOnComplete"in N&&n(18,h=N.destroyOnComplete),"disableForReducedMotion"in N&&n(13,k=N.disableForReducedMotion)},[o,i,r,l,a,s,c,d,p,m,_,b,v,k,T,P,u,f,h]}class ln extends pe{constructor(e){super(),me(this,e,i3,o3,fe,{size:0,x:1,y:2,duration:3,infinite:4,delay:5,colorRange:16,colorArray:17,amount:6,iterationCount:7,fallDistance:8,rounded:9,cone:10,noGravity:11,xSpread:12,destroyOnComplete:18,disableForReducedMotion:13})}}function ru(t){let e,n,o,i,r,l,a,s;return e=new ln({props:{cone:!0,x:[-.5,.5]}}),o=new ln({props:{cone:!0,amount:10,x:[-1,-.4],y:[.25,.75],rounded:!0,size:15}}),r=new ln({props:{cone:!0,amount:10,x:[.4,1],y:[.25,.75]}}),a=new ln({props:{infinite:!0,amount:75,delay:[0,200]}}),{c(){U(e.$$.fragment),n=F(),U(o.$$.fragment),i=F(),U(r.$$.fragment),l=F(),U(a.$$.fragment)},m(u,f){W(e,u,f),O(u,n,f),W(o,u,f),O(u,i,f),W(r,u,f),O(u,l,f),W(a,u,f),s=!0},i(u){s||(C(e.$$.fragment,u),C(o.$$.fragment,u),C(r.$$.fragment,u),C(a.$$.fragment,u),s=!0)},o(u){S(e.$$.fragment,u),S(o.$$.fragment,u),S(r.$$.fragment,u),S(a.$$.fragment,u),s=!1},d(u){u&&(I(n),I(i),I(l)),Y(e,u),Y(o,u),Y(r,u),Y(a,u)}}}function r3(t){let e,n,o,i=t[1].isComplete(t[2])||t[3]&&t[2].currentTutorialStep==t[0]?"âœ…":"â¬œï¸",r,l,a,s=t[1].message+"",u,f,c,d=t[3]&&t[2].currentTutorialStep==t[0]&&ru();return{c(){e=M("div"),d&&d.c(),n=F(),o=M("span"),r=H(i),l=F(),a=M("span"),u=H(s),L(o,"class","flex flex-row gap-1"),L(e,"class",f="text-sm flex flex-row justify-start align-middle pb-2 mb-2 transition-all duration-300 noselect "+(t[2].currentTutorialStep==t[0]?"opacity-100":"opacity-50"))},m(p,m){O(p,e,m),d&&d.m(e,null),y(e,n),y(e,o),y(o,r),y(o,l),y(o,a),y(a,u),c=!0},p(p,[m]){p[3]&&p[2].currentTutorialStep==p[0]?d?m&13&&C(d,1):(d=ru(),d.c(),C(d,1),d.m(e,n)):d&&(Me(),S(d,1,1,()=>{d=null}),Pe()),(!c||m&15)&&i!==(i=p[1].isComplete(p[2])||p[3]&&p[2].currentTutorialStep==p[0]?"âœ…":"â¬œï¸")&&ue(r,i),(!c||m&2)&&s!==(s=p[1].message+"")&&ue(u,s),(!c||m&5&&f!==(f="text-sm flex flex-row justify-start align-middle pb-2 mb-2 transition-all duration-300 noselect "+(p[2].currentTutorialStep==p[0]?"opacity-100":"opacity-50")))&&L(e,"class",f)},i(p){c||(C(d),c=!0)},o(p){S(d),c=!1},d(p){p&&I(e),d&&d.d()}}}function l3(t,e,n){let o,i;le(t,qe,a=>n(2,o=a)),le(t,Eo,a=>n(3,i=a));let{index:r}=e,{step:l}=e;return t.$$set=a=>{"index"in a&&n(0,r=a.index),"step"in a&&n(1,l=a.step)},[r,l,o,i]}class td extends pe{constructor(e){super(),me(this,e,l3,r3,fe,{index:0,step:1})}}function lu(t,e,n){const o=t.slice();return o[13]=e[n],o[15]=n,o}function su(t,e,n){const o=t.slice();return o[16]=e[n].icon,o[17]=e[n].name,o[18]=e[n].value,o[19]=e[n].rate,o}function au(t,e,n){const o=t.slice();return o[22]=e[n],o}function uu(t,e,n){const o=t.slice();return o[17]=e[n].name,o[18]=e[n].value,o[25]=e[n].modifier,o[26]=e[n].color,o[27]=e[n].hover,o[28]=e[n].description,o[29]=e[n].max,o}function s3(t){let e,n=t[17]+"",o,i,r,l;return r=new n3({props:{value:t[18],max:t[29]??300,class:"min-w-[80px] max-w-[80px] ",color:t[26]}}),{c(){e=M("span"),o=H(n),i=F(),U(r.$$.fragment),L(e,"class","text-md pr-2")},m(a,s){O(a,e,s),y(e,o),O(a,i,s),W(r,a,s),l=!0},p(a,s){(!l||s[0]&32)&&n!==(n=a[17]+"")&&ue(o,n);const u={};s[0]&32&&(u.value=a[18]),s[0]&32&&(u.max=a[29]??300),s[0]&32&&(u.color=a[26]),r.$set(u)},i(a){l||(C(r.$$.fragment,a),l=!0)},o(a){S(r.$$.fragment,a),l=!1},d(a){a&&(I(e),I(i)),Y(r,a)}}}function fu(t){let e,n;return e=new mo({props:{class:"rounded-2xl "+(t[26]??t[9](t[18]).replace("500","300")),$$slots:{default:[a3]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(o,i){W(e,o,i),n=!0},p(o,i){const r={};i[0]&32&&(r.class="rounded-2xl "+(o[26]??o[9](o[18]).replace("500","300"))),i[0]&32|i[1]&2&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function a3(t){let e,n,o=t[17]+"",i,r,l=un(t[18],!1)+"",a,s,u=t[29]?`out of ${t[29]}`:"",f,c,d,p,m,_=t[28]+"",b;return d=new Tt({props:{class:"mb-2 mt-1"}}),{c(){e=M("div"),n=M("span"),i=H(o),r=H(": "),a=H(l),s=F(),f=H(u),c=F(),U(d.$$.fragment),p=F(),m=M("span"),L(n,"class","text-md"),L(e,"class","flex flex-col justify-between text-black p-0 m-0 max-w-48")},m(v,h){O(v,e,h),y(e,n),y(n,i),y(n,r),y(n,a),y(n,s),y(n,f),y(e,c),W(d,e,null),y(e,p),y(e,m),m.innerHTML=_,b=!0},p(v,h){(!b||h[0]&32)&&o!==(o=v[17]+"")&&ue(i,o),(!b||h[0]&32)&&l!==(l=un(v[18],!1)+"")&&ue(a,l),(!b||h[0]&32)&&u!==(u=v[29]?`out of ${v[29]}`:"")&&ue(f,u),(!b||h[0]&32)&&_!==(_=v[28]+"")&&(m.innerHTML=_)},i(v){b||(C(d.$$.fragment,v),b=!0)},o(v){S(d.$$.fragment,v),b=!1},d(v){v&&I(e),Y(d)}}}function u3(t){let e,n,o,i;e=new ho({props:{class:"w-full flex flex-row align-middle justify-between text-sm filter hover:brightness-110",$$slots:{default:[s3]},$$scope:{ctx:t}}});let r=t[27]&&fu(t);return{c(){U(e.$$.fragment),n=F(),r&&r.c(),o=De()},m(l,a){W(e,l,a),O(l,n,a),r&&r.m(l,a),O(l,o,a),i=!0},p(l,a){const s={};a[0]&32|a[1]&2&&(s.$$scope={dirty:a,ctx:l}),e.$set(s),l[27]?r?(r.p(l,a),a[0]&32&&C(r,1)):(r=fu(l),r.c(),C(r,1),r.m(o.parentNode,o)):r&&(Me(),S(r,1,1,()=>{r=null}),Pe())},i(l){i||(C(e.$$.fragment,l),C(r),i=!0)},o(l){S(e.$$.fragment,l),S(r),i=!1},d(l){l&&(I(n),I(o)),Y(e,l),r&&r.d(l)}}}function cu(t){let e,n,o,i;return n=new po({props:{openDelay:200,closeDelay:0,$$slots:{default:[u3]},$$scope:{ctx:t}}}),{c(){e=M("div"),U(n.$$.fragment),o=F(),L(e,"class","flex flex-col gap-1")},m(r,l){O(r,e,l),W(n,e,null),y(e,o),i=!0},p(r,l){const a={};l[0]&32|l[1]&2&&(a.$$scope={dirty:l,ctx:r}),n.$set(a)},i(r){i||(C(n.$$.fragment,r),i=!0)},o(r){S(n.$$.fragment,r),i=!1},d(r){r&&I(e),Y(n)}}}function f3(t){let e,n,o,i,r,l,a,s,u,f,c,d,p,m,_,b,v,h,k,T,P,N=t[1].gameSettings.includes("bagOfHolding")?"There is no resource cap in this game mode! (Bag of Holding)":"",D;return{c(){e=M("div"),n=H(`Resources are generated from plots. Generation rate can be increased
            by raising the productivity of the town, at the cost of some
            happiness.
            `),o=M("br"),i=F(),r=M("br"),l=H(`
            There is also a slight bit of randomness as townspeople aren't robots.
            `),a=M("br"),s=F(),u=M("br"),f=F(),c=M("span"),c.textContent="Stockpile plots",d=H(` increase the maximum
            amount of resources you can store.
            `),p=M("br"),m=F(),_=M("br"),b=H(`
            If the cap is 500, then you can store 500 of each resource before the
            cap is reached.
            `),v=M("br"),h=H(`
            Capacity is increased by 2,000 per Stockpile plot.
            `),k=M("br"),T=F(),P=M("span"),D=H(N),L(c,"class","font-bold"),L(P,"class","text-red-800 font-bold"),L(e,"class","text-sm")},m(B,q){O(B,e,q),y(e,n),y(e,o),y(e,i),y(e,r),y(e,l),y(e,a),y(e,s),y(e,u),y(e,f),y(e,c),y(e,d),y(e,p),y(e,m),y(e,_),y(e,b),y(e,v),y(e,h),y(e,k),y(e,T),y(e,P),y(P,D)},p(B,q){q[0]&2&&N!==(N=B[1].gameSettings.includes("bagOfHolding")?"There is no resource cap in this game mode! (Bag of Holding)":"")&&ue(D,N)},d(B){B&&I(e)}}}function c3(t){let e,n,o,i=t[1].gameSettings.includes("bagOfHolding")?"No resource cap":`Capacity: ${un(t[1].resource_capacity,!1)}`,r,l,a,s,u;return s=new mo({props:{class:"text-sm w-[200px]",$$slots:{default:[f3]},$$scope:{ctx:t}}}),{c(){e=M("h1"),n=H(`Resources

          `),o=M("div"),r=H(i),a=F(),U(s.$$.fragment),L(o,"class",l="text-xs w-full text-center mb-2 cursor-pointer "+(t[2]==!0?"text-textDanger animate-pulse font-bold":"")+" "+(t[1].gameSettings.includes("bagOfHolding")?"opacity-30":"")),L(e,"class","text-lg w-full text-center pb-2")},m(f,c){O(f,e,c),y(e,n),y(e,o),y(o,r),O(f,a,c),W(s,f,c),u=!0},p(f,c){(!u||c[0]&2)&&i!==(i=f[1].gameSettings.includes("bagOfHolding")?"No resource cap":`Capacity: ${un(f[1].resource_capacity,!1)}`)&&ue(r,i),(!u||c[0]&6&&l!==(l="text-xs w-full text-center mb-2 cursor-pointer "+(f[2]==!0?"text-textDanger animate-pulse font-bold":"")+" "+(f[1].gameSettings.includes("bagOfHolding")?"opacity-30":"")))&&L(o,"class",l);const d={};c[0]&2|c[1]&2&&(d.$$scope={dirty:c,ctx:f}),s.$set(d)},i(f){u||(C(s.$$.fragment,f),u=!0)},o(f){S(s.$$.fragment,f),u=!1},d(f){f&&(I(e),I(a)),Y(s,f)}}}function d3(t){let e,n;return e=new ho({props:{$$slots:{default:[c3]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(o,i){W(e,o,i),n=!0},p(o,i){const r={};i[0]&6|i[1]&2&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function m3(t){let e,n,o=t[19]+"",i;return{c(){e=M("span"),n=H("+"),i=H(o),L(e,"class","")},m(r,l){O(r,e,l),y(e,n),y(e,i)},p(r,l){l[0]&16&&o!==(o=r[19]+"")&&ue(i,o)},d(r){r&&I(e)}}}function p3(t){let e;return{c(){e=M("span")},m(n,o){O(n,e,o)},p:Se,d(n){n&&I(e)}}}function h3(t){let e,n=t[19]+"",o;return{c(){e=M("span"),o=H(n),L(e,"class","text-textDanger")},m(i,r){O(i,e,r),y(e,o)},p(i,r){r[0]&16&&n!==(n=i[19]+"")&&ue(o,n)},d(i){i&&I(e)}}}function _3(t){let e,n,o=t[19]+"",i;return{c(){e=M("span"),n=H("+"),i=H(o),L(e,"class","text-textHappy")},m(r,l){O(r,e,l),y(e,n),y(e,i)},p(r,l){l[0]&16&&o!==(o=r[19]+"")&&ue(i,o)},d(r){r&&I(e)}}}function g3(t){let e;return{c(){e=M("span"),e.textContent="âš ï¸ CAP",L(e,"class","text-textDanger")},m(n,o){O(n,e,o)},p:Se,d(n){n&&I(e)}}}function b3(t){let e;return{c(){e=M("span"),L(e,"class","display-none")},m(n,o){O(n,e,o)},p:Se,d(n){n&&I(e)}}}function v3(t){let e,n,o=t[19]+"",i,r;return{c(){e=M("span"),n=H("+"),i=H(o),r=H(" (weekly)"),L(e,"class","")},m(l,a){O(l,e,a),y(e,n),y(e,i),y(e,r)},p(l,a){a[0]&16&&o!==(o=l[19]+"")&&ue(i,o)},d(l){l&&I(e)}}}function y3(t){let e,n=t[19]+"",o,i;return{c(){e=M("span"),o=H(n),i=H(" (weekly)"),L(e,"class","text-textDanger")},m(r,l){O(r,e,l),y(e,o),y(e,i)},p(r,l){l[0]&16&&n!==(n=r[19]+"")&&ue(o,n)},d(r){r&&I(e)}}}function w3(t){let e,n,o=t[19]+"",i,r;return{c(){e=M("span"),n=H("+"),i=H(o),r=H(" (weekly)"),L(e,"class","text-textHappy")},m(l,a){O(l,e,a),y(e,n),y(e,i),y(e,r)},p(l,a){a[0]&16&&o!==(o=l[19]+"")&&ue(i,o)},d(l){l&&I(e)}}}function du(t){let e,n,o,i;return e=new Tt({props:{class:"bg-white"}}),{c(){U(e.$$.fragment),n=F(),o=M("span"),o.textContent="Required for",L(o,"class","text-sm font-semibold")},m(r,l){W(e,r,l),O(r,n,l),O(r,o,l),i=!0},i(r){i||(C(e.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),i=!1},d(r){r&&(I(n),I(o)),Y(e,r)}}}function mu(t){let e,n=t[22]+"",o;return{c(){e=M("span"),o=H(n),L(e,"class","text-xs mr-4")},m(i,r){O(i,e,r),y(e,o)},p(i,r){r[0]&16&&n!==(n=i[22]+"")&&ue(o,n)},d(i){i&&I(e)}}}function k3(t){let e,n,o=t[16]+"",i,r,l=An(t[17])+"",a,s,u,f=t[8](t[17]).length>0,c,d,p;function m(T,P){return T[19]>0?w3:T[19]<0?y3:T[19]!=null?v3:b3}let _=m(t),b=_(t),v=f&&du(),h=Ue(t[8](t[17])),k=[];for(let T=0;T<h.length;T+=1)k[T]=mu(au(t,h,T));return{c(){e=M("div"),n=M("span"),i=H(o),r=F(),a=H(l),s=F(),b.c(),u=F(),v&&v.c(),c=F(),d=M("div");for(let T=0;T<k.length;T+=1)k[T].c();L(n,"class","text-md font-bold"),L(d,"class","flex flex-col flex-wrap min-w-full"),L(e,"class","flex flex-col gap-2 whitespace-nowrap min-w-fit")},m(T,P){O(T,e,P),y(e,n),y(n,i),y(n,r),y(n,a),y(e,s),b.m(e,null),y(e,u),v&&v.m(e,null),y(e,c),y(e,d);for(let N=0;N<k.length;N+=1)k[N]&&k[N].m(d,null);p=!0},p(T,P){if((!p||P[0]&16)&&o!==(o=T[16]+"")&&ue(i,o),(!p||P[0]&16)&&l!==(l=An(T[17])+"")&&ue(a,l),_===(_=m(T))&&b?b.p(T,P):(b.d(1),b=_(T),b&&(b.c(),b.m(e,u))),P[0]&16&&(f=T[8](T[17]).length>0),f?v?P[0]&16&&C(v,1):(v=du(),v.c(),C(v,1),v.m(e,c)):v&&(Me(),S(v,1,1,()=>{v=null}),Pe()),P[0]&272){h=Ue(T[8](T[17]));let N;for(N=0;N<h.length;N+=1){const D=au(T,h,N);k[N]?k[N].p(D,P):(k[N]=mu(D),k[N].c(),k[N].m(d,null))}for(;N<k.length;N+=1)k[N].d(1);k.length=h.length}},i(T){p||(C(v),p=!0)},o(T){S(v),p=!1},d(T){T&&I(e),b.d(),v&&v.d(),ft(k,T)}}}function C3(t){let e,n=t[16]+"",o,i,r=un(parseInt(t[18]),!1)+"",l,a,s,u,f,c;function d(_,b){return _[18]>=_[1].resource_capacity&&_[17]!="gold"?g3:_[19]>0?_3:_[19]<0?h3:_[19]==null?p3:m3}let p=d(t),m=p(t);return f=new mo({props:{$$slots:{default:[k3]},$$scope:{ctx:t}}}),{c(){e=M("span"),o=H(n),i=F(),l=H(r),a=F(),m.c(),u=F(),U(f.$$.fragment),L(e,"class",s="flex flex-row justify-between text-sm "+(t[18]<=0?"text-textDanger font-semibold":""))},m(_,b){O(_,e,b),y(e,o),y(e,i),y(e,l),y(e,a),m.m(e,null),O(_,u,b),W(f,_,b),c=!0},p(_,b){(!c||b[0]&16)&&n!==(n=_[16]+"")&&ue(o,n),(!c||b[0]&16)&&r!==(r=un(parseInt(_[18]),!1)+"")&&ue(l,r),p===(p=d(_))&&m?m.p(_,b):(m.d(1),m=p(_),m&&(m.c(),m.m(e,null))),(!c||b[0]&16&&s!==(s="flex flex-row justify-between text-sm "+(_[18]<=0?"text-textDanger font-semibold":"")))&&L(e,"class",s);const v={};b[0]&16|b[1]&2&&(v.$$scope={dirty:b,ctx:_}),f.$set(v)},i(_){c||(C(f.$$.fragment,_),c=!0)},o(_){S(f.$$.fragment,_),c=!1},d(_){_&&(I(e),I(u)),m.d(),Y(f,_)}}}function A3(t){let e,n,o;return e=new ho({props:{$$slots:{default:[C3]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),n=F()},m(i,r){W(e,i,r),O(i,n,r),o=!0},p(i,r){const l={};r[0]&18|r[1]&2&&(l.$$scope={dirty:r,ctx:i}),e.$set(l)},i(i){o||(C(e.$$.fragment,i),o=!0)},o(i){S(e.$$.fragment,i),o=!1},d(i){i&&I(n),Y(e,i)}}}function pu(t){let e,n;return e=new po({props:{openDelay:200,closeDelay:0,$$slots:{default:[A3]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(o,i){W(e,o,i),n=!0},p(o,i){const r={};i[0]&18|i[1]&2&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function S3(t){let e;return{c(){e=M("br")},m(n,o){O(n,e,o)},p:Se,i:Se,o:Se,d(n){n&&I(e)}}}function T3(t){let e,n,o,i,r,l,a,s,u,f,c=t[7]&&hu(),d=t[1].currentTutorialStep>0&&_u(t),p=Ue(Ro),m=[];for(let b=0;b<p.length;b+=1)m[b]=bu(lu(t,p,b));const _=b=>S(m[b],1,1,()=>{m[b]=null});return{c(){e=M("div"),n=M("div"),c&&c.c(),o=F(),i=M("h1"),i.textContent="Milestones",r=F(),d&&d.c(),l=F(),a=M("div");for(let b=0;b<m.length;b+=1)m[b].c();L(i,"class","text-lg w-full text-center"),L(n,"class","text-lg w-full text-center noselect flex flex-col no-select"),L(a,"class","scroll overflow-y-scroll")},m(b,v){O(b,e,v),y(e,n),c&&c.m(n,null),y(n,o),y(n,i),y(n,r),d&&d.m(n,null),y(e,l),y(e,a);for(let h=0;h<m.length;h+=1)m[h]&&m[h].m(a,null);s=!0,u||(f=z(n,"click",t[10]),u=!0)},p(b,v){if(b[7]?c?v[0]&128&&C(c,1):(c=hu(),c.c(),C(c,1),c.m(n,o)):c&&(Me(),S(c,1,1,()=>{c=null}),Pe()),b[1].currentTutorialStep>0?d?d.p(b,v):(d=_u(b),d.c(),d.m(n,null)):d&&(d.d(1),d=null),v[0]&10){p=Ue(Ro);let h;for(h=0;h<p.length;h+=1){const k=lu(b,p,h);m[h]?(m[h].p(k,v),C(m[h],1)):(m[h]=bu(k),m[h].c(),C(m[h],1),m[h].m(a,null))}for(Me(),h=p.length;h<m.length;h+=1)_(h);Pe()}},i(b){if(!s){C(c);for(let v=0;v<p.length;v+=1)C(m[v]);s=!0}},o(b){S(c),m=m.filter(Boolean);for(let v=0;v<m.length;v+=1)S(m[v]);s=!1},d(b){b&&I(e),c&&c.d(),d&&d.d(),ft(m,b),u=!1,f()}}}function hu(t){let e,n,o,i,r,l,a,s;return e=new ln({props:{cone:!0,x:[-.5,.5]}}),o=new ln({props:{cone:!0,amount:10,x:[-1,-.4],y:[.25,.75],rounded:!0,size:15}}),r=new ln({props:{cone:!0,amount:10,x:[.4,1],y:[.25,.75]}}),a=new ln({props:{infinite:!0,amount:75,delay:[0,200]}}),{c(){U(e.$$.fragment),n=F(),U(o.$$.fragment),i=F(),U(r.$$.fragment),l=F(),U(a.$$.fragment)},m(u,f){W(e,u,f),O(u,n,f),W(o,u,f),O(u,i,f),W(r,u,f),O(u,l,f),W(a,u,f),s=!0},i(u){s||(C(e.$$.fragment,u),C(o.$$.fragment,u),C(r.$$.fragment,u),C(a.$$.fragment,u),s=!0)},o(u){S(e.$$.fragment,u),S(o.$$.fragment,u),S(r.$$.fragment,u),S(a.$$.fragment,u),s=!1},d(u){u&&(I(n),I(i),I(l)),Y(e,u),Y(o,u),Y(r,u),Y(a,u)}}}function _u(t){let e,n=t[3]?`Hide ${t[1].currentTutorialStep} completed`:`Show ${t[1].currentTutorialStep} completed`,o;return{c(){e=M("span"),o=H(n),L(e,"class","text-xs opacity-65 cursor-pointer pb-2")},m(i,r){O(i,e,r),y(e,o)},p(i,r){r[0]&10&&n!==(n=i[3]?`Hide ${i[1].currentTutorialStep} completed`:`Show ${i[1].currentTutorialStep} completed`)&&ue(o,n)},d(i){i&&I(e)}}}function I3(t){let e,n;return e=new td({props:{index:t[15],step:t[13]}}),{c(){U(e.$$.fragment)},m(o,i){W(e,o,i),n=!0},p:Se,i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function O3(t){let e,n,o=t[3]&&gu(t);return{c(){o&&o.c(),e=De()},m(i,r){o&&o.m(i,r),O(i,e,r),n=!0},p(i,r){i[3]?o?r[0]&8&&C(o,1):(o=gu(i),o.c(),C(o,1),o.m(e.parentNode,e)):o&&(Me(),S(o,1,1,()=>{o=null}),Pe())},i(i){n||(C(o),n=!0)},o(i){S(o),n=!1},d(i){i&&I(e),o&&o.d(i)}}}function gu(t){let e,n;return e=new td({props:{index:t[15],step:t[13]}}),{c(){U(e.$$.fragment)},m(o,i){W(e,o,i),n=!0},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function bu(t){let e,n,o,i;const r=[O3,I3],l=[];function a(s,u){return s[1].currentTutorialStep>s[15]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),S(l[f],1,1,()=>{l[f]=null}),Pe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&I(o),l[e].d(s)}}}function M3(t){let e,n,o,i,r,l,a,s,u,f,c,d,p,m,_,b,v,h,k=Ue(t[5]),T=[];for(let w=0;w<k.length;w+=1)T[w]=cu(uu(t,k,w));const P=w=>S(T[w],1,1,()=>{T[w]=null});s=new po({props:{openDelay:200,closeDelay:0,$$slots:{default:[d3]},$$scope:{ctx:t}}});let N=Ue(t[4]),D=[];for(let w=0;w<N.length;w+=1)D[w]=pu(su(t,N,w));const B=w=>S(D[w],1,1,()=>{D[w]=null}),q=[T3,S3],G=[];function E(w,A){return w[0]?1:0}return _=E(t),b=G[_]=q[_](t),{c(){e=M("div"),n=M("div"),o=M("div"),i=M("h1"),i.textContent="Stats",r=F();for(let w=0;w<T.length;w+=1)T[w].c();l=F(),a=M("div"),U(s.$$.fragment),u=F(),f=M("div"),c=F(),d=M("div"),p=M("div");for(let w=0;w<D.length;w+=1)D[w].c();m=F(),b.c(),L(i,"class","text-lg w-full text-center pb-1"),L(o,"class","flex flex-col rounded-xl gap-2 w-full"),L(n,"class","flex flex-row w-full pb-6"),L(a,"class","flex flex-row justify-center"),L(f,"class","w-[full] flex flex-row justify-center"),L(p,"class","flex flex-col text-md text-nowrap gap-2"),L(d,"class","flex flex-col gap-8 h-full"),L(e,"class",v="bg-sidebarBackground text-sidebarText border-foreground border-4 "+(t[6].visible&&!t[0]?"opacity-0":"")+" z-10 rounded-xl px-2 pt-2 transition-all duration-300 overflow-y-scroll scroll "+(t[0]?"min-w-56":"fixed right-3 top-[190px] sidebar w-[220px] bottom-4"))},m(w,A){O(w,e,A),y(e,n),y(n,o),y(o,i),y(o,r);for(let $=0;$<T.length;$+=1)T[$]&&T[$].m(o,null);y(e,l),y(e,a),W(s,a,null),y(e,u),y(e,f),y(e,c),y(e,d),y(d,p);for(let $=0;$<D.length;$+=1)D[$]&&D[$].m(p,null);y(d,m),G[_].m(d,null),h=!0},p(w,A){if(A[0]&544){k=Ue(w[5]);let R;for(R=0;R<k.length;R+=1){const x=uu(w,k,R);T[R]?(T[R].p(x,A),C(T[R],1)):(T[R]=cu(x),T[R].c(),C(T[R],1),T[R].m(o,null))}for(Me(),R=k.length;R<T.length;R+=1)P(R);Pe()}const $={};if(A[0]&6|A[1]&2&&($.$$scope={dirty:A,ctx:w}),s.$set($),A[0]&274){N=Ue(w[4]);let R;for(R=0;R<N.length;R+=1){const x=su(w,N,R);D[R]?(D[R].p(x,A),C(D[R],1)):(D[R]=pu(x),D[R].c(),C(D[R],1),D[R].m(p,null))}for(Me(),R=N.length;R<D.length;R+=1)B(R);Pe()}let V=_;_=E(w),_===V?G[_].p(w,A):(Me(),S(G[V],1,1,()=>{G[V]=null}),Pe(),b=G[_],b?b.p(w,A):(b=G[_]=q[_](w),b.c()),C(b,1),b.m(d,null)),(!h||A[0]&65&&v!==(v="bg-sidebarBackground text-sidebarText border-foreground border-4 "+(w[6].visible&&!w[0]?"opacity-0":"")+" z-10 rounded-xl px-2 pt-2 transition-all duration-300 overflow-y-scroll scroll "+(w[0]?"min-w-56":"fixed right-3 top-[190px] sidebar w-[220px] bottom-4")))&&L(e,"class",v)},i(w){if(!h){for(let A=0;A<k.length;A+=1)C(T[A]);C(s.$$.fragment,w);for(let A=0;A<N.length;A+=1)C(D[A]);C(b),h=!0}},o(w){T=T.filter(Boolean);for(let A=0;A<T.length;A+=1)S(T[A]);S(s.$$.fragment,w),D=D.filter(Boolean);for(let A=0;A<D.length;A+=1)S(D[A]);S(b),h=!1},d(w){w&&I(e),ft(T,w),Y(s),ft(D,w),G[_].d()}}}function P3(t){return["food","wood","stone","metal","power","knowledge"].includes(t)}function vu(t){let e=0;for(let n=0;n<t.plots.length;n++)for(let o=0;o<t.plots[n].length;o++)t.plots[n][o].active==!0&&t.plots[n][o].type>-1&&e++;return e}function N3(t,e,n){let o,i,r;le(t,qe,b=>n(1,o=b)),le(t,tt,b=>n(6,i=b)),le(t,Eo,b=>n(7,r=b));let l=!1,a=!1,{mini:s=!1}=e,u=[];function f(b){let v=[];for(let h=0;h<te.length;h++)(b!="knowledge"&&te[h].requirements.resources[b]>0||b=="power"&&te[h].active_costs.power>0||b=="knowledge"&&te[h].requirements.knowledge>0)&&v.push(te[h].title);return v}function c(b){return P3(b)?f(b):[]}let d;const p=b=>b===1?"bg-green-500":b>.9?"bg-yellow-500":"bg-red-500",m=b=>b>149?"bg-green-500":b>99?"bg-yellow-500":"bg-red-500",_=()=>{n(3,a=!a)};return t.$$set=b=>{"mini"in b&&n(0,s=b.mini)},t.$$.update=()=>{t.$$.dirty[0]&2&&n(2,l=o.resources.food>=o.resource_capacity||o.resources.wood>=o.resource_capacity||o.resources.stone>=o.resource_capacity||o.resources.metal>=o.resource_capacity),t.$$.dirty[0]&2&&n(4,u=[{icon:"ðŸ’°",name:"gold",value:o.townInfo.gold,rate:o.economyAndLaws.weeklyProfit},{icon:"ðŸ¥•",name:"food",value:o.resources.food,rate:o.resource_rate.food},{icon:"ðŸªµ",name:"wood",value:o.resources.wood,rate:o.resource_rate.wood},{icon:"ðŸª¨",name:"stone",value:o.resources.stone,rate:o.resource_rate.stone},{icon:"ðŸ§ ",name:"knowledge",value:o.townInfo.knowledge_points,rate:o.resource_rate.knowledge},{icon:"ðŸ§²",name:"metal",value:o.resources.metal,rate:o.resource_rate.metal},{icon:"ðŸ”‹",name:"power",value:o.resources.power,rate:null},{icon:"ðŸ§‘â€âš–ï¸",name:"bureaucracy",value:o.resources.bureaucracy,rate:o.resource_rate.bureaucracy}]),t.$$.dirty[0]&2&&n(5,d=[{name:"Happiness",description:"Happy townspeople spend more money and are less likely to leave.",value:o.townInfo.happiness,modifier:o.modifiers.happiness,color:m(o.townInfo.happiness),hover:!0,max:300},{name:"Health",description:"Healthy townspeople are less likely to die (and leave the town obviously).",value:o.townInfo.health,modifier:o.modifiers.health,color:m(o.townInfo.health),hover:!0,max:300},{name:"Community",description:"Townspeople that feel at home are less likely to leave, and less likely to get bored.",value:o.townInfo.community,modifier:o.modifiers.community,color:m(o.townInfo.community),hover:!0,max:300},{name:"Employment",description:"The number of people employed in your town. Unemployed people are more likely to leave.",value:o.townInfo.employees,modifier:null,color:p(o.townInfo.employees/o.townInfo.population_count),hover:!0,max:o.townInfo.population_count},{name:"ðŸ› Recreation",description:"Tracker for how many plots you have for recreation, which keeps townspeople happy. <br/><br/>Make sure as your town grows that you build enough ðŸ› plots. ",value:o.townInfo.recreation,modifier:null,color:o.townInfo.recreation/vu(o)>=.2?"bg-green-500":"bg-orange-300",hover:!0,max:vu(o)}])},[s,o,l,a,u,d,i,r,c,m,_]}class nd extends pe{constructor(e){super(),me(this,e,N3,M3,fe,{mini:0},null,[-1,-1])}}function yu(t,e,n){const o=t.slice();return o[4]=e[n],o[6]=n,o}function wu(t,e,n){const o=t.slice();return o[4]=e[n],o[6]=n,o}function ku(t,e,n){const o=t.slice();return o[4]=e[n],o[6]=n,o}function Cu(t){let e,n,o,i=te[Ae(t[0].id)].title+"",r,l,a,s=te[Ae(t[0].id)].description+"",u,f,c,d,p,m,_,b,v,h=t[3]("ðŸ’°",te[Ae(t[0].id)].requirements.gold,t[2].townInfo.gold)+"",k,T,P=t[3]("ðŸ¥•",te[Ae(t[0].id)].requirements.resources.food,t[2].resources.food)+"",N,D,B=t[3]("ðŸ§ ",te[Ae(t[0].id)].requirements.knowledge,t[2].townInfo.knowledge_points)+"",q,G,E=t[3]("ðŸªµ",te[Ae(t[0].id)].requirements.resources.wood,t[2].resources.wood)+"",w,A,$=t[3]("ðŸª¨",te[Ae(t[0].id)].requirements.resources.stone,t[2].resources.stone)+"",V,R,x=t[3]("ðŸ§²",te[Ae(t[0].id)].requirements.resources.metal,t[2].resources.metal)+"",X,Q,ne=t[3]("ðŸ”‹",te[Ae(t[0].id)].active_costs.power,t[2].resources.power)+"",ae,we,Ne=t[3]("ðŸ§‘â€âš–ï¸",te[Ae(t[0].id)].requirements.resources.bureaucracy,t[2].resources.bureaucracy)+"",Fe,ee=te[Ae(t[0].id)].requirements.employees!=0,g,K=te[Ae(t[0].id)].revenue_per_week!=0,Z,ie=Object.values(te[Ae(t[0].id)].active_costs).some(qu),ce,Te=Object.values(te[Ae(t[0].id)].requirements.plots).length>0,Oe,xe=Object.values(te[Ae(t[0].id)].generated_resources).some($u)||te[Ae(t[0].id)].knowledge_points_per_month>0,de;d=new Tt({props:{class:"bg-accent opacity-25 mt-1 mb-1"}});let Ie=ee&&Au(t),je=K&&Su(t),Je=ie&&Tu(t),Ke=Te&&Mu(t),He=xe&&Eu(t);return{c(){e=M("div"),n=M("div"),o=M("span"),r=H(i),l=F(),a=M("span"),u=H(s),f=F(),c=M("div"),U(d.$$.fragment),p=F(),m=M("span"),m.textContent="Requirements",_=F(),b=M("div"),v=new xt(!1),k=F(),T=new xt(!1),N=F(),D=new xt(!1),q=F(),G=new xt(!1),w=F(),A=new xt(!1),V=F(),R=new xt(!1),X=F(),Q=new xt(!1),ae=F(),we=new xt(!1),Fe=F(),Ie&&Ie.c(),g=F(),je&&je.c(),Z=F(),Je&&Je.c(),ce=F(),Ke&&Ke.c(),Oe=F(),He&&He.c(),L(o,"class","text-md"),L(a,"class","text-xs"),L(n,"class","flex flex-col gap-2"),L(m,"class","font-semibold"),v.a=k,T.a=N,D.a=q,G.a=w,A.a=V,R.a=X,Q.a=ae,we.a=Fe,L(b,"class","flex flex-row gap-1 flex-wrap"),L(c,"class","flex flex-col w-36 h-min gap-0 text-xs pb-2"),L(e,"class","p-2 max-w-64")},m(ke,ve){O(ke,e,ve),y(e,n),y(n,o),y(o,r),y(n,l),y(n,a),y(a,u),y(e,f),y(e,c),W(d,c,null),y(c,p),y(c,m),y(c,_),y(c,b),v.m(h,b),y(b,k),T.m(P,b),y(b,N),D.m(B,b),y(b,q),G.m(E,b),y(b,w),A.m($,b),y(b,V),R.m(x,b),y(b,X),Q.m(ne,b),y(b,ae),we.m(Ne,b),y(b,Fe),Ie&&Ie.m(b,null),y(e,g),je&&je.m(e,null),y(e,Z),Je&&Je.m(e,null),y(e,ce),Ke&&Ke.m(e,null),y(e,Oe),He&&He.m(e,null),de=!0},p(ke,ve){(!de||ve&1)&&i!==(i=te[Ae(ke[0].id)].title+"")&&ue(r,i),(!de||ve&1)&&s!==(s=te[Ae(ke[0].id)].description+"")&&ue(u,s),(!de||ve&5)&&h!==(h=ke[3]("ðŸ’°",te[Ae(ke[0].id)].requirements.gold,ke[2].townInfo.gold)+"")&&v.p(h),(!de||ve&5)&&P!==(P=ke[3]("ðŸ¥•",te[Ae(ke[0].id)].requirements.resources.food,ke[2].resources.food)+"")&&T.p(P),(!de||ve&5)&&B!==(B=ke[3]("ðŸ§ ",te[Ae(ke[0].id)].requirements.knowledge,ke[2].townInfo.knowledge_points)+"")&&D.p(B),(!de||ve&5)&&E!==(E=ke[3]("ðŸªµ",te[Ae(ke[0].id)].requirements.resources.wood,ke[2].resources.wood)+"")&&G.p(E),(!de||ve&5)&&$!==($=ke[3]("ðŸª¨",te[Ae(ke[0].id)].requirements.resources.stone,ke[2].resources.stone)+"")&&A.p($),(!de||ve&5)&&x!==(x=ke[3]("ðŸ§²",te[Ae(ke[0].id)].requirements.resources.metal,ke[2].resources.metal)+"")&&R.p(x),(!de||ve&5)&&ne!==(ne=ke[3]("ðŸ”‹",te[Ae(ke[0].id)].active_costs.power,ke[2].resources.power)+"")&&Q.p(ne),(!de||ve&5)&&Ne!==(Ne=ke[3]("ðŸ§‘â€âš–ï¸",te[Ae(ke[0].id)].requirements.resources.bureaucracy,ke[2].resources.bureaucracy)+"")&&we.p(Ne),ve&1&&(ee=te[Ae(ke[0].id)].requirements.employees!=0),ee?Ie?Ie.p(ke,ve):(Ie=Au(ke),Ie.c(),Ie.m(b,null)):Ie&&(Ie.d(1),Ie=null),ve&1&&(K=te[Ae(ke[0].id)].revenue_per_week!=0),K?je?(je.p(ke,ve),ve&1&&C(je,1)):(je=Su(ke),je.c(),C(je,1),je.m(e,Z)):je&&(Me(),S(je,1,1,()=>{je=null}),Pe()),ve&1&&(ie=Object.values(te[Ae(ke[0].id)].active_costs).some(qu)),ie?Je?(Je.p(ke,ve),ve&1&&C(Je,1)):(Je=Tu(ke),Je.c(),C(Je,1),Je.m(e,ce)):Je&&(Me(),S(Je,1,1,()=>{Je=null}),Pe()),ve&1&&(Te=Object.values(te[Ae(ke[0].id)].requirements.plots).length>0),Te?Ke?(Ke.p(ke,ve),ve&1&&C(Ke,1)):(Ke=Mu(ke),Ke.c(),C(Ke,1),Ke.m(e,Oe)):Ke&&(Me(),S(Ke,1,1,()=>{Ke=null}),Pe()),ve&1&&(xe=Object.values(te[Ae(ke[0].id)].generated_resources).some($u)||te[Ae(ke[0].id)].knowledge_points_per_month>0),xe?He?(He.p(ke,ve),ve&1&&C(He,1)):(He=Eu(ke),He.c(),C(He,1),He.m(e,null)):He&&(Me(),S(He,1,1,()=>{He=null}),Pe())},i(ke){de||(C(d.$$.fragment,ke),C(je),C(Je),C(Ke),C(He),de=!0)},o(ke){S(d.$$.fragment,ke),S(je),S(Je),S(Ke),S(He),de=!1},d(ke){ke&&I(e),Y(d),Ie&&Ie.d(),je&&je.d(),Je&&Je.d(),Ke&&Ke.d(),He&&He.d()}}}function Au(t){let e,n,o=te[Ae(t[0].id)].requirements.employees+"",i,r,l;return{c(){e=M("span"),n=H("ðŸ‘¥ "),i=H(o),r=H(" employees"),L(e,"class",l=te[Ae(t[0].id)].requirements.employees>t[2].townInfo.population_count-t[2].townInfo.employees&&t[1]?"px-1 text-textDanger font-bold border-2 border-red-400":"")},m(a,s){O(a,e,s),y(e,n),y(e,i),y(e,r)},p(a,s){s&1&&o!==(o=te[Ae(a[0].id)].requirements.employees+"")&&ue(i,o),s&7&&l!==(l=te[Ae(a[0].id)].requirements.employees>a[2].townInfo.population_count-a[2].townInfo.employees&&a[1]?"px-1 text-textDanger font-bold border-2 border-red-400":"")&&L(e,"class",l)},d(a){a&&I(e)}}}function Su(t){let e,n,o,i,r,l,a,s=te[Ae(t[0].id)].revenue_per_week+"",u,f;return n=new Tt({props:{class:"bg-accent opacity-25 mt-0"}}),{c(){e=M("div"),U(n.$$.fragment),o=F(),i=M("span"),i.textContent="Weekly revenue",r=F(),l=M("span"),a=H("ðŸ’° "),u=H(s),L(i,"class","font-semibold"),L(e,"class","flex flex-col gap-1 text-xs")},m(c,d){O(c,e,d),W(n,e,null),y(e,o),y(e,i),y(e,r),y(e,l),y(l,a),y(l,u),f=!0},p(c,d){(!f||d&1)&&s!==(s=te[Ae(c[0].id)].revenue_per_week+"")&&ue(u,s)},i(c){f||(C(n.$$.fragment,c),f=!0)},o(c){S(n.$$.fragment,c),f=!1},d(c){c&&I(e),Y(n)}}}function Tu(t){let e,n,o,i,r,l;n=new Tt({props:{class:"bg-accent opacity-25 mt-2"}});let a=Ue(Object.keys(te[Ae(t[0].id)].active_costs)),s=[];for(let u=0;u<a.length;u+=1)s[u]=Ou(ku(t,a,u));return{c(){e=M("div"),U(n.$$.fragment),o=F(),i=M("span"),i.textContent="Weekly Costs",r=F();for(let u=0;u<s.length;u+=1)s[u].c();L(i,"class","font-semibold"),L(e,"class","flex flex-col gap-1 text-xs")},m(u,f){O(u,e,f),W(n,e,null),y(e,o),y(e,i),y(e,r);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(e,null);l=!0},p(u,f){if(f&1){a=Ue(Object.keys(te[Ae(u[0].id)].active_costs));let c;for(c=0;c<a.length;c+=1){const d=ku(u,a,c);s[c]?s[c].p(d,f):(s[c]=Ou(d),s[c].c(),s[c].m(e,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=a.length}},i(u){l||(C(n.$$.fragment,u),l=!0)},o(u){S(n.$$.fragment,u),l=!1},d(u){u&&I(e),Y(n),ft(s,u)}}}function Iu(t){let e,n=An(t[4])+"",o,i,r=Hi(t[4])+"",l,a,s=-1*Object.values(te[Ae(t[0].id)].active_costs)[t[6]]+"",u,f,c;return{c(){e=M("span"),o=H(n),i=F(),l=H(r),a=F(),u=H(s),f=F(),L(e,"class",c=Object.values(te[Ae(t[0].id)].active_costs)[t[6]]>0?"text-textDanger":"text-textHappy")},m(d,p){O(d,e,p),y(e,o),y(e,i),y(e,l),y(e,a),y(e,u),y(e,f)},p(d,p){p&1&&n!==(n=An(d[4])+"")&&ue(o,n),p&1&&r!==(r=Hi(d[4])+"")&&ue(l,r),p&1&&s!==(s=-1*Object.values(te[Ae(d[0].id)].active_costs)[d[6]]+"")&&ue(u,s),p&1&&c!==(c=Object.values(te[Ae(d[0].id)].active_costs)[d[6]]>0?"text-textDanger":"text-textHappy")&&L(e,"class",c)},d(d){d&&I(e)}}}function Ou(t){let e=Object.values(te[Ae(t[0].id)].active_costs)[t[6]]!=0,n,o=e&&Iu(t);return{c(){o&&o.c(),n=De()},m(i,r){o&&o.m(i,r),O(i,n,r)},p(i,r){r&1&&(e=Object.values(te[Ae(i[0].id)].active_costs)[i[6]]!=0),e?o?o.p(i,r):(o=Iu(i),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(i){i&&I(n),o&&o.d(i)}}}function Mu(t){let e,n,o,i,r,l;n=new Tt({props:{class:"bg-accent opacity-25 mt-2"}});let a=Ue(Object.keys(te[Ae(t[0].id)].requirements.plots)),s=[];for(let u=0;u<a.length;u+=1)s[u]=Nu(wu(t,a,u));return{c(){e=M("div"),U(n.$$.fragment),o=F(),i=M("span"),i.textContent="Required Plots",r=F();for(let u=0;u<s.length;u+=1)s[u].c();L(i,"class","font-semibold"),L(e,"class","flex flex-col gap-1 text-xs")},m(u,f){O(u,e,f),W(n,e,null),y(e,o),y(e,i),y(e,r);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(e,null);l=!0},p(u,f){if(f&5){a=Ue(Object.keys(te[Ae(u[0].id)].requirements.plots));let c;for(c=0;c<a.length;c+=1){const d=wu(u,a,c);s[c]?s[c].p(d,f):(s[c]=Nu(d),s[c].c(),s[c].m(e,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=a.length}},i(u){l||(C(n.$$.fragment,u),l=!0)},o(u){S(n.$$.fragment,u),l=!1},d(u){u&&I(e),Y(n),ft(s,u)}}}function Pu(t){var l;let e,n=((l=jl(Object.values(te[Ae(t[0].id)].requirements.plots)[t[6]]))==null?void 0:l.title)+"",o,i,r;return{c(){e=M("span"),o=H(n),i=F(),L(e,"class",r=Be(Object.values(te[Ae(t[0].id)].requirements.plots)[t[6]],t[2]).length==0?"text-textDanger border-2 border-red-400 font-semibold px-1":"text-textHappy")},m(a,s){O(a,e,s),y(e,o),y(e,i)},p(a,s){var u;s&1&&n!==(n=((u=jl(Object.values(te[Ae(a[0].id)].requirements.plots)[a[6]]))==null?void 0:u.title)+"")&&ue(o,n),s&5&&r!==(r=Be(Object.values(te[Ae(a[0].id)].requirements.plots)[a[6]],a[2]).length==0?"text-textDanger border-2 border-red-400 font-semibold px-1":"text-textHappy")&&L(e,"class",r)},d(a){a&&I(e)}}}function Nu(t){let e=Object.values(te[Ae(t[0].id)].requirements.plots)[t[6]]!=0,n,o=e&&Pu(t);return{c(){o&&o.c(),n=De()},m(i,r){o&&o.m(i,r),O(i,n,r)},p(i,r){r&1&&(e=Object.values(te[Ae(i[0].id)].requirements.plots)[i[6]]!=0),e?o?o.p(i,r):(o=Pu(i),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(i){i&&I(n),o&&o.d(i)}}}function Eu(t){let e,n,o,i,r,l=te[Ae(t[0].id)].knowledge_points_per_month>0,a,s;n=new Tt({props:{class:"bg-accent opacity-25 mt-2"}});let u=l&&Ru(t),f=Ue(Object.keys(te[Ae(t[0].id)].generated_resources)),c=[];for(let d=0;d<f.length;d+=1)c[d]=Du(yu(t,f,d));return{c(){e=M("div"),U(n.$$.fragment),o=F(),i=M("span"),i.textContent="Generated Resources",r=F(),u&&u.c(),a=F();for(let d=0;d<c.length;d+=1)c[d].c();L(i,"class","font-semibold"),L(e,"class","flex flex-col gap-1 text-xs")},m(d,p){O(d,e,p),W(n,e,null),y(e,o),y(e,i),y(e,r),u&&u.m(e,null),y(e,a);for(let m=0;m<c.length;m+=1)c[m]&&c[m].m(e,null);s=!0},p(d,p){if(p&1&&(l=te[Ae(d[0].id)].knowledge_points_per_month>0),l?u?u.p(d,p):(u=Ru(d),u.c(),u.m(e,a)):u&&(u.d(1),u=null),p&1){f=Ue(Object.keys(te[Ae(d[0].id)].generated_resources));let m;for(m=0;m<f.length;m+=1){const _=yu(d,f,m);c[m]?c[m].p(_,p):(c[m]=Du(_),c[m].c(),c[m].m(e,null))}for(;m<c.length;m+=1)c[m].d(1);c.length=f.length}},i(d){s||(C(n.$$.fragment,d),s=!0)},o(d){S(n.$$.fragment,d),s=!1},d(d){d&&I(e),Y(n),u&&u.d(),ft(c,d)}}}function Ru(t){let e,n,o=Math.round(te[Ae(t[0].id)].knowledge_points_per_month)+"",i,r;return{c(){e=M("span"),n=H("ðŸ§  "),i=H(o),r=H(" (monthly)")},m(l,a){O(l,e,a),y(e,n),y(e,i),y(e,r)},p(l,a){a&1&&o!==(o=Math.round(te[Ae(l[0].id)].knowledge_points_per_month)+"")&&ue(i,o)},d(l){l&&I(e)}}}function Lu(t){let e,n=Hi(t[4])+"",o,i,r=An(t[4])+"",l,a,s=Hl(Object.values(te[Ae(t[0].id)].generated_resources)[t[6]],!1)+"",u,f,c;return{c(){e=M("span"),o=H(n),i=F(),l=H(r),a=F(),u=H(s),f=F(),L(e,"class",c=Object.values(te[Ae(t[0].id)].generated_resources)[t[6]]>0?"text-textHappy":"text-textDanger")},m(d,p){O(d,e,p),y(e,o),y(e,i),y(e,l),y(e,a),y(e,u),y(e,f)},p(d,p){p&1&&n!==(n=Hi(d[4])+"")&&ue(o,n),p&1&&r!==(r=An(d[4])+"")&&ue(l,r),p&1&&s!==(s=Hl(Object.values(te[Ae(d[0].id)].generated_resources)[d[6]],!1)+"")&&ue(u,s),p&1&&c!==(c=Object.values(te[Ae(d[0].id)].generated_resources)[d[6]]>0?"text-textHappy":"text-textDanger")&&L(e,"class",c)},d(d){d&&I(e)}}}function Du(t){let e=Object.values(te[Ae(t[0].id)].generated_resources)[t[6]]!=0,n,o=e&&Lu(t);return{c(){o&&o.c(),n=De()},m(i,r){o&&o.m(i,r),O(i,n,r)},p(i,r){r&1&&(e=Object.values(te[Ae(i[0].id)].generated_resources)[i[6]]!=0),e?o?o.p(i,r):(o=Lu(i),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(i){i&&I(n),o&&o.d(i)}}}function E3(t){let e,n,o=t[0]!=null&&Cu(t);return{c(){o&&o.c(),e=De()},m(i,r){o&&o.m(i,r),O(i,e,r),n=!0},p(i,[r]){i[0]!=null?o?(o.p(i,r),r&1&&C(o,1)):(o=Cu(i),o.c(),C(o,1),o.m(e.parentNode,e)):o&&(Me(),S(o,1,1,()=>{o=null}),Pe())},i(i){n||(C(o),n=!0)},o(i){S(o),n=!1},d(i){i&&I(e),o&&o.d(i)}}}function Hi(t){switch(t){case"food":return"ðŸ¥•";case"knowledge":return"ðŸ§ ";case"wood":return"ðŸªµ";case"stone":return"ðŸª¨";case"metal":return"ðŸ§²";case"power":return"ðŸ”‹";case"bureaucracy":return"ðŸ§‘â€âš–ï¸";default:return"ðŸ’°"}}const $u=t=>t!=0,qu=t=>t!=0;function R3(t,e,n){let o;le(t,qe,a=>n(2,o=a));let{option:i}=e,{checkRequirements:r=!0}=e;function l(a,s,u){if(s==0||s==null)return"<span class='hidden'></span>";let f="",c="";return u<s&&r&&(c="text-textDanger border-2 border-red-400 px-2"),f=`<span class='${c}'>${a} ${s}</span>`,f}return t.$$set=a=>{"option"in a&&n(0,i=a.option),"checkRequirements"in a&&n(1,r=a.checkRequirements)},[i,r,o,l]}class od extends pe{constructor(e){super(),me(this,e,R3,E3,fe,{option:0,checkRequirements:1})}}function Fu(t){let e,n;return{c(){e=M("span"),n=H(t[3]),L(e,"class","text-[11px] text-wrap")},m(o,i){O(o,e,i),y(e,n)},p(o,i){i&8&&ue(n,o[3])},d(o){o&&I(e)}}}function L3(t){let e,n,o,i,r;return{c(){e=M("span"),n=H(`Hires
              `),o=M("span"),i=H(t[9]),r=H(`

              employees`),L(o,"class",t[10]+" font-medium"),L(e,"class","text-[11px] opacity-80")},m(l,a){O(l,e,a),y(e,n),y(e,o),y(o,i),y(e,r)},p:Se,d(l){l&&I(e)}}}function D3(t){let e;return{c(){e=M("span"),e.textContent=`+ðŸ’°${un(t[8],!1)}/wk`},m(n,o){O(n,e,o)},p:Se,d(n){n&&I(e)}}}function $3(t){let e;return{c(){e=M("span"),e.textContent=`ðŸ”Œ${t[11]}`},m(n,o){O(n,e,o)},p:Se,d(n){n&&I(e)}}}function q3(t){let e,n,o,i,r,l,a,s,u,f,c,d,p,m=un(t[6],!1)+"",_,b,v,h,k,T,P,N,D=t[3]&&Fu(t),B=t[9]&&L3(t),q=t[8]>0&&D3(t),G=t[11]>0&&$3(t);return{c(){e=M("div"),n=M("div"),o=M("div"),i=M("span"),i.textContent=`${t[5]}`,r=F(),l=M("span"),l.textContent=`${t[4]}`,a=F(),D&&D.c(),s=F(),u=M("div"),B&&B.c(),f=F(),c=M("div"),d=M("span"),p=H("ðŸ’°"),_=H(m),b=F(),q&&q.c(),v=F(),h=M("div"),G&&G.c(),L(i,"class","text-3xl"),L(l,"class","font-medium text-center text-md"),L(o,"class","flex flex-col flex-grow rounded-xl p-2 gap-0 justify-center items-center"),L(d,"class",""+t[7]),L(c,"class","flex flex-row justify-between mx-2 text-[11px] font-mono items-center"),L(h,"class","flex flex-row justify-between mx-2 text-[11px] font-mono"),L(u,"class","bg-sidebarBackground text-black rounded-t-lg py-1"),L(n,"class",k="flex flex-col w-36 h-48 min-h-32 min-w-36 rounded-xl text-white drop-shadow-lg border-black border-2 hover:translate-y-[-8px] transition-transform duration-300 ease-in-out z-100 "+(t[2]?"cursor-pointer":"cursor-not-allowed opacity-30")),et(n,"background",t[12]),L(e,"class","plotOption"),L(e,"data-plotoptionid",T=t[0].id)},m(E,w){O(E,e,w),y(e,n),y(n,o),y(o,i),y(o,r),y(o,l),y(o,a),D&&D.m(o,null),y(n,s),y(n,u),B&&B.m(u,null),y(u,f),y(u,c),y(c,d),y(d,p),y(d,_),y(c,b),q&&q.m(c,null),y(u,v),y(u,h),G&&G.m(h,null),P||(N=z(e,"click",function(){$t(t[2]?t[15]:Bu)&&(t[2]?t[15]:Bu).apply(this,arguments)}),P=!0)},p(E,w){t=E,t[3]?D?D.p(t,w):(D=Fu(t),D.c(),D.m(o,null)):D&&(D.d(1),D=null),t[9]&&B.p(t,w),t[8]>0&&q.p(t,w),t[11]>0&&G.p(t,w),w&4&&k!==(k="flex flex-col w-36 h-48 min-h-32 min-w-36 rounded-xl text-white drop-shadow-lg border-black border-2 hover:translate-y-[-8px] transition-transform duration-300 ease-in-out z-100 "+(t[2]?"cursor-pointer":"cursor-not-allowed opacity-30"))&&L(n,"class",k),w&1&&T!==(T=t[0].id)&&L(e,"data-plotoptionid",T)},d(E){E&&I(e),D&&D.d(),B&&B.d(),q&&q.d(),G&&G.d(),P=!1,N()}}}function F3(t){let e,n;return e=new od({props:{option:t[0],checkRequirements:!0}}),{c(){U(e.$$.fragment)},m(o,i){W(e,o,i),n=!0},p(o,i){const r={};i&1&&(r.option=o[0]),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function B3(t){let e,n,o,i;return e=new ho({props:{$$slots:{default:[q3]},$$scope:{ctx:t}}}),o=new mo({props:{$$slots:{default:[F3]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),n=F(),U(o.$$.fragment)},m(r,l){W(e,r,l),O(r,n,l),W(o,r,l),i=!0},p(r,l){const a={};l&262159&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&262145&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&I(n),Y(e,r),Y(o,r)}}}function j3(t){let e,n;return e=new po({props:{openDelay:200,closeDelay:0,$$slots:{default:[B3]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(o,i){W(e,o,i),n=!0},p(o,[i]){const r={};i&262159&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}const Bu=()=>{};function H3(t,e,n){let o;le(t,qe,P=>n(14,o=P));let{option:i}=e,r=o,{purchaseCallback:l}=e,{canPurchase:a}=e,s=i.title.substring(2),u=i.title.substring(0,2),f=i.requirements.gold,c=r.townInfo.gold<f?"text-red-500 font-semibold":"",d=i.revenue_per_week,p=i.requirements.employees,m=r.townInfo.population_count-r.townInfo.employees<p?"text-red-500 font-semibold":"",_=i.active_costs.power,b=Or(Ae(i.id),!1,5),{count:v=0}=e,h="";const k=Object.entries(i.generated_resources).filter(([P,N])=>N>0).map(([P,N])=>`${N} ${P}`);k.length>0&&(h=`Produces: ${k.join(", ")}`);const T=()=>l(i);return t.$$set=P=>{"option"in P&&n(0,i=P.option),"purchaseCallback"in P&&n(1,l=P.purchaseCallback),"canPurchase"in P&&n(2,a=P.canPurchase),"count"in P&&n(13,v=P.count)},t.$$.update=()=>{t.$$.dirty&16384&&(r=o)},[i,l,a,h,s,u,f,c,d,p,m,_,b,v,o,T]}class G3 extends pe{constructor(e){super(),me(this,e,H3,j3,fe,{option:0,purchaseCallback:1,canPurchase:2,count:13})}}function ju(t,e,n){const o=t.slice();return o[17]=e[n],o}function Hu(t){let e,n,o,i,r,l,a,s=[],u=new Map,f,c,d,p,m,_,b,v=Ue(t[1].filter(t[8]));const h=k=>k[17].id;for(let k=0;k<v.length;k+=1){let T=ju(t,v,k),P=h(T);u.set(P,s[k]=Gu(P,T))}return p=new nd({props:{mini:!0}}),{c(){e=M("div"),n=M("div"),o=M("div"),i=M("div"),r=M("div"),l=M("div"),a=M("div");for(let k=0;k<s.length;k+=1)s[k].c();c=F(),d=M("div"),U(p.$$.fragment),L(a,"class",f="flex flex-row text-start justify-start items-start flex-wrap py-8 "+(t[2].isMineralSource,"pt-6 gap-2")+" w-full align-middle"),L(r,"class","flex gap-1 pb-24 overflow-scroll max-h-["+Vu+"]"),L(i,"class","flex flex-row gap-2 justify-start pt-8 flex-grow w-full"),L(n,"class","h-max w-full flex-grow"),L(e,"class","w-[100vw] fixed bottom-[-5px] max-h-["+Vu+"] z-50 flex flex-row justify-center text-center items-center bg-popupBackground text-sidebarText px-4 align-bottom shadow-2xl rounded-t-2xl")},m(k,T){O(k,e,T),y(e,n),y(n,o),y(o,i),y(i,r),y(r,l),y(l,a);for(let P=0;P<s.length;P+=1)s[P]&&s[P].m(a,null);y(e,c),y(e,d),W(p,d,null),m=!0,_||(b=z(i,"click",t[3]),_=!0)},p(k,T){T&14&&(v=Ue(k[1].filter(k[8])),Me(),s=Sd(s,T,h,1,k,v,u,a,Ad,Gu,null,ju),Pe()),(!m||T&4&&f!==(f="flex flex-row text-start justify-start items-start flex-wrap py-8 "+(k[2].isMineralSource,"pt-6 gap-2")+" w-full align-middle"))&&L(a,"class",f)},i(k){if(!m){for(let T=0;T<v.length;T+=1)C(s[T]);C(p.$$.fragment,k),m=!0}},o(k){for(let T=0;T<s.length;T+=1)S(s[T]);S(p.$$.fragment,k),m=!1},d(k){k&&I(e);for(let T=0;T<s.length;T+=1)s[T].d();Y(p),_=!1,b()}}}function Gu(t,e){let n,o,i;return o=new G3({props:{option:e[17],purchaseCallback:e[3],canPurchase:e[17].affordable??!1}}),{key:t,first:null,c(){n=De(),U(o.$$.fragment),this.first=n},m(r,l){O(r,n,l),W(o,r,l),i=!0},p(r,l){e=r;const a={};l&6&&(a.option=e[17]),l&6&&(a.canPurchase=e[17].affordable??!1),o.$set(a)},i(r){i||(C(o.$$.fragment,r),i=!0)},o(r){S(o.$$.fragment,r),i=!1},d(r){r&&I(n),Y(o,r)}}}function V3(t){let e,n,o=t[0]&&Hu(t);return{c(){o&&o.c(),e=De()},m(i,r){o&&o.m(i,r),O(i,e,r),n=!0},p(i,[r]){i[0]?o?(o.p(i,r),r&1&&C(o,1)):(o=Hu(i),o.c(),C(o,1),o.m(e.parentNode,e)):o&&(Me(),S(o,1,1,()=>{o=null}),Pe())},i(i){n||(C(o),n=!0)},o(i){S(o),n=!1},d(i){i&&I(e),o&&o.d(i)}}}const Vu="50vh";function W3(t,e,n){let o,i;le(t,qe,v=>n(7,o=v)),le(t,tt,v=>n(2,i=v));let{x:r=0}=e,{y:l=0}=e,{open:a=!1}=e,{tooltip:s=""}=e,u=te,f=u.map(v=>Object.assign(Object.assign({},v),{affordable:d(v,o),selected:c(v)}));function c(v){return o.plots[r][l].type>-1?u[o.plots[r][l].type].id===v.id:!1}function d(v,h){let k=!0;v.requirements.gold>h.townInfo.gold&&(k=!1);let T=h.townInfo.population_count-h.townInfo.employees;return v.requirements.employees!==void 0&&v.requirements.employees>0&&v.requirements.employees>T&&(k=!1),v.requirements.knowledge!==void 0&&v.requirements.knowledge>h.townInfo.knowledge_points&&(k=!1),v.requirements.resources!==void 0&&Object.keys(v.requirements.resources).forEach(P=>{v.requirements.resources[P]!=0&&o.resources[P]<v.requirements.resources[P]&&(k=!1)}),v.active_costs!==void 0&&(v.active_costs.gold>h.townInfo.gold||v.active_costs.power>h.resources.power||v.active_costs.wood>h.resources.wood||v.active_costs.stone>h.resources.stone||v.active_costs.metal>h.resources.metal||v.active_costs.bureaucracy>h.resources.bureaucracy||v.active_costs.food>h.resources.food)&&(k=!1),v.requirements.plots.length>0&&v.requirements.plots.forEach(P=>{Be(P,h).length===0&&(k=!1)}),k}function p(v){const h=v.target.closest(".plotOption");if(h){const k=h.dataset.plotoptionid;m(k)}}function m(v){document.querySelectorAll(".plotOption").forEach(T=>{T.classList.remove("active")});const k=document.querySelector(`[data-plotoptionid="${v}"]`);k&&(k.classList.add("active"),_(r,l,v))}function _(v,h,k,T=!1){let P=o;const N=te.findIndex(E=>E.id===k),D=Object.entries(te[N].requirements).map(([E,w])=>`<li>${An(E)}: ${w}</li>`);let B=te[N];if(d(B,o)==!1)return ht.set(`You can not afford this.
        <br/><br/>
        ${D}`);if(B.requirements.adjacent_plots!==void 0&&!T){let E=B.requirements.adjacent_plots;if(vm(v,h,P,B.requirements.adjacent_plots)===!1)return ht.set(`This plot requires adjacent plots of type: ${E.join(", ")}`)}let q=!0;if((B.requirements.gold>P.townInfo.gold||B.requirements.employees>P.townInfo.population_count-P.townInfo.employees)&&(q=!1),B.requirements.size!=null&&B.requirements.size!=1&&q||!T){let $=function(V,R){let x={x:V,y:R};return x.x===0&&x.y===0?!0:[{x:x.x-1,y:x.y},{x:x.x+1,y:x.y},{x:x.x,y:x.y-1},{x:x.x,y:x.y+1}].some(Q=>Q.x<0||Q.x>o.plots.length-1||Q.y<0||Q.y>o.plots.length-1?!1:o.plots[Q.x][Q.y].active)};var G=$;let E=B.requirements.size,w=[],A=u[N].title.toLowerCase().indexOf("school")!=-1;for(let V=0;V<4;V++){let R=[[v,h]];V===0?(R.push([v-(E-1),h-(E-1)]),R.push([v-(E-1),h]),R.push([v,h-(E-1)])):V===1?(R.push([v,h-(E-1)]),R.push([v+(E-1),h-(E-1)]),R.push([v+(E-1),h])):V===2?(R.push([v-(E-1),h]),R.push([v-(E-1),h+(E-1)]),R.push([v,h+(E-1)])):V===3&&(R.push([v,h+(E-1)]),R.push([v+(E-1),h+(E-1)]),R.push([v+(E-1),h])),w.push(R)}w=w.filter(V=>V.every(R=>R[0]>=0&&R[0]<=P.plots.length-1&&R[1]>=0&&R[1]<=P.plots.length-1&&!P.plots[R[0]][R[1]].active&&$(R[0],R[1])==!0)),w.length===0?q=!1:w.length>0&&w[0].forEach(R=>{P.plots[R[0]][R[1]].active=!0,P.plots[R[0]][R[1]].type=A?-3:-2,P.plots[R[0]][R[1]].referencePlot=[v,h]})}if(q===!0||T){if(P.plots[v][h].type!==-1&&ul(v,h,P),n(4,s=""),P.plots[v][h].type=N,P.plots[v][h].active=!0,P.plots[v][h].referencePlot=[],P.plots[v][h].typeId=B.id,P.townInfo.gold-=B.requirements.gold,P.townInfo.gold=Pt(P.townInfo.gold,2),P.townInfo.population_count+=B.immediate_variable_changes.population,P.townInfo.population_max+=B.immediate_variable_changes.population,P.townInfo.happiness+=B.immediate_variable_changes.happiness,P.townInfo.health+=B.immediate_variable_changes.health,P.modifiers.happiness=Pt(P.modifiers.happiness*B.effect_modifiers.happiness,2),P.modifiers.health=Pt(P.modifiers.health*B.effect_modifiers.health,2),P.modifiers.community=Pt(P.modifiers.community*B.effect_modifiers.community,2),P.townInfo.employees+=B.requirements.employees,(P.plotCounts[N]===void 0||P.plotCounts[N]===null)&&(P.plotCounts[N]=0),P.plotCounts[N]++,P.lastChangeDay=P.environment.day,B.requirements.resources!==void 0){const w=B.requirements.resources;P.resources.food-=w.food,P.resources.wood-=w.wood,P.resources.stone-=w.stone,P.resources.metal-=w.metal}switch(B.id){case"city_hall":P.hasCityHall=!0;break;case"bank":P.hasBank=!0;break}qe.set(P),localStorage.setItem(Dt,JSON.stringify(P));let E=!1;for(let w=v;w<P.plots.length;w++){for(let A=h;A<P.plots[w].length;A++)if(P.plots[w][A].active===!1&&P.plots[w][A].mineralSource==!1&&P.plots[w][A].water==!1){v=w,h=A,E=!0;break}if(E)break}Re(tt,i.x=v,i),Re(tt,i.y=h,i),Re(tt,i.visible=!1,i)}else n(4,s="You do not have enough resources to purchase this plot. If it's a 'Large' plot, make sure you have a 2x2 area available. "),document.querySelectorAll(".plotOption").forEach(w=>{w.classList.remove("active")})}const b=v=>i.isMineralSource?v.id==="mine":!0;return t.$$set=v=>{"x"in v&&n(5,r=v.x),"y"in v&&n(6,l=v.y),"open"in v&&n(0,a=v.open),"tooltip"in v&&n(4,s=v.tooltip)},t.$$.update=()=>{t.$$.dirty&134&&o&&(n(1,f=u.map(v=>Object.assign(Object.assign({},v),{affordable:d(v,o),selected:c(v)}))),Be("tree_farm",o).length===0&&n(1,f=f.filter(v=>v.id==="small_homes"||v.id==="farm"||v.id==="tree_farm")),i.isMineralSource&&n(1,f=f.filter(v=>v.id==="mine")),Object.keys(Dl).forEach(v=>{let h=Dl[v];if(h>0){let k=Be(v,o).length;n(1,f=f.filter(T=>T.id!==v||k<h))}}),f.sort((v,h)=>v.selected&&!h.selected?-1:0),i.isMineralSource||n(1,f=f.filter(v=>v.id!=="mine")))},[a,f,i,p,s,r,l,o,b]}class id extends pe{constructor(e){super(),me(this,e,W3,V3,fe,{x:5,y:6,open:0,tooltip:4})}}function Y3(t){let e,n,o;return{c(){e=M("span"),n=H("My liege, if you build a City Hall, you can expand your city "),o=H(t[0]),L(e,"class","text-xs")},m(i,r){O(i,e,r),y(e,n),y(e,o)},p(i,r){r&1&&ue(o,i[0])},i:Se,o:Se,d(i){i&&I(e)}}}function U3(t){let e,n;return e=new St({props:{class:"bg-accent h-max rounded-2xl hover:scale-110 transition-transform duration-200 ease-in-out hover:drop-shadow-2xl",$$slots:{default:[K3]},$$scope:{ctx:t}}}),e.$on("click",t[2]),{c(){U(e.$$.fragment)},m(o,i){W(e,o,i),n=!0},p(o,i){const r={};i&11&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function K3(t){let e,n,o,i,r,l=t[0].toUpperCase()+"",a,s,u,f,c,d,p,m,_,b,v,h=Math.round(Math.pow(1.7,t[1].kingdom_expansions+5))+"",k,T,P,N;return{c(){e=M("div"),n=H("My liege, you can expand your "),o=M("br"),i=H(`kingdom
        `),r=M("span"),a=H(l),s=H(`
        using
        `),u=M("br"),f=H(`your
        `),c=M("span"),c.textContent="City Hall",d=H("!"),p=M("br"),m=M("br"),_=F(),b=M("span"),v=H("Requires "),k=H(h),T=H(` Guardians
          `),P=M("br"),N=H("to be employed. (see city mgmt menu)"),L(r,"class","font-extrabold text-blue-200"),L(c,"class","text-blue-200 bold"),L(b,"class","opacity-75 text-xs")},m(D,B){O(D,e,B),y(e,n),y(e,o),y(e,i),y(e,r),y(r,a),y(e,s),y(e,u),y(e,f),y(e,c),y(e,d),y(e,p),y(e,m),y(e,_),y(e,b),y(b,v),y(b,k),y(b,T),y(b,P),y(b,N)},p(D,B){B&1&&l!==(l=D[0].toUpperCase()+"")&&ue(a,l),B&2&&h!==(h=Math.round(Math.pow(1.7,D[1].kingdom_expansions+5))+"")&&ue(k,h)},d(D){D&&I(e)}}}function x3(t){let e,n,o,i,r;const l=[U3,Y3],a=[];function s(u,f){return f&2&&(n=null),n==null&&(n=Be("city_hall",u[1]).length>0),n?0:1}return o=s(t,-1),i=a[o]=l[o](t),{c(){e=M("div"),i.c(),L(e,"class","w-48 h-max")},m(u,f){O(u,e,f),a[o].m(e,null),r=!0},p(u,[f]){let c=o;o=s(u,f),o===c?a[o].p(u,f):(Me(),S(a[c],1,1,()=>{a[c]=null}),Pe(),i=a[o],i?i.p(u,f):(i=a[o]=l[o](u),i.c()),C(i,1),i.m(e,null))},i(u){r||(C(i),r=!0)},o(u){S(i),r=!1},d(u){u&&I(e),a[o].d()}}}function X3(t,e,n){let o;le(t,qe,l=>n(1,o=l));let{direction:i}=e;const r=()=>{const l=Dd(o,i);l&&ht.set(l)};return t.$$set=l=>{"direction"in l&&n(0,i=l.direction)},[i,o,r]}class Wu extends pe{constructor(e){super(),me(this,e,X3,x3,fe,{direction:0})}}function J3(t){return{c:Se,m:Se,p:Se,d:Se}}function Z3(t){let e,n,o,i=te[t[0].type].title.substring(0,2)+"",r,l,a,s,u,f=te[t[0].type].title.substring(2)+"",c,d,p,m;return{c(){e=M("div"),n=M("span"),o=M("span"),r=H(i),l=F(),a=M("br"),s=F(),u=M("span"),c=H(f),L(o,"class","text-lg align-text-top select-none"),L(u,"class","text-sm align-text-top text-black select-none"),L(n,"data-size",d=te[t[0].type].requirements.size),L(n,"data-x",p=t[0].x),L(n,"data-y",m=t[0].y),L(e,"class","svelte-lm6uio")},m(_,b){O(_,e,b),y(e,n),y(n,o),y(o,r),y(n,l),y(n,a),y(n,s),y(n,u),y(u,c)},p(_,b){b&1&&i!==(i=te[_[0].type].title.substring(0,2)+"")&&ue(r,i),b&1&&f!==(f=te[_[0].type].title.substring(2)+"")&&ue(c,f),b&1&&d!==(d=te[_[0].type].requirements.size)&&L(n,"data-size",d),b&1&&p!==(p=_[0].x)&&L(n,"data-x",p),b&1&&m!==(m=_[0].y)&&L(n,"data-y",m)},d(_){_&&I(e)}}}function Yu(t){let e;return{c(){e=M("span"),e.textContent="ðŸ§²",L(e,"class","text-lg")},m(n,o){O(n,e,o)},d(n){n&&I(e)}}}function Uu(t){let e;return{c(){e=M("span"),e.textContent="ðŸ‘‘",L(e,"class","text-lg absolute top-0")},m(n,o){O(n,e,o)},d(n){n&&I(e)}}}function Q3(t){let e,n,o,i=t[7](t[0].x,t[0].y),r,l,a,s,u,f,c,d,p,m,_,b,v,h,k,T,P,N;function D(w,A){if(w[0].type>-1)return Z3;if(w[0].type==-1&&w[0].x==0&&w[0].y==0)return J3}let B=D(t),q=B&&B(t),G=t[0].mineralSource&&t[0].type==-1&&Yu(),E=i&&Uu();return{c(){e=M("button"),q&&q.c(),n=F(),G&&G.c(),o=F(),E&&E.c(),L(e,"class",r="plot_container "+t[1]+" overflow-visible "+(t[0].type==-1&&t[2]==!1,"")+" "+(t[0].mineralSource?"hidden":"")+" "+(t[2]?"cursor-pointer":"cursor-not-allowed")+" "+(t[0].disabled?"animate-spin":"")+" svelte-lm6uio"),et(e,"background-color",t[0].water?"rgba(66, 135, 245, 1)":t[4].x==t[0].x&&t[4].y==t[0].y&&t[4].visible?"white":t[0].mineralSource?"black":Or(t[0].type,t[2])),L(e,"data-active",l=t[0].active),L(e,"data-hidehoveranimation",a=t[4].visible||t[0].type==-1&&t[0].x==0&&t[0].y==0),L(e,"data-id",s=t[0].id),L(e,"data-x",u=t[0].x),L(e,"data-y",f=t[0].y),L(e,"data-optionindex",c=t[0].optionIndex),L(e,"data-canbeupgraded",t[2]),L(e,"data-type",d=t[0].type),L(e,"data-type-id",p=t[0].typeId),L(e,"data-refplotx",m=t[0].referencePlot!==void 0?t[0].referencePlot[1]:null),L(e,"data-refploty",_=t[0].referencePlot!==void 0?t[0].referencePlot[0]:null),L(e,"data-size",b=t[0].type>-1?te[t[0].type].requirements.size:null),L(e,"data-mineralsource",v=t[0].mineralSource),L(e,"data-water",h=t[0].water),L(e,"data-nearwater",k=Sn(t[0].x,t[0].y,t[5])),L(e,"data-liegelocation",T=t[7](t[0].x,t[0].y))},m(w,A){O(w,e,A),q&&q.m(e,null),y(e,n),G&&G.m(e,null),y(e,o),E&&E.m(e,null),P||(N=z(e,"click",function(){$t(t[0].water?null:t[6]?$l(t[0].x,t[0].y,t[5]):t[8])&&(t[0].water?null:t[6]?$l(t[0].x,t[0].y,t[5]):t[8]).apply(this,arguments)}),P=!0)},p(w,A){t=w,B===(B=D(t))&&q?q.p(t,A):(q&&q.d(1),q=B&&B(t),q&&(q.c(),q.m(e,n))),t[0].mineralSource&&t[0].type==-1?G||(G=Yu(),G.c(),G.m(e,o)):G&&(G.d(1),G=null),A&1&&(i=t[7](t[0].x,t[0].y)),i?E||(E=Uu(),E.c(),E.m(e,null)):E&&(E.d(1),E=null),A&7&&r!==(r="plot_container "+t[1]+" overflow-visible "+(t[0].type==-1&&t[2]==!1,"")+" "+(t[0].mineralSource?"hidden":"")+" "+(t[2]?"cursor-pointer":"cursor-not-allowed")+" "+(t[0].disabled?"animate-spin":"")+" svelte-lm6uio")&&L(e,"class",r),A&21&&et(e,"background-color",t[0].water?"rgba(66, 135, 245, 1)":t[4].x==t[0].x&&t[4].y==t[0].y&&t[4].visible?"white":t[0].mineralSource?"black":Or(t[0].type,t[2])),A&1&&l!==(l=t[0].active)&&L(e,"data-active",l),A&17&&a!==(a=t[4].visible||t[0].type==-1&&t[0].x==0&&t[0].y==0)&&L(e,"data-hidehoveranimation",a),A&1&&s!==(s=t[0].id)&&L(e,"data-id",s),A&1&&u!==(u=t[0].x)&&L(e,"data-x",u),A&1&&f!==(f=t[0].y)&&L(e,"data-y",f),A&1&&c!==(c=t[0].optionIndex)&&L(e,"data-optionindex",c),A&4&&L(e,"data-canbeupgraded",t[2]),A&1&&d!==(d=t[0].type)&&L(e,"data-type",d),A&1&&p!==(p=t[0].typeId)&&L(e,"data-type-id",p),A&1&&m!==(m=t[0].referencePlot!==void 0?t[0].referencePlot[1]:null)&&L(e,"data-refplotx",m),A&1&&_!==(_=t[0].referencePlot!==void 0?t[0].referencePlot[0]:null)&&L(e,"data-refploty",_),A&1&&b!==(b=t[0].type>-1?te[t[0].type].requirements.size:null)&&L(e,"data-size",b),A&1&&v!==(v=t[0].mineralSource)&&L(e,"data-mineralsource",v),A&1&&h!==(h=t[0].water)&&L(e,"data-water",h),A&33&&k!==(k=Sn(t[0].x,t[0].y,t[5]))&&L(e,"data-nearwater",k),A&1&&T!==(T=t[7](t[0].x,t[0].y))&&L(e,"data-liegelocation",T)},d(w){w&&I(e),q&&q.d(),G&&G.d(),E&&E.d(),P=!1,N()}}}function Ku(t){let e;return{c(){e=H("Water - Place farms nearby for more food & revenue!")},m(n,o){O(n,e,o)},d(n){n&&I(e)}}}function xu(t){let e;return{c(){e=M("span"),e.textContent="Near water - Generating more food & revenue!",L(e,"class","text-xs bg-blue-500 text-white px-2 py-3 rounded-2xl text-center")},m(n,o){O(n,e,o)},d(n){n&&I(e)}}}function Xu(t){let e;function n(r,l){return te[r[0].type].liege_on_plot_hint==null?e4:z3}let o=n(t),i=o(t);return{c(){e=M("span"),i.c(),L(e,"class","text-xs bg-pink-700 text-white px-2 py-3 rounded-2xl text-center")},m(r,l){O(r,e,l),i.m(e,null)},p(r,l){o===(o=n(r))&&i?i.p(r,l):(i.d(1),i=o(r),i&&(i.c(),i.m(e,null)))},d(r){r&&I(e),i.d()}}}function z3(t){let e=te[t[0].type].liege_on_plot_hint+"",n;return{c(){n=H(e)},m(o,i){O(o,n,i)},p(o,i){i&1&&e!==(e=te[o[0].type].liege_on_plot_hint+"")&&ue(n,e)},d(o){o&&I(n)}}}function e4(t){let e,n=te[t[0].type].title+"",o,i;return{c(){e=H("You are hanging out on the "),o=H(n),i=H(` plot, but nothing
            seems to be changing except a revenue boost.`)},m(r,l){O(r,e,l),O(r,o,l),O(r,i,l)},p(r,l){l&1&&n!==(n=te[r[0].type].title+"")&&ue(o,n)},d(r){r&&(I(e),I(o),I(i))}}}function Ju(t){let e,n;return e=new od({props:{option:t[3],checkRequirements:!1}}),{c(){U(e.$$.fragment)},m(o,i){W(e,o,i),n=!0},p(o,i){const r={};i&8&&(r.option=o[3]),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function t4(t){let e,n,o=Sn(t[0].x,t[0].y,t[5]),i,r=Un(t[0].x,t[0].y,t[5]),l,a,s=t[0].water&&Ku(),u=o&&xu(),f=r&&Xu(t),c=t[0].active&&Ju(t);return{c(){e=M("div"),s&&s.c(),n=F(),u&&u.c(),i=F(),f&&f.c(),l=F(),c&&c.c(),L(e,"class","flex flex-col gap-2")},m(d,p){O(d,e,p),s&&s.m(e,null),y(e,n),u&&u.m(e,null),y(e,i),f&&f.m(e,null),y(e,l),c&&c.m(e,null),a=!0},p(d,p){d[0].water?s||(s=Ku(),s.c(),s.m(e,n)):s&&(s.d(1),s=null),p&33&&(o=Sn(d[0].x,d[0].y,d[5])),o?u||(u=xu(),u.c(),u.m(e,i)):u&&(u.d(1),u=null),p&33&&(r=Un(d[0].x,d[0].y,d[5])),r?f?f.p(d,p):(f=Xu(d),f.c(),f.m(e,l)):f&&(f.d(1),f=null),d[0].active?c?(c.p(d,p),p&1&&C(c,1)):(c=Ju(d),c.c(),C(c,1),c.m(e,null)):c&&(Me(),S(c,1,1,()=>{c=null}),Pe())},i(d){a||(C(c),a=!0)},o(d){S(c),a=!1},d(d){d&&I(e),s&&s.d(),u&&u.d(),f&&f.d(),c&&c.d()}}}function n4(t){let e,n,o,i;return e=new ho({props:{$$slots:{default:[Q3]},$$scope:{ctx:t}}}),o=new mo({props:{class:"max-w-64 rounded-3xl "+(t[0].type<0&&!t[0].water?"hidden":""),$$slots:{default:[t4]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),n=F(),U(o.$$.fragment)},m(r,l){W(e,r,l),O(r,n,l),W(o,r,l),i=!0},p(r,l){const a={};l&4215&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&1&&(s.class="max-w-64 rounded-3xl "+(r[0].type<0&&!r[0].water?"hidden":"")),l&4137&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&I(n),Y(e,r),Y(o,r)}}}function o4(t){let e,n;return e=new po({props:{openDelay:200,closeDelay:0,$$slots:{default:[n4]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(o,i){W(e,o,i),n=!0},p(o,[i]){const r={};i&4223&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function i4(t,e,n){let o,i,r,l,a;le(t,tt,_=>n(4,o=_)),le(t,qe,_=>n(5,i=_)),le(t,Ct,_=>n(10,r=_)),le(t,zn,_=>n(11,l=_)),le(t,eo,_=>n(6,a=_));let{data:s={id:0,active:!1,x:0,y:0,type:-1,styling:"",referencePlot:[],mineralSource:!1,disabled:!1,water:!1}}=e,u,{classText:f=""}=e,{canBeUpgraded:c=!1}=e;const d=(_,b)=>i.liege_location!=null&&_==i.liege_location[0]&&b==i.liege_location[1];function p(_,b,v){let h=document.querySelectorAll(".plot_container");if(r==!1){if(s.referencePlot!=null&&s.referencePlot[0]!==null&&b==null&&v==null&&s.referencePlot[1]!==void 0)return p(_,s.referencePlot[0],s.referencePlot[1]);if(!s.active&&!c)Re(zn,l={},l),Re(tt,o.visible=!1,o),h.forEach(k=>{k.classList.remove("selected")});else{b!=null&&v!=null?(Re(tt,o.x=b,o),Re(tt,o.y=v,o)):(Re(tt,o.x=s.x,o),Re(tt,o.y=s.y,o)),Re(tt,o.isMineralSource=s.mineralSource,o),Re(tt,o.visible=!0,o);const k=document.querySelector(`.plot_container[data-id="${s.id}"]`),T=document.documentElement||document.body,P=k.getBoundingClientRect(),N=window.innerHeight||T.clientHeight,D=window.innerWidth||T.clientWidth,B=T.scrollTop+P.top-N/2+225,q=T.scrollLeft+P.left-D/2;window.scrollTo({top:B,left:q,behavior:"smooth"}),h.forEach(G=>{G.classList.remove("selected")}),b!=null&&v!=null?document.querySelector(`.plot_container[data-x="${b}"][data-y="${v}"]`).classList.add("selected"):document.querySelector(`.plot_container[data-id="${s.id}"]`).classList.add("selected")}}}function m(_){r==!1&&(Re(qe,i.plots[s.x][s.y].type=_,i),Re(tt,o.visible=!1,o))}return t.$$set=_=>{"data"in _&&n(0,s=_.data),"classText"in _&&n(1,f=_.classText),"canBeUpgraded"in _&&n(2,c=_.canBeUpgraded)},t.$$.update=()=>{t.$$.dirty&1&&s.type>-1&&n(3,u=te[s.type])},[s,f,c,u,o,i,a,d,p,m]}class r4 extends pe{constructor(e){super(),me(this,e,i4,o4,fe,{data:0,classText:1,canBeUpgraded:2,changePlotType:9})}get changePlotType(){return this.$$.ctx[9]}}function Zu(t,e,n){const o=t.slice();return o[9]=e[n],o[11]=n,o}function Qu(t,e,n){const o=t.slice();return o[12]=e[n],o}function zu(t){let e,n,o,i,r,l,a,s,u,f,c,d=t[4],p,m,_=Ue(t[2].plots),b=[];for(let k=0;k<_.length;k+=1)b[k]=tf(Zu(t,_,k));const v=k=>S(b[k],1,1,()=>{b[k]=null});a=new Wu({props:{direction:"east"}}),f=new Wu({props:{direction:"south"}});let h=of(t);return{c(){e=M("div"),n=M("div"),o=M("div"),i=M("div");for(let k=0;k<b.length;k+=1)b[k].c();r=F(),l=M("span"),U(a.$$.fragment),s=F(),u=M("span"),U(f.$$.fragment),c=F(),h.c(),p=De(),L(i,"class","grid plot_controller svelte-1udphho"),L(o,"class","flex flex-row items-center"),L(n,"style",t[3]),L(n,"id","plotContainerMain"),L(n,"class","items-center h-max flex flex-col pr-80 pb-80  svelte-1udphho"),L(e,"class","flex flex-col")},m(k,T){O(k,e,T),y(e,n),y(n,o),y(o,i);for(let P=0;P<b.length;P+=1)b[P]&&b[P].m(i,null);y(o,r),y(o,l),W(a,l,null),y(n,s),y(n,u),W(f,u,null),O(k,c,T),h.m(k,T),O(k,p,T),m=!0},p(k,T){if(T&7){_=Ue(k[2].plots);let P;for(P=0;P<_.length;P+=1){const N=Zu(k,_,P);b[P]?(b[P].p(N,T),C(b[P],1)):(b[P]=tf(N),b[P].c(),C(b[P],1),b[P].m(i,null))}for(Me(),P=_.length;P<b.length;P+=1)v(P);Pe()}(!m||T&8)&&L(n,"style",k[3]),T&16&&fe(d,d=k[4])?(Me(),S(h,1,1,Se),Pe(),h=of(k),h.c(),C(h,1),h.m(p.parentNode,p)):h.p(k,T)},i(k){if(!m){for(let T=0;T<_.length;T+=1)C(b[T]);C(a.$$.fragment,k),C(f.$$.fragment,k),C(h),m=!0}},o(k){b=b.filter(Boolean);for(let T=0;T<b.length;T+=1)S(b[T]);S(a.$$.fragment,k),S(f.$$.fragment,k),S(h),m=!1},d(k){k&&(I(e),I(c),I(p)),ft(b,k),Y(a),Y(f),h.d(k)}}}function ef(t){let e,n;return e=new r4({props:{classText:"hexagon",data:t[12],canBeUpgraded:t[0](t[12].x,t[12].y)}}),{c(){U(e.$$.fragment)},m(o,i){W(e,o,i),n=!0},p(o,i){const r={};i&4&&(r.data=o[12]),i&4&&(r.canBeUpgraded=o[0](o[12].x,o[12].y)),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function tf(t){let e,n,o,i,r,l=Ue(t[9]),a=[];for(let u=0;u<l.length;u+=1)a[u]=ef(Qu(t,l,u));const s=u=>S(a[u],1,1,()=>{a[u]=null});return{c(){e=M("div");for(let u=0;u<a.length;u+=1)a[u].c();n=F(),L(e,"class","row "+(t[11]%2!==0?"odd-row":"")+" svelte-1udphho")},m(u,f){O(u,e,f);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(e,null);y(e,n),o=!0,i||(r=z(e,"click",t[1]),i=!0)},p(u,f){if(f&5){l=Ue(u[9]);let c;for(c=0;c<l.length;c+=1){const d=Qu(u,l,c);a[c]?(a[c].p(d,f),C(a[c],1)):(a[c]=ef(d),a[c].c(),C(a[c],1),a[c].m(e,n))}for(Me(),c=l.length;c<a.length;c+=1)s(c);Pe()}},i(u){if(!o){for(let f=0;f<l.length;f+=1)C(a[f]);o=!0}},o(u){a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)S(a[f]);o=!1},d(u){u&&I(e),ft(a,u),i=!1,r()}}}function nf(t){let e,n;return e=new id({props:{x:t[5].x,y:t[5].y,open:t[5].visible}}),{c(){U(e.$$.fragment)},m(o,i){W(e,o,i),n=!0},p(o,i){const r={};i&32&&(r.x=o[5].x),i&32&&(r.y=o[5].y),i&32&&(r.open=o[5].visible),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function of(t){let e,n,o=t[5].visible&&nf(t);return{c(){o&&o.c(),e=De()},m(i,r){o&&o.m(i,r),O(i,e,r),n=!0},p(i,r){i[5].visible?o?(o.p(i,r),r&32&&C(o,1)):(o=nf(i),o.c(),C(o,1),o.m(e.parentNode,e)):o&&(Me(),S(o,1,1,()=>{o=null}),Pe())},i(i){n||(C(o),n=!0)},o(i){S(o),n=!1},d(i){i&&I(e),o&&o.d(i)}}}function l4(t){let e,n,o=t[2]!=null&&zu(t);return{c(){o&&o.c(),e=De()},m(i,r){o&&o.m(i,r),O(i,e,r),n=!0},p(i,[r]){i[2]!=null?o?(o.p(i,r),r&4&&C(o,1)):(o=zu(i),o.c(),C(o,1),o.m(e.parentNode,e)):o&&(Me(),S(o,1,1,()=>{o=null}),Pe())},i(i){n||(C(o),n=!0)},o(i){S(o),n=!1},d(i){i&&I(e),o&&o.d(i)}}}function s4(t,e,n){let o,i,r;le(t,zn,d=>n(4,o=d)),le(t,qe,d=>n(2,i=d)),le(t,tt,d=>n(5,r=d));let l,a=0,s=["margin-left: 300px; margin-top: 200px; scale: 1;","margin-left: 650px; margin-top: 600px; scale: 1.5;"];document.addEventListener("keypress",function(d){d.key==="*"&&(a==s.length-1?n(6,a=0):n(6,a++,a))}),document.addEventListener("click",function(d){const p=d.target;(p.dataset.x==null&&p.dataset.type!="-1"&&p.dataset.size!=null||p.id=="plotContainerMain"||p.classList.contains("row")||p.classList.contains("grid"))&&Re(tt,r.visible=!1,r)});function u(d,p){let m={x:d,y:p};return m.x===0&&m.y===0?!0:[{x:m.x-1,y:m.y},{x:m.x+1,y:m.y},{x:m.x,y:m.y-1},{x:m.x,y:m.y+1}].some(b=>b.x<0||b.x>=i.plots.length||b.y<0||b.y>=i.plots[b.x].length?!1:i.plots[b.x][b.y].active)}function f(){let d=[];for(let p=0;p<i.plots.length;p++)for(let m=0;m<i.plots.length;m++)u(p,m)&&i.plots[p][m].active==!1&&d.push(i.plots[p][m])}function c(){Re(zn,o={},o)}return t.$$.update=()=>{t.$$.dirty&4&&i&&f(),t.$$.dirty&64&&n(3,l=s[a])},[u,c,i,l,o,r,a]}class a4 extends pe{constructor(e){super(),me(this,e,s4,l4,fe,{checkIfPlotCanBeUpgraded:0,restartModifyPlotMenu:1})}get checkIfPlotCanBeUpgraded(){return this.$$.ctx[0]}get restartModifyPlotMenu(){return this.$$.ctx[1]}}function rf(t,e,n){const o=t.slice();return o[5]=e[n],o}function lf(t){let e,n;return e=new Ug({props:{thumb:t[5],class:"block h-4 w-4  bg-accent focus-visible:outline-none  disabled:pointer-events-none disabled:opacity-50"}}),{c(){U(e.$$.fragment)},m(o,i){W(e,o,i),n=!0},p(o,i){const r={};i&16&&(r.thumb=o[5]),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function u4(t){let e,n,o,i,r;n=new jg({props:{class:"absolute h-full bg-primary"}});let l=Ue(t[4]),a=[];for(let u=0;u<l.length;u+=1)a[u]=lf(rf(t,l,u));const s=u=>S(a[u],1,1,()=>{a[u]=null});return{c(){e=M("span"),U(n.$$.fragment),o=F();for(let u=0;u<a.length;u+=1)a[u].c();i=De(),L(e,"class","relative h-2 w-full grow overflow-hidden bg-black")},m(u,f){O(u,e,f),W(n,e,null),O(u,o,f);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(u,f);O(u,i,f),r=!0},p(u,f){if(f&16){l=Ue(u[4]);let c;for(c=0;c<l.length;c+=1){const d=rf(u,l,c);a[c]?(a[c].p(d,f),C(a[c],1)):(a[c]=lf(d),a[c].c(),C(a[c],1),a[c].m(i.parentNode,i))}for(Me(),c=l.length;c<a.length;c+=1)s(c);Pe()}},i(u){if(!r){C(n.$$.fragment,u);for(let f=0;f<l.length;f+=1)C(a[f]);r=!0}},o(u){S(n.$$.fragment,u),a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)S(a[f]);r=!1},d(u){u&&(I(e),I(o),I(i)),Y(n),ft(a,u)}}}function f4(t){let e,n,o;const i=[{class:Ge("relative flex w-full touch-none select-none items-center",t[1])},t[2]];function r(a){t[3](a)}let l={$$slots:{default:[u4,({thumbs:a})=>({4:a}),({thumbs:a})=>a?16:0]},$$scope:{ctx:t}};for(let a=0;a<i.length;a+=1)l=J(l,i[a]);return t[0]!==void 0&&(l.value=t[0]),e=new Lg({props:l}),Le.push(()=>hn(e,"value",r)),{c(){U(e.$$.fragment)},m(a,s){W(e,a,s),o=!0},p(a,[s]){const u=s&6?Ce(i,[s&2&&{class:Ge("relative flex w-full touch-none select-none items-center",a[1])},s&4&&at(a[2])]):{};s&272&&(u.$$scope={dirty:s,ctx:a}),!n&&s&1&&(n=!0,u.value=a[0],pn(()=>n=!1)),e.$set(u)},i(a){o||(C(e.$$.fragment,a),o=!0)},o(a){S(e.$$.fragment,a),o=!1},d(a){Y(e,a)}}}function c4(t,e,n){const o=["class","value"];let i=re(e,o),{class:r=void 0}=e,{value:l=[0]}=e;function a(s){l=s,n(0,l)}return t.$$set=s=>{e=J(J({},e),$e(s)),n(2,i=re(e,o)),"class"in s&&n(1,r=s.class),"value"in s&&n(0,l=s.value)},[l,r,i,a]}class sf extends pe{constructor(e){super(),me(this,e,c4,f4,fe,{class:1,value:0})}}function d4(t){let e=(t[4].length>0?t[4]:"Why are you hovering here?")+"",n;return{c(){n=H(e)},m(o,i){O(o,n,i)},p(o,i){i&16&&e!==(e=(o[4].length>0?o[4]:"Why are you hovering here?")+"")&&ue(n,e)},d(o){o&&I(n)}}}function m4(t){let e,n;return{c(){e=M("div"),n=H(t[0])},m(o,i){O(o,e,i),y(e,n)},p(o,i){i&1&&ue(n,o[0])},d(o){o&&I(e)}}}function p4(t){let e,n;return e=new St({props:{class:`text-sm flex flex-col  bg-accent cursor-pointer text-accentText py-1.5 rounded-xl
  bg-`+t[2]+" cursor-pointer text-accentText opacity-"+t[3]+" "+(t[3]<100?"hover:opacity-40":"")+` transition-all duration-150 filter hover:brightness-110
  `,$$slots:{default:[m4]},$$scope:{ctx:t}}}),e.$on("click",function(){$t(t[1])&&t[1].apply(this,arguments)}),{c(){U(e.$$.fragment)},m(o,i){W(e,o,i),n=!0},p(o,i){t=o;const r={};i&12&&(r.class=`text-sm flex flex-col  bg-accent cursor-pointer text-accentText py-1.5 rounded-xl
  bg-`+t[2]+" cursor-pointer text-accentText opacity-"+t[3]+" "+(t[3]<100?"hover:opacity-40":"")+` transition-all duration-150 filter hover:brightness-110
  `),i&33&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function h4(t){let e,n,o,i;return e=new mo({props:{$$slots:{default:[d4]},$$scope:{ctx:t}}}),o=new ho({props:{class:"flex flex-col ",$$slots:{default:[p4]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),n=F(),U(o.$$.fragment)},m(r,l){W(e,r,l),O(r,n,l),W(o,r,l),i=!0},p(r,l){const a={};l&48&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&47&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&I(n),Y(e,r),Y(o,r)}}}function _4(t){let e,n;return e=new po({props:{openDelay:t[4].length>0?200:1e4,closeDelay:0,$$slots:{default:[h4]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(o,i){W(e,o,i),n=!0},p(o,[i]){const r={};i&16&&(r.openDelay=o[4].length>0?200:1e4),i&63&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function g4(t,e,n){let{text:o}=e,{onOpen:i}=e,{backgroundColor:r="accent"}=e,{opacity:l=100}=e,{onHoverText:a=""}=e;return t.$$set=s=>{"text"in s&&n(0,o=s.text),"onOpen"in s&&n(1,i=s.onOpen),"backgroundColor"in s&&n(2,r=s.backgroundColor),"opacity"in s&&n(3,l=s.opacity),"onHoverText"in s&&n(4,a=s.onHoverText)},[o,i,r,l,a]}class ri extends pe{constructor(e){super(),me(this,e,g4,_4,fe,{text:0,onOpen:1,backgroundColor:2,opacity:3,onHoverText:4})}}function af(t,e,n){const o=t.slice();return o[14]=e[n],o}function uf(t){let e;return{c(){e=M("p"),e.textContent="No alerts",L(e,"class","text-center text-xs opacity-50 svelte-1m80q9z")},m(n,o){O(n,e,o)},d(n){n&&I(e)}}}function ff(t){let e,n,o,i=t[14].day+"",r,l,a,s=t[14].message+"",u,f,c;return{c(){e=M("div"),n=M("p"),o=H("DAY "),r=H(i),l=F(),a=M("p"),u=H(s),f=F(),L(n,"class","font-mono text-[10px]  svelte-1m80q9z"),L(a,"class","text-xs svelte-1m80q9z"),L(e,"class",c="px-2 py-2 rounded-2xl fade-in mb-4 "+(t[14].vibe==ot.BAD?"bg-white text-textDanger border ":t[14].vibe==ot.GOOD?"bg-green-300":(t[14].vibe==ot.NORMAL,"bg-accent"))+" svelte-1m80q9z")},m(d,p){O(d,e,p),y(e,n),y(n,o),y(n,r),y(e,l),y(e,a),y(a,u),y(e,f)},p(d,p){p&2&&i!==(i=d[14].day+"")&&ue(r,i),p&2&&s!==(s=d[14].message+"")&&ue(u,s),p&2&&c!==(c="px-2 py-2 rounded-2xl fade-in mb-4 "+(d[14].vibe==ot.BAD?"bg-white text-textDanger border ":d[14].vibe==ot.GOOD?"bg-green-300":(d[14].vibe==ot.NORMAL,"bg-accent"))+" svelte-1m80q9z")&&L(e,"class",c)},d(d){d&&I(e)}}}function b4(t){let e,n,o,i,r,l,a,s,u,f,c,d=Pt(t[1].economyAndLaws.tax_rate*100,0)+"",p,m,_,b,v,h,k,T,P,N,D=Pt(t[1].townInfo.productivity,0)+"",B,q,G,E,w,A,$,V,R,x,X,Q,ne,ae,we,Ne,Fe,ee,g,K,Z,ie,ce=t[0]=="true"?"ðŸ”‡":"ðŸ”Š",Te,Oe,xe,de,Ie,je,Je,Ke;b=new sf({props:{value:[t[1].economyAndLaws.tax_rate],onValueChange:t[8],min:0,max:.5,step:.05,class:"cursor-pointer w-[75%]"}}),E=new sf({props:{value:[t[1].townInfo.productivity],onValueChange:t[7],min:0,max:200,step:5,class:"cursor-pointer w-[75%]"}}),x=new ri({props:{text:t[3]?"Select an active plot!":"ðŸ‘‘ Set your location (boost)",onOpen:t[9]}}),Q=new ri({props:{text:"ðŸ§  Sell Knowledge",onOpen:t[10]}}),ae=new ri({props:{text:"ðŸ¢ Manage City",onOpen:t[11]}}),Ne=new ri({props:{text:t[1].lab.active_experiment!==null?`${t[1].lab.active_experiment.duration}`:"ðŸ§ª Manage Lab",onOpen:t[6],opacity:Be("lab",t[1]).length>=1?100:30,onHoverText:Be("lab",t[1]).length>=1?"":"Build a Lab to perform experiments. Experiments can save lives, make money, or generally improve your town."}});let He=t[1].townLog.length==0&&uf(),ke=Ue(t[1].townLog),ve=[];for(let Ee=0;Ee<ke.length;Ee+=1)ve[Ee]=ff(af(t,ke,Ee));return{c(){e=M("div"),n=M("div"),o=M("div"),i=M("div"),r=M("div"),l=M("div"),a=M("h1"),a.textContent="Laws",s=F(),u=M("span"),u.textContent="Tax Rate",f=F(),c=M("span"),p=H(d),m=H("%"),_=F(),U(b.$$.fragment),v=F(),h=M("div"),k=M("div"),T=M("span"),T.textContent="Productivity",P=F(),N=M("span"),B=H(D),q=H("%"),G=F(),U(E.$$.fragment),w=F(),A=M("div"),$=M("h1"),$.textContent="Menus",V=F(),R=M("div"),U(x.$$.fragment),X=F(),U(Q.$$.fragment),ne=F(),U(ae.$$.fragment),we=F(),U(Ne.$$.fragment),Fe=F(),ee=M("div"),g=M("div"),K=M("h3"),K.innerHTML='<h1 class="text-lg w-full text-center svelte-1m80q9z">Alerts</h1>',Z=F(),ie=M("button"),Te=H(ce),Oe=F(),xe=M("div"),He&&He.c(),de=F();for(let Ee=0;Ee<ve.length;Ee+=1)ve[Ee].c();L(a,"class","text-lg w-full text-center pb-2 svelte-1m80q9z"),L(u,"class","text-sm svelte-1m80q9z"),L(c,"class","text-sm svelte-1m80q9z"),L(l,"class","mb-1 svelte-1m80q9z"),L(r,"class","flex flex-col justify-center w-full text-center items-center gap-1 min-h-12 pb-2 rounded-xl svelte-1m80q9z"),L(T,"class","text-sm svelte-1m80q9z"),L(N,"class","text-sm svelte-1m80q9z"),L(k,"class","mb-1 svelte-1m80q9z"),L(h,"class","flex flex-col justify-center w-full text-center items-center gap-2 svelte-1m80q9z"),L(i,"class","flex flex-col gap-2 rounded-xl text-center justify-center mb-2 mt-0 pt-2 svelte-1m80q9z"),L($,"class","text-lg w-full text-center pb-2 svelte-1m80q9z"),L(R,"class","flex flex-col gap-2 svelte-1m80q9z"),L(A,"class","svelte-1m80q9z"),L(K,"class","text-md cursor-pointer  svelte-1m80q9z"),L(ie,"class","svelte-1m80q9z"),L(g,"class","flex flex-row gap-2 items-start justify-center pb-2 svelte-1m80q9z"),L(xe,"class","overflow-y-scroll h-[100%] w-[100%] pb-4 scroll-smooth svelte-1m80q9z"),L(ee,"class","svelte-1m80q9z"),L(o,"class","flex flex-col justify-center mx-2 gap-8 svelte-1m80q9z"),L(n,"class","w-[220px] text-sidebarText bg-sidebarBackground overflow-scroll border-foregroundDark border-4 bottom-4 z-10 fixed left-3 py-2 top-[190px] drop-shadow-xl rounded-xl transition-all duration-300 svelte-1m80q9z"),L(e,"class",Ie="flex flex-row text-sidebarText bg-sidebarBackground overflow-clip "+(t[2].visible?"opacity-70":"")+" svelte-1m80q9z")},m(Ee,Qe){O(Ee,e,Qe),y(e,n),y(n,o),y(o,i),y(i,r),y(r,l),y(l,a),y(l,s),y(l,u),y(l,f),y(l,c),y(c,p),y(c,m),y(r,_),W(b,r,null),y(i,v),y(i,h),y(h,k),y(k,T),y(k,P),y(k,N),y(N,B),y(N,q),y(h,G),W(E,h,null),y(o,w),y(o,A),y(A,$),y(A,V),y(A,R),W(x,R,null),y(R,X),W(Q,R,null),y(R,ne),W(ae,R,null),y(R,we),W(Ne,R,null),y(o,Fe),y(o,ee),y(ee,g),y(g,K),y(g,Z),y(g,ie),y(ie,Te),y(ee,Oe),y(ee,xe),He&&He.m(xe,null),y(xe,de);for(let st=0;st<ve.length;st+=1)ve[st]&&ve[st].m(xe,null);je=!0,Je||(Ke=[z(K,"click",t[12]),z(ie,"click",t[13])],Je=!0)},p(Ee,[Qe]){(!je||Qe&2)&&d!==(d=Pt(Ee[1].economyAndLaws.tax_rate*100,0)+"")&&ue(p,d);const st={};Qe&2&&(st.value=[Ee[1].economyAndLaws.tax_rate]),b.$set(st),(!je||Qe&2)&&D!==(D=Pt(Ee[1].townInfo.productivity,0)+"")&&ue(B,D);const rt={};Qe&2&&(rt.value=[Ee[1].townInfo.productivity]),E.$set(rt);const ye={};Qe&8&&(ye.text=Ee[3]?"Select an active plot!":"ðŸ‘‘ Set your location (boost)"),Qe&8&&(ye.onOpen=Ee[9]),x.$set(ye);const Ze={};Qe&16&&(Ze.onOpen=Ee[10]),Q.$set(Ze);const j={};Qe&32&&(j.onOpen=Ee[11]),ae.$set(j);const xo={};if(Qe&2&&(xo.text=Ee[1].lab.active_experiment!==null?`${Ee[1].lab.active_experiment.duration}`:"ðŸ§ª Manage Lab"),Qe&2&&(xo.opacity=Be("lab",Ee[1]).length>=1?100:30),Qe&2&&(xo.onHoverText=Be("lab",Ee[1]).length>=1?"":"Build a Lab to perform experiments. Experiments can save lives, make money, or generally improve your town."),Ne.$set(xo),(!je||Qe&1)&&ce!==(ce=Ee[0]=="true"?"ðŸ”‡":"ðŸ”Š")&&ue(Te,ce),Ee[1].townLog.length==0?He||(He=uf(),He.c(),He.m(xe,de)):He&&(He.d(1),He=null),Qe&2){ke=Ue(Ee[1].townLog);let Ot;for(Ot=0;Ot<ke.length;Ot+=1){const Nl=af(Ee,ke,Ot);ve[Ot]?ve[Ot].p(Nl,Qe):(ve[Ot]=ff(Nl),ve[Ot].c(),ve[Ot].m(xe,null))}for(;Ot<ve.length;Ot+=1)ve[Ot].d(1);ve.length=ke.length}(!je||Qe&4&&Ie!==(Ie="flex flex-row text-sidebarText bg-sidebarBackground overflow-clip "+(Ee[2].visible?"opacity-70":"")+" svelte-1m80q9z"))&&L(e,"class",Ie)},i(Ee){je||(C(b.$$.fragment,Ee),C(E.$$.fragment,Ee),C(x.$$.fragment,Ee),C(Q.$$.fragment,Ee),C(ae.$$.fragment,Ee),C(Ne.$$.fragment,Ee),je=!0)},o(Ee){S(b.$$.fragment,Ee),S(E.$$.fragment,Ee),S(x.$$.fragment,Ee),S(Q.$$.fragment,Ee),S(ae.$$.fragment,Ee),S(Ne.$$.fragment,Ee),je=!1},d(Ee){Ee&&I(e),Y(b),Y(E),Y(x),Y(Q),Y(ae),Y(Ne),He&&He.d(),ft(ve,Ee),Je=!1,Ve(Ke)}}}function v4(t,e,n){let o,i,r,l,a;le(t,qe,v=>n(1,o=v)),le(t,tt,v=>n(2,i=v)),le(t,eo,v=>n(3,r=v)),le(t,yi,v=>n(4,l=v)),le(t,ki,v=>n(5,a=v));let s=localStorage.getItem("mute")||"false";function u(){o.hasLab&&si.set(!0)}function f(v){let h=o;h.townInfo.productivity=Pt(v[0],2),qe.set(h),localStorage.setItem(Dt,JSON.stringify(h))}function c(v){let h=o;h.economyAndLaws.tax_rate=Pt(v[0],2),qe.set(h),localStorage.setItem(Dt,JSON.stringify(h))}const d=function(){Re(eo,r=!r,r)},p=function(){Re(yi,l=!l,l)},m=function(){Re(ki,a=!a,a)},_=()=>{Re(qe,o.townLog=[],o)},b=()=>{localStorage.setItem("mute",s=="false"?"true":s==="true"?"false":"true"),n(0,s=localStorage.getItem("mute")||"false")};return n(0,s=localStorage.getItem("mute")||"false"),[s,o,i,r,l,a,u,f,c,d,p,m,_,b]}class y4 extends pe{constructor(e){super(),me(this,e,v4,b4,fe,{})}}function w4(t){let e,n,o,i,r,l,a,s,u,f,c,d,p;return o=new X5({}),l=new y4({}),s=new a4({}),f=new nd({}),d=new id({}),{c(){e=M("div"),n=M("div"),U(o.$$.fragment),i=F(),r=M("div"),U(l.$$.fragment),a=F(),U(s.$$.fragment),u=F(),U(f.$$.fragment),c=F(),U(d.$$.fragment),L(r,"class","flex flex-row text-accentText"),L(e,"class","flex flex-col max-h-[100%] justify-between")},m(m,_){O(m,e,_),y(e,n),W(o,n,null),y(e,i),y(e,r),W(l,r,null),y(r,a),W(s,r,null),y(r,u),W(f,r,null),y(r,c),W(d,r,null),p=!0},p:Se,i(m){p||(C(o.$$.fragment,m),C(l.$$.fragment,m),C(s.$$.fragment,m),C(f.$$.fragment,m),C(d.$$.fragment,m),p=!0)},o(m){S(o.$$.fragment,m),S(l.$$.fragment,m),S(s.$$.fragment,m),S(f.$$.fragment,m),S(d.$$.fragment,m),p=!1},d(m){m&&I(e),Y(o),Y(l),Y(s),Y(f),Y(d)}}}class k4 extends pe{constructor(e){super(),me(this,e,null,w4,fe,{})}}function cf(t,e,n){const o=t.slice();return o[20]=e[n],o}function df(t){let e,n,o,i,r,l,a=t[20].description+"",s;return{c(){e=M("li"),n=M("div"),o=M("span"),o.textContent=`â˜‘ï¸ ${t[20].text}`,i=F(),r=M("span"),l=M("blockquote"),s=F(),L(o,"class","hover:text-green-300 font-bold"),L(l,"class","text-xs px-[18px]"),L(r,"class","text-sm transition-all duration-300 ease-in-out "),L(n,"class","flex flex-col gap-2"),L(e,"class","flex flex-row gap-2 items-center")},m(u,f){O(u,e,f),y(e,n),y(n,o),y(n,i),y(n,r),y(r,l),l.innerHTML=a,y(e,s)},p:Se,d(u){u&&I(e)}}}function C4(t){let e,n,o,i,r,l,a=t[0].townInfo.name+"",s,u,f,c,d,p,m,_,b,v,h,k=Ue(t[2]),T=[];for(let P=0;P<k.length;P+=1)T[P]=df(cf(t,k,P));return{c(){e=M("div"),n=M("div"),o=M("div"),i=M("h1"),r=H("The town of "),l=M("span"),s=H(a),u=H(`
                has been founded!`),f=F(),c=M("p"),c.textContent=`Congratulations! ðŸŽ‰ After leaving your old town, you've
                discovered a fertile land bursting with potential. This is your
                chance to build a thriving new community from the ground up.`,d=F(),p=M("p"),p.innerHTML=`As the town founder and <span class="">formal liege</span>, you
                must <span class="text-blue-300">collect taxes</span>, and use
                that funding to
                <span class="text-blue-300">build plots</span>.`,m=F(),_=M("div"),b=M("div"),b.innerHTML='<h3 class="text-lg underline underline-offset-8">Your Objectives</h3>',v=F(),h=M("ul");for(let P=0;P<T.length;P+=1)T[P].c();L(l,"class","text-accent"),L(i,"class","text-3xl mt-4 text-white font-semibold"),L(o,"class","flex flex-col gap-4"),L(b,"class","flex flex-row align-middle items-center"),L(h,"class","select-none gap-4 flex flex-col "),L(_,"class","flex flex-col gap-4"),L(n,"class","flex flex-col gap-8 overflow-y-scroll  svelte-1rjkodc"),L(e,"class","flex flex-row gap-6")},m(P,N){O(P,e,N),y(e,n),y(n,o),y(o,i),y(i,r),y(i,l),y(l,s),y(i,u),y(o,f),y(o,c),y(o,d),y(o,p),y(n,m),y(n,_),y(_,b),y(_,v),y(_,h);for(let D=0;D<T.length;D+=1)T[D]&&T[D].m(h,null)},p(P,N){if(N&1&&a!==(a=P[0].townInfo.name+"")&&ue(s,a),N&4){k=Ue(P[2]);let D;for(D=0;D<k.length;D+=1){const B=cf(P,k,D);T[D]?T[D].p(B,N):(T[D]=df(B),T[D].c(),T[D].m(h,null))}for(;D<T.length;D+=1)T[D].d(1);T.length=k.length}},d(P){P&&I(e),ft(T,P)}}}function A4(t){let e,n;return e=new wl({props:{$$slots:{default:[C4]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(o,i){W(e,o,i),n=!0},p(o,i){const r={};i&8388609&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function S4(t){let e;return{c(){e=H("Start your kingdom")},m(n,o){O(n,e,o)},d(n){n&&I(e)}}}function T4(t){let e,n;return e=new wc({props:{class:"bg-accent rounded-2xl text-accentText px-4 py-2 hover:scale-110 transition-all duration-300 ",$$slots:{default:[S4]},$$scope:{ctx:t}}}),e.$on("click",t[6]),{c(){U(e.$$.fragment)},m(o,i){W(e,o,i),n=!0},p(o,i){const r={};i&8388608&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function I4(t){let e,n,o,i;return e=new yl({props:{$$slots:{default:[A4]},$$scope:{ctx:t}}}),o=new er({props:{$$slots:{default:[T4]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),n=F(),U(o.$$.fragment)},m(r,l){W(e,r,l),O(r,n,l),W(o,r,l),i=!0},p(r,l){const a={};l&8388609&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&8388608&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&I(n),Y(e,r),Y(o,r)}}}function O4(t){let e,n;return e=new tr({props:{class:"bg-foregroundDark text-accentText min-w-[50vw] min-h-[50vh] flex flex-col justify-between ",$$slots:{default:[I4]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(o,i){W(e,o,i),n=!0},p(o,i){const r={};i&8388609&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function M4(t){let e,n;return e=new nr({props:{open:t[1],$$slots:{default:[O4]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(o,i){W(e,o,i),n=!0},p(o,[i]){const r={};i&2&&(r.open=o[1]),i&8388609&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function P4(t,e,n){let o,i,r,l;le(t,Zt,m=>n(8,o=m)),le(t,qe,m=>n(0,i=m)),le(t,Ci,m=>n(5,r=m)),le(t,Pr,m=>n(1,l=m)),Pn[i.endGoal],al[i.difficulty],it.sort((m,_)=>f(m.id)&&!f(_.id)?-1:!f(m.id)&&f(_.id)?1:0),it.filter(m=>f(m.id));function s(m){const _=o.achievements.find(b=>b[0]==m);return _==null?!1:_[3]}let u=it;function f(m){return o.achievements==null?!1:o.achievements.find(_=>_[0]==m)!=null}function c(){Ci.update(m=>!m),localStorage.setItem("showCompletedAchievements",localStorage.getItem("showCompletedAchievements")==="true"?"false":"true")}localStorage.getItem("pauseMenuTab")==null&&(localStorage.setItem("pauseMenuTab","game"),Mf.set("game"));const d=[{text:"Create a thriving economy",description:"Invite people into your town, and have them work to generate food, wood, and other resources."},{text:"Grow your kingdom",description:"Get enough resources to build a <span class='text-green-300'>City Hall</span>, which will be used to expand your kingdom and keep your townspeople the happiest!"},{text:"Keep the town Happy and Healthy",description:"Pay attention to your happiness and health in the top left when you place plots. Certain ones may greatly impact your town's well-being. "}],p=()=>{Pr.set(!1)};return t.$$.update=()=>{if(t.$$.dirty&49&&i)if(r)n(4,u=it);else{n(4,u=[]);for(let m=0;m<it.length;m++)(!f(it[m].id)||!s(it[m].id))&&u.push(it[m])}},[i,l,d,c,u,r,p]}class N4 extends pe{constructor(e){super(),me(this,e,P4,M4,fe,{toggleShowCompleted:3})}get toggleShowCompleted(){return this.$$.ctx[3]}}function mf(t,e,n){const o=t.slice();return o[7]=e[n],o}function E4(t){let e,n,o=t[0].townInfo.name+"",i,r,l,a,s=t[0].resources.bureaucracy+"",u;return{c(){e=M("div"),n=M("span"),i=H(o),r=F(),l=M("span"),a=H("ðŸ§‘â€âš–ï¸ "),u=H(s),L(e,"class","flex justify-between mr-10")},m(f,c){O(f,e,c),y(e,n),y(n,i),y(e,r),y(e,l),y(l,a),y(l,u)},p(f,c){c&1&&o!==(o=f[0].townInfo.name+"")&&ue(i,o),c&1&&s!==(s=f[0].resources.bureaucracy+"")&&ue(u,s)},d(f){f&&I(e)}}}function pf(t){let e,n,o,i,r,l,a,s,u,f,c,d,p,m,_=t[0].townInfo.guardians+"",b,v,h,k,T,P=t[0].townInfo.population_count-t[0].townInfo.employees+"",N,D,B;return e=new Tt({props:{class:"mb-4"}}),d=new St({props:{class:`bg-accent rounded-2xl h-min select-none
            `+(t[0].townInfo.guardians<=0?"opacity-50 cursor-not-allowed":"")+`
            `,$$slots:{default:[R4]},$$scope:{ctx:t}}}),d.$on("click",t[2]),h=new St({props:{class:`bg-accent rounded-2xl h-min select-none
            
              `+(t[0].townInfo.employees>=t[0].townInfo.population_count?"opacity-50 cursor-not-allowed":"")+`
            `,$$slots:{default:[L4]},$$scope:{ctx:t}}}),h.$on("click",t[3]),{c(){U(e.$$.fragment),n=F(),o=M("div"),i=M("span"),i.textContent="Hire Guardians âš”ï¸",r=F(),l=M("br"),a=F(),s=M("span"),s.textContent=`Guardians work for you and are required to expand your kingdom.
            They do not generate revenue, but still require housing & food.`,u=F(),f=M("div"),c=M("div"),U(d.$$.fragment),p=F(),m=M("span"),b=H(_),v=F(),U(h.$$.fragment),k=F(),T=M("span"),N=H(P),D=H(`
              unemployed available for hire.`),L(i,"class","text-lg font-bold"),L(s,"class","text-sm"),L(m,"class","text-lg font-bold select-none px-2"),L(T,"class","w-max"),L(f,"class","flex flex-row justify-between align-middle items-center pt-2 pb-2 gap-2 "),L(o,"class","w-full")},m(q,G){W(e,q,G),O(q,n,G),O(q,o,G),y(o,i),y(o,r),y(o,l),y(o,a),y(o,s),y(o,u),y(o,f),y(f,c),W(d,c,null),y(c,p),y(c,m),y(m,b),y(c,v),W(h,c,null),y(f,k),y(f,T),y(T,N),y(T,D),B=!0},p(q,G){const E={};G&1&&(E.class=`bg-accent rounded-2xl h-min select-none
            `+(q[0].townInfo.guardians<=0?"opacity-50 cursor-not-allowed":"")+`
            `),G&1024&&(E.$$scope={dirty:G,ctx:q}),d.$set(E),(!B||G&1)&&_!==(_=q[0].townInfo.guardians+"")&&ue(b,_);const w={};G&1&&(w.class=`bg-accent rounded-2xl h-min select-none
            
              `+(q[0].townInfo.employees>=q[0].townInfo.population_count?"opacity-50 cursor-not-allowed":"")+`
            `),G&1024&&(w.$$scope={dirty:G,ctx:q}),h.$set(w),(!B||G&1)&&P!==(P=q[0].townInfo.population_count-q[0].townInfo.employees+"")&&ue(N,P)},i(q){B||(C(e.$$.fragment,q),C(d.$$.fragment,q),C(h.$$.fragment,q),B=!0)},o(q){S(e.$$.fragment,q),S(d.$$.fragment,q),S(h.$$.fragment,q),B=!1},d(q){q&&(I(n),I(o)),Y(e,q),Y(d),Y(h)}}}function R4(t){let e;return{c(){e=H("-")},m(n,o){O(n,e,o)},d(n){n&&I(e)}}}function L4(t){let e;return{c(){e=H("+")},m(n,o){O(n,e,o)},d(n){n&&I(e)}}}function D4(t){let e;return{c(){e=H("Build a City Hall to manage your city.")},m(n,o){O(n,e,o)},p:Se,i:Se,o:Se,d(n){n&&I(e)}}}function $4(t){let e,n,o,i,r=Ue(Lr),l=[];for(let s=0;s<r.length;s+=1)l[s]=hf(mf(t,r,s));const a=s=>S(l[s],1,1,()=>{l[s]=null});return{c(){e=M("span"),e.textContent="Laws ðŸ§‘â€âš–ï¸",n=F();for(let s=0;s<l.length;s+=1)l[s].c();o=De(),L(e,"class","text-lg font-bold")},m(s,u){O(s,e,u),O(s,n,u);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(s,u);O(s,o,u),i=!0},p(s,u){if(u&1){r=Ue(Lr);let f;for(f=0;f<r.length;f+=1){const c=mf(s,r,f);l[f]?(l[f].p(c,u),C(l[f],1)):(l[f]=hf(c),l[f].c(),C(l[f],1),l[f].m(o.parentNode,o))}for(Me(),f=r.length;f<l.length;f+=1)a(f);Pe()}},i(s){if(!i){for(let u=0;u<r.length;u+=1)C(l[u]);i=!0}},o(s){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)S(l[u]);i=!1},d(s){s&&(I(e),I(n),I(o)),ft(l,s)}}}function q4(t){let e,n=t[7].cost+"",o;return{c(){e=H("Enact for ðŸ§‘â€âš–ï¸ "),o=H(n)},m(i,r){O(i,e,r),O(i,o,r)},d(i){i&&(I(e),I(o))}}}function F4(t){let e;return{c(){e=H("Repeal âŒ")},m(n,o){O(n,e,o)},d(n){n&&I(e)}}}function B4(t){let e,n;function o(l,a){return a&1&&(e=null),e==null&&(e=!!l[0].economyAndLaws.enacted.includes(l[7].id)),e?F4:q4}let i=o(t,-1),r=i(t);return{c(){r.c(),n=De()},m(l,a){r.m(l,a),O(l,n,a)},p(l,a){i!==(i=o(l,a))&&(r.d(1),r=i(l),r&&(r.c(),r.m(n.parentNode,n)))},d(l){l&&I(n),r.d(l)}}}function hf(t){let e,n,o,i,r,l,a;function s(){return t[4](t[7])}return i=new St({props:{class:`bg-accent rounded-2xl 
                `+(t[0].economyAndLaws.enacted.includes(t[7].id)?"bg-textDanger":"bg-accent")+`

                `+(t[0].economyAndLaws.enacted.includes(t[7].id)||t[7].cost<=t[0].resources.bureaucracy?"cursor-pointer":"cursor-not-allowed opacity-30")+`
                `,$$slots:{default:[B4]},$$scope:{ctx:t}}}),i.$on("click",s),l=new Tt({props:{class:"bg-white opacity-30"}}),{c(){e=M("div"),n=M("span"),n.textContent=`${t[7].description}`,o=F(),U(i.$$.fragment),r=F(),U(l.$$.fragment),L(n,"class","text-sm"),L(e,"class","flex justify-between align-middle items-center pt-2 pb-2 gap-2 ")},m(u,f){O(u,e,f),y(e,n),y(e,o),W(i,e,null),O(u,r,f),W(l,u,f),a=!0},p(u,f){t=u;const c={};f&1&&(c.class=`bg-accent rounded-2xl 
                `+(t[0].economyAndLaws.enacted.includes(t[7].id)?"bg-textDanger":"bg-accent")+`

                `+(t[0].economyAndLaws.enacted.includes(t[7].id)||t[7].cost<=t[0].resources.bureaucracy?"cursor-pointer":"cursor-not-allowed opacity-30")+`
                `),f&1025&&(c.$$scope={dirty:f,ctx:t}),i.$set(c)},i(u){a||(C(i.$$.fragment,u),C(l.$$.fragment,u),a=!0)},o(u){S(i.$$.fragment,u),S(l.$$.fragment,u),a=!1},d(u){u&&(I(e),I(r)),Y(i),Y(l,u)}}}function j4(t){let e,n,o,i,r=Be("city_hall",t[0]).length>0,l,a,s,u,f,c,d,p;e=new $n({props:{class:"text-lg",$$slots:{default:[E4]},$$scope:{ctx:t}}}),o=new Bn({props:{class:"w-full "}});let m=r&&pf(t);a=new Tt({props:{class:"mb-4"}});const _=[$4,D4],b=[];function v(h,k){return k&1&&(f=null),f==null&&(f=Be("city_hall",h[0]).length>0),f?0:1}return c=v(t,-1),d=b[c]=_[c](t),{c(){U(e.$$.fragment),n=F(),U(o.$$.fragment),i=F(),m&&m.c(),l=F(),U(a.$$.fragment),s=F(),u=M("div"),d.c(),L(u,"class","w-full")},m(h,k){W(e,h,k),O(h,n,k),W(o,h,k),O(h,i,k),m&&m.m(h,k),O(h,l,k),W(a,h,k),O(h,s,k),O(h,u,k),b[c].m(u,null),p=!0},p(h,k){const T={};k&1025&&(T.$$scope={dirty:k,ctx:h}),e.$set(T),k&1&&(r=Be("city_hall",h[0]).length>0),r?m?(m.p(h,k),k&1&&C(m,1)):(m=pf(h),m.c(),C(m,1),m.m(l.parentNode,l)):m&&(Me(),S(m,1,1,()=>{m=null}),Pe());let P=c;c=v(h,k),c===P?b[c].p(h,k):(Me(),S(b[P],1,1,()=>{b[P]=null}),Pe(),d=b[c],d?d.p(h,k):(d=b[c]=_[c](h),d.c()),C(d,1),d.m(u,null))},i(h){p||(C(e.$$.fragment,h),C(o.$$.fragment,h),C(m),C(a.$$.fragment,h),C(d),p=!0)},o(h){S(e.$$.fragment,h),S(o.$$.fragment,h),S(m),S(a.$$.fragment,h),S(d),p=!1},d(h){h&&(I(n),I(i),I(l),I(s),I(u)),Y(e,h),Y(o,h),m&&m.d(h),Y(a,h),b[c].d()}}}function H4(t){let e,n,o,i;return e=new qn({props:{$$slots:{default:[j4]},$$scope:{ctx:t}}}),o=new co({}),{c(){U(e.$$.fragment),n=F(),U(o.$$.fragment)},m(r,l){W(e,r,l),O(r,n,l),W(o,r,l),i=!0},p(r,l){const a={};l&1025&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&I(n),Y(e,r),Y(o,r)}}}function G4(t){let e,n;return e=new Fn({props:{class:"bg-foreground text-accentText h-[80vh] w-full scroll",$$slots:{default:[H4]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(o,i){W(e,o,i),n=!0},p(o,i){const r={};i&1025&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function V4(t){let e,n,o;function i(l){t[5](l)}let r={$$slots:{default:[G4]},$$scope:{ctx:t}};return t[1]!==void 0&&(r.open=t[1]),e=new jn({props:r}),Le.push(()=>hn(e,"open",i)),{c(){U(e.$$.fragment)},m(l,a){W(e,l,a),o=!0},p(l,[a]){const s={};a&1025&&(s.$$scope={dirty:a,ctx:l}),!n&&a&2&&(n=!0,s.open=l[1],pn(()=>n=!1)),e.$set(s)},i(l){o||(C(e.$$.fragment,l),o=!0)},o(l){S(e.$$.fragment,l),o=!1},d(l){Y(e,l)}}}function W4(t,e,n){let o,i;le(t,qe,u=>n(0,o=u)),le(t,ki,u=>n(1,i=u));const r=()=>{o.townInfo.guardians>0?(Re(qe,o.townInfo.guardians-=1,o),Re(qe,o.townInfo.employees-=1,o)):ht.set("No guardians to fire.")},l=()=>{o.townInfo.employees<o.townInfo.population_count?(Re(qe,o.townInfo.guardians+=1,o),Re(qe,o.townInfo.employees+=1,o)):ht.set("Not enough people.")},a=u=>{o.economyAndLaws.enacted.includes(u.id)?o.economyAndLaws.enacted.splice(o.economyAndLaws.enacted.indexOf(u.id),1):u.cost<=o.resources.bureaucracy?(Re(qe,o.resources.bureaucracy-=u.cost,o),o.economyAndLaws.enacted.push(u.id)):ht.set("Not enough bureaucracy!")};function s(u){i=u,ki.set(i)}return t.$$.update=()=>{t.$$.dirty&1},[o,i,r,l,a,s]}class Y4 extends pe{constructor(e){super(),me(this,e,W4,V4,fe,{})}}function U4(t){let e;return{c(){e=H("Got it")},m(n,o){O(n,e,o)},d(n){n&&I(e)}}}function K4(t){let e,n,o,i,r,l,a,s;return r=new yc({props:{class:"bg-accent hover:scale-105 min-w-[70%] transition-all duration-150 mt-2",$$slots:{default:[U4]},$$scope:{ctx:t}}}),r.$on("click",t[1]),a=new er({}),{c(){e=M("span"),n=H("ðŸ›Žï¸ "),o=new xt(!1),i=F(),U(r.$$.fragment),l=F(),U(a.$$.fragment),o.a=null,L(e,"class","whitespace-pre-wrap overflow-scroll text-center sm:whitespace-normal break-all sm:text-md sm:font-semibold sm:py-4 sm:items-center sm:justify-center"),et(e,"max-height","80%")},m(u,f){O(u,e,f),y(e,n),o.m(t[0],e),O(u,i,f),W(r,u,f),O(u,l,f),W(a,u,f),s=!0},p(u,f){(!s||f&1)&&o.p(u[0]);const c={};f&4&&(c.$$scope={dirty:f,ctx:u}),r.$set(c)},i(u){s||(C(r.$$.fragment,u),C(a.$$.fragment,u),s=!0)},o(u){S(r.$$.fragment,u),S(a.$$.fragment,u),s=!1},d(u){u&&(I(e),I(i),I(l)),Y(r,u),Y(a,u)}}}function x4(t){let e,n;return e=new tr({props:{class:`bg-foregroundDark text-white rounded-input shadow-3xl justify-center items-center flex flex-col py-2 text-lg font-semibold p-2 min-w-96 min-h-36
         sm:rounded-2xl sm:flex sm:flex-col sm:p-6 sm:text-md sm:font-semibold sm:py-4 sm:items-center sm:justify-center max-h-[50vh]

         `,$$slots:{default:[K4]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(o,i){W(e,o,i),n=!0},p(o,i){const r={};i&5&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function X4(t){let e,n;return e=new nr({props:{open:t[0]!="",$$slots:{default:[x4]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(o,i){W(e,o,i),n=!0},p(o,[i]){const r={};i&1&&(r.open=o[0]!=""),i&5&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function J4(t,e,n){let o;return le(t,ht,r=>n(0,o=r)),[o,()=>{ht.set("")}]}class Z4 extends pe{constructor(e){super(),me(this,e,J4,X4,fe,{})}}function _f(t){let e,n,o,i;const r=[z4,Q4],l=[];function a(s,u){return s[0]==null?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),O(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?l[e].p(s,u):(Me(),S(l[f],1,1,()=>{l[f]=null}),Pe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&I(o),l[e].d(s)}}}function Q4(t){let e,n,o,i,r,l,a,s,u,f,c,d,p,m,_,b,v,h,k,T=t[2]==!0&&gf();n=new k4({}),i=new Mm({}),l=new Iv({}),s=new Qv({}),f=new A5({}),d=new U5({}),m=new Y4({}),b=new Z4({});let P=t[0].environment.day==0&&t[3]&&bf();return{c(){T&&T.c(),e=F(),U(n.$$.fragment),o=F(),U(i.$$.fragment),r=F(),U(l.$$.fragment),a=F(),U(s.$$.fragment),u=F(),U(f.$$.fragment),c=F(),U(d.$$.fragment),p=F(),U(m.$$.fragment),_=F(),U(b.$$.fragment),v=F(),P&&P.c(),h=De()},m(N,D){T&&T.m(N,D),O(N,e,D),W(n,N,D),O(N,o,D),W(i,N,D),O(N,r,D),W(l,N,D),O(N,a,D),W(s,N,D),O(N,u,D),W(f,N,D),O(N,c,D),W(d,N,D),O(N,p,D),W(m,N,D),O(N,_,D),W(b,N,D),O(N,v,D),P&&P.m(N,D),O(N,h,D),k=!0},p(N,D){N[2]==!0?T?D&4&&C(T,1):(T=gf(),T.c(),C(T,1),T.m(e.parentNode,e)):T&&(Me(),S(T,1,1,()=>{T=null}),Pe()),N[0].environment.day==0&&N[3]?P?D&9&&C(P,1):(P=bf(),P.c(),C(P,1),P.m(h.parentNode,h)):P&&(Me(),S(P,1,1,()=>{P=null}),Pe())},i(N){k||(C(T),C(n.$$.fragment,N),C(i.$$.fragment,N),C(l.$$.fragment,N),C(s.$$.fragment,N),C(f.$$.fragment,N),C(d.$$.fragment,N),C(m.$$.fragment,N),C(b.$$.fragment,N),C(P),k=!0)},o(N){S(T),S(n.$$.fragment,N),S(i.$$.fragment,N),S(l.$$.fragment,N),S(s.$$.fragment,N),S(f.$$.fragment,N),S(d.$$.fragment,N),S(m.$$.fragment,N),S(b.$$.fragment,N),S(P),k=!1},d(N){N&&(I(e),I(o),I(r),I(a),I(u),I(c),I(p),I(_),I(v),I(h)),T&&T.d(N),Y(n,N),Y(i,N),Y(l,N),Y(s,N),Y(f,N),Y(d,N),Y(m,N),Y(b,N),P&&P.d(N)}}}function z4(t){let e,n;return e=new Vv({}),{c(){U(e.$$.fragment)},m(o,i){W(e,o,i),n=!0},p:Se,i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function gf(t){let e,n;return e=new _v({}),{c(){U(e.$$.fragment)},m(o,i){W(e,o,i),n=!0},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function bf(t){let e,n;return e=new N4({}),{c(){U(e.$$.fragment)},m(o,i){W(e,o,i),n=!0},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function eC(t){let e,n,o=(t[1]||t[0]==null)&&_f(t);return{c(){o&&o.c(),e=De()},m(i,r){o&&o.m(i,r),O(i,e,r),n=!0},p(i,[r]){i[1]||i[0]==null?o?(o.p(i,r),r&3&&C(o,1)):(o=_f(i),o.c(),C(o,1),o.m(e.parentNode,e)):o&&(Me(),S(o,1,1,()=>{o=null}),Pe())},i(i){n||(C(o),n=!0)},o(i){S(o),n=!1},d(i){i&&I(e),o&&o.d(i)}}}const tC=1e-4;function nC(t,e,n){return{r:Math.round(t.r+(e.r-t.r)*n),g:Math.round(t.g+(e.g-t.g)*n),b:Math.round(t.b+(e.b-t.b)*n)}}function oC(t,e,n){let o,i,r,l,a,s,u;le(t,zn,h=>n(10,o=h)),le(t,tt,h=>n(11,i=h)),le(t,Ct,h=>n(2,r=h)),le(t,qe,h=>n(0,l=h)),le(t,eo,h=>n(5,a=h)),le(t,No,h=>n(12,s=h)),le(t,Pr,h=>n(3,u=h));let f=!1;gv();let c=!1;const d=[{r:85,g:60,b:40},{r:115,g:85,b:55},{r:70,g:100,b:50},{r:120,g:65,b:50}];let p=0,m=1,_=0;function b(){const h=nC(d[p],d[m],_);document.body.style.backgroundColor=`rgb(${h.r}, ${h.g}, ${h.b})`,_+=tC,_>=1&&(_=0,p=m,m=(m+1)%d.length),requestAnimationFrame(b)}b(),document.addEventListener("keydown",h=>{if((document.activeElement!=null&&document.activeElement.nodeName==="INPUT"||document.activeElement!=null&&document.activeElement.nodeName=="TEXTAREA")&&h.key!=="Escape")return;switch(h.key.toLowerCase()){case"p":if(r==!0){Ct.set(!1);let T=l;T.modifiers.happiness=2,T.modifiers.health=2,Re(qe,l=T,l)}else Ct.set(!0),Re(tt,i.visible=!1,i);break;case"escape":h.shiftKey?(Re(Ct,r=!0,r),localStorage.setItem("reset","true"),vi()):i.visible==!0&&Re(tt,i.visible=!1,i),a==!0&&(eo.set(!1),document.querySelectorAll(".plot_container").forEach(P=>{P.style.cursor=""}));break}});function v(h,k,T){if(c==!0)switch(T){case"up":k-=2;break;case"down":k+=1;break;case"left":h-=2;break;case"right":h+=1;break}h<0?h=0:h>l.plots.length&&(h=l.plots.length),k<0?k=0:k>l.plots.length&&(k=l.plots.length);let P=document.querySelectorAll(".plot_container"),N;if(P.forEach(D=>{D.dataset.x=="$x"&&D.dataset.y=="$y"&&(N=D)}),r==!1){if(N.dataset.canBeUpgraded==="true"?Re(tt,i.visible=!0,i):Re(tt,i.visible=!1,i),N.dataset.refPlotX!==void 0&&N.dataset.refPlotY!=""?(c=!0,P.forEach(D=>{D.dataset.x==N.dataset.refPlotX&&D.dataset.y==N.dataset.refPlotY&&(N=D,h=parseInt(N.dataset.x),k=parseInt(N.dataset.y))})):c=!1,N.dataset.size!=="1"&&N.dataset.size!==void 0&&(c=!0),Re(tt,i.x=h,i),Re(tt,i.y=k,i),P.forEach(D=>{D.classList.remove("selected"),D.style.fontWeight=""}),N.classList.add("selected"),c){let D="4px solid #00800045";N.classList.remove("selected"),N.style.borderTop=D,N.style.borderLeft=D,N.style.fontWeight="600",P.forEach(B=>{const q=parseInt(`${B.dataset.x}`),G=parseInt(`${B.dataset.y}`);q==h+1&&G==k&&(B.style.borderLeft=D,B.style.borderBottom=D),q==h&&G==k+1&&(B.style.borderTop=D,B.style.borderRight=D),q==h+1&&G==k+1&&(B.style.borderBottom=D,B.style.borderRight=D)})}N.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),Re(zn,o={},o)}}return t.$$.update=()=>{t.$$.dirty&33&&(l?(Re(No,s.visible=!1,s),n(1,f=!0),a==!0&&document.querySelectorAll(".plot_container").forEach(k=>{k.dataset.canbeupgraded=="true"&&(k.style.cursor="pointer",k.style.cursor="url('https://github.com/josephrcox/plots/raw/main/public/liege_place.cur'), auto")})):(Re(No,s.visible=!0,s),n(1,f=!1)))},[l,f,r,u,v,a]}class iC extends pe{constructor(e){super(),me(this,e,oC,eC,fe,{openPlotMenu:4})}get openPlotMenu(){return this.$$.ctx[4]}}new iC({target:document.getElementById("app")});
