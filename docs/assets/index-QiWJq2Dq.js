var Yd=Object.defineProperty;var Ud=(t,e,n)=>e in t?Yd(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var _n=(t,e,n)=>(Ud(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();function Kd(t){const e=pako.gzip(JSON.stringify(t));return btoa(String.fromCharCode.apply(null,e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function Xd(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=atob(e),o=new Uint8Array(n.length);for(let r=0;r<n.length;r++)o[r]=n.charCodeAt(r);const i=pako.ungzip(o,{to:"string"});return JSON.parse(i)}async function Jd(){let t=localStorage.getItem("plots_active_game_db");const e=await Kd(t);console.log("http://localhost:5173/plots/?shareId="+e)}const Fr=window.location.search.substring(1).split("&").reduce((t,e)=>{const[n,o]=e.split("=");return t[n]=o,t},{});if(Fr.shareId!=null||Fr.shareId!=null){console.log("DECRYPING FROM shareId");const t=JSON.parse(Xd(Fr.shareId));let e=localStorage.getItem("plots_active_game_db");(e==""||e==null)&&localStorage.setItem("plots_active_game_db",JSON.stringify(t))}else console.log("COMPRESSING GAME TO SHARE"),Jd();function Ce(){}const hr=t=>t;function Z(t,e){for(const n in e)t[n]=e[n];return t}function sc(t){return t()}function Ts(){return Object.create(null)}function je(t){t.forEach(sc)}function cn(t){return typeof t=="function"}function de(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let wi;function xd(t,e){return t===e?!0:(wi||(wi=document.createElement("a")),wi.href=e,t===wi.href)}function Zd(t){return Object.keys(t).length===0}function El(t,...e){if(t==null){for(const o of e)o(void 0);return Ce}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function ac(t){let e;return El(t,n=>e=n)(),e}function ue(t,e,n){t.$$.on_destroy.push(El(e,n))}function _e(t,e,n,o){if(t){const i=uc(t,e,n,o);return t[0](i)}}function uc(t,e,n,o){return t[1]&&o?Z(n.ctx.slice(),t[1](o(e))):n.ctx}function ge(t,e,n,o){if(t[2]&&o){const i=t[2](o(n));if(e.dirty===void 0)return i;if(typeof i=="object"){const r=[],l=Math.max(e.dirty.length,i.length);for(let a=0;a<l;a+=1)r[a]=e.dirty[a]|i[a];return r}return e.dirty|i}return e.dirty}function be(t,e,n,o,i,r){if(i){const l=uc(e,n,o,r);t.p(l,i)}}function ve(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let o=0;o<n;o++)e[o]=-1;return e}return-1}function Re(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function se(t,e){const n={};e=new Set(e);for(const o in t)!e.has(o)&&o[0]!=="$"&&(n[o]=t[o]);return n}function Oe(t,e,n){return t.set(n),e}function Ge(t){return t&&cn(t.destroy)?t.destroy:Ce}const fc=typeof window<"u";let $l=fc?()=>window.performance.now():()=>Date.now(),Rl=fc?t=>requestAnimationFrame(t):Ce;const po=new Set;function cc(t){po.forEach(e=>{e.c(t)||(po.delete(e),e.f())}),po.size!==0&&Rl(cc)}function Ll(t){let e;return po.size===0&&Rl(cc),{promise:new Promise(n=>{po.add(e={c:t,f:n})}),abort(){po.delete(e)}}}function g(t,e){t.appendChild(e)}function dc(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function Qd(t){const e=O("style");return e.textContent="/* empty */",zd(dc(t),e),e.sheet}function zd(t,e){return g(t.head||t,e),e.sheet}function I(t,e,n){t.insertBefore(e,n||null)}function T(t){t.parentNode&&t.parentNode.removeChild(t)}function _t(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function O(t){return document.createElement(t)}function _r(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function B(t){return document.createTextNode(t)}function j(){return B(" ")}function De(){return B("")}function z(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function P(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}const em=["width","height"];function fe(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const o in e)e[o]==null?t.removeAttribute(o):o==="style"?t.style.cssText=e[o]:o==="__value"?t.value=t[o]=e[o]:n[o]&&n[o].set&&em.indexOf(o)===-1?t[o]=e[o]:P(t,o,e[o])}function qi(t,e){for(const n in e)P(t,n,e[n])}function tm(t,e){Object.keys(e).forEach(n=>{nm(t,n,e[n])})}function nm(t,e,n){const o=e.toLowerCase();o in t?t[o]=typeof t[o]=="boolean"&&n===""?!0:n:e in t?t[e]=typeof t[e]=="boolean"&&n===""?!0:n:P(t,e,n)}function wn(t){return/-/.test(t)?tm:fe}function om(t){return Array.from(t.childNodes)}function le(t,e){e=""+e,t.data!==e&&(t.data=e)}function rn(t,e){t.value=e??""}function xe(t,e,n,o){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,"")}function Is(t,e,n){for(let o=0;o<t.options.length;o+=1){const i=t.options[o];if(i.__value===e){i.selected=!0;return}}t.selectedIndex=-1}function gn(t,e,n){t.classList.toggle(e,!!n)}function mc(t,e,{bubbles:n=!1,cancelable:o=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:o})}class on{constructor(e=!1){_n(this,"is_svg",!1);_n(this,"e");_n(this,"n");_n(this,"t");_n(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,n,o=null){this.e||(this.is_svg?this.e=_r(n.nodeName):this.e=O(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(e)),this.i(o)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)I(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(T)}}const Gi=new Map;let Hi=0;function im(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function rm(t,e){const n={stylesheet:Qd(e),rules:{}};return Gi.set(t,n),n}function Vi(t,e,n,o,i,r,l,a=0){const s=16.666/o;let u=`{
`;for(let y=0;y<=1;y+=s){const C=e+(n-e)*r(y);u+=y*100+`%{${l(C,1-C)}}
`}const f=u+`100% {${l(n,1-n)}}
}`,c=`__svelte_${im(f)}_${a}`,d=dc(t),{stylesheet:m,rules:p}=Gi.get(d)||rm(d,t);p[c]||(p[c]=!0,m.insertRule(`@keyframes ${c} ${f}`,m.cssRules.length));const h=t.style.animation||"";return t.style.animation=`${h?`${h}, `:""}${c} ${o}ms linear ${i}ms 1 both`,Hi+=1,c}function Wi(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?r=>r.indexOf(e)<0:r=>r.indexOf("__svelte")===-1),i=n.length-o.length;i&&(t.style.animation=o.join(", "),Hi-=i,Hi||lm())}function lm(){Rl(()=>{Hi||(Gi.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&T(e)}),Gi.clear())})}let Jo;function Uo(t){Jo=t}function oi(){if(!Jo)throw new Error("Function called outside component initialization");return Jo}function gr(t){oi().$$.on_mount.push(t)}function sm(t){oi().$$.on_destroy.push(t)}function am(){const t=oi();return(e,n,{cancelable:o=!1}={})=>{const i=t.$$.callbacks[e];if(i){const r=mc(e,n,{cancelable:o});return i.slice().forEach(l=>{l.call(t,r)}),!r.defaultPrevented}return!0}}function br(t,e){return oi().$$.context.set(t,e),e}function vr(t){return oi().$$.context.get(t)}function oe(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(o=>o.call(this,e))}const fo=[],$e=[];let ho=[];const il=[],pc=Promise.resolve();let rl=!1;function hc(){rl||(rl=!0,pc.then(_c))}function Dl(){return hc(),pc}function it(t){ho.push(t)}function Tn(t){il.push(t)}const Br=new Set;let lo=0;function _c(){if(lo!==0)return;const t=Jo;do{try{for(;lo<fo.length;){const e=fo[lo];lo++,Uo(e),um(e.$$)}}catch(e){throw fo.length=0,lo=0,e}for(Uo(null),fo.length=0,lo=0;$e.length;)$e.pop()();for(let e=0;e<ho.length;e+=1){const n=ho[e];Br.has(n)||(Br.add(n),n())}ho.length=0}while(fo.length);for(;il.length;)il.pop()();rl=!1,Br.clear(),Uo(t)}function um(t){if(t.fragment!==null){t.update(),je(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(it)}}function fm(t){const e=[],n=[];ho.forEach(o=>t.indexOf(o)===-1?e.push(o):n.push(o)),n.forEach(o=>o()),ho=e}let Ro;function Fl(){return Ro||(Ro=Promise.resolve(),Ro.then(()=>{Ro=null})),Ro}function Rn(t,e,n){t.dispatchEvent(mc(`${e?"intro":"outro"}${n}`))}const Ei=new Set;let Ut;function Pe(){Ut={r:0,c:[],p:Ut}}function Ne(){Ut.r||je(Ut.c),Ut=Ut.p}function A(t,e){t&&t.i&&(Ei.delete(t),t.i(e))}function S(t,e,n,o){if(t&&t.o){if(Ei.has(t))return;Ei.add(t),Ut.c.push(()=>{Ei.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}else o&&o()}const Bl={duration:0};function Qt(t,e,n){const o={direction:"in"};let i=e(t,n,o),r=!1,l,a,s=0;function u(){l&&Wi(t,l)}function f(){const{delay:d=0,duration:m=300,easing:p=hr,tick:h=Ce,css:y}=i||Bl;y&&(l=Vi(t,0,1,m,d,p,y,s++)),h(0,1);const C=$l()+d,k=C+m;a&&a.abort(),r=!0,it(()=>Rn(t,!0,"start")),a=Ll(w=>{if(r){if(w>=k)return h(1,0),Rn(t,!0,"end"),u(),r=!1;if(w>=C){const R=p((w-C)/m);h(R,1-R)}}return r})}let c=!1;return{start(){c||(c=!0,Wi(t),cn(i)?(i=i(o),Fl().then(f)):f())},invalidate(){c=!1},end(){r&&(u(),r=!1)}}}function zt(t,e,n){const o={direction:"out"};let i=e(t,n,o),r=!0,l;const a=Ut;a.r+=1;let s;function u(){const{delay:f=0,duration:c=300,easing:d=hr,tick:m=Ce,css:p}=i||Bl;p&&(l=Vi(t,1,0,c,f,d,p));const h=$l()+f,y=h+c;it(()=>Rn(t,!1,"start")),"inert"in t&&(s=t.inert,t.inert=!0),Ll(C=>{if(r){if(C>=y)return m(0,1),Rn(t,!1,"end"),--a.r||je(a.c),!1;if(C>=h){const k=d((C-h)/c);m(1-k,k)}}return r})}return cn(i)?Fl().then(()=>{i=i(o),u()}):u(),{end(f){f&&"inert"in t&&(t.inert=s),f&&i.tick&&i.tick(1,0),r&&(l&&Wi(t,l),r=!1)}}}function Jt(t,e,n,o){let r=e(t,n,{direction:"both"}),l=o?0:1,a=null,s=null,u=null,f;function c(){u&&Wi(t,u)}function d(p,h){const y=p.b-l;return h*=Math.abs(y),{a:l,b:p.b,d:y,duration:h,start:p.start,end:p.start+h,group:p.group}}function m(p){const{delay:h=0,duration:y=300,easing:C=hr,tick:k=Ce,css:w}=r||Bl,R={start:$l()+h,b:p};p||(R.group=Ut,Ut.r+=1),"inert"in t&&(p?f!==void 0&&(t.inert=f):(f=t.inert,t.inert=!0)),a||s?s=R:(w&&(c(),u=Vi(t,l,p,y,h,C,w)),p&&k(0,1),a=d(R,y),it(()=>Rn(t,p,"start")),Ll(F=>{if(s&&F>s.start&&(a=d(s,y),s=null,Rn(t,a.b,"start"),w&&(c(),u=Vi(t,l,a.b,a.duration,0,C,r.css))),a){if(F>=a.end)k(l=a.b,1-l),Rn(t,a.b,"end"),s||(a.b?c():--a.group.r||je(a.group.c)),a=null;else if(F>=a.start){const N=F-a.start;l=a.a+a.d*C(N/a.duration),k(l,1-l)}}return!!(a||s)}))}return{run(p){cn(r)?Fl().then(()=>{r=r({direction:p?"in":"out"}),m(p)}):m(p)},end(){c(),a=s=null}}}function Ke(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function cm(t,e){S(t,1,1,()=>{e.delete(t.key)})}function dm(t,e,n,o,i,r,l,a,s,u,f,c){let d=t.length,m=r.length,p=d;const h={};for(;p--;)h[t[p].key]=p;const y=[],C=new Map,k=new Map,w=[];for(p=m;p--;){const $=c(i,r,p),G=n($);let L=l.get(G);L?w.push(()=>L.p($,e)):(L=u(G,$),L.c()),C.set(G,y[p]=L),G in h&&k.set(G,Math.abs(p-h[G]))}const R=new Set,F=new Set;function N($){A($,1),$.m(a,f),l.set($.key,$),f=$.first,m--}for(;d&&m;){const $=y[m-1],G=t[d-1],L=$.key,V=G.key;$===G?(f=$.first,d--,m--):C.has(V)?!l.has(L)||R.has(L)?N($):F.has(V)?d--:k.get(L)>k.get(V)?(F.add(L),N($)):(R.add(V),d--):(s(G,l),d--)}for(;d--;){const $=t[d];C.has($.key)||s($,l)}for(;m;)N(y[m-1]);return je(w),y}function ke(t,e){const n={},o={},i={$$scope:1};let r=t.length;for(;r--;){const l=t[r],a=e[r];if(a){for(const s in l)s in a||(o[s]=1);for(const s in a)i[s]||(n[s]=a[s],i[s]=1);t[r]=a}else for(const s in l)i[s]=1}for(const l in o)l in n||(n[l]=void 0);return n}function rt(t){return typeof t=="object"&&t!==null?t:{}}function In(t,e,n){const o=t.$$.props[e];o!==void 0&&(t.$$.bound[o]=n,n(t.$$.ctx[o]))}function X(t){t&&t.c()}function U(t,e,n){const{fragment:o,after_update:i}=t.$$;o&&o.m(e,n),it(()=>{const r=t.$$.on_mount.map(sc).filter(cn);t.$$.on_destroy?t.$$.on_destroy.push(...r):je(r),t.$$.on_mount=[]}),i.forEach(it)}function K(t,e){const n=t.$$;n.fragment!==null&&(fm(n.after_update),je(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function mm(t,e){t.$$.dirty[0]===-1&&(fo.push(t),hc(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ye(t,e,n,o,i,r,l=null,a=[-1]){const s=Jo;Uo(t);const u=t.$$={fragment:null,ctx:[],props:r,update:Ce,not_equal:i,bound:Ts(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(s?s.$$.context:[])),callbacks:Ts(),dirty:a,skip_bound:!1,root:e.target||s.$$.root};l&&l(u.root);let f=!1;if(u.ctx=n?n(t,e.props||{},(c,d,...m)=>{const p=m.length?m[0]:d;return u.ctx&&i(u.ctx[c],u.ctx[c]=p)&&(!u.skip_bound&&u.bound[c]&&u.bound[c](p),f&&mm(t,c)),d}):[],u.update(),f=!0,je(u.before_update),u.fragment=o?o(u.ctx):!1,e.target){if(e.hydrate){const c=om(e.target);u.fragment&&u.fragment.l(c),c.forEach(T)}else u.fragment&&u.fragment.c();e.intro&&A(t.$$.fragment),U(t,e.target,e.anchor),_c()}Uo(s)}class we{constructor(){_n(this,"$$");_n(this,"$$set")}$destroy(){K(this,1),this.$destroy=Ce}$on(e,n){if(!cn(n))return Ce;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const i=o.indexOf(n);i!==-1&&o.splice(i,1)}}$set(e){this.$$set&&!Zd(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const pm="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(pm);const so=[];function Ln(t,e){return{subscribe:Ue(t,e).subscribe}}function Ue(t,e=Ce){let n;const o=new Set;function i(a){if(de(t,a)&&(t=a,n)){const s=!so.length;for(const u of o)u[1](),so.push(u,t);if(s){for(let u=0;u<so.length;u+=2)so[u][0](so[u+1]);so.length=0}}}function r(a){i(a(t))}function l(a,s=Ce){const u=[a,s];return o.add(u),o.size===1&&(n=e(i,r)||Ce),a(t),()=>{o.delete(u),o.size===0&&n&&(n(),n=null)}}return{set:i,update:r,subscribe:l}}function dn(t,e,n){const o=!Array.isArray(t),i=o?[t]:t;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const r=e.length<2;return Ln(n,(l,a)=>{let s=!1;const u=[];let f=0,c=Ce;const d=()=>{if(f)return;c();const p=e(o?u[0]:u,l,a);r?l(p):c=cn(p)?p:Ce},m=i.map((p,h)=>El(p,y=>{u[h]=y,f&=~(1<<h),s&&d()},()=>{f|=1<<h}));return s=!0,d(),function(){je(m),c(),s=!1}})}function Ms(t){return{subscribe:t.subscribe.bind(t)}}const hm={plots:[],timeSpent:0,devMode:!1,lastChangeDay:0,townLog:[],currentTutorialStep:0,townInfo:{name:"Your town",gold:150,population_count:0,population_max:0,employees:0,guardians:0,happiness:150,health:150,community:150,knowledge_points:0,productivity:100},kingdom_expansions:0,resources:{food:50,wood:750,stone:750,metal:0,power:0,bureaucracy:0},resource_rate:{food:0,wood:0,stone:0,metal:0,bureaucracy:0,knowledge:0},hasCityHall:!1,hasBank:!1,hasHospital:!1,hasLab:!1,modifiers:{happiness:1,health:1,community:1},economyAndLaws:{tax_rate:.1,max_tax_rate:1,weeklyProfit:0,knowledge_gold_market_rates:[],enacted:[]},plotCounts:[],environment:{day:0,year:1},maximums:{health:300,happiness:300,community:300},difficulty:0,endGoal:"land",endGameDetails:{msg:"",win:!1,still_playing:!0},tick:0,overtime:!1,last_warning_happiness:0,last_warning_health:0,lab:{active_experiment:null,past_experiments:[],xp:0},liege_location:null},_m={username:"",stats:{games_played:0,wins:0,losses:0},achievements:[]},jl={0:"Easy",1:"Normal",2:"Hard"},gm={0:Math.random()*(.5-.3)+.3,1:Math.random()*(.4-.2)+.2,2:Math.random()*(.4-.2)+.2},re=[{id:"small_homes",title:"🏠 Homes",type:"residential",description:"+16 people",revenue_per_week:0,requirements:{gold:150,plots:[],employees:0,knowledge:0,size:1,xp:0,resources:{food:0,wood:50,stone:10,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:16,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:2,stone:0,metal:0,bureaucracy:0,food:0}},{id:"farm",title:"🥕 Farm",type:"farm",description:"Produces veggies, grains, fruit",revenue_per_week:6,requirements:{gold:80,plots:[],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:10,stone:10,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.03,health:1.03,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:5,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},check_for_variety:!1},{id:"tree_farm",title:"🌲 Tree Farm",type:"lumber",description:"Produces some wood",revenue_per_week:8,requirements:{gold:300,plots:[],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},check_for_variety:!0,styling:"",affordable:null,selected:null,knowledge_points_per_month:0,generated_resources:{food:0,wood:10,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"quarry",title:"⛏️ Quarry",type:"quarry",description:"Produces stone, small amounts of metal",revenue_per_week:0,requirements:{gold:800,plots:[],employees:6,knowledge:0,size:1,xp:0,resources:{food:0,wood:50,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:.98,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:18,metal:1,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"livestock_farm",title:"🐄 Livestock",type:"farm",description:"Makes more money and food than a regular farm, but doesn't bonus from water.",revenue_per_week:72,requirements:{gold:600,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:20,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.1,health:1.05,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:14,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},check_for_variety:!1},{id:"bakery",title:"🥖 Bakery",type:"business",description:"Converts food into some extra cash. Make sure you have enough food.",revenue_per_week:90,requirements:{gold:500,plots:[],employees:3,knowledge:0,size:1,xp:0,resources:{food:0,wood:170,stone:170,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.11,health:.95,community:1},immediate_variable_changes:{happiness:25,health:0,population:0,community:0,bureaucracy:0},check_for_variety:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:15}},{id:"stables",title:"🐴 Stables",type:"business",description:"Makes money and improves health",revenue_per_week:24,requirements:{gold:400,plots:[],employees:2,knowledge:0,size:1,xp:0,resources:{food:0,wood:120,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.2,health:1.2,community:1},immediate_variable_changes:{happiness:5,health:10,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"church",title:"⛪️ Church",type:"recreation",description:"Makes people VERY happy for a short period.",revenue_per_week:0,requirements:{gold:900,plots:[],employees:1,knowledge:0,size:1,xp:0,resources:{food:0,wood:1e3,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.3,health:1,community:1.3},immediate_variable_changes:{happiness:25,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"pub",title:"🍻 Pub",type:"recreation",description:"Increases knowledge, happiness, community. Isn't great for health.",revenue_per_week:40,knowledge_points_per_month:1,requirements:{gold:500,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:100,stone:50,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.2,health:.93,community:1.1},immediate_variable_changes:{happiness:10,health:-15,population:0,community:0,bureaucracy:0},check_for_variety:!0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"village_market",title:"🛒 Village Market",type:"shop",description:"Turns food into money. Sells goods and employs many. Makes significantly more money from tourism if you have a Village Inn.",revenue_per_week:180,requirements:{gold:1400,plots:[],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:150,stone:150,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.05,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:35}},{id:"fishery",title:"🐠 Fishery",type:"business",description:"Requires metal but generates a lot of food. Must be near water.",revenue_per_week:35,requirements:{gold:1500,plots:[],employees:9,knowledge:0,size:1,xp:0,resources:{food:0,wood:1500,stone:0,metal:100,power:0,bureaucracy:0},adjacent_plots:["water"]},effect_modifiers:{happiness:1.05,health:1,community:1},immediate_variable_changes:{happiness:15,health:8,population:0,community:0,bureaucracy:0},check_for_variety:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:75,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"neighborhood",title:"🏘️ Neighborhood",type:"residential",description:"+64 people",revenue_per_week:0,requirements:{gold:700,plots:[],employees:0,knowledge:0,size:1,xp:0,resources:{food:0,wood:250,stone:250,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.1,health:1,community:1.1},immediate_variable_changes:{happiness:0,health:0,population:64,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"vineyard",title:"🍇 Vineyard",type:"farm",description:"Makes fair money, lowers health. Generates knowledge too similar to a pub.",revenue_per_week:60,requirements:{gold:700,plots:[],employees:6,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.5,health:.9,community:1},immediate_variable_changes:{happiness:0,health:-10,population:0,community:0,bureaucracy:0},knowledge_points_per_month:3,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"water_wheel",title:"💧 Water Wheel",type:"industrial",description:"Produces small amount of power",revenue_per_week:0,requirements:{gold:800,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:200,stone:50,metal:0,power:0,bureaucracy:0},adjacent_plots:["water"]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:35,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"adv_water_wheel",title:"💧 Adv. Water Wheel",type:"industrial",description:"Produces a large amount of power",revenue_per_week:0,requirements:{gold:1800,plots:[],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:400,stone:150,metal:500,power:0,bureaucracy:0},adjacent_plots:["water"]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:100,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"park",title:"🎪 Park",type:"recreation",description:"Makes people extremely happy & healthy for a period. Improves community.",revenue_per_week:0,requirements:{gold:600,plots:[],employees:3,knowledge:0,size:1,xp:0,resources:{food:0,wood:100,stone:100,metal:10,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.5,health:1.5,community:1.3},immediate_variable_changes:{happiness:40,health:40,population:0,community:40,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"village_inn",title:"🛌 Village Inn",type:"tourism",description:"Enables tourism to your town, which increases revenue at certain stores.",revenue_per_week:23,requirements:{gold:1500,plots:[],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:150,stone:100,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1.02},immediate_variable_changes:{happiness:10,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:20,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"schoolhouse",title:"🏫 Schoolhouse",type:"education",description:"Produces knowledge, costs money to run.",revenue_per_week:0,knowledge_points_per_month:25,requirements:{gold:2500,plots:[],employees:20,knowledge:0,size:1,xp:0,resources:{food:0,wood:500,stone:100,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.1,health:1.1,community:1.2},immediate_variable_changes:{happiness:15,health:3,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:50,power:20,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"blacksmith",title:"⚒️ Blacksmith",type:"business",description:"Converts metal into tools for money. Make sure you have enough metal!",revenue_per_week:300,requirements:{gold:3e3,plots:[],employees:24,knowledge:0,size:1,xp:0,resources:{food:0,wood:250,stone:250,metal:500,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:.95},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:75,wood:0,stone:0,metal:10,bureaucracy:0,food:0}},{id:"library",title:"📕 Library",type:"recreation",description:"Produces knowledge and happiness",revenue_per_week:0,knowledge_points_per_month:10,requirements:{gold:2e3,plots:[],employees:6,knowledge:0,size:1,xp:0,resources:{food:0,wood:225,stone:100,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.3,health:1,community:1.1},immediate_variable_changes:{happiness:15,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"lumber_mill",title:"🏭 Lumber Mill",type:"industrial",description:"Increases wood production by 25%, has to be next to a tree farm",revenue_per_week:0,requirements:{gold:4e3,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:300,stone:100,metal:0,power:0,bureaucracy:0},adjacent_plots:["tree_farm"]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:50,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:20,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"solar_farm",title:"☀️ Solar farm",type:"industrial",description:"Produces a lot of power without the need of water.",revenue_per_week:0,requirements:{gold:5e3,plots:[],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:500,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:500,bureaucracy:0},level:4,active_costs:{gold:0,power:0,wood:0,stone:0,metal:50,bureaucracy:0,food:0}},{id:"general_store",title:"🛒 General Store",type:"shop",description:"Makes the most money of any plot, requires power. Makes significantly more from tourism if you have a Village Inn.",revenue_per_week:500,requirements:{gold:15e3,plots:[],employees:32,knowledge:0,size:1,xp:0,resources:{food:0,wood:5e3,stone:5e3,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.05,health:1,community:1.1},immediate_variable_changes:{happiness:20,health:0,population:0,community:0,bureaucracy:0},check_for_variety:!1,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:60,wood:0,stone:0,metal:0,bureaucracy:0,food:100}},{id:"healing_house",title:"🏥 Healing House",type:"medical",description:"Treats the sick and continuously improves health.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:2e4,plots:[],employees:18,knowledge:0,size:1,xp:0,resources:{food:0,wood:800,stone:1e3,metal:1e3,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.25,health:1.5,community:1.1},immediate_variable_changes:{happiness:5,health:75,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:30,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"community_center",title:"🫶 Community Center",type:"recreation",description:"Improves community, makes people happier, costs money",revenue_per_week:0,requirements:{gold:19e3,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:1e3,stone:700,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.09,health:1,community:2},immediate_variable_changes:{happiness:50,health:15,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:10,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"city_hall",title:"🗳️ City Hall",type:"federal",description:"Generates bureaucracy that can be used to pass laws to impact the city and expand. Costs a lot of gold every week.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:35e3,plots:[],employees:32,knowledge:3e3,size:1,xp:0,resources:{food:0,wood:3250,stone:800,metal:200,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1.2},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:10},level:4,active_costs:{gold:300,power:20,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"mine",title:"⛏️ Mine",type:"mine",description:"Produces a significant amount of metal and stone.",revenue_per_week:0,requirements:{gold:5e4,plots:[],employees:64,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:150,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:.9,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:15,metal:50,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:80,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"academy",title:"🏫 Academy",type:"education",description:"Produces a lot of knowledge, requires high population",revenue_per_week:0,knowledge_points_per_month:90,requirements:{gold:3e4,plots:[],employees:32,knowledge:1e3,size:1,xp:0,resources:{food:0,wood:5e3,stone:1600,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:500,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"bank",title:"🏦 Bank",type:"bank",description:"Enables the conversion of knowledge to gold, and increases maximum tax rate so you can make more money.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:75e3,plots:[],employees:32,knowledge:1e3,size:1,xp:0,resources:{food:0,wood:1e3,stone:1e4,metal:5e3,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:.8,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:75,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"lab",title:"🧪 Laboratory",type:"science",description:"Designs things to help the city grow",revenue_per_week:0,knowledge_points_per_month:25,requirements:{gold:1e5,plots:[],employees:24,knowledge:1e4,size:1,xp:0,resources:{food:0,wood:0,stone:1e3,metal:3e3,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:.98,health:.99,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:300,power:35,wood:0,stone:0,metal:0,bureaucracy:0,food:0}}],Lo={empty_unusable:"rgba(21, 40, 20, 0.70)",empty_buildable:"#CBB827",residential:"#de7633",farm:"#6b8f49",lumber:"#8E805C",business:"#9273a5",recreation:"#5277b1",shop:"#d896d8",tourism:"#d896d8",education:"#BFBEEB",medical:"#4a5ba3",bank:"#8477be",federal:"#8477be",science:"#4a5ba3",mine:"#d9874a",quarry:"#868685",industrial:"#868615"};function Yi(t,e=!1){if(t<0)return t==-1?e?Lo.empty_buildable:Lo.empty_unusable:t==-2?Lo.recreation:Lo.empty_unusable;const n=re[t];return Lo[n.type]}const Os={lab:1,city_hall:1,bank:1,community_center:1,inn:1},Gt="plots_active_game_db",xo="plots_user_db";function bm(){const t=["York","London","Paris","Madrid","Rome","Berlin","Vienna","Prague","Warsaw","Oslo","Lisbon","Dublin","Brussels","Amsterdam","Stockholm","Copenhagen","Edinburgh","Moscow","Beijing","Tokyo","Seoul","Bangkok","Delhi","Mumbai","Shanghai","Sydney","Melbourne","Cairo","Dubai","Istanbul","Athens","Budapest","Reykjavik","Helsinki","Tallinn","Riga","Vilnius","Sofia","Bucharest","Belgrade","Zagreb","Sarajevo","Ljubljana","Skopje","Tirana","Podgorica","Thessaloniki","Barcelona","Valencia","Seville","Granada","Malaga","Lyon","Marseille","Toulouse","Nice","Nantes","Strasbourg","Bordeaux","Lille","Venice","Milan","Florence","Naples","Turin","Bologna","Perugia","Genoa","Pisa","Verona","Palermo","Catania","Bari","Padua","Cagliari","Krakow","Gdansk","Poznan","Wroclaw","Lodz","Katowice","Bialystok","Gdynia","Sopot","Bydgoszcz","Lublin","Szczecin","Gorzow","Zakopane","Olsztyn","Torun","Rzeszow","Kielce","Radom","Siedlce","Los","Angeles","Chicago","Houston","Phoenix","San","Antonio","San","Diego","Dallas","San","Jose","Austin","Jacksonville","Fort","Worth","Columbus","Charlotte","Liverpool","Manchester","Glasgow","Birmingham","Leeds","Sheffield","Newcastle","upon","Tyne","Bristol","Nottingham","Leicester","Coventry","Belfast","Reading","Cardiff","Southampton","Aberdeen","Plymouth","Stoke","Trent","Wolverhampton","Swansea","Sunderland","Portsmouth","Yorkshire","Hull","Blackpool","Bradford","Derby","Middlesbrough","Peterborough","Stockton","on","Tees","Brighton","Poole","Bournemouth","Huddersfield","Luton","Oxford","Norwich","Oldham","Cambridge","Exeter","Walsall","Colchester","Watford","Rotherham","Newport","Gateshead","Dundee","Gloucester","Solihull","High","Wycombe","Maidstone","Slough","Basildon","Chelmsford","Salford","Bedford","Stevenage","Woking","Grimsby","Birkenhead","Halifax","Warrington","Gillingham","Wigan","Worcester","Wakefield","Lincoln","Chester","Rochdale","Dagenham","Widnes","St","Albans","Mansfield","Sutton","Coldfield","Crawley","Wokingham","Barnsley","St","Helens","Harrogate","Redditch","Scunthorpe","Nuneaton","Chesterfield","Hemel","Hempstead","Bury","Guildford","Ashford","Telford","Newcastle","under","Lyme","Aylesbury","Halesowen","Shrewsbury","Lowestoft","Loughborough","Cheltenham","Kidderminster","Basingstoke","Rugby","Stourbridge","Southport","Kettering","Royal","Leamington","Spa","Beeston","Farnborough","Wrexham","Banbury","Weymouth","Wallsend","Dartford","Grays","Tamworth","Ashford","Esher","Folkestone","Tonbridge","Taunton","Runcorn","Macclesfield","Keighley","Bridgend","Barnstaple","Letchworth","Garden","City","Worthing","Gosport","Eastleigh","Staines","upon","Thames","Lisburn","Livingston","Bognor","Regis","Scarborough","Cannock","Margate","Chippenham","Rhondda","Maidenhead","Wellingborough","Washington","Camberley","Bootle","Lancaster","Llanelli","Chatham","Cheshunt","Bishop","Auckland","Nelson","Belper","Pontefract","Barry","Braintree","Crosby","Bury","St","Edmunds","Bexhill","Margate","Aldershot","Rowley","Regis","Hoddesdon","Sittingbourne","Rugby","Newquay","Falmouth","Stretford","Camberley","Beverley","Windsor","Rochester","Wickford","Diss","Farnham","Andover","Camberwell","Bermondsey","Lewisham","Wembley","Hayes","Harrow","Ilford","Enfield","Twickenham","Richmond","Brentwood","Edgware","Ealing","Greenwich","Bromley","Hounslow","Romford","Hillingdon","Uxbridge","Wandsworth","Sutton","Kingston","upon","Thames","Bexley","Havering","Barking"],e=["ia","ville","ton","land","field","burgh","ford","wood","port","bay","beach","peak","valley","ridge","hill","dale","island","cape","spring","grove","polis","side","view","shore","haven","place","gardens","plaza","square"],n=["New","Old","North","South","East","West","Upper","Lower","Little","Great","Saint","Fort","Mount","Lake","River","The Village of","The City of","The Town of","The Borough of","The County of","The State of","The Kingdom of","The Empire of","The Republic of","The Commonwealth of","The Union of","The Federation of","Rainy","Sunny","Windy","Frosty","Snowy"];function o(s){return s[Math.floor(Math.random()*s.length)]}let i=o(n),r=o(t),l=o(e),a="";return Math.random()>.5?a=i+" "+r+l:a=r+l,a}let Ee=Ue(JSON.parse(localStorage.getItem(Gt)||"null")),an=Ue(JSON.parse(localStorage.getItem(xo)||"null"));wm();function vm(t,e,n,o){let i={...hm};i.economyAndLaws.max_tax_rate=gm[t],i.endGoal=e;let r=[];n=n.replace(/[^a-zA-Z0-9 ]/g,"").trim(),i.townInfo.name=n!=""?n:bm(),i.difficulty=parseInt(t),o&&(i.devMode=!0,i.townInfo.gold=1e8,i.townInfo.happiness=1e7,i.townInfo.health=1e6,i.townInfo.knowledge_points=1e5,i.modifiers.happiness=1e4,i.modifiers.health=1e4,i.resources.food=1e6,i.resources.wood=1e6,i.resources.stone=1e6,i.resources.metal=1e6);const l=t=="0"?8:t=="1"?12:t=="2"?16:1,a=Math.floor(Math.random()*l/2)+1,s=Math.floor(Math.random()*l/2)+1;for(let u=0;u<l;u++){r.push([]);for(let f=0;f<l;f++){const c=u==a&&f==s?!1:ym(u,f,l);r[u][f]={id:Math.random().toString(36).substring(2,9),active:!1,x:u,y:f,type:c?-9:-1,typeId:"",mineralSource:c?!1:a===u&&s===f,water:a===u&&s===f?!1:c}}}i.plots=r,localStorage.reset=!1,localStorage.setItem(Gt,JSON.stringify(i)),Ee.set(i),location.reload()}function ym(t,e,n){let o=.06;return t>0&&e>0&&t<n-1&&e<n-1&&(o*=2),(e==Math.round(n/2)||e==Math.round(n/2)-1)&&(o*=5),t==0&&e==0&&(o=0),Math.random()<o}function wm(){if(localStorage.getItem(xo)===null){let t=_m;t.username="my_username_click_to_change",localStorage.setItem(xo,JSON.stringify(t)),an.set(t)}}function Ps(t,e){var n=Math.pow(10,e);t=parseFloat((t*n).toFixed(11));var o=Math.round(t)/n;return+o.toFixed(e)}function Ui(t,e,n){let o=n.plots[t][e].type;if(n.plots[t][e].type=-1,n.plots[t][e].active=!1,o>-1&&(n.townInfo.population_count-=re[o].immediate_variable_changes.population,n.townInfo.population_max-=re[o].immediate_variable_changes.population,n.townInfo.happiness-=re[o].immediate_variable_changes.happiness,n.townInfo.health-=re[o].immediate_variable_changes.health,n.modifiers.happiness=Ps(n.modifiers.happiness/re[o].effect_modifiers.happiness,2),n.modifiers.health=Ps(n.modifiers.health/re[o].effect_modifiers.health,2),n.townInfo.employees-=re[o].requirements.employees,(n.plotCounts[o]===void 0||n.plotCounts[o]===null)&&(n.plotCounts[o]=0),n.plotCounts[o]--,(re[o].requirements.size??1)>1))for(let r=0;r<n.plots.length;r++)for(let l=0;l<n.plots[t].length;l++)n.plots[r][l].referencePlot!=null&&n.plots[r][l].referencePlot[0]===t&&n.plots[r][l].referencePlot[1]===e&&Ui(r,l,n);n.lastChangeDay=n.environment.day,Ee.set(n),localStorage.setItem(Gt,JSON.stringify(n))}function We(t,e){let n=[];for(let o=0;o<e.plots.length;o++)for(let i=0;i<e.plots[o].length;i++)e.plots[o][i].active==!1||e.plots[o][i]==null||e.plots[o][i].type===null||e.plots[o][i].type<0||(re[e.plots[o][i].type].id===t||re[e.plots[o][i].type].type===t)&&n.push(e.plots[o][i]);return n}function jr(t,e,n){return n.liege_location!=null&&n.liege_location[0]===t&&n.liege_location[1]===e}function km(t,e){const n=t.plots.length,o=n>0?t.plots[0].length:0,i=e=="east"?5:0,r=e=="south"?5:0,l=Math.round(Math.pow(1.5,t.kingdom_expansions+5));if(t.townInfo.guardians<l)return`You need ${l-t.townInfo.guardians} more Guardians to expand the kingdom. See the City mgmt menu.`;for(let a=0;a<n;a++)for(let s=o;s<o+i;s++)t.plots[a].push({id:Math.random().toString(36).substring(2,9),active:!1,x:a,y:s,type:-1,typeId:"",mineralSource:!1,water:!1,disabled:!1});for(let a=n;a<n+r;a++){const s=[];for(let u=0;u<o+i;u++)s.push({id:Math.random().toString(36).substring(2,9),active:!1,x:a,y:u,type:-1,typeId:"",mineralSource:!1,water:!1});t.plots.push(s)}t.kingdom_expansions++,Ee.set(t)}function ql(t=null){localStorage.removeItem(Gt),Ee.set(null),t&&(localStorage.setItem(Gt,JSON.stringify(t)),Ee.set(t)),location.reload()}function Cm(){gc.update(t=>!t),localStorage.setItem("showOnlyAffordable",localStorage.getItem("showOnlyAffordable")==="true"?"false":"true")}function Ns(t,e,n){n.liege_location=[t,e],vo.set(!1),document.querySelectorAll(".plot_container").forEach(i=>{i.style.cursor=""}),Ee.set(n)}let et=Ue({visible:!1,x:0,y:0,isMineralSource:!1}),Ko=Ue({visible:!1});function Am(t){an.set(t),localStorage.setItem(xo,JSON.stringify(t))}let bo=Ue({}),$i=Ue(!1),$t=Ue(!1),ll=Ue(!0),Es=Ue(!1),Ki=Ue(!1),Xi=Ue(!1),Ri=Ue(!1),vo=Ue(!1),Ji=Ue(!1),Ot=Ue(""),xi=localStorage.getItem("showCompletedAchievements")==="true"?Ue(!0):Ue(!1),gc=localStorage.getItem("showOnlyAffordable")==="true"?Ue(!0):Ue(!1),bc=localStorage.getItem("pauseMenuTab")==="game"?Ue("game"):Ue("achievements"),sl=Ue(750);const pt={unemployment_num:" people can't find jobs.",bored:"People are bored. Try making some new buildings.",vairety:"People don't like going to the same places over and over again. Try making some new buildings.",nobody_home:"Build some homes!",leave_town_num:" people left town because they were unhappy.",new_people_num:" new people moved to town.",people_want_to_move_in:"People want to move in. Build more homes.",high_tax_rate:"People are unhappy with the high tax rate.",very_high_tax_rate:"People are extremely unhappy with the high tax rate.",sickAndDying:"People are sick and dying.",sickAndLeaving:"People are sick and leaving town.",happiness_zero:"The town has fallen into chaos due to extreme unhappiness.",health_zero:"The town has fallen into chaos due to extreme sickness.",population_zero:"The town has been condemned due to lack of population.",win:{land:"You have filled the grid with buildings. You win!"},hospital_advantage:"Because you have a hospital, the town is staying healthier for longer!",notEnoughVariety:"People are sick of going to the same places over and over, add some variety!"},nt=[{id:"happiness_at_300",title:"Happy Town",description:"One of your towns wins Happiest Town Award!",requirements:"Happiness reaches 300",icon:"😍",check:t=>t.townInfo.happiness>=300,prize:1e3},{id:"get_educated",title:"Get Educated",description:"The kids are finally able to learn!",requirements:"Build a school or library",icon:"📌",check:t=>We("small_school",t).length!==0||We("large_school",t).length!==0||We("library",t).length!==0,prize:1850},{id:"10k",title:"$10,000",description:"",requirements:"Gold reaches $10,000",icon:"﹩",check:t=>t.townInfo.gold>=1e4,prize:2500},{id:"25k",title:"$25,000",description:"",requirements:"Gold reaches $25,000",icon:"💵",check:t=>t.townInfo.gold>=25e3,prize:7500},{id:"stayin_frugal",title:"Stayin' Frugal!",description:"",requirements:"Gold under $50 with >=300 population",icon:"🚲",check:t=>t.townInfo.gold<=50&&t.townInfo.population_count>=300,prize:1e4},{id:"profits_to_the_moon",title:"Profits to the moon!",description:"Now you're making dough!",requirements:"Last month profit is over $10,000",icon:"🌛",check:t=>t.economyAndLaws.weeklyProfit>=1e4,prize:15e3},{id:"happily_dying",title:"Happily Dying!",description:"Not something to be proud of...",requirements:"Happiness > 275, health < 25",icon:"🌛",check:t=>t.townInfo.happiness>275&&t.townInfo.health<25,prize:2e4},{id:"long_game",title:"The Long Game",description:"So are you gonna win anytime soon?",requirements:"Still playing after 10,000 days, without winning. ",icon:"🐌",check:t=>t.endGameDetails.win===!1&&t.environment.day>1e4&&t.endGameDetails.msg==="",prize:25e3},{id:"tax_man",title:"Tax man",description:"Set the tax rate to the absolute max that the town will tolerate.",requirements:"",icon:"🙃",check:t=>{let e=Math.floor(t.economyAndLaws.max_tax_rate*20)/20;return t.economyAndLaws.tax_rate===e},prize:1500},{id:"good_job",title:"Good job",description:"Beat 'Fill the grid' with Normal difficulty in under 3,000 days.",requirements:"",icon:"👍",check:t=>t.endGameDetails.win===!0&&t.environment.day<=3e3&&t.difficulty===1&&t.endGoal==="land",prize:1e4},{id:"great_job",title:"Great job",description:"Beat 'Fill the grid' with Normal difficulty in under 2,000 days.",requirements:"",icon:"👏",check:t=>t.endGameDetails.win===!0&&t.environment.day<=2e3&&t.difficulty===1&&t.endGoal==="land",prize:45e3},{id:"superb_job",title:"SUPERB job",description:"Beat 'Fill the grid' with Normal difficulty in under 500 days.",requirements:"",icon:"👌",check:t=>t.endGameDetails.win===!0&&t.environment.day<=500&&t.difficulty===1&&t.endGoal==="land",prize:1e5},{id:"250k",title:"$250,000",description:"",requirements:"Gold reaches $250,000",icon:"💸",check:t=>t.townInfo.gold>=25e4,prize:5e4},{id:"banker",title:"Banker",description:"",requirements:"Build your first bank. ",icon:"🏦",check:t=>We("bank",t).length!==0,prize:5e3},{id:"community",title:"Community Center",description:"",requirements:"Build your first community center. ",icon:"❤️",check:t=>We("community_center",t).length!==0,prize:1e4},{id:"1m",title:"MILLIONAIRE!",description:"",requirements:"Gold reaches $1,000,000",icon:"💰",check:t=>t.townInfo.gold>=1e6,prize:15e4}],qt=[{message:"My liege, we need places to live! Build the first homes.",isComplete:t=>t.townInfo.population_max>0,goldReward:750},{message:"My liege, you need to start making food and wood.",isComplete:t=>We("farm",t).length>=1&&We("tree_farm",t).length>=1,goldReward:300},{message:"My liege, the village will need stone and metals to expand. Build a quarry. ",isComplete:t=>We("quarry",t).length>0,goldReward:500},{message:"My liege, things are picking up but we will need far more money. Get weekly revenue to >=200 gold. ",isComplete:t=>t.economyAndLaws.weeklyProfit>=200,goldReward:2e3},{message:"My liege, as the town develops we will need the smartest and brightest. Build plots to get our Knowledge to 250.",isComplete:t=>t.townInfo.knowledge_points>=250,goldReward:2e3},{message:"My liege, the village is growing - yay! But we need to have more workers. Get the population to 100.",isComplete:t=>t.townInfo.population_count>=100,goldReward:1500},{message:"My liege, some advanced buildings require power. Start generating power with a water wheel or a solar farm.",isComplete:t=>t.resources.power>0,goldReward:2e3},{message:"My liege, we need more metals. Find a good spot for a mine and build it. ",isComplete:t=>We("mine",t).length>0,goldReward:1e4},{message:"My liege, mining resources has taken a toll on the towns health. Build a Healing House to lower the chance of sickness.",isComplete:t=>We("healing_house",t).length>0,goldReward:15e3},{message:"My liege, now that we have metals, power, and people, your next goal is a big one. Build your town a City Hall.",isComplete:t=>We("city_hall",t).length>0,goldReward:1e4}];function vc(t){var e,n,o="";if(typeof t=="string"||typeof t=="number")o+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=vc(t[e]))&&(o&&(o+=" "),o+=n)}else for(n in t)t[n]&&(o&&(o+=" "),o+=n);return o}function Sm(){for(var t,e,n=0,o="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=vc(t))&&(o&&(o+=" "),o+=e);return o}const Gl="-";function Tm(t){const e=Mm(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:o}=t;function i(l){const a=l.split(Gl);return a[0]===""&&a.length!==1&&a.shift(),yc(a,e)||Im(l)}function r(l,a){const s=n[l]||[];return a&&o[l]?[...s,...o[l]]:s}return{getClassGroupId:i,getConflictingClassGroupIds:r}}function yc(t,e){var l;if(t.length===0)return e.classGroupId;const n=t[0],o=e.nextPart.get(n),i=o?yc(t.slice(1),o):void 0;if(i)return i;if(e.validators.length===0)return;const r=t.join(Gl);return(l=e.validators.find(({validator:a})=>a(r)))==null?void 0:l.classGroupId}const $s=/^\[(.+)\]$/;function Im(t){if($s.test(t)){const e=$s.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function Mm(t){const{theme:e,prefix:n}=t,o={nextPart:new Map,validators:[]};return Pm(Object.entries(t.classGroups),n).forEach(([r,l])=>{al(l,o,r,e)}),o}function al(t,e,n,o){t.forEach(i=>{if(typeof i=="string"){const r=i===""?e:Rs(e,i);r.classGroupId=n;return}if(typeof i=="function"){if(Om(i)){al(i(o),e,n,o);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([r,l])=>{al(l,Rs(e,r),n,o)})})}function Rs(t,e){let n=t;return e.split(Gl).forEach(o=>{n.nextPart.has(o)||n.nextPart.set(o,{nextPart:new Map,validators:[]}),n=n.nextPart.get(o)}),n}function Om(t){return t.isThemeGetter}function Pm(t,e){return e?t.map(([n,o])=>{const i=o.map(r=>typeof r=="string"?e+r:typeof r=="object"?Object.fromEntries(Object.entries(r).map(([l,a])=>[e+l,a])):r);return[n,i]}):t}function Nm(t){if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,o=new Map;function i(r,l){n.set(r,l),e++,e>t&&(e=0,o=n,n=new Map)}return{get(r){let l=n.get(r);if(l!==void 0)return l;if((l=o.get(r))!==void 0)return i(r,l),l},set(r,l){n.has(r)?n.set(r,l):i(r,l)}}}const wc="!";function Em(t){const e=t.separator,n=e.length===1,o=e[0],i=e.length;return function(l){const a=[];let s=0,u=0,f;for(let h=0;h<l.length;h++){let y=l[h];if(s===0){if(y===o&&(n||l.slice(h,h+i)===e)){a.push(l.slice(u,h)),u=h+i;continue}if(y==="/"){f=h;continue}}y==="["?s++:y==="]"&&s--}const c=a.length===0?l:l.substring(u),d=c.startsWith(wc),m=d?c.substring(1):c,p=f&&f>u?f-u:void 0;return{modifiers:a,hasImportantModifier:d,baseClassName:m,maybePostfixModifierPosition:p}}}function $m(t){if(t.length<=1)return t;const e=[];let n=[];return t.forEach(o=>{o[0]==="["?(e.push(...n.sort(),o),n=[]):n.push(o)}),e.push(...n.sort()),e}function Rm(t){return{cache:Nm(t.cacheSize),splitModifiers:Em(t),...Tm(t)}}const Lm=/\s+/;function Dm(t,e){const{splitModifiers:n,getClassGroupId:o,getConflictingClassGroupIds:i}=e,r=new Set;return t.trim().split(Lm).map(l=>{const{modifiers:a,hasImportantModifier:s,baseClassName:u,maybePostfixModifierPosition:f}=n(l);let c=o(f?u.substring(0,f):u),d=!!f;if(!c){if(!f)return{isTailwindClass:!1,originalClassName:l};if(c=o(u),!c)return{isTailwindClass:!1,originalClassName:l};d=!1}const m=$m(a).join(":");return{isTailwindClass:!0,modifierId:s?m+wc:m,classGroupId:c,originalClassName:l,hasPostfixModifier:d}}).reverse().filter(l=>{if(!l.isTailwindClass)return!0;const{modifierId:a,classGroupId:s,hasPostfixModifier:u}=l,f=a+s;return r.has(f)?!1:(r.add(f),i(s,u).forEach(c=>r.add(a+c)),!0)}).reverse().map(l=>l.originalClassName).join(" ")}function Fm(){let t=0,e,n,o="";for(;t<arguments.length;)(e=arguments[t++])&&(n=kc(e))&&(o&&(o+=" "),o+=n);return o}function kc(t){if(typeof t=="string")return t;let e,n="";for(let o=0;o<t.length;o++)t[o]&&(e=kc(t[o]))&&(n&&(n+=" "),n+=e);return n}function ul(t,...e){let n,o,i,r=l;function l(s){const u=e.reduce((f,c)=>c(f),t());return n=Rm(u),o=n.cache.get,i=n.cache.set,r=a,a(s)}function a(s){const u=o(s);if(u)return u;const f=Dm(s,n);return i(s,f),f}return function(){return r(Fm.apply(null,arguments))}}function Ze(t){const e=n=>n[t]||[];return e.isThemeGetter=!0,e}const Cc=/^\[(?:([a-z-]+):)?(.+)\]$/i,Bm=/^\d+\/\d+$/,jm=new Set(["px","full","screen"]),qm=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Gm=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Hm=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Vm=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Wm=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function tn(t){return En(t)||jm.has(t)||Bm.test(t)}function bn(t){return So(t,"length",Qm)}function En(t){return!!t&&!Number.isNaN(Number(t))}function ki(t){return So(t,"number",En)}function Do(t){return!!t&&Number.isInteger(Number(t))}function Ym(t){return t.endsWith("%")&&En(t.slice(0,-1))}function Ve(t){return Cc.test(t)}function vn(t){return qm.test(t)}const Um=new Set(["length","size","percentage"]);function Km(t){return So(t,Um,Ac)}function Xm(t){return So(t,"position",Ac)}const Jm=new Set(["image","url"]);function xm(t){return So(t,Jm,ep)}function Zm(t){return So(t,"",zm)}function Fo(){return!0}function So(t,e,n){const o=Cc.exec(t);return o?o[1]?typeof e=="string"?o[1]===e:e.has(o[1]):n(o[2]):!1}function Qm(t){return Gm.test(t)&&!Hm.test(t)}function Ac(){return!1}function zm(t){return Vm.test(t)}function ep(t){return Wm.test(t)}function fl(){const t=Ze("colors"),e=Ze("spacing"),n=Ze("blur"),o=Ze("brightness"),i=Ze("borderColor"),r=Ze("borderRadius"),l=Ze("borderSpacing"),a=Ze("borderWidth"),s=Ze("contrast"),u=Ze("grayscale"),f=Ze("hueRotate"),c=Ze("invert"),d=Ze("gap"),m=Ze("gradientColorStops"),p=Ze("gradientColorStopPositions"),h=Ze("inset"),y=Ze("margin"),C=Ze("opacity"),k=Ze("padding"),w=Ze("saturate"),R=Ze("scale"),F=Ze("sepia"),N=Ze("skew"),$=Ze("space"),G=Ze("translate"),L=()=>["auto","contain","none"],V=()=>["auto","hidden","clip","visible","scroll"],v=()=>["auto",Ve,e],b=()=>[Ve,e],M=()=>["",tn,bn],E=()=>["auto",En,Ve],W=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],q=()=>["solid","dashed","dotted","double","none"],J=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"],Q=()=>["start","end","center","between","around","evenly","stretch"],ee=()=>["","0",Ve],Y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],te=()=>[En,ki],ne=()=>[En,Ve];return{cacheSize:500,separator:":",theme:{colors:[Fo],spacing:[tn,bn],blur:["none","",vn,Ve],brightness:te(),borderColor:[t],borderRadius:["none","","full",vn,Ve],borderSpacing:b(),borderWidth:M(),contrast:te(),grayscale:ee(),hueRotate:ne(),invert:ee(),gap:b(),gradientColorStops:[t],gradientColorStopPositions:[Ym,bn],inset:v(),margin:v(),opacity:te(),padding:b(),saturate:te(),scale:te(),sepia:ee(),skew:ne(),space:b(),translate:b()},classGroups:{aspect:[{aspect:["auto","square","video",Ve]}],container:["container"],columns:[{columns:[vn]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...W(),Ve]}],overflow:[{overflow:V()}],"overflow-x":[{"overflow-x":V()}],"overflow-y":[{"overflow-y":V()}],overscroll:[{overscroll:L()}],"overscroll-x":[{"overscroll-x":L()}],"overscroll-y":[{"overscroll-y":L()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[h]}],"inset-x":[{"inset-x":[h]}],"inset-y":[{"inset-y":[h]}],start:[{start:[h]}],end:[{end:[h]}],top:[{top:[h]}],right:[{right:[h]}],bottom:[{bottom:[h]}],left:[{left:[h]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Do,Ve]}],basis:[{basis:v()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ve]}],grow:[{grow:ee()}],shrink:[{shrink:ee()}],order:[{order:["first","last","none",Do,Ve]}],"grid-cols":[{"grid-cols":[Fo]}],"col-start-end":[{col:["auto",{span:["full",Do,Ve]},Ve]}],"col-start":[{"col-start":E()}],"col-end":[{"col-end":E()}],"grid-rows":[{"grid-rows":[Fo]}],"row-start-end":[{row:["auto",{span:[Do,Ve]},Ve]}],"row-start":[{"row-start":E()}],"row-end":[{"row-end":E()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ve]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ve]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal",...Q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[k]}],px:[{px:[k]}],py:[{py:[k]}],ps:[{ps:[k]}],pe:[{pe:[k]}],pt:[{pt:[k]}],pr:[{pr:[k]}],pb:[{pb:[k]}],pl:[{pl:[k]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[$]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[$]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ve,e]}],"min-w":[{"min-w":[Ve,e,"min","max","fit"]}],"max-w":[{"max-w":[Ve,e,"none","full","min","max","fit","prose",{screen:[vn]},vn]}],h:[{h:[Ve,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ve,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ve,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ve,e,"auto","min","max","fit"]}],"font-size":[{text:["base",vn,bn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ki]}],"font-family":[{font:[Fo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ve]}],"line-clamp":[{"line-clamp":["none",En,ki]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",tn,Ve]}],"list-image":[{"list-image":["none",Ve]}],"list-style-type":[{list:["none","disc","decimal",Ve]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[C]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[C]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",tn,bn]}],"underline-offset":[{"underline-offset":["auto",tn,Ve]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:b()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ve]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ve]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[C]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...W(),Xm]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Km]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},xm]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[r]}],"rounded-s":[{"rounded-s":[r]}],"rounded-e":[{"rounded-e":[r]}],"rounded-t":[{"rounded-t":[r]}],"rounded-r":[{"rounded-r":[r]}],"rounded-b":[{"rounded-b":[r]}],"rounded-l":[{"rounded-l":[r]}],"rounded-ss":[{"rounded-ss":[r]}],"rounded-se":[{"rounded-se":[r]}],"rounded-ee":[{"rounded-ee":[r]}],"rounded-es":[{"rounded-es":[r]}],"rounded-tl":[{"rounded-tl":[r]}],"rounded-tr":[{"rounded-tr":[r]}],"rounded-br":[{"rounded-br":[r]}],"rounded-bl":[{"rounded-bl":[r]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[C]}],"border-style":[{border:[...q(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[C]}],"divide-style":[{divide:q()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...q()]}],"outline-offset":[{"outline-offset":[tn,Ve]}],"outline-w":[{outline:[tn,bn]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:M()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[C]}],"ring-offset-w":[{"ring-offset":[tn,bn]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",vn,Zm]}],"shadow-color":[{shadow:[Fo]}],opacity:[{opacity:[C]}],"mix-blend":[{"mix-blend":J()}],"bg-blend":[{"bg-blend":J()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[o]}],contrast:[{contrast:[s]}],"drop-shadow":[{"drop-shadow":["","none",vn,Ve]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[c]}],saturate:[{saturate:[w]}],sepia:[{sepia:[F]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[o]}],"backdrop-contrast":[{"backdrop-contrast":[s]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[c]}],"backdrop-opacity":[{"backdrop-opacity":[C]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[F]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ve]}],duration:[{duration:ne()}],ease:[{ease:["linear","in","out","in-out",Ve]}],delay:[{delay:ne()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ve]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[R]}],"scale-x":[{"scale-x":[R]}],"scale-y":[{"scale-y":[R]}],rotate:[{rotate:[Do,Ve]}],"translate-x":[{"translate-x":[G]}],"translate-y":[{"translate-y":[G]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ve]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ve]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":b()}],"scroll-mx":[{"scroll-mx":b()}],"scroll-my":[{"scroll-my":b()}],"scroll-ms":[{"scroll-ms":b()}],"scroll-me":[{"scroll-me":b()}],"scroll-mt":[{"scroll-mt":b()}],"scroll-mr":[{"scroll-mr":b()}],"scroll-mb":[{"scroll-mb":b()}],"scroll-ml":[{"scroll-ml":b()}],"scroll-p":[{"scroll-p":b()}],"scroll-px":[{"scroll-px":b()}],"scroll-py":[{"scroll-py":b()}],"scroll-ps":[{"scroll-ps":b()}],"scroll-pe":[{"scroll-pe":b()}],"scroll-pt":[{"scroll-pt":b()}],"scroll-pr":[{"scroll-pr":b()}],"scroll-pb":[{"scroll-pb":b()}],"scroll-pl":[{"scroll-pl":b()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ve]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[tn,bn,ki]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}function tp(t,{cacheSize:e,prefix:n,separator:o,extend:i={},override:r={}}){Li(t,"cacheSize",e),Li(t,"prefix",n),Li(t,"separator",o);for(const l in r)np(t[l],r[l]);for(const l in i)op(t[l],i[l]);return t}function Li(t,e,n){n!==void 0&&(t[e]=n)}function np(t,e){if(e)for(const n in e)Li(t,n,e[n])}function op(t,e){if(e)for(const n in e){const o=e[n];o!==void 0&&(t[n]=(t[n]||[]).concat(o))}}function ip(t,...e){return typeof t=="function"?ul(fl,t,...e):ul(()=>tp(fl(),t),...e)}const Sc=ul(fl);function rp(t){const e=t-1;return e*e*e+1}function qe(...t){return Sc(Sm(t))}const yr=(t,e={y:-8,x:0,start:.95,duration:150})=>{const n=getComputedStyle(t),o=n.transform==="none"?"":n.transform,i=(l,a,s)=>{const[u,f]=a,[c,d]=s;return(l-u)/(f-u)*(d-c)+c},r=l=>Object.keys(l).reduce((a,s)=>l[s]===void 0?a:a+`${s}:${l[s]};`,"");return{duration:e.duration??200,delay:0,css:l=>{const a=i(l,[0,1],[e.y??5,0]),s=i(l,[0,1],[e.x??0,0]),u=i(l,[0,1],[e.start??.95,1]);return r({transform:`${o} translate3d(${s}px, ${a}px, 0) scale(${u})`,opacity:l})},easing:rp}};function ft(t,e){if(e===void 0&&(e=0),t==null||t==null)return 0;t=parseFloat((t*Math.pow(10,e)).toFixed(11));var n=Math.round(t)/Math.pow(10,e);return+n.toFixed(e)}function qr(t){return t<10?"0"+t:t}function lp(t){let e=Math.floor(t/1e3),n=Math.floor(e/60);e=e%60;let o=Math.floor(n/60);return n=n%60,`${qr(o)}:${qr(n)}:${qr(e)}`}function Te(t){return re.findIndex(e=>e.id===t)}function Ls(t){const n=new RegExp("\\p{Emoji}","u").exec(t);return n?n[0]:null}function xt(t,e=!0){let n=t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,");return e||(n=n.split(".")[0]),n}function Fn(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Ds(t,e=!0){return t=ft(t/(e?3:1),2),t<0?`${t}`:`+${t}`}function Bn(t,e,n,o=!1){if(t<0||t>=n.plots.length||e<0||e>=n.plots[0].length)return!1;let i=[[t-1,e],[t+1,e],[t,e-1],[t,e+1],[t-1,e-1],[t-1,e+1],[t+1,e-1],[t+1,e+1]];for(let r=0;r<i.length;r++){let l=i[r][0],a=i[r][1];if(l>=0&&l<n.plots.length&&a>=0&&a<n.plots[0].length&&n.plots[l][a].water&&(o||n.plots[t][e].active==!0&&n.plots[t][e].type>0&&re[n.plots[t][e].type].id=="farm"))return!0}return!1}function sp(t,e,n,o){if(t<0||t>=n.plots.length||e<0||e>=n.plots[0].length)return!1;let i=[[t-1,e],[t+1,e],[t,e-1],[t,e+1],[t-1,e-1],[t-1,e+1],[t+1,e-1],[t+1,e+1]],r=!0;for(let l=0;l<o.length;l++){let a=!1;if(o[l]=="water"&&Bn(t,e,n,!0)){a=!0;break}for(let s=0;s<i.length;s++){let u=i[s][0],f=i[s][1];if(u>=0&&u<n.plots.length&&f>=0&&f<n.plots[0].length&&n.plots[u][f].active==!0&&n.plots[u][f].type>0&&re[n.plots[u][f].type].id==o[l]){a=!0;break}}if(!a){r=!1;break}}return r}function ap(t,e=0){let n=t*.95,o=t*1.05;return ft(Math.random()*(o-n)+n,e)}const cl=[{id:"organic_farming",description:"Organic Farming. Make townspeople healthier and happier, while decreasing overall food production.",cost:150,weekly_effect:t=>(t.modifiers.happiness*=1.1,t.modifiers.health*=1.1,t.resources.food-=2*We("farm",t).length,t)},{id:"tax_free",description:"Tax-Free Month. For 1 month, the town loses all revenue from taxes, but happiness and health increase quite a lot. Automatically ends after 4 weeks.",cost:250,weekly_effect:t=>(localStorage.getItem("tax_free")===null?(localStorage.setItem("tax_free","0"),t.economyAndLaws.weeklyProfit=-1*t.economyAndLaws.weeklyProfit):localStorage.setItem("tax_free",(parseInt(localStorage.getItem("tax_free"))+1).toString()),parseInt(localStorage.getItem("tax_free"))>=4?(t.modifiers.happiness*=1,t.modifiers.health*=1,localStorage.removeItem("tax_free"),t.economyAndLaws.enacted=t.economyAndLaws.enacted.filter(e=>e!=="tax_free")):(t.modifiers.happiness*=1.2,t.modifiers.health*=1.2),t)},{id:"healthy_mining",description:"Healthy mining. Miners must mine with proper ventilation, but they move like molasses.",cost:250,weekly_effect:t=>(re.find(e=>e.id==="mine"),t.modifiers.health*=1.1,t.resources.stone-=5*We("quarry",t).length,t.resources.stone-=7*We("mine",t).length,t.resources.metal-=15*We("mine",t).length,t)},{id:"complicated_tax_forms",description:"Complicated Tax Forms. You sneak in a clause to charge 5% more in taxes. Now, if you adjust your tax rate 5% higher, they won't be upset. This can be enacted multiple times to stack.",cost:500,weekly_effect:t=>(t.economyAndLaws.max_tax_rate+=.05,t.economyAndLaws.enacted=t.economyAndLaws.enacted.filter(e=>e!=="complicated_tax_forms"),t)},{id:"legalize_it",description:"Legalize it. You legalize a substance that makes people happy, but it also gives them 'the munchies'. Food consumption and happiness go up.",cost:350,weekly_effect:t=>(t.resources.food-=Math.round(.2*t.townInfo.population_count),t.modifiers.happiness*=1.1,t)},{id:"park_upgrade",description:"Park upgrade. You hold a community forum and add the top 5 things that the people want in their parks. This increases happiness for each park.",cost:350,weekly_effect:t=>(t.townInfo.happiness+=2*We("park",t).length,t)},{id:"career_politician",description:"Career Politician. You hire a career politician to help you with your town. They cost the town $100 per week, but they earn bureaucracy points faster.",cost:200,weekly_effect:t=>(t.resources.bureaucracy+=25,t)},{id:"the_big_wood_deal",description:"The Big Wood Deal. This law allows you to sell all of the wood in your town for $2/wood at once. This won't make the town happy, but may be necessary in a pinch. Can be enacted multiple times to sell to other buyers.",cost:200,weekly_effect:t=>(t.townInfo.gold+=2*t.resources.wood,t.resources.wood=0,t.resource_rate.wood=0,t.townInfo.happiness*=.8,t.economyAndLaws.enacted=t.economyAndLaws.enacted.filter(e=>e!=="the_big_wood_deal"),t)},{id:"picky_eating_liege",description:"Picky Eater Liege. There is some food that the town makes that you just really hate. By passing this law, you insist that they sell off that gross food for $1/food every week. You won't make as much food, but you won't have to eat it either.",cost:200,weekly_effect:t=>{const e=We("farm",t).length*2,n=Math.floor(Math.random()*(.15*e-.05*e)+.05*e);return t.resources.food-=n,t.townInfo.gold+=n,t.townInfo.happiness=.95*t.townInfo.happiness,t}},{id:"stone_statue",description:"Stone Statue. You insist that we use ALL of our stone to build a massive statue. We lose all of our stone, but for some reason, the town has perfect health for a while.",cost:1e3,weekly_effect:t=>(t.resources.stone=0,t.modifiers.health=10,t)},{id:"out_of_town",description:"Out of town. Everyone needs a vacation, right? When this is enacted, EVERYONE must leave the town for 10 days. During this time, no resources are produced, no taxes are collected, and you must take ",cost:1e3,weekly_effect:t=>(t.resources.stone=0,t.modifiers.health=10,t)}];var Qe=(t=>(t[t.GOOD=0]="GOOD",t[t.BAD=1]="BAD",t[t.NORMAL=2]="NORMAL",t))(Qe||{});const Fs=30;function up(t){const e=[()=>t.townInfo.happiness<100?"I heard that the town is unhappy. We miss our churches and parks...":"",()=>t.townInfo.health<100?"My kids keep getting sick, probably not enough farms around here!":"",()=>t.townInfo.happiness<50?"I'm thinking of moving out if things don't improve soon!":"",()=>t.townInfo.employees<t.townInfo.population_count?"I am unemployed and I hate it here":"",()=>t.townInfo.knowledge_points<100?"I wish we had more schools!":"",()=>t.economyAndLaws.tax_rate>t.economyAndLaws.max_tax_rate?"I wish the taxes were lower, I could use a break!":"",()=>t.townInfo.productivity>100?"I think we should take a day or two to just be chill, we've been working hard!":"",()=>t.economyAndLaws.tax_rate<t.economyAndLaws.max_tax_rate?"We would probably be ok chipping in more gold for village improvements.":""],n=Math.floor(Math.random()*e.length);return e[n]()}function fp(t,e,n){return t.resource_rate.food=bt(n.food-e.food,2),t.resource_rate.wood=bt(n.wood-e.wood,2),t.resource_rate.stone=bt(n.stone-e.stone,2),t.resource_rate.metal=bt(n.metal-e.metal,2),t.resource_rate.bureaucracy=bt(n.bureaucracy-e.bureaucracy,2),t}function cp(t){return t.hasBank,t}function dp(t){let e=t.economyAndLaws.knowledge_gold_market_rates[t.economyAndLaws.knowledge_gold_market_rates.length-1]||1;const n=-100,o=8,i=3;let r=Math.random(),l=Math.random()*i;if(r<.4){let a=Math.random()*o;Math.random()<.5?e+=a:e-=a}else Math.random()>.5?e+=l:e-=l;return e<n&&(e+=Math.random()*l/5),e=Math.round(e),t.economyAndLaws.knowledge_gold_market_rates=[...t.economyAndLaws.knowledge_gold_market_rates,e],t}function dl(t){return t.lab.active_experiment==null||t.lab.active_experiment.duration>0&&(t.lab.active_experiment.duration-=1),t}function ml(t){return t.townInfo.happiness<0&&(t.townInfo.happiness=0),t.townInfo.health<0&&(t.townInfo.health=0),t.townInfo.community<0&&(t.townInfo.community=0),t.townInfo.gold<0&&(t.townInfo.gold=0),t.townInfo.employees<0&&(t.townInfo.employees=0),t.townInfo.knowledge_points<0&&(t.townInfo.knowledge_points=0),t.townInfo.population_count<0&&(t.townInfo.population_count=0),t.economyAndLaws.weeklyProfit=bt(t.economyAndLaws.weeklyProfit,0),t.townInfo.employees>t.townInfo.population_count&&(t.townInfo.employees=t.townInfo.population_count),t.townInfo.gold=bt(t.townInfo.gold,0),t.townInfo.population_count=bt(t.townInfo.population_count,0),t.townInfo.employees=bt(t.townInfo.employees,0),t.townInfo.population_max=bt(t.townInfo.population_max,0),t.townInfo.happiness=bt(t.townInfo.happiness,2),t.townInfo.health=bt(t.townInfo.health,2),t.townInfo.knowledge_points=bt(t.townInfo.knowledge_points,0),t.townInfo.happiness>t.maximums.happiness&&(t.townInfo.happiness=t.maximums.happiness),t.townInfo.health>t.maximums.health&&(t.townInfo.health=t.maximums.health),t.townInfo.community>300&&(t.townInfo.community=300),t.modifiers.happiness<.5&&(t.modifiers.happiness=.5),t.modifiers.health<.5&&(t.modifiers.health=.5),t.modifiers.community<.5&&(t.modifiers.community=.5),t}function pl(t){if(t.townInfo.happiness>150){let n=t.townInfo.happiness-150;t.townInfo.happiness-=n*.08,t.townInfo.happiness<150&&(t.townInfo.happiness=150)}if(t.townInfo.health>150){let n=t.townInfo.health-150;t.townInfo.health-=n*.08,t.townInfo.health<150&&(t.townInfo.health=150)}if(t.townInfo.community>150){let n=t.townInfo.community-150;t.townInfo.community-=n*.08,t.townInfo.community<150&&(t.townInfo.community=150)}return t}function mp(t){return t.townInfo.happiness*=t.modifiers.happiness,t.townInfo.health*=t.modifiers.health,t.townInfo.community*=t.modifiers.community,t}function at(t,e,n){return(e.townLog||[]).unshift({message:t,day:e.environment.day,vibe:n}),localStorage.mute!="true"&&new Audio("alert.mp3").play(),e}function bt(t,e){e===void 0&&(e=0);let n=Math.pow(10,e);return t=parseFloat((t*n).toFixed(11)),+(Math.round(t)/n).toFixed(e)}function pp(t,e,n){let o,i,r,l,a;ue(t,sl,_=>n(7,o=_)),ue(t,$i,_=>n(8,i=_)),ue(t,Xi,_=>n(9,r=_)),ue(t,$t,_=>n(10,l=_)),ue(t,an,_=>n(11,a=_)),ue(t,Ee,_=>n(12,_));function s(_){_=Q(_),_=W(_),_=m(_),_=dp(_),_=ee(_),_=h(_);const D={food:_.resources.food,wood:_.resources.wood,stone:_.resources.stone,metal:_.resources.metal,bureaucracy:_.resources.bureaucracy,power:_.resources.power};_=R(_),_=E(_),_=N(_),_=$(_),_=ne(_),_=w(_);const x={food:_.resources.food,wood:_.resources.wood,stone:_.resources.stone,metal:_.resources.metal,bureaucracy:_.resources.bureaucracy,power:_.resources.power};return _.environment.day%14===0&&(_=mp(_)),_=fp(_,D,x),_}function u(_){return _=cp(_),_=p(_),_=te(_),_=pl(_),_=b(_),_=k(_),_}function f(_){return _=q(_),_=J(_),_=M(_),_}function c(_){return _=Y(_),_=ml(_),_=dl(_),_.overtime==!1&&(_=v(_),_=_),_=V(_),_=G(_),_}function d(){Ee.update(_=>{if(_==null||(_.tick++,_.tick%Fs!==0)||l||!_||_.endGameDetails.msg!==""&&_.overtime==!1||_.townInfo.population_count<=0)return _;try{return _.environment.day+=1,_.environment.day%7===0&&(_=s(_)),_.environment.day%30===0&&(_=u(_)),_.environment.day%90===0&&(_=f(_)),window.location.search.includes("debug=true")&&console.log(_),_=c(_),_}catch(D){return console.error("Error in game loop:",D),_}})}Ee.subscribe(_=>{_&&localStorage.setItem(Gt,JSON.stringify(_))}),an.subscribe(_=>{_&&localStorage.setItem(xo,JSON.stringify(_))});function m(_){let D=!1,x=!1,ie=!1,ae=!1;for(let Ie=0;Ie<_.plots.length;Ie++)for(let Me=0;Me<_.plots[Ie].length;Me++)if(_.plots[Ie][Me].active==!0&&_.plots[Ie][Me].type>-1){let Ye=re[_.plots[Ie][Me].type].id;Ye=="bank"&&(D=!0),Ye=="city_hall"&&(ie=!0),(Ye=="small_hospital"||Ye=="large_hospital")&&(x=!0),Ye=="lab"&&(ae=!0)}return _.hasBank=D,_.hasHospital=x,_.hasCityHall=ie,_.hasLab=ae,_}function p(_){const D=_.townInfo.productivity;let x=1;if(D>50&&D<100)x=1.05;else{if(D==100)return _;D<50?x=1.2:D>100&&D<125?x=.98:D>125&&D<150?x=.96:D>150&&D<175?x=.9:D>175&&D<200&&(x=.8)}const ie=_.townInfo.happiness;return _.townInfo.happiness*=x,x>1?_=at(`Happiness has gone up by ${Math.round(_.townInfo.happiness/ie*100)}% due to productivity.`,_,Qe.GOOD):_=at(`Happiness has gone down by ${100-Math.round(_.townInfo.happiness/ie*100)}% due to productivity.`,_,Qe.BAD),_}function h(_){return _.endGameDetails!=null||(_.townInfo.happiness<70&&_.last_warning_happiness+365<_.environment.day&&(Ot.set("Your citizens are very unhappy. You should do something about it."),_.last_warning_happiness=_.environment.day),_.townInfo.health<70&&_.last_warning_health+365<_.environment.day&&(Ot.set("Your citizens are very unhealthy. You should do something about it."),_.last_warning_health=_.environment.day)),_}const y=["Abigail","Elijah","Mabel","Silas","Beatrice","Clarence","Dorothy","Edgar","Florence","George","Harriet","Isaac","Josephine","Levi","Matilda","Nathaniel","Olive","Percy","Quincy","Rose","Samuel","Theodore","Ursula","Vincent","Winifred","Xavier","Yvette","Zachary","Amos","Betsy","Cecil","Delia","Emmett","Fanny","Gideon","Hazel","Irving","Jeannette","Karl","Lucinda","Mortimer","Nettie","Otis","Prudence","Rufus","Sophronia","Titus","Ulysses","Vera","Winston","Xenia","Yolanda","Zeke","Ada","Bernard","Cornelia","Duncan","Esther","Fletcher","Genevieve"],C=["Farmer","Blacksmith","Biscuit Sculptor","Baker","Carpenter","Chicken Whisperer","Fisher","Herbalist","Miner","Mason","Mustache Twirler","Brewer","Butcher","Candlemaker","Cloud Watcher","Dressmaker","Gardener","Hunter","Innkeeper","Jeweler","Locksmith","Miller","Painter","Potter","Quilter","Rancher","Saddler","Tanner","Upholsterer","Vintner","Watchmaker","Wheelwright","Wooly Sock Knitter","Yarn Spinner","Zodiac Interpreter","Archivist","Bookbinder","Cobbler","Dyer","Engraver","Fletcher","Glassblower","Haberdasher","Illuminator","Joiner","Knitter","Lace Maker","Mapmaker","Navigator","Orchardist","Potion Tester","Quarryman","Roofer","Soapmaker","Tobacconist","Undertaker","Victualler","Wainwright","Xylographer","Yeoman","Pumpkin Carver","Mud Pie Maker","Folk Tale Teller","Leaf Collector","Sunset Chaser","Dream Interpreter","Star Gazer"];function k(_){for(let D=0;D<_.plots.length;D++)for(let x=0;x<_.plots[D].length;x++)if(jr(D,x,_)&&_.plots[D][x].active==!0&&re[_.plots[D][x].type].type=="residential"&&Math.random()<.99){let ie=`👑🏠 ${y[Math.floor(Math.random()*y.length)]} the ${C[Math.floor(Math.random()*C.length)]}: `,ae=up(_);ie+=ae,ae!=""&&(_=at(ie,_,Qe.NORMAL))}return _}function w(_){const D=_.townInfo.population_count;return _.resources.food<D?(_.modifiers.happiness*=.95,_.modifiers.health*=.95,_=at("There isn't enough food for everyone!",_,Qe.BAD),_.resources.food=0):(_.townLog=_.townLog.filter(ie=>!ie.message.includes("There isn't enough food for everyone!")),_.resources.food-=D),_.resources.food=Math.round(_.resources.food),_}function R(_){const D=_.townInfo.productivity;let x=1;D<50?x=.5:D>50&&D<100?x=.75:D==100?x=1:D>100&&D<125?x=1.25:D>125&&D<150?x=1.75:D>150&&D<175?x=3:D>175&&D<200&&(x=5),x=ap(x,2);let ie=We("lumber_mill",_).length*1.25;ie===0&&(ie=1);for(let ae=0;ae<_.plots.length;ae++)for(let Ie=0;Ie<_.plots[ae].length;Ie++)if(_.plots[ae][Ie].active==!0&&_.plots[ae][Ie].type>-1){let Me=Bn(ae,Ie,_),Ye=jr(ae,Ie,_)?1.5:1,ce=re[_.plots[ae][Ie].type];ce.generated_resources!=null&&(_.resources.food+=Math.round(ce.generated_resources.food*x)*(Me?2:1)*Ye,_.resources.wood+=Math.round(ce.generated_resources.wood*x*ie)*Ye,_.resources.stone+=Math.round(ce.generated_resources.stone*x)*Ye,_.resources.metal+=Math.round(ce.generated_resources.metal*x)*Ye,_.resources.bureaucracy+=Math.round(ce.generated_resources.bureaucracy*x)*Ye)}return _.resources.food=Math.round(_.resources.food),_.resources.wood=Math.round(_.resources.wood),_.resources.stone=Math.round(_.resources.stone),_.resources.metal=Math.round(_.resources.metal),_.resources.bureaucracy=Math.round(_.resources.bureaucracy),_}var F;(function(_){_.food="food",_.wood="wood",_.stone="stone",_.metal="metal",_.bureaucracy="bureaucracy"})(F||(F={}));function N(_){for(let D=0;D<_.plots.length;D++)for(let x=0;x<_.plots[D].length;x++)if(_.plots[D][x].active==!0&&_.plots[D][x].type>-1){let ie=re[_.plots[D][x].type],ae=!1;Object.keys(ie.active_costs).forEach((Ie,Me)=>{const Ye=Object.values(ie.active_costs)[Me];Ie!="power"&&(_.townInfo.gold,Ie=="gold"?_.townInfo.gold<Ye?ae=!0:_.townInfo.gold-=Ye:_.resources[Ie]<Ye?ae=!0:_.resources[Ie]-=Ye)}),_.plots[D][x].disabled=ae,_.plots[D][x].disabled&&(_.townInfo.happiness-=1),ae&&re[_.plots[D][x].type].type=="residential"&&(_.townInfo.population_count-=1,_.townInfo.employees-=1)}return _}function $(_){let D=0;for(let x=0;x<_.plots.length;x++)for(let ie=0;ie<_.plots[x].length;ie++)if(_.plots[x][ie].active==!0&&_.plots[x][ie].type>-1){let ae=re[_.plots[x][ie].type];ae.active_costs.power!=0&&(D-=ae.active_costs.power),ae.generated_resources.power!=0&&(D+=ae.generated_resources.power)}return _.resources.power=D,_.resources.power<0&&(_.modifiers.happiness*.98,_.townInfo.happiness-=5,_=at("🔋 POWER SHORTAGE. HAPPINESS DROPPING THROUGH BLACKOUTS.",_,Qe.BAD)),_}function G(_){if(_.devMode)return _;let D=a;for(let x=0;x<nt.length;x++)D.achievements.find(ie=>ie[0]==nt[x].id)==null&&nt[x].check(_)&&(D.achievements.push([nt[x].id,_.environment.day,_.townInfo.name]),Oe($t,l=!0,l),Oe(Xi,r=!0,r));return an.update(()=>D),_}let L=!1;function V(_){if(L)return _;for(let D=_.currentTutorialStep;D<_.currentTutorialStep+1;D++)if(qt[D].isComplete(_)){Oe($i,i=!0,i),L=!0,setTimeout(()=>{Oe($i,i=!1,i),_.currentTutorialStep++,_.townInfo.gold+=qt[D].goldReward,L=!1},1e3);break}return _}function v(_){return _.townInfo.happiness<=3&&(_.townInfo.happiness=0,_.endGameDetails={msg:pt.happiness_zero,win:!1,still_playing:!1}),_.townInfo.health<=3&&(_.townInfo.health=3,_.endGameDetails={msg:pt.health_zero,win:!1,still_playing:!1}),_.townInfo.population_count<=0&&_.townInfo.population_max>0&&(_.townInfo.population_count=0,_.endGameDetails={msg:pt.population_zero,win:!1,still_playing:!1}),_}function b(_){let D=_.townInfo.population_count-_.townInfo.employees;if(D>0){let x=D*.2;x<15&&(x=15),_.townInfo.happiness-=x,_=at(D+pt.unemployment_num,_,Qe.BAD)}else _.townLog=_.townLog.filter(x=>!x.message.includes(pt.unemployment_num));return _}function M(_){let D=_.plotCounts.reduce((ie,ae)=>ie+ae,0),x=!1;for(let ie=0;ie<_.plotCounts.length;ie++)_.plotCounts[ie]==null||re[ie].check_for_variety!=!0||(_.difficulty,_.plotCounts[ie]/D>=.25&&(re[ie].title,x=!0));return x&&(_=at(pt.notEnoughVariety,_,Qe.BAD),_.modifiers.happiness*.95),_}function E(_){for(let D=0;D<_.economyAndLaws.enacted.length;D++){let x=cl.find(ie=>ie.id==_.economyAndLaws.enacted[D]);x!=null&&x.weekly_effect!=null&&(_=x.weekly_effect(_))}return _}function W(_){let D=_.townInfo.health,x=0;return D>50||D<Math.random()*50&&(D<25?(_=at(pt.sickAndDying,_,Qe.BAD),_.townInfo.happiness-=10,x=Math.round(_.townInfo.population_count*.1)):(_=at(pt.sickAndLeaving,_,Qe.BAD),_.townInfo.happiness-=5,x=Math.round(_.townInfo.population_count*.05)),_.townInfo.population_count-=x,_.townInfo.employees-=x),_}function q(_){return _.townInfo.community<100&&Math.random()*100<_.townInfo.community||(_.lastChangeDay+(Math.random()*500+365)<_.environment.day&&_.townInfo.population_count>0?_.townInfo.population_count>0&&(_.townInfo.population_count-=1,_.townInfo.employees-=1,_.modifiers.happiness-=.01,_=at(pt.bored,_,Qe.BAD)):_.townLog=_.townLog.filter(D=>!D.message.includes(pt.bored))),_}function J(_){if(_.townInfo.population_count<_.townInfo.population_max&&_.townInfo.happiness>50){let D=_.townInfo.population_max-_.townInfo.population_count,x=Math.round(_.townInfo.happiness/100*D);_.townInfo.population_count+=x,_.townInfo.population_count>_.townInfo.population_max&&(_.townInfo.population_count=_.townInfo.population_max),_.townInfo.employees+=x,_.townInfo.employees>_.townInfo.population_count&&(_.townInfo.employees=_.townInfo.population_count),_=at(x+pt.new_people_num,_,Qe.NORMAL)}if(_.townInfo.happiness<50&&_.townInfo.population_count>0){let D=Math.round((150-_.townInfo.happiness)/5);_.townInfo.population_count-=D,_.townInfo.employees>0&&(_.townInfo.employees-=D),_=at(D+pt.leave_town_num,_,Qe.BAD)}else _.townInfo.population_count==_.townInfo.population_max;return _}function Q(_){const D=Math.random();if(_.economyAndLaws.tax_rate>_.economyAndLaws.max_tax_rate&&_.townInfo.population_count>0){let x=1;_.hasBank&&(x=2);const ie=_.difficulty==0?.7:_.difficulty==1?.4:.2;D<ie&&_.economyAndLaws.tax_rate>_.economyAndLaws.max_tax_rate*2*x?(_.modifiers.happiness-=.02,_=at(pt.very_high_tax_rate+"  ("+_.economyAndLaws.tax_rate+"%)",_,Qe.BAD)):(_.modifiers.happiness-=.01,_=at(pt.high_tax_rate+"  ("+_.economyAndLaws.tax_rate*100+"%)",_,Qe.BAD))}return _}function ee(_){if(_.modifiers.happiness>1){let x=_.modifiers.happiness-1;_.modifiers.happiness-=x*.1,_.modifiers.happiness<1.02&&(_.modifiers.happiness=1)}if(_.modifiers.community>1){let x=_.modifiers.community-1;_.modifiers.community-=x*.1,_.modifiers.community<1.02&&(_.modifiers.community=1)}if(_.modifiers.health>1)if(We("healing_house",_).length>0){_=at(pt.hospital_advantage,_,Qe.GOOD);let x=_.modifiers.health-1;_.modifiers.health-=x*We("healing_house",_).length?.03:.06,_.modifiers.health<1.02&&(_.modifiers.health=1)}else{let x=_.modifiers.health-1;_.modifiers.health-=x*.1,_.modifiers.health<1.02&&(_.modifiers.health=1)}else We("healing_house",_).length>0&&(_.modifiers.health+=.1);return _}function Y(_){_.economyAndLaws.weeklyProfit=0;for(let D=0;D<_.plots.length;D++)for(let x=0;x<_.plots[D].length;x++)if(_.plots[D][x].active==!0&&_.plots[D][x].type>-1)if(_.plots[D][x].disabled===!0){const ie=re[_.plots[D][x].type],ae=me(ie.revenue_per_week,_,ie.type,D,x)*(_.townInfo.productivity/100)/7;_.townInfo.gold-=ae,_=at(`🚨 ${ie.title} at ${x}, ${D} is disabled and costing you $${ae} a week!`,_,Qe.BAD)}else{const ie=re[_.plots[D][x].type];let ae=me(ie.revenue_per_week,_,ie.type,D,x)*(_.townInfo.productivity/100)/7,Ie=Bn(D,x,_);ae*=Ie?2:1,_.townInfo.gold+=ae,_.economyAndLaws.weeklyProfit+=ae*7}return _}function te(_){return We("mine",_).length>0&&(_.modifiers.health-=.01,We("healing_house",_).length==0&&(_=at("The mine is actively hurting the health of the town. Time to look into a healing house.",_,Qe.BAD))),_}function ne(_){let D=0;for(let x=0;x<_.plots.length;x++)for(let ie=0;ie<_.plots[x].length;ie++)if(_.plots[x][ie].active==!0&&_.plots[x][ie].type>-1){let ae=re[_.plots[x][ie].type];ae.knowledge_points_per_month!=null&&(_.townInfo.knowledge_points+=Math.round(ae.knowledge_points_per_month/4),D+=ae.knowledge_points_per_month)}return _.resource_rate.knowledge=bt(D/4,0),_}function me(_,D,x,ie,ae){let Ie=D.townInfo.happiness/100;Ie>2?Ie=2:Ie<.75&&(Ie=.75),We("village_inn",D).length>0&&x=="shop"&&(Ie*=1.3),jr(ie,ae,D)&&(Ie*=2);let Me=Math.round(_*D.economyAndLaws.tax_rate*(D.townInfo.population_count/D.townInfo.population_max)*Ie*(D.economyAndLaws.enacted.includes("tax_free")?-1:1));return bt(Me,2)}return gr(async()=>{for(;;)localStorage.reset=="true"&&(ql(),localStorage.setItem("reset","false")),d(),await new Promise(_=>setTimeout(_,o/Fs))}),[d,dl,ml,ee,pl]}class hp extends we{constructor(e){super(),ye(this,e,pp,null,de,{mainGameThreadLoop:0,_checkExperiment:1,_fixVariables:2,_bringModifiersBackToNormal:3,_bringStatsBackToNormal:4},null,[-1,-1])}get mainGameThreadLoop(){return this.$$.ctx[0]}get _checkExperiment(){return dl}get _fixVariables(){return ml}get _bringModifiersBackToNormal(){return this.$$.ctx[3]}get _bringStatsBackToNormal(){return pl}}function _p(t){return t[t.length-1]}function yn(t){return Object.keys(t).reduce((e,n)=>t[n]===void 0?e:e+`${n}:${t[n]};`,"")}function Gr(t){return t?!0:void 0}yn({position:"absolute",opacity:0,"pointer-events":"none",margin:0,transform:"translateX(-100%)"});function Tc(t){if(t!==null)return t}function Bs(t){function e(n){return n(t),()=>{}}return{subscribe:e}}function Hr(t){if(!Zo)return null;const e=document.querySelector(`[data-melt-id="${t}"]`);return Tt(e)?e:null}const Go=t=>new Proxy(t,{get(e,n,o){return Reflect.get(e,n,o)},ownKeys(e){return Reflect.ownKeys(e).filter(n=>n!=="action")}}),js=t=>typeof t=="function";ht("empty");function ht(t,e){const{stores:n,action:o,returned:i}=e??{},r=(()=>{if(n&&i)return dn(n,a=>{const s=i(a);if(js(s)){const u=(...f)=>Go({...s(...f),[`data-melt-${t}`]:"",action:o??ze});return u.action=o??ze,u}return Go({...s,[`data-melt-${t}`]:"",action:o??ze})});{const a=i,s=a==null?void 0:a();if(js(s)){const u=(...f)=>Go({...s(...f),[`data-melt-${t}`]:"",action:o??ze});return u.action=o??ze,Bs(u)}return Bs(Go({...s,[`data-melt-${t}`]:"",action:o??ze}))}})(),l=o??(()=>{});return l.subscribe=r.subscribe,l}function qs(t,e){const{stores:n,returned:o,action:i}=e,{subscribe:r}=dn(n,a=>o(a).map(s=>Go({...s,[`data-melt-${t}`]:"",action:i??ze}))),l=i??(()=>{});return l.subscribe=r,l}function wr(t){const e=r=>r?`${t}-${r}`:t,n=r=>`data-melt-${t}${r?`-${r}`:""}`,o=r=>`[data-melt-${t}${r?`-${r}`:""}]`;return{name:e,attribute:n,selector:o,getEl:r=>document.querySelector(o(r))}}const Zo=typeof document<"u",Ic=t=>typeof t=="function";function gp(t){return t instanceof Document}function kr(t){return t instanceof Element}function Tt(t){return t instanceof HTMLElement}function Gs(t){return t.pointerType==="touch"}function bp(t){return t!==null&&typeof t=="object"}function vp(t){return bp(t)&&"subscribe"in t}function Kt(...t){return(...e)=>{for(const n of t)typeof n=="function"&&n(...e)}}function ze(){}function vt(t,e,n,o){const i=Array.isArray(e)?e:[e];return i.forEach(r=>t.addEventListener(r,n,o)),()=>{i.forEach(r=>t.removeEventListener(r,n,o))}}function At(t,e,n,o){const i=Array.isArray(e)?e:[e];if(typeof n=="function"){const r=wp(l=>n(l));return i.forEach(l=>t.addEventListener(l,r,o)),()=>{i.forEach(l=>t.removeEventListener(l,r,o))}}return()=>void 0}function yp(t){const e=t.currentTarget;if(!Tt(e))return null;const n=new CustomEvent(`m-${t.type}`,{detail:{originalEvent:t},cancelable:!0});return e.dispatchEvent(n),n}function wp(t){return e=>{const n=yp(e);if(!(n!=null&&n.defaultPrevented))return t(e)}}function Cr(t,...e){const n={};for(const o of Object.keys(t))e.includes(o)||(n[o]=t[o]);return n}function sn(t){return{...t,get:()=>ac(t)}}sn.writable=function(t){const e=Ue(t);let n=t;return{subscribe:e.subscribe,set(o){e.set(o),n=o},update(o){const i=o(n);e.set(i),n=i},get(){return n}}};sn.derived=function(t,e){const n=new Map,o=()=>{const r=Array.isArray(t)?t.map(l=>l.get()):t.get();return e(r)};return{get:o,subscribe:r=>{const l=[];return(Array.isArray(t)?t:[t]).forEach(s=>{l.push(s.subscribe(()=>{r(o())}))}),r(o()),n.set(r,l),()=>{const s=n.get(r);if(s)for(const u of s)u();n.delete(r)}}}};const Ar=(t,e)=>{const n=sn(t),o=(r,l)=>{n.update(a=>{const s=r(a);let u=s;return e&&(u=e({curr:a,next:s})),l==null||l(u),u})};return{...n,update:o,set:r=>{o(()=>r)}}};function Hl(t){return new Promise(e=>setTimeout(e,t))}let kp="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",Cp=(t=21)=>{let e="",n=t;for(;n--;)e+=kp[Math.random()*64|0];return e};function Ap(){return Cp(10)}function Vl(t){return t.reduce((e,n)=>(e[n]=Ap(),e),{})}const ut={ALT:"Alt",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",CAPS_LOCK:"CapsLock",CONTROL:"Control",DELETE:"Delete",END:"End",ENTER:"Enter",ESCAPE:"Escape",F1:"F1",F10:"F10",F11:"F11",F12:"F12",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",HOME:"Home",META:"Meta",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp",SHIFT:"Shift",SPACE:" ",TAB:"Tab",CTRL:"Control",ASTERISK:"*",A:"a",P:"p"},Mc=()=>typeof window<"u";function Sp(){const t=navigator.userAgentData;return(t==null?void 0:t.platform)??navigator.platform}const Oc=t=>Mc()&&t.test(Sp().toLowerCase()),Tp=()=>Mc()&&!!navigator.maxTouchPoints,Ip=()=>Oc(/^mac/)&&!Tp(),Mp=()=>Oc(/mac|iphone|ipad|ipod/i),Op=()=>Mp()&&!Ip();function Pp(t){const e=t.slice();return e.sort(Ep),Np(e)}function Np(t){if(t.length<=1)return t.slice();const e=[];for(let o=0;o<t.length;o++){const i=t[o];for(;e.length>=2;){const r=e[e.length-1],l=e[e.length-2];if((r.x-l.x)*(i.y-l.y)>=(r.y-l.y)*(i.x-l.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let o=t.length-1;o>=0;o--){const i=t[o];for(;n.length>=2;){const r=n[n.length-1],l=n[n.length-2];if((r.x-l.x)*(i.y-l.y)>=(r.y-l.y)*(i.x-l.x))n.pop();else break}n.push(i)}return n.pop(),e.length==1&&n.length==1&&e[0].x==n[0].x&&e[0].y==n[0].y?e:e.concat(n)}function Ep(t,e){return t.x<e.x?-1:t.x>e.x?1:t.y<e.y?-1:t.y>e.y?1:0}function $p(t){const e=t.getBoundingClientRect();return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.right,y:e.bottom},{x:e.left,y:e.bottom}]}function Rp(t){const e=t.flatMap(n=>$p(n));return Pp(e)}function Lp(t,e){let n=!1;for(let o=0,i=e.length-1;o<e.length;i=o++){const r=e[o].x,l=e[o].y,a=e[i].x,s=e[i].y;l>t.y!=s>t.y&&t.x<(a-r)*(t.y-l)/(s-l)+r&&(n=!n)}return n}const Vr="data-melt-scroll-lock";function Hs(t,e){if(!t)return;const n=t.style.cssText;return Object.assign(t.style,e),()=>{t.style.cssText=n}}function Dp(t,e,n){if(!t)return;const o=t.style.getPropertyValue(e);return t.style.setProperty(e,n),()=>{o?t.style.setProperty(e,o):t.style.removeProperty(e)}}function Fp(t){const e=t.getBoundingClientRect().left;return Math.round(e)+t.scrollLeft?"paddingLeft":"paddingRight"}function Bp(t){const e=document,n=e.defaultView??window,{documentElement:o,body:i}=e;if(i.hasAttribute(Vr))return ze;i.setAttribute(Vr,"");const l=n.innerWidth-o.clientWidth,a=()=>Dp(o,"--scrollbar-width",`${l}px`),s=Fp(o),u=n.getComputedStyle(i)[s],f=()=>Hs(i,{overflow:"hidden",[s]:`calc(${u} + ${l}px)`}),c=()=>{const{scrollX:m,scrollY:p,visualViewport:h}=n,y=(h==null?void 0:h.offsetLeft)??0,C=(h==null?void 0:h.offsetTop)??0,k=Hs(i,{position:"fixed",overflow:"hidden",top:`${-(p-Math.floor(C))}px`,left:`${-(m-Math.floor(y))}px`,right:"0",[s]:`calc(${u} + ${l}px)`});return()=>{k==null||k(),n.scrollTo(m,p)}},d=[a(),Op()?c():f()];return()=>{d.forEach(m=>m==null?void 0:m()),i.removeAttribute(Vr)}}const jp=t=>{try{sm(t)}catch{return t}};function Et(t,e){let n;const o=dn(t,r=>{n==null||n(),n=e(r)}).subscribe(ze),i=()=>{o(),n==null||n()};return jp(i),i}function jn(t){const e={};return Object.keys(t).forEach(n=>{const o=n,i=t[o];e[o]=sn(Ue(i))}),e}function qp(t){let e=t.parentElement;for(;Tt(e)&&!e.hasAttribute("data-portal");)e=e.parentElement;return e||"body"}function Pc(t,e){return e!==void 0?e:qp(t)==="body"?document.body:null}async function Vs(t){const{prop:e,defaultEl:n}=t;if(await Promise.all([Hl(1),Dl]),e===void 0){n==null||n.focus();return}const o=Ic(e)?e(n):e;if(typeof o=="string"){const i=document.querySelector(o);if(!Tt(i))return;i.focus()}else Tt(o)&&o.focus()}function Wr(t,e,n,o){const i=(t-(isNaN(e)?0:e))%o;let r=Math.abs(i)*2>=o?t+Math.sign(i)*(o-Math.abs(i)):t-i;isNaN(e)?!isNaN(n)&&r>n&&(r=Math.floor(n/o)*o):r<e?r=e:!isNaN(n)&&r>n&&(r=e+Math.floor((n-e)/o)*o);const l=o.toString(),a=l.indexOf("."),s=a>=0?l.length-a:0;if(s>0){const u=Math.pow(10,s);r=Math.round(r*u)/u}return r}Ln(void 0,t=>{function e(o){t(o),t(void 0)}return vt(document,"pointerup",e,{passive:!1,capture:!0})});const Gp=Ln(void 0,t=>{function e(o){o&&o.key===ut.ESCAPE&&t(o),t(void 0)}return vt(document,"keydown",e,{passive:!1})}),Ws=(t,e={})=>{let n=ze;function o(i={}){n();const r={enabled:!0,...i},l=vp(r.enabled)?r.enabled:Ln(r.enabled);n=Kt(Gp.subscribe(a=>{var u;if(!a||!ac(l))return;const s=a.target;if(!(!Tt(s)||s.closest("[data-escapee]")!==t)){if(a.preventDefault(),r.ignore){if(Ic(r.ignore)){if(r.ignore(a))return}else if(Array.isArray(r.ignore)&&r.ignore.length>0&&r.ignore.some(f=>f&&s===f))return}(u=r.handler)==null||u.call(r,a)}}),Et(l,a=>{a?t.dataset.escapee="":delete t.dataset.escapee}))}return o(e),{update:o,destroy(){t.removeAttribute("data-escapee"),n()}}},kn=Math.min,Mt=Math.max,Zi=Math.round,Ci=Math.floor,Cn=t=>({x:t,y:t}),Hp={left:"right",right:"left",bottom:"top",top:"bottom"},Vp={start:"end",end:"start"};function hl(t,e,n){return Mt(t,kn(e,n))}function To(t,e){return typeof t=="function"?t(e):t}function An(t){return t.split("-")[0]}function Io(t){return t.split("-")[1]}function Nc(t){return t==="x"?"y":"x"}function Wl(t){return t==="y"?"height":"width"}function ii(t){return["top","bottom"].includes(An(t))?"y":"x"}function Yl(t){return Nc(ii(t))}function Wp(t,e,n){n===void 0&&(n=!1);const o=Io(t),i=Yl(t),r=Wl(i);let l=i==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return e.reference[r]>e.floating[r]&&(l=Qi(l)),[l,Qi(l)]}function Yp(t){const e=Qi(t);return[_l(t),e,_l(e)]}function _l(t){return t.replace(/start|end/g,e=>Vp[e])}function Up(t,e,n){const o=["left","right"],i=["right","left"],r=["top","bottom"],l=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:o:e?o:i;case"left":case"right":return e?r:l;default:return[]}}function Kp(t,e,n,o){const i=Io(t);let r=Up(An(t),n==="start",o);return i&&(r=r.map(l=>l+"-"+i),e&&(r=r.concat(r.map(_l)))),r}function Qi(t){return t.replace(/left|right|bottom|top/g,e=>Hp[e])}function Xp(t){return{top:0,right:0,bottom:0,left:0,...t}}function Ec(t){return typeof t!="number"?Xp(t):{top:t,right:t,bottom:t,left:t}}function zi(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function Ys(t,e,n){let{reference:o,floating:i}=t;const r=ii(e),l=Yl(e),a=Wl(l),s=An(e),u=r==="y",f=o.x+o.width/2-i.width/2,c=o.y+o.height/2-i.height/2,d=o[a]/2-i[a]/2;let m;switch(s){case"top":m={x:f,y:o.y-i.height};break;case"bottom":m={x:f,y:o.y+o.height};break;case"right":m={x:o.x+o.width,y:c};break;case"left":m={x:o.x-i.width,y:c};break;default:m={x:o.x,y:o.y}}switch(Io(e)){case"start":m[l]-=d*(n&&u?-1:1);break;case"end":m[l]+=d*(n&&u?-1:1);break}return m}const Jp=async(t,e,n)=>{const{placement:o="bottom",strategy:i="absolute",middleware:r=[],platform:l}=n,a=r.filter(Boolean),s=await(l.isRTL==null?void 0:l.isRTL(e));let u=await l.getElementRects({reference:t,floating:e,strategy:i}),{x:f,y:c}=Ys(u,o,s),d=o,m={},p=0;for(let h=0;h<a.length;h++){const{name:y,fn:C}=a[h],{x:k,y:w,data:R,reset:F}=await C({x:f,y:c,initialPlacement:o,placement:d,strategy:i,middlewareData:m,rects:u,platform:l,elements:{reference:t,floating:e}});f=k??f,c=w??c,m={...m,[y]:{...m[y],...R}},F&&p<=50&&(p++,typeof F=="object"&&(F.placement&&(d=F.placement),F.rects&&(u=F.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:i}):F.rects),{x:f,y:c}=Ys(u,d,s)),h=-1)}return{x:f,y:c,placement:d,strategy:i,middlewareData:m}};async function Ul(t,e){var n;e===void 0&&(e={});const{x:o,y:i,platform:r,rects:l,elements:a,strategy:s}=t,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:c="floating",altBoundary:d=!1,padding:m=0}=To(e,t),p=Ec(m),y=a[d?c==="floating"?"reference":"floating":c],C=zi(await r.getClippingRect({element:(n=await(r.isElement==null?void 0:r.isElement(y)))==null||n?y:y.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(a.floating)),boundary:u,rootBoundary:f,strategy:s})),k=c==="floating"?{...l.floating,x:o,y:i}:l.reference,w=await(r.getOffsetParent==null?void 0:r.getOffsetParent(a.floating)),R=await(r.isElement==null?void 0:r.isElement(w))?await(r.getScale==null?void 0:r.getScale(w))||{x:1,y:1}:{x:1,y:1},F=zi(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:k,offsetParent:w,strategy:s}):k);return{top:(C.top-F.top+p.top)/R.y,bottom:(F.bottom-C.bottom+p.bottom)/R.y,left:(C.left-F.left+p.left)/R.x,right:(F.right-C.right+p.right)/R.x}}const xp=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:o,placement:i,rects:r,platform:l,elements:a,middlewareData:s}=e,{element:u,padding:f=0}=To(t,e)||{};if(u==null)return{};const c=Ec(f),d={x:n,y:o},m=Yl(i),p=Wl(m),h=await l.getDimensions(u),y=m==="y",C=y?"top":"left",k=y?"bottom":"right",w=y?"clientHeight":"clientWidth",R=r.reference[p]+r.reference[m]-d[m]-r.floating[p],F=d[m]-r.reference[m],N=await(l.getOffsetParent==null?void 0:l.getOffsetParent(u));let $=N?N[w]:0;(!$||!await(l.isElement==null?void 0:l.isElement(N)))&&($=a.floating[w]||r.floating[p]);const G=R/2-F/2,L=$/2-h[p]/2-1,V=kn(c[C],L),v=kn(c[k],L),b=V,M=$-h[p]-v,E=$/2-h[p]/2+G,W=hl(b,E,M),q=!s.arrow&&Io(i)!=null&&E!==W&&r.reference[p]/2-(E<b?V:v)-h[p]/2<0,J=q?E<b?E-b:E-M:0;return{[m]:d[m]+J,data:{[m]:W,centerOffset:E-W-J,...q&&{alignmentOffset:J}},reset:q}}}),Zp=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,o;const{placement:i,middlewareData:r,rects:l,initialPlacement:a,platform:s,elements:u}=e,{mainAxis:f=!0,crossAxis:c=!0,fallbackPlacements:d,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:h=!0,...y}=To(t,e);if((n=r.arrow)!=null&&n.alignmentOffset)return{};const C=An(i),k=An(a)===a,w=await(s.isRTL==null?void 0:s.isRTL(u.floating)),R=d||(k||!h?[Qi(a)]:Yp(a));!d&&p!=="none"&&R.push(...Kp(a,h,p,w));const F=[a,...R],N=await Ul(e,y),$=[];let G=((o=r.flip)==null?void 0:o.overflows)||[];if(f&&$.push(N[C]),c){const b=Wp(i,l,w);$.push(N[b[0]],N[b[1]])}if(G=[...G,{placement:i,overflows:$}],!$.every(b=>b<=0)){var L,V;const b=(((L=r.flip)==null?void 0:L.index)||0)+1,M=F[b];if(M)return{data:{index:b,overflows:G},reset:{placement:M}};let E=(V=G.filter(W=>W.overflows[0]<=0).sort((W,q)=>W.overflows[1]-q.overflows[1])[0])==null?void 0:V.placement;if(!E)switch(m){case"bestFit":{var v;const W=(v=G.map(q=>[q.placement,q.overflows.filter(J=>J>0).reduce((J,Q)=>J+Q,0)]).sort((q,J)=>q[1]-J[1])[0])==null?void 0:v[0];W&&(E=W);break}case"initialPlacement":E=a;break}if(i!==E)return{reset:{placement:E}}}return{}}}};async function Qp(t,e){const{placement:n,platform:o,elements:i}=t,r=await(o.isRTL==null?void 0:o.isRTL(i.floating)),l=An(n),a=Io(n),s=ii(n)==="y",u=["left","top"].includes(l)?-1:1,f=r&&s?-1:1,c=To(e,t);let{mainAxis:d,crossAxis:m,alignmentAxis:p}=typeof c=="number"?{mainAxis:c,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...c};return a&&typeof p=="number"&&(m=a==="end"?p*-1:p),s?{x:m*f,y:d*u}:{x:d*u,y:m*f}}const zp=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,o;const{x:i,y:r,placement:l,middlewareData:a}=e,s=await Qp(e,t);return l===((n=a.offset)==null?void 0:n.placement)&&(o=a.arrow)!=null&&o.alignmentOffset?{}:{x:i+s.x,y:r+s.y,data:{...s,placement:l}}}}},eh=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:o,placement:i}=e,{mainAxis:r=!0,crossAxis:l=!1,limiter:a={fn:y=>{let{x:C,y:k}=y;return{x:C,y:k}}},...s}=To(t,e),u={x:n,y:o},f=await Ul(e,s),c=ii(An(i)),d=Nc(c);let m=u[d],p=u[c];if(r){const y=d==="y"?"top":"left",C=d==="y"?"bottom":"right",k=m+f[y],w=m-f[C];m=hl(k,m,w)}if(l){const y=c==="y"?"top":"left",C=c==="y"?"bottom":"right",k=p+f[y],w=p-f[C];p=hl(k,p,w)}const h=a.fn({...e,[d]:m,[c]:p});return{...h,data:{x:h.x-n,y:h.y-o}}}}},th=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){const{placement:n,rects:o,platform:i,elements:r}=e,{apply:l=()=>{},...a}=To(t,e),s=await Ul(e,a),u=An(n),f=Io(n),c=ii(n)==="y",{width:d,height:m}=o.floating;let p,h;u==="top"||u==="bottom"?(p=u,h=f===(await(i.isRTL==null?void 0:i.isRTL(r.floating))?"start":"end")?"left":"right"):(h=u,p=f==="end"?"top":"bottom");const y=m-s[p],C=d-s[h],k=!e.middlewareData.shift;let w=y,R=C;if(c){const N=d-s.left-s.right;R=f||k?kn(C,N):N}else{const N=m-s.top-s.bottom;w=f||k?kn(y,N):N}if(k&&!f){const N=Mt(s.left,0),$=Mt(s.right,0),G=Mt(s.top,0),L=Mt(s.bottom,0);c?R=d-2*(N!==0||$!==0?N+$:Mt(s.left,s.right)):w=m-2*(G!==0||L!==0?G+L:Mt(s.top,s.bottom))}await l({...e,availableWidth:R,availableHeight:w});const F=await i.getDimensions(r.floating);return d!==F.width||m!==F.height?{reset:{rects:!0}}:{}}}};function Sn(t){return $c(t)?(t.nodeName||"").toLowerCase():"#document"}function Pt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function mn(t){var e;return(e=($c(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function $c(t){return t instanceof Node||t instanceof Pt(t).Node}function un(t){return t instanceof Element||t instanceof Pt(t).Element}function Zt(t){return t instanceof HTMLElement||t instanceof Pt(t).HTMLElement}function Us(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Pt(t).ShadowRoot}function ri(t){const{overflow:e,overflowX:n,overflowY:o,display:i}=Rt(t);return/auto|scroll|overlay|hidden|clip/.test(e+o+n)&&!["inline","contents"].includes(i)}function nh(t){return["table","td","th"].includes(Sn(t))}function Kl(t){const e=Xl(),n=Rt(t);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(o=>(n.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(n.contain||"").includes(o))}function oh(t){let e=yo(t);for(;Zt(e)&&!Sr(e);){if(Kl(e))return e;e=yo(e)}return null}function Xl(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Sr(t){return["html","body","#document"].includes(Sn(t))}function Rt(t){return Pt(t).getComputedStyle(t)}function Tr(t){return un(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function yo(t){if(Sn(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Us(t)&&t.host||mn(t);return Us(e)?e.host:e}function Rc(t){const e=yo(t);return Sr(e)?t.ownerDocument?t.ownerDocument.body:t.body:Zt(e)&&ri(e)?e:Rc(e)}function Qo(t,e,n){var o;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=Rc(t),r=i===((o=t.ownerDocument)==null?void 0:o.body),l=Pt(i);return r?e.concat(l,l.visualViewport||[],ri(i)?i:[],l.frameElement&&n?Qo(l.frameElement):[]):e.concat(i,Qo(i,[],n))}function Lc(t){const e=Rt(t);let n=parseFloat(e.width)||0,o=parseFloat(e.height)||0;const i=Zt(t),r=i?t.offsetWidth:n,l=i?t.offsetHeight:o,a=Zi(n)!==r||Zi(o)!==l;return a&&(n=r,o=l),{width:n,height:o,$:a}}function Jl(t){return un(t)?t:t.contextElement}function _o(t){const e=Jl(t);if(!Zt(e))return Cn(1);const n=e.getBoundingClientRect(),{width:o,height:i,$:r}=Lc(e);let l=(r?Zi(n.width):n.width)/o,a=(r?Zi(n.height):n.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!a||!Number.isFinite(a))&&(a=1),{x:l,y:a}}const ih=Cn(0);function Dc(t){const e=Pt(t);return!Xl()||!e.visualViewport?ih:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function rh(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Pt(t)?!1:e}function qn(t,e,n,o){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),r=Jl(t);let l=Cn(1);e&&(o?un(o)&&(l=_o(o)):l=_o(t));const a=rh(r,n,o)?Dc(r):Cn(0);let s=(i.left+a.x)/l.x,u=(i.top+a.y)/l.y,f=i.width/l.x,c=i.height/l.y;if(r){const d=Pt(r),m=o&&un(o)?Pt(o):o;let p=d,h=p.frameElement;for(;h&&o&&m!==p;){const y=_o(h),C=h.getBoundingClientRect(),k=Rt(h),w=C.left+(h.clientLeft+parseFloat(k.paddingLeft))*y.x,R=C.top+(h.clientTop+parseFloat(k.paddingTop))*y.y;s*=y.x,u*=y.y,f*=y.x,c*=y.y,s+=w,u+=R,p=Pt(h),h=p.frameElement}}return zi({width:f,height:c,x:s,y:u})}const lh=[":popover-open",":modal"];function Fc(t){return lh.some(e=>{try{return t.matches(e)}catch{return!1}})}function sh(t){let{elements:e,rect:n,offsetParent:o,strategy:i}=t;const r=i==="fixed",l=mn(o),a=e?Fc(e.floating):!1;if(o===l||a&&r)return n;let s={scrollLeft:0,scrollTop:0},u=Cn(1);const f=Cn(0),c=Zt(o);if((c||!c&&!r)&&((Sn(o)!=="body"||ri(l))&&(s=Tr(o)),Zt(o))){const d=qn(o);u=_o(o),f.x=d.x+o.clientLeft,f.y=d.y+o.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-s.scrollLeft*u.x+f.x,y:n.y*u.y-s.scrollTop*u.y+f.y}}function ah(t){return Array.from(t.getClientRects())}function Bc(t){return qn(mn(t)).left+Tr(t).scrollLeft}function uh(t){const e=mn(t),n=Tr(t),o=t.ownerDocument.body,i=Mt(e.scrollWidth,e.clientWidth,o.scrollWidth,o.clientWidth),r=Mt(e.scrollHeight,e.clientHeight,o.scrollHeight,o.clientHeight);let l=-n.scrollLeft+Bc(t);const a=-n.scrollTop;return Rt(o).direction==="rtl"&&(l+=Mt(e.clientWidth,o.clientWidth)-i),{width:i,height:r,x:l,y:a}}function fh(t,e){const n=Pt(t),o=mn(t),i=n.visualViewport;let r=o.clientWidth,l=o.clientHeight,a=0,s=0;if(i){r=i.width,l=i.height;const u=Xl();(!u||u&&e==="fixed")&&(a=i.offsetLeft,s=i.offsetTop)}return{width:r,height:l,x:a,y:s}}function ch(t,e){const n=qn(t,!0,e==="fixed"),o=n.top+t.clientTop,i=n.left+t.clientLeft,r=Zt(t)?_o(t):Cn(1),l=t.clientWidth*r.x,a=t.clientHeight*r.y,s=i*r.x,u=o*r.y;return{width:l,height:a,x:s,y:u}}function Ks(t,e,n){let o;if(e==="viewport")o=fh(t,n);else if(e==="document")o=uh(mn(t));else if(un(e))o=ch(e,n);else{const i=Dc(t);o={...e,x:e.x-i.x,y:e.y-i.y}}return zi(o)}function jc(t,e){const n=yo(t);return n===e||!un(n)||Sr(n)?!1:Rt(n).position==="fixed"||jc(n,e)}function dh(t,e){const n=e.get(t);if(n)return n;let o=Qo(t,[],!1).filter(a=>un(a)&&Sn(a)!=="body"),i=null;const r=Rt(t).position==="fixed";let l=r?yo(t):t;for(;un(l)&&!Sr(l);){const a=Rt(l),s=Kl(l);!s&&a.position==="fixed"&&(i=null),(r?!s&&!i:!s&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||ri(l)&&!s&&jc(t,l))?o=o.filter(f=>f!==l):i=a,l=yo(l)}return e.set(t,o),o}function mh(t){let{element:e,boundary:n,rootBoundary:o,strategy:i}=t;const l=[...n==="clippingAncestors"?dh(e,this._c):[].concat(n),o],a=l[0],s=l.reduce((u,f)=>{const c=Ks(e,f,i);return u.top=Mt(c.top,u.top),u.right=kn(c.right,u.right),u.bottom=kn(c.bottom,u.bottom),u.left=Mt(c.left,u.left),u},Ks(e,a,i));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}}function ph(t){const{width:e,height:n}=Lc(t);return{width:e,height:n}}function hh(t,e,n){const o=Zt(e),i=mn(e),r=n==="fixed",l=qn(t,!0,r,e);let a={scrollLeft:0,scrollTop:0};const s=Cn(0);if(o||!o&&!r)if((Sn(e)!=="body"||ri(i))&&(a=Tr(e)),o){const c=qn(e,!0,r,e);s.x=c.x+e.clientLeft,s.y=c.y+e.clientTop}else i&&(s.x=Bc(i));const u=l.left+a.scrollLeft-s.x,f=l.top+a.scrollTop-s.y;return{x:u,y:f,width:l.width,height:l.height}}function Xs(t,e){return!Zt(t)||Rt(t).position==="fixed"?null:e?e(t):t.offsetParent}function qc(t,e){const n=Pt(t);if(!Zt(t)||Fc(t))return n;let o=Xs(t,e);for(;o&&nh(o)&&Rt(o).position==="static";)o=Xs(o,e);return o&&(Sn(o)==="html"||Sn(o)==="body"&&Rt(o).position==="static"&&!Kl(o))?n:o||oh(t)||n}const _h=async function(t){const e=this.getOffsetParent||qc,n=this.getDimensions;return{reference:hh(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,...await n(t.floating)}}};function gh(t){return Rt(t).direction==="rtl"}const bh={convertOffsetParentRelativeRectToViewportRelativeRect:sh,getDocumentElement:mn,getClippingRect:mh,getOffsetParent:qc,getElementRects:_h,getClientRects:ah,getDimensions:ph,getScale:_o,isElement:un,isRTL:gh};function vh(t,e){let n=null,o;const i=mn(t);function r(){var a;clearTimeout(o),(a=n)==null||a.disconnect(),n=null}function l(a,s){a===void 0&&(a=!1),s===void 0&&(s=1),r();const{left:u,top:f,width:c,height:d}=t.getBoundingClientRect();if(a||e(),!c||!d)return;const m=Ci(f),p=Ci(i.clientWidth-(u+c)),h=Ci(i.clientHeight-(f+d)),y=Ci(u),k={rootMargin:-m+"px "+-p+"px "+-h+"px "+-y+"px",threshold:Mt(0,kn(1,s))||1};let w=!0;function R(F){const N=F[0].intersectionRatio;if(N!==s){if(!w)return l();N?l(!1,N):o=setTimeout(()=>{l(!1,1e-7)},100)}w=!1}try{n=new IntersectionObserver(R,{...k,root:i.ownerDocument})}catch{n=new IntersectionObserver(R,k)}n.observe(t)}return l(!0),r}function yh(t,e,n,o){o===void 0&&(o={});const{ancestorScroll:i=!0,ancestorResize:r=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:s=!1}=o,u=Jl(t),f=i||r?[...u?Qo(u):[],...Qo(e)]:[];f.forEach(C=>{i&&C.addEventListener("scroll",n,{passive:!0}),r&&C.addEventListener("resize",n)});const c=u&&a?vh(u,n):null;let d=-1,m=null;l&&(m=new ResizeObserver(C=>{let[k]=C;k&&k.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(e)})),n()}),u&&!s&&m.observe(u),m.observe(e));let p,h=s?qn(t):null;s&&y();function y(){const C=qn(t);h&&(C.x!==h.x||C.y!==h.y||C.width!==h.width||C.height!==h.height)&&n(),h=C,p=requestAnimationFrame(y)}return n(),()=>{var C;f.forEach(k=>{i&&k.removeEventListener("scroll",n),r&&k.removeEventListener("resize",n)}),c==null||c(),(C=m)==null||C.disconnect(),m=null,s&&cancelAnimationFrame(p)}}const wh=eh,kh=Zp,Ch=th,Ah=xp,Sh=(t,e,n)=>{const o=new Map,i={platform:bh,...n},r={...i.platform,_c:o};return Jp(t,e,{...i,platform:r})},Th={strategy:"absolute",placement:"top",gutter:5,flip:!0,sameWidth:!1,overflowPadding:8},Ih={bottom:"rotate(45deg)",left:"rotate(135deg)",top:"rotate(225deg)",right:"rotate(315deg)"};function Mh(t,e,n={}){if(!e||!t||n===null)return{destroy:ze};const o={...Th,...n},i=e.querySelector("[data-arrow=true]"),r=[];o.flip&&r.push(kh({boundary:o.boundary,padding:o.overflowPadding}));const l=Tt(i)?i.offsetHeight/2:0;if(o.gutter||o.offset){const s=o.gutter?{mainAxis:o.gutter}:o.offset;(s==null?void 0:s.mainAxis)!=null&&(s.mainAxis+=l),r.push(zp(s))}r.push(wh({boundary:o.boundary,crossAxis:o.overlap,padding:o.overflowPadding})),i&&r.push(Ah({element:i,padding:8})),r.push(Ch({padding:o.overflowPadding,apply({rects:s,availableHeight:u,availableWidth:f}){o.sameWidth&&Object.assign(e.style,{width:`${Math.round(s.reference.width)}px`,minWidth:"unset"}),o.fitViewport&&Object.assign(e.style,{maxWidth:`${f}px`,maxHeight:`${u}px`})}}));function a(){if(!t||!e)return;const{placement:s,strategy:u}=o;Sh(t,e,{placement:s,middleware:r,strategy:u}).then(f=>{const c=Math.round(f.x),d=Math.round(f.y);if(Object.assign(e.style,{position:o.strategy,top:`${d}px`,left:`${c}px`}),Tt(i)&&f.middlewareData.arrow){const{x:m,y:p}=f.middlewareData.arrow,h=f.placement.split("-")[0];Object.assign(i.style,{position:"absolute",left:m!=null?`${m}px`:"",top:p!=null?`${p}px`:"",[h]:`calc(100% - ${l}px)`,transform:Ih[h],backgroundColor:"inherit",zIndex:"inherit"})}return f})}return Object.assign(e.style,{position:o.strategy}),{destroy:yh(t,e,a)}}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Gc=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],er=Gc.join(","),Hc=typeof Element>"u",Gn=Hc?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,tr=!Hc&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},nr=function t(e,n){var o;n===void 0&&(n=!0);var i=e==null||(o=e.getAttribute)===null||o===void 0?void 0:o.call(e,"inert"),r=i===""||i==="true",l=r||n&&e&&t(e.parentNode);return l},Oh=function(e){var n,o=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"contenteditable");return o===""||o==="true"},Vc=function(e,n,o){if(nr(e))return[];var i=Array.prototype.slice.apply(e.querySelectorAll(er));return n&&Gn.call(e,er)&&i.unshift(e),i=i.filter(o),i},Wc=function t(e,n,o){for(var i=[],r=Array.from(e);r.length;){var l=r.shift();if(!nr(l,!1))if(l.tagName==="SLOT"){var a=l.assignedElements(),s=a.length?a:l.children,u=t(s,!0,o);o.flatten?i.push.apply(i,u):i.push({scopeParent:l,candidates:u})}else{var f=Gn.call(l,er);f&&o.filter(l)&&(n||!e.includes(l))&&i.push(l);var c=l.shadowRoot||typeof o.getShadowRoot=="function"&&o.getShadowRoot(l),d=!nr(c,!1)&&(!o.shadowRootFilter||o.shadowRootFilter(l));if(c&&d){var m=t(c===!0?l.children:c.children,!0,o);o.flatten?i.push.apply(i,m):i.push({scopeParent:l,candidates:m})}else r.unshift.apply(r,l.children)}}return i},Yc=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},Nn=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||Oh(e))&&!Yc(e)?0:e.tabIndex},Ph=function(e,n){var o=Nn(e);return o<0&&n&&!Yc(e)?0:o},Nh=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},Uc=function(e){return e.tagName==="INPUT"},Eh=function(e){return Uc(e)&&e.type==="hidden"},$h=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(o){return o.tagName==="SUMMARY"});return n},Rh=function(e,n){for(var o=0;o<e.length;o++)if(e[o].checked&&e[o].form===n)return e[o]},Lh=function(e){if(!e.name)return!0;var n=e.form||tr(e),o=function(a){return n.querySelectorAll('input[type="radio"][name="'+a+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=o(window.CSS.escape(e.name));else try{i=o(e.name)}catch(l){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",l.message),!1}var r=Rh(i,e.form);return!r||r===e},Dh=function(e){return Uc(e)&&e.type==="radio"},Fh=function(e){return Dh(e)&&!Lh(e)},Bh=function(e){var n,o=e&&tr(e),i=(n=o)===null||n===void 0?void 0:n.host,r=!1;if(o&&o!==e){var l,a,s;for(r=!!((l=i)!==null&&l!==void 0&&(a=l.ownerDocument)!==null&&a!==void 0&&a.contains(i)||e!=null&&(s=e.ownerDocument)!==null&&s!==void 0&&s.contains(e));!r&&i;){var u,f,c;o=tr(i),i=(u=o)===null||u===void 0?void 0:u.host,r=!!((f=i)!==null&&f!==void 0&&(c=f.ownerDocument)!==null&&c!==void 0&&c.contains(i))}}return r},Js=function(e){var n=e.getBoundingClientRect(),o=n.width,i=n.height;return o===0&&i===0},jh=function(e,n){var o=n.displayCheck,i=n.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var r=Gn.call(e,"details>summary:first-of-type"),l=r?e.parentElement:e;if(Gn.call(l,"details:not([open]) *"))return!0;if(!o||o==="full"||o==="legacy-full"){if(typeof i=="function"){for(var a=e;e;){var s=e.parentElement,u=tr(e);if(s&&!s.shadowRoot&&i(s)===!0)return Js(e);e.assignedSlot?e=e.assignedSlot:!s&&u!==e.ownerDocument?e=u.host:e=s}e=a}if(Bh(e))return!e.getClientRects().length;if(o!=="legacy-full")return!0}else if(o==="non-zero-area")return Js(e);return!1},qh=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var o=0;o<n.children.length;o++){var i=n.children.item(o);if(i.tagName==="LEGEND")return Gn.call(n,"fieldset[disabled] *")?!0:!i.contains(e)}return!0}n=n.parentElement}return!1},or=function(e,n){return!(n.disabled||nr(n)||Eh(n)||jh(n,e)||$h(n)||qh(n))},gl=function(e,n){return!(Fh(n)||Nn(n)<0||!or(e,n))},Gh=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},Hh=function t(e){var n=[],o=[];return e.forEach(function(i,r){var l=!!i.scopeParent,a=l?i.scopeParent:i,s=Ph(a,l),u=l?t(i.candidates):a;s===0?l?n.push.apply(n,u):n.push(a):o.push({documentOrder:r,tabIndex:s,item:i,isScope:l,content:u})}),o.sort(Nh).reduce(function(i,r){return r.isScope?i.push.apply(i,r.content):i.push(r.content),i},[]).concat(n)},Vh=function(e,n){n=n||{};var o;return n.getShadowRoot?o=Wc([e],n.includeContainer,{filter:gl.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:Gh}):o=Vc(e,n.includeContainer,gl.bind(null,n)),Hh(o)},Wh=function(e,n){n=n||{};var o;return n.getShadowRoot?o=Wc([e],n.includeContainer,{filter:or.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):o=Vc(e,n.includeContainer,or.bind(null,n)),o},ao=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return Gn.call(e,er)===!1?!1:gl(n,e)},Yh=Gc.concat("iframe").join(","),Yr=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return Gn.call(e,Yh)===!1?!1:or(n,e)};/*!
* focus-trap 7.5.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function xs(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,o)}return n}function Zs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xs(Object(n),!0).forEach(function(o){Uh(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xs(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function Uh(t,e,n){return e=Xh(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kh(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xh(t){var e=Kh(t,"string");return typeof e=="symbol"?e:String(e)}var Qs={activateTrap:function(e,n){if(e.length>0){var o=e[e.length-1];o!==n&&o.pause()}var i=e.indexOf(n);i===-1||e.splice(i,1),e.push(n)},deactivateTrap:function(e,n){var o=e.indexOf(n);o!==-1&&e.splice(o,1),e.length>0&&e[e.length-1].unpause()}},Jh=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},xh=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},Xo=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},Zh=function(e){return Xo(e)&&!e.shiftKey},Qh=function(e){return Xo(e)&&e.shiftKey},zs=function(e){return setTimeout(e,0)},ea=function(e,n){var o=-1;return e.every(function(i,r){return n(i)?(o=r,!1):!0}),o},Bo=function(e){for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return typeof e=="function"?e.apply(void 0,o):e},Ai=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},zh=[],e_=function(e,n){var o=(n==null?void 0:n.document)||document,i=(n==null?void 0:n.trapStack)||zh,r=Zs({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:Zh,isKeyBackward:Qh},n),l={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},a,s=function(b,M,E){return b&&b[M]!==void 0?b[M]:r[E||M]},u=function(b,M){var E=typeof(M==null?void 0:M.composedPath)=="function"?M.composedPath():void 0;return l.containerGroups.findIndex(function(W){var q=W.container,J=W.tabbableNodes;return q.contains(b)||(E==null?void 0:E.includes(q))||J.find(function(Q){return Q===b})})},f=function(b){var M=r[b];if(typeof M=="function"){for(var E=arguments.length,W=new Array(E>1?E-1:0),q=1;q<E;q++)W[q-1]=arguments[q];M=M.apply(void 0,W)}if(M===!0&&(M=void 0),!M){if(M===void 0||M===!1)return M;throw new Error("`".concat(b,"` was specified but was not a node, or did not return a node"))}var J=M;if(typeof M=="string"&&(J=o.querySelector(M),!J))throw new Error("`".concat(b,"` as selector refers to no known node"));return J},c=function(){var b=f("initialFocus");if(b===!1)return!1;if(b===void 0||!Yr(b,r.tabbableOptions))if(u(o.activeElement)>=0)b=o.activeElement;else{var M=l.tabbableGroups[0],E=M&&M.firstTabbableNode;b=E||f("fallbackFocus")}if(!b)throw new Error("Your focus-trap needs to have at least one focusable element");return b},d=function(){if(l.containerGroups=l.containers.map(function(b){var M=Vh(b,r.tabbableOptions),E=Wh(b,r.tabbableOptions),W=M.length>0?M[0]:void 0,q=M.length>0?M[M.length-1]:void 0,J=E.find(function(Y){return ao(Y)}),Q=E.slice().reverse().find(function(Y){return ao(Y)}),ee=!!M.find(function(Y){return Nn(Y)>0});return{container:b,tabbableNodes:M,focusableNodes:E,posTabIndexesFound:ee,firstTabbableNode:W,lastTabbableNode:q,firstDomTabbableNode:J,lastDomTabbableNode:Q,nextTabbableNode:function(te){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,me=M.indexOf(te);return me<0?ne?E.slice(E.indexOf(te)+1).find(function(_){return ao(_)}):E.slice(0,E.indexOf(te)).reverse().find(function(_){return ao(_)}):M[me+(ne?1:-1)]}}}),l.tabbableGroups=l.containerGroups.filter(function(b){return b.tabbableNodes.length>0}),l.tabbableGroups.length<=0&&!f("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(l.containerGroups.find(function(b){return b.posTabIndexesFound})&&l.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},m=function v(b){var M=b.activeElement;if(M)return M.shadowRoot&&M.shadowRoot.activeElement!==null?v(M.shadowRoot):M},p=function v(b){if(b!==!1&&b!==m(document)){if(!b||!b.focus){v(c());return}b.focus({preventScroll:!!r.preventScroll}),l.mostRecentlyFocusedNode=b,Jh(b)&&b.select()}},h=function(b){var M=f("setReturnFocus",b);return M||(M===!1?!1:b)},y=function(b){var M=b.target,E=b.event,W=b.isBackward,q=W===void 0?!1:W;M=M||Ai(E),d();var J=null;if(l.tabbableGroups.length>0){var Q=u(M,E),ee=Q>=0?l.containerGroups[Q]:void 0;if(Q<0)q?J=l.tabbableGroups[l.tabbableGroups.length-1].lastTabbableNode:J=l.tabbableGroups[0].firstTabbableNode;else if(q){var Y=ea(l.tabbableGroups,function(x){var ie=x.firstTabbableNode;return M===ie});if(Y<0&&(ee.container===M||Yr(M,r.tabbableOptions)&&!ao(M,r.tabbableOptions)&&!ee.nextTabbableNode(M,!1))&&(Y=Q),Y>=0){var te=Y===0?l.tabbableGroups.length-1:Y-1,ne=l.tabbableGroups[te];J=Nn(M)>=0?ne.lastTabbableNode:ne.lastDomTabbableNode}else Xo(E)||(J=ee.nextTabbableNode(M,!1))}else{var me=ea(l.tabbableGroups,function(x){var ie=x.lastTabbableNode;return M===ie});if(me<0&&(ee.container===M||Yr(M,r.tabbableOptions)&&!ao(M,r.tabbableOptions)&&!ee.nextTabbableNode(M))&&(me=Q),me>=0){var _=me===l.tabbableGroups.length-1?0:me+1,D=l.tabbableGroups[_];J=Nn(M)>=0?D.firstTabbableNode:D.firstDomTabbableNode}else Xo(E)||(J=ee.nextTabbableNode(M))}}else J=f("fallbackFocus");return J},C=function(b){var M=Ai(b);if(!(u(M,b)>=0)){if(Bo(r.clickOutsideDeactivates,b)){a.deactivate({returnFocus:r.returnFocusOnDeactivate});return}Bo(r.allowOutsideClick,b)||b.preventDefault()}},k=function(b){var M=Ai(b),E=u(M,b)>=0;if(E||M instanceof Document)E&&(l.mostRecentlyFocusedNode=M);else{b.stopImmediatePropagation();var W,q=!0;if(l.mostRecentlyFocusedNode)if(Nn(l.mostRecentlyFocusedNode)>0){var J=u(l.mostRecentlyFocusedNode),Q=l.containerGroups[J].tabbableNodes;if(Q.length>0){var ee=Q.findIndex(function(Y){return Y===l.mostRecentlyFocusedNode});ee>=0&&(r.isKeyForward(l.recentNavEvent)?ee+1<Q.length&&(W=Q[ee+1],q=!1):ee-1>=0&&(W=Q[ee-1],q=!1))}}else l.containerGroups.some(function(Y){return Y.tabbableNodes.some(function(te){return Nn(te)>0})})||(q=!1);else q=!1;q&&(W=y({target:l.mostRecentlyFocusedNode,isBackward:r.isKeyBackward(l.recentNavEvent)})),p(W||l.mostRecentlyFocusedNode||c())}l.recentNavEvent=void 0},w=function(b){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;l.recentNavEvent=b;var E=y({event:b,isBackward:M});E&&(Xo(b)&&b.preventDefault(),p(E))},R=function(b){if(xh(b)&&Bo(r.escapeDeactivates,b)!==!1){b.preventDefault(),a.deactivate();return}(r.isKeyForward(b)||r.isKeyBackward(b))&&w(b,r.isKeyBackward(b))},F=function(b){var M=Ai(b);u(M,b)>=0||Bo(r.clickOutsideDeactivates,b)||Bo(r.allowOutsideClick,b)||(b.preventDefault(),b.stopImmediatePropagation())},N=function(){if(l.active)return Qs.activateTrap(i,a),l.delayInitialFocusTimer=r.delayInitialFocus?zs(function(){p(c())}):p(c()),o.addEventListener("focusin",k,!0),o.addEventListener("mousedown",C,{capture:!0,passive:!1}),o.addEventListener("touchstart",C,{capture:!0,passive:!1}),o.addEventListener("click",F,{capture:!0,passive:!1}),o.addEventListener("keydown",R,{capture:!0,passive:!1}),a},$=function(){if(l.active)return o.removeEventListener("focusin",k,!0),o.removeEventListener("mousedown",C,!0),o.removeEventListener("touchstart",C,!0),o.removeEventListener("click",F,!0),o.removeEventListener("keydown",R,!0),a},G=function(b){var M=b.some(function(E){var W=Array.from(E.removedNodes);return W.some(function(q){return q===l.mostRecentlyFocusedNode})});M&&p(c())},L=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(G):void 0,V=function(){L&&(L.disconnect(),l.active&&!l.paused&&l.containers.map(function(b){L.observe(b,{subtree:!0,childList:!0})}))};return a={get active(){return l.active},get paused(){return l.paused},activate:function(b){if(l.active)return this;var M=s(b,"onActivate"),E=s(b,"onPostActivate"),W=s(b,"checkCanFocusTrap");W||d(),l.active=!0,l.paused=!1,l.nodeFocusedBeforeActivation=o.activeElement,M==null||M();var q=function(){W&&d(),N(),V(),E==null||E()};return W?(W(l.containers.concat()).then(q,q),this):(q(),this)},deactivate:function(b){if(!l.active)return this;var M=Zs({onDeactivate:r.onDeactivate,onPostDeactivate:r.onPostDeactivate,checkCanReturnFocus:r.checkCanReturnFocus},b);clearTimeout(l.delayInitialFocusTimer),l.delayInitialFocusTimer=void 0,$(),l.active=!1,l.paused=!1,V(),Qs.deactivateTrap(i,a);var E=s(M,"onDeactivate"),W=s(M,"onPostDeactivate"),q=s(M,"checkCanReturnFocus"),J=s(M,"returnFocus","returnFocusOnDeactivate");E==null||E();var Q=function(){zs(function(){J&&p(h(l.nodeFocusedBeforeActivation)),W==null||W()})};return J&&q?(q(h(l.nodeFocusedBeforeActivation)).then(Q,Q),this):(Q(),this)},pause:function(b){if(l.paused||!l.active)return this;var M=s(b,"onPause"),E=s(b,"onPostPause");return l.paused=!0,M==null||M(),$(),V(),E==null||E(),this},unpause:function(b){if(!l.paused||!l.active)return this;var M=s(b,"onUnpause"),E=s(b,"onPostUnpause");return l.paused=!1,M==null||M(),d(),N(),V(),E==null||E(),this},updateContainerElements:function(b){var M=[].concat(b).filter(Boolean);return l.containers=M.map(function(E){return typeof E=="string"?o.querySelector(E):E}),l.active&&d(),V(),this}},a.updateContainerElements(e),a};function t_(t={}){let e;const{immediate:n,...o}=t,i=Ue(!1),r=Ue(!1),l=c=>e==null?void 0:e.activate(c),a=c=>{e==null||e.deactivate(c)},s=()=>{e&&(e.pause(),r.set(!0))},u=()=>{e&&(e.unpause(),r.set(!1))};return{useFocusTrap:c=>(e=e_(c,{...o,onActivate(){var d;i.set(!0),(d=t.onActivate)==null||d.call(t)},onDeactivate(){var d;i.set(!1),(d=t.onDeactivate)==null||d.call(t)}}),n&&l(),{destroy(){a(),e=void 0}}),hasFocus:Ms(i),isPaused:Ms(r),activate:l,deactivate:a,pause:s,unpause:u}}const Si=[];function n_(t,e){let n=ze;function o(){const r=Si.indexOf(t);r>=0&&Si.splice(r,1)}function i(r){n();const{open:l,onClose:a,shouldCloseOnInteractOutside:s,closeOnInteractOutside:u}=r;Hl(100).then(()=>{l?Si.push(t):o()});function f(){return _p(Si)===t}function c(){f()&&a&&(a(),o())}function d(p){const h=p.target;kr(h)&&h&&f()&&(p.preventDefault(),p.stopPropagation(),p.stopImmediatePropagation())}function m(p){s!=null&&s(p)&&f()&&(p.preventDefault(),p.stopPropagation(),p.stopImmediatePropagation(),c())}n=o_(t,{onInteractOutsideStart:d,onInteractOutside:u?m:void 0,enabled:l}).destroy}return i(e),{update:i,destroy(){o(),n()}}}const Kc=(t,e="body")=>{let n;if(!Tt(e)&&typeof e!="string")return{destroy:ze};async function o(r){if(e=r,typeof e=="string"){if(n=document.querySelector(e),n===null&&(await Dl(),n=document.querySelector(e)),n===null)throw new Error(`No element found matching css selector: "${e}"`)}else if(e instanceof HTMLElement)n=e;else throw new TypeError(`Unknown portal target type: ${e===null?"null":typeof e}. Allowed types: string (CSS selector) or HTMLElement.`);t.dataset.portal="",n.appendChild(t),t.hidden=!1}function i(){t.remove()}return o(e),{update:o,destroy:i}};function o_(t,e){let n=ze,o=!1,i=!1,r=!1;function l(u){n();const{onInteractOutside:f,onInteractOutsideStart:c,enabled:d}=u;if(!d)return;function m(y){f&&ta(y,t)&&(c==null||c(y));const C=y.target;kr(C)&&Xc(t,C)&&(i=!0),o=!0}function p(y){f==null||f(y)}const h=i_(t);if(typeof PointerEvent<"u"){const y=C=>{a(C)&&p(C),s()};n=Kt(vt(h,"pointerdown",m,!0),vt(h,"pointerup",y,!0))}else{const y=k=>{r?r=!1:a(k)&&p(k),s()},C=k=>{r=!0,a(k)&&p(k),s()};n=Kt(vt(h,"mousedown",m,!0),vt(h,"mouseup",y,!0),vt(h,"touchstart",m,!0),vt(h,"touchend",C,!0))}}function a(u){return!!(o&&!i&&ta(u,t))}function s(){o=!1,i=!1}return l(e),{update:l,destroy:n}}function ta(t,e){if("button"in t&&t.button>0)return!1;const n=t.target;if(!kr(n))return!1;const o=n.ownerDocument;return!o||!o.documentElement.contains(n)?!1:e&&!Xc(e,n)}function Xc(t,e){return t===e||t.contains(e)}function i_(t){return(t==null?void 0:t.ownerDocument)??document}Ln(!1),Ln(!1),Ln(void 0);function r_(){return{elements:{root:ht("label",{action:e=>({destroy:At(e,"mousedown",o=>{!o.defaultPrevented&&o.detail>1&&o.preventDefault()})})})}}}const{name:On}=wr("dialog"),l_={preventScroll:!0,closeOnEscape:!0,closeOnOutsideClick:!0,role:"dialog",defaultOpen:!1,portal:void 0,forceVisible:!1,openFocus:void 0,closeFocus:void 0,onOutsideClick:void 0},s_=["content","title","description"];function Jc(t){const e={...l_,...t},n=jn(Cr(e,"ids")),{preventScroll:o,closeOnEscape:i,closeOnOutsideClick:r,role:l,portal:a,forceVisible:s,openFocus:u,closeFocus:f,onOutsideClick:c}=n,d=sn.writable(null),m=jn({...Vl(s_),...e.ids}),p=e.open??Ue(e.defaultOpen),h=Ar(p,e==null?void 0:e.onOpenChange),y=dn([h,s],([v,b])=>v||b);let C=ze;function k(v){const b=v.currentTarget,M=v.currentTarget;!Tt(b)||!Tt(M)||(h.set(!0),d.set(M))}function w(){h.set(!1),Vs({prop:f.get(),defaultEl:d.get()})}const R=ht(On("trigger"),{stores:[h],returned:([v])=>({"aria-haspopup":"dialog","aria-expanded":v,type:"button"}),action:v=>({destroy:Kt(At(v,"click",M=>{k(M)}),At(v,"keydown",M=>{M.key!==ut.ENTER&&M.key!==ut.SPACE||(M.preventDefault(),k(M))}))})}),F=ht(On("overlay"),{stores:[y,h],returned:([v,b])=>({hidden:v?void 0:!0,tabindex:-1,style:yn({display:v?void 0:"none"}),"aria-hidden":!0,"data-state":b?"open":"closed"}),action:v=>{let b=ze;if(i.get()){const M=Ws(v,{handler:()=>{w()}});M&&M.destroy&&(b=M.destroy)}return{destroy(){b()}}}}),N=ht(On("content"),{stores:[y,m.content,m.description,m.title,h],returned:([v,b,M,E,W])=>({id:b,role:l.get(),"aria-describedby":M,"aria-labelledby":E,"aria-modal":v?"true":void 0,"data-state":W?"open":"closed",tabindex:-1,hidden:v?void 0:!0,style:yn({display:v?void 0:"none"})}),action:v=>{let b=ze,M=ze;const E=Kt(Et([h],([W])=>{if(!W)return;const q=t_({immediate:!1,escapeDeactivates:!0,clickOutsideDeactivates:!0,returnFocusOnDeactivate:!1,fallbackFocus:v});b=q.activate,M=q.deactivate;const J=q.useFocusTrap(v);return J&&J.destroy?J.destroy:q.deactivate}),Et([r,h],([W,q])=>n_(v,{open:q,closeOnInteractOutside:W,onClose(){w()},shouldCloseOnInteractOutside(J){var Q;return(Q=c.get())==null||Q(J),!J.defaultPrevented}}).destroy),Et([i],([W])=>{if(!W)return ze;const q=Ws(v,{handler:()=>{w()}});return q&&q.destroy?q.destroy:ze}),Et([y],([W])=>{Dl().then(()=>{W?b():M()})}));return{destroy:()=>{C(),E()}}}}),$=ht(On("portalled"),{stores:a,returned:v=>({"data-portal":Tc(v)}),action:v=>{const b=Et([a],([M])=>{if(M===null)return ze;const E=Pc(v,M);if(E===null)return ze;const W=Kc(v,E);return W&&W.destroy?W.destroy:ze});return{destroy(){b()}}}}),G=ht(On("title"),{stores:[m.title],returned:([v])=>({id:v})}),L=ht(On("description"),{stores:[m.description],returned:([v])=>({id:v})}),V=ht(On("close"),{returned:()=>({type:"button"}),action:v=>({destroy:Kt(At(v,"click",()=>{w()}),At(v,"keydown",M=>{M.key!==ut.SPACE&&M.key!==ut.ENTER||(M.preventDefault(),w())}))})});return Et([h,o],([v,b])=>{if(Zo){if(b&&v&&(C=Bp()),v){const M=document.getElementById(m.content.get());Vs({prop:u.get(),defaultEl:M})}return()=>{s.get()||C()}}}),{ids:m,elements:{content:N,trigger:R,title:G,description:L,overlay:F,close:V,portalled:$},states:{open:h},options:n}}const a_={defaultValue:0,max:100},{name:u_}=wr("progress"),f_=t=>{const e={...a_,...t},n=jn(Cr(e,"value")),{max:o}=n,i=e.value??Ue(e.defaultValue),r=Ar(i,e==null?void 0:e.onValueChange);return{elements:{root:ht(u_(),{stores:[r,o],returned:([a,s])=>({value:a,max:s,role:"meter","aria-valuemin":0,"aria-valuemax":s,"aria-valuenow":a,"data-value":a,"data-state":a===null?"indeterminate":a===s?"complete":"loading","data-max":s})})},states:{value:r},options:n}},c_={orientation:"horizontal",decorative:!1},d_=t=>{const e={...c_,...t},n=jn(e),{orientation:o,decorative:i}=n;return{elements:{root:ht("separator",{stores:[o,i],returned:([l,a])=>({role:a?"none":"separator","aria-orientation":l==="vertical"?l:void 0,"aria-hidden":a,"data-orientation":l})})},options:n}},m_={defaultValue:[],min:0,max:100,step:1,orientation:"horizontal",dir:"ltr",disabled:!1},{name:Ti}=wr("slider"),p_=t=>{const e={...m_,...t},n=jn(Cr(e,"value","onValueChange","defaultValue")),{min:o,max:i,step:r,orientation:l,dir:a,disabled:s}=n,u=e.value??Ue(e.defaultValue),f=Ar(u,e==null?void 0:e.onValueChange),c=sn(Ue(!1)),d=sn(Ue(0)),m=sn(Ue(null)),p=Vl(["root"]),h=($,G)=>{f.update(L=>{if(!L)return[$];if(L[G]===$)return L;const V=[...L],v=V[G]>$?-1:1;function b(){V[G]=V[G+v],V[G+v]=$;const q=y();q&&(q[G+v].focus(),m.set({thumb:q[G+v],index:G+v}))}if(v===-1&&$<V[G-1])return b(),V;if(v===1&&$>V[G+1])return b(),V;const M=o.get(),E=i.get(),W=r.get();return V[G]=Wr($,M,E,W),V})},y=()=>{const $=Hr(p.root);return $?Array.from($.querySelectorAll('[data-melt-part="thumb"]')).filter(G=>Tt(G)):null},C=dn([o,i],([$,G])=>L=>(L-$)/(G-$)*100),k=sn.derived([l,a],([$,G])=>$==="horizontal"?G==="rtl"?"rl":"lr":G==="rtl"?"tb":"bt"),w=ht(Ti(),{stores:[s,l,a],returned:([$,G,L])=>({dir:L,disabled:Gr($),"data-disabled":Gr($),"data-orientation":G,style:$?void 0:`touch-action: ${G==="horizontal"?"pan-y":"pan-x"}`,"data-melt-id":p.root})}),R=ht(Ti("range"),{stores:[f,k,C],returned:([$,G,L])=>{const V=$.length>1?L(Math.min(...$)??0):0,v=100-L(Math.max(...$)??0),b={position:"absolute"};switch(G){case"lr":{b.left=`${V}%`,b.right=`${v}%`;break}case"rl":{b.right=`${V}%`,b.left=`${v}%`;break}case"bt":{b.bottom=`${V}%`,b.top=`${v}%`;break}case"tb":{b.top=`${V}%`,b.bottom=`${v}%`;break}}return{style:yn(b)}}}),F=qs(Ti("thumb"),{stores:[f,C,o,i,s,l,k],returned:([$,G,L,V,v,b,M])=>Array.from({length:$.length||1},(W,q)=>{d.get()<$.length&&d.update(te=>te+1);const Q=$[q],ee=`${G(Q)}%`,Y={position:"absolute"};switch(M){case"lr":{Y.left=ee,Y.translate="-50% 0";break}case"rl":{Y.right=ee,Y.translate="50% 0";break}case"bt":{Y.bottom=ee,Y.translate="0 50%";break}case"tb":{Y.top=ee,Y.translate="0 -50%";break}}return{role:"slider","aria-valuemin":L,"aria-valuemax":V,"aria-valuenow":Q,"aria-disabled":Gr(v),"aria-orientation":b,"data-melt-part":"thumb","data-value":Q,style:yn(Y),tabindex:v?-1:0}}),action:$=>({destroy:At($,"keydown",L=>{if(s.get())return;const V=L.currentTarget;if(!Tt(V))return;const v=y();if(!(v!=null&&v.length))return;const b=v.indexOf(V);if(d.set(b),![ut.ARROW_LEFT,ut.ARROW_RIGHT,ut.ARROW_UP,ut.ARROW_DOWN,ut.HOME,ut.END].includes(L.key))return;L.preventDefault();const M=o.get(),E=i.get(),W=r.get(),q=f.get(),J=l.get(),Q=k.get(),ee=q[b];switch(L.key){case ut.HOME:{h(M,b);break}case ut.END:{h(E,b);break}case ut.ARROW_LEFT:{if(J!=="horizontal")break;L.metaKey?h(Q==="rl"?E:M,b):Q==="rl"&&ee<E?h(ee+W,b):Q==="lr"&&ee>M&&h(ee-W,b);break}case ut.ARROW_RIGHT:{if(J!=="horizontal")break;L.metaKey?h(Q==="rl"?M:E,b):Q==="rl"&&ee>M?h(ee-W,b):Q==="lr"&&ee<E&&h(ee+W,b);break}case ut.ARROW_UP:{L.metaKey?h(Q==="tb"?M:E,b):Q==="tb"&&ee>M?h(ee-W,b):Q!=="tb"&&ee<E&&h(ee+W,b);break}case ut.ARROW_DOWN:{L.metaKey?h(Q==="tb"?E:M,b):Q==="tb"&&ee<E?h(ee+W,b):Q!=="tb"&&ee>M&&h(ee-W,b);break}}})})}),N=qs(Ti("tick"),{stores:[f,o,i,r,k],returned:([$,G,L,V,v])=>{const b=L-G;let M=Math.ceil(b/V);return b%V==0&&M++,Array.from({length:M},(E,W)=>{const q=`${W*(V/(L-G))*100}%`,J=W===0,Q=W===M-1,ee=J?0:Q?-100:-50,Y={position:"absolute"};switch(v){case"lr":{Y.left=q,Y.translate=`${ee}% 0`;break}case"rl":{Y.right=q,Y.translate=`${-ee}% 0`;break}case"bt":{Y.bottom=q,Y.translate=`0 ${-ee}%`;break}case"tb":{Y.top=q,Y.translate=`0 ${ee}%`;break}}const te=G+W*V;return{"data-bounded":($.length===1?te<=$[0]:$[0]<=te&&te<=$[$.length-1])?!0:void 0,"data-value":te,style:yn(Y)}})}});return Et([w,o,i,s,l,k,r],([$,G,L,V,v,b,M])=>{if(!Zo||V)return;const E=(Y,te,ne,me)=>{const D=(Y-ne)/(me-ne)*(L-G)+G;if(D<G)h(G,te);else if(D>L)h(L,te);else{const x=M,ie=G,ae=Math.floor((D-ie)/x),Ie=ie+ae*x+x/2,Me=ie+(ae+1)*x+x/2,Ye=D>=Ie&&D<Me?(ae+1)*x+ie:ae*x+ie;Ye<=L&&h(Ye,te)}},W=Y=>{const te=y();if(!te)return;te.forEach(D=>D.blur());const ne=te.map(D=>{if(v==="horizontal"){const{left:x,right:ie}=D.getBoundingClientRect();return Math.abs(Y.clientX-(x+ie)/2)}else{const{top:x,bottom:ie}=D.getBoundingClientRect();return Math.abs(Y.clientY-(x+ie)/2)}}),me=te[ne.indexOf(Math.min(...ne))],_=te.indexOf(me);return{thumb:me,index:_}},q=Y=>{if(!c.get())return;Y.preventDefault(),Y.stopPropagation();const te=Hr($["data-melt-id"]),ne=m.get();if(!te||!ne)return;ne.thumb.focus();const{left:me,right:_,top:D,bottom:x}=te.getBoundingClientRect();switch(b){case"lr":{E(Y.clientX,ne.index,me,_);break}case"rl":{E(Y.clientX,ne.index,_,me);break}case"bt":{E(Y.clientY,ne.index,x,D);break}case"tb":{E(Y.clientY,ne.index,D,x);break}}},J=Y=>{if(Y.button!==0)return;const te=Hr($["data-melt-id"]),ne=W(Y);if(!ne||!te)return;const me=Y.target;!Tt(me)||!te.contains(me)||(Y.preventDefault(),m.set(ne),ne.thumb.focus(),c.set(!0),q(Y))},Q=()=>{c.set(!1)},ee=Kt(vt(document,"pointerdown",J),vt(document,"pointerup",Q),vt(document,"pointerleave",Q),vt(document,"pointermove",q));return()=>{ee()}}),Et([r,o,i,f],function([G,L,V,v]){const b=E=>Wr(E,L,V,G)===E,M=E=>Wr(E,L,V,G);v.some(E=>!b(E))&&f.update(E=>E.map(M))}),{elements:{root:w,thumbs:F,range:R,ticks:N},states:{value:f},options:n}},h_={positioning:{placement:"bottom"},arrowSize:8,defaultOpen:!1,closeOnPointerDown:!0,openDelay:1e3,closeDelay:0,forceVisible:!1,portal:void 0,closeOnEscape:!0,disableHoverableContent:!1,group:void 0},{name:Ur}=wr("tooltip"),Ii=new Map,__=["trigger","content"];function g_(t){const e={...h_,...t},n=jn(Cr(e,"open","ids")),{positioning:o,arrowSize:i,closeOnPointerDown:r,openDelay:l,closeDelay:a,forceVisible:s,portal:u,closeOnEscape:f,disableHoverableContent:c,group:d}=n,m=e.open??Ue(e.defaultOpen),p=Ar(m,e==null?void 0:e.onOpenChange),h=Ue(null),y=jn({...Vl(__),...e.ids});let C=!1;const k=b=>Zo?document.getElementById(y[b].get()):null;let w=null,R=null;function F(b){R&&(window.clearTimeout(R),R=null),w||(w=window.setTimeout(()=>{p.set(!0),h.update(M=>M??b),w=null},l.get()))}function N(b){if(w&&(window.clearTimeout(w),w=null),b&&v){h.set("pointer");return}R||(R=window.setTimeout(()=>{p.set(!1),h.set(null),b&&(C=!1),R=null},a.get()))}const $=dn([p,s],([b,M])=>b||M),G=ht(Ur("trigger"),{stores:[y.content,y.trigger,p],returned:([b,M,E])=>({"aria-describedby":b,id:M,"data-state":E?"open":"closed"}),action:b=>{const M=W=>{f.get()&&W.key===ut.ESCAPE&&(w&&(window.clearTimeout(w),w=null),p.set(!1))};return{destroy:Kt(At(b,"pointerdown",()=>{r.get()&&(p.set(!1),C=!0,w&&(window.clearTimeout(w),w=null))}),At(b,"pointerenter",W=>{Gs(W)||F("pointer")}),At(b,"pointerleave",W=>{Gs(W)||w&&(window.clearTimeout(w),w=null)}),At(b,"focus",()=>{C||F("focus")}),At(b,"blur",async()=>{await Hl(0),N(!0)}),At(b,"keydown",M),vt(document,"keydown",M))}}}),L=ht(Ur("content"),{stores:[$,p,u,y.content],returned:([b,M,E,W])=>({role:"tooltip",hidden:b?void 0:!0,tabindex:-1,style:yn({display:b?void 0:"none"}),id:W,"data-portal":Tc(E),"data-state":M?"open":"closed"}),action:b=>{let M=ze,E=ze;const W=Et([$,o,u],([Q,ee,Y])=>{const te=k("trigger");if(!Q||!te){E(),M();return}if(M=Mh(te,b,ee).destroy,Y===null){E();return}const me=Pc(b,Y);if(me){const _=Kc(b,me);_&&_.destroy&&(E=_.destroy)}});function q(Q){if(!p.get())return;const ee=Q.target;if(!kr(ee)&&!gp(ee))return;const Y=k("trigger");Y&&ee.contains(Y)&&N()}const J=Kt(At(b,"pointerenter",()=>F("pointer")),At(b,"pointerdown",()=>F("pointer")),vt(window,"scroll",q,{capture:!0}));return{destroy(){J(),E(),M(),W()}}}}),V=ht(Ur("arrow"),{stores:i,returned:b=>({"data-arrow":!0,style:yn({position:"absolute",width:`var(--arrow-size, ${b}px)`,height:`var(--arrow-size, ${b}px)`})})});let v=!1;return Et(p,b=>{const M=d.get();if(M===void 0||M===!1)return;if(!b){Ii.get(M)===p&&Ii.delete(M);return}const E=Ii.get(M);E==null||E.set(!1),Ii.set(M,p)}),Et([p,h],([b,M])=>{if(!(!b||!Zo))return Kt(vt(document,"mousemove",E=>{const W=k("content"),q=k("trigger");if(!W||!q)return;const J=c.get()?[q]:[q,W],Q=Rp(J);v=Lp({x:E.clientX,y:E.clientY},Q),M==="pointer"&&(v||N())}))}),{ids:y,elements:{trigger:G,content:L,arrow:V},states:{open:p},options:n}}function Un(t,e){const n={};return e.forEach(o=>{n[o]={[`data-${t}-${o}`]:""}}),o=>n[o]}function Kn(){const t=am();return e=>{const{originalEvent:n}=e.detail,{cancelable:o}=e,i=n.type;t(i,{originalEvent:n,currentTarget:n.currentTarget},{cancelable:o})||e.preventDefault()}}function Mo(t){const e={};for(const n in t){const o=t[n];o!==void 0&&(e[n]=o)}return e}function Hn(t){return function(e,n){if(n===void 0)return;const o=t[e];o&&o.set(n)}}function xc(){return{NAME:"alert-dialog",PARTS:["action","cancel","content","description","overlay","portal","title","trigger"]}}function b_(t){const{NAME:e,PARTS:n}=xc(),o=Un(e,n),i=Jc({...Mo(t),role:"alertdialog",forceVisible:!0}),r={...i,getAttrs:o,updateOption:Hn(i.options)};return br(e,r),{...r,updateOption:Hn(r.options),getAttrs:o}}function Xn(){const{NAME:t}=xc();return vr(t)}const v_=t=>({ids:t&1}),na=t=>({ids:t[0]});function y_(t){let e;const n=t[12].default,o=_e(n,t,t[11],na);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,[r]){o&&o.p&&(!e||r&2049)&&be(o,n,i,i[11],e?ge(n,i[11],r,v_):ve(i[11]),na)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function w_(t,e,n){let o,{$$slots:i={},$$scope:r}=e,{preventScroll:l=void 0}=e,{closeOnEscape:a=void 0}=e,{closeOnOutsideClick:s=!1}=e,{portal:u=void 0}=e,{open:f=void 0}=e,{onOpenChange:c=void 0}=e,{openFocus:d=void 0}=e,{closeFocus:m=void 0}=e,{onOutsideClick:p=void 0}=e;const{states:{open:h},updateOption:y,ids:C}=b_({closeOnEscape:a,preventScroll:l,closeOnOutsideClick:s,portal:u,forceVisible:!0,defaultOpen:f,openFocus:d,closeFocus:m,onOutsideClick:p,onOpenChange:({next:w})=>(f!==w&&(c==null||c(w),n(2,f=w)),w)}),k=dn([C.content,C.description,C.title],([w,R,F])=>({content:w,description:R,title:F}));return ue(t,k,w=>n(0,o=w)),t.$$set=w=>{"preventScroll"in w&&n(3,l=w.preventScroll),"closeOnEscape"in w&&n(4,a=w.closeOnEscape),"closeOnOutsideClick"in w&&n(5,s=w.closeOnOutsideClick),"portal"in w&&n(6,u=w.portal),"open"in w&&n(2,f=w.open),"onOpenChange"in w&&n(7,c=w.onOpenChange),"openFocus"in w&&n(8,d=w.openFocus),"closeFocus"in w&&n(9,m=w.closeFocus),"onOutsideClick"in w&&n(10,p=w.onOutsideClick),"$$scope"in w&&n(11,r=w.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&f!==void 0&&h.set(f),t.$$.dirty&8&&y("preventScroll",l),t.$$.dirty&16&&y("closeOnEscape",a),t.$$.dirty&32&&y("closeOnOutsideClick",s),t.$$.dirty&64&&y("portal",u),t.$$.dirty&256&&y("openFocus",d),t.$$.dirty&512&&y("closeFocus",m),t.$$.dirty&1024&&y("onOutsideClick",p)},[o,k,f,l,a,s,u,c,d,m,p,r,i]}class k_ extends we{constructor(e){super(),ye(this,e,w_,y_,de,{preventScroll:3,closeOnEscape:4,closeOnOutsideClick:5,portal:6,open:2,onOpenChange:7,openFocus:8,closeFocus:9,onOutsideClick:10})}}const C_=t=>({builder:t&8}),oa=t=>({builder:t[3]}),A_=t=>({builder:t&8}),ia=t=>({builder:t[3]});function S_(t){let e=t[1],n,o,i=t[1]&&Kr(t);return{c(){i&&i.c(),n=De()},m(r,l){i&&i.m(r,l),I(r,n,l),o=!0},p(r,l){r[1]?e?de(e,r[1])?(i.d(1),i=Kr(r),e=r[1],i.c(),i.m(n.parentNode,n)):i.p(r,l):(i=Kr(r),e=r[1],i.c(),i.m(n.parentNode,n)):e&&(i.d(1),i=null,e=r[1])},i(r){o||(A(i,r),o=!0)},o(r){S(i,r),o=!1},d(r){r&&T(n),i&&i.d(r)}}}function T_(t){let e;const n=t[9].default,o=_e(n,t,t[8],ia);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&264)&&be(o,n,i,i[8],e?ge(n,i[8],r,A_):ve(i[8]),ia)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Kr(t){let e,n,o,i;const r=t[9].default,l=_e(r,t,t[8],oa);let a=[t[3],t[5]],s={};for(let u=0;u<a.length;u+=1)s=Z(s,a[u]);return{c(){e=O(t[1]),l&&l.c(),wn(t[1])(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),t[10](e),n=!0,o||(i=Ge(t[3].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&264)&&be(l,r,u,u[8],n?ge(r,u[8],f,C_):ve(u[8]),oa),wn(u[1])(e,s=ke(a,[f&8&&u[3],f&32&&u[5]]))},i(u){n||(A(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[10](null),o=!1,i()}}}function I_(t){let e,n,o,i;const r=[T_,S_],l=[];function a(s,u){return s[2]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),S(l[f],1,1,()=>{l[f]=null}),Ne(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function M_(t,e,n){let o;const i=["level","asChild","id","el"];let r=se(e,i),l,{$$slots:a={},$$scope:s}=e,{level:u="h2"}=e,{asChild:f=!1}=e,{id:c=void 0}=e,{el:d=void 0}=e;const{elements:{title:m},ids:p,getAttrs:h}=Xn();ue(t,m,k=>n(7,l=k));const y=h("title");function C(k){$e[k?"unshift":"push"](()=>{d=k,n(0,d)})}return t.$$set=k=>{e=Z(Z({},e),Re(k)),n(5,r=se(e,i)),"level"in k&&n(1,u=k.level),"asChild"in k&&n(2,f=k.asChild),"id"in k&&n(6,c=k.id),"el"in k&&n(0,d=k.el),"$$scope"in k&&n(8,s=k.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&c&&p.title.set(c),t.$$.dirty&128&&n(3,o=l),t.$$.dirty&8&&Object.assign(o,y)},[d,u,f,o,m,r,c,l,s,a,C]}let O_=class extends we{constructor(e){super(),ye(this,e,M_,I_,de,{level:1,asChild:2,id:6,el:0})}};const P_=t=>({builder:t&4}),ra=t=>({builder:t[2]}),N_=t=>({builder:t&4}),la=t=>({builder:t[2]});function E_(t){let e,n,o,i;const r=t[8].default,l=_e(r,t,t[7],ra);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=Z(s,a[u]);return{c(){e=O("button"),l&&l.c(),fe(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[9](e),n=!0,o||(i=[Ge(t[2].action(e)),z(e,"m-click",t[4]),z(e,"m-keydown",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&be(l,r,u,u[7],n?ge(r,u[7],f,P_):ve(u[7]),ra),fe(e,s=ke(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(A(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[9](null),o=!1,je(i)}}}function $_(t){let e;const n=t[8].default,o=_e(n,t,t[7],la);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&be(o,n,i,i[7],e?ge(n,i[7],r,N_):ve(i[7]),la)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function R_(t){let e,n,o,i;const r=[$_,E_],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),S(l[f],1,1,()=>{l[f]=null}),Ne(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function L_(t,e,n){let o;const i=["asChild","el"];let r=se(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:d}=Xn();ue(t,c,y=>n(6,l=y));const m=Kn(),p=d("action");function h(y){$e[y?"unshift":"push"](()=>{f=y,n(0,f)})}return t.$$set=y=>{e=Z(Z({},e),Re(y)),n(5,r=se(e,i)),"asChild"in y&&n(1,u=y.asChild),"el"in y&&n(0,f=y.el),"$$scope"in y&&n(7,s=y.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,p)},[f,u,o,c,m,r,l,s,a,h]}let D_=class extends we{constructor(e){super(),ye(this,e,L_,R_,de,{asChild:1,el:0})}};const F_=t=>({builder:t&4}),sa=t=>({builder:t[2]}),B_=t=>({builder:t&4}),aa=t=>({builder:t[2]});function j_(t){let e,n,o,i;const r=t[8].default,l=_e(r,t,t[7],sa);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=Z(s,a[u]);return{c(){e=O("button"),l&&l.c(),fe(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[9](e),n=!0,o||(i=[Ge(t[2].action(e)),z(e,"m-click",t[4]),z(e,"m-keydown",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&be(l,r,u,u[7],n?ge(r,u[7],f,F_):ve(u[7]),sa),fe(e,s=ke(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(A(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[9](null),o=!1,je(i)}}}function q_(t){let e;const n=t[8].default,o=_e(n,t,t[7],aa);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&be(o,n,i,i[7],e?ge(n,i[7],r,B_):ve(i[7]),aa)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function G_(t){let e,n,o,i;const r=[q_,j_],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),S(l[f],1,1,()=>{l[f]=null}),Ne(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function H_(t,e,n){let o;const i=["asChild","el"];let r=se(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:d}=Xn();ue(t,c,y=>n(6,l=y));const m=Kn(),p=d("cancel");function h(y){$e[y?"unshift":"push"](()=>{f=y,n(0,f)})}return t.$$set=y=>{e=Z(Z({},e),Re(y)),n(5,r=se(e,i)),"asChild"in y&&n(1,u=y.asChild),"el"in y&&n(0,f=y.el),"$$scope"in y&&n(7,s=y.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,p)},[f,u,o,c,m,r,l,s,a,h]}let V_=class extends we{constructor(e){super(),ye(this,e,H_,G_,de,{asChild:1,el:0})}};const W_=t=>({builder:t&4}),ua=t=>({builder:t[2]}),Y_=t=>({builder:t&4}),fa=t=>({builder:t[2]});function U_(t){let e,n,o,i;const r=t[7].default,l=_e(r,t,t[6],ua);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=Z(s,a[u]);return{c(){e=O("div"),l&&l.c(),fe(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),t[8](e),n=!0,o||(i=Ge(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&68)&&be(l,r,u,u[6],n?ge(r,u[6],f,W_):ve(u[6]),ua),fe(e,s=ke(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(A(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[8](null),o=!1,i()}}}function K_(t){let e;const n=t[7].default,o=_e(n,t,t[6],fa);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&68)&&be(o,n,i,i[6],e?ge(n,i[6],r,Y_):ve(i[6]),fa)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function X_(t){let e,n,o,i;const r=[K_,U_],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),S(l[f],1,1,()=>{l[f]=null}),Ne(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function J_(t,e,n){let o;const i=["asChild","el"];let r=se(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{portalled:c},getAttrs:d}=Xn();ue(t,c,h=>n(5,l=h));const m=d("portal");function p(h){$e[h?"unshift":"push"](()=>{f=h,n(0,f)})}return t.$$set=h=>{e=Z(Z({},e),Re(h)),n(4,r=se(e,i)),"asChild"in h&&n(1,u=h.asChild),"el"in h&&n(0,f=h.el),"$$scope"in h&&n(6,s=h.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,m)},[f,u,o,c,r,l,s,a,p]}let x_=class extends we{constructor(e){super(),ye(this,e,J_,X_,de,{asChild:1,el:0})}};const Z_=t=>({builder:t[0]&256}),ca=t=>({builder:t[8]}),Q_=t=>({builder:t[0]&256}),da=t=>({builder:t[8]}),z_=t=>({builder:t[0]&256}),ma=t=>({builder:t[8]}),e0=t=>({builder:t[0]&256}),pa=t=>({builder:t[8]}),t0=t=>({builder:t[0]&256}),ha=t=>({builder:t[8]}),n0=t=>({builder:t[0]&256}),_a=t=>({builder:t[8]});function o0(t){let e,n,o,i;const r=t[16].default,l=_e(r,t,t[15],ca);let a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=Z(s,a[u]);return{c(){e=O("div"),l&&l.c(),fe(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),t[56](e),n=!0,o||(i=[Ge(t[8].action(e)),z(e,"pointerdown",t[45]),z(e,"pointermove",t[46]),z(e,"pointerup",t[47]),z(e,"touchend",t[48]),z(e,"touchstart",t[49]),z(e,"touchcancel",t[50]),z(e,"touchmove",t[51])],o=!0)},p(u,f){l&&l.p&&(!n||f[0]&33024)&&be(l,r,u,u[15],n?ge(r,u[15],f,Z_):ve(u[15]),ca),fe(e,s=ke(a,[f[0]&256&&u[8],f[0]&4096&&u[12]]))},i(u){n||(A(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[56](null),o=!1,je(i)}}}function i0(t){let e,n,o,i,r;const l=t[16].default,a=_e(l,t,t[15],da);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Z(u,s[f]);return{c(){e=O("div"),a&&a.c(),fe(e,u)},m(f,c){I(f,e,c),a&&a.m(e,null),t[55](e),o=!0,i||(r=[Ge(t[8].action(e)),z(e,"pointerdown",t[38]),z(e,"pointermove",t[39]),z(e,"pointerup",t[40]),z(e,"touchend",t[41]),z(e,"touchstart",t[42]),z(e,"touchcancel",t[43]),z(e,"touchmove",t[44])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&be(a,l,t,t[15],o?ge(l,t[15],c,Q_):ve(t[15]),da),fe(e,u=ke(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(A(a,f),n&&n.end(1),o=!0)},o(f){S(a,f),f&&(n=zt(e,t[5],t[6])),o=!1},d(f){f&&T(e),a&&a.d(f),t[55](null),f&&n&&n.end(),i=!1,je(r)}}}function r0(t){let e,n,o,i,r;const l=t[16].default,a=_e(l,t,t[15],ma);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Z(u,s[f]);return{c(){e=O("div"),a&&a.c(),fe(e,u)},m(f,c){I(f,e,c),a&&a.m(e,null),t[54](e),o=!0,i||(r=[Ge(t[8].action(e)),z(e,"pointerdown",t[31]),z(e,"pointermove",t[32]),z(e,"pointerup",t[33]),z(e,"touchend",t[34]),z(e,"touchstart",t[35]),z(e,"touchcancel",t[36]),z(e,"touchmove",t[37])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&be(a,l,t,t[15],o?ge(l,t[15],c,z_):ve(t[15]),ma),fe(e,u=ke(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(A(a,f),f&&(n||it(()=>{n=Qt(e,t[3],t[4]),n.start()})),o=!0)},o(f){S(a,f),o=!1},d(f){f&&T(e),a&&a.d(f),t[54](null),i=!1,je(r)}}}function l0(t){let e,n,o,i,r,l;const a=t[16].default,s=_e(a,t,t[15],pa);let u=[t[8],t[12]],f={};for(let c=0;c<u.length;c+=1)f=Z(f,u[c]);return{c(){e=O("div"),s&&s.c(),fe(e,f)},m(c,d){I(c,e,d),s&&s.m(e,null),t[53](e),i=!0,r||(l=[Ge(t[8].action(e)),z(e,"pointerdown",t[24]),z(e,"pointermove",t[25]),z(e,"pointerup",t[26]),z(e,"touchend",t[27]),z(e,"touchstart",t[28]),z(e,"touchcancel",t[29]),z(e,"touchmove",t[30])],r=!0)},p(c,d){t=c,s&&s.p&&(!i||d[0]&33024)&&be(s,a,t,t[15],i?ge(a,t[15],d,e0):ve(t[15]),pa),fe(e,f=ke(u,[d[0]&256&&t[8],d[0]&4096&&t[12]]))},i(c){i||(A(s,c),c&&it(()=>{i&&(o&&o.end(1),n=Qt(e,t[3],t[4]),n.start())}),i=!0)},o(c){S(s,c),n&&n.invalidate(),c&&(o=zt(e,t[5],t[6])),i=!1},d(c){c&&T(e),s&&s.d(c),t[53](null),c&&o&&o.end(),r=!1,je(l)}}}function s0(t){let e,n,o,i,r;const l=t[16].default,a=_e(l,t,t[15],ha);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Z(u,s[f]);return{c(){e=O("div"),a&&a.c(),fe(e,u)},m(f,c){I(f,e,c),a&&a.m(e,null),t[52](e),o=!0,i||(r=[Ge(t[8].action(e)),z(e,"pointerdown",t[17]),z(e,"pointermove",t[18]),z(e,"pointerup",t[19]),z(e,"touchend",t[20]),z(e,"touchstart",t[21]),z(e,"touchcancel",t[22]),z(e,"touchmove",t[23])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&be(a,l,t,t[15],o?ge(l,t[15],c,t0):ve(t[15]),ha),fe(e,u=ke(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(A(a,f),f&&it(()=>{o&&(n||(n=Jt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(f){S(a,f),f&&(n||(n=Jt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(f){f&&T(e),a&&a.d(f),t[52](null),f&&n&&n.end(),i=!1,je(r)}}}function a0(t){let e;const n=t[16].default,o=_e(n,t,t[15],_a);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r[0]&33024)&&be(o,n,i,i[15],e?ge(n,i[15],r,n0):ve(i[15]),_a)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function u0(t){let e,n,o,i;const r=[a0,s0,l0,r0,i0,o0],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=De()},m(s,u){~e&&l[e].m(s,u),I(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Pe(),S(l[f],1,1,()=>{l[f]=null}),Ne()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),~e&&l[e].d(s)}}}function f0(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","id","asChild","el"];let r=se(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:p=void 0}=e,{outTransitionConfig:h=void 0}=e,{id:y=void 0}=e,{asChild:C=!1}=e,{el:k=void 0}=e;const{elements:{content:w},states:{open:R},ids:F,getAttrs:N}=Xn();ue(t,w,H=>n(14,l=H)),ue(t,R,H=>n(9,a=H));const $=N("content");function G(H){oe.call(this,t,H)}function L(H){oe.call(this,t,H)}function V(H){oe.call(this,t,H)}function v(H){oe.call(this,t,H)}function b(H){oe.call(this,t,H)}function M(H){oe.call(this,t,H)}function E(H){oe.call(this,t,H)}function W(H){oe.call(this,t,H)}function q(H){oe.call(this,t,H)}function J(H){oe.call(this,t,H)}function Q(H){oe.call(this,t,H)}function ee(H){oe.call(this,t,H)}function Y(H){oe.call(this,t,H)}function te(H){oe.call(this,t,H)}function ne(H){oe.call(this,t,H)}function me(H){oe.call(this,t,H)}function _(H){oe.call(this,t,H)}function D(H){oe.call(this,t,H)}function x(H){oe.call(this,t,H)}function ie(H){oe.call(this,t,H)}function ae(H){oe.call(this,t,H)}function Ie(H){oe.call(this,t,H)}function Me(H){oe.call(this,t,H)}function Ye(H){oe.call(this,t,H)}function ce(H){oe.call(this,t,H)}function Le(H){oe.call(this,t,H)}function He(H){oe.call(this,t,H)}function Fe(H){oe.call(this,t,H)}function Xe(H){oe.call(this,t,H)}function Ae(H){oe.call(this,t,H)}function Se(H){oe.call(this,t,H)}function kt(H){oe.call(this,t,H)}function Lt(H){oe.call(this,t,H)}function lt(H){oe.call(this,t,H)}function Dt(H){oe.call(this,t,H)}function Ft(H){$e[H?"unshift":"push"](()=>{k=H,n(0,k)})}function ct(H){$e[H?"unshift":"push"](()=>{k=H,n(0,k)})}function tt(H){$e[H?"unshift":"push"](()=>{k=H,n(0,k)})}function pe(H){$e[H?"unshift":"push"](()=>{k=H,n(0,k)})}function Je(H){$e[H?"unshift":"push"](()=>{k=H,n(0,k)})}return t.$$set=H=>{e=Z(Z({},e),Re(H)),n(12,r=se(e,i)),"transition"in H&&n(1,f=H.transition),"transitionConfig"in H&&n(2,c=H.transitionConfig),"inTransition"in H&&n(3,d=H.inTransition),"inTransitionConfig"in H&&n(4,m=H.inTransitionConfig),"outTransition"in H&&n(5,p=H.outTransition),"outTransitionConfig"in H&&n(6,h=H.outTransitionConfig),"id"in H&&n(13,y=H.id),"asChild"in H&&n(7,C=H.asChild),"el"in H&&n(0,k=H.el),"$$scope"in H&&n(15,u=H.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&8192&&y&&F.content.set(y),t.$$.dirty[0]&16384&&n(8,o=l),t.$$.dirty[0]&256&&Object.assign(o,$)},[k,f,c,d,m,p,h,C,o,a,w,R,r,y,l,u,s,G,L,V,v,b,M,E,W,q,J,Q,ee,Y,te,ne,me,_,D,x,ie,ae,Ie,Me,Ye,ce,Le,He,Fe,Xe,Ae,Se,kt,Lt,lt,Dt,Ft,ct,tt,pe,Je]}let c0=class extends we{constructor(e){super(),ye(this,e,f0,u0,de,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,id:13,asChild:7,el:0},null,[-1,-1])}};const d0=t=>({builder:t&256}),ga=t=>({builder:t[8]});function m0(t){let e,n,o,i=[t[8],t[12]],r={};for(let l=0;l<i.length;l+=1)r=Z(r,i[l]);return{c(){e=O("div"),fe(e,r)},m(l,a){I(l,e,a),t[20](e),n||(o=Ge(t[8].action(e)),n=!0)},p(l,a){fe(e,r=ke(i,[a&256&&l[8],a&4096&&l[12]]))},i:Ce,o:Ce,d(l){l&&T(e),t[20](null),n=!1,o()}}}function p0(t){let e,n,o,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=Z(a,l[s]);return{c(){e=O("div"),fe(e,a)},m(s,u){I(s,e,u),t[19](e),o=!0,i||(r=Ge(t[8].action(e)),i=!0)},p(s,u){t=s,fe(e,a=ke(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(n&&n.end(1),o=!0)},o(s){s&&(n=zt(e,t[5],t[6])),o=!1},d(s){s&&T(e),t[19](null),s&&n&&n.end(),i=!1,r()}}}function h0(t){let e,n,o,i,r=[t[8],t[12]],l={};for(let a=0;a<r.length;a+=1)l=Z(l,r[a]);return{c(){e=O("div"),fe(e,l)},m(a,s){I(a,e,s),t[18](e),o||(i=Ge(t[8].action(e)),o=!0)},p(a,s){t=a,fe(e,l=ke(r,[s&256&&t[8],s&4096&&t[12]]))},i(a){a&&(n||it(()=>{n=Qt(e,t[3],t[4]),n.start()}))},o:Ce,d(a){a&&T(e),t[18](null),o=!1,i()}}}function _0(t){let e,n,o,i,r,l,a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=Z(s,a[u]);return{c(){e=O("div"),fe(e,s)},m(u,f){I(u,e,f),t[17](e),i=!0,r||(l=Ge(t[8].action(e)),r=!0)},p(u,f){t=u,fe(e,s=ke(a,[f&256&&t[8],f&4096&&t[12]]))},i(u){i||(u&&it(()=>{i&&(o&&o.end(1),n=Qt(e,t[3],t[4]),n.start())}),i=!0)},o(u){n&&n.invalidate(),u&&(o=zt(e,t[5],t[6])),i=!1},d(u){u&&T(e),t[17](null),u&&o&&o.end(),r=!1,l()}}}function g0(t){let e,n,o,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=Z(a,l[s]);return{c(){e=O("div"),fe(e,a)},m(s,u){I(s,e,u),t[16](e),o=!0,i||(r=Ge(t[8].action(e)),i=!0)},p(s,u){t=s,fe(e,a=ke(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(s&&it(()=>{o&&(n||(n=Jt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(s){s&&(n||(n=Jt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(s){s&&T(e),t[16](null),s&&n&&n.end(),i=!1,r()}}}function b0(t){let e;const n=t[15].default,o=_e(n,t,t[14],ga);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&16640)&&be(o,n,i,i[14],e?ge(n,i[14],r,d0):ve(i[14]),ga)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function v0(t){let e,n,o,i;const r=[b0,g0,_0,h0,p0,m0],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=De()},m(s,u){~e&&l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Pe(),S(l[f],1,1,()=>{l[f]=null}),Ne()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),~e&&l[e].d(s)}}}function y0(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","el"];let r=se(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:p=void 0}=e,{outTransitionConfig:h=void 0}=e,{asChild:y=!1}=e,{el:C=void 0}=e;const{elements:{overlay:k},states:{open:w},getAttrs:R}=Xn();ue(t,k,v=>n(13,l=v)),ue(t,w,v=>n(9,a=v));const F=R("overlay");function N(v){$e[v?"unshift":"push"](()=>{C=v,n(0,C)})}function $(v){$e[v?"unshift":"push"](()=>{C=v,n(0,C)})}function G(v){$e[v?"unshift":"push"](()=>{C=v,n(0,C)})}function L(v){$e[v?"unshift":"push"](()=>{C=v,n(0,C)})}function V(v){$e[v?"unshift":"push"](()=>{C=v,n(0,C)})}return t.$$set=v=>{e=Z(Z({},e),Re(v)),n(12,r=se(e,i)),"transition"in v&&n(1,f=v.transition),"transitionConfig"in v&&n(2,c=v.transitionConfig),"inTransition"in v&&n(3,d=v.inTransition),"inTransitionConfig"in v&&n(4,m=v.inTransitionConfig),"outTransition"in v&&n(5,p=v.outTransition),"outTransitionConfig"in v&&n(6,h=v.outTransitionConfig),"asChild"in v&&n(7,y=v.asChild),"el"in v&&n(0,C=v.el),"$$scope"in v&&n(14,u=v.$$scope)},t.$$.update=()=>{t.$$.dirty&8192&&n(8,o=l),t.$$.dirty&256&&Object.assign(o,F)},[C,f,c,d,m,p,h,y,o,a,k,w,r,l,u,s,N,$,G,L,V]}let w0=class extends we{constructor(e){super(),ye(this,e,y0,v0,de,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,el:0})}};const k0=t=>({builder:t&4}),ba=t=>({builder:t[2]}),C0=t=>({builder:t&4}),va=t=>({builder:t[2]});function A0(t){let e,n,o,i;const r=t[8].default,l=_e(r,t,t[7],ba);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=Z(s,a[u]);return{c(){e=O("div"),l&&l.c(),fe(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),t[9](e),n=!0,o||(i=Ge(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&be(l,r,u,u[7],n?ge(r,u[7],f,k0):ve(u[7]),ba),fe(e,s=ke(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(A(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[9](null),o=!1,i()}}}function S0(t){let e;const n=t[8].default,o=_e(n,t,t[7],va);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&be(o,n,i,i[7],e?ge(n,i[7],r,C0):ve(i[7]),va)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function T0(t){let e,n,o,i;const r=[S0,A0],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),S(l[f],1,1,()=>{l[f]=null}),Ne(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function I0(t,e,n){let o;const i=["asChild","id","el"];let r=se(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{description:d},ids:m,getAttrs:p}=Xn();ue(t,d,C=>n(6,l=C));const h=p("description");function y(C){$e[C?"unshift":"push"](()=>{c=C,n(0,c)})}return t.$$set=C=>{e=Z(Z({},e),Re(C)),n(4,r=se(e,i)),"asChild"in C&&n(1,u=C.asChild),"id"in C&&n(5,f=C.id),"el"in C&&n(0,c=C.el),"$$scope"in C&&n(7,s=C.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f&&m.description.set(f),t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,h)},[c,u,o,d,r,f,l,s,a,y]}let M0=class extends we{constructor(e){super(),ye(this,e,I0,T0,de,{asChild:1,id:5,el:0})}};function O0(t,e){const n=[];return e.builders.forEach(o=>{const i=o.action(t);i&&n.push(i)}),{destroy:()=>{n.forEach(o=>{o.destroy&&o.destroy()})}}}function ya(t){const e={};return t.forEach(n=>{Object.keys(n).forEach(o=>{o!=="action"&&(e[o]=n[o])})}),e}function P0(t){let e=t[1]?"a":"button",n,o,i=(t[1]?"a":"button")&&Xr(t);return{c(){i&&i.c(),n=De()},m(r,l){i&&i.m(r,l),I(r,n,l),o=!0},p(r,l){r[1],e?de(e,r[1]?"a":"button")?(i.d(1),i=Xr(r),e=r[1]?"a":"button",i.c(),i.m(n.parentNode,n)):i.p(r,l):(i=Xr(r),e=r[1]?"a":"button",i.c(),i.m(n.parentNode,n))},i(r){o||(A(i,r),o=!0)},o(r){S(i,r),o=!1},d(r){r&&T(n),i&&i.d(r)}}}function N0(t){let e=t[1]?"a":"button",n,o,i=(t[1]?"a":"button")&&Jr(t);return{c(){i&&i.c(),n=De()},m(r,l){i&&i.m(r,l),I(r,n,l),o=!0},p(r,l){r[1],e?de(e,r[1]?"a":"button")?(i.d(1),i=Jr(r),e=r[1]?"a":"button",i.c(),i.m(n.parentNode,n)):i.p(r,l):(i=Jr(r),e=r[1]?"a":"button",i.c(),i.m(n.parentNode,n))},i(r){o||(A(i,r),o=!0)},o(r){S(i,r),o=!1},d(r){r&&T(n),i&&i.d(r)}}}function Xr(t){let e,n,o,i,r;const l=t[7].default,a=_e(l,t,t[6],null);let s=[{type:n=t[1]?void 0:t[2]},{href:t[1]},{tabindex:"0"},t[5],t[4]],u={};for(let f=0;f<s.length;f+=1)u=Z(u,s[f]);return{c(){e=O(t[1]?"a":"button"),a&&a.c(),wn(t[1]?"a":"button")(e,u)},m(f,c){I(f,e,c),a&&a.m(e,null),o=!0,i||(r=[z(e,"click",t[14]),z(e,"change",t[15]),z(e,"keydown",t[16]),z(e,"keyup",t[17]),z(e,"mouseenter",t[18]),z(e,"mouseleave",t[19])],i=!0)},p(f,c){a&&a.p&&(!o||c&64)&&be(a,l,f,f[6],o?ge(l,f[6],c,null):ve(f[6]),null),wn(f[1]?"a":"button")(e,u=ke(s,[(!o||c&6&&n!==(n=f[1]?void 0:f[2]))&&{type:n},(!o||c&2)&&{href:f[1]},{tabindex:"0"},c&32&&f[5],f[4]]))},i(f){o||(A(a,f),o=!0)},o(f){S(a,f),o=!1},d(f){f&&T(e),a&&a.d(f),i=!1,je(r)}}}function Jr(t){let e,n,o,i,r,l;const a=t[7].default,s=_e(a,t,t[6],null);let u=[{type:n=t[1]?void 0:t[2]},{href:t[1]},{tabindex:"0"},ya(t[3]),t[5],t[4]],f={};for(let c=0;c<u.length;c+=1)f=Z(f,u[c]);return{c(){e=O(t[1]?"a":"button"),s&&s.c(),wn(t[1]?"a":"button")(e,f)},m(c,d){I(c,e,d),s&&s.m(e,null),t[20](e),i=!0,r||(l=[z(e,"click",t[8]),z(e,"change",t[9]),z(e,"keydown",t[10]),z(e,"keyup",t[11]),z(e,"mouseenter",t[12]),z(e,"mouseleave",t[13]),Ge(o=O0.call(null,e,{builders:t[3]}))],r=!0)},p(c,d){s&&s.p&&(!i||d&64)&&be(s,a,c,c[6],i?ge(a,c[6],d,null):ve(c[6]),null),wn(c[1]?"a":"button")(e,f=ke(u,[(!i||d&6&&n!==(n=c[1]?void 0:c[2]))&&{type:n},(!i||d&2)&&{href:c[1]},{tabindex:"0"},d&8&&ya(c[3]),d&32&&c[5],c[4]])),o&&cn(o.update)&&d&8&&o.update.call(null,{builders:c[3]})},i(c){i||(A(s,c),i=!0)},o(c){S(s,c),i=!1},d(c){c&&T(e),s&&s.d(c),t[20](null),r=!1,je(l)}}}function E0(t){let e,n,o,i;const r=[N0,P0],l=[];function a(s,u){return s[3]&&s[3].length?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),S(l[f],1,1,()=>{l[f]=null}),Ne(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function $0(t,e,n){const o=["href","type","builders","el"];let i=se(e,o),{$$slots:r={},$$scope:l}=e,{href:a=void 0}=e,{type:s=void 0}=e,{builders:u=[]}=e,{el:f=void 0}=e;const c={"data-button-root":""};function d(L){oe.call(this,t,L)}function m(L){oe.call(this,t,L)}function p(L){oe.call(this,t,L)}function h(L){oe.call(this,t,L)}function y(L){oe.call(this,t,L)}function C(L){oe.call(this,t,L)}function k(L){oe.call(this,t,L)}function w(L){oe.call(this,t,L)}function R(L){oe.call(this,t,L)}function F(L){oe.call(this,t,L)}function N(L){oe.call(this,t,L)}function $(L){oe.call(this,t,L)}function G(L){$e[L?"unshift":"push"](()=>{f=L,n(0,f)})}return t.$$set=L=>{e=Z(Z({},e),Re(L)),n(5,i=se(e,o)),"href"in L&&n(1,a=L.href),"type"in L&&n(2,s=L.type),"builders"in L&&n(3,u=L.builders),"el"in L&&n(0,f=L.el),"$$scope"in L&&n(6,l=L.$$scope)},[f,a,s,u,c,i,l,r,d,m,p,h,y,C,k,w,R,F,N,$,G]}let R0=class extends we{constructor(e){super(),ye(this,e,$0,E0,de,{href:1,type:2,builders:3,el:0})}};function L0(t){return(e={})=>D0(t,e)}function D0(t,e){const o={...{side:"bottom",align:"center",sideOffset:0,alignOffset:0,sameWidth:!1,avoidCollisions:!0,collisionPadding:8,fitViewport:!1,strategy:"absolute",overlap:!1},...e};t.update(i=>({...i,placement:F0(o.side,o.align),offset:{...i.offset,mainAxis:o.sideOffset,crossAxis:o.alignOffset},gutter:0,sameWidth:o.sameWidth,flip:o.avoidCollisions,overflowPadding:o.collisionPadding,boundary:o.collisionBoundary,fitViewport:o.fitViewport,strategy:o.strategy,overlap:o.overlap}))}function F0(t,e){return e==="center"?t:`${t}-${e}`}function B0(){return{NAME:"separator",PARTS:["root"]}}function j0(t){const{NAME:e,PARTS:n}=B0(),o=Un(e,n),i={...d_(Mo(t)),getAttrs:o};return{...i,updateOption:Hn(i.options)}}const q0=t=>({builder:t&4}),wa=t=>({builder:t[2]});function G0(t){let e,n,o,i=[t[2],t[4]],r={};for(let l=0;l<i.length;l+=1)r=Z(r,i[l]);return{c(){e=O("div"),fe(e,r)},m(l,a){I(l,e,a),t[10](e),n||(o=Ge(t[2].action(e)),n=!0)},p(l,a){fe(e,r=ke(i,[a&4&&l[2],a&16&&l[4]]))},i:Ce,o:Ce,d(l){l&&T(e),t[10](null),n=!1,o()}}}function H0(t){let e;const n=t[9].default,o=_e(n,t,t[8],wa);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&260)&&be(o,n,i,i[8],e?ge(n,i[8],r,q0):ve(i[8]),wa)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function V0(t){let e,n,o,i;const r=[H0,G0],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),S(l[f],1,1,()=>{l[f]=null}),Ne(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function W0(t,e,n){let o;const i=["orientation","decorative","asChild","el"];let r=se(e,i),l,{$$slots:a={},$$scope:s}=e,{orientation:u="horizontal"}=e,{decorative:f=!0}=e,{asChild:c=!1}=e,{el:d=void 0}=e;const{elements:{root:m},updateOption:p,getAttrs:h}=j0({orientation:u,decorative:f});ue(t,m,k=>n(7,l=k));const y=h("root");function C(k){$e[k?"unshift":"push"](()=>{d=k,n(0,d)})}return t.$$set=k=>{e=Z(Z({},e),Re(k)),n(4,r=se(e,i)),"orientation"in k&&n(5,u=k.orientation),"decorative"in k&&n(6,f=k.decorative),"asChild"in k&&n(1,c=k.asChild),"el"in k&&n(0,d=k.el),"$$scope"in k&&n(8,s=k.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&p("orientation",u),t.$$.dirty&64&&p("decorative",f),t.$$.dirty&128&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,y)},[d,c,o,m,r,u,f,l,s,a,C]}let Y0=class extends we{constructor(e){super(),ye(this,e,W0,V0,de,{orientation:5,decorative:6,asChild:1,el:0})}};function Zc(){return{NAME:"dialog",PARTS:["close","content","description","overlay","portal","title","trigger"]}}function U0(t){const{NAME:e,PARTS:n}=Zc(),o=Un(e,n),i={...Jc({...Mo(t),role:"dialog",forceVisible:!0}),getAttrs:o};return br(e,i),{...i,updateOption:Hn(i.options)}}function Oo(){const{NAME:t}=Zc();return vr(t)}const K0=t=>({ids:t&1}),ka=t=>({ids:t[0]});function X0(t){let e;const n=t[12].default,o=_e(n,t,t[11],ka);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,[r]){o&&o.p&&(!e||r&2049)&&be(o,n,i,i[11],e?ge(n,i[11],r,K0):ve(i[11]),ka)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function J0(t,e,n){let o,{$$slots:i={},$$scope:r}=e,{preventScroll:l=void 0}=e,{closeOnEscape:a=void 0}=e,{closeOnOutsideClick:s=void 0}=e,{portal:u=void 0}=e,{open:f=void 0}=e,{onOpenChange:c=void 0}=e,{openFocus:d=void 0}=e,{closeFocus:m=void 0}=e,{onOutsideClick:p=void 0}=e;const{states:{open:h},updateOption:y,ids:C}=U0({closeOnEscape:a,preventScroll:l,closeOnOutsideClick:s,portal:u,forceVisible:!0,defaultOpen:f,openFocus:d,closeFocus:m,onOutsideClick:p,onOpenChange:({next:w})=>(f!==w&&(c==null||c(w),n(2,f=w)),w)}),k=dn([C.content,C.description,C.title],([w,R,F])=>({content:w,description:R,title:F}));return ue(t,k,w=>n(0,o=w)),t.$$set=w=>{"preventScroll"in w&&n(3,l=w.preventScroll),"closeOnEscape"in w&&n(4,a=w.closeOnEscape),"closeOnOutsideClick"in w&&n(5,s=w.closeOnOutsideClick),"portal"in w&&n(6,u=w.portal),"open"in w&&n(2,f=w.open),"onOpenChange"in w&&n(7,c=w.onOpenChange),"openFocus"in w&&n(8,d=w.openFocus),"closeFocus"in w&&n(9,m=w.closeFocus),"onOutsideClick"in w&&n(10,p=w.onOutsideClick),"$$scope"in w&&n(11,r=w.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&f!==void 0&&h.set(f),t.$$.dirty&8&&y("preventScroll",l),t.$$.dirty&16&&y("closeOnEscape",a),t.$$.dirty&32&&y("closeOnOutsideClick",s),t.$$.dirty&64&&y("portal",u),t.$$.dirty&256&&y("openFocus",d),t.$$.dirty&512&&y("closeFocus",m),t.$$.dirty&1024&&y("onOutsideClick",p)},[o,k,f,l,a,s,u,c,d,m,p,r,i]}class x0 extends we{constructor(e){super(),ye(this,e,J0,X0,de,{preventScroll:3,closeOnEscape:4,closeOnOutsideClick:5,portal:6,open:2,onOpenChange:7,openFocus:8,closeFocus:9,onOutsideClick:10})}}const Z0=t=>({builder:t&8}),Ca=t=>({builder:t[3]}),Q0=t=>({builder:t&8}),Aa=t=>({builder:t[3]});function z0(t){let e=t[1],n,o,i=t[1]&&xr(t);return{c(){i&&i.c(),n=De()},m(r,l){i&&i.m(r,l),I(r,n,l),o=!0},p(r,l){r[1]?e?de(e,r[1])?(i.d(1),i=xr(r),e=r[1],i.c(),i.m(n.parentNode,n)):i.p(r,l):(i=xr(r),e=r[1],i.c(),i.m(n.parentNode,n)):e&&(i.d(1),i=null,e=r[1])},i(r){o||(A(i,r),o=!0)},o(r){S(i,r),o=!1},d(r){r&&T(n),i&&i.d(r)}}}function eg(t){let e;const n=t[9].default,o=_e(n,t,t[8],Aa);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&264)&&be(o,n,i,i[8],e?ge(n,i[8],r,Q0):ve(i[8]),Aa)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function xr(t){let e,n,o,i;const r=t[9].default,l=_e(r,t,t[8],Ca);let a=[t[3],t[5]],s={};for(let u=0;u<a.length;u+=1)s=Z(s,a[u]);return{c(){e=O(t[1]),l&&l.c(),wn(t[1])(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),t[10](e),n=!0,o||(i=Ge(t[3].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&264)&&be(l,r,u,u[8],n?ge(r,u[8],f,Z0):ve(u[8]),Ca),wn(u[1])(e,s=ke(a,[f&8&&u[3],f&32&&u[5]]))},i(u){n||(A(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[10](null),o=!1,i()}}}function tg(t){let e,n,o,i;const r=[eg,z0],l=[];function a(s,u){return s[2]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),S(l[f],1,1,()=>{l[f]=null}),Ne(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function ng(t,e,n){let o;const i=["level","asChild","id","el"];let r=se(e,i),l,{$$slots:a={},$$scope:s}=e,{level:u="h2"}=e,{asChild:f=!1}=e,{id:c=void 0}=e,{el:d=void 0}=e;const{elements:{title:m},ids:p,getAttrs:h}=Oo();ue(t,m,k=>n(7,l=k));const y=h("title");function C(k){$e[k?"unshift":"push"](()=>{d=k,n(0,d)})}return t.$$set=k=>{e=Z(Z({},e),Re(k)),n(5,r=se(e,i)),"level"in k&&n(1,u=k.level),"asChild"in k&&n(2,f=k.asChild),"id"in k&&n(6,c=k.id),"el"in k&&n(0,d=k.el),"$$scope"in k&&n(8,s=k.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&c&&p.title.set(c),t.$$.dirty&128&&n(3,o=l),t.$$.dirty&8&&Object.assign(o,y)},[d,u,f,o,m,r,c,l,s,a,C]}let og=class extends we{constructor(e){super(),ye(this,e,ng,tg,de,{level:1,asChild:2,id:6,el:0})}};const ig=t=>({builder:t&4}),Sa=t=>({builder:t[2]}),rg=t=>({builder:t&4}),Ta=t=>({builder:t[2]});function lg(t){let e,n,o,i;const r=t[8].default,l=_e(r,t,t[7],Sa);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=Z(s,a[u]);return{c(){e=O("button"),l&&l.c(),fe(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[9](e),n=!0,o||(i=[Ge(t[2].action(e)),z(e,"m-click",t[4]),z(e,"m-keydown",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&be(l,r,u,u[7],n?ge(r,u[7],f,ig):ve(u[7]),Sa),fe(e,s=ke(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(A(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[9](null),o=!1,je(i)}}}function sg(t){let e;const n=t[8].default,o=_e(n,t,t[7],Ta);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&be(o,n,i,i[7],e?ge(n,i[7],r,rg):ve(i[7]),Ta)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function ag(t){let e,n,o,i;const r=[sg,lg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),S(l[f],1,1,()=>{l[f]=null}),Ne(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function ug(t,e,n){let o;const i=["asChild","el"];let r=se(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:d}=Oo();ue(t,c,y=>n(6,l=y));const m=Kn(),p=d("close");function h(y){$e[y?"unshift":"push"](()=>{f=y,n(0,f)})}return t.$$set=y=>{e=Z(Z({},e),Re(y)),n(5,r=se(e,i)),"asChild"in y&&n(1,u=y.asChild),"el"in y&&n(0,f=y.el),"$$scope"in y&&n(7,s=y.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,p)},[f,u,o,c,m,r,l,s,a,h]}class fg extends we{constructor(e){super(),ye(this,e,ug,ag,de,{asChild:1,el:0})}}const cg=t=>({builder:t&4}),Ia=t=>({builder:t[2]}),dg=t=>({builder:t&4}),Ma=t=>({builder:t[2]});function mg(t){let e,n,o,i;const r=t[7].default,l=_e(r,t,t[6],Ia);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=Z(s,a[u]);return{c(){e=O("div"),l&&l.c(),fe(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),t[8](e),n=!0,o||(i=Ge(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&68)&&be(l,r,u,u[6],n?ge(r,u[6],f,cg):ve(u[6]),Ia),fe(e,s=ke(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(A(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[8](null),o=!1,i()}}}function pg(t){let e;const n=t[7].default,o=_e(n,t,t[6],Ma);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&68)&&be(o,n,i,i[6],e?ge(n,i[6],r,dg):ve(i[6]),Ma)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function hg(t){let e,n,o,i;const r=[pg,mg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),S(l[f],1,1,()=>{l[f]=null}),Ne(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function _g(t,e,n){let o;const i=["asChild","el"];let r=se(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{portalled:c},getAttrs:d}=Oo();ue(t,c,h=>n(5,l=h));const m=d("portal");function p(h){$e[h?"unshift":"push"](()=>{f=h,n(0,f)})}return t.$$set=h=>{e=Z(Z({},e),Re(h)),n(4,r=se(e,i)),"asChild"in h&&n(1,u=h.asChild),"el"in h&&n(0,f=h.el),"$$scope"in h&&n(6,s=h.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,m)},[f,u,o,c,r,l,s,a,p]}let gg=class extends we{constructor(e){super(),ye(this,e,_g,hg,de,{asChild:1,el:0})}};const bg=t=>({builder:t[0]&256}),Oa=t=>({builder:t[8]}),vg=t=>({builder:t[0]&256}),Pa=t=>({builder:t[8]}),yg=t=>({builder:t[0]&256}),Na=t=>({builder:t[8]}),wg=t=>({builder:t[0]&256}),Ea=t=>({builder:t[8]}),kg=t=>({builder:t[0]&256}),$a=t=>({builder:t[8]}),Cg=t=>({builder:t[0]&256}),Ra=t=>({builder:t[8]});function Ag(t){let e,n,o,i;const r=t[16].default,l=_e(r,t,t[15],Oa);let a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=Z(s,a[u]);return{c(){e=O("div"),l&&l.c(),fe(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),t[56](e),n=!0,o||(i=[Ge(t[8].action(e)),z(e,"pointerdown",t[45]),z(e,"pointermove",t[46]),z(e,"pointerup",t[47]),z(e,"touchend",t[48]),z(e,"touchstart",t[49]),z(e,"touchcancel",t[50]),z(e,"touchmove",t[51])],o=!0)},p(u,f){l&&l.p&&(!n||f[0]&33024)&&be(l,r,u,u[15],n?ge(r,u[15],f,bg):ve(u[15]),Oa),fe(e,s=ke(a,[f[0]&256&&u[8],f[0]&4096&&u[12]]))},i(u){n||(A(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[56](null),o=!1,je(i)}}}function Sg(t){let e,n,o,i,r;const l=t[16].default,a=_e(l,t,t[15],Pa);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Z(u,s[f]);return{c(){e=O("div"),a&&a.c(),fe(e,u)},m(f,c){I(f,e,c),a&&a.m(e,null),t[55](e),o=!0,i||(r=[Ge(t[8].action(e)),z(e,"pointerdown",t[38]),z(e,"pointermove",t[39]),z(e,"pointerup",t[40]),z(e,"touchend",t[41]),z(e,"touchstart",t[42]),z(e,"touchcancel",t[43]),z(e,"touchmove",t[44])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&be(a,l,t,t[15],o?ge(l,t[15],c,vg):ve(t[15]),Pa),fe(e,u=ke(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(A(a,f),n&&n.end(1),o=!0)},o(f){S(a,f),f&&(n=zt(e,t[5],t[6])),o=!1},d(f){f&&T(e),a&&a.d(f),t[55](null),f&&n&&n.end(),i=!1,je(r)}}}function Tg(t){let e,n,o,i,r;const l=t[16].default,a=_e(l,t,t[15],Na);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Z(u,s[f]);return{c(){e=O("div"),a&&a.c(),fe(e,u)},m(f,c){I(f,e,c),a&&a.m(e,null),t[54](e),o=!0,i||(r=[Ge(t[8].action(e)),z(e,"pointerdown",t[31]),z(e,"pointermove",t[32]),z(e,"pointerup",t[33]),z(e,"touchend",t[34]),z(e,"touchstart",t[35]),z(e,"touchcancel",t[36]),z(e,"touchmove",t[37])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&be(a,l,t,t[15],o?ge(l,t[15],c,yg):ve(t[15]),Na),fe(e,u=ke(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(A(a,f),f&&(n||it(()=>{n=Qt(e,t[3],t[4]),n.start()})),o=!0)},o(f){S(a,f),o=!1},d(f){f&&T(e),a&&a.d(f),t[54](null),i=!1,je(r)}}}function Ig(t){let e,n,o,i,r,l;const a=t[16].default,s=_e(a,t,t[15],Ea);let u=[t[8],t[12]],f={};for(let c=0;c<u.length;c+=1)f=Z(f,u[c]);return{c(){e=O("div"),s&&s.c(),fe(e,f)},m(c,d){I(c,e,d),s&&s.m(e,null),t[53](e),i=!0,r||(l=[Ge(t[8].action(e)),z(e,"pointerdown",t[24]),z(e,"pointermove",t[25]),z(e,"pointerup",t[26]),z(e,"touchend",t[27]),z(e,"touchstart",t[28]),z(e,"touchcancel",t[29]),z(e,"touchmove",t[30])],r=!0)},p(c,d){t=c,s&&s.p&&(!i||d[0]&33024)&&be(s,a,t,t[15],i?ge(a,t[15],d,wg):ve(t[15]),Ea),fe(e,f=ke(u,[d[0]&256&&t[8],d[0]&4096&&t[12]]))},i(c){i||(A(s,c),c&&it(()=>{i&&(o&&o.end(1),n=Qt(e,t[3],t[4]),n.start())}),i=!0)},o(c){S(s,c),n&&n.invalidate(),c&&(o=zt(e,t[5],t[6])),i=!1},d(c){c&&T(e),s&&s.d(c),t[53](null),c&&o&&o.end(),r=!1,je(l)}}}function Mg(t){let e,n,o,i,r;const l=t[16].default,a=_e(l,t,t[15],$a);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Z(u,s[f]);return{c(){e=O("div"),a&&a.c(),fe(e,u)},m(f,c){I(f,e,c),a&&a.m(e,null),t[52](e),o=!0,i||(r=[Ge(t[8].action(e)),z(e,"pointerdown",t[17]),z(e,"pointermove",t[18]),z(e,"pointerup",t[19]),z(e,"touchend",t[20]),z(e,"touchstart",t[21]),z(e,"touchcancel",t[22]),z(e,"touchmove",t[23])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&be(a,l,t,t[15],o?ge(l,t[15],c,kg):ve(t[15]),$a),fe(e,u=ke(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(A(a,f),f&&it(()=>{o&&(n||(n=Jt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(f){S(a,f),f&&(n||(n=Jt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(f){f&&T(e),a&&a.d(f),t[52](null),f&&n&&n.end(),i=!1,je(r)}}}function Og(t){let e;const n=t[16].default,o=_e(n,t,t[15],Ra);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r[0]&33024)&&be(o,n,i,i[15],e?ge(n,i[15],r,Cg):ve(i[15]),Ra)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Pg(t){let e,n,o,i;const r=[Og,Mg,Ig,Tg,Sg,Ag],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=De()},m(s,u){~e&&l[e].m(s,u),I(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Pe(),S(l[f],1,1,()=>{l[f]=null}),Ne()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),~e&&l[e].d(s)}}}function Ng(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","id","el"];let r=se(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:p=void 0}=e,{outTransitionConfig:h=void 0}=e,{asChild:y=!1}=e,{id:C=void 0}=e,{el:k=void 0}=e;const{elements:{content:w},states:{open:R},ids:F,getAttrs:N}=Oo();ue(t,w,H=>n(14,l=H)),ue(t,R,H=>n(9,a=H));const $=N("content");function G(H){oe.call(this,t,H)}function L(H){oe.call(this,t,H)}function V(H){oe.call(this,t,H)}function v(H){oe.call(this,t,H)}function b(H){oe.call(this,t,H)}function M(H){oe.call(this,t,H)}function E(H){oe.call(this,t,H)}function W(H){oe.call(this,t,H)}function q(H){oe.call(this,t,H)}function J(H){oe.call(this,t,H)}function Q(H){oe.call(this,t,H)}function ee(H){oe.call(this,t,H)}function Y(H){oe.call(this,t,H)}function te(H){oe.call(this,t,H)}function ne(H){oe.call(this,t,H)}function me(H){oe.call(this,t,H)}function _(H){oe.call(this,t,H)}function D(H){oe.call(this,t,H)}function x(H){oe.call(this,t,H)}function ie(H){oe.call(this,t,H)}function ae(H){oe.call(this,t,H)}function Ie(H){oe.call(this,t,H)}function Me(H){oe.call(this,t,H)}function Ye(H){oe.call(this,t,H)}function ce(H){oe.call(this,t,H)}function Le(H){oe.call(this,t,H)}function He(H){oe.call(this,t,H)}function Fe(H){oe.call(this,t,H)}function Xe(H){oe.call(this,t,H)}function Ae(H){oe.call(this,t,H)}function Se(H){oe.call(this,t,H)}function kt(H){oe.call(this,t,H)}function Lt(H){oe.call(this,t,H)}function lt(H){oe.call(this,t,H)}function Dt(H){oe.call(this,t,H)}function Ft(H){$e[H?"unshift":"push"](()=>{k=H,n(0,k)})}function ct(H){$e[H?"unshift":"push"](()=>{k=H,n(0,k)})}function tt(H){$e[H?"unshift":"push"](()=>{k=H,n(0,k)})}function pe(H){$e[H?"unshift":"push"](()=>{k=H,n(0,k)})}function Je(H){$e[H?"unshift":"push"](()=>{k=H,n(0,k)})}return t.$$set=H=>{e=Z(Z({},e),Re(H)),n(12,r=se(e,i)),"transition"in H&&n(1,f=H.transition),"transitionConfig"in H&&n(2,c=H.transitionConfig),"inTransition"in H&&n(3,d=H.inTransition),"inTransitionConfig"in H&&n(4,m=H.inTransitionConfig),"outTransition"in H&&n(5,p=H.outTransition),"outTransitionConfig"in H&&n(6,h=H.outTransitionConfig),"asChild"in H&&n(7,y=H.asChild),"id"in H&&n(13,C=H.id),"el"in H&&n(0,k=H.el),"$$scope"in H&&n(15,u=H.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&8192&&C&&F.content.set(C),t.$$.dirty[0]&16384&&n(8,o=l),t.$$.dirty[0]&256&&Object.assign(o,$)},[k,f,c,d,m,p,h,y,o,a,w,R,r,C,l,u,s,G,L,V,v,b,M,E,W,q,J,Q,ee,Y,te,ne,me,_,D,x,ie,ae,Ie,Me,Ye,ce,Le,He,Fe,Xe,Ae,Se,kt,Lt,lt,Dt,Ft,ct,tt,pe,Je]}let Eg=class extends we{constructor(e){super(),ye(this,e,Ng,Pg,de,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,id:13,el:0},null,[-1,-1])}};const $g=t=>({builder:t&256}),La=t=>({builder:t[8]});function Rg(t){let e,n,o,i=[t[8],t[12]],r={};for(let l=0;l<i.length;l+=1)r=Z(r,i[l]);return{c(){e=O("div"),fe(e,r)},m(l,a){I(l,e,a),t[25](e),n||(o=[Ge(t[8].action(e)),z(e,"mouseup",t[20])],n=!0)},p(l,a){fe(e,r=ke(i,[a&256&&l[8],a&4096&&l[12]]))},i:Ce,o:Ce,d(l){l&&T(e),t[25](null),n=!1,je(o)}}}function Lg(t){let e,n,o,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=Z(a,l[s]);return{c(){e=O("div"),fe(e,a)},m(s,u){I(s,e,u),t[24](e),o=!0,i||(r=[Ge(t[8].action(e)),z(e,"mouseup",t[19])],i=!0)},p(s,u){t=s,fe(e,a=ke(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(n&&n.end(1),o=!0)},o(s){s&&(n=zt(e,t[5],t[6])),o=!1},d(s){s&&T(e),t[24](null),s&&n&&n.end(),i=!1,je(r)}}}function Dg(t){let e,n,o,i,r=[t[8],t[12]],l={};for(let a=0;a<r.length;a+=1)l=Z(l,r[a]);return{c(){e=O("div"),fe(e,l)},m(a,s){I(a,e,s),t[23](e),o||(i=[Ge(t[8].action(e)),z(e,"mouseup",t[18])],o=!0)},p(a,s){t=a,fe(e,l=ke(r,[s&256&&t[8],s&4096&&t[12]]))},i(a){a&&(n||it(()=>{n=Qt(e,t[3],t[4]),n.start()}))},o:Ce,d(a){a&&T(e),t[23](null),o=!1,je(i)}}}function Fg(t){let e,n,o,i,r,l,a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=Z(s,a[u]);return{c(){e=O("div"),fe(e,s)},m(u,f){I(u,e,f),t[22](e),i=!0,r||(l=[Ge(t[8].action(e)),z(e,"mouseup",t[17])],r=!0)},p(u,f){t=u,fe(e,s=ke(a,[f&256&&t[8],f&4096&&t[12]]))},i(u){i||(u&&it(()=>{i&&(o&&o.end(1),n=Qt(e,t[3],t[4]),n.start())}),i=!0)},o(u){n&&n.invalidate(),u&&(o=zt(e,t[5],t[6])),i=!1},d(u){u&&T(e),t[22](null),u&&o&&o.end(),r=!1,je(l)}}}function Bg(t){let e,n,o,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=Z(a,l[s]);return{c(){e=O("div"),fe(e,a)},m(s,u){I(s,e,u),t[21](e),o=!0,i||(r=[z(e,"mouseup",t[16]),Ge(t[8].action(e))],i=!0)},p(s,u){t=s,fe(e,a=ke(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(s&&it(()=>{o&&(n||(n=Jt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(s){s&&(n||(n=Jt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(s){s&&T(e),t[21](null),s&&n&&n.end(),i=!1,je(r)}}}function jg(t){let e;const n=t[15].default,o=_e(n,t,t[14],La);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&16640)&&be(o,n,i,i[14],e?ge(n,i[14],r,$g):ve(i[14]),La)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function qg(t){let e,n,o,i;const r=[jg,Bg,Fg,Dg,Lg,Rg],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=De()},m(s,u){~e&&l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Pe(),S(l[f],1,1,()=>{l[f]=null}),Ne()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),~e&&l[e].d(s)}}}function Gg(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","el"];let r=se(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:p=void 0}=e,{outTransitionConfig:h=void 0}=e,{asChild:y=!1}=e,{el:C=void 0}=e;const{elements:{overlay:k},states:{open:w},getAttrs:R}=Oo();ue(t,k,q=>n(13,l=q)),ue(t,w,q=>n(9,a=q));const F=R("overlay");function N(q){oe.call(this,t,q)}function $(q){oe.call(this,t,q)}function G(q){oe.call(this,t,q)}function L(q){oe.call(this,t,q)}function V(q){oe.call(this,t,q)}function v(q){$e[q?"unshift":"push"](()=>{C=q,n(0,C)})}function b(q){$e[q?"unshift":"push"](()=>{C=q,n(0,C)})}function M(q){$e[q?"unshift":"push"](()=>{C=q,n(0,C)})}function E(q){$e[q?"unshift":"push"](()=>{C=q,n(0,C)})}function W(q){$e[q?"unshift":"push"](()=>{C=q,n(0,C)})}return t.$$set=q=>{e=Z(Z({},e),Re(q)),n(12,r=se(e,i)),"transition"in q&&n(1,f=q.transition),"transitionConfig"in q&&n(2,c=q.transitionConfig),"inTransition"in q&&n(3,d=q.inTransition),"inTransitionConfig"in q&&n(4,m=q.inTransitionConfig),"outTransition"in q&&n(5,p=q.outTransition),"outTransitionConfig"in q&&n(6,h=q.outTransitionConfig),"asChild"in q&&n(7,y=q.asChild),"el"in q&&n(0,C=q.el),"$$scope"in q&&n(14,u=q.$$scope)},t.$$.update=()=>{t.$$.dirty&8192&&n(8,o=l),t.$$.dirty&256&&Object.assign(o,F)},[C,f,c,d,m,p,h,y,o,a,k,w,r,l,u,s,N,$,G,L,V,v,b,M,E,W]}let Hg=class extends we{constructor(e){super(),ye(this,e,Gg,qg,de,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,el:0})}};const Vg=t=>({builder:t&4}),Da=t=>({builder:t[2]}),Wg=t=>({builder:t&4}),Fa=t=>({builder:t[2]});function Yg(t){let e,n,o,i;const r=t[8].default,l=_e(r,t,t[7],Da);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=Z(s,a[u]);return{c(){e=O("div"),l&&l.c(),fe(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),t[9](e),n=!0,o||(i=Ge(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&be(l,r,u,u[7],n?ge(r,u[7],f,Vg):ve(u[7]),Da),fe(e,s=ke(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(A(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[9](null),o=!1,i()}}}function Ug(t){let e;const n=t[8].default,o=_e(n,t,t[7],Fa);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&be(o,n,i,i[7],e?ge(n,i[7],r,Wg):ve(i[7]),Fa)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Kg(t){let e,n,o,i;const r=[Ug,Yg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),S(l[f],1,1,()=>{l[f]=null}),Ne(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function Xg(t,e,n){let o;const i=["asChild","id","el"];let r=se(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{description:d},ids:m,getAttrs:p}=Oo();ue(t,d,C=>n(6,l=C));const h=p("description");function y(C){$e[C?"unshift":"push"](()=>{c=C,n(0,c)})}return t.$$set=C=>{e=Z(Z({},e),Re(C)),n(4,r=se(e,i)),"asChild"in C&&n(1,u=C.asChild),"id"in C&&n(5,f=C.id),"el"in C&&n(0,c=C.el),"$$scope"in C&&n(7,s=C.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f&&m.description.set(f),t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,h)},[c,u,o,d,r,f,l,s,a,y]}let Jg=class extends we{constructor(e){super(),ye(this,e,Xg,Kg,de,{asChild:1,id:5,el:0})}};function xg(){const t="label",n=Un(t,["root"]);return{NAME:t,getAttrs:n}}const Zg=t=>({builder:t&4}),Ba=t=>({builder:t[2]}),Qg=t=>({builder:t&4}),ja=t=>({builder:t[2]});function zg(t){let e,n,o,i;const r=t[8].default,l=_e(r,t,t[7],Ba);let a=[t[2],t[5]],s={};for(let u=0;u<a.length;u+=1)s=Z(s,a[u]);return{c(){e=O("label"),l&&l.c(),fe(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),t[9](e),n=!0,o||(i=[Ge(t[2].action(e)),z(e,"m-mousedown",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&be(l,r,u,u[7],n?ge(r,u[7],f,Zg):ve(u[7]),Ba),fe(e,s=ke(a,[f&4&&u[2],f&32&&u[5]]))},i(u){n||(A(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[9](null),o=!1,je(i)}}}function e1(t){let e;const n=t[8].default,o=_e(n,t,t[7],ja);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&be(o,n,i,i[7],e?ge(n,i[7],r,Qg):ve(i[7]),ja)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function t1(t){let e,n,o,i;const r=[e1,zg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),S(l[f],1,1,()=>{l[f]=null}),Ne(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function n1(t,e,n){let o;const i=["asChild","el"];let r=se(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{root:c}}=r_();ue(t,c,y=>n(6,l=y));const d=Kn(),{getAttrs:m}=xg(),p=m("root");function h(y){$e[y?"unshift":"push"](()=>{f=y,n(0,f)})}return t.$$set=y=>{e=Z(Z({},e),Re(y)),n(5,r=se(e,i)),"asChild"in y&&n(1,u=y.asChild),"el"in y&&n(0,f=y.el),"$$scope"in y&&n(7,s=y.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,p)},[f,u,o,c,d,r,l,s,a,h]}let o1=class extends we{constructor(e){super(),ye(this,e,n1,t1,de,{asChild:1,el:0})}};function i1(){return{NAME:"progress",PARTS:["root"]}}function r1(t){const{NAME:e,PARTS:n}=i1(),o=Un(e,n),i={...f_(Mo(t)),getAttrs:o};return{...i,updateOption:Hn(i.options)}}const l1=t=>({builder:t&4}),qa=t=>({builder:t[2]}),s1=t=>({builder:t&4}),Ga=t=>({builder:t[2]});function a1(t){let e,n,o,i;const r=t[10].default,l=_e(r,t,t[9],qa);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=Z(s,a[u]);return{c(){e=O("div"),l&&l.c(),fe(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),t[11](e),n=!0,o||(i=Ge(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&516)&&be(l,r,u,u[9],n?ge(r,u[9],f,l1):ve(u[9]),qa),fe(e,s=ke(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(A(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[11](null),o=!1,i()}}}function u1(t){let e;const n=t[10].default,o=_e(n,t,t[9],Ga);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&516)&&be(o,n,i,i[9],e?ge(n,i[9],r,s1):ve(i[9]),Ga)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function f1(t){let e,n,o,i;const r=[u1,a1],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),S(l[f],1,1,()=>{l[f]=null}),Ne(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function c1(t,e,n){let o;const i=["max","value","onValueChange","asChild","el"];let r=se(e,i),l,{$$slots:a={},$$scope:s}=e,{max:u=void 0}=e,{value:f=void 0}=e,{onValueChange:c=void 0}=e,{asChild:d=!1}=e,{el:m=void 0}=e;const{elements:{root:p},states:{value:h},updateOption:y,getAttrs:C}=r1({max:u,defaultValue:f,onValueChange:({next:R})=>(c==null||c(R),n(5,f=R),R)});ue(t,p,R=>n(8,l=R));const k=C("root");function w(R){$e[R?"unshift":"push"](()=>{m=R,n(0,m)})}return t.$$set=R=>{e=Z(Z({},e),Re(R)),n(4,r=se(e,i)),"max"in R&&n(6,u=R.max),"value"in R&&n(5,f=R.value),"onValueChange"in R&&n(7,c=R.onValueChange),"asChild"in R&&n(1,d=R.asChild),"el"in R&&n(0,m=R.el),"$$scope"in R&&n(9,s=R.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f!==void 0&&h.set(f),t.$$.dirty&64&&y("max",u),t.$$.dirty&256&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,k)},[m,d,o,p,r,f,u,c,l,s,a,w]}let d1=class extends we{constructor(e){super(),ye(this,e,c1,f1,de,{max:6,value:5,onValueChange:7,asChild:1,el:0})}};function Qc(){return{NAME:"slider",PARTS:["root","input","range","thumb","tick"]}}function m1(t){const{NAME:e,PARTS:n}=Qc(),o=Un(e,n),i={...p_(Mo(t)),getAttrs:o};return br(e,i),{...i,updateOption:Hn(i.options)}}function zc(){const{NAME:t}=Qc();return vr(t)}const p1=t=>({builder:t&4,ticks:t&8,thumbs:t&16}),Ha=t=>({builder:t[2],ticks:t[3],thumbs:t[4]}),h1=t=>({builder:t&4,ticks:t&8,thumbs:t&16}),Va=t=>({builder:t[2],ticks:t[3],thumbs:t[4]});function _1(t){let e,n,o,i;const r=t[18].default,l=_e(r,t,t[17],Ha);let a=[t[2],t[8]],s={};for(let u=0;u<a.length;u+=1)s=Z(s,a[u]);return{c(){e=O("span"),l&&l.c(),fe(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),t[19](e),n=!0,o||(i=Ge(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&131100)&&be(l,r,u,u[17],n?ge(r,u[17],f,p1):ve(u[17]),Ha),fe(e,s=ke(a,[f&4&&u[2],f&256&&u[8]]))},i(u){n||(A(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[19](null),o=!1,i()}}}function g1(t){let e;const n=t[18].default,o=_e(n,t,t[17],Va);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&131100)&&be(o,n,i,i[17],e?ge(n,i[17],r,h1):ve(i[17]),Va)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function b1(t){let e,n,o,i;const r=[g1,_1],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),S(l[f],1,1,()=>{l[f]=null}),Ne(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function v1(t,e,n){let o;const i=["disabled","min","max","step","orientation","value","onValueChange","asChild","el"];let r=se(e,i),l,a,s,{$$slots:u={},$$scope:f}=e,{disabled:c=void 0}=e,{min:d=void 0}=e,{max:m=void 0}=e,{step:p=void 0}=e,{orientation:h=void 0}=e,{value:y=void 0}=e,{onValueChange:C=void 0}=e,{asChild:k=!1}=e,{el:w=void 0}=e;const{elements:{root:R,ticks:F,thumbs:N},states:{value:$},updateOption:G,getAttrs:L}=m1({disabled:c,min:d,max:m,step:p,orientation:h,defaultValue:y,onValueChange:({next:b})=>(y!==b&&(C==null||C(b),n(9,y=b)),b)});ue(t,R,b=>n(16,l=b)),ue(t,F,b=>n(3,a=b)),ue(t,N,b=>n(4,s=b));const V=L("root");function v(b){$e[b?"unshift":"push"](()=>{w=b,n(0,w)})}return t.$$set=b=>{e=Z(Z({},e),Re(b)),n(8,r=se(e,i)),"disabled"in b&&n(10,c=b.disabled),"min"in b&&n(11,d=b.min),"max"in b&&n(12,m=b.max),"step"in b&&n(13,p=b.step),"orientation"in b&&n(14,h=b.orientation),"value"in b&&n(9,y=b.value),"onValueChange"in b&&n(15,C=b.onValueChange),"asChild"in b&&n(1,k=b.asChild),"el"in b&&n(0,w=b.el),"$$scope"in b&&n(17,f=b.$$scope)},t.$$.update=()=>{t.$$.dirty&512&&y!==void 0&&$.set(y),t.$$.dirty&1024&&G("disabled",c),t.$$.dirty&2048&&G("min",d),t.$$.dirty&4096&&G("max",m),t.$$.dirty&8192&&G("step",p),t.$$.dirty&16384&&G("orientation",h),t.$$.dirty&65536&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,V)},[w,k,o,a,s,R,F,N,r,y,c,d,m,p,h,C,l,f,u,v]}let y1=class extends we{constructor(e){super(),ye(this,e,v1,b1,de,{disabled:10,min:11,max:12,step:13,orientation:14,value:9,onValueChange:15,asChild:1,el:0})}};const w1=t=>({builder:t&4}),Wa=t=>({builder:t[2]});function k1(t){let e,n,o,i=[t[2],t[4]],r={};for(let l=0;l<i.length;l+=1)r=Z(r,i[l]);return{c(){e=O("span"),fe(e,r)},m(l,a){I(l,e,a),t[8](e),n||(o=Ge(t[2].action(e)),n=!0)},p(l,a){fe(e,r=ke(i,[a&4&&l[2],a&16&&l[4]]))},i:Ce,o:Ce,d(l){l&&T(e),t[8](null),n=!1,o()}}}function C1(t){let e;const n=t[7].default,o=_e(n,t,t[6],Wa);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&68)&&be(o,n,i,i[6],e?ge(n,i[6],r,w1):ve(i[6]),Wa)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function A1(t){let e,n,o,i;const r=[C1,k1],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),S(l[f],1,1,()=>{l[f]=null}),Ne(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function S1(t,e,n){let o;const i=["asChild","el"];let r=se(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{range:c},getAttrs:d}=zc();ue(t,c,h=>n(5,l=h));const m=d("range");function p(h){$e[h?"unshift":"push"](()=>{f=h,n(0,f)})}return t.$$set=h=>{e=Z(Z({},e),Re(h)),n(4,r=se(e,i)),"asChild"in h&&n(1,u=h.asChild),"el"in h&&n(0,f=h.el),"$$scope"in h&&n(6,s=h.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,m)},[f,u,o,c,r,l,s,a,p]}class T1 extends we{constructor(e){super(),ye(this,e,S1,A1,de,{asChild:1,el:0})}}const I1=t=>({builder:t&4}),Ya=t=>({builder:t[2]});function M1(t){let e,n,o,i=[t[2],t[4]],r={};for(let l=0;l<i.length;l+=1)r=Z(r,i[l]);return{c(){e=O("span"),fe(e,r)},m(l,a){I(l,e,a),t[8](e),n||(o=[Ge(t[2].action(e)),z(e,"m-keydown",t[3])],n=!0)},p(l,a){fe(e,r=ke(i,[a&4&&l[2],a&16&&l[4]]))},i:Ce,o:Ce,d(l){l&&T(e),t[8](null),n=!1,je(o)}}}function O1(t){let e;const n=t[7].default,o=_e(n,t,t[6],Ya);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&68)&&be(o,n,i,i[6],e?ge(n,i[6],r,I1):ve(i[6]),Ya)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function P1(t){let e,n,o,i;const r=[O1,M1],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),S(l[f],1,1,()=>{l[f]=null}),Ne(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function N1(t,e,n){let o;const i=["asChild","el","thumb"];let r=se(e,i),{$$slots:l={},$$scope:a}=e,{asChild:s=!1}=e,{el:u=void 0}=e,{thumb:f}=e;const{getAttrs:c}=zc(),d=Kn(),m=c("thumb");function p(h){$e[h?"unshift":"push"](()=>{u=h,n(0,u)})}return t.$$set=h=>{e=Z(Z({},e),Re(h)),n(4,r=se(e,i)),"asChild"in h&&n(1,s=h.asChild),"el"in h&&n(0,u=h.el),"thumb"in h&&n(5,f=h.thumb),"$$scope"in h&&n(6,a=h.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=f),t.$$.dirty&4&&Object.assign(o,m)},[u,s,o,d,r,f,a,l,p]}class E1 extends we{constructor(e){super(),ye(this,e,N1,P1,de,{asChild:1,el:0,thumb:5})}}function ed(){return{NAME:"tooltip",PARTS:["arrow","content","trigger"]}}function $1(t){const{NAME:e,PARTS:n}=ed(),o=Un(e,n),i={...g_({positioning:{placement:"top",gutter:0},openDelay:700,...Mo(t),forceVisible:!0}),getAttrs:o};return br(e,i),{...i,updateOption:Hn(i.options)}}function xl(){const{NAME:t}=ed();return vr(t)}function R1(t){const n={...{side:"top",align:"center",sideOffset:1},...t},{options:{positioning:o}}=xl();L0(o)({...n})}const L1=t=>({ids:t&1}),Ua=t=>({ids:t[0]});function D1(t){let e;const n=t[12].default,o=_e(n,t,t[11],Ua);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,[r]){o&&o.p&&(!e||r&2049)&&be(o,n,i,i[11],e?ge(n,i[11],r,L1):ve(i[11]),Ua)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function F1(t,e,n){let o,{$$slots:i={},$$scope:r}=e,{closeOnEscape:l=void 0}=e,{portal:a=void 0}=e,{closeOnPointerDown:s=void 0}=e,{openDelay:u=void 0}=e,{closeDelay:f=void 0}=e,{open:c=void 0}=e,{onOpenChange:d=void 0}=e,{disableHoverableContent:m=void 0}=e,{group:p=void 0}=e;const{states:{open:h},updateOption:y,ids:C}=$1({closeOnEscape:l,portal:a,closeOnPointerDown:s,openDelay:u,closeDelay:f,forceVisible:!0,defaultOpen:c,disableHoverableContent:m,group:p,onOpenChange:({next:w})=>(c!==w&&(d==null||d(w),n(2,c=w)),w),positioning:{gutter:0,offset:{mainAxis:1}}}),k=dn([C.content,C.trigger],([w,R])=>({content:w,trigger:R}));return ue(t,k,w=>n(0,o=w)),t.$$set=w=>{"closeOnEscape"in w&&n(3,l=w.closeOnEscape),"portal"in w&&n(4,a=w.portal),"closeOnPointerDown"in w&&n(5,s=w.closeOnPointerDown),"openDelay"in w&&n(6,u=w.openDelay),"closeDelay"in w&&n(7,f=w.closeDelay),"open"in w&&n(2,c=w.open),"onOpenChange"in w&&n(8,d=w.onOpenChange),"disableHoverableContent"in w&&n(9,m=w.disableHoverableContent),"group"in w&&n(10,p=w.group),"$$scope"in w&&n(11,r=w.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&c!==void 0&&h.set(c),t.$$.dirty&8&&y("closeOnEscape",l),t.$$.dirty&16&&y("portal",a),t.$$.dirty&32&&y("closeOnPointerDown",s),t.$$.dirty&64&&y("openDelay",u),t.$$.dirty&128&&y("closeDelay",f),t.$$.dirty&1024&&y("group",p),t.$$.dirty&512&&y("disableHoverableContent",m)},[o,k,c,l,a,s,u,f,d,m,p,r,i]}class B1 extends we{constructor(e){super(),ye(this,e,F1,D1,de,{closeOnEscape:3,portal:4,closeOnPointerDown:5,openDelay:6,closeDelay:7,open:2,onOpenChange:8,disableHoverableContent:9,group:10})}}const j1=t=>({builder:t[0]&256}),Ka=t=>({builder:t[8]}),q1=t=>({builder:t[0]&256}),Xa=t=>({builder:t[8]}),G1=t=>({builder:t[0]&256}),Ja=t=>({builder:t[8]}),H1=t=>({builder:t[0]&256}),xa=t=>({builder:t[8]}),V1=t=>({builder:t[0]&256}),Za=t=>({builder:t[8]}),W1=t=>({builder:t[0]&256}),Qa=t=>({builder:t[8]});function Y1(t){let e,n,o,i;const r=t[28].default,l=_e(r,t,t[27],Ka);let a=[t[8],t[13]],s={};for(let u=0;u<a.length;u+=1)s=Z(s,a[u]);return{c(){e=O("div"),l&&l.c(),fe(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),t[33](e),n=!0,o||(i=[Ge(t[8].action(e)),z(e,"m-pointerdown",t[12]),z(e,"m-pointerenter",t[12])],o=!0)},p(u,f){l&&l.p&&(!n||f[0]&134217984)&&be(l,r,u,u[27],n?ge(r,u[27],f,j1):ve(u[27]),Ka),fe(e,s=ke(a,[f[0]&256&&u[8],f[0]&8192&&u[13]]))},i(u){n||(A(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[33](null),o=!1,je(i)}}}function U1(t){let e,n,o,i,r;const l=t[28].default,a=_e(l,t,t[27],Xa);let s=[t[8],t[13]],u={};for(let f=0;f<s.length;f+=1)u=Z(u,s[f]);return{c(){e=O("div"),a&&a.c(),fe(e,u)},m(f,c){I(f,e,c),a&&a.m(e,null),t[32](e),o=!0,i||(r=[Ge(t[8].action(e)),z(e,"m-pointerdown",t[12]),z(e,"m-pointerenter",t[12])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&134217984)&&be(a,l,t,t[27],o?ge(l,t[27],c,q1):ve(t[27]),Xa),fe(e,u=ke(s,[c[0]&256&&t[8],c[0]&8192&&t[13]]))},i(f){o||(A(a,f),n&&n.end(1),o=!0)},o(f){S(a,f),f&&(n=zt(e,t[5],t[6])),o=!1},d(f){f&&T(e),a&&a.d(f),t[32](null),f&&n&&n.end(),i=!1,je(r)}}}function K1(t){let e,n,o,i,r;const l=t[28].default,a=_e(l,t,t[27],Ja);let s=[t[8],t[13]],u={};for(let f=0;f<s.length;f+=1)u=Z(u,s[f]);return{c(){e=O("div"),a&&a.c(),fe(e,u)},m(f,c){I(f,e,c),a&&a.m(e,null),t[31](e),o=!0,i||(r=[Ge(t[8].action(e)),z(e,"m-pointerdown",t[12]),z(e,"m-pointerenter",t[12])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&134217984)&&be(a,l,t,t[27],o?ge(l,t[27],c,G1):ve(t[27]),Ja),fe(e,u=ke(s,[c[0]&256&&t[8],c[0]&8192&&t[13]]))},i(f){o||(A(a,f),f&&(n||it(()=>{n=Qt(e,t[3],t[4]),n.start()})),o=!0)},o(f){S(a,f),o=!1},d(f){f&&T(e),a&&a.d(f),t[31](null),i=!1,je(r)}}}function X1(t){let e,n,o,i,r,l;const a=t[28].default,s=_e(a,t,t[27],xa);let u=[t[8],t[13]],f={};for(let c=0;c<u.length;c+=1)f=Z(f,u[c]);return{c(){e=O("div"),s&&s.c(),fe(e,f)},m(c,d){I(c,e,d),s&&s.m(e,null),t[30](e),i=!0,r||(l=[Ge(t[8].action(e)),z(e,"m-pointerdown",t[12]),z(e,"m-pointerenter",t[12])],r=!0)},p(c,d){t=c,s&&s.p&&(!i||d[0]&134217984)&&be(s,a,t,t[27],i?ge(a,t[27],d,H1):ve(t[27]),xa),fe(e,f=ke(u,[d[0]&256&&t[8],d[0]&8192&&t[13]]))},i(c){i||(A(s,c),c&&it(()=>{i&&(o&&o.end(1),n=Qt(e,t[3],t[4]),n.start())}),i=!0)},o(c){S(s,c),n&&n.invalidate(),c&&(o=zt(e,t[5],t[6])),i=!1},d(c){c&&T(e),s&&s.d(c),t[30](null),c&&o&&o.end(),r=!1,je(l)}}}function J1(t){let e,n,o,i,r;const l=t[28].default,a=_e(l,t,t[27],Za);let s=[t[8],t[13]],u={};for(let f=0;f<s.length;f+=1)u=Z(u,s[f]);return{c(){e=O("div"),a&&a.c(),fe(e,u)},m(f,c){I(f,e,c),a&&a.m(e,null),t[29](e),o=!0,i||(r=[Ge(t[8].action(e)),z(e,"m-pointerdown",t[12]),z(e,"m-pointerenter",t[12])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&134217984)&&be(a,l,t,t[27],o?ge(l,t[27],c,V1):ve(t[27]),Za),fe(e,u=ke(s,[c[0]&256&&t[8],c[0]&8192&&t[13]]))},i(f){o||(A(a,f),f&&it(()=>{o&&(n||(n=Jt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(f){S(a,f),f&&(n||(n=Jt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(f){f&&T(e),a&&a.d(f),t[29](null),f&&n&&n.end(),i=!1,je(r)}}}function x1(t){let e;const n=t[28].default,o=_e(n,t,t[27],Qa);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r[0]&134217984)&&be(o,n,i,i[27],e?ge(n,i[27],r,W1):ve(i[27]),Qa)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Z1(t){let e,n,o,i;const r=[x1,J1,X1,K1,U1,Y1],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=De()},m(s,u){~e&&l[e].m(s,u),I(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Pe(),S(l[f],1,1,()=>{l[f]=null}),Ne()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),~e&&l[e].d(s)}}}function Q1(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","id","side","align","sideOffset","alignOffset","collisionPadding","avoidCollisions","collisionBoundary","sameWidth","fitViewport","strategy","overlap","el"];let r=se(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:p=void 0}=e,{outTransitionConfig:h=void 0}=e,{asChild:y=!1}=e,{id:C=void 0}=e,{side:k="top"}=e,{align:w="center"}=e,{sideOffset:R=0}=e,{alignOffset:F=0}=e,{collisionPadding:N=8}=e,{avoidCollisions:$=!0}=e,{collisionBoundary:G=void 0}=e,{sameWidth:L=!1}=e,{fitViewport:V=!1}=e,{strategy:v="absolute"}=e,{overlap:b=!1}=e,{el:M=void 0}=e;const{elements:{content:E},states:{open:W},ids:q,getAttrs:J}=xl();ue(t,E,D=>n(26,a=D)),ue(t,W,D=>n(9,l=D));const Q=Kn(),ee=J("content");function Y(D){$e[D?"unshift":"push"](()=>{M=D,n(0,M)})}function te(D){$e[D?"unshift":"push"](()=>{M=D,n(0,M)})}function ne(D){$e[D?"unshift":"push"](()=>{M=D,n(0,M)})}function me(D){$e[D?"unshift":"push"](()=>{M=D,n(0,M)})}function _(D){$e[D?"unshift":"push"](()=>{M=D,n(0,M)})}return t.$$set=D=>{e=Z(Z({},e),Re(D)),n(13,r=se(e,i)),"transition"in D&&n(1,f=D.transition),"transitionConfig"in D&&n(2,c=D.transitionConfig),"inTransition"in D&&n(3,d=D.inTransition),"inTransitionConfig"in D&&n(4,m=D.inTransitionConfig),"outTransition"in D&&n(5,p=D.outTransition),"outTransitionConfig"in D&&n(6,h=D.outTransitionConfig),"asChild"in D&&n(7,y=D.asChild),"id"in D&&n(14,C=D.id),"side"in D&&n(15,k=D.side),"align"in D&&n(16,w=D.align),"sideOffset"in D&&n(17,R=D.sideOffset),"alignOffset"in D&&n(18,F=D.alignOffset),"collisionPadding"in D&&n(19,N=D.collisionPadding),"avoidCollisions"in D&&n(20,$=D.avoidCollisions),"collisionBoundary"in D&&n(21,G=D.collisionBoundary),"sameWidth"in D&&n(22,L=D.sameWidth),"fitViewport"in D&&n(23,V=D.fitViewport),"strategy"in D&&n(24,v=D.strategy),"overlap"in D&&n(25,b=D.overlap),"el"in D&&n(0,M=D.el),"$$scope"in D&&n(27,u=D.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&16384&&C&&q.content.set(C),t.$$.dirty[0]&67108864&&n(8,o=a),t.$$.dirty[0]&256&&Object.assign(o,ee),t.$$.dirty[0]&67076608&&l&&R1({side:k,align:w,sideOffset:R,alignOffset:F,collisionPadding:N,avoidCollisions:$,collisionBoundary:G,sameWidth:L,fitViewport:V,strategy:v,overlap:b})},[M,f,c,d,m,p,h,y,o,l,E,W,Q,r,C,k,w,R,F,N,$,G,L,V,v,b,a,u,s,Y,te,ne,me,_]}let z1=class extends we{constructor(e){super(),ye(this,e,Q1,Z1,de,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,id:14,side:15,align:16,sideOffset:17,alignOffset:18,collisionPadding:19,avoidCollisions:20,collisionBoundary:21,sameWidth:22,fitViewport:23,strategy:24,overlap:25,el:0},null,[-1,-1])}};const eb=t=>({builder:t&4}),za=t=>({builder:t[2]}),tb=t=>({builder:t&4}),eu=t=>({builder:t[2]});function nb(t){let e,n,o,i;const r=t[9].default,l=_e(r,t,t[8],za);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=Z(s,a[u]);return{c(){e=O("button"),l&&l.c(),fe(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[10](e),n=!0,o||(i=[Ge(t[2].action(e)),z(e,"m-blur",t[4]),z(e,"m-focus",t[4]),z(e,"m-keydown",t[4]),z(e,"m-pointerdown",t[4]),z(e,"m-pointerenter",t[4]),z(e,"m-pointerleave",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&260)&&be(l,r,u,u[8],n?ge(r,u[8],f,eb):ve(u[8]),za),fe(e,s=ke(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(A(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[10](null),o=!1,je(i)}}}function ob(t){let e;const n=t[9].default,o=_e(n,t,t[8],eu);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&260)&&be(o,n,i,i[8],e?ge(n,i[8],r,tb):ve(i[8]),eu)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function ib(t){let e,n,o,i;const r=[ob,nb],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),S(l[f],1,1,()=>{l[f]=null}),Ne(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function rb(t,e,n){let o;const i=["asChild","id","el"];let r=se(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{trigger:d},ids:m,getAttrs:p}=xl();ue(t,d,k=>n(7,l=k));const h=Kn(),y=p("trigger");function C(k){$e[k?"unshift":"push"](()=>{c=k,n(0,c)})}return t.$$set=k=>{e=Z(Z({},e),Re(k)),n(5,r=se(e,i)),"asChild"in k&&n(1,u=k.asChild),"id"in k&&n(6,f=k.id),"el"in k&&n(0,c=k.el),"$$scope"in k&&n(8,s=k.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&f&&m.trigger.set(f),t.$$.dirty&128&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,y)},[c,u,o,d,h,r,f,l,s,a,C]}class lb extends we{constructor(e){super(),ye(this,e,rb,ib,de,{asChild:1,id:6,el:0})}}function sb(t){let e;const n=t[5].default,o=_e(n,t,t[8],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&256)&&be(o,n,i,i[8],e?ge(n,i[8],r,null):ve(i[8]),null)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function ab(t){let e,n;const o=[{builders:t[3]},{class:qe(wo({variant:t[1],size:t[2],className:t[0]}))},{type:"button"},t[4]];let i={$$slots:{default:[sb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Z(i,o[r]);return e=new R0({props:i}),e.$on("click",t[6]),e.$on("keydown",t[7]),{c(){X(e.$$.fragment)},m(r,l){U(e,r,l),n=!0},p(r,[l]){const a=l&31?ke(o,[l&8&&{builders:r[3]},l&7&&{class:qe(wo({variant:r[1],size:r[2],className:r[0]}))},o[2],l&16&&rt(r[4])]):{};l&256&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){K(e,r)}}}function ub(t,e,n){const o=["class","variant","size","builders"];let i=se(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{variant:s="default"}=e,{size:u="default"}=e,{builders:f=[]}=e;function c(m){oe.call(this,t,m)}function d(m){oe.call(this,t,m)}return t.$$set=m=>{e=Z(Z({},e),Re(m)),n(4,i=se(e,o)),"class"in m&&n(0,a=m.class),"variant"in m&&n(1,s=m.variant),"size"in m&&n(2,u=m.size),"builders"in m&&n(3,f=m.builders),"$$scope"in m&&n(8,l=m.$$scope)},[a,s,u,f,i,r,c,d,l]}class yt extends we{constructor(e){super(),ye(this,e,ub,ab,de,{class:0,variant:1,size:2,builders:3})}}var tu=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,It=t=>!t||typeof t!="object"||Object.keys(t).length===0,fb=(t,e)=>JSON.stringify(t)===JSON.stringify(e);function td(t,e){t.forEach(function(n){Array.isArray(n)?td(n,e):e.push(n)})}function nd(t){let e=[];return td(t,e),e}var od=(...t)=>nd(t).filter(Boolean),id=(t,e)=>{let n={},o=Object.keys(t),i=Object.keys(e);for(let r of o)if(i.includes(r)){let l=t[r],a=e[r];typeof l=="object"&&typeof a=="object"?n[r]=id(l,a):Array.isArray(l)||Array.isArray(a)?n[r]=od(a,l):n[r]=a+" "+l}else n[r]=t[r];for(let r of i)o.includes(r)||(n[r]=e[r]);return n},nu=t=>!t||typeof t!="string"?t:t.replace(/\s+/g," ").trim(),cb={twMerge:!0,twMergeConfig:{},responsiveVariants:!1},rd=t=>t||void 0,zo=(...t)=>rd(nd(t).filter(Boolean).join(" ")),Zr=null,ln={},bl=!1,jo=(...t)=>e=>e.twMerge?((!Zr||bl)&&(bl=!1,Zr=It(ln)?Sc:ip({...ln,extend:{theme:ln.theme,classGroups:ln.classGroups,conflictingClassGroupModifiers:ln.conflictingClassGroupModifiers,conflictingClassGroups:ln.conflictingClassGroups,...ln.extend}})),rd(Zr(zo(t)))):zo(t),ou=(t,e)=>{for(let n in e)t.hasOwnProperty(n)?t[n]=zo(t[n],e[n]):t[n]=e[n];return t},db=(t,e)=>{let{extend:n=null,slots:o={},variants:i={},compoundVariants:r=[],compoundSlots:l=[],defaultVariants:a={}}=t,s={...cb,...e},u=n!=null&&n.base?zo(n.base,t==null?void 0:t.base):t==null?void 0:t.base,f=n!=null&&n.variants&&!It(n.variants)?id(i,n.variants):i,c=n!=null&&n.defaultVariants&&!It(n.defaultVariants)?{...n.defaultVariants,...a}:a;!It(s.twMergeConfig)&&!fb(s.twMergeConfig,ln)&&(bl=!0,ln=s.twMergeConfig);let d=It(n==null?void 0:n.slots),m=It(o)?{}:{base:zo(t==null?void 0:t.base,d&&(n==null?void 0:n.base)),...o},p=d?m:ou({...n==null?void 0:n.slots},It(m)?{base:t==null?void 0:t.base}:m),h=C=>{if(It(f)&&It(o)&&d)return jo(u,C==null?void 0:C.class,C==null?void 0:C.className)(s);if(r&&!Array.isArray(r))throw new TypeError(`The "compoundVariants" prop must be an array. Received: ${typeof r}`);if(l&&!Array.isArray(l))throw new TypeError(`The "compoundSlots" prop must be an array. Received: ${typeof l}`);let k=(b,M,E=[],W)=>{let q=E;if(typeof M=="string")q=q.concat(nu(M).split(" ").map(J=>`${b}:${J}`));else if(Array.isArray(M))q=q.concat(M.reduce((J,Q)=>J.concat(`${b}:${Q}`),[]));else if(typeof M=="object"&&typeof W=="string"){for(let J in M)if(M.hasOwnProperty(J)&&J===W){let Q=M[J];if(Q&&typeof Q=="string"){let ee=nu(Q);q[W]?q[W]=q[W].concat(ee.split(" ").map(Y=>`${b}:${Y}`)):q[W]=ee.split(" ").map(Y=>`${b}:${Y}`)}else Array.isArray(Q)&&Q.length>0&&(q[W]=Q.reduce((ee,Y)=>ee.concat(`${b}:${Y}`),[]))}}return q},w=(b,M=f,E=null,W=null)=>{var q;let J=M[b];if(!J||It(J))return null;let Q=(q=W==null?void 0:W[b])!=null?q:C==null?void 0:C[b];if(Q===null)return null;let ee=tu(Q),Y=Array.isArray(s.responsiveVariants)&&s.responsiveVariants.length>0||s.responsiveVariants===!0,te=c==null?void 0:c[b],ne=[];if(typeof ee=="object"&&Y)for(let[D,x]of Object.entries(ee)){let ie=J[x];if(D==="initial"){te=x;continue}Array.isArray(s.responsiveVariants)&&!s.responsiveVariants.includes(D)||(ne=k(D,ie,ne,E))}let me=ee!=null&&typeof ee!="object"?ee:tu(te),_=J[me]||J.false;return typeof ne=="object"&&typeof E=="string"&&ne[E]?ou(ne,_):ne.length>0?(ne.push(_),ne):_},R=()=>f?Object.keys(f).map(b=>w(b,f)):null,F=(b,M)=>{if(!f||typeof f!="object")return null;let E=new Array;for(let W in f){let q=w(W,f,b,M),J=b==="base"&&typeof q=="string"?q:q&&q[b];J&&(E[E.length]=J)}return E},N={};for(let b in C)C[b]!==void 0&&(N[b]=C[b]);let $=(b,M)=>{var E;let W=typeof(C==null?void 0:C[b])=="object"?{[b]:(E=C[b])==null?void 0:E.initial}:{};return{...c,...N,...W,...M}},G=(b=[],M)=>{let E=[];for(let{class:W,className:q,...J}of b){let Q=!0;for(let[ee,Y]of Object.entries(J)){let te=$(ee,M);if(Array.isArray(Y)){if(!Y.includes(te[ee])){Q=!1;break}}else if(te[ee]!==Y){Q=!1;break}}Q&&(W&&E.push(W),q&&E.push(q))}return E},L=b=>{let M=G(r,b),E=G(n==null?void 0:n.compoundVariants,b);return od(E,M)},V=b=>{let M=L(b);if(!Array.isArray(M))return M;let E={};for(let W of M)if(typeof W=="string"&&(E.base=jo(E.base,W)(s)),typeof W=="object")for(let[q,J]of Object.entries(W))E[q]=jo(E[q],J)(s);return E},v=b=>{if(l.length<1)return null;let M={};for(let{slots:E=[],class:W,className:q,...J}of l){if(!It(J)){let Q=!0;for(let ee of Object.keys(J)){let Y=$(ee,b)[ee];if(Y===void 0||(Array.isArray(J[ee])?!J[ee].includes(Y):J[ee]!==Y)){Q=!1;break}}if(!Q)continue}for(let Q of E)M[Q]=M[Q]||[],M[Q].push([W,q])}return M};if(!It(o)||!d){let b={};if(typeof p=="object"&&!It(p))for(let M of Object.keys(p))b[M]=E=>{var W,q;return jo(p[M],F(M,E),((W=V(E))!=null?W:[])[M],((q=v(E))!=null?q:[])[M],E==null?void 0:E.class,E==null?void 0:E.className)(s)};return b}return jo(u,R(),L(),C==null?void 0:C.class,C==null?void 0:C.className)(s)},y=()=>{if(!(!f||typeof f!="object"))return Object.keys(f)};return h.variantKeys=y(),h.extend=n,h.base=u,h.slots=p,h.variants=f,h.defaultVariants=c,h.compoundSlots=l,h.compoundVariants=r,h};const wo=db({base:"inline-flex items-center justify-center rounded-md text-sm font-medium whitespace-nowrap transition-colors focus-visible:outline-none disabled:pointer-events-none disabled:opacity-50",variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}});function mb(t){let e;const n=t[2].default,o=_e(n,t,t[3],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&8)&&be(o,n,i,i[3],e?ge(n,i[3],r,null):ve(i[3]),null)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function pb(t){let e,n;const o=[{class:qe("text-lg font-semibold leading-none tracking-tight",t[0])},t[1]];let i={$$slots:{default:[mb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Z(i,o[r]);return e=new og({props:i}),{c(){X(e.$$.fragment)},m(r,l){U(e,r,l),n=!0},p(r,[l]){const a=l&3?ke(o,[l&1&&{class:qe("text-lg font-semibold leading-none tracking-tight",r[0])},l&2&&rt(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){K(e,r)}}}function hb(t,e,n){const o=["class"];let i=se(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Z(Z({},e),Re(s)),n(1,i=se(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,l=s.$$scope)},[a,i,r,l]}class Jn extends we{constructor(e){super(),ye(this,e,hb,pb,de,{class:0})}}function _b(t){let e;const n=t[1].default,o=_e(n,t,t[2],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&4)&&be(o,n,i,i[2],e?ge(n,i[2],r,null):ve(i[2]),null)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function gb(t){let e,n;const o=[t[0]];let i={$$slots:{default:[_b]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Z(i,o[r]);return e=new gg({props:i}),{c(){X(e.$$.fragment)},m(r,l){U(e,r,l),n=!0},p(r,[l]){const a=l&1?ke(o,[rt(r[0])]):{};l&4&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){K(e,r)}}}function bb(t,e,n){const o=[];let i=se(e,o),{$$slots:r={},$$scope:l}=e;return t.$$set=a=>{e=Z(Z({},e),Re(a)),n(0,i=se(e,o)),"$$scope"in a&&n(2,l=a.$$scope)},[i,r,l]}class vb extends we{constructor(e){super(),ye(this,e,bb,gb,de,{})}}function yb(t){let e,n,o;const i=t[3].default,r=_e(i,t,t[2],null);let l=[{class:n=qe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=Z(a,l[s]);return{c(){e=O("div"),r&&r.c(),fe(e,a)},m(s,u){I(s,e,u),r&&r.m(e,null),o=!0},p(s,[u]){r&&r.p&&(!o||u&4)&&be(r,i,s,s[2],o?ge(i,s[2],u,null):ve(s[2]),null),fe(e,a=ke(l,[(!o||u&1&&n!==(n=qe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(A(r,s),o=!0)},o(s){S(r,s),o=!1},d(s){s&&T(e),r&&r.d(s)}}}function wb(t,e,n){const o=["class"];let i=se(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Z(Z({},e),Re(s)),n(1,i=se(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,i,l,r]}class Po extends we{constructor(e){super(),ye(this,e,wb,yb,de,{class:0})}}function kb(t){let e,n,o;const i=t[3].default,r=_e(i,t,t[2],null);let l=[{class:n=qe("flex flex-col space-y-1.5 text-center sm:text-left",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=Z(a,l[s]);return{c(){e=O("div"),r&&r.c(),fe(e,a)},m(s,u){I(s,e,u),r&&r.m(e,null),o=!0},p(s,[u]){r&&r.p&&(!o||u&4)&&be(r,i,s,s[2],o?ge(i,s[2],u,null):ve(s[2]),null),fe(e,a=ke(l,[(!o||u&1&&n!==(n=qe("flex flex-col space-y-1.5 text-center sm:text-left",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(A(r,s),o=!0)},o(s){S(r,s),o=!1},d(s){s&&T(e),r&&r.d(s)}}}function Cb(t,e,n){const o=["class"];let i=se(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Z(Z({},e),Re(s)),n(1,i=se(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,i,l,r]}class xn extends we{constructor(e){super(),ye(this,e,Cb,kb,de,{class:0})}}function ld(t,{delay:e=0,duration:n=400,easing:o=hr}={}){const i=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:o,css:r=>`opacity: ${r*i}`}}function Ab(t){let e,n;const o=[{transition:t[1]},{transitionConfig:t[2]},{class:qe("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm",t[0])},t[3]];let i={};for(let r=0;r<o.length;r+=1)i=Z(i,o[r]);return e=new Hg({props:i}),{c(){X(e.$$.fragment)},m(r,l){U(e,r,l),n=!0},p(r,[l]){const a=l&15?ke(o,[l&2&&{transition:r[1]},l&4&&{transitionConfig:r[2]},l&1&&{class:qe("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm",r[0])},l&8&&rt(r[3])]):{};e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){K(e,r)}}}function Sb(t,e,n){const o=["class","transition","transitionConfig"];let i=se(e,o),{class:r=void 0}=e,{transition:l=ld}=e,{transitionConfig:a={duration:150}}=e;return t.$$set=s=>{e=Z(Z({},e),Re(s)),n(3,i=se(e,o)),"class"in s&&n(0,r=s.class),"transition"in s&&n(1,l=s.transition),"transitionConfig"in s&&n(2,a=s.transitionConfig)},[r,l,a,i]}class Tb extends we{constructor(e){super(),ye(this,e,Sb,Ab,de,{class:0,transition:1,transitionConfig:2})}}/**
 * @license lucide-svelte v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iu={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};function ru(t,e,n){const o=t.slice();return o[11]=e[n][0],o[12]=e[n][1],o}function Qr(t){let e,n=[t[12]],o={};for(let i=0;i<n.length;i+=1)o=Z(o,n[i]);return{c(){e=_r(t[11]),qi(e,o)},m(i,r){I(i,e,r)},p(i,r){qi(e,o=ke(n,[r&32&&i[12]]))},d(i){i&&T(e)}}}function lu(t){let e=t[11],n,o=t[11]&&Qr(t);return{c(){o&&o.c(),n=De()},m(i,r){o&&o.m(i,r),I(i,n,r)},p(i,r){i[11]?e?de(e,i[11])?(o.d(1),o=Qr(i),e=i[11],o.c(),o.m(n.parentNode,n)):o.p(i,r):(o=Qr(i),e=i[11],o.c(),o.m(n.parentNode,n)):e&&(o.d(1),o=null,e=i[11])},d(i){i&&T(n),o&&o.d(i)}}}function Ib(t){let e,n,o,i,r,l=Ke(t[5]),a=[];for(let d=0;d<l.length;d+=1)a[d]=lu(ru(t,l,d));const s=t[10].default,u=_e(s,t,t[9],null);let f=[iu,t[7],{width:t[2]},{height:t[2]},{stroke:t[1]},{"stroke-width":o=t[4]?Number(t[3])*24/Number(t[2]):t[3]},{class:i=t[6]("lucide-icon","lucide",t[0]?`lucide-${t[0]}`:"",t[8].class)}],c={};for(let d=0;d<f.length;d+=1)c=Z(c,f[d]);return{c(){e=_r("svg");for(let d=0;d<a.length;d+=1)a[d].c();n=De(),u&&u.c(),qi(e,c)},m(d,m){I(d,e,m);for(let p=0;p<a.length;p+=1)a[p]&&a[p].m(e,null);g(e,n),u&&u.m(e,null),r=!0},p(d,[m]){if(m&32){l=Ke(d[5]);let p;for(p=0;p<l.length;p+=1){const h=ru(d,l,p);a[p]?a[p].p(h,m):(a[p]=lu(h),a[p].c(),a[p].m(e,n))}for(;p<a.length;p+=1)a[p].d(1);a.length=l.length}u&&u.p&&(!r||m&512)&&be(u,s,d,d[9],r?ge(s,d[9],m,null):ve(d[9]),null),qi(e,c=ke(f,[iu,m&128&&d[7],(!r||m&4)&&{width:d[2]},(!r||m&4)&&{height:d[2]},(!r||m&2)&&{stroke:d[1]},(!r||m&28&&o!==(o=d[4]?Number(d[3])*24/Number(d[2]):d[3]))&&{"stroke-width":o},(!r||m&257&&i!==(i=d[6]("lucide-icon","lucide",d[0]?`lucide-${d[0]}`:"",d[8].class)))&&{class:i}]))},i(d){r||(A(u,d),r=!0)},o(d){S(u,d),r=!1},d(d){d&&T(e),_t(a,d),u&&u.d(d)}}}function Mb(t,e,n){const o=["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode","mergeClasses"];let i=se(e,o),{$$slots:r={},$$scope:l}=e,{name:a=void 0}=e,{color:s="currentColor"}=e,{size:u=24}=e,{strokeWidth:f=2}=e,{absoluteStrokeWidth:c=!1}=e,{iconNode:d}=e;const m=(...p)=>p.filter((h,y,C)=>!!h&&C.indexOf(h)===y).join(" ");return t.$$set=p=>{n(8,e=Z(Z({},e),Re(p))),n(7,i=se(e,o)),"name"in p&&n(0,a=p.name),"color"in p&&n(1,s=p.color),"size"in p&&n(2,u=p.size),"strokeWidth"in p&&n(3,f=p.strokeWidth),"absoluteStrokeWidth"in p&&n(4,c=p.absoluteStrokeWidth),"iconNode"in p&&n(5,d=p.iconNode),"$$scope"in p&&n(9,l=p.$$scope)},e=Re(e),[a,s,u,f,c,d,m,i,e,l,r]}class Ob extends we{constructor(e){super(),ye(this,e,Mb,Ib,de,{name:0,color:1,size:2,strokeWidth:3,absoluteStrokeWidth:4,iconNode:5,mergeClasses:6})}get mergeClasses(){return this.$$.ctx[6]}}function Pb(t){let e;const n=t[2].default,o=_e(n,t,t[3],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&8)&&be(o,n,i,i[3],e?ge(n,i[3],r,null):ve(i[3]),null)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Nb(t){let e,n;const o=[{name:"x"},t[1],{iconNode:t[0]}];let i={$$slots:{default:[Pb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Z(i,o[r]);return e=new Ob({props:i}),{c(){X(e.$$.fragment)},m(r,l){U(e,r,l),n=!0},p(r,[l]){const a=l&3?ke(o,[o[0],l&2&&rt(r[1]),l&1&&{iconNode:r[0]}]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){K(e,r)}}}function Eb(t,e,n){let{$$slots:o={},$$scope:i}=e;const r=[["path",{d:"M18 6 6 18"}],["path",{d:"m6 6 12 12"}]];return t.$$set=l=>{n(1,e=Z(Z({},e),Re(l))),"$$scope"in l&&n(3,i=l.$$scope)},e=Re(e),[r,e,o,i]}class $b extends we{constructor(e){super(),ye(this,e,Eb,Nb,de,{})}}function Rb(t){let e,n,o,i;return e=new $b({props:{class:"h-4 w-4"}}),{c(){X(e.$$.fragment),n=j(),o=O("span"),o.textContent="Close",P(o,"class","sr-only")},m(r,l){U(e,r,l),I(r,n,l),I(r,o,l),i=!0},p:Ce,i(r){i||(A(e.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),i=!1},d(r){r&&(T(n),T(o)),K(e,r)}}}function Lb(t){let e,n,o;const i=t[4].default,r=_e(i,t,t[5],null);return n=new fg({props:{class:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",$$slots:{default:[Rb]},$$scope:{ctx:t}}}),{c(){r&&r.c(),e=j(),X(n.$$.fragment)},m(l,a){r&&r.m(l,a),I(l,e,a),U(n,l,a),o=!0},p(l,a){r&&r.p&&(!o||a&32)&&be(r,i,l,l[5],o?ge(i,l[5],a,null):ve(l[5]),null);const s={};a&32&&(s.$$scope={dirty:a,ctx:l}),n.$set(s)},i(l){o||(A(r,l),A(n.$$.fragment,l),o=!0)},o(l){S(r,l),S(n.$$.fragment,l),o=!1},d(l){l&&T(e),r&&r.d(l),K(n,l)}}}function Db(t){let e,n,o,i;e=new Tb({});const r=[{transition:t[1]},{transitionConfig:t[2]},{class:qe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg md:w-full",t[0])},t[3]];let l={$$slots:{default:[Lb]},$$scope:{ctx:t}};for(let a=0;a<r.length;a+=1)l=Z(l,r[a]);return o=new Eg({props:l}),{c(){X(e.$$.fragment),n=j(),X(o.$$.fragment)},m(a,s){U(e,a,s),I(a,n,s),U(o,a,s),i=!0},p(a,s){const u=s&15?ke(r,[s&2&&{transition:a[1]},s&4&&{transitionConfig:a[2]},s&1&&{class:qe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg md:w-full",a[0])},s&8&&rt(a[3])]):{};s&32&&(u.$$scope={dirty:s,ctx:a}),o.$set(u)},i(a){i||(A(e.$$.fragment,a),A(o.$$.fragment,a),i=!0)},o(a){S(e.$$.fragment,a),S(o.$$.fragment,a),i=!1},d(a){a&&T(n),K(e,a),K(o,a)}}}function Fb(t){let e,n;return e=new vb({props:{$$slots:{default:[Db]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,[i]){const r={};i&47&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function Bb(t,e,n){const o=["class","transition","transitionConfig"];let i=se(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{transition:s=yr}=e,{transitionConfig:u={duration:200}}=e;return t.$$set=f=>{e=Z(Z({},e),Re(f)),n(3,i=se(e,o)),"class"in f&&n(0,a=f.class),"transition"in f&&n(1,s=f.transition),"transitionConfig"in f&&n(2,u=f.transitionConfig),"$$scope"in f&&n(5,l=f.$$scope)},[a,s,u,i,r,l]}class Zn extends we{constructor(e){super(),ye(this,e,Bb,Fb,de,{class:0,transition:1,transitionConfig:2})}}function jb(t){let e;const n=t[2].default,o=_e(n,t,t[3],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&8)&&be(o,n,i,i[3],e?ge(n,i[3],r,null):ve(i[3]),null)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function qb(t){let e,n;const o=[{class:qe("text-sm text-muted-foreground",t[0])},t[1]];let i={$$slots:{default:[jb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Z(i,o[r]);return e=new Jg({props:i}),{c(){X(e.$$.fragment)},m(r,l){U(e,r,l),n=!0},p(r,[l]){const a=l&3?ke(o,[l&1&&{class:qe("text-sm text-muted-foreground",r[0])},l&2&&rt(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){K(e,r)}}}function Gb(t,e,n){const o=["class"];let i=se(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Z(Z({},e),Re(s)),n(1,i=se(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,l=s.$$scope)},[a,i,r,l]}class Qn extends we{constructor(e){super(),ye(this,e,Gb,qb,de,{class:0})}}const zn=x0;function Hb(t){let e,n,o,i,r=[{class:n=qe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t[1])},t[2]],l={};for(let a=0;a<r.length;a+=1)l=Z(l,r[a]);return{c(){e=O("input"),fe(e,l)},m(a,s){I(a,e,s),e.autofocus&&e.focus(),rn(e,t[0]),o||(i=[z(e,"input",t[17]),z(e,"blur",t[3]),z(e,"change",t[4]),z(e,"click",t[5]),z(e,"focus",t[6]),z(e,"focusin",t[7]),z(e,"focusout",t[8]),z(e,"keydown",t[9]),z(e,"keypress",t[10]),z(e,"keyup",t[11]),z(e,"mouseover",t[12]),z(e,"mouseenter",t[13]),z(e,"mouseleave",t[14]),z(e,"paste",t[15]),z(e,"input",t[16])],o=!0)},p(a,[s]){fe(e,l=ke(r,[s&2&&n!==(n=qe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a[1]))&&{class:n},s&4&&a[2]])),s&1&&e.value!==a[0]&&rn(e,a[0])},i:Ce,o:Ce,d(a){a&&T(e),o=!1,je(i)}}}function Vb(t,e,n){const o=["class","value"];let i=se(e,o),{class:r=void 0}=e,{value:l=void 0}=e;function a(N){oe.call(this,t,N)}function s(N){oe.call(this,t,N)}function u(N){oe.call(this,t,N)}function f(N){oe.call(this,t,N)}function c(N){oe.call(this,t,N)}function d(N){oe.call(this,t,N)}function m(N){oe.call(this,t,N)}function p(N){oe.call(this,t,N)}function h(N){oe.call(this,t,N)}function y(N){oe.call(this,t,N)}function C(N){oe.call(this,t,N)}function k(N){oe.call(this,t,N)}function w(N){oe.call(this,t,N)}function R(N){oe.call(this,t,N)}function F(){l=this.value,n(0,l)}return t.$$set=N=>{e=Z(Z({},e),Re(N)),n(2,i=se(e,o)),"class"in N&&n(1,r=N.class),"value"in N&&n(0,l=N.value)},[l,r,i,a,s,u,f,c,d,m,p,h,y,C,k,w,R,F]}class Zl extends we{constructor(e){super(),ye(this,e,Vb,Hb,de,{class:1,value:0})}}function Wb(t){let e;const n=t[2].default,o=_e(n,t,t[4],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&16)&&be(o,n,i,i[4],e?ge(n,i[4],r,null):ve(i[4]),null)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Yb(t){let e,n;const o=[{class:qe("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",t[0])},t[1]];let i={$$slots:{default:[Wb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Z(i,o[r]);return e=new o1({props:i}),e.$on("mousedown",t[3]),{c(){X(e.$$.fragment)},m(r,l){U(e,r,l),n=!0},p(r,[l]){const a=l&3?ke(o,[l&1&&{class:qe("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",r[0])},l&2&&rt(r[1])]):{};l&16&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){K(e,r)}}}function Ub(t,e,n){const o=["class"];let i=se(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(u){oe.call(this,t,u)}return t.$$set=u=>{e=Z(Z({},e),Re(u)),n(1,i=se(e,o)),"class"in u&&n(0,a=u.class),"$$scope"in u&&n(4,l=u.$$scope)},[a,i,r,s,l]}class co extends we{constructor(e){super(),ye(this,e,Ub,Yb,de,{class:0})}}const Vn={land:{short_title:"Fill the grid",description_title:"You win by filling up all possible plots in the grid, and by meeting some requirements.",win:"You have filled the grid with buildings and met the requirements. Your citizens are happy, fulfilled, hard-working, and healthy. ",requirements:{0:{population_count:200,happiness:100,health:100,employment:1,knowledge:50,required_plots:["pub","small_school","community_center"]},1:{population_count:1e3,happiness:120,health:120,employment:1,knowledge:100,required_plots:["bank"]},2:{population_count:1e3,happiness:200,health:200,employment:1,knowledge:1e3,required_plots:["bank","city_hall"]}}},free_play:{short_title:"Quests",description_title:"Play for as long as you can and build the best city you can while completing quests."}};function Kb(t){let e,n;const o=[{class:qe("shrink-0 bg-border",t[1]==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t[0])},{orientation:t[1]},{decorative:t[2]},t[3]];let i={};for(let r=0;r<o.length;r+=1)i=Z(i,o[r]);return e=new Y0({props:i}),{c(){X(e.$$.fragment)},m(r,l){U(e,r,l),n=!0},p(r,[l]){const a=l&15?ke(o,[l&3&&{class:qe("shrink-0 bg-border",r[1]==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",r[0])},l&2&&{orientation:r[1]},l&4&&{decorative:r[2]},l&8&&rt(r[3])]):{};e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){K(e,r)}}}function Xb(t,e,n){const o=["class","orientation","decorative"];let i=se(e,o),{class:r=void 0}=e,{orientation:l="horizontal"}=e,{decorative:a=void 0}=e;return t.$$set=s=>{e=Z(Z({},e),Re(s)),n(3,i=se(e,o)),"class"in s&&n(0,r=s.class),"orientation"in s&&n(1,l=s.orientation),"decorative"in s&&n(2,a=s.decorative)},[r,l,a,i]}class wt extends we{constructor(e){super(),ye(this,e,Xb,Kb,de,{class:0,orientation:1,decorative:2})}}function Jb(t){let e;const n=t[3].default,o=_e(n,t,t[4],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&16)&&be(o,n,i,i[4],e?ge(n,i[4],r,null):ve(i[4]),null)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function xb(t){let e,n;const o=[{class:qe("text-lg font-semibold",t[0])},{level:t[1]},t[2]];let i={$$slots:{default:[Jb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Z(i,o[r]);return e=new O_({props:i}),{c(){X(e.$$.fragment)},m(r,l){U(e,r,l),n=!0},p(r,[l]){const a=l&7?ke(o,[l&1&&{class:qe("text-lg font-semibold",r[0])},l&2&&{level:r[1]},l&4&&rt(r[2])]):{};l&16&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){K(e,r)}}}function Zb(t,e,n){const o=["class","level"];let i=se(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{level:s="h3"}=e;return t.$$set=u=>{e=Z(Z({},e),Re(u)),n(2,i=se(e,o)),"class"in u&&n(0,a=u.class),"level"in u&&n(1,s=u.level),"$$scope"in u&&n(4,l=u.$$scope)},[a,s,i,r,l]}class Ql extends we{constructor(e){super(),ye(this,e,Zb,xb,de,{class:0,level:1})}}const Qb=t=>({builder:t&64}),su=t=>({builder:t[6]});function zb(t){let e;const n=t[2].default,o=_e(n,t,t[5],su);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&96)&&be(o,n,i,i[5],e?ge(n,i[5],r,Qb):ve(i[5]),su)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function ev(t){let e,n;const o=[{class:qe(wo(),t[0])},t[1]];let i={$$slots:{default:[zb,({builder:r})=>({6:r}),({builder:r})=>r?64:0]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Z(i,o[r]);return e=new D_({props:i}),e.$on("click",t[3]),e.$on("keydown",t[4]),{c(){X(e.$$.fragment)},m(r,l){U(e,r,l),n=!0},p(r,[l]){const a=l&3?ke(o,[l&1&&{class:qe(wo(),r[0])},l&2&&rt(r[1])]):{};l&96&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){K(e,r)}}}function tv(t,e,n){const o=["class"];let i=se(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(f){oe.call(this,t,f)}function u(f){oe.call(this,t,f)}return t.$$set=f=>{e=Z(Z({},e),Re(f)),n(1,i=se(e,o)),"class"in f&&n(0,a=f.class),"$$scope"in f&&n(5,l=f.$$scope)},[a,i,r,s,u,l]}class sd extends we{constructor(e){super(),ye(this,e,tv,ev,de,{class:0})}}const nv=t=>({builder:t&64}),au=t=>({builder:t[6]});function ov(t){let e;const n=t[2].default,o=_e(n,t,t[5],au);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&96)&&be(o,n,i,i[5],e?ge(n,i[5],r,nv):ve(i[5]),au)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function iv(t){let e,n;const o=[{class:qe(wo({variant:"default"}),"mt-2 sm:mt-0",t[0])},t[1]];let i={$$slots:{default:[ov,({builder:r})=>({6:r}),({builder:r})=>r?64:0]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Z(i,o[r]);return e=new V_({props:i}),e.$on("click",t[3]),e.$on("keydown",t[4]),{c(){X(e.$$.fragment)},m(r,l){U(e,r,l),n=!0},p(r,[l]){const a=l&3?ke(o,[l&1&&{class:qe(wo({variant:"default"}),"mt-2 sm:mt-0",r[0])},l&2&&rt(r[1])]):{};l&96&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){K(e,r)}}}function rv(t,e,n){const o=["class"];let i=se(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(f){oe.call(this,t,f)}function u(f){oe.call(this,t,f)}return t.$$set=f=>{e=Z(Z({},e),Re(f)),n(1,i=se(e,o)),"class"in f&&n(0,a=f.class),"$$scope"in f&&n(5,l=f.$$scope)},[a,i,r,s,u,l]}class ad extends we{constructor(e){super(),ye(this,e,rv,iv,de,{class:0})}}function lv(t){let e;const n=t[1].default,o=_e(n,t,t[2],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&4)&&be(o,n,i,i[2],e?ge(n,i[2],r,null):ve(i[2]),null)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function sv(t){let e,n;const o=[t[0]];let i={$$slots:{default:[lv]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Z(i,o[r]);return e=new x_({props:i}),{c(){X(e.$$.fragment)},m(r,l){U(e,r,l),n=!0},p(r,[l]){const a=l&1?ke(o,[rt(r[0])]):{};l&4&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){K(e,r)}}}function av(t,e,n){const o=[];let i=se(e,o),{$$slots:r={},$$scope:l}=e;return t.$$set=a=>{e=Z(Z({},e),Re(a)),n(0,i=se(e,o)),"$$scope"in a&&n(2,l=a.$$scope)},[i,r,l]}class uv extends we{constructor(e){super(),ye(this,e,av,sv,de,{})}}function fv(t){let e,n,o;const i=t[3].default,r=_e(i,t,t[2],null);let l=[{class:n=qe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=Z(a,l[s]);return{c(){e=O("div"),r&&r.c(),fe(e,a)},m(s,u){I(s,e,u),r&&r.m(e,null),o=!0},p(s,[u]){r&&r.p&&(!o||u&4)&&be(r,i,s,s[2],o?ge(i,s[2],u,null):ve(s[2]),null),fe(e,a=ke(l,[(!o||u&1&&n!==(n=qe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(A(r,s),o=!0)},o(s){S(r,s),o=!1},d(s){s&&T(e),r&&r.d(s)}}}function cv(t,e,n){const o=["class"];let i=se(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Z(Z({},e),Re(s)),n(1,i=se(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,i,l,r]}class Ir extends we{constructor(e){super(),ye(this,e,cv,fv,de,{class:0})}}function dv(t){let e,n,o;const i=t[3].default,r=_e(i,t,t[2],null);let l=[{class:n=qe("flex flex-col space-y-2 text-center sm:text-left",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=Z(a,l[s]);return{c(){e=O("div"),r&&r.c(),fe(e,a)},m(s,u){I(s,e,u),r&&r.m(e,null),o=!0},p(s,[u]){r&&r.p&&(!o||u&4)&&be(r,i,s,s[2],o?ge(i,s[2],u,null):ve(s[2]),null),fe(e,a=ke(l,[(!o||u&1&&n!==(n=qe("flex flex-col space-y-2 text-center sm:text-left",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(A(r,s),o=!0)},o(s){S(r,s),o=!1},d(s){s&&T(e),r&&r.d(s)}}}function mv(t,e,n){const o=["class"];let i=se(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Z(Z({},e),Re(s)),n(1,i=se(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,i,l,r]}class zl extends we{constructor(e){super(),ye(this,e,mv,dv,de,{class:0})}}function pv(t){let e,n;const o=[{transition:t[1]},{transitionConfig:t[2]},{class:qe("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm ",t[0])},t[3]];let i={};for(let r=0;r<o.length;r+=1)i=Z(i,o[r]);return e=new w0({props:i}),{c(){X(e.$$.fragment)},m(r,l){U(e,r,l),n=!0},p(r,[l]){const a=l&15?ke(o,[l&2&&{transition:r[1]},l&4&&{transitionConfig:r[2]},l&1&&{class:qe("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm ",r[0])},l&8&&rt(r[3])]):{};e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){K(e,r)}}}function hv(t,e,n){const o=["class","transition","transitionConfig"];let i=se(e,o),{class:r=void 0}=e,{transition:l=ld}=e,{transitionConfig:a={duration:150}}=e;return t.$$set=s=>{e=Z(Z({},e),Re(s)),n(3,i=se(e,o)),"class"in s&&n(0,r=s.class),"transition"in s&&n(1,l=s.transition),"transitionConfig"in s&&n(2,a=s.transitionConfig)},[r,l,a,i]}class _v extends we{constructor(e){super(),ye(this,e,hv,pv,de,{class:0,transition:1,transitionConfig:2})}}function gv(t){let e;const n=t[4].default,o=_e(n,t,t[5],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&32)&&be(o,n,i,i[5],e?ge(n,i[5],r,null):ve(i[5]),null)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function bv(t){let e,n,o,i;e=new _v({});const r=[{transition:t[0]},{transitionConfig:t[1]},{class:qe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg md:w-full",t[2])},t[3]];let l={$$slots:{default:[gv]},$$scope:{ctx:t}};for(let a=0;a<r.length;a+=1)l=Z(l,r[a]);return o=new c0({props:l}),{c(){X(e.$$.fragment),n=j(),X(o.$$.fragment)},m(a,s){U(e,a,s),I(a,n,s),U(o,a,s),i=!0},p(a,s){const u=s&15?ke(r,[s&1&&{transition:a[0]},s&2&&{transitionConfig:a[1]},s&4&&{class:qe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg md:w-full",a[2])},s&8&&rt(a[3])]):{};s&32&&(u.$$scope={dirty:s,ctx:a}),o.$set(u)},i(a){i||(A(e.$$.fragment,a),A(o.$$.fragment,a),i=!0)},o(a){S(e.$$.fragment,a),S(o.$$.fragment,a),i=!1},d(a){a&&T(n),K(e,a),K(o,a)}}}function vv(t){let e,n;return e=new uv({props:{$$slots:{default:[bv]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,[i]){const r={};i&47&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function yv(t,e,n){const o=["transition","transitionConfig","class"];let i=se(e,o),{$$slots:r={},$$scope:l}=e,{transition:a=yr}=e,{transitionConfig:s=void 0}=e,{class:u=void 0}=e;return t.$$set=f=>{e=Z(Z({},e),Re(f)),n(3,i=se(e,o)),"transition"in f&&n(0,a=f.transition),"transitionConfig"in f&&n(1,s=f.transitionConfig),"class"in f&&n(2,u=f.class),"$$scope"in f&&n(5,l=f.$$scope)},[a,s,u,i,r,l]}class Mr extends we{constructor(e){super(),ye(this,e,yv,vv,de,{transition:0,transitionConfig:1,class:2})}}function wv(t){let e;const n=t[2].default,o=_e(n,t,t[3],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&8)&&be(o,n,i,i[3],e?ge(n,i[3],r,null):ve(i[3]),null)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function kv(t){let e,n;const o=[{class:qe("text-sm text-muted-foreground",t[0])},t[1]];let i={$$slots:{default:[wv]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Z(i,o[r]);return e=new M0({props:i}),{c(){X(e.$$.fragment)},m(r,l){U(e,r,l),n=!0},p(r,[l]){const a=l&3?ke(o,[l&1&&{class:qe("text-sm text-muted-foreground",r[0])},l&2&&rt(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){K(e,r)}}}function Cv(t,e,n){const o=["class"];let i=se(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Z(Z({},e),Re(s)),n(1,i=se(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,l=s.$$scope)},[a,i,r,l]}class es extends we{constructor(e){super(),ye(this,e,Cv,kv,de,{class:0})}}const Or=k_;function uu(t,e,n){const o=t.slice();return o[25]=e[n],o}function fu(t,e,n){const o=t.slice();return o[28]=e[n],o}function Av(t){let e;return{c(){e=B("Pause Menu")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Sv(t){let e;return{c(){e=B("Unpause any time by pressing 'P'")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Tv(t){let e,n,o,i;return e=new Jn({props:{$$slots:{default:[Av]},$$scope:{ctx:t}}}),o=new Qn({props:{$$slots:{default:[Sv]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=j(),X(o.$$.fragment)},m(r,l){U(e,r,l),I(r,n,l),U(o,r,l),i=!0},p(r,l){const a={};l[1]&1&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l[1]&1&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),K(e,r),K(o,r)}}}function cu(t){let e,n,o,i,r,l=JSON.stringify(t[5].requirements[t[2].difficulty].population_count)+"",a,s,u=JSON.stringify(t[2].townInfo.population_count)+"",f,c,d,m,p=JSON.stringify(t[5].requirements[t[2].difficulty].happiness)+"",h,y,C=JSON.stringify(t[2].townInfo.happiness)+"",k,w,R,F,N=JSON.stringify(t[5].requirements[t[2].difficulty].employment*100)+"",$,G,L=JSON.stringify((t[2].townInfo.employees/t[2].townInfo.population_count||0)*100)+"",V,v,b,M,E,W=JSON.stringify(t[5].requirements[t[2].difficulty].health)+"",q,J,Q=JSON.stringify(t[2].townInfo.health)+"",ee,Y,te,ne,me=JSON.stringify(t[5].requirements[t[2].difficulty].knowledge)+"",_,D,x=JSON.stringify(t[2].townInfo.knowledge_points)+"",ie,ae,Ie;function Me(pe,Je){return pe[2].townInfo.population_count>=pe[5].requirements[pe[2].difficulty].population_count?Mv:Iv}let Ye=Me(t),ce=Ye(t);function Le(pe,Je){return pe[2].townInfo.happiness>=pe[5].requirements[pe[2].difficulty].happiness?Pv:Ov}let He=Le(t),Fe=He(t);function Xe(pe,Je){return pe[2].townInfo.employees/pe[2].townInfo.population_count>=pe[5].requirements[pe[2].difficulty].employment?Ev:Nv}let Ae=Xe(t),Se=Ae(t);function kt(pe,Je){return pe[2].townInfo.health>=pe[5].requirements[pe[2].difficulty].health?Rv:$v}let Lt=kt(t),lt=Lt(t);function Dt(pe,Je){return pe[2].townInfo.knowledge_points>=pe[5].requirements[pe[2].difficulty].knowledge?Dv:Lv}let Ft=Dt(t),ct=Ft(t),tt=t[5].requirements[t[2].difficulty].required_plots!=null&&t[5].requirements[t[2].difficulty].required_plots.length>0&&du(t);return{c(){e=O("div"),e.textContent=`With your difficulty (${t[6]}), you must also have:`,n=j(),o=O("ul"),i=O("li"),ce.c(),r=B(`
                  Population: `),a=B(l),s=B(" - Currently at "),f=B(u),c=j(),d=O("li"),Fe.c(),m=B(`
                  Happiness: `),h=B(p),y=B(" - Currently at "),k=B(C),w=j(),R=O("li"),Se.c(),F=B(`
                  Employment: `),$=B(N),G=B("% - Currently at "),V=B(L),v=B("%"),b=j(),M=O("li"),lt.c(),E=B(`
                  Health: `),q=B(W),J=B(" - Currently at "),ee=B(Q),Y=j(),te=O("li"),ct.c(),ne=B(`
                  Knowledge: `),_=B(me),D=B(" - Currently at "),ie=B(x),ae=j(),tt&&tt.c(),Ie=De(),P(e,"class","leading-relaxed text-sm"),P(o,"class","list-inside list-disc leading-relaxedmt-0 text-sm")},m(pe,Je){I(pe,e,Je),I(pe,n,Je),I(pe,o,Je),g(o,i),ce.m(i,null),g(i,r),g(i,a),g(i,s),g(i,f),g(o,c),g(o,d),Fe.m(d,null),g(d,m),g(d,h),g(d,y),g(d,k),g(o,w),g(o,R),Se.m(R,null),g(R,F),g(R,$),g(R,G),g(R,V),g(R,v),g(o,b),g(o,M),lt.m(M,null),g(M,E),g(M,q),g(M,J),g(M,ee),g(o,Y),g(o,te),ct.m(te,null),g(te,ne),g(te,_),g(te,D),g(te,ie),I(pe,ae,Je),tt&&tt.m(pe,Je),I(pe,Ie,Je)},p(pe,Je){Ye!==(Ye=Me(pe))&&(ce.d(1),ce=Ye(pe),ce&&(ce.c(),ce.m(i,r))),Je[0]&4&&l!==(l=JSON.stringify(pe[5].requirements[pe[2].difficulty].population_count)+"")&&le(a,l),Je[0]&4&&u!==(u=JSON.stringify(pe[2].townInfo.population_count)+"")&&le(f,u),He!==(He=Le(pe))&&(Fe.d(1),Fe=He(pe),Fe&&(Fe.c(),Fe.m(d,m))),Je[0]&4&&p!==(p=JSON.stringify(pe[5].requirements[pe[2].difficulty].happiness)+"")&&le(h,p),Je[0]&4&&C!==(C=JSON.stringify(pe[2].townInfo.happiness)+"")&&le(k,C),Ae!==(Ae=Xe(pe))&&(Se.d(1),Se=Ae(pe),Se&&(Se.c(),Se.m(R,F))),Je[0]&4&&N!==(N=JSON.stringify(pe[5].requirements[pe[2].difficulty].employment*100)+"")&&le($,N),Je[0]&4&&L!==(L=JSON.stringify((pe[2].townInfo.employees/pe[2].townInfo.population_count||0)*100)+"")&&le(V,L),Lt!==(Lt=kt(pe))&&(lt.d(1),lt=Lt(pe),lt&&(lt.c(),lt.m(M,E))),Je[0]&4&&W!==(W=JSON.stringify(pe[5].requirements[pe[2].difficulty].health)+"")&&le(q,W),Je[0]&4&&Q!==(Q=JSON.stringify(pe[2].townInfo.health)+"")&&le(ee,Q),Ft!==(Ft=Dt(pe))&&(ct.d(1),ct=Ft(pe),ct&&(ct.c(),ct.m(te,ne))),Je[0]&4&&me!==(me=JSON.stringify(pe[5].requirements[pe[2].difficulty].knowledge)+"")&&le(_,me),Je[0]&4&&x!==(x=JSON.stringify(pe[2].townInfo.knowledge_points)+"")&&le(ie,x),pe[5].requirements[pe[2].difficulty].required_plots!=null&&pe[5].requirements[pe[2].difficulty].required_plots.length>0?tt?tt.p(pe,Je):(tt=du(pe),tt.c(),tt.m(Ie.parentNode,Ie)):tt&&(tt.d(1),tt=null)},d(pe){pe&&(T(e),T(n),T(o),T(ae),T(Ie)),ce.d(),Fe.d(),Se.d(),lt.d(),ct.d(),tt&&tt.d(pe)}}}function Iv(t){let e;return{c(){e=B("❌")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Mv(t){let e;return{c(){e=B("✅")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Ov(t){let e;return{c(){e=B("❌")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Pv(t){let e;return{c(){e=B("✅")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Nv(t){let e;return{c(){e=B("❌")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Ev(t){let e;return{c(){e=B("✅")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function $v(t){let e;return{c(){e=B("❌")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Rv(t){let e;return{c(){e=B("✅")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Lv(t){let e;return{c(){e=B("❌")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Dv(t){let e;return{c(){e=B("✅")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function du(t){let e,n,o,i=Ke(t[5].requirements[t[2].difficulty].required_plots),r=[];for(let l=0;l<i.length;l+=1)r[l]=mu(fu(t,i,l));return{c(){e=O("br"),n=B(`
                You also need to have these plots:
                `);for(let l=0;l<r.length;l+=1)r[l].c();o=De()},m(l,a){I(l,e,a),I(l,n,a);for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(l,a);I(l,o,a)},p(l,a){if(a[0]&36){i=Ke(l[5].requirements[l[2].difficulty].required_plots);let s;for(s=0;s<i.length;s+=1){const u=fu(l,i,s);r[s]?r[s].p(u,a):(r[s]=mu(u),r[s].c(),r[s].m(o.parentNode,o))}for(;s<r.length;s+=1)r[s].d(1);r.length=i.length}},d(l){l&&(T(e),T(n),T(o)),_t(r,l)}}}function Fv(t){let e;return{c(){e=B("❌")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Bv(t){let e;return{c(){e=B("✅")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function mu(t){let e,n,o,i,r=t[28]+"",l,a;function s(c,d){return d[0]&4&&(o=null),o==null&&(o=We(c[28],c[2]).length>0),o?Bv:Fv}let u=s(t,[-1,-1]),f=u(t);return{c(){e=O("div"),n=O("li"),f.c(),i=j(),l=B(r),a=j(),P(e,"class","text-sm")},m(c,d){I(c,e,d),g(e,n),f.m(n,null),g(n,i),g(n,l),g(e,a)},p(c,d){u!==(u=s(c,d))&&(f.d(1),f=u(c),f&&(f.c(),f.m(n,i))),d[0]&4&&r!==(r=c[28]+"")&&le(l,r)},d(c){c&&T(e),f.d()}}}function jv(t){let e;return{c(){e=B("Save game")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function qv(t){let e;return{c(){e=B("Save")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Gv(t){let e;return{c(){e=B("Upload game")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function pu(t){let e,n;function o(){return t[19](t[25])}return e=new yt({props:{class:"bg-blue-600 hover:bg-blue-700 mt-4",id:"collectPrize-"+t[25].id,$$slots:{default:[Hv]},$$scope:{ctx:t}}}),e.$on("click",o),{c(){X(e.$$.fragment)},m(i,r){U(e,i,r),n=!0},p(i,r){t=i;const l={};r[0]&2&&(l.id="collectPrize-"+t[25].id),r[0]&2|r[1]&1&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(i){n||(A(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){K(e,i)}}}function Hv(t){let e,n=_u(t[25].prize)+"",o,i;return{c(){e=B("Collect Prize: $"),o=B(n),i=B(" gold")},m(r,l){I(r,e,l),I(r,o,l),I(r,i,l)},p(r,l){l[0]&2&&n!==(n=_u(r[25].prize)+"")&&le(o,n)},d(r){r&&(T(e),T(o),T(i))}}}function hu(t){let e,n,o,i,r,l,a=t[25].title+"",s,u,f,c=t[25].requirements+"",d,m,p,h=t[25].icon+"",y,C,k,w=t[25].description+"",R,F,N,$,G=t[8](t[25].id)+"",L,V,v,b=t[13](t[25].id)&&!t[9](t[25].id),M,E,W,q=b&&pu(t);return{c(){e=O("div"),n=O("div"),o=O("div"),i=O("span"),r=O("div"),l=O("span"),s=B(a),u=j(),f=O("div"),d=B(c),m=j(),p=O("div"),y=B(h),C=j(),k=O("div"),R=B(w),F=j(),N=O("div"),$=B("✅ Completed on Day "),L=B(G),v=j(),q&&q.c(),M=j(),P(l,"class","font-semibold text-lg"),P(f,"class","font-thin text-white opacity-75 text-xs"),P(r,"class","flex flex-row gap-3 w-[100%] text- items-center "),P(p,"class","text-sm flex-grow pr-1 break-inside-avoid "),P(i,"class","flex flex-row justify-between w-[100%]"),P(o,"class","min-w-32 flex"),P(k,"class","text-white opacity-75 text-sm font-light"),P(N,"class",V=(t[13](t[25].id)?"":"hidden")+" text-xs text-green-400"),P(n,"class","flex-col flex px-3 py-2 gap-0"),P(e,"class",E="flex flex-col gap-3 cursor-default rounded-md "+(t[13](t[25].id)?"bg-green-700":"bg-gray-500 opacity-35"))},m(J,Q){I(J,e,Q),g(e,n),g(n,o),g(o,i),g(i,r),g(r,l),g(l,s),g(r,u),g(r,f),g(f,d),g(i,m),g(i,p),g(p,y),g(n,C),g(n,k),g(k,R),g(n,F),g(n,N),g(N,$),g(N,L),g(n,v),q&&q.m(n,null),g(e,M),W=!0},p(J,Q){(!W||Q[0]&2)&&a!==(a=J[25].title+"")&&le(s,a),(!W||Q[0]&2)&&c!==(c=J[25].requirements+"")&&le(d,c),(!W||Q[0]&2)&&h!==(h=J[25].icon+"")&&le(y,h),(!W||Q[0]&2)&&w!==(w=J[25].description+"")&&le(R,w),(!W||Q[0]&2)&&G!==(G=J[8](J[25].id)+"")&&le(L,G),(!W||Q[0]&2&&V!==(V=(J[13](J[25].id)?"":"hidden")+" text-xs text-green-400"))&&P(N,"class",V),Q[0]&2&&(b=J[13](J[25].id)&&!J[9](J[25].id)),b?q?(q.p(J,Q),Q[0]&2&&A(q,1)):(q=pu(J),q.c(),A(q,1),q.m(n,null)):q&&(Pe(),S(q,1,1,()=>{q=null}),Ne()),(!W||Q[0]&2&&E!==(E="flex flex-col gap-3 cursor-default rounded-md "+(J[13](J[25].id)?"bg-green-700":"bg-gray-500 opacity-35")))&&P(e,"class",E)},i(J){W||(A(q),W=!0)},o(J){S(q),W=!1},d(J){J&&T(e),q&&q.d()}}}function Vv(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,p,h,y,C,k,w,R,F,N,$,G,L,V,v,b,M,E,W,q,J,Q,ee,Y,te,ne,me,_,D,x,ie;e=new xn({props:{$$slots:{default:[Tv]},$$scope:{ctx:t}}});let ae=t[2].endGoal=="land"&&cu(t);h=new co({props:{for:"saveButton",class:`cursor-pointer bg-blue-600 rounded-md text-center p-2.5 hover:bg-blue-700 justify-center flex 
					`,$$slots:{default:[jv]},$$scope:{ctx:t}}}),C=new yt({props:{class:`
					bg-blue-600 hover:bg-blue-700 hidden
					`,id:"saveButton",$$slots:{default:[qv]},$$scope:{ctx:t}}}),C.$on("click",t[16]),w=new co({props:{for:"upload",class:`cursor-pointer bg-blue-600 rounded-md text-center p-2.5 hover:bg-blue-700 justify-center flex 
					`,$$slots:{default:[Gv]},$$scope:{ctx:t}}}),F=new Zl({props:{class:"hidden",type:"file",id:"upload"}}),F.$on("change",t[12]),$=new wt({props:{orientation:"vertical"}});let Ie=Ke(t[1]),Me=[];for(let ce=0;ce<Ie.length;ce+=1)Me[ce]=hu(uu(t,Ie,ce));const Ye=ce=>S(Me[ce],1,1,()=>{Me[ce]=null});return{c(){X(e.$$.fragment),n=j(),o=O("div"),i=O("div"),r=O("div"),l=O("h4"),l.textContent="This game",a=j(),s=O("span"),s.textContent=`${t[5].description_title}`,u=j(),f=O("div"),ae&&ae.c(),c=j(),d=O("div"),m=O("div"),p=O("div"),X(h.$$.fragment),y=j(),X(C.$$.fragment),k=j(),X(w.$$.fragment),R=j(),X(F.$$.fragment),N=j(),X($.$$.fragment),G=j(),L=O("div"),V=O("h4"),V.textContent=`Your achievement (${t[7].length}
          / ${nt.length})`,v=j(),b=O("span"),b.textContent="Track your progress through games & complete challenges!",M=j(),E=O("br"),W=j(),q=O("div"),J=O("input"),Q=j(),ee=O("label"),ee.textContent="Show completed",Y=j(),te=O("div"),ne=O("div");for(let ce=0;ce<Me.length;ce+=1)Me[ce].c();me=j(),_=O("span"),_.textContent=`Prizes apply to the current game you are in. You can wait to apply
          them until the right time.`,P(l,"class","underline underline-offset-4"),P(s,"class","text-sm text-gray-400"),P(f,"class","mt-6 gap-0 py-0 text-gray-400 text-sm"),P(r,"class","flex-col h-max"),P(p,"class","flex gap-10 justify-start min-w-[100%] w-[100%] items"),P(m,"class","flex flex-col gap-3 h-max"),P(i,"class","flex flex-col gap-6 justify-between"),P(V,"class","underline underline-offset-4"),P(b,"class","text-sm text-gray-400"),P(J,"type","checkbox"),P(J,"id","toggle-show-completed"),P(J,"class","rounded"),P(J,"tabindex","-1"),J.checked=localStorage.getItem("showCompletedAchievements")==="true",P(ee,"for","toggle-show-completed"),P(ee,"class","text-xs text-gray-400 select-none ml-2 no-select cursor-pointer "),P(q,"class","flex items-center"),P(ne,"class","flex flex-col gap-4 overflow-scroll pb-20 scroll-smooth"),P(te,"class","overflow-scroll mt-2 h-[55vh]"),P(_,"class","text-sm text-yellow-400 italic"),P(o,"class","flex flex-row w-full gap-10")},m(ce,Le){U(e,ce,Le),I(ce,n,Le),I(ce,o,Le),g(o,i),g(i,r),g(r,l),g(r,a),g(r,s),g(r,u),g(r,f),ae&&ae.m(f,null),g(i,c),g(i,d),g(d,m),g(m,p),U(h,p,null),g(p,y),U(C,p,null),g(p,k),U(w,p,null),g(p,R),U(F,p,null),g(o,N),U($,o,null),g(o,G),g(o,L),g(L,V),g(L,v),g(L,b),g(L,M),g(L,E),g(L,W),g(L,q),g(q,J),g(q,Q),g(q,ee),g(L,Y),g(L,te),g(te,ne);for(let He=0;He<Me.length;He+=1)Me[He]&&Me[He].m(ne,null);g(L,me),g(L,_),D=!0,x||(ie=[z(J,"change",t[17]),z(J,"keydown",t[18])],x=!0)},p(ce,Le){const He={};Le[1]&1&&(He.$$scope={dirty:Le,ctx:ce}),e.$set(He),ce[2].endGoal=="land"?ae?ae.p(ce,Le):(ae=cu(ce),ae.c(),ae.m(f,null)):ae&&(ae.d(1),ae=null);const Fe={};Le[1]&1&&(Fe.$$scope={dirty:Le,ctx:ce}),h.$set(Fe);const Xe={};Le[1]&1&&(Xe.$$scope={dirty:Le,ctx:ce}),C.$set(Xe);const Ae={};if(Le[1]&1&&(Ae.$$scope={dirty:Le,ctx:ce}),w.$set(Ae),Le[0]&9986){Ie=Ke(ce[1]);let Se;for(Se=0;Se<Ie.length;Se+=1){const kt=uu(ce,Ie,Se);Me[Se]?(Me[Se].p(kt,Le),A(Me[Se],1)):(Me[Se]=hu(kt),Me[Se].c(),A(Me[Se],1),Me[Se].m(ne,null))}for(Pe(),Se=Ie.length;Se<Me.length;Se+=1)Ye(Se);Ne()}},i(ce){if(!D){A(e.$$.fragment,ce),A(h.$$.fragment,ce),A(C.$$.fragment,ce),A(w.$$.fragment,ce),A(F.$$.fragment,ce),A($.$$.fragment,ce);for(let Le=0;Le<Ie.length;Le+=1)A(Me[Le]);D=!0}},o(ce){S(e.$$.fragment,ce),S(h.$$.fragment,ce),S(C.$$.fragment,ce),S(w.$$.fragment,ce),S(F.$$.fragment,ce),S($.$$.fragment,ce),Me=Me.filter(Boolean);for(let Le=0;Le<Me.length;Le+=1)S(Me[Le]);D=!1},d(ce){ce&&(T(n),T(o)),K(e,ce),ae&&ae.d(),K(h),K(C),K(w),K(F),K($),_t(Me,ce),x=!1,je(ie)}}}function Wv(t){let e,n;return e=new Zn({props:{class:" max-w-[90vw] max-h-[90vh] bg-foregroundDark text-foregroundText",$$slots:{default:[Vv]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const r={};i[0]&6|i[1]&1&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function Yv(t){var o;let e=((o=t[14]())==null?void 0:o.title)+"",n;return{c(){n=B(e)},m(i,r){I(i,n,r)},p:Ce,d(i){i&&T(n)}}}function Uv(t){let e,n,o,i;return{c(){var r,l;e=O("div"),n=O("div"),n.textContent=`${(r=t[14]())==null?void 0:r.icon}`,o=j(),i=O("div"),i.textContent=`${(l=t[14]())==null?void 0:l.description}`,P(n,"class","text-center w-[30%] align-middle flex flex-col text-8xl"),P(i,"class","pl-8 w-[80%] align-middle flex flex-col justify-center text-lg"),P(e,"class","flex flex-row align-middle justify-evenly px-6 py-4")},m(r,l){I(r,e,l),g(e,n),g(e,o),g(e,i)},p:Ce,d(r){r&&T(e)}}}function Kv(t){let e,n,o,i;return e=new Ql({props:{class:"text-center text-xl font-bold",$$slots:{default:[Yv]},$$scope:{ctx:t}}}),o=new es({props:{$$slots:{default:[Uv]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=j(),X(o.$$.fragment)},m(r,l){U(e,r,l),I(r,n,l),U(o,r,l),i=!0},p(r,l){const a={};l[1]&1&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l[1]&1&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),K(e,r),K(o,r)}}}function Xv(t){let e;return{c(){e=B("Close to collect prize")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Jv(t){let e,n;return e=new ad({props:{$$slots:{default:[Xv]},$$scope:{ctx:t}}}),e.$on("click",t[21]),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const r={};i[1]&1&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function xv(t){let e,n,o,i;return e=new zl({props:{$$slots:{default:[Kv]},$$scope:{ctx:t}}}),o=new Ir({props:{$$slots:{default:[Jv]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=j(),X(o.$$.fragment)},m(r,l){U(e,r,l),I(r,n,l),U(o,r,l),i=!0},p(r,l){const a={};l[1]&1&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l[0]&16|l[1]&1&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),K(e,r),K(o,r)}}}function Zv(t){let e,n;return e=new Mr({props:{$$slots:{default:[xv]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const r={};i[0]&16|i[1]&1&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function Qv(t){let e,n,o,i,r;function l(s){t[20](s)}let a={$$slots:{default:[Wv]},$$scope:{ctx:t}};return t[3]!==void 0&&(a.open=t[3]),e=new zn({props:a}),$e.push(()=>In(e,"open",l)),i=new Or({props:{open:t[4],$$slots:{default:[Zv]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),o=j(),X(i.$$.fragment)},m(s,u){U(e,s,u),I(s,o,u),U(i,s,u),r=!0},p(s,u){const f={};u[0]&6|u[1]&1&&(f.$$scope={dirty:u,ctx:s}),!n&&u[0]&8&&(n=!0,f.open=s[3],Tn(()=>n=!1)),e.$set(f);const c={};u[0]&16&&(c.open=s[4]),u[0]&16|u[1]&1&&(c.$$scope={dirty:u,ctx:s}),i.$set(c)},i(s){r||(A(e.$$.fragment,s),A(i.$$.fragment,s),r=!0)},o(s){S(e.$$.fragment,s),S(i.$$.fragment,s),r=!1},d(s){s&&T(o),K(e,s),K(i,s)}}}function _u(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function zv(t){const e=JSON.parse(t);return e.townInfo!=null&&e.difficulty!=null}function ey(t,e,n){let o,i,r,l,a;ue(t,an,v=>n(23,o=v)),ue(t,Ee,v=>n(2,i=v)),ue(t,xi,v=>n(15,r=v)),ue(t,$t,v=>n(3,l=v)),ue(t,Xi,v=>n(4,a=v));const u=Vn[i.endGoal],f=jl[i.difficulty]||0;nt.sort((v,b)=>k(v.id)&&!k(b.id)?-1:!k(v.id)&&k(b.id)?1:0);const c=nt.filter(v=>k(v.id));function d(v){const b=o.achievements.find(M=>M[0]==v);return b==null?0:`${b[1]} in ${b[2]}.`}function m(v){const b=o.achievements.find(M=>M[0]==v);return b==null?!1:b[3]}function p(v){const b=o.achievements.find(E=>E[0]==v);if(b==null)return;const M=nt.find(E=>E.id==v);M!=null&&(Oe(Ee,i.townInfo.gold+=M.prize,i),b[3]=!0,Oe(an,o.achievements=o.achievements.map(E=>E[0]==v?b:E),o))}let h=nt;function y(){const v=JSON.stringify(i),b=new Blob([v],{type:"text/plain"}),M=URL.createObjectURL(b),E=document.createElement("a");E.href=M,E.download=`${new Date().toISOString()}.json`,document.body.appendChild(E),E.click(),document.body.removeChild(E),URL.revokeObjectURL(M)}function C(){const b=document.getElementById("upload").files;if(b==null)return;const M=b[0],E=new FileReader;E.onload=function(W){if(W.target==null)return;const q=W.target.result;if(typeof q=="string"){if(!zv(q)){Ot.set("Invalid game file");return}ql(JSON.parse(q))}else Ot.set("Invalid game file: is not String.")},E.readAsText(M)}function k(v){return o.achievements==null?!1:o.achievements.find(b=>b[0]==v)!=null}function w(){xi.update(v=>!v),localStorage.setItem("showCompletedAchievements",localStorage.getItem("showCompletedAchievements")==="true"?"false":"true")}localStorage.getItem("pauseMenuTab")==null&&(localStorage.setItem("pauseMenuTab","game"),bc.set("game"));function R(){const v=o.achievements[o.achievements.length-1];if(v!=null)return nt.find(b=>b.id==v[0])}const F=()=>y(),N=()=>{w()},$=v=>{v.key==="p"&&$t.set(!1)},G=v=>{p(v.id);const b=document.getElementById(`collectPrize-${v.id}`);b&&(b.style.display="none")};function L(v){l=v,$t.set(l)}const V=()=>{Oe(Xi,a=!1,a)};return t.$$.update=()=>{if(t.$$.dirty[0]&32774&&i)if(r)n(1,h=nt);else{n(1,h=[]);for(let v=0;v<nt.length;v++)(!k(nt[v].id)||!m(nt[v].id))&&h.push(nt[v])}},[w,h,i,l,a,u,f,c,d,m,p,y,C,k,R,r,F,N,$,G,L,V]}class ty extends we{constructor(e){super(),ye(this,e,ey,Qv,de,{toggleShowCompleted:0},null,[-1,-1])}get toggleShowCompleted(){return this.$$.ctx[0]}}function ny(){console.log("%cRUNNING STABILITY TESTS...","color: #26bfa5;");let t=0;return console.log("%cPASSED ALL STABILITY TESTS 😍","color: #26bfa5;"),t}function oy(t){let e=t[0].endGameDetails.win==!0?"You won! 🎉":"You lost! 😭",n;return{c(){n=B(e)},m(o,i){I(o,n,i)},p(o,i){i&1&&e!==(e=o[0].endGameDetails.win==!0?"You won! 🎉":"You lost! 😭")&&le(n,e)},d(o){o&&T(n)}}}function iy(t){let e;return{c(){e=B("Keep playin'")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function ry(t){let e,n=t[0].endGameDetails.msg+"",o,i,r,l,a,s,u,f;return u=new yt({props:{class:"bg-accent",$$slots:{default:[iy]},$$scope:{ctx:t}}}),u.$on("click",t[2]),{c(){e=O("span"),o=B(n),i=j(),r=O("br"),l=j(),a=O("br"),s=j(),X(u.$$.fragment),P(e,"class","text-gray-500 text-sm")},m(c,d){I(c,e,d),g(e,o),I(c,i,d),I(c,r,d),I(c,l,d),I(c,a,d),I(c,s,d),U(u,c,d),f=!0},p(c,d){(!f||d&1)&&n!==(n=c[0].endGameDetails.msg+"")&&le(o,n);const m={};d&16&&(m.$$scope={dirty:d,ctx:c}),u.$set(m)},i(c){f||(A(u.$$.fragment,c),f=!0)},o(c){S(u.$$.fragment,c),f=!1},d(c){c&&(T(e),T(i),T(r),T(l),T(a),T(s)),K(u,c)}}}function ly(t){let e,n,o,i;return e=new Jn({props:{$$slots:{default:[oy]},$$scope:{ctx:t}}}),o=new Qn({props:{$$slots:{default:[ry]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=j(),X(o.$$.fragment)},m(r,l){U(e,r,l),I(r,n,l),U(o,r,l),i=!0},p(r,l){const a={};l&17&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&17&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),K(e,r),K(o,r)}}}function sy(t){let e;return{c(){e=O("span"),e.textContent="Reset the game by pressing SHIFT+ESC",P(e,"class","text-gray-500 text-sm")},m(n,o){I(n,e,o)},p:Ce,d(n){n&&T(e)}}}function ay(t){let e,n,o,i;return e=new xn({props:{$$slots:{default:[ly]},$$scope:{ctx:t}}}),o=new Po({props:{$$slots:{default:[sy]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=j(),X(o.$$.fragment)},m(r,l){U(e,r,l),I(r,n,l),U(o,r,l),i=!0},p(r,l){const a={};l&17&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&16&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),K(e,r),K(o,r)}}}function uy(t){let e,n;return e=new Zn({props:{class:"bg-foregroundDark text-foregroundText",$$slots:{default:[ay]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const r={};i&17&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function fy(t){let e,n,o;function i(l){t[3](l)}let r={$$slots:{default:[uy]},$$scope:{ctx:t}};return t[1]!==void 0&&(r.open=t[1]),e=new zn({props:r}),$e.push(()=>In(e,"open",i)),{c(){X(e.$$.fragment)},m(l,a){U(e,l,a),o=!0},p(l,[a]){const s={};a&17&&(s.$$scope={dirty:a,ctx:l}),!n&&a&2&&(n=!0,s.open=l[1],Tn(()=>n=!1)),e.$set(s)},i(l){o||(A(e.$$.fragment,l),o=!0)},o(l){S(e.$$.fragment,l),o=!1},d(l){K(e,l)}}}function cy(t,e,n){let o;ue(t,Ee,a=>n(0,o=a));let i=!1;function r(){let a=o;a.overtime=!0,Ee.set(a),n(1,i=!1),$t.set(!1)}function l(a){i=a,n(1,i),n(0,o)}return t.$$.update=()=>{t.$$.dirty&1&&(o.endGameDetails.msg!=""&&o.overtime==!1?n(1,i=!0):n(1,i=!1))},[o,i,r,l]}class dy extends we{constructor(e){super(),ye(this,e,cy,fy,de,{})}}function my(t){let e;return{c(){e=B("Welcome to Plots!")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function py(t){let e;return{c(){e=B("Select a map size (difficulty)")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function hy(t){let e;return{c(){e=B("Select a game mode")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function _y(t){let e;return{c(){e=O("p"),e.textContent=`${Vn.free_play.description_title}`,P(e,"class","text-gray-500 text-sm")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function gy(t){let e;return{c(){e=O("p"),e.textContent=`${Vn.land.description_title}`,P(e,"class","text-gray-500 text-sm")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function by(t){let e;return{c(){e=B("Town Name")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function vy(t){let e;return{c(){e=B("Cheats")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function yy(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,p,h,y,C,k,w,R,F,N,$,G,L,V,v,b,M,E,W,q,J;r=new co({props:{for:"difficulty",class:"mt-2",$$slots:{default:[py]},$$scope:{ctx:t}}}),m=new co({props:{for:"endGoal",class:"mt-2",$$slots:{default:[hy]},$$scope:{ctx:t}}});function Q(te,ne){return te[0]==="land"?gy:_y}let ee=Q(t),Y=ee(t);return F=new co({props:{for:"townName",class:"mt-2",$$slots:{default:[by]},$$scope:{ctx:t}}}),$=new Zl({props:{id:"townName",class:"mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Will be randomized if you leave blank"}}),V=new co({props:{for:"cheats",class:"mt-2",$$slots:{default:[vy]},$$scope:{ctx:t}}}),{c(){e=O("a"),e.textContent="GitHub / Learn how to play",n=j(),o=O("div"),i=O("div"),X(r.$$.fragment),l=j(),a=O("select"),s=O("option"),s.textContent="Easy (quick game)",u=O("option"),u.textContent="Normal",f=O("option"),f.textContent="Hard (longest game)",c=j(),d=O("div"),X(m.$$.fragment),p=j(),Y.c(),h=j(),y=O("select"),C=O("option"),C.textContent=`${Vn.land.short_title}`,k=O("option"),k.textContent=`${Vn.free_play.short_title}`,w=j(),R=O("div"),X(F.$$.fragment),N=j(),X($.$$.fragment),G=j(),L=O("div"),X(V.$$.fragment),v=j(),b=O("select"),M=O("option"),M.textContent="No cheats",E=O("option"),E.textContent="Dev mode",P(e,"href","https://github.com/josephrcox/plots#how-to-play"),P(e,"class","text-blue-500 text-sm mb-4 hover:underline"),P(e,"target","_blank"),s.__value="0",rn(s,s.__value),u.__value="1",rn(u,u.__value),u.selected=!0,f.__value="2",rn(f,f.__value),P(a,"id","difficulty"),P(a,"class","mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"),C.__value="land",rn(C,C.__value),k.__value="free_play",rn(k,k.__value),P(y,"id","endGoal"),P(y,"class","mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),M.__value="false",rn(M,M.__value),M.selected=!0,E.__value="true",rn(E,E.__value),P(b,"id","cheats"),P(b,"class","mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),P(o,"class","flex flex-col justify-center gap-5 mt-4")},m(te,ne){I(te,e,ne),I(te,n,ne),I(te,o,ne),g(o,i),U(r,i,null),g(i,l),g(i,a),g(a,s),g(a,u),g(a,f),g(o,c),g(o,d),U(m,d,null),g(d,p),Y.m(d,null),g(d,h),g(d,y),g(y,C),g(y,k),Is(y,t[0]),g(o,w),g(o,R),U(F,R,null),g(R,N),U($,R,null),g(o,G),g(o,L),U(V,L,null),g(L,v),g(L,b),g(b,M),g(b,E),W=!0,q||(J=z(y,"change",t[4]),q=!0)},p(te,ne){const me={};ne&256&&(me.$$scope={dirty:ne,ctx:te}),r.$set(me);const _={};ne&256&&(_.$$scope={dirty:ne,ctx:te}),m.$set(_),ee!==(ee=Q(te))&&(Y.d(1),Y=ee(te),Y&&(Y.c(),Y.m(d,h))),(!W||ne&1)&&Is(y,te[0]);const D={};ne&256&&(D.$$scope={dirty:ne,ctx:te}),F.$set(D);const x={};ne&256&&(x.$$scope={dirty:ne,ctx:te}),V.$set(x)},i(te){W||(A(r.$$.fragment,te),A(m.$$.fragment,te),A(F.$$.fragment,te),A($.$$.fragment,te),A(V.$$.fragment,te),W=!0)},o(te){S(r.$$.fragment,te),S(m.$$.fragment,te),S(F.$$.fragment,te),S($.$$.fragment,te),S(V.$$.fragment,te),W=!1},d(te){te&&(T(e),T(n),T(o)),K(r),K(m),Y.d(),K(F),K($),K(V),q=!1,J()}}}function wy(t){let e,n,o,i;return e=new Jn({props:{$$slots:{default:[my]},$$scope:{ctx:t}}}),o=new Qn({props:{$$slots:{default:[yy]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=j(),X(o.$$.fragment)},m(r,l){U(e,r,l),I(r,n,l),U(o,r,l),i=!0},p(r,l){const a={};l&256&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&257&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),K(e,r),K(o,r)}}}function ky(t){let e;return{c(){e=B("Reset user")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Cy(t){let e,n,o=t[1].username+"",i,r,l,a,s,u,f,c,d;return a=new yt({props:{$$slots:{default:[ky]},$$scope:{ctx:t}}}),a.$on("click",t[5]),{c(){e=O("div"),n=O("span"),i=B(o),r=j(),l=O("div"),X(a.$$.fragment),s=j(),u=O("button"),u.textContent="Start game",P(n,"class","italic opacity-30 text-xs py-2 text-start rounded h-full flex flex-col justify-center mr-10"),P(u,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-md"),P(e,"class","flex flex-row justify-between w-full px-1")},m(m,p){I(m,e,p),g(e,n),g(n,i),g(e,r),g(e,l),U(a,l,null),g(l,s),g(l,u),f=!0,c||(d=[z(n,"click",t[6]),z(u,"click",t[3])],c=!0)},p(m,p){(!f||p&2)&&o!==(o=m[1].username+"")&&le(i,o);const h={};p&256&&(h.$$scope={dirty:p,ctx:m}),a.$set(h)},i(m){f||(A(a.$$.fragment,m),f=!0)},o(m){S(a.$$.fragment,m),f=!1},d(m){m&&T(e),K(a),c=!1,je(d)}}}function Ay(t){let e,n,o,i;return e=new xn({props:{$$slots:{default:[wy]},$$scope:{ctx:t}}}),o=new Po({props:{$$slots:{default:[Cy]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=j(),X(o.$$.fragment)},m(r,l){U(e,r,l),I(r,n,l),U(o,r,l),i=!0},p(r,l){const a={};l&257&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&258&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),K(e,r),K(o,r)}}}function Sy(t){let e,n;return e=new Zn({props:{transition:yr,class:"bg-foregroundDark text-foregroundText",$$slots:{default:[Ay]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const r={};i&259&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function Ty(t){let e,n,o;function i(l){t[7](l)}let r={$$slots:{default:[Sy]},$$scope:{ctx:t}};return t[2].visible!==void 0&&(r.open=t[2].visible),e=new zn({props:r}),$e.push(()=>In(e,"open",i)),{c(){X(e.$$.fragment)},m(l,a){U(e,l,a),o=!0},p(l,[a]){const s={};a&259&&(s.$$scope={dirty:a,ctx:l}),!n&&a&4&&(n=!0,s.open=l[2].visible,Tn(()=>n=!1)),e.$set(s)},i(l){o||(A(e.$$.fragment,l),o=!0)},o(l){S(e.$$.fragment,l),o=!1},d(l){K(e,l)}}}function Iy(t,e,n){let o,i;ue(t,an,c=>n(1,o=c)),ue(t,Ko,c=>n(2,i=c)),$t.set(!1);function r(){const c=document.getElementById("difficulty").value,d=document.getElementById("endGoal").value,m=document.getElementById("townName").value,p=document.getElementById("cheats").value=="true";vm(c,d,m,p)}let l="free_play";const a=c=>{n(0,l=c.target.value)};function s(){Ot.set("Deleted :)"),localStorage.clear(),window.location.href=""}function u(){const c=prompt("Enter new username");let d=o;d.username=c,Am(d)}function f(c){t.$$.not_equal(i.visible,c)&&(i.visible=c,Ko.set(i))}return[l,o,i,r,a,s,u,f]}class My extends we{constructor(e){super(),ye(this,e,Iy,Ty,de,{})}}function Oy(t){let e;return{c(){e=B("Scoreboard")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Py(t){let e=t[1].description_title+"",n;return{c(){n=B(e)},m(o,i){I(o,n,i)},p:Ce,d(o){o&&T(n)}}}function Ny(t){let e,n,o,i;return e=new Jn({props:{$$slots:{default:[Oy]},$$scope:{ctx:t}}}),o=new Qn({props:{$$slots:{default:[Py]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=j(),X(o.$$.fragment)},m(r,l){U(e,r,l),I(r,n,l),U(o,r,l),i=!0},p(r,l){const a={};l&128&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&128&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),K(e,r),K(o,r)}}}function Ey(t){let e;return{c(){e=B("footer")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function $y(t){let e,n,o,i;return e=new xn({props:{$$slots:{default:[Ny]},$$scope:{ctx:t}}}),o=new Po({props:{$$slots:{default:[Ey]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=B(`
		hi
		`),X(o.$$.fragment)},m(r,l){U(e,r,l),I(r,n,l),U(o,r,l),i=!0},p(r,l){const a={};l&128&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&128&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),K(e,r),K(o,r)}}}function Ry(t){let e,n;return e=new Zn({props:{$$slots:{default:[$y]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const r={};i&128&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function Ly(t){let e,n,o;function i(l){t[3](l)}let r={$$slots:{default:[Ry]},$$scope:{ctx:t}};return t[0]!==void 0&&(r.open=t[0]),e=new zn({props:r}),$e.push(()=>In(e,"open",i)),{c(){X(e.$$.fragment)},m(l,a){U(e,l,a),o=!0},p(l,[a]){const s={};a&128&&(s.$$scope={dirty:a,ctx:l}),!n&&a&1&&(n=!0,s.open=l[0],Tn(()=>n=!1)),e.$set(s)},i(l){o||(A(e.$$.fragment,l),o=!0)},o(l){S(e.$$.fragment,l),o=!1},d(l){K(e,l)}}}function Dy(t,e,n){let o,i;ue(t,Ee,s=>n(2,o=s)),ue(t,Es,s=>n(0,i=s));const l=Vn[o.endGoal];jl[o.difficulty];function a(s){i=s,Es.set(i)}return t.$$.update=()=>{t.$$.dirty&4},[i,l,o,a]}class Fy extends we{constructor(e){super(),ye(this,e,Dy,Ly,de,{})}}function Di(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function By(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ud(t){let e,n,o;t.length!==2?(e=Di,n=(a,s)=>Di(t(a),s),o=(a,s)=>t(a)-s):(e=t===Di||t===By?t:jy,n=t,o=t);function i(a,s,u=0,f=a.length){if(u<f){if(e(s,s)!==0)return f;do{const c=u+f>>>1;n(a[c],s)<0?u=c+1:f=c}while(u<f)}return u}function r(a,s,u=0,f=a.length){if(u<f){if(e(s,s)!==0)return f;do{const c=u+f>>>1;n(a[c],s)<=0?u=c+1:f=c}while(u<f)}return u}function l(a,s,u=0,f=a.length){const c=i(a,s,u,f-1);return c>u&&o(a[c-1],s)>-o(a[c],s)?c-1:c}return{left:i,center:l,right:r}}function jy(){return 0}function qy(t){return t===null?NaN:+t}const Gy=ud(Di),Hy=Gy.right;ud(qy).center;const Vy=Math.sqrt(50),Wy=Math.sqrt(10),Yy=Math.sqrt(2);function ir(t,e,n){const o=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(o)),r=o/Math.pow(10,i),l=r>=Vy?10:r>=Wy?5:r>=Yy?2:1;let a,s,u;return i<0?(u=Math.pow(10,-i)/l,a=Math.round(t*u),s=Math.round(e*u),a/u<t&&++a,s/u>e&&--s,u=-u):(u=Math.pow(10,i)*l,a=Math.round(t/u),s=Math.round(e/u),a*u<t&&++a,s*u>e&&--s),s<a&&.5<=n&&n<2?ir(t,e,n*2):[a,s,u]}function Uy(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const o=e<t,[i,r,l]=o?ir(e,t,n):ir(t,e,n);if(!(r>=i))return[];const a=r-i+1,s=new Array(a);if(o)if(l<0)for(let u=0;u<a;++u)s[u]=(r-u)/-l;else for(let u=0;u<a;++u)s[u]=(r-u)*l;else if(l<0)for(let u=0;u<a;++u)s[u]=(i+u)/-l;else for(let u=0;u<a;++u)s[u]=(i+u)*l;return s}function vl(t,e,n){return e=+e,t=+t,n=+n,ir(t,e,n)[2]}function Ky(t,e,n){e=+e,t=+t,n=+n;const o=e<t,i=o?vl(e,t,n):vl(t,e,n);return(o?-1:1)*(i<0?1/-i:i)}function Xy(t){return t}var zr=1,el=2,yl=3,Ho=4,gu=1e-6;function Jy(t){return"translate("+t+",0)"}function xy(t){return"translate(0,"+t+")"}function Zy(t){return e=>+t(e)}function Qy(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function zy(){return!this.__axis}function fd(t,e){var n=[],o=null,i=null,r=6,l=6,a=3,s=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=t===zr||t===Ho?-1:1,f=t===Ho||t===el?"x":"y",c=t===zr||t===yl?Jy:xy;function d(m){var p=o??(e.ticks?e.ticks.apply(e,n):e.domain()),h=i??(e.tickFormat?e.tickFormat.apply(e,n):Xy),y=Math.max(r,0)+a,C=e.range(),k=+C[0]+s,w=+C[C.length-1]+s,R=(e.bandwidth?Qy:Zy)(e.copy(),s),F=m.selection?m.selection():m,N=F.selectAll(".domain").data([null]),$=F.selectAll(".tick").data(p,e).order(),G=$.exit(),L=$.enter().append("g").attr("class","tick"),V=$.select("line"),v=$.select("text");N=N.merge(N.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),$=$.merge(L),V=V.merge(L.append("line").attr("stroke","currentColor").attr(f+"2",u*r)),v=v.merge(L.append("text").attr("fill","currentColor").attr(f,u*y).attr("dy",t===zr?"0em":t===yl?"0.71em":"0.32em")),m!==F&&(N=N.transition(m),$=$.transition(m),V=V.transition(m),v=v.transition(m),G=G.transition(m).attr("opacity",gu).attr("transform",function(b){return isFinite(b=R(b))?c(b+s):this.getAttribute("transform")}),L.attr("opacity",gu).attr("transform",function(b){var M=this.parentNode.__axis;return c((M&&isFinite(M=M(b))?M:R(b))+s)})),G.remove(),N.attr("d",t===Ho||t===el?l?"M"+u*l+","+k+"H"+s+"V"+w+"H"+u*l:"M"+s+","+k+"V"+w:l?"M"+k+","+u*l+"V"+s+"H"+w+"V"+u*l:"M"+k+","+s+"H"+w),$.attr("opacity",1).attr("transform",function(b){return c(R(b)+s)}),V.attr(f+"2",u*r),v.attr(f,u*y).text(h),F.filter(zy).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===el?"start":t===Ho?"end":"middle"),F.each(function(){this.__axis=R})}return d.scale=function(m){return arguments.length?(e=m,d):e},d.ticks=function(){return n=Array.from(arguments),d},d.tickArguments=function(m){return arguments.length?(n=m==null?[]:Array.from(m),d):n.slice()},d.tickValues=function(m){return arguments.length?(o=m==null?null:Array.from(m),d):o&&o.slice()},d.tickFormat=function(m){return arguments.length?(i=m,d):i},d.tickSize=function(m){return arguments.length?(r=l=+m,d):r},d.tickSizeInner=function(m){return arguments.length?(r=+m,d):r},d.tickSizeOuter=function(m){return arguments.length?(l=+m,d):l},d.tickPadding=function(m){return arguments.length?(a=+m,d):a},d.offset=function(m){return arguments.length?(s=+m,d):s},d}function ew(t){return fd(yl,t)}function tw(t){return fd(Ho,t)}var nw={value:()=>{}};function cd(){for(var t=0,e=arguments.length,n={},o;t<e;++t){if(!(o=arguments[t]+"")||o in n||/[\s.]/.test(o))throw new Error("illegal type: "+o);n[o]=[]}return new Fi(n)}function Fi(t){this._=t}function ow(t,e){return t.trim().split(/^|\s+/).map(function(n){var o="",i=n.indexOf(".");if(i>=0&&(o=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:o}})}Fi.prototype=cd.prototype={constructor:Fi,on:function(t,e){var n=this._,o=ow(t+"",n),i,r=-1,l=o.length;if(arguments.length<2){for(;++r<l;)if((i=(t=o[r]).type)&&(i=iw(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++r<l;)if(i=(t=o[r]).type)n[i]=bu(n[i],t.name,e);else if(e==null)for(i in n)n[i]=bu(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Fi(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),o=0,i,r;o<i;++o)n[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=this._[t],o=0,i=r.length;o<i;++o)r[o].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var o=this._[t],i=0,r=o.length;i<r;++i)o[i].value.apply(e,n)}};function iw(t,e){for(var n=0,o=t.length,i;n<o;++n)if((i=t[n]).name===e)return i.value}function bu(t,e,n){for(var o=0,i=t.length;o<i;++o)if(t[o].name===e){t[o]=nw,t=t.slice(0,o).concat(t.slice(o+1));break}return n!=null&&t.push({name:e,value:n}),t}var wl="http://www.w3.org/1999/xhtml";const vu={svg:"http://www.w3.org/2000/svg",xhtml:wl,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Pr(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),vu.hasOwnProperty(e)?{space:vu[e],local:t}:t}function rw(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===wl&&e.documentElement.namespaceURI===wl?e.createElement(t):e.createElementNS(n,t)}}function lw(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function dd(t){var e=Pr(t);return(e.local?lw:rw)(e)}function sw(){}function ts(t){return t==null?sw:function(){return this.querySelector(t)}}function aw(t){typeof t!="function"&&(t=ts(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var r=e[i],l=r.length,a=o[i]=new Array(l),s,u,f=0;f<l;++f)(s=r[f])&&(u=t.call(s,s.__data__,f,r))&&("__data__"in s&&(u.__data__=s.__data__),a[f]=u);return new Nt(o,this._parents)}function uw(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function fw(){return[]}function md(t){return t==null?fw:function(){return this.querySelectorAll(t)}}function cw(t){return function(){return uw(t.apply(this,arguments))}}function dw(t){typeof t=="function"?t=cw(t):t=md(t);for(var e=this._groups,n=e.length,o=[],i=[],r=0;r<n;++r)for(var l=e[r],a=l.length,s,u=0;u<a;++u)(s=l[u])&&(o.push(t.call(s,s.__data__,u,l)),i.push(s));return new Nt(o,i)}function pd(t){return function(){return this.matches(t)}}function hd(t){return function(e){return e.matches(t)}}var mw=Array.prototype.find;function pw(t){return function(){return mw.call(this.children,t)}}function hw(){return this.firstElementChild}function _w(t){return this.select(t==null?hw:pw(typeof t=="function"?t:hd(t)))}var gw=Array.prototype.filter;function bw(){return Array.from(this.children)}function vw(t){return function(){return gw.call(this.children,t)}}function yw(t){return this.selectAll(t==null?bw:vw(typeof t=="function"?t:hd(t)))}function ww(t){typeof t!="function"&&(t=pd(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var r=e[i],l=r.length,a=o[i]=[],s,u=0;u<l;++u)(s=r[u])&&t.call(s,s.__data__,u,r)&&a.push(s);return new Nt(o,this._parents)}function _d(t){return new Array(t.length)}function kw(){return new Nt(this._enter||this._groups.map(_d),this._parents)}function rr(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}rr.prototype={constructor:rr,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Cw(t){return function(){return t}}function Aw(t,e,n,o,i,r){for(var l=0,a,s=e.length,u=r.length;l<u;++l)(a=e[l])?(a.__data__=r[l],o[l]=a):n[l]=new rr(t,r[l]);for(;l<s;++l)(a=e[l])&&(i[l]=a)}function Sw(t,e,n,o,i,r,l){var a,s,u=new Map,f=e.length,c=r.length,d=new Array(f),m;for(a=0;a<f;++a)(s=e[a])&&(d[a]=m=l.call(s,s.__data__,a,e)+"",u.has(m)?i[a]=s:u.set(m,s));for(a=0;a<c;++a)m=l.call(t,r[a],a,r)+"",(s=u.get(m))?(o[a]=s,s.__data__=r[a],u.delete(m)):n[a]=new rr(t,r[a]);for(a=0;a<f;++a)(s=e[a])&&u.get(d[a])===s&&(i[a]=s)}function Tw(t){return t.__data__}function Iw(t,e){if(!arguments.length)return Array.from(this,Tw);var n=e?Sw:Aw,o=this._parents,i=this._groups;typeof t!="function"&&(t=Cw(t));for(var r=i.length,l=new Array(r),a=new Array(r),s=new Array(r),u=0;u<r;++u){var f=o[u],c=i[u],d=c.length,m=Mw(t.call(f,f&&f.__data__,u,o)),p=m.length,h=a[u]=new Array(p),y=l[u]=new Array(p),C=s[u]=new Array(d);n(f,c,h,y,C,m,e);for(var k=0,w=0,R,F;k<p;++k)if(R=h[k]){for(k>=w&&(w=k+1);!(F=y[w])&&++w<p;);R._next=F||null}}return l=new Nt(l,o),l._enter=a,l._exit=s,l}function Mw(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Ow(){return new Nt(this._exit||this._groups.map(_d),this._parents)}function Pw(t,e,n){var o=this.enter(),i=this,r=this.exit();return typeof t=="function"?(o=t(o),o&&(o=o.selection())):o=o.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?r.remove():n(r),o&&i?o.merge(i).order():i}function Nw(t){for(var e=t.selection?t.selection():t,n=this._groups,o=e._groups,i=n.length,r=o.length,l=Math.min(i,r),a=new Array(i),s=0;s<l;++s)for(var u=n[s],f=o[s],c=u.length,d=a[s]=new Array(c),m,p=0;p<c;++p)(m=u[p]||f[p])&&(d[p]=m);for(;s<i;++s)a[s]=n[s];return new Nt(a,this._parents)}function Ew(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var o=t[e],i=o.length-1,r=o[i],l;--i>=0;)(l=o[i])&&(r&&l.compareDocumentPosition(r)^4&&r.parentNode.insertBefore(l,r),r=l);return this}function $w(t){t||(t=Rw);function e(c,d){return c&&d?t(c.__data__,d.__data__):!c-!d}for(var n=this._groups,o=n.length,i=new Array(o),r=0;r<o;++r){for(var l=n[r],a=l.length,s=i[r]=new Array(a),u,f=0;f<a;++f)(u=l[f])&&(s[f]=u);s.sort(e)}return new Nt(i,this._parents).order()}function Rw(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Lw(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Dw(){return Array.from(this)}function Fw(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var o=t[e],i=0,r=o.length;i<r;++i){var l=o[i];if(l)return l}return null}function Bw(){let t=0;for(const e of this)++t;return t}function jw(){return!this.node()}function qw(t){for(var e=this._groups,n=0,o=e.length;n<o;++n)for(var i=e[n],r=0,l=i.length,a;r<l;++r)(a=i[r])&&t.call(a,a.__data__,r,i);return this}function Gw(t){return function(){this.removeAttribute(t)}}function Hw(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Vw(t,e){return function(){this.setAttribute(t,e)}}function Ww(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Yw(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Uw(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Kw(t,e){var n=Pr(t);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((e==null?n.local?Hw:Gw:typeof e=="function"?n.local?Uw:Yw:n.local?Ww:Vw)(n,e))}function gd(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Xw(t){return function(){this.style.removeProperty(t)}}function Jw(t,e,n){return function(){this.style.setProperty(t,e,n)}}function xw(t,e,n){return function(){var o=e.apply(this,arguments);o==null?this.style.removeProperty(t):this.style.setProperty(t,o,n)}}function Zw(t,e,n){return arguments.length>1?this.each((e==null?Xw:typeof e=="function"?xw:Jw)(t,e,n??"")):ko(this.node(),t)}function ko(t,e){return t.style.getPropertyValue(e)||gd(t).getComputedStyle(t,null).getPropertyValue(e)}function Qw(t){return function(){delete this[t]}}function zw(t,e){return function(){this[t]=e}}function e2(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function t2(t,e){return arguments.length>1?this.each((e==null?Qw:typeof e=="function"?e2:zw)(t,e)):this.node()[t]}function bd(t){return t.trim().split(/^|\s+/)}function ns(t){return t.classList||new vd(t)}function vd(t){this._node=t,this._names=bd(t.getAttribute("class")||"")}vd.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function yd(t,e){for(var n=ns(t),o=-1,i=e.length;++o<i;)n.add(e[o])}function wd(t,e){for(var n=ns(t),o=-1,i=e.length;++o<i;)n.remove(e[o])}function n2(t){return function(){yd(this,t)}}function o2(t){return function(){wd(this,t)}}function i2(t,e){return function(){(e.apply(this,arguments)?yd:wd)(this,t)}}function r2(t,e){var n=bd(t+"");if(arguments.length<2){for(var o=ns(this.node()),i=-1,r=n.length;++i<r;)if(!o.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?i2:e?n2:o2)(n,e))}function l2(){this.textContent=""}function s2(t){return function(){this.textContent=t}}function a2(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function u2(t){return arguments.length?this.each(t==null?l2:(typeof t=="function"?a2:s2)(t)):this.node().textContent}function f2(){this.innerHTML=""}function c2(t){return function(){this.innerHTML=t}}function d2(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function m2(t){return arguments.length?this.each(t==null?f2:(typeof t=="function"?d2:c2)(t)):this.node().innerHTML}function p2(){this.nextSibling&&this.parentNode.appendChild(this)}function h2(){return this.each(p2)}function _2(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function g2(){return this.each(_2)}function b2(t){var e=typeof t=="function"?t:dd(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function v2(){return null}function y2(t,e){var n=typeof t=="function"?t:dd(t),o=e==null?v2:typeof e=="function"?e:ts(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)})}function w2(){var t=this.parentNode;t&&t.removeChild(this)}function k2(){return this.each(w2)}function C2(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function A2(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function S2(t){return this.select(t?A2:C2)}function T2(t){return arguments.length?this.property("__data__",t):this.node().__data__}function I2(t){return function(e){t.call(this,e,this.__data__)}}function M2(t){return t.trim().split(/^|\s+/).map(function(e){var n="",o=e.indexOf(".");return o>=0&&(n=e.slice(o+1),e=e.slice(0,o)),{type:e,name:n}})}function O2(t){return function(){var e=this.__on;if(e){for(var n=0,o=-1,i=e.length,r;n<i;++n)r=e[n],(!t.type||r.type===t.type)&&r.name===t.name?this.removeEventListener(r.type,r.listener,r.options):e[++o]=r;++o?e.length=o:delete this.__on}}}function P2(t,e,n){return function(){var o=this.__on,i,r=I2(e);if(o){for(var l=0,a=o.length;l<a;++l)if((i=o[l]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=r,i.options=n),i.value=e;return}}this.addEventListener(t.type,r,n),i={type:t.type,name:t.name,value:e,listener:r,options:n},o?o.push(i):this.__on=[i]}}function N2(t,e,n){var o=M2(t+""),i,r=o.length,l;if(arguments.length<2){var a=this.node().__on;if(a){for(var s=0,u=a.length,f;s<u;++s)for(i=0,f=a[s];i<r;++i)if((l=o[i]).type===f.type&&l.name===f.name)return f.value}return}for(a=e?P2:O2,i=0;i<r;++i)this.each(a(o[i],e,n));return this}function kd(t,e,n){var o=gd(t),i=o.CustomEvent;typeof i=="function"?i=new i(e,n):(i=o.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function E2(t,e){return function(){return kd(this,t,e)}}function $2(t,e){return function(){return kd(this,t,e.apply(this,arguments))}}function R2(t,e){return this.each((typeof e=="function"?$2:E2)(t,e))}function*L2(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var o=t[e],i=0,r=o.length,l;i<r;++i)(l=o[i])&&(yield l)}var Cd=[null];function Nt(t,e){this._groups=t,this._parents=e}function li(){return new Nt([[document.documentElement]],Cd)}function D2(){return this}Nt.prototype=li.prototype={constructor:Nt,select:aw,selectAll:dw,selectChild:_w,selectChildren:yw,filter:ww,data:Iw,enter:kw,exit:Ow,join:Pw,merge:Nw,selection:D2,order:Ew,sort:$w,call:Lw,nodes:Dw,node:Fw,size:Bw,empty:jw,each:qw,attr:Kw,style:Zw,property:t2,classed:r2,text:u2,html:m2,raise:h2,lower:g2,append:b2,insert:y2,remove:k2,clone:S2,datum:T2,on:N2,dispatch:R2,[Symbol.iterator]:L2};function F2(t){return typeof t=="string"?new Nt([[document.querySelector(t)]],[document.documentElement]):new Nt([[t]],Cd)}function os(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Ad(t,e){var n=Object.create(t.prototype);for(var o in e)n[o]=e[o];return n}function si(){}var ei=.7,lr=1/ei,go="\\s*([+-]?\\d+)\\s*",ti="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Xt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",B2=/^#([0-9a-f]{3,8})$/,j2=new RegExp(`^rgb\\(${go},${go},${go}\\)$`),q2=new RegExp(`^rgb\\(${Xt},${Xt},${Xt}\\)$`),G2=new RegExp(`^rgba\\(${go},${go},${go},${ti}\\)$`),H2=new RegExp(`^rgba\\(${Xt},${Xt},${Xt},${ti}\\)$`),V2=new RegExp(`^hsl\\(${ti},${Xt},${Xt}\\)$`),W2=new RegExp(`^hsla\\(${ti},${Xt},${Xt},${ti}\\)$`),yu={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};os(si,Wn,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:wu,formatHex:wu,formatHex8:Y2,formatHsl:U2,formatRgb:ku,toString:ku});function wu(){return this.rgb().formatHex()}function Y2(){return this.rgb().formatHex8()}function U2(){return Sd(this).formatHsl()}function ku(){return this.rgb().formatRgb()}function Wn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=B2.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Cu(e):n===3?new St(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Mi(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Mi(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=j2.exec(t))?new St(e[1],e[2],e[3],1):(e=q2.exec(t))?new St(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=G2.exec(t))?Mi(e[1],e[2],e[3],e[4]):(e=H2.exec(t))?Mi(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=V2.exec(t))?Tu(e[1],e[2]/100,e[3]/100,1):(e=W2.exec(t))?Tu(e[1],e[2]/100,e[3]/100,e[4]):yu.hasOwnProperty(t)?Cu(yu[t]):t==="transparent"?new St(NaN,NaN,NaN,0):null}function Cu(t){return new St(t>>16&255,t>>8&255,t&255,1)}function Mi(t,e,n,o){return o<=0&&(t=e=n=NaN),new St(t,e,n,o)}function K2(t){return t instanceof si||(t=Wn(t)),t?(t=t.rgb(),new St(t.r,t.g,t.b,t.opacity)):new St}function kl(t,e,n,o){return arguments.length===1?K2(t):new St(t,e,n,o??1)}function St(t,e,n,o){this.r=+t,this.g=+e,this.b=+n,this.opacity=+o}os(St,kl,Ad(si,{brighter(t){return t=t==null?lr:Math.pow(lr,t),new St(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?ei:Math.pow(ei,t),new St(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new St(Dn(this.r),Dn(this.g),Dn(this.b),sr(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Au,formatHex:Au,formatHex8:X2,formatRgb:Su,toString:Su}));function Au(){return`#${$n(this.r)}${$n(this.g)}${$n(this.b)}`}function X2(){return`#${$n(this.r)}${$n(this.g)}${$n(this.b)}${$n((isNaN(this.opacity)?1:this.opacity)*255)}`}function Su(){const t=sr(this.opacity);return`${t===1?"rgb(":"rgba("}${Dn(this.r)}, ${Dn(this.g)}, ${Dn(this.b)}${t===1?")":`, ${t})`}`}function sr(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Dn(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function $n(t){return t=Dn(t),(t<16?"0":"")+t.toString(16)}function Tu(t,e,n,o){return o<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new jt(t,e,n,o)}function Sd(t){if(t instanceof jt)return new jt(t.h,t.s,t.l,t.opacity);if(t instanceof si||(t=Wn(t)),!t)return new jt;if(t instanceof jt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,o=t.b/255,i=Math.min(e,n,o),r=Math.max(e,n,o),l=NaN,a=r-i,s=(r+i)/2;return a?(e===r?l=(n-o)/a+(n<o)*6:n===r?l=(o-e)/a+2:l=(e-n)/a+4,a/=s<.5?r+i:2-r-i,l*=60):a=s>0&&s<1?0:l,new jt(l,a,s,t.opacity)}function J2(t,e,n,o){return arguments.length===1?Sd(t):new jt(t,e,n,o??1)}function jt(t,e,n,o){this.h=+t,this.s=+e,this.l=+n,this.opacity=+o}os(jt,J2,Ad(si,{brighter(t){return t=t==null?lr:Math.pow(lr,t),new jt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ei:Math.pow(ei,t),new jt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*e,i=2*n-o;return new St(tl(t>=240?t-240:t+120,i,o),tl(t,i,o),tl(t<120?t+240:t-120,i,o),this.opacity)},clamp(){return new jt(Iu(this.h),Oi(this.s),Oi(this.l),sr(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=sr(this.opacity);return`${t===1?"hsl(":"hsla("}${Iu(this.h)}, ${Oi(this.s)*100}%, ${Oi(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Iu(t){return t=(t||0)%360,t<0?t+360:t}function Oi(t){return Math.max(0,Math.min(1,t||0))}function tl(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const is=t=>()=>t;function x2(t,e){return function(n){return t+n*e}}function Z2(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(o){return Math.pow(t+o*e,n)}}function Q2(t){return(t=+t)==1?Td:function(e,n){return n-e?Z2(e,n,t):is(isNaN(e)?n:e)}}function Td(t,e){var n=e-t;return n?x2(t,n):is(isNaN(t)?e:t)}const ar=function t(e){var n=Q2(e);function o(i,r){var l=n((i=kl(i)).r,(r=kl(r)).r),a=n(i.g,r.g),s=n(i.b,r.b),u=Td(i.opacity,r.opacity);return function(f){return i.r=l(f),i.g=a(f),i.b=s(f),i.opacity=u(f),i+""}}return o.gamma=t,o}(1);function z2(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,o=e.slice(),i;return function(r){for(i=0;i<n;++i)o[i]=t[i]*(1-r)+e[i]*r;return o}}function ek(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function tk(t,e){var n=e?e.length:0,o=t?Math.min(n,t.length):0,i=new Array(o),r=new Array(n),l;for(l=0;l<o;++l)i[l]=rs(t[l],e[l]);for(;l<n;++l)r[l]=e[l];return function(a){for(l=0;l<o;++l)r[l]=i[l](a);return r}}function nk(t,e){var n=new Date;return t=+t,e=+e,function(o){return n.setTime(t*(1-o)+e*o),n}}function Bt(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function ok(t,e){var n={},o={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=rs(t[i],e[i]):o[i]=e[i];return function(r){for(i in n)o[i]=n[i](r);return o}}var Cl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,nl=new RegExp(Cl.source,"g");function ik(t){return function(){return t}}function rk(t){return function(e){return t(e)+""}}function Id(t,e){var n=Cl.lastIndex=nl.lastIndex=0,o,i,r,l=-1,a=[],s=[];for(t=t+"",e=e+"";(o=Cl.exec(t))&&(i=nl.exec(e));)(r=i.index)>n&&(r=e.slice(n,r),a[l]?a[l]+=r:a[++l]=r),(o=o[0])===(i=i[0])?a[l]?a[l]+=i:a[++l]=i:(a[++l]=null,s.push({i:l,x:Bt(o,i)})),n=nl.lastIndex;return n<e.length&&(r=e.slice(n),a[l]?a[l]+=r:a[++l]=r),a.length<2?s[0]?rk(s[0].x):ik(e):(e=s.length,function(u){for(var f=0,c;f<e;++f)a[(c=s[f]).i]=c.x(u);return a.join("")})}function rs(t,e){var n=typeof e,o;return e==null||n==="boolean"?is(e):(n==="number"?Bt:n==="string"?(o=Wn(e))?(e=o,ar):Id:e instanceof Wn?ar:e instanceof Date?nk:ek(e)?z2:Array.isArray(e)?tk:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?ok:Bt)(t,e)}function lk(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var Mu=180/Math.PI,Al={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Md(t,e,n,o,i,r){var l,a,s;return(l=Math.sqrt(t*t+e*e))&&(t/=l,e/=l),(s=t*n+e*o)&&(n-=t*s,o-=e*s),(a=Math.sqrt(n*n+o*o))&&(n/=a,o/=a,s/=a),t*o<e*n&&(t=-t,e=-e,s=-s,l=-l),{translateX:i,translateY:r,rotate:Math.atan2(e,t)*Mu,skewX:Math.atan(s)*Mu,scaleX:l,scaleY:a}}var Pi;function sk(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Al:Md(e.a,e.b,e.c,e.d,e.e,e.f)}function ak(t){return t==null||(Pi||(Pi=document.createElementNS("http://www.w3.org/2000/svg","g")),Pi.setAttribute("transform",t),!(t=Pi.transform.baseVal.consolidate()))?Al:(t=t.matrix,Md(t.a,t.b,t.c,t.d,t.e,t.f))}function Od(t,e,n,o){function i(u){return u.length?u.pop()+" ":""}function r(u,f,c,d,m,p){if(u!==c||f!==d){var h=m.push("translate(",null,e,null,n);p.push({i:h-4,x:Bt(u,c)},{i:h-2,x:Bt(f,d)})}else(c||d)&&m.push("translate("+c+e+d+n)}function l(u,f,c,d){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),d.push({i:c.push(i(c)+"rotate(",null,o)-2,x:Bt(u,f)})):f&&c.push(i(c)+"rotate("+f+o)}function a(u,f,c,d){u!==f?d.push({i:c.push(i(c)+"skewX(",null,o)-2,x:Bt(u,f)}):f&&c.push(i(c)+"skewX("+f+o)}function s(u,f,c,d,m,p){if(u!==c||f!==d){var h=m.push(i(m)+"scale(",null,",",null,")");p.push({i:h-4,x:Bt(u,c)},{i:h-2,x:Bt(f,d)})}else(c!==1||d!==1)&&m.push(i(m)+"scale("+c+","+d+")")}return function(u,f){var c=[],d=[];return u=t(u),f=t(f),r(u.translateX,u.translateY,f.translateX,f.translateY,c,d),l(u.rotate,f.rotate,c,d),a(u.skewX,f.skewX,c,d),s(u.scaleX,u.scaleY,f.scaleX,f.scaleY,c,d),u=f=null,function(m){for(var p=-1,h=d.length,y;++p<h;)c[(y=d[p]).i]=y.x(m);return c.join("")}}}var uk=Od(sk,"px, ","px)","deg)"),fk=Od(ak,", ",")",")"),Co=0,Vo=0,qo=0,Pd=1e3,ur,Wo,fr=0,Yn=0,Nr=0,ni=typeof performance=="object"&&performance.now?performance:Date,Nd=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function ls(){return Yn||(Nd(ck),Yn=ni.now()+Nr)}function ck(){Yn=0}function cr(){this._call=this._time=this._next=null}cr.prototype=Ed.prototype={constructor:cr,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?ls():+n)+(e==null?0:+e),!this._next&&Wo!==this&&(Wo?Wo._next=this:ur=this,Wo=this),this._call=t,this._time=n,Sl()},stop:function(){this._call&&(this._call=null,this._time=1/0,Sl())}};function Ed(t,e,n){var o=new cr;return o.restart(t,e,n),o}function dk(){ls(),++Co;for(var t=ur,e;t;)(e=Yn-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Co}function Ou(){Yn=(fr=ni.now())+Nr,Co=Vo=0;try{dk()}finally{Co=0,pk(),Yn=0}}function mk(){var t=ni.now(),e=t-fr;e>Pd&&(Nr-=e,fr=t)}function pk(){for(var t,e=ur,n,o=1/0;e;)e._call?(o>e._time&&(o=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:ur=n);Wo=t,Sl(o)}function Sl(t){if(!Co){Vo&&(Vo=clearTimeout(Vo));var e=t-Yn;e>24?(t<1/0&&(Vo=setTimeout(Ou,t-ni.now()-Nr)),qo&&(qo=clearInterval(qo))):(qo||(fr=ni.now(),qo=setInterval(mk,Pd)),Co=1,Nd(Ou))}}function Pu(t,e,n){var o=new cr;return e=e==null?0:+e,o.restart(i=>{o.stop(),t(i+e)},e,n),o}var hk=cd("start","end","cancel","interrupt"),_k=[],$d=0,Nu=1,Tl=2,Bi=3,Eu=4,Il=5,ji=6;function Er(t,e,n,o,i,r){var l=t.__transition;if(!l)t.__transition={};else if(n in l)return;gk(t,n,{name:e,index:o,group:i,on:hk,tween:_k,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:$d})}function ss(t,e){var n=Ht(t,e);if(n.state>$d)throw new Error("too late; already scheduled");return n}function en(t,e){var n=Ht(t,e);if(n.state>Bi)throw new Error("too late; already running");return n}function Ht(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function gk(t,e,n){var o=t.__transition,i;o[e]=n,n.timer=Ed(r,0,n.time);function r(u){n.state=Nu,n.timer.restart(l,n.delay,n.time),n.delay<=u&&l(u-n.delay)}function l(u){var f,c,d,m;if(n.state!==Nu)return s();for(f in o)if(m=o[f],m.name===n.name){if(m.state===Bi)return Pu(l);m.state===Eu?(m.state=ji,m.timer.stop(),m.on.call("interrupt",t,t.__data__,m.index,m.group),delete o[f]):+f<e&&(m.state=ji,m.timer.stop(),m.on.call("cancel",t,t.__data__,m.index,m.group),delete o[f])}if(Pu(function(){n.state===Bi&&(n.state=Eu,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=Tl,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Tl){for(n.state=Bi,i=new Array(d=n.tween.length),f=0,c=-1;f<d;++f)(m=n.tween[f].value.call(t,t.__data__,n.index,n.group))&&(i[++c]=m);i.length=c+1}}function a(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(s),n.state=Il,1),c=-1,d=i.length;++c<d;)i[c].call(t,f);n.state===Il&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){n.state=ji,n.timer.stop(),delete o[e];for(var u in o)return;delete t.__transition}}function bk(t,e){var n=t.__transition,o,i,r=!0,l;if(n){e=e==null?null:e+"";for(l in n){if((o=n[l]).name!==e){r=!1;continue}i=o.state>Tl&&o.state<Il,o.state=ji,o.timer.stop(),o.on.call(i?"interrupt":"cancel",t,t.__data__,o.index,o.group),delete n[l]}r&&delete t.__transition}}function vk(t){return this.each(function(){bk(this,t)})}function yk(t,e){var n,o;return function(){var i=en(this,t),r=i.tween;if(r!==n){o=n=r;for(var l=0,a=o.length;l<a;++l)if(o[l].name===e){o=o.slice(),o.splice(l,1);break}}i.tween=o}}function wk(t,e,n){var o,i;if(typeof n!="function")throw new Error;return function(){var r=en(this,t),l=r.tween;if(l!==o){i=(o=l).slice();for(var a={name:e,value:n},s=0,u=i.length;s<u;++s)if(i[s].name===e){i[s]=a;break}s===u&&i.push(a)}r.tween=i}}function kk(t,e){var n=this._id;if(t+="",arguments.length<2){for(var o=Ht(this.node(),n).tween,i=0,r=o.length,l;i<r;++i)if((l=o[i]).name===t)return l.value;return null}return this.each((e==null?yk:wk)(n,t,e))}function as(t,e,n){var o=t._id;return t.each(function(){var i=en(this,o);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return Ht(i,o).value[e]}}function Rd(t,e){var n;return(typeof e=="number"?Bt:e instanceof Wn?ar:(n=Wn(e))?(e=n,ar):Id)(t,e)}function Ck(t){return function(){this.removeAttribute(t)}}function Ak(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Sk(t,e,n){var o,i=n+"",r;return function(){var l=this.getAttribute(t);return l===i?null:l===o?r:r=e(o=l,n)}}function Tk(t,e,n){var o,i=n+"",r;return function(){var l=this.getAttributeNS(t.space,t.local);return l===i?null:l===o?r:r=e(o=l,n)}}function Ik(t,e,n){var o,i,r;return function(){var l,a=n(this),s;return a==null?void this.removeAttribute(t):(l=this.getAttribute(t),s=a+"",l===s?null:l===o&&s===i?r:(i=s,r=e(o=l,a)))}}function Mk(t,e,n){var o,i,r;return function(){var l,a=n(this),s;return a==null?void this.removeAttributeNS(t.space,t.local):(l=this.getAttributeNS(t.space,t.local),s=a+"",l===s?null:l===o&&s===i?r:(i=s,r=e(o=l,a)))}}function Ok(t,e){var n=Pr(t),o=n==="transform"?fk:Rd;return this.attrTween(t,typeof e=="function"?(n.local?Mk:Ik)(n,o,as(this,"attr."+t,e)):e==null?(n.local?Ak:Ck)(n):(n.local?Tk:Sk)(n,o,e))}function Pk(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Nk(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Ek(t,e){var n,o;function i(){var r=e.apply(this,arguments);return r!==o&&(n=(o=r)&&Nk(t,r)),n}return i._value=e,i}function $k(t,e){var n,o;function i(){var r=e.apply(this,arguments);return r!==o&&(n=(o=r)&&Pk(t,r)),n}return i._value=e,i}function Rk(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var o=Pr(t);return this.tween(n,(o.local?Ek:$k)(o,e))}function Lk(t,e){return function(){ss(this,t).delay=+e.apply(this,arguments)}}function Dk(t,e){return e=+e,function(){ss(this,t).delay=e}}function Fk(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Lk:Dk)(e,t)):Ht(this.node(),e).delay}function Bk(t,e){return function(){en(this,t).duration=+e.apply(this,arguments)}}function jk(t,e){return e=+e,function(){en(this,t).duration=e}}function qk(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Bk:jk)(e,t)):Ht(this.node(),e).duration}function Gk(t,e){if(typeof e!="function")throw new Error;return function(){en(this,t).ease=e}}function Hk(t){var e=this._id;return arguments.length?this.each(Gk(e,t)):Ht(this.node(),e).ease}function Vk(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;en(this,t).ease=n}}function Wk(t){if(typeof t!="function")throw new Error;return this.each(Vk(this._id,t))}function Yk(t){typeof t!="function"&&(t=pd(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var r=e[i],l=r.length,a=o[i]=[],s,u=0;u<l;++u)(s=r[u])&&t.call(s,s.__data__,u,r)&&a.push(s);return new fn(o,this._parents,this._name,this._id)}function Uk(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,o=e.length,i=n.length,r=Math.min(o,i),l=new Array(o),a=0;a<r;++a)for(var s=e[a],u=n[a],f=s.length,c=l[a]=new Array(f),d,m=0;m<f;++m)(d=s[m]||u[m])&&(c[m]=d);for(;a<o;++a)l[a]=e[a];return new fn(l,this._parents,this._name,this._id)}function Kk(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Xk(t,e,n){var o,i,r=Kk(e)?ss:en;return function(){var l=r(this,t),a=l.on;a!==o&&(i=(o=a).copy()).on(e,n),l.on=i}}function Jk(t,e){var n=this._id;return arguments.length<2?Ht(this.node(),n).on.on(t):this.each(Xk(n,t,e))}function xk(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Zk(){return this.on("end.remove",xk(this._id))}function Qk(t){var e=this._name,n=this._id;typeof t!="function"&&(t=ts(t));for(var o=this._groups,i=o.length,r=new Array(i),l=0;l<i;++l)for(var a=o[l],s=a.length,u=r[l]=new Array(s),f,c,d=0;d<s;++d)(f=a[d])&&(c=t.call(f,f.__data__,d,a))&&("__data__"in f&&(c.__data__=f.__data__),u[d]=c,Er(u[d],e,n,d,u,Ht(f,n)));return new fn(r,this._parents,e,n)}function zk(t){var e=this._name,n=this._id;typeof t!="function"&&(t=md(t));for(var o=this._groups,i=o.length,r=[],l=[],a=0;a<i;++a)for(var s=o[a],u=s.length,f,c=0;c<u;++c)if(f=s[c]){for(var d=t.call(f,f.__data__,c,s),m,p=Ht(f,n),h=0,y=d.length;h<y;++h)(m=d[h])&&Er(m,e,n,h,d,p);r.push(d),l.push(f)}return new fn(r,l,e,n)}var e5=li.prototype.constructor;function t5(){return new e5(this._groups,this._parents)}function n5(t,e){var n,o,i;return function(){var r=ko(this,t),l=(this.style.removeProperty(t),ko(this,t));return r===l?null:r===n&&l===o?i:i=e(n=r,o=l)}}function Ld(t){return function(){this.style.removeProperty(t)}}function o5(t,e,n){var o,i=n+"",r;return function(){var l=ko(this,t);return l===i?null:l===o?r:r=e(o=l,n)}}function i5(t,e,n){var o,i,r;return function(){var l=ko(this,t),a=n(this),s=a+"";return a==null&&(s=a=(this.style.removeProperty(t),ko(this,t))),l===s?null:l===o&&s===i?r:(i=s,r=e(o=l,a))}}function r5(t,e){var n,o,i,r="style."+e,l="end."+r,a;return function(){var s=en(this,t),u=s.on,f=s.value[r]==null?a||(a=Ld(e)):void 0;(u!==n||i!==f)&&(o=(n=u).copy()).on(l,i=f),s.on=o}}function l5(t,e,n){var o=(t+="")=="transform"?uk:Rd;return e==null?this.styleTween(t,n5(t,o)).on("end.style."+t,Ld(t)):typeof e=="function"?this.styleTween(t,i5(t,o,as(this,"style."+t,e))).each(r5(this._id,t)):this.styleTween(t,o5(t,o,e),n).on("end.style."+t,null)}function s5(t,e,n){return function(o){this.style.setProperty(t,e.call(this,o),n)}}function a5(t,e,n){var o,i;function r(){var l=e.apply(this,arguments);return l!==i&&(o=(i=l)&&s5(t,l,n)),o}return r._value=e,r}function u5(t,e,n){var o="style."+(t+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(e==null)return this.tween(o,null);if(typeof e!="function")throw new Error;return this.tween(o,a5(t,e,n??""))}function f5(t){return function(){this.textContent=t}}function c5(t){return function(){var e=t(this);this.textContent=e??""}}function d5(t){return this.tween("text",typeof t=="function"?c5(as(this,"text",t)):f5(t==null?"":t+""))}function m5(t){return function(e){this.textContent=t.call(this,e)}}function p5(t){var e,n;function o(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&m5(i)),e}return o._value=t,o}function h5(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,p5(t))}function _5(){for(var t=this._name,e=this._id,n=Dd(),o=this._groups,i=o.length,r=0;r<i;++r)for(var l=o[r],a=l.length,s,u=0;u<a;++u)if(s=l[u]){var f=Ht(s,e);Er(s,t,n,u,l,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new fn(o,this._parents,t,n)}function g5(){var t,e,n=this,o=n._id,i=n.size();return new Promise(function(r,l){var a={value:l},s={value:function(){--i===0&&r()}};n.each(function(){var u=en(this,o),f=u.on;f!==t&&(e=(t=f).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(s)),u.on=e}),i===0&&r()})}var b5=0;function fn(t,e,n,o){this._groups=t,this._parents=e,this._name=n,this._id=o}function Dd(){return++b5}var nn=li.prototype;fn.prototype={constructor:fn,select:Qk,selectAll:zk,selectChild:nn.selectChild,selectChildren:nn.selectChildren,filter:Yk,merge:Uk,selection:t5,transition:_5,call:nn.call,nodes:nn.nodes,node:nn.node,size:nn.size,empty:nn.empty,each:nn.each,on:Jk,attr:Ok,attrTween:Rk,style:l5,styleTween:u5,text:d5,textTween:h5,remove:Zk,tween:kk,delay:Fk,duration:qk,ease:Hk,easeVarying:Wk,end:g5,[Symbol.iterator]:nn[Symbol.iterator]};function v5(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var y5={time:null,delay:0,duration:250,ease:v5};function w5(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function k5(t){var e,n;t instanceof fn?(e=t._id,t=t._name):(e=Dd(),(n=y5).time=ls(),t=t==null?null:t+"");for(var o=this._groups,i=o.length,r=0;r<i;++r)for(var l=o[r],a=l.length,s,u=0;u<a;++u)(s=l[u])&&Er(s,t,e,u,l,n||w5(s,e));return new fn(o,this._parents,t,e)}li.prototype.interrupt=vk;li.prototype.transition=k5;const Ml=Math.PI,Ol=2*Ml,Pn=1e-6,C5=Ol-Pn;function Fd(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function A5(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Fd;const n=10**e;return function(o){this._+=o[0];for(let i=1,r=o.length;i<r;++i)this._+=Math.round(arguments[i]*n)/n+o[i]}}class S5{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Fd:A5(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,o,i){this._append`Q${+e},${+n},${this._x1=+o},${this._y1=+i}`}bezierCurveTo(e,n,o,i,r,l){this._append`C${+e},${+n},${+o},${+i},${this._x1=+r},${this._y1=+l}`}arcTo(e,n,o,i,r){if(e=+e,n=+n,o=+o,i=+i,r=+r,r<0)throw new Error(`negative radius: ${r}`);let l=this._x1,a=this._y1,s=o-e,u=i-n,f=l-e,c=a-n,d=f*f+c*c;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(d>Pn)if(!(Math.abs(c*s-u*f)>Pn)||!r)this._append`L${this._x1=e},${this._y1=n}`;else{let m=o-l,p=i-a,h=s*s+u*u,y=m*m+p*p,C=Math.sqrt(h),k=Math.sqrt(d),w=r*Math.tan((Ml-Math.acos((h+d-y)/(2*C*k)))/2),R=w/k,F=w/C;Math.abs(R-1)>Pn&&this._append`L${e+R*f},${n+R*c}`,this._append`A${r},${r},0,0,${+(c*m>f*p)},${this._x1=e+F*s},${this._y1=n+F*u}`}}arc(e,n,o,i,r,l){if(e=+e,n=+n,o=+o,l=!!l,o<0)throw new Error(`negative radius: ${o}`);let a=o*Math.cos(i),s=o*Math.sin(i),u=e+a,f=n+s,c=1^l,d=l?i-r:r-i;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>Pn||Math.abs(this._y1-f)>Pn)&&this._append`L${u},${f}`,o&&(d<0&&(d=d%Ol+Ol),d>C5?this._append`A${o},${o},0,1,${c},${e-a},${n-s}A${o},${o},0,1,${c},${this._x1=u},${this._y1=f}`:d>Pn&&this._append`A${o},${o},0,${+(d>=Ml)},${c},${this._x1=e+o*Math.cos(r)},${this._y1=n+o*Math.sin(r)}`)}rect(e,n,o,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${o=+o}v${+i}h${-o}Z`}toString(){return this._}}function T5(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function dr(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,o=t.slice(0,n);return[o.length>1?o[0]+o.slice(2):o,+t.slice(n+1)]}function Ao(t){return t=dr(Math.abs(t)),t?t[1]:NaN}function I5(t,e){return function(n,o){for(var i=n.length,r=[],l=0,a=t[0],s=0;i>0&&a>0&&(s+a+1>o&&(a=Math.max(1,o-s)),r.push(n.substring(i-=a,i+a)),!((s+=a+1)>o));)a=t[l=(l+1)%t.length];return r.reverse().join(e)}}function M5(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var O5=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function mr(t){if(!(e=O5.exec(t)))throw new Error("invalid format: "+t);var e;return new us({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}mr.prototype=us.prototype;function us(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}us.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function P5(t){e:for(var e=t.length,n=1,o=-1,i;n<e;++n)switch(t[n]){case".":o=i=n;break;case"0":o===0&&(o=n),i=n;break;default:if(!+t[n])break e;o>0&&(o=0);break}return o>0?t.slice(0,o)+t.slice(i+1):t}var Bd;function N5(t,e){var n=dr(t,e);if(!n)return t+"";var o=n[0],i=n[1],r=i-(Bd=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=o.length;return r===l?o:r>l?o+new Array(r-l+1).join("0"):r>0?o.slice(0,r)+"."+o.slice(r):"0."+new Array(1-r).join("0")+dr(t,Math.max(0,e+r-1))[0]}function $u(t,e){var n=dr(t,e);if(!n)return t+"";var o=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+o:o.length>i+1?o.slice(0,i+1)+"."+o.slice(i+1):o+new Array(i-o.length+2).join("0")}const Ru={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:T5,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>$u(t*100,e),r:$u,s:N5,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Lu(t){return t}var Du=Array.prototype.map,Fu=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function E5(t){var e=t.grouping===void 0||t.thousands===void 0?Lu:I5(Du.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",o=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",r=t.numerals===void 0?Lu:M5(Du.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"−":t.minus+"",s=t.nan===void 0?"NaN":t.nan+"";function u(c){c=mr(c);var d=c.fill,m=c.align,p=c.sign,h=c.symbol,y=c.zero,C=c.width,k=c.comma,w=c.precision,R=c.trim,F=c.type;F==="n"?(k=!0,F="g"):Ru[F]||(w===void 0&&(w=12),R=!0,F="g"),(y||d==="0"&&m==="=")&&(y=!0,d="0",m="=");var N=h==="$"?n:h==="#"&&/[boxX]/.test(F)?"0"+F.toLowerCase():"",$=h==="$"?o:/[%p]/.test(F)?l:"",G=Ru[F],L=/[defgprs%]/.test(F);w=w===void 0?6:/[gprs]/.test(F)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function V(v){var b=N,M=$,E,W,q;if(F==="c")M=G(v)+M,v="";else{v=+v;var J=v<0||1/v<0;if(v=isNaN(v)?s:G(Math.abs(v),w),R&&(v=P5(v)),J&&+v==0&&p!=="+"&&(J=!1),b=(J?p==="("?p:a:p==="-"||p==="("?"":p)+b,M=(F==="s"?Fu[8+Bd/3]:"")+M+(J&&p==="("?")":""),L){for(E=-1,W=v.length;++E<W;)if(q=v.charCodeAt(E),48>q||q>57){M=(q===46?i+v.slice(E+1):v.slice(E))+M,v=v.slice(0,E);break}}}k&&!y&&(v=e(v,1/0));var Q=b.length+v.length+M.length,ee=Q<C?new Array(C-Q+1).join(d):"";switch(k&&y&&(v=e(ee+v,ee.length?C-M.length:1/0),ee=""),m){case"<":v=b+v+M+ee;break;case"=":v=b+ee+v+M;break;case"^":v=ee.slice(0,Q=ee.length>>1)+b+v+M+ee.slice(Q);break;default:v=ee+b+v+M;break}return r(v)}return V.toString=function(){return c+""},V}function f(c,d){var m=u((c=mr(c),c.type="f",c)),p=Math.max(-8,Math.min(8,Math.floor(Ao(d)/3)))*3,h=Math.pow(10,-p),y=Fu[8+p/3];return function(C){return m(h*C)+y}}return{format:u,formatPrefix:f}}var Ni,jd,qd;$5({thousands:",",grouping:[3],currency:["$",""]});function $5(t){return Ni=E5(t),jd=Ni.format,qd=Ni.formatPrefix,Ni}function R5(t){return Math.max(0,-Ao(Math.abs(t)))}function L5(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ao(e)/3)))*3-Ao(Math.abs(t)))}function D5(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ao(e)-Ao(t))+1}function F5(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function B5(t){return function(){return t}}function j5(t){return+t}var Bu=[0,1];function mo(t){return t}function Pl(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:B5(isNaN(e)?NaN:.5)}function q5(t,e){var n;return t>e&&(n=t,t=e,e=n),function(o){return Math.max(t,Math.min(e,o))}}function G5(t,e,n){var o=t[0],i=t[1],r=e[0],l=e[1];return i<o?(o=Pl(i,o),r=n(l,r)):(o=Pl(o,i),r=n(r,l)),function(a){return r(o(a))}}function H5(t,e,n){var o=Math.min(t.length,e.length)-1,i=new Array(o),r=new Array(o),l=-1;for(t[o]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<o;)i[l]=Pl(t[l],t[l+1]),r[l]=n(e[l],e[l+1]);return function(a){var s=Hy(t,a,1,o)-1;return r[s](i[s](a))}}function V5(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function W5(){var t=Bu,e=Bu,n=rs,o,i,r,l=mo,a,s,u;function f(){var d=Math.min(t.length,e.length);return l!==mo&&(l=q5(t[0],t[d-1])),a=d>2?H5:G5,s=u=null,c}function c(d){return d==null||isNaN(d=+d)?r:(s||(s=a(t.map(o),e,n)))(o(l(d)))}return c.invert=function(d){return l(i((u||(u=a(e,t.map(o),Bt)))(d)))},c.domain=function(d){return arguments.length?(t=Array.from(d,j5),f()):t.slice()},c.range=function(d){return arguments.length?(e=Array.from(d),f()):e.slice()},c.rangeRound=function(d){return e=Array.from(d),n=lk,f()},c.clamp=function(d){return arguments.length?(l=d?!0:mo,f()):l!==mo},c.interpolate=function(d){return arguments.length?(n=d,f()):n},c.unknown=function(d){return arguments.length?(r=d,c):r},function(d,m){return o=d,i=m,f()}}function Y5(){return W5()(mo,mo)}function U5(t,e,n,o){var i=Ky(t,e,n),r;switch(o=mr(o??",f"),o.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return o.precision==null&&!isNaN(r=L5(i,l))&&(o.precision=r),qd(o,l)}case"":case"e":case"g":case"p":case"r":{o.precision==null&&!isNaN(r=D5(i,Math.max(Math.abs(t),Math.abs(e))))&&(o.precision=r-(o.type==="e"));break}case"f":case"%":{o.precision==null&&!isNaN(r=R5(i))&&(o.precision=r-(o.type==="%")*2);break}}return jd(o)}function K5(t){var e=t.domain;return t.ticks=function(n){var o=e();return Uy(o[0],o[o.length-1],n??10)},t.tickFormat=function(n,o){var i=e();return U5(i[0],i[i.length-1],n??10,o)},t.nice=function(n){n==null&&(n=10);var o=e(),i=0,r=o.length-1,l=o[i],a=o[r],s,u,f=10;for(a<l&&(u=l,l=a,a=u,u=i,i=r,r=u);f-- >0;){if(u=vl(l,a,n),u===s)return o[i]=l,o[r]=a,e(o);if(u>0)l=Math.floor(l/u)*u,a=Math.ceil(a/u)*u;else if(u<0)l=Math.ceil(l*u)/u,a=Math.floor(a*u)/u;else break;s=u}return t},t}function Nl(){var t=Y5();return t.copy=function(){return V5(t,Nl())},F5.apply(t,arguments),K5(t)}function uo(t){return function(){return t}}function X5(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const o=Math.floor(n);if(!(o>=0))throw new RangeError(`invalid digits: ${n}`);e=o}return t},()=>new S5(e)}function J5(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Gd(t){this._context=t}Gd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function x5(t){return new Gd(t)}function Z5(t){return t[0]}function Q5(t){return t[1]}function ol(t,e){var n=uo(!0),o=null,i=x5,r=null,l=X5(a);t=typeof t=="function"?t:t===void 0?Z5:uo(t),e=typeof e=="function"?e:e===void 0?Q5:uo(e);function a(s){var u,f=(s=J5(s)).length,c,d=!1,m;for(o==null&&(r=i(m=l())),u=0;u<=f;++u)!(u<f&&n(c=s[u],u,s))===d&&((d=!d)?r.lineStart():r.lineEnd()),d&&r.point(+t(c,u,s),+e(c,u,s));if(m)return r=null,m+""||null}return a.x=function(s){return arguments.length?(t=typeof s=="function"?s:uo(+s),a):t},a.y=function(s){return arguments.length?(e=typeof s=="function"?s:uo(+s),a):e},a.defined=function(s){return arguments.length?(n=typeof s=="function"?s:uo(!!s),a):n},a.curve=function(s){return arguments.length?(i=s,o!=null&&(r=i(o)),a):i},a.context=function(s){return arguments.length?(s==null?o=r=null:r=i(o=s),a):o},a}function Yo(t,e,n){this.k=t,this.x=e,this.y=n}Yo.prototype={constructor:Yo,scale:function(t){return t===1?this:new Yo(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Yo(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Yo.prototype;function z5(t){let e;return{c(){e=_r("svg"),P(e,"id","line-chart")},m(n,o){I(n,e,o)},p:Ce,i:Ce,o:Ce,d(n){n&&T(e)}}}const ju=52;function e3(t,e,n){let{data:o=[]}=e,i,r,l;const a={top:10,right:30,bottom:10,left:20},s=500-a.left-a.right,u=400-a.top-a.bottom;ol().x((p,h)=>r(h)).y(p=>l(p)),gr(()=>{n(1,i=F2("#line-chart").attr("width",s+a.left+a.right).attr("height",u+a.top+a.bottom)),r=Nl().range([0,s]),l=Nl().range([u,0]),o.length&&f()});function f(){const p=o.length>ju?o.slice(-ju):o;c(p),d(p),m()}function c(p){i.selectAll(".line").remove();const h=ol().defined(C=>C>-5).x((C,k)=>r(k)).y(C=>l(C)),y=ol().defined(C=>C<0).x((C,k)=>r(k)).y(C=>l(C));i.append("path").datum(p).attr("class","line positive").attr("d",h).attr("transform",`translate(${a.left},${a.top})`).attr("fill","none").attr("stroke","green").attr("stroke-width",2),i.append("path").datum(p).attr("class","line negative").attr("d",y).attr("transform",`translate(${a.left},${a.top})`).attr("fill","none").attr("stroke","red").attr("stroke-width",2)}function d(p){const h=Math.max(0,...p),y=Math.min(0,...p);r.domain([0,p.length-1]),l.domain([y,h]).nice()}function m(p){const h=ew(r).ticks(0),y=tw(l).ticks(10);i.selectAll(".axis").remove(),i.append("g").attr("class","axis x-axis").attr("transform",`translate(${a.left},${u+a.top})`).call(h),i.append("g").attr("class","axis y-axis").attr("transform",`translate(${a.left},${a.top})`).call(y)}return t.$$set=p=>{"data"in p&&n(0,o=p.data)},t.$$.update=()=>{t.$$.dirty&3&&o&&i&&f()},[o,i]}class t3 extends we{constructor(e){super(),ye(this,e,e3,z5,de,{data:0})}}function n3(t){let e,n=t[1].townInfo.knowledge_points+"",o,i;return{c(){e=B("Manage your Knowledge ("),o=B(n),i=B(" pts)")},m(r,l){I(r,e,l),I(r,o,l),I(r,i,l)},p(r,l){l&2&&n!==(n=r[1].townInfo.knowledge_points+"")&&le(o,n)},d(r){r&&(T(e),T(o),T(i))}}}function o3(t){let e,n,o,i;return e=new Jn({props:{$$slots:{default:[n3]},$$scope:{ctx:t}}}),o=new Qn({}),{c(){X(e.$$.fragment),n=j(),X(o.$$.fragment)},m(r,l){U(e,r,l),I(r,n,l),U(o,r,l),i=!0},p(r,l){const a={};l&258&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),K(e,r),K(o,r)}}}function qu(t){let e,n,o=Wu(t[1].townInfo.knowledge_points*t[3])+"",i,r;return{c(){e=O("br"),n=B(`
          (total value: $`),i=B(o),r=B(")")},m(l,a){I(l,e,a),I(l,n,a),I(l,i,a),I(l,r,a)},p(l,a){a&10&&o!==(o=Wu(l[1].townInfo.knowledge_points*l[3])+"")&&le(i,o)},d(l){l&&(T(e),T(n),T(i),T(r))}}}function Gu(t){let e;return{c(){e=O("div"),e.innerHTML=`Wait until the market value is <span class="text-green-500">positive</span> to sell your Knowledge for Gold. Keep in mind that you need a bank to
          convert.`},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Hu(t){let e,n,o;return n=new yt({props:{variant:"default",$$slots:{default:[i3]},$$scope:{ctx:t}}}),n.$on("click",t[0]),{c(){e=O("div"),X(n.$$.fragment)},m(i,r){I(i,e,r),U(n,e,null),o=!0},p(i,r){const l={};r&256&&(l.$$scope={dirty:r,ctx:i}),n.$set(l)},i(i){o||(A(n.$$.fragment,i),o=!0)},o(i){S(n.$$.fragment,i),o=!1},d(i){i&&T(e),K(n)}}}function i3(t){let e;return{c(){e=B("Convert Knowledge to Gold")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Vu(t){let e;return{c(){e=O("div"),e.textContent="You need a bank to convert knowledge to gold."},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function r3(t){let e,n,o,i,r,l,a,s,u=(t[3]??0)+"",f,c,d,m,p,h,y,C,k,w,R,F;e=new xn({props:{$$slots:{default:[o3]},$$scope:{ctx:t}}});let N=t[3]>0&&qu(t);h=new t3({props:{data:t[2]}});let $=t[3]<0&&Gu(),G=t[1].hasBank&&t[3]>0&&Hu(t),L=t[1].hasBank===!1&&Vu();return R=new Po({}),{c(){X(e.$$.fragment),n=j(),o=O("span"),o.textContent="Knowledge is power, unlock it!",i=j(),r=O("div"),l=O("div"),a=B("Market Rate: "),s=O("span"),f=B(u),c=B(" gold"),m=B(`
        per Knowledge Point
        `),N&&N.c(),p=j(),X(h.$$.fragment),y=j(),$&&$.c(),C=j(),G&&G.c(),k=j(),L&&L.c(),w=j(),X(R.$$.fragment),P(o,"class","italic"),P(s,"class",d=t[3]<0?"text-red-500":"text-green-500"),P(r,"class","py-0 flex flex-col gap-4 text-gray-400 overflow-x-auto")},m(V,v){U(e,V,v),I(V,n,v),I(V,o,v),I(V,i,v),I(V,r,v),g(r,l),g(l,a),g(l,s),g(s,f),g(s,c),g(l,m),N&&N.m(l,null),g(r,p),U(h,r,null),g(r,y),$&&$.m(r,null),g(r,C),G&&G.m(r,null),g(r,k),L&&L.m(r,null),I(V,w,v),U(R,V,v),F=!0},p(V,v){const b={};v&258&&(b.$$scope={dirty:v,ctx:V}),e.$set(b),(!F||v&8)&&u!==(u=(V[3]??0)+"")&&le(f,u),(!F||v&8&&d!==(d=V[3]<0?"text-red-500":"text-green-500"))&&P(s,"class",d),V[3]>0?N?N.p(V,v):(N=qu(V),N.c(),N.m(l,null)):N&&(N.d(1),N=null);const M={};v&4&&(M.data=V[2]),h.$set(M),V[3]<0?$||($=Gu(),$.c(),$.m(r,C)):$&&($.d(1),$=null),V[1].hasBank&&V[3]>0?G?(G.p(V,v),v&10&&A(G,1)):(G=Hu(V),G.c(),A(G,1),G.m(r,k)):G&&(Pe(),S(G,1,1,()=>{G=null}),Ne()),V[1].hasBank===!1?L||(L=Vu(),L.c(),L.m(r,null)):L&&(L.d(1),L=null)},i(V){F||(A(e.$$.fragment,V),A(h.$$.fragment,V),A(G),A(R.$$.fragment,V),F=!0)},o(V){S(e.$$.fragment,V),S(h.$$.fragment,V),S(G),S(R.$$.fragment,V),F=!1},d(V){V&&(T(n),T(o),T(i),T(r),T(w)),K(e,V),N&&N.d(),K(h),$&&$.d(),G&&G.d(),L&&L.d(),K(R,V)}}}function l3(t){let e,n;return e=new Zn({props:{transitionConfig:{duration:0},class:"bg-foreground text-foregroundText",$$slots:{default:[r3]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const r={};i&270&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function s3(t){let e,n,o;function i(l){t[5](l)}let r={$$slots:{default:[l3]},$$scope:{ctx:t}};return t[4]!==void 0&&(r.open=t[4]),e=new zn({props:r}),$e.push(()=>In(e,"open",i)),{c(){X(e.$$.fragment)},m(l,a){U(e,l,a),o=!0},p(l,[a]){const s={};a&270&&(s.$$scope={dirty:a,ctx:l}),!n&&a&16&&(n=!0,s.open=l[4],Tn(()=>n=!1)),e.$set(s)},i(l){o||(A(e.$$.fragment,l),o=!0)},o(l){S(e.$$.fragment,l),o=!1},d(l){K(e,l)}}}function Wu(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function a3(t,e,n){let o,i;ue(t,Ee,u=>n(1,o=u)),ue(t,Ki,u=>n(4,i=u));let r,l=0;function a(){let u=o;o.hasBank===!0?(u.townInfo.gold+=Math.round(u.townInfo.knowledge_points*l),u.townInfo.knowledge_points=0,Ee.set(u),localStorage.setItem(Gt,JSON.stringify(u))):showCustomAlert.set("You need a bank to convert knowledge to gold.")}function s(u){i=u,Ki.set(i)}return t.$$.update=()=>{t.$$.dirty&2&&o&&(n(2,r=o.economyAndLaws.knowledge_gold_market_rates),n(3,l=o.economyAndLaws.knowledge_gold_market_rates[o.economyAndLaws.knowledge_gold_market_rates.length-1]))},[a,o,r,l,i,s]}class u3 extends we{constructor(e){super(),ye(this,e,a3,s3,de,{convertKnowledgeToGold:0})}get convertKnowledgeToGold(){return this.$$.ctx[0]}}const f3=[{id:"sunshine",title:"Hint of Sunshine",description:`Scientist Jane T. found that more sunlight makes everyone a bit happier. 
        
        Now, every home is equipped with a pair of sunglasses and a sunhat. Enjoy happier citizens!,
        `,cost:5e3,duration:180,effect:!0},{id:"antibiotics",title:"We will call them 'Antibiotics'",description:`Scientist Alfred C. has pitched us an idea that he calls 'Antibiotics'.
        
         We don't really know what that means, but it seems to make people healthier. 
        `,cost:8e3,duration:200,effect:!0},{id:"goodbye_carrots",title:"Goodbye Carrots",description:`Scientist Jarrod M. collaborated with local carrot farms to enhance the recipe, aiming to increase consumers' height by 10%.

        Unfortunately, the experiment failed, and all the local carrot farms have gone out of business. 
        `,cost:8e3,duration:80,effect:!0},{id:"funny_cows",title:"Cowabunga!",description:`Scientist Barry T. thought that showing cows some stand-up comedy would make them produce better milk, but it didn't have the desired effect.

        The cows are now following Mike Birbiglia on Twitter, but the milk production has not increased.
        `,cost:3e3,duration:60,effect:!1},{id:"missing_treasure",title:"Missing Treasure?",description:`Scientist Sarah H. was running an experiment on tree growth and found a stash of gold near the lab. 

        She hopes nobody will miss it. Your town now has some more money. 
        `,cost:15e3,duration:180,effect:!0},{id:"tax_relief",title:"'Maybe the government is not so bad after all'",description:`Scientist Sam P. conducted a study and found that if you put a tiny bit of CHEMICAL X in the water supply, people are more likely to be ok with tax hikes. 

        We don't question it, as these experiments cost a lot of moo-lah.`,cost:7500,duration:360,effect:!0},{id:"spring_break",title:"Spring Break",description:`The Scientists took our money and spent the week at the beach. 

        We are not sure what they did, but they came back with a tan and a smile.`,cost:2e3,duration:7,effect:!1},{id:"coffee_boost_tourism",title:"Speedy Brews",description:`Scientist Claudia A. has found that a specific blend of coffee can significantly increase productivity among town employees. 

        The catch? It only works on Mondays. But hey, starting the week with a turbo-charged workforce might just be the boost we needed. The town gets a bit of extra cash from the productivity, and a bit of tourism revenue from coffee tourism.
        `,cost:8e3,duration:100,effect:!0},{id:"bee_bonanza",title:"Buzzing with Possibilities",description:`Scientist Will B. thought that introducing genetically modified super bees to the local ecosystem could help with pollination.
        
        Unfortunately, these bees prefer coffee plants over all others, leading to all coffee bean farms forced to close.`,cost:5e3,duration:120,effect:!0},{id:"wheat_whirlwind",title:"A Gust of Grain",description:`Scientist Clint C. is sulking after a botched weather control experiment aimed at improving crop yields accidentally resulted in a series of mini-tornadoes sweeping through the town's wheat farms. The wheat is gone, but the townsfolk have never been more entertained.

        Local bakers mourn the loss of wheat while selling tickets to the wheat whirlwind tours. All wheat farms are now torn down, but happiness is up.`,cost:7e3,duration:150,effect:!0},{id:"aquatic_overachievers",title:"Fishy Business",description:`An attempt to genetically enhance fish intelligence by Scientist Goldie F. in fisheries has gone awry, resulting in fish that are too smart to be caught. The fisheries are now underpopulated and shut down, but the town enjoys an unexpected tourism boom as people flock to see the genius fish who are now hanging out in local parks.

        Who knew fish could be such a draw?`,cost:6e3,duration:90,effect:!0},{id:"educational_eclipse",title:"A Sudden Drop in IQ",description:`Scientist Albert E. wanted to see if the towns' children would become smarter if THEY ran the schools. 

        This was obviously a terrible idea and the first thing the kids did was shut down the schools.`,cost:1e3,duration:45,effect:!0},{id:"education_grant",title:"Education Grant",description:`Scientist Marie C. took the funding and applied the town for a grant to improve education.

        The town wins a grant for $150,000 to build schools and improve education. (but it's up to you if that's how you want to spend the money)`,cost:4e4,duration:45,effect:!0},{id:"mindfulness_meditation_classes",title:"'Mindfulness Meditation Classes'",description:`Scientist Zen M. has introduced mindfulness meditation classes to the town after realizing that breathing in certain ways can lower stress. 
		
		Now, the town is a bit more relaxed, for now.`,cost:13e3,duration:540,effect:!0}];function Yu(t,e,n){const o=t.slice();return o[17]=e[n],o}function c3(t){let e,n=t[1].lab.active_experiment.title+"",o;return{c(){e=B("🎉 Experiment Completed: "),o=B(n)},m(i,r){I(i,e,r),I(i,o,r)},p(i,r){r&2&&n!==(n=i[1].lab.active_experiment.title+"")&&le(o,n)},d(i){i&&(T(e),T(o))}}}function d3(t){let e,n=t[1].lab.active_experiment.description+"",o;return{c(){e=O("div"),o=B(n),P(e,"class","select-none whitespace-pre-wrap text-lg text-gray-400 leading-6 px-4 py-4 text-center ")},m(i,r){I(i,e,r),g(e,o)},p(i,r){r&2&&n!==(n=i[1].lab.active_experiment.description+"")&&le(o,n)},d(i){i&&T(e)}}}function m3(t){let e,n,o,i;return e=new Ql({props:{class:"text-center",$$slots:{default:[c3]},$$scope:{ctx:t}}}),o=new es({props:{$$slots:{default:[d3]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=j(),X(o.$$.fragment)},m(r,l){U(e,r,l),I(r,n,l),U(o,r,l),i=!0},p(r,l){const a={};l&1048578&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&1048578&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),K(e,r),K(o,r)}}}function p3(t){let e;return{c(){e=B("Thank the scientists")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function h3(t){let e,n;return e=new sd({props:{$$slots:{default:[p3]},$$scope:{ctx:t}}}),e.$on("click",t[9]),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const r={};i&1048576&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function _3(t){let e,n,o,i;return e=new zl({props:{$$slots:{default:[m3]},$$scope:{ctx:t}}}),o=new Ir({props:{$$slots:{default:[h3]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=j(),X(o.$$.fragment)},m(r,l){U(e,r,l),I(r,n,l),U(o,r,l),i=!0},p(r,l){const a={};l&1048578&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&1048576&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),K(e,r),K(o,r)}}}function g3(t){let e,n;return e=new Mr({props:{$$slots:{default:[_3]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const r={};i&1048578&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function b3(t){let e;return{c(){e=O("span"),e.textContent="Manage your Laboratory 🔬 🧪"},m(n,o){I(n,e,o)},p:Ce,d(n){n&&T(e)}}}function v3(t){let e,n,o,i=t[1].lab.xp+"",r,l,a,s;return{c(){e=O("span"),n=B("You have earned "),o=O("span"),r=B(i),l=B(" XP"),s=B(` from experiments. XP can be used to buy advanced plots and develop your
          city.`),P(o,"class",a="italic "+(t[1].lab.xp<0?"text-textDanger1":"text-primaryText"))},m(u,f){I(u,e,f),g(e,n),g(e,o),g(o,r),g(o,l),g(e,s)},p(u,f){f&2&&i!==(i=u[1].lab.xp+"")&&le(r,i),f&2&&a!==(a="italic "+(u[1].lab.xp<0?"text-textDanger1":"text-primaryText"))&&P(o,"class",a)},d(u){u&&T(e)}}}function y3(t){let e,n,o,i;return e=new Jn({props:{$$slots:{default:[b3]},$$scope:{ctx:t}}}),o=new Qn({props:{$$slots:{default:[v3]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=j(),X(o.$$.fragment)},m(r,l){U(e,r,l),I(r,n,l),U(o,r,l),i=!0},p(r,l){const a={};l&1048576&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&1048578&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),K(e,r),K(o,r)}}}function w3(t){let e;return{c(){e=B("No more experiments available")},m(n,o){I(n,e,o)},p:Ce,i:Ce,o:Ce,d(n){n&&T(e)}}}function k3(t){let e,n,o,i,r=Ke(t[0]),l=[];for(let s=0;s<r.length;s+=1)l[s]=Ku(Yu(t,r,s));const a=s=>S(l[s],1,1,()=>{l[s]=null});return{c(){e=O("div"),e.textContent=`It's time to fund your next experiment! Choose a project below based on
        it's funding requirement. Once the experiment is over, you will see the
        results.`,n=j(),o=O("div");for(let s=0;s<l.length;s+=1)l[s].c();P(e,"class","select-none text-sm "),P(o,"class","text-center flex flex-col justify-center items-center gap-4 ")},m(s,u){I(s,e,u),I(s,n,u),I(s,o,u);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(o,null);i=!0},p(s,u){if(u&19){r=Ke(s[0]);let f;for(f=0;f<r.length;f+=1){const c=Yu(s,r,f);l[f]?(l[f].p(c,u),A(l[f],1)):(l[f]=Ku(c),l[f].c(),A(l[f],1),l[f].m(o,null))}for(Pe(),f=r.length;f<l.length;f+=1)a(f);Ne()}},i(s){if(!i){for(let u=0;u<r.length;u+=1)A(l[u]);i=!0}},o(s){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)S(l[u]);i=!1},d(s){s&&(T(e),T(n),T(o)),_t(l,s)}}}function C3(t){let e,n=t[1].lab.active_experiment.duration+"",o,i,r,l,a=t[1].lab.active_experiment.duration===0&&Xu(t);return{c(){e=B("Currently running an experiment... check back in "),o=B(n),i=B(` days.
      `),a&&a.c(),r=De()},m(s,u){I(s,e,u),I(s,o,u),I(s,i,u),a&&a.m(s,u),I(s,r,u),l=!0},p(s,u){(!l||u&2)&&n!==(n=s[1].lab.active_experiment.duration+"")&&le(o,n),s[1].lab.active_experiment.duration===0?a?(a.p(s,u),u&2&&A(a,1)):(a=Xu(s),a.c(),A(a,1),a.m(r.parentNode,r)):a&&(Pe(),S(a,1,1,()=>{a=null}),Ne())},i(s){l||(A(a),l=!0)},o(s){S(a),l=!1},d(s){s&&(T(e),T(o),T(i),T(r)),a&&a.d(s)}}}function Uu(t){let e,n,o=t[17].id+"",i;return{c(){e=O("span"),n=B("// dev-"),i=B(o),P(e,"class","text-xs text-gray-400")},m(r,l){I(r,e,l),g(e,n),g(e,i)},p(r,l){l&1&&o!==(o=r[17].id+"")&&le(i,o)},d(r){r&&T(e)}}}function A3(t){let e,n=Ju(t[17].cost).split(".")[0]+"",o,i,r,l=t[1].devMode===!0&&Uu(t);return{c(){e=B("$"),o=B(n),i=B(` gold

            `),l&&l.c(),r=j()},m(a,s){I(a,e,s),I(a,o,s),I(a,i,s),l&&l.m(a,s),I(a,r,s)},p(a,s){s&1&&n!==(n=Ju(a[17].cost).split(".")[0]+"")&&le(o,n),a[1].devMode===!0?l?l.p(a,s):(l=Uu(a),l.c(),l.m(r.parentNode,r)):l&&(l.d(1),l=null)},d(a){a&&(T(e),T(o),T(i),T(r)),l&&l.d(a)}}}function Ku(t){let e,n;function o(){return t[11](t[17])}return e=new yt({props:{variant:"outline",class:`min-w-48 w-max flex-col
				`+(t[17].cost>t[1].townInfo.gold?"cursor-not-allowed":"")+`
				`,$$slots:{default:[A3]},$$scope:{ctx:t}}}),e.$on("click",o),{c(){X(e.$$.fragment)},m(i,r){U(e,i,r),n=!0},p(i,r){t=i;const l={};r&3&&(l.class=`min-w-48 w-max flex-col
				`+(t[17].cost>t[1].townInfo.gold?"cursor-not-allowed":"")+`
				`),r&1048579&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(i){n||(A(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){K(e,i)}}}function Xu(t){let e,n;return e=new yt({props:{variant:"outline",$$slots:{default:[S3]},$$scope:{ctx:t}}}),e.$on("click",t[10]),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const r={};i&1048576&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function S3(t){let e;return{c(){e=B("Complete experiment (and face the impact)")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function T3(t){let e;return{c(){e=O("span"),e.textContent="Keep in mind that not all experiments yield positive results.",P(e,"class","italic text-left text-textDanger1")},m(n,o){I(n,e,o)},p:Ce,d(n){n&&T(e)}}}function I3(t){let e,n,o,i,r,l,a,s,u,f,c;e=new xn({props:{$$slots:{default:[y3]},$$scope:{ctx:t}}}),o=new wt({});const d=[C3,k3,w3],m=[];function p(h,y){return h[1].lab.active_experiment!==null?0:h[0].length>0?1:h[0].length===0?2:-1}return~(r=p(t))&&(l=m[r]=d[r](t)),s=new wt({props:{class:"mt-4"}}),f=new Po({props:{$$slots:{default:[T3]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=j(),X(o.$$.fragment),i=j(),l&&l.c(),a=j(),X(s.$$.fragment),u=j(),X(f.$$.fragment)},m(h,y){U(e,h,y),I(h,n,y),U(o,h,y),I(h,i,y),~r&&m[r].m(h,y),I(h,a,y),U(s,h,y),I(h,u,y),U(f,h,y),c=!0},p(h,y){const C={};y&1048578&&(C.$$scope={dirty:y,ctx:h}),e.$set(C);let k=r;r=p(h),r===k?~r&&m[r].p(h,y):(l&&(Pe(),S(m[k],1,1,()=>{m[k]=null}),Ne()),~r?(l=m[r],l?l.p(h,y):(l=m[r]=d[r](h),l.c()),A(l,1),l.m(a.parentNode,a)):l=null);const w={};y&1048576&&(w.$$scope={dirty:y,ctx:h}),f.$set(w)},i(h){c||(A(e.$$.fragment,h),A(o.$$.fragment,h),A(l),A(s.$$.fragment,h),A(f.$$.fragment,h),c=!0)},o(h){S(e.$$.fragment,h),S(o.$$.fragment,h),S(l),S(s.$$.fragment,h),S(f.$$.fragment,h),c=!1},d(h){h&&(T(n),T(i),T(a),T(u)),K(e,h),K(o,h),~r&&m[r].d(h),K(s,h),K(f,h)}}}function M3(t){let e,n;return e=new Zn({props:{class:"bg-foreground text-foregroundText",$$slots:{default:[I3]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const r={};i&1048579&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function O3(t){let e,n,o,i,r;e=new Or({props:{open:t[2],$$slots:{default:[g3]},$$scope:{ctx:t}}});function l(s){t[12](s)}let a={$$slots:{default:[M3]},$$scope:{ctx:t}};return t[3]!==void 0&&(a.open=t[3]),o=new zn({props:a}),$e.push(()=>In(o,"open",l)),{c(){X(e.$$.fragment),n=j(),X(o.$$.fragment)},m(s,u){U(e,s,u),I(s,n,u),U(o,s,u),r=!0},p(s,[u]){const f={};u&4&&(f.open=s[2]),u&1048578&&(f.$$scope={dirty:u,ctx:s}),e.$set(f);const c={};u&1048579&&(c.$$scope={dirty:u,ctx:s}),!i&&u&8&&(i=!0,c.open=s[3],Tn(()=>i=!1)),o.$set(c)},i(s){r||(A(e.$$.fragment,s),A(o.$$.fragment,s),r=!0)},o(s){S(e.$$.fragment,s),S(o.$$.fragment,s),r=!1},d(s){s&&T(n),K(e,s),K(o,s)}}}function Ju(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function P3(t,e,n){let o,i;ue(t,Ee,w=>n(1,o=w)),ue(t,Ri,w=>n(3,i=w));var r;let l=[],a=!1,s=!1,u=!1;function f(){if(l.length>0||!a)return l;let w=[],R=f3.filter(F=>!o.lab.past_experiments.some(N=>N.id===F.id));for(let F=0;F<3;F++){let N=R[Math.floor(Math.random()*R.length)];N.cost=Math.floor(Math.random()*(N.cost*.35)+N.cost*.8),w.push(N)}return w=w.filter((F,N)=>w.indexOf(F)===N),w=w.filter(F=>F),n(8,u=!0),w}function c(w){if(o.townInfo.gold<w.cost){showCustomAlert.set("You do not have enough gold to purchase this experiment.");return}Oe(Ee,o.townInfo.gold-=w.cost,o),Oe(Ee,o.lab.active_experiment=w,o),o.lab.past_experiments.push(w)}function d(){var w;switch(Oe(Ri,i=!1,i),n(2,s=!0),(w=o.lab.active_experiment)===null||w===void 0?void 0:w.id){case"sunshine":Oe(Ee,o.modifiers.happiness=50,o);break;case"antibiotics":Oe(Ee,o.modifiers.health=50,o);break;case"goodbye_carrots":p("carrot_farm");break;case"missing_treasure":Oe(Ee,o.townInfo.gold+=Math.floor(Math.random()*o.lab.active_experiment.cost*2),o);break;case"tax_relief":Oe(Ee,o.economyAndLaws.max_tax_rate=(Math.random()*.8+1.2)*o.economyAndLaws.max_tax_rate,o);break;case"bee_bonanza":p("coffee_bean_farm");break;case"wheat_whirlwind":p("wheat_farm"),Oe(Ee,o.townInfo.happiness*=1.5,o),Oe(Ee,o.modifiers.happiness+=3,o);break;case"educational_eclipse":p("small_school"),p("large_school"),Oe(Ee,o.townInfo.knowledge_points*=.8,o);break;case"education_grant":Oe(Ee,o.townInfo.knowledge_points*=1.5,o),Oe(Ee,o.townInfo.gold+=15e4,o);break;case"mindfulness_meditation_classes":o.modifiers.happiness*1.5;break}Oe(Ee,o.lab.active_experiment.duration=-1,o)}function m(){let w=o;w.lab.xp+=Math.round(w.lab.active_experiment.cost*(Math.random()*2+.5)),w.lab.active_experiment=null,n(2,s=!1),Oe(Ee,o=w,o)}function p(w){let R=We(w,o);for(let F=0;F<R.length;F++)Ui(R[F].x,R[F].y,o)}const h=()=>{m()},y=()=>{d()},C=w=>{w.cost<o.townInfo.gold&&c(w)};function k(w){i=w,Ri.set(i)}return t.$$.update=()=>{t.$$.dirty&387&&(o?(a=!0,n(0,l=u==!1?f():l),(n(7,r=o.lab.active_experiment)===null||r===void 0?void 0:r.duration)===-1&&n(2,s=!0)):a=!1)},[l,o,s,i,c,d,m,r,u,h,y,C,k]}class N3 extends we{constructor(e){super(),ye(this,e,P3,O3,de,{})}}function xu(t,e,n){const o=t.slice();return o[19]=e[n],o}function Zu(t){let e,n=Ke({length:t[6]}),o=[];for(let i=0;i<n.length;i+=1)o[i]=Qu(xu(t,n,i));return{c(){e=O("div");for(let i=0;i<o.length;i+=1)o[i].c();P(e,"class","confetti-holder svelte-15ksp55"),gn(e,"rounded",t[9]),gn(e,"cone",t[10]),gn(e,"no-gravity",t[11]),gn(e,"reduced-motion",t[13])},m(i,r){I(i,e,r);for(let l=0;l<o.length;l+=1)o[l]&&o[l].m(e,null)},p(i,r){if(r&37375){n=Ke({length:i[6]});let l;for(l=0;l<n.length;l+=1){const a=xu(i,n,l);o[l]?o[l].p(a,r):(o[l]=Qu(a),o[l].c(),o[l].m(e,null))}for(;l<o.length;l+=1)o[l].d(1);o.length=n.length}r&512&&gn(e,"rounded",i[9]),r&1024&&gn(e,"cone",i[10]),r&2048&&gn(e,"no-gravity",i[11]),r&8192&&gn(e,"reduced-motion",i[13])},d(i){i&&T(e),_t(o,i)}}}function Qu(t){let e;return{c(){e=O("div"),P(e,"class","confetti svelte-15ksp55"),xe(e,"--fall-distance",t[8]),xe(e,"--size",t[0]+"px"),xe(e,"--color",t[15]()),xe(e,"--skew",Ct(-45,45)+"deg,"+Ct(-45,45)+"deg"),xe(e,"--rotation-xyz",Ct(-10,10)+", "+Ct(-10,10)+", "+Ct(-10,10)),xe(e,"--rotation-deg",Ct(0,360)+"deg"),xe(e,"--translate-y-multiplier",Ct(t[2][0],t[2][1])),xe(e,"--translate-x-multiplier",Ct(t[1][0],t[1][1])),xe(e,"--scale",.1*Ct(2,10)),xe(e,"--transition-duration",t[4]?`calc(${t[3]}ms * var(--scale))`:`${t[3]}ms`),xe(e,"--transition-delay",Ct(t[5][0],t[5][1])+"ms"),xe(e,"--transition-iteration-count",t[4]?"infinite":t[7]),xe(e,"--x-spread",1-t[12])},m(n,o){I(n,e,o)},p(n,o){o&256&&xe(e,"--fall-distance",n[8]),o&1&&xe(e,"--size",n[0]+"px"),o&4&&xe(e,"--translate-y-multiplier",Ct(n[2][0],n[2][1])),o&2&&xe(e,"--translate-x-multiplier",Ct(n[1][0],n[1][1])),o&24&&xe(e,"--transition-duration",n[4]?`calc(${n[3]}ms * var(--scale))`:`${n[3]}ms`),o&32&&xe(e,"--transition-delay",Ct(n[5][0],n[5][1])+"ms"),o&144&&xe(e,"--transition-iteration-count",n[4]?"infinite":n[7]),o&4096&&xe(e,"--x-spread",1-n[12])},d(n){n&&T(e)}}}function E3(t){let e,n=!t[14]&&Zu(t);return{c(){n&&n.c(),e=De()},m(o,i){n&&n.m(o,i),I(o,e,i)},p(o,[i]){o[14]?n&&(n.d(1),n=null):n?n.p(o,i):(n=Zu(o),n.c(),n.m(e.parentNode,e))},i:Ce,o:Ce,d(o){o&&T(e),n&&n.d(o)}}}function Ct(t,e){return Math.random()*(e-t)+t}function $3(t,e,n){let{size:o=10}=e,{x:i=[-.5,.5]}=e,{y:r=[.25,1]}=e,{duration:l=2e3}=e,{infinite:a=!1}=e,{delay:s=[0,50]}=e,{colorRange:u=[0,360]}=e,{colorArray:f=[]}=e,{amount:c=50}=e,{iterationCount:d=1}=e,{fallDistance:m="100px"}=e,{rounded:p=!1}=e,{cone:h=!1}=e,{noGravity:y=!1}=e,{xSpread:C=.15}=e,{destroyOnComplete:k=!0}=e,{disableForReducedMotion:w=!1}=e,R=!1;gr(()=>{!k||a||d=="infinite"||setTimeout(()=>n(14,R=!0),(l+s[1])*d)});function F(){return f.length?f[Math.round(Math.random()*(f.length-1))]:`hsl(${Math.round(Ct(u[0],u[1]))}, 75%, 50%)`}return t.$$set=N=>{"size"in N&&n(0,o=N.size),"x"in N&&n(1,i=N.x),"y"in N&&n(2,r=N.y),"duration"in N&&n(3,l=N.duration),"infinite"in N&&n(4,a=N.infinite),"delay"in N&&n(5,s=N.delay),"colorRange"in N&&n(16,u=N.colorRange),"colorArray"in N&&n(17,f=N.colorArray),"amount"in N&&n(6,c=N.amount),"iterationCount"in N&&n(7,d=N.iterationCount),"fallDistance"in N&&n(8,m=N.fallDistance),"rounded"in N&&n(9,p=N.rounded),"cone"in N&&n(10,h=N.cone),"noGravity"in N&&n(11,y=N.noGravity),"xSpread"in N&&n(12,C=N.xSpread),"destroyOnComplete"in N&&n(18,k=N.destroyOnComplete),"disableForReducedMotion"in N&&n(13,w=N.disableForReducedMotion)},[o,i,r,l,a,s,c,d,m,p,h,y,C,w,R,F,u,f,k]}class R3 extends we{constructor(e){super(),ye(this,e,$3,E3,de,{size:0,x:1,y:2,duration:3,infinite:4,delay:5,colorRange:16,colorArray:17,amount:6,iterationCount:7,fallDistance:8,rounded:9,cone:10,noGravity:11,xSpread:12,destroyOnComplete:18,disableForReducedMotion:13})}}function L3(t){let e,n,o;return{c(){e=O("div"),P(e,"class",n="h-full w-full flex-1 "+t[3]+" transition-all"),P(e,"style",o=`transform: translateX(-${100-100*(t[2]??0)/(t[1]??1)}%)`)},m(i,r){I(i,e,r)},p(i,r){r&8&&n!==(n="h-full w-full flex-1 "+i[3]+" transition-all")&&P(e,"class",n),r&6&&o!==(o=`transform: translateX(-${100-100*(i[2]??0)/(i[1]??1)}%)`)&&P(e,"style",o)},d(i){i&&T(e)}}}function D3(t){let e,n;const o=[{class:qe("relative h-4 w-full overflow-hidden rounded-full bg-white",t[0])},t[4]];let i={$$slots:{default:[L3]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Z(i,o[r]);return e=new d1({props:i}),{c(){X(e.$$.fragment)},m(r,l){U(e,r,l),n=!0},p(r,[l]){const a=l&17?ke(o,[l&1&&{class:qe("relative h-4 w-full overflow-hidden rounded-full bg-white",r[0])},l&16&&rt(r[4])]):{};l&46&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){K(e,r)}}}function F3(t,e,n){const o=["class","max","value","color"];let i=se(e,o),{class:r=void 0}=e,{max:l=100}=e,{value:a=void 0}=e,{color:s="bg-secondary"}=e;return t.$$set=u=>{e=Z(Z({},e),Re(u)),n(4,i=se(e,o)),"class"in u&&n(0,r=u.class),"max"in u&&n(1,l=u.max),"value"in u&&n(2,a=u.value),"color"in u&&n(3,s=u.color)},[r,l,a,s,i]}class B3 extends we{constructor(e){super(),ye(this,e,F3,D3,de,{class:0,max:1,value:2,color:3})}}function j3(t){let e;const n=t[5].default,o=_e(n,t,t[6],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&64)&&be(o,n,i,i[6],e?ge(n,i[6],r,null):ve(i[6]),null)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function q3(t){let e,n;const o=[{transition:t[2]},{transitionConfig:t[3]},{sideOffset:t[1]},{class:qe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-black shadow-md",t[0])},t[4]];let i={$$slots:{default:[j3]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Z(i,o[r]);return e=new z1({props:i}),{c(){X(e.$$.fragment)},m(r,l){U(e,r,l),n=!0},p(r,[l]){const a=l&31?ke(o,[l&4&&{transition:r[2]},l&8&&{transitionConfig:r[3]},l&2&&{sideOffset:r[1]},l&1&&{class:qe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-black shadow-md",r[0])},l&16&&rt(r[4])]):{};l&64&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){K(e,r)}}}function G3(t,e,n){const o=["class","sideOffset","transition","transitionConfig"];let i=se(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{sideOffset:s=4}=e,{transition:u=yr}=e,{transitionConfig:f={y:8,duration:150}}=e;return t.$$set=c=>{e=Z(Z({},e),Re(c)),n(4,i=se(e,o)),"class"in c&&n(0,a=c.class),"sideOffset"in c&&n(1,s=c.sideOffset),"transition"in c&&n(2,u=c.transition),"transitionConfig"in c&&n(3,f=c.transitionConfig),"$$scope"in c&&n(6,l=c.$$scope)},[a,s,u,f,i,r,l]}class No extends we{constructor(e){super(),ye(this,e,G3,q3,de,{class:0,sideOffset:1,transition:2,transitionConfig:3})}}const Eo=B1,$o=lb;function zu(t,e,n){const o=t.slice();return o[19]=e[n].name,o[20]=e[n].value,o[21]=e[n].modifier,o}function H3(t){let e,n=t[19]+"",o,i,r=ft(t[21],2)+"",l,a,s,u,f;return u=new B3({props:{value:t[20],max:300,class:"w-full h-2",color:t[12](t[20])}}),{c(){e=O("span"),o=B(n),i=B(" (x"),l=B(r),a=B(")"),s=j(),X(u.$$.fragment),P(e,"class","text-xs pb-1")},m(c,d){I(c,e,d),g(e,o),g(e,i),g(e,l),g(e,a),I(c,s,d),U(u,c,d),f=!0},p(c,d){(!f||d&4)&&n!==(n=c[19]+"")&&le(o,n),(!f||d&4)&&r!==(r=ft(c[21],2)+"")&&le(l,r);const m={};d&4&&(m.value=c[20]),d&4&&(m.color=c[12](c[20])),u.$set(m)},i(c){f||(A(u.$$.fragment,c),f=!0)},o(c){S(u.$$.fragment,c),f=!1},d(c){c&&(T(e),T(s)),K(u,c)}}}function V3(t){let e,n,o=t[19]+"",i,r,l,a,s=t[20]+"",u,f,c,d,m,p=ft(t[21],0)+"",h;return{c(){e=O("div"),n=O("span"),i=B(o),r=j(),l=O("span"),a=B("Base: "),u=B(s),f=B(" / 300"),c=j(),d=O("span"),m=B("Modifier: "),h=B(p),P(n,"class","text-sm font-bold"),P(l,"class","text-xs"),P(d,"class","text-xs"),P(e,"class","flex flex-col justify-between p-0 m-0")},m(y,C){I(y,e,C),g(e,n),g(n,i),g(e,r),g(e,l),g(l,a),g(l,u),g(l,f),g(e,c),g(e,d),g(d,m),g(d,h)},p(y,C){C&4&&o!==(o=y[19]+"")&&le(i,o),C&4&&s!==(s=y[20]+"")&&le(u,s),C&4&&p!==(p=ft(y[21],0)+"")&&le(h,p)},d(y){y&&T(e)}}}function W3(t){let e,n,o,i;return e=new $o({props:{class:"h-7 w-full mt-0 flex flex-col",$$slots:{default:[H3]},$$scope:{ctx:t}}}),o=new No({props:{class:t[12](t[20]),$$slots:{default:[V3]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=j(),X(o.$$.fragment)},m(r,l){U(e,r,l),I(r,n,l),U(o,r,l),i=!0},p(r,l){const a={};l&16777220&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&4&&(s.class=r[12](r[20])),l&16777220&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),K(e,r),K(o,r)}}}function ef(t){let e,n,o,i;return n=new Eo({props:{openDelay:400,closeDelay:0,$$slots:{default:[W3]},$$scope:{ctx:t}}}),{c(){e=O("div"),X(n.$$.fragment),o=j(),P(e,"class","flex flex-col gap-2")},m(r,l){I(r,e,l),U(n,e,null),g(e,o),i=!0},p(r,l){const a={};l&16777220&&(a.$$scope={dirty:l,ctx:r}),n.$set(a)},i(r){i||(A(n.$$.fragment,r),i=!0)},o(r){S(n.$$.fragment,r),i=!1},d(r){r&&T(e),K(n)}}}function Y3(t){let e,n,o=t[0].economyAndLaws.weeklyProfit+"",i;return{c(){e=O("span"),n=B("+$"),i=B(o),P(e,"class","text-textPrimary")},m(r,l){I(r,e,l),g(e,n),g(e,i)},p(r,l){l&1&&o!==(o=r[0].economyAndLaws.weeklyProfit+"")&&le(i,o)},d(r){r&&T(e)}}}function U3(t){let e,n=t[0].economyAndLaws.weeklyProfit+"",o;return{c(){e=O("span"),o=B(n),P(e,"class","text-textDanger2")},m(i,r){I(i,e,r),g(e,o)},p(i,r){r&1&&n!==(n=i[0].economyAndLaws.weeklyProfit+"")&&le(o,n)},d(i){i&&T(e)}}}function K3(t){let e,n,o=t[0].economyAndLaws.weeklyProfit+"",i;return{c(){e=O("span"),n=B("+$"),i=B(o),P(e,"class","text-textHappy")},m(r,l){I(r,e,l),g(e,n),g(e,i)},p(r,l){l&1&&o!==(o=r[0].economyAndLaws.weeklyProfit+"")&&le(i,o)},d(r){r&&T(e)}}}function X3(t){let e=ft(t[0].townInfo.employees/t[0].townInfo.population_count*100,0)+"",n,o,i=t[0].townInfo.employees+"",r,l,a=t[0].townInfo.population_count+"",s,u,f=t[0].townInfo.population_count-t[0].townInfo.employees+"",c,d;return{c(){n=B(e),o=B("% employment ("),r=B(i),l=B("/"),s=B(a),u=B(" - "),c=B(f),d=B(" unemployed)")},m(m,p){I(m,n,p),I(m,o,p),I(m,r,p),I(m,l,p),I(m,s,p),I(m,u,p),I(m,c,p),I(m,d,p)},p(m,p){p&1&&e!==(e=ft(m[0].townInfo.employees/m[0].townInfo.population_count*100,0)+"")&&le(n,e),p&1&&i!==(i=m[0].townInfo.employees+"")&&le(r,i),p&1&&a!==(a=m[0].townInfo.population_count+"")&&le(s,a),p&1&&f!==(f=m[0].townInfo.population_count-m[0].townInfo.employees+"")&&le(c,f)},d(m){m&&(T(n),T(o),T(r),T(l),T(s),T(u),T(c),T(d))}}}function J3(t){let e;function n(r,l){return r[0].townInfo.population_count===0?Z3:x3}let o=n(t),i=o(t);return{c(){i.c(),e=De()},m(r,l){i.m(r,l),I(r,e,l)},p(r,l){o!==(o=n(r))&&(i.d(1),i=o(r),i&&(i.c(),i.m(e.parentNode,e)))},d(r){r&&T(e),i.d(r)}}}function x3(t){let e;return{c(){e=B("All citizens employed")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Z3(t){let e;return{c(){e=B("Nobody lives here , build some homes")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Q3(t){let e;return{c(){e=B("Pick an active Plot")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function z3(t){let e;return{c(){e=B("Set your location!")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function e4(t){let e;function n(r,l){return r[5]?Q3:z3}let o=n(t),i=o(t);return{c(){e=O("div"),i.c()},m(r,l){I(r,e,l),i.m(e,null)},p(r,l){o!==(o=n(r))&&(i.d(1),i=o(r),i&&(i.c(),i.m(e,null)))},d(r){r&&T(e),i.d()}}}function t4(t){let e;return{c(){e=O("div"),e.textContent="Manage Knowledge"},m(n,o){I(n,e,o)},p:Ce,d(n){n&&T(e)}}}function n4(t){let e;return{c(){e=O("div"),e.textContent="City Management"},m(n,o){I(n,e,o)},p:Ce,d(n){n&&T(e)}}}function tf(t){let e;function n(r,l){if(r[0].lab.active_experiment.duration>0)return i4;if(r[0].lab.active_experiment.duration===0)return o4}let o=n(t),i=o&&o(t);return{c(){i&&i.c(),e=De()},m(r,l){i&&i.m(r,l),I(r,e,l)},p(r,l){o===(o=n(r))&&i?i.p(r,l):(i&&i.d(1),i=o&&o(r),i&&(i.c(),i.m(e.parentNode,e)))},d(r){r&&T(e),i&&i.d(r)}}}function o4(t){let e;return{c(){e=O("span"),e.textContent="✅ DONE!",P(e,"class","animate-pulse ")},m(n,o){I(n,e,o)},p:Ce,d(n){n&&T(e)}}}function i4(t){let e,n=t[0].lab.active_experiment.duration+"",o,i;return{c(){e=O("span"),o=B(n),i=B("d")},m(r,l){I(r,e,l),g(e,o),g(e,i)},p(r,l){l&1&&n!==(n=r[0].lab.active_experiment.duration+"")&&le(o,n)},d(r){r&&T(e)}}}function r4(t){let e,n,o=t[0].lab.active_experiment!==null&&tf(t);return{c(){e=O("div"),n=B(`Manage Lab
            `),o&&o.c()},m(i,r){I(i,e,r),g(e,n),o&&o.m(e,null)},p(i,r){i[0].lab.active_experiment!==null?o?o.p(i,r):(o=tf(i),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},d(i){i&&T(e),o&&o.d()}}}function nf(t){let e,n,o,i;return o=new Eo({props:{openDelay:400,closeDelay:0,$$slots:{default:[a4]},$$scope:{ctx:t}}}),{c(){e=O("div"),n=O("div"),X(o.$$.fragment),P(n,"class","flex flex-row justify-center text-xs bg-white rounded-t-2xl text-black py-2 whitespace-nowrap px-2 opacity-50"),P(e,"class","flex flex-col justify-center items-center ")},m(r,l){I(r,e,l),g(e,n),U(o,n,null),i=!0},p(r,l){const a={};l&16777217&&(a.$$scope={dirty:l,ctx:r}),o.$set(a)},i(r){i||(A(o.$$.fragment,r),i=!0)},o(r){S(o.$$.fragment,r),i=!1},d(r){r&&T(e),K(o)}}}function l4(t){let e,n,o,i,r=qt[t[0].currentTutorialStep-1].goldReward+"",l;return{c(){e=O("span"),n=B(`Last reward
                  `),o=O("div"),i=B("💰"),l=B(r),P(e,"class","w-full no-select opacity-70 whitespace-nowrap text-center")},m(a,s){I(a,e,s),g(e,n),g(e,o),g(o,i),g(o,l)},p(a,s){s&1&&r!==(r=qt[a[0].currentTutorialStep-1].goldReward+"")&&le(l,r)},d(a){a&&T(e)}}}function s4(t){let e,n=qt[t[0].currentTutorialStep-1].message+"",o;return{c(){e=B("Last completed task: "),o=B(n)},m(i,r){I(i,e,r),I(i,o,r)},p(i,r){r&1&&n!==(n=qt[i[0].currentTutorialStep-1].message+"")&&le(o,n)},d(i){i&&(T(e),T(o))}}}function a4(t){let e,n,o,i;return e=new $o({props:{$$slots:{default:[l4]},$$scope:{ctx:t}}}),o=new No({props:{class:"bg-black text-white rounded-2xl",$$slots:{default:[s4]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=j(),X(o.$$.fragment)},m(r,l){U(e,r,l),I(r,n,l),U(o,r,l),i=!0},p(r,l){const a={};l&16777217&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&16777217&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),K(e,r),K(o,r)}}}function of(t){let e,n;return e=new R3({props:{y:[-.5,.5],x:[-.5,.5],duration:2e3}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function u4(t){let e=qt[t[0].currentTutorialStep].message+"",n,o,i,r,l=qt[t[0].currentTutorialStep].goldReward+"",a,s;return{c(){n=B(e),o=j(),i=O("span"),r=B("(💰"),a=B(l),s=B(")"),P(i,"class","opacity-40")},m(u,f){I(u,n,f),I(u,o,f),I(u,i,f),g(i,r),g(i,a),g(i,s)},p(u,f){f&1&&e!==(e=qt[u[0].currentTutorialStep].message+"")&&le(n,e),f&1&&l!==(l=qt[u[0].currentTutorialStep].goldReward+"")&&le(a,l)},d(u){u&&(T(n),T(o),T(i))}}}function f4(t){let e;return{c(){e=B("No more goals!")},m(n,o){I(n,e,o)},p:Ce,d(n){n&&T(e)}}}function c4(t){let e,n,o,i,r,l,a,s,u,f,c=t[0].townInfo.name+"",d,m,p,h,y,C=t[0].townInfo.population_count+"",k,w,R=t[0].townInfo.population_max+"",F,N,$,G,L,V=xt(t[0].townInfo.gold,!1)+"",v,b,M,E,W,q,J,Q,ee,Y,te,ne,me,_,D,x,ie,ae,Ie,Me,Ye,ce,Le,He,Fe,Xe,Ae,Se,kt,Lt,lt,Dt,Ft,ct,tt,pe,Je,H,eo,to,ai,fs,ui,fi=t[0].environment.day%365+1+"",$r,cs,no,ci,ds,di,mi=Math.floor(t[0].environment.day/365)+1+"",Rr,ms,pn,oo,ps,pi,hs,io,_s,hi,gs,ro,bs,_i,gi,dt,Lr,vs,Mn=Ke(t[2]),ot=[];for(let he=0;he<Mn.length;he+=1)ot[he]=ef(zu(t,Mn,he));const Wd=he=>S(ot[he],1,1,()=>{ot[he]=null});function ys(he,Be){return he[0].economyAndLaws.weeklyProfit>0?K3:he[0].economyAndLaws.weeklyProfit<0?U3:Y3}let bi=ys(t),Vt=bi(t);function ws(he,Be){return he[0].townInfo.employees==he[0].townInfo.population_count?J3:X3}let vi=ws(t),Wt=vi(t);x=new yt({props:{class:`text-xs flex flex-col h-min  bg-button cursor-pointer text-textPrimary p-1.5
          
            `+(t[5]?"bg-green-500":"")+`
          `,$$slots:{default:[e4]},$$scope:{ctx:t}}}),x.$on("click",t[13]),ae=new yt({props:{class:"text-xs flex flex-col h-min  bg-button cursor-pointer text-textPrimary p-1.5",$$slots:{default:[t4]},$$scope:{ctx:t}}}),ae.$on("click",t[14]),Me=new yt({props:{class:"text-xs flex flex-col h-min  bg-button cursor-pointer text-textPrimary p-1.5",$$slots:{default:[n4]},$$scope:{ctx:t}}}),Me.$on("click",t[15]),ce=new yt({props:{class:"text-xs flex flex-col h-min p-1.5 "+(t[0].hasLab?"bg-button cursor-pointer text-textPrimary":"bg-button cursor-not-allowed text-textPrimary opacity-35"),$$slots:{default:[r4]},$$scope:{ctx:t}}}),ce.$on("click",t[11]);let st=t[0].currentTutorialStep!=0&&nf(t),mt=t[8]&&of();function ks(he,Be){return he[0].currentTutorialStep>=qt.length?f4:u4}let yi=ks(t),Yt=yi(t);return{c(){e=O("div"),n=O("div"),o=O("div");for(let he=0;he<ot.length;he+=1)ot[he].c();i=j(),r=O("div"),l=O("div"),a=O("div"),s=O("div"),u=O("div"),f=O("h1"),d=B(c),m=j(),p=O("div"),h=O("span"),y=B("👥 "),k=B(C),w=B(" / "),F=B(R),N=j(),$=O("span"),G=O("span"),L=B("💰 "),v=B(V),b=j(),M=O("span"),E=j(),Vt.c(),W=j(),q=O("span"),q.textContent="(weekly)",J=j(),Q=O("div"),Wt.c(),Y=j(),te=O("span"),ne=B("Game time: "),me=B(t[1]),_=j(),D=O("div"),X(x.$$.fragment),ie=j(),X(ae.$$.fragment),Ie=j(),X(Me.$$.fragment),Ye=j(),X(ce.$$.fragment),Le=j(),He=O("div"),Fe=O("div"),st&&st.c(),Xe=j(),mt&&mt.c(),Ae=j(),Se=O("div"),kt=O("div"),kt.textContent="👨‍🦰",Lt=j(),lt=O("div"),Yt.c(),Ft=j(),ct=O("div"),tt=O("div"),pe=O("div"),Je=O("div"),Je.innerHTML='<span class="text-xs text-secondary cursor-pointer">Press P to Pause</span>',H=j(),eo=O("div"),to=O("span"),ai=O("span"),ai.textContent="Day",fs=j(),ui=O("span"),$r=B(fi),cs=j(),no=O("span"),ci=O("span"),ci.textContent="Year",ds=j(),di=O("span"),Rr=B(mi),ms=j(),pn=O("div"),oo=O("span"),ps=B("Slow"),hs=j(),io=O("span"),_s=B("Normal"),gs=j(),ro=O("span"),bs=B("Fast"),P(o,"class","flex flex-col w-36 text-foregroundText bg-accent p-2 rounded-xl gap-2 mr-2"),P(f,"class","font-bold cursor-pointer w-full pb-2 text-start select-none"),P(u,"class","cursor-pointer transition-all duration=150 min-h-8 flex flex-row justify-start"),P(s,"class","flex flex-row items-start gap-4"),P(h,"class","text-sm"),P(G,"class","text-sm"),P(M,"class","pl-2"),P(q,"class","text-gray-400"),P($,"class","text-xs"),P(p,"class","flex flex-row gap-4 flex-wrap items-center"),P(Q,"class",ee="text-xs pt-0 opacity-70 "+(t[0].townInfo.employees==t[0].townInfo.population_count?"text-textPrimary":t[0].townInfo.employees>t[0].townInfo.population_count*.95?"text-textDanger3":t[0].townInfo.employees>t[0].townInfo.population_count*.9?"text-textDanger2":"text-textDanger1")),P(te,"class","text-xs text-secondary cursor-pointer"),P(a,"class","flex flex-col justify-between"),P(l,"class","rounded-xl"),P(D,"class","flex flex-row gap-2 align-middle justify-center items-center "),P(r,"class","flex justify-between flex-col"),P(n,"class","flex flex-row gap-2 my-2 h-max"),P(kt,"class","text-lg h-max"),P(lt,"class","text-xs ml-2 overflow-auto opacity-80"),P(Se,"class","gap flex-row items-center flex bg-white text-slate-800 py-1 px-2 rounded-xl w-full"),P(Fe,"class","flex flex-col justify-center w-full align-middle items-center"),P(He,"class",Dt="flex flex-row flex-wrap align-middle justify-center items-center w-80 "+(t[8]?"opacity-25 ":"")+" transition-all duration-700 "+(t[0].environment.day===0?"wiggle":"")+" svelte-1asvijo"),P(ai,"class","text-xs"),P(ui,"class","font-semibold text-xs"),P(to,"class","flex flex-col gap-2 text-center"),P(ci,"class","text-xs"),P(di,"class","font-semibold text-xs"),P(no,"class","flex flex-col gap-2 text-center"),P(eo,"class","rounded-xl bg-accent flex-row justify-between text-accentText w-36 h-14 flex px-6 items-center mb-2"),P(oo,"class",pi=(t[3].toString()==="2000"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"),P(io,"class",hi=(t[3].toString()==="750"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"),P(ro,"class",_i=(t[3].toString()==="200"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"),P(pn,"class","flex flex-row gap-2 align-middle justify-center items-center"),P(pe,"class","flex flex-col items-center h-max"),P(tt,"class","flex flex-col"),P(ct,"class","flex justify-center align-middle flex-col"),P(e,"class",gi="flex justify-between px-6 gap-6 flex-row text-start fixed top-0 left-0 right-0 cursor-default z-20 bg-foreground text-foregroundText h-max "+(t[4].visible?"opacity-70":""))},m(he,Be){I(he,e,Be),g(e,n),g(n,o);for(let hn=0;hn<ot.length;hn+=1)ot[hn]&&ot[hn].m(o,null);g(n,i),g(n,r),g(r,l),g(l,a),g(a,s),g(s,u),g(u,f),g(f,d),g(a,m),g(a,p),g(p,h),g(h,y),g(h,k),g(h,w),g(h,F),g(p,N),g(p,$),g($,G),g(G,L),g(G,v),g($,b),g($,M),g($,E),Vt.m($,null),g($,W),g($,q),g(a,J),g(a,Q),Wt.m(Q,null),g(a,Y),g(a,te),g(te,ne),g(te,me),g(r,_),g(r,D),U(x,D,null),g(D,ie),U(ae,D,null),g(D,Ie),U(Me,D,null),g(D,Ye),U(ce,D,null),g(e,Le),g(e,He),g(He,Fe),st&&st.m(Fe,null),g(Fe,Xe),mt&&mt.m(Fe,null),g(Fe,Ae),g(Fe,Se),g(Se,kt),g(Se,Lt),g(Se,lt),Yt.m(lt,null),g(e,Ft),g(e,ct),g(ct,tt),g(tt,pe),g(pe,Je),g(pe,H),g(pe,eo),g(eo,to),g(to,ai),g(to,fs),g(to,ui),g(ui,$r),g(eo,cs),g(eo,no),g(no,ci),g(no,ds),g(no,di),g(di,Rr),g(pe,ms),g(pe,pn),g(pn,oo),g(oo,ps),g(pn,hs),g(pn,io),g(io,_s),g(pn,gs),g(pn,ro),g(ro,bs),dt=!0,Lr||(vs=[z(u,"click",t[9]),z(oo,"click",t[16]),z(io,"click",t[17]),z(ro,"click",t[18])],Lr=!0)},p(he,[Be]){if(Be&4100){Mn=Ke(he[2]);let gt;for(gt=0;gt<Mn.length;gt+=1){const Ss=zu(he,Mn,gt);ot[gt]?(ot[gt].p(Ss,Be),A(ot[gt],1)):(ot[gt]=ef(Ss),ot[gt].c(),A(ot[gt],1),ot[gt].m(o,null))}for(Pe(),gt=Mn.length;gt<ot.length;gt+=1)Wd(gt);Ne()}(!dt||Be&1)&&c!==(c=he[0].townInfo.name+"")&&le(d,c),(!dt||Be&1)&&C!==(C=he[0].townInfo.population_count+"")&&le(k,C),(!dt||Be&1)&&R!==(R=he[0].townInfo.population_max+"")&&le(F,R),(!dt||Be&1)&&V!==(V=xt(he[0].townInfo.gold,!1)+"")&&le(v,V),bi===(bi=ys(he))&&Vt?Vt.p(he,Be):(Vt.d(1),Vt=bi(he),Vt&&(Vt.c(),Vt.m($,W))),vi===(vi=ws(he))&&Wt?Wt.p(he,Be):(Wt.d(1),Wt=vi(he),Wt&&(Wt.c(),Wt.m(Q,null))),(!dt||Be&1&&ee!==(ee="text-xs pt-0 opacity-70 "+(he[0].townInfo.employees==he[0].townInfo.population_count?"text-textPrimary":he[0].townInfo.employees>he[0].townInfo.population_count*.95?"text-textDanger3":he[0].townInfo.employees>he[0].townInfo.population_count*.9?"text-textDanger2":"text-textDanger1")))&&P(Q,"class",ee),(!dt||Be&2)&&le(me,he[1]);const hn={};Be&32&&(hn.class=`text-xs flex flex-col h-min  bg-button cursor-pointer text-textPrimary p-1.5
          
            `+(he[5]?"bg-green-500":"")+`
          `),Be&16777248&&(hn.$$scope={dirty:Be,ctx:he}),x.$set(hn);const Cs={};Be&16777216&&(Cs.$$scope={dirty:Be,ctx:he}),ae.$set(Cs);const As={};Be&16777216&&(As.$$scope={dirty:Be,ctx:he}),Me.$set(As);const Dr={};Be&1&&(Dr.class="text-xs flex flex-col h-min p-1.5 "+(he[0].hasLab?"bg-button cursor-pointer text-textPrimary":"bg-button cursor-not-allowed text-textPrimary opacity-35")),Be&16777217&&(Dr.$$scope={dirty:Be,ctx:he}),ce.$set(Dr),he[0].currentTutorialStep!=0?st?(st.p(he,Be),Be&1&&A(st,1)):(st=nf(he),st.c(),A(st,1),st.m(Fe,Xe)):st&&(Pe(),S(st,1,1,()=>{st=null}),Ne()),he[8]?mt?Be&256&&A(mt,1):(mt=of(),mt.c(),A(mt,1),mt.m(Fe,Ae)):mt&&(Pe(),S(mt,1,1,()=>{mt=null}),Ne()),yi===(yi=ks(he))&&Yt?Yt.p(he,Be):(Yt.d(1),Yt=yi(he),Yt&&(Yt.c(),Yt.m(lt,null))),(!dt||Be&257&&Dt!==(Dt="flex flex-row flex-wrap align-middle justify-center items-center w-80 "+(he[8]?"opacity-25 ":"")+" transition-all duration-700 "+(he[0].environment.day===0?"wiggle":"")+" svelte-1asvijo"))&&P(He,"class",Dt),(!dt||Be&1)&&fi!==(fi=he[0].environment.day%365+1+"")&&le($r,fi),(!dt||Be&1)&&mi!==(mi=Math.floor(he[0].environment.day/365)+1+"")&&le(Rr,mi),(!dt||Be&8&&pi!==(pi=(he[3].toString()==="2000"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"))&&P(oo,"class",pi),(!dt||Be&8&&hi!==(hi=(he[3].toString()==="750"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"))&&P(io,"class",hi),(!dt||Be&8&&_i!==(_i=(he[3].toString()==="200"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"))&&P(ro,"class",_i),(!dt||Be&16&&gi!==(gi="flex justify-between px-6 gap-6 flex-row text-start fixed top-0 left-0 right-0 cursor-default z-20 bg-foreground text-foregroundText h-max "+(he[4].visible?"opacity-70":"")))&&P(e,"class",gi)},i(he){if(!dt){for(let Be=0;Be<Mn.length;Be+=1)A(ot[Be]);A(x.$$.fragment,he),A(ae.$$.fragment,he),A(Me.$$.fragment,he),A(ce.$$.fragment,he),A(st),A(mt),dt=!0}},o(he){ot=ot.filter(Boolean);for(let Be=0;Be<ot.length;Be+=1)S(ot[Be]);S(x.$$.fragment,he),S(ae.$$.fragment,he),S(Me.$$.fragment,he),S(ce.$$.fragment,he),S(st),S(mt),dt=!1},d(he){he&&T(e),_t(ot,he),Vt.d(),Wt.d(),K(x),K(ae),K(Me),K(ce),st&&st.d(),mt&&mt.d(),Yt.d(),Lr=!1,je(vs)}}}function d4(t,e,n){let o,i,r,l,a,s,u;ue(t,Ee,N=>n(0,o=N)),ue(t,sl,N=>n(3,i=N)),ue(t,et,N=>n(4,r=N)),ue(t,vo,N=>n(5,l=N)),ue(t,Ki,N=>n(6,a=N)),ue(t,Ji,N=>n(7,s=N)),ue(t,$i,N=>n(8,u=N)),gr(()=>{const N=setInterval(()=>{Oe(Ee,o.timeSpent+=1e3,o)},1e3);return()=>{clearInterval(N)}});function f(){let N=prompt("Enter a new name for your town (under 200 chars)");if(N&&N.length<200&&N.length>=1){let $=o;$.townInfo.name=N,Ee.set($),localStorage.setItem(Gt,JSON.stringify($))}}function c(N){return Oe(sl,i=N,i),document.querySelectorAll(".speedButton").forEach(G=>{G.classList.remove("active")}),i}function d(){o.hasLab&&Ri.set(!0)}let m="00:00:00",p;const h=N=>N>149?"bg-green-500":N>99?"bg-yellow-500":"bg-red-500",y=function(){Oe(vo,l=!0,l)},C=function(){Oe(Ki,a=!a,a)},k=function(){Oe(Ji,s=!s,s)},w=()=>c(2e3),R=()=>c(750),F=()=>c(200);return t.$$.update=()=>{t.$$.dirty&1&&(o.timeSpent>0?n(1,m=lp(o.timeSpent)):n(1,m="00:00:00")),t.$$.dirty&1&&n(2,p=[{name:"Happiness",description:"Happy townspeople spend more money and are less likely to leave.",value:o.townInfo.happiness,modifier:o.modifiers.happiness},{name:"Health",description:"Healthy townspeople are less likely to die (and leave the town obviously).",value:o.townInfo.health,modifier:o.modifiers.health},{name:"Community",description:"Townspeople that feel at home are less likely to leave, and less likely to get bored.",value:o.townInfo.community,modifier:o.modifiers.community}])},[o,m,p,i,r,l,a,s,u,f,c,d,h,y,C,k,w,R,F]}class m4 extends we{constructor(e){super(),ye(this,e,d4,c4,de,{})}}function rf(t,e,n){const o=t.slice();return o[4]=e[n],o[6]=n,o}function lf(t,e,n){const o=t.slice();return o[4]=e[n],o[6]=n,o}function sf(t){let e,n,o,i=re[Te(t[0].id)].title+"",r,l,a,s=re[Te(t[0].id)].description+"",u,f,c,d,m,p,h,y,C,k=t[3]("💰",re[Te(t[0].id)].requirements.gold,t[2].townInfo.gold)+"",w,R,F=t[3]("🥕",re[Te(t[0].id)].requirements.resources.food,t[2].resources.food)+"",N,$,G=t[3]("🧠",re[Te(t[0].id)].requirements.knowledge,t[2].townInfo.knowledge_points)+"",L,V,v=t[3]("🪵",re[Te(t[0].id)].requirements.resources.wood,t[2].resources.wood)+"",b,M,E=t[3]("🪨",re[Te(t[0].id)].requirements.resources.stone,t[2].resources.stone)+"",W,q,J=t[3]("🧲",re[Te(t[0].id)].requirements.resources.metal,t[2].resources.metal)+"",Q,ee,Y=t[3]("🔋",re[Te(t[0].id)].active_costs.power,t[2].resources.power)+"",te,ne,me=t[3]("🧑‍⚖️",re[Te(t[0].id)].requirements.resources.bureaucracy,t[2].resources.bureaucracy)+"",_,D=re[Te(t[0].id)].requirements.employees!=0,x,ie=re[Te(t[0].id)].revenue_per_week!=0,ae,Ie=Object.values(re[Te(t[0].id)].active_costs).some(bf),Me,Ye=Object.values(re[Te(t[0].id)].generated_resources).some(gf)||re[Te(t[0].id)].knowledge_points_per_month>0,ce;d=new wt({props:{class:"bg-secondary opacity-25 mt-1 mb-1"}});let Le=D&&af(t),He=ie&&uf(t),Fe=Ie&&ff(t),Xe=Ye&&mf(t);return{c(){e=O("div"),n=O("div"),o=O("span"),r=B(i),l=j(),a=O("span"),u=B(s),f=j(),c=O("div"),X(d.$$.fragment),m=j(),p=O("span"),p.textContent="Requirements",h=j(),y=O("div"),C=new on(!1),w=j(),R=new on(!1),N=j(),$=new on(!1),L=j(),V=new on(!1),b=j(),M=new on(!1),W=j(),q=new on(!1),Q=j(),ee=new on(!1),te=j(),ne=new on(!1),_=j(),Le&&Le.c(),x=j(),He&&He.c(),ae=j(),Fe&&Fe.c(),Me=j(),Xe&&Xe.c(),P(o,"class","text-md"),P(a,"class","text-xs"),P(n,"class","flex flex-col gap-2"),P(p,"class","font-semibold"),C.a=w,R.a=N,$.a=L,V.a=b,M.a=W,q.a=Q,ee.a=te,ne.a=_,P(y,"class","flex flex-col gap-1"),P(c,"class","flex flex-col w-36 h-min gap-0 text-xs pb-2"),P(e,"class","p-2")},m(Ae,Se){I(Ae,e,Se),g(e,n),g(n,o),g(o,r),g(n,l),g(n,a),g(a,u),g(e,f),g(e,c),U(d,c,null),g(c,m),g(c,p),g(c,h),g(c,y),C.m(k,y),g(y,w),R.m(F,y),g(y,N),$.m(G,y),g(y,L),V.m(v,y),g(y,b),M.m(E,y),g(y,W),q.m(J,y),g(y,Q),ee.m(Y,y),g(y,te),ne.m(me,y),g(y,_),Le&&Le.m(y,null),g(e,x),He&&He.m(e,null),g(e,ae),Fe&&Fe.m(e,null),g(e,Me),Xe&&Xe.m(e,null),ce=!0},p(Ae,Se){(!ce||Se&1)&&i!==(i=re[Te(Ae[0].id)].title+"")&&le(r,i),(!ce||Se&1)&&s!==(s=re[Te(Ae[0].id)].description+"")&&le(u,s),(!ce||Se&5)&&k!==(k=Ae[3]("💰",re[Te(Ae[0].id)].requirements.gold,Ae[2].townInfo.gold)+"")&&C.p(k),(!ce||Se&5)&&F!==(F=Ae[3]("🥕",re[Te(Ae[0].id)].requirements.resources.food,Ae[2].resources.food)+"")&&R.p(F),(!ce||Se&5)&&G!==(G=Ae[3]("🧠",re[Te(Ae[0].id)].requirements.knowledge,Ae[2].townInfo.knowledge_points)+"")&&$.p(G),(!ce||Se&5)&&v!==(v=Ae[3]("🪵",re[Te(Ae[0].id)].requirements.resources.wood,Ae[2].resources.wood)+"")&&V.p(v),(!ce||Se&5)&&E!==(E=Ae[3]("🪨",re[Te(Ae[0].id)].requirements.resources.stone,Ae[2].resources.stone)+"")&&M.p(E),(!ce||Se&5)&&J!==(J=Ae[3]("🧲",re[Te(Ae[0].id)].requirements.resources.metal,Ae[2].resources.metal)+"")&&q.p(J),(!ce||Se&5)&&Y!==(Y=Ae[3]("🔋",re[Te(Ae[0].id)].active_costs.power,Ae[2].resources.power)+"")&&ee.p(Y),(!ce||Se&5)&&me!==(me=Ae[3]("🧑‍⚖️",re[Te(Ae[0].id)].requirements.resources.bureaucracy,Ae[2].resources.bureaucracy)+"")&&ne.p(me),Se&1&&(D=re[Te(Ae[0].id)].requirements.employees!=0),D?Le?Le.p(Ae,Se):(Le=af(Ae),Le.c(),Le.m(y,null)):Le&&(Le.d(1),Le=null),Se&1&&(ie=re[Te(Ae[0].id)].revenue_per_week!=0),ie?He?(He.p(Ae,Se),Se&1&&A(He,1)):(He=uf(Ae),He.c(),A(He,1),He.m(e,ae)):He&&(Pe(),S(He,1,1,()=>{He=null}),Ne()),Se&1&&(Ie=Object.values(re[Te(Ae[0].id)].active_costs).some(bf)),Ie?Fe?(Fe.p(Ae,Se),Se&1&&A(Fe,1)):(Fe=ff(Ae),Fe.c(),A(Fe,1),Fe.m(e,Me)):Fe&&(Pe(),S(Fe,1,1,()=>{Fe=null}),Ne()),Se&1&&(Ye=Object.values(re[Te(Ae[0].id)].generated_resources).some(gf)||re[Te(Ae[0].id)].knowledge_points_per_month>0),Ye?Xe?(Xe.p(Ae,Se),Se&1&&A(Xe,1)):(Xe=mf(Ae),Xe.c(),A(Xe,1),Xe.m(e,null)):Xe&&(Pe(),S(Xe,1,1,()=>{Xe=null}),Ne())},i(Ae){ce||(A(d.$$.fragment,Ae),A(He),A(Fe),A(Xe),ce=!0)},o(Ae){S(d.$$.fragment,Ae),S(He),S(Fe),S(Xe),ce=!1},d(Ae){Ae&&T(e),K(d),Le&&Le.d(),He&&He.d(),Fe&&Fe.d(),Xe&&Xe.d()}}}function af(t){let e,n,o=re[Te(t[0].id)].requirements.employees+"",i,r,l;return{c(){e=O("span"),n=B("👥 "),i=B(o),r=B(" employees"),P(e,"class",l=re[Te(t[0].id)].requirements.employees>t[2].townInfo.population_count-t[2].townInfo.employees&&t[1]?"px-1 text-textDanger1 font-bold border-2 border-red-400":"")},m(a,s){I(a,e,s),g(e,n),g(e,i),g(e,r)},p(a,s){s&1&&o!==(o=re[Te(a[0].id)].requirements.employees+"")&&le(i,o),s&7&&l!==(l=re[Te(a[0].id)].requirements.employees>a[2].townInfo.population_count-a[2].townInfo.employees&&a[1]?"px-1 text-textDanger1 font-bold border-2 border-red-400":"")&&P(e,"class",l)},d(a){a&&T(e)}}}function uf(t){let e,n,o,i,r,l,a,s=re[Te(t[0].id)].revenue_per_week+"",u,f;return n=new wt({props:{class:"bg-secondary opacity-25 mt-0"}}),{c(){e=O("div"),X(n.$$.fragment),o=j(),i=O("span"),i.textContent="Weekly revenue",r=j(),l=O("span"),a=B("💰 "),u=B(s),P(i,"class","font-semibold"),P(e,"class","flex flex-col gap-1 text-xs")},m(c,d){I(c,e,d),U(n,e,null),g(e,o),g(e,i),g(e,r),g(e,l),g(l,a),g(l,u),f=!0},p(c,d){(!f||d&1)&&s!==(s=re[Te(c[0].id)].revenue_per_week+"")&&le(u,s)},i(c){f||(A(n.$$.fragment,c),f=!0)},o(c){S(n.$$.fragment,c),f=!1},d(c){c&&T(e),K(n)}}}function ff(t){let e,n,o,i,r,l;n=new wt({props:{class:"bg-secondary opacity-25 mt-2"}});let a=Ke(Object.keys(re[Te(t[0].id)].active_costs)),s=[];for(let u=0;u<a.length;u+=1)s[u]=df(lf(t,a,u));return{c(){e=O("div"),X(n.$$.fragment),o=j(),i=O("span"),i.textContent="Weekly Costs",r=j();for(let u=0;u<s.length;u+=1)s[u].c();P(i,"class","font-semibold"),P(e,"class","flex flex-col gap-1 text-xs")},m(u,f){I(u,e,f),U(n,e,null),g(e,o),g(e,i),g(e,r);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(e,null);l=!0},p(u,f){if(f&1){a=Ke(Object.keys(re[Te(u[0].id)].active_costs));let c;for(c=0;c<a.length;c+=1){const d=lf(u,a,c);s[c]?s[c].p(d,f):(s[c]=df(d),s[c].c(),s[c].m(e,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=a.length}},i(u){l||(A(n.$$.fragment,u),l=!0)},o(u){S(n.$$.fragment,u),l=!1},d(u){u&&T(e),K(n),_t(s,u)}}}function cf(t){let e,n=Fn(t[4])+"",o,i,r=pr(t[4])+"",l,a,s=-1*Object.values(re[Te(t[0].id)].active_costs)[t[6]]+"",u,f,c;return{c(){e=O("span"),o=B(n),i=j(),l=B(r),a=j(),u=B(s),f=j(),P(e,"class",c=Object.values(re[Te(t[0].id)].active_costs)[t[6]]>0?"text-textDanger1":"text-textHappyDark")},m(d,m){I(d,e,m),g(e,o),g(e,i),g(e,l),g(e,a),g(e,u),g(e,f)},p(d,m){m&1&&n!==(n=Fn(d[4])+"")&&le(o,n),m&1&&r!==(r=pr(d[4])+"")&&le(l,r),m&1&&s!==(s=-1*Object.values(re[Te(d[0].id)].active_costs)[d[6]]+"")&&le(u,s),m&1&&c!==(c=Object.values(re[Te(d[0].id)].active_costs)[d[6]]>0?"text-textDanger1":"text-textHappyDark")&&P(e,"class",c)},d(d){d&&T(e)}}}function df(t){let e=Object.values(re[Te(t[0].id)].active_costs)[t[6]]!=0,n,o=e&&cf(t);return{c(){o&&o.c(),n=De()},m(i,r){o&&o.m(i,r),I(i,n,r)},p(i,r){r&1&&(e=Object.values(re[Te(i[0].id)].active_costs)[i[6]]!=0),e?o?o.p(i,r):(o=cf(i),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(i){i&&T(n),o&&o.d(i)}}}function mf(t){let e,n,o,i,r,l=re[Te(t[0].id)].knowledge_points_per_month>0,a,s;n=new wt({props:{class:"bg-secondary opacity-25 mt-2"}});let u=l&&pf(t),f=Ke(Object.keys(re[Te(t[0].id)].generated_resources)),c=[];for(let d=0;d<f.length;d+=1)c[d]=_f(rf(t,f,d));return{c(){e=O("div"),X(n.$$.fragment),o=j(),i=O("span"),i.textContent="Generated Resources",r=j(),u&&u.c(),a=j();for(let d=0;d<c.length;d+=1)c[d].c();P(i,"class","font-semibold"),P(e,"class","flex flex-col gap-1 text-xs")},m(d,m){I(d,e,m),U(n,e,null),g(e,o),g(e,i),g(e,r),u&&u.m(e,null),g(e,a);for(let p=0;p<c.length;p+=1)c[p]&&c[p].m(e,null);s=!0},p(d,m){if(m&1&&(l=re[Te(d[0].id)].knowledge_points_per_month>0),l?u?u.p(d,m):(u=pf(d),u.c(),u.m(e,a)):u&&(u.d(1),u=null),m&1){f=Ke(Object.keys(re[Te(d[0].id)].generated_resources));let p;for(p=0;p<f.length;p+=1){const h=rf(d,f,p);c[p]?c[p].p(h,m):(c[p]=_f(h),c[p].c(),c[p].m(e,null))}for(;p<c.length;p+=1)c[p].d(1);c.length=f.length}},i(d){s||(A(n.$$.fragment,d),s=!0)},o(d){S(n.$$.fragment,d),s=!1},d(d){d&&T(e),K(n),u&&u.d(),_t(c,d)}}}function pf(t){let e,n,o=Math.round(re[Te(t[0].id)].knowledge_points_per_month)+"",i,r;return{c(){e=O("span"),n=B("🧠 "),i=B(o),r=B(" (monthly)")},m(l,a){I(l,e,a),g(e,n),g(e,i),g(e,r)},p(l,a){a&1&&o!==(o=Math.round(re[Te(l[0].id)].knowledge_points_per_month)+"")&&le(i,o)},d(l){l&&T(e)}}}function hf(t){let e,n=pr(t[4])+"",o,i,r=Fn(t[4])+"",l,a,s=Ds(Object.values(re[Te(t[0].id)].generated_resources)[t[6]],!1)+"",u,f,c;return{c(){e=O("span"),o=B(n),i=j(),l=B(r),a=j(),u=B(s),f=j(),P(e,"class",c=Object.values(re[Te(t[0].id)].generated_resources)[t[6]]>0?"text-textHappyDark":"text-textDanger1")},m(d,m){I(d,e,m),g(e,o),g(e,i),g(e,l),g(e,a),g(e,u),g(e,f)},p(d,m){m&1&&n!==(n=pr(d[4])+"")&&le(o,n),m&1&&r!==(r=Fn(d[4])+"")&&le(l,r),m&1&&s!==(s=Ds(Object.values(re[Te(d[0].id)].generated_resources)[d[6]],!1)+"")&&le(u,s),m&1&&c!==(c=Object.values(re[Te(d[0].id)].generated_resources)[d[6]]>0?"text-textHappyDark":"text-textDanger1")&&P(e,"class",c)},d(d){d&&T(e)}}}function _f(t){let e=Object.values(re[Te(t[0].id)].generated_resources)[t[6]]!=0,n,o=e&&hf(t);return{c(){o&&o.c(),n=De()},m(i,r){o&&o.m(i,r),I(i,n,r)},p(i,r){r&1&&(e=Object.values(re[Te(i[0].id)].generated_resources)[i[6]]!=0),e?o?o.p(i,r):(o=hf(i),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(i){i&&T(n),o&&o.d(i)}}}function p4(t){let e,n,o=t[0]!=null&&sf(t);return{c(){o&&o.c(),e=De()},m(i,r){o&&o.m(i,r),I(i,e,r),n=!0},p(i,[r]){i[0]!=null?o?(o.p(i,r),r&1&&A(o,1)):(o=sf(i),o.c(),A(o,1),o.m(e.parentNode,e)):o&&(Pe(),S(o,1,1,()=>{o=null}),Ne())},i(i){n||(A(o),n=!0)},o(i){S(o),n=!1},d(i){i&&T(e),o&&o.d(i)}}}function pr(t){switch(t){case"food":return"🥕";case"knowledge":return"🧠";case"wood":return"🪵";case"stone":return"🪨";case"metal":return"🧲";case"power":return"🔋";case"bureaucracy":return"🧑‍⚖️";default:return"💰"}}const gf=t=>t!=0,bf=t=>t!=0;function h4(t,e,n){let o;ue(t,Ee,a=>n(2,o=a));let{option:i}=e,{checkRequirements:r=!0}=e;function l(a,s,u){if(s==0||s==null)return"<span class='hidden'></span>";let f="",c="";return u<s&&r&&(c="text-textDanger1 border-2 border-red-400"),f=`<span class='${c}'>${a} ${s}</span>`,f}return t.$$set=a=>{"option"in a&&n(0,i=a.option),"checkRequirements"in a&&n(1,r=a.checkRequirements)},[i,r,o,l]}class Hd extends we{constructor(e){super(),ye(this,e,h4,p4,de,{option:0,checkRequirements:1})}}function vf(t,e,n){const o=t.slice();return o[25]=e[n],o}function yf(t,e,n){const o=t.slice();return o[28]=e[n],o}function wf(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,p,h=t[5].plots[t[0]][t[1]].type!==-1&&t[12](t[0],t[1]),y,C,k,w,R,F,N={type:"text",autofocus:!0,id:"search-bar",placeholder:"Search Plot Options...",value:t[3],class:"border rounded w-auto bg-white placeholder-black text-black text-xs"};a=new Zl({props:N}),t[16](a),a.$on("input",t[10]);let $=h&&kf(t),G=Ke(t[6].isMineralSource||t[3].length>0?[1]:We("tree_farm",t[5]).length!=0?[1,2,3,4]:[1]),L=[];for(let v=0;v<G.length;v+=1)L[v]=Pf(vf(t,G,v));const V=v=>S(L[v],1,1,()=>{L[v]=null});return{c(){e=O("div"),n=O("div"),o=O("div"),i=O("div"),r=O("div"),l=O("div"),X(a.$$.fragment),s=j(),u=O("div"),f=O("input"),c=j(),d=O("label"),d.textContent="Buildable",m=j(),p=O("div"),$&&$.c(),y=j(),C=O("div");for(let v=0;v<L.length;v+=1)L[v].c();P(l,"class","flex items-end "),P(f,"type","checkbox"),P(f,"id","toggle-affordable"),P(f,"class","rounded"),f.checked=t[7],P(d,"for","toggle-affordable"),P(d,"class","ml-2 no-select cursor-pointer "),P(u,"class","flex items-center ml-4"),P(p,"class","flex justify-end ml-6"),P(r,"class","flex flex-row w-full "),P(i,"class","text-sm"),P(C,"class",k="flex flex-col "+(t[6].isMineralSource||t[3].length>0?"gap-0 pt-0":"gap-4")+" w-full overflow-y-scroll h-72 pb-24"),P(o,"class","flex flex-col gap-2 px-2 justify-end"),P(n,"class","text-xl items-center justify-center w-[90%] align-bottom bg-foreground border-4 border-gray-400 shadow-2xl rounded-t-xl py-2 "),P(e,"class","w-[100vw] fixed bottom-0 h-["+t[9]+"] p-1 z-50 flex flex-col justify-center text-center items-center")},m(v,b){I(v,e,b),g(e,n),g(n,o),g(o,i),g(i,r),g(r,l),U(a,l,null),g(r,s),g(r,u),g(u,f),g(u,c),g(u,d),g(r,m),g(r,p),$&&$.m(p,null),g(o,y),g(o,C);for(let M=0;M<L.length;M+=1)L[M]&&L[M].m(C,null);w=!0,R||(F=[z(f,"change",t[17]),z(o,"click",t[11])],R=!0)},p(v,b){const M={};if(b[0]&8&&(M.value=v[3]),a.$set(M),(!w||b[0]&128)&&(f.checked=v[7]),b[0]&35&&(h=v[5].plots[v[0]][v[1]].type!==-1&&v[12](v[0],v[1])),h?$?$.p(v,b):($=kf(v),$.c(),$.m(p,null)):$&&($.d(1),$=null),b[0]&120){G=Ke(v[6].isMineralSource||v[3].length>0?[1]:We("tree_farm",v[5]).length!=0?[1,2,3,4]:[1]);let E;for(E=0;E<G.length;E+=1){const W=vf(v,G,E);L[E]?(L[E].p(W,b),A(L[E],1)):(L[E]=Pf(W),L[E].c(),A(L[E],1),L[E].m(C,null))}for(Pe(),E=G.length;E<L.length;E+=1)V(E);Ne()}(!w||b[0]&72&&k!==(k="flex flex-col "+(v[6].isMineralSource||v[3].length>0?"gap-0 pt-0":"gap-4")+" w-full overflow-y-scroll h-72 pb-24"))&&P(C,"class",k)},i(v){if(!w){A(a.$$.fragment,v);for(let b=0;b<G.length;b+=1)A(L[b]);w=!0}},o(v){S(a.$$.fragment,v),L=L.filter(Boolean);for(let b=0;b<L.length;b+=1)S(L[b]);w=!1},d(v){v&&T(e),t[16](null),K(a),$&&$.d(),_t(L,v),R=!1,je(F)}}}function kf(t){let e,n,o;return{c(){e=O("button"),e.textContent="❌ Bulldoze",P(e,"id","bulldoze"),P(e,"class","px-2 py-2 bg-red-500 rounded hover:bg-red-600 transition duration-300 ease-in-out")},m(i,r){I(i,e,r),n||(o=z(e,"click",t[13]),n=!0)},p:Ce,d(i){i&&T(e),n=!1,o()}}}function Cf(t){let e,n,o=t[25]+"",i;return{c(){e=O("div"),n=B("Level "),i=B(o),P(e,"class","text-sm font-extralight pb-3")},m(r,l){I(r,e,l),g(e,n),g(e,i)},p(r,l){l[0]&104&&o!==(o=r[25]+"")&&le(i,o)},d(r){r&&T(e)}}}function Af(t){let e,n,o=t[28].active_costs.power+"",i;return{c(){e=O("span"),n=B("🔋"),i=B(o),P(e,"class","bg-yellow-300 text-xs text-black tex px-1 py-0.5 rounded-2xl absolute top-[-5px] right-[-2px]")},m(r,l){I(r,e,l),g(e,n),g(e,i)},p(r,l){l[0]&120&&o!==(o=r[28].active_costs.power+"")&&le(i,o)},d(r){r&&T(e)}}}function Sf(t){let e,n,o=We(t[28].id,t[5]).length+"",i;return{c(){e=O("span"),n=B("x"),i=B(o),P(e,"class","bg-black text-xs text-white tex px-1 py-0.5 rounded-2xl absolute top-[-5px] left-[-2px]")},m(r,l){I(r,e,l),g(e,n),g(e,i)},p(r,l){l[0]&120&&o!==(o=We(r[28].id,r[5]).length+"")&&le(i,o)},d(r){r&&T(e)}}}function Tf(t){let e,n,o=xt(t[28].revenue_per_week,!1)+"",i,r;return{c(){e=O("br"),n=B(`
                            Makes 💰 `),i=B(o),r=B("/week")},m(l,a){I(l,e,a),I(l,n,a),I(l,i,a),I(l,r,a)},p(l,a){a[0]&120&&o!==(o=xt(l[28].revenue_per_week,!1)+"")&&le(i,o)},d(l){l&&(T(e),T(n),T(i),T(r))}}}function If(t){let e,n,o=xt(t[28].requirements.employees,!1)+"",i;return{c(){e=O("br"),n=B(`
                            Employs `),i=B(o)},m(r,l){I(r,e,l),I(r,n,l),I(r,i,l)},p(r,l){l[0]&120&&o!==(o=xt(r[28].requirements.employees,!1)+"")&&le(i,o)},d(r){r&&(T(e),T(n),T(i))}}}function _4(t){let e,n,o,i=(t[28].selected?"✅":Ls(t[28].title))+"",r,l,a,s=t[28].title.substring(2)+"",u,f,c,d=We(t[28].id,t[5]).length>0,m,p,h,y=xt(t[28].requirements.gold,!1)+"",C,k,w,R,F,N,$=t[28].active_costs.power>0&&Af(t),G=d&&Sf(t),L=t[28].revenue_per_week>0&&Tf(t),V=t[28].requirements.employees>0&&If(t);return{c(){e=O("div"),n=O("div"),o=O("span"),r=B(i),l=j(),a=O("span"),u=B(s),f=j(),$&&$.c(),c=j(),G&&G.c(),m=j(),p=O("span"),h=B("Costs 💰 "),C=B(y),k=j(),L&&L.c(),w=j(),V&&V.c(),P(o,"class","text-md text-center"),P(a,"class","text-xs text-center font-bold mx-1"),P(n,"class","pt-2"),P(p,"style",R=t[28].styling),P(p,"class","text-xs text-center pt-4"),P(e,"class",F="plotOption cursor-pointer min-w-40 "+(t[6].isMineralSource||t[3].length>0?"mx-1 my-2":"")+" relative h-[120px] rounded-xl flex flex-col align-middle transition-all duration-100 "+(t[28].affordable||t[28].selected?"cursor-pointer":"opacity-40 cursor-not-allowed ")+" "+(t[28].selected?"border-4 border-yellow-200 opacity-100 rounded-none":"")),P(e,"data-plotoptionid",N=t[28].id),xe(e,"background-color",Yi(Te(t[28].id),!0))},m(v,b){I(v,e,b),g(e,n),g(n,o),g(o,r),g(n,l),g(n,a),g(a,u),g(e,f),$&&$.m(e,null),g(e,c),G&&G.m(e,null),g(e,m),g(e,p),g(p,h),g(p,C),g(p,k),L&&L.m(p,null),g(p,w),V&&V.m(p,null)},p(v,b){b[0]&120&&i!==(i=(v[28].selected?"✅":Ls(v[28].title))+"")&&le(r,i),b[0]&120&&s!==(s=v[28].title.substring(2)+"")&&le(u,s),v[28].active_costs.power>0?$?$.p(v,b):($=Af(v),$.c(),$.m(e,c)):$&&($.d(1),$=null),b[0]&120&&(d=We(v[28].id,v[5]).length>0),d?G?G.p(v,b):(G=Sf(v),G.c(),G.m(e,m)):G&&(G.d(1),G=null),b[0]&120&&y!==(y=xt(v[28].requirements.gold,!1)+"")&&le(C,y),v[28].revenue_per_week>0?L?L.p(v,b):(L=Tf(v),L.c(),L.m(p,w)):L&&(L.d(1),L=null),v[28].requirements.employees>0?V?V.p(v,b):(V=If(v),V.c(),V.m(p,null)):V&&(V.d(1),V=null),b[0]&120&&R!==(R=v[28].styling)&&P(p,"style",R),b[0]&120&&F!==(F="plotOption cursor-pointer min-w-40 "+(v[6].isMineralSource||v[3].length>0?"mx-1 my-2":"")+" relative h-[120px] rounded-xl flex flex-col align-middle transition-all duration-100 "+(v[28].affordable||v[28].selected?"cursor-pointer":"opacity-40 cursor-not-allowed ")+" "+(v[28].selected?"border-4 border-yellow-200 opacity-100 rounded-none":""))&&P(e,"class",F),b[0]&120&&N!==(N=v[28].id)&&P(e,"data-plotoptionid",N),b[0]&120&&xe(e,"background-color",Yi(Te(v[28].id),!0))},d(v){v&&T(e),$&&$.d(),G&&G.d(),L&&L.d(),V&&V.d()}}}function g4(t){let e,n;return e=new Hd({props:{option:t[28]}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const r={};i[0]&120&&(r.option=o[28]),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function b4(t){let e,n,o,i;return e=new $o({props:{$$slots:{default:[_4]},$$scope:{ctx:t}}}),o=new No({props:{$$slots:{default:[g4]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=j(),X(o.$$.fragment)},m(r,l){U(e,r,l),I(r,n,l),U(o,r,l),i=!0},p(r,l){const a={};l[0]&120|l[1]&1&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l[0]&120|l[1]&1&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),K(e,r),K(o,r)}}}function Mf(t,e){let n,o,i;return o=new Eo({props:{openDelay:400,closeDelay:0,$$slots:{default:[b4]},$$scope:{ctx:e}}}),{key:t,first:null,c(){n=De(),X(o.$$.fragment),this.first=n},m(r,l){I(r,n,l),U(o,r,l),i=!0},p(r,l){e=r;const a={};l[0]&120|l[1]&1&&(a.$$scope={dirty:l,ctx:e}),o.$set(a)},i(r){i||(A(o.$$.fragment,r),i=!0)},o(r){S(o.$$.fragment,r),i=!1},d(r){r&&T(n),K(o,r)}}}function Of(t){let e;return{c(){e=O("span"),e.textContent="No plots available!",P(e,"class","text-sm pt-2")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Pf(t){let e,n,o,i=[],r=new Map,l,a=t[4].filter(c).length===0&&t[3].length==0&&!t[6].isMineralSource,s,u,f;function c(...C){return t[15](t[25],...C)}let d=t[3].length==0&&!t[6].isMineralSource&&Cf(t);function m(...C){return t[18](t[25],...C)}let p=Ke(t[3].length==0&&!t[6].isMineralSource?t[4].filter(m):t[4]);const h=C=>C[28].id;for(let C=0;C<p.length;C+=1){let k=yf(t,p,C),w=h(k);r.set(w,i[C]=Mf(w,k))}let y=a&&Of();return{c(){e=O("div"),d&&d.c(),n=j(),o=O("div");for(let C=0;C<i.length;C+=1)i[C].c();l=j(),y&&y.c(),u=j(),P(o,"class",s="flex flex-row text-start justify-start items-start flex-wrap "+(t[6].isMineralSource||t[3].length>0?"pt-0 gap-0":"pt-2 gap-4")+" w-full align-middle")},m(C,k){I(C,e,k),d&&d.m(e,null),g(e,n),g(e,o);for(let w=0;w<i.length;w+=1)i[w]&&i[w].m(o,null);g(o,l),y&&y.m(o,null),g(e,u),f=!0},p(C,k){t=C,t[3].length==0&&!t[6].isMineralSource?d?d.p(t,k):(d=Cf(t),d.c(),d.m(e,n)):d&&(d.d(1),d=null),k[0]&120&&(p=Ke(t[3].length==0&&!t[6].isMineralSource?t[4].filter(m):t[4]),Pe(),i=dm(i,k,h,1,t,p,r,o,cm,Mf,l,yf),Ne()),k[0]&120&&(a=t[4].filter(c).length===0&&t[3].length==0&&!t[6].isMineralSource),a?y||(y=Of(),y.c(),y.m(o,null)):y&&(y.d(1),y=null),(!f||k[0]&72&&s!==(s="flex flex-row text-start justify-start items-start flex-wrap "+(t[6].isMineralSource||t[3].length>0?"pt-0 gap-0":"pt-2 gap-4")+" w-full align-middle"))&&P(o,"class",s)},i(C){if(!f){for(let k=0;k<p.length;k+=1)A(i[k]);f=!0}},o(C){for(let k=0;k<i.length;k+=1)S(i[k]);f=!1},d(C){C&&T(e),d&&d.d();for(let k=0;k<i.length;k+=1)i[k].d();y&&y.d()}}}function v4(t){let e,n,o=t[2]&&wf(t);return{c(){o&&o.c(),e=De()},m(i,r){o&&o.m(i,r),I(i,e,r),n=!0},p(i,r){i[2]?o?(o.p(i,r),r[0]&4&&A(o,1)):(o=wf(i),o.c(),A(o,1),o.m(e.parentNode,e)):o&&(Pe(),S(o,1,1,()=>{o=null}),Ne())},i(i){n||(A(o),n=!0)},o(i){S(o),n=!1},d(i){i&&T(e),o&&o.d(i)}}}function y4(t,e,n){let o,i,r;ue(t,Ee,v=>n(5,o=v)),ue(t,et,v=>n(6,i=v)),ue(t,gc,v=>n(7,r=v));let{x:l=0}=e,{y:a=0}=e,{open:s=!1}=e,{tooltip:u=""}=e,f="",c=re,d;const m=Math.round(window.innerHeight*.2)+"px";let p=c.map(v=>Object.assign(Object.assign({},v),{affordable:C(v,o),selected:y(v)}));function h(v){n(3,f=v.target.value||"")}function y(v){return o.plots[l][a].type>-1?c[o.plots[l][a].type].id===v.id:!1}function C(v,b){let M=!0;v.requirements.gold>b.townInfo.gold&&(M=!1);let E=b.townInfo.population_count-b.townInfo.employees;return v.requirements.employees!==void 0&&v.requirements.employees>0&&v.requirements.employees>E&&(M=!1),v.requirements.knowledge!==void 0&&v.requirements.knowledge>b.townInfo.knowledge_points&&(M=!1),v.requirements.resources!==void 0&&Object.keys(v.requirements.resources).forEach(W=>{v.requirements.resources[W]!=0&&o.resources[W]<v.requirements.resources[W]&&(M=!1)}),M}function k(v){const b=v.target.closest(".plotOption");if(b){const M=b.dataset.plotoptionid;w(M)}}function w(v){document.querySelectorAll(".plotOption").forEach(E=>{E.classList.remove("active")});const M=document.querySelector(`[data-plotoptionid="${v}"]`);M&&(M.classList.add("active"),F(l,a,v))}function R(v,b){if(o.liege_location!=null&&v==o.liege_location[0]&&b==o.liege_location[1]||i.isMineralSource)return!1;let M=0;return v>0&&o.plots[v-1][b].type!==-1&&M++,v<o.plots.length-1&&o.plots[v+1][b].type!==-1&&M++,b>0&&o.plots[v][b-1].type!==-1&&M++,b<o.plots[0].length-1&&o.plots[v][b+1].type!==-1&&M++,M<=4}function F(v,b,M){let E=o;const W=re.findIndex(Y=>Y.id===M),q=Object.entries(re[W].requirements).map(([Y,te])=>`<li>${Fn(Y)}: ${te}</li>`);let J=re[W];if(C(J,o)==!1)return Ot.set(`You can not afford this.
        <br/><br/>
        ${q}`);if(J.requirements.adjacent_plots!==void 0){let Y=J.requirements.adjacent_plots;if(sp(v,b,E,J.requirements.adjacent_plots)===!1)return Ot.set(`This plot requires adjacent plots of type: ${Y.join(", ")}`)}let Q=!0;if((J.requirements.gold>E.townInfo.gold||J.requirements.employees>E.townInfo.population_count-E.townInfo.employees)&&(Q=!1),J.requirements.size!=null&&J.requirements.size!=1&&Q){let me=function(_,D){let x={x:_,y:D};return x.x===0&&x.y===0?!0:[{x:x.x-1,y:x.y},{x:x.x+1,y:x.y},{x:x.x,y:x.y-1},{x:x.x,y:x.y+1}].some(ae=>ae.x<0||ae.x>o.plots.length-1||ae.y<0||ae.y>o.plots.length-1?!1:o.plots[ae.x][ae.y].active)};var ee=me;let Y=J.requirements.size,te=[],ne=c[W].title.toLowerCase().indexOf("school")!=-1;for(let _=0;_<4;_++){let D=[[v,b]];_===0?(D.push([v-(Y-1),b-(Y-1)]),D.push([v-(Y-1),b]),D.push([v,b-(Y-1)])):_===1?(D.push([v,b-(Y-1)]),D.push([v+(Y-1),b-(Y-1)]),D.push([v+(Y-1),b])):_===2?(D.push([v-(Y-1),b]),D.push([v-(Y-1),b+(Y-1)]),D.push([v,b+(Y-1)])):_===3&&(D.push([v,b+(Y-1)]),D.push([v+(Y-1),b+(Y-1)]),D.push([v+(Y-1),b])),te.push(D)}te=te.filter(_=>_.every(D=>D[0]>=0&&D[0]<=E.plots.length-1&&D[1]>=0&&D[1]<=E.plots.length-1&&!E.plots[D[0]][D[1]].active&&me(D[0],D[1])==!0)),te.length===0?Q=!1:te.length>0&&te[0].forEach(D=>{E.plots[D[0]][D[1]].active=!0,E.plots[D[0]][D[1]].type=ne?-3:-2,E.plots[D[0]][D[1]].referencePlot=[v,b]})}if(Q===!0){if(E.plots[v][b].type!==-1&&Ui(v,b,E),n(14,u=""),E.plots[v][b].type=W,E.plots[v][b].active=!0,E.plots[v][b].referencePlot=[],E.plots[v][b].typeId=J.id,E.townInfo.gold-=J.requirements.gold,E.townInfo.gold=ft(E.townInfo.gold,2),E.townInfo.population_count+=J.immediate_variable_changes.population,E.townInfo.population_max+=J.immediate_variable_changes.population,E.townInfo.happiness+=J.immediate_variable_changes.happiness,E.townInfo.health+=J.immediate_variable_changes.health,E.modifiers.happiness=ft(E.modifiers.happiness*J.effect_modifiers.happiness,2),E.modifiers.health=ft(E.modifiers.health*J.effect_modifiers.health,2),E.modifiers.community=ft(E.modifiers.community*J.effect_modifiers.community,2),E.townInfo.employees+=J.requirements.employees,(E.plotCounts[W]===void 0||E.plotCounts[W]===null)&&(E.plotCounts[W]=0),E.plotCounts[W]++,E.lastChangeDay=E.environment.day,J.requirements.resources!==void 0){const te=J.requirements.resources;E.resources.food-=te.food,E.resources.wood-=te.wood,E.resources.stone-=te.stone,E.resources.metal-=te.metal}switch(J.id){case"city_hall":E.hasCityHall=!0;break;case"bank":E.hasBank=!0;break}Ee.set(E),localStorage.setItem(Gt,JSON.stringify(E));let Y=!1;for(let te=v;te<E.plots.length;te++){for(let ne=b;ne<E.plots[te].length;ne++)if(E.plots[te][ne].active===!1&&E.plots[te][ne].mineralSource==!1&&E.plots[te][ne].water==!1){v=te,b=ne,Y=!0;break}if(Y)break}Oe(et,i.x=v,i),Oe(et,i.y=b,i)}else n(14,u="You do not have enough resources to purchase this plot. If it's a 'Large' plot, make sure you have a 2x2 area available. "),document.querySelectorAll(".plotOption").forEach(te=>{te.classList.remove("active")})}function N(){document.querySelectorAll(".plotOption").forEach(b=>{b.classList.remove("active")}),Ui(l,a,o)}const $=(v,b)=>b.level===v;function G(v){$e[v?"unshift":"push"](()=>{d=v,n(8,d)})}const L=()=>{Cm()},V=(v,b)=>b.level===v;return t.$$set=v=>{"x"in v&&n(0,l=v.x),"y"in v&&n(1,a=v.y),"open"in v&&n(2,s=v.open),"tooltip"in v&&n(14,u=v.tooltip)},t.$$.update=()=>{t.$$.dirty[0]&240&&o&&(n(4,p=c.map(v=>Object.assign(Object.assign({},v),{affordable:C(v,o),selected:y(v)}))),We("tree_farm",o).length===0&&n(4,p=p.filter(v=>v.id==="small_homes"||v.id==="farm"||v.id==="tree_farm")),i.isMineralSource&&n(4,p=p.filter(v=>v.id==="mine")),r&&n(4,p=p.filter(v=>v.affordable)),Object.keys(Os).forEach(v=>{let b=Os[v];if(b>0){let M=We(v,o).length;n(4,p=p.filter(E=>E.id!==v||M<b))}}),p.sort((v,b)=>v.selected&&!b.selected?-1:0)),t.$$.dirty[0]&24&&n(4,p=p.filter(v=>v.title.toLowerCase().includes(f.toLowerCase())))},[l,a,s,f,p,o,i,r,d,m,h,k,R,N,u,$,G,L,V]}class Vd extends we{constructor(e){super(),ye(this,e,y4,v4,de,{x:0,y:1,open:2,tooltip:14},null,[-1,-1])}}function w4(t){let e,n,o;return{c(){e=O("span"),n=B("My liege, if you build a City Hall, you can expand your city "),o=B(t[0]),P(e,"class","text-xs")},m(i,r){I(i,e,r),g(e,n),g(e,o)},p(i,r){r&1&&le(o,i[0])},i:Ce,o:Ce,d(i){i&&T(e)}}}function k4(t){let e,n;return e=new yt({props:{class:"bg-button h-max rounded-2xl hover:scale-110 transition-transform duration-200 ease-in-out hover:drop-shadow-2xl",$$slots:{default:[C4]},$$scope:{ctx:t}}}),e.$on("click",t[2]),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const r={};i&11&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function C4(t){let e,n,o,i,r,l=t[0].toUpperCase()+"",a,s,u,f,c,d,m,p,h,y,C,k=Math.round(Math.pow(1.5,t[1].kingdom_expansions+5))+"",w,R,F,N;return{c(){e=O("div"),n=B("spanMy liege, you can expand your "),o=O("br"),i=B(`kingdom
        `),r=O("span"),a=B(l),s=B(`
        using
        `),u=O("br"),f=B(`your
        `),c=O("span"),c.textContent="City Hall",d=B("!"),m=O("br"),p=O("br"),h=j(),y=O("span"),C=B("Requires "),w=B(k),R=B(` Guardians
          `),F=O("br"),N=B("to be employed. (see city mgmt menu)"),P(r,"class","font-extrabold text-blue-200"),P(c,"class","text-blue-200 bold"),P(y,"class","opacity-75 text-xs")},m($,G){I($,e,G),g(e,n),g(e,o),g(e,i),g(e,r),g(r,a),g(e,s),g(e,u),g(e,f),g(e,c),g(e,d),g(e,m),g(e,p),g(e,h),g(e,y),g(y,C),g(y,w),g(y,R),g(y,F),g(y,N)},p($,G){G&1&&l!==(l=$[0].toUpperCase()+"")&&le(a,l),G&2&&k!==(k=Math.round(Math.pow(1.5,$[1].kingdom_expansions+5))+"")&&le(w,k)},d($){$&&T(e)}}}function A4(t){let e,n,o,i,r;const l=[k4,w4],a=[];function s(u,f){return f&2&&(n=null),n==null&&(n=We("city_hall",u[1]).length>0),n?0:1}return o=s(t,-1),i=a[o]=l[o](t),{c(){e=O("div"),i.c(),P(e,"class","w-48 h-max")},m(u,f){I(u,e,f),a[o].m(e,null),r=!0},p(u,[f]){let c=o;o=s(u,f),o===c?a[o].p(u,f):(Pe(),S(a[c],1,1,()=>{a[c]=null}),Ne(),i=a[o],i?i.p(u,f):(i=a[o]=l[o](u),i.c()),A(i,1),i.m(e,null))},i(u){r||(A(i),r=!0)},o(u){S(i),r=!1},d(u){u&&T(e),a[o].d()}}}function S4(t,e,n){let o;ue(t,Ee,l=>n(1,o=l));let{direction:i}=e;const r=()=>{const l=km(o,i);l&&Ot.set(l)};return t.$$set=l=>{"direction"in l&&n(0,i=l.direction)},[i,o,r]}class Nf extends we{constructor(e){super(),ye(this,e,S4,A4,de,{direction:0})}}function T4(t){return{c:Ce,m:Ce,p:Ce,d:Ce}}function I4(t){let e,n,o,i=re[t[0].type].title.substring(0,2)+"",r,l,a,s,u,f=re[t[0].type].title.substring(2)+"",c,d,m,p;return{c(){e=O("div"),n=O("span"),o=O("span"),r=B(i),l=j(),a=O("br"),s=j(),u=O("span"),c=B(f),P(o,"class","text-lg align-text-top select-none"),P(u,"class","text-xs align-text-top font-normal text-black from-stone-600 select-none"),P(n,"data-size",d=re[t[0].type].requirements.size),P(n,"data-x",m=t[0].x),P(n,"data-y",p=t[0].y),P(e,"class","svelte-9dbw4v")},m(h,y){I(h,e,y),g(e,n),g(n,o),g(o,r),g(n,l),g(n,a),g(n,s),g(n,u),g(u,c)},p(h,y){y&1&&i!==(i=re[h[0].type].title.substring(0,2)+"")&&le(r,i),y&1&&f!==(f=re[h[0].type].title.substring(2)+"")&&le(c,f),y&1&&d!==(d=re[h[0].type].requirements.size)&&P(n,"data-size",d),y&1&&m!==(m=h[0].x)&&P(n,"data-x",m),y&1&&p!==(p=h[0].y)&&P(n,"data-y",p)},d(h){h&&T(e)}}}function Ef(t){let e;return{c(){e=O("span"),e.textContent="🧲",P(e,"class","text-lg")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function $f(t){let e;return{c(){e=O("span"),e.textContent="👑",P(e,"class","text-xl absolute top-0")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function M4(t){let e,n,o,i=t[7](t[0].x,t[0].y),r,l,a,s,u,f,c,d,m,p,h,y,C,k,w,R,F,N;function $(b,M){if(b[0].type>-1)return I4;if(b[0].type==-1&&b[0].x==0&&b[0].y==0)return T4}let G=$(t),L=G&&G(t),V=t[0].mineralSource&&t[0].type==-1&&Ef(),v=i&&$f();return{c(){e=O("button"),L&&L.c(),n=j(),V&&V.c(),o=j(),v&&v.c(),P(e,"class",r="plot_container "+t[1]+" overflow-visible "+(t[0].type==-1&&t[2]==!1,"")+" "+(t[0].mineralSource?"hidden":"")+" "+(t[2]?"cursor-pointer":"cursor-not-allowed")+" "+(t[0].disabled?"animate-spin":"")+" svelte-9dbw4v"),xe(e,"background-color",t[0].water?"bg-blue-900 opacity-100":t[4].x==t[0].x&&t[4].y==t[0].y&&t[4].visible?"white":t[0].mineralSource?"black":Yi(t[0].type,t[2])),P(e,"data-active",l=t[0].active),P(e,"data-hidehoveranimation",a=t[4].visible||t[0].type==-1&&t[0].x==0&&t[0].y==0),P(e,"data-id",s=t[0].id),P(e,"data-x",u=t[0].x),P(e,"data-y",f=t[0].y),P(e,"data-optionindex",c=t[0].optionIndex),P(e,"data-canbeupgraded",t[2]),P(e,"data-type",d=t[0].type),P(e,"data-type-id",m=t[0].typeId),P(e,"data-refplotx",p=t[0].referencePlot!==void 0?t[0].referencePlot[1]:null),P(e,"data-refploty",h=t[0].referencePlot!==void 0?t[0].referencePlot[0]:null),P(e,"data-size",y=t[0].type>-1?re[t[0].type].requirements.size:null),P(e,"data-mineralsource",C=t[0].mineralSource),P(e,"data-water",k=t[0].water),P(e,"data-nearwater",w=Bn(t[0].x,t[0].y,t[5])),P(e,"data-liegelocation",R=t[7](t[0].x,t[0].y))},m(b,M){I(b,e,M),L&&L.m(e,null),g(e,n),V&&V.m(e,null),g(e,o),v&&v.m(e,null),F||(N=z(e,"click",function(){cn(t[0].water?null:t[6]?Ns(t[0].x,t[0].y,t[5]):t[8])&&(t[0].water?null:t[6]?Ns(t[0].x,t[0].y,t[5]):t[8]).apply(this,arguments)}),F=!0)},p(b,M){t=b,G===(G=$(t))&&L?L.p(t,M):(L&&L.d(1),L=G&&G(t),L&&(L.c(),L.m(e,n))),t[0].mineralSource&&t[0].type==-1?V||(V=Ef(),V.c(),V.m(e,o)):V&&(V.d(1),V=null),M&1&&(i=t[7](t[0].x,t[0].y)),i?v||(v=$f(),v.c(),v.m(e,null)):v&&(v.d(1),v=null),M&7&&r!==(r="plot_container "+t[1]+" overflow-visible "+(t[0].type==-1&&t[2]==!1,"")+" "+(t[0].mineralSource?"hidden":"")+" "+(t[2]?"cursor-pointer":"cursor-not-allowed")+" "+(t[0].disabled?"animate-spin":"")+" svelte-9dbw4v")&&P(e,"class",r),M&21&&xe(e,"background-color",t[0].water?"bg-blue-900 opacity-100":t[4].x==t[0].x&&t[4].y==t[0].y&&t[4].visible?"white":t[0].mineralSource?"black":Yi(t[0].type,t[2])),M&1&&l!==(l=t[0].active)&&P(e,"data-active",l),M&17&&a!==(a=t[4].visible||t[0].type==-1&&t[0].x==0&&t[0].y==0)&&P(e,"data-hidehoveranimation",a),M&1&&s!==(s=t[0].id)&&P(e,"data-id",s),M&1&&u!==(u=t[0].x)&&P(e,"data-x",u),M&1&&f!==(f=t[0].y)&&P(e,"data-y",f),M&1&&c!==(c=t[0].optionIndex)&&P(e,"data-optionindex",c),M&4&&P(e,"data-canbeupgraded",t[2]),M&1&&d!==(d=t[0].type)&&P(e,"data-type",d),M&1&&m!==(m=t[0].typeId)&&P(e,"data-type-id",m),M&1&&p!==(p=t[0].referencePlot!==void 0?t[0].referencePlot[1]:null)&&P(e,"data-refplotx",p),M&1&&h!==(h=t[0].referencePlot!==void 0?t[0].referencePlot[0]:null)&&P(e,"data-refploty",h),M&1&&y!==(y=t[0].type>-1?re[t[0].type].requirements.size:null)&&P(e,"data-size",y),M&1&&C!==(C=t[0].mineralSource)&&P(e,"data-mineralsource",C),M&1&&k!==(k=t[0].water)&&P(e,"data-water",k),M&33&&w!==(w=Bn(t[0].x,t[0].y,t[5]))&&P(e,"data-nearwater",w),M&1&&R!==(R=t[7](t[0].x,t[0].y))&&P(e,"data-liegelocation",R)},d(b){b&&T(e),L&&L.d(),V&&V.d(),v&&v.d(),F=!1,N()}}}function Rf(t){let e;return{c(){e=B("Water - Place farms nearby for more food & revenue!")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Lf(t){let e;return{c(){e=O("span"),e.textContent="Near water - Generating more food & revenue!",P(e,"class","text-xs bg-blue-500 text-white p-1")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Df(t){let e,n;return e=new Hd({props:{option:t[3],checkRequirements:!1}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const r={};i&8&&(r.option=o[3]),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function O4(t){let e,n,o=Bn(t[0].x,t[0].y,t[5]),i,r,l=t[0].water&&Rf(),a=o&&Lf(),s=t[0].active&&Df(t);return{c(){e=O("div"),l&&l.c(),n=j(),a&&a.c(),i=j(),s&&s.c(),P(e,"class","flex flex-col gap-2")},m(u,f){I(u,e,f),l&&l.m(e,null),g(e,n),a&&a.m(e,null),g(e,i),s&&s.m(e,null),r=!0},p(u,f){u[0].water?l||(l=Rf(),l.c(),l.m(e,n)):l&&(l.d(1),l=null),f&33&&(o=Bn(u[0].x,u[0].y,u[5])),o?a||(a=Lf(),a.c(),a.m(e,i)):a&&(a.d(1),a=null),u[0].active?s?(s.p(u,f),f&1&&A(s,1)):(s=Df(u),s.c(),A(s,1),s.m(e,null)):s&&(Pe(),S(s,1,1,()=>{s=null}),Ne())},i(u){r||(A(s),r=!0)},o(u){S(s),r=!1},d(u){u&&T(e),l&&l.d(),a&&a.d(),s&&s.d()}}}function P4(t){let e,n,o,i;return e=new $o({props:{$$slots:{default:[M4]},$$scope:{ctx:t}}}),o=new No({props:{class:t[0].type<0&&!t[0].water?"hidden":"",$$slots:{default:[O4]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=j(),X(o.$$.fragment)},m(r,l){U(e,r,l),I(r,n,l),U(o,r,l),i=!0},p(r,l){const a={};l&4215&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&1&&(s.class=r[0].type<0&&!r[0].water?"hidden":""),l&4137&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),K(e,r),K(o,r)}}}function N4(t){let e,n;return e=new Eo({props:{openDelay:400,closeDelay:0,$$slots:{default:[P4]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,[i]){const r={};i&4223&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function E4(t,e,n){let o,i,r,l,a;ue(t,et,h=>n(4,o=h)),ue(t,Ee,h=>n(5,i=h)),ue(t,$t,h=>n(10,r=h)),ue(t,bo,h=>n(11,l=h)),ue(t,vo,h=>n(6,a=h));let{data:s={id:0,active:!1,x:0,y:0,type:-1,styling:"",referencePlot:[],mineralSource:!1,disabled:!1,water:!1}}=e,u,{classText:f=""}=e,{canBeUpgraded:c=!1}=e;const d=(h,y)=>i.liege_location!=null&&h==i.liege_location[0]&&y==i.liege_location[1];function m(h,y,C){let k=document.querySelectorAll(".plot_container");if(r==!1){if(s.referencePlot!=null&&s.referencePlot[0]!==null&&y==null&&C==null&&s.referencePlot[1]!==void 0)return m(h,s.referencePlot[0],s.referencePlot[1]);!s.active&&!c?(Oe(bo,l={},l),Oe(et,o.visible=!1,o),k.forEach(w=>{w.classList.remove("selected")})):(y!=null&&C!=null?(Oe(et,o.x=y,o),Oe(et,o.y=C,o)):(Oe(et,o.x=s.x,o),Oe(et,o.y=s.y,o)),Oe(et,o.isMineralSource=s.mineralSource,o),Oe(et,o.visible=!0,o),k.forEach(w=>{w.classList.remove("selected")}),y!=null&&C!=null?document.querySelector(`.plot_container[data-x="${y}"][data-y="${C}"]`).classList.add("selected"):document.querySelector(`.plot_container[data-id="${s.id}"]`).classList.add("selected"))}}function p(h){r==!1&&(Oe(Ee,i.plots[s.x][s.y].type=h,i),Oe(et,o.visible=!1,o))}return t.$$set=h=>{"data"in h&&n(0,s=h.data),"classText"in h&&n(1,f=h.classText),"canBeUpgraded"in h&&n(2,c=h.canBeUpgraded)},t.$$.update=()=>{t.$$.dirty&1&&s.type>-1&&n(3,u=re[s.type])},[s,f,c,u,o,i,a,d,m,p]}class $4 extends we{constructor(e){super(),ye(this,e,E4,N4,de,{data:0,classText:1,canBeUpgraded:2,changePlotType:9})}get changePlotType(){return this.$$.ctx[9]}}function Ff(t,e,n){const o=t.slice();return o[6]=e[n],o[8]=n,o}function Bf(t,e,n){const o=t.slice();return o[9]=e[n],o}function jf(t){let e,n,o,i,r,l,a,s,u,f,c,d=t[3],m,p,h=Ke(t[2].plots),y=[];for(let w=0;w<h.length;w+=1)y[w]=Gf(Ff(t,h,w));const C=w=>S(y[w],1,1,()=>{y[w]=null});a=new Nf({props:{direction:"east"}}),f=new Nf({props:{direction:"south"}});let k=Vf(t);return{c(){e=O("div"),n=O("div"),o=O("div"),i=O("div");for(let w=0;w<y.length;w+=1)y[w].c();r=j(),l=O("span"),X(a.$$.fragment),s=j(),u=O("span"),X(f.$$.fragment),c=j(),k.c(),m=De(),P(i,"class","grid plot_controller svelte-1bzj7j4"),P(o,"class","flex flex-row items-center"),P(n,"id","plotContainerMain"),P(n,"class","absolute left-[170px] items-center h-max flex flex-col top-[170px] pl-16 pt-16 pb-80 pr-80 bg-background svelte-1bzj7j4"),P(e,"class","flex flex-col")},m(w,R){I(w,e,R),g(e,n),g(n,o),g(o,i);for(let F=0;F<y.length;F+=1)y[F]&&y[F].m(i,null);g(o,r),g(o,l),U(a,l,null),g(n,s),g(n,u),U(f,u,null),I(w,c,R),k.m(w,R),I(w,m,R),p=!0},p(w,R){if(R&7){h=Ke(w[2].plots);let F;for(F=0;F<h.length;F+=1){const N=Ff(w,h,F);y[F]?(y[F].p(N,R),A(y[F],1)):(y[F]=Gf(N),y[F].c(),A(y[F],1),y[F].m(i,null))}for(Pe(),F=h.length;F<y.length;F+=1)C(F);Ne()}R&8&&de(d,d=w[3])?(Pe(),S(k,1,1,Ce),Ne(),k=Vf(w),k.c(),A(k,1),k.m(m.parentNode,m)):k.p(w,R)},i(w){if(!p){for(let R=0;R<h.length;R+=1)A(y[R]);A(a.$$.fragment,w),A(f.$$.fragment,w),A(k),p=!0}},o(w){y=y.filter(Boolean);for(let R=0;R<y.length;R+=1)S(y[R]);S(a.$$.fragment,w),S(f.$$.fragment,w),S(k),p=!1},d(w){w&&(T(e),T(c),T(m)),_t(y,w),K(a),K(f),k.d(w)}}}function qf(t){let e,n;return e=new $4({props:{classText:"hexagon",data:t[9],canBeUpgraded:t[0](t[9].x,t[9].y)}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const r={};i&4&&(r.data=o[9]),i&4&&(r.canBeUpgraded=o[0](o[9].x,o[9].y)),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function Gf(t){let e,n,o,i,r,l=Ke(t[6]),a=[];for(let u=0;u<l.length;u+=1)a[u]=qf(Bf(t,l,u));const s=u=>S(a[u],1,1,()=>{a[u]=null});return{c(){e=O("div");for(let u=0;u<a.length;u+=1)a[u].c();n=j(),P(e,"class","row "+(t[8]%2!==0?"odd-row":"")+" svelte-1bzj7j4")},m(u,f){I(u,e,f);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(e,null);g(e,n),o=!0,i||(r=z(e,"click",t[1]),i=!0)},p(u,f){if(f&5){l=Ke(u[6]);let c;for(c=0;c<l.length;c+=1){const d=Bf(u,l,c);a[c]?(a[c].p(d,f),A(a[c],1)):(a[c]=qf(d),a[c].c(),A(a[c],1),a[c].m(e,n))}for(Pe(),c=l.length;c<a.length;c+=1)s(c);Ne()}},i(u){if(!o){for(let f=0;f<l.length;f+=1)A(a[f]);o=!0}},o(u){a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)S(a[f]);o=!1},d(u){u&&T(e),_t(a,u),i=!1,r()}}}function Hf(t){let e,n;return e=new Vd({props:{x:t[4].x,y:t[4].y,open:t[4].visible}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const r={};i&16&&(r.x=o[4].x),i&16&&(r.y=o[4].y),i&16&&(r.open=o[4].visible),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function Vf(t){let e,n,o=t[4].visible&&Hf(t);return{c(){o&&o.c(),e=De()},m(i,r){o&&o.m(i,r),I(i,e,r),n=!0},p(i,r){i[4].visible?o?(o.p(i,r),r&16&&A(o,1)):(o=Hf(i),o.c(),A(o,1),o.m(e.parentNode,e)):o&&(Pe(),S(o,1,1,()=>{o=null}),Ne())},i(i){n||(A(o),n=!0)},o(i){S(o),n=!1},d(i){i&&T(e),o&&o.d(i)}}}function R4(t){let e,n,o=t[2]!=null&&jf(t);return{c(){o&&o.c(),e=De()},m(i,r){o&&o.m(i,r),I(i,e,r),n=!0},p(i,[r]){i[2]!=null?o?(o.p(i,r),r&4&&A(o,1)):(o=jf(i),o.c(),A(o,1),o.m(e.parentNode,e)):o&&(Pe(),S(o,1,1,()=>{o=null}),Ne())},i(i){n||(A(o),n=!0)},o(i){S(o),n=!1},d(i){i&&T(e),o&&o.d(i)}}}function L4(t,e,n){let o,i,r;ue(t,bo,u=>n(3,o=u)),ue(t,Ee,u=>n(2,i=u)),ue(t,et,u=>n(4,r=u)),document.addEventListener("click",function(u){const f=u.target;(f.dataset.x==null&&f.dataset.type!="-1"&&f.dataset.size!=null||f.id=="plotContainerMain"||f.classList.contains("row")||f.classList.contains("grid"))&&Oe(et,r.visible=!1,r)});function l(u,f){let c={x:u,y:f};return c.x===0&&c.y===0?!0:[{x:c.x-1,y:c.y},{x:c.x+1,y:c.y},{x:c.x,y:c.y-1},{x:c.x,y:c.y+1}].some(m=>m.x<0||m.x>=i.plots.length||m.y<0||m.y>=i.plots[m.x].length?!1:i.plots[m.x][m.y].active)}function a(){let u=[];for(let f=0;f<i.plots.length;f++)for(let c=0;c<i.plots.length;c++)l(f,c)&&i.plots[f][c].active==!1&&u.push(i.plots[f][c])}function s(){Oe(bo,o={},o)}return t.$$.update=()=>{t.$$.dirty&4&&i&&a()},[l,s,i,o,r]}class D4 extends we{constructor(e){super(),ye(this,e,L4,R4,de,{checkIfPlotCanBeUpgraded:0,restartModifyPlotMenu:1})}get checkIfPlotCanBeUpgraded(){return this.$$.ctx[0]}get restartModifyPlotMenu(){return this.$$.ctx[1]}}function Wf(t,e,n){const o=t.slice();return o[5]=e[n],o}function Yf(t){let e;return{c(){e=O("p"),e.textContent="No alerts",P(e,"class","text-center")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Uf(t){let e,n,o,i=t[5].day+"",r,l,a,s=t[5].message+"",u,f,c,d;return{c(){e=O("div"),n=O("p"),o=B("DAY "),r=B(i),l=j(),a=O("p"),u=B(s),c=j(),d=O("br"),P(n,"class","font-mono text-[10px] "),P(a,"class","text-xs pb-1"),P(e,"class",f="p-2 rounded-2xl fade-in "+(t[5].vibe==Qe.BAD?"bg-red-600":t[5].vibe==Qe.GOOD?"bg-green-600":(t[5].vibe==Qe.NORMAL,"bg-accent"))+" svelte-11l9bgb")},m(m,p){I(m,e,p),g(e,n),g(n,o),g(n,r),g(e,l),g(e,a),g(a,u),I(m,c,p),I(m,d,p)},p(m,p){p&4&&i!==(i=m[5].day+"")&&le(r,i),p&4&&s!==(s=m[5].message+"")&&le(u,s),p&4&&f!==(f="p-2 rounded-2xl fade-in "+(m[5].vibe==Qe.BAD?"bg-red-600":m[5].vibe==Qe.GOOD?"bg-green-600":(m[5].vibe==Qe.NORMAL,"bg-accent"))+" svelte-11l9bgb")&&P(e,"class",f)},d(m){m&&(T(e),T(c),T(d))}}}function F4(t){let e,n,o,i,r,l,a=t[0]=="true"?"🔇":"🔊",s,u,f,c,d,m,p,h,y,C=t[2].townLog.length==0&&Yf(),k=Ke(t[2].townLog),w=[];for(let R=0;R<k.length;R+=1)w[R]=Uf(Wf(t,k,R));return{c(){e=O("div"),n=O("div"),o=O("div"),i=O("h1"),i.textContent="Alerts",r=j(),l=O("button"),s=B(a),u=j(),f=O("div"),C&&C.c(),c=j();for(let R=0;R<w.length;R+=1)w[R].c();d=j(),m=O("ul"),P(i,"class","text-xl pb-2 cursor-pointer "),P(o,"class","flex flex-row gap-2 items-start justify-center"),P(f,"class","overflow-y-scroll h-[100%] w-[100%] px-1 pb-16 scroll-smooth"),P(m,"class","list-disc pl-5 gap-2 flex flex-col text-xs "),P(n,"class",p="bg-foreground w-[160px] border-foregroundDark border-4 "+(t[1].visible?"bottom-8  opacity-70":"bottom-2")+" z-10 fixed left-3 py-2 top-[190px] drop-shadow-xl rounded-xl transition-all duration-300 overflow-y-clip"),P(e,"class","flex flex-row text-foregroundText")},m(R,F){I(R,e,F),g(e,n),g(n,o),g(o,i),g(o,r),g(o,l),g(l,s),g(n,u),g(n,f),C&&C.m(f,null),g(f,c);for(let N=0;N<w.length;N+=1)w[N]&&w[N].m(f,null);g(n,d),g(n,m),h||(y=[z(i,"click",t[3]),z(l,"click",t[4])],h=!0)},p(R,[F]){if(F&1&&a!==(a=R[0]=="true"?"🔇":"🔊")&&le(s,a),R[2].townLog.length==0?C||(C=Yf(),C.c(),C.m(f,c)):C&&(C.d(1),C=null),F&4){k=Ke(R[2].townLog);let N;for(N=0;N<k.length;N+=1){const $=Wf(R,k,N);w[N]?w[N].p($,F):(w[N]=Uf($),w[N].c(),w[N].m(f,null))}for(;N<w.length;N+=1)w[N].d(1);w.length=k.length}F&2&&p!==(p="bg-foreground w-[160px] border-foregroundDark border-4 "+(R[1].visible?"bottom-8  opacity-70":"bottom-2")+" z-10 fixed left-3 py-2 top-[190px] drop-shadow-xl rounded-xl transition-all duration-300 overflow-y-clip")&&P(n,"class",p)},i:Ce,o:Ce,d(R){R&&T(e),C&&C.d(),_t(w,R),h=!1,je(y)}}}function B4(t,e,n){let o,i;ue(t,et,s=>n(1,o=s)),ue(t,Ee,s=>n(2,i=s));let r=localStorage.getItem("mute")||"false";const l=()=>{Oe(Ee,i.townLog=[],i)},a=()=>{localStorage.setItem("mute",r=="false"?"true":r==="true"?"false":"true"),n(0,r=localStorage.getItem("mute")||"false")};return n(0,r=localStorage.getItem("mute")||"false"),[r,o,i,l,a]}class j4 extends we{constructor(e){super(),ye(this,e,B4,F4,de,{})}}function Kf(t,e,n){const o=t.slice();return o[5]=e[n],o}function Xf(t){let e,n;return e=new E1({props:{thumb:t[5],class:"block h-5 w-5 rounded-full border-2 border-primary bg-accent ring-accent transition-colors focus-visible:outline-none  disabled:pointer-events-none disabled:opacity-50"}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const r={};i&16&&(r.thumb=o[5]),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function q4(t){let e,n,o,i,r;n=new T1({props:{class:"absolute h-full bg-primary"}});let l=Ke(t[4]),a=[];for(let u=0;u<l.length;u+=1)a[u]=Xf(Kf(t,l,u));const s=u=>S(a[u],1,1,()=>{a[u]=null});return{c(){e=O("span"),X(n.$$.fragment),o=j();for(let u=0;u<a.length;u+=1)a[u].c();i=De(),P(e,"class","relative h-2 w-full grow overflow-hidden rounded-full bg-textPrimary")},m(u,f){I(u,e,f),U(n,e,null),I(u,o,f);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(u,f);I(u,i,f),r=!0},p(u,f){if(f&16){l=Ke(u[4]);let c;for(c=0;c<l.length;c+=1){const d=Kf(u,l,c);a[c]?(a[c].p(d,f),A(a[c],1)):(a[c]=Xf(d),a[c].c(),A(a[c],1),a[c].m(i.parentNode,i))}for(Pe(),c=l.length;c<a.length;c+=1)s(c);Ne()}},i(u){if(!r){A(n.$$.fragment,u);for(let f=0;f<l.length;f+=1)A(a[f]);r=!0}},o(u){S(n.$$.fragment,u),a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)S(a[f]);r=!1},d(u){u&&(T(e),T(o),T(i)),K(n),_t(a,u)}}}function G4(t){let e,n,o;const i=[{class:qe("relative flex w-full touch-none select-none items-center",t[1])},t[2]];function r(a){t[3](a)}let l={$$slots:{default:[q4,({thumbs:a})=>({4:a}),({thumbs:a})=>a?16:0]},$$scope:{ctx:t}};for(let a=0;a<i.length;a+=1)l=Z(l,i[a]);return t[0]!==void 0&&(l.value=t[0]),e=new y1({props:l}),$e.push(()=>In(e,"value",r)),{c(){X(e.$$.fragment)},m(a,s){U(e,a,s),o=!0},p(a,[s]){const u=s&6?ke(i,[s&2&&{class:qe("relative flex w-full touch-none select-none items-center",a[1])},s&4&&rt(a[2])]):{};s&272&&(u.$$scope={dirty:s,ctx:a}),!n&&s&1&&(n=!0,u.value=a[0],Tn(()=>n=!1)),e.$set(u)},i(a){o||(A(e.$$.fragment,a),o=!0)},o(a){S(e.$$.fragment,a),o=!1},d(a){K(e,a)}}}function H4(t,e,n){const o=["class","value"];let i=se(e,o),{class:r=void 0}=e,{value:l=[0]}=e;function a(s){l=s,n(0,l)}return t.$$set=s=>{e=Z(Z({},e),Re(s)),n(2,i=se(e,o)),"class"in s&&n(1,r=s.class),"value"in s&&n(0,l=s.value)},[l,r,i,a]}class Jf extends we{constructor(e){super(),ye(this,e,H4,G4,de,{class:1,value:0})}}function xf(t,e,n){const o=t.slice();return o[7]=e[n].icon,o[8]=e[n].name,o[9]=e[n].value,o[10]=e[n].rate,o}function Zf(t,e,n){const o=t.slice();return o[13]=e[n],o}function V4(t){let e;return{c(){e=O("div"),e.innerHTML=`Resources are generated from plots. Generation rate can be increased
            by raising the productivity of the town, at the cost of some
            happiness.
            <br/> <br/>
            There is also a slight bit of randomness as townspeople aren&#39;t robots.`,P(e,"class","text-sm")},m(n,o){I(n,e,o)},p:Ce,d(n){n&&T(e)}}}function W4(t){let e,n,o,i;return o=new No({props:{class:"text-sm w-[200px]",$$slots:{default:[V4]},$$scope:{ctx:t}}}),{c(){e=O("div"),e.innerHTML='<h1 class="text-xl w-full text-center">Resources</h1> <button class="text-textPrimary text-sm">ℹ️</button>',n=j(),X(o.$$.fragment),P(e,"class","flex flex-row items-center pb-2 gap-2")},m(r,l){I(r,e,l),I(r,n,l),U(o,r,l),i=!0},p(r,l){const a={};l&65536&&(a.$$scope={dirty:l,ctx:r}),o.$set(a)},i(r){i||(A(o.$$.fragment,r),i=!0)},o(r){S(o.$$.fragment,r),i=!1},d(r){r&&(T(e),T(n)),K(o,r)}}}function Y4(t){let e,n;return e=new $o({props:{$$slots:{default:[W4]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const r={};i&65536&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function U4(t){let e,n,o=t[10]+"",i;return{c(){e=O("span"),n=B("+"),i=B(o),P(e,"class","text-textPrimary")},m(r,l){I(r,e,l),g(e,n),g(e,i)},p(r,l){l&2&&o!==(o=r[10]+"")&&le(i,o)},d(r){r&&T(e)}}}function K4(t){let e;return{c(){e=O("span")},m(n,o){I(n,e,o)},p:Ce,d(n){n&&T(e)}}}function X4(t){let e,n=t[10]+"",o;return{c(){e=O("span"),o=B(n),P(e,"class","text-textDanger2")},m(i,r){I(i,e,r),g(e,o)},p(i,r){r&2&&n!==(n=i[10]+"")&&le(o,n)},d(i){i&&T(e)}}}function J4(t){let e,n,o=t[10]+"",i;return{c(){e=O("span"),n=B("+"),i=B(o),P(e,"class","text-textHappy")},m(r,l){I(r,e,l),g(e,n),g(e,i)},p(r,l){l&2&&o!==(o=r[10]+"")&&le(i,o)},d(r){r&&T(e)}}}function x4(t){let e;return{c(){e=O("span"),P(e,"class","display-none")},m(n,o){I(n,e,o)},p:Ce,d(n){n&&T(e)}}}function Z4(t){let e,n,o=t[10]+"",i,r;return{c(){e=O("span"),n=B("+"),i=B(o),r=B(" (weekly)"),P(e,"class","")},m(l,a){I(l,e,a),g(e,n),g(e,i),g(e,r)},p(l,a){a&2&&o!==(o=l[10]+"")&&le(i,o)},d(l){l&&T(e)}}}function Q4(t){let e,n=t[10]+"",o,i;return{c(){e=O("span"),o=B(n),i=B(" (weekly)"),P(e,"class","text-textDanger2")},m(r,l){I(r,e,l),g(e,o),g(e,i)},p(r,l){l&2&&n!==(n=r[10]+"")&&le(o,n)},d(r){r&&T(e)}}}function z4(t){let e,n,o=t[10]+"",i,r;return{c(){e=O("span"),n=B("+"),i=B(o),r=B(" (weekly)"),P(e,"class","text-textHappy")},m(l,a){I(l,e,a),g(e,n),g(e,i),g(e,r)},p(l,a){a&2&&o!==(o=l[10]+"")&&le(i,o)},d(l){l&&T(e)}}}function Qf(t){let e,n,o,i;return e=new wt({}),{c(){X(e.$$.fragment),n=j(),o=O("span"),o.textContent="Required for",P(o,"class","text-sm font-semibold")},m(r,l){U(e,r,l),I(r,n,l),I(r,o,l),i=!0},i(r){i||(A(e.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),i=!1},d(r){r&&(T(n),T(o)),K(e,r)}}}function zf(t){let e,n=t[13]+"",o;return{c(){e=O("span"),o=B(n),P(e,"class","text-xs mr-4")},m(i,r){I(i,e,r),g(e,o)},p(i,r){r&2&&n!==(n=i[13]+"")&&le(o,n)},d(i){i&&T(e)}}}function eC(t){let e,n,o=t[7]+"",i,r,l=Fn(t[8])+"",a,s,u,f=t[5](t[8]).length>0,c,d,m;function p(R,F){return R[10]>0?z4:R[10]<0?Q4:R[10]!=null?Z4:x4}let h=p(t),y=h(t),C=f&&Qf(),k=Ke(t[5](t[8])),w=[];for(let R=0;R<k.length;R+=1)w[R]=zf(Zf(t,k,R));return{c(){e=O("div"),n=O("span"),i=B(o),r=j(),a=B(l),s=j(),y.c(),u=j(),C&&C.c(),c=j(),d=O("div");for(let R=0;R<w.length;R+=1)w[R].c();P(n,"class","text-md font-bold"),P(d,"class","flex flex-col flex-wrap min-w-full"),P(e,"class","flex flex-col gap-2 whitespace-nowrap min-w-fit")},m(R,F){I(R,e,F),g(e,n),g(n,i),g(n,r),g(n,a),g(e,s),y.m(e,null),g(e,u),C&&C.m(e,null),g(e,c),g(e,d);for(let N=0;N<w.length;N+=1)w[N]&&w[N].m(d,null);m=!0},p(R,F){if((!m||F&2)&&o!==(o=R[7]+"")&&le(i,o),(!m||F&2)&&l!==(l=Fn(R[8])+"")&&le(a,l),h===(h=p(R))&&y?y.p(R,F):(y.d(1),y=h(R),y&&(y.c(),y.m(e,u))),F&2&&(f=R[5](R[8]).length>0),f?C?F&2&&A(C,1):(C=Qf(),C.c(),A(C,1),C.m(e,c)):C&&(Pe(),S(C,1,1,()=>{C=null}),Ne()),F&34){k=Ke(R[5](R[8]));let N;for(N=0;N<k.length;N+=1){const $=Zf(R,k,N);w[N]?w[N].p($,F):(w[N]=zf($),w[N].c(),w[N].m(d,null))}for(;N<w.length;N+=1)w[N].d(1);w.length=k.length}},i(R){m||(A(C),m=!0)},o(R){S(C),m=!1},d(R){R&&T(e),y.d(),C&&C.d(),_t(w,R)}}}function tC(t){let e,n=t[7]+"",o,i,r=xt(parseInt(t[9]),!1)+"",l,a,s,u,f,c;function d(h,y){return h[10]>0?J4:h[10]<0?X4:h[10]==null?K4:U4}let m=d(t),p=m(t);return f=new No({props:{$$slots:{default:[eC]},$$scope:{ctx:t}}}),{c(){e=O("span"),o=B(n),i=j(),l=B(r),a=j(),p.c(),u=j(),X(f.$$.fragment),P(e,"class",s="flex flex-row justify-between "+(t[9]<=0?"text-textDanger1 font-semibold":"text-textPrimary"))},m(h,y){I(h,e,y),g(e,o),g(e,i),g(e,l),g(e,a),p.m(e,null),I(h,u,y),U(f,h,y),c=!0},p(h,y){(!c||y&2)&&n!==(n=h[7]+"")&&le(o,n),(!c||y&2)&&r!==(r=xt(parseInt(h[9]),!1)+"")&&le(l,r),m===(m=d(h))&&p?p.p(h,y):(p.d(1),p=m(h),p&&(p.c(),p.m(e,null))),(!c||y&2&&s!==(s="flex flex-row justify-between "+(h[9]<=0?"text-textDanger1 font-semibold":"text-textPrimary")))&&P(e,"class",s);const C={};y&65538&&(C.$$scope={dirty:y,ctx:h}),f.$set(C)},i(h){c||(A(f.$$.fragment,h),c=!0)},o(h){S(f.$$.fragment,h),c=!1},d(h){h&&(T(e),T(u)),p.d(),K(f,h)}}}function nC(t){let e,n,o;return e=new $o({props:{$$slots:{default:[tC]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=j()},m(i,r){U(e,i,r),I(i,n,r),o=!0},p(i,r){const l={};r&65538&&(l.$$scope={dirty:r,ctx:i}),e.$set(l)},i(i){o||(A(e.$$.fragment,i),o=!0)},o(i){S(e.$$.fragment,i),o=!1},d(i){i&&T(n),K(e,i)}}}function ec(t){let e,n;return e=new Eo({props:{openDelay:400,closeDelay:0,$$slots:{default:[nC]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const r={};i&65538&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function oC(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,p,h=ft(t[0].townInfo.productivity,0)+"",y,C,k,w,R,F,N,$,G,L,V,v=ft(t[0].economyAndLaws.tax_rate*100,0)+"",b,M,E,W,q,J,Q;o=new Eo({props:{openDelay:400,closeDelay:0,$$slots:{default:[Y4]},$$scope:{ctx:t}}});let ee=Ke(t[1]),Y=[];for(let ne=0;ne<ee.length;ne+=1)Y[ne]=ec(xf(t,ee,ne));const te=ne=>S(Y[ne],1,1,()=>{Y[ne]=null});return w=new Jf({props:{value:[t[0].townInfo.productivity],onValueChange:t[4],min:0,max:200,step:5,class:"cursor-pointer w-full"}}),W=new Jf({props:{value:[t[0].economyAndLaws.tax_rate],onValueChange:t[3],min:0,max:1,step:.05,class:"cursor-pointer w-full"}}),{c(){e=O("div"),n=O("div"),X(o.$$.fragment),i=j(),r=O("div"),l=O("div");for(let ne=0;ne<Y.length;ne+=1)Y[ne].c();a=j(),s=O("div"),u=O("div"),f=O("div"),c=O("span"),c.textContent="Productivity",d=j(),m=O("span"),p=B("("),y=B(h),C=B("%)"),k=j(),X(w.$$.fragment),R=j(),F=O("div"),N=O("div"),$=O("span"),$.textContent="Tax Rate",G=j(),L=O("span"),V=B("("),b=B(v),M=B("%)"),E=j(),X(W.$$.fragment),P(n,"class","flex flex-row justify-center"),P(l,"class","flex flex-col text-sm text-nowrap gap-2"),P(c,"class","text-xs"),P(m,"class","text-xs"),P(u,"class","flex flex-col justify-center w-full text-center items-center gap-2"),P($,"class","text-xs"),P(L,"class","text-xs"),P(F,"class",q="flex flex-col justify-center w-full text-center items-center gap-2 min-h-12 pb-2 rounded-xl "+(t[0].economyAndLaws.tax_rate===0?"bg-textDanger1 animate-pulse font-bold":"")),P(s,"class","flex flex-col gap-6 rounded-xl text-center justify-center"),P(r,"class","flex flex-col justify-between gap-4 text-foregroundText h-full pb-12"),P(e,"class",J="bg-foreground w-[160px] sidebar border-foregroundDark border-4 "+(t[2].visible?"bottom-8 opacity-70":"bottom-2")+" z-10 fixed right-3 top-[190px] rounded-xl p-2 transition-all duration-300")},m(ne,me){I(ne,e,me),g(e,n),U(o,n,null),g(e,i),g(e,r),g(r,l);for(let _=0;_<Y.length;_+=1)Y[_]&&Y[_].m(l,null);g(r,a),g(r,s),g(s,u),g(u,f),g(f,c),g(f,d),g(f,m),g(m,p),g(m,y),g(m,C),g(u,k),U(w,u,null),g(s,R),g(s,F),g(F,N),g(N,$),g(N,G),g(N,L),g(L,V),g(L,b),g(L,M),g(F,E),U(W,F,null),Q=!0},p(ne,[me]){const _={};if(me&65536&&(_.$$scope={dirty:me,ctx:ne}),o.$set(_),me&34){ee=Ke(ne[1]);let ie;for(ie=0;ie<ee.length;ie+=1){const ae=xf(ne,ee,ie);Y[ie]?(Y[ie].p(ae,me),A(Y[ie],1)):(Y[ie]=ec(ae),Y[ie].c(),A(Y[ie],1),Y[ie].m(l,null))}for(Pe(),ie=ee.length;ie<Y.length;ie+=1)te(ie);Ne()}(!Q||me&1)&&h!==(h=ft(ne[0].townInfo.productivity,0)+"")&&le(y,h);const D={};me&1&&(D.value=[ne[0].townInfo.productivity]),w.$set(D),(!Q||me&1)&&v!==(v=ft(ne[0].economyAndLaws.tax_rate*100,0)+"")&&le(b,v);const x={};me&1&&(x.value=[ne[0].economyAndLaws.tax_rate]),W.$set(x),(!Q||me&1&&q!==(q="flex flex-col justify-center w-full text-center items-center gap-2 min-h-12 pb-2 rounded-xl "+(ne[0].economyAndLaws.tax_rate===0?"bg-textDanger1 animate-pulse font-bold":"")))&&P(F,"class",q),(!Q||me&4&&J!==(J="bg-foreground w-[160px] sidebar border-foregroundDark border-4 "+(ne[2].visible?"bottom-8 opacity-70":"bottom-2")+" z-10 fixed right-3 top-[190px] rounded-xl p-2 transition-all duration-300"))&&P(e,"class",J)},i(ne){if(!Q){A(o.$$.fragment,ne);for(let me=0;me<ee.length;me+=1)A(Y[me]);A(w.$$.fragment,ne),A(W.$$.fragment,ne),Q=!0}},o(ne){S(o.$$.fragment,ne),Y=Y.filter(Boolean);for(let me=0;me<Y.length;me+=1)S(Y[me]);S(w.$$.fragment,ne),S(W.$$.fragment,ne),Q=!1},d(ne){ne&&T(e),K(o),_t(Y,ne),K(w),K(W)}}}function iC(t){return["food","wood","stone","metal","power","knowledge"].includes(t)}function rC(t,e,n){let o,i;ue(t,Ee,f=>n(0,o=f)),ue(t,et,f=>n(2,i=f));function r(f){let c=o;c.economyAndLaws.tax_rate=ft(f[0],2),Ee.set(c),localStorage.setItem(Gt,JSON.stringify(c))}function l(f){let c=o;c.townInfo.productivity=ft(f[0],2),Ee.set(c),localStorage.setItem(Gt,JSON.stringify(c))}let a=[];function s(f){let c=[];for(let d=0;d<re.length;d++)(f!="knowledge"&&re[d].requirements.resources[f]>0||f=="power"&&re[d].active_costs.power>0||f=="knowledge"&&re[d].requirements.knowledge>0)&&c.push(re[d].title);return c}function u(f){return iC(f)?s(f):[]}return t.$$.update=()=>{t.$$.dirty&1&&n(1,a=[{icon:"🥕",name:"food",value:o.resources.food,rate:o.resource_rate.food},{icon:"🪵",name:"wood",value:o.resources.wood,rate:o.resource_rate.wood},{icon:"🪨",name:"stone",value:o.resources.stone,rate:o.resource_rate.stone},{icon:"🧠",name:"knowledge",value:o.townInfo.knowledge_points,rate:o.resource_rate.knowledge},{icon:"🧲",name:"metal",value:o.resources.metal,rate:o.resource_rate.metal},{icon:"🔋 Surplus",name:"power",value:o.resources.power,rate:null},{icon:"🧑‍⚖️",name:"bureaucracy",value:o.resources.bureaucracy,rate:o.resource_rate.bureaucracy}])},[o,a,i,r,l,u]}class lC extends we{constructor(e){super(),ye(this,e,rC,oC,de,{})}}function sC(t){let e,n,o,i,r,l,a,s,u,f,c,d,m;return o=new m4({}),l=new j4({}),s=new D4({}),f=new lC({}),d=new Vd({}),{c(){e=O("div"),n=O("div"),X(o.$$.fragment),i=j(),r=O("div"),X(l.$$.fragment),a=j(),X(s.$$.fragment),u=j(),X(f.$$.fragment),c=j(),X(d.$$.fragment),P(r,"class","flex flex-row text-foregroundText"),P(e,"class","flex flex-col max-h-[100%] justify-between")},m(p,h){I(p,e,h),g(e,n),U(o,n,null),g(e,i),g(e,r),U(l,r,null),g(r,a),U(s,r,null),g(r,u),U(f,r,null),g(r,c),U(d,r,null),m=!0},p:Ce,i(p){m||(A(o.$$.fragment,p),A(l.$$.fragment,p),A(s.$$.fragment,p),A(f.$$.fragment,p),A(d.$$.fragment,p),m=!0)},o(p){S(o.$$.fragment,p),S(l.$$.fragment,p),S(s.$$.fragment,p),S(f.$$.fragment,p),S(d.$$.fragment,p),m=!1},d(p){p&&T(e),K(o),K(l),K(s),K(f),K(d)}}}function aC(t,e,n){return ue(t,Ee,o=>n(0,o)),[]}class uC extends we{constructor(e){super(),ye(this,e,aC,sC,de,{})}}function fC(t){let e;return{c(){e=B("Welcome to Plots!")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function cC(t){let e,n,o,i,r=t[0].townInfo.name+"",l,a,s,u,f,c,d,m,p,h,y,C,k,w,R,F,N,$,G,L,V,v,b,M,E,W,q,J,Q,ee;return m=new wt({props:{class:"bg-white mt-2 mb-1"}}),C=new wt({props:{class:"bg-white mt-2 mb-1"}}),F=new wt({props:{class:"bg-white mt-2 mb-1"}}),L=new wt({props:{class:"bg-white mt-2 mb-1"}}),{c(){e=O("div"),n=O("p"),o=B(`You come across a large amount of land, and you decide to start a
            town called `),i=O("span"),l=B(r),a=B("."),s=j(),u=O("div"),f=O("p"),f.textContent="To run a successful town, you will need to have:",c=j(),d=O("ul"),X(m.$$.fragment),p=j(),h=O("li"),h.textContent=`👥 People - build homes and they will stay as long as they are
                happy.`,y=j(),X(C.$$.fragment),k=j(),w=O("li"),w.textContent=`🪵 Resources - generated by some plots and used to build others.
                some plots require sustained weekly resources (such as needing
                wood to heat homes)`,R=j(),X(F.$$.fragment),N=j(),$=O("li"),$.textContent=`💰 Gold - generated by plots through tax revenue. most plots
                make the town some amount of money but some cost a lot to
                operate.`,G=j(),X(L.$$.fragment),V=j(),v=O("p"),v.innerHTML=`The town&#39;s key metrics are <span class="font-bold text-textHappyDark">Happiness</span>
            and <span class="font-bold text-textHappyDark">Health</span>, shown
            in the top-left corner.`,b=j(),M=O("p"),M.textContent=`These metrics are affected by the plots you build. Some plots may
            not always increase happiness, and some could even be harmful enough
            to tear down an otherwise great town.`,E=j(),W=O("p"),W.textContent="Be cautious and make sure to hover over plots before you buy them.",q=j(),J=O("img"),P(i,"class","font-bold text-accent"),P(d,"class","list-desc"),xd(J.src,Q="welcome_example_plot.png")||P(J,"src",Q),P(J,"class","max-w-[60%] object-fit"),P(e,"class","flex flex-col gap-3 max-h-[50vh] overflow-y-scroll")},m(Y,te){I(Y,e,te),g(e,n),g(n,o),g(n,i),g(i,l),g(i,a),g(e,s),g(e,u),g(u,f),g(u,c),g(u,d),U(m,d,null),g(d,p),g(d,h),g(d,y),U(C,d,null),g(d,k),g(d,w),g(d,R),U(F,d,null),g(d,N),g(d,$),g(d,G),U(L,d,null),g(e,V),g(e,v),g(e,b),g(e,M),g(e,E),g(e,W),g(e,q),g(e,J),ee=!0},p(Y,te){(!ee||te&1)&&r!==(r=Y[0].townInfo.name+"")&&le(l,r)},i(Y){ee||(A(m.$$.fragment,Y),A(C.$$.fragment,Y),A(F.$$.fragment,Y),A(L.$$.fragment,Y),ee=!0)},o(Y){S(m.$$.fragment,Y),S(C.$$.fragment,Y),S(F.$$.fragment,Y),S(L.$$.fragment,Y),ee=!1},d(Y){Y&&T(e),K(m),K(C),K(F),K(L)}}}function dC(t){let e,n,o,i;return e=new Ql({props:{class:"",$$slots:{default:[fC]},$$scope:{ctx:t}}}),o=new es({props:{$$slots:{default:[cC]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=j(),X(o.$$.fragment)},m(r,l){U(e,r,l),I(r,n,l),U(o,r,l),i=!0},p(r,l){const a={};l&524288&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&524289&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),K(e,r),K(o,r)}}}function mC(t){let e;return{c(){e=B("Get started")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function pC(t){let e,n;return e=new ad({props:{class:"bg-button rounded-2xl text-foregroundText px-4 py-2 hover:scale-110 transition-all duration-300 ",$$slots:{default:[mC]},$$scope:{ctx:t}}}),e.$on("click",t[5]),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const r={};i&524288&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function hC(t){let e,n,o,i;return e=new zl({props:{$$slots:{default:[dC]},$$scope:{ctx:t}}}),o=new Ir({props:{$$slots:{default:[pC]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=j(),X(o.$$.fragment)},m(r,l){U(e,r,l),I(r,n,l),U(o,r,l),i=!0},p(r,l){const a={};l&524289&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&524288&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),K(e,r),K(o,r)}}}function _C(t){let e,n;return e=new Mr({props:{class:"bg-foregroundDark text-foregroundText",$$slots:{default:[hC]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const r={};i&524289&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function gC(t){let e,n;return e=new Or({props:{open:t[1],$$slots:{default:[_C]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,[i]){const r={};i&2&&(r.open=o[1]),i&524289&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function bC(t,e,n){let o,i,r,l;ue(t,an,m=>n(7,o=m)),ue(t,Ee,m=>n(0,i=m)),ue(t,xi,m=>n(4,r=m)),ue(t,ll,m=>n(1,l=m)),Vn[i.endGoal],jl[i.difficulty],nt.sort((m,p)=>f(m.id)&&!f(p.id)?-1:!f(m.id)&&f(p.id)?1:0),nt.filter(m=>f(m.id));function s(m){const p=o.achievements.find(h=>h[0]==m);return p==null?!1:p[3]}let u=nt;function f(m){return o.achievements==null?!1:o.achievements.find(p=>p[0]==m)!=null}function c(){xi.update(m=>!m),localStorage.setItem("showCompletedAchievements",localStorage.getItem("showCompletedAchievements")==="true"?"false":"true")}localStorage.getItem("pauseMenuTab")==null&&(localStorage.setItem("pauseMenuTab","game"),bc.set("game"));const d=()=>{ll.set(!1)};return t.$$.update=()=>{if(t.$$.dirty&25&&i)if(r)n(3,u=nt);else{n(3,u=[]);for(let m=0;m<nt.length;m++)(!f(nt[m].id)||!s(nt[m].id))&&u.push(nt[m])}},[i,l,c,u,r,d]}class vC extends we{constructor(e){super(),ye(this,e,bC,gC,de,{toggleShowCompleted:2})}get toggleShowCompleted(){return this.$$.ctx[2]}}function tc(t,e,n){const o=t.slice();return o[7]=e[n],o}function yC(t){let e,n,o=t[0].townInfo.name+"",i,r,l,a,s=t[0].resources.bureaucracy+"",u;return{c(){e=O("div"),n=O("span"),i=B(o),r=j(),l=O("span"),a=B("🧑‍⚖️ "),u=B(s),P(e,"class","flex justify-between mr-10")},m(f,c){I(f,e,c),g(e,n),g(n,i),g(e,r),g(e,l),g(l,a),g(l,u)},p(f,c){c&1&&o!==(o=f[0].townInfo.name+"")&&le(i,o),c&1&&s!==(s=f[0].resources.bureaucracy+"")&&le(u,s)},d(f){f&&T(e)}}}function nc(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,p,h=t[0].townInfo.guardians+"",y,C,k,w,R,F=t[0].townInfo.population_count-t[0].townInfo.employees+"",N,$,G;return e=new wt({props:{class:"mb-4"}}),d=new yt({props:{class:`bg-button rounded-2xl h-min select-none
            `+(t[0].townInfo.guardians<=0?"opacity-50 cursor-not-allowed":"")+`
            `,$$slots:{default:[wC]},$$scope:{ctx:t}}}),d.$on("click",t[2]),k=new yt({props:{class:`bg-button rounded-2xl h-min select-none
            
              `+(t[0].townInfo.employees>=t[0].townInfo.population_count?"opacity-50 cursor-not-allowed":"")+`
            `,$$slots:{default:[kC]},$$scope:{ctx:t}}}),k.$on("click",t[3]),{c(){X(e.$$.fragment),n=j(),o=O("div"),i=O("span"),i.textContent="Hire Guardians ⚔️",r=j(),l=O("br"),a=j(),s=O("span"),s.textContent=`Guardians work for you and are required to expand your kingdom.
            They do not generate revenue, but still require housing & food.`,u=j(),f=O("div"),c=O("div"),X(d.$$.fragment),m=j(),p=O("span"),y=B(h),C=j(),X(k.$$.fragment),w=j(),R=O("span"),N=B(F),$=B(`
              unemployed available for hire.`),P(i,"class","text-lg font-bold"),P(s,"class","text-sm italic"),P(p,"class","text-lg font-bold select-none px-2"),P(R,"class","w-max"),P(f,"class","flex flex-row justify-between align-middle items-center pt-2 pb-2 gap-2 "),P(o,"class","w-full")},m(L,V){U(e,L,V),I(L,n,V),I(L,o,V),g(o,i),g(o,r),g(o,l),g(o,a),g(o,s),g(o,u),g(o,f),g(f,c),U(d,c,null),g(c,m),g(c,p),g(p,y),g(c,C),U(k,c,null),g(f,w),g(f,R),g(R,N),g(R,$),G=!0},p(L,V){const v={};V&1&&(v.class=`bg-button rounded-2xl h-min select-none
            `+(L[0].townInfo.guardians<=0?"opacity-50 cursor-not-allowed":"")+`
            `),V&1024&&(v.$$scope={dirty:V,ctx:L}),d.$set(v),(!G||V&1)&&h!==(h=L[0].townInfo.guardians+"")&&le(y,h);const b={};V&1&&(b.class=`bg-button rounded-2xl h-min select-none
            
              `+(L[0].townInfo.employees>=L[0].townInfo.population_count?"opacity-50 cursor-not-allowed":"")+`
            `),V&1024&&(b.$$scope={dirty:V,ctx:L}),k.$set(b),(!G||V&1)&&F!==(F=L[0].townInfo.population_count-L[0].townInfo.employees+"")&&le(N,F)},i(L){G||(A(e.$$.fragment,L),A(d.$$.fragment,L),A(k.$$.fragment,L),G=!0)},o(L){S(e.$$.fragment,L),S(d.$$.fragment,L),S(k.$$.fragment,L),G=!1},d(L){L&&(T(n),T(o)),K(e,L),K(d),K(k)}}}function wC(t){let e;return{c(){e=B("-")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function kC(t){let e;return{c(){e=B("+")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function CC(t){let e;return{c(){e=B("Build a City Hall to manage your city.")},m(n,o){I(n,e,o)},p:Ce,i:Ce,o:Ce,d(n){n&&T(e)}}}function AC(t){let e,n,o,i,r=Ke(cl),l=[];for(let s=0;s<r.length;s+=1)l[s]=oc(tc(t,r,s));const a=s=>S(l[s],1,1,()=>{l[s]=null});return{c(){e=O("span"),e.textContent="Laws 🧑‍⚖️",n=j();for(let s=0;s<l.length;s+=1)l[s].c();o=De(),P(e,"class","text-lg font-bold")},m(s,u){I(s,e,u),I(s,n,u);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(s,u);I(s,o,u),i=!0},p(s,u){if(u&1){r=Ke(cl);let f;for(f=0;f<r.length;f+=1){const c=tc(s,r,f);l[f]?(l[f].p(c,u),A(l[f],1)):(l[f]=oc(c),l[f].c(),A(l[f],1),l[f].m(o.parentNode,o))}for(Pe(),f=r.length;f<l.length;f+=1)a(f);Ne()}},i(s){if(!i){for(let u=0;u<r.length;u+=1)A(l[u]);i=!0}},o(s){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)S(l[u]);i=!1},d(s){s&&(T(e),T(n),T(o)),_t(l,s)}}}function SC(t){let e,n=t[7].cost+"",o;return{c(){e=B("Enact for 🧑‍⚖️ "),o=B(n)},m(i,r){I(i,e,r),I(i,o,r)},d(i){i&&(T(e),T(o))}}}function TC(t){let e;return{c(){e=B("Repeal ❌")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function IC(t){let e,n;function o(l,a){return a&1&&(e=null),e==null&&(e=!!l[0].economyAndLaws.enacted.includes(l[7].id)),e?TC:SC}let i=o(t,-1),r=i(t);return{c(){r.c(),n=De()},m(l,a){r.m(l,a),I(l,n,a)},p(l,a){i!==(i=o(l,a))&&(r.d(1),r=i(l),r&&(r.c(),r.m(n.parentNode,n)))},d(l){l&&T(n),r.d(l)}}}function oc(t){let e,n,o,i,r,l,a;function s(){return t[4](t[7])}return i=new yt({props:{class:`bg-button rounded-2xl 
                `+(t[0].economyAndLaws.enacted.includes(t[7].id)?"bg-textDanger1":"bg-button")+`

                `+(t[0].economyAndLaws.enacted.includes(t[7].id)||t[7].cost<=t[0].resources.bureaucracy?"cursor-pointer":"cursor-not-allowed opacity-30")+`
                `,$$slots:{default:[IC]},$$scope:{ctx:t}}}),i.$on("click",s),l=new wt({props:{class:"bg-white opacity-30"}}),{c(){e=O("div"),n=O("span"),n.textContent=`${t[7].description}`,o=j(),X(i.$$.fragment),r=j(),X(l.$$.fragment),P(e,"class","flex justify-between align-middle items-center pt-2 pb-2 gap-2 ")},m(u,f){I(u,e,f),g(e,n),g(e,o),U(i,e,null),I(u,r,f),U(l,u,f),a=!0},p(u,f){t=u;const c={};f&1&&(c.class=`bg-button rounded-2xl 
                `+(t[0].economyAndLaws.enacted.includes(t[7].id)?"bg-textDanger1":"bg-button")+`

                `+(t[0].economyAndLaws.enacted.includes(t[7].id)||t[7].cost<=t[0].resources.bureaucracy?"cursor-pointer":"cursor-not-allowed opacity-30")+`
                `),f&1025&&(c.$$scope={dirty:f,ctx:t}),i.$set(c)},i(u){a||(A(i.$$.fragment,u),A(l.$$.fragment,u),a=!0)},o(u){S(i.$$.fragment,u),S(l.$$.fragment,u),a=!1},d(u){u&&(T(e),T(r)),K(i),K(l,u)}}}function MC(t){let e,n,o,i,r=We("city_hall",t[0]).length>0,l,a,s,u,f,c,d,m;e=new Jn({props:{class:"text-xl",$$slots:{default:[yC]},$$scope:{ctx:t}}}),o=new Qn({props:{class:"w-3/4 overflow-scroll "}});let p=r&&nc(t);a=new wt({props:{class:"mb-4"}});const h=[AC,CC],y=[];function C(k,w){return w&1&&(f=null),f==null&&(f=We("city_hall",k[0]).length>0),f?0:1}return c=C(t,-1),d=y[c]=h[c](t),{c(){X(e.$$.fragment),n=j(),X(o.$$.fragment),i=j(),p&&p.c(),l=j(),X(a.$$.fragment),s=j(),u=O("div"),d.c(),P(u,"class","w-full")},m(k,w){U(e,k,w),I(k,n,w),U(o,k,w),I(k,i,w),p&&p.m(k,w),I(k,l,w),U(a,k,w),I(k,s,w),I(k,u,w),y[c].m(u,null),m=!0},p(k,w){const R={};w&1025&&(R.$$scope={dirty:w,ctx:k}),e.$set(R),w&1&&(r=We("city_hall",k[0]).length>0),r?p?(p.p(k,w),w&1&&A(p,1)):(p=nc(k),p.c(),A(p,1),p.m(l.parentNode,l)):p&&(Pe(),S(p,1,1,()=>{p=null}),Ne());let F=c;c=C(k,w),c===F?y[c].p(k,w):(Pe(),S(y[F],1,1,()=>{y[F]=null}),Ne(),d=y[c],d?d.p(k,w):(d=y[c]=h[c](k),d.c()),A(d,1),d.m(u,null))},i(k){m||(A(e.$$.fragment,k),A(o.$$.fragment,k),A(p),A(a.$$.fragment,k),A(d),m=!0)},o(k){S(e.$$.fragment,k),S(o.$$.fragment,k),S(p),S(a.$$.fragment,k),S(d),m=!1},d(k){k&&(T(n),T(i),T(l),T(s),T(u)),K(e,k),K(o,k),p&&p.d(k),K(a,k),y[c].d()}}}function OC(t){let e,n,o,i;return e=new xn({props:{$$slots:{default:[MC]},$$scope:{ctx:t}}}),o=new Po({}),{c(){X(e.$$.fragment),n=j(),X(o.$$.fragment)},m(r,l){U(e,r,l),I(r,n,l),U(o,r,l),i=!0},p(r,l){const a={};l&1025&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),K(e,r),K(o,r)}}}function PC(t){let e,n;return e=new Zn({props:{class:"bg-foreground text-foregroundText h-[80vh] overflow-scroll",$$slots:{default:[OC]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const r={};i&1025&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function NC(t){let e,n,o;function i(l){t[5](l)}let r={$$slots:{default:[PC]},$$scope:{ctx:t}};return t[1]!==void 0&&(r.open=t[1]),e=new zn({props:r}),$e.push(()=>In(e,"open",i)),{c(){X(e.$$.fragment)},m(l,a){U(e,l,a),o=!0},p(l,[a]){const s={};a&1025&&(s.$$scope={dirty:a,ctx:l}),!n&&a&2&&(n=!0,s.open=l[1],Tn(()=>n=!1)),e.$set(s)},i(l){o||(A(e.$$.fragment,l),o=!0)},o(l){S(e.$$.fragment,l),o=!1},d(l){K(e,l)}}}function EC(t,e,n){let o,i;ue(t,Ee,u=>n(0,o=u)),ue(t,Ji,u=>n(1,i=u));const r=()=>{o.townInfo.guardians>0?(Oe(Ee,o.townInfo.guardians-=1,o),Oe(Ee,o.townInfo.employees-=1,o)):Ot.set("No guardians to fire.")},l=()=>{o.townInfo.employees<o.townInfo.population_count?(Oe(Ee,o.townInfo.guardians+=1,o),Oe(Ee,o.townInfo.employees+=1,o)):Ot.set("Not enough people.")},a=u=>{o.economyAndLaws.enacted.includes(u.id)?o.economyAndLaws.enacted.splice(o.economyAndLaws.enacted.indexOf(u.id),1):u.cost<=o.resources.bureaucracy?(Oe(Ee,o.resources.bureaucracy-=u.cost,o),o.economyAndLaws.enacted.push(u.id)):Ot.set("Not enough bureaucracy!")};function s(u){i=u,Ji.set(i)}return t.$$.update=()=>{t.$$.dirty&1},[o,i,r,l,a,s]}class $C extends we{constructor(e){super(),ye(this,e,EC,NC,de,{})}}function RC(t){let e;return{c(){e=B("Got it")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function LC(t){let e,n,o,i,r,l,a,s;return r=new sd({props:{class:"bg-button hover:scale-105 min-w-[70%] transition-all duration-150 mt-2",$$slots:{default:[RC]},$$scope:{ctx:t}}}),r.$on("click",t[1]),a=new Ir({}),{c(){e=O("span"),n=B("🛎️ "),o=new on(!1),i=j(),X(r.$$.fragment),l=j(),X(a.$$.fragment),o.a=null,P(e,"class","whitespace-pre-wrap overflow-scroll text-center sm:whitespace-normal break-all sm:text-md sm:font-semibold sm:py-4 sm:items-center sm:justify-center"),xe(e,"max-height","80%")},m(u,f){I(u,e,f),g(e,n),o.m(t[0],e),I(u,i,f),U(r,u,f),I(u,l,f),U(a,u,f),s=!0},p(u,f){(!s||f&1)&&o.p(u[0]);const c={};f&4&&(c.$$scope={dirty:f,ctx:u}),r.$set(c)},i(u){s||(A(r.$$.fragment,u),A(a.$$.fragment,u),s=!0)},o(u){S(r.$$.fragment,u),S(a.$$.fragment,u),s=!1},d(u){u&&(T(e),T(i),T(l)),K(r,u),K(a,u)}}}function DC(t){let e,n;return e=new Mr({props:{class:`bg-foregroundDark text-white rounded-input shadow-3xl justify-center items-center flex flex-col py-2 text-lg font-semibold p-2 min-w-96 min-h-36
         sm:rounded-2xl sm:flex sm:flex-col sm:p-6 sm:text-md sm:font-semibold sm:py-4 sm:items-center sm:justify-center max-h-[50vh]

         `,$$slots:{default:[LC]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const r={};i&5&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function FC(t){let e,n;return e=new Or({props:{open:t[0]!="",$$slots:{default:[DC]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,[i]){const r={};i&1&&(r.open=o[0]!=""),i&5&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function BC(t,e,n){let o;return ue(t,Ot,r=>n(0,o=r)),[o,()=>{Ot.set("")}]}class jC extends we{constructor(e){super(),ye(this,e,BC,FC,de,{})}}function ic(t){let e,n,o,i;const r=[GC,qC],l=[];function a(s,u){return s[0]==null?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?l[e].p(s,u):(Pe(),S(l[f],1,1,()=>{l[f]=null}),Ne(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function qC(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,p,h,y,C,k,w,R,F=t[2]==!0&&rc();n=new uC({}),i=new hp({}),l=new dy({}),s=new Fy({}),f=new u3({}),d=new N3({}),p=new $C({}),y=new jC({});let N=t[0].environment.day==0&&t[3]&&lc();return{c(){F&&F.c(),e=j(),X(n.$$.fragment),o=j(),X(i.$$.fragment),r=j(),X(l.$$.fragment),a=j(),X(s.$$.fragment),u=j(),X(f.$$.fragment),c=j(),X(d.$$.fragment),m=j(),X(p.$$.fragment),h=j(),X(y.$$.fragment),C=j(),N&&N.c(),k=j(),w=O("style"),w.textContent=`body {
        margin-bottom: 0;
      }
      /* no visible scrollbars */
      #plot_grid::-webkit-scrollbar {
        display: none;
      }

      ::-webkit-scrollbar {
        width: 0px;
        background: transparent; /* make scrollbar transparent */
      }

      /* no scrollbars on firefox either */
      #plot_grid {
        scrollbar-width: none;
      }

      /* no scrollbars for IE/Edge */
      #plot_grid {
        -ms-overflow-style: none;
      }`},m($,G){F&&F.m($,G),I($,e,G),U(n,$,G),I($,o,G),U(i,$,G),I($,r,G),U(l,$,G),I($,a,G),U(s,$,G),I($,u,G),U(f,$,G),I($,c,G),U(d,$,G),I($,m,G),U(p,$,G),I($,h,G),U(y,$,G),I($,C,G),N&&N.m($,G),I($,k,G),I($,w,G),R=!0},p($,G){$[2]==!0?F?G&4&&A(F,1):(F=rc(),F.c(),A(F,1),F.m(e.parentNode,e)):F&&(Pe(),S(F,1,1,()=>{F=null}),Ne()),$[0].environment.day==0&&$[3]?N?G&9&&A(N,1):(N=lc(),N.c(),A(N,1),N.m(k.parentNode,k)):N&&(Pe(),S(N,1,1,()=>{N=null}),Ne())},i($){R||(A(F),A(n.$$.fragment,$),A(i.$$.fragment,$),A(l.$$.fragment,$),A(s.$$.fragment,$),A(f.$$.fragment,$),A(d.$$.fragment,$),A(p.$$.fragment,$),A(y.$$.fragment,$),A(N),R=!0)},o($){S(F),S(n.$$.fragment,$),S(i.$$.fragment,$),S(l.$$.fragment,$),S(s.$$.fragment,$),S(f.$$.fragment,$),S(d.$$.fragment,$),S(p.$$.fragment,$),S(y.$$.fragment,$),S(N),R=!1},d($){$&&(T(e),T(o),T(r),T(a),T(u),T(c),T(m),T(h),T(C),T(k),T(w)),F&&F.d($),K(n,$),K(i,$),K(l,$),K(s,$),K(f,$),K(d,$),K(p,$),K(y,$),N&&N.d($)}}}function GC(t){let e,n;return e=new My({}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p:Ce,i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function rc(t){let e,n;return e=new ty({}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function lc(t){let e,n;return e=new vC({}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function HC(t){let e,n,o=(t[1]||t[0]==null)&&ic(t);return{c(){o&&o.c(),e=De()},m(i,r){o&&o.m(i,r),I(i,e,r),n=!0},p(i,[r]){i[1]||i[0]==null?o?(o.p(i,r),r&3&&A(o,1)):(o=ic(i),o.c(),A(o,1),o.m(e.parentNode,e)):o&&(Pe(),S(o,1,1,()=>{o=null}),Ne())},i(i){n||(A(o),n=!0)},o(i){S(o),n=!1},d(i){i&&T(e),o&&o.d(i)}}}function VC(t,e,n){let o,i,r,l,a,s,u;ue(t,bo,m=>n(7,o=m)),ue(t,et,m=>n(8,i=m)),ue(t,$t,m=>n(2,r=m)),ue(t,Ee,m=>n(0,l=m)),ue(t,vo,m=>n(5,a=m)),ue(t,Ko,m=>n(9,s=m)),ue(t,ll,m=>n(3,u=m));let f=!1;ny();let c=!1;document.addEventListener("keydown",m=>{if((document.activeElement!=null&&document.activeElement.nodeName==="INPUT"||document.activeElement!=null&&document.activeElement.nodeName=="TEXTAREA")&&m.key!=="Escape")return;switch(m.key.toLowerCase()){case"p":r==!0?$t.set(!1):($t.set(!0),Oe(et,i.visible=!1,i));break;case"escape":m.shiftKey?(Oe($t,r=!0,r),localStorage.setItem("reset","true"),location.reload(),ql()):i.visible==!0&&Oe(et,i.visible=!1,i),a==!0&&(vo.set(!1),document.querySelectorAll(".plot_container").forEach(y=>{y.style.cursor=""}));break}});function d(m,p,h){if(c==!0)switch(h){case"up":p-=2;break;case"down":p+=1;break;case"left":m-=2;break;case"right":m+=1;break}m<0?m=0:m>l.plots.length&&(m=l.plots.length),p<0?p=0:p>l.plots.length&&(p=l.plots.length);let y=document.querySelectorAll(".plot_container"),C;if(y.forEach(k=>{k.dataset.x=="$x"&&k.dataset.y=="$y"&&(C=k)}),r==!1){if(C.dataset.canBeUpgraded==="true"?Oe(et,i.visible=!0,i):Oe(et,i.visible=!1,i),C.dataset.refPlotX!==void 0&&C.dataset.refPlotY!=""?(c=!0,y.forEach(k=>{k.dataset.x==C.dataset.refPlotX&&k.dataset.y==C.dataset.refPlotY&&(C=k,m=parseInt(C.dataset.x),p=parseInt(C.dataset.y))})):c=!1,C.dataset.size!=="1"&&C.dataset.size!==void 0&&(c=!0),Oe(et,i.x=m,i),Oe(et,i.y=p,i),y.forEach(k=>{k.classList.remove("selected"),k.style.fontWeight=""}),C.classList.add("selected"),c){let k="4px solid #00800045";C.classList.remove("selected"),C.style.borderTop=k,C.style.borderLeft=k,C.style.fontWeight="600",y.forEach(w=>{const R=parseInt(`${w.dataset.x}`),F=parseInt(`${w.dataset.y}`);R==m+1&&F==p&&(w.style.borderLeft=k,w.style.borderBottom=k),R==m&&F==p+1&&(w.style.borderTop=k,w.style.borderRight=k),R==m+1&&F==p+1&&(w.style.borderBottom=k,w.style.borderRight=k)})}C.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),Oe(bo,o={},o)}}return t.$$.update=()=>{t.$$.dirty&33&&(l?(Oe(Ko,s.visible=!1,s),n(1,f=!0),a==!0&&document.querySelectorAll(".plot_container").forEach(p=>{p.dataset.canbeupgraded=="true"&&(p.style.cursor="pointer",p.style.cursor="url('https://github.com/josephrcox/plots/raw/main/public/liege_place.cur'), auto")})):(Oe(Ko,s.visible=!0,s),n(1,f=!1)))},[l,f,r,u,d,a]}class WC extends we{constructor(e){super(),ye(this,e,VC,HC,de,{openPlotMenu:4})}get openPlotMenu(){return this.$$.ctx[4]}}new WC({target:document.getElementById("app")});
