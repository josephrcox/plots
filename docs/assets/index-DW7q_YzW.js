var qd=Object.defineProperty;var Gd=(t,e,n)=>e in t?qd(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var pn=(t,e,n)=>(Gd(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const r of l.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&o(r)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();function Hd(t){const e=pako.gzip(JSON.stringify(t));return btoa(String.fromCharCode.apply(null,e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function Vd(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=atob(e),o=new Uint8Array(n.length);for(let l=0;l<n.length;l++)o[l]=n.charCodeAt(l);const i=pako.ungzip(o,{to:"string"});return JSON.parse(i)}async function Wd(){let t=localStorage.getItem("plots_active_game_db");const e=await Hd(t);console.log("http://localhost:5173/plots/?shareId="+e)}const Ol=window.location.search.substring(1).split("&").reduce((t,e)=>{const[n,o]=e.split("=");return t[n]=o,t},{});if(Ol.shareId!=null||Ol.shareId!=null){console.log("DECRYPING FROM shareId");const t=JSON.parse(Vd(Ol.shareId));let e=localStorage.getItem("plots_active_game_db");(e==""||e==null)&&localStorage.setItem("plots_active_game_db",JSON.stringify(t))}else console.log("COMPRESSING GAME TO SHARE"),Wd();function ye(){}const al=t=>t;function Z(t,e){for(const n in e)t[n]=e[n];return t}function tc(t){return t()}function fs(){return Object.create(null)}function $e(t){t.forEach(tc)}function fn(t){return typeof t=="function"}function ue(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Yd(t){return Object.keys(t).length===0}function Cr(t,...e){if(t==null){for(const o of e)o(void 0);return ye}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function nc(t){let e;return Cr(t,n=>e=n)(),e}function se(t,e,n){t.$$.on_destroy.push(Cr(e,n))}function ce(t,e,n,o){if(t){const i=oc(t,e,n,o);return t[0](i)}}function oc(t,e,n,o){return t[1]&&o?Z(n.ctx.slice(),t[1](o(e))):n.ctx}function de(t,e,n,o){if(t[2]&&o){const i=t[2](o(n));if(e.dirty===void 0)return i;if(typeof i=="object"){const l=[],r=Math.max(e.dirty.length,i.length);for(let a=0;a<r;a+=1)l[a]=e.dirty[a]|i[a];return l}return e.dirty|i}return e.dirty}function me(t,e,n,o,i,l){if(i){const r=oc(e,n,o,l);t.p(r,i)}}function pe(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let o=0;o<n;o++)e[o]=-1;return e}return-1}function Ne(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function re(t,e){const n={};e=new Set(e);for(const o in t)!e.has(o)&&o[0]!=="$"&&(n[o]=t[o]);return n}function Se(t,e,n){return t.set(n),e}function je(t){return t&&fn(t.destroy)?t.destroy:ye}const ic=typeof window<"u";let Ar=ic?()=>window.performance.now():()=>Date.now(),Sr=ic?t=>requestAnimationFrame(t):ye;const fo=new Set;function lc(t){fo.forEach(e=>{e.c(t)||(fo.delete(e),e.f())}),fo.size!==0&&Sr(lc)}function Tr(t){let e;return fo.size===0&&Sr(lc),{promise:new Promise(n=>{fo.add(e={c:t,f:n})}),abort(){fo.delete(e)}}}function b(t,e){t.appendChild(e)}function rc(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function Ud(t){const e=O("style");return e.textContent="/* empty */",Kd(rc(t),e),e.sheet}function Kd(t,e){return b(t.head||t,e),e.sheet}function T(t,e,n){t.insertBefore(e,n||null)}function S(t){t.parentNode&&t.parentNode.removeChild(t)}function mt(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function O(t){return document.createElement(t)}function ul(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function j(t){return document.createTextNode(t)}function G(){return j(" ")}function Ee(){return j("")}function te(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function P(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}const Xd=["width","height"];function ae(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const o in e)e[o]==null?t.removeAttribute(o):o==="style"?t.style.cssText=e[o]:o==="__value"?t.value=t[o]=e[o]:n[o]&&n[o].set&&Xd.indexOf(o)===-1?t[o]=e[o]:P(t,o,e[o])}function Ri(t,e){for(const n in e)P(t,n,e[n])}function Jd(t,e){Object.keys(e).forEach(n=>{xd(t,n,e[n])})}function xd(t,e,n){const o=e.toLowerCase();o in t?t[o]=typeof t[o]=="boolean"&&n===""?!0:n:e in t?t[e]=typeof t[e]=="boolean"&&n===""?!0:n:P(t,e,n)}function vn(t){return/-/.test(t)?Jd:ae}function Zd(t){return Array.from(t.childNodes)}function le(t,e){e=""+e,t.data!==e&&(t.data=e)}function nn(t,e){t.value=e??""}function et(t,e,n,o){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,"")}function cs(t,e,n){for(let o=0;o<t.options.length;o+=1){const i=t.options[o];if(i.__value===e){i.selected=!0;return}}t.selectedIndex=-1}function hn(t,e,n){t.classList.toggle(e,!!n)}function sc(t,e,{bubbles:n=!1,cancelable:o=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:o})}class tn{constructor(e=!1){pn(this,"is_svg",!1);pn(this,"e");pn(this,"n");pn(this,"t");pn(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,n,o=null){this.e||(this.is_svg?this.e=ul(n.nodeName):this.e=O(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(e)),this.i(o)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)T(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(S)}}const Li=new Map;let Di=0;function Qd(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function zd(t,e){const n={stylesheet:Ud(e),rules:{}};return Li.set(t,n),n}function $i(t,e,n,o,i,l,r,a=0){const s=16.666/o;let u=`{
`;for(let v=0;v<=1;v+=s){const C=e+(n-e)*l(v);u+=v*100+`%{${r(C,1-C)}}
`}const f=u+`100% {${r(n,1-n)}}
}`,c=`__svelte_${Qd(f)}_${a}`,d=rc(t),{stylesheet:p,rules:m}=Li.get(d)||zd(d,t);m[c]||(m[c]=!0,p.insertRule(`@keyframes ${c} ${f}`,p.cssRules.length));const _=t.style.animation||"";return t.style.animation=`${_?`${_}, `:""}${c} ${o}ms linear ${i}ms 1 both`,Di+=1,c}function Fi(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?l=>l.indexOf(e)<0:l=>l.indexOf("__svelte")===-1),i=n.length-o.length;i&&(t.style.animation=o.join(", "),Di-=i,Di||em())}function em(){Sr(()=>{Di||(Li.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&S(e)}),Li.clear())})}let Wo;function Go(t){Wo=t}function Qo(){if(!Wo)throw new Error("Function called outside component initialization");return Wo}function fl(t){Qo().$$.on_mount.push(t)}function tm(t){Qo().$$.on_destroy.push(t)}function nm(){const t=Qo();return(e,n,{cancelable:o=!1}={})=>{const i=t.$$.callbacks[e];if(i){const l=sc(e,n,{cancelable:o});return i.slice().forEach(r=>{r.call(t,l)}),!l.defaultPrevented}return!0}}function cl(t,e){return Qo().$$.context.set(t,e),e}function dl(t){return Qo().$$.context.get(t)}function ie(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(o=>o.call(this,e))}const ro=[],Pe=[];let co=[];const Jl=[],ac=Promise.resolve();let xl=!1;function uc(){xl||(xl=!0,ac.then(fc))}function Ir(){return uc(),ac}function st(t){co.push(t)}function An(t){Jl.push(t)}const Pl=new Set;let no=0;function fc(){if(no!==0)return;const t=Wo;do{try{for(;no<ro.length;){const e=ro[no];no++,Go(e),om(e.$$)}}catch(e){throw ro.length=0,no=0,e}for(Go(null),ro.length=0,no=0;Pe.length;)Pe.pop()();for(let e=0;e<co.length;e+=1){const n=co[e];Pl.has(n)||(Pl.add(n),n())}co.length=0}while(ro.length);for(;Jl.length;)Jl.pop()();xl=!1,Pl.clear(),Go(t)}function om(t){if(t.fragment!==null){t.update(),$e(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(st)}}function im(t){const e=[],n=[];co.forEach(o=>t.indexOf(o)===-1?e.push(o):n.push(o)),n.forEach(o=>o()),co=e}let Oo;function Mr(){return Oo||(Oo=Promise.resolve(),Oo.then(()=>{Oo=null})),Oo}function Rn(t,e,n){t.dispatchEvent(sc(`${e?"intro":"outro"}${n}`))}const Si=new Set;let Wt;function Te(){Wt={r:0,c:[],p:Wt}}function Ie(){Wt.r||$e(Wt.c),Wt=Wt.p}function A(t,e){t&&t.i&&(Si.delete(t),t.i(e))}function M(t,e,n,o){if(t&&t.o){if(Si.has(t))return;Si.add(t),Wt.c.push(()=>{Si.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}else o&&o()}const Or={duration:0};function xt(t,e,n){const o={direction:"in"};let i=e(t,n,o),l=!1,r,a,s=0;function u(){r&&Fi(t,r)}function f(){const{delay:d=0,duration:p=300,easing:m=al,tick:_=ye,css:v}=i||Or;v&&(r=$i(t,0,1,p,d,m,v,s++)),_(0,1);const C=Ar()+d,w=C+p;a&&a.abort(),l=!0,st(()=>Rn(t,!0,"start")),a=Tr(k=>{if(l){if(k>=w)return _(1,0),Rn(t,!0,"end"),u(),l=!1;if(k>=C){const R=m((k-C)/p);_(R,1-R)}}return l})}let c=!1;return{start(){c||(c=!0,Fi(t),fn(i)?(i=i(o),Mr().then(f)):f())},invalidate(){c=!1},end(){l&&(u(),l=!1)}}}function Zt(t,e,n){const o={direction:"out"};let i=e(t,n,o),l=!0,r;const a=Wt;a.r+=1;let s;function u(){const{delay:f=0,duration:c=300,easing:d=al,tick:p=ye,css:m}=i||Or;m&&(r=$i(t,1,0,c,f,d,m));const _=Ar()+f,v=_+c;st(()=>Rn(t,!1,"start")),"inert"in t&&(s=t.inert,t.inert=!0),Tr(C=>{if(l){if(C>=v)return p(0,1),Rn(t,!1,"end"),--a.r||$e(a.c),!1;if(C>=_){const w=d((C-_)/c);p(1-w,w)}}return l})}return fn(i)?Mr().then(()=>{i=i(o),u()}):u(),{end(f){f&&"inert"in t&&(t.inert=s),f&&i.tick&&i.tick(1,0),l&&(r&&Fi(t,r),l=!1)}}}function Kt(t,e,n,o){let l=e(t,n,{direction:"both"}),r=o?0:1,a=null,s=null,u=null,f;function c(){u&&Fi(t,u)}function d(m,_){const v=m.b-r;return _*=Math.abs(v),{a:r,b:m.b,d:v,duration:_,start:m.start,end:m.start+_,group:m.group}}function p(m){const{delay:_=0,duration:v=300,easing:C=al,tick:w=ye,css:k}=l||Or,R={start:Ar()+_,b:m};m||(R.group=Wt,Wt.r+=1),"inert"in t&&(m?f!==void 0&&(t.inert=f):(f=t.inert,t.inert=!0)),a||s?s=R:(k&&(c(),u=$i(t,r,m,v,_,C,k)),m&&w(0,1),a=d(R,v),st(()=>Rn(t,m,"start")),Tr($=>{if(s&&$>s.start&&(a=d(s,v),s=null,Rn(t,a.b,"start"),k&&(c(),u=$i(t,r,a.b,a.duration,0,C,l.css))),a){if($>=a.end)w(r=a.b,1-r),Rn(t,a.b,"end"),s||(a.b?c():--a.group.r||$e(a.group.c)),a=null;else if($>=a.start){const D=$-a.start;r=a.a+a.d*C(D/a.duration),w(r,1-r)}}return!!(a||s)}))}return{run(m){fn(l)?Mr().then(()=>{l=l({direction:m?"in":"out"}),p(m)}):p(m)},end(){c(),a=s=null}}}function Ge(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function lm(t,e){M(t,1,1,()=>{e.delete(t.key)})}function rm(t,e,n,o,i,l,r,a,s,u,f,c){let d=t.length,p=l.length,m=d;const _={};for(;m--;)_[t[m].key]=m;const v=[],C=new Map,w=new Map,k=[];for(m=p;m--;){const E=c(i,l,m),q=n(E);let L=r.get(q);L?k.push(()=>L.p(E,e)):(L=u(q,E),L.c()),C.set(q,v[m]=L),q in _&&w.set(q,Math.abs(m-_[q]))}const R=new Set,$=new Set;function D(E){A(E,1),E.m(a,f),r.set(E.key,E),f=E.first,p--}for(;d&&p;){const E=v[p-1],q=t[d-1],L=E.key,H=q.key;E===q?(f=E.first,d--,p--):C.has(H)?!r.has(L)||R.has(L)?D(E):$.has(H)?d--:w.get(L)>w.get(H)?($.add(L),D(E)):(R.add(H),d--):(s(q,r),d--)}for(;d--;){const E=t[d];C.has(E.key)||s(E,r)}for(;p;)D(v[p-1]);return $e(k),v}function ge(t,e){const n={},o={},i={$$scope:1};let l=t.length;for(;l--;){const r=t[l],a=e[l];if(a){for(const s in r)s in a||(o[s]=1);for(const s in a)i[s]||(n[s]=a[s],i[s]=1);t[l]=a}else for(const s in r)i[s]=1}for(const r in o)r in n||(n[r]=void 0);return n}function ut(t){return typeof t=="object"&&t!==null?t:{}}function Sn(t,e,n){const o=t.$$.props[e];o!==void 0&&(t.$$.bound[o]=n,n(t.$$.ctx[o]))}function X(t){t&&t.c()}function U(t,e,n){const{fragment:o,after_update:i}=t.$$;o&&o.m(e,n),st(()=>{const l=t.$$.on_mount.map(tc).filter(fn);t.$$.on_destroy?t.$$.on_destroy.push(...l):$e(l),t.$$.on_mount=[]}),i.forEach(st)}function K(t,e){const n=t.$$;n.fragment!==null&&(im(n.after_update),$e(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function sm(t,e){t.$$.dirty[0]===-1&&(ro.push(t),uc(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function he(t,e,n,o,i,l,r=null,a=[-1]){const s=Wo;Go(t);const u=t.$$={fragment:null,ctx:[],props:l,update:ye,not_equal:i,bound:fs(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(s?s.$$.context:[])),callbacks:fs(),dirty:a,skip_bound:!1,root:e.target||s.$$.root};r&&r(u.root);let f=!1;if(u.ctx=n?n(t,e.props||{},(c,d,...p)=>{const m=p.length?p[0]:d;return u.ctx&&i(u.ctx[c],u.ctx[c]=m)&&(!u.skip_bound&&u.bound[c]&&u.bound[c](m),f&&sm(t,c)),d}):[],u.update(),f=!0,$e(u.before_update),u.fragment=o?o(u.ctx):!1,e.target){if(e.hydrate){const c=Zd(e.target);u.fragment&&u.fragment.l(c),c.forEach(S)}else u.fragment&&u.fragment.c();e.intro&&A(t.$$.fragment),U(t,e.target,e.anchor),fc()}Go(s)}class _e{constructor(){pn(this,"$$");pn(this,"$$set")}$destroy(){K(this,1),this.$destroy=ye}$on(e,n){if(!fn(n))return ye;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const i=o.indexOf(n);i!==-1&&o.splice(i,1)}}$set(e){this.$$set&&!Yd(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const am="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(am);const oo=[];function Ln(t,e){return{subscribe:Ue(t,e).subscribe}}function Ue(t,e=ye){let n;const o=new Set;function i(a){if(ue(t,a)&&(t=a,n)){const s=!oo.length;for(const u of o)u[1](),oo.push(u,t);if(s){for(let u=0;u<oo.length;u+=2)oo[u][0](oo[u+1]);oo.length=0}}}function l(a){i(a(t))}function r(a,s=ye){const u=[a,s];return o.add(u),o.size===1&&(n=e(i,l)||ye),a(t),()=>{o.delete(u),o.size===0&&n&&(n(),n=null)}}return{set:i,update:l,subscribe:r}}function cn(t,e,n){const o=!Array.isArray(t),i=o?[t]:t;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const l=e.length<2;return Ln(n,(r,a)=>{let s=!1;const u=[];let f=0,c=ye;const d=()=>{if(f)return;c();const m=e(o?u[0]:u,r,a);l?r(m):c=fn(m)?m:ye},p=i.map((m,_)=>Cr(m,v=>{u[_]=v,f&=~(1<<_),s&&d()},()=>{f|=1<<_}));return s=!0,d(),function(){$e(p),c(),s=!1}})}function ds(t){return{subscribe:t.subscribe.bind(t)}}const um={plots:[],timeSpent:0,devMode:!1,lastChangeDay:0,townLog:[],currentTutorialStep:0,townInfo:{name:"Your town",gold:150,population_count:0,population_max:0,employees:0,guardians:0,happiness:150,health:150,community:150,knowledge_points:0,productivity:100},kingdom_expansions:0,resources:{food:50,wood:750,stone:750,metal:0,power:0,bureaucracy:0},resource_rate:{food:0,wood:0,stone:0,metal:0,bureaucracy:0,knowledge:0},hasCityHall:!1,hasBank:!1,hasHospital:!1,hasLab:!1,modifiers:{happiness:1,health:1,community:1},economyAndLaws:{tax_rate:.1,max_tax_rate:1,weeklyProfit:0,knowledge_gold_market_rates:[],enacted:[]},plotCounts:[],environment:{day:0,year:1},maximums:{health:300,happiness:300,community:300},difficulty:0,endGoal:"land",endGameDetails:{msg:"",win:!1,still_playing:!0},tick:0,overtime:!1,last_warning_happiness:0,last_warning_health:0,lab:{active_experiment:null,past_experiments:[],xp:0},liege_location:null},fm={username:"",stats:{games_played:0,wins:0,losses:0},achievements:[]},Pr={0:"Easy",1:"Normal",2:"Hard"},cm={0:Math.random()*(.5-.3)+.3,1:Math.random()*(.4-.2)+.2,2:Math.random()*(.4-.2)+.2},oe=[{id:"small_homes",title:"🏠 Homes",type:"residential",description:"+16 people",revenue_per_week:0,requirements:{gold:150,plots:[],employees:0,knowledge:0,size:1,xp:0,resources:{food:0,wood:50,stone:10,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:16,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:2,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"Listen to the townspeople."},{id:"farm",title:"🥕 Farm",type:"farm",description:"Produces veggies, grains, fruit",revenue_per_week:6,requirements:{gold:80,plots:[],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:10,stone:10,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.03,health:1.03,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:5,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},check_for_variety:!1,liege_on_plot_hint:"Your presence on the farm is encouraging the farmers to work harder!"},{id:"tree_farm",title:"🌲 Tree Farm",type:"lumber",description:"Produces some wood",revenue_per_week:8,requirements:{gold:300,plots:[],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},check_for_variety:!0,styling:"",affordable:null,selected:null,knowledge_points_per_month:0,generated_resources:{food:0,wood:10,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"Your presence on the farm is encouraging the farmers to work harder!"},{id:"quarry",title:"⛏️ Quarry",type:"quarry",description:"Produces stone, small amounts of metal. Isn't great for health. ",revenue_per_week:0,requirements:{gold:800,plots:[],employees:6,knowledge:0,size:1,xp:0,resources:{food:0,wood:50,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:.98,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:18,metal:1,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"The workers at the quarry are working harder with the presence of their liege."},{id:"livestock_farm",title:"🐄 Livestock",type:"farm",description:"Makes more money and food than a regular farm, but doesn't bonus from water.",revenue_per_week:72,requirements:{gold:600,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:20,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.1,health:1.05,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:14,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},check_for_variety:!1,liege_on_plot_hint:"The cows are producing more milk and cheese when you are hanging out on the farm."},{id:"bakery",title:"🥖 Bakery",type:"business",description:"Converts food into some extra cash. Make sure you have enough food.",revenue_per_week:90,requirements:{gold:500,plots:[],employees:3,knowledge:0,size:1,xp:0,resources:{food:0,wood:170,stone:170,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.11,health:.95,community:1},immediate_variable_changes:{happiness:25,health:0,population:0,community:0,bureaucracy:0},check_for_variety:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:15},liege_on_plot_hint:null},{id:"stables",title:"🐴 Stables",type:"business",description:"Makes money and improves health",revenue_per_week:24,requirements:{gold:400,plots:[],employees:2,knowledge:0,size:1,xp:0,resources:{food:0,wood:120,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.2,health:1.2,community:1},immediate_variable_changes:{happiness:5,health:10,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"church",title:"⛪️ Church",type:"recreation",description:"Makes people VERY happy for a short period.",revenue_per_week:0,requirements:{gold:900,plots:[],employees:1,knowledge:0,size:1,xp:0,resources:{food:0,wood:1e3,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.3,health:1,community:1.3},immediate_variable_changes:{happiness:25,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"pub",title:"🍻 Pub",type:"recreation",description:"Generates knowledge, happiness, community. Isn't great for health.",revenue_per_week:40,knowledge_points_per_month:1,requirements:{gold:500,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:100,stone:50,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.2,health:.93,community:1.1},immediate_variable_changes:{happiness:10,health:-15,population:0,community:0,bureaucracy:0},check_for_variety:!0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"village_market",title:"🛒 Village Market",type:"shop",description:"Turns food into money. Sells goods and employs many. Makes significantly more money from tourism if you have a Village Inn.",revenue_per_week:180,requirements:{gold:1400,plots:[],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:150,stone:150,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.05,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:35},liege_on_plot_hint:"Your presence is helping the market make more money."},{id:"fishery",title:"🐠 Fishery",type:"business",description:"Requires metal but generates a lot of food. Must be near water.",revenue_per_week:35,requirements:{gold:1500,plots:[],employees:9,knowledge:0,size:1,xp:0,resources:{food:0,wood:1500,stone:0,metal:100,power:0,bureaucracy:0},adjacent_plots:["water"]},effect_modifiers:{happiness:1.05,health:1,community:1},immediate_variable_changes:{happiness:15,health:8,population:0,community:0,bureaucracy:0},check_for_variety:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:75,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"Your expertise in fishing is helping the town reel in far more fish!"},{id:"vineyard",title:"🍇 Vineyard",type:"farm",description:"Makes fair money, lowers health. Generates knowledge too similar to a pub.",revenue_per_week:60,requirements:{gold:700,plots:[],employees:6,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.5,health:.9,community:1},immediate_variable_changes:{happiness:0,health:-10,population:0,community:0,bureaucracy:0},knowledge_points_per_month:3,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"water_wheel",title:"💧 Water Wheel",type:"industrial",description:"Produces small amount of power",revenue_per_week:0,requirements:{gold:800,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:200,stone:50,metal:0,power:0,bureaucracy:0},adjacent_plots:["water"]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:35,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"You are trying to improve the efficiency of the water wheel, but you aren't making a difference."},{id:"adv_water_wheel",title:"💧 Adv. Water Wheel",type:"industrial",description:"Produces a large amount of power",revenue_per_week:0,requirements:{gold:1800,plots:["blacksmith"],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:400,stone:150,metal:500,power:0,bureaucracy:0},adjacent_plots:["water"]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:100,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"You are trying to improve the efficiency of the water wheel, but you aren't making a difference."},{id:"park",title:"🎪 Park",type:"recreation",description:"Makes people extremely happy & healthy for a period. Improves community.",revenue_per_week:0,requirements:{gold:600,plots:[],employees:3,knowledge:0,size:1,xp:0,resources:{food:0,wood:100,stone:100,metal:10,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.5,health:1.5,community:1.3},immediate_variable_changes:{happiness:40,health:40,population:0,community:40,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"village_inn",title:"🛌 Village Inn",type:"tourism",description:"Enables tourism to your town, which increases revenue at certain stores.",revenue_per_week:23,requirements:{gold:1500,plots:[],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:150,stone:100,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1.02},immediate_variable_changes:{happiness:10,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:20,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"schoolhouse",title:"🏫 Schoolhouse",type:"education",description:"Produces knowledge, costs money to run.",revenue_per_week:0,knowledge_points_per_month:25,requirements:{gold:2500,plots:["lumber_mill"],employees:20,knowledge:0,size:1,xp:0,resources:{food:0,wood:500,stone:100,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.1,health:1.1,community:1.2},immediate_variable_changes:{happiness:15,health:3,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:50,power:20,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:"The children seem to be learning worse when you are around, maybe you are a distraction from the teachers."},{id:"blacksmith",title:"⚒️ Blacksmith",type:"business",description:"Converts metal into tools for money. Make sure you have enough metal!",revenue_per_week:300,requirements:{gold:3e3,plots:[],employees:24,knowledge:0,size:1,xp:0,resources:{food:0,wood:250,stone:250,metal:500,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:.95},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:75,wood:0,stone:0,metal:10,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"library",title:"📕 Library",type:"recreation",description:"Produces knowledge and happiness",revenue_per_week:0,knowledge_points_per_month:10,requirements:{gold:2e3,plots:["lumber_mill"],employees:6,knowledge:0,size:1,xp:0,resources:{food:0,wood:225,stone:100,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.3,health:1,community:1.1},immediate_variable_changes:{happiness:15,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"lumber_mill",title:"🏭 Lumber Mill",type:"industrial",description:"Increases wood production by 25%, has to be next to a tree farm",revenue_per_week:0,requirements:{gold:4e3,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:300,stone:100,metal:0,power:0,bureaucracy:0},adjacent_plots:["tree_farm"]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:50,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:20,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"solar_farm",title:"☀️ Solar farm",type:"industrial",description:"Produces a lot of power without the need of water.",revenue_per_week:0,requirements:{gold:5e3,plots:["blacksmith"],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:500,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:500,bureaucracy:0},level:4,active_costs:{gold:0,power:0,wood:0,stone:0,metal:50,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"general_store",title:"🛒 General Store",type:"shop",description:"Makes the most money of any plot, requires power. Makes significantly more from tourism if you have a Village Inn.",revenue_per_week:500,requirements:{gold:15e3,plots:[],employees:32,knowledge:0,size:1,xp:0,resources:{food:0,wood:5e3,stone:5e3,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.05,health:1,community:1.1},immediate_variable_changes:{happiness:20,health:0,population:0,community:0,bureaucracy:0},check_for_variety:!1,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:60,wood:0,stone:0,metal:0,bureaucracy:0,food:100},liege_on_plot_hint:"Your experience managing towns is increasing the profits at the general store!"},{id:"healing_house",title:"🏥 Healing House",type:"medical",description:"Treats the sick and continuously improves health.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:2e4,plots:["blacksmith"],employees:18,knowledge:0,size:1,xp:0,resources:{food:0,wood:800,stone:1e3,metal:1e3,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.25,health:1.5,community:1.1},immediate_variable_changes:{happiness:5,health:75,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:30,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"community_center",title:"🫶 Community Center",type:"recreation",description:"Improves community, makes people happier, costs money",revenue_per_week:0,requirements:{gold:19e3,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:1e3,stone:700,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.09,health:1,community:2},immediate_variable_changes:{happiness:50,health:15,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:10,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"city_hall",title:"🗳️ City Hall",type:"federal",description:"Generates bureaucracy that can be used to pass laws to impact the city and expand. Costs a lot of gold every week.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:35e3,plots:[],employees:32,knowledge:3e3,size:1,xp:0,resources:{food:0,wood:3250,stone:800,metal:200,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1.2},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:10},level:4,active_costs:{gold:300,power:20,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"mine",title:"⛏️ Mine",type:"mine",description:"Produces a significant amount of metal and stone.",revenue_per_week:0,requirements:{gold:5e4,plots:["blacksmith"],employees:64,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:150,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:.9,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:15,metal:50,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:80,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"academy",title:"🏫 Academy",type:"education",description:"Produces a lot of knowledge, requires high population",revenue_per_week:0,knowledge_points_per_month:90,requirements:{gold:3e4,plots:["lumber_mill"],employees:32,knowledge:1e3,size:1,xp:0,resources:{food:0,wood:5e3,stone:1600,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:500,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"bank",title:"🏦 Bank",type:"bank",description:"Enables the conversion of knowledge to gold, and increases maximum tax rate so you can make more money.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:75e3,plots:[],employees:32,knowledge:1e3,size:1,xp:0,resources:{food:0,wood:1e3,stone:1e4,metal:5e3,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:.8,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:75,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null},{id:"lab",title:"🧪 Laboratory",type:"science",description:"Designs things to help the city grow",revenue_per_week:0,knowledge_points_per_month:25,requirements:{gold:1e5,plots:[],employees:24,knowledge:1e4,size:1,xp:0,resources:{food:0,wood:0,stone:1e3,metal:3e3,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:.98,health:.99,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:300,power:35,wood:0,stone:0,metal:0,bureaucracy:0,food:0},liege_on_plot_hint:null}],Po={empty_unusable:"rgba(21, 40, 20, 0.70)",empty_buildable:"#CBB827",residential:"#de7633",farm:"#6b8f49",lumber:"#8E805C",business:"#9273a5",recreation:"#5277b1",shop:"#d896d8",tourism:"#d896d8",education:"#BFBEEB",medical:"#4a5ba3",bank:"#8477be",federal:"#8477be",science:"#4a5ba3",mine:"#d9874a",quarry:"#868685",industrial:"#868615"};function ji(t,e=!1){if(t<0)return t==-1?e?Po.empty_buildable:Po.empty_unusable:t==-2?Po.recreation:Po.empty_unusable;const n=oe[t];return Po[n.type]}const ms={lab:1,city_hall:1,bank:1,community_center:1,inn:1},Bt="plots_active_game_db",Yo="plots_user_db";function dm(){const t=["York","London","Paris","Madrid","Rome","Berlin","Vienna","Prague","Warsaw","Oslo","Lisbon","Dublin","Brussels","Amsterdam","Stockholm","Copenhagen","Edinburgh","Moscow","Beijing","Tokyo","Seoul","Bangkok","Delhi","Mumbai","Shanghai","Sydney","Melbourne","Cairo","Dubai","Istanbul","Athens","Budapest","Reykjavik","Helsinki","Tallinn","Riga","Vilnius","Sofia","Bucharest","Belgrade","Zagreb","Sarajevo","Ljubljana","Skopje","Tirana","Podgorica","Thessaloniki","Barcelona","Valencia","Seville","Granada","Malaga","Lyon","Marseille","Toulouse","Nice","Nantes","Strasbourg","Bordeaux","Lille","Venice","Milan","Florence","Naples","Turin","Bologna","Perugia","Genoa","Pisa","Verona","Palermo","Catania","Bari","Padua","Cagliari","Krakow","Gdansk","Poznan","Wroclaw","Lodz","Katowice","Bialystok","Gdynia","Sopot","Bydgoszcz","Lublin","Szczecin","Gorzow","Zakopane","Olsztyn","Torun","Rzeszow","Kielce","Radom","Siedlce","Los","Angeles","Chicago","Houston","Phoenix","San","Antonio","San","Diego","Dallas","San","Jose","Austin","Jacksonville","Fort","Worth","Columbus","Charlotte","Liverpool","Manchester","Glasgow","Birmingham","Leeds","Sheffield","Newcastle","upon","Tyne","Bristol","Nottingham","Leicester","Coventry","Belfast","Reading","Cardiff","Southampton","Aberdeen","Plymouth","Stoke","Trent","Wolverhampton","Swansea","Sunderland","Portsmouth","Yorkshire","Hull","Blackpool","Bradford","Derby","Middlesbrough","Peterborough","Stockton","on","Tees","Brighton","Poole","Bournemouth","Huddersfield","Luton","Oxford","Norwich","Oldham","Cambridge","Exeter","Walsall","Colchester","Watford","Rotherham","Newport","Gateshead","Dundee","Gloucester","Solihull","High","Wycombe","Maidstone","Slough","Basildon","Chelmsford","Salford","Bedford","Stevenage","Woking","Grimsby","Birkenhead","Halifax","Warrington","Gillingham","Wigan","Worcester","Wakefield","Lincoln","Chester","Rochdale","Dagenham","Widnes","St","Albans","Mansfield","Sutton","Coldfield","Crawley","Wokingham","Barnsley","St","Helens","Harrogate","Redditch","Scunthorpe","Nuneaton","Chesterfield","Hemel","Hempstead","Bury","Guildford","Ashford","Telford","Newcastle","under","Lyme","Aylesbury","Halesowen","Shrewsbury","Lowestoft","Loughborough","Cheltenham","Kidderminster","Basingstoke","Rugby","Stourbridge","Southport","Kettering","Royal","Leamington","Spa","Beeston","Farnborough","Wrexham","Banbury","Weymouth","Wallsend","Dartford","Grays","Tamworth","Ashford","Esher","Folkestone","Tonbridge","Taunton","Runcorn","Macclesfield","Keighley","Bridgend","Barnstaple","Letchworth","Garden","City","Worthing","Gosport","Eastleigh","Staines","upon","Thames","Lisburn","Livingston","Bognor","Regis","Scarborough","Cannock","Margate","Chippenham","Rhondda","Maidenhead","Wellingborough","Washington","Camberley","Bootle","Lancaster","Llanelli","Chatham","Cheshunt","Bishop","Auckland","Nelson","Belper","Pontefract","Barry","Braintree","Crosby","Bury","St","Edmunds","Bexhill","Margate","Aldershot","Rowley","Regis","Hoddesdon","Sittingbourne","Rugby","Newquay","Falmouth","Stretford","Camberley","Beverley","Windsor","Rochester","Wickford","Diss","Farnham","Andover","Camberwell","Bermondsey","Lewisham","Wembley","Hayes","Harrow","Ilford","Enfield","Twickenham","Richmond","Brentwood","Edgware","Ealing","Greenwich","Bromley","Hounslow","Romford","Hillingdon","Uxbridge","Wandsworth","Sutton","Kingston","upon","Thames","Bexley","Havering","Barking"],e=["ia","ville","ton","land","field","burgh","ford","wood","port","bay","beach","peak","valley","ridge","hill","dale","island","cape","spring","grove","polis","side","view","shore","haven","place","gardens","plaza","square"],n=["New","Old","North","South","East","West","Upper","Lower","Little","Great","Saint","Fort","Mount","Lake","River","The Village of","The City of","The Town of","The Borough of","The County of","The State of","The Kingdom of","The Empire of","The Republic of","The Commonwealth of","The Union of","The Federation of","Rainy","Sunny","Windy","Frosty","Snowy"];function o(s){return s[Math.floor(Math.random()*s.length)]}let i=o(n),l=o(t),r=o(e),a="";return Math.random()>.5?a=i+" "+l+r:a=l+r,a}let Oe=Ue(JSON.parse(localStorage.getItem(Bt)||"null")),rn=Ue(JSON.parse(localStorage.getItem(Yo)||"null"));hm();function mm(t,e,n,o){let i={...um};i.economyAndLaws.max_tax_rate=cm[t],i.endGoal=e;let l=[];n=n.replace(/[^a-zA-Z0-9 ]/g,"").trim(),i.townInfo.name=n!=""?n:dm(),i.difficulty=parseInt(t),o&&(i.devMode=!0,i.townInfo.gold=1e8,i.townInfo.happiness=1e7,i.townInfo.health=1e6,i.townInfo.knowledge_points=1e5,i.modifiers.happiness=1e4,i.modifiers.health=1e4,i.resources.food=1e6,i.resources.wood=1e6,i.resources.stone=1e6,i.resources.metal=1e6);const r=t=="0"?8:t=="1"?12:t=="2"?16:1,a=Math.floor(Math.random()*r/2)+1,s=Math.floor(Math.random()*r/2)+1;for(let u=0;u<r;u++){l.push([]);for(let f=0;f<r;f++){const c=u==a&&f==s?!1:pm(u,f,r);l[u][f]={id:Math.random().toString(36).substring(2,9),active:!1,x:u,y:f,type:c?-9:-1,typeId:"",mineralSource:c?!1:a===u&&s===f,water:a===u&&s===f?!1:c}}}i.plots=l,localStorage.reset=!1,localStorage.setItem(Bt,JSON.stringify(i)),Oe.set(i),location.reload()}function pm(t,e,n){let o=.06;return t>0&&e>0&&t<n-1&&e<n-1&&(o*=2),(e==Math.round(n/2)||e==Math.round(n/2)-1)&&(o*=5),t==0&&e==0&&(o=0),Math.random()<o}function hm(){if(localStorage.getItem(Yo)===null){let t=fm;t.username="my_username_click_to_change",localStorage.setItem(Yo,JSON.stringify(t)),rn.set(t)}}function ps(t,e){var n=Math.pow(10,e);t=parseFloat((t*n).toFixed(11));var o=Math.round(t)/n;return+o.toFixed(e)}function Bi(t,e,n){let o=n.plots[t][e].type;if(n.plots[t][e].type=-1,n.plots[t][e].active=!1,o>-1&&(n.townInfo.population_count-=oe[o].immediate_variable_changes.population,n.townInfo.population_max-=oe[o].immediate_variable_changes.population,n.townInfo.happiness-=oe[o].immediate_variable_changes.happiness,n.townInfo.health-=oe[o].immediate_variable_changes.health,n.modifiers.happiness=ps(n.modifiers.happiness/oe[o].effect_modifiers.happiness,2),n.modifiers.health=ps(n.modifiers.health/oe[o].effect_modifiers.health,2),n.townInfo.employees-=oe[o].requirements.employees,(n.plotCounts[o]===void 0||n.plotCounts[o]===null)&&(n.plotCounts[o]=0),n.plotCounts[o]--,(oe[o].requirements.size??1)>1))for(let l=0;l<n.plots.length;l++)for(let r=0;r<n.plots[t].length;r++)n.plots[l][r].referencePlot!=null&&n.plots[l][r].referencePlot[0]===t&&n.plots[l][r].referencePlot[1]===e&&Bi(l,r,n);n.lastChangeDay=n.environment.day,Oe.set(n),localStorage.setItem(Bt,JSON.stringify(n))}function qe(t,e){let n=[];for(let o=0;o<e.plots.length;o++)for(let i=0;i<e.plots[o].length;i++)e.plots[o][i].active==!1||e.plots[o][i]==null||e.plots[o][i].type===null||e.plots[o][i].type<0||(oe[e.plots[o][i].type].id===t||oe[e.plots[o][i].type].type===t)&&n.push(e.plots[o][i]);return n}function so(t,e,n){return n.liege_location!=null&&n.liege_location[0]===t&&n.liege_location[1]===e}function _m(t,e){const n=t.plots.length,o=n>0?t.plots[0].length:0,i=e=="east"?5:0,l=e=="south"?5:0,r=Math.round(Math.pow(1.5,t.kingdom_expansions+5));if(t.townInfo.guardians<r)return`You need ${r-t.townInfo.guardians} more Guardians to expand the kingdom. See the City mgmt menu.`;for(let a=0;a<n;a++)for(let s=o;s<o+i;s++)t.plots[a].push({id:Math.random().toString(36).substring(2,9),active:!1,x:a,y:s,type:-1,typeId:"",mineralSource:!1,water:!1,disabled:!1});for(let a=n;a<n+l;a++){const s=[];for(let u=0;u<o+i;u++)s.push({id:Math.random().toString(36).substring(2,9),active:!1,x:a,y:u,type:-1,typeId:"",mineralSource:!1,water:!1});t.plots.push(s)}t.kingdom_expansions++,Oe.set(t)}function Nr(t=null){localStorage.removeItem(Bt),Oe.set(null),t&&(localStorage.setItem(Bt,JSON.stringify(t)),Oe.set(t)),location.reload()}function gm(){cc.update(t=>!t),localStorage.setItem("showOnlyAffordable",localStorage.getItem("showOnlyAffordable")==="true"?"false":"true")}function hs(t,e,n){n.liege_location=[t,e],_o.set(!1),document.querySelectorAll(".plot_container").forEach(i=>{i.style.cursor=""}),Oe.set(n)}let ot=Ue({visible:!1,x:0,y:0,isMineralSource:!1}),Ho=Ue({visible:!1});function bm(t){rn.set(t),localStorage.setItem(Yo,JSON.stringify(t))}let ho=Ue({}),Ti=Ue(!1),Et=Ue(!1),Zl=Ue(!0),_s=Ue(!1),qi=Ue(!1),Gi=Ue(!1),Ii=Ue(!1),_o=Ue(!1),Hi=Ue(!1),Rt=Ue(""),Vi=localStorage.getItem("showCompletedAchievements")==="true"?Ue(!0):Ue(!1),cc=localStorage.getItem("showOnlyAffordable")==="true"?Ue(!0):Ue(!1),dc=localStorage.getItem("pauseMenuTab")==="game"?Ue("game"):Ue("achievements"),Ql=Ue(750);const $t={unemployment_num:" people can't find jobs.",bored:"People are bored. Try making some new buildings.",vairety:"People don't like going to the same places over and over again. Try making some new buildings.",nobody_home:"Build some homes!",leave_town_num:" people left town because they were unhappy.",new_people_num:" new people moved to town.",people_want_to_move_in:"People want to move in. Build more homes.",high_tax_rate:"People are unhappy with the high tax rate.",very_high_tax_rate:"People are extremely unhappy with the high tax rate.",sickAndDying:"People are sick and dying.",sickAndLeaving:"People are sick and leaving town.",happiness_zero:"The town has fallen into chaos due to extreme unhappiness.",health_zero:"The town has fallen into chaos due to extreme sickness.",population_zero:"The town has been condemned due to lack of population.",win:{land:"You have filled the grid with buildings. You win!"},hospital_advantage:"Because you have a hospital, the town is staying healthier for longer!",notEnoughVariety:"People are sick of going to the same places over and over, add some variety!"},it=[{id:"happiness_at_300",title:"Happy Town",description:"One of your towns wins Happiest Town Award!",requirements:"Happiness reaches 300",icon:"😍",check:t=>t.townInfo.happiness>=300,prize:1e3},{id:"get_educated",title:"Get Educated",description:"The kids are finally able to learn!",requirements:"Build a school or library",icon:"📌",check:t=>qe("small_school",t).length!==0||qe("large_school",t).length!==0||qe("library",t).length!==0,prize:1850},{id:"10k",title:"$10,000",description:"",requirements:"Gold reaches $10,000",icon:"﹩",check:t=>t.townInfo.gold>=1e4,prize:2500},{id:"25k",title:"$25,000",description:"",requirements:"Gold reaches $25,000",icon:"💵",check:t=>t.townInfo.gold>=25e3,prize:7500},{id:"stayin_frugal",title:"Stayin' Frugal!",description:"",requirements:"Gold under $50 with >=300 population",icon:"🚲",check:t=>t.townInfo.gold<=50&&t.townInfo.population_count>=300,prize:1e4},{id:"profits_to_the_moon",title:"Profits to the moon!",description:"Now you're making dough!",requirements:"Last month profit is over $10,000",icon:"🌛",check:t=>t.economyAndLaws.weeklyProfit>=1e4,prize:15e3},{id:"happily_dying",title:"Happily Dying!",description:"Not something to be proud of...",requirements:"Happiness > 275, health < 25",icon:"🌛",check:t=>t.townInfo.happiness>275&&t.townInfo.health<25,prize:2e4},{id:"long_game",title:"The Long Game",description:"So are you gonna win anytime soon?",requirements:"Still playing after 10,000 days, without winning. ",icon:"🐌",check:t=>t.endGameDetails.win===!1&&t.environment.day>1e4&&t.endGameDetails.msg==="",prize:25e3},{id:"tax_man",title:"Tax man",description:"Set the tax rate to the absolute max that the town will tolerate.",requirements:"",icon:"🙃",check:t=>{let e=Math.floor(t.economyAndLaws.max_tax_rate*20)/20;return t.economyAndLaws.tax_rate===e},prize:1500},{id:"good_job",title:"Good job",description:"Beat 'Fill the grid' with Normal difficulty in under 3,000 days.",requirements:"",icon:"👍",check:t=>t.endGameDetails.win===!0&&t.environment.day<=3e3&&t.difficulty===1&&t.endGoal==="land",prize:1e4},{id:"great_job",title:"Great job",description:"Beat 'Fill the grid' with Normal difficulty in under 2,000 days.",requirements:"",icon:"👏",check:t=>t.endGameDetails.win===!0&&t.environment.day<=2e3&&t.difficulty===1&&t.endGoal==="land",prize:45e3},{id:"superb_job",title:"SUPERB job",description:"Beat 'Fill the grid' with Normal difficulty in under 500 days.",requirements:"",icon:"👌",check:t=>t.endGameDetails.win===!0&&t.environment.day<=500&&t.difficulty===1&&t.endGoal==="land",prize:1e5},{id:"250k",title:"$250,000",description:"",requirements:"Gold reaches $250,000",icon:"💸",check:t=>t.townInfo.gold>=25e4,prize:5e4},{id:"banker",title:"Banker",description:"",requirements:"Build your first bank. ",icon:"🏦",check:t=>qe("bank",t).length!==0,prize:5e3},{id:"community",title:"Community Center",description:"",requirements:"Build your first community center. ",icon:"❤️",check:t=>qe("community_center",t).length!==0,prize:1e4},{id:"1m",title:"MILLIONAIRE!",description:"",requirements:"Gold reaches $1,000,000",icon:"💰",check:t=>t.townInfo.gold>=1e6,prize:15e4}],Pn=[{message:"My liege, we need places to live! Build the first homes.",isComplete:t=>t.townInfo.population_max>0,goldReward:750},{message:"My liege, you need to start making food and wood.",isComplete:t=>qe("farm",t).length>=1&&qe("tree_farm",t).length>=1,goldReward:300},{message:"My liege, the village will need stone and metals to expand. Build a quarry. ",isComplete:t=>qe("quarry",t).length>0,goldReward:500},{message:"My liege, things are picking up but we will need far more money. Get weekly revenue to >=200 gold. ",isComplete:t=>t.economyAndLaws.weeklyProfit>=200,goldReward:2e3},{message:"My liege, as the town develops we will need the smartest and brightest. Build plots to get our Knowledge to 250.",isComplete:t=>t.townInfo.knowledge_points>=250,goldReward:2e3},{message:"My liege, the village is growing - yay! But we need to have more workers. Get the population to 100.",isComplete:t=>t.townInfo.population_count>=100,goldReward:1500},{message:"My liege, some advanced buildings require power. Start generating power with a water wheel or a solar farm.",isComplete:t=>t.resources.power>0,goldReward:2e3},{message:"My liege, we need more metals. Find a good spot for a mine and build it. ",isComplete:t=>qe("mine",t).length>0,goldReward:1e4},{message:"My liege, mining resources has taken a toll on the towns health. Build a Healing House to lower the chance of sickness.",isComplete:t=>qe("healing_house",t).length>0,goldReward:15e3},{message:"My liege, now that we have metals, power, and people, your next goal is a big one. Build your town a City Hall.",isComplete:t=>qe("city_hall",t).length>0,goldReward:1e4}];function mc(t){var e,n,o="";if(typeof t=="string"||typeof t=="number")o+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=mc(t[e]))&&(o&&(o+=" "),o+=n)}else for(n in t)t[n]&&(o&&(o+=" "),o+=n);return o}function vm(){for(var t,e,n=0,o="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=mc(t))&&(o&&(o+=" "),o+=e);return o}const Er="-";function ym(t){const e=km(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:o}=t;function i(r){const a=r.split(Er);return a[0]===""&&a.length!==1&&a.shift(),pc(a,e)||wm(r)}function l(r,a){const s=n[r]||[];return a&&o[r]?[...s,...o[r]]:s}return{getClassGroupId:i,getConflictingClassGroupIds:l}}function pc(t,e){var r;if(t.length===0)return e.classGroupId;const n=t[0],o=e.nextPart.get(n),i=o?pc(t.slice(1),o):void 0;if(i)return i;if(e.validators.length===0)return;const l=t.join(Er);return(r=e.validators.find(({validator:a})=>a(l)))==null?void 0:r.classGroupId}const gs=/^\[(.+)\]$/;function wm(t){if(gs.test(t)){const e=gs.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function km(t){const{theme:e,prefix:n}=t,o={nextPart:new Map,validators:[]};return Am(Object.entries(t.classGroups),n).forEach(([l,r])=>{zl(r,o,l,e)}),o}function zl(t,e,n,o){t.forEach(i=>{if(typeof i=="string"){const l=i===""?e:bs(e,i);l.classGroupId=n;return}if(typeof i=="function"){if(Cm(i)){zl(i(o),e,n,o);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([l,r])=>{zl(r,bs(e,l),n,o)})})}function bs(t,e){let n=t;return e.split(Er).forEach(o=>{n.nextPart.has(o)||n.nextPart.set(o,{nextPart:new Map,validators:[]}),n=n.nextPart.get(o)}),n}function Cm(t){return t.isThemeGetter}function Am(t,e){return e?t.map(([n,o])=>{const i=o.map(l=>typeof l=="string"?e+l:typeof l=="object"?Object.fromEntries(Object.entries(l).map(([r,a])=>[e+r,a])):l);return[n,i]}):t}function Sm(t){if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,o=new Map;function i(l,r){n.set(l,r),e++,e>t&&(e=0,o=n,n=new Map)}return{get(l){let r=n.get(l);if(r!==void 0)return r;if((r=o.get(l))!==void 0)return i(l,r),r},set(l,r){n.has(l)?n.set(l,r):i(l,r)}}}const hc="!";function Tm(t){const e=t.separator,n=e.length===1,o=e[0],i=e.length;return function(r){const a=[];let s=0,u=0,f;for(let _=0;_<r.length;_++){let v=r[_];if(s===0){if(v===o&&(n||r.slice(_,_+i)===e)){a.push(r.slice(u,_)),u=_+i;continue}if(v==="/"){f=_;continue}}v==="["?s++:v==="]"&&s--}const c=a.length===0?r:r.substring(u),d=c.startsWith(hc),p=d?c.substring(1):c,m=f&&f>u?f-u:void 0;return{modifiers:a,hasImportantModifier:d,baseClassName:p,maybePostfixModifierPosition:m}}}function Im(t){if(t.length<=1)return t;const e=[];let n=[];return t.forEach(o=>{o[0]==="["?(e.push(...n.sort(),o),n=[]):n.push(o)}),e.push(...n.sort()),e}function Mm(t){return{cache:Sm(t.cacheSize),splitModifiers:Tm(t),...ym(t)}}const Om=/\s+/;function Pm(t,e){const{splitModifiers:n,getClassGroupId:o,getConflictingClassGroupIds:i}=e,l=new Set;return t.trim().split(Om).map(r=>{const{modifiers:a,hasImportantModifier:s,baseClassName:u,maybePostfixModifierPosition:f}=n(r);let c=o(f?u.substring(0,f):u),d=!!f;if(!c){if(!f)return{isTailwindClass:!1,originalClassName:r};if(c=o(u),!c)return{isTailwindClass:!1,originalClassName:r};d=!1}const p=Im(a).join(":");return{isTailwindClass:!0,modifierId:s?p+hc:p,classGroupId:c,originalClassName:r,hasPostfixModifier:d}}).reverse().filter(r=>{if(!r.isTailwindClass)return!0;const{modifierId:a,classGroupId:s,hasPostfixModifier:u}=r,f=a+s;return l.has(f)?!1:(l.add(f),i(s,u).forEach(c=>l.add(a+c)),!0)}).reverse().map(r=>r.originalClassName).join(" ")}function Nm(){let t=0,e,n,o="";for(;t<arguments.length;)(e=arguments[t++])&&(n=_c(e))&&(o&&(o+=" "),o+=n);return o}function _c(t){if(typeof t=="string")return t;let e,n="";for(let o=0;o<t.length;o++)t[o]&&(e=_c(t[o]))&&(n&&(n+=" "),n+=e);return n}function er(t,...e){let n,o,i,l=r;function r(s){const u=e.reduce((f,c)=>c(f),t());return n=Mm(u),o=n.cache.get,i=n.cache.set,l=a,a(s)}function a(s){const u=o(s);if(u)return u;const f=Pm(s,n);return i(s,f),f}return function(){return l(Nm.apply(null,arguments))}}function tt(t){const e=n=>n[t]||[];return e.isThemeGetter=!0,e}const gc=/^\[(?:([a-z-]+):)?(.+)\]$/i,Em=/^\d+\/\d+$/,Rm=new Set(["px","full","screen"]),Lm=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Dm=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,$m=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Fm=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,jm=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function zt(t){return Nn(t)||Rm.has(t)||Em.test(t)}function _n(t){return ko(t,"length",Um)}function Nn(t){return!!t&&!Number.isNaN(Number(t))}function hi(t){return ko(t,"number",Nn)}function No(t){return!!t&&Number.isInteger(Number(t))}function Bm(t){return t.endsWith("%")&&Nn(t.slice(0,-1))}function Be(t){return gc.test(t)}function gn(t){return Lm.test(t)}const qm=new Set(["length","size","percentage"]);function Gm(t){return ko(t,qm,bc)}function Hm(t){return ko(t,"position",bc)}const Vm=new Set(["image","url"]);function Wm(t){return ko(t,Vm,Xm)}function Ym(t){return ko(t,"",Km)}function Eo(){return!0}function ko(t,e,n){const o=gc.exec(t);return o?o[1]?typeof e=="string"?o[1]===e:e.has(o[1]):n(o[2]):!1}function Um(t){return Dm.test(t)&&!$m.test(t)}function bc(){return!1}function Km(t){return Fm.test(t)}function Xm(t){return jm.test(t)}function tr(){const t=tt("colors"),e=tt("spacing"),n=tt("blur"),o=tt("brightness"),i=tt("borderColor"),l=tt("borderRadius"),r=tt("borderSpacing"),a=tt("borderWidth"),s=tt("contrast"),u=tt("grayscale"),f=tt("hueRotate"),c=tt("invert"),d=tt("gap"),p=tt("gradientColorStops"),m=tt("gradientColorStopPositions"),_=tt("inset"),v=tt("margin"),C=tt("opacity"),w=tt("padding"),k=tt("saturate"),R=tt("scale"),$=tt("sepia"),D=tt("skew"),E=tt("space"),q=tt("translate"),L=()=>["auto","contain","none"],H=()=>["auto","hidden","clip","visible","scroll"],y=()=>["auto",Be,e],g=()=>[Be,e],I=()=>["",zt,_n],N=()=>["auto",Nn,Be],B=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],F=()=>["solid","dashed","dotted","double","none"],J=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"],z=()=>["start","end","center","between","around","evenly","stretch"],Q=()=>["","0",Be],h=()=>["auto","avoid","all","avoid-page","page","left","right","column"],W=()=>[Nn,hi],Y=()=>[Nn,Be];return{cacheSize:500,separator:":",theme:{colors:[Eo],spacing:[zt,_n],blur:["none","",gn,Be],brightness:W(),borderColor:[t],borderRadius:["none","","full",gn,Be],borderSpacing:g(),borderWidth:I(),contrast:W(),grayscale:Q(),hueRotate:Y(),invert:Q(),gap:g(),gradientColorStops:[t],gradientColorStopPositions:[Bm,_n],inset:y(),margin:y(),opacity:W(),padding:g(),saturate:W(),scale:W(),sepia:Q(),skew:Y(),space:g(),translate:g()},classGroups:{aspect:[{aspect:["auto","square","video",Be]}],container:["container"],columns:[{columns:[gn]}],"break-after":[{"break-after":h()}],"break-before":[{"break-before":h()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...B(),Be]}],overflow:[{overflow:H()}],"overflow-x":[{"overflow-x":H()}],"overflow-y":[{"overflow-y":H()}],overscroll:[{overscroll:L()}],"overscroll-x":[{"overscroll-x":L()}],"overscroll-y":[{"overscroll-y":L()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",No,Be]}],basis:[{basis:y()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Be]}],grow:[{grow:Q()}],shrink:[{shrink:Q()}],order:[{order:["first","last","none",No,Be]}],"grid-cols":[{"grid-cols":[Eo]}],"col-start-end":[{col:["auto",{span:["full",No,Be]},Be]}],"col-start":[{"col-start":N()}],"col-end":[{"col-end":N()}],"grid-rows":[{"grid-rows":[Eo]}],"row-start-end":[{row:["auto",{span:[No,Be]},Be]}],"row-start":[{"row-start":N()}],"row-end":[{"row-end":N()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Be]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Be]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal",...z()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...z(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...z(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Be,e]}],"min-w":[{"min-w":[Be,e,"min","max","fit"]}],"max-w":[{"max-w":[Be,e,"none","full","min","max","fit","prose",{screen:[gn]},gn]}],h:[{h:[Be,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Be,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Be,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Be,e,"auto","min","max","fit"]}],"font-size":[{text:["base",gn,_n]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",hi]}],"font-family":[{font:[Eo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Be]}],"line-clamp":[{"line-clamp":["none",Nn,hi]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",zt,Be]}],"list-image":[{"list-image":["none",Be]}],"list-style-type":[{list:["none","disc","decimal",Be]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[C]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[C]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...F(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",zt,_n]}],"underline-offset":[{"underline-offset":["auto",zt,Be]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:g()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Be]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Be]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[C]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...B(),Hm]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Gm]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Wm]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[l]}],"rounded-s":[{"rounded-s":[l]}],"rounded-e":[{"rounded-e":[l]}],"rounded-t":[{"rounded-t":[l]}],"rounded-r":[{"rounded-r":[l]}],"rounded-b":[{"rounded-b":[l]}],"rounded-l":[{"rounded-l":[l]}],"rounded-ss":[{"rounded-ss":[l]}],"rounded-se":[{"rounded-se":[l]}],"rounded-ee":[{"rounded-ee":[l]}],"rounded-es":[{"rounded-es":[l]}],"rounded-tl":[{"rounded-tl":[l]}],"rounded-tr":[{"rounded-tr":[l]}],"rounded-br":[{"rounded-br":[l]}],"rounded-bl":[{"rounded-bl":[l]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[C]}],"border-style":[{border:[...F(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[C]}],"divide-style":[{divide:F()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...F()]}],"outline-offset":[{"outline-offset":[zt,Be]}],"outline-w":[{outline:[zt,_n]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:I()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[C]}],"ring-offset-w":[{"ring-offset":[zt,_n]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",gn,Ym]}],"shadow-color":[{shadow:[Eo]}],opacity:[{opacity:[C]}],"mix-blend":[{"mix-blend":J()}],"bg-blend":[{"bg-blend":J()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[o]}],contrast:[{contrast:[s]}],"drop-shadow":[{"drop-shadow":["","none",gn,Be]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[c]}],saturate:[{saturate:[k]}],sepia:[{sepia:[$]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[o]}],"backdrop-contrast":[{"backdrop-contrast":[s]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[c]}],"backdrop-opacity":[{"backdrop-opacity":[C]}],"backdrop-saturate":[{"backdrop-saturate":[k]}],"backdrop-sepia":[{"backdrop-sepia":[$]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[r]}],"border-spacing-x":[{"border-spacing-x":[r]}],"border-spacing-y":[{"border-spacing-y":[r]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Be]}],duration:[{duration:Y()}],ease:[{ease:["linear","in","out","in-out",Be]}],delay:[{delay:Y()}],animate:[{animate:["none","spin","ping","pulse","bounce",Be]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[R]}],"scale-x":[{"scale-x":[R]}],"scale-y":[{"scale-y":[R]}],rotate:[{rotate:[No,Be]}],"translate-x":[{"translate-x":[q]}],"translate-y":[{"translate-y":[q]}],"skew-x":[{"skew-x":[D]}],"skew-y":[{"skew-y":[D]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Be]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Be]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":g()}],"scroll-mx":[{"scroll-mx":g()}],"scroll-my":[{"scroll-my":g()}],"scroll-ms":[{"scroll-ms":g()}],"scroll-me":[{"scroll-me":g()}],"scroll-mt":[{"scroll-mt":g()}],"scroll-mr":[{"scroll-mr":g()}],"scroll-mb":[{"scroll-mb":g()}],"scroll-ml":[{"scroll-ml":g()}],"scroll-p":[{"scroll-p":g()}],"scroll-px":[{"scroll-px":g()}],"scroll-py":[{"scroll-py":g()}],"scroll-ps":[{"scroll-ps":g()}],"scroll-pe":[{"scroll-pe":g()}],"scroll-pt":[{"scroll-pt":g()}],"scroll-pr":[{"scroll-pr":g()}],"scroll-pb":[{"scroll-pb":g()}],"scroll-pl":[{"scroll-pl":g()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Be]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[zt,_n,hi]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}function Jm(t,{cacheSize:e,prefix:n,separator:o,extend:i={},override:l={}}){Mi(t,"cacheSize",e),Mi(t,"prefix",n),Mi(t,"separator",o);for(const r in l)xm(t[r],l[r]);for(const r in i)Zm(t[r],i[r]);return t}function Mi(t,e,n){n!==void 0&&(t[e]=n)}function xm(t,e){if(e)for(const n in e)Mi(t,n,e[n])}function Zm(t,e){if(e)for(const n in e){const o=e[n];o!==void 0&&(t[n]=(t[n]||[]).concat(o))}}function Qm(t,...e){return typeof t=="function"?er(tr,t,...e):er(()=>Jm(tr(),t),...e)}const vc=er(tr);function zm(t){const e=t-1;return e*e*e+1}function Fe(...t){return vc(vm(t))}const ml=(t,e={y:-8,x:0,start:.95,duration:150})=>{const n=getComputedStyle(t),o=n.transform==="none"?"":n.transform,i=(r,a,s)=>{const[u,f]=a,[c,d]=s;return(r-u)/(f-u)*(d-c)+c},l=r=>Object.keys(r).reduce((a,s)=>r[s]===void 0?a:a+`${s}:${r[s]};`,"");return{duration:e.duration??200,delay:0,css:r=>{const a=i(r,[0,1],[e.y??5,0]),s=i(r,[0,1],[e.x??0,0]),u=i(r,[0,1],[e.start??.95,1]);return l({transform:`${o} translate3d(${s}px, ${a}px, 0) scale(${u})`,opacity:r})},easing:zm}};function dt(t,e){if(e===void 0&&(e=0),t==null||t==null)return 0;t=parseFloat((t*Math.pow(10,e)).toFixed(11));var n=Math.round(t)/Math.pow(10,e);return+n.toFixed(e)}function Nl(t){return t<10?"0"+t:t}function ep(t){let e=Math.floor(t/1e3),n=Math.floor(e/60);e=e%60;let o=Math.floor(n/60);return n=n%60,`${Nl(o)}:${Nl(n)}:${Nl(e)}`}function be(t){return oe.findIndex(e=>e.id===t)}function vs(t){const n=new RegExp("\\p{Emoji}","u").exec(t);return n?n[0]:null}function Xt(t,e=!0){let n=t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,");return e||(n=n.split(".")[0]),n}function sn(t){return t.charAt(0).toUpperCase()+t.slice(1)}function ys(t,e=!0){return t=dt(t/(e?3:1),2),t<0?`${t}`:`+${t}`}function $n(t,e,n,o=!1){if(t<0||t>=n.plots.length||e<0||e>=n.plots[0].length)return!1;let i=[[t-1,e],[t+1,e],[t,e-1],[t,e+1],[t-1,e-1],[t-1,e+1],[t+1,e-1],[t+1,e+1]];for(let l=0;l<i.length;l++){let r=i[l][0],a=i[l][1];if(r>=0&&r<n.plots.length&&a>=0&&a<n.plots[0].length&&n.plots[r][a].water&&(o||n.plots[t][e].active==!0&&n.plots[t][e].type>0&&oe[n.plots[t][e].type].id=="farm"))return!0}return!1}function tp(t,e,n,o){if(t<0||t>=n.plots.length||e<0||e>=n.plots[0].length)return!1;let i=[[t-1,e],[t+1,e],[t,e-1],[t,e+1],[t-1,e-1],[t-1,e+1],[t+1,e-1],[t+1,e+1]],l=!0;for(let r=0;r<o.length;r++){let a=!1;if(o[r]=="water"&&$n(t,e,n,!0)){a=!0;break}for(let s=0;s<i.length;s++){let u=i[s][0],f=i[s][1];if(u>=0&&u<n.plots.length&&f>=0&&f<n.plots[0].length&&n.plots[u][f].active==!0&&n.plots[u][f].type>0&&oe[n.plots[u][f].type].id==o[r]){a=!0;break}}if(!a){l=!1;break}}return l}function np(t,e=0){let n=t*.95,o=t*1.05;return dt(Math.random()*(o-n)+n,e)}const nr=[{id:"organic_farming",description:"Organic Farming. Make townspeople healthier and happier, while decreasing overall food production.",cost:150,weekly_effect:t=>(t.modifiers.happiness*=1.1,t.modifiers.health*=1.1,t.resources.food-=2*qe("farm",t).length,t)},{id:"tax_free",description:"Tax-Free Month. For 1 month, the town loses all revenue from taxes, but happiness and health increase quite a lot. Automatically ends after 4 weeks.",cost:250,weekly_effect:t=>(localStorage.getItem("tax_free")===null?(localStorage.setItem("tax_free","0"),t.economyAndLaws.weeklyProfit=-1*t.economyAndLaws.weeklyProfit):localStorage.setItem("tax_free",(parseInt(localStorage.getItem("tax_free"))+1).toString()),parseInt(localStorage.getItem("tax_free"))>=4?(t.modifiers.happiness*=1,t.modifiers.health*=1,localStorage.removeItem("tax_free"),t.economyAndLaws.enacted=t.economyAndLaws.enacted.filter(e=>e!=="tax_free")):(t.modifiers.happiness*=1.2,t.modifiers.health*=1.2),t)},{id:"healthy_mining",description:"Healthy mining. Miners must mine with proper ventilation, but they move like molasses.",cost:250,weekly_effect:t=>(oe.find(e=>e.id==="mine"),t.modifiers.health*=1.1,t.resources.stone-=5*qe("quarry",t).length,t.resources.stone-=7*qe("mine",t).length,t.resources.metal-=15*qe("mine",t).length,t)},{id:"complicated_tax_forms",description:"Complicated Tax Forms. You sneak in a clause to charge 5% more in taxes. Now, if you adjust your tax rate 5% higher, they won't be upset. This can be enacted multiple times to stack.",cost:500,weekly_effect:t=>(t.economyAndLaws.max_tax_rate+=.05,t.economyAndLaws.enacted=t.economyAndLaws.enacted.filter(e=>e!=="complicated_tax_forms"),t)},{id:"legalize_it",description:"Legalize it. You legalize a substance that makes people happy, but it also gives them 'the munchies'. Food consumption and happiness go up.",cost:350,weekly_effect:t=>(t.resources.food-=Math.round(.2*t.townInfo.population_count),t.modifiers.happiness*=1.1,t)},{id:"park_upgrade",description:"Park upgrade. You hold a community forum and add the top 5 things that the people want in their parks. This increases happiness for each park.",cost:350,weekly_effect:t=>(t.townInfo.happiness+=2*qe("park",t).length,t)},{id:"career_politician",description:"Career Politician. You hire a career politician to help you with your town. They cost the town $100 per week, but they earn bureaucracy points faster.",cost:200,weekly_effect:t=>(t.resources.bureaucracy+=25,t)},{id:"the_big_wood_deal",description:"The Big Wood Deal. This law allows you to sell all of the wood in your town for $2/wood at once. This won't make the town happy, but may be necessary in a pinch. Can be enacted multiple times to sell to other buyers.",cost:200,weekly_effect:t=>(t.townInfo.gold+=2*t.resources.wood,t.resources.wood=0,t.resource_rate.wood=0,t.townInfo.happiness*=.8,t.economyAndLaws.enacted=t.economyAndLaws.enacted.filter(e=>e!=="the_big_wood_deal"),t)},{id:"picky_eating_liege",description:"Picky Eater Liege. There is some food that the town makes that you just really hate. By passing this law, you insist that they sell off that gross food for $1/food every week. You won't make as much food, but you won't have to eat it either.",cost:200,weekly_effect:t=>{const e=qe("farm",t).length*2,n=Math.floor(Math.random()*(.15*e-.05*e)+.05*e);return t.resources.food-=n,t.townInfo.gold+=n,t.townInfo.happiness=.95*t.townInfo.happiness,t}},{id:"stone_statue",description:"Stone Statue. You insist that we use ALL of our stone to build a massive statue. We lose all of our stone, but for some reason, the town has perfect health for a while.",cost:1e3,weekly_effect:t=>(t.resources.stone=0,t.modifiers.health=10,t)},{id:"out_of_town",description:"Out of town. Everyone needs a vacation, right? When this is enacted, EVERYONE must leave the town for 10 days. During this time, no resources are produced, no taxes are collected, and you must take ",cost:1e3,weekly_effect:t=>(t.resources.stone=0,t.modifiers.health=10,t)}];var rt=(t=>(t[t.GOOD=0]="GOOD",t[t.BAD=1]="BAD",t[t.NORMAL=2]="NORMAL",t))(rt||{});const ws=30;function op(t){return t=ap(t),t=t,t}function ip(t){const e=[()=>t.townInfo.happiness<100?"I heard that the town is unhappy. We miss our churches and parks...":"",()=>t.townInfo.health<100?"My kids keep getting sick, probably not enough farms around here!":"",()=>t.townInfo.happiness<50?"I'm thinking of moving out if things don't improve soon!":"",()=>t.townInfo.employees<t.townInfo.population_count?"I am unemployed and I hate it here":"",()=>t.townInfo.knowledge_points<100?"I wish we had more schools!":"",()=>t.economyAndLaws.tax_rate>t.economyAndLaws.max_tax_rate?"I wish the taxes were lower, I could use a break!":"",()=>t.townInfo.productivity>100?"I think we should take a day or two to just be chill, we've been working hard!":"",()=>t.economyAndLaws.tax_rate<t.economyAndLaws.max_tax_rate?"We would probably be ok chipping in more gold for village improvements.":""],n=Math.floor(Math.random()*e.length);return e[n]()}function lp(t,e,n){return t.resource_rate.food=gt(n.food-e.food,2),t.resource_rate.wood=gt(n.wood-e.wood,2),t.resource_rate.stone=gt(n.stone-e.stone,2),t.resource_rate.metal=gt(n.metal-e.metal,2),t.resource_rate.bureaucracy=gt(n.bureaucracy-e.bureaucracy,2),t}function rp(t){return t.hasBank,t}function sp(t){let e=t.economyAndLaws.knowledge_gold_market_rates[t.economyAndLaws.knowledge_gold_market_rates.length-1]||1;const n=-100,o=8,i=3;let l=Math.random(),r=Math.random()*i;if(l<.4){let a=Math.random()*o;Math.random()<.5?e+=a:e-=a}else Math.random()>.5?e+=r:e-=r;return e<n&&(e+=Math.random()*r/5),e=Math.round(e),t.economyAndLaws.knowledge_gold_market_rates=[...t.economyAndLaws.knowledge_gold_market_rates,e],t}function ap(t){if(t.townInfo.population_count<t.townInfo.population_max&&t.townInfo.happiness>50){let e=t.townInfo.population_max-t.townInfo.population_count,n=Math.round(t.townInfo.happiness/100*e);t.townInfo.population_count+=n,t.townInfo.population_count>t.townInfo.population_max&&(t.townInfo.population_count=t.townInfo.population_max),t.townInfo.employees+=n,t.townInfo.employees>t.townInfo.population_count&&(t.townInfo.employees=t.townInfo.population_count)}if(t.townInfo.happiness<50&&t.townInfo.population_count>0){let e=Math.round((150-t.townInfo.happiness)/5);t.townInfo.population_count-=e,t.townInfo.employees>0&&(t.townInfo.employees-=e)}else t.townInfo.population_count==t.townInfo.population_max;return t}function or(t){return t.lab.active_experiment==null||t.lab.active_experiment.duration>0&&(t.lab.active_experiment.duration-=1),t}function ir(t){return t.townInfo.happiness<0&&(t.townInfo.happiness=0),t.townInfo.health<0&&(t.townInfo.health=0),t.townInfo.community<0&&(t.townInfo.community=0),t.townInfo.gold<0&&(t.townInfo.gold=0),t.townInfo.employees<0&&(t.townInfo.employees=0),t.townInfo.knowledge_points<0&&(t.townInfo.knowledge_points=0),t.townInfo.population_count<0&&(t.townInfo.population_count=0),t.economyAndLaws.weeklyProfit=gt(t.economyAndLaws.weeklyProfit,0),t.townInfo.employees>t.townInfo.population_count&&(t.townInfo.employees=t.townInfo.population_count),t.townInfo.gold=gt(t.townInfo.gold,0),t.townInfo.population_count=gt(t.townInfo.population_count,0),t.townInfo.employees=gt(t.townInfo.employees,0),t.townInfo.population_max=gt(t.townInfo.population_max,0),t.townInfo.happiness=gt(t.townInfo.happiness,2),t.townInfo.health=gt(t.townInfo.health,2),t.townInfo.knowledge_points=gt(t.townInfo.knowledge_points,0),t.townInfo.happiness>t.maximums.happiness&&(t.townInfo.happiness=t.maximums.happiness),t.townInfo.health>t.maximums.health&&(t.townInfo.health=t.maximums.health),t.townInfo.community>300&&(t.townInfo.community=300),t.modifiers.happiness<.5&&(t.modifiers.happiness=.5),t.modifiers.health<.5&&(t.modifiers.health=.5),t.modifiers.community<.5&&(t.modifiers.community=.5),t}function lr(t){if(t.townInfo.happiness>150){let n=t.townInfo.happiness-150;t.townInfo.happiness-=n*.08,t.townInfo.happiness<150&&(t.townInfo.happiness=150)}if(t.townInfo.health>150){let n=t.townInfo.health-150;t.townInfo.health-=n*.08,t.townInfo.health<150&&(t.townInfo.health=150)}if(t.townInfo.community>150){let n=t.townInfo.community-150;t.townInfo.community-=n*.08,t.townInfo.community<150&&(t.townInfo.community=150)}return t}function up(t){return t.townInfo.happiness*=t.modifiers.happiness,t.townInfo.health*=t.modifiers.health,t.townInfo.community*=t.modifiers.community,t}function yt(t,e,n){let o=e.townLog||[];return o.filter(i=>i.message==t).length>0||(o.unshift({message:t,day:e.environment.day,vibe:n}),localStorage.mute!="true"&&new Audio("alert.mp3").play()),e}function gt(t,e){e===void 0&&(e=0);let n=Math.pow(10,e);return t=parseFloat((t*n).toFixed(11)),+(Math.round(t)/n).toFixed(e)}function fp(t,e,n){let o,i,l,r,a;se(t,Ql,h=>n(7,o=h)),se(t,Ti,h=>n(8,i=h)),se(t,Gi,h=>n(9,l=h)),se(t,Et,h=>n(10,r=h)),se(t,rn,h=>n(11,a=h)),se(t,Oe,h=>n(12,h));function s(h){h=N(h),h=I(h),h=d(h),h=sp(h),h=B(h),h=m(h);const W={food:h.resources.food,wood:h.resources.wood,stone:h.resources.stone,metal:h.resources.metal,bureaucracy:h.resources.bureaucracy,power:h.resources.power};h=k(h),h=g(h),h=$(h),h=D(h),h=z(h),h=w(h);const Y={food:h.resources.food,wood:h.resources.wood,stone:h.resources.stone,metal:h.resources.metal,bureaucracy:h.resources.bureaucracy,power:h.resources.power};return h.environment.day%14===0&&(h=up(h)),h=lp(h,W,Y),h}function u(h){return h=rp(h),h=p(h),h=J(h),h=lr(h),h=y(h),h=C(h),h}function f(h){return h=F(h),h=ir(h),h=or(h),h.overtime==!1&&(h=H(h),h=h),h=L(h),h=E(h),h}function c(){Oe.update(h=>{if(h==null||(h.tick++,h.tick%ws!==0)||r||!h||h.endGameDetails.msg!==""&&h.overtime==!1||h.townInfo.population_count<=0)return h;try{return h.environment.day+=1,h.environment.day%7===0&&(h=s(h)),h.environment.day%30===0&&(h=u(h)),h.environment.day%90===0&&(h=op(h)),window.location.search.includes("debug=true")&&console.log(h),h=f(h),h}catch(W){return console.error("Error in game loop:",W),h}})}Oe.subscribe(h=>{h&&localStorage.setItem(Bt,JSON.stringify(h))}),rn.subscribe(h=>{h&&localStorage.setItem(Yo,JSON.stringify(h))});function d(h){let W=!1,Y=!1,ne=!1,ee=!1;for(let x=0;x<h.plots.length;x++)for(let we=0;we<h.plots[x].length;we++)if(h.plots[x][we].active==!0&&h.plots[x][we].type>-1){let Ae=oe[h.plots[x][we].type].id;Ae=="bank"&&(W=!0),Ae=="city_hall"&&(ne=!0),(Ae=="small_hospital"||Ae=="large_hospital")&&(Y=!0),Ae=="lab"&&(ee=!0)}return h.hasBank=W,h.hasHospital=Y,h.hasCityHall=ne,h.hasLab=ee,h}function p(h){const W=h.townInfo.productivity;let Y=1;if(W>50&&W<100)Y=1.05;else{if(W==100)return h;W<50?Y=1.2:W>100&&W<125?Y=.98:W>125&&W<150?Y=.96:W>150&&W<175?Y=.9:W>175&&W<200&&(Y=.8)}const ne=h.townInfo.happiness;return h.townInfo.happiness*=Y,Y>1?h=yt(`Happiness has gone up by ${Math.round(h.townInfo.happiness/ne*100)}% due to productivity.`,h,rt.GOOD):h=yt(`Happiness has gone down by ${100-Math.round(h.townInfo.happiness/ne*100)}% due to productivity.`,h,rt.BAD),h}function m(h){return h.endGameDetails!=null||(h.townInfo.happiness<70&&h.last_warning_happiness+365<h.environment.day&&(Rt.set("Your citizens are very unhappy. You should do something about it."),h.last_warning_happiness=h.environment.day),h.townInfo.health<70&&h.last_warning_health+365<h.environment.day&&(Rt.set("Your citizens are very unhealthy. You should do something about it."),h.last_warning_health=h.environment.day)),h}const _=["Abigail","Elijah","Mabel","Silas","Beatrice","Clarence","Dorothy","Edgar","Florence","George","Harriet","Isaac","Josephine","Levi","Matilda","Nathaniel","Olive","Percy","Quincy","Rose","Samuel","Theodore","Ursula","Vincent","Winifred","Xavier","Yvette","Zachary","Amos","Betsy","Cecil","Delia","Emmett","Fanny","Gideon","Hazel","Irving","Jeannette","Karl","Lucinda","Mortimer","Nettie","Otis","Prudence","Rufus","Sophronia","Titus","Ulysses","Vera","Winston","Xenia","Yolanda","Zeke","Ada","Bernard","Cornelia","Duncan","Esther","Fletcher","Genevieve"],v=["Farmer","Blacksmith","Biscuit Sculptor","Baker","Carpenter","Chicken Whisperer","Fisher","Herbalist","Miner","Mason","Mustache Twirler","Brewer","Butcher","Candlemaker","Cloud Watcher","Dressmaker","Gardener","Hunter","Innkeeper","Jeweler","Locksmith","Miller","Painter","Potter","Quilter","Rancher","Saddler","Tanner","Upholsterer","Vintner","Watchmaker","Wheelwright","Wooly Sock Knitter","Yarn Spinner","Zodiac Interpreter","Archivist","Bookbinder","Cobbler","Dyer","Engraver","Fletcher","Glassblower","Haberdasher","Illuminator","Joiner","Knitter","Lace Maker","Mapmaker","Navigator","Orchardist","Potion Tester","Quarryman","Roofer","Soapmaker","Tobacconist","Undertaker","Victualler","Wainwright","Xylographer","Yeoman","Pumpkin Carver","Mud Pie Maker","Folk Tale Teller","Leaf Collector","Sunset Chaser","Dream Interpreter","Star Gazer"];function C(h){for(let W=0;W<h.plots.length;W++)for(let Y=0;Y<h.plots[W].length;Y++)if(so(W,Y,h)&&h.plots[W][Y].active==!0&&oe[h.plots[W][Y].type].type=="residential"&&Math.random()<.99){let ne=`👑🏠 ${_[Math.floor(Math.random()*_.length)]} the ${v[Math.floor(Math.random()*v.length)]}: `,ee=ip(h);ne+=ee,ee!=""&&(h=yt(ne,h,rt.NORMAL))}return h}function w(h){const W=h.townInfo.population_count;return h.resources.food<W?(h.modifiers.happiness*=.95,h.modifiers.health*=.95,h=yt("There isn't enough food for everyone!",h,rt.BAD),h.resources.food=0):(h.townLog=h.townLog.filter(ne=>!ne.message.includes("There isn't enough food for everyone!")),h.resources.food-=W),h.resources.food=Math.round(h.resources.food),h}function k(h){const W=h.townInfo.productivity;let Y=1;W<50?Y=.5:W>50&&W<100?Y=.75:W==100?Y=1:W>100&&W<125?Y=1.25:W>125&&W<150?Y=1.75:W>150&&W<175?Y=3:W>175&&W<200&&(Y=5),Y=np(Y,2);let ne=qe("lumber_mill",h).length*1.25;ne===0&&(ne=1);for(let ee=0;ee<h.plots.length;ee++)for(let x=0;x<h.plots[ee].length;x++)if(h.plots[ee][x].active==!0&&h.plots[ee][x].type>-1){let we=$n(ee,x,h),Ae=so(ee,x,h)?1.5:1,Re=oe[h.plots[ee][x].type];Re.generated_resources!=null&&(h.resources.food+=Math.round(Re.generated_resources.food*Y)*(we?2:1)*Ae,h.resources.wood+=Math.round(Re.generated_resources.wood*Y*ne)*Ae,h.resources.stone+=Math.round(Re.generated_resources.stone*Y)*Ae,h.resources.metal+=Math.round(Re.generated_resources.metal*Y)*Ae,h.resources.bureaucracy+=Math.round(Re.generated_resources.bureaucracy*Y)*Ae)}return h.resources.food=Math.round(h.resources.food),h.resources.wood=Math.round(h.resources.wood),h.resources.stone=Math.round(h.resources.stone),h.resources.metal=Math.round(h.resources.metal),h.resources.bureaucracy=Math.round(h.resources.bureaucracy),h}var R;(function(h){h.food="food",h.wood="wood",h.stone="stone",h.metal="metal",h.bureaucracy="bureaucracy"})(R||(R={}));function $(h){for(let W=0;W<h.plots.length;W++)for(let Y=0;Y<h.plots[W].length;Y++)if(h.plots[W][Y].active==!0&&h.plots[W][Y].type>-1){let ne=oe[h.plots[W][Y].type],ee=!1;Object.keys(ne.active_costs).forEach((x,we)=>{const Ae=Object.values(ne.active_costs)[we];x!="power"&&(h.townInfo.gold,x=="gold"?h.townInfo.gold<Ae?ee=!0:h.townInfo.gold-=Ae:h.resources[x]<Ae?ee=!0:h.resources[x]-=Ae)}),h.plots[W][Y].disabled=ee,h.plots[W][Y].disabled&&(h.townInfo.happiness-=1),ee&&oe[h.plots[W][Y].type].type=="residential"&&(h.townInfo.population_count-=1,h.townInfo.employees-=1)}return h}function D(h){let W=0;for(let Y=0;Y<h.plots.length;Y++)for(let ne=0;ne<h.plots[Y].length;ne++)if(h.plots[Y][ne].active==!0&&h.plots[Y][ne].type>-1){let ee=oe[h.plots[Y][ne].type];ee.active_costs.power!=0&&(W-=ee.active_costs.power),ee.generated_resources.power!=0&&(W+=ee.generated_resources.power)}return h.resources.power=W,h.resources.power<0&&(h.modifiers.happiness*.98,h.townInfo.happiness-=5,h=yt("🔋 POWER SHORTAGE. HAPPINESS DROPPING THROUGH BLACKOUTS.",h,rt.BAD)),h}function E(h){if(h.devMode)return h;let W=a;for(let Y=0;Y<it.length;Y++)W.achievements.find(ne=>ne[0]==it[Y].id)==null&&it[Y].check(h)&&(W.achievements.push([it[Y].id,h.environment.day,h.townInfo.name]),Se(Et,r=!0,r),Se(Gi,l=!0,l));return rn.update(()=>W),h}let q=!1;function L(h){if(q)return h;for(let W=h.currentTutorialStep;W<h.currentTutorialStep+1;W++)if(Pn[W].isComplete(h)){Se(Ti,i=!0,i),q=!0,setTimeout(()=>{Se(Ti,i=!1,i),h.currentTutorialStep++,h.townInfo.gold+=Pn[W].goldReward,q=!1},1e3);break}return h}function H(h){return h.townInfo.happiness<=3&&(h.townInfo.happiness=0,h.endGameDetails={msg:$t.happiness_zero,win:!1,still_playing:!1}),h.townInfo.health<=3&&(h.townInfo.health=3,h.endGameDetails={msg:$t.health_zero,win:!1,still_playing:!1}),h.townInfo.population_count<=0&&h.townInfo.population_max>0&&(h.townInfo.population_count=0,h.endGameDetails={msg:$t.population_zero,win:!1,still_playing:!1}),h}function y(h){let W=h.townInfo.population_count-h.townInfo.employees;if(W>0){let Y=W*.2;Y<15&&(Y=15),h.townInfo.happiness-=Y,h=yt(W+$t.unemployment_num,h,rt.BAD)}else h.townLog=h.townLog.filter(Y=>!Y.message.includes($t.unemployment_num));return h}function g(h){for(let W=0;W<h.economyAndLaws.enacted.length;W++){let Y=nr.find(ne=>ne.id==h.economyAndLaws.enacted[W]);Y!=null&&Y.weekly_effect!=null&&(h=Y.weekly_effect(h))}return h}function I(h){let W=h.townInfo.health,Y=0;return W>50||W<Math.random()*50&&(W<25?(h=yt($t.sickAndDying,h,rt.BAD),h.townInfo.happiness-=10,Y=Math.round(h.townInfo.population_count*.1)):(h=yt($t.sickAndLeaving,h,rt.BAD),h.townInfo.happiness-=5,Y=Math.round(h.townInfo.population_count*.05)),h.townInfo.population_count-=Y,h.townInfo.employees-=Y),h}function N(h){const W=Math.random();if(h.economyAndLaws.tax_rate>h.economyAndLaws.max_tax_rate&&h.townInfo.population_count>0){let Y=1;h.hasBank&&(Y=2);const ne=h.difficulty==0?.7:h.difficulty==1?.4:.2;W<ne&&h.economyAndLaws.tax_rate>h.economyAndLaws.max_tax_rate*2*Y?(h.modifiers.happiness-=.02,h=yt($t.very_high_tax_rate+"  ("+h.economyAndLaws.tax_rate+"%)",h,rt.BAD)):(h.modifiers.happiness-=.01,h=yt($t.high_tax_rate+"  ("+h.economyAndLaws.tax_rate*100+"%)",h,rt.BAD))}return h}function B(h){if(h.modifiers.happiness>1){let Y=h.modifiers.happiness-1;h.modifiers.happiness-=Y*.1,h.modifiers.happiness<1.02&&(h.modifiers.happiness=1)}if(h.modifiers.community>1){let Y=h.modifiers.community-1;h.modifiers.community-=Y*.1,h.modifiers.community<1.02&&(h.modifiers.community=1)}if(h.modifiers.health>1)if(qe("healing_house",h).length>0){h=yt($t.hospital_advantage,h,rt.GOOD);let Y=h.modifiers.health-1;h.modifiers.health-=Y*qe("healing_house",h).length?.03:.06,h.modifiers.health<1.02&&(h.modifiers.health=1)}else{let Y=h.modifiers.health-1;h.modifiers.health-=Y*.1,h.modifiers.health<1.02&&(h.modifiers.health=1)}else qe("healing_house",h).length>0&&(h.modifiers.health+=.1);return h}function F(h){h.economyAndLaws.weeklyProfit=0;for(let W=0;W<h.plots.length;W++)for(let Y=0;Y<h.plots[W].length;Y++)if(h.plots[W][Y].active==!0&&h.plots[W][Y].type>-1)if(h.plots[W][Y].disabled===!0){const ne=oe[h.plots[W][Y].type],ee=Math.round(Q(ne.revenue_per_week,h,ne.type,W,Y)*(h.townInfo.productivity/100)/7);h.townInfo.gold-=ee,h.townInfo.happiness-=1,h=yt(`🚨 ${ne.title} at ${Y}, ${W} is disabled and costing you $${ee} a week! It is also lowering overall happiness by 1.`,h,rt.BAD)}else{const ne=oe[h.plots[W][Y].type];let ee=Q(ne.revenue_per_week,h,ne.type,W,Y)*(h.townInfo.productivity/100)/7,x=$n(W,Y,h);ee*=x?2:1,h.townInfo.gold+=ee,h.economyAndLaws.weeklyProfit+=ee*7}return h}function J(h){return qe("mine",h).length>0&&(h.modifiers.health-=.01,qe("healing_house",h).length==0&&(h=yt("The mine is actively hurting the health of the town. Time to look into a healing house.",h,rt.BAD))),h}function z(h){let W=0;for(let Y=0;Y<h.plots.length;Y++)for(let ne=0;ne<h.plots[Y].length;ne++)if(h.plots[Y][ne].active==!0&&h.plots[Y][ne].type>-1){let ee=oe[h.plots[Y][ne].type],x=so(Y,ne,h)?.75:1;ee.knowledge_points_per_month!=null&&(h.townInfo.knowledge_points+=Math.round(ee.knowledge_points_per_month*x/4),W+=ee.knowledge_points_per_month*x/4)}return h.resource_rate.knowledge=gt(W/4,0),h}function Q(h,W,Y,ne,ee){let x=W.townInfo.happiness/100;x>2?x=2:x<.75&&(x=.75),qe("village_inn",W).length>0&&Y=="shop"&&(x*=2),so(ne,ee,W)&&(x*=1.5);let we=Math.round(h*W.economyAndLaws.tax_rate*(W.townInfo.population_count/W.townInfo.population_max)*x*(W.economyAndLaws.enacted.includes("tax_free")?-1:1));return gt(we,2)}return fl(async()=>{for(;;)localStorage.reset=="true"&&(Nr(),localStorage.setItem("reset","false")),c(),await new Promise(h=>setTimeout(h,o/ws))}),[c,or,ir,B,lr]}class cp extends _e{constructor(e){super(),he(this,e,fp,null,ue,{mainGameThreadLoop:0,_checkExperiment:1,_fixVariables:2,_bringModifiersBackToNormal:3,_bringStatsBackToNormal:4},null,[-1,-1])}get mainGameThreadLoop(){return this.$$.ctx[0]}get _checkExperiment(){return or}get _fixVariables(){return ir}get _bringModifiersBackToNormal(){return this.$$.ctx[3]}get _bringStatsBackToNormal(){return lr}}function dp(t){return t[t.length-1]}function bn(t){return Object.keys(t).reduce((e,n)=>t[n]===void 0?e:e+`${n}:${t[n]};`,"")}function El(t){return t?!0:void 0}bn({position:"absolute",opacity:0,"pointer-events":"none",margin:0,transform:"translateX(-100%)"});function yc(t){if(t!==null)return t}function ks(t){function e(n){return n(t),()=>{}}return{subscribe:e}}function Rl(t){if(!Uo)return null;const e=document.querySelector(`[data-melt-id="${t}"]`);return At(e)?e:null}const $o=t=>new Proxy(t,{get(e,n,o){return Reflect.get(e,n,o)},ownKeys(e){return Reflect.ownKeys(e).filter(n=>n!=="action")}}),Cs=t=>typeof t=="function";ht("empty");function ht(t,e){const{stores:n,action:o,returned:i}=e??{},l=(()=>{if(n&&i)return cn(n,a=>{const s=i(a);if(Cs(s)){const u=(...f)=>$o({...s(...f),[`data-melt-${t}`]:"",action:o??nt});return u.action=o??nt,u}return $o({...s,[`data-melt-${t}`]:"",action:o??nt})});{const a=i,s=a==null?void 0:a();if(Cs(s)){const u=(...f)=>$o({...s(...f),[`data-melt-${t}`]:"",action:o??nt});return u.action=o??nt,ks(u)}return ks($o({...s,[`data-melt-${t}`]:"",action:o??nt}))}})(),r=o??(()=>{});return r.subscribe=l.subscribe,r}function As(t,e){const{stores:n,returned:o,action:i}=e,{subscribe:l}=cn(n,a=>o(a).map(s=>$o({...s,[`data-melt-${t}`]:"",action:i??nt}))),r=i??(()=>{});return r.subscribe=l,r}function pl(t){const e=l=>l?`${t}-${l}`:t,n=l=>`data-melt-${t}${l?`-${l}`:""}`,o=l=>`[data-melt-${t}${l?`-${l}`:""}]`;return{name:e,attribute:n,selector:o,getEl:l=>document.querySelector(o(l))}}const Uo=typeof document<"u",wc=t=>typeof t=="function";function mp(t){return t instanceof Document}function hl(t){return t instanceof Element}function At(t){return t instanceof HTMLElement}function Ss(t){return t.pointerType==="touch"}function pp(t){return t!==null&&typeof t=="object"}function hp(t){return pp(t)&&"subscribe"in t}function Yt(...t){return(...e)=>{for(const n of t)typeof n=="function"&&n(...e)}}function nt(){}function bt(t,e,n,o){const i=Array.isArray(e)?e:[e];return i.forEach(l=>t.addEventListener(l,n,o)),()=>{i.forEach(l=>t.removeEventListener(l,n,o))}}function kt(t,e,n,o){const i=Array.isArray(e)?e:[e];if(typeof n=="function"){const l=gp(r=>n(r));return i.forEach(r=>t.addEventListener(r,l,o)),()=>{i.forEach(r=>t.removeEventListener(r,l,o))}}return()=>void 0}function _p(t){const e=t.currentTarget;if(!At(e))return null;const n=new CustomEvent(`m-${t.type}`,{detail:{originalEvent:t},cancelable:!0});return e.dispatchEvent(n),n}function gp(t){return e=>{const n=_p(e);if(!(n!=null&&n.defaultPrevented))return t(e)}}function _l(t,...e){const n={};for(const o of Object.keys(t))e.includes(o)||(n[o]=t[o]);return n}function ln(t){return{...t,get:()=>nc(t)}}ln.writable=function(t){const e=Ue(t);let n=t;return{subscribe:e.subscribe,set(o){e.set(o),n=o},update(o){const i=o(n);e.set(i),n=i},get(){return n}}};ln.derived=function(t,e){const n=new Map,o=()=>{const l=Array.isArray(t)?t.map(r=>r.get()):t.get();return e(l)};return{get:o,subscribe:l=>{const r=[];return(Array.isArray(t)?t:[t]).forEach(s=>{r.push(s.subscribe(()=>{l(o())}))}),l(o()),n.set(l,r),()=>{const s=n.get(l);if(s)for(const u of s)u();n.delete(l)}}}};const gl=(t,e)=>{const n=ln(t),o=(l,r)=>{n.update(a=>{const s=l(a);let u=s;return e&&(u=e({curr:a,next:s})),r==null||r(u),u})};return{...n,update:o,set:l=>{o(()=>l)}}};function Rr(t){return new Promise(e=>setTimeout(e,t))}let bp="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",vp=(t=21)=>{let e="",n=t;for(;n--;)e+=bp[Math.random()*64|0];return e};function yp(){return vp(10)}function Lr(t){return t.reduce((e,n)=>(e[n]=yp(),e),{})}const ct={ALT:"Alt",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",CAPS_LOCK:"CapsLock",CONTROL:"Control",DELETE:"Delete",END:"End",ENTER:"Enter",ESCAPE:"Escape",F1:"F1",F10:"F10",F11:"F11",F12:"F12",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",HOME:"Home",META:"Meta",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp",SHIFT:"Shift",SPACE:" ",TAB:"Tab",CTRL:"Control",ASTERISK:"*",A:"a",P:"p"},kc=()=>typeof window<"u";function wp(){const t=navigator.userAgentData;return(t==null?void 0:t.platform)??navigator.platform}const Cc=t=>kc()&&t.test(wp().toLowerCase()),kp=()=>kc()&&!!navigator.maxTouchPoints,Cp=()=>Cc(/^mac/)&&!kp(),Ap=()=>Cc(/mac|iphone|ipad|ipod/i),Sp=()=>Ap()&&!Cp();function Tp(t){const e=t.slice();return e.sort(Mp),Ip(e)}function Ip(t){if(t.length<=1)return t.slice();const e=[];for(let o=0;o<t.length;o++){const i=t[o];for(;e.length>=2;){const l=e[e.length-1],r=e[e.length-2];if((l.x-r.x)*(i.y-r.y)>=(l.y-r.y)*(i.x-r.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let o=t.length-1;o>=0;o--){const i=t[o];for(;n.length>=2;){const l=n[n.length-1],r=n[n.length-2];if((l.x-r.x)*(i.y-r.y)>=(l.y-r.y)*(i.x-r.x))n.pop();else break}n.push(i)}return n.pop(),e.length==1&&n.length==1&&e[0].x==n[0].x&&e[0].y==n[0].y?e:e.concat(n)}function Mp(t,e){return t.x<e.x?-1:t.x>e.x?1:t.y<e.y?-1:t.y>e.y?1:0}function Op(t){const e=t.getBoundingClientRect();return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.right,y:e.bottom},{x:e.left,y:e.bottom}]}function Pp(t){const e=t.flatMap(n=>Op(n));return Tp(e)}function Np(t,e){let n=!1;for(let o=0,i=e.length-1;o<e.length;i=o++){const l=e[o].x,r=e[o].y,a=e[i].x,s=e[i].y;r>t.y!=s>t.y&&t.x<(a-l)*(t.y-r)/(s-r)+l&&(n=!n)}return n}const Ll="data-melt-scroll-lock";function Ts(t,e){if(!t)return;const n=t.style.cssText;return Object.assign(t.style,e),()=>{t.style.cssText=n}}function Ep(t,e,n){if(!t)return;const o=t.style.getPropertyValue(e);return t.style.setProperty(e,n),()=>{o?t.style.setProperty(e,o):t.style.removeProperty(e)}}function Rp(t){const e=t.getBoundingClientRect().left;return Math.round(e)+t.scrollLeft?"paddingLeft":"paddingRight"}function Lp(t){const e=document,n=e.defaultView??window,{documentElement:o,body:i}=e;if(i.hasAttribute(Ll))return nt;i.setAttribute(Ll,"");const r=n.innerWidth-o.clientWidth,a=()=>Ep(o,"--scrollbar-width",`${r}px`),s=Rp(o),u=n.getComputedStyle(i)[s],f=()=>Ts(i,{overflow:"hidden",[s]:`calc(${u} + ${r}px)`}),c=()=>{const{scrollX:p,scrollY:m,visualViewport:_}=n,v=(_==null?void 0:_.offsetLeft)??0,C=(_==null?void 0:_.offsetTop)??0,w=Ts(i,{position:"fixed",overflow:"hidden",top:`${-(m-Math.floor(C))}px`,left:`${-(p-Math.floor(v))}px`,right:"0",[s]:`calc(${u} + ${r}px)`});return()=>{w==null||w(),n.scrollTo(p,m)}},d=[a(),Sp()?c():f()];return()=>{d.forEach(p=>p==null?void 0:p()),i.removeAttribute(Ll)}}const Dp=t=>{try{tm(t)}catch{return t}};function Nt(t,e){let n;const o=cn(t,l=>{n==null||n(),n=e(l)}).subscribe(nt),i=()=>{o(),n==null||n()};return Dp(i),i}function Fn(t){const e={};return Object.keys(t).forEach(n=>{const o=n,i=t[o];e[o]=ln(Ue(i))}),e}function $p(t){let e=t.parentElement;for(;At(e)&&!e.hasAttribute("data-portal");)e=e.parentElement;return e||"body"}function Ac(t,e){return e!==void 0?e:$p(t)==="body"?document.body:null}async function Is(t){const{prop:e,defaultEl:n}=t;if(await Promise.all([Rr(1),Ir]),e===void 0){n==null||n.focus();return}const o=wc(e)?e(n):e;if(typeof o=="string"){const i=document.querySelector(o);if(!At(i))return;i.focus()}else At(o)&&o.focus()}function Dl(t,e,n,o){const i=(t-(isNaN(e)?0:e))%o;let l=Math.abs(i)*2>=o?t+Math.sign(i)*(o-Math.abs(i)):t-i;isNaN(e)?!isNaN(n)&&l>n&&(l=Math.floor(n/o)*o):l<e?l=e:!isNaN(n)&&l>n&&(l=e+Math.floor((n-e)/o)*o);const r=o.toString(),a=r.indexOf("."),s=a>=0?r.length-a:0;if(s>0){const u=Math.pow(10,s);l=Math.round(l*u)/u}return l}Ln(void 0,t=>{function e(o){t(o),t(void 0)}return bt(document,"pointerup",e,{passive:!1,capture:!0})});const Fp=Ln(void 0,t=>{function e(o){o&&o.key===ct.ESCAPE&&t(o),t(void 0)}return bt(document,"keydown",e,{passive:!1})}),Ms=(t,e={})=>{let n=nt;function o(i={}){n();const l={enabled:!0,...i},r=hp(l.enabled)?l.enabled:Ln(l.enabled);n=Yt(Fp.subscribe(a=>{var u;if(!a||!nc(r))return;const s=a.target;if(!(!At(s)||s.closest("[data-escapee]")!==t)){if(a.preventDefault(),l.ignore){if(wc(l.ignore)){if(l.ignore(a))return}else if(Array.isArray(l.ignore)&&l.ignore.length>0&&l.ignore.some(f=>f&&s===f))return}(u=l.handler)==null||u.call(l,a)}}),Nt(r,a=>{a?t.dataset.escapee="":delete t.dataset.escapee}))}return o(e),{update:o,destroy(){t.removeAttribute("data-escapee"),n()}}},yn=Math.min,Tt=Math.max,Wi=Math.round,_i=Math.floor,wn=t=>({x:t,y:t}),jp={left:"right",right:"left",bottom:"top",top:"bottom"},Bp={start:"end",end:"start"};function rr(t,e,n){return Tt(t,yn(e,n))}function Co(t,e){return typeof t=="function"?t(e):t}function kn(t){return t.split("-")[0]}function Ao(t){return t.split("-")[1]}function Sc(t){return t==="x"?"y":"x"}function Dr(t){return t==="y"?"height":"width"}function zo(t){return["top","bottom"].includes(kn(t))?"y":"x"}function $r(t){return Sc(zo(t))}function qp(t,e,n){n===void 0&&(n=!1);const o=Ao(t),i=$r(t),l=Dr(i);let r=i==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(r=Yi(r)),[r,Yi(r)]}function Gp(t){const e=Yi(t);return[sr(t),e,sr(e)]}function sr(t){return t.replace(/start|end/g,e=>Bp[e])}function Hp(t,e,n){const o=["left","right"],i=["right","left"],l=["top","bottom"],r=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:o:e?o:i;case"left":case"right":return e?l:r;default:return[]}}function Vp(t,e,n,o){const i=Ao(t);let l=Hp(kn(t),n==="start",o);return i&&(l=l.map(r=>r+"-"+i),e&&(l=l.concat(l.map(sr)))),l}function Yi(t){return t.replace(/left|right|bottom|top/g,e=>jp[e])}function Wp(t){return{top:0,right:0,bottom:0,left:0,...t}}function Tc(t){return typeof t!="number"?Wp(t):{top:t,right:t,bottom:t,left:t}}function Ui(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function Os(t,e,n){let{reference:o,floating:i}=t;const l=zo(e),r=$r(e),a=Dr(r),s=kn(e),u=l==="y",f=o.x+o.width/2-i.width/2,c=o.y+o.height/2-i.height/2,d=o[a]/2-i[a]/2;let p;switch(s){case"top":p={x:f,y:o.y-i.height};break;case"bottom":p={x:f,y:o.y+o.height};break;case"right":p={x:o.x+o.width,y:c};break;case"left":p={x:o.x-i.width,y:c};break;default:p={x:o.x,y:o.y}}switch(Ao(e)){case"start":p[r]-=d*(n&&u?-1:1);break;case"end":p[r]+=d*(n&&u?-1:1);break}return p}const Yp=async(t,e,n)=>{const{placement:o="bottom",strategy:i="absolute",middleware:l=[],platform:r}=n,a=l.filter(Boolean),s=await(r.isRTL==null?void 0:r.isRTL(e));let u=await r.getElementRects({reference:t,floating:e,strategy:i}),{x:f,y:c}=Os(u,o,s),d=o,p={},m=0;for(let _=0;_<a.length;_++){const{name:v,fn:C}=a[_],{x:w,y:k,data:R,reset:$}=await C({x:f,y:c,initialPlacement:o,placement:d,strategy:i,middlewareData:p,rects:u,platform:r,elements:{reference:t,floating:e}});f=w??f,c=k??c,p={...p,[v]:{...p[v],...R}},$&&m<=50&&(m++,typeof $=="object"&&($.placement&&(d=$.placement),$.rects&&(u=$.rects===!0?await r.getElementRects({reference:t,floating:e,strategy:i}):$.rects),{x:f,y:c}=Os(u,d,s)),_=-1)}return{x:f,y:c,placement:d,strategy:i,middlewareData:p}};async function Fr(t,e){var n;e===void 0&&(e={});const{x:o,y:i,platform:l,rects:r,elements:a,strategy:s}=t,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:c="floating",altBoundary:d=!1,padding:p=0}=Co(e,t),m=Tc(p),v=a[d?c==="floating"?"reference":"floating":c],C=Ui(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(v)))==null||n?v:v.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(a.floating)),boundary:u,rootBoundary:f,strategy:s})),w=c==="floating"?{...r.floating,x:o,y:i}:r.reference,k=await(l.getOffsetParent==null?void 0:l.getOffsetParent(a.floating)),R=await(l.isElement==null?void 0:l.isElement(k))?await(l.getScale==null?void 0:l.getScale(k))||{x:1,y:1}:{x:1,y:1},$=Ui(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:k,strategy:s}):w);return{top:(C.top-$.top+m.top)/R.y,bottom:($.bottom-C.bottom+m.bottom)/R.y,left:(C.left-$.left+m.left)/R.x,right:($.right-C.right+m.right)/R.x}}const Up=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:o,placement:i,rects:l,platform:r,elements:a,middlewareData:s}=e,{element:u,padding:f=0}=Co(t,e)||{};if(u==null)return{};const c=Tc(f),d={x:n,y:o},p=$r(i),m=Dr(p),_=await r.getDimensions(u),v=p==="y",C=v?"top":"left",w=v?"bottom":"right",k=v?"clientHeight":"clientWidth",R=l.reference[m]+l.reference[p]-d[p]-l.floating[m],$=d[p]-l.reference[p],D=await(r.getOffsetParent==null?void 0:r.getOffsetParent(u));let E=D?D[k]:0;(!E||!await(r.isElement==null?void 0:r.isElement(D)))&&(E=a.floating[k]||l.floating[m]);const q=R/2-$/2,L=E/2-_[m]/2-1,H=yn(c[C],L),y=yn(c[w],L),g=H,I=E-_[m]-y,N=E/2-_[m]/2+q,B=rr(g,N,I),F=!s.arrow&&Ao(i)!=null&&N!==B&&l.reference[m]/2-(N<g?H:y)-_[m]/2<0,J=F?N<g?N-g:N-I:0;return{[p]:d[p]+J,data:{[p]:B,centerOffset:N-B-J,...F&&{alignmentOffset:J}},reset:F}}}),Kp=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,o;const{placement:i,middlewareData:l,rects:r,initialPlacement:a,platform:s,elements:u}=e,{mainAxis:f=!0,crossAxis:c=!0,fallbackPlacements:d,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:_=!0,...v}=Co(t,e);if((n=l.arrow)!=null&&n.alignmentOffset)return{};const C=kn(i),w=kn(a)===a,k=await(s.isRTL==null?void 0:s.isRTL(u.floating)),R=d||(w||!_?[Yi(a)]:Gp(a));!d&&m!=="none"&&R.push(...Vp(a,_,m,k));const $=[a,...R],D=await Fr(e,v),E=[];let q=((o=l.flip)==null?void 0:o.overflows)||[];if(f&&E.push(D[C]),c){const g=qp(i,r,k);E.push(D[g[0]],D[g[1]])}if(q=[...q,{placement:i,overflows:E}],!E.every(g=>g<=0)){var L,H;const g=(((L=l.flip)==null?void 0:L.index)||0)+1,I=$[g];if(I)return{data:{index:g,overflows:q},reset:{placement:I}};let N=(H=q.filter(B=>B.overflows[0]<=0).sort((B,F)=>B.overflows[1]-F.overflows[1])[0])==null?void 0:H.placement;if(!N)switch(p){case"bestFit":{var y;const B=(y=q.map(F=>[F.placement,F.overflows.filter(J=>J>0).reduce((J,z)=>J+z,0)]).sort((F,J)=>F[1]-J[1])[0])==null?void 0:y[0];B&&(N=B);break}case"initialPlacement":N=a;break}if(i!==N)return{reset:{placement:N}}}return{}}}};async function Xp(t,e){const{placement:n,platform:o,elements:i}=t,l=await(o.isRTL==null?void 0:o.isRTL(i.floating)),r=kn(n),a=Ao(n),s=zo(n)==="y",u=["left","top"].includes(r)?-1:1,f=l&&s?-1:1,c=Co(e,t);let{mainAxis:d,crossAxis:p,alignmentAxis:m}=typeof c=="number"?{mainAxis:c,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...c};return a&&typeof m=="number"&&(p=a==="end"?m*-1:m),s?{x:p*f,y:d*u}:{x:d*u,y:p*f}}const Jp=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,o;const{x:i,y:l,placement:r,middlewareData:a}=e,s=await Xp(e,t);return r===((n=a.offset)==null?void 0:n.placement)&&(o=a.arrow)!=null&&o.alignmentOffset?{}:{x:i+s.x,y:l+s.y,data:{...s,placement:r}}}}},xp=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:o,placement:i}=e,{mainAxis:l=!0,crossAxis:r=!1,limiter:a={fn:v=>{let{x:C,y:w}=v;return{x:C,y:w}}},...s}=Co(t,e),u={x:n,y:o},f=await Fr(e,s),c=zo(kn(i)),d=Sc(c);let p=u[d],m=u[c];if(l){const v=d==="y"?"top":"left",C=d==="y"?"bottom":"right",w=p+f[v],k=p-f[C];p=rr(w,p,k)}if(r){const v=c==="y"?"top":"left",C=c==="y"?"bottom":"right",w=m+f[v],k=m-f[C];m=rr(w,m,k)}const _=a.fn({...e,[d]:p,[c]:m});return{..._,data:{x:_.x-n,y:_.y-o}}}}},Zp=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){const{placement:n,rects:o,platform:i,elements:l}=e,{apply:r=()=>{},...a}=Co(t,e),s=await Fr(e,a),u=kn(n),f=Ao(n),c=zo(n)==="y",{width:d,height:p}=o.floating;let m,_;u==="top"||u==="bottom"?(m=u,_=f===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(_=u,m=f==="end"?"top":"bottom");const v=p-s[m],C=d-s[_],w=!e.middlewareData.shift;let k=v,R=C;if(c){const D=d-s.left-s.right;R=f||w?yn(C,D):D}else{const D=p-s.top-s.bottom;k=f||w?yn(v,D):D}if(w&&!f){const D=Tt(s.left,0),E=Tt(s.right,0),q=Tt(s.top,0),L=Tt(s.bottom,0);c?R=d-2*(D!==0||E!==0?D+E:Tt(s.left,s.right)):k=p-2*(q!==0||L!==0?q+L:Tt(s.top,s.bottom))}await r({...e,availableWidth:R,availableHeight:k});const $=await i.getDimensions(l.floating);return d!==$.width||p!==$.height?{reset:{rects:!0}}:{}}}};function Cn(t){return Ic(t)?(t.nodeName||"").toLowerCase():"#document"}function It(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function dn(t){var e;return(e=(Ic(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Ic(t){return t instanceof Node||t instanceof It(t).Node}function an(t){return t instanceof Element||t instanceof It(t).Element}function Jt(t){return t instanceof HTMLElement||t instanceof It(t).HTMLElement}function Ps(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof It(t).ShadowRoot}function ei(t){const{overflow:e,overflowX:n,overflowY:o,display:i}=Lt(t);return/auto|scroll|overlay|hidden|clip/.test(e+o+n)&&!["inline","contents"].includes(i)}function Qp(t){return["table","td","th"].includes(Cn(t))}function jr(t){const e=Br(),n=Lt(t);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(o=>(n.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(n.contain||"").includes(o))}function zp(t){let e=go(t);for(;Jt(e)&&!bl(e);){if(jr(e))return e;e=go(e)}return null}function Br(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function bl(t){return["html","body","#document"].includes(Cn(t))}function Lt(t){return It(t).getComputedStyle(t)}function vl(t){return an(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function go(t){if(Cn(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Ps(t)&&t.host||dn(t);return Ps(e)?e.host:e}function Mc(t){const e=go(t);return bl(e)?t.ownerDocument?t.ownerDocument.body:t.body:Jt(e)&&ei(e)?e:Mc(e)}function Ko(t,e,n){var o;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=Mc(t),l=i===((o=t.ownerDocument)==null?void 0:o.body),r=It(i);return l?e.concat(r,r.visualViewport||[],ei(i)?i:[],r.frameElement&&n?Ko(r.frameElement):[]):e.concat(i,Ko(i,[],n))}function Oc(t){const e=Lt(t);let n=parseFloat(e.width)||0,o=parseFloat(e.height)||0;const i=Jt(t),l=i?t.offsetWidth:n,r=i?t.offsetHeight:o,a=Wi(n)!==l||Wi(o)!==r;return a&&(n=l,o=r),{width:n,height:o,$:a}}function qr(t){return an(t)?t:t.contextElement}function mo(t){const e=qr(t);if(!Jt(e))return wn(1);const n=e.getBoundingClientRect(),{width:o,height:i,$:l}=Oc(e);let r=(l?Wi(n.width):n.width)/o,a=(l?Wi(n.height):n.height)/i;return(!r||!Number.isFinite(r))&&(r=1),(!a||!Number.isFinite(a))&&(a=1),{x:r,y:a}}const eh=wn(0);function Pc(t){const e=It(t);return!Br()||!e.visualViewport?eh:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function th(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==It(t)?!1:e}function jn(t,e,n,o){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),l=qr(t);let r=wn(1);e&&(o?an(o)&&(r=mo(o)):r=mo(t));const a=th(l,n,o)?Pc(l):wn(0);let s=(i.left+a.x)/r.x,u=(i.top+a.y)/r.y,f=i.width/r.x,c=i.height/r.y;if(l){const d=It(l),p=o&&an(o)?It(o):o;let m=d,_=m.frameElement;for(;_&&o&&p!==m;){const v=mo(_),C=_.getBoundingClientRect(),w=Lt(_),k=C.left+(_.clientLeft+parseFloat(w.paddingLeft))*v.x,R=C.top+(_.clientTop+parseFloat(w.paddingTop))*v.y;s*=v.x,u*=v.y,f*=v.x,c*=v.y,s+=k,u+=R,m=It(_),_=m.frameElement}}return Ui({width:f,height:c,x:s,y:u})}const nh=[":popover-open",":modal"];function Nc(t){return nh.some(e=>{try{return t.matches(e)}catch{return!1}})}function oh(t){let{elements:e,rect:n,offsetParent:o,strategy:i}=t;const l=i==="fixed",r=dn(o),a=e?Nc(e.floating):!1;if(o===r||a&&l)return n;let s={scrollLeft:0,scrollTop:0},u=wn(1);const f=wn(0),c=Jt(o);if((c||!c&&!l)&&((Cn(o)!=="body"||ei(r))&&(s=vl(o)),Jt(o))){const d=jn(o);u=mo(o),f.x=d.x+o.clientLeft,f.y=d.y+o.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-s.scrollLeft*u.x+f.x,y:n.y*u.y-s.scrollTop*u.y+f.y}}function ih(t){return Array.from(t.getClientRects())}function Ec(t){return jn(dn(t)).left+vl(t).scrollLeft}function lh(t){const e=dn(t),n=vl(t),o=t.ownerDocument.body,i=Tt(e.scrollWidth,e.clientWidth,o.scrollWidth,o.clientWidth),l=Tt(e.scrollHeight,e.clientHeight,o.scrollHeight,o.clientHeight);let r=-n.scrollLeft+Ec(t);const a=-n.scrollTop;return Lt(o).direction==="rtl"&&(r+=Tt(e.clientWidth,o.clientWidth)-i),{width:i,height:l,x:r,y:a}}function rh(t,e){const n=It(t),o=dn(t),i=n.visualViewport;let l=o.clientWidth,r=o.clientHeight,a=0,s=0;if(i){l=i.width,r=i.height;const u=Br();(!u||u&&e==="fixed")&&(a=i.offsetLeft,s=i.offsetTop)}return{width:l,height:r,x:a,y:s}}function sh(t,e){const n=jn(t,!0,e==="fixed"),o=n.top+t.clientTop,i=n.left+t.clientLeft,l=Jt(t)?mo(t):wn(1),r=t.clientWidth*l.x,a=t.clientHeight*l.y,s=i*l.x,u=o*l.y;return{width:r,height:a,x:s,y:u}}function Ns(t,e,n){let o;if(e==="viewport")o=rh(t,n);else if(e==="document")o=lh(dn(t));else if(an(e))o=sh(e,n);else{const i=Pc(t);o={...e,x:e.x-i.x,y:e.y-i.y}}return Ui(o)}function Rc(t,e){const n=go(t);return n===e||!an(n)||bl(n)?!1:Lt(n).position==="fixed"||Rc(n,e)}function ah(t,e){const n=e.get(t);if(n)return n;let o=Ko(t,[],!1).filter(a=>an(a)&&Cn(a)!=="body"),i=null;const l=Lt(t).position==="fixed";let r=l?go(t):t;for(;an(r)&&!bl(r);){const a=Lt(r),s=jr(r);!s&&a.position==="fixed"&&(i=null),(l?!s&&!i:!s&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||ei(r)&&!s&&Rc(t,r))?o=o.filter(f=>f!==r):i=a,r=go(r)}return e.set(t,o),o}function uh(t){let{element:e,boundary:n,rootBoundary:o,strategy:i}=t;const r=[...n==="clippingAncestors"?ah(e,this._c):[].concat(n),o],a=r[0],s=r.reduce((u,f)=>{const c=Ns(e,f,i);return u.top=Tt(c.top,u.top),u.right=yn(c.right,u.right),u.bottom=yn(c.bottom,u.bottom),u.left=Tt(c.left,u.left),u},Ns(e,a,i));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}}function fh(t){const{width:e,height:n}=Oc(t);return{width:e,height:n}}function ch(t,e,n){const o=Jt(e),i=dn(e),l=n==="fixed",r=jn(t,!0,l,e);let a={scrollLeft:0,scrollTop:0};const s=wn(0);if(o||!o&&!l)if((Cn(e)!=="body"||ei(i))&&(a=vl(e)),o){const c=jn(e,!0,l,e);s.x=c.x+e.clientLeft,s.y=c.y+e.clientTop}else i&&(s.x=Ec(i));const u=r.left+a.scrollLeft-s.x,f=r.top+a.scrollTop-s.y;return{x:u,y:f,width:r.width,height:r.height}}function Es(t,e){return!Jt(t)||Lt(t).position==="fixed"?null:e?e(t):t.offsetParent}function Lc(t,e){const n=It(t);if(!Jt(t)||Nc(t))return n;let o=Es(t,e);for(;o&&Qp(o)&&Lt(o).position==="static";)o=Es(o,e);return o&&(Cn(o)==="html"||Cn(o)==="body"&&Lt(o).position==="static"&&!jr(o))?n:o||zp(t)||n}const dh=async function(t){const e=this.getOffsetParent||Lc,n=this.getDimensions;return{reference:ch(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,...await n(t.floating)}}};function mh(t){return Lt(t).direction==="rtl"}const ph={convertOffsetParentRelativeRectToViewportRelativeRect:oh,getDocumentElement:dn,getClippingRect:uh,getOffsetParent:Lc,getElementRects:dh,getClientRects:ih,getDimensions:fh,getScale:mo,isElement:an,isRTL:mh};function hh(t,e){let n=null,o;const i=dn(t);function l(){var a;clearTimeout(o),(a=n)==null||a.disconnect(),n=null}function r(a,s){a===void 0&&(a=!1),s===void 0&&(s=1),l();const{left:u,top:f,width:c,height:d}=t.getBoundingClientRect();if(a||e(),!c||!d)return;const p=_i(f),m=_i(i.clientWidth-(u+c)),_=_i(i.clientHeight-(f+d)),v=_i(u),w={rootMargin:-p+"px "+-m+"px "+-_+"px "+-v+"px",threshold:Tt(0,yn(1,s))||1};let k=!0;function R($){const D=$[0].intersectionRatio;if(D!==s){if(!k)return r();D?r(!1,D):o=setTimeout(()=>{r(!1,1e-7)},100)}k=!1}try{n=new IntersectionObserver(R,{...w,root:i.ownerDocument})}catch{n=new IntersectionObserver(R,w)}n.observe(t)}return r(!0),l}function _h(t,e,n,o){o===void 0&&(o={});const{ancestorScroll:i=!0,ancestorResize:l=!0,elementResize:r=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:s=!1}=o,u=qr(t),f=i||l?[...u?Ko(u):[],...Ko(e)]:[];f.forEach(C=>{i&&C.addEventListener("scroll",n,{passive:!0}),l&&C.addEventListener("resize",n)});const c=u&&a?hh(u,n):null;let d=-1,p=null;r&&(p=new ResizeObserver(C=>{let[w]=C;w&&w.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var k;(k=p)==null||k.observe(e)})),n()}),u&&!s&&p.observe(u),p.observe(e));let m,_=s?jn(t):null;s&&v();function v(){const C=jn(t);_&&(C.x!==_.x||C.y!==_.y||C.width!==_.width||C.height!==_.height)&&n(),_=C,m=requestAnimationFrame(v)}return n(),()=>{var C;f.forEach(w=>{i&&w.removeEventListener("scroll",n),l&&w.removeEventListener("resize",n)}),c==null||c(),(C=p)==null||C.disconnect(),p=null,s&&cancelAnimationFrame(m)}}const gh=xp,bh=Kp,vh=Zp,yh=Up,wh=(t,e,n)=>{const o=new Map,i={platform:ph,...n},l={...i.platform,_c:o};return Yp(t,e,{...i,platform:l})},kh={strategy:"absolute",placement:"top",gutter:5,flip:!0,sameWidth:!1,overflowPadding:8},Ch={bottom:"rotate(45deg)",left:"rotate(135deg)",top:"rotate(225deg)",right:"rotate(315deg)"};function Ah(t,e,n={}){if(!e||!t||n===null)return{destroy:nt};const o={...kh,...n},i=e.querySelector("[data-arrow=true]"),l=[];o.flip&&l.push(bh({boundary:o.boundary,padding:o.overflowPadding}));const r=At(i)?i.offsetHeight/2:0;if(o.gutter||o.offset){const s=o.gutter?{mainAxis:o.gutter}:o.offset;(s==null?void 0:s.mainAxis)!=null&&(s.mainAxis+=r),l.push(Jp(s))}l.push(gh({boundary:o.boundary,crossAxis:o.overlap,padding:o.overflowPadding})),i&&l.push(yh({element:i,padding:8})),l.push(vh({padding:o.overflowPadding,apply({rects:s,availableHeight:u,availableWidth:f}){o.sameWidth&&Object.assign(e.style,{width:`${Math.round(s.reference.width)}px`,minWidth:"unset"}),o.fitViewport&&Object.assign(e.style,{maxWidth:`${f}px`,maxHeight:`${u}px`})}}));function a(){if(!t||!e)return;const{placement:s,strategy:u}=o;wh(t,e,{placement:s,middleware:l,strategy:u}).then(f=>{const c=Math.round(f.x),d=Math.round(f.y);if(Object.assign(e.style,{position:o.strategy,top:`${d}px`,left:`${c}px`}),At(i)&&f.middlewareData.arrow){const{x:p,y:m}=f.middlewareData.arrow,_=f.placement.split("-")[0];Object.assign(i.style,{position:"absolute",left:p!=null?`${p}px`:"",top:m!=null?`${m}px`:"",[_]:`calc(100% - ${r}px)`,transform:Ch[_],backgroundColor:"inherit",zIndex:"inherit"})}return f})}return Object.assign(e.style,{position:o.strategy}),{destroy:_h(t,e,a)}}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Dc=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Ki=Dc.join(","),$c=typeof Element>"u",Bn=$c?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Xi=!$c&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},Ji=function t(e,n){var o;n===void 0&&(n=!0);var i=e==null||(o=e.getAttribute)===null||o===void 0?void 0:o.call(e,"inert"),l=i===""||i==="true",r=l||n&&e&&t(e.parentNode);return r},Sh=function(e){var n,o=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"contenteditable");return o===""||o==="true"},Fc=function(e,n,o){if(Ji(e))return[];var i=Array.prototype.slice.apply(e.querySelectorAll(Ki));return n&&Bn.call(e,Ki)&&i.unshift(e),i=i.filter(o),i},jc=function t(e,n,o){for(var i=[],l=Array.from(e);l.length;){var r=l.shift();if(!Ji(r,!1))if(r.tagName==="SLOT"){var a=r.assignedElements(),s=a.length?a:r.children,u=t(s,!0,o);o.flatten?i.push.apply(i,u):i.push({scopeParent:r,candidates:u})}else{var f=Bn.call(r,Ki);f&&o.filter(r)&&(n||!e.includes(r))&&i.push(r);var c=r.shadowRoot||typeof o.getShadowRoot=="function"&&o.getShadowRoot(r),d=!Ji(c,!1)&&(!o.shadowRootFilter||o.shadowRootFilter(r));if(c&&d){var p=t(c===!0?r.children:c.children,!0,o);o.flatten?i.push.apply(i,p):i.push({scopeParent:r,candidates:p})}else l.unshift.apply(l,r.children)}}return i},Bc=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},On=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||Sh(e))&&!Bc(e)?0:e.tabIndex},Th=function(e,n){var o=On(e);return o<0&&n&&!Bc(e)?0:o},Ih=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},qc=function(e){return e.tagName==="INPUT"},Mh=function(e){return qc(e)&&e.type==="hidden"},Oh=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(o){return o.tagName==="SUMMARY"});return n},Ph=function(e,n){for(var o=0;o<e.length;o++)if(e[o].checked&&e[o].form===n)return e[o]},Nh=function(e){if(!e.name)return!0;var n=e.form||Xi(e),o=function(a){return n.querySelectorAll('input[type="radio"][name="'+a+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=o(window.CSS.escape(e.name));else try{i=o(e.name)}catch(r){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",r.message),!1}var l=Ph(i,e.form);return!l||l===e},Eh=function(e){return qc(e)&&e.type==="radio"},Rh=function(e){return Eh(e)&&!Nh(e)},Lh=function(e){var n,o=e&&Xi(e),i=(n=o)===null||n===void 0?void 0:n.host,l=!1;if(o&&o!==e){var r,a,s;for(l=!!((r=i)!==null&&r!==void 0&&(a=r.ownerDocument)!==null&&a!==void 0&&a.contains(i)||e!=null&&(s=e.ownerDocument)!==null&&s!==void 0&&s.contains(e));!l&&i;){var u,f,c;o=Xi(i),i=(u=o)===null||u===void 0?void 0:u.host,l=!!((f=i)!==null&&f!==void 0&&(c=f.ownerDocument)!==null&&c!==void 0&&c.contains(i))}}return l},Rs=function(e){var n=e.getBoundingClientRect(),o=n.width,i=n.height;return o===0&&i===0},Dh=function(e,n){var o=n.displayCheck,i=n.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var l=Bn.call(e,"details>summary:first-of-type"),r=l?e.parentElement:e;if(Bn.call(r,"details:not([open]) *"))return!0;if(!o||o==="full"||o==="legacy-full"){if(typeof i=="function"){for(var a=e;e;){var s=e.parentElement,u=Xi(e);if(s&&!s.shadowRoot&&i(s)===!0)return Rs(e);e.assignedSlot?e=e.assignedSlot:!s&&u!==e.ownerDocument?e=u.host:e=s}e=a}if(Lh(e))return!e.getClientRects().length;if(o!=="legacy-full")return!0}else if(o==="non-zero-area")return Rs(e);return!1},$h=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var o=0;o<n.children.length;o++){var i=n.children.item(o);if(i.tagName==="LEGEND")return Bn.call(n,"fieldset[disabled] *")?!0:!i.contains(e)}return!0}n=n.parentElement}return!1},xi=function(e,n){return!(n.disabled||Ji(n)||Mh(n)||Dh(n,e)||Oh(n)||$h(n))},ar=function(e,n){return!(Rh(n)||On(n)<0||!xi(e,n))},Fh=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},jh=function t(e){var n=[],o=[];return e.forEach(function(i,l){var r=!!i.scopeParent,a=r?i.scopeParent:i,s=Th(a,r),u=r?t(i.candidates):a;s===0?r?n.push.apply(n,u):n.push(a):o.push({documentOrder:l,tabIndex:s,item:i,isScope:r,content:u})}),o.sort(Ih).reduce(function(i,l){return l.isScope?i.push.apply(i,l.content):i.push(l.content),i},[]).concat(n)},Bh=function(e,n){n=n||{};var o;return n.getShadowRoot?o=jc([e],n.includeContainer,{filter:ar.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:Fh}):o=Fc(e,n.includeContainer,ar.bind(null,n)),jh(o)},qh=function(e,n){n=n||{};var o;return n.getShadowRoot?o=jc([e],n.includeContainer,{filter:xi.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):o=Fc(e,n.includeContainer,xi.bind(null,n)),o},io=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return Bn.call(e,Ki)===!1?!1:ar(n,e)},Gh=Dc.concat("iframe").join(","),$l=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return Bn.call(e,Gh)===!1?!1:xi(n,e)};/*!
* focus-trap 7.5.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function Ls(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,o)}return n}function Ds(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ls(Object(n),!0).forEach(function(o){Hh(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ls(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function Hh(t,e,n){return e=Wh(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vh(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wh(t){var e=Vh(t,"string");return typeof e=="symbol"?e:String(e)}var $s={activateTrap:function(e,n){if(e.length>0){var o=e[e.length-1];o!==n&&o.pause()}var i=e.indexOf(n);i===-1||e.splice(i,1),e.push(n)},deactivateTrap:function(e,n){var o=e.indexOf(n);o!==-1&&e.splice(o,1),e.length>0&&e[e.length-1].unpause()}},Yh=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},Uh=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},Vo=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},Kh=function(e){return Vo(e)&&!e.shiftKey},Xh=function(e){return Vo(e)&&e.shiftKey},Fs=function(e){return setTimeout(e,0)},js=function(e,n){var o=-1;return e.every(function(i,l){return n(i)?(o=l,!1):!0}),o},Ro=function(e){for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return typeof e=="function"?e.apply(void 0,o):e},gi=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},Jh=[],xh=function(e,n){var o=(n==null?void 0:n.document)||document,i=(n==null?void 0:n.trapStack)||Jh,l=Ds({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:Kh,isKeyBackward:Xh},n),r={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},a,s=function(g,I,N){return g&&g[I]!==void 0?g[I]:l[N||I]},u=function(g,I){var N=typeof(I==null?void 0:I.composedPath)=="function"?I.composedPath():void 0;return r.containerGroups.findIndex(function(B){var F=B.container,J=B.tabbableNodes;return F.contains(g)||(N==null?void 0:N.includes(F))||J.find(function(z){return z===g})})},f=function(g){var I=l[g];if(typeof I=="function"){for(var N=arguments.length,B=new Array(N>1?N-1:0),F=1;F<N;F++)B[F-1]=arguments[F];I=I.apply(void 0,B)}if(I===!0&&(I=void 0),!I){if(I===void 0||I===!1)return I;throw new Error("`".concat(g,"` was specified but was not a node, or did not return a node"))}var J=I;if(typeof I=="string"&&(J=o.querySelector(I),!J))throw new Error("`".concat(g,"` as selector refers to no known node"));return J},c=function(){var g=f("initialFocus");if(g===!1)return!1;if(g===void 0||!$l(g,l.tabbableOptions))if(u(o.activeElement)>=0)g=o.activeElement;else{var I=r.tabbableGroups[0],N=I&&I.firstTabbableNode;g=N||f("fallbackFocus")}if(!g)throw new Error("Your focus-trap needs to have at least one focusable element");return g},d=function(){if(r.containerGroups=r.containers.map(function(g){var I=Bh(g,l.tabbableOptions),N=qh(g,l.tabbableOptions),B=I.length>0?I[0]:void 0,F=I.length>0?I[I.length-1]:void 0,J=N.find(function(h){return io(h)}),z=N.slice().reverse().find(function(h){return io(h)}),Q=!!I.find(function(h){return On(h)>0});return{container:g,tabbableNodes:I,focusableNodes:N,posTabIndexesFound:Q,firstTabbableNode:B,lastTabbableNode:F,firstDomTabbableNode:J,lastDomTabbableNode:z,nextTabbableNode:function(W){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,ne=I.indexOf(W);return ne<0?Y?N.slice(N.indexOf(W)+1).find(function(ee){return io(ee)}):N.slice(0,N.indexOf(W)).reverse().find(function(ee){return io(ee)}):I[ne+(Y?1:-1)]}}}),r.tabbableGroups=r.containerGroups.filter(function(g){return g.tabbableNodes.length>0}),r.tabbableGroups.length<=0&&!f("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(r.containerGroups.find(function(g){return g.posTabIndexesFound})&&r.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},p=function y(g){var I=g.activeElement;if(I)return I.shadowRoot&&I.shadowRoot.activeElement!==null?y(I.shadowRoot):I},m=function y(g){if(g!==!1&&g!==p(document)){if(!g||!g.focus){y(c());return}g.focus({preventScroll:!!l.preventScroll}),r.mostRecentlyFocusedNode=g,Yh(g)&&g.select()}},_=function(g){var I=f("setReturnFocus",g);return I||(I===!1?!1:g)},v=function(g){var I=g.target,N=g.event,B=g.isBackward,F=B===void 0?!1:B;I=I||gi(N),d();var J=null;if(r.tabbableGroups.length>0){var z=u(I,N),Q=z>=0?r.containerGroups[z]:void 0;if(z<0)F?J=r.tabbableGroups[r.tabbableGroups.length-1].lastTabbableNode:J=r.tabbableGroups[0].firstTabbableNode;else if(F){var h=js(r.tabbableGroups,function(we){var Ae=we.firstTabbableNode;return I===Ae});if(h<0&&(Q.container===I||$l(I,l.tabbableOptions)&&!io(I,l.tabbableOptions)&&!Q.nextTabbableNode(I,!1))&&(h=z),h>=0){var W=h===0?r.tabbableGroups.length-1:h-1,Y=r.tabbableGroups[W];J=On(I)>=0?Y.lastTabbableNode:Y.lastDomTabbableNode}else Vo(N)||(J=Q.nextTabbableNode(I,!1))}else{var ne=js(r.tabbableGroups,function(we){var Ae=we.lastTabbableNode;return I===Ae});if(ne<0&&(Q.container===I||$l(I,l.tabbableOptions)&&!io(I,l.tabbableOptions)&&!Q.nextTabbableNode(I))&&(ne=z),ne>=0){var ee=ne===r.tabbableGroups.length-1?0:ne+1,x=r.tabbableGroups[ee];J=On(I)>=0?x.firstTabbableNode:x.firstDomTabbableNode}else Vo(N)||(J=Q.nextTabbableNode(I))}}else J=f("fallbackFocus");return J},C=function(g){var I=gi(g);if(!(u(I,g)>=0)){if(Ro(l.clickOutsideDeactivates,g)){a.deactivate({returnFocus:l.returnFocusOnDeactivate});return}Ro(l.allowOutsideClick,g)||g.preventDefault()}},w=function(g){var I=gi(g),N=u(I,g)>=0;if(N||I instanceof Document)N&&(r.mostRecentlyFocusedNode=I);else{g.stopImmediatePropagation();var B,F=!0;if(r.mostRecentlyFocusedNode)if(On(r.mostRecentlyFocusedNode)>0){var J=u(r.mostRecentlyFocusedNode),z=r.containerGroups[J].tabbableNodes;if(z.length>0){var Q=z.findIndex(function(h){return h===r.mostRecentlyFocusedNode});Q>=0&&(l.isKeyForward(r.recentNavEvent)?Q+1<z.length&&(B=z[Q+1],F=!1):Q-1>=0&&(B=z[Q-1],F=!1))}}else r.containerGroups.some(function(h){return h.tabbableNodes.some(function(W){return On(W)>0})})||(F=!1);else F=!1;F&&(B=v({target:r.mostRecentlyFocusedNode,isBackward:l.isKeyBackward(r.recentNavEvent)})),m(B||r.mostRecentlyFocusedNode||c())}r.recentNavEvent=void 0},k=function(g){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;r.recentNavEvent=g;var N=v({event:g,isBackward:I});N&&(Vo(g)&&g.preventDefault(),m(N))},R=function(g){if(Uh(g)&&Ro(l.escapeDeactivates,g)!==!1){g.preventDefault(),a.deactivate();return}(l.isKeyForward(g)||l.isKeyBackward(g))&&k(g,l.isKeyBackward(g))},$=function(g){var I=gi(g);u(I,g)>=0||Ro(l.clickOutsideDeactivates,g)||Ro(l.allowOutsideClick,g)||(g.preventDefault(),g.stopImmediatePropagation())},D=function(){if(r.active)return $s.activateTrap(i,a),r.delayInitialFocusTimer=l.delayInitialFocus?Fs(function(){m(c())}):m(c()),o.addEventListener("focusin",w,!0),o.addEventListener("mousedown",C,{capture:!0,passive:!1}),o.addEventListener("touchstart",C,{capture:!0,passive:!1}),o.addEventListener("click",$,{capture:!0,passive:!1}),o.addEventListener("keydown",R,{capture:!0,passive:!1}),a},E=function(){if(r.active)return o.removeEventListener("focusin",w,!0),o.removeEventListener("mousedown",C,!0),o.removeEventListener("touchstart",C,!0),o.removeEventListener("click",$,!0),o.removeEventListener("keydown",R,!0),a},q=function(g){var I=g.some(function(N){var B=Array.from(N.removedNodes);return B.some(function(F){return F===r.mostRecentlyFocusedNode})});I&&m(c())},L=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(q):void 0,H=function(){L&&(L.disconnect(),r.active&&!r.paused&&r.containers.map(function(g){L.observe(g,{subtree:!0,childList:!0})}))};return a={get active(){return r.active},get paused(){return r.paused},activate:function(g){if(r.active)return this;var I=s(g,"onActivate"),N=s(g,"onPostActivate"),B=s(g,"checkCanFocusTrap");B||d(),r.active=!0,r.paused=!1,r.nodeFocusedBeforeActivation=o.activeElement,I==null||I();var F=function(){B&&d(),D(),H(),N==null||N()};return B?(B(r.containers.concat()).then(F,F),this):(F(),this)},deactivate:function(g){if(!r.active)return this;var I=Ds({onDeactivate:l.onDeactivate,onPostDeactivate:l.onPostDeactivate,checkCanReturnFocus:l.checkCanReturnFocus},g);clearTimeout(r.delayInitialFocusTimer),r.delayInitialFocusTimer=void 0,E(),r.active=!1,r.paused=!1,H(),$s.deactivateTrap(i,a);var N=s(I,"onDeactivate"),B=s(I,"onPostDeactivate"),F=s(I,"checkCanReturnFocus"),J=s(I,"returnFocus","returnFocusOnDeactivate");N==null||N();var z=function(){Fs(function(){J&&m(_(r.nodeFocusedBeforeActivation)),B==null||B()})};return J&&F?(F(_(r.nodeFocusedBeforeActivation)).then(z,z),this):(z(),this)},pause:function(g){if(r.paused||!r.active)return this;var I=s(g,"onPause"),N=s(g,"onPostPause");return r.paused=!0,I==null||I(),E(),H(),N==null||N(),this},unpause:function(g){if(!r.paused||!r.active)return this;var I=s(g,"onUnpause"),N=s(g,"onPostUnpause");return r.paused=!1,I==null||I(),d(),D(),H(),N==null||N(),this},updateContainerElements:function(g){var I=[].concat(g).filter(Boolean);return r.containers=I.map(function(N){return typeof N=="string"?o.querySelector(N):N}),r.active&&d(),H(),this}},a.updateContainerElements(e),a};function Zh(t={}){let e;const{immediate:n,...o}=t,i=Ue(!1),l=Ue(!1),r=c=>e==null?void 0:e.activate(c),a=c=>{e==null||e.deactivate(c)},s=()=>{e&&(e.pause(),l.set(!0))},u=()=>{e&&(e.unpause(),l.set(!1))};return{useFocusTrap:c=>(e=xh(c,{...o,onActivate(){var d;i.set(!0),(d=t.onActivate)==null||d.call(t)},onDeactivate(){var d;i.set(!1),(d=t.onDeactivate)==null||d.call(t)}}),n&&r(),{destroy(){a(),e=void 0}}),hasFocus:ds(i),isPaused:ds(l),activate:r,deactivate:a,pause:s,unpause:u}}const bi=[];function Qh(t,e){let n=nt;function o(){const l=bi.indexOf(t);l>=0&&bi.splice(l,1)}function i(l){n();const{open:r,onClose:a,shouldCloseOnInteractOutside:s,closeOnInteractOutside:u}=l;Rr(100).then(()=>{r?bi.push(t):o()});function f(){return dp(bi)===t}function c(){f()&&a&&(a(),o())}function d(m){const _=m.target;hl(_)&&_&&f()&&(m.preventDefault(),m.stopPropagation(),m.stopImmediatePropagation())}function p(m){s!=null&&s(m)&&f()&&(m.preventDefault(),m.stopPropagation(),m.stopImmediatePropagation(),c())}n=zh(t,{onInteractOutsideStart:d,onInteractOutside:u?p:void 0,enabled:r}).destroy}return i(e),{update:i,destroy(){o(),n()}}}const Gc=(t,e="body")=>{let n;if(!At(e)&&typeof e!="string")return{destroy:nt};async function o(l){if(e=l,typeof e=="string"){if(n=document.querySelector(e),n===null&&(await Ir(),n=document.querySelector(e)),n===null)throw new Error(`No element found matching css selector: "${e}"`)}else if(e instanceof HTMLElement)n=e;else throw new TypeError(`Unknown portal target type: ${e===null?"null":typeof e}. Allowed types: string (CSS selector) or HTMLElement.`);t.dataset.portal="",n.appendChild(t),t.hidden=!1}function i(){t.remove()}return o(e),{update:o,destroy:i}};function zh(t,e){let n=nt,o=!1,i=!1,l=!1;function r(u){n();const{onInteractOutside:f,onInteractOutsideStart:c,enabled:d}=u;if(!d)return;function p(v){f&&Bs(v,t)&&(c==null||c(v));const C=v.target;hl(C)&&Hc(t,C)&&(i=!0),o=!0}function m(v){f==null||f(v)}const _=e_(t);if(typeof PointerEvent<"u"){const v=C=>{a(C)&&m(C),s()};n=Yt(bt(_,"pointerdown",p,!0),bt(_,"pointerup",v,!0))}else{const v=w=>{l?l=!1:a(w)&&m(w),s()},C=w=>{l=!0,a(w)&&m(w),s()};n=Yt(bt(_,"mousedown",p,!0),bt(_,"mouseup",v,!0),bt(_,"touchstart",p,!0),bt(_,"touchend",C,!0))}}function a(u){return!!(o&&!i&&Bs(u,t))}function s(){o=!1,i=!1}return r(e),{update:r,destroy:n}}function Bs(t,e){if("button"in t&&t.button>0)return!1;const n=t.target;if(!hl(n))return!1;const o=n.ownerDocument;return!o||!o.documentElement.contains(n)?!1:e&&!Hc(e,n)}function Hc(t,e){return t===e||t.contains(e)}function e_(t){return(t==null?void 0:t.ownerDocument)??document}Ln(!1),Ln(!1),Ln(void 0);function t_(){return{elements:{root:ht("label",{action:e=>({destroy:kt(e,"mousedown",o=>{!o.defaultPrevented&&o.detail>1&&o.preventDefault()})})})}}}const{name:In}=pl("dialog"),n_={preventScroll:!0,closeOnEscape:!0,closeOnOutsideClick:!0,role:"dialog",defaultOpen:!1,portal:void 0,forceVisible:!1,openFocus:void 0,closeFocus:void 0,onOutsideClick:void 0},o_=["content","title","description"];function Vc(t){const e={...n_,...t},n=Fn(_l(e,"ids")),{preventScroll:o,closeOnEscape:i,closeOnOutsideClick:l,role:r,portal:a,forceVisible:s,openFocus:u,closeFocus:f,onOutsideClick:c}=n,d=ln.writable(null),p=Fn({...Lr(o_),...e.ids}),m=e.open??Ue(e.defaultOpen),_=gl(m,e==null?void 0:e.onOpenChange),v=cn([_,s],([y,g])=>y||g);let C=nt;function w(y){const g=y.currentTarget,I=y.currentTarget;!At(g)||!At(I)||(_.set(!0),d.set(I))}function k(){_.set(!1),Is({prop:f.get(),defaultEl:d.get()})}const R=ht(In("trigger"),{stores:[_],returned:([y])=>({"aria-haspopup":"dialog","aria-expanded":y,type:"button"}),action:y=>({destroy:Yt(kt(y,"click",I=>{w(I)}),kt(y,"keydown",I=>{I.key!==ct.ENTER&&I.key!==ct.SPACE||(I.preventDefault(),w(I))}))})}),$=ht(In("overlay"),{stores:[v,_],returned:([y,g])=>({hidden:y?void 0:!0,tabindex:-1,style:bn({display:y?void 0:"none"}),"aria-hidden":!0,"data-state":g?"open":"closed"}),action:y=>{let g=nt;if(i.get()){const I=Ms(y,{handler:()=>{k()}});I&&I.destroy&&(g=I.destroy)}return{destroy(){g()}}}}),D=ht(In("content"),{stores:[v,p.content,p.description,p.title,_],returned:([y,g,I,N,B])=>({id:g,role:r.get(),"aria-describedby":I,"aria-labelledby":N,"aria-modal":y?"true":void 0,"data-state":B?"open":"closed",tabindex:-1,hidden:y?void 0:!0,style:bn({display:y?void 0:"none"})}),action:y=>{let g=nt,I=nt;const N=Yt(Nt([_],([B])=>{if(!B)return;const F=Zh({immediate:!1,escapeDeactivates:!0,clickOutsideDeactivates:!0,returnFocusOnDeactivate:!1,fallbackFocus:y});g=F.activate,I=F.deactivate;const J=F.useFocusTrap(y);return J&&J.destroy?J.destroy:F.deactivate}),Nt([l,_],([B,F])=>Qh(y,{open:F,closeOnInteractOutside:B,onClose(){k()},shouldCloseOnInteractOutside(J){var z;return(z=c.get())==null||z(J),!J.defaultPrevented}}).destroy),Nt([i],([B])=>{if(!B)return nt;const F=Ms(y,{handler:()=>{k()}});return F&&F.destroy?F.destroy:nt}),Nt([v],([B])=>{Ir().then(()=>{B?g():I()})}));return{destroy:()=>{C(),N()}}}}),E=ht(In("portalled"),{stores:a,returned:y=>({"data-portal":yc(y)}),action:y=>{const g=Nt([a],([I])=>{if(I===null)return nt;const N=Ac(y,I);if(N===null)return nt;const B=Gc(y,N);return B&&B.destroy?B.destroy:nt});return{destroy(){g()}}}}),q=ht(In("title"),{stores:[p.title],returned:([y])=>({id:y})}),L=ht(In("description"),{stores:[p.description],returned:([y])=>({id:y})}),H=ht(In("close"),{returned:()=>({type:"button"}),action:y=>({destroy:Yt(kt(y,"click",()=>{k()}),kt(y,"keydown",I=>{I.key!==ct.SPACE&&I.key!==ct.ENTER||(I.preventDefault(),k())}))})});return Nt([_,o],([y,g])=>{if(Uo){if(g&&y&&(C=Lp()),y){const I=document.getElementById(p.content.get());Is({prop:u.get(),defaultEl:I})}return()=>{s.get()||C()}}}),{ids:p,elements:{content:D,trigger:R,title:q,description:L,overlay:$,close:H,portalled:E},states:{open:_},options:n}}const i_={defaultValue:0,max:100},{name:l_}=pl("progress"),r_=t=>{const e={...i_,...t},n=Fn(_l(e,"value")),{max:o}=n,i=e.value??Ue(e.defaultValue),l=gl(i,e==null?void 0:e.onValueChange);return{elements:{root:ht(l_(),{stores:[l,o],returned:([a,s])=>({value:a,max:s,role:"meter","aria-valuemin":0,"aria-valuemax":s,"aria-valuenow":a,"data-value":a,"data-state":a===null?"indeterminate":a===s?"complete":"loading","data-max":s})})},states:{value:l},options:n}},s_={orientation:"horizontal",decorative:!1},a_=t=>{const e={...s_,...t},n=Fn(e),{orientation:o,decorative:i}=n;return{elements:{root:ht("separator",{stores:[o,i],returned:([r,a])=>({role:a?"none":"separator","aria-orientation":r==="vertical"?r:void 0,"aria-hidden":a,"data-orientation":r})})},options:n}},u_={defaultValue:[],min:0,max:100,step:1,orientation:"horizontal",dir:"ltr",disabled:!1},{name:vi}=pl("slider"),f_=t=>{const e={...u_,...t},n=Fn(_l(e,"value","onValueChange","defaultValue")),{min:o,max:i,step:l,orientation:r,dir:a,disabled:s}=n,u=e.value??Ue(e.defaultValue),f=gl(u,e==null?void 0:e.onValueChange),c=ln(Ue(!1)),d=ln(Ue(0)),p=ln(Ue(null)),m=Lr(["root"]),_=(E,q)=>{f.update(L=>{if(!L)return[E];if(L[q]===E)return L;const H=[...L],y=H[q]>E?-1:1;function g(){H[q]=H[q+y],H[q+y]=E;const F=v();F&&(F[q+y].focus(),p.set({thumb:F[q+y],index:q+y}))}if(y===-1&&E<H[q-1])return g(),H;if(y===1&&E>H[q+1])return g(),H;const I=o.get(),N=i.get(),B=l.get();return H[q]=Dl(E,I,N,B),H})},v=()=>{const E=Rl(m.root);return E?Array.from(E.querySelectorAll('[data-melt-part="thumb"]')).filter(q=>At(q)):null},C=cn([o,i],([E,q])=>L=>(L-E)/(q-E)*100),w=ln.derived([r,a],([E,q])=>E==="horizontal"?q==="rtl"?"rl":"lr":q==="rtl"?"tb":"bt"),k=ht(vi(),{stores:[s,r,a],returned:([E,q,L])=>({dir:L,disabled:El(E),"data-disabled":El(E),"data-orientation":q,style:E?void 0:`touch-action: ${q==="horizontal"?"pan-y":"pan-x"}`,"data-melt-id":m.root})}),R=ht(vi("range"),{stores:[f,w,C],returned:([E,q,L])=>{const H=E.length>1?L(Math.min(...E)??0):0,y=100-L(Math.max(...E)??0),g={position:"absolute"};switch(q){case"lr":{g.left=`${H}%`,g.right=`${y}%`;break}case"rl":{g.right=`${H}%`,g.left=`${y}%`;break}case"bt":{g.bottom=`${H}%`,g.top=`${y}%`;break}case"tb":{g.top=`${H}%`,g.bottom=`${y}%`;break}}return{style:bn(g)}}}),$=As(vi("thumb"),{stores:[f,C,o,i,s,r,w],returned:([E,q,L,H,y,g,I])=>Array.from({length:E.length||1},(B,F)=>{d.get()<E.length&&d.update(W=>W+1);const z=E[F],Q=`${q(z)}%`,h={position:"absolute"};switch(I){case"lr":{h.left=Q,h.translate="-50% 0";break}case"rl":{h.right=Q,h.translate="50% 0";break}case"bt":{h.bottom=Q,h.translate="0 50%";break}case"tb":{h.top=Q,h.translate="0 -50%";break}}return{role:"slider","aria-valuemin":L,"aria-valuemax":H,"aria-valuenow":z,"aria-disabled":El(y),"aria-orientation":g,"data-melt-part":"thumb","data-value":z,style:bn(h),tabindex:y?-1:0}}),action:E=>({destroy:kt(E,"keydown",L=>{if(s.get())return;const H=L.currentTarget;if(!At(H))return;const y=v();if(!(y!=null&&y.length))return;const g=y.indexOf(H);if(d.set(g),![ct.ARROW_LEFT,ct.ARROW_RIGHT,ct.ARROW_UP,ct.ARROW_DOWN,ct.HOME,ct.END].includes(L.key))return;L.preventDefault();const I=o.get(),N=i.get(),B=l.get(),F=f.get(),J=r.get(),z=w.get(),Q=F[g];switch(L.key){case ct.HOME:{_(I,g);break}case ct.END:{_(N,g);break}case ct.ARROW_LEFT:{if(J!=="horizontal")break;L.metaKey?_(z==="rl"?N:I,g):z==="rl"&&Q<N?_(Q+B,g):z==="lr"&&Q>I&&_(Q-B,g);break}case ct.ARROW_RIGHT:{if(J!=="horizontal")break;L.metaKey?_(z==="rl"?I:N,g):z==="rl"&&Q>I?_(Q-B,g):z==="lr"&&Q<N&&_(Q+B,g);break}case ct.ARROW_UP:{L.metaKey?_(z==="tb"?I:N,g):z==="tb"&&Q>I?_(Q-B,g):z!=="tb"&&Q<N&&_(Q+B,g);break}case ct.ARROW_DOWN:{L.metaKey?_(z==="tb"?N:I,g):z==="tb"&&Q<N?_(Q+B,g):z!=="tb"&&Q>I&&_(Q-B,g);break}}})})}),D=As(vi("tick"),{stores:[f,o,i,l,w],returned:([E,q,L,H,y])=>{const g=L-q;let I=Math.ceil(g/H);return g%H==0&&I++,Array.from({length:I},(N,B)=>{const F=`${B*(H/(L-q))*100}%`,J=B===0,z=B===I-1,Q=J?0:z?-100:-50,h={position:"absolute"};switch(y){case"lr":{h.left=F,h.translate=`${Q}% 0`;break}case"rl":{h.right=F,h.translate=`${-Q}% 0`;break}case"bt":{h.bottom=F,h.translate=`0 ${-Q}%`;break}case"tb":{h.top=F,h.translate=`0 ${Q}%`;break}}const W=q+B*H;return{"data-bounded":(E.length===1?W<=E[0]:E[0]<=W&&W<=E[E.length-1])?!0:void 0,"data-value":W,style:bn(h)}})}});return Nt([k,o,i,s,r,w,l],([E,q,L,H,y,g,I])=>{if(!Uo||H)return;const N=(h,W,Y,ne)=>{const x=(h-Y)/(ne-Y)*(L-q)+q;if(x<q)_(q,W);else if(x>L)_(L,W);else{const we=I,Ae=q,Re=Math.floor((x-Ae)/we),Ze=Ae+Re*we+we/2,Le=Ae+(Re+1)*we+we/2,Qe=x>=Ze&&x<Le?(Re+1)*we+Ae:Re*we+Ae;Qe<=L&&_(Qe,W)}},B=h=>{const W=v();if(!W)return;W.forEach(x=>x.blur());const Y=W.map(x=>{if(y==="horizontal"){const{left:we,right:Ae}=x.getBoundingClientRect();return Math.abs(h.clientX-(we+Ae)/2)}else{const{top:we,bottom:Ae}=x.getBoundingClientRect();return Math.abs(h.clientY-(we+Ae)/2)}}),ne=W[Y.indexOf(Math.min(...Y))],ee=W.indexOf(ne);return{thumb:ne,index:ee}},F=h=>{if(!c.get())return;h.preventDefault(),h.stopPropagation();const W=Rl(E["data-melt-id"]),Y=p.get();if(!W||!Y)return;Y.thumb.focus();const{left:ne,right:ee,top:x,bottom:we}=W.getBoundingClientRect();switch(g){case"lr":{N(h.clientX,Y.index,ne,ee);break}case"rl":{N(h.clientX,Y.index,ee,ne);break}case"bt":{N(h.clientY,Y.index,we,x);break}case"tb":{N(h.clientY,Y.index,x,we);break}}},J=h=>{if(h.button!==0)return;const W=Rl(E["data-melt-id"]),Y=B(h);if(!Y||!W)return;const ne=h.target;!At(ne)||!W.contains(ne)||(h.preventDefault(),p.set(Y),Y.thumb.focus(),c.set(!0),F(h))},z=()=>{c.set(!1)},Q=Yt(bt(document,"pointerdown",J),bt(document,"pointerup",z),bt(document,"pointerleave",z),bt(document,"pointermove",F));return()=>{Q()}}),Nt([l,o,i,f],function([q,L,H,y]){const g=N=>Dl(N,L,H,q)===N,I=N=>Dl(N,L,H,q);y.some(N=>!g(N))&&f.update(N=>N.map(I))}),{elements:{root:k,thumbs:$,range:R,ticks:D},states:{value:f},options:n}},c_={positioning:{placement:"bottom"},arrowSize:8,defaultOpen:!1,closeOnPointerDown:!0,openDelay:1e3,closeDelay:0,forceVisible:!1,portal:void 0,closeOnEscape:!0,disableHoverableContent:!1,group:void 0},{name:Fl}=pl("tooltip"),yi=new Map,d_=["trigger","content"];function m_(t){const e={...c_,...t},n=Fn(_l(e,"open","ids")),{positioning:o,arrowSize:i,closeOnPointerDown:l,openDelay:r,closeDelay:a,forceVisible:s,portal:u,closeOnEscape:f,disableHoverableContent:c,group:d}=n,p=e.open??Ue(e.defaultOpen),m=gl(p,e==null?void 0:e.onOpenChange),_=Ue(null),v=Fn({...Lr(d_),...e.ids});let C=!1;const w=g=>Uo?document.getElementById(v[g].get()):null;let k=null,R=null;function $(g){R&&(window.clearTimeout(R),R=null),k||(k=window.setTimeout(()=>{m.set(!0),_.update(I=>I??g),k=null},r.get()))}function D(g){if(k&&(window.clearTimeout(k),k=null),g&&y){_.set("pointer");return}R||(R=window.setTimeout(()=>{m.set(!1),_.set(null),g&&(C=!1),R=null},a.get()))}const E=cn([m,s],([g,I])=>g||I),q=ht(Fl("trigger"),{stores:[v.content,v.trigger,m],returned:([g,I,N])=>({"aria-describedby":g,id:I,"data-state":N?"open":"closed"}),action:g=>{const I=B=>{f.get()&&B.key===ct.ESCAPE&&(k&&(window.clearTimeout(k),k=null),m.set(!1))};return{destroy:Yt(kt(g,"pointerdown",()=>{l.get()&&(m.set(!1),C=!0,k&&(window.clearTimeout(k),k=null))}),kt(g,"pointerenter",B=>{Ss(B)||$("pointer")}),kt(g,"pointerleave",B=>{Ss(B)||k&&(window.clearTimeout(k),k=null)}),kt(g,"focus",()=>{C||$("focus")}),kt(g,"blur",async()=>{await Rr(0),D(!0)}),kt(g,"keydown",I),bt(document,"keydown",I))}}}),L=ht(Fl("content"),{stores:[E,m,u,v.content],returned:([g,I,N,B])=>({role:"tooltip",hidden:g?void 0:!0,tabindex:-1,style:bn({display:g?void 0:"none"}),id:B,"data-portal":yc(N),"data-state":I?"open":"closed"}),action:g=>{let I=nt,N=nt;const B=Nt([E,o,u],([z,Q,h])=>{const W=w("trigger");if(!z||!W){N(),I();return}if(I=Ah(W,g,Q).destroy,h===null){N();return}const ne=Ac(g,h);if(ne){const ee=Gc(g,ne);ee&&ee.destroy&&(N=ee.destroy)}});function F(z){if(!m.get())return;const Q=z.target;if(!hl(Q)&&!mp(Q))return;const h=w("trigger");h&&Q.contains(h)&&D()}const J=Yt(kt(g,"pointerenter",()=>$("pointer")),kt(g,"pointerdown",()=>$("pointer")),bt(window,"scroll",F,{capture:!0}));return{destroy(){J(),N(),I(),B()}}}}),H=ht(Fl("arrow"),{stores:i,returned:g=>({"data-arrow":!0,style:bn({position:"absolute",width:`var(--arrow-size, ${g}px)`,height:`var(--arrow-size, ${g}px)`})})});let y=!1;return Nt(m,g=>{const I=d.get();if(I===void 0||I===!1)return;if(!g){yi.get(I)===m&&yi.delete(I);return}const N=yi.get(I);N==null||N.set(!1),yi.set(I,m)}),Nt([m,_],([g,I])=>{if(!(!g||!Uo))return Yt(bt(document,"mousemove",N=>{const B=w("content"),F=w("trigger");if(!B||!F)return;const J=c.get()?[F]:[F,B],z=Pp(J);y=Np({x:N.clientX,y:N.clientY},z),I==="pointer"&&(y||D())}))}),{ids:v,elements:{trigger:q,content:L,arrow:H},states:{open:m},options:n}}function Wn(t,e){const n={};return e.forEach(o=>{n[o]={[`data-${t}-${o}`]:""}}),o=>n[o]}function Yn(){const t=nm();return e=>{const{originalEvent:n}=e.detail,{cancelable:o}=e,i=n.type;t(i,{originalEvent:n,currentTarget:n.currentTarget},{cancelable:o})||e.preventDefault()}}function So(t){const e={};for(const n in t){const o=t[n];o!==void 0&&(e[n]=o)}return e}function qn(t){return function(e,n){if(n===void 0)return;const o=t[e];o&&o.set(n)}}function Wc(){return{NAME:"alert-dialog",PARTS:["action","cancel","content","description","overlay","portal","title","trigger"]}}function p_(t){const{NAME:e,PARTS:n}=Wc(),o=Wn(e,n),i=Vc({...So(t),role:"alertdialog",forceVisible:!0}),l={...i,getAttrs:o,updateOption:qn(i.options)};return cl(e,l),{...l,updateOption:qn(l.options),getAttrs:o}}function Un(){const{NAME:t}=Wc();return dl(t)}const h_=t=>({ids:t&1}),qs=t=>({ids:t[0]});function __(t){let e;const n=t[12].default,o=ce(n,t,t[11],qs);return{c(){o&&o.c()},m(i,l){o&&o.m(i,l),e=!0},p(i,[l]){o&&o.p&&(!e||l&2049)&&me(o,n,i,i[11],e?de(n,i[11],l,h_):pe(i[11]),qs)},i(i){e||(A(o,i),e=!0)},o(i){M(o,i),e=!1},d(i){o&&o.d(i)}}}function g_(t,e,n){let o,{$$slots:i={},$$scope:l}=e,{preventScroll:r=void 0}=e,{closeOnEscape:a=void 0}=e,{closeOnOutsideClick:s=!1}=e,{portal:u=void 0}=e,{open:f=void 0}=e,{onOpenChange:c=void 0}=e,{openFocus:d=void 0}=e,{closeFocus:p=void 0}=e,{onOutsideClick:m=void 0}=e;const{states:{open:_},updateOption:v,ids:C}=p_({closeOnEscape:a,preventScroll:r,closeOnOutsideClick:s,portal:u,forceVisible:!0,defaultOpen:f,openFocus:d,closeFocus:p,onOutsideClick:m,onOpenChange:({next:k})=>(f!==k&&(c==null||c(k),n(2,f=k)),k)}),w=cn([C.content,C.description,C.title],([k,R,$])=>({content:k,description:R,title:$}));return se(t,w,k=>n(0,o=k)),t.$$set=k=>{"preventScroll"in k&&n(3,r=k.preventScroll),"closeOnEscape"in k&&n(4,a=k.closeOnEscape),"closeOnOutsideClick"in k&&n(5,s=k.closeOnOutsideClick),"portal"in k&&n(6,u=k.portal),"open"in k&&n(2,f=k.open),"onOpenChange"in k&&n(7,c=k.onOpenChange),"openFocus"in k&&n(8,d=k.openFocus),"closeFocus"in k&&n(9,p=k.closeFocus),"onOutsideClick"in k&&n(10,m=k.onOutsideClick),"$$scope"in k&&n(11,l=k.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&f!==void 0&&_.set(f),t.$$.dirty&8&&v("preventScroll",r),t.$$.dirty&16&&v("closeOnEscape",a),t.$$.dirty&32&&v("closeOnOutsideClick",s),t.$$.dirty&64&&v("portal",u),t.$$.dirty&256&&v("openFocus",d),t.$$.dirty&512&&v("closeFocus",p),t.$$.dirty&1024&&v("onOutsideClick",m)},[o,w,f,r,a,s,u,c,d,p,m,l,i]}class b_ extends _e{constructor(e){super(),he(this,e,g_,__,ue,{preventScroll:3,closeOnEscape:4,closeOnOutsideClick:5,portal:6,open:2,onOpenChange:7,openFocus:8,closeFocus:9,onOutsideClick:10})}}const v_=t=>({builder:t&8}),Gs=t=>({builder:t[3]}),y_=t=>({builder:t&8}),Hs=t=>({builder:t[3]});function w_(t){let e=t[1],n,o,i=t[1]&&jl(t);return{c(){i&&i.c(),n=Ee()},m(l,r){i&&i.m(l,r),T(l,n,r),o=!0},p(l,r){l[1]?e?ue(e,l[1])?(i.d(1),i=jl(l),e=l[1],i.c(),i.m(n.parentNode,n)):i.p(l,r):(i=jl(l),e=l[1],i.c(),i.m(n.parentNode,n)):e&&(i.d(1),i=null,e=l[1])},i(l){o||(A(i,l),o=!0)},o(l){M(i,l),o=!1},d(l){l&&S(n),i&&i.d(l)}}}function k_(t){let e;const n=t[9].default,o=ce(n,t,t[8],Hs);return{c(){o&&o.c()},m(i,l){o&&o.m(i,l),e=!0},p(i,l){o&&o.p&&(!e||l&264)&&me(o,n,i,i[8],e?de(n,i[8],l,y_):pe(i[8]),Hs)},i(i){e||(A(o,i),e=!0)},o(i){M(o,i),e=!1},d(i){o&&o.d(i)}}}function jl(t){let e,n,o,i;const l=t[9].default,r=ce(l,t,t[8],Gs);let a=[t[3],t[5]],s={};for(let u=0;u<a.length;u+=1)s=Z(s,a[u]);return{c(){e=O(t[1]),r&&r.c(),vn(t[1])(e,s)},m(u,f){T(u,e,f),r&&r.m(e,null),t[10](e),n=!0,o||(i=je(t[3].action(e)),o=!0)},p(u,f){r&&r.p&&(!n||f&264)&&me(r,l,u,u[8],n?de(l,u[8],f,v_):pe(u[8]),Gs),vn(u[1])(e,s=ge(a,[f&8&&u[3],f&32&&u[5]]))},i(u){n||(A(r,u),n=!0)},o(u){M(r,u),n=!1},d(u){u&&S(e),r&&r.d(u),t[10](null),o=!1,i()}}}function C_(t){let e,n,o,i;const l=[k_,w_],r=[];function a(s,u){return s[2]?0:1}return e=a(t),n=r[e]=l[e](t),{c(){n.c(),o=Ee()},m(s,u){r[e].m(s,u),T(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?r[e].p(s,u):(Te(),M(r[f],1,1,()=>{r[f]=null}),Ie(),n=r[e],n?n.p(s,u):(n=r[e]=l[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){M(n),i=!1},d(s){s&&S(o),r[e].d(s)}}}function A_(t,e,n){let o;const i=["level","asChild","id","el"];let l=re(e,i),r,{$$slots:a={},$$scope:s}=e,{level:u="h2"}=e,{asChild:f=!1}=e,{id:c=void 0}=e,{el:d=void 0}=e;const{elements:{title:p},ids:m,getAttrs:_}=Un();se(t,p,w=>n(7,r=w));const v=_("title");function C(w){Pe[w?"unshift":"push"](()=>{d=w,n(0,d)})}return t.$$set=w=>{e=Z(Z({},e),Ne(w)),n(5,l=re(e,i)),"level"in w&&n(1,u=w.level),"asChild"in w&&n(2,f=w.asChild),"id"in w&&n(6,c=w.id),"el"in w&&n(0,d=w.el),"$$scope"in w&&n(8,s=w.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&c&&m.title.set(c),t.$$.dirty&128&&n(3,o=r),t.$$.dirty&8&&Object.assign(o,v)},[d,u,f,o,p,l,c,r,s,a,C]}let S_=class extends _e{constructor(e){super(),he(this,e,A_,C_,ue,{level:1,asChild:2,id:6,el:0})}};const T_=t=>({builder:t&4}),Vs=t=>({builder:t[2]}),I_=t=>({builder:t&4}),Ws=t=>({builder:t[2]});function M_(t){let e,n,o,i;const l=t[8].default,r=ce(l,t,t[7],Vs);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=Z(s,a[u]);return{c(){e=O("button"),r&&r.c(),ae(e,s)},m(u,f){T(u,e,f),r&&r.m(e,null),e.autofocus&&e.focus(),t[9](e),n=!0,o||(i=[je(t[2].action(e)),te(e,"m-click",t[4]),te(e,"m-keydown",t[4])],o=!0)},p(u,f){r&&r.p&&(!n||f&132)&&me(r,l,u,u[7],n?de(l,u[7],f,T_):pe(u[7]),Vs),ae(e,s=ge(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(A(r,u),n=!0)},o(u){M(r,u),n=!1},d(u){u&&S(e),r&&r.d(u),t[9](null),o=!1,$e(i)}}}function O_(t){let e;const n=t[8].default,o=ce(n,t,t[7],Ws);return{c(){o&&o.c()},m(i,l){o&&o.m(i,l),e=!0},p(i,l){o&&o.p&&(!e||l&132)&&me(o,n,i,i[7],e?de(n,i[7],l,I_):pe(i[7]),Ws)},i(i){e||(A(o,i),e=!0)},o(i){M(o,i),e=!1},d(i){o&&o.d(i)}}}function P_(t){let e,n,o,i;const l=[O_,M_],r=[];function a(s,u){return s[1]?0:1}return e=a(t),n=r[e]=l[e](t),{c(){n.c(),o=Ee()},m(s,u){r[e].m(s,u),T(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?r[e].p(s,u):(Te(),M(r[f],1,1,()=>{r[f]=null}),Ie(),n=r[e],n?n.p(s,u):(n=r[e]=l[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){M(n),i=!1},d(s){s&&S(o),r[e].d(s)}}}function N_(t,e,n){let o;const i=["asChild","el"];let l=re(e,i),r,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:d}=Un();se(t,c,v=>n(6,r=v));const p=Yn(),m=d("action");function _(v){Pe[v?"unshift":"push"](()=>{f=v,n(0,f)})}return t.$$set=v=>{e=Z(Z({},e),Ne(v)),n(5,l=re(e,i)),"asChild"in v&&n(1,u=v.asChild),"el"in v&&n(0,f=v.el),"$$scope"in v&&n(7,s=v.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=r),t.$$.dirty&4&&Object.assign(o,m)},[f,u,o,c,p,l,r,s,a,_]}let E_=class extends _e{constructor(e){super(),he(this,e,N_,P_,ue,{asChild:1,el:0})}};const R_=t=>({builder:t&4}),Ys=t=>({builder:t[2]}),L_=t=>({builder:t&4}),Us=t=>({builder:t[2]});function D_(t){let e,n,o,i;const l=t[8].default,r=ce(l,t,t[7],Ys);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=Z(s,a[u]);return{c(){e=O("button"),r&&r.c(),ae(e,s)},m(u,f){T(u,e,f),r&&r.m(e,null),e.autofocus&&e.focus(),t[9](e),n=!0,o||(i=[je(t[2].action(e)),te(e,"m-click",t[4]),te(e,"m-keydown",t[4])],o=!0)},p(u,f){r&&r.p&&(!n||f&132)&&me(r,l,u,u[7],n?de(l,u[7],f,R_):pe(u[7]),Ys),ae(e,s=ge(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(A(r,u),n=!0)},o(u){M(r,u),n=!1},d(u){u&&S(e),r&&r.d(u),t[9](null),o=!1,$e(i)}}}function $_(t){let e;const n=t[8].default,o=ce(n,t,t[7],Us);return{c(){o&&o.c()},m(i,l){o&&o.m(i,l),e=!0},p(i,l){o&&o.p&&(!e||l&132)&&me(o,n,i,i[7],e?de(n,i[7],l,L_):pe(i[7]),Us)},i(i){e||(A(o,i),e=!0)},o(i){M(o,i),e=!1},d(i){o&&o.d(i)}}}function F_(t){let e,n,o,i;const l=[$_,D_],r=[];function a(s,u){return s[1]?0:1}return e=a(t),n=r[e]=l[e](t),{c(){n.c(),o=Ee()},m(s,u){r[e].m(s,u),T(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?r[e].p(s,u):(Te(),M(r[f],1,1,()=>{r[f]=null}),Ie(),n=r[e],n?n.p(s,u):(n=r[e]=l[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){M(n),i=!1},d(s){s&&S(o),r[e].d(s)}}}function j_(t,e,n){let o;const i=["asChild","el"];let l=re(e,i),r,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:d}=Un();se(t,c,v=>n(6,r=v));const p=Yn(),m=d("cancel");function _(v){Pe[v?"unshift":"push"](()=>{f=v,n(0,f)})}return t.$$set=v=>{e=Z(Z({},e),Ne(v)),n(5,l=re(e,i)),"asChild"in v&&n(1,u=v.asChild),"el"in v&&n(0,f=v.el),"$$scope"in v&&n(7,s=v.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=r),t.$$.dirty&4&&Object.assign(o,m)},[f,u,o,c,p,l,r,s,a,_]}let B_=class extends _e{constructor(e){super(),he(this,e,j_,F_,ue,{asChild:1,el:0})}};const q_=t=>({builder:t&4}),Ks=t=>({builder:t[2]}),G_=t=>({builder:t&4}),Xs=t=>({builder:t[2]});function H_(t){let e,n,o,i;const l=t[7].default,r=ce(l,t,t[6],Ks);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=Z(s,a[u]);return{c(){e=O("div"),r&&r.c(),ae(e,s)},m(u,f){T(u,e,f),r&&r.m(e,null),t[8](e),n=!0,o||(i=je(t[2].action(e)),o=!0)},p(u,f){r&&r.p&&(!n||f&68)&&me(r,l,u,u[6],n?de(l,u[6],f,q_):pe(u[6]),Ks),ae(e,s=ge(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(A(r,u),n=!0)},o(u){M(r,u),n=!1},d(u){u&&S(e),r&&r.d(u),t[8](null),o=!1,i()}}}function V_(t){let e;const n=t[7].default,o=ce(n,t,t[6],Xs);return{c(){o&&o.c()},m(i,l){o&&o.m(i,l),e=!0},p(i,l){o&&o.p&&(!e||l&68)&&me(o,n,i,i[6],e?de(n,i[6],l,G_):pe(i[6]),Xs)},i(i){e||(A(o,i),e=!0)},o(i){M(o,i),e=!1},d(i){o&&o.d(i)}}}function W_(t){let e,n,o,i;const l=[V_,H_],r=[];function a(s,u){return s[1]?0:1}return e=a(t),n=r[e]=l[e](t),{c(){n.c(),o=Ee()},m(s,u){r[e].m(s,u),T(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?r[e].p(s,u):(Te(),M(r[f],1,1,()=>{r[f]=null}),Ie(),n=r[e],n?n.p(s,u):(n=r[e]=l[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){M(n),i=!1},d(s){s&&S(o),r[e].d(s)}}}function Y_(t,e,n){let o;const i=["asChild","el"];let l=re(e,i),r,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{portalled:c},getAttrs:d}=Un();se(t,c,_=>n(5,r=_));const p=d("portal");function m(_){Pe[_?"unshift":"push"](()=>{f=_,n(0,f)})}return t.$$set=_=>{e=Z(Z({},e),Ne(_)),n(4,l=re(e,i)),"asChild"in _&&n(1,u=_.asChild),"el"in _&&n(0,f=_.el),"$$scope"in _&&n(6,s=_.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=r),t.$$.dirty&4&&Object.assign(o,p)},[f,u,o,c,l,r,s,a,m]}let U_=class extends _e{constructor(e){super(),he(this,e,Y_,W_,ue,{asChild:1,el:0})}};const K_=t=>({builder:t[0]&256}),Js=t=>({builder:t[8]}),X_=t=>({builder:t[0]&256}),xs=t=>({builder:t[8]}),J_=t=>({builder:t[0]&256}),Zs=t=>({builder:t[8]}),x_=t=>({builder:t[0]&256}),Qs=t=>({builder:t[8]}),Z_=t=>({builder:t[0]&256}),zs=t=>({builder:t[8]}),Q_=t=>({builder:t[0]&256}),ea=t=>({builder:t[8]});function z_(t){let e,n,o,i;const l=t[16].default,r=ce(l,t,t[15],Js);let a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=Z(s,a[u]);return{c(){e=O("div"),r&&r.c(),ae(e,s)},m(u,f){T(u,e,f),r&&r.m(e,null),t[56](e),n=!0,o||(i=[je(t[8].action(e)),te(e,"pointerdown",t[45]),te(e,"pointermove",t[46]),te(e,"pointerup",t[47]),te(e,"touchend",t[48]),te(e,"touchstart",t[49]),te(e,"touchcancel",t[50]),te(e,"touchmove",t[51])],o=!0)},p(u,f){r&&r.p&&(!n||f[0]&33024)&&me(r,l,u,u[15],n?de(l,u[15],f,K_):pe(u[15]),Js),ae(e,s=ge(a,[f[0]&256&&u[8],f[0]&4096&&u[12]]))},i(u){n||(A(r,u),n=!0)},o(u){M(r,u),n=!1},d(u){u&&S(e),r&&r.d(u),t[56](null),o=!1,$e(i)}}}function e0(t){let e,n,o,i,l;const r=t[16].default,a=ce(r,t,t[15],xs);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Z(u,s[f]);return{c(){e=O("div"),a&&a.c(),ae(e,u)},m(f,c){T(f,e,c),a&&a.m(e,null),t[55](e),o=!0,i||(l=[je(t[8].action(e)),te(e,"pointerdown",t[38]),te(e,"pointermove",t[39]),te(e,"pointerup",t[40]),te(e,"touchend",t[41]),te(e,"touchstart",t[42]),te(e,"touchcancel",t[43]),te(e,"touchmove",t[44])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&me(a,r,t,t[15],o?de(r,t[15],c,X_):pe(t[15]),xs),ae(e,u=ge(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(A(a,f),n&&n.end(1),o=!0)},o(f){M(a,f),f&&(n=Zt(e,t[5],t[6])),o=!1},d(f){f&&S(e),a&&a.d(f),t[55](null),f&&n&&n.end(),i=!1,$e(l)}}}function t0(t){let e,n,o,i,l;const r=t[16].default,a=ce(r,t,t[15],Zs);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Z(u,s[f]);return{c(){e=O("div"),a&&a.c(),ae(e,u)},m(f,c){T(f,e,c),a&&a.m(e,null),t[54](e),o=!0,i||(l=[je(t[8].action(e)),te(e,"pointerdown",t[31]),te(e,"pointermove",t[32]),te(e,"pointerup",t[33]),te(e,"touchend",t[34]),te(e,"touchstart",t[35]),te(e,"touchcancel",t[36]),te(e,"touchmove",t[37])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&me(a,r,t,t[15],o?de(r,t[15],c,J_):pe(t[15]),Zs),ae(e,u=ge(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(A(a,f),f&&(n||st(()=>{n=xt(e,t[3],t[4]),n.start()})),o=!0)},o(f){M(a,f),o=!1},d(f){f&&S(e),a&&a.d(f),t[54](null),i=!1,$e(l)}}}function n0(t){let e,n,o,i,l,r;const a=t[16].default,s=ce(a,t,t[15],Qs);let u=[t[8],t[12]],f={};for(let c=0;c<u.length;c+=1)f=Z(f,u[c]);return{c(){e=O("div"),s&&s.c(),ae(e,f)},m(c,d){T(c,e,d),s&&s.m(e,null),t[53](e),i=!0,l||(r=[je(t[8].action(e)),te(e,"pointerdown",t[24]),te(e,"pointermove",t[25]),te(e,"pointerup",t[26]),te(e,"touchend",t[27]),te(e,"touchstart",t[28]),te(e,"touchcancel",t[29]),te(e,"touchmove",t[30])],l=!0)},p(c,d){t=c,s&&s.p&&(!i||d[0]&33024)&&me(s,a,t,t[15],i?de(a,t[15],d,x_):pe(t[15]),Qs),ae(e,f=ge(u,[d[0]&256&&t[8],d[0]&4096&&t[12]]))},i(c){i||(A(s,c),c&&st(()=>{i&&(o&&o.end(1),n=xt(e,t[3],t[4]),n.start())}),i=!0)},o(c){M(s,c),n&&n.invalidate(),c&&(o=Zt(e,t[5],t[6])),i=!1},d(c){c&&S(e),s&&s.d(c),t[53](null),c&&o&&o.end(),l=!1,$e(r)}}}function o0(t){let e,n,o,i,l;const r=t[16].default,a=ce(r,t,t[15],zs);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Z(u,s[f]);return{c(){e=O("div"),a&&a.c(),ae(e,u)},m(f,c){T(f,e,c),a&&a.m(e,null),t[52](e),o=!0,i||(l=[je(t[8].action(e)),te(e,"pointerdown",t[17]),te(e,"pointermove",t[18]),te(e,"pointerup",t[19]),te(e,"touchend",t[20]),te(e,"touchstart",t[21]),te(e,"touchcancel",t[22]),te(e,"touchmove",t[23])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&me(a,r,t,t[15],o?de(r,t[15],c,Z_):pe(t[15]),zs),ae(e,u=ge(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(A(a,f),f&&st(()=>{o&&(n||(n=Kt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(f){M(a,f),f&&(n||(n=Kt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(f){f&&S(e),a&&a.d(f),t[52](null),f&&n&&n.end(),i=!1,$e(l)}}}function i0(t){let e;const n=t[16].default,o=ce(n,t,t[15],ea);return{c(){o&&o.c()},m(i,l){o&&o.m(i,l),e=!0},p(i,l){o&&o.p&&(!e||l[0]&33024)&&me(o,n,i,i[15],e?de(n,i[15],l,Q_):pe(i[15]),ea)},i(i){e||(A(o,i),e=!0)},o(i){M(o,i),e=!1},d(i){o&&o.d(i)}}}function l0(t){let e,n,o,i;const l=[i0,o0,n0,t0,e0,z_],r=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=r[e]=l[e](t)),{c(){n&&n.c(),o=Ee()},m(s,u){~e&&r[e].m(s,u),T(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?~e&&r[e].p(s,u):(n&&(Te(),M(r[f],1,1,()=>{r[f]=null}),Ie()),~e?(n=r[e],n?n.p(s,u):(n=r[e]=l[e](s),n.c()),A(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(A(n),i=!0)},o(s){M(n),i=!1},d(s){s&&S(o),~e&&r[e].d(s)}}}function r0(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","id","asChild","el"];let l=re(e,i),r,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:p=void 0}=e,{outTransition:m=void 0}=e,{outTransitionConfig:_=void 0}=e,{id:v=void 0}=e,{asChild:C=!1}=e,{el:w=void 0}=e;const{elements:{content:k},states:{open:R},ids:$,getAttrs:D}=Un();se(t,k,V=>n(14,r=V)),se(t,R,V=>n(9,a=V));const E=D("content");function q(V){ie.call(this,t,V)}function L(V){ie.call(this,t,V)}function H(V){ie.call(this,t,V)}function y(V){ie.call(this,t,V)}function g(V){ie.call(this,t,V)}function I(V){ie.call(this,t,V)}function N(V){ie.call(this,t,V)}function B(V){ie.call(this,t,V)}function F(V){ie.call(this,t,V)}function J(V){ie.call(this,t,V)}function z(V){ie.call(this,t,V)}function Q(V){ie.call(this,t,V)}function h(V){ie.call(this,t,V)}function W(V){ie.call(this,t,V)}function Y(V){ie.call(this,t,V)}function ne(V){ie.call(this,t,V)}function ee(V){ie.call(this,t,V)}function x(V){ie.call(this,t,V)}function we(V){ie.call(this,t,V)}function Ae(V){ie.call(this,t,V)}function Re(V){ie.call(this,t,V)}function Ze(V){ie.call(this,t,V)}function Le(V){ie.call(this,t,V)}function Qe(V){ie.call(this,t,V)}function ve(V){ie.call(this,t,V)}function He(V){ie.call(this,t,V)}function Ve(V){ie.call(this,t,V)}function We(V){ie.call(this,t,V)}function Je(V){ie.call(this,t,V)}function Ke(V){ie.call(this,t,V)}function Me(V){ie.call(this,t,V)}function Xe(V){ie.call(this,t,V)}function ke(V){ie.call(this,t,V)}function De(V){ie.call(this,t,V)}function Dt(V){ie.call(this,t,V)}function Pt(V){Pe[V?"unshift":"push"](()=>{w=V,n(0,w)})}function _t(V){Pe[V?"unshift":"push"](()=>{w=V,n(0,w)})}function ze(V){Pe[V?"unshift":"push"](()=>{w=V,n(0,w)})}function fe(V){Pe[V?"unshift":"push"](()=>{w=V,n(0,w)})}function xe(V){Pe[V?"unshift":"push"](()=>{w=V,n(0,w)})}return t.$$set=V=>{e=Z(Z({},e),Ne(V)),n(12,l=re(e,i)),"transition"in V&&n(1,f=V.transition),"transitionConfig"in V&&n(2,c=V.transitionConfig),"inTransition"in V&&n(3,d=V.inTransition),"inTransitionConfig"in V&&n(4,p=V.inTransitionConfig),"outTransition"in V&&n(5,m=V.outTransition),"outTransitionConfig"in V&&n(6,_=V.outTransitionConfig),"id"in V&&n(13,v=V.id),"asChild"in V&&n(7,C=V.asChild),"el"in V&&n(0,w=V.el),"$$scope"in V&&n(15,u=V.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&8192&&v&&$.content.set(v),t.$$.dirty[0]&16384&&n(8,o=r),t.$$.dirty[0]&256&&Object.assign(o,E)},[w,f,c,d,p,m,_,C,o,a,k,R,l,v,r,u,s,q,L,H,y,g,I,N,B,F,J,z,Q,h,W,Y,ne,ee,x,we,Ae,Re,Ze,Le,Qe,ve,He,Ve,We,Je,Ke,Me,Xe,ke,De,Dt,Pt,_t,ze,fe,xe]}let s0=class extends _e{constructor(e){super(),he(this,e,r0,l0,ue,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,id:13,asChild:7,el:0},null,[-1,-1])}};const a0=t=>({builder:t&256}),ta=t=>({builder:t[8]});function u0(t){let e,n,o,i=[t[8],t[12]],l={};for(let r=0;r<i.length;r+=1)l=Z(l,i[r]);return{c(){e=O("div"),ae(e,l)},m(r,a){T(r,e,a),t[20](e),n||(o=je(t[8].action(e)),n=!0)},p(r,a){ae(e,l=ge(i,[a&256&&r[8],a&4096&&r[12]]))},i:ye,o:ye,d(r){r&&S(e),t[20](null),n=!1,o()}}}function f0(t){let e,n,o,i,l,r=[t[8],t[12]],a={};for(let s=0;s<r.length;s+=1)a=Z(a,r[s]);return{c(){e=O("div"),ae(e,a)},m(s,u){T(s,e,u),t[19](e),o=!0,i||(l=je(t[8].action(e)),i=!0)},p(s,u){t=s,ae(e,a=ge(r,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(n&&n.end(1),o=!0)},o(s){s&&(n=Zt(e,t[5],t[6])),o=!1},d(s){s&&S(e),t[19](null),s&&n&&n.end(),i=!1,l()}}}function c0(t){let e,n,o,i,l=[t[8],t[12]],r={};for(let a=0;a<l.length;a+=1)r=Z(r,l[a]);return{c(){e=O("div"),ae(e,r)},m(a,s){T(a,e,s),t[18](e),o||(i=je(t[8].action(e)),o=!0)},p(a,s){t=a,ae(e,r=ge(l,[s&256&&t[8],s&4096&&t[12]]))},i(a){a&&(n||st(()=>{n=xt(e,t[3],t[4]),n.start()}))},o:ye,d(a){a&&S(e),t[18](null),o=!1,i()}}}function d0(t){let e,n,o,i,l,r,a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=Z(s,a[u]);return{c(){e=O("div"),ae(e,s)},m(u,f){T(u,e,f),t[17](e),i=!0,l||(r=je(t[8].action(e)),l=!0)},p(u,f){t=u,ae(e,s=ge(a,[f&256&&t[8],f&4096&&t[12]]))},i(u){i||(u&&st(()=>{i&&(o&&o.end(1),n=xt(e,t[3],t[4]),n.start())}),i=!0)},o(u){n&&n.invalidate(),u&&(o=Zt(e,t[5],t[6])),i=!1},d(u){u&&S(e),t[17](null),u&&o&&o.end(),l=!1,r()}}}function m0(t){let e,n,o,i,l,r=[t[8],t[12]],a={};for(let s=0;s<r.length;s+=1)a=Z(a,r[s]);return{c(){e=O("div"),ae(e,a)},m(s,u){T(s,e,u),t[16](e),o=!0,i||(l=je(t[8].action(e)),i=!0)},p(s,u){t=s,ae(e,a=ge(r,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(s&&st(()=>{o&&(n||(n=Kt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(s){s&&(n||(n=Kt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(s){s&&S(e),t[16](null),s&&n&&n.end(),i=!1,l()}}}function p0(t){let e;const n=t[15].default,o=ce(n,t,t[14],ta);return{c(){o&&o.c()},m(i,l){o&&o.m(i,l),e=!0},p(i,l){o&&o.p&&(!e||l&16640)&&me(o,n,i,i[14],e?de(n,i[14],l,a0):pe(i[14]),ta)},i(i){e||(A(o,i),e=!0)},o(i){M(o,i),e=!1},d(i){o&&o.d(i)}}}function h0(t){let e,n,o,i;const l=[p0,m0,d0,c0,f0,u0],r=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=r[e]=l[e](t)),{c(){n&&n.c(),o=Ee()},m(s,u){~e&&r[e].m(s,u),T(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?~e&&r[e].p(s,u):(n&&(Te(),M(r[f],1,1,()=>{r[f]=null}),Ie()),~e?(n=r[e],n?n.p(s,u):(n=r[e]=l[e](s),n.c()),A(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(A(n),i=!0)},o(s){M(n),i=!1},d(s){s&&S(o),~e&&r[e].d(s)}}}function _0(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","el"];let l=re(e,i),r,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:p=void 0}=e,{outTransition:m=void 0}=e,{outTransitionConfig:_=void 0}=e,{asChild:v=!1}=e,{el:C=void 0}=e;const{elements:{overlay:w},states:{open:k},getAttrs:R}=Un();se(t,w,y=>n(13,r=y)),se(t,k,y=>n(9,a=y));const $=R("overlay");function D(y){Pe[y?"unshift":"push"](()=>{C=y,n(0,C)})}function E(y){Pe[y?"unshift":"push"](()=>{C=y,n(0,C)})}function q(y){Pe[y?"unshift":"push"](()=>{C=y,n(0,C)})}function L(y){Pe[y?"unshift":"push"](()=>{C=y,n(0,C)})}function H(y){Pe[y?"unshift":"push"](()=>{C=y,n(0,C)})}return t.$$set=y=>{e=Z(Z({},e),Ne(y)),n(12,l=re(e,i)),"transition"in y&&n(1,f=y.transition),"transitionConfig"in y&&n(2,c=y.transitionConfig),"inTransition"in y&&n(3,d=y.inTransition),"inTransitionConfig"in y&&n(4,p=y.inTransitionConfig),"outTransition"in y&&n(5,m=y.outTransition),"outTransitionConfig"in y&&n(6,_=y.outTransitionConfig),"asChild"in y&&n(7,v=y.asChild),"el"in y&&n(0,C=y.el),"$$scope"in y&&n(14,u=y.$$scope)},t.$$.update=()=>{t.$$.dirty&8192&&n(8,o=r),t.$$.dirty&256&&Object.assign(o,$)},[C,f,c,d,p,m,_,v,o,a,w,k,l,r,u,s,D,E,q,L,H]}let g0=class extends _e{constructor(e){super(),he(this,e,_0,h0,ue,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,el:0})}};const b0=t=>({builder:t&4}),na=t=>({builder:t[2]}),v0=t=>({builder:t&4}),oa=t=>({builder:t[2]});function y0(t){let e,n,o,i;const l=t[8].default,r=ce(l,t,t[7],na);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=Z(s,a[u]);return{c(){e=O("div"),r&&r.c(),ae(e,s)},m(u,f){T(u,e,f),r&&r.m(e,null),t[9](e),n=!0,o||(i=je(t[2].action(e)),o=!0)},p(u,f){r&&r.p&&(!n||f&132)&&me(r,l,u,u[7],n?de(l,u[7],f,b0):pe(u[7]),na),ae(e,s=ge(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(A(r,u),n=!0)},o(u){M(r,u),n=!1},d(u){u&&S(e),r&&r.d(u),t[9](null),o=!1,i()}}}function w0(t){let e;const n=t[8].default,o=ce(n,t,t[7],oa);return{c(){o&&o.c()},m(i,l){o&&o.m(i,l),e=!0},p(i,l){o&&o.p&&(!e||l&132)&&me(o,n,i,i[7],e?de(n,i[7],l,v0):pe(i[7]),oa)},i(i){e||(A(o,i),e=!0)},o(i){M(o,i),e=!1},d(i){o&&o.d(i)}}}function k0(t){let e,n,o,i;const l=[w0,y0],r=[];function a(s,u){return s[1]?0:1}return e=a(t),n=r[e]=l[e](t),{c(){n.c(),o=Ee()},m(s,u){r[e].m(s,u),T(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?r[e].p(s,u):(Te(),M(r[f],1,1,()=>{r[f]=null}),Ie(),n=r[e],n?n.p(s,u):(n=r[e]=l[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){M(n),i=!1},d(s){s&&S(o),r[e].d(s)}}}function C0(t,e,n){let o;const i=["asChild","id","el"];let l=re(e,i),r,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{description:d},ids:p,getAttrs:m}=Un();se(t,d,C=>n(6,r=C));const _=m("description");function v(C){Pe[C?"unshift":"push"](()=>{c=C,n(0,c)})}return t.$$set=C=>{e=Z(Z({},e),Ne(C)),n(4,l=re(e,i)),"asChild"in C&&n(1,u=C.asChild),"id"in C&&n(5,f=C.id),"el"in C&&n(0,c=C.el),"$$scope"in C&&n(7,s=C.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f&&p.description.set(f),t.$$.dirty&64&&n(2,o=r),t.$$.dirty&4&&Object.assign(o,_)},[c,u,o,d,l,f,r,s,a,v]}let A0=class extends _e{constructor(e){super(),he(this,e,C0,k0,ue,{asChild:1,id:5,el:0})}};function S0(t,e){const n=[];return e.builders.forEach(o=>{const i=o.action(t);i&&n.push(i)}),{destroy:()=>{n.forEach(o=>{o.destroy&&o.destroy()})}}}function ia(t){const e={};return t.forEach(n=>{Object.keys(n).forEach(o=>{o!=="action"&&(e[o]=n[o])})}),e}function T0(t){let e=t[1]?"a":"button",n,o,i=(t[1]?"a":"button")&&Bl(t);return{c(){i&&i.c(),n=Ee()},m(l,r){i&&i.m(l,r),T(l,n,r),o=!0},p(l,r){l[1],e?ue(e,l[1]?"a":"button")?(i.d(1),i=Bl(l),e=l[1]?"a":"button",i.c(),i.m(n.parentNode,n)):i.p(l,r):(i=Bl(l),e=l[1]?"a":"button",i.c(),i.m(n.parentNode,n))},i(l){o||(A(i,l),o=!0)},o(l){M(i,l),o=!1},d(l){l&&S(n),i&&i.d(l)}}}function I0(t){let e=t[1]?"a":"button",n,o,i=(t[1]?"a":"button")&&ql(t);return{c(){i&&i.c(),n=Ee()},m(l,r){i&&i.m(l,r),T(l,n,r),o=!0},p(l,r){l[1],e?ue(e,l[1]?"a":"button")?(i.d(1),i=ql(l),e=l[1]?"a":"button",i.c(),i.m(n.parentNode,n)):i.p(l,r):(i=ql(l),e=l[1]?"a":"button",i.c(),i.m(n.parentNode,n))},i(l){o||(A(i,l),o=!0)},o(l){M(i,l),o=!1},d(l){l&&S(n),i&&i.d(l)}}}function Bl(t){let e,n,o,i,l;const r=t[7].default,a=ce(r,t,t[6],null);let s=[{type:n=t[1]?void 0:t[2]},{href:t[1]},{tabindex:"0"},t[5],t[4]],u={};for(let f=0;f<s.length;f+=1)u=Z(u,s[f]);return{c(){e=O(t[1]?"a":"button"),a&&a.c(),vn(t[1]?"a":"button")(e,u)},m(f,c){T(f,e,c),a&&a.m(e,null),o=!0,i||(l=[te(e,"click",t[14]),te(e,"change",t[15]),te(e,"keydown",t[16]),te(e,"keyup",t[17]),te(e,"mouseenter",t[18]),te(e,"mouseleave",t[19])],i=!0)},p(f,c){a&&a.p&&(!o||c&64)&&me(a,r,f,f[6],o?de(r,f[6],c,null):pe(f[6]),null),vn(f[1]?"a":"button")(e,u=ge(s,[(!o||c&6&&n!==(n=f[1]?void 0:f[2]))&&{type:n},(!o||c&2)&&{href:f[1]},{tabindex:"0"},c&32&&f[5],f[4]]))},i(f){o||(A(a,f),o=!0)},o(f){M(a,f),o=!1},d(f){f&&S(e),a&&a.d(f),i=!1,$e(l)}}}function ql(t){let e,n,o,i,l,r;const a=t[7].default,s=ce(a,t,t[6],null);let u=[{type:n=t[1]?void 0:t[2]},{href:t[1]},{tabindex:"0"},ia(t[3]),t[5],t[4]],f={};for(let c=0;c<u.length;c+=1)f=Z(f,u[c]);return{c(){e=O(t[1]?"a":"button"),s&&s.c(),vn(t[1]?"a":"button")(e,f)},m(c,d){T(c,e,d),s&&s.m(e,null),t[20](e),i=!0,l||(r=[te(e,"click",t[8]),te(e,"change",t[9]),te(e,"keydown",t[10]),te(e,"keyup",t[11]),te(e,"mouseenter",t[12]),te(e,"mouseleave",t[13]),je(o=S0.call(null,e,{builders:t[3]}))],l=!0)},p(c,d){s&&s.p&&(!i||d&64)&&me(s,a,c,c[6],i?de(a,c[6],d,null):pe(c[6]),null),vn(c[1]?"a":"button")(e,f=ge(u,[(!i||d&6&&n!==(n=c[1]?void 0:c[2]))&&{type:n},(!i||d&2)&&{href:c[1]},{tabindex:"0"},d&8&&ia(c[3]),d&32&&c[5],c[4]])),o&&fn(o.update)&&d&8&&o.update.call(null,{builders:c[3]})},i(c){i||(A(s,c),i=!0)},o(c){M(s,c),i=!1},d(c){c&&S(e),s&&s.d(c),t[20](null),l=!1,$e(r)}}}function M0(t){let e,n,o,i;const l=[I0,T0],r=[];function a(s,u){return s[3]&&s[3].length?0:1}return e=a(t),n=r[e]=l[e](t),{c(){n.c(),o=Ee()},m(s,u){r[e].m(s,u),T(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?r[e].p(s,u):(Te(),M(r[f],1,1,()=>{r[f]=null}),Ie(),n=r[e],n?n.p(s,u):(n=r[e]=l[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){M(n),i=!1},d(s){s&&S(o),r[e].d(s)}}}function O0(t,e,n){const o=["href","type","builders","el"];let i=re(e,o),{$$slots:l={},$$scope:r}=e,{href:a=void 0}=e,{type:s=void 0}=e,{builders:u=[]}=e,{el:f=void 0}=e;const c={"data-button-root":""};function d(L){ie.call(this,t,L)}function p(L){ie.call(this,t,L)}function m(L){ie.call(this,t,L)}function _(L){ie.call(this,t,L)}function v(L){ie.call(this,t,L)}function C(L){ie.call(this,t,L)}function w(L){ie.call(this,t,L)}function k(L){ie.call(this,t,L)}function R(L){ie.call(this,t,L)}function $(L){ie.call(this,t,L)}function D(L){ie.call(this,t,L)}function E(L){ie.call(this,t,L)}function q(L){Pe[L?"unshift":"push"](()=>{f=L,n(0,f)})}return t.$$set=L=>{e=Z(Z({},e),Ne(L)),n(5,i=re(e,o)),"href"in L&&n(1,a=L.href),"type"in L&&n(2,s=L.type),"builders"in L&&n(3,u=L.builders),"el"in L&&n(0,f=L.el),"$$scope"in L&&n(6,r=L.$$scope)},[f,a,s,u,c,i,r,l,d,p,m,_,v,C,w,k,R,$,D,E,q]}let P0=class extends _e{constructor(e){super(),he(this,e,O0,M0,ue,{href:1,type:2,builders:3,el:0})}};function N0(t){return(e={})=>E0(t,e)}function E0(t,e){const o={...{side:"bottom",align:"center",sideOffset:0,alignOffset:0,sameWidth:!1,avoidCollisions:!0,collisionPadding:8,fitViewport:!1,strategy:"absolute",overlap:!1},...e};t.update(i=>({...i,placement:R0(o.side,o.align),offset:{...i.offset,mainAxis:o.sideOffset,crossAxis:o.alignOffset},gutter:0,sameWidth:o.sameWidth,flip:o.avoidCollisions,overflowPadding:o.collisionPadding,boundary:o.collisionBoundary,fitViewport:o.fitViewport,strategy:o.strategy,overlap:o.overlap}))}function R0(t,e){return e==="center"?t:`${t}-${e}`}function L0(){return{NAME:"separator",PARTS:["root"]}}function D0(t){const{NAME:e,PARTS:n}=L0(),o=Wn(e,n),i={...a_(So(t)),getAttrs:o};return{...i,updateOption:qn(i.options)}}const $0=t=>({builder:t&4}),la=t=>({builder:t[2]});function F0(t){let e,n,o,i=[t[2],t[4]],l={};for(let r=0;r<i.length;r+=1)l=Z(l,i[r]);return{c(){e=O("div"),ae(e,l)},m(r,a){T(r,e,a),t[10](e),n||(o=je(t[2].action(e)),n=!0)},p(r,a){ae(e,l=ge(i,[a&4&&r[2],a&16&&r[4]]))},i:ye,o:ye,d(r){r&&S(e),t[10](null),n=!1,o()}}}function j0(t){let e;const n=t[9].default,o=ce(n,t,t[8],la);return{c(){o&&o.c()},m(i,l){o&&o.m(i,l),e=!0},p(i,l){o&&o.p&&(!e||l&260)&&me(o,n,i,i[8],e?de(n,i[8],l,$0):pe(i[8]),la)},i(i){e||(A(o,i),e=!0)},o(i){M(o,i),e=!1},d(i){o&&o.d(i)}}}function B0(t){let e,n,o,i;const l=[j0,F0],r=[];function a(s,u){return s[1]?0:1}return e=a(t),n=r[e]=l[e](t),{c(){n.c(),o=Ee()},m(s,u){r[e].m(s,u),T(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?r[e].p(s,u):(Te(),M(r[f],1,1,()=>{r[f]=null}),Ie(),n=r[e],n?n.p(s,u):(n=r[e]=l[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){M(n),i=!1},d(s){s&&S(o),r[e].d(s)}}}function q0(t,e,n){let o;const i=["orientation","decorative","asChild","el"];let l=re(e,i),r,{$$slots:a={},$$scope:s}=e,{orientation:u="horizontal"}=e,{decorative:f=!0}=e,{asChild:c=!1}=e,{el:d=void 0}=e;const{elements:{root:p},updateOption:m,getAttrs:_}=D0({orientation:u,decorative:f});se(t,p,w=>n(7,r=w));const v=_("root");function C(w){Pe[w?"unshift":"push"](()=>{d=w,n(0,d)})}return t.$$set=w=>{e=Z(Z({},e),Ne(w)),n(4,l=re(e,i)),"orientation"in w&&n(5,u=w.orientation),"decorative"in w&&n(6,f=w.decorative),"asChild"in w&&n(1,c=w.asChild),"el"in w&&n(0,d=w.el),"$$scope"in w&&n(8,s=w.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&m("orientation",u),t.$$.dirty&64&&m("decorative",f),t.$$.dirty&128&&n(2,o=r),t.$$.dirty&4&&Object.assign(o,v)},[d,c,o,p,l,u,f,r,s,a,C]}let G0=class extends _e{constructor(e){super(),he(this,e,q0,B0,ue,{orientation:5,decorative:6,asChild:1,el:0})}};function Yc(){return{NAME:"dialog",PARTS:["close","content","description","overlay","portal","title","trigger"]}}function H0(t){const{NAME:e,PARTS:n}=Yc(),o=Wn(e,n),i={...Vc({...So(t),role:"dialog",forceVisible:!0}),getAttrs:o};return cl(e,i),{...i,updateOption:qn(i.options)}}function To(){const{NAME:t}=Yc();return dl(t)}const V0=t=>({ids:t&1}),ra=t=>({ids:t[0]});function W0(t){let e;const n=t[12].default,o=ce(n,t,t[11],ra);return{c(){o&&o.c()},m(i,l){o&&o.m(i,l),e=!0},p(i,[l]){o&&o.p&&(!e||l&2049)&&me(o,n,i,i[11],e?de(n,i[11],l,V0):pe(i[11]),ra)},i(i){e||(A(o,i),e=!0)},o(i){M(o,i),e=!1},d(i){o&&o.d(i)}}}function Y0(t,e,n){let o,{$$slots:i={},$$scope:l}=e,{preventScroll:r=void 0}=e,{closeOnEscape:a=void 0}=e,{closeOnOutsideClick:s=void 0}=e,{portal:u=void 0}=e,{open:f=void 0}=e,{onOpenChange:c=void 0}=e,{openFocus:d=void 0}=e,{closeFocus:p=void 0}=e,{onOutsideClick:m=void 0}=e;const{states:{open:_},updateOption:v,ids:C}=H0({closeOnEscape:a,preventScroll:r,closeOnOutsideClick:s,portal:u,forceVisible:!0,defaultOpen:f,openFocus:d,closeFocus:p,onOutsideClick:m,onOpenChange:({next:k})=>(f!==k&&(c==null||c(k),n(2,f=k)),k)}),w=cn([C.content,C.description,C.title],([k,R,$])=>({content:k,description:R,title:$}));return se(t,w,k=>n(0,o=k)),t.$$set=k=>{"preventScroll"in k&&n(3,r=k.preventScroll),"closeOnEscape"in k&&n(4,a=k.closeOnEscape),"closeOnOutsideClick"in k&&n(5,s=k.closeOnOutsideClick),"portal"in k&&n(6,u=k.portal),"open"in k&&n(2,f=k.open),"onOpenChange"in k&&n(7,c=k.onOpenChange),"openFocus"in k&&n(8,d=k.openFocus),"closeFocus"in k&&n(9,p=k.closeFocus),"onOutsideClick"in k&&n(10,m=k.onOutsideClick),"$$scope"in k&&n(11,l=k.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&f!==void 0&&_.set(f),t.$$.dirty&8&&v("preventScroll",r),t.$$.dirty&16&&v("closeOnEscape",a),t.$$.dirty&32&&v("closeOnOutsideClick",s),t.$$.dirty&64&&v("portal",u),t.$$.dirty&256&&v("openFocus",d),t.$$.dirty&512&&v("closeFocus",p),t.$$.dirty&1024&&v("onOutsideClick",m)},[o,w,f,r,a,s,u,c,d,p,m,l,i]}class U0 extends _e{constructor(e){super(),he(this,e,Y0,W0,ue,{preventScroll:3,closeOnEscape:4,closeOnOutsideClick:5,portal:6,open:2,onOpenChange:7,openFocus:8,closeFocus:9,onOutsideClick:10})}}const K0=t=>({builder:t&8}),sa=t=>({builder:t[3]}),X0=t=>({builder:t&8}),aa=t=>({builder:t[3]});function J0(t){let e=t[1],n,o,i=t[1]&&Gl(t);return{c(){i&&i.c(),n=Ee()},m(l,r){i&&i.m(l,r),T(l,n,r),o=!0},p(l,r){l[1]?e?ue(e,l[1])?(i.d(1),i=Gl(l),e=l[1],i.c(),i.m(n.parentNode,n)):i.p(l,r):(i=Gl(l),e=l[1],i.c(),i.m(n.parentNode,n)):e&&(i.d(1),i=null,e=l[1])},i(l){o||(A(i,l),o=!0)},o(l){M(i,l),o=!1},d(l){l&&S(n),i&&i.d(l)}}}function x0(t){let e;const n=t[9].default,o=ce(n,t,t[8],aa);return{c(){o&&o.c()},m(i,l){o&&o.m(i,l),e=!0},p(i,l){o&&o.p&&(!e||l&264)&&me(o,n,i,i[8],e?de(n,i[8],l,X0):pe(i[8]),aa)},i(i){e||(A(o,i),e=!0)},o(i){M(o,i),e=!1},d(i){o&&o.d(i)}}}function Gl(t){let e,n,o,i;const l=t[9].default,r=ce(l,t,t[8],sa);let a=[t[3],t[5]],s={};for(let u=0;u<a.length;u+=1)s=Z(s,a[u]);return{c(){e=O(t[1]),r&&r.c(),vn(t[1])(e,s)},m(u,f){T(u,e,f),r&&r.m(e,null),t[10](e),n=!0,o||(i=je(t[3].action(e)),o=!0)},p(u,f){r&&r.p&&(!n||f&264)&&me(r,l,u,u[8],n?de(l,u[8],f,K0):pe(u[8]),sa),vn(u[1])(e,s=ge(a,[f&8&&u[3],f&32&&u[5]]))},i(u){n||(A(r,u),n=!0)},o(u){M(r,u),n=!1},d(u){u&&S(e),r&&r.d(u),t[10](null),o=!1,i()}}}function Z0(t){let e,n,o,i;const l=[x0,J0],r=[];function a(s,u){return s[2]?0:1}return e=a(t),n=r[e]=l[e](t),{c(){n.c(),o=Ee()},m(s,u){r[e].m(s,u),T(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?r[e].p(s,u):(Te(),M(r[f],1,1,()=>{r[f]=null}),Ie(),n=r[e],n?n.p(s,u):(n=r[e]=l[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){M(n),i=!1},d(s){s&&S(o),r[e].d(s)}}}function Q0(t,e,n){let o;const i=["level","asChild","id","el"];let l=re(e,i),r,{$$slots:a={},$$scope:s}=e,{level:u="h2"}=e,{asChild:f=!1}=e,{id:c=void 0}=e,{el:d=void 0}=e;const{elements:{title:p},ids:m,getAttrs:_}=To();se(t,p,w=>n(7,r=w));const v=_("title");function C(w){Pe[w?"unshift":"push"](()=>{d=w,n(0,d)})}return t.$$set=w=>{e=Z(Z({},e),Ne(w)),n(5,l=re(e,i)),"level"in w&&n(1,u=w.level),"asChild"in w&&n(2,f=w.asChild),"id"in w&&n(6,c=w.id),"el"in w&&n(0,d=w.el),"$$scope"in w&&n(8,s=w.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&c&&m.title.set(c),t.$$.dirty&128&&n(3,o=r),t.$$.dirty&8&&Object.assign(o,v)},[d,u,f,o,p,l,c,r,s,a,C]}let z0=class extends _e{constructor(e){super(),he(this,e,Q0,Z0,ue,{level:1,asChild:2,id:6,el:0})}};const eg=t=>({builder:t&4}),ua=t=>({builder:t[2]}),tg=t=>({builder:t&4}),fa=t=>({builder:t[2]});function ng(t){let e,n,o,i;const l=t[8].default,r=ce(l,t,t[7],ua);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=Z(s,a[u]);return{c(){e=O("button"),r&&r.c(),ae(e,s)},m(u,f){T(u,e,f),r&&r.m(e,null),e.autofocus&&e.focus(),t[9](e),n=!0,o||(i=[je(t[2].action(e)),te(e,"m-click",t[4]),te(e,"m-keydown",t[4])],o=!0)},p(u,f){r&&r.p&&(!n||f&132)&&me(r,l,u,u[7],n?de(l,u[7],f,eg):pe(u[7]),ua),ae(e,s=ge(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(A(r,u),n=!0)},o(u){M(r,u),n=!1},d(u){u&&S(e),r&&r.d(u),t[9](null),o=!1,$e(i)}}}function og(t){let e;const n=t[8].default,o=ce(n,t,t[7],fa);return{c(){o&&o.c()},m(i,l){o&&o.m(i,l),e=!0},p(i,l){o&&o.p&&(!e||l&132)&&me(o,n,i,i[7],e?de(n,i[7],l,tg):pe(i[7]),fa)},i(i){e||(A(o,i),e=!0)},o(i){M(o,i),e=!1},d(i){o&&o.d(i)}}}function ig(t){let e,n,o,i;const l=[og,ng],r=[];function a(s,u){return s[1]?0:1}return e=a(t),n=r[e]=l[e](t),{c(){n.c(),o=Ee()},m(s,u){r[e].m(s,u),T(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?r[e].p(s,u):(Te(),M(r[f],1,1,()=>{r[f]=null}),Ie(),n=r[e],n?n.p(s,u):(n=r[e]=l[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){M(n),i=!1},d(s){s&&S(o),r[e].d(s)}}}function lg(t,e,n){let o;const i=["asChild","el"];let l=re(e,i),r,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:d}=To();se(t,c,v=>n(6,r=v));const p=Yn(),m=d("close");function _(v){Pe[v?"unshift":"push"](()=>{f=v,n(0,f)})}return t.$$set=v=>{e=Z(Z({},e),Ne(v)),n(5,l=re(e,i)),"asChild"in v&&n(1,u=v.asChild),"el"in v&&n(0,f=v.el),"$$scope"in v&&n(7,s=v.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=r),t.$$.dirty&4&&Object.assign(o,m)},[f,u,o,c,p,l,r,s,a,_]}class rg extends _e{constructor(e){super(),he(this,e,lg,ig,ue,{asChild:1,el:0})}}const sg=t=>({builder:t&4}),ca=t=>({builder:t[2]}),ag=t=>({builder:t&4}),da=t=>({builder:t[2]});function ug(t){let e,n,o,i;const l=t[7].default,r=ce(l,t,t[6],ca);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=Z(s,a[u]);return{c(){e=O("div"),r&&r.c(),ae(e,s)},m(u,f){T(u,e,f),r&&r.m(e,null),t[8](e),n=!0,o||(i=je(t[2].action(e)),o=!0)},p(u,f){r&&r.p&&(!n||f&68)&&me(r,l,u,u[6],n?de(l,u[6],f,sg):pe(u[6]),ca),ae(e,s=ge(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(A(r,u),n=!0)},o(u){M(r,u),n=!1},d(u){u&&S(e),r&&r.d(u),t[8](null),o=!1,i()}}}function fg(t){let e;const n=t[7].default,o=ce(n,t,t[6],da);return{c(){o&&o.c()},m(i,l){o&&o.m(i,l),e=!0},p(i,l){o&&o.p&&(!e||l&68)&&me(o,n,i,i[6],e?de(n,i[6],l,ag):pe(i[6]),da)},i(i){e||(A(o,i),e=!0)},o(i){M(o,i),e=!1},d(i){o&&o.d(i)}}}function cg(t){let e,n,o,i;const l=[fg,ug],r=[];function a(s,u){return s[1]?0:1}return e=a(t),n=r[e]=l[e](t),{c(){n.c(),o=Ee()},m(s,u){r[e].m(s,u),T(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?r[e].p(s,u):(Te(),M(r[f],1,1,()=>{r[f]=null}),Ie(),n=r[e],n?n.p(s,u):(n=r[e]=l[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){M(n),i=!1},d(s){s&&S(o),r[e].d(s)}}}function dg(t,e,n){let o;const i=["asChild","el"];let l=re(e,i),r,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{portalled:c},getAttrs:d}=To();se(t,c,_=>n(5,r=_));const p=d("portal");function m(_){Pe[_?"unshift":"push"](()=>{f=_,n(0,f)})}return t.$$set=_=>{e=Z(Z({},e),Ne(_)),n(4,l=re(e,i)),"asChild"in _&&n(1,u=_.asChild),"el"in _&&n(0,f=_.el),"$$scope"in _&&n(6,s=_.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=r),t.$$.dirty&4&&Object.assign(o,p)},[f,u,o,c,l,r,s,a,m]}let mg=class extends _e{constructor(e){super(),he(this,e,dg,cg,ue,{asChild:1,el:0})}};const pg=t=>({builder:t[0]&256}),ma=t=>({builder:t[8]}),hg=t=>({builder:t[0]&256}),pa=t=>({builder:t[8]}),_g=t=>({builder:t[0]&256}),ha=t=>({builder:t[8]}),gg=t=>({builder:t[0]&256}),_a=t=>({builder:t[8]}),bg=t=>({builder:t[0]&256}),ga=t=>({builder:t[8]}),vg=t=>({builder:t[0]&256}),ba=t=>({builder:t[8]});function yg(t){let e,n,o,i;const l=t[16].default,r=ce(l,t,t[15],ma);let a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=Z(s,a[u]);return{c(){e=O("div"),r&&r.c(),ae(e,s)},m(u,f){T(u,e,f),r&&r.m(e,null),t[56](e),n=!0,o||(i=[je(t[8].action(e)),te(e,"pointerdown",t[45]),te(e,"pointermove",t[46]),te(e,"pointerup",t[47]),te(e,"touchend",t[48]),te(e,"touchstart",t[49]),te(e,"touchcancel",t[50]),te(e,"touchmove",t[51])],o=!0)},p(u,f){r&&r.p&&(!n||f[0]&33024)&&me(r,l,u,u[15],n?de(l,u[15],f,pg):pe(u[15]),ma),ae(e,s=ge(a,[f[0]&256&&u[8],f[0]&4096&&u[12]]))},i(u){n||(A(r,u),n=!0)},o(u){M(r,u),n=!1},d(u){u&&S(e),r&&r.d(u),t[56](null),o=!1,$e(i)}}}function wg(t){let e,n,o,i,l;const r=t[16].default,a=ce(r,t,t[15],pa);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Z(u,s[f]);return{c(){e=O("div"),a&&a.c(),ae(e,u)},m(f,c){T(f,e,c),a&&a.m(e,null),t[55](e),o=!0,i||(l=[je(t[8].action(e)),te(e,"pointerdown",t[38]),te(e,"pointermove",t[39]),te(e,"pointerup",t[40]),te(e,"touchend",t[41]),te(e,"touchstart",t[42]),te(e,"touchcancel",t[43]),te(e,"touchmove",t[44])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&me(a,r,t,t[15],o?de(r,t[15],c,hg):pe(t[15]),pa),ae(e,u=ge(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(A(a,f),n&&n.end(1),o=!0)},o(f){M(a,f),f&&(n=Zt(e,t[5],t[6])),o=!1},d(f){f&&S(e),a&&a.d(f),t[55](null),f&&n&&n.end(),i=!1,$e(l)}}}function kg(t){let e,n,o,i,l;const r=t[16].default,a=ce(r,t,t[15],ha);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Z(u,s[f]);return{c(){e=O("div"),a&&a.c(),ae(e,u)},m(f,c){T(f,e,c),a&&a.m(e,null),t[54](e),o=!0,i||(l=[je(t[8].action(e)),te(e,"pointerdown",t[31]),te(e,"pointermove",t[32]),te(e,"pointerup",t[33]),te(e,"touchend",t[34]),te(e,"touchstart",t[35]),te(e,"touchcancel",t[36]),te(e,"touchmove",t[37])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&me(a,r,t,t[15],o?de(r,t[15],c,_g):pe(t[15]),ha),ae(e,u=ge(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(A(a,f),f&&(n||st(()=>{n=xt(e,t[3],t[4]),n.start()})),o=!0)},o(f){M(a,f),o=!1},d(f){f&&S(e),a&&a.d(f),t[54](null),i=!1,$e(l)}}}function Cg(t){let e,n,o,i,l,r;const a=t[16].default,s=ce(a,t,t[15],_a);let u=[t[8],t[12]],f={};for(let c=0;c<u.length;c+=1)f=Z(f,u[c]);return{c(){e=O("div"),s&&s.c(),ae(e,f)},m(c,d){T(c,e,d),s&&s.m(e,null),t[53](e),i=!0,l||(r=[je(t[8].action(e)),te(e,"pointerdown",t[24]),te(e,"pointermove",t[25]),te(e,"pointerup",t[26]),te(e,"touchend",t[27]),te(e,"touchstart",t[28]),te(e,"touchcancel",t[29]),te(e,"touchmove",t[30])],l=!0)},p(c,d){t=c,s&&s.p&&(!i||d[0]&33024)&&me(s,a,t,t[15],i?de(a,t[15],d,gg):pe(t[15]),_a),ae(e,f=ge(u,[d[0]&256&&t[8],d[0]&4096&&t[12]]))},i(c){i||(A(s,c),c&&st(()=>{i&&(o&&o.end(1),n=xt(e,t[3],t[4]),n.start())}),i=!0)},o(c){M(s,c),n&&n.invalidate(),c&&(o=Zt(e,t[5],t[6])),i=!1},d(c){c&&S(e),s&&s.d(c),t[53](null),c&&o&&o.end(),l=!1,$e(r)}}}function Ag(t){let e,n,o,i,l;const r=t[16].default,a=ce(r,t,t[15],ga);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Z(u,s[f]);return{c(){e=O("div"),a&&a.c(),ae(e,u)},m(f,c){T(f,e,c),a&&a.m(e,null),t[52](e),o=!0,i||(l=[je(t[8].action(e)),te(e,"pointerdown",t[17]),te(e,"pointermove",t[18]),te(e,"pointerup",t[19]),te(e,"touchend",t[20]),te(e,"touchstart",t[21]),te(e,"touchcancel",t[22]),te(e,"touchmove",t[23])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&me(a,r,t,t[15],o?de(r,t[15],c,bg):pe(t[15]),ga),ae(e,u=ge(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(A(a,f),f&&st(()=>{o&&(n||(n=Kt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(f){M(a,f),f&&(n||(n=Kt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(f){f&&S(e),a&&a.d(f),t[52](null),f&&n&&n.end(),i=!1,$e(l)}}}function Sg(t){let e;const n=t[16].default,o=ce(n,t,t[15],ba);return{c(){o&&o.c()},m(i,l){o&&o.m(i,l),e=!0},p(i,l){o&&o.p&&(!e||l[0]&33024)&&me(o,n,i,i[15],e?de(n,i[15],l,vg):pe(i[15]),ba)},i(i){e||(A(o,i),e=!0)},o(i){M(o,i),e=!1},d(i){o&&o.d(i)}}}function Tg(t){let e,n,o,i;const l=[Sg,Ag,Cg,kg,wg,yg],r=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=r[e]=l[e](t)),{c(){n&&n.c(),o=Ee()},m(s,u){~e&&r[e].m(s,u),T(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?~e&&r[e].p(s,u):(n&&(Te(),M(r[f],1,1,()=>{r[f]=null}),Ie()),~e?(n=r[e],n?n.p(s,u):(n=r[e]=l[e](s),n.c()),A(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(A(n),i=!0)},o(s){M(n),i=!1},d(s){s&&S(o),~e&&r[e].d(s)}}}function Ig(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","id","el"];let l=re(e,i),r,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:p=void 0}=e,{outTransition:m=void 0}=e,{outTransitionConfig:_=void 0}=e,{asChild:v=!1}=e,{id:C=void 0}=e,{el:w=void 0}=e;const{elements:{content:k},states:{open:R},ids:$,getAttrs:D}=To();se(t,k,V=>n(14,r=V)),se(t,R,V=>n(9,a=V));const E=D("content");function q(V){ie.call(this,t,V)}function L(V){ie.call(this,t,V)}function H(V){ie.call(this,t,V)}function y(V){ie.call(this,t,V)}function g(V){ie.call(this,t,V)}function I(V){ie.call(this,t,V)}function N(V){ie.call(this,t,V)}function B(V){ie.call(this,t,V)}function F(V){ie.call(this,t,V)}function J(V){ie.call(this,t,V)}function z(V){ie.call(this,t,V)}function Q(V){ie.call(this,t,V)}function h(V){ie.call(this,t,V)}function W(V){ie.call(this,t,V)}function Y(V){ie.call(this,t,V)}function ne(V){ie.call(this,t,V)}function ee(V){ie.call(this,t,V)}function x(V){ie.call(this,t,V)}function we(V){ie.call(this,t,V)}function Ae(V){ie.call(this,t,V)}function Re(V){ie.call(this,t,V)}function Ze(V){ie.call(this,t,V)}function Le(V){ie.call(this,t,V)}function Qe(V){ie.call(this,t,V)}function ve(V){ie.call(this,t,V)}function He(V){ie.call(this,t,V)}function Ve(V){ie.call(this,t,V)}function We(V){ie.call(this,t,V)}function Je(V){ie.call(this,t,V)}function Ke(V){ie.call(this,t,V)}function Me(V){ie.call(this,t,V)}function Xe(V){ie.call(this,t,V)}function ke(V){ie.call(this,t,V)}function De(V){ie.call(this,t,V)}function Dt(V){ie.call(this,t,V)}function Pt(V){Pe[V?"unshift":"push"](()=>{w=V,n(0,w)})}function _t(V){Pe[V?"unshift":"push"](()=>{w=V,n(0,w)})}function ze(V){Pe[V?"unshift":"push"](()=>{w=V,n(0,w)})}function fe(V){Pe[V?"unshift":"push"](()=>{w=V,n(0,w)})}function xe(V){Pe[V?"unshift":"push"](()=>{w=V,n(0,w)})}return t.$$set=V=>{e=Z(Z({},e),Ne(V)),n(12,l=re(e,i)),"transition"in V&&n(1,f=V.transition),"transitionConfig"in V&&n(2,c=V.transitionConfig),"inTransition"in V&&n(3,d=V.inTransition),"inTransitionConfig"in V&&n(4,p=V.inTransitionConfig),"outTransition"in V&&n(5,m=V.outTransition),"outTransitionConfig"in V&&n(6,_=V.outTransitionConfig),"asChild"in V&&n(7,v=V.asChild),"id"in V&&n(13,C=V.id),"el"in V&&n(0,w=V.el),"$$scope"in V&&n(15,u=V.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&8192&&C&&$.content.set(C),t.$$.dirty[0]&16384&&n(8,o=r),t.$$.dirty[0]&256&&Object.assign(o,E)},[w,f,c,d,p,m,_,v,o,a,k,R,l,C,r,u,s,q,L,H,y,g,I,N,B,F,J,z,Q,h,W,Y,ne,ee,x,we,Ae,Re,Ze,Le,Qe,ve,He,Ve,We,Je,Ke,Me,Xe,ke,De,Dt,Pt,_t,ze,fe,xe]}let Mg=class extends _e{constructor(e){super(),he(this,e,Ig,Tg,ue,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,id:13,el:0},null,[-1,-1])}};const Og=t=>({builder:t&256}),va=t=>({builder:t[8]});function Pg(t){let e,n,o,i=[t[8],t[12]],l={};for(let r=0;r<i.length;r+=1)l=Z(l,i[r]);return{c(){e=O("div"),ae(e,l)},m(r,a){T(r,e,a),t[25](e),n||(o=[je(t[8].action(e)),te(e,"mouseup",t[20])],n=!0)},p(r,a){ae(e,l=ge(i,[a&256&&r[8],a&4096&&r[12]]))},i:ye,o:ye,d(r){r&&S(e),t[25](null),n=!1,$e(o)}}}function Ng(t){let e,n,o,i,l,r=[t[8],t[12]],a={};for(let s=0;s<r.length;s+=1)a=Z(a,r[s]);return{c(){e=O("div"),ae(e,a)},m(s,u){T(s,e,u),t[24](e),o=!0,i||(l=[je(t[8].action(e)),te(e,"mouseup",t[19])],i=!0)},p(s,u){t=s,ae(e,a=ge(r,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(n&&n.end(1),o=!0)},o(s){s&&(n=Zt(e,t[5],t[6])),o=!1},d(s){s&&S(e),t[24](null),s&&n&&n.end(),i=!1,$e(l)}}}function Eg(t){let e,n,o,i,l=[t[8],t[12]],r={};for(let a=0;a<l.length;a+=1)r=Z(r,l[a]);return{c(){e=O("div"),ae(e,r)},m(a,s){T(a,e,s),t[23](e),o||(i=[je(t[8].action(e)),te(e,"mouseup",t[18])],o=!0)},p(a,s){t=a,ae(e,r=ge(l,[s&256&&t[8],s&4096&&t[12]]))},i(a){a&&(n||st(()=>{n=xt(e,t[3],t[4]),n.start()}))},o:ye,d(a){a&&S(e),t[23](null),o=!1,$e(i)}}}function Rg(t){let e,n,o,i,l,r,a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=Z(s,a[u]);return{c(){e=O("div"),ae(e,s)},m(u,f){T(u,e,f),t[22](e),i=!0,l||(r=[je(t[8].action(e)),te(e,"mouseup",t[17])],l=!0)},p(u,f){t=u,ae(e,s=ge(a,[f&256&&t[8],f&4096&&t[12]]))},i(u){i||(u&&st(()=>{i&&(o&&o.end(1),n=xt(e,t[3],t[4]),n.start())}),i=!0)},o(u){n&&n.invalidate(),u&&(o=Zt(e,t[5],t[6])),i=!1},d(u){u&&S(e),t[22](null),u&&o&&o.end(),l=!1,$e(r)}}}function Lg(t){let e,n,o,i,l,r=[t[8],t[12]],a={};for(let s=0;s<r.length;s+=1)a=Z(a,r[s]);return{c(){e=O("div"),ae(e,a)},m(s,u){T(s,e,u),t[21](e),o=!0,i||(l=[te(e,"mouseup",t[16]),je(t[8].action(e))],i=!0)},p(s,u){t=s,ae(e,a=ge(r,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(s&&st(()=>{o&&(n||(n=Kt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(s){s&&(n||(n=Kt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(s){s&&S(e),t[21](null),s&&n&&n.end(),i=!1,$e(l)}}}function Dg(t){let e;const n=t[15].default,o=ce(n,t,t[14],va);return{c(){o&&o.c()},m(i,l){o&&o.m(i,l),e=!0},p(i,l){o&&o.p&&(!e||l&16640)&&me(o,n,i,i[14],e?de(n,i[14],l,Og):pe(i[14]),va)},i(i){e||(A(o,i),e=!0)},o(i){M(o,i),e=!1},d(i){o&&o.d(i)}}}function $g(t){let e,n,o,i;const l=[Dg,Lg,Rg,Eg,Ng,Pg],r=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=r[e]=l[e](t)),{c(){n&&n.c(),o=Ee()},m(s,u){~e&&r[e].m(s,u),T(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?~e&&r[e].p(s,u):(n&&(Te(),M(r[f],1,1,()=>{r[f]=null}),Ie()),~e?(n=r[e],n?n.p(s,u):(n=r[e]=l[e](s),n.c()),A(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(A(n),i=!0)},o(s){M(n),i=!1},d(s){s&&S(o),~e&&r[e].d(s)}}}function Fg(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","el"];let l=re(e,i),r,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:p=void 0}=e,{outTransition:m=void 0}=e,{outTransitionConfig:_=void 0}=e,{asChild:v=!1}=e,{el:C=void 0}=e;const{elements:{overlay:w},states:{open:k},getAttrs:R}=To();se(t,w,F=>n(13,r=F)),se(t,k,F=>n(9,a=F));const $=R("overlay");function D(F){ie.call(this,t,F)}function E(F){ie.call(this,t,F)}function q(F){ie.call(this,t,F)}function L(F){ie.call(this,t,F)}function H(F){ie.call(this,t,F)}function y(F){Pe[F?"unshift":"push"](()=>{C=F,n(0,C)})}function g(F){Pe[F?"unshift":"push"](()=>{C=F,n(0,C)})}function I(F){Pe[F?"unshift":"push"](()=>{C=F,n(0,C)})}function N(F){Pe[F?"unshift":"push"](()=>{C=F,n(0,C)})}function B(F){Pe[F?"unshift":"push"](()=>{C=F,n(0,C)})}return t.$$set=F=>{e=Z(Z({},e),Ne(F)),n(12,l=re(e,i)),"transition"in F&&n(1,f=F.transition),"transitionConfig"in F&&n(2,c=F.transitionConfig),"inTransition"in F&&n(3,d=F.inTransition),"inTransitionConfig"in F&&n(4,p=F.inTransitionConfig),"outTransition"in F&&n(5,m=F.outTransition),"outTransitionConfig"in F&&n(6,_=F.outTransitionConfig),"asChild"in F&&n(7,v=F.asChild),"el"in F&&n(0,C=F.el),"$$scope"in F&&n(14,u=F.$$scope)},t.$$.update=()=>{t.$$.dirty&8192&&n(8,o=r),t.$$.dirty&256&&Object.assign(o,$)},[C,f,c,d,p,m,_,v,o,a,w,k,l,r,u,s,D,E,q,L,H,y,g,I,N,B]}let jg=class extends _e{constructor(e){super(),he(this,e,Fg,$g,ue,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,el:0})}};const Bg=t=>({builder:t&4}),ya=t=>({builder:t[2]}),qg=t=>({builder:t&4}),wa=t=>({builder:t[2]});function Gg(t){let e,n,o,i;const l=t[8].default,r=ce(l,t,t[7],ya);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=Z(s,a[u]);return{c(){e=O("div"),r&&r.c(),ae(e,s)},m(u,f){T(u,e,f),r&&r.m(e,null),t[9](e),n=!0,o||(i=je(t[2].action(e)),o=!0)},p(u,f){r&&r.p&&(!n||f&132)&&me(r,l,u,u[7],n?de(l,u[7],f,Bg):pe(u[7]),ya),ae(e,s=ge(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(A(r,u),n=!0)},o(u){M(r,u),n=!1},d(u){u&&S(e),r&&r.d(u),t[9](null),o=!1,i()}}}function Hg(t){let e;const n=t[8].default,o=ce(n,t,t[7],wa);return{c(){o&&o.c()},m(i,l){o&&o.m(i,l),e=!0},p(i,l){o&&o.p&&(!e||l&132)&&me(o,n,i,i[7],e?de(n,i[7],l,qg):pe(i[7]),wa)},i(i){e||(A(o,i),e=!0)},o(i){M(o,i),e=!1},d(i){o&&o.d(i)}}}function Vg(t){let e,n,o,i;const l=[Hg,Gg],r=[];function a(s,u){return s[1]?0:1}return e=a(t),n=r[e]=l[e](t),{c(){n.c(),o=Ee()},m(s,u){r[e].m(s,u),T(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?r[e].p(s,u):(Te(),M(r[f],1,1,()=>{r[f]=null}),Ie(),n=r[e],n?n.p(s,u):(n=r[e]=l[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){M(n),i=!1},d(s){s&&S(o),r[e].d(s)}}}function Wg(t,e,n){let o;const i=["asChild","id","el"];let l=re(e,i),r,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{description:d},ids:p,getAttrs:m}=To();se(t,d,C=>n(6,r=C));const _=m("description");function v(C){Pe[C?"unshift":"push"](()=>{c=C,n(0,c)})}return t.$$set=C=>{e=Z(Z({},e),Ne(C)),n(4,l=re(e,i)),"asChild"in C&&n(1,u=C.asChild),"id"in C&&n(5,f=C.id),"el"in C&&n(0,c=C.el),"$$scope"in C&&n(7,s=C.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f&&p.description.set(f),t.$$.dirty&64&&n(2,o=r),t.$$.dirty&4&&Object.assign(o,_)},[c,u,o,d,l,f,r,s,a,v]}let Yg=class extends _e{constructor(e){super(),he(this,e,Wg,Vg,ue,{asChild:1,id:5,el:0})}};function Ug(){const t="label",n=Wn(t,["root"]);return{NAME:t,getAttrs:n}}const Kg=t=>({builder:t&4}),ka=t=>({builder:t[2]}),Xg=t=>({builder:t&4}),Ca=t=>({builder:t[2]});function Jg(t){let e,n,o,i;const l=t[8].default,r=ce(l,t,t[7],ka);let a=[t[2],t[5]],s={};for(let u=0;u<a.length;u+=1)s=Z(s,a[u]);return{c(){e=O("label"),r&&r.c(),ae(e,s)},m(u,f){T(u,e,f),r&&r.m(e,null),t[9](e),n=!0,o||(i=[je(t[2].action(e)),te(e,"m-mousedown",t[4])],o=!0)},p(u,f){r&&r.p&&(!n||f&132)&&me(r,l,u,u[7],n?de(l,u[7],f,Kg):pe(u[7]),ka),ae(e,s=ge(a,[f&4&&u[2],f&32&&u[5]]))},i(u){n||(A(r,u),n=!0)},o(u){M(r,u),n=!1},d(u){u&&S(e),r&&r.d(u),t[9](null),o=!1,$e(i)}}}function xg(t){let e;const n=t[8].default,o=ce(n,t,t[7],Ca);return{c(){o&&o.c()},m(i,l){o&&o.m(i,l),e=!0},p(i,l){o&&o.p&&(!e||l&132)&&me(o,n,i,i[7],e?de(n,i[7],l,Xg):pe(i[7]),Ca)},i(i){e||(A(o,i),e=!0)},o(i){M(o,i),e=!1},d(i){o&&o.d(i)}}}function Zg(t){let e,n,o,i;const l=[xg,Jg],r=[];function a(s,u){return s[1]?0:1}return e=a(t),n=r[e]=l[e](t),{c(){n.c(),o=Ee()},m(s,u){r[e].m(s,u),T(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?r[e].p(s,u):(Te(),M(r[f],1,1,()=>{r[f]=null}),Ie(),n=r[e],n?n.p(s,u):(n=r[e]=l[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){M(n),i=!1},d(s){s&&S(o),r[e].d(s)}}}function Qg(t,e,n){let o;const i=["asChild","el"];let l=re(e,i),r,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{root:c}}=t_();se(t,c,v=>n(6,r=v));const d=Yn(),{getAttrs:p}=Ug(),m=p("root");function _(v){Pe[v?"unshift":"push"](()=>{f=v,n(0,f)})}return t.$$set=v=>{e=Z(Z({},e),Ne(v)),n(5,l=re(e,i)),"asChild"in v&&n(1,u=v.asChild),"el"in v&&n(0,f=v.el),"$$scope"in v&&n(7,s=v.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=r),t.$$.dirty&4&&Object.assign(o,m)},[f,u,o,c,d,l,r,s,a,_]}let zg=class extends _e{constructor(e){super(),he(this,e,Qg,Zg,ue,{asChild:1,el:0})}};function e1(){return{NAME:"progress",PARTS:["root"]}}function t1(t){const{NAME:e,PARTS:n}=e1(),o=Wn(e,n),i={...r_(So(t)),getAttrs:o};return{...i,updateOption:qn(i.options)}}const n1=t=>({builder:t&4}),Aa=t=>({builder:t[2]}),o1=t=>({builder:t&4}),Sa=t=>({builder:t[2]});function i1(t){let e,n,o,i;const l=t[10].default,r=ce(l,t,t[9],Aa);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=Z(s,a[u]);return{c(){e=O("div"),r&&r.c(),ae(e,s)},m(u,f){T(u,e,f),r&&r.m(e,null),t[11](e),n=!0,o||(i=je(t[2].action(e)),o=!0)},p(u,f){r&&r.p&&(!n||f&516)&&me(r,l,u,u[9],n?de(l,u[9],f,n1):pe(u[9]),Aa),ae(e,s=ge(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(A(r,u),n=!0)},o(u){M(r,u),n=!1},d(u){u&&S(e),r&&r.d(u),t[11](null),o=!1,i()}}}function l1(t){let e;const n=t[10].default,o=ce(n,t,t[9],Sa);return{c(){o&&o.c()},m(i,l){o&&o.m(i,l),e=!0},p(i,l){o&&o.p&&(!e||l&516)&&me(o,n,i,i[9],e?de(n,i[9],l,o1):pe(i[9]),Sa)},i(i){e||(A(o,i),e=!0)},o(i){M(o,i),e=!1},d(i){o&&o.d(i)}}}function r1(t){let e,n,o,i;const l=[l1,i1],r=[];function a(s,u){return s[1]?0:1}return e=a(t),n=r[e]=l[e](t),{c(){n.c(),o=Ee()},m(s,u){r[e].m(s,u),T(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?r[e].p(s,u):(Te(),M(r[f],1,1,()=>{r[f]=null}),Ie(),n=r[e],n?n.p(s,u):(n=r[e]=l[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){M(n),i=!1},d(s){s&&S(o),r[e].d(s)}}}function s1(t,e,n){let o;const i=["max","value","onValueChange","asChild","el"];let l=re(e,i),r,{$$slots:a={},$$scope:s}=e,{max:u=void 0}=e,{value:f=void 0}=e,{onValueChange:c=void 0}=e,{asChild:d=!1}=e,{el:p=void 0}=e;const{elements:{root:m},states:{value:_},updateOption:v,getAttrs:C}=t1({max:u,defaultValue:f,onValueChange:({next:R})=>(c==null||c(R),n(5,f=R),R)});se(t,m,R=>n(8,r=R));const w=C("root");function k(R){Pe[R?"unshift":"push"](()=>{p=R,n(0,p)})}return t.$$set=R=>{e=Z(Z({},e),Ne(R)),n(4,l=re(e,i)),"max"in R&&n(6,u=R.max),"value"in R&&n(5,f=R.value),"onValueChange"in R&&n(7,c=R.onValueChange),"asChild"in R&&n(1,d=R.asChild),"el"in R&&n(0,p=R.el),"$$scope"in R&&n(9,s=R.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f!==void 0&&_.set(f),t.$$.dirty&64&&v("max",u),t.$$.dirty&256&&n(2,o=r),t.$$.dirty&4&&Object.assign(o,w)},[p,d,o,m,l,f,u,c,r,s,a,k]}let a1=class extends _e{constructor(e){super(),he(this,e,s1,r1,ue,{max:6,value:5,onValueChange:7,asChild:1,el:0})}};function Uc(){return{NAME:"slider",PARTS:["root","input","range","thumb","tick"]}}function u1(t){const{NAME:e,PARTS:n}=Uc(),o=Wn(e,n),i={...f_(So(t)),getAttrs:o};return cl(e,i),{...i,updateOption:qn(i.options)}}function Kc(){const{NAME:t}=Uc();return dl(t)}const f1=t=>({builder:t&4,ticks:t&8,thumbs:t&16}),Ta=t=>({builder:t[2],ticks:t[3],thumbs:t[4]}),c1=t=>({builder:t&4,ticks:t&8,thumbs:t&16}),Ia=t=>({builder:t[2],ticks:t[3],thumbs:t[4]});function d1(t){let e,n,o,i;const l=t[18].default,r=ce(l,t,t[17],Ta);let a=[t[2],t[8]],s={};for(let u=0;u<a.length;u+=1)s=Z(s,a[u]);return{c(){e=O("span"),r&&r.c(),ae(e,s)},m(u,f){T(u,e,f),r&&r.m(e,null),t[19](e),n=!0,o||(i=je(t[2].action(e)),o=!0)},p(u,f){r&&r.p&&(!n||f&131100)&&me(r,l,u,u[17],n?de(l,u[17],f,f1):pe(u[17]),Ta),ae(e,s=ge(a,[f&4&&u[2],f&256&&u[8]]))},i(u){n||(A(r,u),n=!0)},o(u){M(r,u),n=!1},d(u){u&&S(e),r&&r.d(u),t[19](null),o=!1,i()}}}function m1(t){let e;const n=t[18].default,o=ce(n,t,t[17],Ia);return{c(){o&&o.c()},m(i,l){o&&o.m(i,l),e=!0},p(i,l){o&&o.p&&(!e||l&131100)&&me(o,n,i,i[17],e?de(n,i[17],l,c1):pe(i[17]),Ia)},i(i){e||(A(o,i),e=!0)},o(i){M(o,i),e=!1},d(i){o&&o.d(i)}}}function p1(t){let e,n,o,i;const l=[m1,d1],r=[];function a(s,u){return s[1]?0:1}return e=a(t),n=r[e]=l[e](t),{c(){n.c(),o=Ee()},m(s,u){r[e].m(s,u),T(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?r[e].p(s,u):(Te(),M(r[f],1,1,()=>{r[f]=null}),Ie(),n=r[e],n?n.p(s,u):(n=r[e]=l[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){M(n),i=!1},d(s){s&&S(o),r[e].d(s)}}}function h1(t,e,n){let o;const i=["disabled","min","max","step","orientation","value","onValueChange","asChild","el"];let l=re(e,i),r,a,s,{$$slots:u={},$$scope:f}=e,{disabled:c=void 0}=e,{min:d=void 0}=e,{max:p=void 0}=e,{step:m=void 0}=e,{orientation:_=void 0}=e,{value:v=void 0}=e,{onValueChange:C=void 0}=e,{asChild:w=!1}=e,{el:k=void 0}=e;const{elements:{root:R,ticks:$,thumbs:D},states:{value:E},updateOption:q,getAttrs:L}=u1({disabled:c,min:d,max:p,step:m,orientation:_,defaultValue:v,onValueChange:({next:g})=>(v!==g&&(C==null||C(g),n(9,v=g)),g)});se(t,R,g=>n(16,r=g)),se(t,$,g=>n(3,a=g)),se(t,D,g=>n(4,s=g));const H=L("root");function y(g){Pe[g?"unshift":"push"](()=>{k=g,n(0,k)})}return t.$$set=g=>{e=Z(Z({},e),Ne(g)),n(8,l=re(e,i)),"disabled"in g&&n(10,c=g.disabled),"min"in g&&n(11,d=g.min),"max"in g&&n(12,p=g.max),"step"in g&&n(13,m=g.step),"orientation"in g&&n(14,_=g.orientation),"value"in g&&n(9,v=g.value),"onValueChange"in g&&n(15,C=g.onValueChange),"asChild"in g&&n(1,w=g.asChild),"el"in g&&n(0,k=g.el),"$$scope"in g&&n(17,f=g.$$scope)},t.$$.update=()=>{t.$$.dirty&512&&v!==void 0&&E.set(v),t.$$.dirty&1024&&q("disabled",c),t.$$.dirty&2048&&q("min",d),t.$$.dirty&4096&&q("max",p),t.$$.dirty&8192&&q("step",m),t.$$.dirty&16384&&q("orientation",_),t.$$.dirty&65536&&n(2,o=r),t.$$.dirty&4&&Object.assign(o,H)},[k,w,o,a,s,R,$,D,l,v,c,d,p,m,_,C,r,f,u,y]}let _1=class extends _e{constructor(e){super(),he(this,e,h1,p1,ue,{disabled:10,min:11,max:12,step:13,orientation:14,value:9,onValueChange:15,asChild:1,el:0})}};const g1=t=>({builder:t&4}),Ma=t=>({builder:t[2]});function b1(t){let e,n,o,i=[t[2],t[4]],l={};for(let r=0;r<i.length;r+=1)l=Z(l,i[r]);return{c(){e=O("span"),ae(e,l)},m(r,a){T(r,e,a),t[8](e),n||(o=je(t[2].action(e)),n=!0)},p(r,a){ae(e,l=ge(i,[a&4&&r[2],a&16&&r[4]]))},i:ye,o:ye,d(r){r&&S(e),t[8](null),n=!1,o()}}}function v1(t){let e;const n=t[7].default,o=ce(n,t,t[6],Ma);return{c(){o&&o.c()},m(i,l){o&&o.m(i,l),e=!0},p(i,l){o&&o.p&&(!e||l&68)&&me(o,n,i,i[6],e?de(n,i[6],l,g1):pe(i[6]),Ma)},i(i){e||(A(o,i),e=!0)},o(i){M(o,i),e=!1},d(i){o&&o.d(i)}}}function y1(t){let e,n,o,i;const l=[v1,b1],r=[];function a(s,u){return s[1]?0:1}return e=a(t),n=r[e]=l[e](t),{c(){n.c(),o=Ee()},m(s,u){r[e].m(s,u),T(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?r[e].p(s,u):(Te(),M(r[f],1,1,()=>{r[f]=null}),Ie(),n=r[e],n?n.p(s,u):(n=r[e]=l[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){M(n),i=!1},d(s){s&&S(o),r[e].d(s)}}}function w1(t,e,n){let o;const i=["asChild","el"];let l=re(e,i),r,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{range:c},getAttrs:d}=Kc();se(t,c,_=>n(5,r=_));const p=d("range");function m(_){Pe[_?"unshift":"push"](()=>{f=_,n(0,f)})}return t.$$set=_=>{e=Z(Z({},e),Ne(_)),n(4,l=re(e,i)),"asChild"in _&&n(1,u=_.asChild),"el"in _&&n(0,f=_.el),"$$scope"in _&&n(6,s=_.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=r),t.$$.dirty&4&&Object.assign(o,p)},[f,u,o,c,l,r,s,a,m]}class k1 extends _e{constructor(e){super(),he(this,e,w1,y1,ue,{asChild:1,el:0})}}const C1=t=>({builder:t&4}),Oa=t=>({builder:t[2]});function A1(t){let e,n,o,i=[t[2],t[4]],l={};for(let r=0;r<i.length;r+=1)l=Z(l,i[r]);return{c(){e=O("span"),ae(e,l)},m(r,a){T(r,e,a),t[8](e),n||(o=[je(t[2].action(e)),te(e,"m-keydown",t[3])],n=!0)},p(r,a){ae(e,l=ge(i,[a&4&&r[2],a&16&&r[4]]))},i:ye,o:ye,d(r){r&&S(e),t[8](null),n=!1,$e(o)}}}function S1(t){let e;const n=t[7].default,o=ce(n,t,t[6],Oa);return{c(){o&&o.c()},m(i,l){o&&o.m(i,l),e=!0},p(i,l){o&&o.p&&(!e||l&68)&&me(o,n,i,i[6],e?de(n,i[6],l,C1):pe(i[6]),Oa)},i(i){e||(A(o,i),e=!0)},o(i){M(o,i),e=!1},d(i){o&&o.d(i)}}}function T1(t){let e,n,o,i;const l=[S1,A1],r=[];function a(s,u){return s[1]?0:1}return e=a(t),n=r[e]=l[e](t),{c(){n.c(),o=Ee()},m(s,u){r[e].m(s,u),T(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?r[e].p(s,u):(Te(),M(r[f],1,1,()=>{r[f]=null}),Ie(),n=r[e],n?n.p(s,u):(n=r[e]=l[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){M(n),i=!1},d(s){s&&S(o),r[e].d(s)}}}function I1(t,e,n){let o;const i=["asChild","el","thumb"];let l=re(e,i),{$$slots:r={},$$scope:a}=e,{asChild:s=!1}=e,{el:u=void 0}=e,{thumb:f}=e;const{getAttrs:c}=Kc(),d=Yn(),p=c("thumb");function m(_){Pe[_?"unshift":"push"](()=>{u=_,n(0,u)})}return t.$$set=_=>{e=Z(Z({},e),Ne(_)),n(4,l=re(e,i)),"asChild"in _&&n(1,s=_.asChild),"el"in _&&n(0,u=_.el),"thumb"in _&&n(5,f=_.thumb),"$$scope"in _&&n(6,a=_.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=f),t.$$.dirty&4&&Object.assign(o,p)},[u,s,o,d,l,f,a,r,m]}class M1 extends _e{constructor(e){super(),he(this,e,I1,T1,ue,{asChild:1,el:0,thumb:5})}}function Xc(){return{NAME:"tooltip",PARTS:["arrow","content","trigger"]}}function O1(t){const{NAME:e,PARTS:n}=Xc(),o=Wn(e,n),i={...m_({positioning:{placement:"top",gutter:0},openDelay:700,...So(t),forceVisible:!0}),getAttrs:o};return cl(e,i),{...i,updateOption:qn(i.options)}}function Gr(){const{NAME:t}=Xc();return dl(t)}function P1(t){const n={...{side:"top",align:"center",sideOffset:1},...t},{options:{positioning:o}}=Gr();N0(o)({...n})}const N1=t=>({ids:t&1}),Pa=t=>({ids:t[0]});function E1(t){let e;const n=t[12].default,o=ce(n,t,t[11],Pa);return{c(){o&&o.c()},m(i,l){o&&o.m(i,l),e=!0},p(i,[l]){o&&o.p&&(!e||l&2049)&&me(o,n,i,i[11],e?de(n,i[11],l,N1):pe(i[11]),Pa)},i(i){e||(A(o,i),e=!0)},o(i){M(o,i),e=!1},d(i){o&&o.d(i)}}}function R1(t,e,n){let o,{$$slots:i={},$$scope:l}=e,{closeOnEscape:r=void 0}=e,{portal:a=void 0}=e,{closeOnPointerDown:s=void 0}=e,{openDelay:u=void 0}=e,{closeDelay:f=void 0}=e,{open:c=void 0}=e,{onOpenChange:d=void 0}=e,{disableHoverableContent:p=void 0}=e,{group:m=void 0}=e;const{states:{open:_},updateOption:v,ids:C}=O1({closeOnEscape:r,portal:a,closeOnPointerDown:s,openDelay:u,closeDelay:f,forceVisible:!0,defaultOpen:c,disableHoverableContent:p,group:m,onOpenChange:({next:k})=>(c!==k&&(d==null||d(k),n(2,c=k)),k),positioning:{gutter:0,offset:{mainAxis:1}}}),w=cn([C.content,C.trigger],([k,R])=>({content:k,trigger:R}));return se(t,w,k=>n(0,o=k)),t.$$set=k=>{"closeOnEscape"in k&&n(3,r=k.closeOnEscape),"portal"in k&&n(4,a=k.portal),"closeOnPointerDown"in k&&n(5,s=k.closeOnPointerDown),"openDelay"in k&&n(6,u=k.openDelay),"closeDelay"in k&&n(7,f=k.closeDelay),"open"in k&&n(2,c=k.open),"onOpenChange"in k&&n(8,d=k.onOpenChange),"disableHoverableContent"in k&&n(9,p=k.disableHoverableContent),"group"in k&&n(10,m=k.group),"$$scope"in k&&n(11,l=k.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&c!==void 0&&_.set(c),t.$$.dirty&8&&v("closeOnEscape",r),t.$$.dirty&16&&v("portal",a),t.$$.dirty&32&&v("closeOnPointerDown",s),t.$$.dirty&64&&v("openDelay",u),t.$$.dirty&128&&v("closeDelay",f),t.$$.dirty&1024&&v("group",m),t.$$.dirty&512&&v("disableHoverableContent",p)},[o,w,c,r,a,s,u,f,d,p,m,l,i]}class L1 extends _e{constructor(e){super(),he(this,e,R1,E1,ue,{closeOnEscape:3,portal:4,closeOnPointerDown:5,openDelay:6,closeDelay:7,open:2,onOpenChange:8,disableHoverableContent:9,group:10})}}const D1=t=>({builder:t[0]&256}),Na=t=>({builder:t[8]}),$1=t=>({builder:t[0]&256}),Ea=t=>({builder:t[8]}),F1=t=>({builder:t[0]&256}),Ra=t=>({builder:t[8]}),j1=t=>({builder:t[0]&256}),La=t=>({builder:t[8]}),B1=t=>({builder:t[0]&256}),Da=t=>({builder:t[8]}),q1=t=>({builder:t[0]&256}),$a=t=>({builder:t[8]});function G1(t){let e,n,o,i;const l=t[28].default,r=ce(l,t,t[27],Na);let a=[t[8],t[13]],s={};for(let u=0;u<a.length;u+=1)s=Z(s,a[u]);return{c(){e=O("div"),r&&r.c(),ae(e,s)},m(u,f){T(u,e,f),r&&r.m(e,null),t[33](e),n=!0,o||(i=[je(t[8].action(e)),te(e,"m-pointerdown",t[12]),te(e,"m-pointerenter",t[12])],o=!0)},p(u,f){r&&r.p&&(!n||f[0]&134217984)&&me(r,l,u,u[27],n?de(l,u[27],f,D1):pe(u[27]),Na),ae(e,s=ge(a,[f[0]&256&&u[8],f[0]&8192&&u[13]]))},i(u){n||(A(r,u),n=!0)},o(u){M(r,u),n=!1},d(u){u&&S(e),r&&r.d(u),t[33](null),o=!1,$e(i)}}}function H1(t){let e,n,o,i,l;const r=t[28].default,a=ce(r,t,t[27],Ea);let s=[t[8],t[13]],u={};for(let f=0;f<s.length;f+=1)u=Z(u,s[f]);return{c(){e=O("div"),a&&a.c(),ae(e,u)},m(f,c){T(f,e,c),a&&a.m(e,null),t[32](e),o=!0,i||(l=[je(t[8].action(e)),te(e,"m-pointerdown",t[12]),te(e,"m-pointerenter",t[12])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&134217984)&&me(a,r,t,t[27],o?de(r,t[27],c,$1):pe(t[27]),Ea),ae(e,u=ge(s,[c[0]&256&&t[8],c[0]&8192&&t[13]]))},i(f){o||(A(a,f),n&&n.end(1),o=!0)},o(f){M(a,f),f&&(n=Zt(e,t[5],t[6])),o=!1},d(f){f&&S(e),a&&a.d(f),t[32](null),f&&n&&n.end(),i=!1,$e(l)}}}function V1(t){let e,n,o,i,l;const r=t[28].default,a=ce(r,t,t[27],Ra);let s=[t[8],t[13]],u={};for(let f=0;f<s.length;f+=1)u=Z(u,s[f]);return{c(){e=O("div"),a&&a.c(),ae(e,u)},m(f,c){T(f,e,c),a&&a.m(e,null),t[31](e),o=!0,i||(l=[je(t[8].action(e)),te(e,"m-pointerdown",t[12]),te(e,"m-pointerenter",t[12])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&134217984)&&me(a,r,t,t[27],o?de(r,t[27],c,F1):pe(t[27]),Ra),ae(e,u=ge(s,[c[0]&256&&t[8],c[0]&8192&&t[13]]))},i(f){o||(A(a,f),f&&(n||st(()=>{n=xt(e,t[3],t[4]),n.start()})),o=!0)},o(f){M(a,f),o=!1},d(f){f&&S(e),a&&a.d(f),t[31](null),i=!1,$e(l)}}}function W1(t){let e,n,o,i,l,r;const a=t[28].default,s=ce(a,t,t[27],La);let u=[t[8],t[13]],f={};for(let c=0;c<u.length;c+=1)f=Z(f,u[c]);return{c(){e=O("div"),s&&s.c(),ae(e,f)},m(c,d){T(c,e,d),s&&s.m(e,null),t[30](e),i=!0,l||(r=[je(t[8].action(e)),te(e,"m-pointerdown",t[12]),te(e,"m-pointerenter",t[12])],l=!0)},p(c,d){t=c,s&&s.p&&(!i||d[0]&134217984)&&me(s,a,t,t[27],i?de(a,t[27],d,j1):pe(t[27]),La),ae(e,f=ge(u,[d[0]&256&&t[8],d[0]&8192&&t[13]]))},i(c){i||(A(s,c),c&&st(()=>{i&&(o&&o.end(1),n=xt(e,t[3],t[4]),n.start())}),i=!0)},o(c){M(s,c),n&&n.invalidate(),c&&(o=Zt(e,t[5],t[6])),i=!1},d(c){c&&S(e),s&&s.d(c),t[30](null),c&&o&&o.end(),l=!1,$e(r)}}}function Y1(t){let e,n,o,i,l;const r=t[28].default,a=ce(r,t,t[27],Da);let s=[t[8],t[13]],u={};for(let f=0;f<s.length;f+=1)u=Z(u,s[f]);return{c(){e=O("div"),a&&a.c(),ae(e,u)},m(f,c){T(f,e,c),a&&a.m(e,null),t[29](e),o=!0,i||(l=[je(t[8].action(e)),te(e,"m-pointerdown",t[12]),te(e,"m-pointerenter",t[12])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&134217984)&&me(a,r,t,t[27],o?de(r,t[27],c,B1):pe(t[27]),Da),ae(e,u=ge(s,[c[0]&256&&t[8],c[0]&8192&&t[13]]))},i(f){o||(A(a,f),f&&st(()=>{o&&(n||(n=Kt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(f){M(a,f),f&&(n||(n=Kt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(f){f&&S(e),a&&a.d(f),t[29](null),f&&n&&n.end(),i=!1,$e(l)}}}function U1(t){let e;const n=t[28].default,o=ce(n,t,t[27],$a);return{c(){o&&o.c()},m(i,l){o&&o.m(i,l),e=!0},p(i,l){o&&o.p&&(!e||l[0]&134217984)&&me(o,n,i,i[27],e?de(n,i[27],l,q1):pe(i[27]),$a)},i(i){e||(A(o,i),e=!0)},o(i){M(o,i),e=!1},d(i){o&&o.d(i)}}}function K1(t){let e,n,o,i;const l=[U1,Y1,W1,V1,H1,G1],r=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=r[e]=l[e](t)),{c(){n&&n.c(),o=Ee()},m(s,u){~e&&r[e].m(s,u),T(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?~e&&r[e].p(s,u):(n&&(Te(),M(r[f],1,1,()=>{r[f]=null}),Ie()),~e?(n=r[e],n?n.p(s,u):(n=r[e]=l[e](s),n.c()),A(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(A(n),i=!0)},o(s){M(n),i=!1},d(s){s&&S(o),~e&&r[e].d(s)}}}function X1(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","id","side","align","sideOffset","alignOffset","collisionPadding","avoidCollisions","collisionBoundary","sameWidth","fitViewport","strategy","overlap","el"];let l=re(e,i),r,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:p=void 0}=e,{outTransition:m=void 0}=e,{outTransitionConfig:_=void 0}=e,{asChild:v=!1}=e,{id:C=void 0}=e,{side:w="top"}=e,{align:k="center"}=e,{sideOffset:R=0}=e,{alignOffset:$=0}=e,{collisionPadding:D=8}=e,{avoidCollisions:E=!0}=e,{collisionBoundary:q=void 0}=e,{sameWidth:L=!1}=e,{fitViewport:H=!1}=e,{strategy:y="absolute"}=e,{overlap:g=!1}=e,{el:I=void 0}=e;const{elements:{content:N},states:{open:B},ids:F,getAttrs:J}=Gr();se(t,N,x=>n(26,a=x)),se(t,B,x=>n(9,r=x));const z=Yn(),Q=J("content");function h(x){Pe[x?"unshift":"push"](()=>{I=x,n(0,I)})}function W(x){Pe[x?"unshift":"push"](()=>{I=x,n(0,I)})}function Y(x){Pe[x?"unshift":"push"](()=>{I=x,n(0,I)})}function ne(x){Pe[x?"unshift":"push"](()=>{I=x,n(0,I)})}function ee(x){Pe[x?"unshift":"push"](()=>{I=x,n(0,I)})}return t.$$set=x=>{e=Z(Z({},e),Ne(x)),n(13,l=re(e,i)),"transition"in x&&n(1,f=x.transition),"transitionConfig"in x&&n(2,c=x.transitionConfig),"inTransition"in x&&n(3,d=x.inTransition),"inTransitionConfig"in x&&n(4,p=x.inTransitionConfig),"outTransition"in x&&n(5,m=x.outTransition),"outTransitionConfig"in x&&n(6,_=x.outTransitionConfig),"asChild"in x&&n(7,v=x.asChild),"id"in x&&n(14,C=x.id),"side"in x&&n(15,w=x.side),"align"in x&&n(16,k=x.align),"sideOffset"in x&&n(17,R=x.sideOffset),"alignOffset"in x&&n(18,$=x.alignOffset),"collisionPadding"in x&&n(19,D=x.collisionPadding),"avoidCollisions"in x&&n(20,E=x.avoidCollisions),"collisionBoundary"in x&&n(21,q=x.collisionBoundary),"sameWidth"in x&&n(22,L=x.sameWidth),"fitViewport"in x&&n(23,H=x.fitViewport),"strategy"in x&&n(24,y=x.strategy),"overlap"in x&&n(25,g=x.overlap),"el"in x&&n(0,I=x.el),"$$scope"in x&&n(27,u=x.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&16384&&C&&F.content.set(C),t.$$.dirty[0]&67108864&&n(8,o=a),t.$$.dirty[0]&256&&Object.assign(o,Q),t.$$.dirty[0]&67076608&&r&&P1({side:w,align:k,sideOffset:R,alignOffset:$,collisionPadding:D,avoidCollisions:E,collisionBoundary:q,sameWidth:L,fitViewport:H,strategy:y,overlap:g})},[I,f,c,d,p,m,_,v,o,r,N,B,z,l,C,w,k,R,$,D,E,q,L,H,y,g,a,u,s,h,W,Y,ne,ee]}let J1=class extends _e{constructor(e){super(),he(this,e,X1,K1,ue,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,id:14,side:15,align:16,sideOffset:17,alignOffset:18,collisionPadding:19,avoidCollisions:20,collisionBoundary:21,sameWidth:22,fitViewport:23,strategy:24,overlap:25,el:0},null,[-1,-1])}};const x1=t=>({builder:t&4}),Fa=t=>({builder:t[2]}),Z1=t=>({builder:t&4}),ja=t=>({builder:t[2]});function Q1(t){let e,n,o,i;const l=t[9].default,r=ce(l,t,t[8],Fa);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=Z(s,a[u]);return{c(){e=O("button"),r&&r.c(),ae(e,s)},m(u,f){T(u,e,f),r&&r.m(e,null),e.autofocus&&e.focus(),t[10](e),n=!0,o||(i=[je(t[2].action(e)),te(e,"m-blur",t[4]),te(e,"m-focus",t[4]),te(e,"m-keydown",t[4]),te(e,"m-pointerdown",t[4]),te(e,"m-pointerenter",t[4]),te(e,"m-pointerleave",t[4])],o=!0)},p(u,f){r&&r.p&&(!n||f&260)&&me(r,l,u,u[8],n?de(l,u[8],f,x1):pe(u[8]),Fa),ae(e,s=ge(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(A(r,u),n=!0)},o(u){M(r,u),n=!1},d(u){u&&S(e),r&&r.d(u),t[10](null),o=!1,$e(i)}}}function z1(t){let e;const n=t[9].default,o=ce(n,t,t[8],ja);return{c(){o&&o.c()},m(i,l){o&&o.m(i,l),e=!0},p(i,l){o&&o.p&&(!e||l&260)&&me(o,n,i,i[8],e?de(n,i[8],l,Z1):pe(i[8]),ja)},i(i){e||(A(o,i),e=!0)},o(i){M(o,i),e=!1},d(i){o&&o.d(i)}}}function eb(t){let e,n,o,i;const l=[z1,Q1],r=[];function a(s,u){return s[1]?0:1}return e=a(t),n=r[e]=l[e](t),{c(){n.c(),o=Ee()},m(s,u){r[e].m(s,u),T(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?r[e].p(s,u):(Te(),M(r[f],1,1,()=>{r[f]=null}),Ie(),n=r[e],n?n.p(s,u):(n=r[e]=l[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){M(n),i=!1},d(s){s&&S(o),r[e].d(s)}}}function tb(t,e,n){let o;const i=["asChild","id","el"];let l=re(e,i),r,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{trigger:d},ids:p,getAttrs:m}=Gr();se(t,d,w=>n(7,r=w));const _=Yn(),v=m("trigger");function C(w){Pe[w?"unshift":"push"](()=>{c=w,n(0,c)})}return t.$$set=w=>{e=Z(Z({},e),Ne(w)),n(5,l=re(e,i)),"asChild"in w&&n(1,u=w.asChild),"id"in w&&n(6,f=w.id),"el"in w&&n(0,c=w.el),"$$scope"in w&&n(8,s=w.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&f&&p.trigger.set(f),t.$$.dirty&128&&n(2,o=r),t.$$.dirty&4&&Object.assign(o,v)},[c,u,o,d,_,l,f,r,s,a,C]}class nb extends _e{constructor(e){super(),he(this,e,tb,eb,ue,{asChild:1,id:6,el:0})}}function ob(t){let e;const n=t[5].default,o=ce(n,t,t[8],null);return{c(){o&&o.c()},m(i,l){o&&o.m(i,l),e=!0},p(i,l){o&&o.p&&(!e||l&256)&&me(o,n,i,i[8],e?de(n,i[8],l,null):pe(i[8]),null)},i(i){e||(A(o,i),e=!0)},o(i){M(o,i),e=!1},d(i){o&&o.d(i)}}}function ib(t){let e,n;const o=[{builders:t[3]},{class:Fe(bo({variant:t[1],size:t[2],className:t[0]}))},{type:"button"},t[4]];let i={$$slots:{default:[ob]},$$scope:{ctx:t}};for(let l=0;l<o.length;l+=1)i=Z(i,o[l]);return e=new P0({props:i}),e.$on("click",t[6]),e.$on("keydown",t[7]),{c(){X(e.$$.fragment)},m(l,r){U(e,l,r),n=!0},p(l,[r]){const a=r&31?ge(o,[r&8&&{builders:l[3]},r&7&&{class:Fe(bo({variant:l[1],size:l[2],className:l[0]}))},o[2],r&16&&ut(l[4])]):{};r&256&&(a.$$scope={dirty:r,ctx:l}),e.$set(a)},i(l){n||(A(e.$$.fragment,l),n=!0)},o(l){M(e.$$.fragment,l),n=!1},d(l){K(e,l)}}}function lb(t,e,n){const o=["class","variant","size","builders"];let i=re(e,o),{$$slots:l={},$$scope:r}=e,{class:a=void 0}=e,{variant:s="default"}=e,{size:u="default"}=e,{builders:f=[]}=e;function c(p){ie.call(this,t,p)}function d(p){ie.call(this,t,p)}return t.$$set=p=>{e=Z(Z({},e),Ne(p)),n(4,i=re(e,o)),"class"in p&&n(0,a=p.class),"variant"in p&&n(1,s=p.variant),"size"in p&&n(2,u=p.size),"builders"in p&&n(3,f=p.builders),"$$scope"in p&&n(8,r=p.$$scope)},[a,s,u,f,i,l,c,d,r]}class vt extends _e{constructor(e){super(),he(this,e,lb,ib,ue,{class:0,variant:1,size:2,builders:3})}}var Ba=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,St=t=>!t||typeof t!="object"||Object.keys(t).length===0,rb=(t,e)=>JSON.stringify(t)===JSON.stringify(e);function Jc(t,e){t.forEach(function(n){Array.isArray(n)?Jc(n,e):e.push(n)})}function xc(t){let e=[];return Jc(t,e),e}var Zc=(...t)=>xc(t).filter(Boolean),Qc=(t,e)=>{let n={},o=Object.keys(t),i=Object.keys(e);for(let l of o)if(i.includes(l)){let r=t[l],a=e[l];typeof r=="object"&&typeof a=="object"?n[l]=Qc(r,a):Array.isArray(r)||Array.isArray(a)?n[l]=Zc(a,r):n[l]=a+" "+r}else n[l]=t[l];for(let l of i)o.includes(l)||(n[l]=e[l]);return n},qa=t=>!t||typeof t!="string"?t:t.replace(/\s+/g," ").trim(),sb={twMerge:!0,twMergeConfig:{},responsiveVariants:!1},zc=t=>t||void 0,Xo=(...t)=>zc(xc(t).filter(Boolean).join(" ")),Hl=null,on={},ur=!1,Lo=(...t)=>e=>e.twMerge?((!Hl||ur)&&(ur=!1,Hl=St(on)?vc:Qm({...on,extend:{theme:on.theme,classGroups:on.classGroups,conflictingClassGroupModifiers:on.conflictingClassGroupModifiers,conflictingClassGroups:on.conflictingClassGroups,...on.extend}})),zc(Hl(Xo(t)))):Xo(t),Ga=(t,e)=>{for(let n in e)t.hasOwnProperty(n)?t[n]=Xo(t[n],e[n]):t[n]=e[n];return t},ab=(t,e)=>{let{extend:n=null,slots:o={},variants:i={},compoundVariants:l=[],compoundSlots:r=[],defaultVariants:a={}}=t,s={...sb,...e},u=n!=null&&n.base?Xo(n.base,t==null?void 0:t.base):t==null?void 0:t.base,f=n!=null&&n.variants&&!St(n.variants)?Qc(i,n.variants):i,c=n!=null&&n.defaultVariants&&!St(n.defaultVariants)?{...n.defaultVariants,...a}:a;!St(s.twMergeConfig)&&!rb(s.twMergeConfig,on)&&(ur=!0,on=s.twMergeConfig);let d=St(n==null?void 0:n.slots),p=St(o)?{}:{base:Xo(t==null?void 0:t.base,d&&(n==null?void 0:n.base)),...o},m=d?p:Ga({...n==null?void 0:n.slots},St(p)?{base:t==null?void 0:t.base}:p),_=C=>{if(St(f)&&St(o)&&d)return Lo(u,C==null?void 0:C.class,C==null?void 0:C.className)(s);if(l&&!Array.isArray(l))throw new TypeError(`The "compoundVariants" prop must be an array. Received: ${typeof l}`);if(r&&!Array.isArray(r))throw new TypeError(`The "compoundSlots" prop must be an array. Received: ${typeof r}`);let w=(g,I,N=[],B)=>{let F=N;if(typeof I=="string")F=F.concat(qa(I).split(" ").map(J=>`${g}:${J}`));else if(Array.isArray(I))F=F.concat(I.reduce((J,z)=>J.concat(`${g}:${z}`),[]));else if(typeof I=="object"&&typeof B=="string"){for(let J in I)if(I.hasOwnProperty(J)&&J===B){let z=I[J];if(z&&typeof z=="string"){let Q=qa(z);F[B]?F[B]=F[B].concat(Q.split(" ").map(h=>`${g}:${h}`)):F[B]=Q.split(" ").map(h=>`${g}:${h}`)}else Array.isArray(z)&&z.length>0&&(F[B]=z.reduce((Q,h)=>Q.concat(`${g}:${h}`),[]))}}return F},k=(g,I=f,N=null,B=null)=>{var F;let J=I[g];if(!J||St(J))return null;let z=(F=B==null?void 0:B[g])!=null?F:C==null?void 0:C[g];if(z===null)return null;let Q=Ba(z),h=Array.isArray(s.responsiveVariants)&&s.responsiveVariants.length>0||s.responsiveVariants===!0,W=c==null?void 0:c[g],Y=[];if(typeof Q=="object"&&h)for(let[x,we]of Object.entries(Q)){let Ae=J[we];if(x==="initial"){W=we;continue}Array.isArray(s.responsiveVariants)&&!s.responsiveVariants.includes(x)||(Y=w(x,Ae,Y,N))}let ne=Q!=null&&typeof Q!="object"?Q:Ba(W),ee=J[ne]||J.false;return typeof Y=="object"&&typeof N=="string"&&Y[N]?Ga(Y,ee):Y.length>0?(Y.push(ee),Y):ee},R=()=>f?Object.keys(f).map(g=>k(g,f)):null,$=(g,I)=>{if(!f||typeof f!="object")return null;let N=new Array;for(let B in f){let F=k(B,f,g,I),J=g==="base"&&typeof F=="string"?F:F&&F[g];J&&(N[N.length]=J)}return N},D={};for(let g in C)C[g]!==void 0&&(D[g]=C[g]);let E=(g,I)=>{var N;let B=typeof(C==null?void 0:C[g])=="object"?{[g]:(N=C[g])==null?void 0:N.initial}:{};return{...c,...D,...B,...I}},q=(g=[],I)=>{let N=[];for(let{class:B,className:F,...J}of g){let z=!0;for(let[Q,h]of Object.entries(J)){let W=E(Q,I);if(Array.isArray(h)){if(!h.includes(W[Q])){z=!1;break}}else if(W[Q]!==h){z=!1;break}}z&&(B&&N.push(B),F&&N.push(F))}return N},L=g=>{let I=q(l,g),N=q(n==null?void 0:n.compoundVariants,g);return Zc(N,I)},H=g=>{let I=L(g);if(!Array.isArray(I))return I;let N={};for(let B of I)if(typeof B=="string"&&(N.base=Lo(N.base,B)(s)),typeof B=="object")for(let[F,J]of Object.entries(B))N[F]=Lo(N[F],J)(s);return N},y=g=>{if(r.length<1)return null;let I={};for(let{slots:N=[],class:B,className:F,...J}of r){if(!St(J)){let z=!0;for(let Q of Object.keys(J)){let h=E(Q,g)[Q];if(h===void 0||(Array.isArray(J[Q])?!J[Q].includes(h):J[Q]!==h)){z=!1;break}}if(!z)continue}for(let z of N)I[z]=I[z]||[],I[z].push([B,F])}return I};if(!St(o)||!d){let g={};if(typeof m=="object"&&!St(m))for(let I of Object.keys(m))g[I]=N=>{var B,F;return Lo(m[I],$(I,N),((B=H(N))!=null?B:[])[I],((F=y(N))!=null?F:[])[I],N==null?void 0:N.class,N==null?void 0:N.className)(s)};return g}return Lo(u,R(),L(),C==null?void 0:C.class,C==null?void 0:C.className)(s)},v=()=>{if(!(!f||typeof f!="object"))return Object.keys(f)};return _.variantKeys=v(),_.extend=n,_.base=u,_.slots=m,_.variants=f,_.defaultVariants=c,_.compoundSlots=r,_.compoundVariants=l,_};const bo=ab({base:"inline-flex items-center justify-center rounded-md text-sm font-medium whitespace-nowrap transition-colors focus-visible:outline-none disabled:pointer-events-none disabled:opacity-50",variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}});function ub(t){let e;const n=t[2].default,o=ce(n,t,t[3],null);return{c(){o&&o.c()},m(i,l){o&&o.m(i,l),e=!0},p(i,l){o&&o.p&&(!e||l&8)&&me(o,n,i,i[3],e?de(n,i[3],l,null):pe(i[3]),null)},i(i){e||(A(o,i),e=!0)},o(i){M(o,i),e=!1},d(i){o&&o.d(i)}}}function fb(t){let e,n;const o=[{class:Fe("text-lg font-semibold leading-none tracking-tight",t[0])},t[1]];let i={$$slots:{default:[ub]},$$scope:{ctx:t}};for(let l=0;l<o.length;l+=1)i=Z(i,o[l]);return e=new z0({props:i}),{c(){X(e.$$.fragment)},m(l,r){U(e,l,r),n=!0},p(l,[r]){const a=r&3?ge(o,[r&1&&{class:Fe("text-lg font-semibold leading-none tracking-tight",l[0])},r&2&&ut(l[1])]):{};r&8&&(a.$$scope={dirty:r,ctx:l}),e.$set(a)},i(l){n||(A(e.$$.fragment,l),n=!0)},o(l){M(e.$$.fragment,l),n=!1},d(l){K(e,l)}}}function cb(t,e,n){const o=["class"];let i=re(e,o),{$$slots:l={},$$scope:r}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Z(Z({},e),Ne(s)),n(1,i=re(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,r=s.$$scope)},[a,i,l,r]}class Kn extends _e{constructor(e){super(),he(this,e,cb,fb,ue,{class:0})}}function db(t){let e;const n=t[1].default,o=ce(n,t,t[2],null);return{c(){o&&o.c()},m(i,l){o&&o.m(i,l),e=!0},p(i,l){o&&o.p&&(!e||l&4)&&me(o,n,i,i[2],e?de(n,i[2],l,null):pe(i[2]),null)},i(i){e||(A(o,i),e=!0)},o(i){M(o,i),e=!1},d(i){o&&o.d(i)}}}function mb(t){let e,n;const o=[t[0]];let i={$$slots:{default:[db]},$$scope:{ctx:t}};for(let l=0;l<o.length;l+=1)i=Z(i,o[l]);return e=new mg({props:i}),{c(){X(e.$$.fragment)},m(l,r){U(e,l,r),n=!0},p(l,[r]){const a=r&1?ge(o,[ut(l[0])]):{};r&4&&(a.$$scope={dirty:r,ctx:l}),e.$set(a)},i(l){n||(A(e.$$.fragment,l),n=!0)},o(l){M(e.$$.fragment,l),n=!1},d(l){K(e,l)}}}function pb(t,e,n){const o=[];let i=re(e,o),{$$slots:l={},$$scope:r}=e;return t.$$set=a=>{e=Z(Z({},e),Ne(a)),n(0,i=re(e,o)),"$$scope"in a&&n(2,r=a.$$scope)},[i,l,r]}class hb extends _e{constructor(e){super(),he(this,e,pb,mb,ue,{})}}function _b(t){let e,n,o;const i=t[3].default,l=ce(i,t,t[2],null);let r=[{class:n=Fe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t[0])},t[1]],a={};for(let s=0;s<r.length;s+=1)a=Z(a,r[s]);return{c(){e=O("div"),l&&l.c(),ae(e,a)},m(s,u){T(s,e,u),l&&l.m(e,null),o=!0},p(s,[u]){l&&l.p&&(!o||u&4)&&me(l,i,s,s[2],o?de(i,s[2],u,null):pe(s[2]),null),ae(e,a=ge(r,[(!o||u&1&&n!==(n=Fe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(A(l,s),o=!0)},o(s){M(l,s),o=!1},d(s){s&&S(e),l&&l.d(s)}}}function gb(t,e,n){const o=["class"];let i=re(e,o),{$$slots:l={},$$scope:r}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Z(Z({},e),Ne(s)),n(1,i=re(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,r=s.$$scope)},[a,i,r,l]}class Io extends _e{constructor(e){super(),he(this,e,gb,_b,ue,{class:0})}}function bb(t){let e,n,o;const i=t[3].default,l=ce(i,t,t[2],null);let r=[{class:n=Fe("flex flex-col space-y-1.5 text-center sm:text-left",t[0])},t[1]],a={};for(let s=0;s<r.length;s+=1)a=Z(a,r[s]);return{c(){e=O("div"),l&&l.c(),ae(e,a)},m(s,u){T(s,e,u),l&&l.m(e,null),o=!0},p(s,[u]){l&&l.p&&(!o||u&4)&&me(l,i,s,s[2],o?de(i,s[2],u,null):pe(s[2]),null),ae(e,a=ge(r,[(!o||u&1&&n!==(n=Fe("flex flex-col space-y-1.5 text-center sm:text-left",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(A(l,s),o=!0)},o(s){M(l,s),o=!1},d(s){s&&S(e),l&&l.d(s)}}}function vb(t,e,n){const o=["class"];let i=re(e,o),{$$slots:l={},$$scope:r}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Z(Z({},e),Ne(s)),n(1,i=re(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,r=s.$$scope)},[a,i,r,l]}class Xn extends _e{constructor(e){super(),he(this,e,vb,bb,ue,{class:0})}}function ed(t,{delay:e=0,duration:n=400,easing:o=al}={}){const i=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:o,css:l=>`opacity: ${l*i}`}}function yb(t){let e,n;const o=[{transition:t[1]},{transitionConfig:t[2]},{class:Fe("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm",t[0])},t[3]];let i={};for(let l=0;l<o.length;l+=1)i=Z(i,o[l]);return e=new jg({props:i}),{c(){X(e.$$.fragment)},m(l,r){U(e,l,r),n=!0},p(l,[r]){const a=r&15?ge(o,[r&2&&{transition:l[1]},r&4&&{transitionConfig:l[2]},r&1&&{class:Fe("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm",l[0])},r&8&&ut(l[3])]):{};e.$set(a)},i(l){n||(A(e.$$.fragment,l),n=!0)},o(l){M(e.$$.fragment,l),n=!1},d(l){K(e,l)}}}function wb(t,e,n){const o=["class","transition","transitionConfig"];let i=re(e,o),{class:l=void 0}=e,{transition:r=ed}=e,{transitionConfig:a={duration:150}}=e;return t.$$set=s=>{e=Z(Z({},e),Ne(s)),n(3,i=re(e,o)),"class"in s&&n(0,l=s.class),"transition"in s&&n(1,r=s.transition),"transitionConfig"in s&&n(2,a=s.transitionConfig)},[l,r,a,i]}class kb extends _e{constructor(e){super(),he(this,e,wb,yb,ue,{class:0,transition:1,transitionConfig:2})}}/**
 * @license lucide-svelte v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ha={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};function Va(t,e,n){const o=t.slice();return o[11]=e[n][0],o[12]=e[n][1],o}function Vl(t){let e,n=[t[12]],o={};for(let i=0;i<n.length;i+=1)o=Z(o,n[i]);return{c(){e=ul(t[11]),Ri(e,o)},m(i,l){T(i,e,l)},p(i,l){Ri(e,o=ge(n,[l&32&&i[12]]))},d(i){i&&S(e)}}}function Wa(t){let e=t[11],n,o=t[11]&&Vl(t);return{c(){o&&o.c(),n=Ee()},m(i,l){o&&o.m(i,l),T(i,n,l)},p(i,l){i[11]?e?ue(e,i[11])?(o.d(1),o=Vl(i),e=i[11],o.c(),o.m(n.parentNode,n)):o.p(i,l):(o=Vl(i),e=i[11],o.c(),o.m(n.parentNode,n)):e&&(o.d(1),o=null,e=i[11])},d(i){i&&S(n),o&&o.d(i)}}}function Cb(t){let e,n,o,i,l,r=Ge(t[5]),a=[];for(let d=0;d<r.length;d+=1)a[d]=Wa(Va(t,r,d));const s=t[10].default,u=ce(s,t,t[9],null);let f=[Ha,t[7],{width:t[2]},{height:t[2]},{stroke:t[1]},{"stroke-width":o=t[4]?Number(t[3])*24/Number(t[2]):t[3]},{class:i=t[6]("lucide-icon","lucide",t[0]?`lucide-${t[0]}`:"",t[8].class)}],c={};for(let d=0;d<f.length;d+=1)c=Z(c,f[d]);return{c(){e=ul("svg");for(let d=0;d<a.length;d+=1)a[d].c();n=Ee(),u&&u.c(),Ri(e,c)},m(d,p){T(d,e,p);for(let m=0;m<a.length;m+=1)a[m]&&a[m].m(e,null);b(e,n),u&&u.m(e,null),l=!0},p(d,[p]){if(p&32){r=Ge(d[5]);let m;for(m=0;m<r.length;m+=1){const _=Va(d,r,m);a[m]?a[m].p(_,p):(a[m]=Wa(_),a[m].c(),a[m].m(e,n))}for(;m<a.length;m+=1)a[m].d(1);a.length=r.length}u&&u.p&&(!l||p&512)&&me(u,s,d,d[9],l?de(s,d[9],p,null):pe(d[9]),null),Ri(e,c=ge(f,[Ha,p&128&&d[7],(!l||p&4)&&{width:d[2]},(!l||p&4)&&{height:d[2]},(!l||p&2)&&{stroke:d[1]},(!l||p&28&&o!==(o=d[4]?Number(d[3])*24/Number(d[2]):d[3]))&&{"stroke-width":o},(!l||p&257&&i!==(i=d[6]("lucide-icon","lucide",d[0]?`lucide-${d[0]}`:"",d[8].class)))&&{class:i}]))},i(d){l||(A(u,d),l=!0)},o(d){M(u,d),l=!1},d(d){d&&S(e),mt(a,d),u&&u.d(d)}}}function Ab(t,e,n){const o=["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode","mergeClasses"];let i=re(e,o),{$$slots:l={},$$scope:r}=e,{name:a=void 0}=e,{color:s="currentColor"}=e,{size:u=24}=e,{strokeWidth:f=2}=e,{absoluteStrokeWidth:c=!1}=e,{iconNode:d}=e;const p=(...m)=>m.filter((_,v,C)=>!!_&&C.indexOf(_)===v).join(" ");return t.$$set=m=>{n(8,e=Z(Z({},e),Ne(m))),n(7,i=re(e,o)),"name"in m&&n(0,a=m.name),"color"in m&&n(1,s=m.color),"size"in m&&n(2,u=m.size),"strokeWidth"in m&&n(3,f=m.strokeWidth),"absoluteStrokeWidth"in m&&n(4,c=m.absoluteStrokeWidth),"iconNode"in m&&n(5,d=m.iconNode),"$$scope"in m&&n(9,r=m.$$scope)},e=Ne(e),[a,s,u,f,c,d,p,i,e,r,l]}class Sb extends _e{constructor(e){super(),he(this,e,Ab,Cb,ue,{name:0,color:1,size:2,strokeWidth:3,absoluteStrokeWidth:4,iconNode:5,mergeClasses:6})}get mergeClasses(){return this.$$.ctx[6]}}function Tb(t){let e;const n=t[2].default,o=ce(n,t,t[3],null);return{c(){o&&o.c()},m(i,l){o&&o.m(i,l),e=!0},p(i,l){o&&o.p&&(!e||l&8)&&me(o,n,i,i[3],e?de(n,i[3],l,null):pe(i[3]),null)},i(i){e||(A(o,i),e=!0)},o(i){M(o,i),e=!1},d(i){o&&o.d(i)}}}function Ib(t){let e,n;const o=[{name:"x"},t[1],{iconNode:t[0]}];let i={$$slots:{default:[Tb]},$$scope:{ctx:t}};for(let l=0;l<o.length;l+=1)i=Z(i,o[l]);return e=new Sb({props:i}),{c(){X(e.$$.fragment)},m(l,r){U(e,l,r),n=!0},p(l,[r]){const a=r&3?ge(o,[o[0],r&2&&ut(l[1]),r&1&&{iconNode:l[0]}]):{};r&8&&(a.$$scope={dirty:r,ctx:l}),e.$set(a)},i(l){n||(A(e.$$.fragment,l),n=!0)},o(l){M(e.$$.fragment,l),n=!1},d(l){K(e,l)}}}function Mb(t,e,n){let{$$slots:o={},$$scope:i}=e;const l=[["path",{d:"M18 6 6 18"}],["path",{d:"m6 6 12 12"}]];return t.$$set=r=>{n(1,e=Z(Z({},e),Ne(r))),"$$scope"in r&&n(3,i=r.$$scope)},e=Ne(e),[l,e,o,i]}class Ob extends _e{constructor(e){super(),he(this,e,Mb,Ib,ue,{})}}function Pb(t){let e,n,o,i;return e=new Ob({props:{class:"h-4 w-4"}}),{c(){X(e.$$.fragment),n=G(),o=O("span"),o.textContent="Close",P(o,"class","sr-only")},m(l,r){U(e,l,r),T(l,n,r),T(l,o,r),i=!0},p:ye,i(l){i||(A(e.$$.fragment,l),i=!0)},o(l){M(e.$$.fragment,l),i=!1},d(l){l&&(S(n),S(o)),K(e,l)}}}function Nb(t){let e,n,o;const i=t[4].default,l=ce(i,t,t[5],null);return n=new rg({props:{class:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",$$slots:{default:[Pb]},$$scope:{ctx:t}}}),{c(){l&&l.c(),e=G(),X(n.$$.fragment)},m(r,a){l&&l.m(r,a),T(r,e,a),U(n,r,a),o=!0},p(r,a){l&&l.p&&(!o||a&32)&&me(l,i,r,r[5],o?de(i,r[5],a,null):pe(r[5]),null);const s={};a&32&&(s.$$scope={dirty:a,ctx:r}),n.$set(s)},i(r){o||(A(l,r),A(n.$$.fragment,r),o=!0)},o(r){M(l,r),M(n.$$.fragment,r),o=!1},d(r){r&&S(e),l&&l.d(r),K(n,r)}}}function Eb(t){let e,n,o,i;e=new kb({});const l=[{transition:t[1]},{transitionConfig:t[2]},{class:Fe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg md:w-full",t[0])},t[3]];let r={$$slots:{default:[Nb]},$$scope:{ctx:t}};for(let a=0;a<l.length;a+=1)r=Z(r,l[a]);return o=new Mg({props:r}),{c(){X(e.$$.fragment),n=G(),X(o.$$.fragment)},m(a,s){U(e,a,s),T(a,n,s),U(o,a,s),i=!0},p(a,s){const u=s&15?ge(l,[s&2&&{transition:a[1]},s&4&&{transitionConfig:a[2]},s&1&&{class:Fe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg md:w-full",a[0])},s&8&&ut(a[3])]):{};s&32&&(u.$$scope={dirty:s,ctx:a}),o.$set(u)},i(a){i||(A(e.$$.fragment,a),A(o.$$.fragment,a),i=!0)},o(a){M(e.$$.fragment,a),M(o.$$.fragment,a),i=!1},d(a){a&&S(n),K(e,a),K(o,a)}}}function Rb(t){let e,n;return e=new hb({props:{$$slots:{default:[Eb]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,[i]){const l={};i&47&&(l.$$scope={dirty:i,ctx:o}),e.$set(l)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function Lb(t,e,n){const o=["class","transition","transitionConfig"];let i=re(e,o),{$$slots:l={},$$scope:r}=e,{class:a=void 0}=e,{transition:s=ml}=e,{transitionConfig:u={duration:200}}=e;return t.$$set=f=>{e=Z(Z({},e),Ne(f)),n(3,i=re(e,o)),"class"in f&&n(0,a=f.class),"transition"in f&&n(1,s=f.transition),"transitionConfig"in f&&n(2,u=f.transitionConfig),"$$scope"in f&&n(5,r=f.$$scope)},[a,s,u,i,l,r]}class Jn extends _e{constructor(e){super(),he(this,e,Lb,Rb,ue,{class:0,transition:1,transitionConfig:2})}}function Db(t){let e;const n=t[2].default,o=ce(n,t,t[3],null);return{c(){o&&o.c()},m(i,l){o&&o.m(i,l),e=!0},p(i,l){o&&o.p&&(!e||l&8)&&me(o,n,i,i[3],e?de(n,i[3],l,null):pe(i[3]),null)},i(i){e||(A(o,i),e=!0)},o(i){M(o,i),e=!1},d(i){o&&o.d(i)}}}function $b(t){let e,n;const o=[{class:Fe("text-sm text-muted-foreground",t[0])},t[1]];let i={$$slots:{default:[Db]},$$scope:{ctx:t}};for(let l=0;l<o.length;l+=1)i=Z(i,o[l]);return e=new Yg({props:i}),{c(){X(e.$$.fragment)},m(l,r){U(e,l,r),n=!0},p(l,[r]){const a=r&3?ge(o,[r&1&&{class:Fe("text-sm text-muted-foreground",l[0])},r&2&&ut(l[1])]):{};r&8&&(a.$$scope={dirty:r,ctx:l}),e.$set(a)},i(l){n||(A(e.$$.fragment,l),n=!0)},o(l){M(e.$$.fragment,l),n=!1},d(l){K(e,l)}}}function Fb(t,e,n){const o=["class"];let i=re(e,o),{$$slots:l={},$$scope:r}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Z(Z({},e),Ne(s)),n(1,i=re(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,r=s.$$scope)},[a,i,l,r]}class xn extends _e{constructor(e){super(),he(this,e,Fb,$b,ue,{class:0})}}const Zn=U0;function jb(t){let e,n,o,i,l=[{class:n=Fe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t[1])},t[2]],r={};for(let a=0;a<l.length;a+=1)r=Z(r,l[a]);return{c(){e=O("input"),ae(e,r)},m(a,s){T(a,e,s),e.autofocus&&e.focus(),nn(e,t[0]),o||(i=[te(e,"input",t[17]),te(e,"blur",t[3]),te(e,"change",t[4]),te(e,"click",t[5]),te(e,"focus",t[6]),te(e,"focusin",t[7]),te(e,"focusout",t[8]),te(e,"keydown",t[9]),te(e,"keypress",t[10]),te(e,"keyup",t[11]),te(e,"mouseover",t[12]),te(e,"mouseenter",t[13]),te(e,"mouseleave",t[14]),te(e,"paste",t[15]),te(e,"input",t[16])],o=!0)},p(a,[s]){ae(e,r=ge(l,[s&2&&n!==(n=Fe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a[1]))&&{class:n},s&4&&a[2]])),s&1&&e.value!==a[0]&&nn(e,a[0])},i:ye,o:ye,d(a){a&&S(e),o=!1,$e(i)}}}function Bb(t,e,n){const o=["class","value"];let i=re(e,o),{class:l=void 0}=e,{value:r=void 0}=e;function a(D){ie.call(this,t,D)}function s(D){ie.call(this,t,D)}function u(D){ie.call(this,t,D)}function f(D){ie.call(this,t,D)}function c(D){ie.call(this,t,D)}function d(D){ie.call(this,t,D)}function p(D){ie.call(this,t,D)}function m(D){ie.call(this,t,D)}function _(D){ie.call(this,t,D)}function v(D){ie.call(this,t,D)}function C(D){ie.call(this,t,D)}function w(D){ie.call(this,t,D)}function k(D){ie.call(this,t,D)}function R(D){ie.call(this,t,D)}function $(){r=this.value,n(0,r)}return t.$$set=D=>{e=Z(Z({},e),Ne(D)),n(2,i=re(e,o)),"class"in D&&n(1,l=D.class),"value"in D&&n(0,r=D.value)},[r,l,i,a,s,u,f,c,d,p,m,_,v,C,w,k,R,$]}class Hr extends _e{constructor(e){super(),he(this,e,Bb,jb,ue,{class:1,value:0})}}function qb(t){let e;const n=t[2].default,o=ce(n,t,t[4],null);return{c(){o&&o.c()},m(i,l){o&&o.m(i,l),e=!0},p(i,l){o&&o.p&&(!e||l&16)&&me(o,n,i,i[4],e?de(n,i[4],l,null):pe(i[4]),null)},i(i){e||(A(o,i),e=!0)},o(i){M(o,i),e=!1},d(i){o&&o.d(i)}}}function Gb(t){let e,n;const o=[{class:Fe("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",t[0])},t[1]];let i={$$slots:{default:[qb]},$$scope:{ctx:t}};for(let l=0;l<o.length;l+=1)i=Z(i,o[l]);return e=new zg({props:i}),e.$on("mousedown",t[3]),{c(){X(e.$$.fragment)},m(l,r){U(e,l,r),n=!0},p(l,[r]){const a=r&3?ge(o,[r&1&&{class:Fe("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",l[0])},r&2&&ut(l[1])]):{};r&16&&(a.$$scope={dirty:r,ctx:l}),e.$set(a)},i(l){n||(A(e.$$.fragment,l),n=!0)},o(l){M(e.$$.fragment,l),n=!1},d(l){K(e,l)}}}function Hb(t,e,n){const o=["class"];let i=re(e,o),{$$slots:l={},$$scope:r}=e,{class:a=void 0}=e;function s(u){ie.call(this,t,u)}return t.$$set=u=>{e=Z(Z({},e),Ne(u)),n(1,i=re(e,o)),"class"in u&&n(0,a=u.class),"$$scope"in u&&n(4,r=u.$$scope)},[a,i,l,s,r]}class ao extends _e{constructor(e){super(),he(this,e,Hb,Gb,ue,{class:0})}}const Gn={land:{short_title:"Fill the grid",description_title:"You win by filling up all possible plots in the grid, and by meeting some requirements.",win:"You have filled the grid with buildings and met the requirements. Your citizens are happy, fulfilled, hard-working, and healthy. ",requirements:{0:{population_count:200,happiness:100,health:100,employment:1,knowledge:50,required_plots:["pub","small_school","community_center"]},1:{population_count:1e3,happiness:120,health:120,employment:1,knowledge:100,required_plots:["bank"]},2:{population_count:1e3,happiness:200,health:200,employment:1,knowledge:1e3,required_plots:["bank","city_hall"]}}},free_play:{short_title:"Quests",description_title:"Play for as long as you can and build the best city you can while completing quests."}};function Vb(t){let e,n;const o=[{class:Fe("shrink-0 bg-border",t[1]==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t[0])},{orientation:t[1]},{decorative:t[2]},t[3]];let i={};for(let l=0;l<o.length;l+=1)i=Z(i,o[l]);return e=new G0({props:i}),{c(){X(e.$$.fragment)},m(l,r){U(e,l,r),n=!0},p(l,[r]){const a=r&15?ge(o,[r&3&&{class:Fe("shrink-0 bg-border",l[1]==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",l[0])},r&2&&{orientation:l[1]},r&4&&{decorative:l[2]},r&8&&ut(l[3])]):{};e.$set(a)},i(l){n||(A(e.$$.fragment,l),n=!0)},o(l){M(e.$$.fragment,l),n=!1},d(l){K(e,l)}}}function Wb(t,e,n){const o=["class","orientation","decorative"];let i=re(e,o),{class:l=void 0}=e,{orientation:r="horizontal"}=e,{decorative:a=void 0}=e;return t.$$set=s=>{e=Z(Z({},e),Ne(s)),n(3,i=re(e,o)),"class"in s&&n(0,l=s.class),"orientation"in s&&n(1,r=s.orientation),"decorative"in s&&n(2,a=s.decorative)},[l,r,a,i]}class Mt extends _e{constructor(e){super(),he(this,e,Wb,Vb,ue,{class:0,orientation:1,decorative:2})}}function Yb(t){let e;const n=t[3].default,o=ce(n,t,t[4],null);return{c(){o&&o.c()},m(i,l){o&&o.m(i,l),e=!0},p(i,l){o&&o.p&&(!e||l&16)&&me(o,n,i,i[4],e?de(n,i[4],l,null):pe(i[4]),null)},i(i){e||(A(o,i),e=!0)},o(i){M(o,i),e=!1},d(i){o&&o.d(i)}}}function Ub(t){let e,n;const o=[{class:Fe("text-lg font-semibold",t[0])},{level:t[1]},t[2]];let i={$$slots:{default:[Yb]},$$scope:{ctx:t}};for(let l=0;l<o.length;l+=1)i=Z(i,o[l]);return e=new S_({props:i}),{c(){X(e.$$.fragment)},m(l,r){U(e,l,r),n=!0},p(l,[r]){const a=r&7?ge(o,[r&1&&{class:Fe("text-lg font-semibold",l[0])},r&2&&{level:l[1]},r&4&&ut(l[2])]):{};r&16&&(a.$$scope={dirty:r,ctx:l}),e.$set(a)},i(l){n||(A(e.$$.fragment,l),n=!0)},o(l){M(e.$$.fragment,l),n=!1},d(l){K(e,l)}}}function Kb(t,e,n){const o=["class","level"];let i=re(e,o),{$$slots:l={},$$scope:r}=e,{class:a=void 0}=e,{level:s="h3"}=e;return t.$$set=u=>{e=Z(Z({},e),Ne(u)),n(2,i=re(e,o)),"class"in u&&n(0,a=u.class),"level"in u&&n(1,s=u.level),"$$scope"in u&&n(4,r=u.$$scope)},[a,s,i,l,r]}class td extends _e{constructor(e){super(),he(this,e,Kb,Ub,ue,{class:0,level:1})}}const Xb=t=>({builder:t&64}),Ya=t=>({builder:t[6]});function Jb(t){let e;const n=t[2].default,o=ce(n,t,t[5],Ya);return{c(){o&&o.c()},m(i,l){o&&o.m(i,l),e=!0},p(i,l){o&&o.p&&(!e||l&96)&&me(o,n,i,i[5],e?de(n,i[5],l,Xb):pe(i[5]),Ya)},i(i){e||(A(o,i),e=!0)},o(i){M(o,i),e=!1},d(i){o&&o.d(i)}}}function xb(t){let e,n;const o=[{class:Fe(bo(),t[0])},t[1]];let i={$$slots:{default:[Jb,({builder:l})=>({6:l}),({builder:l})=>l?64:0]},$$scope:{ctx:t}};for(let l=0;l<o.length;l+=1)i=Z(i,o[l]);return e=new E_({props:i}),e.$on("click",t[3]),e.$on("keydown",t[4]),{c(){X(e.$$.fragment)},m(l,r){U(e,l,r),n=!0},p(l,[r]){const a=r&3?ge(o,[r&1&&{class:Fe(bo(),l[0])},r&2&&ut(l[1])]):{};r&96&&(a.$$scope={dirty:r,ctx:l}),e.$set(a)},i(l){n||(A(e.$$.fragment,l),n=!0)},o(l){M(e.$$.fragment,l),n=!1},d(l){K(e,l)}}}function Zb(t,e,n){const o=["class"];let i=re(e,o),{$$slots:l={},$$scope:r}=e,{class:a=void 0}=e;function s(f){ie.call(this,t,f)}function u(f){ie.call(this,t,f)}return t.$$set=f=>{e=Z(Z({},e),Ne(f)),n(1,i=re(e,o)),"class"in f&&n(0,a=f.class),"$$scope"in f&&n(5,r=f.$$scope)},[a,i,l,s,u,r]}class nd extends _e{constructor(e){super(),he(this,e,Zb,xb,ue,{class:0})}}const Qb=t=>({builder:t&64}),Ua=t=>({builder:t[6]});function zb(t){let e;const n=t[2].default,o=ce(n,t,t[5],Ua);return{c(){o&&o.c()},m(i,l){o&&o.m(i,l),e=!0},p(i,l){o&&o.p&&(!e||l&96)&&me(o,n,i,i[5],e?de(n,i[5],l,Qb):pe(i[5]),Ua)},i(i){e||(A(o,i),e=!0)},o(i){M(o,i),e=!1},d(i){o&&o.d(i)}}}function ev(t){let e,n;const o=[{class:Fe(bo({variant:"default"}),"mt-2 sm:mt-0",t[0])},t[1]];let i={$$slots:{default:[zb,({builder:l})=>({6:l}),({builder:l})=>l?64:0]},$$scope:{ctx:t}};for(let l=0;l<o.length;l+=1)i=Z(i,o[l]);return e=new B_({props:i}),e.$on("click",t[3]),e.$on("keydown",t[4]),{c(){X(e.$$.fragment)},m(l,r){U(e,l,r),n=!0},p(l,[r]){const a=r&3?ge(o,[r&1&&{class:Fe(bo({variant:"default"}),"mt-2 sm:mt-0",l[0])},r&2&&ut(l[1])]):{};r&96&&(a.$$scope={dirty:r,ctx:l}),e.$set(a)},i(l){n||(A(e.$$.fragment,l),n=!0)},o(l){M(e.$$.fragment,l),n=!1},d(l){K(e,l)}}}function tv(t,e,n){const o=["class"];let i=re(e,o),{$$slots:l={},$$scope:r}=e,{class:a=void 0}=e;function s(f){ie.call(this,t,f)}function u(f){ie.call(this,t,f)}return t.$$set=f=>{e=Z(Z({},e),Ne(f)),n(1,i=re(e,o)),"class"in f&&n(0,a=f.class),"$$scope"in f&&n(5,r=f.$$scope)},[a,i,l,s,u,r]}class od extends _e{constructor(e){super(),he(this,e,tv,ev,ue,{class:0})}}function nv(t){let e;const n=t[1].default,o=ce(n,t,t[2],null);return{c(){o&&o.c()},m(i,l){o&&o.m(i,l),e=!0},p(i,l){o&&o.p&&(!e||l&4)&&me(o,n,i,i[2],e?de(n,i[2],l,null):pe(i[2]),null)},i(i){e||(A(o,i),e=!0)},o(i){M(o,i),e=!1},d(i){o&&o.d(i)}}}function ov(t){let e,n;const o=[t[0]];let i={$$slots:{default:[nv]},$$scope:{ctx:t}};for(let l=0;l<o.length;l+=1)i=Z(i,o[l]);return e=new U_({props:i}),{c(){X(e.$$.fragment)},m(l,r){U(e,l,r),n=!0},p(l,[r]){const a=r&1?ge(o,[ut(l[0])]):{};r&4&&(a.$$scope={dirty:r,ctx:l}),e.$set(a)},i(l){n||(A(e.$$.fragment,l),n=!0)},o(l){M(e.$$.fragment,l),n=!1},d(l){K(e,l)}}}function iv(t,e,n){const o=[];let i=re(e,o),{$$slots:l={},$$scope:r}=e;return t.$$set=a=>{e=Z(Z({},e),Ne(a)),n(0,i=re(e,o)),"$$scope"in a&&n(2,r=a.$$scope)},[i,l,r]}class lv extends _e{constructor(e){super(),he(this,e,iv,ov,ue,{})}}function rv(t){let e,n,o;const i=t[3].default,l=ce(i,t,t[2],null);let r=[{class:n=Fe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t[0])},t[1]],a={};for(let s=0;s<r.length;s+=1)a=Z(a,r[s]);return{c(){e=O("div"),l&&l.c(),ae(e,a)},m(s,u){T(s,e,u),l&&l.m(e,null),o=!0},p(s,[u]){l&&l.p&&(!o||u&4)&&me(l,i,s,s[2],o?de(i,s[2],u,null):pe(s[2]),null),ae(e,a=ge(r,[(!o||u&1&&n!==(n=Fe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(A(l,s),o=!0)},o(s){M(l,s),o=!1},d(s){s&&S(e),l&&l.d(s)}}}function sv(t,e,n){const o=["class"];let i=re(e,o),{$$slots:l={},$$scope:r}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Z(Z({},e),Ne(s)),n(1,i=re(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,r=s.$$scope)},[a,i,r,l]}class yl extends _e{constructor(e){super(),he(this,e,sv,rv,ue,{class:0})}}function av(t){let e,n,o;const i=t[3].default,l=ce(i,t,t[2],null);let r=[{class:n=Fe("flex flex-col space-y-2 text-center sm:text-left",t[0])},t[1]],a={};for(let s=0;s<r.length;s+=1)a=Z(a,r[s]);return{c(){e=O("div"),l&&l.c(),ae(e,a)},m(s,u){T(s,e,u),l&&l.m(e,null),o=!0},p(s,[u]){l&&l.p&&(!o||u&4)&&me(l,i,s,s[2],o?de(i,s[2],u,null):pe(s[2]),null),ae(e,a=ge(r,[(!o||u&1&&n!==(n=Fe("flex flex-col space-y-2 text-center sm:text-left",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(A(l,s),o=!0)},o(s){M(l,s),o=!1},d(s){s&&S(e),l&&l.d(s)}}}function uv(t,e,n){const o=["class"];let i=re(e,o),{$$slots:l={},$$scope:r}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Z(Z({},e),Ne(s)),n(1,i=re(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,r=s.$$scope)},[a,i,r,l]}class Vr extends _e{constructor(e){super(),he(this,e,uv,av,ue,{class:0})}}function fv(t){let e,n;const o=[{transition:t[1]},{transitionConfig:t[2]},{class:Fe("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm ",t[0])},t[3]];let i={};for(let l=0;l<o.length;l+=1)i=Z(i,o[l]);return e=new g0({props:i}),{c(){X(e.$$.fragment)},m(l,r){U(e,l,r),n=!0},p(l,[r]){const a=r&15?ge(o,[r&2&&{transition:l[1]},r&4&&{transitionConfig:l[2]},r&1&&{class:Fe("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm ",l[0])},r&8&&ut(l[3])]):{};e.$set(a)},i(l){n||(A(e.$$.fragment,l),n=!0)},o(l){M(e.$$.fragment,l),n=!1},d(l){K(e,l)}}}function cv(t,e,n){const o=["class","transition","transitionConfig"];let i=re(e,o),{class:l=void 0}=e,{transition:r=ed}=e,{transitionConfig:a={duration:150}}=e;return t.$$set=s=>{e=Z(Z({},e),Ne(s)),n(3,i=re(e,o)),"class"in s&&n(0,l=s.class),"transition"in s&&n(1,r=s.transition),"transitionConfig"in s&&n(2,a=s.transitionConfig)},[l,r,a,i]}class dv extends _e{constructor(e){super(),he(this,e,cv,fv,ue,{class:0,transition:1,transitionConfig:2})}}function mv(t){let e;const n=t[4].default,o=ce(n,t,t[5],null);return{c(){o&&o.c()},m(i,l){o&&o.m(i,l),e=!0},p(i,l){o&&o.p&&(!e||l&32)&&me(o,n,i,i[5],e?de(n,i[5],l,null):pe(i[5]),null)},i(i){e||(A(o,i),e=!0)},o(i){M(o,i),e=!1},d(i){o&&o.d(i)}}}function pv(t){let e,n,o,i;e=new dv({});const l=[{transition:t[0]},{transitionConfig:t[1]},{class:Fe("fixed rounded-2xl left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg md:w-full",t[2])},t[3]];let r={$$slots:{default:[mv]},$$scope:{ctx:t}};for(let a=0;a<l.length;a+=1)r=Z(r,l[a]);return o=new s0({props:r}),{c(){X(e.$$.fragment),n=G(),X(o.$$.fragment)},m(a,s){U(e,a,s),T(a,n,s),U(o,a,s),i=!0},p(a,s){const u=s&15?ge(l,[s&1&&{transition:a[0]},s&2&&{transitionConfig:a[1]},s&4&&{class:Fe("fixed rounded-2xl left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg md:w-full",a[2])},s&8&&ut(a[3])]):{};s&32&&(u.$$scope={dirty:s,ctx:a}),o.$set(u)},i(a){i||(A(e.$$.fragment,a),A(o.$$.fragment,a),i=!0)},o(a){M(e.$$.fragment,a),M(o.$$.fragment,a),i=!1},d(a){a&&S(n),K(e,a),K(o,a)}}}function hv(t){let e,n;return e=new lv({props:{$$slots:{default:[pv]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,[i]){const l={};i&47&&(l.$$scope={dirty:i,ctx:o}),e.$set(l)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function _v(t,e,n){const o=["transition","transitionConfig","class"];let i=re(e,o),{$$slots:l={},$$scope:r}=e,{transition:a=ml}=e,{transitionConfig:s=void 0}=e,{class:u=void 0}=e;return t.$$set=f=>{e=Z(Z({},e),Ne(f)),n(3,i=re(e,o)),"transition"in f&&n(0,a=f.transition),"transitionConfig"in f&&n(1,s=f.transitionConfig),"class"in f&&n(2,u=f.class),"$$scope"in f&&n(5,r=f.$$scope)},[a,s,u,i,l,r]}class wl extends _e{constructor(e){super(),he(this,e,_v,hv,ue,{transition:0,transitionConfig:1,class:2})}}function gv(t){let e;const n=t[2].default,o=ce(n,t,t[3],null);return{c(){o&&o.c()},m(i,l){o&&o.m(i,l),e=!0},p(i,l){o&&o.p&&(!e||l&8)&&me(o,n,i,i[3],e?de(n,i[3],l,null):pe(i[3]),null)},i(i){e||(A(o,i),e=!0)},o(i){M(o,i),e=!1},d(i){o&&o.d(i)}}}function bv(t){let e,n;const o=[{class:Fe("text-sm text-muted-foreground",t[0])},t[1]];let i={$$slots:{default:[gv]},$$scope:{ctx:t}};for(let l=0;l<o.length;l+=1)i=Z(i,o[l]);return e=new A0({props:i}),{c(){X(e.$$.fragment)},m(l,r){U(e,l,r),n=!0},p(l,[r]){const a=r&3?ge(o,[r&1&&{class:Fe("text-sm text-muted-foreground",l[0])},r&2&&ut(l[1])]):{};r&8&&(a.$$scope={dirty:r,ctx:l}),e.$set(a)},i(l){n||(A(e.$$.fragment,l),n=!0)},o(l){M(e.$$.fragment,l),n=!1},d(l){K(e,l)}}}function vv(t,e,n){const o=["class"];let i=re(e,o),{$$slots:l={},$$scope:r}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Z(Z({},e),Ne(s)),n(1,i=re(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,r=s.$$scope)},[a,i,l,r]}class Wr extends _e{constructor(e){super(),he(this,e,vv,bv,ue,{class:0})}}const kl=b_;function Ka(t,e,n){const o=t.slice();return o[25]=e[n],o}function Xa(t,e,n){const o=t.slice();return o[28]=e[n],o}function yv(t){let e;return{c(){e=j("Pause Menu")},m(n,o){T(n,e,o)},d(n){n&&S(e)}}}function wv(t){let e;return{c(){e=j("Unpause any time by pressing 'P'")},m(n,o){T(n,e,o)},d(n){n&&S(e)}}}function kv(t){let e,n,o,i;return e=new Kn({props:{$$slots:{default:[yv]},$$scope:{ctx:t}}}),o=new xn({props:{$$slots:{default:[wv]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=G(),X(o.$$.fragment)},m(l,r){U(e,l,r),T(l,n,r),U(o,l,r),i=!0},p(l,r){const a={};r[1]&1&&(a.$$scope={dirty:r,ctx:l}),e.$set(a);const s={};r[1]&1&&(s.$$scope={dirty:r,ctx:l}),o.$set(s)},i(l){i||(A(e.$$.fragment,l),A(o.$$.fragment,l),i=!0)},o(l){M(e.$$.fragment,l),M(o.$$.fragment,l),i=!1},d(l){l&&S(n),K(e,l),K(o,l)}}}function Ja(t){let e,n,o,i,l,r=JSON.stringify(t[5].requirements[t[2].difficulty].population_count)+"",a,s,u=JSON.stringify(t[2].townInfo.population_count)+"",f,c,d,p,m=JSON.stringify(t[5].requirements[t[2].difficulty].happiness)+"",_,v,C=JSON.stringify(t[2].townInfo.happiness)+"",w,k,R,$,D=JSON.stringify(t[5].requirements[t[2].difficulty].employment*100)+"",E,q,L=JSON.stringify((t[2].townInfo.employees/t[2].townInfo.population_count||0)*100)+"",H,y,g,I,N,B=JSON.stringify(t[5].requirements[t[2].difficulty].health)+"",F,J,z=JSON.stringify(t[2].townInfo.health)+"",Q,h,W,Y,ne=JSON.stringify(t[5].requirements[t[2].difficulty].knowledge)+"",ee,x,we=JSON.stringify(t[2].townInfo.knowledge_points)+"",Ae,Re,Ze;function Le(fe,xe){return fe[2].townInfo.population_count>=fe[5].requirements[fe[2].difficulty].population_count?Av:Cv}let Qe=Le(t),ve=Qe(t);function He(fe,xe){return fe[2].townInfo.happiness>=fe[5].requirements[fe[2].difficulty].happiness?Tv:Sv}let Ve=He(t),We=Ve(t);function Je(fe,xe){return fe[2].townInfo.employees/fe[2].townInfo.population_count>=fe[5].requirements[fe[2].difficulty].employment?Mv:Iv}let Ke=Je(t),Me=Ke(t);function Xe(fe,xe){return fe[2].townInfo.health>=fe[5].requirements[fe[2].difficulty].health?Pv:Ov}let ke=Xe(t),De=ke(t);function Dt(fe,xe){return fe[2].townInfo.knowledge_points>=fe[5].requirements[fe[2].difficulty].knowledge?Ev:Nv}let Pt=Dt(t),_t=Pt(t),ze=t[5].requirements[t[2].difficulty].required_plots!=null&&t[5].requirements[t[2].difficulty].required_plots.length>0&&xa(t);return{c(){e=O("div"),e.textContent=`With your difficulty (${t[6]}), you must also have:`,n=G(),o=O("ul"),i=O("li"),ve.c(),l=j(`
                  Population: `),a=j(r),s=j(" - Currently at "),f=j(u),c=G(),d=O("li"),We.c(),p=j(`
                  Happiness: `),_=j(m),v=j(" - Currently at "),w=j(C),k=G(),R=O("li"),Me.c(),$=j(`
                  Employment: `),E=j(D),q=j("% - Currently at "),H=j(L),y=j("%"),g=G(),I=O("li"),De.c(),N=j(`
                  Health: `),F=j(B),J=j(" - Currently at "),Q=j(z),h=G(),W=O("li"),_t.c(),Y=j(`
                  Knowledge: `),ee=j(ne),x=j(" - Currently at "),Ae=j(we),Re=G(),ze&&ze.c(),Ze=Ee(),P(e,"class","leading-relaxed text-sm"),P(o,"class","list-inside list-disc leading-relaxedmt-0 text-sm")},m(fe,xe){T(fe,e,xe),T(fe,n,xe),T(fe,o,xe),b(o,i),ve.m(i,null),b(i,l),b(i,a),b(i,s),b(i,f),b(o,c),b(o,d),We.m(d,null),b(d,p),b(d,_),b(d,v),b(d,w),b(o,k),b(o,R),Me.m(R,null),b(R,$),b(R,E),b(R,q),b(R,H),b(R,y),b(o,g),b(o,I),De.m(I,null),b(I,N),b(I,F),b(I,J),b(I,Q),b(o,h),b(o,W),_t.m(W,null),b(W,Y),b(W,ee),b(W,x),b(W,Ae),T(fe,Re,xe),ze&&ze.m(fe,xe),T(fe,Ze,xe)},p(fe,xe){Qe!==(Qe=Le(fe))&&(ve.d(1),ve=Qe(fe),ve&&(ve.c(),ve.m(i,l))),xe[0]&4&&r!==(r=JSON.stringify(fe[5].requirements[fe[2].difficulty].population_count)+"")&&le(a,r),xe[0]&4&&u!==(u=JSON.stringify(fe[2].townInfo.population_count)+"")&&le(f,u),Ve!==(Ve=He(fe))&&(We.d(1),We=Ve(fe),We&&(We.c(),We.m(d,p))),xe[0]&4&&m!==(m=JSON.stringify(fe[5].requirements[fe[2].difficulty].happiness)+"")&&le(_,m),xe[0]&4&&C!==(C=JSON.stringify(fe[2].townInfo.happiness)+"")&&le(w,C),Ke!==(Ke=Je(fe))&&(Me.d(1),Me=Ke(fe),Me&&(Me.c(),Me.m(R,$))),xe[0]&4&&D!==(D=JSON.stringify(fe[5].requirements[fe[2].difficulty].employment*100)+"")&&le(E,D),xe[0]&4&&L!==(L=JSON.stringify((fe[2].townInfo.employees/fe[2].townInfo.population_count||0)*100)+"")&&le(H,L),ke!==(ke=Xe(fe))&&(De.d(1),De=ke(fe),De&&(De.c(),De.m(I,N))),xe[0]&4&&B!==(B=JSON.stringify(fe[5].requirements[fe[2].difficulty].health)+"")&&le(F,B),xe[0]&4&&z!==(z=JSON.stringify(fe[2].townInfo.health)+"")&&le(Q,z),Pt!==(Pt=Dt(fe))&&(_t.d(1),_t=Pt(fe),_t&&(_t.c(),_t.m(W,Y))),xe[0]&4&&ne!==(ne=JSON.stringify(fe[5].requirements[fe[2].difficulty].knowledge)+"")&&le(ee,ne),xe[0]&4&&we!==(we=JSON.stringify(fe[2].townInfo.knowledge_points)+"")&&le(Ae,we),fe[5].requirements[fe[2].difficulty].required_plots!=null&&fe[5].requirements[fe[2].difficulty].required_plots.length>0?ze?ze.p(fe,xe):(ze=xa(fe),ze.c(),ze.m(Ze.parentNode,Ze)):ze&&(ze.d(1),ze=null)},d(fe){fe&&(S(e),S(n),S(o),S(Re),S(Ze)),ve.d(),We.d(),Me.d(),De.d(),_t.d(),ze&&ze.d(fe)}}}function Cv(t){let e;return{c(){e=j("❌")},m(n,o){T(n,e,o)},d(n){n&&S(e)}}}function Av(t){let e;return{c(){e=j("✅")},m(n,o){T(n,e,o)},d(n){n&&S(e)}}}function Sv(t){let e;return{c(){e=j("❌")},m(n,o){T(n,e,o)},d(n){n&&S(e)}}}function Tv(t){let e;return{c(){e=j("✅")},m(n,o){T(n,e,o)},d(n){n&&S(e)}}}function Iv(t){let e;return{c(){e=j("❌")},m(n,o){T(n,e,o)},d(n){n&&S(e)}}}function Mv(t){let e;return{c(){e=j("✅")},m(n,o){T(n,e,o)},d(n){n&&S(e)}}}function Ov(t){let e;return{c(){e=j("❌")},m(n,o){T(n,e,o)},d(n){n&&S(e)}}}function Pv(t){let e;return{c(){e=j("✅")},m(n,o){T(n,e,o)},d(n){n&&S(e)}}}function Nv(t){let e;return{c(){e=j("❌")},m(n,o){T(n,e,o)},d(n){n&&S(e)}}}function Ev(t){let e;return{c(){e=j("✅")},m(n,o){T(n,e,o)},d(n){n&&S(e)}}}function xa(t){let e,n,o,i=Ge(t[5].requirements[t[2].difficulty].required_plots),l=[];for(let r=0;r<i.length;r+=1)l[r]=Za(Xa(t,i,r));return{c(){e=O("br"),n=j(`
                You also need to have these plots:
                `);for(let r=0;r<l.length;r+=1)l[r].c();o=Ee()},m(r,a){T(r,e,a),T(r,n,a);for(let s=0;s<l.length;s+=1)l[s]&&l[s].m(r,a);T(r,o,a)},p(r,a){if(a[0]&36){i=Ge(r[5].requirements[r[2].difficulty].required_plots);let s;for(s=0;s<i.length;s+=1){const u=Xa(r,i,s);l[s]?l[s].p(u,a):(l[s]=Za(u),l[s].c(),l[s].m(o.parentNode,o))}for(;s<l.length;s+=1)l[s].d(1);l.length=i.length}},d(r){r&&(S(e),S(n),S(o)),mt(l,r)}}}function Rv(t){let e;return{c(){e=j("❌")},m(n,o){T(n,e,o)},d(n){n&&S(e)}}}function Lv(t){let e;return{c(){e=j("✅")},m(n,o){T(n,e,o)},d(n){n&&S(e)}}}function Za(t){let e,n,o,i,l=t[28]+"",r,a;function s(c,d){return d[0]&4&&(o=null),o==null&&(o=qe(c[28],c[2]).length>0),o?Lv:Rv}let u=s(t,[-1,-1]),f=u(t);return{c(){e=O("div"),n=O("li"),f.c(),i=G(),r=j(l),a=G(),P(e,"class","text-sm")},m(c,d){T(c,e,d),b(e,n),f.m(n,null),b(n,i),b(n,r),b(e,a)},p(c,d){u!==(u=s(c,d))&&(f.d(1),f=u(c),f&&(f.c(),f.m(n,i))),d[0]&4&&l!==(l=c[28]+"")&&le(r,l)},d(c){c&&S(e),f.d()}}}function Dv(t){let e;return{c(){e=j("Save game")},m(n,o){T(n,e,o)},d(n){n&&S(e)}}}function $v(t){let e;return{c(){e=j("Save")},m(n,o){T(n,e,o)},d(n){n&&S(e)}}}function Fv(t){let e;return{c(){e=j("Upload game")},m(n,o){T(n,e,o)},d(n){n&&S(e)}}}function Qa(t){let e,n;function o(){return t[19](t[25])}return e=new vt({props:{class:"bg-blue-600 hover:bg-blue-700 mt-4",id:"collectPrize-"+t[25].id,$$slots:{default:[jv]},$$scope:{ctx:t}}}),e.$on("click",o),{c(){X(e.$$.fragment)},m(i,l){U(e,i,l),n=!0},p(i,l){t=i;const r={};l[0]&2&&(r.id="collectPrize-"+t[25].id),l[0]&2|l[1]&1&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(i){n||(A(e.$$.fragment,i),n=!0)},o(i){M(e.$$.fragment,i),n=!1},d(i){K(e,i)}}}function jv(t){let e,n=eu(t[25].prize)+"",o,i;return{c(){e=j("Collect Prize: $"),o=j(n),i=j(" gold")},m(l,r){T(l,e,r),T(l,o,r),T(l,i,r)},p(l,r){r[0]&2&&n!==(n=eu(l[25].prize)+"")&&le(o,n)},d(l){l&&(S(e),S(o),S(i))}}}function za(t){let e,n,o,i,l,r,a=t[25].title+"",s,u,f,c=t[25].requirements+"",d,p,m,_=t[25].icon+"",v,C,w,k=t[25].description+"",R,$,D,E,q=t[8](t[25].id)+"",L,H,y,g=t[13](t[25].id)&&!t[9](t[25].id),I,N,B,F=g&&Qa(t);return{c(){e=O("div"),n=O("div"),o=O("div"),i=O("span"),l=O("div"),r=O("span"),s=j(a),u=G(),f=O("div"),d=j(c),p=G(),m=O("div"),v=j(_),C=G(),w=O("div"),R=j(k),$=G(),D=O("div"),E=j("✅ Completed on Day "),L=j(q),y=G(),F&&F.c(),I=G(),P(r,"class","font-semibold text-lg"),P(f,"class","font-thin text-white opacity-75 text-xs"),P(l,"class","flex flex-row gap-3 w-[100%] text- items-center "),P(m,"class","text-sm flex-grow pr-1 break-inside-avoid "),P(i,"class","flex flex-row justify-between w-[100%]"),P(o,"class","min-w-32 flex"),P(w,"class","text-white opacity-75 text-sm font-light"),P(D,"class",H=(t[13](t[25].id)?"":"hidden")+" text-xs text-green-400"),P(n,"class","flex-col flex px-3 py-2 gap-0"),P(e,"class",N="flex flex-col gap-3 cursor-default rounded-md "+(t[13](t[25].id)?"bg-green-700":"bg-gray-500 opacity-35"))},m(J,z){T(J,e,z),b(e,n),b(n,o),b(o,i),b(i,l),b(l,r),b(r,s),b(l,u),b(l,f),b(f,d),b(i,p),b(i,m),b(m,v),b(n,C),b(n,w),b(w,R),b(n,$),b(n,D),b(D,E),b(D,L),b(n,y),F&&F.m(n,null),b(e,I),B=!0},p(J,z){(!B||z[0]&2)&&a!==(a=J[25].title+"")&&le(s,a),(!B||z[0]&2)&&c!==(c=J[25].requirements+"")&&le(d,c),(!B||z[0]&2)&&_!==(_=J[25].icon+"")&&le(v,_),(!B||z[0]&2)&&k!==(k=J[25].description+"")&&le(R,k),(!B||z[0]&2)&&q!==(q=J[8](J[25].id)+"")&&le(L,q),(!B||z[0]&2&&H!==(H=(J[13](J[25].id)?"":"hidden")+" text-xs text-green-400"))&&P(D,"class",H),z[0]&2&&(g=J[13](J[25].id)&&!J[9](J[25].id)),g?F?(F.p(J,z),z[0]&2&&A(F,1)):(F=Qa(J),F.c(),A(F,1),F.m(n,null)):F&&(Te(),M(F,1,1,()=>{F=null}),Ie()),(!B||z[0]&2&&N!==(N="flex flex-col gap-3 cursor-default rounded-md "+(J[13](J[25].id)?"bg-green-700":"bg-gray-500 opacity-35")))&&P(e,"class",N)},i(J){B||(A(F),B=!0)},o(J){M(F),B=!1},d(J){J&&S(e),F&&F.d()}}}function Bv(t){let e,n,o,i,l,r,a,s,u,f,c,d,p,m,_,v,C,w,k,R,$,D,E,q,L,H,y,g,I,N,B,F,J,z,Q,h,W,Y,ne,ee,x,we,Ae;e=new Xn({props:{$$slots:{default:[kv]},$$scope:{ctx:t}}});let Re=t[2].endGoal=="land"&&Ja(t);_=new ao({props:{for:"saveButton",class:`cursor-pointer bg-blue-600 rounded-md text-center p-2.5 hover:bg-blue-700 justify-center flex 
					`,$$slots:{default:[Dv]},$$scope:{ctx:t}}}),C=new vt({props:{class:`
					bg-blue-600 hover:bg-blue-700 hidden
					`,id:"saveButton",$$slots:{default:[$v]},$$scope:{ctx:t}}}),C.$on("click",t[16]),k=new ao({props:{for:"upload",class:`cursor-pointer bg-blue-600 rounded-md text-center p-2.5 hover:bg-blue-700 justify-center flex 
					`,$$slots:{default:[Fv]},$$scope:{ctx:t}}}),$=new Hr({props:{class:"hidden",type:"file",id:"upload"}}),$.$on("change",t[12]),E=new Mt({props:{orientation:"vertical"}});let Ze=Ge(t[1]),Le=[];for(let ve=0;ve<Ze.length;ve+=1)Le[ve]=za(Ka(t,Ze,ve));const Qe=ve=>M(Le[ve],1,1,()=>{Le[ve]=null});return{c(){X(e.$$.fragment),n=G(),o=O("div"),i=O("div"),l=O("div"),r=O("h4"),r.textContent="This game",a=G(),s=O("span"),s.textContent=`${t[5].description_title}`,u=G(),f=O("div"),Re&&Re.c(),c=G(),d=O("div"),p=O("div"),m=O("div"),X(_.$$.fragment),v=G(),X(C.$$.fragment),w=G(),X(k.$$.fragment),R=G(),X($.$$.fragment),D=G(),X(E.$$.fragment),q=G(),L=O("div"),H=O("h4"),H.textContent=`Your achievement (${t[7].length}
          / ${it.length})`,y=G(),g=O("span"),g.textContent="Track your progress through games & complete challenges!",I=G(),N=O("br"),B=G(),F=O("div"),J=O("input"),z=G(),Q=O("label"),Q.textContent="Show completed",h=G(),W=O("div"),Y=O("div");for(let ve=0;ve<Le.length;ve+=1)Le[ve].c();ne=G(),ee=O("span"),ee.textContent=`Prizes apply to the current game you are in. You can wait to apply
          them until the right time.`,P(r,"class","underline underline-offset-4"),P(s,"class","text-sm text-gray-400"),P(f,"class","mt-6 gap-0 py-0 text-gray-400 text-sm"),P(l,"class","flex-col h-max"),P(m,"class","flex gap-10 justify-start min-w-[100%] w-[100%] items"),P(p,"class","flex flex-col gap-3 h-max"),P(i,"class","flex flex-col gap-6 justify-between"),P(H,"class","underline underline-offset-4"),P(g,"class","text-sm text-gray-400"),P(J,"type","checkbox"),P(J,"id","toggle-show-completed"),P(J,"class","rounded"),P(J,"tabindex","-1"),J.checked=localStorage.getItem("showCompletedAchievements")==="true",P(Q,"for","toggle-show-completed"),P(Q,"class","text-xs text-gray-400 select-none ml-2 no-select cursor-pointer "),P(F,"class","flex items-center"),P(Y,"class","flex flex-col gap-4 overflow-scroll pb-20 scroll-smooth"),P(W,"class","overflow-scroll mt-2 h-[55vh]"),P(ee,"class","text-sm text-yellow-400 italic"),P(o,"class","flex flex-row w-full gap-10")},m(ve,He){U(e,ve,He),T(ve,n,He),T(ve,o,He),b(o,i),b(i,l),b(l,r),b(l,a),b(l,s),b(l,u),b(l,f),Re&&Re.m(f,null),b(i,c),b(i,d),b(d,p),b(p,m),U(_,m,null),b(m,v),U(C,m,null),b(m,w),U(k,m,null),b(m,R),U($,m,null),b(o,D),U(E,o,null),b(o,q),b(o,L),b(L,H),b(L,y),b(L,g),b(L,I),b(L,N),b(L,B),b(L,F),b(F,J),b(F,z),b(F,Q),b(L,h),b(L,W),b(W,Y);for(let Ve=0;Ve<Le.length;Ve+=1)Le[Ve]&&Le[Ve].m(Y,null);b(L,ne),b(L,ee),x=!0,we||(Ae=[te(J,"change",t[17]),te(J,"keydown",t[18])],we=!0)},p(ve,He){const Ve={};He[1]&1&&(Ve.$$scope={dirty:He,ctx:ve}),e.$set(Ve),ve[2].endGoal=="land"?Re?Re.p(ve,He):(Re=Ja(ve),Re.c(),Re.m(f,null)):Re&&(Re.d(1),Re=null);const We={};He[1]&1&&(We.$$scope={dirty:He,ctx:ve}),_.$set(We);const Je={};He[1]&1&&(Je.$$scope={dirty:He,ctx:ve}),C.$set(Je);const Ke={};if(He[1]&1&&(Ke.$$scope={dirty:He,ctx:ve}),k.$set(Ke),He[0]&9986){Ze=Ge(ve[1]);let Me;for(Me=0;Me<Ze.length;Me+=1){const Xe=Ka(ve,Ze,Me);Le[Me]?(Le[Me].p(Xe,He),A(Le[Me],1)):(Le[Me]=za(Xe),Le[Me].c(),A(Le[Me],1),Le[Me].m(Y,null))}for(Te(),Me=Ze.length;Me<Le.length;Me+=1)Qe(Me);Ie()}},i(ve){if(!x){A(e.$$.fragment,ve),A(_.$$.fragment,ve),A(C.$$.fragment,ve),A(k.$$.fragment,ve),A($.$$.fragment,ve),A(E.$$.fragment,ve);for(let He=0;He<Ze.length;He+=1)A(Le[He]);x=!0}},o(ve){M(e.$$.fragment,ve),M(_.$$.fragment,ve),M(C.$$.fragment,ve),M(k.$$.fragment,ve),M($.$$.fragment,ve),M(E.$$.fragment,ve),Le=Le.filter(Boolean);for(let He=0;He<Le.length;He+=1)M(Le[He]);x=!1},d(ve){ve&&(S(n),S(o)),K(e,ve),Re&&Re.d(),K(_),K(C),K(k),K($),K(E),mt(Le,ve),we=!1,$e(Ae)}}}function qv(t){let e,n;return e=new Jn({props:{class:" max-w-[90vw] max-h-[90vh] bg-foregroundDark text-foregroundText",$$slots:{default:[Bv]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const l={};i[0]&6|i[1]&1&&(l.$$scope={dirty:i,ctx:o}),e.$set(l)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function Gv(t){var o;let e=((o=t[14]())==null?void 0:o.title)+"",n;return{c(){n=j(e)},m(i,l){T(i,n,l)},p:ye,d(i){i&&S(n)}}}function Hv(t){let e,n,o,i;return{c(){var l,r;e=O("div"),n=O("div"),n.textContent=`${(l=t[14]())==null?void 0:l.icon}`,o=G(),i=O("div"),i.textContent=`${(r=t[14]())==null?void 0:r.description}`,P(n,"class","text-center w-[30%] align-middle flex flex-col text-8xl"),P(i,"class","pl-8 w-[80%] align-middle flex flex-col justify-center text-lg"),P(e,"class","flex flex-row align-middle justify-evenly px-6 py-4")},m(l,r){T(l,e,r),b(e,n),b(e,o),b(e,i)},p:ye,d(l){l&&S(e)}}}function Vv(t){let e,n,o,i;return e=new td({props:{class:"text-center text-xl font-bold",$$slots:{default:[Gv]},$$scope:{ctx:t}}}),o=new Wr({props:{$$slots:{default:[Hv]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=G(),X(o.$$.fragment)},m(l,r){U(e,l,r),T(l,n,r),U(o,l,r),i=!0},p(l,r){const a={};r[1]&1&&(a.$$scope={dirty:r,ctx:l}),e.$set(a);const s={};r[1]&1&&(s.$$scope={dirty:r,ctx:l}),o.$set(s)},i(l){i||(A(e.$$.fragment,l),A(o.$$.fragment,l),i=!0)},o(l){M(e.$$.fragment,l),M(o.$$.fragment,l),i=!1},d(l){l&&S(n),K(e,l),K(o,l)}}}function Wv(t){let e;return{c(){e=j("Close to collect prize")},m(n,o){T(n,e,o)},d(n){n&&S(e)}}}function Yv(t){let e,n;return e=new od({props:{$$slots:{default:[Wv]},$$scope:{ctx:t}}}),e.$on("click",t[21]),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const l={};i[1]&1&&(l.$$scope={dirty:i,ctx:o}),e.$set(l)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function Uv(t){let e,n,o,i;return e=new Vr({props:{$$slots:{default:[Vv]},$$scope:{ctx:t}}}),o=new yl({props:{$$slots:{default:[Yv]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=G(),X(o.$$.fragment)},m(l,r){U(e,l,r),T(l,n,r),U(o,l,r),i=!0},p(l,r){const a={};r[1]&1&&(a.$$scope={dirty:r,ctx:l}),e.$set(a);const s={};r[0]&16|r[1]&1&&(s.$$scope={dirty:r,ctx:l}),o.$set(s)},i(l){i||(A(e.$$.fragment,l),A(o.$$.fragment,l),i=!0)},o(l){M(e.$$.fragment,l),M(o.$$.fragment,l),i=!1},d(l){l&&S(n),K(e,l),K(o,l)}}}function Kv(t){let e,n;return e=new wl({props:{$$slots:{default:[Uv]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const l={};i[0]&16|i[1]&1&&(l.$$scope={dirty:i,ctx:o}),e.$set(l)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function Xv(t){let e,n,o,i,l;function r(s){t[20](s)}let a={$$slots:{default:[qv]},$$scope:{ctx:t}};return t[3]!==void 0&&(a.open=t[3]),e=new Zn({props:a}),Pe.push(()=>Sn(e,"open",r)),i=new kl({props:{open:t[4],$$slots:{default:[Kv]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),o=G(),X(i.$$.fragment)},m(s,u){U(e,s,u),T(s,o,u),U(i,s,u),l=!0},p(s,u){const f={};u[0]&6|u[1]&1&&(f.$$scope={dirty:u,ctx:s}),!n&&u[0]&8&&(n=!0,f.open=s[3],An(()=>n=!1)),e.$set(f);const c={};u[0]&16&&(c.open=s[4]),u[0]&16|u[1]&1&&(c.$$scope={dirty:u,ctx:s}),i.$set(c)},i(s){l||(A(e.$$.fragment,s),A(i.$$.fragment,s),l=!0)},o(s){M(e.$$.fragment,s),M(i.$$.fragment,s),l=!1},d(s){s&&S(o),K(e,s),K(i,s)}}}function eu(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function Jv(t){const e=JSON.parse(t);return e.townInfo!=null&&e.difficulty!=null}function xv(t,e,n){let o,i,l,r,a;se(t,rn,y=>n(23,o=y)),se(t,Oe,y=>n(2,i=y)),se(t,Vi,y=>n(15,l=y)),se(t,Et,y=>n(3,r=y)),se(t,Gi,y=>n(4,a=y));const u=Gn[i.endGoal],f=Pr[i.difficulty]||0;it.sort((y,g)=>w(y.id)&&!w(g.id)?-1:!w(y.id)&&w(g.id)?1:0);const c=it.filter(y=>w(y.id));function d(y){const g=o.achievements.find(I=>I[0]==y);return g==null?0:`${g[1]} in ${g[2]}.`}function p(y){const g=o.achievements.find(I=>I[0]==y);return g==null?!1:g[3]}function m(y){const g=o.achievements.find(N=>N[0]==y);if(g==null)return;const I=it.find(N=>N.id==y);I!=null&&(Se(Oe,i.townInfo.gold+=I.prize,i),g[3]=!0,Se(rn,o.achievements=o.achievements.map(N=>N[0]==y?g:N),o))}let _=it;function v(){const y=JSON.stringify(i),g=new Blob([y],{type:"text/plain"}),I=URL.createObjectURL(g),N=document.createElement("a");N.href=I,N.download=`${new Date().toISOString()}.json`,document.body.appendChild(N),N.click(),document.body.removeChild(N),URL.revokeObjectURL(I)}function C(){const g=document.getElementById("upload").files;if(g==null)return;const I=g[0],N=new FileReader;N.onload=function(B){if(B.target==null)return;const F=B.target.result;if(typeof F=="string"){if(!Jv(F)){Rt.set("Invalid game file");return}Nr(JSON.parse(F))}else Rt.set("Invalid game file: is not String.")},N.readAsText(I)}function w(y){return o.achievements==null?!1:o.achievements.find(g=>g[0]==y)!=null}function k(){Vi.update(y=>!y),localStorage.setItem("showCompletedAchievements",localStorage.getItem("showCompletedAchievements")==="true"?"false":"true")}localStorage.getItem("pauseMenuTab")==null&&(localStorage.setItem("pauseMenuTab","game"),dc.set("game"));function R(){const y=o.achievements[o.achievements.length-1];if(y!=null)return it.find(g=>g.id==y[0])}const $=()=>v(),D=()=>{k()},E=y=>{y.key==="p"&&Et.set(!1)},q=y=>{m(y.id);const g=document.getElementById(`collectPrize-${y.id}`);g&&(g.style.display="none")};function L(y){r=y,Et.set(r)}const H=()=>{Se(Gi,a=!1,a)};return t.$$.update=()=>{if(t.$$.dirty[0]&32774&&i)if(l)n(1,_=it);else{n(1,_=[]);for(let y=0;y<it.length;y++)(!w(it[y].id)||!p(it[y].id))&&_.push(it[y])}},[k,_,i,r,a,u,f,c,d,p,m,v,C,w,R,l,$,D,E,q,L,H]}class Zv extends _e{constructor(e){super(),he(this,e,xv,Xv,ue,{toggleShowCompleted:0},null,[-1,-1])}get toggleShowCompleted(){return this.$$.ctx[0]}}function Qv(){console.log("%cRUNNING STABILITY TESTS...","color: #26bfa5;");let t=0;return console.log("%cPASSED ALL STABILITY TESTS 😍","color: #26bfa5;"),t}function zv(t){let e=t[0].endGameDetails.win==!0?"You won! 🎉":"You lost! 😭",n;return{c(){n=j(e)},m(o,i){T(o,n,i)},p(o,i){i&1&&e!==(e=o[0].endGameDetails.win==!0?"You won! 🎉":"You lost! 😭")&&le(n,e)},d(o){o&&S(n)}}}function ey(t){let e;return{c(){e=j("Keep playin'")},m(n,o){T(n,e,o)},d(n){n&&S(e)}}}function ty(t){let e,n=t[0].endGameDetails.msg+"",o,i,l,r,a,s,u,f;return u=new vt({props:{class:"bg-accent",$$slots:{default:[ey]},$$scope:{ctx:t}}}),u.$on("click",t[2]),{c(){e=O("span"),o=j(n),i=G(),l=O("br"),r=G(),a=O("br"),s=G(),X(u.$$.fragment),P(e,"class","text-gray-500 text-sm")},m(c,d){T(c,e,d),b(e,o),T(c,i,d),T(c,l,d),T(c,r,d),T(c,a,d),T(c,s,d),U(u,c,d),f=!0},p(c,d){(!f||d&1)&&n!==(n=c[0].endGameDetails.msg+"")&&le(o,n);const p={};d&16&&(p.$$scope={dirty:d,ctx:c}),u.$set(p)},i(c){f||(A(u.$$.fragment,c),f=!0)},o(c){M(u.$$.fragment,c),f=!1},d(c){c&&(S(e),S(i),S(l),S(r),S(a),S(s)),K(u,c)}}}function ny(t){let e,n,o,i;return e=new Kn({props:{$$slots:{default:[zv]},$$scope:{ctx:t}}}),o=new xn({props:{$$slots:{default:[ty]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=G(),X(o.$$.fragment)},m(l,r){U(e,l,r),T(l,n,r),U(o,l,r),i=!0},p(l,r){const a={};r&17&&(a.$$scope={dirty:r,ctx:l}),e.$set(a);const s={};r&17&&(s.$$scope={dirty:r,ctx:l}),o.$set(s)},i(l){i||(A(e.$$.fragment,l),A(o.$$.fragment,l),i=!0)},o(l){M(e.$$.fragment,l),M(o.$$.fragment,l),i=!1},d(l){l&&S(n),K(e,l),K(o,l)}}}function oy(t){let e;return{c(){e=O("span"),e.textContent="Reset the game by pressing SHIFT+ESC",P(e,"class","text-gray-500 text-sm")},m(n,o){T(n,e,o)},p:ye,d(n){n&&S(e)}}}function iy(t){let e,n,o,i;return e=new Xn({props:{$$slots:{default:[ny]},$$scope:{ctx:t}}}),o=new Io({props:{$$slots:{default:[oy]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=G(),X(o.$$.fragment)},m(l,r){U(e,l,r),T(l,n,r),U(o,l,r),i=!0},p(l,r){const a={};r&17&&(a.$$scope={dirty:r,ctx:l}),e.$set(a);const s={};r&16&&(s.$$scope={dirty:r,ctx:l}),o.$set(s)},i(l){i||(A(e.$$.fragment,l),A(o.$$.fragment,l),i=!0)},o(l){M(e.$$.fragment,l),M(o.$$.fragment,l),i=!1},d(l){l&&S(n),K(e,l),K(o,l)}}}function ly(t){let e,n;return e=new Jn({props:{class:"bg-foregroundDark text-foregroundText",$$slots:{default:[iy]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const l={};i&17&&(l.$$scope={dirty:i,ctx:o}),e.$set(l)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function ry(t){let e,n,o;function i(r){t[3](r)}let l={$$slots:{default:[ly]},$$scope:{ctx:t}};return t[1]!==void 0&&(l.open=t[1]),e=new Zn({props:l}),Pe.push(()=>Sn(e,"open",i)),{c(){X(e.$$.fragment)},m(r,a){U(e,r,a),o=!0},p(r,[a]){const s={};a&17&&(s.$$scope={dirty:a,ctx:r}),!n&&a&2&&(n=!0,s.open=r[1],An(()=>n=!1)),e.$set(s)},i(r){o||(A(e.$$.fragment,r),o=!0)},o(r){M(e.$$.fragment,r),o=!1},d(r){K(e,r)}}}function sy(t,e,n){let o;se(t,Oe,a=>n(0,o=a));let i=!1;function l(){let a=o;a.overtime=!0,Oe.set(a),n(1,i=!1),Et.set(!1)}function r(a){i=a,n(1,i),n(0,o)}return t.$$.update=()=>{t.$$.dirty&1&&(o.endGameDetails.msg!=""&&o.overtime==!1?n(1,i=!0):n(1,i=!1))},[o,i,l,r]}class ay extends _e{constructor(e){super(),he(this,e,sy,ry,ue,{})}}function uy(t){let e;return{c(){e=j("Welcome to Plots!")},m(n,o){T(n,e,o)},d(n){n&&S(e)}}}function fy(t){let e;return{c(){e=j("Select a map size (difficulty)")},m(n,o){T(n,e,o)},d(n){n&&S(e)}}}function cy(t){let e;return{c(){e=j("Select a game mode")},m(n,o){T(n,e,o)},d(n){n&&S(e)}}}function dy(t){let e;return{c(){e=O("p"),e.textContent=`${Gn.free_play.description_title}`,P(e,"class","text-gray-500 text-sm")},m(n,o){T(n,e,o)},d(n){n&&S(e)}}}function my(t){let e;return{c(){e=O("p"),e.textContent=`${Gn.land.description_title}`,P(e,"class","text-gray-500 text-sm")},m(n,o){T(n,e,o)},d(n){n&&S(e)}}}function py(t){let e;return{c(){e=j("Town Name")},m(n,o){T(n,e,o)},d(n){n&&S(e)}}}function hy(t){let e;return{c(){e=j("Cheats")},m(n,o){T(n,e,o)},d(n){n&&S(e)}}}function _y(t){let e,n,o,i,l,r,a,s,u,f,c,d,p,m,_,v,C,w,k,R,$,D,E,q,L,H,y,g,I,N,B,F,J;l=new ao({props:{for:"difficulty",class:"mt-2",$$slots:{default:[fy]},$$scope:{ctx:t}}}),p=new ao({props:{for:"endGoal",class:"mt-2",$$slots:{default:[cy]},$$scope:{ctx:t}}});function z(W,Y){return W[0]==="land"?my:dy}let Q=z(t),h=Q(t);return $=new ao({props:{for:"townName",class:"mt-2",$$slots:{default:[py]},$$scope:{ctx:t}}}),E=new Hr({props:{id:"townName",class:"mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Will be randomized if you leave blank"}}),H=new ao({props:{for:"cheats",class:"mt-2",$$slots:{default:[hy]},$$scope:{ctx:t}}}),{c(){e=O("a"),e.textContent="GitHub / Learn how to play",n=G(),o=O("div"),i=O("div"),X(l.$$.fragment),r=G(),a=O("select"),s=O("option"),s.textContent="Easy (quick game)",u=O("option"),u.textContent="Normal",f=O("option"),f.textContent="Hard (longest game)",c=G(),d=O("div"),X(p.$$.fragment),m=G(),h.c(),_=G(),v=O("select"),C=O("option"),C.textContent=`${Gn.land.short_title}`,w=O("option"),w.textContent=`${Gn.free_play.short_title}`,k=G(),R=O("div"),X($.$$.fragment),D=G(),X(E.$$.fragment),q=G(),L=O("div"),X(H.$$.fragment),y=G(),g=O("select"),I=O("option"),I.textContent="No cheats",N=O("option"),N.textContent="Dev mode",P(e,"href","https://github.com/josephrcox/plots#how-to-play"),P(e,"class","text-blue-500 text-sm mb-4 hover:underline"),P(e,"target","_blank"),s.__value="0",nn(s,s.__value),u.__value="1",nn(u,u.__value),u.selected=!0,f.__value="2",nn(f,f.__value),P(a,"id","difficulty"),P(a,"class","mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"),C.__value="land",nn(C,C.__value),w.__value="free_play",nn(w,w.__value),P(v,"id","endGoal"),P(v,"class","mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),I.__value="false",nn(I,I.__value),I.selected=!0,N.__value="true",nn(N,N.__value),P(g,"id","cheats"),P(g,"class","mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),P(o,"class","flex flex-col justify-center gap-5 mt-4")},m(W,Y){T(W,e,Y),T(W,n,Y),T(W,o,Y),b(o,i),U(l,i,null),b(i,r),b(i,a),b(a,s),b(a,u),b(a,f),b(o,c),b(o,d),U(p,d,null),b(d,m),h.m(d,null),b(d,_),b(d,v),b(v,C),b(v,w),cs(v,t[0]),b(o,k),b(o,R),U($,R,null),b(R,D),U(E,R,null),b(o,q),b(o,L),U(H,L,null),b(L,y),b(L,g),b(g,I),b(g,N),B=!0,F||(J=te(v,"change",t[4]),F=!0)},p(W,Y){const ne={};Y&256&&(ne.$$scope={dirty:Y,ctx:W}),l.$set(ne);const ee={};Y&256&&(ee.$$scope={dirty:Y,ctx:W}),p.$set(ee),Q!==(Q=z(W))&&(h.d(1),h=Q(W),h&&(h.c(),h.m(d,_))),(!B||Y&1)&&cs(v,W[0]);const x={};Y&256&&(x.$$scope={dirty:Y,ctx:W}),$.$set(x);const we={};Y&256&&(we.$$scope={dirty:Y,ctx:W}),H.$set(we)},i(W){B||(A(l.$$.fragment,W),A(p.$$.fragment,W),A($.$$.fragment,W),A(E.$$.fragment,W),A(H.$$.fragment,W),B=!0)},o(W){M(l.$$.fragment,W),M(p.$$.fragment,W),M($.$$.fragment,W),M(E.$$.fragment,W),M(H.$$.fragment,W),B=!1},d(W){W&&(S(e),S(n),S(o)),K(l),K(p),h.d(),K($),K(E),K(H),F=!1,J()}}}function gy(t){let e,n,o,i;return e=new Kn({props:{$$slots:{default:[uy]},$$scope:{ctx:t}}}),o=new xn({props:{$$slots:{default:[_y]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=G(),X(o.$$.fragment)},m(l,r){U(e,l,r),T(l,n,r),U(o,l,r),i=!0},p(l,r){const a={};r&256&&(a.$$scope={dirty:r,ctx:l}),e.$set(a);const s={};r&257&&(s.$$scope={dirty:r,ctx:l}),o.$set(s)},i(l){i||(A(e.$$.fragment,l),A(o.$$.fragment,l),i=!0)},o(l){M(e.$$.fragment,l),M(o.$$.fragment,l),i=!1},d(l){l&&S(n),K(e,l),K(o,l)}}}function by(t){let e;return{c(){e=j("Reset user")},m(n,o){T(n,e,o)},d(n){n&&S(e)}}}function vy(t){let e,n,o=t[1].username+"",i,l,r,a,s,u,f,c,d;return a=new vt({props:{$$slots:{default:[by]},$$scope:{ctx:t}}}),a.$on("click",t[5]),{c(){e=O("div"),n=O("span"),i=j(o),l=G(),r=O("div"),X(a.$$.fragment),s=G(),u=O("button"),u.textContent="Start game",P(n,"class","italic opacity-30 text-xs py-2 text-start rounded h-full flex flex-col justify-center mr-10"),P(u,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-md"),P(e,"class","flex flex-row justify-between w-full px-1")},m(p,m){T(p,e,m),b(e,n),b(n,i),b(e,l),b(e,r),U(a,r,null),b(r,s),b(r,u),f=!0,c||(d=[te(n,"click",t[6]),te(u,"click",t[3])],c=!0)},p(p,m){(!f||m&2)&&o!==(o=p[1].username+"")&&le(i,o);const _={};m&256&&(_.$$scope={dirty:m,ctx:p}),a.$set(_)},i(p){f||(A(a.$$.fragment,p),f=!0)},o(p){M(a.$$.fragment,p),f=!1},d(p){p&&S(e),K(a),c=!1,$e(d)}}}function yy(t){let e,n,o,i;return e=new Xn({props:{$$slots:{default:[gy]},$$scope:{ctx:t}}}),o=new Io({props:{$$slots:{default:[vy]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=G(),X(o.$$.fragment)},m(l,r){U(e,l,r),T(l,n,r),U(o,l,r),i=!0},p(l,r){const a={};r&257&&(a.$$scope={dirty:r,ctx:l}),e.$set(a);const s={};r&258&&(s.$$scope={dirty:r,ctx:l}),o.$set(s)},i(l){i||(A(e.$$.fragment,l),A(o.$$.fragment,l),i=!0)},o(l){M(e.$$.fragment,l),M(o.$$.fragment,l),i=!1},d(l){l&&S(n),K(e,l),K(o,l)}}}function wy(t){let e,n;return e=new Jn({props:{transition:ml,class:"bg-foregroundDark text-foregroundText",$$slots:{default:[yy]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const l={};i&259&&(l.$$scope={dirty:i,ctx:o}),e.$set(l)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function ky(t){let e,n,o;function i(r){t[7](r)}let l={$$slots:{default:[wy]},$$scope:{ctx:t}};return t[2].visible!==void 0&&(l.open=t[2].visible),e=new Zn({props:l}),Pe.push(()=>Sn(e,"open",i)),{c(){X(e.$$.fragment)},m(r,a){U(e,r,a),o=!0},p(r,[a]){const s={};a&259&&(s.$$scope={dirty:a,ctx:r}),!n&&a&4&&(n=!0,s.open=r[2].visible,An(()=>n=!1)),e.$set(s)},i(r){o||(A(e.$$.fragment,r),o=!0)},o(r){M(e.$$.fragment,r),o=!1},d(r){K(e,r)}}}function Cy(t,e,n){let o,i;se(t,rn,c=>n(1,o=c)),se(t,Ho,c=>n(2,i=c)),Et.set(!1);function l(){const c=document.getElementById("difficulty").value,d=document.getElementById("endGoal").value,p=document.getElementById("townName").value,m=document.getElementById("cheats").value=="true";mm(c,d,p,m)}let r="free_play";const a=c=>{n(0,r=c.target.value)};function s(){Rt.set("Deleted :)"),localStorage.clear(),window.location.href=""}function u(){const c=prompt("Enter new username");let d=o;d.username=c,bm(d)}function f(c){t.$$.not_equal(i.visible,c)&&(i.visible=c,Ho.set(i))}return[r,o,i,l,a,s,u,f]}class Ay extends _e{constructor(e){super(),he(this,e,Cy,ky,ue,{})}}function Sy(t){let e;return{c(){e=j("Scoreboard")},m(n,o){T(n,e,o)},d(n){n&&S(e)}}}function Ty(t){let e=t[1].description_title+"",n;return{c(){n=j(e)},m(o,i){T(o,n,i)},p:ye,d(o){o&&S(n)}}}function Iy(t){let e,n,o,i;return e=new Kn({props:{$$slots:{default:[Sy]},$$scope:{ctx:t}}}),o=new xn({props:{$$slots:{default:[Ty]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=G(),X(o.$$.fragment)},m(l,r){U(e,l,r),T(l,n,r),U(o,l,r),i=!0},p(l,r){const a={};r&128&&(a.$$scope={dirty:r,ctx:l}),e.$set(a);const s={};r&128&&(s.$$scope={dirty:r,ctx:l}),o.$set(s)},i(l){i||(A(e.$$.fragment,l),A(o.$$.fragment,l),i=!0)},o(l){M(e.$$.fragment,l),M(o.$$.fragment,l),i=!1},d(l){l&&S(n),K(e,l),K(o,l)}}}function My(t){let e;return{c(){e=j("footer")},m(n,o){T(n,e,o)},d(n){n&&S(e)}}}function Oy(t){let e,n,o,i;return e=new Xn({props:{$$slots:{default:[Iy]},$$scope:{ctx:t}}}),o=new Io({props:{$$slots:{default:[My]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=j(`
		hi
		`),X(o.$$.fragment)},m(l,r){U(e,l,r),T(l,n,r),U(o,l,r),i=!0},p(l,r){const a={};r&128&&(a.$$scope={dirty:r,ctx:l}),e.$set(a);const s={};r&128&&(s.$$scope={dirty:r,ctx:l}),o.$set(s)},i(l){i||(A(e.$$.fragment,l),A(o.$$.fragment,l),i=!0)},o(l){M(e.$$.fragment,l),M(o.$$.fragment,l),i=!1},d(l){l&&S(n),K(e,l),K(o,l)}}}function Py(t){let e,n;return e=new Jn({props:{$$slots:{default:[Oy]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const l={};i&128&&(l.$$scope={dirty:i,ctx:o}),e.$set(l)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function Ny(t){let e,n,o;function i(r){t[3](r)}let l={$$slots:{default:[Py]},$$scope:{ctx:t}};return t[0]!==void 0&&(l.open=t[0]),e=new Zn({props:l}),Pe.push(()=>Sn(e,"open",i)),{c(){X(e.$$.fragment)},m(r,a){U(e,r,a),o=!0},p(r,[a]){const s={};a&128&&(s.$$scope={dirty:a,ctx:r}),!n&&a&1&&(n=!0,s.open=r[0],An(()=>n=!1)),e.$set(s)},i(r){o||(A(e.$$.fragment,r),o=!0)},o(r){M(e.$$.fragment,r),o=!1},d(r){K(e,r)}}}function Ey(t,e,n){let o,i;se(t,Oe,s=>n(2,o=s)),se(t,_s,s=>n(0,i=s));const r=Gn[o.endGoal];Pr[o.difficulty];function a(s){i=s,_s.set(i)}return t.$$.update=()=>{t.$$.dirty&4},[i,r,o,a]}class Ry extends _e{constructor(e){super(),he(this,e,Ey,Ny,ue,{})}}function Oi(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ly(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function id(t){let e,n,o;t.length!==2?(e=Oi,n=(a,s)=>Oi(t(a),s),o=(a,s)=>t(a)-s):(e=t===Oi||t===Ly?t:Dy,n=t,o=t);function i(a,s,u=0,f=a.length){if(u<f){if(e(s,s)!==0)return f;do{const c=u+f>>>1;n(a[c],s)<0?u=c+1:f=c}while(u<f)}return u}function l(a,s,u=0,f=a.length){if(u<f){if(e(s,s)!==0)return f;do{const c=u+f>>>1;n(a[c],s)<=0?u=c+1:f=c}while(u<f)}return u}function r(a,s,u=0,f=a.length){const c=i(a,s,u,f-1);return c>u&&o(a[c-1],s)>-o(a[c],s)?c-1:c}return{left:i,center:r,right:l}}function Dy(){return 0}function $y(t){return t===null?NaN:+t}const Fy=id(Oi),jy=Fy.right;id($y).center;const By=Math.sqrt(50),qy=Math.sqrt(10),Gy=Math.sqrt(2);function Zi(t,e,n){const o=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(o)),l=o/Math.pow(10,i),r=l>=By?10:l>=qy?5:l>=Gy?2:1;let a,s,u;return i<0?(u=Math.pow(10,-i)/r,a=Math.round(t*u),s=Math.round(e*u),a/u<t&&++a,s/u>e&&--s,u=-u):(u=Math.pow(10,i)*r,a=Math.round(t/u),s=Math.round(e/u),a*u<t&&++a,s*u>e&&--s),s<a&&.5<=n&&n<2?Zi(t,e,n*2):[a,s,u]}function Hy(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const o=e<t,[i,l,r]=o?Zi(e,t,n):Zi(t,e,n);if(!(l>=i))return[];const a=l-i+1,s=new Array(a);if(o)if(r<0)for(let u=0;u<a;++u)s[u]=(l-u)/-r;else for(let u=0;u<a;++u)s[u]=(l-u)*r;else if(r<0)for(let u=0;u<a;++u)s[u]=(i+u)/-r;else for(let u=0;u<a;++u)s[u]=(i+u)*r;return s}function fr(t,e,n){return e=+e,t=+t,n=+n,Zi(t,e,n)[2]}function Vy(t,e,n){e=+e,t=+t,n=+n;const o=e<t,i=o?fr(e,t,n):fr(t,e,n);return(o?-1:1)*(i<0?1/-i:i)}function Wy(t){return t}var Wl=1,Yl=2,cr=3,Fo=4,tu=1e-6;function Yy(t){return"translate("+t+",0)"}function Uy(t){return"translate(0,"+t+")"}function Ky(t){return e=>+t(e)}function Xy(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function Jy(){return!this.__axis}function ld(t,e){var n=[],o=null,i=null,l=6,r=6,a=3,s=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=t===Wl||t===Fo?-1:1,f=t===Fo||t===Yl?"x":"y",c=t===Wl||t===cr?Yy:Uy;function d(p){var m=o??(e.ticks?e.ticks.apply(e,n):e.domain()),_=i??(e.tickFormat?e.tickFormat.apply(e,n):Wy),v=Math.max(l,0)+a,C=e.range(),w=+C[0]+s,k=+C[C.length-1]+s,R=(e.bandwidth?Xy:Ky)(e.copy(),s),$=p.selection?p.selection():p,D=$.selectAll(".domain").data([null]),E=$.selectAll(".tick").data(m,e).order(),q=E.exit(),L=E.enter().append("g").attr("class","tick"),H=E.select("line"),y=E.select("text");D=D.merge(D.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),E=E.merge(L),H=H.merge(L.append("line").attr("stroke","currentColor").attr(f+"2",u*l)),y=y.merge(L.append("text").attr("fill","currentColor").attr(f,u*v).attr("dy",t===Wl?"0em":t===cr?"0.71em":"0.32em")),p!==$&&(D=D.transition(p),E=E.transition(p),H=H.transition(p),y=y.transition(p),q=q.transition(p).attr("opacity",tu).attr("transform",function(g){return isFinite(g=R(g))?c(g+s):this.getAttribute("transform")}),L.attr("opacity",tu).attr("transform",function(g){var I=this.parentNode.__axis;return c((I&&isFinite(I=I(g))?I:R(g))+s)})),q.remove(),D.attr("d",t===Fo||t===Yl?r?"M"+u*r+","+w+"H"+s+"V"+k+"H"+u*r:"M"+s+","+w+"V"+k:r?"M"+w+","+u*r+"V"+s+"H"+k+"V"+u*r:"M"+w+","+s+"H"+k),E.attr("opacity",1).attr("transform",function(g){return c(R(g)+s)}),H.attr(f+"2",u*l),y.attr(f,u*v).text(_),$.filter(Jy).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Yl?"start":t===Fo?"end":"middle"),$.each(function(){this.__axis=R})}return d.scale=function(p){return arguments.length?(e=p,d):e},d.ticks=function(){return n=Array.from(arguments),d},d.tickArguments=function(p){return arguments.length?(n=p==null?[]:Array.from(p),d):n.slice()},d.tickValues=function(p){return arguments.length?(o=p==null?null:Array.from(p),d):o&&o.slice()},d.tickFormat=function(p){return arguments.length?(i=p,d):i},d.tickSize=function(p){return arguments.length?(l=r=+p,d):l},d.tickSizeInner=function(p){return arguments.length?(l=+p,d):l},d.tickSizeOuter=function(p){return arguments.length?(r=+p,d):r},d.tickPadding=function(p){return arguments.length?(a=+p,d):a},d.offset=function(p){return arguments.length?(s=+p,d):s},d}function xy(t){return ld(cr,t)}function Zy(t){return ld(Fo,t)}var Qy={value:()=>{}};function rd(){for(var t=0,e=arguments.length,n={},o;t<e;++t){if(!(o=arguments[t]+"")||o in n||/[\s.]/.test(o))throw new Error("illegal type: "+o);n[o]=[]}return new Pi(n)}function Pi(t){this._=t}function zy(t,e){return t.trim().split(/^|\s+/).map(function(n){var o="",i=n.indexOf(".");if(i>=0&&(o=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:o}})}Pi.prototype=rd.prototype={constructor:Pi,on:function(t,e){var n=this._,o=zy(t+"",n),i,l=-1,r=o.length;if(arguments.length<2){for(;++l<r;)if((i=(t=o[l]).type)&&(i=ew(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++l<r;)if(i=(t=o[l]).type)n[i]=nu(n[i],t.name,e);else if(e==null)for(i in n)n[i]=nu(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Pi(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),o=0,i,l;o<i;++o)n[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(l=this._[t],o=0,i=l.length;o<i;++o)l[o].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var o=this._[t],i=0,l=o.length;i<l;++i)o[i].value.apply(e,n)}};function ew(t,e){for(var n=0,o=t.length,i;n<o;++n)if((i=t[n]).name===e)return i.value}function nu(t,e,n){for(var o=0,i=t.length;o<i;++o)if(t[o].name===e){t[o]=Qy,t=t.slice(0,o).concat(t.slice(o+1));break}return n!=null&&t.push({name:e,value:n}),t}var dr="http://www.w3.org/1999/xhtml";const ou={svg:"http://www.w3.org/2000/svg",xhtml:dr,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Cl(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),ou.hasOwnProperty(e)?{space:ou[e],local:t}:t}function tw(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===dr&&e.documentElement.namespaceURI===dr?e.createElement(t):e.createElementNS(n,t)}}function nw(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function sd(t){var e=Cl(t);return(e.local?nw:tw)(e)}function ow(){}function Yr(t){return t==null?ow:function(){return this.querySelector(t)}}function iw(t){typeof t!="function"&&(t=Yr(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var l=e[i],r=l.length,a=o[i]=new Array(r),s,u,f=0;f<r;++f)(s=l[f])&&(u=t.call(s,s.__data__,f,l))&&("__data__"in s&&(u.__data__=s.__data__),a[f]=u);return new Ot(o,this._parents)}function lw(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function rw(){return[]}function ad(t){return t==null?rw:function(){return this.querySelectorAll(t)}}function sw(t){return function(){return lw(t.apply(this,arguments))}}function aw(t){typeof t=="function"?t=sw(t):t=ad(t);for(var e=this._groups,n=e.length,o=[],i=[],l=0;l<n;++l)for(var r=e[l],a=r.length,s,u=0;u<a;++u)(s=r[u])&&(o.push(t.call(s,s.__data__,u,r)),i.push(s));return new Ot(o,i)}function ud(t){return function(){return this.matches(t)}}function fd(t){return function(e){return e.matches(t)}}var uw=Array.prototype.find;function fw(t){return function(){return uw.call(this.children,t)}}function cw(){return this.firstElementChild}function dw(t){return this.select(t==null?cw:fw(typeof t=="function"?t:fd(t)))}var mw=Array.prototype.filter;function pw(){return Array.from(this.children)}function hw(t){return function(){return mw.call(this.children,t)}}function _w(t){return this.selectAll(t==null?pw:hw(typeof t=="function"?t:fd(t)))}function gw(t){typeof t!="function"&&(t=ud(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var l=e[i],r=l.length,a=o[i]=[],s,u=0;u<r;++u)(s=l[u])&&t.call(s,s.__data__,u,l)&&a.push(s);return new Ot(o,this._parents)}function cd(t){return new Array(t.length)}function bw(){return new Ot(this._enter||this._groups.map(cd),this._parents)}function Qi(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Qi.prototype={constructor:Qi,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function vw(t){return function(){return t}}function yw(t,e,n,o,i,l){for(var r=0,a,s=e.length,u=l.length;r<u;++r)(a=e[r])?(a.__data__=l[r],o[r]=a):n[r]=new Qi(t,l[r]);for(;r<s;++r)(a=e[r])&&(i[r]=a)}function ww(t,e,n,o,i,l,r){var a,s,u=new Map,f=e.length,c=l.length,d=new Array(f),p;for(a=0;a<f;++a)(s=e[a])&&(d[a]=p=r.call(s,s.__data__,a,e)+"",u.has(p)?i[a]=s:u.set(p,s));for(a=0;a<c;++a)p=r.call(t,l[a],a,l)+"",(s=u.get(p))?(o[a]=s,s.__data__=l[a],u.delete(p)):n[a]=new Qi(t,l[a]);for(a=0;a<f;++a)(s=e[a])&&u.get(d[a])===s&&(i[a]=s)}function kw(t){return t.__data__}function Cw(t,e){if(!arguments.length)return Array.from(this,kw);var n=e?ww:yw,o=this._parents,i=this._groups;typeof t!="function"&&(t=vw(t));for(var l=i.length,r=new Array(l),a=new Array(l),s=new Array(l),u=0;u<l;++u){var f=o[u],c=i[u],d=c.length,p=Aw(t.call(f,f&&f.__data__,u,o)),m=p.length,_=a[u]=new Array(m),v=r[u]=new Array(m),C=s[u]=new Array(d);n(f,c,_,v,C,p,e);for(var w=0,k=0,R,$;w<m;++w)if(R=_[w]){for(w>=k&&(k=w+1);!($=v[k])&&++k<m;);R._next=$||null}}return r=new Ot(r,o),r._enter=a,r._exit=s,r}function Aw(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Sw(){return new Ot(this._exit||this._groups.map(cd),this._parents)}function Tw(t,e,n){var o=this.enter(),i=this,l=this.exit();return typeof t=="function"?(o=t(o),o&&(o=o.selection())):o=o.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?l.remove():n(l),o&&i?o.merge(i).order():i}function Iw(t){for(var e=t.selection?t.selection():t,n=this._groups,o=e._groups,i=n.length,l=o.length,r=Math.min(i,l),a=new Array(i),s=0;s<r;++s)for(var u=n[s],f=o[s],c=u.length,d=a[s]=new Array(c),p,m=0;m<c;++m)(p=u[m]||f[m])&&(d[m]=p);for(;s<i;++s)a[s]=n[s];return new Ot(a,this._parents)}function Mw(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var o=t[e],i=o.length-1,l=o[i],r;--i>=0;)(r=o[i])&&(l&&r.compareDocumentPosition(l)^4&&l.parentNode.insertBefore(r,l),l=r);return this}function Ow(t){t||(t=Pw);function e(c,d){return c&&d?t(c.__data__,d.__data__):!c-!d}for(var n=this._groups,o=n.length,i=new Array(o),l=0;l<o;++l){for(var r=n[l],a=r.length,s=i[l]=new Array(a),u,f=0;f<a;++f)(u=r[f])&&(s[f]=u);s.sort(e)}return new Ot(i,this._parents).order()}function Pw(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Nw(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Ew(){return Array.from(this)}function Rw(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var o=t[e],i=0,l=o.length;i<l;++i){var r=o[i];if(r)return r}return null}function Lw(){let t=0;for(const e of this)++t;return t}function Dw(){return!this.node()}function $w(t){for(var e=this._groups,n=0,o=e.length;n<o;++n)for(var i=e[n],l=0,r=i.length,a;l<r;++l)(a=i[l])&&t.call(a,a.__data__,l,i);return this}function Fw(t){return function(){this.removeAttribute(t)}}function jw(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Bw(t,e){return function(){this.setAttribute(t,e)}}function qw(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Gw(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Hw(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Vw(t,e){var n=Cl(t);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((e==null?n.local?jw:Fw:typeof e=="function"?n.local?Hw:Gw:n.local?qw:Bw)(n,e))}function dd(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Ww(t){return function(){this.style.removeProperty(t)}}function Yw(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Uw(t,e,n){return function(){var o=e.apply(this,arguments);o==null?this.style.removeProperty(t):this.style.setProperty(t,o,n)}}function Kw(t,e,n){return arguments.length>1?this.each((e==null?Ww:typeof e=="function"?Uw:Yw)(t,e,n??"")):vo(this.node(),t)}function vo(t,e){return t.style.getPropertyValue(e)||dd(t).getComputedStyle(t,null).getPropertyValue(e)}function Xw(t){return function(){delete this[t]}}function Jw(t,e){return function(){this[t]=e}}function xw(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Zw(t,e){return arguments.length>1?this.each((e==null?Xw:typeof e=="function"?xw:Jw)(t,e)):this.node()[t]}function md(t){return t.trim().split(/^|\s+/)}function Ur(t){return t.classList||new pd(t)}function pd(t){this._node=t,this._names=md(t.getAttribute("class")||"")}pd.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function hd(t,e){for(var n=Ur(t),o=-1,i=e.length;++o<i;)n.add(e[o])}function _d(t,e){for(var n=Ur(t),o=-1,i=e.length;++o<i;)n.remove(e[o])}function Qw(t){return function(){hd(this,t)}}function zw(t){return function(){_d(this,t)}}function e2(t,e){return function(){(e.apply(this,arguments)?hd:_d)(this,t)}}function t2(t,e){var n=md(t+"");if(arguments.length<2){for(var o=Ur(this.node()),i=-1,l=n.length;++i<l;)if(!o.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?e2:e?Qw:zw)(n,e))}function n2(){this.textContent=""}function o2(t){return function(){this.textContent=t}}function i2(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function l2(t){return arguments.length?this.each(t==null?n2:(typeof t=="function"?i2:o2)(t)):this.node().textContent}function r2(){this.innerHTML=""}function s2(t){return function(){this.innerHTML=t}}function a2(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function u2(t){return arguments.length?this.each(t==null?r2:(typeof t=="function"?a2:s2)(t)):this.node().innerHTML}function f2(){this.nextSibling&&this.parentNode.appendChild(this)}function c2(){return this.each(f2)}function d2(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function m2(){return this.each(d2)}function p2(t){var e=typeof t=="function"?t:sd(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function h2(){return null}function _2(t,e){var n=typeof t=="function"?t:sd(t),o=e==null?h2:typeof e=="function"?e:Yr(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)})}function g2(){var t=this.parentNode;t&&t.removeChild(this)}function b2(){return this.each(g2)}function v2(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function y2(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function w2(t){return this.select(t?y2:v2)}function k2(t){return arguments.length?this.property("__data__",t):this.node().__data__}function C2(t){return function(e){t.call(this,e,this.__data__)}}function A2(t){return t.trim().split(/^|\s+/).map(function(e){var n="",o=e.indexOf(".");return o>=0&&(n=e.slice(o+1),e=e.slice(0,o)),{type:e,name:n}})}function S2(t){return function(){var e=this.__on;if(e){for(var n=0,o=-1,i=e.length,l;n<i;++n)l=e[n],(!t.type||l.type===t.type)&&l.name===t.name?this.removeEventListener(l.type,l.listener,l.options):e[++o]=l;++o?e.length=o:delete this.__on}}}function T2(t,e,n){return function(){var o=this.__on,i,l=C2(e);if(o){for(var r=0,a=o.length;r<a;++r)if((i=o[r]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=l,i.options=n),i.value=e;return}}this.addEventListener(t.type,l,n),i={type:t.type,name:t.name,value:e,listener:l,options:n},o?o.push(i):this.__on=[i]}}function I2(t,e,n){var o=A2(t+""),i,l=o.length,r;if(arguments.length<2){var a=this.node().__on;if(a){for(var s=0,u=a.length,f;s<u;++s)for(i=0,f=a[s];i<l;++i)if((r=o[i]).type===f.type&&r.name===f.name)return f.value}return}for(a=e?T2:S2,i=0;i<l;++i)this.each(a(o[i],e,n));return this}function gd(t,e,n){var o=dd(t),i=o.CustomEvent;typeof i=="function"?i=new i(e,n):(i=o.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function M2(t,e){return function(){return gd(this,t,e)}}function O2(t,e){return function(){return gd(this,t,e.apply(this,arguments))}}function P2(t,e){return this.each((typeof e=="function"?O2:M2)(t,e))}function*N2(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var o=t[e],i=0,l=o.length,r;i<l;++i)(r=o[i])&&(yield r)}var bd=[null];function Ot(t,e){this._groups=t,this._parents=e}function ti(){return new Ot([[document.documentElement]],bd)}function E2(){return this}Ot.prototype=ti.prototype={constructor:Ot,select:iw,selectAll:aw,selectChild:dw,selectChildren:_w,filter:gw,data:Cw,enter:bw,exit:Sw,join:Tw,merge:Iw,selection:E2,order:Mw,sort:Ow,call:Nw,nodes:Ew,node:Rw,size:Lw,empty:Dw,each:$w,attr:Vw,style:Kw,property:Zw,classed:t2,text:l2,html:u2,raise:c2,lower:m2,append:p2,insert:_2,remove:b2,clone:w2,datum:k2,on:I2,dispatch:P2,[Symbol.iterator]:N2};function R2(t){return typeof t=="string"?new Ot([[document.querySelector(t)]],[document.documentElement]):new Ot([[t]],bd)}function Kr(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function vd(t,e){var n=Object.create(t.prototype);for(var o in e)n[o]=e[o];return n}function ni(){}var Jo=.7,zi=1/Jo,po="\\s*([+-]?\\d+)\\s*",xo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ut="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",L2=/^#([0-9a-f]{3,8})$/,D2=new RegExp(`^rgb\\(${po},${po},${po}\\)$`),$2=new RegExp(`^rgb\\(${Ut},${Ut},${Ut}\\)$`),F2=new RegExp(`^rgba\\(${po},${po},${po},${xo}\\)$`),j2=new RegExp(`^rgba\\(${Ut},${Ut},${Ut},${xo}\\)$`),B2=new RegExp(`^hsl\\(${xo},${Ut},${Ut}\\)$`),q2=new RegExp(`^hsla\\(${xo},${Ut},${Ut},${xo}\\)$`),iu={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Kr(ni,Hn,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:lu,formatHex:lu,formatHex8:G2,formatHsl:H2,formatRgb:ru,toString:ru});function lu(){return this.rgb().formatHex()}function G2(){return this.rgb().formatHex8()}function H2(){return yd(this).formatHsl()}function ru(){return this.rgb().formatRgb()}function Hn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=L2.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?su(e):n===3?new Ct(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?wi(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?wi(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=D2.exec(t))?new Ct(e[1],e[2],e[3],1):(e=$2.exec(t))?new Ct(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=F2.exec(t))?wi(e[1],e[2],e[3],e[4]):(e=j2.exec(t))?wi(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=B2.exec(t))?fu(e[1],e[2]/100,e[3]/100,1):(e=q2.exec(t))?fu(e[1],e[2]/100,e[3]/100,e[4]):iu.hasOwnProperty(t)?su(iu[t]):t==="transparent"?new Ct(NaN,NaN,NaN,0):null}function su(t){return new Ct(t>>16&255,t>>8&255,t&255,1)}function wi(t,e,n,o){return o<=0&&(t=e=n=NaN),new Ct(t,e,n,o)}function V2(t){return t instanceof ni||(t=Hn(t)),t?(t=t.rgb(),new Ct(t.r,t.g,t.b,t.opacity)):new Ct}function mr(t,e,n,o){return arguments.length===1?V2(t):new Ct(t,e,n,o??1)}function Ct(t,e,n,o){this.r=+t,this.g=+e,this.b=+n,this.opacity=+o}Kr(Ct,mr,vd(ni,{brighter(t){return t=t==null?zi:Math.pow(zi,t),new Ct(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Jo:Math.pow(Jo,t),new Ct(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ct(Dn(this.r),Dn(this.g),Dn(this.b),el(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:au,formatHex:au,formatHex8:W2,formatRgb:uu,toString:uu}));function au(){return`#${En(this.r)}${En(this.g)}${En(this.b)}`}function W2(){return`#${En(this.r)}${En(this.g)}${En(this.b)}${En((isNaN(this.opacity)?1:this.opacity)*255)}`}function uu(){const t=el(this.opacity);return`${t===1?"rgb(":"rgba("}${Dn(this.r)}, ${Dn(this.g)}, ${Dn(this.b)}${t===1?")":`, ${t})`}`}function el(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Dn(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function En(t){return t=Dn(t),(t<16?"0":"")+t.toString(16)}function fu(t,e,n,o){return o<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new jt(t,e,n,o)}function yd(t){if(t instanceof jt)return new jt(t.h,t.s,t.l,t.opacity);if(t instanceof ni||(t=Hn(t)),!t)return new jt;if(t instanceof jt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,o=t.b/255,i=Math.min(e,n,o),l=Math.max(e,n,o),r=NaN,a=l-i,s=(l+i)/2;return a?(e===l?r=(n-o)/a+(n<o)*6:n===l?r=(o-e)/a+2:r=(e-n)/a+4,a/=s<.5?l+i:2-l-i,r*=60):a=s>0&&s<1?0:r,new jt(r,a,s,t.opacity)}function Y2(t,e,n,o){return arguments.length===1?yd(t):new jt(t,e,n,o??1)}function jt(t,e,n,o){this.h=+t,this.s=+e,this.l=+n,this.opacity=+o}Kr(jt,Y2,vd(ni,{brighter(t){return t=t==null?zi:Math.pow(zi,t),new jt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Jo:Math.pow(Jo,t),new jt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*e,i=2*n-o;return new Ct(Ul(t>=240?t-240:t+120,i,o),Ul(t,i,o),Ul(t<120?t+240:t-120,i,o),this.opacity)},clamp(){return new jt(cu(this.h),ki(this.s),ki(this.l),el(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=el(this.opacity);return`${t===1?"hsl(":"hsla("}${cu(this.h)}, ${ki(this.s)*100}%, ${ki(this.l)*100}%${t===1?")":`, ${t})`}`}}));function cu(t){return t=(t||0)%360,t<0?t+360:t}function ki(t){return Math.max(0,Math.min(1,t||0))}function Ul(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Xr=t=>()=>t;function U2(t,e){return function(n){return t+n*e}}function K2(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(o){return Math.pow(t+o*e,n)}}function X2(t){return(t=+t)==1?wd:function(e,n){return n-e?K2(e,n,t):Xr(isNaN(e)?n:e)}}function wd(t,e){var n=e-t;return n?U2(t,n):Xr(isNaN(t)?e:t)}const tl=function t(e){var n=X2(e);function o(i,l){var r=n((i=mr(i)).r,(l=mr(l)).r),a=n(i.g,l.g),s=n(i.b,l.b),u=wd(i.opacity,l.opacity);return function(f){return i.r=r(f),i.g=a(f),i.b=s(f),i.opacity=u(f),i+""}}return o.gamma=t,o}(1);function J2(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,o=e.slice(),i;return function(l){for(i=0;i<n;++i)o[i]=t[i]*(1-l)+e[i]*l;return o}}function x2(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Z2(t,e){var n=e?e.length:0,o=t?Math.min(n,t.length):0,i=new Array(o),l=new Array(n),r;for(r=0;r<o;++r)i[r]=Jr(t[r],e[r]);for(;r<n;++r)l[r]=e[r];return function(a){for(r=0;r<o;++r)l[r]=i[r](a);return l}}function Q2(t,e){var n=new Date;return t=+t,e=+e,function(o){return n.setTime(t*(1-o)+e*o),n}}function Ft(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function z2(t,e){var n={},o={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Jr(t[i],e[i]):o[i]=e[i];return function(l){for(i in n)o[i]=n[i](l);return o}}var pr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Kl=new RegExp(pr.source,"g");function ek(t){return function(){return t}}function tk(t){return function(e){return t(e)+""}}function kd(t,e){var n=pr.lastIndex=Kl.lastIndex=0,o,i,l,r=-1,a=[],s=[];for(t=t+"",e=e+"";(o=pr.exec(t))&&(i=Kl.exec(e));)(l=i.index)>n&&(l=e.slice(n,l),a[r]?a[r]+=l:a[++r]=l),(o=o[0])===(i=i[0])?a[r]?a[r]+=i:a[++r]=i:(a[++r]=null,s.push({i:r,x:Ft(o,i)})),n=Kl.lastIndex;return n<e.length&&(l=e.slice(n),a[r]?a[r]+=l:a[++r]=l),a.length<2?s[0]?tk(s[0].x):ek(e):(e=s.length,function(u){for(var f=0,c;f<e;++f)a[(c=s[f]).i]=c.x(u);return a.join("")})}function Jr(t,e){var n=typeof e,o;return e==null||n==="boolean"?Xr(e):(n==="number"?Ft:n==="string"?(o=Hn(e))?(e=o,tl):kd:e instanceof Hn?tl:e instanceof Date?Q2:x2(e)?J2:Array.isArray(e)?Z2:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?z2:Ft)(t,e)}function nk(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var du=180/Math.PI,hr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Cd(t,e,n,o,i,l){var r,a,s;return(r=Math.sqrt(t*t+e*e))&&(t/=r,e/=r),(s=t*n+e*o)&&(n-=t*s,o-=e*s),(a=Math.sqrt(n*n+o*o))&&(n/=a,o/=a,s/=a),t*o<e*n&&(t=-t,e=-e,s=-s,r=-r),{translateX:i,translateY:l,rotate:Math.atan2(e,t)*du,skewX:Math.atan(s)*du,scaleX:r,scaleY:a}}var Ci;function ok(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?hr:Cd(e.a,e.b,e.c,e.d,e.e,e.f)}function ik(t){return t==null||(Ci||(Ci=document.createElementNS("http://www.w3.org/2000/svg","g")),Ci.setAttribute("transform",t),!(t=Ci.transform.baseVal.consolidate()))?hr:(t=t.matrix,Cd(t.a,t.b,t.c,t.d,t.e,t.f))}function Ad(t,e,n,o){function i(u){return u.length?u.pop()+" ":""}function l(u,f,c,d,p,m){if(u!==c||f!==d){var _=p.push("translate(",null,e,null,n);m.push({i:_-4,x:Ft(u,c)},{i:_-2,x:Ft(f,d)})}else(c||d)&&p.push("translate("+c+e+d+n)}function r(u,f,c,d){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),d.push({i:c.push(i(c)+"rotate(",null,o)-2,x:Ft(u,f)})):f&&c.push(i(c)+"rotate("+f+o)}function a(u,f,c,d){u!==f?d.push({i:c.push(i(c)+"skewX(",null,o)-2,x:Ft(u,f)}):f&&c.push(i(c)+"skewX("+f+o)}function s(u,f,c,d,p,m){if(u!==c||f!==d){var _=p.push(i(p)+"scale(",null,",",null,")");m.push({i:_-4,x:Ft(u,c)},{i:_-2,x:Ft(f,d)})}else(c!==1||d!==1)&&p.push(i(p)+"scale("+c+","+d+")")}return function(u,f){var c=[],d=[];return u=t(u),f=t(f),l(u.translateX,u.translateY,f.translateX,f.translateY,c,d),r(u.rotate,f.rotate,c,d),a(u.skewX,f.skewX,c,d),s(u.scaleX,u.scaleY,f.scaleX,f.scaleY,c,d),u=f=null,function(p){for(var m=-1,_=d.length,v;++m<_;)c[(v=d[m]).i]=v.x(p);return c.join("")}}}var lk=Ad(ok,"px, ","px)","deg)"),rk=Ad(ik,", ",")",")"),yo=0,jo=0,Do=0,Sd=1e3,nl,Bo,ol=0,Vn=0,Al=0,Zo=typeof performance=="object"&&performance.now?performance:Date,Td=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function xr(){return Vn||(Td(sk),Vn=Zo.now()+Al)}function sk(){Vn=0}function il(){this._call=this._time=this._next=null}il.prototype=Id.prototype={constructor:il,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?xr():+n)+(e==null?0:+e),!this._next&&Bo!==this&&(Bo?Bo._next=this:nl=this,Bo=this),this._call=t,this._time=n,_r()},stop:function(){this._call&&(this._call=null,this._time=1/0,_r())}};function Id(t,e,n){var o=new il;return o.restart(t,e,n),o}function ak(){xr(),++yo;for(var t=nl,e;t;)(e=Vn-t._time)>=0&&t._call.call(void 0,e),t=t._next;--yo}function mu(){Vn=(ol=Zo.now())+Al,yo=jo=0;try{ak()}finally{yo=0,fk(),Vn=0}}function uk(){var t=Zo.now(),e=t-ol;e>Sd&&(Al-=e,ol=t)}function fk(){for(var t,e=nl,n,o=1/0;e;)e._call?(o>e._time&&(o=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:nl=n);Bo=t,_r(o)}function _r(t){if(!yo){jo&&(jo=clearTimeout(jo));var e=t-Vn;e>24?(t<1/0&&(jo=setTimeout(mu,t-Zo.now()-Al)),Do&&(Do=clearInterval(Do))):(Do||(ol=Zo.now(),Do=setInterval(uk,Sd)),yo=1,Td(mu))}}function pu(t,e,n){var o=new il;return e=e==null?0:+e,o.restart(i=>{o.stop(),t(i+e)},e,n),o}var ck=rd("start","end","cancel","interrupt"),dk=[],Md=0,hu=1,gr=2,Ni=3,_u=4,br=5,Ei=6;function Sl(t,e,n,o,i,l){var r=t.__transition;if(!r)t.__transition={};else if(n in r)return;mk(t,n,{name:e,index:o,group:i,on:ck,tween:dk,time:l.time,delay:l.delay,duration:l.duration,ease:l.ease,timer:null,state:Md})}function Zr(t,e){var n=qt(t,e);if(n.state>Md)throw new Error("too late; already scheduled");return n}function Qt(t,e){var n=qt(t,e);if(n.state>Ni)throw new Error("too late; already running");return n}function qt(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function mk(t,e,n){var o=t.__transition,i;o[e]=n,n.timer=Id(l,0,n.time);function l(u){n.state=hu,n.timer.restart(r,n.delay,n.time),n.delay<=u&&r(u-n.delay)}function r(u){var f,c,d,p;if(n.state!==hu)return s();for(f in o)if(p=o[f],p.name===n.name){if(p.state===Ni)return pu(r);p.state===_u?(p.state=Ei,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete o[f]):+f<e&&(p.state=Ei,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete o[f])}if(pu(function(){n.state===Ni&&(n.state=_u,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=gr,n.on.call("start",t,t.__data__,n.index,n.group),n.state===gr){for(n.state=Ni,i=new Array(d=n.tween.length),f=0,c=-1;f<d;++f)(p=n.tween[f].value.call(t,t.__data__,n.index,n.group))&&(i[++c]=p);i.length=c+1}}function a(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(s),n.state=br,1),c=-1,d=i.length;++c<d;)i[c].call(t,f);n.state===br&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){n.state=Ei,n.timer.stop(),delete o[e];for(var u in o)return;delete t.__transition}}function pk(t,e){var n=t.__transition,o,i,l=!0,r;if(n){e=e==null?null:e+"";for(r in n){if((o=n[r]).name!==e){l=!1;continue}i=o.state>gr&&o.state<br,o.state=Ei,o.timer.stop(),o.on.call(i?"interrupt":"cancel",t,t.__data__,o.index,o.group),delete n[r]}l&&delete t.__transition}}function hk(t){return this.each(function(){pk(this,t)})}function _k(t,e){var n,o;return function(){var i=Qt(this,t),l=i.tween;if(l!==n){o=n=l;for(var r=0,a=o.length;r<a;++r)if(o[r].name===e){o=o.slice(),o.splice(r,1);break}}i.tween=o}}function gk(t,e,n){var o,i;if(typeof n!="function")throw new Error;return function(){var l=Qt(this,t),r=l.tween;if(r!==o){i=(o=r).slice();for(var a={name:e,value:n},s=0,u=i.length;s<u;++s)if(i[s].name===e){i[s]=a;break}s===u&&i.push(a)}l.tween=i}}function bk(t,e){var n=this._id;if(t+="",arguments.length<2){for(var o=qt(this.node(),n).tween,i=0,l=o.length,r;i<l;++i)if((r=o[i]).name===t)return r.value;return null}return this.each((e==null?_k:gk)(n,t,e))}function Qr(t,e,n){var o=t._id;return t.each(function(){var i=Qt(this,o);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return qt(i,o).value[e]}}function Od(t,e){var n;return(typeof e=="number"?Ft:e instanceof Hn?tl:(n=Hn(e))?(e=n,tl):kd)(t,e)}function vk(t){return function(){this.removeAttribute(t)}}function yk(t){return function(){this.removeAttributeNS(t.space,t.local)}}function wk(t,e,n){var o,i=n+"",l;return function(){var r=this.getAttribute(t);return r===i?null:r===o?l:l=e(o=r,n)}}function kk(t,e,n){var o,i=n+"",l;return function(){var r=this.getAttributeNS(t.space,t.local);return r===i?null:r===o?l:l=e(o=r,n)}}function Ck(t,e,n){var o,i,l;return function(){var r,a=n(this),s;return a==null?void this.removeAttribute(t):(r=this.getAttribute(t),s=a+"",r===s?null:r===o&&s===i?l:(i=s,l=e(o=r,a)))}}function Ak(t,e,n){var o,i,l;return function(){var r,a=n(this),s;return a==null?void this.removeAttributeNS(t.space,t.local):(r=this.getAttributeNS(t.space,t.local),s=a+"",r===s?null:r===o&&s===i?l:(i=s,l=e(o=r,a)))}}function Sk(t,e){var n=Cl(t),o=n==="transform"?rk:Od;return this.attrTween(t,typeof e=="function"?(n.local?Ak:Ck)(n,o,Qr(this,"attr."+t,e)):e==null?(n.local?yk:vk)(n):(n.local?kk:wk)(n,o,e))}function Tk(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Ik(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Mk(t,e){var n,o;function i(){var l=e.apply(this,arguments);return l!==o&&(n=(o=l)&&Ik(t,l)),n}return i._value=e,i}function Ok(t,e){var n,o;function i(){var l=e.apply(this,arguments);return l!==o&&(n=(o=l)&&Tk(t,l)),n}return i._value=e,i}function Pk(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var o=Cl(t);return this.tween(n,(o.local?Mk:Ok)(o,e))}function Nk(t,e){return function(){Zr(this,t).delay=+e.apply(this,arguments)}}function Ek(t,e){return e=+e,function(){Zr(this,t).delay=e}}function Rk(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Nk:Ek)(e,t)):qt(this.node(),e).delay}function Lk(t,e){return function(){Qt(this,t).duration=+e.apply(this,arguments)}}function Dk(t,e){return e=+e,function(){Qt(this,t).duration=e}}function $k(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Lk:Dk)(e,t)):qt(this.node(),e).duration}function Fk(t,e){if(typeof e!="function")throw new Error;return function(){Qt(this,t).ease=e}}function jk(t){var e=this._id;return arguments.length?this.each(Fk(e,t)):qt(this.node(),e).ease}function Bk(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Qt(this,t).ease=n}}function qk(t){if(typeof t!="function")throw new Error;return this.each(Bk(this._id,t))}function Gk(t){typeof t!="function"&&(t=ud(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var l=e[i],r=l.length,a=o[i]=[],s,u=0;u<r;++u)(s=l[u])&&t.call(s,s.__data__,u,l)&&a.push(s);return new un(o,this._parents,this._name,this._id)}function Hk(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,o=e.length,i=n.length,l=Math.min(o,i),r=new Array(o),a=0;a<l;++a)for(var s=e[a],u=n[a],f=s.length,c=r[a]=new Array(f),d,p=0;p<f;++p)(d=s[p]||u[p])&&(c[p]=d);for(;a<o;++a)r[a]=e[a];return new un(r,this._parents,this._name,this._id)}function Vk(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Wk(t,e,n){var o,i,l=Vk(e)?Zr:Qt;return function(){var r=l(this,t),a=r.on;a!==o&&(i=(o=a).copy()).on(e,n),r.on=i}}function Yk(t,e){var n=this._id;return arguments.length<2?qt(this.node(),n).on.on(t):this.each(Wk(n,t,e))}function Uk(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Kk(){return this.on("end.remove",Uk(this._id))}function Xk(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Yr(t));for(var o=this._groups,i=o.length,l=new Array(i),r=0;r<i;++r)for(var a=o[r],s=a.length,u=l[r]=new Array(s),f,c,d=0;d<s;++d)(f=a[d])&&(c=t.call(f,f.__data__,d,a))&&("__data__"in f&&(c.__data__=f.__data__),u[d]=c,Sl(u[d],e,n,d,u,qt(f,n)));return new un(l,this._parents,e,n)}function Jk(t){var e=this._name,n=this._id;typeof t!="function"&&(t=ad(t));for(var o=this._groups,i=o.length,l=[],r=[],a=0;a<i;++a)for(var s=o[a],u=s.length,f,c=0;c<u;++c)if(f=s[c]){for(var d=t.call(f,f.__data__,c,s),p,m=qt(f,n),_=0,v=d.length;_<v;++_)(p=d[_])&&Sl(p,e,n,_,d,m);l.push(d),r.push(f)}return new un(l,r,e,n)}var xk=ti.prototype.constructor;function Zk(){return new xk(this._groups,this._parents)}function Qk(t,e){var n,o,i;return function(){var l=vo(this,t),r=(this.style.removeProperty(t),vo(this,t));return l===r?null:l===n&&r===o?i:i=e(n=l,o=r)}}function Pd(t){return function(){this.style.removeProperty(t)}}function zk(t,e,n){var o,i=n+"",l;return function(){var r=vo(this,t);return r===i?null:r===o?l:l=e(o=r,n)}}function e5(t,e,n){var o,i,l;return function(){var r=vo(this,t),a=n(this),s=a+"";return a==null&&(s=a=(this.style.removeProperty(t),vo(this,t))),r===s?null:r===o&&s===i?l:(i=s,l=e(o=r,a))}}function t5(t,e){var n,o,i,l="style."+e,r="end."+l,a;return function(){var s=Qt(this,t),u=s.on,f=s.value[l]==null?a||(a=Pd(e)):void 0;(u!==n||i!==f)&&(o=(n=u).copy()).on(r,i=f),s.on=o}}function n5(t,e,n){var o=(t+="")=="transform"?lk:Od;return e==null?this.styleTween(t,Qk(t,o)).on("end.style."+t,Pd(t)):typeof e=="function"?this.styleTween(t,e5(t,o,Qr(this,"style."+t,e))).each(t5(this._id,t)):this.styleTween(t,zk(t,o,e),n).on("end.style."+t,null)}function o5(t,e,n){return function(o){this.style.setProperty(t,e.call(this,o),n)}}function i5(t,e,n){var o,i;function l(){var r=e.apply(this,arguments);return r!==i&&(o=(i=r)&&o5(t,r,n)),o}return l._value=e,l}function l5(t,e,n){var o="style."+(t+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(e==null)return this.tween(o,null);if(typeof e!="function")throw new Error;return this.tween(o,i5(t,e,n??""))}function r5(t){return function(){this.textContent=t}}function s5(t){return function(){var e=t(this);this.textContent=e??""}}function a5(t){return this.tween("text",typeof t=="function"?s5(Qr(this,"text",t)):r5(t==null?"":t+""))}function u5(t){return function(e){this.textContent=t.call(this,e)}}function f5(t){var e,n;function o(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&u5(i)),e}return o._value=t,o}function c5(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,f5(t))}function d5(){for(var t=this._name,e=this._id,n=Nd(),o=this._groups,i=o.length,l=0;l<i;++l)for(var r=o[l],a=r.length,s,u=0;u<a;++u)if(s=r[u]){var f=qt(s,e);Sl(s,t,n,u,r,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new un(o,this._parents,t,n)}function m5(){var t,e,n=this,o=n._id,i=n.size();return new Promise(function(l,r){var a={value:r},s={value:function(){--i===0&&l()}};n.each(function(){var u=Qt(this,o),f=u.on;f!==t&&(e=(t=f).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(s)),u.on=e}),i===0&&l()})}var p5=0;function un(t,e,n,o){this._groups=t,this._parents=e,this._name=n,this._id=o}function Nd(){return++p5}var en=ti.prototype;un.prototype={constructor:un,select:Xk,selectAll:Jk,selectChild:en.selectChild,selectChildren:en.selectChildren,filter:Gk,merge:Hk,selection:Zk,transition:d5,call:en.call,nodes:en.nodes,node:en.node,size:en.size,empty:en.empty,each:en.each,on:Yk,attr:Sk,attrTween:Pk,style:n5,styleTween:l5,text:a5,textTween:c5,remove:Kk,tween:bk,delay:Rk,duration:$k,ease:jk,easeVarying:qk,end:m5,[Symbol.iterator]:en[Symbol.iterator]};function h5(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var _5={time:null,delay:0,duration:250,ease:h5};function g5(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function b5(t){var e,n;t instanceof un?(e=t._id,t=t._name):(e=Nd(),(n=_5).time=xr(),t=t==null?null:t+"");for(var o=this._groups,i=o.length,l=0;l<i;++l)for(var r=o[l],a=r.length,s,u=0;u<a;++u)(s=r[u])&&Sl(s,t,e,u,r,n||g5(s,e));return new un(o,this._parents,t,e)}ti.prototype.interrupt=hk;ti.prototype.transition=b5;const vr=Math.PI,yr=2*vr,Mn=1e-6,v5=yr-Mn;function Ed(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function y5(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Ed;const n=10**e;return function(o){this._+=o[0];for(let i=1,l=o.length;i<l;++i)this._+=Math.round(arguments[i]*n)/n+o[i]}}class w5{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Ed:y5(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,o,i){this._append`Q${+e},${+n},${this._x1=+o},${this._y1=+i}`}bezierCurveTo(e,n,o,i,l,r){this._append`C${+e},${+n},${+o},${+i},${this._x1=+l},${this._y1=+r}`}arcTo(e,n,o,i,l){if(e=+e,n=+n,o=+o,i=+i,l=+l,l<0)throw new Error(`negative radius: ${l}`);let r=this._x1,a=this._y1,s=o-e,u=i-n,f=r-e,c=a-n,d=f*f+c*c;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(d>Mn)if(!(Math.abs(c*s-u*f)>Mn)||!l)this._append`L${this._x1=e},${this._y1=n}`;else{let p=o-r,m=i-a,_=s*s+u*u,v=p*p+m*m,C=Math.sqrt(_),w=Math.sqrt(d),k=l*Math.tan((vr-Math.acos((_+d-v)/(2*C*w)))/2),R=k/w,$=k/C;Math.abs(R-1)>Mn&&this._append`L${e+R*f},${n+R*c}`,this._append`A${l},${l},0,0,${+(c*p>f*m)},${this._x1=e+$*s},${this._y1=n+$*u}`}}arc(e,n,o,i,l,r){if(e=+e,n=+n,o=+o,r=!!r,o<0)throw new Error(`negative radius: ${o}`);let a=o*Math.cos(i),s=o*Math.sin(i),u=e+a,f=n+s,c=1^r,d=r?i-l:l-i;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>Mn||Math.abs(this._y1-f)>Mn)&&this._append`L${u},${f}`,o&&(d<0&&(d=d%yr+yr),d>v5?this._append`A${o},${o},0,1,${c},${e-a},${n-s}A${o},${o},0,1,${c},${this._x1=u},${this._y1=f}`:d>Mn&&this._append`A${o},${o},0,${+(d>=vr)},${c},${this._x1=e+o*Math.cos(l)},${this._y1=n+o*Math.sin(l)}`)}rect(e,n,o,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${o=+o}v${+i}h${-o}Z`}toString(){return this._}}function k5(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function ll(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,o=t.slice(0,n);return[o.length>1?o[0]+o.slice(2):o,+t.slice(n+1)]}function wo(t){return t=ll(Math.abs(t)),t?t[1]:NaN}function C5(t,e){return function(n,o){for(var i=n.length,l=[],r=0,a=t[0],s=0;i>0&&a>0&&(s+a+1>o&&(a=Math.max(1,o-s)),l.push(n.substring(i-=a,i+a)),!((s+=a+1)>o));)a=t[r=(r+1)%t.length];return l.reverse().join(e)}}function A5(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var S5=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function rl(t){if(!(e=S5.exec(t)))throw new Error("invalid format: "+t);var e;return new zr({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}rl.prototype=zr.prototype;function zr(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}zr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function T5(t){e:for(var e=t.length,n=1,o=-1,i;n<e;++n)switch(t[n]){case".":o=i=n;break;case"0":o===0&&(o=n),i=n;break;default:if(!+t[n])break e;o>0&&(o=0);break}return o>0?t.slice(0,o)+t.slice(i+1):t}var Rd;function I5(t,e){var n=ll(t,e);if(!n)return t+"";var o=n[0],i=n[1],l=i-(Rd=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,r=o.length;return l===r?o:l>r?o+new Array(l-r+1).join("0"):l>0?o.slice(0,l)+"."+o.slice(l):"0."+new Array(1-l).join("0")+ll(t,Math.max(0,e+l-1))[0]}function gu(t,e){var n=ll(t,e);if(!n)return t+"";var o=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+o:o.length>i+1?o.slice(0,i+1)+"."+o.slice(i+1):o+new Array(i-o.length+2).join("0")}const bu={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:k5,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>gu(t*100,e),r:gu,s:I5,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function vu(t){return t}var yu=Array.prototype.map,wu=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function M5(t){var e=t.grouping===void 0||t.thousands===void 0?vu:C5(yu.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",o=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",l=t.numerals===void 0?vu:A5(yu.call(t.numerals,String)),r=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"−":t.minus+"",s=t.nan===void 0?"NaN":t.nan+"";function u(c){c=rl(c);var d=c.fill,p=c.align,m=c.sign,_=c.symbol,v=c.zero,C=c.width,w=c.comma,k=c.precision,R=c.trim,$=c.type;$==="n"?(w=!0,$="g"):bu[$]||(k===void 0&&(k=12),R=!0,$="g"),(v||d==="0"&&p==="=")&&(v=!0,d="0",p="=");var D=_==="$"?n:_==="#"&&/[boxX]/.test($)?"0"+$.toLowerCase():"",E=_==="$"?o:/[%p]/.test($)?r:"",q=bu[$],L=/[defgprs%]/.test($);k=k===void 0?6:/[gprs]/.test($)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function H(y){var g=D,I=E,N,B,F;if($==="c")I=q(y)+I,y="";else{y=+y;var J=y<0||1/y<0;if(y=isNaN(y)?s:q(Math.abs(y),k),R&&(y=T5(y)),J&&+y==0&&m!=="+"&&(J=!1),g=(J?m==="("?m:a:m==="-"||m==="("?"":m)+g,I=($==="s"?wu[8+Rd/3]:"")+I+(J&&m==="("?")":""),L){for(N=-1,B=y.length;++N<B;)if(F=y.charCodeAt(N),48>F||F>57){I=(F===46?i+y.slice(N+1):y.slice(N))+I,y=y.slice(0,N);break}}}w&&!v&&(y=e(y,1/0));var z=g.length+y.length+I.length,Q=z<C?new Array(C-z+1).join(d):"";switch(w&&v&&(y=e(Q+y,Q.length?C-I.length:1/0),Q=""),p){case"<":y=g+y+I+Q;break;case"=":y=g+Q+y+I;break;case"^":y=Q.slice(0,z=Q.length>>1)+g+y+I+Q.slice(z);break;default:y=Q+g+y+I;break}return l(y)}return H.toString=function(){return c+""},H}function f(c,d){var p=u((c=rl(c),c.type="f",c)),m=Math.max(-8,Math.min(8,Math.floor(wo(d)/3)))*3,_=Math.pow(10,-m),v=wu[8+m/3];return function(C){return p(_*C)+v}}return{format:u,formatPrefix:f}}var Ai,Ld,Dd;O5({thousands:",",grouping:[3],currency:["$",""]});function O5(t){return Ai=M5(t),Ld=Ai.format,Dd=Ai.formatPrefix,Ai}function P5(t){return Math.max(0,-wo(Math.abs(t)))}function N5(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(wo(e)/3)))*3-wo(Math.abs(t)))}function E5(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,wo(e)-wo(t))+1}function R5(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function L5(t){return function(){return t}}function D5(t){return+t}var ku=[0,1];function uo(t){return t}function wr(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:L5(isNaN(e)?NaN:.5)}function $5(t,e){var n;return t>e&&(n=t,t=e,e=n),function(o){return Math.max(t,Math.min(e,o))}}function F5(t,e,n){var o=t[0],i=t[1],l=e[0],r=e[1];return i<o?(o=wr(i,o),l=n(r,l)):(o=wr(o,i),l=n(l,r)),function(a){return l(o(a))}}function j5(t,e,n){var o=Math.min(t.length,e.length)-1,i=new Array(o),l=new Array(o),r=-1;for(t[o]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++r<o;)i[r]=wr(t[r],t[r+1]),l[r]=n(e[r],e[r+1]);return function(a){var s=jy(t,a,1,o)-1;return l[s](i[s](a))}}function B5(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function q5(){var t=ku,e=ku,n=Jr,o,i,l,r=uo,a,s,u;function f(){var d=Math.min(t.length,e.length);return r!==uo&&(r=$5(t[0],t[d-1])),a=d>2?j5:F5,s=u=null,c}function c(d){return d==null||isNaN(d=+d)?l:(s||(s=a(t.map(o),e,n)))(o(r(d)))}return c.invert=function(d){return r(i((u||(u=a(e,t.map(o),Ft)))(d)))},c.domain=function(d){return arguments.length?(t=Array.from(d,D5),f()):t.slice()},c.range=function(d){return arguments.length?(e=Array.from(d),f()):e.slice()},c.rangeRound=function(d){return e=Array.from(d),n=nk,f()},c.clamp=function(d){return arguments.length?(r=d?!0:uo,f()):r!==uo},c.interpolate=function(d){return arguments.length?(n=d,f()):n},c.unknown=function(d){return arguments.length?(l=d,c):l},function(d,p){return o=d,i=p,f()}}function G5(){return q5()(uo,uo)}function H5(t,e,n,o){var i=Vy(t,e,n),l;switch(o=rl(o??",f"),o.type){case"s":{var r=Math.max(Math.abs(t),Math.abs(e));return o.precision==null&&!isNaN(l=N5(i,r))&&(o.precision=l),Dd(o,r)}case"":case"e":case"g":case"p":case"r":{o.precision==null&&!isNaN(l=E5(i,Math.max(Math.abs(t),Math.abs(e))))&&(o.precision=l-(o.type==="e"));break}case"f":case"%":{o.precision==null&&!isNaN(l=P5(i))&&(o.precision=l-(o.type==="%")*2);break}}return Ld(o)}function V5(t){var e=t.domain;return t.ticks=function(n){var o=e();return Hy(o[0],o[o.length-1],n??10)},t.tickFormat=function(n,o){var i=e();return H5(i[0],i[i.length-1],n??10,o)},t.nice=function(n){n==null&&(n=10);var o=e(),i=0,l=o.length-1,r=o[i],a=o[l],s,u,f=10;for(a<r&&(u=r,r=a,a=u,u=i,i=l,l=u);f-- >0;){if(u=fr(r,a,n),u===s)return o[i]=r,o[l]=a,e(o);if(u>0)r=Math.floor(r/u)*u,a=Math.ceil(a/u)*u;else if(u<0)r=Math.ceil(r*u)/u,a=Math.floor(a*u)/u;else break;s=u}return t},t}function kr(){var t=G5();return t.copy=function(){return B5(t,kr())},R5.apply(t,arguments),V5(t)}function lo(t){return function(){return t}}function W5(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const o=Math.floor(n);if(!(o>=0))throw new RangeError(`invalid digits: ${n}`);e=o}return t},()=>new w5(e)}function Y5(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function $d(t){this._context=t}$d.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function U5(t){return new $d(t)}function K5(t){return t[0]}function X5(t){return t[1]}function Xl(t,e){var n=lo(!0),o=null,i=U5,l=null,r=W5(a);t=typeof t=="function"?t:t===void 0?K5:lo(t),e=typeof e=="function"?e:e===void 0?X5:lo(e);function a(s){var u,f=(s=Y5(s)).length,c,d=!1,p;for(o==null&&(l=i(p=r())),u=0;u<=f;++u)!(u<f&&n(c=s[u],u,s))===d&&((d=!d)?l.lineStart():l.lineEnd()),d&&l.point(+t(c,u,s),+e(c,u,s));if(p)return l=null,p+""||null}return a.x=function(s){return arguments.length?(t=typeof s=="function"?s:lo(+s),a):t},a.y=function(s){return arguments.length?(e=typeof s=="function"?s:lo(+s),a):e},a.defined=function(s){return arguments.length?(n=typeof s=="function"?s:lo(!!s),a):n},a.curve=function(s){return arguments.length?(i=s,o!=null&&(l=i(o)),a):i},a.context=function(s){return arguments.length?(s==null?o=l=null:l=i(o=s),a):o},a}function qo(t,e,n){this.k=t,this.x=e,this.y=n}qo.prototype={constructor:qo,scale:function(t){return t===1?this:new qo(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new qo(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};qo.prototype;function J5(t){let e;return{c(){e=ul("svg"),P(e,"id","line-chart")},m(n,o){T(n,e,o)},p:ye,i:ye,o:ye,d(n){n&&S(e)}}}const Cu=52;function x5(t,e,n){let{data:o=[]}=e,i,l,r;const a={top:10,right:30,bottom:10,left:20},s=500-a.left-a.right,u=400-a.top-a.bottom;Xl().x((m,_)=>l(_)).y(m=>r(m)),fl(()=>{n(1,i=R2("#line-chart").attr("width",s+a.left+a.right).attr("height",u+a.top+a.bottom)),l=kr().range([0,s]),r=kr().range([u,0]),o.length&&f()});function f(){const m=o.length>Cu?o.slice(-Cu):o;c(m),d(m),p()}function c(m){i.selectAll(".line").remove();const _=Xl().defined(C=>C>-5).x((C,w)=>l(w)).y(C=>r(C)),v=Xl().defined(C=>C<0).x((C,w)=>l(w)).y(C=>r(C));i.append("path").datum(m).attr("class","line positive").attr("d",_).attr("transform",`translate(${a.left},${a.top})`).attr("fill","none").attr("stroke","green").attr("stroke-width",2),i.append("path").datum(m).attr("class","line negative").attr("d",v).attr("transform",`translate(${a.left},${a.top})`).attr("fill","none").attr("stroke","red").attr("stroke-width",2)}function d(m){const _=Math.max(0,...m),v=Math.min(0,...m);l.domain([0,m.length-1]),r.domain([v,_]).nice()}function p(m){const _=xy(l).ticks(0),v=Zy(r).ticks(10);i.selectAll(".axis").remove(),i.append("g").attr("class","axis x-axis").attr("transform",`translate(${a.left},${u+a.top})`).call(_),i.append("g").attr("class","axis y-axis").attr("transform",`translate(${a.left},${a.top})`).call(v)}return t.$$set=m=>{"data"in m&&n(0,o=m.data)},t.$$.update=()=>{t.$$.dirty&3&&o&&i&&f()},[o,i]}class Z5 extends _e{constructor(e){super(),he(this,e,x5,J5,ue,{data:0})}}function Q5(t){let e,n=t[1].townInfo.knowledge_points+"",o,i;return{c(){e=j("Manage your Knowledge ("),o=j(n),i=j(" pts)")},m(l,r){T(l,e,r),T(l,o,r),T(l,i,r)},p(l,r){r&2&&n!==(n=l[1].townInfo.knowledge_points+"")&&le(o,n)},d(l){l&&(S(e),S(o),S(i))}}}function z5(t){let e,n,o,i;return e=new Kn({props:{$$slots:{default:[Q5]},$$scope:{ctx:t}}}),o=new xn({}),{c(){X(e.$$.fragment),n=G(),X(o.$$.fragment)},m(l,r){U(e,l,r),T(l,n,r),U(o,l,r),i=!0},p(l,r){const a={};r&258&&(a.$$scope={dirty:r,ctx:l}),e.$set(a)},i(l){i||(A(e.$$.fragment,l),A(o.$$.fragment,l),i=!0)},o(l){M(e.$$.fragment,l),M(o.$$.fragment,l),i=!1},d(l){l&&S(n),K(e,l),K(o,l)}}}function Au(t){let e,n,o=Mu(t[1].townInfo.knowledge_points*t[3])+"",i,l;return{c(){e=O("br"),n=j(`
          (total value: $`),i=j(o),l=j(")")},m(r,a){T(r,e,a),T(r,n,a),T(r,i,a),T(r,l,a)},p(r,a){a&10&&o!==(o=Mu(r[1].townInfo.knowledge_points*r[3])+"")&&le(i,o)},d(r){r&&(S(e),S(n),S(i),S(l))}}}function Su(t){let e;return{c(){e=O("div"),e.innerHTML=`Wait until the market value is <span class="text-green-500">positive</span> to sell your Knowledge for Gold. Keep in mind that you need a bank to
          convert.`},m(n,o){T(n,e,o)},d(n){n&&S(e)}}}function Tu(t){let e,n,o;return n=new vt({props:{variant:"default",$$slots:{default:[e4]},$$scope:{ctx:t}}}),n.$on("click",t[0]),{c(){e=O("div"),X(n.$$.fragment)},m(i,l){T(i,e,l),U(n,e,null),o=!0},p(i,l){const r={};l&256&&(r.$$scope={dirty:l,ctx:i}),n.$set(r)},i(i){o||(A(n.$$.fragment,i),o=!0)},o(i){M(n.$$.fragment,i),o=!1},d(i){i&&S(e),K(n)}}}function e4(t){let e;return{c(){e=j("Convert Knowledge to Gold")},m(n,o){T(n,e,o)},d(n){n&&S(e)}}}function Iu(t){let e;return{c(){e=O("div"),e.textContent="You need a bank to convert knowledge to gold."},m(n,o){T(n,e,o)},d(n){n&&S(e)}}}function t4(t){let e,n,o,i,l,r,a,s,u=(t[3]??0)+"",f,c,d,p,m,_,v,C,w,k,R,$;e=new Xn({props:{$$slots:{default:[z5]},$$scope:{ctx:t}}});let D=t[3]>0&&Au(t);_=new Z5({props:{data:t[2]}});let E=t[3]<0&&Su(),q=t[1].hasBank&&t[3]>0&&Tu(t),L=t[1].hasBank===!1&&Iu();return R=new Io({}),{c(){X(e.$$.fragment),n=G(),o=O("span"),o.textContent="Knowledge is power, unlock it!",i=G(),l=O("div"),r=O("div"),a=j("Market Rate: "),s=O("span"),f=j(u),c=j(" gold"),p=j(`
        per Knowledge Point
        `),D&&D.c(),m=G(),X(_.$$.fragment),v=G(),E&&E.c(),C=G(),q&&q.c(),w=G(),L&&L.c(),k=G(),X(R.$$.fragment),P(o,"class","italic"),P(s,"class",d=t[3]<0?"text-red-500":"text-green-500"),P(l,"class","py-0 flex flex-col gap-4 text-gray-400 overflow-x-auto")},m(H,y){U(e,H,y),T(H,n,y),T(H,o,y),T(H,i,y),T(H,l,y),b(l,r),b(r,a),b(r,s),b(s,f),b(s,c),b(r,p),D&&D.m(r,null),b(l,m),U(_,l,null),b(l,v),E&&E.m(l,null),b(l,C),q&&q.m(l,null),b(l,w),L&&L.m(l,null),T(H,k,y),U(R,H,y),$=!0},p(H,y){const g={};y&258&&(g.$$scope={dirty:y,ctx:H}),e.$set(g),(!$||y&8)&&u!==(u=(H[3]??0)+"")&&le(f,u),(!$||y&8&&d!==(d=H[3]<0?"text-red-500":"text-green-500"))&&P(s,"class",d),H[3]>0?D?D.p(H,y):(D=Au(H),D.c(),D.m(r,null)):D&&(D.d(1),D=null);const I={};y&4&&(I.data=H[2]),_.$set(I),H[3]<0?E||(E=Su(),E.c(),E.m(l,C)):E&&(E.d(1),E=null),H[1].hasBank&&H[3]>0?q?(q.p(H,y),y&10&&A(q,1)):(q=Tu(H),q.c(),A(q,1),q.m(l,w)):q&&(Te(),M(q,1,1,()=>{q=null}),Ie()),H[1].hasBank===!1?L||(L=Iu(),L.c(),L.m(l,null)):L&&(L.d(1),L=null)},i(H){$||(A(e.$$.fragment,H),A(_.$$.fragment,H),A(q),A(R.$$.fragment,H),$=!0)},o(H){M(e.$$.fragment,H),M(_.$$.fragment,H),M(q),M(R.$$.fragment,H),$=!1},d(H){H&&(S(n),S(o),S(i),S(l),S(k)),K(e,H),D&&D.d(),K(_),E&&E.d(),q&&q.d(),L&&L.d(),K(R,H)}}}function n4(t){let e,n;return e=new Jn({props:{transitionConfig:{duration:0},class:"bg-foreground text-foregroundText",$$slots:{default:[t4]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const l={};i&270&&(l.$$scope={dirty:i,ctx:o}),e.$set(l)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function o4(t){let e,n,o;function i(r){t[5](r)}let l={$$slots:{default:[n4]},$$scope:{ctx:t}};return t[4]!==void 0&&(l.open=t[4]),e=new Zn({props:l}),Pe.push(()=>Sn(e,"open",i)),{c(){X(e.$$.fragment)},m(r,a){U(e,r,a),o=!0},p(r,[a]){const s={};a&270&&(s.$$scope={dirty:a,ctx:r}),!n&&a&16&&(n=!0,s.open=r[4],An(()=>n=!1)),e.$set(s)},i(r){o||(A(e.$$.fragment,r),o=!0)},o(r){M(e.$$.fragment,r),o=!1},d(r){K(e,r)}}}function Mu(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function i4(t,e,n){let o,i;se(t,Oe,u=>n(1,o=u)),se(t,qi,u=>n(4,i=u));let l,r=0;function a(){let u=o;o.hasBank===!0?(u.townInfo.gold+=Math.round(u.townInfo.knowledge_points*r),u.townInfo.knowledge_points=0,Oe.set(u),localStorage.setItem(Bt,JSON.stringify(u))):showCustomAlert.set("You need a bank to convert knowledge to gold.")}function s(u){i=u,qi.set(i)}return t.$$.update=()=>{t.$$.dirty&2&&o&&(n(2,l=o.economyAndLaws.knowledge_gold_market_rates),n(3,r=o.economyAndLaws.knowledge_gold_market_rates[o.economyAndLaws.knowledge_gold_market_rates.length-1]))},[a,o,l,r,i,s]}class l4 extends _e{constructor(e){super(),he(this,e,i4,o4,ue,{convertKnowledgeToGold:0})}get convertKnowledgeToGold(){return this.$$.ctx[0]}}const r4=[{id:"sunshine",title:"Hint of Sunshine",description:`Scientist Jane T. found that more sunlight makes everyone a bit happier. 
        
        Now, every home is equipped with a pair of sunglasses and a sunhat. Enjoy happier citizens!,
        `,cost:5e3,duration:180,effect:!0},{id:"antibiotics",title:"We will call them 'Antibiotics'",description:`Scientist Alfred C. has pitched us an idea that he calls 'Antibiotics'.
        
         We don't really know what that means, but it seems to make people healthier. 
        `,cost:8e3,duration:200,effect:!0},{id:"goodbye_carrots",title:"Goodbye Carrots",description:`Scientist Jarrod M. collaborated with local carrot farms to enhance the recipe, aiming to increase consumers' height by 10%.

        Unfortunately, the experiment failed, and all the local carrot farms have gone out of business. 
        `,cost:8e3,duration:80,effect:!0},{id:"funny_cows",title:"Cowabunga!",description:`Scientist Barry T. thought that showing cows some stand-up comedy would make them produce better milk, but it didn't have the desired effect.

        The cows are now following Mike Birbiglia on Twitter, but the milk production has not increased.
        `,cost:3e3,duration:60,effect:!1},{id:"missing_treasure",title:"Missing Treasure?",description:`Scientist Sarah H. was running an experiment on tree growth and found a stash of gold near the lab. 

        She hopes nobody will miss it. Your town now has some more money. 
        `,cost:15e3,duration:180,effect:!0},{id:"tax_relief",title:"'Maybe the government is not so bad after all'",description:`Scientist Sam P. conducted a study and found that if you put a tiny bit of CHEMICAL X in the water supply, people are more likely to be ok with tax hikes. 

        We don't question it, as these experiments cost a lot of moo-lah.`,cost:7500,duration:360,effect:!0},{id:"spring_break",title:"Spring Break",description:`The Scientists took our money and spent the week at the beach. 

        We are not sure what they did, but they came back with a tan and a smile.`,cost:2e3,duration:7,effect:!1},{id:"coffee_boost_tourism",title:"Speedy Brews",description:`Scientist Claudia A. has found that a specific blend of coffee can significantly increase productivity among town employees. 

        The catch? It only works on Mondays. But hey, starting the week with a turbo-charged workforce might just be the boost we needed. The town gets a bit of extra cash from the productivity, and a bit of tourism revenue from coffee tourism.
        `,cost:8e3,duration:100,effect:!0},{id:"bee_bonanza",title:"Buzzing with Possibilities",description:`Scientist Will B. thought that introducing genetically modified super bees to the local ecosystem could help with pollination.
        
        Unfortunately, these bees prefer coffee plants over all others, leading to all coffee bean farms forced to close.`,cost:5e3,duration:120,effect:!0},{id:"wheat_whirlwind",title:"A Gust of Grain",description:`Scientist Clint C. is sulking after a botched weather control experiment aimed at improving crop yields accidentally resulted in a series of mini-tornadoes sweeping through the town's wheat farms. The wheat is gone, but the townsfolk have never been more entertained.

        Local bakers mourn the loss of wheat while selling tickets to the wheat whirlwind tours. All wheat farms are now torn down, but happiness is up.`,cost:7e3,duration:150,effect:!0},{id:"aquatic_overachievers",title:"Fishy Business",description:`An attempt to genetically enhance fish intelligence by Scientist Goldie F. in fisheries has gone awry, resulting in fish that are too smart to be caught. The fisheries are now underpopulated and shut down, but the town enjoys an unexpected tourism boom as people flock to see the genius fish who are now hanging out in local parks.

        Who knew fish could be such a draw?`,cost:6e3,duration:90,effect:!0},{id:"educational_eclipse",title:"A Sudden Drop in IQ",description:`Scientist Albert E. wanted to see if the towns' children would become smarter if THEY ran the schools. 

        This was obviously a terrible idea and the first thing the kids did was shut down the schools.`,cost:1e3,duration:45,effect:!0},{id:"education_grant",title:"Education Grant",description:`Scientist Marie C. took the funding and applied the town for a grant to improve education.

        The town wins a grant for $150,000 to build schools and improve education. (but it's up to you if that's how you want to spend the money)`,cost:4e4,duration:45,effect:!0},{id:"mindfulness_meditation_classes",title:"'Mindfulness Meditation Classes'",description:`Scientist Zen M. has introduced mindfulness meditation classes to the town after realizing that breathing in certain ways can lower stress. 
		
		Now, the town is a bit more relaxed, for now.`,cost:13e3,duration:540,effect:!0}];function Ou(t,e,n){const o=t.slice();return o[17]=e[n],o}function s4(t){let e,n=t[1].lab.active_experiment.title+"",o;return{c(){e=j("🎉 Experiment Completed: "),o=j(n)},m(i,l){T(i,e,l),T(i,o,l)},p(i,l){l&2&&n!==(n=i[1].lab.active_experiment.title+"")&&le(o,n)},d(i){i&&(S(e),S(o))}}}function a4(t){let e,n=t[1].lab.active_experiment.description+"",o;return{c(){e=O("div"),o=j(n),P(e,"class","select-none whitespace-pre-wrap text-lg text-gray-400 leading-6 px-4 py-4 text-center ")},m(i,l){T(i,e,l),b(e,o)},p(i,l){l&2&&n!==(n=i[1].lab.active_experiment.description+"")&&le(o,n)},d(i){i&&S(e)}}}function u4(t){let e,n,o,i;return e=new td({props:{class:"text-center",$$slots:{default:[s4]},$$scope:{ctx:t}}}),o=new Wr({props:{$$slots:{default:[a4]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=G(),X(o.$$.fragment)},m(l,r){U(e,l,r),T(l,n,r),U(o,l,r),i=!0},p(l,r){const a={};r&1048578&&(a.$$scope={dirty:r,ctx:l}),e.$set(a);const s={};r&1048578&&(s.$$scope={dirty:r,ctx:l}),o.$set(s)},i(l){i||(A(e.$$.fragment,l),A(o.$$.fragment,l),i=!0)},o(l){M(e.$$.fragment,l),M(o.$$.fragment,l),i=!1},d(l){l&&S(n),K(e,l),K(o,l)}}}function f4(t){let e;return{c(){e=j("Thank the scientists")},m(n,o){T(n,e,o)},d(n){n&&S(e)}}}function c4(t){let e,n;return e=new nd({props:{$$slots:{default:[f4]},$$scope:{ctx:t}}}),e.$on("click",t[9]),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const l={};i&1048576&&(l.$$scope={dirty:i,ctx:o}),e.$set(l)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function d4(t){let e,n,o,i;return e=new Vr({props:{$$slots:{default:[u4]},$$scope:{ctx:t}}}),o=new yl({props:{$$slots:{default:[c4]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=G(),X(o.$$.fragment)},m(l,r){U(e,l,r),T(l,n,r),U(o,l,r),i=!0},p(l,r){const a={};r&1048578&&(a.$$scope={dirty:r,ctx:l}),e.$set(a);const s={};r&1048576&&(s.$$scope={dirty:r,ctx:l}),o.$set(s)},i(l){i||(A(e.$$.fragment,l),A(o.$$.fragment,l),i=!0)},o(l){M(e.$$.fragment,l),M(o.$$.fragment,l),i=!1},d(l){l&&S(n),K(e,l),K(o,l)}}}function m4(t){let e,n;return e=new wl({props:{$$slots:{default:[d4]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const l={};i&1048578&&(l.$$scope={dirty:i,ctx:o}),e.$set(l)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function p4(t){let e;return{c(){e=O("span"),e.textContent="Manage your Laboratory 🔬 🧪"},m(n,o){T(n,e,o)},p:ye,d(n){n&&S(e)}}}function h4(t){let e,n,o,i=t[1].lab.xp+"",l,r,a,s;return{c(){e=O("span"),n=j("You have earned "),o=O("span"),l=j(i),r=j(" XP"),s=j(` from experiments. XP can be used to buy advanced plots and develop your
          city.`),P(o,"class",a="italic "+(t[1].lab.xp<0?"text-textDanger1":"text-primaryText"))},m(u,f){T(u,e,f),b(e,n),b(e,o),b(o,l),b(o,r),b(e,s)},p(u,f){f&2&&i!==(i=u[1].lab.xp+"")&&le(l,i),f&2&&a!==(a="italic "+(u[1].lab.xp<0?"text-textDanger1":"text-primaryText"))&&P(o,"class",a)},d(u){u&&S(e)}}}function _4(t){let e,n,o,i;return e=new Kn({props:{$$slots:{default:[p4]},$$scope:{ctx:t}}}),o=new xn({props:{$$slots:{default:[h4]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=G(),X(o.$$.fragment)},m(l,r){U(e,l,r),T(l,n,r),U(o,l,r),i=!0},p(l,r){const a={};r&1048576&&(a.$$scope={dirty:r,ctx:l}),e.$set(a);const s={};r&1048578&&(s.$$scope={dirty:r,ctx:l}),o.$set(s)},i(l){i||(A(e.$$.fragment,l),A(o.$$.fragment,l),i=!0)},o(l){M(e.$$.fragment,l),M(o.$$.fragment,l),i=!1},d(l){l&&S(n),K(e,l),K(o,l)}}}function g4(t){let e;return{c(){e=j("No more experiments available")},m(n,o){T(n,e,o)},p:ye,i:ye,o:ye,d(n){n&&S(e)}}}function b4(t){let e,n,o,i,l=Ge(t[0]),r=[];for(let s=0;s<l.length;s+=1)r[s]=Nu(Ou(t,l,s));const a=s=>M(r[s],1,1,()=>{r[s]=null});return{c(){e=O("div"),e.textContent=`It's time to fund your next experiment! Choose a project below based on
        it's funding requirement. Once the experiment is over, you will see the
        results.`,n=G(),o=O("div");for(let s=0;s<r.length;s+=1)r[s].c();P(e,"class","select-none text-sm "),P(o,"class","text-center flex flex-col justify-center items-center gap-4 ")},m(s,u){T(s,e,u),T(s,n,u),T(s,o,u);for(let f=0;f<r.length;f+=1)r[f]&&r[f].m(o,null);i=!0},p(s,u){if(u&19){l=Ge(s[0]);let f;for(f=0;f<l.length;f+=1){const c=Ou(s,l,f);r[f]?(r[f].p(c,u),A(r[f],1)):(r[f]=Nu(c),r[f].c(),A(r[f],1),r[f].m(o,null))}for(Te(),f=l.length;f<r.length;f+=1)a(f);Ie()}},i(s){if(!i){for(let u=0;u<l.length;u+=1)A(r[u]);i=!0}},o(s){r=r.filter(Boolean);for(let u=0;u<r.length;u+=1)M(r[u]);i=!1},d(s){s&&(S(e),S(n),S(o)),mt(r,s)}}}function v4(t){let e,n=t[1].lab.active_experiment.duration+"",o,i,l,r,a=t[1].lab.active_experiment.duration===0&&Eu(t);return{c(){e=j("Currently running an experiment... check back in "),o=j(n),i=j(` days.
      `),a&&a.c(),l=Ee()},m(s,u){T(s,e,u),T(s,o,u),T(s,i,u),a&&a.m(s,u),T(s,l,u),r=!0},p(s,u){(!r||u&2)&&n!==(n=s[1].lab.active_experiment.duration+"")&&le(o,n),s[1].lab.active_experiment.duration===0?a?(a.p(s,u),u&2&&A(a,1)):(a=Eu(s),a.c(),A(a,1),a.m(l.parentNode,l)):a&&(Te(),M(a,1,1,()=>{a=null}),Ie())},i(s){r||(A(a),r=!0)},o(s){M(a),r=!1},d(s){s&&(S(e),S(o),S(i),S(l)),a&&a.d(s)}}}function Pu(t){let e,n,o=t[17].id+"",i;return{c(){e=O("span"),n=j("// dev-"),i=j(o),P(e,"class","text-xs text-gray-400")},m(l,r){T(l,e,r),b(e,n),b(e,i)},p(l,r){r&1&&o!==(o=l[17].id+"")&&le(i,o)},d(l){l&&S(e)}}}function y4(t){let e,n=Ru(t[17].cost).split(".")[0]+"",o,i,l,r=t[1].devMode===!0&&Pu(t);return{c(){e=j("$"),o=j(n),i=j(` gold

            `),r&&r.c(),l=G()},m(a,s){T(a,e,s),T(a,o,s),T(a,i,s),r&&r.m(a,s),T(a,l,s)},p(a,s){s&1&&n!==(n=Ru(a[17].cost).split(".")[0]+"")&&le(o,n),a[1].devMode===!0?r?r.p(a,s):(r=Pu(a),r.c(),r.m(l.parentNode,l)):r&&(r.d(1),r=null)},d(a){a&&(S(e),S(o),S(i),S(l)),r&&r.d(a)}}}function Nu(t){let e,n;function o(){return t[11](t[17])}return e=new vt({props:{variant:"outline",class:`min-w-48 w-max flex-col
				`+(t[17].cost>t[1].townInfo.gold?"cursor-not-allowed":"")+`
				`,$$slots:{default:[y4]},$$scope:{ctx:t}}}),e.$on("click",o),{c(){X(e.$$.fragment)},m(i,l){U(e,i,l),n=!0},p(i,l){t=i;const r={};l&3&&(r.class=`min-w-48 w-max flex-col
				`+(t[17].cost>t[1].townInfo.gold?"cursor-not-allowed":"")+`
				`),l&1048579&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(i){n||(A(e.$$.fragment,i),n=!0)},o(i){M(e.$$.fragment,i),n=!1},d(i){K(e,i)}}}function Eu(t){let e,n;return e=new vt({props:{variant:"outline",$$slots:{default:[w4]},$$scope:{ctx:t}}}),e.$on("click",t[10]),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const l={};i&1048576&&(l.$$scope={dirty:i,ctx:o}),e.$set(l)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function w4(t){let e;return{c(){e=j("Complete experiment (and face the impact)")},m(n,o){T(n,e,o)},d(n){n&&S(e)}}}function k4(t){let e;return{c(){e=O("span"),e.textContent="Keep in mind that not all experiments yield positive results.",P(e,"class","italic text-left text-textDanger1")},m(n,o){T(n,e,o)},p:ye,d(n){n&&S(e)}}}function C4(t){let e,n,o,i,l,r,a,s,u,f,c;e=new Xn({props:{$$slots:{default:[_4]},$$scope:{ctx:t}}}),o=new Mt({});const d=[v4,b4,g4],p=[];function m(_,v){return _[1].lab.active_experiment!==null?0:_[0].length>0?1:_[0].length===0?2:-1}return~(l=m(t))&&(r=p[l]=d[l](t)),s=new Mt({props:{class:"mt-4"}}),f=new Io({props:{$$slots:{default:[k4]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=G(),X(o.$$.fragment),i=G(),r&&r.c(),a=G(),X(s.$$.fragment),u=G(),X(f.$$.fragment)},m(_,v){U(e,_,v),T(_,n,v),U(o,_,v),T(_,i,v),~l&&p[l].m(_,v),T(_,a,v),U(s,_,v),T(_,u,v),U(f,_,v),c=!0},p(_,v){const C={};v&1048578&&(C.$$scope={dirty:v,ctx:_}),e.$set(C);let w=l;l=m(_),l===w?~l&&p[l].p(_,v):(r&&(Te(),M(p[w],1,1,()=>{p[w]=null}),Ie()),~l?(r=p[l],r?r.p(_,v):(r=p[l]=d[l](_),r.c()),A(r,1),r.m(a.parentNode,a)):r=null);const k={};v&1048576&&(k.$$scope={dirty:v,ctx:_}),f.$set(k)},i(_){c||(A(e.$$.fragment,_),A(o.$$.fragment,_),A(r),A(s.$$.fragment,_),A(f.$$.fragment,_),c=!0)},o(_){M(e.$$.fragment,_),M(o.$$.fragment,_),M(r),M(s.$$.fragment,_),M(f.$$.fragment,_),c=!1},d(_){_&&(S(n),S(i),S(a),S(u)),K(e,_),K(o,_),~l&&p[l].d(_),K(s,_),K(f,_)}}}function A4(t){let e,n;return e=new Jn({props:{class:"bg-foreground text-foregroundText",$$slots:{default:[C4]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const l={};i&1048579&&(l.$$scope={dirty:i,ctx:o}),e.$set(l)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function S4(t){let e,n,o,i,l;e=new kl({props:{open:t[2],$$slots:{default:[m4]},$$scope:{ctx:t}}});function r(s){t[12](s)}let a={$$slots:{default:[A4]},$$scope:{ctx:t}};return t[3]!==void 0&&(a.open=t[3]),o=new Zn({props:a}),Pe.push(()=>Sn(o,"open",r)),{c(){X(e.$$.fragment),n=G(),X(o.$$.fragment)},m(s,u){U(e,s,u),T(s,n,u),U(o,s,u),l=!0},p(s,[u]){const f={};u&4&&(f.open=s[2]),u&1048578&&(f.$$scope={dirty:u,ctx:s}),e.$set(f);const c={};u&1048579&&(c.$$scope={dirty:u,ctx:s}),!i&&u&8&&(i=!0,c.open=s[3],An(()=>i=!1)),o.$set(c)},i(s){l||(A(e.$$.fragment,s),A(o.$$.fragment,s),l=!0)},o(s){M(e.$$.fragment,s),M(o.$$.fragment,s),l=!1},d(s){s&&S(n),K(e,s),K(o,s)}}}function Ru(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function T4(t,e,n){let o,i;se(t,Oe,k=>n(1,o=k)),se(t,Ii,k=>n(3,i=k));var l;let r=[],a=!1,s=!1,u=!1;function f(){if(r.length>0||!a)return r;let k=[],R=r4.filter($=>!o.lab.past_experiments.some(D=>D.id===$.id));for(let $=0;$<3;$++){let D=R[Math.floor(Math.random()*R.length)];D.cost=Math.floor(Math.random()*(D.cost*.35)+D.cost*.8),k.push(D)}return k=k.filter(($,D)=>k.indexOf($)===D),k=k.filter($=>$),n(8,u=!0),k}function c(k){if(o.townInfo.gold<k.cost){showCustomAlert.set("You do not have enough gold to purchase this experiment.");return}Se(Oe,o.townInfo.gold-=k.cost,o),Se(Oe,o.lab.active_experiment=k,o),o.lab.past_experiments.push(k)}function d(){var k;switch(Se(Ii,i=!1,i),n(2,s=!0),(k=o.lab.active_experiment)===null||k===void 0?void 0:k.id){case"sunshine":Se(Oe,o.modifiers.happiness=50,o);break;case"antibiotics":Se(Oe,o.modifiers.health=50,o);break;case"goodbye_carrots":m("carrot_farm");break;case"missing_treasure":Se(Oe,o.townInfo.gold+=Math.floor(Math.random()*o.lab.active_experiment.cost*2),o);break;case"tax_relief":Se(Oe,o.economyAndLaws.max_tax_rate=(Math.random()*.8+1.2)*o.economyAndLaws.max_tax_rate,o);break;case"bee_bonanza":m("coffee_bean_farm");break;case"wheat_whirlwind":m("wheat_farm"),Se(Oe,o.townInfo.happiness*=1.5,o),Se(Oe,o.modifiers.happiness+=3,o);break;case"educational_eclipse":m("small_school"),m("large_school"),Se(Oe,o.townInfo.knowledge_points*=.8,o);break;case"education_grant":Se(Oe,o.townInfo.knowledge_points*=1.5,o),Se(Oe,o.townInfo.gold+=15e4,o);break;case"mindfulness_meditation_classes":o.modifiers.happiness*1.5;break}Se(Oe,o.lab.active_experiment.duration=-1,o)}function p(){let k=o;k.lab.xp+=Math.round(k.lab.active_experiment.cost*(Math.random()*2+.5)),k.lab.active_experiment=null,n(2,s=!1),Se(Oe,o=k,o)}function m(k){let R=qe(k,o);for(let $=0;$<R.length;$++)Bi(R[$].x,R[$].y,o)}const _=()=>{p()},v=()=>{d()},C=k=>{k.cost<o.townInfo.gold&&c(k)};function w(k){i=k,Ii.set(i)}return t.$$.update=()=>{t.$$.dirty&387&&(o?(a=!0,n(0,r=u==!1?f():r),(n(7,l=o.lab.active_experiment)===null||l===void 0?void 0:l.duration)===-1&&n(2,s=!0)):a=!1)},[r,o,s,i,c,d,p,l,u,_,v,C,w]}class I4 extends _e{constructor(e){super(),he(this,e,T4,S4,ue,{})}}function Lu(t,e,n){const o=t.slice();return o[19]=e[n],o}function Du(t){let e,n=Ge({length:t[6]}),o=[];for(let i=0;i<n.length;i+=1)o[i]=$u(Lu(t,n,i));return{c(){e=O("div");for(let i=0;i<o.length;i+=1)o[i].c();P(e,"class","confetti-holder svelte-15ksp55"),hn(e,"rounded",t[9]),hn(e,"cone",t[10]),hn(e,"no-gravity",t[11]),hn(e,"reduced-motion",t[13])},m(i,l){T(i,e,l);for(let r=0;r<o.length;r+=1)o[r]&&o[r].m(e,null)},p(i,l){if(l&37375){n=Ge({length:i[6]});let r;for(r=0;r<n.length;r+=1){const a=Lu(i,n,r);o[r]?o[r].p(a,l):(o[r]=$u(a),o[r].c(),o[r].m(e,null))}for(;r<o.length;r+=1)o[r].d(1);o.length=n.length}l&512&&hn(e,"rounded",i[9]),l&1024&&hn(e,"cone",i[10]),l&2048&&hn(e,"no-gravity",i[11]),l&8192&&hn(e,"reduced-motion",i[13])},d(i){i&&S(e),mt(o,i)}}}function $u(t){let e;return{c(){e=O("div"),P(e,"class","confetti svelte-15ksp55"),et(e,"--fall-distance",t[8]),et(e,"--size",t[0]+"px"),et(e,"--color",t[15]()),et(e,"--skew",wt(-45,45)+"deg,"+wt(-45,45)+"deg"),et(e,"--rotation-xyz",wt(-10,10)+", "+wt(-10,10)+", "+wt(-10,10)),et(e,"--rotation-deg",wt(0,360)+"deg"),et(e,"--translate-y-multiplier",wt(t[2][0],t[2][1])),et(e,"--translate-x-multiplier",wt(t[1][0],t[1][1])),et(e,"--scale",.1*wt(2,10)),et(e,"--transition-duration",t[4]?`calc(${t[3]}ms * var(--scale))`:`${t[3]}ms`),et(e,"--transition-delay",wt(t[5][0],t[5][1])+"ms"),et(e,"--transition-iteration-count",t[4]?"infinite":t[7]),et(e,"--x-spread",1-t[12])},m(n,o){T(n,e,o)},p(n,o){o&256&&et(e,"--fall-distance",n[8]),o&1&&et(e,"--size",n[0]+"px"),o&4&&et(e,"--translate-y-multiplier",wt(n[2][0],n[2][1])),o&2&&et(e,"--translate-x-multiplier",wt(n[1][0],n[1][1])),o&24&&et(e,"--transition-duration",n[4]?`calc(${n[3]}ms * var(--scale))`:`${n[3]}ms`),o&32&&et(e,"--transition-delay",wt(n[5][0],n[5][1])+"ms"),o&144&&et(e,"--transition-iteration-count",n[4]?"infinite":n[7]),o&4096&&et(e,"--x-spread",1-n[12])},d(n){n&&S(e)}}}function M4(t){let e,n=!t[14]&&Du(t);return{c(){n&&n.c(),e=Ee()},m(o,i){n&&n.m(o,i),T(o,e,i)},p(o,[i]){o[14]?n&&(n.d(1),n=null):n?n.p(o,i):(n=Du(o),n.c(),n.m(e.parentNode,e))},i:ye,o:ye,d(o){o&&S(e),n&&n.d(o)}}}function wt(t,e){return Math.random()*(e-t)+t}function O4(t,e,n){let{size:o=10}=e,{x:i=[-.5,.5]}=e,{y:l=[.25,1]}=e,{duration:r=2e3}=e,{infinite:a=!1}=e,{delay:s=[0,50]}=e,{colorRange:u=[0,360]}=e,{colorArray:f=[]}=e,{amount:c=50}=e,{iterationCount:d=1}=e,{fallDistance:p="100px"}=e,{rounded:m=!1}=e,{cone:_=!1}=e,{noGravity:v=!1}=e,{xSpread:C=.15}=e,{destroyOnComplete:w=!0}=e,{disableForReducedMotion:k=!1}=e,R=!1;fl(()=>{!w||a||d=="infinite"||setTimeout(()=>n(14,R=!0),(r+s[1])*d)});function $(){return f.length?f[Math.round(Math.random()*(f.length-1))]:`hsl(${Math.round(wt(u[0],u[1]))}, 75%, 50%)`}return t.$$set=D=>{"size"in D&&n(0,o=D.size),"x"in D&&n(1,i=D.x),"y"in D&&n(2,l=D.y),"duration"in D&&n(3,r=D.duration),"infinite"in D&&n(4,a=D.infinite),"delay"in D&&n(5,s=D.delay),"colorRange"in D&&n(16,u=D.colorRange),"colorArray"in D&&n(17,f=D.colorArray),"amount"in D&&n(6,c=D.amount),"iterationCount"in D&&n(7,d=D.iterationCount),"fallDistance"in D&&n(8,p=D.fallDistance),"rounded"in D&&n(9,m=D.rounded),"cone"in D&&n(10,_=D.cone),"noGravity"in D&&n(11,v=D.noGravity),"xSpread"in D&&n(12,C=D.xSpread),"destroyOnComplete"in D&&n(18,w=D.destroyOnComplete),"disableForReducedMotion"in D&&n(13,k=D.disableForReducedMotion)},[o,i,l,r,a,s,c,d,p,m,_,v,C,k,R,$,u,f,w]}class P4 extends _e{constructor(e){super(),he(this,e,O4,M4,ue,{size:0,x:1,y:2,duration:3,infinite:4,delay:5,colorRange:16,colorArray:17,amount:6,iterationCount:7,fallDistance:8,rounded:9,cone:10,noGravity:11,xSpread:12,destroyOnComplete:18,disableForReducedMotion:13})}}function N4(t){let e,n,o;return{c(){e=O("div"),P(e,"class",n="h-full w-full flex-1 "+t[3]+" transition-all"),P(e,"style",o=`transform: translateX(-${100-100*(t[2]??0)/(t[1]??1)}%)`)},m(i,l){T(i,e,l)},p(i,l){l&8&&n!==(n="h-full w-full flex-1 "+i[3]+" transition-all")&&P(e,"class",n),l&6&&o!==(o=`transform: translateX(-${100-100*(i[2]??0)/(i[1]??1)}%)`)&&P(e,"style",o)},d(i){i&&S(e)}}}function E4(t){let e,n;const o=[{class:Fe("relative h-4 w-full overflow-hidden rounded-full bg-black border border-gray-300",t[0])},t[4]];let i={$$slots:{default:[N4]},$$scope:{ctx:t}};for(let l=0;l<o.length;l+=1)i=Z(i,o[l]);return e=new a1({props:i}),{c(){X(e.$$.fragment)},m(l,r){U(e,l,r),n=!0},p(l,[r]){const a=r&17?ge(o,[r&1&&{class:Fe("relative h-4 w-full overflow-hidden rounded-full bg-black border border-gray-300",l[0])},r&16&&ut(l[4])]):{};r&46&&(a.$$scope={dirty:r,ctx:l}),e.$set(a)},i(l){n||(A(e.$$.fragment,l),n=!0)},o(l){M(e.$$.fragment,l),n=!1},d(l){K(e,l)}}}function R4(t,e,n){const o=["class","max","value","color"];let i=re(e,o),{class:l=void 0}=e,{max:r=100}=e,{value:a=void 0}=e,{color:s="bg-secondary"}=e;return t.$$set=u=>{e=Z(Z({},e),Ne(u)),n(4,i=re(e,o)),"class"in u&&n(0,l=u.class),"max"in u&&n(1,r=u.max),"value"in u&&n(2,a=u.value),"color"in u&&n(3,s=u.color)},[l,r,a,s,i]}class L4 extends _e{constructor(e){super(),he(this,e,R4,E4,ue,{class:0,max:1,value:2,color:3})}}function D4(t){let e;const n=t[5].default,o=ce(n,t,t[6],null);return{c(){o&&o.c()},m(i,l){o&&o.m(i,l),e=!0},p(i,l){o&&o.p&&(!e||l&64)&&me(o,n,i,i[6],e?de(n,i[6],l,null):pe(i[6]),null)},i(i){e||(A(o,i),e=!0)},o(i){M(o,i),e=!1},d(i){o&&o.d(i)}}}function $4(t){let e,n;const o=[{transition:t[2]},{transitionConfig:t[3]},{sideOffset:t[1]},{class:Fe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-black shadow-md",t[0])},t[4]];let i={$$slots:{default:[D4]},$$scope:{ctx:t}};for(let l=0;l<o.length;l+=1)i=Z(i,o[l]);return e=new J1({props:i}),{c(){X(e.$$.fragment)},m(l,r){U(e,l,r),n=!0},p(l,[r]){const a=r&31?ge(o,[r&4&&{transition:l[2]},r&8&&{transitionConfig:l[3]},r&2&&{sideOffset:l[1]},r&1&&{class:Fe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-black shadow-md",l[0])},r&16&&ut(l[4])]):{};r&64&&(a.$$scope={dirty:r,ctx:l}),e.$set(a)},i(l){n||(A(e.$$.fragment,l),n=!0)},o(l){M(e.$$.fragment,l),n=!1},d(l){K(e,l)}}}function F4(t,e,n){const o=["class","sideOffset","transition","transitionConfig"];let i=re(e,o),{$$slots:l={},$$scope:r}=e,{class:a=void 0}=e,{sideOffset:s=4}=e,{transition:u=ml}=e,{transitionConfig:f={y:8,duration:150}}=e;return t.$$set=c=>{e=Z(Z({},e),Ne(c)),n(4,i=re(e,o)),"class"in c&&n(0,a=c.class),"sideOffset"in c&&n(1,s=c.sideOffset),"transition"in c&&n(2,u=c.transition),"transitionConfig"in c&&n(3,f=c.transitionConfig),"$$scope"in c&&n(6,r=c.$$scope)},[a,s,u,f,i,l,r]}class oi extends _e{constructor(e){super(),he(this,e,F4,$4,ue,{class:0,sideOffset:1,transition:2,transitionConfig:3})}}const ii=L1,li=nb;function Fu(t,e,n){const o=t.slice();return o[13]=e[n].name,o[14]=e[n].value,o[15]=e[n].modifier,o[16]=e[n].color,o[17]=e[n].hover,o}function j4(t){let e,n,o=t[0].economyAndLaws.weeklyProfit+"",i;return{c(){e=O("span"),n=j("+$"),i=j(o),P(e,"class","text-textPrimary")},m(l,r){T(l,e,r),b(e,n),b(e,i)},p(l,r){r&1&&o!==(o=l[0].economyAndLaws.weeklyProfit+"")&&le(i,o)},d(l){l&&S(e)}}}function B4(t){let e,n=t[0].economyAndLaws.weeklyProfit+"",o;return{c(){e=O("span"),o=j(n),P(e,"class","text-textDanger2")},m(i,l){T(i,e,l),b(e,o)},p(i,l){l&1&&n!==(n=i[0].economyAndLaws.weeklyProfit+"")&&le(o,n)},d(i){i&&S(e)}}}function q4(t){let e,n,o=t[0].economyAndLaws.weeklyProfit+"",i;return{c(){e=O("span"),n=j("+$"),i=j(o),P(e,"class","text-textHappy")},m(l,r){T(l,e,r),b(e,n),b(e,i)},p(l,r){r&1&&o!==(o=l[0].economyAndLaws.weeklyProfit+"")&&le(i,o)},d(l){l&&S(e)}}}function G4(t){let e=dt(t[0].townInfo.employees/t[0].townInfo.population_count*100,0)+"",n,o,i=t[0].townInfo.employees+"",l,r,a=t[0].townInfo.population_count+"",s,u,f=t[0].townInfo.population_count-t[0].townInfo.employees+"",c,d;return{c(){n=j(e),o=j("% employment ("),l=j(i),r=j("/"),s=j(a),u=j(" - "),c=j(f),d=j(" unemployed)")},m(p,m){T(p,n,m),T(p,o,m),T(p,l,m),T(p,r,m),T(p,s,m),T(p,u,m),T(p,c,m),T(p,d,m)},p(p,m){m&1&&e!==(e=dt(p[0].townInfo.employees/p[0].townInfo.population_count*100,0)+"")&&le(n,e),m&1&&i!==(i=p[0].townInfo.employees+"")&&le(l,i),m&1&&a!==(a=p[0].townInfo.population_count+"")&&le(s,a),m&1&&f!==(f=p[0].townInfo.population_count-p[0].townInfo.employees+"")&&le(c,f)},d(p){p&&(S(n),S(o),S(l),S(r),S(s),S(u),S(c),S(d))}}}function H4(t){let e,n=t[0].townInfo.population_count===0&&ju();return{c(){n&&n.c(),e=Ee()},m(o,i){n&&n.m(o,i),T(o,e,i)},p(o,i){o[0].townInfo.population_count===0?n||(n=ju(),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(o){o&&S(e),n&&n.d(o)}}}function ju(t){let e;return{c(){e=j("Nobody lives here , build some homes")},m(n,o){T(n,e,o)},d(n){n&&S(e)}}}function Bu(t){let e,n=dt(t[15],2)+"",o,i;return{c(){e=j("(x"),o=j(n),i=j(")")},m(l,r){T(l,e,r),T(l,o,r),T(l,i,r)},p(l,r){r&4&&n!==(n=dt(l[15],2)+"")&&le(o,n)},d(l){l&&(S(e),S(o),S(i))}}}function V4(t){let e,n=t[13]+"",o,i,l,r,a,s=t[15]!=null&&Bu(t);return r=new L4({props:{value:t[14],max:300,class:"w-full",color:t[16]}}),{c(){e=O("span"),o=j(n),i=G(),s&&s.c(),l=G(),X(r.$$.fragment),P(e,"class","text-xs pb-2")},m(u,f){T(u,e,f),b(e,o),b(e,i),s&&s.m(e,null),T(u,l,f),U(r,u,f),a=!0},p(u,f){(!a||f&4)&&n!==(n=u[13]+"")&&le(o,n),u[15]!=null?s?s.p(u,f):(s=Bu(u),s.c(),s.m(e,null)):s&&(s.d(1),s=null);const c={};f&4&&(c.value=u[14]),f&4&&(c.color=u[16]),r.$set(c)},i(u){a||(A(r.$$.fragment,u),a=!0)},o(u){M(r.$$.fragment,u),a=!1},d(u){u&&(S(e),S(l)),s&&s.d(),K(r,u)}}}function qu(t){let e,n;return e=new oi({props:{class:t[8](t[14]).replace("500","300"),$$slots:{default:[W4]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const l={};i&4&&(l.class=o[8](o[14]).replace("500","300")),i&1048580&&(l.$$scope={dirty:i,ctx:o}),e.$set(l)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function Gu(t){let e,n,o=dt(t[15],0)+"",i;return{c(){e=O("span"),n=j("Modifier: "),i=j(o),P(e,"class","text-xs")},m(l,r){T(l,e,r),b(e,n),b(e,i)},p(l,r){r&4&&o!==(o=dt(l[15],0)+"")&&le(i,o)},d(l){l&&S(e)}}}function W4(t){let e,n,o=t[13]+"",i,l,r,a,s=t[14]+"",u,f,c,d=t[15]!=null&&Gu(t);return{c(){e=O("div"),n=O("span"),i=j(o),l=G(),r=O("span"),a=j("Base: "),u=j(s),f=j(" / 300"),c=G(),d&&d.c(),P(n,"class","text-sm font-bold"),P(r,"class","text-xs"),P(e,"class","flex flex-col justify-between text-black p-0 m-0")},m(p,m){T(p,e,m),b(e,n),b(n,i),b(e,l),b(e,r),b(r,a),b(r,u),b(r,f),b(e,c),d&&d.m(e,null)},p(p,m){m&4&&o!==(o=p[13]+"")&&le(i,o),m&4&&s!==(s=p[14]+"")&&le(u,s),p[15]!=null?d?d.p(p,m):(d=Gu(p),d.c(),d.m(e,null)):d&&(d.d(1),d=null)},d(p){p&&S(e),d&&d.d()}}}function Y4(t){let e,n,o,i;e=new li({props:{class:"w-full mt-0 flex flex-col",$$slots:{default:[V4]},$$scope:{ctx:t}}});let l=t[17]&&qu(t);return{c(){X(e.$$.fragment),n=G(),l&&l.c(),o=Ee()},m(r,a){U(e,r,a),T(r,n,a),l&&l.m(r,a),T(r,o,a),i=!0},p(r,a){const s={};a&1048580&&(s.$$scope={dirty:a,ctx:r}),e.$set(s),r[17]?l?(l.p(r,a),a&4&&A(l,1)):(l=qu(r),l.c(),A(l,1),l.m(o.parentNode,o)):l&&(Te(),M(l,1,1,()=>{l=null}),Ie())},i(r){i||(A(e.$$.fragment,r),A(l),i=!0)},o(r){M(e.$$.fragment,r),M(l),i=!1},d(r){r&&(S(n),S(o)),K(e,r),l&&l.d(r)}}}function Hu(t){let e,n,o,i;return n=new ii({props:{openDelay:400,closeDelay:0,$$slots:{default:[Y4]},$$scope:{ctx:t}}}),{c(){e=O("div"),X(n.$$.fragment),o=G(),P(e,"class","flex flex-col gap-2")},m(l,r){T(l,e,r),U(n,e,null),b(e,o),i=!0},p(l,r){const a={};r&1048580&&(a.$$scope={dirty:r,ctx:l}),n.$set(a)},i(l){i||(A(n.$$.fragment,l),i=!0)},o(l){M(n.$$.fragment,l),i=!1},d(l){l&&S(e),K(n)}}}function Vu(t){let e,n;return e=new P4({props:{y:[-.5,.5],x:[-.5,.5],duration:2e3}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function U4(t){let e,n=t[0].currentTutorialStep+1+"",o,i,l=Pn[t[0].currentTutorialStep].message+"",r,a,s,u,f=Pn[t[0].currentTutorialStep].goldReward+"",c,d;return{c(){e=j("Milestone "),o=j(n),i=j(" : "),r=j(l),a=G(),s=O("span"),u=j("(💰"),c=j(f),d=j(")"),P(s,"class","opacity-40")},m(p,m){T(p,e,m),T(p,o,m),T(p,i,m),T(p,r,m),T(p,a,m),T(p,s,m),b(s,u),b(s,c),b(s,d)},p(p,m){m&1&&n!==(n=p[0].currentTutorialStep+1+"")&&le(o,n),m&1&&l!==(l=Pn[p[0].currentTutorialStep].message+"")&&le(r,l),m&1&&f!==(f=Pn[p[0].currentTutorialStep].goldReward+"")&&le(c,f)},d(p){p&&(S(e),S(o),S(i),S(r),S(a),S(s))}}}function K4(t){let e;return{c(){e=j("No more goals!")},m(n,o){T(n,e,o)},p:ye,d(n){n&&S(e)}}}function X4(t){let e,n,o,i,l,r,a,s=t[0].townInfo.name+"",u,f,c,d,p,m=t[0].townInfo.population_count+"",_,v,C=t[0].townInfo.population_max+"",w,k,R,$,D,E,q=Xt(t[0].townInfo.gold,!1)+"",L,H,y,g,I,N,B,F,J,z,Q,h,W,Y,ne,ee,x,we,Ae,Re,Ze,Le,Qe,ve,He,Ve,We=t[0].environment.day%365+1+"",Je,Ke,Me,Xe,ke,De,Dt=Math.floor(t[0].environment.day/365)+1+"",Pt,_t,ze,fe,xe,V,es,Qn,ts,ri,ns,zn,os,si,ai,Tl,eo,mn,Il,to,ui,is,Mo,fi,ci,ft,Ml,ls;function rs(Ce,Ye){return Ce[0].economyAndLaws.weeklyProfit>0?q4:Ce[0].economyAndLaws.weeklyProfit<0?B4:j4}let di=rs(t),Gt=di(t);function ss(Ce,Ye){return Ce[0].townInfo.employees==Ce[0].townInfo.population_count?H4:G4}let mi=ss(t),Ht=mi(t),Tn=Ge(t[2]),lt=[];for(let Ce=0;Ce<Tn.length;Ce+=1)lt[Ce]=Hu(Fu(t,Tn,Ce));const Bd=Ce=>M(lt[Ce],1,1,()=>{lt[Ce]=null});let pt=t[5]&&Vu();function as(Ce,Ye){return Ce[0].currentTutorialStep>=Pn.length?K4:U4}let pi=as(t),Vt=pi(t);return{c(){e=O("div"),n=O("div"),o=O("div"),i=O("div"),l=O("div"),r=O("div"),a=O("h1"),u=j(s),f=G(),c=O("div"),d=O("span"),p=j("👥 "),_=j(m),v=j(" / "),w=j(C),k=G(),R=O("div"),$=O("span"),D=O("span"),E=j("💰 "),L=j(q),H=G(),y=O("div"),Gt.c(),g=G(),I=O("span"),I.textContent="(weekly)",N=G(),B=O("div"),F=O("span"),Ht.c(),z=G(),Q=O("div"),h=O("div");for(let Ce=0;Ce<lt.length;Ce+=1)lt[Ce].c();W=G(),Y=O("div"),ne=O("div"),ee=O("div"),x=O("div"),we=O("span"),Ae=j("Game time · "),Re=j(t[1]),Ze=G(),Le=O("div"),Qe=O("span"),ve=O("span"),ve.textContent="Day",He=G(),Ve=O("span"),Je=j(We),Ke=G(),Me=O("span"),Xe=O("span"),Xe.textContent="Year",ke=G(),De=O("span"),Pt=j(Dt),_t=G(),ze=O("div"),fe=O("span"),xe=j("Slow"),es=G(),Qn=O("span"),ts=j("Normal"),ns=G(),zn=O("span"),os=j("Fast"),Tl=G(),eo=O("div"),mn=O("div"),pt&&pt.c(),Il=G(),to=O("div"),ui=O("div"),ui.textContent="👨‍🦰",is=G(),Mo=O("div"),Vt.c(),P(a,"class","font-bold cursor-pointer w-full text-start select-none text-lg"),P(r,"class","cursor-pointer flex flex-row justify-start"),P(l,"class","flex flex-row items-start text-md"),P(d,"class","text-sm"),P(c,"class","flex flex-row gap-4 flex-wrap items-center"),P(D,"class","text-sm"),P($,"class","text-xs"),P(I,"class","text-gray-400"),P(y,"class","text-xs"),P(F,"class","text-xs"),P(B,"class",J="text-xs pt-0 opacity-70 "+(t[0].townInfo.employees==t[0].townInfo.population_count?"text-textPrimary":t[0].townInfo.employees>t[0].townInfo.population_count*.95?"text-textDanger3":t[0].townInfo.employees>t[0].townInfo.population_count*.9?"text-textDanger2":"text-textDanger1")),P(i,"class","flex flex-col gap-1 "),P(o,"class","rounded-xl"),P(n,"class","flex justify-between flex-col py-2 max-w-[25%] w-[25%]"),P(h,"class","flex flex-col text-foregroundText py-1 rounded-xl gap-4 flex-wrap max-h-[110px]"),P(Q,"class","flex flex-row gap-2 my-2"),P(we,"class","text-xs text-secondary cursor-pointer"),P(ve,"class","text-xs"),P(Ve,"class","font-semibold text-xs"),P(Qe,"class","flex flex-col gap-2 text-center"),P(Xe,"class","text-xs"),P(De,"class","font-semibold text-xs"),P(Me,"class","flex flex-col gap-2 text-center"),P(Le,"class","rounded-xl bg-accent flex-row justify-between text-accentText w-36 h-14 flex px-6 items-center mb-2"),P(fe,"class",V=(t[3].toString()==="2000"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"),P(Qn,"class",ri=(t[3].toString()==="750"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"),P(zn,"class",si=(t[3].toString()==="200"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"),P(ze,"class","flex flex-row gap-2 align-middle justify-center items-center"),P(ee,"class","flex flex-col items-center h-max"),P(ne,"class","flex flex-col"),P(Y,"class","flex justify-end align-end w-[25%]"),P(e,"class",ai="flex justify-between px-6 gap-6 flex-row text-start fixed top-0 left-0 right-0 cursor-default z-10 bg-foreground text-foregroundText max-h-[135px] h-[135px] "+(t[4].visible?"opacity-70":"")),P(ui,"class","text-lg h-max"),P(Mo,"class","text-xs ml-2 overflow-auto opacity-80"),P(to,"class","gap flex-row items-center flex bg-white text-slate-800 py-1 px-2 rounded-xl w-full "),P(mn,"class",fi="flex flex-col justify-center w-full align-middle items-center fixed max-w-[50vw] z-10 "+(t[0].environment.day===0?"top-[160px]":"top-[130px]")+" left-0 right-0 mx-auto"),P(eo,"class",ci=(t[5]?"opacity-25 ":"")+" transition-all duration-1000 "+(t[0].environment.day===0?"wiggle":"")+" svelte-1asvijo")},m(Ce,Ye){T(Ce,e,Ye),b(e,n),b(n,o),b(o,i),b(i,l),b(l,r),b(r,a),b(a,u),b(i,f),b(i,c),b(c,d),b(d,p),b(d,_),b(d,v),b(d,w),b(i,k),b(i,R),b(R,$),b($,D),b(D,E),b(D,L),b(i,H),b(i,y),Gt.m(y,null),b(y,g),b(y,I),b(i,N),b(i,B),b(B,F),Ht.m(F,null),b(e,z),b(e,Q),b(Q,h);for(let at=0;at<lt.length;at+=1)lt[at]&&lt[at].m(h,null);b(e,W),b(e,Y),b(Y,ne),b(ne,ee),b(ee,x),b(x,we),b(we,Ae),b(we,Re),b(ee,Ze),b(ee,Le),b(Le,Qe),b(Qe,ve),b(Qe,He),b(Qe,Ve),b(Ve,Je),b(Le,Ke),b(Le,Me),b(Me,Xe),b(Me,ke),b(Me,De),b(De,Pt),b(ee,_t),b(ee,ze),b(ze,fe),b(fe,xe),b(ze,es),b(ze,Qn),b(Qn,ts),b(ze,ns),b(ze,zn),b(zn,os),T(Ce,Tl,Ye),T(Ce,eo,Ye),b(eo,mn),pt&&pt.m(mn,null),b(mn,Il),b(mn,to),b(to,ui),b(to,is),b(to,Mo),Vt.m(Mo,null),ft=!0,Ml||(ls=[te(r,"click",t[6]),te(fe,"click",t[9]),te(Qn,"click",t[10]),te(zn,"click",t[11])],Ml=!0)},p(Ce,[Ye]){if((!ft||Ye&1)&&s!==(s=Ce[0].townInfo.name+"")&&le(u,s),(!ft||Ye&1)&&m!==(m=Ce[0].townInfo.population_count+"")&&le(_,m),(!ft||Ye&1)&&C!==(C=Ce[0].townInfo.population_max+"")&&le(w,C),(!ft||Ye&1)&&q!==(q=Xt(Ce[0].townInfo.gold,!1)+"")&&le(L,q),di===(di=rs(Ce))&&Gt?Gt.p(Ce,Ye):(Gt.d(1),Gt=di(Ce),Gt&&(Gt.c(),Gt.m(y,g))),mi===(mi=ss(Ce))&&Ht?Ht.p(Ce,Ye):(Ht.d(1),Ht=mi(Ce),Ht&&(Ht.c(),Ht.m(F,null))),(!ft||Ye&1&&J!==(J="text-xs pt-0 opacity-70 "+(Ce[0].townInfo.employees==Ce[0].townInfo.population_count?"text-textPrimary":Ce[0].townInfo.employees>Ce[0].townInfo.population_count*.95?"text-textDanger3":Ce[0].townInfo.employees>Ce[0].townInfo.population_count*.9?"text-textDanger2":"text-textDanger1")))&&P(B,"class",J),Ye&260){Tn=Ge(Ce[2]);let at;for(at=0;at<Tn.length;at+=1){const us=Fu(Ce,Tn,at);lt[at]?(lt[at].p(us,Ye),A(lt[at],1)):(lt[at]=Hu(us),lt[at].c(),A(lt[at],1),lt[at].m(h,null))}for(Te(),at=Tn.length;at<lt.length;at+=1)Bd(at);Ie()}(!ft||Ye&2)&&le(Re,Ce[1]),(!ft||Ye&1)&&We!==(We=Ce[0].environment.day%365+1+"")&&le(Je,We),(!ft||Ye&1)&&Dt!==(Dt=Math.floor(Ce[0].environment.day/365)+1+"")&&le(Pt,Dt),(!ft||Ye&8&&V!==(V=(Ce[3].toString()==="2000"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"))&&P(fe,"class",V),(!ft||Ye&8&&ri!==(ri=(Ce[3].toString()==="750"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"))&&P(Qn,"class",ri),(!ft||Ye&8&&si!==(si=(Ce[3].toString()==="200"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"))&&P(zn,"class",si),(!ft||Ye&16&&ai!==(ai="flex justify-between px-6 gap-6 flex-row text-start fixed top-0 left-0 right-0 cursor-default z-10 bg-foreground text-foregroundText max-h-[135px] h-[135px] "+(Ce[4].visible?"opacity-70":"")))&&P(e,"class",ai),Ce[5]?pt?Ye&32&&A(pt,1):(pt=Vu(),pt.c(),A(pt,1),pt.m(mn,Il)):pt&&(Te(),M(pt,1,1,()=>{pt=null}),Ie()),pi===(pi=as(Ce))&&Vt?Vt.p(Ce,Ye):(Vt.d(1),Vt=pi(Ce),Vt&&(Vt.c(),Vt.m(Mo,null))),(!ft||Ye&1&&fi!==(fi="flex flex-col justify-center w-full align-middle items-center fixed max-w-[50vw] z-10 "+(Ce[0].environment.day===0?"top-[160px]":"top-[130px]")+" left-0 right-0 mx-auto"))&&P(mn,"class",fi),(!ft||Ye&33&&ci!==(ci=(Ce[5]?"opacity-25 ":"")+" transition-all duration-1000 "+(Ce[0].environment.day===0?"wiggle":"")+" svelte-1asvijo"))&&P(eo,"class",ci)},i(Ce){if(!ft){for(let Ye=0;Ye<Tn.length;Ye+=1)A(lt[Ye]);A(pt),ft=!0}},o(Ce){lt=lt.filter(Boolean);for(let Ye=0;Ye<lt.length;Ye+=1)M(lt[Ye]);M(pt),ft=!1},d(Ce){Ce&&(S(e),S(Tl),S(eo)),Gt.d(),Ht.d(),mt(lt,Ce),pt&&pt.d(),Vt.d(),Ml=!1,$e(ls)}}}function J4(t,e,n){let o,i,l,r;se(t,Oe,v=>n(0,o=v)),se(t,Ql,v=>n(3,i=v)),se(t,ot,v=>n(4,l=v)),se(t,Ti,v=>n(5,r=v)),fl(()=>{const v=setInterval(()=>{Se(Oe,o.timeSpent+=1e3,o)},1e3);return()=>{clearInterval(v)}});function a(){let v=prompt("Enter a new name for your town (under 200 chars)");if(v&&v.length<200&&v.length>=1){let C=o;C.townInfo.name=v,Oe.set(C),localStorage.setItem(Bt,JSON.stringify(C))}}function s(v){return Se(Ql,i=v,i),document.querySelectorAll(".speedButton").forEach(w=>{w.classList.remove("active")}),i}let u="00:00:00",f;const c=v=>v===1?"bg-green-500":v>.9?"bg-yellow-500":"bg-red-500",d=v=>v>149?"bg-green-500":v>99?"bg-yellow-500":"bg-red-500",p=()=>s(2e3),m=()=>s(750),_=()=>s(200);return t.$$.update=()=>{t.$$.dirty&1&&(o.timeSpent>0?n(1,u=ep(o.timeSpent)):n(1,u="00:00:00")),t.$$.dirty&1&&n(2,f=[{name:"Happiness",description:"Happy townspeople spend more money and are less likely to leave.",value:o.townInfo.happiness,modifier:o.modifiers.happiness,color:d(o.townInfo.happiness),hover:!0},{name:"Health",description:"Healthy townspeople are less likely to die (and leave the town obviously).",value:o.townInfo.health,modifier:o.modifiers.health,color:d(o.townInfo.health),hover:!0},{name:"Community",description:"Townspeople that feel at home are less likely to leave, and less likely to get bored.",value:o.townInfo.community,modifier:o.modifiers.community,color:d(o.townInfo.community),hover:!0},{name:"Employment",description:"The number of people employed in your town. Unemployed people are more likely to leave.",value:o.townInfo.employees/o.townInfo.population_count*300,modifier:null,color:c(o.townInfo.employees/o.townInfo.population_count),hover:!1}])},[o,u,f,i,l,r,a,s,d,p,m,_]}class x4 extends _e{constructor(e){super(),he(this,e,J4,X4,ue,{})}}function Wu(t,e,n){const o=t.slice();return o[4]=e[n],o[6]=n,o}function Yu(t,e,n){const o=t.slice();return o[4]=e[n],o[6]=n,o}function Uu(t,e,n){const o=t.slice();return o[4]=e[n],o[6]=n,o}function Ku(t){let e,n,o,i=oe[be(t[0].id)].title+"",l,r,a,s=oe[be(t[0].id)].description+"",u,f,c,d,p,m,_,v,C,w=t[3]("💰",oe[be(t[0].id)].requirements.gold,t[2].townInfo.gold)+"",k,R,$=t[3]("🥕",oe[be(t[0].id)].requirements.resources.food,t[2].resources.food)+"",D,E,q=t[3]("🧠",oe[be(t[0].id)].requirements.knowledge,t[2].townInfo.knowledge_points)+"",L,H,y=t[3]("🪵",oe[be(t[0].id)].requirements.resources.wood,t[2].resources.wood)+"",g,I,N=t[3]("🪨",oe[be(t[0].id)].requirements.resources.stone,t[2].resources.stone)+"",B,F,J=t[3]("🧲",oe[be(t[0].id)].requirements.resources.metal,t[2].resources.metal)+"",z,Q,h=t[3]("🔋",oe[be(t[0].id)].active_costs.power,t[2].resources.power)+"",W,Y,ne=t[3]("🧑‍⚖️",oe[be(t[0].id)].requirements.resources.bureaucracy,t[2].resources.bureaucracy)+"",ee,x=oe[be(t[0].id)].requirements.employees!=0,we,Ae=oe[be(t[0].id)].revenue_per_week!=0,Re,Ze=Object.values(oe[be(t[0].id)].active_costs).some(af),Le,Qe=Object.values(oe[be(t[0].id)].requirements.plots).length>0,ve,He=Object.values(oe[be(t[0].id)].generated_resources).some(sf)||oe[be(t[0].id)].knowledge_points_per_month>0,Ve;d=new Mt({props:{class:"bg-secondary opacity-25 mt-1 mb-1"}});let We=x&&Xu(t),Je=Ae&&Ju(t),Ke=Ze&&xu(t),Me=Qe&&zu(t),Xe=He&&nf(t);return{c(){e=O("div"),n=O("div"),o=O("span"),l=j(i),r=G(),a=O("span"),u=j(s),f=G(),c=O("div"),X(d.$$.fragment),p=G(),m=O("span"),m.textContent="Requirements",_=G(),v=O("div"),C=new tn(!1),k=G(),R=new tn(!1),D=G(),E=new tn(!1),L=G(),H=new tn(!1),g=G(),I=new tn(!1),B=G(),F=new tn(!1),z=G(),Q=new tn(!1),W=G(),Y=new tn(!1),ee=G(),We&&We.c(),we=G(),Je&&Je.c(),Re=G(),Ke&&Ke.c(),Le=G(),Me&&Me.c(),ve=G(),Xe&&Xe.c(),P(o,"class","text-md"),P(a,"class","text-xs"),P(n,"class","flex flex-col gap-2"),P(m,"class","font-semibold"),C.a=k,R.a=D,E.a=L,H.a=g,I.a=B,F.a=z,Q.a=W,Y.a=ee,P(v,"class","flex flex-col gap-1"),P(c,"class","flex flex-col w-36 h-min gap-0 text-xs pb-2"),P(e,"class","p-2")},m(ke,De){T(ke,e,De),b(e,n),b(n,o),b(o,l),b(n,r),b(n,a),b(a,u),b(e,f),b(e,c),U(d,c,null),b(c,p),b(c,m),b(c,_),b(c,v),C.m(w,v),b(v,k),R.m($,v),b(v,D),E.m(q,v),b(v,L),H.m(y,v),b(v,g),I.m(N,v),b(v,B),F.m(J,v),b(v,z),Q.m(h,v),b(v,W),Y.m(ne,v),b(v,ee),We&&We.m(v,null),b(e,we),Je&&Je.m(e,null),b(e,Re),Ke&&Ke.m(e,null),b(e,Le),Me&&Me.m(e,null),b(e,ve),Xe&&Xe.m(e,null),Ve=!0},p(ke,De){(!Ve||De&1)&&i!==(i=oe[be(ke[0].id)].title+"")&&le(l,i),(!Ve||De&1)&&s!==(s=oe[be(ke[0].id)].description+"")&&le(u,s),(!Ve||De&5)&&w!==(w=ke[3]("💰",oe[be(ke[0].id)].requirements.gold,ke[2].townInfo.gold)+"")&&C.p(w),(!Ve||De&5)&&$!==($=ke[3]("🥕",oe[be(ke[0].id)].requirements.resources.food,ke[2].resources.food)+"")&&R.p($),(!Ve||De&5)&&q!==(q=ke[3]("🧠",oe[be(ke[0].id)].requirements.knowledge,ke[2].townInfo.knowledge_points)+"")&&E.p(q),(!Ve||De&5)&&y!==(y=ke[3]("🪵",oe[be(ke[0].id)].requirements.resources.wood,ke[2].resources.wood)+"")&&H.p(y),(!Ve||De&5)&&N!==(N=ke[3]("🪨",oe[be(ke[0].id)].requirements.resources.stone,ke[2].resources.stone)+"")&&I.p(N),(!Ve||De&5)&&J!==(J=ke[3]("🧲",oe[be(ke[0].id)].requirements.resources.metal,ke[2].resources.metal)+"")&&F.p(J),(!Ve||De&5)&&h!==(h=ke[3]("🔋",oe[be(ke[0].id)].active_costs.power,ke[2].resources.power)+"")&&Q.p(h),(!Ve||De&5)&&ne!==(ne=ke[3]("🧑‍⚖️",oe[be(ke[0].id)].requirements.resources.bureaucracy,ke[2].resources.bureaucracy)+"")&&Y.p(ne),De&1&&(x=oe[be(ke[0].id)].requirements.employees!=0),x?We?We.p(ke,De):(We=Xu(ke),We.c(),We.m(v,null)):We&&(We.d(1),We=null),De&1&&(Ae=oe[be(ke[0].id)].revenue_per_week!=0),Ae?Je?(Je.p(ke,De),De&1&&A(Je,1)):(Je=Ju(ke),Je.c(),A(Je,1),Je.m(e,Re)):Je&&(Te(),M(Je,1,1,()=>{Je=null}),Ie()),De&1&&(Ze=Object.values(oe[be(ke[0].id)].active_costs).some(af)),Ze?Ke?(Ke.p(ke,De),De&1&&A(Ke,1)):(Ke=xu(ke),Ke.c(),A(Ke,1),Ke.m(e,Le)):Ke&&(Te(),M(Ke,1,1,()=>{Ke=null}),Ie()),De&1&&(Qe=Object.values(oe[be(ke[0].id)].requirements.plots).length>0),Qe?Me?(Me.p(ke,De),De&1&&A(Me,1)):(Me=zu(ke),Me.c(),A(Me,1),Me.m(e,ve)):Me&&(Te(),M(Me,1,1,()=>{Me=null}),Ie()),De&1&&(He=Object.values(oe[be(ke[0].id)].generated_resources).some(sf)||oe[be(ke[0].id)].knowledge_points_per_month>0),He?Xe?(Xe.p(ke,De),De&1&&A(Xe,1)):(Xe=nf(ke),Xe.c(),A(Xe,1),Xe.m(e,null)):Xe&&(Te(),M(Xe,1,1,()=>{Xe=null}),Ie())},i(ke){Ve||(A(d.$$.fragment,ke),A(Je),A(Ke),A(Me),A(Xe),Ve=!0)},o(ke){M(d.$$.fragment,ke),M(Je),M(Ke),M(Me),M(Xe),Ve=!1},d(ke){ke&&S(e),K(d),We&&We.d(),Je&&Je.d(),Ke&&Ke.d(),Me&&Me.d(),Xe&&Xe.d()}}}function Xu(t){let e,n,o=oe[be(t[0].id)].requirements.employees+"",i,l,r;return{c(){e=O("span"),n=j("👥 "),i=j(o),l=j(" employees"),P(e,"class",r=oe[be(t[0].id)].requirements.employees>t[2].townInfo.population_count-t[2].townInfo.employees&&t[1]?"px-1 text-textDanger1 font-bold border-2 border-red-400":"")},m(a,s){T(a,e,s),b(e,n),b(e,i),b(e,l)},p(a,s){s&1&&o!==(o=oe[be(a[0].id)].requirements.employees+"")&&le(i,o),s&7&&r!==(r=oe[be(a[0].id)].requirements.employees>a[2].townInfo.population_count-a[2].townInfo.employees&&a[1]?"px-1 text-textDanger1 font-bold border-2 border-red-400":"")&&P(e,"class",r)},d(a){a&&S(e)}}}function Ju(t){let e,n,o,i,l,r,a,s=oe[be(t[0].id)].revenue_per_week+"",u,f;return n=new Mt({props:{class:"bg-secondary opacity-25 mt-0"}}),{c(){e=O("div"),X(n.$$.fragment),o=G(),i=O("span"),i.textContent="Weekly revenue",l=G(),r=O("span"),a=j("💰 "),u=j(s),P(i,"class","font-semibold"),P(e,"class","flex flex-col gap-1 text-xs")},m(c,d){T(c,e,d),U(n,e,null),b(e,o),b(e,i),b(e,l),b(e,r),b(r,a),b(r,u),f=!0},p(c,d){(!f||d&1)&&s!==(s=oe[be(c[0].id)].revenue_per_week+"")&&le(u,s)},i(c){f||(A(n.$$.fragment,c),f=!0)},o(c){M(n.$$.fragment,c),f=!1},d(c){c&&S(e),K(n)}}}function xu(t){let e,n,o,i,l,r;n=new Mt({props:{class:"bg-secondary opacity-25 mt-2"}});let a=Ge(Object.keys(oe[be(t[0].id)].active_costs)),s=[];for(let u=0;u<a.length;u+=1)s[u]=Qu(Uu(t,a,u));return{c(){e=O("div"),X(n.$$.fragment),o=G(),i=O("span"),i.textContent="Weekly Costs",l=G();for(let u=0;u<s.length;u+=1)s[u].c();P(i,"class","font-semibold"),P(e,"class","flex flex-col gap-1 text-xs")},m(u,f){T(u,e,f),U(n,e,null),b(e,o),b(e,i),b(e,l);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(e,null);r=!0},p(u,f){if(f&1){a=Ge(Object.keys(oe[be(u[0].id)].active_costs));let c;for(c=0;c<a.length;c+=1){const d=Uu(u,a,c);s[c]?s[c].p(d,f):(s[c]=Qu(d),s[c].c(),s[c].m(e,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=a.length}},i(u){r||(A(n.$$.fragment,u),r=!0)},o(u){M(n.$$.fragment,u),r=!1},d(u){u&&S(e),K(n),mt(s,u)}}}function Zu(t){let e,n=sn(t[4])+"",o,i,l=sl(t[4])+"",r,a,s=-1*Object.values(oe[be(t[0].id)].active_costs)[t[6]]+"",u,f,c;return{c(){e=O("span"),o=j(n),i=G(),r=j(l),a=G(),u=j(s),f=G(),P(e,"class",c=Object.values(oe[be(t[0].id)].active_costs)[t[6]]>0?"text-textDanger1":"text-textHappyDark")},m(d,p){T(d,e,p),b(e,o),b(e,i),b(e,r),b(e,a),b(e,u),b(e,f)},p(d,p){p&1&&n!==(n=sn(d[4])+"")&&le(o,n),p&1&&l!==(l=sl(d[4])+"")&&le(r,l),p&1&&s!==(s=-1*Object.values(oe[be(d[0].id)].active_costs)[d[6]]+"")&&le(u,s),p&1&&c!==(c=Object.values(oe[be(d[0].id)].active_costs)[d[6]]>0?"text-textDanger1":"text-textHappyDark")&&P(e,"class",c)},d(d){d&&S(e)}}}function Qu(t){let e=Object.values(oe[be(t[0].id)].active_costs)[t[6]]!=0,n,o=e&&Zu(t);return{c(){o&&o.c(),n=Ee()},m(i,l){o&&o.m(i,l),T(i,n,l)},p(i,l){l&1&&(e=Object.values(oe[be(i[0].id)].active_costs)[i[6]]!=0),e?o?o.p(i,l):(o=Zu(i),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(i){i&&S(n),o&&o.d(i)}}}function zu(t){let e,n,o,i,l,r;n=new Mt({props:{class:"bg-secondary opacity-25 mt-2"}});let a=Ge(Object.keys(oe[be(t[0].id)].requirements.plots)),s=[];for(let u=0;u<a.length;u+=1)s[u]=tf(Yu(t,a,u));return{c(){e=O("div"),X(n.$$.fragment),o=G(),i=O("span"),i.textContent="Required Plots",l=G();for(let u=0;u<s.length;u+=1)s[u].c();P(i,"class","font-semibold"),P(e,"class","flex flex-col gap-1 text-xs")},m(u,f){T(u,e,f),U(n,e,null),b(e,o),b(e,i),b(e,l);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(e,null);r=!0},p(u,f){if(f&5){a=Ge(Object.keys(oe[be(u[0].id)].requirements.plots));let c;for(c=0;c<a.length;c+=1){const d=Yu(u,a,c);s[c]?s[c].p(d,f):(s[c]=tf(d),s[c].c(),s[c].m(e,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=a.length}},i(u){r||(A(n.$$.fragment,u),r=!0)},o(u){M(n.$$.fragment,u),r=!1},d(u){u&&S(e),K(n),mt(s,u)}}}function ef(t){let e,n=sn(Object.values(oe[be(t[0].id)].requirements.plots)[t[6]])+"",o,i,l;return{c(){e=O("span"),o=j(n),i=G(),P(e,"class",l=qe(Object.values(oe[be(t[0].id)].requirements.plots)[t[6]],t[2]).length==0?"text-textDanger1 border-2 border-red-400 px-2":"text-textHappyDark")},m(r,a){T(r,e,a),b(e,o),b(e,i)},p(r,a){a&1&&n!==(n=sn(Object.values(oe[be(r[0].id)].requirements.plots)[r[6]])+"")&&le(o,n),a&5&&l!==(l=qe(Object.values(oe[be(r[0].id)].requirements.plots)[r[6]],r[2]).length==0?"text-textDanger1 border-2 border-red-400 px-2":"text-textHappyDark")&&P(e,"class",l)},d(r){r&&S(e)}}}function tf(t){let e=Object.values(oe[be(t[0].id)].requirements.plots)[t[6]]!=0,n,o=e&&ef(t);return{c(){o&&o.c(),n=Ee()},m(i,l){o&&o.m(i,l),T(i,n,l)},p(i,l){l&1&&(e=Object.values(oe[be(i[0].id)].requirements.plots)[i[6]]!=0),e?o?o.p(i,l):(o=ef(i),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(i){i&&S(n),o&&o.d(i)}}}function nf(t){let e,n,o,i,l,r=oe[be(t[0].id)].knowledge_points_per_month>0,a,s;n=new Mt({props:{class:"bg-secondary opacity-25 mt-2"}});let u=r&&of(t),f=Ge(Object.keys(oe[be(t[0].id)].generated_resources)),c=[];for(let d=0;d<f.length;d+=1)c[d]=rf(Wu(t,f,d));return{c(){e=O("div"),X(n.$$.fragment),o=G(),i=O("span"),i.textContent="Generated Resources",l=G(),u&&u.c(),a=G();for(let d=0;d<c.length;d+=1)c[d].c();P(i,"class","font-semibold"),P(e,"class","flex flex-col gap-1 text-xs")},m(d,p){T(d,e,p),U(n,e,null),b(e,o),b(e,i),b(e,l),u&&u.m(e,null),b(e,a);for(let m=0;m<c.length;m+=1)c[m]&&c[m].m(e,null);s=!0},p(d,p){if(p&1&&(r=oe[be(d[0].id)].knowledge_points_per_month>0),r?u?u.p(d,p):(u=of(d),u.c(),u.m(e,a)):u&&(u.d(1),u=null),p&1){f=Ge(Object.keys(oe[be(d[0].id)].generated_resources));let m;for(m=0;m<f.length;m+=1){const _=Wu(d,f,m);c[m]?c[m].p(_,p):(c[m]=rf(_),c[m].c(),c[m].m(e,null))}for(;m<c.length;m+=1)c[m].d(1);c.length=f.length}},i(d){s||(A(n.$$.fragment,d),s=!0)},o(d){M(n.$$.fragment,d),s=!1},d(d){d&&S(e),K(n),u&&u.d(),mt(c,d)}}}function of(t){let e,n,o=Math.round(oe[be(t[0].id)].knowledge_points_per_month)+"",i,l;return{c(){e=O("span"),n=j("🧠 "),i=j(o),l=j(" (monthly)")},m(r,a){T(r,e,a),b(e,n),b(e,i),b(e,l)},p(r,a){a&1&&o!==(o=Math.round(oe[be(r[0].id)].knowledge_points_per_month)+"")&&le(i,o)},d(r){r&&S(e)}}}function lf(t){let e,n=sl(t[4])+"",o,i,l=sn(t[4])+"",r,a,s=ys(Object.values(oe[be(t[0].id)].generated_resources)[t[6]],!1)+"",u,f,c;return{c(){e=O("span"),o=j(n),i=G(),r=j(l),a=G(),u=j(s),f=G(),P(e,"class",c=Object.values(oe[be(t[0].id)].generated_resources)[t[6]]>0?"text-textHappyDark":"text-textDanger1")},m(d,p){T(d,e,p),b(e,o),b(e,i),b(e,r),b(e,a),b(e,u),b(e,f)},p(d,p){p&1&&n!==(n=sl(d[4])+"")&&le(o,n),p&1&&l!==(l=sn(d[4])+"")&&le(r,l),p&1&&s!==(s=ys(Object.values(oe[be(d[0].id)].generated_resources)[d[6]],!1)+"")&&le(u,s),p&1&&c!==(c=Object.values(oe[be(d[0].id)].generated_resources)[d[6]]>0?"text-textHappyDark":"text-textDanger1")&&P(e,"class",c)},d(d){d&&S(e)}}}function rf(t){let e=Object.values(oe[be(t[0].id)].generated_resources)[t[6]]!=0,n,o=e&&lf(t);return{c(){o&&o.c(),n=Ee()},m(i,l){o&&o.m(i,l),T(i,n,l)},p(i,l){l&1&&(e=Object.values(oe[be(i[0].id)].generated_resources)[i[6]]!=0),e?o?o.p(i,l):(o=lf(i),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(i){i&&S(n),o&&o.d(i)}}}function Z4(t){let e,n,o=t[0]!=null&&Ku(t);return{c(){o&&o.c(),e=Ee()},m(i,l){o&&o.m(i,l),T(i,e,l),n=!0},p(i,[l]){i[0]!=null?o?(o.p(i,l),l&1&&A(o,1)):(o=Ku(i),o.c(),A(o,1),o.m(e.parentNode,e)):o&&(Te(),M(o,1,1,()=>{o=null}),Ie())},i(i){n||(A(o),n=!0)},o(i){M(o),n=!1},d(i){i&&S(e),o&&o.d(i)}}}function sl(t){switch(t){case"food":return"🥕";case"knowledge":return"🧠";case"wood":return"🪵";case"stone":return"🪨";case"metal":return"🧲";case"power":return"🔋";case"bureaucracy":return"🧑‍⚖️";default:return"💰"}}const sf=t=>t!=0,af=t=>t!=0;function Q4(t,e,n){let o;se(t,Oe,a=>n(2,o=a));let{option:i}=e,{checkRequirements:l=!0}=e;function r(a,s,u){if(s==0||s==null)return"<span class='hidden'></span>";let f="",c="";return u<s&&l&&(c="text-textDanger1 border-2 border-red-400"),f=`<span class='${c}'>${a} ${s}</span>`,f}return t.$$set=a=>{"option"in a&&n(0,i=a.option),"checkRequirements"in a&&n(1,l=a.checkRequirements)},[i,l,o,r]}class Fd extends _e{constructor(e){super(),he(this,e,Q4,Z4,ue,{option:0,checkRequirements:1})}}function uf(t,e,n){const o=t.slice();return o[25]=e[n],o}function ff(t,e,n){const o=t.slice();return o[28]=e[n],o}function cf(t){let e,n,o,i,l,r,a,s,u,f,c,d,p,m,_=t[5].plots[t[0]][t[1]].type!==-1&&t[12](t[0],t[1]),v,C,w,k,R,$,D={type:"text",autofocus:!0,id:"search-bar",placeholder:"Search Plot Options...",value:t[3],class:"border rounded w-auto bg-white placeholder-black text-black text-xs"};a=new Hr({props:D}),t[16](a),a.$on("input",t[10]);let E=_&&df(t),q=Ge(t[6].isMineralSource||t[3].length>0||t[7]?[1]:qe("tree_farm",t[5]).length!=0?[1,2,3,4]:[1]),L=[];for(let y=0;y<q.length;y+=1)L[y]=yf(uf(t,q,y));const H=y=>M(L[y],1,1,()=>{L[y]=null});return{c(){e=O("div"),n=O("div"),o=O("div"),i=O("div"),l=O("div"),r=O("div"),X(a.$$.fragment),s=G(),u=O("div"),f=O("input"),c=G(),d=O("label"),d.textContent="Buildable",p=G(),m=O("div"),E&&E.c(),v=G(),C=O("div");for(let y=0;y<L.length;y+=1)L[y].c();P(r,"class","flex items-end "),P(f,"type","checkbox"),P(f,"id","toggle-affordable"),P(f,"class","rounded"),f.checked=t[7],P(d,"for","toggle-affordable"),P(d,"class","ml-2 no-select cursor-pointer "),P(u,"class","flex items-center ml-4"),P(m,"class","flex justify-end ml-6"),P(l,"class","flex flex-row w-full "),P(i,"class","text-sm"),P(C,"class",w="flex flex-col "+(t[6].isMineralSource||t[3].length>0||t[7]?"gap-0 pt-0":"gap-4")+" w-full overflow-y-scroll h-72 pb-24"),P(o,"class","flex flex-col gap-2 px-2 justify-end"),P(n,"class","text-xl items-center justify-center w-[90%] align-bottom bg-foreground border-4 border-gray-400 shadow-2xl rounded-t-xl py-2 "),P(e,"class","w-[100vw] fixed bottom-[-10px] h-["+t[9]+"] p-1 z-50 flex flex-col justify-center text-center items-center")},m(y,g){T(y,e,g),b(e,n),b(n,o),b(o,i),b(i,l),b(l,r),U(a,r,null),b(l,s),b(l,u),b(u,f),b(u,c),b(u,d),b(l,p),b(l,m),E&&E.m(m,null),b(o,v),b(o,C);for(let I=0;I<L.length;I+=1)L[I]&&L[I].m(C,null);k=!0,R||($=[te(f,"change",t[17]),te(o,"click",t[11])],R=!0)},p(y,g){const I={};if(g[0]&8&&(I.value=y[3]),a.$set(I),(!k||g[0]&128)&&(f.checked=y[7]),g[0]&35&&(_=y[5].plots[y[0]][y[1]].type!==-1&&y[12](y[0],y[1])),_?E?E.p(y,g):(E=df(y),E.c(),E.m(m,null)):E&&(E.d(1),E=null),g[0]&248){q=Ge(y[6].isMineralSource||y[3].length>0||y[7]?[1]:qe("tree_farm",y[5]).length!=0?[1,2,3,4]:[1]);let N;for(N=0;N<q.length;N+=1){const B=uf(y,q,N);L[N]?(L[N].p(B,g),A(L[N],1)):(L[N]=yf(B),L[N].c(),A(L[N],1),L[N].m(C,null))}for(Te(),N=q.length;N<L.length;N+=1)H(N);Ie()}(!k||g[0]&200&&w!==(w="flex flex-col "+(y[6].isMineralSource||y[3].length>0||y[7]?"gap-0 pt-0":"gap-4")+" w-full overflow-y-scroll h-72 pb-24"))&&P(C,"class",w)},i(y){if(!k){A(a.$$.fragment,y);for(let g=0;g<q.length;g+=1)A(L[g]);k=!0}},o(y){M(a.$$.fragment,y),L=L.filter(Boolean);for(let g=0;g<L.length;g+=1)M(L[g]);k=!1},d(y){y&&S(e),t[16](null),K(a),E&&E.d(),mt(L,y),R=!1,$e($)}}}function df(t){let e,n,o;return{c(){e=O("button"),e.textContent="❌ Bulldoze",P(e,"id","bulldoze"),P(e,"class","px-2 py-2 bg-red-500 rounded hover:bg-red-600 transition duration-300 ease-in-out")},m(i,l){T(i,e,l),n||(o=te(e,"click",t[13]),n=!0)},p:ye,d(i){i&&S(e),n=!1,o()}}}function mf(t){let e,n,o=t[25]+"",i;return{c(){e=O("div"),n=j("Level "),i=j(o),P(e,"class","text-sm font-extralight pb-3")},m(l,r){T(l,e,r),b(e,n),b(e,i)},p(l,r){r[0]&232&&o!==(o=l[25]+"")&&le(i,o)},d(l){l&&S(e)}}}function pf(t){let e,n,o=t[28].active_costs.power+"",i;return{c(){e=O("span"),n=j("🔋"),i=j(o),P(e,"class","bg-yellow-300 text-xs text-black tex px-1 py-0.5 rounded-2xl absolute top-[-5px] right-[-2px]")},m(l,r){T(l,e,r),b(e,n),b(e,i)},p(l,r){r[0]&248&&o!==(o=l[28].active_costs.power+"")&&le(i,o)},d(l){l&&S(e)}}}function hf(t){let e,n,o=qe(t[28].id,t[5]).length+"",i;return{c(){e=O("span"),n=j("x"),i=j(o),P(e,"class","bg-black text-xs text-white tex px-1 py-0.5 rounded-2xl absolute top-[-5px] left-[-2px]")},m(l,r){T(l,e,r),b(e,n),b(e,i)},p(l,r){r[0]&248&&o!==(o=qe(l[28].id,l[5]).length+"")&&le(i,o)},d(l){l&&S(e)}}}function _f(t){let e,n,o=Xt(t[28].revenue_per_week,!1)+"",i,l;return{c(){e=O("br"),n=j(`
                            Makes 💰 `),i=j(o),l=j("/week")},m(r,a){T(r,e,a),T(r,n,a),T(r,i,a),T(r,l,a)},p(r,a){a[0]&248&&o!==(o=Xt(r[28].revenue_per_week,!1)+"")&&le(i,o)},d(r){r&&(S(e),S(n),S(i),S(l))}}}function gf(t){let e,n,o=Xt(t[28].requirements.employees,!1)+"",i;return{c(){e=O("br"),n=j(`
                            Employs `),i=j(o)},m(l,r){T(l,e,r),T(l,n,r),T(l,i,r)},p(l,r){r[0]&248&&o!==(o=Xt(l[28].requirements.employees,!1)+"")&&le(i,o)},d(l){l&&(S(e),S(n),S(i))}}}function z4(t){let e,n,o,i=(t[28].selected?"✅":vs(t[28].title))+"",l,r,a,s=t[28].title.substring(2)+"",u,f,c,d=qe(t[28].id,t[5]).length>0,p,m,_,v=Xt(t[28].requirements.gold,!1)+"",C,w,k,R,$,D,E=t[28].active_costs.power>0&&pf(t),q=d&&hf(t),L=t[28].revenue_per_week>0&&_f(t),H=t[28].requirements.employees>0&&gf(t);return{c(){e=O("div"),n=O("div"),o=O("span"),l=j(i),r=G(),a=O("span"),u=j(s),f=G(),E&&E.c(),c=G(),q&&q.c(),p=G(),m=O("span"),_=j("Costs 💰 "),C=j(v),w=G(),L&&L.c(),k=G(),H&&H.c(),P(o,"class","text-md text-center"),P(a,"class","text-xs text-center font-bold mx-1"),P(n,"class","pt-2"),P(m,"style",R=t[28].styling),P(m,"class","text-xs text-center pt-4"),P(e,"class",$="plotOption cursor-pointer min-w-40 "+(t[6].isMineralSource||t[3].length>0?"mx-1 my-2":"")+" relative h-[120px] rounded-xl flex flex-col align-middle transition-all duration-100 "+(t[28].affordable||t[28].selected?"cursor-pointer":"opacity-40 cursor-not-allowed ")+" "+(t[28].selected?"border-4 border-yellow-200 opacity-100 rounded-none":"")),P(e,"data-plotoptionid",D=t[28].id),et(e,"background-color",ji(be(t[28].id),!0))},m(y,g){T(y,e,g),b(e,n),b(n,o),b(o,l),b(n,r),b(n,a),b(a,u),b(e,f),E&&E.m(e,null),b(e,c),q&&q.m(e,null),b(e,p),b(e,m),b(m,_),b(m,C),b(m,w),L&&L.m(m,null),b(m,k),H&&H.m(m,null)},p(y,g){g[0]&248&&i!==(i=(y[28].selected?"✅":vs(y[28].title))+"")&&le(l,i),g[0]&248&&s!==(s=y[28].title.substring(2)+"")&&le(u,s),y[28].active_costs.power>0?E?E.p(y,g):(E=pf(y),E.c(),E.m(e,c)):E&&(E.d(1),E=null),g[0]&248&&(d=qe(y[28].id,y[5]).length>0),d?q?q.p(y,g):(q=hf(y),q.c(),q.m(e,p)):q&&(q.d(1),q=null),g[0]&248&&v!==(v=Xt(y[28].requirements.gold,!1)+"")&&le(C,v),y[28].revenue_per_week>0?L?L.p(y,g):(L=_f(y),L.c(),L.m(m,k)):L&&(L.d(1),L=null),y[28].requirements.employees>0?H?H.p(y,g):(H=gf(y),H.c(),H.m(m,null)):H&&(H.d(1),H=null),g[0]&248&&R!==(R=y[28].styling)&&P(m,"style",R),g[0]&248&&$!==($="plotOption cursor-pointer min-w-40 "+(y[6].isMineralSource||y[3].length>0?"mx-1 my-2":"")+" relative h-[120px] rounded-xl flex flex-col align-middle transition-all duration-100 "+(y[28].affordable||y[28].selected?"cursor-pointer":"opacity-40 cursor-not-allowed ")+" "+(y[28].selected?"border-4 border-yellow-200 opacity-100 rounded-none":""))&&P(e,"class",$),g[0]&248&&D!==(D=y[28].id)&&P(e,"data-plotoptionid",D),g[0]&248&&et(e,"background-color",ji(be(y[28].id),!0))},d(y){y&&S(e),E&&E.d(),q&&q.d(),L&&L.d(),H&&H.d()}}}function e3(t){let e,n;return e=new Fd({props:{option:t[28]}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const l={};i[0]&248&&(l.option=o[28]),e.$set(l)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function t3(t){let e,n,o,i;return e=new li({props:{$$slots:{default:[z4]},$$scope:{ctx:t}}}),o=new oi({props:{$$slots:{default:[e3]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=G(),X(o.$$.fragment)},m(l,r){U(e,l,r),T(l,n,r),U(o,l,r),i=!0},p(l,r){const a={};r[0]&248|r[1]&1&&(a.$$scope={dirty:r,ctx:l}),e.$set(a);const s={};r[0]&248|r[1]&1&&(s.$$scope={dirty:r,ctx:l}),o.$set(s)},i(l){i||(A(e.$$.fragment,l),A(o.$$.fragment,l),i=!0)},o(l){M(e.$$.fragment,l),M(o.$$.fragment,l),i=!1},d(l){l&&S(n),K(e,l),K(o,l)}}}function bf(t,e){let n,o,i;return o=new ii({props:{openDelay:400,closeDelay:0,$$slots:{default:[t3]},$$scope:{ctx:e}}}),{key:t,first:null,c(){n=Ee(),X(o.$$.fragment),this.first=n},m(l,r){T(l,n,r),U(o,l,r),i=!0},p(l,r){e=l;const a={};r[0]&248|r[1]&1&&(a.$$scope={dirty:r,ctx:e}),o.$set(a)},i(l){i||(A(o.$$.fragment,l),i=!0)},o(l){M(o.$$.fragment,l),i=!1},d(l){l&&S(n),K(o,l)}}}function vf(t){let e;return{c(){e=O("span"),e.textContent="No plots available!",P(e,"class","text-sm pt-2")},m(n,o){T(n,e,o)},d(n){n&&S(e)}}}function yf(t){let e,n,o,i=[],l=new Map,r,a=t[4].filter(c).length===0&&t[3].length==0&&!t[6].isMineralSource,s,u,f;function c(...C){return t[15](t[25],...C)}let d=t[3].length==0&&!t[6].isMineralSource&&mf(t);function p(...C){return t[18](t[25],...C)}let m=Ge(t[3].length==0&&!t[6].isMineralSource?t[4].filter(p):t[4]);const _=C=>C[28].id;for(let C=0;C<m.length;C+=1){let w=ff(t,m,C),k=_(w);l.set(k,i[C]=bf(k,w))}let v=a&&vf();return{c(){e=O("div"),d&&d.c(),n=G(),o=O("div");for(let C=0;C<i.length;C+=1)i[C].c();r=G(),v&&v.c(),u=G(),P(o,"class",s="flex flex-row text-start justify-start items-start flex-wrap "+(t[6].isMineralSource||t[3].length>0?"pt-0 gap-0":"pt-2 gap-4")+" w-full align-middle")},m(C,w){T(C,e,w),d&&d.m(e,null),b(e,n),b(e,o);for(let k=0;k<i.length;k+=1)i[k]&&i[k].m(o,null);b(o,r),v&&v.m(o,null),b(e,u),f=!0},p(C,w){t=C,t[3].length==0&&!t[6].isMineralSource?d?d.p(t,w):(d=mf(t),d.c(),d.m(e,n)):d&&(d.d(1),d=null),w[0]&248&&(m=Ge(t[3].length==0&&!t[6].isMineralSource?t[4].filter(p):t[4]),Te(),i=rm(i,w,_,1,t,m,l,o,lm,bf,r,ff),Ie()),w[0]&248&&(a=t[4].filter(c).length===0&&t[3].length==0&&!t[6].isMineralSource),a?v||(v=vf(),v.c(),v.m(o,null)):v&&(v.d(1),v=null),(!f||w[0]&72&&s!==(s="flex flex-row text-start justify-start items-start flex-wrap "+(t[6].isMineralSource||t[3].length>0?"pt-0 gap-0":"pt-2 gap-4")+" w-full align-middle"))&&P(o,"class",s)},i(C){if(!f){for(let w=0;w<m.length;w+=1)A(i[w]);f=!0}},o(C){for(let w=0;w<i.length;w+=1)M(i[w]);f=!1},d(C){C&&S(e),d&&d.d();for(let w=0;w<i.length;w+=1)i[w].d();v&&v.d()}}}function n3(t){let e,n,o=t[2]&&cf(t);return{c(){o&&o.c(),e=Ee()},m(i,l){o&&o.m(i,l),T(i,e,l),n=!0},p(i,l){i[2]?o?(o.p(i,l),l[0]&4&&A(o,1)):(o=cf(i),o.c(),A(o,1),o.m(e.parentNode,e)):o&&(Te(),M(o,1,1,()=>{o=null}),Ie())},i(i){n||(A(o),n=!0)},o(i){M(o),n=!1},d(i){i&&S(e),o&&o.d(i)}}}function o3(t,e,n){let o,i,l;se(t,Oe,y=>n(5,o=y)),se(t,ot,y=>n(6,i=y)),se(t,cc,y=>n(7,l=y));let{x:r=0}=e,{y:a=0}=e,{open:s=!1}=e,{tooltip:u=""}=e,f="",c=oe,d;const p=Math.round(window.innerHeight*.2)+"px";let m=c.map(y=>Object.assign(Object.assign({},y),{affordable:C(y,o),selected:v(y)}));function _(y){n(3,f=y.target.value||"")}function v(y){return o.plots[r][a].type>-1?c[o.plots[r][a].type].id===y.id:!1}function C(y,g){let I=!0;y.requirements.gold>g.townInfo.gold&&(I=!1);let N=g.townInfo.population_count-g.townInfo.employees;return y.requirements.employees!==void 0&&y.requirements.employees>0&&y.requirements.employees>N&&(I=!1),y.requirements.knowledge!==void 0&&y.requirements.knowledge>g.townInfo.knowledge_points&&(I=!1),y.requirements.resources!==void 0&&Object.keys(y.requirements.resources).forEach(B=>{y.requirements.resources[B]!=0&&o.resources[B]<y.requirements.resources[B]&&(I=!1)}),I}function w(y){const g=y.target.closest(".plotOption");if(g){const I=g.dataset.plotoptionid;k(I)}}function k(y){document.querySelectorAll(".plotOption").forEach(N=>{N.classList.remove("active")});const I=document.querySelector(`[data-plotoptionid="${y}"]`);I&&(I.classList.add("active"),$(r,a,y))}function R(y,g){if(o.liege_location!=null&&y==o.liege_location[0]&&g==o.liege_location[1]||i.isMineralSource)return!1;let I=0;return y>0&&o.plots[y-1][g].type!==-1&&I++,y<o.plots.length-1&&o.plots[y+1][g].type!==-1&&I++,g>0&&o.plots[y][g-1].type!==-1&&I++,g<o.plots[0].length-1&&o.plots[y][g+1].type!==-1&&I++,I<=4}function $(y,g,I){let N=o;const B=oe.findIndex(Q=>Q.id===I);Object.entries(oe[B].requirements).map(([Q,h])=>`<li>${sn(Q)}: ${h}</li>`);let F=oe[B];if(F.requirements.adjacent_plots!==void 0){let Q=F.requirements.adjacent_plots;if(tp(y,g,N,F.requirements.adjacent_plots)===!1)return Rt.set(`This plot requires adjacent plots of type: ${Q.join(", ")}`)}let J=!0;if((F.requirements.gold>N.townInfo.gold||F.requirements.employees>N.townInfo.population_count-N.townInfo.employees)&&(J=!1),F.requirements.size!=null&&F.requirements.size!=1&&J){let Y=function(ne,ee){let x={x:ne,y:ee};return x.x===0&&x.y===0?!0:[{x:x.x-1,y:x.y},{x:x.x+1,y:x.y},{x:x.x,y:x.y-1},{x:x.x,y:x.y+1}].some(Ae=>Ae.x<0||Ae.x>o.plots.length-1||Ae.y<0||Ae.y>o.plots.length-1?!1:o.plots[Ae.x][Ae.y].active)};var z=Y;let Q=F.requirements.size,h=[],W=c[B].title.toLowerCase().indexOf("school")!=-1;for(let ne=0;ne<4;ne++){let ee=[[y,g]];ne===0?(ee.push([y-(Q-1),g-(Q-1)]),ee.push([y-(Q-1),g]),ee.push([y,g-(Q-1)])):ne===1?(ee.push([y,g-(Q-1)]),ee.push([y+(Q-1),g-(Q-1)]),ee.push([y+(Q-1),g])):ne===2?(ee.push([y-(Q-1),g]),ee.push([y-(Q-1),g+(Q-1)]),ee.push([y,g+(Q-1)])):ne===3&&(ee.push([y,g+(Q-1)]),ee.push([y+(Q-1),g+(Q-1)]),ee.push([y+(Q-1),g])),h.push(ee)}h=h.filter(ne=>ne.every(ee=>ee[0]>=0&&ee[0]<=N.plots.length-1&&ee[1]>=0&&ee[1]<=N.plots.length-1&&!N.plots[ee[0]][ee[1]].active&&Y(ee[0],ee[1])==!0)),h.length===0?J=!1:h.length>0&&h[0].forEach(ee=>{N.plots[ee[0]][ee[1]].active=!0,N.plots[ee[0]][ee[1]].type=W?-3:-2,N.plots[ee[0]][ee[1]].referencePlot=[y,g]})}if(J===!0){if(N.plots[y][g].type!==-1&&Bi(y,g,N),n(14,u=""),N.plots[y][g].type=B,N.plots[y][g].active=!0,N.plots[y][g].referencePlot=[],N.plots[y][g].typeId=F.id,N.townInfo.gold-=F.requirements.gold,N.townInfo.gold=dt(N.townInfo.gold,2),N.townInfo.population_count+=F.immediate_variable_changes.population,N.townInfo.population_max+=F.immediate_variable_changes.population,N.townInfo.happiness+=F.immediate_variable_changes.happiness,N.townInfo.health+=F.immediate_variable_changes.health,N.modifiers.happiness=dt(N.modifiers.happiness*F.effect_modifiers.happiness,2),N.modifiers.health=dt(N.modifiers.health*F.effect_modifiers.health,2),N.modifiers.community=dt(N.modifiers.community*F.effect_modifiers.community,2),N.townInfo.employees+=F.requirements.employees,(N.plotCounts[B]===void 0||N.plotCounts[B]===null)&&(N.plotCounts[B]=0),N.plotCounts[B]++,N.lastChangeDay=N.environment.day,F.requirements.resources!==void 0){const h=F.requirements.resources;N.resources.food-=h.food,N.resources.wood-=h.wood,N.resources.stone-=h.stone,N.resources.metal-=h.metal}switch(F.id){case"city_hall":N.hasCityHall=!0;break;case"bank":N.hasBank=!0;break}Oe.set(N),localStorage.setItem(Bt,JSON.stringify(N));let Q=!1;for(let h=y;h<N.plots.length;h++){for(let W=g;W<N.plots[h].length;W++)if(N.plots[h][W].active===!1&&N.plots[h][W].mineralSource==!1&&N.plots[h][W].water==!1){y=h,g=W,Q=!0;break}if(Q)break}Se(ot,i.x=y,i),Se(ot,i.y=g,i)}else n(14,u="You do not have enough resources to purchase this plot. If it's a 'Large' plot, make sure you have a 2x2 area available. "),document.querySelectorAll(".plotOption").forEach(h=>{h.classList.remove("active")})}function D(){document.querySelectorAll(".plotOption").forEach(g=>{g.classList.remove("active")}),Bi(r,a,o)}const E=(y,g)=>g.level===y;function q(y){Pe[y?"unshift":"push"](()=>{d=y,n(8,d)})}const L=()=>{gm()},H=(y,g)=>g.level===y;return t.$$set=y=>{"x"in y&&n(0,r=y.x),"y"in y&&n(1,a=y.y),"open"in y&&n(2,s=y.open),"tooltip"in y&&n(14,u=y.tooltip)},t.$$.update=()=>{t.$$.dirty[0]&240&&o&&(n(4,m=c.map(y=>Object.assign(Object.assign({},y),{affordable:C(y,o),selected:v(y)}))),qe("tree_farm",o).length===0&&n(4,m=m.filter(y=>y.id==="small_homes"||y.id==="farm"||y.id==="tree_farm")),i.isMineralSource&&n(4,m=m.filter(y=>y.id==="mine")),l&&n(4,m=m.filter(y=>y.affordable)),Object.keys(ms).forEach(y=>{let g=ms[y];if(g>0){let I=qe(y,o).length;n(4,m=m.filter(N=>N.id!==y||I<g))}}),m.sort((y,g)=>y.selected&&!g.selected?-1:0)),t.$$.dirty[0]&24&&n(4,m=m.filter(y=>y.title.toLowerCase().includes(f.toLowerCase())))},[r,a,s,f,m,o,i,l,d,p,_,w,R,D,u,E,q,L,H]}class jd extends _e{constructor(e){super(),he(this,e,o3,n3,ue,{x:0,y:1,open:2,tooltip:14},null,[-1,-1])}}function i3(t){let e,n,o;return{c(){e=O("span"),n=j("My liege, if you build a City Hall, you can expand your city "),o=j(t[0]),P(e,"class","text-xs")},m(i,l){T(i,e,l),b(e,n),b(e,o)},p(i,l){l&1&&le(o,i[0])},i:ye,o:ye,d(i){i&&S(e)}}}function l3(t){let e,n;return e=new vt({props:{class:"bg-accent h-max rounded-2xl hover:scale-110 transition-transform duration-200 ease-in-out hover:drop-shadow-2xl",$$slots:{default:[r3]},$$scope:{ctx:t}}}),e.$on("click",t[2]),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const l={};i&11&&(l.$$scope={dirty:i,ctx:o}),e.$set(l)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function r3(t){let e,n,o,i,l,r=t[0].toUpperCase()+"",a,s,u,f,c,d,p,m,_,v,C,w=Math.round(Math.pow(1.5,t[1].kingdom_expansions+5))+"",k,R,$,D;return{c(){e=O("div"),n=j("spanMy liege, you can expand your "),o=O("br"),i=j(`kingdom
        `),l=O("span"),a=j(r),s=j(`
        using
        `),u=O("br"),f=j(`your
        `),c=O("span"),c.textContent="City Hall",d=j("!"),p=O("br"),m=O("br"),_=G(),v=O("span"),C=j("Requires "),k=j(w),R=j(` Guardians
          `),$=O("br"),D=j("to be employed. (see city mgmt menu)"),P(l,"class","font-extrabold text-blue-200"),P(c,"class","text-blue-200 bold"),P(v,"class","opacity-75 text-xs")},m(E,q){T(E,e,q),b(e,n),b(e,o),b(e,i),b(e,l),b(l,a),b(e,s),b(e,u),b(e,f),b(e,c),b(e,d),b(e,p),b(e,m),b(e,_),b(e,v),b(v,C),b(v,k),b(v,R),b(v,$),b(v,D)},p(E,q){q&1&&r!==(r=E[0].toUpperCase()+"")&&le(a,r),q&2&&w!==(w=Math.round(Math.pow(1.5,E[1].kingdom_expansions+5))+"")&&le(k,w)},d(E){E&&S(e)}}}function s3(t){let e,n,o,i,l;const r=[l3,i3],a=[];function s(u,f){return f&2&&(n=null),n==null&&(n=qe("city_hall",u[1]).length>0),n?0:1}return o=s(t,-1),i=a[o]=r[o](t),{c(){e=O("div"),i.c(),P(e,"class","w-48 h-max")},m(u,f){T(u,e,f),a[o].m(e,null),l=!0},p(u,[f]){let c=o;o=s(u,f),o===c?a[o].p(u,f):(Te(),M(a[c],1,1,()=>{a[c]=null}),Ie(),i=a[o],i?i.p(u,f):(i=a[o]=r[o](u),i.c()),A(i,1),i.m(e,null))},i(u){l||(A(i),l=!0)},o(u){M(i),l=!1},d(u){u&&S(e),a[o].d()}}}function a3(t,e,n){let o;se(t,Oe,r=>n(1,o=r));let{direction:i}=e;const l=()=>{const r=_m(o,i);r&&Rt.set(r)};return t.$$set=r=>{"direction"in r&&n(0,i=r.direction)},[i,o,l]}class wf extends _e{constructor(e){super(),he(this,e,a3,s3,ue,{direction:0})}}function u3(t){return{c:ye,m:ye,p:ye,d:ye}}function f3(t){let e,n,o,i=oe[t[0].type].title.substring(0,2)+"",l,r,a,s,u,f=oe[t[0].type].title.substring(2)+"",c,d,p,m;return{c(){e=O("div"),n=O("span"),o=O("span"),l=j(i),r=G(),a=O("br"),s=G(),u=O("span"),c=j(f),P(o,"class","text-lg align-text-top select-none"),P(u,"class","text-xs align-text-top font-normal text-black from-stone-600 select-none"),P(n,"data-size",d=oe[t[0].type].requirements.size),P(n,"data-x",p=t[0].x),P(n,"data-y",m=t[0].y),P(e,"class","svelte-9dbw4v")},m(_,v){T(_,e,v),b(e,n),b(n,o),b(o,l),b(n,r),b(n,a),b(n,s),b(n,u),b(u,c)},p(_,v){v&1&&i!==(i=oe[_[0].type].title.substring(0,2)+"")&&le(l,i),v&1&&f!==(f=oe[_[0].type].title.substring(2)+"")&&le(c,f),v&1&&d!==(d=oe[_[0].type].requirements.size)&&P(n,"data-size",d),v&1&&p!==(p=_[0].x)&&P(n,"data-x",p),v&1&&m!==(m=_[0].y)&&P(n,"data-y",m)},d(_){_&&S(e)}}}function kf(t){let e;return{c(){e=O("span"),e.textContent="🧲",P(e,"class","text-lg")},m(n,o){T(n,e,o)},d(n){n&&S(e)}}}function Cf(t){let e;return{c(){e=O("span"),e.textContent="👑",P(e,"class","text-xl absolute top-0")},m(n,o){T(n,e,o)},d(n){n&&S(e)}}}function c3(t){let e,n,o,i=t[7](t[0].x,t[0].y),l,r,a,s,u,f,c,d,p,m,_,v,C,w,k,R,$,D;function E(g,I){if(g[0].type>-1)return f3;if(g[0].type==-1&&g[0].x==0&&g[0].y==0)return u3}let q=E(t),L=q&&q(t),H=t[0].mineralSource&&t[0].type==-1&&kf(),y=i&&Cf();return{c(){e=O("button"),L&&L.c(),n=G(),H&&H.c(),o=G(),y&&y.c(),P(e,"class",l="plot_container "+t[1]+" overflow-visible "+(t[0].type==-1&&t[2]==!1,"")+" "+(t[0].mineralSource?"hidden":"")+" "+(t[2]?"cursor-pointer":"cursor-not-allowed")+" "+(t[0].disabled?"animate-spin":"")+" svelte-9dbw4v"),et(e,"background-color",t[0].water?"bg-blue-900 opacity-100":t[4].x==t[0].x&&t[4].y==t[0].y&&t[4].visible?"white":t[0].mineralSource?"black":ji(t[0].type,t[2])),P(e,"data-active",r=t[0].active),P(e,"data-hidehoveranimation",a=t[4].visible||t[0].type==-1&&t[0].x==0&&t[0].y==0),P(e,"data-id",s=t[0].id),P(e,"data-x",u=t[0].x),P(e,"data-y",f=t[0].y),P(e,"data-optionindex",c=t[0].optionIndex),P(e,"data-canbeupgraded",t[2]),P(e,"data-type",d=t[0].type),P(e,"data-type-id",p=t[0].typeId),P(e,"data-refplotx",m=t[0].referencePlot!==void 0?t[0].referencePlot[1]:null),P(e,"data-refploty",_=t[0].referencePlot!==void 0?t[0].referencePlot[0]:null),P(e,"data-size",v=t[0].type>-1?oe[t[0].type].requirements.size:null),P(e,"data-mineralsource",C=t[0].mineralSource),P(e,"data-water",w=t[0].water),P(e,"data-nearwater",k=$n(t[0].x,t[0].y,t[5])),P(e,"data-liegelocation",R=t[7](t[0].x,t[0].y))},m(g,I){T(g,e,I),L&&L.m(e,null),b(e,n),H&&H.m(e,null),b(e,o),y&&y.m(e,null),$||(D=te(e,"click",function(){fn(t[0].water?null:t[6]?hs(t[0].x,t[0].y,t[5]):t[8])&&(t[0].water?null:t[6]?hs(t[0].x,t[0].y,t[5]):t[8]).apply(this,arguments)}),$=!0)},p(g,I){t=g,q===(q=E(t))&&L?L.p(t,I):(L&&L.d(1),L=q&&q(t),L&&(L.c(),L.m(e,n))),t[0].mineralSource&&t[0].type==-1?H||(H=kf(),H.c(),H.m(e,o)):H&&(H.d(1),H=null),I&1&&(i=t[7](t[0].x,t[0].y)),i?y||(y=Cf(),y.c(),y.m(e,null)):y&&(y.d(1),y=null),I&7&&l!==(l="plot_container "+t[1]+" overflow-visible "+(t[0].type==-1&&t[2]==!1,"")+" "+(t[0].mineralSource?"hidden":"")+" "+(t[2]?"cursor-pointer":"cursor-not-allowed")+" "+(t[0].disabled?"animate-spin":"")+" svelte-9dbw4v")&&P(e,"class",l),I&21&&et(e,"background-color",t[0].water?"bg-blue-900 opacity-100":t[4].x==t[0].x&&t[4].y==t[0].y&&t[4].visible?"white":t[0].mineralSource?"black":ji(t[0].type,t[2])),I&1&&r!==(r=t[0].active)&&P(e,"data-active",r),I&17&&a!==(a=t[4].visible||t[0].type==-1&&t[0].x==0&&t[0].y==0)&&P(e,"data-hidehoveranimation",a),I&1&&s!==(s=t[0].id)&&P(e,"data-id",s),I&1&&u!==(u=t[0].x)&&P(e,"data-x",u),I&1&&f!==(f=t[0].y)&&P(e,"data-y",f),I&1&&c!==(c=t[0].optionIndex)&&P(e,"data-optionindex",c),I&4&&P(e,"data-canbeupgraded",t[2]),I&1&&d!==(d=t[0].type)&&P(e,"data-type",d),I&1&&p!==(p=t[0].typeId)&&P(e,"data-type-id",p),I&1&&m!==(m=t[0].referencePlot!==void 0?t[0].referencePlot[1]:null)&&P(e,"data-refplotx",m),I&1&&_!==(_=t[0].referencePlot!==void 0?t[0].referencePlot[0]:null)&&P(e,"data-refploty",_),I&1&&v!==(v=t[0].type>-1?oe[t[0].type].requirements.size:null)&&P(e,"data-size",v),I&1&&C!==(C=t[0].mineralSource)&&P(e,"data-mineralsource",C),I&1&&w!==(w=t[0].water)&&P(e,"data-water",w),I&33&&k!==(k=$n(t[0].x,t[0].y,t[5]))&&P(e,"data-nearwater",k),I&1&&R!==(R=t[7](t[0].x,t[0].y))&&P(e,"data-liegelocation",R)},d(g){g&&S(e),L&&L.d(),H&&H.d(),y&&y.d(),$=!1,D()}}}function Af(t){let e;return{c(){e=j("Water - Place farms nearby for more food & revenue!")},m(n,o){T(n,e,o)},d(n){n&&S(e)}}}function Sf(t){let e;return{c(){e=O("span"),e.textContent="Near water - Generating more food & revenue!",P(e,"class","text-xs bg-blue-500 text-white p-2 roudned-2xl")},m(n,o){T(n,e,o)},d(n){n&&S(e)}}}function Tf(t){let e;function n(l,r){return oe[l[0].type].liege_on_plot_hint==null?m3:d3}let o=n(t),i=o(t);return{c(){e=O("span"),i.c(),P(e,"class","text-xs bg-yellow-300 text-black p-2 italic rounded-2xl")},m(l,r){T(l,e,r),i.m(e,null)},p(l,r){o===(o=n(l))&&i?i.p(l,r):(i.d(1),i=o(l),i&&(i.c(),i.m(e,null)))},d(l){l&&S(e),i.d()}}}function d3(t){let e=oe[t[0].type].liege_on_plot_hint+"",n;return{c(){n=j(e)},m(o,i){T(o,n,i)},p(o,i){i&1&&e!==(e=oe[o[0].type].liege_on_plot_hint+"")&&le(n,e)},d(o){o&&S(n)}}}function m3(t){let e,n=oe[t[0].type].title+"",o,i;return{c(){e=j("You are hanging out on the "),o=j(n),i=j(` plot, but nothing
            seems to be changing except a revenue boost.`)},m(l,r){T(l,e,r),T(l,o,r),T(l,i,r)},p(l,r){r&1&&n!==(n=oe[l[0].type].title+"")&&le(o,n)},d(l){l&&(S(e),S(o),S(i))}}}function If(t){let e,n;return e=new Fd({props:{option:t[3],checkRequirements:!1}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const l={};i&8&&(l.option=o[3]),e.$set(l)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function p3(t){let e,n,o=$n(t[0].x,t[0].y,t[5]),i,l=so(t[0].x,t[0].y,t[5]),r,a,s=t[0].water&&Af(),u=o&&Sf(),f=l&&Tf(t),c=t[0].active&&If(t);return{c(){e=O("div"),s&&s.c(),n=G(),u&&u.c(),i=G(),f&&f.c(),r=G(),c&&c.c(),P(e,"class","flex flex-col gap-2")},m(d,p){T(d,e,p),s&&s.m(e,null),b(e,n),u&&u.m(e,null),b(e,i),f&&f.m(e,null),b(e,r),c&&c.m(e,null),a=!0},p(d,p){d[0].water?s||(s=Af(),s.c(),s.m(e,n)):s&&(s.d(1),s=null),p&33&&(o=$n(d[0].x,d[0].y,d[5])),o?u||(u=Sf(),u.c(),u.m(e,i)):u&&(u.d(1),u=null),p&33&&(l=so(d[0].x,d[0].y,d[5])),l?f?f.p(d,p):(f=Tf(d),f.c(),f.m(e,r)):f&&(f.d(1),f=null),d[0].active?c?(c.p(d,p),p&1&&A(c,1)):(c=If(d),c.c(),A(c,1),c.m(e,null)):c&&(Te(),M(c,1,1,()=>{c=null}),Ie())},i(d){a||(A(c),a=!0)},o(d){M(c),a=!1},d(d){d&&S(e),s&&s.d(),u&&u.d(),f&&f.d(),c&&c.d()}}}function h3(t){let e,n,o,i;return e=new li({props:{$$slots:{default:[c3]},$$scope:{ctx:t}}}),o=new oi({props:{class:t[0].type<0&&!t[0].water?"hidden":"",$$slots:{default:[p3]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=G(),X(o.$$.fragment)},m(l,r){U(e,l,r),T(l,n,r),U(o,l,r),i=!0},p(l,r){const a={};r&4215&&(a.$$scope={dirty:r,ctx:l}),e.$set(a);const s={};r&1&&(s.class=l[0].type<0&&!l[0].water?"hidden":""),r&4137&&(s.$$scope={dirty:r,ctx:l}),o.$set(s)},i(l){i||(A(e.$$.fragment,l),A(o.$$.fragment,l),i=!0)},o(l){M(e.$$.fragment,l),M(o.$$.fragment,l),i=!1},d(l){l&&S(n),K(e,l),K(o,l)}}}function _3(t){let e,n;return e=new ii({props:{openDelay:400,closeDelay:0,$$slots:{default:[h3]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,[i]){const l={};i&4223&&(l.$$scope={dirty:i,ctx:o}),e.$set(l)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function g3(t,e,n){let o,i,l,r,a;se(t,ot,_=>n(4,o=_)),se(t,Oe,_=>n(5,i=_)),se(t,Et,_=>n(10,l=_)),se(t,ho,_=>n(11,r=_)),se(t,_o,_=>n(6,a=_));let{data:s={id:0,active:!1,x:0,y:0,type:-1,styling:"",referencePlot:[],mineralSource:!1,disabled:!1,water:!1}}=e,u,{classText:f=""}=e,{canBeUpgraded:c=!1}=e;const d=(_,v)=>i.liege_location!=null&&_==i.liege_location[0]&&v==i.liege_location[1];function p(_,v,C){let w=document.querySelectorAll(".plot_container");if(l==!1){if(s.referencePlot!=null&&s.referencePlot[0]!==null&&v==null&&C==null&&s.referencePlot[1]!==void 0)return p(_,s.referencePlot[0],s.referencePlot[1]);!s.active&&!c?(Se(ho,r={},r),Se(ot,o.visible=!1,o),w.forEach(k=>{k.classList.remove("selected")})):(v!=null&&C!=null?(Se(ot,o.x=v,o),Se(ot,o.y=C,o)):(Se(ot,o.x=s.x,o),Se(ot,o.y=s.y,o)),Se(ot,o.isMineralSource=s.mineralSource,o),Se(ot,o.visible=!0,o),w.forEach(k=>{k.classList.remove("selected")}),v!=null&&C!=null?document.querySelector(`.plot_container[data-x="${v}"][data-y="${C}"]`).classList.add("selected"):document.querySelector(`.plot_container[data-id="${s.id}"]`).classList.add("selected"))}}function m(_){l==!1&&(Se(Oe,i.plots[s.x][s.y].type=_,i),Se(ot,o.visible=!1,o))}return t.$$set=_=>{"data"in _&&n(0,s=_.data),"classText"in _&&n(1,f=_.classText),"canBeUpgraded"in _&&n(2,c=_.canBeUpgraded)},t.$$.update=()=>{t.$$.dirty&1&&s.type>-1&&n(3,u=oe[s.type])},[s,f,c,u,o,i,a,d,p,m]}class b3 extends _e{constructor(e){super(),he(this,e,g3,_3,ue,{data:0,classText:1,canBeUpgraded:2,changePlotType:9})}get changePlotType(){return this.$$.ctx[9]}}function Mf(t,e,n){const o=t.slice();return o[6]=e[n],o[8]=n,o}function Of(t,e,n){const o=t.slice();return o[9]=e[n],o}function Pf(t){let e,n,o,i,l,r,a,s,u,f,c,d=t[3],p,m,_=Ge(t[2].plots),v=[];for(let k=0;k<_.length;k+=1)v[k]=Ef(Mf(t,_,k));const C=k=>M(v[k],1,1,()=>{v[k]=null});a=new wf({props:{direction:"east"}}),f=new wf({props:{direction:"south"}});let w=Lf(t);return{c(){e=O("div"),n=O("div"),o=O("div"),i=O("div");for(let k=0;k<v.length;k+=1)v[k].c();l=G(),r=O("span"),X(a.$$.fragment),s=G(),u=O("span"),X(f.$$.fragment),c=G(),w.c(),p=Ee(),P(i,"class","grid plot_controller svelte-1bzj7j4"),P(o,"class","flex flex-row items-center"),P(n,"id","plotContainerMain"),P(n,"class","absolute left-[50px] items-center h-max flex flex-col top-[170px] pl-16 pt-16 pb-80 pr-80 bg-background svelte-1bzj7j4"),P(e,"class","flex flex-col")},m(k,R){T(k,e,R),b(e,n),b(n,o),b(o,i);for(let $=0;$<v.length;$+=1)v[$]&&v[$].m(i,null);b(o,l),b(o,r),U(a,r,null),b(n,s),b(n,u),U(f,u,null),T(k,c,R),w.m(k,R),T(k,p,R),m=!0},p(k,R){if(R&7){_=Ge(k[2].plots);let $;for($=0;$<_.length;$+=1){const D=Mf(k,_,$);v[$]?(v[$].p(D,R),A(v[$],1)):(v[$]=Ef(D),v[$].c(),A(v[$],1),v[$].m(i,null))}for(Te(),$=_.length;$<v.length;$+=1)C($);Ie()}R&8&&ue(d,d=k[3])?(Te(),M(w,1,1,ye),Ie(),w=Lf(k),w.c(),A(w,1),w.m(p.parentNode,p)):w.p(k,R)},i(k){if(!m){for(let R=0;R<_.length;R+=1)A(v[R]);A(a.$$.fragment,k),A(f.$$.fragment,k),A(w),m=!0}},o(k){v=v.filter(Boolean);for(let R=0;R<v.length;R+=1)M(v[R]);M(a.$$.fragment,k),M(f.$$.fragment,k),M(w),m=!1},d(k){k&&(S(e),S(c),S(p)),mt(v,k),K(a),K(f),w.d(k)}}}function Nf(t){let e,n;return e=new b3({props:{classText:"hexagon",data:t[9],canBeUpgraded:t[0](t[9].x,t[9].y)}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const l={};i&4&&(l.data=o[9]),i&4&&(l.canBeUpgraded=o[0](o[9].x,o[9].y)),e.$set(l)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function Ef(t){let e,n,o,i,l,r=Ge(t[6]),a=[];for(let u=0;u<r.length;u+=1)a[u]=Nf(Of(t,r,u));const s=u=>M(a[u],1,1,()=>{a[u]=null});return{c(){e=O("div");for(let u=0;u<a.length;u+=1)a[u].c();n=G(),P(e,"class","row "+(t[8]%2!==0?"odd-row":"")+" svelte-1bzj7j4")},m(u,f){T(u,e,f);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(e,null);b(e,n),o=!0,i||(l=te(e,"click",t[1]),i=!0)},p(u,f){if(f&5){r=Ge(u[6]);let c;for(c=0;c<r.length;c+=1){const d=Of(u,r,c);a[c]?(a[c].p(d,f),A(a[c],1)):(a[c]=Nf(d),a[c].c(),A(a[c],1),a[c].m(e,n))}for(Te(),c=r.length;c<a.length;c+=1)s(c);Ie()}},i(u){if(!o){for(let f=0;f<r.length;f+=1)A(a[f]);o=!0}},o(u){a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)M(a[f]);o=!1},d(u){u&&S(e),mt(a,u),i=!1,l()}}}function Rf(t){let e,n;return e=new jd({props:{x:t[4].x,y:t[4].y,open:t[4].visible}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const l={};i&16&&(l.x=o[4].x),i&16&&(l.y=o[4].y),i&16&&(l.open=o[4].visible),e.$set(l)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function Lf(t){let e,n,o=t[4].visible&&Rf(t);return{c(){o&&o.c(),e=Ee()},m(i,l){o&&o.m(i,l),T(i,e,l),n=!0},p(i,l){i[4].visible?o?(o.p(i,l),l&16&&A(o,1)):(o=Rf(i),o.c(),A(o,1),o.m(e.parentNode,e)):o&&(Te(),M(o,1,1,()=>{o=null}),Ie())},i(i){n||(A(o),n=!0)},o(i){M(o),n=!1},d(i){i&&S(e),o&&o.d(i)}}}function v3(t){let e,n,o=t[2]!=null&&Pf(t);return{c(){o&&o.c(),e=Ee()},m(i,l){o&&o.m(i,l),T(i,e,l),n=!0},p(i,[l]){i[2]!=null?o?(o.p(i,l),l&4&&A(o,1)):(o=Pf(i),o.c(),A(o,1),o.m(e.parentNode,e)):o&&(Te(),M(o,1,1,()=>{o=null}),Ie())},i(i){n||(A(o),n=!0)},o(i){M(o),n=!1},d(i){i&&S(e),o&&o.d(i)}}}function y3(t,e,n){let o,i,l;se(t,ho,u=>n(3,o=u)),se(t,Oe,u=>n(2,i=u)),se(t,ot,u=>n(4,l=u)),document.addEventListener("click",function(u){const f=u.target;(f.dataset.x==null&&f.dataset.type!="-1"&&f.dataset.size!=null||f.id=="plotContainerMain"||f.classList.contains("row")||f.classList.contains("grid"))&&Se(ot,l.visible=!1,l)});function r(u,f){let c={x:u,y:f};return c.x===0&&c.y===0?!0:[{x:c.x-1,y:c.y},{x:c.x+1,y:c.y},{x:c.x,y:c.y-1},{x:c.x,y:c.y+1}].some(p=>p.x<0||p.x>=i.plots.length||p.y<0||p.y>=i.plots[p.x].length?!1:i.plots[p.x][p.y].active)}function a(){let u=[];for(let f=0;f<i.plots.length;f++)for(let c=0;c<i.plots.length;c++)r(f,c)&&i.plots[f][c].active==!1&&u.push(i.plots[f][c])}function s(){Se(ho,o={},o)}return t.$$.update=()=>{t.$$.dirty&4&&i&&a()},[r,s,i,o,l]}class w3 extends _e{constructor(e){super(),he(this,e,y3,v3,ue,{checkIfPlotCanBeUpgraded:0,restartModifyPlotMenu:1})}get checkIfPlotCanBeUpgraded(){return this.$$.ctx[0]}get restartModifyPlotMenu(){return this.$$.ctx[1]}}function Df(t,e,n){const o=t.slice();return o[5]=e[n],o}function $f(t){let e,n;return e=new M1({props:{thumb:t[5],class:"block h-5 w-5 rounded-full border-2 border-primary bg-accent ring-accent transition-colors focus-visible:outline-none  disabled:pointer-events-none disabled:opacity-50"}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const l={};i&16&&(l.thumb=o[5]),e.$set(l)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function k3(t){let e,n,o,i,l;n=new k1({props:{class:"absolute h-full bg-primary"}});let r=Ge(t[4]),a=[];for(let u=0;u<r.length;u+=1)a[u]=$f(Df(t,r,u));const s=u=>M(a[u],1,1,()=>{a[u]=null});return{c(){e=O("span"),X(n.$$.fragment),o=G();for(let u=0;u<a.length;u+=1)a[u].c();i=Ee(),P(e,"class","relative h-2 w-full grow overflow-hidden rounded-full bg-textPrimary")},m(u,f){T(u,e,f),U(n,e,null),T(u,o,f);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(u,f);T(u,i,f),l=!0},p(u,f){if(f&16){r=Ge(u[4]);let c;for(c=0;c<r.length;c+=1){const d=Df(u,r,c);a[c]?(a[c].p(d,f),A(a[c],1)):(a[c]=$f(d),a[c].c(),A(a[c],1),a[c].m(i.parentNode,i))}for(Te(),c=r.length;c<a.length;c+=1)s(c);Ie()}},i(u){if(!l){A(n.$$.fragment,u);for(let f=0;f<r.length;f+=1)A(a[f]);l=!0}},o(u){M(n.$$.fragment,u),a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)M(a[f]);l=!1},d(u){u&&(S(e),S(o),S(i)),K(n),mt(a,u)}}}function C3(t){let e,n,o;const i=[{class:Fe("relative flex w-full touch-none select-none items-center",t[1])},t[2]];function l(a){t[3](a)}let r={$$slots:{default:[k3,({thumbs:a})=>({4:a}),({thumbs:a})=>a?16:0]},$$scope:{ctx:t}};for(let a=0;a<i.length;a+=1)r=Z(r,i[a]);return t[0]!==void 0&&(r.value=t[0]),e=new _1({props:r}),Pe.push(()=>Sn(e,"value",l)),{c(){X(e.$$.fragment)},m(a,s){U(e,a,s),o=!0},p(a,[s]){const u=s&6?ge(i,[s&2&&{class:Fe("relative flex w-full touch-none select-none items-center",a[1])},s&4&&ut(a[2])]):{};s&272&&(u.$$scope={dirty:s,ctx:a}),!n&&s&1&&(n=!0,u.value=a[0],An(()=>n=!1)),e.$set(u)},i(a){o||(A(e.$$.fragment,a),o=!0)},o(a){M(e.$$.fragment,a),o=!1},d(a){K(e,a)}}}function A3(t,e,n){const o=["class","value"];let i=re(e,o),{class:l=void 0}=e,{value:r=[0]}=e;function a(s){r=s,n(0,r)}return t.$$set=s=>{e=Z(Z({},e),Ne(s)),n(2,i=re(e,o)),"class"in s&&n(1,l=s.class),"value"in s&&n(0,r=s.value)},[r,l,i,a]}class Ff extends _e{constructor(e){super(),he(this,e,A3,C3,ue,{class:1,value:0})}}function S3(t){let e;return{c(){e=j("Pick an active Plot")},m(n,o){T(n,e,o)},d(n){n&&S(e)}}}function T3(t){let e;return{c(){e=j("Set your location!")},m(n,o){T(n,e,o)},d(n){n&&S(e)}}}function I3(t){let e;function n(l,r){return l[2]?S3:T3}let o=n(t),i=o(t);return{c(){e=O("div"),i.c()},m(l,r){T(l,e,r),i.m(e,null)},p(l,r){o!==(o=n(l))&&(i.d(1),i=o(l),i&&(i.c(),i.m(e,null)))},d(l){l&&S(e),i.d()}}}function M3(t){let e;return{c(){e=O("div"),e.textContent="Manage Knowledge"},m(n,o){T(n,e,o)},p:ye,d(n){n&&S(e)}}}function O3(t){let e;return{c(){e=O("div"),e.textContent="City Management"},m(n,o){T(n,e,o)},p:ye,d(n){n&&S(e)}}}function jf(t){let e;function n(l,r){if(l[0].lab.active_experiment.duration>0)return N3;if(l[0].lab.active_experiment.duration===0)return P3}let o=n(t),i=o&&o(t);return{c(){i&&i.c(),e=Ee()},m(l,r){i&&i.m(l,r),T(l,e,r)},p(l,r){o===(o=n(l))&&i?i.p(l,r):(i&&i.d(1),i=o&&o(l),i&&(i.c(),i.m(e.parentNode,e)))},d(l){l&&S(e),i&&i.d(l)}}}function P3(t){let e;return{c(){e=O("span"),e.textContent="✅ DONE!",P(e,"class","animate-pulse ")},m(n,o){T(n,e,o)},p:ye,d(n){n&&S(e)}}}function N3(t){let e,n=t[0].lab.active_experiment.duration+"",o,i;return{c(){e=O("span"),o=j(n),i=j("d")},m(l,r){T(l,e,r),b(e,o),b(e,i)},p(l,r){r&1&&n!==(n=l[0].lab.active_experiment.duration+"")&&le(o,n)},d(l){l&&S(e)}}}function E3(t){let e,n,o=t[0].lab.active_experiment!==null&&jf(t);return{c(){e=O("div"),n=j(`Manage Lab
            `),o&&o.c()},m(i,l){T(i,e,l),b(e,n),o&&o.m(e,null)},p(i,l){i[0].lab.active_experiment!==null?o?o.p(i,l):(o=jf(i),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},d(i){i&&S(e),o&&o.d()}}}function R3(t){let e,n,o,i,l,r,a,s,u,f=dt(t[0].economyAndLaws.tax_rate*100,0)+"",c,d,p,m,_,v,C,w,k,R,$,D=dt(t[0].townInfo.productivity,0)+"",E,q,L,H,y,g,I,N,B,F,J,z,Q,h,W,Y,ne;return m=new Ff({props:{value:[t[0].economyAndLaws.tax_rate],onValueChange:t[7],min:0,max:.5,step:.05,class:"cursor-pointer w-[90%]"}}),H=new Ff({props:{value:[t[0].townInfo.productivity],onValueChange:t[6],min:0,max:200,step:5,class:"cursor-pointer w-[90%]"}}),I=new vt({props:{class:`text-xs flex flex-col h-min  bg-accent cursor-pointer text-textPrimary p-1.5
          
            `+(t[2]?"bg-green-500":"")+`
          `,$$slots:{default:[I3]},$$scope:{ctx:t}}}),I.$on("click",t[8]),B=new vt({props:{class:"text-xs flex flex-col h-min  bg-accent cursor-pointer text-textPrimary p-1.5",$$slots:{default:[M3]},$$scope:{ctx:t}}}),B.$on("click",t[9]),J=new vt({props:{class:"text-xs flex flex-col h-min  bg-accent cursor-pointer text-textPrimary p-1.5",$$slots:{default:[O3]},$$scope:{ctx:t}}}),J.$on("click",t[10]),Q=new vt({props:{class:"text-xs flex flex-col h-min p-1.5 "+(t[0].hasLab?"bg-accent cursor-pointer text-textPrimary":"bg-accent cursor-not-allowed text-textPrimary opacity-35"),$$slots:{default:[E3]},$$scope:{ctx:t}}}),Q.$on("click",t[5]),{c(){e=O("div"),n=O("div"),o=O("div"),i=O("div"),l=O("div"),r=O("div"),a=O("span"),a.textContent="💰 Tax Rate",s=G(),u=O("span"),c=j(f),d=j("%"),p=G(),X(m.$$.fragment),v=G(),C=O("div"),w=O("div"),k=O("span"),k.textContent="💪 Productivity",R=G(),$=O("span"),E=j(D),q=j("%"),L=G(),X(H.$$.fragment),y=G(),g=O("div"),X(I.$$.fragment),N=G(),X(B.$$.fragment),F=G(),X(J.$$.fragment),z=G(),X(Q.$$.fragment),h=G(),W=O("br"),P(a,"class","text-xs"),P(u,"class","text-xs"),P(l,"class",_="flex flex-col justify-center w-full text-center items-center gap-2 min-h-12 pb-2 rounded-xl "+(t[0].economyAndLaws.tax_rate===0?"bg-textDanger1 animate-pulse font-bold":"")),P(k,"class","text-xs"),P($,"class","text-xs"),P(C,"class","flex flex-col justify-center w-full text-center items-center gap-2"),P(i,"class","flex flex-col gap-2 rounded-xl text-center justify-center mb-2 mt-0"),P(g,"class","flex flex-col gap-2 align-middle justify-start mt-6 "),P(o,"class","flex flex-col justify-center mx-2"),P(n,"class",Y="bg-foreground w-[160px] border-foregroundDark border-4 "+(t[1].visible?"bottom-8  opacity-70":"bottom-2")+" z-10 fixed left-3 py-2 top-[190px] drop-shadow-xl rounded-xl transition-all duration-300 overflow-y-clip"),P(e,"class","flex flex-row text-foregroundText")},m(ee,x){T(ee,e,x),b(e,n),b(n,o),b(o,i),b(i,l),b(l,r),b(r,a),b(r,s),b(r,u),b(u,c),b(u,d),b(l,p),U(m,l,null),b(i,v),b(i,C),b(C,w),b(w,k),b(w,R),b(w,$),b($,E),b($,q),b(C,L),U(H,C,null),b(o,y),b(o,g),U(I,g,null),b(g,N),U(B,g,null),b(g,F),U(J,g,null),b(g,z),U(Q,g,null),b(n,h),b(n,W),ne=!0},p(ee,[x]){(!ne||x&1)&&f!==(f=dt(ee[0].economyAndLaws.tax_rate*100,0)+"")&&le(c,f);const we={};x&1&&(we.value=[ee[0].economyAndLaws.tax_rate]),m.$set(we),(!ne||x&1&&_!==(_="flex flex-col justify-center w-full text-center items-center gap-2 min-h-12 pb-2 rounded-xl "+(ee[0].economyAndLaws.tax_rate===0?"bg-textDanger1 animate-pulse font-bold":"")))&&P(l,"class",_),(!ne||x&1)&&D!==(D=dt(ee[0].townInfo.productivity,0)+"")&&le(E,D);const Ae={};x&1&&(Ae.value=[ee[0].townInfo.productivity]),H.$set(Ae);const Re={};x&4&&(Re.class=`text-xs flex flex-col h-min  bg-accent cursor-pointer text-textPrimary p-1.5
          
            `+(ee[2]?"bg-green-500":"")+`
          `),x&2052&&(Re.$$scope={dirty:x,ctx:ee}),I.$set(Re);const Ze={};x&2048&&(Ze.$$scope={dirty:x,ctx:ee}),B.$set(Ze);const Le={};x&2048&&(Le.$$scope={dirty:x,ctx:ee}),J.$set(Le);const Qe={};x&1&&(Qe.class="text-xs flex flex-col h-min p-1.5 "+(ee[0].hasLab?"bg-accent cursor-pointer text-textPrimary":"bg-accent cursor-not-allowed text-textPrimary opacity-35")),x&2049&&(Qe.$$scope={dirty:x,ctx:ee}),Q.$set(Qe),(!ne||x&2&&Y!==(Y="bg-foreground w-[160px] border-foregroundDark border-4 "+(ee[1].visible?"bottom-8  opacity-70":"bottom-2")+" z-10 fixed left-3 py-2 top-[190px] drop-shadow-xl rounded-xl transition-all duration-300 overflow-y-clip"))&&P(n,"class",Y)},i(ee){ne||(A(m.$$.fragment,ee),A(H.$$.fragment,ee),A(I.$$.fragment,ee),A(B.$$.fragment,ee),A(J.$$.fragment,ee),A(Q.$$.fragment,ee),ne=!0)},o(ee){M(m.$$.fragment,ee),M(H.$$.fragment,ee),M(I.$$.fragment,ee),M(B.$$.fragment,ee),M(J.$$.fragment,ee),M(Q.$$.fragment,ee),ne=!1},d(ee){ee&&S(e),K(m),K(H),K(I),K(B),K(J),K(Q)}}}function L3(t,e,n){let o,i,l,r,a;se(t,Oe,m=>n(0,o=m)),se(t,ot,m=>n(1,i=m)),se(t,_o,m=>n(2,l=m)),se(t,qi,m=>n(3,r=m)),se(t,Hi,m=>n(4,a=m));function s(){o.hasLab&&Ii.set(!0)}function u(m){let _=o;_.townInfo.productivity=dt(m[0],2),Oe.set(_),localStorage.setItem(Bt,JSON.stringify(_))}function f(m){let _=o;_.economyAndLaws.tax_rate=dt(m[0],2),Oe.set(_),localStorage.setItem(Bt,JSON.stringify(_))}return[o,i,l,r,a,s,u,f,function(){Se(_o,l=!0,l)},function(){Se(qi,r=!r,r)},function(){Se(Hi,a=!a,a)}]}class D3 extends _e{constructor(e){super(),he(this,e,L3,R3,ue,{})}}function Bf(t,e,n){const o=t.slice();return o[8]=e[n],o}function qf(t,e,n){const o=t.slice();return o[11]=e[n].icon,o[12]=e[n].name,o[13]=e[n].value,o[14]=e[n].rate,o}function Gf(t,e,n){const o=t.slice();return o[17]=e[n],o}function $3(t){let e;return{c(){e=O("div"),e.innerHTML=`Resources are generated from plots. Generation rate can be increased
            by raising the productivity of the town, at the cost of some
            happiness.
            <br/> <br/>
            There is also a slight bit of randomness as townspeople aren&#39;t robots.`,P(e,"class","text-sm")},m(n,o){T(n,e,o)},p:ye,d(n){n&&S(e)}}}function F3(t){let e,n,o,i;return o=new oi({props:{class:"text-sm w-[200px]",$$slots:{default:[$3]},$$scope:{ctx:t}}}),{c(){e=O("div"),e.innerHTML='<h1 class="text-xl w-full text-center">Resources</h1> <button class="text-textPrimary text-sm">ℹ️</button>',n=G(),X(o.$$.fragment),P(e,"class","flex flex-row items-center pb-2 gap-2")},m(l,r){T(l,e,r),T(l,n,r),U(o,l,r),i=!0},p(l,r){const a={};r&1048576&&(a.$$scope={dirty:r,ctx:l}),o.$set(a)},i(l){i||(A(o.$$.fragment,l),i=!0)},o(l){M(o.$$.fragment,l),i=!1},d(l){l&&(S(e),S(n)),K(o,l)}}}function j3(t){let e,n;return e=new li({props:{$$slots:{default:[F3]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const l={};i&1048576&&(l.$$scope={dirty:i,ctx:o}),e.$set(l)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function B3(t){let e,n,o=t[14]+"",i;return{c(){e=O("span"),n=j("+"),i=j(o),P(e,"class","text-textPrimary")},m(l,r){T(l,e,r),b(e,n),b(e,i)},p(l,r){r&4&&o!==(o=l[14]+"")&&le(i,o)},d(l){l&&S(e)}}}function q3(t){let e;return{c(){e=O("span")},m(n,o){T(n,e,o)},p:ye,d(n){n&&S(e)}}}function G3(t){let e,n=t[14]+"",o;return{c(){e=O("span"),o=j(n),P(e,"class","text-textDanger2")},m(i,l){T(i,e,l),b(e,o)},p(i,l){l&4&&n!==(n=i[14]+"")&&le(o,n)},d(i){i&&S(e)}}}function H3(t){let e,n,o=t[14]+"",i;return{c(){e=O("span"),n=j("+"),i=j(o),P(e,"class","text-textHappy")},m(l,r){T(l,e,r),b(e,n),b(e,i)},p(l,r){r&4&&o!==(o=l[14]+"")&&le(i,o)},d(l){l&&S(e)}}}function V3(t){let e;return{c(){e=O("span"),P(e,"class","display-none")},m(n,o){T(n,e,o)},p:ye,d(n){n&&S(e)}}}function W3(t){let e,n,o=t[14]+"",i,l;return{c(){e=O("span"),n=j("+"),i=j(o),l=j(" (weekly)"),P(e,"class","")},m(r,a){T(r,e,a),b(e,n),b(e,i),b(e,l)},p(r,a){a&4&&o!==(o=r[14]+"")&&le(i,o)},d(r){r&&S(e)}}}function Y3(t){let e,n=t[14]+"",o,i;return{c(){e=O("span"),o=j(n),i=j(" (weekly)"),P(e,"class","text-textDanger2")},m(l,r){T(l,e,r),b(e,o),b(e,i)},p(l,r){r&4&&n!==(n=l[14]+"")&&le(o,n)},d(l){l&&S(e)}}}function U3(t){let e,n,o=t[14]+"",i,l;return{c(){e=O("span"),n=j("+"),i=j(o),l=j(" (weekly)"),P(e,"class","text-textHappy")},m(r,a){T(r,e,a),b(e,n),b(e,i),b(e,l)},p(r,a){a&4&&o!==(o=r[14]+"")&&le(i,o)},d(r){r&&S(e)}}}function Hf(t){let e,n,o,i;return e=new Mt({}),{c(){X(e.$$.fragment),n=G(),o=O("span"),o.textContent="Required for",P(o,"class","text-sm font-semibold")},m(l,r){U(e,l,r),T(l,n,r),T(l,o,r),i=!0},i(l){i||(A(e.$$.fragment,l),i=!0)},o(l){M(e.$$.fragment,l),i=!1},d(l){l&&(S(n),S(o)),K(e,l)}}}function Vf(t){let e,n=t[17]+"",o;return{c(){e=O("span"),o=j(n),P(e,"class","text-xs mr-4")},m(i,l){T(i,e,l),b(e,o)},p(i,l){l&4&&n!==(n=i[17]+"")&&le(o,n)},d(i){i&&S(e)}}}function K3(t){let e,n,o=t[11]+"",i,l,r=sn(t[12])+"",a,s,u,f=t[4](t[12]).length>0,c,d,p;function m(R,$){return R[14]>0?U3:R[14]<0?Y3:R[14]!=null?W3:V3}let _=m(t),v=_(t),C=f&&Hf(),w=Ge(t[4](t[12])),k=[];for(let R=0;R<w.length;R+=1)k[R]=Vf(Gf(t,w,R));return{c(){e=O("div"),n=O("span"),i=j(o),l=G(),a=j(r),s=G(),v.c(),u=G(),C&&C.c(),c=G(),d=O("div");for(let R=0;R<k.length;R+=1)k[R].c();P(n,"class","text-md font-bold"),P(d,"class","flex flex-col flex-wrap min-w-full"),P(e,"class","flex flex-col gap-2 whitespace-nowrap min-w-fit")},m(R,$){T(R,e,$),b(e,n),b(n,i),b(n,l),b(n,a),b(e,s),v.m(e,null),b(e,u),C&&C.m(e,null),b(e,c),b(e,d);for(let D=0;D<k.length;D+=1)k[D]&&k[D].m(d,null);p=!0},p(R,$){if((!p||$&4)&&o!==(o=R[11]+"")&&le(i,o),(!p||$&4)&&r!==(r=sn(R[12])+"")&&le(a,r),_===(_=m(R))&&v?v.p(R,$):(v.d(1),v=_(R),v&&(v.c(),v.m(e,u))),$&4&&(f=R[4](R[12]).length>0),f?C?$&4&&A(C,1):(C=Hf(),C.c(),A(C,1),C.m(e,c)):C&&(Te(),M(C,1,1,()=>{C=null}),Ie()),$&20){w=Ge(R[4](R[12]));let D;for(D=0;D<w.length;D+=1){const E=Gf(R,w,D);k[D]?k[D].p(E,$):(k[D]=Vf(E),k[D].c(),k[D].m(d,null))}for(;D<k.length;D+=1)k[D].d(1);k.length=w.length}},i(R){p||(A(C),p=!0)},o(R){M(C),p=!1},d(R){R&&S(e),v.d(),C&&C.d(),mt(k,R)}}}function X3(t){let e,n=t[11]+"",o,i,l=Xt(parseInt(t[13]),!1)+"",r,a,s,u,f,c;function d(_,v){return _[14]>0?H3:_[14]<0?G3:_[14]==null?q3:B3}let p=d(t),m=p(t);return f=new oi({props:{$$slots:{default:[K3]},$$scope:{ctx:t}}}),{c(){e=O("span"),o=j(n),i=G(),r=j(l),a=G(),m.c(),u=G(),X(f.$$.fragment),P(e,"class",s="flex flex-row justify-between "+(t[13]<=0?"text-textDanger1 font-semibold":"text-textPrimary"))},m(_,v){T(_,e,v),b(e,o),b(e,i),b(e,r),b(e,a),m.m(e,null),T(_,u,v),U(f,_,v),c=!0},p(_,v){(!c||v&4)&&n!==(n=_[11]+"")&&le(o,n),(!c||v&4)&&l!==(l=Xt(parseInt(_[13]),!1)+"")&&le(r,l),p===(p=d(_))&&m?m.p(_,v):(m.d(1),m=p(_),m&&(m.c(),m.m(e,null))),(!c||v&4&&s!==(s="flex flex-row justify-between "+(_[13]<=0?"text-textDanger1 font-semibold":"text-textPrimary")))&&P(e,"class",s);const C={};v&1048580&&(C.$$scope={dirty:v,ctx:_}),f.$set(C)},i(_){c||(A(f.$$.fragment,_),c=!0)},o(_){M(f.$$.fragment,_),c=!1},d(_){_&&(S(e),S(u)),m.d(),K(f,_)}}}function J3(t){let e,n,o;return e=new li({props:{$$slots:{default:[X3]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=G()},m(i,l){U(e,i,l),T(i,n,l),o=!0},p(i,l){const r={};l&1048580&&(r.$$scope={dirty:l,ctx:i}),e.$set(r)},i(i){o||(A(e.$$.fragment,i),o=!0)},o(i){M(e.$$.fragment,i),o=!1},d(i){i&&S(n),K(e,i)}}}function Wf(t){let e,n;return e=new ii({props:{openDelay:400,closeDelay:0,$$slots:{default:[J3]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const l={};i&1048580&&(l.$$scope={dirty:i,ctx:o}),e.$set(l)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function Yf(t){let e;return{c(){e=O("p"),e.textContent="No alerts",P(e,"class","text-center text-xs opacity-50")},m(n,o){T(n,e,o)},d(n){n&&S(e)}}}function Uf(t){let e,n,o,i=t[8].day+"",l,r,a,s=t[8].message+"",u,f,c,d;return{c(){e=O("div"),n=O("p"),o=j("DAY "),l=j(i),r=G(),a=O("p"),u=j(s),c=G(),d=O("br"),P(n,"class","font-mono text-[10px] "),P(a,"class","text-xs pb-1"),P(e,"class",f="p-2 rounded-2xl fade-in "+(t[8].vibe==rt.BAD?"bg-red-600":t[8].vibe==rt.GOOD?"bg-green-600":(t[8].vibe==rt.NORMAL,"bg-accent")))},m(p,m){T(p,e,m),b(e,n),b(n,o),b(n,l),b(e,r),b(e,a),b(a,u),T(p,c,m),T(p,d,m)},p(p,m){m&1&&i!==(i=p[8].day+"")&&le(l,i),m&1&&s!==(s=p[8].message+"")&&le(u,s),m&1&&f!==(f="p-2 rounded-2xl fade-in "+(p[8].vibe==rt.BAD?"bg-red-600":p[8].vibe==rt.GOOD?"bg-green-600":(p[8].vibe==rt.NORMAL,"bg-accent")))&&P(e,"class",f)},d(p){p&&(S(e),S(c),S(d))}}}function x3(t){let e,n,o,i,l,r,a,s,u,f,c,d,p,m=t[1]=="true"?"🔇":"🔊",_,v,C,w,k,R,$,D,E,q;o=new ii({props:{openDelay:400,closeDelay:0,$$slots:{default:[j3]},$$scope:{ctx:t}}});let L=Ge(t[2]),H=[];for(let B=0;B<L.length;B+=1)H[B]=Wf(qf(t,L,B));const y=B=>M(H[B],1,1,()=>{H[B]=null});s=new Mt({});let g=t[0].townLog.length==0&&Yf(),I=Ge(t[0].townLog),N=[];for(let B=0;B<I.length;B+=1)N[B]=Uf(Bf(t,I,B));return{c(){e=O("div"),n=O("div"),X(o.$$.fragment),i=G(),l=O("div"),r=O("div");for(let B=0;B<H.length;B+=1)H[B].c();a=G(),X(s.$$.fragment),u=G(),f=O("div"),c=O("h1"),c.textContent="Alerts",d=G(),p=O("button"),_=j(m),v=G(),C=O("div"),g&&g.c(),w=G();for(let B=0;B<N.length;B+=1)N[B].c();k=G(),R=O("ul"),P(n,"class","flex flex-row justify-center"),P(r,"class","flex flex-col text-sm text-nowrap gap-2"),P(c,"class","text-xl pb-2 cursor-pointer "),P(f,"class","flex flex-row gap-2 items-start justify-center"),P(C,"class","overflow-y-scroll h-[100%] w-[100%] px-1 pb-16 scroll-smooth"),P(R,"class","list-disc pl-5 gap-2 flex flex-col text-xs "),P(l,"class","flex flex-col justify-between gap-4 text-foregroundText h-full pb-12"),P(e,"class",$="bg-foreground w-[160px] sidebar border-foregroundDark border-4 "+(t[3].visible?"bottom-8 opacity-70":"bottom-2")+" z-10 fixed right-3 top-[190px] rounded-xl p-2 transition-all duration-300")},m(B,F){T(B,e,F),b(e,n),U(o,n,null),b(e,i),b(e,l),b(l,r);for(let J=0;J<H.length;J+=1)H[J]&&H[J].m(r,null);b(l,a),U(s,l,null),b(l,u),b(l,f),b(f,c),b(f,d),b(f,p),b(p,_),b(l,v),b(l,C),g&&g.m(C,null),b(C,w);for(let J=0;J<N.length;J+=1)N[J]&&N[J].m(C,null);b(l,k),b(l,R),D=!0,E||(q=[te(c,"click",t[5]),te(p,"click",t[6])],E=!0)},p(B,[F]){const J={};if(F&1048576&&(J.$$scope={dirty:F,ctx:B}),o.$set(J),F&20){L=Ge(B[2]);let z;for(z=0;z<L.length;z+=1){const Q=qf(B,L,z);H[z]?(H[z].p(Q,F),A(H[z],1)):(H[z]=Wf(Q),H[z].c(),A(H[z],1),H[z].m(r,null))}for(Te(),z=L.length;z<H.length;z+=1)y(z);Ie()}if((!D||F&2)&&m!==(m=B[1]=="true"?"🔇":"🔊")&&le(_,m),B[0].townLog.length==0?g||(g=Yf(),g.c(),g.m(C,w)):g&&(g.d(1),g=null),F&1){I=Ge(B[0].townLog);let z;for(z=0;z<I.length;z+=1){const Q=Bf(B,I,z);N[z]?N[z].p(Q,F):(N[z]=Uf(Q),N[z].c(),N[z].m(C,null))}for(;z<N.length;z+=1)N[z].d(1);N.length=I.length}(!D||F&8&&$!==($="bg-foreground w-[160px] sidebar border-foregroundDark border-4 "+(B[3].visible?"bottom-8 opacity-70":"bottom-2")+" z-10 fixed right-3 top-[190px] rounded-xl p-2 transition-all duration-300"))&&P(e,"class",$)},i(B){if(!D){A(o.$$.fragment,B);for(let F=0;F<L.length;F+=1)A(H[F]);A(s.$$.fragment,B),D=!0}},o(B){M(o.$$.fragment,B),H=H.filter(Boolean);for(let F=0;F<H.length;F+=1)M(H[F]);M(s.$$.fragment,B),D=!1},d(B){B&&S(e),K(o),mt(H,B),K(s),g&&g.d(),mt(N,B),E=!1,$e(q)}}}function Z3(t){return["food","wood","stone","metal","power","knowledge"].includes(t)}function Q3(t,e,n){let o,i;se(t,Oe,c=>n(0,o=c)),se(t,ot,c=>n(3,i=c));let l=localStorage.getItem("mute")||"false",r=[];function a(c){let d=[];for(let p=0;p<oe.length;p++)(c!="knowledge"&&oe[p].requirements.resources[c]>0||c=="power"&&oe[p].active_costs.power>0||c=="knowledge"&&oe[p].requirements.knowledge>0)&&d.push(oe[p].title);return d}function s(c){return Z3(c)?a(c):[]}const u=()=>{Se(Oe,o.townLog=[],o)},f=()=>{localStorage.setItem("mute",l=="false"?"true":l==="true"?"false":"true"),n(1,l=localStorage.getItem("mute")||"false")};return t.$$.update=()=>{t.$$.dirty&1&&n(2,r=[{icon:"🥕",name:"food",value:o.resources.food,rate:o.resource_rate.food},{icon:"🪵",name:"wood",value:o.resources.wood,rate:o.resource_rate.wood},{icon:"🪨",name:"stone",value:o.resources.stone,rate:o.resource_rate.stone},{icon:"🧠",name:"knowledge",value:o.townInfo.knowledge_points,rate:o.resource_rate.knowledge},{icon:"🧲",name:"metal",value:o.resources.metal,rate:o.resource_rate.metal},{icon:"🔋",name:"power",value:o.resources.power,rate:null},{icon:"🧑‍⚖️",name:"bureaucracy",value:o.resources.bureaucracy,rate:o.resource_rate.bureaucracy}])},n(1,l=localStorage.getItem("mute")||"false"),[o,l,r,i,s,u,f]}class z3 extends _e{constructor(e){super(),he(this,e,Q3,x3,ue,{})}}function eC(t){let e,n,o,i,l,r,a,s,u,f,c,d,p;return o=new x4({}),r=new D3({}),s=new w3({}),f=new z3({}),d=new jd({}),{c(){e=O("div"),n=O("div"),X(o.$$.fragment),i=G(),l=O("div"),X(r.$$.fragment),a=G(),X(s.$$.fragment),u=G(),X(f.$$.fragment),c=G(),X(d.$$.fragment),P(l,"class","flex flex-row text-foregroundText"),P(e,"class","flex flex-col max-h-[100%] justify-between")},m(m,_){T(m,e,_),b(e,n),U(o,n,null),b(e,i),b(e,l),U(r,l,null),b(l,a),U(s,l,null),b(l,u),U(f,l,null),b(l,c),U(d,l,null),p=!0},p:ye,i(m){p||(A(o.$$.fragment,m),A(r.$$.fragment,m),A(s.$$.fragment,m),A(f.$$.fragment,m),A(d.$$.fragment,m),p=!0)},o(m){M(o.$$.fragment,m),M(r.$$.fragment,m),M(s.$$.fragment,m),M(f.$$.fragment,m),M(d.$$.fragment,m),p=!1},d(m){m&&S(e),K(o),K(r),K(s),K(f),K(d)}}}function tC(t,e,n){return se(t,Oe,o=>n(0,o)),[]}class nC extends _e{constructor(e){super(),he(this,e,tC,eC,ue,{})}}function Kf(t,e,n){const o=t.slice();return o[20]=e[n],o}function Xf(t){let e,n,o,i,l,r,a=t[20].description+"",s;return{c(){e=O("li"),n=O("div"),o=O("span"),o.textContent=`☑️ ${t[20].text}`,i=G(),l=O("span"),r=O("blockquote"),s=G(),P(o,"class","hover:text-green-300 font-bold"),P(r,"class","text-xs px-[18px]"),P(l,"class","text-sm transition-all duration-300 ease-in-out "),P(n,"class","flex flex-col gap-2"),P(e,"class","flex flex-row gap-2 items-center")},m(u,f){T(u,e,f),b(e,n),b(n,o),b(n,i),b(n,l),b(l,r),r.innerHTML=a,b(e,s)},p:ye,d(u){u&&S(e)}}}function oC(t){let e,n,o,i,l,r,a=t[0].townInfo.name+"",s,u,f,c,d,p,m,_,v,C,w,k=Ge(t[2]),R=[];for(let $=0;$<k.length;$+=1)R[$]=Xf(Kf(t,k,$));return{c(){e=O("div"),n=O("div"),o=O("div"),i=O("h1"),l=j("The town of "),r=O("span"),s=j(a),u=j(`
                has been founded!`),f=G(),c=O("p"),c.textContent=`Congratulations! 🎉 After leaving your old town, you've
                discovered a fertile land bursting with potential. This is your
                chance to build a thriving new community from the ground up.`,d=G(),p=O("p"),p.innerHTML=`As the town founder and <span class="italic">formal liege</span>, you must <span class="text-blue-300">collect taxes</span>,
                and use that funding to
                <span class="text-blue-300">build plots</span>.`,m=G(),_=O("div"),v=O("div"),v.innerHTML='<h3 class="text-xl underline underline-offset-8">Your Objectives</h3>',C=G(),w=O("ul");for(let $=0;$<R.length;$+=1)R[$].c();P(r,"class","text-accent"),P(i,"class","text-3xl mt-4 text-white font-semibold"),P(o,"class","flex flex-col gap-4"),P(v,"class","flex flex-row align-middle items-center"),P(w,"class","select-none gap-4 flex flex-col "),P(_,"class","flex flex-col gap-4"),P(n,"class","flex flex-col gap-8 overflow-y-scroll"),P(e,"class","flex flex-row gap-6")},m($,D){T($,e,D),b(e,n),b(n,o),b(o,i),b(i,l),b(i,r),b(r,s),b(i,u),b(o,f),b(o,c),b(o,d),b(o,p),b(n,m),b(n,_),b(_,v),b(_,C),b(_,w);for(let E=0;E<R.length;E+=1)R[E]&&R[E].m(w,null)},p($,D){if(D&1&&a!==(a=$[0].townInfo.name+"")&&le(s,a),D&4){k=Ge($[2]);let E;for(E=0;E<k.length;E+=1){const q=Kf($,k,E);R[E]?R[E].p(q,D):(R[E]=Xf(q),R[E].c(),R[E].m(w,null))}for(;E<R.length;E+=1)R[E].d(1);R.length=k.length}},d($){$&&S(e),mt(R,$)}}}function iC(t){let e,n;return e=new Wr({props:{$$slots:{default:[oC]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const l={};i&8388609&&(l.$$scope={dirty:i,ctx:o}),e.$set(l)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function lC(t){let e;return{c(){e=j("Start your kingdom")},m(n,o){T(n,e,o)},d(n){n&&S(e)}}}function rC(t){let e,n;return e=new od({props:{class:"bg-accent rounded-2xl text-foregroundText px-4 py-2 hover:scale-110 transition-all duration-300 ",$$slots:{default:[lC]},$$scope:{ctx:t}}}),e.$on("click",t[6]),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const l={};i&8388608&&(l.$$scope={dirty:i,ctx:o}),e.$set(l)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function sC(t){let e,n,o,i;return e=new Vr({props:{$$slots:{default:[iC]},$$scope:{ctx:t}}}),o=new yl({props:{$$slots:{default:[rC]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment),n=G(),X(o.$$.fragment)},m(l,r){U(e,l,r),T(l,n,r),U(o,l,r),i=!0},p(l,r){const a={};r&8388609&&(a.$$scope={dirty:r,ctx:l}),e.$set(a);const s={};r&8388608&&(s.$$scope={dirty:r,ctx:l}),o.$set(s)},i(l){i||(A(e.$$.fragment,l),A(o.$$.fragment,l),i=!0)},o(l){M(e.$$.fragment,l),M(o.$$.fragment,l),i=!1},d(l){l&&S(n),K(e,l),K(o,l)}}}function aC(t){let e,n;return e=new wl({props:{class:"bg-foregroundDark text-foregroundText min-w-[50vw] min-h-[50vh] flex flex-col justify-between ",$$slots:{default:[sC]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const l={};i&8388609&&(l.$$scope={dirty:i,ctx:o}),e.$set(l)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function uC(t){let e,n;return e=new kl({props:{open:t[1],$$slots:{default:[aC]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,[i]){const l={};i&2&&(l.open=o[1]),i&8388609&&(l.$$scope={dirty:i,ctx:o}),e.$set(l)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function fC(t,e,n){let o,i,l,r;se(t,rn,m=>n(8,o=m)),se(t,Oe,m=>n(0,i=m)),se(t,Vi,m=>n(5,l=m)),se(t,Zl,m=>n(1,r=m)),Gn[i.endGoal],Pr[i.difficulty],it.sort((m,_)=>f(m.id)&&!f(_.id)?-1:!f(m.id)&&f(_.id)?1:0),it.filter(m=>f(m.id));function s(m){const _=o.achievements.find(v=>v[0]==m);return _==null?!1:_[3]}let u=it;function f(m){return o.achievements==null?!1:o.achievements.find(_=>_[0]==m)!=null}function c(){Vi.update(m=>!m),localStorage.setItem("showCompletedAchievements",localStorage.getItem("showCompletedAchievements")==="true"?"false":"true")}localStorage.getItem("pauseMenuTab")==null&&(localStorage.setItem("pauseMenuTab","game"),dc.set("game"));const d=[{text:"Create a thriving economy",description:"Invite people into your town, and have them work to generate food, wood, and other resources."},{text:"Grow your kingdom",description:"Get enough resources to build a <span class='text-green-300'>City Hall</span>, which will be used to expand your kingdom and keep your townspeople the happiest!"},{text:"Keep the town Happy and Healthy",description:"Pay attention to your happiness and health in the top left when you place plots. Certain ones may greatly impact your town's well-being. "}],p=()=>{Zl.set(!1)};return t.$$.update=()=>{if(t.$$.dirty&49&&i)if(l)n(4,u=it);else{n(4,u=[]);for(let m=0;m<it.length;m++)(!f(it[m].id)||!s(it[m].id))&&u.push(it[m])}},[i,r,d,c,u,l,p]}class cC extends _e{constructor(e){super(),he(this,e,fC,uC,ue,{toggleShowCompleted:3})}get toggleShowCompleted(){return this.$$.ctx[3]}}function Jf(t,e,n){const o=t.slice();return o[7]=e[n],o}function dC(t){let e,n,o=t[0].townInfo.name+"",i,l,r,a,s=t[0].resources.bureaucracy+"",u;return{c(){e=O("div"),n=O("span"),i=j(o),l=G(),r=O("span"),a=j("🧑‍⚖️ "),u=j(s),P(e,"class","flex justify-between mr-10")},m(f,c){T(f,e,c),b(e,n),b(n,i),b(e,l),b(e,r),b(r,a),b(r,u)},p(f,c){c&1&&o!==(o=f[0].townInfo.name+"")&&le(i,o),c&1&&s!==(s=f[0].resources.bureaucracy+"")&&le(u,s)},d(f){f&&S(e)}}}function xf(t){let e,n,o,i,l,r,a,s,u,f,c,d,p,m,_=t[0].townInfo.guardians+"",v,C,w,k,R,$=t[0].townInfo.population_count-t[0].townInfo.employees+"",D,E,q;return e=new Mt({props:{class:"mb-4"}}),d=new vt({props:{class:`bg-accent rounded-2xl h-min select-none
            `+(t[0].townInfo.guardians<=0?"opacity-50 cursor-not-allowed":"")+`
            `,$$slots:{default:[mC]},$$scope:{ctx:t}}}),d.$on("click",t[2]),w=new vt({props:{class:`bg-accent rounded-2xl h-min select-none
            
              `+(t[0].townInfo.employees>=t[0].townInfo.population_count?"opacity-50 cursor-not-allowed":"")+`
            `,$$slots:{default:[pC]},$$scope:{ctx:t}}}),w.$on("click",t[3]),{c(){X(e.$$.fragment),n=G(),o=O("div"),i=O("span"),i.textContent="Hire Guardians ⚔️",l=G(),r=O("br"),a=G(),s=O("span"),s.textContent=`Guardians work for you and are required to expand your kingdom.
            They do not generate revenue, but still require housing & food.`,u=G(),f=O("div"),c=O("div"),X(d.$$.fragment),p=G(),m=O("span"),v=j(_),C=G(),X(w.$$.fragment),k=G(),R=O("span"),D=j($),E=j(`
              unemployed available for hire.`),P(i,"class","text-lg font-bold"),P(s,"class","text-sm italic"),P(m,"class","text-lg font-bold select-none px-2"),P(R,"class","w-max"),P(f,"class","flex flex-row justify-between align-middle items-center pt-2 pb-2 gap-2 "),P(o,"class","w-full")},m(L,H){U(e,L,H),T(L,n,H),T(L,o,H),b(o,i),b(o,l),b(o,r),b(o,a),b(o,s),b(o,u),b(o,f),b(f,c),U(d,c,null),b(c,p),b(c,m),b(m,v),b(c,C),U(w,c,null),b(f,k),b(f,R),b(R,D),b(R,E),q=!0},p(L,H){const y={};H&1&&(y.class=`bg-accent rounded-2xl h-min select-none
            `+(L[0].townInfo.guardians<=0?"opacity-50 cursor-not-allowed":"")+`
            `),H&1024&&(y.$$scope={dirty:H,ctx:L}),d.$set(y),(!q||H&1)&&_!==(_=L[0].townInfo.guardians+"")&&le(v,_);const g={};H&1&&(g.class=`bg-accent rounded-2xl h-min select-none
            
              `+(L[0].townInfo.employees>=L[0].townInfo.population_count?"opacity-50 cursor-not-allowed":"")+`
            `),H&1024&&(g.$$scope={dirty:H,ctx:L}),w.$set(g),(!q||H&1)&&$!==($=L[0].townInfo.population_count-L[0].townInfo.employees+"")&&le(D,$)},i(L){q||(A(e.$$.fragment,L),A(d.$$.fragment,L),A(w.$$.fragment,L),q=!0)},o(L){M(e.$$.fragment,L),M(d.$$.fragment,L),M(w.$$.fragment,L),q=!1},d(L){L&&(S(n),S(o)),K(e,L),K(d),K(w)}}}function mC(t){let e;return{c(){e=j("-")},m(n,o){T(n,e,o)},d(n){n&&S(e)}}}function pC(t){let e;return{c(){e=j("+")},m(n,o){T(n,e,o)},d(n){n&&S(e)}}}function hC(t){let e;return{c(){e=j("Build a City Hall to manage your city.")},m(n,o){T(n,e,o)},p:ye,i:ye,o:ye,d(n){n&&S(e)}}}function _C(t){let e,n,o,i,l=Ge(nr),r=[];for(let s=0;s<l.length;s+=1)r[s]=Zf(Jf(t,l,s));const a=s=>M(r[s],1,1,()=>{r[s]=null});return{c(){e=O("span"),e.textContent="Laws 🧑‍⚖️",n=G();for(let s=0;s<r.length;s+=1)r[s].c();o=Ee(),P(e,"class","text-lg font-bold")},m(s,u){T(s,e,u),T(s,n,u);for(let f=0;f<r.length;f+=1)r[f]&&r[f].m(s,u);T(s,o,u),i=!0},p(s,u){if(u&1){l=Ge(nr);let f;for(f=0;f<l.length;f+=1){const c=Jf(s,l,f);r[f]?(r[f].p(c,u),A(r[f],1)):(r[f]=Zf(c),r[f].c(),A(r[f],1),r[f].m(o.parentNode,o))}for(Te(),f=l.length;f<r.length;f+=1)a(f);Ie()}},i(s){if(!i){for(let u=0;u<l.length;u+=1)A(r[u]);i=!0}},o(s){r=r.filter(Boolean);for(let u=0;u<r.length;u+=1)M(r[u]);i=!1},d(s){s&&(S(e),S(n),S(o)),mt(r,s)}}}function gC(t){let e,n=t[7].cost+"",o;return{c(){e=j("Enact for 🧑‍⚖️ "),o=j(n)},m(i,l){T(i,e,l),T(i,o,l)},d(i){i&&(S(e),S(o))}}}function bC(t){let e;return{c(){e=j("Repeal ❌")},m(n,o){T(n,e,o)},d(n){n&&S(e)}}}function vC(t){let e,n;function o(r,a){return a&1&&(e=null),e==null&&(e=!!r[0].economyAndLaws.enacted.includes(r[7].id)),e?bC:gC}let i=o(t,-1),l=i(t);return{c(){l.c(),n=Ee()},m(r,a){l.m(r,a),T(r,n,a)},p(r,a){i!==(i=o(r,a))&&(l.d(1),l=i(r),l&&(l.c(),l.m(n.parentNode,n)))},d(r){r&&S(n),l.d(r)}}}function Zf(t){let e,n,o,i,l,r,a;function s(){return t[4](t[7])}return i=new vt({props:{class:`bg-accent rounded-2xl 
                `+(t[0].economyAndLaws.enacted.includes(t[7].id)?"bg-textDanger1":"bg-accent")+`

                `+(t[0].economyAndLaws.enacted.includes(t[7].id)||t[7].cost<=t[0].resources.bureaucracy?"cursor-pointer":"cursor-not-allowed opacity-30")+`
                `,$$slots:{default:[vC]},$$scope:{ctx:t}}}),i.$on("click",s),r=new Mt({props:{class:"bg-white opacity-30"}}),{c(){e=O("div"),n=O("span"),n.textContent=`${t[7].description}`,o=G(),X(i.$$.fragment),l=G(),X(r.$$.fragment),P(e,"class","flex justify-between align-middle items-center pt-2 pb-2 gap-2 ")},m(u,f){T(u,e,f),b(e,n),b(e,o),U(i,e,null),T(u,l,f),U(r,u,f),a=!0},p(u,f){t=u;const c={};f&1&&(c.class=`bg-accent rounded-2xl 
                `+(t[0].economyAndLaws.enacted.includes(t[7].id)?"bg-textDanger1":"bg-accent")+`

                `+(t[0].economyAndLaws.enacted.includes(t[7].id)||t[7].cost<=t[0].resources.bureaucracy?"cursor-pointer":"cursor-not-allowed opacity-30")+`
                `),f&1025&&(c.$$scope={dirty:f,ctx:t}),i.$set(c)},i(u){a||(A(i.$$.fragment,u),A(r.$$.fragment,u),a=!0)},o(u){M(i.$$.fragment,u),M(r.$$.fragment,u),a=!1},d(u){u&&(S(e),S(l)),K(i),K(r,u)}}}function yC(t){let e,n,o,i,l=qe("city_hall",t[0]).length>0,r,a,s,u,f,c,d,p;e=new Kn({props:{class:"text-xl",$$slots:{default:[dC]},$$scope:{ctx:t}}}),o=new xn({props:{class:"w-3/4 overflow-scroll "}});let m=l&&xf(t);a=new Mt({props:{class:"mb-4"}});const _=[_C,hC],v=[];function C(w,k){return k&1&&(f=null),f==null&&(f=qe("city_hall",w[0]).length>0),f?0:1}return c=C(t,-1),d=v[c]=_[c](t),{c(){X(e.$$.fragment),n=G(),X(o.$$.fragment),i=G(),m&&m.c(),r=G(),X(a.$$.fragment),s=G(),u=O("div"),d.c(),P(u,"class","w-full")},m(w,k){U(e,w,k),T(w,n,k),U(o,w,k),T(w,i,k),m&&m.m(w,k),T(w,r,k),U(a,w,k),T(w,s,k),T(w,u,k),v[c].m(u,null),p=!0},p(w,k){const R={};k&1025&&(R.$$scope={dirty:k,ctx:w}),e.$set(R),k&1&&(l=qe("city_hall",w[0]).length>0),l?m?(m.p(w,k),k&1&&A(m,1)):(m=xf(w),m.c(),A(m,1),m.m(r.parentNode,r)):m&&(Te(),M(m,1,1,()=>{m=null}),Ie());let $=c;c=C(w,k),c===$?v[c].p(w,k):(Te(),M(v[$],1,1,()=>{v[$]=null}),Ie(),d=v[c],d?d.p(w,k):(d=v[c]=_[c](w),d.c()),A(d,1),d.m(u,null))},i(w){p||(A(e.$$.fragment,w),A(o.$$.fragment,w),A(m),A(a.$$.fragment,w),A(d),p=!0)},o(w){M(e.$$.fragment,w),M(o.$$.fragment,w),M(m),M(a.$$.fragment,w),M(d),p=!1},d(w){w&&(S(n),S(i),S(r),S(s),S(u)),K(e,w),K(o,w),m&&m.d(w),K(a,w),v[c].d()}}}function wC(t){let e,n,o,i;return e=new Xn({props:{$$slots:{default:[yC]},$$scope:{ctx:t}}}),o=new Io({}),{c(){X(e.$$.fragment),n=G(),X(o.$$.fragment)},m(l,r){U(e,l,r),T(l,n,r),U(o,l,r),i=!0},p(l,r){const a={};r&1025&&(a.$$scope={dirty:r,ctx:l}),e.$set(a)},i(l){i||(A(e.$$.fragment,l),A(o.$$.fragment,l),i=!0)},o(l){M(e.$$.fragment,l),M(o.$$.fragment,l),i=!1},d(l){l&&S(n),K(e,l),K(o,l)}}}function kC(t){let e,n;return e=new Jn({props:{class:"bg-foreground text-foregroundText h-[80vh] overflow-scroll",$$slots:{default:[wC]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const l={};i&1025&&(l.$$scope={dirty:i,ctx:o}),e.$set(l)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function CC(t){let e,n,o;function i(r){t[5](r)}let l={$$slots:{default:[kC]},$$scope:{ctx:t}};return t[1]!==void 0&&(l.open=t[1]),e=new Zn({props:l}),Pe.push(()=>Sn(e,"open",i)),{c(){X(e.$$.fragment)},m(r,a){U(e,r,a),o=!0},p(r,[a]){const s={};a&1025&&(s.$$scope={dirty:a,ctx:r}),!n&&a&2&&(n=!0,s.open=r[1],An(()=>n=!1)),e.$set(s)},i(r){o||(A(e.$$.fragment,r),o=!0)},o(r){M(e.$$.fragment,r),o=!1},d(r){K(e,r)}}}function AC(t,e,n){let o,i;se(t,Oe,u=>n(0,o=u)),se(t,Hi,u=>n(1,i=u));const l=()=>{o.townInfo.guardians>0?(Se(Oe,o.townInfo.guardians-=1,o),Se(Oe,o.townInfo.employees-=1,o)):Rt.set("No guardians to fire.")},r=()=>{o.townInfo.employees<o.townInfo.population_count?(Se(Oe,o.townInfo.guardians+=1,o),Se(Oe,o.townInfo.employees+=1,o)):Rt.set("Not enough people.")},a=u=>{o.economyAndLaws.enacted.includes(u.id)?o.economyAndLaws.enacted.splice(o.economyAndLaws.enacted.indexOf(u.id),1):u.cost<=o.resources.bureaucracy?(Se(Oe,o.resources.bureaucracy-=u.cost,o),o.economyAndLaws.enacted.push(u.id)):Rt.set("Not enough bureaucracy!")};function s(u){i=u,Hi.set(i)}return t.$$.update=()=>{t.$$.dirty&1},[o,i,l,r,a,s]}class SC extends _e{constructor(e){super(),he(this,e,AC,CC,ue,{})}}function TC(t){let e;return{c(){e=j("Got it")},m(n,o){T(n,e,o)},d(n){n&&S(e)}}}function IC(t){let e,n,o,i,l,r,a,s;return l=new nd({props:{class:"bg-accent hover:scale-105 min-w-[70%] transition-all duration-150 mt-2",$$slots:{default:[TC]},$$scope:{ctx:t}}}),l.$on("click",t[1]),a=new yl({}),{c(){e=O("span"),n=j("🛎️ "),o=new tn(!1),i=G(),X(l.$$.fragment),r=G(),X(a.$$.fragment),o.a=null,P(e,"class","whitespace-pre-wrap overflow-scroll text-center sm:whitespace-normal break-all sm:text-md sm:font-semibold sm:py-4 sm:items-center sm:justify-center"),et(e,"max-height","80%")},m(u,f){T(u,e,f),b(e,n),o.m(t[0],e),T(u,i,f),U(l,u,f),T(u,r,f),U(a,u,f),s=!0},p(u,f){(!s||f&1)&&o.p(u[0]);const c={};f&4&&(c.$$scope={dirty:f,ctx:u}),l.$set(c)},i(u){s||(A(l.$$.fragment,u),A(a.$$.fragment,u),s=!0)},o(u){M(l.$$.fragment,u),M(a.$$.fragment,u),s=!1},d(u){u&&(S(e),S(i),S(r)),K(l,u),K(a,u)}}}function MC(t){let e,n;return e=new wl({props:{class:`bg-foregroundDark text-white rounded-input shadow-3xl justify-center items-center flex flex-col py-2 text-lg font-semibold p-2 min-w-96 min-h-36
         sm:rounded-2xl sm:flex sm:flex-col sm:p-6 sm:text-md sm:font-semibold sm:py-4 sm:items-center sm:justify-center max-h-[50vh]

         `,$$slots:{default:[IC]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,i){const l={};i&5&&(l.$$scope={dirty:i,ctx:o}),e.$set(l)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function OC(t){let e,n;return e=new kl({props:{open:t[0]!="",$$slots:{default:[MC]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p(o,[i]){const l={};i&1&&(l.open=o[0]!=""),i&5&&(l.$$scope={dirty:i,ctx:o}),e.$set(l)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function PC(t,e,n){let o;return se(t,Rt,l=>n(0,o=l)),[o,()=>{Rt.set("")}]}class NC extends _e{constructor(e){super(),he(this,e,PC,OC,ue,{})}}function Qf(t){let e,n,o,i;const l=[RC,EC],r=[];function a(s,u){return s[0]==null?0:1}return e=a(t),n=r[e]=l[e](t),{c(){n.c(),o=Ee()},m(s,u){r[e].m(s,u),T(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?r[e].p(s,u):(Te(),M(r[f],1,1,()=>{r[f]=null}),Ie(),n=r[e],n?n.p(s,u):(n=r[e]=l[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){M(n),i=!1},d(s){s&&S(o),r[e].d(s)}}}function EC(t){let e,n,o,i,l,r,a,s,u,f,c,d,p,m,_,v,C,w,k,R,$=t[2]==!0&&zf();n=new nC({}),i=new cp({}),r=new ay({}),s=new Ry({}),f=new l4({}),d=new I4({}),m=new SC({}),v=new NC({});let D=t[0].environment.day==0&&t[3]&&ec();return{c(){$&&$.c(),e=G(),X(n.$$.fragment),o=G(),X(i.$$.fragment),l=G(),X(r.$$.fragment),a=G(),X(s.$$.fragment),u=G(),X(f.$$.fragment),c=G(),X(d.$$.fragment),p=G(),X(m.$$.fragment),_=G(),X(v.$$.fragment),C=G(),D&&D.c(),w=G(),k=O("style"),k.textContent=`body {
        margin-bottom: 0;
      }
      /* no visible scrollbars */
      #plot_grid::-webkit-scrollbar {
        display: none;
      }

      ::-webkit-scrollbar {
        width: 0px;
        background: transparent; /* make scrollbar transparent */
      }

      /* no scrollbars on firefox either */
      #plot_grid {
        scrollbar-width: none;
      }

      /* no scrollbars for IE/Edge */
      #plot_grid {
        -ms-overflow-style: none;
      }`},m(E,q){$&&$.m(E,q),T(E,e,q),U(n,E,q),T(E,o,q),U(i,E,q),T(E,l,q),U(r,E,q),T(E,a,q),U(s,E,q),T(E,u,q),U(f,E,q),T(E,c,q),U(d,E,q),T(E,p,q),U(m,E,q),T(E,_,q),U(v,E,q),T(E,C,q),D&&D.m(E,q),T(E,w,q),T(E,k,q),R=!0},p(E,q){E[2]==!0?$?q&4&&A($,1):($=zf(),$.c(),A($,1),$.m(e.parentNode,e)):$&&(Te(),M($,1,1,()=>{$=null}),Ie()),E[0].environment.day==0&&E[3]?D?q&9&&A(D,1):(D=ec(),D.c(),A(D,1),D.m(w.parentNode,w)):D&&(Te(),M(D,1,1,()=>{D=null}),Ie())},i(E){R||(A($),A(n.$$.fragment,E),A(i.$$.fragment,E),A(r.$$.fragment,E),A(s.$$.fragment,E),A(f.$$.fragment,E),A(d.$$.fragment,E),A(m.$$.fragment,E),A(v.$$.fragment,E),A(D),R=!0)},o(E){M($),M(n.$$.fragment,E),M(i.$$.fragment,E),M(r.$$.fragment,E),M(s.$$.fragment,E),M(f.$$.fragment,E),M(d.$$.fragment,E),M(m.$$.fragment,E),M(v.$$.fragment,E),M(D),R=!1},d(E){E&&(S(e),S(o),S(l),S(a),S(u),S(c),S(p),S(_),S(C),S(w),S(k)),$&&$.d(E),K(n,E),K(i,E),K(r,E),K(s,E),K(f,E),K(d,E),K(m,E),K(v,E),D&&D.d(E)}}}function RC(t){let e,n;return e=new Ay({}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},p:ye,i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function zf(t){let e,n;return e=new Zv({}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function ec(t){let e,n;return e=new cC({}),{c(){X(e.$$.fragment)},m(o,i){U(e,o,i),n=!0},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function LC(t){let e,n,o=(t[1]||t[0]==null)&&Qf(t);return{c(){o&&o.c(),e=Ee()},m(i,l){o&&o.m(i,l),T(i,e,l),n=!0},p(i,[l]){i[1]||i[0]==null?o?(o.p(i,l),l&3&&A(o,1)):(o=Qf(i),o.c(),A(o,1),o.m(e.parentNode,e)):o&&(Te(),M(o,1,1,()=>{o=null}),Ie())},i(i){n||(A(o),n=!0)},o(i){M(o),n=!1},d(i){i&&S(e),o&&o.d(i)}}}function DC(t,e,n){let o,i,l,r,a,s,u;se(t,ho,p=>n(7,o=p)),se(t,ot,p=>n(8,i=p)),se(t,Et,p=>n(2,l=p)),se(t,Oe,p=>n(0,r=p)),se(t,_o,p=>n(5,a=p)),se(t,Ho,p=>n(9,s=p)),se(t,Zl,p=>n(3,u=p));let f=!1;Qv();let c=!1;document.addEventListener("keydown",p=>{if((document.activeElement!=null&&document.activeElement.nodeName==="INPUT"||document.activeElement!=null&&document.activeElement.nodeName=="TEXTAREA")&&p.key!=="Escape")return;switch(p.key.toLowerCase()){case"p":l==!0?Et.set(!1):(Et.set(!0),Se(ot,i.visible=!1,i));break;case"escape":p.shiftKey?(Se(Et,l=!0,l),localStorage.setItem("reset","true"),location.reload(),Nr()):i.visible==!0&&Se(ot,i.visible=!1,i),a==!0&&(_o.set(!1),document.querySelectorAll(".plot_container").forEach(v=>{v.style.cursor=""}));break}});function d(p,m,_){if(c==!0)switch(_){case"up":m-=2;break;case"down":m+=1;break;case"left":p-=2;break;case"right":p+=1;break}p<0?p=0:p>r.plots.length&&(p=r.plots.length),m<0?m=0:m>r.plots.length&&(m=r.plots.length);let v=document.querySelectorAll(".plot_container"),C;if(v.forEach(w=>{w.dataset.x=="$x"&&w.dataset.y=="$y"&&(C=w)}),l==!1){if(C.dataset.canBeUpgraded==="true"?Se(ot,i.visible=!0,i):Se(ot,i.visible=!1,i),C.dataset.refPlotX!==void 0&&C.dataset.refPlotY!=""?(c=!0,v.forEach(w=>{w.dataset.x==C.dataset.refPlotX&&w.dataset.y==C.dataset.refPlotY&&(C=w,p=parseInt(C.dataset.x),m=parseInt(C.dataset.y))})):c=!1,C.dataset.size!=="1"&&C.dataset.size!==void 0&&(c=!0),Se(ot,i.x=p,i),Se(ot,i.y=m,i),v.forEach(w=>{w.classList.remove("selected"),w.style.fontWeight=""}),C.classList.add("selected"),c){let w="4px solid #00800045";C.classList.remove("selected"),C.style.borderTop=w,C.style.borderLeft=w,C.style.fontWeight="600",v.forEach(k=>{const R=parseInt(`${k.dataset.x}`),$=parseInt(`${k.dataset.y}`);R==p+1&&$==m&&(k.style.borderLeft=w,k.style.borderBottom=w),R==p&&$==m+1&&(k.style.borderTop=w,k.style.borderRight=w),R==p+1&&$==m+1&&(k.style.borderBottom=w,k.style.borderRight=w)})}C.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),Se(ho,o={},o)}}return t.$$.update=()=>{t.$$.dirty&33&&(r?(Se(Ho,s.visible=!1,s),n(1,f=!0),a==!0&&document.querySelectorAll(".plot_container").forEach(m=>{m.dataset.canbeupgraded=="true"&&(m.style.cursor="pointer",m.style.cursor="url('https://github.com/josephrcox/plots/raw/main/public/liege_place.cur'), auto")})):(Se(Ho,s.visible=!0,s),n(1,f=!1)))},[r,f,l,u,d,a]}class $C extends _e{constructor(e){super(),he(this,e,DC,LC,ue,{openPlotMenu:4})}get openPlotMenu(){return this.$$.ctx[4]}}new $C({target:document.getElementById("app")});
