var Nd=Object.defineProperty;var Ed=(t,e,n)=>e in t?Nd(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var fn=(t,e,n)=>(Ed(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();function Rd(t){const e=pako.gzip(JSON.stringify(t));return btoa(String.fromCharCode.apply(null,e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function Dd(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=atob(e),o=new Uint8Array(n.length);for(let r=0;r<n.length;r++)o[r]=n.charCodeAt(r);const i=pako.ungzip(o,{to:"string"});return JSON.parse(i)}async function Ld(){let t=localStorage.getItem("plots_active_game_db");const e=await Rd(t);console.log("http://localhost:5173/plots/?shareId="+e)}const Mr=window.location.search.substring(1).split("&").reduce((t,e)=>{const[n,o]=e.split("=");return t[n]=o,t},{});if(Mr.shareId!=null||Mr.shareId!=null){console.log("DECRYPING FROM shareId");const t=JSON.parse(Dd(Mr.shareId));let e=localStorage.getItem("plots_active_game_db");(e==""||e==null)&&localStorage.setItem("plots_active_game_db",JSON.stringify(t))}else console.log("COMPRESSING GAME TO SHARE"),Ld();function ke(){}const ar=t=>t;function x(t,e){for(const n in e)t[n]=e[n];return t}function Xf(t){return t()}function _s(){return Object.create(null)}function qe(t){t.forEach(Xf)}function kn(t){return typeof t=="function"}function de(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let pi;function $d(t,e){return t===e?!0:(pi||(pi=document.createElement("a")),pi.href=e,t===pi.href)}function Fd(t){return Object.keys(t).length===0}function yl(t,...e){if(t==null){for(const o of e)o(void 0);return ke}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Jf(t){let e;return yl(t,n=>e=n)(),e}function fe(t,e,n){t.$$.on_destroy.push(yl(e,n))}function pe(t,e,n,o){if(t){const i=xf(t,e,n,o);return t[0](i)}}function xf(t,e,n,o){return t[1]&&o?x(n.ctx.slice(),t[1](o(e))):n.ctx}function he(t,e,n,o){if(t[2]&&o){const i=t[2](o(n));if(e.dirty===void 0)return i;if(typeof i=="object"){const r=[],l=Math.max(e.dirty.length,i.length);for(let a=0;a<l;a+=1)r[a]=e.dirty[a]|i[a];return r}return e.dirty|i}return e.dirty}function _e(t,e,n,o,i,r){if(i){const l=xf(e,n,o,r);t.p(l,i)}}function ge(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let o=0;o<n;o++)e[o]=-1;return e}return-1}function Re(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function ae(t,e){const n={};e=new Set(e);for(const o in t)!e.has(o)&&o[0]!=="$"&&(n[o]=t[o]);return n}function Ne(t,e,n){return t.set(n),e}function je(t){return t&&kn(t.destroy)?t.destroy:ke}const Zf=typeof window<"u";let wl=Zf?()=>window.performance.now():()=>Date.now(),kl=Zf?t=>requestAnimationFrame(t):ke;const so=new Set;function Qf(t){so.forEach(e=>{e.c(t)||(so.delete(e),e.f())}),so.size!==0&&kl(Qf)}function Cl(t){let e;return so.size===0&&kl(Qf),{promise:new Promise(n=>{so.add(e={c:t,f:n})}),abort(){so.delete(e)}}}function v(t,e){t.appendChild(e)}function zf(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function qd(t){const e=P("style");return e.textContent="/* empty */",jd(zf(t),e),e.sheet}function jd(t,e){return v(t.head||t,e),e.sheet}function M(t,e,n){t.insertBefore(e,n||null)}function T(t){t.parentNode&&t.parentNode.removeChild(t)}function ht(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function P(t){return document.createElement(t)}function ur(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function q(t){return document.createTextNode(t)}function G(){return q(" ")}function Le(){return q("")}function z(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function N(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}const Bd=["width","height"];function ue(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const o in e)e[o]==null?t.removeAttribute(o):o==="style"?t.style.cssText=e[o]:o==="__value"?t.value=t[o]=e[o]:n[o]&&n[o].set&&Bd.indexOf(o)===-1?t[o]=e[o]:N(t,o,e[o])}function Ri(t,e){for(const n in e)N(t,n,e[n])}function Vd(t,e){Object.keys(e).forEach(n=>{Gd(t,n,e[n])})}function Gd(t,e,n){const o=e.toLowerCase();o in t?t[o]=typeof t[o]=="boolean"&&n===""?!0:n:e in t?t[e]=typeof t[e]=="boolean"&&n===""?!0:n:N(t,e,n)}function _n(t){return/-/.test(t)?Vd:ue}function Hd(t){return Array.from(t.childNodes)}function se(t,e){e=""+e,t.data!==e&&(t.data=e)}function en(t,e){t.value=e??""}function xe(t,e,n,o){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,"")}function gs(t,e,n){for(let o=0;o<t.options.length;o+=1){const i=t.options[o];if(i.__value===e){i.selected=!0;return}}t.selectedIndex=-1}function cn(t,e,n){t.classList.toggle(e,!!n)}function ec(t,e,{bubbles:n=!1,cancelable:o=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:o})}class dn{constructor(e=!1){fn(this,"is_svg",!1);fn(this,"e");fn(this,"n");fn(this,"t");fn(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,n,o=null){this.e||(this.is_svg?this.e=ur(n.nodeName):this.e=P(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(e)),this.i(o)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)M(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(T)}}const Di=new Map;let Li=0;function Wd(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function Kd(t,e){const n={stylesheet:qd(e),rules:{}};return Di.set(t,n),n}function $i(t,e,n,o,i,r,l,a=0){const s=16.666/o;let u=`{
`;for(let g=0;g<=1;g+=s){const w=e+(n-e)*r(g);u+=g*100+`%{${l(w,1-w)}}
`}const f=u+`100% {${l(n,1-n)}}
}`,c=`__svelte_${Wd(f)}_${a}`,d=zf(t),{stylesheet:m,rules:h}=Di.get(d)||Kd(d,t);h[c]||(h[c]=!0,m.insertRule(`@keyframes ${c} ${f}`,m.cssRules.length));const _=t.style.animation||"";return t.style.animation=`${_?`${_}, `:""}${c} ${o}ms linear ${i}ms 1 both`,Li+=1,c}function Fi(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?r=>r.indexOf(e)<0:r=>r.indexOf("__svelte")===-1),i=n.length-o.length;i&&(t.style.animation=o.join(", "),Li-=i,Li||Ud())}function Ud(){kl(()=>{Li||(Di.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&T(e)}),Di.clear())})}let Ho;function Bo(t){Ho=t}function Zo(){if(!Ho)throw new Error("Function called outside component initialization");return Ho}function fr(t){Zo().$$.on_mount.push(t)}function Yd(t){Zo().$$.on_destroy.push(t)}function Xd(){const t=Zo();return(e,n,{cancelable:o=!1}={})=>{const i=t.$$.callbacks[e];if(i){const r=ec(e,n,{cancelable:o});return i.slice().forEach(l=>{l.call(t,r)}),!r.defaultPrevented}return!0}}function cr(t,e){return Zo().$$.context.set(t,e),e}function dr(t){return Zo().$$.context.get(t)}function oe(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(o=>o.call(this,e))}const io=[],Oe=[];let ao=[];const Yr=[],tc=Promise.resolve();let Xr=!1;function nc(){Xr||(Xr=!0,tc.then(oc))}function Al(){return nc(),tc}function ot(t){ao.push(t)}function Cn(t){Yr.push(t)}const Ir=new Set;let eo=0;function oc(){if(eo!==0)return;const t=Ho;do{try{for(;eo<io.length;){const e=io[eo];eo++,Bo(e),Jd(e.$$)}}catch(e){throw io.length=0,eo=0,e}for(Bo(null),io.length=0,eo=0;Oe.length;)Oe.pop()();for(let e=0;e<ao.length;e+=1){const n=ao[e];Ir.has(n)||(Ir.add(n),n())}ao.length=0}while(io.length);for(;Yr.length;)Yr.pop()();Xr=!1,Ir.clear(),Bo(t)}function Jd(t){if(t.fragment!==null){t.update(),qe(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ot)}}function xd(t){const e=[],n=[];ao.forEach(o=>t.indexOf(o)===-1?e.push(o):n.push(o)),n.forEach(o=>o()),ao=e}let Io;function Sl(){return Io||(Io=Promise.resolve(),Io.then(()=>{Io=null})),Io}function En(t,e,n){t.dispatchEvent(ec(`${e?"intro":"outro"}${n}`))}const Si=new Set;let Wt;function Ie(){Wt={r:0,c:[],p:Wt}}function Pe(){Wt.r||qe(Wt.c),Wt=Wt.p}function C(t,e){t&&t.i&&(Si.delete(t),t.i(e))}function S(t,e,n,o){if(t&&t.o){if(Si.has(t))return;Si.add(t),Wt.c.push(()=>{Si.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}else o&&o()}const Tl={duration:0};function Jt(t,e,n){const o={direction:"in"};let i=e(t,n,o),r=!1,l,a,s=0;function u(){l&&Fi(t,l)}function f(){const{delay:d=0,duration:m=300,easing:h=ar,tick:_=ke,css:g}=i||Tl;g&&(l=$i(t,0,1,m,d,h,g,s++)),_(0,1);const w=wl()+d,A=w+m;a&&a.abort(),r=!0,ot(()=>En(t,!0,"start")),a=Cl(k=>{if(r){if(k>=A)return _(1,0),En(t,!0,"end"),u(),r=!1;if(k>=w){const E=h((k-w)/m);_(E,1-E)}}return r})}let c=!1;return{start(){c||(c=!0,Fi(t),kn(i)?(i=i(o),Sl().then(f)):f())},invalidate(){c=!1},end(){r&&(u(),r=!1)}}}function xt(t,e,n){const o={direction:"out"};let i=e(t,n,o),r=!0,l;const a=Wt;a.r+=1;let s;function u(){const{delay:f=0,duration:c=300,easing:d=ar,tick:m=ke,css:h}=i||Tl;h&&(l=$i(t,1,0,c,f,d,h));const _=wl()+f,g=_+c;ot(()=>En(t,!1,"start")),"inert"in t&&(s=t.inert,t.inert=!0),Cl(w=>{if(r){if(w>=g)return m(0,1),En(t,!1,"end"),--a.r||qe(a.c),!1;if(w>=_){const A=d((w-_)/c);m(1-A,A)}}return r})}return kn(i)?Sl().then(()=>{i=i(o),u()}):u(),{end(f){f&&"inert"in t&&(t.inert=s),f&&i.tick&&i.tick(1,0),r&&(l&&Fi(t,l),r=!1)}}}function Yt(t,e,n,o){let r=e(t,n,{direction:"both"}),l=o?0:1,a=null,s=null,u=null,f;function c(){u&&Fi(t,u)}function d(h,_){const g=h.b-l;return _*=Math.abs(g),{a:l,b:h.b,d:g,duration:_,start:h.start,end:h.start+_,group:h.group}}function m(h){const{delay:_=0,duration:g=300,easing:w=ar,tick:A=ke,css:k}=r||Tl,E={start:wl()+_,b:h};h||(E.group=Wt,Wt.r+=1),"inert"in t&&(h?f!==void 0&&(t.inert=f):(f=t.inert,t.inert=!0)),a||s?s=E:(k&&(c(),u=$i(t,l,h,g,_,w,k)),h&&A(0,1),a=d(E,g),ot(()=>En(t,h,"start")),Cl(D=>{if(s&&D>s.start&&(a=d(s,g),s=null,En(t,a.b,"start"),k&&(c(),u=$i(t,l,a.b,a.duration,0,w,r.css))),a){if(D>=a.end)A(l=a.b,1-l),En(t,a.b,"end"),s||(a.b?c():--a.group.r||qe(a.group.c)),a=null;else if(D>=a.start){const R=D-a.start;l=a.a+a.d*w(R/a.duration),A(l,1-l)}}return!!(a||s)}))}return{run(h){kn(r)?Sl().then(()=>{r=r({direction:h?"in":"out"}),m(h)}):m(h)},end(){c(),a=s=null}}}function Ke(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Zd(t,e){S(t,1,1,()=>{e.delete(t.key)})}function Qd(t,e,n,o,i,r,l,a,s,u,f,c){let d=t.length,m=r.length,h=d;const _={};for(;h--;)_[t[h].key]=h;const g=[],w=new Map,A=new Map,k=[];for(h=m;h--;){const V=c(i,r,h),F=n(V);let L=l.get(F);L?k.push(()=>L.p(V,e)):(L=u(F,V),L.c()),w.set(F,g[h]=L),F in _&&A.set(F,Math.abs(h-_[F]))}const E=new Set,D=new Set;function R(V){C(V,1),V.m(a,f),l.set(V.key,V),f=V.first,m--}for(;d&&m;){const V=g[m-1],F=t[d-1],L=V.key,U=F.key;V===F?(f=V.first,d--,m--):w.has(U)?!l.has(L)||E.has(L)?R(V):D.has(U)?d--:A.get(L)>A.get(U)?(D.add(L),R(V)):(E.add(U),d--):(s(F,l),d--)}for(;d--;){const V=t[d];w.has(V.key)||s(V,l)}for(;m;)R(g[m-1]);return qe(k),g}function we(t,e){const n={},o={},i={$$scope:1};let r=t.length;for(;r--;){const l=t[r],a=e[r];if(a){for(const s in l)s in a||(o[s]=1);for(const s in a)i[s]||(n[s]=a[s],i[s]=1);t[r]=a}else for(const s in l)i[s]=1}for(const l in o)l in n||(n[l]=void 0);return n}function rt(t){return typeof t=="object"&&t!==null?t:{}}function An(t,e,n){const o=t.$$.props[e];o!==void 0&&(t.$$.bound[o]=n,n(t.$$.ctx[o]))}function J(t){t&&t.c()}function Y(t,e,n){const{fragment:o,after_update:i}=t.$$;o&&o.m(e,n),ot(()=>{const r=t.$$.on_mount.map(Xf).filter(kn);t.$$.on_destroy?t.$$.on_destroy.push(...r):qe(r),t.$$.on_mount=[]}),i.forEach(ot)}function X(t,e){const n=t.$$;n.fragment!==null&&(xd(n.after_update),qe(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function zd(t,e){t.$$.dirty[0]===-1&&(io.push(t),nc(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function be(t,e,n,o,i,r,l=null,a=[-1]){const s=Ho;Bo(t);const u=t.$$={fragment:null,ctx:[],props:r,update:ke,not_equal:i,bound:_s(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(s?s.$$.context:[])),callbacks:_s(),dirty:a,skip_bound:!1,root:e.target||s.$$.root};l&&l(u.root);let f=!1;if(u.ctx=n?n(t,e.props||{},(c,d,...m)=>{const h=m.length?m[0]:d;return u.ctx&&i(u.ctx[c],u.ctx[c]=h)&&(!u.skip_bound&&u.bound[c]&&u.bound[c](h),f&&zd(t,c)),d}):[],u.update(),f=!0,qe(u.before_update),u.fragment=o?o(u.ctx):!1,e.target){if(e.hydrate){const c=Hd(e.target);u.fragment&&u.fragment.l(c),c.forEach(T)}else u.fragment&&u.fragment.c();e.intro&&C(t.$$.fragment),Y(t,e.target,e.anchor),oc()}Bo(s)}class ve{constructor(){fn(this,"$$");fn(this,"$$set")}$destroy(){X(this,1),this.$destroy=ke}$on(e,n){if(!kn(n))return ke;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const i=o.indexOf(n);i!==-1&&o.splice(i,1)}}$set(e){this.$$set&&!Fd(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const em="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(em);const to=[];function Rn(t,e){return{subscribe:Ye(t,e).subscribe}}function Ye(t,e=ke){let n;const o=new Set;function i(a){if(de(t,a)&&(t=a,n)){const s=!to.length;for(const u of o)u[1](),to.push(u,t);if(s){for(let u=0;u<to.length;u+=2)to[u][0](to[u+1]);to.length=0}}}function r(a){i(a(t))}function l(a,s=ke){const u=[a,s];return o.add(u),o.size===1&&(n=e(i,r)||ke),a(t),()=>{o.delete(u),o.size===0&&n&&(n(),n=null)}}return{set:i,update:r,subscribe:l}}function sn(t,e,n){const o=!Array.isArray(t),i=o?[t]:t;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const r=e.length<2;return Rn(n,(l,a)=>{let s=!1;const u=[];let f=0,c=ke;const d=()=>{if(f)return;c();const h=e(o?u[0]:u,l,a);r?l(h):c=kn(h)?h:ke},m=i.map((h,_)=>yl(h,g=>{u[_]=g,f&=~(1<<_),s&&d()},()=>{f|=1<<_}));return s=!0,d(),function(){qe(m),c(),s=!1}})}function bs(t){return{subscribe:t.subscribe.bind(t)}}const tm={plots:[],timeSpent:0,devMode:!1,lastChangeDay:0,townLog:"",currentTutorialStep:0,townInfo:{name:"Your town",gold:150,population_count:0,population_max:0,employees:0,happiness:150,health:150,community:150,knowledge_points:0,productivity:100},resources:{food:50,wood:300,stone:300,metal:0,power:0,bureaucracy:0},resource_rate:{food:0,wood:0,stone:0,metal:0,bureaucracy:0,knowledge:0},hasCityHall:!1,hasBank:!1,hasHospital:!1,hasLab:!1,modifiers:{happiness:1,health:1,community:1},economyAndLaws:{tax_rate:.1,max_tax_rate:1,weeklyProfit:0,knowledge_gold_market_rates:[],enacted:[]},plotCounts:[],environment:{day:0,year:1},maximums:{health:300,happiness:300,community:300},difficulty:0,endGoal:"land",endGameDetails:{msg:"",win:!1},tick:0,overtime:!1,last_warning_happiness:0,last_warning_health:0,lab:{active_experiment:null,past_experiments:[],xp:0}},nm={username:"",stats:{games_played:0,wins:0,losses:0},achievements:[]},Ml={0:"Easy",1:"Normal",2:"Hard"},om={0:Math.random()*(.5-.3)+.3,1:Math.random()*(.4-.2)+.2,2:Math.random()*(.4-.2)+.2},im={0:.35,1:.25,2:.25},le=[{id:"small_homes",title:"🏠 Homes",type:"residential",description:"+16 people",revenue_per_week:0,requirements:{gold:150,plots:[],employees:0,knowledge:0,size:1,xp:0,resources:{food:0,wood:50,stone:10,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:16,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:2,stone:0,metal:0,bureaucracy:0,food:0}},{id:"farm",title:"🥕 Farm",type:"farm",description:"Produces veggies, grains, fruit",revenue_per_week:6,requirements:{gold:80,plots:[],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:10,stone:10,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.03,health:1.03,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:5,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},check_for_variety:!1},{id:"tree_farm",title:"🌲 Tree Farm",type:"lumber",description:"Produces some wood",revenue_per_week:8,requirements:{gold:300,plots:[],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},check_for_variety:!0,styling:"",affordable:null,selected:null,knowledge_points_per_month:0,generated_resources:{food:0,wood:15,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"quarry",title:"⛏️ Quarry",type:"quarry",description:"Produces stone, small amounts of metal",revenue_per_week:0,requirements:{gold:800,plots:[],employees:6,knowledge:0,size:1,xp:0,resources:{food:0,wood:50,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:.98,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:18,metal:1,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"livestock_farm",title:"🐄 Livestock",type:"farm",description:"Makes more money and food than a regular farm, but doesn't bonus from water.",revenue_per_week:42,requirements:{gold:300,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:20,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.1,health:1.05,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:14,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},check_for_variety:!1},{id:"bakery",title:"🥖 Bakery",type:"business",description:"Converts food into some extra cash. Make sure you have enough food.",revenue_per_week:90,requirements:{gold:500,plots:[],employees:3,knowledge:0,size:1,xp:0,resources:{food:0,wood:170,stone:170,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.11,health:.95,community:1},immediate_variable_changes:{happiness:25,health:0,population:0,community:0,bureaucracy:0},check_for_variety:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:15}},{id:"stables",title:"🐴 Stables",type:"business",description:"Makes money and improves health",revenue_per_week:24,requirements:{gold:400,plots:[],employees:2,knowledge:0,size:1,xp:0,resources:{food:0,wood:120,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.2,health:1.2,community:1},immediate_variable_changes:{happiness:5,health:10,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"church",title:"⛪️ Church",type:"recreation",description:"Makes people VERY happy for a short period.",revenue_per_week:0,requirements:{gold:500,plots:[],employees:1,knowledge:0,size:1,xp:0,resources:{food:0,wood:350,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:2,health:1,community:1},immediate_variable_changes:{happiness:50,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"pub",title:"🍻 Pub",type:"recreation",description:"Increases knowledge, happiness, community. Isn't great for health.",revenue_per_week:40,knowledge_points_per_month:1,requirements:{gold:500,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:100,stone:50,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.2,health:.93,community:1.1},immediate_variable_changes:{happiness:10,health:-15,population:0,community:0,bureaucracy:0},check_for_variety:!0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"village_market",title:"🛒 Village Market",type:"shop",description:"Turns food into money. Sells goods and employs many. Makes significantly more money from tourism if you have a Village Inn.",revenue_per_week:180,requirements:{gold:1400,plots:[],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:150,stone:150,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.05,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:35}},{id:"fishery",title:"🐠 Fishery",type:"business",description:"Requires metal but generates a lot of food. Must be near water.",revenue_per_week:35,requirements:{gold:1500,plots:[],employees:9,knowledge:0,size:1,xp:0,resources:{food:0,wood:1500,stone:0,metal:100,power:0,bureaucracy:0},adjacent_plots:["water"]},effect_modifiers:{happiness:1.05,health:1,community:1},immediate_variable_changes:{happiness:15,health:8,population:0,community:0,bureaucracy:0},check_for_variety:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:75,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"neighborhood",title:"🏘️ Neighborhood",type:"residential",description:"+64 people",revenue_per_week:0,requirements:{gold:700,plots:[],employees:0,knowledge:0,size:1,xp:0,resources:{food:0,wood:250,stone:250,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.1,health:1,community:1.1},immediate_variable_changes:{happiness:0,health:0,population:64,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"vineyard",title:"🍇 Vineyard",type:"farm",description:"Makes fair money, lowers health. Generates knowledge too similar to a pub.",revenue_per_week:60,requirements:{gold:700,plots:[],employees:6,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.5,health:.9,community:1},immediate_variable_changes:{happiness:0,health:-10,population:0,community:0,bureaucracy:0},knowledge_points_per_month:3,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"water_wheel",title:"💧 Water Wheel",type:"industrial",description:"Produces small amount of power",revenue_per_week:0,requirements:{gold:800,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:200,stone:50,metal:0,power:0,bureaucracy:0},adjacent_plots:["water"]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:35,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"adv_water_wheel",title:"💧 Adv. Water Wheel",type:"industrial",description:"Produces a large amount of power",revenue_per_week:0,requirements:{gold:1800,plots:[],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:400,stone:150,metal:500,power:0,bureaucracy:0},adjacent_plots:["water"]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:100,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"park",title:"🎪 Park",type:"recreation",description:"Makes people extremely happy & healthy for a period. Improves community.",revenue_per_week:0,requirements:{gold:600,plots:[],employees:3,knowledge:0,size:1,xp:0,resources:{food:0,wood:100,stone:100,metal:10,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.5,health:1.5,community:1.3},immediate_variable_changes:{happiness:40,health:40,population:0,community:40,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"village_inn",title:"🛌 Village Inn",type:"tourism",description:"Enables tourism to your town, which increases revenue at certain stores.",revenue_per_week:23,requirements:{gold:1500,plots:[],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:150,stone:100,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1.02},immediate_variable_changes:{happiness:10,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:20,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"schoolhouse",title:"🏫 Schoolhouse",type:"education",description:"Produces knowledge, costs money to run.",revenue_per_week:0,knowledge_points_per_month:25,requirements:{gold:2500,plots:[],employees:20,knowledge:0,size:1,xp:0,resources:{food:0,wood:500,stone:100,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.1,health:1.1,community:1.2},immediate_variable_changes:{happiness:15,health:3,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:50,power:20,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"blacksmith",title:"⚒️ Blacksmith",type:"business",description:"Converts metal into tools for money. Make sure you have enough metal!",revenue_per_week:300,requirements:{gold:3e3,plots:[],employees:24,knowledge:0,size:1,xp:0,resources:{food:0,wood:250,stone:250,metal:500,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:.95},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:75,wood:0,stone:0,metal:10,bureaucracy:0,food:0}},{id:"library",title:"📕 Library",type:"recreation",description:"Produces knowledge and happiness",revenue_per_week:0,knowledge_points_per_month:10,requirements:{gold:2e3,plots:[],employees:6,knowledge:0,size:1,xp:0,resources:{food:0,wood:225,stone:100,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.3,health:1,community:1.1},immediate_variable_changes:{happiness:15,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"lumber_mill",title:"🏭 Lumber Mill",type:"industrial",description:"Increases wood production by 25%, has to be next to a tree farm",revenue_per_week:0,requirements:{gold:4e3,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:300,stone:100,metal:0,power:0,bureaucracy:0},adjacent_plots:["tree_farm"]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:50,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:20,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"solar_farm",title:"☀️ Solar farm",type:"industrial",description:"Produces a lot of power without the need of water.",revenue_per_week:0,requirements:{gold:5e3,plots:[],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:500,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:500,bureaucracy:0},level:4,active_costs:{gold:0,power:0,wood:0,stone:0,metal:50,bureaucracy:0,food:0}},{id:"general_store",title:"🛒 General Store",type:"shop",description:"Makes the most money of any plot, requires power. Makes significantly more from tourism if you have a Village Inn.",revenue_per_week:500,requirements:{gold:7e3,plots:[],employees:32,knowledge:0,size:1,xp:0,resources:{food:0,wood:1e3,stone:1e3,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.05,health:1,community:1.1},immediate_variable_changes:{happiness:20,health:0,population:0,community:0,bureaucracy:0},check_for_variety:!1,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:40,wood:0,stone:0,metal:0,bureaucracy:0,food:100}},{id:"healing_house",title:"🏥 Healing House",type:"medical",description:"Treats the sick and continuously improves health.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:2e4,plots:[],employees:18,knowledge:0,size:1,xp:0,resources:{food:0,wood:800,stone:1e3,metal:1e3,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.25,health:1.5,community:1.1},immediate_variable_changes:{happiness:5,health:75,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:30,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"community_center",title:"🫶 Community Center",type:"recreation",description:"Improves community, makes people happier, costs money",revenue_per_week:0,requirements:{gold:19e3,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:1e3,stone:700,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.09,health:1,community:2},immediate_variable_changes:{happiness:50,health:15,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:10,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"city_hall",title:"🗳️ City Hall",type:"federal",description:"Generates bureaucracy that can be used to pass laws to impact the city and expand. Costs a lot of gold every week.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:5e4,plots:[],employees:48,knowledge:1e3,size:1,xp:0,resources:{food:0,wood:3250,stone:800,metal:200,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:.99,health:1,community:1.2},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:10},level:4,active_costs:{gold:300,power:50,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"mine",title:"⛏️ Mine",type:"mine",description:"Produces a significant amount of metal and stone.",revenue_per_week:0,requirements:{gold:5e4,plots:[],employees:64,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:150,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:.95,community:1},immediate_variable_changes:{happiness:0,health:0,population:16,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:50,metal:50,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:60,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"academy",title:"🏫 Academy",type:"education",description:"Produces a lot of knowledge, requires high population",revenue_per_week:0,knowledge_points_per_month:90,requirements:{gold:3e4,plots:[],employees:32,knowledge:1e3,size:1,xp:0,resources:{food:0,wood:5e3,stone:1600,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:500,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"bank",title:"🏦 Bank",type:"bank",description:"Enables the conversion of knowledge to gold, and increases maximum tax rate so you can make more money.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:75e3,plots:[],employees:32,knowledge:1e3,size:1,xp:0,resources:{food:0,wood:1e3,stone:1e4,metal:5e3,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:.8,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:75,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"lab",title:"🧪 Laboratory",type:"science",description:"Designs things to help the city grow",revenue_per_week:0,knowledge_points_per_month:25,requirements:{gold:1e5,plots:[],employees:24,knowledge:1e4,size:1,xp:0,resources:{food:0,wood:0,stone:1e3,metal:3e3,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:.98,health:.99,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:300,power:35,wood:0,stone:0,metal:0,bureaucracy:0,food:0}}],Po={empty_unusable:"rgba(21, 40, 20, 0.70)",empty_buildable:"#CBB827",residential:"#de7633",farm:"#6b8f49",lumber:"#8E805C",business:"#9273a5",recreation:"#5277b1",shop:"#d896d8",tourism:"#d896d8",education:"#BFBEEB",medical:"#4a5ba3",bank:"#8477be",federal:"#8477be",science:"#4a5ba3",mine:"#d9874a",quarry:"#868685",industrial:"#868615"};function qi(t,e=!1){if(t<0)return t==-1?e?Po.empty_buildable:Po.empty_unusable:t==-2?Po.recreation:Po.empty_unusable;const n=le[t];return Po[n.type]}const vs={lab:1,city_hall:1,bank:1,community_center:1,inn:1},jt="plots_active_game_db",Wo="plots_user_db";function rm(){const t=["York","London","Paris","Madrid","Rome","Berlin","Vienna","Prague","Warsaw","Oslo","Lisbon","Dublin","Brussels","Amsterdam","Stockholm","Copenhagen","Edinburgh","Moscow","Beijing","Tokyo","Seoul","Bangkok","Delhi","Mumbai","Shanghai","Sydney","Melbourne","Cairo","Dubai","Istanbul","Athens","Budapest","Reykjavik","Helsinki","Tallinn","Riga","Vilnius","Sofia","Bucharest","Belgrade","Zagreb","Sarajevo","Ljubljana","Skopje","Tirana","Podgorica","Thessaloniki","Barcelona","Valencia","Seville","Granada","Malaga","Lyon","Marseille","Toulouse","Nice","Nantes","Strasbourg","Bordeaux","Lille","Venice","Milan","Florence","Naples","Turin","Bologna","Perugia","Genoa","Pisa","Verona","Palermo","Catania","Bari","Padua","Cagliari","Krakow","Gdansk","Poznan","Wroclaw","Lodz","Katowice","Bialystok","Gdynia","Sopot","Bydgoszcz","Lublin","Szczecin","Gorzow","Zakopane","Olsztyn","Torun","Rzeszow","Kielce","Radom","Siedlce","Los","Angeles","Chicago","Houston","Phoenix","San","Antonio","San","Diego","Dallas","San","Jose","Austin","Jacksonville","Fort","Worth","Columbus","Charlotte","Liverpool","Manchester","Glasgow","Birmingham","Leeds","Sheffield","Newcastle","upon","Tyne","Bristol","Nottingham","Leicester","Coventry","Belfast","Reading","Cardiff","Southampton","Aberdeen","Plymouth","Stoke","Trent","Wolverhampton","Swansea","Sunderland","Portsmouth","Yorkshire","Hull","Blackpool","Bradford","Derby","Middlesbrough","Peterborough","Stockton","on","Tees","Brighton","Poole","Bournemouth","Huddersfield","Luton","Oxford","Norwich","Oldham","Cambridge","Exeter","Walsall","Colchester","Watford","Rotherham","Newport","Gateshead","Dundee","Gloucester","Solihull","High","Wycombe","Maidstone","Slough","Basildon","Chelmsford","Salford","Bedford","Stevenage","Woking","Grimsby","Birkenhead","Halifax","Warrington","Gillingham","Wigan","Worcester","Wakefield","Lincoln","Chester","Rochdale","Dagenham","Widnes","St","Albans","Mansfield","Sutton","Coldfield","Crawley","Wokingham","Barnsley","St","Helens","Harrogate","Redditch","Scunthorpe","Nuneaton","Chesterfield","Hemel","Hempstead","Bury","Guildford","Ashford","Telford","Newcastle","under","Lyme","Aylesbury","Halesowen","Shrewsbury","Lowestoft","Loughborough","Cheltenham","Kidderminster","Basingstoke","Rugby","Stourbridge","Southport","Kettering","Royal","Leamington","Spa","Beeston","Farnborough","Wrexham","Banbury","Weymouth","Wallsend","Dartford","Grays","Tamworth","Ashford","Esher","Folkestone","Tonbridge","Taunton","Runcorn","Macclesfield","Keighley","Bridgend","Barnstaple","Letchworth","Garden","City","Worthing","Gosport","Eastleigh","Staines","upon","Thames","Lisburn","Livingston","Bognor","Regis","Scarborough","Cannock","Margate","Chippenham","Rhondda","Maidenhead","Wellingborough","Washington","Camberley","Bootle","Lancaster","Llanelli","Chatham","Cheshunt","Bishop","Auckland","Nelson","Belper","Pontefract","Barry","Braintree","Crosby","Bury","St","Edmunds","Bexhill","Margate","Aldershot","Rowley","Regis","Hoddesdon","Sittingbourne","Rugby","Newquay","Falmouth","Stretford","Camberley","Beverley","Windsor","Rochester","Wickford","Diss","Farnham","Andover","Camberwell","Bermondsey","Lewisham","Wembley","Hayes","Harrow","Ilford","Enfield","Twickenham","Richmond","Brentwood","Edgware","Ealing","Greenwich","Bromley","Hounslow","Romford","Hillingdon","Uxbridge","Wandsworth","Sutton","Kingston","upon","Thames","Bexley","Havering","Barking"],e=["ia","ville","ton","land","field","burgh","ford","wood","port","bay","beach","peak","valley","ridge","hill","dale","island","cape","spring","grove","polis","side","view","shore","haven","place","gardens","plaza","square"],n=["New","Old","North","South","East","West","Upper","Lower","Little","Great","Saint","Fort","Mount","Lake","River","The Village of","The City of","The Town of","The Borough of","The County of","The State of","The Kingdom of","The Empire of","The Republic of","The Commonwealth of","The Union of","The Federation of","Rainy","Sunny","Windy","Frosty","Snowy"];function o(s){return s[Math.floor(Math.random()*s.length)]}let i=o(n),r=o(t),l=o(e),a="";return Math.random()>.5?a=i+" "+r+l:a=r+l,a}let De=Ye(JSON.parse(localStorage.getItem(jt)||"null")),on=Ye(JSON.parse(localStorage.getItem(Wo)||"null"));am();function lm(t,e,n,o){let i={...tm};i.economyAndLaws.max_tax_rate=om[t],i.endGoal=e;let r=[];n=n.replace(/[^a-zA-Z0-9 ]/g,"").trim(),i.townInfo.name=n!=""?n:rm(),i.difficulty=parseInt(t),o&&(i.devMode=!0,i.townInfo.gold=1e8,i.townInfo.happiness=1e7,i.townInfo.health=1e6,i.townInfo.knowledge_points=1e5,i.modifiers.happiness=1e4,i.modifiers.health=1e4,i.resources.food=1e6,i.resources.wood=1e6,i.resources.stone=1e6,i.resources.metal=1e6);const l=t=="0"?8:t=="1"?12:t=="2"?16:1,a=Math.floor(Math.random()*l/2)+1,s=Math.floor(Math.random()*l/2)+1;for(let u=0;u<l;u++){r.push([]);for(let f=0;f<l;f++){const c=u==a&&f==s?!1:sm(u,f,l);r[u][f]={id:Math.random().toString(36).substring(2,9),active:!1,x:u,y:f,type:c?-9:-1,typeId:"",mineralSource:c?!1:a===u&&s===f,water:a===u&&s===f?!1:c}}}i.plots=r,localStorage.reset=!1,localStorage.setItem(jt,JSON.stringify(i)),De.set(i),location.reload()}function sm(t,e,n){let o=.06;return t>0&&e>0&&t<n-1&&e<n-1&&(o*=2),(e==Math.round(n/2)||e==Math.round(n/2)-1)&&(o*=5),t==0&&e==0&&(o=0),Math.random()<o}function am(){if(localStorage.getItem(Wo)===null){let t=nm;t.username="my_username_click_to_change",localStorage.setItem(Wo,JSON.stringify(t)),on.set(t)}}function ys(t,e){var n=Math.pow(10,e);t=parseFloat((t*n).toFixed(11));var o=Math.round(t)/n;return+o.toFixed(e)}function ji(t,e,n){let o=n.plots[t][e].type;if(n.plots[t][e].type=-1,n.plots[t][e].active=!1,o>-1&&(n.townInfo.population_count-=le[o].immediate_variable_changes.population,n.townInfo.population_max-=le[o].immediate_variable_changes.population,n.townInfo.happiness-=le[o].immediate_variable_changes.happiness,n.townInfo.health-=le[o].immediate_variable_changes.health,n.modifiers.happiness=ys(n.modifiers.happiness/le[o].effect_modifiers.happiness,2),n.modifiers.health=ys(n.modifiers.health/le[o].effect_modifiers.health,2),n.townInfo.employees-=le[o].requirements.employees,(n.plotCounts[o]===void 0||n.plotCounts[o]===null)&&(n.plotCounts[o]=0),n.plotCounts[o]--,(le[o].requirements.size??1)>1))for(let r=0;r<n.plots.length;r++)for(let l=0;l<n.plots[t].length;l++)n.plots[r][l].referencePlot!=null&&n.plots[r][l].referencePlot[0]===t&&n.plots[r][l].referencePlot[1]===e&&ji(r,l,n);n.lastChangeDay=n.environment.day,De.set(n),localStorage.setItem(jt,JSON.stringify(n))}function Xe(t,e){let n=[];for(let o=0;o<e.plots.length;o++)for(let i=0;i<e.plots[o].length;i++)e.plots[o][i].active==!1||e.plots[o][i]==null||e.plots[o][i].type===null||e.plots[o][i].type<0||(le[e.plots[o][i].type].id===t||le[e.plots[o][i].type].type===t)&&n.push(e.plots[o][i]);return n}function um(t,e){const n=t.plots.length,o=n>0?t.plots[0].length:0,i=e=="east"?5:0,r=e=="south"?5:0;for(let l=0;l<n;l++)for(let a=o;a<o+i;a++)t.plots[l].push({id:Math.random().toString(36).substring(2,9),active:!1,x:l,y:a,type:-1,typeId:"",mineralSource:!1,water:!1,disabled:!1});for(let l=n;l<n+r;l++){const a=[];for(let s=0;s<o+i;s++)a.push({id:Math.random().toString(36).substring(2,9),active:!1,x:l,y:s,type:-1,typeId:"",mineralSource:!1,water:!1});t.plots.push(a)}De.set(t)}function Il(t=null){localStorage.removeItem(jt),De.set(null),t&&(localStorage.setItem(jt,JSON.stringify(t)),De.set(t)),location.reload()}function fm(){ic.update(t=>!t),localStorage.setItem("showOnlyAffordable",localStorage.getItem("showOnlyAffordable")==="true"?"false":"true")}let Qe=Ye({visible:!1,x:0,y:0,isMineralSource:!1}),Vo=Ye({visible:!1});function cm(t){on.set(t),localStorage.setItem(Wo,JSON.stringify(t))}let co=Ye({}),Ti=Ye(!1),Nt=Ye(!1),Jr=Ye(!0),ws=Ye(!1),Bi=Ye(!1),Vi=Ye(!1),Mi=Ye(!1),Gi=Ye(!1),Hi=localStorage.getItem("showCompletedAchievements")==="true"?Ye(!0):Ye(!1),ic=localStorage.getItem("showOnlyAffordable")==="true"?Ye(!0):Ye(!1),rc=localStorage.getItem("pauseMenuTab")==="game"?Ye("game"):Ye("achievements"),xr=Ye(750);const dt={unemployment_num:" people can't find jobs.",bored:"People are bored. Try making some new buildings.",vairety:"People don't like going to the same places over and over again. Try making some new buildings.",nobody_home:"Build some homes!",leave_town_num:" people left town because they were unhappy.",new_people_num:" new people moved to town.",people_want_to_move_in:"People want to move in. Build more homes.",high_tax_rate:"People are unhappy with the high tax rate.",very_high_tax_rate:"People are extremely unhappy with the high tax rate.",sickAndDying:"People are sick and dying.",sickAndLeaving:"People are sick and leaving town.",happiness_zero:"The town has fallen into chaos due to extreme unhappiness.",health_zero:"The town has fallen into chaos due to extreme sickness.",population_zero:"The town has been condemned due to lack of population.",win:{land:"You have filled the grid with buildings. You win!"},hospital_advantage:"Because you have a hospital, the town is staying healthier for longer!",notEnoughVariety:"People are sick of going to the same places over and over, add some variety!"},bt={land:{short_title:"Fill the grid",description_title:"You win by filling up all possible plots in the grid, and by meeting some requirements.",win:"You have filled the grid with buildings and met the requirements. Your citizens are happy, fulfilled, hard-working, and healthy. ",requirements:{0:{population_count:200,happiness:100,health:100,employment:1,knowledge:50,required_plots:["pub","small_school","community_center"]},1:{population_count:1e3,happiness:120,health:120,employment:1,knowledge:100,required_plots:["bank"]},2:{population_count:1e3,happiness:200,health:200,employment:1,knowledge:1e3,required_plots:["bank","city_hall"]}}},free_play:{short_title:"Quests",description_title:"Play for as long as you can and build the best city you can while completing quests."}},et=[{id:"happiness_at_300",title:"Happy Town",description:"One of your towns wins Happiest Town Award!",requirements:"Happiness reaches 300",icon:"😍",check:t=>t.townInfo.happiness>=300,prize:1e3},{id:"get_educated",title:"Get Educated",description:"The kids are finally able to learn!",requirements:"Build a school or library",icon:"📌",check:t=>Xe("small_school",t).length!==0||Xe("large_school",t).length!==0||Xe("library",t).length!==0,prize:1850},{id:"10k",title:"$10,000",description:"",requirements:"Gold reaches $10,000",icon:"﹩",check:t=>t.townInfo.gold>=1e4,prize:2500},{id:"25k",title:"$25,000",description:"",requirements:"Gold reaches $25,000",icon:"💵",check:t=>t.townInfo.gold>=25e3,prize:7500},{id:"stayin_frugal",title:"Stayin' Frugal!",description:"",requirements:"Gold under $50 with >=300 population",icon:"🚲",check:t=>t.townInfo.gold<=50&&t.townInfo.population_count>=300,prize:1e4},{id:"profits_to_the_moon",title:"Profits to the moon!",description:"Now you're making dough!",requirements:"Last month profit is over $10,000",icon:"🌛",check:t=>t.economyAndLaws.weeklyProfit>=1e4,prize:15e3},{id:"happily_dying",title:"Happily Dying!",description:"Not something to be proud of...",requirements:"Happiness > 275, health < 25",icon:"🌛",check:t=>t.townInfo.happiness>275&&t.townInfo.health<25,prize:2e4},{id:"long_game",title:"The Long Game",description:"So are you gonna win anytime soon?",requirements:"Still playing after 10,000 days, without winning. ",icon:"🐌",check:t=>t.endGameDetails.win===!1&&t.environment.day>1e4&&t.endGameDetails.msg==="",prize:25e3},{id:"tax_man",title:"Tax man",description:"Set the tax rate to the absolute max that the town will tolerate.",requirements:"",icon:"🙃",check:t=>{let e=Math.floor(t.economyAndLaws.max_tax_rate*20)/20;return t.economyAndLaws.tax_rate===e},prize:1500},{id:"good_job",title:"Good job",description:"Beat 'Fill the grid' with Normal difficulty in under 3,000 days.",requirements:"",icon:"👍",check:t=>t.endGameDetails.win===!0&&t.environment.day<=3e3&&t.difficulty===1&&t.endGoal==="land",prize:1e4},{id:"great_job",title:"Great job",description:"Beat 'Fill the grid' with Normal difficulty in under 2,000 days.",requirements:"",icon:"👏",check:t=>t.endGameDetails.win===!0&&t.environment.day<=2e3&&t.difficulty===1&&t.endGoal==="land",prize:45e3},{id:"superb_job",title:"SUPERB job",description:"Beat 'Fill the grid' with Normal difficulty in under 500 days.",requirements:"",icon:"👌",check:t=>t.endGameDetails.win===!0&&t.environment.day<=500&&t.difficulty===1&&t.endGoal==="land",prize:1e5},{id:"250k",title:"$250,000",description:"",requirements:"Gold reaches $250,000",icon:"💸",check:t=>t.townInfo.gold>=25e4,prize:5e4},{id:"banker",title:"Banker",description:"",requirements:"Build your first bank. ",icon:"🏦",check:t=>Xe("bank",t).length!==0,prize:5e3},{id:"community",title:"Community Center",description:"",requirements:"Build your first community center. ",icon:"❤️",check:t=>Xe("community_center",t).length!==0,prize:1e4},{id:"1m",title:"MILLIONAIRE!",description:"",requirements:"Gold reaches $1,000,000",icon:"💰",check:t=>t.townInfo.gold>=1e6,prize:15e4}],qt=[{message:"My liege, we need places to live! Build the first homes.",isComplete:t=>t.townInfo.population_max>0,goldReward:600},{message:"My liege, the village is going to run out of food soon. Build 3 farms and a tree farm. ",isComplete:t=>Xe("farm",t).length>=3&&Xe("tree_farm",t).length>=1,goldReward:300},{message:"My liege, the village will need stone and metals to expand. Build a quarry. ",isComplete:t=>Xe("quarry",t).length>0,goldReward:500},{message:"My liege, things are picking up but we will need far more money. Get weekly revenue to >=200 gold. ",isComplete:t=>t.economyAndLaws.weeklyProfit>=200,goldReward:1e3},{message:"My liege, as the town develops we will need the smartest and brightest. Build plots to get our Knowledge to 250.",isComplete:t=>t.townInfo.knowledge_points>=250,goldReward:2e3},{message:"My liege, the village is growing - woohoo! But we need to have more workers. Get the population to 100.",isComplete:t=>t.townInfo.population_count>=100,goldReward:1500},{message:"My liege, some advanced buildings require power. Start generating power with a water wheel or a solar farm.",isComplete:t=>t.resources.power>0,goldReward:2e3},{message:"My liege, we need more metals. Find a good spot for a mine and build it. ",isComplete:t=>Xe("mine",t).length>0,goldReward:2e3},{message:"My liege, mining resources has taken a toll on the towns health. Build a Healing House to lower the chance of sickness.",isComplete:t=>Xe("healing_house",t).length>0,goldReward:5e3},{message:"My liege, now that we have metals, power, and people, your next goal is a big one. Build your town a City Hall.",isComplete:t=>Xe("city_hall",t).length>0,goldReward:1e4}];function lc(t){var e,n,o="";if(typeof t=="string"||typeof t=="number")o+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=lc(t[e]))&&(o&&(o+=" "),o+=n)}else for(n in t)t[n]&&(o&&(o+=" "),o+=n);return o}function dm(){for(var t,e,n=0,o="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=lc(t))&&(o&&(o+=" "),o+=e);return o}const Pl="-";function mm(t){const e=hm(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:o}=t;function i(l){const a=l.split(Pl);return a[0]===""&&a.length!==1&&a.shift(),sc(a,e)||pm(l)}function r(l,a){const s=n[l]||[];return a&&o[l]?[...s,...o[l]]:s}return{getClassGroupId:i,getConflictingClassGroupIds:r}}function sc(t,e){var l;if(t.length===0)return e.classGroupId;const n=t[0],o=e.nextPart.get(n),i=o?sc(t.slice(1),o):void 0;if(i)return i;if(e.validators.length===0)return;const r=t.join(Pl);return(l=e.validators.find(({validator:a})=>a(r)))==null?void 0:l.classGroupId}const ks=/^\[(.+)\]$/;function pm(t){if(ks.test(t)){const e=ks.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function hm(t){const{theme:e,prefix:n}=t,o={nextPart:new Map,validators:[]};return gm(Object.entries(t.classGroups),n).forEach(([r,l])=>{Zr(l,o,r,e)}),o}function Zr(t,e,n,o){t.forEach(i=>{if(typeof i=="string"){const r=i===""?e:Cs(e,i);r.classGroupId=n;return}if(typeof i=="function"){if(_m(i)){Zr(i(o),e,n,o);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([r,l])=>{Zr(l,Cs(e,r),n,o)})})}function Cs(t,e){let n=t;return e.split(Pl).forEach(o=>{n.nextPart.has(o)||n.nextPart.set(o,{nextPart:new Map,validators:[]}),n=n.nextPart.get(o)}),n}function _m(t){return t.isThemeGetter}function gm(t,e){return e?t.map(([n,o])=>{const i=o.map(r=>typeof r=="string"?e+r:typeof r=="object"?Object.fromEntries(Object.entries(r).map(([l,a])=>[e+l,a])):r);return[n,i]}):t}function bm(t){if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,o=new Map;function i(r,l){n.set(r,l),e++,e>t&&(e=0,o=n,n=new Map)}return{get(r){let l=n.get(r);if(l!==void 0)return l;if((l=o.get(r))!==void 0)return i(r,l),l},set(r,l){n.has(r)?n.set(r,l):i(r,l)}}}const ac="!";function vm(t){const e=t.separator,n=e.length===1,o=e[0],i=e.length;return function(l){const a=[];let s=0,u=0,f;for(let _=0;_<l.length;_++){let g=l[_];if(s===0){if(g===o&&(n||l.slice(_,_+i)===e)){a.push(l.slice(u,_)),u=_+i;continue}if(g==="/"){f=_;continue}}g==="["?s++:g==="]"&&s--}const c=a.length===0?l:l.substring(u),d=c.startsWith(ac),m=d?c.substring(1):c,h=f&&f>u?f-u:void 0;return{modifiers:a,hasImportantModifier:d,baseClassName:m,maybePostfixModifierPosition:h}}}function ym(t){if(t.length<=1)return t;const e=[];let n=[];return t.forEach(o=>{o[0]==="["?(e.push(...n.sort(),o),n=[]):n.push(o)}),e.push(...n.sort()),e}function wm(t){return{cache:bm(t.cacheSize),splitModifiers:vm(t),...mm(t)}}const km=/\s+/;function Cm(t,e){const{splitModifiers:n,getClassGroupId:o,getConflictingClassGroupIds:i}=e,r=new Set;return t.trim().split(km).map(l=>{const{modifiers:a,hasImportantModifier:s,baseClassName:u,maybePostfixModifierPosition:f}=n(l);let c=o(f?u.substring(0,f):u),d=!!f;if(!c){if(!f)return{isTailwindClass:!1,originalClassName:l};if(c=o(u),!c)return{isTailwindClass:!1,originalClassName:l};d=!1}const m=ym(a).join(":");return{isTailwindClass:!0,modifierId:s?m+ac:m,classGroupId:c,originalClassName:l,hasPostfixModifier:d}}).reverse().filter(l=>{if(!l.isTailwindClass)return!0;const{modifierId:a,classGroupId:s,hasPostfixModifier:u}=l,f=a+s;return r.has(f)?!1:(r.add(f),i(s,u).forEach(c=>r.add(a+c)),!0)}).reverse().map(l=>l.originalClassName).join(" ")}function Am(){let t=0,e,n,o="";for(;t<arguments.length;)(e=arguments[t++])&&(n=uc(e))&&(o&&(o+=" "),o+=n);return o}function uc(t){if(typeof t=="string")return t;let e,n="";for(let o=0;o<t.length;o++)t[o]&&(e=uc(t[o]))&&(n&&(n+=" "),n+=e);return n}function Qr(t,...e){let n,o,i,r=l;function l(s){const u=e.reduce((f,c)=>c(f),t());return n=wm(u),o=n.cache.get,i=n.cache.set,r=a,a(s)}function a(s){const u=o(s);if(u)return u;const f=Cm(s,n);return i(s,f),f}return function(){return r(Am.apply(null,arguments))}}function Je(t){const e=n=>n[t]||[];return e.isThemeGetter=!0,e}const fc=/^\[(?:([a-z-]+):)?(.+)\]$/i,Sm=/^\d+\/\d+$/,Tm=new Set(["px","full","screen"]),Mm=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Im=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Pm=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Om=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Nm=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function Qt(t){return On(t)||Tm.has(t)||Sm.test(t)}function mn(t){return vo(t,"length",jm)}function On(t){return!!t&&!Number.isNaN(Number(t))}function hi(t){return vo(t,"number",On)}function Oo(t){return!!t&&Number.isInteger(Number(t))}function Em(t){return t.endsWith("%")&&On(t.slice(0,-1))}function Ge(t){return fc.test(t)}function pn(t){return Mm.test(t)}const Rm=new Set(["length","size","percentage"]);function Dm(t){return vo(t,Rm,cc)}function Lm(t){return vo(t,"position",cc)}const $m=new Set(["image","url"]);function Fm(t){return vo(t,$m,Vm)}function qm(t){return vo(t,"",Bm)}function No(){return!0}function vo(t,e,n){const o=fc.exec(t);return o?o[1]?typeof e=="string"?o[1]===e:e.has(o[1]):n(o[2]):!1}function jm(t){return Im.test(t)&&!Pm.test(t)}function cc(){return!1}function Bm(t){return Om.test(t)}function Vm(t){return Nm.test(t)}function zr(){const t=Je("colors"),e=Je("spacing"),n=Je("blur"),o=Je("brightness"),i=Je("borderColor"),r=Je("borderRadius"),l=Je("borderSpacing"),a=Je("borderWidth"),s=Je("contrast"),u=Je("grayscale"),f=Je("hueRotate"),c=Je("invert"),d=Je("gap"),m=Je("gradientColorStops"),h=Je("gradientColorStopPositions"),_=Je("inset"),g=Je("margin"),w=Je("opacity"),A=Je("padding"),k=Je("saturate"),E=Je("scale"),D=Je("sepia"),R=Je("skew"),V=Je("space"),F=Je("translate"),L=()=>["auto","contain","none"],U=()=>["auto","hidden","clip","visible","scroll"],y=()=>["auto",Ge,e],b=()=>[Ge,e],I=()=>["",Qt,mn],O=()=>["auto",On,Ge],W=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],$=()=>["solid","dashed","dotted","double","none"],Z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"],ee=()=>["start","end","center","between","around","evenly","stretch"],Q=()=>["","0",Ge],K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],te=()=>[On,hi],ne=()=>[On,Ge];return{cacheSize:500,separator:":",theme:{colors:[No],spacing:[Qt,mn],blur:["none","",pn,Ge],brightness:te(),borderColor:[t],borderRadius:["none","","full",pn,Ge],borderSpacing:b(),borderWidth:I(),contrast:te(),grayscale:Q(),hueRotate:ne(),invert:Q(),gap:b(),gradientColorStops:[t],gradientColorStopPositions:[Em,mn],inset:y(),margin:y(),opacity:te(),padding:b(),saturate:te(),scale:te(),sepia:Q(),skew:ne(),space:b(),translate:b()},classGroups:{aspect:[{aspect:["auto","square","video",Ge]}],container:["container"],columns:[{columns:[pn]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...W(),Ge]}],overflow:[{overflow:U()}],"overflow-x":[{"overflow-x":U()}],"overflow-y":[{"overflow-y":U()}],overscroll:[{overscroll:L()}],"overscroll-x":[{"overscroll-x":L()}],"overscroll-y":[{"overscroll-y":L()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Oo,Ge]}],basis:[{basis:y()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ge]}],grow:[{grow:Q()}],shrink:[{shrink:Q()}],order:[{order:["first","last","none",Oo,Ge]}],"grid-cols":[{"grid-cols":[No]}],"col-start-end":[{col:["auto",{span:["full",Oo,Ge]},Ge]}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":[No]}],"row-start-end":[{row:["auto",{span:[Oo,Ge]},Ge]}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ge]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ge]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal",...ee()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ee(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ee(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[A]}],px:[{px:[A]}],py:[{py:[A]}],ps:[{ps:[A]}],pe:[{pe:[A]}],pt:[{pt:[A]}],pr:[{pr:[A]}],pb:[{pb:[A]}],pl:[{pl:[A]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[V]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[V]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ge,e]}],"min-w":[{"min-w":[Ge,e,"min","max","fit"]}],"max-w":[{"max-w":[Ge,e,"none","full","min","max","fit","prose",{screen:[pn]},pn]}],h:[{h:[Ge,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ge,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ge,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ge,e,"auto","min","max","fit"]}],"font-size":[{text:["base",pn,mn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",hi]}],"font-family":[{font:[No]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ge]}],"line-clamp":[{"line-clamp":["none",On,hi]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Qt,Ge]}],"list-image":[{"list-image":["none",Ge]}],"list-style-type":[{list:["none","disc","decimal",Ge]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...$(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Qt,mn]}],"underline-offset":[{"underline-offset":["auto",Qt,Ge]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:b()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ge]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ge]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...W(),Lm]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Dm]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Fm]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[h]}],"gradient-via-pos":[{via:[h]}],"gradient-to-pos":[{to:[h]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[r]}],"rounded-s":[{"rounded-s":[r]}],"rounded-e":[{"rounded-e":[r]}],"rounded-t":[{"rounded-t":[r]}],"rounded-r":[{"rounded-r":[r]}],"rounded-b":[{"rounded-b":[r]}],"rounded-l":[{"rounded-l":[r]}],"rounded-ss":[{"rounded-ss":[r]}],"rounded-se":[{"rounded-se":[r]}],"rounded-ee":[{"rounded-ee":[r]}],"rounded-es":[{"rounded-es":[r]}],"rounded-tl":[{"rounded-tl":[r]}],"rounded-tr":[{"rounded-tr":[r]}],"rounded-br":[{"rounded-br":[r]}],"rounded-bl":[{"rounded-bl":[r]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...$(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:$()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...$()]}],"outline-offset":[{"outline-offset":[Qt,Ge]}],"outline-w":[{outline:[Qt,mn]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:I()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[Qt,mn]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",pn,qm]}],"shadow-color":[{shadow:[No]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":Z()}],"bg-blend":[{"bg-blend":Z()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[o]}],contrast:[{contrast:[s]}],"drop-shadow":[{"drop-shadow":["","none",pn,Ge]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[c]}],saturate:[{saturate:[k]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[o]}],"backdrop-contrast":[{"backdrop-contrast":[s]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[c]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[k]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ge]}],duration:[{duration:ne()}],ease:[{ease:["linear","in","out","in-out",Ge]}],delay:[{delay:ne()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ge]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[E]}],"scale-x":[{"scale-x":[E]}],"scale-y":[{"scale-y":[E]}],rotate:[{rotate:[Oo,Ge]}],"translate-x":[{"translate-x":[F]}],"translate-y":[{"translate-y":[F]}],"skew-x":[{"skew-x":[R]}],"skew-y":[{"skew-y":[R]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ge]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ge]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":b()}],"scroll-mx":[{"scroll-mx":b()}],"scroll-my":[{"scroll-my":b()}],"scroll-ms":[{"scroll-ms":b()}],"scroll-me":[{"scroll-me":b()}],"scroll-mt":[{"scroll-mt":b()}],"scroll-mr":[{"scroll-mr":b()}],"scroll-mb":[{"scroll-mb":b()}],"scroll-ml":[{"scroll-ml":b()}],"scroll-p":[{"scroll-p":b()}],"scroll-px":[{"scroll-px":b()}],"scroll-py":[{"scroll-py":b()}],"scroll-ps":[{"scroll-ps":b()}],"scroll-pe":[{"scroll-pe":b()}],"scroll-pt":[{"scroll-pt":b()}],"scroll-pr":[{"scroll-pr":b()}],"scroll-pb":[{"scroll-pb":b()}],"scroll-pl":[{"scroll-pl":b()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ge]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Qt,mn,hi]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}function Gm(t,{cacheSize:e,prefix:n,separator:o,extend:i={},override:r={}}){Ii(t,"cacheSize",e),Ii(t,"prefix",n),Ii(t,"separator",o);for(const l in r)Hm(t[l],r[l]);for(const l in i)Wm(t[l],i[l]);return t}function Ii(t,e,n){n!==void 0&&(t[e]=n)}function Hm(t,e){if(e)for(const n in e)Ii(t,n,e[n])}function Wm(t,e){if(e)for(const n in e){const o=e[n];o!==void 0&&(t[n]=(t[n]||[]).concat(o))}}function Km(t,...e){return typeof t=="function"?Qr(zr,t,...e):Qr(()=>Gm(zr(),t),...e)}const dc=Qr(zr);function Um(t){const e=t-1;return e*e*e+1}function Fe(...t){return dc(dm(t))}const mr=(t,e={y:-8,x:0,start:.95,duration:150})=>{const n=getComputedStyle(t),o=n.transform==="none"?"":n.transform,i=(l,a,s)=>{const[u,f]=a,[c,d]=s;return(l-u)/(f-u)*(d-c)+c},r=l=>Object.keys(l).reduce((a,s)=>l[s]===void 0?a:a+`${s}:${l[s]};`,"");return{duration:e.duration??200,delay:0,css:l=>{const a=i(l,[0,1],[e.y??5,0]),s=i(l,[0,1],[e.x??0,0]),u=i(l,[0,1],[e.start??.95,1]);return r({transform:`${o} translate3d(${s}px, ${a}px, 0) scale(${u})`,opacity:l})},easing:Um}};function it(t,e){if(e===void 0&&(e=0),t==null||t==null)return 0;t=parseFloat((t*Math.pow(10,e)).toFixed(11));var n=Math.round(t)/Math.pow(10,e);return+n.toFixed(e)}function Pr(t){return t<10?"0"+t:t}function Ym(t){let e=Math.floor(t/1e3),n=Math.floor(e/60);e=e%60;let o=Math.floor(n/60);return n=n%60,`${Pr(o)}:${Pr(n)}:${Pr(e)}`}function Te(t){return le.findIndex(e=>e.id===t)}function As(t){const n=new RegExp("\\p{Emoji}","u").exec(t);return n?n[0]:null}function gn(t,e=!0){let n=t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,");return e||(n=n.split(".")[0]),n}function mo(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Ss(t,e=!0){return t=it(t/(e?3:1),2),t<0?`${t}`:`+${t}`}function Ln(t,e,n,o=!1){if(t<0||t>=n.plots.length||e<0||e>=n.plots[0].length)return!1;let i=[[t-1,e],[t+1,e],[t,e-1],[t,e+1],[t-1,e-1],[t-1,e+1],[t+1,e-1],[t+1,e+1]];for(let r=0;r<i.length;r++){let l=i[r][0],a=i[r][1];if(l>=0&&l<n.plots.length&&a>=0&&a<n.plots[0].length&&n.plots[l][a].water&&(o||n.plots[t][e].active==!0&&n.plots[t][e].type>0&&le[n.plots[t][e].type].id=="farm"))return!0}return!1}function Xm(t,e,n,o){if(t<0||t>=n.plots.length||e<0||e>=n.plots[0].length)return!1;let i=[[t-1,e],[t+1,e],[t,e-1],[t,e+1],[t-1,e-1],[t-1,e+1],[t+1,e-1],[t+1,e+1]],r=!0;for(let l=0;l<o.length;l++){let a=!1;if(o[l]=="water"&&(console.log("water"),Ln(t,e,n,!0))){a=!0;break}for(let s=0;s<i.length;s++){let u=i[s][0],f=i[s][1];if(u>=0&&u<n.plots.length&&f>=0&&f<n.plots[0].length&&n.plots[u][f].active==!0&&n.plots[u][f].type>0&&le[n.plots[u][f].type].id==o[l]){a=!0;break}}if(!a){r=!1;break}}return r}function Jm(t,e=0){let n=t*.92,o=t*1.08;return it(Math.random()*(o-n)+n,e)}const el=[{id:"organic_farming",description:"Organic Farming. Make townspeople healthier and happier, while decreasing overall food production.",cost:100,weekly_effect:t=>(t.modifiers.happiness*=1.02,t.modifiers.health*=1.02,t.resources.food-=2*Xe("farm",t).length,t)},{id:"tax_free",description:"Tax-Free Month. For 1 month, the town loses all revenue from taxes, but happiness and health increase quite a lot. Automatically ends after 4 weeks.",cost:250,weekly_effect:t=>(localStorage.getItem("tax_free")===null?(localStorage.setItem("tax_free","0"),t.economyAndLaws.weeklyProfit=-1*t.economyAndLaws.weeklyProfit):localStorage.setItem("tax_free",(parseInt(localStorage.getItem("tax_free"))+1).toString()),parseInt(localStorage.getItem("tax_free"))>=4?(t.modifiers.happiness*=1,t.modifiers.health*=1,localStorage.removeItem("tax_free"),t.economyAndLaws.enacted=t.economyAndLaws.enacted.filter(e=>e!=="tax_free")):(t.modifiers.happiness*=1.25,t.modifiers.health*=1.25),t)}],Ts=30;function xm(t){let e=!0;for(let n=0;n<t.plots.length;n++)for(let o=0;o<t.plots[n].length;o++)if(t.plots[n][o].active==!1){e=!1;break}return e}function Zm(t){return t.endGameDetails!=null||(t.townInfo.happiness<70&&t.last_warning_happiness+365<t.environment.day&&(alert("Your citizens are very unhappy. You should do something about it."),t.last_warning_happiness=t.environment.day),t.townInfo.health<70&&t.last_warning_health+365<t.environment.day&&(alert("Your citizens are very unhealthy. You should do something about it."),t.last_warning_health=t.environment.day)),t}function Qm(t,e,n){return t.resource_rate.food=gt(n.food-e.food,2),t.resource_rate.wood=gt(n.wood-e.wood,2),t.resource_rate.stone=gt(n.stone-e.stone,2),t.resource_rate.metal=gt(n.metal-e.metal,2),t.resource_rate.bureaucracy=gt(n.bureaucracy-e.bureaucracy,2),t}function zm(t){return t.hasBank,t}function ep(t){let e=t.economyAndLaws.knowledge_gold_market_rates[t.economyAndLaws.knowledge_gold_market_rates.length-1]||1;const n=-100,o=8,i=3;let r=Math.random(),l=Math.random()*i;if(r<.4){let a=Math.random()*o;Math.random()<.5?e+=a:e-=a}else Math.random()>.5?e+=l:e-=l;return e<n&&(e+=Math.random()*l/5),e=Math.round(e),t.economyAndLaws.knowledge_gold_market_rates=[...t.economyAndLaws.knowledge_gold_market_rates,e],t}function tl(t){return t.lab.active_experiment==null||t.lab.active_experiment.duration>0&&(t.lab.active_experiment.duration-=1),t}function nl(t){if(t.townInfo.happiness>150){let n=t.townInfo.happiness-150;t.townInfo.happiness-=n*.08,t.townInfo.happiness<150&&(t.townInfo.happiness=150)}if(t.townInfo.health>150){let n=t.townInfo.health-150;t.townInfo.health-=n*.08,t.townInfo.health<150&&(t.townInfo.health=150)}if(t.townInfo.community>150){let n=t.townInfo.community-150;t.townInfo.community-=n*.08,t.townInfo.community<150&&(t.townInfo.community=150)}return t}function tp(t){return t.townInfo.happiness*=t.modifiers.happiness,t.townInfo.health*=t.modifiers.health,t.townInfo.community*=t.modifiers.community,t}function gt(t,e){e===void 0&&(e=0);let n=Math.pow(10,e);return t=parseFloat((t*n).toFixed(11)),+(Math.round(t)/n).toFixed(e)}function np(t,e,n){let o,i,r,l,a,s;fe(t,xr,p=>n(6,o=p)),fe(t,De,p=>n(7,i=p)),fe(t,Ti,p=>n(8,r=p)),fe(t,Vi,p=>n(9,l=p)),fe(t,Nt,p=>n(10,a=p)),fe(t,on,p=>n(11,s=p));function u(p){p=W(p),p=b(p),p=h(p),p=ep(p),p=Z(p),p=Zm(p);const H={food:p.resources.food,wood:p.resources.wood,stone:p.resources.stone,metal:p.resources.metal,bureaucracy:p.resources.bureaucracy};p=w(p),p=y(p),p=A(p),p=k(p),p=K(p),p=g(p);const j={food:p.resources.food,wood:p.resources.wood,stone:p.resources.stone,metal:p.resources.metal,bureaucracy:p.resources.bureaucracy};return p=Qm(p,H,j),p}function f(p){return p=L(p),p=zm(p),p=_(p),p=tp(p),p=Q(p),p=nl(p),p}function c(p){return p=I(p),p=O(p),p=U(p),p}function d(p){return p=ee(p),p=$(p),p=tl(p),p.overtime==!1&&(p=F(p),p=E(p)),p=V(p),p=D(p),p}function m(){De.update(p=>{if(p==null||(p.tick++,p.tick%Ts!==0)||a||!p||p.endGameDetails.msg!==""&&p.overtime==!1||p.townInfo.population_count<=0)return p;try{return p.environment.day+=1,p.environment.day%7===0&&(p=u(p)),p.environment.day%30===0&&(p.townLog="",p=f(p)),p.environment.day%90===0&&(p=c(p)),window.location.search.includes("debug=true")&&console.log(p),p=d(p),p}catch(H){return console.error("Error in game loop:",H),p}})}De.subscribe(p=>{p&&localStorage.setItem(jt,JSON.stringify(p))}),on.subscribe(p=>{p&&localStorage.setItem(Wo,JSON.stringify(p))});function h(p){let H=!1,j=!1,ie=!1,re=!1;for(let Ae=0;Ae<p.plots.length;Ae++)for(let $e=0;$e<p.plots[Ae].length;$e++)if(p.plots[Ae][$e].active==!0&&p.plots[Ae][$e].type>-1){let Me=le[p.plots[Ae][$e].type].id;Me=="bank"&&(H=!0),Me=="city_hall"&&(ie=!0),(Me=="small_hospital"||Me=="large_hospital")&&(j=!0),Me=="lab"&&(re=!0)}return p.hasBank=H,p.hasHospital=j,p.hasCityHall=ie,p.hasLab=re,p}function _(p){const H=p.townInfo.productivity;let j=1;if(H>50&&H<100)j=1.05;else{if(H==100)return p;H<50?j=1.2:H>100&&H<125?j=.98:H>125&&H<150?j=.96:H>150&&H<175?j=.9:H>175&&H<200&&(j=.8)}const ie=p.townInfo.happiness;return p.townInfo.happines*=j,j>1?p=te(`Happiness has gone up by ${Math.round(p.townInfo.happiness/ie*100)}% due to productivity.`,p):p=te(`Happiness has gone down by ${100-Math.round(p.townInfo.happiness/ie*100)}% due to productivity.`,p),p}function g(p){const H=p.townInfo.population_count;return p.resources.food<H?(p.modifiers.happiness*=.95,p.modifiers.health*=.95,p=te("not enough food",p),p.resources.food=0):p.resources.food-=H,p.resources.food=Math.round(p.resources.food,2),p}function w(p){const H=p.townInfo.productivity;let j=1;H<50?j=.5:H>50&&H<100?j=.75:H==100?j=1:H>100&&H<125?j=1.25:H>125&&H<150?j=1.75:H>150&&H<175?j=3:H>175&&H<200&&(j=5),j=Jm(j,2);let ie=Xe("lumber_mill",p).length*1.25;ie===0&&(ie=1);for(let re=0;re<p.plots.length;re++)for(let Ae=0;Ae<p.plots[re].length;Ae++)if(p.plots[re][Ae].active==!0&&p.plots[re][Ae].type>-1){let $e=Ln(re,Ae,p),Me=le[p.plots[re][Ae].type];Me.generated_resources!=null&&(p.resources.food+=Math.round(Me.generated_resources.food*j)*($e?2:1),p.resources.wood+=Math.round(Me.generated_resources.wood*j*ie),p.resources.stone+=Math.round(Me.generated_resources.stone*j),p.resources.metal+=Math.round(Me.generated_resources.metal*j),p.resources.bureaucracy+=Math.round(Me.generated_resources.bureaucracy*j))}return p.resources.food=Math.round(p.resources.food,2),p.resources.wood=Math.round(p.resources.wood,2),p.resources.stone=Math.round(p.resources.stone,2),p.resources.metal=Math.round(p.resources.metal,2),p.resources.bureaucracy=Math.round(p.resources.bureaucracy,2),p}function A(p){for(let H=0;H<p.plots.length;H++)for(let j=0;j<p.plots[H].length;j++)if(p.plots[H][j].active==!0&&p.plots[H][j].type>-1){let ie=le[p.plots[H][j].type],re=!1;Object.keys(ie.active_costs).forEach((Ae,$e)=>{const Me=Object.values(ie.active_costs)[$e];Ae!="power"&&(p.townInfo.gold,Ae=="gold"?p.townInfo.gold<Me?re=!0:p.townInfo.gold-=Me:p.resources[Ae]<Me?re=!0:p.resources[Ae]-=Me)}),p.plots[H][j].disabled=re,p.plots[H][j].disabled&&(p.townInfo.happiness-=1),re&&le[p.plots[H][j].type].type=="residential"&&(p.townInfo.population_count-=1,p.townInfo.employees-=1)}return p}function k(p){let H=0;for(let j=0;j<p.plots.length;j++)for(let ie=0;ie<p.plots[j].length;ie++)if(p.plots[j][ie].active==!0&&p.plots[j][ie].type>-1){let re=le[p.plots[j][ie].type];re.active_costs.power!=0&&(H-=re.active_costs.power),re.generated_resources.power!=0&&(H+=re.generated_resources.power)}return p.resource_rate.power=H,p.resources.power=H,p}function E(p){if(p.endGoal=="land"&&p.townInfo.population_max==p.townInfo.population_count&&p.townInfo.happiness>=bt.land.requirements[p.difficulty].happiness&&p.townInfo.health>=bt.land.requirements[p.difficulty].health&&p.townInfo.employees/p.townInfo.population_count>=bt.land.requirements[p.difficulty].employment&&p.townInfo.population_count>bt.land.requirements[p.difficulty].population_count&&p.townInfo.knowledge_points>=bt.land.requirements[p.difficulty].knowledge){let j=!0;for(let re=0;re<bt.land.requirements[p.difficulty].required_plots.length;re++){let Ae=bt.land.requirements[p.difficulty].required_plots[re];if(Xe(Ae,p)==!1){j=!1;break}}xm(p)&&j&&(p.endGameDetails={msg:bt.land.win,win:!0,still_playing:!1})}return p}function D(p){if(p.devMode)return p;let H=s;for(let j=0;j<et.length;j++)H.achievements.find(ie=>ie[0]==et[j].id)==null&&et[j].check(p)&&(H.achievements.push([et[j].id,p.environment.day,p.townInfo.name]),Ne(Nt,a=!0,a),Ne(Vi,l=!0,l));return on.update(()=>H),p}let R=!1;function V(p){if(R)return p;for(let H=p.currentTutorialStep;H<p.currentTutorialStep+1;H++)if(qt[H].isComplete(p)){Ne(Ti,r=!0,r),R=!0,setTimeout(()=>{Ne(Ti,r=!1,r),p.currentTutorialStep++,p.townInfo.gold+=qt[H].goldReward,R=!1},1e3);break}return p}function F(p){return p.townInfo.happiness<=3&&(p.townInfo.happiness=0,p.endGameDetails={msg:dt.happiness_zero,win:!1,still_playing:!1}),p.townInfo.health<=3&&(p.townInfo.health=3,p.endGameDetails={msg:dt.health_zero,win:!1,still_playing:!1}),p.townInfo.population_count<=0&&p.townInfo.population_max>0&&(p.townInfo.population_count=0,p.endGameDetails={msg:dt.population_zero,win:!1,still_playing:!1}),p}function L(p){let H=p.townInfo.population_count-p.townInfo.employees;return H>0&&(p.townInfo.happiness-=H*.06,p=te(H+dt.unemployment_num,p)),p}function U(p){let H=p.plotCounts.reduce((ie,re)=>ie+re,0),j=!1;for(let ie=0;ie<p.plotCounts.length;ie++)p.plotCounts[ie]==null||le[ie].check_for_variety!=!0||p.plotCounts[ie]/H>=im[p.difficulty]&&(le[ie].title,j=!0);return j&&(p=te(dt.notEnoughVariety,p),p.modifiers.happiness*.95),p}function y(p){for(let H=0;H<p.economyAndLaws.enacted.length;H++){let j=el.find(ie=>ie.id==p.economyAndLaws.enacted[H]);j!=null&&j.weekly_effect!=null&&(p=j.weekly_effect(p))}return p}function b(p){let H=p.townInfo.health,j=0;return H>50||H<Math.random()*50&&(H<25?(p=te(dt.sickAndDying,p),p.townInfo.happiness-=10,j=Math.round(p.townInfo.population_count*.1)):(p=te(dt.sickAndLeaving,p),p.townInfo.happiness-=5,j=Math.round(p.townInfo.population_count*.05)),p.townInfo.population_count-=j,p.townInfo.employees-=j),p}function I(p){return p.townInfo.community<100&&Math.random()*100<p.townInfo.community||p.lastChangeDay+(Math.random()*500+365)<p.environment.day&&p.townInfo.population_count>0&&p.townInfo.population_count>0&&(p.townInfo.population_count-=1,p.townInfo.employees-=1,p.modifiers.happiness-=.01,p=te(dt.bored,p)),p}function O(p){if(p.townInfo.population_count<p.townInfo.population_max&&p.townInfo.happiness>50){let H=p.townInfo.population_max-p.townInfo.population_count,j=Math.round(p.townInfo.happiness/100*H);p.townInfo.population_count+=j,p.townInfo.population_count>p.townInfo.population_max&&(p.townInfo.population_count=p.townInfo.population_max),p.townInfo.employees+=j,p.townInfo.employees>p.townInfo.population_count&&(p.townInfo.employees=p.townInfo.population_count),p=te(j+dt.new_people_num,p)}if(p.townInfo.happiness<50&&p.townInfo.population_count>0){let H=Math.round((100-p.townInfo.happiness)/5);H=H*(p.townInfo.community/200),p.townInfo.population_count-=H,p.townInfo.employees>0&&(p.townInfo.employees-=H),p=te(H+dt.leave_town_num,p)}else p.townInfo.population_count==p.townInfo.population_max;return p}function W(p){const H=Math.random();if(p.economyAndLaws.tax_rate>p.economyAndLaws.max_tax_rate&&p.townInfo.population_count>0){let j=1;p.hasBank&&(j=2);const ie=p.difficulty==0?.7:p.difficulty==1?.4:.2;H<ie&&p.economyAndLaws.tax_rate>p.economyAndLaws.max_tax_rate*2*j?(p.modifiers.happiness-=.02,p=te(dt.very_high_tax_rate+"  ("+p.economyAndLaws.tax_rate+"%)",p)):(p.modifiers.happiness-=.01,p=te(dt.high_tax_rate+"  ("+p.economyAndLaws.tax_rate*100+"%)",p))}return p}function $(p){return p.townInfo.happiness<0&&(p.townInfo.happiness=0),p.townInfo.health<0&&(p.townInfo.health=0),p.townInfo.gold<0&&(p.townInfo.gold=0),p.townInfo.employees<0&&(p.townInfo.employees=0),p.townInfo.knowledge_points<0&&(p.townInfo.knowledge_points=0),p.townInfo.population_count<0&&(p.townInfo.population_count=0),p.townInfo.population_max==0&&p.townLog.indexOf(dt.nobody_home)==-1&&(p=te(dt.nobody_home,p)),p.economyAndLaws.weeklyProfit=gt(p.economyAndLaws.weeklyProfit,0),p.townInfo.employees>p.townInfo.population_count&&(p.townInfo.employees=p.townInfo.population_count),p.townInfo.gold=gt(p.townInfo.gold,0),p.townInfo.population_count=gt(p.townInfo.population_count,0),p.townInfo.employees=gt(p.townInfo.employees,0),p.townInfo.population_max=gt(p.townInfo.population_max,0),p.townInfo.happiness=gt(p.townInfo.happiness,2),p.townInfo.health=gt(p.townInfo.health,2),p.townInfo.knowledge_points=gt(p.townInfo.knowledge_points,0),p.townInfo.happiness>p.maximums.happiness&&(p.townInfo.happiness=p.maximums.happiness),p.townInfo.health>p.maximums.health&&(p.townInfo.health=p.maximums.health),p.modifiers.happiness<.5&&(p.modifiers.happiness=.5),p.modifiers.health<.5&&(p.modifiers.health=.5),p.modifiers.community<.5&&(p.modifiers.community=.5),p}function Z(p){if(p.modifiers.happiness>1){let j=p.modifiers.happiness-1;p.modifiers.happiness-=j*.1,p.modifiers.happiness<1.05&&(p.modifiers.happiness=1)}if(p.modifiers.community>1){let j=p.modifiers.community-1;p.modifiers.community-=j*.1,p.modifiers.community<1.05&&(p.modifiers.community=1)}if(p.modifiers.health>1)if(Xe("healing_house",p).length>0){if(p.townLog.indexOf(dt.hospital_advantage)==-1)return p=te(dt.hospital_advantage,p);let j=p.modifiers.health-1;p.modifiers.health-=j*Xe("healing_house",p)?.03:.06,p.modifiers.health<1.05&&(p.modifiers.health=1)}else{let j=p.modifiers.health-1;p.modifiers.health-=j*.1,p.modifiers.health<1.05&&(p.modifiers.health=1)}else Xe("healing_house",p).length>0&&(p.modifiers.health+=.1);return p}function ee(p){p.economyAndLaws.weeklyProfit=0;for(let H=0;H<p.plots.length;H++)for(let j=0;j<p.plots[H].length;j++)if(p.plots[H][j].active==!0&&p.plots[H][j].type>-1)if(p.plots[H][j].disabled===!0){const ie=le[p.plots[H][j].type],re=ne(ie.revenue_per_week,p,ie.type)*(p.townInfo.productivity/100)/7;p.townInfo.gold-=re,p=te(`🚨 ${ie.title} at ${j}, ${H} is disabled and costing you $${re} a week!`,p)}else{const ie=le[p.plots[H][j].type];let re=ne(ie.revenue_per_week,p,ie.type)*(p.townInfo.productivity/100)/7,Ae=Ln(H,j,p);re*=Ae?2:1,p.townInfo.gold+=re,p.economyAndLaws.weeklyProfit+=re*7}return p}function Q(p){return Xe("mine",p).length>0&&(p.modifiers.health-=.01,Xe("healing_house",p).length==0&&(p=te("The mine is actively hurting the health of the town. Time to look into a healing house.",p))),p}function K(p){let H=0;for(let j=0;j<p.plots.length;j++)for(let ie=0;ie<p.plots[j].length;ie++)if(p.plots[j][ie].active==!0&&p.plots[j][ie].type>-1){let re=le[p.plots[j][ie].type];re.knowledge_points_per_month!=null&&(p.townInfo.knowledge_points+=Math.round(re.knowledge_points_per_month/4),H+=re.knowledge_points_per_month)}return p.resource_rate.knowledge=gt(H/4,0),p}function te(p,H){return H.townLog="Day "+i.environment.day+" - "+p+`
`+H.townLog,H}function ne(p,H,j){let ie=H.townInfo.happiness/100;ie>2?ie=2:ie<.75&&(ie=.75),Xe("village_inn",H).length>0&&j=="shop"&&(ie*=1.3);let re=p*H.economyAndLaws.tax_rate*(H.townInfo.population_count/H.townInfo.population_max)*ie*(H.economyAndLaws.enacted.includes("tax_free")?-1:1);return gt(re,2)}return fr(async()=>{for(;;)localStorage.reset=="true"&&(Il(),localStorage.setItem("reset","false")),m(),await new Promise(p=>setTimeout(p,o/Ts))}),[m,tl,$,Z,nl]}class op extends ve{constructor(e){super(),be(this,e,np,null,de,{mainGameThreadLoop:0,_checkExperiment:1,_fixVariables:2,_bringModifiersBackToNormal:3,_bringStatsBackToNormal:4},null,[-1,-1])}get mainGameThreadLoop(){return this.$$.ctx[0]}get _checkExperiment(){return tl}get _fixVariables(){return this.$$.ctx[2]}get _bringModifiersBackToNormal(){return this.$$.ctx[3]}get _bringStatsBackToNormal(){return nl}}function ip(t){return t[t.length-1]}function hn(t){return Object.keys(t).reduce((e,n)=>t[n]===void 0?e:e+`${n}:${t[n]};`,"")}function Or(t){return t?!0:void 0}hn({position:"absolute",opacity:0,"pointer-events":"none",margin:0,transform:"translateX(-100%)"});function mc(t){if(t!==null)return t}function Ms(t){function e(n){return n(t),()=>{}}return{subscribe:e}}function Nr(t){if(!Ko)return null;const e=document.querySelector(`[data-melt-id="${t}"]`);return St(e)?e:null}const Lo=t=>new Proxy(t,{get(e,n,o){return Reflect.get(e,n,o)},ownKeys(e){return Reflect.ownKeys(e).filter(n=>n!=="action")}}),Is=t=>typeof t=="function";pt("empty");function pt(t,e){const{stores:n,action:o,returned:i}=e??{},r=(()=>{if(n&&i)return sn(n,a=>{const s=i(a);if(Is(s)){const u=(...f)=>Lo({...s(...f),[`data-melt-${t}`]:"",action:o??Ze});return u.action=o??Ze,u}return Lo({...s,[`data-melt-${t}`]:"",action:o??Ze})});{const a=i,s=a==null?void 0:a();if(Is(s)){const u=(...f)=>Lo({...s(...f),[`data-melt-${t}`]:"",action:o??Ze});return u.action=o??Ze,Ms(u)}return Ms(Lo({...s,[`data-melt-${t}`]:"",action:o??Ze}))}})(),l=o??(()=>{});return l.subscribe=r.subscribe,l}function Ps(t,e){const{stores:n,returned:o,action:i}=e,{subscribe:r}=sn(n,a=>o(a).map(s=>Lo({...s,[`data-melt-${t}`]:"",action:i??Ze}))),l=i??(()=>{});return l.subscribe=r,l}function pr(t){const e=r=>r?`${t}-${r}`:t,n=r=>`data-melt-${t}${r?`-${r}`:""}`,o=r=>`[data-melt-${t}${r?`-${r}`:""}]`;return{name:e,attribute:n,selector:o,getEl:r=>document.querySelector(o(r))}}const Ko=typeof document<"u",pc=t=>typeof t=="function";function rp(t){return t instanceof Document}function hr(t){return t instanceof Element}function St(t){return t instanceof HTMLElement}function Os(t){return t.pointerType==="touch"}function lp(t){return t!==null&&typeof t=="object"}function sp(t){return lp(t)&&"subscribe"in t}function Kt(...t){return(...e)=>{for(const n of t)typeof n=="function"&&n(...e)}}function Ze(){}function vt(t,e,n,o){const i=Array.isArray(e)?e:[e];return i.forEach(r=>t.addEventListener(r,n,o)),()=>{i.forEach(r=>t.removeEventListener(r,n,o))}}function kt(t,e,n,o){const i=Array.isArray(e)?e:[e];if(typeof n=="function"){const r=up(l=>n(l));return i.forEach(l=>t.addEventListener(l,r,o)),()=>{i.forEach(l=>t.removeEventListener(l,r,o))}}return()=>void 0}function ap(t){const e=t.currentTarget;if(!St(e))return null;const n=new CustomEvent(`m-${t.type}`,{detail:{originalEvent:t},cancelable:!0});return e.dispatchEvent(n),n}function up(t){return e=>{const n=ap(e);if(!(n!=null&&n.defaultPrevented))return t(e)}}function _r(t,...e){const n={};for(const o of Object.keys(t))e.includes(o)||(n[o]=t[o]);return n}function nn(t){return{...t,get:()=>Jf(t)}}nn.writable=function(t){const e=Ye(t);let n=t;return{subscribe:e.subscribe,set(o){e.set(o),n=o},update(o){const i=o(n);e.set(i),n=i},get(){return n}}};nn.derived=function(t,e){const n=new Map,o=()=>{const r=Array.isArray(t)?t.map(l=>l.get()):t.get();return e(r)};return{get:o,subscribe:r=>{const l=[];return(Array.isArray(t)?t:[t]).forEach(s=>{l.push(s.subscribe(()=>{r(o())}))}),r(o()),n.set(r,l),()=>{const s=n.get(r);if(s)for(const u of s)u();n.delete(r)}}}};const gr=(t,e)=>{const n=nn(t),o=(r,l)=>{n.update(a=>{const s=r(a);let u=s;return e&&(u=e({curr:a,next:s})),l==null||l(u),u})};return{...n,update:o,set:r=>{o(()=>r)}}};function Ol(t){return new Promise(e=>setTimeout(e,t))}let fp="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",cp=(t=21)=>{let e="",n=t;for(;n--;)e+=fp[Math.random()*64|0];return e};function dp(){return cp(10)}function Nl(t){return t.reduce((e,n)=>(e[n]=dp(),e),{})}const st={ALT:"Alt",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",CAPS_LOCK:"CapsLock",CONTROL:"Control",DELETE:"Delete",END:"End",ENTER:"Enter",ESCAPE:"Escape",F1:"F1",F10:"F10",F11:"F11",F12:"F12",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",HOME:"Home",META:"Meta",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp",SHIFT:"Shift",SPACE:" ",TAB:"Tab",CTRL:"Control",ASTERISK:"*",A:"a",P:"p"},hc=()=>typeof window<"u";function mp(){const t=navigator.userAgentData;return(t==null?void 0:t.platform)??navigator.platform}const _c=t=>hc()&&t.test(mp().toLowerCase()),pp=()=>hc()&&!!navigator.maxTouchPoints,hp=()=>_c(/^mac/)&&!pp(),_p=()=>_c(/mac|iphone|ipad|ipod/i),gp=()=>_p()&&!hp();function bp(t){const e=t.slice();return e.sort(yp),vp(e)}function vp(t){if(t.length<=1)return t.slice();const e=[];for(let o=0;o<t.length;o++){const i=t[o];for(;e.length>=2;){const r=e[e.length-1],l=e[e.length-2];if((r.x-l.x)*(i.y-l.y)>=(r.y-l.y)*(i.x-l.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let o=t.length-1;o>=0;o--){const i=t[o];for(;n.length>=2;){const r=n[n.length-1],l=n[n.length-2];if((r.x-l.x)*(i.y-l.y)>=(r.y-l.y)*(i.x-l.x))n.pop();else break}n.push(i)}return n.pop(),e.length==1&&n.length==1&&e[0].x==n[0].x&&e[0].y==n[0].y?e:e.concat(n)}function yp(t,e){return t.x<e.x?-1:t.x>e.x?1:t.y<e.y?-1:t.y>e.y?1:0}function wp(t){const e=t.getBoundingClientRect();return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.right,y:e.bottom},{x:e.left,y:e.bottom}]}function kp(t){const e=t.flatMap(n=>wp(n));return bp(e)}function Cp(t,e){let n=!1;for(let o=0,i=e.length-1;o<e.length;i=o++){const r=e[o].x,l=e[o].y,a=e[i].x,s=e[i].y;l>t.y!=s>t.y&&t.x<(a-r)*(t.y-l)/(s-l)+r&&(n=!n)}return n}const Er="data-melt-scroll-lock";function Ns(t,e){if(!t)return;const n=t.style.cssText;return Object.assign(t.style,e),()=>{t.style.cssText=n}}function Ap(t,e,n){if(!t)return;const o=t.style.getPropertyValue(e);return t.style.setProperty(e,n),()=>{o?t.style.setProperty(e,o):t.style.removeProperty(e)}}function Sp(t){const e=t.getBoundingClientRect().left;return Math.round(e)+t.scrollLeft?"paddingLeft":"paddingRight"}function Tp(t){const e=document,n=e.defaultView??window,{documentElement:o,body:i}=e;if(i.hasAttribute(Er))return Ze;i.setAttribute(Er,"");const l=n.innerWidth-o.clientWidth,a=()=>Ap(o,"--scrollbar-width",`${l}px`),s=Sp(o),u=n.getComputedStyle(i)[s],f=()=>Ns(i,{overflow:"hidden",[s]:`calc(${u} + ${l}px)`}),c=()=>{const{scrollX:m,scrollY:h,visualViewport:_}=n,g=(_==null?void 0:_.offsetLeft)??0,w=(_==null?void 0:_.offsetTop)??0,A=Ns(i,{position:"fixed",overflow:"hidden",top:`${-(h-Math.floor(w))}px`,left:`${-(m-Math.floor(g))}px`,right:"0",[s]:`calc(${u} + ${l}px)`});return()=>{A==null||A(),n.scrollTo(m,h)}},d=[a(),gp()?c():f()];return()=>{d.forEach(m=>m==null?void 0:m()),i.removeAttribute(Er)}}const Mp=t=>{try{Yd(t)}catch{return t}};function Ot(t,e){let n;const o=sn(t,r=>{n==null||n(),n=e(r)}).subscribe(Ze),i=()=>{o(),n==null||n()};return Mp(i),i}function $n(t){const e={};return Object.keys(t).forEach(n=>{const o=n,i=t[o];e[o]=nn(Ye(i))}),e}function Ip(t){let e=t.parentElement;for(;St(e)&&!e.hasAttribute("data-portal");)e=e.parentElement;return e||"body"}function gc(t,e){return e!==void 0?e:Ip(t)==="body"?document.body:null}async function Es(t){const{prop:e,defaultEl:n}=t;if(await Promise.all([Ol(1),Al]),e===void 0){n==null||n.focus();return}const o=pc(e)?e(n):e;if(typeof o=="string"){const i=document.querySelector(o);if(!St(i))return;i.focus()}else St(o)&&o.focus()}function Rr(t,e,n,o){const i=(t-(isNaN(e)?0:e))%o;let r=Math.abs(i)*2>=o?t+Math.sign(i)*(o-Math.abs(i)):t-i;isNaN(e)?!isNaN(n)&&r>n&&(r=Math.floor(n/o)*o):r<e?r=e:!isNaN(n)&&r>n&&(r=e+Math.floor((n-e)/o)*o);const l=o.toString(),a=l.indexOf("."),s=a>=0?l.length-a:0;if(s>0){const u=Math.pow(10,s);r=Math.round(r*u)/u}return r}Rn(void 0,t=>{function e(o){t(o),t(void 0)}return vt(document,"pointerup",e,{passive:!1,capture:!0})});const Pp=Rn(void 0,t=>{function e(o){o&&o.key===st.ESCAPE&&t(o),t(void 0)}return vt(document,"keydown",e,{passive:!1})}),Rs=(t,e={})=>{let n=Ze;function o(i={}){n();const r={enabled:!0,...i},l=sp(r.enabled)?r.enabled:Rn(r.enabled);n=Kt(Pp.subscribe(a=>{var u;if(!a||!Jf(l))return;const s=a.target;if(!(!St(s)||s.closest("[data-escapee]")!==t)){if(a.preventDefault(),r.ignore){if(pc(r.ignore)){if(r.ignore(a))return}else if(Array.isArray(r.ignore)&&r.ignore.length>0&&r.ignore.some(f=>f&&s===f))return}(u=r.handler)==null||u.call(r,a)}}),Ot(l,a=>{a?t.dataset.escapee="":delete t.dataset.escapee}))}return o(e),{update:o,destroy(){t.removeAttribute("data-escapee"),n()}}},bn=Math.min,Mt=Math.max,Wi=Math.round,_i=Math.floor,vn=t=>({x:t,y:t}),Op={left:"right",right:"left",bottom:"top",top:"bottom"},Np={start:"end",end:"start"};function ol(t,e,n){return Mt(t,bn(e,n))}function yo(t,e){return typeof t=="function"?t(e):t}function yn(t){return t.split("-")[0]}function wo(t){return t.split("-")[1]}function bc(t){return t==="x"?"y":"x"}function El(t){return t==="y"?"height":"width"}function Qo(t){return["top","bottom"].includes(yn(t))?"y":"x"}function Rl(t){return bc(Qo(t))}function Ep(t,e,n){n===void 0&&(n=!1);const o=wo(t),i=Rl(t),r=El(i);let l=i==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return e.reference[r]>e.floating[r]&&(l=Ki(l)),[l,Ki(l)]}function Rp(t){const e=Ki(t);return[il(t),e,il(e)]}function il(t){return t.replace(/start|end/g,e=>Np[e])}function Dp(t,e,n){const o=["left","right"],i=["right","left"],r=["top","bottom"],l=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:o:e?o:i;case"left":case"right":return e?r:l;default:return[]}}function Lp(t,e,n,o){const i=wo(t);let r=Dp(yn(t),n==="start",o);return i&&(r=r.map(l=>l+"-"+i),e&&(r=r.concat(r.map(il)))),r}function Ki(t){return t.replace(/left|right|bottom|top/g,e=>Op[e])}function $p(t){return{top:0,right:0,bottom:0,left:0,...t}}function vc(t){return typeof t!="number"?$p(t):{top:t,right:t,bottom:t,left:t}}function Ui(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function Ds(t,e,n){let{reference:o,floating:i}=t;const r=Qo(e),l=Rl(e),a=El(l),s=yn(e),u=r==="y",f=o.x+o.width/2-i.width/2,c=o.y+o.height/2-i.height/2,d=o[a]/2-i[a]/2;let m;switch(s){case"top":m={x:f,y:o.y-i.height};break;case"bottom":m={x:f,y:o.y+o.height};break;case"right":m={x:o.x+o.width,y:c};break;case"left":m={x:o.x-i.width,y:c};break;default:m={x:o.x,y:o.y}}switch(wo(e)){case"start":m[l]-=d*(n&&u?-1:1);break;case"end":m[l]+=d*(n&&u?-1:1);break}return m}const Fp=async(t,e,n)=>{const{placement:o="bottom",strategy:i="absolute",middleware:r=[],platform:l}=n,a=r.filter(Boolean),s=await(l.isRTL==null?void 0:l.isRTL(e));let u=await l.getElementRects({reference:t,floating:e,strategy:i}),{x:f,y:c}=Ds(u,o,s),d=o,m={},h=0;for(let _=0;_<a.length;_++){const{name:g,fn:w}=a[_],{x:A,y:k,data:E,reset:D}=await w({x:f,y:c,initialPlacement:o,placement:d,strategy:i,middlewareData:m,rects:u,platform:l,elements:{reference:t,floating:e}});f=A??f,c=k??c,m={...m,[g]:{...m[g],...E}},D&&h<=50&&(h++,typeof D=="object"&&(D.placement&&(d=D.placement),D.rects&&(u=D.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:i}):D.rects),{x:f,y:c}=Ds(u,d,s)),_=-1)}return{x:f,y:c,placement:d,strategy:i,middlewareData:m}};async function Dl(t,e){var n;e===void 0&&(e={});const{x:o,y:i,platform:r,rects:l,elements:a,strategy:s}=t,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:c="floating",altBoundary:d=!1,padding:m=0}=yo(e,t),h=vc(m),g=a[d?c==="floating"?"reference":"floating":c],w=Ui(await r.getClippingRect({element:(n=await(r.isElement==null?void 0:r.isElement(g)))==null||n?g:g.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(a.floating)),boundary:u,rootBoundary:f,strategy:s})),A=c==="floating"?{...l.floating,x:o,y:i}:l.reference,k=await(r.getOffsetParent==null?void 0:r.getOffsetParent(a.floating)),E=await(r.isElement==null?void 0:r.isElement(k))?await(r.getScale==null?void 0:r.getScale(k))||{x:1,y:1}:{x:1,y:1},D=Ui(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:A,offsetParent:k,strategy:s}):A);return{top:(w.top-D.top+h.top)/E.y,bottom:(D.bottom-w.bottom+h.bottom)/E.y,left:(w.left-D.left+h.left)/E.x,right:(D.right-w.right+h.right)/E.x}}const qp=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:o,placement:i,rects:r,platform:l,elements:a,middlewareData:s}=e,{element:u,padding:f=0}=yo(t,e)||{};if(u==null)return{};const c=vc(f),d={x:n,y:o},m=Rl(i),h=El(m),_=await l.getDimensions(u),g=m==="y",w=g?"top":"left",A=g?"bottom":"right",k=g?"clientHeight":"clientWidth",E=r.reference[h]+r.reference[m]-d[m]-r.floating[h],D=d[m]-r.reference[m],R=await(l.getOffsetParent==null?void 0:l.getOffsetParent(u));let V=R?R[k]:0;(!V||!await(l.isElement==null?void 0:l.isElement(R)))&&(V=a.floating[k]||r.floating[h]);const F=E/2-D/2,L=V/2-_[h]/2-1,U=bn(c[w],L),y=bn(c[A],L),b=U,I=V-_[h]-y,O=V/2-_[h]/2+F,W=ol(b,O,I),$=!s.arrow&&wo(i)!=null&&O!==W&&r.reference[h]/2-(O<b?U:y)-_[h]/2<0,Z=$?O<b?O-b:O-I:0;return{[m]:d[m]+Z,data:{[m]:W,centerOffset:O-W-Z,...$&&{alignmentOffset:Z}},reset:$}}}),jp=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,o;const{placement:i,middlewareData:r,rects:l,initialPlacement:a,platform:s,elements:u}=e,{mainAxis:f=!0,crossAxis:c=!0,fallbackPlacements:d,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:_=!0,...g}=yo(t,e);if((n=r.arrow)!=null&&n.alignmentOffset)return{};const w=yn(i),A=yn(a)===a,k=await(s.isRTL==null?void 0:s.isRTL(u.floating)),E=d||(A||!_?[Ki(a)]:Rp(a));!d&&h!=="none"&&E.push(...Lp(a,_,h,k));const D=[a,...E],R=await Dl(e,g),V=[];let F=((o=r.flip)==null?void 0:o.overflows)||[];if(f&&V.push(R[w]),c){const b=Ep(i,l,k);V.push(R[b[0]],R[b[1]])}if(F=[...F,{placement:i,overflows:V}],!V.every(b=>b<=0)){var L,U;const b=(((L=r.flip)==null?void 0:L.index)||0)+1,I=D[b];if(I)return{data:{index:b,overflows:F},reset:{placement:I}};let O=(U=F.filter(W=>W.overflows[0]<=0).sort((W,$)=>W.overflows[1]-$.overflows[1])[0])==null?void 0:U.placement;if(!O)switch(m){case"bestFit":{var y;const W=(y=F.map($=>[$.placement,$.overflows.filter(Z=>Z>0).reduce((Z,ee)=>Z+ee,0)]).sort(($,Z)=>$[1]-Z[1])[0])==null?void 0:y[0];W&&(O=W);break}case"initialPlacement":O=a;break}if(i!==O)return{reset:{placement:O}}}return{}}}};async function Bp(t,e){const{placement:n,platform:o,elements:i}=t,r=await(o.isRTL==null?void 0:o.isRTL(i.floating)),l=yn(n),a=wo(n),s=Qo(n)==="y",u=["left","top"].includes(l)?-1:1,f=r&&s?-1:1,c=yo(e,t);let{mainAxis:d,crossAxis:m,alignmentAxis:h}=typeof c=="number"?{mainAxis:c,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...c};return a&&typeof h=="number"&&(m=a==="end"?h*-1:h),s?{x:m*f,y:d*u}:{x:d*u,y:m*f}}const Vp=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,o;const{x:i,y:r,placement:l,middlewareData:a}=e,s=await Bp(e,t);return l===((n=a.offset)==null?void 0:n.placement)&&(o=a.arrow)!=null&&o.alignmentOffset?{}:{x:i+s.x,y:r+s.y,data:{...s,placement:l}}}}},Gp=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:o,placement:i}=e,{mainAxis:r=!0,crossAxis:l=!1,limiter:a={fn:g=>{let{x:w,y:A}=g;return{x:w,y:A}}},...s}=yo(t,e),u={x:n,y:o},f=await Dl(e,s),c=Qo(yn(i)),d=bc(c);let m=u[d],h=u[c];if(r){const g=d==="y"?"top":"left",w=d==="y"?"bottom":"right",A=m+f[g],k=m-f[w];m=ol(A,m,k)}if(l){const g=c==="y"?"top":"left",w=c==="y"?"bottom":"right",A=h+f[g],k=h-f[w];h=ol(A,h,k)}const _=a.fn({...e,[d]:m,[c]:h});return{..._,data:{x:_.x-n,y:_.y-o}}}}},Hp=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){const{placement:n,rects:o,platform:i,elements:r}=e,{apply:l=()=>{},...a}=yo(t,e),s=await Dl(e,a),u=yn(n),f=wo(n),c=Qo(n)==="y",{width:d,height:m}=o.floating;let h,_;u==="top"||u==="bottom"?(h=u,_=f===(await(i.isRTL==null?void 0:i.isRTL(r.floating))?"start":"end")?"left":"right"):(_=u,h=f==="end"?"top":"bottom");const g=m-s[h],w=d-s[_],A=!e.middlewareData.shift;let k=g,E=w;if(c){const R=d-s.left-s.right;E=f||A?bn(w,R):R}else{const R=m-s.top-s.bottom;k=f||A?bn(g,R):R}if(A&&!f){const R=Mt(s.left,0),V=Mt(s.right,0),F=Mt(s.top,0),L=Mt(s.bottom,0);c?E=d-2*(R!==0||V!==0?R+V:Mt(s.left,s.right)):k=m-2*(F!==0||L!==0?F+L:Mt(s.top,s.bottom))}await l({...e,availableWidth:E,availableHeight:k});const D=await i.getDimensions(r.floating);return d!==D.width||m!==D.height?{reset:{rects:!0}}:{}}}};function wn(t){return yc(t)?(t.nodeName||"").toLowerCase():"#document"}function It(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function an(t){var e;return(e=(yc(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function yc(t){return t instanceof Node||t instanceof It(t).Node}function rn(t){return t instanceof Element||t instanceof It(t).Element}function Xt(t){return t instanceof HTMLElement||t instanceof It(t).HTMLElement}function Ls(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof It(t).ShadowRoot}function zo(t){const{overflow:e,overflowX:n,overflowY:o,display:i}=Rt(t);return/auto|scroll|overlay|hidden|clip/.test(e+o+n)&&!["inline","contents"].includes(i)}function Wp(t){return["table","td","th"].includes(wn(t))}function Ll(t){const e=$l(),n=Rt(t);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(o=>(n.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(n.contain||"").includes(o))}function Kp(t){let e=po(t);for(;Xt(e)&&!br(e);){if(Ll(e))return e;e=po(e)}return null}function $l(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function br(t){return["html","body","#document"].includes(wn(t))}function Rt(t){return It(t).getComputedStyle(t)}function vr(t){return rn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function po(t){if(wn(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Ls(t)&&t.host||an(t);return Ls(e)?e.host:e}function wc(t){const e=po(t);return br(e)?t.ownerDocument?t.ownerDocument.body:t.body:Xt(e)&&zo(e)?e:wc(e)}function Uo(t,e,n){var o;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=wc(t),r=i===((o=t.ownerDocument)==null?void 0:o.body),l=It(i);return r?e.concat(l,l.visualViewport||[],zo(i)?i:[],l.frameElement&&n?Uo(l.frameElement):[]):e.concat(i,Uo(i,[],n))}function kc(t){const e=Rt(t);let n=parseFloat(e.width)||0,o=parseFloat(e.height)||0;const i=Xt(t),r=i?t.offsetWidth:n,l=i?t.offsetHeight:o,a=Wi(n)!==r||Wi(o)!==l;return a&&(n=r,o=l),{width:n,height:o,$:a}}function Fl(t){return rn(t)?t:t.contextElement}function uo(t){const e=Fl(t);if(!Xt(e))return vn(1);const n=e.getBoundingClientRect(),{width:o,height:i,$:r}=kc(e);let l=(r?Wi(n.width):n.width)/o,a=(r?Wi(n.height):n.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!a||!Number.isFinite(a))&&(a=1),{x:l,y:a}}const Up=vn(0);function Cc(t){const e=It(t);return!$l()||!e.visualViewport?Up:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Yp(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==It(t)?!1:e}function Fn(t,e,n,o){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),r=Fl(t);let l=vn(1);e&&(o?rn(o)&&(l=uo(o)):l=uo(t));const a=Yp(r,n,o)?Cc(r):vn(0);let s=(i.left+a.x)/l.x,u=(i.top+a.y)/l.y,f=i.width/l.x,c=i.height/l.y;if(r){const d=It(r),m=o&&rn(o)?It(o):o;let h=d,_=h.frameElement;for(;_&&o&&m!==h;){const g=uo(_),w=_.getBoundingClientRect(),A=Rt(_),k=w.left+(_.clientLeft+parseFloat(A.paddingLeft))*g.x,E=w.top+(_.clientTop+parseFloat(A.paddingTop))*g.y;s*=g.x,u*=g.y,f*=g.x,c*=g.y,s+=k,u+=E,h=It(_),_=h.frameElement}}return Ui({width:f,height:c,x:s,y:u})}const Xp=[":popover-open",":modal"];function Ac(t){return Xp.some(e=>{try{return t.matches(e)}catch{return!1}})}function Jp(t){let{elements:e,rect:n,offsetParent:o,strategy:i}=t;const r=i==="fixed",l=an(o),a=e?Ac(e.floating):!1;if(o===l||a&&r)return n;let s={scrollLeft:0,scrollTop:0},u=vn(1);const f=vn(0),c=Xt(o);if((c||!c&&!r)&&((wn(o)!=="body"||zo(l))&&(s=vr(o)),Xt(o))){const d=Fn(o);u=uo(o),f.x=d.x+o.clientLeft,f.y=d.y+o.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-s.scrollLeft*u.x+f.x,y:n.y*u.y-s.scrollTop*u.y+f.y}}function xp(t){return Array.from(t.getClientRects())}function Sc(t){return Fn(an(t)).left+vr(t).scrollLeft}function Zp(t){const e=an(t),n=vr(t),o=t.ownerDocument.body,i=Mt(e.scrollWidth,e.clientWidth,o.scrollWidth,o.clientWidth),r=Mt(e.scrollHeight,e.clientHeight,o.scrollHeight,o.clientHeight);let l=-n.scrollLeft+Sc(t);const a=-n.scrollTop;return Rt(o).direction==="rtl"&&(l+=Mt(e.clientWidth,o.clientWidth)-i),{width:i,height:r,x:l,y:a}}function Qp(t,e){const n=It(t),o=an(t),i=n.visualViewport;let r=o.clientWidth,l=o.clientHeight,a=0,s=0;if(i){r=i.width,l=i.height;const u=$l();(!u||u&&e==="fixed")&&(a=i.offsetLeft,s=i.offsetTop)}return{width:r,height:l,x:a,y:s}}function zp(t,e){const n=Fn(t,!0,e==="fixed"),o=n.top+t.clientTop,i=n.left+t.clientLeft,r=Xt(t)?uo(t):vn(1),l=t.clientWidth*r.x,a=t.clientHeight*r.y,s=i*r.x,u=o*r.y;return{width:l,height:a,x:s,y:u}}function $s(t,e,n){let o;if(e==="viewport")o=Qp(t,n);else if(e==="document")o=Zp(an(t));else if(rn(e))o=zp(e,n);else{const i=Cc(t);o={...e,x:e.x-i.x,y:e.y-i.y}}return Ui(o)}function Tc(t,e){const n=po(t);return n===e||!rn(n)||br(n)?!1:Rt(n).position==="fixed"||Tc(n,e)}function eh(t,e){const n=e.get(t);if(n)return n;let o=Uo(t,[],!1).filter(a=>rn(a)&&wn(a)!=="body"),i=null;const r=Rt(t).position==="fixed";let l=r?po(t):t;for(;rn(l)&&!br(l);){const a=Rt(l),s=Ll(l);!s&&a.position==="fixed"&&(i=null),(r?!s&&!i:!s&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||zo(l)&&!s&&Tc(t,l))?o=o.filter(f=>f!==l):i=a,l=po(l)}return e.set(t,o),o}function th(t){let{element:e,boundary:n,rootBoundary:o,strategy:i}=t;const l=[...n==="clippingAncestors"?eh(e,this._c):[].concat(n),o],a=l[0],s=l.reduce((u,f)=>{const c=$s(e,f,i);return u.top=Mt(c.top,u.top),u.right=bn(c.right,u.right),u.bottom=bn(c.bottom,u.bottom),u.left=Mt(c.left,u.left),u},$s(e,a,i));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}}function nh(t){const{width:e,height:n}=kc(t);return{width:e,height:n}}function oh(t,e,n){const o=Xt(e),i=an(e),r=n==="fixed",l=Fn(t,!0,r,e);let a={scrollLeft:0,scrollTop:0};const s=vn(0);if(o||!o&&!r)if((wn(e)!=="body"||zo(i))&&(a=vr(e)),o){const c=Fn(e,!0,r,e);s.x=c.x+e.clientLeft,s.y=c.y+e.clientTop}else i&&(s.x=Sc(i));const u=l.left+a.scrollLeft-s.x,f=l.top+a.scrollTop-s.y;return{x:u,y:f,width:l.width,height:l.height}}function Fs(t,e){return!Xt(t)||Rt(t).position==="fixed"?null:e?e(t):t.offsetParent}function Mc(t,e){const n=It(t);if(!Xt(t)||Ac(t))return n;let o=Fs(t,e);for(;o&&Wp(o)&&Rt(o).position==="static";)o=Fs(o,e);return o&&(wn(o)==="html"||wn(o)==="body"&&Rt(o).position==="static"&&!Ll(o))?n:o||Kp(t)||n}const ih=async function(t){const e=this.getOffsetParent||Mc,n=this.getDimensions;return{reference:oh(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,...await n(t.floating)}}};function rh(t){return Rt(t).direction==="rtl"}const lh={convertOffsetParentRelativeRectToViewportRelativeRect:Jp,getDocumentElement:an,getClippingRect:th,getOffsetParent:Mc,getElementRects:ih,getClientRects:xp,getDimensions:nh,getScale:uo,isElement:rn,isRTL:rh};function sh(t,e){let n=null,o;const i=an(t);function r(){var a;clearTimeout(o),(a=n)==null||a.disconnect(),n=null}function l(a,s){a===void 0&&(a=!1),s===void 0&&(s=1),r();const{left:u,top:f,width:c,height:d}=t.getBoundingClientRect();if(a||e(),!c||!d)return;const m=_i(f),h=_i(i.clientWidth-(u+c)),_=_i(i.clientHeight-(f+d)),g=_i(u),A={rootMargin:-m+"px "+-h+"px "+-_+"px "+-g+"px",threshold:Mt(0,bn(1,s))||1};let k=!0;function E(D){const R=D[0].intersectionRatio;if(R!==s){if(!k)return l();R?l(!1,R):o=setTimeout(()=>{l(!1,1e-7)},100)}k=!1}try{n=new IntersectionObserver(E,{...A,root:i.ownerDocument})}catch{n=new IntersectionObserver(E,A)}n.observe(t)}return l(!0),r}function ah(t,e,n,o){o===void 0&&(o={});const{ancestorScroll:i=!0,ancestorResize:r=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:s=!1}=o,u=Fl(t),f=i||r?[...u?Uo(u):[],...Uo(e)]:[];f.forEach(w=>{i&&w.addEventListener("scroll",n,{passive:!0}),r&&w.addEventListener("resize",n)});const c=u&&a?sh(u,n):null;let d=-1,m=null;l&&(m=new ResizeObserver(w=>{let[A]=w;A&&A.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var k;(k=m)==null||k.observe(e)})),n()}),u&&!s&&m.observe(u),m.observe(e));let h,_=s?Fn(t):null;s&&g();function g(){const w=Fn(t);_&&(w.x!==_.x||w.y!==_.y||w.width!==_.width||w.height!==_.height)&&n(),_=w,h=requestAnimationFrame(g)}return n(),()=>{var w;f.forEach(A=>{i&&A.removeEventListener("scroll",n),r&&A.removeEventListener("resize",n)}),c==null||c(),(w=m)==null||w.disconnect(),m=null,s&&cancelAnimationFrame(h)}}const uh=Gp,fh=jp,ch=Hp,dh=qp,mh=(t,e,n)=>{const o=new Map,i={platform:lh,...n},r={...i.platform,_c:o};return Fp(t,e,{...i,platform:r})},ph={strategy:"absolute",placement:"top",gutter:5,flip:!0,sameWidth:!1,overflowPadding:8},hh={bottom:"rotate(45deg)",left:"rotate(135deg)",top:"rotate(225deg)",right:"rotate(315deg)"};function _h(t,e,n={}){if(!e||!t||n===null)return{destroy:Ze};const o={...ph,...n},i=e.querySelector("[data-arrow=true]"),r=[];o.flip&&r.push(fh({boundary:o.boundary,padding:o.overflowPadding}));const l=St(i)?i.offsetHeight/2:0;if(o.gutter||o.offset){const s=o.gutter?{mainAxis:o.gutter}:o.offset;(s==null?void 0:s.mainAxis)!=null&&(s.mainAxis+=l),r.push(Vp(s))}r.push(uh({boundary:o.boundary,crossAxis:o.overlap,padding:o.overflowPadding})),i&&r.push(dh({element:i,padding:8})),r.push(ch({padding:o.overflowPadding,apply({rects:s,availableHeight:u,availableWidth:f}){o.sameWidth&&Object.assign(e.style,{width:`${Math.round(s.reference.width)}px`,minWidth:"unset"}),o.fitViewport&&Object.assign(e.style,{maxWidth:`${f}px`,maxHeight:`${u}px`})}}));function a(){if(!t||!e)return;const{placement:s,strategy:u}=o;mh(t,e,{placement:s,middleware:r,strategy:u}).then(f=>{const c=Math.round(f.x),d=Math.round(f.y);if(Object.assign(e.style,{position:o.strategy,top:`${d}px`,left:`${c}px`}),St(i)&&f.middlewareData.arrow){const{x:m,y:h}=f.middlewareData.arrow,_=f.placement.split("-")[0];Object.assign(i.style,{position:"absolute",left:m!=null?`${m}px`:"",top:h!=null?`${h}px`:"",[_]:`calc(100% - ${l}px)`,transform:hh[_],backgroundColor:"inherit",zIndex:"inherit"})}return f})}return Object.assign(e.style,{position:o.strategy}),{destroy:ah(t,e,a)}}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Ic=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Yi=Ic.join(","),Pc=typeof Element>"u",qn=Pc?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Xi=!Pc&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},Ji=function t(e,n){var o;n===void 0&&(n=!0);var i=e==null||(o=e.getAttribute)===null||o===void 0?void 0:o.call(e,"inert"),r=i===""||i==="true",l=r||n&&e&&t(e.parentNode);return l},gh=function(e){var n,o=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"contenteditable");return o===""||o==="true"},Oc=function(e,n,o){if(Ji(e))return[];var i=Array.prototype.slice.apply(e.querySelectorAll(Yi));return n&&qn.call(e,Yi)&&i.unshift(e),i=i.filter(o),i},Nc=function t(e,n,o){for(var i=[],r=Array.from(e);r.length;){var l=r.shift();if(!Ji(l,!1))if(l.tagName==="SLOT"){var a=l.assignedElements(),s=a.length?a:l.children,u=t(s,!0,o);o.flatten?i.push.apply(i,u):i.push({scopeParent:l,candidates:u})}else{var f=qn.call(l,Yi);f&&o.filter(l)&&(n||!e.includes(l))&&i.push(l);var c=l.shadowRoot||typeof o.getShadowRoot=="function"&&o.getShadowRoot(l),d=!Ji(c,!1)&&(!o.shadowRootFilter||o.shadowRootFilter(l));if(c&&d){var m=t(c===!0?l.children:c.children,!0,o);o.flatten?i.push.apply(i,m):i.push({scopeParent:l,candidates:m})}else r.unshift.apply(r,l.children)}}return i},Ec=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},Pn=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||gh(e))&&!Ec(e)?0:e.tabIndex},bh=function(e,n){var o=Pn(e);return o<0&&n&&!Ec(e)?0:o},vh=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},Rc=function(e){return e.tagName==="INPUT"},yh=function(e){return Rc(e)&&e.type==="hidden"},wh=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(o){return o.tagName==="SUMMARY"});return n},kh=function(e,n){for(var o=0;o<e.length;o++)if(e[o].checked&&e[o].form===n)return e[o]},Ch=function(e){if(!e.name)return!0;var n=e.form||Xi(e),o=function(a){return n.querySelectorAll('input[type="radio"][name="'+a+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=o(window.CSS.escape(e.name));else try{i=o(e.name)}catch(l){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",l.message),!1}var r=kh(i,e.form);return!r||r===e},Ah=function(e){return Rc(e)&&e.type==="radio"},Sh=function(e){return Ah(e)&&!Ch(e)},Th=function(e){var n,o=e&&Xi(e),i=(n=o)===null||n===void 0?void 0:n.host,r=!1;if(o&&o!==e){var l,a,s;for(r=!!((l=i)!==null&&l!==void 0&&(a=l.ownerDocument)!==null&&a!==void 0&&a.contains(i)||e!=null&&(s=e.ownerDocument)!==null&&s!==void 0&&s.contains(e));!r&&i;){var u,f,c;o=Xi(i),i=(u=o)===null||u===void 0?void 0:u.host,r=!!((f=i)!==null&&f!==void 0&&(c=f.ownerDocument)!==null&&c!==void 0&&c.contains(i))}}return r},qs=function(e){var n=e.getBoundingClientRect(),o=n.width,i=n.height;return o===0&&i===0},Mh=function(e,n){var o=n.displayCheck,i=n.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var r=qn.call(e,"details>summary:first-of-type"),l=r?e.parentElement:e;if(qn.call(l,"details:not([open]) *"))return!0;if(!o||o==="full"||o==="legacy-full"){if(typeof i=="function"){for(var a=e;e;){var s=e.parentElement,u=Xi(e);if(s&&!s.shadowRoot&&i(s)===!0)return qs(e);e.assignedSlot?e=e.assignedSlot:!s&&u!==e.ownerDocument?e=u.host:e=s}e=a}if(Th(e))return!e.getClientRects().length;if(o!=="legacy-full")return!0}else if(o==="non-zero-area")return qs(e);return!1},Ih=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var o=0;o<n.children.length;o++){var i=n.children.item(o);if(i.tagName==="LEGEND")return qn.call(n,"fieldset[disabled] *")?!0:!i.contains(e)}return!0}n=n.parentElement}return!1},xi=function(e,n){return!(n.disabled||Ji(n)||yh(n)||Mh(n,e)||wh(n)||Ih(n))},rl=function(e,n){return!(Sh(n)||Pn(n)<0||!xi(e,n))},Ph=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},Oh=function t(e){var n=[],o=[];return e.forEach(function(i,r){var l=!!i.scopeParent,a=l?i.scopeParent:i,s=bh(a,l),u=l?t(i.candidates):a;s===0?l?n.push.apply(n,u):n.push(a):o.push({documentOrder:r,tabIndex:s,item:i,isScope:l,content:u})}),o.sort(vh).reduce(function(i,r){return r.isScope?i.push.apply(i,r.content):i.push(r.content),i},[]).concat(n)},Nh=function(e,n){n=n||{};var o;return n.getShadowRoot?o=Nc([e],n.includeContainer,{filter:rl.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:Ph}):o=Oc(e,n.includeContainer,rl.bind(null,n)),Oh(o)},Eh=function(e,n){n=n||{};var o;return n.getShadowRoot?o=Nc([e],n.includeContainer,{filter:xi.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):o=Oc(e,n.includeContainer,xi.bind(null,n)),o},no=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return qn.call(e,Yi)===!1?!1:rl(n,e)},Rh=Ic.concat("iframe").join(","),Dr=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return qn.call(e,Rh)===!1?!1:xi(n,e)};/*!
* focus-trap 7.5.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function js(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,o)}return n}function Bs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?js(Object(n),!0).forEach(function(o){Dh(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):js(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function Dh(t,e,n){return e=$h(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lh(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $h(t){var e=Lh(t,"string");return typeof e=="symbol"?e:String(e)}var Vs={activateTrap:function(e,n){if(e.length>0){var o=e[e.length-1];o!==n&&o.pause()}var i=e.indexOf(n);i===-1||e.splice(i,1),e.push(n)},deactivateTrap:function(e,n){var o=e.indexOf(n);o!==-1&&e.splice(o,1),e.length>0&&e[e.length-1].unpause()}},Fh=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},qh=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},Go=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},jh=function(e){return Go(e)&&!e.shiftKey},Bh=function(e){return Go(e)&&e.shiftKey},Gs=function(e){return setTimeout(e,0)},Hs=function(e,n){var o=-1;return e.every(function(i,r){return n(i)?(o=r,!1):!0}),o},Eo=function(e){for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return typeof e=="function"?e.apply(void 0,o):e},gi=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},Vh=[],Gh=function(e,n){var o=(n==null?void 0:n.document)||document,i=(n==null?void 0:n.trapStack)||Vh,r=Bs({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:jh,isKeyBackward:Bh},n),l={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},a,s=function(b,I,O){return b&&b[I]!==void 0?b[I]:r[O||I]},u=function(b,I){var O=typeof(I==null?void 0:I.composedPath)=="function"?I.composedPath():void 0;return l.containerGroups.findIndex(function(W){var $=W.container,Z=W.tabbableNodes;return $.contains(b)||(O==null?void 0:O.includes($))||Z.find(function(ee){return ee===b})})},f=function(b){var I=r[b];if(typeof I=="function"){for(var O=arguments.length,W=new Array(O>1?O-1:0),$=1;$<O;$++)W[$-1]=arguments[$];I=I.apply(void 0,W)}if(I===!0&&(I=void 0),!I){if(I===void 0||I===!1)return I;throw new Error("`".concat(b,"` was specified but was not a node, or did not return a node"))}var Z=I;if(typeof I=="string"&&(Z=o.querySelector(I),!Z))throw new Error("`".concat(b,"` as selector refers to no known node"));return Z},c=function(){var b=f("initialFocus");if(b===!1)return!1;if(b===void 0||!Dr(b,r.tabbableOptions))if(u(o.activeElement)>=0)b=o.activeElement;else{var I=l.tabbableGroups[0],O=I&&I.firstTabbableNode;b=O||f("fallbackFocus")}if(!b)throw new Error("Your focus-trap needs to have at least one focusable element");return b},d=function(){if(l.containerGroups=l.containers.map(function(b){var I=Nh(b,r.tabbableOptions),O=Eh(b,r.tabbableOptions),W=I.length>0?I[0]:void 0,$=I.length>0?I[I.length-1]:void 0,Z=O.find(function(K){return no(K)}),ee=O.slice().reverse().find(function(K){return no(K)}),Q=!!I.find(function(K){return Pn(K)>0});return{container:b,tabbableNodes:I,focusableNodes:O,posTabIndexesFound:Q,firstTabbableNode:W,lastTabbableNode:$,firstDomTabbableNode:Z,lastDomTabbableNode:ee,nextTabbableNode:function(te){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,p=I.indexOf(te);return p<0?ne?O.slice(O.indexOf(te)+1).find(function(H){return no(H)}):O.slice(0,O.indexOf(te)).reverse().find(function(H){return no(H)}):I[p+(ne?1:-1)]}}}),l.tabbableGroups=l.containerGroups.filter(function(b){return b.tabbableNodes.length>0}),l.tabbableGroups.length<=0&&!f("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(l.containerGroups.find(function(b){return b.posTabIndexesFound})&&l.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},m=function y(b){var I=b.activeElement;if(I)return I.shadowRoot&&I.shadowRoot.activeElement!==null?y(I.shadowRoot):I},h=function y(b){if(b!==!1&&b!==m(document)){if(!b||!b.focus){y(c());return}b.focus({preventScroll:!!r.preventScroll}),l.mostRecentlyFocusedNode=b,Fh(b)&&b.select()}},_=function(b){var I=f("setReturnFocus",b);return I||(I===!1?!1:b)},g=function(b){var I=b.target,O=b.event,W=b.isBackward,$=W===void 0?!1:W;I=I||gi(O),d();var Z=null;if(l.tabbableGroups.length>0){var ee=u(I,O),Q=ee>=0?l.containerGroups[ee]:void 0;if(ee<0)$?Z=l.tabbableGroups[l.tabbableGroups.length-1].lastTabbableNode:Z=l.tabbableGroups[0].firstTabbableNode;else if($){var K=Hs(l.tabbableGroups,function(ie){var re=ie.firstTabbableNode;return I===re});if(K<0&&(Q.container===I||Dr(I,r.tabbableOptions)&&!no(I,r.tabbableOptions)&&!Q.nextTabbableNode(I,!1))&&(K=ee),K>=0){var te=K===0?l.tabbableGroups.length-1:K-1,ne=l.tabbableGroups[te];Z=Pn(I)>=0?ne.lastTabbableNode:ne.lastDomTabbableNode}else Go(O)||(Z=Q.nextTabbableNode(I,!1))}else{var p=Hs(l.tabbableGroups,function(ie){var re=ie.lastTabbableNode;return I===re});if(p<0&&(Q.container===I||Dr(I,r.tabbableOptions)&&!no(I,r.tabbableOptions)&&!Q.nextTabbableNode(I))&&(p=ee),p>=0){var H=p===l.tabbableGroups.length-1?0:p+1,j=l.tabbableGroups[H];Z=Pn(I)>=0?j.firstTabbableNode:j.firstDomTabbableNode}else Go(O)||(Z=Q.nextTabbableNode(I))}}else Z=f("fallbackFocus");return Z},w=function(b){var I=gi(b);if(!(u(I,b)>=0)){if(Eo(r.clickOutsideDeactivates,b)){a.deactivate({returnFocus:r.returnFocusOnDeactivate});return}Eo(r.allowOutsideClick,b)||b.preventDefault()}},A=function(b){var I=gi(b),O=u(I,b)>=0;if(O||I instanceof Document)O&&(l.mostRecentlyFocusedNode=I);else{b.stopImmediatePropagation();var W,$=!0;if(l.mostRecentlyFocusedNode)if(Pn(l.mostRecentlyFocusedNode)>0){var Z=u(l.mostRecentlyFocusedNode),ee=l.containerGroups[Z].tabbableNodes;if(ee.length>0){var Q=ee.findIndex(function(K){return K===l.mostRecentlyFocusedNode});Q>=0&&(r.isKeyForward(l.recentNavEvent)?Q+1<ee.length&&(W=ee[Q+1],$=!1):Q-1>=0&&(W=ee[Q-1],$=!1))}}else l.containerGroups.some(function(K){return K.tabbableNodes.some(function(te){return Pn(te)>0})})||($=!1);else $=!1;$&&(W=g({target:l.mostRecentlyFocusedNode,isBackward:r.isKeyBackward(l.recentNavEvent)})),h(W||l.mostRecentlyFocusedNode||c())}l.recentNavEvent=void 0},k=function(b){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;l.recentNavEvent=b;var O=g({event:b,isBackward:I});O&&(Go(b)&&b.preventDefault(),h(O))},E=function(b){if(qh(b)&&Eo(r.escapeDeactivates,b)!==!1){b.preventDefault(),a.deactivate();return}(r.isKeyForward(b)||r.isKeyBackward(b))&&k(b,r.isKeyBackward(b))},D=function(b){var I=gi(b);u(I,b)>=0||Eo(r.clickOutsideDeactivates,b)||Eo(r.allowOutsideClick,b)||(b.preventDefault(),b.stopImmediatePropagation())},R=function(){if(l.active)return Vs.activateTrap(i,a),l.delayInitialFocusTimer=r.delayInitialFocus?Gs(function(){h(c())}):h(c()),o.addEventListener("focusin",A,!0),o.addEventListener("mousedown",w,{capture:!0,passive:!1}),o.addEventListener("touchstart",w,{capture:!0,passive:!1}),o.addEventListener("click",D,{capture:!0,passive:!1}),o.addEventListener("keydown",E,{capture:!0,passive:!1}),a},V=function(){if(l.active)return o.removeEventListener("focusin",A,!0),o.removeEventListener("mousedown",w,!0),o.removeEventListener("touchstart",w,!0),o.removeEventListener("click",D,!0),o.removeEventListener("keydown",E,!0),a},F=function(b){var I=b.some(function(O){var W=Array.from(O.removedNodes);return W.some(function($){return $===l.mostRecentlyFocusedNode})});I&&h(c())},L=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(F):void 0,U=function(){L&&(L.disconnect(),l.active&&!l.paused&&l.containers.map(function(b){L.observe(b,{subtree:!0,childList:!0})}))};return a={get active(){return l.active},get paused(){return l.paused},activate:function(b){if(l.active)return this;var I=s(b,"onActivate"),O=s(b,"onPostActivate"),W=s(b,"checkCanFocusTrap");W||d(),l.active=!0,l.paused=!1,l.nodeFocusedBeforeActivation=o.activeElement,I==null||I();var $=function(){W&&d(),R(),U(),O==null||O()};return W?(W(l.containers.concat()).then($,$),this):($(),this)},deactivate:function(b){if(!l.active)return this;var I=Bs({onDeactivate:r.onDeactivate,onPostDeactivate:r.onPostDeactivate,checkCanReturnFocus:r.checkCanReturnFocus},b);clearTimeout(l.delayInitialFocusTimer),l.delayInitialFocusTimer=void 0,V(),l.active=!1,l.paused=!1,U(),Vs.deactivateTrap(i,a);var O=s(I,"onDeactivate"),W=s(I,"onPostDeactivate"),$=s(I,"checkCanReturnFocus"),Z=s(I,"returnFocus","returnFocusOnDeactivate");O==null||O();var ee=function(){Gs(function(){Z&&h(_(l.nodeFocusedBeforeActivation)),W==null||W()})};return Z&&$?($(_(l.nodeFocusedBeforeActivation)).then(ee,ee),this):(ee(),this)},pause:function(b){if(l.paused||!l.active)return this;var I=s(b,"onPause"),O=s(b,"onPostPause");return l.paused=!0,I==null||I(),V(),U(),O==null||O(),this},unpause:function(b){if(!l.paused||!l.active)return this;var I=s(b,"onUnpause"),O=s(b,"onPostUnpause");return l.paused=!1,I==null||I(),d(),R(),U(),O==null||O(),this},updateContainerElements:function(b){var I=[].concat(b).filter(Boolean);return l.containers=I.map(function(O){return typeof O=="string"?o.querySelector(O):O}),l.active&&d(),U(),this}},a.updateContainerElements(e),a};function Hh(t={}){let e;const{immediate:n,...o}=t,i=Ye(!1),r=Ye(!1),l=c=>e==null?void 0:e.activate(c),a=c=>{e==null||e.deactivate(c)},s=()=>{e&&(e.pause(),r.set(!0))},u=()=>{e&&(e.unpause(),r.set(!1))};return{useFocusTrap:c=>(e=Gh(c,{...o,onActivate(){var d;i.set(!0),(d=t.onActivate)==null||d.call(t)},onDeactivate(){var d;i.set(!1),(d=t.onDeactivate)==null||d.call(t)}}),n&&l(),{destroy(){a(),e=void 0}}),hasFocus:bs(i),isPaused:bs(r),activate:l,deactivate:a,pause:s,unpause:u}}const bi=[];function Wh(t,e){let n=Ze;function o(){const r=bi.indexOf(t);r>=0&&bi.splice(r,1)}function i(r){n();const{open:l,onClose:a,shouldCloseOnInteractOutside:s,closeOnInteractOutside:u}=r;Ol(100).then(()=>{l?bi.push(t):o()});function f(){return ip(bi)===t}function c(){f()&&a&&(a(),o())}function d(h){const _=h.target;hr(_)&&_&&f()&&(h.preventDefault(),h.stopPropagation(),h.stopImmediatePropagation())}function m(h){s!=null&&s(h)&&f()&&(h.preventDefault(),h.stopPropagation(),h.stopImmediatePropagation(),c())}n=Kh(t,{onInteractOutsideStart:d,onInteractOutside:u?m:void 0,enabled:l}).destroy}return i(e),{update:i,destroy(){o(),n()}}}const Dc=(t,e="body")=>{let n;if(!St(e)&&typeof e!="string")return{destroy:Ze};async function o(r){if(e=r,typeof e=="string"){if(n=document.querySelector(e),n===null&&(await Al(),n=document.querySelector(e)),n===null)throw new Error(`No element found matching css selector: "${e}"`)}else if(e instanceof HTMLElement)n=e;else throw new TypeError(`Unknown portal target type: ${e===null?"null":typeof e}. Allowed types: string (CSS selector) or HTMLElement.`);t.dataset.portal="",n.appendChild(t),t.hidden=!1}function i(){t.remove()}return o(e),{update:o,destroy:i}};function Kh(t,e){let n=Ze,o=!1,i=!1,r=!1;function l(u){n();const{onInteractOutside:f,onInteractOutsideStart:c,enabled:d}=u;if(!d)return;function m(g){f&&Ws(g,t)&&(c==null||c(g));const w=g.target;hr(w)&&Lc(t,w)&&(i=!0),o=!0}function h(g){f==null||f(g)}const _=Uh(t);if(typeof PointerEvent<"u"){const g=w=>{a(w)&&h(w),s()};n=Kt(vt(_,"pointerdown",m,!0),vt(_,"pointerup",g,!0))}else{const g=A=>{r?r=!1:a(A)&&h(A),s()},w=A=>{r=!0,a(A)&&h(A),s()};n=Kt(vt(_,"mousedown",m,!0),vt(_,"mouseup",g,!0),vt(_,"touchstart",m,!0),vt(_,"touchend",w,!0))}}function a(u){return!!(o&&!i&&Ws(u,t))}function s(){o=!1,i=!1}return l(e),{update:l,destroy:n}}function Ws(t,e){if("button"in t&&t.button>0)return!1;const n=t.target;if(!hr(n))return!1;const o=n.ownerDocument;return!o||!o.documentElement.contains(n)?!1:e&&!Lc(e,n)}function Lc(t,e){return t===e||t.contains(e)}function Uh(t){return(t==null?void 0:t.ownerDocument)??document}Rn(!1),Rn(!1),Rn(void 0);function Yh(){return{elements:{root:pt("label",{action:e=>({destroy:kt(e,"mousedown",o=>{!o.defaultPrevented&&o.detail>1&&o.preventDefault()})})})}}}const{name:Mn}=pr("dialog"),Xh={preventScroll:!0,closeOnEscape:!0,closeOnOutsideClick:!0,role:"dialog",defaultOpen:!1,portal:void 0,forceVisible:!1,openFocus:void 0,closeFocus:void 0,onOutsideClick:void 0},Jh=["content","title","description"];function $c(t){const e={...Xh,...t},n=$n(_r(e,"ids")),{preventScroll:o,closeOnEscape:i,closeOnOutsideClick:r,role:l,portal:a,forceVisible:s,openFocus:u,closeFocus:f,onOutsideClick:c}=n,d=nn.writable(null),m=$n({...Nl(Jh),...e.ids}),h=e.open??Ye(e.defaultOpen),_=gr(h,e==null?void 0:e.onOpenChange),g=sn([_,s],([y,b])=>y||b);let w=Ze;function A(y){const b=y.currentTarget,I=y.currentTarget;!St(b)||!St(I)||(_.set(!0),d.set(I))}function k(){_.set(!1),Es({prop:f.get(),defaultEl:d.get()})}const E=pt(Mn("trigger"),{stores:[_],returned:([y])=>({"aria-haspopup":"dialog","aria-expanded":y,type:"button"}),action:y=>({destroy:Kt(kt(y,"click",I=>{A(I)}),kt(y,"keydown",I=>{I.key!==st.ENTER&&I.key!==st.SPACE||(I.preventDefault(),A(I))}))})}),D=pt(Mn("overlay"),{stores:[g,_],returned:([y,b])=>({hidden:y?void 0:!0,tabindex:-1,style:hn({display:y?void 0:"none"}),"aria-hidden":!0,"data-state":b?"open":"closed"}),action:y=>{let b=Ze;if(i.get()){const I=Rs(y,{handler:()=>{k()}});I&&I.destroy&&(b=I.destroy)}return{destroy(){b()}}}}),R=pt(Mn("content"),{stores:[g,m.content,m.description,m.title,_],returned:([y,b,I,O,W])=>({id:b,role:l.get(),"aria-describedby":I,"aria-labelledby":O,"aria-modal":y?"true":void 0,"data-state":W?"open":"closed",tabindex:-1,hidden:y?void 0:!0,style:hn({display:y?void 0:"none"})}),action:y=>{let b=Ze,I=Ze;const O=Kt(Ot([_],([W])=>{if(!W)return;const $=Hh({immediate:!1,escapeDeactivates:!0,clickOutsideDeactivates:!0,returnFocusOnDeactivate:!1,fallbackFocus:y});b=$.activate,I=$.deactivate;const Z=$.useFocusTrap(y);return Z&&Z.destroy?Z.destroy:$.deactivate}),Ot([r,_],([W,$])=>Wh(y,{open:$,closeOnInteractOutside:W,onClose(){k()},shouldCloseOnInteractOutside(Z){var ee;return(ee=c.get())==null||ee(Z),!Z.defaultPrevented}}).destroy),Ot([i],([W])=>{if(!W)return Ze;const $=Rs(y,{handler:()=>{k()}});return $&&$.destroy?$.destroy:Ze}),Ot([g],([W])=>{Al().then(()=>{W?b():I()})}));return{destroy:()=>{w(),O()}}}}),V=pt(Mn("portalled"),{stores:a,returned:y=>({"data-portal":mc(y)}),action:y=>{const b=Ot([a],([I])=>{if(I===null)return Ze;const O=gc(y,I);if(O===null)return Ze;const W=Dc(y,O);return W&&W.destroy?W.destroy:Ze});return{destroy(){b()}}}}),F=pt(Mn("title"),{stores:[m.title],returned:([y])=>({id:y})}),L=pt(Mn("description"),{stores:[m.description],returned:([y])=>({id:y})}),U=pt(Mn("close"),{returned:()=>({type:"button"}),action:y=>({destroy:Kt(kt(y,"click",()=>{k()}),kt(y,"keydown",I=>{I.key!==st.SPACE&&I.key!==st.ENTER||(I.preventDefault(),k())}))})});return Ot([_,o],([y,b])=>{if(Ko){if(b&&y&&(w=Tp()),y){const I=document.getElementById(m.content.get());Es({prop:u.get(),defaultEl:I})}return()=>{s.get()||w()}}}),{ids:m,elements:{content:R,trigger:E,title:F,description:L,overlay:D,close:U,portalled:V},states:{open:_},options:n}}const xh={defaultValue:0,max:100},{name:Zh}=pr("progress"),Qh=t=>{const e={...xh,...t},n=$n(_r(e,"value")),{max:o}=n,i=e.value??Ye(e.defaultValue),r=gr(i,e==null?void 0:e.onValueChange);return{elements:{root:pt(Zh(),{stores:[r,o],returned:([a,s])=>({value:a,max:s,role:"meter","aria-valuemin":0,"aria-valuemax":s,"aria-valuenow":a,"data-value":a,"data-state":a===null?"indeterminate":a===s?"complete":"loading","data-max":s})})},states:{value:r},options:n}},zh={orientation:"horizontal",decorative:!1},e_=t=>{const e={...zh,...t},n=$n(e),{orientation:o,decorative:i}=n;return{elements:{root:pt("separator",{stores:[o,i],returned:([l,a])=>({role:a?"none":"separator","aria-orientation":l==="vertical"?l:void 0,"aria-hidden":a,"data-orientation":l})})},options:n}},t_={defaultValue:[],min:0,max:100,step:1,orientation:"horizontal",dir:"ltr",disabled:!1},{name:vi}=pr("slider"),n_=t=>{const e={...t_,...t},n=$n(_r(e,"value","onValueChange","defaultValue")),{min:o,max:i,step:r,orientation:l,dir:a,disabled:s}=n,u=e.value??Ye(e.defaultValue),f=gr(u,e==null?void 0:e.onValueChange),c=nn(Ye(!1)),d=nn(Ye(0)),m=nn(Ye(null)),h=Nl(["root"]),_=(V,F)=>{f.update(L=>{if(!L)return[V];if(L[F]===V)return L;const U=[...L],y=U[F]>V?-1:1;function b(){U[F]=U[F+y],U[F+y]=V;const $=g();$&&($[F+y].focus(),m.set({thumb:$[F+y],index:F+y}))}if(y===-1&&V<U[F-1])return b(),U;if(y===1&&V>U[F+1])return b(),U;const I=o.get(),O=i.get(),W=r.get();return U[F]=Rr(V,I,O,W),U})},g=()=>{const V=Nr(h.root);return V?Array.from(V.querySelectorAll('[data-melt-part="thumb"]')).filter(F=>St(F)):null},w=sn([o,i],([V,F])=>L=>(L-V)/(F-V)*100),A=nn.derived([l,a],([V,F])=>V==="horizontal"?F==="rtl"?"rl":"lr":F==="rtl"?"tb":"bt"),k=pt(vi(),{stores:[s,l,a],returned:([V,F,L])=>({dir:L,disabled:Or(V),"data-disabled":Or(V),"data-orientation":F,style:V?void 0:`touch-action: ${F==="horizontal"?"pan-y":"pan-x"}`,"data-melt-id":h.root})}),E=pt(vi("range"),{stores:[f,A,w],returned:([V,F,L])=>{const U=V.length>1?L(Math.min(...V)??0):0,y=100-L(Math.max(...V)??0),b={position:"absolute"};switch(F){case"lr":{b.left=`${U}%`,b.right=`${y}%`;break}case"rl":{b.right=`${U}%`,b.left=`${y}%`;break}case"bt":{b.bottom=`${U}%`,b.top=`${y}%`;break}case"tb":{b.top=`${U}%`,b.bottom=`${y}%`;break}}return{style:hn(b)}}}),D=Ps(vi("thumb"),{stores:[f,w,o,i,s,l,A],returned:([V,F,L,U,y,b,I])=>Array.from({length:V.length||1},(W,$)=>{d.get()<V.length&&d.update(te=>te+1);const ee=V[$],Q=`${F(ee)}%`,K={position:"absolute"};switch(I){case"lr":{K.left=Q,K.translate="-50% 0";break}case"rl":{K.right=Q,K.translate="50% 0";break}case"bt":{K.bottom=Q,K.translate="0 50%";break}case"tb":{K.top=Q,K.translate="0 -50%";break}}return{role:"slider","aria-valuemin":L,"aria-valuemax":U,"aria-valuenow":ee,"aria-disabled":Or(y),"aria-orientation":b,"data-melt-part":"thumb","data-value":ee,style:hn(K),tabindex:y?-1:0}}),action:V=>({destroy:kt(V,"keydown",L=>{if(s.get())return;const U=L.currentTarget;if(!St(U))return;const y=g();if(!(y!=null&&y.length))return;const b=y.indexOf(U);if(d.set(b),![st.ARROW_LEFT,st.ARROW_RIGHT,st.ARROW_UP,st.ARROW_DOWN,st.HOME,st.END].includes(L.key))return;L.preventDefault();const I=o.get(),O=i.get(),W=r.get(),$=f.get(),Z=l.get(),ee=A.get(),Q=$[b];switch(L.key){case st.HOME:{_(I,b);break}case st.END:{_(O,b);break}case st.ARROW_LEFT:{if(Z!=="horizontal")break;L.metaKey?_(ee==="rl"?O:I,b):ee==="rl"&&Q<O?_(Q+W,b):ee==="lr"&&Q>I&&_(Q-W,b);break}case st.ARROW_RIGHT:{if(Z!=="horizontal")break;L.metaKey?_(ee==="rl"?I:O,b):ee==="rl"&&Q>I?_(Q-W,b):ee==="lr"&&Q<O&&_(Q+W,b);break}case st.ARROW_UP:{L.metaKey?_(ee==="tb"?I:O,b):ee==="tb"&&Q>I?_(Q-W,b):ee!=="tb"&&Q<O&&_(Q+W,b);break}case st.ARROW_DOWN:{L.metaKey?_(ee==="tb"?O:I,b):ee==="tb"&&Q<O?_(Q+W,b):ee!=="tb"&&Q>I&&_(Q-W,b);break}}})})}),R=Ps(vi("tick"),{stores:[f,o,i,r,A],returned:([V,F,L,U,y])=>{const b=L-F;let I=Math.ceil(b/U);return b%U==0&&I++,Array.from({length:I},(O,W)=>{const $=`${W*(U/(L-F))*100}%`,Z=W===0,ee=W===I-1,Q=Z?0:ee?-100:-50,K={position:"absolute"};switch(y){case"lr":{K.left=$,K.translate=`${Q}% 0`;break}case"rl":{K.right=$,K.translate=`${-Q}% 0`;break}case"bt":{K.bottom=$,K.translate=`0 ${-Q}%`;break}case"tb":{K.top=$,K.translate=`0 ${Q}%`;break}}const te=F+W*U;return{"data-bounded":(V.length===1?te<=V[0]:V[0]<=te&&te<=V[V.length-1])?!0:void 0,"data-value":te,style:hn(K)}})}});return Ot([k,o,i,s,l,A,r],([V,F,L,U,y,b,I])=>{if(!Ko||U)return;const O=(K,te,ne,p)=>{const j=(K-ne)/(p-ne)*(L-F)+F;if(j<F)_(F,te);else if(j>L)_(L,te);else{const ie=I,re=F,Ae=Math.floor((j-re)/ie),$e=re+Ae*ie+ie/2,Me=re+(Ae+1)*ie+ie/2,ze=j>=$e&&j<Me?(Ae+1)*ie+re:Ae*ie+re;ze<=L&&_(ze,te)}},W=K=>{const te=g();if(!te)return;te.forEach(j=>j.blur());const ne=te.map(j=>{if(y==="horizontal"){const{left:ie,right:re}=j.getBoundingClientRect();return Math.abs(K.clientX-(ie+re)/2)}else{const{top:ie,bottom:re}=j.getBoundingClientRect();return Math.abs(K.clientY-(ie+re)/2)}}),p=te[ne.indexOf(Math.min(...ne))],H=te.indexOf(p);return{thumb:p,index:H}},$=K=>{if(!c.get())return;K.preventDefault(),K.stopPropagation();const te=Nr(V["data-melt-id"]),ne=m.get();if(!te||!ne)return;ne.thumb.focus();const{left:p,right:H,top:j,bottom:ie}=te.getBoundingClientRect();switch(b){case"lr":{O(K.clientX,ne.index,p,H);break}case"rl":{O(K.clientX,ne.index,H,p);break}case"bt":{O(K.clientY,ne.index,ie,j);break}case"tb":{O(K.clientY,ne.index,j,ie);break}}},Z=K=>{if(K.button!==0)return;const te=Nr(V["data-melt-id"]),ne=W(K);if(!ne||!te)return;const p=K.target;!St(p)||!te.contains(p)||(K.preventDefault(),m.set(ne),ne.thumb.focus(),c.set(!0),$(K))},ee=()=>{c.set(!1)},Q=Kt(vt(document,"pointerdown",Z),vt(document,"pointerup",ee),vt(document,"pointerleave",ee),vt(document,"pointermove",$));return()=>{Q()}}),Ot([r,o,i,f],function([F,L,U,y]){const b=O=>Rr(O,L,U,F)===O,I=O=>Rr(O,L,U,F);y.some(O=>!b(O))&&f.update(O=>O.map(I))}),{elements:{root:k,thumbs:D,range:E,ticks:R},states:{value:f},options:n}},o_={positioning:{placement:"bottom"},arrowSize:8,defaultOpen:!1,closeOnPointerDown:!0,openDelay:1e3,closeDelay:0,forceVisible:!1,portal:void 0,closeOnEscape:!0,disableHoverableContent:!1,group:void 0},{name:Lr}=pr("tooltip"),yi=new Map,i_=["trigger","content"];function r_(t){const e={...o_,...t},n=$n(_r(e,"open","ids")),{positioning:o,arrowSize:i,closeOnPointerDown:r,openDelay:l,closeDelay:a,forceVisible:s,portal:u,closeOnEscape:f,disableHoverableContent:c,group:d}=n,m=e.open??Ye(e.defaultOpen),h=gr(m,e==null?void 0:e.onOpenChange),_=Ye(null),g=$n({...Nl(i_),...e.ids});let w=!1;const A=b=>Ko?document.getElementById(g[b].get()):null;let k=null,E=null;function D(b){E&&(window.clearTimeout(E),E=null),k||(k=window.setTimeout(()=>{h.set(!0),_.update(I=>I??b),k=null},l.get()))}function R(b){if(k&&(window.clearTimeout(k),k=null),b&&y){_.set("pointer");return}E||(E=window.setTimeout(()=>{h.set(!1),_.set(null),b&&(w=!1),E=null},a.get()))}const V=sn([h,s],([b,I])=>b||I),F=pt(Lr("trigger"),{stores:[g.content,g.trigger,h],returned:([b,I,O])=>({"aria-describedby":b,id:I,"data-state":O?"open":"closed"}),action:b=>{const I=W=>{f.get()&&W.key===st.ESCAPE&&(k&&(window.clearTimeout(k),k=null),h.set(!1))};return{destroy:Kt(kt(b,"pointerdown",()=>{r.get()&&(h.set(!1),w=!0,k&&(window.clearTimeout(k),k=null))}),kt(b,"pointerenter",W=>{Os(W)||D("pointer")}),kt(b,"pointerleave",W=>{Os(W)||k&&(window.clearTimeout(k),k=null)}),kt(b,"focus",()=>{w||D("focus")}),kt(b,"blur",async()=>{await Ol(0),R(!0)}),kt(b,"keydown",I),vt(document,"keydown",I))}}}),L=pt(Lr("content"),{stores:[V,h,u,g.content],returned:([b,I,O,W])=>({role:"tooltip",hidden:b?void 0:!0,tabindex:-1,style:hn({display:b?void 0:"none"}),id:W,"data-portal":mc(O),"data-state":I?"open":"closed"}),action:b=>{let I=Ze,O=Ze;const W=Ot([V,o,u],([ee,Q,K])=>{const te=A("trigger");if(!ee||!te){O(),I();return}if(I=_h(te,b,Q).destroy,K===null){O();return}const p=gc(b,K);if(p){const H=Dc(b,p);H&&H.destroy&&(O=H.destroy)}});function $(ee){if(!h.get())return;const Q=ee.target;if(!hr(Q)&&!rp(Q))return;const K=A("trigger");K&&Q.contains(K)&&R()}const Z=Kt(kt(b,"pointerenter",()=>D("pointer")),kt(b,"pointerdown",()=>D("pointer")),vt(window,"scroll",$,{capture:!0}));return{destroy(){Z(),O(),I(),W()}}}}),U=pt(Lr("arrow"),{stores:i,returned:b=>({"data-arrow":!0,style:hn({position:"absolute",width:`var(--arrow-size, ${b}px)`,height:`var(--arrow-size, ${b}px)`})})});let y=!1;return Ot(h,b=>{const I=d.get();if(I===void 0||I===!1)return;if(!b){yi.get(I)===h&&yi.delete(I);return}const O=yi.get(I);O==null||O.set(!1),yi.set(I,h)}),Ot([h,_],([b,I])=>{if(!(!b||!Ko))return Kt(vt(document,"mousemove",O=>{const W=A("content"),$=A("trigger");if(!W||!$)return;const Z=c.get()?[$]:[$,W],ee=kp(Z);y=Cp({x:O.clientX,y:O.clientY},ee),I==="pointer"&&(y||R())}))}),{ids:g,elements:{trigger:F,content:L,arrow:U},states:{open:h},options:n}}function Gn(t,e){const n={};return e.forEach(o=>{n[o]={[`data-${t}-${o}`]:""}}),o=>n[o]}function Hn(){const t=Xd();return e=>{const{originalEvent:n}=e.detail,{cancelable:o}=e,i=n.type;t(i,{originalEvent:n,currentTarget:n.currentTarget},{cancelable:o})||e.preventDefault()}}function ko(t){const e={};for(const n in t){const o=t[n];o!==void 0&&(e[n]=o)}return e}function jn(t){return function(e,n){if(n===void 0)return;const o=t[e];o&&o.set(n)}}function Fc(){return{NAME:"alert-dialog",PARTS:["action","cancel","content","description","overlay","portal","title","trigger"]}}function l_(t){const{NAME:e,PARTS:n}=Fc(),o=Gn(e,n),i=$c({...ko(t),role:"alertdialog",forceVisible:!0}),r={...i,getAttrs:o,updateOption:jn(i.options)};return cr(e,r),{...r,updateOption:jn(r.options),getAttrs:o}}function Wn(){const{NAME:t}=Fc();return dr(t)}const s_=t=>({ids:t&1}),Ks=t=>({ids:t[0]});function a_(t){let e;const n=t[12].default,o=pe(n,t,t[11],Ks);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,[r]){o&&o.p&&(!e||r&2049)&&_e(o,n,i,i[11],e?he(n,i[11],r,s_):ge(i[11]),Ks)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function u_(t,e,n){let o,{$$slots:i={},$$scope:r}=e,{preventScroll:l=void 0}=e,{closeOnEscape:a=void 0}=e,{closeOnOutsideClick:s=!1}=e,{portal:u=void 0}=e,{open:f=void 0}=e,{onOpenChange:c=void 0}=e,{openFocus:d=void 0}=e,{closeFocus:m=void 0}=e,{onOutsideClick:h=void 0}=e;const{states:{open:_},updateOption:g,ids:w}=l_({closeOnEscape:a,preventScroll:l,closeOnOutsideClick:s,portal:u,forceVisible:!0,defaultOpen:f,openFocus:d,closeFocus:m,onOutsideClick:h,onOpenChange:({next:k})=>(f!==k&&(c==null||c(k),n(2,f=k)),k)}),A=sn([w.content,w.description,w.title],([k,E,D])=>({content:k,description:E,title:D}));return fe(t,A,k=>n(0,o=k)),t.$$set=k=>{"preventScroll"in k&&n(3,l=k.preventScroll),"closeOnEscape"in k&&n(4,a=k.closeOnEscape),"closeOnOutsideClick"in k&&n(5,s=k.closeOnOutsideClick),"portal"in k&&n(6,u=k.portal),"open"in k&&n(2,f=k.open),"onOpenChange"in k&&n(7,c=k.onOpenChange),"openFocus"in k&&n(8,d=k.openFocus),"closeFocus"in k&&n(9,m=k.closeFocus),"onOutsideClick"in k&&n(10,h=k.onOutsideClick),"$$scope"in k&&n(11,r=k.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&f!==void 0&&_.set(f),t.$$.dirty&8&&g("preventScroll",l),t.$$.dirty&16&&g("closeOnEscape",a),t.$$.dirty&32&&g("closeOnOutsideClick",s),t.$$.dirty&64&&g("portal",u),t.$$.dirty&256&&g("openFocus",d),t.$$.dirty&512&&g("closeFocus",m),t.$$.dirty&1024&&g("onOutsideClick",h)},[o,A,f,l,a,s,u,c,d,m,h,r,i]}class f_ extends ve{constructor(e){super(),be(this,e,u_,a_,de,{preventScroll:3,closeOnEscape:4,closeOnOutsideClick:5,portal:6,open:2,onOpenChange:7,openFocus:8,closeFocus:9,onOutsideClick:10})}}const c_=t=>({builder:t&8}),Us=t=>({builder:t[3]}),d_=t=>({builder:t&8}),Ys=t=>({builder:t[3]});function m_(t){let e=t[1],n,o,i=t[1]&&$r(t);return{c(){i&&i.c(),n=Le()},m(r,l){i&&i.m(r,l),M(r,n,l),o=!0},p(r,l){r[1]?e?de(e,r[1])?(i.d(1),i=$r(r),e=r[1],i.c(),i.m(n.parentNode,n)):i.p(r,l):(i=$r(r),e=r[1],i.c(),i.m(n.parentNode,n)):e&&(i.d(1),i=null,e=r[1])},i(r){o||(C(i,r),o=!0)},o(r){S(i,r),o=!1},d(r){r&&T(n),i&&i.d(r)}}}function p_(t){let e;const n=t[9].default,o=pe(n,t,t[8],Ys);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&264)&&_e(o,n,i,i[8],e?he(n,i[8],r,d_):ge(i[8]),Ys)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function $r(t){let e,n,o,i;const r=t[9].default,l=pe(r,t,t[8],Us);let a=[t[3],t[5]],s={};for(let u=0;u<a.length;u+=1)s=x(s,a[u]);return{c(){e=P(t[1]),l&&l.c(),_n(t[1])(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[10](e),n=!0,o||(i=je(t[3].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&264)&&_e(l,r,u,u[8],n?he(r,u[8],f,c_):ge(u[8]),Us),_n(u[1])(e,s=we(a,[f&8&&u[3],f&32&&u[5]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[10](null),o=!1,i()}}}function h_(t){let e,n,o,i;const r=[p_,m_],l=[];function a(s,u){return s[2]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Le()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Pe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function __(t,e,n){let o;const i=["level","asChild","id","el"];let r=ae(e,i),l,{$$slots:a={},$$scope:s}=e,{level:u="h2"}=e,{asChild:f=!1}=e,{id:c=void 0}=e,{el:d=void 0}=e;const{elements:{title:m},ids:h,getAttrs:_}=Wn();fe(t,m,A=>n(7,l=A));const g=_("title");function w(A){Oe[A?"unshift":"push"](()=>{d=A,n(0,d)})}return t.$$set=A=>{e=x(x({},e),Re(A)),n(5,r=ae(e,i)),"level"in A&&n(1,u=A.level),"asChild"in A&&n(2,f=A.asChild),"id"in A&&n(6,c=A.id),"el"in A&&n(0,d=A.el),"$$scope"in A&&n(8,s=A.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&c&&h.title.set(c),t.$$.dirty&128&&n(3,o=l),t.$$.dirty&8&&Object.assign(o,g)},[d,u,f,o,m,r,c,l,s,a,w]}let g_=class extends ve{constructor(e){super(),be(this,e,__,h_,de,{level:1,asChild:2,id:6,el:0})}};const b_=t=>({builder:t&4}),Xs=t=>({builder:t[2]}),v_=t=>({builder:t&4}),Js=t=>({builder:t[2]});function y_(t){let e,n,o,i;const r=t[8].default,l=pe(r,t,t[7],Xs);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=x(s,a[u]);return{c(){e=P("button"),l&&l.c(),ue(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[9](e),n=!0,o||(i=[je(t[2].action(e)),z(e,"m-click",t[4]),z(e,"m-keydown",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&_e(l,r,u,u[7],n?he(r,u[7],f,b_):ge(u[7]),Xs),ue(e,s=we(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[9](null),o=!1,qe(i)}}}function w_(t){let e;const n=t[8].default,o=pe(n,t,t[7],Js);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&_e(o,n,i,i[7],e?he(n,i[7],r,v_):ge(i[7]),Js)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function k_(t){let e,n,o,i;const r=[w_,y_],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Le()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Pe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function C_(t,e,n){let o;const i=["asChild","el"];let r=ae(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:d}=Wn();fe(t,c,g=>n(6,l=g));const m=Hn(),h=d("action");function _(g){Oe[g?"unshift":"push"](()=>{f=g,n(0,f)})}return t.$$set=g=>{e=x(x({},e),Re(g)),n(5,r=ae(e,i)),"asChild"in g&&n(1,u=g.asChild),"el"in g&&n(0,f=g.el),"$$scope"in g&&n(7,s=g.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,h)},[f,u,o,c,m,r,l,s,a,_]}let A_=class extends ve{constructor(e){super(),be(this,e,C_,k_,de,{asChild:1,el:0})}};const S_=t=>({builder:t&4}),xs=t=>({builder:t[2]}),T_=t=>({builder:t&4}),Zs=t=>({builder:t[2]});function M_(t){let e,n,o,i;const r=t[8].default,l=pe(r,t,t[7],xs);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=x(s,a[u]);return{c(){e=P("button"),l&&l.c(),ue(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[9](e),n=!0,o||(i=[je(t[2].action(e)),z(e,"m-click",t[4]),z(e,"m-keydown",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&_e(l,r,u,u[7],n?he(r,u[7],f,S_):ge(u[7]),xs),ue(e,s=we(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[9](null),o=!1,qe(i)}}}function I_(t){let e;const n=t[8].default,o=pe(n,t,t[7],Zs);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&_e(o,n,i,i[7],e?he(n,i[7],r,T_):ge(i[7]),Zs)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function P_(t){let e,n,o,i;const r=[I_,M_],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Le()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Pe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function O_(t,e,n){let o;const i=["asChild","el"];let r=ae(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:d}=Wn();fe(t,c,g=>n(6,l=g));const m=Hn(),h=d("cancel");function _(g){Oe[g?"unshift":"push"](()=>{f=g,n(0,f)})}return t.$$set=g=>{e=x(x({},e),Re(g)),n(5,r=ae(e,i)),"asChild"in g&&n(1,u=g.asChild),"el"in g&&n(0,f=g.el),"$$scope"in g&&n(7,s=g.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,h)},[f,u,o,c,m,r,l,s,a,_]}let N_=class extends ve{constructor(e){super(),be(this,e,O_,P_,de,{asChild:1,el:0})}};const E_=t=>({builder:t&4}),Qs=t=>({builder:t[2]}),R_=t=>({builder:t&4}),zs=t=>({builder:t[2]});function D_(t){let e,n,o,i;const r=t[7].default,l=pe(r,t,t[6],Qs);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=x(s,a[u]);return{c(){e=P("div"),l&&l.c(),ue(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[8](e),n=!0,o||(i=je(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&68)&&_e(l,r,u,u[6],n?he(r,u[6],f,E_):ge(u[6]),Qs),ue(e,s=we(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[8](null),o=!1,i()}}}function L_(t){let e;const n=t[7].default,o=pe(n,t,t[6],zs);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&68)&&_e(o,n,i,i[6],e?he(n,i[6],r,R_):ge(i[6]),zs)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function $_(t){let e,n,o,i;const r=[L_,D_],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Le()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Pe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function F_(t,e,n){let o;const i=["asChild","el"];let r=ae(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{portalled:c},getAttrs:d}=Wn();fe(t,c,_=>n(5,l=_));const m=d("portal");function h(_){Oe[_?"unshift":"push"](()=>{f=_,n(0,f)})}return t.$$set=_=>{e=x(x({},e),Re(_)),n(4,r=ae(e,i)),"asChild"in _&&n(1,u=_.asChild),"el"in _&&n(0,f=_.el),"$$scope"in _&&n(6,s=_.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,m)},[f,u,o,c,r,l,s,a,h]}let q_=class extends ve{constructor(e){super(),be(this,e,F_,$_,de,{asChild:1,el:0})}};const j_=t=>({builder:t[0]&256}),ea=t=>({builder:t[8]}),B_=t=>({builder:t[0]&256}),ta=t=>({builder:t[8]}),V_=t=>({builder:t[0]&256}),na=t=>({builder:t[8]}),G_=t=>({builder:t[0]&256}),oa=t=>({builder:t[8]}),H_=t=>({builder:t[0]&256}),ia=t=>({builder:t[8]}),W_=t=>({builder:t[0]&256}),ra=t=>({builder:t[8]});function K_(t){let e,n,o,i;const r=t[16].default,l=pe(r,t,t[15],ea);let a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=x(s,a[u]);return{c(){e=P("div"),l&&l.c(),ue(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[56](e),n=!0,o||(i=[je(t[8].action(e)),z(e,"pointerdown",t[45]),z(e,"pointermove",t[46]),z(e,"pointerup",t[47]),z(e,"touchend",t[48]),z(e,"touchstart",t[49]),z(e,"touchcancel",t[50]),z(e,"touchmove",t[51])],o=!0)},p(u,f){l&&l.p&&(!n||f[0]&33024)&&_e(l,r,u,u[15],n?he(r,u[15],f,j_):ge(u[15]),ea),ue(e,s=we(a,[f[0]&256&&u[8],f[0]&4096&&u[12]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[56](null),o=!1,qe(i)}}}function U_(t){let e,n,o,i,r;const l=t[16].default,a=pe(l,t,t[15],ta);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=x(u,s[f]);return{c(){e=P("div"),a&&a.c(),ue(e,u)},m(f,c){M(f,e,c),a&&a.m(e,null),t[55](e),o=!0,i||(r=[je(t[8].action(e)),z(e,"pointerdown",t[38]),z(e,"pointermove",t[39]),z(e,"pointerup",t[40]),z(e,"touchend",t[41]),z(e,"touchstart",t[42]),z(e,"touchcancel",t[43]),z(e,"touchmove",t[44])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&_e(a,l,t,t[15],o?he(l,t[15],c,B_):ge(t[15]),ta),ue(e,u=we(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(C(a,f),n&&n.end(1),o=!0)},o(f){S(a,f),f&&(n=xt(e,t[5],t[6])),o=!1},d(f){f&&T(e),a&&a.d(f),t[55](null),f&&n&&n.end(),i=!1,qe(r)}}}function Y_(t){let e,n,o,i,r;const l=t[16].default,a=pe(l,t,t[15],na);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=x(u,s[f]);return{c(){e=P("div"),a&&a.c(),ue(e,u)},m(f,c){M(f,e,c),a&&a.m(e,null),t[54](e),o=!0,i||(r=[je(t[8].action(e)),z(e,"pointerdown",t[31]),z(e,"pointermove",t[32]),z(e,"pointerup",t[33]),z(e,"touchend",t[34]),z(e,"touchstart",t[35]),z(e,"touchcancel",t[36]),z(e,"touchmove",t[37])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&_e(a,l,t,t[15],o?he(l,t[15],c,V_):ge(t[15]),na),ue(e,u=we(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(C(a,f),f&&(n||ot(()=>{n=Jt(e,t[3],t[4]),n.start()})),o=!0)},o(f){S(a,f),o=!1},d(f){f&&T(e),a&&a.d(f),t[54](null),i=!1,qe(r)}}}function X_(t){let e,n,o,i,r,l;const a=t[16].default,s=pe(a,t,t[15],oa);let u=[t[8],t[12]],f={};for(let c=0;c<u.length;c+=1)f=x(f,u[c]);return{c(){e=P("div"),s&&s.c(),ue(e,f)},m(c,d){M(c,e,d),s&&s.m(e,null),t[53](e),i=!0,r||(l=[je(t[8].action(e)),z(e,"pointerdown",t[24]),z(e,"pointermove",t[25]),z(e,"pointerup",t[26]),z(e,"touchend",t[27]),z(e,"touchstart",t[28]),z(e,"touchcancel",t[29]),z(e,"touchmove",t[30])],r=!0)},p(c,d){t=c,s&&s.p&&(!i||d[0]&33024)&&_e(s,a,t,t[15],i?he(a,t[15],d,G_):ge(t[15]),oa),ue(e,f=we(u,[d[0]&256&&t[8],d[0]&4096&&t[12]]))},i(c){i||(C(s,c),c&&ot(()=>{i&&(o&&o.end(1),n=Jt(e,t[3],t[4]),n.start())}),i=!0)},o(c){S(s,c),n&&n.invalidate(),c&&(o=xt(e,t[5],t[6])),i=!1},d(c){c&&T(e),s&&s.d(c),t[53](null),c&&o&&o.end(),r=!1,qe(l)}}}function J_(t){let e,n,o,i,r;const l=t[16].default,a=pe(l,t,t[15],ia);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=x(u,s[f]);return{c(){e=P("div"),a&&a.c(),ue(e,u)},m(f,c){M(f,e,c),a&&a.m(e,null),t[52](e),o=!0,i||(r=[je(t[8].action(e)),z(e,"pointerdown",t[17]),z(e,"pointermove",t[18]),z(e,"pointerup",t[19]),z(e,"touchend",t[20]),z(e,"touchstart",t[21]),z(e,"touchcancel",t[22]),z(e,"touchmove",t[23])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&_e(a,l,t,t[15],o?he(l,t[15],c,H_):ge(t[15]),ia),ue(e,u=we(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(C(a,f),f&&ot(()=>{o&&(n||(n=Yt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(f){S(a,f),f&&(n||(n=Yt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(f){f&&T(e),a&&a.d(f),t[52](null),f&&n&&n.end(),i=!1,qe(r)}}}function x_(t){let e;const n=t[16].default,o=pe(n,t,t[15],ra);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r[0]&33024)&&_e(o,n,i,i[15],e?he(n,i[15],r,W_):ge(i[15]),ra)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Z_(t){let e,n,o,i;const r=[x_,J_,X_,Y_,U_,K_],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=Le()},m(s,u){~e&&l[e].m(s,u),M(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Ie(),S(l[f],1,1,()=>{l[f]=null}),Pe()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),~e&&l[e].d(s)}}}function Q_(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","id","asChild","el"];let r=ae(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:h=void 0}=e,{outTransitionConfig:_=void 0}=e,{id:g=void 0}=e,{asChild:w=!1}=e,{el:A=void 0}=e;const{elements:{content:k},states:{open:E},ids:D,getAttrs:R}=Wn();fe(t,k,B=>n(14,l=B)),fe(t,E,B=>n(9,a=B));const V=R("content");function F(B){oe.call(this,t,B)}function L(B){oe.call(this,t,B)}function U(B){oe.call(this,t,B)}function y(B){oe.call(this,t,B)}function b(B){oe.call(this,t,B)}function I(B){oe.call(this,t,B)}function O(B){oe.call(this,t,B)}function W(B){oe.call(this,t,B)}function $(B){oe.call(this,t,B)}function Z(B){oe.call(this,t,B)}function ee(B){oe.call(this,t,B)}function Q(B){oe.call(this,t,B)}function K(B){oe.call(this,t,B)}function te(B){oe.call(this,t,B)}function ne(B){oe.call(this,t,B)}function p(B){oe.call(this,t,B)}function H(B){oe.call(this,t,B)}function j(B){oe.call(this,t,B)}function ie(B){oe.call(this,t,B)}function re(B){oe.call(this,t,B)}function Ae(B){oe.call(this,t,B)}function $e(B){oe.call(this,t,B)}function Me(B){oe.call(this,t,B)}function ze(B){oe.call(this,t,B)}function ce(B){oe.call(this,t,B)}function Ee(B){oe.call(this,t,B)}function He(B){oe.call(this,t,B)}function Be(B){oe.call(this,t,B)}function Ue(B){oe.call(this,t,B)}function Ce(B){oe.call(this,t,B)}function Se(B){oe.call(this,t,B)}function yt(B){oe.call(this,t,B)}function Dt(B){oe.call(this,t,B)}function at(B){oe.call(this,t,B)}function Lt(B){oe.call(this,t,B)}function ut(B){Oe[B?"unshift":"push"](()=>{A=B,n(0,A)})}function mt(B){Oe[B?"unshift":"push"](()=>{A=B,n(0,A)})}function nt(B){Oe[B?"unshift":"push"](()=>{A=B,n(0,A)})}function me(B){Oe[B?"unshift":"push"](()=>{A=B,n(0,A)})}function We(B){Oe[B?"unshift":"push"](()=>{A=B,n(0,A)})}return t.$$set=B=>{e=x(x({},e),Re(B)),n(12,r=ae(e,i)),"transition"in B&&n(1,f=B.transition),"transitionConfig"in B&&n(2,c=B.transitionConfig),"inTransition"in B&&n(3,d=B.inTransition),"inTransitionConfig"in B&&n(4,m=B.inTransitionConfig),"outTransition"in B&&n(5,h=B.outTransition),"outTransitionConfig"in B&&n(6,_=B.outTransitionConfig),"id"in B&&n(13,g=B.id),"asChild"in B&&n(7,w=B.asChild),"el"in B&&n(0,A=B.el),"$$scope"in B&&n(15,u=B.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&8192&&g&&D.content.set(g),t.$$.dirty[0]&16384&&n(8,o=l),t.$$.dirty[0]&256&&Object.assign(o,V)},[A,f,c,d,m,h,_,w,o,a,k,E,r,g,l,u,s,F,L,U,y,b,I,O,W,$,Z,ee,Q,K,te,ne,p,H,j,ie,re,Ae,$e,Me,ze,ce,Ee,He,Be,Ue,Ce,Se,yt,Dt,at,Lt,ut,mt,nt,me,We]}let z_=class extends ve{constructor(e){super(),be(this,e,Q_,Z_,de,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,id:13,asChild:7,el:0},null,[-1,-1])}};const e0=t=>({builder:t&256}),la=t=>({builder:t[8]});function t0(t){let e,n,o,i=[t[8],t[12]],r={};for(let l=0;l<i.length;l+=1)r=x(r,i[l]);return{c(){e=P("div"),ue(e,r)},m(l,a){M(l,e,a),t[20](e),n||(o=je(t[8].action(e)),n=!0)},p(l,a){ue(e,r=we(i,[a&256&&l[8],a&4096&&l[12]]))},i:ke,o:ke,d(l){l&&T(e),t[20](null),n=!1,o()}}}function n0(t){let e,n,o,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=x(a,l[s]);return{c(){e=P("div"),ue(e,a)},m(s,u){M(s,e,u),t[19](e),o=!0,i||(r=je(t[8].action(e)),i=!0)},p(s,u){t=s,ue(e,a=we(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(n&&n.end(1),o=!0)},o(s){s&&(n=xt(e,t[5],t[6])),o=!1},d(s){s&&T(e),t[19](null),s&&n&&n.end(),i=!1,r()}}}function o0(t){let e,n,o,i,r=[t[8],t[12]],l={};for(let a=0;a<r.length;a+=1)l=x(l,r[a]);return{c(){e=P("div"),ue(e,l)},m(a,s){M(a,e,s),t[18](e),o||(i=je(t[8].action(e)),o=!0)},p(a,s){t=a,ue(e,l=we(r,[s&256&&t[8],s&4096&&t[12]]))},i(a){a&&(n||ot(()=>{n=Jt(e,t[3],t[4]),n.start()}))},o:ke,d(a){a&&T(e),t[18](null),o=!1,i()}}}function i0(t){let e,n,o,i,r,l,a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=x(s,a[u]);return{c(){e=P("div"),ue(e,s)},m(u,f){M(u,e,f),t[17](e),i=!0,r||(l=je(t[8].action(e)),r=!0)},p(u,f){t=u,ue(e,s=we(a,[f&256&&t[8],f&4096&&t[12]]))},i(u){i||(u&&ot(()=>{i&&(o&&o.end(1),n=Jt(e,t[3],t[4]),n.start())}),i=!0)},o(u){n&&n.invalidate(),u&&(o=xt(e,t[5],t[6])),i=!1},d(u){u&&T(e),t[17](null),u&&o&&o.end(),r=!1,l()}}}function r0(t){let e,n,o,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=x(a,l[s]);return{c(){e=P("div"),ue(e,a)},m(s,u){M(s,e,u),t[16](e),o=!0,i||(r=je(t[8].action(e)),i=!0)},p(s,u){t=s,ue(e,a=we(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(s&&ot(()=>{o&&(n||(n=Yt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(s){s&&(n||(n=Yt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(s){s&&T(e),t[16](null),s&&n&&n.end(),i=!1,r()}}}function l0(t){let e;const n=t[15].default,o=pe(n,t,t[14],la);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&16640)&&_e(o,n,i,i[14],e?he(n,i[14],r,e0):ge(i[14]),la)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function s0(t){let e,n,o,i;const r=[l0,r0,i0,o0,n0,t0],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=Le()},m(s,u){~e&&l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Ie(),S(l[f],1,1,()=>{l[f]=null}),Pe()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),~e&&l[e].d(s)}}}function a0(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","el"];let r=ae(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:h=void 0}=e,{outTransitionConfig:_=void 0}=e,{asChild:g=!1}=e,{el:w=void 0}=e;const{elements:{overlay:A},states:{open:k},getAttrs:E}=Wn();fe(t,A,y=>n(13,l=y)),fe(t,k,y=>n(9,a=y));const D=E("overlay");function R(y){Oe[y?"unshift":"push"](()=>{w=y,n(0,w)})}function V(y){Oe[y?"unshift":"push"](()=>{w=y,n(0,w)})}function F(y){Oe[y?"unshift":"push"](()=>{w=y,n(0,w)})}function L(y){Oe[y?"unshift":"push"](()=>{w=y,n(0,w)})}function U(y){Oe[y?"unshift":"push"](()=>{w=y,n(0,w)})}return t.$$set=y=>{e=x(x({},e),Re(y)),n(12,r=ae(e,i)),"transition"in y&&n(1,f=y.transition),"transitionConfig"in y&&n(2,c=y.transitionConfig),"inTransition"in y&&n(3,d=y.inTransition),"inTransitionConfig"in y&&n(4,m=y.inTransitionConfig),"outTransition"in y&&n(5,h=y.outTransition),"outTransitionConfig"in y&&n(6,_=y.outTransitionConfig),"asChild"in y&&n(7,g=y.asChild),"el"in y&&n(0,w=y.el),"$$scope"in y&&n(14,u=y.$$scope)},t.$$.update=()=>{t.$$.dirty&8192&&n(8,o=l),t.$$.dirty&256&&Object.assign(o,D)},[w,f,c,d,m,h,_,g,o,a,A,k,r,l,u,s,R,V,F,L,U]}let u0=class extends ve{constructor(e){super(),be(this,e,a0,s0,de,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,el:0})}};const f0=t=>({builder:t&4}),sa=t=>({builder:t[2]}),c0=t=>({builder:t&4}),aa=t=>({builder:t[2]});function d0(t){let e,n,o,i;const r=t[8].default,l=pe(r,t,t[7],sa);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=x(s,a[u]);return{c(){e=P("div"),l&&l.c(),ue(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[9](e),n=!0,o||(i=je(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&_e(l,r,u,u[7],n?he(r,u[7],f,f0):ge(u[7]),sa),ue(e,s=we(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[9](null),o=!1,i()}}}function m0(t){let e;const n=t[8].default,o=pe(n,t,t[7],aa);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&_e(o,n,i,i[7],e?he(n,i[7],r,c0):ge(i[7]),aa)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function p0(t){let e,n,o,i;const r=[m0,d0],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Le()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Pe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function h0(t,e,n){let o;const i=["asChild","id","el"];let r=ae(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{description:d},ids:m,getAttrs:h}=Wn();fe(t,d,w=>n(6,l=w));const _=h("description");function g(w){Oe[w?"unshift":"push"](()=>{c=w,n(0,c)})}return t.$$set=w=>{e=x(x({},e),Re(w)),n(4,r=ae(e,i)),"asChild"in w&&n(1,u=w.asChild),"id"in w&&n(5,f=w.id),"el"in w&&n(0,c=w.el),"$$scope"in w&&n(7,s=w.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f&&m.description.set(f),t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,_)},[c,u,o,d,r,f,l,s,a,g]}let _0=class extends ve{constructor(e){super(),be(this,e,h0,p0,de,{asChild:1,id:5,el:0})}};function g0(t,e){const n=[];return e.builders.forEach(o=>{const i=o.action(t);i&&n.push(i)}),{destroy:()=>{n.forEach(o=>{o.destroy&&o.destroy()})}}}function ua(t){const e={};return t.forEach(n=>{Object.keys(n).forEach(o=>{o!=="action"&&(e[o]=n[o])})}),e}function b0(t){let e=t[1]?"a":"button",n,o,i=(t[1]?"a":"button")&&Fr(t);return{c(){i&&i.c(),n=Le()},m(r,l){i&&i.m(r,l),M(r,n,l),o=!0},p(r,l){r[1],e?de(e,r[1]?"a":"button")?(i.d(1),i=Fr(r),e=r[1]?"a":"button",i.c(),i.m(n.parentNode,n)):i.p(r,l):(i=Fr(r),e=r[1]?"a":"button",i.c(),i.m(n.parentNode,n))},i(r){o||(C(i,r),o=!0)},o(r){S(i,r),o=!1},d(r){r&&T(n),i&&i.d(r)}}}function v0(t){let e=t[1]?"a":"button",n,o,i=(t[1]?"a":"button")&&qr(t);return{c(){i&&i.c(),n=Le()},m(r,l){i&&i.m(r,l),M(r,n,l),o=!0},p(r,l){r[1],e?de(e,r[1]?"a":"button")?(i.d(1),i=qr(r),e=r[1]?"a":"button",i.c(),i.m(n.parentNode,n)):i.p(r,l):(i=qr(r),e=r[1]?"a":"button",i.c(),i.m(n.parentNode,n))},i(r){o||(C(i,r),o=!0)},o(r){S(i,r),o=!1},d(r){r&&T(n),i&&i.d(r)}}}function Fr(t){let e,n,o,i,r;const l=t[7].default,a=pe(l,t,t[6],null);let s=[{type:n=t[1]?void 0:t[2]},{href:t[1]},{tabindex:"0"},t[5],t[4]],u={};for(let f=0;f<s.length;f+=1)u=x(u,s[f]);return{c(){e=P(t[1]?"a":"button"),a&&a.c(),_n(t[1]?"a":"button")(e,u)},m(f,c){M(f,e,c),a&&a.m(e,null),o=!0,i||(r=[z(e,"click",t[14]),z(e,"change",t[15]),z(e,"keydown",t[16]),z(e,"keyup",t[17]),z(e,"mouseenter",t[18]),z(e,"mouseleave",t[19])],i=!0)},p(f,c){a&&a.p&&(!o||c&64)&&_e(a,l,f,f[6],o?he(l,f[6],c,null):ge(f[6]),null),_n(f[1]?"a":"button")(e,u=we(s,[(!o||c&6&&n!==(n=f[1]?void 0:f[2]))&&{type:n},(!o||c&2)&&{href:f[1]},{tabindex:"0"},c&32&&f[5],f[4]]))},i(f){o||(C(a,f),o=!0)},o(f){S(a,f),o=!1},d(f){f&&T(e),a&&a.d(f),i=!1,qe(r)}}}function qr(t){let e,n,o,i,r,l;const a=t[7].default,s=pe(a,t,t[6],null);let u=[{type:n=t[1]?void 0:t[2]},{href:t[1]},{tabindex:"0"},ua(t[3]),t[5],t[4]],f={};for(let c=0;c<u.length;c+=1)f=x(f,u[c]);return{c(){e=P(t[1]?"a":"button"),s&&s.c(),_n(t[1]?"a":"button")(e,f)},m(c,d){M(c,e,d),s&&s.m(e,null),t[20](e),i=!0,r||(l=[z(e,"click",t[8]),z(e,"change",t[9]),z(e,"keydown",t[10]),z(e,"keyup",t[11]),z(e,"mouseenter",t[12]),z(e,"mouseleave",t[13]),je(o=g0.call(null,e,{builders:t[3]}))],r=!0)},p(c,d){s&&s.p&&(!i||d&64)&&_e(s,a,c,c[6],i?he(a,c[6],d,null):ge(c[6]),null),_n(c[1]?"a":"button")(e,f=we(u,[(!i||d&6&&n!==(n=c[1]?void 0:c[2]))&&{type:n},(!i||d&2)&&{href:c[1]},{tabindex:"0"},d&8&&ua(c[3]),d&32&&c[5],c[4]])),o&&kn(o.update)&&d&8&&o.update.call(null,{builders:c[3]})},i(c){i||(C(s,c),i=!0)},o(c){S(s,c),i=!1},d(c){c&&T(e),s&&s.d(c),t[20](null),r=!1,qe(l)}}}function y0(t){let e,n,o,i;const r=[v0,b0],l=[];function a(s,u){return s[3]&&s[3].length?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Le()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Pe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function w0(t,e,n){const o=["href","type","builders","el"];let i=ae(e,o),{$$slots:r={},$$scope:l}=e,{href:a=void 0}=e,{type:s=void 0}=e,{builders:u=[]}=e,{el:f=void 0}=e;const c={"data-button-root":""};function d(L){oe.call(this,t,L)}function m(L){oe.call(this,t,L)}function h(L){oe.call(this,t,L)}function _(L){oe.call(this,t,L)}function g(L){oe.call(this,t,L)}function w(L){oe.call(this,t,L)}function A(L){oe.call(this,t,L)}function k(L){oe.call(this,t,L)}function E(L){oe.call(this,t,L)}function D(L){oe.call(this,t,L)}function R(L){oe.call(this,t,L)}function V(L){oe.call(this,t,L)}function F(L){Oe[L?"unshift":"push"](()=>{f=L,n(0,f)})}return t.$$set=L=>{e=x(x({},e),Re(L)),n(5,i=ae(e,o)),"href"in L&&n(1,a=L.href),"type"in L&&n(2,s=L.type),"builders"in L&&n(3,u=L.builders),"el"in L&&n(0,f=L.el),"$$scope"in L&&n(6,l=L.$$scope)},[f,a,s,u,c,i,l,r,d,m,h,_,g,w,A,k,E,D,R,V,F]}let k0=class extends ve{constructor(e){super(),be(this,e,w0,y0,de,{href:1,type:2,builders:3,el:0})}};function C0(t){return(e={})=>A0(t,e)}function A0(t,e){const o={...{side:"bottom",align:"center",sideOffset:0,alignOffset:0,sameWidth:!1,avoidCollisions:!0,collisionPadding:8,fitViewport:!1,strategy:"absolute",overlap:!1},...e};t.update(i=>({...i,placement:S0(o.side,o.align),offset:{...i.offset,mainAxis:o.sideOffset,crossAxis:o.alignOffset},gutter:0,sameWidth:o.sameWidth,flip:o.avoidCollisions,overflowPadding:o.collisionPadding,boundary:o.collisionBoundary,fitViewport:o.fitViewport,strategy:o.strategy,overlap:o.overlap}))}function S0(t,e){return e==="center"?t:`${t}-${e}`}function T0(){return{NAME:"separator",PARTS:["root"]}}function M0(t){const{NAME:e,PARTS:n}=T0(),o=Gn(e,n),i={...e_(ko(t)),getAttrs:o};return{...i,updateOption:jn(i.options)}}const I0=t=>({builder:t&4}),fa=t=>({builder:t[2]});function P0(t){let e,n,o,i=[t[2],t[4]],r={};for(let l=0;l<i.length;l+=1)r=x(r,i[l]);return{c(){e=P("div"),ue(e,r)},m(l,a){M(l,e,a),t[10](e),n||(o=je(t[2].action(e)),n=!0)},p(l,a){ue(e,r=we(i,[a&4&&l[2],a&16&&l[4]]))},i:ke,o:ke,d(l){l&&T(e),t[10](null),n=!1,o()}}}function O0(t){let e;const n=t[9].default,o=pe(n,t,t[8],fa);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&260)&&_e(o,n,i,i[8],e?he(n,i[8],r,I0):ge(i[8]),fa)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function N0(t){let e,n,o,i;const r=[O0,P0],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Le()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Pe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function E0(t,e,n){let o;const i=["orientation","decorative","asChild","el"];let r=ae(e,i),l,{$$slots:a={},$$scope:s}=e,{orientation:u="horizontal"}=e,{decorative:f=!0}=e,{asChild:c=!1}=e,{el:d=void 0}=e;const{elements:{root:m},updateOption:h,getAttrs:_}=M0({orientation:u,decorative:f});fe(t,m,A=>n(7,l=A));const g=_("root");function w(A){Oe[A?"unshift":"push"](()=>{d=A,n(0,d)})}return t.$$set=A=>{e=x(x({},e),Re(A)),n(4,r=ae(e,i)),"orientation"in A&&n(5,u=A.orientation),"decorative"in A&&n(6,f=A.decorative),"asChild"in A&&n(1,c=A.asChild),"el"in A&&n(0,d=A.el),"$$scope"in A&&n(8,s=A.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&h("orientation",u),t.$$.dirty&64&&h("decorative",f),t.$$.dirty&128&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,g)},[d,c,o,m,r,u,f,l,s,a,w]}let R0=class extends ve{constructor(e){super(),be(this,e,E0,N0,de,{orientation:5,decorative:6,asChild:1,el:0})}};function qc(){return{NAME:"dialog",PARTS:["close","content","description","overlay","portal","title","trigger"]}}function D0(t){const{NAME:e,PARTS:n}=qc(),o=Gn(e,n),i={...$c({...ko(t),role:"dialog",forceVisible:!0}),getAttrs:o};return cr(e,i),{...i,updateOption:jn(i.options)}}function Co(){const{NAME:t}=qc();return dr(t)}const L0=t=>({ids:t&1}),ca=t=>({ids:t[0]});function $0(t){let e;const n=t[12].default,o=pe(n,t,t[11],ca);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,[r]){o&&o.p&&(!e||r&2049)&&_e(o,n,i,i[11],e?he(n,i[11],r,L0):ge(i[11]),ca)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function F0(t,e,n){let o,{$$slots:i={},$$scope:r}=e,{preventScroll:l=void 0}=e,{closeOnEscape:a=void 0}=e,{closeOnOutsideClick:s=void 0}=e,{portal:u=void 0}=e,{open:f=void 0}=e,{onOpenChange:c=void 0}=e,{openFocus:d=void 0}=e,{closeFocus:m=void 0}=e,{onOutsideClick:h=void 0}=e;const{states:{open:_},updateOption:g,ids:w}=D0({closeOnEscape:a,preventScroll:l,closeOnOutsideClick:s,portal:u,forceVisible:!0,defaultOpen:f,openFocus:d,closeFocus:m,onOutsideClick:h,onOpenChange:({next:k})=>(f!==k&&(c==null||c(k),n(2,f=k)),k)}),A=sn([w.content,w.description,w.title],([k,E,D])=>({content:k,description:E,title:D}));return fe(t,A,k=>n(0,o=k)),t.$$set=k=>{"preventScroll"in k&&n(3,l=k.preventScroll),"closeOnEscape"in k&&n(4,a=k.closeOnEscape),"closeOnOutsideClick"in k&&n(5,s=k.closeOnOutsideClick),"portal"in k&&n(6,u=k.portal),"open"in k&&n(2,f=k.open),"onOpenChange"in k&&n(7,c=k.onOpenChange),"openFocus"in k&&n(8,d=k.openFocus),"closeFocus"in k&&n(9,m=k.closeFocus),"onOutsideClick"in k&&n(10,h=k.onOutsideClick),"$$scope"in k&&n(11,r=k.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&f!==void 0&&_.set(f),t.$$.dirty&8&&g("preventScroll",l),t.$$.dirty&16&&g("closeOnEscape",a),t.$$.dirty&32&&g("closeOnOutsideClick",s),t.$$.dirty&64&&g("portal",u),t.$$.dirty&256&&g("openFocus",d),t.$$.dirty&512&&g("closeFocus",m),t.$$.dirty&1024&&g("onOutsideClick",h)},[o,A,f,l,a,s,u,c,d,m,h,r,i]}class q0 extends ve{constructor(e){super(),be(this,e,F0,$0,de,{preventScroll:3,closeOnEscape:4,closeOnOutsideClick:5,portal:6,open:2,onOpenChange:7,openFocus:8,closeFocus:9,onOutsideClick:10})}}const j0=t=>({builder:t&8}),da=t=>({builder:t[3]}),B0=t=>({builder:t&8}),ma=t=>({builder:t[3]});function V0(t){let e=t[1],n,o,i=t[1]&&jr(t);return{c(){i&&i.c(),n=Le()},m(r,l){i&&i.m(r,l),M(r,n,l),o=!0},p(r,l){r[1]?e?de(e,r[1])?(i.d(1),i=jr(r),e=r[1],i.c(),i.m(n.parentNode,n)):i.p(r,l):(i=jr(r),e=r[1],i.c(),i.m(n.parentNode,n)):e&&(i.d(1),i=null,e=r[1])},i(r){o||(C(i,r),o=!0)},o(r){S(i,r),o=!1},d(r){r&&T(n),i&&i.d(r)}}}function G0(t){let e;const n=t[9].default,o=pe(n,t,t[8],ma);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&264)&&_e(o,n,i,i[8],e?he(n,i[8],r,B0):ge(i[8]),ma)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function jr(t){let e,n,o,i;const r=t[9].default,l=pe(r,t,t[8],da);let a=[t[3],t[5]],s={};for(let u=0;u<a.length;u+=1)s=x(s,a[u]);return{c(){e=P(t[1]),l&&l.c(),_n(t[1])(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[10](e),n=!0,o||(i=je(t[3].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&264)&&_e(l,r,u,u[8],n?he(r,u[8],f,j0):ge(u[8]),da),_n(u[1])(e,s=we(a,[f&8&&u[3],f&32&&u[5]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[10](null),o=!1,i()}}}function H0(t){let e,n,o,i;const r=[G0,V0],l=[];function a(s,u){return s[2]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Le()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Pe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function W0(t,e,n){let o;const i=["level","asChild","id","el"];let r=ae(e,i),l,{$$slots:a={},$$scope:s}=e,{level:u="h2"}=e,{asChild:f=!1}=e,{id:c=void 0}=e,{el:d=void 0}=e;const{elements:{title:m},ids:h,getAttrs:_}=Co();fe(t,m,A=>n(7,l=A));const g=_("title");function w(A){Oe[A?"unshift":"push"](()=>{d=A,n(0,d)})}return t.$$set=A=>{e=x(x({},e),Re(A)),n(5,r=ae(e,i)),"level"in A&&n(1,u=A.level),"asChild"in A&&n(2,f=A.asChild),"id"in A&&n(6,c=A.id),"el"in A&&n(0,d=A.el),"$$scope"in A&&n(8,s=A.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&c&&h.title.set(c),t.$$.dirty&128&&n(3,o=l),t.$$.dirty&8&&Object.assign(o,g)},[d,u,f,o,m,r,c,l,s,a,w]}let K0=class extends ve{constructor(e){super(),be(this,e,W0,H0,de,{level:1,asChild:2,id:6,el:0})}};const U0=t=>({builder:t&4}),pa=t=>({builder:t[2]}),Y0=t=>({builder:t&4}),ha=t=>({builder:t[2]});function X0(t){let e,n,o,i;const r=t[8].default,l=pe(r,t,t[7],pa);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=x(s,a[u]);return{c(){e=P("button"),l&&l.c(),ue(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[9](e),n=!0,o||(i=[je(t[2].action(e)),z(e,"m-click",t[4]),z(e,"m-keydown",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&_e(l,r,u,u[7],n?he(r,u[7],f,U0):ge(u[7]),pa),ue(e,s=we(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[9](null),o=!1,qe(i)}}}function J0(t){let e;const n=t[8].default,o=pe(n,t,t[7],ha);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&_e(o,n,i,i[7],e?he(n,i[7],r,Y0):ge(i[7]),ha)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function x0(t){let e,n,o,i;const r=[J0,X0],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Le()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Pe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function Z0(t,e,n){let o;const i=["asChild","el"];let r=ae(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:d}=Co();fe(t,c,g=>n(6,l=g));const m=Hn(),h=d("close");function _(g){Oe[g?"unshift":"push"](()=>{f=g,n(0,f)})}return t.$$set=g=>{e=x(x({},e),Re(g)),n(5,r=ae(e,i)),"asChild"in g&&n(1,u=g.asChild),"el"in g&&n(0,f=g.el),"$$scope"in g&&n(7,s=g.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,h)},[f,u,o,c,m,r,l,s,a,_]}class Q0 extends ve{constructor(e){super(),be(this,e,Z0,x0,de,{asChild:1,el:0})}}const z0=t=>({builder:t&4}),_a=t=>({builder:t[2]}),eg=t=>({builder:t&4}),ga=t=>({builder:t[2]});function tg(t){let e,n,o,i;const r=t[7].default,l=pe(r,t,t[6],_a);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=x(s,a[u]);return{c(){e=P("div"),l&&l.c(),ue(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[8](e),n=!0,o||(i=je(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&68)&&_e(l,r,u,u[6],n?he(r,u[6],f,z0):ge(u[6]),_a),ue(e,s=we(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[8](null),o=!1,i()}}}function ng(t){let e;const n=t[7].default,o=pe(n,t,t[6],ga);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&68)&&_e(o,n,i,i[6],e?he(n,i[6],r,eg):ge(i[6]),ga)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function og(t){let e,n,o,i;const r=[ng,tg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Le()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Pe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function ig(t,e,n){let o;const i=["asChild","el"];let r=ae(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{portalled:c},getAttrs:d}=Co();fe(t,c,_=>n(5,l=_));const m=d("portal");function h(_){Oe[_?"unshift":"push"](()=>{f=_,n(0,f)})}return t.$$set=_=>{e=x(x({},e),Re(_)),n(4,r=ae(e,i)),"asChild"in _&&n(1,u=_.asChild),"el"in _&&n(0,f=_.el),"$$scope"in _&&n(6,s=_.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,m)},[f,u,o,c,r,l,s,a,h]}let rg=class extends ve{constructor(e){super(),be(this,e,ig,og,de,{asChild:1,el:0})}};const lg=t=>({builder:t[0]&256}),ba=t=>({builder:t[8]}),sg=t=>({builder:t[0]&256}),va=t=>({builder:t[8]}),ag=t=>({builder:t[0]&256}),ya=t=>({builder:t[8]}),ug=t=>({builder:t[0]&256}),wa=t=>({builder:t[8]}),fg=t=>({builder:t[0]&256}),ka=t=>({builder:t[8]}),cg=t=>({builder:t[0]&256}),Ca=t=>({builder:t[8]});function dg(t){let e,n,o,i;const r=t[16].default,l=pe(r,t,t[15],ba);let a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=x(s,a[u]);return{c(){e=P("div"),l&&l.c(),ue(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[56](e),n=!0,o||(i=[je(t[8].action(e)),z(e,"pointerdown",t[45]),z(e,"pointermove",t[46]),z(e,"pointerup",t[47]),z(e,"touchend",t[48]),z(e,"touchstart",t[49]),z(e,"touchcancel",t[50]),z(e,"touchmove",t[51])],o=!0)},p(u,f){l&&l.p&&(!n||f[0]&33024)&&_e(l,r,u,u[15],n?he(r,u[15],f,lg):ge(u[15]),ba),ue(e,s=we(a,[f[0]&256&&u[8],f[0]&4096&&u[12]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[56](null),o=!1,qe(i)}}}function mg(t){let e,n,o,i,r;const l=t[16].default,a=pe(l,t,t[15],va);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=x(u,s[f]);return{c(){e=P("div"),a&&a.c(),ue(e,u)},m(f,c){M(f,e,c),a&&a.m(e,null),t[55](e),o=!0,i||(r=[je(t[8].action(e)),z(e,"pointerdown",t[38]),z(e,"pointermove",t[39]),z(e,"pointerup",t[40]),z(e,"touchend",t[41]),z(e,"touchstart",t[42]),z(e,"touchcancel",t[43]),z(e,"touchmove",t[44])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&_e(a,l,t,t[15],o?he(l,t[15],c,sg):ge(t[15]),va),ue(e,u=we(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(C(a,f),n&&n.end(1),o=!0)},o(f){S(a,f),f&&(n=xt(e,t[5],t[6])),o=!1},d(f){f&&T(e),a&&a.d(f),t[55](null),f&&n&&n.end(),i=!1,qe(r)}}}function pg(t){let e,n,o,i,r;const l=t[16].default,a=pe(l,t,t[15],ya);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=x(u,s[f]);return{c(){e=P("div"),a&&a.c(),ue(e,u)},m(f,c){M(f,e,c),a&&a.m(e,null),t[54](e),o=!0,i||(r=[je(t[8].action(e)),z(e,"pointerdown",t[31]),z(e,"pointermove",t[32]),z(e,"pointerup",t[33]),z(e,"touchend",t[34]),z(e,"touchstart",t[35]),z(e,"touchcancel",t[36]),z(e,"touchmove",t[37])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&_e(a,l,t,t[15],o?he(l,t[15],c,ag):ge(t[15]),ya),ue(e,u=we(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(C(a,f),f&&(n||ot(()=>{n=Jt(e,t[3],t[4]),n.start()})),o=!0)},o(f){S(a,f),o=!1},d(f){f&&T(e),a&&a.d(f),t[54](null),i=!1,qe(r)}}}function hg(t){let e,n,o,i,r,l;const a=t[16].default,s=pe(a,t,t[15],wa);let u=[t[8],t[12]],f={};for(let c=0;c<u.length;c+=1)f=x(f,u[c]);return{c(){e=P("div"),s&&s.c(),ue(e,f)},m(c,d){M(c,e,d),s&&s.m(e,null),t[53](e),i=!0,r||(l=[je(t[8].action(e)),z(e,"pointerdown",t[24]),z(e,"pointermove",t[25]),z(e,"pointerup",t[26]),z(e,"touchend",t[27]),z(e,"touchstart",t[28]),z(e,"touchcancel",t[29]),z(e,"touchmove",t[30])],r=!0)},p(c,d){t=c,s&&s.p&&(!i||d[0]&33024)&&_e(s,a,t,t[15],i?he(a,t[15],d,ug):ge(t[15]),wa),ue(e,f=we(u,[d[0]&256&&t[8],d[0]&4096&&t[12]]))},i(c){i||(C(s,c),c&&ot(()=>{i&&(o&&o.end(1),n=Jt(e,t[3],t[4]),n.start())}),i=!0)},o(c){S(s,c),n&&n.invalidate(),c&&(o=xt(e,t[5],t[6])),i=!1},d(c){c&&T(e),s&&s.d(c),t[53](null),c&&o&&o.end(),r=!1,qe(l)}}}function _g(t){let e,n,o,i,r;const l=t[16].default,a=pe(l,t,t[15],ka);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=x(u,s[f]);return{c(){e=P("div"),a&&a.c(),ue(e,u)},m(f,c){M(f,e,c),a&&a.m(e,null),t[52](e),o=!0,i||(r=[je(t[8].action(e)),z(e,"pointerdown",t[17]),z(e,"pointermove",t[18]),z(e,"pointerup",t[19]),z(e,"touchend",t[20]),z(e,"touchstart",t[21]),z(e,"touchcancel",t[22]),z(e,"touchmove",t[23])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&_e(a,l,t,t[15],o?he(l,t[15],c,fg):ge(t[15]),ka),ue(e,u=we(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(C(a,f),f&&ot(()=>{o&&(n||(n=Yt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(f){S(a,f),f&&(n||(n=Yt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(f){f&&T(e),a&&a.d(f),t[52](null),f&&n&&n.end(),i=!1,qe(r)}}}function gg(t){let e;const n=t[16].default,o=pe(n,t,t[15],Ca);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r[0]&33024)&&_e(o,n,i,i[15],e?he(n,i[15],r,cg):ge(i[15]),Ca)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function bg(t){let e,n,o,i;const r=[gg,_g,hg,pg,mg,dg],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=Le()},m(s,u){~e&&l[e].m(s,u),M(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Ie(),S(l[f],1,1,()=>{l[f]=null}),Pe()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),~e&&l[e].d(s)}}}function vg(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","id","el"];let r=ae(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:h=void 0}=e,{outTransitionConfig:_=void 0}=e,{asChild:g=!1}=e,{id:w=void 0}=e,{el:A=void 0}=e;const{elements:{content:k},states:{open:E},ids:D,getAttrs:R}=Co();fe(t,k,B=>n(14,l=B)),fe(t,E,B=>n(9,a=B));const V=R("content");function F(B){oe.call(this,t,B)}function L(B){oe.call(this,t,B)}function U(B){oe.call(this,t,B)}function y(B){oe.call(this,t,B)}function b(B){oe.call(this,t,B)}function I(B){oe.call(this,t,B)}function O(B){oe.call(this,t,B)}function W(B){oe.call(this,t,B)}function $(B){oe.call(this,t,B)}function Z(B){oe.call(this,t,B)}function ee(B){oe.call(this,t,B)}function Q(B){oe.call(this,t,B)}function K(B){oe.call(this,t,B)}function te(B){oe.call(this,t,B)}function ne(B){oe.call(this,t,B)}function p(B){oe.call(this,t,B)}function H(B){oe.call(this,t,B)}function j(B){oe.call(this,t,B)}function ie(B){oe.call(this,t,B)}function re(B){oe.call(this,t,B)}function Ae(B){oe.call(this,t,B)}function $e(B){oe.call(this,t,B)}function Me(B){oe.call(this,t,B)}function ze(B){oe.call(this,t,B)}function ce(B){oe.call(this,t,B)}function Ee(B){oe.call(this,t,B)}function He(B){oe.call(this,t,B)}function Be(B){oe.call(this,t,B)}function Ue(B){oe.call(this,t,B)}function Ce(B){oe.call(this,t,B)}function Se(B){oe.call(this,t,B)}function yt(B){oe.call(this,t,B)}function Dt(B){oe.call(this,t,B)}function at(B){oe.call(this,t,B)}function Lt(B){oe.call(this,t,B)}function ut(B){Oe[B?"unshift":"push"](()=>{A=B,n(0,A)})}function mt(B){Oe[B?"unshift":"push"](()=>{A=B,n(0,A)})}function nt(B){Oe[B?"unshift":"push"](()=>{A=B,n(0,A)})}function me(B){Oe[B?"unshift":"push"](()=>{A=B,n(0,A)})}function We(B){Oe[B?"unshift":"push"](()=>{A=B,n(0,A)})}return t.$$set=B=>{e=x(x({},e),Re(B)),n(12,r=ae(e,i)),"transition"in B&&n(1,f=B.transition),"transitionConfig"in B&&n(2,c=B.transitionConfig),"inTransition"in B&&n(3,d=B.inTransition),"inTransitionConfig"in B&&n(4,m=B.inTransitionConfig),"outTransition"in B&&n(5,h=B.outTransition),"outTransitionConfig"in B&&n(6,_=B.outTransitionConfig),"asChild"in B&&n(7,g=B.asChild),"id"in B&&n(13,w=B.id),"el"in B&&n(0,A=B.el),"$$scope"in B&&n(15,u=B.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&8192&&w&&D.content.set(w),t.$$.dirty[0]&16384&&n(8,o=l),t.$$.dirty[0]&256&&Object.assign(o,V)},[A,f,c,d,m,h,_,g,o,a,k,E,r,w,l,u,s,F,L,U,y,b,I,O,W,$,Z,ee,Q,K,te,ne,p,H,j,ie,re,Ae,$e,Me,ze,ce,Ee,He,Be,Ue,Ce,Se,yt,Dt,at,Lt,ut,mt,nt,me,We]}let yg=class extends ve{constructor(e){super(),be(this,e,vg,bg,de,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,id:13,el:0},null,[-1,-1])}};const wg=t=>({builder:t&256}),Aa=t=>({builder:t[8]});function kg(t){let e,n,o,i=[t[8],t[12]],r={};for(let l=0;l<i.length;l+=1)r=x(r,i[l]);return{c(){e=P("div"),ue(e,r)},m(l,a){M(l,e,a),t[25](e),n||(o=[je(t[8].action(e)),z(e,"mouseup",t[20])],n=!0)},p(l,a){ue(e,r=we(i,[a&256&&l[8],a&4096&&l[12]]))},i:ke,o:ke,d(l){l&&T(e),t[25](null),n=!1,qe(o)}}}function Cg(t){let e,n,o,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=x(a,l[s]);return{c(){e=P("div"),ue(e,a)},m(s,u){M(s,e,u),t[24](e),o=!0,i||(r=[je(t[8].action(e)),z(e,"mouseup",t[19])],i=!0)},p(s,u){t=s,ue(e,a=we(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(n&&n.end(1),o=!0)},o(s){s&&(n=xt(e,t[5],t[6])),o=!1},d(s){s&&T(e),t[24](null),s&&n&&n.end(),i=!1,qe(r)}}}function Ag(t){let e,n,o,i,r=[t[8],t[12]],l={};for(let a=0;a<r.length;a+=1)l=x(l,r[a]);return{c(){e=P("div"),ue(e,l)},m(a,s){M(a,e,s),t[23](e),o||(i=[je(t[8].action(e)),z(e,"mouseup",t[18])],o=!0)},p(a,s){t=a,ue(e,l=we(r,[s&256&&t[8],s&4096&&t[12]]))},i(a){a&&(n||ot(()=>{n=Jt(e,t[3],t[4]),n.start()}))},o:ke,d(a){a&&T(e),t[23](null),o=!1,qe(i)}}}function Sg(t){let e,n,o,i,r,l,a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=x(s,a[u]);return{c(){e=P("div"),ue(e,s)},m(u,f){M(u,e,f),t[22](e),i=!0,r||(l=[je(t[8].action(e)),z(e,"mouseup",t[17])],r=!0)},p(u,f){t=u,ue(e,s=we(a,[f&256&&t[8],f&4096&&t[12]]))},i(u){i||(u&&ot(()=>{i&&(o&&o.end(1),n=Jt(e,t[3],t[4]),n.start())}),i=!0)},o(u){n&&n.invalidate(),u&&(o=xt(e,t[5],t[6])),i=!1},d(u){u&&T(e),t[22](null),u&&o&&o.end(),r=!1,qe(l)}}}function Tg(t){let e,n,o,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=x(a,l[s]);return{c(){e=P("div"),ue(e,a)},m(s,u){M(s,e,u),t[21](e),o=!0,i||(r=[z(e,"mouseup",t[16]),je(t[8].action(e))],i=!0)},p(s,u){t=s,ue(e,a=we(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(s&&ot(()=>{o&&(n||(n=Yt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(s){s&&(n||(n=Yt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(s){s&&T(e),t[21](null),s&&n&&n.end(),i=!1,qe(r)}}}function Mg(t){let e;const n=t[15].default,o=pe(n,t,t[14],Aa);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&16640)&&_e(o,n,i,i[14],e?he(n,i[14],r,wg):ge(i[14]),Aa)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Ig(t){let e,n,o,i;const r=[Mg,Tg,Sg,Ag,Cg,kg],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=Le()},m(s,u){~e&&l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Ie(),S(l[f],1,1,()=>{l[f]=null}),Pe()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),~e&&l[e].d(s)}}}function Pg(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","el"];let r=ae(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:h=void 0}=e,{outTransitionConfig:_=void 0}=e,{asChild:g=!1}=e,{el:w=void 0}=e;const{elements:{overlay:A},states:{open:k},getAttrs:E}=Co();fe(t,A,$=>n(13,l=$)),fe(t,k,$=>n(9,a=$));const D=E("overlay");function R($){oe.call(this,t,$)}function V($){oe.call(this,t,$)}function F($){oe.call(this,t,$)}function L($){oe.call(this,t,$)}function U($){oe.call(this,t,$)}function y($){Oe[$?"unshift":"push"](()=>{w=$,n(0,w)})}function b($){Oe[$?"unshift":"push"](()=>{w=$,n(0,w)})}function I($){Oe[$?"unshift":"push"](()=>{w=$,n(0,w)})}function O($){Oe[$?"unshift":"push"](()=>{w=$,n(0,w)})}function W($){Oe[$?"unshift":"push"](()=>{w=$,n(0,w)})}return t.$$set=$=>{e=x(x({},e),Re($)),n(12,r=ae(e,i)),"transition"in $&&n(1,f=$.transition),"transitionConfig"in $&&n(2,c=$.transitionConfig),"inTransition"in $&&n(3,d=$.inTransition),"inTransitionConfig"in $&&n(4,m=$.inTransitionConfig),"outTransition"in $&&n(5,h=$.outTransition),"outTransitionConfig"in $&&n(6,_=$.outTransitionConfig),"asChild"in $&&n(7,g=$.asChild),"el"in $&&n(0,w=$.el),"$$scope"in $&&n(14,u=$.$$scope)},t.$$.update=()=>{t.$$.dirty&8192&&n(8,o=l),t.$$.dirty&256&&Object.assign(o,D)},[w,f,c,d,m,h,_,g,o,a,A,k,r,l,u,s,R,V,F,L,U,y,b,I,O,W]}let Og=class extends ve{constructor(e){super(),be(this,e,Pg,Ig,de,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,el:0})}};const Ng=t=>({builder:t&4}),Sa=t=>({builder:t[2]}),Eg=t=>({builder:t&4}),Ta=t=>({builder:t[2]});function Rg(t){let e,n,o,i;const r=t[8].default,l=pe(r,t,t[7],Sa);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=x(s,a[u]);return{c(){e=P("div"),l&&l.c(),ue(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[9](e),n=!0,o||(i=je(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&_e(l,r,u,u[7],n?he(r,u[7],f,Ng):ge(u[7]),Sa),ue(e,s=we(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[9](null),o=!1,i()}}}function Dg(t){let e;const n=t[8].default,o=pe(n,t,t[7],Ta);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&_e(o,n,i,i[7],e?he(n,i[7],r,Eg):ge(i[7]),Ta)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Lg(t){let e,n,o,i;const r=[Dg,Rg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Le()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Pe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function $g(t,e,n){let o;const i=["asChild","id","el"];let r=ae(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{description:d},ids:m,getAttrs:h}=Co();fe(t,d,w=>n(6,l=w));const _=h("description");function g(w){Oe[w?"unshift":"push"](()=>{c=w,n(0,c)})}return t.$$set=w=>{e=x(x({},e),Re(w)),n(4,r=ae(e,i)),"asChild"in w&&n(1,u=w.asChild),"id"in w&&n(5,f=w.id),"el"in w&&n(0,c=w.el),"$$scope"in w&&n(7,s=w.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f&&m.description.set(f),t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,_)},[c,u,o,d,r,f,l,s,a,g]}let Fg=class extends ve{constructor(e){super(),be(this,e,$g,Lg,de,{asChild:1,id:5,el:0})}};function qg(){const t="label",n=Gn(t,["root"]);return{NAME:t,getAttrs:n}}const jg=t=>({builder:t&4}),Ma=t=>({builder:t[2]}),Bg=t=>({builder:t&4}),Ia=t=>({builder:t[2]});function Vg(t){let e,n,o,i;const r=t[8].default,l=pe(r,t,t[7],Ma);let a=[t[2],t[5]],s={};for(let u=0;u<a.length;u+=1)s=x(s,a[u]);return{c(){e=P("label"),l&&l.c(),ue(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[9](e),n=!0,o||(i=[je(t[2].action(e)),z(e,"m-mousedown",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&_e(l,r,u,u[7],n?he(r,u[7],f,jg):ge(u[7]),Ma),ue(e,s=we(a,[f&4&&u[2],f&32&&u[5]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[9](null),o=!1,qe(i)}}}function Gg(t){let e;const n=t[8].default,o=pe(n,t,t[7],Ia);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&_e(o,n,i,i[7],e?he(n,i[7],r,Bg):ge(i[7]),Ia)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Hg(t){let e,n,o,i;const r=[Gg,Vg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Le()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Pe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function Wg(t,e,n){let o;const i=["asChild","el"];let r=ae(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{root:c}}=Yh();fe(t,c,g=>n(6,l=g));const d=Hn(),{getAttrs:m}=qg(),h=m("root");function _(g){Oe[g?"unshift":"push"](()=>{f=g,n(0,f)})}return t.$$set=g=>{e=x(x({},e),Re(g)),n(5,r=ae(e,i)),"asChild"in g&&n(1,u=g.asChild),"el"in g&&n(0,f=g.el),"$$scope"in g&&n(7,s=g.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,h)},[f,u,o,c,d,r,l,s,a,_]}let Kg=class extends ve{constructor(e){super(),be(this,e,Wg,Hg,de,{asChild:1,el:0})}};function Ug(){return{NAME:"progress",PARTS:["root"]}}function Yg(t){const{NAME:e,PARTS:n}=Ug(),o=Gn(e,n),i={...Qh(ko(t)),getAttrs:o};return{...i,updateOption:jn(i.options)}}const Xg=t=>({builder:t&4}),Pa=t=>({builder:t[2]}),Jg=t=>({builder:t&4}),Oa=t=>({builder:t[2]});function xg(t){let e,n,o,i;const r=t[10].default,l=pe(r,t,t[9],Pa);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=x(s,a[u]);return{c(){e=P("div"),l&&l.c(),ue(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[11](e),n=!0,o||(i=je(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&516)&&_e(l,r,u,u[9],n?he(r,u[9],f,Xg):ge(u[9]),Pa),ue(e,s=we(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[11](null),o=!1,i()}}}function Zg(t){let e;const n=t[10].default,o=pe(n,t,t[9],Oa);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&516)&&_e(o,n,i,i[9],e?he(n,i[9],r,Jg):ge(i[9]),Oa)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Qg(t){let e,n,o,i;const r=[Zg,xg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Le()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Pe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function zg(t,e,n){let o;const i=["max","value","onValueChange","asChild","el"];let r=ae(e,i),l,{$$slots:a={},$$scope:s}=e,{max:u=void 0}=e,{value:f=void 0}=e,{onValueChange:c=void 0}=e,{asChild:d=!1}=e,{el:m=void 0}=e;const{elements:{root:h},states:{value:_},updateOption:g,getAttrs:w}=Yg({max:u,defaultValue:f,onValueChange:({next:E})=>(c==null||c(E),n(5,f=E),E)});fe(t,h,E=>n(8,l=E));const A=w("root");function k(E){Oe[E?"unshift":"push"](()=>{m=E,n(0,m)})}return t.$$set=E=>{e=x(x({},e),Re(E)),n(4,r=ae(e,i)),"max"in E&&n(6,u=E.max),"value"in E&&n(5,f=E.value),"onValueChange"in E&&n(7,c=E.onValueChange),"asChild"in E&&n(1,d=E.asChild),"el"in E&&n(0,m=E.el),"$$scope"in E&&n(9,s=E.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f!==void 0&&_.set(f),t.$$.dirty&64&&g("max",u),t.$$.dirty&256&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,A)},[m,d,o,h,r,f,u,c,l,s,a,k]}let e1=class extends ve{constructor(e){super(),be(this,e,zg,Qg,de,{max:6,value:5,onValueChange:7,asChild:1,el:0})}};function jc(){return{NAME:"slider",PARTS:["root","input","range","thumb","tick"]}}function t1(t){const{NAME:e,PARTS:n}=jc(),o=Gn(e,n),i={...n_(ko(t)),getAttrs:o};return cr(e,i),{...i,updateOption:jn(i.options)}}function Bc(){const{NAME:t}=jc();return dr(t)}const n1=t=>({builder:t&4,ticks:t&8,thumbs:t&16}),Na=t=>({builder:t[2],ticks:t[3],thumbs:t[4]}),o1=t=>({builder:t&4,ticks:t&8,thumbs:t&16}),Ea=t=>({builder:t[2],ticks:t[3],thumbs:t[4]});function i1(t){let e,n,o,i;const r=t[18].default,l=pe(r,t,t[17],Na);let a=[t[2],t[8]],s={};for(let u=0;u<a.length;u+=1)s=x(s,a[u]);return{c(){e=P("span"),l&&l.c(),ue(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[19](e),n=!0,o||(i=je(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&131100)&&_e(l,r,u,u[17],n?he(r,u[17],f,n1):ge(u[17]),Na),ue(e,s=we(a,[f&4&&u[2],f&256&&u[8]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[19](null),o=!1,i()}}}function r1(t){let e;const n=t[18].default,o=pe(n,t,t[17],Ea);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&131100)&&_e(o,n,i,i[17],e?he(n,i[17],r,o1):ge(i[17]),Ea)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function l1(t){let e,n,o,i;const r=[r1,i1],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Le()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Pe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function s1(t,e,n){let o;const i=["disabled","min","max","step","orientation","value","onValueChange","asChild","el"];let r=ae(e,i),l,a,s,{$$slots:u={},$$scope:f}=e,{disabled:c=void 0}=e,{min:d=void 0}=e,{max:m=void 0}=e,{step:h=void 0}=e,{orientation:_=void 0}=e,{value:g=void 0}=e,{onValueChange:w=void 0}=e,{asChild:A=!1}=e,{el:k=void 0}=e;const{elements:{root:E,ticks:D,thumbs:R},states:{value:V},updateOption:F,getAttrs:L}=t1({disabled:c,min:d,max:m,step:h,orientation:_,defaultValue:g,onValueChange:({next:b})=>(g!==b&&(w==null||w(b),n(9,g=b)),b)});fe(t,E,b=>n(16,l=b)),fe(t,D,b=>n(3,a=b)),fe(t,R,b=>n(4,s=b));const U=L("root");function y(b){Oe[b?"unshift":"push"](()=>{k=b,n(0,k)})}return t.$$set=b=>{e=x(x({},e),Re(b)),n(8,r=ae(e,i)),"disabled"in b&&n(10,c=b.disabled),"min"in b&&n(11,d=b.min),"max"in b&&n(12,m=b.max),"step"in b&&n(13,h=b.step),"orientation"in b&&n(14,_=b.orientation),"value"in b&&n(9,g=b.value),"onValueChange"in b&&n(15,w=b.onValueChange),"asChild"in b&&n(1,A=b.asChild),"el"in b&&n(0,k=b.el),"$$scope"in b&&n(17,f=b.$$scope)},t.$$.update=()=>{t.$$.dirty&512&&g!==void 0&&V.set(g),t.$$.dirty&1024&&F("disabled",c),t.$$.dirty&2048&&F("min",d),t.$$.dirty&4096&&F("max",m),t.$$.dirty&8192&&F("step",h),t.$$.dirty&16384&&F("orientation",_),t.$$.dirty&65536&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,U)},[k,A,o,a,s,E,D,R,r,g,c,d,m,h,_,w,l,f,u,y]}let a1=class extends ve{constructor(e){super(),be(this,e,s1,l1,de,{disabled:10,min:11,max:12,step:13,orientation:14,value:9,onValueChange:15,asChild:1,el:0})}};const u1=t=>({builder:t&4}),Ra=t=>({builder:t[2]});function f1(t){let e,n,o,i=[t[2],t[4]],r={};for(let l=0;l<i.length;l+=1)r=x(r,i[l]);return{c(){e=P("span"),ue(e,r)},m(l,a){M(l,e,a),t[8](e),n||(o=je(t[2].action(e)),n=!0)},p(l,a){ue(e,r=we(i,[a&4&&l[2],a&16&&l[4]]))},i:ke,o:ke,d(l){l&&T(e),t[8](null),n=!1,o()}}}function c1(t){let e;const n=t[7].default,o=pe(n,t,t[6],Ra);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&68)&&_e(o,n,i,i[6],e?he(n,i[6],r,u1):ge(i[6]),Ra)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function d1(t){let e,n,o,i;const r=[c1,f1],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Le()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Pe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function m1(t,e,n){let o;const i=["asChild","el"];let r=ae(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{range:c},getAttrs:d}=Bc();fe(t,c,_=>n(5,l=_));const m=d("range");function h(_){Oe[_?"unshift":"push"](()=>{f=_,n(0,f)})}return t.$$set=_=>{e=x(x({},e),Re(_)),n(4,r=ae(e,i)),"asChild"in _&&n(1,u=_.asChild),"el"in _&&n(0,f=_.el),"$$scope"in _&&n(6,s=_.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,m)},[f,u,o,c,r,l,s,a,h]}class p1 extends ve{constructor(e){super(),be(this,e,m1,d1,de,{asChild:1,el:0})}}const h1=t=>({builder:t&4}),Da=t=>({builder:t[2]});function _1(t){let e,n,o,i=[t[2],t[4]],r={};for(let l=0;l<i.length;l+=1)r=x(r,i[l]);return{c(){e=P("span"),ue(e,r)},m(l,a){M(l,e,a),t[8](e),n||(o=[je(t[2].action(e)),z(e,"m-keydown",t[3])],n=!0)},p(l,a){ue(e,r=we(i,[a&4&&l[2],a&16&&l[4]]))},i:ke,o:ke,d(l){l&&T(e),t[8](null),n=!1,qe(o)}}}function g1(t){let e;const n=t[7].default,o=pe(n,t,t[6],Da);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&68)&&_e(o,n,i,i[6],e?he(n,i[6],r,h1):ge(i[6]),Da)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function b1(t){let e,n,o,i;const r=[g1,_1],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Le()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Pe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function v1(t,e,n){let o;const i=["asChild","el","thumb"];let r=ae(e,i),{$$slots:l={},$$scope:a}=e,{asChild:s=!1}=e,{el:u=void 0}=e,{thumb:f}=e;const{getAttrs:c}=Bc(),d=Hn(),m=c("thumb");function h(_){Oe[_?"unshift":"push"](()=>{u=_,n(0,u)})}return t.$$set=_=>{e=x(x({},e),Re(_)),n(4,r=ae(e,i)),"asChild"in _&&n(1,s=_.asChild),"el"in _&&n(0,u=_.el),"thumb"in _&&n(5,f=_.thumb),"$$scope"in _&&n(6,a=_.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=f),t.$$.dirty&4&&Object.assign(o,m)},[u,s,o,d,r,f,a,l,h]}class y1 extends ve{constructor(e){super(),be(this,e,v1,b1,de,{asChild:1,el:0,thumb:5})}}function Vc(){return{NAME:"tooltip",PARTS:["arrow","content","trigger"]}}function w1(t){const{NAME:e,PARTS:n}=Vc(),o=Gn(e,n),i={...r_({positioning:{placement:"top",gutter:0},openDelay:700,...ko(t),forceVisible:!0}),getAttrs:o};return cr(e,i),{...i,updateOption:jn(i.options)}}function ql(){const{NAME:t}=Vc();return dr(t)}function k1(t){const n={...{side:"top",align:"center",sideOffset:1},...t},{options:{positioning:o}}=ql();C0(o)({...n})}const C1=t=>({ids:t&1}),La=t=>({ids:t[0]});function A1(t){let e;const n=t[12].default,o=pe(n,t,t[11],La);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,[r]){o&&o.p&&(!e||r&2049)&&_e(o,n,i,i[11],e?he(n,i[11],r,C1):ge(i[11]),La)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function S1(t,e,n){let o,{$$slots:i={},$$scope:r}=e,{closeOnEscape:l=void 0}=e,{portal:a=void 0}=e,{closeOnPointerDown:s=void 0}=e,{openDelay:u=void 0}=e,{closeDelay:f=void 0}=e,{open:c=void 0}=e,{onOpenChange:d=void 0}=e,{disableHoverableContent:m=void 0}=e,{group:h=void 0}=e;const{states:{open:_},updateOption:g,ids:w}=w1({closeOnEscape:l,portal:a,closeOnPointerDown:s,openDelay:u,closeDelay:f,forceVisible:!0,defaultOpen:c,disableHoverableContent:m,group:h,onOpenChange:({next:k})=>(c!==k&&(d==null||d(k),n(2,c=k)),k),positioning:{gutter:0,offset:{mainAxis:1}}}),A=sn([w.content,w.trigger],([k,E])=>({content:k,trigger:E}));return fe(t,A,k=>n(0,o=k)),t.$$set=k=>{"closeOnEscape"in k&&n(3,l=k.closeOnEscape),"portal"in k&&n(4,a=k.portal),"closeOnPointerDown"in k&&n(5,s=k.closeOnPointerDown),"openDelay"in k&&n(6,u=k.openDelay),"closeDelay"in k&&n(7,f=k.closeDelay),"open"in k&&n(2,c=k.open),"onOpenChange"in k&&n(8,d=k.onOpenChange),"disableHoverableContent"in k&&n(9,m=k.disableHoverableContent),"group"in k&&n(10,h=k.group),"$$scope"in k&&n(11,r=k.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&c!==void 0&&_.set(c),t.$$.dirty&8&&g("closeOnEscape",l),t.$$.dirty&16&&g("portal",a),t.$$.dirty&32&&g("closeOnPointerDown",s),t.$$.dirty&64&&g("openDelay",u),t.$$.dirty&128&&g("closeDelay",f),t.$$.dirty&1024&&g("group",h),t.$$.dirty&512&&g("disableHoverableContent",m)},[o,A,c,l,a,s,u,f,d,m,h,r,i]}class T1 extends ve{constructor(e){super(),be(this,e,S1,A1,de,{closeOnEscape:3,portal:4,closeOnPointerDown:5,openDelay:6,closeDelay:7,open:2,onOpenChange:8,disableHoverableContent:9,group:10})}}const M1=t=>({builder:t[0]&256}),$a=t=>({builder:t[8]}),I1=t=>({builder:t[0]&256}),Fa=t=>({builder:t[8]}),P1=t=>({builder:t[0]&256}),qa=t=>({builder:t[8]}),O1=t=>({builder:t[0]&256}),ja=t=>({builder:t[8]}),N1=t=>({builder:t[0]&256}),Ba=t=>({builder:t[8]}),E1=t=>({builder:t[0]&256}),Va=t=>({builder:t[8]});function R1(t){let e,n,o,i;const r=t[28].default,l=pe(r,t,t[27],$a);let a=[t[8],t[13]],s={};for(let u=0;u<a.length;u+=1)s=x(s,a[u]);return{c(){e=P("div"),l&&l.c(),ue(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[33](e),n=!0,o||(i=[je(t[8].action(e)),z(e,"m-pointerdown",t[12]),z(e,"m-pointerenter",t[12])],o=!0)},p(u,f){l&&l.p&&(!n||f[0]&134217984)&&_e(l,r,u,u[27],n?he(r,u[27],f,M1):ge(u[27]),$a),ue(e,s=we(a,[f[0]&256&&u[8],f[0]&8192&&u[13]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[33](null),o=!1,qe(i)}}}function D1(t){let e,n,o,i,r;const l=t[28].default,a=pe(l,t,t[27],Fa);let s=[t[8],t[13]],u={};for(let f=0;f<s.length;f+=1)u=x(u,s[f]);return{c(){e=P("div"),a&&a.c(),ue(e,u)},m(f,c){M(f,e,c),a&&a.m(e,null),t[32](e),o=!0,i||(r=[je(t[8].action(e)),z(e,"m-pointerdown",t[12]),z(e,"m-pointerenter",t[12])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&134217984)&&_e(a,l,t,t[27],o?he(l,t[27],c,I1):ge(t[27]),Fa),ue(e,u=we(s,[c[0]&256&&t[8],c[0]&8192&&t[13]]))},i(f){o||(C(a,f),n&&n.end(1),o=!0)},o(f){S(a,f),f&&(n=xt(e,t[5],t[6])),o=!1},d(f){f&&T(e),a&&a.d(f),t[32](null),f&&n&&n.end(),i=!1,qe(r)}}}function L1(t){let e,n,o,i,r;const l=t[28].default,a=pe(l,t,t[27],qa);let s=[t[8],t[13]],u={};for(let f=0;f<s.length;f+=1)u=x(u,s[f]);return{c(){e=P("div"),a&&a.c(),ue(e,u)},m(f,c){M(f,e,c),a&&a.m(e,null),t[31](e),o=!0,i||(r=[je(t[8].action(e)),z(e,"m-pointerdown",t[12]),z(e,"m-pointerenter",t[12])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&134217984)&&_e(a,l,t,t[27],o?he(l,t[27],c,P1):ge(t[27]),qa),ue(e,u=we(s,[c[0]&256&&t[8],c[0]&8192&&t[13]]))},i(f){o||(C(a,f),f&&(n||ot(()=>{n=Jt(e,t[3],t[4]),n.start()})),o=!0)},o(f){S(a,f),o=!1},d(f){f&&T(e),a&&a.d(f),t[31](null),i=!1,qe(r)}}}function $1(t){let e,n,o,i,r,l;const a=t[28].default,s=pe(a,t,t[27],ja);let u=[t[8],t[13]],f={};for(let c=0;c<u.length;c+=1)f=x(f,u[c]);return{c(){e=P("div"),s&&s.c(),ue(e,f)},m(c,d){M(c,e,d),s&&s.m(e,null),t[30](e),i=!0,r||(l=[je(t[8].action(e)),z(e,"m-pointerdown",t[12]),z(e,"m-pointerenter",t[12])],r=!0)},p(c,d){t=c,s&&s.p&&(!i||d[0]&134217984)&&_e(s,a,t,t[27],i?he(a,t[27],d,O1):ge(t[27]),ja),ue(e,f=we(u,[d[0]&256&&t[8],d[0]&8192&&t[13]]))},i(c){i||(C(s,c),c&&ot(()=>{i&&(o&&o.end(1),n=Jt(e,t[3],t[4]),n.start())}),i=!0)},o(c){S(s,c),n&&n.invalidate(),c&&(o=xt(e,t[5],t[6])),i=!1},d(c){c&&T(e),s&&s.d(c),t[30](null),c&&o&&o.end(),r=!1,qe(l)}}}function F1(t){let e,n,o,i,r;const l=t[28].default,a=pe(l,t,t[27],Ba);let s=[t[8],t[13]],u={};for(let f=0;f<s.length;f+=1)u=x(u,s[f]);return{c(){e=P("div"),a&&a.c(),ue(e,u)},m(f,c){M(f,e,c),a&&a.m(e,null),t[29](e),o=!0,i||(r=[je(t[8].action(e)),z(e,"m-pointerdown",t[12]),z(e,"m-pointerenter",t[12])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&134217984)&&_e(a,l,t,t[27],o?he(l,t[27],c,N1):ge(t[27]),Ba),ue(e,u=we(s,[c[0]&256&&t[8],c[0]&8192&&t[13]]))},i(f){o||(C(a,f),f&&ot(()=>{o&&(n||(n=Yt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(f){S(a,f),f&&(n||(n=Yt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(f){f&&T(e),a&&a.d(f),t[29](null),f&&n&&n.end(),i=!1,qe(r)}}}function q1(t){let e;const n=t[28].default,o=pe(n,t,t[27],Va);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r[0]&134217984)&&_e(o,n,i,i[27],e?he(n,i[27],r,E1):ge(i[27]),Va)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function j1(t){let e,n,o,i;const r=[q1,F1,$1,L1,D1,R1],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=Le()},m(s,u){~e&&l[e].m(s,u),M(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Ie(),S(l[f],1,1,()=>{l[f]=null}),Pe()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),~e&&l[e].d(s)}}}function B1(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","id","side","align","sideOffset","alignOffset","collisionPadding","avoidCollisions","collisionBoundary","sameWidth","fitViewport","strategy","overlap","el"];let r=ae(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:h=void 0}=e,{outTransitionConfig:_=void 0}=e,{asChild:g=!1}=e,{id:w=void 0}=e,{side:A="top"}=e,{align:k="center"}=e,{sideOffset:E=0}=e,{alignOffset:D=0}=e,{collisionPadding:R=8}=e,{avoidCollisions:V=!0}=e,{collisionBoundary:F=void 0}=e,{sameWidth:L=!1}=e,{fitViewport:U=!1}=e,{strategy:y="absolute"}=e,{overlap:b=!1}=e,{el:I=void 0}=e;const{elements:{content:O},states:{open:W},ids:$,getAttrs:Z}=ql();fe(t,O,j=>n(26,a=j)),fe(t,W,j=>n(9,l=j));const ee=Hn(),Q=Z("content");function K(j){Oe[j?"unshift":"push"](()=>{I=j,n(0,I)})}function te(j){Oe[j?"unshift":"push"](()=>{I=j,n(0,I)})}function ne(j){Oe[j?"unshift":"push"](()=>{I=j,n(0,I)})}function p(j){Oe[j?"unshift":"push"](()=>{I=j,n(0,I)})}function H(j){Oe[j?"unshift":"push"](()=>{I=j,n(0,I)})}return t.$$set=j=>{e=x(x({},e),Re(j)),n(13,r=ae(e,i)),"transition"in j&&n(1,f=j.transition),"transitionConfig"in j&&n(2,c=j.transitionConfig),"inTransition"in j&&n(3,d=j.inTransition),"inTransitionConfig"in j&&n(4,m=j.inTransitionConfig),"outTransition"in j&&n(5,h=j.outTransition),"outTransitionConfig"in j&&n(6,_=j.outTransitionConfig),"asChild"in j&&n(7,g=j.asChild),"id"in j&&n(14,w=j.id),"side"in j&&n(15,A=j.side),"align"in j&&n(16,k=j.align),"sideOffset"in j&&n(17,E=j.sideOffset),"alignOffset"in j&&n(18,D=j.alignOffset),"collisionPadding"in j&&n(19,R=j.collisionPadding),"avoidCollisions"in j&&n(20,V=j.avoidCollisions),"collisionBoundary"in j&&n(21,F=j.collisionBoundary),"sameWidth"in j&&n(22,L=j.sameWidth),"fitViewport"in j&&n(23,U=j.fitViewport),"strategy"in j&&n(24,y=j.strategy),"overlap"in j&&n(25,b=j.overlap),"el"in j&&n(0,I=j.el),"$$scope"in j&&n(27,u=j.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&16384&&w&&$.content.set(w),t.$$.dirty[0]&67108864&&n(8,o=a),t.$$.dirty[0]&256&&Object.assign(o,Q),t.$$.dirty[0]&67076608&&l&&k1({side:A,align:k,sideOffset:E,alignOffset:D,collisionPadding:R,avoidCollisions:V,collisionBoundary:F,sameWidth:L,fitViewport:U,strategy:y,overlap:b})},[I,f,c,d,m,h,_,g,o,l,O,W,ee,r,w,A,k,E,D,R,V,F,L,U,y,b,a,u,s,K,te,ne,p,H]}let V1=class extends ve{constructor(e){super(),be(this,e,B1,j1,de,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,id:14,side:15,align:16,sideOffset:17,alignOffset:18,collisionPadding:19,avoidCollisions:20,collisionBoundary:21,sameWidth:22,fitViewport:23,strategy:24,overlap:25,el:0},null,[-1,-1])}};const G1=t=>({builder:t&4}),Ga=t=>({builder:t[2]}),H1=t=>({builder:t&4}),Ha=t=>({builder:t[2]});function W1(t){let e,n,o,i;const r=t[9].default,l=pe(r,t,t[8],Ga);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=x(s,a[u]);return{c(){e=P("button"),l&&l.c(),ue(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[10](e),n=!0,o||(i=[je(t[2].action(e)),z(e,"m-blur",t[4]),z(e,"m-focus",t[4]),z(e,"m-keydown",t[4]),z(e,"m-pointerdown",t[4]),z(e,"m-pointerenter",t[4]),z(e,"m-pointerleave",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&260)&&_e(l,r,u,u[8],n?he(r,u[8],f,G1):ge(u[8]),Ga),ue(e,s=we(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(C(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[10](null),o=!1,qe(i)}}}function K1(t){let e;const n=t[9].default,o=pe(n,t,t[8],Ha);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&260)&&_e(o,n,i,i[8],e?he(n,i[8],r,H1):ge(i[8]),Ha)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function U1(t){let e,n,o,i;const r=[K1,W1],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Le()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Pe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function Y1(t,e,n){let o;const i=["asChild","id","el"];let r=ae(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{trigger:d},ids:m,getAttrs:h}=ql();fe(t,d,A=>n(7,l=A));const _=Hn(),g=h("trigger");function w(A){Oe[A?"unshift":"push"](()=>{c=A,n(0,c)})}return t.$$set=A=>{e=x(x({},e),Re(A)),n(5,r=ae(e,i)),"asChild"in A&&n(1,u=A.asChild),"id"in A&&n(6,f=A.id),"el"in A&&n(0,c=A.el),"$$scope"in A&&n(8,s=A.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&f&&m.trigger.set(f),t.$$.dirty&128&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,g)},[c,u,o,d,_,r,f,l,s,a,w]}class X1 extends ve{constructor(e){super(),be(this,e,Y1,U1,de,{asChild:1,id:6,el:0})}}function J1(t){let e;const n=t[5].default,o=pe(n,t,t[8],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&256)&&_e(o,n,i,i[8],e?he(n,i[8],r,null):ge(i[8]),null)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function x1(t){let e,n;const o=[{builders:t[3]},{class:Fe(ho({variant:t[1],size:t[2],className:t[0]}))},{type:"button"},t[4]];let i={$$slots:{default:[J1]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=x(i,o[r]);return e=new k0({props:i}),e.$on("click",t[6]),e.$on("keydown",t[7]),{c(){J(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&31?we(o,[l&8&&{builders:r[3]},l&7&&{class:Fe(ho({variant:r[1],size:r[2],className:r[0]}))},o[2],l&16&&rt(r[4])]):{};l&256&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function Z1(t,e,n){const o=["class","variant","size","builders"];let i=ae(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{variant:s="default"}=e,{size:u="default"}=e,{builders:f=[]}=e;function c(m){oe.call(this,t,m)}function d(m){oe.call(this,t,m)}return t.$$set=m=>{e=x(x({},e),Re(m)),n(4,i=ae(e,o)),"class"in m&&n(0,a=m.class),"variant"in m&&n(1,s=m.variant),"size"in m&&n(2,u=m.size),"builders"in m&&n(3,f=m.builders),"$$scope"in m&&n(8,l=m.$$scope)},[a,s,u,f,i,r,c,d,l]}class Et extends ve{constructor(e){super(),be(this,e,Z1,x1,de,{class:0,variant:1,size:2,builders:3})}}var Wa=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Tt=t=>!t||typeof t!="object"||Object.keys(t).length===0,Q1=(t,e)=>JSON.stringify(t)===JSON.stringify(e);function Gc(t,e){t.forEach(function(n){Array.isArray(n)?Gc(n,e):e.push(n)})}function Hc(t){let e=[];return Gc(t,e),e}var Wc=(...t)=>Hc(t).filter(Boolean),Kc=(t,e)=>{let n={},o=Object.keys(t),i=Object.keys(e);for(let r of o)if(i.includes(r)){let l=t[r],a=e[r];typeof l=="object"&&typeof a=="object"?n[r]=Kc(l,a):Array.isArray(l)||Array.isArray(a)?n[r]=Wc(a,l):n[r]=a+" "+l}else n[r]=t[r];for(let r of i)o.includes(r)||(n[r]=e[r]);return n},Ka=t=>!t||typeof t!="string"?t:t.replace(/\s+/g," ").trim(),z1={twMerge:!0,twMergeConfig:{},responsiveVariants:!1},Uc=t=>t||void 0,Yo=(...t)=>Uc(Hc(t).filter(Boolean).join(" ")),Br=null,tn={},ll=!1,Ro=(...t)=>e=>e.twMerge?((!Br||ll)&&(ll=!1,Br=Tt(tn)?dc:Km({...tn,extend:{theme:tn.theme,classGroups:tn.classGroups,conflictingClassGroupModifiers:tn.conflictingClassGroupModifiers,conflictingClassGroups:tn.conflictingClassGroups,...tn.extend}})),Uc(Br(Yo(t)))):Yo(t),Ua=(t,e)=>{for(let n in e)t.hasOwnProperty(n)?t[n]=Yo(t[n],e[n]):t[n]=e[n];return t},eb=(t,e)=>{let{extend:n=null,slots:o={},variants:i={},compoundVariants:r=[],compoundSlots:l=[],defaultVariants:a={}}=t,s={...z1,...e},u=n!=null&&n.base?Yo(n.base,t==null?void 0:t.base):t==null?void 0:t.base,f=n!=null&&n.variants&&!Tt(n.variants)?Kc(i,n.variants):i,c=n!=null&&n.defaultVariants&&!Tt(n.defaultVariants)?{...n.defaultVariants,...a}:a;!Tt(s.twMergeConfig)&&!Q1(s.twMergeConfig,tn)&&(ll=!0,tn=s.twMergeConfig);let d=Tt(n==null?void 0:n.slots),m=Tt(o)?{}:{base:Yo(t==null?void 0:t.base,d&&(n==null?void 0:n.base)),...o},h=d?m:Ua({...n==null?void 0:n.slots},Tt(m)?{base:t==null?void 0:t.base}:m),_=w=>{if(Tt(f)&&Tt(o)&&d)return Ro(u,w==null?void 0:w.class,w==null?void 0:w.className)(s);if(r&&!Array.isArray(r))throw new TypeError(`The "compoundVariants" prop must be an array. Received: ${typeof r}`);if(l&&!Array.isArray(l))throw new TypeError(`The "compoundSlots" prop must be an array. Received: ${typeof l}`);let A=(b,I,O=[],W)=>{let $=O;if(typeof I=="string")$=$.concat(Ka(I).split(" ").map(Z=>`${b}:${Z}`));else if(Array.isArray(I))$=$.concat(I.reduce((Z,ee)=>Z.concat(`${b}:${ee}`),[]));else if(typeof I=="object"&&typeof W=="string"){for(let Z in I)if(I.hasOwnProperty(Z)&&Z===W){let ee=I[Z];if(ee&&typeof ee=="string"){let Q=Ka(ee);$[W]?$[W]=$[W].concat(Q.split(" ").map(K=>`${b}:${K}`)):$[W]=Q.split(" ").map(K=>`${b}:${K}`)}else Array.isArray(ee)&&ee.length>0&&($[W]=ee.reduce((Q,K)=>Q.concat(`${b}:${K}`),[]))}}return $},k=(b,I=f,O=null,W=null)=>{var $;let Z=I[b];if(!Z||Tt(Z))return null;let ee=($=W==null?void 0:W[b])!=null?$:w==null?void 0:w[b];if(ee===null)return null;let Q=Wa(ee),K=Array.isArray(s.responsiveVariants)&&s.responsiveVariants.length>0||s.responsiveVariants===!0,te=c==null?void 0:c[b],ne=[];if(typeof Q=="object"&&K)for(let[j,ie]of Object.entries(Q)){let re=Z[ie];if(j==="initial"){te=ie;continue}Array.isArray(s.responsiveVariants)&&!s.responsiveVariants.includes(j)||(ne=A(j,re,ne,O))}let p=Q!=null&&typeof Q!="object"?Q:Wa(te),H=Z[p]||Z.false;return typeof ne=="object"&&typeof O=="string"&&ne[O]?Ua(ne,H):ne.length>0?(ne.push(H),ne):H},E=()=>f?Object.keys(f).map(b=>k(b,f)):null,D=(b,I)=>{if(!f||typeof f!="object")return null;let O=new Array;for(let W in f){let $=k(W,f,b,I),Z=b==="base"&&typeof $=="string"?$:$&&$[b];Z&&(O[O.length]=Z)}return O},R={};for(let b in w)w[b]!==void 0&&(R[b]=w[b]);let V=(b,I)=>{var O;let W=typeof(w==null?void 0:w[b])=="object"?{[b]:(O=w[b])==null?void 0:O.initial}:{};return{...c,...R,...W,...I}},F=(b=[],I)=>{let O=[];for(let{class:W,className:$,...Z}of b){let ee=!0;for(let[Q,K]of Object.entries(Z)){let te=V(Q,I);if(Array.isArray(K)){if(!K.includes(te[Q])){ee=!1;break}}else if(te[Q]!==K){ee=!1;break}}ee&&(W&&O.push(W),$&&O.push($))}return O},L=b=>{let I=F(r,b),O=F(n==null?void 0:n.compoundVariants,b);return Wc(O,I)},U=b=>{let I=L(b);if(!Array.isArray(I))return I;let O={};for(let W of I)if(typeof W=="string"&&(O.base=Ro(O.base,W)(s)),typeof W=="object")for(let[$,Z]of Object.entries(W))O[$]=Ro(O[$],Z)(s);return O},y=b=>{if(l.length<1)return null;let I={};for(let{slots:O=[],class:W,className:$,...Z}of l){if(!Tt(Z)){let ee=!0;for(let Q of Object.keys(Z)){let K=V(Q,b)[Q];if(K===void 0||(Array.isArray(Z[Q])?!Z[Q].includes(K):Z[Q]!==K)){ee=!1;break}}if(!ee)continue}for(let ee of O)I[ee]=I[ee]||[],I[ee].push([W,$])}return I};if(!Tt(o)||!d){let b={};if(typeof h=="object"&&!Tt(h))for(let I of Object.keys(h))b[I]=O=>{var W,$;return Ro(h[I],D(I,O),((W=U(O))!=null?W:[])[I],(($=y(O))!=null?$:[])[I],O==null?void 0:O.class,O==null?void 0:O.className)(s)};return b}return Ro(u,E(),L(),w==null?void 0:w.class,w==null?void 0:w.className)(s)},g=()=>{if(!(!f||typeof f!="object"))return Object.keys(f)};return _.variantKeys=g(),_.extend=n,_.base=u,_.slots=h,_.variants=f,_.defaultVariants=c,_.compoundSlots=l,_.compoundVariants=r,_};const ho=eb({base:"inline-flex items-center justify-center rounded-md text-sm font-medium whitespace-nowrap ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}});function tb(t){let e;const n=t[2].default,o=pe(n,t,t[3],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&8)&&_e(o,n,i,i[3],e?he(n,i[3],r,null):ge(i[3]),null)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function nb(t){let e,n;const o=[{class:Fe("text-lg font-semibold leading-none tracking-tight",t[0])},t[1]];let i={$$slots:{default:[tb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=x(i,o[r]);return e=new K0({props:i}),{c(){J(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&3?we(o,[l&1&&{class:Fe("text-lg font-semibold leading-none tracking-tight",r[0])},l&2&&rt(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function ob(t,e,n){const o=["class"];let i=ae(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=x(x({},e),Re(s)),n(1,i=ae(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,l=s.$$scope)},[a,i,r,l]}class Kn extends ve{constructor(e){super(),be(this,e,ob,nb,de,{class:0})}}function ib(t){let e;const n=t[1].default,o=pe(n,t,t[2],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&4)&&_e(o,n,i,i[2],e?he(n,i[2],r,null):ge(i[2]),null)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function rb(t){let e,n;const o=[t[0]];let i={$$slots:{default:[ib]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=x(i,o[r]);return e=new rg({props:i}),{c(){J(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&1?we(o,[rt(r[0])]):{};l&4&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function lb(t,e,n){const o=[];let i=ae(e,o),{$$slots:r={},$$scope:l}=e;return t.$$set=a=>{e=x(x({},e),Re(a)),n(0,i=ae(e,o)),"$$scope"in a&&n(2,l=a.$$scope)},[i,r,l]}class sb extends ve{constructor(e){super(),be(this,e,lb,rb,de,{})}}function ab(t){let e,n,o;const i=t[3].default,r=pe(i,t,t[2],null);let l=[{class:n=Fe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=x(a,l[s]);return{c(){e=P("div"),r&&r.c(),ue(e,a)},m(s,u){M(s,e,u),r&&r.m(e,null),o=!0},p(s,[u]){r&&r.p&&(!o||u&4)&&_e(r,i,s,s[2],o?he(i,s[2],u,null):ge(s[2]),null),ue(e,a=we(l,[(!o||u&1&&n!==(n=Fe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(C(r,s),o=!0)},o(s){S(r,s),o=!1},d(s){s&&T(e),r&&r.d(s)}}}function ub(t,e,n){const o=["class"];let i=ae(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=x(x({},e),Re(s)),n(1,i=ae(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,i,l,r]}class Ao extends ve{constructor(e){super(),be(this,e,ub,ab,de,{class:0})}}function fb(t){let e,n,o;const i=t[3].default,r=pe(i,t,t[2],null);let l=[{class:n=Fe("flex flex-col space-y-1.5 text-center sm:text-left",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=x(a,l[s]);return{c(){e=P("div"),r&&r.c(),ue(e,a)},m(s,u){M(s,e,u),r&&r.m(e,null),o=!0},p(s,[u]){r&&r.p&&(!o||u&4)&&_e(r,i,s,s[2],o?he(i,s[2],u,null):ge(s[2]),null),ue(e,a=we(l,[(!o||u&1&&n!==(n=Fe("flex flex-col space-y-1.5 text-center sm:text-left",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(C(r,s),o=!0)},o(s){S(r,s),o=!1},d(s){s&&T(e),r&&r.d(s)}}}function cb(t,e,n){const o=["class"];let i=ae(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=x(x({},e),Re(s)),n(1,i=ae(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,i,l,r]}class Un extends ve{constructor(e){super(),be(this,e,cb,fb,de,{class:0})}}function Yc(t,{delay:e=0,duration:n=400,easing:o=ar}={}){const i=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:o,css:r=>`opacity: ${r*i}`}}function db(t){let e,n;const o=[{transition:t[1]},{transitionConfig:t[2]},{class:Fe("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm",t[0])},t[3]];let i={};for(let r=0;r<o.length;r+=1)i=x(i,o[r]);return e=new Og({props:i}),{c(){J(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&15?we(o,[l&2&&{transition:r[1]},l&4&&{transitionConfig:r[2]},l&1&&{class:Fe("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm",r[0])},l&8&&rt(r[3])]):{};e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function mb(t,e,n){const o=["class","transition","transitionConfig"];let i=ae(e,o),{class:r=void 0}=e,{transition:l=Yc}=e,{transitionConfig:a={duration:150}}=e;return t.$$set=s=>{e=x(x({},e),Re(s)),n(3,i=ae(e,o)),"class"in s&&n(0,r=s.class),"transition"in s&&n(1,l=s.transition),"transitionConfig"in s&&n(2,a=s.transitionConfig)},[r,l,a,i]}class pb extends ve{constructor(e){super(),be(this,e,mb,db,de,{class:0,transition:1,transitionConfig:2})}}/**
 * @license lucide-svelte v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ya={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};function Xa(t,e,n){const o=t.slice();return o[11]=e[n][0],o[12]=e[n][1],o}function Vr(t){let e,n=[t[12]],o={};for(let i=0;i<n.length;i+=1)o=x(o,n[i]);return{c(){e=ur(t[11]),Ri(e,o)},m(i,r){M(i,e,r)},p(i,r){Ri(e,o=we(n,[r&32&&i[12]]))},d(i){i&&T(e)}}}function Ja(t){let e=t[11],n,o=t[11]&&Vr(t);return{c(){o&&o.c(),n=Le()},m(i,r){o&&o.m(i,r),M(i,n,r)},p(i,r){i[11]?e?de(e,i[11])?(o.d(1),o=Vr(i),e=i[11],o.c(),o.m(n.parentNode,n)):o.p(i,r):(o=Vr(i),e=i[11],o.c(),o.m(n.parentNode,n)):e&&(o.d(1),o=null,e=i[11])},d(i){i&&T(n),o&&o.d(i)}}}function hb(t){let e,n,o,i,r,l=Ke(t[5]),a=[];for(let d=0;d<l.length;d+=1)a[d]=Ja(Xa(t,l,d));const s=t[10].default,u=pe(s,t,t[9],null);let f=[Ya,t[7],{width:t[2]},{height:t[2]},{stroke:t[1]},{"stroke-width":o=t[4]?Number(t[3])*24/Number(t[2]):t[3]},{class:i=t[6]("lucide-icon","lucide",t[0]?`lucide-${t[0]}`:"",t[8].class)}],c={};for(let d=0;d<f.length;d+=1)c=x(c,f[d]);return{c(){e=ur("svg");for(let d=0;d<a.length;d+=1)a[d].c();n=Le(),u&&u.c(),Ri(e,c)},m(d,m){M(d,e,m);for(let h=0;h<a.length;h+=1)a[h]&&a[h].m(e,null);v(e,n),u&&u.m(e,null),r=!0},p(d,[m]){if(m&32){l=Ke(d[5]);let h;for(h=0;h<l.length;h+=1){const _=Xa(d,l,h);a[h]?a[h].p(_,m):(a[h]=Ja(_),a[h].c(),a[h].m(e,n))}for(;h<a.length;h+=1)a[h].d(1);a.length=l.length}u&&u.p&&(!r||m&512)&&_e(u,s,d,d[9],r?he(s,d[9],m,null):ge(d[9]),null),Ri(e,c=we(f,[Ya,m&128&&d[7],(!r||m&4)&&{width:d[2]},(!r||m&4)&&{height:d[2]},(!r||m&2)&&{stroke:d[1]},(!r||m&28&&o!==(o=d[4]?Number(d[3])*24/Number(d[2]):d[3]))&&{"stroke-width":o},(!r||m&257&&i!==(i=d[6]("lucide-icon","lucide",d[0]?`lucide-${d[0]}`:"",d[8].class)))&&{class:i}]))},i(d){r||(C(u,d),r=!0)},o(d){S(u,d),r=!1},d(d){d&&T(e),ht(a,d),u&&u.d(d)}}}function _b(t,e,n){const o=["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode","mergeClasses"];let i=ae(e,o),{$$slots:r={},$$scope:l}=e,{name:a=void 0}=e,{color:s="currentColor"}=e,{size:u=24}=e,{strokeWidth:f=2}=e,{absoluteStrokeWidth:c=!1}=e,{iconNode:d}=e;const m=(...h)=>h.filter((_,g,w)=>!!_&&w.indexOf(_)===g).join(" ");return t.$$set=h=>{n(8,e=x(x({},e),Re(h))),n(7,i=ae(e,o)),"name"in h&&n(0,a=h.name),"color"in h&&n(1,s=h.color),"size"in h&&n(2,u=h.size),"strokeWidth"in h&&n(3,f=h.strokeWidth),"absoluteStrokeWidth"in h&&n(4,c=h.absoluteStrokeWidth),"iconNode"in h&&n(5,d=h.iconNode),"$$scope"in h&&n(9,l=h.$$scope)},e=Re(e),[a,s,u,f,c,d,m,i,e,l,r]}class gb extends ve{constructor(e){super(),be(this,e,_b,hb,de,{name:0,color:1,size:2,strokeWidth:3,absoluteStrokeWidth:4,iconNode:5,mergeClasses:6})}get mergeClasses(){return this.$$.ctx[6]}}function bb(t){let e;const n=t[2].default,o=pe(n,t,t[3],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&8)&&_e(o,n,i,i[3],e?he(n,i[3],r,null):ge(i[3]),null)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function vb(t){let e,n;const o=[{name:"x"},t[1],{iconNode:t[0]}];let i={$$slots:{default:[bb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=x(i,o[r]);return e=new gb({props:i}),{c(){J(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&3?we(o,[o[0],l&2&&rt(r[1]),l&1&&{iconNode:r[0]}]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function yb(t,e,n){let{$$slots:o={},$$scope:i}=e;const r=[["path",{d:"M18 6 6 18"}],["path",{d:"m6 6 12 12"}]];return t.$$set=l=>{n(1,e=x(x({},e),Re(l))),"$$scope"in l&&n(3,i=l.$$scope)},e=Re(e),[r,e,o,i]}class wb extends ve{constructor(e){super(),be(this,e,yb,vb,de,{})}}function kb(t){let e,n,o,i;return e=new wb({props:{class:"h-4 w-4"}}),{c(){J(e.$$.fragment),n=G(),o=P("span"),o.textContent="Close",N(o,"class","sr-only")},m(r,l){Y(e,r,l),M(r,n,l),M(r,o,l),i=!0},p:ke,i(r){i||(C(e.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),i=!1},d(r){r&&(T(n),T(o)),X(e,r)}}}function Cb(t){let e,n,o;const i=t[4].default,r=pe(i,t,t[5],null);return n=new Q0({props:{class:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",$$slots:{default:[kb]},$$scope:{ctx:t}}}),{c(){r&&r.c(),e=G(),J(n.$$.fragment)},m(l,a){r&&r.m(l,a),M(l,e,a),Y(n,l,a),o=!0},p(l,a){r&&r.p&&(!o||a&32)&&_e(r,i,l,l[5],o?he(i,l[5],a,null):ge(l[5]),null);const s={};a&32&&(s.$$scope={dirty:a,ctx:l}),n.$set(s)},i(l){o||(C(r,l),C(n.$$.fragment,l),o=!0)},o(l){S(r,l),S(n.$$.fragment,l),o=!1},d(l){l&&T(e),r&&r.d(l),X(n,l)}}}function Ab(t){let e,n,o,i;e=new pb({});const r=[{transition:t[1]},{transitionConfig:t[2]},{class:Fe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg md:w-full",t[0])},t[3]];let l={$$slots:{default:[Cb]},$$scope:{ctx:t}};for(let a=0;a<r.length;a+=1)l=x(l,r[a]);return o=new yg({props:l}),{c(){J(e.$$.fragment),n=G(),J(o.$$.fragment)},m(a,s){Y(e,a,s),M(a,n,s),Y(o,a,s),i=!0},p(a,s){const u=s&15?we(r,[s&2&&{transition:a[1]},s&4&&{transitionConfig:a[2]},s&1&&{class:Fe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg md:w-full",a[0])},s&8&&rt(a[3])]):{};s&32&&(u.$$scope={dirty:s,ctx:a}),o.$set(u)},i(a){i||(C(e.$$.fragment,a),C(o.$$.fragment,a),i=!0)},o(a){S(e.$$.fragment,a),S(o.$$.fragment,a),i=!1},d(a){a&&T(n),X(e,a),X(o,a)}}}function Sb(t){let e,n;return e=new sb({props:{$$slots:{default:[Ab]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,[i]){const r={};i&47&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function Tb(t,e,n){const o=["class","transition","transitionConfig"];let i=ae(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{transition:s=mr}=e,{transitionConfig:u={duration:200}}=e;return t.$$set=f=>{e=x(x({},e),Re(f)),n(3,i=ae(e,o)),"class"in f&&n(0,a=f.class),"transition"in f&&n(1,s=f.transition),"transitionConfig"in f&&n(2,u=f.transitionConfig),"$$scope"in f&&n(5,l=f.$$scope)},[a,s,u,i,r,l]}class Yn extends ve{constructor(e){super(),be(this,e,Tb,Sb,de,{class:0,transition:1,transitionConfig:2})}}function Mb(t){let e;const n=t[2].default,o=pe(n,t,t[3],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&8)&&_e(o,n,i,i[3],e?he(n,i[3],r,null):ge(i[3]),null)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Ib(t){let e,n;const o=[{class:Fe("text-sm text-muted-foreground",t[0])},t[1]];let i={$$slots:{default:[Mb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=x(i,o[r]);return e=new Fg({props:i}),{c(){J(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&3?we(o,[l&1&&{class:Fe("text-sm text-muted-foreground",r[0])},l&2&&rt(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function Pb(t,e,n){const o=["class"];let i=ae(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=x(x({},e),Re(s)),n(1,i=ae(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,l=s.$$scope)},[a,i,r,l]}class Xn extends ve{constructor(e){super(),be(this,e,Pb,Ib,de,{class:0})}}const Jn=q0;function Ob(t){let e,n,o,i,r=[{class:n=Fe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t[1])},t[2]],l={};for(let a=0;a<r.length;a+=1)l=x(l,r[a]);return{c(){e=P("input"),ue(e,l)},m(a,s){M(a,e,s),e.autofocus&&e.focus(),en(e,t[0]),o||(i=[z(e,"input",t[17]),z(e,"blur",t[3]),z(e,"change",t[4]),z(e,"click",t[5]),z(e,"focus",t[6]),z(e,"focusin",t[7]),z(e,"focusout",t[8]),z(e,"keydown",t[9]),z(e,"keypress",t[10]),z(e,"keyup",t[11]),z(e,"mouseover",t[12]),z(e,"mouseenter",t[13]),z(e,"mouseleave",t[14]),z(e,"paste",t[15]),z(e,"input",t[16])],o=!0)},p(a,[s]){ue(e,l=we(r,[s&2&&n!==(n=Fe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a[1]))&&{class:n},s&4&&a[2]])),s&1&&e.value!==a[0]&&en(e,a[0])},i:ke,o:ke,d(a){a&&T(e),o=!1,qe(i)}}}function Nb(t,e,n){const o=["class","value"];let i=ae(e,o),{class:r=void 0}=e,{value:l=void 0}=e;function a(R){oe.call(this,t,R)}function s(R){oe.call(this,t,R)}function u(R){oe.call(this,t,R)}function f(R){oe.call(this,t,R)}function c(R){oe.call(this,t,R)}function d(R){oe.call(this,t,R)}function m(R){oe.call(this,t,R)}function h(R){oe.call(this,t,R)}function _(R){oe.call(this,t,R)}function g(R){oe.call(this,t,R)}function w(R){oe.call(this,t,R)}function A(R){oe.call(this,t,R)}function k(R){oe.call(this,t,R)}function E(R){oe.call(this,t,R)}function D(){l=this.value,n(0,l)}return t.$$set=R=>{e=x(x({},e),Re(R)),n(2,i=ae(e,o)),"class"in R&&n(1,r=R.class),"value"in R&&n(0,l=R.value)},[l,r,i,a,s,u,f,c,d,m,h,_,g,w,A,k,E,D]}class jl extends ve{constructor(e){super(),be(this,e,Nb,Ob,de,{class:1,value:0})}}function Eb(t){let e;const n=t[2].default,o=pe(n,t,t[4],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&16)&&_e(o,n,i,i[4],e?he(n,i[4],r,null):ge(i[4]),null)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Rb(t){let e,n;const o=[{class:Fe("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",t[0])},t[1]];let i={$$slots:{default:[Eb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=x(i,o[r]);return e=new Kg({props:i}),e.$on("mousedown",t[3]),{c(){J(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&3?we(o,[l&1&&{class:Fe("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",r[0])},l&2&&rt(r[1])]):{};l&16&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function Db(t,e,n){const o=["class"];let i=ae(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(u){oe.call(this,t,u)}return t.$$set=u=>{e=x(x({},e),Re(u)),n(1,i=ae(e,o)),"class"in u&&n(0,a=u.class),"$$scope"in u&&n(4,l=u.$$scope)},[a,i,r,s,l]}class ro extends ve{constructor(e){super(),be(this,e,Db,Rb,de,{class:0})}}function Lb(t){let e,n;const o=[{class:Fe("shrink-0 bg-border",t[1]==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t[0])},{orientation:t[1]},{decorative:t[2]},t[3]];let i={};for(let r=0;r<o.length;r+=1)i=x(i,o[r]);return e=new R0({props:i}),{c(){J(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&15?we(o,[l&3&&{class:Fe("shrink-0 bg-border",r[1]==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",r[0])},l&2&&{orientation:r[1]},l&4&&{decorative:r[2]},l&8&&rt(r[3])]):{};e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function $b(t,e,n){const o=["class","orientation","decorative"];let i=ae(e,o),{class:r=void 0}=e,{orientation:l="horizontal"}=e,{decorative:a=void 0}=e;return t.$$set=s=>{e=x(x({},e),Re(s)),n(3,i=ae(e,o)),"class"in s&&n(0,r=s.class),"orientation"in s&&n(1,l=s.orientation),"decorative"in s&&n(2,a=s.decorative)},[r,l,a,i]}class Ct extends ve{constructor(e){super(),be(this,e,$b,Lb,de,{class:0,orientation:1,decorative:2})}}function Fb(t){let e;const n=t[3].default,o=pe(n,t,t[4],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&16)&&_e(o,n,i,i[4],e?he(n,i[4],r,null):ge(i[4]),null)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function qb(t){let e,n;const o=[{class:Fe("text-lg font-semibold",t[0])},{level:t[1]},t[2]];let i={$$slots:{default:[Fb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=x(i,o[r]);return e=new g_({props:i}),{c(){J(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&7?we(o,[l&1&&{class:Fe("text-lg font-semibold",r[0])},l&2&&{level:r[1]},l&4&&rt(r[2])]):{};l&16&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function jb(t,e,n){const o=["class","level"];let i=ae(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{level:s="h3"}=e;return t.$$set=u=>{e=x(x({},e),Re(u)),n(2,i=ae(e,o)),"class"in u&&n(0,a=u.class),"level"in u&&n(1,s=u.level),"$$scope"in u&&n(4,l=u.$$scope)},[a,s,i,r,l]}class Bl extends ve{constructor(e){super(),be(this,e,jb,qb,de,{class:0,level:1})}}const Bb=t=>({builder:t&64}),xa=t=>({builder:t[6]});function Vb(t){let e;const n=t[2].default,o=pe(n,t,t[5],xa);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&96)&&_e(o,n,i,i[5],e?he(n,i[5],r,Bb):ge(i[5]),xa)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Gb(t){let e,n;const o=[{class:Fe(ho(),t[0])},t[1]];let i={$$slots:{default:[Vb,({builder:r})=>({6:r}),({builder:r})=>r?64:0]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=x(i,o[r]);return e=new A_({props:i}),e.$on("click",t[3]),e.$on("keydown",t[4]),{c(){J(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&3?we(o,[l&1&&{class:Fe(ho(),r[0])},l&2&&rt(r[1])]):{};l&96&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function Hb(t,e,n){const o=["class"];let i=ae(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(f){oe.call(this,t,f)}function u(f){oe.call(this,t,f)}return t.$$set=f=>{e=x(x({},e),Re(f)),n(1,i=ae(e,o)),"class"in f&&n(0,a=f.class),"$$scope"in f&&n(5,l=f.$$scope)},[a,i,r,s,u,l]}class Wb extends ve{constructor(e){super(),be(this,e,Hb,Gb,de,{class:0})}}const Kb=t=>({builder:t&64}),Za=t=>({builder:t[6]});function Ub(t){let e;const n=t[2].default,o=pe(n,t,t[5],Za);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&96)&&_e(o,n,i,i[5],e?he(n,i[5],r,Kb):ge(i[5]),Za)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Yb(t){let e,n;const o=[{class:Fe(ho({variant:"outline"}),"mt-2 sm:mt-0",t[0])},t[1]];let i={$$slots:{default:[Ub,({builder:r})=>({6:r}),({builder:r})=>r?64:0]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=x(i,o[r]);return e=new N_({props:i}),e.$on("click",t[3]),e.$on("keydown",t[4]),{c(){J(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&3?we(o,[l&1&&{class:Fe(ho({variant:"outline"}),"mt-2 sm:mt-0",r[0])},l&2&&rt(r[1])]):{};l&96&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function Xb(t,e,n){const o=["class"];let i=ae(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(f){oe.call(this,t,f)}function u(f){oe.call(this,t,f)}return t.$$set=f=>{e=x(x({},e),Re(f)),n(1,i=ae(e,o)),"class"in f&&n(0,a=f.class),"$$scope"in f&&n(5,l=f.$$scope)},[a,i,r,s,u,l]}class Xc extends ve{constructor(e){super(),be(this,e,Xb,Yb,de,{class:0})}}function Jb(t){let e;const n=t[1].default,o=pe(n,t,t[2],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&4)&&_e(o,n,i,i[2],e?he(n,i[2],r,null):ge(i[2]),null)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function xb(t){let e,n;const o=[t[0]];let i={$$slots:{default:[Jb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=x(i,o[r]);return e=new q_({props:i}),{c(){J(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&1?we(o,[rt(r[0])]):{};l&4&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function Zb(t,e,n){const o=[];let i=ae(e,o),{$$slots:r={},$$scope:l}=e;return t.$$set=a=>{e=x(x({},e),Re(a)),n(0,i=ae(e,o)),"$$scope"in a&&n(2,l=a.$$scope)},[i,r,l]}class Qb extends ve{constructor(e){super(),be(this,e,Zb,xb,de,{})}}function zb(t){let e,n,o;const i=t[3].default,r=pe(i,t,t[2],null);let l=[{class:n=Fe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=x(a,l[s]);return{c(){e=P("div"),r&&r.c(),ue(e,a)},m(s,u){M(s,e,u),r&&r.m(e,null),o=!0},p(s,[u]){r&&r.p&&(!o||u&4)&&_e(r,i,s,s[2],o?he(i,s[2],u,null):ge(s[2]),null),ue(e,a=we(l,[(!o||u&1&&n!==(n=Fe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(C(r,s),o=!0)},o(s){S(r,s),o=!1},d(s){s&&T(e),r&&r.d(s)}}}function ev(t,e,n){const o=["class"];let i=ae(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=x(x({},e),Re(s)),n(1,i=ae(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,i,l,r]}class Vl extends ve{constructor(e){super(),be(this,e,ev,zb,de,{class:0})}}function tv(t){let e,n,o;const i=t[3].default,r=pe(i,t,t[2],null);let l=[{class:n=Fe("flex flex-col space-y-2 text-center sm:text-left",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=x(a,l[s]);return{c(){e=P("div"),r&&r.c(),ue(e,a)},m(s,u){M(s,e,u),r&&r.m(e,null),o=!0},p(s,[u]){r&&r.p&&(!o||u&4)&&_e(r,i,s,s[2],o?he(i,s[2],u,null):ge(s[2]),null),ue(e,a=we(l,[(!o||u&1&&n!==(n=Fe("flex flex-col space-y-2 text-center sm:text-left",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(C(r,s),o=!0)},o(s){S(r,s),o=!1},d(s){s&&T(e),r&&r.d(s)}}}function nv(t,e,n){const o=["class"];let i=ae(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=x(x({},e),Re(s)),n(1,i=ae(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,i,l,r]}class Gl extends ve{constructor(e){super(),be(this,e,nv,tv,de,{class:0})}}function ov(t){let e,n;const o=[{transition:t[1]},{transitionConfig:t[2]},{class:Fe("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm ",t[0])},t[3]];let i={};for(let r=0;r<o.length;r+=1)i=x(i,o[r]);return e=new u0({props:i}),{c(){J(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&15?we(o,[l&2&&{transition:r[1]},l&4&&{transitionConfig:r[2]},l&1&&{class:Fe("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm ",r[0])},l&8&&rt(r[3])]):{};e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function iv(t,e,n){const o=["class","transition","transitionConfig"];let i=ae(e,o),{class:r=void 0}=e,{transition:l=Yc}=e,{transitionConfig:a={duration:150}}=e;return t.$$set=s=>{e=x(x({},e),Re(s)),n(3,i=ae(e,o)),"class"in s&&n(0,r=s.class),"transition"in s&&n(1,l=s.transition),"transitionConfig"in s&&n(2,a=s.transitionConfig)},[r,l,a,i]}class rv extends ve{constructor(e){super(),be(this,e,iv,ov,de,{class:0,transition:1,transitionConfig:2})}}function lv(t){let e;const n=t[4].default,o=pe(n,t,t[5],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&32)&&_e(o,n,i,i[5],e?he(n,i[5],r,null):ge(i[5]),null)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function sv(t){let e,n,o,i;e=new rv({});const r=[{transition:t[0]},{transitionConfig:t[1]},{class:Fe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg md:w-full",t[2])},t[3]];let l={$$slots:{default:[lv]},$$scope:{ctx:t}};for(let a=0;a<r.length;a+=1)l=x(l,r[a]);return o=new z_({props:l}),{c(){J(e.$$.fragment),n=G(),J(o.$$.fragment)},m(a,s){Y(e,a,s),M(a,n,s),Y(o,a,s),i=!0},p(a,s){const u=s&15?we(r,[s&1&&{transition:a[0]},s&2&&{transitionConfig:a[1]},s&4&&{class:Fe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg md:w-full",a[2])},s&8&&rt(a[3])]):{};s&32&&(u.$$scope={dirty:s,ctx:a}),o.$set(u)},i(a){i||(C(e.$$.fragment,a),C(o.$$.fragment,a),i=!0)},o(a){S(e.$$.fragment,a),S(o.$$.fragment,a),i=!1},d(a){a&&T(n),X(e,a),X(o,a)}}}function av(t){let e,n;return e=new Qb({props:{$$slots:{default:[sv]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,[i]){const r={};i&47&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function uv(t,e,n){const o=["transition","transitionConfig","class"];let i=ae(e,o),{$$slots:r={},$$scope:l}=e,{transition:a=mr}=e,{transitionConfig:s=void 0}=e,{class:u=void 0}=e;return t.$$set=f=>{e=x(x({},e),Re(f)),n(3,i=ae(e,o)),"transition"in f&&n(0,a=f.transition),"transitionConfig"in f&&n(1,s=f.transitionConfig),"class"in f&&n(2,u=f.class),"$$scope"in f&&n(5,l=f.$$scope)},[a,s,u,i,r,l]}class Hl extends ve{constructor(e){super(),be(this,e,uv,av,de,{transition:0,transitionConfig:1,class:2})}}function fv(t){let e;const n=t[2].default,o=pe(n,t,t[3],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&8)&&_e(o,n,i,i[3],e?he(n,i[3],r,null):ge(i[3]),null)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function cv(t){let e,n;const o=[{class:Fe("text-sm text-muted-foreground",t[0])},t[1]];let i={$$slots:{default:[fv]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=x(i,o[r]);return e=new _0({props:i}),{c(){J(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&3?we(o,[l&1&&{class:Fe("text-sm text-muted-foreground",r[0])},l&2&&rt(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function dv(t,e,n){const o=["class"];let i=ae(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=x(x({},e),Re(s)),n(1,i=ae(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,l=s.$$scope)},[a,i,r,l]}class Wl extends ve{constructor(e){super(),be(this,e,dv,cv,de,{class:0})}}const Kl=f_;function Qa(t,e,n){const o=t.slice();return o[25]=e[n],o}function za(t,e,n){const o=t.slice();return o[28]=e[n],o}function mv(t){let e;return{c(){e=q("Pause Menu")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function pv(t){let e;return{c(){e=q("Unpause any time by pressing 'P'")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function hv(t){let e,n,o,i;return e=new Kn({props:{$$slots:{default:[mv]},$$scope:{ctx:t}}}),o=new Xn({props:{$$slots:{default:[pv]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=G(),J(o.$$.fragment)},m(r,l){Y(e,r,l),M(r,n,l),Y(o,r,l),i=!0},p(r,l){const a={};l[1]&1&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l[1]&1&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function eu(t){let e,n,o,i,r,l=JSON.stringify(t[5].requirements[t[2].difficulty].population_count)+"",a,s,u=JSON.stringify(t[2].townInfo.population_count)+"",f,c,d,m,h=JSON.stringify(t[5].requirements[t[2].difficulty].happiness)+"",_,g,w=JSON.stringify(t[2].townInfo.happiness)+"",A,k,E,D,R=JSON.stringify(t[5].requirements[t[2].difficulty].employment*100)+"",V,F,L=JSON.stringify((t[2].townInfo.employees/t[2].townInfo.population_count||0)*100)+"",U,y,b,I,O,W=JSON.stringify(t[5].requirements[t[2].difficulty].health)+"",$,Z,ee=JSON.stringify(t[2].townInfo.health)+"",Q,K,te,ne,p=JSON.stringify(t[5].requirements[t[2].difficulty].knowledge)+"",H,j,ie=JSON.stringify(t[2].townInfo.knowledge_points)+"",re,Ae,$e;function Me(me,We){return me[2].townInfo.population_count>=me[5].requirements[me[2].difficulty].population_count?gv:_v}let ze=Me(t),ce=ze(t);function Ee(me,We){return me[2].townInfo.happiness>=me[5].requirements[me[2].difficulty].happiness?vv:bv}let He=Ee(t),Be=He(t);function Ue(me,We){return me[2].townInfo.employees/me[2].townInfo.population_count>=me[5].requirements[me[2].difficulty].employment?wv:yv}let Ce=Ue(t),Se=Ce(t);function yt(me,We){return me[2].townInfo.health>=me[5].requirements[me[2].difficulty].health?Cv:kv}let Dt=yt(t),at=Dt(t);function Lt(me,We){return me[2].townInfo.knowledge_points>=me[5].requirements[me[2].difficulty].knowledge?Sv:Av}let ut=Lt(t),mt=ut(t),nt=t[5].requirements[t[2].difficulty].required_plots!=null&&t[5].requirements[t[2].difficulty].required_plots.length>0&&tu(t);return{c(){e=P("div"),e.textContent=`With your difficulty (${t[6]}), you must also have:`,n=G(),o=P("ul"),i=P("li"),ce.c(),r=q(`
                  Population: `),a=q(l),s=q(" - Currently at "),f=q(u),c=G(),d=P("li"),Be.c(),m=q(`
                  Happiness: `),_=q(h),g=q(" - Currently at "),A=q(w),k=G(),E=P("li"),Se.c(),D=q(`
                  Employment: `),V=q(R),F=q("% - Currently at "),U=q(L),y=q("%"),b=G(),I=P("li"),at.c(),O=q(`
                  Health: `),$=q(W),Z=q(" - Currently at "),Q=q(ee),K=G(),te=P("li"),mt.c(),ne=q(`
                  Knowledge: `),H=q(p),j=q(" - Currently at "),re=q(ie),Ae=G(),nt&&nt.c(),$e=Le(),N(e,"class","leading-relaxed text-sm"),N(o,"class","list-inside list-disc leading-relaxedmt-0 text-sm")},m(me,We){M(me,e,We),M(me,n,We),M(me,o,We),v(o,i),ce.m(i,null),v(i,r),v(i,a),v(i,s),v(i,f),v(o,c),v(o,d),Be.m(d,null),v(d,m),v(d,_),v(d,g),v(d,A),v(o,k),v(o,E),Se.m(E,null),v(E,D),v(E,V),v(E,F),v(E,U),v(E,y),v(o,b),v(o,I),at.m(I,null),v(I,O),v(I,$),v(I,Z),v(I,Q),v(o,K),v(o,te),mt.m(te,null),v(te,ne),v(te,H),v(te,j),v(te,re),M(me,Ae,We),nt&&nt.m(me,We),M(me,$e,We)},p(me,We){ze!==(ze=Me(me))&&(ce.d(1),ce=ze(me),ce&&(ce.c(),ce.m(i,r))),We[0]&4&&l!==(l=JSON.stringify(me[5].requirements[me[2].difficulty].population_count)+"")&&se(a,l),We[0]&4&&u!==(u=JSON.stringify(me[2].townInfo.population_count)+"")&&se(f,u),He!==(He=Ee(me))&&(Be.d(1),Be=He(me),Be&&(Be.c(),Be.m(d,m))),We[0]&4&&h!==(h=JSON.stringify(me[5].requirements[me[2].difficulty].happiness)+"")&&se(_,h),We[0]&4&&w!==(w=JSON.stringify(me[2].townInfo.happiness)+"")&&se(A,w),Ce!==(Ce=Ue(me))&&(Se.d(1),Se=Ce(me),Se&&(Se.c(),Se.m(E,D))),We[0]&4&&R!==(R=JSON.stringify(me[5].requirements[me[2].difficulty].employment*100)+"")&&se(V,R),We[0]&4&&L!==(L=JSON.stringify((me[2].townInfo.employees/me[2].townInfo.population_count||0)*100)+"")&&se(U,L),Dt!==(Dt=yt(me))&&(at.d(1),at=Dt(me),at&&(at.c(),at.m(I,O))),We[0]&4&&W!==(W=JSON.stringify(me[5].requirements[me[2].difficulty].health)+"")&&se($,W),We[0]&4&&ee!==(ee=JSON.stringify(me[2].townInfo.health)+"")&&se(Q,ee),ut!==(ut=Lt(me))&&(mt.d(1),mt=ut(me),mt&&(mt.c(),mt.m(te,ne))),We[0]&4&&p!==(p=JSON.stringify(me[5].requirements[me[2].difficulty].knowledge)+"")&&se(H,p),We[0]&4&&ie!==(ie=JSON.stringify(me[2].townInfo.knowledge_points)+"")&&se(re,ie),me[5].requirements[me[2].difficulty].required_plots!=null&&me[5].requirements[me[2].difficulty].required_plots.length>0?nt?nt.p(me,We):(nt=tu(me),nt.c(),nt.m($e.parentNode,$e)):nt&&(nt.d(1),nt=null)},d(me){me&&(T(e),T(n),T(o),T(Ae),T($e)),ce.d(),Be.d(),Se.d(),at.d(),mt.d(),nt&&nt.d(me)}}}function _v(t){let e;return{c(){e=q("❌")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function gv(t){let e;return{c(){e=q("✅")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function bv(t){let e;return{c(){e=q("❌")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function vv(t){let e;return{c(){e=q("✅")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function yv(t){let e;return{c(){e=q("❌")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function wv(t){let e;return{c(){e=q("✅")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function kv(t){let e;return{c(){e=q("❌")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Cv(t){let e;return{c(){e=q("✅")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Av(t){let e;return{c(){e=q("❌")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Sv(t){let e;return{c(){e=q("✅")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function tu(t){let e,n,o,i=Ke(t[5].requirements[t[2].difficulty].required_plots),r=[];for(let l=0;l<i.length;l+=1)r[l]=nu(za(t,i,l));return{c(){e=P("br"),n=q(`
                You also need to have these plots:
                `);for(let l=0;l<r.length;l+=1)r[l].c();o=Le()},m(l,a){M(l,e,a),M(l,n,a);for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(l,a);M(l,o,a)},p(l,a){if(a[0]&36){i=Ke(l[5].requirements[l[2].difficulty].required_plots);let s;for(s=0;s<i.length;s+=1){const u=za(l,i,s);r[s]?r[s].p(u,a):(r[s]=nu(u),r[s].c(),r[s].m(o.parentNode,o))}for(;s<r.length;s+=1)r[s].d(1);r.length=i.length}},d(l){l&&(T(e),T(n),T(o)),ht(r,l)}}}function Tv(t){let e;return{c(){e=q("❌")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Mv(t){let e;return{c(){e=q("✅")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function nu(t){let e,n,o,i,r=t[28]+"",l,a;function s(c,d){return d[0]&4&&(o=null),o==null&&(o=Xe(c[28],c[2]).length>0),o?Mv:Tv}let u=s(t,[-1,-1]),f=u(t);return{c(){e=P("div"),n=P("li"),f.c(),i=G(),l=q(r),a=G(),N(e,"class","text-sm")},m(c,d){M(c,e,d),v(e,n),f.m(n,null),v(n,i),v(n,l),v(e,a)},p(c,d){u!==(u=s(c,d))&&(f.d(1),f=u(c),f&&(f.c(),f.m(n,i))),d[0]&4&&r!==(r=c[28]+"")&&se(l,r)},d(c){c&&T(e),f.d()}}}function Iv(t){let e;return{c(){e=q("Save game")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Pv(t){let e;return{c(){e=q("Save")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Ov(t){let e;return{c(){e=q("Upload game")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function ou(t){let e,n;function o(){return t[19](t[25])}return e=new Et({props:{class:"bg-blue-600 hover:bg-blue-700 mt-4",id:"collectPrize-"+t[25].id,$$slots:{default:[Nv]},$$scope:{ctx:t}}}),e.$on("click",o),{c(){J(e.$$.fragment)},m(i,r){Y(e,i,r),n=!0},p(i,r){t=i;const l={};r[0]&2&&(l.id="collectPrize-"+t[25].id),r[0]&2|r[1]&1&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(i){n||(C(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){X(e,i)}}}function Nv(t){let e,n=ru(t[25].prize)+"",o,i;return{c(){e=q("Collect Prize: $"),o=q(n),i=q(" gold")},m(r,l){M(r,e,l),M(r,o,l),M(r,i,l)},p(r,l){l[0]&2&&n!==(n=ru(r[25].prize)+"")&&se(o,n)},d(r){r&&(T(e),T(o),T(i))}}}function iu(t){let e,n,o,i,r,l,a=t[25].title+"",s,u,f,c=t[25].requirements+"",d,m,h,_=t[25].icon+"",g,w,A,k=t[25].description+"",E,D,R,V,F=t[8](t[25].id)+"",L,U,y,b=t[13](t[25].id)&&!t[9](t[25].id),I,O,W,$=b&&ou(t);return{c(){e=P("div"),n=P("div"),o=P("div"),i=P("span"),r=P("div"),l=P("span"),s=q(a),u=G(),f=P("div"),d=q(c),m=G(),h=P("div"),g=q(_),w=G(),A=P("div"),E=q(k),D=G(),R=P("div"),V=q("✅ Completed on Day "),L=q(F),y=G(),$&&$.c(),I=G(),N(l,"class","font-semibold text-lg"),N(f,"class","font-thin text-white opacity-75 text-xs"),N(r,"class","flex flex-row gap-3 w-[100%] text- items-center "),N(h,"class","text-sm flex-grow pr-1 break-inside-avoid "),N(i,"class","flex flex-row justify-between w-[100%]"),N(o,"class","min-w-32 flex"),N(A,"class","text-white opacity-75 text-sm font-light"),N(R,"class",U=(t[13](t[25].id)?"":"hidden")+" text-xs text-green-400"),N(n,"class","flex-col flex px-3 py-2 gap-0"),N(e,"class",O="flex flex-col gap-3 cursor-default rounded-md "+(t[13](t[25].id)?"bg-green-700":"bg-gray-500 opacity-35"))},m(Z,ee){M(Z,e,ee),v(e,n),v(n,o),v(o,i),v(i,r),v(r,l),v(l,s),v(r,u),v(r,f),v(f,d),v(i,m),v(i,h),v(h,g),v(n,w),v(n,A),v(A,E),v(n,D),v(n,R),v(R,V),v(R,L),v(n,y),$&&$.m(n,null),v(e,I),W=!0},p(Z,ee){(!W||ee[0]&2)&&a!==(a=Z[25].title+"")&&se(s,a),(!W||ee[0]&2)&&c!==(c=Z[25].requirements+"")&&se(d,c),(!W||ee[0]&2)&&_!==(_=Z[25].icon+"")&&se(g,_),(!W||ee[0]&2)&&k!==(k=Z[25].description+"")&&se(E,k),(!W||ee[0]&2)&&F!==(F=Z[8](Z[25].id)+"")&&se(L,F),(!W||ee[0]&2&&U!==(U=(Z[13](Z[25].id)?"":"hidden")+" text-xs text-green-400"))&&N(R,"class",U),ee[0]&2&&(b=Z[13](Z[25].id)&&!Z[9](Z[25].id)),b?$?($.p(Z,ee),ee[0]&2&&C($,1)):($=ou(Z),$.c(),C($,1),$.m(n,null)):$&&(Ie(),S($,1,1,()=>{$=null}),Pe()),(!W||ee[0]&2&&O!==(O="flex flex-col gap-3 cursor-default rounded-md "+(Z[13](Z[25].id)?"bg-green-700":"bg-gray-500 opacity-35")))&&N(e,"class",O)},i(Z){W||(C($),W=!0)},o(Z){S($),W=!1},d(Z){Z&&T(e),$&&$.d()}}}function Ev(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,h,_,g,w,A,k,E,D,R,V,F,L,U,y,b,I,O,W,$,Z,ee,Q,K,te,ne,p,H,j,ie,re;e=new Un({props:{$$slots:{default:[hv]},$$scope:{ctx:t}}});let Ae=t[2].endGoal=="land"&&eu(t);_=new ro({props:{for:"saveButton",class:`cursor-pointer bg-blue-600 rounded-md text-center p-2.5 hover:bg-blue-700 justify-center flex 
					`,$$slots:{default:[Iv]},$$scope:{ctx:t}}}),w=new Et({props:{class:`
					bg-blue-600 hover:bg-blue-700 hidden
					`,id:"saveButton",$$slots:{default:[Pv]},$$scope:{ctx:t}}}),w.$on("click",t[16]),k=new ro({props:{for:"upload",class:`cursor-pointer bg-blue-600 rounded-md text-center p-2.5 hover:bg-blue-700 justify-center flex 
					`,$$slots:{default:[Ov]},$$scope:{ctx:t}}}),D=new jl({props:{class:"hidden",type:"file",id:"upload"}}),D.$on("change",t[12]),V=new Ct({props:{orientation:"vertical"}});let $e=Ke(t[1]),Me=[];for(let ce=0;ce<$e.length;ce+=1)Me[ce]=iu(Qa(t,$e,ce));const ze=ce=>S(Me[ce],1,1,()=>{Me[ce]=null});return{c(){J(e.$$.fragment),n=G(),o=P("div"),i=P("div"),r=P("div"),l=P("h4"),l.textContent="This game",a=G(),s=P("span"),s.textContent=`${t[5].description_title}`,u=G(),f=P("div"),Ae&&Ae.c(),c=G(),d=P("div"),m=P("div"),h=P("div"),J(_.$$.fragment),g=G(),J(w.$$.fragment),A=G(),J(k.$$.fragment),E=G(),J(D.$$.fragment),R=G(),J(V.$$.fragment),F=G(),L=P("div"),U=P("h4"),U.textContent=`Your achievement (${t[7].length}
          / ${et.length})`,y=G(),b=P("span"),b.textContent="Track your progress through games & complete challenges!",I=G(),O=P("br"),W=G(),$=P("div"),Z=P("input"),ee=G(),Q=P("label"),Q.textContent="Show completed",K=G(),te=P("div"),ne=P("div");for(let ce=0;ce<Me.length;ce+=1)Me[ce].c();p=G(),H=P("span"),H.textContent=`Prizes apply to the current game you are in. You can wait to apply
          them until the right time.`,N(l,"class","underline underline-offset-4"),N(s,"class","text-sm text-gray-400"),N(f,"class","mt-6 gap-0 py-0 text-gray-400 text-sm"),N(r,"class","flex-col h-max"),N(h,"class","flex gap-10 justify-start min-w-[100%] w-[100%] items"),N(m,"class","flex flex-col gap-3 h-max"),N(i,"class","flex flex-col gap-6 justify-between"),N(U,"class","underline underline-offset-4"),N(b,"class","text-sm text-gray-400"),N(Z,"type","checkbox"),N(Z,"id","toggle-show-completed"),N(Z,"class","rounded"),N(Z,"tabindex","-1"),Z.checked=localStorage.getItem("showCompletedAchievements")==="true",N(Q,"for","toggle-show-completed"),N(Q,"class","text-xs text-gray-400 select-none ml-2 no-select cursor-pointer "),N($,"class","flex items-center"),N(ne,"class","flex flex-col gap-4 overflow-scroll pb-20 scroll-smooth"),N(te,"class","overflow-scroll mt-2 h-[55vh]"),N(H,"class","text-sm text-yellow-400 italic"),N(o,"class","flex flex-row w-full gap-10")},m(ce,Ee){Y(e,ce,Ee),M(ce,n,Ee),M(ce,o,Ee),v(o,i),v(i,r),v(r,l),v(r,a),v(r,s),v(r,u),v(r,f),Ae&&Ae.m(f,null),v(i,c),v(i,d),v(d,m),v(m,h),Y(_,h,null),v(h,g),Y(w,h,null),v(h,A),Y(k,h,null),v(h,E),Y(D,h,null),v(o,R),Y(V,o,null),v(o,F),v(o,L),v(L,U),v(L,y),v(L,b),v(L,I),v(L,O),v(L,W),v(L,$),v($,Z),v($,ee),v($,Q),v(L,K),v(L,te),v(te,ne);for(let He=0;He<Me.length;He+=1)Me[He]&&Me[He].m(ne,null);v(L,p),v(L,H),j=!0,ie||(re=[z(Z,"change",t[17]),z(Z,"keydown",t[18])],ie=!0)},p(ce,Ee){const He={};Ee[1]&1&&(He.$$scope={dirty:Ee,ctx:ce}),e.$set(He),ce[2].endGoal=="land"?Ae?Ae.p(ce,Ee):(Ae=eu(ce),Ae.c(),Ae.m(f,null)):Ae&&(Ae.d(1),Ae=null);const Be={};Ee[1]&1&&(Be.$$scope={dirty:Ee,ctx:ce}),_.$set(Be);const Ue={};Ee[1]&1&&(Ue.$$scope={dirty:Ee,ctx:ce}),w.$set(Ue);const Ce={};if(Ee[1]&1&&(Ce.$$scope={dirty:Ee,ctx:ce}),k.$set(Ce),Ee[0]&9986){$e=Ke(ce[1]);let Se;for(Se=0;Se<$e.length;Se+=1){const yt=Qa(ce,$e,Se);Me[Se]?(Me[Se].p(yt,Ee),C(Me[Se],1)):(Me[Se]=iu(yt),Me[Se].c(),C(Me[Se],1),Me[Se].m(ne,null))}for(Ie(),Se=$e.length;Se<Me.length;Se+=1)ze(Se);Pe()}},i(ce){if(!j){C(e.$$.fragment,ce),C(_.$$.fragment,ce),C(w.$$.fragment,ce),C(k.$$.fragment,ce),C(D.$$.fragment,ce),C(V.$$.fragment,ce);for(let Ee=0;Ee<$e.length;Ee+=1)C(Me[Ee]);j=!0}},o(ce){S(e.$$.fragment,ce),S(_.$$.fragment,ce),S(w.$$.fragment,ce),S(k.$$.fragment,ce),S(D.$$.fragment,ce),S(V.$$.fragment,ce),Me=Me.filter(Boolean);for(let Ee=0;Ee<Me.length;Ee+=1)S(Me[Ee]);j=!1},d(ce){ce&&(T(n),T(o)),X(e,ce),Ae&&Ae.d(),X(_),X(w),X(k),X(D),X(V),ht(Me,ce),ie=!1,qe(re)}}}function Rv(t){let e,n;return e=new Yn({props:{class:" max-w-[90vw] max-h-[90vh] bg-foregroundDark text-foregroundText",$$slots:{default:[Ev]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i[0]&6|i[1]&1&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function Dv(t){var o;let e=((o=t[14]())==null?void 0:o.title)+"",n;return{c(){n=q(e)},m(i,r){M(i,n,r)},p:ke,d(i){i&&T(n)}}}function Lv(t){let e,n,o,i;return{c(){var r,l;e=P("div"),n=P("div"),n.textContent=`${(r=t[14]())==null?void 0:r.icon}`,o=G(),i=P("div"),i.textContent=`${(l=t[14]())==null?void 0:l.description}`,N(n,"class","text-center w-[30%] align-middle flex flex-col text-8xl"),N(i,"class","pl-8 w-[80%] align-middle flex flex-col justify-center text-lg"),N(e,"class","flex flex-row align-middle justify-evenly px-6 py-4")},m(r,l){M(r,e,l),v(e,n),v(e,o),v(e,i)},p:ke,d(r){r&&T(e)}}}function $v(t){let e,n,o,i;return e=new Bl({props:{class:"text-center text-xl font-bold",$$slots:{default:[Dv]},$$scope:{ctx:t}}}),o=new Wl({props:{$$slots:{default:[Lv]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=G(),J(o.$$.fragment)},m(r,l){Y(e,r,l),M(r,n,l),Y(o,r,l),i=!0},p(r,l){const a={};l[1]&1&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l[1]&1&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function Fv(t){let e;return{c(){e=q("Close to collect prize")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function qv(t){let e,n;return e=new Xc({props:{$$slots:{default:[Fv]},$$scope:{ctx:t}}}),e.$on("click",t[21]),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i[1]&1&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function jv(t){let e,n,o,i;return e=new Gl({props:{$$slots:{default:[$v]},$$scope:{ctx:t}}}),o=new Vl({props:{$$slots:{default:[qv]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=G(),J(o.$$.fragment)},m(r,l){Y(e,r,l),M(r,n,l),Y(o,r,l),i=!0},p(r,l){const a={};l[1]&1&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l[0]&16|l[1]&1&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function Bv(t){let e,n;return e=new Hl({props:{$$slots:{default:[jv]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i[0]&16|i[1]&1&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function Vv(t){let e,n,o,i,r;function l(s){t[20](s)}let a={$$slots:{default:[Rv]},$$scope:{ctx:t}};return t[3]!==void 0&&(a.open=t[3]),e=new Jn({props:a}),Oe.push(()=>An(e,"open",l)),i=new Kl({props:{open:t[4],$$slots:{default:[Bv]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),o=G(),J(i.$$.fragment)},m(s,u){Y(e,s,u),M(s,o,u),Y(i,s,u),r=!0},p(s,u){const f={};u[0]&6|u[1]&1&&(f.$$scope={dirty:u,ctx:s}),!n&&u[0]&8&&(n=!0,f.open=s[3],Cn(()=>n=!1)),e.$set(f);const c={};u[0]&16&&(c.open=s[4]),u[0]&16|u[1]&1&&(c.$$scope={dirty:u,ctx:s}),i.$set(c)},i(s){r||(C(e.$$.fragment,s),C(i.$$.fragment,s),r=!0)},o(s){S(e.$$.fragment,s),S(i.$$.fragment,s),r=!1},d(s){s&&T(o),X(e,s),X(i,s)}}}function ru(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function Gv(t){const e=JSON.parse(t);return e.townInfo!=null&&e.difficulty!=null}function Hv(t,e,n){let o,i,r,l,a;fe(t,on,y=>n(23,o=y)),fe(t,De,y=>n(2,i=y)),fe(t,Hi,y=>n(15,r=y)),fe(t,Nt,y=>n(3,l=y)),fe(t,Vi,y=>n(4,a=y));const u=bt[i.endGoal],f=Ml[i.difficulty]||0;et.sort((y,b)=>A(y.id)&&!A(b.id)?-1:!A(y.id)&&A(b.id)?1:0);const c=et.filter(y=>A(y.id));function d(y){const b=o.achievements.find(I=>I[0]==y);return b==null?0:`${b[1]} in ${b[2]}.`}function m(y){const b=o.achievements.find(I=>I[0]==y);return b==null?!1:b[3]}function h(y){const b=o.achievements.find(O=>O[0]==y);if(b==null)return;const I=et.find(O=>O.id==y);I!=null&&(Ne(De,i.townInfo.gold+=I.prize,i),b[3]=!0,Ne(on,o.achievements=o.achievements.map(O=>O[0]==y?b:O),o))}let _=et;function g(){const y=JSON.stringify(i),b=new Blob([y],{type:"text/plain"}),I=URL.createObjectURL(b),O=document.createElement("a");O.href=I,O.download=`${new Date().toISOString()}.json`,document.body.appendChild(O),O.click(),document.body.removeChild(O),URL.revokeObjectURL(I)}function w(){const b=document.getElementById("upload").files;if(b==null)return;const I=b[0],O=new FileReader;O.onload=function(W){if(W.target==null)return;const $=W.target.result;if(typeof $=="string"){if(!Gv($)){alert("Invalid game file");return}Il(JSON.parse($))}else alert("Invalid game file: is not String.")},O.readAsText(I)}function A(y){return o.achievements==null?!1:o.achievements.find(b=>b[0]==y)!=null}function k(){Hi.update(y=>!y),localStorage.setItem("showCompletedAchievements",localStorage.getItem("showCompletedAchievements")==="true"?"false":"true")}localStorage.getItem("pauseMenuTab")==null&&(localStorage.setItem("pauseMenuTab","game"),rc.set("game"));function E(){const y=o.achievements[o.achievements.length-1];if(y!=null)return et.find(b=>b.id==y[0])}const D=()=>g(),R=()=>{k()},V=y=>{y.key==="p"&&Nt.set(!1)},F=y=>{h(y.id);const b=document.getElementById(`collectPrize-${y.id}`);b&&(b.style.display="none")};function L(y){l=y,Nt.set(l)}const U=()=>{Ne(Vi,a=!1,a)};return t.$$.update=()=>{if(t.$$.dirty[0]&32774&&i)if(r)n(1,_=et);else{n(1,_=[]);for(let y=0;y<et.length;y++)(!A(et[y].id)||!m(et[y].id))&&_.push(et[y])}},[k,_,i,l,a,u,f,c,d,m,h,g,w,A,E,r,D,R,V,F,L,U]}class Wv extends ve{constructor(e){super(),be(this,e,Hv,Vv,de,{toggleShowCompleted:0},null,[-1,-1])}get toggleShowCompleted(){return this.$$.ctx[0]}}function Kv(){console.log("%cRUNNING STABILITY TESTS...","color: #26bfa5;");let t=0;return console.log("%cPASSED ALL STABILITY TESTS 😍","color: #26bfa5;"),t}function Uv(t){let e=t[0].endGameDetails.win==!0?"You won! 🎉":"You lost! 😭",n;return{c(){n=q(e)},m(o,i){M(o,n,i)},p(o,i){i&1&&e!==(e=o[0].endGameDetails.win==!0?"You won! 🎉":"You lost! 😭")&&se(n,e)},d(o){o&&T(n)}}}function Yv(t){let e;return{c(){e=q("Keep playin'")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Xv(t){let e,n=t[0].endGameDetails.msg+"",o,i,r,l,a,s,u,f;return u=new Et({props:{class:"bg-accent",$$slots:{default:[Yv]},$$scope:{ctx:t}}}),u.$on("click",t[2]),{c(){e=P("span"),o=q(n),i=G(),r=P("br"),l=G(),a=P("br"),s=G(),J(u.$$.fragment),N(e,"class","text-gray-500 text-sm")},m(c,d){M(c,e,d),v(e,o),M(c,i,d),M(c,r,d),M(c,l,d),M(c,a,d),M(c,s,d),Y(u,c,d),f=!0},p(c,d){(!f||d&1)&&n!==(n=c[0].endGameDetails.msg+"")&&se(o,n);const m={};d&16&&(m.$$scope={dirty:d,ctx:c}),u.$set(m)},i(c){f||(C(u.$$.fragment,c),f=!0)},o(c){S(u.$$.fragment,c),f=!1},d(c){c&&(T(e),T(i),T(r),T(l),T(a),T(s)),X(u,c)}}}function Jv(t){let e,n,o,i;return e=new Kn({props:{$$slots:{default:[Uv]},$$scope:{ctx:t}}}),o=new Xn({props:{$$slots:{default:[Xv]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=G(),J(o.$$.fragment)},m(r,l){Y(e,r,l),M(r,n,l),Y(o,r,l),i=!0},p(r,l){const a={};l&17&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&17&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function xv(t){let e;return{c(){e=P("span"),e.textContent="Reset the game by pressing SHIFT+ESC",N(e,"class","text-gray-500 text-sm")},m(n,o){M(n,e,o)},p:ke,d(n){n&&T(e)}}}function Zv(t){let e,n,o,i;return e=new Un({props:{$$slots:{default:[Jv]},$$scope:{ctx:t}}}),o=new Ao({props:{$$slots:{default:[xv]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=G(),J(o.$$.fragment)},m(r,l){Y(e,r,l),M(r,n,l),Y(o,r,l),i=!0},p(r,l){const a={};l&17&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&16&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function Qv(t){let e,n;return e=new Yn({props:{class:"bg-foregroundDark text-foregroundText",$$slots:{default:[Zv]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i&17&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function zv(t){let e,n,o;function i(l){t[3](l)}let r={$$slots:{default:[Qv]},$$scope:{ctx:t}};return t[1]!==void 0&&(r.open=t[1]),e=new Jn({props:r}),Oe.push(()=>An(e,"open",i)),{c(){J(e.$$.fragment)},m(l,a){Y(e,l,a),o=!0},p(l,[a]){const s={};a&17&&(s.$$scope={dirty:a,ctx:l}),!n&&a&2&&(n=!0,s.open=l[1],Cn(()=>n=!1)),e.$set(s)},i(l){o||(C(e.$$.fragment,l),o=!0)},o(l){S(e.$$.fragment,l),o=!1},d(l){X(e,l)}}}function ey(t,e,n){let o;fe(t,De,a=>n(0,o=a));let i=!1;function r(){let a=o;a.overtime=!0,De.set(a),n(1,i=!1),Nt.set(!1)}function l(a){i=a,n(1,i),n(0,o)}return t.$$.update=()=>{t.$$.dirty&1&&(o.endGameDetails.msg!=""&&o.overtime==!1?n(1,i=!0):n(1,i=!1))},[o,i,r,l]}class ty extends ve{constructor(e){super(),be(this,e,ey,zv,de,{})}}function ny(t){let e;return{c(){e=q("Welcome to Plots!")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function oy(t){let e;return{c(){e=q("Select a map size (difficulty)")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function iy(t){let e;return{c(){e=q("Select a game mode")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function ry(t){let e;return{c(){e=P("p"),e.textContent=`${bt.free_play.description_title}`,N(e,"class","text-gray-500 text-sm")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function ly(t){let e;return{c(){e=P("p"),e.textContent=`${bt.land.description_title}`,N(e,"class","text-gray-500 text-sm")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function sy(t){let e;return{c(){e=q("Town Name")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function ay(t){let e;return{c(){e=q("Cheats")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function uy(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,h,_,g,w,A,k,E,D,R,V,F,L,U,y,b,I,O,W,$,Z;r=new ro({props:{for:"difficulty",class:"mt-2",$$slots:{default:[oy]},$$scope:{ctx:t}}}),m=new ro({props:{for:"endGoal",class:"mt-2",$$slots:{default:[iy]},$$scope:{ctx:t}}});function ee(te,ne){return te[0]==="land"?ly:ry}let Q=ee(t),K=Q(t);return D=new ro({props:{for:"townName",class:"mt-2",$$slots:{default:[sy]},$$scope:{ctx:t}}}),V=new jl({props:{id:"townName",class:"mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Will be randomized if you leave blank"}}),U=new ro({props:{for:"cheats",class:"mt-2",$$slots:{default:[ay]},$$scope:{ctx:t}}}),{c(){e=P("a"),e.textContent="GitHub / Learn how to play",n=G(),o=P("div"),i=P("div"),J(r.$$.fragment),l=G(),a=P("select"),s=P("option"),s.textContent="Easy (quick game)",u=P("option"),u.textContent="Normal",f=P("option"),f.textContent="Hard (longest game)",c=G(),d=P("div"),J(m.$$.fragment),h=G(),K.c(),_=G(),g=P("select"),w=P("option"),w.textContent=`${bt.land.short_title}`,A=P("option"),A.textContent=`${bt.free_play.short_title}`,k=G(),E=P("div"),J(D.$$.fragment),R=G(),J(V.$$.fragment),F=G(),L=P("div"),J(U.$$.fragment),y=G(),b=P("select"),I=P("option"),I.textContent="No cheats",O=P("option"),O.textContent="Dev mode",N(e,"href","https://github.com/josephrcox/plots#how-to-play"),N(e,"class","text-blue-500 text-sm mb-4 hover:underline"),N(e,"target","_blank"),s.__value="0",en(s,s.__value),u.__value="1",en(u,u.__value),u.selected=!0,f.__value="2",en(f,f.__value),N(a,"id","difficulty"),N(a,"class","mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"),w.__value="land",en(w,w.__value),A.__value="free_play",en(A,A.__value),N(g,"id","endGoal"),N(g,"class","mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),I.__value="false",en(I,I.__value),I.selected=!0,O.__value="true",en(O,O.__value),N(b,"id","cheats"),N(b,"class","mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),N(o,"class","flex flex-col justify-center gap-5 mt-4")},m(te,ne){M(te,e,ne),M(te,n,ne),M(te,o,ne),v(o,i),Y(r,i,null),v(i,l),v(i,a),v(a,s),v(a,u),v(a,f),v(o,c),v(o,d),Y(m,d,null),v(d,h),K.m(d,null),v(d,_),v(d,g),v(g,w),v(g,A),gs(g,t[0]),v(o,k),v(o,E),Y(D,E,null),v(E,R),Y(V,E,null),v(o,F),v(o,L),Y(U,L,null),v(L,y),v(L,b),v(b,I),v(b,O),W=!0,$||(Z=z(g,"change",t[4]),$=!0)},p(te,ne){const p={};ne&128&&(p.$$scope={dirty:ne,ctx:te}),r.$set(p);const H={};ne&128&&(H.$$scope={dirty:ne,ctx:te}),m.$set(H),Q!==(Q=ee(te))&&(K.d(1),K=Q(te),K&&(K.c(),K.m(d,_))),(!W||ne&1)&&gs(g,te[0]);const j={};ne&128&&(j.$$scope={dirty:ne,ctx:te}),D.$set(j);const ie={};ne&128&&(ie.$$scope={dirty:ne,ctx:te}),U.$set(ie)},i(te){W||(C(r.$$.fragment,te),C(m.$$.fragment,te),C(D.$$.fragment,te),C(V.$$.fragment,te),C(U.$$.fragment,te),W=!0)},o(te){S(r.$$.fragment,te),S(m.$$.fragment,te),S(D.$$.fragment,te),S(V.$$.fragment,te),S(U.$$.fragment,te),W=!1},d(te){te&&(T(e),T(n),T(o)),X(r),X(m),K.d(),X(D),X(V),X(U),$=!1,Z()}}}function fy(t){let e,n,o,i;return e=new Kn({props:{$$slots:{default:[ny]},$$scope:{ctx:t}}}),o=new Xn({props:{$$slots:{default:[uy]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=G(),J(o.$$.fragment)},m(r,l){Y(e,r,l),M(r,n,l),Y(o,r,l),i=!0},p(r,l){const a={};l&128&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&129&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function cy(t){let e;return{c(){e=q("Reset user")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function dy(t){let e,n,o=t[1].username+"",i,r,l,a,s,u,f,c,d;return a=new Et({props:{$$slots:{default:[cy]},$$scope:{ctx:t}}}),a.$on("click",_y),{c(){e=P("div"),n=P("span"),i=q(o),r=G(),l=P("div"),J(a.$$.fragment),s=G(),u=P("button"),u.textContent="Start game",N(n,"class","italic opacity-30 text-xs py-2 text-start rounded h-full flex flex-col justify-center mr-10"),N(u,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-md"),N(e,"class","flex flex-row justify-between w-full px-1")},m(m,h){M(m,e,h),v(e,n),v(n,i),v(e,r),v(e,l),Y(a,l,null),v(l,s),v(l,u),f=!0,c||(d=[z(n,"click",t[5]),z(u,"click",t[3])],c=!0)},p(m,h){(!f||h&2)&&o!==(o=m[1].username+"")&&se(i,o);const _={};h&128&&(_.$$scope={dirty:h,ctx:m}),a.$set(_)},i(m){f||(C(a.$$.fragment,m),f=!0)},o(m){S(a.$$.fragment,m),f=!1},d(m){m&&T(e),X(a),c=!1,qe(d)}}}function my(t){let e,n,o,i;return e=new Un({props:{$$slots:{default:[fy]},$$scope:{ctx:t}}}),o=new Ao({props:{$$slots:{default:[dy]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=G(),J(o.$$.fragment)},m(r,l){Y(e,r,l),M(r,n,l),Y(o,r,l),i=!0},p(r,l){const a={};l&129&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&130&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function py(t){let e,n;return e=new Yn({props:{transition:mr,class:"bg-foregroundDark text-foregroundText",$$slots:{default:[my]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i&131&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function hy(t){let e,n,o;function i(l){t[6](l)}let r={$$slots:{default:[py]},$$scope:{ctx:t}};return t[2].visible!==void 0&&(r.open=t[2].visible),e=new Jn({props:r}),Oe.push(()=>An(e,"open",i)),{c(){J(e.$$.fragment)},m(l,a){Y(e,l,a),o=!0},p(l,[a]){const s={};a&131&&(s.$$scope={dirty:a,ctx:l}),!n&&a&4&&(n=!0,s.open=l[2].visible,Cn(()=>n=!1)),e.$set(s)},i(l){o||(C(e.$$.fragment,l),o=!0)},o(l){S(e.$$.fragment,l),o=!1},d(l){X(e,l)}}}function _y(){alert("Deleted :)"),localStorage.clear(),window.location.href=""}function gy(t,e,n){let o,i;fe(t,on,f=>n(1,o=f)),fe(t,Vo,f=>n(2,i=f)),Nt.set(!1);function r(){const f=document.getElementById("difficulty").value,c=document.getElementById("endGoal").value,d=document.getElementById("townName").value,m=document.getElementById("cheats").value=="true";lm(f,c,d,m)}let l="free_play";const a=f=>{n(0,l=f.target.value)};function s(){const f=prompt("Enter new username");let c=o;c.username=f,cm(c)}function u(f){t.$$.not_equal(i.visible,f)&&(i.visible=f,Vo.set(i))}return[l,o,i,r,a,s,u]}class by extends ve{constructor(e){super(),be(this,e,gy,hy,de,{})}}function vy(t){let e;return{c(){e=q("Scoreboard")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function yy(t){let e=t[1].description_title+"",n;return{c(){n=q(e)},m(o,i){M(o,n,i)},p:ke,d(o){o&&T(n)}}}function wy(t){let e,n,o,i;return e=new Kn({props:{$$slots:{default:[vy]},$$scope:{ctx:t}}}),o=new Xn({props:{$$slots:{default:[yy]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=G(),J(o.$$.fragment)},m(r,l){Y(e,r,l),M(r,n,l),Y(o,r,l),i=!0},p(r,l){const a={};l&128&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&128&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function ky(t){let e;return{c(){e=q("footer")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Cy(t){let e,n,o,i;return e=new Un({props:{$$slots:{default:[wy]},$$scope:{ctx:t}}}),o=new Ao({props:{$$slots:{default:[ky]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=q(`
		hi
		`),J(o.$$.fragment)},m(r,l){Y(e,r,l),M(r,n,l),Y(o,r,l),i=!0},p(r,l){const a={};l&128&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&128&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function Ay(t){let e,n;return e=new Yn({props:{$$slots:{default:[Cy]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i&128&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function Sy(t){let e,n,o;function i(l){t[3](l)}let r={$$slots:{default:[Ay]},$$scope:{ctx:t}};return t[0]!==void 0&&(r.open=t[0]),e=new Jn({props:r}),Oe.push(()=>An(e,"open",i)),{c(){J(e.$$.fragment)},m(l,a){Y(e,l,a),o=!0},p(l,[a]){const s={};a&128&&(s.$$scope={dirty:a,ctx:l}),!n&&a&1&&(n=!0,s.open=l[0],Cn(()=>n=!1)),e.$set(s)},i(l){o||(C(e.$$.fragment,l),o=!0)},o(l){S(e.$$.fragment,l),o=!1},d(l){X(e,l)}}}function Ty(t,e,n){let o,i;fe(t,De,s=>n(2,o=s)),fe(t,ws,s=>n(0,i=s));const l=bt[o.endGoal];Ml[o.difficulty];function a(s){i=s,ws.set(i)}return t.$$.update=()=>{t.$$.dirty&4},[i,l,o,a]}class My extends ve{constructor(e){super(),be(this,e,Ty,Sy,de,{})}}function Pi(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Iy(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Jc(t){let e,n,o;t.length!==2?(e=Pi,n=(a,s)=>Pi(t(a),s),o=(a,s)=>t(a)-s):(e=t===Pi||t===Iy?t:Py,n=t,o=t);function i(a,s,u=0,f=a.length){if(u<f){if(e(s,s)!==0)return f;do{const c=u+f>>>1;n(a[c],s)<0?u=c+1:f=c}while(u<f)}return u}function r(a,s,u=0,f=a.length){if(u<f){if(e(s,s)!==0)return f;do{const c=u+f>>>1;n(a[c],s)<=0?u=c+1:f=c}while(u<f)}return u}function l(a,s,u=0,f=a.length){const c=i(a,s,u,f-1);return c>u&&o(a[c-1],s)>-o(a[c],s)?c-1:c}return{left:i,center:l,right:r}}function Py(){return 0}function Oy(t){return t===null?NaN:+t}const Ny=Jc(Pi),Ey=Ny.right;Jc(Oy).center;const Ry=Math.sqrt(50),Dy=Math.sqrt(10),Ly=Math.sqrt(2);function Zi(t,e,n){const o=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(o)),r=o/Math.pow(10,i),l=r>=Ry?10:r>=Dy?5:r>=Ly?2:1;let a,s,u;return i<0?(u=Math.pow(10,-i)/l,a=Math.round(t*u),s=Math.round(e*u),a/u<t&&++a,s/u>e&&--s,u=-u):(u=Math.pow(10,i)*l,a=Math.round(t/u),s=Math.round(e/u),a*u<t&&++a,s*u>e&&--s),s<a&&.5<=n&&n<2?Zi(t,e,n*2):[a,s,u]}function $y(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const o=e<t,[i,r,l]=o?Zi(e,t,n):Zi(t,e,n);if(!(r>=i))return[];const a=r-i+1,s=new Array(a);if(o)if(l<0)for(let u=0;u<a;++u)s[u]=(r-u)/-l;else for(let u=0;u<a;++u)s[u]=(r-u)*l;else if(l<0)for(let u=0;u<a;++u)s[u]=(i+u)/-l;else for(let u=0;u<a;++u)s[u]=(i+u)*l;return s}function sl(t,e,n){return e=+e,t=+t,n=+n,Zi(t,e,n)[2]}function Fy(t,e,n){e=+e,t=+t,n=+n;const o=e<t,i=o?sl(e,t,n):sl(t,e,n);return(o?-1:1)*(i<0?1/-i:i)}function qy(t){return t}var Gr=1,Hr=2,al=3,$o=4,lu=1e-6;function jy(t){return"translate("+t+",0)"}function By(t){return"translate(0,"+t+")"}function Vy(t){return e=>+t(e)}function Gy(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function Hy(){return!this.__axis}function xc(t,e){var n=[],o=null,i=null,r=6,l=6,a=3,s=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=t===Gr||t===$o?-1:1,f=t===$o||t===Hr?"x":"y",c=t===Gr||t===al?jy:By;function d(m){var h=o??(e.ticks?e.ticks.apply(e,n):e.domain()),_=i??(e.tickFormat?e.tickFormat.apply(e,n):qy),g=Math.max(r,0)+a,w=e.range(),A=+w[0]+s,k=+w[w.length-1]+s,E=(e.bandwidth?Gy:Vy)(e.copy(),s),D=m.selection?m.selection():m,R=D.selectAll(".domain").data([null]),V=D.selectAll(".tick").data(h,e).order(),F=V.exit(),L=V.enter().append("g").attr("class","tick"),U=V.select("line"),y=V.select("text");R=R.merge(R.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),V=V.merge(L),U=U.merge(L.append("line").attr("stroke","currentColor").attr(f+"2",u*r)),y=y.merge(L.append("text").attr("fill","currentColor").attr(f,u*g).attr("dy",t===Gr?"0em":t===al?"0.71em":"0.32em")),m!==D&&(R=R.transition(m),V=V.transition(m),U=U.transition(m),y=y.transition(m),F=F.transition(m).attr("opacity",lu).attr("transform",function(b){return isFinite(b=E(b))?c(b+s):this.getAttribute("transform")}),L.attr("opacity",lu).attr("transform",function(b){var I=this.parentNode.__axis;return c((I&&isFinite(I=I(b))?I:E(b))+s)})),F.remove(),R.attr("d",t===$o||t===Hr?l?"M"+u*l+","+A+"H"+s+"V"+k+"H"+u*l:"M"+s+","+A+"V"+k:l?"M"+A+","+u*l+"V"+s+"H"+k+"V"+u*l:"M"+A+","+s+"H"+k),V.attr("opacity",1).attr("transform",function(b){return c(E(b)+s)}),U.attr(f+"2",u*r),y.attr(f,u*g).text(_),D.filter(Hy).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Hr?"start":t===$o?"end":"middle"),D.each(function(){this.__axis=E})}return d.scale=function(m){return arguments.length?(e=m,d):e},d.ticks=function(){return n=Array.from(arguments),d},d.tickArguments=function(m){return arguments.length?(n=m==null?[]:Array.from(m),d):n.slice()},d.tickValues=function(m){return arguments.length?(o=m==null?null:Array.from(m),d):o&&o.slice()},d.tickFormat=function(m){return arguments.length?(i=m,d):i},d.tickSize=function(m){return arguments.length?(r=l=+m,d):r},d.tickSizeInner=function(m){return arguments.length?(r=+m,d):r},d.tickSizeOuter=function(m){return arguments.length?(l=+m,d):l},d.tickPadding=function(m){return arguments.length?(a=+m,d):a},d.offset=function(m){return arguments.length?(s=+m,d):s},d}function Wy(t){return xc(al,t)}function Ky(t){return xc($o,t)}var Uy={value:()=>{}};function Zc(){for(var t=0,e=arguments.length,n={},o;t<e;++t){if(!(o=arguments[t]+"")||o in n||/[\s.]/.test(o))throw new Error("illegal type: "+o);n[o]=[]}return new Oi(n)}function Oi(t){this._=t}function Yy(t,e){return t.trim().split(/^|\s+/).map(function(n){var o="",i=n.indexOf(".");if(i>=0&&(o=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:o}})}Oi.prototype=Zc.prototype={constructor:Oi,on:function(t,e){var n=this._,o=Yy(t+"",n),i,r=-1,l=o.length;if(arguments.length<2){for(;++r<l;)if((i=(t=o[r]).type)&&(i=Xy(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++r<l;)if(i=(t=o[r]).type)n[i]=su(n[i],t.name,e);else if(e==null)for(i in n)n[i]=su(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Oi(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),o=0,i,r;o<i;++o)n[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=this._[t],o=0,i=r.length;o<i;++o)r[o].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var o=this._[t],i=0,r=o.length;i<r;++i)o[i].value.apply(e,n)}};function Xy(t,e){for(var n=0,o=t.length,i;n<o;++n)if((i=t[n]).name===e)return i.value}function su(t,e,n){for(var o=0,i=t.length;o<i;++o)if(t[o].name===e){t[o]=Uy,t=t.slice(0,o).concat(t.slice(o+1));break}return n!=null&&t.push({name:e,value:n}),t}var ul="http://www.w3.org/1999/xhtml";const au={svg:"http://www.w3.org/2000/svg",xhtml:ul,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function yr(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),au.hasOwnProperty(e)?{space:au[e],local:t}:t}function Jy(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===ul&&e.documentElement.namespaceURI===ul?e.createElement(t):e.createElementNS(n,t)}}function xy(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Qc(t){var e=yr(t);return(e.local?xy:Jy)(e)}function Zy(){}function Ul(t){return t==null?Zy:function(){return this.querySelector(t)}}function Qy(t){typeof t!="function"&&(t=Ul(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var r=e[i],l=r.length,a=o[i]=new Array(l),s,u,f=0;f<l;++f)(s=r[f])&&(u=t.call(s,s.__data__,f,r))&&("__data__"in s&&(u.__data__=s.__data__),a[f]=u);return new Pt(o,this._parents)}function zy(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function ew(){return[]}function zc(t){return t==null?ew:function(){return this.querySelectorAll(t)}}function tw(t){return function(){return zy(t.apply(this,arguments))}}function nw(t){typeof t=="function"?t=tw(t):t=zc(t);for(var e=this._groups,n=e.length,o=[],i=[],r=0;r<n;++r)for(var l=e[r],a=l.length,s,u=0;u<a;++u)(s=l[u])&&(o.push(t.call(s,s.__data__,u,l)),i.push(s));return new Pt(o,i)}function ed(t){return function(){return this.matches(t)}}function td(t){return function(e){return e.matches(t)}}var ow=Array.prototype.find;function iw(t){return function(){return ow.call(this.children,t)}}function rw(){return this.firstElementChild}function lw(t){return this.select(t==null?rw:iw(typeof t=="function"?t:td(t)))}var sw=Array.prototype.filter;function aw(){return Array.from(this.children)}function uw(t){return function(){return sw.call(this.children,t)}}function fw(t){return this.selectAll(t==null?aw:uw(typeof t=="function"?t:td(t)))}function cw(t){typeof t!="function"&&(t=ed(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var r=e[i],l=r.length,a=o[i]=[],s,u=0;u<l;++u)(s=r[u])&&t.call(s,s.__data__,u,r)&&a.push(s);return new Pt(o,this._parents)}function nd(t){return new Array(t.length)}function dw(){return new Pt(this._enter||this._groups.map(nd),this._parents)}function Qi(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Qi.prototype={constructor:Qi,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function mw(t){return function(){return t}}function pw(t,e,n,o,i,r){for(var l=0,a,s=e.length,u=r.length;l<u;++l)(a=e[l])?(a.__data__=r[l],o[l]=a):n[l]=new Qi(t,r[l]);for(;l<s;++l)(a=e[l])&&(i[l]=a)}function hw(t,e,n,o,i,r,l){var a,s,u=new Map,f=e.length,c=r.length,d=new Array(f),m;for(a=0;a<f;++a)(s=e[a])&&(d[a]=m=l.call(s,s.__data__,a,e)+"",u.has(m)?i[a]=s:u.set(m,s));for(a=0;a<c;++a)m=l.call(t,r[a],a,r)+"",(s=u.get(m))?(o[a]=s,s.__data__=r[a],u.delete(m)):n[a]=new Qi(t,r[a]);for(a=0;a<f;++a)(s=e[a])&&u.get(d[a])===s&&(i[a]=s)}function _w(t){return t.__data__}function gw(t,e){if(!arguments.length)return Array.from(this,_w);var n=e?hw:pw,o=this._parents,i=this._groups;typeof t!="function"&&(t=mw(t));for(var r=i.length,l=new Array(r),a=new Array(r),s=new Array(r),u=0;u<r;++u){var f=o[u],c=i[u],d=c.length,m=bw(t.call(f,f&&f.__data__,u,o)),h=m.length,_=a[u]=new Array(h),g=l[u]=new Array(h),w=s[u]=new Array(d);n(f,c,_,g,w,m,e);for(var A=0,k=0,E,D;A<h;++A)if(E=_[A]){for(A>=k&&(k=A+1);!(D=g[k])&&++k<h;);E._next=D||null}}return l=new Pt(l,o),l._enter=a,l._exit=s,l}function bw(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function vw(){return new Pt(this._exit||this._groups.map(nd),this._parents)}function yw(t,e,n){var o=this.enter(),i=this,r=this.exit();return typeof t=="function"?(o=t(o),o&&(o=o.selection())):o=o.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?r.remove():n(r),o&&i?o.merge(i).order():i}function ww(t){for(var e=t.selection?t.selection():t,n=this._groups,o=e._groups,i=n.length,r=o.length,l=Math.min(i,r),a=new Array(i),s=0;s<l;++s)for(var u=n[s],f=o[s],c=u.length,d=a[s]=new Array(c),m,h=0;h<c;++h)(m=u[h]||f[h])&&(d[h]=m);for(;s<i;++s)a[s]=n[s];return new Pt(a,this._parents)}function kw(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var o=t[e],i=o.length-1,r=o[i],l;--i>=0;)(l=o[i])&&(r&&l.compareDocumentPosition(r)^4&&r.parentNode.insertBefore(l,r),r=l);return this}function Cw(t){t||(t=Aw);function e(c,d){return c&&d?t(c.__data__,d.__data__):!c-!d}for(var n=this._groups,o=n.length,i=new Array(o),r=0;r<o;++r){for(var l=n[r],a=l.length,s=i[r]=new Array(a),u,f=0;f<a;++f)(u=l[f])&&(s[f]=u);s.sort(e)}return new Pt(i,this._parents).order()}function Aw(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Sw(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Tw(){return Array.from(this)}function Mw(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var o=t[e],i=0,r=o.length;i<r;++i){var l=o[i];if(l)return l}return null}function Iw(){let t=0;for(const e of this)++t;return t}function Pw(){return!this.node()}function Ow(t){for(var e=this._groups,n=0,o=e.length;n<o;++n)for(var i=e[n],r=0,l=i.length,a;r<l;++r)(a=i[r])&&t.call(a,a.__data__,r,i);return this}function Nw(t){return function(){this.removeAttribute(t)}}function Ew(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Rw(t,e){return function(){this.setAttribute(t,e)}}function Dw(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Lw(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function $w(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Fw(t,e){var n=yr(t);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((e==null?n.local?Ew:Nw:typeof e=="function"?n.local?$w:Lw:n.local?Dw:Rw)(n,e))}function od(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function qw(t){return function(){this.style.removeProperty(t)}}function jw(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Bw(t,e,n){return function(){var o=e.apply(this,arguments);o==null?this.style.removeProperty(t):this.style.setProperty(t,o,n)}}function Vw(t,e,n){return arguments.length>1?this.each((e==null?qw:typeof e=="function"?Bw:jw)(t,e,n??"")):_o(this.node(),t)}function _o(t,e){return t.style.getPropertyValue(e)||od(t).getComputedStyle(t,null).getPropertyValue(e)}function Gw(t){return function(){delete this[t]}}function Hw(t,e){return function(){this[t]=e}}function Ww(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Kw(t,e){return arguments.length>1?this.each((e==null?Gw:typeof e=="function"?Ww:Hw)(t,e)):this.node()[t]}function id(t){return t.trim().split(/^|\s+/)}function Yl(t){return t.classList||new rd(t)}function rd(t){this._node=t,this._names=id(t.getAttribute("class")||"")}rd.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function ld(t,e){for(var n=Yl(t),o=-1,i=e.length;++o<i;)n.add(e[o])}function sd(t,e){for(var n=Yl(t),o=-1,i=e.length;++o<i;)n.remove(e[o])}function Uw(t){return function(){ld(this,t)}}function Yw(t){return function(){sd(this,t)}}function Xw(t,e){return function(){(e.apply(this,arguments)?ld:sd)(this,t)}}function Jw(t,e){var n=id(t+"");if(arguments.length<2){for(var o=Yl(this.node()),i=-1,r=n.length;++i<r;)if(!o.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?Xw:e?Uw:Yw)(n,e))}function xw(){this.textContent=""}function Zw(t){return function(){this.textContent=t}}function Qw(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function zw(t){return arguments.length?this.each(t==null?xw:(typeof t=="function"?Qw:Zw)(t)):this.node().textContent}function e2(){this.innerHTML=""}function t2(t){return function(){this.innerHTML=t}}function n2(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function o2(t){return arguments.length?this.each(t==null?e2:(typeof t=="function"?n2:t2)(t)):this.node().innerHTML}function i2(){this.nextSibling&&this.parentNode.appendChild(this)}function r2(){return this.each(i2)}function l2(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function s2(){return this.each(l2)}function a2(t){var e=typeof t=="function"?t:Qc(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function u2(){return null}function f2(t,e){var n=typeof t=="function"?t:Qc(t),o=e==null?u2:typeof e=="function"?e:Ul(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)})}function c2(){var t=this.parentNode;t&&t.removeChild(this)}function d2(){return this.each(c2)}function m2(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function p2(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function h2(t){return this.select(t?p2:m2)}function _2(t){return arguments.length?this.property("__data__",t):this.node().__data__}function g2(t){return function(e){t.call(this,e,this.__data__)}}function b2(t){return t.trim().split(/^|\s+/).map(function(e){var n="",o=e.indexOf(".");return o>=0&&(n=e.slice(o+1),e=e.slice(0,o)),{type:e,name:n}})}function v2(t){return function(){var e=this.__on;if(e){for(var n=0,o=-1,i=e.length,r;n<i;++n)r=e[n],(!t.type||r.type===t.type)&&r.name===t.name?this.removeEventListener(r.type,r.listener,r.options):e[++o]=r;++o?e.length=o:delete this.__on}}}function y2(t,e,n){return function(){var o=this.__on,i,r=g2(e);if(o){for(var l=0,a=o.length;l<a;++l)if((i=o[l]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=r,i.options=n),i.value=e;return}}this.addEventListener(t.type,r,n),i={type:t.type,name:t.name,value:e,listener:r,options:n},o?o.push(i):this.__on=[i]}}function w2(t,e,n){var o=b2(t+""),i,r=o.length,l;if(arguments.length<2){var a=this.node().__on;if(a){for(var s=0,u=a.length,f;s<u;++s)for(i=0,f=a[s];i<r;++i)if((l=o[i]).type===f.type&&l.name===f.name)return f.value}return}for(a=e?y2:v2,i=0;i<r;++i)this.each(a(o[i],e,n));return this}function ad(t,e,n){var o=od(t),i=o.CustomEvent;typeof i=="function"?i=new i(e,n):(i=o.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function k2(t,e){return function(){return ad(this,t,e)}}function C2(t,e){return function(){return ad(this,t,e.apply(this,arguments))}}function A2(t,e){return this.each((typeof e=="function"?C2:k2)(t,e))}function*S2(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var o=t[e],i=0,r=o.length,l;i<r;++i)(l=o[i])&&(yield l)}var ud=[null];function Pt(t,e){this._groups=t,this._parents=e}function ei(){return new Pt([[document.documentElement]],ud)}function T2(){return this}Pt.prototype=ei.prototype={constructor:Pt,select:Qy,selectAll:nw,selectChild:lw,selectChildren:fw,filter:cw,data:gw,enter:dw,exit:vw,join:yw,merge:ww,selection:T2,order:kw,sort:Cw,call:Sw,nodes:Tw,node:Mw,size:Iw,empty:Pw,each:Ow,attr:Fw,style:Vw,property:Kw,classed:Jw,text:zw,html:o2,raise:r2,lower:s2,append:a2,insert:f2,remove:d2,clone:h2,datum:_2,on:w2,dispatch:A2,[Symbol.iterator]:S2};function M2(t){return typeof t=="string"?new Pt([[document.querySelector(t)]],[document.documentElement]):new Pt([[t]],ud)}function Xl(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function fd(t,e){var n=Object.create(t.prototype);for(var o in e)n[o]=e[o];return n}function ti(){}var Xo=.7,zi=1/Xo,fo="\\s*([+-]?\\d+)\\s*",Jo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ut="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",I2=/^#([0-9a-f]{3,8})$/,P2=new RegExp(`^rgb\\(${fo},${fo},${fo}\\)$`),O2=new RegExp(`^rgb\\(${Ut},${Ut},${Ut}\\)$`),N2=new RegExp(`^rgba\\(${fo},${fo},${fo},${Jo}\\)$`),E2=new RegExp(`^rgba\\(${Ut},${Ut},${Ut},${Jo}\\)$`),R2=new RegExp(`^hsl\\(${Jo},${Ut},${Ut}\\)$`),D2=new RegExp(`^hsla\\(${Jo},${Ut},${Ut},${Jo}\\)$`),uu={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Xl(ti,Bn,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:fu,formatHex:fu,formatHex8:L2,formatHsl:$2,formatRgb:cu,toString:cu});function fu(){return this.rgb().formatHex()}function L2(){return this.rgb().formatHex8()}function $2(){return cd(this).formatHsl()}function cu(){return this.rgb().formatRgb()}function Bn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=I2.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?du(e):n===3?new At(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?wi(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?wi(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=P2.exec(t))?new At(e[1],e[2],e[3],1):(e=O2.exec(t))?new At(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=N2.exec(t))?wi(e[1],e[2],e[3],e[4]):(e=E2.exec(t))?wi(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=R2.exec(t))?hu(e[1],e[2]/100,e[3]/100,1):(e=D2.exec(t))?hu(e[1],e[2]/100,e[3]/100,e[4]):uu.hasOwnProperty(t)?du(uu[t]):t==="transparent"?new At(NaN,NaN,NaN,0):null}function du(t){return new At(t>>16&255,t>>8&255,t&255,1)}function wi(t,e,n,o){return o<=0&&(t=e=n=NaN),new At(t,e,n,o)}function F2(t){return t instanceof ti||(t=Bn(t)),t?(t=t.rgb(),new At(t.r,t.g,t.b,t.opacity)):new At}function fl(t,e,n,o){return arguments.length===1?F2(t):new At(t,e,n,o??1)}function At(t,e,n,o){this.r=+t,this.g=+e,this.b=+n,this.opacity=+o}Xl(At,fl,fd(ti,{brighter(t){return t=t==null?zi:Math.pow(zi,t),new At(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Xo:Math.pow(Xo,t),new At(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new At(Dn(this.r),Dn(this.g),Dn(this.b),er(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:mu,formatHex:mu,formatHex8:q2,formatRgb:pu,toString:pu}));function mu(){return`#${Nn(this.r)}${Nn(this.g)}${Nn(this.b)}`}function q2(){return`#${Nn(this.r)}${Nn(this.g)}${Nn(this.b)}${Nn((isNaN(this.opacity)?1:this.opacity)*255)}`}function pu(){const t=er(this.opacity);return`${t===1?"rgb(":"rgba("}${Dn(this.r)}, ${Dn(this.g)}, ${Dn(this.b)}${t===1?")":`, ${t})`}`}function er(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Dn(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Nn(t){return t=Dn(t),(t<16?"0":"")+t.toString(16)}function hu(t,e,n,o){return o<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ft(t,e,n,o)}function cd(t){if(t instanceof Ft)return new Ft(t.h,t.s,t.l,t.opacity);if(t instanceof ti||(t=Bn(t)),!t)return new Ft;if(t instanceof Ft)return t;t=t.rgb();var e=t.r/255,n=t.g/255,o=t.b/255,i=Math.min(e,n,o),r=Math.max(e,n,o),l=NaN,a=r-i,s=(r+i)/2;return a?(e===r?l=(n-o)/a+(n<o)*6:n===r?l=(o-e)/a+2:l=(e-n)/a+4,a/=s<.5?r+i:2-r-i,l*=60):a=s>0&&s<1?0:l,new Ft(l,a,s,t.opacity)}function j2(t,e,n,o){return arguments.length===1?cd(t):new Ft(t,e,n,o??1)}function Ft(t,e,n,o){this.h=+t,this.s=+e,this.l=+n,this.opacity=+o}Xl(Ft,j2,fd(ti,{brighter(t){return t=t==null?zi:Math.pow(zi,t),new Ft(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Xo:Math.pow(Xo,t),new Ft(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*e,i=2*n-o;return new At(Wr(t>=240?t-240:t+120,i,o),Wr(t,i,o),Wr(t<120?t+240:t-120,i,o),this.opacity)},clamp(){return new Ft(_u(this.h),ki(this.s),ki(this.l),er(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=er(this.opacity);return`${t===1?"hsl(":"hsla("}${_u(this.h)}, ${ki(this.s)*100}%, ${ki(this.l)*100}%${t===1?")":`, ${t})`}`}}));function _u(t){return t=(t||0)%360,t<0?t+360:t}function ki(t){return Math.max(0,Math.min(1,t||0))}function Wr(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Jl=t=>()=>t;function B2(t,e){return function(n){return t+n*e}}function V2(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(o){return Math.pow(t+o*e,n)}}function G2(t){return(t=+t)==1?dd:function(e,n){return n-e?V2(e,n,t):Jl(isNaN(e)?n:e)}}function dd(t,e){var n=e-t;return n?B2(t,n):Jl(isNaN(t)?e:t)}const tr=function t(e){var n=G2(e);function o(i,r){var l=n((i=fl(i)).r,(r=fl(r)).r),a=n(i.g,r.g),s=n(i.b,r.b),u=dd(i.opacity,r.opacity);return function(f){return i.r=l(f),i.g=a(f),i.b=s(f),i.opacity=u(f),i+""}}return o.gamma=t,o}(1);function H2(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,o=e.slice(),i;return function(r){for(i=0;i<n;++i)o[i]=t[i]*(1-r)+e[i]*r;return o}}function W2(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function K2(t,e){var n=e?e.length:0,o=t?Math.min(n,t.length):0,i=new Array(o),r=new Array(n),l;for(l=0;l<o;++l)i[l]=xl(t[l],e[l]);for(;l<n;++l)r[l]=e[l];return function(a){for(l=0;l<o;++l)r[l]=i[l](a);return r}}function U2(t,e){var n=new Date;return t=+t,e=+e,function(o){return n.setTime(t*(1-o)+e*o),n}}function $t(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Y2(t,e){var n={},o={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=xl(t[i],e[i]):o[i]=e[i];return function(r){for(i in n)o[i]=n[i](r);return o}}var cl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Kr=new RegExp(cl.source,"g");function X2(t){return function(){return t}}function J2(t){return function(e){return t(e)+""}}function md(t,e){var n=cl.lastIndex=Kr.lastIndex=0,o,i,r,l=-1,a=[],s=[];for(t=t+"",e=e+"";(o=cl.exec(t))&&(i=Kr.exec(e));)(r=i.index)>n&&(r=e.slice(n,r),a[l]?a[l]+=r:a[++l]=r),(o=o[0])===(i=i[0])?a[l]?a[l]+=i:a[++l]=i:(a[++l]=null,s.push({i:l,x:$t(o,i)})),n=Kr.lastIndex;return n<e.length&&(r=e.slice(n),a[l]?a[l]+=r:a[++l]=r),a.length<2?s[0]?J2(s[0].x):X2(e):(e=s.length,function(u){for(var f=0,c;f<e;++f)a[(c=s[f]).i]=c.x(u);return a.join("")})}function xl(t,e){var n=typeof e,o;return e==null||n==="boolean"?Jl(e):(n==="number"?$t:n==="string"?(o=Bn(e))?(e=o,tr):md:e instanceof Bn?tr:e instanceof Date?U2:W2(e)?H2:Array.isArray(e)?K2:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Y2:$t)(t,e)}function x2(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var gu=180/Math.PI,dl={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function pd(t,e,n,o,i,r){var l,a,s;return(l=Math.sqrt(t*t+e*e))&&(t/=l,e/=l),(s=t*n+e*o)&&(n-=t*s,o-=e*s),(a=Math.sqrt(n*n+o*o))&&(n/=a,o/=a,s/=a),t*o<e*n&&(t=-t,e=-e,s=-s,l=-l),{translateX:i,translateY:r,rotate:Math.atan2(e,t)*gu,skewX:Math.atan(s)*gu,scaleX:l,scaleY:a}}var Ci;function Z2(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?dl:pd(e.a,e.b,e.c,e.d,e.e,e.f)}function Q2(t){return t==null||(Ci||(Ci=document.createElementNS("http://www.w3.org/2000/svg","g")),Ci.setAttribute("transform",t),!(t=Ci.transform.baseVal.consolidate()))?dl:(t=t.matrix,pd(t.a,t.b,t.c,t.d,t.e,t.f))}function hd(t,e,n,o){function i(u){return u.length?u.pop()+" ":""}function r(u,f,c,d,m,h){if(u!==c||f!==d){var _=m.push("translate(",null,e,null,n);h.push({i:_-4,x:$t(u,c)},{i:_-2,x:$t(f,d)})}else(c||d)&&m.push("translate("+c+e+d+n)}function l(u,f,c,d){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),d.push({i:c.push(i(c)+"rotate(",null,o)-2,x:$t(u,f)})):f&&c.push(i(c)+"rotate("+f+o)}function a(u,f,c,d){u!==f?d.push({i:c.push(i(c)+"skewX(",null,o)-2,x:$t(u,f)}):f&&c.push(i(c)+"skewX("+f+o)}function s(u,f,c,d,m,h){if(u!==c||f!==d){var _=m.push(i(m)+"scale(",null,",",null,")");h.push({i:_-4,x:$t(u,c)},{i:_-2,x:$t(f,d)})}else(c!==1||d!==1)&&m.push(i(m)+"scale("+c+","+d+")")}return function(u,f){var c=[],d=[];return u=t(u),f=t(f),r(u.translateX,u.translateY,f.translateX,f.translateY,c,d),l(u.rotate,f.rotate,c,d),a(u.skewX,f.skewX,c,d),s(u.scaleX,u.scaleY,f.scaleX,f.scaleY,c,d),u=f=null,function(m){for(var h=-1,_=d.length,g;++h<_;)c[(g=d[h]).i]=g.x(m);return c.join("")}}}var z2=hd(Z2,"px, ","px)","deg)"),ek=hd(Q2,", ",")",")"),go=0,Fo=0,Do=0,_d=1e3,nr,qo,or=0,Vn=0,wr=0,xo=typeof performance=="object"&&performance.now?performance:Date,gd=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Zl(){return Vn||(gd(tk),Vn=xo.now()+wr)}function tk(){Vn=0}function ir(){this._call=this._time=this._next=null}ir.prototype=bd.prototype={constructor:ir,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Zl():+n)+(e==null?0:+e),!this._next&&qo!==this&&(qo?qo._next=this:nr=this,qo=this),this._call=t,this._time=n,ml()},stop:function(){this._call&&(this._call=null,this._time=1/0,ml())}};function bd(t,e,n){var o=new ir;return o.restart(t,e,n),o}function nk(){Zl(),++go;for(var t=nr,e;t;)(e=Vn-t._time)>=0&&t._call.call(void 0,e),t=t._next;--go}function bu(){Vn=(or=xo.now())+wr,go=Fo=0;try{nk()}finally{go=0,ik(),Vn=0}}function ok(){var t=xo.now(),e=t-or;e>_d&&(wr-=e,or=t)}function ik(){for(var t,e=nr,n,o=1/0;e;)e._call?(o>e._time&&(o=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:nr=n);qo=t,ml(o)}function ml(t){if(!go){Fo&&(Fo=clearTimeout(Fo));var e=t-Vn;e>24?(t<1/0&&(Fo=setTimeout(bu,t-xo.now()-wr)),Do&&(Do=clearInterval(Do))):(Do||(or=xo.now(),Do=setInterval(ok,_d)),go=1,gd(bu))}}function vu(t,e,n){var o=new ir;return e=e==null?0:+e,o.restart(i=>{o.stop(),t(i+e)},e,n),o}var rk=Zc("start","end","cancel","interrupt"),lk=[],vd=0,yu=1,pl=2,Ni=3,wu=4,hl=5,Ei=6;function kr(t,e,n,o,i,r){var l=t.__transition;if(!l)t.__transition={};else if(n in l)return;sk(t,n,{name:e,index:o,group:i,on:rk,tween:lk,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:vd})}function Ql(t,e){var n=Bt(t,e);if(n.state>vd)throw new Error("too late; already scheduled");return n}function Zt(t,e){var n=Bt(t,e);if(n.state>Ni)throw new Error("too late; already running");return n}function Bt(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function sk(t,e,n){var o=t.__transition,i;o[e]=n,n.timer=bd(r,0,n.time);function r(u){n.state=yu,n.timer.restart(l,n.delay,n.time),n.delay<=u&&l(u-n.delay)}function l(u){var f,c,d,m;if(n.state!==yu)return s();for(f in o)if(m=o[f],m.name===n.name){if(m.state===Ni)return vu(l);m.state===wu?(m.state=Ei,m.timer.stop(),m.on.call("interrupt",t,t.__data__,m.index,m.group),delete o[f]):+f<e&&(m.state=Ei,m.timer.stop(),m.on.call("cancel",t,t.__data__,m.index,m.group),delete o[f])}if(vu(function(){n.state===Ni&&(n.state=wu,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=pl,n.on.call("start",t,t.__data__,n.index,n.group),n.state===pl){for(n.state=Ni,i=new Array(d=n.tween.length),f=0,c=-1;f<d;++f)(m=n.tween[f].value.call(t,t.__data__,n.index,n.group))&&(i[++c]=m);i.length=c+1}}function a(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(s),n.state=hl,1),c=-1,d=i.length;++c<d;)i[c].call(t,f);n.state===hl&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){n.state=Ei,n.timer.stop(),delete o[e];for(var u in o)return;delete t.__transition}}function ak(t,e){var n=t.__transition,o,i,r=!0,l;if(n){e=e==null?null:e+"";for(l in n){if((o=n[l]).name!==e){r=!1;continue}i=o.state>pl&&o.state<hl,o.state=Ei,o.timer.stop(),o.on.call(i?"interrupt":"cancel",t,t.__data__,o.index,o.group),delete n[l]}r&&delete t.__transition}}function uk(t){return this.each(function(){ak(this,t)})}function fk(t,e){var n,o;return function(){var i=Zt(this,t),r=i.tween;if(r!==n){o=n=r;for(var l=0,a=o.length;l<a;++l)if(o[l].name===e){o=o.slice(),o.splice(l,1);break}}i.tween=o}}function ck(t,e,n){var o,i;if(typeof n!="function")throw new Error;return function(){var r=Zt(this,t),l=r.tween;if(l!==o){i=(o=l).slice();for(var a={name:e,value:n},s=0,u=i.length;s<u;++s)if(i[s].name===e){i[s]=a;break}s===u&&i.push(a)}r.tween=i}}function dk(t,e){var n=this._id;if(t+="",arguments.length<2){for(var o=Bt(this.node(),n).tween,i=0,r=o.length,l;i<r;++i)if((l=o[i]).name===t)return l.value;return null}return this.each((e==null?fk:ck)(n,t,e))}function zl(t,e,n){var o=t._id;return t.each(function(){var i=Zt(this,o);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return Bt(i,o).value[e]}}function yd(t,e){var n;return(typeof e=="number"?$t:e instanceof Bn?tr:(n=Bn(e))?(e=n,tr):md)(t,e)}function mk(t){return function(){this.removeAttribute(t)}}function pk(t){return function(){this.removeAttributeNS(t.space,t.local)}}function hk(t,e,n){var o,i=n+"",r;return function(){var l=this.getAttribute(t);return l===i?null:l===o?r:r=e(o=l,n)}}function _k(t,e,n){var o,i=n+"",r;return function(){var l=this.getAttributeNS(t.space,t.local);return l===i?null:l===o?r:r=e(o=l,n)}}function gk(t,e,n){var o,i,r;return function(){var l,a=n(this),s;return a==null?void this.removeAttribute(t):(l=this.getAttribute(t),s=a+"",l===s?null:l===o&&s===i?r:(i=s,r=e(o=l,a)))}}function bk(t,e,n){var o,i,r;return function(){var l,a=n(this),s;return a==null?void this.removeAttributeNS(t.space,t.local):(l=this.getAttributeNS(t.space,t.local),s=a+"",l===s?null:l===o&&s===i?r:(i=s,r=e(o=l,a)))}}function vk(t,e){var n=yr(t),o=n==="transform"?ek:yd;return this.attrTween(t,typeof e=="function"?(n.local?bk:gk)(n,o,zl(this,"attr."+t,e)):e==null?(n.local?pk:mk)(n):(n.local?_k:hk)(n,o,e))}function yk(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function wk(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function kk(t,e){var n,o;function i(){var r=e.apply(this,arguments);return r!==o&&(n=(o=r)&&wk(t,r)),n}return i._value=e,i}function Ck(t,e){var n,o;function i(){var r=e.apply(this,arguments);return r!==o&&(n=(o=r)&&yk(t,r)),n}return i._value=e,i}function Ak(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var o=yr(t);return this.tween(n,(o.local?kk:Ck)(o,e))}function Sk(t,e){return function(){Ql(this,t).delay=+e.apply(this,arguments)}}function Tk(t,e){return e=+e,function(){Ql(this,t).delay=e}}function Mk(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Sk:Tk)(e,t)):Bt(this.node(),e).delay}function Ik(t,e){return function(){Zt(this,t).duration=+e.apply(this,arguments)}}function Pk(t,e){return e=+e,function(){Zt(this,t).duration=e}}function Ok(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Ik:Pk)(e,t)):Bt(this.node(),e).duration}function Nk(t,e){if(typeof e!="function")throw new Error;return function(){Zt(this,t).ease=e}}function Ek(t){var e=this._id;return arguments.length?this.each(Nk(e,t)):Bt(this.node(),e).ease}function Rk(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Zt(this,t).ease=n}}function Dk(t){if(typeof t!="function")throw new Error;return this.each(Rk(this._id,t))}function Lk(t){typeof t!="function"&&(t=ed(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var r=e[i],l=r.length,a=o[i]=[],s,u=0;u<l;++u)(s=r[u])&&t.call(s,s.__data__,u,r)&&a.push(s);return new ln(o,this._parents,this._name,this._id)}function $k(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,o=e.length,i=n.length,r=Math.min(o,i),l=new Array(o),a=0;a<r;++a)for(var s=e[a],u=n[a],f=s.length,c=l[a]=new Array(f),d,m=0;m<f;++m)(d=s[m]||u[m])&&(c[m]=d);for(;a<o;++a)l[a]=e[a];return new ln(l,this._parents,this._name,this._id)}function Fk(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function qk(t,e,n){var o,i,r=Fk(e)?Ql:Zt;return function(){var l=r(this,t),a=l.on;a!==o&&(i=(o=a).copy()).on(e,n),l.on=i}}function jk(t,e){var n=this._id;return arguments.length<2?Bt(this.node(),n).on.on(t):this.each(qk(n,t,e))}function Bk(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Vk(){return this.on("end.remove",Bk(this._id))}function Gk(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Ul(t));for(var o=this._groups,i=o.length,r=new Array(i),l=0;l<i;++l)for(var a=o[l],s=a.length,u=r[l]=new Array(s),f,c,d=0;d<s;++d)(f=a[d])&&(c=t.call(f,f.__data__,d,a))&&("__data__"in f&&(c.__data__=f.__data__),u[d]=c,kr(u[d],e,n,d,u,Bt(f,n)));return new ln(r,this._parents,e,n)}function Hk(t){var e=this._name,n=this._id;typeof t!="function"&&(t=zc(t));for(var o=this._groups,i=o.length,r=[],l=[],a=0;a<i;++a)for(var s=o[a],u=s.length,f,c=0;c<u;++c)if(f=s[c]){for(var d=t.call(f,f.__data__,c,s),m,h=Bt(f,n),_=0,g=d.length;_<g;++_)(m=d[_])&&kr(m,e,n,_,d,h);r.push(d),l.push(f)}return new ln(r,l,e,n)}var Wk=ei.prototype.constructor;function Kk(){return new Wk(this._groups,this._parents)}function Uk(t,e){var n,o,i;return function(){var r=_o(this,t),l=(this.style.removeProperty(t),_o(this,t));return r===l?null:r===n&&l===o?i:i=e(n=r,o=l)}}function wd(t){return function(){this.style.removeProperty(t)}}function Yk(t,e,n){var o,i=n+"",r;return function(){var l=_o(this,t);return l===i?null:l===o?r:r=e(o=l,n)}}function Xk(t,e,n){var o,i,r;return function(){var l=_o(this,t),a=n(this),s=a+"";return a==null&&(s=a=(this.style.removeProperty(t),_o(this,t))),l===s?null:l===o&&s===i?r:(i=s,r=e(o=l,a))}}function Jk(t,e){var n,o,i,r="style."+e,l="end."+r,a;return function(){var s=Zt(this,t),u=s.on,f=s.value[r]==null?a||(a=wd(e)):void 0;(u!==n||i!==f)&&(o=(n=u).copy()).on(l,i=f),s.on=o}}function xk(t,e,n){var o=(t+="")=="transform"?z2:yd;return e==null?this.styleTween(t,Uk(t,o)).on("end.style."+t,wd(t)):typeof e=="function"?this.styleTween(t,Xk(t,o,zl(this,"style."+t,e))).each(Jk(this._id,t)):this.styleTween(t,Yk(t,o,e),n).on("end.style."+t,null)}function Zk(t,e,n){return function(o){this.style.setProperty(t,e.call(this,o),n)}}function Qk(t,e,n){var o,i;function r(){var l=e.apply(this,arguments);return l!==i&&(o=(i=l)&&Zk(t,l,n)),o}return r._value=e,r}function zk(t,e,n){var o="style."+(t+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(e==null)return this.tween(o,null);if(typeof e!="function")throw new Error;return this.tween(o,Qk(t,e,n??""))}function e5(t){return function(){this.textContent=t}}function t5(t){return function(){var e=t(this);this.textContent=e??""}}function n5(t){return this.tween("text",typeof t=="function"?t5(zl(this,"text",t)):e5(t==null?"":t+""))}function o5(t){return function(e){this.textContent=t.call(this,e)}}function i5(t){var e,n;function o(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&o5(i)),e}return o._value=t,o}function r5(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,i5(t))}function l5(){for(var t=this._name,e=this._id,n=kd(),o=this._groups,i=o.length,r=0;r<i;++r)for(var l=o[r],a=l.length,s,u=0;u<a;++u)if(s=l[u]){var f=Bt(s,e);kr(s,t,n,u,l,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new ln(o,this._parents,t,n)}function s5(){var t,e,n=this,o=n._id,i=n.size();return new Promise(function(r,l){var a={value:l},s={value:function(){--i===0&&r()}};n.each(function(){var u=Zt(this,o),f=u.on;f!==t&&(e=(t=f).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(s)),u.on=e}),i===0&&r()})}var a5=0;function ln(t,e,n,o){this._groups=t,this._parents=e,this._name=n,this._id=o}function kd(){return++a5}var zt=ei.prototype;ln.prototype={constructor:ln,select:Gk,selectAll:Hk,selectChild:zt.selectChild,selectChildren:zt.selectChildren,filter:Lk,merge:$k,selection:Kk,transition:l5,call:zt.call,nodes:zt.nodes,node:zt.node,size:zt.size,empty:zt.empty,each:zt.each,on:jk,attr:vk,attrTween:Ak,style:xk,styleTween:zk,text:n5,textTween:r5,remove:Vk,tween:dk,delay:Mk,duration:Ok,ease:Ek,easeVarying:Dk,end:s5,[Symbol.iterator]:zt[Symbol.iterator]};function u5(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var f5={time:null,delay:0,duration:250,ease:u5};function c5(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function d5(t){var e,n;t instanceof ln?(e=t._id,t=t._name):(e=kd(),(n=f5).time=Zl(),t=t==null?null:t+"");for(var o=this._groups,i=o.length,r=0;r<i;++r)for(var l=o[r],a=l.length,s,u=0;u<a;++u)(s=l[u])&&kr(s,t,e,u,l,n||c5(s,e));return new ln(o,this._parents,t,e)}ei.prototype.interrupt=uk;ei.prototype.transition=d5;const _l=Math.PI,gl=2*_l,In=1e-6,m5=gl-In;function Cd(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function p5(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Cd;const n=10**e;return function(o){this._+=o[0];for(let i=1,r=o.length;i<r;++i)this._+=Math.round(arguments[i]*n)/n+o[i]}}class h5{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Cd:p5(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,o,i){this._append`Q${+e},${+n},${this._x1=+o},${this._y1=+i}`}bezierCurveTo(e,n,o,i,r,l){this._append`C${+e},${+n},${+o},${+i},${this._x1=+r},${this._y1=+l}`}arcTo(e,n,o,i,r){if(e=+e,n=+n,o=+o,i=+i,r=+r,r<0)throw new Error(`negative radius: ${r}`);let l=this._x1,a=this._y1,s=o-e,u=i-n,f=l-e,c=a-n,d=f*f+c*c;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(d>In)if(!(Math.abs(c*s-u*f)>In)||!r)this._append`L${this._x1=e},${this._y1=n}`;else{let m=o-l,h=i-a,_=s*s+u*u,g=m*m+h*h,w=Math.sqrt(_),A=Math.sqrt(d),k=r*Math.tan((_l-Math.acos((_+d-g)/(2*w*A)))/2),E=k/A,D=k/w;Math.abs(E-1)>In&&this._append`L${e+E*f},${n+E*c}`,this._append`A${r},${r},0,0,${+(c*m>f*h)},${this._x1=e+D*s},${this._y1=n+D*u}`}}arc(e,n,o,i,r,l){if(e=+e,n=+n,o=+o,l=!!l,o<0)throw new Error(`negative radius: ${o}`);let a=o*Math.cos(i),s=o*Math.sin(i),u=e+a,f=n+s,c=1^l,d=l?i-r:r-i;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>In||Math.abs(this._y1-f)>In)&&this._append`L${u},${f}`,o&&(d<0&&(d=d%gl+gl),d>m5?this._append`A${o},${o},0,1,${c},${e-a},${n-s}A${o},${o},0,1,${c},${this._x1=u},${this._y1=f}`:d>In&&this._append`A${o},${o},0,${+(d>=_l)},${c},${this._x1=e+o*Math.cos(r)},${this._y1=n+o*Math.sin(r)}`)}rect(e,n,o,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${o=+o}v${+i}h${-o}Z`}toString(){return this._}}function _5(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function rr(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,o=t.slice(0,n);return[o.length>1?o[0]+o.slice(2):o,+t.slice(n+1)]}function bo(t){return t=rr(Math.abs(t)),t?t[1]:NaN}function g5(t,e){return function(n,o){for(var i=n.length,r=[],l=0,a=t[0],s=0;i>0&&a>0&&(s+a+1>o&&(a=Math.max(1,o-s)),r.push(n.substring(i-=a,i+a)),!((s+=a+1)>o));)a=t[l=(l+1)%t.length];return r.reverse().join(e)}}function b5(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var v5=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function lr(t){if(!(e=v5.exec(t)))throw new Error("invalid format: "+t);var e;return new es({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}lr.prototype=es.prototype;function es(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}es.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function y5(t){e:for(var e=t.length,n=1,o=-1,i;n<e;++n)switch(t[n]){case".":o=i=n;break;case"0":o===0&&(o=n),i=n;break;default:if(!+t[n])break e;o>0&&(o=0);break}return o>0?t.slice(0,o)+t.slice(i+1):t}var Ad;function w5(t,e){var n=rr(t,e);if(!n)return t+"";var o=n[0],i=n[1],r=i-(Ad=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=o.length;return r===l?o:r>l?o+new Array(r-l+1).join("0"):r>0?o.slice(0,r)+"."+o.slice(r):"0."+new Array(1-r).join("0")+rr(t,Math.max(0,e+r-1))[0]}function ku(t,e){var n=rr(t,e);if(!n)return t+"";var o=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+o:o.length>i+1?o.slice(0,i+1)+"."+o.slice(i+1):o+new Array(i-o.length+2).join("0")}const Cu={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:_5,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>ku(t*100,e),r:ku,s:w5,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Au(t){return t}var Su=Array.prototype.map,Tu=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function k5(t){var e=t.grouping===void 0||t.thousands===void 0?Au:g5(Su.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",o=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",r=t.numerals===void 0?Au:b5(Su.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"−":t.minus+"",s=t.nan===void 0?"NaN":t.nan+"";function u(c){c=lr(c);var d=c.fill,m=c.align,h=c.sign,_=c.symbol,g=c.zero,w=c.width,A=c.comma,k=c.precision,E=c.trim,D=c.type;D==="n"?(A=!0,D="g"):Cu[D]||(k===void 0&&(k=12),E=!0,D="g"),(g||d==="0"&&m==="=")&&(g=!0,d="0",m="=");var R=_==="$"?n:_==="#"&&/[boxX]/.test(D)?"0"+D.toLowerCase():"",V=_==="$"?o:/[%p]/.test(D)?l:"",F=Cu[D],L=/[defgprs%]/.test(D);k=k===void 0?6:/[gprs]/.test(D)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function U(y){var b=R,I=V,O,W,$;if(D==="c")I=F(y)+I,y="";else{y=+y;var Z=y<0||1/y<0;if(y=isNaN(y)?s:F(Math.abs(y),k),E&&(y=y5(y)),Z&&+y==0&&h!=="+"&&(Z=!1),b=(Z?h==="("?h:a:h==="-"||h==="("?"":h)+b,I=(D==="s"?Tu[8+Ad/3]:"")+I+(Z&&h==="("?")":""),L){for(O=-1,W=y.length;++O<W;)if($=y.charCodeAt(O),48>$||$>57){I=($===46?i+y.slice(O+1):y.slice(O))+I,y=y.slice(0,O);break}}}A&&!g&&(y=e(y,1/0));var ee=b.length+y.length+I.length,Q=ee<w?new Array(w-ee+1).join(d):"";switch(A&&g&&(y=e(Q+y,Q.length?w-I.length:1/0),Q=""),m){case"<":y=b+y+I+Q;break;case"=":y=b+Q+y+I;break;case"^":y=Q.slice(0,ee=Q.length>>1)+b+y+I+Q.slice(ee);break;default:y=Q+b+y+I;break}return r(y)}return U.toString=function(){return c+""},U}function f(c,d){var m=u((c=lr(c),c.type="f",c)),h=Math.max(-8,Math.min(8,Math.floor(bo(d)/3)))*3,_=Math.pow(10,-h),g=Tu[8+h/3];return function(w){return m(_*w)+g}}return{format:u,formatPrefix:f}}var Ai,Sd,Td;C5({thousands:",",grouping:[3],currency:["$",""]});function C5(t){return Ai=k5(t),Sd=Ai.format,Td=Ai.formatPrefix,Ai}function A5(t){return Math.max(0,-bo(Math.abs(t)))}function S5(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(bo(e)/3)))*3-bo(Math.abs(t)))}function T5(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,bo(e)-bo(t))+1}function M5(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function I5(t){return function(){return t}}function P5(t){return+t}var Mu=[0,1];function lo(t){return t}function bl(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:I5(isNaN(e)?NaN:.5)}function O5(t,e){var n;return t>e&&(n=t,t=e,e=n),function(o){return Math.max(t,Math.min(e,o))}}function N5(t,e,n){var o=t[0],i=t[1],r=e[0],l=e[1];return i<o?(o=bl(i,o),r=n(l,r)):(o=bl(o,i),r=n(r,l)),function(a){return r(o(a))}}function E5(t,e,n){var o=Math.min(t.length,e.length)-1,i=new Array(o),r=new Array(o),l=-1;for(t[o]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<o;)i[l]=bl(t[l],t[l+1]),r[l]=n(e[l],e[l+1]);return function(a){var s=Ey(t,a,1,o)-1;return r[s](i[s](a))}}function R5(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function D5(){var t=Mu,e=Mu,n=xl,o,i,r,l=lo,a,s,u;function f(){var d=Math.min(t.length,e.length);return l!==lo&&(l=O5(t[0],t[d-1])),a=d>2?E5:N5,s=u=null,c}function c(d){return d==null||isNaN(d=+d)?r:(s||(s=a(t.map(o),e,n)))(o(l(d)))}return c.invert=function(d){return l(i((u||(u=a(e,t.map(o),$t)))(d)))},c.domain=function(d){return arguments.length?(t=Array.from(d,P5),f()):t.slice()},c.range=function(d){return arguments.length?(e=Array.from(d),f()):e.slice()},c.rangeRound=function(d){return e=Array.from(d),n=x2,f()},c.clamp=function(d){return arguments.length?(l=d?!0:lo,f()):l!==lo},c.interpolate=function(d){return arguments.length?(n=d,f()):n},c.unknown=function(d){return arguments.length?(r=d,c):r},function(d,m){return o=d,i=m,f()}}function L5(){return D5()(lo,lo)}function $5(t,e,n,o){var i=Fy(t,e,n),r;switch(o=lr(o??",f"),o.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return o.precision==null&&!isNaN(r=S5(i,l))&&(o.precision=r),Td(o,l)}case"":case"e":case"g":case"p":case"r":{o.precision==null&&!isNaN(r=T5(i,Math.max(Math.abs(t),Math.abs(e))))&&(o.precision=r-(o.type==="e"));break}case"f":case"%":{o.precision==null&&!isNaN(r=A5(i))&&(o.precision=r-(o.type==="%")*2);break}}return Sd(o)}function F5(t){var e=t.domain;return t.ticks=function(n){var o=e();return $y(o[0],o[o.length-1],n??10)},t.tickFormat=function(n,o){var i=e();return $5(i[0],i[i.length-1],n??10,o)},t.nice=function(n){n==null&&(n=10);var o=e(),i=0,r=o.length-1,l=o[i],a=o[r],s,u,f=10;for(a<l&&(u=l,l=a,a=u,u=i,i=r,r=u);f-- >0;){if(u=sl(l,a,n),u===s)return o[i]=l,o[r]=a,e(o);if(u>0)l=Math.floor(l/u)*u,a=Math.ceil(a/u)*u;else if(u<0)l=Math.ceil(l*u)/u,a=Math.floor(a*u)/u;else break;s=u}return t},t}function vl(){var t=L5();return t.copy=function(){return R5(t,vl())},M5.apply(t,arguments),F5(t)}function oo(t){return function(){return t}}function q5(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const o=Math.floor(n);if(!(o>=0))throw new RangeError(`invalid digits: ${n}`);e=o}return t},()=>new h5(e)}function j5(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Md(t){this._context=t}Md.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function B5(t){return new Md(t)}function V5(t){return t[0]}function G5(t){return t[1]}function Ur(t,e){var n=oo(!0),o=null,i=B5,r=null,l=q5(a);t=typeof t=="function"?t:t===void 0?V5:oo(t),e=typeof e=="function"?e:e===void 0?G5:oo(e);function a(s){var u,f=(s=j5(s)).length,c,d=!1,m;for(o==null&&(r=i(m=l())),u=0;u<=f;++u)!(u<f&&n(c=s[u],u,s))===d&&((d=!d)?r.lineStart():r.lineEnd()),d&&r.point(+t(c,u,s),+e(c,u,s));if(m)return r=null,m+""||null}return a.x=function(s){return arguments.length?(t=typeof s=="function"?s:oo(+s),a):t},a.y=function(s){return arguments.length?(e=typeof s=="function"?s:oo(+s),a):e},a.defined=function(s){return arguments.length?(n=typeof s=="function"?s:oo(!!s),a):n},a.curve=function(s){return arguments.length?(i=s,o!=null&&(r=i(o)),a):i},a.context=function(s){return arguments.length?(s==null?o=r=null:r=i(o=s),a):o},a}function jo(t,e,n){this.k=t,this.x=e,this.y=n}jo.prototype={constructor:jo,scale:function(t){return t===1?this:new jo(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new jo(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};jo.prototype;function H5(t){let e;return{c(){e=ur("svg"),N(e,"id","line-chart")},m(n,o){M(n,e,o)},p:ke,i:ke,o:ke,d(n){n&&T(e)}}}const Iu=52;function W5(t,e,n){let{data:o=[]}=e,i,r,l;const a={top:10,right:30,bottom:10,left:20},s=500-a.left-a.right,u=400-a.top-a.bottom;Ur().x((h,_)=>r(_)).y(h=>l(h)),fr(()=>{n(1,i=M2("#line-chart").attr("width",s+a.left+a.right).attr("height",u+a.top+a.bottom)),r=vl().range([0,s]),l=vl().range([u,0]),o.length&&f()});function f(){const h=o.length>Iu?o.slice(-Iu):o;c(h),d(h),m()}function c(h){i.selectAll(".line").remove();const _=Ur().defined(w=>w>-5).x((w,A)=>r(A)).y(w=>l(w)),g=Ur().defined(w=>w<0).x((w,A)=>r(A)).y(w=>l(w));i.append("path").datum(h).attr("class","line positive").attr("d",_).attr("transform",`translate(${a.left},${a.top})`).attr("fill","none").attr("stroke","green").attr("stroke-width",2),i.append("path").datum(h).attr("class","line negative").attr("d",g).attr("transform",`translate(${a.left},${a.top})`).attr("fill","none").attr("stroke","red").attr("stroke-width",2)}function d(h){const _=Math.max(0,...h),g=Math.min(0,...h);r.domain([0,h.length-1]),l.domain([g,_]).nice()}function m(h){const _=Wy(r).ticks(0),g=Ky(l).ticks(10);i.selectAll(".axis").remove(),i.append("g").attr("class","axis x-axis").attr("transform",`translate(${a.left},${u+a.top})`).call(_),i.append("g").attr("class","axis y-axis").attr("transform",`translate(${a.left},${a.top})`).call(g)}return t.$$set=h=>{"data"in h&&n(0,o=h.data)},t.$$.update=()=>{t.$$.dirty&3&&o&&i&&f()},[o,i]}class K5 extends ve{constructor(e){super(),be(this,e,W5,H5,de,{data:0})}}function U5(t){let e,n=t[1].townInfo.knowledge_points+"",o,i;return{c(){e=q("Manage your Knowledge ("),o=q(n),i=q(" pts)")},m(r,l){M(r,e,l),M(r,o,l),M(r,i,l)},p(r,l){l&2&&n!==(n=r[1].townInfo.knowledge_points+"")&&se(o,n)},d(r){r&&(T(e),T(o),T(i))}}}function Y5(t){let e,n,o,i;return e=new Kn({props:{$$slots:{default:[U5]},$$scope:{ctx:t}}}),o=new Xn({}),{c(){J(e.$$.fragment),n=G(),J(o.$$.fragment)},m(r,l){Y(e,r,l),M(r,n,l),Y(o,r,l),i=!0},p(r,l){const a={};l&258&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function Pu(t){let e,n,o=Ru(t[1].townInfo.knowledge_points*t[3])+"",i,r;return{c(){e=P("br"),n=q(`
					(total value: $`),i=q(o),r=q(")")},m(l,a){M(l,e,a),M(l,n,a),M(l,i,a),M(l,r,a)},p(l,a){a&10&&o!==(o=Ru(l[1].townInfo.knowledge_points*l[3])+"")&&se(i,o)},d(l){l&&(T(e),T(n),T(i),T(r))}}}function Ou(t){let e;return{c(){e=P("div"),e.innerHTML=`Wait until the market value is <span class="text-green-500">positive</span> to sell your Knowledge for Gold. Keep in mind that you need a bank to
					convert.`},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Nu(t){let e,n,o;return n=new Et({props:{variant:"default",$$slots:{default:[X5]},$$scope:{ctx:t}}}),n.$on("click",t[0]),{c(){e=P("div"),J(n.$$.fragment)},m(i,r){M(i,e,r),Y(n,e,null),o=!0},p(i,r){const l={};r&256&&(l.$$scope={dirty:r,ctx:i}),n.$set(l)},i(i){o||(C(n.$$.fragment,i),o=!0)},o(i){S(n.$$.fragment,i),o=!1},d(i){i&&T(e),X(n)}}}function X5(t){let e;return{c(){e=q("Convert Knowledge to Gold")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Eu(t){let e;return{c(){e=P("div"),e.textContent="You need a bank to convert knowledge to gold."},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function J5(t){let e,n,o,i,r,l,a,s,u=(t[3]??0)+"",f,c,d,m,h,_,g,w,A,k,E,D;e=new Un({props:{$$slots:{default:[Y5]},$$scope:{ctx:t}}});let R=t[3]>0&&Pu(t);_=new K5({props:{data:t[2]}});let V=t[3]<0&&Ou(),F=t[1].hasBank&&t[3]>0&&Nu(t),L=t[1].hasBank===!1&&Eu();return E=new Ao({}),{c(){J(e.$$.fragment),n=G(),o=P("span"),o.textContent="Knowledge is power, unlock it!",i=G(),r=P("div"),l=P("div"),a=q("Market Rate: "),s=P("span"),f=q(u),c=q(" gold"),m=q(`
				per Knowledge Point
				`),R&&R.c(),h=G(),J(_.$$.fragment),g=G(),V&&V.c(),w=G(),F&&F.c(),A=G(),L&&L.c(),k=G(),J(E.$$.fragment),N(o,"class","italic"),N(s,"class",d=t[3]<0?"text-red-500":"text-green-500"),N(r,"class","py-0 flex flex-col gap-4 text-gray-400 overflow-x-auto")},m(U,y){Y(e,U,y),M(U,n,y),M(U,o,y),M(U,i,y),M(U,r,y),v(r,l),v(l,a),v(l,s),v(s,f),v(s,c),v(l,m),R&&R.m(l,null),v(r,h),Y(_,r,null),v(r,g),V&&V.m(r,null),v(r,w),F&&F.m(r,null),v(r,A),L&&L.m(r,null),M(U,k,y),Y(E,U,y),D=!0},p(U,y){const b={};y&258&&(b.$$scope={dirty:y,ctx:U}),e.$set(b),(!D||y&8)&&u!==(u=(U[3]??0)+"")&&se(f,u),(!D||y&8&&d!==(d=U[3]<0?"text-red-500":"text-green-500"))&&N(s,"class",d),U[3]>0?R?R.p(U,y):(R=Pu(U),R.c(),R.m(l,null)):R&&(R.d(1),R=null);const I={};y&4&&(I.data=U[2]),_.$set(I),U[3]<0?V||(V=Ou(),V.c(),V.m(r,w)):V&&(V.d(1),V=null),U[1].hasBank&&U[3]>0?F?(F.p(U,y),y&10&&C(F,1)):(F=Nu(U),F.c(),C(F,1),F.m(r,A)):F&&(Ie(),S(F,1,1,()=>{F=null}),Pe()),U[1].hasBank===!1?L||(L=Eu(),L.c(),L.m(r,null)):L&&(L.d(1),L=null)},i(U){D||(C(e.$$.fragment,U),C(_.$$.fragment,U),C(F),C(E.$$.fragment,U),D=!0)},o(U){S(e.$$.fragment,U),S(_.$$.fragment,U),S(F),S(E.$$.fragment,U),D=!1},d(U){U&&(T(n),T(o),T(i),T(r),T(k)),X(e,U),R&&R.d(),X(_),V&&V.d(),F&&F.d(),L&&L.d(),X(E,U)}}}function x5(t){let e,n;return e=new Yn({props:{transitionConfig:{duration:0},class:"bg-foreground text-foregroundText",$$slots:{default:[J5]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i&270&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function Z5(t){let e,n,o;function i(l){t[5](l)}let r={$$slots:{default:[x5]},$$scope:{ctx:t}};return t[4]!==void 0&&(r.open=t[4]),e=new Jn({props:r}),Oe.push(()=>An(e,"open",i)),{c(){J(e.$$.fragment)},m(l,a){Y(e,l,a),o=!0},p(l,[a]){const s={};a&270&&(s.$$scope={dirty:a,ctx:l}),!n&&a&16&&(n=!0,s.open=l[4],Cn(()=>n=!1)),e.$set(s)},i(l){o||(C(e.$$.fragment,l),o=!0)},o(l){S(e.$$.fragment,l),o=!1},d(l){X(e,l)}}}function Ru(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function Q5(t,e,n){let o,i;fe(t,De,u=>n(1,o=u)),fe(t,Bi,u=>n(4,i=u));let r,l=0;function a(){let u=o;o.hasBank===!0?(u.townInfo.gold+=Math.round(u.townInfo.knowledge_points*l),u.townInfo.knowledge_points=0,De.set(u),localStorage.setItem(jt,JSON.stringify(u))):alert("You need a bank to convert knowledge to gold.")}function s(u){i=u,Bi.set(i)}return t.$$.update=()=>{t.$$.dirty&2&&o&&(n(2,r=o.economyAndLaws.knowledge_gold_market_rates),n(3,l=o.economyAndLaws.knowledge_gold_market_rates[o.economyAndLaws.knowledge_gold_market_rates.length-1]))},[a,o,r,l,i,s]}class z5 extends ve{constructor(e){super(),be(this,e,Q5,Z5,de,{convertKnowledgeToGold:0})}get convertKnowledgeToGold(){return this.$$.ctx[0]}}const e3=[{id:"sunshine",title:"Hint of Sunshine",description:`Scientist Jane T. found that more sunlight makes everyone a bit happier. 
        
        Now, every home is equipped with a pair of sunglasses and a sunhat. Enjoy happier citizens!,
        `,cost:5e3,duration:180,effect:!0},{id:"antibiotics",title:"We will call them 'Antibiotics'",description:`Scientist Alfred C. has pitched us an idea that he calls 'Antibiotics'.
        
         We don't really know what that means, but it seems to make people healthier. 
        `,cost:8e3,duration:200,effect:!0},{id:"goodbye_carrots",title:"Goodbye Carrots",description:`Scientist Jarrod M. collaborated with local carrot farms to enhance the recipe, aiming to increase consumers' height by 10%.

        Unfortunately, the experiment failed, and all the local carrot farms have gone out of business. 
        `,cost:8e3,duration:80,effect:!0},{id:"funny_cows",title:"Cowabunga!",description:`Scientist Barry T. thought that showing cows some stand-up comedy would make them produce better milk, but it didn't have the desired effect.

        The cows are now following Mike Birbiglia on Twitter, but the milk production has not increased.
        `,cost:3e3,duration:60,effect:!1},{id:"missing_treasure",title:"Missing Treasure?",description:`Scientist Sarah H. was running an experiment on tree growth and found a stash of gold near the lab. 

        She hopes nobody will miss it. Your town now has some more money. 
        `,cost:15e3,duration:180,effect:!0},{id:"tax_relief",title:"'Maybe the government is not so bad after all'",description:`Scientist Sam P. conducted a study and found that if you put a tiny bit of CHEMICAL X in the water supply, people are more likely to be ok with tax hikes. 

        We don't question it, as these experiments cost a lot of moo-lah.`,cost:7500,duration:360,effect:!0},{id:"spring_break",title:"Spring Break",description:`The Scientists took our money and spent the week at the beach. 

        We are not sure what they did, but they came back with a tan and a smile.`,cost:2e3,duration:7,effect:!1},{id:"coffee_boost_tourism",title:"Speedy Brews",description:`Scientist Claudia A. has found that a specific blend of coffee can significantly increase productivity among town employees. 

        The catch? It only works on Mondays. But hey, starting the week with a turbo-charged workforce might just be the boost we needed. The town gets a bit of extra cash from the productivity, and a bit of tourism revenue from coffee tourism.
        `,cost:8e3,duration:100,effect:!0},{id:"bee_bonanza",title:"Buzzing with Possibilities",description:`Scientist Will B. thought that introducing genetically modified super bees to the local ecosystem could help with pollination.
        
        Unfortunately, these bees prefer coffee plants over all others, leading to all coffee bean farms forced to close.`,cost:5e3,duration:120,effect:!0},{id:"wheat_whirlwind",title:"A Gust of Grain",description:`Scientist Clint C. is sulking after a botched weather control experiment aimed at improving crop yields accidentally resulted in a series of mini-tornadoes sweeping through the town's wheat farms. The wheat is gone, but the townsfolk have never been more entertained.

        Local bakers mourn the loss of wheat while selling tickets to the wheat whirlwind tours. All wheat farms are now torn down, but happiness is up.`,cost:7e3,duration:150,effect:!0},{id:"aquatic_overachievers",title:"Fishy Business",description:`An attempt to genetically enhance fish intelligence by Scientist Goldie F. in fisheries has gone awry, resulting in fish that are too smart to be caught. The fisheries are now underpopulated and shut down, but the town enjoys an unexpected tourism boom as people flock to see the genius fish who are now hanging out in local parks.

        Who knew fish could be such a draw?`,cost:6e3,duration:90,effect:!0},{id:"educational_eclipse",title:"A Sudden Drop in IQ",description:`Scientist Albert E. wanted to see if the towns' children would become smarter if THEY ran the schools. 

        This was obviously a terrible idea and the first thing the kids did was shut down the schools.`,cost:1e3,duration:45,effect:!0},{id:"education_grant",title:"Education Grant",description:`Scientist Marie C. took the funding and applied the town for a grant to improve education.

        The town wins a grant for $150,000 to build schools and improve education. (but it's up to you if that's how you want to spend the money)`,cost:4e4,duration:45,effect:!0},{id:"mindfulness_meditation_classes",title:"'Mindfulness Meditation Classes'",description:`Scientist Zen M. has introduced mindfulness meditation classes to the town after realizing that breathing in certain ways can lower stress. 
		
		Now, the town is a bit more relaxed, for now.`,cost:13e3,duration:540,effect:!0}];function Du(t,e,n){const o=t.slice();return o[17]=e[n],o}function t3(t){let e,n=t[1].lab.active_experiment.title+"",o;return{c(){e=q("🎉 Experiment Completed: "),o=q(n)},m(i,r){M(i,e,r),M(i,o,r)},p(i,r){r&2&&n!==(n=i[1].lab.active_experiment.title+"")&&se(o,n)},d(i){i&&(T(e),T(o))}}}function n3(t){let e,n=t[1].lab.active_experiment.description+"",o;return{c(){e=P("div"),o=q(n),N(e,"class","select-none whitespace-pre-wrap text-lg text-gray-400 leading-6 px-4 py-4 text-center ")},m(i,r){M(i,e,r),v(e,o)},p(i,r){r&2&&n!==(n=i[1].lab.active_experiment.description+"")&&se(o,n)},d(i){i&&T(e)}}}function o3(t){let e,n,o,i;return e=new Bl({props:{class:"text-center",$$slots:{default:[t3]},$$scope:{ctx:t}}}),o=new Wl({props:{$$slots:{default:[n3]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=G(),J(o.$$.fragment)},m(r,l){Y(e,r,l),M(r,n,l),Y(o,r,l),i=!0},p(r,l){const a={};l&1048578&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&1048578&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function i3(t){let e;return{c(){e=q("Thank the scientists")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function r3(t){let e,n;return e=new Wb({props:{$$slots:{default:[i3]},$$scope:{ctx:t}}}),e.$on("click",t[9]),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i&1048576&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function l3(t){let e,n,o,i;return e=new Gl({props:{$$slots:{default:[o3]},$$scope:{ctx:t}}}),o=new Vl({props:{$$slots:{default:[r3]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=G(),J(o.$$.fragment)},m(r,l){Y(e,r,l),M(r,n,l),Y(o,r,l),i=!0},p(r,l){const a={};l&1048578&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&1048576&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function s3(t){let e,n;return e=new Hl({props:{$$slots:{default:[l3]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i&1048578&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function a3(t){let e;return{c(){e=P("span"),e.textContent="Manage your Laboratory 🔬 🧪"},m(n,o){M(n,e,o)},p:ke,d(n){n&&T(e)}}}function u3(t){let e,n,o,i=t[1].lab.xp+"",r,l,a,s;return{c(){e=P("span"),n=q("You have earned "),o=P("span"),r=q(i),l=q(" XP"),s=q(` from experiments. XP can be used to buy advanced plots and develop your
          city.`),N(o,"class",a="italic "+(t[1].lab.xp<0?"text-textDanger1":"text-primaryText"))},m(u,f){M(u,e,f),v(e,n),v(e,o),v(o,r),v(o,l),v(e,s)},p(u,f){f&2&&i!==(i=u[1].lab.xp+"")&&se(r,i),f&2&&a!==(a="italic "+(u[1].lab.xp<0?"text-textDanger1":"text-primaryText"))&&N(o,"class",a)},d(u){u&&T(e)}}}function f3(t){let e,n,o,i;return e=new Kn({props:{$$slots:{default:[a3]},$$scope:{ctx:t}}}),o=new Xn({props:{$$slots:{default:[u3]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=G(),J(o.$$.fragment)},m(r,l){Y(e,r,l),M(r,n,l),Y(o,r,l),i=!0},p(r,l){const a={};l&1048576&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&1048578&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function c3(t){let e;return{c(){e=q("No more experiments available")},m(n,o){M(n,e,o)},p:ke,i:ke,o:ke,d(n){n&&T(e)}}}function d3(t){let e,n,o,i,r=Ke(t[0]),l=[];for(let s=0;s<r.length;s+=1)l[s]=$u(Du(t,r,s));const a=s=>S(l[s],1,1,()=>{l[s]=null});return{c(){e=P("div"),e.textContent=`It's time to fund your next experiment! Choose a project below based on
        it's funding requirement. Once the experiment is over, you will see the
        results.`,n=G(),o=P("div");for(let s=0;s<l.length;s+=1)l[s].c();N(e,"class","select-none text-sm "),N(o,"class","text-center flex flex-col justify-center items-center gap-4 ")},m(s,u){M(s,e,u),M(s,n,u),M(s,o,u);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(o,null);i=!0},p(s,u){if(u&19){r=Ke(s[0]);let f;for(f=0;f<r.length;f+=1){const c=Du(s,r,f);l[f]?(l[f].p(c,u),C(l[f],1)):(l[f]=$u(c),l[f].c(),C(l[f],1),l[f].m(o,null))}for(Ie(),f=r.length;f<l.length;f+=1)a(f);Pe()}},i(s){if(!i){for(let u=0;u<r.length;u+=1)C(l[u]);i=!0}},o(s){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)S(l[u]);i=!1},d(s){s&&(T(e),T(n),T(o)),ht(l,s)}}}function m3(t){let e,n=t[1].lab.active_experiment.duration+"",o,i,r,l,a=t[1].lab.active_experiment.duration===0&&Fu(t);return{c(){e=q("Currently running an experiment... check back in "),o=q(n),i=q(` days.
      `),a&&a.c(),r=Le()},m(s,u){M(s,e,u),M(s,o,u),M(s,i,u),a&&a.m(s,u),M(s,r,u),l=!0},p(s,u){(!l||u&2)&&n!==(n=s[1].lab.active_experiment.duration+"")&&se(o,n),s[1].lab.active_experiment.duration===0?a?(a.p(s,u),u&2&&C(a,1)):(a=Fu(s),a.c(),C(a,1),a.m(r.parentNode,r)):a&&(Ie(),S(a,1,1,()=>{a=null}),Pe())},i(s){l||(C(a),l=!0)},o(s){S(a),l=!1},d(s){s&&(T(e),T(o),T(i),T(r)),a&&a.d(s)}}}function Lu(t){let e,n,o=t[17].id+"",i;return{c(){e=P("span"),n=q("// dev-"),i=q(o),N(e,"class","text-xs text-gray-400")},m(r,l){M(r,e,l),v(e,n),v(e,i)},p(r,l){l&1&&o!==(o=r[17].id+"")&&se(i,o)},d(r){r&&T(e)}}}function p3(t){let e,n=qu(t[17].cost).split(".")[0]+"",o,i,r,l=t[1].devMode===!0&&Lu(t);return{c(){e=q("$"),o=q(n),i=q(` gold

            `),l&&l.c(),r=G()},m(a,s){M(a,e,s),M(a,o,s),M(a,i,s),l&&l.m(a,s),M(a,r,s)},p(a,s){s&1&&n!==(n=qu(a[17].cost).split(".")[0]+"")&&se(o,n),a[1].devMode===!0?l?l.p(a,s):(l=Lu(a),l.c(),l.m(r.parentNode,r)):l&&(l.d(1),l=null)},d(a){a&&(T(e),T(o),T(i),T(r)),l&&l.d(a)}}}function $u(t){let e,n;function o(){return t[11](t[17])}return e=new Et({props:{variant:"outline",class:`min-w-48 w-max flex-col
				`+(t[17].cost>t[1].townInfo.gold?"cursor-not-allowed":"")+`
				`,$$slots:{default:[p3]},$$scope:{ctx:t}}}),e.$on("click",o),{c(){J(e.$$.fragment)},m(i,r){Y(e,i,r),n=!0},p(i,r){t=i;const l={};r&3&&(l.class=`min-w-48 w-max flex-col
				`+(t[17].cost>t[1].townInfo.gold?"cursor-not-allowed":"")+`
				`),r&1048579&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(i){n||(C(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){X(e,i)}}}function Fu(t){let e,n;return e=new Et({props:{variant:"outline",$$slots:{default:[h3]},$$scope:{ctx:t}}}),e.$on("click",t[10]),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i&1048576&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function h3(t){let e;return{c(){e=q("Complete experiment (and face the impact)")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function _3(t){let e;return{c(){e=P("span"),e.textContent="Keep in mind that not all experiments yield positive results.",N(e,"class","italic text-left text-textDanger1")},m(n,o){M(n,e,o)},p:ke,d(n){n&&T(e)}}}function g3(t){let e,n,o,i,r,l,a,s,u,f,c;e=new Un({props:{$$slots:{default:[f3]},$$scope:{ctx:t}}}),o=new Ct({});const d=[m3,d3,c3],m=[];function h(_,g){return _[1].lab.active_experiment!==null?0:_[0].length>0?1:_[0].length===0?2:-1}return~(r=h(t))&&(l=m[r]=d[r](t)),s=new Ct({props:{class:"mt-4"}}),f=new Ao({props:{$$slots:{default:[_3]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=G(),J(o.$$.fragment),i=G(),l&&l.c(),a=G(),J(s.$$.fragment),u=G(),J(f.$$.fragment)},m(_,g){Y(e,_,g),M(_,n,g),Y(o,_,g),M(_,i,g),~r&&m[r].m(_,g),M(_,a,g),Y(s,_,g),M(_,u,g),Y(f,_,g),c=!0},p(_,g){const w={};g&1048578&&(w.$$scope={dirty:g,ctx:_}),e.$set(w);let A=r;r=h(_),r===A?~r&&m[r].p(_,g):(l&&(Ie(),S(m[A],1,1,()=>{m[A]=null}),Pe()),~r?(l=m[r],l?l.p(_,g):(l=m[r]=d[r](_),l.c()),C(l,1),l.m(a.parentNode,a)):l=null);const k={};g&1048576&&(k.$$scope={dirty:g,ctx:_}),f.$set(k)},i(_){c||(C(e.$$.fragment,_),C(o.$$.fragment,_),C(l),C(s.$$.fragment,_),C(f.$$.fragment,_),c=!0)},o(_){S(e.$$.fragment,_),S(o.$$.fragment,_),S(l),S(s.$$.fragment,_),S(f.$$.fragment,_),c=!1},d(_){_&&(T(n),T(i),T(a),T(u)),X(e,_),X(o,_),~r&&m[r].d(_),X(s,_),X(f,_)}}}function b3(t){let e,n;return e=new Yn({props:{class:"bg-foreground text-foregroundText",$$slots:{default:[g3]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i&1048579&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function v3(t){let e,n,o,i,r;e=new Kl({props:{open:t[2],$$slots:{default:[s3]},$$scope:{ctx:t}}});function l(s){t[12](s)}let a={$$slots:{default:[b3]},$$scope:{ctx:t}};return t[3]!==void 0&&(a.open=t[3]),o=new Jn({props:a}),Oe.push(()=>An(o,"open",l)),{c(){J(e.$$.fragment),n=G(),J(o.$$.fragment)},m(s,u){Y(e,s,u),M(s,n,u),Y(o,s,u),r=!0},p(s,[u]){const f={};u&4&&(f.open=s[2]),u&1048578&&(f.$$scope={dirty:u,ctx:s}),e.$set(f);const c={};u&1048579&&(c.$$scope={dirty:u,ctx:s}),!i&&u&8&&(i=!0,c.open=s[3],Cn(()=>i=!1)),o.$set(c)},i(s){r||(C(e.$$.fragment,s),C(o.$$.fragment,s),r=!0)},o(s){S(e.$$.fragment,s),S(o.$$.fragment,s),r=!1},d(s){s&&T(n),X(e,s),X(o,s)}}}function qu(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function y3(t,e,n){let o,i;fe(t,De,k=>n(1,o=k)),fe(t,Mi,k=>n(3,i=k));var r;let l=[],a=!1,s=!1,u=!1;function f(){if(l.length>0||!a)return l;let k=[],E=e3.filter(D=>!o.lab.past_experiments.some(R=>R.id===D.id));for(let D=0;D<3;D++){let R=E[Math.floor(Math.random()*E.length)];R.cost=Math.floor(Math.random()*(R.cost*.35)+R.cost*.8),k.push(R)}return k=k.filter((D,R)=>k.indexOf(D)===R),k=k.filter(D=>D),n(8,u=!0),k}function c(k){if(o.townInfo.gold<k.cost){alert("You do not have enough gold to purchase this experiment.");return}Ne(De,o.townInfo.gold-=k.cost,o),Ne(De,o.lab.active_experiment=k,o),o.lab.past_experiments.push(k)}function d(){var k;switch(Ne(Mi,i=!1,i),n(2,s=!0),(k=o.lab.active_experiment)===null||k===void 0?void 0:k.id){case"sunshine":Ne(De,o.modifiers.happiness=50,o);break;case"antibiotics":Ne(De,o.modifiers.health=50,o);break;case"goodbye_carrots":h("carrot_farm");break;case"missing_treasure":Ne(De,o.townInfo.gold+=Math.floor(Math.random()*o.lab.active_experiment.cost*2),o);break;case"tax_relief":Ne(De,o.economyAndLaws.max_tax_rate=(Math.random()*.8+1.2)*o.economyAndLaws.max_tax_rate,o);break;case"bee_bonanza":h("coffee_bean_farm");break;case"wheat_whirlwind":h("wheat_farm"),Ne(De,o.townInfo.happiness*=1.5,o),Ne(De,o.modifiers.happiness+=3,o);break;case"educational_eclipse":h("small_school"),h("large_school"),Ne(De,o.townInfo.knowledge_points*=.8,o);break;case"education_grant":Ne(De,o.townInfo.knowledge_points*=1.5,o),Ne(De,o.townInfo.gold+=15e4,o);break;case"mindfulness_meditation_classes":o.modifiers.happiness*1.5;break}Ne(De,o.lab.active_experiment.duration=-1,o)}function m(){let k=o;k.lab.xp+=Math.round(k.lab.active_experiment.cost*(Math.random()*2+.5)),k.lab.active_experiment=null,n(2,s=!1),Ne(De,o=k,o)}function h(k){let E=Xe(k,o);for(let D=0;D<E.length;D++)ji(E[D].x,E[D].y,o)}const _=()=>{m()},g=()=>{d()},w=k=>{k.cost<o.townInfo.gold&&c(k)};function A(k){i=k,Mi.set(i)}return t.$$.update=()=>{t.$$.dirty&387&&(o?(a=!0,n(0,l=u==!1?f():l),(n(7,r=o.lab.active_experiment)===null||r===void 0?void 0:r.duration)===-1&&n(2,s=!0)):a=!1)},[l,o,s,i,c,d,m,r,u,_,g,w,A]}class w3 extends ve{constructor(e){super(),be(this,e,y3,v3,de,{})}}function ju(t,e,n){const o=t.slice();return o[19]=e[n],o}function Bu(t){let e,n=Ke({length:t[6]}),o=[];for(let i=0;i<n.length;i+=1)o[i]=Vu(ju(t,n,i));return{c(){e=P("div");for(let i=0;i<o.length;i+=1)o[i].c();N(e,"class","confetti-holder svelte-15ksp55"),cn(e,"rounded",t[9]),cn(e,"cone",t[10]),cn(e,"no-gravity",t[11]),cn(e,"reduced-motion",t[13])},m(i,r){M(i,e,r);for(let l=0;l<o.length;l+=1)o[l]&&o[l].m(e,null)},p(i,r){if(r&37375){n=Ke({length:i[6]});let l;for(l=0;l<n.length;l+=1){const a=ju(i,n,l);o[l]?o[l].p(a,r):(o[l]=Vu(a),o[l].c(),o[l].m(e,null))}for(;l<o.length;l+=1)o[l].d(1);o.length=n.length}r&512&&cn(e,"rounded",i[9]),r&1024&&cn(e,"cone",i[10]),r&2048&&cn(e,"no-gravity",i[11]),r&8192&&cn(e,"reduced-motion",i[13])},d(i){i&&T(e),ht(o,i)}}}function Vu(t){let e;return{c(){e=P("div"),N(e,"class","confetti svelte-15ksp55"),xe(e,"--fall-distance",t[8]),xe(e,"--size",t[0]+"px"),xe(e,"--color",t[15]()),xe(e,"--skew",wt(-45,45)+"deg,"+wt(-45,45)+"deg"),xe(e,"--rotation-xyz",wt(-10,10)+", "+wt(-10,10)+", "+wt(-10,10)),xe(e,"--rotation-deg",wt(0,360)+"deg"),xe(e,"--translate-y-multiplier",wt(t[2][0],t[2][1])),xe(e,"--translate-x-multiplier",wt(t[1][0],t[1][1])),xe(e,"--scale",.1*wt(2,10)),xe(e,"--transition-duration",t[4]?`calc(${t[3]}ms * var(--scale))`:`${t[3]}ms`),xe(e,"--transition-delay",wt(t[5][0],t[5][1])+"ms"),xe(e,"--transition-iteration-count",t[4]?"infinite":t[7]),xe(e,"--x-spread",1-t[12])},m(n,o){M(n,e,o)},p(n,o){o&256&&xe(e,"--fall-distance",n[8]),o&1&&xe(e,"--size",n[0]+"px"),o&4&&xe(e,"--translate-y-multiplier",wt(n[2][0],n[2][1])),o&2&&xe(e,"--translate-x-multiplier",wt(n[1][0],n[1][1])),o&24&&xe(e,"--transition-duration",n[4]?`calc(${n[3]}ms * var(--scale))`:`${n[3]}ms`),o&32&&xe(e,"--transition-delay",wt(n[5][0],n[5][1])+"ms"),o&144&&xe(e,"--transition-iteration-count",n[4]?"infinite":n[7]),o&4096&&xe(e,"--x-spread",1-n[12])},d(n){n&&T(e)}}}function k3(t){let e,n=!t[14]&&Bu(t);return{c(){n&&n.c(),e=Le()},m(o,i){n&&n.m(o,i),M(o,e,i)},p(o,[i]){o[14]?n&&(n.d(1),n=null):n?n.p(o,i):(n=Bu(o),n.c(),n.m(e.parentNode,e))},i:ke,o:ke,d(o){o&&T(e),n&&n.d(o)}}}function wt(t,e){return Math.random()*(e-t)+t}function C3(t,e,n){let{size:o=10}=e,{x:i=[-.5,.5]}=e,{y:r=[.25,1]}=e,{duration:l=2e3}=e,{infinite:a=!1}=e,{delay:s=[0,50]}=e,{colorRange:u=[0,360]}=e,{colorArray:f=[]}=e,{amount:c=50}=e,{iterationCount:d=1}=e,{fallDistance:m="100px"}=e,{rounded:h=!1}=e,{cone:_=!1}=e,{noGravity:g=!1}=e,{xSpread:w=.15}=e,{destroyOnComplete:A=!0}=e,{disableForReducedMotion:k=!1}=e,E=!1;fr(()=>{!A||a||d=="infinite"||setTimeout(()=>n(14,E=!0),(l+s[1])*d)});function D(){return f.length?f[Math.round(Math.random()*(f.length-1))]:`hsl(${Math.round(wt(u[0],u[1]))}, 75%, 50%)`}return t.$$set=R=>{"size"in R&&n(0,o=R.size),"x"in R&&n(1,i=R.x),"y"in R&&n(2,r=R.y),"duration"in R&&n(3,l=R.duration),"infinite"in R&&n(4,a=R.infinite),"delay"in R&&n(5,s=R.delay),"colorRange"in R&&n(16,u=R.colorRange),"colorArray"in R&&n(17,f=R.colorArray),"amount"in R&&n(6,c=R.amount),"iterationCount"in R&&n(7,d=R.iterationCount),"fallDistance"in R&&n(8,m=R.fallDistance),"rounded"in R&&n(9,h=R.rounded),"cone"in R&&n(10,_=R.cone),"noGravity"in R&&n(11,g=R.noGravity),"xSpread"in R&&n(12,w=R.xSpread),"destroyOnComplete"in R&&n(18,A=R.destroyOnComplete),"disableForReducedMotion"in R&&n(13,k=R.disableForReducedMotion)},[o,i,r,l,a,s,c,d,m,h,_,g,w,k,E,D,u,f,A]}class A3 extends ve{constructor(e){super(),be(this,e,C3,k3,de,{size:0,x:1,y:2,duration:3,infinite:4,delay:5,colorRange:16,colorArray:17,amount:6,iterationCount:7,fallDistance:8,rounded:9,cone:10,noGravity:11,xSpread:12,destroyOnComplete:18,disableForReducedMotion:13})}}function S3(t){let e,n,o;return{c(){e=P("div"),N(e,"class",n="h-full w-full flex-1 "+t[3]+" transition-all"),N(e,"style",o=`transform: translateX(-${100-100*(t[2]??0)/(t[1]??1)}%)`)},m(i,r){M(i,e,r)},p(i,r){r&8&&n!==(n="h-full w-full flex-1 "+i[3]+" transition-all")&&N(e,"class",n),r&6&&o!==(o=`transform: translateX(-${100-100*(i[2]??0)/(i[1]??1)}%)`)&&N(e,"style",o)},d(i){i&&T(e)}}}function T3(t){let e,n;const o=[{class:Fe("relative h-4 w-full overflow-hidden rounded-full bg-white",t[0])},t[4]];let i={$$slots:{default:[S3]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=x(i,o[r]);return e=new e1({props:i}),{c(){J(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&17?we(o,[l&1&&{class:Fe("relative h-4 w-full overflow-hidden rounded-full bg-white",r[0])},l&16&&rt(r[4])]):{};l&46&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function M3(t,e,n){const o=["class","max","value","color"];let i=ae(e,o),{class:r=void 0}=e,{max:l=100}=e,{value:a=void 0}=e,{color:s="bg-secondary"}=e;return t.$$set=u=>{e=x(x({},e),Re(u)),n(4,i=ae(e,o)),"class"in u&&n(0,r=u.class),"max"in u&&n(1,l=u.max),"value"in u&&n(2,a=u.value),"color"in u&&n(3,s=u.color)},[r,l,a,s,i]}class I3 extends ve{constructor(e){super(),be(this,e,M3,T3,de,{class:0,max:1,value:2,color:3})}}function P3(t){let e;const n=t[5].default,o=pe(n,t,t[6],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&64)&&_e(o,n,i,i[6],e?he(n,i[6],r,null):ge(i[6]),null)},i(i){e||(C(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function O3(t){let e,n;const o=[{transition:t[2]},{transitionConfig:t[3]},{sideOffset:t[1]},{class:Fe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-black shadow-md",t[0])},t[4]];let i={$$slots:{default:[P3]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=x(i,o[r]);return e=new V1({props:i}),{c(){J(e.$$.fragment)},m(r,l){Y(e,r,l),n=!0},p(r,[l]){const a=l&31?we(o,[l&4&&{transition:r[2]},l&8&&{transitionConfig:r[3]},l&2&&{sideOffset:r[1]},l&1&&{class:Fe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-black shadow-md",r[0])},l&16&&rt(r[4])]):{};l&64&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){X(e,r)}}}function N3(t,e,n){const o=["class","sideOffset","transition","transitionConfig"];let i=ae(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{sideOffset:s=4}=e,{transition:u=mr}=e,{transitionConfig:f={y:8,duration:150}}=e;return t.$$set=c=>{e=x(x({},e),Re(c)),n(4,i=ae(e,o)),"class"in c&&n(0,a=c.class),"sideOffset"in c&&n(1,s=c.sideOffset),"transition"in c&&n(2,u=c.transition),"transitionConfig"in c&&n(3,f=c.transitionConfig),"$$scope"in c&&n(6,l=c.$$scope)},[a,s,u,f,i,r,l]}class So extends ve{constructor(e){super(),be(this,e,N3,O3,de,{class:0,sideOffset:1,transition:2,transitionConfig:3})}}const To=T1,Mo=X1;function Gu(t,e,n){const o=t.slice();return o[17]=e[n].name,o[18]=e[n].value,o[19]=e[n].modifier,o}function E3(t){let e,n=t[17]+"",o,i,r=it(t[19],2)+"",l,a,s,u,f;return u=new I3({props:{value:t[18],max:300,class:"w-full h-2",color:t[11](t[18])}}),{c(){e=P("span"),o=q(n),i=q(" (x"),l=q(r),a=q(")"),s=G(),J(u.$$.fragment),N(e,"class","text-xs pb-1")},m(c,d){M(c,e,d),v(e,o),v(e,i),v(e,l),v(e,a),M(c,s,d),Y(u,c,d),f=!0},p(c,d){(!f||d&4)&&n!==(n=c[17]+"")&&se(o,n),(!f||d&4)&&r!==(r=it(c[19],2)+"")&&se(l,r);const m={};d&4&&(m.value=c[18]),d&4&&(m.color=c[11](c[18])),u.$set(m)},i(c){f||(C(u.$$.fragment,c),f=!0)},o(c){S(u.$$.fragment,c),f=!1},d(c){c&&(T(e),T(s)),X(u,c)}}}function R3(t){let e,n,o=t[17]+"",i,r,l,a,s=it(t[18],0)+"",u,f,c,d,m,h=it(t[19],0)+"",_;return{c(){e=P("div"),n=P("span"),i=q(o),r=G(),l=P("span"),a=q("Base: "),u=q(s),f=q(" / 300"),c=G(),d=P("span"),m=q("Modifier: "),_=q(h),N(n,"class","text-sm font-bold"),N(l,"class","text-xs"),N(d,"class","text-xs"),N(e,"class","flex flex-col justify-between p-0 m-0")},m(g,w){M(g,e,w),v(e,n),v(n,i),v(e,r),v(e,l),v(l,a),v(l,u),v(l,f),v(e,c),v(e,d),v(d,m),v(d,_)},p(g,w){w&4&&o!==(o=g[17]+"")&&se(i,o),w&4&&s!==(s=it(g[18],0)+"")&&se(u,s),w&4&&h!==(h=it(g[19],0)+"")&&se(_,h)},d(g){g&&T(e)}}}function D3(t){let e,n,o,i;return e=new Mo({props:{class:"h-min w-full mt-0 flex flex-col",$$slots:{default:[E3]},$$scope:{ctx:t}}}),o=new So({props:{class:t[11](t[18]),$$slots:{default:[R3]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=G(),J(o.$$.fragment)},m(r,l){Y(e,r,l),M(r,n,l),Y(o,r,l),i=!0},p(r,l){const a={};l&4194308&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&4&&(s.class=r[11](r[18])),l&4194308&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function Hu(t){let e,n,o,i;return n=new To({props:{openDelay:400,closeDelay:0,$$slots:{default:[D3]},$$scope:{ctx:t}}}),{c(){e=P("div"),J(n.$$.fragment),o=G(),N(e,"class","flex flex-col gap-2")},m(r,l){M(r,e,l),Y(n,e,null),v(e,o),i=!0},p(r,l){const a={};l&4194308&&(a.$$scope={dirty:l,ctx:r}),n.$set(a)},i(r){i||(C(n.$$.fragment,r),i=!0)},o(r){S(n.$$.fragment,r),i=!1},d(r){r&&T(e),X(n)}}}function L3(t){let e,n,o=t[0].economyAndLaws.weeklyProfit+"",i;return{c(){e=P("span"),n=q("+$"),i=q(o),N(e,"class","text-textPrimary")},m(r,l){M(r,e,l),v(e,n),v(e,i)},p(r,l){l&1&&o!==(o=r[0].economyAndLaws.weeklyProfit+"")&&se(i,o)},d(r){r&&T(e)}}}function $3(t){let e,n=t[0].economyAndLaws.weeklyProfit+"",o;return{c(){e=P("span"),o=q(n),N(e,"class","text-textDanger2")},m(i,r){M(i,e,r),v(e,o)},p(i,r){r&1&&n!==(n=i[0].economyAndLaws.weeklyProfit+"")&&se(o,n)},d(i){i&&T(e)}}}function F3(t){let e,n,o=t[0].economyAndLaws.weeklyProfit+"",i;return{c(){e=P("span"),n=q("+$"),i=q(o),N(e,"class","text-textHappy")},m(r,l){M(r,e,l),v(e,n),v(e,i)},p(r,l){l&1&&o!==(o=r[0].economyAndLaws.weeklyProfit+"")&&se(i,o)},d(r){r&&T(e)}}}function q3(t){let e=it(t[0].townInfo.employees/t[0].townInfo.population_count*100,0)+"",n,o,i=t[0].townInfo.employees+"",r,l,a=t[0].townInfo.population_count+"",s,u,f=t[0].townInfo.population_count-t[0].townInfo.employees+"",c,d;return{c(){n=q(e),o=q("% employment ("),r=q(i),l=q("/"),s=q(a),u=q(" - "),c=q(f),d=q(" unemployed)")},m(m,h){M(m,n,h),M(m,o,h),M(m,r,h),M(m,l,h),M(m,s,h),M(m,u,h),M(m,c,h),M(m,d,h)},p(m,h){h&1&&e!==(e=it(m[0].townInfo.employees/m[0].townInfo.population_count*100,0)+"")&&se(n,e),h&1&&i!==(i=m[0].townInfo.employees+"")&&se(r,i),h&1&&a!==(a=m[0].townInfo.population_count+"")&&se(s,a),h&1&&f!==(f=m[0].townInfo.population_count-m[0].townInfo.employees+"")&&se(c,f)},d(m){m&&(T(n),T(o),T(r),T(l),T(s),T(u),T(c),T(d))}}}function j3(t){let e;function n(r,l){return r[0].townInfo.population_count===0?V3:B3}let o=n(t),i=o(t);return{c(){i.c(),e=Le()},m(r,l){i.m(r,l),M(r,e,l)},p(r,l){o!==(o=n(r))&&(i.d(1),i=o(r),i&&(i.c(),i.m(e.parentNode,e)))},d(r){r&&T(e),i.d(r)}}}function B3(t){let e;return{c(){e=q("All citizens employed")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function V3(t){let e;return{c(){e=q("Nobody lives here , build some homes")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function G3(t){let e;return{c(){e=P("div"),e.textContent="Manage Knowledge"},m(n,o){M(n,e,o)},p:ke,d(n){n&&T(e)}}}function H3(t){let e;return{c(){e=P("div"),e.textContent="City Management"},m(n,o){M(n,e,o)},p:ke,d(n){n&&T(e)}}}function Wu(t){let e;function n(r,l){if(r[0].lab.active_experiment.duration>0)return K3;if(r[0].lab.active_experiment.duration===0)return W3}let o=n(t),i=o&&o(t);return{c(){i&&i.c(),e=Le()},m(r,l){i&&i.m(r,l),M(r,e,l)},p(r,l){o===(o=n(r))&&i?i.p(r,l):(i&&i.d(1),i=o&&o(r),i&&(i.c(),i.m(e.parentNode,e)))},d(r){r&&T(e),i&&i.d(r)}}}function W3(t){let e;return{c(){e=P("span"),e.textContent="✅ DONE!",N(e,"class","animate-pulse ")},m(n,o){M(n,e,o)},p:ke,d(n){n&&T(e)}}}function K3(t){let e,n=t[0].lab.active_experiment.duration+"",o,i;return{c(){e=P("span"),o=q(n),i=q("d")},m(r,l){M(r,e,l),v(e,o),v(e,i)},p(r,l){l&1&&n!==(n=r[0].lab.active_experiment.duration+"")&&se(o,n)},d(r){r&&T(e)}}}function U3(t){let e,n,o=t[0].lab.active_experiment!==null&&Wu(t);return{c(){e=P("div"),n=q(`Manage Lab
            `),o&&o.c()},m(i,r){M(i,e,r),v(e,n),o&&o.m(e,null)},p(i,r){i[0].lab.active_experiment!==null?o?o.p(i,r):(o=Wu(i),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},d(i){i&&T(e),o&&o.d()}}}function Ku(t){let e,n,o,i;return o=new To({props:{openDelay:400,closeDelay:0,$$slots:{default:[J3]},$$scope:{ctx:t}}}),{c(){e=P("div"),n=P("div"),J(o.$$.fragment),N(n,"class","flex flex-row justify-center text-xs bg-white rounded-t-2xl text-black py-2 whitespace-nowrap px-2 opacity-50"),N(e,"class","flex flex-col justify-center items-center ")},m(r,l){M(r,e,l),v(e,n),Y(o,n,null),i=!0},p(r,l){const a={};l&4194305&&(a.$$scope={dirty:l,ctx:r}),o.$set(a)},i(r){i||(C(o.$$.fragment,r),i=!0)},o(r){S(o.$$.fragment,r),i=!1},d(r){r&&T(e),X(o)}}}function Y3(t){let e,n,o,i,r=qt[t[0].currentTutorialStep-1].goldReward+"",l;return{c(){e=P("span"),n=q(`Last reward
                  `),o=P("div"),i=q("💰"),l=q(r),N(e,"class","w-full no-select opacity-70 whitespace-nowrap text-center")},m(a,s){M(a,e,s),v(e,n),v(e,o),v(o,i),v(o,l)},p(a,s){s&1&&r!==(r=qt[a[0].currentTutorialStep-1].goldReward+"")&&se(l,r)},d(a){a&&T(e)}}}function X3(t){let e,n=qt[t[0].currentTutorialStep-1].message+"",o;return{c(){e=q("Last completed task: "),o=q(n)},m(i,r){M(i,e,r),M(i,o,r)},p(i,r){r&1&&n!==(n=qt[i[0].currentTutorialStep-1].message+"")&&se(o,n)},d(i){i&&(T(e),T(o))}}}function J3(t){let e,n,o,i;return e=new Mo({props:{$$slots:{default:[Y3]},$$scope:{ctx:t}}}),o=new So({props:{class:"bg-black text-white rounded-2xl",$$slots:{default:[X3]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=G(),J(o.$$.fragment)},m(r,l){Y(e,r,l),M(r,n,l),Y(o,r,l),i=!0},p(r,l){const a={};l&4194305&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&4194305&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function Uu(t){let e,n;return e=new A3({props:{y:[-.5,.5],x:[-.5,.5],duration:2e3}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function x3(t){let e=qt[t[0].currentTutorialStep].message+"",n,o,i,r,l=qt[t[0].currentTutorialStep].goldReward+"",a,s;return{c(){n=q(e),o=G(),i=P("span"),r=q("(💰"),a=q(l),s=q(")"),N(i,"class","opacity-40")},m(u,f){M(u,n,f),M(u,o,f),M(u,i,f),v(i,r),v(i,a),v(i,s)},p(u,f){f&1&&e!==(e=qt[u[0].currentTutorialStep].message+"")&&se(n,e),f&1&&l!==(l=qt[u[0].currentTutorialStep].goldReward+"")&&se(a,l)},d(u){u&&(T(n),T(o),T(i))}}}function Z3(t){let e;return{c(){e=q("No more goals!")},m(n,o){M(n,e,o)},p:ke,d(n){n&&T(e)}}}function Q3(t){let e,n,o,i,r,l,a,s,u,f=t[0].townInfo.name+"",c,d,m,h,_,g=t[0].townInfo.population_count+"",w,A,k=t[0].townInfo.population_max+"",E,D,R,V,F,L=gn(t[0].townInfo.gold,!1)+"",U,y,b,I,O,W,$,Z,ee,Q,K,te,ne,p,H,j,ie,re,Ae,$e,Me,ze,ce,Ee,He,Be,Ue,Ce,Se,yt,Dt,at,Lt,ut,mt,nt,me,We,B,ts,ni,oi=t[0].environment.day%365+1+"",Cr,ns,xn,ii,os,ri,li=Math.floor(t[0].environment.day/365)+1+"",Ar,is,un,Zn,rs,si,ls,Qn,ss,ai,as,zn,us,ui,fi,ft,Sr,fs,Sn=Ke(t[2]),tt=[];for(let ye=0;ye<Sn.length;ye+=1)tt[ye]=Hu(Gu(t,Sn,ye));const Od=ye=>S(tt[ye],1,1,()=>{tt[ye]=null});function cs(ye,Ve){return ye[0].economyAndLaws.weeklyProfit>0?F3:ye[0].economyAndLaws.weeklyProfit<0?$3:L3}let ci=cs(t),Vt=ci(t);function ds(ye,Ve){return ye[0].townInfo.employees==ye[0].townInfo.population_count?j3:q3}let di=ds(t),Gt=di(t);j=new Et({props:{class:"text-xs flex flex-col h-min  bg-button cursor-pointer text-textPrimary p-1.5",$$slots:{default:[G3]},$$scope:{ctx:t}}}),j.$on("click",t[12]),re=new Et({props:{class:"text-xs flex flex-col h-min  bg-button cursor-pointer text-textPrimary p-1.5",$$slots:{default:[H3]},$$scope:{ctx:t}}}),re.$on("click",t[13]),$e=new Et({props:{class:"text-xs flex flex-col h-min p-1.5 "+(t[0].hasLab?"bg-button cursor-pointer text-textPrimary":"bg-button cursor-not-allowed text-textPrimary opacity-35"),$$slots:{default:[U3]},$$scope:{ctx:t}}}),$e.$on("click",t[10]);let lt=t[0].currentTutorialStep!=0&&Ku(t),ct=t[7]&&Uu();function ms(ye,Ve){return ye[0].currentTutorialStep>=qt.length?Z3:x3}let mi=ms(t),Ht=mi(t);return{c(){e=P("div"),n=P("div"),o=P("div");for(let ye=0;ye<tt.length;ye+=1)tt[ye].c();i=G(),r=P("div"),l=P("div"),a=P("div"),s=P("div"),u=P("h1"),c=q(f),d=G(),m=P("div"),h=P("span"),_=q("👥 "),w=q(g),A=q(" / "),E=q(k),D=G(),R=P("span"),V=P("span"),F=q("💰 "),U=q(L),y=G(),b=P("span"),I=G(),Vt.c(),O=G(),W=P("span"),W.textContent="(weekly)",$=G(),Z=P("div"),Gt.c(),Q=G(),K=P("span"),te=q("Game time: "),ne=q(t[1]),p=G(),H=P("div"),J(j.$$.fragment),ie=G(),J(re.$$.fragment),Ae=G(),J($e.$$.fragment),Me=G(),ze=P("div"),ce=P("div"),lt&&lt.c(),Ee=G(),ct&&ct.c(),He=G(),Be=P("div"),Ue=P("div"),Ue.textContent="👨‍🦰",Ce=G(),Se=P("div"),Ht.c(),Dt=G(),at=P("div"),Lt=P("div"),ut=P("div"),mt=P("div"),mt.innerHTML='<span class="text-xs text-secondary cursor-pointer">Press P to Pause</span>',nt=G(),me=P("div"),We=P("span"),B=P("span"),B.textContent="Day",ts=G(),ni=P("span"),Cr=q(oi),ns=G(),xn=P("span"),ii=P("span"),ii.textContent="Year",os=G(),ri=P("span"),Ar=q(li),is=G(),un=P("div"),Zn=P("span"),rs=q("Slow"),ls=G(),Qn=P("span"),ss=q("Normal"),as=G(),zn=P("span"),us=q("Fast"),N(o,"class","flex flex-col w-36 text-foregroundText bg-accent p-2 rounded-xl gap-2 mr-2"),N(u,"class","font-bold cursor-pointer w-full pb-2 text-start select-none"),N(s,"class","cursor-pointer transition-all duration=150 min-h-8"),N(h,"class","text-sm"),N(V,"class","text-sm"),N(b,"class","pl-2"),N(W,"class","text-gray-400"),N(R,"class","text-xs"),N(m,"class","flex flex-row gap-4 flex-wrap items-center"),N(Z,"class",ee="text-xs pt-1 "+(t[0].townInfo.employees==t[0].townInfo.population_count?"text-textPrimary":t[0].townInfo.employees>t[0].townInfo.population_count*.95?"text-textDanger3":t[0].townInfo.employees>t[0].townInfo.population_count*.9?"text-textDanger2":"text-textDanger1")),N(K,"class","text-xs text-secondary cursor-pointer"),N(a,"class","flex flex-col justify-between"),N(l,"class","rounded-xl"),N(H,"class","flex flex-row gap-2 align-middle justify-center items-center "),N(r,"class","flex justify-between flex-col"),N(n,"class","flex flex-row gap-2 my-2 h-max"),N(Ue,"class","text-lg h-max"),N(Se,"class","text-xs ml-2 overflow-auto opacity-80"),N(Be,"class","gap flex-row items-center flex bg-white text-slate-800 py-1 px-2 rounded-xl w-full"),N(ce,"class","flex flex-col justify-center w-full align-middle items-center"),N(ze,"class",yt="flex flex-row flex-wrap align-middle justify-center items-center w-80 "+(t[7]?"opacity-25 ":"")+" transition-all duration-700"),N(B,"class","text-xs"),N(ni,"class","font-semibold text-xs"),N(We,"class","flex flex-col gap-2 text-center"),N(ii,"class","text-xs"),N(ri,"class","font-semibold text-xs"),N(xn,"class","flex flex-col gap-2 text-center"),N(me,"class","rounded-xl bg-accent flex-row justify-between text-accentText w-36 h-14 flex px-6 items-center mb-2"),N(Zn,"class",si=(t[3].toString()==="2000"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"),N(Qn,"class",ai=(t[3].toString()==="750"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"),N(zn,"class",ui=(t[3].toString()==="200"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"),N(un,"class","flex flex-row gap-2 align-middle justify-center items-center"),N(ut,"class","flex flex-col items-center h-max"),N(Lt,"class","flex flex-col"),N(at,"class","flex justify-center align-middle flex-col"),N(e,"class",fi="flex justify-between px-6 gap-6 flex-row text-start fixed top-0 left-0 right-0 cursor-default z-20 bg-foreground text-foregroundText h-max "+(t[4].visible?"opacity-70":""))},m(ye,Ve){M(ye,e,Ve),v(e,n),v(n,o);for(let Tn=0;Tn<tt.length;Tn+=1)tt[Tn]&&tt[Tn].m(o,null);v(n,i),v(n,r),v(r,l),v(l,a),v(a,s),v(s,u),v(u,c),v(a,d),v(a,m),v(m,h),v(h,_),v(h,w),v(h,A),v(h,E),v(m,D),v(m,R),v(R,V),v(V,F),v(V,U),v(R,y),v(R,b),v(R,I),Vt.m(R,null),v(R,O),v(R,W),v(a,$),v(a,Z),Gt.m(Z,null),v(a,Q),v(a,K),v(K,te),v(K,ne),v(r,p),v(r,H),Y(j,H,null),v(H,ie),Y(re,H,null),v(H,Ae),Y($e,H,null),v(e,Me),v(e,ze),v(ze,ce),lt&&lt.m(ce,null),v(ce,Ee),ct&&ct.m(ce,null),v(ce,He),v(ce,Be),v(Be,Ue),v(Be,Ce),v(Be,Se),Ht.m(Se,null),v(e,Dt),v(e,at),v(at,Lt),v(Lt,ut),v(ut,mt),v(ut,nt),v(ut,me),v(me,We),v(We,B),v(We,ts),v(We,ni),v(ni,Cr),v(me,ns),v(me,xn),v(xn,ii),v(xn,os),v(xn,ri),v(ri,Ar),v(ut,is),v(ut,un),v(un,Zn),v(Zn,rs),v(un,ls),v(un,Qn),v(Qn,ss),v(un,as),v(un,zn),v(zn,us),ft=!0,Sr||(fs=[z(s,"click",t[8]),z(Zn,"click",t[14]),z(Qn,"click",t[15]),z(zn,"click",t[16])],Sr=!0)},p(ye,[Ve]){if(Ve&2052){Sn=Ke(ye[2]);let _t;for(_t=0;_t<Sn.length;_t+=1){const hs=Gu(ye,Sn,_t);tt[_t]?(tt[_t].p(hs,Ve),C(tt[_t],1)):(tt[_t]=Hu(hs),tt[_t].c(),C(tt[_t],1),tt[_t].m(o,null))}for(Ie(),_t=Sn.length;_t<tt.length;_t+=1)Od(_t);Pe()}(!ft||Ve&1)&&f!==(f=ye[0].townInfo.name+"")&&se(c,f),(!ft||Ve&1)&&g!==(g=ye[0].townInfo.population_count+"")&&se(w,g),(!ft||Ve&1)&&k!==(k=ye[0].townInfo.population_max+"")&&se(E,k),(!ft||Ve&1)&&L!==(L=gn(ye[0].townInfo.gold,!1)+"")&&se(U,L),ci===(ci=cs(ye))&&Vt?Vt.p(ye,Ve):(Vt.d(1),Vt=ci(ye),Vt&&(Vt.c(),Vt.m(R,O))),di===(di=ds(ye))&&Gt?Gt.p(ye,Ve):(Gt.d(1),Gt=di(ye),Gt&&(Gt.c(),Gt.m(Z,null))),(!ft||Ve&1&&ee!==(ee="text-xs pt-1 "+(ye[0].townInfo.employees==ye[0].townInfo.population_count?"text-textPrimary":ye[0].townInfo.employees>ye[0].townInfo.population_count*.95?"text-textDanger3":ye[0].townInfo.employees>ye[0].townInfo.population_count*.9?"text-textDanger2":"text-textDanger1")))&&N(Z,"class",ee),(!ft||Ve&2)&&se(ne,ye[1]);const Tn={};Ve&4194304&&(Tn.$$scope={dirty:Ve,ctx:ye}),j.$set(Tn);const ps={};Ve&4194304&&(ps.$$scope={dirty:Ve,ctx:ye}),re.$set(ps);const Tr={};Ve&1&&(Tr.class="text-xs flex flex-col h-min p-1.5 "+(ye[0].hasLab?"bg-button cursor-pointer text-textPrimary":"bg-button cursor-not-allowed text-textPrimary opacity-35")),Ve&4194305&&(Tr.$$scope={dirty:Ve,ctx:ye}),$e.$set(Tr),ye[0].currentTutorialStep!=0?lt?(lt.p(ye,Ve),Ve&1&&C(lt,1)):(lt=Ku(ye),lt.c(),C(lt,1),lt.m(ce,Ee)):lt&&(Ie(),S(lt,1,1,()=>{lt=null}),Pe()),ye[7]?ct?Ve&128&&C(ct,1):(ct=Uu(),ct.c(),C(ct,1),ct.m(ce,He)):ct&&(Ie(),S(ct,1,1,()=>{ct=null}),Pe()),mi===(mi=ms(ye))&&Ht?Ht.p(ye,Ve):(Ht.d(1),Ht=mi(ye),Ht&&(Ht.c(),Ht.m(Se,null))),(!ft||Ve&128&&yt!==(yt="flex flex-row flex-wrap align-middle justify-center items-center w-80 "+(ye[7]?"opacity-25 ":"")+" transition-all duration-700"))&&N(ze,"class",yt),(!ft||Ve&1)&&oi!==(oi=ye[0].environment.day%365+1+"")&&se(Cr,oi),(!ft||Ve&1)&&li!==(li=Math.floor(ye[0].environment.day/365)+1+"")&&se(Ar,li),(!ft||Ve&8&&si!==(si=(ye[3].toString()==="2000"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"))&&N(Zn,"class",si),(!ft||Ve&8&&ai!==(ai=(ye[3].toString()==="750"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"))&&N(Qn,"class",ai),(!ft||Ve&8&&ui!==(ui=(ye[3].toString()==="200"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"))&&N(zn,"class",ui),(!ft||Ve&16&&fi!==(fi="flex justify-between px-6 gap-6 flex-row text-start fixed top-0 left-0 right-0 cursor-default z-20 bg-foreground text-foregroundText h-max "+(ye[4].visible?"opacity-70":"")))&&N(e,"class",fi)},i(ye){if(!ft){for(let Ve=0;Ve<Sn.length;Ve+=1)C(tt[Ve]);C(j.$$.fragment,ye),C(re.$$.fragment,ye),C($e.$$.fragment,ye),C(lt),C(ct),ft=!0}},o(ye){tt=tt.filter(Boolean);for(let Ve=0;Ve<tt.length;Ve+=1)S(tt[Ve]);S(j.$$.fragment,ye),S(re.$$.fragment,ye),S($e.$$.fragment,ye),S(lt),S(ct),ft=!1},d(ye){ye&&T(e),ht(tt,ye),Vt.d(),Gt.d(),X(j),X(re),X($e),lt&&lt.d(),ct&&ct.d(),Ht.d(),Sr=!1,qe(fs)}}}function z3(t,e,n){let o,i,r,l,a,s;fe(t,De,E=>n(0,o=E)),fe(t,xr,E=>n(3,i=E)),fe(t,Qe,E=>n(4,r=E)),fe(t,Bi,E=>n(5,l=E)),fe(t,Gi,E=>n(6,a=E)),fe(t,Ti,E=>n(7,s=E)),fr(()=>{const E=setInterval(()=>{Ne(De,o.timeSpent+=1e3,o)},1e3);return()=>{clearInterval(E)}});function u(){let E=prompt("Enter a new name for your town (under 200 chars)");if(E&&E.length<200&&E.length>=1){let D=o;D.townInfo.name=E,De.set(D),localStorage.setItem(jt,JSON.stringify(D))}}function f(E){return Ne(xr,i=E,i),document.querySelectorAll(".speedButton").forEach(R=>{R.classList.remove("active")}),i}function c(){o.hasLab&&Mi.set(!0)}let d="00:00:00",m;const h=E=>E>149?"bg-green-500":E<149&&E>99?"bg-yellow-500":"bg-red-500",_=function(){Ne(Bi,l=!l,l)},g=function(){Ne(Gi,a=!a,a)},w=()=>f(2e3),A=()=>f(750),k=()=>f(200);return t.$$.update=()=>{t.$$.dirty&1&&(o.timeSpent>0?n(1,d=Ym(o.timeSpent)):n(1,d="00:00:00")),t.$$.dirty&1&&n(2,m=[{name:"Happiness",description:"Happy townspeople spend more money and are less likely to leave.",value:o.townInfo.happiness,modifier:o.modifiers.happiness},{name:"Health",description:"Healthy townspeople are less likely to die (and leave the town obviously).",value:o.townInfo.health,modifier:o.modifiers.health},{name:"Community",description:"Townspeople that feel at home are less likely to leave, and less likely to get bored.",value:o.townInfo.community,modifier:o.modifiers.community}])},[o,d,m,i,r,l,a,s,u,f,c,h,_,g,w,A,k]}class e4 extends ve{constructor(e){super(),be(this,e,z3,Q3,de,{})}}function Yu(t,e,n){const o=t.slice();return o[4]=e[n],o[6]=n,o}function Xu(t,e,n){const o=t.slice();return o[4]=e[n],o[6]=n,o}function Ju(t){let e,n,o,i=le[Te(t[0].id)].title+"",r,l,a,s=le[Te(t[0].id)].description+"",u,f,c,d,m,h,_,g,w,A=t[3]("💰",le[Te(t[0].id)].requirements.gold,t[2].townInfo.gold)+"",k,E,D=t[3]("🥕",le[Te(t[0].id)].requirements.resources.food,t[2].resources.food)+"",R,V,F=t[3]("🧠",le[Te(t[0].id)].requirements.knowledge,t[2].townInfo.knowledge_points)+"",L,U,y=t[3]("🪵",le[Te(t[0].id)].requirements.resources.wood,t[2].resources.wood)+"",b,I,O=t[3]("🪨",le[Te(t[0].id)].requirements.resources.stone,t[2].resources.stone)+"",W,$,Z=t[3]("🧲",le[Te(t[0].id)].requirements.resources.metal,t[2].resources.metal)+"",ee,Q,K=t[3]("🔋",le[Te(t[0].id)].active_costs.power,t[2].resources.power)+"",te,ne,p=t[3]("🧑‍⚖️",le[Te(t[0].id)].requirements.resources.bureaucracy,t[2].resources.bureaucracy)+"",H,j=le[Te(t[0].id)].requirements.employees!=0,ie,re=le[Te(t[0].id)].revenue_per_week!=0,Ae,$e=Object.values(le[Te(t[0].id)].active_costs).some(sf),Me,ze=Object.values(le[Te(t[0].id)].generated_resources).some(lf)||le[Te(t[0].id)].knowledge_points_per_month>0,ce;d=new Ct({props:{class:"bg-secondary opacity-25 mt-1 mb-1"}});let Ee=j&&xu(t),He=re&&Zu(t),Be=$e&&Qu(t),Ue=ze&&tf(t);return{c(){e=P("div"),n=P("div"),o=P("span"),r=q(i),l=G(),a=P("span"),u=q(s),f=G(),c=P("div"),J(d.$$.fragment),m=G(),h=P("span"),h.textContent="Requirements",_=G(),g=P("div"),w=new dn(!1),k=G(),E=new dn(!1),R=G(),V=new dn(!1),L=G(),U=new dn(!1),b=G(),I=new dn(!1),W=G(),$=new dn(!1),ee=G(),Q=new dn(!1),te=G(),ne=new dn(!1),H=G(),Ee&&Ee.c(),ie=G(),He&&He.c(),Ae=G(),Be&&Be.c(),Me=G(),Ue&&Ue.c(),N(o,"class","text-md"),N(a,"class","text-xs"),N(n,"class","flex flex-col gap-2"),N(h,"class","font-semibold"),w.a=k,E.a=R,V.a=L,U.a=b,I.a=W,$.a=ee,Q.a=te,ne.a=H,N(g,"class","flex flex-col gap-1"),N(c,"class","flex flex-col w-36 h-min gap-0 text-xs pb-2"),N(e,"class","p-2")},m(Ce,Se){M(Ce,e,Se),v(e,n),v(n,o),v(o,r),v(n,l),v(n,a),v(a,u),v(e,f),v(e,c),Y(d,c,null),v(c,m),v(c,h),v(c,_),v(c,g),w.m(A,g),v(g,k),E.m(D,g),v(g,R),V.m(F,g),v(g,L),U.m(y,g),v(g,b),I.m(O,g),v(g,W),$.m(Z,g),v(g,ee),Q.m(K,g),v(g,te),ne.m(p,g),v(g,H),Ee&&Ee.m(g,null),v(e,ie),He&&He.m(e,null),v(e,Ae),Be&&Be.m(e,null),v(e,Me),Ue&&Ue.m(e,null),ce=!0},p(Ce,Se){(!ce||Se&1)&&i!==(i=le[Te(Ce[0].id)].title+"")&&se(r,i),(!ce||Se&1)&&s!==(s=le[Te(Ce[0].id)].description+"")&&se(u,s),(!ce||Se&5)&&A!==(A=Ce[3]("💰",le[Te(Ce[0].id)].requirements.gold,Ce[2].townInfo.gold)+"")&&w.p(A),(!ce||Se&5)&&D!==(D=Ce[3]("🥕",le[Te(Ce[0].id)].requirements.resources.food,Ce[2].resources.food)+"")&&E.p(D),(!ce||Se&5)&&F!==(F=Ce[3]("🧠",le[Te(Ce[0].id)].requirements.knowledge,Ce[2].townInfo.knowledge_points)+"")&&V.p(F),(!ce||Se&5)&&y!==(y=Ce[3]("🪵",le[Te(Ce[0].id)].requirements.resources.wood,Ce[2].resources.wood)+"")&&U.p(y),(!ce||Se&5)&&O!==(O=Ce[3]("🪨",le[Te(Ce[0].id)].requirements.resources.stone,Ce[2].resources.stone)+"")&&I.p(O),(!ce||Se&5)&&Z!==(Z=Ce[3]("🧲",le[Te(Ce[0].id)].requirements.resources.metal,Ce[2].resources.metal)+"")&&$.p(Z),(!ce||Se&5)&&K!==(K=Ce[3]("🔋",le[Te(Ce[0].id)].active_costs.power,Ce[2].resources.power)+"")&&Q.p(K),(!ce||Se&5)&&p!==(p=Ce[3]("🧑‍⚖️",le[Te(Ce[0].id)].requirements.resources.bureaucracy,Ce[2].resources.bureaucracy)+"")&&ne.p(p),Se&1&&(j=le[Te(Ce[0].id)].requirements.employees!=0),j?Ee?Ee.p(Ce,Se):(Ee=xu(Ce),Ee.c(),Ee.m(g,null)):Ee&&(Ee.d(1),Ee=null),Se&1&&(re=le[Te(Ce[0].id)].revenue_per_week!=0),re?He?(He.p(Ce,Se),Se&1&&C(He,1)):(He=Zu(Ce),He.c(),C(He,1),He.m(e,Ae)):He&&(Ie(),S(He,1,1,()=>{He=null}),Pe()),Se&1&&($e=Object.values(le[Te(Ce[0].id)].active_costs).some(sf)),$e?Be?(Be.p(Ce,Se),Se&1&&C(Be,1)):(Be=Qu(Ce),Be.c(),C(Be,1),Be.m(e,Me)):Be&&(Ie(),S(Be,1,1,()=>{Be=null}),Pe()),Se&1&&(ze=Object.values(le[Te(Ce[0].id)].generated_resources).some(lf)||le[Te(Ce[0].id)].knowledge_points_per_month>0),ze?Ue?(Ue.p(Ce,Se),Se&1&&C(Ue,1)):(Ue=tf(Ce),Ue.c(),C(Ue,1),Ue.m(e,null)):Ue&&(Ie(),S(Ue,1,1,()=>{Ue=null}),Pe())},i(Ce){ce||(C(d.$$.fragment,Ce),C(He),C(Be),C(Ue),ce=!0)},o(Ce){S(d.$$.fragment,Ce),S(He),S(Be),S(Ue),ce=!1},d(Ce){Ce&&T(e),X(d),Ee&&Ee.d(),He&&He.d(),Be&&Be.d(),Ue&&Ue.d()}}}function xu(t){let e,n,o=le[Te(t[0].id)].requirements.employees+"",i,r,l;return{c(){e=P("span"),n=q("👥 "),i=q(o),r=q(" employees"),N(e,"class",l=le[Te(t[0].id)].requirements.employees>t[2].townInfo.population_count-t[2].townInfo.employees&&t[1]?"px-1 text-textDanger1 font-bold border-2 border-red-400":"")},m(a,s){M(a,e,s),v(e,n),v(e,i),v(e,r)},p(a,s){s&1&&o!==(o=le[Te(a[0].id)].requirements.employees+"")&&se(i,o),s&7&&l!==(l=le[Te(a[0].id)].requirements.employees>a[2].townInfo.population_count-a[2].townInfo.employees&&a[1]?"px-1 text-textDanger1 font-bold border-2 border-red-400":"")&&N(e,"class",l)},d(a){a&&T(e)}}}function Zu(t){let e,n,o,i,r,l,a,s=le[Te(t[0].id)].revenue_per_week+"",u,f;return n=new Ct({props:{class:"bg-secondary opacity-25 mt-0"}}),{c(){e=P("div"),J(n.$$.fragment),o=G(),i=P("span"),i.textContent="Weekly revenue",r=G(),l=P("span"),a=q("💰 "),u=q(s),N(i,"class","font-semibold"),N(e,"class","flex flex-col gap-1 text-xs")},m(c,d){M(c,e,d),Y(n,e,null),v(e,o),v(e,i),v(e,r),v(e,l),v(l,a),v(l,u),f=!0},p(c,d){(!f||d&1)&&s!==(s=le[Te(c[0].id)].revenue_per_week+"")&&se(u,s)},i(c){f||(C(n.$$.fragment,c),f=!0)},o(c){S(n.$$.fragment,c),f=!1},d(c){c&&T(e),X(n)}}}function Qu(t){let e,n,o,i,r,l;n=new Ct({props:{class:"bg-secondary opacity-25 mt-2"}});let a=Ke(Object.keys(le[Te(t[0].id)].active_costs)),s=[];for(let u=0;u<a.length;u+=1)s[u]=ef(Xu(t,a,u));return{c(){e=P("div"),J(n.$$.fragment),o=G(),i=P("span"),i.textContent="Weekly Costs",r=G();for(let u=0;u<s.length;u+=1)s[u].c();N(i,"class","font-semibold"),N(e,"class","flex flex-col gap-1 text-xs")},m(u,f){M(u,e,f),Y(n,e,null),v(e,o),v(e,i),v(e,r);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(e,null);l=!0},p(u,f){if(f&1){a=Ke(Object.keys(le[Te(u[0].id)].active_costs));let c;for(c=0;c<a.length;c+=1){const d=Xu(u,a,c);s[c]?s[c].p(d,f):(s[c]=ef(d),s[c].c(),s[c].m(e,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=a.length}},i(u){l||(C(n.$$.fragment,u),l=!0)},o(u){S(n.$$.fragment,u),l=!1},d(u){u&&T(e),X(n),ht(s,u)}}}function zu(t){let e,n=mo(t[4])+"",o,i,r=sr(t[4])+"",l,a,s=-1*Object.values(le[Te(t[0].id)].active_costs)[t[6]]+"",u,f,c;return{c(){e=P("span"),o=q(n),i=G(),l=q(r),a=G(),u=q(s),f=G(),N(e,"class",c=Object.values(le[Te(t[0].id)].active_costs)[t[6]]>0?"text-textDanger1":"text-textHappyDark")},m(d,m){M(d,e,m),v(e,o),v(e,i),v(e,l),v(e,a),v(e,u),v(e,f)},p(d,m){m&1&&n!==(n=mo(d[4])+"")&&se(o,n),m&1&&r!==(r=sr(d[4])+"")&&se(l,r),m&1&&s!==(s=-1*Object.values(le[Te(d[0].id)].active_costs)[d[6]]+"")&&se(u,s),m&1&&c!==(c=Object.values(le[Te(d[0].id)].active_costs)[d[6]]>0?"text-textDanger1":"text-textHappyDark")&&N(e,"class",c)},d(d){d&&T(e)}}}function ef(t){let e=Object.values(le[Te(t[0].id)].active_costs)[t[6]]!=0,n,o=e&&zu(t);return{c(){o&&o.c(),n=Le()},m(i,r){o&&o.m(i,r),M(i,n,r)},p(i,r){r&1&&(e=Object.values(le[Te(i[0].id)].active_costs)[i[6]]!=0),e?o?o.p(i,r):(o=zu(i),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(i){i&&T(n),o&&o.d(i)}}}function tf(t){let e,n,o,i,r,l=le[Te(t[0].id)].knowledge_points_per_month>0,a,s;n=new Ct({props:{class:"bg-secondary opacity-25 mt-2"}});let u=l&&nf(t),f=Ke(Object.keys(le[Te(t[0].id)].generated_resources)),c=[];for(let d=0;d<f.length;d+=1)c[d]=rf(Yu(t,f,d));return{c(){e=P("div"),J(n.$$.fragment),o=G(),i=P("span"),i.textContent="Generated Resources",r=G(),u&&u.c(),a=G();for(let d=0;d<c.length;d+=1)c[d].c();N(i,"class","font-semibold"),N(e,"class","flex flex-col gap-1 text-xs")},m(d,m){M(d,e,m),Y(n,e,null),v(e,o),v(e,i),v(e,r),u&&u.m(e,null),v(e,a);for(let h=0;h<c.length;h+=1)c[h]&&c[h].m(e,null);s=!0},p(d,m){if(m&1&&(l=le[Te(d[0].id)].knowledge_points_per_month>0),l?u?u.p(d,m):(u=nf(d),u.c(),u.m(e,a)):u&&(u.d(1),u=null),m&1){f=Ke(Object.keys(le[Te(d[0].id)].generated_resources));let h;for(h=0;h<f.length;h+=1){const _=Yu(d,f,h);c[h]?c[h].p(_,m):(c[h]=rf(_),c[h].c(),c[h].m(e,null))}for(;h<c.length;h+=1)c[h].d(1);c.length=f.length}},i(d){s||(C(n.$$.fragment,d),s=!0)},o(d){S(n.$$.fragment,d),s=!1},d(d){d&&T(e),X(n),u&&u.d(),ht(c,d)}}}function nf(t){let e,n,o=Math.round(le[Te(t[0].id)].knowledge_points_per_month)+"",i,r;return{c(){e=P("span"),n=q("🧠 "),i=q(o),r=q(" (monthly)")},m(l,a){M(l,e,a),v(e,n),v(e,i),v(e,r)},p(l,a){a&1&&o!==(o=Math.round(le[Te(l[0].id)].knowledge_points_per_month)+"")&&se(i,o)},d(l){l&&T(e)}}}function of(t){let e,n=sr(t[4])+"",o,i,r=mo(t[4])+"",l,a,s=Ss(Object.values(le[Te(t[0].id)].generated_resources)[t[6]],!1)+"",u,f,c;return{c(){e=P("span"),o=q(n),i=G(),l=q(r),a=G(),u=q(s),f=G(),N(e,"class",c=Object.values(le[Te(t[0].id)].generated_resources)[t[6]]>0?"text-textHappyDark":"text-textDanger1")},m(d,m){M(d,e,m),v(e,o),v(e,i),v(e,l),v(e,a),v(e,u),v(e,f)},p(d,m){m&1&&n!==(n=sr(d[4])+"")&&se(o,n),m&1&&r!==(r=mo(d[4])+"")&&se(l,r),m&1&&s!==(s=Ss(Object.values(le[Te(d[0].id)].generated_resources)[d[6]],!1)+"")&&se(u,s),m&1&&c!==(c=Object.values(le[Te(d[0].id)].generated_resources)[d[6]]>0?"text-textHappyDark":"text-textDanger1")&&N(e,"class",c)},d(d){d&&T(e)}}}function rf(t){let e=Object.values(le[Te(t[0].id)].generated_resources)[t[6]]!=0,n,o=e&&of(t);return{c(){o&&o.c(),n=Le()},m(i,r){o&&o.m(i,r),M(i,n,r)},p(i,r){r&1&&(e=Object.values(le[Te(i[0].id)].generated_resources)[i[6]]!=0),e?o?o.p(i,r):(o=of(i),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(i){i&&T(n),o&&o.d(i)}}}function t4(t){let e,n,o=t[0]!=null&&Ju(t);return{c(){o&&o.c(),e=Le()},m(i,r){o&&o.m(i,r),M(i,e,r),n=!0},p(i,[r]){i[0]!=null?o?(o.p(i,r),r&1&&C(o,1)):(o=Ju(i),o.c(),C(o,1),o.m(e.parentNode,e)):o&&(Ie(),S(o,1,1,()=>{o=null}),Pe())},i(i){n||(C(o),n=!0)},o(i){S(o),n=!1},d(i){i&&T(e),o&&o.d(i)}}}function sr(t){switch(t){case"food":return"🥕";case"knowledge":return"🧠";case"wood":return"🪵";case"stone":return"🪨";case"metal":return"🧲";case"power":return"🔋";case"bureaucracy":return"🧑‍⚖️";default:return"💰"}}const lf=t=>t!=0,sf=t=>t!=0;function n4(t,e,n){let o;fe(t,De,a=>n(2,o=a));let{option:i}=e,{checkRequirements:r=!0}=e;function l(a,s,u){if(s==0||s==null)return"<span class='hidden'></span>";let f="",c="";return u<s&&r&&(c="text-textDanger1 border-2 border-red-400"),f=`<span class='${c}'>${a} ${s}</span>`,f}return t.$$set=a=>{"option"in a&&n(0,i=a.option),"checkRequirements"in a&&n(1,r=a.checkRequirements)},[i,r,o,l]}class Id extends ve{constructor(e){super(),be(this,e,n4,t4,de,{option:0,checkRequirements:1})}}function af(t,e,n){const o=t.slice();return o[25]=e[n],o}function uf(t,e,n){const o=t.slice();return o[28]=e[n],o}function ff(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,h,_=t[5].plots[t[0]][t[1]].type!==-1&&t[12](t[0],t[1]),g,w,A,k,E,D,R={type:"text",autofocus:!0,id:"search-bar",placeholder:"Search Plot Options...",value:t[3],class:"border rounded w-auto bg-white placeholder-black text-black text-xs"};a=new jl({props:R}),t[16](a),a.$on("input",t[10]);let V=_&&cf(t),F=Ke(t[6].isMineralSource||t[3].length>0?[1]:[1,2,3,4]),L=[];for(let y=0;y<F.length;y+=1)L[y]=vf(af(t,F,y));const U=y=>S(L[y],1,1,()=>{L[y]=null});return{c(){e=P("div"),n=P("div"),o=P("div"),i=P("div"),r=P("div"),l=P("div"),J(a.$$.fragment),s=G(),u=P("div"),f=P("input"),c=G(),d=P("label"),d.textContent="Buildable",m=G(),h=P("div"),V&&V.c(),g=G(),w=P("div");for(let y=0;y<L.length;y+=1)L[y].c();N(l,"class","flex items-end "),N(f,"type","checkbox"),N(f,"id","toggle-affordable"),N(f,"class","rounded"),f.checked=t[7],N(d,"for","toggle-affordable"),N(d,"class","ml-2 no-select cursor-pointer "),N(u,"class","flex items-center ml-4"),N(h,"class","flex justify-end ml-6"),N(r,"class","flex flex-row w-full "),N(i,"class","text-sm"),N(w,"class",A="flex flex-col "+(t[6].isMineralSource||t[3].length>0?"gap-0 pt-0":"gap-4")+" w-full overflow-y-scroll h-72 pb-24"),N(o,"class","flex flex-col gap-2 px-2 no-scrollbar justify-end"),N(n,"class","text-xl items-center justify-center w-[90%] align-bottom bg-foreground border-4 border-gray-400 shadow-2xl rounded-t-xl py-2 "),N(e,"class","w-[100vw] fixed bottom-0 h-["+t[9]+"] p-1 z-50 flex flex-col justify-center text-center items-center")},m(y,b){M(y,e,b),v(e,n),v(n,o),v(o,i),v(i,r),v(r,l),Y(a,l,null),v(r,s),v(r,u),v(u,f),v(u,c),v(u,d),v(r,m),v(r,h),V&&V.m(h,null),v(o,g),v(o,w);for(let I=0;I<L.length;I+=1)L[I]&&L[I].m(w,null);k=!0,E||(D=[z(f,"change",t[17]),z(o,"click",t[11])],E=!0)},p(y,b){const I={};if(b[0]&8&&(I.value=y[3]),a.$set(I),(!k||b[0]&128)&&(f.checked=y[7]),b[0]&35&&(_=y[5].plots[y[0]][y[1]].type!==-1&&y[12](y[0],y[1])),_?V?V.p(y,b):(V=cf(y),V.c(),V.m(h,null)):V&&(V.d(1),V=null),b[0]&120){F=Ke(y[6].isMineralSource||y[3].length>0?[1]:[1,2,3,4]);let O;for(O=0;O<F.length;O+=1){const W=af(y,F,O);L[O]?(L[O].p(W,b),C(L[O],1)):(L[O]=vf(W),L[O].c(),C(L[O],1),L[O].m(w,null))}for(Ie(),O=F.length;O<L.length;O+=1)U(O);Pe()}(!k||b[0]&72&&A!==(A="flex flex-col "+(y[6].isMineralSource||y[3].length>0?"gap-0 pt-0":"gap-4")+" w-full overflow-y-scroll h-72 pb-24"))&&N(w,"class",A)},i(y){if(!k){C(a.$$.fragment,y);for(let b=0;b<F.length;b+=1)C(L[b]);k=!0}},o(y){S(a.$$.fragment,y),L=L.filter(Boolean);for(let b=0;b<L.length;b+=1)S(L[b]);k=!1},d(y){y&&T(e),t[16](null),X(a),V&&V.d(),ht(L,y),E=!1,qe(D)}}}function cf(t){let e,n,o;return{c(){e=P("button"),e.textContent="❌ Bulldoze",N(e,"id","bulldoze"),N(e,"class","px-2 py-2 bg-red-500 rounded hover:bg-red-600 transition duration-300 ease-in-out")},m(i,r){M(i,e,r),n||(o=z(e,"click",t[13]),n=!0)},p:ke,d(i){i&&T(e),n=!1,o()}}}function df(t){let e,n,o=t[25]+"",i;return{c(){e=P("div"),n=q("Level "),i=q(o),N(e,"class","text-sm font-extralight pb-3")},m(r,l){M(r,e,l),v(e,n),v(e,i)},p(r,l){l[0]&72&&o!==(o=r[25]+"")&&se(i,o)},d(r){r&&T(e)}}}function mf(t){let e,n,o=t[28].active_costs.power+"",i;return{c(){e=P("span"),n=q("🔋"),i=q(o),N(e,"class","bg-yellow-300 text-xs text-black tex px-1 py-0.5 rounded-2xl absolute top-[-5px] right-[-2px]")},m(r,l){M(r,e,l),v(e,n),v(e,i)},p(r,l){l[0]&88&&o!==(o=r[28].active_costs.power+"")&&se(i,o)},d(r){r&&T(e)}}}function pf(t){let e,n,o=Xe(t[28].id,t[5]).length+"",i;return{c(){e=P("span"),n=q("x"),i=q(o),N(e,"class","bg-black text-xs text-white tex px-1 py-0.5 rounded-2xl absolute top-[-5px] left-[-2px]")},m(r,l){M(r,e,l),v(e,n),v(e,i)},p(r,l){l[0]&120&&o!==(o=Xe(r[28].id,r[5]).length+"")&&se(i,o)},d(r){r&&T(e)}}}function hf(t){let e,n,o=gn(t[28].revenue_per_week,!1)+"",i,r;return{c(){e=P("br"),n=q(`
                            Makes 💰 `),i=q(o),r=q("/week")},m(l,a){M(l,e,a),M(l,n,a),M(l,i,a),M(l,r,a)},p(l,a){a[0]&88&&o!==(o=gn(l[28].revenue_per_week,!1)+"")&&se(i,o)},d(l){l&&(T(e),T(n),T(i),T(r))}}}function _f(t){let e,n,o=gn(t[28].requirements.employees,!1)+"",i;return{c(){e=P("br"),n=q(`
                            Employs `),i=q(o)},m(r,l){M(r,e,l),M(r,n,l),M(r,i,l)},p(r,l){l[0]&88&&o!==(o=gn(r[28].requirements.employees,!1)+"")&&se(i,o)},d(r){r&&(T(e),T(n),T(i))}}}function o4(t){let e,n,o,i=(t[28].selected?"✅":As(t[28].title))+"",r,l,a,s=t[28].title.substring(2)+"",u,f,c,d=Xe(t[28].id,t[5]).length>0,m,h,_,g=gn(t[28].requirements.gold,!1)+"",w,A,k,E,D,R,V=t[28].active_costs.power>0&&mf(t),F=d&&pf(t),L=t[28].revenue_per_week>0&&hf(t),U=t[28].requirements.employees>0&&_f(t);return{c(){e=P("div"),n=P("div"),o=P("span"),r=q(i),l=G(),a=P("span"),u=q(s),f=G(),V&&V.c(),c=G(),F&&F.c(),m=G(),h=P("span"),_=q("Costs 💰 "),w=q(g),A=G(),L&&L.c(),k=G(),U&&U.c(),N(o,"class","text-md text-center"),N(a,"class","text-xs text-center font-bold mx-1"),N(n,"class","pt-2"),N(h,"style",E=t[28].styling),N(h,"class","text-xs text-center pt-4"),N(e,"class",D="plotOption cursor-pointer min-w-40 "+(t[6].isMineralSource||t[3].length>0?"mx-1 my-2":"")+" relative h-[120px] rounded-xl flex flex-col align-middle transition-all duration-100 "+(t[28].affordable||t[28].selected?"cursor-pointer":"opacity-25 cursor-not-allowed ")+" "+(t[28].selected?"border-4 border-yellow-200 opacity-100 rounded-none":"")),N(e,"data-plotoptionid",R=t[28].id),xe(e,"background-color",qi(Te(t[28].id),!0))},m(y,b){M(y,e,b),v(e,n),v(n,o),v(o,r),v(n,l),v(n,a),v(a,u),v(e,f),V&&V.m(e,null),v(e,c),F&&F.m(e,null),v(e,m),v(e,h),v(h,_),v(h,w),v(h,A),L&&L.m(h,null),v(h,k),U&&U.m(h,null)},p(y,b){b[0]&88&&i!==(i=(y[28].selected?"✅":As(y[28].title))+"")&&se(r,i),b[0]&88&&s!==(s=y[28].title.substring(2)+"")&&se(u,s),y[28].active_costs.power>0?V?V.p(y,b):(V=mf(y),V.c(),V.m(e,c)):V&&(V.d(1),V=null),b[0]&120&&(d=Xe(y[28].id,y[5]).length>0),d?F?F.p(y,b):(F=pf(y),F.c(),F.m(e,m)):F&&(F.d(1),F=null),b[0]&88&&g!==(g=gn(y[28].requirements.gold,!1)+"")&&se(w,g),y[28].revenue_per_week>0?L?L.p(y,b):(L=hf(y),L.c(),L.m(h,k)):L&&(L.d(1),L=null),y[28].requirements.employees>0?U?U.p(y,b):(U=_f(y),U.c(),U.m(h,null)):U&&(U.d(1),U=null),b[0]&88&&E!==(E=y[28].styling)&&N(h,"style",E),b[0]&88&&D!==(D="plotOption cursor-pointer min-w-40 "+(y[6].isMineralSource||y[3].length>0?"mx-1 my-2":"")+" relative h-[120px] rounded-xl flex flex-col align-middle transition-all duration-100 "+(y[28].affordable||y[28].selected?"cursor-pointer":"opacity-25 cursor-not-allowed ")+" "+(y[28].selected?"border-4 border-yellow-200 opacity-100 rounded-none":""))&&N(e,"class",D),b[0]&88&&R!==(R=y[28].id)&&N(e,"data-plotoptionid",R),b[0]&88&&xe(e,"background-color",qi(Te(y[28].id),!0))},d(y){y&&T(e),V&&V.d(),F&&F.d(),L&&L.d(),U&&U.d()}}}function i4(t){let e,n;return e=new Id({props:{option:t[28]}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i[0]&88&&(r.option=o[28]),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function r4(t){let e,n,o,i;return e=new Mo({props:{$$slots:{default:[o4]},$$scope:{ctx:t}}}),o=new So({props:{$$slots:{default:[i4]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=G(),J(o.$$.fragment)},m(r,l){Y(e,r,l),M(r,n,l),Y(o,r,l),i=!0},p(r,l){const a={};l[0]&120|l[1]&1&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l[0]&88|l[1]&1&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function gf(t,e){let n,o,i;return o=new To({props:{openDelay:400,closeDelay:0,$$slots:{default:[r4]},$$scope:{ctx:e}}}),{key:t,first:null,c(){n=Le(),J(o.$$.fragment),this.first=n},m(r,l){M(r,n,l),Y(o,r,l),i=!0},p(r,l){e=r;const a={};l[0]&120|l[1]&1&&(a.$$scope={dirty:l,ctx:e}),o.$set(a)},i(r){i||(C(o.$$.fragment,r),i=!0)},o(r){S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(o,r)}}}function bf(t){let e;return{c(){e=P("span"),e.textContent="No plots available!",N(e,"class","text-sm pt-2")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function vf(t){let e,n,o,i=[],r=new Map,l,a=t[4].filter(c).length===0&&t[3].length==0&&!t[6].isMineralSource,s,u,f;function c(...w){return t[15](t[25],...w)}let d=t[3].length==0&&!t[6].isMineralSource&&df(t);function m(...w){return t[18](t[25],...w)}let h=Ke(t[3].length==0&&!t[6].isMineralSource?t[4].filter(m):t[4]);const _=w=>w[28].id;for(let w=0;w<h.length;w+=1){let A=uf(t,h,w),k=_(A);r.set(k,i[w]=gf(k,A))}let g=a&&bf();return{c(){e=P("div"),d&&d.c(),n=G(),o=P("div");for(let w=0;w<i.length;w+=1)i[w].c();l=G(),g&&g.c(),u=G(),N(o,"class",s="flex flex-row text-start justify-start items-start flex-wrap "+(t[6].isMineralSource||t[3].length>0?"pt-0 gap-0":"pt-2 gap-4")+" w-full align-middle")},m(w,A){M(w,e,A),d&&d.m(e,null),v(e,n),v(e,o);for(let k=0;k<i.length;k+=1)i[k]&&i[k].m(o,null);v(o,l),g&&g.m(o,null),v(e,u),f=!0},p(w,A){t=w,t[3].length==0&&!t[6].isMineralSource?d?d.p(t,A):(d=df(t),d.c(),d.m(e,n)):d&&(d.d(1),d=null),A[0]&120&&(h=Ke(t[3].length==0&&!t[6].isMineralSource?t[4].filter(m):t[4]),Ie(),i=Qd(i,A,_,1,t,h,r,o,Zd,gf,l,uf),Pe()),A[0]&88&&(a=t[4].filter(c).length===0&&t[3].length==0&&!t[6].isMineralSource),a?g||(g=bf(),g.c(),g.m(o,null)):g&&(g.d(1),g=null),(!f||A[0]&72&&s!==(s="flex flex-row text-start justify-start items-start flex-wrap "+(t[6].isMineralSource||t[3].length>0?"pt-0 gap-0":"pt-2 gap-4")+" w-full align-middle"))&&N(o,"class",s)},i(w){if(!f){for(let A=0;A<h.length;A+=1)C(i[A]);f=!0}},o(w){for(let A=0;A<i.length;A+=1)S(i[A]);f=!1},d(w){w&&T(e),d&&d.d();for(let A=0;A<i.length;A+=1)i[A].d();g&&g.d()}}}function l4(t){let e,n,o=t[2]&&ff(t);return{c(){o&&o.c(),e=Le()},m(i,r){o&&o.m(i,r),M(i,e,r),n=!0},p(i,r){i[2]?o?(o.p(i,r),r[0]&4&&C(o,1)):(o=ff(i),o.c(),C(o,1),o.m(e.parentNode,e)):o&&(Ie(),S(o,1,1,()=>{o=null}),Pe())},i(i){n||(C(o),n=!0)},o(i){S(o),n=!1},d(i){i&&T(e),o&&o.d(i)}}}function s4(t,e,n){let o,i,r;fe(t,De,y=>n(5,o=y)),fe(t,Qe,y=>n(6,i=y)),fe(t,ic,y=>n(7,r=y));let{x:l=0}=e,{y:a=0}=e,{open:s=!1}=e,{tooltip:u=""}=e,f="",c=le,d;const m=Math.round(window.innerHeight*.2)+"px";let h=c.map(y=>Object.assign(Object.assign({},y),{affordable:w(y,o),selected:g(y)}));function _(y){n(3,f=y.target.value||"")}function g(y){return o.plots[l][a].type>-1?c[o.plots[l][a].type].id===y.id:!1}function w(y,b){let I=!0;y.requirements.gold>b.townInfo.gold&&(I=!1);let O=b.townInfo.population_count-b.townInfo.employees;return y.requirements.employees!==void 0&&y.requirements.employees>0&&y.requirements.employees>O&&(I=!1),y.requirements.knowledge!==void 0&&y.requirements.knowledge>b.townInfo.knowledge_points&&(I=!1),y.requirements.resources!==void 0&&Object.keys(y.requirements.resources).forEach(W=>{o.resources[W]<y.requirements.resources[W]&&(I=!1)}),I}function A(y){const b=y.target.closest(".plotOption");if(b){const I=b.dataset.plotoptionid;k(I)}}function k(y){document.querySelectorAll(".plotOption").forEach(O=>{O.classList.remove("active")});const I=document.querySelector(`[data-plotoptionid="${y}"]`);I&&(I.classList.add("active"),D(l,a,y))}function E(y,b){if(i.isMineralSource)return!1;let I=0;return y>0&&o.plots[y-1][b].type!==-1&&I++,y<o.plots.length-1&&o.plots[y+1][b].type!==-1&&I++,b>0&&o.plots[y][b-1].type!==-1&&I++,b<o.plots[0].length-1&&o.plots[y][b+1].type!==-1&&I++,I<=4}function D(y,b,I){let O=o;const W=le.findIndex(Q=>Q.id===I);let $=le[W];if(w($,o)==!1)return alert(`${JSON.stringify($.requirements)}`);if($.requirements.adjacent_plots!==void 0){let Q=$.requirements.adjacent_plots;if(Xm(y,b,O,$.requirements.adjacent_plots)===!1)return alert(`This plot requires adjacent plots of type: ${Q.join(", ")}`)}let Z=!0;if(($.requirements.gold>O.townInfo.gold||$.requirements.employees>O.townInfo.population_count-O.townInfo.employees)&&(Z=!1),$.requirements.size!=null&&$.requirements.size!=1&&Z){let ne=function(p,H){let j={x:p,y:H};return j.x===0&&j.y===0?!0:[{x:j.x-1,y:j.y},{x:j.x+1,y:j.y},{x:j.x,y:j.y-1},{x:j.x,y:j.y+1}].some(re=>re.x<0||re.x>o.plots.length-1||re.y<0||re.y>o.plots.length-1?!1:o.plots[re.x][re.y].active)};var ee=ne;let Q=$.requirements.size,K=[],te=c[W].title.toLowerCase().indexOf("school")!=-1;for(let p=0;p<4;p++){let H=[[y,b]];p===0?(H.push([y-(Q-1),b-(Q-1)]),H.push([y-(Q-1),b]),H.push([y,b-(Q-1)])):p===1?(H.push([y,b-(Q-1)]),H.push([y+(Q-1),b-(Q-1)]),H.push([y+(Q-1),b])):p===2?(H.push([y-(Q-1),b]),H.push([y-(Q-1),b+(Q-1)]),H.push([y,b+(Q-1)])):p===3&&(H.push([y,b+(Q-1)]),H.push([y+(Q-1),b+(Q-1)]),H.push([y+(Q-1),b])),K.push(H)}K=K.filter(p=>p.every(H=>H[0]>=0&&H[0]<=O.plots.length-1&&H[1]>=0&&H[1]<=O.plots.length-1&&!O.plots[H[0]][H[1]].active&&ne(H[0],H[1])==!0)),K.length===0?Z=!1:K.length>0&&K[0].forEach(H=>{O.plots[H[0]][H[1]].active=!0,O.plots[H[0]][H[1]].type=te?-3:-2,O.plots[H[0]][H[1]].referencePlot=[y,b]})}if(Z===!0){if(O.plots[y][b].type!==-1&&ji(y,b,O),n(14,u=""),O.plots[y][b].type=W,O.plots[y][b].active=!0,O.plots[y][b].referencePlot=[],O.plots[y][b].typeId=$.id,O.townInfo.gold-=$.requirements.gold,O.townInfo.gold=it(O.townInfo.gold,2),O.townInfo.population_count+=$.immediate_variable_changes.population,O.townInfo.population_max+=$.immediate_variable_changes.population,O.townInfo.happiness+=$.immediate_variable_changes.happiness,O.townInfo.health+=$.immediate_variable_changes.health,O.modifiers.happiness=it(O.modifiers.happiness*$.effect_modifiers.happiness,2),O.modifiers.health=it(O.modifiers.health*$.effect_modifiers.health,2),O.modifiers.community=it(O.modifiers.community*$.effect_modifiers.community,2),O.townInfo.employees+=$.requirements.employees,(O.plotCounts[W]===void 0||O.plotCounts[W]===null)&&(O.plotCounts[W]=0),O.plotCounts[W]++,O.lastChangeDay=O.environment.day,$.requirements.resources!==void 0){const K=$.requirements.resources;O.resources.food-=K.food,O.resources.wood-=K.wood,O.resources.stone-=K.stone,O.resources.metal-=K.metal}switch($.id){case"city_hall":O.hasCityHall=!0;break;case"bank":O.hasBank=!0;break}De.set(O),localStorage.setItem(jt,JSON.stringify(O));let Q=!1;for(let K=y;K<O.plots.length;K++){for(let te=b;te<O.plots[K].length;te++)if(O.plots[K][te].active===!1&&O.plots[K][te].mineralSource==!1&&O.plots[K][te].water==!1){y=K,b=te,Q=!0;break}if(Q)break}Ne(Qe,i.x=y,i),Ne(Qe,i.y=b,i)}else n(14,u="You do not have enough resources to purchase this plot. If it's a 'Large' plot, make sure you have a 2x2 area available. "),document.querySelectorAll(".plotOption").forEach(K=>{K.classList.remove("active")})}function R(){document.querySelectorAll(".plotOption").forEach(b=>{b.classList.remove("active")}),ji(l,a,o)}const V=(y,b)=>b.level===y;function F(y){Oe[y?"unshift":"push"](()=>{d=y,n(8,d)})}const L=()=>{fm()},U=(y,b)=>b.level===y;return t.$$set=y=>{"x"in y&&n(0,l=y.x),"y"in y&&n(1,a=y.y),"open"in y&&n(2,s=y.open),"tooltip"in y&&n(14,u=y.tooltip)},t.$$.update=()=>{t.$$.dirty[0]&240&&o&&(n(4,h=c.map(y=>Object.assign(Object.assign({},y),{affordable:w(y,o),selected:g(y)}))),i.isMineralSource&&n(4,h=h.filter(y=>y.id==="mine")),r&&n(4,h=h.filter(y=>y.affordable)),Object.keys(vs).forEach(y=>{let b=vs[y];if(b>0){let I=Xe(y,o).length;n(4,h=h.filter(O=>O.id!==y||I<b))}}),h.sort((y,b)=>y.selected&&!b.selected?-1:0)),t.$$.dirty[0]&24&&n(4,h=h.filter(y=>y.title.toLowerCase().includes(f.toLowerCase())))},[l,a,s,f,h,o,i,r,d,m,_,A,E,R,u,V,F,L,U]}class Pd extends ve{constructor(e){super(),be(this,e,s4,l4,de,{x:0,y:1,open:2,tooltip:14},null,[-1,-1])}}function a4(t){let e,n,o;return{c(){e=P("span"),n=q("My liege, if you build a City Hall, you can expand your city "),o=q(t[0])},m(i,r){M(i,e,r),v(e,n),v(e,o)},p(i,r){r&1&&se(o,i[0])},i:ke,o:ke,d(i){i&&T(e)}}}function u4(t){let e,n;return e=new Et({props:{class:"bg-button h-max rounded-2xl hover:scale-110 transition-transform duration-200 ease-in-out hover:drop-shadow-2xl",$$slots:{default:[f4]},$$scope:{ctx:t}}}),e.$on("click",t[2]),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i&9&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function f4(t){let e,n,o,i,r,l=t[0].toUpperCase()+"",a,s,u,f,c,d,m,h,_,g;return{c(){e=P("div"),n=q("My liege, you can expand your "),o=P("br"),i=q(`kingdom
        `),r=P("span"),a=q(l),s=q(`
        using
        `),u=P("br"),f=q(`your
        `),c=P("span"),c.textContent="City Hall",d=q("!"),m=P("br"),h=P("br"),_=G(),g=P("span"),g.textContent="May trigger a discovery",N(r,"class","font-extrabold text-blue-200"),N(c,"class","text-blue-200 bold mx-1"),N(g,"class","italic")},m(w,A){M(w,e,A),v(e,n),v(e,o),v(e,i),v(e,r),v(r,a),v(e,s),v(e,u),v(e,f),v(e,c),v(e,d),v(e,m),v(e,h),v(e,_),v(e,g)},p(w,A){A&1&&l!==(l=w[0].toUpperCase()+"")&&se(a,l)},d(w){w&&T(e)}}}function c4(t){let e,n,o,i,r;const l=[u4,a4],a=[];function s(u,f){return f&2&&(n=null),n==null&&(n=Xe("city_hall",u[1]).length>0),n?0:1}return o=s(t,-1),i=a[o]=l[o](t),{c(){e=P("div"),i.c(),N(e,"class","w-48 h-max")},m(u,f){M(u,e,f),a[o].m(e,null),r=!0},p(u,[f]){let c=o;o=s(u,f),o===c?a[o].p(u,f):(Ie(),S(a[c],1,1,()=>{a[c]=null}),Pe(),i=a[o],i?i.p(u,f):(i=a[o]=l[o](u),i.c()),C(i,1),i.m(e,null))},i(u){r||(C(i),r=!0)},o(u){S(i),r=!1},d(u){u&&T(e),a[o].d()}}}function d4(t,e,n){let o;fe(t,De,l=>n(1,o=l));let{direction:i}=e;const r=()=>{um(o,i)};return t.$$set=l=>{"direction"in l&&n(0,i=l.direction)},[i,o,r]}class yf extends ve{constructor(e){super(),be(this,e,d4,c4,de,{direction:0})}}function m4(t){return{c:ke,m:ke,p:ke,d:ke}}function p4(t){let e,n,o,i=le[t[0].type].title.substring(0,2)+"",r,l,a,s,u,f=le[t[0].type].title.substring(2)+"",c,d,m,h;return{c(){e=P("div"),n=P("span"),o=P("span"),r=q(i),l=G(),a=P("br"),s=G(),u=P("span"),c=q(f),N(o,"class","text-lg align-text-top select-none"),N(u,"class","text-xs align-text-top font-normal text-black from-stone-600 select-none"),N(n,"data-size",d=le[t[0].type].requirements.size),N(n,"data-x",m=t[0].x),N(n,"data-y",h=t[0].y),N(e,"class","svelte-9dbw4v")},m(_,g){M(_,e,g),v(e,n),v(n,o),v(o,r),v(n,l),v(n,a),v(n,s),v(n,u),v(u,c)},p(_,g){g&1&&i!==(i=le[_[0].type].title.substring(0,2)+"")&&se(r,i),g&1&&f!==(f=le[_[0].type].title.substring(2)+"")&&se(c,f),g&1&&d!==(d=le[_[0].type].requirements.size)&&N(n,"data-size",d),g&1&&m!==(m=_[0].x)&&N(n,"data-x",m),g&1&&h!==(h=_[0].y)&&N(n,"data-y",h)},d(_){_&&T(e)}}}function wf(t){let e;return{c(){e=P("span"),e.textContent="🧲",N(e,"class","text-lg")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function h4(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,h,_,g,w,A,k;function E(F,L){if(F[0].type>-1)return p4;if(F[0].type==-1&&F[0].x==0&&F[0].y==0)return m4}let D=E(t),R=D&&D(t),V=t[0].mineralSource&&t[0].type==-1&&wf();return{c(){e=P("button"),R&&R.c(),n=G(),V&&V.c(),N(e,"class",o="plot_container "+t[1]+" overflow-visible "+(t[0].type==-1&&t[2]==!1,"")+" "+(t[0].mineralSource?"hidden":"")+" "+(t[2]?"cursor-pointer":"cursor-not-allowed")+" "+(t[0].disabled?"animate-spin":"")+" svelte-9dbw4v"),xe(e,"background-color",t[0].water?"bg-blue-900 opacity-100":t[4].x==t[0].x&&t[4].y==t[0].y&&t[4].visible?"white":t[0].mineralSource?"black":qi(t[0].type,t[2])),N(e,"data-active",i=t[0].active),N(e,"data-hidehoveranimation",r=t[4].visible||t[0].type==-1&&t[0].x==0&&t[0].y==0),N(e,"data-id",l=t[0].id),N(e,"data-x",a=t[0].x),N(e,"data-y",s=t[0].y),N(e,"data-optionindex",u=t[0].optionIndex),N(e,"data-canbeupgraded",t[2]),N(e,"data-type",f=t[0].type),N(e,"data-type-id",c=t[0].typeId),N(e,"data-refplotx",d=t[0].referencePlot!==void 0?t[0].referencePlot[1]:null),N(e,"data-refploty",m=t[0].referencePlot!==void 0?t[0].referencePlot[0]:null),N(e,"data-size",h=t[0].type>-1?le[t[0].type].requirements.size:null),N(e,"data-mineralsource",_=t[0].mineralSource),N(e,"data-water",g=t[0].water),N(e,"data-nearwater",w=Ln(t[0].x,t[0].y,t[5]))},m(F,L){M(F,e,L),R&&R.m(e,null),v(e,n),V&&V.m(e,null),A||(k=z(e,"click",t[6]),A=!0)},p(F,L){D===(D=E(F))&&R?R.p(F,L):(R&&R.d(1),R=D&&D(F),R&&(R.c(),R.m(e,n))),F[0].mineralSource&&F[0].type==-1?V||(V=wf(),V.c(),V.m(e,null)):V&&(V.d(1),V=null),L&7&&o!==(o="plot_container "+F[1]+" overflow-visible "+(F[0].type==-1&&F[2]==!1,"")+" "+(F[0].mineralSource?"hidden":"")+" "+(F[2]?"cursor-pointer":"cursor-not-allowed")+" "+(F[0].disabled?"animate-spin":"")+" svelte-9dbw4v")&&N(e,"class",o),L&21&&xe(e,"background-color",F[0].water?"bg-blue-900 opacity-100":F[4].x==F[0].x&&F[4].y==F[0].y&&F[4].visible?"white":F[0].mineralSource?"black":qi(F[0].type,F[2])),L&1&&i!==(i=F[0].active)&&N(e,"data-active",i),L&17&&r!==(r=F[4].visible||F[0].type==-1&&F[0].x==0&&F[0].y==0)&&N(e,"data-hidehoveranimation",r),L&1&&l!==(l=F[0].id)&&N(e,"data-id",l),L&1&&a!==(a=F[0].x)&&N(e,"data-x",a),L&1&&s!==(s=F[0].y)&&N(e,"data-y",s),L&1&&u!==(u=F[0].optionIndex)&&N(e,"data-optionindex",u),L&4&&N(e,"data-canbeupgraded",F[2]),L&1&&f!==(f=F[0].type)&&N(e,"data-type",f),L&1&&c!==(c=F[0].typeId)&&N(e,"data-type-id",c),L&1&&d!==(d=F[0].referencePlot!==void 0?F[0].referencePlot[1]:null)&&N(e,"data-refplotx",d),L&1&&m!==(m=F[0].referencePlot!==void 0?F[0].referencePlot[0]:null)&&N(e,"data-refploty",m),L&1&&h!==(h=F[0].type>-1?le[F[0].type].requirements.size:null)&&N(e,"data-size",h),L&1&&_!==(_=F[0].mineralSource)&&N(e,"data-mineralsource",_),L&1&&g!==(g=F[0].water)&&N(e,"data-water",g),L&33&&w!==(w=Ln(F[0].x,F[0].y,F[5]))&&N(e,"data-nearwater",w)},d(F){F&&T(e),R&&R.d(),V&&V.d(),A=!1,k()}}}function kf(t){let e;return{c(){e=q("Water - Place farms nearby for more food & revenue!")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Cf(t){let e;return{c(){e=P("span"),e.textContent="Near water - Generating more food & revenue!",N(e,"class","text-xs bg-blue-500 text-white p-1")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Af(t){let e,n;return e=new Id({props:{option:t[3],checkRequirements:!1}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i&8&&(r.option=o[3]),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function _4(t){let e,n,o=Ln(t[0].x,t[0].y,t[5]),i,r,l=t[0].water&&kf(),a=o&&Cf(),s=t[0].active&&Af(t);return{c(){e=P("div"),l&&l.c(),n=G(),a&&a.c(),i=G(),s&&s.c(),N(e,"class","flex flex-col gap-2")},m(u,f){M(u,e,f),l&&l.m(e,null),v(e,n),a&&a.m(e,null),v(e,i),s&&s.m(e,null),r=!0},p(u,f){u[0].water?l||(l=kf(),l.c(),l.m(e,n)):l&&(l.d(1),l=null),f&33&&(o=Ln(u[0].x,u[0].y,u[5])),o?a||(a=Cf(),a.c(),a.m(e,i)):a&&(a.d(1),a=null),u[0].active?s?(s.p(u,f),f&1&&C(s,1)):(s=Af(u),s.c(),C(s,1),s.m(e,null)):s&&(Ie(),S(s,1,1,()=>{s=null}),Pe())},i(u){r||(C(s),r=!0)},o(u){S(s),r=!1},d(u){u&&T(e),l&&l.d(),a&&a.d(),s&&s.d()}}}function g4(t){let e,n,o,i;return e=new Mo({props:{$$slots:{default:[h4]},$$scope:{ctx:t}}}),o=new So({props:{class:t[0].type<0&&!t[0].water?"hidden":"",$$slots:{default:[_4]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=G(),J(o.$$.fragment)},m(r,l){Y(e,r,l),M(r,n,l),Y(o,r,l),i=!0},p(r,l){const a={};l&1079&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&1&&(s.class=r[0].type<0&&!r[0].water?"hidden":""),l&1065&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function b4(t){let e,n;return e=new To({props:{openDelay:400,closeDelay:0,$$slots:{default:[g4]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,[i]){const r={};i&1087&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function v4(t,e,n){let o,i,r,l;fe(t,Qe,m=>n(4,o=m)),fe(t,De,m=>n(5,i=m)),fe(t,Nt,m=>n(8,r=m)),fe(t,co,m=>n(9,l=m));let{data:a={id:0,active:!1,x:0,y:0,type:-1,styling:"",referencePlot:[],mineralSource:!1,disabled:!1,water:!1}}=e,s,{classText:u=""}=e,{canBeUpgraded:f=!1}=e;function c(m,h,_){let g=document.querySelectorAll(".plot_container");if(r==!1){if(a.referencePlot!=null&&a.referencePlot[0]!==null&&h==null&&_==null&&a.referencePlot[1]!==void 0)return c(m,a.referencePlot[0],a.referencePlot[1]);!a.active&&!f?(Ne(co,l={},l),Ne(Qe,o.visible=!1,o),g.forEach(w=>{w.classList.remove("selected")})):(h!=null&&_!=null?(Ne(Qe,o.x=h,o),Ne(Qe,o.y=_,o)):(Ne(Qe,o.x=a.x,o),Ne(Qe,o.y=a.y,o)),Ne(Qe,o.isMineralSource=a.mineralSource,o),Ne(Qe,o.visible=!0,o),g.forEach(w=>{w.classList.remove("selected")}),h!=null&&_!=null?document.querySelector(`.plot_container[data-x="${h}"][data-y="${_}"]`).classList.add("selected"):document.querySelector(`.plot_container[data-id="${a.id}"]`).classList.add("selected"))}}function d(m){r==!1&&(Ne(De,i.plots[a.x][a.y].type=m,i),Ne(Qe,o.visible=!1,o))}return t.$$set=m=>{"data"in m&&n(0,a=m.data),"classText"in m&&n(1,u=m.classText),"canBeUpgraded"in m&&n(2,f=m.canBeUpgraded)},t.$$.update=()=>{t.$$.dirty&1&&a.type>-1&&n(3,s=le[a.type])},[a,u,f,s,o,i,c,d]}class y4 extends ve{constructor(e){super(),be(this,e,v4,b4,de,{data:0,classText:1,canBeUpgraded:2,changePlotType:7})}get changePlotType(){return this.$$.ctx[7]}}function Sf(t,e,n){const o=t.slice();return o[6]=e[n],o[8]=n,o}function Tf(t,e,n){const o=t.slice();return o[9]=e[n],o}function Mf(t){let e,n,o,i,r,l,a,s,u,f,c,d=t[3],m,h,_=Ke(t[2].plots),g=[];for(let k=0;k<_.length;k+=1)g[k]=Pf(Sf(t,_,k));const w=k=>S(g[k],1,1,()=>{g[k]=null});a=new yf({props:{direction:"east"}}),f=new yf({props:{direction:"south"}});let A=Nf(t);return{c(){e=P("div"),n=P("div"),o=P("div"),i=P("div");for(let k=0;k<g.length;k+=1)g[k].c();r=G(),l=P("span"),J(a.$$.fragment),s=G(),u=P("span"),J(f.$$.fragment),c=G(),A.c(),m=Le(),N(i,"class","grid plot_controller svelte-rx1u2k"),N(o,"class","flex flex-row items-center"),N(n,"id","plotContainerMain"),N(n,"class","absolute left-[170px] items-center h-max flex flex-col top-[170px] pl-32 pt-32 pb-80 pr-80 bg-background"),N(e,"class","flex flex-col")},m(k,E){M(k,e,E),v(e,n),v(n,o),v(o,i);for(let D=0;D<g.length;D+=1)g[D]&&g[D].m(i,null);v(o,r),v(o,l),Y(a,l,null),v(n,s),v(n,u),Y(f,u,null),M(k,c,E),A.m(k,E),M(k,m,E),h=!0},p(k,E){if(E&7){_=Ke(k[2].plots);let D;for(D=0;D<_.length;D+=1){const R=Sf(k,_,D);g[D]?(g[D].p(R,E),C(g[D],1)):(g[D]=Pf(R),g[D].c(),C(g[D],1),g[D].m(i,null))}for(Ie(),D=_.length;D<g.length;D+=1)w(D);Pe()}E&8&&de(d,d=k[3])?(Ie(),S(A,1,1,ke),Pe(),A=Nf(k),A.c(),C(A,1),A.m(m.parentNode,m)):A.p(k,E)},i(k){if(!h){for(let E=0;E<_.length;E+=1)C(g[E]);C(a.$$.fragment,k),C(f.$$.fragment,k),C(A),h=!0}},o(k){g=g.filter(Boolean);for(let E=0;E<g.length;E+=1)S(g[E]);S(a.$$.fragment,k),S(f.$$.fragment,k),S(A),h=!1},d(k){k&&(T(e),T(c),T(m)),ht(g,k),X(a),X(f),A.d(k)}}}function If(t){let e,n;return e=new y4({props:{classText:"hexagon",data:t[9],canBeUpgraded:t[0](t[9].x,t[9].y)}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i&4&&(r.data=o[9]),i&4&&(r.canBeUpgraded=o[0](o[9].x,o[9].y)),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function Pf(t){let e,n,o,i,r,l=Ke(t[6]),a=[];for(let u=0;u<l.length;u+=1)a[u]=If(Tf(t,l,u));const s=u=>S(a[u],1,1,()=>{a[u]=null});return{c(){e=P("div");for(let u=0;u<a.length;u+=1)a[u].c();n=G(),N(e,"class","row "+(t[8]%2!==0?"odd-row":"")+" svelte-rx1u2k")},m(u,f){M(u,e,f);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(e,null);v(e,n),o=!0,i||(r=z(e,"click",t[1]),i=!0)},p(u,f){if(f&5){l=Ke(u[6]);let c;for(c=0;c<l.length;c+=1){const d=Tf(u,l,c);a[c]?(a[c].p(d,f),C(a[c],1)):(a[c]=If(d),a[c].c(),C(a[c],1),a[c].m(e,n))}for(Ie(),c=l.length;c<a.length;c+=1)s(c);Pe()}},i(u){if(!o){for(let f=0;f<l.length;f+=1)C(a[f]);o=!0}},o(u){a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)S(a[f]);o=!1},d(u){u&&T(e),ht(a,u),i=!1,r()}}}function Of(t){let e,n;return e=new Pd({props:{x:t[4].x,y:t[4].y,open:t[4].visible}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i&16&&(r.x=o[4].x),i&16&&(r.y=o[4].y),i&16&&(r.open=o[4].visible),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function Nf(t){let e,n,o=t[4].visible&&Of(t);return{c(){o&&o.c(),e=Le()},m(i,r){o&&o.m(i,r),M(i,e,r),n=!0},p(i,r){i[4].visible?o?(o.p(i,r),r&16&&C(o,1)):(o=Of(i),o.c(),C(o,1),o.m(e.parentNode,e)):o&&(Ie(),S(o,1,1,()=>{o=null}),Pe())},i(i){n||(C(o),n=!0)},o(i){S(o),n=!1},d(i){i&&T(e),o&&o.d(i)}}}function w4(t){let e,n,o=t[2]!=null&&Mf(t);return{c(){o&&o.c(),e=Le()},m(i,r){o&&o.m(i,r),M(i,e,r),n=!0},p(i,[r]){i[2]!=null?o?(o.p(i,r),r&4&&C(o,1)):(o=Mf(i),o.c(),C(o,1),o.m(e.parentNode,e)):o&&(Ie(),S(o,1,1,()=>{o=null}),Pe())},i(i){n||(C(o),n=!0)},o(i){S(o),n=!1},d(i){i&&T(e),o&&o.d(i)}}}function k4(t,e,n){let o,i,r;fe(t,co,u=>n(3,o=u)),fe(t,De,u=>n(2,i=u)),fe(t,Qe,u=>n(4,r=u)),document.addEventListener("click",function(u){const f=u.target;(f.dataset.x==null&&f.dataset.type!="-1"&&f.dataset.size!=null||f.id=="plotContainerMain"||f.classList.contains("row")||f.classList.contains("grid"))&&Ne(Qe,r.visible=!1,r)});function l(u,f){let c={x:u,y:f};return c.x===0&&c.y===0?!0:[{x:c.x-1,y:c.y},{x:c.x+1,y:c.y},{x:c.x,y:c.y-1},{x:c.x,y:c.y+1}].some(m=>m.x<0||m.x>=i.plots.length||m.y<0||m.y>=i.plots[m.x].length?!1:i.plots[m.x][m.y].active)}function a(){let u=[];for(let f=0;f<i.plots.length;f++)for(let c=0;c<i.plots.length;c++)l(f,c)&&i.plots[f][c].active==!1&&u.push(i.plots[f][c])}function s(){Ne(co,o={},o)}return t.$$.update=()=>{t.$$.dirty&4&&i&&a()},[l,s,i,o,r]}class C4 extends ve{constructor(e){super(),be(this,e,k4,w4,de,{checkIfPlotCanBeUpgraded:0,restartModifyPlotMenu:1})}get checkIfPlotCanBeUpgraded(){return this.$$.ctx[0]}get restartModifyPlotMenu(){return this.$$.ctx[1]}}function Ef(t,e,n){const o=t.slice();return o[2]=e[n],o}function Rf(t){let e;return{c(){e=P("span"),e.textContent="No alerts in the last 30d",N(e,"class","text-sm italic text-center opacity-70")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Df(t){let e,n=t[2]+"",o,i,r;return{c(){e=P("p"),o=q(n),i=G(),r=P("br"),N(e,"class","text-xs")},m(l,a){M(l,e,a),v(e,o),M(l,i,a),M(l,r,a)},p(l,a){a&2&&n!==(n=l[2]+"")&&se(o,n)},d(l){l&&(T(e),T(i),T(r))}}}function A4(t){let e,n,o,i,r,l,a,s,u=t[1].townLog==""&&Rf(),f=Ke(t[1].townLog.split(`
`)),c=[];for(let d=0;d<f.length;d+=1)c[d]=Df(Ef(t,f,d));return{c(){e=P("div"),n=P("div"),o=P("h1"),o.textContent="Alerts",i=G(),u&&u.c(),r=G();for(let d=0;d<c.length;d+=1)c[d].c();l=G(),a=P("ul"),a.innerHTML="",N(o,"class","text-xl w-full pb-2 text-center "),N(a,"class","list-disc pl-5 gap-2 flex flex-col text-xs "),N(n,"class",s="bg-foreground w-[160px] border-foregroundDark border-4 "+(t[0].visible?"bottom-8  opacity-70":"bottom-2")+" z-10 fixed left-3 p-3 top-[190px] drop-shadow-xl rounded-xl transition-all duration-300"),N(e,"class","flex flex-row text-foregroundText")},m(d,m){M(d,e,m),v(e,n),v(n,o),v(n,i),u&&u.m(n,null),v(n,r);for(let h=0;h<c.length;h+=1)c[h]&&c[h].m(n,null);v(n,l),v(n,a)},p(d,[m]){if(d[1].townLog==""?u||(u=Rf(),u.c(),u.m(n,r)):u&&(u.d(1),u=null),m&2){f=Ke(d[1].townLog.split(`
`));let h;for(h=0;h<f.length;h+=1){const _=Ef(d,f,h);c[h]?c[h].p(_,m):(c[h]=Df(_),c[h].c(),c[h].m(n,l))}for(;h<c.length;h+=1)c[h].d(1);c.length=f.length}m&1&&s!==(s="bg-foreground w-[160px] border-foregroundDark border-4 "+(d[0].visible?"bottom-8  opacity-70":"bottom-2")+" z-10 fixed left-3 p-3 top-[190px] drop-shadow-xl rounded-xl transition-all duration-300")&&N(n,"class",s)},i:ke,o:ke,d(d){d&&T(e),u&&u.d(),ht(c,d)}}}function S4(t,e,n){let o,i;return fe(t,Qe,r=>n(0,o=r)),fe(t,De,r=>n(1,i=r)),[o,i]}class T4 extends ve{constructor(e){super(),be(this,e,S4,A4,de,{})}}function Lf(t,e,n){const o=t.slice();return o[5]=e[n],o}function $f(t){let e,n;return e=new y1({props:{thumb:t[5],class:"block h-5 w-5 rounded-full border-2 border-primary bg-accent ring-accent transition-colors focus-visible:outline-none  disabled:pointer-events-none disabled:opacity-50"}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i&16&&(r.thumb=o[5]),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function M4(t){let e,n,o,i,r;n=new p1({props:{class:"absolute h-full bg-primary"}});let l=Ke(t[4]),a=[];for(let u=0;u<l.length;u+=1)a[u]=$f(Lf(t,l,u));const s=u=>S(a[u],1,1,()=>{a[u]=null});return{c(){e=P("span"),J(n.$$.fragment),o=G();for(let u=0;u<a.length;u+=1)a[u].c();i=Le(),N(e,"class","relative h-2 w-full grow overflow-hidden rounded-full bg-textPrimary")},m(u,f){M(u,e,f),Y(n,e,null),M(u,o,f);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(u,f);M(u,i,f),r=!0},p(u,f){if(f&16){l=Ke(u[4]);let c;for(c=0;c<l.length;c+=1){const d=Lf(u,l,c);a[c]?(a[c].p(d,f),C(a[c],1)):(a[c]=$f(d),a[c].c(),C(a[c],1),a[c].m(i.parentNode,i))}for(Ie(),c=l.length;c<a.length;c+=1)s(c);Pe()}},i(u){if(!r){C(n.$$.fragment,u);for(let f=0;f<l.length;f+=1)C(a[f]);r=!0}},o(u){S(n.$$.fragment,u),a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)S(a[f]);r=!1},d(u){u&&(T(e),T(o),T(i)),X(n),ht(a,u)}}}function I4(t){let e,n,o;const i=[{class:Fe("relative flex w-full touch-none select-none items-center",t[1])},t[2]];function r(a){t[3](a)}let l={$$slots:{default:[M4,({thumbs:a})=>({4:a}),({thumbs:a})=>a?16:0]},$$scope:{ctx:t}};for(let a=0;a<i.length;a+=1)l=x(l,i[a]);return t[0]!==void 0&&(l.value=t[0]),e=new a1({props:l}),Oe.push(()=>An(e,"value",r)),{c(){J(e.$$.fragment)},m(a,s){Y(e,a,s),o=!0},p(a,[s]){const u=s&6?we(i,[s&2&&{class:Fe("relative flex w-full touch-none select-none items-center",a[1])},s&4&&rt(a[2])]):{};s&272&&(u.$$scope={dirty:s,ctx:a}),!n&&s&1&&(n=!0,u.value=a[0],Cn(()=>n=!1)),e.$set(u)},i(a){o||(C(e.$$.fragment,a),o=!0)},o(a){S(e.$$.fragment,a),o=!1},d(a){X(e,a)}}}function P4(t,e,n){const o=["class","value"];let i=ae(e,o),{class:r=void 0}=e,{value:l=[0]}=e;function a(s){l=s,n(0,l)}return t.$$set=s=>{e=x(x({},e),Re(s)),n(2,i=ae(e,o)),"class"in s&&n(1,r=s.class),"value"in s&&n(0,l=s.value)},[l,r,i,a]}class Ff extends ve{constructor(e){super(),be(this,e,P4,I4,de,{class:1,value:0})}}function qf(t,e,n){const o=t.slice();return o[7]=e[n].icon,o[8]=e[n].name,o[9]=e[n].value,o[10]=e[n].rate,o}function jf(t,e,n){const o=t.slice();return o[13]=e[n],o}function O4(t){let e;return{c(){e=P("div"),e.innerHTML=`Resources are generated from plots. Generation rate can be increased
            by raising the productivity of the town, at the cost of some
            happiness.
            <br/> <br/>
            There is also a slight bit of randomness as townspeople aren&#39;t robots.`,N(e,"class","text-sm")},m(n,o){M(n,e,o)},p:ke,d(n){n&&T(e)}}}function N4(t){let e,n,o,i;return o=new So({props:{class:"text-sm w-[200px]",$$slots:{default:[O4]},$$scope:{ctx:t}}}),{c(){e=P("div"),e.innerHTML='<h1 class="text-xl w-full text-center">Resources</h1> <button class="text-textPrimary text-sm">ℹ️</button>',n=G(),J(o.$$.fragment),N(e,"class","flex flex-row items-center pb-2 gap-2")},m(r,l){M(r,e,l),M(r,n,l),Y(o,r,l),i=!0},p(r,l){const a={};l&65536&&(a.$$scope={dirty:l,ctx:r}),o.$set(a)},i(r){i||(C(o.$$.fragment,r),i=!0)},o(r){S(o.$$.fragment,r),i=!1},d(r){r&&(T(e),T(n)),X(o,r)}}}function E4(t){let e,n;return e=new Mo({props:{$$slots:{default:[N4]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i&65536&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function R4(t){let e,n,o=t[10]+"",i;return{c(){e=P("span"),n=q("+"),i=q(o),N(e,"class","text-textPrimary")},m(r,l){M(r,e,l),v(e,n),v(e,i)},p(r,l){l&2&&o!==(o=r[10]+"")&&se(i,o)},d(r){r&&T(e)}}}function D4(t){let e;return{c(){e=P("span")},m(n,o){M(n,e,o)},p:ke,d(n){n&&T(e)}}}function L4(t){let e,n=t[10]+"",o;return{c(){e=P("span"),o=q(n),N(e,"class","text-textDanger2")},m(i,r){M(i,e,r),v(e,o)},p(i,r){r&2&&n!==(n=i[10]+"")&&se(o,n)},d(i){i&&T(e)}}}function $4(t){let e,n,o=t[10]+"",i;return{c(){e=P("span"),n=q("+"),i=q(o),N(e,"class","text-textHappy")},m(r,l){M(r,e,l),v(e,n),v(e,i)},p(r,l){l&2&&o!==(o=r[10]+"")&&se(i,o)},d(r){r&&T(e)}}}function F4(t){let e;return{c(){e=P("span"),N(e,"class","display-none")},m(n,o){M(n,e,o)},p:ke,d(n){n&&T(e)}}}function q4(t){let e,n,o=t[10]+"",i,r;return{c(){e=P("span"),n=q("+"),i=q(o),r=q(" (weekly)"),N(e,"class","")},m(l,a){M(l,e,a),v(e,n),v(e,i),v(e,r)},p(l,a){a&2&&o!==(o=l[10]+"")&&se(i,o)},d(l){l&&T(e)}}}function j4(t){let e,n=t[10]+"",o,i;return{c(){e=P("span"),o=q(n),i=q(" (weekly)"),N(e,"class","text-textDanger2")},m(r,l){M(r,e,l),v(e,o),v(e,i)},p(r,l){l&2&&n!==(n=r[10]+"")&&se(o,n)},d(r){r&&T(e)}}}function B4(t){let e,n,o=t[10]+"",i,r;return{c(){e=P("span"),n=q("+"),i=q(o),r=q(" (weekly)"),N(e,"class","text-textHappy")},m(l,a){M(l,e,a),v(e,n),v(e,i),v(e,r)},p(l,a){a&2&&o!==(o=l[10]+"")&&se(i,o)},d(l){l&&T(e)}}}function Bf(t){let e,n,o,i;return e=new Ct({}),{c(){J(e.$$.fragment),n=G(),o=P("span"),o.textContent="Required for",N(o,"class","text-sm font-semibold")},m(r,l){Y(e,r,l),M(r,n,l),M(r,o,l),i=!0},i(r){i||(C(e.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),i=!1},d(r){r&&(T(n),T(o)),X(e,r)}}}function Vf(t){let e,n=t[13]+"",o;return{c(){e=P("span"),o=q(n),N(e,"class","text-xs mr-4")},m(i,r){M(i,e,r),v(e,o)},p(i,r){r&2&&n!==(n=i[13]+"")&&se(o,n)},d(i){i&&T(e)}}}function V4(t){let e,n,o=t[7]+"",i,r,l=mo(t[8])+"",a,s,u,f=t[5](t[8]).length>0,c,d,m;function h(E,D){return E[10]>0?B4:E[10]<0?j4:E[10]!=null?q4:F4}let _=h(t),g=_(t),w=f&&Bf(),A=Ke(t[5](t[8])),k=[];for(let E=0;E<A.length;E+=1)k[E]=Vf(jf(t,A,E));return{c(){e=P("div"),n=P("span"),i=q(o),r=G(),a=q(l),s=G(),g.c(),u=G(),w&&w.c(),c=G(),d=P("div");for(let E=0;E<k.length;E+=1)k[E].c();N(n,"class","text-md font-bold"),N(d,"class","flex flex-col flex-wrap min-w-full"),N(e,"class","flex flex-col gap-2 whitespace-nowrap min-w-fit")},m(E,D){M(E,e,D),v(e,n),v(n,i),v(n,r),v(n,a),v(e,s),g.m(e,null),v(e,u),w&&w.m(e,null),v(e,c),v(e,d);for(let R=0;R<k.length;R+=1)k[R]&&k[R].m(d,null);m=!0},p(E,D){if((!m||D&2)&&o!==(o=E[7]+"")&&se(i,o),(!m||D&2)&&l!==(l=mo(E[8])+"")&&se(a,l),_===(_=h(E))&&g?g.p(E,D):(g.d(1),g=_(E),g&&(g.c(),g.m(e,u))),D&2&&(f=E[5](E[8]).length>0),f?w?D&2&&C(w,1):(w=Bf(),w.c(),C(w,1),w.m(e,c)):w&&(Ie(),S(w,1,1,()=>{w=null}),Pe()),D&34){A=Ke(E[5](E[8]));let R;for(R=0;R<A.length;R+=1){const V=jf(E,A,R);k[R]?k[R].p(V,D):(k[R]=Vf(V),k[R].c(),k[R].m(d,null))}for(;R<k.length;R+=1)k[R].d(1);k.length=A.length}},i(E){m||(C(w),m=!0)},o(E){S(w),m=!1},d(E){E&&T(e),g.d(),w&&w.d(),ht(k,E)}}}function G4(t){let e,n=t[7]+"",o,i,r=t[9]+"",l,a,s,u,f,c;function d(_,g){return _[10]>0?$4:_[10]<0?L4:_[10]==null?D4:R4}let m=d(t),h=m(t);return f=new So({props:{$$slots:{default:[V4]},$$scope:{ctx:t}}}),{c(){e=P("span"),o=q(n),i=G(),l=q(r),a=G(),h.c(),u=G(),J(f.$$.fragment),N(e,"class",s="flex flex-row justify-between "+(t[9]<=0?"text-textDanger1 font-semibold":"text-textPrimary"))},m(_,g){M(_,e,g),v(e,o),v(e,i),v(e,l),v(e,a),h.m(e,null),M(_,u,g),Y(f,_,g),c=!0},p(_,g){(!c||g&2)&&n!==(n=_[7]+"")&&se(o,n),(!c||g&2)&&r!==(r=_[9]+"")&&se(l,r),m===(m=d(_))&&h?h.p(_,g):(h.d(1),h=m(_),h&&(h.c(),h.m(e,null))),(!c||g&2&&s!==(s="flex flex-row justify-between "+(_[9]<=0?"text-textDanger1 font-semibold":"text-textPrimary")))&&N(e,"class",s);const w={};g&65538&&(w.$$scope={dirty:g,ctx:_}),f.$set(w)},i(_){c||(C(f.$$.fragment,_),c=!0)},o(_){S(f.$$.fragment,_),c=!1},d(_){_&&(T(e),T(u)),h.d(),X(f,_)}}}function H4(t){let e,n,o;return e=new Mo({props:{$$slots:{default:[G4]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=G()},m(i,r){Y(e,i,r),M(i,n,r),o=!0},p(i,r){const l={};r&65538&&(l.$$scope={dirty:r,ctx:i}),e.$set(l)},i(i){o||(C(e.$$.fragment,i),o=!0)},o(i){S(e.$$.fragment,i),o=!1},d(i){i&&T(n),X(e,i)}}}function Gf(t){let e,n;return e=new To({props:{openDelay:400,closeDelay:0,$$slots:{default:[H4]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i&65538&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function W4(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,h,_=it(t[0].townInfo.productivity,0)+"",g,w,A,k,E,D,R,V,F,L,U,y=it(t[0].economyAndLaws.tax_rate*100,0)+"",b,I,O,W,$,Z,ee;o=new To({props:{openDelay:400,closeDelay:0,$$slots:{default:[E4]},$$scope:{ctx:t}}});let Q=Ke(t[1]),K=[];for(let ne=0;ne<Q.length;ne+=1)K[ne]=Gf(qf(t,Q,ne));const te=ne=>S(K[ne],1,1,()=>{K[ne]=null});return k=new Ff({props:{value:[t[0].townInfo.productivity],onValueChange:t[4],min:0,max:200,step:5,class:"cursor-pointer w-full"}}),W=new Ff({props:{value:[t[0].economyAndLaws.tax_rate],onValueChange:t[3],min:0,max:1,step:.05,class:"cursor-pointer w-full"}}),{c(){e=P("div"),n=P("div"),J(o.$$.fragment),i=G(),r=P("div"),l=P("div");for(let ne=0;ne<K.length;ne+=1)K[ne].c();a=G(),s=P("div"),u=P("div"),f=P("div"),c=P("span"),c.textContent="Productivity",d=G(),m=P("span"),h=q("("),g=q(_),w=q("%)"),A=G(),J(k.$$.fragment),E=G(),D=P("div"),R=P("div"),V=P("span"),V.textContent="Tax Rate",F=G(),L=P("span"),U=q("("),b=q(y),I=q("%)"),O=G(),J(W.$$.fragment),N(n,"class","flex flex-row justify-center"),N(l,"class","flex flex-col text-sm text-nowrap gap-2"),N(c,"class","text-xs"),N(m,"class","text-xs"),N(u,"class","flex flex-col justify-center w-full text-center items-center gap-2"),N(V,"class","text-xs"),N(L,"class","text-xs"),N(D,"class",$="flex flex-col justify-center w-full text-center items-center gap-2 min-h-12 pb-2 rounded-xl "+(t[0].economyAndLaws.tax_rate===0?"bg-textDanger1 animate-pulse font-bold":"")),N(s,"class","flex flex-col gap-6 rounded-xl text-center justify-center"),N(r,"class","flex flex-col justify-between gap-4 text-foregroundText h-full pb-12"),N(e,"class",Z="bg-foreground w-[160px] sidebar border-foregroundDark border-4 "+(t[2].visible?"bottom-8 opacity-70":"bottom-2")+" z-10 fixed right-3 top-[190px] rounded-xl p-2 transition-all duration-300")},m(ne,p){M(ne,e,p),v(e,n),Y(o,n,null),v(e,i),v(e,r),v(r,l);for(let H=0;H<K.length;H+=1)K[H]&&K[H].m(l,null);v(r,a),v(r,s),v(s,u),v(u,f),v(f,c),v(f,d),v(f,m),v(m,h),v(m,g),v(m,w),v(u,A),Y(k,u,null),v(s,E),v(s,D),v(D,R),v(R,V),v(R,F),v(R,L),v(L,U),v(L,b),v(L,I),v(D,O),Y(W,D,null),ee=!0},p(ne,[p]){const H={};if(p&65536&&(H.$$scope={dirty:p,ctx:ne}),o.$set(H),p&34){Q=Ke(ne[1]);let re;for(re=0;re<Q.length;re+=1){const Ae=qf(ne,Q,re);K[re]?(K[re].p(Ae,p),C(K[re],1)):(K[re]=Gf(Ae),K[re].c(),C(K[re],1),K[re].m(l,null))}for(Ie(),re=Q.length;re<K.length;re+=1)te(re);Pe()}(!ee||p&1)&&_!==(_=it(ne[0].townInfo.productivity,0)+"")&&se(g,_);const j={};p&1&&(j.value=[ne[0].townInfo.productivity]),k.$set(j),(!ee||p&1)&&y!==(y=it(ne[0].economyAndLaws.tax_rate*100,0)+"")&&se(b,y);const ie={};p&1&&(ie.value=[ne[0].economyAndLaws.tax_rate]),W.$set(ie),(!ee||p&1&&$!==($="flex flex-col justify-center w-full text-center items-center gap-2 min-h-12 pb-2 rounded-xl "+(ne[0].economyAndLaws.tax_rate===0?"bg-textDanger1 animate-pulse font-bold":"")))&&N(D,"class",$),(!ee||p&4&&Z!==(Z="bg-foreground w-[160px] sidebar border-foregroundDark border-4 "+(ne[2].visible?"bottom-8 opacity-70":"bottom-2")+" z-10 fixed right-3 top-[190px] rounded-xl p-2 transition-all duration-300"))&&N(e,"class",Z)},i(ne){if(!ee){C(o.$$.fragment,ne);for(let p=0;p<Q.length;p+=1)C(K[p]);C(k.$$.fragment,ne),C(W.$$.fragment,ne),ee=!0}},o(ne){S(o.$$.fragment,ne),K=K.filter(Boolean);for(let p=0;p<K.length;p+=1)S(K[p]);S(k.$$.fragment,ne),S(W.$$.fragment,ne),ee=!1},d(ne){ne&&T(e),X(o),ht(K,ne),X(k),X(W)}}}function K4(t){return["food","wood","stone","metal","power","knowledge"].includes(t)}function U4(t,e,n){let o,i;fe(t,De,f=>n(0,o=f)),fe(t,Qe,f=>n(2,i=f));function r(f){let c=o;c.economyAndLaws.tax_rate=it(f[0],2),De.set(c),localStorage.setItem(jt,JSON.stringify(c))}function l(f){let c=o;c.townInfo.productivity=it(f[0],2),De.set(c),localStorage.setItem(jt,JSON.stringify(c))}let a=[];function s(f){let c=[];for(let d=0;d<le.length;d++)(f!="knowledge"&&le[d].requirements.resources[f]>0||f=="power"&&le[d].active_costs.power>0||f=="knowledge"&&le[d].requirements.knowledge>0)&&c.push(le[d].title);return c}function u(f){return K4(f)?s(f):[]}return t.$$.update=()=>{t.$$.dirty&1&&n(1,a=[{icon:"🥕",name:"food",value:o.resources.food,rate:o.resource_rate.food},{icon:"🪵",name:"wood",value:o.resources.wood,rate:o.resource_rate.wood},{icon:"🪨",name:"stone",value:o.resources.stone,rate:o.resource_rate.stone},{icon:"🧠",name:"knowledge",value:o.townInfo.knowledge_points,rate:o.resource_rate.knowledge},{icon:"🧲",name:"metal",value:o.resources.metal,rate:o.resource_rate.metal},{icon:"🔋",name:"power",value:o.resources.power+" (surplus)",rate:null},{icon:"🧑‍⚖️",name:"bureaucracy",value:o.resources.bureaucracy,rate:o.resource_rate.bureaucracy}])},[o,a,i,r,l,u]}class Y4 extends ve{constructor(e){super(),be(this,e,U4,W4,de,{})}}function X4(t){let e,n,o,i,r,l,a,s,u,f,c,d,m;return o=new e4({}),l=new T4({}),s=new C4({}),f=new Y4({}),d=new Pd({}),{c(){e=P("div"),n=P("div"),J(o.$$.fragment),i=G(),r=P("div"),J(l.$$.fragment),a=G(),J(s.$$.fragment),u=G(),J(f.$$.fragment),c=G(),J(d.$$.fragment),N(r,"class","flex flex-row text-foregroundText"),N(e,"class","flex flex-col max-h-[100%] justify-between")},m(h,_){M(h,e,_),v(e,n),Y(o,n,null),v(e,i),v(e,r),Y(l,r,null),v(r,a),Y(s,r,null),v(r,u),Y(f,r,null),v(r,c),Y(d,r,null),m=!0},p:ke,i(h){m||(C(o.$$.fragment,h),C(l.$$.fragment,h),C(s.$$.fragment,h),C(f.$$.fragment,h),C(d.$$.fragment,h),m=!0)},o(h){S(o.$$.fragment,h),S(l.$$.fragment,h),S(s.$$.fragment,h),S(f.$$.fragment,h),S(d.$$.fragment,h),m=!1},d(h){h&&T(e),X(o),X(l),X(s),X(f),X(d)}}}function J4(t,e,n){return fe(t,De,o=>n(0,o)),[]}class x4 extends ve{constructor(e){super(),be(this,e,J4,X4,de,{})}}function Z4(t){let e;return{c(){e=q("Welcome to Plots!")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Q4(t){let e,n,o,i,r=t[0].townInfo.name+"",l,a,s,u,f,c,d,m,h,_,g,w,A,k,E,D,R,V,F,L,U,y,b,I,O,W,$,Z,ee,Q;return m=new Ct({props:{class:"bg-white mt-2 mb-1"}}),w=new Ct({props:{class:"bg-white mt-2 mb-1"}}),D=new Ct({props:{class:"bg-white mt-2 mb-1"}}),L=new Ct({props:{class:"bg-white mt-2 mb-1"}}),{c(){e=P("div"),n=P("p"),o=q(`You come across a large amount of land, and you decide to start a
            town called `),i=P("span"),l=q(r),a=q("."),s=G(),u=P("div"),f=P("p"),f.textContent="To run a successful town, you will need to have:",c=G(),d=P("ul"),J(m.$$.fragment),h=G(),_=P("li"),_.textContent=`👥 People - build homes and they will stay as long as they are
                happy.`,g=G(),J(w.$$.fragment),A=G(),k=P("li"),k.textContent=`🪵 Resources - generated by some plots and used to build others.
                some plots require sustained weekly resources (such as needing
                wood to heat homes)`,E=G(),J(D.$$.fragment),R=G(),V=P("li"),V.textContent=`💰 Gold - generated by plots through tax revenue. most plots
                make the town some amount of money but some cost a lot to
                operate.`,F=G(),J(L.$$.fragment),U=G(),y=P("p"),y.innerHTML=`The town&#39;s key metrics are <span class="font-bold text-textHappyDark">Happiness</span>
            and <span class="font-bold text-textHappyDark">Health</span>, shown
            in the top-left corner.`,b=G(),I=P("p"),I.textContent=`These metrics are affected by the plots you build. Some plots may
            not always increase happiness, and some could even be harmful enough
            to tear down an otherwise great town.`,O=G(),W=P("p"),W.textContent="Be cautious and make sure to hover over plots before you buy them.",$=G(),Z=P("img"),N(i,"class","font-bold text-accent"),N(d,"class","list-desc"),$d(Z.src,ee="welcome_example_plot.png")||N(Z,"src",ee),N(Z,"class","max-w-[60%] object-fit"),N(e,"class","flex flex-col gap-3 max-h-[50vh] overflow-y-scroll")},m(K,te){M(K,e,te),v(e,n),v(n,o),v(n,i),v(i,l),v(i,a),v(e,s),v(e,u),v(u,f),v(u,c),v(u,d),Y(m,d,null),v(d,h),v(d,_),v(d,g),Y(w,d,null),v(d,A),v(d,k),v(d,E),Y(D,d,null),v(d,R),v(d,V),v(d,F),Y(L,d,null),v(e,U),v(e,y),v(e,b),v(e,I),v(e,O),v(e,W),v(e,$),v(e,Z),Q=!0},p(K,te){(!Q||te&1)&&r!==(r=K[0].townInfo.name+"")&&se(l,r)},i(K){Q||(C(m.$$.fragment,K),C(w.$$.fragment,K),C(D.$$.fragment,K),C(L.$$.fragment,K),Q=!0)},o(K){S(m.$$.fragment,K),S(w.$$.fragment,K),S(D.$$.fragment,K),S(L.$$.fragment,K),Q=!1},d(K){K&&T(e),X(m),X(w),X(D),X(L)}}}function z4(t){let e,n,o,i;return e=new Bl({props:{class:"",$$slots:{default:[Z4]},$$scope:{ctx:t}}}),o=new Wl({props:{$$slots:{default:[Q4]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=G(),J(o.$$.fragment)},m(r,l){Y(e,r,l),M(r,n,l),Y(o,r,l),i=!0},p(r,l){const a={};l&524288&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&524289&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function eC(t){let e;return{c(){e=q("Get started")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function tC(t){let e,n;return e=new Xc({props:{class:"bg-button rounded-2xl text-foregroundText px-4 py-2 hover:rounded-lg transition-all duration-300",$$slots:{default:[eC]},$$scope:{ctx:t}}}),e.$on("click",t[5]),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i&524288&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function nC(t){let e,n,o,i;return e=new Gl({props:{$$slots:{default:[z4]},$$scope:{ctx:t}}}),o=new Vl({props:{$$slots:{default:[tC]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=G(),J(o.$$.fragment)},m(r,l){Y(e,r,l),M(r,n,l),Y(o,r,l),i=!0},p(r,l){const a={};l&524289&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&524288&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function oC(t){let e,n;return e=new Hl({props:{class:"bg-foregroundDark text-foregroundText",$$slots:{default:[nC]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i&524289&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function iC(t){let e,n;return e=new Kl({props:{open:t[1],$$slots:{default:[oC]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,[i]){const r={};i&2&&(r.open=o[1]),i&524289&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function rC(t,e,n){let o,i,r,l;fe(t,on,m=>n(7,o=m)),fe(t,De,m=>n(0,i=m)),fe(t,Hi,m=>n(4,r=m)),fe(t,Jr,m=>n(1,l=m)),bt[i.endGoal],Ml[i.difficulty],et.sort((m,h)=>f(m.id)&&!f(h.id)?-1:!f(m.id)&&f(h.id)?1:0),et.filter(m=>f(m.id));function s(m){const h=o.achievements.find(_=>_[0]==m);return h==null?!1:h[3]}let u=et;function f(m){return o.achievements==null?!1:o.achievements.find(h=>h[0]==m)!=null}function c(){Hi.update(m=>!m),localStorage.setItem("showCompletedAchievements",localStorage.getItem("showCompletedAchievements")==="true"?"false":"true")}localStorage.getItem("pauseMenuTab")==null&&(localStorage.setItem("pauseMenuTab","game"),rc.set("game"));const d=()=>{Jr.set(!1)};return t.$$.update=()=>{if(t.$$.dirty&25&&i)if(r)n(3,u=et);else{n(3,u=[]);for(let m=0;m<et.length;m++)(!f(et[m].id)||!s(et[m].id))&&u.push(et[m])}},[i,l,c,u,r,d]}class lC extends ve{constructor(e){super(),be(this,e,rC,iC,de,{toggleShowCompleted:2})}get toggleShowCompleted(){return this.$$.ctx[2]}}function Hf(t,e,n){const o=t.slice();return o[5]=e[n],o}function sC(t){let e,n,o=t[0].townInfo.name+"",i,r,l,a,s=t[0].resources.bureaucracy+"",u;return{c(){e=P("div"),n=P("span"),i=q(o),r=G(),l=P("span"),a=q("🧑‍⚖️ "),u=q(s),N(e,"class","flex justify-between mr-10")},m(f,c){M(f,e,c),v(e,n),v(n,i),v(e,r),v(e,l),v(l,a),v(l,u)},p(f,c){c&1&&o!==(o=f[0].townInfo.name+"")&&se(i,o),c&1&&s!==(s=f[0].resources.bureaucracy+"")&&se(u,s)},d(f){f&&T(e)}}}function aC(t){let e;return{c(){e=q("Build a City Hall to manage your city.")},m(n,o){M(n,e,o)},p:ke,i:ke,o:ke,d(n){n&&T(e)}}}function uC(t){let e,n,o,i,r=Ke(el),l=[];for(let s=0;s<r.length;s+=1)l[s]=Wf(Hf(t,r,s));const a=s=>S(l[s],1,1,()=>{l[s]=null});return{c(){e=P("span"),e.textContent="Laws 🧑‍⚖️",n=G();for(let s=0;s<l.length;s+=1)l[s].c();o=Le(),N(e,"class","text-lg font-bold")},m(s,u){M(s,e,u),M(s,n,u);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(s,u);M(s,o,u),i=!0},p(s,u){if(u&1){r=Ke(el);let f;for(f=0;f<r.length;f+=1){const c=Hf(s,r,f);l[f]?(l[f].p(c,u),C(l[f],1)):(l[f]=Wf(c),l[f].c(),C(l[f],1),l[f].m(o.parentNode,o))}for(Ie(),f=r.length;f<l.length;f+=1)a(f);Pe()}},i(s){if(!i){for(let u=0;u<r.length;u+=1)C(l[u]);i=!0}},o(s){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)S(l[u]);i=!1},d(s){s&&(T(e),T(n),T(o)),ht(l,s)}}}function fC(t){let e,n=t[5].cost+"",o;return{c(){e=q("Enact for 🧑‍⚖️ "),o=q(n)},m(i,r){M(i,e,r),M(i,o,r)},d(i){i&&(T(e),T(o))}}}function cC(t){let e;return{c(){e=q("Repeal ❌")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function dC(t){let e,n;function o(l,a){return a&1&&(e=null),e==null&&(e=!!l[0].economyAndLaws.enacted.includes(l[5].id)),e?cC:fC}let i=o(t,-1),r=i(t);return{c(){r.c(),n=Le()},m(l,a){r.m(l,a),M(l,n,a)},p(l,a){i!==(i=o(l,a))&&(r.d(1),r=i(l),r&&(r.c(),r.m(n.parentNode,n)))},d(l){l&&T(n),r.d(l)}}}function Wf(t){let e,n,o,i,r,l,a;function s(){return t[2](t[5])}return i=new Et({props:{class:"bg-button rounded-2xl",$$slots:{default:[dC]},$$scope:{ctx:t}}}),i.$on("click",s),l=new Ct({props:{class:"bg-white opacity-30"}}),{c(){e=P("div"),n=P("span"),n.textContent=`${t[5].description}`,o=G(),J(i.$$.fragment),r=G(),J(l.$$.fragment),N(e,"class","flex justify-between align-middle items-center pt-2 pb-2 gap-2 ")},m(u,f){M(u,e,f),v(e,n),v(e,o),Y(i,e,null),M(u,r,f),Y(l,u,f),a=!0},p(u,f){t=u;const c={};f&257&&(c.$$scope={dirty:f,ctx:t}),i.$set(c)},i(u){a||(C(i.$$.fragment,u),C(l.$$.fragment,u),a=!0)},o(u){S(i.$$.fragment,u),S(l.$$.fragment,u),a=!1},d(u){u&&(T(e),T(r)),X(i),X(l,u)}}}function mC(t){let e,n,o,i,r,l,a,s,u,f,c;e=new Kn({props:{class:"text-xl",$$slots:{default:[sC]},$$scope:{ctx:t}}}),o=new Xn({props:{class:"w-3/4"}}),r=new Ct({props:{class:"mb-4"}});const d=[uC,aC],m=[];function h(_,g){return g&1&&(s=null),s==null&&(s=Xe("city_hall",_[0]).length>0),s?0:1}return u=h(t,-1),f=m[u]=d[u](t),{c(){J(e.$$.fragment),n=G(),J(o.$$.fragment),i=G(),J(r.$$.fragment),l=G(),a=P("div"),f.c(),N(a,"class","w-full")},m(_,g){Y(e,_,g),M(_,n,g),Y(o,_,g),M(_,i,g),Y(r,_,g),M(_,l,g),M(_,a,g),m[u].m(a,null),c=!0},p(_,g){const w={};g&257&&(w.$$scope={dirty:g,ctx:_}),e.$set(w);let A=u;u=h(_,g),u===A?m[u].p(_,g):(Ie(),S(m[A],1,1,()=>{m[A]=null}),Pe(),f=m[u],f?f.p(_,g):(f=m[u]=d[u](_),f.c()),C(f,1),f.m(a,null))},i(_){c||(C(e.$$.fragment,_),C(o.$$.fragment,_),C(r.$$.fragment,_),C(f),c=!0)},o(_){S(e.$$.fragment,_),S(o.$$.fragment,_),S(r.$$.fragment,_),S(f),c=!1},d(_){_&&(T(n),T(i),T(l),T(a)),X(e,_),X(o,_),X(r,_),m[u].d()}}}function pC(t){let e,n,o,i;return e=new Un({props:{$$slots:{default:[mC]},$$scope:{ctx:t}}}),o=new Ao({}),{c(){J(e.$$.fragment),n=G(),J(o.$$.fragment)},m(r,l){Y(e,r,l),M(r,n,l),Y(o,r,l),i=!0},p(r,l){const a={};l&257&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){i||(C(e.$$.fragment,r),C(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),X(e,r),X(o,r)}}}function hC(t){let e,n;return e=new Yn({props:{class:"bg-foreground text-foregroundText",$$slots:{default:[pC]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p(o,i){const r={};i&257&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function _C(t){let e,n,o;function i(l){t[3](l)}let r={$$slots:{default:[hC]},$$scope:{ctx:t}};return t[1]!==void 0&&(r.open=t[1]),e=new Jn({props:r}),Oe.push(()=>An(e,"open",i)),{c(){J(e.$$.fragment)},m(l,a){Y(e,l,a),o=!0},p(l,[a]){const s={};a&257&&(s.$$scope={dirty:a,ctx:l}),!n&&a&2&&(n=!0,s.open=l[1],Cn(()=>n=!1)),e.$set(s)},i(l){o||(C(e.$$.fragment,l),o=!0)},o(l){S(e.$$.fragment,l),o=!1},d(l){X(e,l)}}}function gC(t,e,n){let o,i;fe(t,De,a=>n(0,o=a)),fe(t,Gi,a=>n(1,i=a));const r=a=>{o.economyAndLaws.enacted.includes(a.id)?o.economyAndLaws.enacted.splice(o.economyAndLaws.enacted.indexOf(a.id),1):a.cost<=o.resources.bureaucracy?(Ne(De,o.resources.bureaucracy-=a.cost,o),o.economyAndLaws.enacted.push(a.id)):alert("Not enough bureaucracy!")};function l(a){i=a,Gi.set(i)}return t.$$.update=()=>{t.$$.dirty&1},[o,i,r,l]}class bC extends ve{constructor(e){super(),be(this,e,gC,_C,de,{})}}function Kf(t){let e,n,o,i;const r=[yC,vC],l=[];function a(s,u){return s[0]==null?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Le()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Pe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),C(n,1),n.m(o.parentNode,o))},i(s){i||(C(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function vC(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,h,_,g,w,A,k=t[2]==!0&&Uf();n=new x4({}),i=new op({}),l=new ty({}),s=new My({}),f=new z5({}),d=new w3({}),h=new bC({});let E=t[0].environment.day==0&&t[3]&&Yf();return{c(){k&&k.c(),e=G(),J(n.$$.fragment),o=G(),J(i.$$.fragment),r=G(),J(l.$$.fragment),a=G(),J(s.$$.fragment),u=G(),J(f.$$.fragment),c=G(),J(d.$$.fragment),m=G(),J(h.$$.fragment),_=G(),E&&E.c(),g=G(),w=P("style"),w.textContent=`body {
        margin-bottom: 0;
      }
      /* no visible scrollbars */
      #plot_grid::-webkit-scrollbar {
        display: none;
      }

      ::-webkit-scrollbar {
        width: 0px;
        background: transparent; /* make scrollbar transparent */
      }

      /* no scrollbars on firefox either */
      #plot_grid {
        scrollbar-width: none;
      }

      /* no scrollbars for IE/Edge */
      #plot_grid {
        -ms-overflow-style: none;
      }`},m(D,R){k&&k.m(D,R),M(D,e,R),Y(n,D,R),M(D,o,R),Y(i,D,R),M(D,r,R),Y(l,D,R),M(D,a,R),Y(s,D,R),M(D,u,R),Y(f,D,R),M(D,c,R),Y(d,D,R),M(D,m,R),Y(h,D,R),M(D,_,R),E&&E.m(D,R),M(D,g,R),M(D,w,R),A=!0},p(D,R){D[2]==!0?k?R&4&&C(k,1):(k=Uf(),k.c(),C(k,1),k.m(e.parentNode,e)):k&&(Ie(),S(k,1,1,()=>{k=null}),Pe()),D[0].environment.day==0&&D[3]?E?R&9&&C(E,1):(E=Yf(),E.c(),C(E,1),E.m(g.parentNode,g)):E&&(Ie(),S(E,1,1,()=>{E=null}),Pe())},i(D){A||(C(k),C(n.$$.fragment,D),C(i.$$.fragment,D),C(l.$$.fragment,D),C(s.$$.fragment,D),C(f.$$.fragment,D),C(d.$$.fragment,D),C(h.$$.fragment,D),C(E),A=!0)},o(D){S(k),S(n.$$.fragment,D),S(i.$$.fragment,D),S(l.$$.fragment,D),S(s.$$.fragment,D),S(f.$$.fragment,D),S(d.$$.fragment,D),S(h.$$.fragment,D),S(E),A=!1},d(D){D&&(T(e),T(o),T(r),T(a),T(u),T(c),T(m),T(_),T(g),T(w)),k&&k.d(D),X(n,D),X(i,D),X(l,D),X(s,D),X(f,D),X(d,D),X(h,D),E&&E.d(D)}}}function yC(t){let e,n;return e=new by({}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},p:ke,i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function Uf(t){let e,n;return e=new Wv({}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function Yf(t){let e,n;return e=new lC({}),{c(){J(e.$$.fragment)},m(o,i){Y(e,o,i),n=!0},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function wC(t){let e,n,o=(t[1]||t[0]==null)&&Kf(t);return{c(){o&&o.c(),e=Le()},m(i,r){o&&o.m(i,r),M(i,e,r),n=!0},p(i,[r]){i[1]||i[0]==null?o?(o.p(i,r),r&3&&C(o,1)):(o=Kf(i),o.c(),C(o,1),o.m(e.parentNode,e)):o&&(Ie(),S(o,1,1,()=>{o=null}),Pe())},i(i){n||(C(o),n=!0)},o(i){S(o),n=!1},d(i){i&&T(e),o&&o.d(i)}}}function kC(t,e,n){let o,i,r,l,a,s;fe(t,co,d=>n(6,o=d)),fe(t,Qe,d=>n(7,i=d)),fe(t,Nt,d=>n(2,r=d)),fe(t,De,d=>n(0,l=d)),fe(t,Vo,d=>n(8,a=d)),fe(t,Jr,d=>n(3,s=d));let u=!1;Kv();let f=!1;document.addEventListener("keydown",d=>{if((document.activeElement!=null&&document.activeElement.nodeName==="INPUT"||document.activeElement!=null&&document.activeElement.nodeName=="TEXTAREA")&&d.key!=="Escape")return;switch(d.key.toLowerCase()){case"p":r==!0?Nt.set(!1):(Nt.set(!0),Ne(Qe,i.visible=!1,i));break;case"escape":d.shiftKey?(Ne(Nt,r=!0,r),localStorage.setItem("reset","true"),location.reload(),Il()):i.visible==!0&&Ne(Qe,i.visible=!1,i);break}});function c(d,m,h){if(f==!0)switch(h){case"up":m-=2;break;case"down":m+=1;break;case"left":d-=2;break;case"right":d+=1;break}d<0?d=0:d>l.plots.length&&(d=l.plots.length),m<0?m=0:m>l.plots.length&&(m=l.plots.length);let _=document.querySelectorAll(".plot_container"),g;if(_.forEach(w=>{w.dataset.x=="$x"&&w.dataset.y=="$y"&&(g=w)}),r==!1){if(g.dataset.canBeUpgraded==="true"?Ne(Qe,i.visible=!0,i):Ne(Qe,i.visible=!1,i),g.dataset.refPlotX!==void 0&&g.dataset.refPlotY!=""?(f=!0,_.forEach(w=>{w.dataset.x==g.dataset.refPlotX&&w.dataset.y==g.dataset.refPlotY&&(g=w,d=parseInt(g.dataset.x),m=parseInt(g.dataset.y))})):f=!1,g.dataset.size!=="1"&&g.dataset.size!==void 0&&(f=!0),Ne(Qe,i.x=d,i),Ne(Qe,i.y=m,i),_.forEach(w=>{w.classList.remove("selected"),w.style.fontWeight=""}),g.classList.add("selected"),f){let w="4px solid #00800045";g.classList.remove("selected"),g.style.borderTop=w,g.style.borderLeft=w,g.style.fontWeight="600",_.forEach(A=>{const k=parseInt(`${A.dataset.x}`),E=parseInt(`${A.dataset.y}`);k==d+1&&E==m&&(A.style.borderLeft=w,A.style.borderBottom=w),k==d&&E==m+1&&(A.style.borderTop=w,A.style.borderRight=w),k==d+1&&E==m+1&&(A.style.borderBottom=w,A.style.borderRight=w)})}g.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),Ne(co,o={},o)}}return t.$$.update=()=>{t.$$.dirty&1&&(l?(Ne(Vo,a.visible=!1,a),n(1,u=!0)):(Ne(Vo,a.visible=!0,a),n(1,u=!1)))},[l,u,r,s,c]}class CC extends ve{constructor(e){super(),be(this,e,kC,wC,de,{openPlotMenu:4})}get openPlotMenu(){return this.$$.ctx[4]}}new CC({target:document.getElementById("app")});
