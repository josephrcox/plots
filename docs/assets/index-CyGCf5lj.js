var Fd=Object.defineProperty;var Bd=(t,e,n)=>e in t?Fd(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var hn=(t,e,n)=>(Bd(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();function jd(t){const e=pako.gzip(JSON.stringify(t));return btoa(String.fromCharCode.apply(null,e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function qd(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=atob(e),o=new Uint8Array(n.length);for(let r=0;r<n.length;r++)o[r]=n.charCodeAt(r);const i=pako.ungzip(o,{to:"string"});return JSON.parse(i)}async function Gd(){let t=localStorage.getItem("plots_active_game_db");const e=await jd(t);console.log("http://localhost:5173/plots/?shareId="+e)}const $r=window.location.search.substring(1).split("&").reduce((t,e)=>{const[n,o]=e.split("=");return t[n]=o,t},{});if($r.shareId!=null||$r.shareId!=null){console.log("DECRYPING FROM shareId");const t=JSON.parse(qd($r.shareId));let e=localStorage.getItem("plots_active_game_db");(e==""||e==null)&&localStorage.setItem("plots_active_game_db",JSON.stringify(t))}else console.log("COMPRESSING GAME TO SHARE"),Gd();function ke(){}const cr=t=>t;function Q(t,e){for(const n in e)t[n]=e[n];return t}function zf(t){return t()}function ys(){return Object.create(null)}function Le(t){t.forEach(zf)}function cn(t){return typeof t=="function"}function ce(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let gi;function Vd(t,e){return t===e?!0:(gi||(gi=document.createElement("a")),gi.href=e,t===gi.href)}function Hd(t){return Object.keys(t).length===0}function Ml(t,...e){if(t==null){for(const o of e)o(void 0);return ke}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function ec(t){let e;return Ml(t,n=>e=n)(),e}function ae(t,e,n){t.$$.on_destroy.push(Ml(e,n))}function me(t,e,n,o){if(t){const i=tc(t,e,n,o);return t[0](i)}}function tc(t,e,n,o){return t[1]&&o?Q(n.ctx.slice(),t[1](o(e))):n.ctx}function pe(t,e,n,o){if(t[2]&&o){const i=t[2](o(n));if(e.dirty===void 0)return i;if(typeof i=="object"){const r=[],l=Math.max(e.dirty.length,i.length);for(let a=0;a<l;a+=1)r[a]=e.dirty[a]|i[a];return r}return e.dirty|i}return e.dirty}function he(t,e,n,o,i,r){if(i){const l=tc(e,n,o,r);t.p(l,i)}}function _e(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let o=0;o<n;o++)e[o]=-1;return e}return-1}function $e(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function le(t,e){const n={};e=new Set(e);for(const o in t)!e.has(o)&&o[0]!=="$"&&(n[o]=t[o]);return n}function Me(t,e,n){return t.set(n),e}function Fe(t){return t&&cn(t.destroy)?t.destroy:ke}const nc=typeof window<"u";let Il=nc?()=>window.performance.now():()=>Date.now(),Ol=nc?t=>requestAnimationFrame(t):ke;const co=new Set;function oc(t){co.forEach(e=>{e.c(t)||(co.delete(e),e.f())}),co.size!==0&&Ol(oc)}function Pl(t){let e;return co.size===0&&Ol(oc),{promise:new Promise(n=>{co.add(e={c:t,f:n})}),abort(){co.delete(e)}}}function g(t,e){t.appendChild(e)}function ic(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function Wd(t){const e=I("style");return e.textContent="/* empty */",Yd(ic(t),e),e.sheet}function Yd(t,e){return g(t.head||t,e),e.sheet}function M(t,e,n){t.insertBefore(e,n||null)}function T(t){t.parentNode&&t.parentNode.removeChild(t)}function gt(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function I(t){return document.createElement(t)}function dr(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function F(t){return document.createTextNode(t)}function j(){return F(" ")}function Re(){return F("")}function ee(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function P(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}const Ud=["width","height"];function se(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const o in e)e[o]==null?t.removeAttribute(o):o==="style"?t.style.cssText=e[o]:o==="__value"?t.value=t[o]=e[o]:n[o]&&n[o].set&&Ud.indexOf(o)===-1?t[o]=e[o]:P(t,o,e[o])}function Li(t,e){for(const n in e)P(t,n,e[n])}function Kd(t,e){Object.keys(e).forEach(n=>{Xd(t,n,e[n])})}function Xd(t,e,n){const o=e.toLowerCase();o in t?t[o]=typeof t[o]=="boolean"&&n===""?!0:n:e in t?t[e]=typeof t[e]=="boolean"&&n===""?!0:n:P(t,e,n)}function yn(t){return/-/.test(t)?Kd:se}function Jd(t){return Array.from(t.childNodes)}function re(t,e){e=""+e,t.data!==e&&(t.data=e)}function rn(t,e){t.value=e??""}function Je(t,e,n,o){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,"")}function ws(t,e,n){for(let o=0;o<t.options.length;o+=1){const i=t.options[o];if(i.__value===e){i.selected=!0;return}}t.selectedIndex=-1}function _n(t,e,n){t.classList.toggle(e,!!n)}function rc(t,e,{bubbles:n=!1,cancelable:o=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:o})}class on{constructor(e=!1){hn(this,"is_svg",!1);hn(this,"e");hn(this,"n");hn(this,"t");hn(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,n,o=null){this.e||(this.is_svg?this.e=dr(n.nodeName):this.e=I(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(e)),this.i(o)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)M(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(T)}}const Fi=new Map;let Bi=0;function xd(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function Zd(t,e){const n={stylesheet:Wd(e),rules:{}};return Fi.set(t,n),n}function ji(t,e,n,o,i,r,l,a=0){const s=16.666/o;let u=`{
`;for(let b=0;b<=1;b+=s){const w=e+(n-e)*r(b);u+=b*100+`%{${l(w,1-w)}}
`}const f=u+`100% {${l(n,1-n)}}
}`,c=`__svelte_${xd(f)}_${a}`,d=ic(t),{stylesheet:m,rules:p}=Fi.get(d)||Zd(d,t);p[c]||(p[c]=!0,m.insertRule(`@keyframes ${c} ${f}`,m.cssRules.length));const _=t.style.animation||"";return t.style.animation=`${_?`${_}, `:""}${c} ${o}ms linear ${i}ms 1 both`,Bi+=1,c}function qi(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?r=>r.indexOf(e)<0:r=>r.indexOf("__svelte")===-1),i=n.length-o.length;i&&(t.style.animation=o.join(", "),Bi-=i,Bi||Qd())}function Qd(){Ol(()=>{Bi||(Fi.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&T(e)}),Fi.clear())})}let Uo;function Ho(t){Uo=t}function ei(){if(!Uo)throw new Error("Function called outside component initialization");return Uo}function mr(t){ei().$$.on_mount.push(t)}function zd(t){ei().$$.on_destroy.push(t)}function em(){const t=ei();return(e,n,{cancelable:o=!1}={})=>{const i=t.$$.callbacks[e];if(i){const r=rc(e,n,{cancelable:o});return i.slice().forEach(l=>{l.call(t,r)}),!r.defaultPrevented}return!0}}function pr(t,e){return ei().$$.context.set(t,e),e}function hr(t){return ei().$$.context.get(t)}function oe(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(o=>o.call(this,e))}const ao=[],Ne=[];let mo=[];const zr=[],lc=Promise.resolve();let el=!1;function sc(){el||(el=!0,lc.then(ac))}function Nl(){return sc(),lc}function it(t){mo.push(t)}function Sn(t){zr.push(t)}const Rr=new Set;let io=0;function ac(){if(io!==0)return;const t=Uo;do{try{for(;io<ao.length;){const e=ao[io];io++,Ho(e),tm(e.$$)}}catch(e){throw ao.length=0,io=0,e}for(Ho(null),ao.length=0,io=0;Ne.length;)Ne.pop()();for(let e=0;e<mo.length;e+=1){const n=mo[e];Rr.has(n)||(Rr.add(n),n())}mo.length=0}while(ao.length);for(;zr.length;)zr.pop()();el=!1,Rr.clear(),Ho(t)}function tm(t){if(t.fragment!==null){t.update(),Le(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(it)}}function nm(t){const e=[],n=[];mo.forEach(o=>t.indexOf(o)===-1?e.push(o):n.push(o)),n.forEach(o=>o()),mo=e}let No;function El(){return No||(No=Promise.resolve(),No.then(()=>{No=null})),No}function Rn(t,e,n){t.dispatchEvent(rc(`${e?"intro":"outro"}${n}`))}const Ii=new Set;let Ut;function Ie(){Ut={r:0,c:[],p:Ut}}function Oe(){Ut.r||Le(Ut.c),Ut=Ut.p}function A(t,e){t&&t.i&&(Ii.delete(t),t.i(e))}function S(t,e,n,o){if(t&&t.o){if(Ii.has(t))return;Ii.add(t),Ut.c.push(()=>{Ii.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}else o&&o()}const $l={duration:0};function Qt(t,e,n){const o={direction:"in"};let i=e(t,n,o),r=!1,l,a,s=0;function u(){l&&qi(t,l)}function f(){const{delay:d=0,duration:m=300,easing:p=cr,tick:_=ke,css:b}=i||$l;b&&(l=ji(t,0,1,m,d,p,b,s++)),_(0,1);const w=Il()+d,C=w+m;a&&a.abort(),r=!0,it(()=>Rn(t,!0,"start")),a=Pl(k=>{if(r){if(k>=C)return _(1,0),Rn(t,!0,"end"),u(),r=!1;if(k>=w){const D=p((k-w)/m);_(D,1-D)}}return r})}let c=!1;return{start(){c||(c=!0,qi(t),cn(i)?(i=i(o),El().then(f)):f())},invalidate(){c=!1},end(){r&&(u(),r=!1)}}}function zt(t,e,n){const o={direction:"out"};let i=e(t,n,o),r=!0,l;const a=Ut;a.r+=1;let s;function u(){const{delay:f=0,duration:c=300,easing:d=cr,tick:m=ke,css:p}=i||$l;p&&(l=ji(t,1,0,c,f,d,p));const _=Il()+f,b=_+c;it(()=>Rn(t,!1,"start")),"inert"in t&&(s=t.inert,t.inert=!0),Pl(w=>{if(r){if(w>=b)return m(0,1),Rn(t,!1,"end"),--a.r||Le(a.c),!1;if(w>=_){const C=d((w-_)/c);m(1-C,C)}}return r})}return cn(i)?El().then(()=>{i=i(o),u()}):u(),{end(f){f&&"inert"in t&&(t.inert=s),f&&i.tick&&i.tick(1,0),r&&(l&&qi(t,l),r=!1)}}}function Jt(t,e,n,o){let r=e(t,n,{direction:"both"}),l=o?0:1,a=null,s=null,u=null,f;function c(){u&&qi(t,u)}function d(p,_){const b=p.b-l;return _*=Math.abs(b),{a:l,b:p.b,d:b,duration:_,start:p.start,end:p.start+_,group:p.group}}function m(p){const{delay:_=0,duration:b=300,easing:w=cr,tick:C=ke,css:k}=r||$l,D={start:Il()+_,b:p};p||(D.group=Ut,Ut.r+=1),"inert"in t&&(p?f!==void 0&&(t.inert=f):(f=t.inert,t.inert=!0)),a||s?s=D:(k&&(c(),u=ji(t,l,p,b,_,w,k)),p&&C(0,1),a=d(D,b),it(()=>Rn(t,p,"start")),Pl(L=>{if(s&&L>s.start&&(a=d(s,b),s=null,Rn(t,a.b,"start"),k&&(c(),u=ji(t,l,a.b,a.duration,0,w,r.css))),a){if(L>=a.end)C(l=a.b,1-l),Rn(t,a.b,"end"),s||(a.b?c():--a.group.r||Le(a.group.c)),a=null;else if(L>=a.start){const R=L-a.start;l=a.a+a.d*w(R/a.duration),C(l,1-l)}}return!!(a||s)}))}return{run(p){cn(r)?El().then(()=>{r=r({direction:p?"in":"out"}),m(p)}):m(p)},end(){c(),a=s=null}}}function Ue(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function om(t,e){S(t,1,1,()=>{e.delete(t.key)})}function im(t,e,n,o,i,r,l,a,s,u,f,c){let d=t.length,m=r.length,p=d;const _={};for(;p--;)_[t[p].key]=p;const b=[],w=new Map,C=new Map,k=[];for(p=m;p--;){const E=c(i,r,p),V=n(E);let $=l.get(V);$?k.push(()=>$.p(E,e)):($=u(V,E),$.c()),w.set(V,b[p]=$),V in _&&C.set(V,Math.abs(p-_[V]))}const D=new Set,L=new Set;function R(E){A(E,1),E.m(a,f),l.set(E.key,E),f=E.first,m--}for(;d&&m;){const E=b[m-1],V=t[d-1],$=E.key,W=V.key;E===V?(f=E.first,d--,m--):w.has(W)?!l.has($)||D.has($)?R(E):L.has(W)?d--:C.get($)>C.get(W)?(L.add($),R(E)):(D.add(W),d--):(s(V,l),d--)}for(;d--;){const E=t[d];w.has(E.key)||s(E,l)}for(;m;)R(b[m-1]);return Le(k),b}function ye(t,e){const n={},o={},i={$$scope:1};let r=t.length;for(;r--;){const l=t[r],a=e[r];if(a){for(const s in l)s in a||(o[s]=1);for(const s in a)i[s]||(n[s]=a[s],i[s]=1);t[r]=a}else for(const s in l)i[s]=1}for(const l in o)l in n||(n[l]=void 0);return n}function rt(t){return typeof t=="object"&&t!==null?t:{}}function Tn(t,e,n){const o=t.$$.props[e];o!==void 0&&(t.$$.bound[o]=n,n(t.$$.ctx[o]))}function Z(t){t&&t.c()}function J(t,e,n){const{fragment:o,after_update:i}=t.$$;o&&o.m(e,n),it(()=>{const r=t.$$.on_mount.map(zf).filter(cn);t.$$.on_destroy?t.$$.on_destroy.push(...r):Le(r),t.$$.on_mount=[]}),i.forEach(it)}function x(t,e){const n=t.$$;n.fragment!==null&&(nm(n.after_update),Le(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function rm(t,e){t.$$.dirty[0]===-1&&(ao.push(t),sc(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ge(t,e,n,o,i,r,l=null,a=[-1]){const s=Uo;Ho(t);const u=t.$$={fragment:null,ctx:[],props:r,update:ke,not_equal:i,bound:ys(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(s?s.$$.context:[])),callbacks:ys(),dirty:a,skip_bound:!1,root:e.target||s.$$.root};l&&l(u.root);let f=!1;if(u.ctx=n?n(t,e.props||{},(c,d,...m)=>{const p=m.length?m[0]:d;return u.ctx&&i(u.ctx[c],u.ctx[c]=p)&&(!u.skip_bound&&u.bound[c]&&u.bound[c](p),f&&rm(t,c)),d}):[],u.update(),f=!0,Le(u.before_update),u.fragment=o?o(u.ctx):!1,e.target){if(e.hydrate){const c=Jd(e.target);u.fragment&&u.fragment.l(c),c.forEach(T)}else u.fragment&&u.fragment.c();e.intro&&A(t.$$.fragment),J(t,e.target,e.anchor),ac()}Ho(s)}class be{constructor(){hn(this,"$$");hn(this,"$$set")}$destroy(){x(this,1),this.$destroy=ke}$on(e,n){if(!cn(n))return ke;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const i=o.indexOf(n);i!==-1&&o.splice(i,1)}}$set(e){this.$$set&&!Hd(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const lm="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(lm);const ro=[];function Dn(t,e){return{subscribe:Ye(t,e).subscribe}}function Ye(t,e=ke){let n;const o=new Set;function i(a){if(ce(t,a)&&(t=a,n)){const s=!ro.length;for(const u of o)u[1](),ro.push(u,t);if(s){for(let u=0;u<ro.length;u+=2)ro[u][0](ro[u+1]);ro.length=0}}}function r(a){i(a(t))}function l(a,s=ke){const u=[a,s];return o.add(u),o.size===1&&(n=e(i,r)||ke),a(t),()=>{o.delete(u),o.size===0&&n&&(n(),n=null)}}return{set:i,update:r,subscribe:l}}function dn(t,e,n){const o=!Array.isArray(t),i=o?[t]:t;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const r=e.length<2;return Dn(n,(l,a)=>{let s=!1;const u=[];let f=0,c=ke;const d=()=>{if(f)return;c();const p=e(o?u[0]:u,l,a);r?l(p):c=cn(p)?p:ke},m=i.map((p,_)=>Ml(p,b=>{u[_]=b,f&=~(1<<_),s&&d()},()=>{f|=1<<_}));return s=!0,d(),function(){Le(m),c(),s=!1}})}function ks(t){return{subscribe:t.subscribe.bind(t)}}const sm={plots:[],timeSpent:0,devMode:!1,lastChangeDay:0,townLog:[],currentTutorialStep:0,townInfo:{name:"Your town",gold:150,population_count:0,population_max:0,employees:0,guardians:0,happiness:150,health:150,community:150,knowledge_points:0,productivity:100},kingdom_expansions:0,resources:{food:50,wood:750,stone:750,metal:0,power:0,bureaucracy:0},resource_rate:{food:0,wood:0,stone:0,metal:0,bureaucracy:0,knowledge:0},hasCityHall:!1,hasBank:!1,hasHospital:!1,hasLab:!1,modifiers:{happiness:1,health:1,community:1},economyAndLaws:{tax_rate:.1,max_tax_rate:1,weeklyProfit:0,knowledge_gold_market_rates:[],enacted:[]},plotCounts:[],environment:{day:0,year:1},maximums:{health:300,happiness:300,community:300},difficulty:0,endGoal:"land",endGameDetails:{msg:"",win:!1,still_playing:!0},tick:0,overtime:!1,last_warning_happiness:0,last_warning_health:0,lab:{active_experiment:null,past_experiments:[],xp:0}},am={username:"",stats:{games_played:0,wins:0,losses:0},achievements:[]},Rl={0:"Easy",1:"Normal",2:"Hard"},um={0:Math.random()*(.5-.3)+.3,1:Math.random()*(.4-.2)+.2,2:Math.random()*(.4-.2)+.2},ie=[{id:"small_homes",title:"🏠 Homes",type:"residential",description:"+16 people",revenue_per_week:0,requirements:{gold:150,plots:[],employees:0,knowledge:0,size:1,xp:0,resources:{food:0,wood:50,stone:10,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:16,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:2,stone:0,metal:0,bureaucracy:0,food:0}},{id:"farm",title:"🥕 Farm",type:"farm",description:"Produces veggies, grains, fruit",revenue_per_week:6,requirements:{gold:80,plots:[],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:10,stone:10,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.03,health:1.03,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:5,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},check_for_variety:!1},{id:"tree_farm",title:"🌲 Tree Farm",type:"lumber",description:"Produces some wood",revenue_per_week:8,requirements:{gold:300,plots:[],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},check_for_variety:!0,styling:"",affordable:null,selected:null,knowledge_points_per_month:0,generated_resources:{food:0,wood:10,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"quarry",title:"⛏️ Quarry",type:"quarry",description:"Produces stone, small amounts of metal",revenue_per_week:0,requirements:{gold:800,plots:[],employees:6,knowledge:0,size:1,xp:0,resources:{food:0,wood:50,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:.98,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:18,metal:1,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"livestock_farm",title:"🐄 Livestock",type:"farm",description:"Makes more money and food than a regular farm, but doesn't bonus from water.",revenue_per_week:72,requirements:{gold:600,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:20,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.1,health:1.05,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:14,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0},check_for_variety:!1},{id:"bakery",title:"🥖 Bakery",type:"business",description:"Converts food into some extra cash. Make sure you have enough food.",revenue_per_week:90,requirements:{gold:500,plots:[],employees:3,knowledge:0,size:1,xp:0,resources:{food:0,wood:170,stone:170,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.11,health:.95,community:1},immediate_variable_changes:{happiness:25,health:0,population:0,community:0,bureaucracy:0},check_for_variety:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:15}},{id:"stables",title:"🐴 Stables",type:"business",description:"Makes money and improves health",revenue_per_week:24,requirements:{gold:400,plots:[],employees:2,knowledge:0,size:1,xp:0,resources:{food:0,wood:120,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.2,health:1.2,community:1},immediate_variable_changes:{happiness:5,health:10,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"church",title:"⛪️ Church",type:"recreation",description:"Makes people VERY happy for a short period.",revenue_per_week:0,requirements:{gold:900,plots:[],employees:1,knowledge:0,size:1,xp:0,resources:{food:0,wood:1e3,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.3,health:1,community:1.3},immediate_variable_changes:{happiness:25,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"pub",title:"🍻 Pub",type:"recreation",description:"Increases knowledge, happiness, community. Isn't great for health.",revenue_per_week:40,knowledge_points_per_month:1,requirements:{gold:500,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:100,stone:50,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.2,health:.93,community:1.1},immediate_variable_changes:{happiness:10,health:-15,population:0,community:0,bureaucracy:0},check_for_variety:!0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"village_market",title:"🛒 Village Market",type:"shop",description:"Turns food into money. Sells goods and employs many. Makes significantly more money from tourism if you have a Village Inn.",revenue_per_week:180,requirements:{gold:1400,plots:[],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:150,stone:150,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.05,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:35}},{id:"fishery",title:"🐠 Fishery",type:"business",description:"Requires metal but generates a lot of food. Must be near water.",revenue_per_week:35,requirements:{gold:1500,plots:[],employees:9,knowledge:0,size:1,xp:0,resources:{food:0,wood:1500,stone:0,metal:100,power:0,bureaucracy:0},adjacent_plots:["water"]},effect_modifiers:{happiness:1.05,health:1,community:1},immediate_variable_changes:{happiness:15,health:8,population:0,community:0,bureaucracy:0},check_for_variety:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:75,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"neighborhood",title:"🏘️ Neighborhood",type:"residential",description:"+64 people",revenue_per_week:0,requirements:{gold:700,plots:[],employees:0,knowledge:0,size:1,xp:0,resources:{food:0,wood:250,stone:250,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.1,health:1,community:1.1},immediate_variable_changes:{happiness:0,health:0,population:64,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"vineyard",title:"🍇 Vineyard",type:"farm",description:"Makes fair money, lowers health. Generates knowledge too similar to a pub.",revenue_per_week:60,requirements:{gold:700,plots:[],employees:6,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.5,health:.9,community:1},immediate_variable_changes:{happiness:0,health:-10,population:0,community:0,bureaucracy:0},knowledge_points_per_month:3,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"water_wheel",title:"💧 Water Wheel",type:"industrial",description:"Produces small amount of power",revenue_per_week:0,requirements:{gold:800,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:200,stone:50,metal:0,power:0,bureaucracy:0},adjacent_plots:["water"]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:35,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"adv_water_wheel",title:"💧 Adv. Water Wheel",type:"industrial",description:"Produces a large amount of power",revenue_per_week:0,requirements:{gold:1800,plots:[],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:400,stone:150,metal:500,power:0,bureaucracy:0},adjacent_plots:["water"]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:100,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"park",title:"🎪 Park",type:"recreation",description:"Makes people extremely happy & healthy for a period. Improves community.",revenue_per_week:0,requirements:{gold:600,plots:[],employees:3,knowledge:0,size:1,xp:0,resources:{food:0,wood:100,stone:100,metal:10,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.5,health:1.5,community:1.3},immediate_variable_changes:{happiness:40,health:40,population:0,community:40,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"village_inn",title:"🛌 Village Inn",type:"tourism",description:"Enables tourism to your town, which increases revenue at certain stores.",revenue_per_week:23,requirements:{gold:1500,plots:[],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:150,stone:100,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1.02},immediate_variable_changes:{happiness:10,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:20,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"schoolhouse",title:"🏫 Schoolhouse",type:"education",description:"Produces knowledge, costs money to run.",revenue_per_week:0,knowledge_points_per_month:25,requirements:{gold:2500,plots:[],employees:20,knowledge:0,size:1,xp:0,resources:{food:0,wood:500,stone:100,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.1,health:1.1,community:1.2},immediate_variable_changes:{happiness:15,health:3,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:50,power:20,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"blacksmith",title:"⚒️ Blacksmith",type:"business",description:"Converts metal into tools for money. Make sure you have enough metal!",revenue_per_week:300,requirements:{gold:3e3,plots:[],employees:24,knowledge:0,size:1,xp:0,resources:{food:0,wood:250,stone:250,metal:500,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:.95},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:75,wood:0,stone:0,metal:10,bureaucracy:0,food:0}},{id:"library",title:"📕 Library",type:"recreation",description:"Produces knowledge and happiness",revenue_per_week:0,knowledge_points_per_month:10,requirements:{gold:2e3,plots:[],employees:6,knowledge:0,size:1,xp:0,resources:{food:0,wood:225,stone:100,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.3,health:1,community:1.1},immediate_variable_changes:{happiness:15,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"lumber_mill",title:"🏭 Lumber Mill",type:"industrial",description:"Increases wood production by 25%, has to be next to a tree farm",revenue_per_week:0,requirements:{gold:4e3,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:300,stone:100,metal:0,power:0,bureaucracy:0},adjacent_plots:["tree_farm"]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:50,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:20,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"solar_farm",title:"☀️ Solar farm",type:"industrial",description:"Produces a lot of power without the need of water.",revenue_per_week:0,requirements:{gold:5e3,plots:[],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:500,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:500,bureaucracy:0},level:4,active_costs:{gold:0,power:0,wood:0,stone:0,metal:50,bureaucracy:0,food:0}},{id:"general_store",title:"🛒 General Store",type:"shop",description:"Makes the most money of any plot, requires power. Makes significantly more from tourism if you have a Village Inn.",revenue_per_week:500,requirements:{gold:15e3,plots:[],employees:32,knowledge:0,size:1,xp:0,resources:{food:0,wood:5e3,stone:5e3,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.05,health:1,community:1.1},immediate_variable_changes:{happiness:20,health:0,population:0,community:0,bureaucracy:0},check_for_variety:!1,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:60,wood:0,stone:0,metal:0,bureaucracy:0,food:100}},{id:"healing_house",title:"🏥 Healing House",type:"medical",description:"Treats the sick and continuously improves health.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:2e4,plots:[],employees:18,knowledge:0,size:1,xp:0,resources:{food:0,wood:800,stone:1e3,metal:1e3,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.25,health:1.5,community:1.1},immediate_variable_changes:{happiness:5,health:75,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:30,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"community_center",title:"🫶 Community Center",type:"recreation",description:"Improves community, makes people happier, costs money",revenue_per_week:0,requirements:{gold:19e3,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:1e3,stone:700,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.09,health:1,community:2},immediate_variable_changes:{happiness:50,health:15,population:0,community:0,bureaucracy:0},knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:10,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"city_hall",title:"🗳️ City Hall",type:"federal",description:"Generates bureaucracy that can be used to pass laws to impact the city and expand. Costs a lot of gold every week.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:35e3,plots:[],employees:32,knowledge:3e3,size:1,xp:0,resources:{food:0,wood:3250,stone:800,metal:200,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1.2},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:10},level:4,active_costs:{gold:300,power:20,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"mine",title:"⛏️ Mine",type:"mine",description:"Produces a significant amount of metal and stone.",revenue_per_week:0,requirements:{gold:5e4,plots:[],employees:64,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:150,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:.9,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:15,metal:50,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:80,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"academy",title:"🏫 Academy",type:"education",description:"Produces a lot of knowledge, requires high population",revenue_per_week:0,knowledge_points_per_month:90,requirements:{gold:3e4,plots:[],employees:32,knowledge:1e3,size:1,xp:0,resources:{food:0,wood:5e3,stone:1600,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:500,power:0,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"bank",title:"🏦 Bank",type:"bank",description:"Enables the conversion of knowledge to gold, and increases maximum tax rate so you can make more money.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:75e3,plots:[],employees:32,knowledge:1e3,size:1,xp:0,resources:{food:0,wood:1e3,stone:1e4,metal:5e3,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:.8,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:75,wood:0,stone:0,metal:0,bureaucracy:0,food:0}},{id:"lab",title:"🧪 Laboratory",type:"science",description:"Designs things to help the city grow",revenue_per_week:0,knowledge_points_per_month:25,requirements:{gold:1e5,plots:[],employees:24,knowledge:1e4,size:1,xp:0,resources:{food:0,wood:0,stone:1e3,metal:3e3,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:.98,health:.99,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:300,power:35,wood:0,stone:0,metal:0,bureaucracy:0,food:0}}],Eo={empty_unusable:"rgba(21, 40, 20, 0.70)",empty_buildable:"#CBB827",residential:"#de7633",farm:"#6b8f49",lumber:"#8E805C",business:"#9273a5",recreation:"#5277b1",shop:"#d896d8",tourism:"#d896d8",education:"#BFBEEB",medical:"#4a5ba3",bank:"#8477be",federal:"#8477be",science:"#4a5ba3",mine:"#d9874a",quarry:"#868685",industrial:"#868615"};function Gi(t,e=!1){if(t<0)return t==-1?e?Eo.empty_buildable:Eo.empty_unusable:t==-2?Eo.recreation:Eo.empty_unusable;const n=ie[t];return Eo[n.type]}const Cs={lab:1,city_hall:1,bank:1,community_center:1,inn:1},Gt="plots_active_game_db",Ko="plots_user_db";function fm(){const t=["York","London","Paris","Madrid","Rome","Berlin","Vienna","Prague","Warsaw","Oslo","Lisbon","Dublin","Brussels","Amsterdam","Stockholm","Copenhagen","Edinburgh","Moscow","Beijing","Tokyo","Seoul","Bangkok","Delhi","Mumbai","Shanghai","Sydney","Melbourne","Cairo","Dubai","Istanbul","Athens","Budapest","Reykjavik","Helsinki","Tallinn","Riga","Vilnius","Sofia","Bucharest","Belgrade","Zagreb","Sarajevo","Ljubljana","Skopje","Tirana","Podgorica","Thessaloniki","Barcelona","Valencia","Seville","Granada","Malaga","Lyon","Marseille","Toulouse","Nice","Nantes","Strasbourg","Bordeaux","Lille","Venice","Milan","Florence","Naples","Turin","Bologna","Perugia","Genoa","Pisa","Verona","Palermo","Catania","Bari","Padua","Cagliari","Krakow","Gdansk","Poznan","Wroclaw","Lodz","Katowice","Bialystok","Gdynia","Sopot","Bydgoszcz","Lublin","Szczecin","Gorzow","Zakopane","Olsztyn","Torun","Rzeszow","Kielce","Radom","Siedlce","Los","Angeles","Chicago","Houston","Phoenix","San","Antonio","San","Diego","Dallas","San","Jose","Austin","Jacksonville","Fort","Worth","Columbus","Charlotte","Liverpool","Manchester","Glasgow","Birmingham","Leeds","Sheffield","Newcastle","upon","Tyne","Bristol","Nottingham","Leicester","Coventry","Belfast","Reading","Cardiff","Southampton","Aberdeen","Plymouth","Stoke","Trent","Wolverhampton","Swansea","Sunderland","Portsmouth","Yorkshire","Hull","Blackpool","Bradford","Derby","Middlesbrough","Peterborough","Stockton","on","Tees","Brighton","Poole","Bournemouth","Huddersfield","Luton","Oxford","Norwich","Oldham","Cambridge","Exeter","Walsall","Colchester","Watford","Rotherham","Newport","Gateshead","Dundee","Gloucester","Solihull","High","Wycombe","Maidstone","Slough","Basildon","Chelmsford","Salford","Bedford","Stevenage","Woking","Grimsby","Birkenhead","Halifax","Warrington","Gillingham","Wigan","Worcester","Wakefield","Lincoln","Chester","Rochdale","Dagenham","Widnes","St","Albans","Mansfield","Sutton","Coldfield","Crawley","Wokingham","Barnsley","St","Helens","Harrogate","Redditch","Scunthorpe","Nuneaton","Chesterfield","Hemel","Hempstead","Bury","Guildford","Ashford","Telford","Newcastle","under","Lyme","Aylesbury","Halesowen","Shrewsbury","Lowestoft","Loughborough","Cheltenham","Kidderminster","Basingstoke","Rugby","Stourbridge","Southport","Kettering","Royal","Leamington","Spa","Beeston","Farnborough","Wrexham","Banbury","Weymouth","Wallsend","Dartford","Grays","Tamworth","Ashford","Esher","Folkestone","Tonbridge","Taunton","Runcorn","Macclesfield","Keighley","Bridgend","Barnstaple","Letchworth","Garden","City","Worthing","Gosport","Eastleigh","Staines","upon","Thames","Lisburn","Livingston","Bognor","Regis","Scarborough","Cannock","Margate","Chippenham","Rhondda","Maidenhead","Wellingborough","Washington","Camberley","Bootle","Lancaster","Llanelli","Chatham","Cheshunt","Bishop","Auckland","Nelson","Belper","Pontefract","Barry","Braintree","Crosby","Bury","St","Edmunds","Bexhill","Margate","Aldershot","Rowley","Regis","Hoddesdon","Sittingbourne","Rugby","Newquay","Falmouth","Stretford","Camberley","Beverley","Windsor","Rochester","Wickford","Diss","Farnham","Andover","Camberwell","Bermondsey","Lewisham","Wembley","Hayes","Harrow","Ilford","Enfield","Twickenham","Richmond","Brentwood","Edgware","Ealing","Greenwich","Bromley","Hounslow","Romford","Hillingdon","Uxbridge","Wandsworth","Sutton","Kingston","upon","Thames","Bexley","Havering","Barking"],e=["ia","ville","ton","land","field","burgh","ford","wood","port","bay","beach","peak","valley","ridge","hill","dale","island","cape","spring","grove","polis","side","view","shore","haven","place","gardens","plaza","square"],n=["New","Old","North","South","East","West","Upper","Lower","Little","Great","Saint","Fort","Mount","Lake","River","The Village of","The City of","The Town of","The Borough of","The County of","The State of","The Kingdom of","The Empire of","The Republic of","The Commonwealth of","The Union of","The Federation of","Rainy","Sunny","Windy","Frosty","Snowy"];function o(s){return s[Math.floor(Math.random()*s.length)]}let i=o(n),r=o(t),l=o(e),a="";return Math.random()>.5?a=i+" "+r+l:a=r+l,a}let Pe=Ye(JSON.parse(localStorage.getItem(Gt)||"null")),an=Ye(JSON.parse(localStorage.getItem(Ko)||"null"));mm();function cm(t,e,n,o){let i={...sm};i.economyAndLaws.max_tax_rate=um[t],i.endGoal=e;let r=[];n=n.replace(/[^a-zA-Z0-9 ]/g,"").trim(),i.townInfo.name=n!=""?n:fm(),i.difficulty=parseInt(t),o&&(i.devMode=!0,i.townInfo.gold=1e8,i.townInfo.happiness=1e7,i.townInfo.health=1e6,i.townInfo.knowledge_points=1e5,i.modifiers.happiness=1e4,i.modifiers.health=1e4,i.resources.food=1e6,i.resources.wood=1e6,i.resources.stone=1e6,i.resources.metal=1e6);const l=t=="0"?8:t=="1"?12:t=="2"?16:1,a=Math.floor(Math.random()*l/2)+1,s=Math.floor(Math.random()*l/2)+1;for(let u=0;u<l;u++){r.push([]);for(let f=0;f<l;f++){const c=u==a&&f==s?!1:dm(u,f,l);r[u][f]={id:Math.random().toString(36).substring(2,9),active:!1,x:u,y:f,type:c?-9:-1,typeId:"",mineralSource:c?!1:a===u&&s===f,water:a===u&&s===f?!1:c}}}i.plots=r,localStorage.reset=!1,localStorage.setItem(Gt,JSON.stringify(i)),Pe.set(i),location.reload()}function dm(t,e,n){let o=.06;return t>0&&e>0&&t<n-1&&e<n-1&&(o*=2),(e==Math.round(n/2)||e==Math.round(n/2)-1)&&(o*=5),t==0&&e==0&&(o=0),Math.random()<o}function mm(){if(localStorage.getItem(Ko)===null){let t=am;t.username="my_username_click_to_change",localStorage.setItem(Ko,JSON.stringify(t)),an.set(t)}}function As(t,e){var n=Math.pow(10,e);t=parseFloat((t*n).toFixed(11));var o=Math.round(t)/n;return+o.toFixed(e)}function Vi(t,e,n){let o=n.plots[t][e].type;if(n.plots[t][e].type=-1,n.plots[t][e].active=!1,o>-1&&(n.townInfo.population_count-=ie[o].immediate_variable_changes.population,n.townInfo.population_max-=ie[o].immediate_variable_changes.population,n.townInfo.happiness-=ie[o].immediate_variable_changes.happiness,n.townInfo.health-=ie[o].immediate_variable_changes.health,n.modifiers.happiness=As(n.modifiers.happiness/ie[o].effect_modifiers.happiness,2),n.modifiers.health=As(n.modifiers.health/ie[o].effect_modifiers.health,2),n.townInfo.employees-=ie[o].requirements.employees,(n.plotCounts[o]===void 0||n.plotCounts[o]===null)&&(n.plotCounts[o]=0),n.plotCounts[o]--,(ie[o].requirements.size??1)>1))for(let r=0;r<n.plots.length;r++)for(let l=0;l<n.plots[t].length;l++)n.plots[r][l].referencePlot!=null&&n.plots[r][l].referencePlot[0]===t&&n.plots[r][l].referencePlot[1]===e&&Vi(r,l,n);n.lastChangeDay=n.environment.day,Pe.set(n),localStorage.setItem(Gt,JSON.stringify(n))}function He(t,e){let n=[];for(let o=0;o<e.plots.length;o++)for(let i=0;i<e.plots[o].length;i++)e.plots[o][i].active==!1||e.plots[o][i]==null||e.plots[o][i].type===null||e.plots[o][i].type<0||(ie[e.plots[o][i].type].id===t||ie[e.plots[o][i].type].type===t)&&n.push(e.plots[o][i]);return n}function pm(t,e){const n=t.plots.length,o=n>0?t.plots[0].length:0,i=e=="east"?5:0,r=e=="south"?5:0,l=Math.round(Math.pow(1.5,t.kingdom_expansions+5));if(t.townInfo.guardians<l)return`You need ${l-t.townInfo.guardians} more Guardians to expand the kingdom. See the City mgmt menu.`;for(let a=0;a<n;a++)for(let s=o;s<o+i;s++)t.plots[a].push({id:Math.random().toString(36).substring(2,9),active:!1,x:a,y:s,type:-1,typeId:"",mineralSource:!1,water:!1,disabled:!1});for(let a=n;a<n+r;a++){const s=[];for(let u=0;u<o+i;u++)s.push({id:Math.random().toString(36).substring(2,9),active:!1,x:a,y:u,type:-1,typeId:"",mineralSource:!1,water:!1});t.plots.push(s)}t.kingdom_expansions++,Pe.set(t)}function Dl(t=null){localStorage.removeItem(Gt),Pe.set(null),t&&(localStorage.setItem(Gt,JSON.stringify(t)),Pe.set(t)),location.reload()}function hm(){uc.update(t=>!t),localStorage.setItem("showOnlyAffordable",localStorage.getItem("showOnlyAffordable")==="true"?"false":"true")}let ze=Ye({visible:!1,x:0,y:0,isMineralSource:!1}),Wo=Ye({visible:!1});function _m(t){an.set(t),localStorage.setItem(Ko,JSON.stringify(t))}let _o=Ye({}),Oi=Ye(!1),Rt=Ye(!1),tl=Ye(!0),Ss=Ye(!1),Hi=Ye(!1),Wi=Ye(!1),Pi=Ye(!1),Yi=Ye(!1),Pt=Ye(""),Ui=localStorage.getItem("showCompletedAchievements")==="true"?Ye(!0):Ye(!1),uc=localStorage.getItem("showOnlyAffordable")==="true"?Ye(!0):Ye(!1),fc=localStorage.getItem("pauseMenuTab")==="game"?Ye("game"):Ye("achievements"),nl=Ye(750);const ht={unemployment_num:" people can't find jobs.",bored:"People are bored. Try making some new buildings.",vairety:"People don't like going to the same places over and over again. Try making some new buildings.",nobody_home:"Build some homes!",leave_town_num:" people left town because they were unhappy.",new_people_num:" new people moved to town.",people_want_to_move_in:"People want to move in. Build more homes.",high_tax_rate:"People are unhappy with the high tax rate.",very_high_tax_rate:"People are extremely unhappy with the high tax rate.",sickAndDying:"People are sick and dying.",sickAndLeaving:"People are sick and leaving town.",happiness_zero:"The town has fallen into chaos due to extreme unhappiness.",health_zero:"The town has fallen into chaos due to extreme sickness.",population_zero:"The town has been condemned due to lack of population.",win:{land:"You have filled the grid with buildings. You win!"},hospital_advantage:"Because you have a hospital, the town is staying healthier for longer!",notEnoughVariety:"People are sick of going to the same places over and over, add some variety!"},tt=[{id:"happiness_at_300",title:"Happy Town",description:"One of your towns wins Happiest Town Award!",requirements:"Happiness reaches 300",icon:"😍",check:t=>t.townInfo.happiness>=300,prize:1e3},{id:"get_educated",title:"Get Educated",description:"The kids are finally able to learn!",requirements:"Build a school or library",icon:"📌",check:t=>He("small_school",t).length!==0||He("large_school",t).length!==0||He("library",t).length!==0,prize:1850},{id:"10k",title:"$10,000",description:"",requirements:"Gold reaches $10,000",icon:"﹩",check:t=>t.townInfo.gold>=1e4,prize:2500},{id:"25k",title:"$25,000",description:"",requirements:"Gold reaches $25,000",icon:"💵",check:t=>t.townInfo.gold>=25e3,prize:7500},{id:"stayin_frugal",title:"Stayin' Frugal!",description:"",requirements:"Gold under $50 with >=300 population",icon:"🚲",check:t=>t.townInfo.gold<=50&&t.townInfo.population_count>=300,prize:1e4},{id:"profits_to_the_moon",title:"Profits to the moon!",description:"Now you're making dough!",requirements:"Last month profit is over $10,000",icon:"🌛",check:t=>t.economyAndLaws.weeklyProfit>=1e4,prize:15e3},{id:"happily_dying",title:"Happily Dying!",description:"Not something to be proud of...",requirements:"Happiness > 275, health < 25",icon:"🌛",check:t=>t.townInfo.happiness>275&&t.townInfo.health<25,prize:2e4},{id:"long_game",title:"The Long Game",description:"So are you gonna win anytime soon?",requirements:"Still playing after 10,000 days, without winning. ",icon:"🐌",check:t=>t.endGameDetails.win===!1&&t.environment.day>1e4&&t.endGameDetails.msg==="",prize:25e3},{id:"tax_man",title:"Tax man",description:"Set the tax rate to the absolute max that the town will tolerate.",requirements:"",icon:"🙃",check:t=>{let e=Math.floor(t.economyAndLaws.max_tax_rate*20)/20;return t.economyAndLaws.tax_rate===e},prize:1500},{id:"good_job",title:"Good job",description:"Beat 'Fill the grid' with Normal difficulty in under 3,000 days.",requirements:"",icon:"👍",check:t=>t.endGameDetails.win===!0&&t.environment.day<=3e3&&t.difficulty===1&&t.endGoal==="land",prize:1e4},{id:"great_job",title:"Great job",description:"Beat 'Fill the grid' with Normal difficulty in under 2,000 days.",requirements:"",icon:"👏",check:t=>t.endGameDetails.win===!0&&t.environment.day<=2e3&&t.difficulty===1&&t.endGoal==="land",prize:45e3},{id:"superb_job",title:"SUPERB job",description:"Beat 'Fill the grid' with Normal difficulty in under 500 days.",requirements:"",icon:"👌",check:t=>t.endGameDetails.win===!0&&t.environment.day<=500&&t.difficulty===1&&t.endGoal==="land",prize:1e5},{id:"250k",title:"$250,000",description:"",requirements:"Gold reaches $250,000",icon:"💸",check:t=>t.townInfo.gold>=25e4,prize:5e4},{id:"banker",title:"Banker",description:"",requirements:"Build your first bank. ",icon:"🏦",check:t=>He("bank",t).length!==0,prize:5e3},{id:"community",title:"Community Center",description:"",requirements:"Build your first community center. ",icon:"❤️",check:t=>He("community_center",t).length!==0,prize:1e4},{id:"1m",title:"MILLIONAIRE!",description:"",requirements:"Gold reaches $1,000,000",icon:"💰",check:t=>t.townInfo.gold>=1e6,prize:15e4}],qt=[{message:"My liege, we need places to live! Build the first homes.",isComplete:t=>t.townInfo.population_max>0,goldReward:750},{message:"My liege, you need to start making food and wood.",isComplete:t=>He("farm",t).length>=1&&He("tree_farm",t).length>=1,goldReward:300},{message:"My liege, the village will need stone and metals to expand. Build a quarry. ",isComplete:t=>He("quarry",t).length>0,goldReward:500},{message:"My liege, things are picking up but we will need far more money. Get weekly revenue to >=200 gold. ",isComplete:t=>t.economyAndLaws.weeklyProfit>=200,goldReward:2e3},{message:"My liege, as the town develops we will need the smartest and brightest. Build plots to get our Knowledge to 250.",isComplete:t=>t.townInfo.knowledge_points>=250,goldReward:2e3},{message:"My liege, the village is growing - yay! But we need to have more workers. Get the population to 100.",isComplete:t=>t.townInfo.population_count>=100,goldReward:1500},{message:"My liege, some advanced buildings require power. Start generating power with a water wheel or a solar farm.",isComplete:t=>t.resources.power>0,goldReward:2e3},{message:"My liege, we need more metals. Find a good spot for a mine and build it. ",isComplete:t=>He("mine",t).length>0,goldReward:1e4},{message:"My liege, mining resources has taken a toll on the towns health. Build a Healing House to lower the chance of sickness.",isComplete:t=>He("healing_house",t).length>0,goldReward:15e3},{message:"My liege, now that we have metals, power, and people, your next goal is a big one. Build your town a City Hall.",isComplete:t=>He("city_hall",t).length>0,goldReward:1e4}];function cc(t){var e,n,o="";if(typeof t=="string"||typeof t=="number")o+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=cc(t[e]))&&(o&&(o+=" "),o+=n)}else for(n in t)t[n]&&(o&&(o+=" "),o+=n);return o}function gm(){for(var t,e,n=0,o="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=cc(t))&&(o&&(o+=" "),o+=e);return o}const Ll="-";function bm(t){const e=ym(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:o}=t;function i(l){const a=l.split(Ll);return a[0]===""&&a.length!==1&&a.shift(),dc(a,e)||vm(l)}function r(l,a){const s=n[l]||[];return a&&o[l]?[...s,...o[l]]:s}return{getClassGroupId:i,getConflictingClassGroupIds:r}}function dc(t,e){var l;if(t.length===0)return e.classGroupId;const n=t[0],o=e.nextPart.get(n),i=o?dc(t.slice(1),o):void 0;if(i)return i;if(e.validators.length===0)return;const r=t.join(Ll);return(l=e.validators.find(({validator:a})=>a(r)))==null?void 0:l.classGroupId}const Ts=/^\[(.+)\]$/;function vm(t){if(Ts.test(t)){const e=Ts.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function ym(t){const{theme:e,prefix:n}=t,o={nextPart:new Map,validators:[]};return km(Object.entries(t.classGroups),n).forEach(([r,l])=>{ol(l,o,r,e)}),o}function ol(t,e,n,o){t.forEach(i=>{if(typeof i=="string"){const r=i===""?e:Ms(e,i);r.classGroupId=n;return}if(typeof i=="function"){if(wm(i)){ol(i(o),e,n,o);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([r,l])=>{ol(l,Ms(e,r),n,o)})})}function Ms(t,e){let n=t;return e.split(Ll).forEach(o=>{n.nextPart.has(o)||n.nextPart.set(o,{nextPart:new Map,validators:[]}),n=n.nextPart.get(o)}),n}function wm(t){return t.isThemeGetter}function km(t,e){return e?t.map(([n,o])=>{const i=o.map(r=>typeof r=="string"?e+r:typeof r=="object"?Object.fromEntries(Object.entries(r).map(([l,a])=>[e+l,a])):r);return[n,i]}):t}function Cm(t){if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,o=new Map;function i(r,l){n.set(r,l),e++,e>t&&(e=0,o=n,n=new Map)}return{get(r){let l=n.get(r);if(l!==void 0)return l;if((l=o.get(r))!==void 0)return i(r,l),l},set(r,l){n.has(r)?n.set(r,l):i(r,l)}}}const mc="!";function Am(t){const e=t.separator,n=e.length===1,o=e[0],i=e.length;return function(l){const a=[];let s=0,u=0,f;for(let _=0;_<l.length;_++){let b=l[_];if(s===0){if(b===o&&(n||l.slice(_,_+i)===e)){a.push(l.slice(u,_)),u=_+i;continue}if(b==="/"){f=_;continue}}b==="["?s++:b==="]"&&s--}const c=a.length===0?l:l.substring(u),d=c.startsWith(mc),m=d?c.substring(1):c,p=f&&f>u?f-u:void 0;return{modifiers:a,hasImportantModifier:d,baseClassName:m,maybePostfixModifierPosition:p}}}function Sm(t){if(t.length<=1)return t;const e=[];let n=[];return t.forEach(o=>{o[0]==="["?(e.push(...n.sort(),o),n=[]):n.push(o)}),e.push(...n.sort()),e}function Tm(t){return{cache:Cm(t.cacheSize),splitModifiers:Am(t),...bm(t)}}const Mm=/\s+/;function Im(t,e){const{splitModifiers:n,getClassGroupId:o,getConflictingClassGroupIds:i}=e,r=new Set;return t.trim().split(Mm).map(l=>{const{modifiers:a,hasImportantModifier:s,baseClassName:u,maybePostfixModifierPosition:f}=n(l);let c=o(f?u.substring(0,f):u),d=!!f;if(!c){if(!f)return{isTailwindClass:!1,originalClassName:l};if(c=o(u),!c)return{isTailwindClass:!1,originalClassName:l};d=!1}const m=Sm(a).join(":");return{isTailwindClass:!0,modifierId:s?m+mc:m,classGroupId:c,originalClassName:l,hasPostfixModifier:d}}).reverse().filter(l=>{if(!l.isTailwindClass)return!0;const{modifierId:a,classGroupId:s,hasPostfixModifier:u}=l,f=a+s;return r.has(f)?!1:(r.add(f),i(s,u).forEach(c=>r.add(a+c)),!0)}).reverse().map(l=>l.originalClassName).join(" ")}function Om(){let t=0,e,n,o="";for(;t<arguments.length;)(e=arguments[t++])&&(n=pc(e))&&(o&&(o+=" "),o+=n);return o}function pc(t){if(typeof t=="string")return t;let e,n="";for(let o=0;o<t.length;o++)t[o]&&(e=pc(t[o]))&&(n&&(n+=" "),n+=e);return n}function il(t,...e){let n,o,i,r=l;function l(s){const u=e.reduce((f,c)=>c(f),t());return n=Tm(u),o=n.cache.get,i=n.cache.set,r=a,a(s)}function a(s){const u=o(s);if(u)return u;const f=Im(s,n);return i(s,f),f}return function(){return r(Om.apply(null,arguments))}}function xe(t){const e=n=>n[t]||[];return e.isThemeGetter=!0,e}const hc=/^\[(?:([a-z-]+):)?(.+)\]$/i,Pm=/^\d+\/\d+$/,Nm=new Set(["px","full","screen"]),Em=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,$m=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Rm=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Dm=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Lm=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function tn(t){return En(t)||Nm.has(t)||Pm.test(t)}function gn(t){return ko(t,"length",Wm)}function En(t){return!!t&&!Number.isNaN(Number(t))}function bi(t){return ko(t,"number",En)}function $o(t){return!!t&&Number.isInteger(Number(t))}function Fm(t){return t.endsWith("%")&&En(t.slice(0,-1))}function qe(t){return hc.test(t)}function bn(t){return Em.test(t)}const Bm=new Set(["length","size","percentage"]);function jm(t){return ko(t,Bm,_c)}function qm(t){return ko(t,"position",_c)}const Gm=new Set(["image","url"]);function Vm(t){return ko(t,Gm,Um)}function Hm(t){return ko(t,"",Ym)}function Ro(){return!0}function ko(t,e,n){const o=hc.exec(t);return o?o[1]?typeof e=="string"?o[1]===e:e.has(o[1]):n(o[2]):!1}function Wm(t){return $m.test(t)&&!Rm.test(t)}function _c(){return!1}function Ym(t){return Dm.test(t)}function Um(t){return Lm.test(t)}function rl(){const t=xe("colors"),e=xe("spacing"),n=xe("blur"),o=xe("brightness"),i=xe("borderColor"),r=xe("borderRadius"),l=xe("borderSpacing"),a=xe("borderWidth"),s=xe("contrast"),u=xe("grayscale"),f=xe("hueRotate"),c=xe("invert"),d=xe("gap"),m=xe("gradientColorStops"),p=xe("gradientColorStopPositions"),_=xe("inset"),b=xe("margin"),w=xe("opacity"),C=xe("padding"),k=xe("saturate"),D=xe("scale"),L=xe("sepia"),R=xe("skew"),E=xe("space"),V=xe("translate"),$=()=>["auto","contain","none"],W=()=>["auto","hidden","clip","visible","scroll"],y=()=>["auto",qe,e],v=()=>[qe,e],O=()=>["",tn,gn],N=()=>["auto",En,qe],H=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],G=()=>["solid","dashed","dotted","double","none"],K=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"],z=()=>["start","end","center","between","around","evenly","stretch"],te=()=>["","0",qe],Y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],h=()=>[En,bi],B=()=>[En,qe];return{cacheSize:500,separator:":",theme:{colors:[Ro],spacing:[tn,gn],blur:["none","",bn,qe],brightness:h(),borderColor:[t],borderRadius:["none","","full",bn,qe],borderSpacing:v(),borderWidth:O(),contrast:h(),grayscale:te(),hueRotate:B(),invert:te(),gap:v(),gradientColorStops:[t],gradientColorStopPositions:[Fm,gn],inset:y(),margin:y(),opacity:h(),padding:v(),saturate:h(),scale:h(),sepia:te(),skew:B(),space:v(),translate:v()},classGroups:{aspect:[{aspect:["auto","square","video",qe]}],container:["container"],columns:[{columns:[bn]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...H(),qe]}],overflow:[{overflow:W()}],"overflow-x":[{"overflow-x":W()}],"overflow-y":[{"overflow-y":W()}],overscroll:[{overscroll:$()}],"overscroll-x":[{"overscroll-x":$()}],"overscroll-y":[{"overscroll-y":$()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",$o,qe]}],basis:[{basis:y()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",qe]}],grow:[{grow:te()}],shrink:[{shrink:te()}],order:[{order:["first","last","none",$o,qe]}],"grid-cols":[{"grid-cols":[Ro]}],"col-start-end":[{col:["auto",{span:["full",$o,qe]},qe]}],"col-start":[{"col-start":N()}],"col-end":[{"col-end":N()}],"grid-rows":[{"grid-rows":[Ro]}],"row-start-end":[{row:["auto",{span:[$o,qe]},qe]}],"row-start":[{"row-start":N()}],"row-end":[{"row-end":N()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",qe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",qe]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal",...z()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...z(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...z(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[C]}],px:[{px:[C]}],py:[{py:[C]}],ps:[{ps:[C]}],pe:[{pe:[C]}],pt:[{pt:[C]}],pr:[{pr:[C]}],pb:[{pb:[C]}],pl:[{pl:[C]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",qe,e]}],"min-w":[{"min-w":[qe,e,"min","max","fit"]}],"max-w":[{"max-w":[qe,e,"none","full","min","max","fit","prose",{screen:[bn]},bn]}],h:[{h:[qe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[qe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[qe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[qe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",bn,gn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",bi]}],"font-family":[{font:[Ro]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",qe]}],"line-clamp":[{"line-clamp":["none",En,bi]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",tn,qe]}],"list-image":[{"list-image":["none",qe]}],"list-style-type":[{list:["none","disc","decimal",qe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...G(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",tn,gn]}],"underline-offset":[{"underline-offset":["auto",tn,qe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:v()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",qe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",qe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...H(),qm]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",jm]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Vm]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[r]}],"rounded-s":[{"rounded-s":[r]}],"rounded-e":[{"rounded-e":[r]}],"rounded-t":[{"rounded-t":[r]}],"rounded-r":[{"rounded-r":[r]}],"rounded-b":[{"rounded-b":[r]}],"rounded-l":[{"rounded-l":[r]}],"rounded-ss":[{"rounded-ss":[r]}],"rounded-se":[{"rounded-se":[r]}],"rounded-ee":[{"rounded-ee":[r]}],"rounded-es":[{"rounded-es":[r]}],"rounded-tl":[{"rounded-tl":[r]}],"rounded-tr":[{"rounded-tr":[r]}],"rounded-br":[{"rounded-br":[r]}],"rounded-bl":[{"rounded-bl":[r]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...G(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:G()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...G()]}],"outline-offset":[{"outline-offset":[tn,qe]}],"outline-w":[{outline:[tn,gn]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:O()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[tn,gn]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",bn,Hm]}],"shadow-color":[{shadow:[Ro]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":K()}],"bg-blend":[{"bg-blend":K()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[o]}],contrast:[{contrast:[s]}],"drop-shadow":[{"drop-shadow":["","none",bn,qe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[c]}],saturate:[{saturate:[k]}],sepia:[{sepia:[L]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[o]}],"backdrop-contrast":[{"backdrop-contrast":[s]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[c]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[k]}],"backdrop-sepia":[{"backdrop-sepia":[L]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",qe]}],duration:[{duration:B()}],ease:[{ease:["linear","in","out","in-out",qe]}],delay:[{delay:B()}],animate:[{animate:["none","spin","ping","pulse","bounce",qe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[D]}],"scale-x":[{"scale-x":[D]}],"scale-y":[{"scale-y":[D]}],rotate:[{rotate:[$o,qe]}],"translate-x":[{"translate-x":[V]}],"translate-y":[{"translate-y":[V]}],"skew-x":[{"skew-x":[R]}],"skew-y":[{"skew-y":[R]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",qe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",qe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":v()}],"scroll-mx":[{"scroll-mx":v()}],"scroll-my":[{"scroll-my":v()}],"scroll-ms":[{"scroll-ms":v()}],"scroll-me":[{"scroll-me":v()}],"scroll-mt":[{"scroll-mt":v()}],"scroll-mr":[{"scroll-mr":v()}],"scroll-mb":[{"scroll-mb":v()}],"scroll-ml":[{"scroll-ml":v()}],"scroll-p":[{"scroll-p":v()}],"scroll-px":[{"scroll-px":v()}],"scroll-py":[{"scroll-py":v()}],"scroll-ps":[{"scroll-ps":v()}],"scroll-pe":[{"scroll-pe":v()}],"scroll-pt":[{"scroll-pt":v()}],"scroll-pr":[{"scroll-pr":v()}],"scroll-pb":[{"scroll-pb":v()}],"scroll-pl":[{"scroll-pl":v()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",qe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[tn,gn,bi]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}function Km(t,{cacheSize:e,prefix:n,separator:o,extend:i={},override:r={}}){Ni(t,"cacheSize",e),Ni(t,"prefix",n),Ni(t,"separator",o);for(const l in r)Xm(t[l],r[l]);for(const l in i)Jm(t[l],i[l]);return t}function Ni(t,e,n){n!==void 0&&(t[e]=n)}function Xm(t,e){if(e)for(const n in e)Ni(t,n,e[n])}function Jm(t,e){if(e)for(const n in e){const o=e[n];o!==void 0&&(t[n]=(t[n]||[]).concat(o))}}function xm(t,...e){return typeof t=="function"?il(rl,t,...e):il(()=>Km(rl(),t),...e)}const gc=il(rl);function Zm(t){const e=t-1;return e*e*e+1}function De(...t){return gc(gm(t))}const _r=(t,e={y:-8,x:0,start:.95,duration:150})=>{const n=getComputedStyle(t),o=n.transform==="none"?"":n.transform,i=(l,a,s)=>{const[u,f]=a,[c,d]=s;return(l-u)/(f-u)*(d-c)+c},r=l=>Object.keys(l).reduce((a,s)=>l[s]===void 0?a:a+`${s}:${l[s]};`,"");return{duration:e.duration??200,delay:0,css:l=>{const a=i(l,[0,1],[e.y??5,0]),s=i(l,[0,1],[e.x??0,0]),u=i(l,[0,1],[e.start??.95,1]);return r({transform:`${o} translate3d(${s}px, ${a}px, 0) scale(${u})`,opacity:l})},easing:Zm}};function ut(t,e){if(e===void 0&&(e=0),t==null||t==null)return 0;t=parseFloat((t*Math.pow(10,e)).toFixed(11));var n=Math.round(t)/Math.pow(10,e);return+n.toFixed(e)}function Dr(t){return t<10?"0"+t:t}function Qm(t){let e=Math.floor(t/1e3),n=Math.floor(e/60);e=e%60;let o=Math.floor(n/60);return n=n%60,`${Dr(o)}:${Dr(n)}:${Dr(e)}`}function Te(t){return ie.findIndex(e=>e.id===t)}function Is(t){const n=new RegExp("\\p{Emoji}","u").exec(t);return n?n[0]:null}function xt(t,e=!0){let n=t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,");return e||(n=n.split(".")[0]),n}function Fn(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Os(t,e=!0){return t=ut(t/(e?3:1),2),t<0?`${t}`:`+${t}`}function Bn(t,e,n,o=!1){if(t<0||t>=n.plots.length||e<0||e>=n.plots[0].length)return!1;let i=[[t-1,e],[t+1,e],[t,e-1],[t,e+1],[t-1,e-1],[t-1,e+1],[t+1,e-1],[t+1,e+1]];for(let r=0;r<i.length;r++){let l=i[r][0],a=i[r][1];if(l>=0&&l<n.plots.length&&a>=0&&a<n.plots[0].length&&n.plots[l][a].water&&(o||n.plots[t][e].active==!0&&n.plots[t][e].type>0&&ie[n.plots[t][e].type].id=="farm"))return!0}return!1}function zm(t,e,n,o){if(t<0||t>=n.plots.length||e<0||e>=n.plots[0].length)return!1;let i=[[t-1,e],[t+1,e],[t,e-1],[t,e+1],[t-1,e-1],[t-1,e+1],[t+1,e-1],[t+1,e+1]],r=!0;for(let l=0;l<o.length;l++){let a=!1;if(o[l]=="water"&&(console.log("water"),Bn(t,e,n,!0))){a=!0;break}for(let s=0;s<i.length;s++){let u=i[s][0],f=i[s][1];if(u>=0&&u<n.plots.length&&f>=0&&f<n.plots[0].length&&n.plots[u][f].active==!0&&n.plots[u][f].type>0&&ie[n.plots[u][f].type].id==o[l]){a=!0;break}}if(!a){r=!1;break}}return r}function ep(t,e=0){let n=t*.92,o=t*1.08;return ut(Math.random()*(o-n)+n,e)}const ll=[{id:"organic_farming",description:"Organic Farming. Make townspeople healthier and happier, while decreasing overall food production.",cost:150,weekly_effect:t=>(t.modifiers.happiness*=1.1,t.modifiers.health*=1.1,t.resources.food-=2*He("farm",t).length,t)},{id:"tax_free",description:"Tax-Free Month. For 1 month, the town loses all revenue from taxes, but happiness and health increase quite a lot. Automatically ends after 4 weeks.",cost:250,weekly_effect:t=>(localStorage.getItem("tax_free")===null?(localStorage.setItem("tax_free","0"),t.economyAndLaws.weeklyProfit=-1*t.economyAndLaws.weeklyProfit):localStorage.setItem("tax_free",(parseInt(localStorage.getItem("tax_free"))+1).toString()),parseInt(localStorage.getItem("tax_free"))>=4?(t.modifiers.happiness*=1,t.modifiers.health*=1,localStorage.removeItem("tax_free"),t.economyAndLaws.enacted=t.economyAndLaws.enacted.filter(e=>e!=="tax_free")):(t.modifiers.happiness*=1.2,t.modifiers.health*=1.2),t)},{id:"healthy_mining",description:"Healthy mining. Miners must mine with proper ventilation, but they move like molasses.",cost:250,weekly_effect:t=>(ie.find(e=>e.id==="mine"),t.modifiers.health*=1.1,t.resources.stone-=5*He("quarry",t).length,t.resources.stone-=7*He("mine",t).length,t.resources.metal-=15*He("mine",t).length,t)},{id:"complicated_tax_forms",description:"Complicated Tax Forms. You sneak in a clause to charge 5% more in taxes. Now, if you adjust your tax rate 5% higher, they won't be upset. This can be enacted multiple times to stack.",cost:500,weekly_effect:t=>(t.economyAndLaws.max_tax_rate+=.05,t.economyAndLaws.enacted=t.economyAndLaws.enacted.filter(e=>e!=="complicated_tax_forms"),t)},{id:"legalize_it",description:"Legalize it. You legalize a substance that makes people happy, but it also gives them 'the munchies'. Food consumption and happiness go up.",cost:350,weekly_effect:t=>(t.resources.food-=Math.round(.2*t.townInfo.population_count),t.modifiers.happiness*=1.1,t)},{id:"park_upgrade",description:"Park upgrade. You hold a community forum and add the top 5 things that the people want in their parks. This increases happiness for each park.",cost:350,weekly_effect:t=>(t.townInfo.happiness+=2*He("park",t).length,t)},{id:"career_politician",description:"Career Politician. You hire a career politician to help you with your town. They cost the town $100 per week, but they earn bureaucracy points faster.",cost:200,weekly_effect:t=>(t.resources.bureaucracy+=25,t)},{id:"the_big_wood_deal",description:"The Big Wood Deal. This law allows you to sell all of the wood in your town for $2/wood at once. This won't make the town happy, but may be necessary in a pinch. Can be enacted multiple times to sell to other buyers.",cost:200,weekly_effect:t=>(t.townInfo.gold+=2*t.resources.wood,t.resources.wood=0,t.resource_rate.wood=0,t.townInfo.happiness*=.8,t.economyAndLaws.enacted=t.economyAndLaws.enacted.filter(e=>e!=="the_big_wood_deal"),t)},{id:"picky_eating_liege",description:"Picky Eater Liege. There is some food that the town makes that you just really hate. By passing this law, you insist that they sell off that gross food for $1/food every week. You won't make as much food, but you won't have to eat it either.",cost:200,weekly_effect:t=>{const e=He("farm",t).length*2,n=Math.floor(Math.random()*(.15*e-.05*e)+.05*e);return t.resources.food-=n,t.townInfo.gold+=n,t.townInfo.happiness=.95*t.townInfo.happiness,t}},{id:"stone_statue",description:"Stone Statue. You insist that we use ALL of our stone to build a massive statue. We lose all of our stone, but for some reason, the town has perfect health for a while.",cost:1e3,weekly_effect:t=>(t.resources.stone=0,t.modifiers.health=10,t)},{id:"out_of_town",description:"Out of town. Everyone needs a vacation, right? When this is enacted, EVERYONE must leave the town for 10 days. During this time, no resources are produced, no taxes are collected, and you must take ",cost:1e3,weekly_effect:t=>(t.resources.stone=0,t.modifiers.health=10,t)}];var Ze=(t=>(t[t.GOOD=0]="GOOD",t[t.BAD=1]="BAD",t[t.NORMAL=2]="NORMAL",t))(Ze||{});const Ps=30;function tp(t,e,n){return t.resource_rate.food=vt(n.food-e.food,2),t.resource_rate.wood=vt(n.wood-e.wood,2),t.resource_rate.stone=vt(n.stone-e.stone,2),t.resource_rate.metal=vt(n.metal-e.metal,2),t.resource_rate.bureaucracy=vt(n.bureaucracy-e.bureaucracy,2),t}function np(t){return t.hasBank,t}function op(t){let e=t.economyAndLaws.knowledge_gold_market_rates[t.economyAndLaws.knowledge_gold_market_rates.length-1]||1;const n=-100,o=8,i=3;let r=Math.random(),l=Math.random()*i;if(r<.4){let a=Math.random()*o;Math.random()<.5?e+=a:e-=a}else Math.random()>.5?e+=l:e-=l;return e<n&&(e+=Math.random()*l/5),e=Math.round(e),t.economyAndLaws.knowledge_gold_market_rates=[...t.economyAndLaws.knowledge_gold_market_rates,e],t}function sl(t){return t.lab.active_experiment==null||t.lab.active_experiment.duration>0&&(t.lab.active_experiment.duration-=1),t}function al(t){return t.townInfo.happiness<0&&(t.townInfo.happiness=0),t.townInfo.health<0&&(t.townInfo.health=0),t.townInfo.community<0&&(t.townInfo.community=0),t.townInfo.gold<0&&(t.townInfo.gold=0),t.townInfo.employees<0&&(t.townInfo.employees=0),t.townInfo.knowledge_points<0&&(t.townInfo.knowledge_points=0),t.townInfo.population_count<0&&(t.townInfo.population_count=0),t.economyAndLaws.weeklyProfit=vt(t.economyAndLaws.weeklyProfit,0),t.townInfo.employees>t.townInfo.population_count&&(t.townInfo.employees=t.townInfo.population_count),t.townInfo.gold=vt(t.townInfo.gold,0),t.townInfo.population_count=vt(t.townInfo.population_count,0),t.townInfo.employees=vt(t.townInfo.employees,0),t.townInfo.population_max=vt(t.townInfo.population_max,0),t.townInfo.happiness=vt(t.townInfo.happiness,2),t.townInfo.health=vt(t.townInfo.health,2),t.townInfo.knowledge_points=vt(t.townInfo.knowledge_points,0),t.townInfo.happiness>t.maximums.happiness&&(t.townInfo.happiness=t.maximums.happiness),t.townInfo.health>t.maximums.health&&(t.townInfo.health=t.maximums.health),t.townInfo.community>300&&(t.townInfo.community=300),t.modifiers.happiness<.5&&(t.modifiers.happiness=.5),t.modifiers.health<.5&&(t.modifiers.health=.5),t.modifiers.community<.5&&(t.modifiers.community=.5),t}function ul(t){if(t.townInfo.happiness>150){let n=t.townInfo.happiness-150;t.townInfo.happiness-=n*.08,t.townInfo.happiness<150&&(t.townInfo.happiness=150)}if(t.townInfo.health>150){let n=t.townInfo.health-150;t.townInfo.health-=n*.08,t.townInfo.health<150&&(t.townInfo.health=150)}if(t.townInfo.community>150){let n=t.townInfo.community-150;t.townInfo.community-=n*.08,t.townInfo.community<150&&(t.townInfo.community=150)}return t}function ip(t){return t.townInfo.happiness*=t.modifiers.happiness,t.townInfo.health*=t.modifiers.health,t.townInfo.community*=t.modifiers.community,t}function st(t,e,n){return(e.townLog||[]).unshift({message:t,day:e.environment.day,vibe:n}),e}function vt(t,e){e===void 0&&(e=0);let n=Math.pow(10,e);return t=parseFloat((t*n).toFixed(11)),+(Math.round(t)/n).toFixed(e)}function rp(t,e,n){let o,i,r,l,a;ae(t,nl,h=>n(7,o=h)),ae(t,Oi,h=>n(8,i=h)),ae(t,Wi,h=>n(9,r=h)),ae(t,Rt,h=>n(10,l=h)),ae(t,an,h=>n(11,a=h)),ae(t,Pe,h=>n(12,h));function s(h){h=H(h),h=v(h),h=m(h),h=op(h),h=G(h),h=_(h);const B={food:h.resources.food,wood:h.resources.wood,stone:h.resources.stone,metal:h.resources.metal,bureaucracy:h.resources.bureaucracy,power:h.resources.power};h=w(h),h=y(h),h=k(h),h=D(h),h=te(h),h=b(h);const X={food:h.resources.food,wood:h.resources.wood,stone:h.resources.stone,metal:h.resources.metal,bureaucracy:h.resources.bureaucracy,power:h.resources.power};return h.environment.day%14===0&&(h=ip(h)),h=tp(h,B,X),h}function u(h){return h=np(h),h=p(h),h=z(h),h=ul(h),h=$(h),h}function f(h){return h=O(h),h=N(h),h=W(h),h}function c(h){return h=K(h),h=al(h),h=sl(h),h.overtime==!1&&(h=V(h),h=h),h=E(h),h=L(h),h}function d(){Pe.update(h=>{if(h==null||(h.tick++,h.tick%Ps!==0)||l||!h||h.endGameDetails.msg!==""&&h.overtime==!1||h.townInfo.population_count<=0)return h;try{return h.environment.day+=1,h.environment.day%7===0&&(h=s(h)),h.environment.day%30===0&&(h=u(h)),h.environment.day%90===0&&(h=f(h)),window.location.search.includes("debug=true")&&console.log(h),h=c(h),h}catch(B){return console.error("Error in game loop:",B),h}})}Pe.subscribe(h=>{h&&localStorage.setItem(Gt,JSON.stringify(h))}),an.subscribe(h=>{h&&localStorage.setItem(Ko,JSON.stringify(h))});function m(h){let B=!1,X=!1,ne=!1,U=!1;for(let ue=0;ue<h.plots.length;ue++)for(let we=0;we<h.plots[ue].length;we++)if(h.plots[ue][we].active==!0&&h.plots[ue][we].type>-1){let Ce=ie[h.plots[ue][we].type].id;Ce=="bank"&&(B=!0),Ce=="city_hall"&&(ne=!0),(Ce=="small_hospital"||Ce=="large_hospital")&&(X=!0),Ce=="lab"&&(U=!0)}return h.hasBank=B,h.hasHospital=X,h.hasCityHall=ne,h.hasLab=U,h}function p(h){const B=h.townInfo.productivity;let X=1;if(B>50&&B<100)X=1.05;else{if(B==100)return h;B<50?X=1.2:B>100&&B<125?X=.98:B>125&&B<150?X=.96:B>150&&B<175?X=.9:B>175&&B<200&&(X=.8)}const ne=h.townInfo.happiness;return h.townInfo.happiness*=X,X>1?h=st(`Happiness has gone up by ${Math.round(h.townInfo.happiness/ne*100)}% due to productivity.`,h,Ze.GOOD):h=st(`Happiness has gone down by ${100-Math.round(h.townInfo.happiness/ne*100)}% due to productivity.`,h,Ze.BAD),h}function _(h){return h.endGameDetails!=null||(h.townInfo.happiness<70&&h.last_warning_happiness+365<h.environment.day&&(Pt.set("Your citizens are very unhappy. You should do something about it."),h.last_warning_happiness=h.environment.day),h.townInfo.health<70&&h.last_warning_health+365<h.environment.day&&(Pt.set("Your citizens are very unhealthy. You should do something about it."),h.last_warning_health=h.environment.day)),h}function b(h){const B=h.townInfo.population_count;return h.resources.food<B?(h.modifiers.happiness*=.95,h.modifiers.health*=.95,h=st("There isn't enough food for everyone!",h,Ze.BAD),h.resources.food=0):(h.townLog=h.townLog.filter(ne=>!ne.message.includes("There isn't enough food for everyone!")),h.resources.food-=B),h.resources.food=Math.round(h.resources.food),h}function w(h){const B=h.townInfo.productivity;let X=1;B<50?X=.5:B>50&&B<100?X=.75:B==100?X=1:B>100&&B<125?X=1.25:B>125&&B<150?X=1.75:B>150&&B<175?X=3:B>175&&B<200&&(X=5),X=ep(X,2);let ne=He("lumber_mill",h).length*1.25;ne===0&&(ne=1);for(let U=0;U<h.plots.length;U++)for(let ue=0;ue<h.plots[U].length;ue++)if(h.plots[U][ue].active==!0&&h.plots[U][ue].type>-1){let we=Bn(U,ue,h),Ce=ie[h.plots[U][ue].type];Ce.generated_resources!=null&&(h.resources.food+=Math.round(Ce.generated_resources.food*X)*(we?2:1),h.resources.wood+=Math.round(Ce.generated_resources.wood*X*ne),h.resources.stone+=Math.round(Ce.generated_resources.stone*X),h.resources.metal+=Math.round(Ce.generated_resources.metal*X),h.resources.bureaucracy+=Math.round(Ce.generated_resources.bureaucracy*X))}return h.resources.food=Math.round(h.resources.food),h.resources.wood=Math.round(h.resources.wood),h.resources.stone=Math.round(h.resources.stone),h.resources.metal=Math.round(h.resources.metal),h.resources.bureaucracy=Math.round(h.resources.bureaucracy),h}var C;(function(h){h.food="food",h.wood="wood",h.stone="stone",h.metal="metal",h.bureaucracy="bureaucracy"})(C||(C={}));function k(h){for(let B=0;B<h.plots.length;B++)for(let X=0;X<h.plots[B].length;X++)if(h.plots[B][X].active==!0&&h.plots[B][X].type>-1){let ne=ie[h.plots[B][X].type],U=!1;Object.keys(ne.active_costs).forEach((ue,we)=>{const Ce=Object.values(ne.active_costs)[we];ue!="power"&&(h.townInfo.gold,ue=="gold"?h.townInfo.gold<Ce?U=!0:h.townInfo.gold-=Ce:h.resources[ue]<Ce?U=!0:h.resources[ue]-=Ce)}),h.plots[B][X].disabled=U,h.plots[B][X].disabled&&(h.townInfo.happiness-=1),U&&ie[h.plots[B][X].type].type=="residential"&&(h.townInfo.population_count-=1,h.townInfo.employees-=1)}return h}function D(h){let B=0;for(let X=0;X<h.plots.length;X++)for(let ne=0;ne<h.plots[X].length;ne++)if(h.plots[X][ne].active==!0&&h.plots[X][ne].type>-1){let U=ie[h.plots[X][ne].type];U.active_costs.power!=0&&(B-=U.active_costs.power),U.generated_resources.power!=0&&(B+=U.generated_resources.power)}return h.resources.power=B,h.resources.power<0&&(h.modifiers.happiness*.98,h.townInfo.happiness-=5,h=st("🔋 POWER SHORTAGE. HAPPINESS DROPPING THROUGH BLACKOUTS.",h,Ze.BAD)),h}function L(h){if(h.devMode)return h;let B=a;for(let X=0;X<tt.length;X++)B.achievements.find(ne=>ne[0]==tt[X].id)==null&&tt[X].check(h)&&(B.achievements.push([tt[X].id,h.environment.day,h.townInfo.name]),Me(Rt,l=!0,l),Me(Wi,r=!0,r));return an.update(()=>B),h}let R=!1;function E(h){if(R)return h;for(let B=h.currentTutorialStep;B<h.currentTutorialStep+1;B++)if(qt[B].isComplete(h)){Me(Oi,i=!0,i),R=!0,setTimeout(()=>{Me(Oi,i=!1,i),h.currentTutorialStep++,h.townInfo.gold+=qt[B].goldReward,R=!1},1e3);break}return h}function V(h){return h.townInfo.happiness<=3&&(h.townInfo.happiness=0,h.endGameDetails={msg:ht.happiness_zero,win:!1,still_playing:!1}),h.townInfo.health<=3&&(h.townInfo.health=3,h.endGameDetails={msg:ht.health_zero,win:!1,still_playing:!1}),h.townInfo.population_count<=0&&h.townInfo.population_max>0&&(h.townInfo.population_count=0,h.endGameDetails={msg:ht.population_zero,win:!1,still_playing:!1}),h}function $(h){let B=h.townInfo.population_count-h.townInfo.employees;if(B>0){let X=B*.2;X<15&&(X=15),h.townInfo.happiness-=X,h=st(B+ht.unemployment_num,h,Ze.BAD)}else h.townLog=h.townLog.filter(X=>!X.message.includes(ht.unemployment_num));return h}function W(h){let B=h.plotCounts.reduce((ne,U)=>ne+U,0),X=!1;for(let ne=0;ne<h.plotCounts.length;ne++)h.plotCounts[ne]==null||ie[ne].check_for_variety!=!0||(h.difficulty,h.plotCounts[ne]/B>=.25&&(ie[ne].title,X=!0));return X&&(h=st(ht.notEnoughVariety,h,Ze.BAD),h.modifiers.happiness*.95),h}function y(h){for(let B=0;B<h.economyAndLaws.enacted.length;B++){let X=ll.find(ne=>ne.id==h.economyAndLaws.enacted[B]);X!=null&&X.weekly_effect!=null&&(h=X.weekly_effect(h))}return h}function v(h){let B=h.townInfo.health,X=0;return B>50||B<Math.random()*50&&(B<25?(h=st(ht.sickAndDying,h,Ze.BAD),h.townInfo.happiness-=10,X=Math.round(h.townInfo.population_count*.1)):(h=st(ht.sickAndLeaving,h,Ze.BAD),h.townInfo.happiness-=5,X=Math.round(h.townInfo.population_count*.05)),h.townInfo.population_count-=X,h.townInfo.employees-=X),h}function O(h){return h.townInfo.community<100&&Math.random()*100<h.townInfo.community||(h.lastChangeDay+(Math.random()*500+365)<h.environment.day&&h.townInfo.population_count>0?h.townInfo.population_count>0&&(h.townInfo.population_count-=1,h.townInfo.employees-=1,h.modifiers.happiness-=.01,h=st(ht.bored,h,Ze.BAD)):h.townLog=h.townLog.filter(B=>!B.message.includes(ht.bored))),h}function N(h){if(h.townInfo.population_count<h.townInfo.population_max&&h.townInfo.happiness>50){let B=h.townInfo.population_max-h.townInfo.population_count,X=Math.round(h.townInfo.happiness/100*B);h.townInfo.population_count+=X,h.townInfo.population_count>h.townInfo.population_max&&(h.townInfo.population_count=h.townInfo.population_max),h.townInfo.employees+=X,h.townInfo.employees>h.townInfo.population_count&&(h.townInfo.employees=h.townInfo.population_count),h=st(X+ht.new_people_num,h,Ze.NORMAL)}if(h.townInfo.happiness<50&&h.townInfo.population_count>0){let B=Math.round((100-h.townInfo.happiness)/5);B=B*(h.townInfo.community/200),h.townInfo.population_count-=B,h.townInfo.employees>0&&(h.townInfo.employees-=B),h=st(B+ht.leave_town_num,h,Ze.BAD)}else h.townInfo.population_count==h.townInfo.population_max;return h}function H(h){const B=Math.random();if(h.economyAndLaws.tax_rate>h.economyAndLaws.max_tax_rate&&h.townInfo.population_count>0){let X=1;h.hasBank&&(X=2);const ne=h.difficulty==0?.7:h.difficulty==1?.4:.2;B<ne&&h.economyAndLaws.tax_rate>h.economyAndLaws.max_tax_rate*2*X?(h.modifiers.happiness-=.02,h=st(ht.very_high_tax_rate+"  ("+h.economyAndLaws.tax_rate+"%)",h,Ze.BAD)):(h.modifiers.happiness-=.01,h=st(ht.high_tax_rate+"  ("+h.economyAndLaws.tax_rate*100+"%)",h,Ze.BAD))}return h}function G(h){if(h.modifiers.happiness>1){let X=h.modifiers.happiness-1;h.modifiers.happiness-=X*.1,h.modifiers.happiness<1.02&&(h.modifiers.happiness=1)}if(h.modifiers.community>1){let X=h.modifiers.community-1;h.modifiers.community-=X*.1,h.modifiers.community<1.02&&(h.modifiers.community=1)}if(h.modifiers.health>1)if(He("healing_house",h).length>0){h=st(ht.hospital_advantage,h,Ze.GOOD);let X=h.modifiers.health-1;h.modifiers.health-=X*He("healing_house",h).length?.03:.06,h.modifiers.health<1.02&&(h.modifiers.health=1)}else{let X=h.modifiers.health-1;h.modifiers.health-=X*.1,h.modifiers.health<1.02&&(h.modifiers.health=1)}else He("healing_house",h).length>0&&(h.modifiers.health+=.1);return h}function K(h){h.economyAndLaws.weeklyProfit=0;for(let B=0;B<h.plots.length;B++)for(let X=0;X<h.plots[B].length;X++)if(h.plots[B][X].active==!0&&h.plots[B][X].type>-1)if(h.plots[B][X].disabled===!0){const ne=ie[h.plots[B][X].type],U=Y(ne.revenue_per_week,h,ne.type)*(h.townInfo.productivity/100)/7;h.townInfo.gold-=U,h=st(`🚨 ${ne.title} at ${X}, ${B} is disabled and costing you $${U} a week!`,h,Ze.BAD)}else{const ne=ie[h.plots[B][X].type];let U=Y(ne.revenue_per_week,h,ne.type)*(h.townInfo.productivity/100)/7;console.log(`profit 2: ${U}`);let ue=Bn(B,X,h);U*=ue?2:1,h.townInfo.gold+=U,h.economyAndLaws.weeklyProfit+=U*7}return h}function z(h){return He("mine",h).length>0&&(h.modifiers.health-=.01,He("healing_house",h).length==0&&(h=st("The mine is actively hurting the health of the town. Time to look into a healing house.",h,Ze.BAD))),h}function te(h){let B=0;for(let X=0;X<h.plots.length;X++)for(let ne=0;ne<h.plots[X].length;ne++)if(h.plots[X][ne].active==!0&&h.plots[X][ne].type>-1){let U=ie[h.plots[X][ne].type];U.knowledge_points_per_month!=null&&(h.townInfo.knowledge_points+=Math.round(U.knowledge_points_per_month/4),B+=U.knowledge_points_per_month)}return h.resource_rate.knowledge=vt(B/4,0),h}function Y(h,B,X){let ne=B.townInfo.happiness/100;ne>2?ne=2:ne<.75&&(ne=.75),ne<1&&B.environment.day%30==0&&B.townLog.filter(ue=>ue.message.includes("When townspeople are unhappy, they spend less money (and you get less).")).length==0?B=st("When townspeople are unhappy, they spend less money (and you get less).",B,Ze.BAD):B.townLog=B.townLog.filter(ue=>!ue.message.includes("When townspeople are unhappy, they spend less money (and you get less).")),He("village_inn",B).length>0&&X=="shop"&&(ne*=1.3);let U=Math.round(h*B.economyAndLaws.tax_rate*(B.townInfo.population_count/B.townInfo.population_max)*ne*(B.economyAndLaws.enacted.includes("tax_free")?-1:1));return vt(U,2)}return mr(async()=>{for(;;)localStorage.reset=="true"&&(Dl(),localStorage.setItem("reset","false")),d(),await new Promise(h=>setTimeout(h,o/Ps))}),[d,sl,al,G,ul]}class lp extends be{constructor(e){super(),ge(this,e,rp,null,ce,{mainGameThreadLoop:0,_checkExperiment:1,_fixVariables:2,_bringModifiersBackToNormal:3,_bringStatsBackToNormal:4},null,[-1,-1])}get mainGameThreadLoop(){return this.$$.ctx[0]}get _checkExperiment(){return sl}get _fixVariables(){return al}get _bringModifiersBackToNormal(){return this.$$.ctx[3]}get _bringStatsBackToNormal(){return ul}}function sp(t){return t[t.length-1]}function vn(t){return Object.keys(t).reduce((e,n)=>t[n]===void 0?e:e+`${n}:${t[n]};`,"")}function Lr(t){return t?!0:void 0}vn({position:"absolute",opacity:0,"pointer-events":"none",margin:0,transform:"translateX(-100%)"});function bc(t){if(t!==null)return t}function Ns(t){function e(n){return n(t),()=>{}}return{subscribe:e}}function Fr(t){if(!Xo)return null;const e=document.querySelector(`[data-melt-id="${t}"]`);return Tt(e)?e:null}const Bo=t=>new Proxy(t,{get(e,n,o){return Reflect.get(e,n,o)},ownKeys(e){return Reflect.ownKeys(e).filter(n=>n!=="action")}}),Es=t=>typeof t=="function";_t("empty");function _t(t,e){const{stores:n,action:o,returned:i}=e??{},r=(()=>{if(n&&i)return dn(n,a=>{const s=i(a);if(Es(s)){const u=(...f)=>Bo({...s(...f),[`data-melt-${t}`]:"",action:o??Qe});return u.action=o??Qe,u}return Bo({...s,[`data-melt-${t}`]:"",action:o??Qe})});{const a=i,s=a==null?void 0:a();if(Es(s)){const u=(...f)=>Bo({...s(...f),[`data-melt-${t}`]:"",action:o??Qe});return u.action=o??Qe,Ns(u)}return Ns(Bo({...s,[`data-melt-${t}`]:"",action:o??Qe}))}})(),l=o??(()=>{});return l.subscribe=r.subscribe,l}function $s(t,e){const{stores:n,returned:o,action:i}=e,{subscribe:r}=dn(n,a=>o(a).map(s=>Bo({...s,[`data-melt-${t}`]:"",action:i??Qe}))),l=i??(()=>{});return l.subscribe=r,l}function gr(t){const e=r=>r?`${t}-${r}`:t,n=r=>`data-melt-${t}${r?`-${r}`:""}`,o=r=>`[data-melt-${t}${r?`-${r}`:""}]`;return{name:e,attribute:n,selector:o,getEl:r=>document.querySelector(o(r))}}const Xo=typeof document<"u",vc=t=>typeof t=="function";function ap(t){return t instanceof Document}function br(t){return t instanceof Element}function Tt(t){return t instanceof HTMLElement}function Rs(t){return t.pointerType==="touch"}function up(t){return t!==null&&typeof t=="object"}function fp(t){return up(t)&&"subscribe"in t}function Kt(...t){return(...e)=>{for(const n of t)typeof n=="function"&&n(...e)}}function Qe(){}function yt(t,e,n,o){const i=Array.isArray(e)?e:[e];return i.forEach(r=>t.addEventListener(r,n,o)),()=>{i.forEach(r=>t.removeEventListener(r,n,o))}}function At(t,e,n,o){const i=Array.isArray(e)?e:[e];if(typeof n=="function"){const r=dp(l=>n(l));return i.forEach(l=>t.addEventListener(l,r,o)),()=>{i.forEach(l=>t.removeEventListener(l,r,o))}}return()=>void 0}function cp(t){const e=t.currentTarget;if(!Tt(e))return null;const n=new CustomEvent(`m-${t.type}`,{detail:{originalEvent:t},cancelable:!0});return e.dispatchEvent(n),n}function dp(t){return e=>{const n=cp(e);if(!(n!=null&&n.defaultPrevented))return t(e)}}function vr(t,...e){const n={};for(const o of Object.keys(t))e.includes(o)||(n[o]=t[o]);return n}function sn(t){return{...t,get:()=>ec(t)}}sn.writable=function(t){const e=Ye(t);let n=t;return{subscribe:e.subscribe,set(o){e.set(o),n=o},update(o){const i=o(n);e.set(i),n=i},get(){return n}}};sn.derived=function(t,e){const n=new Map,o=()=>{const r=Array.isArray(t)?t.map(l=>l.get()):t.get();return e(r)};return{get:o,subscribe:r=>{const l=[];return(Array.isArray(t)?t:[t]).forEach(s=>{l.push(s.subscribe(()=>{r(o())}))}),r(o()),n.set(r,l),()=>{const s=n.get(r);if(s)for(const u of s)u();n.delete(r)}}}};const yr=(t,e)=>{const n=sn(t),o=(r,l)=>{n.update(a=>{const s=r(a);let u=s;return e&&(u=e({curr:a,next:s})),l==null||l(u),u})};return{...n,update:o,set:r=>{o(()=>r)}}};function Fl(t){return new Promise(e=>setTimeout(e,t))}let mp="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",pp=(t=21)=>{let e="",n=t;for(;n--;)e+=mp[Math.random()*64|0];return e};function hp(){return pp(10)}function Bl(t){return t.reduce((e,n)=>(e[n]=hp(),e),{})}const at={ALT:"Alt",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",CAPS_LOCK:"CapsLock",CONTROL:"Control",DELETE:"Delete",END:"End",ENTER:"Enter",ESCAPE:"Escape",F1:"F1",F10:"F10",F11:"F11",F12:"F12",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",HOME:"Home",META:"Meta",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp",SHIFT:"Shift",SPACE:" ",TAB:"Tab",CTRL:"Control",ASTERISK:"*",A:"a",P:"p"},yc=()=>typeof window<"u";function _p(){const t=navigator.userAgentData;return(t==null?void 0:t.platform)??navigator.platform}const wc=t=>yc()&&t.test(_p().toLowerCase()),gp=()=>yc()&&!!navigator.maxTouchPoints,bp=()=>wc(/^mac/)&&!gp(),vp=()=>wc(/mac|iphone|ipad|ipod/i),yp=()=>vp()&&!bp();function wp(t){const e=t.slice();return e.sort(Cp),kp(e)}function kp(t){if(t.length<=1)return t.slice();const e=[];for(let o=0;o<t.length;o++){const i=t[o];for(;e.length>=2;){const r=e[e.length-1],l=e[e.length-2];if((r.x-l.x)*(i.y-l.y)>=(r.y-l.y)*(i.x-l.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let o=t.length-1;o>=0;o--){const i=t[o];for(;n.length>=2;){const r=n[n.length-1],l=n[n.length-2];if((r.x-l.x)*(i.y-l.y)>=(r.y-l.y)*(i.x-l.x))n.pop();else break}n.push(i)}return n.pop(),e.length==1&&n.length==1&&e[0].x==n[0].x&&e[0].y==n[0].y?e:e.concat(n)}function Cp(t,e){return t.x<e.x?-1:t.x>e.x?1:t.y<e.y?-1:t.y>e.y?1:0}function Ap(t){const e=t.getBoundingClientRect();return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.right,y:e.bottom},{x:e.left,y:e.bottom}]}function Sp(t){const e=t.flatMap(n=>Ap(n));return wp(e)}function Tp(t,e){let n=!1;for(let o=0,i=e.length-1;o<e.length;i=o++){const r=e[o].x,l=e[o].y,a=e[i].x,s=e[i].y;l>t.y!=s>t.y&&t.x<(a-r)*(t.y-l)/(s-l)+r&&(n=!n)}return n}const Br="data-melt-scroll-lock";function Ds(t,e){if(!t)return;const n=t.style.cssText;return Object.assign(t.style,e),()=>{t.style.cssText=n}}function Mp(t,e,n){if(!t)return;const o=t.style.getPropertyValue(e);return t.style.setProperty(e,n),()=>{o?t.style.setProperty(e,o):t.style.removeProperty(e)}}function Ip(t){const e=t.getBoundingClientRect().left;return Math.round(e)+t.scrollLeft?"paddingLeft":"paddingRight"}function Op(t){const e=document,n=e.defaultView??window,{documentElement:o,body:i}=e;if(i.hasAttribute(Br))return Qe;i.setAttribute(Br,"");const l=n.innerWidth-o.clientWidth,a=()=>Mp(o,"--scrollbar-width",`${l}px`),s=Ip(o),u=n.getComputedStyle(i)[s],f=()=>Ds(i,{overflow:"hidden",[s]:`calc(${u} + ${l}px)`}),c=()=>{const{scrollX:m,scrollY:p,visualViewport:_}=n,b=(_==null?void 0:_.offsetLeft)??0,w=(_==null?void 0:_.offsetTop)??0,C=Ds(i,{position:"fixed",overflow:"hidden",top:`${-(p-Math.floor(w))}px`,left:`${-(m-Math.floor(b))}px`,right:"0",[s]:`calc(${u} + ${l}px)`});return()=>{C==null||C(),n.scrollTo(m,p)}},d=[a(),yp()?c():f()];return()=>{d.forEach(m=>m==null?void 0:m()),i.removeAttribute(Br)}}const Pp=t=>{try{zd(t)}catch{return t}};function $t(t,e){let n;const o=dn(t,r=>{n==null||n(),n=e(r)}).subscribe(Qe),i=()=>{o(),n==null||n()};return Pp(i),i}function jn(t){const e={};return Object.keys(t).forEach(n=>{const o=n,i=t[o];e[o]=sn(Ye(i))}),e}function Np(t){let e=t.parentElement;for(;Tt(e)&&!e.hasAttribute("data-portal");)e=e.parentElement;return e||"body"}function kc(t,e){return e!==void 0?e:Np(t)==="body"?document.body:null}async function Ls(t){const{prop:e,defaultEl:n}=t;if(await Promise.all([Fl(1),Nl]),e===void 0){n==null||n.focus();return}const o=vc(e)?e(n):e;if(typeof o=="string"){const i=document.querySelector(o);if(!Tt(i))return;i.focus()}else Tt(o)&&o.focus()}function jr(t,e,n,o){const i=(t-(isNaN(e)?0:e))%o;let r=Math.abs(i)*2>=o?t+Math.sign(i)*(o-Math.abs(i)):t-i;isNaN(e)?!isNaN(n)&&r>n&&(r=Math.floor(n/o)*o):r<e?r=e:!isNaN(n)&&r>n&&(r=e+Math.floor((n-e)/o)*o);const l=o.toString(),a=l.indexOf("."),s=a>=0?l.length-a:0;if(s>0){const u=Math.pow(10,s);r=Math.round(r*u)/u}return r}Dn(void 0,t=>{function e(o){t(o),t(void 0)}return yt(document,"pointerup",e,{passive:!1,capture:!0})});const Ep=Dn(void 0,t=>{function e(o){o&&o.key===at.ESCAPE&&t(o),t(void 0)}return yt(document,"keydown",e,{passive:!1})}),Fs=(t,e={})=>{let n=Qe;function o(i={}){n();const r={enabled:!0,...i},l=fp(r.enabled)?r.enabled:Dn(r.enabled);n=Kt(Ep.subscribe(a=>{var u;if(!a||!ec(l))return;const s=a.target;if(!(!Tt(s)||s.closest("[data-escapee]")!==t)){if(a.preventDefault(),r.ignore){if(vc(r.ignore)){if(r.ignore(a))return}else if(Array.isArray(r.ignore)&&r.ignore.length>0&&r.ignore.some(f=>f&&s===f))return}(u=r.handler)==null||u.call(r,a)}}),$t(l,a=>{a?t.dataset.escapee="":delete t.dataset.escapee}))}return o(e),{update:o,destroy(){t.removeAttribute("data-escapee"),n()}}},wn=Math.min,Ot=Math.max,Ki=Math.round,vi=Math.floor,kn=t=>({x:t,y:t}),$p={left:"right",right:"left",bottom:"top",top:"bottom"},Rp={start:"end",end:"start"};function fl(t,e,n){return Ot(t,wn(e,n))}function Co(t,e){return typeof t=="function"?t(e):t}function Cn(t){return t.split("-")[0]}function Ao(t){return t.split("-")[1]}function Cc(t){return t==="x"?"y":"x"}function jl(t){return t==="y"?"height":"width"}function ti(t){return["top","bottom"].includes(Cn(t))?"y":"x"}function ql(t){return Cc(ti(t))}function Dp(t,e,n){n===void 0&&(n=!1);const o=Ao(t),i=ql(t),r=jl(i);let l=i==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return e.reference[r]>e.floating[r]&&(l=Xi(l)),[l,Xi(l)]}function Lp(t){const e=Xi(t);return[cl(t),e,cl(e)]}function cl(t){return t.replace(/start|end/g,e=>Rp[e])}function Fp(t,e,n){const o=["left","right"],i=["right","left"],r=["top","bottom"],l=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:o:e?o:i;case"left":case"right":return e?r:l;default:return[]}}function Bp(t,e,n,o){const i=Ao(t);let r=Fp(Cn(t),n==="start",o);return i&&(r=r.map(l=>l+"-"+i),e&&(r=r.concat(r.map(cl)))),r}function Xi(t){return t.replace(/left|right|bottom|top/g,e=>$p[e])}function jp(t){return{top:0,right:0,bottom:0,left:0,...t}}function Ac(t){return typeof t!="number"?jp(t):{top:t,right:t,bottom:t,left:t}}function Ji(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function Bs(t,e,n){let{reference:o,floating:i}=t;const r=ti(e),l=ql(e),a=jl(l),s=Cn(e),u=r==="y",f=o.x+o.width/2-i.width/2,c=o.y+o.height/2-i.height/2,d=o[a]/2-i[a]/2;let m;switch(s){case"top":m={x:f,y:o.y-i.height};break;case"bottom":m={x:f,y:o.y+o.height};break;case"right":m={x:o.x+o.width,y:c};break;case"left":m={x:o.x-i.width,y:c};break;default:m={x:o.x,y:o.y}}switch(Ao(e)){case"start":m[l]-=d*(n&&u?-1:1);break;case"end":m[l]+=d*(n&&u?-1:1);break}return m}const qp=async(t,e,n)=>{const{placement:o="bottom",strategy:i="absolute",middleware:r=[],platform:l}=n,a=r.filter(Boolean),s=await(l.isRTL==null?void 0:l.isRTL(e));let u=await l.getElementRects({reference:t,floating:e,strategy:i}),{x:f,y:c}=Bs(u,o,s),d=o,m={},p=0;for(let _=0;_<a.length;_++){const{name:b,fn:w}=a[_],{x:C,y:k,data:D,reset:L}=await w({x:f,y:c,initialPlacement:o,placement:d,strategy:i,middlewareData:m,rects:u,platform:l,elements:{reference:t,floating:e}});f=C??f,c=k??c,m={...m,[b]:{...m[b],...D}},L&&p<=50&&(p++,typeof L=="object"&&(L.placement&&(d=L.placement),L.rects&&(u=L.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:i}):L.rects),{x:f,y:c}=Bs(u,d,s)),_=-1)}return{x:f,y:c,placement:d,strategy:i,middlewareData:m}};async function Gl(t,e){var n;e===void 0&&(e={});const{x:o,y:i,platform:r,rects:l,elements:a,strategy:s}=t,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:c="floating",altBoundary:d=!1,padding:m=0}=Co(e,t),p=Ac(m),b=a[d?c==="floating"?"reference":"floating":c],w=Ji(await r.getClippingRect({element:(n=await(r.isElement==null?void 0:r.isElement(b)))==null||n?b:b.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(a.floating)),boundary:u,rootBoundary:f,strategy:s})),C=c==="floating"?{...l.floating,x:o,y:i}:l.reference,k=await(r.getOffsetParent==null?void 0:r.getOffsetParent(a.floating)),D=await(r.isElement==null?void 0:r.isElement(k))?await(r.getScale==null?void 0:r.getScale(k))||{x:1,y:1}:{x:1,y:1},L=Ji(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:C,offsetParent:k,strategy:s}):C);return{top:(w.top-L.top+p.top)/D.y,bottom:(L.bottom-w.bottom+p.bottom)/D.y,left:(w.left-L.left+p.left)/D.x,right:(L.right-w.right+p.right)/D.x}}const Gp=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:o,placement:i,rects:r,platform:l,elements:a,middlewareData:s}=e,{element:u,padding:f=0}=Co(t,e)||{};if(u==null)return{};const c=Ac(f),d={x:n,y:o},m=ql(i),p=jl(m),_=await l.getDimensions(u),b=m==="y",w=b?"top":"left",C=b?"bottom":"right",k=b?"clientHeight":"clientWidth",D=r.reference[p]+r.reference[m]-d[m]-r.floating[p],L=d[m]-r.reference[m],R=await(l.getOffsetParent==null?void 0:l.getOffsetParent(u));let E=R?R[k]:0;(!E||!await(l.isElement==null?void 0:l.isElement(R)))&&(E=a.floating[k]||r.floating[p]);const V=D/2-L/2,$=E/2-_[p]/2-1,W=wn(c[w],$),y=wn(c[C],$),v=W,O=E-_[p]-y,N=E/2-_[p]/2+V,H=fl(v,N,O),G=!s.arrow&&Ao(i)!=null&&N!==H&&r.reference[p]/2-(N<v?W:y)-_[p]/2<0,K=G?N<v?N-v:N-O:0;return{[m]:d[m]+K,data:{[m]:H,centerOffset:N-H-K,...G&&{alignmentOffset:K}},reset:G}}}),Vp=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,o;const{placement:i,middlewareData:r,rects:l,initialPlacement:a,platform:s,elements:u}=e,{mainAxis:f=!0,crossAxis:c=!0,fallbackPlacements:d,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:_=!0,...b}=Co(t,e);if((n=r.arrow)!=null&&n.alignmentOffset)return{};const w=Cn(i),C=Cn(a)===a,k=await(s.isRTL==null?void 0:s.isRTL(u.floating)),D=d||(C||!_?[Xi(a)]:Lp(a));!d&&p!=="none"&&D.push(...Bp(a,_,p,k));const L=[a,...D],R=await Gl(e,b),E=[];let V=((o=r.flip)==null?void 0:o.overflows)||[];if(f&&E.push(R[w]),c){const v=Dp(i,l,k);E.push(R[v[0]],R[v[1]])}if(V=[...V,{placement:i,overflows:E}],!E.every(v=>v<=0)){var $,W;const v=((($=r.flip)==null?void 0:$.index)||0)+1,O=L[v];if(O)return{data:{index:v,overflows:V},reset:{placement:O}};let N=(W=V.filter(H=>H.overflows[0]<=0).sort((H,G)=>H.overflows[1]-G.overflows[1])[0])==null?void 0:W.placement;if(!N)switch(m){case"bestFit":{var y;const H=(y=V.map(G=>[G.placement,G.overflows.filter(K=>K>0).reduce((K,z)=>K+z,0)]).sort((G,K)=>G[1]-K[1])[0])==null?void 0:y[0];H&&(N=H);break}case"initialPlacement":N=a;break}if(i!==N)return{reset:{placement:N}}}return{}}}};async function Hp(t,e){const{placement:n,platform:o,elements:i}=t,r=await(o.isRTL==null?void 0:o.isRTL(i.floating)),l=Cn(n),a=Ao(n),s=ti(n)==="y",u=["left","top"].includes(l)?-1:1,f=r&&s?-1:1,c=Co(e,t);let{mainAxis:d,crossAxis:m,alignmentAxis:p}=typeof c=="number"?{mainAxis:c,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...c};return a&&typeof p=="number"&&(m=a==="end"?p*-1:p),s?{x:m*f,y:d*u}:{x:d*u,y:m*f}}const Wp=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,o;const{x:i,y:r,placement:l,middlewareData:a}=e,s=await Hp(e,t);return l===((n=a.offset)==null?void 0:n.placement)&&(o=a.arrow)!=null&&o.alignmentOffset?{}:{x:i+s.x,y:r+s.y,data:{...s,placement:l}}}}},Yp=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:o,placement:i}=e,{mainAxis:r=!0,crossAxis:l=!1,limiter:a={fn:b=>{let{x:w,y:C}=b;return{x:w,y:C}}},...s}=Co(t,e),u={x:n,y:o},f=await Gl(e,s),c=ti(Cn(i)),d=Cc(c);let m=u[d],p=u[c];if(r){const b=d==="y"?"top":"left",w=d==="y"?"bottom":"right",C=m+f[b],k=m-f[w];m=fl(C,m,k)}if(l){const b=c==="y"?"top":"left",w=c==="y"?"bottom":"right",C=p+f[b],k=p-f[w];p=fl(C,p,k)}const _=a.fn({...e,[d]:m,[c]:p});return{..._,data:{x:_.x-n,y:_.y-o}}}}},Up=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){const{placement:n,rects:o,platform:i,elements:r}=e,{apply:l=()=>{},...a}=Co(t,e),s=await Gl(e,a),u=Cn(n),f=Ao(n),c=ti(n)==="y",{width:d,height:m}=o.floating;let p,_;u==="top"||u==="bottom"?(p=u,_=f===(await(i.isRTL==null?void 0:i.isRTL(r.floating))?"start":"end")?"left":"right"):(_=u,p=f==="end"?"top":"bottom");const b=m-s[p],w=d-s[_],C=!e.middlewareData.shift;let k=b,D=w;if(c){const R=d-s.left-s.right;D=f||C?wn(w,R):R}else{const R=m-s.top-s.bottom;k=f||C?wn(b,R):R}if(C&&!f){const R=Ot(s.left,0),E=Ot(s.right,0),V=Ot(s.top,0),$=Ot(s.bottom,0);c?D=d-2*(R!==0||E!==0?R+E:Ot(s.left,s.right)):k=m-2*(V!==0||$!==0?V+$:Ot(s.top,s.bottom))}await l({...e,availableWidth:D,availableHeight:k});const L=await i.getDimensions(r.floating);return d!==L.width||m!==L.height?{reset:{rects:!0}}:{}}}};function An(t){return Sc(t)?(t.nodeName||"").toLowerCase():"#document"}function Nt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function mn(t){var e;return(e=(Sc(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Sc(t){return t instanceof Node||t instanceof Nt(t).Node}function un(t){return t instanceof Element||t instanceof Nt(t).Element}function Zt(t){return t instanceof HTMLElement||t instanceof Nt(t).HTMLElement}function js(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Nt(t).ShadowRoot}function ni(t){const{overflow:e,overflowX:n,overflowY:o,display:i}=Dt(t);return/auto|scroll|overlay|hidden|clip/.test(e+o+n)&&!["inline","contents"].includes(i)}function Kp(t){return["table","td","th"].includes(An(t))}function Vl(t){const e=Hl(),n=Dt(t);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(o=>(n.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(n.contain||"").includes(o))}function Xp(t){let e=go(t);for(;Zt(e)&&!wr(e);){if(Vl(e))return e;e=go(e)}return null}function Hl(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function wr(t){return["html","body","#document"].includes(An(t))}function Dt(t){return Nt(t).getComputedStyle(t)}function kr(t){return un(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function go(t){if(An(t)==="html")return t;const e=t.assignedSlot||t.parentNode||js(t)&&t.host||mn(t);return js(e)?e.host:e}function Tc(t){const e=go(t);return wr(e)?t.ownerDocument?t.ownerDocument.body:t.body:Zt(e)&&ni(e)?e:Tc(e)}function Jo(t,e,n){var o;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=Tc(t),r=i===((o=t.ownerDocument)==null?void 0:o.body),l=Nt(i);return r?e.concat(l,l.visualViewport||[],ni(i)?i:[],l.frameElement&&n?Jo(l.frameElement):[]):e.concat(i,Jo(i,[],n))}function Mc(t){const e=Dt(t);let n=parseFloat(e.width)||0,o=parseFloat(e.height)||0;const i=Zt(t),r=i?t.offsetWidth:n,l=i?t.offsetHeight:o,a=Ki(n)!==r||Ki(o)!==l;return a&&(n=r,o=l),{width:n,height:o,$:a}}function Wl(t){return un(t)?t:t.contextElement}function po(t){const e=Wl(t);if(!Zt(e))return kn(1);const n=e.getBoundingClientRect(),{width:o,height:i,$:r}=Mc(e);let l=(r?Ki(n.width):n.width)/o,a=(r?Ki(n.height):n.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!a||!Number.isFinite(a))&&(a=1),{x:l,y:a}}const Jp=kn(0);function Ic(t){const e=Nt(t);return!Hl()||!e.visualViewport?Jp:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function xp(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Nt(t)?!1:e}function qn(t,e,n,o){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),r=Wl(t);let l=kn(1);e&&(o?un(o)&&(l=po(o)):l=po(t));const a=xp(r,n,o)?Ic(r):kn(0);let s=(i.left+a.x)/l.x,u=(i.top+a.y)/l.y,f=i.width/l.x,c=i.height/l.y;if(r){const d=Nt(r),m=o&&un(o)?Nt(o):o;let p=d,_=p.frameElement;for(;_&&o&&m!==p;){const b=po(_),w=_.getBoundingClientRect(),C=Dt(_),k=w.left+(_.clientLeft+parseFloat(C.paddingLeft))*b.x,D=w.top+(_.clientTop+parseFloat(C.paddingTop))*b.y;s*=b.x,u*=b.y,f*=b.x,c*=b.y,s+=k,u+=D,p=Nt(_),_=p.frameElement}}return Ji({width:f,height:c,x:s,y:u})}const Zp=[":popover-open",":modal"];function Oc(t){return Zp.some(e=>{try{return t.matches(e)}catch{return!1}})}function Qp(t){let{elements:e,rect:n,offsetParent:o,strategy:i}=t;const r=i==="fixed",l=mn(o),a=e?Oc(e.floating):!1;if(o===l||a&&r)return n;let s={scrollLeft:0,scrollTop:0},u=kn(1);const f=kn(0),c=Zt(o);if((c||!c&&!r)&&((An(o)!=="body"||ni(l))&&(s=kr(o)),Zt(o))){const d=qn(o);u=po(o),f.x=d.x+o.clientLeft,f.y=d.y+o.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-s.scrollLeft*u.x+f.x,y:n.y*u.y-s.scrollTop*u.y+f.y}}function zp(t){return Array.from(t.getClientRects())}function Pc(t){return qn(mn(t)).left+kr(t).scrollLeft}function eh(t){const e=mn(t),n=kr(t),o=t.ownerDocument.body,i=Ot(e.scrollWidth,e.clientWidth,o.scrollWidth,o.clientWidth),r=Ot(e.scrollHeight,e.clientHeight,o.scrollHeight,o.clientHeight);let l=-n.scrollLeft+Pc(t);const a=-n.scrollTop;return Dt(o).direction==="rtl"&&(l+=Ot(e.clientWidth,o.clientWidth)-i),{width:i,height:r,x:l,y:a}}function th(t,e){const n=Nt(t),o=mn(t),i=n.visualViewport;let r=o.clientWidth,l=o.clientHeight,a=0,s=0;if(i){r=i.width,l=i.height;const u=Hl();(!u||u&&e==="fixed")&&(a=i.offsetLeft,s=i.offsetTop)}return{width:r,height:l,x:a,y:s}}function nh(t,e){const n=qn(t,!0,e==="fixed"),o=n.top+t.clientTop,i=n.left+t.clientLeft,r=Zt(t)?po(t):kn(1),l=t.clientWidth*r.x,a=t.clientHeight*r.y,s=i*r.x,u=o*r.y;return{width:l,height:a,x:s,y:u}}function qs(t,e,n){let o;if(e==="viewport")o=th(t,n);else if(e==="document")o=eh(mn(t));else if(un(e))o=nh(e,n);else{const i=Ic(t);o={...e,x:e.x-i.x,y:e.y-i.y}}return Ji(o)}function Nc(t,e){const n=go(t);return n===e||!un(n)||wr(n)?!1:Dt(n).position==="fixed"||Nc(n,e)}function oh(t,e){const n=e.get(t);if(n)return n;let o=Jo(t,[],!1).filter(a=>un(a)&&An(a)!=="body"),i=null;const r=Dt(t).position==="fixed";let l=r?go(t):t;for(;un(l)&&!wr(l);){const a=Dt(l),s=Vl(l);!s&&a.position==="fixed"&&(i=null),(r?!s&&!i:!s&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||ni(l)&&!s&&Nc(t,l))?o=o.filter(f=>f!==l):i=a,l=go(l)}return e.set(t,o),o}function ih(t){let{element:e,boundary:n,rootBoundary:o,strategy:i}=t;const l=[...n==="clippingAncestors"?oh(e,this._c):[].concat(n),o],a=l[0],s=l.reduce((u,f)=>{const c=qs(e,f,i);return u.top=Ot(c.top,u.top),u.right=wn(c.right,u.right),u.bottom=wn(c.bottom,u.bottom),u.left=Ot(c.left,u.left),u},qs(e,a,i));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}}function rh(t){const{width:e,height:n}=Mc(t);return{width:e,height:n}}function lh(t,e,n){const o=Zt(e),i=mn(e),r=n==="fixed",l=qn(t,!0,r,e);let a={scrollLeft:0,scrollTop:0};const s=kn(0);if(o||!o&&!r)if((An(e)!=="body"||ni(i))&&(a=kr(e)),o){const c=qn(e,!0,r,e);s.x=c.x+e.clientLeft,s.y=c.y+e.clientTop}else i&&(s.x=Pc(i));const u=l.left+a.scrollLeft-s.x,f=l.top+a.scrollTop-s.y;return{x:u,y:f,width:l.width,height:l.height}}function Gs(t,e){return!Zt(t)||Dt(t).position==="fixed"?null:e?e(t):t.offsetParent}function Ec(t,e){const n=Nt(t);if(!Zt(t)||Oc(t))return n;let o=Gs(t,e);for(;o&&Kp(o)&&Dt(o).position==="static";)o=Gs(o,e);return o&&(An(o)==="html"||An(o)==="body"&&Dt(o).position==="static"&&!Vl(o))?n:o||Xp(t)||n}const sh=async function(t){const e=this.getOffsetParent||Ec,n=this.getDimensions;return{reference:lh(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,...await n(t.floating)}}};function ah(t){return Dt(t).direction==="rtl"}const uh={convertOffsetParentRelativeRectToViewportRelativeRect:Qp,getDocumentElement:mn,getClippingRect:ih,getOffsetParent:Ec,getElementRects:sh,getClientRects:zp,getDimensions:rh,getScale:po,isElement:un,isRTL:ah};function fh(t,e){let n=null,o;const i=mn(t);function r(){var a;clearTimeout(o),(a=n)==null||a.disconnect(),n=null}function l(a,s){a===void 0&&(a=!1),s===void 0&&(s=1),r();const{left:u,top:f,width:c,height:d}=t.getBoundingClientRect();if(a||e(),!c||!d)return;const m=vi(f),p=vi(i.clientWidth-(u+c)),_=vi(i.clientHeight-(f+d)),b=vi(u),C={rootMargin:-m+"px "+-p+"px "+-_+"px "+-b+"px",threshold:Ot(0,wn(1,s))||1};let k=!0;function D(L){const R=L[0].intersectionRatio;if(R!==s){if(!k)return l();R?l(!1,R):o=setTimeout(()=>{l(!1,1e-7)},100)}k=!1}try{n=new IntersectionObserver(D,{...C,root:i.ownerDocument})}catch{n=new IntersectionObserver(D,C)}n.observe(t)}return l(!0),r}function ch(t,e,n,o){o===void 0&&(o={});const{ancestorScroll:i=!0,ancestorResize:r=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:s=!1}=o,u=Wl(t),f=i||r?[...u?Jo(u):[],...Jo(e)]:[];f.forEach(w=>{i&&w.addEventListener("scroll",n,{passive:!0}),r&&w.addEventListener("resize",n)});const c=u&&a?fh(u,n):null;let d=-1,m=null;l&&(m=new ResizeObserver(w=>{let[C]=w;C&&C.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var k;(k=m)==null||k.observe(e)})),n()}),u&&!s&&m.observe(u),m.observe(e));let p,_=s?qn(t):null;s&&b();function b(){const w=qn(t);_&&(w.x!==_.x||w.y!==_.y||w.width!==_.width||w.height!==_.height)&&n(),_=w,p=requestAnimationFrame(b)}return n(),()=>{var w;f.forEach(C=>{i&&C.removeEventListener("scroll",n),r&&C.removeEventListener("resize",n)}),c==null||c(),(w=m)==null||w.disconnect(),m=null,s&&cancelAnimationFrame(p)}}const dh=Yp,mh=Vp,ph=Up,hh=Gp,_h=(t,e,n)=>{const o=new Map,i={platform:uh,...n},r={...i.platform,_c:o};return qp(t,e,{...i,platform:r})},gh={strategy:"absolute",placement:"top",gutter:5,flip:!0,sameWidth:!1,overflowPadding:8},bh={bottom:"rotate(45deg)",left:"rotate(135deg)",top:"rotate(225deg)",right:"rotate(315deg)"};function vh(t,e,n={}){if(!e||!t||n===null)return{destroy:Qe};const o={...gh,...n},i=e.querySelector("[data-arrow=true]"),r=[];o.flip&&r.push(mh({boundary:o.boundary,padding:o.overflowPadding}));const l=Tt(i)?i.offsetHeight/2:0;if(o.gutter||o.offset){const s=o.gutter?{mainAxis:o.gutter}:o.offset;(s==null?void 0:s.mainAxis)!=null&&(s.mainAxis+=l),r.push(Wp(s))}r.push(dh({boundary:o.boundary,crossAxis:o.overlap,padding:o.overflowPadding})),i&&r.push(hh({element:i,padding:8})),r.push(ph({padding:o.overflowPadding,apply({rects:s,availableHeight:u,availableWidth:f}){o.sameWidth&&Object.assign(e.style,{width:`${Math.round(s.reference.width)}px`,minWidth:"unset"}),o.fitViewport&&Object.assign(e.style,{maxWidth:`${f}px`,maxHeight:`${u}px`})}}));function a(){if(!t||!e)return;const{placement:s,strategy:u}=o;_h(t,e,{placement:s,middleware:r,strategy:u}).then(f=>{const c=Math.round(f.x),d=Math.round(f.y);if(Object.assign(e.style,{position:o.strategy,top:`${d}px`,left:`${c}px`}),Tt(i)&&f.middlewareData.arrow){const{x:m,y:p}=f.middlewareData.arrow,_=f.placement.split("-")[0];Object.assign(i.style,{position:"absolute",left:m!=null?`${m}px`:"",top:p!=null?`${p}px`:"",[_]:`calc(100% - ${l}px)`,transform:bh[_],backgroundColor:"inherit",zIndex:"inherit"})}return f})}return Object.assign(e.style,{position:o.strategy}),{destroy:ch(t,e,a)}}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var $c=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],xi=$c.join(","),Rc=typeof Element>"u",Gn=Rc?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Zi=!Rc&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},Qi=function t(e,n){var o;n===void 0&&(n=!0);var i=e==null||(o=e.getAttribute)===null||o===void 0?void 0:o.call(e,"inert"),r=i===""||i==="true",l=r||n&&e&&t(e.parentNode);return l},yh=function(e){var n,o=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"contenteditable");return o===""||o==="true"},Dc=function(e,n,o){if(Qi(e))return[];var i=Array.prototype.slice.apply(e.querySelectorAll(xi));return n&&Gn.call(e,xi)&&i.unshift(e),i=i.filter(o),i},Lc=function t(e,n,o){for(var i=[],r=Array.from(e);r.length;){var l=r.shift();if(!Qi(l,!1))if(l.tagName==="SLOT"){var a=l.assignedElements(),s=a.length?a:l.children,u=t(s,!0,o);o.flatten?i.push.apply(i,u):i.push({scopeParent:l,candidates:u})}else{var f=Gn.call(l,xi);f&&o.filter(l)&&(n||!e.includes(l))&&i.push(l);var c=l.shadowRoot||typeof o.getShadowRoot=="function"&&o.getShadowRoot(l),d=!Qi(c,!1)&&(!o.shadowRootFilter||o.shadowRootFilter(l));if(c&&d){var m=t(c===!0?l.children:c.children,!0,o);o.flatten?i.push.apply(i,m):i.push({scopeParent:l,candidates:m})}else r.unshift.apply(r,l.children)}}return i},Fc=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},Nn=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||yh(e))&&!Fc(e)?0:e.tabIndex},wh=function(e,n){var o=Nn(e);return o<0&&n&&!Fc(e)?0:o},kh=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},Bc=function(e){return e.tagName==="INPUT"},Ch=function(e){return Bc(e)&&e.type==="hidden"},Ah=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(o){return o.tagName==="SUMMARY"});return n},Sh=function(e,n){for(var o=0;o<e.length;o++)if(e[o].checked&&e[o].form===n)return e[o]},Th=function(e){if(!e.name)return!0;var n=e.form||Zi(e),o=function(a){return n.querySelectorAll('input[type="radio"][name="'+a+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=o(window.CSS.escape(e.name));else try{i=o(e.name)}catch(l){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",l.message),!1}var r=Sh(i,e.form);return!r||r===e},Mh=function(e){return Bc(e)&&e.type==="radio"},Ih=function(e){return Mh(e)&&!Th(e)},Oh=function(e){var n,o=e&&Zi(e),i=(n=o)===null||n===void 0?void 0:n.host,r=!1;if(o&&o!==e){var l,a,s;for(r=!!((l=i)!==null&&l!==void 0&&(a=l.ownerDocument)!==null&&a!==void 0&&a.contains(i)||e!=null&&(s=e.ownerDocument)!==null&&s!==void 0&&s.contains(e));!r&&i;){var u,f,c;o=Zi(i),i=(u=o)===null||u===void 0?void 0:u.host,r=!!((f=i)!==null&&f!==void 0&&(c=f.ownerDocument)!==null&&c!==void 0&&c.contains(i))}}return r},Vs=function(e){var n=e.getBoundingClientRect(),o=n.width,i=n.height;return o===0&&i===0},Ph=function(e,n){var o=n.displayCheck,i=n.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var r=Gn.call(e,"details>summary:first-of-type"),l=r?e.parentElement:e;if(Gn.call(l,"details:not([open]) *"))return!0;if(!o||o==="full"||o==="legacy-full"){if(typeof i=="function"){for(var a=e;e;){var s=e.parentElement,u=Zi(e);if(s&&!s.shadowRoot&&i(s)===!0)return Vs(e);e.assignedSlot?e=e.assignedSlot:!s&&u!==e.ownerDocument?e=u.host:e=s}e=a}if(Oh(e))return!e.getClientRects().length;if(o!=="legacy-full")return!0}else if(o==="non-zero-area")return Vs(e);return!1},Nh=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var o=0;o<n.children.length;o++){var i=n.children.item(o);if(i.tagName==="LEGEND")return Gn.call(n,"fieldset[disabled] *")?!0:!i.contains(e)}return!0}n=n.parentElement}return!1},zi=function(e,n){return!(n.disabled||Qi(n)||Ch(n)||Ph(n,e)||Ah(n)||Nh(n))},dl=function(e,n){return!(Ih(n)||Nn(n)<0||!zi(e,n))},Eh=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},$h=function t(e){var n=[],o=[];return e.forEach(function(i,r){var l=!!i.scopeParent,a=l?i.scopeParent:i,s=wh(a,l),u=l?t(i.candidates):a;s===0?l?n.push.apply(n,u):n.push(a):o.push({documentOrder:r,tabIndex:s,item:i,isScope:l,content:u})}),o.sort(kh).reduce(function(i,r){return r.isScope?i.push.apply(i,r.content):i.push(r.content),i},[]).concat(n)},Rh=function(e,n){n=n||{};var o;return n.getShadowRoot?o=Lc([e],n.includeContainer,{filter:dl.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:Eh}):o=Dc(e,n.includeContainer,dl.bind(null,n)),$h(o)},Dh=function(e,n){n=n||{};var o;return n.getShadowRoot?o=Lc([e],n.includeContainer,{filter:zi.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):o=Dc(e,n.includeContainer,zi.bind(null,n)),o},lo=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return Gn.call(e,xi)===!1?!1:dl(n,e)},Lh=$c.concat("iframe").join(","),qr=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return Gn.call(e,Lh)===!1?!1:zi(n,e)};/*!
* focus-trap 7.5.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function Hs(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,o)}return n}function Ws(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Hs(Object(n),!0).forEach(function(o){Fh(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hs(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function Fh(t,e,n){return e=jh(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bh(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jh(t){var e=Bh(t,"string");return typeof e=="symbol"?e:String(e)}var Ys={activateTrap:function(e,n){if(e.length>0){var o=e[e.length-1];o!==n&&o.pause()}var i=e.indexOf(n);i===-1||e.splice(i,1),e.push(n)},deactivateTrap:function(e,n){var o=e.indexOf(n);o!==-1&&e.splice(o,1),e.length>0&&e[e.length-1].unpause()}},qh=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},Gh=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},Yo=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},Vh=function(e){return Yo(e)&&!e.shiftKey},Hh=function(e){return Yo(e)&&e.shiftKey},Us=function(e){return setTimeout(e,0)},Ks=function(e,n){var o=-1;return e.every(function(i,r){return n(i)?(o=r,!1):!0}),o},Do=function(e){for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return typeof e=="function"?e.apply(void 0,o):e},yi=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},Wh=[],Yh=function(e,n){var o=(n==null?void 0:n.document)||document,i=(n==null?void 0:n.trapStack)||Wh,r=Ws({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:Vh,isKeyBackward:Hh},n),l={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},a,s=function(v,O,N){return v&&v[O]!==void 0?v[O]:r[N||O]},u=function(v,O){var N=typeof(O==null?void 0:O.composedPath)=="function"?O.composedPath():void 0;return l.containerGroups.findIndex(function(H){var G=H.container,K=H.tabbableNodes;return G.contains(v)||(N==null?void 0:N.includes(G))||K.find(function(z){return z===v})})},f=function(v){var O=r[v];if(typeof O=="function"){for(var N=arguments.length,H=new Array(N>1?N-1:0),G=1;G<N;G++)H[G-1]=arguments[G];O=O.apply(void 0,H)}if(O===!0&&(O=void 0),!O){if(O===void 0||O===!1)return O;throw new Error("`".concat(v,"` was specified but was not a node, or did not return a node"))}var K=O;if(typeof O=="string"&&(K=o.querySelector(O),!K))throw new Error("`".concat(v,"` as selector refers to no known node"));return K},c=function(){var v=f("initialFocus");if(v===!1)return!1;if(v===void 0||!qr(v,r.tabbableOptions))if(u(o.activeElement)>=0)v=o.activeElement;else{var O=l.tabbableGroups[0],N=O&&O.firstTabbableNode;v=N||f("fallbackFocus")}if(!v)throw new Error("Your focus-trap needs to have at least one focusable element");return v},d=function(){if(l.containerGroups=l.containers.map(function(v){var O=Rh(v,r.tabbableOptions),N=Dh(v,r.tabbableOptions),H=O.length>0?O[0]:void 0,G=O.length>0?O[O.length-1]:void 0,K=N.find(function(Y){return lo(Y)}),z=N.slice().reverse().find(function(Y){return lo(Y)}),te=!!O.find(function(Y){return Nn(Y)>0});return{container:v,tabbableNodes:O,focusableNodes:N,posTabIndexesFound:te,firstTabbableNode:H,lastTabbableNode:G,firstDomTabbableNode:K,lastDomTabbableNode:z,nextTabbableNode:function(h){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,X=O.indexOf(h);return X<0?B?N.slice(N.indexOf(h)+1).find(function(ne){return lo(ne)}):N.slice(0,N.indexOf(h)).reverse().find(function(ne){return lo(ne)}):O[X+(B?1:-1)]}}}),l.tabbableGroups=l.containerGroups.filter(function(v){return v.tabbableNodes.length>0}),l.tabbableGroups.length<=0&&!f("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(l.containerGroups.find(function(v){return v.posTabIndexesFound})&&l.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},m=function y(v){var O=v.activeElement;if(O)return O.shadowRoot&&O.shadowRoot.activeElement!==null?y(O.shadowRoot):O},p=function y(v){if(v!==!1&&v!==m(document)){if(!v||!v.focus){y(c());return}v.focus({preventScroll:!!r.preventScroll}),l.mostRecentlyFocusedNode=v,qh(v)&&v.select()}},_=function(v){var O=f("setReturnFocus",v);return O||(O===!1?!1:v)},b=function(v){var O=v.target,N=v.event,H=v.isBackward,G=H===void 0?!1:H;O=O||yi(N),d();var K=null;if(l.tabbableGroups.length>0){var z=u(O,N),te=z>=0?l.containerGroups[z]:void 0;if(z<0)G?K=l.tabbableGroups[l.tabbableGroups.length-1].lastTabbableNode:K=l.tabbableGroups[0].firstTabbableNode;else if(G){var Y=Ks(l.tabbableGroups,function(ue){var we=ue.firstTabbableNode;return O===we});if(Y<0&&(te.container===O||qr(O,r.tabbableOptions)&&!lo(O,r.tabbableOptions)&&!te.nextTabbableNode(O,!1))&&(Y=z),Y>=0){var h=Y===0?l.tabbableGroups.length-1:Y-1,B=l.tabbableGroups[h];K=Nn(O)>=0?B.lastTabbableNode:B.lastDomTabbableNode}else Yo(N)||(K=te.nextTabbableNode(O,!1))}else{var X=Ks(l.tabbableGroups,function(ue){var we=ue.lastTabbableNode;return O===we});if(X<0&&(te.container===O||qr(O,r.tabbableOptions)&&!lo(O,r.tabbableOptions)&&!te.nextTabbableNode(O))&&(X=z),X>=0){var ne=X===l.tabbableGroups.length-1?0:X+1,U=l.tabbableGroups[ne];K=Nn(O)>=0?U.firstTabbableNode:U.firstDomTabbableNode}else Yo(N)||(K=te.nextTabbableNode(O))}}else K=f("fallbackFocus");return K},w=function(v){var O=yi(v);if(!(u(O,v)>=0)){if(Do(r.clickOutsideDeactivates,v)){a.deactivate({returnFocus:r.returnFocusOnDeactivate});return}Do(r.allowOutsideClick,v)||v.preventDefault()}},C=function(v){var O=yi(v),N=u(O,v)>=0;if(N||O instanceof Document)N&&(l.mostRecentlyFocusedNode=O);else{v.stopImmediatePropagation();var H,G=!0;if(l.mostRecentlyFocusedNode)if(Nn(l.mostRecentlyFocusedNode)>0){var K=u(l.mostRecentlyFocusedNode),z=l.containerGroups[K].tabbableNodes;if(z.length>0){var te=z.findIndex(function(Y){return Y===l.mostRecentlyFocusedNode});te>=0&&(r.isKeyForward(l.recentNavEvent)?te+1<z.length&&(H=z[te+1],G=!1):te-1>=0&&(H=z[te-1],G=!1))}}else l.containerGroups.some(function(Y){return Y.tabbableNodes.some(function(h){return Nn(h)>0})})||(G=!1);else G=!1;G&&(H=b({target:l.mostRecentlyFocusedNode,isBackward:r.isKeyBackward(l.recentNavEvent)})),p(H||l.mostRecentlyFocusedNode||c())}l.recentNavEvent=void 0},k=function(v){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;l.recentNavEvent=v;var N=b({event:v,isBackward:O});N&&(Yo(v)&&v.preventDefault(),p(N))},D=function(v){if(Gh(v)&&Do(r.escapeDeactivates,v)!==!1){v.preventDefault(),a.deactivate();return}(r.isKeyForward(v)||r.isKeyBackward(v))&&k(v,r.isKeyBackward(v))},L=function(v){var O=yi(v);u(O,v)>=0||Do(r.clickOutsideDeactivates,v)||Do(r.allowOutsideClick,v)||(v.preventDefault(),v.stopImmediatePropagation())},R=function(){if(l.active)return Ys.activateTrap(i,a),l.delayInitialFocusTimer=r.delayInitialFocus?Us(function(){p(c())}):p(c()),o.addEventListener("focusin",C,!0),o.addEventListener("mousedown",w,{capture:!0,passive:!1}),o.addEventListener("touchstart",w,{capture:!0,passive:!1}),o.addEventListener("click",L,{capture:!0,passive:!1}),o.addEventListener("keydown",D,{capture:!0,passive:!1}),a},E=function(){if(l.active)return o.removeEventListener("focusin",C,!0),o.removeEventListener("mousedown",w,!0),o.removeEventListener("touchstart",w,!0),o.removeEventListener("click",L,!0),o.removeEventListener("keydown",D,!0),a},V=function(v){var O=v.some(function(N){var H=Array.from(N.removedNodes);return H.some(function(G){return G===l.mostRecentlyFocusedNode})});O&&p(c())},$=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(V):void 0,W=function(){$&&($.disconnect(),l.active&&!l.paused&&l.containers.map(function(v){$.observe(v,{subtree:!0,childList:!0})}))};return a={get active(){return l.active},get paused(){return l.paused},activate:function(v){if(l.active)return this;var O=s(v,"onActivate"),N=s(v,"onPostActivate"),H=s(v,"checkCanFocusTrap");H||d(),l.active=!0,l.paused=!1,l.nodeFocusedBeforeActivation=o.activeElement,O==null||O();var G=function(){H&&d(),R(),W(),N==null||N()};return H?(H(l.containers.concat()).then(G,G),this):(G(),this)},deactivate:function(v){if(!l.active)return this;var O=Ws({onDeactivate:r.onDeactivate,onPostDeactivate:r.onPostDeactivate,checkCanReturnFocus:r.checkCanReturnFocus},v);clearTimeout(l.delayInitialFocusTimer),l.delayInitialFocusTimer=void 0,E(),l.active=!1,l.paused=!1,W(),Ys.deactivateTrap(i,a);var N=s(O,"onDeactivate"),H=s(O,"onPostDeactivate"),G=s(O,"checkCanReturnFocus"),K=s(O,"returnFocus","returnFocusOnDeactivate");N==null||N();var z=function(){Us(function(){K&&p(_(l.nodeFocusedBeforeActivation)),H==null||H()})};return K&&G?(G(_(l.nodeFocusedBeforeActivation)).then(z,z),this):(z(),this)},pause:function(v){if(l.paused||!l.active)return this;var O=s(v,"onPause"),N=s(v,"onPostPause");return l.paused=!0,O==null||O(),E(),W(),N==null||N(),this},unpause:function(v){if(!l.paused||!l.active)return this;var O=s(v,"onUnpause"),N=s(v,"onPostUnpause");return l.paused=!1,O==null||O(),d(),R(),W(),N==null||N(),this},updateContainerElements:function(v){var O=[].concat(v).filter(Boolean);return l.containers=O.map(function(N){return typeof N=="string"?o.querySelector(N):N}),l.active&&d(),W(),this}},a.updateContainerElements(e),a};function Uh(t={}){let e;const{immediate:n,...o}=t,i=Ye(!1),r=Ye(!1),l=c=>e==null?void 0:e.activate(c),a=c=>{e==null||e.deactivate(c)},s=()=>{e&&(e.pause(),r.set(!0))},u=()=>{e&&(e.unpause(),r.set(!1))};return{useFocusTrap:c=>(e=Yh(c,{...o,onActivate(){var d;i.set(!0),(d=t.onActivate)==null||d.call(t)},onDeactivate(){var d;i.set(!1),(d=t.onDeactivate)==null||d.call(t)}}),n&&l(),{destroy(){a(),e=void 0}}),hasFocus:ks(i),isPaused:ks(r),activate:l,deactivate:a,pause:s,unpause:u}}const wi=[];function Kh(t,e){let n=Qe;function o(){const r=wi.indexOf(t);r>=0&&wi.splice(r,1)}function i(r){n();const{open:l,onClose:a,shouldCloseOnInteractOutside:s,closeOnInteractOutside:u}=r;Fl(100).then(()=>{l?wi.push(t):o()});function f(){return sp(wi)===t}function c(){f()&&a&&(a(),o())}function d(p){const _=p.target;br(_)&&_&&f()&&(p.preventDefault(),p.stopPropagation(),p.stopImmediatePropagation())}function m(p){s!=null&&s(p)&&f()&&(p.preventDefault(),p.stopPropagation(),p.stopImmediatePropagation(),c())}n=Xh(t,{onInteractOutsideStart:d,onInteractOutside:u?m:void 0,enabled:l}).destroy}return i(e),{update:i,destroy(){o(),n()}}}const jc=(t,e="body")=>{let n;if(!Tt(e)&&typeof e!="string")return{destroy:Qe};async function o(r){if(e=r,typeof e=="string"){if(n=document.querySelector(e),n===null&&(await Nl(),n=document.querySelector(e)),n===null)throw new Error(`No element found matching css selector: "${e}"`)}else if(e instanceof HTMLElement)n=e;else throw new TypeError(`Unknown portal target type: ${e===null?"null":typeof e}. Allowed types: string (CSS selector) or HTMLElement.`);t.dataset.portal="",n.appendChild(t),t.hidden=!1}function i(){t.remove()}return o(e),{update:o,destroy:i}};function Xh(t,e){let n=Qe,o=!1,i=!1,r=!1;function l(u){n();const{onInteractOutside:f,onInteractOutsideStart:c,enabled:d}=u;if(!d)return;function m(b){f&&Xs(b,t)&&(c==null||c(b));const w=b.target;br(w)&&qc(t,w)&&(i=!0),o=!0}function p(b){f==null||f(b)}const _=Jh(t);if(typeof PointerEvent<"u"){const b=w=>{a(w)&&p(w),s()};n=Kt(yt(_,"pointerdown",m,!0),yt(_,"pointerup",b,!0))}else{const b=C=>{r?r=!1:a(C)&&p(C),s()},w=C=>{r=!0,a(C)&&p(C),s()};n=Kt(yt(_,"mousedown",m,!0),yt(_,"mouseup",b,!0),yt(_,"touchstart",m,!0),yt(_,"touchend",w,!0))}}function a(u){return!!(o&&!i&&Xs(u,t))}function s(){o=!1,i=!1}return l(e),{update:l,destroy:n}}function Xs(t,e){if("button"in t&&t.button>0)return!1;const n=t.target;if(!br(n))return!1;const o=n.ownerDocument;return!o||!o.documentElement.contains(n)?!1:e&&!qc(e,n)}function qc(t,e){return t===e||t.contains(e)}function Jh(t){return(t==null?void 0:t.ownerDocument)??document}Dn(!1),Dn(!1),Dn(void 0);function xh(){return{elements:{root:_t("label",{action:e=>({destroy:At(e,"mousedown",o=>{!o.defaultPrevented&&o.detail>1&&o.preventDefault()})})})}}}const{name:On}=gr("dialog"),Zh={preventScroll:!0,closeOnEscape:!0,closeOnOutsideClick:!0,role:"dialog",defaultOpen:!1,portal:void 0,forceVisible:!1,openFocus:void 0,closeFocus:void 0,onOutsideClick:void 0},Qh=["content","title","description"];function Gc(t){const e={...Zh,...t},n=jn(vr(e,"ids")),{preventScroll:o,closeOnEscape:i,closeOnOutsideClick:r,role:l,portal:a,forceVisible:s,openFocus:u,closeFocus:f,onOutsideClick:c}=n,d=sn.writable(null),m=jn({...Bl(Qh),...e.ids}),p=e.open??Ye(e.defaultOpen),_=yr(p,e==null?void 0:e.onOpenChange),b=dn([_,s],([y,v])=>y||v);let w=Qe;function C(y){const v=y.currentTarget,O=y.currentTarget;!Tt(v)||!Tt(O)||(_.set(!0),d.set(O))}function k(){_.set(!1),Ls({prop:f.get(),defaultEl:d.get()})}const D=_t(On("trigger"),{stores:[_],returned:([y])=>({"aria-haspopup":"dialog","aria-expanded":y,type:"button"}),action:y=>({destroy:Kt(At(y,"click",O=>{C(O)}),At(y,"keydown",O=>{O.key!==at.ENTER&&O.key!==at.SPACE||(O.preventDefault(),C(O))}))})}),L=_t(On("overlay"),{stores:[b,_],returned:([y,v])=>({hidden:y?void 0:!0,tabindex:-1,style:vn({display:y?void 0:"none"}),"aria-hidden":!0,"data-state":v?"open":"closed"}),action:y=>{let v=Qe;if(i.get()){const O=Fs(y,{handler:()=>{k()}});O&&O.destroy&&(v=O.destroy)}return{destroy(){v()}}}}),R=_t(On("content"),{stores:[b,m.content,m.description,m.title,_],returned:([y,v,O,N,H])=>({id:v,role:l.get(),"aria-describedby":O,"aria-labelledby":N,"aria-modal":y?"true":void 0,"data-state":H?"open":"closed",tabindex:-1,hidden:y?void 0:!0,style:vn({display:y?void 0:"none"})}),action:y=>{let v=Qe,O=Qe;const N=Kt($t([_],([H])=>{if(!H)return;const G=Uh({immediate:!1,escapeDeactivates:!0,clickOutsideDeactivates:!0,returnFocusOnDeactivate:!1,fallbackFocus:y});v=G.activate,O=G.deactivate;const K=G.useFocusTrap(y);return K&&K.destroy?K.destroy:G.deactivate}),$t([r,_],([H,G])=>Kh(y,{open:G,closeOnInteractOutside:H,onClose(){k()},shouldCloseOnInteractOutside(K){var z;return(z=c.get())==null||z(K),!K.defaultPrevented}}).destroy),$t([i],([H])=>{if(!H)return Qe;const G=Fs(y,{handler:()=>{k()}});return G&&G.destroy?G.destroy:Qe}),$t([b],([H])=>{Nl().then(()=>{H?v():O()})}));return{destroy:()=>{w(),N()}}}}),E=_t(On("portalled"),{stores:a,returned:y=>({"data-portal":bc(y)}),action:y=>{const v=$t([a],([O])=>{if(O===null)return Qe;const N=kc(y,O);if(N===null)return Qe;const H=jc(y,N);return H&&H.destroy?H.destroy:Qe});return{destroy(){v()}}}}),V=_t(On("title"),{stores:[m.title],returned:([y])=>({id:y})}),$=_t(On("description"),{stores:[m.description],returned:([y])=>({id:y})}),W=_t(On("close"),{returned:()=>({type:"button"}),action:y=>({destroy:Kt(At(y,"click",()=>{k()}),At(y,"keydown",O=>{O.key!==at.SPACE&&O.key!==at.ENTER||(O.preventDefault(),k())}))})});return $t([_,o],([y,v])=>{if(Xo){if(v&&y&&(w=Op()),y){const O=document.getElementById(m.content.get());Ls({prop:u.get(),defaultEl:O})}return()=>{s.get()||w()}}}),{ids:m,elements:{content:R,trigger:D,title:V,description:$,overlay:L,close:W,portalled:E},states:{open:_},options:n}}const zh={defaultValue:0,max:100},{name:e_}=gr("progress"),t_=t=>{const e={...zh,...t},n=jn(vr(e,"value")),{max:o}=n,i=e.value??Ye(e.defaultValue),r=yr(i,e==null?void 0:e.onValueChange);return{elements:{root:_t(e_(),{stores:[r,o],returned:([a,s])=>({value:a,max:s,role:"meter","aria-valuemin":0,"aria-valuemax":s,"aria-valuenow":a,"data-value":a,"data-state":a===null?"indeterminate":a===s?"complete":"loading","data-max":s})})},states:{value:r},options:n}},n_={orientation:"horizontal",decorative:!1},o_=t=>{const e={...n_,...t},n=jn(e),{orientation:o,decorative:i}=n;return{elements:{root:_t("separator",{stores:[o,i],returned:([l,a])=>({role:a?"none":"separator","aria-orientation":l==="vertical"?l:void 0,"aria-hidden":a,"data-orientation":l})})},options:n}},i_={defaultValue:[],min:0,max:100,step:1,orientation:"horizontal",dir:"ltr",disabled:!1},{name:ki}=gr("slider"),r_=t=>{const e={...i_,...t},n=jn(vr(e,"value","onValueChange","defaultValue")),{min:o,max:i,step:r,orientation:l,dir:a,disabled:s}=n,u=e.value??Ye(e.defaultValue),f=yr(u,e==null?void 0:e.onValueChange),c=sn(Ye(!1)),d=sn(Ye(0)),m=sn(Ye(null)),p=Bl(["root"]),_=(E,V)=>{f.update($=>{if(!$)return[E];if($[V]===E)return $;const W=[...$],y=W[V]>E?-1:1;function v(){W[V]=W[V+y],W[V+y]=E;const G=b();G&&(G[V+y].focus(),m.set({thumb:G[V+y],index:V+y}))}if(y===-1&&E<W[V-1])return v(),W;if(y===1&&E>W[V+1])return v(),W;const O=o.get(),N=i.get(),H=r.get();return W[V]=jr(E,O,N,H),W})},b=()=>{const E=Fr(p.root);return E?Array.from(E.querySelectorAll('[data-melt-part="thumb"]')).filter(V=>Tt(V)):null},w=dn([o,i],([E,V])=>$=>($-E)/(V-E)*100),C=sn.derived([l,a],([E,V])=>E==="horizontal"?V==="rtl"?"rl":"lr":V==="rtl"?"tb":"bt"),k=_t(ki(),{stores:[s,l,a],returned:([E,V,$])=>({dir:$,disabled:Lr(E),"data-disabled":Lr(E),"data-orientation":V,style:E?void 0:`touch-action: ${V==="horizontal"?"pan-y":"pan-x"}`,"data-melt-id":p.root})}),D=_t(ki("range"),{stores:[f,C,w],returned:([E,V,$])=>{const W=E.length>1?$(Math.min(...E)??0):0,y=100-$(Math.max(...E)??0),v={position:"absolute"};switch(V){case"lr":{v.left=`${W}%`,v.right=`${y}%`;break}case"rl":{v.right=`${W}%`,v.left=`${y}%`;break}case"bt":{v.bottom=`${W}%`,v.top=`${y}%`;break}case"tb":{v.top=`${W}%`,v.bottom=`${y}%`;break}}return{style:vn(v)}}}),L=$s(ki("thumb"),{stores:[f,w,o,i,s,l,C],returned:([E,V,$,W,y,v,O])=>Array.from({length:E.length||1},(H,G)=>{d.get()<E.length&&d.update(h=>h+1);const z=E[G],te=`${V(z)}%`,Y={position:"absolute"};switch(O){case"lr":{Y.left=te,Y.translate="-50% 0";break}case"rl":{Y.right=te,Y.translate="50% 0";break}case"bt":{Y.bottom=te,Y.translate="0 50%";break}case"tb":{Y.top=te,Y.translate="0 -50%";break}}return{role:"slider","aria-valuemin":$,"aria-valuemax":W,"aria-valuenow":z,"aria-disabled":Lr(y),"aria-orientation":v,"data-melt-part":"thumb","data-value":z,style:vn(Y),tabindex:y?-1:0}}),action:E=>({destroy:At(E,"keydown",$=>{if(s.get())return;const W=$.currentTarget;if(!Tt(W))return;const y=b();if(!(y!=null&&y.length))return;const v=y.indexOf(W);if(d.set(v),![at.ARROW_LEFT,at.ARROW_RIGHT,at.ARROW_UP,at.ARROW_DOWN,at.HOME,at.END].includes($.key))return;$.preventDefault();const O=o.get(),N=i.get(),H=r.get(),G=f.get(),K=l.get(),z=C.get(),te=G[v];switch($.key){case at.HOME:{_(O,v);break}case at.END:{_(N,v);break}case at.ARROW_LEFT:{if(K!=="horizontal")break;$.metaKey?_(z==="rl"?N:O,v):z==="rl"&&te<N?_(te+H,v):z==="lr"&&te>O&&_(te-H,v);break}case at.ARROW_RIGHT:{if(K!=="horizontal")break;$.metaKey?_(z==="rl"?O:N,v):z==="rl"&&te>O?_(te-H,v):z==="lr"&&te<N&&_(te+H,v);break}case at.ARROW_UP:{$.metaKey?_(z==="tb"?O:N,v):z==="tb"&&te>O?_(te-H,v):z!=="tb"&&te<N&&_(te+H,v);break}case at.ARROW_DOWN:{$.metaKey?_(z==="tb"?N:O,v):z==="tb"&&te<N?_(te+H,v):z!=="tb"&&te>O&&_(te-H,v);break}}})})}),R=$s(ki("tick"),{stores:[f,o,i,r,C],returned:([E,V,$,W,y])=>{const v=$-V;let O=Math.ceil(v/W);return v%W==0&&O++,Array.from({length:O},(N,H)=>{const G=`${H*(W/($-V))*100}%`,K=H===0,z=H===O-1,te=K?0:z?-100:-50,Y={position:"absolute"};switch(y){case"lr":{Y.left=G,Y.translate=`${te}% 0`;break}case"rl":{Y.right=G,Y.translate=`${-te}% 0`;break}case"bt":{Y.bottom=G,Y.translate=`0 ${-te}%`;break}case"tb":{Y.top=G,Y.translate=`0 ${te}%`;break}}const h=V+H*W;return{"data-bounded":(E.length===1?h<=E[0]:E[0]<=h&&h<=E[E.length-1])?!0:void 0,"data-value":h,style:vn(Y)}})}});return $t([k,o,i,s,l,C,r],([E,V,$,W,y,v,O])=>{if(!Xo||W)return;const N=(Y,h,B,X)=>{const U=(Y-B)/(X-B)*($-V)+V;if(U<V)_(V,h);else if(U>$)_($,h);else{const ue=O,we=V,Ce=Math.floor((U-we)/ue),Ke=we+Ce*ue+ue/2,Ve=we+(Ce+1)*ue+ue/2,et=U>=Ke&&U<Ve?(Ce+1)*ue+we:Ce*ue+we;et<=$&&_(et,h)}},H=Y=>{const h=b();if(!h)return;h.forEach(U=>U.blur());const B=h.map(U=>{if(y==="horizontal"){const{left:ue,right:we}=U.getBoundingClientRect();return Math.abs(Y.clientX-(ue+we)/2)}else{const{top:ue,bottom:we}=U.getBoundingClientRect();return Math.abs(Y.clientY-(ue+we)/2)}}),X=h[B.indexOf(Math.min(...B))],ne=h.indexOf(X);return{thumb:X,index:ne}},G=Y=>{if(!c.get())return;Y.preventDefault(),Y.stopPropagation();const h=Fr(E["data-melt-id"]),B=m.get();if(!h||!B)return;B.thumb.focus();const{left:X,right:ne,top:U,bottom:ue}=h.getBoundingClientRect();switch(v){case"lr":{N(Y.clientX,B.index,X,ne);break}case"rl":{N(Y.clientX,B.index,ne,X);break}case"bt":{N(Y.clientY,B.index,ue,U);break}case"tb":{N(Y.clientY,B.index,U,ue);break}}},K=Y=>{if(Y.button!==0)return;const h=Fr(E["data-melt-id"]),B=H(Y);if(!B||!h)return;const X=Y.target;!Tt(X)||!h.contains(X)||(Y.preventDefault(),m.set(B),B.thumb.focus(),c.set(!0),G(Y))},z=()=>{c.set(!1)},te=Kt(yt(document,"pointerdown",K),yt(document,"pointerup",z),yt(document,"pointerleave",z),yt(document,"pointermove",G));return()=>{te()}}),$t([r,o,i,f],function([V,$,W,y]){const v=N=>jr(N,$,W,V)===N,O=N=>jr(N,$,W,V);y.some(N=>!v(N))&&f.update(N=>N.map(O))}),{elements:{root:k,thumbs:L,range:D,ticks:R},states:{value:f},options:n}},l_={positioning:{placement:"bottom"},arrowSize:8,defaultOpen:!1,closeOnPointerDown:!0,openDelay:1e3,closeDelay:0,forceVisible:!1,portal:void 0,closeOnEscape:!0,disableHoverableContent:!1,group:void 0},{name:Gr}=gr("tooltip"),Ci=new Map,s_=["trigger","content"];function a_(t){const e={...l_,...t},n=jn(vr(e,"open","ids")),{positioning:o,arrowSize:i,closeOnPointerDown:r,openDelay:l,closeDelay:a,forceVisible:s,portal:u,closeOnEscape:f,disableHoverableContent:c,group:d}=n,m=e.open??Ye(e.defaultOpen),p=yr(m,e==null?void 0:e.onOpenChange),_=Ye(null),b=jn({...Bl(s_),...e.ids});let w=!1;const C=v=>Xo?document.getElementById(b[v].get()):null;let k=null,D=null;function L(v){D&&(window.clearTimeout(D),D=null),k||(k=window.setTimeout(()=>{p.set(!0),_.update(O=>O??v),k=null},l.get()))}function R(v){if(k&&(window.clearTimeout(k),k=null),v&&y){_.set("pointer");return}D||(D=window.setTimeout(()=>{p.set(!1),_.set(null),v&&(w=!1),D=null},a.get()))}const E=dn([p,s],([v,O])=>v||O),V=_t(Gr("trigger"),{stores:[b.content,b.trigger,p],returned:([v,O,N])=>({"aria-describedby":v,id:O,"data-state":N?"open":"closed"}),action:v=>{const O=H=>{f.get()&&H.key===at.ESCAPE&&(k&&(window.clearTimeout(k),k=null),p.set(!1))};return{destroy:Kt(At(v,"pointerdown",()=>{r.get()&&(p.set(!1),w=!0,k&&(window.clearTimeout(k),k=null))}),At(v,"pointerenter",H=>{Rs(H)||L("pointer")}),At(v,"pointerleave",H=>{Rs(H)||k&&(window.clearTimeout(k),k=null)}),At(v,"focus",()=>{w||L("focus")}),At(v,"blur",async()=>{await Fl(0),R(!0)}),At(v,"keydown",O),yt(document,"keydown",O))}}}),$=_t(Gr("content"),{stores:[E,p,u,b.content],returned:([v,O,N,H])=>({role:"tooltip",hidden:v?void 0:!0,tabindex:-1,style:vn({display:v?void 0:"none"}),id:H,"data-portal":bc(N),"data-state":O?"open":"closed"}),action:v=>{let O=Qe,N=Qe;const H=$t([E,o,u],([z,te,Y])=>{const h=C("trigger");if(!z||!h){N(),O();return}if(O=vh(h,v,te).destroy,Y===null){N();return}const X=kc(v,Y);if(X){const ne=jc(v,X);ne&&ne.destroy&&(N=ne.destroy)}});function G(z){if(!p.get())return;const te=z.target;if(!br(te)&&!ap(te))return;const Y=C("trigger");Y&&te.contains(Y)&&R()}const K=Kt(At(v,"pointerenter",()=>L("pointer")),At(v,"pointerdown",()=>L("pointer")),yt(window,"scroll",G,{capture:!0}));return{destroy(){K(),N(),O(),H()}}}}),W=_t(Gr("arrow"),{stores:i,returned:v=>({"data-arrow":!0,style:vn({position:"absolute",width:`var(--arrow-size, ${v}px)`,height:`var(--arrow-size, ${v}px)`})})});let y=!1;return $t(p,v=>{const O=d.get();if(O===void 0||O===!1)return;if(!v){Ci.get(O)===p&&Ci.delete(O);return}const N=Ci.get(O);N==null||N.set(!1),Ci.set(O,p)}),$t([p,_],([v,O])=>{if(!(!v||!Xo))return Kt(yt(document,"mousemove",N=>{const H=C("content"),G=C("trigger");if(!H||!G)return;const K=c.get()?[G]:[G,H],z=Sp(K);y=Tp({x:N.clientX,y:N.clientY},z),O==="pointer"&&(y||R())}))}),{ids:b,elements:{trigger:V,content:$,arrow:W},states:{open:p},options:n}}function Un(t,e){const n={};return e.forEach(o=>{n[o]={[`data-${t}-${o}`]:""}}),o=>n[o]}function Kn(){const t=em();return e=>{const{originalEvent:n}=e.detail,{cancelable:o}=e,i=n.type;t(i,{originalEvent:n,currentTarget:n.currentTarget},{cancelable:o})||e.preventDefault()}}function So(t){const e={};for(const n in t){const o=t[n];o!==void 0&&(e[n]=o)}return e}function Vn(t){return function(e,n){if(n===void 0)return;const o=t[e];o&&o.set(n)}}function Vc(){return{NAME:"alert-dialog",PARTS:["action","cancel","content","description","overlay","portal","title","trigger"]}}function u_(t){const{NAME:e,PARTS:n}=Vc(),o=Un(e,n),i=Gc({...So(t),role:"alertdialog",forceVisible:!0}),r={...i,getAttrs:o,updateOption:Vn(i.options)};return pr(e,r),{...r,updateOption:Vn(r.options),getAttrs:o}}function Xn(){const{NAME:t}=Vc();return hr(t)}const f_=t=>({ids:t&1}),Js=t=>({ids:t[0]});function c_(t){let e;const n=t[12].default,o=me(n,t,t[11],Js);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,[r]){o&&o.p&&(!e||r&2049)&&he(o,n,i,i[11],e?pe(n,i[11],r,f_):_e(i[11]),Js)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function d_(t,e,n){let o,{$$slots:i={},$$scope:r}=e,{preventScroll:l=void 0}=e,{closeOnEscape:a=void 0}=e,{closeOnOutsideClick:s=!1}=e,{portal:u=void 0}=e,{open:f=void 0}=e,{onOpenChange:c=void 0}=e,{openFocus:d=void 0}=e,{closeFocus:m=void 0}=e,{onOutsideClick:p=void 0}=e;const{states:{open:_},updateOption:b,ids:w}=u_({closeOnEscape:a,preventScroll:l,closeOnOutsideClick:s,portal:u,forceVisible:!0,defaultOpen:f,openFocus:d,closeFocus:m,onOutsideClick:p,onOpenChange:({next:k})=>(f!==k&&(c==null||c(k),n(2,f=k)),k)}),C=dn([w.content,w.description,w.title],([k,D,L])=>({content:k,description:D,title:L}));return ae(t,C,k=>n(0,o=k)),t.$$set=k=>{"preventScroll"in k&&n(3,l=k.preventScroll),"closeOnEscape"in k&&n(4,a=k.closeOnEscape),"closeOnOutsideClick"in k&&n(5,s=k.closeOnOutsideClick),"portal"in k&&n(6,u=k.portal),"open"in k&&n(2,f=k.open),"onOpenChange"in k&&n(7,c=k.onOpenChange),"openFocus"in k&&n(8,d=k.openFocus),"closeFocus"in k&&n(9,m=k.closeFocus),"onOutsideClick"in k&&n(10,p=k.onOutsideClick),"$$scope"in k&&n(11,r=k.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&f!==void 0&&_.set(f),t.$$.dirty&8&&b("preventScroll",l),t.$$.dirty&16&&b("closeOnEscape",a),t.$$.dirty&32&&b("closeOnOutsideClick",s),t.$$.dirty&64&&b("portal",u),t.$$.dirty&256&&b("openFocus",d),t.$$.dirty&512&&b("closeFocus",m),t.$$.dirty&1024&&b("onOutsideClick",p)},[o,C,f,l,a,s,u,c,d,m,p,r,i]}class m_ extends be{constructor(e){super(),ge(this,e,d_,c_,ce,{preventScroll:3,closeOnEscape:4,closeOnOutsideClick:5,portal:6,open:2,onOpenChange:7,openFocus:8,closeFocus:9,onOutsideClick:10})}}const p_=t=>({builder:t&8}),xs=t=>({builder:t[3]}),h_=t=>({builder:t&8}),Zs=t=>({builder:t[3]});function __(t){let e=t[1],n,o,i=t[1]&&Vr(t);return{c(){i&&i.c(),n=Re()},m(r,l){i&&i.m(r,l),M(r,n,l),o=!0},p(r,l){r[1]?e?ce(e,r[1])?(i.d(1),i=Vr(r),e=r[1],i.c(),i.m(n.parentNode,n)):i.p(r,l):(i=Vr(r),e=r[1],i.c(),i.m(n.parentNode,n)):e&&(i.d(1),i=null,e=r[1])},i(r){o||(A(i,r),o=!0)},o(r){S(i,r),o=!1},d(r){r&&T(n),i&&i.d(r)}}}function g_(t){let e;const n=t[9].default,o=me(n,t,t[8],Zs);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&264)&&he(o,n,i,i[8],e?pe(n,i[8],r,h_):_e(i[8]),Zs)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Vr(t){let e,n,o,i;const r=t[9].default,l=me(r,t,t[8],xs);let a=[t[3],t[5]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=I(t[1]),l&&l.c(),yn(t[1])(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[10](e),n=!0,o||(i=Fe(t[3].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&264)&&he(l,r,u,u[8],n?pe(r,u[8],f,p_):_e(u[8]),xs),yn(u[1])(e,s=ye(a,[f&8&&u[3],f&32&&u[5]]))},i(u){n||(A(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[10](null),o=!1,i()}}}function b_(t){let e,n,o,i;const r=[g_,__],l=[];function a(s,u){return s[2]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function v_(t,e,n){let o;const i=["level","asChild","id","el"];let r=le(e,i),l,{$$slots:a={},$$scope:s}=e,{level:u="h2"}=e,{asChild:f=!1}=e,{id:c=void 0}=e,{el:d=void 0}=e;const{elements:{title:m},ids:p,getAttrs:_}=Xn();ae(t,m,C=>n(7,l=C));const b=_("title");function w(C){Ne[C?"unshift":"push"](()=>{d=C,n(0,d)})}return t.$$set=C=>{e=Q(Q({},e),$e(C)),n(5,r=le(e,i)),"level"in C&&n(1,u=C.level),"asChild"in C&&n(2,f=C.asChild),"id"in C&&n(6,c=C.id),"el"in C&&n(0,d=C.el),"$$scope"in C&&n(8,s=C.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&c&&p.title.set(c),t.$$.dirty&128&&n(3,o=l),t.$$.dirty&8&&Object.assign(o,b)},[d,u,f,o,m,r,c,l,s,a,w]}let y_=class extends be{constructor(e){super(),ge(this,e,v_,b_,ce,{level:1,asChild:2,id:6,el:0})}};const w_=t=>({builder:t&4}),Qs=t=>({builder:t[2]}),k_=t=>({builder:t&4}),zs=t=>({builder:t[2]});function C_(t){let e,n,o,i;const r=t[8].default,l=me(r,t,t[7],Qs);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=I("button"),l&&l.c(),se(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[9](e),n=!0,o||(i=[Fe(t[2].action(e)),ee(e,"m-click",t[4]),ee(e,"m-keydown",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&he(l,r,u,u[7],n?pe(r,u[7],f,w_):_e(u[7]),Qs),se(e,s=ye(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(A(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[9](null),o=!1,Le(i)}}}function A_(t){let e;const n=t[8].default,o=me(n,t,t[7],zs);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&he(o,n,i,i[7],e?pe(n,i[7],r,k_):_e(i[7]),zs)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function S_(t){let e,n,o,i;const r=[A_,C_],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function T_(t,e,n){let o;const i=["asChild","el"];let r=le(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:d}=Xn();ae(t,c,b=>n(6,l=b));const m=Kn(),p=d("action");function _(b){Ne[b?"unshift":"push"](()=>{f=b,n(0,f)})}return t.$$set=b=>{e=Q(Q({},e),$e(b)),n(5,r=le(e,i)),"asChild"in b&&n(1,u=b.asChild),"el"in b&&n(0,f=b.el),"$$scope"in b&&n(7,s=b.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,p)},[f,u,o,c,m,r,l,s,a,_]}let M_=class extends be{constructor(e){super(),ge(this,e,T_,S_,ce,{asChild:1,el:0})}};const I_=t=>({builder:t&4}),ea=t=>({builder:t[2]}),O_=t=>({builder:t&4}),ta=t=>({builder:t[2]});function P_(t){let e,n,o,i;const r=t[8].default,l=me(r,t,t[7],ea);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=I("button"),l&&l.c(),se(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[9](e),n=!0,o||(i=[Fe(t[2].action(e)),ee(e,"m-click",t[4]),ee(e,"m-keydown",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&he(l,r,u,u[7],n?pe(r,u[7],f,I_):_e(u[7]),ea),se(e,s=ye(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(A(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[9](null),o=!1,Le(i)}}}function N_(t){let e;const n=t[8].default,o=me(n,t,t[7],ta);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&he(o,n,i,i[7],e?pe(n,i[7],r,O_):_e(i[7]),ta)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function E_(t){let e,n,o,i;const r=[N_,P_],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function $_(t,e,n){let o;const i=["asChild","el"];let r=le(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:d}=Xn();ae(t,c,b=>n(6,l=b));const m=Kn(),p=d("cancel");function _(b){Ne[b?"unshift":"push"](()=>{f=b,n(0,f)})}return t.$$set=b=>{e=Q(Q({},e),$e(b)),n(5,r=le(e,i)),"asChild"in b&&n(1,u=b.asChild),"el"in b&&n(0,f=b.el),"$$scope"in b&&n(7,s=b.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,p)},[f,u,o,c,m,r,l,s,a,_]}let R_=class extends be{constructor(e){super(),ge(this,e,$_,E_,ce,{asChild:1,el:0})}};const D_=t=>({builder:t&4}),na=t=>({builder:t[2]}),L_=t=>({builder:t&4}),oa=t=>({builder:t[2]});function F_(t){let e,n,o,i;const r=t[7].default,l=me(r,t,t[6],na);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=I("div"),l&&l.c(),se(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[8](e),n=!0,o||(i=Fe(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&68)&&he(l,r,u,u[6],n?pe(r,u[6],f,D_):_e(u[6]),na),se(e,s=ye(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(A(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[8](null),o=!1,i()}}}function B_(t){let e;const n=t[7].default,o=me(n,t,t[6],oa);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&68)&&he(o,n,i,i[6],e?pe(n,i[6],r,L_):_e(i[6]),oa)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function j_(t){let e,n,o,i;const r=[B_,F_],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function q_(t,e,n){let o;const i=["asChild","el"];let r=le(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{portalled:c},getAttrs:d}=Xn();ae(t,c,_=>n(5,l=_));const m=d("portal");function p(_){Ne[_?"unshift":"push"](()=>{f=_,n(0,f)})}return t.$$set=_=>{e=Q(Q({},e),$e(_)),n(4,r=le(e,i)),"asChild"in _&&n(1,u=_.asChild),"el"in _&&n(0,f=_.el),"$$scope"in _&&n(6,s=_.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,m)},[f,u,o,c,r,l,s,a,p]}let G_=class extends be{constructor(e){super(),ge(this,e,q_,j_,ce,{asChild:1,el:0})}};const V_=t=>({builder:t[0]&256}),ia=t=>({builder:t[8]}),H_=t=>({builder:t[0]&256}),ra=t=>({builder:t[8]}),W_=t=>({builder:t[0]&256}),la=t=>({builder:t[8]}),Y_=t=>({builder:t[0]&256}),sa=t=>({builder:t[8]}),U_=t=>({builder:t[0]&256}),aa=t=>({builder:t[8]}),K_=t=>({builder:t[0]&256}),ua=t=>({builder:t[8]});function X_(t){let e,n,o,i;const r=t[16].default,l=me(r,t,t[15],ia);let a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=I("div"),l&&l.c(),se(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[56](e),n=!0,o||(i=[Fe(t[8].action(e)),ee(e,"pointerdown",t[45]),ee(e,"pointermove",t[46]),ee(e,"pointerup",t[47]),ee(e,"touchend",t[48]),ee(e,"touchstart",t[49]),ee(e,"touchcancel",t[50]),ee(e,"touchmove",t[51])],o=!0)},p(u,f){l&&l.p&&(!n||f[0]&33024)&&he(l,r,u,u[15],n?pe(r,u[15],f,V_):_e(u[15]),ia),se(e,s=ye(a,[f[0]&256&&u[8],f[0]&4096&&u[12]]))},i(u){n||(A(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[56](null),o=!1,Le(i)}}}function J_(t){let e,n,o,i,r;const l=t[16].default,a=me(l,t,t[15],ra);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=I("div"),a&&a.c(),se(e,u)},m(f,c){M(f,e,c),a&&a.m(e,null),t[55](e),o=!0,i||(r=[Fe(t[8].action(e)),ee(e,"pointerdown",t[38]),ee(e,"pointermove",t[39]),ee(e,"pointerup",t[40]),ee(e,"touchend",t[41]),ee(e,"touchstart",t[42]),ee(e,"touchcancel",t[43]),ee(e,"touchmove",t[44])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&he(a,l,t,t[15],o?pe(l,t[15],c,H_):_e(t[15]),ra),se(e,u=ye(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(A(a,f),n&&n.end(1),o=!0)},o(f){S(a,f),f&&(n=zt(e,t[5],t[6])),o=!1},d(f){f&&T(e),a&&a.d(f),t[55](null),f&&n&&n.end(),i=!1,Le(r)}}}function x_(t){let e,n,o,i,r;const l=t[16].default,a=me(l,t,t[15],la);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=I("div"),a&&a.c(),se(e,u)},m(f,c){M(f,e,c),a&&a.m(e,null),t[54](e),o=!0,i||(r=[Fe(t[8].action(e)),ee(e,"pointerdown",t[31]),ee(e,"pointermove",t[32]),ee(e,"pointerup",t[33]),ee(e,"touchend",t[34]),ee(e,"touchstart",t[35]),ee(e,"touchcancel",t[36]),ee(e,"touchmove",t[37])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&he(a,l,t,t[15],o?pe(l,t[15],c,W_):_e(t[15]),la),se(e,u=ye(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(A(a,f),f&&(n||it(()=>{n=Qt(e,t[3],t[4]),n.start()})),o=!0)},o(f){S(a,f),o=!1},d(f){f&&T(e),a&&a.d(f),t[54](null),i=!1,Le(r)}}}function Z_(t){let e,n,o,i,r,l;const a=t[16].default,s=me(a,t,t[15],sa);let u=[t[8],t[12]],f={};for(let c=0;c<u.length;c+=1)f=Q(f,u[c]);return{c(){e=I("div"),s&&s.c(),se(e,f)},m(c,d){M(c,e,d),s&&s.m(e,null),t[53](e),i=!0,r||(l=[Fe(t[8].action(e)),ee(e,"pointerdown",t[24]),ee(e,"pointermove",t[25]),ee(e,"pointerup",t[26]),ee(e,"touchend",t[27]),ee(e,"touchstart",t[28]),ee(e,"touchcancel",t[29]),ee(e,"touchmove",t[30])],r=!0)},p(c,d){t=c,s&&s.p&&(!i||d[0]&33024)&&he(s,a,t,t[15],i?pe(a,t[15],d,Y_):_e(t[15]),sa),se(e,f=ye(u,[d[0]&256&&t[8],d[0]&4096&&t[12]]))},i(c){i||(A(s,c),c&&it(()=>{i&&(o&&o.end(1),n=Qt(e,t[3],t[4]),n.start())}),i=!0)},o(c){S(s,c),n&&n.invalidate(),c&&(o=zt(e,t[5],t[6])),i=!1},d(c){c&&T(e),s&&s.d(c),t[53](null),c&&o&&o.end(),r=!1,Le(l)}}}function Q_(t){let e,n,o,i,r;const l=t[16].default,a=me(l,t,t[15],aa);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=I("div"),a&&a.c(),se(e,u)},m(f,c){M(f,e,c),a&&a.m(e,null),t[52](e),o=!0,i||(r=[Fe(t[8].action(e)),ee(e,"pointerdown",t[17]),ee(e,"pointermove",t[18]),ee(e,"pointerup",t[19]),ee(e,"touchend",t[20]),ee(e,"touchstart",t[21]),ee(e,"touchcancel",t[22]),ee(e,"touchmove",t[23])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&he(a,l,t,t[15],o?pe(l,t[15],c,U_):_e(t[15]),aa),se(e,u=ye(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(A(a,f),f&&it(()=>{o&&(n||(n=Jt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(f){S(a,f),f&&(n||(n=Jt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(f){f&&T(e),a&&a.d(f),t[52](null),f&&n&&n.end(),i=!1,Le(r)}}}function z_(t){let e;const n=t[16].default,o=me(n,t,t[15],ua);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r[0]&33024)&&he(o,n,i,i[15],e?pe(n,i[15],r,K_):_e(i[15]),ua)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function e0(t){let e,n,o,i;const r=[z_,Q_,Z_,x_,J_,X_],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=Re()},m(s,u){~e&&l[e].m(s,u),M(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),~e&&l[e].d(s)}}}function t0(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","id","asChild","el"];let r=le(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:p=void 0}=e,{outTransitionConfig:_=void 0}=e,{id:b=void 0}=e,{asChild:w=!1}=e,{el:C=void 0}=e;const{elements:{content:k},states:{open:D},ids:L,getAttrs:R}=Xn();ae(t,k,q=>n(14,l=q)),ae(t,D,q=>n(9,a=q));const E=R("content");function V(q){oe.call(this,t,q)}function $(q){oe.call(this,t,q)}function W(q){oe.call(this,t,q)}function y(q){oe.call(this,t,q)}function v(q){oe.call(this,t,q)}function O(q){oe.call(this,t,q)}function N(q){oe.call(this,t,q)}function H(q){oe.call(this,t,q)}function G(q){oe.call(this,t,q)}function K(q){oe.call(this,t,q)}function z(q){oe.call(this,t,q)}function te(q){oe.call(this,t,q)}function Y(q){oe.call(this,t,q)}function h(q){oe.call(this,t,q)}function B(q){oe.call(this,t,q)}function X(q){oe.call(this,t,q)}function ne(q){oe.call(this,t,q)}function U(q){oe.call(this,t,q)}function ue(q){oe.call(this,t,q)}function we(q){oe.call(this,t,q)}function Ce(q){oe.call(this,t,q)}function Ke(q){oe.call(this,t,q)}function Ve(q){oe.call(this,t,q)}function et(q){oe.call(this,t,q)}function fe(q){oe.call(this,t,q)}function Ee(q){oe.call(this,t,q)}function Ge(q){oe.call(this,t,q)}function Be(q){oe.call(this,t,q)}function Xe(q){oe.call(this,t,q)}function Ae(q){oe.call(this,t,q)}function Se(q){oe.call(this,t,q)}function kt(q){oe.call(this,t,q)}function Lt(q){oe.call(this,t,q)}function ft(q){oe.call(this,t,q)}function Ft(q){oe.call(this,t,q)}function ct(q){Ne[q?"unshift":"push"](()=>{C=q,n(0,C)})}function pt(q){Ne[q?"unshift":"push"](()=>{C=q,n(0,C)})}function ot(q){Ne[q?"unshift":"push"](()=>{C=q,n(0,C)})}function de(q){Ne[q?"unshift":"push"](()=>{C=q,n(0,C)})}function We(q){Ne[q?"unshift":"push"](()=>{C=q,n(0,C)})}return t.$$set=q=>{e=Q(Q({},e),$e(q)),n(12,r=le(e,i)),"transition"in q&&n(1,f=q.transition),"transitionConfig"in q&&n(2,c=q.transitionConfig),"inTransition"in q&&n(3,d=q.inTransition),"inTransitionConfig"in q&&n(4,m=q.inTransitionConfig),"outTransition"in q&&n(5,p=q.outTransition),"outTransitionConfig"in q&&n(6,_=q.outTransitionConfig),"id"in q&&n(13,b=q.id),"asChild"in q&&n(7,w=q.asChild),"el"in q&&n(0,C=q.el),"$$scope"in q&&n(15,u=q.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&8192&&b&&L.content.set(b),t.$$.dirty[0]&16384&&n(8,o=l),t.$$.dirty[0]&256&&Object.assign(o,E)},[C,f,c,d,m,p,_,w,o,a,k,D,r,b,l,u,s,V,$,W,y,v,O,N,H,G,K,z,te,Y,h,B,X,ne,U,ue,we,Ce,Ke,Ve,et,fe,Ee,Ge,Be,Xe,Ae,Se,kt,Lt,ft,Ft,ct,pt,ot,de,We]}let n0=class extends be{constructor(e){super(),ge(this,e,t0,e0,ce,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,id:13,asChild:7,el:0},null,[-1,-1])}};const o0=t=>({builder:t&256}),fa=t=>({builder:t[8]});function i0(t){let e,n,o,i=[t[8],t[12]],r={};for(let l=0;l<i.length;l+=1)r=Q(r,i[l]);return{c(){e=I("div"),se(e,r)},m(l,a){M(l,e,a),t[20](e),n||(o=Fe(t[8].action(e)),n=!0)},p(l,a){se(e,r=ye(i,[a&256&&l[8],a&4096&&l[12]]))},i:ke,o:ke,d(l){l&&T(e),t[20](null),n=!1,o()}}}function r0(t){let e,n,o,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=Q(a,l[s]);return{c(){e=I("div"),se(e,a)},m(s,u){M(s,e,u),t[19](e),o=!0,i||(r=Fe(t[8].action(e)),i=!0)},p(s,u){t=s,se(e,a=ye(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(n&&n.end(1),o=!0)},o(s){s&&(n=zt(e,t[5],t[6])),o=!1},d(s){s&&T(e),t[19](null),s&&n&&n.end(),i=!1,r()}}}function l0(t){let e,n,o,i,r=[t[8],t[12]],l={};for(let a=0;a<r.length;a+=1)l=Q(l,r[a]);return{c(){e=I("div"),se(e,l)},m(a,s){M(a,e,s),t[18](e),o||(i=Fe(t[8].action(e)),o=!0)},p(a,s){t=a,se(e,l=ye(r,[s&256&&t[8],s&4096&&t[12]]))},i(a){a&&(n||it(()=>{n=Qt(e,t[3],t[4]),n.start()}))},o:ke,d(a){a&&T(e),t[18](null),o=!1,i()}}}function s0(t){let e,n,o,i,r,l,a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=I("div"),se(e,s)},m(u,f){M(u,e,f),t[17](e),i=!0,r||(l=Fe(t[8].action(e)),r=!0)},p(u,f){t=u,se(e,s=ye(a,[f&256&&t[8],f&4096&&t[12]]))},i(u){i||(u&&it(()=>{i&&(o&&o.end(1),n=Qt(e,t[3],t[4]),n.start())}),i=!0)},o(u){n&&n.invalidate(),u&&(o=zt(e,t[5],t[6])),i=!1},d(u){u&&T(e),t[17](null),u&&o&&o.end(),r=!1,l()}}}function a0(t){let e,n,o,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=Q(a,l[s]);return{c(){e=I("div"),se(e,a)},m(s,u){M(s,e,u),t[16](e),o=!0,i||(r=Fe(t[8].action(e)),i=!0)},p(s,u){t=s,se(e,a=ye(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(s&&it(()=>{o&&(n||(n=Jt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(s){s&&(n||(n=Jt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(s){s&&T(e),t[16](null),s&&n&&n.end(),i=!1,r()}}}function u0(t){let e;const n=t[15].default,o=me(n,t,t[14],fa);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&16640)&&he(o,n,i,i[14],e?pe(n,i[14],r,o0):_e(i[14]),fa)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function f0(t){let e,n,o,i;const r=[u0,a0,s0,l0,r0,i0],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=Re()},m(s,u){~e&&l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),~e&&l[e].d(s)}}}function c0(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","el"];let r=le(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:p=void 0}=e,{outTransitionConfig:_=void 0}=e,{asChild:b=!1}=e,{el:w=void 0}=e;const{elements:{overlay:C},states:{open:k},getAttrs:D}=Xn();ae(t,C,y=>n(13,l=y)),ae(t,k,y=>n(9,a=y));const L=D("overlay");function R(y){Ne[y?"unshift":"push"](()=>{w=y,n(0,w)})}function E(y){Ne[y?"unshift":"push"](()=>{w=y,n(0,w)})}function V(y){Ne[y?"unshift":"push"](()=>{w=y,n(0,w)})}function $(y){Ne[y?"unshift":"push"](()=>{w=y,n(0,w)})}function W(y){Ne[y?"unshift":"push"](()=>{w=y,n(0,w)})}return t.$$set=y=>{e=Q(Q({},e),$e(y)),n(12,r=le(e,i)),"transition"in y&&n(1,f=y.transition),"transitionConfig"in y&&n(2,c=y.transitionConfig),"inTransition"in y&&n(3,d=y.inTransition),"inTransitionConfig"in y&&n(4,m=y.inTransitionConfig),"outTransition"in y&&n(5,p=y.outTransition),"outTransitionConfig"in y&&n(6,_=y.outTransitionConfig),"asChild"in y&&n(7,b=y.asChild),"el"in y&&n(0,w=y.el),"$$scope"in y&&n(14,u=y.$$scope)},t.$$.update=()=>{t.$$.dirty&8192&&n(8,o=l),t.$$.dirty&256&&Object.assign(o,L)},[w,f,c,d,m,p,_,b,o,a,C,k,r,l,u,s,R,E,V,$,W]}let d0=class extends be{constructor(e){super(),ge(this,e,c0,f0,ce,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,el:0})}};const m0=t=>({builder:t&4}),ca=t=>({builder:t[2]}),p0=t=>({builder:t&4}),da=t=>({builder:t[2]});function h0(t){let e,n,o,i;const r=t[8].default,l=me(r,t,t[7],ca);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=I("div"),l&&l.c(),se(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[9](e),n=!0,o||(i=Fe(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&he(l,r,u,u[7],n?pe(r,u[7],f,m0):_e(u[7]),ca),se(e,s=ye(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(A(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[9](null),o=!1,i()}}}function _0(t){let e;const n=t[8].default,o=me(n,t,t[7],da);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&he(o,n,i,i[7],e?pe(n,i[7],r,p0):_e(i[7]),da)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function g0(t){let e,n,o,i;const r=[_0,h0],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function b0(t,e,n){let o;const i=["asChild","id","el"];let r=le(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{description:d},ids:m,getAttrs:p}=Xn();ae(t,d,w=>n(6,l=w));const _=p("description");function b(w){Ne[w?"unshift":"push"](()=>{c=w,n(0,c)})}return t.$$set=w=>{e=Q(Q({},e),$e(w)),n(4,r=le(e,i)),"asChild"in w&&n(1,u=w.asChild),"id"in w&&n(5,f=w.id),"el"in w&&n(0,c=w.el),"$$scope"in w&&n(7,s=w.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f&&m.description.set(f),t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,_)},[c,u,o,d,r,f,l,s,a,b]}let v0=class extends be{constructor(e){super(),ge(this,e,b0,g0,ce,{asChild:1,id:5,el:0})}};function y0(t,e){const n=[];return e.builders.forEach(o=>{const i=o.action(t);i&&n.push(i)}),{destroy:()=>{n.forEach(o=>{o.destroy&&o.destroy()})}}}function ma(t){const e={};return t.forEach(n=>{Object.keys(n).forEach(o=>{o!=="action"&&(e[o]=n[o])})}),e}function w0(t){let e=t[1]?"a":"button",n,o,i=(t[1]?"a":"button")&&Hr(t);return{c(){i&&i.c(),n=Re()},m(r,l){i&&i.m(r,l),M(r,n,l),o=!0},p(r,l){r[1],e?ce(e,r[1]?"a":"button")?(i.d(1),i=Hr(r),e=r[1]?"a":"button",i.c(),i.m(n.parentNode,n)):i.p(r,l):(i=Hr(r),e=r[1]?"a":"button",i.c(),i.m(n.parentNode,n))},i(r){o||(A(i,r),o=!0)},o(r){S(i,r),o=!1},d(r){r&&T(n),i&&i.d(r)}}}function k0(t){let e=t[1]?"a":"button",n,o,i=(t[1]?"a":"button")&&Wr(t);return{c(){i&&i.c(),n=Re()},m(r,l){i&&i.m(r,l),M(r,n,l),o=!0},p(r,l){r[1],e?ce(e,r[1]?"a":"button")?(i.d(1),i=Wr(r),e=r[1]?"a":"button",i.c(),i.m(n.parentNode,n)):i.p(r,l):(i=Wr(r),e=r[1]?"a":"button",i.c(),i.m(n.parentNode,n))},i(r){o||(A(i,r),o=!0)},o(r){S(i,r),o=!1},d(r){r&&T(n),i&&i.d(r)}}}function Hr(t){let e,n,o,i,r;const l=t[7].default,a=me(l,t,t[6],null);let s=[{type:n=t[1]?void 0:t[2]},{href:t[1]},{tabindex:"0"},t[5],t[4]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=I(t[1]?"a":"button"),a&&a.c(),yn(t[1]?"a":"button")(e,u)},m(f,c){M(f,e,c),a&&a.m(e,null),o=!0,i||(r=[ee(e,"click",t[14]),ee(e,"change",t[15]),ee(e,"keydown",t[16]),ee(e,"keyup",t[17]),ee(e,"mouseenter",t[18]),ee(e,"mouseleave",t[19])],i=!0)},p(f,c){a&&a.p&&(!o||c&64)&&he(a,l,f,f[6],o?pe(l,f[6],c,null):_e(f[6]),null),yn(f[1]?"a":"button")(e,u=ye(s,[(!o||c&6&&n!==(n=f[1]?void 0:f[2]))&&{type:n},(!o||c&2)&&{href:f[1]},{tabindex:"0"},c&32&&f[5],f[4]]))},i(f){o||(A(a,f),o=!0)},o(f){S(a,f),o=!1},d(f){f&&T(e),a&&a.d(f),i=!1,Le(r)}}}function Wr(t){let e,n,o,i,r,l;const a=t[7].default,s=me(a,t,t[6],null);let u=[{type:n=t[1]?void 0:t[2]},{href:t[1]},{tabindex:"0"},ma(t[3]),t[5],t[4]],f={};for(let c=0;c<u.length;c+=1)f=Q(f,u[c]);return{c(){e=I(t[1]?"a":"button"),s&&s.c(),yn(t[1]?"a":"button")(e,f)},m(c,d){M(c,e,d),s&&s.m(e,null),t[20](e),i=!0,r||(l=[ee(e,"click",t[8]),ee(e,"change",t[9]),ee(e,"keydown",t[10]),ee(e,"keyup",t[11]),ee(e,"mouseenter",t[12]),ee(e,"mouseleave",t[13]),Fe(o=y0.call(null,e,{builders:t[3]}))],r=!0)},p(c,d){s&&s.p&&(!i||d&64)&&he(s,a,c,c[6],i?pe(a,c[6],d,null):_e(c[6]),null),yn(c[1]?"a":"button")(e,f=ye(u,[(!i||d&6&&n!==(n=c[1]?void 0:c[2]))&&{type:n},(!i||d&2)&&{href:c[1]},{tabindex:"0"},d&8&&ma(c[3]),d&32&&c[5],c[4]])),o&&cn(o.update)&&d&8&&o.update.call(null,{builders:c[3]})},i(c){i||(A(s,c),i=!0)},o(c){S(s,c),i=!1},d(c){c&&T(e),s&&s.d(c),t[20](null),r=!1,Le(l)}}}function C0(t){let e,n,o,i;const r=[k0,w0],l=[];function a(s,u){return s[3]&&s[3].length?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function A0(t,e,n){const o=["href","type","builders","el"];let i=le(e,o),{$$slots:r={},$$scope:l}=e,{href:a=void 0}=e,{type:s=void 0}=e,{builders:u=[]}=e,{el:f=void 0}=e;const c={"data-button-root":""};function d($){oe.call(this,t,$)}function m($){oe.call(this,t,$)}function p($){oe.call(this,t,$)}function _($){oe.call(this,t,$)}function b($){oe.call(this,t,$)}function w($){oe.call(this,t,$)}function C($){oe.call(this,t,$)}function k($){oe.call(this,t,$)}function D($){oe.call(this,t,$)}function L($){oe.call(this,t,$)}function R($){oe.call(this,t,$)}function E($){oe.call(this,t,$)}function V($){Ne[$?"unshift":"push"](()=>{f=$,n(0,f)})}return t.$$set=$=>{e=Q(Q({},e),$e($)),n(5,i=le(e,o)),"href"in $&&n(1,a=$.href),"type"in $&&n(2,s=$.type),"builders"in $&&n(3,u=$.builders),"el"in $&&n(0,f=$.el),"$$scope"in $&&n(6,l=$.$$scope)},[f,a,s,u,c,i,l,r,d,m,p,_,b,w,C,k,D,L,R,E,V]}let S0=class extends be{constructor(e){super(),ge(this,e,A0,C0,ce,{href:1,type:2,builders:3,el:0})}};function T0(t){return(e={})=>M0(t,e)}function M0(t,e){const o={...{side:"bottom",align:"center",sideOffset:0,alignOffset:0,sameWidth:!1,avoidCollisions:!0,collisionPadding:8,fitViewport:!1,strategy:"absolute",overlap:!1},...e};t.update(i=>({...i,placement:I0(o.side,o.align),offset:{...i.offset,mainAxis:o.sideOffset,crossAxis:o.alignOffset},gutter:0,sameWidth:o.sameWidth,flip:o.avoidCollisions,overflowPadding:o.collisionPadding,boundary:o.collisionBoundary,fitViewport:o.fitViewport,strategy:o.strategy,overlap:o.overlap}))}function I0(t,e){return e==="center"?t:`${t}-${e}`}function O0(){return{NAME:"separator",PARTS:["root"]}}function P0(t){const{NAME:e,PARTS:n}=O0(),o=Un(e,n),i={...o_(So(t)),getAttrs:o};return{...i,updateOption:Vn(i.options)}}const N0=t=>({builder:t&4}),pa=t=>({builder:t[2]});function E0(t){let e,n,o,i=[t[2],t[4]],r={};for(let l=0;l<i.length;l+=1)r=Q(r,i[l]);return{c(){e=I("div"),se(e,r)},m(l,a){M(l,e,a),t[10](e),n||(o=Fe(t[2].action(e)),n=!0)},p(l,a){se(e,r=ye(i,[a&4&&l[2],a&16&&l[4]]))},i:ke,o:ke,d(l){l&&T(e),t[10](null),n=!1,o()}}}function $0(t){let e;const n=t[9].default,o=me(n,t,t[8],pa);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&260)&&he(o,n,i,i[8],e?pe(n,i[8],r,N0):_e(i[8]),pa)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function R0(t){let e,n,o,i;const r=[$0,E0],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function D0(t,e,n){let o;const i=["orientation","decorative","asChild","el"];let r=le(e,i),l,{$$slots:a={},$$scope:s}=e,{orientation:u="horizontal"}=e,{decorative:f=!0}=e,{asChild:c=!1}=e,{el:d=void 0}=e;const{elements:{root:m},updateOption:p,getAttrs:_}=P0({orientation:u,decorative:f});ae(t,m,C=>n(7,l=C));const b=_("root");function w(C){Ne[C?"unshift":"push"](()=>{d=C,n(0,d)})}return t.$$set=C=>{e=Q(Q({},e),$e(C)),n(4,r=le(e,i)),"orientation"in C&&n(5,u=C.orientation),"decorative"in C&&n(6,f=C.decorative),"asChild"in C&&n(1,c=C.asChild),"el"in C&&n(0,d=C.el),"$$scope"in C&&n(8,s=C.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&p("orientation",u),t.$$.dirty&64&&p("decorative",f),t.$$.dirty&128&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,b)},[d,c,o,m,r,u,f,l,s,a,w]}let L0=class extends be{constructor(e){super(),ge(this,e,D0,R0,ce,{orientation:5,decorative:6,asChild:1,el:0})}};function Hc(){return{NAME:"dialog",PARTS:["close","content","description","overlay","portal","title","trigger"]}}function F0(t){const{NAME:e,PARTS:n}=Hc(),o=Un(e,n),i={...Gc({...So(t),role:"dialog",forceVisible:!0}),getAttrs:o};return pr(e,i),{...i,updateOption:Vn(i.options)}}function To(){const{NAME:t}=Hc();return hr(t)}const B0=t=>({ids:t&1}),ha=t=>({ids:t[0]});function j0(t){let e;const n=t[12].default,o=me(n,t,t[11],ha);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,[r]){o&&o.p&&(!e||r&2049)&&he(o,n,i,i[11],e?pe(n,i[11],r,B0):_e(i[11]),ha)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function q0(t,e,n){let o,{$$slots:i={},$$scope:r}=e,{preventScroll:l=void 0}=e,{closeOnEscape:a=void 0}=e,{closeOnOutsideClick:s=void 0}=e,{portal:u=void 0}=e,{open:f=void 0}=e,{onOpenChange:c=void 0}=e,{openFocus:d=void 0}=e,{closeFocus:m=void 0}=e,{onOutsideClick:p=void 0}=e;const{states:{open:_},updateOption:b,ids:w}=F0({closeOnEscape:a,preventScroll:l,closeOnOutsideClick:s,portal:u,forceVisible:!0,defaultOpen:f,openFocus:d,closeFocus:m,onOutsideClick:p,onOpenChange:({next:k})=>(f!==k&&(c==null||c(k),n(2,f=k)),k)}),C=dn([w.content,w.description,w.title],([k,D,L])=>({content:k,description:D,title:L}));return ae(t,C,k=>n(0,o=k)),t.$$set=k=>{"preventScroll"in k&&n(3,l=k.preventScroll),"closeOnEscape"in k&&n(4,a=k.closeOnEscape),"closeOnOutsideClick"in k&&n(5,s=k.closeOnOutsideClick),"portal"in k&&n(6,u=k.portal),"open"in k&&n(2,f=k.open),"onOpenChange"in k&&n(7,c=k.onOpenChange),"openFocus"in k&&n(8,d=k.openFocus),"closeFocus"in k&&n(9,m=k.closeFocus),"onOutsideClick"in k&&n(10,p=k.onOutsideClick),"$$scope"in k&&n(11,r=k.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&f!==void 0&&_.set(f),t.$$.dirty&8&&b("preventScroll",l),t.$$.dirty&16&&b("closeOnEscape",a),t.$$.dirty&32&&b("closeOnOutsideClick",s),t.$$.dirty&64&&b("portal",u),t.$$.dirty&256&&b("openFocus",d),t.$$.dirty&512&&b("closeFocus",m),t.$$.dirty&1024&&b("onOutsideClick",p)},[o,C,f,l,a,s,u,c,d,m,p,r,i]}class G0 extends be{constructor(e){super(),ge(this,e,q0,j0,ce,{preventScroll:3,closeOnEscape:4,closeOnOutsideClick:5,portal:6,open:2,onOpenChange:7,openFocus:8,closeFocus:9,onOutsideClick:10})}}const V0=t=>({builder:t&8}),_a=t=>({builder:t[3]}),H0=t=>({builder:t&8}),ga=t=>({builder:t[3]});function W0(t){let e=t[1],n,o,i=t[1]&&Yr(t);return{c(){i&&i.c(),n=Re()},m(r,l){i&&i.m(r,l),M(r,n,l),o=!0},p(r,l){r[1]?e?ce(e,r[1])?(i.d(1),i=Yr(r),e=r[1],i.c(),i.m(n.parentNode,n)):i.p(r,l):(i=Yr(r),e=r[1],i.c(),i.m(n.parentNode,n)):e&&(i.d(1),i=null,e=r[1])},i(r){o||(A(i,r),o=!0)},o(r){S(i,r),o=!1},d(r){r&&T(n),i&&i.d(r)}}}function Y0(t){let e;const n=t[9].default,o=me(n,t,t[8],ga);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&264)&&he(o,n,i,i[8],e?pe(n,i[8],r,H0):_e(i[8]),ga)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Yr(t){let e,n,o,i;const r=t[9].default,l=me(r,t,t[8],_a);let a=[t[3],t[5]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=I(t[1]),l&&l.c(),yn(t[1])(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[10](e),n=!0,o||(i=Fe(t[3].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&264)&&he(l,r,u,u[8],n?pe(r,u[8],f,V0):_e(u[8]),_a),yn(u[1])(e,s=ye(a,[f&8&&u[3],f&32&&u[5]]))},i(u){n||(A(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[10](null),o=!1,i()}}}function U0(t){let e,n,o,i;const r=[Y0,W0],l=[];function a(s,u){return s[2]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function K0(t,e,n){let o;const i=["level","asChild","id","el"];let r=le(e,i),l,{$$slots:a={},$$scope:s}=e,{level:u="h2"}=e,{asChild:f=!1}=e,{id:c=void 0}=e,{el:d=void 0}=e;const{elements:{title:m},ids:p,getAttrs:_}=To();ae(t,m,C=>n(7,l=C));const b=_("title");function w(C){Ne[C?"unshift":"push"](()=>{d=C,n(0,d)})}return t.$$set=C=>{e=Q(Q({},e),$e(C)),n(5,r=le(e,i)),"level"in C&&n(1,u=C.level),"asChild"in C&&n(2,f=C.asChild),"id"in C&&n(6,c=C.id),"el"in C&&n(0,d=C.el),"$$scope"in C&&n(8,s=C.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&c&&p.title.set(c),t.$$.dirty&128&&n(3,o=l),t.$$.dirty&8&&Object.assign(o,b)},[d,u,f,o,m,r,c,l,s,a,w]}let X0=class extends be{constructor(e){super(),ge(this,e,K0,U0,ce,{level:1,asChild:2,id:6,el:0})}};const J0=t=>({builder:t&4}),ba=t=>({builder:t[2]}),x0=t=>({builder:t&4}),va=t=>({builder:t[2]});function Z0(t){let e,n,o,i;const r=t[8].default,l=me(r,t,t[7],ba);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=I("button"),l&&l.c(),se(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[9](e),n=!0,o||(i=[Fe(t[2].action(e)),ee(e,"m-click",t[4]),ee(e,"m-keydown",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&he(l,r,u,u[7],n?pe(r,u[7],f,J0):_e(u[7]),ba),se(e,s=ye(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(A(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[9](null),o=!1,Le(i)}}}function Q0(t){let e;const n=t[8].default,o=me(n,t,t[7],va);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&he(o,n,i,i[7],e?pe(n,i[7],r,x0):_e(i[7]),va)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function z0(t){let e,n,o,i;const r=[Q0,Z0],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function eg(t,e,n){let o;const i=["asChild","el"];let r=le(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:d}=To();ae(t,c,b=>n(6,l=b));const m=Kn(),p=d("close");function _(b){Ne[b?"unshift":"push"](()=>{f=b,n(0,f)})}return t.$$set=b=>{e=Q(Q({},e),$e(b)),n(5,r=le(e,i)),"asChild"in b&&n(1,u=b.asChild),"el"in b&&n(0,f=b.el),"$$scope"in b&&n(7,s=b.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,p)},[f,u,o,c,m,r,l,s,a,_]}class tg extends be{constructor(e){super(),ge(this,e,eg,z0,ce,{asChild:1,el:0})}}const ng=t=>({builder:t&4}),ya=t=>({builder:t[2]}),og=t=>({builder:t&4}),wa=t=>({builder:t[2]});function ig(t){let e,n,o,i;const r=t[7].default,l=me(r,t,t[6],ya);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=I("div"),l&&l.c(),se(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[8](e),n=!0,o||(i=Fe(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&68)&&he(l,r,u,u[6],n?pe(r,u[6],f,ng):_e(u[6]),ya),se(e,s=ye(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(A(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[8](null),o=!1,i()}}}function rg(t){let e;const n=t[7].default,o=me(n,t,t[6],wa);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&68)&&he(o,n,i,i[6],e?pe(n,i[6],r,og):_e(i[6]),wa)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function lg(t){let e,n,o,i;const r=[rg,ig],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function sg(t,e,n){let o;const i=["asChild","el"];let r=le(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{portalled:c},getAttrs:d}=To();ae(t,c,_=>n(5,l=_));const m=d("portal");function p(_){Ne[_?"unshift":"push"](()=>{f=_,n(0,f)})}return t.$$set=_=>{e=Q(Q({},e),$e(_)),n(4,r=le(e,i)),"asChild"in _&&n(1,u=_.asChild),"el"in _&&n(0,f=_.el),"$$scope"in _&&n(6,s=_.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,m)},[f,u,o,c,r,l,s,a,p]}let ag=class extends be{constructor(e){super(),ge(this,e,sg,lg,ce,{asChild:1,el:0})}};const ug=t=>({builder:t[0]&256}),ka=t=>({builder:t[8]}),fg=t=>({builder:t[0]&256}),Ca=t=>({builder:t[8]}),cg=t=>({builder:t[0]&256}),Aa=t=>({builder:t[8]}),dg=t=>({builder:t[0]&256}),Sa=t=>({builder:t[8]}),mg=t=>({builder:t[0]&256}),Ta=t=>({builder:t[8]}),pg=t=>({builder:t[0]&256}),Ma=t=>({builder:t[8]});function hg(t){let e,n,o,i;const r=t[16].default,l=me(r,t,t[15],ka);let a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=I("div"),l&&l.c(),se(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[56](e),n=!0,o||(i=[Fe(t[8].action(e)),ee(e,"pointerdown",t[45]),ee(e,"pointermove",t[46]),ee(e,"pointerup",t[47]),ee(e,"touchend",t[48]),ee(e,"touchstart",t[49]),ee(e,"touchcancel",t[50]),ee(e,"touchmove",t[51])],o=!0)},p(u,f){l&&l.p&&(!n||f[0]&33024)&&he(l,r,u,u[15],n?pe(r,u[15],f,ug):_e(u[15]),ka),se(e,s=ye(a,[f[0]&256&&u[8],f[0]&4096&&u[12]]))},i(u){n||(A(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[56](null),o=!1,Le(i)}}}function _g(t){let e,n,o,i,r;const l=t[16].default,a=me(l,t,t[15],Ca);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=I("div"),a&&a.c(),se(e,u)},m(f,c){M(f,e,c),a&&a.m(e,null),t[55](e),o=!0,i||(r=[Fe(t[8].action(e)),ee(e,"pointerdown",t[38]),ee(e,"pointermove",t[39]),ee(e,"pointerup",t[40]),ee(e,"touchend",t[41]),ee(e,"touchstart",t[42]),ee(e,"touchcancel",t[43]),ee(e,"touchmove",t[44])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&he(a,l,t,t[15],o?pe(l,t[15],c,fg):_e(t[15]),Ca),se(e,u=ye(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(A(a,f),n&&n.end(1),o=!0)},o(f){S(a,f),f&&(n=zt(e,t[5],t[6])),o=!1},d(f){f&&T(e),a&&a.d(f),t[55](null),f&&n&&n.end(),i=!1,Le(r)}}}function gg(t){let e,n,o,i,r;const l=t[16].default,a=me(l,t,t[15],Aa);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=I("div"),a&&a.c(),se(e,u)},m(f,c){M(f,e,c),a&&a.m(e,null),t[54](e),o=!0,i||(r=[Fe(t[8].action(e)),ee(e,"pointerdown",t[31]),ee(e,"pointermove",t[32]),ee(e,"pointerup",t[33]),ee(e,"touchend",t[34]),ee(e,"touchstart",t[35]),ee(e,"touchcancel",t[36]),ee(e,"touchmove",t[37])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&he(a,l,t,t[15],o?pe(l,t[15],c,cg):_e(t[15]),Aa),se(e,u=ye(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(A(a,f),f&&(n||it(()=>{n=Qt(e,t[3],t[4]),n.start()})),o=!0)},o(f){S(a,f),o=!1},d(f){f&&T(e),a&&a.d(f),t[54](null),i=!1,Le(r)}}}function bg(t){let e,n,o,i,r,l;const a=t[16].default,s=me(a,t,t[15],Sa);let u=[t[8],t[12]],f={};for(let c=0;c<u.length;c+=1)f=Q(f,u[c]);return{c(){e=I("div"),s&&s.c(),se(e,f)},m(c,d){M(c,e,d),s&&s.m(e,null),t[53](e),i=!0,r||(l=[Fe(t[8].action(e)),ee(e,"pointerdown",t[24]),ee(e,"pointermove",t[25]),ee(e,"pointerup",t[26]),ee(e,"touchend",t[27]),ee(e,"touchstart",t[28]),ee(e,"touchcancel",t[29]),ee(e,"touchmove",t[30])],r=!0)},p(c,d){t=c,s&&s.p&&(!i||d[0]&33024)&&he(s,a,t,t[15],i?pe(a,t[15],d,dg):_e(t[15]),Sa),se(e,f=ye(u,[d[0]&256&&t[8],d[0]&4096&&t[12]]))},i(c){i||(A(s,c),c&&it(()=>{i&&(o&&o.end(1),n=Qt(e,t[3],t[4]),n.start())}),i=!0)},o(c){S(s,c),n&&n.invalidate(),c&&(o=zt(e,t[5],t[6])),i=!1},d(c){c&&T(e),s&&s.d(c),t[53](null),c&&o&&o.end(),r=!1,Le(l)}}}function vg(t){let e,n,o,i,r;const l=t[16].default,a=me(l,t,t[15],Ta);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=I("div"),a&&a.c(),se(e,u)},m(f,c){M(f,e,c),a&&a.m(e,null),t[52](e),o=!0,i||(r=[Fe(t[8].action(e)),ee(e,"pointerdown",t[17]),ee(e,"pointermove",t[18]),ee(e,"pointerup",t[19]),ee(e,"touchend",t[20]),ee(e,"touchstart",t[21]),ee(e,"touchcancel",t[22]),ee(e,"touchmove",t[23])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&he(a,l,t,t[15],o?pe(l,t[15],c,mg):_e(t[15]),Ta),se(e,u=ye(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(A(a,f),f&&it(()=>{o&&(n||(n=Jt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(f){S(a,f),f&&(n||(n=Jt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(f){f&&T(e),a&&a.d(f),t[52](null),f&&n&&n.end(),i=!1,Le(r)}}}function yg(t){let e;const n=t[16].default,o=me(n,t,t[15],Ma);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r[0]&33024)&&he(o,n,i,i[15],e?pe(n,i[15],r,pg):_e(i[15]),Ma)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function wg(t){let e,n,o,i;const r=[yg,vg,bg,gg,_g,hg],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=Re()},m(s,u){~e&&l[e].m(s,u),M(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),~e&&l[e].d(s)}}}function kg(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","id","el"];let r=le(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:p=void 0}=e,{outTransitionConfig:_=void 0}=e,{asChild:b=!1}=e,{id:w=void 0}=e,{el:C=void 0}=e;const{elements:{content:k},states:{open:D},ids:L,getAttrs:R}=To();ae(t,k,q=>n(14,l=q)),ae(t,D,q=>n(9,a=q));const E=R("content");function V(q){oe.call(this,t,q)}function $(q){oe.call(this,t,q)}function W(q){oe.call(this,t,q)}function y(q){oe.call(this,t,q)}function v(q){oe.call(this,t,q)}function O(q){oe.call(this,t,q)}function N(q){oe.call(this,t,q)}function H(q){oe.call(this,t,q)}function G(q){oe.call(this,t,q)}function K(q){oe.call(this,t,q)}function z(q){oe.call(this,t,q)}function te(q){oe.call(this,t,q)}function Y(q){oe.call(this,t,q)}function h(q){oe.call(this,t,q)}function B(q){oe.call(this,t,q)}function X(q){oe.call(this,t,q)}function ne(q){oe.call(this,t,q)}function U(q){oe.call(this,t,q)}function ue(q){oe.call(this,t,q)}function we(q){oe.call(this,t,q)}function Ce(q){oe.call(this,t,q)}function Ke(q){oe.call(this,t,q)}function Ve(q){oe.call(this,t,q)}function et(q){oe.call(this,t,q)}function fe(q){oe.call(this,t,q)}function Ee(q){oe.call(this,t,q)}function Ge(q){oe.call(this,t,q)}function Be(q){oe.call(this,t,q)}function Xe(q){oe.call(this,t,q)}function Ae(q){oe.call(this,t,q)}function Se(q){oe.call(this,t,q)}function kt(q){oe.call(this,t,q)}function Lt(q){oe.call(this,t,q)}function ft(q){oe.call(this,t,q)}function Ft(q){oe.call(this,t,q)}function ct(q){Ne[q?"unshift":"push"](()=>{C=q,n(0,C)})}function pt(q){Ne[q?"unshift":"push"](()=>{C=q,n(0,C)})}function ot(q){Ne[q?"unshift":"push"](()=>{C=q,n(0,C)})}function de(q){Ne[q?"unshift":"push"](()=>{C=q,n(0,C)})}function We(q){Ne[q?"unshift":"push"](()=>{C=q,n(0,C)})}return t.$$set=q=>{e=Q(Q({},e),$e(q)),n(12,r=le(e,i)),"transition"in q&&n(1,f=q.transition),"transitionConfig"in q&&n(2,c=q.transitionConfig),"inTransition"in q&&n(3,d=q.inTransition),"inTransitionConfig"in q&&n(4,m=q.inTransitionConfig),"outTransition"in q&&n(5,p=q.outTransition),"outTransitionConfig"in q&&n(6,_=q.outTransitionConfig),"asChild"in q&&n(7,b=q.asChild),"id"in q&&n(13,w=q.id),"el"in q&&n(0,C=q.el),"$$scope"in q&&n(15,u=q.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&8192&&w&&L.content.set(w),t.$$.dirty[0]&16384&&n(8,o=l),t.$$.dirty[0]&256&&Object.assign(o,E)},[C,f,c,d,m,p,_,b,o,a,k,D,r,w,l,u,s,V,$,W,y,v,O,N,H,G,K,z,te,Y,h,B,X,ne,U,ue,we,Ce,Ke,Ve,et,fe,Ee,Ge,Be,Xe,Ae,Se,kt,Lt,ft,Ft,ct,pt,ot,de,We]}let Cg=class extends be{constructor(e){super(),ge(this,e,kg,wg,ce,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,id:13,el:0},null,[-1,-1])}};const Ag=t=>({builder:t&256}),Ia=t=>({builder:t[8]});function Sg(t){let e,n,o,i=[t[8],t[12]],r={};for(let l=0;l<i.length;l+=1)r=Q(r,i[l]);return{c(){e=I("div"),se(e,r)},m(l,a){M(l,e,a),t[25](e),n||(o=[Fe(t[8].action(e)),ee(e,"mouseup",t[20])],n=!0)},p(l,a){se(e,r=ye(i,[a&256&&l[8],a&4096&&l[12]]))},i:ke,o:ke,d(l){l&&T(e),t[25](null),n=!1,Le(o)}}}function Tg(t){let e,n,o,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=Q(a,l[s]);return{c(){e=I("div"),se(e,a)},m(s,u){M(s,e,u),t[24](e),o=!0,i||(r=[Fe(t[8].action(e)),ee(e,"mouseup",t[19])],i=!0)},p(s,u){t=s,se(e,a=ye(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(n&&n.end(1),o=!0)},o(s){s&&(n=zt(e,t[5],t[6])),o=!1},d(s){s&&T(e),t[24](null),s&&n&&n.end(),i=!1,Le(r)}}}function Mg(t){let e,n,o,i,r=[t[8],t[12]],l={};for(let a=0;a<r.length;a+=1)l=Q(l,r[a]);return{c(){e=I("div"),se(e,l)},m(a,s){M(a,e,s),t[23](e),o||(i=[Fe(t[8].action(e)),ee(e,"mouseup",t[18])],o=!0)},p(a,s){t=a,se(e,l=ye(r,[s&256&&t[8],s&4096&&t[12]]))},i(a){a&&(n||it(()=>{n=Qt(e,t[3],t[4]),n.start()}))},o:ke,d(a){a&&T(e),t[23](null),o=!1,Le(i)}}}function Ig(t){let e,n,o,i,r,l,a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=I("div"),se(e,s)},m(u,f){M(u,e,f),t[22](e),i=!0,r||(l=[Fe(t[8].action(e)),ee(e,"mouseup",t[17])],r=!0)},p(u,f){t=u,se(e,s=ye(a,[f&256&&t[8],f&4096&&t[12]]))},i(u){i||(u&&it(()=>{i&&(o&&o.end(1),n=Qt(e,t[3],t[4]),n.start())}),i=!0)},o(u){n&&n.invalidate(),u&&(o=zt(e,t[5],t[6])),i=!1},d(u){u&&T(e),t[22](null),u&&o&&o.end(),r=!1,Le(l)}}}function Og(t){let e,n,o,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=Q(a,l[s]);return{c(){e=I("div"),se(e,a)},m(s,u){M(s,e,u),t[21](e),o=!0,i||(r=[ee(e,"mouseup",t[16]),Fe(t[8].action(e))],i=!0)},p(s,u){t=s,se(e,a=ye(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(s&&it(()=>{o&&(n||(n=Jt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(s){s&&(n||(n=Jt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(s){s&&T(e),t[21](null),s&&n&&n.end(),i=!1,Le(r)}}}function Pg(t){let e;const n=t[15].default,o=me(n,t,t[14],Ia);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&16640)&&he(o,n,i,i[14],e?pe(n,i[14],r,Ag):_e(i[14]),Ia)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Ng(t){let e,n,o,i;const r=[Pg,Og,Ig,Mg,Tg,Sg],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=Re()},m(s,u){~e&&l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),~e&&l[e].d(s)}}}function Eg(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","el"];let r=le(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:p=void 0}=e,{outTransitionConfig:_=void 0}=e,{asChild:b=!1}=e,{el:w=void 0}=e;const{elements:{overlay:C},states:{open:k},getAttrs:D}=To();ae(t,C,G=>n(13,l=G)),ae(t,k,G=>n(9,a=G));const L=D("overlay");function R(G){oe.call(this,t,G)}function E(G){oe.call(this,t,G)}function V(G){oe.call(this,t,G)}function $(G){oe.call(this,t,G)}function W(G){oe.call(this,t,G)}function y(G){Ne[G?"unshift":"push"](()=>{w=G,n(0,w)})}function v(G){Ne[G?"unshift":"push"](()=>{w=G,n(0,w)})}function O(G){Ne[G?"unshift":"push"](()=>{w=G,n(0,w)})}function N(G){Ne[G?"unshift":"push"](()=>{w=G,n(0,w)})}function H(G){Ne[G?"unshift":"push"](()=>{w=G,n(0,w)})}return t.$$set=G=>{e=Q(Q({},e),$e(G)),n(12,r=le(e,i)),"transition"in G&&n(1,f=G.transition),"transitionConfig"in G&&n(2,c=G.transitionConfig),"inTransition"in G&&n(3,d=G.inTransition),"inTransitionConfig"in G&&n(4,m=G.inTransitionConfig),"outTransition"in G&&n(5,p=G.outTransition),"outTransitionConfig"in G&&n(6,_=G.outTransitionConfig),"asChild"in G&&n(7,b=G.asChild),"el"in G&&n(0,w=G.el),"$$scope"in G&&n(14,u=G.$$scope)},t.$$.update=()=>{t.$$.dirty&8192&&n(8,o=l),t.$$.dirty&256&&Object.assign(o,L)},[w,f,c,d,m,p,_,b,o,a,C,k,r,l,u,s,R,E,V,$,W,y,v,O,N,H]}let $g=class extends be{constructor(e){super(),ge(this,e,Eg,Ng,ce,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,el:0})}};const Rg=t=>({builder:t&4}),Oa=t=>({builder:t[2]}),Dg=t=>({builder:t&4}),Pa=t=>({builder:t[2]});function Lg(t){let e,n,o,i;const r=t[8].default,l=me(r,t,t[7],Oa);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=I("div"),l&&l.c(),se(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[9](e),n=!0,o||(i=Fe(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&he(l,r,u,u[7],n?pe(r,u[7],f,Rg):_e(u[7]),Oa),se(e,s=ye(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(A(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[9](null),o=!1,i()}}}function Fg(t){let e;const n=t[8].default,o=me(n,t,t[7],Pa);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&he(o,n,i,i[7],e?pe(n,i[7],r,Dg):_e(i[7]),Pa)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Bg(t){let e,n,o,i;const r=[Fg,Lg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function jg(t,e,n){let o;const i=["asChild","id","el"];let r=le(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{description:d},ids:m,getAttrs:p}=To();ae(t,d,w=>n(6,l=w));const _=p("description");function b(w){Ne[w?"unshift":"push"](()=>{c=w,n(0,c)})}return t.$$set=w=>{e=Q(Q({},e),$e(w)),n(4,r=le(e,i)),"asChild"in w&&n(1,u=w.asChild),"id"in w&&n(5,f=w.id),"el"in w&&n(0,c=w.el),"$$scope"in w&&n(7,s=w.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f&&m.description.set(f),t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,_)},[c,u,o,d,r,f,l,s,a,b]}let qg=class extends be{constructor(e){super(),ge(this,e,jg,Bg,ce,{asChild:1,id:5,el:0})}};function Gg(){const t="label",n=Un(t,["root"]);return{NAME:t,getAttrs:n}}const Vg=t=>({builder:t&4}),Na=t=>({builder:t[2]}),Hg=t=>({builder:t&4}),Ea=t=>({builder:t[2]});function Wg(t){let e,n,o,i;const r=t[8].default,l=me(r,t,t[7],Na);let a=[t[2],t[5]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=I("label"),l&&l.c(),se(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[9](e),n=!0,o||(i=[Fe(t[2].action(e)),ee(e,"m-mousedown",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&he(l,r,u,u[7],n?pe(r,u[7],f,Vg):_e(u[7]),Na),se(e,s=ye(a,[f&4&&u[2],f&32&&u[5]]))},i(u){n||(A(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[9](null),o=!1,Le(i)}}}function Yg(t){let e;const n=t[8].default,o=me(n,t,t[7],Ea);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&he(o,n,i,i[7],e?pe(n,i[7],r,Hg):_e(i[7]),Ea)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Ug(t){let e,n,o,i;const r=[Yg,Wg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function Kg(t,e,n){let o;const i=["asChild","el"];let r=le(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{root:c}}=xh();ae(t,c,b=>n(6,l=b));const d=Kn(),{getAttrs:m}=Gg(),p=m("root");function _(b){Ne[b?"unshift":"push"](()=>{f=b,n(0,f)})}return t.$$set=b=>{e=Q(Q({},e),$e(b)),n(5,r=le(e,i)),"asChild"in b&&n(1,u=b.asChild),"el"in b&&n(0,f=b.el),"$$scope"in b&&n(7,s=b.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,p)},[f,u,o,c,d,r,l,s,a,_]}let Xg=class extends be{constructor(e){super(),ge(this,e,Kg,Ug,ce,{asChild:1,el:0})}};function Jg(){return{NAME:"progress",PARTS:["root"]}}function xg(t){const{NAME:e,PARTS:n}=Jg(),o=Un(e,n),i={...t_(So(t)),getAttrs:o};return{...i,updateOption:Vn(i.options)}}const Zg=t=>({builder:t&4}),$a=t=>({builder:t[2]}),Qg=t=>({builder:t&4}),Ra=t=>({builder:t[2]});function zg(t){let e,n,o,i;const r=t[10].default,l=me(r,t,t[9],$a);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=I("div"),l&&l.c(),se(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[11](e),n=!0,o||(i=Fe(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&516)&&he(l,r,u,u[9],n?pe(r,u[9],f,Zg):_e(u[9]),$a),se(e,s=ye(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(A(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[11](null),o=!1,i()}}}function e1(t){let e;const n=t[10].default,o=me(n,t,t[9],Ra);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&516)&&he(o,n,i,i[9],e?pe(n,i[9],r,Qg):_e(i[9]),Ra)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function t1(t){let e,n,o,i;const r=[e1,zg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function n1(t,e,n){let o;const i=["max","value","onValueChange","asChild","el"];let r=le(e,i),l,{$$slots:a={},$$scope:s}=e,{max:u=void 0}=e,{value:f=void 0}=e,{onValueChange:c=void 0}=e,{asChild:d=!1}=e,{el:m=void 0}=e;const{elements:{root:p},states:{value:_},updateOption:b,getAttrs:w}=xg({max:u,defaultValue:f,onValueChange:({next:D})=>(c==null||c(D),n(5,f=D),D)});ae(t,p,D=>n(8,l=D));const C=w("root");function k(D){Ne[D?"unshift":"push"](()=>{m=D,n(0,m)})}return t.$$set=D=>{e=Q(Q({},e),$e(D)),n(4,r=le(e,i)),"max"in D&&n(6,u=D.max),"value"in D&&n(5,f=D.value),"onValueChange"in D&&n(7,c=D.onValueChange),"asChild"in D&&n(1,d=D.asChild),"el"in D&&n(0,m=D.el),"$$scope"in D&&n(9,s=D.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f!==void 0&&_.set(f),t.$$.dirty&64&&b("max",u),t.$$.dirty&256&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,C)},[m,d,o,p,r,f,u,c,l,s,a,k]}let o1=class extends be{constructor(e){super(),ge(this,e,n1,t1,ce,{max:6,value:5,onValueChange:7,asChild:1,el:0})}};function Wc(){return{NAME:"slider",PARTS:["root","input","range","thumb","tick"]}}function i1(t){const{NAME:e,PARTS:n}=Wc(),o=Un(e,n),i={...r_(So(t)),getAttrs:o};return pr(e,i),{...i,updateOption:Vn(i.options)}}function Yc(){const{NAME:t}=Wc();return hr(t)}const r1=t=>({builder:t&4,ticks:t&8,thumbs:t&16}),Da=t=>({builder:t[2],ticks:t[3],thumbs:t[4]}),l1=t=>({builder:t&4,ticks:t&8,thumbs:t&16}),La=t=>({builder:t[2],ticks:t[3],thumbs:t[4]});function s1(t){let e,n,o,i;const r=t[18].default,l=me(r,t,t[17],Da);let a=[t[2],t[8]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=I("span"),l&&l.c(),se(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[19](e),n=!0,o||(i=Fe(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&131100)&&he(l,r,u,u[17],n?pe(r,u[17],f,r1):_e(u[17]),Da),se(e,s=ye(a,[f&4&&u[2],f&256&&u[8]]))},i(u){n||(A(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[19](null),o=!1,i()}}}function a1(t){let e;const n=t[18].default,o=me(n,t,t[17],La);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&131100)&&he(o,n,i,i[17],e?pe(n,i[17],r,l1):_e(i[17]),La)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function u1(t){let e,n,o,i;const r=[a1,s1],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function f1(t,e,n){let o;const i=["disabled","min","max","step","orientation","value","onValueChange","asChild","el"];let r=le(e,i),l,a,s,{$$slots:u={},$$scope:f}=e,{disabled:c=void 0}=e,{min:d=void 0}=e,{max:m=void 0}=e,{step:p=void 0}=e,{orientation:_=void 0}=e,{value:b=void 0}=e,{onValueChange:w=void 0}=e,{asChild:C=!1}=e,{el:k=void 0}=e;const{elements:{root:D,ticks:L,thumbs:R},states:{value:E},updateOption:V,getAttrs:$}=i1({disabled:c,min:d,max:m,step:p,orientation:_,defaultValue:b,onValueChange:({next:v})=>(b!==v&&(w==null||w(v),n(9,b=v)),v)});ae(t,D,v=>n(16,l=v)),ae(t,L,v=>n(3,a=v)),ae(t,R,v=>n(4,s=v));const W=$("root");function y(v){Ne[v?"unshift":"push"](()=>{k=v,n(0,k)})}return t.$$set=v=>{e=Q(Q({},e),$e(v)),n(8,r=le(e,i)),"disabled"in v&&n(10,c=v.disabled),"min"in v&&n(11,d=v.min),"max"in v&&n(12,m=v.max),"step"in v&&n(13,p=v.step),"orientation"in v&&n(14,_=v.orientation),"value"in v&&n(9,b=v.value),"onValueChange"in v&&n(15,w=v.onValueChange),"asChild"in v&&n(1,C=v.asChild),"el"in v&&n(0,k=v.el),"$$scope"in v&&n(17,f=v.$$scope)},t.$$.update=()=>{t.$$.dirty&512&&b!==void 0&&E.set(b),t.$$.dirty&1024&&V("disabled",c),t.$$.dirty&2048&&V("min",d),t.$$.dirty&4096&&V("max",m),t.$$.dirty&8192&&V("step",p),t.$$.dirty&16384&&V("orientation",_),t.$$.dirty&65536&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,W)},[k,C,o,a,s,D,L,R,r,b,c,d,m,p,_,w,l,f,u,y]}let c1=class extends be{constructor(e){super(),ge(this,e,f1,u1,ce,{disabled:10,min:11,max:12,step:13,orientation:14,value:9,onValueChange:15,asChild:1,el:0})}};const d1=t=>({builder:t&4}),Fa=t=>({builder:t[2]});function m1(t){let e,n,o,i=[t[2],t[4]],r={};for(let l=0;l<i.length;l+=1)r=Q(r,i[l]);return{c(){e=I("span"),se(e,r)},m(l,a){M(l,e,a),t[8](e),n||(o=Fe(t[2].action(e)),n=!0)},p(l,a){se(e,r=ye(i,[a&4&&l[2],a&16&&l[4]]))},i:ke,o:ke,d(l){l&&T(e),t[8](null),n=!1,o()}}}function p1(t){let e;const n=t[7].default,o=me(n,t,t[6],Fa);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&68)&&he(o,n,i,i[6],e?pe(n,i[6],r,d1):_e(i[6]),Fa)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function h1(t){let e,n,o,i;const r=[p1,m1],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function _1(t,e,n){let o;const i=["asChild","el"];let r=le(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{range:c},getAttrs:d}=Yc();ae(t,c,_=>n(5,l=_));const m=d("range");function p(_){Ne[_?"unshift":"push"](()=>{f=_,n(0,f)})}return t.$$set=_=>{e=Q(Q({},e),$e(_)),n(4,r=le(e,i)),"asChild"in _&&n(1,u=_.asChild),"el"in _&&n(0,f=_.el),"$$scope"in _&&n(6,s=_.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,m)},[f,u,o,c,r,l,s,a,p]}class g1 extends be{constructor(e){super(),ge(this,e,_1,h1,ce,{asChild:1,el:0})}}const b1=t=>({builder:t&4}),Ba=t=>({builder:t[2]});function v1(t){let e,n,o,i=[t[2],t[4]],r={};for(let l=0;l<i.length;l+=1)r=Q(r,i[l]);return{c(){e=I("span"),se(e,r)},m(l,a){M(l,e,a),t[8](e),n||(o=[Fe(t[2].action(e)),ee(e,"m-keydown",t[3])],n=!0)},p(l,a){se(e,r=ye(i,[a&4&&l[2],a&16&&l[4]]))},i:ke,o:ke,d(l){l&&T(e),t[8](null),n=!1,Le(o)}}}function y1(t){let e;const n=t[7].default,o=me(n,t,t[6],Ba);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&68)&&he(o,n,i,i[6],e?pe(n,i[6],r,b1):_e(i[6]),Ba)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function w1(t){let e,n,o,i;const r=[y1,v1],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function k1(t,e,n){let o;const i=["asChild","el","thumb"];let r=le(e,i),{$$slots:l={},$$scope:a}=e,{asChild:s=!1}=e,{el:u=void 0}=e,{thumb:f}=e;const{getAttrs:c}=Yc(),d=Kn(),m=c("thumb");function p(_){Ne[_?"unshift":"push"](()=>{u=_,n(0,u)})}return t.$$set=_=>{e=Q(Q({},e),$e(_)),n(4,r=le(e,i)),"asChild"in _&&n(1,s=_.asChild),"el"in _&&n(0,u=_.el),"thumb"in _&&n(5,f=_.thumb),"$$scope"in _&&n(6,a=_.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=f),t.$$.dirty&4&&Object.assign(o,m)},[u,s,o,d,r,f,a,l,p]}class C1 extends be{constructor(e){super(),ge(this,e,k1,w1,ce,{asChild:1,el:0,thumb:5})}}function Uc(){return{NAME:"tooltip",PARTS:["arrow","content","trigger"]}}function A1(t){const{NAME:e,PARTS:n}=Uc(),o=Un(e,n),i={...a_({positioning:{placement:"top",gutter:0},openDelay:700,...So(t),forceVisible:!0}),getAttrs:o};return pr(e,i),{...i,updateOption:Vn(i.options)}}function Yl(){const{NAME:t}=Uc();return hr(t)}function S1(t){const n={...{side:"top",align:"center",sideOffset:1},...t},{options:{positioning:o}}=Yl();T0(o)({...n})}const T1=t=>({ids:t&1}),ja=t=>({ids:t[0]});function M1(t){let e;const n=t[12].default,o=me(n,t,t[11],ja);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,[r]){o&&o.p&&(!e||r&2049)&&he(o,n,i,i[11],e?pe(n,i[11],r,T1):_e(i[11]),ja)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function I1(t,e,n){let o,{$$slots:i={},$$scope:r}=e,{closeOnEscape:l=void 0}=e,{portal:a=void 0}=e,{closeOnPointerDown:s=void 0}=e,{openDelay:u=void 0}=e,{closeDelay:f=void 0}=e,{open:c=void 0}=e,{onOpenChange:d=void 0}=e,{disableHoverableContent:m=void 0}=e,{group:p=void 0}=e;const{states:{open:_},updateOption:b,ids:w}=A1({closeOnEscape:l,portal:a,closeOnPointerDown:s,openDelay:u,closeDelay:f,forceVisible:!0,defaultOpen:c,disableHoverableContent:m,group:p,onOpenChange:({next:k})=>(c!==k&&(d==null||d(k),n(2,c=k)),k),positioning:{gutter:0,offset:{mainAxis:1}}}),C=dn([w.content,w.trigger],([k,D])=>({content:k,trigger:D}));return ae(t,C,k=>n(0,o=k)),t.$$set=k=>{"closeOnEscape"in k&&n(3,l=k.closeOnEscape),"portal"in k&&n(4,a=k.portal),"closeOnPointerDown"in k&&n(5,s=k.closeOnPointerDown),"openDelay"in k&&n(6,u=k.openDelay),"closeDelay"in k&&n(7,f=k.closeDelay),"open"in k&&n(2,c=k.open),"onOpenChange"in k&&n(8,d=k.onOpenChange),"disableHoverableContent"in k&&n(9,m=k.disableHoverableContent),"group"in k&&n(10,p=k.group),"$$scope"in k&&n(11,r=k.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&c!==void 0&&_.set(c),t.$$.dirty&8&&b("closeOnEscape",l),t.$$.dirty&16&&b("portal",a),t.$$.dirty&32&&b("closeOnPointerDown",s),t.$$.dirty&64&&b("openDelay",u),t.$$.dirty&128&&b("closeDelay",f),t.$$.dirty&1024&&b("group",p),t.$$.dirty&512&&b("disableHoverableContent",m)},[o,C,c,l,a,s,u,f,d,m,p,r,i]}class O1 extends be{constructor(e){super(),ge(this,e,I1,M1,ce,{closeOnEscape:3,portal:4,closeOnPointerDown:5,openDelay:6,closeDelay:7,open:2,onOpenChange:8,disableHoverableContent:9,group:10})}}const P1=t=>({builder:t[0]&256}),qa=t=>({builder:t[8]}),N1=t=>({builder:t[0]&256}),Ga=t=>({builder:t[8]}),E1=t=>({builder:t[0]&256}),Va=t=>({builder:t[8]}),$1=t=>({builder:t[0]&256}),Ha=t=>({builder:t[8]}),R1=t=>({builder:t[0]&256}),Wa=t=>({builder:t[8]}),D1=t=>({builder:t[0]&256}),Ya=t=>({builder:t[8]});function L1(t){let e,n,o,i;const r=t[28].default,l=me(r,t,t[27],qa);let a=[t[8],t[13]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=I("div"),l&&l.c(),se(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),t[33](e),n=!0,o||(i=[Fe(t[8].action(e)),ee(e,"m-pointerdown",t[12]),ee(e,"m-pointerenter",t[12])],o=!0)},p(u,f){l&&l.p&&(!n||f[0]&134217984)&&he(l,r,u,u[27],n?pe(r,u[27],f,P1):_e(u[27]),qa),se(e,s=ye(a,[f[0]&256&&u[8],f[0]&8192&&u[13]]))},i(u){n||(A(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[33](null),o=!1,Le(i)}}}function F1(t){let e,n,o,i,r;const l=t[28].default,a=me(l,t,t[27],Ga);let s=[t[8],t[13]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=I("div"),a&&a.c(),se(e,u)},m(f,c){M(f,e,c),a&&a.m(e,null),t[32](e),o=!0,i||(r=[Fe(t[8].action(e)),ee(e,"m-pointerdown",t[12]),ee(e,"m-pointerenter",t[12])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&134217984)&&he(a,l,t,t[27],o?pe(l,t[27],c,N1):_e(t[27]),Ga),se(e,u=ye(s,[c[0]&256&&t[8],c[0]&8192&&t[13]]))},i(f){o||(A(a,f),n&&n.end(1),o=!0)},o(f){S(a,f),f&&(n=zt(e,t[5],t[6])),o=!1},d(f){f&&T(e),a&&a.d(f),t[32](null),f&&n&&n.end(),i=!1,Le(r)}}}function B1(t){let e,n,o,i,r;const l=t[28].default,a=me(l,t,t[27],Va);let s=[t[8],t[13]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=I("div"),a&&a.c(),se(e,u)},m(f,c){M(f,e,c),a&&a.m(e,null),t[31](e),o=!0,i||(r=[Fe(t[8].action(e)),ee(e,"m-pointerdown",t[12]),ee(e,"m-pointerenter",t[12])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&134217984)&&he(a,l,t,t[27],o?pe(l,t[27],c,E1):_e(t[27]),Va),se(e,u=ye(s,[c[0]&256&&t[8],c[0]&8192&&t[13]]))},i(f){o||(A(a,f),f&&(n||it(()=>{n=Qt(e,t[3],t[4]),n.start()})),o=!0)},o(f){S(a,f),o=!1},d(f){f&&T(e),a&&a.d(f),t[31](null),i=!1,Le(r)}}}function j1(t){let e,n,o,i,r,l;const a=t[28].default,s=me(a,t,t[27],Ha);let u=[t[8],t[13]],f={};for(let c=0;c<u.length;c+=1)f=Q(f,u[c]);return{c(){e=I("div"),s&&s.c(),se(e,f)},m(c,d){M(c,e,d),s&&s.m(e,null),t[30](e),i=!0,r||(l=[Fe(t[8].action(e)),ee(e,"m-pointerdown",t[12]),ee(e,"m-pointerenter",t[12])],r=!0)},p(c,d){t=c,s&&s.p&&(!i||d[0]&134217984)&&he(s,a,t,t[27],i?pe(a,t[27],d,$1):_e(t[27]),Ha),se(e,f=ye(u,[d[0]&256&&t[8],d[0]&8192&&t[13]]))},i(c){i||(A(s,c),c&&it(()=>{i&&(o&&o.end(1),n=Qt(e,t[3],t[4]),n.start())}),i=!0)},o(c){S(s,c),n&&n.invalidate(),c&&(o=zt(e,t[5],t[6])),i=!1},d(c){c&&T(e),s&&s.d(c),t[30](null),c&&o&&o.end(),r=!1,Le(l)}}}function q1(t){let e,n,o,i,r;const l=t[28].default,a=me(l,t,t[27],Wa);let s=[t[8],t[13]],u={};for(let f=0;f<s.length;f+=1)u=Q(u,s[f]);return{c(){e=I("div"),a&&a.c(),se(e,u)},m(f,c){M(f,e,c),a&&a.m(e,null),t[29](e),o=!0,i||(r=[Fe(t[8].action(e)),ee(e,"m-pointerdown",t[12]),ee(e,"m-pointerenter",t[12])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&134217984)&&he(a,l,t,t[27],o?pe(l,t[27],c,R1):_e(t[27]),Wa),se(e,u=ye(s,[c[0]&256&&t[8],c[0]&8192&&t[13]]))},i(f){o||(A(a,f),f&&it(()=>{o&&(n||(n=Jt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(f){S(a,f),f&&(n||(n=Jt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(f){f&&T(e),a&&a.d(f),t[29](null),f&&n&&n.end(),i=!1,Le(r)}}}function G1(t){let e;const n=t[28].default,o=me(n,t,t[27],Ya);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r[0]&134217984)&&he(o,n,i,i[27],e?pe(n,i[27],r,D1):_e(i[27]),Ya)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function V1(t){let e,n,o,i;const r=[G1,q1,j1,B1,F1,L1],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=Re()},m(s,u){~e&&l[e].m(s,u),M(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),~e&&l[e].d(s)}}}function H1(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","id","side","align","sideOffset","alignOffset","collisionPadding","avoidCollisions","collisionBoundary","sameWidth","fitViewport","strategy","overlap","el"];let r=le(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:m=void 0}=e,{outTransition:p=void 0}=e,{outTransitionConfig:_=void 0}=e,{asChild:b=!1}=e,{id:w=void 0}=e,{side:C="top"}=e,{align:k="center"}=e,{sideOffset:D=0}=e,{alignOffset:L=0}=e,{collisionPadding:R=8}=e,{avoidCollisions:E=!0}=e,{collisionBoundary:V=void 0}=e,{sameWidth:$=!1}=e,{fitViewport:W=!1}=e,{strategy:y="absolute"}=e,{overlap:v=!1}=e,{el:O=void 0}=e;const{elements:{content:N},states:{open:H},ids:G,getAttrs:K}=Yl();ae(t,N,U=>n(26,a=U)),ae(t,H,U=>n(9,l=U));const z=Kn(),te=K("content");function Y(U){Ne[U?"unshift":"push"](()=>{O=U,n(0,O)})}function h(U){Ne[U?"unshift":"push"](()=>{O=U,n(0,O)})}function B(U){Ne[U?"unshift":"push"](()=>{O=U,n(0,O)})}function X(U){Ne[U?"unshift":"push"](()=>{O=U,n(0,O)})}function ne(U){Ne[U?"unshift":"push"](()=>{O=U,n(0,O)})}return t.$$set=U=>{e=Q(Q({},e),$e(U)),n(13,r=le(e,i)),"transition"in U&&n(1,f=U.transition),"transitionConfig"in U&&n(2,c=U.transitionConfig),"inTransition"in U&&n(3,d=U.inTransition),"inTransitionConfig"in U&&n(4,m=U.inTransitionConfig),"outTransition"in U&&n(5,p=U.outTransition),"outTransitionConfig"in U&&n(6,_=U.outTransitionConfig),"asChild"in U&&n(7,b=U.asChild),"id"in U&&n(14,w=U.id),"side"in U&&n(15,C=U.side),"align"in U&&n(16,k=U.align),"sideOffset"in U&&n(17,D=U.sideOffset),"alignOffset"in U&&n(18,L=U.alignOffset),"collisionPadding"in U&&n(19,R=U.collisionPadding),"avoidCollisions"in U&&n(20,E=U.avoidCollisions),"collisionBoundary"in U&&n(21,V=U.collisionBoundary),"sameWidth"in U&&n(22,$=U.sameWidth),"fitViewport"in U&&n(23,W=U.fitViewport),"strategy"in U&&n(24,y=U.strategy),"overlap"in U&&n(25,v=U.overlap),"el"in U&&n(0,O=U.el),"$$scope"in U&&n(27,u=U.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&16384&&w&&G.content.set(w),t.$$.dirty[0]&67108864&&n(8,o=a),t.$$.dirty[0]&256&&Object.assign(o,te),t.$$.dirty[0]&67076608&&l&&S1({side:C,align:k,sideOffset:D,alignOffset:L,collisionPadding:R,avoidCollisions:E,collisionBoundary:V,sameWidth:$,fitViewport:W,strategy:y,overlap:v})},[O,f,c,d,m,p,_,b,o,l,N,H,z,r,w,C,k,D,L,R,E,V,$,W,y,v,a,u,s,Y,h,B,X,ne]}let W1=class extends be{constructor(e){super(),ge(this,e,H1,V1,ce,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,id:14,side:15,align:16,sideOffset:17,alignOffset:18,collisionPadding:19,avoidCollisions:20,collisionBoundary:21,sameWidth:22,fitViewport:23,strategy:24,overlap:25,el:0},null,[-1,-1])}};const Y1=t=>({builder:t&4}),Ua=t=>({builder:t[2]}),U1=t=>({builder:t&4}),Ka=t=>({builder:t[2]});function K1(t){let e,n,o,i;const r=t[9].default,l=me(r,t,t[8],Ua);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=Q(s,a[u]);return{c(){e=I("button"),l&&l.c(),se(e,s)},m(u,f){M(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[10](e),n=!0,o||(i=[Fe(t[2].action(e)),ee(e,"m-blur",t[4]),ee(e,"m-focus",t[4]),ee(e,"m-keydown",t[4]),ee(e,"m-pointerdown",t[4]),ee(e,"m-pointerenter",t[4]),ee(e,"m-pointerleave",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&260)&&he(l,r,u,u[8],n?pe(r,u[8],f,Y1):_e(u[8]),Ua),se(e,s=ye(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(A(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[10](null),o=!1,Le(i)}}}function X1(t){let e;const n=t[9].default,o=me(n,t,t[8],Ka);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&260)&&he(o,n,i,i[8],e?pe(n,i[8],r,U1):_e(i[8]),Ka)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function J1(t){let e,n,o,i;const r=[X1,K1],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function x1(t,e,n){let o;const i=["asChild","id","el"];let r=le(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{trigger:d},ids:m,getAttrs:p}=Yl();ae(t,d,C=>n(7,l=C));const _=Kn(),b=p("trigger");function w(C){Ne[C?"unshift":"push"](()=>{c=C,n(0,c)})}return t.$$set=C=>{e=Q(Q({},e),$e(C)),n(5,r=le(e,i)),"asChild"in C&&n(1,u=C.asChild),"id"in C&&n(6,f=C.id),"el"in C&&n(0,c=C.el),"$$scope"in C&&n(8,s=C.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&f&&m.trigger.set(f),t.$$.dirty&128&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,b)},[c,u,o,d,_,r,f,l,s,a,w]}class Z1 extends be{constructor(e){super(),ge(this,e,x1,J1,ce,{asChild:1,id:6,el:0})}}function Q1(t){let e;const n=t[5].default,o=me(n,t,t[8],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&256)&&he(o,n,i,i[8],e?pe(n,i[8],r,null):_e(i[8]),null)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function z1(t){let e,n;const o=[{builders:t[3]},{class:De(bo({variant:t[1],size:t[2],className:t[0]}))},{type:"button"},t[4]];let i={$$slots:{default:[Q1]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new S0({props:i}),e.$on("click",t[6]),e.$on("keydown",t[7]),{c(){Z(e.$$.fragment)},m(r,l){J(e,r,l),n=!0},p(r,[l]){const a=l&31?ye(o,[l&8&&{builders:r[3]},l&7&&{class:De(bo({variant:r[1],size:r[2],className:r[0]}))},o[2],l&16&&rt(r[4])]):{};l&256&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){x(e,r)}}}function eb(t,e,n){const o=["class","variant","size","builders"];let i=le(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{variant:s="default"}=e,{size:u="default"}=e,{builders:f=[]}=e;function c(m){oe.call(this,t,m)}function d(m){oe.call(this,t,m)}return t.$$set=m=>{e=Q(Q({},e),$e(m)),n(4,i=le(e,o)),"class"in m&&n(0,a=m.class),"variant"in m&&n(1,s=m.variant),"size"in m&&n(2,u=m.size),"builders"in m&&n(3,f=m.builders),"$$scope"in m&&n(8,l=m.$$scope)},[a,s,u,f,i,r,c,d,l]}class Mt extends be{constructor(e){super(),ge(this,e,eb,z1,ce,{class:0,variant:1,size:2,builders:3})}}var Xa=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,It=t=>!t||typeof t!="object"||Object.keys(t).length===0,tb=(t,e)=>JSON.stringify(t)===JSON.stringify(e);function Kc(t,e){t.forEach(function(n){Array.isArray(n)?Kc(n,e):e.push(n)})}function Xc(t){let e=[];return Kc(t,e),e}var Jc=(...t)=>Xc(t).filter(Boolean),xc=(t,e)=>{let n={},o=Object.keys(t),i=Object.keys(e);for(let r of o)if(i.includes(r)){let l=t[r],a=e[r];typeof l=="object"&&typeof a=="object"?n[r]=xc(l,a):Array.isArray(l)||Array.isArray(a)?n[r]=Jc(a,l):n[r]=a+" "+l}else n[r]=t[r];for(let r of i)o.includes(r)||(n[r]=e[r]);return n},Ja=t=>!t||typeof t!="string"?t:t.replace(/\s+/g," ").trim(),nb={twMerge:!0,twMergeConfig:{},responsiveVariants:!1},Zc=t=>t||void 0,xo=(...t)=>Zc(Xc(t).filter(Boolean).join(" ")),Ur=null,ln={},ml=!1,Lo=(...t)=>e=>e.twMerge?((!Ur||ml)&&(ml=!1,Ur=It(ln)?gc:xm({...ln,extend:{theme:ln.theme,classGroups:ln.classGroups,conflictingClassGroupModifiers:ln.conflictingClassGroupModifiers,conflictingClassGroups:ln.conflictingClassGroups,...ln.extend}})),Zc(Ur(xo(t)))):xo(t),xa=(t,e)=>{for(let n in e)t.hasOwnProperty(n)?t[n]=xo(t[n],e[n]):t[n]=e[n];return t},ob=(t,e)=>{let{extend:n=null,slots:o={},variants:i={},compoundVariants:r=[],compoundSlots:l=[],defaultVariants:a={}}=t,s={...nb,...e},u=n!=null&&n.base?xo(n.base,t==null?void 0:t.base):t==null?void 0:t.base,f=n!=null&&n.variants&&!It(n.variants)?xc(i,n.variants):i,c=n!=null&&n.defaultVariants&&!It(n.defaultVariants)?{...n.defaultVariants,...a}:a;!It(s.twMergeConfig)&&!tb(s.twMergeConfig,ln)&&(ml=!0,ln=s.twMergeConfig);let d=It(n==null?void 0:n.slots),m=It(o)?{}:{base:xo(t==null?void 0:t.base,d&&(n==null?void 0:n.base)),...o},p=d?m:xa({...n==null?void 0:n.slots},It(m)?{base:t==null?void 0:t.base}:m),_=w=>{if(It(f)&&It(o)&&d)return Lo(u,w==null?void 0:w.class,w==null?void 0:w.className)(s);if(r&&!Array.isArray(r))throw new TypeError(`The "compoundVariants" prop must be an array. Received: ${typeof r}`);if(l&&!Array.isArray(l))throw new TypeError(`The "compoundSlots" prop must be an array. Received: ${typeof l}`);let C=(v,O,N=[],H)=>{let G=N;if(typeof O=="string")G=G.concat(Ja(O).split(" ").map(K=>`${v}:${K}`));else if(Array.isArray(O))G=G.concat(O.reduce((K,z)=>K.concat(`${v}:${z}`),[]));else if(typeof O=="object"&&typeof H=="string"){for(let K in O)if(O.hasOwnProperty(K)&&K===H){let z=O[K];if(z&&typeof z=="string"){let te=Ja(z);G[H]?G[H]=G[H].concat(te.split(" ").map(Y=>`${v}:${Y}`)):G[H]=te.split(" ").map(Y=>`${v}:${Y}`)}else Array.isArray(z)&&z.length>0&&(G[H]=z.reduce((te,Y)=>te.concat(`${v}:${Y}`),[]))}}return G},k=(v,O=f,N=null,H=null)=>{var G;let K=O[v];if(!K||It(K))return null;let z=(G=H==null?void 0:H[v])!=null?G:w==null?void 0:w[v];if(z===null)return null;let te=Xa(z),Y=Array.isArray(s.responsiveVariants)&&s.responsiveVariants.length>0||s.responsiveVariants===!0,h=c==null?void 0:c[v],B=[];if(typeof te=="object"&&Y)for(let[U,ue]of Object.entries(te)){let we=K[ue];if(U==="initial"){h=ue;continue}Array.isArray(s.responsiveVariants)&&!s.responsiveVariants.includes(U)||(B=C(U,we,B,N))}let X=te!=null&&typeof te!="object"?te:Xa(h),ne=K[X]||K.false;return typeof B=="object"&&typeof N=="string"&&B[N]?xa(B,ne):B.length>0?(B.push(ne),B):ne},D=()=>f?Object.keys(f).map(v=>k(v,f)):null,L=(v,O)=>{if(!f||typeof f!="object")return null;let N=new Array;for(let H in f){let G=k(H,f,v,O),K=v==="base"&&typeof G=="string"?G:G&&G[v];K&&(N[N.length]=K)}return N},R={};for(let v in w)w[v]!==void 0&&(R[v]=w[v]);let E=(v,O)=>{var N;let H=typeof(w==null?void 0:w[v])=="object"?{[v]:(N=w[v])==null?void 0:N.initial}:{};return{...c,...R,...H,...O}},V=(v=[],O)=>{let N=[];for(let{class:H,className:G,...K}of v){let z=!0;for(let[te,Y]of Object.entries(K)){let h=E(te,O);if(Array.isArray(Y)){if(!Y.includes(h[te])){z=!1;break}}else if(h[te]!==Y){z=!1;break}}z&&(H&&N.push(H),G&&N.push(G))}return N},$=v=>{let O=V(r,v),N=V(n==null?void 0:n.compoundVariants,v);return Jc(N,O)},W=v=>{let O=$(v);if(!Array.isArray(O))return O;let N={};for(let H of O)if(typeof H=="string"&&(N.base=Lo(N.base,H)(s)),typeof H=="object")for(let[G,K]of Object.entries(H))N[G]=Lo(N[G],K)(s);return N},y=v=>{if(l.length<1)return null;let O={};for(let{slots:N=[],class:H,className:G,...K}of l){if(!It(K)){let z=!0;for(let te of Object.keys(K)){let Y=E(te,v)[te];if(Y===void 0||(Array.isArray(K[te])?!K[te].includes(Y):K[te]!==Y)){z=!1;break}}if(!z)continue}for(let z of N)O[z]=O[z]||[],O[z].push([H,G])}return O};if(!It(o)||!d){let v={};if(typeof p=="object"&&!It(p))for(let O of Object.keys(p))v[O]=N=>{var H,G;return Lo(p[O],L(O,N),((H=W(N))!=null?H:[])[O],((G=y(N))!=null?G:[])[O],N==null?void 0:N.class,N==null?void 0:N.className)(s)};return v}return Lo(u,D(),$(),w==null?void 0:w.class,w==null?void 0:w.className)(s)},b=()=>{if(!(!f||typeof f!="object"))return Object.keys(f)};return _.variantKeys=b(),_.extend=n,_.base=u,_.slots=p,_.variants=f,_.defaultVariants=c,_.compoundSlots=l,_.compoundVariants=r,_};const bo=ob({base:"inline-flex items-center justify-center rounded-md text-sm font-medium whitespace-nowrap transition-colors focus-visible:outline-none disabled:pointer-events-none disabled:opacity-50",variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}});function ib(t){let e;const n=t[2].default,o=me(n,t,t[3],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&8)&&he(o,n,i,i[3],e?pe(n,i[3],r,null):_e(i[3]),null)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function rb(t){let e,n;const o=[{class:De("text-lg font-semibold leading-none tracking-tight",t[0])},t[1]];let i={$$slots:{default:[ib]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new X0({props:i}),{c(){Z(e.$$.fragment)},m(r,l){J(e,r,l),n=!0},p(r,[l]){const a=l&3?ye(o,[l&1&&{class:De("text-lg font-semibold leading-none tracking-tight",r[0])},l&2&&rt(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){x(e,r)}}}function lb(t,e,n){const o=["class"];let i=le(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Q(Q({},e),$e(s)),n(1,i=le(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,l=s.$$scope)},[a,i,r,l]}class Jn extends be{constructor(e){super(),ge(this,e,lb,rb,ce,{class:0})}}function sb(t){let e;const n=t[1].default,o=me(n,t,t[2],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&4)&&he(o,n,i,i[2],e?pe(n,i[2],r,null):_e(i[2]),null)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function ab(t){let e,n;const o=[t[0]];let i={$$slots:{default:[sb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new ag({props:i}),{c(){Z(e.$$.fragment)},m(r,l){J(e,r,l),n=!0},p(r,[l]){const a=l&1?ye(o,[rt(r[0])]):{};l&4&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){x(e,r)}}}function ub(t,e,n){const o=[];let i=le(e,o),{$$slots:r={},$$scope:l}=e;return t.$$set=a=>{e=Q(Q({},e),$e(a)),n(0,i=le(e,o)),"$$scope"in a&&n(2,l=a.$$scope)},[i,r,l]}class fb extends be{constructor(e){super(),ge(this,e,ub,ab,ce,{})}}function cb(t){let e,n,o;const i=t[3].default,r=me(i,t,t[2],null);let l=[{class:n=De("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=Q(a,l[s]);return{c(){e=I("div"),r&&r.c(),se(e,a)},m(s,u){M(s,e,u),r&&r.m(e,null),o=!0},p(s,[u]){r&&r.p&&(!o||u&4)&&he(r,i,s,s[2],o?pe(i,s[2],u,null):_e(s[2]),null),se(e,a=ye(l,[(!o||u&1&&n!==(n=De("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(A(r,s),o=!0)},o(s){S(r,s),o=!1},d(s){s&&T(e),r&&r.d(s)}}}function db(t,e,n){const o=["class"];let i=le(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Q(Q({},e),$e(s)),n(1,i=le(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,i,l,r]}class Mo extends be{constructor(e){super(),ge(this,e,db,cb,ce,{class:0})}}function mb(t){let e,n,o;const i=t[3].default,r=me(i,t,t[2],null);let l=[{class:n=De("flex flex-col space-y-1.5 text-center sm:text-left",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=Q(a,l[s]);return{c(){e=I("div"),r&&r.c(),se(e,a)},m(s,u){M(s,e,u),r&&r.m(e,null),o=!0},p(s,[u]){r&&r.p&&(!o||u&4)&&he(r,i,s,s[2],o?pe(i,s[2],u,null):_e(s[2]),null),se(e,a=ye(l,[(!o||u&1&&n!==(n=De("flex flex-col space-y-1.5 text-center sm:text-left",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(A(r,s),o=!0)},o(s){S(r,s),o=!1},d(s){s&&T(e),r&&r.d(s)}}}function pb(t,e,n){const o=["class"];let i=le(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Q(Q({},e),$e(s)),n(1,i=le(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,i,l,r]}class xn extends be{constructor(e){super(),ge(this,e,pb,mb,ce,{class:0})}}function Qc(t,{delay:e=0,duration:n=400,easing:o=cr}={}){const i=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:o,css:r=>`opacity: ${r*i}`}}function hb(t){let e,n;const o=[{transition:t[1]},{transitionConfig:t[2]},{class:De("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm",t[0])},t[3]];let i={};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new $g({props:i}),{c(){Z(e.$$.fragment)},m(r,l){J(e,r,l),n=!0},p(r,[l]){const a=l&15?ye(o,[l&2&&{transition:r[1]},l&4&&{transitionConfig:r[2]},l&1&&{class:De("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm",r[0])},l&8&&rt(r[3])]):{};e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){x(e,r)}}}function _b(t,e,n){const o=["class","transition","transitionConfig"];let i=le(e,o),{class:r=void 0}=e,{transition:l=Qc}=e,{transitionConfig:a={duration:150}}=e;return t.$$set=s=>{e=Q(Q({},e),$e(s)),n(3,i=le(e,o)),"class"in s&&n(0,r=s.class),"transition"in s&&n(1,l=s.transition),"transitionConfig"in s&&n(2,a=s.transitionConfig)},[r,l,a,i]}class gb extends be{constructor(e){super(),ge(this,e,_b,hb,ce,{class:0,transition:1,transitionConfig:2})}}/**
 * @license lucide-svelte v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};function Qa(t,e,n){const o=t.slice();return o[11]=e[n][0],o[12]=e[n][1],o}function Kr(t){let e,n=[t[12]],o={};for(let i=0;i<n.length;i+=1)o=Q(o,n[i]);return{c(){e=dr(t[11]),Li(e,o)},m(i,r){M(i,e,r)},p(i,r){Li(e,o=ye(n,[r&32&&i[12]]))},d(i){i&&T(e)}}}function za(t){let e=t[11],n,o=t[11]&&Kr(t);return{c(){o&&o.c(),n=Re()},m(i,r){o&&o.m(i,r),M(i,n,r)},p(i,r){i[11]?e?ce(e,i[11])?(o.d(1),o=Kr(i),e=i[11],o.c(),o.m(n.parentNode,n)):o.p(i,r):(o=Kr(i),e=i[11],o.c(),o.m(n.parentNode,n)):e&&(o.d(1),o=null,e=i[11])},d(i){i&&T(n),o&&o.d(i)}}}function bb(t){let e,n,o,i,r,l=Ue(t[5]),a=[];for(let d=0;d<l.length;d+=1)a[d]=za(Qa(t,l,d));const s=t[10].default,u=me(s,t,t[9],null);let f=[Za,t[7],{width:t[2]},{height:t[2]},{stroke:t[1]},{"stroke-width":o=t[4]?Number(t[3])*24/Number(t[2]):t[3]},{class:i=t[6]("lucide-icon","lucide",t[0]?`lucide-${t[0]}`:"",t[8].class)}],c={};for(let d=0;d<f.length;d+=1)c=Q(c,f[d]);return{c(){e=dr("svg");for(let d=0;d<a.length;d+=1)a[d].c();n=Re(),u&&u.c(),Li(e,c)},m(d,m){M(d,e,m);for(let p=0;p<a.length;p+=1)a[p]&&a[p].m(e,null);g(e,n),u&&u.m(e,null),r=!0},p(d,[m]){if(m&32){l=Ue(d[5]);let p;for(p=0;p<l.length;p+=1){const _=Qa(d,l,p);a[p]?a[p].p(_,m):(a[p]=za(_),a[p].c(),a[p].m(e,n))}for(;p<a.length;p+=1)a[p].d(1);a.length=l.length}u&&u.p&&(!r||m&512)&&he(u,s,d,d[9],r?pe(s,d[9],m,null):_e(d[9]),null),Li(e,c=ye(f,[Za,m&128&&d[7],(!r||m&4)&&{width:d[2]},(!r||m&4)&&{height:d[2]},(!r||m&2)&&{stroke:d[1]},(!r||m&28&&o!==(o=d[4]?Number(d[3])*24/Number(d[2]):d[3]))&&{"stroke-width":o},(!r||m&257&&i!==(i=d[6]("lucide-icon","lucide",d[0]?`lucide-${d[0]}`:"",d[8].class)))&&{class:i}]))},i(d){r||(A(u,d),r=!0)},o(d){S(u,d),r=!1},d(d){d&&T(e),gt(a,d),u&&u.d(d)}}}function vb(t,e,n){const o=["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode","mergeClasses"];let i=le(e,o),{$$slots:r={},$$scope:l}=e,{name:a=void 0}=e,{color:s="currentColor"}=e,{size:u=24}=e,{strokeWidth:f=2}=e,{absoluteStrokeWidth:c=!1}=e,{iconNode:d}=e;const m=(...p)=>p.filter((_,b,w)=>!!_&&w.indexOf(_)===b).join(" ");return t.$$set=p=>{n(8,e=Q(Q({},e),$e(p))),n(7,i=le(e,o)),"name"in p&&n(0,a=p.name),"color"in p&&n(1,s=p.color),"size"in p&&n(2,u=p.size),"strokeWidth"in p&&n(3,f=p.strokeWidth),"absoluteStrokeWidth"in p&&n(4,c=p.absoluteStrokeWidth),"iconNode"in p&&n(5,d=p.iconNode),"$$scope"in p&&n(9,l=p.$$scope)},e=$e(e),[a,s,u,f,c,d,m,i,e,l,r]}class yb extends be{constructor(e){super(),ge(this,e,vb,bb,ce,{name:0,color:1,size:2,strokeWidth:3,absoluteStrokeWidth:4,iconNode:5,mergeClasses:6})}get mergeClasses(){return this.$$.ctx[6]}}function wb(t){let e;const n=t[2].default,o=me(n,t,t[3],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&8)&&he(o,n,i,i[3],e?pe(n,i[3],r,null):_e(i[3]),null)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function kb(t){let e,n;const o=[{name:"x"},t[1],{iconNode:t[0]}];let i={$$slots:{default:[wb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new yb({props:i}),{c(){Z(e.$$.fragment)},m(r,l){J(e,r,l),n=!0},p(r,[l]){const a=l&3?ye(o,[o[0],l&2&&rt(r[1]),l&1&&{iconNode:r[0]}]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){x(e,r)}}}function Cb(t,e,n){let{$$slots:o={},$$scope:i}=e;const r=[["path",{d:"M18 6 6 18"}],["path",{d:"m6 6 12 12"}]];return t.$$set=l=>{n(1,e=Q(Q({},e),$e(l))),"$$scope"in l&&n(3,i=l.$$scope)},e=$e(e),[r,e,o,i]}class Ab extends be{constructor(e){super(),ge(this,e,Cb,kb,ce,{})}}function Sb(t){let e,n,o,i;return e=new Ab({props:{class:"h-4 w-4"}}),{c(){Z(e.$$.fragment),n=j(),o=I("span"),o.textContent="Close",P(o,"class","sr-only")},m(r,l){J(e,r,l),M(r,n,l),M(r,o,l),i=!0},p:ke,i(r){i||(A(e.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),i=!1},d(r){r&&(T(n),T(o)),x(e,r)}}}function Tb(t){let e,n,o;const i=t[4].default,r=me(i,t,t[5],null);return n=new tg({props:{class:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",$$slots:{default:[Sb]},$$scope:{ctx:t}}}),{c(){r&&r.c(),e=j(),Z(n.$$.fragment)},m(l,a){r&&r.m(l,a),M(l,e,a),J(n,l,a),o=!0},p(l,a){r&&r.p&&(!o||a&32)&&he(r,i,l,l[5],o?pe(i,l[5],a,null):_e(l[5]),null);const s={};a&32&&(s.$$scope={dirty:a,ctx:l}),n.$set(s)},i(l){o||(A(r,l),A(n.$$.fragment,l),o=!0)},o(l){S(r,l),S(n.$$.fragment,l),o=!1},d(l){l&&T(e),r&&r.d(l),x(n,l)}}}function Mb(t){let e,n,o,i;e=new gb({});const r=[{transition:t[1]},{transitionConfig:t[2]},{class:De("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg md:w-full",t[0])},t[3]];let l={$$slots:{default:[Tb]},$$scope:{ctx:t}};for(let a=0;a<r.length;a+=1)l=Q(l,r[a]);return o=new Cg({props:l}),{c(){Z(e.$$.fragment),n=j(),Z(o.$$.fragment)},m(a,s){J(e,a,s),M(a,n,s),J(o,a,s),i=!0},p(a,s){const u=s&15?ye(r,[s&2&&{transition:a[1]},s&4&&{transitionConfig:a[2]},s&1&&{class:De("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg md:w-full",a[0])},s&8&&rt(a[3])]):{};s&32&&(u.$$scope={dirty:s,ctx:a}),o.$set(u)},i(a){i||(A(e.$$.fragment,a),A(o.$$.fragment,a),i=!0)},o(a){S(e.$$.fragment,a),S(o.$$.fragment,a),i=!1},d(a){a&&T(n),x(e,a),x(o,a)}}}function Ib(t){let e,n;return e=new fb({props:{$$slots:{default:[Mb]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment)},m(o,i){J(e,o,i),n=!0},p(o,[i]){const r={};i&47&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function Ob(t,e,n){const o=["class","transition","transitionConfig"];let i=le(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{transition:s=_r}=e,{transitionConfig:u={duration:200}}=e;return t.$$set=f=>{e=Q(Q({},e),$e(f)),n(3,i=le(e,o)),"class"in f&&n(0,a=f.class),"transition"in f&&n(1,s=f.transition),"transitionConfig"in f&&n(2,u=f.transitionConfig),"$$scope"in f&&n(5,l=f.$$scope)},[a,s,u,i,r,l]}class Zn extends be{constructor(e){super(),ge(this,e,Ob,Ib,ce,{class:0,transition:1,transitionConfig:2})}}function Pb(t){let e;const n=t[2].default,o=me(n,t,t[3],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&8)&&he(o,n,i,i[3],e?pe(n,i[3],r,null):_e(i[3]),null)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Nb(t){let e,n;const o=[{class:De("text-sm text-muted-foreground",t[0])},t[1]];let i={$$slots:{default:[Pb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new qg({props:i}),{c(){Z(e.$$.fragment)},m(r,l){J(e,r,l),n=!0},p(r,[l]){const a=l&3?ye(o,[l&1&&{class:De("text-sm text-muted-foreground",r[0])},l&2&&rt(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){x(e,r)}}}function Eb(t,e,n){const o=["class"];let i=le(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Q(Q({},e),$e(s)),n(1,i=le(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,l=s.$$scope)},[a,i,r,l]}class Qn extends be{constructor(e){super(),ge(this,e,Eb,Nb,ce,{class:0})}}const zn=G0;function $b(t){let e,n,o,i,r=[{class:n=De("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t[1])},t[2]],l={};for(let a=0;a<r.length;a+=1)l=Q(l,r[a]);return{c(){e=I("input"),se(e,l)},m(a,s){M(a,e,s),e.autofocus&&e.focus(),rn(e,t[0]),o||(i=[ee(e,"input",t[17]),ee(e,"blur",t[3]),ee(e,"change",t[4]),ee(e,"click",t[5]),ee(e,"focus",t[6]),ee(e,"focusin",t[7]),ee(e,"focusout",t[8]),ee(e,"keydown",t[9]),ee(e,"keypress",t[10]),ee(e,"keyup",t[11]),ee(e,"mouseover",t[12]),ee(e,"mouseenter",t[13]),ee(e,"mouseleave",t[14]),ee(e,"paste",t[15]),ee(e,"input",t[16])],o=!0)},p(a,[s]){se(e,l=ye(r,[s&2&&n!==(n=De("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a[1]))&&{class:n},s&4&&a[2]])),s&1&&e.value!==a[0]&&rn(e,a[0])},i:ke,o:ke,d(a){a&&T(e),o=!1,Le(i)}}}function Rb(t,e,n){const o=["class","value"];let i=le(e,o),{class:r=void 0}=e,{value:l=void 0}=e;function a(R){oe.call(this,t,R)}function s(R){oe.call(this,t,R)}function u(R){oe.call(this,t,R)}function f(R){oe.call(this,t,R)}function c(R){oe.call(this,t,R)}function d(R){oe.call(this,t,R)}function m(R){oe.call(this,t,R)}function p(R){oe.call(this,t,R)}function _(R){oe.call(this,t,R)}function b(R){oe.call(this,t,R)}function w(R){oe.call(this,t,R)}function C(R){oe.call(this,t,R)}function k(R){oe.call(this,t,R)}function D(R){oe.call(this,t,R)}function L(){l=this.value,n(0,l)}return t.$$set=R=>{e=Q(Q({},e),$e(R)),n(2,i=le(e,o)),"class"in R&&n(1,r=R.class),"value"in R&&n(0,l=R.value)},[l,r,i,a,s,u,f,c,d,m,p,_,b,w,C,k,D,L]}class Ul extends be{constructor(e){super(),ge(this,e,Rb,$b,ce,{class:1,value:0})}}function Db(t){let e;const n=t[2].default,o=me(n,t,t[4],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&16)&&he(o,n,i,i[4],e?pe(n,i[4],r,null):_e(i[4]),null)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Lb(t){let e,n;const o=[{class:De("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",t[0])},t[1]];let i={$$slots:{default:[Db]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new Xg({props:i}),e.$on("mousedown",t[3]),{c(){Z(e.$$.fragment)},m(r,l){J(e,r,l),n=!0},p(r,[l]){const a=l&3?ye(o,[l&1&&{class:De("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",r[0])},l&2&&rt(r[1])]):{};l&16&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){x(e,r)}}}function Fb(t,e,n){const o=["class"];let i=le(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(u){oe.call(this,t,u)}return t.$$set=u=>{e=Q(Q({},e),$e(u)),n(1,i=le(e,o)),"class"in u&&n(0,a=u.class),"$$scope"in u&&n(4,l=u.$$scope)},[a,i,r,s,l]}class uo extends be{constructor(e){super(),ge(this,e,Fb,Lb,ce,{class:0})}}const Hn={land:{short_title:"Fill the grid",description_title:"You win by filling up all possible plots in the grid, and by meeting some requirements.",win:"You have filled the grid with buildings and met the requirements. Your citizens are happy, fulfilled, hard-working, and healthy. ",requirements:{0:{population_count:200,happiness:100,health:100,employment:1,knowledge:50,required_plots:["pub","small_school","community_center"]},1:{population_count:1e3,happiness:120,health:120,employment:1,knowledge:100,required_plots:["bank"]},2:{population_count:1e3,happiness:200,health:200,employment:1,knowledge:1e3,required_plots:["bank","city_hall"]}}},free_play:{short_title:"Quests",description_title:"Play for as long as you can and build the best city you can while completing quests."}};function Bb(t){let e,n;const o=[{class:De("shrink-0 bg-border",t[1]==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t[0])},{orientation:t[1]},{decorative:t[2]},t[3]];let i={};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new L0({props:i}),{c(){Z(e.$$.fragment)},m(r,l){J(e,r,l),n=!0},p(r,[l]){const a=l&15?ye(o,[l&3&&{class:De("shrink-0 bg-border",r[1]==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",r[0])},l&2&&{orientation:r[1]},l&4&&{decorative:r[2]},l&8&&rt(r[3])]):{};e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){x(e,r)}}}function jb(t,e,n){const o=["class","orientation","decorative"];let i=le(e,o),{class:r=void 0}=e,{orientation:l="horizontal"}=e,{decorative:a=void 0}=e;return t.$$set=s=>{e=Q(Q({},e),$e(s)),n(3,i=le(e,o)),"class"in s&&n(0,r=s.class),"orientation"in s&&n(1,l=s.orientation),"decorative"in s&&n(2,a=s.decorative)},[r,l,a,i]}class wt extends be{constructor(e){super(),ge(this,e,jb,Bb,ce,{class:0,orientation:1,decorative:2})}}function qb(t){let e;const n=t[3].default,o=me(n,t,t[4],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&16)&&he(o,n,i,i[4],e?pe(n,i[4],r,null):_e(i[4]),null)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Gb(t){let e,n;const o=[{class:De("text-lg font-semibold",t[0])},{level:t[1]},t[2]];let i={$$slots:{default:[qb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new y_({props:i}),{c(){Z(e.$$.fragment)},m(r,l){J(e,r,l),n=!0},p(r,[l]){const a=l&7?ye(o,[l&1&&{class:De("text-lg font-semibold",r[0])},l&2&&{level:r[1]},l&4&&rt(r[2])]):{};l&16&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){x(e,r)}}}function Vb(t,e,n){const o=["class","level"];let i=le(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{level:s="h3"}=e;return t.$$set=u=>{e=Q(Q({},e),$e(u)),n(2,i=le(e,o)),"class"in u&&n(0,a=u.class),"level"in u&&n(1,s=u.level),"$$scope"in u&&n(4,l=u.$$scope)},[a,s,i,r,l]}class Kl extends be{constructor(e){super(),ge(this,e,Vb,Gb,ce,{class:0,level:1})}}const Hb=t=>({builder:t&64}),eu=t=>({builder:t[6]});function Wb(t){let e;const n=t[2].default,o=me(n,t,t[5],eu);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&96)&&he(o,n,i,i[5],e?pe(n,i[5],r,Hb):_e(i[5]),eu)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Yb(t){let e,n;const o=[{class:De(bo(),t[0])},t[1]];let i={$$slots:{default:[Wb,({builder:r})=>({6:r}),({builder:r})=>r?64:0]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new M_({props:i}),e.$on("click",t[3]),e.$on("keydown",t[4]),{c(){Z(e.$$.fragment)},m(r,l){J(e,r,l),n=!0},p(r,[l]){const a=l&3?ye(o,[l&1&&{class:De(bo(),r[0])},l&2&&rt(r[1])]):{};l&96&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){x(e,r)}}}function Ub(t,e,n){const o=["class"];let i=le(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(f){oe.call(this,t,f)}function u(f){oe.call(this,t,f)}return t.$$set=f=>{e=Q(Q({},e),$e(f)),n(1,i=le(e,o)),"class"in f&&n(0,a=f.class),"$$scope"in f&&n(5,l=f.$$scope)},[a,i,r,s,u,l]}class zc extends be{constructor(e){super(),ge(this,e,Ub,Yb,ce,{class:0})}}const Kb=t=>({builder:t&64}),tu=t=>({builder:t[6]});function Xb(t){let e;const n=t[2].default,o=me(n,t,t[5],tu);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&96)&&he(o,n,i,i[5],e?pe(n,i[5],r,Kb):_e(i[5]),tu)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Jb(t){let e,n;const o=[{class:De(bo({variant:"default"}),"mt-2 sm:mt-0",t[0])},t[1]];let i={$$slots:{default:[Xb,({builder:r})=>({6:r}),({builder:r})=>r?64:0]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new R_({props:i}),e.$on("click",t[3]),e.$on("keydown",t[4]),{c(){Z(e.$$.fragment)},m(r,l){J(e,r,l),n=!0},p(r,[l]){const a=l&3?ye(o,[l&1&&{class:De(bo({variant:"default"}),"mt-2 sm:mt-0",r[0])},l&2&&rt(r[1])]):{};l&96&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){x(e,r)}}}function xb(t,e,n){const o=["class"];let i=le(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(f){oe.call(this,t,f)}function u(f){oe.call(this,t,f)}return t.$$set=f=>{e=Q(Q({},e),$e(f)),n(1,i=le(e,o)),"class"in f&&n(0,a=f.class),"$$scope"in f&&n(5,l=f.$$scope)},[a,i,r,s,u,l]}class ed extends be{constructor(e){super(),ge(this,e,xb,Jb,ce,{class:0})}}function Zb(t){let e;const n=t[1].default,o=me(n,t,t[2],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&4)&&he(o,n,i,i[2],e?pe(n,i[2],r,null):_e(i[2]),null)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Qb(t){let e,n;const o=[t[0]];let i={$$slots:{default:[Zb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new G_({props:i}),{c(){Z(e.$$.fragment)},m(r,l){J(e,r,l),n=!0},p(r,[l]){const a=l&1?ye(o,[rt(r[0])]):{};l&4&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){x(e,r)}}}function zb(t,e,n){const o=[];let i=le(e,o),{$$slots:r={},$$scope:l}=e;return t.$$set=a=>{e=Q(Q({},e),$e(a)),n(0,i=le(e,o)),"$$scope"in a&&n(2,l=a.$$scope)},[i,r,l]}class ev extends be{constructor(e){super(),ge(this,e,zb,Qb,ce,{})}}function tv(t){let e,n,o;const i=t[3].default,r=me(i,t,t[2],null);let l=[{class:n=De("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=Q(a,l[s]);return{c(){e=I("div"),r&&r.c(),se(e,a)},m(s,u){M(s,e,u),r&&r.m(e,null),o=!0},p(s,[u]){r&&r.p&&(!o||u&4)&&he(r,i,s,s[2],o?pe(i,s[2],u,null):_e(s[2]),null),se(e,a=ye(l,[(!o||u&1&&n!==(n=De("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(A(r,s),o=!0)},o(s){S(r,s),o=!1},d(s){s&&T(e),r&&r.d(s)}}}function nv(t,e,n){const o=["class"];let i=le(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Q(Q({},e),$e(s)),n(1,i=le(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,i,l,r]}class Cr extends be{constructor(e){super(),ge(this,e,nv,tv,ce,{class:0})}}function ov(t){let e,n,o;const i=t[3].default,r=me(i,t,t[2],null);let l=[{class:n=De("flex flex-col space-y-2 text-center sm:text-left",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=Q(a,l[s]);return{c(){e=I("div"),r&&r.c(),se(e,a)},m(s,u){M(s,e,u),r&&r.m(e,null),o=!0},p(s,[u]){r&&r.p&&(!o||u&4)&&he(r,i,s,s[2],o?pe(i,s[2],u,null):_e(s[2]),null),se(e,a=ye(l,[(!o||u&1&&n!==(n=De("flex flex-col space-y-2 text-center sm:text-left",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(A(r,s),o=!0)},o(s){S(r,s),o=!1},d(s){s&&T(e),r&&r.d(s)}}}function iv(t,e,n){const o=["class"];let i=le(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Q(Q({},e),$e(s)),n(1,i=le(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,i,l,r]}class Xl extends be{constructor(e){super(),ge(this,e,iv,ov,ce,{class:0})}}function rv(t){let e,n;const o=[{transition:t[1]},{transitionConfig:t[2]},{class:De("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm ",t[0])},t[3]];let i={};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new d0({props:i}),{c(){Z(e.$$.fragment)},m(r,l){J(e,r,l),n=!0},p(r,[l]){const a=l&15?ye(o,[l&2&&{transition:r[1]},l&4&&{transitionConfig:r[2]},l&1&&{class:De("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm ",r[0])},l&8&&rt(r[3])]):{};e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){x(e,r)}}}function lv(t,e,n){const o=["class","transition","transitionConfig"];let i=le(e,o),{class:r=void 0}=e,{transition:l=Qc}=e,{transitionConfig:a={duration:150}}=e;return t.$$set=s=>{e=Q(Q({},e),$e(s)),n(3,i=le(e,o)),"class"in s&&n(0,r=s.class),"transition"in s&&n(1,l=s.transition),"transitionConfig"in s&&n(2,a=s.transitionConfig)},[r,l,a,i]}class sv extends be{constructor(e){super(),ge(this,e,lv,rv,ce,{class:0,transition:1,transitionConfig:2})}}function av(t){let e;const n=t[4].default,o=me(n,t,t[5],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&32)&&he(o,n,i,i[5],e?pe(n,i[5],r,null):_e(i[5]),null)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function uv(t){let e,n,o,i;e=new sv({});const r=[{transition:t[0]},{transitionConfig:t[1]},{class:De("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg md:w-full",t[2])},t[3]];let l={$$slots:{default:[av]},$$scope:{ctx:t}};for(let a=0;a<r.length;a+=1)l=Q(l,r[a]);return o=new n0({props:l}),{c(){Z(e.$$.fragment),n=j(),Z(o.$$.fragment)},m(a,s){J(e,a,s),M(a,n,s),J(o,a,s),i=!0},p(a,s){const u=s&15?ye(r,[s&1&&{transition:a[0]},s&2&&{transitionConfig:a[1]},s&4&&{class:De("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg md:w-full",a[2])},s&8&&rt(a[3])]):{};s&32&&(u.$$scope={dirty:s,ctx:a}),o.$set(u)},i(a){i||(A(e.$$.fragment,a),A(o.$$.fragment,a),i=!0)},o(a){S(e.$$.fragment,a),S(o.$$.fragment,a),i=!1},d(a){a&&T(n),x(e,a),x(o,a)}}}function fv(t){let e,n;return e=new ev({props:{$$slots:{default:[uv]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment)},m(o,i){J(e,o,i),n=!0},p(o,[i]){const r={};i&47&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function cv(t,e,n){const o=["transition","transitionConfig","class"];let i=le(e,o),{$$slots:r={},$$scope:l}=e,{transition:a=_r}=e,{transitionConfig:s=void 0}=e,{class:u=void 0}=e;return t.$$set=f=>{e=Q(Q({},e),$e(f)),n(3,i=le(e,o)),"transition"in f&&n(0,a=f.transition),"transitionConfig"in f&&n(1,s=f.transitionConfig),"class"in f&&n(2,u=f.class),"$$scope"in f&&n(5,l=f.$$scope)},[a,s,u,i,r,l]}class Ar extends be{constructor(e){super(),ge(this,e,cv,fv,ce,{transition:0,transitionConfig:1,class:2})}}function dv(t){let e;const n=t[2].default,o=me(n,t,t[3],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&8)&&he(o,n,i,i[3],e?pe(n,i[3],r,null):_e(i[3]),null)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function mv(t){let e,n;const o=[{class:De("text-sm text-muted-foreground",t[0])},t[1]];let i={$$slots:{default:[dv]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new v0({props:i}),{c(){Z(e.$$.fragment)},m(r,l){J(e,r,l),n=!0},p(r,[l]){const a=l&3?ye(o,[l&1&&{class:De("text-sm text-muted-foreground",r[0])},l&2&&rt(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){x(e,r)}}}function pv(t,e,n){const o=["class"];let i=le(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Q(Q({},e),$e(s)),n(1,i=le(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,l=s.$$scope)},[a,i,r,l]}class Jl extends be{constructor(e){super(),ge(this,e,pv,mv,ce,{class:0})}}const Sr=m_;function nu(t,e,n){const o=t.slice();return o[25]=e[n],o}function ou(t,e,n){const o=t.slice();return o[28]=e[n],o}function hv(t){let e;return{c(){e=F("Pause Menu")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function _v(t){let e;return{c(){e=F("Unpause any time by pressing 'P'")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function gv(t){let e,n,o,i;return e=new Jn({props:{$$slots:{default:[hv]},$$scope:{ctx:t}}}),o=new Qn({props:{$$slots:{default:[_v]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment),n=j(),Z(o.$$.fragment)},m(r,l){J(e,r,l),M(r,n,l),J(o,r,l),i=!0},p(r,l){const a={};l[1]&1&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l[1]&1&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),x(e,r),x(o,r)}}}function iu(t){let e,n,o,i,r,l=JSON.stringify(t[5].requirements[t[2].difficulty].population_count)+"",a,s,u=JSON.stringify(t[2].townInfo.population_count)+"",f,c,d,m,p=JSON.stringify(t[5].requirements[t[2].difficulty].happiness)+"",_,b,w=JSON.stringify(t[2].townInfo.happiness)+"",C,k,D,L,R=JSON.stringify(t[5].requirements[t[2].difficulty].employment*100)+"",E,V,$=JSON.stringify((t[2].townInfo.employees/t[2].townInfo.population_count||0)*100)+"",W,y,v,O,N,H=JSON.stringify(t[5].requirements[t[2].difficulty].health)+"",G,K,z=JSON.stringify(t[2].townInfo.health)+"",te,Y,h,B,X=JSON.stringify(t[5].requirements[t[2].difficulty].knowledge)+"",ne,U,ue=JSON.stringify(t[2].townInfo.knowledge_points)+"",we,Ce,Ke;function Ve(de,We){return de[2].townInfo.population_count>=de[5].requirements[de[2].difficulty].population_count?vv:bv}let et=Ve(t),fe=et(t);function Ee(de,We){return de[2].townInfo.happiness>=de[5].requirements[de[2].difficulty].happiness?wv:yv}let Ge=Ee(t),Be=Ge(t);function Xe(de,We){return de[2].townInfo.employees/de[2].townInfo.population_count>=de[5].requirements[de[2].difficulty].employment?Cv:kv}let Ae=Xe(t),Se=Ae(t);function kt(de,We){return de[2].townInfo.health>=de[5].requirements[de[2].difficulty].health?Sv:Av}let Lt=kt(t),ft=Lt(t);function Ft(de,We){return de[2].townInfo.knowledge_points>=de[5].requirements[de[2].difficulty].knowledge?Mv:Tv}let ct=Ft(t),pt=ct(t),ot=t[5].requirements[t[2].difficulty].required_plots!=null&&t[5].requirements[t[2].difficulty].required_plots.length>0&&ru(t);return{c(){e=I("div"),e.textContent=`With your difficulty (${t[6]}), you must also have:`,n=j(),o=I("ul"),i=I("li"),fe.c(),r=F(`
                  Population: `),a=F(l),s=F(" - Currently at "),f=F(u),c=j(),d=I("li"),Be.c(),m=F(`
                  Happiness: `),_=F(p),b=F(" - Currently at "),C=F(w),k=j(),D=I("li"),Se.c(),L=F(`
                  Employment: `),E=F(R),V=F("% - Currently at "),W=F($),y=F("%"),v=j(),O=I("li"),ft.c(),N=F(`
                  Health: `),G=F(H),K=F(" - Currently at "),te=F(z),Y=j(),h=I("li"),pt.c(),B=F(`
                  Knowledge: `),ne=F(X),U=F(" - Currently at "),we=F(ue),Ce=j(),ot&&ot.c(),Ke=Re(),P(e,"class","leading-relaxed text-sm"),P(o,"class","list-inside list-disc leading-relaxedmt-0 text-sm")},m(de,We){M(de,e,We),M(de,n,We),M(de,o,We),g(o,i),fe.m(i,null),g(i,r),g(i,a),g(i,s),g(i,f),g(o,c),g(o,d),Be.m(d,null),g(d,m),g(d,_),g(d,b),g(d,C),g(o,k),g(o,D),Se.m(D,null),g(D,L),g(D,E),g(D,V),g(D,W),g(D,y),g(o,v),g(o,O),ft.m(O,null),g(O,N),g(O,G),g(O,K),g(O,te),g(o,Y),g(o,h),pt.m(h,null),g(h,B),g(h,ne),g(h,U),g(h,we),M(de,Ce,We),ot&&ot.m(de,We),M(de,Ke,We)},p(de,We){et!==(et=Ve(de))&&(fe.d(1),fe=et(de),fe&&(fe.c(),fe.m(i,r))),We[0]&4&&l!==(l=JSON.stringify(de[5].requirements[de[2].difficulty].population_count)+"")&&re(a,l),We[0]&4&&u!==(u=JSON.stringify(de[2].townInfo.population_count)+"")&&re(f,u),Ge!==(Ge=Ee(de))&&(Be.d(1),Be=Ge(de),Be&&(Be.c(),Be.m(d,m))),We[0]&4&&p!==(p=JSON.stringify(de[5].requirements[de[2].difficulty].happiness)+"")&&re(_,p),We[0]&4&&w!==(w=JSON.stringify(de[2].townInfo.happiness)+"")&&re(C,w),Ae!==(Ae=Xe(de))&&(Se.d(1),Se=Ae(de),Se&&(Se.c(),Se.m(D,L))),We[0]&4&&R!==(R=JSON.stringify(de[5].requirements[de[2].difficulty].employment*100)+"")&&re(E,R),We[0]&4&&$!==($=JSON.stringify((de[2].townInfo.employees/de[2].townInfo.population_count||0)*100)+"")&&re(W,$),Lt!==(Lt=kt(de))&&(ft.d(1),ft=Lt(de),ft&&(ft.c(),ft.m(O,N))),We[0]&4&&H!==(H=JSON.stringify(de[5].requirements[de[2].difficulty].health)+"")&&re(G,H),We[0]&4&&z!==(z=JSON.stringify(de[2].townInfo.health)+"")&&re(te,z),ct!==(ct=Ft(de))&&(pt.d(1),pt=ct(de),pt&&(pt.c(),pt.m(h,B))),We[0]&4&&X!==(X=JSON.stringify(de[5].requirements[de[2].difficulty].knowledge)+"")&&re(ne,X),We[0]&4&&ue!==(ue=JSON.stringify(de[2].townInfo.knowledge_points)+"")&&re(we,ue),de[5].requirements[de[2].difficulty].required_plots!=null&&de[5].requirements[de[2].difficulty].required_plots.length>0?ot?ot.p(de,We):(ot=ru(de),ot.c(),ot.m(Ke.parentNode,Ke)):ot&&(ot.d(1),ot=null)},d(de){de&&(T(e),T(n),T(o),T(Ce),T(Ke)),fe.d(),Be.d(),Se.d(),ft.d(),pt.d(),ot&&ot.d(de)}}}function bv(t){let e;return{c(){e=F("❌")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function vv(t){let e;return{c(){e=F("✅")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function yv(t){let e;return{c(){e=F("❌")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function wv(t){let e;return{c(){e=F("✅")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function kv(t){let e;return{c(){e=F("❌")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Cv(t){let e;return{c(){e=F("✅")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Av(t){let e;return{c(){e=F("❌")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Sv(t){let e;return{c(){e=F("✅")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Tv(t){let e;return{c(){e=F("❌")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Mv(t){let e;return{c(){e=F("✅")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function ru(t){let e,n,o,i=Ue(t[5].requirements[t[2].difficulty].required_plots),r=[];for(let l=0;l<i.length;l+=1)r[l]=lu(ou(t,i,l));return{c(){e=I("br"),n=F(`
                You also need to have these plots:
                `);for(let l=0;l<r.length;l+=1)r[l].c();o=Re()},m(l,a){M(l,e,a),M(l,n,a);for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(l,a);M(l,o,a)},p(l,a){if(a[0]&36){i=Ue(l[5].requirements[l[2].difficulty].required_plots);let s;for(s=0;s<i.length;s+=1){const u=ou(l,i,s);r[s]?r[s].p(u,a):(r[s]=lu(u),r[s].c(),r[s].m(o.parentNode,o))}for(;s<r.length;s+=1)r[s].d(1);r.length=i.length}},d(l){l&&(T(e),T(n),T(o)),gt(r,l)}}}function Iv(t){let e;return{c(){e=F("❌")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Ov(t){let e;return{c(){e=F("✅")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function lu(t){let e,n,o,i,r=t[28]+"",l,a;function s(c,d){return d[0]&4&&(o=null),o==null&&(o=He(c[28],c[2]).length>0),o?Ov:Iv}let u=s(t,[-1,-1]),f=u(t);return{c(){e=I("div"),n=I("li"),f.c(),i=j(),l=F(r),a=j(),P(e,"class","text-sm")},m(c,d){M(c,e,d),g(e,n),f.m(n,null),g(n,i),g(n,l),g(e,a)},p(c,d){u!==(u=s(c,d))&&(f.d(1),f=u(c),f&&(f.c(),f.m(n,i))),d[0]&4&&r!==(r=c[28]+"")&&re(l,r)},d(c){c&&T(e),f.d()}}}function Pv(t){let e;return{c(){e=F("Save game")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Nv(t){let e;return{c(){e=F("Save")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Ev(t){let e;return{c(){e=F("Upload game")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function su(t){let e,n;function o(){return t[19](t[25])}return e=new Mt({props:{class:"bg-blue-600 hover:bg-blue-700 mt-4",id:"collectPrize-"+t[25].id,$$slots:{default:[$v]},$$scope:{ctx:t}}}),e.$on("click",o),{c(){Z(e.$$.fragment)},m(i,r){J(e,i,r),n=!0},p(i,r){t=i;const l={};r[0]&2&&(l.id="collectPrize-"+t[25].id),r[0]&2|r[1]&1&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(i){n||(A(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){x(e,i)}}}function $v(t){let e,n=uu(t[25].prize)+"",o,i;return{c(){e=F("Collect Prize: $"),o=F(n),i=F(" gold")},m(r,l){M(r,e,l),M(r,o,l),M(r,i,l)},p(r,l){l[0]&2&&n!==(n=uu(r[25].prize)+"")&&re(o,n)},d(r){r&&(T(e),T(o),T(i))}}}function au(t){let e,n,o,i,r,l,a=t[25].title+"",s,u,f,c=t[25].requirements+"",d,m,p,_=t[25].icon+"",b,w,C,k=t[25].description+"",D,L,R,E,V=t[8](t[25].id)+"",$,W,y,v=t[13](t[25].id)&&!t[9](t[25].id),O,N,H,G=v&&su(t);return{c(){e=I("div"),n=I("div"),o=I("div"),i=I("span"),r=I("div"),l=I("span"),s=F(a),u=j(),f=I("div"),d=F(c),m=j(),p=I("div"),b=F(_),w=j(),C=I("div"),D=F(k),L=j(),R=I("div"),E=F("✅ Completed on Day "),$=F(V),y=j(),G&&G.c(),O=j(),P(l,"class","font-semibold text-lg"),P(f,"class","font-thin text-white opacity-75 text-xs"),P(r,"class","flex flex-row gap-3 w-[100%] text- items-center "),P(p,"class","text-sm flex-grow pr-1 break-inside-avoid "),P(i,"class","flex flex-row justify-between w-[100%]"),P(o,"class","min-w-32 flex"),P(C,"class","text-white opacity-75 text-sm font-light"),P(R,"class",W=(t[13](t[25].id)?"":"hidden")+" text-xs text-green-400"),P(n,"class","flex-col flex px-3 py-2 gap-0"),P(e,"class",N="flex flex-col gap-3 cursor-default rounded-md "+(t[13](t[25].id)?"bg-green-700":"bg-gray-500 opacity-35"))},m(K,z){M(K,e,z),g(e,n),g(n,o),g(o,i),g(i,r),g(r,l),g(l,s),g(r,u),g(r,f),g(f,d),g(i,m),g(i,p),g(p,b),g(n,w),g(n,C),g(C,D),g(n,L),g(n,R),g(R,E),g(R,$),g(n,y),G&&G.m(n,null),g(e,O),H=!0},p(K,z){(!H||z[0]&2)&&a!==(a=K[25].title+"")&&re(s,a),(!H||z[0]&2)&&c!==(c=K[25].requirements+"")&&re(d,c),(!H||z[0]&2)&&_!==(_=K[25].icon+"")&&re(b,_),(!H||z[0]&2)&&k!==(k=K[25].description+"")&&re(D,k),(!H||z[0]&2)&&V!==(V=K[8](K[25].id)+"")&&re($,V),(!H||z[0]&2&&W!==(W=(K[13](K[25].id)?"":"hidden")+" text-xs text-green-400"))&&P(R,"class",W),z[0]&2&&(v=K[13](K[25].id)&&!K[9](K[25].id)),v?G?(G.p(K,z),z[0]&2&&A(G,1)):(G=su(K),G.c(),A(G,1),G.m(n,null)):G&&(Ie(),S(G,1,1,()=>{G=null}),Oe()),(!H||z[0]&2&&N!==(N="flex flex-col gap-3 cursor-default rounded-md "+(K[13](K[25].id)?"bg-green-700":"bg-gray-500 opacity-35")))&&P(e,"class",N)},i(K){H||(A(G),H=!0)},o(K){S(G),H=!1},d(K){K&&T(e),G&&G.d()}}}function Rv(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,p,_,b,w,C,k,D,L,R,E,V,$,W,y,v,O,N,H,G,K,z,te,Y,h,B,X,ne,U,ue,we;e=new xn({props:{$$slots:{default:[gv]},$$scope:{ctx:t}}});let Ce=t[2].endGoal=="land"&&iu(t);_=new uo({props:{for:"saveButton",class:`cursor-pointer bg-blue-600 rounded-md text-center p-2.5 hover:bg-blue-700 justify-center flex 
					`,$$slots:{default:[Pv]},$$scope:{ctx:t}}}),w=new Mt({props:{class:`
					bg-blue-600 hover:bg-blue-700 hidden
					`,id:"saveButton",$$slots:{default:[Nv]},$$scope:{ctx:t}}}),w.$on("click",t[16]),k=new uo({props:{for:"upload",class:`cursor-pointer bg-blue-600 rounded-md text-center p-2.5 hover:bg-blue-700 justify-center flex 
					`,$$slots:{default:[Ev]},$$scope:{ctx:t}}}),L=new Ul({props:{class:"hidden",type:"file",id:"upload"}}),L.$on("change",t[12]),E=new wt({props:{orientation:"vertical"}});let Ke=Ue(t[1]),Ve=[];for(let fe=0;fe<Ke.length;fe+=1)Ve[fe]=au(nu(t,Ke,fe));const et=fe=>S(Ve[fe],1,1,()=>{Ve[fe]=null});return{c(){Z(e.$$.fragment),n=j(),o=I("div"),i=I("div"),r=I("div"),l=I("h4"),l.textContent="This game",a=j(),s=I("span"),s.textContent=`${t[5].description_title}`,u=j(),f=I("div"),Ce&&Ce.c(),c=j(),d=I("div"),m=I("div"),p=I("div"),Z(_.$$.fragment),b=j(),Z(w.$$.fragment),C=j(),Z(k.$$.fragment),D=j(),Z(L.$$.fragment),R=j(),Z(E.$$.fragment),V=j(),$=I("div"),W=I("h4"),W.textContent=`Your achievement (${t[7].length}
          / ${tt.length})`,y=j(),v=I("span"),v.textContent="Track your progress through games & complete challenges!",O=j(),N=I("br"),H=j(),G=I("div"),K=I("input"),z=j(),te=I("label"),te.textContent="Show completed",Y=j(),h=I("div"),B=I("div");for(let fe=0;fe<Ve.length;fe+=1)Ve[fe].c();X=j(),ne=I("span"),ne.textContent=`Prizes apply to the current game you are in. You can wait to apply
          them until the right time.`,P(l,"class","underline underline-offset-4"),P(s,"class","text-sm text-gray-400"),P(f,"class","mt-6 gap-0 py-0 text-gray-400 text-sm"),P(r,"class","flex-col h-max"),P(p,"class","flex gap-10 justify-start min-w-[100%] w-[100%] items"),P(m,"class","flex flex-col gap-3 h-max"),P(i,"class","flex flex-col gap-6 justify-between"),P(W,"class","underline underline-offset-4"),P(v,"class","text-sm text-gray-400"),P(K,"type","checkbox"),P(K,"id","toggle-show-completed"),P(K,"class","rounded"),P(K,"tabindex","-1"),K.checked=localStorage.getItem("showCompletedAchievements")==="true",P(te,"for","toggle-show-completed"),P(te,"class","text-xs text-gray-400 select-none ml-2 no-select cursor-pointer "),P(G,"class","flex items-center"),P(B,"class","flex flex-col gap-4 overflow-scroll pb-20 scroll-smooth"),P(h,"class","overflow-scroll mt-2 h-[55vh]"),P(ne,"class","text-sm text-yellow-400 italic"),P(o,"class","flex flex-row w-full gap-10")},m(fe,Ee){J(e,fe,Ee),M(fe,n,Ee),M(fe,o,Ee),g(o,i),g(i,r),g(r,l),g(r,a),g(r,s),g(r,u),g(r,f),Ce&&Ce.m(f,null),g(i,c),g(i,d),g(d,m),g(m,p),J(_,p,null),g(p,b),J(w,p,null),g(p,C),J(k,p,null),g(p,D),J(L,p,null),g(o,R),J(E,o,null),g(o,V),g(o,$),g($,W),g($,y),g($,v),g($,O),g($,N),g($,H),g($,G),g(G,K),g(G,z),g(G,te),g($,Y),g($,h),g(h,B);for(let Ge=0;Ge<Ve.length;Ge+=1)Ve[Ge]&&Ve[Ge].m(B,null);g($,X),g($,ne),U=!0,ue||(we=[ee(K,"change",t[17]),ee(K,"keydown",t[18])],ue=!0)},p(fe,Ee){const Ge={};Ee[1]&1&&(Ge.$$scope={dirty:Ee,ctx:fe}),e.$set(Ge),fe[2].endGoal=="land"?Ce?Ce.p(fe,Ee):(Ce=iu(fe),Ce.c(),Ce.m(f,null)):Ce&&(Ce.d(1),Ce=null);const Be={};Ee[1]&1&&(Be.$$scope={dirty:Ee,ctx:fe}),_.$set(Be);const Xe={};Ee[1]&1&&(Xe.$$scope={dirty:Ee,ctx:fe}),w.$set(Xe);const Ae={};if(Ee[1]&1&&(Ae.$$scope={dirty:Ee,ctx:fe}),k.$set(Ae),Ee[0]&9986){Ke=Ue(fe[1]);let Se;for(Se=0;Se<Ke.length;Se+=1){const kt=nu(fe,Ke,Se);Ve[Se]?(Ve[Se].p(kt,Ee),A(Ve[Se],1)):(Ve[Se]=au(kt),Ve[Se].c(),A(Ve[Se],1),Ve[Se].m(B,null))}for(Ie(),Se=Ke.length;Se<Ve.length;Se+=1)et(Se);Oe()}},i(fe){if(!U){A(e.$$.fragment,fe),A(_.$$.fragment,fe),A(w.$$.fragment,fe),A(k.$$.fragment,fe),A(L.$$.fragment,fe),A(E.$$.fragment,fe);for(let Ee=0;Ee<Ke.length;Ee+=1)A(Ve[Ee]);U=!0}},o(fe){S(e.$$.fragment,fe),S(_.$$.fragment,fe),S(w.$$.fragment,fe),S(k.$$.fragment,fe),S(L.$$.fragment,fe),S(E.$$.fragment,fe),Ve=Ve.filter(Boolean);for(let Ee=0;Ee<Ve.length;Ee+=1)S(Ve[Ee]);U=!1},d(fe){fe&&(T(n),T(o)),x(e,fe),Ce&&Ce.d(),x(_),x(w),x(k),x(L),x(E),gt(Ve,fe),ue=!1,Le(we)}}}function Dv(t){let e,n;return e=new Zn({props:{class:" max-w-[90vw] max-h-[90vh] bg-foregroundDark text-foregroundText",$$slots:{default:[Rv]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment)},m(o,i){J(e,o,i),n=!0},p(o,i){const r={};i[0]&6|i[1]&1&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function Lv(t){var o;let e=((o=t[14]())==null?void 0:o.title)+"",n;return{c(){n=F(e)},m(i,r){M(i,n,r)},p:ke,d(i){i&&T(n)}}}function Fv(t){let e,n,o,i;return{c(){var r,l;e=I("div"),n=I("div"),n.textContent=`${(r=t[14]())==null?void 0:r.icon}`,o=j(),i=I("div"),i.textContent=`${(l=t[14]())==null?void 0:l.description}`,P(n,"class","text-center w-[30%] align-middle flex flex-col text-8xl"),P(i,"class","pl-8 w-[80%] align-middle flex flex-col justify-center text-lg"),P(e,"class","flex flex-row align-middle justify-evenly px-6 py-4")},m(r,l){M(r,e,l),g(e,n),g(e,o),g(e,i)},p:ke,d(r){r&&T(e)}}}function Bv(t){let e,n,o,i;return e=new Kl({props:{class:"text-center text-xl font-bold",$$slots:{default:[Lv]},$$scope:{ctx:t}}}),o=new Jl({props:{$$slots:{default:[Fv]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment),n=j(),Z(o.$$.fragment)},m(r,l){J(e,r,l),M(r,n,l),J(o,r,l),i=!0},p(r,l){const a={};l[1]&1&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l[1]&1&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),x(e,r),x(o,r)}}}function jv(t){let e;return{c(){e=F("Close to collect prize")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function qv(t){let e,n;return e=new ed({props:{$$slots:{default:[jv]},$$scope:{ctx:t}}}),e.$on("click",t[21]),{c(){Z(e.$$.fragment)},m(o,i){J(e,o,i),n=!0},p(o,i){const r={};i[1]&1&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function Gv(t){let e,n,o,i;return e=new Xl({props:{$$slots:{default:[Bv]},$$scope:{ctx:t}}}),o=new Cr({props:{$$slots:{default:[qv]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment),n=j(),Z(o.$$.fragment)},m(r,l){J(e,r,l),M(r,n,l),J(o,r,l),i=!0},p(r,l){const a={};l[1]&1&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l[0]&16|l[1]&1&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),x(e,r),x(o,r)}}}function Vv(t){let e,n;return e=new Ar({props:{$$slots:{default:[Gv]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment)},m(o,i){J(e,o,i),n=!0},p(o,i){const r={};i[0]&16|i[1]&1&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function Hv(t){let e,n,o,i,r;function l(s){t[20](s)}let a={$$slots:{default:[Dv]},$$scope:{ctx:t}};return t[3]!==void 0&&(a.open=t[3]),e=new zn({props:a}),Ne.push(()=>Tn(e,"open",l)),i=new Sr({props:{open:t[4],$$slots:{default:[Vv]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment),o=j(),Z(i.$$.fragment)},m(s,u){J(e,s,u),M(s,o,u),J(i,s,u),r=!0},p(s,u){const f={};u[0]&6|u[1]&1&&(f.$$scope={dirty:u,ctx:s}),!n&&u[0]&8&&(n=!0,f.open=s[3],Sn(()=>n=!1)),e.$set(f);const c={};u[0]&16&&(c.open=s[4]),u[0]&16|u[1]&1&&(c.$$scope={dirty:u,ctx:s}),i.$set(c)},i(s){r||(A(e.$$.fragment,s),A(i.$$.fragment,s),r=!0)},o(s){S(e.$$.fragment,s),S(i.$$.fragment,s),r=!1},d(s){s&&T(o),x(e,s),x(i,s)}}}function uu(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function Wv(t){const e=JSON.parse(t);return e.townInfo!=null&&e.difficulty!=null}function Yv(t,e,n){let o,i,r,l,a;ae(t,an,y=>n(23,o=y)),ae(t,Pe,y=>n(2,i=y)),ae(t,Ui,y=>n(15,r=y)),ae(t,Rt,y=>n(3,l=y)),ae(t,Wi,y=>n(4,a=y));const u=Hn[i.endGoal],f=Rl[i.difficulty]||0;tt.sort((y,v)=>C(y.id)&&!C(v.id)?-1:!C(y.id)&&C(v.id)?1:0);const c=tt.filter(y=>C(y.id));function d(y){const v=o.achievements.find(O=>O[0]==y);return v==null?0:`${v[1]} in ${v[2]}.`}function m(y){const v=o.achievements.find(O=>O[0]==y);return v==null?!1:v[3]}function p(y){const v=o.achievements.find(N=>N[0]==y);if(v==null)return;const O=tt.find(N=>N.id==y);O!=null&&(Me(Pe,i.townInfo.gold+=O.prize,i),v[3]=!0,Me(an,o.achievements=o.achievements.map(N=>N[0]==y?v:N),o))}let _=tt;function b(){const y=JSON.stringify(i),v=new Blob([y],{type:"text/plain"}),O=URL.createObjectURL(v),N=document.createElement("a");N.href=O,N.download=`${new Date().toISOString()}.json`,document.body.appendChild(N),N.click(),document.body.removeChild(N),URL.revokeObjectURL(O)}function w(){const v=document.getElementById("upload").files;if(v==null)return;const O=v[0],N=new FileReader;N.onload=function(H){if(H.target==null)return;const G=H.target.result;if(typeof G=="string"){if(!Wv(G)){Pt.set("Invalid game file");return}Dl(JSON.parse(G))}else Pt.set("Invalid game file: is not String.")},N.readAsText(O)}function C(y){return o.achievements==null?!1:o.achievements.find(v=>v[0]==y)!=null}function k(){Ui.update(y=>!y),localStorage.setItem("showCompletedAchievements",localStorage.getItem("showCompletedAchievements")==="true"?"false":"true")}localStorage.getItem("pauseMenuTab")==null&&(localStorage.setItem("pauseMenuTab","game"),fc.set("game"));function D(){const y=o.achievements[o.achievements.length-1];if(y!=null)return tt.find(v=>v.id==y[0])}const L=()=>b(),R=()=>{k()},E=y=>{y.key==="p"&&Rt.set(!1)},V=y=>{p(y.id);const v=document.getElementById(`collectPrize-${y.id}`);v&&(v.style.display="none")};function $(y){l=y,Rt.set(l)}const W=()=>{Me(Wi,a=!1,a)};return t.$$.update=()=>{if(t.$$.dirty[0]&32774&&i)if(r)n(1,_=tt);else{n(1,_=[]);for(let y=0;y<tt.length;y++)(!C(tt[y].id)||!m(tt[y].id))&&_.push(tt[y])}},[k,_,i,l,a,u,f,c,d,m,p,b,w,C,D,r,L,R,E,V,$,W]}class Uv extends be{constructor(e){super(),ge(this,e,Yv,Hv,ce,{toggleShowCompleted:0},null,[-1,-1])}get toggleShowCompleted(){return this.$$.ctx[0]}}function Kv(){console.log("%cRUNNING STABILITY TESTS...","color: #26bfa5;");let t=0;return console.log("%cPASSED ALL STABILITY TESTS 😍","color: #26bfa5;"),t}function Xv(t){let e=t[0].endGameDetails.win==!0?"You won! 🎉":"You lost! 😭",n;return{c(){n=F(e)},m(o,i){M(o,n,i)},p(o,i){i&1&&e!==(e=o[0].endGameDetails.win==!0?"You won! 🎉":"You lost! 😭")&&re(n,e)},d(o){o&&T(n)}}}function Jv(t){let e;return{c(){e=F("Keep playin'")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function xv(t){let e,n=t[0].endGameDetails.msg+"",o,i,r,l,a,s,u,f;return u=new Mt({props:{class:"bg-accent",$$slots:{default:[Jv]},$$scope:{ctx:t}}}),u.$on("click",t[2]),{c(){e=I("span"),o=F(n),i=j(),r=I("br"),l=j(),a=I("br"),s=j(),Z(u.$$.fragment),P(e,"class","text-gray-500 text-sm")},m(c,d){M(c,e,d),g(e,o),M(c,i,d),M(c,r,d),M(c,l,d),M(c,a,d),M(c,s,d),J(u,c,d),f=!0},p(c,d){(!f||d&1)&&n!==(n=c[0].endGameDetails.msg+"")&&re(o,n);const m={};d&16&&(m.$$scope={dirty:d,ctx:c}),u.$set(m)},i(c){f||(A(u.$$.fragment,c),f=!0)},o(c){S(u.$$.fragment,c),f=!1},d(c){c&&(T(e),T(i),T(r),T(l),T(a),T(s)),x(u,c)}}}function Zv(t){let e,n,o,i;return e=new Jn({props:{$$slots:{default:[Xv]},$$scope:{ctx:t}}}),o=new Qn({props:{$$slots:{default:[xv]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment),n=j(),Z(o.$$.fragment)},m(r,l){J(e,r,l),M(r,n,l),J(o,r,l),i=!0},p(r,l){const a={};l&17&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&17&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),x(e,r),x(o,r)}}}function Qv(t){let e;return{c(){e=I("span"),e.textContent="Reset the game by pressing SHIFT+ESC",P(e,"class","text-gray-500 text-sm")},m(n,o){M(n,e,o)},p:ke,d(n){n&&T(e)}}}function zv(t){let e,n,o,i;return e=new xn({props:{$$slots:{default:[Zv]},$$scope:{ctx:t}}}),o=new Mo({props:{$$slots:{default:[Qv]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment),n=j(),Z(o.$$.fragment)},m(r,l){J(e,r,l),M(r,n,l),J(o,r,l),i=!0},p(r,l){const a={};l&17&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&16&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),x(e,r),x(o,r)}}}function ey(t){let e,n;return e=new Zn({props:{class:"bg-foregroundDark text-foregroundText",$$slots:{default:[zv]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment)},m(o,i){J(e,o,i),n=!0},p(o,i){const r={};i&17&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function ty(t){let e,n,o;function i(l){t[3](l)}let r={$$slots:{default:[ey]},$$scope:{ctx:t}};return t[1]!==void 0&&(r.open=t[1]),e=new zn({props:r}),Ne.push(()=>Tn(e,"open",i)),{c(){Z(e.$$.fragment)},m(l,a){J(e,l,a),o=!0},p(l,[a]){const s={};a&17&&(s.$$scope={dirty:a,ctx:l}),!n&&a&2&&(n=!0,s.open=l[1],Sn(()=>n=!1)),e.$set(s)},i(l){o||(A(e.$$.fragment,l),o=!0)},o(l){S(e.$$.fragment,l),o=!1},d(l){x(e,l)}}}function ny(t,e,n){let o;ae(t,Pe,a=>n(0,o=a));let i=!1;function r(){let a=o;a.overtime=!0,Pe.set(a),n(1,i=!1),Rt.set(!1)}function l(a){i=a,n(1,i),n(0,o)}return t.$$.update=()=>{t.$$.dirty&1&&(o.endGameDetails.msg!=""&&o.overtime==!1?n(1,i=!0):n(1,i=!1))},[o,i,r,l]}class oy extends be{constructor(e){super(),ge(this,e,ny,ty,ce,{})}}function iy(t){let e;return{c(){e=F("Welcome to Plots!")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function ry(t){let e;return{c(){e=F("Select a map size (difficulty)")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function ly(t){let e;return{c(){e=F("Select a game mode")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function sy(t){let e;return{c(){e=I("p"),e.textContent=`${Hn.free_play.description_title}`,P(e,"class","text-gray-500 text-sm")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function ay(t){let e;return{c(){e=I("p"),e.textContent=`${Hn.land.description_title}`,P(e,"class","text-gray-500 text-sm")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function uy(t){let e;return{c(){e=F("Town Name")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function fy(t){let e;return{c(){e=F("Cheats")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function cy(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,p,_,b,w,C,k,D,L,R,E,V,$,W,y,v,O,N,H,G,K;r=new uo({props:{for:"difficulty",class:"mt-2",$$slots:{default:[ry]},$$scope:{ctx:t}}}),m=new uo({props:{for:"endGoal",class:"mt-2",$$slots:{default:[ly]},$$scope:{ctx:t}}});function z(h,B){return h[0]==="land"?ay:sy}let te=z(t),Y=te(t);return L=new uo({props:{for:"townName",class:"mt-2",$$slots:{default:[uy]},$$scope:{ctx:t}}}),E=new Ul({props:{id:"townName",class:"mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Will be randomized if you leave blank"}}),W=new uo({props:{for:"cheats",class:"mt-2",$$slots:{default:[fy]},$$scope:{ctx:t}}}),{c(){e=I("a"),e.textContent="GitHub / Learn how to play",n=j(),o=I("div"),i=I("div"),Z(r.$$.fragment),l=j(),a=I("select"),s=I("option"),s.textContent="Easy (quick game)",u=I("option"),u.textContent="Normal",f=I("option"),f.textContent="Hard (longest game)",c=j(),d=I("div"),Z(m.$$.fragment),p=j(),Y.c(),_=j(),b=I("select"),w=I("option"),w.textContent=`${Hn.land.short_title}`,C=I("option"),C.textContent=`${Hn.free_play.short_title}`,k=j(),D=I("div"),Z(L.$$.fragment),R=j(),Z(E.$$.fragment),V=j(),$=I("div"),Z(W.$$.fragment),y=j(),v=I("select"),O=I("option"),O.textContent="No cheats",N=I("option"),N.textContent="Dev mode",P(e,"href","https://github.com/josephrcox/plots#how-to-play"),P(e,"class","text-blue-500 text-sm mb-4 hover:underline"),P(e,"target","_blank"),s.__value="0",rn(s,s.__value),u.__value="1",rn(u,u.__value),u.selected=!0,f.__value="2",rn(f,f.__value),P(a,"id","difficulty"),P(a,"class","mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"),w.__value="land",rn(w,w.__value),C.__value="free_play",rn(C,C.__value),P(b,"id","endGoal"),P(b,"class","mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),O.__value="false",rn(O,O.__value),O.selected=!0,N.__value="true",rn(N,N.__value),P(v,"id","cheats"),P(v,"class","mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),P(o,"class","flex flex-col justify-center gap-5 mt-4")},m(h,B){M(h,e,B),M(h,n,B),M(h,o,B),g(o,i),J(r,i,null),g(i,l),g(i,a),g(a,s),g(a,u),g(a,f),g(o,c),g(o,d),J(m,d,null),g(d,p),Y.m(d,null),g(d,_),g(d,b),g(b,w),g(b,C),ws(b,t[0]),g(o,k),g(o,D),J(L,D,null),g(D,R),J(E,D,null),g(o,V),g(o,$),J(W,$,null),g($,y),g($,v),g(v,O),g(v,N),H=!0,G||(K=ee(b,"change",t[4]),G=!0)},p(h,B){const X={};B&256&&(X.$$scope={dirty:B,ctx:h}),r.$set(X);const ne={};B&256&&(ne.$$scope={dirty:B,ctx:h}),m.$set(ne),te!==(te=z(h))&&(Y.d(1),Y=te(h),Y&&(Y.c(),Y.m(d,_))),(!H||B&1)&&ws(b,h[0]);const U={};B&256&&(U.$$scope={dirty:B,ctx:h}),L.$set(U);const ue={};B&256&&(ue.$$scope={dirty:B,ctx:h}),W.$set(ue)},i(h){H||(A(r.$$.fragment,h),A(m.$$.fragment,h),A(L.$$.fragment,h),A(E.$$.fragment,h),A(W.$$.fragment,h),H=!0)},o(h){S(r.$$.fragment,h),S(m.$$.fragment,h),S(L.$$.fragment,h),S(E.$$.fragment,h),S(W.$$.fragment,h),H=!1},d(h){h&&(T(e),T(n),T(o)),x(r),x(m),Y.d(),x(L),x(E),x(W),G=!1,K()}}}function dy(t){let e,n,o,i;return e=new Jn({props:{$$slots:{default:[iy]},$$scope:{ctx:t}}}),o=new Qn({props:{$$slots:{default:[cy]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment),n=j(),Z(o.$$.fragment)},m(r,l){J(e,r,l),M(r,n,l),J(o,r,l),i=!0},p(r,l){const a={};l&256&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&257&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),x(e,r),x(o,r)}}}function my(t){let e;return{c(){e=F("Reset user")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function py(t){let e,n,o=t[1].username+"",i,r,l,a,s,u,f,c,d;return a=new Mt({props:{$$slots:{default:[my]},$$scope:{ctx:t}}}),a.$on("click",t[5]),{c(){e=I("div"),n=I("span"),i=F(o),r=j(),l=I("div"),Z(a.$$.fragment),s=j(),u=I("button"),u.textContent="Start game",P(n,"class","italic opacity-30 text-xs py-2 text-start rounded h-full flex flex-col justify-center mr-10"),P(u,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-md"),P(e,"class","flex flex-row justify-between w-full px-1")},m(m,p){M(m,e,p),g(e,n),g(n,i),g(e,r),g(e,l),J(a,l,null),g(l,s),g(l,u),f=!0,c||(d=[ee(n,"click",t[6]),ee(u,"click",t[3])],c=!0)},p(m,p){(!f||p&2)&&o!==(o=m[1].username+"")&&re(i,o);const _={};p&256&&(_.$$scope={dirty:p,ctx:m}),a.$set(_)},i(m){f||(A(a.$$.fragment,m),f=!0)},o(m){S(a.$$.fragment,m),f=!1},d(m){m&&T(e),x(a),c=!1,Le(d)}}}function hy(t){let e,n,o,i;return e=new xn({props:{$$slots:{default:[dy]},$$scope:{ctx:t}}}),o=new Mo({props:{$$slots:{default:[py]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment),n=j(),Z(o.$$.fragment)},m(r,l){J(e,r,l),M(r,n,l),J(o,r,l),i=!0},p(r,l){const a={};l&257&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&258&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),x(e,r),x(o,r)}}}function _y(t){let e,n;return e=new Zn({props:{transition:_r,class:"bg-foregroundDark text-foregroundText",$$slots:{default:[hy]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment)},m(o,i){J(e,o,i),n=!0},p(o,i){const r={};i&259&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function gy(t){let e,n,o;function i(l){t[7](l)}let r={$$slots:{default:[_y]},$$scope:{ctx:t}};return t[2].visible!==void 0&&(r.open=t[2].visible),e=new zn({props:r}),Ne.push(()=>Tn(e,"open",i)),{c(){Z(e.$$.fragment)},m(l,a){J(e,l,a),o=!0},p(l,[a]){const s={};a&259&&(s.$$scope={dirty:a,ctx:l}),!n&&a&4&&(n=!0,s.open=l[2].visible,Sn(()=>n=!1)),e.$set(s)},i(l){o||(A(e.$$.fragment,l),o=!0)},o(l){S(e.$$.fragment,l),o=!1},d(l){x(e,l)}}}function by(t,e,n){let o,i;ae(t,an,c=>n(1,o=c)),ae(t,Wo,c=>n(2,i=c)),Rt.set(!1);function r(){const c=document.getElementById("difficulty").value,d=document.getElementById("endGoal").value,m=document.getElementById("townName").value,p=document.getElementById("cheats").value=="true";cm(c,d,m,p)}let l="free_play";const a=c=>{n(0,l=c.target.value)};function s(){Pt.set("Deleted :)"),localStorage.clear(),window.location.href=""}function u(){const c=prompt("Enter new username");let d=o;d.username=c,_m(d)}function f(c){t.$$.not_equal(i.visible,c)&&(i.visible=c,Wo.set(i))}return[l,o,i,r,a,s,u,f]}class vy extends be{constructor(e){super(),ge(this,e,by,gy,ce,{})}}function yy(t){let e;return{c(){e=F("Scoreboard")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function wy(t){let e=t[1].description_title+"",n;return{c(){n=F(e)},m(o,i){M(o,n,i)},p:ke,d(o){o&&T(n)}}}function ky(t){let e,n,o,i;return e=new Jn({props:{$$slots:{default:[yy]},$$scope:{ctx:t}}}),o=new Qn({props:{$$slots:{default:[wy]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment),n=j(),Z(o.$$.fragment)},m(r,l){J(e,r,l),M(r,n,l),J(o,r,l),i=!0},p(r,l){const a={};l&128&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&128&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),x(e,r),x(o,r)}}}function Cy(t){let e;return{c(){e=F("footer")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Ay(t){let e,n,o,i;return e=new xn({props:{$$slots:{default:[ky]},$$scope:{ctx:t}}}),o=new Mo({props:{$$slots:{default:[Cy]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment),n=F(`
		hi
		`),Z(o.$$.fragment)},m(r,l){J(e,r,l),M(r,n,l),J(o,r,l),i=!0},p(r,l){const a={};l&128&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&128&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),x(e,r),x(o,r)}}}function Sy(t){let e,n;return e=new Zn({props:{$$slots:{default:[Ay]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment)},m(o,i){J(e,o,i),n=!0},p(o,i){const r={};i&128&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function Ty(t){let e,n,o;function i(l){t[3](l)}let r={$$slots:{default:[Sy]},$$scope:{ctx:t}};return t[0]!==void 0&&(r.open=t[0]),e=new zn({props:r}),Ne.push(()=>Tn(e,"open",i)),{c(){Z(e.$$.fragment)},m(l,a){J(e,l,a),o=!0},p(l,[a]){const s={};a&128&&(s.$$scope={dirty:a,ctx:l}),!n&&a&1&&(n=!0,s.open=l[0],Sn(()=>n=!1)),e.$set(s)},i(l){o||(A(e.$$.fragment,l),o=!0)},o(l){S(e.$$.fragment,l),o=!1},d(l){x(e,l)}}}function My(t,e,n){let o,i;ae(t,Pe,s=>n(2,o=s)),ae(t,Ss,s=>n(0,i=s));const l=Hn[o.endGoal];Rl[o.difficulty];function a(s){i=s,Ss.set(i)}return t.$$.update=()=>{t.$$.dirty&4},[i,l,o,a]}class Iy extends be{constructor(e){super(),ge(this,e,My,Ty,ce,{})}}function Ei(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Oy(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function td(t){let e,n,o;t.length!==2?(e=Ei,n=(a,s)=>Ei(t(a),s),o=(a,s)=>t(a)-s):(e=t===Ei||t===Oy?t:Py,n=t,o=t);function i(a,s,u=0,f=a.length){if(u<f){if(e(s,s)!==0)return f;do{const c=u+f>>>1;n(a[c],s)<0?u=c+1:f=c}while(u<f)}return u}function r(a,s,u=0,f=a.length){if(u<f){if(e(s,s)!==0)return f;do{const c=u+f>>>1;n(a[c],s)<=0?u=c+1:f=c}while(u<f)}return u}function l(a,s,u=0,f=a.length){const c=i(a,s,u,f-1);return c>u&&o(a[c-1],s)>-o(a[c],s)?c-1:c}return{left:i,center:l,right:r}}function Py(){return 0}function Ny(t){return t===null?NaN:+t}const Ey=td(Ei),$y=Ey.right;td(Ny).center;const Ry=Math.sqrt(50),Dy=Math.sqrt(10),Ly=Math.sqrt(2);function er(t,e,n){const o=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(o)),r=o/Math.pow(10,i),l=r>=Ry?10:r>=Dy?5:r>=Ly?2:1;let a,s,u;return i<0?(u=Math.pow(10,-i)/l,a=Math.round(t*u),s=Math.round(e*u),a/u<t&&++a,s/u>e&&--s,u=-u):(u=Math.pow(10,i)*l,a=Math.round(t/u),s=Math.round(e/u),a*u<t&&++a,s*u>e&&--s),s<a&&.5<=n&&n<2?er(t,e,n*2):[a,s,u]}function Fy(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const o=e<t,[i,r,l]=o?er(e,t,n):er(t,e,n);if(!(r>=i))return[];const a=r-i+1,s=new Array(a);if(o)if(l<0)for(let u=0;u<a;++u)s[u]=(r-u)/-l;else for(let u=0;u<a;++u)s[u]=(r-u)*l;else if(l<0)for(let u=0;u<a;++u)s[u]=(i+u)/-l;else for(let u=0;u<a;++u)s[u]=(i+u)*l;return s}function pl(t,e,n){return e=+e,t=+t,n=+n,er(t,e,n)[2]}function By(t,e,n){e=+e,t=+t,n=+n;const o=e<t,i=o?pl(e,t,n):pl(t,e,n);return(o?-1:1)*(i<0?1/-i:i)}function jy(t){return t}var Xr=1,Jr=2,hl=3,jo=4,fu=1e-6;function qy(t){return"translate("+t+",0)"}function Gy(t){return"translate(0,"+t+")"}function Vy(t){return e=>+t(e)}function Hy(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function Wy(){return!this.__axis}function nd(t,e){var n=[],o=null,i=null,r=6,l=6,a=3,s=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=t===Xr||t===jo?-1:1,f=t===jo||t===Jr?"x":"y",c=t===Xr||t===hl?qy:Gy;function d(m){var p=o??(e.ticks?e.ticks.apply(e,n):e.domain()),_=i??(e.tickFormat?e.tickFormat.apply(e,n):jy),b=Math.max(r,0)+a,w=e.range(),C=+w[0]+s,k=+w[w.length-1]+s,D=(e.bandwidth?Hy:Vy)(e.copy(),s),L=m.selection?m.selection():m,R=L.selectAll(".domain").data([null]),E=L.selectAll(".tick").data(p,e).order(),V=E.exit(),$=E.enter().append("g").attr("class","tick"),W=E.select("line"),y=E.select("text");R=R.merge(R.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),E=E.merge($),W=W.merge($.append("line").attr("stroke","currentColor").attr(f+"2",u*r)),y=y.merge($.append("text").attr("fill","currentColor").attr(f,u*b).attr("dy",t===Xr?"0em":t===hl?"0.71em":"0.32em")),m!==L&&(R=R.transition(m),E=E.transition(m),W=W.transition(m),y=y.transition(m),V=V.transition(m).attr("opacity",fu).attr("transform",function(v){return isFinite(v=D(v))?c(v+s):this.getAttribute("transform")}),$.attr("opacity",fu).attr("transform",function(v){var O=this.parentNode.__axis;return c((O&&isFinite(O=O(v))?O:D(v))+s)})),V.remove(),R.attr("d",t===jo||t===Jr?l?"M"+u*l+","+C+"H"+s+"V"+k+"H"+u*l:"M"+s+","+C+"V"+k:l?"M"+C+","+u*l+"V"+s+"H"+k+"V"+u*l:"M"+C+","+s+"H"+k),E.attr("opacity",1).attr("transform",function(v){return c(D(v)+s)}),W.attr(f+"2",u*r),y.attr(f,u*b).text(_),L.filter(Wy).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Jr?"start":t===jo?"end":"middle"),L.each(function(){this.__axis=D})}return d.scale=function(m){return arguments.length?(e=m,d):e},d.ticks=function(){return n=Array.from(arguments),d},d.tickArguments=function(m){return arguments.length?(n=m==null?[]:Array.from(m),d):n.slice()},d.tickValues=function(m){return arguments.length?(o=m==null?null:Array.from(m),d):o&&o.slice()},d.tickFormat=function(m){return arguments.length?(i=m,d):i},d.tickSize=function(m){return arguments.length?(r=l=+m,d):r},d.tickSizeInner=function(m){return arguments.length?(r=+m,d):r},d.tickSizeOuter=function(m){return arguments.length?(l=+m,d):l},d.tickPadding=function(m){return arguments.length?(a=+m,d):a},d.offset=function(m){return arguments.length?(s=+m,d):s},d}function Yy(t){return nd(hl,t)}function Uy(t){return nd(jo,t)}var Ky={value:()=>{}};function od(){for(var t=0,e=arguments.length,n={},o;t<e;++t){if(!(o=arguments[t]+"")||o in n||/[\s.]/.test(o))throw new Error("illegal type: "+o);n[o]=[]}return new $i(n)}function $i(t){this._=t}function Xy(t,e){return t.trim().split(/^|\s+/).map(function(n){var o="",i=n.indexOf(".");if(i>=0&&(o=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:o}})}$i.prototype=od.prototype={constructor:$i,on:function(t,e){var n=this._,o=Xy(t+"",n),i,r=-1,l=o.length;if(arguments.length<2){for(;++r<l;)if((i=(t=o[r]).type)&&(i=Jy(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++r<l;)if(i=(t=o[r]).type)n[i]=cu(n[i],t.name,e);else if(e==null)for(i in n)n[i]=cu(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new $i(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),o=0,i,r;o<i;++o)n[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=this._[t],o=0,i=r.length;o<i;++o)r[o].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var o=this._[t],i=0,r=o.length;i<r;++i)o[i].value.apply(e,n)}};function Jy(t,e){for(var n=0,o=t.length,i;n<o;++n)if((i=t[n]).name===e)return i.value}function cu(t,e,n){for(var o=0,i=t.length;o<i;++o)if(t[o].name===e){t[o]=Ky,t=t.slice(0,o).concat(t.slice(o+1));break}return n!=null&&t.push({name:e,value:n}),t}var _l="http://www.w3.org/1999/xhtml";const du={svg:"http://www.w3.org/2000/svg",xhtml:_l,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Tr(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),du.hasOwnProperty(e)?{space:du[e],local:t}:t}function xy(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===_l&&e.documentElement.namespaceURI===_l?e.createElement(t):e.createElementNS(n,t)}}function Zy(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function id(t){var e=Tr(t);return(e.local?Zy:xy)(e)}function Qy(){}function xl(t){return t==null?Qy:function(){return this.querySelector(t)}}function zy(t){typeof t!="function"&&(t=xl(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var r=e[i],l=r.length,a=o[i]=new Array(l),s,u,f=0;f<l;++f)(s=r[f])&&(u=t.call(s,s.__data__,f,r))&&("__data__"in s&&(u.__data__=s.__data__),a[f]=u);return new Et(o,this._parents)}function ew(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function tw(){return[]}function rd(t){return t==null?tw:function(){return this.querySelectorAll(t)}}function nw(t){return function(){return ew(t.apply(this,arguments))}}function ow(t){typeof t=="function"?t=nw(t):t=rd(t);for(var e=this._groups,n=e.length,o=[],i=[],r=0;r<n;++r)for(var l=e[r],a=l.length,s,u=0;u<a;++u)(s=l[u])&&(o.push(t.call(s,s.__data__,u,l)),i.push(s));return new Et(o,i)}function ld(t){return function(){return this.matches(t)}}function sd(t){return function(e){return e.matches(t)}}var iw=Array.prototype.find;function rw(t){return function(){return iw.call(this.children,t)}}function lw(){return this.firstElementChild}function sw(t){return this.select(t==null?lw:rw(typeof t=="function"?t:sd(t)))}var aw=Array.prototype.filter;function uw(){return Array.from(this.children)}function fw(t){return function(){return aw.call(this.children,t)}}function cw(t){return this.selectAll(t==null?uw:fw(typeof t=="function"?t:sd(t)))}function dw(t){typeof t!="function"&&(t=ld(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var r=e[i],l=r.length,a=o[i]=[],s,u=0;u<l;++u)(s=r[u])&&t.call(s,s.__data__,u,r)&&a.push(s);return new Et(o,this._parents)}function ad(t){return new Array(t.length)}function mw(){return new Et(this._enter||this._groups.map(ad),this._parents)}function tr(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}tr.prototype={constructor:tr,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function pw(t){return function(){return t}}function hw(t,e,n,o,i,r){for(var l=0,a,s=e.length,u=r.length;l<u;++l)(a=e[l])?(a.__data__=r[l],o[l]=a):n[l]=new tr(t,r[l]);for(;l<s;++l)(a=e[l])&&(i[l]=a)}function _w(t,e,n,o,i,r,l){var a,s,u=new Map,f=e.length,c=r.length,d=new Array(f),m;for(a=0;a<f;++a)(s=e[a])&&(d[a]=m=l.call(s,s.__data__,a,e)+"",u.has(m)?i[a]=s:u.set(m,s));for(a=0;a<c;++a)m=l.call(t,r[a],a,r)+"",(s=u.get(m))?(o[a]=s,s.__data__=r[a],u.delete(m)):n[a]=new tr(t,r[a]);for(a=0;a<f;++a)(s=e[a])&&u.get(d[a])===s&&(i[a]=s)}function gw(t){return t.__data__}function bw(t,e){if(!arguments.length)return Array.from(this,gw);var n=e?_w:hw,o=this._parents,i=this._groups;typeof t!="function"&&(t=pw(t));for(var r=i.length,l=new Array(r),a=new Array(r),s=new Array(r),u=0;u<r;++u){var f=o[u],c=i[u],d=c.length,m=vw(t.call(f,f&&f.__data__,u,o)),p=m.length,_=a[u]=new Array(p),b=l[u]=new Array(p),w=s[u]=new Array(d);n(f,c,_,b,w,m,e);for(var C=0,k=0,D,L;C<p;++C)if(D=_[C]){for(C>=k&&(k=C+1);!(L=b[k])&&++k<p;);D._next=L||null}}return l=new Et(l,o),l._enter=a,l._exit=s,l}function vw(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function yw(){return new Et(this._exit||this._groups.map(ad),this._parents)}function ww(t,e,n){var o=this.enter(),i=this,r=this.exit();return typeof t=="function"?(o=t(o),o&&(o=o.selection())):o=o.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?r.remove():n(r),o&&i?o.merge(i).order():i}function kw(t){for(var e=t.selection?t.selection():t,n=this._groups,o=e._groups,i=n.length,r=o.length,l=Math.min(i,r),a=new Array(i),s=0;s<l;++s)for(var u=n[s],f=o[s],c=u.length,d=a[s]=new Array(c),m,p=0;p<c;++p)(m=u[p]||f[p])&&(d[p]=m);for(;s<i;++s)a[s]=n[s];return new Et(a,this._parents)}function Cw(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var o=t[e],i=o.length-1,r=o[i],l;--i>=0;)(l=o[i])&&(r&&l.compareDocumentPosition(r)^4&&r.parentNode.insertBefore(l,r),r=l);return this}function Aw(t){t||(t=Sw);function e(c,d){return c&&d?t(c.__data__,d.__data__):!c-!d}for(var n=this._groups,o=n.length,i=new Array(o),r=0;r<o;++r){for(var l=n[r],a=l.length,s=i[r]=new Array(a),u,f=0;f<a;++f)(u=l[f])&&(s[f]=u);s.sort(e)}return new Et(i,this._parents).order()}function Sw(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Tw(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Mw(){return Array.from(this)}function Iw(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var o=t[e],i=0,r=o.length;i<r;++i){var l=o[i];if(l)return l}return null}function Ow(){let t=0;for(const e of this)++t;return t}function Pw(){return!this.node()}function Nw(t){for(var e=this._groups,n=0,o=e.length;n<o;++n)for(var i=e[n],r=0,l=i.length,a;r<l;++r)(a=i[r])&&t.call(a,a.__data__,r,i);return this}function Ew(t){return function(){this.removeAttribute(t)}}function $w(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Rw(t,e){return function(){this.setAttribute(t,e)}}function Dw(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Lw(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Fw(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Bw(t,e){var n=Tr(t);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((e==null?n.local?$w:Ew:typeof e=="function"?n.local?Fw:Lw:n.local?Dw:Rw)(n,e))}function ud(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function jw(t){return function(){this.style.removeProperty(t)}}function qw(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Gw(t,e,n){return function(){var o=e.apply(this,arguments);o==null?this.style.removeProperty(t):this.style.setProperty(t,o,n)}}function Vw(t,e,n){return arguments.length>1?this.each((e==null?jw:typeof e=="function"?Gw:qw)(t,e,n??"")):vo(this.node(),t)}function vo(t,e){return t.style.getPropertyValue(e)||ud(t).getComputedStyle(t,null).getPropertyValue(e)}function Hw(t){return function(){delete this[t]}}function Ww(t,e){return function(){this[t]=e}}function Yw(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Uw(t,e){return arguments.length>1?this.each((e==null?Hw:typeof e=="function"?Yw:Ww)(t,e)):this.node()[t]}function fd(t){return t.trim().split(/^|\s+/)}function Zl(t){return t.classList||new cd(t)}function cd(t){this._node=t,this._names=fd(t.getAttribute("class")||"")}cd.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function dd(t,e){for(var n=Zl(t),o=-1,i=e.length;++o<i;)n.add(e[o])}function md(t,e){for(var n=Zl(t),o=-1,i=e.length;++o<i;)n.remove(e[o])}function Kw(t){return function(){dd(this,t)}}function Xw(t){return function(){md(this,t)}}function Jw(t,e){return function(){(e.apply(this,arguments)?dd:md)(this,t)}}function xw(t,e){var n=fd(t+"");if(arguments.length<2){for(var o=Zl(this.node()),i=-1,r=n.length;++i<r;)if(!o.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?Jw:e?Kw:Xw)(n,e))}function Zw(){this.textContent=""}function Qw(t){return function(){this.textContent=t}}function zw(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function e2(t){return arguments.length?this.each(t==null?Zw:(typeof t=="function"?zw:Qw)(t)):this.node().textContent}function t2(){this.innerHTML=""}function n2(t){return function(){this.innerHTML=t}}function o2(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function i2(t){return arguments.length?this.each(t==null?t2:(typeof t=="function"?o2:n2)(t)):this.node().innerHTML}function r2(){this.nextSibling&&this.parentNode.appendChild(this)}function l2(){return this.each(r2)}function s2(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function a2(){return this.each(s2)}function u2(t){var e=typeof t=="function"?t:id(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function f2(){return null}function c2(t,e){var n=typeof t=="function"?t:id(t),o=e==null?f2:typeof e=="function"?e:xl(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)})}function d2(){var t=this.parentNode;t&&t.removeChild(this)}function m2(){return this.each(d2)}function p2(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function h2(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function _2(t){return this.select(t?h2:p2)}function g2(t){return arguments.length?this.property("__data__",t):this.node().__data__}function b2(t){return function(e){t.call(this,e,this.__data__)}}function v2(t){return t.trim().split(/^|\s+/).map(function(e){var n="",o=e.indexOf(".");return o>=0&&(n=e.slice(o+1),e=e.slice(0,o)),{type:e,name:n}})}function y2(t){return function(){var e=this.__on;if(e){for(var n=0,o=-1,i=e.length,r;n<i;++n)r=e[n],(!t.type||r.type===t.type)&&r.name===t.name?this.removeEventListener(r.type,r.listener,r.options):e[++o]=r;++o?e.length=o:delete this.__on}}}function w2(t,e,n){return function(){var o=this.__on,i,r=b2(e);if(o){for(var l=0,a=o.length;l<a;++l)if((i=o[l]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=r,i.options=n),i.value=e;return}}this.addEventListener(t.type,r,n),i={type:t.type,name:t.name,value:e,listener:r,options:n},o?o.push(i):this.__on=[i]}}function k2(t,e,n){var o=v2(t+""),i,r=o.length,l;if(arguments.length<2){var a=this.node().__on;if(a){for(var s=0,u=a.length,f;s<u;++s)for(i=0,f=a[s];i<r;++i)if((l=o[i]).type===f.type&&l.name===f.name)return f.value}return}for(a=e?w2:y2,i=0;i<r;++i)this.each(a(o[i],e,n));return this}function pd(t,e,n){var o=ud(t),i=o.CustomEvent;typeof i=="function"?i=new i(e,n):(i=o.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function C2(t,e){return function(){return pd(this,t,e)}}function A2(t,e){return function(){return pd(this,t,e.apply(this,arguments))}}function S2(t,e){return this.each((typeof e=="function"?A2:C2)(t,e))}function*T2(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var o=t[e],i=0,r=o.length,l;i<r;++i)(l=o[i])&&(yield l)}var hd=[null];function Et(t,e){this._groups=t,this._parents=e}function oi(){return new Et([[document.documentElement]],hd)}function M2(){return this}Et.prototype=oi.prototype={constructor:Et,select:zy,selectAll:ow,selectChild:sw,selectChildren:cw,filter:dw,data:bw,enter:mw,exit:yw,join:ww,merge:kw,selection:M2,order:Cw,sort:Aw,call:Tw,nodes:Mw,node:Iw,size:Ow,empty:Pw,each:Nw,attr:Bw,style:Vw,property:Uw,classed:xw,text:e2,html:i2,raise:l2,lower:a2,append:u2,insert:c2,remove:m2,clone:_2,datum:g2,on:k2,dispatch:S2,[Symbol.iterator]:T2};function I2(t){return typeof t=="string"?new Et([[document.querySelector(t)]],[document.documentElement]):new Et([[t]],hd)}function Ql(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function _d(t,e){var n=Object.create(t.prototype);for(var o in e)n[o]=e[o];return n}function ii(){}var Zo=.7,nr=1/Zo,ho="\\s*([+-]?\\d+)\\s*",Qo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Xt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",O2=/^#([0-9a-f]{3,8})$/,P2=new RegExp(`^rgb\\(${ho},${ho},${ho}\\)$`),N2=new RegExp(`^rgb\\(${Xt},${Xt},${Xt}\\)$`),E2=new RegExp(`^rgba\\(${ho},${ho},${ho},${Qo}\\)$`),$2=new RegExp(`^rgba\\(${Xt},${Xt},${Xt},${Qo}\\)$`),R2=new RegExp(`^hsl\\(${Qo},${Xt},${Xt}\\)$`),D2=new RegExp(`^hsla\\(${Qo},${Xt},${Xt},${Qo}\\)$`),mu={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ql(ii,Wn,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:pu,formatHex:pu,formatHex8:L2,formatHsl:F2,formatRgb:hu,toString:hu});function pu(){return this.rgb().formatHex()}function L2(){return this.rgb().formatHex8()}function F2(){return gd(this).formatHsl()}function hu(){return this.rgb().formatRgb()}function Wn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=O2.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?_u(e):n===3?new St(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Ai(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Ai(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=P2.exec(t))?new St(e[1],e[2],e[3],1):(e=N2.exec(t))?new St(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=E2.exec(t))?Ai(e[1],e[2],e[3],e[4]):(e=$2.exec(t))?Ai(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=R2.exec(t))?vu(e[1],e[2]/100,e[3]/100,1):(e=D2.exec(t))?vu(e[1],e[2]/100,e[3]/100,e[4]):mu.hasOwnProperty(t)?_u(mu[t]):t==="transparent"?new St(NaN,NaN,NaN,0):null}function _u(t){return new St(t>>16&255,t>>8&255,t&255,1)}function Ai(t,e,n,o){return o<=0&&(t=e=n=NaN),new St(t,e,n,o)}function B2(t){return t instanceof ii||(t=Wn(t)),t?(t=t.rgb(),new St(t.r,t.g,t.b,t.opacity)):new St}function gl(t,e,n,o){return arguments.length===1?B2(t):new St(t,e,n,o??1)}function St(t,e,n,o){this.r=+t,this.g=+e,this.b=+n,this.opacity=+o}Ql(St,gl,_d(ii,{brighter(t){return t=t==null?nr:Math.pow(nr,t),new St(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Zo:Math.pow(Zo,t),new St(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new St(Ln(this.r),Ln(this.g),Ln(this.b),or(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:gu,formatHex:gu,formatHex8:j2,formatRgb:bu,toString:bu}));function gu(){return`#${$n(this.r)}${$n(this.g)}${$n(this.b)}`}function j2(){return`#${$n(this.r)}${$n(this.g)}${$n(this.b)}${$n((isNaN(this.opacity)?1:this.opacity)*255)}`}function bu(){const t=or(this.opacity);return`${t===1?"rgb(":"rgba("}${Ln(this.r)}, ${Ln(this.g)}, ${Ln(this.b)}${t===1?")":`, ${t})`}`}function or(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ln(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function $n(t){return t=Ln(t),(t<16?"0":"")+t.toString(16)}function vu(t,e,n,o){return o<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new jt(t,e,n,o)}function gd(t){if(t instanceof jt)return new jt(t.h,t.s,t.l,t.opacity);if(t instanceof ii||(t=Wn(t)),!t)return new jt;if(t instanceof jt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,o=t.b/255,i=Math.min(e,n,o),r=Math.max(e,n,o),l=NaN,a=r-i,s=(r+i)/2;return a?(e===r?l=(n-o)/a+(n<o)*6:n===r?l=(o-e)/a+2:l=(e-n)/a+4,a/=s<.5?r+i:2-r-i,l*=60):a=s>0&&s<1?0:l,new jt(l,a,s,t.opacity)}function q2(t,e,n,o){return arguments.length===1?gd(t):new jt(t,e,n,o??1)}function jt(t,e,n,o){this.h=+t,this.s=+e,this.l=+n,this.opacity=+o}Ql(jt,q2,_d(ii,{brighter(t){return t=t==null?nr:Math.pow(nr,t),new jt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Zo:Math.pow(Zo,t),new jt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*e,i=2*n-o;return new St(xr(t>=240?t-240:t+120,i,o),xr(t,i,o),xr(t<120?t+240:t-120,i,o),this.opacity)},clamp(){return new jt(yu(this.h),Si(this.s),Si(this.l),or(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=or(this.opacity);return`${t===1?"hsl(":"hsla("}${yu(this.h)}, ${Si(this.s)*100}%, ${Si(this.l)*100}%${t===1?")":`, ${t})`}`}}));function yu(t){return t=(t||0)%360,t<0?t+360:t}function Si(t){return Math.max(0,Math.min(1,t||0))}function xr(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const zl=t=>()=>t;function G2(t,e){return function(n){return t+n*e}}function V2(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(o){return Math.pow(t+o*e,n)}}function H2(t){return(t=+t)==1?bd:function(e,n){return n-e?V2(e,n,t):zl(isNaN(e)?n:e)}}function bd(t,e){var n=e-t;return n?G2(t,n):zl(isNaN(t)?e:t)}const ir=function t(e){var n=H2(e);function o(i,r){var l=n((i=gl(i)).r,(r=gl(r)).r),a=n(i.g,r.g),s=n(i.b,r.b),u=bd(i.opacity,r.opacity);return function(f){return i.r=l(f),i.g=a(f),i.b=s(f),i.opacity=u(f),i+""}}return o.gamma=t,o}(1);function W2(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,o=e.slice(),i;return function(r){for(i=0;i<n;++i)o[i]=t[i]*(1-r)+e[i]*r;return o}}function Y2(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function U2(t,e){var n=e?e.length:0,o=t?Math.min(n,t.length):0,i=new Array(o),r=new Array(n),l;for(l=0;l<o;++l)i[l]=es(t[l],e[l]);for(;l<n;++l)r[l]=e[l];return function(a){for(l=0;l<o;++l)r[l]=i[l](a);return r}}function K2(t,e){var n=new Date;return t=+t,e=+e,function(o){return n.setTime(t*(1-o)+e*o),n}}function Bt(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function X2(t,e){var n={},o={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=es(t[i],e[i]):o[i]=e[i];return function(r){for(i in n)o[i]=n[i](r);return o}}var bl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Zr=new RegExp(bl.source,"g");function J2(t){return function(){return t}}function x2(t){return function(e){return t(e)+""}}function vd(t,e){var n=bl.lastIndex=Zr.lastIndex=0,o,i,r,l=-1,a=[],s=[];for(t=t+"",e=e+"";(o=bl.exec(t))&&(i=Zr.exec(e));)(r=i.index)>n&&(r=e.slice(n,r),a[l]?a[l]+=r:a[++l]=r),(o=o[0])===(i=i[0])?a[l]?a[l]+=i:a[++l]=i:(a[++l]=null,s.push({i:l,x:Bt(o,i)})),n=Zr.lastIndex;return n<e.length&&(r=e.slice(n),a[l]?a[l]+=r:a[++l]=r),a.length<2?s[0]?x2(s[0].x):J2(e):(e=s.length,function(u){for(var f=0,c;f<e;++f)a[(c=s[f]).i]=c.x(u);return a.join("")})}function es(t,e){var n=typeof e,o;return e==null||n==="boolean"?zl(e):(n==="number"?Bt:n==="string"?(o=Wn(e))?(e=o,ir):vd:e instanceof Wn?ir:e instanceof Date?K2:Y2(e)?W2:Array.isArray(e)?U2:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?X2:Bt)(t,e)}function Z2(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var wu=180/Math.PI,vl={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function yd(t,e,n,o,i,r){var l,a,s;return(l=Math.sqrt(t*t+e*e))&&(t/=l,e/=l),(s=t*n+e*o)&&(n-=t*s,o-=e*s),(a=Math.sqrt(n*n+o*o))&&(n/=a,o/=a,s/=a),t*o<e*n&&(t=-t,e=-e,s=-s,l=-l),{translateX:i,translateY:r,rotate:Math.atan2(e,t)*wu,skewX:Math.atan(s)*wu,scaleX:l,scaleY:a}}var Ti;function Q2(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?vl:yd(e.a,e.b,e.c,e.d,e.e,e.f)}function z2(t){return t==null||(Ti||(Ti=document.createElementNS("http://www.w3.org/2000/svg","g")),Ti.setAttribute("transform",t),!(t=Ti.transform.baseVal.consolidate()))?vl:(t=t.matrix,yd(t.a,t.b,t.c,t.d,t.e,t.f))}function wd(t,e,n,o){function i(u){return u.length?u.pop()+" ":""}function r(u,f,c,d,m,p){if(u!==c||f!==d){var _=m.push("translate(",null,e,null,n);p.push({i:_-4,x:Bt(u,c)},{i:_-2,x:Bt(f,d)})}else(c||d)&&m.push("translate("+c+e+d+n)}function l(u,f,c,d){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),d.push({i:c.push(i(c)+"rotate(",null,o)-2,x:Bt(u,f)})):f&&c.push(i(c)+"rotate("+f+o)}function a(u,f,c,d){u!==f?d.push({i:c.push(i(c)+"skewX(",null,o)-2,x:Bt(u,f)}):f&&c.push(i(c)+"skewX("+f+o)}function s(u,f,c,d,m,p){if(u!==c||f!==d){var _=m.push(i(m)+"scale(",null,",",null,")");p.push({i:_-4,x:Bt(u,c)},{i:_-2,x:Bt(f,d)})}else(c!==1||d!==1)&&m.push(i(m)+"scale("+c+","+d+")")}return function(u,f){var c=[],d=[];return u=t(u),f=t(f),r(u.translateX,u.translateY,f.translateX,f.translateY,c,d),l(u.rotate,f.rotate,c,d),a(u.skewX,f.skewX,c,d),s(u.scaleX,u.scaleY,f.scaleX,f.scaleY,c,d),u=f=null,function(m){for(var p=-1,_=d.length,b;++p<_;)c[(b=d[p]).i]=b.x(m);return c.join("")}}}var ek=wd(Q2,"px, ","px)","deg)"),tk=wd(z2,", ",")",")"),yo=0,qo=0,Fo=0,kd=1e3,rr,Go,lr=0,Yn=0,Mr=0,zo=typeof performance=="object"&&performance.now?performance:Date,Cd=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function ts(){return Yn||(Cd(nk),Yn=zo.now()+Mr)}function nk(){Yn=0}function sr(){this._call=this._time=this._next=null}sr.prototype=Ad.prototype={constructor:sr,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?ts():+n)+(e==null?0:+e),!this._next&&Go!==this&&(Go?Go._next=this:rr=this,Go=this),this._call=t,this._time=n,yl()},stop:function(){this._call&&(this._call=null,this._time=1/0,yl())}};function Ad(t,e,n){var o=new sr;return o.restart(t,e,n),o}function ok(){ts(),++yo;for(var t=rr,e;t;)(e=Yn-t._time)>=0&&t._call.call(void 0,e),t=t._next;--yo}function ku(){Yn=(lr=zo.now())+Mr,yo=qo=0;try{ok()}finally{yo=0,rk(),Yn=0}}function ik(){var t=zo.now(),e=t-lr;e>kd&&(Mr-=e,lr=t)}function rk(){for(var t,e=rr,n,o=1/0;e;)e._call?(o>e._time&&(o=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:rr=n);Go=t,yl(o)}function yl(t){if(!yo){qo&&(qo=clearTimeout(qo));var e=t-Yn;e>24?(t<1/0&&(qo=setTimeout(ku,t-zo.now()-Mr)),Fo&&(Fo=clearInterval(Fo))):(Fo||(lr=zo.now(),Fo=setInterval(ik,kd)),yo=1,Cd(ku))}}function Cu(t,e,n){var o=new sr;return e=e==null?0:+e,o.restart(i=>{o.stop(),t(i+e)},e,n),o}var lk=od("start","end","cancel","interrupt"),sk=[],Sd=0,Au=1,wl=2,Ri=3,Su=4,kl=5,Di=6;function Ir(t,e,n,o,i,r){var l=t.__transition;if(!l)t.__transition={};else if(n in l)return;ak(t,n,{name:e,index:o,group:i,on:lk,tween:sk,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:Sd})}function ns(t,e){var n=Vt(t,e);if(n.state>Sd)throw new Error("too late; already scheduled");return n}function en(t,e){var n=Vt(t,e);if(n.state>Ri)throw new Error("too late; already running");return n}function Vt(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function ak(t,e,n){var o=t.__transition,i;o[e]=n,n.timer=Ad(r,0,n.time);function r(u){n.state=Au,n.timer.restart(l,n.delay,n.time),n.delay<=u&&l(u-n.delay)}function l(u){var f,c,d,m;if(n.state!==Au)return s();for(f in o)if(m=o[f],m.name===n.name){if(m.state===Ri)return Cu(l);m.state===Su?(m.state=Di,m.timer.stop(),m.on.call("interrupt",t,t.__data__,m.index,m.group),delete o[f]):+f<e&&(m.state=Di,m.timer.stop(),m.on.call("cancel",t,t.__data__,m.index,m.group),delete o[f])}if(Cu(function(){n.state===Ri&&(n.state=Su,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=wl,n.on.call("start",t,t.__data__,n.index,n.group),n.state===wl){for(n.state=Ri,i=new Array(d=n.tween.length),f=0,c=-1;f<d;++f)(m=n.tween[f].value.call(t,t.__data__,n.index,n.group))&&(i[++c]=m);i.length=c+1}}function a(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(s),n.state=kl,1),c=-1,d=i.length;++c<d;)i[c].call(t,f);n.state===kl&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){n.state=Di,n.timer.stop(),delete o[e];for(var u in o)return;delete t.__transition}}function uk(t,e){var n=t.__transition,o,i,r=!0,l;if(n){e=e==null?null:e+"";for(l in n){if((o=n[l]).name!==e){r=!1;continue}i=o.state>wl&&o.state<kl,o.state=Di,o.timer.stop(),o.on.call(i?"interrupt":"cancel",t,t.__data__,o.index,o.group),delete n[l]}r&&delete t.__transition}}function fk(t){return this.each(function(){uk(this,t)})}function ck(t,e){var n,o;return function(){var i=en(this,t),r=i.tween;if(r!==n){o=n=r;for(var l=0,a=o.length;l<a;++l)if(o[l].name===e){o=o.slice(),o.splice(l,1);break}}i.tween=o}}function dk(t,e,n){var o,i;if(typeof n!="function")throw new Error;return function(){var r=en(this,t),l=r.tween;if(l!==o){i=(o=l).slice();for(var a={name:e,value:n},s=0,u=i.length;s<u;++s)if(i[s].name===e){i[s]=a;break}s===u&&i.push(a)}r.tween=i}}function mk(t,e){var n=this._id;if(t+="",arguments.length<2){for(var o=Vt(this.node(),n).tween,i=0,r=o.length,l;i<r;++i)if((l=o[i]).name===t)return l.value;return null}return this.each((e==null?ck:dk)(n,t,e))}function os(t,e,n){var o=t._id;return t.each(function(){var i=en(this,o);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return Vt(i,o).value[e]}}function Td(t,e){var n;return(typeof e=="number"?Bt:e instanceof Wn?ir:(n=Wn(e))?(e=n,ir):vd)(t,e)}function pk(t){return function(){this.removeAttribute(t)}}function hk(t){return function(){this.removeAttributeNS(t.space,t.local)}}function _k(t,e,n){var o,i=n+"",r;return function(){var l=this.getAttribute(t);return l===i?null:l===o?r:r=e(o=l,n)}}function gk(t,e,n){var o,i=n+"",r;return function(){var l=this.getAttributeNS(t.space,t.local);return l===i?null:l===o?r:r=e(o=l,n)}}function bk(t,e,n){var o,i,r;return function(){var l,a=n(this),s;return a==null?void this.removeAttribute(t):(l=this.getAttribute(t),s=a+"",l===s?null:l===o&&s===i?r:(i=s,r=e(o=l,a)))}}function vk(t,e,n){var o,i,r;return function(){var l,a=n(this),s;return a==null?void this.removeAttributeNS(t.space,t.local):(l=this.getAttributeNS(t.space,t.local),s=a+"",l===s?null:l===o&&s===i?r:(i=s,r=e(o=l,a)))}}function yk(t,e){var n=Tr(t),o=n==="transform"?tk:Td;return this.attrTween(t,typeof e=="function"?(n.local?vk:bk)(n,o,os(this,"attr."+t,e)):e==null?(n.local?hk:pk)(n):(n.local?gk:_k)(n,o,e))}function wk(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function kk(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Ck(t,e){var n,o;function i(){var r=e.apply(this,arguments);return r!==o&&(n=(o=r)&&kk(t,r)),n}return i._value=e,i}function Ak(t,e){var n,o;function i(){var r=e.apply(this,arguments);return r!==o&&(n=(o=r)&&wk(t,r)),n}return i._value=e,i}function Sk(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var o=Tr(t);return this.tween(n,(o.local?Ck:Ak)(o,e))}function Tk(t,e){return function(){ns(this,t).delay=+e.apply(this,arguments)}}function Mk(t,e){return e=+e,function(){ns(this,t).delay=e}}function Ik(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Tk:Mk)(e,t)):Vt(this.node(),e).delay}function Ok(t,e){return function(){en(this,t).duration=+e.apply(this,arguments)}}function Pk(t,e){return e=+e,function(){en(this,t).duration=e}}function Nk(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Ok:Pk)(e,t)):Vt(this.node(),e).duration}function Ek(t,e){if(typeof e!="function")throw new Error;return function(){en(this,t).ease=e}}function $k(t){var e=this._id;return arguments.length?this.each(Ek(e,t)):Vt(this.node(),e).ease}function Rk(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;en(this,t).ease=n}}function Dk(t){if(typeof t!="function")throw new Error;return this.each(Rk(this._id,t))}function Lk(t){typeof t!="function"&&(t=ld(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var r=e[i],l=r.length,a=o[i]=[],s,u=0;u<l;++u)(s=r[u])&&t.call(s,s.__data__,u,r)&&a.push(s);return new fn(o,this._parents,this._name,this._id)}function Fk(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,o=e.length,i=n.length,r=Math.min(o,i),l=new Array(o),a=0;a<r;++a)for(var s=e[a],u=n[a],f=s.length,c=l[a]=new Array(f),d,m=0;m<f;++m)(d=s[m]||u[m])&&(c[m]=d);for(;a<o;++a)l[a]=e[a];return new fn(l,this._parents,this._name,this._id)}function Bk(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function jk(t,e,n){var o,i,r=Bk(e)?ns:en;return function(){var l=r(this,t),a=l.on;a!==o&&(i=(o=a).copy()).on(e,n),l.on=i}}function qk(t,e){var n=this._id;return arguments.length<2?Vt(this.node(),n).on.on(t):this.each(jk(n,t,e))}function Gk(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Vk(){return this.on("end.remove",Gk(this._id))}function Hk(t){var e=this._name,n=this._id;typeof t!="function"&&(t=xl(t));for(var o=this._groups,i=o.length,r=new Array(i),l=0;l<i;++l)for(var a=o[l],s=a.length,u=r[l]=new Array(s),f,c,d=0;d<s;++d)(f=a[d])&&(c=t.call(f,f.__data__,d,a))&&("__data__"in f&&(c.__data__=f.__data__),u[d]=c,Ir(u[d],e,n,d,u,Vt(f,n)));return new fn(r,this._parents,e,n)}function Wk(t){var e=this._name,n=this._id;typeof t!="function"&&(t=rd(t));for(var o=this._groups,i=o.length,r=[],l=[],a=0;a<i;++a)for(var s=o[a],u=s.length,f,c=0;c<u;++c)if(f=s[c]){for(var d=t.call(f,f.__data__,c,s),m,p=Vt(f,n),_=0,b=d.length;_<b;++_)(m=d[_])&&Ir(m,e,n,_,d,p);r.push(d),l.push(f)}return new fn(r,l,e,n)}var Yk=oi.prototype.constructor;function Uk(){return new Yk(this._groups,this._parents)}function Kk(t,e){var n,o,i;return function(){var r=vo(this,t),l=(this.style.removeProperty(t),vo(this,t));return r===l?null:r===n&&l===o?i:i=e(n=r,o=l)}}function Md(t){return function(){this.style.removeProperty(t)}}function Xk(t,e,n){var o,i=n+"",r;return function(){var l=vo(this,t);return l===i?null:l===o?r:r=e(o=l,n)}}function Jk(t,e,n){var o,i,r;return function(){var l=vo(this,t),a=n(this),s=a+"";return a==null&&(s=a=(this.style.removeProperty(t),vo(this,t))),l===s?null:l===o&&s===i?r:(i=s,r=e(o=l,a))}}function xk(t,e){var n,o,i,r="style."+e,l="end."+r,a;return function(){var s=en(this,t),u=s.on,f=s.value[r]==null?a||(a=Md(e)):void 0;(u!==n||i!==f)&&(o=(n=u).copy()).on(l,i=f),s.on=o}}function Zk(t,e,n){var o=(t+="")=="transform"?ek:Td;return e==null?this.styleTween(t,Kk(t,o)).on("end.style."+t,Md(t)):typeof e=="function"?this.styleTween(t,Jk(t,o,os(this,"style."+t,e))).each(xk(this._id,t)):this.styleTween(t,Xk(t,o,e),n).on("end.style."+t,null)}function Qk(t,e,n){return function(o){this.style.setProperty(t,e.call(this,o),n)}}function zk(t,e,n){var o,i;function r(){var l=e.apply(this,arguments);return l!==i&&(o=(i=l)&&Qk(t,l,n)),o}return r._value=e,r}function e5(t,e,n){var o="style."+(t+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(e==null)return this.tween(o,null);if(typeof e!="function")throw new Error;return this.tween(o,zk(t,e,n??""))}function t5(t){return function(){this.textContent=t}}function n5(t){return function(){var e=t(this);this.textContent=e??""}}function o5(t){return this.tween("text",typeof t=="function"?n5(os(this,"text",t)):t5(t==null?"":t+""))}function i5(t){return function(e){this.textContent=t.call(this,e)}}function r5(t){var e,n;function o(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&i5(i)),e}return o._value=t,o}function l5(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,r5(t))}function s5(){for(var t=this._name,e=this._id,n=Id(),o=this._groups,i=o.length,r=0;r<i;++r)for(var l=o[r],a=l.length,s,u=0;u<a;++u)if(s=l[u]){var f=Vt(s,e);Ir(s,t,n,u,l,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new fn(o,this._parents,t,n)}function a5(){var t,e,n=this,o=n._id,i=n.size();return new Promise(function(r,l){var a={value:l},s={value:function(){--i===0&&r()}};n.each(function(){var u=en(this,o),f=u.on;f!==t&&(e=(t=f).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(s)),u.on=e}),i===0&&r()})}var u5=0;function fn(t,e,n,o){this._groups=t,this._parents=e,this._name=n,this._id=o}function Id(){return++u5}var nn=oi.prototype;fn.prototype={constructor:fn,select:Hk,selectAll:Wk,selectChild:nn.selectChild,selectChildren:nn.selectChildren,filter:Lk,merge:Fk,selection:Uk,transition:s5,call:nn.call,nodes:nn.nodes,node:nn.node,size:nn.size,empty:nn.empty,each:nn.each,on:qk,attr:yk,attrTween:Sk,style:Zk,styleTween:e5,text:o5,textTween:l5,remove:Vk,tween:mk,delay:Ik,duration:Nk,ease:$k,easeVarying:Dk,end:a5,[Symbol.iterator]:nn[Symbol.iterator]};function f5(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var c5={time:null,delay:0,duration:250,ease:f5};function d5(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function m5(t){var e,n;t instanceof fn?(e=t._id,t=t._name):(e=Id(),(n=c5).time=ts(),t=t==null?null:t+"");for(var o=this._groups,i=o.length,r=0;r<i;++r)for(var l=o[r],a=l.length,s,u=0;u<a;++u)(s=l[u])&&Ir(s,t,e,u,l,n||d5(s,e));return new fn(o,this._parents,t,e)}oi.prototype.interrupt=fk;oi.prototype.transition=m5;const Cl=Math.PI,Al=2*Cl,Pn=1e-6,p5=Al-Pn;function Od(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function h5(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Od;const n=10**e;return function(o){this._+=o[0];for(let i=1,r=o.length;i<r;++i)this._+=Math.round(arguments[i]*n)/n+o[i]}}class _5{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Od:h5(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,o,i){this._append`Q${+e},${+n},${this._x1=+o},${this._y1=+i}`}bezierCurveTo(e,n,o,i,r,l){this._append`C${+e},${+n},${+o},${+i},${this._x1=+r},${this._y1=+l}`}arcTo(e,n,o,i,r){if(e=+e,n=+n,o=+o,i=+i,r=+r,r<0)throw new Error(`negative radius: ${r}`);let l=this._x1,a=this._y1,s=o-e,u=i-n,f=l-e,c=a-n,d=f*f+c*c;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(d>Pn)if(!(Math.abs(c*s-u*f)>Pn)||!r)this._append`L${this._x1=e},${this._y1=n}`;else{let m=o-l,p=i-a,_=s*s+u*u,b=m*m+p*p,w=Math.sqrt(_),C=Math.sqrt(d),k=r*Math.tan((Cl-Math.acos((_+d-b)/(2*w*C)))/2),D=k/C,L=k/w;Math.abs(D-1)>Pn&&this._append`L${e+D*f},${n+D*c}`,this._append`A${r},${r},0,0,${+(c*m>f*p)},${this._x1=e+L*s},${this._y1=n+L*u}`}}arc(e,n,o,i,r,l){if(e=+e,n=+n,o=+o,l=!!l,o<0)throw new Error(`negative radius: ${o}`);let a=o*Math.cos(i),s=o*Math.sin(i),u=e+a,f=n+s,c=1^l,d=l?i-r:r-i;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>Pn||Math.abs(this._y1-f)>Pn)&&this._append`L${u},${f}`,o&&(d<0&&(d=d%Al+Al),d>p5?this._append`A${o},${o},0,1,${c},${e-a},${n-s}A${o},${o},0,1,${c},${this._x1=u},${this._y1=f}`:d>Pn&&this._append`A${o},${o},0,${+(d>=Cl)},${c},${this._x1=e+o*Math.cos(r)},${this._y1=n+o*Math.sin(r)}`)}rect(e,n,o,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${o=+o}v${+i}h${-o}Z`}toString(){return this._}}function g5(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function ar(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,o=t.slice(0,n);return[o.length>1?o[0]+o.slice(2):o,+t.slice(n+1)]}function wo(t){return t=ar(Math.abs(t)),t?t[1]:NaN}function b5(t,e){return function(n,o){for(var i=n.length,r=[],l=0,a=t[0],s=0;i>0&&a>0&&(s+a+1>o&&(a=Math.max(1,o-s)),r.push(n.substring(i-=a,i+a)),!((s+=a+1)>o));)a=t[l=(l+1)%t.length];return r.reverse().join(e)}}function v5(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var y5=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ur(t){if(!(e=y5.exec(t)))throw new Error("invalid format: "+t);var e;return new is({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}ur.prototype=is.prototype;function is(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}is.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function w5(t){e:for(var e=t.length,n=1,o=-1,i;n<e;++n)switch(t[n]){case".":o=i=n;break;case"0":o===0&&(o=n),i=n;break;default:if(!+t[n])break e;o>0&&(o=0);break}return o>0?t.slice(0,o)+t.slice(i+1):t}var Pd;function k5(t,e){var n=ar(t,e);if(!n)return t+"";var o=n[0],i=n[1],r=i-(Pd=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=o.length;return r===l?o:r>l?o+new Array(r-l+1).join("0"):r>0?o.slice(0,r)+"."+o.slice(r):"0."+new Array(1-r).join("0")+ar(t,Math.max(0,e+r-1))[0]}function Tu(t,e){var n=ar(t,e);if(!n)return t+"";var o=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+o:o.length>i+1?o.slice(0,i+1)+"."+o.slice(i+1):o+new Array(i-o.length+2).join("0")}const Mu={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:g5,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Tu(t*100,e),r:Tu,s:k5,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Iu(t){return t}var Ou=Array.prototype.map,Pu=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function C5(t){var e=t.grouping===void 0||t.thousands===void 0?Iu:b5(Ou.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",o=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",r=t.numerals===void 0?Iu:v5(Ou.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"−":t.minus+"",s=t.nan===void 0?"NaN":t.nan+"";function u(c){c=ur(c);var d=c.fill,m=c.align,p=c.sign,_=c.symbol,b=c.zero,w=c.width,C=c.comma,k=c.precision,D=c.trim,L=c.type;L==="n"?(C=!0,L="g"):Mu[L]||(k===void 0&&(k=12),D=!0,L="g"),(b||d==="0"&&m==="=")&&(b=!0,d="0",m="=");var R=_==="$"?n:_==="#"&&/[boxX]/.test(L)?"0"+L.toLowerCase():"",E=_==="$"?o:/[%p]/.test(L)?l:"",V=Mu[L],$=/[defgprs%]/.test(L);k=k===void 0?6:/[gprs]/.test(L)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function W(y){var v=R,O=E,N,H,G;if(L==="c")O=V(y)+O,y="";else{y=+y;var K=y<0||1/y<0;if(y=isNaN(y)?s:V(Math.abs(y),k),D&&(y=w5(y)),K&&+y==0&&p!=="+"&&(K=!1),v=(K?p==="("?p:a:p==="-"||p==="("?"":p)+v,O=(L==="s"?Pu[8+Pd/3]:"")+O+(K&&p==="("?")":""),$){for(N=-1,H=y.length;++N<H;)if(G=y.charCodeAt(N),48>G||G>57){O=(G===46?i+y.slice(N+1):y.slice(N))+O,y=y.slice(0,N);break}}}C&&!b&&(y=e(y,1/0));var z=v.length+y.length+O.length,te=z<w?new Array(w-z+1).join(d):"";switch(C&&b&&(y=e(te+y,te.length?w-O.length:1/0),te=""),m){case"<":y=v+y+O+te;break;case"=":y=v+te+y+O;break;case"^":y=te.slice(0,z=te.length>>1)+v+y+O+te.slice(z);break;default:y=te+v+y+O;break}return r(y)}return W.toString=function(){return c+""},W}function f(c,d){var m=u((c=ur(c),c.type="f",c)),p=Math.max(-8,Math.min(8,Math.floor(wo(d)/3)))*3,_=Math.pow(10,-p),b=Pu[8+p/3];return function(w){return m(_*w)+b}}return{format:u,formatPrefix:f}}var Mi,Nd,Ed;A5({thousands:",",grouping:[3],currency:["$",""]});function A5(t){return Mi=C5(t),Nd=Mi.format,Ed=Mi.formatPrefix,Mi}function S5(t){return Math.max(0,-wo(Math.abs(t)))}function T5(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(wo(e)/3)))*3-wo(Math.abs(t)))}function M5(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,wo(e)-wo(t))+1}function I5(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function O5(t){return function(){return t}}function P5(t){return+t}var Nu=[0,1];function fo(t){return t}function Sl(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:O5(isNaN(e)?NaN:.5)}function N5(t,e){var n;return t>e&&(n=t,t=e,e=n),function(o){return Math.max(t,Math.min(e,o))}}function E5(t,e,n){var o=t[0],i=t[1],r=e[0],l=e[1];return i<o?(o=Sl(i,o),r=n(l,r)):(o=Sl(o,i),r=n(r,l)),function(a){return r(o(a))}}function $5(t,e,n){var o=Math.min(t.length,e.length)-1,i=new Array(o),r=new Array(o),l=-1;for(t[o]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<o;)i[l]=Sl(t[l],t[l+1]),r[l]=n(e[l],e[l+1]);return function(a){var s=$y(t,a,1,o)-1;return r[s](i[s](a))}}function R5(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function D5(){var t=Nu,e=Nu,n=es,o,i,r,l=fo,a,s,u;function f(){var d=Math.min(t.length,e.length);return l!==fo&&(l=N5(t[0],t[d-1])),a=d>2?$5:E5,s=u=null,c}function c(d){return d==null||isNaN(d=+d)?r:(s||(s=a(t.map(o),e,n)))(o(l(d)))}return c.invert=function(d){return l(i((u||(u=a(e,t.map(o),Bt)))(d)))},c.domain=function(d){return arguments.length?(t=Array.from(d,P5),f()):t.slice()},c.range=function(d){return arguments.length?(e=Array.from(d),f()):e.slice()},c.rangeRound=function(d){return e=Array.from(d),n=Z2,f()},c.clamp=function(d){return arguments.length?(l=d?!0:fo,f()):l!==fo},c.interpolate=function(d){return arguments.length?(n=d,f()):n},c.unknown=function(d){return arguments.length?(r=d,c):r},function(d,m){return o=d,i=m,f()}}function L5(){return D5()(fo,fo)}function F5(t,e,n,o){var i=By(t,e,n),r;switch(o=ur(o??",f"),o.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return o.precision==null&&!isNaN(r=T5(i,l))&&(o.precision=r),Ed(o,l)}case"":case"e":case"g":case"p":case"r":{o.precision==null&&!isNaN(r=M5(i,Math.max(Math.abs(t),Math.abs(e))))&&(o.precision=r-(o.type==="e"));break}case"f":case"%":{o.precision==null&&!isNaN(r=S5(i))&&(o.precision=r-(o.type==="%")*2);break}}return Nd(o)}function B5(t){var e=t.domain;return t.ticks=function(n){var o=e();return Fy(o[0],o[o.length-1],n??10)},t.tickFormat=function(n,o){var i=e();return F5(i[0],i[i.length-1],n??10,o)},t.nice=function(n){n==null&&(n=10);var o=e(),i=0,r=o.length-1,l=o[i],a=o[r],s,u,f=10;for(a<l&&(u=l,l=a,a=u,u=i,i=r,r=u);f-- >0;){if(u=pl(l,a,n),u===s)return o[i]=l,o[r]=a,e(o);if(u>0)l=Math.floor(l/u)*u,a=Math.ceil(a/u)*u;else if(u<0)l=Math.ceil(l*u)/u,a=Math.floor(a*u)/u;else break;s=u}return t},t}function Tl(){var t=L5();return t.copy=function(){return R5(t,Tl())},I5.apply(t,arguments),B5(t)}function so(t){return function(){return t}}function j5(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const o=Math.floor(n);if(!(o>=0))throw new RangeError(`invalid digits: ${n}`);e=o}return t},()=>new _5(e)}function q5(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function $d(t){this._context=t}$d.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function G5(t){return new $d(t)}function V5(t){return t[0]}function H5(t){return t[1]}function Qr(t,e){var n=so(!0),o=null,i=G5,r=null,l=j5(a);t=typeof t=="function"?t:t===void 0?V5:so(t),e=typeof e=="function"?e:e===void 0?H5:so(e);function a(s){var u,f=(s=q5(s)).length,c,d=!1,m;for(o==null&&(r=i(m=l())),u=0;u<=f;++u)!(u<f&&n(c=s[u],u,s))===d&&((d=!d)?r.lineStart():r.lineEnd()),d&&r.point(+t(c,u,s),+e(c,u,s));if(m)return r=null,m+""||null}return a.x=function(s){return arguments.length?(t=typeof s=="function"?s:so(+s),a):t},a.y=function(s){return arguments.length?(e=typeof s=="function"?s:so(+s),a):e},a.defined=function(s){return arguments.length?(n=typeof s=="function"?s:so(!!s),a):n},a.curve=function(s){return arguments.length?(i=s,o!=null&&(r=i(o)),a):i},a.context=function(s){return arguments.length?(s==null?o=r=null:r=i(o=s),a):o},a}function Vo(t,e,n){this.k=t,this.x=e,this.y=n}Vo.prototype={constructor:Vo,scale:function(t){return t===1?this:new Vo(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Vo(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Vo.prototype;function W5(t){let e;return{c(){e=dr("svg"),P(e,"id","line-chart")},m(n,o){M(n,e,o)},p:ke,i:ke,o:ke,d(n){n&&T(e)}}}const Eu=52;function Y5(t,e,n){let{data:o=[]}=e,i,r,l;const a={top:10,right:30,bottom:10,left:20},s=500-a.left-a.right,u=400-a.top-a.bottom;Qr().x((p,_)=>r(_)).y(p=>l(p)),mr(()=>{n(1,i=I2("#line-chart").attr("width",s+a.left+a.right).attr("height",u+a.top+a.bottom)),r=Tl().range([0,s]),l=Tl().range([u,0]),o.length&&f()});function f(){const p=o.length>Eu?o.slice(-Eu):o;c(p),d(p),m()}function c(p){i.selectAll(".line").remove();const _=Qr().defined(w=>w>-5).x((w,C)=>r(C)).y(w=>l(w)),b=Qr().defined(w=>w<0).x((w,C)=>r(C)).y(w=>l(w));i.append("path").datum(p).attr("class","line positive").attr("d",_).attr("transform",`translate(${a.left},${a.top})`).attr("fill","none").attr("stroke","green").attr("stroke-width",2),i.append("path").datum(p).attr("class","line negative").attr("d",b).attr("transform",`translate(${a.left},${a.top})`).attr("fill","none").attr("stroke","red").attr("stroke-width",2)}function d(p){const _=Math.max(0,...p),b=Math.min(0,...p);r.domain([0,p.length-1]),l.domain([b,_]).nice()}function m(p){const _=Yy(r).ticks(0),b=Uy(l).ticks(10);i.selectAll(".axis").remove(),i.append("g").attr("class","axis x-axis").attr("transform",`translate(${a.left},${u+a.top})`).call(_),i.append("g").attr("class","axis y-axis").attr("transform",`translate(${a.left},${a.top})`).call(b)}return t.$$set=p=>{"data"in p&&n(0,o=p.data)},t.$$.update=()=>{t.$$.dirty&3&&o&&i&&f()},[o,i]}class U5 extends be{constructor(e){super(),ge(this,e,Y5,W5,ce,{data:0})}}function K5(t){let e,n=t[1].townInfo.knowledge_points+"",o,i;return{c(){e=F("Manage your Knowledge ("),o=F(n),i=F(" pts)")},m(r,l){M(r,e,l),M(r,o,l),M(r,i,l)},p(r,l){l&2&&n!==(n=r[1].townInfo.knowledge_points+"")&&re(o,n)},d(r){r&&(T(e),T(o),T(i))}}}function X5(t){let e,n,o,i;return e=new Jn({props:{$$slots:{default:[K5]},$$scope:{ctx:t}}}),o=new Qn({}),{c(){Z(e.$$.fragment),n=j(),Z(o.$$.fragment)},m(r,l){J(e,r,l),M(r,n,l),J(o,r,l),i=!0},p(r,l){const a={};l&258&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),x(e,r),x(o,r)}}}function $u(t){let e,n,o=Fu(t[1].townInfo.knowledge_points*t[3])+"",i,r;return{c(){e=I("br"),n=F(`
          (total value: $`),i=F(o),r=F(")")},m(l,a){M(l,e,a),M(l,n,a),M(l,i,a),M(l,r,a)},p(l,a){a&10&&o!==(o=Fu(l[1].townInfo.knowledge_points*l[3])+"")&&re(i,o)},d(l){l&&(T(e),T(n),T(i),T(r))}}}function Ru(t){let e;return{c(){e=I("div"),e.innerHTML=`Wait until the market value is <span class="text-green-500">positive</span> to sell your Knowledge for Gold. Keep in mind that you need a bank to
          convert.`},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Du(t){let e,n,o;return n=new Mt({props:{variant:"default",$$slots:{default:[J5]},$$scope:{ctx:t}}}),n.$on("click",t[0]),{c(){e=I("div"),Z(n.$$.fragment)},m(i,r){M(i,e,r),J(n,e,null),o=!0},p(i,r){const l={};r&256&&(l.$$scope={dirty:r,ctx:i}),n.$set(l)},i(i){o||(A(n.$$.fragment,i),o=!0)},o(i){S(n.$$.fragment,i),o=!1},d(i){i&&T(e),x(n)}}}function J5(t){let e;return{c(){e=F("Convert Knowledge to Gold")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Lu(t){let e;return{c(){e=I("div"),e.textContent="You need a bank to convert knowledge to gold."},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function x5(t){let e,n,o,i,r,l,a,s,u=(t[3]??0)+"",f,c,d,m,p,_,b,w,C,k,D,L;e=new xn({props:{$$slots:{default:[X5]},$$scope:{ctx:t}}});let R=t[3]>0&&$u(t);_=new U5({props:{data:t[2]}});let E=t[3]<0&&Ru(),V=t[1].hasBank&&t[3]>0&&Du(t),$=t[1].hasBank===!1&&Lu();return D=new Mo({}),{c(){Z(e.$$.fragment),n=j(),o=I("span"),o.textContent="Knowledge is power, unlock it!",i=j(),r=I("div"),l=I("div"),a=F("Market Rate: "),s=I("span"),f=F(u),c=F(" gold"),m=F(`
        per Knowledge Point
        `),R&&R.c(),p=j(),Z(_.$$.fragment),b=j(),E&&E.c(),w=j(),V&&V.c(),C=j(),$&&$.c(),k=j(),Z(D.$$.fragment),P(o,"class","italic"),P(s,"class",d=t[3]<0?"text-red-500":"text-green-500"),P(r,"class","py-0 flex flex-col gap-4 text-gray-400 overflow-x-auto")},m(W,y){J(e,W,y),M(W,n,y),M(W,o,y),M(W,i,y),M(W,r,y),g(r,l),g(l,a),g(l,s),g(s,f),g(s,c),g(l,m),R&&R.m(l,null),g(r,p),J(_,r,null),g(r,b),E&&E.m(r,null),g(r,w),V&&V.m(r,null),g(r,C),$&&$.m(r,null),M(W,k,y),J(D,W,y),L=!0},p(W,y){const v={};y&258&&(v.$$scope={dirty:y,ctx:W}),e.$set(v),(!L||y&8)&&u!==(u=(W[3]??0)+"")&&re(f,u),(!L||y&8&&d!==(d=W[3]<0?"text-red-500":"text-green-500"))&&P(s,"class",d),W[3]>0?R?R.p(W,y):(R=$u(W),R.c(),R.m(l,null)):R&&(R.d(1),R=null);const O={};y&4&&(O.data=W[2]),_.$set(O),W[3]<0?E||(E=Ru(),E.c(),E.m(r,w)):E&&(E.d(1),E=null),W[1].hasBank&&W[3]>0?V?(V.p(W,y),y&10&&A(V,1)):(V=Du(W),V.c(),A(V,1),V.m(r,C)):V&&(Ie(),S(V,1,1,()=>{V=null}),Oe()),W[1].hasBank===!1?$||($=Lu(),$.c(),$.m(r,null)):$&&($.d(1),$=null)},i(W){L||(A(e.$$.fragment,W),A(_.$$.fragment,W),A(V),A(D.$$.fragment,W),L=!0)},o(W){S(e.$$.fragment,W),S(_.$$.fragment,W),S(V),S(D.$$.fragment,W),L=!1},d(W){W&&(T(n),T(o),T(i),T(r),T(k)),x(e,W),R&&R.d(),x(_),E&&E.d(),V&&V.d(),$&&$.d(),x(D,W)}}}function Z5(t){let e,n;return e=new Zn({props:{transitionConfig:{duration:0},class:"bg-foreground text-foregroundText",$$slots:{default:[x5]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment)},m(o,i){J(e,o,i),n=!0},p(o,i){const r={};i&270&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function Q5(t){let e,n,o;function i(l){t[5](l)}let r={$$slots:{default:[Z5]},$$scope:{ctx:t}};return t[4]!==void 0&&(r.open=t[4]),e=new zn({props:r}),Ne.push(()=>Tn(e,"open",i)),{c(){Z(e.$$.fragment)},m(l,a){J(e,l,a),o=!0},p(l,[a]){const s={};a&270&&(s.$$scope={dirty:a,ctx:l}),!n&&a&16&&(n=!0,s.open=l[4],Sn(()=>n=!1)),e.$set(s)},i(l){o||(A(e.$$.fragment,l),o=!0)},o(l){S(e.$$.fragment,l),o=!1},d(l){x(e,l)}}}function Fu(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function z5(t,e,n){let o,i;ae(t,Pe,u=>n(1,o=u)),ae(t,Hi,u=>n(4,i=u));let r,l=0;function a(){let u=o;o.hasBank===!0?(u.townInfo.gold+=Math.round(u.townInfo.knowledge_points*l),u.townInfo.knowledge_points=0,Pe.set(u),localStorage.setItem(Gt,JSON.stringify(u))):showCustomAlert.set("You need a bank to convert knowledge to gold.")}function s(u){i=u,Hi.set(i)}return t.$$.update=()=>{t.$$.dirty&2&&o&&(n(2,r=o.economyAndLaws.knowledge_gold_market_rates),n(3,l=o.economyAndLaws.knowledge_gold_market_rates[o.economyAndLaws.knowledge_gold_market_rates.length-1]))},[a,o,r,l,i,s]}class e3 extends be{constructor(e){super(),ge(this,e,z5,Q5,ce,{convertKnowledgeToGold:0})}get convertKnowledgeToGold(){return this.$$.ctx[0]}}const t3=[{id:"sunshine",title:"Hint of Sunshine",description:`Scientist Jane T. found that more sunlight makes everyone a bit happier. 
        
        Now, every home is equipped with a pair of sunglasses and a sunhat. Enjoy happier citizens!,
        `,cost:5e3,duration:180,effect:!0},{id:"antibiotics",title:"We will call them 'Antibiotics'",description:`Scientist Alfred C. has pitched us an idea that he calls 'Antibiotics'.
        
         We don't really know what that means, but it seems to make people healthier. 
        `,cost:8e3,duration:200,effect:!0},{id:"goodbye_carrots",title:"Goodbye Carrots",description:`Scientist Jarrod M. collaborated with local carrot farms to enhance the recipe, aiming to increase consumers' height by 10%.

        Unfortunately, the experiment failed, and all the local carrot farms have gone out of business. 
        `,cost:8e3,duration:80,effect:!0},{id:"funny_cows",title:"Cowabunga!",description:`Scientist Barry T. thought that showing cows some stand-up comedy would make them produce better milk, but it didn't have the desired effect.

        The cows are now following Mike Birbiglia on Twitter, but the milk production has not increased.
        `,cost:3e3,duration:60,effect:!1},{id:"missing_treasure",title:"Missing Treasure?",description:`Scientist Sarah H. was running an experiment on tree growth and found a stash of gold near the lab. 

        She hopes nobody will miss it. Your town now has some more money. 
        `,cost:15e3,duration:180,effect:!0},{id:"tax_relief",title:"'Maybe the government is not so bad after all'",description:`Scientist Sam P. conducted a study and found that if you put a tiny bit of CHEMICAL X in the water supply, people are more likely to be ok with tax hikes. 

        We don't question it, as these experiments cost a lot of moo-lah.`,cost:7500,duration:360,effect:!0},{id:"spring_break",title:"Spring Break",description:`The Scientists took our money and spent the week at the beach. 

        We are not sure what they did, but they came back with a tan and a smile.`,cost:2e3,duration:7,effect:!1},{id:"coffee_boost_tourism",title:"Speedy Brews",description:`Scientist Claudia A. has found that a specific blend of coffee can significantly increase productivity among town employees. 

        The catch? It only works on Mondays. But hey, starting the week with a turbo-charged workforce might just be the boost we needed. The town gets a bit of extra cash from the productivity, and a bit of tourism revenue from coffee tourism.
        `,cost:8e3,duration:100,effect:!0},{id:"bee_bonanza",title:"Buzzing with Possibilities",description:`Scientist Will B. thought that introducing genetically modified super bees to the local ecosystem could help with pollination.
        
        Unfortunately, these bees prefer coffee plants over all others, leading to all coffee bean farms forced to close.`,cost:5e3,duration:120,effect:!0},{id:"wheat_whirlwind",title:"A Gust of Grain",description:`Scientist Clint C. is sulking after a botched weather control experiment aimed at improving crop yields accidentally resulted in a series of mini-tornadoes sweeping through the town's wheat farms. The wheat is gone, but the townsfolk have never been more entertained.

        Local bakers mourn the loss of wheat while selling tickets to the wheat whirlwind tours. All wheat farms are now torn down, but happiness is up.`,cost:7e3,duration:150,effect:!0},{id:"aquatic_overachievers",title:"Fishy Business",description:`An attempt to genetically enhance fish intelligence by Scientist Goldie F. in fisheries has gone awry, resulting in fish that are too smart to be caught. The fisheries are now underpopulated and shut down, but the town enjoys an unexpected tourism boom as people flock to see the genius fish who are now hanging out in local parks.

        Who knew fish could be such a draw?`,cost:6e3,duration:90,effect:!0},{id:"educational_eclipse",title:"A Sudden Drop in IQ",description:`Scientist Albert E. wanted to see if the towns' children would become smarter if THEY ran the schools. 

        This was obviously a terrible idea and the first thing the kids did was shut down the schools.`,cost:1e3,duration:45,effect:!0},{id:"education_grant",title:"Education Grant",description:`Scientist Marie C. took the funding and applied the town for a grant to improve education.

        The town wins a grant for $150,000 to build schools and improve education. (but it's up to you if that's how you want to spend the money)`,cost:4e4,duration:45,effect:!0},{id:"mindfulness_meditation_classes",title:"'Mindfulness Meditation Classes'",description:`Scientist Zen M. has introduced mindfulness meditation classes to the town after realizing that breathing in certain ways can lower stress. 
		
		Now, the town is a bit more relaxed, for now.`,cost:13e3,duration:540,effect:!0}];function Bu(t,e,n){const o=t.slice();return o[17]=e[n],o}function n3(t){let e,n=t[1].lab.active_experiment.title+"",o;return{c(){e=F("🎉 Experiment Completed: "),o=F(n)},m(i,r){M(i,e,r),M(i,o,r)},p(i,r){r&2&&n!==(n=i[1].lab.active_experiment.title+"")&&re(o,n)},d(i){i&&(T(e),T(o))}}}function o3(t){let e,n=t[1].lab.active_experiment.description+"",o;return{c(){e=I("div"),o=F(n),P(e,"class","select-none whitespace-pre-wrap text-lg text-gray-400 leading-6 px-4 py-4 text-center ")},m(i,r){M(i,e,r),g(e,o)},p(i,r){r&2&&n!==(n=i[1].lab.active_experiment.description+"")&&re(o,n)},d(i){i&&T(e)}}}function i3(t){let e,n,o,i;return e=new Kl({props:{class:"text-center",$$slots:{default:[n3]},$$scope:{ctx:t}}}),o=new Jl({props:{$$slots:{default:[o3]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment),n=j(),Z(o.$$.fragment)},m(r,l){J(e,r,l),M(r,n,l),J(o,r,l),i=!0},p(r,l){const a={};l&1048578&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&1048578&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),x(e,r),x(o,r)}}}function r3(t){let e;return{c(){e=F("Thank the scientists")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function l3(t){let e,n;return e=new zc({props:{$$slots:{default:[r3]},$$scope:{ctx:t}}}),e.$on("click",t[9]),{c(){Z(e.$$.fragment)},m(o,i){J(e,o,i),n=!0},p(o,i){const r={};i&1048576&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function s3(t){let e,n,o,i;return e=new Xl({props:{$$slots:{default:[i3]},$$scope:{ctx:t}}}),o=new Cr({props:{$$slots:{default:[l3]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment),n=j(),Z(o.$$.fragment)},m(r,l){J(e,r,l),M(r,n,l),J(o,r,l),i=!0},p(r,l){const a={};l&1048578&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&1048576&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),x(e,r),x(o,r)}}}function a3(t){let e,n;return e=new Ar({props:{$$slots:{default:[s3]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment)},m(o,i){J(e,o,i),n=!0},p(o,i){const r={};i&1048578&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function u3(t){let e;return{c(){e=I("span"),e.textContent="Manage your Laboratory 🔬 🧪"},m(n,o){M(n,e,o)},p:ke,d(n){n&&T(e)}}}function f3(t){let e,n,o,i=t[1].lab.xp+"",r,l,a,s;return{c(){e=I("span"),n=F("You have earned "),o=I("span"),r=F(i),l=F(" XP"),s=F(` from experiments. XP can be used to buy advanced plots and develop your
          city.`),P(o,"class",a="italic "+(t[1].lab.xp<0?"text-textDanger1":"text-primaryText"))},m(u,f){M(u,e,f),g(e,n),g(e,o),g(o,r),g(o,l),g(e,s)},p(u,f){f&2&&i!==(i=u[1].lab.xp+"")&&re(r,i),f&2&&a!==(a="italic "+(u[1].lab.xp<0?"text-textDanger1":"text-primaryText"))&&P(o,"class",a)},d(u){u&&T(e)}}}function c3(t){let e,n,o,i;return e=new Jn({props:{$$slots:{default:[u3]},$$scope:{ctx:t}}}),o=new Qn({props:{$$slots:{default:[f3]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment),n=j(),Z(o.$$.fragment)},m(r,l){J(e,r,l),M(r,n,l),J(o,r,l),i=!0},p(r,l){const a={};l&1048576&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&1048578&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),x(e,r),x(o,r)}}}function d3(t){let e;return{c(){e=F("No more experiments available")},m(n,o){M(n,e,o)},p:ke,i:ke,o:ke,d(n){n&&T(e)}}}function m3(t){let e,n,o,i,r=Ue(t[0]),l=[];for(let s=0;s<r.length;s+=1)l[s]=qu(Bu(t,r,s));const a=s=>S(l[s],1,1,()=>{l[s]=null});return{c(){e=I("div"),e.textContent=`It's time to fund your next experiment! Choose a project below based on
        it's funding requirement. Once the experiment is over, you will see the
        results.`,n=j(),o=I("div");for(let s=0;s<l.length;s+=1)l[s].c();P(e,"class","select-none text-sm "),P(o,"class","text-center flex flex-col justify-center items-center gap-4 ")},m(s,u){M(s,e,u),M(s,n,u),M(s,o,u);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(o,null);i=!0},p(s,u){if(u&19){r=Ue(s[0]);let f;for(f=0;f<r.length;f+=1){const c=Bu(s,r,f);l[f]?(l[f].p(c,u),A(l[f],1)):(l[f]=qu(c),l[f].c(),A(l[f],1),l[f].m(o,null))}for(Ie(),f=r.length;f<l.length;f+=1)a(f);Oe()}},i(s){if(!i){for(let u=0;u<r.length;u+=1)A(l[u]);i=!0}},o(s){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)S(l[u]);i=!1},d(s){s&&(T(e),T(n),T(o)),gt(l,s)}}}function p3(t){let e,n=t[1].lab.active_experiment.duration+"",o,i,r,l,a=t[1].lab.active_experiment.duration===0&&Gu(t);return{c(){e=F("Currently running an experiment... check back in "),o=F(n),i=F(` days.
      `),a&&a.c(),r=Re()},m(s,u){M(s,e,u),M(s,o,u),M(s,i,u),a&&a.m(s,u),M(s,r,u),l=!0},p(s,u){(!l||u&2)&&n!==(n=s[1].lab.active_experiment.duration+"")&&re(o,n),s[1].lab.active_experiment.duration===0?a?(a.p(s,u),u&2&&A(a,1)):(a=Gu(s),a.c(),A(a,1),a.m(r.parentNode,r)):a&&(Ie(),S(a,1,1,()=>{a=null}),Oe())},i(s){l||(A(a),l=!0)},o(s){S(a),l=!1},d(s){s&&(T(e),T(o),T(i),T(r)),a&&a.d(s)}}}function ju(t){let e,n,o=t[17].id+"",i;return{c(){e=I("span"),n=F("// dev-"),i=F(o),P(e,"class","text-xs text-gray-400")},m(r,l){M(r,e,l),g(e,n),g(e,i)},p(r,l){l&1&&o!==(o=r[17].id+"")&&re(i,o)},d(r){r&&T(e)}}}function h3(t){let e,n=Vu(t[17].cost).split(".")[0]+"",o,i,r,l=t[1].devMode===!0&&ju(t);return{c(){e=F("$"),o=F(n),i=F(` gold

            `),l&&l.c(),r=j()},m(a,s){M(a,e,s),M(a,o,s),M(a,i,s),l&&l.m(a,s),M(a,r,s)},p(a,s){s&1&&n!==(n=Vu(a[17].cost).split(".")[0]+"")&&re(o,n),a[1].devMode===!0?l?l.p(a,s):(l=ju(a),l.c(),l.m(r.parentNode,r)):l&&(l.d(1),l=null)},d(a){a&&(T(e),T(o),T(i),T(r)),l&&l.d(a)}}}function qu(t){let e,n;function o(){return t[11](t[17])}return e=new Mt({props:{variant:"outline",class:`min-w-48 w-max flex-col
				`+(t[17].cost>t[1].townInfo.gold?"cursor-not-allowed":"")+`
				`,$$slots:{default:[h3]},$$scope:{ctx:t}}}),e.$on("click",o),{c(){Z(e.$$.fragment)},m(i,r){J(e,i,r),n=!0},p(i,r){t=i;const l={};r&3&&(l.class=`min-w-48 w-max flex-col
				`+(t[17].cost>t[1].townInfo.gold?"cursor-not-allowed":"")+`
				`),r&1048579&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(i){n||(A(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){x(e,i)}}}function Gu(t){let e,n;return e=new Mt({props:{variant:"outline",$$slots:{default:[_3]},$$scope:{ctx:t}}}),e.$on("click",t[10]),{c(){Z(e.$$.fragment)},m(o,i){J(e,o,i),n=!0},p(o,i){const r={};i&1048576&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function _3(t){let e;return{c(){e=F("Complete experiment (and face the impact)")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function g3(t){let e;return{c(){e=I("span"),e.textContent="Keep in mind that not all experiments yield positive results.",P(e,"class","italic text-left text-textDanger1")},m(n,o){M(n,e,o)},p:ke,d(n){n&&T(e)}}}function b3(t){let e,n,o,i,r,l,a,s,u,f,c;e=new xn({props:{$$slots:{default:[c3]},$$scope:{ctx:t}}}),o=new wt({});const d=[p3,m3,d3],m=[];function p(_,b){return _[1].lab.active_experiment!==null?0:_[0].length>0?1:_[0].length===0?2:-1}return~(r=p(t))&&(l=m[r]=d[r](t)),s=new wt({props:{class:"mt-4"}}),f=new Mo({props:{$$slots:{default:[g3]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment),n=j(),Z(o.$$.fragment),i=j(),l&&l.c(),a=j(),Z(s.$$.fragment),u=j(),Z(f.$$.fragment)},m(_,b){J(e,_,b),M(_,n,b),J(o,_,b),M(_,i,b),~r&&m[r].m(_,b),M(_,a,b),J(s,_,b),M(_,u,b),J(f,_,b),c=!0},p(_,b){const w={};b&1048578&&(w.$$scope={dirty:b,ctx:_}),e.$set(w);let C=r;r=p(_),r===C?~r&&m[r].p(_,b):(l&&(Ie(),S(m[C],1,1,()=>{m[C]=null}),Oe()),~r?(l=m[r],l?l.p(_,b):(l=m[r]=d[r](_),l.c()),A(l,1),l.m(a.parentNode,a)):l=null);const k={};b&1048576&&(k.$$scope={dirty:b,ctx:_}),f.$set(k)},i(_){c||(A(e.$$.fragment,_),A(o.$$.fragment,_),A(l),A(s.$$.fragment,_),A(f.$$.fragment,_),c=!0)},o(_){S(e.$$.fragment,_),S(o.$$.fragment,_),S(l),S(s.$$.fragment,_),S(f.$$.fragment,_),c=!1},d(_){_&&(T(n),T(i),T(a),T(u)),x(e,_),x(o,_),~r&&m[r].d(_),x(s,_),x(f,_)}}}function v3(t){let e,n;return e=new Zn({props:{class:"bg-foreground text-foregroundText",$$slots:{default:[b3]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment)},m(o,i){J(e,o,i),n=!0},p(o,i){const r={};i&1048579&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function y3(t){let e,n,o,i,r;e=new Sr({props:{open:t[2],$$slots:{default:[a3]},$$scope:{ctx:t}}});function l(s){t[12](s)}let a={$$slots:{default:[v3]},$$scope:{ctx:t}};return t[3]!==void 0&&(a.open=t[3]),o=new zn({props:a}),Ne.push(()=>Tn(o,"open",l)),{c(){Z(e.$$.fragment),n=j(),Z(o.$$.fragment)},m(s,u){J(e,s,u),M(s,n,u),J(o,s,u),r=!0},p(s,[u]){const f={};u&4&&(f.open=s[2]),u&1048578&&(f.$$scope={dirty:u,ctx:s}),e.$set(f);const c={};u&1048579&&(c.$$scope={dirty:u,ctx:s}),!i&&u&8&&(i=!0,c.open=s[3],Sn(()=>i=!1)),o.$set(c)},i(s){r||(A(e.$$.fragment,s),A(o.$$.fragment,s),r=!0)},o(s){S(e.$$.fragment,s),S(o.$$.fragment,s),r=!1},d(s){s&&T(n),x(e,s),x(o,s)}}}function Vu(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function w3(t,e,n){let o,i;ae(t,Pe,k=>n(1,o=k)),ae(t,Pi,k=>n(3,i=k));var r;let l=[],a=!1,s=!1,u=!1;function f(){if(l.length>0||!a)return l;let k=[],D=t3.filter(L=>!o.lab.past_experiments.some(R=>R.id===L.id));for(let L=0;L<3;L++){let R=D[Math.floor(Math.random()*D.length)];R.cost=Math.floor(Math.random()*(R.cost*.35)+R.cost*.8),k.push(R)}return k=k.filter((L,R)=>k.indexOf(L)===R),k=k.filter(L=>L),n(8,u=!0),k}function c(k){if(o.townInfo.gold<k.cost){showCustomAlert.set("You do not have enough gold to purchase this experiment.");return}Me(Pe,o.townInfo.gold-=k.cost,o),Me(Pe,o.lab.active_experiment=k,o),o.lab.past_experiments.push(k)}function d(){var k;switch(Me(Pi,i=!1,i),n(2,s=!0),(k=o.lab.active_experiment)===null||k===void 0?void 0:k.id){case"sunshine":Me(Pe,o.modifiers.happiness=50,o);break;case"antibiotics":Me(Pe,o.modifiers.health=50,o);break;case"goodbye_carrots":p("carrot_farm");break;case"missing_treasure":Me(Pe,o.townInfo.gold+=Math.floor(Math.random()*o.lab.active_experiment.cost*2),o);break;case"tax_relief":Me(Pe,o.economyAndLaws.max_tax_rate=(Math.random()*.8+1.2)*o.economyAndLaws.max_tax_rate,o);break;case"bee_bonanza":p("coffee_bean_farm");break;case"wheat_whirlwind":p("wheat_farm"),Me(Pe,o.townInfo.happiness*=1.5,o),Me(Pe,o.modifiers.happiness+=3,o);break;case"educational_eclipse":p("small_school"),p("large_school"),Me(Pe,o.townInfo.knowledge_points*=.8,o);break;case"education_grant":Me(Pe,o.townInfo.knowledge_points*=1.5,o),Me(Pe,o.townInfo.gold+=15e4,o);break;case"mindfulness_meditation_classes":o.modifiers.happiness*1.5;break}Me(Pe,o.lab.active_experiment.duration=-1,o)}function m(){let k=o;k.lab.xp+=Math.round(k.lab.active_experiment.cost*(Math.random()*2+.5)),k.lab.active_experiment=null,n(2,s=!1),Me(Pe,o=k,o)}function p(k){let D=He(k,o);for(let L=0;L<D.length;L++)Vi(D[L].x,D[L].y,o)}const _=()=>{m()},b=()=>{d()},w=k=>{k.cost<o.townInfo.gold&&c(k)};function C(k){i=k,Pi.set(i)}return t.$$.update=()=>{t.$$.dirty&387&&(o?(a=!0,n(0,l=u==!1?f():l),(n(7,r=o.lab.active_experiment)===null||r===void 0?void 0:r.duration)===-1&&n(2,s=!0)):a=!1)},[l,o,s,i,c,d,m,r,u,_,b,w,C]}class k3 extends be{constructor(e){super(),ge(this,e,w3,y3,ce,{})}}function Hu(t,e,n){const o=t.slice();return o[19]=e[n],o}function Wu(t){let e,n=Ue({length:t[6]}),o=[];for(let i=0;i<n.length;i+=1)o[i]=Yu(Hu(t,n,i));return{c(){e=I("div");for(let i=0;i<o.length;i+=1)o[i].c();P(e,"class","confetti-holder svelte-15ksp55"),_n(e,"rounded",t[9]),_n(e,"cone",t[10]),_n(e,"no-gravity",t[11]),_n(e,"reduced-motion",t[13])},m(i,r){M(i,e,r);for(let l=0;l<o.length;l+=1)o[l]&&o[l].m(e,null)},p(i,r){if(r&37375){n=Ue({length:i[6]});let l;for(l=0;l<n.length;l+=1){const a=Hu(i,n,l);o[l]?o[l].p(a,r):(o[l]=Yu(a),o[l].c(),o[l].m(e,null))}for(;l<o.length;l+=1)o[l].d(1);o.length=n.length}r&512&&_n(e,"rounded",i[9]),r&1024&&_n(e,"cone",i[10]),r&2048&&_n(e,"no-gravity",i[11]),r&8192&&_n(e,"reduced-motion",i[13])},d(i){i&&T(e),gt(o,i)}}}function Yu(t){let e;return{c(){e=I("div"),P(e,"class","confetti svelte-15ksp55"),Je(e,"--fall-distance",t[8]),Je(e,"--size",t[0]+"px"),Je(e,"--color",t[15]()),Je(e,"--skew",Ct(-45,45)+"deg,"+Ct(-45,45)+"deg"),Je(e,"--rotation-xyz",Ct(-10,10)+", "+Ct(-10,10)+", "+Ct(-10,10)),Je(e,"--rotation-deg",Ct(0,360)+"deg"),Je(e,"--translate-y-multiplier",Ct(t[2][0],t[2][1])),Je(e,"--translate-x-multiplier",Ct(t[1][0],t[1][1])),Je(e,"--scale",.1*Ct(2,10)),Je(e,"--transition-duration",t[4]?`calc(${t[3]}ms * var(--scale))`:`${t[3]}ms`),Je(e,"--transition-delay",Ct(t[5][0],t[5][1])+"ms"),Je(e,"--transition-iteration-count",t[4]?"infinite":t[7]),Je(e,"--x-spread",1-t[12])},m(n,o){M(n,e,o)},p(n,o){o&256&&Je(e,"--fall-distance",n[8]),o&1&&Je(e,"--size",n[0]+"px"),o&4&&Je(e,"--translate-y-multiplier",Ct(n[2][0],n[2][1])),o&2&&Je(e,"--translate-x-multiplier",Ct(n[1][0],n[1][1])),o&24&&Je(e,"--transition-duration",n[4]?`calc(${n[3]}ms * var(--scale))`:`${n[3]}ms`),o&32&&Je(e,"--transition-delay",Ct(n[5][0],n[5][1])+"ms"),o&144&&Je(e,"--transition-iteration-count",n[4]?"infinite":n[7]),o&4096&&Je(e,"--x-spread",1-n[12])},d(n){n&&T(e)}}}function C3(t){let e,n=!t[14]&&Wu(t);return{c(){n&&n.c(),e=Re()},m(o,i){n&&n.m(o,i),M(o,e,i)},p(o,[i]){o[14]?n&&(n.d(1),n=null):n?n.p(o,i):(n=Wu(o),n.c(),n.m(e.parentNode,e))},i:ke,o:ke,d(o){o&&T(e),n&&n.d(o)}}}function Ct(t,e){return Math.random()*(e-t)+t}function A3(t,e,n){let{size:o=10}=e,{x:i=[-.5,.5]}=e,{y:r=[.25,1]}=e,{duration:l=2e3}=e,{infinite:a=!1}=e,{delay:s=[0,50]}=e,{colorRange:u=[0,360]}=e,{colorArray:f=[]}=e,{amount:c=50}=e,{iterationCount:d=1}=e,{fallDistance:m="100px"}=e,{rounded:p=!1}=e,{cone:_=!1}=e,{noGravity:b=!1}=e,{xSpread:w=.15}=e,{destroyOnComplete:C=!0}=e,{disableForReducedMotion:k=!1}=e,D=!1;mr(()=>{!C||a||d=="infinite"||setTimeout(()=>n(14,D=!0),(l+s[1])*d)});function L(){return f.length?f[Math.round(Math.random()*(f.length-1))]:`hsl(${Math.round(Ct(u[0],u[1]))}, 75%, 50%)`}return t.$$set=R=>{"size"in R&&n(0,o=R.size),"x"in R&&n(1,i=R.x),"y"in R&&n(2,r=R.y),"duration"in R&&n(3,l=R.duration),"infinite"in R&&n(4,a=R.infinite),"delay"in R&&n(5,s=R.delay),"colorRange"in R&&n(16,u=R.colorRange),"colorArray"in R&&n(17,f=R.colorArray),"amount"in R&&n(6,c=R.amount),"iterationCount"in R&&n(7,d=R.iterationCount),"fallDistance"in R&&n(8,m=R.fallDistance),"rounded"in R&&n(9,p=R.rounded),"cone"in R&&n(10,_=R.cone),"noGravity"in R&&n(11,b=R.noGravity),"xSpread"in R&&n(12,w=R.xSpread),"destroyOnComplete"in R&&n(18,C=R.destroyOnComplete),"disableForReducedMotion"in R&&n(13,k=R.disableForReducedMotion)},[o,i,r,l,a,s,c,d,m,p,_,b,w,k,D,L,u,f,C]}class S3 extends be{constructor(e){super(),ge(this,e,A3,C3,ce,{size:0,x:1,y:2,duration:3,infinite:4,delay:5,colorRange:16,colorArray:17,amount:6,iterationCount:7,fallDistance:8,rounded:9,cone:10,noGravity:11,xSpread:12,destroyOnComplete:18,disableForReducedMotion:13})}}function T3(t){let e,n,o;return{c(){e=I("div"),P(e,"class",n="h-full w-full flex-1 "+t[3]+" transition-all"),P(e,"style",o=`transform: translateX(-${100-100*(t[2]??0)/(t[1]??1)}%)`)},m(i,r){M(i,e,r)},p(i,r){r&8&&n!==(n="h-full w-full flex-1 "+i[3]+" transition-all")&&P(e,"class",n),r&6&&o!==(o=`transform: translateX(-${100-100*(i[2]??0)/(i[1]??1)}%)`)&&P(e,"style",o)},d(i){i&&T(e)}}}function M3(t){let e,n;const o=[{class:De("relative h-4 w-full overflow-hidden rounded-full bg-white",t[0])},t[4]];let i={$$slots:{default:[T3]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new o1({props:i}),{c(){Z(e.$$.fragment)},m(r,l){J(e,r,l),n=!0},p(r,[l]){const a=l&17?ye(o,[l&1&&{class:De("relative h-4 w-full overflow-hidden rounded-full bg-white",r[0])},l&16&&rt(r[4])]):{};l&46&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){x(e,r)}}}function I3(t,e,n){const o=["class","max","value","color"];let i=le(e,o),{class:r=void 0}=e,{max:l=100}=e,{value:a=void 0}=e,{color:s="bg-secondary"}=e;return t.$$set=u=>{e=Q(Q({},e),$e(u)),n(4,i=le(e,o)),"class"in u&&n(0,r=u.class),"max"in u&&n(1,l=u.max),"value"in u&&n(2,a=u.value),"color"in u&&n(3,s=u.color)},[r,l,a,s,i]}class O3 extends be{constructor(e){super(),ge(this,e,I3,M3,ce,{class:0,max:1,value:2,color:3})}}function P3(t){let e;const n=t[5].default,o=me(n,t,t[6],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&64)&&he(o,n,i,i[6],e?pe(n,i[6],r,null):_e(i[6]),null)},i(i){e||(A(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function N3(t){let e,n;const o=[{transition:t[2]},{transitionConfig:t[3]},{sideOffset:t[1]},{class:De("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-black shadow-md",t[0])},t[4]];let i={$$slots:{default:[P3]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Q(i,o[r]);return e=new W1({props:i}),{c(){Z(e.$$.fragment)},m(r,l){J(e,r,l),n=!0},p(r,[l]){const a=l&31?ye(o,[l&4&&{transition:r[2]},l&8&&{transitionConfig:r[3]},l&2&&{sideOffset:r[1]},l&1&&{class:De("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-black shadow-md",r[0])},l&16&&rt(r[4])]):{};l&64&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){x(e,r)}}}function E3(t,e,n){const o=["class","sideOffset","transition","transitionConfig"];let i=le(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{sideOffset:s=4}=e,{transition:u=_r}=e,{transitionConfig:f={y:8,duration:150}}=e;return t.$$set=c=>{e=Q(Q({},e),$e(c)),n(4,i=le(e,o)),"class"in c&&n(0,a=c.class),"sideOffset"in c&&n(1,s=c.sideOffset),"transition"in c&&n(2,u=c.transition),"transitionConfig"in c&&n(3,f=c.transitionConfig),"$$scope"in c&&n(6,l=c.$$scope)},[a,s,u,f,i,r,l]}class Io extends be{constructor(e){super(),ge(this,e,E3,N3,ce,{class:0,sideOffset:1,transition:2,transitionConfig:3})}}const Oo=O1,Po=Z1;function Uu(t,e,n){const o=t.slice();return o[17]=e[n].name,o[18]=e[n].value,o[19]=e[n].modifier,o}function $3(t){let e,n=t[17]+"",o,i,r=ut(t[19],2)+"",l,a,s,u,f;return u=new O3({props:{value:t[18],max:300,class:"w-full h-2",color:t[11](t[18])}}),{c(){e=I("span"),o=F(n),i=F(" (x"),l=F(r),a=F(")"),s=j(),Z(u.$$.fragment),P(e,"class","text-xs pb-1")},m(c,d){M(c,e,d),g(e,o),g(e,i),g(e,l),g(e,a),M(c,s,d),J(u,c,d),f=!0},p(c,d){(!f||d&4)&&n!==(n=c[17]+"")&&re(o,n),(!f||d&4)&&r!==(r=ut(c[19],2)+"")&&re(l,r);const m={};d&4&&(m.value=c[18]),d&4&&(m.color=c[11](c[18])),u.$set(m)},i(c){f||(A(u.$$.fragment,c),f=!0)},o(c){S(u.$$.fragment,c),f=!1},d(c){c&&(T(e),T(s)),x(u,c)}}}function R3(t){let e,n,o=t[17]+"",i,r,l,a,s=t[18]+"",u,f,c,d,m,p=ut(t[19],0)+"",_;return{c(){e=I("div"),n=I("span"),i=F(o),r=j(),l=I("span"),a=F("Base: "),u=F(s),f=F(" / 300"),c=j(),d=I("span"),m=F("Modifier: "),_=F(p),P(n,"class","text-sm font-bold"),P(l,"class","text-xs"),P(d,"class","text-xs"),P(e,"class","flex flex-col justify-between p-0 m-0")},m(b,w){M(b,e,w),g(e,n),g(n,i),g(e,r),g(e,l),g(l,a),g(l,u),g(l,f),g(e,c),g(e,d),g(d,m),g(d,_)},p(b,w){w&4&&o!==(o=b[17]+"")&&re(i,o),w&4&&s!==(s=b[18]+"")&&re(u,s),w&4&&p!==(p=ut(b[19],0)+"")&&re(_,p)},d(b){b&&T(e)}}}function D3(t){let e,n,o,i;return e=new Po({props:{class:"h-7 w-full mt-0 flex flex-col",$$slots:{default:[$3]},$$scope:{ctx:t}}}),o=new Io({props:{class:t[11](t[18]),$$slots:{default:[R3]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment),n=j(),Z(o.$$.fragment)},m(r,l){J(e,r,l),M(r,n,l),J(o,r,l),i=!0},p(r,l){const a={};l&4194308&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&4&&(s.class=r[11](r[18])),l&4194308&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),x(e,r),x(o,r)}}}function Ku(t){let e,n,o,i;return n=new Oo({props:{openDelay:400,closeDelay:0,$$slots:{default:[D3]},$$scope:{ctx:t}}}),{c(){e=I("div"),Z(n.$$.fragment),o=j(),P(e,"class","flex flex-col gap-2")},m(r,l){M(r,e,l),J(n,e,null),g(e,o),i=!0},p(r,l){const a={};l&4194308&&(a.$$scope={dirty:l,ctx:r}),n.$set(a)},i(r){i||(A(n.$$.fragment,r),i=!0)},o(r){S(n.$$.fragment,r),i=!1},d(r){r&&T(e),x(n)}}}function L3(t){let e,n,o=t[0].economyAndLaws.weeklyProfit+"",i;return{c(){e=I("span"),n=F("+$"),i=F(o),P(e,"class","text-textPrimary")},m(r,l){M(r,e,l),g(e,n),g(e,i)},p(r,l){l&1&&o!==(o=r[0].economyAndLaws.weeklyProfit+"")&&re(i,o)},d(r){r&&T(e)}}}function F3(t){let e,n=t[0].economyAndLaws.weeklyProfit+"",o;return{c(){e=I("span"),o=F(n),P(e,"class","text-textDanger2")},m(i,r){M(i,e,r),g(e,o)},p(i,r){r&1&&n!==(n=i[0].economyAndLaws.weeklyProfit+"")&&re(o,n)},d(i){i&&T(e)}}}function B3(t){let e,n,o=t[0].economyAndLaws.weeklyProfit+"",i;return{c(){e=I("span"),n=F("+$"),i=F(o),P(e,"class","text-textHappy")},m(r,l){M(r,e,l),g(e,n),g(e,i)},p(r,l){l&1&&o!==(o=r[0].economyAndLaws.weeklyProfit+"")&&re(i,o)},d(r){r&&T(e)}}}function j3(t){let e=ut(t[0].townInfo.employees/t[0].townInfo.population_count*100,0)+"",n,o,i=t[0].townInfo.employees+"",r,l,a=t[0].townInfo.population_count+"",s,u,f=t[0].townInfo.population_count-t[0].townInfo.employees+"",c,d;return{c(){n=F(e),o=F("% employment ("),r=F(i),l=F("/"),s=F(a),u=F(" - "),c=F(f),d=F(" unemployed)")},m(m,p){M(m,n,p),M(m,o,p),M(m,r,p),M(m,l,p),M(m,s,p),M(m,u,p),M(m,c,p),M(m,d,p)},p(m,p){p&1&&e!==(e=ut(m[0].townInfo.employees/m[0].townInfo.population_count*100,0)+"")&&re(n,e),p&1&&i!==(i=m[0].townInfo.employees+"")&&re(r,i),p&1&&a!==(a=m[0].townInfo.population_count+"")&&re(s,a),p&1&&f!==(f=m[0].townInfo.population_count-m[0].townInfo.employees+"")&&re(c,f)},d(m){m&&(T(n),T(o),T(r),T(l),T(s),T(u),T(c),T(d))}}}function q3(t){let e;function n(r,l){return r[0].townInfo.population_count===0?V3:G3}let o=n(t),i=o(t);return{c(){i.c(),e=Re()},m(r,l){i.m(r,l),M(r,e,l)},p(r,l){o!==(o=n(r))&&(i.d(1),i=o(r),i&&(i.c(),i.m(e.parentNode,e)))},d(r){r&&T(e),i.d(r)}}}function G3(t){let e;return{c(){e=F("All citizens employed")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function V3(t){let e;return{c(){e=F("Nobody lives here , build some homes")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function H3(t){let e;return{c(){e=I("div"),e.textContent="Manage Knowledge"},m(n,o){M(n,e,o)},p:ke,d(n){n&&T(e)}}}function W3(t){let e;return{c(){e=I("div"),e.textContent="City Management"},m(n,o){M(n,e,o)},p:ke,d(n){n&&T(e)}}}function Xu(t){let e;function n(r,l){if(r[0].lab.active_experiment.duration>0)return U3;if(r[0].lab.active_experiment.duration===0)return Y3}let o=n(t),i=o&&o(t);return{c(){i&&i.c(),e=Re()},m(r,l){i&&i.m(r,l),M(r,e,l)},p(r,l){o===(o=n(r))&&i?i.p(r,l):(i&&i.d(1),i=o&&o(r),i&&(i.c(),i.m(e.parentNode,e)))},d(r){r&&T(e),i&&i.d(r)}}}function Y3(t){let e;return{c(){e=I("span"),e.textContent="✅ DONE!",P(e,"class","animate-pulse ")},m(n,o){M(n,e,o)},p:ke,d(n){n&&T(e)}}}function U3(t){let e,n=t[0].lab.active_experiment.duration+"",o,i;return{c(){e=I("span"),o=F(n),i=F("d")},m(r,l){M(r,e,l),g(e,o),g(e,i)},p(r,l){l&1&&n!==(n=r[0].lab.active_experiment.duration+"")&&re(o,n)},d(r){r&&T(e)}}}function K3(t){let e,n,o=t[0].lab.active_experiment!==null&&Xu(t);return{c(){e=I("div"),n=F(`Manage Lab
            `),o&&o.c()},m(i,r){M(i,e,r),g(e,n),o&&o.m(e,null)},p(i,r){i[0].lab.active_experiment!==null?o?o.p(i,r):(o=Xu(i),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},d(i){i&&T(e),o&&o.d()}}}function Ju(t){let e,n,o,i;return o=new Oo({props:{openDelay:400,closeDelay:0,$$slots:{default:[x3]},$$scope:{ctx:t}}}),{c(){e=I("div"),n=I("div"),Z(o.$$.fragment),P(n,"class","flex flex-row justify-center text-xs bg-white rounded-t-2xl text-black py-2 whitespace-nowrap px-2 opacity-50"),P(e,"class","flex flex-col justify-center items-center ")},m(r,l){M(r,e,l),g(e,n),J(o,n,null),i=!0},p(r,l){const a={};l&4194305&&(a.$$scope={dirty:l,ctx:r}),o.$set(a)},i(r){i||(A(o.$$.fragment,r),i=!0)},o(r){S(o.$$.fragment,r),i=!1},d(r){r&&T(e),x(o)}}}function X3(t){let e,n,o,i,r=qt[t[0].currentTutorialStep-1].goldReward+"",l;return{c(){e=I("span"),n=F(`Last reward
                  `),o=I("div"),i=F("💰"),l=F(r),P(e,"class","w-full no-select opacity-70 whitespace-nowrap text-center")},m(a,s){M(a,e,s),g(e,n),g(e,o),g(o,i),g(o,l)},p(a,s){s&1&&r!==(r=qt[a[0].currentTutorialStep-1].goldReward+"")&&re(l,r)},d(a){a&&T(e)}}}function J3(t){let e,n=qt[t[0].currentTutorialStep-1].message+"",o;return{c(){e=F("Last completed task: "),o=F(n)},m(i,r){M(i,e,r),M(i,o,r)},p(i,r){r&1&&n!==(n=qt[i[0].currentTutorialStep-1].message+"")&&re(o,n)},d(i){i&&(T(e),T(o))}}}function x3(t){let e,n,o,i;return e=new Po({props:{$$slots:{default:[X3]},$$scope:{ctx:t}}}),o=new Io({props:{class:"bg-black text-white rounded-2xl",$$slots:{default:[J3]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment),n=j(),Z(o.$$.fragment)},m(r,l){J(e,r,l),M(r,n,l),J(o,r,l),i=!0},p(r,l){const a={};l&4194305&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&4194305&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),x(e,r),x(o,r)}}}function xu(t){let e,n;return e=new S3({props:{y:[-.5,.5],x:[-.5,.5],duration:2e3}}),{c(){Z(e.$$.fragment)},m(o,i){J(e,o,i),n=!0},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function Z3(t){let e=qt[t[0].currentTutorialStep].message+"",n,o,i,r,l=qt[t[0].currentTutorialStep].goldReward+"",a,s;return{c(){n=F(e),o=j(),i=I("span"),r=F("(💰"),a=F(l),s=F(")"),P(i,"class","opacity-40")},m(u,f){M(u,n,f),M(u,o,f),M(u,i,f),g(i,r),g(i,a),g(i,s)},p(u,f){f&1&&e!==(e=qt[u[0].currentTutorialStep].message+"")&&re(n,e),f&1&&l!==(l=qt[u[0].currentTutorialStep].goldReward+"")&&re(a,l)},d(u){u&&(T(n),T(o),T(i))}}}function Q3(t){let e;return{c(){e=F("No more goals!")},m(n,o){M(n,e,o)},p:ke,d(n){n&&T(e)}}}function z3(t){let e,n,o,i,r,l,a,s,u,f=t[0].townInfo.name+"",c,d,m,p,_,b=t[0].townInfo.population_count+"",w,C,k=t[0].townInfo.population_max+"",D,L,R,E,V,$=xt(t[0].townInfo.gold,!1)+"",W,y,v,O,N,H,G,K,z,te,Y,h,B,X,ne,U,ue,we,Ce,Ke,Ve,et,fe,Ee,Ge,Be,Xe,Ae,Se,kt,Lt,ft,Ft,ct,pt,ot,de,We,q,rs,ri,li=t[0].environment.day%365+1+"",Or,ls,eo,si,ss,ai,ui=Math.floor(t[0].environment.day/365)+1+"",Pr,as,pn,to,us,fi,fs,no,cs,ci,ds,oo,ms,di,mi,dt,Nr,ps,Mn=Ue(t[2]),nt=[];for(let ve=0;ve<Mn.length;ve+=1)nt[ve]=Ku(Uu(t,Mn,ve));const Ld=ve=>S(nt[ve],1,1,()=>{nt[ve]=null});function hs(ve,je){return ve[0].economyAndLaws.weeklyProfit>0?B3:ve[0].economyAndLaws.weeklyProfit<0?F3:L3}let pi=hs(t),Ht=pi(t);function _s(ve,je){return ve[0].townInfo.employees==ve[0].townInfo.population_count?q3:j3}let hi=_s(t),Wt=hi(t);U=new Mt({props:{class:"text-xs flex flex-col h-min  bg-button cursor-pointer text-textPrimary p-1.5",$$slots:{default:[H3]},$$scope:{ctx:t}}}),U.$on("click",t[12]),we=new Mt({props:{class:"text-xs flex flex-col h-min  bg-button cursor-pointer text-textPrimary p-1.5",$$slots:{default:[W3]},$$scope:{ctx:t}}}),we.$on("click",t[13]),Ke=new Mt({props:{class:"text-xs flex flex-col h-min p-1.5 "+(t[0].hasLab?"bg-button cursor-pointer text-textPrimary":"bg-button cursor-not-allowed text-textPrimary opacity-35"),$$slots:{default:[K3]},$$scope:{ctx:t}}}),Ke.$on("click",t[10]);let lt=t[0].currentTutorialStep!=0&&Ju(t),mt=t[7]&&xu();function gs(ve,je){return ve[0].currentTutorialStep>=qt.length?Q3:Z3}let _i=gs(t),Yt=_i(t);return{c(){e=I("div"),n=I("div"),o=I("div");for(let ve=0;ve<nt.length;ve+=1)nt[ve].c();i=j(),r=I("div"),l=I("div"),a=I("div"),s=I("div"),u=I("h1"),c=F(f),d=j(),m=I("div"),p=I("span"),_=F("👥 "),w=F(b),C=F(" / "),D=F(k),L=j(),R=I("span"),E=I("span"),V=F("💰 "),W=F($),y=j(),v=I("span"),O=j(),Ht.c(),N=j(),H=I("span"),H.textContent="(weekly)",G=j(),K=I("div"),Wt.c(),te=j(),Y=I("span"),h=F("Game time: "),B=F(t[1]),X=j(),ne=I("div"),Z(U.$$.fragment),ue=j(),Z(we.$$.fragment),Ce=j(),Z(Ke.$$.fragment),Ve=j(),et=I("div"),fe=I("div"),lt&&lt.c(),Ee=j(),mt&&mt.c(),Ge=j(),Be=I("div"),Xe=I("div"),Xe.textContent="👨‍🦰",Ae=j(),Se=I("div"),Yt.c(),Lt=j(),ft=I("div"),Ft=I("div"),ct=I("div"),pt=I("div"),pt.innerHTML='<span class="text-xs text-secondary cursor-pointer">Press P to Pause</span>',ot=j(),de=I("div"),We=I("span"),q=I("span"),q.textContent="Day",rs=j(),ri=I("span"),Or=F(li),ls=j(),eo=I("span"),si=I("span"),si.textContent="Year",ss=j(),ai=I("span"),Pr=F(ui),as=j(),pn=I("div"),to=I("span"),us=F("Slow"),fs=j(),no=I("span"),cs=F("Normal"),ds=j(),oo=I("span"),ms=F("Fast"),P(o,"class","flex flex-col w-36 text-foregroundText bg-accent p-2 rounded-xl gap-2 mr-2"),P(u,"class","font-bold cursor-pointer w-full pb-2 text-start select-none"),P(s,"class","cursor-pointer transition-all duration=150 min-h-8"),P(p,"class","text-sm"),P(E,"class","text-sm"),P(v,"class","pl-2"),P(H,"class","text-gray-400"),P(R,"class","text-xs"),P(m,"class","flex flex-row gap-4 flex-wrap items-center"),P(K,"class",z="text-xs pt-0 opacity-70 "+(t[0].townInfo.employees==t[0].townInfo.population_count?"text-textPrimary":t[0].townInfo.employees>t[0].townInfo.population_count*.95?"text-textDanger3":t[0].townInfo.employees>t[0].townInfo.population_count*.9?"text-textDanger2":"text-textDanger1")),P(Y,"class","text-xs text-secondary cursor-pointer"),P(a,"class","flex flex-col justify-between"),P(l,"class","rounded-xl"),P(ne,"class","flex flex-row gap-2 align-middle justify-center items-center "),P(r,"class","flex justify-between flex-col"),P(n,"class","flex flex-row gap-2 my-2 h-max"),P(Xe,"class","text-lg h-max"),P(Se,"class","text-xs ml-2 overflow-auto opacity-80"),P(Be,"class","gap flex-row items-center flex bg-white text-slate-800 py-1 px-2 rounded-xl w-full"),P(fe,"class","flex flex-col justify-center w-full align-middle items-center"),P(et,"class",kt="flex flex-row flex-wrap align-middle justify-center items-center w-80 "+(t[7]?"opacity-25 ":"")+" transition-all duration-700 "+(t[0].environment.day===0?"wiggle":"")+" svelte-1asvijo"),P(q,"class","text-xs"),P(ri,"class","font-semibold text-xs"),P(We,"class","flex flex-col gap-2 text-center"),P(si,"class","text-xs"),P(ai,"class","font-semibold text-xs"),P(eo,"class","flex flex-col gap-2 text-center"),P(de,"class","rounded-xl bg-accent flex-row justify-between text-accentText w-36 h-14 flex px-6 items-center mb-2"),P(to,"class",fi=(t[3].toString()==="2000"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"),P(no,"class",ci=(t[3].toString()==="750"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"),P(oo,"class",di=(t[3].toString()==="200"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"),P(pn,"class","flex flex-row gap-2 align-middle justify-center items-center"),P(ct,"class","flex flex-col items-center h-max"),P(Ft,"class","flex flex-col"),P(ft,"class","flex justify-center align-middle flex-col"),P(e,"class",mi="flex justify-between px-6 gap-6 flex-row text-start fixed top-0 left-0 right-0 cursor-default z-20 bg-foreground text-foregroundText h-max "+(t[4].visible?"opacity-70":""))},m(ve,je){M(ve,e,je),g(e,n),g(n,o);for(let In=0;In<nt.length;In+=1)nt[In]&&nt[In].m(o,null);g(n,i),g(n,r),g(r,l),g(l,a),g(a,s),g(s,u),g(u,c),g(a,d),g(a,m),g(m,p),g(p,_),g(p,w),g(p,C),g(p,D),g(m,L),g(m,R),g(R,E),g(E,V),g(E,W),g(R,y),g(R,v),g(R,O),Ht.m(R,null),g(R,N),g(R,H),g(a,G),g(a,K),Wt.m(K,null),g(a,te),g(a,Y),g(Y,h),g(Y,B),g(r,X),g(r,ne),J(U,ne,null),g(ne,ue),J(we,ne,null),g(ne,Ce),J(Ke,ne,null),g(e,Ve),g(e,et),g(et,fe),lt&&lt.m(fe,null),g(fe,Ee),mt&&mt.m(fe,null),g(fe,Ge),g(fe,Be),g(Be,Xe),g(Be,Ae),g(Be,Se),Yt.m(Se,null),g(e,Lt),g(e,ft),g(ft,Ft),g(Ft,ct),g(ct,pt),g(ct,ot),g(ct,de),g(de,We),g(We,q),g(We,rs),g(We,ri),g(ri,Or),g(de,ls),g(de,eo),g(eo,si),g(eo,ss),g(eo,ai),g(ai,Pr),g(ct,as),g(ct,pn),g(pn,to),g(to,us),g(pn,fs),g(pn,no),g(no,cs),g(pn,ds),g(pn,oo),g(oo,ms),dt=!0,Nr||(ps=[ee(s,"click",t[8]),ee(to,"click",t[14]),ee(no,"click",t[15]),ee(oo,"click",t[16])],Nr=!0)},p(ve,[je]){if(je&2052){Mn=Ue(ve[2]);let bt;for(bt=0;bt<Mn.length;bt+=1){const vs=Uu(ve,Mn,bt);nt[bt]?(nt[bt].p(vs,je),A(nt[bt],1)):(nt[bt]=Ku(vs),nt[bt].c(),A(nt[bt],1),nt[bt].m(o,null))}for(Ie(),bt=Mn.length;bt<nt.length;bt+=1)Ld(bt);Oe()}(!dt||je&1)&&f!==(f=ve[0].townInfo.name+"")&&re(c,f),(!dt||je&1)&&b!==(b=ve[0].townInfo.population_count+"")&&re(w,b),(!dt||je&1)&&k!==(k=ve[0].townInfo.population_max+"")&&re(D,k),(!dt||je&1)&&$!==($=xt(ve[0].townInfo.gold,!1)+"")&&re(W,$),pi===(pi=hs(ve))&&Ht?Ht.p(ve,je):(Ht.d(1),Ht=pi(ve),Ht&&(Ht.c(),Ht.m(R,N))),hi===(hi=_s(ve))&&Wt?Wt.p(ve,je):(Wt.d(1),Wt=hi(ve),Wt&&(Wt.c(),Wt.m(K,null))),(!dt||je&1&&z!==(z="text-xs pt-0 opacity-70 "+(ve[0].townInfo.employees==ve[0].townInfo.population_count?"text-textPrimary":ve[0].townInfo.employees>ve[0].townInfo.population_count*.95?"text-textDanger3":ve[0].townInfo.employees>ve[0].townInfo.population_count*.9?"text-textDanger2":"text-textDanger1")))&&P(K,"class",z),(!dt||je&2)&&re(B,ve[1]);const In={};je&4194304&&(In.$$scope={dirty:je,ctx:ve}),U.$set(In);const bs={};je&4194304&&(bs.$$scope={dirty:je,ctx:ve}),we.$set(bs);const Er={};je&1&&(Er.class="text-xs flex flex-col h-min p-1.5 "+(ve[0].hasLab?"bg-button cursor-pointer text-textPrimary":"bg-button cursor-not-allowed text-textPrimary opacity-35")),je&4194305&&(Er.$$scope={dirty:je,ctx:ve}),Ke.$set(Er),ve[0].currentTutorialStep!=0?lt?(lt.p(ve,je),je&1&&A(lt,1)):(lt=Ju(ve),lt.c(),A(lt,1),lt.m(fe,Ee)):lt&&(Ie(),S(lt,1,1,()=>{lt=null}),Oe()),ve[7]?mt?je&128&&A(mt,1):(mt=xu(),mt.c(),A(mt,1),mt.m(fe,Ge)):mt&&(Ie(),S(mt,1,1,()=>{mt=null}),Oe()),_i===(_i=gs(ve))&&Yt?Yt.p(ve,je):(Yt.d(1),Yt=_i(ve),Yt&&(Yt.c(),Yt.m(Se,null))),(!dt||je&129&&kt!==(kt="flex flex-row flex-wrap align-middle justify-center items-center w-80 "+(ve[7]?"opacity-25 ":"")+" transition-all duration-700 "+(ve[0].environment.day===0?"wiggle":"")+" svelte-1asvijo"))&&P(et,"class",kt),(!dt||je&1)&&li!==(li=ve[0].environment.day%365+1+"")&&re(Or,li),(!dt||je&1)&&ui!==(ui=Math.floor(ve[0].environment.day/365)+1+"")&&re(Pr,ui),(!dt||je&8&&fi!==(fi=(ve[3].toString()==="2000"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"))&&P(to,"class",fi),(!dt||je&8&&ci!==(ci=(ve[3].toString()==="750"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"))&&P(no,"class",ci),(!dt||je&8&&di!==(di=(ve[3].toString()==="200"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"))&&P(oo,"class",di),(!dt||je&16&&mi!==(mi="flex justify-between px-6 gap-6 flex-row text-start fixed top-0 left-0 right-0 cursor-default z-20 bg-foreground text-foregroundText h-max "+(ve[4].visible?"opacity-70":"")))&&P(e,"class",mi)},i(ve){if(!dt){for(let je=0;je<Mn.length;je+=1)A(nt[je]);A(U.$$.fragment,ve),A(we.$$.fragment,ve),A(Ke.$$.fragment,ve),A(lt),A(mt),dt=!0}},o(ve){nt=nt.filter(Boolean);for(let je=0;je<nt.length;je+=1)S(nt[je]);S(U.$$.fragment,ve),S(we.$$.fragment,ve),S(Ke.$$.fragment,ve),S(lt),S(mt),dt=!1},d(ve){ve&&T(e),gt(nt,ve),Ht.d(),Wt.d(),x(U),x(we),x(Ke),lt&&lt.d(),mt&&mt.d(),Yt.d(),Nr=!1,Le(ps)}}}function e4(t,e,n){let o,i,r,l,a,s;ae(t,Pe,D=>n(0,o=D)),ae(t,nl,D=>n(3,i=D)),ae(t,ze,D=>n(4,r=D)),ae(t,Hi,D=>n(5,l=D)),ae(t,Yi,D=>n(6,a=D)),ae(t,Oi,D=>n(7,s=D)),mr(()=>{const D=setInterval(()=>{Me(Pe,o.timeSpent+=1e3,o)},1e3);return()=>{clearInterval(D)}});function u(){let D=prompt("Enter a new name for your town (under 200 chars)");if(D&&D.length<200&&D.length>=1){let L=o;L.townInfo.name=D,Pe.set(L),localStorage.setItem(Gt,JSON.stringify(L))}}function f(D){return Me(nl,i=D,i),document.querySelectorAll(".speedButton").forEach(R=>{R.classList.remove("active")}),i}function c(){o.hasLab&&Pi.set(!0)}let d="00:00:00",m;const p=D=>D>149?"bg-green-500":D>99?"bg-yellow-500":"bg-red-500",_=function(){Me(Hi,l=!l,l)},b=function(){Me(Yi,a=!a,a)},w=()=>f(2e3),C=()=>f(750),k=()=>f(200);return t.$$.update=()=>{t.$$.dirty&1&&(o.timeSpent>0?n(1,d=Qm(o.timeSpent)):n(1,d="00:00:00")),t.$$.dirty&1&&n(2,m=[{name:"Happiness",description:"Happy townspeople spend more money and are less likely to leave.",value:o.townInfo.happiness,modifier:o.modifiers.happiness},{name:"Health",description:"Healthy townspeople are less likely to die (and leave the town obviously).",value:o.townInfo.health,modifier:o.modifiers.health},{name:"Community",description:"Townspeople that feel at home are less likely to leave, and less likely to get bored.",value:o.townInfo.community,modifier:o.modifiers.community}])},[o,d,m,i,r,l,a,s,u,f,c,p,_,b,w,C,k]}class t4 extends be{constructor(e){super(),ge(this,e,e4,z3,ce,{})}}function Zu(t,e,n){const o=t.slice();return o[4]=e[n],o[6]=n,o}function Qu(t,e,n){const o=t.slice();return o[4]=e[n],o[6]=n,o}function zu(t){let e,n,o,i=ie[Te(t[0].id)].title+"",r,l,a,s=ie[Te(t[0].id)].description+"",u,f,c,d,m,p,_,b,w,C=t[3]("💰",ie[Te(t[0].id)].requirements.gold,t[2].townInfo.gold)+"",k,D,L=t[3]("🥕",ie[Te(t[0].id)].requirements.resources.food,t[2].resources.food)+"",R,E,V=t[3]("🧠",ie[Te(t[0].id)].requirements.knowledge,t[2].townInfo.knowledge_points)+"",$,W,y=t[3]("🪵",ie[Te(t[0].id)].requirements.resources.wood,t[2].resources.wood)+"",v,O,N=t[3]("🪨",ie[Te(t[0].id)].requirements.resources.stone,t[2].resources.stone)+"",H,G,K=t[3]("🧲",ie[Te(t[0].id)].requirements.resources.metal,t[2].resources.metal)+"",z,te,Y=t[3]("🔋",ie[Te(t[0].id)].active_costs.power,t[2].resources.power)+"",h,B,X=t[3]("🧑‍⚖️",ie[Te(t[0].id)].requirements.resources.bureaucracy,t[2].resources.bureaucracy)+"",ne,U=ie[Te(t[0].id)].requirements.employees!=0,ue,we=ie[Te(t[0].id)].revenue_per_week!=0,Ce,Ke=Object.values(ie[Te(t[0].id)].active_costs).some(cf),Ve,et=Object.values(ie[Te(t[0].id)].generated_resources).some(ff)||ie[Te(t[0].id)].knowledge_points_per_month>0,fe;d=new wt({props:{class:"bg-secondary opacity-25 mt-1 mb-1"}});let Ee=U&&ef(t),Ge=we&&tf(t),Be=Ke&&nf(t),Xe=et&&lf(t);return{c(){e=I("div"),n=I("div"),o=I("span"),r=F(i),l=j(),a=I("span"),u=F(s),f=j(),c=I("div"),Z(d.$$.fragment),m=j(),p=I("span"),p.textContent="Requirements",_=j(),b=I("div"),w=new on(!1),k=j(),D=new on(!1),R=j(),E=new on(!1),$=j(),W=new on(!1),v=j(),O=new on(!1),H=j(),G=new on(!1),z=j(),te=new on(!1),h=j(),B=new on(!1),ne=j(),Ee&&Ee.c(),ue=j(),Ge&&Ge.c(),Ce=j(),Be&&Be.c(),Ve=j(),Xe&&Xe.c(),P(o,"class","text-md"),P(a,"class","text-xs"),P(n,"class","flex flex-col gap-2"),P(p,"class","font-semibold"),w.a=k,D.a=R,E.a=$,W.a=v,O.a=H,G.a=z,te.a=h,B.a=ne,P(b,"class","flex flex-col gap-1"),P(c,"class","flex flex-col w-36 h-min gap-0 text-xs pb-2"),P(e,"class","p-2")},m(Ae,Se){M(Ae,e,Se),g(e,n),g(n,o),g(o,r),g(n,l),g(n,a),g(a,u),g(e,f),g(e,c),J(d,c,null),g(c,m),g(c,p),g(c,_),g(c,b),w.m(C,b),g(b,k),D.m(L,b),g(b,R),E.m(V,b),g(b,$),W.m(y,b),g(b,v),O.m(N,b),g(b,H),G.m(K,b),g(b,z),te.m(Y,b),g(b,h),B.m(X,b),g(b,ne),Ee&&Ee.m(b,null),g(e,ue),Ge&&Ge.m(e,null),g(e,Ce),Be&&Be.m(e,null),g(e,Ve),Xe&&Xe.m(e,null),fe=!0},p(Ae,Se){(!fe||Se&1)&&i!==(i=ie[Te(Ae[0].id)].title+"")&&re(r,i),(!fe||Se&1)&&s!==(s=ie[Te(Ae[0].id)].description+"")&&re(u,s),(!fe||Se&5)&&C!==(C=Ae[3]("💰",ie[Te(Ae[0].id)].requirements.gold,Ae[2].townInfo.gold)+"")&&w.p(C),(!fe||Se&5)&&L!==(L=Ae[3]("🥕",ie[Te(Ae[0].id)].requirements.resources.food,Ae[2].resources.food)+"")&&D.p(L),(!fe||Se&5)&&V!==(V=Ae[3]("🧠",ie[Te(Ae[0].id)].requirements.knowledge,Ae[2].townInfo.knowledge_points)+"")&&E.p(V),(!fe||Se&5)&&y!==(y=Ae[3]("🪵",ie[Te(Ae[0].id)].requirements.resources.wood,Ae[2].resources.wood)+"")&&W.p(y),(!fe||Se&5)&&N!==(N=Ae[3]("🪨",ie[Te(Ae[0].id)].requirements.resources.stone,Ae[2].resources.stone)+"")&&O.p(N),(!fe||Se&5)&&K!==(K=Ae[3]("🧲",ie[Te(Ae[0].id)].requirements.resources.metal,Ae[2].resources.metal)+"")&&G.p(K),(!fe||Se&5)&&Y!==(Y=Ae[3]("🔋",ie[Te(Ae[0].id)].active_costs.power,Ae[2].resources.power)+"")&&te.p(Y),(!fe||Se&5)&&X!==(X=Ae[3]("🧑‍⚖️",ie[Te(Ae[0].id)].requirements.resources.bureaucracy,Ae[2].resources.bureaucracy)+"")&&B.p(X),Se&1&&(U=ie[Te(Ae[0].id)].requirements.employees!=0),U?Ee?Ee.p(Ae,Se):(Ee=ef(Ae),Ee.c(),Ee.m(b,null)):Ee&&(Ee.d(1),Ee=null),Se&1&&(we=ie[Te(Ae[0].id)].revenue_per_week!=0),we?Ge?(Ge.p(Ae,Se),Se&1&&A(Ge,1)):(Ge=tf(Ae),Ge.c(),A(Ge,1),Ge.m(e,Ce)):Ge&&(Ie(),S(Ge,1,1,()=>{Ge=null}),Oe()),Se&1&&(Ke=Object.values(ie[Te(Ae[0].id)].active_costs).some(cf)),Ke?Be?(Be.p(Ae,Se),Se&1&&A(Be,1)):(Be=nf(Ae),Be.c(),A(Be,1),Be.m(e,Ve)):Be&&(Ie(),S(Be,1,1,()=>{Be=null}),Oe()),Se&1&&(et=Object.values(ie[Te(Ae[0].id)].generated_resources).some(ff)||ie[Te(Ae[0].id)].knowledge_points_per_month>0),et?Xe?(Xe.p(Ae,Se),Se&1&&A(Xe,1)):(Xe=lf(Ae),Xe.c(),A(Xe,1),Xe.m(e,null)):Xe&&(Ie(),S(Xe,1,1,()=>{Xe=null}),Oe())},i(Ae){fe||(A(d.$$.fragment,Ae),A(Ge),A(Be),A(Xe),fe=!0)},o(Ae){S(d.$$.fragment,Ae),S(Ge),S(Be),S(Xe),fe=!1},d(Ae){Ae&&T(e),x(d),Ee&&Ee.d(),Ge&&Ge.d(),Be&&Be.d(),Xe&&Xe.d()}}}function ef(t){let e,n,o=ie[Te(t[0].id)].requirements.employees+"",i,r,l;return{c(){e=I("span"),n=F("👥 "),i=F(o),r=F(" employees"),P(e,"class",l=ie[Te(t[0].id)].requirements.employees>t[2].townInfo.population_count-t[2].townInfo.employees&&t[1]?"px-1 text-textDanger1 font-bold border-2 border-red-400":"")},m(a,s){M(a,e,s),g(e,n),g(e,i),g(e,r)},p(a,s){s&1&&o!==(o=ie[Te(a[0].id)].requirements.employees+"")&&re(i,o),s&7&&l!==(l=ie[Te(a[0].id)].requirements.employees>a[2].townInfo.population_count-a[2].townInfo.employees&&a[1]?"px-1 text-textDanger1 font-bold border-2 border-red-400":"")&&P(e,"class",l)},d(a){a&&T(e)}}}function tf(t){let e,n,o,i,r,l,a,s=ie[Te(t[0].id)].revenue_per_week+"",u,f;return n=new wt({props:{class:"bg-secondary opacity-25 mt-0"}}),{c(){e=I("div"),Z(n.$$.fragment),o=j(),i=I("span"),i.textContent="Weekly revenue",r=j(),l=I("span"),a=F("💰 "),u=F(s),P(i,"class","font-semibold"),P(e,"class","flex flex-col gap-1 text-xs")},m(c,d){M(c,e,d),J(n,e,null),g(e,o),g(e,i),g(e,r),g(e,l),g(l,a),g(l,u),f=!0},p(c,d){(!f||d&1)&&s!==(s=ie[Te(c[0].id)].revenue_per_week+"")&&re(u,s)},i(c){f||(A(n.$$.fragment,c),f=!0)},o(c){S(n.$$.fragment,c),f=!1},d(c){c&&T(e),x(n)}}}function nf(t){let e,n,o,i,r,l;n=new wt({props:{class:"bg-secondary opacity-25 mt-2"}});let a=Ue(Object.keys(ie[Te(t[0].id)].active_costs)),s=[];for(let u=0;u<a.length;u+=1)s[u]=rf(Qu(t,a,u));return{c(){e=I("div"),Z(n.$$.fragment),o=j(),i=I("span"),i.textContent="Weekly Costs",r=j();for(let u=0;u<s.length;u+=1)s[u].c();P(i,"class","font-semibold"),P(e,"class","flex flex-col gap-1 text-xs")},m(u,f){M(u,e,f),J(n,e,null),g(e,o),g(e,i),g(e,r);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(e,null);l=!0},p(u,f){if(f&1){a=Ue(Object.keys(ie[Te(u[0].id)].active_costs));let c;for(c=0;c<a.length;c+=1){const d=Qu(u,a,c);s[c]?s[c].p(d,f):(s[c]=rf(d),s[c].c(),s[c].m(e,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=a.length}},i(u){l||(A(n.$$.fragment,u),l=!0)},o(u){S(n.$$.fragment,u),l=!1},d(u){u&&T(e),x(n),gt(s,u)}}}function of(t){let e,n=Fn(t[4])+"",o,i,r=fr(t[4])+"",l,a,s=-1*Object.values(ie[Te(t[0].id)].active_costs)[t[6]]+"",u,f,c;return{c(){e=I("span"),o=F(n),i=j(),l=F(r),a=j(),u=F(s),f=j(),P(e,"class",c=Object.values(ie[Te(t[0].id)].active_costs)[t[6]]>0?"text-textDanger1":"text-textHappyDark")},m(d,m){M(d,e,m),g(e,o),g(e,i),g(e,l),g(e,a),g(e,u),g(e,f)},p(d,m){m&1&&n!==(n=Fn(d[4])+"")&&re(o,n),m&1&&r!==(r=fr(d[4])+"")&&re(l,r),m&1&&s!==(s=-1*Object.values(ie[Te(d[0].id)].active_costs)[d[6]]+"")&&re(u,s),m&1&&c!==(c=Object.values(ie[Te(d[0].id)].active_costs)[d[6]]>0?"text-textDanger1":"text-textHappyDark")&&P(e,"class",c)},d(d){d&&T(e)}}}function rf(t){let e=Object.values(ie[Te(t[0].id)].active_costs)[t[6]]!=0,n,o=e&&of(t);return{c(){o&&o.c(),n=Re()},m(i,r){o&&o.m(i,r),M(i,n,r)},p(i,r){r&1&&(e=Object.values(ie[Te(i[0].id)].active_costs)[i[6]]!=0),e?o?o.p(i,r):(o=of(i),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(i){i&&T(n),o&&o.d(i)}}}function lf(t){let e,n,o,i,r,l=ie[Te(t[0].id)].knowledge_points_per_month>0,a,s;n=new wt({props:{class:"bg-secondary opacity-25 mt-2"}});let u=l&&sf(t),f=Ue(Object.keys(ie[Te(t[0].id)].generated_resources)),c=[];for(let d=0;d<f.length;d+=1)c[d]=uf(Zu(t,f,d));return{c(){e=I("div"),Z(n.$$.fragment),o=j(),i=I("span"),i.textContent="Generated Resources",r=j(),u&&u.c(),a=j();for(let d=0;d<c.length;d+=1)c[d].c();P(i,"class","font-semibold"),P(e,"class","flex flex-col gap-1 text-xs")},m(d,m){M(d,e,m),J(n,e,null),g(e,o),g(e,i),g(e,r),u&&u.m(e,null),g(e,a);for(let p=0;p<c.length;p+=1)c[p]&&c[p].m(e,null);s=!0},p(d,m){if(m&1&&(l=ie[Te(d[0].id)].knowledge_points_per_month>0),l?u?u.p(d,m):(u=sf(d),u.c(),u.m(e,a)):u&&(u.d(1),u=null),m&1){f=Ue(Object.keys(ie[Te(d[0].id)].generated_resources));let p;for(p=0;p<f.length;p+=1){const _=Zu(d,f,p);c[p]?c[p].p(_,m):(c[p]=uf(_),c[p].c(),c[p].m(e,null))}for(;p<c.length;p+=1)c[p].d(1);c.length=f.length}},i(d){s||(A(n.$$.fragment,d),s=!0)},o(d){S(n.$$.fragment,d),s=!1},d(d){d&&T(e),x(n),u&&u.d(),gt(c,d)}}}function sf(t){let e,n,o=Math.round(ie[Te(t[0].id)].knowledge_points_per_month)+"",i,r;return{c(){e=I("span"),n=F("🧠 "),i=F(o),r=F(" (monthly)")},m(l,a){M(l,e,a),g(e,n),g(e,i),g(e,r)},p(l,a){a&1&&o!==(o=Math.round(ie[Te(l[0].id)].knowledge_points_per_month)+"")&&re(i,o)},d(l){l&&T(e)}}}function af(t){let e,n=fr(t[4])+"",o,i,r=Fn(t[4])+"",l,a,s=Os(Object.values(ie[Te(t[0].id)].generated_resources)[t[6]],!1)+"",u,f,c;return{c(){e=I("span"),o=F(n),i=j(),l=F(r),a=j(),u=F(s),f=j(),P(e,"class",c=Object.values(ie[Te(t[0].id)].generated_resources)[t[6]]>0?"text-textHappyDark":"text-textDanger1")},m(d,m){M(d,e,m),g(e,o),g(e,i),g(e,l),g(e,a),g(e,u),g(e,f)},p(d,m){m&1&&n!==(n=fr(d[4])+"")&&re(o,n),m&1&&r!==(r=Fn(d[4])+"")&&re(l,r),m&1&&s!==(s=Os(Object.values(ie[Te(d[0].id)].generated_resources)[d[6]],!1)+"")&&re(u,s),m&1&&c!==(c=Object.values(ie[Te(d[0].id)].generated_resources)[d[6]]>0?"text-textHappyDark":"text-textDanger1")&&P(e,"class",c)},d(d){d&&T(e)}}}function uf(t){let e=Object.values(ie[Te(t[0].id)].generated_resources)[t[6]]!=0,n,o=e&&af(t);return{c(){o&&o.c(),n=Re()},m(i,r){o&&o.m(i,r),M(i,n,r)},p(i,r){r&1&&(e=Object.values(ie[Te(i[0].id)].generated_resources)[i[6]]!=0),e?o?o.p(i,r):(o=af(i),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(i){i&&T(n),o&&o.d(i)}}}function n4(t){let e,n,o=t[0]!=null&&zu(t);return{c(){o&&o.c(),e=Re()},m(i,r){o&&o.m(i,r),M(i,e,r),n=!0},p(i,[r]){i[0]!=null?o?(o.p(i,r),r&1&&A(o,1)):(o=zu(i),o.c(),A(o,1),o.m(e.parentNode,e)):o&&(Ie(),S(o,1,1,()=>{o=null}),Oe())},i(i){n||(A(o),n=!0)},o(i){S(o),n=!1},d(i){i&&T(e),o&&o.d(i)}}}function fr(t){switch(t){case"food":return"🥕";case"knowledge":return"🧠";case"wood":return"🪵";case"stone":return"🪨";case"metal":return"🧲";case"power":return"🔋";case"bureaucracy":return"🧑‍⚖️";default:return"💰"}}const ff=t=>t!=0,cf=t=>t!=0;function o4(t,e,n){let o;ae(t,Pe,a=>n(2,o=a));let{option:i}=e,{checkRequirements:r=!0}=e;function l(a,s,u){if(s==0||s==null)return"<span class='hidden'></span>";let f="",c="";return u<s&&r&&(c="text-textDanger1 border-2 border-red-400"),f=`<span class='${c}'>${a} ${s}</span>`,f}return t.$$set=a=>{"option"in a&&n(0,i=a.option),"checkRequirements"in a&&n(1,r=a.checkRequirements)},[i,r,o,l]}class Rd extends be{constructor(e){super(),ge(this,e,o4,n4,ce,{option:0,checkRequirements:1})}}function df(t,e,n){const o=t.slice();return o[25]=e[n],o}function mf(t,e,n){const o=t.slice();return o[28]=e[n],o}function pf(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,p,_=t[5].plots[t[0]][t[1]].type!==-1&&t[12](t[0],t[1]),b,w,C,k,D,L,R={type:"text",autofocus:!0,id:"search-bar",placeholder:"Search Plot Options...",value:t[3],class:"border rounded w-auto bg-white placeholder-black text-black text-xs"};a=new Ul({props:R}),t[16](a),a.$on("input",t[10]);let E=_&&hf(t),V=Ue(t[6].isMineralSource||t[3].length>0?[1]:He("tree_farm",t[5]).length!=0?[1,2,3,4]:[1]),$=[];for(let y=0;y<V.length;y+=1)$[y]=Cf(df(t,V,y));const W=y=>S($[y],1,1,()=>{$[y]=null});return{c(){e=I("div"),n=I("div"),o=I("div"),i=I("div"),r=I("div"),l=I("div"),Z(a.$$.fragment),s=j(),u=I("div"),f=I("input"),c=j(),d=I("label"),d.textContent="Buildable",m=j(),p=I("div"),E&&E.c(),b=j(),w=I("div");for(let y=0;y<$.length;y+=1)$[y].c();P(l,"class","flex items-end "),P(f,"type","checkbox"),P(f,"id","toggle-affordable"),P(f,"class","rounded"),f.checked=t[7],P(d,"for","toggle-affordable"),P(d,"class","ml-2 no-select cursor-pointer "),P(u,"class","flex items-center ml-4"),P(p,"class","flex justify-end ml-6"),P(r,"class","flex flex-row w-full "),P(i,"class","text-sm"),P(w,"class",C="flex flex-col "+(t[6].isMineralSource||t[3].length>0?"gap-0 pt-0":"gap-4")+" w-full overflow-y-scroll h-72 pb-24"),P(o,"class","flex flex-col gap-2 px-2 justify-end"),P(n,"class","text-xl items-center justify-center w-[90%] align-bottom bg-foreground border-4 border-gray-400 shadow-2xl rounded-t-xl py-2 "),P(e,"class","w-[100vw] fixed bottom-0 h-["+t[9]+"] p-1 z-50 flex flex-col justify-center text-center items-center")},m(y,v){M(y,e,v),g(e,n),g(n,o),g(o,i),g(i,r),g(r,l),J(a,l,null),g(r,s),g(r,u),g(u,f),g(u,c),g(u,d),g(r,m),g(r,p),E&&E.m(p,null),g(o,b),g(o,w);for(let O=0;O<$.length;O+=1)$[O]&&$[O].m(w,null);k=!0,D||(L=[ee(f,"change",t[17]),ee(o,"click",t[11])],D=!0)},p(y,v){const O={};if(v[0]&8&&(O.value=y[3]),a.$set(O),(!k||v[0]&128)&&(f.checked=y[7]),v[0]&35&&(_=y[5].plots[y[0]][y[1]].type!==-1&&y[12](y[0],y[1])),_?E?E.p(y,v):(E=hf(y),E.c(),E.m(p,null)):E&&(E.d(1),E=null),v[0]&120){V=Ue(y[6].isMineralSource||y[3].length>0?[1]:He("tree_farm",y[5]).length!=0?[1,2,3,4]:[1]);let N;for(N=0;N<V.length;N+=1){const H=df(y,V,N);$[N]?($[N].p(H,v),A($[N],1)):($[N]=Cf(H),$[N].c(),A($[N],1),$[N].m(w,null))}for(Ie(),N=V.length;N<$.length;N+=1)W(N);Oe()}(!k||v[0]&72&&C!==(C="flex flex-col "+(y[6].isMineralSource||y[3].length>0?"gap-0 pt-0":"gap-4")+" w-full overflow-y-scroll h-72 pb-24"))&&P(w,"class",C)},i(y){if(!k){A(a.$$.fragment,y);for(let v=0;v<V.length;v+=1)A($[v]);k=!0}},o(y){S(a.$$.fragment,y),$=$.filter(Boolean);for(let v=0;v<$.length;v+=1)S($[v]);k=!1},d(y){y&&T(e),t[16](null),x(a),E&&E.d(),gt($,y),D=!1,Le(L)}}}function hf(t){let e,n,o;return{c(){e=I("button"),e.textContent="❌ Bulldoze",P(e,"id","bulldoze"),P(e,"class","px-2 py-2 bg-red-500 rounded hover:bg-red-600 transition duration-300 ease-in-out")},m(i,r){M(i,e,r),n||(o=ee(e,"click",t[13]),n=!0)},p:ke,d(i){i&&T(e),n=!1,o()}}}function _f(t){let e,n,o=t[25]+"",i;return{c(){e=I("div"),n=F("Level "),i=F(o),P(e,"class","text-sm font-extralight pb-3")},m(r,l){M(r,e,l),g(e,n),g(e,i)},p(r,l){l[0]&104&&o!==(o=r[25]+"")&&re(i,o)},d(r){r&&T(e)}}}function gf(t){let e,n,o=t[28].active_costs.power+"",i;return{c(){e=I("span"),n=F("🔋"),i=F(o),P(e,"class","bg-yellow-300 text-xs text-black tex px-1 py-0.5 rounded-2xl absolute top-[-5px] right-[-2px]")},m(r,l){M(r,e,l),g(e,n),g(e,i)},p(r,l){l[0]&120&&o!==(o=r[28].active_costs.power+"")&&re(i,o)},d(r){r&&T(e)}}}function bf(t){let e,n,o=He(t[28].id,t[5]).length+"",i;return{c(){e=I("span"),n=F("x"),i=F(o),P(e,"class","bg-black text-xs text-white tex px-1 py-0.5 rounded-2xl absolute top-[-5px] left-[-2px]")},m(r,l){M(r,e,l),g(e,n),g(e,i)},p(r,l){l[0]&120&&o!==(o=He(r[28].id,r[5]).length+"")&&re(i,o)},d(r){r&&T(e)}}}function vf(t){let e,n,o=xt(t[28].revenue_per_week,!1)+"",i,r;return{c(){e=I("br"),n=F(`
                            Makes 💰 `),i=F(o),r=F("/week")},m(l,a){M(l,e,a),M(l,n,a),M(l,i,a),M(l,r,a)},p(l,a){a[0]&120&&o!==(o=xt(l[28].revenue_per_week,!1)+"")&&re(i,o)},d(l){l&&(T(e),T(n),T(i),T(r))}}}function yf(t){let e,n,o=xt(t[28].requirements.employees,!1)+"",i;return{c(){e=I("br"),n=F(`
                            Employs `),i=F(o)},m(r,l){M(r,e,l),M(r,n,l),M(r,i,l)},p(r,l){l[0]&120&&o!==(o=xt(r[28].requirements.employees,!1)+"")&&re(i,o)},d(r){r&&(T(e),T(n),T(i))}}}function i4(t){let e,n,o,i=(t[28].selected?"✅":Is(t[28].title))+"",r,l,a,s=t[28].title.substring(2)+"",u,f,c,d=He(t[28].id,t[5]).length>0,m,p,_,b=xt(t[28].requirements.gold,!1)+"",w,C,k,D,L,R,E=t[28].active_costs.power>0&&gf(t),V=d&&bf(t),$=t[28].revenue_per_week>0&&vf(t),W=t[28].requirements.employees>0&&yf(t);return{c(){e=I("div"),n=I("div"),o=I("span"),r=F(i),l=j(),a=I("span"),u=F(s),f=j(),E&&E.c(),c=j(),V&&V.c(),m=j(),p=I("span"),_=F("Costs 💰 "),w=F(b),C=j(),$&&$.c(),k=j(),W&&W.c(),P(o,"class","text-md text-center"),P(a,"class","text-xs text-center font-bold mx-1"),P(n,"class","pt-2"),P(p,"style",D=t[28].styling),P(p,"class","text-xs text-center pt-4"),P(e,"class",L="plotOption cursor-pointer min-w-40 "+(t[6].isMineralSource||t[3].length>0?"mx-1 my-2":"")+" relative h-[120px] rounded-xl flex flex-col align-middle transition-all duration-100 "+(t[28].affordable||t[28].selected?"cursor-pointer":"opacity-40 cursor-not-allowed ")+" "+(t[28].selected?"border-4 border-yellow-200 opacity-100 rounded-none":"")),P(e,"data-plotoptionid",R=t[28].id),Je(e,"background-color",Gi(Te(t[28].id),!0))},m(y,v){M(y,e,v),g(e,n),g(n,o),g(o,r),g(n,l),g(n,a),g(a,u),g(e,f),E&&E.m(e,null),g(e,c),V&&V.m(e,null),g(e,m),g(e,p),g(p,_),g(p,w),g(p,C),$&&$.m(p,null),g(p,k),W&&W.m(p,null)},p(y,v){v[0]&120&&i!==(i=(y[28].selected?"✅":Is(y[28].title))+"")&&re(r,i),v[0]&120&&s!==(s=y[28].title.substring(2)+"")&&re(u,s),y[28].active_costs.power>0?E?E.p(y,v):(E=gf(y),E.c(),E.m(e,c)):E&&(E.d(1),E=null),v[0]&120&&(d=He(y[28].id,y[5]).length>0),d?V?V.p(y,v):(V=bf(y),V.c(),V.m(e,m)):V&&(V.d(1),V=null),v[0]&120&&b!==(b=xt(y[28].requirements.gold,!1)+"")&&re(w,b),y[28].revenue_per_week>0?$?$.p(y,v):($=vf(y),$.c(),$.m(p,k)):$&&($.d(1),$=null),y[28].requirements.employees>0?W?W.p(y,v):(W=yf(y),W.c(),W.m(p,null)):W&&(W.d(1),W=null),v[0]&120&&D!==(D=y[28].styling)&&P(p,"style",D),v[0]&120&&L!==(L="plotOption cursor-pointer min-w-40 "+(y[6].isMineralSource||y[3].length>0?"mx-1 my-2":"")+" relative h-[120px] rounded-xl flex flex-col align-middle transition-all duration-100 "+(y[28].affordable||y[28].selected?"cursor-pointer":"opacity-40 cursor-not-allowed ")+" "+(y[28].selected?"border-4 border-yellow-200 opacity-100 rounded-none":""))&&P(e,"class",L),v[0]&120&&R!==(R=y[28].id)&&P(e,"data-plotoptionid",R),v[0]&120&&Je(e,"background-color",Gi(Te(y[28].id),!0))},d(y){y&&T(e),E&&E.d(),V&&V.d(),$&&$.d(),W&&W.d()}}}function r4(t){let e,n;return e=new Rd({props:{option:t[28]}}),{c(){Z(e.$$.fragment)},m(o,i){J(e,o,i),n=!0},p(o,i){const r={};i[0]&120&&(r.option=o[28]),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function l4(t){let e,n,o,i;return e=new Po({props:{$$slots:{default:[i4]},$$scope:{ctx:t}}}),o=new Io({props:{$$slots:{default:[r4]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment),n=j(),Z(o.$$.fragment)},m(r,l){J(e,r,l),M(r,n,l),J(o,r,l),i=!0},p(r,l){const a={};l[0]&120|l[1]&1&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l[0]&120|l[1]&1&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),x(e,r),x(o,r)}}}function wf(t,e){let n,o,i;return o=new Oo({props:{openDelay:400,closeDelay:0,$$slots:{default:[l4]},$$scope:{ctx:e}}}),{key:t,first:null,c(){n=Re(),Z(o.$$.fragment),this.first=n},m(r,l){M(r,n,l),J(o,r,l),i=!0},p(r,l){e=r;const a={};l[0]&120|l[1]&1&&(a.$$scope={dirty:l,ctx:e}),o.$set(a)},i(r){i||(A(o.$$.fragment,r),i=!0)},o(r){S(o.$$.fragment,r),i=!1},d(r){r&&T(n),x(o,r)}}}function kf(t){let e;return{c(){e=I("span"),e.textContent="No plots available!",P(e,"class","text-sm pt-2")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Cf(t){let e,n,o,i=[],r=new Map,l,a=t[4].filter(c).length===0&&t[3].length==0&&!t[6].isMineralSource,s,u,f;function c(...w){return t[15](t[25],...w)}let d=t[3].length==0&&!t[6].isMineralSource&&_f(t);function m(...w){return t[18](t[25],...w)}let p=Ue(t[3].length==0&&!t[6].isMineralSource?t[4].filter(m):t[4]);const _=w=>w[28].id;for(let w=0;w<p.length;w+=1){let C=mf(t,p,w),k=_(C);r.set(k,i[w]=wf(k,C))}let b=a&&kf();return{c(){e=I("div"),d&&d.c(),n=j(),o=I("div");for(let w=0;w<i.length;w+=1)i[w].c();l=j(),b&&b.c(),u=j(),P(o,"class",s="flex flex-row text-start justify-start items-start flex-wrap "+(t[6].isMineralSource||t[3].length>0?"pt-0 gap-0":"pt-2 gap-4")+" w-full align-middle")},m(w,C){M(w,e,C),d&&d.m(e,null),g(e,n),g(e,o);for(let k=0;k<i.length;k+=1)i[k]&&i[k].m(o,null);g(o,l),b&&b.m(o,null),g(e,u),f=!0},p(w,C){t=w,t[3].length==0&&!t[6].isMineralSource?d?d.p(t,C):(d=_f(t),d.c(),d.m(e,n)):d&&(d.d(1),d=null),C[0]&120&&(p=Ue(t[3].length==0&&!t[6].isMineralSource?t[4].filter(m):t[4]),Ie(),i=im(i,C,_,1,t,p,r,o,om,wf,l,mf),Oe()),C[0]&120&&(a=t[4].filter(c).length===0&&t[3].length==0&&!t[6].isMineralSource),a?b||(b=kf(),b.c(),b.m(o,null)):b&&(b.d(1),b=null),(!f||C[0]&72&&s!==(s="flex flex-row text-start justify-start items-start flex-wrap "+(t[6].isMineralSource||t[3].length>0?"pt-0 gap-0":"pt-2 gap-4")+" w-full align-middle"))&&P(o,"class",s)},i(w){if(!f){for(let C=0;C<p.length;C+=1)A(i[C]);f=!0}},o(w){for(let C=0;C<i.length;C+=1)S(i[C]);f=!1},d(w){w&&T(e),d&&d.d();for(let C=0;C<i.length;C+=1)i[C].d();b&&b.d()}}}function s4(t){let e,n,o=t[2]&&pf(t);return{c(){o&&o.c(),e=Re()},m(i,r){o&&o.m(i,r),M(i,e,r),n=!0},p(i,r){i[2]?o?(o.p(i,r),r[0]&4&&A(o,1)):(o=pf(i),o.c(),A(o,1),o.m(e.parentNode,e)):o&&(Ie(),S(o,1,1,()=>{o=null}),Oe())},i(i){n||(A(o),n=!0)},o(i){S(o),n=!1},d(i){i&&T(e),o&&o.d(i)}}}function a4(t,e,n){let o,i,r;ae(t,Pe,y=>n(5,o=y)),ae(t,ze,y=>n(6,i=y)),ae(t,uc,y=>n(7,r=y));let{x:l=0}=e,{y:a=0}=e,{open:s=!1}=e,{tooltip:u=""}=e,f="",c=ie,d;const m=Math.round(window.innerHeight*.2)+"px";let p=c.map(y=>Object.assign(Object.assign({},y),{affordable:w(y,o),selected:b(y)}));function _(y){n(3,f=y.target.value||"")}function b(y){return o.plots[l][a].type>-1?c[o.plots[l][a].type].id===y.id:!1}function w(y,v){let O=!0;y.requirements.gold>v.townInfo.gold&&(O=!1);let N=v.townInfo.population_count-v.townInfo.employees;return y.requirements.employees!==void 0&&y.requirements.employees>0&&y.requirements.employees>N&&(O=!1),y.requirements.knowledge!==void 0&&y.requirements.knowledge>v.townInfo.knowledge_points&&(O=!1),y.requirements.resources!==void 0&&Object.keys(y.requirements.resources).forEach(H=>{y.requirements.resources[H]!=0&&o.resources[H]<y.requirements.resources[H]&&(O=!1)}),O}function C(y){const v=y.target.closest(".plotOption");if(v){const O=v.dataset.plotoptionid;k(O)}}function k(y){document.querySelectorAll(".plotOption").forEach(N=>{N.classList.remove("active")});const O=document.querySelector(`[data-plotoptionid="${y}"]`);O&&(O.classList.add("active"),L(l,a,y))}function D(y,v){if(i.isMineralSource)return!1;let O=0;return y>0&&o.plots[y-1][v].type!==-1&&O++,y<o.plots.length-1&&o.plots[y+1][v].type!==-1&&O++,v>0&&o.plots[y][v-1].type!==-1&&O++,v<o.plots[0].length-1&&o.plots[y][v+1].type!==-1&&O++,O<=4}function L(y,v,O){let N=o;const H=ie.findIndex(Y=>Y.id===O),G=Object.entries(ie[H].requirements).map(([Y,h])=>`<li>${Fn(Y)}: ${h}</li>`);let K=ie[H];if(w(K,o)==!1)return Pt.set(`You can not afford this.
        <br/><br/>
        ${G}`);if(K.requirements.adjacent_plots!==void 0){let Y=K.requirements.adjacent_plots;if(zm(y,v,N,K.requirements.adjacent_plots)===!1)return Pt.set(`This plot requires adjacent plots of type: ${Y.join(", ")}`)}let z=!0;if((K.requirements.gold>N.townInfo.gold||K.requirements.employees>N.townInfo.population_count-N.townInfo.employees)&&(z=!1),K.requirements.size!=null&&K.requirements.size!=1&&z){let X=function(ne,U){let ue={x:ne,y:U};return ue.x===0&&ue.y===0?!0:[{x:ue.x-1,y:ue.y},{x:ue.x+1,y:ue.y},{x:ue.x,y:ue.y-1},{x:ue.x,y:ue.y+1}].some(Ce=>Ce.x<0||Ce.x>o.plots.length-1||Ce.y<0||Ce.y>o.plots.length-1?!1:o.plots[Ce.x][Ce.y].active)};var te=X;let Y=K.requirements.size,h=[],B=c[H].title.toLowerCase().indexOf("school")!=-1;for(let ne=0;ne<4;ne++){let U=[[y,v]];ne===0?(U.push([y-(Y-1),v-(Y-1)]),U.push([y-(Y-1),v]),U.push([y,v-(Y-1)])):ne===1?(U.push([y,v-(Y-1)]),U.push([y+(Y-1),v-(Y-1)]),U.push([y+(Y-1),v])):ne===2?(U.push([y-(Y-1),v]),U.push([y-(Y-1),v+(Y-1)]),U.push([y,v+(Y-1)])):ne===3&&(U.push([y,v+(Y-1)]),U.push([y+(Y-1),v+(Y-1)]),U.push([y+(Y-1),v])),h.push(U)}h=h.filter(ne=>ne.every(U=>U[0]>=0&&U[0]<=N.plots.length-1&&U[1]>=0&&U[1]<=N.plots.length-1&&!N.plots[U[0]][U[1]].active&&X(U[0],U[1])==!0)),h.length===0?z=!1:h.length>0&&h[0].forEach(U=>{N.plots[U[0]][U[1]].active=!0,N.plots[U[0]][U[1]].type=B?-3:-2,N.plots[U[0]][U[1]].referencePlot=[y,v]})}if(z===!0){if(N.plots[y][v].type!==-1&&Vi(y,v,N),n(14,u=""),N.plots[y][v].type=H,N.plots[y][v].active=!0,N.plots[y][v].referencePlot=[],N.plots[y][v].typeId=K.id,N.townInfo.gold-=K.requirements.gold,N.townInfo.gold=ut(N.townInfo.gold,2),N.townInfo.population_count+=K.immediate_variable_changes.population,N.townInfo.population_max+=K.immediate_variable_changes.population,N.townInfo.happiness+=K.immediate_variable_changes.happiness,N.townInfo.health+=K.immediate_variable_changes.health,N.modifiers.happiness=ut(N.modifiers.happiness*K.effect_modifiers.happiness,2),N.modifiers.health=ut(N.modifiers.health*K.effect_modifiers.health,2),N.modifiers.community=ut(N.modifiers.community*K.effect_modifiers.community,2),N.townInfo.employees+=K.requirements.employees,(N.plotCounts[H]===void 0||N.plotCounts[H]===null)&&(N.plotCounts[H]=0),N.plotCounts[H]++,N.lastChangeDay=N.environment.day,K.requirements.resources!==void 0){const h=K.requirements.resources;N.resources.food-=h.food,N.resources.wood-=h.wood,N.resources.stone-=h.stone,N.resources.metal-=h.metal}switch(K.id){case"city_hall":N.hasCityHall=!0;break;case"bank":N.hasBank=!0;break}Pe.set(N),localStorage.setItem(Gt,JSON.stringify(N));let Y=!1;for(let h=y;h<N.plots.length;h++){for(let B=v;B<N.plots[h].length;B++)if(N.plots[h][B].active===!1&&N.plots[h][B].mineralSource==!1&&N.plots[h][B].water==!1){y=h,v=B,Y=!0;break}if(Y)break}Me(ze,i.x=y,i),Me(ze,i.y=v,i)}else n(14,u="You do not have enough resources to purchase this plot. If it's a 'Large' plot, make sure you have a 2x2 area available. "),document.querySelectorAll(".plotOption").forEach(h=>{h.classList.remove("active")})}function R(){document.querySelectorAll(".plotOption").forEach(v=>{v.classList.remove("active")}),Vi(l,a,o)}const E=(y,v)=>v.level===y;function V(y){Ne[y?"unshift":"push"](()=>{d=y,n(8,d)})}const $=()=>{hm()},W=(y,v)=>v.level===y;return t.$$set=y=>{"x"in y&&n(0,l=y.x),"y"in y&&n(1,a=y.y),"open"in y&&n(2,s=y.open),"tooltip"in y&&n(14,u=y.tooltip)},t.$$.update=()=>{t.$$.dirty[0]&240&&o&&(n(4,p=c.map(y=>Object.assign(Object.assign({},y),{affordable:w(y,o),selected:b(y)}))),He("tree_farm",o).length===0&&n(4,p=p.filter(y=>y.id==="small_homes"||y.id==="farm"||y.id==="tree_farm")),i.isMineralSource&&n(4,p=p.filter(y=>y.id==="mine")),r&&n(4,p=p.filter(y=>y.affordable)),Object.keys(Cs).forEach(y=>{let v=Cs[y];if(v>0){let O=He(y,o).length;n(4,p=p.filter(N=>N.id!==y||O<v))}}),p.sort((y,v)=>y.selected&&!v.selected?-1:0)),t.$$.dirty[0]&24&&n(4,p=p.filter(y=>y.title.toLowerCase().includes(f.toLowerCase())))},[l,a,s,f,p,o,i,r,d,m,_,C,D,R,u,E,V,$,W]}class Dd extends be{constructor(e){super(),ge(this,e,a4,s4,ce,{x:0,y:1,open:2,tooltip:14},null,[-1,-1])}}function u4(t){let e,n,o;return{c(){e=I("span"),n=F("My liege, if you build a City Hall, you can expand your city "),o=F(t[0]),P(e,"class","text-xs")},m(i,r){M(i,e,r),g(e,n),g(e,o)},p(i,r){r&1&&re(o,i[0])},i:ke,o:ke,d(i){i&&T(e)}}}function f4(t){let e,n;return e=new Mt({props:{class:"bg-button h-max rounded-2xl hover:scale-110 transition-transform duration-200 ease-in-out hover:drop-shadow-2xl",$$slots:{default:[c4]},$$scope:{ctx:t}}}),e.$on("click",t[2]),{c(){Z(e.$$.fragment)},m(o,i){J(e,o,i),n=!0},p(o,i){const r={};i&11&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function c4(t){let e,n,o,i,r,l=t[0].toUpperCase()+"",a,s,u,f,c,d,m,p,_,b,w,C=Math.round(Math.pow(1.5,t[1].kingdom_expansions+5))+"",k,D,L,R;return{c(){e=I("div"),n=F("spanMy liege, you can expand your "),o=I("br"),i=F(`kingdom
        `),r=I("span"),a=F(l),s=F(`
        using
        `),u=I("br"),f=F(`your
        `),c=I("span"),c.textContent="City Hall",d=F("!"),m=I("br"),p=I("br"),_=j(),b=I("span"),w=F("Requires "),k=F(C),D=F(` Guardians
          `),L=I("br"),R=F("to be employed. (see city mgmt menu)"),P(r,"class","font-extrabold text-blue-200"),P(c,"class","text-blue-200 bold"),P(b,"class","opacity-75 text-xs")},m(E,V){M(E,e,V),g(e,n),g(e,o),g(e,i),g(e,r),g(r,a),g(e,s),g(e,u),g(e,f),g(e,c),g(e,d),g(e,m),g(e,p),g(e,_),g(e,b),g(b,w),g(b,k),g(b,D),g(b,L),g(b,R)},p(E,V){V&1&&l!==(l=E[0].toUpperCase()+"")&&re(a,l),V&2&&C!==(C=Math.round(Math.pow(1.5,E[1].kingdom_expansions+5))+"")&&re(k,C)},d(E){E&&T(e)}}}function d4(t){let e,n,o,i,r;const l=[f4,u4],a=[];function s(u,f){return f&2&&(n=null),n==null&&(n=He("city_hall",u[1]).length>0),n?0:1}return o=s(t,-1),i=a[o]=l[o](t),{c(){e=I("div"),i.c(),P(e,"class","w-48 h-max")},m(u,f){M(u,e,f),a[o].m(e,null),r=!0},p(u,[f]){let c=o;o=s(u,f),o===c?a[o].p(u,f):(Ie(),S(a[c],1,1,()=>{a[c]=null}),Oe(),i=a[o],i?i.p(u,f):(i=a[o]=l[o](u),i.c()),A(i,1),i.m(e,null))},i(u){r||(A(i),r=!0)},o(u){S(i),r=!1},d(u){u&&T(e),a[o].d()}}}function m4(t,e,n){let o;ae(t,Pe,l=>n(1,o=l));let{direction:i}=e;const r=()=>{const l=pm(o,i);l&&Pt.set(l)};return t.$$set=l=>{"direction"in l&&n(0,i=l.direction)},[i,o,r]}class Af extends be{constructor(e){super(),ge(this,e,m4,d4,ce,{direction:0})}}function p4(t){return{c:ke,m:ke,p:ke,d:ke}}function h4(t){let e,n,o,i=ie[t[0].type].title.substring(0,2)+"",r,l,a,s,u,f=ie[t[0].type].title.substring(2)+"",c,d,m,p;return{c(){e=I("div"),n=I("span"),o=I("span"),r=F(i),l=j(),a=I("br"),s=j(),u=I("span"),c=F(f),P(o,"class","text-lg align-text-top select-none"),P(u,"class","text-xs align-text-top font-normal text-black from-stone-600 select-none"),P(n,"data-size",d=ie[t[0].type].requirements.size),P(n,"data-x",m=t[0].x),P(n,"data-y",p=t[0].y),P(e,"class","svelte-9dbw4v")},m(_,b){M(_,e,b),g(e,n),g(n,o),g(o,r),g(n,l),g(n,a),g(n,s),g(n,u),g(u,c)},p(_,b){b&1&&i!==(i=ie[_[0].type].title.substring(0,2)+"")&&re(r,i),b&1&&f!==(f=ie[_[0].type].title.substring(2)+"")&&re(c,f),b&1&&d!==(d=ie[_[0].type].requirements.size)&&P(n,"data-size",d),b&1&&m!==(m=_[0].x)&&P(n,"data-x",m),b&1&&p!==(p=_[0].y)&&P(n,"data-y",p)},d(_){_&&T(e)}}}function Sf(t){let e;return{c(){e=I("span"),e.textContent="🧲",P(e,"class","text-lg")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function _4(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,p,_,b,w,C,k;function D(V,$){if(V[0].type>-1)return h4;if(V[0].type==-1&&V[0].x==0&&V[0].y==0)return p4}let L=D(t),R=L&&L(t),E=t[0].mineralSource&&t[0].type==-1&&Sf();return{c(){e=I("button"),R&&R.c(),n=j(),E&&E.c(),P(e,"class",o="plot_container "+t[1]+" overflow-visible "+(t[0].type==-1&&t[2]==!1,"")+" "+(t[0].mineralSource?"hidden":"")+" "+(t[2]?"cursor-pointer":"cursor-not-allowed")+" "+(t[0].disabled?"animate-spin":"")+" svelte-9dbw4v"),Je(e,"background-color",t[0].water?"bg-blue-900 opacity-100":t[4].x==t[0].x&&t[4].y==t[0].y&&t[4].visible?"white":t[0].mineralSource?"black":Gi(t[0].type,t[2])),P(e,"data-active",i=t[0].active),P(e,"data-hidehoveranimation",r=t[4].visible||t[0].type==-1&&t[0].x==0&&t[0].y==0),P(e,"data-id",l=t[0].id),P(e,"data-x",a=t[0].x),P(e,"data-y",s=t[0].y),P(e,"data-optionindex",u=t[0].optionIndex),P(e,"data-canbeupgraded",t[2]),P(e,"data-type",f=t[0].type),P(e,"data-type-id",c=t[0].typeId),P(e,"data-refplotx",d=t[0].referencePlot!==void 0?t[0].referencePlot[1]:null),P(e,"data-refploty",m=t[0].referencePlot!==void 0?t[0].referencePlot[0]:null),P(e,"data-size",p=t[0].type>-1?ie[t[0].type].requirements.size:null),P(e,"data-mineralsource",_=t[0].mineralSource),P(e,"data-water",b=t[0].water),P(e,"data-nearwater",w=Bn(t[0].x,t[0].y,t[5]))},m(V,$){M(V,e,$),R&&R.m(e,null),g(e,n),E&&E.m(e,null),C||(k=ee(e,"click",function(){cn(t[0].water?null:t[6])&&(t[0].water?null:t[6]).apply(this,arguments)}),C=!0)},p(V,$){t=V,L===(L=D(t))&&R?R.p(t,$):(R&&R.d(1),R=L&&L(t),R&&(R.c(),R.m(e,n))),t[0].mineralSource&&t[0].type==-1?E||(E=Sf(),E.c(),E.m(e,null)):E&&(E.d(1),E=null),$&7&&o!==(o="plot_container "+t[1]+" overflow-visible "+(t[0].type==-1&&t[2]==!1,"")+" "+(t[0].mineralSource?"hidden":"")+" "+(t[2]?"cursor-pointer":"cursor-not-allowed")+" "+(t[0].disabled?"animate-spin":"")+" svelte-9dbw4v")&&P(e,"class",o),$&21&&Je(e,"background-color",t[0].water?"bg-blue-900 opacity-100":t[4].x==t[0].x&&t[4].y==t[0].y&&t[4].visible?"white":t[0].mineralSource?"black":Gi(t[0].type,t[2])),$&1&&i!==(i=t[0].active)&&P(e,"data-active",i),$&17&&r!==(r=t[4].visible||t[0].type==-1&&t[0].x==0&&t[0].y==0)&&P(e,"data-hidehoveranimation",r),$&1&&l!==(l=t[0].id)&&P(e,"data-id",l),$&1&&a!==(a=t[0].x)&&P(e,"data-x",a),$&1&&s!==(s=t[0].y)&&P(e,"data-y",s),$&1&&u!==(u=t[0].optionIndex)&&P(e,"data-optionindex",u),$&4&&P(e,"data-canbeupgraded",t[2]),$&1&&f!==(f=t[0].type)&&P(e,"data-type",f),$&1&&c!==(c=t[0].typeId)&&P(e,"data-type-id",c),$&1&&d!==(d=t[0].referencePlot!==void 0?t[0].referencePlot[1]:null)&&P(e,"data-refplotx",d),$&1&&m!==(m=t[0].referencePlot!==void 0?t[0].referencePlot[0]:null)&&P(e,"data-refploty",m),$&1&&p!==(p=t[0].type>-1?ie[t[0].type].requirements.size:null)&&P(e,"data-size",p),$&1&&_!==(_=t[0].mineralSource)&&P(e,"data-mineralsource",_),$&1&&b!==(b=t[0].water)&&P(e,"data-water",b),$&33&&w!==(w=Bn(t[0].x,t[0].y,t[5]))&&P(e,"data-nearwater",w)},d(V){V&&T(e),R&&R.d(),E&&E.d(),C=!1,k()}}}function Tf(t){let e;return{c(){e=F("Water - Place farms nearby for more food & revenue!")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Mf(t){let e;return{c(){e=I("span"),e.textContent="Near water - Generating more food & revenue!",P(e,"class","text-xs bg-blue-500 text-white p-1")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function If(t){let e,n;return e=new Rd({props:{option:t[3],checkRequirements:!1}}),{c(){Z(e.$$.fragment)},m(o,i){J(e,o,i),n=!0},p(o,i){const r={};i&8&&(r.option=o[3]),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function g4(t){let e,n,o=Bn(t[0].x,t[0].y,t[5]),i,r,l=t[0].water&&Tf(),a=o&&Mf(),s=t[0].active&&If(t);return{c(){e=I("div"),l&&l.c(),n=j(),a&&a.c(),i=j(),s&&s.c(),P(e,"class","flex flex-col gap-2")},m(u,f){M(u,e,f),l&&l.m(e,null),g(e,n),a&&a.m(e,null),g(e,i),s&&s.m(e,null),r=!0},p(u,f){u[0].water?l||(l=Tf(),l.c(),l.m(e,n)):l&&(l.d(1),l=null),f&33&&(o=Bn(u[0].x,u[0].y,u[5])),o?a||(a=Mf(),a.c(),a.m(e,i)):a&&(a.d(1),a=null),u[0].active?s?(s.p(u,f),f&1&&A(s,1)):(s=If(u),s.c(),A(s,1),s.m(e,null)):s&&(Ie(),S(s,1,1,()=>{s=null}),Oe())},i(u){r||(A(s),r=!0)},o(u){S(s),r=!1},d(u){u&&T(e),l&&l.d(),a&&a.d(),s&&s.d()}}}function b4(t){let e,n,o,i;return e=new Po({props:{$$slots:{default:[_4]},$$scope:{ctx:t}}}),o=new Io({props:{class:t[0].type<0&&!t[0].water?"hidden":"",$$slots:{default:[g4]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment),n=j(),Z(o.$$.fragment)},m(r,l){J(e,r,l),M(r,n,l),J(o,r,l),i=!0},p(r,l){const a={};l&1079&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&1&&(s.class=r[0].type<0&&!r[0].water?"hidden":""),l&1065&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),x(e,r),x(o,r)}}}function v4(t){let e,n;return e=new Oo({props:{openDelay:400,closeDelay:0,$$slots:{default:[b4]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment)},m(o,i){J(e,o,i),n=!0},p(o,[i]){const r={};i&1087&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function y4(t,e,n){let o,i,r,l;ae(t,ze,m=>n(4,o=m)),ae(t,Pe,m=>n(5,i=m)),ae(t,Rt,m=>n(8,r=m)),ae(t,_o,m=>n(9,l=m));let{data:a={id:0,active:!1,x:0,y:0,type:-1,styling:"",referencePlot:[],mineralSource:!1,disabled:!1,water:!1}}=e,s,{classText:u=""}=e,{canBeUpgraded:f=!1}=e;function c(m,p,_){let b=document.querySelectorAll(".plot_container");if(r==!1){if(a.referencePlot!=null&&a.referencePlot[0]!==null&&p==null&&_==null&&a.referencePlot[1]!==void 0)return c(m,a.referencePlot[0],a.referencePlot[1]);!a.active&&!f?(Me(_o,l={},l),Me(ze,o.visible=!1,o),b.forEach(w=>{w.classList.remove("selected")})):(p!=null&&_!=null?(Me(ze,o.x=p,o),Me(ze,o.y=_,o)):(Me(ze,o.x=a.x,o),Me(ze,o.y=a.y,o)),Me(ze,o.isMineralSource=a.mineralSource,o),Me(ze,o.visible=!0,o),b.forEach(w=>{w.classList.remove("selected")}),p!=null&&_!=null?document.querySelector(`.plot_container[data-x="${p}"][data-y="${_}"]`).classList.add("selected"):document.querySelector(`.plot_container[data-id="${a.id}"]`).classList.add("selected"))}}function d(m){r==!1&&(Me(Pe,i.plots[a.x][a.y].type=m,i),Me(ze,o.visible=!1,o))}return t.$$set=m=>{"data"in m&&n(0,a=m.data),"classText"in m&&n(1,u=m.classText),"canBeUpgraded"in m&&n(2,f=m.canBeUpgraded)},t.$$.update=()=>{t.$$.dirty&1&&a.type>-1&&n(3,s=ie[a.type])},[a,u,f,s,o,i,c,d]}class w4 extends be{constructor(e){super(),ge(this,e,y4,v4,ce,{data:0,classText:1,canBeUpgraded:2,changePlotType:7})}get changePlotType(){return this.$$.ctx[7]}}function Of(t,e,n){const o=t.slice();return o[6]=e[n],o[8]=n,o}function Pf(t,e,n){const o=t.slice();return o[9]=e[n],o}function Nf(t){let e,n,o,i,r,l,a,s,u,f,c,d=t[3],m,p,_=Ue(t[2].plots),b=[];for(let k=0;k<_.length;k+=1)b[k]=$f(Of(t,_,k));const w=k=>S(b[k],1,1,()=>{b[k]=null});a=new Af({props:{direction:"east"}}),f=new Af({props:{direction:"south"}});let C=Df(t);return{c(){e=I("div"),n=I("div"),o=I("div"),i=I("div");for(let k=0;k<b.length;k+=1)b[k].c();r=j(),l=I("span"),Z(a.$$.fragment),s=j(),u=I("span"),Z(f.$$.fragment),c=j(),C.c(),m=Re(),P(i,"class","grid plot_controller svelte-1bzj7j4"),P(o,"class","flex flex-row items-center"),P(n,"id","plotContainerMain"),P(n,"class","absolute left-[170px] items-center h-max flex flex-col top-[170px] pl-16 pt-16 pb-80 pr-80 bg-background svelte-1bzj7j4"),P(e,"class","flex flex-col")},m(k,D){M(k,e,D),g(e,n),g(n,o),g(o,i);for(let L=0;L<b.length;L+=1)b[L]&&b[L].m(i,null);g(o,r),g(o,l),J(a,l,null),g(n,s),g(n,u),J(f,u,null),M(k,c,D),C.m(k,D),M(k,m,D),p=!0},p(k,D){if(D&7){_=Ue(k[2].plots);let L;for(L=0;L<_.length;L+=1){const R=Of(k,_,L);b[L]?(b[L].p(R,D),A(b[L],1)):(b[L]=$f(R),b[L].c(),A(b[L],1),b[L].m(i,null))}for(Ie(),L=_.length;L<b.length;L+=1)w(L);Oe()}D&8&&ce(d,d=k[3])?(Ie(),S(C,1,1,ke),Oe(),C=Df(k),C.c(),A(C,1),C.m(m.parentNode,m)):C.p(k,D)},i(k){if(!p){for(let D=0;D<_.length;D+=1)A(b[D]);A(a.$$.fragment,k),A(f.$$.fragment,k),A(C),p=!0}},o(k){b=b.filter(Boolean);for(let D=0;D<b.length;D+=1)S(b[D]);S(a.$$.fragment,k),S(f.$$.fragment,k),S(C),p=!1},d(k){k&&(T(e),T(c),T(m)),gt(b,k),x(a),x(f),C.d(k)}}}function Ef(t){let e,n;return e=new w4({props:{classText:"hexagon",data:t[9],canBeUpgraded:t[0](t[9].x,t[9].y)}}),{c(){Z(e.$$.fragment)},m(o,i){J(e,o,i),n=!0},p(o,i){const r={};i&4&&(r.data=o[9]),i&4&&(r.canBeUpgraded=o[0](o[9].x,o[9].y)),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function $f(t){let e,n,o,i,r,l=Ue(t[6]),a=[];for(let u=0;u<l.length;u+=1)a[u]=Ef(Pf(t,l,u));const s=u=>S(a[u],1,1,()=>{a[u]=null});return{c(){e=I("div");for(let u=0;u<a.length;u+=1)a[u].c();n=j(),P(e,"class","row "+(t[8]%2!==0?"odd-row":"")+" svelte-1bzj7j4")},m(u,f){M(u,e,f);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(e,null);g(e,n),o=!0,i||(r=ee(e,"click",t[1]),i=!0)},p(u,f){if(f&5){l=Ue(u[6]);let c;for(c=0;c<l.length;c+=1){const d=Pf(u,l,c);a[c]?(a[c].p(d,f),A(a[c],1)):(a[c]=Ef(d),a[c].c(),A(a[c],1),a[c].m(e,n))}for(Ie(),c=l.length;c<a.length;c+=1)s(c);Oe()}},i(u){if(!o){for(let f=0;f<l.length;f+=1)A(a[f]);o=!0}},o(u){a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)S(a[f]);o=!1},d(u){u&&T(e),gt(a,u),i=!1,r()}}}function Rf(t){let e,n;return e=new Dd({props:{x:t[4].x,y:t[4].y,open:t[4].visible}}),{c(){Z(e.$$.fragment)},m(o,i){J(e,o,i),n=!0},p(o,i){const r={};i&16&&(r.x=o[4].x),i&16&&(r.y=o[4].y),i&16&&(r.open=o[4].visible),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function Df(t){let e,n,o=t[4].visible&&Rf(t);return{c(){o&&o.c(),e=Re()},m(i,r){o&&o.m(i,r),M(i,e,r),n=!0},p(i,r){i[4].visible?o?(o.p(i,r),r&16&&A(o,1)):(o=Rf(i),o.c(),A(o,1),o.m(e.parentNode,e)):o&&(Ie(),S(o,1,1,()=>{o=null}),Oe())},i(i){n||(A(o),n=!0)},o(i){S(o),n=!1},d(i){i&&T(e),o&&o.d(i)}}}function k4(t){let e,n,o=t[2]!=null&&Nf(t);return{c(){o&&o.c(),e=Re()},m(i,r){o&&o.m(i,r),M(i,e,r),n=!0},p(i,[r]){i[2]!=null?o?(o.p(i,r),r&4&&A(o,1)):(o=Nf(i),o.c(),A(o,1),o.m(e.parentNode,e)):o&&(Ie(),S(o,1,1,()=>{o=null}),Oe())},i(i){n||(A(o),n=!0)},o(i){S(o),n=!1},d(i){i&&T(e),o&&o.d(i)}}}function C4(t,e,n){let o,i,r;ae(t,_o,u=>n(3,o=u)),ae(t,Pe,u=>n(2,i=u)),ae(t,ze,u=>n(4,r=u)),document.addEventListener("click",function(u){const f=u.target;(f.dataset.x==null&&f.dataset.type!="-1"&&f.dataset.size!=null||f.id=="plotContainerMain"||f.classList.contains("row")||f.classList.contains("grid"))&&Me(ze,r.visible=!1,r)});function l(u,f){let c={x:u,y:f};return c.x===0&&c.y===0?!0:[{x:c.x-1,y:c.y},{x:c.x+1,y:c.y},{x:c.x,y:c.y-1},{x:c.x,y:c.y+1}].some(m=>m.x<0||m.x>=i.plots.length||m.y<0||m.y>=i.plots[m.x].length?!1:i.plots[m.x][m.y].active)}function a(){let u=[];for(let f=0;f<i.plots.length;f++)for(let c=0;c<i.plots.length;c++)l(f,c)&&i.plots[f][c].active==!1&&u.push(i.plots[f][c])}function s(){Me(_o,o={},o)}return t.$$.update=()=>{t.$$.dirty&4&&i&&a()},[l,s,i,o,r]}class A4 extends be{constructor(e){super(),ge(this,e,C4,k4,ce,{checkIfPlotCanBeUpgraded:0,restartModifyPlotMenu:1})}get checkIfPlotCanBeUpgraded(){return this.$$.ctx[0]}get restartModifyPlotMenu(){return this.$$.ctx[1]}}function Lf(t,e,n){const o=t.slice();return o[3]=e[n],o}function Ff(t){let e;return{c(){e=I("p"),e.textContent="No alerts",P(e,"class","text-center")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function Bf(t){let e,n,o,i=t[3].day+"",r,l,a,s=t[3].message+"",u,f,c,d;return{c(){e=I("div"),n=I("p"),o=F("DAY "),r=F(i),l=j(),a=I("p"),u=F(s),c=j(),d=I("br"),P(n,"class","font-mono text-[10px] "),P(a,"class","text-sm pb-1"),P(e,"class",f="p-2 rounded-2xl "+(t[3].vibe==Ze.BAD?"bg-red-600":t[3].vibe==Ze.GOOD?"bg-green-600":(t[3].vibe==Ze.NORMAL,"bg-accent")))},m(m,p){M(m,e,p),g(e,n),g(n,o),g(n,r),g(e,l),g(e,a),g(a,u),M(m,c,p),M(m,d,p)},p(m,p){p&2&&i!==(i=m[3].day+"")&&re(r,i),p&2&&s!==(s=m[3].message+"")&&re(u,s),p&2&&f!==(f="p-2 rounded-2xl "+(m[3].vibe==Ze.BAD?"bg-red-600":m[3].vibe==Ze.GOOD?"bg-green-600":(m[3].vibe==Ze.NORMAL,"bg-accent")))&&P(e,"class",f)},d(m){m&&(T(e),T(c),T(d))}}}function S4(t){let e,n,o,i,r,l,a,s,u,f,c,d=t[1].townLog.length==0&&Ff(),m=Ue(t[1].townLog),p=[];for(let _=0;_<m.length;_+=1)p[_]=Bf(Lf(t,m,_));return{c(){e=I("div"),n=I("div"),o=I("h1"),o.textContent="Alerts",i=j(),r=I("div"),d&&d.c(),l=j();for(let _=0;_<p.length;_+=1)p[_].c();a=j(),s=I("ul"),P(o,"class","text-xl w-full pb-2 text-center cursor-pointer "),P(r,"class","overflow-y-scroll h-[100%] w-[100%] px-1"),P(s,"class","list-disc pl-5 gap-2 flex flex-col text-xs "),P(n,"class",u="bg-foreground w-[160px] border-foregroundDark border-4 "+(t[0].visible?"bottom-8  opacity-70":"bottom-2")+" z-10 fixed left-3 py-2 top-[190px] drop-shadow-xl rounded-xl transition-all duration-300 overflow-y-clip"),P(e,"class","flex flex-row text-foregroundText")},m(_,b){M(_,e,b),g(e,n),g(n,o),g(n,i),g(n,r),d&&d.m(r,null),g(r,l);for(let w=0;w<p.length;w+=1)p[w]&&p[w].m(r,null);g(n,a),g(n,s),f||(c=ee(o,"click",t[2]),f=!0)},p(_,[b]){if(_[1].townLog.length==0?d||(d=Ff(),d.c(),d.m(r,l)):d&&(d.d(1),d=null),b&2){m=Ue(_[1].townLog);let w;for(w=0;w<m.length;w+=1){const C=Lf(_,m,w);p[w]?p[w].p(C,b):(p[w]=Bf(C),p[w].c(),p[w].m(r,null))}for(;w<p.length;w+=1)p[w].d(1);p.length=m.length}b&1&&u!==(u="bg-foreground w-[160px] border-foregroundDark border-4 "+(_[0].visible?"bottom-8  opacity-70":"bottom-2")+" z-10 fixed left-3 py-2 top-[190px] drop-shadow-xl rounded-xl transition-all duration-300 overflow-y-clip")&&P(n,"class",u)},i:ke,o:ke,d(_){_&&T(e),d&&d.d(),gt(p,_),f=!1,c()}}}function T4(t,e,n){let o,i;return ae(t,ze,l=>n(0,o=l)),ae(t,Pe,l=>n(1,i=l)),[o,i,()=>{Me(Pe,i.townLog=[],i)}]}class M4 extends be{constructor(e){super(),ge(this,e,T4,S4,ce,{})}}function jf(t,e,n){const o=t.slice();return o[5]=e[n],o}function qf(t){let e,n;return e=new C1({props:{thumb:t[5],class:"block h-5 w-5 rounded-full border-2 border-primary bg-accent ring-accent transition-colors focus-visible:outline-none  disabled:pointer-events-none disabled:opacity-50"}}),{c(){Z(e.$$.fragment)},m(o,i){J(e,o,i),n=!0},p(o,i){const r={};i&16&&(r.thumb=o[5]),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function I4(t){let e,n,o,i,r;n=new g1({props:{class:"absolute h-full bg-primary"}});let l=Ue(t[4]),a=[];for(let u=0;u<l.length;u+=1)a[u]=qf(jf(t,l,u));const s=u=>S(a[u],1,1,()=>{a[u]=null});return{c(){e=I("span"),Z(n.$$.fragment),o=j();for(let u=0;u<a.length;u+=1)a[u].c();i=Re(),P(e,"class","relative h-2 w-full grow overflow-hidden rounded-full bg-textPrimary")},m(u,f){M(u,e,f),J(n,e,null),M(u,o,f);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(u,f);M(u,i,f),r=!0},p(u,f){if(f&16){l=Ue(u[4]);let c;for(c=0;c<l.length;c+=1){const d=jf(u,l,c);a[c]?(a[c].p(d,f),A(a[c],1)):(a[c]=qf(d),a[c].c(),A(a[c],1),a[c].m(i.parentNode,i))}for(Ie(),c=l.length;c<a.length;c+=1)s(c);Oe()}},i(u){if(!r){A(n.$$.fragment,u);for(let f=0;f<l.length;f+=1)A(a[f]);r=!0}},o(u){S(n.$$.fragment,u),a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)S(a[f]);r=!1},d(u){u&&(T(e),T(o),T(i)),x(n),gt(a,u)}}}function O4(t){let e,n,o;const i=[{class:De("relative flex w-full touch-none select-none items-center",t[1])},t[2]];function r(a){t[3](a)}let l={$$slots:{default:[I4,({thumbs:a})=>({4:a}),({thumbs:a})=>a?16:0]},$$scope:{ctx:t}};for(let a=0;a<i.length;a+=1)l=Q(l,i[a]);return t[0]!==void 0&&(l.value=t[0]),e=new c1({props:l}),Ne.push(()=>Tn(e,"value",r)),{c(){Z(e.$$.fragment)},m(a,s){J(e,a,s),o=!0},p(a,[s]){const u=s&6?ye(i,[s&2&&{class:De("relative flex w-full touch-none select-none items-center",a[1])},s&4&&rt(a[2])]):{};s&272&&(u.$$scope={dirty:s,ctx:a}),!n&&s&1&&(n=!0,u.value=a[0],Sn(()=>n=!1)),e.$set(u)},i(a){o||(A(e.$$.fragment,a),o=!0)},o(a){S(e.$$.fragment,a),o=!1},d(a){x(e,a)}}}function P4(t,e,n){const o=["class","value"];let i=le(e,o),{class:r=void 0}=e,{value:l=[0]}=e;function a(s){l=s,n(0,l)}return t.$$set=s=>{e=Q(Q({},e),$e(s)),n(2,i=le(e,o)),"class"in s&&n(1,r=s.class),"value"in s&&n(0,l=s.value)},[l,r,i,a]}class Gf extends be{constructor(e){super(),ge(this,e,P4,O4,ce,{class:1,value:0})}}function Vf(t,e,n){const o=t.slice();return o[7]=e[n].icon,o[8]=e[n].name,o[9]=e[n].value,o[10]=e[n].rate,o}function Hf(t,e,n){const o=t.slice();return o[13]=e[n],o}function N4(t){let e;return{c(){e=I("div"),e.innerHTML=`Resources are generated from plots. Generation rate can be increased
            by raising the productivity of the town, at the cost of some
            happiness.
            <br/> <br/>
            There is also a slight bit of randomness as townspeople aren&#39;t robots.`,P(e,"class","text-sm")},m(n,o){M(n,e,o)},p:ke,d(n){n&&T(e)}}}function E4(t){let e,n,o,i;return o=new Io({props:{class:"text-sm w-[200px]",$$slots:{default:[N4]},$$scope:{ctx:t}}}),{c(){e=I("div"),e.innerHTML='<h1 class="text-xl w-full text-center">Resources</h1> <button class="text-textPrimary text-sm">ℹ️</button>',n=j(),Z(o.$$.fragment),P(e,"class","flex flex-row items-center pb-2 gap-2")},m(r,l){M(r,e,l),M(r,n,l),J(o,r,l),i=!0},p(r,l){const a={};l&65536&&(a.$$scope={dirty:l,ctx:r}),o.$set(a)},i(r){i||(A(o.$$.fragment,r),i=!0)},o(r){S(o.$$.fragment,r),i=!1},d(r){r&&(T(e),T(n)),x(o,r)}}}function $4(t){let e,n;return e=new Po({props:{$$slots:{default:[E4]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment)},m(o,i){J(e,o,i),n=!0},p(o,i){const r={};i&65536&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function R4(t){let e,n,o=t[10]+"",i;return{c(){e=I("span"),n=F("+"),i=F(o),P(e,"class","text-textPrimary")},m(r,l){M(r,e,l),g(e,n),g(e,i)},p(r,l){l&2&&o!==(o=r[10]+"")&&re(i,o)},d(r){r&&T(e)}}}function D4(t){let e;return{c(){e=I("span")},m(n,o){M(n,e,o)},p:ke,d(n){n&&T(e)}}}function L4(t){let e,n=t[10]+"",o;return{c(){e=I("span"),o=F(n),P(e,"class","text-textDanger2")},m(i,r){M(i,e,r),g(e,o)},p(i,r){r&2&&n!==(n=i[10]+"")&&re(o,n)},d(i){i&&T(e)}}}function F4(t){let e,n,o=t[10]+"",i;return{c(){e=I("span"),n=F("+"),i=F(o),P(e,"class","text-textHappy")},m(r,l){M(r,e,l),g(e,n),g(e,i)},p(r,l){l&2&&o!==(o=r[10]+"")&&re(i,o)},d(r){r&&T(e)}}}function B4(t){let e;return{c(){e=I("span"),P(e,"class","display-none")},m(n,o){M(n,e,o)},p:ke,d(n){n&&T(e)}}}function j4(t){let e,n,o=t[10]+"",i,r;return{c(){e=I("span"),n=F("+"),i=F(o),r=F(" (weekly)"),P(e,"class","")},m(l,a){M(l,e,a),g(e,n),g(e,i),g(e,r)},p(l,a){a&2&&o!==(o=l[10]+"")&&re(i,o)},d(l){l&&T(e)}}}function q4(t){let e,n=t[10]+"",o,i;return{c(){e=I("span"),o=F(n),i=F(" (weekly)"),P(e,"class","text-textDanger2")},m(r,l){M(r,e,l),g(e,o),g(e,i)},p(r,l){l&2&&n!==(n=r[10]+"")&&re(o,n)},d(r){r&&T(e)}}}function G4(t){let e,n,o=t[10]+"",i,r;return{c(){e=I("span"),n=F("+"),i=F(o),r=F(" (weekly)"),P(e,"class","text-textHappy")},m(l,a){M(l,e,a),g(e,n),g(e,i),g(e,r)},p(l,a){a&2&&o!==(o=l[10]+"")&&re(i,o)},d(l){l&&T(e)}}}function Wf(t){let e,n,o,i;return e=new wt({}),{c(){Z(e.$$.fragment),n=j(),o=I("span"),o.textContent="Required for",P(o,"class","text-sm font-semibold")},m(r,l){J(e,r,l),M(r,n,l),M(r,o,l),i=!0},i(r){i||(A(e.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),i=!1},d(r){r&&(T(n),T(o)),x(e,r)}}}function Yf(t){let e,n=t[13]+"",o;return{c(){e=I("span"),o=F(n),P(e,"class","text-xs mr-4")},m(i,r){M(i,e,r),g(e,o)},p(i,r){r&2&&n!==(n=i[13]+"")&&re(o,n)},d(i){i&&T(e)}}}function V4(t){let e,n,o=t[7]+"",i,r,l=Fn(t[8])+"",a,s,u,f=t[5](t[8]).length>0,c,d,m;function p(D,L){return D[10]>0?G4:D[10]<0?q4:D[10]!=null?j4:B4}let _=p(t),b=_(t),w=f&&Wf(),C=Ue(t[5](t[8])),k=[];for(let D=0;D<C.length;D+=1)k[D]=Yf(Hf(t,C,D));return{c(){e=I("div"),n=I("span"),i=F(o),r=j(),a=F(l),s=j(),b.c(),u=j(),w&&w.c(),c=j(),d=I("div");for(let D=0;D<k.length;D+=1)k[D].c();P(n,"class","text-md font-bold"),P(d,"class","flex flex-col flex-wrap min-w-full"),P(e,"class","flex flex-col gap-2 whitespace-nowrap min-w-fit")},m(D,L){M(D,e,L),g(e,n),g(n,i),g(n,r),g(n,a),g(e,s),b.m(e,null),g(e,u),w&&w.m(e,null),g(e,c),g(e,d);for(let R=0;R<k.length;R+=1)k[R]&&k[R].m(d,null);m=!0},p(D,L){if((!m||L&2)&&o!==(o=D[7]+"")&&re(i,o),(!m||L&2)&&l!==(l=Fn(D[8])+"")&&re(a,l),_===(_=p(D))&&b?b.p(D,L):(b.d(1),b=_(D),b&&(b.c(),b.m(e,u))),L&2&&(f=D[5](D[8]).length>0),f?w?L&2&&A(w,1):(w=Wf(),w.c(),A(w,1),w.m(e,c)):w&&(Ie(),S(w,1,1,()=>{w=null}),Oe()),L&34){C=Ue(D[5](D[8]));let R;for(R=0;R<C.length;R+=1){const E=Hf(D,C,R);k[R]?k[R].p(E,L):(k[R]=Yf(E),k[R].c(),k[R].m(d,null))}for(;R<k.length;R+=1)k[R].d(1);k.length=C.length}},i(D){m||(A(w),m=!0)},o(D){S(w),m=!1},d(D){D&&T(e),b.d(),w&&w.d(),gt(k,D)}}}function H4(t){let e,n=t[7]+"",o,i,r=xt(parseInt(t[9]),!1)+"",l,a,s,u,f,c;function d(_,b){return _[10]>0?F4:_[10]<0?L4:_[10]==null?D4:R4}let m=d(t),p=m(t);return f=new Io({props:{$$slots:{default:[V4]},$$scope:{ctx:t}}}),{c(){e=I("span"),o=F(n),i=j(),l=F(r),a=j(),p.c(),u=j(),Z(f.$$.fragment),P(e,"class",s="flex flex-row justify-between "+(t[9]<=0?"text-textDanger1 font-semibold":"text-textPrimary"))},m(_,b){M(_,e,b),g(e,o),g(e,i),g(e,l),g(e,a),p.m(e,null),M(_,u,b),J(f,_,b),c=!0},p(_,b){(!c||b&2)&&n!==(n=_[7]+"")&&re(o,n),(!c||b&2)&&r!==(r=xt(parseInt(_[9]),!1)+"")&&re(l,r),m===(m=d(_))&&p?p.p(_,b):(p.d(1),p=m(_),p&&(p.c(),p.m(e,null))),(!c||b&2&&s!==(s="flex flex-row justify-between "+(_[9]<=0?"text-textDanger1 font-semibold":"text-textPrimary")))&&P(e,"class",s);const w={};b&65538&&(w.$$scope={dirty:b,ctx:_}),f.$set(w)},i(_){c||(A(f.$$.fragment,_),c=!0)},o(_){S(f.$$.fragment,_),c=!1},d(_){_&&(T(e),T(u)),p.d(),x(f,_)}}}function W4(t){let e,n,o;return e=new Po({props:{$$slots:{default:[H4]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment),n=j()},m(i,r){J(e,i,r),M(i,n,r),o=!0},p(i,r){const l={};r&65538&&(l.$$scope={dirty:r,ctx:i}),e.$set(l)},i(i){o||(A(e.$$.fragment,i),o=!0)},o(i){S(e.$$.fragment,i),o=!1},d(i){i&&T(n),x(e,i)}}}function Uf(t){let e,n;return e=new Oo({props:{openDelay:400,closeDelay:0,$$slots:{default:[W4]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment)},m(o,i){J(e,o,i),n=!0},p(o,i){const r={};i&65538&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function Y4(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,p,_=ut(t[0].townInfo.productivity,0)+"",b,w,C,k,D,L,R,E,V,$,W,y=ut(t[0].economyAndLaws.tax_rate*100,0)+"",v,O,N,H,G,K,z;o=new Oo({props:{openDelay:400,closeDelay:0,$$slots:{default:[$4]},$$scope:{ctx:t}}});let te=Ue(t[1]),Y=[];for(let B=0;B<te.length;B+=1)Y[B]=Uf(Vf(t,te,B));const h=B=>S(Y[B],1,1,()=>{Y[B]=null});return k=new Gf({props:{value:[t[0].townInfo.productivity],onValueChange:t[4],min:0,max:200,step:5,class:"cursor-pointer w-full"}}),H=new Gf({props:{value:[t[0].economyAndLaws.tax_rate],onValueChange:t[3],min:0,max:1,step:.05,class:"cursor-pointer w-full"}}),{c(){e=I("div"),n=I("div"),Z(o.$$.fragment),i=j(),r=I("div"),l=I("div");for(let B=0;B<Y.length;B+=1)Y[B].c();a=j(),s=I("div"),u=I("div"),f=I("div"),c=I("span"),c.textContent="Productivity",d=j(),m=I("span"),p=F("("),b=F(_),w=F("%)"),C=j(),Z(k.$$.fragment),D=j(),L=I("div"),R=I("div"),E=I("span"),E.textContent="Tax Rate",V=j(),$=I("span"),W=F("("),v=F(y),O=F("%)"),N=j(),Z(H.$$.fragment),P(n,"class","flex flex-row justify-center"),P(l,"class","flex flex-col text-sm text-nowrap gap-2"),P(c,"class","text-xs"),P(m,"class","text-xs"),P(u,"class","flex flex-col justify-center w-full text-center items-center gap-2"),P(E,"class","text-xs"),P($,"class","text-xs"),P(L,"class",G="flex flex-col justify-center w-full text-center items-center gap-2 min-h-12 pb-2 rounded-xl "+(t[0].economyAndLaws.tax_rate===0?"bg-textDanger1 animate-pulse font-bold":"")),P(s,"class","flex flex-col gap-6 rounded-xl text-center justify-center"),P(r,"class","flex flex-col justify-between gap-4 text-foregroundText h-full pb-12"),P(e,"class",K="bg-foreground w-[160px] sidebar border-foregroundDark border-4 "+(t[2].visible?"bottom-8 opacity-70":"bottom-2")+" z-10 fixed right-3 top-[190px] rounded-xl p-2 transition-all duration-300")},m(B,X){M(B,e,X),g(e,n),J(o,n,null),g(e,i),g(e,r),g(r,l);for(let ne=0;ne<Y.length;ne+=1)Y[ne]&&Y[ne].m(l,null);g(r,a),g(r,s),g(s,u),g(u,f),g(f,c),g(f,d),g(f,m),g(m,p),g(m,b),g(m,w),g(u,C),J(k,u,null),g(s,D),g(s,L),g(L,R),g(R,E),g(R,V),g(R,$),g($,W),g($,v),g($,O),g(L,N),J(H,L,null),z=!0},p(B,[X]){const ne={};if(X&65536&&(ne.$$scope={dirty:X,ctx:B}),o.$set(ne),X&34){te=Ue(B[1]);let we;for(we=0;we<te.length;we+=1){const Ce=Vf(B,te,we);Y[we]?(Y[we].p(Ce,X),A(Y[we],1)):(Y[we]=Uf(Ce),Y[we].c(),A(Y[we],1),Y[we].m(l,null))}for(Ie(),we=te.length;we<Y.length;we+=1)h(we);Oe()}(!z||X&1)&&_!==(_=ut(B[0].townInfo.productivity,0)+"")&&re(b,_);const U={};X&1&&(U.value=[B[0].townInfo.productivity]),k.$set(U),(!z||X&1)&&y!==(y=ut(B[0].economyAndLaws.tax_rate*100,0)+"")&&re(v,y);const ue={};X&1&&(ue.value=[B[0].economyAndLaws.tax_rate]),H.$set(ue),(!z||X&1&&G!==(G="flex flex-col justify-center w-full text-center items-center gap-2 min-h-12 pb-2 rounded-xl "+(B[0].economyAndLaws.tax_rate===0?"bg-textDanger1 animate-pulse font-bold":"")))&&P(L,"class",G),(!z||X&4&&K!==(K="bg-foreground w-[160px] sidebar border-foregroundDark border-4 "+(B[2].visible?"bottom-8 opacity-70":"bottom-2")+" z-10 fixed right-3 top-[190px] rounded-xl p-2 transition-all duration-300"))&&P(e,"class",K)},i(B){if(!z){A(o.$$.fragment,B);for(let X=0;X<te.length;X+=1)A(Y[X]);A(k.$$.fragment,B),A(H.$$.fragment,B),z=!0}},o(B){S(o.$$.fragment,B),Y=Y.filter(Boolean);for(let X=0;X<Y.length;X+=1)S(Y[X]);S(k.$$.fragment,B),S(H.$$.fragment,B),z=!1},d(B){B&&T(e),x(o),gt(Y,B),x(k),x(H)}}}function U4(t){return["food","wood","stone","metal","power","knowledge"].includes(t)}function K4(t,e,n){let o,i;ae(t,Pe,f=>n(0,o=f)),ae(t,ze,f=>n(2,i=f));function r(f){let c=o;c.economyAndLaws.tax_rate=ut(f[0],2),Pe.set(c),localStorage.setItem(Gt,JSON.stringify(c))}function l(f){let c=o;c.townInfo.productivity=ut(f[0],2),Pe.set(c),localStorage.setItem(Gt,JSON.stringify(c))}let a=[];function s(f){let c=[];for(let d=0;d<ie.length;d++)(f!="knowledge"&&ie[d].requirements.resources[f]>0||f=="power"&&ie[d].active_costs.power>0||f=="knowledge"&&ie[d].requirements.knowledge>0)&&c.push(ie[d].title);return c}function u(f){return U4(f)?s(f):[]}return t.$$.update=()=>{t.$$.dirty&1&&n(1,a=[{icon:"🥕",name:"food",value:o.resources.food,rate:o.resource_rate.food},{icon:"🪵",name:"wood",value:o.resources.wood,rate:o.resource_rate.wood},{icon:"🪨",name:"stone",value:o.resources.stone,rate:o.resource_rate.stone},{icon:"🧠",name:"knowledge",value:o.townInfo.knowledge_points,rate:o.resource_rate.knowledge},{icon:"🧲",name:"metal",value:o.resources.metal,rate:o.resource_rate.metal},{icon:"🔋 Surplus",name:"power",value:o.resources.power,rate:null},{icon:"🧑‍⚖️",name:"bureaucracy",value:o.resources.bureaucracy,rate:o.resource_rate.bureaucracy}])},[o,a,i,r,l,u]}class X4 extends be{constructor(e){super(),ge(this,e,K4,Y4,ce,{})}}function J4(t){let e,n,o,i,r,l,a,s,u,f,c,d,m;return o=new t4({}),l=new M4({}),s=new A4({}),f=new X4({}),d=new Dd({}),{c(){e=I("div"),n=I("div"),Z(o.$$.fragment),i=j(),r=I("div"),Z(l.$$.fragment),a=j(),Z(s.$$.fragment),u=j(),Z(f.$$.fragment),c=j(),Z(d.$$.fragment),P(r,"class","flex flex-row text-foregroundText"),P(e,"class","flex flex-col max-h-[100%] justify-between")},m(p,_){M(p,e,_),g(e,n),J(o,n,null),g(e,i),g(e,r),J(l,r,null),g(r,a),J(s,r,null),g(r,u),J(f,r,null),g(r,c),J(d,r,null),m=!0},p:ke,i(p){m||(A(o.$$.fragment,p),A(l.$$.fragment,p),A(s.$$.fragment,p),A(f.$$.fragment,p),A(d.$$.fragment,p),m=!0)},o(p){S(o.$$.fragment,p),S(l.$$.fragment,p),S(s.$$.fragment,p),S(f.$$.fragment,p),S(d.$$.fragment,p),m=!1},d(p){p&&T(e),x(o),x(l),x(s),x(f),x(d)}}}function x4(t,e,n){return ae(t,Pe,o=>n(0,o)),[]}class Z4 extends be{constructor(e){super(),ge(this,e,x4,J4,ce,{})}}function Q4(t){let e;return{c(){e=F("Welcome to Plots!")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function z4(t){let e,n,o,i,r=t[0].townInfo.name+"",l,a,s,u,f,c,d,m,p,_,b,w,C,k,D,L,R,E,V,$,W,y,v,O,N,H,G,K,z,te;return m=new wt({props:{class:"bg-white mt-2 mb-1"}}),w=new wt({props:{class:"bg-white mt-2 mb-1"}}),L=new wt({props:{class:"bg-white mt-2 mb-1"}}),$=new wt({props:{class:"bg-white mt-2 mb-1"}}),{c(){e=I("div"),n=I("p"),o=F(`You come across a large amount of land, and you decide to start a
            town called `),i=I("span"),l=F(r),a=F("."),s=j(),u=I("div"),f=I("p"),f.textContent="To run a successful town, you will need to have:",c=j(),d=I("ul"),Z(m.$$.fragment),p=j(),_=I("li"),_.textContent=`👥 People - build homes and they will stay as long as they are
                happy.`,b=j(),Z(w.$$.fragment),C=j(),k=I("li"),k.textContent=`🪵 Resources - generated by some plots and used to build others.
                some plots require sustained weekly resources (such as needing
                wood to heat homes)`,D=j(),Z(L.$$.fragment),R=j(),E=I("li"),E.textContent=`💰 Gold - generated by plots through tax revenue. most plots
                make the town some amount of money but some cost a lot to
                operate.`,V=j(),Z($.$$.fragment),W=j(),y=I("p"),y.innerHTML=`The town&#39;s key metrics are <span class="font-bold text-textHappyDark">Happiness</span>
            and <span class="font-bold text-textHappyDark">Health</span>, shown
            in the top-left corner.`,v=j(),O=I("p"),O.textContent=`These metrics are affected by the plots you build. Some plots may
            not always increase happiness, and some could even be harmful enough
            to tear down an otherwise great town.`,N=j(),H=I("p"),H.textContent="Be cautious and make sure to hover over plots before you buy them.",G=j(),K=I("img"),P(i,"class","font-bold text-accent"),P(d,"class","list-desc"),Vd(K.src,z="welcome_example_plot.png")||P(K,"src",z),P(K,"class","max-w-[60%] object-fit"),P(e,"class","flex flex-col gap-3 max-h-[50vh] overflow-y-scroll")},m(Y,h){M(Y,e,h),g(e,n),g(n,o),g(n,i),g(i,l),g(i,a),g(e,s),g(e,u),g(u,f),g(u,c),g(u,d),J(m,d,null),g(d,p),g(d,_),g(d,b),J(w,d,null),g(d,C),g(d,k),g(d,D),J(L,d,null),g(d,R),g(d,E),g(d,V),J($,d,null),g(e,W),g(e,y),g(e,v),g(e,O),g(e,N),g(e,H),g(e,G),g(e,K),te=!0},p(Y,h){(!te||h&1)&&r!==(r=Y[0].townInfo.name+"")&&re(l,r)},i(Y){te||(A(m.$$.fragment,Y),A(w.$$.fragment,Y),A(L.$$.fragment,Y),A($.$$.fragment,Y),te=!0)},o(Y){S(m.$$.fragment,Y),S(w.$$.fragment,Y),S(L.$$.fragment,Y),S($.$$.fragment,Y),te=!1},d(Y){Y&&T(e),x(m),x(w),x(L),x($)}}}function eC(t){let e,n,o,i;return e=new Kl({props:{class:"",$$slots:{default:[Q4]},$$scope:{ctx:t}}}),o=new Jl({props:{$$slots:{default:[z4]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment),n=j(),Z(o.$$.fragment)},m(r,l){J(e,r,l),M(r,n,l),J(o,r,l),i=!0},p(r,l){const a={};l&524288&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&524289&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),x(e,r),x(o,r)}}}function tC(t){let e;return{c(){e=F("Get started")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function nC(t){let e,n;return e=new ed({props:{class:"bg-button rounded-2xl text-foregroundText px-4 py-2 hover:scale-110 transition-all duration-300 ",$$slots:{default:[tC]},$$scope:{ctx:t}}}),e.$on("click",t[5]),{c(){Z(e.$$.fragment)},m(o,i){J(e,o,i),n=!0},p(o,i){const r={};i&524288&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function oC(t){let e,n,o,i;return e=new Xl({props:{$$slots:{default:[eC]},$$scope:{ctx:t}}}),o=new Cr({props:{$$slots:{default:[nC]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment),n=j(),Z(o.$$.fragment)},m(r,l){J(e,r,l),M(r,n,l),J(o,r,l),i=!0},p(r,l){const a={};l&524289&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&524288&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),x(e,r),x(o,r)}}}function iC(t){let e,n;return e=new Ar({props:{class:"bg-foregroundDark text-foregroundText",$$slots:{default:[oC]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment)},m(o,i){J(e,o,i),n=!0},p(o,i){const r={};i&524289&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function rC(t){let e,n;return e=new Sr({props:{open:t[1],$$slots:{default:[iC]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment)},m(o,i){J(e,o,i),n=!0},p(o,[i]){const r={};i&2&&(r.open=o[1]),i&524289&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function lC(t,e,n){let o,i,r,l;ae(t,an,m=>n(7,o=m)),ae(t,Pe,m=>n(0,i=m)),ae(t,Ui,m=>n(4,r=m)),ae(t,tl,m=>n(1,l=m)),Hn[i.endGoal],Rl[i.difficulty],tt.sort((m,p)=>f(m.id)&&!f(p.id)?-1:!f(m.id)&&f(p.id)?1:0),tt.filter(m=>f(m.id));function s(m){const p=o.achievements.find(_=>_[0]==m);return p==null?!1:p[3]}let u=tt;function f(m){return o.achievements==null?!1:o.achievements.find(p=>p[0]==m)!=null}function c(){Ui.update(m=>!m),localStorage.setItem("showCompletedAchievements",localStorage.getItem("showCompletedAchievements")==="true"?"false":"true")}localStorage.getItem("pauseMenuTab")==null&&(localStorage.setItem("pauseMenuTab","game"),fc.set("game"));const d=()=>{tl.set(!1)};return t.$$.update=()=>{if(t.$$.dirty&25&&i)if(r)n(3,u=tt);else{n(3,u=[]);for(let m=0;m<tt.length;m++)(!f(tt[m].id)||!s(tt[m].id))&&u.push(tt[m])}},[i,l,c,u,r,d]}class sC extends be{constructor(e){super(),ge(this,e,lC,rC,ce,{toggleShowCompleted:2})}get toggleShowCompleted(){return this.$$.ctx[2]}}function Kf(t,e,n){const o=t.slice();return o[7]=e[n],o}function aC(t){let e,n,o=t[0].townInfo.name+"",i,r,l,a,s=t[0].resources.bureaucracy+"",u;return{c(){e=I("div"),n=I("span"),i=F(o),r=j(),l=I("span"),a=F("🧑‍⚖️ "),u=F(s),P(e,"class","flex justify-between mr-10")},m(f,c){M(f,e,c),g(e,n),g(n,i),g(e,r),g(e,l),g(l,a),g(l,u)},p(f,c){c&1&&o!==(o=f[0].townInfo.name+"")&&re(i,o),c&1&&s!==(s=f[0].resources.bureaucracy+"")&&re(u,s)},d(f){f&&T(e)}}}function Xf(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,p,_=t[0].townInfo.guardians+"",b,w,C,k,D,L=t[0].townInfo.population_count-t[0].townInfo.employees+"",R,E,V;return e=new wt({props:{class:"mb-4"}}),d=new Mt({props:{class:`bg-button rounded-2xl h-min select-none
            `+(t[0].townInfo.guardians<=0?"opacity-50 cursor-not-allowed":"")+`
            `,$$slots:{default:[uC]},$$scope:{ctx:t}}}),d.$on("click",t[2]),C=new Mt({props:{class:`bg-button rounded-2xl h-min select-none
            
              `+(t[0].townInfo.employees>=t[0].townInfo.population_count?"opacity-50 cursor-not-allowed":"")+`
            `,$$slots:{default:[fC]},$$scope:{ctx:t}}}),C.$on("click",t[3]),{c(){Z(e.$$.fragment),n=j(),o=I("div"),i=I("span"),i.textContent="Hire Guardians ⚔️",r=j(),l=I("br"),a=j(),s=I("span"),s.textContent=`Guardians work for you and are required to expand your kingdom.
            They do not generate revenue, but still require housing & food.`,u=j(),f=I("div"),c=I("div"),Z(d.$$.fragment),m=j(),p=I("span"),b=F(_),w=j(),Z(C.$$.fragment),k=j(),D=I("span"),R=F(L),E=F(`
              unemployed available for hire.`),P(i,"class","text-lg font-bold"),P(s,"class","text-sm italic"),P(p,"class","text-lg font-bold select-none px-2"),P(D,"class","w-max"),P(f,"class","flex flex-row justify-between align-middle items-center pt-2 pb-2 gap-2 "),P(o,"class","w-full")},m($,W){J(e,$,W),M($,n,W),M($,o,W),g(o,i),g(o,r),g(o,l),g(o,a),g(o,s),g(o,u),g(o,f),g(f,c),J(d,c,null),g(c,m),g(c,p),g(p,b),g(c,w),J(C,c,null),g(f,k),g(f,D),g(D,R),g(D,E),V=!0},p($,W){const y={};W&1&&(y.class=`bg-button rounded-2xl h-min select-none
            `+($[0].townInfo.guardians<=0?"opacity-50 cursor-not-allowed":"")+`
            `),W&1024&&(y.$$scope={dirty:W,ctx:$}),d.$set(y),(!V||W&1)&&_!==(_=$[0].townInfo.guardians+"")&&re(b,_);const v={};W&1&&(v.class=`bg-button rounded-2xl h-min select-none
            
              `+($[0].townInfo.employees>=$[0].townInfo.population_count?"opacity-50 cursor-not-allowed":"")+`
            `),W&1024&&(v.$$scope={dirty:W,ctx:$}),C.$set(v),(!V||W&1)&&L!==(L=$[0].townInfo.population_count-$[0].townInfo.employees+"")&&re(R,L)},i($){V||(A(e.$$.fragment,$),A(d.$$.fragment,$),A(C.$$.fragment,$),V=!0)},o($){S(e.$$.fragment,$),S(d.$$.fragment,$),S(C.$$.fragment,$),V=!1},d($){$&&(T(n),T(o)),x(e,$),x(d),x(C)}}}function uC(t){let e;return{c(){e=F("-")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function fC(t){let e;return{c(){e=F("+")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function cC(t){let e;return{c(){e=F("Build a City Hall to manage your city.")},m(n,o){M(n,e,o)},p:ke,i:ke,o:ke,d(n){n&&T(e)}}}function dC(t){let e,n,o,i,r=Ue(ll),l=[];for(let s=0;s<r.length;s+=1)l[s]=Jf(Kf(t,r,s));const a=s=>S(l[s],1,1,()=>{l[s]=null});return{c(){e=I("span"),e.textContent="Laws 🧑‍⚖️",n=j();for(let s=0;s<l.length;s+=1)l[s].c();o=Re(),P(e,"class","text-lg font-bold")},m(s,u){M(s,e,u),M(s,n,u);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(s,u);M(s,o,u),i=!0},p(s,u){if(u&1){r=Ue(ll);let f;for(f=0;f<r.length;f+=1){const c=Kf(s,r,f);l[f]?(l[f].p(c,u),A(l[f],1)):(l[f]=Jf(c),l[f].c(),A(l[f],1),l[f].m(o.parentNode,o))}for(Ie(),f=r.length;f<l.length;f+=1)a(f);Oe()}},i(s){if(!i){for(let u=0;u<r.length;u+=1)A(l[u]);i=!0}},o(s){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)S(l[u]);i=!1},d(s){s&&(T(e),T(n),T(o)),gt(l,s)}}}function mC(t){let e,n=t[7].cost+"",o;return{c(){e=F("Enact for 🧑‍⚖️ "),o=F(n)},m(i,r){M(i,e,r),M(i,o,r)},d(i){i&&(T(e),T(o))}}}function pC(t){let e;return{c(){e=F("Repeal ❌")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function hC(t){let e,n;function o(l,a){return a&1&&(e=null),e==null&&(e=!!l[0].economyAndLaws.enacted.includes(l[7].id)),e?pC:mC}let i=o(t,-1),r=i(t);return{c(){r.c(),n=Re()},m(l,a){r.m(l,a),M(l,n,a)},p(l,a){i!==(i=o(l,a))&&(r.d(1),r=i(l),r&&(r.c(),r.m(n.parentNode,n)))},d(l){l&&T(n),r.d(l)}}}function Jf(t){let e,n,o,i,r,l,a;function s(){return t[4](t[7])}return i=new Mt({props:{class:`bg-button rounded-2xl 
                `+(t[0].economyAndLaws.enacted.includes(t[7].id)?"bg-textDanger1":"bg-button")+`

                `+(t[0].economyAndLaws.enacted.includes(t[7].id)||t[7].cost<=t[0].resources.bureaucracy?"cursor-pointer":"cursor-not-allowed opacity-30")+`
                `,$$slots:{default:[hC]},$$scope:{ctx:t}}}),i.$on("click",s),l=new wt({props:{class:"bg-white opacity-30"}}),{c(){e=I("div"),n=I("span"),n.textContent=`${t[7].description}`,o=j(),Z(i.$$.fragment),r=j(),Z(l.$$.fragment),P(e,"class","flex justify-between align-middle items-center pt-2 pb-2 gap-2 ")},m(u,f){M(u,e,f),g(e,n),g(e,o),J(i,e,null),M(u,r,f),J(l,u,f),a=!0},p(u,f){t=u;const c={};f&1&&(c.class=`bg-button rounded-2xl 
                `+(t[0].economyAndLaws.enacted.includes(t[7].id)?"bg-textDanger1":"bg-button")+`

                `+(t[0].economyAndLaws.enacted.includes(t[7].id)||t[7].cost<=t[0].resources.bureaucracy?"cursor-pointer":"cursor-not-allowed opacity-30")+`
                `),f&1025&&(c.$$scope={dirty:f,ctx:t}),i.$set(c)},i(u){a||(A(i.$$.fragment,u),A(l.$$.fragment,u),a=!0)},o(u){S(i.$$.fragment,u),S(l.$$.fragment,u),a=!1},d(u){u&&(T(e),T(r)),x(i),x(l,u)}}}function _C(t){let e,n,o,i,r=He("city_hall",t[0]).length>0,l,a,s,u,f,c,d,m;e=new Jn({props:{class:"text-xl",$$slots:{default:[aC]},$$scope:{ctx:t}}}),o=new Qn({props:{class:"w-3/4 overflow-scroll "}});let p=r&&Xf(t);a=new wt({props:{class:"mb-4"}});const _=[dC,cC],b=[];function w(C,k){return k&1&&(f=null),f==null&&(f=He("city_hall",C[0]).length>0),f?0:1}return c=w(t,-1),d=b[c]=_[c](t),{c(){Z(e.$$.fragment),n=j(),Z(o.$$.fragment),i=j(),p&&p.c(),l=j(),Z(a.$$.fragment),s=j(),u=I("div"),d.c(),P(u,"class","w-full")},m(C,k){J(e,C,k),M(C,n,k),J(o,C,k),M(C,i,k),p&&p.m(C,k),M(C,l,k),J(a,C,k),M(C,s,k),M(C,u,k),b[c].m(u,null),m=!0},p(C,k){const D={};k&1025&&(D.$$scope={dirty:k,ctx:C}),e.$set(D),k&1&&(r=He("city_hall",C[0]).length>0),r?p?(p.p(C,k),k&1&&A(p,1)):(p=Xf(C),p.c(),A(p,1),p.m(l.parentNode,l)):p&&(Ie(),S(p,1,1,()=>{p=null}),Oe());let L=c;c=w(C,k),c===L?b[c].p(C,k):(Ie(),S(b[L],1,1,()=>{b[L]=null}),Oe(),d=b[c],d?d.p(C,k):(d=b[c]=_[c](C),d.c()),A(d,1),d.m(u,null))},i(C){m||(A(e.$$.fragment,C),A(o.$$.fragment,C),A(p),A(a.$$.fragment,C),A(d),m=!0)},o(C){S(e.$$.fragment,C),S(o.$$.fragment,C),S(p),S(a.$$.fragment,C),S(d),m=!1},d(C){C&&(T(n),T(i),T(l),T(s),T(u)),x(e,C),x(o,C),p&&p.d(C),x(a,C),b[c].d()}}}function gC(t){let e,n,o,i;return e=new xn({props:{$$slots:{default:[_C]},$$scope:{ctx:t}}}),o=new Mo({}),{c(){Z(e.$$.fragment),n=j(),Z(o.$$.fragment)},m(r,l){J(e,r,l),M(r,n,l),J(o,r,l),i=!0},p(r,l){const a={};l&1025&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){i||(A(e.$$.fragment,r),A(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),x(e,r),x(o,r)}}}function bC(t){let e,n;return e=new Zn({props:{class:"bg-foreground text-foregroundText h-[80vh] overflow-scroll",$$slots:{default:[gC]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment)},m(o,i){J(e,o,i),n=!0},p(o,i){const r={};i&1025&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function vC(t){let e,n,o;function i(l){t[5](l)}let r={$$slots:{default:[bC]},$$scope:{ctx:t}};return t[1]!==void 0&&(r.open=t[1]),e=new zn({props:r}),Ne.push(()=>Tn(e,"open",i)),{c(){Z(e.$$.fragment)},m(l,a){J(e,l,a),o=!0},p(l,[a]){const s={};a&1025&&(s.$$scope={dirty:a,ctx:l}),!n&&a&2&&(n=!0,s.open=l[1],Sn(()=>n=!1)),e.$set(s)},i(l){o||(A(e.$$.fragment,l),o=!0)},o(l){S(e.$$.fragment,l),o=!1},d(l){x(e,l)}}}function yC(t,e,n){let o,i;ae(t,Pe,u=>n(0,o=u)),ae(t,Yi,u=>n(1,i=u));const r=()=>{o.townInfo.guardians>0?(Me(Pe,o.townInfo.guardians-=1,o),Me(Pe,o.townInfo.employees-=1,o)):Pt.set("No guardians to fire.")},l=()=>{o.townInfo.employees<o.townInfo.population_count?(Me(Pe,o.townInfo.guardians+=1,o),Me(Pe,o.townInfo.employees+=1,o)):Pt.set("Not enough people.")},a=u=>{o.economyAndLaws.enacted.includes(u.id)?o.economyAndLaws.enacted.splice(o.economyAndLaws.enacted.indexOf(u.id),1):u.cost<=o.resources.bureaucracy?(Me(Pe,o.resources.bureaucracy-=u.cost,o),o.economyAndLaws.enacted.push(u.id)):Pt.set("Not enough bureaucracy!")};function s(u){i=u,Yi.set(i)}return t.$$.update=()=>{t.$$.dirty&1},[o,i,r,l,a,s]}class wC extends be{constructor(e){super(),ge(this,e,yC,vC,ce,{})}}function kC(t){let e;return{c(){e=F("Got it")},m(n,o){M(n,e,o)},d(n){n&&T(e)}}}function CC(t){let e,n,o,i,r,l,a,s;return r=new zc({props:{class:"bg-button hover:scale-105 min-w-[70%] transition-all duration-150 mt-2",$$slots:{default:[kC]},$$scope:{ctx:t}}}),r.$on("click",t[1]),a=new Cr({}),{c(){e=I("span"),n=F("🛎️ "),o=new on(!1),i=j(),Z(r.$$.fragment),l=j(),Z(a.$$.fragment),o.a=null,P(e,"class","whitespace-pre-wrap overflow-scroll text-center sm:whitespace-normal break-all sm:text-md sm:font-semibold sm:py-4 sm:items-center sm:justify-center"),Je(e,"max-height","80%")},m(u,f){M(u,e,f),g(e,n),o.m(t[0],e),M(u,i,f),J(r,u,f),M(u,l,f),J(a,u,f),s=!0},p(u,f){(!s||f&1)&&o.p(u[0]);const c={};f&4&&(c.$$scope={dirty:f,ctx:u}),r.$set(c)},i(u){s||(A(r.$$.fragment,u),A(a.$$.fragment,u),s=!0)},o(u){S(r.$$.fragment,u),S(a.$$.fragment,u),s=!1},d(u){u&&(T(e),T(i),T(l)),x(r,u),x(a,u)}}}function AC(t){let e,n;return e=new Ar({props:{class:`bg-foregroundDark text-white rounded-input shadow-3xl justify-center items-center flex flex-col py-2 text-lg font-semibold p-2 min-w-96 min-h-36
         sm:rounded-2xl sm:flex sm:flex-col sm:p-6 sm:text-md sm:font-semibold sm:py-4 sm:items-center sm:justify-center max-h-[50vh]

         `,$$slots:{default:[CC]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment)},m(o,i){J(e,o,i),n=!0},p(o,i){const r={};i&5&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function SC(t){let e,n;return e=new Sr({props:{open:t[0]!="",$$slots:{default:[AC]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment)},m(o,i){J(e,o,i),n=!0},p(o,[i]){const r={};i&1&&(r.open=o[0]!=""),i&5&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function TC(t,e,n){let o;return ae(t,Pt,r=>n(0,o=r)),[o,()=>{Pt.set("")}]}class MC extends be{constructor(e){super(),ge(this,e,TC,SC,ce,{})}}function xf(t){let e,n,o,i;const r=[OC,IC],l=[];function a(s,u){return s[0]==null?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=Re()},m(s,u){l[e].m(s,u),M(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?l[e].p(s,u):(Ie(),S(l[f],1,1,()=>{l[f]=null}),Oe(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),A(n,1),n.m(o.parentNode,o))},i(s){i||(A(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function IC(t){let e,n,o,i,r,l,a,s,u,f,c,d,m,p,_,b,w,C,k,D,L=t[2]==!0&&Zf();n=new Z4({}),i=new lp({}),l=new oy({}),s=new Iy({}),f=new e3({}),d=new k3({}),p=new wC({}),b=new MC({});let R=t[0].environment.day==0&&t[3]&&Qf();return{c(){L&&L.c(),e=j(),Z(n.$$.fragment),o=j(),Z(i.$$.fragment),r=j(),Z(l.$$.fragment),a=j(),Z(s.$$.fragment),u=j(),Z(f.$$.fragment),c=j(),Z(d.$$.fragment),m=j(),Z(p.$$.fragment),_=j(),Z(b.$$.fragment),w=j(),R&&R.c(),C=j(),k=I("style"),k.textContent=`body {
        margin-bottom: 0;
      }
      /* no visible scrollbars */
      #plot_grid::-webkit-scrollbar {
        display: none;
      }

      ::-webkit-scrollbar {
        width: 0px;
        background: transparent; /* make scrollbar transparent */
      }

      /* no scrollbars on firefox either */
      #plot_grid {
        scrollbar-width: none;
      }

      /* no scrollbars for IE/Edge */
      #plot_grid {
        -ms-overflow-style: none;
      }`},m(E,V){L&&L.m(E,V),M(E,e,V),J(n,E,V),M(E,o,V),J(i,E,V),M(E,r,V),J(l,E,V),M(E,a,V),J(s,E,V),M(E,u,V),J(f,E,V),M(E,c,V),J(d,E,V),M(E,m,V),J(p,E,V),M(E,_,V),J(b,E,V),M(E,w,V),R&&R.m(E,V),M(E,C,V),M(E,k,V),D=!0},p(E,V){E[2]==!0?L?V&4&&A(L,1):(L=Zf(),L.c(),A(L,1),L.m(e.parentNode,e)):L&&(Ie(),S(L,1,1,()=>{L=null}),Oe()),E[0].environment.day==0&&E[3]?R?V&9&&A(R,1):(R=Qf(),R.c(),A(R,1),R.m(C.parentNode,C)):R&&(Ie(),S(R,1,1,()=>{R=null}),Oe())},i(E){D||(A(L),A(n.$$.fragment,E),A(i.$$.fragment,E),A(l.$$.fragment,E),A(s.$$.fragment,E),A(f.$$.fragment,E),A(d.$$.fragment,E),A(p.$$.fragment,E),A(b.$$.fragment,E),A(R),D=!0)},o(E){S(L),S(n.$$.fragment,E),S(i.$$.fragment,E),S(l.$$.fragment,E),S(s.$$.fragment,E),S(f.$$.fragment,E),S(d.$$.fragment,E),S(p.$$.fragment,E),S(b.$$.fragment,E),S(R),D=!1},d(E){E&&(T(e),T(o),T(r),T(a),T(u),T(c),T(m),T(_),T(w),T(C),T(k)),L&&L.d(E),x(n,E),x(i,E),x(l,E),x(s,E),x(f,E),x(d,E),x(p,E),x(b,E),R&&R.d(E)}}}function OC(t){let e,n;return e=new vy({}),{c(){Z(e.$$.fragment)},m(o,i){J(e,o,i),n=!0},p:ke,i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function Zf(t){let e,n;return e=new Uv({}),{c(){Z(e.$$.fragment)},m(o,i){J(e,o,i),n=!0},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function Qf(t){let e,n;return e=new sC({}),{c(){Z(e.$$.fragment)},m(o,i){J(e,o,i),n=!0},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function PC(t){let e,n,o=(t[1]||t[0]==null)&&xf(t);return{c(){o&&o.c(),e=Re()},m(i,r){o&&o.m(i,r),M(i,e,r),n=!0},p(i,[r]){i[1]||i[0]==null?o?(o.p(i,r),r&3&&A(o,1)):(o=xf(i),o.c(),A(o,1),o.m(e.parentNode,e)):o&&(Ie(),S(o,1,1,()=>{o=null}),Oe())},i(i){n||(A(o),n=!0)},o(i){S(o),n=!1},d(i){i&&T(e),o&&o.d(i)}}}function NC(t,e,n){let o,i,r,l,a,s;ae(t,_o,d=>n(6,o=d)),ae(t,ze,d=>n(7,i=d)),ae(t,Rt,d=>n(2,r=d)),ae(t,Pe,d=>n(0,l=d)),ae(t,Wo,d=>n(8,a=d)),ae(t,tl,d=>n(3,s=d));let u=!1;Kv();let f=!1;document.addEventListener("keydown",d=>{if((document.activeElement!=null&&document.activeElement.nodeName==="INPUT"||document.activeElement!=null&&document.activeElement.nodeName=="TEXTAREA")&&d.key!=="Escape")return;switch(d.key.toLowerCase()){case"p":r==!0?Rt.set(!1):(Rt.set(!0),Me(ze,i.visible=!1,i));break;case"escape":d.shiftKey?(Me(Rt,r=!0,r),localStorage.setItem("reset","true"),location.reload(),Dl()):i.visible==!0&&Me(ze,i.visible=!1,i);break}});function c(d,m,p){if(f==!0)switch(p){case"up":m-=2;break;case"down":m+=1;break;case"left":d-=2;break;case"right":d+=1;break}d<0?d=0:d>l.plots.length&&(d=l.plots.length),m<0?m=0:m>l.plots.length&&(m=l.plots.length);let _=document.querySelectorAll(".plot_container"),b;if(_.forEach(w=>{w.dataset.x=="$x"&&w.dataset.y=="$y"&&(b=w)}),r==!1){if(b.dataset.canBeUpgraded==="true"?Me(ze,i.visible=!0,i):Me(ze,i.visible=!1,i),b.dataset.refPlotX!==void 0&&b.dataset.refPlotY!=""?(f=!0,_.forEach(w=>{w.dataset.x==b.dataset.refPlotX&&w.dataset.y==b.dataset.refPlotY&&(b=w,d=parseInt(b.dataset.x),m=parseInt(b.dataset.y))})):f=!1,b.dataset.size!=="1"&&b.dataset.size!==void 0&&(f=!0),Me(ze,i.x=d,i),Me(ze,i.y=m,i),_.forEach(w=>{w.classList.remove("selected"),w.style.fontWeight=""}),b.classList.add("selected"),f){let w="4px solid #00800045";b.classList.remove("selected"),b.style.borderTop=w,b.style.borderLeft=w,b.style.fontWeight="600",_.forEach(C=>{const k=parseInt(`${C.dataset.x}`),D=parseInt(`${C.dataset.y}`);k==d+1&&D==m&&(C.style.borderLeft=w,C.style.borderBottom=w),k==d&&D==m+1&&(C.style.borderTop=w,C.style.borderRight=w),k==d+1&&D==m+1&&(C.style.borderBottom=w,C.style.borderRight=w)})}b.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),Me(_o,o={},o)}}return t.$$.update=()=>{t.$$.dirty&1&&(l?(Me(Wo,a.visible=!1,a),n(1,u=!0)):(Me(Wo,a.visible=!0,a),n(1,u=!1)))},[l,u,r,s,c]}class EC extends be{constructor(e){super(),ge(this,e,NC,PC,ce,{openPlotMenu:4})}get openPlotMenu(){return this.$$.ctx[4]}}new EC({target:document.getElementById("app")});
