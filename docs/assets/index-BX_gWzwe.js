var Zd=Object.defineProperty;var Qd=(t,e,n)=>e in t?Zd(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var dn=(t,e,n)=>(Qd(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();function zd(t){const e=pako.gzip(JSON.stringify(t));return btoa(String.fromCharCode.apply(null,e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function em(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=atob(e),o=new Uint8Array(n.length);for(let r=0;r<n.length;r++)o[r]=n.charCodeAt(r);const i=pako.ungzip(o,{to:"string"});return JSON.parse(i)}async function tm(){let t=localStorage.getItem("plots_active_game_db");const e=await zd(t);console.log("http://localhost:5173/plots/?shareId="+e)}const Kr=window.location.search.substring(1).split("&").reduce((t,e)=>{const[n,o]=e.split("=");return t[n]=o,t},{});if(Kr.shareId!=null||Kr.shareId!=null){console.log("DECRYPING FROM shareId");const t=JSON.parse(em(Kr.shareId));let e=localStorage.getItem("plots_active_game_db");(e==""||e==null)&&localStorage.setItem("plots_active_game_db",JSON.stringify(t))}else console.log("COMPRESSING GAME TO SHARE"),tm();function Ae(){}const vr=t=>t;function Y(t,e){for(const n in e)t[n]=e[n];return t}function _c(t){return t()}function $s(){return Object.create(null)}function Be(t){t.forEach(_c)}function An(t){return typeof t=="function"}function fe(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let Si;function nm(t,e){return t===e?!0:(Si||(Si=document.createElement("a")),Si.href=e,t===Si.href)}function om(t){return Object.keys(t).length===0}function Bl(t,...e){if(t==null){for(const o of e)o(void 0);return Ae}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function hc(t){let e;return Bl(t,n=>e=n)(),e}function ae(t,e,n){t.$$.on_destroy.push(Bl(e,n))}function de(t,e,n,o){if(t){const i=gc(t,e,n,o);return t[0](i)}}function gc(t,e,n,o){return t[1]&&o?Y(n.ctx.slice(),t[1](o(e))):n.ctx}function me(t,e,n,o){if(t[2]&&o){const i=t[2](o(n));if(e.dirty===void 0)return i;if(typeof i=="object"){const r=[],l=Math.max(e.dirty.length,i.length);for(let a=0;a<l;a+=1)r[a]=e.dirty[a]|i[a];return r}return e.dirty|i}return e.dirty}function pe(t,e,n,o,i,r){if(i){const l=gc(e,n,o,r);t.p(l,i)}}function _e(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let o=0;o<n;o++)e[o]=-1;return e}return-1}function Ee(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function re(t,e){const n={};e=new Set(e);for(const o in t)!e.has(o)&&o[0]!=="$"&&(n[o]=t[o]);return n}function Pe(t,e,n){return t.set(n),e}function Fe(t){return t&&An(t.destroy)?t.destroy:Ae}const bc=typeof window<"u";let Gl=bc?()=>window.performance.now():()=>Date.now(),Vl=bc?t=>requestAnimationFrame(t):Ae;const lo=new Set;function vc(t){lo.forEach(e=>{e.c(t)||(lo.delete(e),e.f())}),lo.size!==0&&Vl(vc)}function $l(t){let e;return lo.size===0&&Vl(vc),{promise:new Promise(n=>{lo.add(e={c:t,f:n})}),abort(){lo.delete(e)}}}function v(t,e){t.appendChild(e)}function yc(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function im(t){const e=O("style");return e.textContent="/* empty */",rm(yc(t),e),e.sheet}function rm(t,e){return v(t.head||t,e),e.sheet}function I(t,e,n){t.insertBefore(e,n||null)}function T(t){t.parentNode&&t.parentNode.removeChild(t)}function vt(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function O(t){return document.createElement(t)}function yr(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function $(t){return document.createTextNode(t)}function G(){return $(" ")}function De(){return $("")}function ee(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function M(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}const lm=["width","height"];function le(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const o in e)e[o]==null?t.removeAttribute(o):o==="style"?t.style.cssText=e[o]:o==="__value"?t.value=t[o]=e[o]:n[o]&&n[o].set&&lm.indexOf(o)===-1?t[o]=e[o]:M(t,o,e[o])}function Wi(t,e){for(const n in e)M(t,n,e[n])}function sm(t,e){Object.keys(e).forEach(n=>{am(t,n,e[n])})}function am(t,e,n){const o=e.toLowerCase();o in t?t[o]=typeof t[o]=="boolean"&&n===""?!0:n:e in t?t[e]=typeof t[e]=="boolean"&&n===""?!0:n:M(t,e,n)}function bn(t){return/-/.test(t)?sm:le}function um(t){return Array.from(t.childNodes)}function se(t,e){e=""+e,t.data!==e&&(t.data=e)}function zt(t,e){t.value=e??""}function ze(t,e,n,o){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,"")}function Hs(t,e,n){for(let o=0;o<t.options.length;o+=1){const i=t.options[o];if(i.__value===e){i.selected=!0;return}}t.selectedIndex=-1}function mn(t,e,n){t.classList.toggle(e,!!n)}function wc(t,e,{bubbles:n=!1,cancelable:o=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:o})}class pn{constructor(e=!1){dn(this,"is_svg",!1);dn(this,"e");dn(this,"n");dn(this,"t");dn(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,n,o=null){this.e||(this.is_svg?this.e=yr(n.nodeName):this.e=O(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(e)),this.i(o)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)I(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(T)}}const Ki=new Map;let Ui=0;function fm(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function cm(t,e){const n={stylesheet:im(e),rules:{}};return Ki.set(t,n),n}function Yi(t,e,n,o,i,r,l,a=0){const s=16.666/o;let u=`{
`;for(let y=0;y<=1;y+=s){const b=e+(n-e)*r(y);u+=y*100+`%{${l(b,1-b)}}
`}const f=u+`100% {${l(n,1-n)}}
}`,c=`__svelte_${fm(f)}_${a}`,d=yc(t),{stylesheet:p,rules:h}=Ki.get(d)||cm(d,t);h[c]||(h[c]=!0,p.insertRule(`@keyframes ${c} ${f}`,p.cssRules.length));const _=t.style.animation||"";return t.style.animation=`${_?`${_}, `:""}${c} ${o}ms linear ${i}ms 1 both`,Ui+=1,c}function Xi(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?r=>r.indexOf(e)<0:r=>r.indexOf("__svelte")===-1),i=n.length-o.length;i&&(t.style.animation=o.join(", "),Ui-=i,Ui||dm())}function dm(){Vl(()=>{Ui||(Ki.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&T(e)}),Ki.clear())})}let Ko;function $o(t){Ko=t}function zo(){if(!Ko)throw new Error("Function called outside component initialization");return Ko}function wr(t){zo().$$.on_mount.push(t)}function mm(t){zo().$$.on_destroy.push(t)}function pm(){const t=zo();return(e,n,{cancelable:o=!1}={})=>{const i=t.$$.callbacks[e];if(i){const r=wc(e,n,{cancelable:o});return i.slice().forEach(l=>{l.call(t,r)}),!r.defaultPrevented}return!0}}function kr(t,e){return zo().$$.context.set(t,e),e}function Cr(t){return zo().$$.context.get(t)}function ne(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(o=>o.call(this,e))}const oo=[],Oe=[];let so=[];const dl=[],kc=Promise.resolve();let ml=!1;function Cc(){ml||(ml=!0,kc.then(Ac))}function Hl(){return Cc(),kc}function rt(t){so.push(t)}function Gn(t){dl.push(t)}const Ur=new Set;let zn=0;function Ac(){if(zn!==0)return;const t=Ko;do{try{for(;zn<oo.length;){const e=oo[zn];zn++,$o(e),_m(e.$$)}}catch(e){throw oo.length=0,zn=0,e}for($o(null),oo.length=0,zn=0;Oe.length;)Oe.pop()();for(let e=0;e<so.length;e+=1){const n=so[e];Ur.has(n)||(Ur.add(n),n())}so.length=0}while(oo.length);for(;dl.length;)dl.pop()();ml=!1,Ur.clear(),$o(t)}function _m(t){if(t.fragment!==null){t.update(),Be(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(rt)}}function hm(t){const e=[],n=[];so.forEach(o=>t.indexOf(o)===-1?e.push(o):n.push(o)),n.forEach(o=>o()),so=e}let Mo;function Wl(){return Mo||(Mo=Promise.resolve(),Mo.then(()=>{Mo=null})),Mo}function Mn(t,e,n){t.dispatchEvent(wc(`${e?"intro":"outro"}${n}`))}const Fi=new Set;let $t;function Te(){$t={r:0,c:[],p:$t}}function Ie(){$t.r||Be($t.c),$t=$t.p}function k(t,e){t&&t.i&&(Fi.delete(t),t.i(e))}function S(t,e,n,o){if(t&&t.o){if(Fi.has(t))return;Fi.add(t),$t.c.push(()=>{Fi.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}else o&&o()}const Kl={duration:0};function Xt(t,e,n){const o={direction:"in"};let i=e(t,n,o),r=!1,l,a,s=0;function u(){l&&Xi(t,l)}function f(){const{delay:d=0,duration:p=300,easing:h=vr,tick:_=Ae,css:y}=i||Kl;y&&(l=Yi(t,0,1,p,d,h,y,s++)),_(0,1);const b=Gl()+d,A=b+p;a&&a.abort(),r=!0,rt(()=>Mn(t,!0,"start")),a=$l(w=>{if(r){if(w>=A)return _(1,0),Mn(t,!0,"end"),u(),r=!1;if(w>=b){const D=h((w-b)/p);_(D,1-D)}}return r})}let c=!1;return{start(){c||(c=!0,Xi(t),An(i)?(i=i(o),Wl().then(f)):f())},invalidate(){c=!1},end(){r&&(u(),r=!1)}}}function Jt(t,e,n){const o={direction:"out"};let i=e(t,n,o),r=!0,l;const a=$t;a.r+=1;let s;function u(){const{delay:f=0,duration:c=300,easing:d=vr,tick:p=Ae,css:h}=i||Kl;h&&(l=Yi(t,1,0,c,f,d,h));const _=Gl()+f,y=_+c;rt(()=>Mn(t,!1,"start")),"inert"in t&&(s=t.inert,t.inert=!0),$l(b=>{if(r){if(b>=y)return p(0,1),Mn(t,!1,"end"),--a.r||Be(a.c),!1;if(b>=_){const A=d((b-_)/c);p(1-A,A)}}return r})}return An(i)?Wl().then(()=>{i=i(o),u()}):u(),{end(f){f&&"inert"in t&&(t.inert=s),f&&i.tick&&i.tick(1,0),r&&(l&&Xi(t,l),r=!1)}}}function Kt(t,e,n,o){let r=e(t,n,{direction:"both"}),l=o?0:1,a=null,s=null,u=null,f;function c(){u&&Xi(t,u)}function d(h,_){const y=h.b-l;return _*=Math.abs(y),{a:l,b:h.b,d:y,duration:_,start:h.start,end:h.start+_,group:h.group}}function p(h){const{delay:_=0,duration:y=300,easing:b=vr,tick:A=Ae,css:w}=r||Kl,D={start:Gl()+_,b:h};h||(D.group=$t,$t.r+=1),"inert"in t&&(h?f!==void 0&&(t.inert=f):(f=t.inert,t.inert=!0)),a||s?s=D:(w&&(c(),u=Yi(t,l,h,y,_,b,w)),h&&A(0,1),a=d(D,y),rt(()=>Mn(t,h,"start")),$l(V=>{if(s&&V>s.start&&(a=d(s,y),s=null,Mn(t,a.b,"start"),w&&(c(),u=Yi(t,l,a.b,a.duration,0,b,r.css))),a){if(V>=a.end)A(l=a.b,1-l),Mn(t,a.b,"end"),s||(a.b?c():--a.group.r||Be(a.group.c)),a=null;else if(V>=a.start){const E=V-a.start;l=a.a+a.d*b(E/a.duration),A(l,1-l)}}return!!(a||s)}))}return{run(h){An(r)?Wl().then(()=>{r=r({direction:h?"in":"out"}),p(h)}):p(h)},end(){c(),a=s=null}}}function Je(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function gm(t,e){S(t,1,1,()=>{e.delete(t.key)})}function bm(t,e,n,o,i,r,l,a,s,u,f,c){let d=t.length,p=r.length,h=d;const _={};for(;h--;)_[t[h].key]=h;const y=[],b=new Map,A=new Map,w=[];for(h=p;h--;){const W=c(i,r,h),B=n(W);let j=l.get(B);j?w.push(()=>j.p(W,e)):(j=u(B,W),j.c()),b.set(B,y[h]=j),B in _&&A.set(B,Math.abs(h-_[B]))}const D=new Set,V=new Set;function E(W){k(W,1),W.m(a,f),l.set(W.key,W),f=W.first,p--}for(;d&&p;){const W=y[p-1],B=t[d-1],j=W.key,X=B.key;W===B?(f=W.first,d--,p--):b.has(X)?!l.has(j)||D.has(j)?E(W):V.has(X)?d--:A.get(j)>A.get(X)?(V.add(j),E(W)):(D.add(X),d--):(s(B,l),d--)}for(;d--;){const W=t[d];b.has(W.key)||s(W,l)}for(;p;)E(y[p-1]);return Be(w),y}function ve(t,e){const n={},o={},i={$$scope:1};let r=t.length;for(;r--;){const l=t[r],a=e[r];if(a){for(const s in l)s in a||(o[s]=1);for(const s in a)i[s]||(n[s]=a[s],i[s]=1);t[r]=a}else for(const s in l)i[s]=1}for(const l in o)l in n||(n[l]=void 0);return n}function at(t){return typeof t=="object"&&t!==null?t:{}}function Vn(t,e,n){const o=t.$$.props[e];o!==void 0&&(t.$$.bound[o]=n,n(t.$$.ctx[o]))}function z(t){t&&t.c()}function Z(t,e,n){const{fragment:o,after_update:i}=t.$$;o&&o.m(e,n),rt(()=>{const r=t.$$.on_mount.map(_c).filter(An);t.$$.on_destroy?t.$$.on_destroy.push(...r):Be(r),t.$$.on_mount=[]}),i.forEach(rt)}function Q(t,e){const n=t.$$;n.fragment!==null&&(hm(n.after_update),Be(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function vm(t,e){t.$$.dirty[0]===-1&&(oo.push(t),Cc(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ye(t,e,n,o,i,r,l=null,a=[-1]){const s=Ko;$o(t);const u=t.$$={fragment:null,ctx:[],props:r,update:Ae,not_equal:i,bound:$s(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(s?s.$$.context:[])),callbacks:$s(),dirty:a,skip_bound:!1,root:e.target||s.$$.root};l&&l(u.root);let f=!1;if(u.ctx=n?n(t,e.props||{},(c,d,...p)=>{const h=p.length?p[0]:d;return u.ctx&&i(u.ctx[c],u.ctx[c]=h)&&(!u.skip_bound&&u.bound[c]&&u.bound[c](h),f&&vm(t,c)),d}):[],u.update(),f=!0,Be(u.before_update),u.fragment=o?o(u.ctx):!1,e.target){if(e.hydrate){const c=um(e.target);u.fragment&&u.fragment.l(c),c.forEach(T)}else u.fragment&&u.fragment.c();e.intro&&k(t.$$.fragment),Z(t,e.target,e.anchor),Ac()}$o(s)}class we{constructor(){dn(this,"$$");dn(this,"$$set")}$destroy(){Q(this,1),this.$destroy=Ae}$on(e,n){if(!An(n))return Ae;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const i=o.indexOf(n);i!==-1&&o.splice(i,1)}}$set(e){this.$$set&&!om(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ym="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(ym);const eo=[];function Nn(t,e){return{subscribe:Xe(t,e).subscribe}}function Xe(t,e=Ae){let n;const o=new Set;function i(a){if(fe(t,a)&&(t=a,n)){const s=!eo.length;for(const u of o)u[1](),eo.push(u,t);if(s){for(let u=0;u<eo.length;u+=2)eo[u][0](eo[u+1]);eo.length=0}}}function r(a){i(a(t))}function l(a,s=Ae){const u=[a,s];return o.add(u),o.size===1&&(n=e(i,r)||Ae),a(t),()=>{o.delete(u),o.size===0&&n&&(n(),n=null)}}return{set:i,update:r,subscribe:l}}function ln(t,e,n){const o=!Array.isArray(t),i=o?[t]:t;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const r=e.length<2;return Nn(n,(l,a)=>{let s=!1;const u=[];let f=0,c=Ae;const d=()=>{if(f)return;c();const h=e(o?u[0]:u,l,a);r?l(h):c=An(h)?h:Ae},p=i.map((h,_)=>Bl(h,y=>{u[_]=y,f&=~(1<<_),s&&d()},()=>{f|=1<<_}));return s=!0,d(),function(){Be(p),c(),s=!1}})}function Ws(t){return{subscribe:t.subscribe.bind(t)}}const wm={plots:[],timeSpent:0,devMode:!1,lastChangeDay:0,townLog:"",currentTutorialStep:0,townInfo:{name:"Your town",gold:150,gold_from_tourism:0,population_count:0,population_max:0,employees:0,happiness:150,health:150,community:150,knowledge_points:0,productivity:100},resources:{food:50,wood:300,stone:300,metal:0,power:0,bureaucracy:0},resource_rate:{food:0,wood:0,stone:0,metal:0,bureaucracy:0},hasCityHall:!1,hasBank:!1,hasHospital:!1,hasLab:!1,modifiers:{happiness:1,health:1,community:1},economyAndLaws:{tax_rate:.1,max_tax_rate:1,weeklyProfit:0,knowledge_gold_market_rates:[]},plotCounts:[],environment:{day:0,year:1},maximums:{health:300,happiness:300,community:300},difficulty:0,endGoal:"land",endGameDetails:{msg:"",win:!1},tick:0,overtime:!1,last_warning_happiness:0,last_warning_health:0,lab:{active_experiment:null,past_experiments:[],xp:0}},km={username:"",stats:{games_played:0,wins:0,losses:0},achievements:[]},Ul={0:"Easy",1:"Normal",2:"Hard"},Cm={0:Math.random()*(.5-.3)+.3,1:Math.random()*(.4-.2)+.2,2:Math.random()*(.4-.2)+.2},Am={0:.35,1:.25,2:.25},oe=[{id:"small_homes",title:"🏠 Small homes",type:"residential",description:"+16 people",revenue_per_week:0,requirements:{gold:150,plots:[],employees:0,knowledge:0,size:1,xp:0,resources:{food:0,wood:50,stone:10,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:16,community:0,bureaucracy:0},tourism_revenue_per_week:0,styling:"",affordable:null,selected:null,check_for_variety:!1,enables_tourism:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:2,stone:0,metal:0,bureaucracy:0}},{id:"farm",title:"🥕 Farm",type:"farm",description:"Produces veggies, grains, fruit",revenue_per_week:6,requirements:{gold:80,plots:[],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:10,stone:10,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.03,health:1.03,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},tourism_revenue_per_week:0,enables_tourism:!1,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:6,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0},check_for_variety:!1},{id:"tree_farm",title:"🌲 Tree Farm",type:"lumber",description:"Produces some wood",revenue_per_week:8,requirements:{gold:300,plots:[],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},check_for_variety:!0,tourism_revenue_per_week:0,styling:"",affordable:null,selected:null,enables_tourism:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:15,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0}},{id:"quarry",title:"⛏️ Quarry",type:"quarry",description:"Produces stone, small amounts of metal",revenue_per_week:0,requirements:{gold:800,plots:[],employees:6,knowledge:0,size:1,xp:0,resources:{food:0,wood:50,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:.98,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},tourism_revenue_per_week:0,styling:"",affordable:null,selected:null,check_for_variety:!1,enables_tourism:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:25,metal:1,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0}},{id:"livestock_farm",title:"🐄 Livestock farm",type:"farm",description:"Makes more money and food than a regular farm",revenue_per_week:42,requirements:{gold:300,plots:[],employees:8,knowledge:0,size:1,xp:0,resources:{food:0,wood:20,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.1,health:1.05,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},tourism_revenue_per_week:0,enables_tourism:!1,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:14,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:1,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0},check_for_variety:!1},{id:"bakery",title:"🥖 Bakery",type:"business",description:"Sells baked goods, increases happiness at the cost of a little health.",revenue_per_week:40,requirements:{gold:500,plots:[],employees:3,knowledge:0,size:1,xp:0,resources:{food:0,wood:30,stone:30,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.11,health:.95,community:1},immediate_variable_changes:{happiness:25,health:0,population:0,community:0,bureaucracy:0},check_for_variety:!0,tourism_revenue_per_week:0,enables_tourism:!1,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0}},{id:"stables",title:"🐴 Stables",type:"business",description:"Makes money and people happy by providing horse rides.",revenue_per_week:24,requirements:{gold:400,plots:[],employees:2,knowledge:0,size:1,xp:0,resources:{food:0,wood:120,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.2,health:1.02,community:1},immediate_variable_changes:{happiness:5,health:0,population:0,community:0,bureaucracy:0},tourism_revenue_per_week:0,enables_tourism:!1,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0}},{id:"church",title:"⛪️ Church",type:"recreation",description:"Makes people VERY happy for a short period.",revenue_per_week:0,requirements:{gold:500,plots:[],employees:0,knowledge:0,size:1,xp:0,resources:{food:0,wood:350,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:2,health:1,community:1},immediate_variable_changes:{happiness:50,health:0,population:0,community:0,bureaucracy:0},tourism_revenue_per_week:0,enables_tourism:!1,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0}},{id:"pub",title:"🍻 Pub",type:"recreation",description:"Increases knowledge, happiness, community. Isn't great for health.",revenue_per_week:40,knowledge_points_per_month:1,requirements:{gold:500,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:100,stone:50,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.2,health:.93,community:1.1},immediate_variable_changes:{happiness:10,health:-15,population:0,community:0,bureaucracy:0},check_for_variety:!0,tourism_revenue_per_week:0,enables_tourism:!1,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0}},{id:"village_market",title:"🛒 Village Market",type:"business",description:"Sells goods and employs many. ",revenue_per_week:100,requirements:{gold:800,plots:[],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:150,stone:150,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.05,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},tourism_revenue_per_week:0,enables_tourism:!1,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0}},{id:"fishery",title:"🐠 Fishery",type:"business",description:"Requires metal but generates a lot of food. Must be near water.",revenue_per_week:35,requirements:{gold:500,plots:[],employees:9,knowledge:0,size:1,xp:0,resources:{food:0,wood:100,stone:0,metal:50,power:0,bureaucracy:0},adjacent_plots:["water"]},effect_modifiers:{happiness:1.05,health:1,community:1},immediate_variable_changes:{happiness:15,health:8,population:0,community:0,bureaucracy:0},check_for_variety:!0,tourism_revenue_per_week:0,enables_tourism:!1,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:50,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0}},{id:"neighborhood",title:"🏘️ Neighborhood",type:"residential",description:"+64 people",revenue_per_week:0,requirements:{gold:750,plots:[],employees:0,knowledge:0,size:1,xp:0,resources:{food:0,wood:250,stone:250,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.1,health:1,community:1.1},immediate_variable_changes:{happiness:0,health:0,population:64,community:0,bureaucracy:0},tourism_revenue_per_week:0,styling:"",affordable:null,selected:null,check_for_variety:!1,enables_tourism:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0}},{id:"vineyard",title:"🍇 Vineyard",type:"farm",description:"Makes a lot of money, lowers health. Generates knowledge too.",revenue_per_week:95,requirements:{gold:700,plots:[],employees:6,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.5,health:.9,community:1},immediate_variable_changes:{happiness:0,health:-10,population:0,community:0,bureaucracy:0},tourism_revenue_per_week:0,enables_tourism:!1,knowledge_points_per_month:3,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0}},{id:"water_wheel",title:"💧 Water Wheel",type:"industrial",description:"Produces small amount of power",revenue_per_week:0,requirements:{gold:800,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:200,stone:50,metal:0,power:0,bureaucracy:0},adjacent_plots:["water"]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},tourism_revenue_per_week:0,enables_tourism:!1,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:50,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0}},{id:"park",title:"🎪 Park",type:"recreation",description:"Makes people extremely happy & healthy for a period.",revenue_per_week:0,requirements:{gold:800,plots:[],employees:4,knowledge:0,size:1,xp:0,resources:{food:0,wood:100,stone:100,metal:20,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:2,health:2,community:1},immediate_variable_changes:{happiness:40,health:40,population:0,community:40,bureaucracy:0},tourism_revenue_per_week:0,enables_tourism:!1,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0}},{id:"village_inn",title:"🛌 Village Inn",type:"tourism",description:"Enables tourism revenue",revenue_per_week:23,requirements:{gold:1500,plots:[],employees:16,knowledge:0,size:1,xp:0,resources:{food:0,wood:150,stone:100,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:10,health:0,population:0,community:0,bureaucracy:0},tourism_revenue_per_week:1,enables_tourism:!0,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0}},{id:"schoolhouse",title:"🏫 Schoolhouse",type:"education",description:"Produces knowledge, costs money to run.",revenue_per_week:0,knowledge_points_per_month:25,requirements:{gold:2e3,plots:[],employees:20,knowledge:0,size:1,xp:0,resources:{food:0,wood:500,stone:100,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.05,health:1.1,community:1},immediate_variable_changes:{happiness:15,health:3,population:0,community:0,bureaucracy:0},tourism_revenue_per_week:0,enables_tourism:!1,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:50,power:0,wood:0,stone:0,metal:0,bureaucracy:0}},{id:"blacksmith",title:"⚒️ Blacksmith",type:"business",description:"Converts metal into tools for money. Make sure you have enough metal!",revenue_per_week:500,requirements:{gold:3e3,plots:[],employees:24,knowledge:0,size:1,xp:0,resources:{food:0,wood:250,stone:250,metal:500,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:.95},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},tourism_revenue_per_week:0,enables_tourism:!1,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:10,bureaucracy:0}},{id:"library",title:"📕 Library",type:"recreation",description:"Produces knowledge and happiness",revenue_per_week:0,knowledge_points_per_month:15,requirements:{gold:2e3,plots:[],employees:6,knowledge:0,size:1,xp:0,resources:{food:0,wood:225,stone:100,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.3,health:1,community:1},immediate_variable_changes:{happiness:15,health:0,population:0,community:0,bureaucracy:0},tourism_revenue_per_week:0,enables_tourism:!1,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:2,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0}},{id:"lumber_mill",title:"🏭 Lumber Mill",type:"industrial",description:"Increases wood production by 25%, has to be next to a tree farm",revenue_per_week:0,requirements:{gold:4e3,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:300,stone:100,metal:0,power:5,bureaucracy:0},adjacent_plots:["tree_farm"]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},tourism_revenue_per_week:0,enables_tourism:!1,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:50,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0}},{id:"general_store",title:"🛒 General Store",type:"business",description:"Makes the most money, requires power",revenue_per_week:600,requirements:{gold:5e3,plots:[],employees:24,knowledge:0,size:1,xp:0,resources:{food:0,wood:300,stone:200,metal:0,power:5,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.05,health:1,community:1},immediate_variable_changes:{happiness:20,health:0,population:0,community:0,bureaucracy:0},check_for_variety:!1,tourism_revenue_per_week:0,enables_tourism:!1,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:10,wood:0,stone:0,metal:0,bureaucracy:0}},{id:"healing_house",title:"🏥 Healing House",type:"medical",description:"Raises health, requires wood, stone, metals",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:1e4,plots:[],employees:18,knowledge:0,size:1,xp:0,resources:{food:0,wood:300,stone:1e3,metal:2e3,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.25,health:1.5,community:1},immediate_variable_changes:{happiness:5,health:75,population:0,community:0,bureaucracy:0},tourism_revenue_per_week:0,enables_tourism:!1,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:3,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0}},{id:"community_center",title:"🫶 Community Center",type:"recreation",description:"Improves community, makes people happier, costs money",revenue_per_week:0,requirements:{gold:19e3,plots:[],employees:12,knowledge:0,size:1,xp:0,resources:{food:0,wood:1e3,stone:200,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1.09,health:1,community:1},immediate_variable_changes:{happiness:50,health:15,population:0,community:0,bureaucracy:0},tourism_revenue_per_week:0,enables_tourism:!1,knowledge_points_per_month:0,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:0,wood:0,stone:0,metal:0,bureaucracy:0}},{id:"town_hall",title:"🗳️ Town Hall",type:"federal",description:"Governing, generates Bureaucracy, costs a lot of money to run",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:25e3,plots:[],employees:18,knowledge:500,size:1,xp:0,resources:{food:0,wood:450,stone:450,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:.92,health:1,community:1.1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},tourism_revenue_per_week:0,enables_tourism:!1,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:10},level:4,active_costs:{gold:1e3,power:0,wood:0,stone:0,metal:0,bureaucracy:0}},{id:"mine",title:"⛏️ Mine",type:"mine",description:"Produces metal and gold, requires power",revenue_per_week:0,requirements:{gold:3e4,plots:[],employees:64,knowledge:0,size:1,xp:0,resources:{food:0,wood:0,stone:1e3,metal:50,power:15,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:16,community:0,bureaucracy:0},tourism_revenue_per_week:0,styling:"",affordable:null,selected:null,check_for_variety:!1,enables_tourism:!1,knowledge_points_per_month:0,generated_resources:{food:0,wood:0,stone:125,metal:10,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:20,wood:0,stone:0,metal:0,bureaucracy:0}},{id:"academy",title:"🏫 Academy",type:"education",description:"Produces a lot of knowledge, requires high population",revenue_per_week:0,knowledge_points_per_month:90,requirements:{gold:3e4,plots:[],employees:32,knowledge:1e3,size:1,xp:0,resources:{food:0,wood:1e3,stone:1e3,metal:0,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:1,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},tourism_revenue_per_week:0,enables_tourism:!1,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:500,power:0,wood:0,stone:0,metal:0,bureaucracy:0}},{id:"bank",title:"🏦 Bank",type:"bank",description:"Rich get richer. Converts tourism gold to gold, knowledge to gold.",revenue_per_week:0,knowledge_points_per_month:0,requirements:{gold:75e3,plots:[],employees:32,knowledge:1e3,size:1,xp:0,resources:{food:0,wood:1e3,stone:1e4,metal:5e3,power:0,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:.8,health:1,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},tourism_revenue_per_week:0,enables_tourism:!1,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:0,power:75,wood:0,stone:0,metal:0,bureaucracy:0}},{id:"lab",title:"🧪 Laboratory",type:"science",description:"Designs things to help the city grow",revenue_per_week:0,knowledge_points_per_month:25,requirements:{gold:1e5,plots:[],employees:24,knowledge:1e4,size:1,xp:0,resources:{food:0,wood:0,stone:1e3,metal:3e3,power:15,bureaucracy:0},adjacent_plots:[]},effect_modifiers:{happiness:.98,health:.99,community:1},immediate_variable_changes:{happiness:0,health:0,population:0,community:0,bureaucracy:0},tourism_revenue_per_week:0,enables_tourism:!1,styling:"",affordable:null,selected:null,check_for_variety:!1,generated_resources:{food:0,wood:0,stone:0,metal:0,power:0,bureaucracy:0},level:4,active_costs:{gold:1250,power:75,wood:0,stone:0,metal:0,bureaucracy:0}}],No={empty_unusable:"rgba(21, 40, 20, 0.70)",empty_buildable:"#CBB827",residential:"#de7633",farm:"#6b8f49",lumber:"#8E805C",business:"#9273a5",recreation:"#5277b1",shop:"#d896d8",tourism:"#d896d8",education:"#BFBEEB",medical:"#4a5ba3",bank:"#8477be",federal:"#8477be",science:"#4a5ba3",mine:"#d9874a",quarry:"#868685",industrial:"#868615"};function Ji(t,e=!1){if(t<0)return t==-1?e?No.empty_buildable:No.empty_unusable:t==-2?No.recreation:No.empty_unusable;const n=oe[t];return No[n.type]}const Ks={lab:1,city_hall:1,bank:1,community_center:1,inn:1},Mt="plots_active_game_db",Uo="plots_user_db";function Sm(){const t=["York","London","Paris","Madrid","Rome","Berlin","Vienna","Prague","Warsaw","Oslo","Lisbon","Dublin","Brussels","Amsterdam","Stockholm","Copenhagen","Edinburgh","Moscow","Beijing","Tokyo","Seoul","Bangkok","Delhi","Mumbai","Shanghai","Sydney","Melbourne","Cairo","Dubai","Istanbul","Athens","Budapest","Reykjavik","Helsinki","Tallinn","Riga","Vilnius","Sofia","Bucharest","Belgrade","Zagreb","Sarajevo","Ljubljana","Skopje","Tirana","Podgorica","Thessaloniki","Barcelona","Valencia","Seville","Granada","Malaga","Lyon","Marseille","Toulouse","Nice","Nantes","Strasbourg","Bordeaux","Lille","Venice","Milan","Florence","Naples","Turin","Bologna","Perugia","Genoa","Pisa","Verona","Palermo","Catania","Bari","Padua","Cagliari","Krakow","Gdansk","Poznan","Wroclaw","Lodz","Katowice","Bialystok","Gdynia","Sopot","Bydgoszcz","Lublin","Szczecin","Gorzow","Zakopane","Olsztyn","Torun","Rzeszow","Kielce","Radom","Siedlce","Los","Angeles","Chicago","Houston","Phoenix","San","Antonio","San","Diego","Dallas","San","Jose","Austin","Jacksonville","Fort","Worth","Columbus","Charlotte","Liverpool","Manchester","Glasgow","Birmingham","Leeds","Sheffield","Newcastle","upon","Tyne","Bristol","Nottingham","Leicester","Coventry","Belfast","Reading","Cardiff","Southampton","Aberdeen","Plymouth","Stoke","Trent","Wolverhampton","Swansea","Sunderland","Portsmouth","Yorkshire","Hull","Blackpool","Bradford","Derby","Middlesbrough","Peterborough","Stockton","on","Tees","Brighton","Poole","Bournemouth","Huddersfield","Luton","Oxford","Norwich","Oldham","Cambridge","Exeter","Walsall","Colchester","Watford","Rotherham","Newport","Gateshead","Dundee","Gloucester","Solihull","High","Wycombe","Maidstone","Slough","Basildon","Chelmsford","Salford","Bedford","Stevenage","Woking","Grimsby","Birkenhead","Halifax","Warrington","Gillingham","Wigan","Worcester","Wakefield","Lincoln","Chester","Rochdale","Dagenham","Widnes","St","Albans","Mansfield","Sutton","Coldfield","Crawley","Wokingham","Barnsley","St","Helens","Harrogate","Redditch","Scunthorpe","Nuneaton","Chesterfield","Hemel","Hempstead","Bury","Guildford","Ashford","Telford","Newcastle","under","Lyme","Aylesbury","Halesowen","Shrewsbury","Lowestoft","Loughborough","Cheltenham","Kidderminster","Basingstoke","Rugby","Stourbridge","Southport","Kettering","Royal","Leamington","Spa","Beeston","Farnborough","Wrexham","Banbury","Weymouth","Wallsend","Dartford","Grays","Tamworth","Ashford","Esher","Folkestone","Tonbridge","Taunton","Runcorn","Macclesfield","Keighley","Bridgend","Barnstaple","Letchworth","Garden","City","Worthing","Gosport","Eastleigh","Staines","upon","Thames","Lisburn","Livingston","Bognor","Regis","Scarborough","Cannock","Margate","Chippenham","Rhondda","Maidenhead","Wellingborough","Washington","Camberley","Bootle","Lancaster","Llanelli","Chatham","Cheshunt","Bishop","Auckland","Nelson","Belper","Pontefract","Barry","Braintree","Crosby","Bury","St","Edmunds","Bexhill","Margate","Aldershot","Rowley","Regis","Hoddesdon","Sittingbourne","Rugby","Newquay","Falmouth","Stretford","Camberley","Beverley","Windsor","Rochester","Wickford","Diss","Farnham","Andover","Camberwell","Bermondsey","Lewisham","Wembley","Hayes","Harrow","Ilford","Enfield","Twickenham","Richmond","Brentwood","Edgware","Ealing","Greenwich","Bromley","Hounslow","Romford","Hillingdon","Uxbridge","Wandsworth","Sutton","Kingston","upon","Thames","Bexley","Havering","Barking"],e=["ia","ville","ton","land","field","burgh","ford","wood","port","bay","beach","peak","valley","ridge","hill","dale","island","cape","spring","grove","polis","side","view","shore","haven","place","gardens","plaza","square"],n=["New","Old","North","South","East","West","Upper","Lower","Little","Great","Saint","Fort","Mount","Lake","River","The Village of","The City of","The Town of","The Borough of","The County of","The State of","The Kingdom of","The Empire of","The Republic of","The Commonwealth of","The Union of","The Federation of","Rainy","Sunny","Windy","Frosty","Snowy"];function o(s){return s[Math.floor(Math.random()*s.length)]}let i=o(n),r=o(t),l=o(e),a="";return Math.random()>.5?a=i+" "+r+l:a=r+l,a}let Re=Xe(JSON.parse(localStorage.getItem(Mt)||"null")),nn=Xe(JSON.parse(localStorage.getItem(Uo)||"null"));Om();function Tm(t,e,n,o){let i={...wm};i.economyAndLaws.max_tax_rate=Cm[t],i.endGoal=e;let r=[];n=n.replace(/[^a-zA-Z0-9 ]/g,"").trim(),i.townInfo.name=n!=""?n:Sm(),i.difficulty=parseInt(t),o&&(i.devMode=!0,i.townInfo.gold=1e8,i.townInfo.happiness=1e7,i.townInfo.health=1e6,i.townInfo.knowledge_points=1e5,i.modifiers.happiness=1e4,i.modifiers.health=1e4,i.resources.food=1e6,i.resources.wood=1e6,i.resources.stone=1e6,i.resources.metal=1e6);const l=t=="0"?8:t=="1"?12:t=="2"?16:1,a=Math.floor(Math.random()*l/2)+1,s=Math.floor(Math.random()*l/2)+1;for(let u=0;u<l;u++){r.push([]);for(let f=0;f<l;f++){const c=Im(u,f,l);r[u][f]={id:Math.random().toString(36).substring(2,9),active:!1,x:u,y:f,type:c?-9:-1,typeId:"",mineralSource:c?!1:a===u&&s===f,water:a===u&&s===f?!1:c}}}i.plots=r,localStorage.reset=!1,localStorage.setItem(Mt,JSON.stringify(i)),Re.set(i),location.reload()}function Im(t,e,n){let o=.06;return t>0&&e>0&&t<n-1&&e<n-1&&(o*=2),(e==Math.round(n/2)||e==Math.round(n/2)-1)&&(o*=5),t==0&&e==0&&(o=0),Math.random()<o}function Om(){if(localStorage.getItem(Uo)===null){let t=km;t.username="my_username_click_to_change",localStorage.setItem(Uo,JSON.stringify(t)),nn.set(t)}}function Us(t,e){var n=Math.pow(10,e);t=parseFloat((t*n).toFixed(11));var o=Math.round(t)/n;return+o.toFixed(e)}function xi(t,e,n){let o=n.plots[t][e].type;if(n.plots[t][e].type=-1,n.plots[t][e].active=!1,o>-1&&(n.townInfo.population_count-=oe[o].immediate_variable_changes.population,n.townInfo.population_max-=oe[o].immediate_variable_changes.population,n.townInfo.happiness-=oe[o].immediate_variable_changes.happiness,n.townInfo.health-=oe[o].immediate_variable_changes.health,n.modifiers.happiness=Us(n.modifiers.happiness/oe[o].effect_modifiers.happiness,2),n.modifiers.health=Us(n.modifiers.health/oe[o].effect_modifiers.health,2),n.townInfo.employees-=oe[o].requirements.employees,(n.plotCounts[o]===void 0||n.plotCounts[o]===null)&&(n.plotCounts[o]=0),n.plotCounts[o]--,(oe[o].requirements.size??1)>1))for(let r=0;r<n.plots.length;r++)for(let l=0;l<n.plots[t].length;l++)n.plots[r][l].referencePlot!=null&&n.plots[r][l].referencePlot[0]===t&&n.plots[r][l].referencePlot[1]===e&&xi(r,l,n);n.lastChangeDay=n.environment.day,Re.set(n),localStorage.setItem(Mt,JSON.stringify(n))}function Ze(t,e){let n=[];for(let o=0;o<e.plots.length;o++)for(let i=0;i<e.plots[o].length;i++)e.plots[o][i].active==!1||e.plots[o][i]==null||e.plots[o][i].type===null||e.plots[o][i].type<0||(oe[e.plots[o][i].type].id===t||oe[e.plots[o][i].type].type===t)&&n.push(e.plots[o][i]);return n}function Yl(t=null){localStorage.removeItem(Mt),Re.set(null),t&&(localStorage.setItem(Mt,JSON.stringify(t)),Re.set(t)),location.reload()}function Pm(){Sc.update(t=>!t),localStorage.setItem("showOnlyAffordable",localStorage.getItem("showOnlyAffordable")==="true"?"false":"true")}let tt=Xe({visible:!1,x:0,y:0,isMineralSource:!1}),Ho=Xe({visible:!1});function Mm(t){nn.set(t),localStorage.setItem(Uo,JSON.stringify(t))}let fo=Xe({}),ji=Xe(!1),Pt=Xe(!1),pl=Xe(!0),Ys=Xe(!1),Zi=Xe(!1),Qi=Xe(!1),qi=Xe(!1),zi=localStorage.getItem("showCompletedAchievements")==="true"?Xe(!0):Xe(!1),Sc=localStorage.getItem("showOnlyAffordable")==="true"?Xe(!0):Xe(!1),Tc=localStorage.getItem("pauseMenuTab")==="game"?Xe("game"):Xe("achievements"),_l=Xe(750);const dt={unemployment_num:" people can't find jobs.",bored:"People are bored. Try making some new buildings.",vairety:"People don't like going to the same places over and over again. Try making some new buildings.",nobody_home:"Build some homes!",leave_town_num:" people left town because they were unhappy.",new_people_num:" new people moved to town.",people_want_to_move_in:"People want to move in. Build more homes.",high_tax_rate:"People are unhappy with the high tax rate.",very_high_tax_rate:"People are extremely unhappy with the high tax rate.",sickAndDying:"People are sick and dying.",sickAndLeaving:"People are sick and leaving town.",happiness_zero:"The town has fallen into chaos due to extreme unhappiness.",health_zero:"The town has fallen into chaos due to extreme sickness.",population_zero:"The town has been condemned due to lack of population.",win:{land:"You have filled the grid with buildings. You win!"},hospital_advantage:"Because you have a hospital, the town is staying healthier for longer!",notEnoughVariety:"People are sick of going to the same places over and over, add some variety!"},ht={land:{short_title:"Fill the grid",description_title:"You win by filling up all possible plots in the grid, and by meeting some requirements.",win:"You have filled the grid with buildings and met the requirements. Your citizens are happy, fulfilled, hard-working, and healthy. ",requirements:{0:{population_count:200,happiness:100,health:100,employment:1,knowledge:50,required_plots:["pub","small_school","community_center"]},1:{population_count:1e3,happiness:120,health:120,employment:1,knowledge:100,required_plots:["bank"]},2:{population_count:1e3,happiness:200,health:200,employment:1,knowledge:1e3,required_plots:["bank","city_hall"]}}},free_play:{short_title:"Quests",description_title:"Play for as long as you can and build the best city you can while completing quests."}},it=[{id:"happiness_at_300",title:"Happy Town",description:"One of your towns wins Happiest Town Award!",requirements:"Happiness reaches 300",icon:"😍",check:t=>t.townInfo.happiness>=300,prize:1e3},{id:"get_educated",title:"Get Educated",description:"The kids are finally able to learn!",requirements:"Build a school or library",icon:"📌",check:t=>Ze("small_school",t).length!==0||Ze("large_school",t).length!==0||Ze("library",t).length!==0,prize:1850},{id:"10k",title:"$10,000",description:"",requirements:"Gold reaches $10,000",icon:"﹩",check:t=>t.townInfo.gold>=1e4,prize:2500},{id:"25k",title:"$25,000",description:"",requirements:"Gold reaches $25,000",icon:"💵",check:t=>t.townInfo.gold>=25e3,prize:7500},{id:"stayin_frugal",title:"Stayin' Frugal!",description:"",requirements:"Gold under $50 with >=300 population",icon:"🚲",check:t=>t.townInfo.gold<=50&&t.townInfo.population_count>=300,prize:1e4},{id:"profits_to_the_moon",title:"Profits to the moon!",description:"Now you're making dough!",requirements:"Last month profit is over $10,000",icon:"🌛",check:t=>t.economyAndLaws.weeklyProfit>=1e4,prize:15e3},{id:"happily_dying",title:"Happily Dying!",description:"Not something to be proud of...",requirements:"Happiness > 275, health < 25",icon:"🌛",check:t=>t.townInfo.happiness>275&&t.townInfo.health<25,prize:2e4},{id:"long_game",title:"The Long Game",description:"So are you gonna win anytime soon?",requirements:"Still playing after 10,000 days, without winning. ",icon:"🐌",check:t=>t.endGameDetails.win===!1&&t.environment.day>1e4&&t.endGameDetails.msg==="",prize:25e3},{id:"tax_man",title:"Tax man",description:"Set the tax rate to the absolute max that the town will tolerate.",requirements:"",icon:"🙃",check:t=>{let e=Math.floor(t.economyAndLaws.max_tax_rate*20)/20;return t.economyAndLaws.tax_rate===e},prize:1500},{id:"good_job",title:"Good job",description:"Beat 'Fill the grid' with Normal difficulty in under 3,000 days.",requirements:"",icon:"👍",check:t=>t.endGameDetails.win===!0&&t.environment.day<=3e3&&t.difficulty===1&&t.endGoal==="land",prize:1e4},{id:"great_job",title:"Great job",description:"Beat 'Fill the grid' with Normal difficulty in under 2,000 days.",requirements:"",icon:"👏",check:t=>t.endGameDetails.win===!0&&t.environment.day<=2e3&&t.difficulty===1&&t.endGoal==="land",prize:45e3},{id:"superb_job",title:"SUPERB job",description:"Beat 'Fill the grid' with Normal difficulty in under 500 days.",requirements:"",icon:"👌",check:t=>t.endGameDetails.win===!0&&t.environment.day<=500&&t.difficulty===1&&t.endGoal==="land",prize:1e5},{id:"250k",title:"$250,000",description:"",requirements:"Gold reaches $250,000",icon:"💸",check:t=>t.townInfo.gold>=25e4,prize:5e4},{id:"banker",title:"Banker",description:"",requirements:"Build your first bank. ",icon:"🏦",check:t=>Ze("bank",t).length!==0,prize:5e3},{id:"community",title:"Community Center",description:"",requirements:"Build your first community center. ",icon:"❤️",check:t=>Ze("community_center",t).length!==0,prize:1e4},{id:"tourist_town",title:"Tourist Town",description:"Reach $50,000 in tourism gold without converting to gold.",requirements:"",icon:"🏝️",check:t=>t.townInfo.gold_from_tourism>=5e4,prize:5e4},{id:"1m",title:"MILLIONAIRE!",description:"",requirements:"Gold reaches $1,000,000",icon:"💰",check:t=>t.townInfo.gold>=1e6,prize:15e4}],Lt=[{message:"My liege, we need places to live! Build the first homes.",isComplete:t=>t.townInfo.population_max>0,goldReward:250},{message:"My liege, the village is going to run out of food soon. Build some farms. ",isComplete:t=>t.townInfo.employees>0,goldReward:500},{message:"My liege, lumber is needed for most buildings. Build a tree farm. ",isComplete:t=>Ze("tree_farm",t).length>0,goldReward:500},{message:"My liege, for the village to be successful, everyone needs a job. ",isComplete:t=>t.townInfo.employees>=t.townInfo.population_count,goldReward:250},{message:"My liege, the village will need stone and metals to expand. Build a quarry. ",isComplete:t=>Ze("quarry",t).length>0,goldReward:1e3},{message:"My liege, after working hard, the townspeople need a place to relax. Build a pub or a church. ",isComplete:t=>Ze("pub",t).length>0||Ze("church",t).length>0,goldReward:500},{message:"My liege, things are picking up but we will need far more money. Get weekly revenue to >=75 gold. ",isComplete:t=>t.economyAndLaws.weeklyProfit>=75,goldReward:1e3},{message:"My liege, many of the townspeople have kids that need an education. Build a schoolhouse.",isComplete:t=>Ze("schoolhouse",t).length>0,goldReward:850},{message:"My liege, the village is growing - woohoo! But we need to have more workers. Get the population to 100.",isComplete:t=>t.townInfo.population_count>=100,goldReward:1500},{message:"My liege, some advanced buildings require power. Start generating power with a waterwheel.",isComplete:t=>t.resources.power>0,goldReward:500},{message:"My liege, we found a great area that would be perfect for a vineyard. Build a vineyard.",isComplete:t=>Ze("vineyard",t).length>0,goldReward:500},{message:"My liege, to continue investing in knowledge & growth, we need a library. Build a library. ",isComplete:t=>Ze("library",t).length>0,goldReward:1e3},{message:"My liege, we need more metals. Find a good spot for a mine and build it. ",isComplete:t=>Ze("mine",t).length>0,goldReward:2e3}];function Ic(t){var e,n,o="";if(typeof t=="string"||typeof t=="number")o+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Ic(t[e]))&&(o&&(o+=" "),o+=n)}else for(n in t)t[n]&&(o&&(o+=" "),o+=n);return o}function Nm(){for(var t,e,n=0,o="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Ic(t))&&(o&&(o+=" "),o+=e);return o}const Xl="-";function Em(t){const e=Dm(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:o}=t;function i(l){const a=l.split(Xl);return a[0]===""&&a.length!==1&&a.shift(),Oc(a,e)||Rm(l)}function r(l,a){const s=n[l]||[];return a&&o[l]?[...s,...o[l]]:s}return{getClassGroupId:i,getConflictingClassGroupIds:r}}function Oc(t,e){var l;if(t.length===0)return e.classGroupId;const n=t[0],o=e.nextPart.get(n),i=o?Oc(t.slice(1),o):void 0;if(i)return i;if(e.validators.length===0)return;const r=t.join(Xl);return(l=e.validators.find(({validator:a})=>a(r)))==null?void 0:l.classGroupId}const Xs=/^\[(.+)\]$/;function Rm(t){if(Xs.test(t)){const e=Xs.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function Dm(t){const{theme:e,prefix:n}=t,o={nextPart:new Map,validators:[]};return Fm(Object.entries(t.classGroups),n).forEach(([r,l])=>{hl(l,o,r,e)}),o}function hl(t,e,n,o){t.forEach(i=>{if(typeof i=="string"){const r=i===""?e:Js(e,i);r.classGroupId=n;return}if(typeof i=="function"){if(Lm(i)){hl(i(o),e,n,o);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([r,l])=>{hl(l,Js(e,r),n,o)})})}function Js(t,e){let n=t;return e.split(Xl).forEach(o=>{n.nextPart.has(o)||n.nextPart.set(o,{nextPart:new Map,validators:[]}),n=n.nextPart.get(o)}),n}function Lm(t){return t.isThemeGetter}function Fm(t,e){return e?t.map(([n,o])=>{const i=o.map(r=>typeof r=="string"?e+r:typeof r=="object"?Object.fromEntries(Object.entries(r).map(([l,a])=>[e+l,a])):r);return[n,i]}):t}function jm(t){if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,o=new Map;function i(r,l){n.set(r,l),e++,e>t&&(e=0,o=n,n=new Map)}return{get(r){let l=n.get(r);if(l!==void 0)return l;if((l=o.get(r))!==void 0)return i(r,l),l},set(r,l){n.has(r)?n.set(r,l):i(r,l)}}}const Pc="!";function qm(t){const e=t.separator,n=e.length===1,o=e[0],i=e.length;return function(l){const a=[];let s=0,u=0,f;for(let _=0;_<l.length;_++){let y=l[_];if(s===0){if(y===o&&(n||l.slice(_,_+i)===e)){a.push(l.slice(u,_)),u=_+i;continue}if(y==="/"){f=_;continue}}y==="["?s++:y==="]"&&s--}const c=a.length===0?l:l.substring(u),d=c.startsWith(Pc),p=d?c.substring(1):c,h=f&&f>u?f-u:void 0;return{modifiers:a,hasImportantModifier:d,baseClassName:p,maybePostfixModifierPosition:h}}}function Bm(t){if(t.length<=1)return t;const e=[];let n=[];return t.forEach(o=>{o[0]==="["?(e.push(...n.sort(),o),n=[]):n.push(o)}),e.push(...n.sort()),e}function Gm(t){return{cache:jm(t.cacheSize),splitModifiers:qm(t),...Em(t)}}const Vm=/\s+/;function $m(t,e){const{splitModifiers:n,getClassGroupId:o,getConflictingClassGroupIds:i}=e,r=new Set;return t.trim().split(Vm).map(l=>{const{modifiers:a,hasImportantModifier:s,baseClassName:u,maybePostfixModifierPosition:f}=n(l);let c=o(f?u.substring(0,f):u),d=!!f;if(!c){if(!f)return{isTailwindClass:!1,originalClassName:l};if(c=o(u),!c)return{isTailwindClass:!1,originalClassName:l};d=!1}const p=Bm(a).join(":");return{isTailwindClass:!0,modifierId:s?p+Pc:p,classGroupId:c,originalClassName:l,hasPostfixModifier:d}}).reverse().filter(l=>{if(!l.isTailwindClass)return!0;const{modifierId:a,classGroupId:s,hasPostfixModifier:u}=l,f=a+s;return r.has(f)?!1:(r.add(f),i(s,u).forEach(c=>r.add(a+c)),!0)}).reverse().map(l=>l.originalClassName).join(" ")}function Hm(){let t=0,e,n,o="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Mc(e))&&(o&&(o+=" "),o+=n);return o}function Mc(t){if(typeof t=="string")return t;let e,n="";for(let o=0;o<t.length;o++)t[o]&&(e=Mc(t[o]))&&(n&&(n+=" "),n+=e);return n}function gl(t,...e){let n,o,i,r=l;function l(s){const u=e.reduce((f,c)=>c(f),t());return n=Gm(u),o=n.cache.get,i=n.cache.set,r=a,a(s)}function a(s){const u=o(s);if(u)return u;const f=$m(s,n);return i(s,f),f}return function(){return r(Hm.apply(null,arguments))}}function Qe(t){const e=n=>n[t]||[];return e.isThemeGetter=!0,e}const Nc=/^\[(?:([a-z-]+):)?(.+)\]$/i,Wm=/^\d+\/\d+$/,Km=new Set(["px","full","screen"]),Um=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Ym=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Xm=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Jm=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,xm=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function Zt(t){return On(t)||Km.has(t)||Wm.test(t)}function _n(t){return go(t,"length",ip)}function On(t){return!!t&&!Number.isNaN(Number(t))}function Ti(t){return go(t,"number",On)}function Eo(t){return!!t&&Number.isInteger(Number(t))}function Zm(t){return t.endsWith("%")&&On(t.slice(0,-1))}function qe(t){return Nc.test(t)}function hn(t){return Um.test(t)}const Qm=new Set(["length","size","percentage"]);function zm(t){return go(t,Qm,Ec)}function ep(t){return go(t,"position",Ec)}const tp=new Set(["image","url"]);function np(t){return go(t,tp,lp)}function op(t){return go(t,"",rp)}function Ro(){return!0}function go(t,e,n){const o=Nc.exec(t);return o?o[1]?typeof e=="string"?o[1]===e:e.has(o[1]):n(o[2]):!1}function ip(t){return Ym.test(t)&&!Xm.test(t)}function Ec(){return!1}function rp(t){return Jm.test(t)}function lp(t){return xm.test(t)}function bl(){const t=Qe("colors"),e=Qe("spacing"),n=Qe("blur"),o=Qe("brightness"),i=Qe("borderColor"),r=Qe("borderRadius"),l=Qe("borderSpacing"),a=Qe("borderWidth"),s=Qe("contrast"),u=Qe("grayscale"),f=Qe("hueRotate"),c=Qe("invert"),d=Qe("gap"),p=Qe("gradientColorStops"),h=Qe("gradientColorStopPositions"),_=Qe("inset"),y=Qe("margin"),b=Qe("opacity"),A=Qe("padding"),w=Qe("saturate"),D=Qe("scale"),V=Qe("sepia"),E=Qe("skew"),W=Qe("space"),B=Qe("translate"),j=()=>["auto","contain","none"],X=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto",qe,e],g=()=>[qe,e],C=()=>["",Zt,_n],N=()=>["auto",On,qe],F=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],L=()=>["solid","dashed","dotted","double","none"],K=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"],x=()=>["start","end","center","between","around","evenly","stretch"],J=()=>["","0",qe],m=()=>["auto","avoid","all","avoid-page","page","left","right","column"],R=()=>[On,Ti],H=()=>[On,qe];return{cacheSize:500,separator:":",theme:{colors:[Ro],spacing:[Zt,_n],blur:["none","",hn,qe],brightness:R(),borderColor:[t],borderRadius:["none","","full",hn,qe],borderSpacing:g(),borderWidth:C(),contrast:R(),grayscale:J(),hueRotate:H(),invert:J(),gap:g(),gradientColorStops:[t],gradientColorStopPositions:[Zm,_n],inset:P(),margin:P(),opacity:R(),padding:g(),saturate:R(),scale:R(),sepia:J(),skew:H(),space:g(),translate:g()},classGroups:{aspect:[{aspect:["auto","square","video",qe]}],container:["container"],columns:[{columns:[hn]}],"break-after":[{"break-after":m()}],"break-before":[{"break-before":m()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...F(),qe]}],overflow:[{overflow:X()}],"overflow-x":[{"overflow-x":X()}],"overflow-y":[{"overflow-y":X()}],overscroll:[{overscroll:j()}],"overscroll-x":[{"overscroll-x":j()}],"overscroll-y":[{"overscroll-y":j()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Eo,qe]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",qe]}],grow:[{grow:J()}],shrink:[{shrink:J()}],order:[{order:["first","last","none",Eo,qe]}],"grid-cols":[{"grid-cols":[Ro]}],"col-start-end":[{col:["auto",{span:["full",Eo,qe]},qe]}],"col-start":[{"col-start":N()}],"col-end":[{"col-end":N()}],"grid-rows":[{"grid-rows":[Ro]}],"row-start-end":[{row:["auto",{span:[Eo,qe]},qe]}],"row-start":[{"row-start":N()}],"row-end":[{"row-end":N()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",qe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",qe]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal",...x()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...x(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...x(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[A]}],px:[{px:[A]}],py:[{py:[A]}],ps:[{ps:[A]}],pe:[{pe:[A]}],pt:[{pt:[A]}],pr:[{pr:[A]}],pb:[{pb:[A]}],pl:[{pl:[A]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[W]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[W]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",qe,e]}],"min-w":[{"min-w":[qe,e,"min","max","fit"]}],"max-w":[{"max-w":[qe,e,"none","full","min","max","fit","prose",{screen:[hn]},hn]}],h:[{h:[qe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[qe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[qe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[qe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",hn,_n]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ti]}],"font-family":[{font:[Ro]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",qe]}],"line-clamp":[{"line-clamp":["none",On,Ti]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Zt,qe]}],"list-image":[{"list-image":["none",qe]}],"list-style-type":[{list:["none","disc","decimal",qe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...L(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Zt,_n]}],"underline-offset":[{"underline-offset":["auto",Zt,qe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:g()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",qe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",qe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...F(),ep]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",zm]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},np]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[h]}],"gradient-via-pos":[{via:[h]}],"gradient-to-pos":[{to:[h]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[r]}],"rounded-s":[{"rounded-s":[r]}],"rounded-e":[{"rounded-e":[r]}],"rounded-t":[{"rounded-t":[r]}],"rounded-r":[{"rounded-r":[r]}],"rounded-b":[{"rounded-b":[r]}],"rounded-l":[{"rounded-l":[r]}],"rounded-ss":[{"rounded-ss":[r]}],"rounded-se":[{"rounded-se":[r]}],"rounded-ee":[{"rounded-ee":[r]}],"rounded-es":[{"rounded-es":[r]}],"rounded-tl":[{"rounded-tl":[r]}],"rounded-tr":[{"rounded-tr":[r]}],"rounded-br":[{"rounded-br":[r]}],"rounded-bl":[{"rounded-bl":[r]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...L(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:L()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...L()]}],"outline-offset":[{"outline-offset":[Zt,qe]}],"outline-w":[{outline:[Zt,_n]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:C()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Zt,_n]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",hn,op]}],"shadow-color":[{shadow:[Ro]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":K()}],"bg-blend":[{"bg-blend":K()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[o]}],contrast:[{contrast:[s]}],"drop-shadow":[{"drop-shadow":["","none",hn,qe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[c]}],saturate:[{saturate:[w]}],sepia:[{sepia:[V]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[o]}],"backdrop-contrast":[{"backdrop-contrast":[s]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[c]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[V]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",qe]}],duration:[{duration:H()}],ease:[{ease:["linear","in","out","in-out",qe]}],delay:[{delay:H()}],animate:[{animate:["none","spin","ping","pulse","bounce",qe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[D]}],"scale-x":[{"scale-x":[D]}],"scale-y":[{"scale-y":[D]}],rotate:[{rotate:[Eo,qe]}],"translate-x":[{"translate-x":[B]}],"translate-y":[{"translate-y":[B]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",qe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",qe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":g()}],"scroll-mx":[{"scroll-mx":g()}],"scroll-my":[{"scroll-my":g()}],"scroll-ms":[{"scroll-ms":g()}],"scroll-me":[{"scroll-me":g()}],"scroll-mt":[{"scroll-mt":g()}],"scroll-mr":[{"scroll-mr":g()}],"scroll-mb":[{"scroll-mb":g()}],"scroll-ml":[{"scroll-ml":g()}],"scroll-p":[{"scroll-p":g()}],"scroll-px":[{"scroll-px":g()}],"scroll-py":[{"scroll-py":g()}],"scroll-ps":[{"scroll-ps":g()}],"scroll-pe":[{"scroll-pe":g()}],"scroll-pt":[{"scroll-pt":g()}],"scroll-pr":[{"scroll-pr":g()}],"scroll-pb":[{"scroll-pb":g()}],"scroll-pl":[{"scroll-pl":g()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",qe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Zt,_n,Ti]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}function sp(t,{cacheSize:e,prefix:n,separator:o,extend:i={},override:r={}}){Bi(t,"cacheSize",e),Bi(t,"prefix",n),Bi(t,"separator",o);for(const l in r)ap(t[l],r[l]);for(const l in i)up(t[l],i[l]);return t}function Bi(t,e,n){n!==void 0&&(t[e]=n)}function ap(t,e){if(e)for(const n in e)Bi(t,n,e[n])}function up(t,e){if(e)for(const n in e){const o=e[n];o!==void 0&&(t[n]=(t[n]||[]).concat(o))}}function fp(t,...e){return typeof t=="function"?gl(bl,t,...e):gl(()=>sp(bl(),t),...e)}const Rc=gl(bl);function cp(t){const e=t-1;return e*e*e+1}function Le(...t){return Rc(Nm(t))}const Ar=(t,e={y:-8,x:0,start:.95,duration:150})=>{const n=getComputedStyle(t),o=n.transform==="none"?"":n.transform,i=(l,a,s)=>{const[u,f]=a,[c,d]=s;return(l-u)/(f-u)*(d-c)+c},r=l=>Object.keys(l).reduce((a,s)=>l[s]===void 0?a:a+`${s}:${l[s]};`,"");return{duration:e.duration??200,delay:0,css:l=>{const a=i(l,[0,1],[e.y??5,0]),s=i(l,[0,1],[e.x??0,0]),u=i(l,[0,1],[e.start??.95,1]);return r({transform:`${o} translate3d(${s}px, ${a}px, 0) scale(${u})`,opacity:l})},easing:cp}};function st(t,e){if(e===void 0&&(e=0),t==null||t==null)return 0;t=parseFloat((t*Math.pow(10,e)).toFixed(11));var n=Math.round(t)/Math.pow(10,e);return+n.toFixed(e)}function Yr(t){return t<10?"0"+t:t}function dp(t){let e=Math.floor(t/1e3),n=Math.floor(e/60);e=e%60;let o=Math.floor(n/60);return n=n%60,`${Yr(o)}:${Yr(n)}:${Yr(e)}`}function be(t){return oe.findIndex(e=>e.id===t)}function xs(t){const n=new RegExp("\\p{Emoji}","u").exec(t);return n?n[0]:null}function vl(t,e=!0){let n=t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,");return e||(n=n.split(".")[0]),n}function vn(t){return t.charAt(0).toUpperCase()+t.slice(1)}function er(t,e=!0){return t=st(t/(e?3:1),2),t<0?`${t}`:`+${t}`}function Rn(t,e,n){if(t<0||t>=n.plots.length||e<0||e>=n.plots[0].length)return!1;let o=[[t-1,e],[t+1,e],[t,e-1],[t,e+1],[t-1,e-1],[t-1,e+1],[t+1,e-1],[t+1,e+1]];for(let i=0;i<o.length;i++){let r=o[i][0],l=o[i][1];if(r>=0&&r<n.plots.length&&l>=0&&l<n.plots[0].length&&n.plots[r][l].water&&n.plots[t][e].active==!0&&n.plots[t][e].type>0&&oe[n.plots[t][e].type].type=="farm")return!0}return!1}function mp(t,e,n,o){if(t<0||t>=n.plots.length||e<0||e>=n.plots[0].length)return!1;let i=[[t-1,e],[t+1,e],[t,e-1],[t,e+1],[t-1,e-1],[t-1,e+1],[t+1,e-1],[t+1,e+1]],r=!0;for(let l=0;l<o.length;l++){let a=!1;if(o[l]=="water"&&Rn(t,e,n)){a=!0;break}for(let s=0;s<i.length;s++){let u=i[s][0],f=i[s][1];if(u>=0&&u<n.plots.length&&f>=0&&f<n.plots[0].length&&n.plots[u][f].active==!0&&n.plots[u][f].type>0&&oe[n.plots[u][f].type].id==o[l]){a=!0;break}}if(!a){r=!1;break}}return r}function pp(t,e=0){let n=t*.85,o=t*1.15;return st(Math.random()*(o-n)+n,e)}const Zs=30;function _p(t){let e=!0;for(let n=0;n<t.plots.length;n++)for(let o=0;o<t.plots[n].length;o++)if(t.plots[n][o].active==!1){e=!1;break}return e}function hp(t){return t.endGameDetails!=null||(t.townInfo.happiness<70&&t.last_warning_happiness+365<t.environment.day&&(alert("Your citizens are very unhappy. You should do something about it."),t.last_warning_happiness=t.environment.day),t.townInfo.health<70&&t.last_warning_health+365<t.environment.day&&(alert("Your citizens are very unhealthy. You should do something about it."),t.last_warning_health=t.environment.day)),t}function gp(t,e,n){return t.resource_rate.food=_t(n.food-e.food,2),t.resource_rate.wood=_t(n.wood-e.wood,2),t.resource_rate.stone=_t(n.stone-e.stone,2),t.resource_rate.metal=_t(n.metal-e.metal,2),t.resource_rate.bureaucracy=_t(n.bureaucracy-e.bureaucracy,2),t}function bp(t){return t.hasBank,t}function vp(t){return t.hasCityHall,t}function yp(t){let e=t.economyAndLaws.knowledge_gold_market_rates[t.economyAndLaws.knowledge_gold_market_rates.length-1]||1;const n=-100,o=8,i=3;let r=Math.random(),l=Math.random()*i;if(r<.4){let a=Math.random()*o;Math.random()<.5?e+=a:e-=a}else Math.random()>.5?e+=l:e-=l;return e<n&&(e+=Math.random()*l/5),e=Math.round(e),t.economyAndLaws.knowledge_gold_market_rates=[...t.economyAndLaws.knowledge_gold_market_rates,e],t}function yl(t){return t.lab.active_experiment==null||t.lab.active_experiment.duration>0&&(t.lab.active_experiment.duration-=1),t}function wl(t){if(t.townInfo.happiness>150){let n=t.townInfo.happiness-150;t.townInfo.happiness-=n*.08,t.townInfo.happiness<150&&(t.townInfo.happiness=150)}if(t.townInfo.health>150){let n=t.townInfo.health-150;t.townInfo.health-=n*.08,t.townInfo.health<150&&(t.townInfo.health=150)}if(t.townInfo.community>150){let n=t.townInfo.community-150;t.townInfo.community-=n*.08,t.townInfo.community<150&&(t.townInfo.community=150)}return t}function wp(t){return t.townInfo.happiness*=t.modifiers.happiness,t.townInfo.health*=t.modifiers.health,t.townInfo.community*=t.modifiers.community,t}function Qs(t,e){let n=e.townInfo.happiness/100;n>2.25?n=2.25:n<.75&&(n=.75);let o=t*e.economyAndLaws.tax_rate*(e.townInfo.population_count/e.townInfo.population_max)*n;return _t(o,2)}function _t(t,e){e===void 0&&(e=0);let n=Math.pow(10,e);return t=parseFloat((t*n).toFixed(11)),+(Math.round(t)/n).toFixed(e)}function kp(t,e,n){let o,i,r,l,a,s;ae(t,_l,m=>n(6,o=m)),ae(t,Re,m=>n(7,i=m)),ae(t,ji,m=>n(8,r=m)),ae(t,Qi,m=>n(9,l=m)),ae(t,Pt,m=>n(10,a=m)),ae(t,nn,m=>n(11,s=m));function u(m){m=j(m),m=N(m),m=wp(m),m=P(m),m=L(m),m=h(m),m=yp(m),m=hp(m);const R={food:m.resources.food,wood:m.resources.wood,stone:m.resources.stone,metal:m.resources.metal,bureaucracy:m.resources.bureaucracy};m=b(m),m=A(m),m=w(m),m=y(m);const H={food:m.resources.food,wood:m.resources.wood,stone:m.resources.stone,metal:m.resources.metal,bureaucracy:m.resources.bureaucracy};return m=gp(m,R,H),m}function f(m){return m=x(m),m=bp(m),m=vp(m),m=_(m),m}function c(m){return m=g(m),m=wl(m),m=C(m),m=X(m),m}function d(m){return m=K(m),m=F(m),m=yl(m),m.overtime==!1&&(m=B(m),m=D(m)),m=W(m),m=V(m),m}function p(){Re.update(m=>{if(m==null||(m.tick++,m.tick%Zs!==0)||a||!m||m.endGameDetails.msg!==""&&m.overtime==!1||m.townInfo.population_count<=0)return m;try{return m.environment.day+=1,m.environment.day%7===0&&(m=u(m)),m.environment.day%30===0&&(m.townLog="",m=f(m)),m.environment.day%90===0&&(m=c(m)),window.location.search.includes("debug=true")&&console.log(m),m=d(m),m}catch(R){return console.error("Error in game loop:",R),m}})}Re.subscribe(m=>{m&&localStorage.setItem(Mt,JSON.stringify(m))}),nn.subscribe(m=>{m&&localStorage.setItem(Uo,JSON.stringify(m))});function h(m){let R=!1,H=!1,te=!1,ie=!1;for(let U=0;U<m.plots.length;U++)for(let ke=0;ke<m.plots[U].length;ke++)if(m.plots[U][ke].active==!0&&m.plots[U][ke].type>-1){let ce=oe[m.plots[U][ke].type].id;ce=="bank"&&(R=!0),ce=="city_hall"&&(te=!0),(ce=="small_hospital"||ce=="large_hospital")&&(H=!0),ce=="lab"&&(ie=!0)}return m.hasBank=R,m.hasHospital=H,m.hasCityHall=te,m.hasLab=ie,m}function _(m){const R=m.townInfo.productivity;let H=1;if(R>50&&R<100)H=1.08;else{if(R==100)return m;R>100&&R<125?H=.98:R>125&&R<150?H=.95:R>150&&R<175?H=.9:R>175&&R<200&&(H=.8)}const te=m.townInfo.happiness;return m.townInfo.happiness*=H,m=J(`Happiness has gone down by ${100-Math.round(m.townInfo.happiness/te*100)}% due to productivity.`,m),m}function y(m){const R=m.townInfo.population_count;return m.resources.food<R?(m.modifiers.happiness*=.95,m.modifiers.health*=.95,m=J("not enough food",m),m.resources.food=0):m.resources.food-=R,m.resources.food=Math.round(m.resources.food,2),m}function b(m){const R=m.townInfo.productivity;let H=1;R<50?H=.5:R>50&&R<100?H=.75:R==100?H=1:R>100&&R<125?H=1.25:R>125&&R<150?H=1.75:R>150&&R<175?H=3:R>175&&R<200&&(H=5),H=pp(H,2);let te=Ze("lumber_mill",m).length*1.25;te===0&&(te=1);for(let ie=0;ie<m.plots.length;ie++)for(let U=0;U<m.plots[ie].length;U++)if(m.plots[ie][U].active==!0&&m.plots[ie][U].type>-1){let ke=Rn(ie,U,m),ce=oe[m.plots[ie][U].type];ce.generated_resources!=null&&(m.resources.food+=Math.round(ce.generated_resources.food*H)*(ke?2:1),m.resources.wood+=Math.round(ce.generated_resources.wood*H*te),m.resources.stone+=Math.round(ce.generated_resources.stone*H),m.resources.metal+=_t(ce.generated_resources.metal*H,2),m.resources.bureaucracy+=Math.round(ce.generated_resources.bureaucracy*H))}return m.resources.food=Math.round(m.resources.food,2),m.resources.wood=Math.round(m.resources.wood,2),m.resources.stone=Math.round(m.resources.stone,2),m.resources.metal=_t(m.resources.metal,2),m.resources.bureaucracy=Math.round(m.resources.bureaucracy,2),m}function A(m){for(let R=0;R<m.plots.length;R++)for(let H=0;H<m.plots[R].length;H++)if(m.plots[R][H].active==!0&&m.plots[R][H].type>-1){let te=oe[m.plots[R][H].type],ie=!1;Object.keys(te.active_costs).forEach((U,ke)=>{const ce=Object.values(te.active_costs)[ke];U!="power"&&(m.townInfo.gold,U=="gold"?m.townInfo.gold<ce?ie=!0:m.townInfo.gold-=ce:m.resources[U]<ce?ie=!0:m.resources[U]-=ce)}),m.plots[R][H].disabled=ie,m.plots[R][H].disabled&&(m.townInfo.happiness-=1),ie&&oe[m.plots[R][H].type].type=="residential"&&(m.townInfo.population_count-=1,m.townInfo.employees-=1)}return m}function w(m){let R=0;for(let H=0;H<m.plots.length;H++)for(let te=0;te<m.plots[H].length;te++)if(m.plots[H][te].active==!0&&m.plots[H][te].type>-1){let ie=oe[m.plots[H][te].type];ie.active_costs.power!=0&&(R-=ie.active_costs.power),ie.generated_resources.power!=0&&(R+=ie.generated_resources.power)}return m.resource_rate.power=R,m.resources.power=R,m}function D(m){if(m.endGoal=="land"&&m.townInfo.population_max==m.townInfo.population_count&&m.townInfo.happiness>=ht.land.requirements[m.difficulty].happiness&&m.townInfo.health>=ht.land.requirements[m.difficulty].health&&m.townInfo.employees/m.townInfo.population_count>=ht.land.requirements[m.difficulty].employment&&m.townInfo.population_count>ht.land.requirements[m.difficulty].population_count&&m.townInfo.knowledge_points>=ht.land.requirements[m.difficulty].knowledge){let H=!0;for(let ie=0;ie<ht.land.requirements[m.difficulty].required_plots.length;ie++){let U=ht.land.requirements[m.difficulty].required_plots[ie];if(Ze(U,m)==!1){H=!1;break}}_p(m)&&H&&(m.endGameDetails={msg:ht.land.win,win:!0,still_playing:!1})}return m}function V(m){if(m.devMode)return m;let R=s;for(let H=0;H<it.length;H++)R.achievements.find(te=>te[0]==it[H].id)==null&&it[H].check(m)&&(R.achievements.push([it[H].id,m.environment.day,m.townInfo.name]),Pe(Pt,a=!0,a),Pe(Qi,l=!0,l));return nn.update(()=>R),m}let E=!1;function W(m){if(E)return m;for(let R=m.currentTutorialStep;R<m.currentTutorialStep+1;R++)if(Lt[R].isComplete(m)){Pe(ji,r=!0,r),E=!0,setTimeout(()=>{Pe(ji,r=!1,r),m.currentTutorialStep++,m.townInfo.gold+=Lt[R].goldReward,E=!1},1e3);break}return console.log(m.currentTutorialStep),m}function B(m){return m.townInfo.happiness<=3&&(m.townInfo.happiness=0,m.endGameDetails={msg:dt.happiness_zero,win:!1,still_playing:!1}),m.townInfo.health<=3&&(m.townInfo.health=3,m.endGameDetails={msg:dt.health_zero,win:!1,still_playing:!1}),m.townInfo.population_count<=0&&m.townInfo.population_max>0&&(m.townInfo.population_count=0,m.endGameDetails={msg:dt.population_zero,win:!1,still_playing:!1}),m}function j(m){let R=m.townInfo.population_count-m.townInfo.employees;return R>0&&(m.modifiers.happiness-=R*4e-4,m=J(R+dt.unemployment_num,m)),m}function X(m){let R=m.plotCounts.reduce((te,ie)=>te+ie,0),H=!1;for(let te=0;te<m.plotCounts.length;te++)m.plotCounts[te]==null||oe[te].check_for_variety!=!0||m.plotCounts[te]/R>=Am[m.difficulty]&&(oe[te].title,H=!0);return H&&(m=J(dt.notEnoughVariety,m),m.modifiers.happiness*.95),m}function P(m){let R=m.townInfo.health,H=0;return R>50||R<Math.random()*50&&(R<25?(m=J(dt.sickAndDying,m),m.townInfo.happiness-=10,H=Math.round(m.townInfo.population_count*.1)):(m=J(dt.sickAndLeaving,m),m.townInfo.happiness-=5,H=Math.round(m.townInfo.population_count*.05)),m.townInfo.population_count-=H,m.townInfo.employees-=H),m}function g(m){return m.lastChangeDay+(Math.random()*500+180)<m.environment.day&&m.townInfo.population_count>0&&(m.townInfo.population_count>0&&(m.townInfo.population_count-=1,m.townInfo.employees-=1,m.modifiers.happiness-=.01),m=J(dt.bored,m)),m}function C(m){if(m.townInfo.population_count<m.townInfo.population_max&&m.townInfo.happiness>50){let R=m.townInfo.population_max-m.townInfo.population_count,H=Math.round(m.townInfo.happiness/100*R);m.townInfo.population_count+=H,m.townInfo.population_count>m.townInfo.population_max&&(m.townInfo.population_count=m.townInfo.population_max),m.townInfo.employees+=H,m.townInfo.employees>m.townInfo.population_count&&(m.townInfo.employees=m.townInfo.population_count),m=J(H+dt.new_people_num,m)}if(m.townInfo.happiness<50&&m.townInfo.population_count>0){let R=Math.round((100-m.townInfo.happiness)/5);m.townInfo.population_count-=R,m.townInfo.employees>0&&(m.townInfo.employees-=R),m=J(R+dt.leave_town_num,m)}else m.townInfo.population_count==m.townInfo.population_max;return m}function N(m){const R=Math.random();if(m.economyAndLaws.tax_rate>m.economyAndLaws.max_tax_rate&&m.townInfo.population_count>0){const H=m.difficulty==0?.7:m.difficulty==1?.4:.2;R<H&&m.economyAndLaws.tax_rate>m.economyAndLaws.max_tax_rate*2?(m.modifiers.happiness-=.02,m=J(dt.very_high_tax_rate+"  ("+m.economyAndLaws.tax_rate+"%)",m)):(m.modifiers.happiness-=.01,m=J(dt.high_tax_rate+"  ("+m.economyAndLaws.tax_rate*100+"%)",m))}return m}function F(m){return m.townInfo.happiness<0&&(m.townInfo.happiness=0),m.townInfo.health<0&&(m.townInfo.health=0),m.townInfo.gold<0&&(m.townInfo.gold=0),m.townInfo.employees<0&&(m.townInfo.employees=0),m.townInfo.knowledge_points<0&&(m.townInfo.knowledge_points=0),m.townInfo.population_count<0&&(m.townInfo.population_count=0),m.townInfo.population_max==0&&m.townLog.indexOf(dt.nobody_home)==-1&&(m=J(dt.nobody_home,m)),m.economyAndLaws.weeklyProfit=_t(m.economyAndLaws.weeklyProfit,0),m.townInfo.employees>m.townInfo.population_count&&(m.townInfo.employees=m.townInfo.population_count),m.townInfo.gold=_t(m.townInfo.gold,0),m.townInfo.population_count=_t(m.townInfo.population_count,0),m.townInfo.employees=_t(m.townInfo.employees,0),m.townInfo.population_max=_t(m.townInfo.population_max,0),m.townInfo.happiness=_t(m.townInfo.happiness,2),m.townInfo.health=_t(m.townInfo.health,2),m.townInfo.happiness>m.maximums.happiness&&(m.townInfo.happiness=m.maximums.happiness),m.townInfo.health>m.maximums.health&&(m.townInfo.health=m.maximums.health),m.modifiers.happiness<.5&&(m.modifiers.happiness=.5),m.modifiers.health<.5&&(m.modifiers.health=.5),m.modifiers.community<.5&&(m.modifiers.community=.5),m}function L(m){if(m.modifiers.happiness>1){let R=m.modifiers.happiness-1;m.modifiers.happiness-=R*.08,m.modifiers.happiness<1.05&&(m.modifiers.happiness=1)}if(m.modifiers.community>1){let R=m.modifiers.community-1;m.modifiers.community-=R*.08,m.modifiers.community<1.05&&(m.modifiers.community=1)}if(m.modifiers.health>1)if(Ze("small_hospital",m).length>0||Ze("large_hospital",m).length>0){if(console.log(Ze("small_hospital",m).length),console.log(Ze("large_hospital",m).length),m.townLog.indexOf(dt.hospital_advantage)==-1)return m=J(dt.hospital_advantage,m);let R=m.modifiers.health-1;m.modifiers.health-=R*Ze("large_hospital",m)?.04:.06,m.modifiers.health<1.03&&(m.modifiers.health=1)}else{let R=m.modifiers.health-1;m.modifiers.health-=R*.08,m.modifiers.health<1.05&&(m.modifiers.health=1)}return m}function K(m){m.economyAndLaws.weeklyProfit=0;for(let R=0;R<m.plots.length;R++)for(let H=0;H<m.plots[R].length;H++)if(m.plots[R][H].active==!0&&m.plots[R][H].type>-1)if(m.plots[R][H].disabled===!0){const te=oe[m.plots[R][H].type],ie=Qs(te.revenue_per_week,m)*(m.townInfo.productivity/100)/7;m.townInfo.gold-=ie,m=J(`🚨 ${te.title} at ${H}, ${R} is disabled and costing you $${ie} a week!`,m)}else{const te=oe[m.plots[R][H].type];let ie=Qs(te.revenue_per_week,m)*(m.townInfo.productivity/100)/7,U=Rn(R,H,m);ie*=U?2:1,m.townInfo.gold+=ie,m.economyAndLaws.weeklyProfit+=ie*7,te.enables_tourism==!0&&(m.townInfo.gold_from_tourism+=te.tourism_revenue_per_week*m.economyAndLaws.tax_rate*m.townInfo.population_count)}return m}function x(m){for(let R=0;R<m.plots.length;R++)for(let H=0;H<m.plots[R].length;H++)if(m.plots[R][H].active==!0&&m.plots[R][H].type>-1){let te=oe[m.plots[R][H].type];te.knowledge_points_per_month!=null&&(m.townInfo.knowledge_points+=te.knowledge_points_per_month)}return m}function J(m,R){return R.townLog="Day "+i.environment.day+" - "+m+`
`+R.townLog,R}return wr(async()=>{for(;;)localStorage.reset=="true"&&(Yl(),localStorage.setItem("reset","false")),p(),await new Promise(m=>setTimeout(m,o/Zs))}),[p,yl,F,L,wl]}class Cp extends we{constructor(e){super(),ye(this,e,kp,null,fe,{mainGameThreadLoop:0,_checkExperiment:1,_fixVariables:2,_bringModifiersBackToNormal:3,_bringStatsBackToNormal:4},null,[-1,-1])}get mainGameThreadLoop(){return this.$$.ctx[0]}get _checkExperiment(){return yl}get _fixVariables(){return this.$$.ctx[2]}get _bringModifiersBackToNormal(){return this.$$.ctx[3]}get _bringStatsBackToNormal(){return wl}}function Ap(t){return t[t.length-1]}function gn(t){return Object.keys(t).reduce((e,n)=>t[n]===void 0?e:e+`${n}:${t[n]};`,"")}function Xr(t){return t?!0:void 0}gn({position:"absolute",opacity:0,"pointer-events":"none",margin:0,transform:"translateX(-100%)"});function Dc(t){if(t!==null)return t}function zs(t){function e(n){return n(t),()=>{}}return{subscribe:e}}function Jr(t){if(!Yo)return null;const e=document.querySelector(`[data-melt-id="${t}"]`);return Ct(e)?e:null}const jo=t=>new Proxy(t,{get(e,n,o){return Reflect.get(e,n,o)},ownKeys(e){return Reflect.ownKeys(e).filter(n=>n!=="action")}}),ea=t=>typeof t=="function";pt("empty");function pt(t,e){const{stores:n,action:o,returned:i}=e??{},r=(()=>{if(n&&i)return ln(n,a=>{const s=i(a);if(ea(s)){const u=(...f)=>jo({...s(...f),[`data-melt-${t}`]:"",action:o??et});return u.action=o??et,u}return jo({...s,[`data-melt-${t}`]:"",action:o??et})});{const a=i,s=a==null?void 0:a();if(ea(s)){const u=(...f)=>jo({...s(...f),[`data-melt-${t}`]:"",action:o??et});return u.action=o??et,zs(u)}return zs(jo({...s,[`data-melt-${t}`]:"",action:o??et}))}})(),l=o??(()=>{});return l.subscribe=r.subscribe,l}function ta(t,e){const{stores:n,returned:o,action:i}=e,{subscribe:r}=ln(n,a=>o(a).map(s=>jo({...s,[`data-melt-${t}`]:"",action:i??et}))),l=i??(()=>{});return l.subscribe=r,l}function Sr(t){const e=r=>r?`${t}-${r}`:t,n=r=>`data-melt-${t}${r?`-${r}`:""}`,o=r=>`[data-melt-${t}${r?`-${r}`:""}]`;return{name:e,attribute:n,selector:o,getEl:r=>document.querySelector(o(r))}}const Yo=typeof document<"u",Lc=t=>typeof t=="function";function Sp(t){return t instanceof Document}function Tr(t){return t instanceof Element}function Ct(t){return t instanceof HTMLElement}function na(t){return t.pointerType==="touch"}function Tp(t){return t!==null&&typeof t=="object"}function Ip(t){return Tp(t)&&"subscribe"in t}function Ht(...t){return(...e)=>{for(const n of t)typeof n=="function"&&n(...e)}}function et(){}function gt(t,e,n,o){const i=Array.isArray(e)?e:[e];return i.forEach(r=>t.addEventListener(r,n,o)),()=>{i.forEach(r=>t.removeEventListener(r,n,o))}}function wt(t,e,n,o){const i=Array.isArray(e)?e:[e];if(typeof n=="function"){const r=Pp(l=>n(l));return i.forEach(l=>t.addEventListener(l,r,o)),()=>{i.forEach(l=>t.removeEventListener(l,r,o))}}return()=>void 0}function Op(t){const e=t.currentTarget;if(!Ct(e))return null;const n=new CustomEvent(`m-${t.type}`,{detail:{originalEvent:t},cancelable:!0});return e.dispatchEvent(n),n}function Pp(t){return e=>{const n=Op(e);if(!(n!=null&&n.defaultPrevented))return t(e)}}function Ir(t,...e){const n={};for(const o of Object.keys(t))e.includes(o)||(n[o]=t[o]);return n}function tn(t){return{...t,get:()=>hc(t)}}tn.writable=function(t){const e=Xe(t);let n=t;return{subscribe:e.subscribe,set(o){e.set(o),n=o},update(o){const i=o(n);e.set(i),n=i},get(){return n}}};tn.derived=function(t,e){const n=new Map,o=()=>{const r=Array.isArray(t)?t.map(l=>l.get()):t.get();return e(r)};return{get:o,subscribe:r=>{const l=[];return(Array.isArray(t)?t:[t]).forEach(s=>{l.push(s.subscribe(()=>{r(o())}))}),r(o()),n.set(r,l),()=>{const s=n.get(r);if(s)for(const u of s)u();n.delete(r)}}}};const Or=(t,e)=>{const n=tn(t),o=(r,l)=>{n.update(a=>{const s=r(a);let u=s;return e&&(u=e({curr:a,next:s})),l==null||l(u),u})};return{...n,update:o,set:r=>{o(()=>r)}}};function Jl(t){return new Promise(e=>setTimeout(e,t))}let Mp="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",Np=(t=21)=>{let e="",n=t;for(;n--;)e+=Mp[Math.random()*64|0];return e};function Ep(){return Np(10)}function xl(t){return t.reduce((e,n)=>(e[n]=Ep(),e),{})}const ft={ALT:"Alt",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",CAPS_LOCK:"CapsLock",CONTROL:"Control",DELETE:"Delete",END:"End",ENTER:"Enter",ESCAPE:"Escape",F1:"F1",F10:"F10",F11:"F11",F12:"F12",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",HOME:"Home",META:"Meta",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp",SHIFT:"Shift",SPACE:" ",TAB:"Tab",CTRL:"Control",ASTERISK:"*",A:"a",P:"p"},Fc=()=>typeof window<"u";function Rp(){const t=navigator.userAgentData;return(t==null?void 0:t.platform)??navigator.platform}const jc=t=>Fc()&&t.test(Rp().toLowerCase()),Dp=()=>Fc()&&!!navigator.maxTouchPoints,Lp=()=>jc(/^mac/)&&!Dp(),Fp=()=>jc(/mac|iphone|ipad|ipod/i),jp=()=>Fp()&&!Lp();function qp(t){const e=t.slice();return e.sort(Gp),Bp(e)}function Bp(t){if(t.length<=1)return t.slice();const e=[];for(let o=0;o<t.length;o++){const i=t[o];for(;e.length>=2;){const r=e[e.length-1],l=e[e.length-2];if((r.x-l.x)*(i.y-l.y)>=(r.y-l.y)*(i.x-l.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let o=t.length-1;o>=0;o--){const i=t[o];for(;n.length>=2;){const r=n[n.length-1],l=n[n.length-2];if((r.x-l.x)*(i.y-l.y)>=(r.y-l.y)*(i.x-l.x))n.pop();else break}n.push(i)}return n.pop(),e.length==1&&n.length==1&&e[0].x==n[0].x&&e[0].y==n[0].y?e:e.concat(n)}function Gp(t,e){return t.x<e.x?-1:t.x>e.x?1:t.y<e.y?-1:t.y>e.y?1:0}function Vp(t){const e=t.getBoundingClientRect();return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.right,y:e.bottom},{x:e.left,y:e.bottom}]}function $p(t){const e=t.flatMap(n=>Vp(n));return qp(e)}function Hp(t,e){let n=!1;for(let o=0,i=e.length-1;o<e.length;i=o++){const r=e[o].x,l=e[o].y,a=e[i].x,s=e[i].y;l>t.y!=s>t.y&&t.x<(a-r)*(t.y-l)/(s-l)+r&&(n=!n)}return n}const xr="data-melt-scroll-lock";function oa(t,e){if(!t)return;const n=t.style.cssText;return Object.assign(t.style,e),()=>{t.style.cssText=n}}function Wp(t,e,n){if(!t)return;const o=t.style.getPropertyValue(e);return t.style.setProperty(e,n),()=>{o?t.style.setProperty(e,o):t.style.removeProperty(e)}}function Kp(t){const e=t.getBoundingClientRect().left;return Math.round(e)+t.scrollLeft?"paddingLeft":"paddingRight"}function Up(t){const e=document,n=e.defaultView??window,{documentElement:o,body:i}=e;if(i.hasAttribute(xr))return et;i.setAttribute(xr,"");const l=n.innerWidth-o.clientWidth,a=()=>Wp(o,"--scrollbar-width",`${l}px`),s=Kp(o),u=n.getComputedStyle(i)[s],f=()=>oa(i,{overflow:"hidden",[s]:`calc(${u} + ${l}px)`}),c=()=>{const{scrollX:p,scrollY:h,visualViewport:_}=n,y=(_==null?void 0:_.offsetLeft)??0,b=(_==null?void 0:_.offsetTop)??0,A=oa(i,{position:"fixed",overflow:"hidden",top:`${-(h-Math.floor(b))}px`,left:`${-(p-Math.floor(y))}px`,right:"0",[s]:`calc(${u} + ${l}px)`});return()=>{A==null||A(),n.scrollTo(p,h)}},d=[a(),jp()?c():f()];return()=>{d.forEach(p=>p==null?void 0:p()),i.removeAttribute(xr)}}const Yp=t=>{try{mm(t)}catch{return t}};function Ot(t,e){let n;const o=ln(t,r=>{n==null||n(),n=e(r)}).subscribe(et),i=()=>{o(),n==null||n()};return Yp(i),i}function Dn(t){const e={};return Object.keys(t).forEach(n=>{const o=n,i=t[o];e[o]=tn(Xe(i))}),e}function Xp(t){let e=t.parentElement;for(;Ct(e)&&!e.hasAttribute("data-portal");)e=e.parentElement;return e||"body"}function qc(t,e){return e!==void 0?e:Xp(t)==="body"?document.body:null}async function ia(t){const{prop:e,defaultEl:n}=t;if(await Promise.all([Jl(1),Hl]),e===void 0){n==null||n.focus();return}const o=Lc(e)?e(n):e;if(typeof o=="string"){const i=document.querySelector(o);if(!Ct(i))return;i.focus()}else Ct(o)&&o.focus()}function Zr(t,e,n,o){const i=(t-(isNaN(e)?0:e))%o;let r=Math.abs(i)*2>=o?t+Math.sign(i)*(o-Math.abs(i)):t-i;isNaN(e)?!isNaN(n)&&r>n&&(r=Math.floor(n/o)*o):r<e?r=e:!isNaN(n)&&r>n&&(r=e+Math.floor((n-e)/o)*o);const l=o.toString(),a=l.indexOf("."),s=a>=0?l.length-a:0;if(s>0){const u=Math.pow(10,s);r=Math.round(r*u)/u}return r}Nn(void 0,t=>{function e(o){t(o),t(void 0)}return gt(document,"pointerup",e,{passive:!1,capture:!0})});const Jp=Nn(void 0,t=>{function e(o){o&&o.key===ft.ESCAPE&&t(o),t(void 0)}return gt(document,"keydown",e,{passive:!1})}),ra=(t,e={})=>{let n=et;function o(i={}){n();const r={enabled:!0,...i},l=Ip(r.enabled)?r.enabled:Nn(r.enabled);n=Ht(Jp.subscribe(a=>{var u;if(!a||!hc(l))return;const s=a.target;if(!(!Ct(s)||s.closest("[data-escapee]")!==t)){if(a.preventDefault(),r.ignore){if(Lc(r.ignore)){if(r.ignore(a))return}else if(Array.isArray(r.ignore)&&r.ignore.length>0&&r.ignore.some(f=>f&&s===f))return}(u=r.handler)==null||u.call(r,a)}}),Ot(l,a=>{a?t.dataset.escapee="":delete t.dataset.escapee}))}return o(e),{update:o,destroy(){t.removeAttribute("data-escapee"),n()}}},yn=Math.min,St=Math.max,tr=Math.round,Ii=Math.floor,wn=t=>({x:t,y:t}),xp={left:"right",right:"left",bottom:"top",top:"bottom"},Zp={start:"end",end:"start"};function kl(t,e,n){return St(t,yn(e,n))}function bo(t,e){return typeof t=="function"?t(e):t}function kn(t){return t.split("-")[0]}function vo(t){return t.split("-")[1]}function Bc(t){return t==="x"?"y":"x"}function Zl(t){return t==="y"?"height":"width"}function ei(t){return["top","bottom"].includes(kn(t))?"y":"x"}function Ql(t){return Bc(ei(t))}function Qp(t,e,n){n===void 0&&(n=!1);const o=vo(t),i=Ql(t),r=Zl(i);let l=i==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return e.reference[r]>e.floating[r]&&(l=nr(l)),[l,nr(l)]}function zp(t){const e=nr(t);return[Cl(t),e,Cl(e)]}function Cl(t){return t.replace(/start|end/g,e=>Zp[e])}function e_(t,e,n){const o=["left","right"],i=["right","left"],r=["top","bottom"],l=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:o:e?o:i;case"left":case"right":return e?r:l;default:return[]}}function t_(t,e,n,o){const i=vo(t);let r=e_(kn(t),n==="start",o);return i&&(r=r.map(l=>l+"-"+i),e&&(r=r.concat(r.map(Cl)))),r}function nr(t){return t.replace(/left|right|bottom|top/g,e=>xp[e])}function n_(t){return{top:0,right:0,bottom:0,left:0,...t}}function Gc(t){return typeof t!="number"?n_(t):{top:t,right:t,bottom:t,left:t}}function or(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function la(t,e,n){let{reference:o,floating:i}=t;const r=ei(e),l=Ql(e),a=Zl(l),s=kn(e),u=r==="y",f=o.x+o.width/2-i.width/2,c=o.y+o.height/2-i.height/2,d=o[a]/2-i[a]/2;let p;switch(s){case"top":p={x:f,y:o.y-i.height};break;case"bottom":p={x:f,y:o.y+o.height};break;case"right":p={x:o.x+o.width,y:c};break;case"left":p={x:o.x-i.width,y:c};break;default:p={x:o.x,y:o.y}}switch(vo(e)){case"start":p[l]-=d*(n&&u?-1:1);break;case"end":p[l]+=d*(n&&u?-1:1);break}return p}const o_=async(t,e,n)=>{const{placement:o="bottom",strategy:i="absolute",middleware:r=[],platform:l}=n,a=r.filter(Boolean),s=await(l.isRTL==null?void 0:l.isRTL(e));let u=await l.getElementRects({reference:t,floating:e,strategy:i}),{x:f,y:c}=la(u,o,s),d=o,p={},h=0;for(let _=0;_<a.length;_++){const{name:y,fn:b}=a[_],{x:A,y:w,data:D,reset:V}=await b({x:f,y:c,initialPlacement:o,placement:d,strategy:i,middlewareData:p,rects:u,platform:l,elements:{reference:t,floating:e}});f=A??f,c=w??c,p={...p,[y]:{...p[y],...D}},V&&h<=50&&(h++,typeof V=="object"&&(V.placement&&(d=V.placement),V.rects&&(u=V.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:i}):V.rects),{x:f,y:c}=la(u,d,s)),_=-1)}return{x:f,y:c,placement:d,strategy:i,middlewareData:p}};async function zl(t,e){var n;e===void 0&&(e={});const{x:o,y:i,platform:r,rects:l,elements:a,strategy:s}=t,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:c="floating",altBoundary:d=!1,padding:p=0}=bo(e,t),h=Gc(p),y=a[d?c==="floating"?"reference":"floating":c],b=or(await r.getClippingRect({element:(n=await(r.isElement==null?void 0:r.isElement(y)))==null||n?y:y.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(a.floating)),boundary:u,rootBoundary:f,strategy:s})),A=c==="floating"?{...l.floating,x:o,y:i}:l.reference,w=await(r.getOffsetParent==null?void 0:r.getOffsetParent(a.floating)),D=await(r.isElement==null?void 0:r.isElement(w))?await(r.getScale==null?void 0:r.getScale(w))||{x:1,y:1}:{x:1,y:1},V=or(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:A,offsetParent:w,strategy:s}):A);return{top:(b.top-V.top+h.top)/D.y,bottom:(V.bottom-b.bottom+h.bottom)/D.y,left:(b.left-V.left+h.left)/D.x,right:(V.right-b.right+h.right)/D.x}}const i_=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:o,placement:i,rects:r,platform:l,elements:a,middlewareData:s}=e,{element:u,padding:f=0}=bo(t,e)||{};if(u==null)return{};const c=Gc(f),d={x:n,y:o},p=Ql(i),h=Zl(p),_=await l.getDimensions(u),y=p==="y",b=y?"top":"left",A=y?"bottom":"right",w=y?"clientHeight":"clientWidth",D=r.reference[h]+r.reference[p]-d[p]-r.floating[h],V=d[p]-r.reference[p],E=await(l.getOffsetParent==null?void 0:l.getOffsetParent(u));let W=E?E[w]:0;(!W||!await(l.isElement==null?void 0:l.isElement(E)))&&(W=a.floating[w]||r.floating[h]);const B=D/2-V/2,j=W/2-_[h]/2-1,X=yn(c[b],j),P=yn(c[A],j),g=X,C=W-_[h]-P,N=W/2-_[h]/2+B,F=kl(g,N,C),L=!s.arrow&&vo(i)!=null&&N!==F&&r.reference[h]/2-(N<g?X:P)-_[h]/2<0,K=L?N<g?N-g:N-C:0;return{[p]:d[p]+K,data:{[p]:F,centerOffset:N-F-K,...L&&{alignmentOffset:K}},reset:L}}}),r_=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,o;const{placement:i,middlewareData:r,rects:l,initialPlacement:a,platform:s,elements:u}=e,{mainAxis:f=!0,crossAxis:c=!0,fallbackPlacements:d,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:_=!0,...y}=bo(t,e);if((n=r.arrow)!=null&&n.alignmentOffset)return{};const b=kn(i),A=kn(a)===a,w=await(s.isRTL==null?void 0:s.isRTL(u.floating)),D=d||(A||!_?[nr(a)]:zp(a));!d&&h!=="none"&&D.push(...t_(a,_,h,w));const V=[a,...D],E=await zl(e,y),W=[];let B=((o=r.flip)==null?void 0:o.overflows)||[];if(f&&W.push(E[b]),c){const g=Qp(i,l,w);W.push(E[g[0]],E[g[1]])}if(B=[...B,{placement:i,overflows:W}],!W.every(g=>g<=0)){var j,X;const g=(((j=r.flip)==null?void 0:j.index)||0)+1,C=V[g];if(C)return{data:{index:g,overflows:B},reset:{placement:C}};let N=(X=B.filter(F=>F.overflows[0]<=0).sort((F,L)=>F.overflows[1]-L.overflows[1])[0])==null?void 0:X.placement;if(!N)switch(p){case"bestFit":{var P;const F=(P=B.map(L=>[L.placement,L.overflows.filter(K=>K>0).reduce((K,x)=>K+x,0)]).sort((L,K)=>L[1]-K[1])[0])==null?void 0:P[0];F&&(N=F);break}case"initialPlacement":N=a;break}if(i!==N)return{reset:{placement:N}}}return{}}}};async function l_(t,e){const{placement:n,platform:o,elements:i}=t,r=await(o.isRTL==null?void 0:o.isRTL(i.floating)),l=kn(n),a=vo(n),s=ei(n)==="y",u=["left","top"].includes(l)?-1:1,f=r&&s?-1:1,c=bo(e,t);let{mainAxis:d,crossAxis:p,alignmentAxis:h}=typeof c=="number"?{mainAxis:c,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...c};return a&&typeof h=="number"&&(p=a==="end"?h*-1:h),s?{x:p*f,y:d*u}:{x:d*u,y:p*f}}const s_=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,o;const{x:i,y:r,placement:l,middlewareData:a}=e,s=await l_(e,t);return l===((n=a.offset)==null?void 0:n.placement)&&(o=a.arrow)!=null&&o.alignmentOffset?{}:{x:i+s.x,y:r+s.y,data:{...s,placement:l}}}}},a_=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:o,placement:i}=e,{mainAxis:r=!0,crossAxis:l=!1,limiter:a={fn:y=>{let{x:b,y:A}=y;return{x:b,y:A}}},...s}=bo(t,e),u={x:n,y:o},f=await zl(e,s),c=ei(kn(i)),d=Bc(c);let p=u[d],h=u[c];if(r){const y=d==="y"?"top":"left",b=d==="y"?"bottom":"right",A=p+f[y],w=p-f[b];p=kl(A,p,w)}if(l){const y=c==="y"?"top":"left",b=c==="y"?"bottom":"right",A=h+f[y],w=h-f[b];h=kl(A,h,w)}const _=a.fn({...e,[d]:p,[c]:h});return{..._,data:{x:_.x-n,y:_.y-o}}}}},u_=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){const{placement:n,rects:o,platform:i,elements:r}=e,{apply:l=()=>{},...a}=bo(t,e),s=await zl(e,a),u=kn(n),f=vo(n),c=ei(n)==="y",{width:d,height:p}=o.floating;let h,_;u==="top"||u==="bottom"?(h=u,_=f===(await(i.isRTL==null?void 0:i.isRTL(r.floating))?"start":"end")?"left":"right"):(_=u,h=f==="end"?"top":"bottom");const y=p-s[h],b=d-s[_],A=!e.middlewareData.shift;let w=y,D=b;if(c){const E=d-s.left-s.right;D=f||A?yn(b,E):E}else{const E=p-s.top-s.bottom;w=f||A?yn(y,E):E}if(A&&!f){const E=St(s.left,0),W=St(s.right,0),B=St(s.top,0),j=St(s.bottom,0);c?D=d-2*(E!==0||W!==0?E+W:St(s.left,s.right)):w=p-2*(B!==0||j!==0?B+j:St(s.top,s.bottom))}await l({...e,availableWidth:D,availableHeight:w});const V=await i.getDimensions(r.floating);return d!==V.width||p!==V.height?{reset:{rects:!0}}:{}}}};function Cn(t){return Vc(t)?(t.nodeName||"").toLowerCase():"#document"}function Tt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function sn(t){var e;return(e=(Vc(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Vc(t){return t instanceof Node||t instanceof Tt(t).Node}function on(t){return t instanceof Element||t instanceof Tt(t).Element}function Ut(t){return t instanceof HTMLElement||t instanceof Tt(t).HTMLElement}function sa(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Tt(t).ShadowRoot}function ti(t){const{overflow:e,overflowX:n,overflowY:o,display:i}=Nt(t);return/auto|scroll|overlay|hidden|clip/.test(e+o+n)&&!["inline","contents"].includes(i)}function f_(t){return["table","td","th"].includes(Cn(t))}function es(t){const e=ts(),n=Nt(t);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(o=>(n.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(n.contain||"").includes(o))}function c_(t){let e=co(t);for(;Ut(e)&&!Pr(e);){if(es(e))return e;e=co(e)}return null}function ts(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Pr(t){return["html","body","#document"].includes(Cn(t))}function Nt(t){return Tt(t).getComputedStyle(t)}function Mr(t){return on(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function co(t){if(Cn(t)==="html")return t;const e=t.assignedSlot||t.parentNode||sa(t)&&t.host||sn(t);return sa(e)?e.host:e}function $c(t){const e=co(t);return Pr(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ut(e)&&ti(e)?e:$c(e)}function Xo(t,e,n){var o;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=$c(t),r=i===((o=t.ownerDocument)==null?void 0:o.body),l=Tt(i);return r?e.concat(l,l.visualViewport||[],ti(i)?i:[],l.frameElement&&n?Xo(l.frameElement):[]):e.concat(i,Xo(i,[],n))}function Hc(t){const e=Nt(t);let n=parseFloat(e.width)||0,o=parseFloat(e.height)||0;const i=Ut(t),r=i?t.offsetWidth:n,l=i?t.offsetHeight:o,a=tr(n)!==r||tr(o)!==l;return a&&(n=r,o=l),{width:n,height:o,$:a}}function ns(t){return on(t)?t:t.contextElement}function ao(t){const e=ns(t);if(!Ut(e))return wn(1);const n=e.getBoundingClientRect(),{width:o,height:i,$:r}=Hc(e);let l=(r?tr(n.width):n.width)/o,a=(r?tr(n.height):n.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!a||!Number.isFinite(a))&&(a=1),{x:l,y:a}}const d_=wn(0);function Wc(t){const e=Tt(t);return!ts()||!e.visualViewport?d_:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function m_(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Tt(t)?!1:e}function Ln(t,e,n,o){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),r=ns(t);let l=wn(1);e&&(o?on(o)&&(l=ao(o)):l=ao(t));const a=m_(r,n,o)?Wc(r):wn(0);let s=(i.left+a.x)/l.x,u=(i.top+a.y)/l.y,f=i.width/l.x,c=i.height/l.y;if(r){const d=Tt(r),p=o&&on(o)?Tt(o):o;let h=d,_=h.frameElement;for(;_&&o&&p!==h;){const y=ao(_),b=_.getBoundingClientRect(),A=Nt(_),w=b.left+(_.clientLeft+parseFloat(A.paddingLeft))*y.x,D=b.top+(_.clientTop+parseFloat(A.paddingTop))*y.y;s*=y.x,u*=y.y,f*=y.x,c*=y.y,s+=w,u+=D,h=Tt(_),_=h.frameElement}}return or({width:f,height:c,x:s,y:u})}const p_=[":popover-open",":modal"];function Kc(t){return p_.some(e=>{try{return t.matches(e)}catch{return!1}})}function __(t){let{elements:e,rect:n,offsetParent:o,strategy:i}=t;const r=i==="fixed",l=sn(o),a=e?Kc(e.floating):!1;if(o===l||a&&r)return n;let s={scrollLeft:0,scrollTop:0},u=wn(1);const f=wn(0),c=Ut(o);if((c||!c&&!r)&&((Cn(o)!=="body"||ti(l))&&(s=Mr(o)),Ut(o))){const d=Ln(o);u=ao(o),f.x=d.x+o.clientLeft,f.y=d.y+o.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-s.scrollLeft*u.x+f.x,y:n.y*u.y-s.scrollTop*u.y+f.y}}function h_(t){return Array.from(t.getClientRects())}function Uc(t){return Ln(sn(t)).left+Mr(t).scrollLeft}function g_(t){const e=sn(t),n=Mr(t),o=t.ownerDocument.body,i=St(e.scrollWidth,e.clientWidth,o.scrollWidth,o.clientWidth),r=St(e.scrollHeight,e.clientHeight,o.scrollHeight,o.clientHeight);let l=-n.scrollLeft+Uc(t);const a=-n.scrollTop;return Nt(o).direction==="rtl"&&(l+=St(e.clientWidth,o.clientWidth)-i),{width:i,height:r,x:l,y:a}}function b_(t,e){const n=Tt(t),o=sn(t),i=n.visualViewport;let r=o.clientWidth,l=o.clientHeight,a=0,s=0;if(i){r=i.width,l=i.height;const u=ts();(!u||u&&e==="fixed")&&(a=i.offsetLeft,s=i.offsetTop)}return{width:r,height:l,x:a,y:s}}function v_(t,e){const n=Ln(t,!0,e==="fixed"),o=n.top+t.clientTop,i=n.left+t.clientLeft,r=Ut(t)?ao(t):wn(1),l=t.clientWidth*r.x,a=t.clientHeight*r.y,s=i*r.x,u=o*r.y;return{width:l,height:a,x:s,y:u}}function aa(t,e,n){let o;if(e==="viewport")o=b_(t,n);else if(e==="document")o=g_(sn(t));else if(on(e))o=v_(e,n);else{const i=Wc(t);o={...e,x:e.x-i.x,y:e.y-i.y}}return or(o)}function Yc(t,e){const n=co(t);return n===e||!on(n)||Pr(n)?!1:Nt(n).position==="fixed"||Yc(n,e)}function y_(t,e){const n=e.get(t);if(n)return n;let o=Xo(t,[],!1).filter(a=>on(a)&&Cn(a)!=="body"),i=null;const r=Nt(t).position==="fixed";let l=r?co(t):t;for(;on(l)&&!Pr(l);){const a=Nt(l),s=es(l);!s&&a.position==="fixed"&&(i=null),(r?!s&&!i:!s&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||ti(l)&&!s&&Yc(t,l))?o=o.filter(f=>f!==l):i=a,l=co(l)}return e.set(t,o),o}function w_(t){let{element:e,boundary:n,rootBoundary:o,strategy:i}=t;const l=[...n==="clippingAncestors"?y_(e,this._c):[].concat(n),o],a=l[0],s=l.reduce((u,f)=>{const c=aa(e,f,i);return u.top=St(c.top,u.top),u.right=yn(c.right,u.right),u.bottom=yn(c.bottom,u.bottom),u.left=St(c.left,u.left),u},aa(e,a,i));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}}function k_(t){const{width:e,height:n}=Hc(t);return{width:e,height:n}}function C_(t,e,n){const o=Ut(e),i=sn(e),r=n==="fixed",l=Ln(t,!0,r,e);let a={scrollLeft:0,scrollTop:0};const s=wn(0);if(o||!o&&!r)if((Cn(e)!=="body"||ti(i))&&(a=Mr(e)),o){const c=Ln(e,!0,r,e);s.x=c.x+e.clientLeft,s.y=c.y+e.clientTop}else i&&(s.x=Uc(i));const u=l.left+a.scrollLeft-s.x,f=l.top+a.scrollTop-s.y;return{x:u,y:f,width:l.width,height:l.height}}function ua(t,e){return!Ut(t)||Nt(t).position==="fixed"?null:e?e(t):t.offsetParent}function Xc(t,e){const n=Tt(t);if(!Ut(t)||Kc(t))return n;let o=ua(t,e);for(;o&&f_(o)&&Nt(o).position==="static";)o=ua(o,e);return o&&(Cn(o)==="html"||Cn(o)==="body"&&Nt(o).position==="static"&&!es(o))?n:o||c_(t)||n}const A_=async function(t){const e=this.getOffsetParent||Xc,n=this.getDimensions;return{reference:C_(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,...await n(t.floating)}}};function S_(t){return Nt(t).direction==="rtl"}const T_={convertOffsetParentRelativeRectToViewportRelativeRect:__,getDocumentElement:sn,getClippingRect:w_,getOffsetParent:Xc,getElementRects:A_,getClientRects:h_,getDimensions:k_,getScale:ao,isElement:on,isRTL:S_};function I_(t,e){let n=null,o;const i=sn(t);function r(){var a;clearTimeout(o),(a=n)==null||a.disconnect(),n=null}function l(a,s){a===void 0&&(a=!1),s===void 0&&(s=1),r();const{left:u,top:f,width:c,height:d}=t.getBoundingClientRect();if(a||e(),!c||!d)return;const p=Ii(f),h=Ii(i.clientWidth-(u+c)),_=Ii(i.clientHeight-(f+d)),y=Ii(u),A={rootMargin:-p+"px "+-h+"px "+-_+"px "+-y+"px",threshold:St(0,yn(1,s))||1};let w=!0;function D(V){const E=V[0].intersectionRatio;if(E!==s){if(!w)return l();E?l(!1,E):o=setTimeout(()=>{l(!1,1e-7)},100)}w=!1}try{n=new IntersectionObserver(D,{...A,root:i.ownerDocument})}catch{n=new IntersectionObserver(D,A)}n.observe(t)}return l(!0),r}function O_(t,e,n,o){o===void 0&&(o={});const{ancestorScroll:i=!0,ancestorResize:r=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:s=!1}=o,u=ns(t),f=i||r?[...u?Xo(u):[],...Xo(e)]:[];f.forEach(b=>{i&&b.addEventListener("scroll",n,{passive:!0}),r&&b.addEventListener("resize",n)});const c=u&&a?I_(u,n):null;let d=-1,p=null;l&&(p=new ResizeObserver(b=>{let[A]=b;A&&A.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var w;(w=p)==null||w.observe(e)})),n()}),u&&!s&&p.observe(u),p.observe(e));let h,_=s?Ln(t):null;s&&y();function y(){const b=Ln(t);_&&(b.x!==_.x||b.y!==_.y||b.width!==_.width||b.height!==_.height)&&n(),_=b,h=requestAnimationFrame(y)}return n(),()=>{var b;f.forEach(A=>{i&&A.removeEventListener("scroll",n),r&&A.removeEventListener("resize",n)}),c==null||c(),(b=p)==null||b.disconnect(),p=null,s&&cancelAnimationFrame(h)}}const P_=a_,M_=r_,N_=u_,E_=i_,R_=(t,e,n)=>{const o=new Map,i={platform:T_,...n},r={...i.platform,_c:o};return o_(t,e,{...i,platform:r})},D_={strategy:"absolute",placement:"top",gutter:5,flip:!0,sameWidth:!1,overflowPadding:8},L_={bottom:"rotate(45deg)",left:"rotate(135deg)",top:"rotate(225deg)",right:"rotate(315deg)"};function F_(t,e,n={}){if(!e||!t||n===null)return{destroy:et};const o={...D_,...n},i=e.querySelector("[data-arrow=true]"),r=[];o.flip&&r.push(M_({boundary:o.boundary,padding:o.overflowPadding}));const l=Ct(i)?i.offsetHeight/2:0;if(o.gutter||o.offset){const s=o.gutter?{mainAxis:o.gutter}:o.offset;(s==null?void 0:s.mainAxis)!=null&&(s.mainAxis+=l),r.push(s_(s))}r.push(P_({boundary:o.boundary,crossAxis:o.overlap,padding:o.overflowPadding})),i&&r.push(E_({element:i,padding:8})),r.push(N_({padding:o.overflowPadding,apply({rects:s,availableHeight:u,availableWidth:f}){o.sameWidth&&Object.assign(e.style,{width:`${Math.round(s.reference.width)}px`,minWidth:"unset"}),o.fitViewport&&Object.assign(e.style,{maxWidth:`${f}px`,maxHeight:`${u}px`})}}));function a(){if(!t||!e)return;const{placement:s,strategy:u}=o;R_(t,e,{placement:s,middleware:r,strategy:u}).then(f=>{const c=Math.round(f.x),d=Math.round(f.y);if(Object.assign(e.style,{position:o.strategy,top:`${d}px`,left:`${c}px`}),Ct(i)&&f.middlewareData.arrow){const{x:p,y:h}=f.middlewareData.arrow,_=f.placement.split("-")[0];Object.assign(i.style,{position:"absolute",left:p!=null?`${p}px`:"",top:h!=null?`${h}px`:"",[_]:`calc(100% - ${l}px)`,transform:L_[_],backgroundColor:"inherit",zIndex:"inherit"})}return f})}return Object.assign(e.style,{position:o.strategy}),{destroy:O_(t,e,a)}}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Jc=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],ir=Jc.join(","),xc=typeof Element>"u",Fn=xc?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,rr=!xc&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},lr=function t(e,n){var o;n===void 0&&(n=!0);var i=e==null||(o=e.getAttribute)===null||o===void 0?void 0:o.call(e,"inert"),r=i===""||i==="true",l=r||n&&e&&t(e.parentNode);return l},j_=function(e){var n,o=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"contenteditable");return o===""||o==="true"},Zc=function(e,n,o){if(lr(e))return[];var i=Array.prototype.slice.apply(e.querySelectorAll(ir));return n&&Fn.call(e,ir)&&i.unshift(e),i=i.filter(o),i},Qc=function t(e,n,o){for(var i=[],r=Array.from(e);r.length;){var l=r.shift();if(!lr(l,!1))if(l.tagName==="SLOT"){var a=l.assignedElements(),s=a.length?a:l.children,u=t(s,!0,o);o.flatten?i.push.apply(i,u):i.push({scopeParent:l,candidates:u})}else{var f=Fn.call(l,ir);f&&o.filter(l)&&(n||!e.includes(l))&&i.push(l);var c=l.shadowRoot||typeof o.getShadowRoot=="function"&&o.getShadowRoot(l),d=!lr(c,!1)&&(!o.shadowRootFilter||o.shadowRootFilter(l));if(c&&d){var p=t(c===!0?l.children:c.children,!0,o);o.flatten?i.push.apply(i,p):i.push({scopeParent:l,candidates:p})}else r.unshift.apply(r,l.children)}}return i},zc=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},In=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||j_(e))&&!zc(e)?0:e.tabIndex},q_=function(e,n){var o=In(e);return o<0&&n&&!zc(e)?0:o},B_=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},ed=function(e){return e.tagName==="INPUT"},G_=function(e){return ed(e)&&e.type==="hidden"},V_=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(o){return o.tagName==="SUMMARY"});return n},$_=function(e,n){for(var o=0;o<e.length;o++)if(e[o].checked&&e[o].form===n)return e[o]},H_=function(e){if(!e.name)return!0;var n=e.form||rr(e),o=function(a){return n.querySelectorAll('input[type="radio"][name="'+a+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=o(window.CSS.escape(e.name));else try{i=o(e.name)}catch(l){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",l.message),!1}var r=$_(i,e.form);return!r||r===e},W_=function(e){return ed(e)&&e.type==="radio"},K_=function(e){return W_(e)&&!H_(e)},U_=function(e){var n,o=e&&rr(e),i=(n=o)===null||n===void 0?void 0:n.host,r=!1;if(o&&o!==e){var l,a,s;for(r=!!((l=i)!==null&&l!==void 0&&(a=l.ownerDocument)!==null&&a!==void 0&&a.contains(i)||e!=null&&(s=e.ownerDocument)!==null&&s!==void 0&&s.contains(e));!r&&i;){var u,f,c;o=rr(i),i=(u=o)===null||u===void 0?void 0:u.host,r=!!((f=i)!==null&&f!==void 0&&(c=f.ownerDocument)!==null&&c!==void 0&&c.contains(i))}}return r},fa=function(e){var n=e.getBoundingClientRect(),o=n.width,i=n.height;return o===0&&i===0},Y_=function(e,n){var o=n.displayCheck,i=n.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var r=Fn.call(e,"details>summary:first-of-type"),l=r?e.parentElement:e;if(Fn.call(l,"details:not([open]) *"))return!0;if(!o||o==="full"||o==="legacy-full"){if(typeof i=="function"){for(var a=e;e;){var s=e.parentElement,u=rr(e);if(s&&!s.shadowRoot&&i(s)===!0)return fa(e);e.assignedSlot?e=e.assignedSlot:!s&&u!==e.ownerDocument?e=u.host:e=s}e=a}if(U_(e))return!e.getClientRects().length;if(o!=="legacy-full")return!0}else if(o==="non-zero-area")return fa(e);return!1},X_=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var o=0;o<n.children.length;o++){var i=n.children.item(o);if(i.tagName==="LEGEND")return Fn.call(n,"fieldset[disabled] *")?!0:!i.contains(e)}return!0}n=n.parentElement}return!1},sr=function(e,n){return!(n.disabled||lr(n)||G_(n)||Y_(n,e)||V_(n)||X_(n))},Al=function(e,n){return!(K_(n)||In(n)<0||!sr(e,n))},J_=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},x_=function t(e){var n=[],o=[];return e.forEach(function(i,r){var l=!!i.scopeParent,a=l?i.scopeParent:i,s=q_(a,l),u=l?t(i.candidates):a;s===0?l?n.push.apply(n,u):n.push(a):o.push({documentOrder:r,tabIndex:s,item:i,isScope:l,content:u})}),o.sort(B_).reduce(function(i,r){return r.isScope?i.push.apply(i,r.content):i.push(r.content),i},[]).concat(n)},Z_=function(e,n){n=n||{};var o;return n.getShadowRoot?o=Qc([e],n.includeContainer,{filter:Al.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:J_}):o=Zc(e,n.includeContainer,Al.bind(null,n)),x_(o)},Q_=function(e,n){n=n||{};var o;return n.getShadowRoot?o=Qc([e],n.includeContainer,{filter:sr.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):o=Zc(e,n.includeContainer,sr.bind(null,n)),o},to=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return Fn.call(e,ir)===!1?!1:Al(n,e)},z_=Jc.concat("iframe").join(","),Qr=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return Fn.call(e,z_)===!1?!1:sr(n,e)};/*!
* focus-trap 7.5.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function ca(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,o)}return n}function da(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ca(Object(n),!0).forEach(function(o){eh(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ca(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function eh(t,e,n){return e=nh(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function th(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nh(t){var e=th(t,"string");return typeof e=="symbol"?e:String(e)}var ma={activateTrap:function(e,n){if(e.length>0){var o=e[e.length-1];o!==n&&o.pause()}var i=e.indexOf(n);i===-1||e.splice(i,1),e.push(n)},deactivateTrap:function(e,n){var o=e.indexOf(n);o!==-1&&e.splice(o,1),e.length>0&&e[e.length-1].unpause()}},oh=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},ih=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},Wo=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},rh=function(e){return Wo(e)&&!e.shiftKey},lh=function(e){return Wo(e)&&e.shiftKey},pa=function(e){return setTimeout(e,0)},_a=function(e,n){var o=-1;return e.every(function(i,r){return n(i)?(o=r,!1):!0}),o},Do=function(e){for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return typeof e=="function"?e.apply(void 0,o):e},Oi=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},sh=[],ah=function(e,n){var o=(n==null?void 0:n.document)||document,i=(n==null?void 0:n.trapStack)||sh,r=da({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:rh,isKeyBackward:lh},n),l={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},a,s=function(g,C,N){return g&&g[C]!==void 0?g[C]:r[N||C]},u=function(g,C){var N=typeof(C==null?void 0:C.composedPath)=="function"?C.composedPath():void 0;return l.containerGroups.findIndex(function(F){var L=F.container,K=F.tabbableNodes;return L.contains(g)||(N==null?void 0:N.includes(L))||K.find(function(x){return x===g})})},f=function(g){var C=r[g];if(typeof C=="function"){for(var N=arguments.length,F=new Array(N>1?N-1:0),L=1;L<N;L++)F[L-1]=arguments[L];C=C.apply(void 0,F)}if(C===!0&&(C=void 0),!C){if(C===void 0||C===!1)return C;throw new Error("`".concat(g,"` was specified but was not a node, or did not return a node"))}var K=C;if(typeof C=="string"&&(K=o.querySelector(C),!K))throw new Error("`".concat(g,"` as selector refers to no known node"));return K},c=function(){var g=f("initialFocus");if(g===!1)return!1;if(g===void 0||!Qr(g,r.tabbableOptions))if(u(o.activeElement)>=0)g=o.activeElement;else{var C=l.tabbableGroups[0],N=C&&C.firstTabbableNode;g=N||f("fallbackFocus")}if(!g)throw new Error("Your focus-trap needs to have at least one focusable element");return g},d=function(){if(l.containerGroups=l.containers.map(function(g){var C=Z_(g,r.tabbableOptions),N=Q_(g,r.tabbableOptions),F=C.length>0?C[0]:void 0,L=C.length>0?C[C.length-1]:void 0,K=N.find(function(m){return to(m)}),x=N.slice().reverse().find(function(m){return to(m)}),J=!!C.find(function(m){return In(m)>0});return{container:g,tabbableNodes:C,focusableNodes:N,posTabIndexesFound:J,firstTabbableNode:F,lastTabbableNode:L,firstDomTabbableNode:K,lastDomTabbableNode:x,nextTabbableNode:function(R){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,te=C.indexOf(R);return te<0?H?N.slice(N.indexOf(R)+1).find(function(ie){return to(ie)}):N.slice(0,N.indexOf(R)).reverse().find(function(ie){return to(ie)}):C[te+(H?1:-1)]}}}),l.tabbableGroups=l.containerGroups.filter(function(g){return g.tabbableNodes.length>0}),l.tabbableGroups.length<=0&&!f("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(l.containerGroups.find(function(g){return g.posTabIndexesFound})&&l.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},p=function P(g){var C=g.activeElement;if(C)return C.shadowRoot&&C.shadowRoot.activeElement!==null?P(C.shadowRoot):C},h=function P(g){if(g!==!1&&g!==p(document)){if(!g||!g.focus){P(c());return}g.focus({preventScroll:!!r.preventScroll}),l.mostRecentlyFocusedNode=g,oh(g)&&g.select()}},_=function(g){var C=f("setReturnFocus",g);return C||(C===!1?!1:g)},y=function(g){var C=g.target,N=g.event,F=g.isBackward,L=F===void 0?!1:F;C=C||Oi(N),d();var K=null;if(l.tabbableGroups.length>0){var x=u(C,N),J=x>=0?l.containerGroups[x]:void 0;if(x<0)L?K=l.tabbableGroups[l.tabbableGroups.length-1].lastTabbableNode:K=l.tabbableGroups[0].firstTabbableNode;else if(L){var m=_a(l.tabbableGroups,function(ke){var ce=ke.firstTabbableNode;return C===ce});if(m<0&&(J.container===C||Qr(C,r.tabbableOptions)&&!to(C,r.tabbableOptions)&&!J.nextTabbableNode(C,!1))&&(m=x),m>=0){var R=m===0?l.tabbableGroups.length-1:m-1,H=l.tabbableGroups[R];K=In(C)>=0?H.lastTabbableNode:H.lastDomTabbableNode}else Wo(N)||(K=J.nextTabbableNode(C,!1))}else{var te=_a(l.tabbableGroups,function(ke){var ce=ke.lastTabbableNode;return C===ce});if(te<0&&(J.container===C||Qr(C,r.tabbableOptions)&&!to(C,r.tabbableOptions)&&!J.nextTabbableNode(C))&&(te=x),te>=0){var ie=te===l.tabbableGroups.length-1?0:te+1,U=l.tabbableGroups[ie];K=In(C)>=0?U.firstTabbableNode:U.firstDomTabbableNode}else Wo(N)||(K=J.nextTabbableNode(C))}}else K=f("fallbackFocus");return K},b=function(g){var C=Oi(g);if(!(u(C,g)>=0)){if(Do(r.clickOutsideDeactivates,g)){a.deactivate({returnFocus:r.returnFocusOnDeactivate});return}Do(r.allowOutsideClick,g)||g.preventDefault()}},A=function(g){var C=Oi(g),N=u(C,g)>=0;if(N||C instanceof Document)N&&(l.mostRecentlyFocusedNode=C);else{g.stopImmediatePropagation();var F,L=!0;if(l.mostRecentlyFocusedNode)if(In(l.mostRecentlyFocusedNode)>0){var K=u(l.mostRecentlyFocusedNode),x=l.containerGroups[K].tabbableNodes;if(x.length>0){var J=x.findIndex(function(m){return m===l.mostRecentlyFocusedNode});J>=0&&(r.isKeyForward(l.recentNavEvent)?J+1<x.length&&(F=x[J+1],L=!1):J-1>=0&&(F=x[J-1],L=!1))}}else l.containerGroups.some(function(m){return m.tabbableNodes.some(function(R){return In(R)>0})})||(L=!1);else L=!1;L&&(F=y({target:l.mostRecentlyFocusedNode,isBackward:r.isKeyBackward(l.recentNavEvent)})),h(F||l.mostRecentlyFocusedNode||c())}l.recentNavEvent=void 0},w=function(g){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;l.recentNavEvent=g;var N=y({event:g,isBackward:C});N&&(Wo(g)&&g.preventDefault(),h(N))},D=function(g){if(ih(g)&&Do(r.escapeDeactivates,g)!==!1){g.preventDefault(),a.deactivate();return}(r.isKeyForward(g)||r.isKeyBackward(g))&&w(g,r.isKeyBackward(g))},V=function(g){var C=Oi(g);u(C,g)>=0||Do(r.clickOutsideDeactivates,g)||Do(r.allowOutsideClick,g)||(g.preventDefault(),g.stopImmediatePropagation())},E=function(){if(l.active)return ma.activateTrap(i,a),l.delayInitialFocusTimer=r.delayInitialFocus?pa(function(){h(c())}):h(c()),o.addEventListener("focusin",A,!0),o.addEventListener("mousedown",b,{capture:!0,passive:!1}),o.addEventListener("touchstart",b,{capture:!0,passive:!1}),o.addEventListener("click",V,{capture:!0,passive:!1}),o.addEventListener("keydown",D,{capture:!0,passive:!1}),a},W=function(){if(l.active)return o.removeEventListener("focusin",A,!0),o.removeEventListener("mousedown",b,!0),o.removeEventListener("touchstart",b,!0),o.removeEventListener("click",V,!0),o.removeEventListener("keydown",D,!0),a},B=function(g){var C=g.some(function(N){var F=Array.from(N.removedNodes);return F.some(function(L){return L===l.mostRecentlyFocusedNode})});C&&h(c())},j=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(B):void 0,X=function(){j&&(j.disconnect(),l.active&&!l.paused&&l.containers.map(function(g){j.observe(g,{subtree:!0,childList:!0})}))};return a={get active(){return l.active},get paused(){return l.paused},activate:function(g){if(l.active)return this;var C=s(g,"onActivate"),N=s(g,"onPostActivate"),F=s(g,"checkCanFocusTrap");F||d(),l.active=!0,l.paused=!1,l.nodeFocusedBeforeActivation=o.activeElement,C==null||C();var L=function(){F&&d(),E(),X(),N==null||N()};return F?(F(l.containers.concat()).then(L,L),this):(L(),this)},deactivate:function(g){if(!l.active)return this;var C=da({onDeactivate:r.onDeactivate,onPostDeactivate:r.onPostDeactivate,checkCanReturnFocus:r.checkCanReturnFocus},g);clearTimeout(l.delayInitialFocusTimer),l.delayInitialFocusTimer=void 0,W(),l.active=!1,l.paused=!1,X(),ma.deactivateTrap(i,a);var N=s(C,"onDeactivate"),F=s(C,"onPostDeactivate"),L=s(C,"checkCanReturnFocus"),K=s(C,"returnFocus","returnFocusOnDeactivate");N==null||N();var x=function(){pa(function(){K&&h(_(l.nodeFocusedBeforeActivation)),F==null||F()})};return K&&L?(L(_(l.nodeFocusedBeforeActivation)).then(x,x),this):(x(),this)},pause:function(g){if(l.paused||!l.active)return this;var C=s(g,"onPause"),N=s(g,"onPostPause");return l.paused=!0,C==null||C(),W(),X(),N==null||N(),this},unpause:function(g){if(!l.paused||!l.active)return this;var C=s(g,"onUnpause"),N=s(g,"onPostUnpause");return l.paused=!1,C==null||C(),d(),E(),X(),N==null||N(),this},updateContainerElements:function(g){var C=[].concat(g).filter(Boolean);return l.containers=C.map(function(N){return typeof N=="string"?o.querySelector(N):N}),l.active&&d(),X(),this}},a.updateContainerElements(e),a};function uh(t={}){let e;const{immediate:n,...o}=t,i=Xe(!1),r=Xe(!1),l=c=>e==null?void 0:e.activate(c),a=c=>{e==null||e.deactivate(c)},s=()=>{e&&(e.pause(),r.set(!0))},u=()=>{e&&(e.unpause(),r.set(!1))};return{useFocusTrap:c=>(e=ah(c,{...o,onActivate(){var d;i.set(!0),(d=t.onActivate)==null||d.call(t)},onDeactivate(){var d;i.set(!1),(d=t.onDeactivate)==null||d.call(t)}}),n&&l(),{destroy(){a(),e=void 0}}),hasFocus:Ws(i),isPaused:Ws(r),activate:l,deactivate:a,pause:s,unpause:u}}const Pi=[];function fh(t,e){let n=et;function o(){const r=Pi.indexOf(t);r>=0&&Pi.splice(r,1)}function i(r){n();const{open:l,onClose:a,shouldCloseOnInteractOutside:s,closeOnInteractOutside:u}=r;Jl(100).then(()=>{l?Pi.push(t):o()});function f(){return Ap(Pi)===t}function c(){f()&&a&&(a(),o())}function d(h){const _=h.target;Tr(_)&&_&&f()&&(h.preventDefault(),h.stopPropagation(),h.stopImmediatePropagation())}function p(h){s!=null&&s(h)&&f()&&(h.preventDefault(),h.stopPropagation(),h.stopImmediatePropagation(),c())}n=ch(t,{onInteractOutsideStart:d,onInteractOutside:u?p:void 0,enabled:l}).destroy}return i(e),{update:i,destroy(){o(),n()}}}const td=(t,e="body")=>{let n;if(!Ct(e)&&typeof e!="string")return{destroy:et};async function o(r){if(e=r,typeof e=="string"){if(n=document.querySelector(e),n===null&&(await Hl(),n=document.querySelector(e)),n===null)throw new Error(`No element found matching css selector: "${e}"`)}else if(e instanceof HTMLElement)n=e;else throw new TypeError(`Unknown portal target type: ${e===null?"null":typeof e}. Allowed types: string (CSS selector) or HTMLElement.`);t.dataset.portal="",n.appendChild(t),t.hidden=!1}function i(){t.remove()}return o(e),{update:o,destroy:i}};function ch(t,e){let n=et,o=!1,i=!1,r=!1;function l(u){n();const{onInteractOutside:f,onInteractOutsideStart:c,enabled:d}=u;if(!d)return;function p(y){f&&ha(y,t)&&(c==null||c(y));const b=y.target;Tr(b)&&nd(t,b)&&(i=!0),o=!0}function h(y){f==null||f(y)}const _=dh(t);if(typeof PointerEvent<"u"){const y=b=>{a(b)&&h(b),s()};n=Ht(gt(_,"pointerdown",p,!0),gt(_,"pointerup",y,!0))}else{const y=A=>{r?r=!1:a(A)&&h(A),s()},b=A=>{r=!0,a(A)&&h(A),s()};n=Ht(gt(_,"mousedown",p,!0),gt(_,"mouseup",y,!0),gt(_,"touchstart",p,!0),gt(_,"touchend",b,!0))}}function a(u){return!!(o&&!i&&ha(u,t))}function s(){o=!1,i=!1}return l(e),{update:l,destroy:n}}function ha(t,e){if("button"in t&&t.button>0)return!1;const n=t.target;if(!Tr(n))return!1;const o=n.ownerDocument;return!o||!o.documentElement.contains(n)?!1:e&&!nd(e,n)}function nd(t,e){return t===e||t.contains(e)}function dh(t){return(t==null?void 0:t.ownerDocument)??document}Nn(!1),Nn(!1),Nn(void 0);function mh(){return{elements:{root:pt("label",{action:e=>({destroy:wt(e,"mousedown",o=>{!o.defaultPrevented&&o.detail>1&&o.preventDefault()})})})}}}const{name:Sn}=Sr("dialog"),ph={preventScroll:!0,closeOnEscape:!0,closeOnOutsideClick:!0,role:"dialog",defaultOpen:!1,portal:void 0,forceVisible:!1,openFocus:void 0,closeFocus:void 0,onOutsideClick:void 0},_h=["content","title","description"];function od(t){const e={...ph,...t},n=Dn(Ir(e,"ids")),{preventScroll:o,closeOnEscape:i,closeOnOutsideClick:r,role:l,portal:a,forceVisible:s,openFocus:u,closeFocus:f,onOutsideClick:c}=n,d=tn.writable(null),p=Dn({...xl(_h),...e.ids}),h=e.open??Xe(e.defaultOpen),_=Or(h,e==null?void 0:e.onOpenChange),y=ln([_,s],([P,g])=>P||g);let b=et;function A(P){const g=P.currentTarget,C=P.currentTarget;!Ct(g)||!Ct(C)||(_.set(!0),d.set(C))}function w(){_.set(!1),ia({prop:f.get(),defaultEl:d.get()})}const D=pt(Sn("trigger"),{stores:[_],returned:([P])=>({"aria-haspopup":"dialog","aria-expanded":P,type:"button"}),action:P=>({destroy:Ht(wt(P,"click",C=>{A(C)}),wt(P,"keydown",C=>{C.key!==ft.ENTER&&C.key!==ft.SPACE||(C.preventDefault(),A(C))}))})}),V=pt(Sn("overlay"),{stores:[y,_],returned:([P,g])=>({hidden:P?void 0:!0,tabindex:-1,style:gn({display:P?void 0:"none"}),"aria-hidden":!0,"data-state":g?"open":"closed"}),action:P=>{let g=et;if(i.get()){const C=ra(P,{handler:()=>{w()}});C&&C.destroy&&(g=C.destroy)}return{destroy(){g()}}}}),E=pt(Sn("content"),{stores:[y,p.content,p.description,p.title,_],returned:([P,g,C,N,F])=>({id:g,role:l.get(),"aria-describedby":C,"aria-labelledby":N,"aria-modal":P?"true":void 0,"data-state":F?"open":"closed",tabindex:-1,hidden:P?void 0:!0,style:gn({display:P?void 0:"none"})}),action:P=>{let g=et,C=et;const N=Ht(Ot([_],([F])=>{if(!F)return;const L=uh({immediate:!1,escapeDeactivates:!0,clickOutsideDeactivates:!0,returnFocusOnDeactivate:!1,fallbackFocus:P});g=L.activate,C=L.deactivate;const K=L.useFocusTrap(P);return K&&K.destroy?K.destroy:L.deactivate}),Ot([r,_],([F,L])=>fh(P,{open:L,closeOnInteractOutside:F,onClose(){w()},shouldCloseOnInteractOutside(K){var x;return(x=c.get())==null||x(K),!K.defaultPrevented}}).destroy),Ot([i],([F])=>{if(!F)return et;const L=ra(P,{handler:()=>{w()}});return L&&L.destroy?L.destroy:et}),Ot([y],([F])=>{Hl().then(()=>{F?g():C()})}));return{destroy:()=>{b(),N()}}}}),W=pt(Sn("portalled"),{stores:a,returned:P=>({"data-portal":Dc(P)}),action:P=>{const g=Ot([a],([C])=>{if(C===null)return et;const N=qc(P,C);if(N===null)return et;const F=td(P,N);return F&&F.destroy?F.destroy:et});return{destroy(){g()}}}}),B=pt(Sn("title"),{stores:[p.title],returned:([P])=>({id:P})}),j=pt(Sn("description"),{stores:[p.description],returned:([P])=>({id:P})}),X=pt(Sn("close"),{returned:()=>({type:"button"}),action:P=>({destroy:Ht(wt(P,"click",()=>{w()}),wt(P,"keydown",C=>{C.key!==ft.SPACE&&C.key!==ft.ENTER||(C.preventDefault(),w())}))})});return Ot([_,o],([P,g])=>{if(Yo){if(g&&P&&(b=Up()),P){const C=document.getElementById(p.content.get());ia({prop:u.get(),defaultEl:C})}return()=>{s.get()||b()}}}),{ids:p,elements:{content:E,trigger:D,title:B,description:j,overlay:V,close:X,portalled:W},states:{open:_},options:n}}const hh={defaultValue:0,max:100},{name:gh}=Sr("progress"),bh=t=>{const e={...hh,...t},n=Dn(Ir(e,"value")),{max:o}=n,i=e.value??Xe(e.defaultValue),r=Or(i,e==null?void 0:e.onValueChange);return{elements:{root:pt(gh(),{stores:[r,o],returned:([a,s])=>({value:a,max:s,role:"meter","aria-valuemin":0,"aria-valuemax":s,"aria-valuenow":a,"data-value":a,"data-state":a===null?"indeterminate":a===s?"complete":"loading","data-max":s})})},states:{value:r},options:n}},vh={orientation:"horizontal",decorative:!1},yh=t=>{const e={...vh,...t},n=Dn(e),{orientation:o,decorative:i}=n;return{elements:{root:pt("separator",{stores:[o,i],returned:([l,a])=>({role:a?"none":"separator","aria-orientation":l==="vertical"?l:void 0,"aria-hidden":a,"data-orientation":l})})},options:n}},wh={defaultValue:[],min:0,max:100,step:1,orientation:"horizontal",dir:"ltr",disabled:!1},{name:Mi}=Sr("slider"),kh=t=>{const e={...wh,...t},n=Dn(Ir(e,"value","onValueChange","defaultValue")),{min:o,max:i,step:r,orientation:l,dir:a,disabled:s}=n,u=e.value??Xe(e.defaultValue),f=Or(u,e==null?void 0:e.onValueChange),c=tn(Xe(!1)),d=tn(Xe(0)),p=tn(Xe(null)),h=xl(["root"]),_=(W,B)=>{f.update(j=>{if(!j)return[W];if(j[B]===W)return j;const X=[...j],P=X[B]>W?-1:1;function g(){X[B]=X[B+P],X[B+P]=W;const L=y();L&&(L[B+P].focus(),p.set({thumb:L[B+P],index:B+P}))}if(P===-1&&W<X[B-1])return g(),X;if(P===1&&W>X[B+1])return g(),X;const C=o.get(),N=i.get(),F=r.get();return X[B]=Zr(W,C,N,F),X})},y=()=>{const W=Jr(h.root);return W?Array.from(W.querySelectorAll('[data-melt-part="thumb"]')).filter(B=>Ct(B)):null},b=ln([o,i],([W,B])=>j=>(j-W)/(B-W)*100),A=tn.derived([l,a],([W,B])=>W==="horizontal"?B==="rtl"?"rl":"lr":B==="rtl"?"tb":"bt"),w=pt(Mi(),{stores:[s,l,a],returned:([W,B,j])=>({dir:j,disabled:Xr(W),"data-disabled":Xr(W),"data-orientation":B,style:W?void 0:`touch-action: ${B==="horizontal"?"pan-y":"pan-x"}`,"data-melt-id":h.root})}),D=pt(Mi("range"),{stores:[f,A,b],returned:([W,B,j])=>{const X=W.length>1?j(Math.min(...W)??0):0,P=100-j(Math.max(...W)??0),g={position:"absolute"};switch(B){case"lr":{g.left=`${X}%`,g.right=`${P}%`;break}case"rl":{g.right=`${X}%`,g.left=`${P}%`;break}case"bt":{g.bottom=`${X}%`,g.top=`${P}%`;break}case"tb":{g.top=`${X}%`,g.bottom=`${P}%`;break}}return{style:gn(g)}}}),V=ta(Mi("thumb"),{stores:[f,b,o,i,s,l,A],returned:([W,B,j,X,P,g,C])=>Array.from({length:W.length||1},(F,L)=>{d.get()<W.length&&d.update(R=>R+1);const x=W[L],J=`${B(x)}%`,m={position:"absolute"};switch(C){case"lr":{m.left=J,m.translate="-50% 0";break}case"rl":{m.right=J,m.translate="50% 0";break}case"bt":{m.bottom=J,m.translate="0 50%";break}case"tb":{m.top=J,m.translate="0 -50%";break}}return{role:"slider","aria-valuemin":j,"aria-valuemax":X,"aria-valuenow":x,"aria-disabled":Xr(P),"aria-orientation":g,"data-melt-part":"thumb","data-value":x,style:gn(m),tabindex:P?-1:0}}),action:W=>({destroy:wt(W,"keydown",j=>{if(s.get())return;const X=j.currentTarget;if(!Ct(X))return;const P=y();if(!(P!=null&&P.length))return;const g=P.indexOf(X);if(d.set(g),![ft.ARROW_LEFT,ft.ARROW_RIGHT,ft.ARROW_UP,ft.ARROW_DOWN,ft.HOME,ft.END].includes(j.key))return;j.preventDefault();const C=o.get(),N=i.get(),F=r.get(),L=f.get(),K=l.get(),x=A.get(),J=L[g];switch(j.key){case ft.HOME:{_(C,g);break}case ft.END:{_(N,g);break}case ft.ARROW_LEFT:{if(K!=="horizontal")break;j.metaKey?_(x==="rl"?N:C,g):x==="rl"&&J<N?_(J+F,g):x==="lr"&&J>C&&_(J-F,g);break}case ft.ARROW_RIGHT:{if(K!=="horizontal")break;j.metaKey?_(x==="rl"?C:N,g):x==="rl"&&J>C?_(J-F,g):x==="lr"&&J<N&&_(J+F,g);break}case ft.ARROW_UP:{j.metaKey?_(x==="tb"?C:N,g):x==="tb"&&J>C?_(J-F,g):x!=="tb"&&J<N&&_(J+F,g);break}case ft.ARROW_DOWN:{j.metaKey?_(x==="tb"?N:C,g):x==="tb"&&J<N?_(J+F,g):x!=="tb"&&J>C&&_(J-F,g);break}}})})}),E=ta(Mi("tick"),{stores:[f,o,i,r,A],returned:([W,B,j,X,P])=>{const g=j-B;let C=Math.ceil(g/X);return g%X==0&&C++,Array.from({length:C},(N,F)=>{const L=`${F*(X/(j-B))*100}%`,K=F===0,x=F===C-1,J=K?0:x?-100:-50,m={position:"absolute"};switch(P){case"lr":{m.left=L,m.translate=`${J}% 0`;break}case"rl":{m.right=L,m.translate=`${-J}% 0`;break}case"bt":{m.bottom=L,m.translate=`0 ${-J}%`;break}case"tb":{m.top=L,m.translate=`0 ${J}%`;break}}const R=B+F*X;return{"data-bounded":(W.length===1?R<=W[0]:W[0]<=R&&R<=W[W.length-1])?!0:void 0,"data-value":R,style:gn(m)}})}});return Ot([w,o,i,s,l,A,r],([W,B,j,X,P,g,C])=>{if(!Yo||X)return;const N=(m,R,H,te)=>{const U=(m-H)/(te-H)*(j-B)+B;if(U<B)_(B,R);else if(U>j)_(j,R);else{const ke=C,ce=B,Ne=Math.floor((U-ce)/ke),xe=ce+Ne*ke+ke/2,Ge=ce+(Ne+1)*ke+ke/2,nt=U>=xe&&U<Ge?(Ne+1)*ke+ce:Ne*ke+ce;nt<=j&&_(nt,R)}},F=m=>{const R=y();if(!R)return;R.forEach(U=>U.blur());const H=R.map(U=>{if(P==="horizontal"){const{left:ke,right:ce}=U.getBoundingClientRect();return Math.abs(m.clientX-(ke+ce)/2)}else{const{top:ke,bottom:ce}=U.getBoundingClientRect();return Math.abs(m.clientY-(ke+ce)/2)}}),te=R[H.indexOf(Math.min(...H))],ie=R.indexOf(te);return{thumb:te,index:ie}},L=m=>{if(!c.get())return;m.preventDefault(),m.stopPropagation();const R=Jr(W["data-melt-id"]),H=p.get();if(!R||!H)return;H.thumb.focus();const{left:te,right:ie,top:U,bottom:ke}=R.getBoundingClientRect();switch(g){case"lr":{N(m.clientX,H.index,te,ie);break}case"rl":{N(m.clientX,H.index,ie,te);break}case"bt":{N(m.clientY,H.index,ke,U);break}case"tb":{N(m.clientY,H.index,U,ke);break}}},K=m=>{if(m.button!==0)return;const R=Jr(W["data-melt-id"]),H=F(m);if(!H||!R)return;const te=m.target;!Ct(te)||!R.contains(te)||(m.preventDefault(),p.set(H),H.thumb.focus(),c.set(!0),L(m))},x=()=>{c.set(!1)},J=Ht(gt(document,"pointerdown",K),gt(document,"pointerup",x),gt(document,"pointerleave",x),gt(document,"pointermove",L));return()=>{J()}}),Ot([r,o,i,f],function([B,j,X,P]){const g=N=>Zr(N,j,X,B)===N,C=N=>Zr(N,j,X,B);P.some(N=>!g(N))&&f.update(N=>N.map(C))}),{elements:{root:w,thumbs:V,range:D,ticks:E},states:{value:f},options:n}},Ch={positioning:{placement:"bottom"},arrowSize:8,defaultOpen:!1,closeOnPointerDown:!0,openDelay:1e3,closeDelay:0,forceVisible:!1,portal:void 0,closeOnEscape:!0,disableHoverableContent:!1,group:void 0},{name:zr}=Sr("tooltip"),Ni=new Map,Ah=["trigger","content"];function Sh(t){const e={...Ch,...t},n=Dn(Ir(e,"open","ids")),{positioning:o,arrowSize:i,closeOnPointerDown:r,openDelay:l,closeDelay:a,forceVisible:s,portal:u,closeOnEscape:f,disableHoverableContent:c,group:d}=n,p=e.open??Xe(e.defaultOpen),h=Or(p,e==null?void 0:e.onOpenChange),_=Xe(null),y=Dn({...xl(Ah),...e.ids});let b=!1;const A=g=>Yo?document.getElementById(y[g].get()):null;let w=null,D=null;function V(g){D&&(window.clearTimeout(D),D=null),w||(w=window.setTimeout(()=>{h.set(!0),_.update(C=>C??g),w=null},l.get()))}function E(g){if(w&&(window.clearTimeout(w),w=null),g&&P){_.set("pointer");return}D||(D=window.setTimeout(()=>{h.set(!1),_.set(null),g&&(b=!1),D=null},a.get()))}const W=ln([h,s],([g,C])=>g||C),B=pt(zr("trigger"),{stores:[y.content,y.trigger,h],returned:([g,C,N])=>({"aria-describedby":g,id:C,"data-state":N?"open":"closed"}),action:g=>{const C=F=>{f.get()&&F.key===ft.ESCAPE&&(w&&(window.clearTimeout(w),w=null),h.set(!1))};return{destroy:Ht(wt(g,"pointerdown",()=>{r.get()&&(h.set(!1),b=!0,w&&(window.clearTimeout(w),w=null))}),wt(g,"pointerenter",F=>{na(F)||V("pointer")}),wt(g,"pointerleave",F=>{na(F)||w&&(window.clearTimeout(w),w=null)}),wt(g,"focus",()=>{b||V("focus")}),wt(g,"blur",async()=>{await Jl(0),E(!0)}),wt(g,"keydown",C),gt(document,"keydown",C))}}}),j=pt(zr("content"),{stores:[W,h,u,y.content],returned:([g,C,N,F])=>({role:"tooltip",hidden:g?void 0:!0,tabindex:-1,style:gn({display:g?void 0:"none"}),id:F,"data-portal":Dc(N),"data-state":C?"open":"closed"}),action:g=>{let C=et,N=et;const F=Ot([W,o,u],([x,J,m])=>{const R=A("trigger");if(!x||!R){N(),C();return}if(C=F_(R,g,J).destroy,m===null){N();return}const te=qc(g,m);if(te){const ie=td(g,te);ie&&ie.destroy&&(N=ie.destroy)}});function L(x){if(!h.get())return;const J=x.target;if(!Tr(J)&&!Sp(J))return;const m=A("trigger");m&&J.contains(m)&&E()}const K=Ht(wt(g,"pointerenter",()=>V("pointer")),wt(g,"pointerdown",()=>V("pointer")),gt(window,"scroll",L,{capture:!0}));return{destroy(){K(),N(),C(),F()}}}}),X=pt(zr("arrow"),{stores:i,returned:g=>({"data-arrow":!0,style:gn({position:"absolute",width:`var(--arrow-size, ${g}px)`,height:`var(--arrow-size, ${g}px)`})})});let P=!1;return Ot(h,g=>{const C=d.get();if(C===void 0||C===!1)return;if(!g){Ni.get(C)===h&&Ni.delete(C);return}const N=Ni.get(C);N==null||N.set(!1),Ni.set(C,h)}),Ot([h,_],([g,C])=>{if(!(!g||!Yo))return Ht(gt(document,"mousemove",N=>{const F=A("content"),L=A("trigger");if(!F||!L)return;const K=c.get()?[L]:[L,F],x=$p(K);P=Hp({x:N.clientX,y:N.clientY},x),C==="pointer"&&(P||E())}))}),{ids:y,elements:{trigger:B,content:j,arrow:X},states:{open:h},options:n}}function $n(t,e){const n={};return e.forEach(o=>{n[o]={[`data-${t}-${o}`]:""}}),o=>n[o]}function Hn(){const t=pm();return e=>{const{originalEvent:n}=e.detail,{cancelable:o}=e,i=n.type;t(i,{originalEvent:n,currentTarget:n.currentTarget},{cancelable:o})||e.preventDefault()}}function yo(t){const e={};for(const n in t){const o=t[n];o!==void 0&&(e[n]=o)}return e}function jn(t){return function(e,n){if(n===void 0)return;const o=t[e];o&&o.set(n)}}function id(){return{NAME:"alert-dialog",PARTS:["action","cancel","content","description","overlay","portal","title","trigger"]}}function Th(t){const{NAME:e,PARTS:n}=id(),o=$n(e,n),i=od({...yo(t),role:"alertdialog",forceVisible:!0}),r={...i,getAttrs:o,updateOption:jn(i.options)};return kr(e,r),{...r,updateOption:jn(r.options),getAttrs:o}}function Wn(){const{NAME:t}=id();return Cr(t)}const Ih=t=>({ids:t&1}),ga=t=>({ids:t[0]});function Oh(t){let e;const n=t[12].default,o=de(n,t,t[11],ga);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,[r]){o&&o.p&&(!e||r&2049)&&pe(o,n,i,i[11],e?me(n,i[11],r,Ih):_e(i[11]),ga)},i(i){e||(k(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Ph(t,e,n){let o,{$$slots:i={},$$scope:r}=e,{preventScroll:l=void 0}=e,{closeOnEscape:a=void 0}=e,{closeOnOutsideClick:s=!1}=e,{portal:u=void 0}=e,{open:f=void 0}=e,{onOpenChange:c=void 0}=e,{openFocus:d=void 0}=e,{closeFocus:p=void 0}=e,{onOutsideClick:h=void 0}=e;const{states:{open:_},updateOption:y,ids:b}=Th({closeOnEscape:a,preventScroll:l,closeOnOutsideClick:s,portal:u,forceVisible:!0,defaultOpen:f,openFocus:d,closeFocus:p,onOutsideClick:h,onOpenChange:({next:w})=>(f!==w&&(c==null||c(w),n(2,f=w)),w)}),A=ln([b.content,b.description,b.title],([w,D,V])=>({content:w,description:D,title:V}));return ae(t,A,w=>n(0,o=w)),t.$$set=w=>{"preventScroll"in w&&n(3,l=w.preventScroll),"closeOnEscape"in w&&n(4,a=w.closeOnEscape),"closeOnOutsideClick"in w&&n(5,s=w.closeOnOutsideClick),"portal"in w&&n(6,u=w.portal),"open"in w&&n(2,f=w.open),"onOpenChange"in w&&n(7,c=w.onOpenChange),"openFocus"in w&&n(8,d=w.openFocus),"closeFocus"in w&&n(9,p=w.closeFocus),"onOutsideClick"in w&&n(10,h=w.onOutsideClick),"$$scope"in w&&n(11,r=w.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&f!==void 0&&_.set(f),t.$$.dirty&8&&y("preventScroll",l),t.$$.dirty&16&&y("closeOnEscape",a),t.$$.dirty&32&&y("closeOnOutsideClick",s),t.$$.dirty&64&&y("portal",u),t.$$.dirty&256&&y("openFocus",d),t.$$.dirty&512&&y("closeFocus",p),t.$$.dirty&1024&&y("onOutsideClick",h)},[o,A,f,l,a,s,u,c,d,p,h,r,i]}class Mh extends we{constructor(e){super(),ye(this,e,Ph,Oh,fe,{preventScroll:3,closeOnEscape:4,closeOnOutsideClick:5,portal:6,open:2,onOpenChange:7,openFocus:8,closeFocus:9,onOutsideClick:10})}}const Nh=t=>({builder:t&8}),ba=t=>({builder:t[3]}),Eh=t=>({builder:t&8}),va=t=>({builder:t[3]});function Rh(t){let e=t[1],n,o,i=t[1]&&el(t);return{c(){i&&i.c(),n=De()},m(r,l){i&&i.m(r,l),I(r,n,l),o=!0},p(r,l){r[1]?e?fe(e,r[1])?(i.d(1),i=el(r),e=r[1],i.c(),i.m(n.parentNode,n)):i.p(r,l):(i=el(r),e=r[1],i.c(),i.m(n.parentNode,n)):e&&(i.d(1),i=null,e=r[1])},i(r){o||(k(i,r),o=!0)},o(r){S(i,r),o=!1},d(r){r&&T(n),i&&i.d(r)}}}function Dh(t){let e;const n=t[9].default,o=de(n,t,t[8],va);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&264)&&pe(o,n,i,i[8],e?me(n,i[8],r,Eh):_e(i[8]),va)},i(i){e||(k(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function el(t){let e,n,o,i;const r=t[9].default,l=de(r,t,t[8],ba);let a=[t[3],t[5]],s={};for(let u=0;u<a.length;u+=1)s=Y(s,a[u]);return{c(){e=O(t[1]),l&&l.c(),bn(t[1])(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),t[10](e),n=!0,o||(i=Fe(t[3].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&264)&&pe(l,r,u,u[8],n?me(r,u[8],f,Nh):_e(u[8]),ba),bn(u[1])(e,s=ve(a,[f&8&&u[3],f&32&&u[5]]))},i(u){n||(k(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[10](null),o=!1,i()}}}function Lh(t){let e,n,o,i;const r=[Dh,Rh],l=[];function a(s,u){return s[2]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Te(),S(l[f],1,1,()=>{l[f]=null}),Ie(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function Fh(t,e,n){let o;const i=["level","asChild","id","el"];let r=re(e,i),l,{$$slots:a={},$$scope:s}=e,{level:u="h2"}=e,{asChild:f=!1}=e,{id:c=void 0}=e,{el:d=void 0}=e;const{elements:{title:p},ids:h,getAttrs:_}=Wn();ae(t,p,A=>n(7,l=A));const y=_("title");function b(A){Oe[A?"unshift":"push"](()=>{d=A,n(0,d)})}return t.$$set=A=>{e=Y(Y({},e),Ee(A)),n(5,r=re(e,i)),"level"in A&&n(1,u=A.level),"asChild"in A&&n(2,f=A.asChild),"id"in A&&n(6,c=A.id),"el"in A&&n(0,d=A.el),"$$scope"in A&&n(8,s=A.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&c&&h.title.set(c),t.$$.dirty&128&&n(3,o=l),t.$$.dirty&8&&Object.assign(o,y)},[d,u,f,o,p,r,c,l,s,a,b]}let jh=class extends we{constructor(e){super(),ye(this,e,Fh,Lh,fe,{level:1,asChild:2,id:6,el:0})}};const qh=t=>({builder:t&4}),ya=t=>({builder:t[2]}),Bh=t=>({builder:t&4}),wa=t=>({builder:t[2]});function Gh(t){let e,n,o,i;const r=t[8].default,l=de(r,t,t[7],ya);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=Y(s,a[u]);return{c(){e=O("button"),l&&l.c(),le(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[9](e),n=!0,o||(i=[Fe(t[2].action(e)),ee(e,"m-click",t[4]),ee(e,"m-keydown",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&pe(l,r,u,u[7],n?me(r,u[7],f,qh):_e(u[7]),ya),le(e,s=ve(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(k(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[9](null),o=!1,Be(i)}}}function Vh(t){let e;const n=t[8].default,o=de(n,t,t[7],wa);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&pe(o,n,i,i[7],e?me(n,i[7],r,Bh):_e(i[7]),wa)},i(i){e||(k(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function $h(t){let e,n,o,i;const r=[Vh,Gh],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Te(),S(l[f],1,1,()=>{l[f]=null}),Ie(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function Hh(t,e,n){let o;const i=["asChild","el"];let r=re(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:d}=Wn();ae(t,c,y=>n(6,l=y));const p=Hn(),h=d("action");function _(y){Oe[y?"unshift":"push"](()=>{f=y,n(0,f)})}return t.$$set=y=>{e=Y(Y({},e),Ee(y)),n(5,r=re(e,i)),"asChild"in y&&n(1,u=y.asChild),"el"in y&&n(0,f=y.el),"$$scope"in y&&n(7,s=y.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,h)},[f,u,o,c,p,r,l,s,a,_]}let Wh=class extends we{constructor(e){super(),ye(this,e,Hh,$h,fe,{asChild:1,el:0})}};const Kh=t=>({builder:t&4}),ka=t=>({builder:t[2]}),Uh=t=>({builder:t&4}),Ca=t=>({builder:t[2]});function Yh(t){let e,n,o,i;const r=t[8].default,l=de(r,t,t[7],ka);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=Y(s,a[u]);return{c(){e=O("button"),l&&l.c(),le(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[9](e),n=!0,o||(i=[Fe(t[2].action(e)),ee(e,"m-click",t[4]),ee(e,"m-keydown",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&pe(l,r,u,u[7],n?me(r,u[7],f,Kh):_e(u[7]),ka),le(e,s=ve(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(k(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[9](null),o=!1,Be(i)}}}function Xh(t){let e;const n=t[8].default,o=de(n,t,t[7],Ca);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&pe(o,n,i,i[7],e?me(n,i[7],r,Uh):_e(i[7]),Ca)},i(i){e||(k(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Jh(t){let e,n,o,i;const r=[Xh,Yh],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Te(),S(l[f],1,1,()=>{l[f]=null}),Ie(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function xh(t,e,n){let o;const i=["asChild","el"];let r=re(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:d}=Wn();ae(t,c,y=>n(6,l=y));const p=Hn(),h=d("cancel");function _(y){Oe[y?"unshift":"push"](()=>{f=y,n(0,f)})}return t.$$set=y=>{e=Y(Y({},e),Ee(y)),n(5,r=re(e,i)),"asChild"in y&&n(1,u=y.asChild),"el"in y&&n(0,f=y.el),"$$scope"in y&&n(7,s=y.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,h)},[f,u,o,c,p,r,l,s,a,_]}let Zh=class extends we{constructor(e){super(),ye(this,e,xh,Jh,fe,{asChild:1,el:0})}};const Qh=t=>({builder:t&4}),Aa=t=>({builder:t[2]}),zh=t=>({builder:t&4}),Sa=t=>({builder:t[2]});function e0(t){let e,n,o,i;const r=t[7].default,l=de(r,t,t[6],Aa);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=Y(s,a[u]);return{c(){e=O("div"),l&&l.c(),le(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),t[8](e),n=!0,o||(i=Fe(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&68)&&pe(l,r,u,u[6],n?me(r,u[6],f,Qh):_e(u[6]),Aa),le(e,s=ve(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(k(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[8](null),o=!1,i()}}}function t0(t){let e;const n=t[7].default,o=de(n,t,t[6],Sa);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&68)&&pe(o,n,i,i[6],e?me(n,i[6],r,zh):_e(i[6]),Sa)},i(i){e||(k(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function n0(t){let e,n,o,i;const r=[t0,e0],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Te(),S(l[f],1,1,()=>{l[f]=null}),Ie(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function o0(t,e,n){let o;const i=["asChild","el"];let r=re(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{portalled:c},getAttrs:d}=Wn();ae(t,c,_=>n(5,l=_));const p=d("portal");function h(_){Oe[_?"unshift":"push"](()=>{f=_,n(0,f)})}return t.$$set=_=>{e=Y(Y({},e),Ee(_)),n(4,r=re(e,i)),"asChild"in _&&n(1,u=_.asChild),"el"in _&&n(0,f=_.el),"$$scope"in _&&n(6,s=_.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,p)},[f,u,o,c,r,l,s,a,h]}let i0=class extends we{constructor(e){super(),ye(this,e,o0,n0,fe,{asChild:1,el:0})}};const r0=t=>({builder:t[0]&256}),Ta=t=>({builder:t[8]}),l0=t=>({builder:t[0]&256}),Ia=t=>({builder:t[8]}),s0=t=>({builder:t[0]&256}),Oa=t=>({builder:t[8]}),a0=t=>({builder:t[0]&256}),Pa=t=>({builder:t[8]}),u0=t=>({builder:t[0]&256}),Ma=t=>({builder:t[8]}),f0=t=>({builder:t[0]&256}),Na=t=>({builder:t[8]});function c0(t){let e,n,o,i;const r=t[16].default,l=de(r,t,t[15],Ta);let a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=Y(s,a[u]);return{c(){e=O("div"),l&&l.c(),le(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),t[56](e),n=!0,o||(i=[Fe(t[8].action(e)),ee(e,"pointerdown",t[45]),ee(e,"pointermove",t[46]),ee(e,"pointerup",t[47]),ee(e,"touchend",t[48]),ee(e,"touchstart",t[49]),ee(e,"touchcancel",t[50]),ee(e,"touchmove",t[51])],o=!0)},p(u,f){l&&l.p&&(!n||f[0]&33024)&&pe(l,r,u,u[15],n?me(r,u[15],f,r0):_e(u[15]),Ta),le(e,s=ve(a,[f[0]&256&&u[8],f[0]&4096&&u[12]]))},i(u){n||(k(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[56](null),o=!1,Be(i)}}}function d0(t){let e,n,o,i,r;const l=t[16].default,a=de(l,t,t[15],Ia);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Y(u,s[f]);return{c(){e=O("div"),a&&a.c(),le(e,u)},m(f,c){I(f,e,c),a&&a.m(e,null),t[55](e),o=!0,i||(r=[Fe(t[8].action(e)),ee(e,"pointerdown",t[38]),ee(e,"pointermove",t[39]),ee(e,"pointerup",t[40]),ee(e,"touchend",t[41]),ee(e,"touchstart",t[42]),ee(e,"touchcancel",t[43]),ee(e,"touchmove",t[44])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&pe(a,l,t,t[15],o?me(l,t[15],c,l0):_e(t[15]),Ia),le(e,u=ve(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(k(a,f),n&&n.end(1),o=!0)},o(f){S(a,f),f&&(n=Jt(e,t[5],t[6])),o=!1},d(f){f&&T(e),a&&a.d(f),t[55](null),f&&n&&n.end(),i=!1,Be(r)}}}function m0(t){let e,n,o,i,r;const l=t[16].default,a=de(l,t,t[15],Oa);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Y(u,s[f]);return{c(){e=O("div"),a&&a.c(),le(e,u)},m(f,c){I(f,e,c),a&&a.m(e,null),t[54](e),o=!0,i||(r=[Fe(t[8].action(e)),ee(e,"pointerdown",t[31]),ee(e,"pointermove",t[32]),ee(e,"pointerup",t[33]),ee(e,"touchend",t[34]),ee(e,"touchstart",t[35]),ee(e,"touchcancel",t[36]),ee(e,"touchmove",t[37])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&pe(a,l,t,t[15],o?me(l,t[15],c,s0):_e(t[15]),Oa),le(e,u=ve(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(k(a,f),f&&(n||rt(()=>{n=Xt(e,t[3],t[4]),n.start()})),o=!0)},o(f){S(a,f),o=!1},d(f){f&&T(e),a&&a.d(f),t[54](null),i=!1,Be(r)}}}function p0(t){let e,n,o,i,r,l;const a=t[16].default,s=de(a,t,t[15],Pa);let u=[t[8],t[12]],f={};for(let c=0;c<u.length;c+=1)f=Y(f,u[c]);return{c(){e=O("div"),s&&s.c(),le(e,f)},m(c,d){I(c,e,d),s&&s.m(e,null),t[53](e),i=!0,r||(l=[Fe(t[8].action(e)),ee(e,"pointerdown",t[24]),ee(e,"pointermove",t[25]),ee(e,"pointerup",t[26]),ee(e,"touchend",t[27]),ee(e,"touchstart",t[28]),ee(e,"touchcancel",t[29]),ee(e,"touchmove",t[30])],r=!0)},p(c,d){t=c,s&&s.p&&(!i||d[0]&33024)&&pe(s,a,t,t[15],i?me(a,t[15],d,a0):_e(t[15]),Pa),le(e,f=ve(u,[d[0]&256&&t[8],d[0]&4096&&t[12]]))},i(c){i||(k(s,c),c&&rt(()=>{i&&(o&&o.end(1),n=Xt(e,t[3],t[4]),n.start())}),i=!0)},o(c){S(s,c),n&&n.invalidate(),c&&(o=Jt(e,t[5],t[6])),i=!1},d(c){c&&T(e),s&&s.d(c),t[53](null),c&&o&&o.end(),r=!1,Be(l)}}}function _0(t){let e,n,o,i,r;const l=t[16].default,a=de(l,t,t[15],Ma);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Y(u,s[f]);return{c(){e=O("div"),a&&a.c(),le(e,u)},m(f,c){I(f,e,c),a&&a.m(e,null),t[52](e),o=!0,i||(r=[Fe(t[8].action(e)),ee(e,"pointerdown",t[17]),ee(e,"pointermove",t[18]),ee(e,"pointerup",t[19]),ee(e,"touchend",t[20]),ee(e,"touchstart",t[21]),ee(e,"touchcancel",t[22]),ee(e,"touchmove",t[23])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&pe(a,l,t,t[15],o?me(l,t[15],c,u0):_e(t[15]),Ma),le(e,u=ve(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(k(a,f),f&&rt(()=>{o&&(n||(n=Kt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(f){S(a,f),f&&(n||(n=Kt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(f){f&&T(e),a&&a.d(f),t[52](null),f&&n&&n.end(),i=!1,Be(r)}}}function h0(t){let e;const n=t[16].default,o=de(n,t,t[15],Na);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r[0]&33024)&&pe(o,n,i,i[15],e?me(n,i[15],r,f0):_e(i[15]),Na)},i(i){e||(k(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function g0(t){let e,n,o,i;const r=[h0,_0,p0,m0,d0,c0],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=De()},m(s,u){~e&&l[e].m(s,u),I(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Te(),S(l[f],1,1,()=>{l[f]=null}),Ie()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(k(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),~e&&l[e].d(s)}}}function b0(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","id","asChild","el"];let r=re(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:p=void 0}=e,{outTransition:h=void 0}=e,{outTransitionConfig:_=void 0}=e,{id:y=void 0}=e,{asChild:b=!1}=e,{el:A=void 0}=e;const{elements:{content:w},states:{open:D},ids:V,getAttrs:E}=Wn();ae(t,w,q=>n(14,l=q)),ae(t,D,q=>n(9,a=q));const W=E("content");function B(q){ne.call(this,t,q)}function j(q){ne.call(this,t,q)}function X(q){ne.call(this,t,q)}function P(q){ne.call(this,t,q)}function g(q){ne.call(this,t,q)}function C(q){ne.call(this,t,q)}function N(q){ne.call(this,t,q)}function F(q){ne.call(this,t,q)}function L(q){ne.call(this,t,q)}function K(q){ne.call(this,t,q)}function x(q){ne.call(this,t,q)}function J(q){ne.call(this,t,q)}function m(q){ne.call(this,t,q)}function R(q){ne.call(this,t,q)}function H(q){ne.call(this,t,q)}function te(q){ne.call(this,t,q)}function ie(q){ne.call(this,t,q)}function U(q){ne.call(this,t,q)}function ke(q){ne.call(this,t,q)}function ce(q){ne.call(this,t,q)}function Ne(q){ne.call(this,t,q)}function xe(q){ne.call(this,t,q)}function Ge(q){ne.call(this,t,q)}function nt(q){ne.call(this,t,q)}function Ce(q){ne.call(this,t,q)}function je(q){ne.call(this,t,q)}function Ke(q){ne.call(this,t,q)}function He(q){ne.call(this,t,q)}function Ve(q){ne.call(this,t,q)}function We(q){ne.call(this,t,q)}function Me(q){ne.call(this,t,q)}function Ye(q){ne.call(this,t,q)}function ue(q){ne.call(this,t,q)}function Se(q){ne.call(this,t,q)}function jt(q){ne.call(this,t,q)}function Et(q){Oe[q?"unshift":"push"](()=>{A=q,n(0,A)})}function mt(q){Oe[q?"unshift":"push"](()=>{A=q,n(0,A)})}function ot(q){Oe[q?"unshift":"push"](()=>{A=q,n(0,A)})}function ge(q){Oe[q?"unshift":"push"](()=>{A=q,n(0,A)})}function Ue(q){Oe[q?"unshift":"push"](()=>{A=q,n(0,A)})}return t.$$set=q=>{e=Y(Y({},e),Ee(q)),n(12,r=re(e,i)),"transition"in q&&n(1,f=q.transition),"transitionConfig"in q&&n(2,c=q.transitionConfig),"inTransition"in q&&n(3,d=q.inTransition),"inTransitionConfig"in q&&n(4,p=q.inTransitionConfig),"outTransition"in q&&n(5,h=q.outTransition),"outTransitionConfig"in q&&n(6,_=q.outTransitionConfig),"id"in q&&n(13,y=q.id),"asChild"in q&&n(7,b=q.asChild),"el"in q&&n(0,A=q.el),"$$scope"in q&&n(15,u=q.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&8192&&y&&V.content.set(y),t.$$.dirty[0]&16384&&n(8,o=l),t.$$.dirty[0]&256&&Object.assign(o,W)},[A,f,c,d,p,h,_,b,o,a,w,D,r,y,l,u,s,B,j,X,P,g,C,N,F,L,K,x,J,m,R,H,te,ie,U,ke,ce,Ne,xe,Ge,nt,Ce,je,Ke,He,Ve,We,Me,Ye,ue,Se,jt,Et,mt,ot,ge,Ue]}let v0=class extends we{constructor(e){super(),ye(this,e,b0,g0,fe,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,id:13,asChild:7,el:0},null,[-1,-1])}};const y0=t=>({builder:t&256}),Ea=t=>({builder:t[8]});function w0(t){let e,n,o,i=[t[8],t[12]],r={};for(let l=0;l<i.length;l+=1)r=Y(r,i[l]);return{c(){e=O("div"),le(e,r)},m(l,a){I(l,e,a),t[20](e),n||(o=Fe(t[8].action(e)),n=!0)},p(l,a){le(e,r=ve(i,[a&256&&l[8],a&4096&&l[12]]))},i:Ae,o:Ae,d(l){l&&T(e),t[20](null),n=!1,o()}}}function k0(t){let e,n,o,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=Y(a,l[s]);return{c(){e=O("div"),le(e,a)},m(s,u){I(s,e,u),t[19](e),o=!0,i||(r=Fe(t[8].action(e)),i=!0)},p(s,u){t=s,le(e,a=ve(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(n&&n.end(1),o=!0)},o(s){s&&(n=Jt(e,t[5],t[6])),o=!1},d(s){s&&T(e),t[19](null),s&&n&&n.end(),i=!1,r()}}}function C0(t){let e,n,o,i,r=[t[8],t[12]],l={};for(let a=0;a<r.length;a+=1)l=Y(l,r[a]);return{c(){e=O("div"),le(e,l)},m(a,s){I(a,e,s),t[18](e),o||(i=Fe(t[8].action(e)),o=!0)},p(a,s){t=a,le(e,l=ve(r,[s&256&&t[8],s&4096&&t[12]]))},i(a){a&&(n||rt(()=>{n=Xt(e,t[3],t[4]),n.start()}))},o:Ae,d(a){a&&T(e),t[18](null),o=!1,i()}}}function A0(t){let e,n,o,i,r,l,a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=Y(s,a[u]);return{c(){e=O("div"),le(e,s)},m(u,f){I(u,e,f),t[17](e),i=!0,r||(l=Fe(t[8].action(e)),r=!0)},p(u,f){t=u,le(e,s=ve(a,[f&256&&t[8],f&4096&&t[12]]))},i(u){i||(u&&rt(()=>{i&&(o&&o.end(1),n=Xt(e,t[3],t[4]),n.start())}),i=!0)},o(u){n&&n.invalidate(),u&&(o=Jt(e,t[5],t[6])),i=!1},d(u){u&&T(e),t[17](null),u&&o&&o.end(),r=!1,l()}}}function S0(t){let e,n,o,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=Y(a,l[s]);return{c(){e=O("div"),le(e,a)},m(s,u){I(s,e,u),t[16](e),o=!0,i||(r=Fe(t[8].action(e)),i=!0)},p(s,u){t=s,le(e,a=ve(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(s&&rt(()=>{o&&(n||(n=Kt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(s){s&&(n||(n=Kt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(s){s&&T(e),t[16](null),s&&n&&n.end(),i=!1,r()}}}function T0(t){let e;const n=t[15].default,o=de(n,t,t[14],Ea);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&16640)&&pe(o,n,i,i[14],e?me(n,i[14],r,y0):_e(i[14]),Ea)},i(i){e||(k(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function I0(t){let e,n,o,i;const r=[T0,S0,A0,C0,k0,w0],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=De()},m(s,u){~e&&l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Te(),S(l[f],1,1,()=>{l[f]=null}),Ie()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(k(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),~e&&l[e].d(s)}}}function O0(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","el"];let r=re(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:p=void 0}=e,{outTransition:h=void 0}=e,{outTransitionConfig:_=void 0}=e,{asChild:y=!1}=e,{el:b=void 0}=e;const{elements:{overlay:A},states:{open:w},getAttrs:D}=Wn();ae(t,A,P=>n(13,l=P)),ae(t,w,P=>n(9,a=P));const V=D("overlay");function E(P){Oe[P?"unshift":"push"](()=>{b=P,n(0,b)})}function W(P){Oe[P?"unshift":"push"](()=>{b=P,n(0,b)})}function B(P){Oe[P?"unshift":"push"](()=>{b=P,n(0,b)})}function j(P){Oe[P?"unshift":"push"](()=>{b=P,n(0,b)})}function X(P){Oe[P?"unshift":"push"](()=>{b=P,n(0,b)})}return t.$$set=P=>{e=Y(Y({},e),Ee(P)),n(12,r=re(e,i)),"transition"in P&&n(1,f=P.transition),"transitionConfig"in P&&n(2,c=P.transitionConfig),"inTransition"in P&&n(3,d=P.inTransition),"inTransitionConfig"in P&&n(4,p=P.inTransitionConfig),"outTransition"in P&&n(5,h=P.outTransition),"outTransitionConfig"in P&&n(6,_=P.outTransitionConfig),"asChild"in P&&n(7,y=P.asChild),"el"in P&&n(0,b=P.el),"$$scope"in P&&n(14,u=P.$$scope)},t.$$.update=()=>{t.$$.dirty&8192&&n(8,o=l),t.$$.dirty&256&&Object.assign(o,V)},[b,f,c,d,p,h,_,y,o,a,A,w,r,l,u,s,E,W,B,j,X]}let P0=class extends we{constructor(e){super(),ye(this,e,O0,I0,fe,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,el:0})}};const M0=t=>({builder:t&4}),Ra=t=>({builder:t[2]}),N0=t=>({builder:t&4}),Da=t=>({builder:t[2]});function E0(t){let e,n,o,i;const r=t[8].default,l=de(r,t,t[7],Ra);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=Y(s,a[u]);return{c(){e=O("div"),l&&l.c(),le(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),t[9](e),n=!0,o||(i=Fe(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&pe(l,r,u,u[7],n?me(r,u[7],f,M0):_e(u[7]),Ra),le(e,s=ve(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(k(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[9](null),o=!1,i()}}}function R0(t){let e;const n=t[8].default,o=de(n,t,t[7],Da);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&pe(o,n,i,i[7],e?me(n,i[7],r,N0):_e(i[7]),Da)},i(i){e||(k(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function D0(t){let e,n,o,i;const r=[R0,E0],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Te(),S(l[f],1,1,()=>{l[f]=null}),Ie(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function L0(t,e,n){let o;const i=["asChild","id","el"];let r=re(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{description:d},ids:p,getAttrs:h}=Wn();ae(t,d,b=>n(6,l=b));const _=h("description");function y(b){Oe[b?"unshift":"push"](()=>{c=b,n(0,c)})}return t.$$set=b=>{e=Y(Y({},e),Ee(b)),n(4,r=re(e,i)),"asChild"in b&&n(1,u=b.asChild),"id"in b&&n(5,f=b.id),"el"in b&&n(0,c=b.el),"$$scope"in b&&n(7,s=b.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f&&p.description.set(f),t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,_)},[c,u,o,d,r,f,l,s,a,y]}let F0=class extends we{constructor(e){super(),ye(this,e,L0,D0,fe,{asChild:1,id:5,el:0})}};function j0(t,e){const n=[];return e.builders.forEach(o=>{const i=o.action(t);i&&n.push(i)}),{destroy:()=>{n.forEach(o=>{o.destroy&&o.destroy()})}}}function La(t){const e={};return t.forEach(n=>{Object.keys(n).forEach(o=>{o!=="action"&&(e[o]=n[o])})}),e}function q0(t){let e=t[1]?"a":"button",n,o,i=(t[1]?"a":"button")&&tl(t);return{c(){i&&i.c(),n=De()},m(r,l){i&&i.m(r,l),I(r,n,l),o=!0},p(r,l){r[1],e?fe(e,r[1]?"a":"button")?(i.d(1),i=tl(r),e=r[1]?"a":"button",i.c(),i.m(n.parentNode,n)):i.p(r,l):(i=tl(r),e=r[1]?"a":"button",i.c(),i.m(n.parentNode,n))},i(r){o||(k(i,r),o=!0)},o(r){S(i,r),o=!1},d(r){r&&T(n),i&&i.d(r)}}}function B0(t){let e=t[1]?"a":"button",n,o,i=(t[1]?"a":"button")&&nl(t);return{c(){i&&i.c(),n=De()},m(r,l){i&&i.m(r,l),I(r,n,l),o=!0},p(r,l){r[1],e?fe(e,r[1]?"a":"button")?(i.d(1),i=nl(r),e=r[1]?"a":"button",i.c(),i.m(n.parentNode,n)):i.p(r,l):(i=nl(r),e=r[1]?"a":"button",i.c(),i.m(n.parentNode,n))},i(r){o||(k(i,r),o=!0)},o(r){S(i,r),o=!1},d(r){r&&T(n),i&&i.d(r)}}}function tl(t){let e,n,o,i,r;const l=t[7].default,a=de(l,t,t[6],null);let s=[{type:n=t[1]?void 0:t[2]},{href:t[1]},{tabindex:"0"},t[5],t[4]],u={};for(let f=0;f<s.length;f+=1)u=Y(u,s[f]);return{c(){e=O(t[1]?"a":"button"),a&&a.c(),bn(t[1]?"a":"button")(e,u)},m(f,c){I(f,e,c),a&&a.m(e,null),o=!0,i||(r=[ee(e,"click",t[14]),ee(e,"change",t[15]),ee(e,"keydown",t[16]),ee(e,"keyup",t[17]),ee(e,"mouseenter",t[18]),ee(e,"mouseleave",t[19])],i=!0)},p(f,c){a&&a.p&&(!o||c&64)&&pe(a,l,f,f[6],o?me(l,f[6],c,null):_e(f[6]),null),bn(f[1]?"a":"button")(e,u=ve(s,[(!o||c&6&&n!==(n=f[1]?void 0:f[2]))&&{type:n},(!o||c&2)&&{href:f[1]},{tabindex:"0"},c&32&&f[5],f[4]]))},i(f){o||(k(a,f),o=!0)},o(f){S(a,f),o=!1},d(f){f&&T(e),a&&a.d(f),i=!1,Be(r)}}}function nl(t){let e,n,o,i,r,l;const a=t[7].default,s=de(a,t,t[6],null);let u=[{type:n=t[1]?void 0:t[2]},{href:t[1]},{tabindex:"0"},La(t[3]),t[5],t[4]],f={};for(let c=0;c<u.length;c+=1)f=Y(f,u[c]);return{c(){e=O(t[1]?"a":"button"),s&&s.c(),bn(t[1]?"a":"button")(e,f)},m(c,d){I(c,e,d),s&&s.m(e,null),t[20](e),i=!0,r||(l=[ee(e,"click",t[8]),ee(e,"change",t[9]),ee(e,"keydown",t[10]),ee(e,"keyup",t[11]),ee(e,"mouseenter",t[12]),ee(e,"mouseleave",t[13]),Fe(o=j0.call(null,e,{builders:t[3]}))],r=!0)},p(c,d){s&&s.p&&(!i||d&64)&&pe(s,a,c,c[6],i?me(a,c[6],d,null):_e(c[6]),null),bn(c[1]?"a":"button")(e,f=ve(u,[(!i||d&6&&n!==(n=c[1]?void 0:c[2]))&&{type:n},(!i||d&2)&&{href:c[1]},{tabindex:"0"},d&8&&La(c[3]),d&32&&c[5],c[4]])),o&&An(o.update)&&d&8&&o.update.call(null,{builders:c[3]})},i(c){i||(k(s,c),i=!0)},o(c){S(s,c),i=!1},d(c){c&&T(e),s&&s.d(c),t[20](null),r=!1,Be(l)}}}function G0(t){let e,n,o,i;const r=[B0,q0],l=[];function a(s,u){return s[3]&&s[3].length?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Te(),S(l[f],1,1,()=>{l[f]=null}),Ie(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function V0(t,e,n){const o=["href","type","builders","el"];let i=re(e,o),{$$slots:r={},$$scope:l}=e,{href:a=void 0}=e,{type:s=void 0}=e,{builders:u=[]}=e,{el:f=void 0}=e;const c={"data-button-root":""};function d(j){ne.call(this,t,j)}function p(j){ne.call(this,t,j)}function h(j){ne.call(this,t,j)}function _(j){ne.call(this,t,j)}function y(j){ne.call(this,t,j)}function b(j){ne.call(this,t,j)}function A(j){ne.call(this,t,j)}function w(j){ne.call(this,t,j)}function D(j){ne.call(this,t,j)}function V(j){ne.call(this,t,j)}function E(j){ne.call(this,t,j)}function W(j){ne.call(this,t,j)}function B(j){Oe[j?"unshift":"push"](()=>{f=j,n(0,f)})}return t.$$set=j=>{e=Y(Y({},e),Ee(j)),n(5,i=re(e,o)),"href"in j&&n(1,a=j.href),"type"in j&&n(2,s=j.type),"builders"in j&&n(3,u=j.builders),"el"in j&&n(0,f=j.el),"$$scope"in j&&n(6,l=j.$$scope)},[f,a,s,u,c,i,l,r,d,p,h,_,y,b,A,w,D,V,E,W,B]}let $0=class extends we{constructor(e){super(),ye(this,e,V0,G0,fe,{href:1,type:2,builders:3,el:0})}};function H0(t){return(e={})=>W0(t,e)}function W0(t,e){const o={...{side:"bottom",align:"center",sideOffset:0,alignOffset:0,sameWidth:!1,avoidCollisions:!0,collisionPadding:8,fitViewport:!1,strategy:"absolute",overlap:!1},...e};t.update(i=>({...i,placement:K0(o.side,o.align),offset:{...i.offset,mainAxis:o.sideOffset,crossAxis:o.alignOffset},gutter:0,sameWidth:o.sameWidth,flip:o.avoidCollisions,overflowPadding:o.collisionPadding,boundary:o.collisionBoundary,fitViewport:o.fitViewport,strategy:o.strategy,overlap:o.overlap}))}function K0(t,e){return e==="center"?t:`${t}-${e}`}function U0(){return{NAME:"separator",PARTS:["root"]}}function Y0(t){const{NAME:e,PARTS:n}=U0(),o=$n(e,n),i={...yh(yo(t)),getAttrs:o};return{...i,updateOption:jn(i.options)}}const X0=t=>({builder:t&4}),Fa=t=>({builder:t[2]});function J0(t){let e,n,o,i=[t[2],t[4]],r={};for(let l=0;l<i.length;l+=1)r=Y(r,i[l]);return{c(){e=O("div"),le(e,r)},m(l,a){I(l,e,a),t[10](e),n||(o=Fe(t[2].action(e)),n=!0)},p(l,a){le(e,r=ve(i,[a&4&&l[2],a&16&&l[4]]))},i:Ae,o:Ae,d(l){l&&T(e),t[10](null),n=!1,o()}}}function x0(t){let e;const n=t[9].default,o=de(n,t,t[8],Fa);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&260)&&pe(o,n,i,i[8],e?me(n,i[8],r,X0):_e(i[8]),Fa)},i(i){e||(k(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Z0(t){let e,n,o,i;const r=[x0,J0],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Te(),S(l[f],1,1,()=>{l[f]=null}),Ie(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function Q0(t,e,n){let o;const i=["orientation","decorative","asChild","el"];let r=re(e,i),l,{$$slots:a={},$$scope:s}=e,{orientation:u="horizontal"}=e,{decorative:f=!0}=e,{asChild:c=!1}=e,{el:d=void 0}=e;const{elements:{root:p},updateOption:h,getAttrs:_}=Y0({orientation:u,decorative:f});ae(t,p,A=>n(7,l=A));const y=_("root");function b(A){Oe[A?"unshift":"push"](()=>{d=A,n(0,d)})}return t.$$set=A=>{e=Y(Y({},e),Ee(A)),n(4,r=re(e,i)),"orientation"in A&&n(5,u=A.orientation),"decorative"in A&&n(6,f=A.decorative),"asChild"in A&&n(1,c=A.asChild),"el"in A&&n(0,d=A.el),"$$scope"in A&&n(8,s=A.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&h("orientation",u),t.$$.dirty&64&&h("decorative",f),t.$$.dirty&128&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,y)},[d,c,o,p,r,u,f,l,s,a,b]}let z0=class extends we{constructor(e){super(),ye(this,e,Q0,Z0,fe,{orientation:5,decorative:6,asChild:1,el:0})}};function rd(){return{NAME:"dialog",PARTS:["close","content","description","overlay","portal","title","trigger"]}}function eg(t){const{NAME:e,PARTS:n}=rd(),o=$n(e,n),i={...od({...yo(t),role:"dialog",forceVisible:!0}),getAttrs:o};return kr(e,i),{...i,updateOption:jn(i.options)}}function wo(){const{NAME:t}=rd();return Cr(t)}const tg=t=>({ids:t&1}),ja=t=>({ids:t[0]});function ng(t){let e;const n=t[12].default,o=de(n,t,t[11],ja);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,[r]){o&&o.p&&(!e||r&2049)&&pe(o,n,i,i[11],e?me(n,i[11],r,tg):_e(i[11]),ja)},i(i){e||(k(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function og(t,e,n){let o,{$$slots:i={},$$scope:r}=e,{preventScroll:l=void 0}=e,{closeOnEscape:a=void 0}=e,{closeOnOutsideClick:s=void 0}=e,{portal:u=void 0}=e,{open:f=void 0}=e,{onOpenChange:c=void 0}=e,{openFocus:d=void 0}=e,{closeFocus:p=void 0}=e,{onOutsideClick:h=void 0}=e;const{states:{open:_},updateOption:y,ids:b}=eg({closeOnEscape:a,preventScroll:l,closeOnOutsideClick:s,portal:u,forceVisible:!0,defaultOpen:f,openFocus:d,closeFocus:p,onOutsideClick:h,onOpenChange:({next:w})=>(f!==w&&(c==null||c(w),n(2,f=w)),w)}),A=ln([b.content,b.description,b.title],([w,D,V])=>({content:w,description:D,title:V}));return ae(t,A,w=>n(0,o=w)),t.$$set=w=>{"preventScroll"in w&&n(3,l=w.preventScroll),"closeOnEscape"in w&&n(4,a=w.closeOnEscape),"closeOnOutsideClick"in w&&n(5,s=w.closeOnOutsideClick),"portal"in w&&n(6,u=w.portal),"open"in w&&n(2,f=w.open),"onOpenChange"in w&&n(7,c=w.onOpenChange),"openFocus"in w&&n(8,d=w.openFocus),"closeFocus"in w&&n(9,p=w.closeFocus),"onOutsideClick"in w&&n(10,h=w.onOutsideClick),"$$scope"in w&&n(11,r=w.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&f!==void 0&&_.set(f),t.$$.dirty&8&&y("preventScroll",l),t.$$.dirty&16&&y("closeOnEscape",a),t.$$.dirty&32&&y("closeOnOutsideClick",s),t.$$.dirty&64&&y("portal",u),t.$$.dirty&256&&y("openFocus",d),t.$$.dirty&512&&y("closeFocus",p),t.$$.dirty&1024&&y("onOutsideClick",h)},[o,A,f,l,a,s,u,c,d,p,h,r,i]}class ig extends we{constructor(e){super(),ye(this,e,og,ng,fe,{preventScroll:3,closeOnEscape:4,closeOnOutsideClick:5,portal:6,open:2,onOpenChange:7,openFocus:8,closeFocus:9,onOutsideClick:10})}}const rg=t=>({builder:t&8}),qa=t=>({builder:t[3]}),lg=t=>({builder:t&8}),Ba=t=>({builder:t[3]});function sg(t){let e=t[1],n,o,i=t[1]&&ol(t);return{c(){i&&i.c(),n=De()},m(r,l){i&&i.m(r,l),I(r,n,l),o=!0},p(r,l){r[1]?e?fe(e,r[1])?(i.d(1),i=ol(r),e=r[1],i.c(),i.m(n.parentNode,n)):i.p(r,l):(i=ol(r),e=r[1],i.c(),i.m(n.parentNode,n)):e&&(i.d(1),i=null,e=r[1])},i(r){o||(k(i,r),o=!0)},o(r){S(i,r),o=!1},d(r){r&&T(n),i&&i.d(r)}}}function ag(t){let e;const n=t[9].default,o=de(n,t,t[8],Ba);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&264)&&pe(o,n,i,i[8],e?me(n,i[8],r,lg):_e(i[8]),Ba)},i(i){e||(k(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function ol(t){let e,n,o,i;const r=t[9].default,l=de(r,t,t[8],qa);let a=[t[3],t[5]],s={};for(let u=0;u<a.length;u+=1)s=Y(s,a[u]);return{c(){e=O(t[1]),l&&l.c(),bn(t[1])(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),t[10](e),n=!0,o||(i=Fe(t[3].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&264)&&pe(l,r,u,u[8],n?me(r,u[8],f,rg):_e(u[8]),qa),bn(u[1])(e,s=ve(a,[f&8&&u[3],f&32&&u[5]]))},i(u){n||(k(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[10](null),o=!1,i()}}}function ug(t){let e,n,o,i;const r=[ag,sg],l=[];function a(s,u){return s[2]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Te(),S(l[f],1,1,()=>{l[f]=null}),Ie(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function fg(t,e,n){let o;const i=["level","asChild","id","el"];let r=re(e,i),l,{$$slots:a={},$$scope:s}=e,{level:u="h2"}=e,{asChild:f=!1}=e,{id:c=void 0}=e,{el:d=void 0}=e;const{elements:{title:p},ids:h,getAttrs:_}=wo();ae(t,p,A=>n(7,l=A));const y=_("title");function b(A){Oe[A?"unshift":"push"](()=>{d=A,n(0,d)})}return t.$$set=A=>{e=Y(Y({},e),Ee(A)),n(5,r=re(e,i)),"level"in A&&n(1,u=A.level),"asChild"in A&&n(2,f=A.asChild),"id"in A&&n(6,c=A.id),"el"in A&&n(0,d=A.el),"$$scope"in A&&n(8,s=A.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&c&&h.title.set(c),t.$$.dirty&128&&n(3,o=l),t.$$.dirty&8&&Object.assign(o,y)},[d,u,f,o,p,r,c,l,s,a,b]}let cg=class extends we{constructor(e){super(),ye(this,e,fg,ug,fe,{level:1,asChild:2,id:6,el:0})}};const dg=t=>({builder:t&4}),Ga=t=>({builder:t[2]}),mg=t=>({builder:t&4}),Va=t=>({builder:t[2]});function pg(t){let e,n,o,i;const r=t[8].default,l=de(r,t,t[7],Ga);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=Y(s,a[u]);return{c(){e=O("button"),l&&l.c(),le(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[9](e),n=!0,o||(i=[Fe(t[2].action(e)),ee(e,"m-click",t[4]),ee(e,"m-keydown",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&pe(l,r,u,u[7],n?me(r,u[7],f,dg):_e(u[7]),Ga),le(e,s=ve(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(k(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[9](null),o=!1,Be(i)}}}function _g(t){let e;const n=t[8].default,o=de(n,t,t[7],Va);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&pe(o,n,i,i[7],e?me(n,i[7],r,mg):_e(i[7]),Va)},i(i){e||(k(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function hg(t){let e,n,o,i;const r=[_g,pg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Te(),S(l[f],1,1,()=>{l[f]=null}),Ie(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function gg(t,e,n){let o;const i=["asChild","el"];let r=re(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{close:c},getAttrs:d}=wo();ae(t,c,y=>n(6,l=y));const p=Hn(),h=d("close");function _(y){Oe[y?"unshift":"push"](()=>{f=y,n(0,f)})}return t.$$set=y=>{e=Y(Y({},e),Ee(y)),n(5,r=re(e,i)),"asChild"in y&&n(1,u=y.asChild),"el"in y&&n(0,f=y.el),"$$scope"in y&&n(7,s=y.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,h)},[f,u,o,c,p,r,l,s,a,_]}class bg extends we{constructor(e){super(),ye(this,e,gg,hg,fe,{asChild:1,el:0})}}const vg=t=>({builder:t&4}),$a=t=>({builder:t[2]}),yg=t=>({builder:t&4}),Ha=t=>({builder:t[2]});function wg(t){let e,n,o,i;const r=t[7].default,l=de(r,t,t[6],$a);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=Y(s,a[u]);return{c(){e=O("div"),l&&l.c(),le(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),t[8](e),n=!0,o||(i=Fe(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&68)&&pe(l,r,u,u[6],n?me(r,u[6],f,vg):_e(u[6]),$a),le(e,s=ve(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(k(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[8](null),o=!1,i()}}}function kg(t){let e;const n=t[7].default,o=de(n,t,t[6],Ha);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&68)&&pe(o,n,i,i[6],e?me(n,i[6],r,yg):_e(i[6]),Ha)},i(i){e||(k(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Cg(t){let e,n,o,i;const r=[kg,wg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Te(),S(l[f],1,1,()=>{l[f]=null}),Ie(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function Ag(t,e,n){let o;const i=["asChild","el"];let r=re(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{portalled:c},getAttrs:d}=wo();ae(t,c,_=>n(5,l=_));const p=d("portal");function h(_){Oe[_?"unshift":"push"](()=>{f=_,n(0,f)})}return t.$$set=_=>{e=Y(Y({},e),Ee(_)),n(4,r=re(e,i)),"asChild"in _&&n(1,u=_.asChild),"el"in _&&n(0,f=_.el),"$$scope"in _&&n(6,s=_.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,p)},[f,u,o,c,r,l,s,a,h]}let Sg=class extends we{constructor(e){super(),ye(this,e,Ag,Cg,fe,{asChild:1,el:0})}};const Tg=t=>({builder:t[0]&256}),Wa=t=>({builder:t[8]}),Ig=t=>({builder:t[0]&256}),Ka=t=>({builder:t[8]}),Og=t=>({builder:t[0]&256}),Ua=t=>({builder:t[8]}),Pg=t=>({builder:t[0]&256}),Ya=t=>({builder:t[8]}),Mg=t=>({builder:t[0]&256}),Xa=t=>({builder:t[8]}),Ng=t=>({builder:t[0]&256}),Ja=t=>({builder:t[8]});function Eg(t){let e,n,o,i;const r=t[16].default,l=de(r,t,t[15],Wa);let a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=Y(s,a[u]);return{c(){e=O("div"),l&&l.c(),le(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),t[56](e),n=!0,o||(i=[Fe(t[8].action(e)),ee(e,"pointerdown",t[45]),ee(e,"pointermove",t[46]),ee(e,"pointerup",t[47]),ee(e,"touchend",t[48]),ee(e,"touchstart",t[49]),ee(e,"touchcancel",t[50]),ee(e,"touchmove",t[51])],o=!0)},p(u,f){l&&l.p&&(!n||f[0]&33024)&&pe(l,r,u,u[15],n?me(r,u[15],f,Tg):_e(u[15]),Wa),le(e,s=ve(a,[f[0]&256&&u[8],f[0]&4096&&u[12]]))},i(u){n||(k(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[56](null),o=!1,Be(i)}}}function Rg(t){let e,n,o,i,r;const l=t[16].default,a=de(l,t,t[15],Ka);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Y(u,s[f]);return{c(){e=O("div"),a&&a.c(),le(e,u)},m(f,c){I(f,e,c),a&&a.m(e,null),t[55](e),o=!0,i||(r=[Fe(t[8].action(e)),ee(e,"pointerdown",t[38]),ee(e,"pointermove",t[39]),ee(e,"pointerup",t[40]),ee(e,"touchend",t[41]),ee(e,"touchstart",t[42]),ee(e,"touchcancel",t[43]),ee(e,"touchmove",t[44])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&pe(a,l,t,t[15],o?me(l,t[15],c,Ig):_e(t[15]),Ka),le(e,u=ve(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(k(a,f),n&&n.end(1),o=!0)},o(f){S(a,f),f&&(n=Jt(e,t[5],t[6])),o=!1},d(f){f&&T(e),a&&a.d(f),t[55](null),f&&n&&n.end(),i=!1,Be(r)}}}function Dg(t){let e,n,o,i,r;const l=t[16].default,a=de(l,t,t[15],Ua);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Y(u,s[f]);return{c(){e=O("div"),a&&a.c(),le(e,u)},m(f,c){I(f,e,c),a&&a.m(e,null),t[54](e),o=!0,i||(r=[Fe(t[8].action(e)),ee(e,"pointerdown",t[31]),ee(e,"pointermove",t[32]),ee(e,"pointerup",t[33]),ee(e,"touchend",t[34]),ee(e,"touchstart",t[35]),ee(e,"touchcancel",t[36]),ee(e,"touchmove",t[37])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&pe(a,l,t,t[15],o?me(l,t[15],c,Og):_e(t[15]),Ua),le(e,u=ve(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(k(a,f),f&&(n||rt(()=>{n=Xt(e,t[3],t[4]),n.start()})),o=!0)},o(f){S(a,f),o=!1},d(f){f&&T(e),a&&a.d(f),t[54](null),i=!1,Be(r)}}}function Lg(t){let e,n,o,i,r,l;const a=t[16].default,s=de(a,t,t[15],Ya);let u=[t[8],t[12]],f={};for(let c=0;c<u.length;c+=1)f=Y(f,u[c]);return{c(){e=O("div"),s&&s.c(),le(e,f)},m(c,d){I(c,e,d),s&&s.m(e,null),t[53](e),i=!0,r||(l=[Fe(t[8].action(e)),ee(e,"pointerdown",t[24]),ee(e,"pointermove",t[25]),ee(e,"pointerup",t[26]),ee(e,"touchend",t[27]),ee(e,"touchstart",t[28]),ee(e,"touchcancel",t[29]),ee(e,"touchmove",t[30])],r=!0)},p(c,d){t=c,s&&s.p&&(!i||d[0]&33024)&&pe(s,a,t,t[15],i?me(a,t[15],d,Pg):_e(t[15]),Ya),le(e,f=ve(u,[d[0]&256&&t[8],d[0]&4096&&t[12]]))},i(c){i||(k(s,c),c&&rt(()=>{i&&(o&&o.end(1),n=Xt(e,t[3],t[4]),n.start())}),i=!0)},o(c){S(s,c),n&&n.invalidate(),c&&(o=Jt(e,t[5],t[6])),i=!1},d(c){c&&T(e),s&&s.d(c),t[53](null),c&&o&&o.end(),r=!1,Be(l)}}}function Fg(t){let e,n,o,i,r;const l=t[16].default,a=de(l,t,t[15],Xa);let s=[t[8],t[12]],u={};for(let f=0;f<s.length;f+=1)u=Y(u,s[f]);return{c(){e=O("div"),a&&a.c(),le(e,u)},m(f,c){I(f,e,c),a&&a.m(e,null),t[52](e),o=!0,i||(r=[Fe(t[8].action(e)),ee(e,"pointerdown",t[17]),ee(e,"pointermove",t[18]),ee(e,"pointerup",t[19]),ee(e,"touchend",t[20]),ee(e,"touchstart",t[21]),ee(e,"touchcancel",t[22]),ee(e,"touchmove",t[23])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&33024)&&pe(a,l,t,t[15],o?me(l,t[15],c,Mg):_e(t[15]),Xa),le(e,u=ve(s,[c[0]&256&&t[8],c[0]&4096&&t[12]]))},i(f){o||(k(a,f),f&&rt(()=>{o&&(n||(n=Kt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(f){S(a,f),f&&(n||(n=Kt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(f){f&&T(e),a&&a.d(f),t[52](null),f&&n&&n.end(),i=!1,Be(r)}}}function jg(t){let e;const n=t[16].default,o=de(n,t,t[15],Ja);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r[0]&33024)&&pe(o,n,i,i[15],e?me(n,i[15],r,Ng):_e(i[15]),Ja)},i(i){e||(k(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function qg(t){let e,n,o,i;const r=[jg,Fg,Lg,Dg,Rg,Eg],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=De()},m(s,u){~e&&l[e].m(s,u),I(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Te(),S(l[f],1,1,()=>{l[f]=null}),Ie()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(k(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),~e&&l[e].d(s)}}}function Bg(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","id","el"];let r=re(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:p=void 0}=e,{outTransition:h=void 0}=e,{outTransitionConfig:_=void 0}=e,{asChild:y=!1}=e,{id:b=void 0}=e,{el:A=void 0}=e;const{elements:{content:w},states:{open:D},ids:V,getAttrs:E}=wo();ae(t,w,q=>n(14,l=q)),ae(t,D,q=>n(9,a=q));const W=E("content");function B(q){ne.call(this,t,q)}function j(q){ne.call(this,t,q)}function X(q){ne.call(this,t,q)}function P(q){ne.call(this,t,q)}function g(q){ne.call(this,t,q)}function C(q){ne.call(this,t,q)}function N(q){ne.call(this,t,q)}function F(q){ne.call(this,t,q)}function L(q){ne.call(this,t,q)}function K(q){ne.call(this,t,q)}function x(q){ne.call(this,t,q)}function J(q){ne.call(this,t,q)}function m(q){ne.call(this,t,q)}function R(q){ne.call(this,t,q)}function H(q){ne.call(this,t,q)}function te(q){ne.call(this,t,q)}function ie(q){ne.call(this,t,q)}function U(q){ne.call(this,t,q)}function ke(q){ne.call(this,t,q)}function ce(q){ne.call(this,t,q)}function Ne(q){ne.call(this,t,q)}function xe(q){ne.call(this,t,q)}function Ge(q){ne.call(this,t,q)}function nt(q){ne.call(this,t,q)}function Ce(q){ne.call(this,t,q)}function je(q){ne.call(this,t,q)}function Ke(q){ne.call(this,t,q)}function He(q){ne.call(this,t,q)}function Ve(q){ne.call(this,t,q)}function We(q){ne.call(this,t,q)}function Me(q){ne.call(this,t,q)}function Ye(q){ne.call(this,t,q)}function ue(q){ne.call(this,t,q)}function Se(q){ne.call(this,t,q)}function jt(q){ne.call(this,t,q)}function Et(q){Oe[q?"unshift":"push"](()=>{A=q,n(0,A)})}function mt(q){Oe[q?"unshift":"push"](()=>{A=q,n(0,A)})}function ot(q){Oe[q?"unshift":"push"](()=>{A=q,n(0,A)})}function ge(q){Oe[q?"unshift":"push"](()=>{A=q,n(0,A)})}function Ue(q){Oe[q?"unshift":"push"](()=>{A=q,n(0,A)})}return t.$$set=q=>{e=Y(Y({},e),Ee(q)),n(12,r=re(e,i)),"transition"in q&&n(1,f=q.transition),"transitionConfig"in q&&n(2,c=q.transitionConfig),"inTransition"in q&&n(3,d=q.inTransition),"inTransitionConfig"in q&&n(4,p=q.inTransitionConfig),"outTransition"in q&&n(5,h=q.outTransition),"outTransitionConfig"in q&&n(6,_=q.outTransitionConfig),"asChild"in q&&n(7,y=q.asChild),"id"in q&&n(13,b=q.id),"el"in q&&n(0,A=q.el),"$$scope"in q&&n(15,u=q.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&8192&&b&&V.content.set(b),t.$$.dirty[0]&16384&&n(8,o=l),t.$$.dirty[0]&256&&Object.assign(o,W)},[A,f,c,d,p,h,_,y,o,a,w,D,r,b,l,u,s,B,j,X,P,g,C,N,F,L,K,x,J,m,R,H,te,ie,U,ke,ce,Ne,xe,Ge,nt,Ce,je,Ke,He,Ve,We,Me,Ye,ue,Se,jt,Et,mt,ot,ge,Ue]}let Gg=class extends we{constructor(e){super(),ye(this,e,Bg,qg,fe,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,id:13,el:0},null,[-1,-1])}};const Vg=t=>({builder:t&256}),xa=t=>({builder:t[8]});function $g(t){let e,n,o,i=[t[8],t[12]],r={};for(let l=0;l<i.length;l+=1)r=Y(r,i[l]);return{c(){e=O("div"),le(e,r)},m(l,a){I(l,e,a),t[25](e),n||(o=[Fe(t[8].action(e)),ee(e,"mouseup",t[20])],n=!0)},p(l,a){le(e,r=ve(i,[a&256&&l[8],a&4096&&l[12]]))},i:Ae,o:Ae,d(l){l&&T(e),t[25](null),n=!1,Be(o)}}}function Hg(t){let e,n,o,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=Y(a,l[s]);return{c(){e=O("div"),le(e,a)},m(s,u){I(s,e,u),t[24](e),o=!0,i||(r=[Fe(t[8].action(e)),ee(e,"mouseup",t[19])],i=!0)},p(s,u){t=s,le(e,a=ve(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(n&&n.end(1),o=!0)},o(s){s&&(n=Jt(e,t[5],t[6])),o=!1},d(s){s&&T(e),t[24](null),s&&n&&n.end(),i=!1,Be(r)}}}function Wg(t){let e,n,o,i,r=[t[8],t[12]],l={};for(let a=0;a<r.length;a+=1)l=Y(l,r[a]);return{c(){e=O("div"),le(e,l)},m(a,s){I(a,e,s),t[23](e),o||(i=[Fe(t[8].action(e)),ee(e,"mouseup",t[18])],o=!0)},p(a,s){t=a,le(e,l=ve(r,[s&256&&t[8],s&4096&&t[12]]))},i(a){a&&(n||rt(()=>{n=Xt(e,t[3],t[4]),n.start()}))},o:Ae,d(a){a&&T(e),t[23](null),o=!1,Be(i)}}}function Kg(t){let e,n,o,i,r,l,a=[t[8],t[12]],s={};for(let u=0;u<a.length;u+=1)s=Y(s,a[u]);return{c(){e=O("div"),le(e,s)},m(u,f){I(u,e,f),t[22](e),i=!0,r||(l=[Fe(t[8].action(e)),ee(e,"mouseup",t[17])],r=!0)},p(u,f){t=u,le(e,s=ve(a,[f&256&&t[8],f&4096&&t[12]]))},i(u){i||(u&&rt(()=>{i&&(o&&o.end(1),n=Xt(e,t[3],t[4]),n.start())}),i=!0)},o(u){n&&n.invalidate(),u&&(o=Jt(e,t[5],t[6])),i=!1},d(u){u&&T(e),t[22](null),u&&o&&o.end(),r=!1,Be(l)}}}function Ug(t){let e,n,o,i,r,l=[t[8],t[12]],a={};for(let s=0;s<l.length;s+=1)a=Y(a,l[s]);return{c(){e=O("div"),le(e,a)},m(s,u){I(s,e,u),t[21](e),o=!0,i||(r=[ee(e,"mouseup",t[16]),Fe(t[8].action(e))],i=!0)},p(s,u){t=s,le(e,a=ve(l,[u&256&&t[8],u&4096&&t[12]]))},i(s){o||(s&&rt(()=>{o&&(n||(n=Kt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(s){s&&(n||(n=Kt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(s){s&&T(e),t[21](null),s&&n&&n.end(),i=!1,Be(r)}}}function Yg(t){let e;const n=t[15].default,o=de(n,t,t[14],xa);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&16640)&&pe(o,n,i,i[14],e?me(n,i[14],r,Vg):_e(i[14]),xa)},i(i){e||(k(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Xg(t){let e,n,o,i;const r=[Yg,Ug,Kg,Wg,Hg,$g],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=De()},m(s,u){~e&&l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Te(),S(l[f],1,1,()=>{l[f]=null}),Ie()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(k(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),~e&&l[e].d(s)}}}function Jg(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","el"];let r=re(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:p=void 0}=e,{outTransition:h=void 0}=e,{outTransitionConfig:_=void 0}=e,{asChild:y=!1}=e,{el:b=void 0}=e;const{elements:{overlay:A},states:{open:w},getAttrs:D}=wo();ae(t,A,L=>n(13,l=L)),ae(t,w,L=>n(9,a=L));const V=D("overlay");function E(L){ne.call(this,t,L)}function W(L){ne.call(this,t,L)}function B(L){ne.call(this,t,L)}function j(L){ne.call(this,t,L)}function X(L){ne.call(this,t,L)}function P(L){Oe[L?"unshift":"push"](()=>{b=L,n(0,b)})}function g(L){Oe[L?"unshift":"push"](()=>{b=L,n(0,b)})}function C(L){Oe[L?"unshift":"push"](()=>{b=L,n(0,b)})}function N(L){Oe[L?"unshift":"push"](()=>{b=L,n(0,b)})}function F(L){Oe[L?"unshift":"push"](()=>{b=L,n(0,b)})}return t.$$set=L=>{e=Y(Y({},e),Ee(L)),n(12,r=re(e,i)),"transition"in L&&n(1,f=L.transition),"transitionConfig"in L&&n(2,c=L.transitionConfig),"inTransition"in L&&n(3,d=L.inTransition),"inTransitionConfig"in L&&n(4,p=L.inTransitionConfig),"outTransition"in L&&n(5,h=L.outTransition),"outTransitionConfig"in L&&n(6,_=L.outTransitionConfig),"asChild"in L&&n(7,y=L.asChild),"el"in L&&n(0,b=L.el),"$$scope"in L&&n(14,u=L.$$scope)},t.$$.update=()=>{t.$$.dirty&8192&&n(8,o=l),t.$$.dirty&256&&Object.assign(o,V)},[b,f,c,d,p,h,_,y,o,a,A,w,r,l,u,s,E,W,B,j,X,P,g,C,N,F]}let xg=class extends we{constructor(e){super(),ye(this,e,Jg,Xg,fe,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,el:0})}};const Zg=t=>({builder:t&4}),Za=t=>({builder:t[2]}),Qg=t=>({builder:t&4}),Qa=t=>({builder:t[2]});function zg(t){let e,n,o,i;const r=t[8].default,l=de(r,t,t[7],Za);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=Y(s,a[u]);return{c(){e=O("div"),l&&l.c(),le(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),t[9](e),n=!0,o||(i=Fe(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&pe(l,r,u,u[7],n?me(r,u[7],f,Zg):_e(u[7]),Za),le(e,s=ve(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(k(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[9](null),o=!1,i()}}}function e1(t){let e;const n=t[8].default,o=de(n,t,t[7],Qa);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&pe(o,n,i,i[7],e?me(n,i[7],r,Qg):_e(i[7]),Qa)},i(i){e||(k(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function t1(t){let e,n,o,i;const r=[e1,zg],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Te(),S(l[f],1,1,()=>{l[f]=null}),Ie(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function n1(t,e,n){let o;const i=["asChild","id","el"];let r=re(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{description:d},ids:p,getAttrs:h}=wo();ae(t,d,b=>n(6,l=b));const _=h("description");function y(b){Oe[b?"unshift":"push"](()=>{c=b,n(0,c)})}return t.$$set=b=>{e=Y(Y({},e),Ee(b)),n(4,r=re(e,i)),"asChild"in b&&n(1,u=b.asChild),"id"in b&&n(5,f=b.id),"el"in b&&n(0,c=b.el),"$$scope"in b&&n(7,s=b.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f&&p.description.set(f),t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,_)},[c,u,o,d,r,f,l,s,a,y]}let o1=class extends we{constructor(e){super(),ye(this,e,n1,t1,fe,{asChild:1,id:5,el:0})}};function i1(){const t="label",n=$n(t,["root"]);return{NAME:t,getAttrs:n}}const r1=t=>({builder:t&4}),za=t=>({builder:t[2]}),l1=t=>({builder:t&4}),eu=t=>({builder:t[2]});function s1(t){let e,n,o,i;const r=t[8].default,l=de(r,t,t[7],za);let a=[t[2],t[5]],s={};for(let u=0;u<a.length;u+=1)s=Y(s,a[u]);return{c(){e=O("label"),l&&l.c(),le(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),t[9](e),n=!0,o||(i=[Fe(t[2].action(e)),ee(e,"m-mousedown",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&132)&&pe(l,r,u,u[7],n?me(r,u[7],f,r1):_e(u[7]),za),le(e,s=ve(a,[f&4&&u[2],f&32&&u[5]]))},i(u){n||(k(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[9](null),o=!1,Be(i)}}}function a1(t){let e;const n=t[8].default,o=de(n,t,t[7],eu);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&132)&&pe(o,n,i,i[7],e?me(n,i[7],r,l1):_e(i[7]),eu)},i(i){e||(k(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function u1(t){let e,n,o,i;const r=[a1,s1],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Te(),S(l[f],1,1,()=>{l[f]=null}),Ie(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function f1(t,e,n){let o;const i=["asChild","el"];let r=re(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{root:c}}=mh();ae(t,c,y=>n(6,l=y));const d=Hn(),{getAttrs:p}=i1(),h=p("root");function _(y){Oe[y?"unshift":"push"](()=>{f=y,n(0,f)})}return t.$$set=y=>{e=Y(Y({},e),Ee(y)),n(5,r=re(e,i)),"asChild"in y&&n(1,u=y.asChild),"el"in y&&n(0,f=y.el),"$$scope"in y&&n(7,s=y.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,h)},[f,u,o,c,d,r,l,s,a,_]}let c1=class extends we{constructor(e){super(),ye(this,e,f1,u1,fe,{asChild:1,el:0})}};function d1(){return{NAME:"progress",PARTS:["root"]}}function m1(t){const{NAME:e,PARTS:n}=d1(),o=$n(e,n),i={...bh(yo(t)),getAttrs:o};return{...i,updateOption:jn(i.options)}}const p1=t=>({builder:t&4}),tu=t=>({builder:t[2]}),_1=t=>({builder:t&4}),nu=t=>({builder:t[2]});function h1(t){let e,n,o,i;const r=t[10].default,l=de(r,t,t[9],tu);let a=[t[2],t[4]],s={};for(let u=0;u<a.length;u+=1)s=Y(s,a[u]);return{c(){e=O("div"),l&&l.c(),le(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),t[11](e),n=!0,o||(i=Fe(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&516)&&pe(l,r,u,u[9],n?me(r,u[9],f,p1):_e(u[9]),tu),le(e,s=ve(a,[f&4&&u[2],f&16&&u[4]]))},i(u){n||(k(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[11](null),o=!1,i()}}}function g1(t){let e;const n=t[10].default,o=de(n,t,t[9],nu);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&516)&&pe(o,n,i,i[9],e?me(n,i[9],r,_1):_e(i[9]),nu)},i(i){e||(k(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function b1(t){let e,n,o,i;const r=[g1,h1],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Te(),S(l[f],1,1,()=>{l[f]=null}),Ie(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function v1(t,e,n){let o;const i=["max","value","onValueChange","asChild","el"];let r=re(e,i),l,{$$slots:a={},$$scope:s}=e,{max:u=void 0}=e,{value:f=void 0}=e,{onValueChange:c=void 0}=e,{asChild:d=!1}=e,{el:p=void 0}=e;const{elements:{root:h},states:{value:_},updateOption:y,getAttrs:b}=m1({max:u,defaultValue:f,onValueChange:({next:D})=>(c==null||c(D),n(5,f=D),D)});ae(t,h,D=>n(8,l=D));const A=b("root");function w(D){Oe[D?"unshift":"push"](()=>{p=D,n(0,p)})}return t.$$set=D=>{e=Y(Y({},e),Ee(D)),n(4,r=re(e,i)),"max"in D&&n(6,u=D.max),"value"in D&&n(5,f=D.value),"onValueChange"in D&&n(7,c=D.onValueChange),"asChild"in D&&n(1,d=D.asChild),"el"in D&&n(0,p=D.el),"$$scope"in D&&n(9,s=D.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&f!==void 0&&_.set(f),t.$$.dirty&64&&y("max",u),t.$$.dirty&256&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,A)},[p,d,o,h,r,f,u,c,l,s,a,w]}let y1=class extends we{constructor(e){super(),ye(this,e,v1,b1,fe,{max:6,value:5,onValueChange:7,asChild:1,el:0})}};function ld(){return{NAME:"slider",PARTS:["root","input","range","thumb","tick"]}}function w1(t){const{NAME:e,PARTS:n}=ld(),o=$n(e,n),i={...kh(yo(t)),getAttrs:o};return kr(e,i),{...i,updateOption:jn(i.options)}}function sd(){const{NAME:t}=ld();return Cr(t)}const k1=t=>({builder:t&4,ticks:t&8,thumbs:t&16}),ou=t=>({builder:t[2],ticks:t[3],thumbs:t[4]}),C1=t=>({builder:t&4,ticks:t&8,thumbs:t&16}),iu=t=>({builder:t[2],ticks:t[3],thumbs:t[4]});function A1(t){let e,n,o,i;const r=t[18].default,l=de(r,t,t[17],ou);let a=[t[2],t[8]],s={};for(let u=0;u<a.length;u+=1)s=Y(s,a[u]);return{c(){e=O("span"),l&&l.c(),le(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),t[19](e),n=!0,o||(i=Fe(t[2].action(e)),o=!0)},p(u,f){l&&l.p&&(!n||f&131100)&&pe(l,r,u,u[17],n?me(r,u[17],f,k1):_e(u[17]),ou),le(e,s=ve(a,[f&4&&u[2],f&256&&u[8]]))},i(u){n||(k(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[19](null),o=!1,i()}}}function S1(t){let e;const n=t[18].default,o=de(n,t,t[17],iu);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&131100)&&pe(o,n,i,i[17],e?me(n,i[17],r,C1):_e(i[17]),iu)},i(i){e||(k(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function T1(t){let e,n,o,i;const r=[S1,A1],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Te(),S(l[f],1,1,()=>{l[f]=null}),Ie(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function I1(t,e,n){let o;const i=["disabled","min","max","step","orientation","value","onValueChange","asChild","el"];let r=re(e,i),l,a,s,{$$slots:u={},$$scope:f}=e,{disabled:c=void 0}=e,{min:d=void 0}=e,{max:p=void 0}=e,{step:h=void 0}=e,{orientation:_=void 0}=e,{value:y=void 0}=e,{onValueChange:b=void 0}=e,{asChild:A=!1}=e,{el:w=void 0}=e;const{elements:{root:D,ticks:V,thumbs:E},states:{value:W},updateOption:B,getAttrs:j}=w1({disabled:c,min:d,max:p,step:h,orientation:_,defaultValue:y,onValueChange:({next:g})=>(y!==g&&(b==null||b(g),n(9,y=g)),g)});ae(t,D,g=>n(16,l=g)),ae(t,V,g=>n(3,a=g)),ae(t,E,g=>n(4,s=g));const X=j("root");function P(g){Oe[g?"unshift":"push"](()=>{w=g,n(0,w)})}return t.$$set=g=>{e=Y(Y({},e),Ee(g)),n(8,r=re(e,i)),"disabled"in g&&n(10,c=g.disabled),"min"in g&&n(11,d=g.min),"max"in g&&n(12,p=g.max),"step"in g&&n(13,h=g.step),"orientation"in g&&n(14,_=g.orientation),"value"in g&&n(9,y=g.value),"onValueChange"in g&&n(15,b=g.onValueChange),"asChild"in g&&n(1,A=g.asChild),"el"in g&&n(0,w=g.el),"$$scope"in g&&n(17,f=g.$$scope)},t.$$.update=()=>{t.$$.dirty&512&&y!==void 0&&W.set(y),t.$$.dirty&1024&&B("disabled",c),t.$$.dirty&2048&&B("min",d),t.$$.dirty&4096&&B("max",p),t.$$.dirty&8192&&B("step",h),t.$$.dirty&16384&&B("orientation",_),t.$$.dirty&65536&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,X)},[w,A,o,a,s,D,V,E,r,y,c,d,p,h,_,b,l,f,u,P]}let O1=class extends we{constructor(e){super(),ye(this,e,I1,T1,fe,{disabled:10,min:11,max:12,step:13,orientation:14,value:9,onValueChange:15,asChild:1,el:0})}};const P1=t=>({builder:t&4}),ru=t=>({builder:t[2]});function M1(t){let e,n,o,i=[t[2],t[4]],r={};for(let l=0;l<i.length;l+=1)r=Y(r,i[l]);return{c(){e=O("span"),le(e,r)},m(l,a){I(l,e,a),t[8](e),n||(o=Fe(t[2].action(e)),n=!0)},p(l,a){le(e,r=ve(i,[a&4&&l[2],a&16&&l[4]]))},i:Ae,o:Ae,d(l){l&&T(e),t[8](null),n=!1,o()}}}function N1(t){let e;const n=t[7].default,o=de(n,t,t[6],ru);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&68)&&pe(o,n,i,i[6],e?me(n,i[6],r,P1):_e(i[6]),ru)},i(i){e||(k(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function E1(t){let e,n,o,i;const r=[N1,M1],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Te(),S(l[f],1,1,()=>{l[f]=null}),Ie(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function R1(t,e,n){let o;const i=["asChild","el"];let r=re(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{el:f=void 0}=e;const{elements:{range:c},getAttrs:d}=sd();ae(t,c,_=>n(5,l=_));const p=d("range");function h(_){Oe[_?"unshift":"push"](()=>{f=_,n(0,f)})}return t.$$set=_=>{e=Y(Y({},e),Ee(_)),n(4,r=re(e,i)),"asChild"in _&&n(1,u=_.asChild),"el"in _&&n(0,f=_.el),"$$scope"in _&&n(6,s=_.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,p)},[f,u,o,c,r,l,s,a,h]}class D1 extends we{constructor(e){super(),ye(this,e,R1,E1,fe,{asChild:1,el:0})}}const L1=t=>({builder:t&4}),lu=t=>({builder:t[2]});function F1(t){let e,n,o,i=[t[2],t[4]],r={};for(let l=0;l<i.length;l+=1)r=Y(r,i[l]);return{c(){e=O("span"),le(e,r)},m(l,a){I(l,e,a),t[8](e),n||(o=[Fe(t[2].action(e)),ee(e,"m-keydown",t[3])],n=!0)},p(l,a){le(e,r=ve(i,[a&4&&l[2],a&16&&l[4]]))},i:Ae,o:Ae,d(l){l&&T(e),t[8](null),n=!1,Be(o)}}}function j1(t){let e;const n=t[7].default,o=de(n,t,t[6],lu);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&68)&&pe(o,n,i,i[6],e?me(n,i[6],r,L1):_e(i[6]),lu)},i(i){e||(k(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function q1(t){let e,n,o,i;const r=[j1,F1],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Te(),S(l[f],1,1,()=>{l[f]=null}),Ie(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function B1(t,e,n){let o;const i=["asChild","el","thumb"];let r=re(e,i),{$$slots:l={},$$scope:a}=e,{asChild:s=!1}=e,{el:u=void 0}=e,{thumb:f}=e;const{getAttrs:c}=sd(),d=Hn(),p=c("thumb");function h(_){Oe[_?"unshift":"push"](()=>{u=_,n(0,u)})}return t.$$set=_=>{e=Y(Y({},e),Ee(_)),n(4,r=re(e,i)),"asChild"in _&&n(1,s=_.asChild),"el"in _&&n(0,u=_.el),"thumb"in _&&n(5,f=_.thumb),"$$scope"in _&&n(6,a=_.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(2,o=f),t.$$.dirty&4&&Object.assign(o,p)},[u,s,o,d,r,f,a,l,h]}class G1 extends we{constructor(e){super(),ye(this,e,B1,q1,fe,{asChild:1,el:0,thumb:5})}}function ad(){return{NAME:"tooltip",PARTS:["arrow","content","trigger"]}}function V1(t){const{NAME:e,PARTS:n}=ad(),o=$n(e,n),i={...Sh({positioning:{placement:"top",gutter:0},openDelay:700,...yo(t),forceVisible:!0}),getAttrs:o};return kr(e,i),{...i,updateOption:jn(i.options)}}function os(){const{NAME:t}=ad();return Cr(t)}function $1(t){const n={...{side:"top",align:"center",sideOffset:1},...t},{options:{positioning:o}}=os();H0(o)({...n})}const H1=t=>({ids:t&1}),su=t=>({ids:t[0]});function W1(t){let e;const n=t[12].default,o=de(n,t,t[11],su);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,[r]){o&&o.p&&(!e||r&2049)&&pe(o,n,i,i[11],e?me(n,i[11],r,H1):_e(i[11]),su)},i(i){e||(k(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function K1(t,e,n){let o,{$$slots:i={},$$scope:r}=e,{closeOnEscape:l=void 0}=e,{portal:a=void 0}=e,{closeOnPointerDown:s=void 0}=e,{openDelay:u=void 0}=e,{closeDelay:f=void 0}=e,{open:c=void 0}=e,{onOpenChange:d=void 0}=e,{disableHoverableContent:p=void 0}=e,{group:h=void 0}=e;const{states:{open:_},updateOption:y,ids:b}=V1({closeOnEscape:l,portal:a,closeOnPointerDown:s,openDelay:u,closeDelay:f,forceVisible:!0,defaultOpen:c,disableHoverableContent:p,group:h,onOpenChange:({next:w})=>(c!==w&&(d==null||d(w),n(2,c=w)),w),positioning:{gutter:0,offset:{mainAxis:1}}}),A=ln([b.content,b.trigger],([w,D])=>({content:w,trigger:D}));return ae(t,A,w=>n(0,o=w)),t.$$set=w=>{"closeOnEscape"in w&&n(3,l=w.closeOnEscape),"portal"in w&&n(4,a=w.portal),"closeOnPointerDown"in w&&n(5,s=w.closeOnPointerDown),"openDelay"in w&&n(6,u=w.openDelay),"closeDelay"in w&&n(7,f=w.closeDelay),"open"in w&&n(2,c=w.open),"onOpenChange"in w&&n(8,d=w.onOpenChange),"disableHoverableContent"in w&&n(9,p=w.disableHoverableContent),"group"in w&&n(10,h=w.group),"$$scope"in w&&n(11,r=w.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&c!==void 0&&_.set(c),t.$$.dirty&8&&y("closeOnEscape",l),t.$$.dirty&16&&y("portal",a),t.$$.dirty&32&&y("closeOnPointerDown",s),t.$$.dirty&64&&y("openDelay",u),t.$$.dirty&128&&y("closeDelay",f),t.$$.dirty&1024&&y("group",h),t.$$.dirty&512&&y("disableHoverableContent",p)},[o,A,c,l,a,s,u,f,d,p,h,r,i]}class U1 extends we{constructor(e){super(),ye(this,e,K1,W1,fe,{closeOnEscape:3,portal:4,closeOnPointerDown:5,openDelay:6,closeDelay:7,open:2,onOpenChange:8,disableHoverableContent:9,group:10})}}const Y1=t=>({builder:t[0]&256}),au=t=>({builder:t[8]}),X1=t=>({builder:t[0]&256}),uu=t=>({builder:t[8]}),J1=t=>({builder:t[0]&256}),fu=t=>({builder:t[8]}),x1=t=>({builder:t[0]&256}),cu=t=>({builder:t[8]}),Z1=t=>({builder:t[0]&256}),du=t=>({builder:t[8]}),Q1=t=>({builder:t[0]&256}),mu=t=>({builder:t[8]});function z1(t){let e,n,o,i;const r=t[28].default,l=de(r,t,t[27],au);let a=[t[8],t[13]],s={};for(let u=0;u<a.length;u+=1)s=Y(s,a[u]);return{c(){e=O("div"),l&&l.c(),le(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),t[33](e),n=!0,o||(i=[Fe(t[8].action(e)),ee(e,"m-pointerdown",t[12]),ee(e,"m-pointerenter",t[12])],o=!0)},p(u,f){l&&l.p&&(!n||f[0]&134217984)&&pe(l,r,u,u[27],n?me(r,u[27],f,Y1):_e(u[27]),au),le(e,s=ve(a,[f[0]&256&&u[8],f[0]&8192&&u[13]]))},i(u){n||(k(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[33](null),o=!1,Be(i)}}}function eb(t){let e,n,o,i,r;const l=t[28].default,a=de(l,t,t[27],uu);let s=[t[8],t[13]],u={};for(let f=0;f<s.length;f+=1)u=Y(u,s[f]);return{c(){e=O("div"),a&&a.c(),le(e,u)},m(f,c){I(f,e,c),a&&a.m(e,null),t[32](e),o=!0,i||(r=[Fe(t[8].action(e)),ee(e,"m-pointerdown",t[12]),ee(e,"m-pointerenter",t[12])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&134217984)&&pe(a,l,t,t[27],o?me(l,t[27],c,X1):_e(t[27]),uu),le(e,u=ve(s,[c[0]&256&&t[8],c[0]&8192&&t[13]]))},i(f){o||(k(a,f),n&&n.end(1),o=!0)},o(f){S(a,f),f&&(n=Jt(e,t[5],t[6])),o=!1},d(f){f&&T(e),a&&a.d(f),t[32](null),f&&n&&n.end(),i=!1,Be(r)}}}function tb(t){let e,n,o,i,r;const l=t[28].default,a=de(l,t,t[27],fu);let s=[t[8],t[13]],u={};for(let f=0;f<s.length;f+=1)u=Y(u,s[f]);return{c(){e=O("div"),a&&a.c(),le(e,u)},m(f,c){I(f,e,c),a&&a.m(e,null),t[31](e),o=!0,i||(r=[Fe(t[8].action(e)),ee(e,"m-pointerdown",t[12]),ee(e,"m-pointerenter",t[12])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&134217984)&&pe(a,l,t,t[27],o?me(l,t[27],c,J1):_e(t[27]),fu),le(e,u=ve(s,[c[0]&256&&t[8],c[0]&8192&&t[13]]))},i(f){o||(k(a,f),f&&(n||rt(()=>{n=Xt(e,t[3],t[4]),n.start()})),o=!0)},o(f){S(a,f),o=!1},d(f){f&&T(e),a&&a.d(f),t[31](null),i=!1,Be(r)}}}function nb(t){let e,n,o,i,r,l;const a=t[28].default,s=de(a,t,t[27],cu);let u=[t[8],t[13]],f={};for(let c=0;c<u.length;c+=1)f=Y(f,u[c]);return{c(){e=O("div"),s&&s.c(),le(e,f)},m(c,d){I(c,e,d),s&&s.m(e,null),t[30](e),i=!0,r||(l=[Fe(t[8].action(e)),ee(e,"m-pointerdown",t[12]),ee(e,"m-pointerenter",t[12])],r=!0)},p(c,d){t=c,s&&s.p&&(!i||d[0]&134217984)&&pe(s,a,t,t[27],i?me(a,t[27],d,x1):_e(t[27]),cu),le(e,f=ve(u,[d[0]&256&&t[8],d[0]&8192&&t[13]]))},i(c){i||(k(s,c),c&&rt(()=>{i&&(o&&o.end(1),n=Xt(e,t[3],t[4]),n.start())}),i=!0)},o(c){S(s,c),n&&n.invalidate(),c&&(o=Jt(e,t[5],t[6])),i=!1},d(c){c&&T(e),s&&s.d(c),t[30](null),c&&o&&o.end(),r=!1,Be(l)}}}function ob(t){let e,n,o,i,r;const l=t[28].default,a=de(l,t,t[27],du);let s=[t[8],t[13]],u={};for(let f=0;f<s.length;f+=1)u=Y(u,s[f]);return{c(){e=O("div"),a&&a.c(),le(e,u)},m(f,c){I(f,e,c),a&&a.m(e,null),t[29](e),o=!0,i||(r=[Fe(t[8].action(e)),ee(e,"m-pointerdown",t[12]),ee(e,"m-pointerenter",t[12])],i=!0)},p(f,c){t=f,a&&a.p&&(!o||c[0]&134217984)&&pe(a,l,t,t[27],o?me(l,t[27],c,Z1):_e(t[27]),du),le(e,u=ve(s,[c[0]&256&&t[8],c[0]&8192&&t[13]]))},i(f){o||(k(a,f),f&&rt(()=>{o&&(n||(n=Kt(e,t[1],t[2],!0)),n.run(1))}),o=!0)},o(f){S(a,f),f&&(n||(n=Kt(e,t[1],t[2],!1)),n.run(0)),o=!1},d(f){f&&T(e),a&&a.d(f),t[29](null),f&&n&&n.end(),i=!1,Be(r)}}}function ib(t){let e;const n=t[28].default,o=de(n,t,t[27],mu);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r[0]&134217984)&&pe(o,n,i,i[27],e?me(n,i[27],r,Q1):_e(i[27]),mu)},i(i){e||(k(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function rb(t){let e,n,o,i;const r=[ib,ob,nb,tb,eb,z1],l=[];function a(s,u){return s[7]&&s[9]?0:s[1]&&s[9]?1:s[3]&&s[5]&&s[9]?2:s[3]&&s[9]?3:s[5]&&s[9]?4:s[9]?5:-1}return~(e=a(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=De()},m(s,u){~e&&l[e].m(s,u),I(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?~e&&l[e].p(s,u):(n&&(Te(),S(l[f],1,1,()=>{l[f]=null}),Ie()),~e?(n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o)):n=null)},i(s){i||(k(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),~e&&l[e].d(s)}}}function lb(t,e,n){let o;const i=["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","id","side","align","sideOffset","alignOffset","collisionPadding","avoidCollisions","collisionBoundary","sameWidth","fitViewport","strategy","overlap","el"];let r=re(e,i),l,a,{$$slots:s={},$$scope:u}=e,{transition:f=void 0}=e,{transitionConfig:c=void 0}=e,{inTransition:d=void 0}=e,{inTransitionConfig:p=void 0}=e,{outTransition:h=void 0}=e,{outTransitionConfig:_=void 0}=e,{asChild:y=!1}=e,{id:b=void 0}=e,{side:A="top"}=e,{align:w="center"}=e,{sideOffset:D=0}=e,{alignOffset:V=0}=e,{collisionPadding:E=8}=e,{avoidCollisions:W=!0}=e,{collisionBoundary:B=void 0}=e,{sameWidth:j=!1}=e,{fitViewport:X=!1}=e,{strategy:P="absolute"}=e,{overlap:g=!1}=e,{el:C=void 0}=e;const{elements:{content:N},states:{open:F},ids:L,getAttrs:K}=os();ae(t,N,U=>n(26,a=U)),ae(t,F,U=>n(9,l=U));const x=Hn(),J=K("content");function m(U){Oe[U?"unshift":"push"](()=>{C=U,n(0,C)})}function R(U){Oe[U?"unshift":"push"](()=>{C=U,n(0,C)})}function H(U){Oe[U?"unshift":"push"](()=>{C=U,n(0,C)})}function te(U){Oe[U?"unshift":"push"](()=>{C=U,n(0,C)})}function ie(U){Oe[U?"unshift":"push"](()=>{C=U,n(0,C)})}return t.$$set=U=>{e=Y(Y({},e),Ee(U)),n(13,r=re(e,i)),"transition"in U&&n(1,f=U.transition),"transitionConfig"in U&&n(2,c=U.transitionConfig),"inTransition"in U&&n(3,d=U.inTransition),"inTransitionConfig"in U&&n(4,p=U.inTransitionConfig),"outTransition"in U&&n(5,h=U.outTransition),"outTransitionConfig"in U&&n(6,_=U.outTransitionConfig),"asChild"in U&&n(7,y=U.asChild),"id"in U&&n(14,b=U.id),"side"in U&&n(15,A=U.side),"align"in U&&n(16,w=U.align),"sideOffset"in U&&n(17,D=U.sideOffset),"alignOffset"in U&&n(18,V=U.alignOffset),"collisionPadding"in U&&n(19,E=U.collisionPadding),"avoidCollisions"in U&&n(20,W=U.avoidCollisions),"collisionBoundary"in U&&n(21,B=U.collisionBoundary),"sameWidth"in U&&n(22,j=U.sameWidth),"fitViewport"in U&&n(23,X=U.fitViewport),"strategy"in U&&n(24,P=U.strategy),"overlap"in U&&n(25,g=U.overlap),"el"in U&&n(0,C=U.el),"$$scope"in U&&n(27,u=U.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&16384&&b&&L.content.set(b),t.$$.dirty[0]&67108864&&n(8,o=a),t.$$.dirty[0]&256&&Object.assign(o,J),t.$$.dirty[0]&67076608&&l&&$1({side:A,align:w,sideOffset:D,alignOffset:V,collisionPadding:E,avoidCollisions:W,collisionBoundary:B,sameWidth:j,fitViewport:X,strategy:P,overlap:g})},[C,f,c,d,p,h,_,y,o,l,N,F,x,r,b,A,w,D,V,E,W,B,j,X,P,g,a,u,s,m,R,H,te,ie]}let sb=class extends we{constructor(e){super(),ye(this,e,lb,rb,fe,{transition:1,transitionConfig:2,inTransition:3,inTransitionConfig:4,outTransition:5,outTransitionConfig:6,asChild:7,id:14,side:15,align:16,sideOffset:17,alignOffset:18,collisionPadding:19,avoidCollisions:20,collisionBoundary:21,sameWidth:22,fitViewport:23,strategy:24,overlap:25,el:0},null,[-1,-1])}};const ab=t=>({builder:t&4}),pu=t=>({builder:t[2]}),ub=t=>({builder:t&4}),_u=t=>({builder:t[2]});function fb(t){let e,n,o,i;const r=t[9].default,l=de(r,t,t[8],pu);let a=[t[2],{type:"button"},t[5]],s={};for(let u=0;u<a.length;u+=1)s=Y(s,a[u]);return{c(){e=O("button"),l&&l.c(),le(e,s)},m(u,f){I(u,e,f),l&&l.m(e,null),e.autofocus&&e.focus(),t[10](e),n=!0,o||(i=[Fe(t[2].action(e)),ee(e,"m-blur",t[4]),ee(e,"m-focus",t[4]),ee(e,"m-keydown",t[4]),ee(e,"m-pointerdown",t[4]),ee(e,"m-pointerenter",t[4]),ee(e,"m-pointerleave",t[4])],o=!0)},p(u,f){l&&l.p&&(!n||f&260)&&pe(l,r,u,u[8],n?me(r,u[8],f,ab):_e(u[8]),pu),le(e,s=ve(a,[f&4&&u[2],{type:"button"},f&32&&u[5]]))},i(u){n||(k(l,u),n=!0)},o(u){S(l,u),n=!1},d(u){u&&T(e),l&&l.d(u),t[10](null),o=!1,Be(i)}}}function cb(t){let e;const n=t[9].default,o=de(n,t,t[8],_u);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&260)&&pe(o,n,i,i[8],e?me(n,i[8],r,ub):_e(i[8]),_u)},i(i){e||(k(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function db(t){let e,n,o,i;const r=[cb,fb],l=[];function a(s,u){return s[1]?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,[u]){let f=e;e=a(s),e===f?l[e].p(s,u):(Te(),S(l[f],1,1,()=>{l[f]=null}),Ie(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function mb(t,e,n){let o;const i=["asChild","id","el"];let r=re(e,i),l,{$$slots:a={},$$scope:s}=e,{asChild:u=!1}=e,{id:f=void 0}=e,{el:c=void 0}=e;const{elements:{trigger:d},ids:p,getAttrs:h}=os();ae(t,d,A=>n(7,l=A));const _=Hn(),y=h("trigger");function b(A){Oe[A?"unshift":"push"](()=>{c=A,n(0,c)})}return t.$$set=A=>{e=Y(Y({},e),Ee(A)),n(5,r=re(e,i)),"asChild"in A&&n(1,u=A.asChild),"id"in A&&n(6,f=A.id),"el"in A&&n(0,c=A.el),"$$scope"in A&&n(8,s=A.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&f&&p.trigger.set(f),t.$$.dirty&128&&n(2,o=l),t.$$.dirty&4&&Object.assign(o,y)},[c,u,o,d,_,r,f,l,s,a,b]}class pb extends we{constructor(e){super(),ye(this,e,mb,db,fe,{asChild:1,id:6,el:0})}}function _b(t){let e;const n=t[5].default,o=de(n,t,t[8],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&256)&&pe(o,n,i,i[8],e?me(n,i[8],r,null):_e(i[8]),null)},i(i){e||(k(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function hb(t){let e,n;const o=[{builders:t[3]},{class:Le(mo({variant:t[1],size:t[2],className:t[0]}))},{type:"button"},t[4]];let i={$$slots:{default:[_b]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Y(i,o[r]);return e=new $0({props:i}),e.$on("click",t[6]),e.$on("keydown",t[7]),{c(){z(e.$$.fragment)},m(r,l){Z(e,r,l),n=!0},p(r,[l]){const a=l&31?ve(o,[l&8&&{builders:r[3]},l&7&&{class:Le(mo({variant:r[1],size:r[2],className:r[0]}))},o[2],l&16&&at(r[4])]):{};l&256&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){Q(e,r)}}}function gb(t,e,n){const o=["class","variant","size","builders"];let i=re(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{variant:s="default"}=e,{size:u="default"}=e,{builders:f=[]}=e;function c(p){ne.call(this,t,p)}function d(p){ne.call(this,t,p)}return t.$$set=p=>{e=Y(Y({},e),Ee(p)),n(4,i=re(e,o)),"class"in p&&n(0,a=p.class),"variant"in p&&n(1,s=p.variant),"size"in p&&n(2,u=p.size),"builders"in p&&n(3,f=p.builders),"$$scope"in p&&n(8,l=p.$$scope)},[a,s,u,f,i,r,c,d,l]}class Yt extends we{constructor(e){super(),ye(this,e,gb,hb,fe,{class:0,variant:1,size:2,builders:3})}}var hu=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,At=t=>!t||typeof t!="object"||Object.keys(t).length===0,bb=(t,e)=>JSON.stringify(t)===JSON.stringify(e);function ud(t,e){t.forEach(function(n){Array.isArray(n)?ud(n,e):e.push(n)})}function fd(t){let e=[];return ud(t,e),e}var cd=(...t)=>fd(t).filter(Boolean),dd=(t,e)=>{let n={},o=Object.keys(t),i=Object.keys(e);for(let r of o)if(i.includes(r)){let l=t[r],a=e[r];typeof l=="object"&&typeof a=="object"?n[r]=dd(l,a):Array.isArray(l)||Array.isArray(a)?n[r]=cd(a,l):n[r]=a+" "+l}else n[r]=t[r];for(let r of i)o.includes(r)||(n[r]=e[r]);return n},gu=t=>!t||typeof t!="string"?t:t.replace(/\s+/g," ").trim(),vb={twMerge:!0,twMergeConfig:{},responsiveVariants:!1},md=t=>t||void 0,Jo=(...t)=>md(fd(t).filter(Boolean).join(" ")),il=null,en={},Sl=!1,Lo=(...t)=>e=>e.twMerge?((!il||Sl)&&(Sl=!1,il=At(en)?Rc:fp({...en,extend:{theme:en.theme,classGroups:en.classGroups,conflictingClassGroupModifiers:en.conflictingClassGroupModifiers,conflictingClassGroups:en.conflictingClassGroups,...en.extend}})),md(il(Jo(t)))):Jo(t),bu=(t,e)=>{for(let n in e)t.hasOwnProperty(n)?t[n]=Jo(t[n],e[n]):t[n]=e[n];return t},yb=(t,e)=>{let{extend:n=null,slots:o={},variants:i={},compoundVariants:r=[],compoundSlots:l=[],defaultVariants:a={}}=t,s={...vb,...e},u=n!=null&&n.base?Jo(n.base,t==null?void 0:t.base):t==null?void 0:t.base,f=n!=null&&n.variants&&!At(n.variants)?dd(i,n.variants):i,c=n!=null&&n.defaultVariants&&!At(n.defaultVariants)?{...n.defaultVariants,...a}:a;!At(s.twMergeConfig)&&!bb(s.twMergeConfig,en)&&(Sl=!0,en=s.twMergeConfig);let d=At(n==null?void 0:n.slots),p=At(o)?{}:{base:Jo(t==null?void 0:t.base,d&&(n==null?void 0:n.base)),...o},h=d?p:bu({...n==null?void 0:n.slots},At(p)?{base:t==null?void 0:t.base}:p),_=b=>{if(At(f)&&At(o)&&d)return Lo(u,b==null?void 0:b.class,b==null?void 0:b.className)(s);if(r&&!Array.isArray(r))throw new TypeError(`The "compoundVariants" prop must be an array. Received: ${typeof r}`);if(l&&!Array.isArray(l))throw new TypeError(`The "compoundSlots" prop must be an array. Received: ${typeof l}`);let A=(g,C,N=[],F)=>{let L=N;if(typeof C=="string")L=L.concat(gu(C).split(" ").map(K=>`${g}:${K}`));else if(Array.isArray(C))L=L.concat(C.reduce((K,x)=>K.concat(`${g}:${x}`),[]));else if(typeof C=="object"&&typeof F=="string"){for(let K in C)if(C.hasOwnProperty(K)&&K===F){let x=C[K];if(x&&typeof x=="string"){let J=gu(x);L[F]?L[F]=L[F].concat(J.split(" ").map(m=>`${g}:${m}`)):L[F]=J.split(" ").map(m=>`${g}:${m}`)}else Array.isArray(x)&&x.length>0&&(L[F]=x.reduce((J,m)=>J.concat(`${g}:${m}`),[]))}}return L},w=(g,C=f,N=null,F=null)=>{var L;let K=C[g];if(!K||At(K))return null;let x=(L=F==null?void 0:F[g])!=null?L:b==null?void 0:b[g];if(x===null)return null;let J=hu(x),m=Array.isArray(s.responsiveVariants)&&s.responsiveVariants.length>0||s.responsiveVariants===!0,R=c==null?void 0:c[g],H=[];if(typeof J=="object"&&m)for(let[U,ke]of Object.entries(J)){let ce=K[ke];if(U==="initial"){R=ke;continue}Array.isArray(s.responsiveVariants)&&!s.responsiveVariants.includes(U)||(H=A(U,ce,H,N))}let te=J!=null&&typeof J!="object"?J:hu(R),ie=K[te]||K.false;return typeof H=="object"&&typeof N=="string"&&H[N]?bu(H,ie):H.length>0?(H.push(ie),H):ie},D=()=>f?Object.keys(f).map(g=>w(g,f)):null,V=(g,C)=>{if(!f||typeof f!="object")return null;let N=new Array;for(let F in f){let L=w(F,f,g,C),K=g==="base"&&typeof L=="string"?L:L&&L[g];K&&(N[N.length]=K)}return N},E={};for(let g in b)b[g]!==void 0&&(E[g]=b[g]);let W=(g,C)=>{var N;let F=typeof(b==null?void 0:b[g])=="object"?{[g]:(N=b[g])==null?void 0:N.initial}:{};return{...c,...E,...F,...C}},B=(g=[],C)=>{let N=[];for(let{class:F,className:L,...K}of g){let x=!0;for(let[J,m]of Object.entries(K)){let R=W(J,C);if(Array.isArray(m)){if(!m.includes(R[J])){x=!1;break}}else if(R[J]!==m){x=!1;break}}x&&(F&&N.push(F),L&&N.push(L))}return N},j=g=>{let C=B(r,g),N=B(n==null?void 0:n.compoundVariants,g);return cd(N,C)},X=g=>{let C=j(g);if(!Array.isArray(C))return C;let N={};for(let F of C)if(typeof F=="string"&&(N.base=Lo(N.base,F)(s)),typeof F=="object")for(let[L,K]of Object.entries(F))N[L]=Lo(N[L],K)(s);return N},P=g=>{if(l.length<1)return null;let C={};for(let{slots:N=[],class:F,className:L,...K}of l){if(!At(K)){let x=!0;for(let J of Object.keys(K)){let m=W(J,g)[J];if(m===void 0||(Array.isArray(K[J])?!K[J].includes(m):K[J]!==m)){x=!1;break}}if(!x)continue}for(let x of N)C[x]=C[x]||[],C[x].push([F,L])}return C};if(!At(o)||!d){let g={};if(typeof h=="object"&&!At(h))for(let C of Object.keys(h))g[C]=N=>{var F,L;return Lo(h[C],V(C,N),((F=X(N))!=null?F:[])[C],((L=P(N))!=null?L:[])[C],N==null?void 0:N.class,N==null?void 0:N.className)(s)};return g}return Lo(u,D(),j(),b==null?void 0:b.class,b==null?void 0:b.className)(s)},y=()=>{if(!(!f||typeof f!="object"))return Object.keys(f)};return _.variantKeys=y(),_.extend=n,_.base=u,_.slots=h,_.variants=f,_.defaultVariants=c,_.compoundSlots=l,_.compoundVariants=r,_};const mo=yb({base:"inline-flex items-center justify-center rounded-md text-sm font-medium whitespace-nowrap ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}});function wb(t){let e;const n=t[2].default,o=de(n,t,t[3],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&8)&&pe(o,n,i,i[3],e?me(n,i[3],r,null):_e(i[3]),null)},i(i){e||(k(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function kb(t){let e,n;const o=[{class:Le("text-lg font-semibold leading-none tracking-tight",t[0])},t[1]];let i={$$slots:{default:[wb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Y(i,o[r]);return e=new cg({props:i}),{c(){z(e.$$.fragment)},m(r,l){Z(e,r,l),n=!0},p(r,[l]){const a=l&3?ve(o,[l&1&&{class:Le("text-lg font-semibold leading-none tracking-tight",r[0])},l&2&&at(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){Q(e,r)}}}function Cb(t,e,n){const o=["class"];let i=re(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Y(Y({},e),Ee(s)),n(1,i=re(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,l=s.$$scope)},[a,i,r,l]}class ko extends we{constructor(e){super(),ye(this,e,Cb,kb,fe,{class:0})}}function Ab(t){let e;const n=t[1].default,o=de(n,t,t[2],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&4)&&pe(o,n,i,i[2],e?me(n,i[2],r,null):_e(i[2]),null)},i(i){e||(k(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Sb(t){let e,n;const o=[t[0]];let i={$$slots:{default:[Ab]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Y(i,o[r]);return e=new Sg({props:i}),{c(){z(e.$$.fragment)},m(r,l){Z(e,r,l),n=!0},p(r,[l]){const a=l&1?ve(o,[at(r[0])]):{};l&4&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){Q(e,r)}}}function Tb(t,e,n){const o=[];let i=re(e,o),{$$slots:r={},$$scope:l}=e;return t.$$set=a=>{e=Y(Y({},e),Ee(a)),n(0,i=re(e,o)),"$$scope"in a&&n(2,l=a.$$scope)},[i,r,l]}class Ib extends we{constructor(e){super(),ye(this,e,Tb,Sb,fe,{})}}function Ob(t){let e,n,o;const i=t[3].default,r=de(i,t,t[2],null);let l=[{class:n=Le("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=Y(a,l[s]);return{c(){e=O("div"),r&&r.c(),le(e,a)},m(s,u){I(s,e,u),r&&r.m(e,null),o=!0},p(s,[u]){r&&r.p&&(!o||u&4)&&pe(r,i,s,s[2],o?me(i,s[2],u,null):_e(s[2]),null),le(e,a=ve(l,[(!o||u&1&&n!==(n=Le("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(k(r,s),o=!0)},o(s){S(r,s),o=!1},d(s){s&&T(e),r&&r.d(s)}}}function Pb(t,e,n){const o=["class"];let i=re(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Y(Y({},e),Ee(s)),n(1,i=re(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,i,l,r]}class ni extends we{constructor(e){super(),ye(this,e,Pb,Ob,fe,{class:0})}}function Mb(t){let e,n,o;const i=t[3].default,r=de(i,t,t[2],null);let l=[{class:n=Le("flex flex-col space-y-1.5 text-center sm:text-left",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=Y(a,l[s]);return{c(){e=O("div"),r&&r.c(),le(e,a)},m(s,u){I(s,e,u),r&&r.m(e,null),o=!0},p(s,[u]){r&&r.p&&(!o||u&4)&&pe(r,i,s,s[2],o?me(i,s[2],u,null):_e(s[2]),null),le(e,a=ve(l,[(!o||u&1&&n!==(n=Le("flex flex-col space-y-1.5 text-center sm:text-left",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(k(r,s),o=!0)},o(s){S(r,s),o=!1},d(s){s&&T(e),r&&r.d(s)}}}function Nb(t,e,n){const o=["class"];let i=re(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Y(Y({},e),Ee(s)),n(1,i=re(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,i,l,r]}class Co extends we{constructor(e){super(),ye(this,e,Nb,Mb,fe,{class:0})}}function pd(t,{delay:e=0,duration:n=400,easing:o=vr}={}){const i=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:o,css:r=>`opacity: ${r*i}`}}function Eb(t){let e,n;const o=[{transition:t[1]},{transitionConfig:t[2]},{class:Le("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm",t[0])},t[3]];let i={};for(let r=0;r<o.length;r+=1)i=Y(i,o[r]);return e=new xg({props:i}),{c(){z(e.$$.fragment)},m(r,l){Z(e,r,l),n=!0},p(r,[l]){const a=l&15?ve(o,[l&2&&{transition:r[1]},l&4&&{transitionConfig:r[2]},l&1&&{class:Le("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm",r[0])},l&8&&at(r[3])]):{};e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){Q(e,r)}}}function Rb(t,e,n){const o=["class","transition","transitionConfig"];let i=re(e,o),{class:r=void 0}=e,{transition:l=pd}=e,{transitionConfig:a={duration:150}}=e;return t.$$set=s=>{e=Y(Y({},e),Ee(s)),n(3,i=re(e,o)),"class"in s&&n(0,r=s.class),"transition"in s&&n(1,l=s.transition),"transitionConfig"in s&&n(2,a=s.transitionConfig)},[r,l,a,i]}class Db extends we{constructor(e){super(),ye(this,e,Rb,Eb,fe,{class:0,transition:1,transitionConfig:2})}}/**
 * @license lucide-svelte v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vu={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};function yu(t,e,n){const o=t.slice();return o[11]=e[n][0],o[12]=e[n][1],o}function rl(t){let e,n=[t[12]],o={};for(let i=0;i<n.length;i+=1)o=Y(o,n[i]);return{c(){e=yr(t[11]),Wi(e,o)},m(i,r){I(i,e,r)},p(i,r){Wi(e,o=ve(n,[r&32&&i[12]]))},d(i){i&&T(e)}}}function wu(t){let e=t[11],n,o=t[11]&&rl(t);return{c(){o&&o.c(),n=De()},m(i,r){o&&o.m(i,r),I(i,n,r)},p(i,r){i[11]?e?fe(e,i[11])?(o.d(1),o=rl(i),e=i[11],o.c(),o.m(n.parentNode,n)):o.p(i,r):(o=rl(i),e=i[11],o.c(),o.m(n.parentNode,n)):e&&(o.d(1),o=null,e=i[11])},d(i){i&&T(n),o&&o.d(i)}}}function Lb(t){let e,n,o,i,r,l=Je(t[5]),a=[];for(let d=0;d<l.length;d+=1)a[d]=wu(yu(t,l,d));const s=t[10].default,u=de(s,t,t[9],null);let f=[vu,t[7],{width:t[2]},{height:t[2]},{stroke:t[1]},{"stroke-width":o=t[4]?Number(t[3])*24/Number(t[2]):t[3]},{class:i=t[6]("lucide-icon","lucide",t[0]?`lucide-${t[0]}`:"",t[8].class)}],c={};for(let d=0;d<f.length;d+=1)c=Y(c,f[d]);return{c(){e=yr("svg");for(let d=0;d<a.length;d+=1)a[d].c();n=De(),u&&u.c(),Wi(e,c)},m(d,p){I(d,e,p);for(let h=0;h<a.length;h+=1)a[h]&&a[h].m(e,null);v(e,n),u&&u.m(e,null),r=!0},p(d,[p]){if(p&32){l=Je(d[5]);let h;for(h=0;h<l.length;h+=1){const _=yu(d,l,h);a[h]?a[h].p(_,p):(a[h]=wu(_),a[h].c(),a[h].m(e,n))}for(;h<a.length;h+=1)a[h].d(1);a.length=l.length}u&&u.p&&(!r||p&512)&&pe(u,s,d,d[9],r?me(s,d[9],p,null):_e(d[9]),null),Wi(e,c=ve(f,[vu,p&128&&d[7],(!r||p&4)&&{width:d[2]},(!r||p&4)&&{height:d[2]},(!r||p&2)&&{stroke:d[1]},(!r||p&28&&o!==(o=d[4]?Number(d[3])*24/Number(d[2]):d[3]))&&{"stroke-width":o},(!r||p&257&&i!==(i=d[6]("lucide-icon","lucide",d[0]?`lucide-${d[0]}`:"",d[8].class)))&&{class:i}]))},i(d){r||(k(u,d),r=!0)},o(d){S(u,d),r=!1},d(d){d&&T(e),vt(a,d),u&&u.d(d)}}}function Fb(t,e,n){const o=["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode","mergeClasses"];let i=re(e,o),{$$slots:r={},$$scope:l}=e,{name:a=void 0}=e,{color:s="currentColor"}=e,{size:u=24}=e,{strokeWidth:f=2}=e,{absoluteStrokeWidth:c=!1}=e,{iconNode:d}=e;const p=(...h)=>h.filter((_,y,b)=>!!_&&b.indexOf(_)===y).join(" ");return t.$$set=h=>{n(8,e=Y(Y({},e),Ee(h))),n(7,i=re(e,o)),"name"in h&&n(0,a=h.name),"color"in h&&n(1,s=h.color),"size"in h&&n(2,u=h.size),"strokeWidth"in h&&n(3,f=h.strokeWidth),"absoluteStrokeWidth"in h&&n(4,c=h.absoluteStrokeWidth),"iconNode"in h&&n(5,d=h.iconNode),"$$scope"in h&&n(9,l=h.$$scope)},e=Ee(e),[a,s,u,f,c,d,p,i,e,l,r]}class jb extends we{constructor(e){super(),ye(this,e,Fb,Lb,fe,{name:0,color:1,size:2,strokeWidth:3,absoluteStrokeWidth:4,iconNode:5,mergeClasses:6})}get mergeClasses(){return this.$$.ctx[6]}}function qb(t){let e;const n=t[2].default,o=de(n,t,t[3],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&8)&&pe(o,n,i,i[3],e?me(n,i[3],r,null):_e(i[3]),null)},i(i){e||(k(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Bb(t){let e,n;const o=[{name:"x"},t[1],{iconNode:t[0]}];let i={$$slots:{default:[qb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Y(i,o[r]);return e=new jb({props:i}),{c(){z(e.$$.fragment)},m(r,l){Z(e,r,l),n=!0},p(r,[l]){const a=l&3?ve(o,[o[0],l&2&&at(r[1]),l&1&&{iconNode:r[0]}]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){Q(e,r)}}}function Gb(t,e,n){let{$$slots:o={},$$scope:i}=e;const r=[["path",{d:"M18 6 6 18"}],["path",{d:"m6 6 12 12"}]];return t.$$set=l=>{n(1,e=Y(Y({},e),Ee(l))),"$$scope"in l&&n(3,i=l.$$scope)},e=Ee(e),[r,e,o,i]}class Vb extends we{constructor(e){super(),ye(this,e,Gb,Bb,fe,{})}}function $b(t){let e,n,o,i;return e=new Vb({props:{class:"h-4 w-4"}}),{c(){z(e.$$.fragment),n=G(),o=O("span"),o.textContent="Close",M(o,"class","sr-only")},m(r,l){Z(e,r,l),I(r,n,l),I(r,o,l),i=!0},p:Ae,i(r){i||(k(e.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),i=!1},d(r){r&&(T(n),T(o)),Q(e,r)}}}function Hb(t){let e,n,o;const i=t[4].default,r=de(i,t,t[5],null);return n=new bg({props:{class:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",$$slots:{default:[$b]},$$scope:{ctx:t}}}),{c(){r&&r.c(),e=G(),z(n.$$.fragment)},m(l,a){r&&r.m(l,a),I(l,e,a),Z(n,l,a),o=!0},p(l,a){r&&r.p&&(!o||a&32)&&pe(r,i,l,l[5],o?me(i,l[5],a,null):_e(l[5]),null);const s={};a&32&&(s.$$scope={dirty:a,ctx:l}),n.$set(s)},i(l){o||(k(r,l),k(n.$$.fragment,l),o=!0)},o(l){S(r,l),S(n.$$.fragment,l),o=!1},d(l){l&&T(e),r&&r.d(l),Q(n,l)}}}function Wb(t){let e,n,o,i;e=new Db({});const r=[{transition:t[1]},{transitionConfig:t[2]},{class:Le("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg md:w-full",t[0])},t[3]];let l={$$slots:{default:[Hb]},$$scope:{ctx:t}};for(let a=0;a<r.length;a+=1)l=Y(l,r[a]);return o=new Gg({props:l}),{c(){z(e.$$.fragment),n=G(),z(o.$$.fragment)},m(a,s){Z(e,a,s),I(a,n,s),Z(o,a,s),i=!0},p(a,s){const u=s&15?ve(r,[s&2&&{transition:a[1]},s&4&&{transitionConfig:a[2]},s&1&&{class:Le("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg md:w-full",a[0])},s&8&&at(a[3])]):{};s&32&&(u.$$scope={dirty:s,ctx:a}),o.$set(u)},i(a){i||(k(e.$$.fragment,a),k(o.$$.fragment,a),i=!0)},o(a){S(e.$$.fragment,a),S(o.$$.fragment,a),i=!1},d(a){a&&T(n),Q(e,a),Q(o,a)}}}function Kb(t){let e,n;return e=new Ib({props:{$$slots:{default:[Wb]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment)},m(o,i){Z(e,o,i),n=!0},p(o,[i]){const r={};i&47&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Q(e,o)}}}function Ub(t,e,n){const o=["class","transition","transitionConfig"];let i=re(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{transition:s=Ar}=e,{transitionConfig:u={duration:200}}=e;return t.$$set=f=>{e=Y(Y({},e),Ee(f)),n(3,i=re(e,o)),"class"in f&&n(0,a=f.class),"transition"in f&&n(1,s=f.transition),"transitionConfig"in f&&n(2,u=f.transitionConfig),"$$scope"in f&&n(5,l=f.$$scope)},[a,s,u,i,r,l]}class Ao extends we{constructor(e){super(),ye(this,e,Ub,Kb,fe,{class:0,transition:1,transitionConfig:2})}}function Yb(t){let e;const n=t[2].default,o=de(n,t,t[3],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&8)&&pe(o,n,i,i[3],e?me(n,i[3],r,null):_e(i[3]),null)},i(i){e||(k(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Xb(t){let e,n;const o=[{class:Le("text-sm text-muted-foreground",t[0])},t[1]];let i={$$slots:{default:[Yb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Y(i,o[r]);return e=new o1({props:i}),{c(){z(e.$$.fragment)},m(r,l){Z(e,r,l),n=!0},p(r,[l]){const a=l&3?ve(o,[l&1&&{class:Le("text-sm text-muted-foreground",r[0])},l&2&&at(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){Q(e,r)}}}function Jb(t,e,n){const o=["class"];let i=re(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Y(Y({},e),Ee(s)),n(1,i=re(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,l=s.$$scope)},[a,i,r,l]}class So extends we{constructor(e){super(),ye(this,e,Jb,Xb,fe,{class:0})}}const To=ig;function xb(t){let e,n,o,i,r=[{class:n=Le("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t[1])},t[2]],l={};for(let a=0;a<r.length;a+=1)l=Y(l,r[a]);return{c(){e=O("input"),le(e,l)},m(a,s){I(a,e,s),e.autofocus&&e.focus(),zt(e,t[0]),o||(i=[ee(e,"input",t[17]),ee(e,"blur",t[3]),ee(e,"change",t[4]),ee(e,"click",t[5]),ee(e,"focus",t[6]),ee(e,"focusin",t[7]),ee(e,"focusout",t[8]),ee(e,"keydown",t[9]),ee(e,"keypress",t[10]),ee(e,"keyup",t[11]),ee(e,"mouseover",t[12]),ee(e,"mouseenter",t[13]),ee(e,"mouseleave",t[14]),ee(e,"paste",t[15]),ee(e,"input",t[16])],o=!0)},p(a,[s]){le(e,l=ve(r,[s&2&&n!==(n=Le("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a[1]))&&{class:n},s&4&&a[2]])),s&1&&e.value!==a[0]&&zt(e,a[0])},i:Ae,o:Ae,d(a){a&&T(e),o=!1,Be(i)}}}function Zb(t,e,n){const o=["class","value"];let i=re(e,o),{class:r=void 0}=e,{value:l=void 0}=e;function a(E){ne.call(this,t,E)}function s(E){ne.call(this,t,E)}function u(E){ne.call(this,t,E)}function f(E){ne.call(this,t,E)}function c(E){ne.call(this,t,E)}function d(E){ne.call(this,t,E)}function p(E){ne.call(this,t,E)}function h(E){ne.call(this,t,E)}function _(E){ne.call(this,t,E)}function y(E){ne.call(this,t,E)}function b(E){ne.call(this,t,E)}function A(E){ne.call(this,t,E)}function w(E){ne.call(this,t,E)}function D(E){ne.call(this,t,E)}function V(){l=this.value,n(0,l)}return t.$$set=E=>{e=Y(Y({},e),Ee(E)),n(2,i=re(e,o)),"class"in E&&n(1,r=E.class),"value"in E&&n(0,l=E.value)},[l,r,i,a,s,u,f,c,d,p,h,_,y,b,A,w,D,V]}class is extends we{constructor(e){super(),ye(this,e,Zb,xb,fe,{class:1,value:0})}}function Qb(t){let e;const n=t[2].default,o=de(n,t,t[4],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&16)&&pe(o,n,i,i[4],e?me(n,i[4],r,null):_e(i[4]),null)},i(i){e||(k(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function zb(t){let e,n;const o=[{class:Le("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",t[0])},t[1]];let i={$$slots:{default:[Qb]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Y(i,o[r]);return e=new c1({props:i}),e.$on("mousedown",t[3]),{c(){z(e.$$.fragment)},m(r,l){Z(e,r,l),n=!0},p(r,[l]){const a=l&3?ve(o,[l&1&&{class:Le("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",r[0])},l&2&&at(r[1])]):{};l&16&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){Q(e,r)}}}function ev(t,e,n){const o=["class"];let i=re(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(u){ne.call(this,t,u)}return t.$$set=u=>{e=Y(Y({},e),Ee(u)),n(1,i=re(e,o)),"class"in u&&n(0,a=u.class),"$$scope"in u&&n(4,l=u.$$scope)},[a,i,r,s,l]}class io extends we{constructor(e){super(),ye(this,e,ev,zb,fe,{class:0})}}function tv(t){let e,n;const o=[{class:Le("shrink-0 bg-border",t[1]==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t[0])},{orientation:t[1]},{decorative:t[2]},t[3]];let i={};for(let r=0;r<o.length;r+=1)i=Y(i,o[r]);return e=new z0({props:i}),{c(){z(e.$$.fragment)},m(r,l){Z(e,r,l),n=!0},p(r,[l]){const a=l&15?ve(o,[l&3&&{class:Le("shrink-0 bg-border",r[1]==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",r[0])},l&2&&{orientation:r[1]},l&4&&{decorative:r[2]},l&8&&at(r[3])]):{};e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){Q(e,r)}}}function nv(t,e,n){const o=["class","orientation","decorative"];let i=re(e,o),{class:r=void 0}=e,{orientation:l="horizontal"}=e,{decorative:a=void 0}=e;return t.$$set=s=>{e=Y(Y({},e),Ee(s)),n(3,i=re(e,o)),"class"in s&&n(0,r=s.class),"orientation"in s&&n(1,l=s.orientation),"decorative"in s&&n(2,a=s.decorative)},[r,l,a,i]}class bt extends we{constructor(e){super(),ye(this,e,nv,tv,fe,{class:0,orientation:1,decorative:2})}}function ov(t){let e;const n=t[3].default,o=de(n,t,t[4],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&16)&&pe(o,n,i,i[4],e?me(n,i[4],r,null):_e(i[4]),null)},i(i){e||(k(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function iv(t){let e,n;const o=[{class:Le("text-lg font-semibold",t[0])},{level:t[1]},t[2]];let i={$$slots:{default:[ov]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Y(i,o[r]);return e=new jh({props:i}),{c(){z(e.$$.fragment)},m(r,l){Z(e,r,l),n=!0},p(r,[l]){const a=l&7?ve(o,[l&1&&{class:Le("text-lg font-semibold",r[0])},l&2&&{level:r[1]},l&4&&at(r[2])]):{};l&16&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){Q(e,r)}}}function rv(t,e,n){const o=["class","level"];let i=re(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{level:s="h3"}=e;return t.$$set=u=>{e=Y(Y({},e),Ee(u)),n(2,i=re(e,o)),"class"in u&&n(0,a=u.class),"level"in u&&n(1,s=u.level),"$$scope"in u&&n(4,l=u.$$scope)},[a,s,i,r,l]}class rs extends we{constructor(e){super(),ye(this,e,rv,iv,fe,{class:0,level:1})}}const lv=t=>({builder:t&64}),ku=t=>({builder:t[6]});function sv(t){let e;const n=t[2].default,o=de(n,t,t[5],ku);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&96)&&pe(o,n,i,i[5],e?me(n,i[5],r,lv):_e(i[5]),ku)},i(i){e||(k(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function av(t){let e,n;const o=[{class:Le(mo(),t[0])},t[1]];let i={$$slots:{default:[sv,({builder:r})=>({6:r}),({builder:r})=>r?64:0]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Y(i,o[r]);return e=new Wh({props:i}),e.$on("click",t[3]),e.$on("keydown",t[4]),{c(){z(e.$$.fragment)},m(r,l){Z(e,r,l),n=!0},p(r,[l]){const a=l&3?ve(o,[l&1&&{class:Le(mo(),r[0])},l&2&&at(r[1])]):{};l&96&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){Q(e,r)}}}function uv(t,e,n){const o=["class"];let i=re(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(f){ne.call(this,t,f)}function u(f){ne.call(this,t,f)}return t.$$set=f=>{e=Y(Y({},e),Ee(f)),n(1,i=re(e,o)),"class"in f&&n(0,a=f.class),"$$scope"in f&&n(5,l=f.$$scope)},[a,i,r,s,u,l]}class fv extends we{constructor(e){super(),ye(this,e,uv,av,fe,{class:0})}}const cv=t=>({builder:t&64}),Cu=t=>({builder:t[6]});function dv(t){let e;const n=t[2].default,o=de(n,t,t[5],Cu);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&96)&&pe(o,n,i,i[5],e?me(n,i[5],r,cv):_e(i[5]),Cu)},i(i){e||(k(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function mv(t){let e,n;const o=[{class:Le(mo({variant:"outline"}),"mt-2 sm:mt-0",t[0])},t[1]];let i={$$slots:{default:[dv,({builder:r})=>({6:r}),({builder:r})=>r?64:0]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Y(i,o[r]);return e=new Zh({props:i}),e.$on("click",t[3]),e.$on("keydown",t[4]),{c(){z(e.$$.fragment)},m(r,l){Z(e,r,l),n=!0},p(r,[l]){const a=l&3?ve(o,[l&1&&{class:Le(mo({variant:"outline"}),"mt-2 sm:mt-0",r[0])},l&2&&at(r[1])]):{};l&96&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){Q(e,r)}}}function pv(t,e,n){const o=["class"];let i=re(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;function s(f){ne.call(this,t,f)}function u(f){ne.call(this,t,f)}return t.$$set=f=>{e=Y(Y({},e),Ee(f)),n(1,i=re(e,o)),"class"in f&&n(0,a=f.class),"$$scope"in f&&n(5,l=f.$$scope)},[a,i,r,s,u,l]}class _d extends we{constructor(e){super(),ye(this,e,pv,mv,fe,{class:0})}}function _v(t){let e;const n=t[1].default,o=de(n,t,t[2],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&4)&&pe(o,n,i,i[2],e?me(n,i[2],r,null):_e(i[2]),null)},i(i){e||(k(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function hv(t){let e,n;const o=[t[0]];let i={$$slots:{default:[_v]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Y(i,o[r]);return e=new i0({props:i}),{c(){z(e.$$.fragment)},m(r,l){Z(e,r,l),n=!0},p(r,[l]){const a=l&1?ve(o,[at(r[0])]):{};l&4&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){Q(e,r)}}}function gv(t,e,n){const o=[];let i=re(e,o),{$$slots:r={},$$scope:l}=e;return t.$$set=a=>{e=Y(Y({},e),Ee(a)),n(0,i=re(e,o)),"$$scope"in a&&n(2,l=a.$$scope)},[i,r,l]}class bv extends we{constructor(e){super(),ye(this,e,gv,hv,fe,{})}}function vv(t){let e,n,o;const i=t[3].default,r=de(i,t,t[2],null);let l=[{class:n=Le("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=Y(a,l[s]);return{c(){e=O("div"),r&&r.c(),le(e,a)},m(s,u){I(s,e,u),r&&r.m(e,null),o=!0},p(s,[u]){r&&r.p&&(!o||u&4)&&pe(r,i,s,s[2],o?me(i,s[2],u,null):_e(s[2]),null),le(e,a=ve(l,[(!o||u&1&&n!==(n=Le("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(k(r,s),o=!0)},o(s){S(r,s),o=!1},d(s){s&&T(e),r&&r.d(s)}}}function yv(t,e,n){const o=["class"];let i=re(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Y(Y({},e),Ee(s)),n(1,i=re(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,i,l,r]}class ls extends we{constructor(e){super(),ye(this,e,yv,vv,fe,{class:0})}}function wv(t){let e,n,o;const i=t[3].default,r=de(i,t,t[2],null);let l=[{class:n=Le("flex flex-col space-y-2 text-center sm:text-left",t[0])},t[1]],a={};for(let s=0;s<l.length;s+=1)a=Y(a,l[s]);return{c(){e=O("div"),r&&r.c(),le(e,a)},m(s,u){I(s,e,u),r&&r.m(e,null),o=!0},p(s,[u]){r&&r.p&&(!o||u&4)&&pe(r,i,s,s[2],o?me(i,s[2],u,null):_e(s[2]),null),le(e,a=ve(l,[(!o||u&1&&n!==(n=Le("flex flex-col space-y-2 text-center sm:text-left",s[0])))&&{class:n},u&2&&s[1]]))},i(s){o||(k(r,s),o=!0)},o(s){S(r,s),o=!1},d(s){s&&T(e),r&&r.d(s)}}}function kv(t,e,n){const o=["class"];let i=re(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Y(Y({},e),Ee(s)),n(1,i=re(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(2,l=s.$$scope)},[a,i,l,r]}class ss extends we{constructor(e){super(),ye(this,e,kv,wv,fe,{class:0})}}function Cv(t){let e,n;const o=[{transition:t[1]},{transitionConfig:t[2]},{class:Le("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm ",t[0])},t[3]];let i={};for(let r=0;r<o.length;r+=1)i=Y(i,o[r]);return e=new P0({props:i}),{c(){z(e.$$.fragment)},m(r,l){Z(e,r,l),n=!0},p(r,[l]){const a=l&15?ve(o,[l&2&&{transition:r[1]},l&4&&{transitionConfig:r[2]},l&1&&{class:Le("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm ",r[0])},l&8&&at(r[3])]):{};e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){Q(e,r)}}}function Av(t,e,n){const o=["class","transition","transitionConfig"];let i=re(e,o),{class:r=void 0}=e,{transition:l=pd}=e,{transitionConfig:a={duration:150}}=e;return t.$$set=s=>{e=Y(Y({},e),Ee(s)),n(3,i=re(e,o)),"class"in s&&n(0,r=s.class),"transition"in s&&n(1,l=s.transition),"transitionConfig"in s&&n(2,a=s.transitionConfig)},[r,l,a,i]}class Sv extends we{constructor(e){super(),ye(this,e,Av,Cv,fe,{class:0,transition:1,transitionConfig:2})}}function Tv(t){let e;const n=t[4].default,o=de(n,t,t[5],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&32)&&pe(o,n,i,i[5],e?me(n,i[5],r,null):_e(i[5]),null)},i(i){e||(k(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Iv(t){let e,n,o,i;e=new Sv({});const r=[{transition:t[0]},{transitionConfig:t[1]},{class:Le("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg md:w-full",t[2])},t[3]];let l={$$slots:{default:[Tv]},$$scope:{ctx:t}};for(let a=0;a<r.length;a+=1)l=Y(l,r[a]);return o=new v0({props:l}),{c(){z(e.$$.fragment),n=G(),z(o.$$.fragment)},m(a,s){Z(e,a,s),I(a,n,s),Z(o,a,s),i=!0},p(a,s){const u=s&15?ve(r,[s&1&&{transition:a[0]},s&2&&{transitionConfig:a[1]},s&4&&{class:Le("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg md:w-full",a[2])},s&8&&at(a[3])]):{};s&32&&(u.$$scope={dirty:s,ctx:a}),o.$set(u)},i(a){i||(k(e.$$.fragment,a),k(o.$$.fragment,a),i=!0)},o(a){S(e.$$.fragment,a),S(o.$$.fragment,a),i=!1},d(a){a&&T(n),Q(e,a),Q(o,a)}}}function Ov(t){let e,n;return e=new bv({props:{$$slots:{default:[Iv]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment)},m(o,i){Z(e,o,i),n=!0},p(o,[i]){const r={};i&47&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Q(e,o)}}}function Pv(t,e,n){const o=["transition","transitionConfig","class"];let i=re(e,o),{$$slots:r={},$$scope:l}=e,{transition:a=Ar}=e,{transitionConfig:s=void 0}=e,{class:u=void 0}=e;return t.$$set=f=>{e=Y(Y({},e),Ee(f)),n(3,i=re(e,o)),"transition"in f&&n(0,a=f.transition),"transitionConfig"in f&&n(1,s=f.transitionConfig),"class"in f&&n(2,u=f.class),"$$scope"in f&&n(5,l=f.$$scope)},[a,s,u,i,r,l]}class as extends we{constructor(e){super(),ye(this,e,Pv,Ov,fe,{transition:0,transitionConfig:1,class:2})}}function Mv(t){let e;const n=t[2].default,o=de(n,t,t[3],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&8)&&pe(o,n,i,i[3],e?me(n,i[3],r,null):_e(i[3]),null)},i(i){e||(k(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function Nv(t){let e,n;const o=[{class:Le("text-sm text-muted-foreground",t[0])},t[1]];let i={$$slots:{default:[Mv]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Y(i,o[r]);return e=new F0({props:i}),{c(){z(e.$$.fragment)},m(r,l){Z(e,r,l),n=!0},p(r,[l]){const a=l&3?ve(o,[l&1&&{class:Le("text-sm text-muted-foreground",r[0])},l&2&&at(r[1])]):{};l&8&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){Q(e,r)}}}function Ev(t,e,n){const o=["class"];let i=re(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e;return t.$$set=s=>{e=Y(Y({},e),Ee(s)),n(1,i=re(e,o)),"class"in s&&n(0,a=s.class),"$$scope"in s&&n(3,l=s.$$scope)},[a,i,r,l]}class us extends we{constructor(e){super(),ye(this,e,Ev,Nv,fe,{class:0})}}const fs=Mh;function Au(t,e,n){const o=t.slice();return o[25]=e[n],o}function Su(t,e,n){const o=t.slice();return o[28]=e[n],o}function Rv(t){let e;return{c(){e=$("Pause Menu")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Dv(t){let e;return{c(){e=$("Unpause any time by pressing 'P'")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Lv(t){let e,n,o,i;return e=new ko({props:{$$slots:{default:[Rv]},$$scope:{ctx:t}}}),o=new So({props:{$$slots:{default:[Dv]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment),n=G(),z(o.$$.fragment)},m(r,l){Z(e,r,l),I(r,n,l),Z(o,r,l),i=!0},p(r,l){const a={};l[1]&1&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l[1]&1&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),Q(e,r),Q(o,r)}}}function Tu(t){let e,n,o,i,r,l=JSON.stringify(t[5].requirements[t[2].difficulty].population_count)+"",a,s,u=JSON.stringify(t[2].townInfo.population_count)+"",f,c,d,p,h=JSON.stringify(t[5].requirements[t[2].difficulty].happiness)+"",_,y,b=JSON.stringify(t[2].townInfo.happiness)+"",A,w,D,V,E=JSON.stringify(t[5].requirements[t[2].difficulty].employment*100)+"",W,B,j=JSON.stringify((t[2].townInfo.employees/t[2].townInfo.population_count||0)*100)+"",X,P,g,C,N,F=JSON.stringify(t[5].requirements[t[2].difficulty].health)+"",L,K,x=JSON.stringify(t[2].townInfo.health)+"",J,m,R,H,te=JSON.stringify(t[5].requirements[t[2].difficulty].knowledge)+"",ie,U,ke=JSON.stringify(t[2].townInfo.knowledge_points)+"",ce,Ne,xe;function Ge(ge,Ue){return ge[2].townInfo.population_count>=ge[5].requirements[ge[2].difficulty].population_count?jv:Fv}let nt=Ge(t),Ce=nt(t);function je(ge,Ue){return ge[2].townInfo.happiness>=ge[5].requirements[ge[2].difficulty].happiness?Bv:qv}let Ke=je(t),He=Ke(t);function Ve(ge,Ue){return ge[2].townInfo.employees/ge[2].townInfo.population_count>=ge[5].requirements[ge[2].difficulty].employment?Vv:Gv}let We=Ve(t),Me=We(t);function Ye(ge,Ue){return ge[2].townInfo.health>=ge[5].requirements[ge[2].difficulty].health?Hv:$v}let ue=Ye(t),Se=ue(t);function jt(ge,Ue){return ge[2].townInfo.knowledge_points>=ge[5].requirements[ge[2].difficulty].knowledge?Kv:Wv}let Et=jt(t),mt=Et(t),ot=t[5].requirements[t[2].difficulty].required_plots!=null&&t[5].requirements[t[2].difficulty].required_plots.length>0&&Iu(t);return{c(){e=O("div"),e.textContent=`With your difficulty (${t[6]}), you must also have:`,n=G(),o=O("ul"),i=O("li"),Ce.c(),r=$(`
                  Population: `),a=$(l),s=$(" - Currently at "),f=$(u),c=G(),d=O("li"),He.c(),p=$(`
                  Happiness: `),_=$(h),y=$(" - Currently at "),A=$(b),w=G(),D=O("li"),Me.c(),V=$(`
                  Employment: `),W=$(E),B=$("% - Currently at "),X=$(j),P=$("%"),g=G(),C=O("li"),Se.c(),N=$(`
                  Health: `),L=$(F),K=$(" - Currently at "),J=$(x),m=G(),R=O("li"),mt.c(),H=$(`
                  Knowledge: `),ie=$(te),U=$(" - Currently at "),ce=$(ke),Ne=G(),ot&&ot.c(),xe=De(),M(e,"class","leading-relaxed text-sm"),M(o,"class","list-inside list-disc leading-relaxedmt-0 text-sm")},m(ge,Ue){I(ge,e,Ue),I(ge,n,Ue),I(ge,o,Ue),v(o,i),Ce.m(i,null),v(i,r),v(i,a),v(i,s),v(i,f),v(o,c),v(o,d),He.m(d,null),v(d,p),v(d,_),v(d,y),v(d,A),v(o,w),v(o,D),Me.m(D,null),v(D,V),v(D,W),v(D,B),v(D,X),v(D,P),v(o,g),v(o,C),Se.m(C,null),v(C,N),v(C,L),v(C,K),v(C,J),v(o,m),v(o,R),mt.m(R,null),v(R,H),v(R,ie),v(R,U),v(R,ce),I(ge,Ne,Ue),ot&&ot.m(ge,Ue),I(ge,xe,Ue)},p(ge,Ue){nt!==(nt=Ge(ge))&&(Ce.d(1),Ce=nt(ge),Ce&&(Ce.c(),Ce.m(i,r))),Ue[0]&4&&l!==(l=JSON.stringify(ge[5].requirements[ge[2].difficulty].population_count)+"")&&se(a,l),Ue[0]&4&&u!==(u=JSON.stringify(ge[2].townInfo.population_count)+"")&&se(f,u),Ke!==(Ke=je(ge))&&(He.d(1),He=Ke(ge),He&&(He.c(),He.m(d,p))),Ue[0]&4&&h!==(h=JSON.stringify(ge[5].requirements[ge[2].difficulty].happiness)+"")&&se(_,h),Ue[0]&4&&b!==(b=JSON.stringify(ge[2].townInfo.happiness)+"")&&se(A,b),We!==(We=Ve(ge))&&(Me.d(1),Me=We(ge),Me&&(Me.c(),Me.m(D,V))),Ue[0]&4&&E!==(E=JSON.stringify(ge[5].requirements[ge[2].difficulty].employment*100)+"")&&se(W,E),Ue[0]&4&&j!==(j=JSON.stringify((ge[2].townInfo.employees/ge[2].townInfo.population_count||0)*100)+"")&&se(X,j),ue!==(ue=Ye(ge))&&(Se.d(1),Se=ue(ge),Se&&(Se.c(),Se.m(C,N))),Ue[0]&4&&F!==(F=JSON.stringify(ge[5].requirements[ge[2].difficulty].health)+"")&&se(L,F),Ue[0]&4&&x!==(x=JSON.stringify(ge[2].townInfo.health)+"")&&se(J,x),Et!==(Et=jt(ge))&&(mt.d(1),mt=Et(ge),mt&&(mt.c(),mt.m(R,H))),Ue[0]&4&&te!==(te=JSON.stringify(ge[5].requirements[ge[2].difficulty].knowledge)+"")&&se(ie,te),Ue[0]&4&&ke!==(ke=JSON.stringify(ge[2].townInfo.knowledge_points)+"")&&se(ce,ke),ge[5].requirements[ge[2].difficulty].required_plots!=null&&ge[5].requirements[ge[2].difficulty].required_plots.length>0?ot?ot.p(ge,Ue):(ot=Iu(ge),ot.c(),ot.m(xe.parentNode,xe)):ot&&(ot.d(1),ot=null)},d(ge){ge&&(T(e),T(n),T(o),T(Ne),T(xe)),Ce.d(),He.d(),Me.d(),Se.d(),mt.d(),ot&&ot.d(ge)}}}function Fv(t){let e;return{c(){e=$("❌")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function jv(t){let e;return{c(){e=$("✅")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function qv(t){let e;return{c(){e=$("❌")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Bv(t){let e;return{c(){e=$("✅")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Gv(t){let e;return{c(){e=$("❌")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Vv(t){let e;return{c(){e=$("✅")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function $v(t){let e;return{c(){e=$("❌")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Hv(t){let e;return{c(){e=$("✅")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Wv(t){let e;return{c(){e=$("❌")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Kv(t){let e;return{c(){e=$("✅")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Iu(t){let e,n,o,i=Je(t[5].requirements[t[2].difficulty].required_plots),r=[];for(let l=0;l<i.length;l+=1)r[l]=Ou(Su(t,i,l));return{c(){e=O("br"),n=$(`
                You also need to have these plots:
                `);for(let l=0;l<r.length;l+=1)r[l].c();o=De()},m(l,a){I(l,e,a),I(l,n,a);for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(l,a);I(l,o,a)},p(l,a){if(a[0]&36){i=Je(l[5].requirements[l[2].difficulty].required_plots);let s;for(s=0;s<i.length;s+=1){const u=Su(l,i,s);r[s]?r[s].p(u,a):(r[s]=Ou(u),r[s].c(),r[s].m(o.parentNode,o))}for(;s<r.length;s+=1)r[s].d(1);r.length=i.length}},d(l){l&&(T(e),T(n),T(o)),vt(r,l)}}}function Uv(t){let e;return{c(){e=$("❌")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Yv(t){let e;return{c(){e=$("✅")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Ou(t){let e,n,o,i,r=t[28]+"",l,a;function s(c,d){return d[0]&4&&(o=null),o==null&&(o=Ze(c[28],c[2]).length>0),o?Yv:Uv}let u=s(t,[-1,-1]),f=u(t);return{c(){e=O("div"),n=O("li"),f.c(),i=G(),l=$(r),a=G(),M(e,"class","text-sm")},m(c,d){I(c,e,d),v(e,n),f.m(n,null),v(n,i),v(n,l),v(e,a)},p(c,d){u!==(u=s(c,d))&&(f.d(1),f=u(c),f&&(f.c(),f.m(n,i))),d[0]&4&&r!==(r=c[28]+"")&&se(l,r)},d(c){c&&T(e),f.d()}}}function Xv(t){let e;return{c(){e=$("Save game")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Jv(t){let e;return{c(){e=$("Save")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function xv(t){let e;return{c(){e=$("Upload game")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Pu(t){let e,n;function o(){return t[19](t[25])}return e=new Yt({props:{class:"bg-blue-600 hover:bg-blue-700 mt-4",id:"collectPrize-"+t[25].id,$$slots:{default:[Zv]},$$scope:{ctx:t}}}),e.$on("click",o),{c(){z(e.$$.fragment)},m(i,r){Z(e,i,r),n=!0},p(i,r){t=i;const l={};r[0]&2&&(l.id="collectPrize-"+t[25].id),r[0]&2|r[1]&1&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(i){n||(k(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){Q(e,i)}}}function Zv(t){let e,n=Nu(t[25].prize)+"",o,i;return{c(){e=$("Collect Prize: $"),o=$(n),i=$(" gold")},m(r,l){I(r,e,l),I(r,o,l),I(r,i,l)},p(r,l){l[0]&2&&n!==(n=Nu(r[25].prize)+"")&&se(o,n)},d(r){r&&(T(e),T(o),T(i))}}}function Mu(t){let e,n,o,i,r,l,a=t[25].title+"",s,u,f,c=t[25].requirements+"",d,p,h,_=t[25].icon+"",y,b,A,w=t[25].description+"",D,V,E,W,B=t[8](t[25].id)+"",j,X,P,g=t[13](t[25].id)&&!t[9](t[25].id),C,N,F,L=g&&Pu(t);return{c(){e=O("div"),n=O("div"),o=O("div"),i=O("span"),r=O("div"),l=O("span"),s=$(a),u=G(),f=O("div"),d=$(c),p=G(),h=O("div"),y=$(_),b=G(),A=O("div"),D=$(w),V=G(),E=O("div"),W=$("✅ Completed on Day "),j=$(B),P=G(),L&&L.c(),C=G(),M(l,"class","font-semibold text-lg"),M(f,"class","font-thin text-white opacity-75 text-xs"),M(r,"class","flex flex-row gap-3 w-[100%] text- items-center "),M(h,"class","text-sm flex-grow pr-1 break-inside-avoid "),M(i,"class","flex flex-row justify-between w-[100%]"),M(o,"class","min-w-32 flex"),M(A,"class","text-white opacity-75 text-sm font-light"),M(E,"class",X=(t[13](t[25].id)?"":"hidden")+" text-xs text-green-400"),M(n,"class","flex-col flex px-3 py-2 gap-0"),M(e,"class",N="flex flex-col gap-3 cursor-default rounded-md "+(t[13](t[25].id)?"bg-green-700":"bg-gray-500 opacity-35"))},m(K,x){I(K,e,x),v(e,n),v(n,o),v(o,i),v(i,r),v(r,l),v(l,s),v(r,u),v(r,f),v(f,d),v(i,p),v(i,h),v(h,y),v(n,b),v(n,A),v(A,D),v(n,V),v(n,E),v(E,W),v(E,j),v(n,P),L&&L.m(n,null),v(e,C),F=!0},p(K,x){(!F||x[0]&2)&&a!==(a=K[25].title+"")&&se(s,a),(!F||x[0]&2)&&c!==(c=K[25].requirements+"")&&se(d,c),(!F||x[0]&2)&&_!==(_=K[25].icon+"")&&se(y,_),(!F||x[0]&2)&&w!==(w=K[25].description+"")&&se(D,w),(!F||x[0]&2)&&B!==(B=K[8](K[25].id)+"")&&se(j,B),(!F||x[0]&2&&X!==(X=(K[13](K[25].id)?"":"hidden")+" text-xs text-green-400"))&&M(E,"class",X),x[0]&2&&(g=K[13](K[25].id)&&!K[9](K[25].id)),g?L?(L.p(K,x),x[0]&2&&k(L,1)):(L=Pu(K),L.c(),k(L,1),L.m(n,null)):L&&(Te(),S(L,1,1,()=>{L=null}),Ie()),(!F||x[0]&2&&N!==(N="flex flex-col gap-3 cursor-default rounded-md "+(K[13](K[25].id)?"bg-green-700":"bg-gray-500 opacity-35")))&&M(e,"class",N)},i(K){F||(k(L),F=!0)},o(K){S(L),F=!1},d(K){K&&T(e),L&&L.d()}}}function Qv(t){let e,n,o,i,r,l,a,s,u,f,c,d,p,h,_,y,b,A,w,D,V,E,W,B,j,X,P,g,C,N,F,L,K,x,J,m,R,H,te,ie,U,ke,ce;e=new Co({props:{$$slots:{default:[Lv]},$$scope:{ctx:t}}});let Ne=t[2].endGoal=="land"&&Tu(t);_=new io({props:{for:"saveButton",class:`cursor-pointer bg-blue-600 rounded-md text-center p-2.5 hover:bg-blue-700 justify-center flex 
					`,$$slots:{default:[Xv]},$$scope:{ctx:t}}}),b=new Yt({props:{class:`
					bg-blue-600 hover:bg-blue-700 hidden
					`,id:"saveButton",$$slots:{default:[Jv]},$$scope:{ctx:t}}}),b.$on("click",t[16]),w=new io({props:{for:"upload",class:`cursor-pointer bg-blue-600 rounded-md text-center p-2.5 hover:bg-blue-700 justify-center flex 
					`,$$slots:{default:[xv]},$$scope:{ctx:t}}}),V=new is({props:{class:"hidden",type:"file",id:"upload"}}),V.$on("change",t[12]),W=new bt({props:{orientation:"vertical"}});let xe=Je(t[1]),Ge=[];for(let Ce=0;Ce<xe.length;Ce+=1)Ge[Ce]=Mu(Au(t,xe,Ce));const nt=Ce=>S(Ge[Ce],1,1,()=>{Ge[Ce]=null});return{c(){z(e.$$.fragment),n=G(),o=O("div"),i=O("div"),r=O("div"),l=O("h4"),l.textContent="This game",a=G(),s=O("span"),s.textContent=`${t[5].description_title}`,u=G(),f=O("div"),Ne&&Ne.c(),c=G(),d=O("div"),p=O("div"),h=O("div"),z(_.$$.fragment),y=G(),z(b.$$.fragment),A=G(),z(w.$$.fragment),D=G(),z(V.$$.fragment),E=G(),z(W.$$.fragment),B=G(),j=O("div"),X=O("h4"),X.textContent=`Your achievement (${t[7].length}
          / ${it.length})`,P=G(),g=O("span"),g.textContent="Track your progress through games & complete challenges!",C=G(),N=O("br"),F=G(),L=O("div"),K=O("input"),x=G(),J=O("label"),J.textContent="Show completed",m=G(),R=O("div"),H=O("div");for(let Ce=0;Ce<Ge.length;Ce+=1)Ge[Ce].c();te=G(),ie=O("span"),ie.textContent=`Prizes apply to the current game you are in. You can wait to apply
          them until the right time.`,M(l,"class","underline underline-offset-4"),M(s,"class","text-sm text-gray-400"),M(f,"class","mt-6 gap-0 py-0 text-gray-400 text-sm"),M(r,"class","flex-col h-max"),M(h,"class","flex gap-10 justify-start min-w-[100%] w-[100%] items"),M(p,"class","flex flex-col gap-3 h-max"),M(i,"class","flex flex-col gap-6 justify-between"),M(X,"class","underline underline-offset-4"),M(g,"class","text-sm text-gray-400"),M(K,"type","checkbox"),M(K,"id","toggle-show-completed"),M(K,"class","rounded"),M(K,"tabindex","-1"),K.checked=localStorage.getItem("showCompletedAchievements")==="true",M(J,"for","toggle-show-completed"),M(J,"class","text-xs text-gray-400 select-none ml-2 no-select cursor-pointer "),M(L,"class","flex items-center"),M(H,"class","flex flex-col gap-4 overflow-scroll pb-20 scroll-smooth"),M(R,"class","overflow-scroll mt-2 h-[55vh]"),M(ie,"class","text-sm text-yellow-400 italic"),M(o,"class","flex flex-row w-full gap-10")},m(Ce,je){Z(e,Ce,je),I(Ce,n,je),I(Ce,o,je),v(o,i),v(i,r),v(r,l),v(r,a),v(r,s),v(r,u),v(r,f),Ne&&Ne.m(f,null),v(i,c),v(i,d),v(d,p),v(p,h),Z(_,h,null),v(h,y),Z(b,h,null),v(h,A),Z(w,h,null),v(h,D),Z(V,h,null),v(o,E),Z(W,o,null),v(o,B),v(o,j),v(j,X),v(j,P),v(j,g),v(j,C),v(j,N),v(j,F),v(j,L),v(L,K),v(L,x),v(L,J),v(j,m),v(j,R),v(R,H);for(let Ke=0;Ke<Ge.length;Ke+=1)Ge[Ke]&&Ge[Ke].m(H,null);v(j,te),v(j,ie),U=!0,ke||(ce=[ee(K,"change",t[17]),ee(K,"keydown",t[18])],ke=!0)},p(Ce,je){const Ke={};je[1]&1&&(Ke.$$scope={dirty:je,ctx:Ce}),e.$set(Ke),Ce[2].endGoal=="land"?Ne?Ne.p(Ce,je):(Ne=Tu(Ce),Ne.c(),Ne.m(f,null)):Ne&&(Ne.d(1),Ne=null);const He={};je[1]&1&&(He.$$scope={dirty:je,ctx:Ce}),_.$set(He);const Ve={};je[1]&1&&(Ve.$$scope={dirty:je,ctx:Ce}),b.$set(Ve);const We={};if(je[1]&1&&(We.$$scope={dirty:je,ctx:Ce}),w.$set(We),je[0]&9986){xe=Je(Ce[1]);let Me;for(Me=0;Me<xe.length;Me+=1){const Ye=Au(Ce,xe,Me);Ge[Me]?(Ge[Me].p(Ye,je),k(Ge[Me],1)):(Ge[Me]=Mu(Ye),Ge[Me].c(),k(Ge[Me],1),Ge[Me].m(H,null))}for(Te(),Me=xe.length;Me<Ge.length;Me+=1)nt(Me);Ie()}},i(Ce){if(!U){k(e.$$.fragment,Ce),k(_.$$.fragment,Ce),k(b.$$.fragment,Ce),k(w.$$.fragment,Ce),k(V.$$.fragment,Ce),k(W.$$.fragment,Ce);for(let je=0;je<xe.length;je+=1)k(Ge[je]);U=!0}},o(Ce){S(e.$$.fragment,Ce),S(_.$$.fragment,Ce),S(b.$$.fragment,Ce),S(w.$$.fragment,Ce),S(V.$$.fragment,Ce),S(W.$$.fragment,Ce),Ge=Ge.filter(Boolean);for(let je=0;je<Ge.length;je+=1)S(Ge[je]);U=!1},d(Ce){Ce&&(T(n),T(o)),Q(e,Ce),Ne&&Ne.d(),Q(_),Q(b),Q(w),Q(V),Q(W),vt(Ge,Ce),ke=!1,Be(ce)}}}function zv(t){let e,n;return e=new Ao({props:{class:" max-w-[90vw] max-h-[90vh] bg-foregroundDark text-foregroundText",$$slots:{default:[Qv]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment)},m(o,i){Z(e,o,i),n=!0},p(o,i){const r={};i[0]&6|i[1]&1&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Q(e,o)}}}function ey(t){var o;let e=((o=t[14]())==null?void 0:o.title)+"",n;return{c(){n=$(e)},m(i,r){I(i,n,r)},p:Ae,d(i){i&&T(n)}}}function ty(t){let e,n,o,i;return{c(){var r,l;e=O("div"),n=O("div"),n.textContent=`${(r=t[14]())==null?void 0:r.icon}`,o=G(),i=O("div"),i.textContent=`${(l=t[14]())==null?void 0:l.description}`,M(n,"class","text-center w-[30%] align-middle flex flex-col text-8xl"),M(i,"class","pl-8 w-[80%] align-middle flex flex-col justify-center text-lg"),M(e,"class","flex flex-row align-middle justify-evenly px-6 py-4")},m(r,l){I(r,e,l),v(e,n),v(e,o),v(e,i)},p:Ae,d(r){r&&T(e)}}}function ny(t){let e,n,o,i;return e=new rs({props:{class:"text-center text-xl font-bold",$$slots:{default:[ey]},$$scope:{ctx:t}}}),o=new us({props:{$$slots:{default:[ty]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment),n=G(),z(o.$$.fragment)},m(r,l){Z(e,r,l),I(r,n,l),Z(o,r,l),i=!0},p(r,l){const a={};l[1]&1&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l[1]&1&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),Q(e,r),Q(o,r)}}}function oy(t){let e;return{c(){e=$("Close to collect prize")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function iy(t){let e,n;return e=new _d({props:{$$slots:{default:[oy]},$$scope:{ctx:t}}}),e.$on("click",t[21]),{c(){z(e.$$.fragment)},m(o,i){Z(e,o,i),n=!0},p(o,i){const r={};i[1]&1&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Q(e,o)}}}function ry(t){let e,n,o,i;return e=new ss({props:{$$slots:{default:[ny]},$$scope:{ctx:t}}}),o=new ls({props:{$$slots:{default:[iy]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment),n=G(),z(o.$$.fragment)},m(r,l){Z(e,r,l),I(r,n,l),Z(o,r,l),i=!0},p(r,l){const a={};l[1]&1&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l[0]&16|l[1]&1&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),Q(e,r),Q(o,r)}}}function ly(t){let e,n;return e=new as({props:{$$slots:{default:[ry]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment)},m(o,i){Z(e,o,i),n=!0},p(o,i){const r={};i[0]&16|i[1]&1&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Q(e,o)}}}function sy(t){let e,n,o,i,r;function l(s){t[20](s)}let a={$$slots:{default:[zv]},$$scope:{ctx:t}};return t[3]!==void 0&&(a.open=t[3]),e=new To({props:a}),Oe.push(()=>Vn(e,"open",l)),i=new fs({props:{open:t[4],$$slots:{default:[ly]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment),o=G(),z(i.$$.fragment)},m(s,u){Z(e,s,u),I(s,o,u),Z(i,s,u),r=!0},p(s,u){const f={};u[0]&6|u[1]&1&&(f.$$scope={dirty:u,ctx:s}),!n&&u[0]&8&&(n=!0,f.open=s[3],Gn(()=>n=!1)),e.$set(f);const c={};u[0]&16&&(c.open=s[4]),u[0]&16|u[1]&1&&(c.$$scope={dirty:u,ctx:s}),i.$set(c)},i(s){r||(k(e.$$.fragment,s),k(i.$$.fragment,s),r=!0)},o(s){S(e.$$.fragment,s),S(i.$$.fragment,s),r=!1},d(s){s&&T(o),Q(e,s),Q(i,s)}}}function Nu(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function ay(t){const e=JSON.parse(t);return e.townInfo!=null&&e.difficulty!=null}function uy(t,e,n){let o,i,r,l,a;ae(t,nn,P=>n(23,o=P)),ae(t,Re,P=>n(2,i=P)),ae(t,zi,P=>n(15,r=P)),ae(t,Pt,P=>n(3,l=P)),ae(t,Qi,P=>n(4,a=P));const u=ht[i.endGoal],f=Ul[i.difficulty]||0;it.sort((P,g)=>A(P.id)&&!A(g.id)?-1:!A(P.id)&&A(g.id)?1:0);const c=it.filter(P=>A(P.id));function d(P){const g=o.achievements.find(C=>C[0]==P);return g==null?0:`${g[1]} in ${g[2]}.`}function p(P){const g=o.achievements.find(C=>C[0]==P);return g==null?!1:g[3]}function h(P){const g=o.achievements.find(N=>N[0]==P);if(g==null)return;const C=it.find(N=>N.id==P);C!=null&&(Pe(Re,i.townInfo.gold+=C.prize,i),g[3]=!0,Pe(nn,o.achievements=o.achievements.map(N=>N[0]==P?g:N),o))}let _=it;function y(){const P=JSON.stringify(i),g=new Blob([P],{type:"text/plain"}),C=URL.createObjectURL(g),N=document.createElement("a");N.href=C,N.download=`${new Date().toISOString()}.json`,document.body.appendChild(N),N.click(),document.body.removeChild(N),URL.revokeObjectURL(C)}function b(){const g=document.getElementById("upload").files;if(g==null)return;const C=g[0],N=new FileReader;N.onload=function(F){if(F.target==null)return;const L=F.target.result;if(typeof L=="string"){if(!ay(L)){alert("Invalid game file");return}Yl(JSON.parse(L))}else alert("Invalid game file: is not String.")},N.readAsText(C)}function A(P){return o.achievements==null?!1:o.achievements.find(g=>g[0]==P)!=null}function w(){zi.update(P=>!P),localStorage.setItem("showCompletedAchievements",localStorage.getItem("showCompletedAchievements")==="true"?"false":"true")}localStorage.getItem("pauseMenuTab")==null&&(localStorage.setItem("pauseMenuTab","game"),Tc.set("game"));function D(){const P=o.achievements[o.achievements.length-1];if(P!=null)return it.find(g=>g.id==P[0])}const V=()=>y(),E=()=>{w()},W=P=>{P.key==="p"&&Pt.set(!1)},B=P=>{h(P.id);const g=document.getElementById(`collectPrize-${P.id}`);g&&(g.style.display="none")};function j(P){l=P,Pt.set(l)}const X=()=>{Pe(Qi,a=!1,a)};return t.$$.update=()=>{if(t.$$.dirty[0]&32774&&i)if(r)n(1,_=it);else{n(1,_=[]);for(let P=0;P<it.length;P++)(!A(it[P].id)||!p(it[P].id))&&_.push(it[P])}},[w,_,i,l,a,u,f,c,d,p,h,y,b,A,D,r,V,E,W,B,j,X]}class fy extends we{constructor(e){super(),ye(this,e,uy,sy,fe,{toggleShowCompleted:0},null,[-1,-1])}get toggleShowCompleted(){return this.$$.ctx[0]}}function cy(){console.log("%cRUNNING STABILITY TESTS...","color: #26bfa5;");let t=0;return console.log("%cPASSED ALL STABILITY TESTS 😍","color: #26bfa5;"),t}function dy(t){let e=t[0].endGameDetails.win==!0?"You won! 🎉":"You lost! 😭",n;return{c(){n=$(e)},m(o,i){I(o,n,i)},p(o,i){i&1&&e!==(e=o[0].endGameDetails.win==!0?"You won! 🎉":"You lost! 😭")&&se(n,e)},d(o){o&&T(n)}}}function my(t){let e;return{c(){e=$("Keep playin'")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function py(t){let e,n=t[0].endGameDetails.msg+"",o,i,r,l,a,s,u,f;return u=new Yt({props:{class:"bg-accent",$$slots:{default:[my]},$$scope:{ctx:t}}}),u.$on("click",t[2]),{c(){e=O("span"),o=$(n),i=G(),r=O("br"),l=G(),a=O("br"),s=G(),z(u.$$.fragment),M(e,"class","text-gray-500 text-sm")},m(c,d){I(c,e,d),v(e,o),I(c,i,d),I(c,r,d),I(c,l,d),I(c,a,d),I(c,s,d),Z(u,c,d),f=!0},p(c,d){(!f||d&1)&&n!==(n=c[0].endGameDetails.msg+"")&&se(o,n);const p={};d&16&&(p.$$scope={dirty:d,ctx:c}),u.$set(p)},i(c){f||(k(u.$$.fragment,c),f=!0)},o(c){S(u.$$.fragment,c),f=!1},d(c){c&&(T(e),T(i),T(r),T(l),T(a),T(s)),Q(u,c)}}}function _y(t){let e,n,o,i;return e=new ko({props:{$$slots:{default:[dy]},$$scope:{ctx:t}}}),o=new So({props:{$$slots:{default:[py]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment),n=G(),z(o.$$.fragment)},m(r,l){Z(e,r,l),I(r,n,l),Z(o,r,l),i=!0},p(r,l){const a={};l&17&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&17&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),Q(e,r),Q(o,r)}}}function hy(t){let e;return{c(){e=O("span"),e.textContent="Reset the game by pressing SHIFT+ESC",M(e,"class","text-gray-500 text-sm")},m(n,o){I(n,e,o)},p:Ae,d(n){n&&T(e)}}}function gy(t){let e,n,o,i;return e=new Co({props:{$$slots:{default:[_y]},$$scope:{ctx:t}}}),o=new ni({props:{$$slots:{default:[hy]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment),n=G(),z(o.$$.fragment)},m(r,l){Z(e,r,l),I(r,n,l),Z(o,r,l),i=!0},p(r,l){const a={};l&17&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&16&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),Q(e,r),Q(o,r)}}}function by(t){let e,n;return e=new Ao({props:{class:"bg-foregroundDark text-foregroundText",$$slots:{default:[gy]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment)},m(o,i){Z(e,o,i),n=!0},p(o,i){const r={};i&17&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Q(e,o)}}}function vy(t){let e,n,o;function i(l){t[3](l)}let r={$$slots:{default:[by]},$$scope:{ctx:t}};return t[1]!==void 0&&(r.open=t[1]),e=new To({props:r}),Oe.push(()=>Vn(e,"open",i)),{c(){z(e.$$.fragment)},m(l,a){Z(e,l,a),o=!0},p(l,[a]){const s={};a&17&&(s.$$scope={dirty:a,ctx:l}),!n&&a&2&&(n=!0,s.open=l[1],Gn(()=>n=!1)),e.$set(s)},i(l){o||(k(e.$$.fragment,l),o=!0)},o(l){S(e.$$.fragment,l),o=!1},d(l){Q(e,l)}}}function yy(t,e,n){let o;ae(t,Re,a=>n(0,o=a));let i=!1;function r(){let a=o;a.overtime=!0,Re.set(a),n(1,i=!1),Pt.set(!1)}function l(a){i=a,n(1,i),n(0,o)}return t.$$.update=()=>{t.$$.dirty&1&&(o.endGameDetails.msg!=""&&o.overtime==!1?n(1,i=!0):n(1,i=!1))},[o,i,r,l]}class wy extends we{constructor(e){super(),ye(this,e,yy,vy,fe,{})}}function ky(t){let e;return{c(){e=$("Welcome to Plots!")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Cy(t){let e;return{c(){e=$("Select a map size (difficulty)")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Ay(t){let e;return{c(){e=$("Select a game mode")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Sy(t){let e;return{c(){e=O("p"),e.textContent=`${ht.free_play.description_title}`,M(e,"class","text-gray-500 text-sm")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Ty(t){let e;return{c(){e=O("p"),e.textContent=`${ht.land.description_title}`,M(e,"class","text-gray-500 text-sm")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Iy(t){let e;return{c(){e=$("Town Name")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Oy(t){let e;return{c(){e=$("Cheats")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Py(t){let e,n,o,i,r,l,a,s,u,f,c,d,p,h,_,y,b,A,w,D,V,E,W,B,j,X,P,g,C,N,F,L,K;r=new io({props:{for:"difficulty",class:"mt-2",$$slots:{default:[Cy]},$$scope:{ctx:t}}}),p=new io({props:{for:"endGoal",class:"mt-2",$$slots:{default:[Ay]},$$scope:{ctx:t}}});function x(R,H){return R[0]==="land"?Ty:Sy}let J=x(t),m=J(t);return V=new io({props:{for:"townName",class:"mt-2",$$slots:{default:[Iy]},$$scope:{ctx:t}}}),W=new is({props:{id:"townName",class:"mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Will be randomized if you leave blank"}}),X=new io({props:{for:"cheats",class:"mt-2",$$slots:{default:[Oy]},$$scope:{ctx:t}}}),{c(){e=O("a"),e.textContent="GitHub / Learn how to play",n=G(),o=O("div"),i=O("div"),z(r.$$.fragment),l=G(),a=O("select"),s=O("option"),s.textContent="Easy (quick game)",u=O("option"),u.textContent="Normal",f=O("option"),f.textContent="Hard (longest game)",c=G(),d=O("div"),z(p.$$.fragment),h=G(),m.c(),_=G(),y=O("select"),b=O("option"),b.textContent=`${ht.land.short_title}`,A=O("option"),A.textContent=`${ht.free_play.short_title}`,w=G(),D=O("div"),z(V.$$.fragment),E=G(),z(W.$$.fragment),B=G(),j=O("div"),z(X.$$.fragment),P=G(),g=O("select"),C=O("option"),C.textContent="No cheats",N=O("option"),N.textContent="Dev mode",M(e,"href","https://github.com/josephrcox/plots#how-to-play"),M(e,"class","text-blue-500 text-sm mb-4 hover:underline"),M(e,"target","_blank"),s.__value="0",zt(s,s.__value),u.__value="1",zt(u,u.__value),u.selected=!0,f.__value="2",zt(f,f.__value),M(a,"id","difficulty"),M(a,"class","mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"),b.__value="land",zt(b,b.__value),A.__value="free_play",zt(A,A.__value),M(y,"id","endGoal"),M(y,"class","mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),C.__value="false",zt(C,C.__value),C.selected=!0,N.__value="true",zt(N,N.__value),M(g,"id","cheats"),M(g,"class","mt-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),M(o,"class","flex flex-col justify-center gap-5 mt-4")},m(R,H){I(R,e,H),I(R,n,H),I(R,o,H),v(o,i),Z(r,i,null),v(i,l),v(i,a),v(a,s),v(a,u),v(a,f),v(o,c),v(o,d),Z(p,d,null),v(d,h),m.m(d,null),v(d,_),v(d,y),v(y,b),v(y,A),Hs(y,t[0]),v(o,w),v(o,D),Z(V,D,null),v(D,E),Z(W,D,null),v(o,B),v(o,j),Z(X,j,null),v(j,P),v(j,g),v(g,C),v(g,N),F=!0,L||(K=ee(y,"change",t[4]),L=!0)},p(R,H){const te={};H&128&&(te.$$scope={dirty:H,ctx:R}),r.$set(te);const ie={};H&128&&(ie.$$scope={dirty:H,ctx:R}),p.$set(ie),J!==(J=x(R))&&(m.d(1),m=J(R),m&&(m.c(),m.m(d,_))),(!F||H&1)&&Hs(y,R[0]);const U={};H&128&&(U.$$scope={dirty:H,ctx:R}),V.$set(U);const ke={};H&128&&(ke.$$scope={dirty:H,ctx:R}),X.$set(ke)},i(R){F||(k(r.$$.fragment,R),k(p.$$.fragment,R),k(V.$$.fragment,R),k(W.$$.fragment,R),k(X.$$.fragment,R),F=!0)},o(R){S(r.$$.fragment,R),S(p.$$.fragment,R),S(V.$$.fragment,R),S(W.$$.fragment,R),S(X.$$.fragment,R),F=!1},d(R){R&&(T(e),T(n),T(o)),Q(r),Q(p),m.d(),Q(V),Q(W),Q(X),L=!1,K()}}}function My(t){let e,n,o,i;return e=new ko({props:{$$slots:{default:[ky]},$$scope:{ctx:t}}}),o=new So({props:{$$slots:{default:[Py]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment),n=G(),z(o.$$.fragment)},m(r,l){Z(e,r,l),I(r,n,l),Z(o,r,l),i=!0},p(r,l){const a={};l&128&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&129&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),Q(e,r),Q(o,r)}}}function Ny(t){let e;return{c(){e=$("Reset user")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Ey(t){let e,n,o=t[1].username+"",i,r,l,a,s,u,f,c,d;return a=new Yt({props:{$$slots:{default:[Ny]},$$scope:{ctx:t}}}),a.$on("click",Fy),{c(){e=O("div"),n=O("span"),i=$(o),r=G(),l=O("div"),z(a.$$.fragment),s=G(),u=O("button"),u.textContent="Start game",M(n,"class","italic opacity-30 text-xs py-2 text-start rounded h-full flex flex-col justify-center mr-10"),M(u,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-md"),M(e,"class","flex flex-row justify-between w-full px-1")},m(p,h){I(p,e,h),v(e,n),v(n,i),v(e,r),v(e,l),Z(a,l,null),v(l,s),v(l,u),f=!0,c||(d=[ee(n,"click",t[5]),ee(u,"click",t[3])],c=!0)},p(p,h){(!f||h&2)&&o!==(o=p[1].username+"")&&se(i,o);const _={};h&128&&(_.$$scope={dirty:h,ctx:p}),a.$set(_)},i(p){f||(k(a.$$.fragment,p),f=!0)},o(p){S(a.$$.fragment,p),f=!1},d(p){p&&T(e),Q(a),c=!1,Be(d)}}}function Ry(t){let e,n,o,i;return e=new Co({props:{$$slots:{default:[My]},$$scope:{ctx:t}}}),o=new ni({props:{$$slots:{default:[Ey]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment),n=G(),z(o.$$.fragment)},m(r,l){Z(e,r,l),I(r,n,l),Z(o,r,l),i=!0},p(r,l){const a={};l&129&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&130&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),Q(e,r),Q(o,r)}}}function Dy(t){let e,n;return e=new Ao({props:{transition:Ar,class:"bg-foregroundDark text-foregroundText",$$slots:{default:[Ry]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment)},m(o,i){Z(e,o,i),n=!0},p(o,i){const r={};i&131&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Q(e,o)}}}function Ly(t){let e,n,o;function i(l){t[6](l)}let r={$$slots:{default:[Dy]},$$scope:{ctx:t}};return t[2].visible!==void 0&&(r.open=t[2].visible),e=new To({props:r}),Oe.push(()=>Vn(e,"open",i)),{c(){z(e.$$.fragment)},m(l,a){Z(e,l,a),o=!0},p(l,[a]){const s={};a&131&&(s.$$scope={dirty:a,ctx:l}),!n&&a&4&&(n=!0,s.open=l[2].visible,Gn(()=>n=!1)),e.$set(s)},i(l){o||(k(e.$$.fragment,l),o=!0)},o(l){S(e.$$.fragment,l),o=!1},d(l){Q(e,l)}}}function Fy(){alert("Deleted :)"),localStorage.clear(),window.location.href=""}function jy(t,e,n){let o,i;ae(t,nn,f=>n(1,o=f)),ae(t,Ho,f=>n(2,i=f)),Pt.set(!1);function r(){const f=document.getElementById("difficulty").value,c=document.getElementById("endGoal").value,d=document.getElementById("townName").value,p=document.getElementById("cheats").value=="true";Tm(f,c,d,p)}let l="free_play";const a=f=>{n(0,l=f.target.value)};function s(){const f=prompt("Enter new username");let c=o;c.username=f,Mm(c)}function u(f){t.$$.not_equal(i.visible,f)&&(i.visible=f,Ho.set(i))}return[l,o,i,r,a,s,u]}class qy extends we{constructor(e){super(),ye(this,e,jy,Ly,fe,{})}}function By(t){let e;return{c(){e=$("Scoreboard")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Gy(t){let e=t[1].description_title+"",n;return{c(){n=$(e)},m(o,i){I(o,n,i)},p:Ae,d(o){o&&T(n)}}}function Vy(t){let e,n,o,i;return e=new ko({props:{$$slots:{default:[By]},$$scope:{ctx:t}}}),o=new So({props:{$$slots:{default:[Gy]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment),n=G(),z(o.$$.fragment)},m(r,l){Z(e,r,l),I(r,n,l),Z(o,r,l),i=!0},p(r,l){const a={};l&128&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&128&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),Q(e,r),Q(o,r)}}}function $y(t){let e;return{c(){e=$("footer")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Hy(t){let e,n,o,i;return e=new Co({props:{$$slots:{default:[Vy]},$$scope:{ctx:t}}}),o=new ni({props:{$$slots:{default:[$y]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment),n=$(`
		hi
		`),z(o.$$.fragment)},m(r,l){Z(e,r,l),I(r,n,l),Z(o,r,l),i=!0},p(r,l){const a={};l&128&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&128&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),Q(e,r),Q(o,r)}}}function Wy(t){let e,n;return e=new Ao({props:{$$slots:{default:[Hy]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment)},m(o,i){Z(e,o,i),n=!0},p(o,i){const r={};i&128&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Q(e,o)}}}function Ky(t){let e,n,o;function i(l){t[3](l)}let r={$$slots:{default:[Wy]},$$scope:{ctx:t}};return t[0]!==void 0&&(r.open=t[0]),e=new To({props:r}),Oe.push(()=>Vn(e,"open",i)),{c(){z(e.$$.fragment)},m(l,a){Z(e,l,a),o=!0},p(l,[a]){const s={};a&128&&(s.$$scope={dirty:a,ctx:l}),!n&&a&1&&(n=!0,s.open=l[0],Gn(()=>n=!1)),e.$set(s)},i(l){o||(k(e.$$.fragment,l),o=!0)},o(l){S(e.$$.fragment,l),o=!1},d(l){Q(e,l)}}}function Uy(t,e,n){let o,i;ae(t,Re,s=>n(2,o=s)),ae(t,Ys,s=>n(0,i=s));const l=ht[o.endGoal];Ul[o.difficulty];function a(s){i=s,Ys.set(i)}return t.$$.update=()=>{t.$$.dirty&4},[i,l,o,a]}class Yy extends we{constructor(e){super(),ye(this,e,Uy,Ky,fe,{})}}function Gi(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Xy(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function hd(t){let e,n,o;t.length!==2?(e=Gi,n=(a,s)=>Gi(t(a),s),o=(a,s)=>t(a)-s):(e=t===Gi||t===Xy?t:Jy,n=t,o=t);function i(a,s,u=0,f=a.length){if(u<f){if(e(s,s)!==0)return f;do{const c=u+f>>>1;n(a[c],s)<0?u=c+1:f=c}while(u<f)}return u}function r(a,s,u=0,f=a.length){if(u<f){if(e(s,s)!==0)return f;do{const c=u+f>>>1;n(a[c],s)<=0?u=c+1:f=c}while(u<f)}return u}function l(a,s,u=0,f=a.length){const c=i(a,s,u,f-1);return c>u&&o(a[c-1],s)>-o(a[c],s)?c-1:c}return{left:i,center:l,right:r}}function Jy(){return 0}function xy(t){return t===null?NaN:+t}const Zy=hd(Gi),Qy=Zy.right;hd(xy).center;const zy=Math.sqrt(50),ew=Math.sqrt(10),tw=Math.sqrt(2);function ar(t,e,n){const o=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(o)),r=o/Math.pow(10,i),l=r>=zy?10:r>=ew?5:r>=tw?2:1;let a,s,u;return i<0?(u=Math.pow(10,-i)/l,a=Math.round(t*u),s=Math.round(e*u),a/u<t&&++a,s/u>e&&--s,u=-u):(u=Math.pow(10,i)*l,a=Math.round(t/u),s=Math.round(e/u),a*u<t&&++a,s*u>e&&--s),s<a&&.5<=n&&n<2?ar(t,e,n*2):[a,s,u]}function nw(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const o=e<t,[i,r,l]=o?ar(e,t,n):ar(t,e,n);if(!(r>=i))return[];const a=r-i+1,s=new Array(a);if(o)if(l<0)for(let u=0;u<a;++u)s[u]=(r-u)/-l;else for(let u=0;u<a;++u)s[u]=(r-u)*l;else if(l<0)for(let u=0;u<a;++u)s[u]=(i+u)/-l;else for(let u=0;u<a;++u)s[u]=(i+u)*l;return s}function Tl(t,e,n){return e=+e,t=+t,n=+n,ar(t,e,n)[2]}function ow(t,e,n){e=+e,t=+t,n=+n;const o=e<t,i=o?Tl(e,t,n):Tl(t,e,n);return(o?-1:1)*(i<0?1/-i:i)}function iw(t){return t}var ll=1,sl=2,Il=3,qo=4,Eu=1e-6;function rw(t){return"translate("+t+",0)"}function lw(t){return"translate(0,"+t+")"}function sw(t){return e=>+t(e)}function aw(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function uw(){return!this.__axis}function gd(t,e){var n=[],o=null,i=null,r=6,l=6,a=3,s=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=t===ll||t===qo?-1:1,f=t===qo||t===sl?"x":"y",c=t===ll||t===Il?rw:lw;function d(p){var h=o??(e.ticks?e.ticks.apply(e,n):e.domain()),_=i??(e.tickFormat?e.tickFormat.apply(e,n):iw),y=Math.max(r,0)+a,b=e.range(),A=+b[0]+s,w=+b[b.length-1]+s,D=(e.bandwidth?aw:sw)(e.copy(),s),V=p.selection?p.selection():p,E=V.selectAll(".domain").data([null]),W=V.selectAll(".tick").data(h,e).order(),B=W.exit(),j=W.enter().append("g").attr("class","tick"),X=W.select("line"),P=W.select("text");E=E.merge(E.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),W=W.merge(j),X=X.merge(j.append("line").attr("stroke","currentColor").attr(f+"2",u*r)),P=P.merge(j.append("text").attr("fill","currentColor").attr(f,u*y).attr("dy",t===ll?"0em":t===Il?"0.71em":"0.32em")),p!==V&&(E=E.transition(p),W=W.transition(p),X=X.transition(p),P=P.transition(p),B=B.transition(p).attr("opacity",Eu).attr("transform",function(g){return isFinite(g=D(g))?c(g+s):this.getAttribute("transform")}),j.attr("opacity",Eu).attr("transform",function(g){var C=this.parentNode.__axis;return c((C&&isFinite(C=C(g))?C:D(g))+s)})),B.remove(),E.attr("d",t===qo||t===sl?l?"M"+u*l+","+A+"H"+s+"V"+w+"H"+u*l:"M"+s+","+A+"V"+w:l?"M"+A+","+u*l+"V"+s+"H"+w+"V"+u*l:"M"+A+","+s+"H"+w),W.attr("opacity",1).attr("transform",function(g){return c(D(g)+s)}),X.attr(f+"2",u*r),P.attr(f,u*y).text(_),V.filter(uw).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===sl?"start":t===qo?"end":"middle"),V.each(function(){this.__axis=D})}return d.scale=function(p){return arguments.length?(e=p,d):e},d.ticks=function(){return n=Array.from(arguments),d},d.tickArguments=function(p){return arguments.length?(n=p==null?[]:Array.from(p),d):n.slice()},d.tickValues=function(p){return arguments.length?(o=p==null?null:Array.from(p),d):o&&o.slice()},d.tickFormat=function(p){return arguments.length?(i=p,d):i},d.tickSize=function(p){return arguments.length?(r=l=+p,d):r},d.tickSizeInner=function(p){return arguments.length?(r=+p,d):r},d.tickSizeOuter=function(p){return arguments.length?(l=+p,d):l},d.tickPadding=function(p){return arguments.length?(a=+p,d):a},d.offset=function(p){return arguments.length?(s=+p,d):s},d}function fw(t){return gd(Il,t)}function cw(t){return gd(qo,t)}var dw={value:()=>{}};function bd(){for(var t=0,e=arguments.length,n={},o;t<e;++t){if(!(o=arguments[t]+"")||o in n||/[\s.]/.test(o))throw new Error("illegal type: "+o);n[o]=[]}return new Vi(n)}function Vi(t){this._=t}function mw(t,e){return t.trim().split(/^|\s+/).map(function(n){var o="",i=n.indexOf(".");if(i>=0&&(o=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:o}})}Vi.prototype=bd.prototype={constructor:Vi,on:function(t,e){var n=this._,o=mw(t+"",n),i,r=-1,l=o.length;if(arguments.length<2){for(;++r<l;)if((i=(t=o[r]).type)&&(i=pw(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++r<l;)if(i=(t=o[r]).type)n[i]=Ru(n[i],t.name,e);else if(e==null)for(i in n)n[i]=Ru(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Vi(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),o=0,i,r;o<i;++o)n[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=this._[t],o=0,i=r.length;o<i;++o)r[o].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var o=this._[t],i=0,r=o.length;i<r;++i)o[i].value.apply(e,n)}};function pw(t,e){for(var n=0,o=t.length,i;n<o;++n)if((i=t[n]).name===e)return i.value}function Ru(t,e,n){for(var o=0,i=t.length;o<i;++o)if(t[o].name===e){t[o]=dw,t=t.slice(0,o).concat(t.slice(o+1));break}return n!=null&&t.push({name:e,value:n}),t}var Ol="http://www.w3.org/1999/xhtml";const Du={svg:"http://www.w3.org/2000/svg",xhtml:Ol,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Nr(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Du.hasOwnProperty(e)?{space:Du[e],local:t}:t}function _w(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Ol&&e.documentElement.namespaceURI===Ol?e.createElement(t):e.createElementNS(n,t)}}function hw(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function vd(t){var e=Nr(t);return(e.local?hw:_w)(e)}function gw(){}function cs(t){return t==null?gw:function(){return this.querySelector(t)}}function bw(t){typeof t!="function"&&(t=cs(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var r=e[i],l=r.length,a=o[i]=new Array(l),s,u,f=0;f<l;++f)(s=r[f])&&(u=t.call(s,s.__data__,f,r))&&("__data__"in s&&(u.__data__=s.__data__),a[f]=u);return new It(o,this._parents)}function vw(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function yw(){return[]}function yd(t){return t==null?yw:function(){return this.querySelectorAll(t)}}function ww(t){return function(){return vw(t.apply(this,arguments))}}function kw(t){typeof t=="function"?t=ww(t):t=yd(t);for(var e=this._groups,n=e.length,o=[],i=[],r=0;r<n;++r)for(var l=e[r],a=l.length,s,u=0;u<a;++u)(s=l[u])&&(o.push(t.call(s,s.__data__,u,l)),i.push(s));return new It(o,i)}function wd(t){return function(){return this.matches(t)}}function kd(t){return function(e){return e.matches(t)}}var Cw=Array.prototype.find;function Aw(t){return function(){return Cw.call(this.children,t)}}function Sw(){return this.firstElementChild}function Tw(t){return this.select(t==null?Sw:Aw(typeof t=="function"?t:kd(t)))}var Iw=Array.prototype.filter;function Ow(){return Array.from(this.children)}function Pw(t){return function(){return Iw.call(this.children,t)}}function Mw(t){return this.selectAll(t==null?Ow:Pw(typeof t=="function"?t:kd(t)))}function Nw(t){typeof t!="function"&&(t=wd(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var r=e[i],l=r.length,a=o[i]=[],s,u=0;u<l;++u)(s=r[u])&&t.call(s,s.__data__,u,r)&&a.push(s);return new It(o,this._parents)}function Cd(t){return new Array(t.length)}function Ew(){return new It(this._enter||this._groups.map(Cd),this._parents)}function ur(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}ur.prototype={constructor:ur,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Rw(t){return function(){return t}}function Dw(t,e,n,o,i,r){for(var l=0,a,s=e.length,u=r.length;l<u;++l)(a=e[l])?(a.__data__=r[l],o[l]=a):n[l]=new ur(t,r[l]);for(;l<s;++l)(a=e[l])&&(i[l]=a)}function Lw(t,e,n,o,i,r,l){var a,s,u=new Map,f=e.length,c=r.length,d=new Array(f),p;for(a=0;a<f;++a)(s=e[a])&&(d[a]=p=l.call(s,s.__data__,a,e)+"",u.has(p)?i[a]=s:u.set(p,s));for(a=0;a<c;++a)p=l.call(t,r[a],a,r)+"",(s=u.get(p))?(o[a]=s,s.__data__=r[a],u.delete(p)):n[a]=new ur(t,r[a]);for(a=0;a<f;++a)(s=e[a])&&u.get(d[a])===s&&(i[a]=s)}function Fw(t){return t.__data__}function jw(t,e){if(!arguments.length)return Array.from(this,Fw);var n=e?Lw:Dw,o=this._parents,i=this._groups;typeof t!="function"&&(t=Rw(t));for(var r=i.length,l=new Array(r),a=new Array(r),s=new Array(r),u=0;u<r;++u){var f=o[u],c=i[u],d=c.length,p=qw(t.call(f,f&&f.__data__,u,o)),h=p.length,_=a[u]=new Array(h),y=l[u]=new Array(h),b=s[u]=new Array(d);n(f,c,_,y,b,p,e);for(var A=0,w=0,D,V;A<h;++A)if(D=_[A]){for(A>=w&&(w=A+1);!(V=y[w])&&++w<h;);D._next=V||null}}return l=new It(l,o),l._enter=a,l._exit=s,l}function qw(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Bw(){return new It(this._exit||this._groups.map(Cd),this._parents)}function Gw(t,e,n){var o=this.enter(),i=this,r=this.exit();return typeof t=="function"?(o=t(o),o&&(o=o.selection())):o=o.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?r.remove():n(r),o&&i?o.merge(i).order():i}function Vw(t){for(var e=t.selection?t.selection():t,n=this._groups,o=e._groups,i=n.length,r=o.length,l=Math.min(i,r),a=new Array(i),s=0;s<l;++s)for(var u=n[s],f=o[s],c=u.length,d=a[s]=new Array(c),p,h=0;h<c;++h)(p=u[h]||f[h])&&(d[h]=p);for(;s<i;++s)a[s]=n[s];return new It(a,this._parents)}function $w(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var o=t[e],i=o.length-1,r=o[i],l;--i>=0;)(l=o[i])&&(r&&l.compareDocumentPosition(r)^4&&r.parentNode.insertBefore(l,r),r=l);return this}function Hw(t){t||(t=Ww);function e(c,d){return c&&d?t(c.__data__,d.__data__):!c-!d}for(var n=this._groups,o=n.length,i=new Array(o),r=0;r<o;++r){for(var l=n[r],a=l.length,s=i[r]=new Array(a),u,f=0;f<a;++f)(u=l[f])&&(s[f]=u);s.sort(e)}return new It(i,this._parents).order()}function Ww(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Kw(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Uw(){return Array.from(this)}function Yw(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var o=t[e],i=0,r=o.length;i<r;++i){var l=o[i];if(l)return l}return null}function Xw(){let t=0;for(const e of this)++t;return t}function Jw(){return!this.node()}function xw(t){for(var e=this._groups,n=0,o=e.length;n<o;++n)for(var i=e[n],r=0,l=i.length,a;r<l;++r)(a=i[r])&&t.call(a,a.__data__,r,i);return this}function Zw(t){return function(){this.removeAttribute(t)}}function Qw(t){return function(){this.removeAttributeNS(t.space,t.local)}}function zw(t,e){return function(){this.setAttribute(t,e)}}function e2(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function t2(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function n2(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function o2(t,e){var n=Nr(t);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((e==null?n.local?Qw:Zw:typeof e=="function"?n.local?n2:t2:n.local?e2:zw)(n,e))}function Ad(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function i2(t){return function(){this.style.removeProperty(t)}}function r2(t,e,n){return function(){this.style.setProperty(t,e,n)}}function l2(t,e,n){return function(){var o=e.apply(this,arguments);o==null?this.style.removeProperty(t):this.style.setProperty(t,o,n)}}function s2(t,e,n){return arguments.length>1?this.each((e==null?i2:typeof e=="function"?l2:r2)(t,e,n??"")):po(this.node(),t)}function po(t,e){return t.style.getPropertyValue(e)||Ad(t).getComputedStyle(t,null).getPropertyValue(e)}function a2(t){return function(){delete this[t]}}function u2(t,e){return function(){this[t]=e}}function f2(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function c2(t,e){return arguments.length>1?this.each((e==null?a2:typeof e=="function"?f2:u2)(t,e)):this.node()[t]}function Sd(t){return t.trim().split(/^|\s+/)}function ds(t){return t.classList||new Td(t)}function Td(t){this._node=t,this._names=Sd(t.getAttribute("class")||"")}Td.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Id(t,e){for(var n=ds(t),o=-1,i=e.length;++o<i;)n.add(e[o])}function Od(t,e){for(var n=ds(t),o=-1,i=e.length;++o<i;)n.remove(e[o])}function d2(t){return function(){Id(this,t)}}function m2(t){return function(){Od(this,t)}}function p2(t,e){return function(){(e.apply(this,arguments)?Id:Od)(this,t)}}function _2(t,e){var n=Sd(t+"");if(arguments.length<2){for(var o=ds(this.node()),i=-1,r=n.length;++i<r;)if(!o.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?p2:e?d2:m2)(n,e))}function h2(){this.textContent=""}function g2(t){return function(){this.textContent=t}}function b2(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function v2(t){return arguments.length?this.each(t==null?h2:(typeof t=="function"?b2:g2)(t)):this.node().textContent}function y2(){this.innerHTML=""}function w2(t){return function(){this.innerHTML=t}}function k2(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function C2(t){return arguments.length?this.each(t==null?y2:(typeof t=="function"?k2:w2)(t)):this.node().innerHTML}function A2(){this.nextSibling&&this.parentNode.appendChild(this)}function S2(){return this.each(A2)}function T2(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function I2(){return this.each(T2)}function O2(t){var e=typeof t=="function"?t:vd(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function P2(){return null}function M2(t,e){var n=typeof t=="function"?t:vd(t),o=e==null?P2:typeof e=="function"?e:cs(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)})}function N2(){var t=this.parentNode;t&&t.removeChild(this)}function E2(){return this.each(N2)}function R2(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function D2(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function L2(t){return this.select(t?D2:R2)}function F2(t){return arguments.length?this.property("__data__",t):this.node().__data__}function j2(t){return function(e){t.call(this,e,this.__data__)}}function q2(t){return t.trim().split(/^|\s+/).map(function(e){var n="",o=e.indexOf(".");return o>=0&&(n=e.slice(o+1),e=e.slice(0,o)),{type:e,name:n}})}function B2(t){return function(){var e=this.__on;if(e){for(var n=0,o=-1,i=e.length,r;n<i;++n)r=e[n],(!t.type||r.type===t.type)&&r.name===t.name?this.removeEventListener(r.type,r.listener,r.options):e[++o]=r;++o?e.length=o:delete this.__on}}}function G2(t,e,n){return function(){var o=this.__on,i,r=j2(e);if(o){for(var l=0,a=o.length;l<a;++l)if((i=o[l]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=r,i.options=n),i.value=e;return}}this.addEventListener(t.type,r,n),i={type:t.type,name:t.name,value:e,listener:r,options:n},o?o.push(i):this.__on=[i]}}function V2(t,e,n){var o=q2(t+""),i,r=o.length,l;if(arguments.length<2){var a=this.node().__on;if(a){for(var s=0,u=a.length,f;s<u;++s)for(i=0,f=a[s];i<r;++i)if((l=o[i]).type===f.type&&l.name===f.name)return f.value}return}for(a=e?G2:B2,i=0;i<r;++i)this.each(a(o[i],e,n));return this}function Pd(t,e,n){var o=Ad(t),i=o.CustomEvent;typeof i=="function"?i=new i(e,n):(i=o.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function $2(t,e){return function(){return Pd(this,t,e)}}function H2(t,e){return function(){return Pd(this,t,e.apply(this,arguments))}}function W2(t,e){return this.each((typeof e=="function"?H2:$2)(t,e))}function*K2(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var o=t[e],i=0,r=o.length,l;i<r;++i)(l=o[i])&&(yield l)}var Md=[null];function It(t,e){this._groups=t,this._parents=e}function oi(){return new It([[document.documentElement]],Md)}function U2(){return this}It.prototype=oi.prototype={constructor:It,select:bw,selectAll:kw,selectChild:Tw,selectChildren:Mw,filter:Nw,data:jw,enter:Ew,exit:Bw,join:Gw,merge:Vw,selection:U2,order:$w,sort:Hw,call:Kw,nodes:Uw,node:Yw,size:Xw,empty:Jw,each:xw,attr:o2,style:s2,property:c2,classed:_2,text:v2,html:C2,raise:S2,lower:I2,append:O2,insert:M2,remove:E2,clone:L2,datum:F2,on:V2,dispatch:W2,[Symbol.iterator]:K2};function Y2(t){return typeof t=="string"?new It([[document.querySelector(t)]],[document.documentElement]):new It([[t]],Md)}function ms(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Nd(t,e){var n=Object.create(t.prototype);for(var o in e)n[o]=e[o];return n}function ii(){}var xo=.7,fr=1/xo,uo="\\s*([+-]?\\d+)\\s*",Zo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Wt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",X2=/^#([0-9a-f]{3,8})$/,J2=new RegExp(`^rgb\\(${uo},${uo},${uo}\\)$`),x2=new RegExp(`^rgb\\(${Wt},${Wt},${Wt}\\)$`),Z2=new RegExp(`^rgba\\(${uo},${uo},${uo},${Zo}\\)$`),Q2=new RegExp(`^rgba\\(${Wt},${Wt},${Wt},${Zo}\\)$`),z2=new RegExp(`^hsl\\(${Zo},${Wt},${Wt}\\)$`),ek=new RegExp(`^hsla\\(${Zo},${Wt},${Wt},${Zo}\\)$`),Lu={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ms(ii,qn,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Fu,formatHex:Fu,formatHex8:tk,formatHsl:nk,formatRgb:ju,toString:ju});function Fu(){return this.rgb().formatHex()}function tk(){return this.rgb().formatHex8()}function nk(){return Ed(this).formatHsl()}function ju(){return this.rgb().formatRgb()}function qn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=X2.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?qu(e):n===3?new kt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Ei(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Ei(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=J2.exec(t))?new kt(e[1],e[2],e[3],1):(e=x2.exec(t))?new kt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Z2.exec(t))?Ei(e[1],e[2],e[3],e[4]):(e=Q2.exec(t))?Ei(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=z2.exec(t))?Vu(e[1],e[2]/100,e[3]/100,1):(e=ek.exec(t))?Vu(e[1],e[2]/100,e[3]/100,e[4]):Lu.hasOwnProperty(t)?qu(Lu[t]):t==="transparent"?new kt(NaN,NaN,NaN,0):null}function qu(t){return new kt(t>>16&255,t>>8&255,t&255,1)}function Ei(t,e,n,o){return o<=0&&(t=e=n=NaN),new kt(t,e,n,o)}function ok(t){return t instanceof ii||(t=qn(t)),t?(t=t.rgb(),new kt(t.r,t.g,t.b,t.opacity)):new kt}function Pl(t,e,n,o){return arguments.length===1?ok(t):new kt(t,e,n,o??1)}function kt(t,e,n,o){this.r=+t,this.g=+e,this.b=+n,this.opacity=+o}ms(kt,Pl,Nd(ii,{brighter(t){return t=t==null?fr:Math.pow(fr,t),new kt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?xo:Math.pow(xo,t),new kt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new kt(En(this.r),En(this.g),En(this.b),cr(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Bu,formatHex:Bu,formatHex8:ik,formatRgb:Gu,toString:Gu}));function Bu(){return`#${Pn(this.r)}${Pn(this.g)}${Pn(this.b)}`}function ik(){return`#${Pn(this.r)}${Pn(this.g)}${Pn(this.b)}${Pn((isNaN(this.opacity)?1:this.opacity)*255)}`}function Gu(){const t=cr(this.opacity);return`${t===1?"rgb(":"rgba("}${En(this.r)}, ${En(this.g)}, ${En(this.b)}${t===1?")":`, ${t})`}`}function cr(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function En(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Pn(t){return t=En(t),(t<16?"0":"")+t.toString(16)}function Vu(t,e,n,o){return o<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Dt(t,e,n,o)}function Ed(t){if(t instanceof Dt)return new Dt(t.h,t.s,t.l,t.opacity);if(t instanceof ii||(t=qn(t)),!t)return new Dt;if(t instanceof Dt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,o=t.b/255,i=Math.min(e,n,o),r=Math.max(e,n,o),l=NaN,a=r-i,s=(r+i)/2;return a?(e===r?l=(n-o)/a+(n<o)*6:n===r?l=(o-e)/a+2:l=(e-n)/a+4,a/=s<.5?r+i:2-r-i,l*=60):a=s>0&&s<1?0:l,new Dt(l,a,s,t.opacity)}function rk(t,e,n,o){return arguments.length===1?Ed(t):new Dt(t,e,n,o??1)}function Dt(t,e,n,o){this.h=+t,this.s=+e,this.l=+n,this.opacity=+o}ms(Dt,rk,Nd(ii,{brighter(t){return t=t==null?fr:Math.pow(fr,t),new Dt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?xo:Math.pow(xo,t),new Dt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*e,i=2*n-o;return new kt(al(t>=240?t-240:t+120,i,o),al(t,i,o),al(t<120?t+240:t-120,i,o),this.opacity)},clamp(){return new Dt($u(this.h),Ri(this.s),Ri(this.l),cr(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=cr(this.opacity);return`${t===1?"hsl(":"hsla("}${$u(this.h)}, ${Ri(this.s)*100}%, ${Ri(this.l)*100}%${t===1?")":`, ${t})`}`}}));function $u(t){return t=(t||0)%360,t<0?t+360:t}function Ri(t){return Math.max(0,Math.min(1,t||0))}function al(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const ps=t=>()=>t;function lk(t,e){return function(n){return t+n*e}}function sk(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(o){return Math.pow(t+o*e,n)}}function ak(t){return(t=+t)==1?Rd:function(e,n){return n-e?sk(e,n,t):ps(isNaN(e)?n:e)}}function Rd(t,e){var n=e-t;return n?lk(t,n):ps(isNaN(t)?e:t)}const dr=function t(e){var n=ak(e);function o(i,r){var l=n((i=Pl(i)).r,(r=Pl(r)).r),a=n(i.g,r.g),s=n(i.b,r.b),u=Rd(i.opacity,r.opacity);return function(f){return i.r=l(f),i.g=a(f),i.b=s(f),i.opacity=u(f),i+""}}return o.gamma=t,o}(1);function uk(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,o=e.slice(),i;return function(r){for(i=0;i<n;++i)o[i]=t[i]*(1-r)+e[i]*r;return o}}function fk(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function ck(t,e){var n=e?e.length:0,o=t?Math.min(n,t.length):0,i=new Array(o),r=new Array(n),l;for(l=0;l<o;++l)i[l]=_s(t[l],e[l]);for(;l<n;++l)r[l]=e[l];return function(a){for(l=0;l<o;++l)r[l]=i[l](a);return r}}function dk(t,e){var n=new Date;return t=+t,e=+e,function(o){return n.setTime(t*(1-o)+e*o),n}}function Rt(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function mk(t,e){var n={},o={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=_s(t[i],e[i]):o[i]=e[i];return function(r){for(i in n)o[i]=n[i](r);return o}}var Ml=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ul=new RegExp(Ml.source,"g");function pk(t){return function(){return t}}function _k(t){return function(e){return t(e)+""}}function Dd(t,e){var n=Ml.lastIndex=ul.lastIndex=0,o,i,r,l=-1,a=[],s=[];for(t=t+"",e=e+"";(o=Ml.exec(t))&&(i=ul.exec(e));)(r=i.index)>n&&(r=e.slice(n,r),a[l]?a[l]+=r:a[++l]=r),(o=o[0])===(i=i[0])?a[l]?a[l]+=i:a[++l]=i:(a[++l]=null,s.push({i:l,x:Rt(o,i)})),n=ul.lastIndex;return n<e.length&&(r=e.slice(n),a[l]?a[l]+=r:a[++l]=r),a.length<2?s[0]?_k(s[0].x):pk(e):(e=s.length,function(u){for(var f=0,c;f<e;++f)a[(c=s[f]).i]=c.x(u);return a.join("")})}function _s(t,e){var n=typeof e,o;return e==null||n==="boolean"?ps(e):(n==="number"?Rt:n==="string"?(o=qn(e))?(e=o,dr):Dd:e instanceof qn?dr:e instanceof Date?dk:fk(e)?uk:Array.isArray(e)?ck:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?mk:Rt)(t,e)}function hk(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var Hu=180/Math.PI,Nl={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ld(t,e,n,o,i,r){var l,a,s;return(l=Math.sqrt(t*t+e*e))&&(t/=l,e/=l),(s=t*n+e*o)&&(n-=t*s,o-=e*s),(a=Math.sqrt(n*n+o*o))&&(n/=a,o/=a,s/=a),t*o<e*n&&(t=-t,e=-e,s=-s,l=-l),{translateX:i,translateY:r,rotate:Math.atan2(e,t)*Hu,skewX:Math.atan(s)*Hu,scaleX:l,scaleY:a}}var Di;function gk(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Nl:Ld(e.a,e.b,e.c,e.d,e.e,e.f)}function bk(t){return t==null||(Di||(Di=document.createElementNS("http://www.w3.org/2000/svg","g")),Di.setAttribute("transform",t),!(t=Di.transform.baseVal.consolidate()))?Nl:(t=t.matrix,Ld(t.a,t.b,t.c,t.d,t.e,t.f))}function Fd(t,e,n,o){function i(u){return u.length?u.pop()+" ":""}function r(u,f,c,d,p,h){if(u!==c||f!==d){var _=p.push("translate(",null,e,null,n);h.push({i:_-4,x:Rt(u,c)},{i:_-2,x:Rt(f,d)})}else(c||d)&&p.push("translate("+c+e+d+n)}function l(u,f,c,d){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),d.push({i:c.push(i(c)+"rotate(",null,o)-2,x:Rt(u,f)})):f&&c.push(i(c)+"rotate("+f+o)}function a(u,f,c,d){u!==f?d.push({i:c.push(i(c)+"skewX(",null,o)-2,x:Rt(u,f)}):f&&c.push(i(c)+"skewX("+f+o)}function s(u,f,c,d,p,h){if(u!==c||f!==d){var _=p.push(i(p)+"scale(",null,",",null,")");h.push({i:_-4,x:Rt(u,c)},{i:_-2,x:Rt(f,d)})}else(c!==1||d!==1)&&p.push(i(p)+"scale("+c+","+d+")")}return function(u,f){var c=[],d=[];return u=t(u),f=t(f),r(u.translateX,u.translateY,f.translateX,f.translateY,c,d),l(u.rotate,f.rotate,c,d),a(u.skewX,f.skewX,c,d),s(u.scaleX,u.scaleY,f.scaleX,f.scaleY,c,d),u=f=null,function(p){for(var h=-1,_=d.length,y;++h<_;)c[(y=d[h]).i]=y.x(p);return c.join("")}}}var vk=Fd(gk,"px, ","px)","deg)"),yk=Fd(bk,", ",")",")"),_o=0,Bo=0,Fo=0,jd=1e3,mr,Go,pr=0,Bn=0,Er=0,Qo=typeof performance=="object"&&performance.now?performance:Date,qd=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function hs(){return Bn||(qd(wk),Bn=Qo.now()+Er)}function wk(){Bn=0}function _r(){this._call=this._time=this._next=null}_r.prototype=Bd.prototype={constructor:_r,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?hs():+n)+(e==null?0:+e),!this._next&&Go!==this&&(Go?Go._next=this:mr=this,Go=this),this._call=t,this._time=n,El()},stop:function(){this._call&&(this._call=null,this._time=1/0,El())}};function Bd(t,e,n){var o=new _r;return o.restart(t,e,n),o}function kk(){hs(),++_o;for(var t=mr,e;t;)(e=Bn-t._time)>=0&&t._call.call(void 0,e),t=t._next;--_o}function Wu(){Bn=(pr=Qo.now())+Er,_o=Bo=0;try{kk()}finally{_o=0,Ak(),Bn=0}}function Ck(){var t=Qo.now(),e=t-pr;e>jd&&(Er-=e,pr=t)}function Ak(){for(var t,e=mr,n,o=1/0;e;)e._call?(o>e._time&&(o=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:mr=n);Go=t,El(o)}function El(t){if(!_o){Bo&&(Bo=clearTimeout(Bo));var e=t-Bn;e>24?(t<1/0&&(Bo=setTimeout(Wu,t-Qo.now()-Er)),Fo&&(Fo=clearInterval(Fo))):(Fo||(pr=Qo.now(),Fo=setInterval(Ck,jd)),_o=1,qd(Wu))}}function Ku(t,e,n){var o=new _r;return e=e==null?0:+e,o.restart(i=>{o.stop(),t(i+e)},e,n),o}var Sk=bd("start","end","cancel","interrupt"),Tk=[],Gd=0,Uu=1,Rl=2,$i=3,Yu=4,Dl=5,Hi=6;function Rr(t,e,n,o,i,r){var l=t.__transition;if(!l)t.__transition={};else if(n in l)return;Ik(t,n,{name:e,index:o,group:i,on:Sk,tween:Tk,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:Gd})}function gs(t,e){var n=Ft(t,e);if(n.state>Gd)throw new Error("too late; already scheduled");return n}function xt(t,e){var n=Ft(t,e);if(n.state>$i)throw new Error("too late; already running");return n}function Ft(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Ik(t,e,n){var o=t.__transition,i;o[e]=n,n.timer=Bd(r,0,n.time);function r(u){n.state=Uu,n.timer.restart(l,n.delay,n.time),n.delay<=u&&l(u-n.delay)}function l(u){var f,c,d,p;if(n.state!==Uu)return s();for(f in o)if(p=o[f],p.name===n.name){if(p.state===$i)return Ku(l);p.state===Yu?(p.state=Hi,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete o[f]):+f<e&&(p.state=Hi,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete o[f])}if(Ku(function(){n.state===$i&&(n.state=Yu,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=Rl,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Rl){for(n.state=$i,i=new Array(d=n.tween.length),f=0,c=-1;f<d;++f)(p=n.tween[f].value.call(t,t.__data__,n.index,n.group))&&(i[++c]=p);i.length=c+1}}function a(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(s),n.state=Dl,1),c=-1,d=i.length;++c<d;)i[c].call(t,f);n.state===Dl&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){n.state=Hi,n.timer.stop(),delete o[e];for(var u in o)return;delete t.__transition}}function Ok(t,e){var n=t.__transition,o,i,r=!0,l;if(n){e=e==null?null:e+"";for(l in n){if((o=n[l]).name!==e){r=!1;continue}i=o.state>Rl&&o.state<Dl,o.state=Hi,o.timer.stop(),o.on.call(i?"interrupt":"cancel",t,t.__data__,o.index,o.group),delete n[l]}r&&delete t.__transition}}function Pk(t){return this.each(function(){Ok(this,t)})}function Mk(t,e){var n,o;return function(){var i=xt(this,t),r=i.tween;if(r!==n){o=n=r;for(var l=0,a=o.length;l<a;++l)if(o[l].name===e){o=o.slice(),o.splice(l,1);break}}i.tween=o}}function Nk(t,e,n){var o,i;if(typeof n!="function")throw new Error;return function(){var r=xt(this,t),l=r.tween;if(l!==o){i=(o=l).slice();for(var a={name:e,value:n},s=0,u=i.length;s<u;++s)if(i[s].name===e){i[s]=a;break}s===u&&i.push(a)}r.tween=i}}function Ek(t,e){var n=this._id;if(t+="",arguments.length<2){for(var o=Ft(this.node(),n).tween,i=0,r=o.length,l;i<r;++i)if((l=o[i]).name===t)return l.value;return null}return this.each((e==null?Mk:Nk)(n,t,e))}function bs(t,e,n){var o=t._id;return t.each(function(){var i=xt(this,o);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return Ft(i,o).value[e]}}function Vd(t,e){var n;return(typeof e=="number"?Rt:e instanceof qn?dr:(n=qn(e))?(e=n,dr):Dd)(t,e)}function Rk(t){return function(){this.removeAttribute(t)}}function Dk(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Lk(t,e,n){var o,i=n+"",r;return function(){var l=this.getAttribute(t);return l===i?null:l===o?r:r=e(o=l,n)}}function Fk(t,e,n){var o,i=n+"",r;return function(){var l=this.getAttributeNS(t.space,t.local);return l===i?null:l===o?r:r=e(o=l,n)}}function jk(t,e,n){var o,i,r;return function(){var l,a=n(this),s;return a==null?void this.removeAttribute(t):(l=this.getAttribute(t),s=a+"",l===s?null:l===o&&s===i?r:(i=s,r=e(o=l,a)))}}function qk(t,e,n){var o,i,r;return function(){var l,a=n(this),s;return a==null?void this.removeAttributeNS(t.space,t.local):(l=this.getAttributeNS(t.space,t.local),s=a+"",l===s?null:l===o&&s===i?r:(i=s,r=e(o=l,a)))}}function Bk(t,e){var n=Nr(t),o=n==="transform"?yk:Vd;return this.attrTween(t,typeof e=="function"?(n.local?qk:jk)(n,o,bs(this,"attr."+t,e)):e==null?(n.local?Dk:Rk)(n):(n.local?Fk:Lk)(n,o,e))}function Gk(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Vk(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function $k(t,e){var n,o;function i(){var r=e.apply(this,arguments);return r!==o&&(n=(o=r)&&Vk(t,r)),n}return i._value=e,i}function Hk(t,e){var n,o;function i(){var r=e.apply(this,arguments);return r!==o&&(n=(o=r)&&Gk(t,r)),n}return i._value=e,i}function Wk(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var o=Nr(t);return this.tween(n,(o.local?$k:Hk)(o,e))}function Kk(t,e){return function(){gs(this,t).delay=+e.apply(this,arguments)}}function Uk(t,e){return e=+e,function(){gs(this,t).delay=e}}function Yk(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Kk:Uk)(e,t)):Ft(this.node(),e).delay}function Xk(t,e){return function(){xt(this,t).duration=+e.apply(this,arguments)}}function Jk(t,e){return e=+e,function(){xt(this,t).duration=e}}function xk(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Xk:Jk)(e,t)):Ft(this.node(),e).duration}function Zk(t,e){if(typeof e!="function")throw new Error;return function(){xt(this,t).ease=e}}function Qk(t){var e=this._id;return arguments.length?this.each(Zk(e,t)):Ft(this.node(),e).ease}function zk(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;xt(this,t).ease=n}}function e5(t){if(typeof t!="function")throw new Error;return this.each(zk(this._id,t))}function t5(t){typeof t!="function"&&(t=wd(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var r=e[i],l=r.length,a=o[i]=[],s,u=0;u<l;++u)(s=r[u])&&t.call(s,s.__data__,u,r)&&a.push(s);return new rn(o,this._parents,this._name,this._id)}function n5(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,o=e.length,i=n.length,r=Math.min(o,i),l=new Array(o),a=0;a<r;++a)for(var s=e[a],u=n[a],f=s.length,c=l[a]=new Array(f),d,p=0;p<f;++p)(d=s[p]||u[p])&&(c[p]=d);for(;a<o;++a)l[a]=e[a];return new rn(l,this._parents,this._name,this._id)}function o5(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function i5(t,e,n){var o,i,r=o5(e)?gs:xt;return function(){var l=r(this,t),a=l.on;a!==o&&(i=(o=a).copy()).on(e,n),l.on=i}}function r5(t,e){var n=this._id;return arguments.length<2?Ft(this.node(),n).on.on(t):this.each(i5(n,t,e))}function l5(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function s5(){return this.on("end.remove",l5(this._id))}function a5(t){var e=this._name,n=this._id;typeof t!="function"&&(t=cs(t));for(var o=this._groups,i=o.length,r=new Array(i),l=0;l<i;++l)for(var a=o[l],s=a.length,u=r[l]=new Array(s),f,c,d=0;d<s;++d)(f=a[d])&&(c=t.call(f,f.__data__,d,a))&&("__data__"in f&&(c.__data__=f.__data__),u[d]=c,Rr(u[d],e,n,d,u,Ft(f,n)));return new rn(r,this._parents,e,n)}function u5(t){var e=this._name,n=this._id;typeof t!="function"&&(t=yd(t));for(var o=this._groups,i=o.length,r=[],l=[],a=0;a<i;++a)for(var s=o[a],u=s.length,f,c=0;c<u;++c)if(f=s[c]){for(var d=t.call(f,f.__data__,c,s),p,h=Ft(f,n),_=0,y=d.length;_<y;++_)(p=d[_])&&Rr(p,e,n,_,d,h);r.push(d),l.push(f)}return new rn(r,l,e,n)}var f5=oi.prototype.constructor;function c5(){return new f5(this._groups,this._parents)}function d5(t,e){var n,o,i;return function(){var r=po(this,t),l=(this.style.removeProperty(t),po(this,t));return r===l?null:r===n&&l===o?i:i=e(n=r,o=l)}}function $d(t){return function(){this.style.removeProperty(t)}}function m5(t,e,n){var o,i=n+"",r;return function(){var l=po(this,t);return l===i?null:l===o?r:r=e(o=l,n)}}function p5(t,e,n){var o,i,r;return function(){var l=po(this,t),a=n(this),s=a+"";return a==null&&(s=a=(this.style.removeProperty(t),po(this,t))),l===s?null:l===o&&s===i?r:(i=s,r=e(o=l,a))}}function _5(t,e){var n,o,i,r="style."+e,l="end."+r,a;return function(){var s=xt(this,t),u=s.on,f=s.value[r]==null?a||(a=$d(e)):void 0;(u!==n||i!==f)&&(o=(n=u).copy()).on(l,i=f),s.on=o}}function h5(t,e,n){var o=(t+="")=="transform"?vk:Vd;return e==null?this.styleTween(t,d5(t,o)).on("end.style."+t,$d(t)):typeof e=="function"?this.styleTween(t,p5(t,o,bs(this,"style."+t,e))).each(_5(this._id,t)):this.styleTween(t,m5(t,o,e),n).on("end.style."+t,null)}function g5(t,e,n){return function(o){this.style.setProperty(t,e.call(this,o),n)}}function b5(t,e,n){var o,i;function r(){var l=e.apply(this,arguments);return l!==i&&(o=(i=l)&&g5(t,l,n)),o}return r._value=e,r}function v5(t,e,n){var o="style."+(t+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(e==null)return this.tween(o,null);if(typeof e!="function")throw new Error;return this.tween(o,b5(t,e,n??""))}function y5(t){return function(){this.textContent=t}}function w5(t){return function(){var e=t(this);this.textContent=e??""}}function k5(t){return this.tween("text",typeof t=="function"?w5(bs(this,"text",t)):y5(t==null?"":t+""))}function C5(t){return function(e){this.textContent=t.call(this,e)}}function A5(t){var e,n;function o(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&C5(i)),e}return o._value=t,o}function S5(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,A5(t))}function T5(){for(var t=this._name,e=this._id,n=Hd(),o=this._groups,i=o.length,r=0;r<i;++r)for(var l=o[r],a=l.length,s,u=0;u<a;++u)if(s=l[u]){var f=Ft(s,e);Rr(s,t,n,u,l,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new rn(o,this._parents,t,n)}function I5(){var t,e,n=this,o=n._id,i=n.size();return new Promise(function(r,l){var a={value:l},s={value:function(){--i===0&&r()}};n.each(function(){var u=xt(this,o),f=u.on;f!==t&&(e=(t=f).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(s)),u.on=e}),i===0&&r()})}var O5=0;function rn(t,e,n,o){this._groups=t,this._parents=e,this._name=n,this._id=o}function Hd(){return++O5}var Qt=oi.prototype;rn.prototype={constructor:rn,select:a5,selectAll:u5,selectChild:Qt.selectChild,selectChildren:Qt.selectChildren,filter:t5,merge:n5,selection:c5,transition:T5,call:Qt.call,nodes:Qt.nodes,node:Qt.node,size:Qt.size,empty:Qt.empty,each:Qt.each,on:r5,attr:Bk,attrTween:Wk,style:h5,styleTween:v5,text:k5,textTween:S5,remove:s5,tween:Ek,delay:Yk,duration:xk,ease:Qk,easeVarying:e5,end:I5,[Symbol.iterator]:Qt[Symbol.iterator]};function P5(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var M5={time:null,delay:0,duration:250,ease:P5};function N5(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function E5(t){var e,n;t instanceof rn?(e=t._id,t=t._name):(e=Hd(),(n=M5).time=hs(),t=t==null?null:t+"");for(var o=this._groups,i=o.length,r=0;r<i;++r)for(var l=o[r],a=l.length,s,u=0;u<a;++u)(s=l[u])&&Rr(s,t,e,u,l,n||N5(s,e));return new rn(o,this._parents,t,e)}oi.prototype.interrupt=Pk;oi.prototype.transition=E5;const Ll=Math.PI,Fl=2*Ll,Tn=1e-6,R5=Fl-Tn;function Wd(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function D5(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Wd;const n=10**e;return function(o){this._+=o[0];for(let i=1,r=o.length;i<r;++i)this._+=Math.round(arguments[i]*n)/n+o[i]}}class L5{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Wd:D5(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,o,i){this._append`Q${+e},${+n},${this._x1=+o},${this._y1=+i}`}bezierCurveTo(e,n,o,i,r,l){this._append`C${+e},${+n},${+o},${+i},${this._x1=+r},${this._y1=+l}`}arcTo(e,n,o,i,r){if(e=+e,n=+n,o=+o,i=+i,r=+r,r<0)throw new Error(`negative radius: ${r}`);let l=this._x1,a=this._y1,s=o-e,u=i-n,f=l-e,c=a-n,d=f*f+c*c;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(d>Tn)if(!(Math.abs(c*s-u*f)>Tn)||!r)this._append`L${this._x1=e},${this._y1=n}`;else{let p=o-l,h=i-a,_=s*s+u*u,y=p*p+h*h,b=Math.sqrt(_),A=Math.sqrt(d),w=r*Math.tan((Ll-Math.acos((_+d-y)/(2*b*A)))/2),D=w/A,V=w/b;Math.abs(D-1)>Tn&&this._append`L${e+D*f},${n+D*c}`,this._append`A${r},${r},0,0,${+(c*p>f*h)},${this._x1=e+V*s},${this._y1=n+V*u}`}}arc(e,n,o,i,r,l){if(e=+e,n=+n,o=+o,l=!!l,o<0)throw new Error(`negative radius: ${o}`);let a=o*Math.cos(i),s=o*Math.sin(i),u=e+a,f=n+s,c=1^l,d=l?i-r:r-i;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>Tn||Math.abs(this._y1-f)>Tn)&&this._append`L${u},${f}`,o&&(d<0&&(d=d%Fl+Fl),d>R5?this._append`A${o},${o},0,1,${c},${e-a},${n-s}A${o},${o},0,1,${c},${this._x1=u},${this._y1=f}`:d>Tn&&this._append`A${o},${o},0,${+(d>=Ll)},${c},${this._x1=e+o*Math.cos(r)},${this._y1=n+o*Math.sin(r)}`)}rect(e,n,o,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${o=+o}v${+i}h${-o}Z`}toString(){return this._}}function F5(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function hr(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,o=t.slice(0,n);return[o.length>1?o[0]+o.slice(2):o,+t.slice(n+1)]}function ho(t){return t=hr(Math.abs(t)),t?t[1]:NaN}function j5(t,e){return function(n,o){for(var i=n.length,r=[],l=0,a=t[0],s=0;i>0&&a>0&&(s+a+1>o&&(a=Math.max(1,o-s)),r.push(n.substring(i-=a,i+a)),!((s+=a+1)>o));)a=t[l=(l+1)%t.length];return r.reverse().join(e)}}function q5(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var B5=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function gr(t){if(!(e=B5.exec(t)))throw new Error("invalid format: "+t);var e;return new vs({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}gr.prototype=vs.prototype;function vs(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}vs.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function G5(t){e:for(var e=t.length,n=1,o=-1,i;n<e;++n)switch(t[n]){case".":o=i=n;break;case"0":o===0&&(o=n),i=n;break;default:if(!+t[n])break e;o>0&&(o=0);break}return o>0?t.slice(0,o)+t.slice(i+1):t}var Kd;function V5(t,e){var n=hr(t,e);if(!n)return t+"";var o=n[0],i=n[1],r=i-(Kd=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=o.length;return r===l?o:r>l?o+new Array(r-l+1).join("0"):r>0?o.slice(0,r)+"."+o.slice(r):"0."+new Array(1-r).join("0")+hr(t,Math.max(0,e+r-1))[0]}function Xu(t,e){var n=hr(t,e);if(!n)return t+"";var o=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+o:o.length>i+1?o.slice(0,i+1)+"."+o.slice(i+1):o+new Array(i-o.length+2).join("0")}const Ju={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:F5,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Xu(t*100,e),r:Xu,s:V5,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function xu(t){return t}var Zu=Array.prototype.map,Qu=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function $5(t){var e=t.grouping===void 0||t.thousands===void 0?xu:j5(Zu.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",o=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",r=t.numerals===void 0?xu:q5(Zu.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"−":t.minus+"",s=t.nan===void 0?"NaN":t.nan+"";function u(c){c=gr(c);var d=c.fill,p=c.align,h=c.sign,_=c.symbol,y=c.zero,b=c.width,A=c.comma,w=c.precision,D=c.trim,V=c.type;V==="n"?(A=!0,V="g"):Ju[V]||(w===void 0&&(w=12),D=!0,V="g"),(y||d==="0"&&p==="=")&&(y=!0,d="0",p="=");var E=_==="$"?n:_==="#"&&/[boxX]/.test(V)?"0"+V.toLowerCase():"",W=_==="$"?o:/[%p]/.test(V)?l:"",B=Ju[V],j=/[defgprs%]/.test(V);w=w===void 0?6:/[gprs]/.test(V)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function X(P){var g=E,C=W,N,F,L;if(V==="c")C=B(P)+C,P="";else{P=+P;var K=P<0||1/P<0;if(P=isNaN(P)?s:B(Math.abs(P),w),D&&(P=G5(P)),K&&+P==0&&h!=="+"&&(K=!1),g=(K?h==="("?h:a:h==="-"||h==="("?"":h)+g,C=(V==="s"?Qu[8+Kd/3]:"")+C+(K&&h==="("?")":""),j){for(N=-1,F=P.length;++N<F;)if(L=P.charCodeAt(N),48>L||L>57){C=(L===46?i+P.slice(N+1):P.slice(N))+C,P=P.slice(0,N);break}}}A&&!y&&(P=e(P,1/0));var x=g.length+P.length+C.length,J=x<b?new Array(b-x+1).join(d):"";switch(A&&y&&(P=e(J+P,J.length?b-C.length:1/0),J=""),p){case"<":P=g+P+C+J;break;case"=":P=g+J+P+C;break;case"^":P=J.slice(0,x=J.length>>1)+g+P+C+J.slice(x);break;default:P=J+g+P+C;break}return r(P)}return X.toString=function(){return c+""},X}function f(c,d){var p=u((c=gr(c),c.type="f",c)),h=Math.max(-8,Math.min(8,Math.floor(ho(d)/3)))*3,_=Math.pow(10,-h),y=Qu[8+h/3];return function(b){return p(_*b)+y}}return{format:u,formatPrefix:f}}var Li,Ud,Yd;H5({thousands:",",grouping:[3],currency:["$",""]});function H5(t){return Li=$5(t),Ud=Li.format,Yd=Li.formatPrefix,Li}function W5(t){return Math.max(0,-ho(Math.abs(t)))}function K5(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ho(e)/3)))*3-ho(Math.abs(t)))}function U5(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,ho(e)-ho(t))+1}function Y5(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function X5(t){return function(){return t}}function J5(t){return+t}var zu=[0,1];function ro(t){return t}function jl(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:X5(isNaN(e)?NaN:.5)}function x5(t,e){var n;return t>e&&(n=t,t=e,e=n),function(o){return Math.max(t,Math.min(e,o))}}function Z5(t,e,n){var o=t[0],i=t[1],r=e[0],l=e[1];return i<o?(o=jl(i,o),r=n(l,r)):(o=jl(o,i),r=n(r,l)),function(a){return r(o(a))}}function Q5(t,e,n){var o=Math.min(t.length,e.length)-1,i=new Array(o),r=new Array(o),l=-1;for(t[o]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<o;)i[l]=jl(t[l],t[l+1]),r[l]=n(e[l],e[l+1]);return function(a){var s=Qy(t,a,1,o)-1;return r[s](i[s](a))}}function z5(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function e4(){var t=zu,e=zu,n=_s,o,i,r,l=ro,a,s,u;function f(){var d=Math.min(t.length,e.length);return l!==ro&&(l=x5(t[0],t[d-1])),a=d>2?Q5:Z5,s=u=null,c}function c(d){return d==null||isNaN(d=+d)?r:(s||(s=a(t.map(o),e,n)))(o(l(d)))}return c.invert=function(d){return l(i((u||(u=a(e,t.map(o),Rt)))(d)))},c.domain=function(d){return arguments.length?(t=Array.from(d,J5),f()):t.slice()},c.range=function(d){return arguments.length?(e=Array.from(d),f()):e.slice()},c.rangeRound=function(d){return e=Array.from(d),n=hk,f()},c.clamp=function(d){return arguments.length?(l=d?!0:ro,f()):l!==ro},c.interpolate=function(d){return arguments.length?(n=d,f()):n},c.unknown=function(d){return arguments.length?(r=d,c):r},function(d,p){return o=d,i=p,f()}}function t4(){return e4()(ro,ro)}function n4(t,e,n,o){var i=ow(t,e,n),r;switch(o=gr(o??",f"),o.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return o.precision==null&&!isNaN(r=K5(i,l))&&(o.precision=r),Yd(o,l)}case"":case"e":case"g":case"p":case"r":{o.precision==null&&!isNaN(r=U5(i,Math.max(Math.abs(t),Math.abs(e))))&&(o.precision=r-(o.type==="e"));break}case"f":case"%":{o.precision==null&&!isNaN(r=W5(i))&&(o.precision=r-(o.type==="%")*2);break}}return Ud(o)}function o4(t){var e=t.domain;return t.ticks=function(n){var o=e();return nw(o[0],o[o.length-1],n??10)},t.tickFormat=function(n,o){var i=e();return n4(i[0],i[i.length-1],n??10,o)},t.nice=function(n){n==null&&(n=10);var o=e(),i=0,r=o.length-1,l=o[i],a=o[r],s,u,f=10;for(a<l&&(u=l,l=a,a=u,u=i,i=r,r=u);f-- >0;){if(u=Tl(l,a,n),u===s)return o[i]=l,o[r]=a,e(o);if(u>0)l=Math.floor(l/u)*u,a=Math.ceil(a/u)*u;else if(u<0)l=Math.ceil(l*u)/u,a=Math.floor(a*u)/u;else break;s=u}return t},t}function ql(){var t=t4();return t.copy=function(){return z5(t,ql())},Y5.apply(t,arguments),o4(t)}function no(t){return function(){return t}}function i4(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const o=Math.floor(n);if(!(o>=0))throw new RangeError(`invalid digits: ${n}`);e=o}return t},()=>new L5(e)}function r4(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Xd(t){this._context=t}Xd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function l4(t){return new Xd(t)}function s4(t){return t[0]}function a4(t){return t[1]}function fl(t,e){var n=no(!0),o=null,i=l4,r=null,l=i4(a);t=typeof t=="function"?t:t===void 0?s4:no(t),e=typeof e=="function"?e:e===void 0?a4:no(e);function a(s){var u,f=(s=r4(s)).length,c,d=!1,p;for(o==null&&(r=i(p=l())),u=0;u<=f;++u)!(u<f&&n(c=s[u],u,s))===d&&((d=!d)?r.lineStart():r.lineEnd()),d&&r.point(+t(c,u,s),+e(c,u,s));if(p)return r=null,p+""||null}return a.x=function(s){return arguments.length?(t=typeof s=="function"?s:no(+s),a):t},a.y=function(s){return arguments.length?(e=typeof s=="function"?s:no(+s),a):e},a.defined=function(s){return arguments.length?(n=typeof s=="function"?s:no(!!s),a):n},a.curve=function(s){return arguments.length?(i=s,o!=null&&(r=i(o)),a):i},a.context=function(s){return arguments.length?(s==null?o=r=null:r=i(o=s),a):o},a}function Vo(t,e,n){this.k=t,this.x=e,this.y=n}Vo.prototype={constructor:Vo,scale:function(t){return t===1?this:new Vo(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Vo(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Vo.prototype;function u4(t){let e;return{c(){e=yr("svg"),M(e,"id","line-chart")},m(n,o){I(n,e,o)},p:Ae,i:Ae,o:Ae,d(n){n&&T(e)}}}const ef=52;function f4(t,e,n){let{data:o=[]}=e,i,r,l;const a={top:10,right:30,bottom:10,left:20},s=500-a.left-a.right,u=400-a.top-a.bottom;fl().x((h,_)=>r(_)).y(h=>l(h)),wr(()=>{n(1,i=Y2("#line-chart").attr("width",s+a.left+a.right).attr("height",u+a.top+a.bottom)),r=ql().range([0,s]),l=ql().range([u,0]),o.length&&f()});function f(){const h=o.length>ef?o.slice(-ef):o;c(h),d(h),p()}function c(h){i.selectAll(".line").remove();const _=fl().defined(b=>b>-5).x((b,A)=>r(A)).y(b=>l(b)),y=fl().defined(b=>b<0).x((b,A)=>r(A)).y(b=>l(b));i.append("path").datum(h).attr("class","line positive").attr("d",_).attr("transform",`translate(${a.left},${a.top})`).attr("fill","none").attr("stroke","green").attr("stroke-width",2),i.append("path").datum(h).attr("class","line negative").attr("d",y).attr("transform",`translate(${a.left},${a.top})`).attr("fill","none").attr("stroke","red").attr("stroke-width",2)}function d(h){const _=Math.max(0,...h),y=Math.min(0,...h);r.domain([0,h.length-1]),l.domain([y,_]).nice()}function p(h){const _=fw(r).ticks(0),y=cw(l).ticks(10);i.selectAll(".axis").remove(),i.append("g").attr("class","axis x-axis").attr("transform",`translate(${a.left},${u+a.top})`).call(_),i.append("g").attr("class","axis y-axis").attr("transform",`translate(${a.left},${a.top})`).call(y)}return t.$$set=h=>{"data"in h&&n(0,o=h.data)},t.$$.update=()=>{t.$$.dirty&3&&o&&i&&f()},[o,i]}class c4 extends we{constructor(e){super(),ye(this,e,f4,u4,fe,{data:0})}}function d4(t){let e,n=t[1].townInfo.knowledge_points+"",o,i;return{c(){e=$("Manage your Knowledge ("),o=$(n),i=$(" pts)")},m(r,l){I(r,e,l),I(r,o,l),I(r,i,l)},p(r,l){l&2&&n!==(n=r[1].townInfo.knowledge_points+"")&&se(o,n)},d(r){r&&(T(e),T(o),T(i))}}}function m4(t){let e,n,o,i;return e=new ko({props:{$$slots:{default:[d4]},$$scope:{ctx:t}}}),o=new So({}),{c(){z(e.$$.fragment),n=G(),z(o.$$.fragment)},m(r,l){Z(e,r,l),I(r,n,l),Z(o,r,l),i=!0},p(r,l){const a={};l&258&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),Q(e,r),Q(o,r)}}}function tf(t){let e,n,o=lf(t[1].townInfo.knowledge_points*t[3])+"",i,r;return{c(){e=O("br"),n=$(`
					(total value: $`),i=$(o),r=$(")")},m(l,a){I(l,e,a),I(l,n,a),I(l,i,a),I(l,r,a)},p(l,a){a&10&&o!==(o=lf(l[1].townInfo.knowledge_points*l[3])+"")&&se(i,o)},d(l){l&&(T(e),T(n),T(i),T(r))}}}function nf(t){let e;return{c(){e=O("div"),e.innerHTML=`Wait until the market value is <span class="text-green-500">positive</span> to sell your Knowledge for Gold. Keep in mind that you need a bank to
					convert.`},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function of(t){let e,n,o;return n=new Yt({props:{variant:"default",$$slots:{default:[p4]},$$scope:{ctx:t}}}),n.$on("click",t[0]),{c(){e=O("div"),z(n.$$.fragment)},m(i,r){I(i,e,r),Z(n,e,null),o=!0},p(i,r){const l={};r&256&&(l.$$scope={dirty:r,ctx:i}),n.$set(l)},i(i){o||(k(n.$$.fragment,i),o=!0)},o(i){S(n.$$.fragment,i),o=!1},d(i){i&&T(e),Q(n)}}}function p4(t){let e;return{c(){e=$("Convert Knowledge to Gold")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function rf(t){let e;return{c(){e=O("div"),e.textContent="You need a bank to convert knowledge to gold."},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function _4(t){let e,n,o,i,r,l,a,s,u=(t[3]??0)+"",f,c,d,p,h,_,y,b,A,w,D,V;e=new Co({props:{$$slots:{default:[m4]},$$scope:{ctx:t}}});let E=t[3]>0&&tf(t);_=new c4({props:{data:t[2]}});let W=t[3]<0&&nf(),B=t[1].hasBank&&t[3]>0&&of(t),j=t[1].hasBank===!1&&rf();return D=new ni({}),{c(){z(e.$$.fragment),n=G(),o=O("span"),o.textContent="Knowledge is power, unlock it!",i=G(),r=O("div"),l=O("div"),a=$("Market Rate: "),s=O("span"),f=$(u),c=$(" gold"),p=$(`
				per Knowledge Point
				`),E&&E.c(),h=G(),z(_.$$.fragment),y=G(),W&&W.c(),b=G(),B&&B.c(),A=G(),j&&j.c(),w=G(),z(D.$$.fragment),M(o,"class","italic"),M(s,"class",d=t[3]<0?"text-red-500":"text-green-500"),M(r,"class","py-0 flex flex-col gap-4 text-gray-400 overflow-x-auto")},m(X,P){Z(e,X,P),I(X,n,P),I(X,o,P),I(X,i,P),I(X,r,P),v(r,l),v(l,a),v(l,s),v(s,f),v(s,c),v(l,p),E&&E.m(l,null),v(r,h),Z(_,r,null),v(r,y),W&&W.m(r,null),v(r,b),B&&B.m(r,null),v(r,A),j&&j.m(r,null),I(X,w,P),Z(D,X,P),V=!0},p(X,P){const g={};P&258&&(g.$$scope={dirty:P,ctx:X}),e.$set(g),(!V||P&8)&&u!==(u=(X[3]??0)+"")&&se(f,u),(!V||P&8&&d!==(d=X[3]<0?"text-red-500":"text-green-500"))&&M(s,"class",d),X[3]>0?E?E.p(X,P):(E=tf(X),E.c(),E.m(l,null)):E&&(E.d(1),E=null);const C={};P&4&&(C.data=X[2]),_.$set(C),X[3]<0?W||(W=nf(),W.c(),W.m(r,b)):W&&(W.d(1),W=null),X[1].hasBank&&X[3]>0?B?(B.p(X,P),P&10&&k(B,1)):(B=of(X),B.c(),k(B,1),B.m(r,A)):B&&(Te(),S(B,1,1,()=>{B=null}),Ie()),X[1].hasBank===!1?j||(j=rf(),j.c(),j.m(r,null)):j&&(j.d(1),j=null)},i(X){V||(k(e.$$.fragment,X),k(_.$$.fragment,X),k(B),k(D.$$.fragment,X),V=!0)},o(X){S(e.$$.fragment,X),S(_.$$.fragment,X),S(B),S(D.$$.fragment,X),V=!1},d(X){X&&(T(n),T(o),T(i),T(r),T(w)),Q(e,X),E&&E.d(),Q(_),W&&W.d(),B&&B.d(),j&&j.d(),Q(D,X)}}}function h4(t){let e,n;return e=new Ao({props:{transitionConfig:{duration:0},class:"bg-foreground text-foregroundText",$$slots:{default:[_4]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment)},m(o,i){Z(e,o,i),n=!0},p(o,i){const r={};i&270&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Q(e,o)}}}function g4(t){let e,n,o;function i(l){t[5](l)}let r={$$slots:{default:[h4]},$$scope:{ctx:t}};return t[4]!==void 0&&(r.open=t[4]),e=new To({props:r}),Oe.push(()=>Vn(e,"open",i)),{c(){z(e.$$.fragment)},m(l,a){Z(e,l,a),o=!0},p(l,[a]){const s={};a&270&&(s.$$scope={dirty:a,ctx:l}),!n&&a&16&&(n=!0,s.open=l[4],Gn(()=>n=!1)),e.$set(s)},i(l){o||(k(e.$$.fragment,l),o=!0)},o(l){S(e.$$.fragment,l),o=!1},d(l){Q(e,l)}}}function lf(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function b4(t,e,n){let o,i;ae(t,Re,u=>n(1,o=u)),ae(t,Zi,u=>n(4,i=u));let r,l=0;function a(){let u=o;o.hasBank===!0?(u.townInfo.gold+=Math.round(u.townInfo.knowledge_points*l),u.townInfo.knowledge_points=0,Re.set(u),localStorage.setItem(Mt,JSON.stringify(u))):alert("You need a bank to convert knowledge to gold.")}function s(u){i=u,Zi.set(i)}return t.$$.update=()=>{t.$$.dirty&2&&o&&(n(2,r=o.economyAndLaws.knowledge_gold_market_rates),n(3,l=o.economyAndLaws.knowledge_gold_market_rates[o.economyAndLaws.knowledge_gold_market_rates.length-1]))},[a,o,r,l,i,s]}class v4 extends we{constructor(e){super(),ye(this,e,b4,g4,fe,{convertKnowledgeToGold:0})}get convertKnowledgeToGold(){return this.$$.ctx[0]}}const y4=[{id:"sunshine",title:"Hint of Sunshine",description:`Scientist Jane T. found that more sunlight makes everyone a bit happier. 
        
        Now, every home is equipped with a pair of sunglasses and a sunhat. Enjoy happier citizens!,
        `,cost:5e3,duration:180,effect:!0},{id:"antibiotics",title:"We will call them 'Antibiotics'",description:`Scientist Alfred C. has pitched us an idea that he calls 'Antibiotics'.
        
         We don't really know what that means, but it seems to make people healthier. 
        `,cost:8e3,duration:200,effect:!0},{id:"goodbye_carrots",title:"Goodbye Carrots",description:`Scientist Jarrod M. collaborated with local carrot farms to enhance the recipe, aiming to increase consumers' height by 10%.

        Unfortunately, the experiment failed, and all the local carrot farms have gone out of business. 
        `,cost:8e3,duration:80,effect:!0},{id:"funny_cows",title:"Cowabunga!",description:`Scientist Barry T. thought that showing cows some stand-up comedy would make them produce better milk, but it didn't have the desired effect.

        The cows are now following Mike Birbiglia on Twitter, but the milk production has not increased.
        `,cost:3e3,duration:60,effect:!1},{id:"missing_treasure",title:"Missing Treasure?",description:`Scientist Sarah H. was running an experiment on tree growth and found a stash of gold near the lab. 

        She hopes nobody will miss it. Your town now has some more money. 
        `,cost:15e3,duration:180,effect:!0},{id:"tax_relief",title:"'Maybe the government is not so bad after all'",description:`Scientist Sam P. conducted a study and found that if you put a tiny bit of CHEMICAL X in the water supply, people are more likely to be ok with tax hikes. 

        We don't question it, as these experiments cost a lot of moo-lah.`,cost:7500,duration:360,effect:!0},{id:"spring_break",title:"Spring Break",description:`The Scientists took our money and spent the week at the beach. 

        We are not sure what they did, but they came back with a tan and a smile.`,cost:2e3,duration:7,effect:!1},{id:"coffee_boost_tourism",title:"Speedy Brews",description:`Scientist Claudia A. has found that a specific blend of coffee can significantly increase productivity among town employees. 

        The catch? It only works on Mondays. But hey, starting the week with a turbo-charged workforce might just be the boost we needed. The town gets a bit of extra cash from the productivity, and a bit of tourism revenue from coffee tourism.
        `,cost:8e3,duration:100,effect:!0},{id:"bee_bonanza",title:"Buzzing with Possibilities",description:`Scientist Will B. thought that introducing genetically modified super bees to the local ecosystem could help with pollination.
        
        Unfortunately, these bees prefer coffee plants over all others, leading to all coffee bean farms forced to close.`,cost:5e3,duration:120,effect:!0},{id:"wheat_whirlwind",title:"A Gust of Grain",description:`Scientist Clint C. is sulking after a botched weather control experiment aimed at improving crop yields accidentally resulted in a series of mini-tornadoes sweeping through the town's wheat farms. The wheat is gone, but the townsfolk have never been more entertained.

        Local bakers mourn the loss of wheat while selling tickets to the wheat whirlwind tours. All wheat farms are now torn down, but happiness is up.`,cost:7e3,duration:150,effect:!0},{id:"aquatic_overachievers",title:"Fishy Business",description:`An attempt to genetically enhance fish intelligence by Scientist Goldie F. in fisheries has gone awry, resulting in fish that are too smart to be caught. The fisheries are now underpopulated and shut down, but the town enjoys an unexpected tourism boom as people flock to see the genius fish who are now hanging out in local parks.

        Who knew fish could be such a draw?`,cost:6e3,duration:90,effect:!0},{id:"educational_eclipse",title:"A Sudden Drop in IQ",description:`Scientist Albert E. wanted to see if the towns' children would become smarter if THEY ran the schools. 

        This was obviously a terrible idea and the first thing the kids did was shut down the schools.`,cost:1e3,duration:45,effect:!0},{id:"education_grant",title:"Education Grant",description:`Scientist Marie C. took the funding and applied the town for a grant to improve education.

        The town wins a grant for $150,000 to build schools and improve education. (but it's up to you if that's how you want to spend the money)`,cost:4e4,duration:45,effect:!0},{id:"mindfulness_meditation_classes",title:"'Mindfulness Meditation Classes'",description:`Scientist Zen M. has introduced mindfulness meditation classes to the town after realizing that breathing in certain ways can lower stress. 
		
		Now, the town is a bit more relaxed, for now.`,cost:13e3,duration:540,effect:!0}];function sf(t,e,n){const o=t.slice();return o[17]=e[n],o}function w4(t){let e,n=t[1].lab.active_experiment.title+"",o;return{c(){e=$("🎉 Experiment Completed: "),o=$(n)},m(i,r){I(i,e,r),I(i,o,r)},p(i,r){r&2&&n!==(n=i[1].lab.active_experiment.title+"")&&se(o,n)},d(i){i&&(T(e),T(o))}}}function k4(t){let e,n=t[1].lab.active_experiment.description+"",o;return{c(){e=O("div"),o=$(n),M(e,"class","select-none whitespace-pre-wrap text-lg text-gray-400 leading-6 px-4 py-4 text-center ")},m(i,r){I(i,e,r),v(e,o)},p(i,r){r&2&&n!==(n=i[1].lab.active_experiment.description+"")&&se(o,n)},d(i){i&&T(e)}}}function C4(t){let e,n,o,i;return e=new rs({props:{class:"text-center",$$slots:{default:[w4]},$$scope:{ctx:t}}}),o=new us({props:{$$slots:{default:[k4]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment),n=G(),z(o.$$.fragment)},m(r,l){Z(e,r,l),I(r,n,l),Z(o,r,l),i=!0},p(r,l){const a={};l&1048578&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&1048578&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),Q(e,r),Q(o,r)}}}function A4(t){let e;return{c(){e=$("Thank the scientists")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function S4(t){let e,n;return e=new fv({props:{$$slots:{default:[A4]},$$scope:{ctx:t}}}),e.$on("click",t[9]),{c(){z(e.$$.fragment)},m(o,i){Z(e,o,i),n=!0},p(o,i){const r={};i&1048576&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Q(e,o)}}}function T4(t){let e,n,o,i;return e=new ss({props:{$$slots:{default:[C4]},$$scope:{ctx:t}}}),o=new ls({props:{$$slots:{default:[S4]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment),n=G(),z(o.$$.fragment)},m(r,l){Z(e,r,l),I(r,n,l),Z(o,r,l),i=!0},p(r,l){const a={};l&1048578&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&1048576&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),Q(e,r),Q(o,r)}}}function I4(t){let e,n;return e=new as({props:{$$slots:{default:[T4]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment)},m(o,i){Z(e,o,i),n=!0},p(o,i){const r={};i&1048578&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Q(e,o)}}}function O4(t){let e;return{c(){e=O("span"),e.textContent="Manage your Laboratory 🔬 🧪"},m(n,o){I(n,e,o)},p:Ae,d(n){n&&T(e)}}}function P4(t){let e,n,o,i=t[1].lab.xp+"",r,l,a,s;return{c(){e=O("span"),n=$("You have earned "),o=O("span"),r=$(i),l=$(" XP"),s=$(` from experiments. XP can be used to buy advanced plots and develop your
					city.`),M(o,"class",a="italic "+(t[1].lab.xp<0?"text-textDanger1":"text-primaryText"))},m(u,f){I(u,e,f),v(e,n),v(e,o),v(o,r),v(o,l),v(e,s)},p(u,f){f&2&&i!==(i=u[1].lab.xp+"")&&se(r,i),f&2&&a!==(a="italic "+(u[1].lab.xp<0?"text-textDanger1":"text-primaryText"))&&M(o,"class",a)},d(u){u&&T(e)}}}function M4(t){let e,n,o,i;return e=new ko({props:{$$slots:{default:[O4]},$$scope:{ctx:t}}}),o=new So({props:{$$slots:{default:[P4]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment),n=G(),z(o.$$.fragment)},m(r,l){Z(e,r,l),I(r,n,l),Z(o,r,l),i=!0},p(r,l){const a={};l&1048576&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&1048578&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),Q(e,r),Q(o,r)}}}function N4(t){let e;return{c(){e=$("No more experiments available")},m(n,o){I(n,e,o)},p:Ae,i:Ae,o:Ae,d(n){n&&T(e)}}}function E4(t){let e,n,o,i,r=Je(t[0]),l=[];for(let s=0;s<r.length;s+=1)l[s]=uf(sf(t,r,s));const a=s=>S(l[s],1,1,()=>{l[s]=null});return{c(){e=O("div"),e.textContent=`It's time to fund your next experiment! Choose a project below based on
				it's funding requirement. Once the experiment is over, you will see the
				results.`,n=G(),o=O("div");for(let s=0;s<l.length;s+=1)l[s].c();M(e,"class","select-none text-sm "),M(o,"class","text-center flex flex-col justify-center items-center gap-4 ")},m(s,u){I(s,e,u),I(s,n,u),I(s,o,u);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(o,null);i=!0},p(s,u){if(u&19){r=Je(s[0]);let f;for(f=0;f<r.length;f+=1){const c=sf(s,r,f);l[f]?(l[f].p(c,u),k(l[f],1)):(l[f]=uf(c),l[f].c(),k(l[f],1),l[f].m(o,null))}for(Te(),f=r.length;f<l.length;f+=1)a(f);Ie()}},i(s){if(!i){for(let u=0;u<r.length;u+=1)k(l[u]);i=!0}},o(s){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)S(l[u]);i=!1},d(s){s&&(T(e),T(n),T(o)),vt(l,s)}}}function R4(t){let e,n=t[1].lab.active_experiment.duration+"",o,i,r,l,a=t[1].lab.active_experiment.duration===0&&ff(t);return{c(){e=$("Currently running an experiment... check back in "),o=$(n),i=$(` days.
			`),a&&a.c(),r=De()},m(s,u){I(s,e,u),I(s,o,u),I(s,i,u),a&&a.m(s,u),I(s,r,u),l=!0},p(s,u){(!l||u&2)&&n!==(n=s[1].lab.active_experiment.duration+"")&&se(o,n),s[1].lab.active_experiment.duration===0?a?(a.p(s,u),u&2&&k(a,1)):(a=ff(s),a.c(),k(a,1),a.m(r.parentNode,r)):a&&(Te(),S(a,1,1,()=>{a=null}),Ie())},i(s){l||(k(a),l=!0)},o(s){S(a),l=!1},d(s){s&&(T(e),T(o),T(i),T(r)),a&&a.d(s)}}}function af(t){let e,n,o=t[17].id+"",i;return{c(){e=O("span"),n=$("// dev-"),i=$(o),M(e,"class","text-xs text-gray-400")},m(r,l){I(r,e,l),v(e,n),v(e,i)},p(r,l){l&1&&o!==(o=r[17].id+"")&&se(i,o)},d(r){r&&T(e)}}}function D4(t){let e,n=cf(t[17].cost).split(".")[0]+"",o,i,r,l=t[1].devMode===!0&&af(t);return{c(){e=$("$"),o=$(n),i=$(` gold

						`),l&&l.c(),r=G()},m(a,s){I(a,e,s),I(a,o,s),I(a,i,s),l&&l.m(a,s),I(a,r,s)},p(a,s){s&1&&n!==(n=cf(a[17].cost).split(".")[0]+"")&&se(o,n),a[1].devMode===!0?l?l.p(a,s):(l=af(a),l.c(),l.m(r.parentNode,r)):l&&(l.d(1),l=null)},d(a){a&&(T(e),T(o),T(i),T(r)),l&&l.d(a)}}}function uf(t){let e,n;function o(){return t[11](t[17])}return e=new Yt({props:{variant:"outline",class:`min-w-48 w-max flex-col
				`+(t[17].cost>t[1].townInfo.gold?"cursor-not-allowed":"")+`
				`,$$slots:{default:[D4]},$$scope:{ctx:t}}}),e.$on("click",o),{c(){z(e.$$.fragment)},m(i,r){Z(e,i,r),n=!0},p(i,r){t=i;const l={};r&3&&(l.class=`min-w-48 w-max flex-col
				`+(t[17].cost>t[1].townInfo.gold?"cursor-not-allowed":"")+`
				`),r&1048579&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(i){n||(k(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){Q(e,i)}}}function ff(t){let e,n;return e=new Yt({props:{variant:"outline",$$slots:{default:[L4]},$$scope:{ctx:t}}}),e.$on("click",t[10]),{c(){z(e.$$.fragment)},m(o,i){Z(e,o,i),n=!0},p(o,i){const r={};i&1048576&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Q(e,o)}}}function L4(t){let e;return{c(){e=$("Complete experiment (and face the impact)")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function F4(t){let e;return{c(){e=O("span"),e.textContent="Keep in mind that not all experiments yield positive results.",M(e,"class","italic text-left text-textDanger1")},m(n,o){I(n,e,o)},p:Ae,d(n){n&&T(e)}}}function j4(t){let e,n,o,i,r,l,a,s,u,f,c;e=new Co({props:{$$slots:{default:[M4]},$$scope:{ctx:t}}}),o=new bt({});const d=[R4,E4,N4],p=[];function h(_,y){return _[1].lab.active_experiment!==null?0:_[0].length>0?1:_[0].length===0?2:-1}return~(r=h(t))&&(l=p[r]=d[r](t)),s=new bt({props:{class:"mt-4"}}),f=new ni({props:{$$slots:{default:[F4]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment),n=G(),z(o.$$.fragment),i=G(),l&&l.c(),a=G(),z(s.$$.fragment),u=G(),z(f.$$.fragment)},m(_,y){Z(e,_,y),I(_,n,y),Z(o,_,y),I(_,i,y),~r&&p[r].m(_,y),I(_,a,y),Z(s,_,y),I(_,u,y),Z(f,_,y),c=!0},p(_,y){const b={};y&1048578&&(b.$$scope={dirty:y,ctx:_}),e.$set(b);let A=r;r=h(_),r===A?~r&&p[r].p(_,y):(l&&(Te(),S(p[A],1,1,()=>{p[A]=null}),Ie()),~r?(l=p[r],l?l.p(_,y):(l=p[r]=d[r](_),l.c()),k(l,1),l.m(a.parentNode,a)):l=null);const w={};y&1048576&&(w.$$scope={dirty:y,ctx:_}),f.$set(w)},i(_){c||(k(e.$$.fragment,_),k(o.$$.fragment,_),k(l),k(s.$$.fragment,_),k(f.$$.fragment,_),c=!0)},o(_){S(e.$$.fragment,_),S(o.$$.fragment,_),S(l),S(s.$$.fragment,_),S(f.$$.fragment,_),c=!1},d(_){_&&(T(n),T(i),T(a),T(u)),Q(e,_),Q(o,_),~r&&p[r].d(_),Q(s,_),Q(f,_)}}}function q4(t){let e,n;return e=new Ao({props:{class:"bg-foreground text-foregroundText",$$slots:{default:[j4]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment)},m(o,i){Z(e,o,i),n=!0},p(o,i){const r={};i&1048579&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Q(e,o)}}}function B4(t){let e,n,o,i,r;e=new fs({props:{open:t[2],$$slots:{default:[I4]},$$scope:{ctx:t}}});function l(s){t[12](s)}let a={$$slots:{default:[q4]},$$scope:{ctx:t}};return t[3]!==void 0&&(a.open=t[3]),o=new To({props:a}),Oe.push(()=>Vn(o,"open",l)),{c(){z(e.$$.fragment),n=G(),z(o.$$.fragment)},m(s,u){Z(e,s,u),I(s,n,u),Z(o,s,u),r=!0},p(s,[u]){const f={};u&4&&(f.open=s[2]),u&1048578&&(f.$$scope={dirty:u,ctx:s}),e.$set(f);const c={};u&1048579&&(c.$$scope={dirty:u,ctx:s}),!i&&u&8&&(i=!0,c.open=s[3],Gn(()=>i=!1)),o.$set(c)},i(s){r||(k(e.$$.fragment,s),k(o.$$.fragment,s),r=!0)},o(s){S(e.$$.fragment,s),S(o.$$.fragment,s),r=!1},d(s){s&&T(n),Q(e,s),Q(o,s)}}}function cf(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function G4(t,e,n){let o,i;ae(t,Re,w=>n(1,o=w)),ae(t,qi,w=>n(3,i=w));var r;let l=[],a=!1,s=!1,u=!1;function f(){if(l.length>0||!a)return l;let w=[],D=y4.filter(V=>!o.lab.past_experiments.some(E=>E.id===V.id));for(let V=0;V<3;V++){let E=D[Math.floor(Math.random()*D.length)];E.cost=Math.floor(Math.random()*(E.cost*.35)+E.cost*.8),w.push(E)}return w=w.filter((V,E)=>w.indexOf(V)===E),w=w.filter(V=>V),n(8,u=!0),w}function c(w){if(o.townInfo.gold<w.cost){alert("You do not have enough gold to purchase this experiment.");return}Pe(Re,o.townInfo.gold-=w.cost,o),Pe(Re,o.lab.active_experiment=w,o),o.lab.past_experiments.push(w)}function d(){var w;switch(Pe(qi,i=!1,i),n(2,s=!0),(w=o.lab.active_experiment)===null||w===void 0?void 0:w.id){case"sunshine":Pe(Re,o.modifiers.happiness=50,o);break;case"antibiotics":Pe(Re,o.modifiers.health=50,o);break;case"goodbye_carrots":h("carrot_farm");break;case"missing_treasure":Pe(Re,o.townInfo.gold+=Math.floor(Math.random()*o.lab.active_experiment.cost*2),o);break;case"tax_relief":Pe(Re,o.economyAndLaws.max_tax_rate=(Math.random()*.8+1.2)*o.economyAndLaws.max_tax_rate,o);break;case"coffee_boost_tourism":Pe(Re,o.townInfo.gold+=5e3,o),Pe(Re,o.townInfo.gold_from_tourism+=1e4,o);break;case"bee_bonanza":h("coffee_bean_farm");break;case"wheat_whirlwind":h("wheat_farm"),Pe(Re,o.townInfo.happiness*=1.5,o),Pe(Re,o.modifiers.happiness+=3,o);break;case"aquatic_overachievers":h("fishery"),Pe(Re,o.townInfo.gold_from_tourism+=3e4,o);break;case"educational_eclipse":h("small_school"),h("large_school"),Pe(Re,o.townInfo.knowledge_points*=.8,o);break;case"education_grant":Pe(Re,o.townInfo.knowledge_points*=1.5,o),Pe(Re,o.townInfo.gold+=15e4,o);break;case"mindfulness_meditation_classes":o.modifiers.happiness*1.5;break}Pe(Re,o.lab.active_experiment.duration=-1,o)}function p(){let w=o;w.lab.xp+=Math.round(w.lab.active_experiment.cost*(Math.random()*2+.5)),w.lab.active_experiment=null,n(2,s=!1),Pe(Re,o=w,o)}function h(w){let D=Ze(w,o);for(let V=0;V<D.length;V++)xi(D[V].x,D[V].y,o)}const _=()=>{p()},y=()=>{d()},b=w=>{w.cost<o.townInfo.gold&&c(w)};function A(w){i=w,qi.set(i)}return t.$$.update=()=>{t.$$.dirty&387&&(o?(a=!0,n(0,l=u==!1?f():l),(n(7,r=o.lab.active_experiment)===null||r===void 0?void 0:r.duration)===-1&&n(2,s=!0)):a=!1)},[l,o,s,i,c,d,p,r,u,_,y,b,A]}class V4 extends we{constructor(e){super(),ye(this,e,G4,B4,fe,{})}}function df(t,e,n){const o=t.slice();return o[19]=e[n],o}function mf(t){let e,n=Je({length:t[6]}),o=[];for(let i=0;i<n.length;i+=1)o[i]=pf(df(t,n,i));return{c(){e=O("div");for(let i=0;i<o.length;i+=1)o[i].c();M(e,"class","confetti-holder svelte-15ksp55"),mn(e,"rounded",t[9]),mn(e,"cone",t[10]),mn(e,"no-gravity",t[11]),mn(e,"reduced-motion",t[13])},m(i,r){I(i,e,r);for(let l=0;l<o.length;l+=1)o[l]&&o[l].m(e,null)},p(i,r){if(r&37375){n=Je({length:i[6]});let l;for(l=0;l<n.length;l+=1){const a=df(i,n,l);o[l]?o[l].p(a,r):(o[l]=pf(a),o[l].c(),o[l].m(e,null))}for(;l<o.length;l+=1)o[l].d(1);o.length=n.length}r&512&&mn(e,"rounded",i[9]),r&1024&&mn(e,"cone",i[10]),r&2048&&mn(e,"no-gravity",i[11]),r&8192&&mn(e,"reduced-motion",i[13])},d(i){i&&T(e),vt(o,i)}}}function pf(t){let e;return{c(){e=O("div"),M(e,"class","confetti svelte-15ksp55"),ze(e,"--fall-distance",t[8]),ze(e,"--size",t[0]+"px"),ze(e,"--color",t[15]()),ze(e,"--skew",yt(-45,45)+"deg,"+yt(-45,45)+"deg"),ze(e,"--rotation-xyz",yt(-10,10)+", "+yt(-10,10)+", "+yt(-10,10)),ze(e,"--rotation-deg",yt(0,360)+"deg"),ze(e,"--translate-y-multiplier",yt(t[2][0],t[2][1])),ze(e,"--translate-x-multiplier",yt(t[1][0],t[1][1])),ze(e,"--scale",.1*yt(2,10)),ze(e,"--transition-duration",t[4]?`calc(${t[3]}ms * var(--scale))`:`${t[3]}ms`),ze(e,"--transition-delay",yt(t[5][0],t[5][1])+"ms"),ze(e,"--transition-iteration-count",t[4]?"infinite":t[7]),ze(e,"--x-spread",1-t[12])},m(n,o){I(n,e,o)},p(n,o){o&256&&ze(e,"--fall-distance",n[8]),o&1&&ze(e,"--size",n[0]+"px"),o&4&&ze(e,"--translate-y-multiplier",yt(n[2][0],n[2][1])),o&2&&ze(e,"--translate-x-multiplier",yt(n[1][0],n[1][1])),o&24&&ze(e,"--transition-duration",n[4]?`calc(${n[3]}ms * var(--scale))`:`${n[3]}ms`),o&32&&ze(e,"--transition-delay",yt(n[5][0],n[5][1])+"ms"),o&144&&ze(e,"--transition-iteration-count",n[4]?"infinite":n[7]),o&4096&&ze(e,"--x-spread",1-n[12])},d(n){n&&T(e)}}}function $4(t){let e,n=!t[14]&&mf(t);return{c(){n&&n.c(),e=De()},m(o,i){n&&n.m(o,i),I(o,e,i)},p(o,[i]){o[14]?n&&(n.d(1),n=null):n?n.p(o,i):(n=mf(o),n.c(),n.m(e.parentNode,e))},i:Ae,o:Ae,d(o){o&&T(e),n&&n.d(o)}}}function yt(t,e){return Math.random()*(e-t)+t}function H4(t,e,n){let{size:o=10}=e,{x:i=[-.5,.5]}=e,{y:r=[.25,1]}=e,{duration:l=2e3}=e,{infinite:a=!1}=e,{delay:s=[0,50]}=e,{colorRange:u=[0,360]}=e,{colorArray:f=[]}=e,{amount:c=50}=e,{iterationCount:d=1}=e,{fallDistance:p="100px"}=e,{rounded:h=!1}=e,{cone:_=!1}=e,{noGravity:y=!1}=e,{xSpread:b=.15}=e,{destroyOnComplete:A=!0}=e,{disableForReducedMotion:w=!1}=e,D=!1;wr(()=>{!A||a||d=="infinite"||setTimeout(()=>n(14,D=!0),(l+s[1])*d)});function V(){return f.length?f[Math.round(Math.random()*(f.length-1))]:`hsl(${Math.round(yt(u[0],u[1]))}, 75%, 50%)`}return t.$$set=E=>{"size"in E&&n(0,o=E.size),"x"in E&&n(1,i=E.x),"y"in E&&n(2,r=E.y),"duration"in E&&n(3,l=E.duration),"infinite"in E&&n(4,a=E.infinite),"delay"in E&&n(5,s=E.delay),"colorRange"in E&&n(16,u=E.colorRange),"colorArray"in E&&n(17,f=E.colorArray),"amount"in E&&n(6,c=E.amount),"iterationCount"in E&&n(7,d=E.iterationCount),"fallDistance"in E&&n(8,p=E.fallDistance),"rounded"in E&&n(9,h=E.rounded),"cone"in E&&n(10,_=E.cone),"noGravity"in E&&n(11,y=E.noGravity),"xSpread"in E&&n(12,b=E.xSpread),"destroyOnComplete"in E&&n(18,A=E.destroyOnComplete),"disableForReducedMotion"in E&&n(13,w=E.disableForReducedMotion)},[o,i,r,l,a,s,c,d,p,h,_,y,b,w,D,V,u,f,A]}class W4 extends we{constructor(e){super(),ye(this,e,H4,$4,fe,{size:0,x:1,y:2,duration:3,infinite:4,delay:5,colorRange:16,colorArray:17,amount:6,iterationCount:7,fallDistance:8,rounded:9,cone:10,noGravity:11,xSpread:12,destroyOnComplete:18,disableForReducedMotion:13})}}function K4(t){let e,n,o;return{c(){e=O("div"),M(e,"class",n="h-full w-full flex-1 "+t[3]+" transition-all"),M(e,"style",o=`transform: translateX(-${100-100*(t[2]??0)/(t[1]??1)}%)`)},m(i,r){I(i,e,r)},p(i,r){r&8&&n!==(n="h-full w-full flex-1 "+i[3]+" transition-all")&&M(e,"class",n),r&6&&o!==(o=`transform: translateX(-${100-100*(i[2]??0)/(i[1]??1)}%)`)&&M(e,"style",o)},d(i){i&&T(e)}}}function U4(t){let e,n;const o=[{class:Le("relative h-4 w-full overflow-hidden rounded-full bg-white",t[0])},t[4]];let i={$$slots:{default:[K4]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Y(i,o[r]);return e=new y1({props:i}),{c(){z(e.$$.fragment)},m(r,l){Z(e,r,l),n=!0},p(r,[l]){const a=l&17?ve(o,[l&1&&{class:Le("relative h-4 w-full overflow-hidden rounded-full bg-white",r[0])},l&16&&at(r[4])]):{};l&46&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){Q(e,r)}}}function Y4(t,e,n){const o=["class","max","value","color"];let i=re(e,o),{class:r=void 0}=e,{max:l=100}=e,{value:a=void 0}=e,{color:s="bg-secondary"}=e;return t.$$set=u=>{e=Y(Y({},e),Ee(u)),n(4,i=re(e,o)),"class"in u&&n(0,r=u.class),"max"in u&&n(1,l=u.max),"value"in u&&n(2,a=u.value),"color"in u&&n(3,s=u.color)},[r,l,a,s,i]}class cl extends we{constructor(e){super(),ye(this,e,Y4,U4,fe,{class:0,max:1,value:2,color:3})}}function X4(t){let e;const n=t[5].default,o=de(n,t,t[6],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&64)&&pe(o,n,i,i[6],e?me(n,i[6],r,null):_e(i[6]),null)},i(i){e||(k(o,i),e=!0)},o(i){S(o,i),e=!1},d(i){o&&o.d(i)}}}function J4(t){let e,n;const o=[{transition:t[2]},{transitionConfig:t[3]},{sideOffset:t[1]},{class:Le("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-black shadow-md",t[0])},t[4]];let i={$$slots:{default:[X4]},$$scope:{ctx:t}};for(let r=0;r<o.length;r+=1)i=Y(i,o[r]);return e=new sb({props:i}),{c(){z(e.$$.fragment)},m(r,l){Z(e,r,l),n=!0},p(r,[l]){const a=l&31?ve(o,[l&4&&{transition:r[2]},l&8&&{transitionConfig:r[3]},l&2&&{sideOffset:r[1]},l&1&&{class:Le("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-black shadow-md",r[0])},l&16&&at(r[4])]):{};l&64&&(a.$$scope={dirty:l,ctx:r}),e.$set(a)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){Q(e,r)}}}function x4(t,e,n){const o=["class","sideOffset","transition","transitionConfig"];let i=re(e,o),{$$slots:r={},$$scope:l}=e,{class:a=void 0}=e,{sideOffset:s=4}=e,{transition:u=Ar}=e,{transitionConfig:f={y:8,duration:150}}=e;return t.$$set=c=>{e=Y(Y({},e),Ee(c)),n(4,i=re(e,o)),"class"in c&&n(0,a=c.class),"sideOffset"in c&&n(1,s=c.sideOffset),"transition"in c&&n(2,u=c.transition),"transitionConfig"in c&&n(3,f=c.transitionConfig),"$$scope"in c&&n(6,l=c.$$scope)},[a,s,u,f,i,r,l]}class ri extends we{constructor(e){super(),ye(this,e,x4,J4,fe,{class:0,sideOffset:1,transition:2,transitionConfig:3})}}const li=U1,si=pb;function Z4(t){let e,n,o=t[0].economyAndLaws.weeklyProfit+"",i;return{c(){e=O("span"),n=$("+$"),i=$(o),M(e,"class","text-textPrimary")},m(r,l){I(r,e,l),v(e,n),v(e,i)},p(r,l){l&1&&o!==(o=r[0].economyAndLaws.weeklyProfit+"")&&se(i,o)},d(r){r&&T(e)}}}function Q4(t){let e,n=t[0].economyAndLaws.weeklyProfit+"",o;return{c(){e=O("span"),o=$(n),M(e,"class","text-textDanger2")},m(i,r){I(i,e,r),v(e,o)},p(i,r){r&1&&n!==(n=i[0].economyAndLaws.weeklyProfit+"")&&se(o,n)},d(i){i&&T(e)}}}function z4(t){let e,n,o=t[0].economyAndLaws.weeklyProfit+"",i;return{c(){e=O("span"),n=$("+$"),i=$(o),M(e,"class","text-textHappy")},m(r,l){I(r,e,l),v(e,n),v(e,i)},p(r,l){l&1&&o!==(o=r[0].economyAndLaws.weeklyProfit+"")&&se(i,o)},d(r){r&&T(e)}}}function e3(t){let e=st(t[0].townInfo.employees/t[0].townInfo.population_count*100,0)+"",n,o,i=t[0].townInfo.employees+"",r,l,a=t[0].townInfo.population_count+"",s,u,f=t[0].townInfo.population_count-t[0].townInfo.employees+"",c,d;return{c(){n=$(e),o=$("% employment ("),r=$(i),l=$("/"),s=$(a),u=$(" - "),c=$(f),d=$(" unemployed)")},m(p,h){I(p,n,h),I(p,o,h),I(p,r,h),I(p,l,h),I(p,s,h),I(p,u,h),I(p,c,h),I(p,d,h)},p(p,h){h&1&&e!==(e=st(p[0].townInfo.employees/p[0].townInfo.population_count*100,0)+"")&&se(n,e),h&1&&i!==(i=p[0].townInfo.employees+"")&&se(r,i),h&1&&a!==(a=p[0].townInfo.population_count+"")&&se(s,a),h&1&&f!==(f=p[0].townInfo.population_count-p[0].townInfo.employees+"")&&se(c,f)},d(p){p&&(T(n),T(o),T(r),T(l),T(s),T(u),T(c),T(d))}}}function t3(t){let e;function n(r,l){return r[0].townInfo.population_count===0?o3:n3}let o=n(t),i=o(t);return{c(){i.c(),e=De()},m(r,l){i.m(r,l),I(r,e,l)},p(r,l){o!==(o=n(r))&&(i.d(1),i=o(r),i&&(i.c(),i.m(e.parentNode,e)))},d(r){r&&T(e),i.d(r)}}}function n3(t){let e;return{c(){e=$("All citizens employed")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function o3(t){let e;return{c(){e=$("Nobody lives here , build some homes")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function i3(t){let e;return{c(){e=O("div"),e.textContent="Manage Knowledge"},m(n,o){I(n,e,o)},p:Ae,d(n){n&&T(e)}}}function _f(t){let e;function n(r,l){if(r[0].lab.active_experiment.duration>0)return l3;if(r[0].lab.active_experiment.duration===0)return r3}let o=n(t),i=o&&o(t);return{c(){i&&i.c(),e=De()},m(r,l){i&&i.m(r,l),I(r,e,l)},p(r,l){o===(o=n(r))&&i?i.p(r,l):(i&&i.d(1),i=o&&o(r),i&&(i.c(),i.m(e.parentNode,e)))},d(r){r&&T(e),i&&i.d(r)}}}function r3(t){let e;return{c(){e=O("span"),e.textContent="✅ DONE!",M(e,"class","animate-pulse ")},m(n,o){I(n,e,o)},p:Ae,d(n){n&&T(e)}}}function l3(t){let e,n=t[0].lab.active_experiment.duration+"",o,i;return{c(){e=O("span"),o=$(n),i=$("d")},m(r,l){I(r,e,l),v(e,o),v(e,i)},p(r,l){l&1&&n!==(n=r[0].lab.active_experiment.duration+"")&&se(o,n)},d(r){r&&T(e)}}}function s3(t){let e,n,o,i=t[0].lab.active_experiment!==null&&_f(t);return{c(){e=O("div"),e.textContent="Manage Lab",n=G(),i&&i.c(),o=De()},m(r,l){I(r,e,l),I(r,n,l),i&&i.m(r,l),I(r,o,l)},p(r,l){r[0].lab.active_experiment!==null?i?i.p(r,l):(i=_f(r),i.c(),i.m(o.parentNode,o)):i&&(i.d(1),i=null)},d(r){r&&(T(e),T(n),T(o)),i&&i.d(r)}}}function hf(t){let e,n,o,i;return o=new li({props:{openDelay:200,closeDelay:0,$$slots:{default:[f3]},$$scope:{ctx:t}}}),{c(){e=O("div"),n=O("div"),z(o.$$.fragment),M(n,"class","flex flex-row justify-center text-xs bg-white rounded-t-2xl text-black py-2 whitespace-nowrap px-2 opacity-50"),M(e,"class","flex flex-col justify-center items-center ")},m(r,l){I(r,e,l),v(e,n),Z(o,n,null),i=!0},p(r,l){const a={};l&16385&&(a.$$scope={dirty:l,ctx:r}),o.$set(a)},i(r){i||(k(o.$$.fragment,r),i=!0)},o(r){S(o.$$.fragment,r),i=!1},d(r){r&&T(e),Q(o)}}}function a3(t){let e,n,o,i,r=Lt[t[0].currentTutorialStep-1].goldReward+"",l;return{c(){e=O("span"),n=$(`Last reward
                  `),o=O("div"),i=$("💰"),l=$(r),M(e,"class","w-full no-select opacity-70 whitespace-nowrap text-center")},m(a,s){I(a,e,s),v(e,n),v(e,o),v(o,i),v(o,l)},p(a,s){s&1&&r!==(r=Lt[a[0].currentTutorialStep-1].goldReward+"")&&se(l,r)},d(a){a&&T(e)}}}function u3(t){let e,n=Lt[t[0].currentTutorialStep-1].message+"",o;return{c(){e=$("Last completed task: "),o=$(n)},m(i,r){I(i,e,r),I(i,o,r)},p(i,r){r&1&&n!==(n=Lt[i[0].currentTutorialStep-1].message+"")&&se(o,n)},d(i){i&&(T(e),T(o))}}}function f3(t){let e,n,o,i;return e=new si({props:{$$slots:{default:[a3]},$$scope:{ctx:t}}}),o=new ri({props:{class:"bg-black text-white rounded-2xl",$$slots:{default:[u3]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment),n=G(),z(o.$$.fragment)},m(r,l){Z(e,r,l),I(r,n,l),Z(o,r,l),i=!0},p(r,l){const a={};l&16385&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&16385&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),Q(e,r),Q(o,r)}}}function gf(t){let e,n;return e=new W4({props:{y:[-.5,.5],x:[-.5,.5],duration:2e3}}),{c(){z(e.$$.fragment)},m(o,i){Z(e,o,i),n=!0},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Q(e,o)}}}function c3(t){let e=Lt[t[0].currentTutorialStep].message+"",n,o,i,r,l=Lt[t[0].currentTutorialStep].goldReward+"",a,s;return{c(){n=$(e),o=G(),i=O("span"),r=$("(💰"),a=$(l),s=$(")"),M(i,"class","opacity-40")},m(u,f){I(u,n,f),I(u,o,f),I(u,i,f),v(i,r),v(i,a),v(i,s)},p(u,f){f&1&&e!==(e=Lt[u[0].currentTutorialStep].message+"")&&se(n,e),f&1&&l!==(l=Lt[u[0].currentTutorialStep].goldReward+"")&&se(a,l)},d(u){u&&(T(n),T(o),T(i))}}}function d3(t){let e;return{c(){e=$("No more goals!")},m(n,o){I(n,e,o)},p:Ae,d(n){n&&T(e)}}}function m3(t){let e,n,o,i,r,l,a,s,u,f,c=st(t[0].modifiers.happiness,2)+"",d,p,h,_,y,b,A,w,D=st(t[0].modifiers.health,2)+"",V,E,W,B,j,X,P,g,C=st(t[0].modifiers.community,2)+"",N,F,L,K,x,J,m,R,H,te,ie=t[0].townInfo.name+"",U,ke,ce,Ne,xe,Ge=t[0].townInfo.population_count+"",nt,Ce,je=t[0].townInfo.population_max+"",Ke,He,Ve,We,Me,Ye=t[0].townInfo.gold+"",ue,Se,jt,Et,mt,ot,ge,Ue,q,ys,Io,ws,Dr,ks,Kn,an,Cs,un,As,Oo,qt,Lr,Fr,Un,ai,Ss,Po,ui,Ts,fi,ci,fn,jr,Is,Yn,Xn,di,Os,mi,pi=t[0].environment.day%365+1+"",qr,Ps,Jn,_i,Ms,hi,gi=Math.floor(t[0].environment.day/365)+1+"",Br,Ns,cn,xn,Es,bi,Rs,Zn,Ds,vi,Ls,Qn,Fs,yi,wi,lt,Gr,js;a=new bt({props:{class:"bg-white"}}),_=new cl({props:{value:t[0].townInfo.happiness,max:300,class:"w-full h-2",color:parseInt(t[0].townInfo.happiness)>200?"bg-green-500":parseInt(t[0].townInfo.happiness)>100?"bg-yellow-500":"bg-red-500"}}),B=new cl({props:{value:t[0].townInfo.health,max:300,class:"w-full h-2",color:parseInt(t[0].townInfo.health)>200?"bg-green-500":parseInt(t[0].townInfo.health)>100?"bg-yellow-500":"bg-red-500"}}),K=new cl({props:{value:t[0].townInfo.community,max:300,class:"w-full h-2",color:parseInt(t[0].townInfo.community)>200?"bg-green-500":parseInt(t[0].townInfo.community)>100?"bg-yellow-500":"bg-red-500"}});function qs(he,$e){return he[0].economyAndLaws.weeklyProfit>0?z4:he[0].economyAndLaws.weeklyProfit<0?Q4:Z4}let ki=qs(t),Bt=ki(t);function Bs(he,$e){return he[0].townInfo.employees==he[0].townInfo.population_count?t3:e3}let Ci=Bs(t),Gt=Ci(t);an=new Yt({props:{class:"text-xs flex flex-col h-min  bg-button cursor-pointer text-textPrimary p-1.5",$$slots:{default:[i3]},$$scope:{ctx:t}}}),an.$on("click",t[10]),un=new Yt({props:{class:"text-xs flex flex-col h-min p-1.5 "+(t[0].hasLab?"bg-button cursor-pointer text-textPrimary":"bg-button cursor-not-allowed text-textPrimary opacity-35"),$$slots:{default:[s3]},$$scope:{ctx:t}}}),un.$on("click",t[8]);let ut=t[0].currentTutorialStep!=0&&hf(t),ct=t[5]&&gf();function Gs(he,$e){return he[0].currentTutorialStep>=Lt.length?d3:c3}let Ai=Gs(t),Vt=Ai(t);return{c(){e=O("div"),n=O("div"),o=O("div"),i=O("span"),r=O("h2"),r.textContent="Stats",l=G(),z(a.$$.fragment),s=G(),u=O("span"),f=$("Happiness (x"),d=$(c),p=$(")"),h=G(),z(_.$$.fragment),y=G(),b=O("span"),A=O("span"),w=$("Health (x"),V=$(D),E=$(")"),W=G(),z(B.$$.fragment),j=G(),X=O("span"),P=O("span"),g=$("Community (x"),N=$(C),F=$(")"),L=G(),z(K.$$.fragment),x=G(),J=O("div"),m=O("div"),R=O("div"),H=O("div"),te=O("h1"),U=$(ie),ke=G(),ce=O("div"),Ne=O("span"),xe=$("👥 "),nt=$(Ge),Ce=$(" / "),Ke=$(je),He=G(),Ve=O("span"),We=O("span"),Me=$("💰 "),ue=$(Ye),Se=G(),jt=O("span"),Et=G(),Bt.c(),mt=G(),ot=O("span"),ot.textContent="(weekly)",ge=G(),Ue=O("div"),Gt.c(),ys=G(),Io=O("span"),ws=$("Game time: "),Dr=$(t[1]),ks=G(),Kn=O("div"),z(an.$$.fragment),Cs=G(),z(un.$$.fragment),As=G(),Oo=O("div"),qt=O("div"),ut&&ut.c(),Lr=G(),ct&&ct.c(),Fr=G(),Un=O("div"),ai=O("div"),ai.textContent="👨‍🦰",Ss=G(),Po=O("div"),Vt.c(),Ts=G(),fi=O("div"),ci=O("div"),fn=O("div"),jr=O("div"),jr.innerHTML='<span class="text-xs text-secondary cursor-pointer">Press P to Pause</span>',Is=G(),Yn=O("div"),Xn=O("span"),di=O("span"),di.textContent="Day",Os=G(),mi=O("span"),qr=$(pi),Ps=G(),Jn=O("span"),_i=O("span"),_i.textContent="Year",Ms=G(),hi=O("span"),Br=$(gi),Ns=G(),cn=O("div"),xn=O("span"),Es=$("Slow"),Rs=G(),Zn=O("span"),Ds=$("Normal"),Ls=G(),Qn=O("span"),Fs=$("Fast"),M(r,"class","text-lg text-white"),M(u,"class","text-xs"),M(A,"class","text-xs"),M(P,"class","text-xs"),M(o,"class","flex flex-col w-36 h-full justify-center text-foregroundText bg-accent p-2 rounded-xl"),M(te,"class","font-bold cursor-pointer w-full pb-2 text-start select-none"),M(H,"class","cursor-pointer transition-all duration=150 min-h-8"),M(Ne,"class","text-sm"),M(We,"class","text-sm"),M(jt,"class","pl-2"),M(ot,"class","text-gray-400"),M(Ve,"class","text-xs"),M(ce,"class","flex flex-row gap-4 flex-wrap items-center"),M(Ue,"class",q="text-xs pt-1 "+(t[0].townInfo.employees==t[0].townInfo.population_count?"text-textPrimary":t[0].townInfo.employees>t[0].townInfo.population_count*.95?"text-textDanger3":t[0].townInfo.employees>t[0].townInfo.population_count*.9?"text-textDanger2":"text-textDanger1")),M(Io,"class","text-xs text-secondary cursor-pointer"),M(R,"class","flex flex-col justify-between"),M(m,"class","rounded-xl"),M(Kn,"class","flex flex-row gap-2"),M(J,"class","flex justify-between flex-col"),M(n,"class","flex flex-row gap-6 my-2 h-max"),M(ai,"class","text-lg h-max"),M(Po,"class","text-xs ml-2 overflow-auto opacity-80"),M(Un,"class","gap flex-row items-center flex bg-white text-slate-800 py-1 px-2 rounded-xl w-full"),M(qt,"class","flex flex-col justify-center w-full align-middle items-center"),M(Oo,"class",ui="flex flex-row flex-wrap align-middle justify-center items-center w-64 "+(t[5]?"opacity-25 ":"")+" transition-all duration-700"),M(di,"class","text-xs"),M(mi,"class","font-semibold text-xs"),M(Xn,"class","flex flex-col gap-2 text-center"),M(_i,"class","text-xs"),M(hi,"class","font-semibold text-xs"),M(Jn,"class","flex flex-col gap-2 text-center"),M(Yn,"class","rounded-xl bg-accent flex-row justify-between text-accentText w-36 h-14 flex px-6 items-center mb-2"),M(xn,"class",bi=(t[2].toString()==="2000"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"),M(Zn,"class",vi=(t[2].toString()==="750"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"),M(Qn,"class",yi=(t[2].toString()==="200"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"),M(cn,"class","flex flex-row gap-2 align-middle justify-center items-center"),M(fn,"class","flex flex-col items-center h-max"),M(ci,"class","flex flex-col"),M(fi,"class","flex justify-center align-middle flex-col"),M(e,"class",wi="flex justify-between px-6 gap-6 flex-row text-start fixed top-0 left-0 right-0 cursor-default z-20 bg-foreground text-foregroundText h-max "+(t[3].visible?"opacity-70":""))},m(he,$e){I(he,e,$e),v(e,n),v(n,o),v(o,i),v(i,r),v(i,l),Z(a,i,null),v(i,s),v(i,u),v(u,f),v(u,d),v(u,p),v(i,h),Z(_,i,null),v(o,y),v(o,b),v(b,A),v(A,w),v(A,V),v(A,E),v(b,W),Z(B,b,null),v(o,j),v(o,X),v(X,P),v(P,g),v(P,N),v(P,F),v(X,L),Z(K,X,null),v(n,x),v(n,J),v(J,m),v(m,R),v(R,H),v(H,te),v(te,U),v(R,ke),v(R,ce),v(ce,Ne),v(Ne,xe),v(Ne,nt),v(Ne,Ce),v(Ne,Ke),v(ce,He),v(ce,Ve),v(Ve,We),v(We,Me),v(We,ue),v(Ve,Se),v(Ve,jt),v(Ve,Et),Bt.m(Ve,null),v(Ve,mt),v(Ve,ot),v(R,ge),v(R,Ue),Gt.m(Ue,null),v(R,ys),v(R,Io),v(Io,ws),v(Io,Dr),v(J,ks),v(J,Kn),Z(an,Kn,null),v(Kn,Cs),Z(un,Kn,null),v(e,As),v(e,Oo),v(Oo,qt),ut&&ut.m(qt,null),v(qt,Lr),ct&&ct.m(qt,null),v(qt,Fr),v(qt,Un),v(Un,ai),v(Un,Ss),v(Un,Po),Vt.m(Po,null),v(e,Ts),v(e,fi),v(fi,ci),v(ci,fn),v(fn,jr),v(fn,Is),v(fn,Yn),v(Yn,Xn),v(Xn,di),v(Xn,Os),v(Xn,mi),v(mi,qr),v(Yn,Ps),v(Yn,Jn),v(Jn,_i),v(Jn,Ms),v(Jn,hi),v(hi,Br),v(fn,Ns),v(fn,cn),v(cn,xn),v(xn,Es),v(cn,Rs),v(cn,Zn),v(Zn,Ds),v(cn,Ls),v(cn,Qn),v(Qn,Fs),lt=!0,Gr||(js=[ee(H,"click",t[6]),ee(xn,"click",t[11]),ee(Zn,"click",t[12]),ee(Qn,"click",t[13])],Gr=!0)},p(he,[$e]){(!lt||$e&1)&&c!==(c=st(he[0].modifiers.happiness,2)+"")&&se(d,c);const Vr={};$e&1&&(Vr.value=he[0].townInfo.happiness),$e&1&&(Vr.color=parseInt(he[0].townInfo.happiness)>200?"bg-green-500":parseInt(he[0].townInfo.happiness)>100?"bg-yellow-500":"bg-red-500"),_.$set(Vr),(!lt||$e&1)&&D!==(D=st(he[0].modifiers.health,2)+"")&&se(V,D);const $r={};$e&1&&($r.value=he[0].townInfo.health),$e&1&&($r.color=parseInt(he[0].townInfo.health)>200?"bg-green-500":parseInt(he[0].townInfo.health)>100?"bg-yellow-500":"bg-red-500"),B.$set($r),(!lt||$e&1)&&C!==(C=st(he[0].modifiers.community,2)+"")&&se(N,C);const Hr={};$e&1&&(Hr.value=he[0].townInfo.community),$e&1&&(Hr.color=parseInt(he[0].townInfo.community)>200?"bg-green-500":parseInt(he[0].townInfo.community)>100?"bg-yellow-500":"bg-red-500"),K.$set(Hr),(!lt||$e&1)&&ie!==(ie=he[0].townInfo.name+"")&&se(U,ie),(!lt||$e&1)&&Ge!==(Ge=he[0].townInfo.population_count+"")&&se(nt,Ge),(!lt||$e&1)&&je!==(je=he[0].townInfo.population_max+"")&&se(Ke,je),(!lt||$e&1)&&Ye!==(Ye=he[0].townInfo.gold+"")&&se(ue,Ye),ki===(ki=qs(he))&&Bt?Bt.p(he,$e):(Bt.d(1),Bt=ki(he),Bt&&(Bt.c(),Bt.m(Ve,mt))),Ci===(Ci=Bs(he))&&Gt?Gt.p(he,$e):(Gt.d(1),Gt=Ci(he),Gt&&(Gt.c(),Gt.m(Ue,null))),(!lt||$e&1&&q!==(q="text-xs pt-1 "+(he[0].townInfo.employees==he[0].townInfo.population_count?"text-textPrimary":he[0].townInfo.employees>he[0].townInfo.population_count*.95?"text-textDanger3":he[0].townInfo.employees>he[0].townInfo.population_count*.9?"text-textDanger2":"text-textDanger1")))&&M(Ue,"class",q),(!lt||$e&2)&&se(Dr,he[1]);const Vs={};$e&16384&&(Vs.$$scope={dirty:$e,ctx:he}),an.$set(Vs);const Wr={};$e&1&&(Wr.class="text-xs flex flex-col h-min p-1.5 "+(he[0].hasLab?"bg-button cursor-pointer text-textPrimary":"bg-button cursor-not-allowed text-textPrimary opacity-35")),$e&16385&&(Wr.$$scope={dirty:$e,ctx:he}),un.$set(Wr),he[0].currentTutorialStep!=0?ut?(ut.p(he,$e),$e&1&&k(ut,1)):(ut=hf(he),ut.c(),k(ut,1),ut.m(qt,Lr)):ut&&(Te(),S(ut,1,1,()=>{ut=null}),Ie()),he[5]?ct?$e&32&&k(ct,1):(ct=gf(),ct.c(),k(ct,1),ct.m(qt,Fr)):ct&&(Te(),S(ct,1,1,()=>{ct=null}),Ie()),Ai===(Ai=Gs(he))&&Vt?Vt.p(he,$e):(Vt.d(1),Vt=Ai(he),Vt&&(Vt.c(),Vt.m(Po,null))),(!lt||$e&32&&ui!==(ui="flex flex-row flex-wrap align-middle justify-center items-center w-64 "+(he[5]?"opacity-25 ":"")+" transition-all duration-700"))&&M(Oo,"class",ui),(!lt||$e&1)&&pi!==(pi=he[0].environment.day%365+1+"")&&se(qr,pi),(!lt||$e&1)&&gi!==(gi=Math.floor(he[0].environment.day/365)+1+"")&&se(Br,gi),(!lt||$e&4&&bi!==(bi=(he[2].toString()==="2000"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"))&&M(xn,"class",bi),(!lt||$e&4&&vi!==(vi=(he[2].toString()==="750"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"))&&M(Zn,"class",vi),(!lt||$e&4&&yi!==(yi=(he[2].toString()==="200"?"text-textPrimary font-semibold text-lg transition-all duration-100":"text-md")+" text-accent cursor-pointer"))&&M(Qn,"class",yi),(!lt||$e&8&&wi!==(wi="flex justify-between px-6 gap-6 flex-row text-start fixed top-0 left-0 right-0 cursor-default z-20 bg-foreground text-foregroundText h-max "+(he[3].visible?"opacity-70":"")))&&M(e,"class",wi)},i(he){lt||(k(a.$$.fragment,he),k(_.$$.fragment,he),k(B.$$.fragment,he),k(K.$$.fragment,he),k(an.$$.fragment,he),k(un.$$.fragment,he),k(ut),k(ct),lt=!0)},o(he){S(a.$$.fragment,he),S(_.$$.fragment,he),S(B.$$.fragment,he),S(K.$$.fragment,he),S(an.$$.fragment,he),S(un.$$.fragment,he),S(ut),S(ct),lt=!1},d(he){he&&T(e),Q(a),Q(_),Q(B),Q(K),Bt.d(),Gt.d(),Q(an),Q(un),ut&&ut.d(),ct&&ct.d(),Vt.d(),Gr=!1,Be(js)}}}function p3(t,e,n){let o,i,r,l,a;ae(t,Re,b=>n(0,o=b)),ae(t,_l,b=>n(2,i=b)),ae(t,tt,b=>n(3,r=b)),ae(t,Zi,b=>n(4,l=b)),ae(t,ji,b=>n(5,a=b)),wr(()=>{const b=setInterval(()=>{Pe(Re,o.timeSpent+=1e3,o)},1e3);return()=>{clearInterval(b)}});function s(){let b=prompt("Enter a new name for your town (under 200 chars)");if(b&&b.length<200&&b.length>=1){let A=o;A.townInfo.name=b,Re.set(A),localStorage.setItem(Mt,JSON.stringify(A))}}function u(b){return Pe(_l,i=b,i),document.querySelectorAll(".speedButton").forEach(w=>{w.classList.remove("active")}),i}function f(){let b=o;b.hasBank===!0?(b.townInfo.gold+=b.townInfo.gold_from_tourism,b.townInfo.gold_from_tourism=0,Re.set(b),localStorage.setItem(Mt,JSON.stringify(b))):alert("You need a bank to transfer funds from tourism activities.")}function c(){o.hasLab&&qi.set(!0)}let d="00:00:00";const p=function(){Pe(Zi,l=!l,l)},h=()=>u(2e3),_=()=>u(750),y=()=>u(200);return t.$$.update=()=>{t.$$.dirty&1&&(o.timeSpent>0?n(1,d=dp(o.timeSpent)):n(1,d="00:00:00"))},[o,d,i,r,l,a,s,u,c,f,p,h,_,y]}class _3 extends we{constructor(e){super(),ye(this,e,p3,m3,fe,{transferFundsFromBank:9})}get transferFundsFromBank(){return this.$$.ctx[9]}}function bf(t,e,n){const o=t.slice();return o[4]=e[n],o[6]=n,o}function vf(t,e,n){const o=t.slice();return o[4]=e[n],o[6]=n,o}function yf(t,e,n){const o=t.slice();return o[4]=e[n],o[6]=n,o}function wf(t){let e,n,o=oe[be(t[0].id)].title+"",i,r,l,a=oe[be(t[0].id)].description+"",s,u,f,c,d,p,h,_,y,b=t[3]("💰",oe[be(t[0].id)].requirements.gold,t[2].townInfo.gold)+"",A,w,D=t[3]("🥕",oe[be(t[0].id)].requirements.resources.food,t[2].resources.food)+"",V,E,W=t[3]("🧠",oe[be(t[0].id)].requirements.knowledge,t[2].townInfo.knowledge_points)+"",B,j,X=t[3]("🪵",oe[be(t[0].id)].requirements.resources.wood,t[2].resources.wood)+"",P,g,C=t[3]("🪨",oe[be(t[0].id)].requirements.resources.stone,t[2].resources.stone)+"",N,F,L=t[3]("🧲",oe[be(t[0].id)].requirements.resources.metal,t[2].resources.metal)+"",K,x,J=t[3]("🔋",oe[be(t[0].id)].active_costs.power,t[2].resources.power)+"",m,R,H=t[3]("🧑‍⚖️",oe[be(t[0].id)].requirements.resources.bureaucracy,t[2].resources.bureaucracy)+"",te,ie=oe[be(t[0].id)].requirements.employees!=0,U,ke=oe[be(t[0].id)].revenue_per_week!=0,ce,Ne=Object.values(oe[be(t[0].id)].immediate_variable_changes).some(Lf),xe,Ge=Object.values(oe[be(t[0].id)].active_costs).some(Df),nt,Ce=Object.values(oe[be(t[0].id)].generated_resources).some(Rf),je,Ke;c=new bt({props:{class:"bg-secondary opacity-25 mt-1"}});let He=ie&&kf(t),Ve=ke&&Cf(t),We=Ne&&Af(t),Me=Ge&&If(t),Ye=Ce&&Mf(t);return{c(){e=O("div"),n=O("span"),i=$(o),r=G(),l=O("span"),s=$(a),u=G(),f=O("div"),z(c.$$.fragment),d=G(),p=O("span"),p.textContent="Resources",h=G(),_=O("div"),y=new pn(!1),A=G(),w=new pn(!1),V=G(),E=new pn(!1),B=G(),j=new pn(!1),P=G(),g=new pn(!1),N=G(),F=new pn(!1),K=G(),x=new pn(!1),m=G(),R=new pn(!1),te=G(),He&&He.c(),U=G(),Ve&&Ve.c(),ce=G(),We&&We.c(),xe=G(),Me&&Me.c(),nt=G(),Ye&&Ye.c(),je=De(),M(n,"class","text-md"),M(l,"class","text-xs"),M(e,"class","flex flex-col gap-2"),M(p,"class","font-semibold"),y.a=A,w.a=V,E.a=B,j.a=P,g.a=N,F.a=K,x.a=m,R.a=null,M(_,"class","flex flex-col gap-1"),M(f,"class","flex flex-col w-36 h-min pb-2 gap-1 text-xs")},m(ue,Se){I(ue,e,Se),v(e,n),v(n,i),v(e,r),v(e,l),v(l,s),I(ue,u,Se),I(ue,f,Se),Z(c,f,null),v(f,d),v(f,p),v(f,h),v(f,_),y.m(b,_),v(_,A),w.m(D,_),v(_,V),E.m(W,_),v(_,B),j.m(X,_),v(_,P),g.m(C,_),v(_,N),F.m(L,_),v(_,K),x.m(J,_),v(_,m),R.m(H,_),I(ue,te,Se),He&&He.m(ue,Se),I(ue,U,Se),Ve&&Ve.m(ue,Se),I(ue,ce,Se),We&&We.m(ue,Se),I(ue,xe,Se),Me&&Me.m(ue,Se),I(ue,nt,Se),Ye&&Ye.m(ue,Se),I(ue,je,Se),Ke=!0},p(ue,Se){(!Ke||Se&1)&&o!==(o=oe[be(ue[0].id)].title+"")&&se(i,o),(!Ke||Se&1)&&a!==(a=oe[be(ue[0].id)].description+"")&&se(s,a),(!Ke||Se&5)&&b!==(b=ue[3]("💰",oe[be(ue[0].id)].requirements.gold,ue[2].townInfo.gold)+"")&&y.p(b),(!Ke||Se&5)&&D!==(D=ue[3]("🥕",oe[be(ue[0].id)].requirements.resources.food,ue[2].resources.food)+"")&&w.p(D),(!Ke||Se&5)&&W!==(W=ue[3]("🧠",oe[be(ue[0].id)].requirements.knowledge,ue[2].townInfo.knowledge_points)+"")&&E.p(W),(!Ke||Se&5)&&X!==(X=ue[3]("🪵",oe[be(ue[0].id)].requirements.resources.wood,ue[2].resources.wood)+"")&&j.p(X),(!Ke||Se&5)&&C!==(C=ue[3]("🪨",oe[be(ue[0].id)].requirements.resources.stone,ue[2].resources.stone)+"")&&g.p(C),(!Ke||Se&5)&&L!==(L=ue[3]("🧲",oe[be(ue[0].id)].requirements.resources.metal,ue[2].resources.metal)+"")&&F.p(L),(!Ke||Se&5)&&J!==(J=ue[3]("🔋",oe[be(ue[0].id)].active_costs.power,ue[2].resources.power)+"")&&x.p(J),(!Ke||Se&5)&&H!==(H=ue[3]("🧑‍⚖️",oe[be(ue[0].id)].requirements.resources.bureaucracy,ue[2].resources.bureaucracy)+"")&&R.p(H),Se&1&&(ie=oe[be(ue[0].id)].requirements.employees!=0),ie?He?(He.p(ue,Se),Se&1&&k(He,1)):(He=kf(ue),He.c(),k(He,1),He.m(U.parentNode,U)):He&&(Te(),S(He,1,1,()=>{He=null}),Ie()),Se&1&&(ke=oe[be(ue[0].id)].revenue_per_week!=0),ke?Ve?(Ve.p(ue,Se),Se&1&&k(Ve,1)):(Ve=Cf(ue),Ve.c(),k(Ve,1),Ve.m(ce.parentNode,ce)):Ve&&(Te(),S(Ve,1,1,()=>{Ve=null}),Ie()),Se&1&&(Ne=Object.values(oe[be(ue[0].id)].immediate_variable_changes).some(Lf)),Ne?We?(We.p(ue,Se),Se&1&&k(We,1)):(We=Af(ue),We.c(),k(We,1),We.m(xe.parentNode,xe)):We&&(Te(),S(We,1,1,()=>{We=null}),Ie()),Se&1&&(Ge=Object.values(oe[be(ue[0].id)].active_costs).some(Df)),Ge?Me?(Me.p(ue,Se),Se&1&&k(Me,1)):(Me=If(ue),Me.c(),k(Me,1),Me.m(nt.parentNode,nt)):Me&&(Te(),S(Me,1,1,()=>{Me=null}),Ie()),Se&1&&(Ce=Object.values(oe[be(ue[0].id)].generated_resources).some(Rf)),Ce?Ye?(Ye.p(ue,Se),Se&1&&k(Ye,1)):(Ye=Mf(ue),Ye.c(),k(Ye,1),Ye.m(je.parentNode,je)):Ye&&(Te(),S(Ye,1,1,()=>{Ye=null}),Ie())},i(ue){Ke||(k(c.$$.fragment,ue),k(He),k(Ve),k(We),k(Me),k(Ye),Ke=!0)},o(ue){S(c.$$.fragment,ue),S(He),S(Ve),S(We),S(Me),S(Ye),Ke=!1},d(ue){ue&&(T(e),T(u),T(f),T(te),T(U),T(ce),T(xe),T(nt),T(je)),Q(c),He&&He.d(ue),Ve&&Ve.d(ue),We&&We.d(ue),Me&&Me.d(ue),Ye&&Ye.d(ue)}}}function kf(t){let e,n,o,i,r,l,a=oe[be(t[0].id)].requirements.employees+"",s,u,f,c;return n=new bt({props:{class:"bg-secondary opacity-25 mt-2"}}),{c(){e=O("div"),z(n.$$.fragment),o=G(),i=O("span"),i.textContent="Required employees",r=G(),l=O("span"),s=$(a),u=$(" employees"),M(i,"class","font-semibold"),M(l,"class",f=oe[be(t[0].id)].requirements.employees>t[2].townInfo.population_count-t[2].townInfo.employees&&t[1]?"px-1 text-textDanger1 font-bold border-2 border-red-400":""),M(e,"class","flex flex-col gap-1 text-xs")},m(d,p){I(d,e,p),Z(n,e,null),v(e,o),v(e,i),v(e,r),v(e,l),v(l,s),v(l,u),c=!0},p(d,p){(!c||p&1)&&a!==(a=oe[be(d[0].id)].requirements.employees+"")&&se(s,a),(!c||p&7&&f!==(f=oe[be(d[0].id)].requirements.employees>d[2].townInfo.population_count-d[2].townInfo.employees&&d[1]?"px-1 text-textDanger1 font-bold border-2 border-red-400":""))&&M(l,"class",f)},i(d){c||(k(n.$$.fragment,d),c=!0)},o(d){S(n.$$.fragment,d),c=!1},d(d){d&&T(e),Q(n)}}}function Cf(t){let e,n,o,i,r,l,a,s=oe[be(t[0].id)].revenue_per_week+"",u,f;return n=new bt({props:{class:"bg-secondary opacity-25 mt-2"}}),{c(){e=O("div"),z(n.$$.fragment),o=G(),i=O("span"),i.textContent="Weekly revenue",r=G(),l=O("span"),a=$("💰 "),u=$(s),M(i,"class","font-semibold"),M(e,"class","flex flex-col gap-1 text-xs")},m(c,d){I(c,e,d),Z(n,e,null),v(e,o),v(e,i),v(e,r),v(e,l),v(l,a),v(l,u),f=!0},p(c,d){(!f||d&1)&&s!==(s=oe[be(c[0].id)].revenue_per_week+"")&&se(u,s)},i(c){f||(k(n.$$.fragment,c),f=!0)},o(c){S(n.$$.fragment,c),f=!1},d(c){c&&T(e),Q(n)}}}function Af(t){let e,n,o,i,r,l;n=new bt({props:{class:"bg-secondary opacity-25 mt-2"}});let a=Je(Object.keys(oe[be(t[0].id)].immediate_variable_changes)),s=[];for(let u=0;u<a.length;u+=1)s[u]=Tf(yf(t,a,u));return{c(){e=O("div"),z(n.$$.fragment),o=G(),i=O("span"),i.textContent="Instant changes",r=G();for(let u=0;u<s.length;u+=1)s[u].c();M(i,"class","font-semibold"),M(e,"class","flex flex-col gap-1 text-xs")},m(u,f){I(u,e,f),Z(n,e,null),v(e,o),v(e,i),v(e,r);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(e,null);l=!0},p(u,f){if(f&1){a=Je(Object.keys(oe[be(u[0].id)].immediate_variable_changes));let c;for(c=0;c<a.length;c+=1){const d=yf(u,a,c);s[c]?s[c].p(d,f):(s[c]=Tf(d),s[c].c(),s[c].m(e,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=a.length}},i(u){l||(k(n.$$.fragment,u),l=!0)},o(u){S(n.$$.fragment,u),l=!1},d(u){u&&T(e),Q(n),vt(s,u)}}}function Sf(t){let e,n=vn(t[4])+"",o,i,r=er(Object.values(oe[be(t[0].id)].immediate_variable_changes)[t[6]],t[4]!="population")+"",l,a,s;return{c(){e=O("span"),o=$(n),i=G(),l=$(r),a=G(),M(e,"class",s=Object.values(oe[be(t[0].id)].immediate_variable_changes)[t[6]]>0?"text-textHappyDark":"text-textDanger1")},m(u,f){I(u,e,f),v(e,o),v(e,i),v(e,l),v(e,a)},p(u,f){f&1&&n!==(n=vn(u[4])+"")&&se(o,n),f&1&&r!==(r=er(Object.values(oe[be(u[0].id)].immediate_variable_changes)[u[6]],u[4]!="population")+"")&&se(l,r),f&1&&s!==(s=Object.values(oe[be(u[0].id)].immediate_variable_changes)[u[6]]>0?"text-textHappyDark":"text-textDanger1")&&M(e,"class",s)},d(u){u&&T(e)}}}function Tf(t){let e=Object.values(oe[be(t[0].id)].immediate_variable_changes)[t[6]]!=0,n,o=e&&Sf(t);return{c(){o&&o.c(),n=De()},m(i,r){o&&o.m(i,r),I(i,n,r)},p(i,r){r&1&&(e=Object.values(oe[be(i[0].id)].immediate_variable_changes)[i[6]]!=0),e?o?o.p(i,r):(o=Sf(i),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(i){i&&T(n),o&&o.d(i)}}}function If(t){let e,n,o,i,r,l;n=new bt({props:{class:"bg-secondary opacity-25 mt-2"}});let a=Je(Object.keys(oe[be(t[0].id)].active_costs)),s=[];for(let u=0;u<a.length;u+=1)s[u]=Pf(vf(t,a,u));return{c(){e=O("div"),z(n.$$.fragment),o=G(),i=O("span"),i.textContent="Weekly Costs",r=G();for(let u=0;u<s.length;u+=1)s[u].c();M(i,"class","font-semibold"),M(e,"class","flex flex-col gap-1 text-xs")},m(u,f){I(u,e,f),Z(n,e,null),v(e,o),v(e,i),v(e,r);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(e,null);l=!0},p(u,f){if(f&1){a=Je(Object.keys(oe[be(u[0].id)].active_costs));let c;for(c=0;c<a.length;c+=1){const d=vf(u,a,c);s[c]?s[c].p(d,f):(s[c]=Pf(d),s[c].c(),s[c].m(e,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=a.length}},i(u){l||(k(n.$$.fragment,u),l=!0)},o(u){S(n.$$.fragment,u),l=!1},d(u){u&&T(e),Q(n),vt(s,u)}}}function Of(t){let e,n=vn(t[4])+"",o,i,r=br(t[4])+"",l,a,s=-1*Object.values(oe[be(t[0].id)].active_costs)[t[6]]+"",u,f,c;return{c(){e=O("span"),o=$(n),i=G(),l=$(r),a=G(),u=$(s),f=G(),M(e,"class",c=Object.values(oe[be(t[0].id)].active_costs)[t[6]]>0?"text-textDanger1":"text-textHappyDark")},m(d,p){I(d,e,p),v(e,o),v(e,i),v(e,l),v(e,a),v(e,u),v(e,f)},p(d,p){p&1&&n!==(n=vn(d[4])+"")&&se(o,n),p&1&&r!==(r=br(d[4])+"")&&se(l,r),p&1&&s!==(s=-1*Object.values(oe[be(d[0].id)].active_costs)[d[6]]+"")&&se(u,s),p&1&&c!==(c=Object.values(oe[be(d[0].id)].active_costs)[d[6]]>0?"text-textDanger1":"text-textHappyDark")&&M(e,"class",c)},d(d){d&&T(e)}}}function Pf(t){let e=Object.values(oe[be(t[0].id)].active_costs)[t[6]]!=0,n,o=e&&Of(t);return{c(){o&&o.c(),n=De()},m(i,r){o&&o.m(i,r),I(i,n,r)},p(i,r){r&1&&(e=Object.values(oe[be(i[0].id)].active_costs)[i[6]]!=0),e?o?o.p(i,r):(o=Of(i),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(i){i&&T(n),o&&o.d(i)}}}function Mf(t){let e,n,o,i,r,l;n=new bt({props:{class:"bg-secondary opacity-25 mt-2"}});let a=Je(Object.keys(oe[be(t[0].id)].generated_resources)),s=[];for(let u=0;u<a.length;u+=1)s[u]=Ef(bf(t,a,u));return{c(){e=O("div"),z(n.$$.fragment),o=G(),i=O("span"),i.textContent="Generated Resources",r=G();for(let u=0;u<s.length;u+=1)s[u].c();M(i,"class","font-semibold"),M(e,"class","flex flex-col gap-1 text-xs")},m(u,f){I(u,e,f),Z(n,e,null),v(e,o),v(e,i),v(e,r);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(e,null);l=!0},p(u,f){if(f&1){a=Je(Object.keys(oe[be(u[0].id)].generated_resources));let c;for(c=0;c<a.length;c+=1){const d=bf(u,a,c);s[c]?s[c].p(d,f):(s[c]=Ef(d),s[c].c(),s[c].m(e,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=a.length}},i(u){l||(k(n.$$.fragment,u),l=!0)},o(u){S(n.$$.fragment,u),l=!1},d(u){u&&T(e),Q(n),vt(s,u)}}}function Nf(t){let e,n=br(t[4])+"",o,i,r=vn(t[4])+"",l,a,s=er(Object.values(oe[be(t[0].id)].generated_resources)[t[6]],!1)+"",u,f,c;return{c(){e=O("span"),o=$(n),i=G(),l=$(r),a=G(),u=$(s),f=G(),M(e,"class",c=Object.values(oe[be(t[0].id)].generated_resources)[t[6]]>0?"text-textHappyDark":"text-textDanger1")},m(d,p){I(d,e,p),v(e,o),v(e,i),v(e,l),v(e,a),v(e,u),v(e,f)},p(d,p){p&1&&n!==(n=br(d[4])+"")&&se(o,n),p&1&&r!==(r=vn(d[4])+"")&&se(l,r),p&1&&s!==(s=er(Object.values(oe[be(d[0].id)].generated_resources)[d[6]],!1)+"")&&se(u,s),p&1&&c!==(c=Object.values(oe[be(d[0].id)].generated_resources)[d[6]]>0?"text-textHappyDark":"text-textDanger1")&&M(e,"class",c)},d(d){d&&T(e)}}}function Ef(t){let e=Object.values(oe[be(t[0].id)].generated_resources)[t[6]]!=0,n,o=e&&Nf(t);return{c(){o&&o.c(),n=De()},m(i,r){o&&o.m(i,r),I(i,n,r)},p(i,r){r&1&&(e=Object.values(oe[be(i[0].id)].generated_resources)[i[6]]!=0),e?o?o.p(i,r):(o=Nf(i),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(i){i&&T(n),o&&o.d(i)}}}function h3(t){let e,n,o=t[0]!=null&&wf(t);return{c(){o&&o.c(),e=De()},m(i,r){o&&o.m(i,r),I(i,e,r),n=!0},p(i,[r]){i[0]!=null?o?(o.p(i,r),r&1&&k(o,1)):(o=wf(i),o.c(),k(o,1),o.m(e.parentNode,e)):o&&(Te(),S(o,1,1,()=>{o=null}),Ie())},i(i){n||(k(o),n=!0)},o(i){S(o),n=!1},d(i){i&&T(e),o&&o.d(i)}}}function br(t){switch(t){case"food":return"🥕";case"knowledge":return"🧠";case"wood":return"🪵";case"stone":return"🪨";case"metal":return"🧲";case"power":return"🔋";case"bureaucracy":return"🧑‍⚖️";default:return"💰"}}const Rf=t=>t!=0,Df=t=>t!=0,Lf=t=>t!=0;function g3(t,e,n){let o;ae(t,Re,a=>n(2,o=a));let{option:i}=e,{checkRequirements:r=!0}=e;function l(a,s,u){if(s==0||s==null)return"";let f="",c="";return u<s&&r&&(c="text-textDanger1 border-2 border-red-400"),f=`<span class='${c}'>${a} ${s}</span>`,f}return t.$$set=a=>{"option"in a&&n(0,i=a.option),"checkRequirements"in a&&n(1,r=a.checkRequirements)},[i,r,o,l]}class Jd extends we{constructor(e){super(),ye(this,e,g3,h3,fe,{option:0,checkRequirements:1})}}function Ff(t,e,n){const o=t.slice();return o[26]=e[n],o}function jf(t,e,n){const o=t.slice();return o[29]=e[n],o}function qf(t){let e,n,o,i,r,l,a,s,u,f,c,d,p=t[8].isMineralSource===!1&&Bf(t);const h=[v3,b3],_=[];function y(b,A){return b[8].isMineralSource===!0?0:1}return a=y(t),s=_[a]=h[a](t),{c(){e=O("div"),n=O("div"),o=O("div"),i=O("div"),r=O("div"),p&&p.c(),l=G(),s.c(),M(r,"class","flex flex-row w-full "),M(i,"class","text-sm"),M(o,"class","flex flex-col gap-2 px-2 no-scrollbar justify-end"),M(n,"class","text-xl items-center justify-center w-[90%] align-bottom bg-foreground border-4 border-gray-400 shadow-2xl rounded-t-xl py-2 "),M(e,"class",u="w-[100vw] fixed bottom-0 h-["+t[10]+"] "+(t[8].isMineralSource===!0?"mb-[60px]":"mb-[0px]")+" p-1 z-50 flex flex-col justify-center text-center items-center")},m(b,A){I(b,e,A),v(e,n),v(n,o),v(o,i),v(i,r),p&&p.m(r,null),v(o,l),_[a].m(o,null),f=!0,c||(d=ee(o,"click",t[13]),c=!0)},p(b,A){b[8].isMineralSource===!1?p?(p.p(b,A),A[0]&256&&k(p,1)):(p=Bf(b),p.c(),k(p,1),p.m(r,null)):p&&(Te(),S(p,1,1,()=>{p=null}),Ie());let w=a;a=y(b),a===w?_[a].p(b,A):(Te(),S(_[w],1,1,()=>{_[w]=null}),Ie(),s=_[a],s?s.p(b,A):(s=_[a]=h[a](b),s.c()),k(s,1),s.m(o,null)),(!f||A[0]&256&&u!==(u="w-[100vw] fixed bottom-0 h-["+b[10]+"] "+(b[8].isMineralSource===!0?"mb-[60px]":"mb-[0px]")+" p-1 z-50 flex flex-col justify-center text-center items-center"))&&M(e,"class",u)},i(b){f||(k(p),k(s),f=!0)},o(b){S(p),S(s),f=!1},d(b){b&&T(e),p&&p.d(),_[a].d(),c=!1,d()}}}function Bf(t){let e,n,o,i,r,l,a,s,u,f=t[5].plots[t[0]][t[1]].type!==-1&&t[14](t[0],t[1]),c,d,p,h={type:"text",autofocus:!0,id:"search-bar",placeholder:"Search Plot Options...",value:t[3],class:"border rounded w-auto bg-white placeholder-black text-black text-xs"};n=new is({props:h}),t[19](n),n.$on("input",t[11]);let _=f&&Gf(t);return{c(){e=O("div"),z(n.$$.fragment),o=G(),i=O("div"),r=O("input"),l=G(),a=O("label"),a.textContent="Buildable",s=G(),u=O("div"),_&&_.c(),M(e,"class","flex items-end "),M(r,"type","checkbox"),M(r,"id","toggle-affordable"),M(r,"class","rounded"),r.checked=t[6],M(a,"for","toggle-affordable"),M(a,"class","ml-2 no-select cursor-pointer "),M(i,"class","flex items-center ml-4"),M(u,"class","flex justify-end ml-6")},m(y,b){I(y,e,b),Z(n,e,null),I(y,o,b),I(y,i,b),v(i,r),v(i,l),v(i,a),I(y,s,b),I(y,u,b),_&&_.m(u,null),c=!0,d||(p=ee(r,"change",t[20]),d=!0)},p(y,b){const A={};b[0]&8&&(A.value=y[3]),n.$set(A),(!c||b[0]&64)&&(r.checked=y[6]),b[0]&35&&(f=y[5].plots[y[0]][y[1]].type!==-1&&y[14](y[0],y[1])),f?_?_.p(y,b):(_=Gf(y),_.c(),_.m(u,null)):_&&(_.d(1),_=null)},i(y){c||(k(n.$$.fragment,y),c=!0)},o(y){S(n.$$.fragment,y),c=!1},d(y){y&&(T(e),T(o),T(i),T(s),T(u)),t[19](null),Q(n),_&&_.d(),d=!1,p()}}}function Gf(t){let e,n,o;return{c(){e=O("button"),e.textContent="❌ Bulldoze",M(e,"id","bulldoze"),M(e,"class","px-2 py-2 bg-red-500 rounded hover:bg-red-600 transition duration-300 ease-in-out")},m(i,r){I(i,e,r),n||(o=ee(e,"click",t[16]),n=!0)},p:Ae,d(i){i&&T(e),n=!1,o()}}}function b3(t){let e,n,o=Je([1,2,3,4]),i=[];for(let l=0;l<4;l+=1)i[l]=Hf(Ff(t,o,l));const r=l=>S(i[l],1,1,()=>{i[l]=null});return{c(){e=O("div");for(let l=0;l<4;l+=1)i[l].c();M(e,"class","flex flex-col gap-8 w-full overflow-y-scroll h-72 pb-24")},m(l,a){I(l,e,a);for(let s=0;s<4;s+=1)i[s]&&i[s].m(e,null);n=!0},p(l,a){if(a[0]&48){o=Je([1,2,3,4]);let s;for(s=0;s<4;s+=1){const u=Ff(l,o,s);i[s]?(i[s].p(u,a),k(i[s],1)):(i[s]=Hf(u),i[s].c(),k(i[s],1),i[s].m(e,null))}for(Te(),s=4;s<4;s+=1)r(s);Ie()}},i(l){if(!n){for(let a=0;a<4;a+=1)k(i[a]);n=!0}},o(l){i=i.filter(Boolean);for(let a=0;a<4;a+=1)S(i[a]);n=!1},d(l){l&&T(e),vt(i,l)}}}function v3(t){let e,n,o,i,r,l,a,s=t[5].townInfo.gold>=t[9][be("mine")].requirements.gold?"✅":"❌",u,f,c=vl(t[9][be("mine")].requirements.gold)+"",d,p,h,_,y=t[5].townInfo.population_count-t[5].townInfo.employees>=t[9][be("mine")].requirements.employees?"✅":"❌",b,A,w=t[9][be("mine")].requirements.employees+"",D,V=" ",E,W,B,j,X,P,g,C,N;const F=[A3,C3],L=[];function K(x,J){return J[0]&32&&(P=null),P==null&&(P=Ze("mine",x[5]).length===0),P?0:1}return g=K(t,[-1,-1]),C=L[g]=F[g](t),{c(){e=O("div"),n=O("div"),o=O("div"),o.textContent="Build a mine",i=G(),r=O("div"),l=O("ul"),a=O("li"),u=$(s),f=$(`
                    $`),d=$(c),p=$(" gold"),h=G(),_=O("li"),b=$(y),A=G(),D=$(w),E=$(V),W=$(`
                    employees`),B=G(),j=O("div"),j.innerHTML=`<div class="text-8xl text-center h-5/6 mt-2 flex flex-col justify-center items-center align-middle w-1/3"><div>⛏️</div></div> <div class="w-2/3 text-start pl-6">Used to extract minerals needed to build many advanced plots
                  including hospitals, labs, and more.</div>`,X=G(),C.c(),M(o,"class","text-2xl pb-2"),M(l,"class","flex flex-row justify-between px-6 bg-blue-900 text-blue-200 text-sm rounded-md py-1"),M(j,"class","flex flex-row w-full justify-between px-6 mt-4 h-full"),M(n,"class","flex flex-col p-2 w-1/2 bg-blue-800 rounded-lg"),M(e,"class","flex justify-center items-start p-1 text-center w-full")},m(x,J){I(x,e,J),v(e,n),v(n,o),v(n,i),v(n,r),v(r,l),v(l,a),v(a,u),v(a,f),v(a,d),v(a,p),v(l,h),v(l,_),v(_,b),v(_,A),v(_,D),v(_,E),v(_,W),v(n,B),v(n,j),v(n,X),L[g].m(n,null),N=!0},p(x,J){(!N||J[0]&32)&&s!==(s=x[5].townInfo.gold>=x[9][be("mine")].requirements.gold?"✅":"❌")&&se(u,s),(!N||J[0]&32)&&y!==(y=x[5].townInfo.population_count-x[5].townInfo.employees>=x[9][be("mine")].requirements.employees?"✅":"❌")&&se(b,y);let m=g;g=K(x,J),g===m?L[g].p(x,J):(Te(),S(L[m],1,1,()=>{L[m]=null}),Ie(),C=L[g],C?C.p(x,J):(C=L[g]=F[g](x),C.c()),k(C,1),C.m(n,null))},i(x){N||(k(C),N=!0)},o(x){S(C),N=!1},d(x){x&&T(e),L[g].d()}}}function y3(t){let e,n,o=(t[29].selected?"✅":xs(t[29].title))+"",i,r,l,a=t[29].title.substring(2)+"",s,u,f=Ze(t[29].id,t[5]).length+"",c,d,p,h,_,y=vl(t[29].requirements.gold,!1)+"",b,A,w,D;return{c(){e=O("div"),n=O("span"),i=$(o),r=G(),l=O("span"),s=$(a),u=$(" ("),c=$(f),d=$(")"),p=G(),h=O("span"),_=$("💰 "),b=$(y),M(n,"class","text-md text-center"),M(l,"class","text-xs text-center"),M(h,"style",A=t[29].styling),M(h,"class","text-xs text-center"),M(e,"class",w="plotOption cursor-pointer min-w-28 max-w-28 h-[100px] rounded-xl flex flex-col align-middle justify-evenly transition-all duration-100 "+(t[29].affordable||t[29].selected?"cursor-pointer":"opacity-20 cursor-not-allowed ")+" "+(t[29].selected?"border-4 border-yellow-200 opacity-100 rounded-none":"")),M(e,"data-plotoptionid",D=t[29].id),ze(e,"background-color",Ji(be(t[29].id),!0))},m(V,E){I(V,e,E),v(e,n),v(n,i),v(e,r),v(e,l),v(l,s),v(l,u),v(l,c),v(l,d),v(e,p),v(e,h),v(h,_),v(h,b)},p(V,E){E[0]&16&&o!==(o=(V[29].selected?"✅":xs(V[29].title))+"")&&se(i,o),E[0]&16&&a!==(a=V[29].title.substring(2)+"")&&se(s,a),E[0]&48&&f!==(f=Ze(V[29].id,V[5]).length+"")&&se(c,f),E[0]&16&&y!==(y=vl(V[29].requirements.gold,!1)+"")&&se(b,y),E[0]&16&&A!==(A=V[29].styling)&&M(h,"style",A),E[0]&16&&w!==(w="plotOption cursor-pointer min-w-28 max-w-28 h-[100px] rounded-xl flex flex-col align-middle justify-evenly transition-all duration-100 "+(V[29].affordable||V[29].selected?"cursor-pointer":"opacity-20 cursor-not-allowed ")+" "+(V[29].selected?"border-4 border-yellow-200 opacity-100 rounded-none":""))&&M(e,"class",w),E[0]&16&&D!==(D=V[29].id)&&M(e,"data-plotoptionid",D),E[0]&16&&ze(e,"background-color",Ji(be(V[29].id),!0))},d(V){V&&T(e)}}}function w3(t){let e,n;return e=new Jd({props:{option:t[29]}}),{c(){z(e.$$.fragment)},m(o,i){Z(e,o,i),n=!0},p(o,i){const r={};i[0]&16&&(r.option=o[29]),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Q(e,o)}}}function k3(t){let e,n,o,i;return e=new si({props:{$$slots:{default:[y3]},$$scope:{ctx:t}}}),o=new ri({props:{$$slots:{default:[w3]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment),n=G(),z(o.$$.fragment)},m(r,l){Z(e,r,l),I(r,n,l),Z(o,r,l),i=!0},p(r,l){const a={};l[0]&48|l[1]&2&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l[0]&16|l[1]&2&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),Q(e,r),Q(o,r)}}}function Vf(t,e){let n,o,i;return o=new li({props:{openDelay:200,closeDelay:0,$$slots:{default:[k3]},$$scope:{ctx:e}}}),{key:t,first:null,c(){n=De(),z(o.$$.fragment),this.first=n},m(r,l){I(r,n,l),Z(o,r,l),i=!0},p(r,l){e=r;const a={};l[0]&48|l[1]&2&&(a.$$scope={dirty:l,ctx:e}),o.$set(a)},i(r){i||(k(o.$$.fragment,r),i=!0)},o(r){S(o.$$.fragment,r),i=!1},d(r){r&&T(n),Q(o,r)}}}function $f(t){let e;return{c(){e=O("span"),e.textContent="No plots available!",M(e,"class","text-sm pt-2")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Hf(t){let e,n,o,i,r=[],l=new Map,a,s=t[4].filter(c).length===0,u,f;function c(...y){return t[18](t[26],...y)}function d(...y){return t[22](t[26],...y)}let p=Je(t[4].filter(d));const h=y=>y[29].id;for(let y=0;y<p.length;y+=1){let b=jf(t,p,y),A=h(b);l.set(A,r[y]=Vf(A,b))}let _=s&&$f();return{c(){e=O("div"),n=O("div"),n.textContent=`Level ${t[26]}`,o=G(),i=O("div");for(let y=0;y<r.length;y+=1)r[y].c();a=G(),_&&_.c(),u=G(),M(n,"class","text-xl font-bold"),M(i,"class","flex flex-row text-start justify-start items-start flex-wrap pt-2 w-full align-middle gap-4")},m(y,b){I(y,e,b),v(e,n),v(e,o),v(e,i);for(let A=0;A<r.length;A+=1)r[A]&&r[A].m(i,null);v(i,a),_&&_.m(i,null),v(e,u),f=!0},p(y,b){t=y,b[0]&48&&(p=Je(t[4].filter(d)),Te(),r=bm(r,b,h,1,t,p,l,i,gm,Vf,a,jf),Ie()),b[0]&16&&(s=t[4].filter(c).length===0),s?_||(_=$f(),_.c(),_.m(i,null)):_&&(_.d(1),_=null)},i(y){if(!f){for(let b=0;b<p.length;b+=1)k(r[b]);f=!0}},o(y){for(let b=0;b<r.length;b+=1)S(r[b]);f=!1},d(y){y&&T(e);for(let b=0;b<r.length;b+=1)r[b].d();_&&_.d()}}}function C3(t){let e;return{c(){e=O("div"),e.textContent="You have built a mine here, and mine's can not be destroyed.",M(e,"class","text-yellow-500 text-xs mt-4 text-center")},m(n,o){I(n,e,o)},p:Ae,i:Ae,o:Ae,d(n){n&&T(e)}}}function A3(t){let e,n;return e=new Yt({props:{class:`my-6 w-full 
								`+(t[12](t[9][be("mine")],t[5])?"bg-green-500 hover:bg-green-600":"bg-gray-900 hover:bg-gray-900 opacity-75 cursor-not-allowed")+` disabled'}
							`,tabindex:-1,$$slots:{default:[S3]},$$scope:{ctx:t}}}),e.$on("click",t[21]),{c(){z(e.$$.fragment)},m(o,i){Z(e,o,i),n=!0},p(o,i){const r={};i[0]&32&&(r.class=`my-6 w-full 
								`+(o[12](o[9][be("mine")],o[5])?"bg-green-500 hover:bg-green-600":"bg-gray-900 hover:bg-gray-900 opacity-75 cursor-not-allowed")+` disabled'}
							`),i[1]&2&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Q(e,o)}}}function S3(t){let e;return{c(){e=$("Build")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function T3(t){let e,n,o=t[2]&&qf(t);return{c(){o&&o.c(),e=De()},m(i,r){o&&o.m(i,r),I(i,e,r),n=!0},p(i,r){i[2]?o?(o.p(i,r),r[0]&4&&k(o,1)):(o=qf(i),o.c(),k(o,1),o.m(e.parentNode,e)):o&&(Te(),S(o,1,1,()=>{o=null}),Ie())},i(i){n||(k(o),n=!0)},o(i){S(o),n=!1},d(i){i&&T(e),o&&o.d(i)}}}function I3(t,e,n){let o,i,r;ae(t,Re,g=>n(5,o=g)),ae(t,tt,g=>n(8,i=g)),ae(t,Sc,g=>n(6,r=g));let{x:l=0}=e,{y:a=0}=e,{open:s=!1}=e,{tooltip:u=""}=e,f="",c=oe,d;const p=Math.round(window.innerHeight*.2)+"px";let h=c.map(g=>Object.assign(Object.assign({},g),{affordable:b(g,o),selected:y(g)}));function _(g){n(3,f=g.target.value||"")}function y(g){return o.plots[l][a].type>-1?c[o.plots[l][a].type].id===g.id:!1}function b(g,C){let N=!0;g.requirements.gold>C.townInfo.gold&&(N=!1);let F=C.townInfo.population_count-C.townInfo.employees;return g.requirements.employees!==void 0&&g.requirements.employees>0&&g.requirements.employees>F&&(N=!1),g.requirements.knowledge!==void 0&&g.requirements.knowledge>C.townInfo.knowledge_points&&(N=!1),g.requirements.resources!==void 0&&Object.keys(g.requirements.resources).forEach(L=>{o.resources[L]<g.requirements.resources[L]&&(N=!1)}),N}function A(g){const C=g.target.closest(".plotOption");if(C){const N=C.dataset.plotoptionid;w(N)}}function w(g){document.querySelectorAll(".plotOption").forEach(F=>{F.classList.remove("active")});const N=document.querySelector(`[data-plotoptionid="${g}"]`);N&&(N.classList.add("active"),V(l,a,g))}function D(g,C){if(i.isMineralSource)return!1;let N=0;return g>0&&o.plots[g-1][C].type!==-1&&N++,g<o.plots.length-1&&o.plots[g+1][C].type!==-1&&N++,C>0&&o.plots[g][C-1].type!==-1&&N++,C<o.plots[0].length-1&&o.plots[g][C+1].type!==-1&&N++,N<=4}function V(g,C,N){let F=o;const L=oe.findIndex(m=>m.id===N);let K=oe[L];if(b(K,o)==!1)return alert(`${JSON.stringify(K.requirements)}`);if(K.requirements.adjacent_plots!==void 0){let m=K.requirements.adjacent_plots;if(mp(g,C,F,K.requirements.adjacent_plots)===!1)return alert(`This plot requires adjacent plots of type: ${m.join(", ")}`)}let x=!0;if((K.requirements.gold>F.townInfo.gold||K.requirements.employees>F.townInfo.population_count-F.townInfo.employees)&&(x=!1),K.requirements.size!=null&&K.requirements.size!=1&&x){let te=function(ie,U){let ke={x:ie,y:U};return ke.x===0&&ke.y===0?!0:[{x:ke.x-1,y:ke.y},{x:ke.x+1,y:ke.y},{x:ke.x,y:ke.y-1},{x:ke.x,y:ke.y+1}].some(Ne=>Ne.x<0||Ne.x>o.plots.length-1||Ne.y<0||Ne.y>o.plots.length-1?!1:o.plots[Ne.x][Ne.y].active)};var J=te;let m=K.requirements.size,R=[],H=c[L].title.toLowerCase().indexOf("school")!=-1;for(let ie=0;ie<4;ie++){let U=[[g,C]];ie===0?(U.push([g-(m-1),C-(m-1)]),U.push([g-(m-1),C]),U.push([g,C-(m-1)])):ie===1?(U.push([g,C-(m-1)]),U.push([g+(m-1),C-(m-1)]),U.push([g+(m-1),C])):ie===2?(U.push([g-(m-1),C]),U.push([g-(m-1),C+(m-1)]),U.push([g,C+(m-1)])):ie===3&&(U.push([g,C+(m-1)]),U.push([g+(m-1),C+(m-1)]),U.push([g+(m-1),C])),R.push(U)}R=R.filter(ie=>ie.every(U=>U[0]>=0&&U[0]<=F.plots.length-1&&U[1]>=0&&U[1]<=F.plots.length-1&&!F.plots[U[0]][U[1]].active&&te(U[0],U[1])==!0)),R.length===0?x=!1:R.length>0&&R[0].forEach(U=>{F.plots[U[0]][U[1]].active=!0,F.plots[U[0]][U[1]].type=H?-3:-2,F.plots[U[0]][U[1]].referencePlot=[g,C]})}if(x===!0){if(F.plots[g][C].type!==-1&&xi(g,C,F),n(17,u=""),F.plots[g][C].type=L,F.plots[g][C].active=!0,F.plots[g][C].referencePlot=[],F.plots[g][C].typeId=K.id,F.townInfo.gold-=K.requirements.gold,F.townInfo.gold=st(F.townInfo.gold,2),F.townInfo.population_count+=K.immediate_variable_changes.population,F.townInfo.population_max+=K.immediate_variable_changes.population,F.townInfo.happiness+=K.immediate_variable_changes.happiness,F.townInfo.health+=K.immediate_variable_changes.health,F.modifiers.happiness=st(F.modifiers.happiness*K.effect_modifiers.happiness,2),F.modifiers.health=st(F.modifiers.health*K.effect_modifiers.health,2),F.townInfo.employees+=K.requirements.employees,(F.plotCounts[L]===void 0||F.plotCounts[L]===null)&&(F.plotCounts[L]=0),F.plotCounts[L]++,F.lastChangeDay=F.environment.day,K.requirements.resources!==void 0){const R=K.requirements.resources;F.resources.food-=R.food,F.resources.wood-=R.wood,F.resources.stone-=R.stone,F.resources.metal-=R.metal}switch(K.id){case"city_hall":F.hasCityHall=!0;break;case"bank":F.hasBank=!0;break}Re.set(F),localStorage.setItem(Mt,JSON.stringify(F));let m=!1;for(let R=g;R<F.plots.length;R++){for(let H=C;H<F.plots[R].length;H++)if(F.plots[R][H].active===!1&&F.plots[R][H].mineralSource==!1&&F.plots[R][H].water==!1){g=R,C=H,m=!0;break}if(m)break}Pe(tt,i.x=g,i),Pe(tt,i.y=C,i)}else n(17,u="You do not have enough resources to purchase this plot. If it's a 'Large' plot, make sure you have a 2x2 area available. "),document.querySelectorAll(".plotOption").forEach(R=>{R.classList.remove("active")})}function E(){document.querySelectorAll(".plotOption").forEach(C=>{C.classList.remove("active")}),xi(l,a,o)}const W=(g,C)=>C.level===g;function B(g){Oe[g?"unshift":"push"](()=>{d=g,n(7,d)})}const j=()=>{Pm()},X=()=>{V(l,a,"mine")},P=(g,C)=>C.level===g;return t.$$set=g=>{"x"in g&&n(0,l=g.x),"y"in g&&n(1,a=g.y),"open"in g&&n(2,s=g.open),"tooltip"in g&&n(17,u=g.tooltip)},t.$$.update=()=>{t.$$.dirty[0]&112&&o&&(n(4,h=c.map(g=>Object.assign(Object.assign({},g),{affordable:b(g,o),selected:y(g)}))),n(4,h=h.filter(g=>g.id!=="mine")),r&&n(4,h=h.filter(g=>g.affordable)),Object.keys(Ks).forEach(g=>{let C=Ks[g];if(C>0){let N=Ze(g,o).length;n(4,h=h.filter(F=>F.id!==g||N<C))}}),h.sort((g,C)=>g.selected&&!C.selected?-1:0)),t.$$.dirty[0]&24&&n(4,h=h.filter(g=>g.title.toLowerCase().includes(f.toLowerCase())))},[l,a,s,f,h,o,r,d,i,c,p,_,b,A,D,V,E,u,W,B,j,X,P]}class xd extends we{constructor(e){super(),ye(this,e,I3,T3,fe,{x:0,y:1,open:2,tooltip:17},null,[-1,-1])}}function O3(t){return{c:Ae,m:Ae,p:Ae,d:Ae}}function P3(t){let e,n,o,i=oe[t[0].type].title.substring(0,2)+"",r,l,a,s,u,f=oe[t[0].type].title.substring(2)+"",c,d,p,h;return{c(){e=O("div"),n=O("span"),o=O("span"),r=$(i),l=G(),a=O("br"),s=G(),u=O("span"),c=$(f),M(o,"class","text-lg align-text-top select-none"),M(u,"class","text-xs align-text-top font-normal text-black from-stone-600 select-none"),M(n,"data-size",d=oe[t[0].type].requirements.size),M(n,"data-x",p=t[0].x),M(n,"data-y",h=t[0].y),M(e,"class","svelte-12vwkpj")},m(_,y){I(_,e,y),v(e,n),v(n,o),v(o,r),v(n,l),v(n,a),v(n,s),v(n,u),v(u,c)},p(_,y){y&1&&i!==(i=oe[_[0].type].title.substring(0,2)+"")&&se(r,i),y&1&&f!==(f=oe[_[0].type].title.substring(2)+"")&&se(c,f),y&1&&d!==(d=oe[_[0].type].requirements.size)&&M(n,"data-size",d),y&1&&p!==(p=_[0].x)&&M(n,"data-x",p),y&1&&h!==(h=_[0].y)&&M(n,"data-y",h)},d(_){_&&T(e)}}}function Wf(t){let e;return{c(){e=O("span"),e.textContent="Mineral source",M(e,"class","text-xs")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function M3(t){let e,n,o,i,r,l,a,s,u,f,c,d,p,h,_,y,b,A,w;function D(B,j){if(B[0].type>-1)return P3;if(B[0].type==-1&&B[0].x==0&&B[0].y==0)return O3}let V=D(t),E=V&&V(t),W=t[0].mineralSource&&t[0].type==-1&&Wf();return{c(){e=O("button"),E&&E.c(),n=G(),W&&W.c(),M(e,"class",o="plot_container "+t[1]+" overflow-visible "+(t[0].type==-1&&t[2]==!1,"")+" "+(t[0].mineralSource?"hidden":"")+" "+(t[2]?"cursor-pointer":"cursor-not-allowed")+" "+(t[0].disabled?"animate-spin":"")+" svelte-12vwkpj"),ze(e,"background-color",t[0].water?"bg-blue-900 opacity-100":t[4].x==t[0].x&&t[4].y==t[0].y&&t[4].visible?"white":Ji(t[0].type,t[2])),M(e,"data-active",i=t[0].active),M(e,"data-hidehoveranimation",r=t[4].visible||t[0].type==-1&&t[0].x==0&&t[0].y==0),M(e,"data-id",l=t[0].id),M(e,"data-x",a=t[0].x),M(e,"data-y",s=t[0].y),M(e,"data-optionindex",u=t[0].optionIndex),M(e,"data-canbeupgraded",t[2]),M(e,"data-type",f=t[0].type),M(e,"data-type-id",c=t[0].typeId),M(e,"data-refplotx",d=t[0].referencePlot!==void 0?t[0].referencePlot[1]:null),M(e,"data-refploty",p=t[0].referencePlot!==void 0?t[0].referencePlot[0]:null),M(e,"data-size",h=t[0].type>-1?oe[t[0].type].requirements.size:null),M(e,"data-mineralsource",_=t[0].mineralSource),M(e,"data-water",y=t[0].water),M(e,"data-nearwater",b=Rn(t[0].x,t[0].y,t[5]))},m(B,j){I(B,e,j),E&&E.m(e,null),v(e,n),W&&W.m(e,null),A||(w=ee(e,"click",t[6]),A=!0)},p(B,j){V===(V=D(B))&&E?E.p(B,j):(E&&E.d(1),E=V&&V(B),E&&(E.c(),E.m(e,n))),B[0].mineralSource&&B[0].type==-1?W||(W=Wf(),W.c(),W.m(e,null)):W&&(W.d(1),W=null),j&7&&o!==(o="plot_container "+B[1]+" overflow-visible "+(B[0].type==-1&&B[2]==!1,"")+" "+(B[0].mineralSource?"hidden":"")+" "+(B[2]?"cursor-pointer":"cursor-not-allowed")+" "+(B[0].disabled?"animate-spin":"")+" svelte-12vwkpj")&&M(e,"class",o),j&21&&ze(e,"background-color",B[0].water?"bg-blue-900 opacity-100":B[4].x==B[0].x&&B[4].y==B[0].y&&B[4].visible?"white":Ji(B[0].type,B[2])),j&1&&i!==(i=B[0].active)&&M(e,"data-active",i),j&17&&r!==(r=B[4].visible||B[0].type==-1&&B[0].x==0&&B[0].y==0)&&M(e,"data-hidehoveranimation",r),j&1&&l!==(l=B[0].id)&&M(e,"data-id",l),j&1&&a!==(a=B[0].x)&&M(e,"data-x",a),j&1&&s!==(s=B[0].y)&&M(e,"data-y",s),j&1&&u!==(u=B[0].optionIndex)&&M(e,"data-optionindex",u),j&4&&M(e,"data-canbeupgraded",B[2]),j&1&&f!==(f=B[0].type)&&M(e,"data-type",f),j&1&&c!==(c=B[0].typeId)&&M(e,"data-type-id",c),j&1&&d!==(d=B[0].referencePlot!==void 0?B[0].referencePlot[1]:null)&&M(e,"data-refplotx",d),j&1&&p!==(p=B[0].referencePlot!==void 0?B[0].referencePlot[0]:null)&&M(e,"data-refploty",p),j&1&&h!==(h=B[0].type>-1?oe[B[0].type].requirements.size:null)&&M(e,"data-size",h),j&1&&_!==(_=B[0].mineralSource)&&M(e,"data-mineralsource",_),j&1&&y!==(y=B[0].water)&&M(e,"data-water",y),j&33&&b!==(b=Rn(B[0].x,B[0].y,B[5]))&&M(e,"data-nearwater",b)},d(B){B&&T(e),E&&E.d(),W&&W.d(),A=!1,w()}}}function Kf(t){let e;return{c(){e=$("Water - Place farms nearby for more food & revenue!")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Uf(t){let e;return{c(){e=O("span"),e.textContent="Near water - Generating more food & revenue!",M(e,"class","text-xs bg-blue-500 text-white p-1")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function Yf(t){let e,n;return e=new Jd({props:{option:t[3],checkRequirements:!1}}),{c(){z(e.$$.fragment)},m(o,i){Z(e,o,i),n=!0},p(o,i){const r={};i&8&&(r.option=o[3]),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Q(e,o)}}}function N3(t){let e,n,o=Rn(t[0].x,t[0].y,t[5]),i,r,l=t[0].water&&Kf(),a=o&&Uf(),s=t[0].active&&Yf(t);return{c(){e=O("div"),l&&l.c(),n=G(),a&&a.c(),i=G(),s&&s.c(),M(e,"class","flex flex-col gap-2")},m(u,f){I(u,e,f),l&&l.m(e,null),v(e,n),a&&a.m(e,null),v(e,i),s&&s.m(e,null),r=!0},p(u,f){u[0].water?l||(l=Kf(),l.c(),l.m(e,n)):l&&(l.d(1),l=null),f&33&&(o=Rn(u[0].x,u[0].y,u[5])),o?a||(a=Uf(),a.c(),a.m(e,i)):a&&(a.d(1),a=null),u[0].active?s?(s.p(u,f),f&1&&k(s,1)):(s=Yf(u),s.c(),k(s,1),s.m(e,null)):s&&(Te(),S(s,1,1,()=>{s=null}),Ie())},i(u){r||(k(s),r=!0)},o(u){S(s),r=!1},d(u){u&&T(e),l&&l.d(),a&&a.d(),s&&s.d()}}}function E3(t){let e,n,o,i;return e=new si({props:{$$slots:{default:[M3]},$$scope:{ctx:t}}}),o=new ri({props:{class:t[0].type<0&&!t[0].water?"hidden":"",$$slots:{default:[N3]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment),n=G(),z(o.$$.fragment)},m(r,l){Z(e,r,l),I(r,n,l),Z(o,r,l),i=!0},p(r,l){const a={};l&1079&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&1&&(s.class=r[0].type<0&&!r[0].water?"hidden":""),l&1065&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),Q(e,r),Q(o,r)}}}function R3(t){let e,n;return e=new li({props:{openDelay:100,closeDelay:0,$$slots:{default:[E3]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment)},m(o,i){Z(e,o,i),n=!0},p(o,[i]){const r={};i&1087&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Q(e,o)}}}function D3(t,e,n){let o,i,r,l;ae(t,tt,p=>n(4,o=p)),ae(t,Re,p=>n(5,i=p)),ae(t,Pt,p=>n(8,r=p)),ae(t,fo,p=>n(9,l=p));let{data:a={id:0,active:!1,x:0,y:0,type:-1,styling:"",referencePlot:[],mineralSource:!1,disabled:!1,water:!1}}=e,s,{classText:u=""}=e,{canBeUpgraded:f=!1}=e;function c(p,h,_){let y=document.querySelectorAll(".plot_container");if(r==!1){if(a.referencePlot!=null&&a.referencePlot[0]!==null&&h==null&&_==null&&a.referencePlot[1]!==void 0)return c(p,a.referencePlot[0],a.referencePlot[1]);!a.active&&!f?(Pe(fo,l={},l),Pe(tt,o.visible=!1,o),y.forEach(b=>{b.classList.remove("selected")})):(h!=null&&_!=null?(Pe(tt,o.x=h,o),Pe(tt,o.y=_,o)):(Pe(tt,o.x=a.x,o),Pe(tt,o.y=a.y,o)),Pe(tt,o.isMineralSource=a.mineralSource,o),Pe(tt,o.visible=!0,o),y.forEach(b=>{b.classList.remove("selected")}),h!=null&&_!=null?document.querySelector(`.plot_container[data-x="${h}"][data-y="${_}"]`).classList.add("selected"):document.querySelector(`.plot_container[data-id="${a.id}"]`).classList.add("selected"))}}function d(p){r==!1&&(Pe(Re,i.plots[a.x][a.y].type=p,i),Pe(tt,o.visible=!1,o))}return t.$$set=p=>{"data"in p&&n(0,a=p.data),"classText"in p&&n(1,u=p.classText),"canBeUpgraded"in p&&n(2,f=p.canBeUpgraded)},t.$$.update=()=>{t.$$.dirty&1&&a.type>-1&&n(3,s=oe[a.type])},[a,u,f,s,o,i,c,d]}class L3 extends we{constructor(e){super(),ye(this,e,D3,R3,fe,{data:0,classText:1,canBeUpgraded:2,changePlotType:7})}get changePlotType(){return this.$$.ctx[7]}}function Xf(t,e,n){const o=t.slice();return o[6]=e[n],o[8]=n,o}function Jf(t,e,n){const o=t.slice();return o[9]=e[n],o}function xf(t){let e,n,o,i=t[3],r,l,a=Je(t[2].plots),s=[];for(let c=0;c<a.length;c+=1)s[c]=Qf(Xf(t,a,c));const u=c=>S(s[c],1,1,()=>{s[c]=null});let f=ec(t);return{c(){e=O("div"),n=O("div");for(let c=0;c<s.length;c+=1)s[c].c();o=G(),f.c(),r=De(),M(n,"class","grid overflow-x-scroll overflow-y-scroll plot_controller svelte-17t225m"),M(e,"id","plotContainerMain"),M(e,"class","absolute left-[170px] top-[170px] overflow-scroll pl-32 pt-32 pb-80 pr-80")},m(c,d){I(c,e,d),v(e,n);for(let p=0;p<s.length;p+=1)s[p]&&s[p].m(n,null);I(c,o,d),f.m(c,d),I(c,r,d),l=!0},p(c,d){if(d&7){a=Je(c[2].plots);let p;for(p=0;p<a.length;p+=1){const h=Xf(c,a,p);s[p]?(s[p].p(h,d),k(s[p],1)):(s[p]=Qf(h),s[p].c(),k(s[p],1),s[p].m(n,null))}for(Te(),p=a.length;p<s.length;p+=1)u(p);Ie()}d&8&&fe(i,i=c[3])?(Te(),S(f,1,1,Ae),Ie(),f=ec(c),f.c(),k(f,1),f.m(r.parentNode,r)):f.p(c,d)},i(c){if(!l){for(let d=0;d<a.length;d+=1)k(s[d]);k(f),l=!0}},o(c){s=s.filter(Boolean);for(let d=0;d<s.length;d+=1)S(s[d]);S(f),l=!1},d(c){c&&(T(e),T(o),T(r)),vt(s,c),f.d(c)}}}function Zf(t){let e,n;return e=new L3({props:{classText:"hexagon",data:t[9],canBeUpgraded:t[0](t[9].x,t[9].y)}}),{c(){z(e.$$.fragment)},m(o,i){Z(e,o,i),n=!0},p(o,i){const r={};i&4&&(r.data=o[9]),i&4&&(r.canBeUpgraded=o[0](o[9].x,o[9].y)),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Q(e,o)}}}function Qf(t){let e,n,o,i,r,l=Je(t[6]),a=[];for(let u=0;u<l.length;u+=1)a[u]=Zf(Jf(t,l,u));const s=u=>S(a[u],1,1,()=>{a[u]=null});return{c(){e=O("div");for(let u=0;u<a.length;u+=1)a[u].c();n=G(),M(e,"class","row "+(t[8]%2!==0?"odd-row":"")+" svelte-17t225m")},m(u,f){I(u,e,f);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(e,null);v(e,n),o=!0,i||(r=ee(e,"click",t[1]),i=!0)},p(u,f){if(f&5){l=Je(u[6]);let c;for(c=0;c<l.length;c+=1){const d=Jf(u,l,c);a[c]?(a[c].p(d,f),k(a[c],1)):(a[c]=Zf(d),a[c].c(),k(a[c],1),a[c].m(e,n))}for(Te(),c=l.length;c<a.length;c+=1)s(c);Ie()}},i(u){if(!o){for(let f=0;f<l.length;f+=1)k(a[f]);o=!0}},o(u){a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)S(a[f]);o=!1},d(u){u&&T(e),vt(a,u),i=!1,r()}}}function zf(t){let e,n;return e=new xd({props:{x:t[4].x,y:t[4].y,open:t[4].visible}}),{c(){z(e.$$.fragment)},m(o,i){Z(e,o,i),n=!0},p(o,i){const r={};i&16&&(r.x=o[4].x),i&16&&(r.y=o[4].y),i&16&&(r.open=o[4].visible),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Q(e,o)}}}function ec(t){let e,n,o=t[4].visible&&zf(t);return{c(){o&&o.c(),e=De()},m(i,r){o&&o.m(i,r),I(i,e,r),n=!0},p(i,r){i[4].visible?o?(o.p(i,r),r&16&&k(o,1)):(o=zf(i),o.c(),k(o,1),o.m(e.parentNode,e)):o&&(Te(),S(o,1,1,()=>{o=null}),Ie())},i(i){n||(k(o),n=!0)},o(i){S(o),n=!1},d(i){i&&T(e),o&&o.d(i)}}}function F3(t){let e,n,o=t[2]!=null&&xf(t);return{c(){o&&o.c(),e=De()},m(i,r){o&&o.m(i,r),I(i,e,r),n=!0},p(i,[r]){i[2]!=null?o?(o.p(i,r),r&4&&k(o,1)):(o=xf(i),o.c(),k(o,1),o.m(e.parentNode,e)):o&&(Te(),S(o,1,1,()=>{o=null}),Ie())},i(i){n||(k(o),n=!0)},o(i){S(o),n=!1},d(i){i&&T(e),o&&o.d(i)}}}function j3(t,e,n){let o,i,r;ae(t,fo,u=>n(3,o=u)),ae(t,Re,u=>n(2,i=u)),ae(t,tt,u=>n(4,r=u)),document.addEventListener("click",function(u){const f=u.target;(f.dataset.x==null&&f.dataset.type!="-1"&&f.dataset.size!=null||f.id=="plotContainerMain"||f.classList.contains("row")||f.classList.contains("grid"))&&Pe(tt,r.visible=!1,r)});function l(u,f){let c={x:u,y:f};return c.x===0&&c.y===0?!0:[{x:c.x-1,y:c.y},{x:c.x+1,y:c.y},{x:c.x,y:c.y-1},{x:c.x,y:c.y+1}].some(p=>p.x<0||p.x>=i.plots.length||p.y<0||p.y>=i.plots[p.x].length?!1:i.plots[p.x][p.y].active)}function a(){let u=[];for(let f=0;f<i.plots.length;f++)for(let c=0;c<i.plots.length;c++)l(f,c)&&i.plots[f][c].active==!1&&u.push(i.plots[f][c])}function s(){Pe(fo,o={},o)}return t.$$.update=()=>{t.$$.dirty&4&&i&&a()},[l,s,i,o,r]}class q3 extends we{constructor(e){super(),ye(this,e,j3,F3,fe,{checkIfPlotCanBeUpgraded:0,restartModifyPlotMenu:1})}get checkIfPlotCanBeUpgraded(){return this.$$.ctx[0]}get restartModifyPlotMenu(){return this.$$.ctx[1]}}function tc(t,e,n){const o=t.slice();return o[2]=e[n],o}function nc(t){let e;return{c(){e=O("span"),e.textContent="No alerts in the last 30d",M(e,"class","text-sm italic text-center opacity-70")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function oc(t){let e,n=t[2]+"",o,i,r;return{c(){e=O("p"),o=$(n),i=G(),r=O("br"),M(e,"class","text-xs")},m(l,a){I(l,e,a),v(e,o),I(l,i,a),I(l,r,a)},p(l,a){a&2&&n!==(n=l[2]+"")&&se(o,n)},d(l){l&&(T(e),T(i),T(r))}}}function B3(t){let e,n,o,i,r,l,a,s,u=t[1].townLog==""&&nc(),f=Je(t[1].townLog.split(`
`)),c=[];for(let d=0;d<f.length;d+=1)c[d]=oc(tc(t,f,d));return{c(){e=O("div"),n=O("div"),o=O("h1"),o.textContent="Alerts",i=G(),u&&u.c(),r=G();for(let d=0;d<c.length;d+=1)c[d].c();l=G(),a=O("ul"),a.innerHTML="",M(o,"class","text-xl w-full pb-2 text-center "),M(a,"class","list-disc pl-5 gap-2 flex flex-col text-xs "),M(n,"class",s="bg-foreground w-[160px] border-foregroundDark border-4 "+(t[0].visible?"bottom-8  opacity-70":"bottom-2")+" z-10 fixed left-3 p-3 top-[190px] drop-shadow-xl rounded-xl transition-all duration-300"),M(e,"class","flex flex-row text-foregroundText")},m(d,p){I(d,e,p),v(e,n),v(n,o),v(n,i),u&&u.m(n,null),v(n,r);for(let h=0;h<c.length;h+=1)c[h]&&c[h].m(n,null);v(n,l),v(n,a)},p(d,[p]){if(d[1].townLog==""?u||(u=nc(),u.c(),u.m(n,r)):u&&(u.d(1),u=null),p&2){f=Je(d[1].townLog.split(`
`));let h;for(h=0;h<f.length;h+=1){const _=tc(d,f,h);c[h]?c[h].p(_,p):(c[h]=oc(_),c[h].c(),c[h].m(n,l))}for(;h<c.length;h+=1)c[h].d(1);c.length=f.length}p&1&&s!==(s="bg-foreground w-[160px] border-foregroundDark border-4 "+(d[0].visible?"bottom-8  opacity-70":"bottom-2")+" z-10 fixed left-3 p-3 top-[190px] drop-shadow-xl rounded-xl transition-all duration-300")&&M(n,"class",s)},i:Ae,o:Ae,d(d){d&&T(e),u&&u.d(),vt(c,d)}}}function G3(t,e,n){let o,i;return ae(t,tt,r=>n(0,o=r)),ae(t,Re,r=>n(1,i=r)),[o,i]}class V3 extends we{constructor(e){super(),ye(this,e,G3,B3,fe,{})}}function ic(t,e,n){const o=t.slice();return o[5]=e[n],o}function rc(t){let e,n;return e=new G1({props:{thumb:t[5],class:"block h-5 w-5 rounded-full border-2 border-primary bg-accent ring-accent transition-colors focus-visible:outline-none  disabled:pointer-events-none disabled:opacity-50"}}),{c(){z(e.$$.fragment)},m(o,i){Z(e,o,i),n=!0},p(o,i){const r={};i&16&&(r.thumb=o[5]),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Q(e,o)}}}function $3(t){let e,n,o,i,r;n=new D1({props:{class:"absolute h-full bg-primary"}});let l=Je(t[4]),a=[];for(let u=0;u<l.length;u+=1)a[u]=rc(ic(t,l,u));const s=u=>S(a[u],1,1,()=>{a[u]=null});return{c(){e=O("span"),z(n.$$.fragment),o=G();for(let u=0;u<a.length;u+=1)a[u].c();i=De(),M(e,"class","relative h-2 w-full grow overflow-hidden rounded-full bg-textPrimary")},m(u,f){I(u,e,f),Z(n,e,null),I(u,o,f);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(u,f);I(u,i,f),r=!0},p(u,f){if(f&16){l=Je(u[4]);let c;for(c=0;c<l.length;c+=1){const d=ic(u,l,c);a[c]?(a[c].p(d,f),k(a[c],1)):(a[c]=rc(d),a[c].c(),k(a[c],1),a[c].m(i.parentNode,i))}for(Te(),c=l.length;c<a.length;c+=1)s(c);Ie()}},i(u){if(!r){k(n.$$.fragment,u);for(let f=0;f<l.length;f+=1)k(a[f]);r=!0}},o(u){S(n.$$.fragment,u),a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)S(a[f]);r=!1},d(u){u&&(T(e),T(o),T(i)),Q(n),vt(a,u)}}}function H3(t){let e,n,o;const i=[{class:Le("relative flex w-full touch-none select-none items-center",t[1])},t[2]];function r(a){t[3](a)}let l={$$slots:{default:[$3,({thumbs:a})=>({4:a}),({thumbs:a})=>a?16:0]},$$scope:{ctx:t}};for(let a=0;a<i.length;a+=1)l=Y(l,i[a]);return t[0]!==void 0&&(l.value=t[0]),e=new O1({props:l}),Oe.push(()=>Vn(e,"value",r)),{c(){z(e.$$.fragment)},m(a,s){Z(e,a,s),o=!0},p(a,[s]){const u=s&6?ve(i,[s&2&&{class:Le("relative flex w-full touch-none select-none items-center",a[1])},s&4&&at(a[2])]):{};s&272&&(u.$$scope={dirty:s,ctx:a}),!n&&s&1&&(n=!0,u.value=a[0],Gn(()=>n=!1)),e.$set(u)},i(a){o||(k(e.$$.fragment,a),o=!0)},o(a){S(e.$$.fragment,a),o=!1},d(a){Q(e,a)}}}function W3(t,e,n){const o=["class","value"];let i=re(e,o),{class:r=void 0}=e,{value:l=[0]}=e;function a(s){l=s,n(0,l)}return t.$$set=s=>{e=Y(Y({},e),Ee(s)),n(2,i=re(e,o)),"class"in s&&n(1,r=s.class),"value"in s&&n(0,l=s.value)},[l,r,i,a]}class lc extends we{constructor(e){super(),ye(this,e,W3,H3,fe,{class:1,value:0})}}function sc(t,e,n){const o=t.slice();return o[7]=e[n].icon,o[8]=e[n].name,o[9]=e[n].value,o[10]=e[n].rate,o}function ac(t,e,n){const o=t.slice();return o[13]=e[n],o}function K3(t){let e;return{c(){e=O("div"),e.innerHTML=`Resources are generated from plots. Generation rate can be increased
            by raising the productivity of the town, at the cost of some
            happiness.
            <br/> <br/>
            There is also a slight bit of randomness as townspeople aren&#39;t robots.`,M(e,"class","text-sm")},m(n,o){I(n,e,o)},p:Ae,d(n){n&&T(e)}}}function U3(t){let e,n,o,i;return o=new ri({props:{class:"text-sm w-[200px]",$$slots:{default:[K3]},$$scope:{ctx:t}}}),{c(){e=O("div"),e.innerHTML='<h1 class="text-xl w-full text-center">Resources</h1> <button class="text-textPrimary text-sm">ℹ️</button>',n=G(),z(o.$$.fragment),M(e,"class","flex flex-row items-center pb-2 gap-2")},m(r,l){I(r,e,l),I(r,n,l),Z(o,r,l),i=!0},p(r,l){const a={};l&65536&&(a.$$scope={dirty:l,ctx:r}),o.$set(a)},i(r){i||(k(o.$$.fragment,r),i=!0)},o(r){S(o.$$.fragment,r),i=!1},d(r){r&&(T(e),T(n)),Q(o,r)}}}function Y3(t){let e,n;return e=new si({props:{$$slots:{default:[U3]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment)},m(o,i){Z(e,o,i),n=!0},p(o,i){const r={};i&65536&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Q(e,o)}}}function X3(t){let e,n,o=t[10]+"",i;return{c(){e=O("span"),n=$("+"),i=$(o),M(e,"class","text-textPrimary")},m(r,l){I(r,e,l),v(e,n),v(e,i)},p(r,l){l&2&&o!==(o=r[10]+"")&&se(i,o)},d(r){r&&T(e)}}}function J3(t){let e;return{c(){e=O("span")},m(n,o){I(n,e,o)},p:Ae,d(n){n&&T(e)}}}function x3(t){let e,n=t[10]+"",o;return{c(){e=O("span"),o=$(n),M(e,"class","text-textDanger2")},m(i,r){I(i,e,r),v(e,o)},p(i,r){r&2&&n!==(n=i[10]+"")&&se(o,n)},d(i){i&&T(e)}}}function Z3(t){let e,n,o=t[10]+"",i;return{c(){e=O("span"),n=$("+"),i=$(o),M(e,"class","text-textHappy")},m(r,l){I(r,e,l),v(e,n),v(e,i)},p(r,l){l&2&&o!==(o=r[10]+"")&&se(i,o)},d(r){r&&T(e)}}}function Q3(t){let e;return{c(){e=O("span"),M(e,"class","display-none")},m(n,o){I(n,e,o)},p:Ae,d(n){n&&T(e)}}}function z3(t){let e,n,o=t[10]+"",i,r;return{c(){e=O("span"),n=$("+"),i=$(o),r=$(" (weekly)"),M(e,"class","")},m(l,a){I(l,e,a),v(e,n),v(e,i),v(e,r)},p(l,a){a&2&&o!==(o=l[10]+"")&&se(i,o)},d(l){l&&T(e)}}}function eC(t){let e,n=t[10]+"",o,i;return{c(){e=O("span"),o=$(n),i=$(" (weekly)"),M(e,"class","text-textDanger2")},m(r,l){I(r,e,l),v(e,o),v(e,i)},p(r,l){l&2&&n!==(n=r[10]+"")&&se(o,n)},d(r){r&&T(e)}}}function tC(t){let e,n,o=t[10]+"",i,r;return{c(){e=O("span"),n=$("+"),i=$(o),r=$(" (weekly)"),M(e,"class","text-textHappy")},m(l,a){I(l,e,a),v(e,n),v(e,i),v(e,r)},p(l,a){a&2&&o!==(o=l[10]+"")&&se(i,o)},d(l){l&&T(e)}}}function uc(t){let e,n,o,i;return e=new bt({}),{c(){z(e.$$.fragment),n=G(),o=O("span"),o.textContent="Required for",M(o,"class","text-sm font-semibold")},m(r,l){Z(e,r,l),I(r,n,l),I(r,o,l),i=!0},i(r){i||(k(e.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),i=!1},d(r){r&&(T(n),T(o)),Q(e,r)}}}function fc(t){let e,n=t[13]+"",o;return{c(){e=O("span"),o=$(n),M(e,"class","text-xs mr-4")},m(i,r){I(i,e,r),v(e,o)},p(i,r){r&2&&n!==(n=i[13]+"")&&se(o,n)},d(i){i&&T(e)}}}function nC(t){let e,n,o=t[7]+"",i,r,l=vn(t[8])+"",a,s,u,f=t[5](t[8]).length>0,c,d,p;function h(D,V){return D[10]>0?tC:D[10]<0?eC:D[10]!=null?z3:Q3}let _=h(t),y=_(t),b=f&&uc(),A=Je(t[5](t[8])),w=[];for(let D=0;D<A.length;D+=1)w[D]=fc(ac(t,A,D));return{c(){e=O("div"),n=O("span"),i=$(o),r=G(),a=$(l),s=G(),y.c(),u=G(),b&&b.c(),c=G(),d=O("div");for(let D=0;D<w.length;D+=1)w[D].c();M(n,"class","text-md font-bold"),M(d,"class","flex flex-col flex-wrap max-h-36"),M(e,"class","flex flex-col gap-2 whitespace-nowrap")},m(D,V){I(D,e,V),v(e,n),v(n,i),v(n,r),v(n,a),v(e,s),y.m(e,null),v(e,u),b&&b.m(e,null),v(e,c),v(e,d);for(let E=0;E<w.length;E+=1)w[E]&&w[E].m(d,null);p=!0},p(D,V){if((!p||V&2)&&o!==(o=D[7]+"")&&se(i,o),(!p||V&2)&&l!==(l=vn(D[8])+"")&&se(a,l),_===(_=h(D))&&y?y.p(D,V):(y.d(1),y=_(D),y&&(y.c(),y.m(e,u))),V&2&&(f=D[5](D[8]).length>0),f?b?V&2&&k(b,1):(b=uc(),b.c(),k(b,1),b.m(e,c)):b&&(Te(),S(b,1,1,()=>{b=null}),Ie()),V&34){A=Je(D[5](D[8]));let E;for(E=0;E<A.length;E+=1){const W=ac(D,A,E);w[E]?w[E].p(W,V):(w[E]=fc(W),w[E].c(),w[E].m(d,null))}for(;E<w.length;E+=1)w[E].d(1);w.length=A.length}},i(D){p||(k(b),p=!0)},o(D){S(b),p=!1},d(D){D&&T(e),y.d(),b&&b.d(),vt(w,D)}}}function oC(t){let e,n=t[7]+"",o,i,r=t[9]+"",l,a,s,u,f,c;function d(_,y){return _[10]>0?Z3:_[10]<0?x3:_[10]==null?J3:X3}let p=d(t),h=p(t);return f=new ri({props:{$$slots:{default:[nC]},$$scope:{ctx:t}}}),{c(){e=O("span"),o=$(n),i=G(),l=$(r),a=G(),h.c(),u=G(),z(f.$$.fragment),M(e,"class",s="flex flex-row justify-between "+(t[9]<=0?"text-textDanger1 font-semibold":"text-textPrimary"))},m(_,y){I(_,e,y),v(e,o),v(e,i),v(e,l),v(e,a),h.m(e,null),I(_,u,y),Z(f,_,y),c=!0},p(_,y){(!c||y&2)&&n!==(n=_[7]+"")&&se(o,n),(!c||y&2)&&r!==(r=_[9]+"")&&se(l,r),p===(p=d(_))&&h?h.p(_,y):(h.d(1),h=p(_),h&&(h.c(),h.m(e,null))),(!c||y&2&&s!==(s="flex flex-row justify-between "+(_[9]<=0?"text-textDanger1 font-semibold":"text-textPrimary")))&&M(e,"class",s);const b={};y&65538&&(b.$$scope={dirty:y,ctx:_}),f.$set(b)},i(_){c||(k(f.$$.fragment,_),c=!0)},o(_){S(f.$$.fragment,_),c=!1},d(_){_&&(T(e),T(u)),h.d(),Q(f,_)}}}function iC(t){let e,n,o;return e=new si({props:{$$slots:{default:[oC]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment),n=G()},m(i,r){Z(e,i,r),I(i,n,r),o=!0},p(i,r){const l={};r&65538&&(l.$$scope={dirty:r,ctx:i}),e.$set(l)},i(i){o||(k(e.$$.fragment,i),o=!0)},o(i){S(e.$$.fragment,i),o=!1},d(i){i&&T(n),Q(e,i)}}}function cc(t){let e,n;return e=new li({props:{openDelay:200,closeDelay:0,$$slots:{default:[iC]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment)},m(o,i){Z(e,o,i),n=!0},p(o,i){const r={};i&65538&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Q(e,o)}}}function rC(t){let e,n,o,i,r,l,a,s,u,f,c,d,p,h,_=st(t[0].townInfo.productivity,0)+"",y,b,A,w,D,V,E,W,B,j,X,P=st(t[0].economyAndLaws.tax_rate*100,0)+"",g,C,N,F,L,K,x;o=new li({props:{openDelay:200,closeDelay:0,$$slots:{default:[Y3]},$$scope:{ctx:t}}});let J=Je(t[1]),m=[];for(let H=0;H<J.length;H+=1)m[H]=cc(sc(t,J,H));const R=H=>S(m[H],1,1,()=>{m[H]=null});return w=new lc({props:{value:[t[0].townInfo.productivity],onValueChange:t[4],min:0,max:200,step:5,class:"cursor-pointer w-full"}}),F=new lc({props:{value:[t[0].economyAndLaws.tax_rate],onValueChange:t[3],min:0,max:1,step:.05,class:"cursor-pointer w-full"}}),{c(){e=O("div"),n=O("div"),z(o.$$.fragment),i=G(),r=O("div"),l=O("div");for(let H=0;H<m.length;H+=1)m[H].c();a=G(),s=O("div"),u=O("div"),f=O("div"),c=O("span"),c.textContent="Productivity",d=G(),p=O("span"),h=$("("),y=$(_),b=$("%)"),A=G(),z(w.$$.fragment),D=G(),V=O("div"),E=O("div"),W=O("span"),W.textContent="Tax Rate",B=G(),j=O("span"),X=$("("),g=$(P),C=$("%)"),N=G(),z(F.$$.fragment),M(n,"class","flex flex-row justify-center"),M(l,"class","flex flex-col text-sm text-nowrap gap-2"),M(c,"class","text-xs"),M(p,"class","text-xs"),M(u,"class","flex flex-col justify-center w-full text-center items-center gap-2"),M(W,"class","text-xs"),M(j,"class","text-xs"),M(V,"class",L="flex flex-col justify-center w-full text-center items-center gap-2 min-h-12 pb-2 rounded-xl "+(t[0].economyAndLaws.tax_rate===0?"bg-textDanger1 animate-pulse font-bold":"")),M(s,"class","flex flex-col gap-6 rounded-xl text-center justify-center"),M(r,"class","flex flex-col justify-between gap-4 text-foregroundText h-full pb-12"),M(e,"class",K="bg-foreground w-[160px] sidebar border-foregroundDark border-4 "+(t[2].visible?"bottom-8 opacity-70":"bottom-2")+" z-10 fixed right-3 top-[190px] rounded-xl p-2 transition-all duration-300")},m(H,te){I(H,e,te),v(e,n),Z(o,n,null),v(e,i),v(e,r),v(r,l);for(let ie=0;ie<m.length;ie+=1)m[ie]&&m[ie].m(l,null);v(r,a),v(r,s),v(s,u),v(u,f),v(f,c),v(f,d),v(f,p),v(p,h),v(p,y),v(p,b),v(u,A),Z(w,u,null),v(s,D),v(s,V),v(V,E),v(E,W),v(E,B),v(E,j),v(j,X),v(j,g),v(j,C),v(V,N),Z(F,V,null),x=!0},p(H,[te]){const ie={};if(te&65536&&(ie.$$scope={dirty:te,ctx:H}),o.$set(ie),te&34){J=Je(H[1]);let ce;for(ce=0;ce<J.length;ce+=1){const Ne=sc(H,J,ce);m[ce]?(m[ce].p(Ne,te),k(m[ce],1)):(m[ce]=cc(Ne),m[ce].c(),k(m[ce],1),m[ce].m(l,null))}for(Te(),ce=J.length;ce<m.length;ce+=1)R(ce);Ie()}(!x||te&1)&&_!==(_=st(H[0].townInfo.productivity,0)+"")&&se(y,_);const U={};te&1&&(U.value=[H[0].townInfo.productivity]),w.$set(U),(!x||te&1)&&P!==(P=st(H[0].economyAndLaws.tax_rate*100,0)+"")&&se(g,P);const ke={};te&1&&(ke.value=[H[0].economyAndLaws.tax_rate]),F.$set(ke),(!x||te&1&&L!==(L="flex flex-col justify-center w-full text-center items-center gap-2 min-h-12 pb-2 rounded-xl "+(H[0].economyAndLaws.tax_rate===0?"bg-textDanger1 animate-pulse font-bold":"")))&&M(V,"class",L),(!x||te&4&&K!==(K="bg-foreground w-[160px] sidebar border-foregroundDark border-4 "+(H[2].visible?"bottom-8 opacity-70":"bottom-2")+" z-10 fixed right-3 top-[190px] rounded-xl p-2 transition-all duration-300"))&&M(e,"class",K)},i(H){if(!x){k(o.$$.fragment,H);for(let te=0;te<J.length;te+=1)k(m[te]);k(w.$$.fragment,H),k(F.$$.fragment,H),x=!0}},o(H){S(o.$$.fragment,H),m=m.filter(Boolean);for(let te=0;te<m.length;te+=1)S(m[te]);S(w.$$.fragment,H),S(F.$$.fragment,H),x=!1},d(H){H&&T(e),Q(o),vt(m,H),Q(w),Q(F)}}}function lC(t){return["food","wood","stone","metal","power","knowledge"].includes(t)}function sC(t,e,n){let o,i;ae(t,Re,f=>n(0,o=f)),ae(t,tt,f=>n(2,i=f));function r(f){let c=o;c.economyAndLaws.tax_rate=st(f[0],2),Re.set(c),localStorage.setItem(Mt,JSON.stringify(c))}function l(f){let c=o;c.townInfo.productivity=st(f[0],2),Re.set(c),localStorage.setItem(Mt,JSON.stringify(c))}console.log(o.townInfo.knowledge_points_per_month);let a=[];function s(f){let c=[];for(let d=0;d<oe.length;d++)(f!="knowledge"&&oe[d].requirements.resources[f]>0||f=="power"&&oe[d].active_costs.power>0||f=="knowledge"&&oe[d].requirements.knowledge>0)&&c.push(oe[d].title);return c}function u(f){return lC(f)?s(f):[]}return t.$$.update=()=>{t.$$.dirty&1&&n(1,a=[{icon:"🥕",name:"food",value:o.resources.food,rate:o.resource_rate.food},{icon:"🪵",name:"wood",value:o.resources.wood,rate:o.resource_rate.wood},{icon:"🪨",name:"stone",value:o.resources.stone,rate:o.resource_rate.stone},{icon:"🧠",name:"knowledge",value:o.townInfo.knowledge_points,rate:o.townInfo.knowledge_points_per_month!=null?o.townInfo.knowledge_points_per_month/4:0},{icon:"🧲",name:"metal",value:o.resources.metal,rate:o.resource_rate.metal},{icon:"🔋",name:"power",value:o.resources.power+" (surplus)",rate:null},{icon:"🧑‍⚖️",name:"bureaucracy",value:o.resources.bureaucracy,rate:o.resource_rate.bureaucracy}])},[o,a,i,r,l,u]}class aC extends we{constructor(e){super(),ye(this,e,sC,rC,fe,{})}}function uC(t){let e,n,o,i,r,l,a,s,u,f,c,d,p;return o=new _3({}),l=new V3({}),s=new q3({}),f=new aC({}),d=new xd({}),{c(){e=O("div"),n=O("div"),z(o.$$.fragment),i=G(),r=O("div"),z(l.$$.fragment),a=G(),z(s.$$.fragment),u=G(),z(f.$$.fragment),c=G(),z(d.$$.fragment),M(r,"class","flex flex-row text-foregroundText"),M(e,"class","flex flex-col max-h-[100%] justify-between")},m(h,_){I(h,e,_),v(e,n),Z(o,n,null),v(e,i),v(e,r),Z(l,r,null),v(r,a),Z(s,r,null),v(r,u),Z(f,r,null),v(r,c),Z(d,r,null),p=!0},p:Ae,i(h){p||(k(o.$$.fragment,h),k(l.$$.fragment,h),k(s.$$.fragment,h),k(f.$$.fragment,h),k(d.$$.fragment,h),p=!0)},o(h){S(o.$$.fragment,h),S(l.$$.fragment,h),S(s.$$.fragment,h),S(f.$$.fragment,h),S(d.$$.fragment,h),p=!1},d(h){h&&T(e),Q(o),Q(l),Q(s),Q(f),Q(d)}}}function fC(t,e,n){return ae(t,Re,o=>n(0,o)),[]}class cC extends we{constructor(e){super(),ye(this,e,fC,uC,fe,{})}}function dC(t){let e;return{c(){e=$("Welcome to Plots!")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function mC(t){let e,n,o,i,r=t[0].townInfo.name+"",l,a,s,u,f,c,d,p,h,_,y,b,A,w,D,V,E,W,B,j,X,P,g,C,N,F,L,K,x,J;return p=new bt({props:{class:"bg-white mt-2 mb-1"}}),b=new bt({props:{class:"bg-white mt-2 mb-1"}}),V=new bt({props:{class:"bg-white mt-2 mb-1"}}),j=new bt({props:{class:"bg-white mt-2 mb-1"}}),{c(){e=O("div"),n=O("p"),o=$(`You come across a large amount of land, and you decide to start a
            town called `),i=O("span"),l=$(r),a=$("."),s=G(),u=O("div"),f=O("p"),f.textContent="To run a successful town, you will need to have:",c=G(),d=O("ul"),z(p.$$.fragment),h=G(),_=O("li"),_.textContent=`👥 People - build homes and they will stay as long as they are
                happy.`,y=G(),z(b.$$.fragment),A=G(),w=O("li"),w.textContent=`🪵 Resources - generated by some plots and used to build others.
                some plots require sustained weekly resources (such as needing
                wood to heat homes)`,D=G(),z(V.$$.fragment),E=G(),W=O("li"),W.textContent=`💰 Gold - generated by plots through tax revenue. most plots
                make the town some amount of money but some cost a lot to
                operate.`,B=G(),z(j.$$.fragment),X=G(),P=O("p"),P.innerHTML=`The town&#39;s key metrics are <span class="font-bold text-textHappyDark">Happiness</span>
            and <span class="font-bold text-textHappyDark">Health</span>, shown
            in the top-left corner.`,g=G(),C=O("p"),C.textContent=`These metrics are affected by the plots you build. Some plots may
            not always increase happiness, and some could even be harmful enough
            to tear down an otherwise great town.`,N=G(),F=O("p"),F.textContent="Be cautious and make sure to hover over plots before you buy them.",L=G(),K=O("img"),M(i,"class","font-bold text-accent"),M(d,"class","list-desc"),nm(K.src,x="welcome_example_plot.png")||M(K,"src",x),M(K,"class","max-w-[60%] object-fit"),M(e,"class","flex flex-col gap-3 max-h-[50vh] overflow-y-scroll")},m(m,R){I(m,e,R),v(e,n),v(n,o),v(n,i),v(i,l),v(i,a),v(e,s),v(e,u),v(u,f),v(u,c),v(u,d),Z(p,d,null),v(d,h),v(d,_),v(d,y),Z(b,d,null),v(d,A),v(d,w),v(d,D),Z(V,d,null),v(d,E),v(d,W),v(d,B),Z(j,d,null),v(e,X),v(e,P),v(e,g),v(e,C),v(e,N),v(e,F),v(e,L),v(e,K),J=!0},p(m,R){(!J||R&1)&&r!==(r=m[0].townInfo.name+"")&&se(l,r)},i(m){J||(k(p.$$.fragment,m),k(b.$$.fragment,m),k(V.$$.fragment,m),k(j.$$.fragment,m),J=!0)},o(m){S(p.$$.fragment,m),S(b.$$.fragment,m),S(V.$$.fragment,m),S(j.$$.fragment,m),J=!1},d(m){m&&T(e),Q(p),Q(b),Q(V),Q(j)}}}function pC(t){let e,n,o,i;return e=new rs({props:{class:"",$$slots:{default:[dC]},$$scope:{ctx:t}}}),o=new us({props:{$$slots:{default:[mC]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment),n=G(),z(o.$$.fragment)},m(r,l){Z(e,r,l),I(r,n,l),Z(o,r,l),i=!0},p(r,l){const a={};l&524288&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&524289&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),Q(e,r),Q(o,r)}}}function _C(t){let e;return{c(){e=$("Get started")},m(n,o){I(n,e,o)},d(n){n&&T(e)}}}function hC(t){let e,n;return e=new _d({props:{class:"bg-button rounded-2xl text-foregroundText px-4 py-2 hover:rounded-lg transition-all duration-300",$$slots:{default:[_C]},$$scope:{ctx:t}}}),e.$on("click",t[5]),{c(){z(e.$$.fragment)},m(o,i){Z(e,o,i),n=!0},p(o,i){const r={};i&524288&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Q(e,o)}}}function gC(t){let e,n,o,i;return e=new ss({props:{$$slots:{default:[pC]},$$scope:{ctx:t}}}),o=new ls({props:{$$slots:{default:[hC]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment),n=G(),z(o.$$.fragment)},m(r,l){Z(e,r,l),I(r,n,l),Z(o,r,l),i=!0},p(r,l){const a={};l&524289&&(a.$$scope={dirty:l,ctx:r}),e.$set(a);const s={};l&524288&&(s.$$scope={dirty:l,ctx:r}),o.$set(s)},i(r){i||(k(e.$$.fragment,r),k(o.$$.fragment,r),i=!0)},o(r){S(e.$$.fragment,r),S(o.$$.fragment,r),i=!1},d(r){r&&T(n),Q(e,r),Q(o,r)}}}function bC(t){let e,n;return e=new as({props:{class:"bg-foregroundDark text-foregroundText",$$slots:{default:[gC]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment)},m(o,i){Z(e,o,i),n=!0},p(o,i){const r={};i&524289&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Q(e,o)}}}function vC(t){let e,n;return e=new fs({props:{open:t[1],$$slots:{default:[bC]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment)},m(o,i){Z(e,o,i),n=!0},p(o,[i]){const r={};i&2&&(r.open=o[1]),i&524289&&(r.$$scope={dirty:i,ctx:o}),e.$set(r)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Q(e,o)}}}function yC(t,e,n){let o,i,r,l;ae(t,nn,p=>n(7,o=p)),ae(t,Re,p=>n(0,i=p)),ae(t,zi,p=>n(4,r=p)),ae(t,pl,p=>n(1,l=p)),ht[i.endGoal],Ul[i.difficulty],it.sort((p,h)=>f(p.id)&&!f(h.id)?-1:!f(p.id)&&f(h.id)?1:0),it.filter(p=>f(p.id));function s(p){const h=o.achievements.find(_=>_[0]==p);return h==null?!1:h[3]}let u=it;function f(p){return o.achievements==null?!1:o.achievements.find(h=>h[0]==p)!=null}function c(){zi.update(p=>!p),localStorage.setItem("showCompletedAchievements",localStorage.getItem("showCompletedAchievements")==="true"?"false":"true")}localStorage.getItem("pauseMenuTab")==null&&(localStorage.setItem("pauseMenuTab","game"),Tc.set("game"));const d=()=>{pl.set(!1)};return t.$$.update=()=>{if(t.$$.dirty&25&&i)if(r)n(3,u=it);else{n(3,u=[]);for(let p=0;p<it.length;p++)(!f(it[p].id)||!s(it[p].id))&&u.push(it[p])}},[i,l,c,u,r,d]}class wC extends we{constructor(e){super(),ye(this,e,yC,vC,fe,{toggleShowCompleted:2})}get toggleShowCompleted(){return this.$$.ctx[2]}}function dc(t){let e,n,o,i;const r=[CC,kC],l=[];function a(s,u){return s[0]==null?0:1}return e=a(t),n=l[e]=r[e](t),{c(){n.c(),o=De()},m(s,u){l[e].m(s,u),I(s,o,u),i=!0},p(s,u){let f=e;e=a(s),e===f?l[e].p(s,u):(Te(),S(l[f],1,1,()=>{l[f]=null}),Ie(),n=l[e],n?n.p(s,u):(n=l[e]=r[e](s),n.c()),k(n,1),n.m(o.parentNode,o))},i(s){i||(k(n),i=!0)},o(s){S(n),i=!1},d(s){s&&T(o),l[e].d(s)}}}function kC(t){let e,n,o,i,r,l,a,s,u,f,c,d,p,h,_,y,b=t[2]==!0&&mc();n=new cC({}),i=new Cp({}),l=new wy({}),s=new Yy({}),f=new v4({}),d=new V4({});let A=t[0].environment.day==0&&t[3]&&pc();return{c(){b&&b.c(),e=G(),z(n.$$.fragment),o=G(),z(i.$$.fragment),r=G(),z(l.$$.fragment),a=G(),z(s.$$.fragment),u=G(),z(f.$$.fragment),c=G(),z(d.$$.fragment),p=G(),A&&A.c(),h=G(),_=O("style"),_.textContent=`body {
        margin-bottom: 0;
      }
      /* no visible scrollbars */
      #plot_grid::-webkit-scrollbar {
        display: none;
      }

      ::-webkit-scrollbar {
        width: 0px;
        background: transparent; /* make scrollbar transparent */
      }

      /* no scrollbars on firefox either */
      #plot_grid {
        scrollbar-width: none;
      }

      /* no scrollbars for IE/Edge */
      #plot_grid {
        -ms-overflow-style: none;
      }`},m(w,D){b&&b.m(w,D),I(w,e,D),Z(n,w,D),I(w,o,D),Z(i,w,D),I(w,r,D),Z(l,w,D),I(w,a,D),Z(s,w,D),I(w,u,D),Z(f,w,D),I(w,c,D),Z(d,w,D),I(w,p,D),A&&A.m(w,D),I(w,h,D),I(w,_,D),y=!0},p(w,D){w[2]==!0?b?D&4&&k(b,1):(b=mc(),b.c(),k(b,1),b.m(e.parentNode,e)):b&&(Te(),S(b,1,1,()=>{b=null}),Ie()),w[0].environment.day==0&&w[3]?A?D&9&&k(A,1):(A=pc(),A.c(),k(A,1),A.m(h.parentNode,h)):A&&(Te(),S(A,1,1,()=>{A=null}),Ie())},i(w){y||(k(b),k(n.$$.fragment,w),k(i.$$.fragment,w),k(l.$$.fragment,w),k(s.$$.fragment,w),k(f.$$.fragment,w),k(d.$$.fragment,w),k(A),y=!0)},o(w){S(b),S(n.$$.fragment,w),S(i.$$.fragment,w),S(l.$$.fragment,w),S(s.$$.fragment,w),S(f.$$.fragment,w),S(d.$$.fragment,w),S(A),y=!1},d(w){w&&(T(e),T(o),T(r),T(a),T(u),T(c),T(p),T(h),T(_)),b&&b.d(w),Q(n,w),Q(i,w),Q(l,w),Q(s,w),Q(f,w),Q(d,w),A&&A.d(w)}}}function CC(t){let e,n;return e=new qy({}),{c(){z(e.$$.fragment)},m(o,i){Z(e,o,i),n=!0},p:Ae,i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Q(e,o)}}}function mc(t){let e,n;return e=new fy({}),{c(){z(e.$$.fragment)},m(o,i){Z(e,o,i),n=!0},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Q(e,o)}}}function pc(t){let e,n;return e=new wC({}),{c(){z(e.$$.fragment)},m(o,i){Z(e,o,i),n=!0},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){Q(e,o)}}}function AC(t){let e,n,o=(t[1]||t[0]==null)&&dc(t);return{c(){o&&o.c(),e=De()},m(i,r){o&&o.m(i,r),I(i,e,r),n=!0},p(i,[r]){i[1]||i[0]==null?o?(o.p(i,r),r&3&&k(o,1)):(o=dc(i),o.c(),k(o,1),o.m(e.parentNode,e)):o&&(Te(),S(o,1,1,()=>{o=null}),Ie())},i(i){n||(k(o),n=!0)},o(i){S(o),n=!1},d(i){i&&T(e),o&&o.d(i)}}}function SC(t,e,n){let o,i,r,l,a,s;ae(t,fo,d=>n(6,o=d)),ae(t,tt,d=>n(7,i=d)),ae(t,Pt,d=>n(2,r=d)),ae(t,Re,d=>n(0,l=d)),ae(t,Ho,d=>n(8,a=d)),ae(t,pl,d=>n(3,s=d));let u=!1;cy();let f=!1;document.addEventListener("keydown",d=>{if((document.activeElement!=null&&document.activeElement.nodeName==="INPUT"||document.activeElement!=null&&document.activeElement.nodeName=="TEXTAREA")&&d.key!=="Escape")return;switch(d.key.toLowerCase()){case"p":r==!0?Pt.set(!1):(Pt.set(!0),Pe(tt,i.visible=!1,i));break;case"escape":d.shiftKey?(Pe(Pt,r=!0,r),localStorage.setItem("reset","true"),location.reload(),Yl()):i.visible==!0&&Pe(tt,i.visible=!1,i);break}});function c(d,p,h){if(f==!0)switch(h){case"up":p-=2;break;case"down":p+=1;break;case"left":d-=2;break;case"right":d+=1;break}d<0?d=0:d>l.plots.length&&(d=l.plots.length),p<0?p=0:p>l.plots.length&&(p=l.plots.length);let _=document.querySelectorAll(".plot_container"),y;if(_.forEach(b=>{b.dataset.x=="$x"&&b.dataset.y=="$y"&&(y=b)}),r==!1){if(y.dataset.canBeUpgraded==="true"?Pe(tt,i.visible=!0,i):Pe(tt,i.visible=!1,i),y.dataset.refPlotX!==void 0&&y.dataset.refPlotY!=""?(f=!0,_.forEach(b=>{b.dataset.x==y.dataset.refPlotX&&b.dataset.y==y.dataset.refPlotY&&(y=b,d=parseInt(y.dataset.x),p=parseInt(y.dataset.y))})):f=!1,y.dataset.size!=="1"&&y.dataset.size!==void 0&&(f=!0),Pe(tt,i.x=d,i),Pe(tt,i.y=p,i),_.forEach(b=>{b.classList.remove("selected"),b.style.fontWeight=""}),y.classList.add("selected"),f){let b="4px solid #00800045";y.classList.remove("selected"),y.style.borderTop=b,y.style.borderLeft=b,y.style.fontWeight="600",_.forEach(A=>{const w=parseInt(`${A.dataset.x}`),D=parseInt(`${A.dataset.y}`);w==d+1&&D==p&&(A.style.borderLeft=b,A.style.borderBottom=b),w==d&&D==p+1&&(A.style.borderTop=b,A.style.borderRight=b),w==d+1&&D==p+1&&(A.style.borderBottom=b,A.style.borderRight=b)})}y.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),Pe(fo,o={},o)}}return t.$$.update=()=>{t.$$.dirty&1&&(l?(Pe(Ho,a.visible=!1,a),n(1,u=!0)):(Pe(Ho,a.visible=!0,a),n(1,u=!1)))},[l,u,r,s,c]}class TC extends we{constructor(e){super(),ye(this,e,SC,AC,fe,{openPlotMenu:4})}get openPlotMenu(){return this.$$.ctx[4]}}new TC({target:document.getElementById("app")});
